"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[66040],{66040:(e,a,t)=>{t.r(a),t.d(a,{default:()=>b});var s=t(72791);const l="CreateMaster_DModal__eSmTR",r="CreateMaster_title__V5f28",c="CreateMaster_btn__8XDZ1",n="CreateMaster_item__MjBgP",d="CreateMaster_subject_tile_container__FaUtF",i="CreateMaster_subject_tile__DIwTq",o="CreateMaster_subject_tile_active__m7kBe";var u=t(5574),_=t(39230),h=(t(7135),t(33992)),m=t(49384),j=t(57431),v=t(97655),x=t(80184);const b=function(e){let{departmentModal:a,hideModal:t,id:b,did:p}=e;const{t:M}=(0,_.$G)(),[C,g]=(0,s.useState)("Standard/Grade/Level Master"),[S,k]=(0,s.useState)(!1),[N,f]=(0,s.useState)(""),[Z,w]=(0,s.useState)(""),[y,L]=(0,s.useState)(""),[T,G]=(0,s.useState)(""),[q,F]=(0,s.useState)([]),D=e=>{g(e),w("")},[R]=(0,h.fA)(),{allSubjectMasterRefetch:B}=(0,h.wK)({data:{id:b,did:p},skip:b?!p:!b}),[O]=(0,h.ji)(),{allClassMasterRefetch:A}=(0,h.tx)({data:{id:b,did:p},skip:b?!p:!b});return(0,x.jsx)(u.Z,{open:a,children:(0,x.jsxs)("div",{className:l,children:[(0,x.jsxs)("div",{className:r,children:[(0,x.jsx)("h5",{children:M("create_new_master")}),(0,x.jsx)("img",{src:"/images/close-post-icon.svg",onClick:()=>t(!1),alt:""})]}),(0,x.jsxs)("div",{className:n,children:[(0,x.jsx)("h6",{children:M("create_master_header_1")}),(0,x.jsxs)("section",{className:d,children:[(0,x.jsx)("div",{className:"Standard/Grade/Level Master"===C?o:i,onClick:()=>D("Standard/Grade/Level Master"),children:"Standard/Grade/Level Master"}),(0,x.jsx)("div",{className:"Subject Master"===C?o:i,onClick:()=>D("Subject Master"),children:"Subject Master"})]})]}),(0,x.jsx)(v.Z,{labelText:M("create_master_header_2"),placeholder:M("e.g. 6th Class/ FYJC"),name:"subjectName",value:Z,type:"text",onChange:e=>{var a;(null===(a=e.target.value)||void 0===a?void 0:a.length)<=40&&w(e.target.value)},errorShow:N}),(0,x.jsx)(j.Z,{maxLength:40,valueLength:Z}),"Subject Master"===C?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(v.Z,{labelText:M("course_code"),placeholder:M("course_code_placeholder"),name:"course",value:y,type:"text",onChange:e=>L(e.target.value)}),(0,x.jsx)(v.Z,{labelText:M("co_count"),placeholder:M("co_count_placeholder"),name:"count",value:T,type:"text",onChange:e=>{G(e.target.value);let a=[];for(let t=0;t<+e.target.value;t++){let e={attainment_name:"CO".concat(t+1),attainment_type:"CO"};a.push(e)}F(a)}}),null===q||void 0===q?void 0:q.map(((e,a)=>(0,x.jsx)(v.Z,{labelText:M("co_name"),placeholder:M("co_name_placeholder"),name:e.attainment_name,value:e.attainment_name,type:"text",onChange:e=>((e,a)=>{const t=[...q];for(let s=0;s<(null===t||void 0===t?void 0:t.length);s++)s===a&&(t[s].attainment_name=e.target.value);F(t)})(e,a)},a)))]}):null,(0,x.jsxs)("button",{className:c,onClick:()=>{"Standard/Grade/Level Master"===C?Z?(k(!0),O({className:{className:Z},id:b,did:p}).then((e=>{null!==e&&void 0!==e&&e.data&&(t(!1),k(!1),w(""),A())})).catch({})):f({subjectName:"* required"}):"Subject Master"===C&&(Z?(k(!0),R({subject:{subjectName:Z,subjectType:"Mandatory",co_attainment_count:T,co_attainment_list:q,course_code:y},id:b,did:p}).then((e=>{null!==e&&void 0!==e&&e.data&&(t(!1),k(!1),B(),w(""))})).catch({})):f({subjectName:"* required"}))},disabled:S,children:[(0,x.jsx)("p",{children:M("create")}),S&&(0,x.jsx)("div",{children:(0,x.jsx)(m.Z,{})})]})]})})}},49384:(e,a,t)=>{t.d(a,{Z:()=>r});t(72791);var s=t(6307),l=t(80184);const r=()=>(0,l.jsx)(s.iT,{ariaLabel:"loading-indicator",height:20,width:20,color:"white",secondaryColor:"#1c023b"})},7135:()=>{}}]);
//# sourceMappingURL=66040.f8817df2.chunk.js.map