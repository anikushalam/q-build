"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[6299],{34219:function(e,n,i){i(72791);var t=i(11575),s=i(80184);n.Z=function(e){var n=e.customStyleContainer,i=e.title,a=e.subtitle,l=e.costomTextTitleStyle,o=e.costomTextSubtitleStyle;return(0,s.jsxs)("div",{className:t.Z.empty_container,style:n,children:[i&&(0,s.jsx)("h6",{style:l,children:i}),a&&(0,s.jsx)("p",{style:o,children:a})]})}},16299:function(e,n,i){i.r(n),i.d(n,{default:function(){return C}});var t=i(29439),s=i(93433),a=i(72791),l="Body_body__Xm3cr",o=i(1413),c="Item_item__+4OO3",d="Item_head__q927B",r="Item_text__ODFOX",u="Item_content__Pb5rV",v="Item_bookmark__3jn45",m=i(69721),h=i(72426),p=i.n(h),f=i(16871),g=i(43504),j=i(80184);var _=function(e){var n,i,t=e.data,s=(0,f.TH)(),a=(0,f.s0)(),l=(0,f.UO)();return(0,j.jsxs)("div",{className:c,onClick:function(){a("/q/".concat(l.username,"/notifications?a=announcement&n=detail"),{state:(0,o.Z)((0,o.Z)({},s.state),{},{annId:t._id})})},children:[(0,j.jsxs)("div",{className:d,children:[(0,j.jsx)(g.rU,{to:"/q/".concat(null===t||void 0===t||null===(n=t.institute)||void 0===n?void 0:n.name,"/profile"),onClick:function(e){e.stopPropagation()},children:(0,j.jsx)("img",{alt:"Announcement",src:null!==t&&void 0!==t&&t.institute.insProfilePhoto?"".concat(m.yI,"/").concat(null===t||void 0===t?void 0:t.institute.insProfilePhoto):"/images/ins_default_profile.svg"})}),(0,j.jsxs)("div",{className:r,children:[(0,j.jsx)("h6",{children:t&&(null===t||void 0===t?void 0:t.institute.name)}),(0,j.jsxs)("p",{children:[p()(null===t||void 0===t?void 0:t.createdAt).format("MMM Do YY")," |"," ",p()(null===t||void 0===t?void 0:t.createdAt).format("LT")]})]})]}),(0,j.jsx)("div",{className:u,children:(0,j.jsx)("p",{children:(0,j.jsx)("span",{children:null===t||void 0===t||null===(i=t.insAnnTitle)||void 0===i?void 0:i.substr(0,130)})})}),(0,j.jsx)("img",{className:v,src:"/images/bookmark-post.svg",alt:""})]})},x=i(23441),N=i(91007),y=i(11105),b=i(34219),D=i(95048);var I=function(){var e,n=(0,a.useState)([]),i=(0,t.Z)(n,2),o=i[0],c=i[1],d=(0,x.YD)(),r=(0,t.Z)(d,2),u=r[0],v=r[1],m=(0,a.useState)(!0),h=(0,t.Z)(m,2),p=h[0],f=h[1],g=(0,a.useState)(1),I=(0,t.Z)(g,2),k=I[0],T=I[1],A=(0,D.v9)((function(e){return e.idChange})),Z=(0,a.useState)(!0),w=(0,t.Z)(Z,2),C=w[0],S=w[1],P=(0,N.Im)({id:null===A||void 0===A?void 0:A.id,page:k,limit:10},{skip:!(null!==A&&void 0!==A&&A.id)}),Y=P.data,F=P.refetch;return(0,a.useEffect)((function(){null!==A&&void 0!==A&&A.id&&(S(!0),F())}),[null===A||void 0===A?void 0:A.id,k,F]),(0,a.useEffect)((function(){v&&p&&T((function(e){return e+1}))}),[v,p]),(0,a.useEffect)((function(){var e;if(null!==Y&&void 0!==Y&&Y.announcements){var n=[].concat((0,s.Z)(o),(0,s.Z)(null===Y||void 0===Y?void 0:Y.announcements)),i=(0,s.Z)(new Set(n.map(JSON.stringify))).map(JSON.parse);c(i),S(!1)}else 0===(null===Y||void 0===Y||null===(e=Y.announcements)||void 0===e?void 0:e.length)&&S(!1);10===(null===Y||void 0===Y?void 0:Y.announcements.length)?f(!0):f(!1)}),[null===Y||void 0===Y?void 0:Y.announcements]),(0,j.jsxs)("div",{className:l,children:[o.map((function(e,n){return(null===o||void 0===o?void 0:o.length)===n+1?(0,j.jsx)("div",{ref:u,children:(0,j.jsx)(_,{data:e||"",time:null===e||void 0===e?void 0:e.createdAt,date:null===e||void 0===e?void 0:e.createdAt,text:null===e||void 0===e?void 0:e.insAnnDescription})},n):(0,j.jsx)(_,{data:e||"",time:null===e||void 0===e?void 0:e.createdAt,date:null===e||void 0===e?void 0:e.createdAt,text:null===e||void 0===e?void 0:e.insAnnDescription})})),C&&(0,j.jsx)(y.Z,{}),!C&&!(null!==(e=Y.announcements)&&void 0!==e&&e.length)&&(0,j.jsx)(b.Z,{customStyleContainer:{marginTop:"5rem",height:"inherit"},title:"No announcement created yet."})]})},k={imgcontainer:"Details_imgcontainer__LhCve",eachposthead:"Details_eachposthead__21L6a",eachpostUserName:"Details_eachpostUserName__J0Qp6",eachpostUserTime:"Details_eachpostUserTime__haFjR",public:"Details_public__WJYXU",details:"Details_details__shTX2",tille:"Details_tille__Z0SzF",description:"Details_description__eDtds",hashTag:"Details_hashTag__nwFfC",hashtag:"Details_hashtag__EBjC7",loader:"Details_loader__doiOW",anndoc:"Details_anndoc__c1Wj2"},T=i(11968),A=i.n(T),Z=i(10307);var w=function(e){var n,i,t,s,l,o,c,d,r=e.annId,u=(0,f.s0)(),v=(0,N.Lr)(r,{skip:!r}),h=v.data,g=v.isFetching,_=v.refetch;return(0,a.useEffect)((function(){r&&_()}),[r,_]),(0,j.jsx)("div",{className:k.details,children:g?(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("div",{className:k.loader,children:(0,j.jsx)("img",{src:"/images/loader/loader-bg-white.gif",alt:""})})}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:k.eachposthead,style:{width:"100%",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,j.jsxs)("div",{className:k.eachposthead,style:{alignItems:"flex-start"},children:[(0,j.jsx)("div",{className:k.imgcontainer,children:(0,j.jsx)("img",{alt:"not found",src:"1"!==(null===h||void 0===h||null===(n=h.announcement)||void 0===n?void 0:n.institute.photoId)?"".concat(m.yI,"/").concat(null===h||void 0===h||null===(i=h.announcement)||void 0===i||null===(t=i.institute)||void 0===t?void 0:t.insProfilePhoto):"/images/ins_default_profile.svg"})}),(0,j.jsxs)("div",{className:k.eachpostUserName,children:[(0,j.jsx)("h6",{children:h&&h.announcement&&(null===(s=h.announcement.institute)||void 0===s?void 0:s.insName)}),(0,j.jsxs)("div",{className:k.eachpostUserTime,style:{display:"flex",gap:"0.5vw",alignItems:"center"},children:[(0,j.jsx)("p",{children:h&&p()(null===(l=h.announcement)||void 0===l?void 0:l.createdAt).format("DD-M-YYYY")}),"Private"===(null===h||void 0===h||null===(o=h.announcement)||void 0===o?void 0:o.insAnnVisibility)?(0,j.jsx)("img",{className:k.public,src:"/images/post-private-icon.svg",alt:"Private"}):(0,j.jsx)("img",{className:k.public,src:"/images/privacy-icon.svg",alt:"Public"})]})]})]}),(0,j.jsx)("img",{src:"/images/close-post-icon.svg",onClick:function(){u(-1)},alt:"close",style:{cursor:"pointer"}})]}),(0,j.jsxs)("div",{className:k.Container,children:[(0,j.jsx)("p",{className:k.tille,children:h&&(null===(c=h.announcement)||void 0===c?void 0:c.insAnnTitle)}),(0,j.jsx)("hr",{}),(0,j.jsxs)("p",{className:k.description,style:{whiteSpace:"break-spaces"},children:[h&&(null===(d=h.announcement)||void 0===d?void 0:d.insAnnDescription)," "]}),(0,j.jsx)("p",{className:k.description}),(0,j.jsx)("div",{className:k.documentContainer,children:(0,j.jsx)(A(),{className:"Example",autoPlay:!1,indicators:!0,navButtonsAlwaysVisible:!1,navButtonsAlwaysInvisible:!1,next:function(e,n){},prev:function(e,n){},onChange:function(e,n){},children:null===h||void 0===h?void 0:h.announcement.announcementDocument.map((function(e){return"image/jpeg"===e.documentType||"image/png"===e.documentType||(0,Z.Y)(null===e||void 0===e?void 0:e.documentKey)?(0,j.jsx)("div",{className:k.anndoc,children:(0,j.jsx)("img",{className:k.selectedImg,src:"".concat(m.yI,"/").concat(null===e||void 0===e?void 0:e.documentKey),alt:null===e||void 0===e?void 0:e.documentName,style:{width:"100%",height:"auto"}})}):(0,j.jsx)("div",{className:k.anndoc,children:(0,j.jsx)("a",{title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.documentKey),target:"_blank",rel:"noopener noreferrer",children:(0,j.jsx)("img",{className:k.selectedImg,src:"/images/pdf-icon.png",alt:null===e||void 0===e?void 0:e.documentName,style:{width:"100%",height:"auto"}})})})}))})})]})]})})};var C=function(){var e,n=(0,g.lr)(),i=(0,t.Z)(n,1)[0],s=(0,f.TH)();return(0,j.jsx)(j.Fragment,{children:i.get("n")?(0,j.jsx)(w,{annId:null===(e=s.state)||void 0===e?void 0:e.annId}):(0,j.jsx)(I,{})})}},10307:function(e,n,i){i.d(n,{Y:function(){return s}});var t=[".jpg",".jpeg",".jpe",".pjpeg",".pjp",".apng",".jif",".jfif",".jfi",".png",".gif",".webp",".tiff",".tif",".psd",".heif",".heic",".svg",".svgz",".ai",".eps",".avif"],s=function(e){for(var n=!1,i=0,s=t;i<s.length;i++){var a=s[i];if(null!==e&&void 0!==e&&e.includes(a)){n=!0;break}}return n}}}]);
//# sourceMappingURL=6299.037b92a2.chunk.js.map