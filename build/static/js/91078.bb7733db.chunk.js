"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[91078],{12923:(e,t,s)=>{s.d(t,{Ec:()=>S,Em:()=>j,JM:()=>v,NS:()=>o,Pg:()=>m,Q_:()=>x,RH:()=>h,Tv:()=>c,U_:()=>f,VN:()=>i,Wj:()=>d,ZS:()=>u,_8:()=>N,d5:()=>r,tB:()=>p,vI:()=>g,yx:()=>l,zO:()=>_});var n=s(91007),a=s(58208);const o=e=>{const{data:t,refetch:s}=(0,a.YD)(e.search,{skip:e.skip});return{instituteAllSearch:t,instituteAllSearchRefetch:s}},i=()=>{const[e]=(0,a.ak)();return[e]},l=()=>{const[e]=(0,a.WL)();return[e]},c=e=>{const{data:t,refetch:s}=(0,a.pH)(e.list,{skip:e.skip});return{instituteFollowList:t,instituteFollowListRefetch:s}},r=e=>{const{data:t,refetch:s}=(0,a.MG)(e.data,{skip:e.skip});return{instituteOwnFollowingList:t,instituteOwnFollowingListRefetch:s}},d=()=>{const[e]=(0,a.Ky)();return[e]},u=e=>{const{data:t,refetch:s}=(0,a.p8)(e.list);return{userFollowList:t,userFollowListRefetch:s}},h=e=>{const{data:t,refetch:s}=(0,a.Wv)(e);return{userFollowingList:t,userFollowingListRefetch:s}},v=e=>{const{data:t,refetch:s}=(0,a.sz)(e.search,{skip:e.skip});return{userAllSearch:t,userAllSearchRefetch:s}},m=()=>{const[e]=(0,a.Mk)();return[e]},_=()=>{const[e]=(0,a.$i)();return[e]},p=()=>{const[e]=(0,a.Do)();return[e]},f=()=>{const[e]=(0,a.He)();return[e]},x=()=>{const[e]=(0,a.vg)();return[e]},S=()=>{const[e]=(0,a.OO)();return[e]},N=e=>{const{data:t,refetch:s}=(0,a.N2)(e);return{userCircleList:t,userCircleListRefetch:s}},g=e=>{const{data:t,refetch:s}=(0,n.x6)(e.search,{skip:e.skip});return{assignSearchStaff:t,assignSearchStaffRefetch:s}},j=e=>{const{data:t,refetch:s}=(0,a.SJ)(e);return{universalUser:t,universalUserRefetch:s}}},49352:(e,t,s)=>{s.d(t,{Z:()=>l});s(72791);var n=s(69721),a=s(8227),o=s(34156),i=s(80184);const l=e=>{var t,s,l,c;let{mixin:r,onCloseSearch:d,username:u}=e;return(0,i.jsxs)(i.Fragment,{children:[(null===r||void 0===r?void 0:r.insName)&&(0,i.jsx)(a.Z,{institute:r,hideModal:d}),(null===r||void 0===r?void 0:r.staffFirstName)&&(0,i.jsx)(o.Z,{username:u,activeTab:"staff",imageShow:"".concat(n.yI,"/").concat(null===r||void 0===r?void 0:r.staffProfilePhoto),name:"".concat(null===r||void 0===r?void 0:r.staffFirstName," ").concat(null!==r&&void 0!==r&&r.staffMiddleName?null===r||void 0===r?void 0:r.staffMiddleName:""," ").concat(null===r||void 0===r?void 0:r.staffLastName),showBottomInfo:null===r||void 0===r?void 0:r.staffROLLNO,openType:{openId:null===r||void 0===r?void 0:r._id,asOpen:"staff"}}),(null===r||void 0===r?void 0:r.studentFirstName)&&(0,i.jsx)(o.Z,{username:u,activeTab:"student",imageShow:"".concat(n.yI,"/").concat(null===r||void 0===r?void 0:r.studentProfilePhoto),name:"".concat(null===r||void 0===r?void 0:r.studentFirstName," ").concat(null!==r&&void 0!==r&&r.studentMiddleName?null===r||void 0===r?void 0:r.studentMiddleName:""," ").concat(null===r||void 0===r?void 0:r.studentLastName),showBottomInfo:null===r||void 0===r?void 0:r.studentGRNO,openType:{openId:null===r||void 0===r?void 0:r._id,asOpen:"student"}}),(null===r||void 0===r?void 0:r.dName)&&(0,i.jsx)(o.Z,{username:u,activeTab:"department",imageShow:null!==r&&void 0!==r&&r.photo?"".concat(n.yI,"/").concat(null===r||void 0===r?void 0:r.photo):"/images/profileAndCover/department-profile-img.svg",name:null===r||void 0===r?void 0:r.dName,showBottomInfo:"".concat(null===r||void 0===r||null===(t=r.dHead)||void 0===t?void 0:t.staffFirstName," ").concat(null!==r&&void 0!==r&&null!==(s=r.dHead)&&void 0!==s&&s.staffMiddleName?null===r||void 0===r||null===(l=r.dHead)||void 0===l?void 0:l.staffMiddleName:""," ").concat(null===r||void 0===r||null===(c=r.dHead)||void 0===c?void 0:c.staffLastName),openType:{urlName:null===r||void 0===r?void 0:r.dName,openId:null===r||void 0===r?void 0:r._id,asOpen:"department"}})]})}},34156:(e,t,s)=>{s.d(t,{Z:()=>c});s(72791);var n=s(62926),a=s(43504),o=s(95048),i=s(48673),l=s(80184);const c=e=>{let{username:t,activeTab:s,imageShow:c,name:r,showBottomInfo:d,openType:u}=e;const h=(0,o.I0)(),v=()=>{"department"===(null===u||void 0===u?void 0:u.asOpen)&&h(i.S.addDepartmentId({did:null===u||void 0===u?void 0:u.openId}))};return(0,l.jsxs)("div",{className:n.Z.searchResult,children:[(0,l.jsx)(a.rU,{to:"department"===(null===u||void 0===u?void 0:u.asOpen)?"/q/".concat(null===u||void 0===u?void 0:u.urlName,"/viewdept"):"/q/".concat(t,"/").concat(s),state:{openType:u},onClick:v,children:(0,l.jsxs)("div",{className:n.Z.searchResultLeft,children:[(0,l.jsx)("img",{src:c,alt:"avatar icon"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h6",{children:r}),(0,l.jsx)("p",{children:d})]})]})}),(0,l.jsx)(a.rU,{to:"department"===(null===u||void 0===u?void 0:u.asOpen)?"/q/".concat(null===u||void 0===u?void 0:u.urlName,"/viewdept"):"/q/".concat(t,"/").concat(s),state:{openType:u},onClick:v,children:(0,l.jsx)("div",{className:n.Z.connectBtn,children:"View"})})]})}},8227:(e,t,s)=>{s.d(t,{Z:()=>m});var n=s(72791),a=s(95048),o=s(12923),i=s(16256),l=s(70092),c=s(48673),r=s(69721),d=s(43504),u=s(9447),h=s(62926),v=s(80184);const m=e=>{var t,s,m;let{institute:_,hideModal:p}=e;const f=(0,a.v9)((e=>e.idChange)),x=(0,a.v9)((e=>e.postChange.dashboardPosts)),S=(0,a.I0)(),[N]=(0,o.VN)(),[g]=(0,o.yx)(),{allDashPost:j,allDashPostRefetch:w}=(0,u.hZ)({data:{id:null===f||void 0===f?void 0:f.id,viewAs:i.UJ},skip:!1}),{instituteOwnFollowingList:k}=(0,o.d5)({page:1,id:null===_||void 0===_?void 0:_._id,limit:100}),{instituteFollowList:y,instituteFollowListRefetch:Z}=(0,o.Tv)({list:{page:1,id:null===_||void 0===_?void 0:_._id,limit:100}});(0,n.useEffect)((()=>{null!==j&&void 0!==j&&j.post&&S(l.p.followPost({post:null===j||void 0===j?void 0:j.post,profilePost:"dash"}))}),[null===j||void 0===j?void 0:j.post]);return(0,v.jsxs)("div",{className:h.Z.searchResult,children:[(0,v.jsx)(d.rU,{to:"/q/".concat(null===_||void 0===_?void 0:_.name,"/profile"),onClick:()=>{S(c.S.searchId({id:null===_||void 0===_?void 0:_._id,type:"ID"})),p(!1)},children:(0,v.jsxs)("div",{className:h.Z.searchResultLeft,children:[(0,v.jsx)("img",{src:"1"!==(null===_||void 0===_?void 0:_.photoId)?"".concat(r.yI,"/").concat(null===_||void 0===_?void 0:_.insProfilePhoto):"/images/ins_default_profile.svg",alt:""}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h6",{children:null===_||void 0===_?void 0:_.insName}),(0,v.jsx)("p",{children:null===_||void 0===_?void 0:_.name})]})]})}),null!==k&&void 0!==k&&null!==(t=k.following)&&void 0!==t&&t.some((e=>e._id===(null===f||void 0===f?void 0:f.id)))?(0,v.jsx)("div",{className:h.Z.connectBtn,children:"Block"}):null!==_&&void 0!==_&&null!==(s=_.follower)&&void 0!==s&&s.includes(f.id)||null!==y&&void 0!==y&&null!==(m=y.iFollowers)&&void 0!==m&&m.some((e=>e._id===f.id))?(0,v.jsx)("div",{className:h.Z.connectBtn,onClick:()=>{const e=(e=>{const t=[];for(let s=0;s<(null===x||void 0===x?void 0:x.length);s++)x[s].author!==e&&t.push(x[s]);return t})(null===_||void 0===_?void 0:_._id);S(l.p.unfollowPost({posts:e})),g({followId:null===_||void 0===_?void 0:_._id}).then((e=>{e.data.message&&Z()})).catch({})},children:"Unfollow"}):(0,v.jsx)("div",{className:h.Z.connectBtn,onClick:()=>{N({followId:null===_||void 0===_?void 0:_._id}).then((e=>{e.data.message&&(Z(),w())})).catch({})},children:"Follow"})]})}},91078:(e,t,s)=>{s.r(t),s.d(t,{default:()=>_});var n=s(72791),a=s(43504),o=s(39230),i=s(84489),l=s(3324),c=s(51615),r=s(95048),d=s(763),u=s(62926),h=s(12923),v=s(49352),m=s(80184);const _=e=>{var t;let{onCloseSearch:s,username:_}=e;const{t:p}=(0,o.$G)(),[f,x]=(0,n.useState)(""),S=(0,r.v9)((e=>e.idChange)),{instituteAllSearch:N,instituteAllSearchRefetch:g}=(0,h.NS)({skip:!f,search:{search:f,page:1,id:null===S||void 0===S?void 0:S.id,limit:6,filter:"all"}}),j=(0,n.useCallback)((0,d.debounce)((e=>x(e)),500),[]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.Z,{onClose:s}),(0,m.jsxs)(c.Z,{children:[(0,m.jsx)(l.Z,{setSearchQuery:e=>{j(e)},username:_,searchQuery:f,onClose:s}),(0,m.jsx)("hr",{className:u.Z.search_hr}),(0,m.jsxs)("div",{className:u.Z.search_result_container,children:[(0,m.jsxs)("div",{className:u.Z.search_result_container_heading,children:[(0,m.jsx)("p",{children:p("search_result")}),(0,m.jsx)(a.rU,{to:"/q/".concat(_,"/search"),state:{search:f},onClick:s,children:(0,m.jsx)("p",{children:p("view_all")})})]}),null===N||void 0===N||null===(t=N.universalArray)||void 0===t?void 0:t.map((e=>(0,m.jsx)(v.Z,{mixin:e,onCloseSearch:s,username:_},null===e||void 0===e?void 0:e._id)))]})]})]})}},51615:(e,t,s)=>{s.d(t,{Z:()=>l});s(72791);var n=s(54164),a=s(51857),o=s(80184);const i=e=>{let{customStyle:t,children:s}=e;return(0,o.jsx)("div",{className:a.Z.search_card,style:{...t},children:s})},l=e=>{let{children:t,customStyle:s}=e;return(0,o.jsx)(o.Fragment,{children:n.createPortal((0,o.jsx)(i,{children:t,customStyle:s}),document.getElementById("overlay"))})}},3324:(e,t,s)=>{s.d(t,{Z:()=>l});s(72791);var n=s(51857),a=s(16871),o=s(39230),i=s(80184);const l=e=>{let{width:t,searchQuery:s,setSearchQuery:l,username:c,onClose:r}=e;const d=(0,a.s0)(),{t:u}=(0,o.$G)();return(0,i.jsxs)("div",{className:n.Z.search_container,style:{width:"".concat(t)},children:[(0,i.jsx)("img",{alt:"search icon for question",src:"/images/left-nav-icon.svg",onClick:r,className:n.Z.search_container_back}),(0,i.jsxs)("div",{className:n.Z.search_container_text,children:[(0,i.jsx)("img",{className:n.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,i.jsx)("input",{type:"text",placeholder:u("search-label"),onChange:e=>l(e.target.value),onKeyUp:e=>{"Enter"!==e.key&&13!==e.keyCode||(r(),d("/q/".concat(c,"/search"),{state:{search:s}}))},autoFocus:!0})]})]})}},84489:(e,t,s)=>{s.d(t,{Z:()=>o});s(72791);var n=s(51857),a=s(80184);const o=e=>{let{onClose:t,customStyleBackdrop:s}=e;return(0,a.jsx)("div",{className:n.Z.search_backdrop,style:{...s},onClick:t})}},51857:(e,t,s)=>{s.d(t,{Z:()=>n});const n={search_backdrop:"SearchHeader_search_backdrop__MsKpG",search_card:"SearchHeader_search_card__-jNcg",search_container:"SearchHeader_search_container__NS7Om",search_container_text:"SearchHeader_search_container_text__bkolR",searchIcon:"SearchHeader_searchIcon__J7cNp",search_container_back:"SearchHeader_search_container_back__ZoXdV"}},62926:(e,t,s)=>{s.d(t,{Z:()=>n});const n={search_hr:"SearchStyle_search_hr__IuBiN",search_result_container:"SearchStyle_search_result_container__ZKsy6",search_result_container_heading:"SearchStyle_search_result_container_heading__EbGzG",searchResult:"SearchStyle_searchResult__wSSyA",searchResultLeft:"SearchStyle_searchResultLeft__+W4R0",connectBtn:"SearchStyle_connectBtn__VQuDg"}}}]);
//# sourceMappingURL=91078.bb7733db.chunk.js.map