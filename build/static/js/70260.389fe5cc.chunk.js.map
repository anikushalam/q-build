{"version":3,"file":"static/js/70260.389fe5cc.chunk.js","mappings":"wUAoBA,MAsLA,EAtL4BA,IAA2B,IAADC,EAAAC,EAAAC,EAAAC,EAAA,IAAzB,IAAEC,EAAG,YAAEC,GAAaN,EAC/C,MAAM,EAAEO,IAAMC,EAAAA,EAAAA,MACRC,GAAWC,EAAAA,EAAAA,MACXC,GAASC,EAAAA,EAAAA,MACTC,GAAWC,EAAAA,EAAAA,OACVC,EAAQC,IAAaC,EAAAA,EAAAA,UAAS,KAC9BC,EAAYC,IAAiBF,EAAAA,EAAAA,UAAS,KAEtCG,EAAMC,IAAWJ,EAAAA,EAAAA,UAAS,IAC1BK,EAAOC,IAAYN,EAAAA,EAAAA,WAAS,IAC5BO,EAAKC,IAAUC,EAAAA,EAAAA,IAAU,CAAEC,KAAMZ,KAElC,kCACJa,EAAiC,yCACjCC,EAAwC,yCACxCC,IACEC,EAAAA,EAAAA,IAAqC,CACvCC,KAAM,CACJ3B,IAAKA,EACLe,KAAMA,EACNa,MAAO,IACPlB,OAAQA,GAEVY,MAAOtB,KAET6B,EAAAA,EAAAA,YAAU,KACJT,GAAUH,GAAOD,GAASD,GAASA,EAAO,GAAE,GAC/C,CAACK,EAAQH,KACZY,EAAAA,EAAAA,YAAU,KAAO,IAADC,EACd,GAAqC,OAAjCP,QAAiC,IAAjCA,GAAuC,QAANO,EAAjCP,EAAmCQ,YAAI,IAAAD,GAAvCA,EAAyCE,OAAQ,CAAC,IAADC,EACnD,IAAIC,GAAMC,EAAAA,EAAAA,GAA0C,OAAjCZ,QAAiC,IAAjCA,GAAuC,QAANU,EAAjCV,EAAmCQ,YAAI,IAAAE,OAAN,EAAjCA,EAAyCD,QAC5Dd,GAAS,IAAMgB,GACjB,IACC,CAAkC,OAAjCX,QAAiC,IAAjCA,GAAuC,QAAN3B,EAAjC2B,EAAmCQ,YAAI,IAAAnC,OAAN,EAAjCA,EAAyCoC,SAU7C,MAwBMI,EAAYA,KAChBpB,GAAQ,IAAM,IACdL,EAAU,IACVc,GAA0C,EAGtCY,GAAaC,EAAAA,EAAAA,cAAY,KAAO,IAADC,EACnC,IAAIC,EAC4B,eAAhB,QAAdD,EAAAnC,EAASa,aAAK,IAAAsB,OAAA,EAAdA,EAAgBE,WAAyB,MAAAC,OAC/BpC,EAAOqC,SAAQ,qCAAAD,OACfpC,EAAOqC,SAAQ,2BAC3BnC,EAASgC,EAAK,CACZvB,MAAOb,EAASa,OAChB,GACD,CAACT,EAAUJ,EAASa,MAAOX,EAAOqC,WAGrC,OACEC,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACEC,EAAAA,EAAAA,MAACC,EAAAA,EAA0B,CAAAF,SAAA,EACzBF,EAAAA,EAAAA,KAACK,EAAAA,EAAwB,CAAAH,UACvBC,EAAAA,EAAAA,MAAA,OAAKG,UAAWC,EAAAA,EAAMC,oBAAoBN,SAAA,EACxCC,EAAAA,EAAAA,MAAA,OAAKG,UAAWC,EAAAA,EAAME,0BAA0BP,SAAA,EAC9CF,EAAAA,EAAAA,KAAA,OACEU,IAAI,cACJC,IAAG,GAAAb,OAAKc,EAAAA,GAAiB,aACzBL,MAAO,CACLM,OAAQ,OACRC,MAAO,QAETC,QAAStB,KAEXO,EAAAA,EAAAA,KAAA,MAAAE,SAAK5C,EAAE,gCAGT0C,EAAAA,EAAAA,KAAA,OAAKM,UAAWC,EAAAA,EAAMS,UAAUd,UAC9BF,EAAAA,EAAAA,KAAA,WAASM,UAAWC,EAAAA,EAAMU,oBAAoBf,UAC5CC,EAAAA,EAAAA,MAAA,OAAKG,UAAWC,EAAAA,EAAMW,0BAA0BhB,SAAA,EAC9CF,EAAAA,EAAAA,KAAA,OACEM,UAAWC,EAAAA,EAAMY,eACjBT,IAAI,cACJC,IAAG,GAAAb,OAAKsB,EAAAA,GAAgB,yBAE1BpB,EAAAA,EAAAA,KAAA,SACEqB,KAAK,OACLC,YAAahE,EAAE,UACfiE,SAtEKC,IAAO,IAADC,GAExB7C,IACgC,OAAjCD,QAAiC,IAAjCA,GAAuC,QAAN8C,EAAjC9C,EAAmCQ,YAAI,IAAAsC,OAAN,EAAjCA,EAAyCrC,SAAU,GAGnDlB,EAAcsD,EAAEE,OAAOC,MAKzB,EA4DgBC,QArDQJ,IACV,UAAVA,EAAEK,MACJzD,GAAQ,IAAM,IACdL,EAAUE,GACZ,EAkDgB0D,MAAO1D,iBAOnB+B,EAAAA,EAAAA,KAAC8B,EAAAA,EAAY,KAEb3B,EAAAA,EAAAA,MAACE,EAAAA,EAAwB,CACvB0B,YAAa,CACXC,WAAY,UACZ9B,SAAA,CAEgC,OAAjCvB,QAAiC,IAAjCA,GAAuC,QAAN1B,EAAjC0B,EAAmCQ,YAAI,IAAAlC,OAAN,EAAjCA,EAAyCgF,KAAI,CAACC,EAAaC,KAAK,IAAAC,EAAA,OAC9B,OAAjCzD,QAAiC,IAAjCA,GAAuC,QAANyD,EAAjCzD,EAAmCQ,YAAI,IAAAiD,OAAN,EAAjCA,EAAyChD,UAAW+C,EAAQ,GAC1DnC,EAAAA,EAAAA,KAAA,OAA4BzB,IAAKA,EAAI2B,UACnCF,EAAAA,EAAAA,KAACqC,EAAAA,EAAoB,CACnBH,YAAaA,EACb9E,IAAKA,EACLC,YAAaA,EACbmC,UAAWA,EACX8C,gBAAgB,iBANC,OAAXJ,QAAW,IAAXA,OAAW,EAAXA,EAAaK,MAUvBvC,EAAAA,EAAAA,KAACqC,EAAAA,EAAoB,CACnBH,YAAaA,EAEb9E,IAAKA,EACLC,YAAaA,EACbmC,UAAWA,EACX8C,gBAAgB,eAJA,OAAXJ,QAAW,IAAXA,OAAW,EAAXA,EAAaK,IAMrB,IAEF3D,EACCd,GACEkC,EAAAA,EAAAA,KAACwC,EAAAA,EAAY,KAEbxC,EAAAA,EAAAA,KAACyC,EAAAA,EAAO,IAER3E,EACkD,KAAnB,OAAjCa,QAAiC,IAAjCA,GAAuC,QAANzB,EAAjCyB,EAAmCQ,YAAI,IAAAjC,OAAN,EAAjCA,EAAyCkC,UACvCY,EAAAA,EAAAA,KAAC0C,EAAAA,EAAY,CACXC,qBAAsB,CACpBC,UAAW,UAEbC,MAAM,8CAI0C,KAAnB,OAAjClE,QAAiC,IAAjCA,GAAuC,QAANxB,EAAjCwB,EAAmCQ,YAAI,IAAAhC,OAAN,EAAjCA,EAAyCiC,UACvCY,EAAAA,EAAAA,KAAC0C,EAAAA,EAAY,CACXC,qBAAsB,CACpBC,UAAW,UAEbC,MAAM,mCAMf,C","sources":["optimized/UserStaffMember/AdmissionManager/CompleteApplication/CompleteApplication.jsx"],"sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\nimport Loading from \"../../../Loader/Loading\";\nimport QvipleLoader from \"../../../Loader/QvipleLoader\";\nimport {\n  assestsNavbarUrl,\n  assestsUtilityUrl,\n} from \"../../../Services/UrlConfig/AssestsBaseUrl\";\nimport UserMemberContainerWrapper from \"../../../Ui/UserMember/UserMemberContainerWrapper\";\nimport UserMemberContentWrapper from \"../../../Ui/UserMember/UserMemberContentWrapper\";\nimport EmptyMessage from \"../../../Utils/EmptyMessage/EmptyMessage\";\nimport style from \"../../FinanceManager/FinanceManager.module.css\";\nimport { useTranslation } from \"react-i18next\";\nimport { useInView } from \"react-intersection-observer\";\nimport { nextPage } from \"../../../Utils/Functions/nextPage\";\n// import { customDebounce } from \"../../../Utils/Functions/debounce\";\nimport BorderBottom from \"../../../Ui/Border/BorderBottom\";\nimport { useAdmissionCompletedApplicationList } from \"../../../Hooks/ApiHooks/AdmissionManager/admission-manager-api\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport OngoingAdmissionCard from \"../OngoingAdmission/OngoingAdmissionCard\";\n\nconst CompleteApplication = ({ aid, instituteId }) => {\n  const { t } = useTranslation();\n  const getQuery = useLocation();\n  const params = useParams();\n  const navigate = useNavigate();\n  const [search, setSearch] = useState(\"\");\n  const [searchCopy, setSearchCopy] = useState(\"\");\n\n  const [page, setPage] = useState(1);\n  const [state, setState] = useState(true);\n  const [ref, inView] = useInView({ skip: search });\n\n  const {\n    admissionCompletedApplicationList,\n    admissionCompletedApplicationListLoading,\n    admissionCompletedApplicationListRefetch,\n  } = useAdmissionCompletedApplicationList({\n    data: {\n      aid: aid,\n      page: page,\n      limit: 1000,\n      search: search,\n    },\n    skip: !aid,\n  });\n  useEffect(() => {\n    if (inView && state) setPage((page) => page + 1);\n  }, [inView, state]);\n  useEffect(() => {\n    if (admissionCompletedApplicationList?.list?.length) {\n      let obj = nextPage(admissionCompletedApplicationList?.list?.length);\n      setState(() => obj);\n    }\n  }, [admissionCompletedApplicationList?.list?.length]);\n\n  // const onDebounce = useCallback(\n  //   customDebounce((val) => {\n  //     setPage(() => 1);\n  //     setSearch(val);\n  //   }, 1500),\n  //   []\n  // );\n\n  const onSearchEvent = (e) => {\n    if (\n      !admissionCompletedApplicationListLoading &&\n      admissionCompletedApplicationList?.list?.length >= 0\n    ) {\n      // if (e.target.value) {\n      setSearchCopy(e.target.value);\n      // } else {\n      //   setSearchCopy(\"\");\n      //   setSearch(\"\");\n      // }\n    }\n    // if (e.target.value) onDebounce(e.target.value);\n    // else {\n    //   setPage(() => 1);\n    //   setSearch(\"\");\n    // }\n  };\n  const onCallBindSearch = (e) => {\n    if (e.key === \"Enter\") {\n      setPage(() => 1);\n      setSearch(searchCopy);\n    }\n  };\n  const onRefetch = () => {\n    setPage(() => 1);\n    setSearch(\"\");\n    admissionCompletedApplicationListRefetch();\n  };\n\n  const onNavigate = useCallback(() => {\n    let url =\n      getQuery.state?.urlOffSet === \"Institute\"\n        ? `/q/${params.username}/institute/member/admission`\n        : `/q/${params.username}/member/staff/admission`;\n    navigate(url, {\n      state: getQuery.state,\n    });\n  }, [navigate, getQuery.state, params.username]);\n\n  // console.info(\"s;lkfjdnjshk\");\n  return (\n    <>\n      <UserMemberContainerWrapper>\n        <UserMemberContentWrapper>\n          <div className={style.fm_header_container}>\n            <div className={style.fm_header_start_container}>\n              <img\n                alt=\"search icon\"\n                src={`${assestsUtilityUrl}/back.svg`}\n                style={{\n                  height: \"2rem\",\n                  width: \"2rem\",\n                }}\n                onClick={onNavigate}\n              />\n              <h6>{t(\"completed_applications\")}</h6>\n            </div>\n\n            <div className={style.fm_search}>\n              <section className={style.fm_search_container}>\n                <div className={style.fm_search_container_inner}>\n                  <img\n                    className={style.fm_search_icon}\n                    alt=\"search icon\"\n                    src={`${assestsNavbarUrl}/navbar-search.svg`}\n                  />\n                  <input\n                    type=\"text\"\n                    placeholder={t(\"search\")}\n                    onChange={onSearchEvent}\n                    onKeyUp={onCallBindSearch}\n                    value={searchCopy}\n                  />\n                </div>\n              </section>\n            </div>\n          </div>\n        </UserMemberContentWrapper>\n        <BorderBottom />\n\n        <UserMemberContentWrapper\n          customStyle={{\n            paddingTop: \"0.2rem\",\n          }}\n        >\n          {admissionCompletedApplicationList?.list?.map((application, index) =>\n            admissionCompletedApplicationList?.list?.length === index + 1 ? (\n              <div key={application?._id} ref={ref}>\n                <OngoingAdmissionCard\n                  application={application}\n                  aid={aid}\n                  instituteId={instituteId}\n                  onRefetch={onRefetch}\n                  isAuthorization=\"isCompleted\"\n                />\n              </div>\n            ) : (\n              <OngoingAdmissionCard\n                application={application}\n                key={application?._id}\n                aid={aid}\n                instituteId={instituteId}\n                onRefetch={onRefetch}\n                isAuthorization=\"isCompleted\"\n              />\n            )\n          )}\n          {admissionCompletedApplicationListLoading ? (\n            search ? (\n              <QvipleLoader />\n            ) : (\n              <Loading />\n            )\n          ) : search ? (\n            admissionCompletedApplicationList?.list?.length === 0 && (\n              <EmptyMessage\n                customStyleContainer={{\n                  marginTop: \"1.5rem\",\n                }}\n                title=\"No application found related this search.\"\n              />\n            )\n          ) : (\n            admissionCompletedApplicationList?.list?.length === 0 && (\n              <EmptyMessage\n                customStyleContainer={{\n                  marginTop: \"1.5rem\",\n                }}\n                title=\"No application created.\"\n              />\n            )\n          )}\n        </UserMemberContentWrapper>\n      </UserMemberContainerWrapper>\n    </>\n  );\n};\n\nexport default CompleteApplication;\n"],"names":["_ref","_admissionCompletedAp3","_admissionCompletedAp5","_admissionCompletedAp7","_admissionCompletedAp8","aid","instituteId","t","useTranslation","getQuery","useLocation","params","useParams","navigate","useNavigate","search","setSearch","useState","searchCopy","setSearchCopy","page","setPage","state","setState","ref","inView","useInView","skip","admissionCompletedApplicationList","admissionCompletedApplicationListLoading","admissionCompletedApplicationListRefetch","useAdmissionCompletedApplicationList","data","limit","useEffect","_admissionCompletedAp","list","length","_admissionCompletedAp2","obj","nextPage","onRefetch","onNavigate","useCallback","_getQuery$state","url","urlOffSet","concat","username","_jsx","_Fragment","children","_jsxs","UserMemberContainerWrapper","UserMemberContentWrapper","className","style","fm_header_container","fm_header_start_container","alt","src","assestsUtilityUrl","height","width","onClick","fm_search","fm_search_container","fm_search_container_inner","fm_search_icon","assestsNavbarUrl","type","placeholder","onChange","e","_admissionCompletedAp4","target","value","onKeyUp","key","BorderBottom","customStyle","paddingTop","map","application","index","_admissionCompletedAp6","OngoingAdmissionCard","isAuthorization","_id","QvipleLoader","Loading","EmptyMessage","customStyleContainer","marginTop","title"],"sourceRoot":""}