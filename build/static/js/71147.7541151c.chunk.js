"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[71147],{49804:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(72791),l=n(39230),o=n(23441),a=n(87338),s=n(11105),d=n(69721),c=n(15214),r=n(80184);const u=e=>{var t,n,i,l;let{warden:o}=e;return(0,r.jsxs)("div",{className:c.Z.hostel_warden_card,children:[(0,r.jsx)("img",{src:null!==o&&void 0!==o&&o.staffProfilePhoto?"".concat(d.yI,"/").concat(null===o||void 0===o?void 0:o.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""}),(0,r.jsxs)("div",{className:c.Z.warden_card_text,children:[(0,r.jsx)("h6",{children:"".concat(null!==(t=null===o||void 0===o?void 0:o.staffFirstName)&&void 0!==t?t:""," ").concat(null!==(n=null===o||void 0===o?void 0:o.staffMiddleName)&&void 0!==n?n:""," ").concat(null!==(i=null===o||void 0===o?void 0:o.staffLastName)&&void 0!==i?i:"")}),(0,r.jsx)("p",{children:null===o||void 0===o||null===(l=o.hostelUnitDepartment)||void 0===l?void 0:l.map(((e,t)=>{var n;return(0,r.jsxs)("span",{children:[0===t?"":", ",null!==(n=null===e||void 0===e?void 0:e.hostel_unit_name)&&void 0!==n?n:""]},null===e||void 0===e?void 0:e._id)}))})]})]})};var v=n(98094),_=n(763);const p=e=>{let{hid:t}=e;const{t:n}=(0,l.$G)(),[d,p]=(0,o.YD)(),[m,h]=(0,i.useState)(1),[g,x]=(0,i.useState)(!0),[f,j]=(0,i.useState)(!0),[S,A]=(0,i.useState)([]),[N,b]=(0,i.useState)(""),{getHostelWardenList:y,getHostelWardenListRefetch:C}=(0,a.kd)({data:{hid:t,page:m,limit:10,search:N},skip:!t});(0,i.useEffect)((()=>{t&&(j(!0),C())}),[t,m,N,C]),(0,i.useEffect)((()=>{p&&g&&h((e=>e+1))}),[p,g]),(0,i.useEffect)((()=>{var e,t;N?(A(null===y||void 0===y?void 0:y.all_wardens),j(!1)):null!==y&&void 0!==y&&y.all_wardens?(A((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===y||void 0===y?void 0:y.all_wardens])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),j(!1)):0===(null===y||void 0===y||null===(t=y.all_wardens)||void 0===t?void 0:t.length)&&j(!1);10===(null===y||void 0===y||null===(e=y.all_wardens)||void 0===e?void 0:e.length)?x(!0):x(!1)}),[null===y||void 0===y?void 0:y.all_wardens]);const Z=(0,i.useCallback)((0,_.debounce)((e=>b(e)),500),[]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:c.Z.with_search,children:[(0,r.jsx)("h6",{children:n("staff_room")}),(0,r.jsx)("section",{className:c.Z.search_container,children:(0,r.jsxs)("div",{className:c.Z.search_container_input,children:[(0,r.jsx)("img",{className:c.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,r.jsx)("input",{type:"text",placeholder:"Search warden...",onChange:e=>{Z(e.target.value)}})]})})]}),(0,r.jsx)(v.Z,{customStyle:{marginTop:"0.5rem",width:"100%"}}),null===S||void 0===S?void 0:S.map(((e,t)=>(null===S||void 0===S?void 0:S.length)===t+1?(0,r.jsx)("div",{ref:d,children:(0,r.jsx)(u,{warden:e})},null===e||void 0===e?void 0:e._id):(0,r.jsx)(u,{warden:e},null===e||void 0===e?void 0:e._id))),f&&(0,r.jsx)(s.Z,{})]})}},44241:(e,t,n)=>{n.d(t,{Z:()=>I});var i=n(72791),l=n(39230),o=n(16871),a=n(23441),s=n(11105),d=n(72426),c=n.n(d),r=n(98734),u=n(12072),v=n(84489),_=n(87049),p=n(97655),m=n(98094),h=n(80184);const g=e=>{var t;let{onEdit:n,xlsxId:o}=e;const{t:a}=(0,l.$G)(),[s,d]=(0,i.useState)(null!==(t=null===o||void 0===o?void 0:o.excel_file_name)&&void 0!==t?t:""),[c,r]=(0,i.useState)("");(0,i.useEffect)((()=>{var e;d(null!==(e=null===o||void 0===o?void 0:o.excel_file_name)&&void 0!==e?e:"")}),[null===o||void 0===o?void 0:o.excel_file_name]);return(0,h.jsxs)("div",{style:{width:"30rem",minHeight:"10rem",padding:"1rem"},children:[(0,h.jsx)("h6",{children:a("update_excel_name")}),(0,h.jsx)(m.Z,{customStyle:{width:"100%"}}),(0,h.jsx)(p.Z,{labelText:a("excel_name"),placeholder:a("excel_name_plcaeholder"),value:s,name:"excelName",type:"text",onChange:e=>d(e.target.value),errorShow:c.excelName}),(0,h.jsx)("button",{className:_.Z.xlsx_update_btn,title:"Add fees head",onClick:()=>{s?n(s):r({excelName:"excelName is required"})},style:{justifyContent:"center",marginTop:"1rem"},children:a("update")})]})};var x=n(87338);const f=e=>{let{onClose:t,xlsxId:n,onRefetch:l,hostelId:o}=e;const[a,s]=(0,i.useState)(!1),[d,c]=(0,i.useState)(!1),[p]=(0,x.xX)(),[m]=(0,x.ix)();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(v.Z,{onClose:t}),(0,h.jsxs)(u.Z,{customStyle:{zIndex:"1200"},children:[d?(0,h.jsx)(g,{xlsxId:n,onEdit:e=>{s((e=>!e)),p({hid:o,xlsxId:null===n||void 0===n?void 0:n._id,excelUpdate:{excel_file_name:e}}).then((()=>{l(),s((e=>!e)),t()})).catch({})}}):(0,h.jsxs)("div",{className:_.Z.edit_modal_container,style:{width:"200px"},children:[(0,h.jsx)("h6",{className:_.Z.edit,onClick:()=>c((e=>!e)),children:"Edit"}),(0,h.jsx)("h6",{className:_.Z.remove,onClick:()=>{s((e=>!e)),m({hid:o,xlsxId:null===n||void 0===n?void 0:n._id}).then((()=>{l(),t(),s((e=>!e))})).catch({})},children:"Delete"})]}),a&&(0,h.jsx)(r.Z,{})]})]})};var j=n(65543),S=n(29407),A=n(25313),N=n(36665),b=n(41233),y=n(87932),C=n(16256);const Z=e=>{let{hostelId:t,financeId:n,onClose:o,viewAs:a,onRefetch:s}=e;const{t:d}=(0,l.$G)(),[c,u]=(0,i.useState)(!1),[v,_]=(0,i.useState)({depart:"",fee_struct:""}),[p,m]=(0,i.useState)({gender:"",caste:"",is_all:""}),{getHostelUnitList:g,getHostelUnitListRefetch:f}=(0,x.RO)({data:{hid:t,page:1,limit:1e3,search:""},skip:!t}),{getAllFeesCategory:j,getAllFeesCategoryRefetch:S}=(0,y.Z)({fid:n,skip:!n}),[Z]=(0,x.V8)();(0,i.useEffect)((()=>{t&&f()}),[t,f]),(0,i.useEffect)((()=>{n&&S()}),[n,S]);return(0,h.jsxs)(N.Z,{onClose:o,children:[(0,h.jsxs)("div",{className:A.Z.filter_container,children:[(0,h.jsx)("h6",{className:A.Z.filter_title,children:d("filter_and_export_fees_data")}),(0,h.jsx)(b.Z,{selectLabel:d("select_unit"),selectedValue:d("all_select_particular_department"),options:null!==g&&void 0!==g&&g.all_units?["All",...null===g||void 0===g?void 0:g.all_units]:["All"],onClick:e=>{_((t=>({...t,depart:e})))}}),(0,h.jsx)(b.Z,{selectLabel:d("select_gender"),selectedValue:d("select_gender_placeholder"),options:["Male","Female","Other"],onClick:e=>{m((t=>({...t,gender:e})))}}),(0,h.jsx)(b.Z,{selectLabel:d("select_caste_catgory"),selectedValue:d("select_caste_catgory_placeholder"),options:C.De,onClick:e=>{m((t=>({...t,caste:e})))}}),(0,h.jsx)(b.Z,{selectLabel:d("select_fee_category"),selectedValue:d("select_fee_category_placeholder"),options:null!==j&&void 0!==j&&j.all_fees_format?[...null===j||void 0===j?void 0:j.all_fees_format]:[],onClick:e=>{_((t=>({...t,fee_struct:e})))}}),(0,h.jsx)(b.Z,{selectLabel:d("select_all_or_pending"),selectedValue:d("select_all_or_pending_placeholder"),options:["All Time Fees","Pending Fees"],onClick:e=>{m((t=>({...t,is_all:"All Time Fees"===e})))}}),(0,h.jsx)("button",{className:A.Z.next_btn,onClick:()=>{u((e=>!e)),Z({hid:t,...p,all_depart:"All"===v.depart?"All":"Particular",pendingData:{depart:"All"===v.depart?"":v.depart,fee_struct:"All"===v.depart?"":v.fee_struct}}).then((()=>{"EXPORT"===a&&(s(),o()),u((e=>!e))})).catch({})},children:d("export_data")})]}),c&&(0,h.jsx)(r.Z,{})]})},I=e=>{let{hostelId:t,instituteId:n}=e;const{t:d}=(0,l.$G)(),r=(0,o.s0)(),[u,v]=(0,a.YD)(),[_,p]=(0,i.useState)(1),[g,A]=(0,i.useState)(!0),[N,b]=(0,i.useState)(!1),[y,C]=(0,i.useState)(!0),[I,E]=(0,i.useState)([]),[R,w]=(0,i.useState)(!1),[P,T]=(0,i.useState)(!1),{getAllExcelByHostelManager:k,getAllExcelByHostelManagerRefetch:D}=(0,x.Xi)({data:{hid:t,page:_,limit:10},skip:!t}),{scrollToTop:L}=(0,j.u)();(0,i.useEffect)((()=>{L()}),[]),(0,i.useEffect)((()=>{t&&(C(!0),D())}),[t,_,D]),(0,i.useEffect)((()=>{v&&g&&p((e=>e+1))}),[v,g]),(0,i.useEffect)((()=>{var e,t;N?(E(null===k||void 0===k?void 0:k.all_excel),b(!1),C(!1)):null!==k&&void 0!==k&&k.all_excel?(E((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===k||void 0===k?void 0:k.all_excel])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),C(!1)):0===(null===k||void 0===k||null===(t=k.all_excel)||void 0===t?void 0:t.length)&&C(!1);10===(null===k||void 0===k||null===(e=k.all_excel)||void 0===e?void 0:e.length)?A(!0):A(!1)}),[null===k||void 0===k?void 0:k.all_excel]);const M=()=>{w((e=>!e))},O=()=>{p(1),D(),b(!0)};return(0,h.jsxs)("div",{className:S.Z.refund_container,style:{marginTop:"0"},children:[(0,h.jsxs)("section",{className:S.Z.refund_container_title,children:[(0,h.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{r(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,h.jsxs)("div",{className:S.Z.refund_container_title,style:{justifyContent:"space-between",width:"95%"},children:[(0,h.jsx)("h6",{children:d("data_export")}),(0,h.jsx)("img",{src:"/images/export-filter-icon.svg",alt:"",onClick:M,className:S.Z.admission_filter_icon})]})]}),(0,h.jsx)(m.Z,{customStyle:{width:"100%"}}),(0,h.jsxs)("div",{className:S.Z.refund_list,children:[null===I||void 0===I?void 0:I.map(((e,t)=>{var n,i;return(null===I||void 0===I?void 0:I.length)===t+1?(0,h.jsxs)("a",{ref:u,className:S.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,h.jsx)("img",{src:"/images/export-xsxl-icon.svg",alt:""}),(0,h.jsxs)("section",{className:S.Z.export_card_text,children:[(0,h.jsx)("h6",{children:null!==(n=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==n?n:""}),(0,h.jsxs)("div",{className:S.Z.export_card_date,children:[(0,h.jsx)("h6",{children:c()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,h.jsx)("h6",{children:c()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]}),(0,h.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:t=>{t.preventDefault(),T(e)},className:S.Z.menu_icon,title:"Menu"})]},null===e||void 0===e?void 0:e._id):(0,h.jsxs)("a",{className:S.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,h.jsx)("img",{src:"/images/export-xsxl-icon.svg",alt:""}),(0,h.jsxs)("section",{className:S.Z.export_card_text,children:[(0,h.jsx)("h6",{children:null!==(i=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==i?i:""}),(0,h.jsxs)("div",{className:S.Z.export_card_date,children:[(0,h.jsx)("h6",{children:c()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,h.jsx)("h6",{children:c()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]}),(0,h.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:t=>{t.preventDefault(),T(e)},className:S.Z.menu_icon,title:"Menu"})]},null===e||void 0===e?void 0:e._id)})),y&&(0,h.jsx)(s.Z,{}),R&&(0,h.jsx)(Z,{hostelId:t,financeId:n,onClose:M,viewAs:"EXPORT",onRefetch:O}),P&&(0,h.jsx)(f,{xlsxId:P,onClose:()=>T(""),onRefetch:O,hostelId:t})]})]})}},79541:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(72791),l=n(39230),o=n(23441),a=n(16871),s=n(87338),d=n(11105),c=n(98094),r=n(10406),u=n(80184);const v=e=>{var t,n;let{announcement:i}=e;return(0,u.jsxs)("div",{className:r.Z.announcement_card,children:[(0,u.jsx)("h6",{children:null!==(t=null===i||void 0===i?void 0:i.insAnnTitle)&&void 0!==t?t:""}),(0,u.jsx)("p",{children:null===i||void 0===i||null===(n=i.insAnnDescription)||void 0===n?void 0:n.substring(0,200)})]})};var _=n(1999),p=n(49384),m=n(90865);const h=e=>{let{hid:t,onRefetch:n,onClose:o}=e;const{t:a}=(0,l.$G)(),[d,r]=(0,i.useState)(),[v,h]=(0,i.useState)([]),[g,x]=(0,i.useState)([]),[f,j]=(0,i.useState)(!1),[S,A]=(0,i.useState)(!1),N=(0,i.useRef)(""),b=(0,i.useRef)(""),[y,C]=(0,i.useState)(""),[Z]=(0,s.zA)();(0,i.useEffect)((()=>{if(d){const e=[],t=[];for(let n in d)for(let i in d[n])"type"===i&&(d[n][i].includes("image/")?e.push(URL.createObjectURL(d[n])):t.push({name:d[n].name}));h(e),x(t)}}),[d]);const I=document.querySelector("textarea");null===I||void 0===I||I.addEventListener("keyup",(e=>{I.style.height="auto";let t=e.target.scrollHeight;I.style.height="".concat(t,"px")}));return(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,u.jsx)("h6",{children:a("new_announcement")}),(0,u.jsx)("img",{src:"/images/close-post-icon.svg",onClick:o,alt:"close icon",style:{cursor:"pointer"}})]}),(0,u.jsx)(c.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,u.jsx)(m.Z,{labelHeading:a("turn_announcement_private_only"),customContainer:{padding:"0"},customLabel:{fontWeight:"500"},checkedToggle:f,onToggleHandler:e=>{j(e.target.checked)}}),(0,u.jsxs)("div",{className:_.Z.postTitle,children:[(0,u.jsx)("input",{className:_.Z.input,type:"text",ref:N,required:!0,placeholder:a("title_announce")}),y.title_val&&(0,u.jsx)("div",{style:{color:"red"},children:"* announcement title required"})]}),(0,u.jsx)("div",{className:_.Z.postDesc,children:(0,u.jsx)("textarea",{className:_.Z.postTextarea,rows:"3",type:"text",required:!0,ref:b,name:"CreateInsPost",placeholder:a("description"),style:{border:"0.5px solid rgba(18, 18, 18, 0.3)",borderRadius:"6px"}})}),(0,u.jsxs)("div",{className:_.Z.listContainer,children:[v.length>0&&(0,u.jsx)("div",{className:_.Z.documentList,children:v.map(((e,t)=>(0,u.jsx)("img",{src:e,alt:""},t)))}),g.length>0&&(0,u.jsx)("div",{className:_.Z.pdfList,children:g.map(((e,t)=>(0,u.jsxs)("div",{className:_.Z.pdfPreview,children:[(0,u.jsx)("img",{src:"/images/pdf-icon.png",alt:""},t),(0,u.jsx)("p",{children:e.name})]})))})]}),(0,u.jsx)("label",{htmlFor:"document",style:{cursor:"pointer"},children:(0,u.jsx)("p",{className:_.Z.addfiles,children:a("add_files")})}),(0,u.jsx)("input",{className:_.Z.upload,multiple:!0,id:"document",name:"file",onChange:e=>{r(e.target.files)},type:"file",accept:"image/gif, image/jpeg, image/png,  application/pdf, application/msword"}),(0,u.jsxs)("button",{className:_.Z.btn,disabled:S,onClick:()=>{if(N.current.value){A(!0);const e=new FormData;e.append("insAnnTitle",N.current.value),e.append("insAnnDescription",b.current.value),e.append("insAnnVisibility",f?"Private":"Anyone");let i=0;for(let t in d)d[t].size&&(e.append("file".concat(i+1),d[t]),++i);e.append("announceCount",i),Z({hid:t,announcement:e}).then((()=>{n(),o(),N.current.value="",b.current.value="",A(!1)})).catch({})}else C({title_val:"*required"})},style:{marginTop:"0"},children:[(0,u.jsx)("p",{children:a("post")}),S&&(0,u.jsx)("div",{children:(0,u.jsx)(p.Z,{})})]})]})},g=e=>{var t,n,_,p;let{hid:m,carryParentState:g}=e;const{t:x}=(0,l.$G)(),f=(0,a.TH)(),[j,S]=(0,i.useState)(!1),[A,N]=(0,o.YD)(),[b,y]=(0,i.useState)(1),[C,Z]=(0,i.useState)(!0),[I,E]=(0,i.useState)(!0),[R,w]=(0,i.useState)([]),[P,T]=(0,i.useState)(!1),{getAnnouncementListByHostel:k,getAnnouncementListByHostelRefetch:D}=(0,s.Xc)({data:{hid:null!==m&&void 0!==m?m:null===(t=f.state)||void 0===t?void 0:t.hid,page:b,limit:10},skip:m?!m:!(null!==(n=f.state)&&void 0!==n&&n.hid)});(0,i.useEffect)((()=>{var e;(m||null!==(e=f.state)&&void 0!==e&&e.hid)&&(E(!0),D())}),[m,null===(_=f.state)||void 0===_?void 0:_.hid,b,D]),(0,i.useEffect)((()=>{N&&C&&y((e=>e+1))}),[N,C]),(0,i.useEffect)((()=>{var e,t;P?(w(null===k||void 0===k?void 0:k.announcement),E(!1),T(!1)):null!==k&&void 0!==k&&k.announcement?(w((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===k||void 0===k?void 0:k.announcement])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),E(!1)):0===(null===k||void 0===k||null===(t=k.announcement)||void 0===t?void 0:t.length)&&E(!1);10===(null===k||void 0===k||null===(e=k.announcement)||void 0===e?void 0:e.length)?Z(!0):Z(!1)}),[null===k||void 0===k?void 0:k.announcement]);const L=()=>{S((e=>!e))};return(0,u.jsxs)(u.Fragment,{children:[!j&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:r.Z.with_search,children:(0,u.jsx)("h6",{children:x("hostel_announcement")})}),(0,u.jsx)(c.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),"HOSTEL_UNIT_TAB"===(null===(p=f.state)||void 0===p?void 0:p.viewNotice)?"":(0,u.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,u.jsx)("p",{className:r.Z.add_new_category,onClick:L,children:x("create_new_announcement")})}),null===R||void 0===R?void 0:R.map(((e,t)=>(null===R||void 0===R?void 0:R.length)===t+1?(0,u.jsx)("div",{ref:A,children:(0,u.jsx)(v,{announcement:e})},null===e||void 0===e?void 0:e._id):(0,u.jsx)(v,{announcement:e},null===e||void 0===e?void 0:e._id))),I&&(0,u.jsx)(d.Z,{})]}),j&&(0,u.jsx)(h,{onClose:L,hid:m,onRefetch:()=>{y(1),T(!0),E(!0),D()}})]})}},72441:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var i=n(72791),l=n(39230),o=n(87338),a=n(98734),s=n(36665),d=n(87457),c=n(80184);const r=e=>{let{onClose:t,onRefetchWhenSelect:n,applicationId:r,studentId:u,viewAs:v}=e;const{t:_}=(0,l.$G)(),[p,m]=(0,i.useState)(!1),[h]=(0,o.QC)(),[g]=(0,o.xp)();return(0,c.jsx)(s.Z,{onClose:t,children:(0,c.jsxs)("div",{className:d.Z.add_category_modal,style:{width:"23rem",height:"10rem"},children:[(0,c.jsxs)("div",{className:d.Z.add_category_modal_title,children:[(0,c.jsx)("h6",{children:_("RENEWAL"===v?"cancl_student_renewal_request":"cancel_student_hostel_request")}),(0,c.jsx)("img",{src:"/images/close-post-icon.svg",onClick:t,alt:"close"})]}),(0,c.jsx)("button",{className:d.Z.set_fees_structure_btn,title:"Cancel Request",onClick:()=>{""!==u&&""!==r&&(m((e=>!e)),"RENEWAL"===v?g({sid:u,huid:r}).then((()=>{n(),t(),m((e=>!e))})).catch({}):h({sid:u,aid:r}).then((()=>{n(),t(),m((e=>!e))})).catch({}))},style:{justifyContent:"center",marginTop:"4rem"},children:_("confirm")}),p&&(0,c.jsx)(a.Z,{})]})})}},34791:(e,t,n)=>{n.d(t,{Z:()=>Ce});var i=n(72791),l=n(39230),o=n(16871),a=n(98094),s=n(47167),d=n(10406),c=n(23441),r=n(87338),u=n(11105);const v="CompletedApplication_remainingFeesBottom__i9hlV",_="CompletedApplication_itemsContainer__UgcIF",p="CompletedApplication_item__RNB9g",m="CompletedApplication_subItem__zVdCT",h="CompletedApplication_text__deTcX";var g=n(22492),x=n(55271),f=n(80184);const j=e=>{var t,n,i,o;let{carryParentState:a,accessRole:s,accessTpye:d,callApi:c,pageOpenAs:r,data:u}=e;const{t:v}=(0,l.$G)();return(0,f.jsx)(f.Fragment,{children:"INSTITUTE"===r?(0,f.jsx)(g.Z,{carryParentState:{...a,applicationId:null===u||void 0===u?void 0:u._id},activeTab:"request&ongoing&n=application",children:(0,f.jsxs)("div",{className:p,children:[(0,f.jsxs)("div",{className:m,children:[(0,f.jsx)("img",{alt:"Completed App",src:"/images/admision-application-icon.svg"}),(0,f.jsxs)("div",{className:h,children:[(0,f.jsx)("h6",{children:null===u||void 0===u?void 0:u.applicationName}),(0,f.jsx)("p",{style:{marginBottom:"0"},children:null!==(t=null===u||void 0===u||null===(n=u.applicationUnit)||void 0===n?void 0:n.hostel_unit_name)&&void 0!==t?t:""})]})]}),(0,f.jsx)("div",{className:h,children:(0,f.jsxs)("div",{className:h,children:[(0,f.jsx)("h6",{children:null===u||void 0===u?void 0:u.allotCount}),(0,f.jsx)("p",{style:{marginBottom:"0"},children:v("alloted")})]})})]})}):(0,f.jsx)(x.Z,{carryParentState:{...a,applicationId:null===u||void 0===u?void 0:u._id},activeTab:"request&ongoing&n=application",accessRole:s,accessTpye:d,callApi:c,children:(0,f.jsxs)("div",{className:p,children:[(0,f.jsxs)("div",{className:m,children:[(0,f.jsx)("img",{alt:"Completed App",src:"/images/admision-application-icon.svg"}),(0,f.jsxs)("div",{className:h,children:[(0,f.jsx)("h6",{children:null===u||void 0===u?void 0:u.applicationName}),(0,f.jsx)("p",{style:{marginBottom:"0"},children:null!==(i=null===u||void 0===u||null===(o=u.applicationUnit)||void 0===o?void 0:o.hostel_unit_name)&&void 0!==i?i:""})]})]}),(0,f.jsx)("div",{className:h,children:(0,f.jsxs)("div",{className:h,children:[(0,f.jsx)("h6",{children:null===u||void 0===u?void 0:u.allotCount}),(0,f.jsx)("p",{style:{marginBottom:"0"},children:v("alloted")})]})})]})})})};var S=n(65543);const A=e=>{let{hid:t,carryParentState:n,accessRole:l,accessApplication:o,accessTpye:a,callApi:s,pageOpenAs:d}=e;const[p,m]=(0,i.useState)(!0),[h,g]=(0,i.useState)(1),[x,A]=(0,c.YD)(),[N,b]=(0,i.useState)(!0),[y,C]=(0,i.useState)([]),{scrollToTop:Z}=(0,S.u)(),{getCompletedApplicationList:I,getCompletedApplicationListRefetch:E}=(0,r.KB)({data:{hid:t,page:h,limit:10},skip:!t});return(0,i.useEffect)((()=>{Z()}),[]),(0,i.useEffect)((()=>{A&&p&&g((e=>e+1))}),[A,p]),(0,i.useEffect)((()=>{t&&(b(!0),E())}),[h,t,E]),(0,i.useEffect)((()=>{var e,t;null!==I&&void 0!==I&&I.completed?(C((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===I||void 0===I?void 0:I.completed])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),b(!1)):0===(null===I||void 0===I||null===(e=I.completed)||void 0===e?void 0:e.length)&&b(!1),10===(null===I||void 0===I||null===(t=I.completed)||void 0===t?void 0:t.length)?m(!0):m(!1)}),[null===I||void 0===I?void 0:I.completed]),(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:v,children:(0,f.jsxs)("div",{className:_,children:[null===y||void 0===y?void 0:y.map(((e,t)=>(null===y||void 0===y?void 0:y.length)===t+1?(0,f.jsx)("div",{ref:x,children:(0,f.jsx)(j,{data:e,carryParentState:n,accessRole:l,accessTpye:a,callApi:s,accessApplication:o,pageOpenAs:d})},t):(0,f.jsx)(j,{data:e,carryParentState:n,accessRole:l,accessTpye:a,callApi:s,accessApplication:o,pageOpenAs:d},t))),N&&(0,f.jsx)(u.Z,{})]})})})};var N=n(73032),b=n(85753),y=n(5574),C=n(51561),Z=n(98734),I=n(9490);const E=function(e){var t,n,a,s,d,c,u,v,_,p,m,h,g,x,j,S,A;let{viewDetail:E,hideModal:R,applicationDetail:w,completeApplication:P,carryParentState:T,applicationDetailApplicablePending:k,pageOpenAs:D}=e;const{t:L}=(0,l.$G)(),M=new Date,O=(0,o.s0)(),F=(0,o.UO)(),[q,H]=(0,i.useState)(!1),[B,U]=(0,i.useState)({msg:"",run:!1}),[G,W]=(0,i.useState)(!1),[V,J]=(0,i.useState)(null===(t=M.toISOString())||void 0===t?void 0:t.substring(0,10)),[$]=(0,r.gv)(),{getDailyCollectionByAdmission:Y,getDailyCollectionByAdmissionRefetch:K}=(0,N.Ts)({data:{appId:null===w||void 0===w?void 0:w._id,valid_date:V},skip:!(null!==w&&void 0!==w&&w._id)});(0,i.useEffect)((()=>{null!==w&&void 0!==w&&w._id&&K()}),[null===w||void 0===w?void 0:w._id,K,V]);const X=()=>{H((e=>!e)),null!==w&&void 0!==w&&w._id?$({aid:null===w||void 0===w?void 0:w._id}).then((e=>{var t;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.complete_status?(H((e=>!e)),R(!1),O("/q/".concat(F.username,"INSTITUTE"===D?"/hostel":"/member/hostel"),{state:{...T}})):(U({msg:null===e||void 0===e?void 0:e.data.message,run:!0}),H((e=>!e)))})).catch({}):H((e=>!e))};return(0,f.jsxs)(y.Z,{open:E,onClose:()=>R(!1),children:[(0,f.jsxs)("div",{className:b.Z.addDisplay,children:[(0,f.jsxs)("div",{className:b.Z.title,children:[(0,f.jsx)("div",{}),(0,f.jsx)("h6",{style:{cursor:"pointer"},onClick:()=>W((e=>!e)),children:null===w||void 0===w?void 0:w.applicationName}),(0,f.jsx)("img",{src:"/images/close-post-icon.svg",onClick:()=>R(!1),alt:""})]}),(0,f.jsxs)("div",{className:b.Z.content,children:[(0,f.jsx)("div",{style:{padding:"1rem"},children:(0,f.jsx)(I.Z,{setValidDate:J})}),P&&!G&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:b.Z.content2,children:[(0,f.jsxs)("div",{className:b.Z.appinforow,children:[(0,f.jsx)("h6",{children:L("total_received_application")}),(0,f.jsx)("h6",{children:null!==(n=null===Y||void 0===Y||null===(a=Y.day_wise)||void 0===a?void 0:a.request_count)&&void 0!==n?n:0})]}),(0,f.jsxs)("div",{className:b.Z.appinforow,children:[(0,f.jsx)("h6",{children:L("total_selected_application")}),(0,f.jsx)("h6",{children:null!==(s=null===Y||void 0===Y||null===(d=Y.day_wise)||void 0===d?void 0:d.select_count)&&void 0!==s?s:0})]}),(0,f.jsxs)("div",{className:b.Z.appinforow,children:[(0,f.jsx)("h6",{children:L("total_confirmed_application")}),(0,f.jsx)("h6",{children:null!==(c=null===Y||void 0===Y||null===(u=Y.day_wise)||void 0===u?void 0:u.confirm_count)&&void 0!==c?c:0})]}),(0,f.jsxs)("div",{className:b.Z.appinforow,children:[(0,f.jsx)("h6",{children:L("total_alloted_application")}),(0,f.jsxs)("h6",{children:[" ",null!==(v=null===Y||void 0===Y||null===(_=Y.day_wise)||void 0===_?void 0:_.allot_count)&&void 0!==v?v:0]})]}),(0,f.jsxs)("div",{className:b.Z.appinforow,children:[(0,f.jsx)("h6",{children:L("total_cancelled_application")}),(0,f.jsxs)("h6",{children:[" ",null!==(p=null===Y||void 0===Y||null===(m=Y.day_wise)||void 0===m?void 0:m.cancel_count)&&void 0!==p?p:0]})]})]}),(0,f.jsxs)("div",{className:b.Z.content3,children:[(0,f.jsxs)("div",{className:b.Z.appinforow1,children:[(0,f.jsx)("h6",{children:L("total_fees_received")}),(0,f.jsxs)("h6",{children:["Rs. ",null!==(h=null===Y||void 0===Y||null===(g=Y.day_wise)||void 0===g?void 0:g.paid)&&void 0!==h?h:0]})]}),(0,f.jsxs)("div",{className:"".concat(b.Z.appinforow2," ").concat(b.Z.appinforowred),children:[(0,f.jsx)("h6",{children:L("total_fees_pending")}),(0,f.jsxs)("h6",{children:["Rs. ",null!==(x=null===Y||void 0===Y||null===(j=Y.day_wise)||void 0===j?void 0:j.remain)&&void 0!==x?x:0]})]}),(0,f.jsxs)("div",{className:"".concat(b.Z.appinforow2," ").concat(b.Z.appinforowred),children:[(0,f.jsx)("h6",{children:L("total_applicable_fees_pending")}),(0,f.jsxs)("h6",{children:["Rs."," ",null!==(S=null===Y||void 0===Y||null===(A=Y.day_wise)||void 0===A?void 0:A.applicable_pending)&&void 0!==S?S:0]})]}),(0,f.jsx)("div",{className:b.Z.completeApplicationcontainer,children:(0,f.jsx)("div",{className:b.Z.completeApplication,onClick:X,children:L("complete_application")})})]})]}),P&&G&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:b.Z.content2,children:[(0,f.jsxs)("div",{className:b.Z.appinforow,children:[(0,f.jsx)("h6",{children:L("total_received_application")}),(0,f.jsx)("h6",{children:null===w||void 0===w?void 0:w.receievedCount})]}),(0,f.jsxs)("div",{className:b.Z.appinforow,children:[(0,f.jsx)("h6",{children:L("total_selected_application")}),(0,f.jsx)("h6",{children:null===w||void 0===w?void 0:w.selectCount})]}),(0,f.jsxs)("div",{className:b.Z.appinforow,children:[(0,f.jsx)("h6",{children:L("total_confirmed_application")}),(0,f.jsx)("h6",{children:null===w||void 0===w?void 0:w.confirmCount})]}),(0,f.jsxs)("div",{className:b.Z.appinforow,children:[(0,f.jsx)("h6",{children:L("total_alloted_application")}),(0,f.jsx)("h6",{children:null===w||void 0===w?void 0:w.allotCount})]}),(0,f.jsxs)("div",{className:b.Z.appinforow,children:[(0,f.jsx)("h6",{children:L("total_cancelled_application")}),(0,f.jsx)("h6",{children:null===w||void 0===w?void 0:w.cancelCount})]})]}),(0,f.jsxs)("div",{className:b.Z.content3,children:[(0,f.jsxs)("div",{className:b.Z.appinforow1,children:[(0,f.jsx)("h6",{children:L("total_fees_received")}),(0,f.jsxs)("h6",{children:["Rs. ",null===w||void 0===w?void 0:w.collectedFeeCount]})]}),(0,f.jsxs)("div",{className:"".concat(b.Z.appinforow2," ").concat(b.Z.appinforowred),children:[(0,f.jsx)("h6",{children:L("total_fees_pending")}),(0,f.jsxs)("h6",{children:["Rs. ",null===w||void 0===w?void 0:w.remainingFee]})]}),(0,f.jsxs)("div",{className:"".concat(b.Z.appinforow2," ").concat(b.Z.appinforowred),children:[(0,f.jsx)("h6",{children:L("total_applicable_fees_pending")}),(0,f.jsxs)("h6",{children:["Rs. ",null!==k&&void 0!==k?k:0]})]}),(0,f.jsx)("div",{className:b.Z.completeApplicationcontainer,children:(0,f.jsx)("div",{className:b.Z.completeApplication,onClick:X,children:L("complete_application")})})]})]})]})]}),q&&(0,f.jsx)(Z.Z,{}),(0,f.jsx)(C.Ch,{msg:B.msg,run:B.run,setRun:()=>U({msg:"",run:!1}),postiton:"bottom",type:"error"})]})},R=["Request_Query","Confirm_Query","Allot_Query"],w=e=>{var t,n;let{applicationDetail:l,carryParentState:s,unitName:c,tabStatusFlow:u,applicationDetailApplicablePending:v,pageOpenAs:_,children:p}=e;const m=(0,o.s0)(),h=(0,o.UO)(),[g,x]=(0,i.useState)(!1),[j,S]=(0,i.useState)({msg:"",run:!1}),[A,N]=(0,i.useState)(!1),[b]=(0,r.Y$)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("section",{className:d.Z.moderator_container_title,children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{m("/q/".concat(h.username,"INSTITUTE"===_?"/hostel?a=request":"/member/hostel?a=request"),{state:{...s}})},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,f.jsxs)("div",{className:d.Z.with_search,children:[(0,f.jsx)("h6",{children:null!==(t=null!==(n=null===l||void 0===l?void 0:l.applicationName)&&void 0!==n?n:c)&&void 0!==t?t:""}),(0,f.jsxs)("div",{className:d.Z.search_container_filter,children:[(0,f.jsx)("section",{className:d.Z.search_container,children:(0,f.jsxs)("div",{className:d.Z.search_container_input,children:[(0,f.jsx)("img",{className:d.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),p]})}),!c&&(0,f.jsx)("img",{style:{height:"2.2rem",cursor:"pointer"},onClick:()=>x(!0),src:"/images/application_info.svg",alt:""}),R.includes(u)?(0,f.jsx)("img",{style:{height:"2.2rem",cursor:"pointer"},onClick:()=>{null!==l&&void 0!==l&&l._id&&u&&(N((e=>!e)),b({appId:null===l||void 0===l?void 0:l._id,flow:u}).then((e=>{var t;S({msg:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message,run:!0}),setTimeout((()=>{m("/q/".concat(h.username,"INSTITUTE"===_?"/hostel?a=export":"/member/hostel?a=export"),{state:s})}),1e3)})).catch({}))},src:"/images/member_tab/finance/finance-export-icon.svg",alt:""}):null]})]})]}),(0,f.jsx)(a.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),g&&(0,f.jsx)(E,{completeApplication:!0,viewDetail:g,applicationDetail:l,hideModal:x,carryParentState:s,applicationDetailApplicablePending:v,pageOpenAs:_}),A&&(0,f.jsx)(Z.Z,{}),(0,f.jsx)(C.Ch,{msg:j.msg,run:j.run,setRun:()=>S({msg:"",run:!1}),postiton:"bottom",type:"success"})]})};var P=n(763),T=n(15961),k=n(72426),D=n.n(k),L=n(69721),M=n(35395),O=n(82224);const F=i.lazy((()=>Promise.resolve().then(n.bind(n,72441)))),q=e=>{var t,n,a,s,d,c,u,v,_,p,m,h,g,x,j,S;let{applicant:A,onRefetchWhenSelect:N,applicationId:b,hostelId:y,batchId:C,classMasterId:I}=e;const{t:E}=(0,l.$G)(),R=(0,o.UO)(),w=(0,o.s0)(),[P,k]=(0,i.useState)(!1),[q,H]=(0,i.useState)(!1),[B,U]=(0,i.useState)(!1),[G]=(0,r.KR)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:T.Z.applicant_card_container,onClick:()=>{var e;w("/q/".concat(R.username,"/student/profile"),{state:{sid:null===A||void 0===A||null===(e=A.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,f.jsxs)("div",{className:T.Z.applicant_card_inner,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===A||void 0===A||null===(t=A.student)||void 0===t?void 0:t.photoId)?"".concat(L.yI,"/").concat(null===A||void 0===A||null===(n=A.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,f.jsxs)("div",{className:T.Z.applicant_card_inner_info,children:[(0,f.jsx)("h6",{children:"".concat(null===A||void 0===A||null===(a=A.student)||void 0===a?void 0:a.studentFirstName," ").concat(null!==A&&void 0!==A&&null!==(s=A.student)&&void 0!==s&&s.studentMiddleName?null===A||void 0===A||null===(d=A.student)||void 0===d?void 0:d.studentMiddleName:""," ").concat(null===A||void 0===A||null===(c=A.student)||void 0===c?void 0:c.studentLastName)}),(0,f.jsxs)("p",{children:[E("applied_on"),":"," ",D()(null===A||void 0===A?void 0:A.apply_on).format("DD MMM yyyy")]})]})]}),(0,f.jsxs)("div",{className:T.Z.applicant_card_contact,children:[(0,f.jsxs)("div",{className:T.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,f.jsx)("p",{children:null===A||void 0===A||null===(u=A.student)||void 0===u?void 0:u.studentGender})]}),((null===A||void 0===A||null===(v=A.student)||void 0===v?void 0:v.studentPhoneNumber)||(null===A||void 0===A||null===(_=A.student)||void 0===_?void 0:_.studentParentsPhoneNumber))&&(0,f.jsxs)("div",{className:T.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,f.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==A&&void 0!==A&&null!==(p=A.student)&&void 0!==p&&p.studentPhoneNumber?null===A||void 0===A||null===(m=A.student)||void 0===m?void 0:m.studentPhoneNumber:null===A||void 0===A||null===(h=A.student)||void 0===h?void 0:h.studentParentsPhoneNumber})]})]}),(0,f.jsx)("div",{className:T.Z.applicant_card_reciept,onClick:e=>{e.stopPropagation()},children:(0,f.jsx)("a",{href:"".concat(L.r3,"/").concat(null===A||void 0===A||null===(g=A.student)||void 0===g||null===(x=g.application_print)||void 0===x||null===(j=x[0])||void 0===j?void 0:j.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,f.jsxs)("div",{className:T.Z.application_button,children:[(0,f.jsx)("div",{className:T.Z.selectAppBtnContainer,onClick:e=>{e.stopPropagation(),H(!0)},children:(0,f.jsx)("div",{className:T.Z.selectBtn,children:E("select")})}),(0,f.jsx)("div",{className:T.Z.selectAppBtnContainer,onClick:e=>{e.stopPropagation(),k((e=>!e))},children:(0,f.jsx)("div",{className:T.Z.cancelledBtn,children:E("reject")})})]})]}),(0,f.jsx)(M.Z,{children:P&&(0,f.jsx)(F,{studentId:null===A||void 0===A||null===(S=A.student)||void 0===S?void 0:S._id,applicationId:b,onClose:()=>k((e=>!e)),onRefetchWhenSelect:N})}),q&&(0,f.jsx)(O.Z,{hostelId:y,onClose:()=>H((e=>!e)),onSelectedStudent:e=>{var t,n;""!==(null===A||void 0===A||null===(t=A.student)||void 0===t?void 0:t._id)&&""!==b&&(U((e=>!e)),G({sid:null===A||void 0===A||null===(n=A.student)||void 0===n?void 0:n._id,aid:b,selectApplicant:e}).then((()=>{N(),U((e=>!e))})).catch((()=>{U((e=>!e))})))},batchId:null!==C&&void 0!==C?C:"",classMasterId:null!==I&&void 0!==I?I:""}),B&&(0,f.jsx)(Z.Z,{})]})},H=e=>{var t,n,i,d;let{carryParentState:c,accessRole:r,accessTpye:u,pageOpenAs:v}=e;const{t:_}=(0,l.$G)(),p=(0,o.TH)(),m=[{name:_("application"),id:0,url:"member/hostel?a=request&ongoing&n=application",is_active:["MULTI_APP_ACCESS"].includes(r)||!r?"enabled":["ONE_TAB_ACCESS"].includes(r)?"Application"===u?"enabled":"disabled":"enabled"},{name:_("selected"),id:1,url:"member/hostel?a=request&ongoing&n=select",is_active:["MULTI_APP_ACCESS"].includes(r)||!r?"enabled":["ONE_TAB_ACCESS"].includes(r)?"Selected"===u?"enabled":"disabled":"enabled"},{name:_("confirmed"),id:2,url:"member/hostel?a=request&ongoing&n=confirm",is_active:["MULTI_APP_ACCESS"].includes(r)||!r?"enabled":["ONE_TAB_ACCESS"].includes(r)?"Confirmed"===u?"enabled":"disabled":"enabled"},{name:_("allotted"),id:3,url:"member/hostel?a=request&ongoing&n=allot",is_active:["MULTI_APP_ACCESS"].includes(r)||!r?"enabled":["ONE_TAB_ACCESS"].includes(r)?"Allotted"===u?"enabled":"disabled":"enabled"},{name:_("cancelled"),id:4,url:"member/hostel?a=request&ongoing&n=cancel",is_active:["MULTI_APP_ACCESS"].includes(r)||!r?"enabled":["ONE_TAB_ACCESS"].includes(r)?"Cancelled"===u?"enabled":"disabled":"enabled"}],h=[{name:_("application"),id:0,url:"hostel?a=request&ongoing&n=application",is_active:"enabled"},{name:_("selected"),id:1,url:"hostel?a=request&ongoing&n=select",is_active:"enabled"},{name:_("confirmed"),id:2,url:"hostel?a=request&ongoing&n=confirm",is_active:"enabled"},{name:_("allotted"),id:3,url:"hostel?a=request&ongoing&n=allot",is_active:"enabled"},{name:_("cancelled"),id:4,url:"hostel?a=request&ongoing&n=cancel",is_active:"enabled"}];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.Z,{tabList:"INSTITUTE"===v?h:m,activeIndexTab:"application"===(null===(t=p.search)||void 0===t?void 0:t.substring(21))?0:"select"===(null===(n=p.search)||void 0===n?void 0:n.substring(21))?1:"confirm"===(null===(i=p.search)||void 0===i?void 0:i.substring(21))?2:"allot"===(null===(d=p.search)||void 0===d?void 0:d.substring(21))?3:4,showAs:!0,customStyleTab:{width:"100%"},customStyleLink:{width:"20%"},carryParentState:c}),(0,f.jsx)(a.Z,{customStyle:{width:"100%"}})]})};const B=function(e){let{carryParentState:t,applicationId:n,hostelId:l,applicationDetail:o,accessRole:a,accessTpye:s,applicationDetailApplicablePending:d,pageOpenAs:r}=e;const[v,_]=(0,i.useState)(!0),[p,m]=(0,i.useState)(1),[h,g]=(0,i.useState)(""),[x,j]=(0,c.YD)(),[S,A]=(0,i.useState)([]),[b,y]=(0,i.useState)(!1),[C,Z]=(0,i.useState)(!0),{getAllRequestList:I,getAllRequestListRefetch:E}=(0,N.jG)({data:{id:n,page:p,limit:10,search:h||""},skip:!n});(0,i.useEffect)((()=>{j&&v&&m((e=>e+1))}),[j,v]),(0,i.useEffect)((()=>{n&&(Z(!0),E())}),[p,n,E,h]),(0,i.useEffect)((()=>{var e,t;h?(A(null===I||void 0===I?void 0:I.request),Z(!1)):b?(A(null===I||void 0===I?void 0:I.request),y(!1),Z(!1)):null!==I&&void 0!==I&&I.request?(A((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===I||void 0===I?void 0:I.request])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),Z(!1)):0===(null===I||void 0===I||null===(t=I.request)||void 0===t?void 0:t.length)&&Z(!1);10===(null===I||void 0===I||null===(e=I.request)||void 0===e?void 0:e.length)?_(!0):_(!1)}),[null===I||void 0===I?void 0:I.request]);const R=()=>{m(1),E(),y(!0)},T=(0,i.useCallback)((0,P.debounce)((e=>g(e)),500),[]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(w,{applicationDetail:o,carryParentState:t,tabStatusFlow:"Request_Query",applicationDetailApplicablePending:d,pageOpenAs:r,children:(0,f.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:e=>{T(e.target.value)}})}),(0,f.jsx)(H,{carryParentState:t,accessRole:a,accessTpye:s,pageOpenAs:r}),null===S||void 0===S?void 0:S.map(((e,t)=>{var i,a;return(null===S||void 0===S?void 0:S.length)===t+1?(0,f.jsx)("div",{ref:x,children:(0,f.jsx)(q,{applicant:e,onRefetchWhenSelect:R,applicationId:n,hostelId:l,batchId:null===o||void 0===o||null===(i=o.applicationBatch)||void 0===i?void 0:i._id,classMasterId:null===o||void 0===o?void 0:o.applicationMaster})},t):(0,f.jsx)(q,{applicant:e,onRefetchWhenSelect:R,applicationId:n,hostelId:l,batchId:null===o||void 0===o||null===(a=o.applicationBatch)||void 0===a?void 0:a._id,classMasterId:null===o||void 0===o?void 0:o.applicationMaster},t)})),C&&(0,f.jsx)(u.Z,{})]})},U=e=>{var t,n,i,a,s,d,c,r,u,v,_,p,m,h,g,x,j,S,A,N,b,y,C,Z;let{onSelectOffileFees:I,applicant:E}=e;const{t:R}=(0,l.$G)(),w=(0,o.UO)(),P=(0,o.s0)();return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:T.Z.applicant_card_container,onClick:()=>{var e;P("/q/".concat(w.username,"/student/profile"),{state:{sid:null===E||void 0===E||null===(e=E.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,f.jsxs)("div",{className:T.Z.applicant_card_inner,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===E||void 0===E||null===(t=E.student)||void 0===t?void 0:t.photoId)?"".concat(L.yI,"/").concat(null===E||void 0===E||null===(n=E.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,f.jsxs)("div",{className:T.Z.applicant_card_inner_info,children:[(0,f.jsx)("h6",{children:"".concat(null===E||void 0===E||null===(i=E.student)||void 0===i?void 0:i.studentFirstName," ").concat(null!==E&&void 0!==E&&null!==(a=E.student)&&void 0!==a&&a.studentMiddleName?null===E||void 0===E||null===(s=E.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null===E||void 0===E||null===(d=E.student)||void 0===d?void 0:d.studentLastName)}),(0,f.jsxs)("h6",{children:[R("fee_structure")," : ",null!==(c=null===E||void 0===E||null===(r=E.student)||void 0===r||null===(u=r.hostel_fee_structure)||void 0===u||null===(v=u.category_master)||void 0===v?void 0:v.category_name)&&void 0!==c?c:"",", ",R("rs")," ",null!==(_=null===E||void 0===E||null===(p=E.student)||void 0===p||null===(m=p.hostel_fee_structure)||void 0===m?void 0:m.total_admission_fees)&&void 0!==_?_:""]}),(0,f.jsx)("p",{children:null!==E&&void 0!==E&&E.install_type?null===E||void 0===E?void 0:E.install_type:"\n              ".concat(R("select_on"),":\n              ").concat(D()(null===E||void 0===E?void 0:E.select_on).format("DD MMM yyyy"))})]})]}),(0,f.jsxs)("div",{className:T.Z.applicant_card_contact,children:[(0,f.jsxs)("div",{className:T.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,f.jsx)("p",{children:null===E||void 0===E||null===(h=E.student)||void 0===h?void 0:h.studentGender})]}),((null===E||void 0===E||null===(g=E.student)||void 0===g?void 0:g.studentPhoneNumber)||(null===E||void 0===E||null===(x=E.student)||void 0===x?void 0:x.studentParentsPhoneNumber))&&(0,f.jsxs)("div",{className:T.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,f.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==E&&void 0!==E&&null!==(j=E.student)&&void 0!==j&&j.studentPhoneNumber?null===E||void 0===E||null===(S=E.student)||void 0===S?void 0:S.studentPhoneNumber:null===E||void 0===E||null===(A=E.student)||void 0===A?void 0:A.studentParentsPhoneNumber})]})]}),(0,f.jsx)("div",{className:T.Z.applicant_card_reciept,onClick:e=>{e.stopPropagation()},children:(0,f.jsx)("a",{href:"".concat(L.r3,"/").concat(null===E||void 0===E||null===(N=E.student)||void 0===N||null===(b=N.application_print)||void 0===b||null===(y=b[0])||void 0===y?void 0:y.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),"pending"===(null===E||void 0===E||null===(C=E.payment_status)||void 0===C?void 0:C.toLowerCase())?(0,f.jsx)("div",{className:T.Z.selectBtnContainer,style:{display:"flex",justifyContent:"space-evenly"},children:(0,f.jsx)("div",{className:T.Z.selectBtn,onClick:e=>{e.stopPropagation(),I(E)},children:R("collect_fee")})}):"receipt requested"===(null===E||void 0===E||null===(Z=E.payment_status)||void 0===Z?void 0:Z.toLowerCase())?(0,f.jsx)("div",{className:T.Z.selectBtnContainer,children:(0,f.jsx)("div",{className:T.Z.receipt_requested_btn,onClick:e=>{e.stopPropagation()},children:R("receipt_requested")})}):null]})})};var G=n(36665);const W=e=>{var t,n,o,s,d,c;let{currentApplicant:u,onClose:v,applicationId:_,onRefetchWhenConfirm:p}=e;const{t:m}=(0,l.$G)(),[h,g]=(0,i.useState)(!1),[x]=(0,r.Ik)(),[j]=(0,r.lA)();return(0,f.jsxs)(G.Z,{onClose:v,children:[(0,f.jsxs)("div",{className:T.Z.not_confirm_container,children:[(0,f.jsx)("h6",{children:m("hostel_status")}),(0,f.jsx)(a.Z,{customStyle:{marginLeft:"-2rem",width:"130%"}}),(0,f.jsxs)("section",{className:T.Z.applicant_profile,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===u||void 0===u||null===(t=u.student)||void 0===t?void 0:t.photoId)?"".concat(L.yI,"/").concat(null===u||void 0===u||null===(n=u.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,f.jsxs)("div",{className:T.Z.applicant_profile_text,children:[(0,f.jsx)("h6",{children:"".concat(null===u||void 0===u||null===(o=u.student)||void 0===o?void 0:o.studentFirstName," ").concat(null!==u&&void 0!==u&&null!==(s=u.student)&&void 0!==s&&s.studentMiddleName?null===u||void 0===u||null===(d=u.student)||void 0===d?void 0:d.studentMiddleName:""," ").concat(null===u||void 0===u||null===(c=u.student)||void 0===c?void 0:c.studentLastName)}),(0,f.jsxs)("p",{children:[m("applied")," ",D()(null===u||void 0===u?void 0:u.select_on).format("DD MMM yyyy")]})]})]}),(0,f.jsxs)("section",{className:T.Z.button_group,children:[(0,f.jsx)("button",{onClick:()=>{var e,t;_&&null!==u&&void 0!==u&&null!==(e=u.student)&&void 0!==e&&e._id&&(g((e=>!e)),x({aid:_,sid:null===u||void 0===u||null===(t=u.student)||void 0===t?void 0:t._id}).then((()=>{p(),v(),g((e=>!e))})).catch((()=>{g((e=>!e))})))},children:m("confirm")}),(0,f.jsx)("button",{onClick:()=>{var e,t;_&&null!==u&&void 0!==u&&null!==(e=u.student)&&void 0!==e&&e._id&&(g((e=>!e)),j({aid:_,sid:null===u||void 0===u||null===(t=u.student)||void 0===t?void 0:t._id}).then((()=>{p(),v(),g((e=>!e))})).catch((()=>{g((e=>!e))})))},children:m("reject")})]})]}),h&&(0,f.jsx)(Z.Z,{})]})};var V=n(97655),J=n(59965),$=n(49886);const Y=function(e){var t,n,o,s,d;let{onClose:c,applicant:u,applicationId:v,onRefetchWhenConfirm:_,huid:p,viewAs:m}=e;const[h,g]=(0,i.useState)(!1),{t:x}=(0,l.$G)(),[j,S]=(0,i.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),[A,N]=(0,i.useState)({msg:"",run:!1}),[b,y]=(0,i.useState)(""),[I]=(0,r.Jg)(),[E]=(0,r.fl)(),R=e=>{"fee_payment_mode"===e.target.name?S((t=>({...t,[e.target.name]:e.target.value,mode:"By Cash"===e.target.value?"Offline":"Online",fee_payment_mode:e.target.value}))):S((t=>({...t,[e.target.name]:e.target.value})))};return(0,f.jsxs)(G.Z,{onClose:c,children:[(0,f.jsxs)("div",{className:T.Z.admission_modal,children:[(0,f.jsx)("h6",{className:T.Z.admission_modal_heading,children:x("collect_fees")}),(0,f.jsx)(a.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}})," ",(0,f.jsxs)("div",{className:T.Z.admission_fees_row,children:[(0,f.jsxs)("h6",{children:[x("applicable_amount")," :"]}),(0,f.jsxs)("h6",{children:["Rs. ",null===u||void 0===u||null===(t=u.student)||void 0===t||null===(n=t.hostel_fee_structure)||void 0===n?void 0:n.total_admission_fees]})]}),(0,f.jsx)(V.Z,{labelText:"".concat(x("amount_first_installment")," ").concat(null===u||void 0===u||null===(o=u.student)||void 0===o||null===(s=o.hostel_fee_structure)||void 0===s||null===(d=s.one_installments)||void 0===d?void 0:d.fees),name:"amount",type:"tel",value:j.amount,onChange:e=>{S((t=>({...t,amount:+e.target.value,fee_payment_amount:+e.target.value})))},placeholder:x("amoute_details_collect"),errorShow:b.fee_payment_amount,customStyleLabel:{marginTop:"15px",marginBottom:"7px"},customStyleContainer:{marginBottom:"15px"}}),(0,f.jsx)($.Z,{paymentHeading:x("payment_type_mode"),onInputChange:R,errorShow:b.payment_type_mode}),(0,f.jsx)(J.Z,{labelText:x("select_date_of_transaction"),placeholder:x("please_select_date"),name:"transaction_date",value:j.transaction_date,onDateFunction:e=>{const t=null===e||void 0===e?void 0:e.split("/");S((e=>({...e,transaction_date:"".concat(t[2],"-").concat(t[1],"-").concat(t[0])})))},customStyleContainer:{position:"relative",marginTop:"0.5rem"},datePickerPosition:{position:"relative",top:"-15rem"},customStyleLabel:{marginTop:"15px"},errorShow:b.transaction_date}),"By Cash"===j.fee_payment_mode?"":(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(V.Z,{labelText:x("bank_name_collect"),name:"fee_bank_name",type:"tel",value:j.fee_bank_name,onChange:R,placeholder:x("please_enter_bank_name"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,f.jsx)(V.Z,{labelText:x("banke_holder_name"),name:"fee_bank_holder",type:"tel",value:j.fee_bank_holder,onChange:R,placeholder:x("please_enter_name_of_bank_holder"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,f.jsx)(V.Z,{labelText:x("cheque_dd_neft"),name:"fee_utr_reference",type:"tel",value:j.fee_utr_reference,onChange:R,placeholder:x("please_enter_utr_ref_number"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}})]}),(0,f.jsx)("div",{className:T.Z.confirm_btn,onClick:()=>{const e=(e=>{const t={};for(let l in e){var n,i;"fee_bank_name"===l||"fee_bank_holder"===l||"fee_utr_reference"===l||"amount"===l||"mode"===l||(e[l]?"fee_payment_amount"===l&&(e[l]<=(null===u||void 0===u||null===(n=u.student)||void 0===n||null===(i=n.hostel_fee_structure)||void 0===i?void 0:i.total_admission_fees)||(N({msg:"You can not enter amount greater than Admission fees",run:!0}),t.fee_payment_amount="".concat(l," is required!"))):t[l]="".concat(l," is required!"))}return t})(j);let t=!1;for(let d in e){t=!0;break}if(t)y(e);else if(g(!0),"RENEWAL"===m){var n,i,l;const e={sid:null===u||void 0===u||null===(n=u.student)||void 0===n?void 0:n._id,aid:v,huid:p,collectFee:j};""!==(null===e||void 0===e?void 0:e.sid)&&""!==(null===e||void 0===e?void 0:e.aid)&&""!==(null===e||void 0===e?void 0:e.huid)&&(null===e||void 0===e||null===(i=e.collectFee)||void 0===i?void 0:i.amount)>0&&""!==(null===e||void 0===e||null===(l=e.collectFee)||void 0===l?void 0:l.mode)?E(e).then((e=>{e.data.confirm_status&&(_(),c(),g(!1))})).catch({}):g(!1)}else{var o,a,s;const e={sid:null===u||void 0===u||null===(o=u.student)||void 0===o?void 0:o._id,aid:v,confirm_data:j,receipt_status:"Fee Receipt Not Generated"===j.fee_payment_mode?"Fee Receipt Not Generated":""};""!==(null===e||void 0===e?void 0:e.sid)&&""!==(null===e||void 0===e?void 0:e.aid)&&(null===e||void 0===e||null===(a=e.confirm_data)||void 0===a?void 0:a.amount)>0&&""!==(null===e||void 0===e||null===(s=e.confirm_data)||void 0===s?void 0:s.mode)?I(e).then((e=>{e.data.confirm_status&&(_(),c(),g(!1))})).catch({}):g(!1)}},children:x("collect")}),(0,f.jsx)(C.Ch,{msg:A.msg,run:A.run,setRun:()=>N({msg:"",run:!1}),postiton:"bottom",type:"error"})]}),h&&(0,f.jsx)(Z.Z,{})]})};const K=function(e){var t,n,o,s;let{onClose:d,applicationId:c,currentApplicant:r,onRefetchWhenConfirm:u}=e;const{t:v}=(0,l.$G)(),[_,p]=(0,i.useState)(!1),[m]=(0,N.K7)();return(0,f.jsxs)(G.Z,{onClose:d,children:[(0,f.jsxs)("div",{className:T.Z.not_confirm_container,children:[(0,f.jsx)("h6",{children:v("collect_required_document")}),(0,f.jsx)(a.Z,{customStyle:{width:"100%"}}),(0,f.jsxs)("section",{className:T.Z.admission_collect_docs,children:[(0,f.jsx)("p",{children:v("collecting_documents_of_student")}),(0,f.jsx)("h6",{children:"".concat(null===r||void 0===r||null===(t=r.student)||void 0===t?void 0:t.studentFirstName," ").concat(null!==r&&void 0!==r&&null!==(n=r.student)&&void 0!==n&&n.studentMiddleName?null===r||void 0===r||null===(o=r.student)||void 0===o?void 0:o.studentMiddleName:""," ").concat(null===r||void 0===r||null===(s=r.student)||void 0===s?void 0:s.studentLastName)})]}),(0,f.jsx)("button",{onClick:()=>{var e,t;p(!0),m({sid:null===r||void 0===r||null===(e=r.student)||void 0===e?void 0:e._id,aid:c,install_type:null===r||void 0===r?void 0:r.install_type,payment_status:null===r||void 0===r?void 0:r.payment_status,amount:null!==(t=+(null===r||void 0===r?void 0:r.fee_remain))&&void 0!==t?t:0}).then((()=>{d(),u(),p(!1)})).catch({})},className:T.Z.confirm_btn,children:v("confirm")})]}),_&&(0,f.jsx)(Z.Z,{})]})};const X=function(e){let{carryParentState:t,applicationId:n,hostelId:l,applicationDetail:o,accessRole:a,accessTpye:s,applicationDetailApplicablePending:d,pageOpenAs:r}=e;const[v,_]=(0,i.useState)(!0),[p,m]=(0,i.useState)(1),[h,g]=(0,i.useState)(""),[x,j]=(0,c.YD)(),[S,A]=(0,i.useState)([]),[b,y]=(0,i.useState)(!1),[C,Z]=(0,i.useState)(!0),[I,E]=(0,i.useState)(""),[R,T]=(0,i.useState)(""),{getAllSelectList:k,getAllSelectListRefetch:D}=(0,N.sR)({data:{id:n,page:p,limit:10,search:h||""},skip:!n});(0,i.useEffect)((()=>{j&&v&&m((e=>e+1))}),[j,v]),(0,i.useEffect)((()=>{n&&(Z(!0),D())}),[p,n,D,h]),(0,i.useEffect)((()=>{var e,t;h?(A(null===k||void 0===k?void 0:k.select),Z(!1)):b?(A(null===k||void 0===k?void 0:k.select),y(!1),Z(!1)):null!==k&&void 0!==k&&k.select?(A((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===k||void 0===k?void 0:k.select])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),Z(!1)):0===(null===k||void 0===k||null===(t=k.select)||void 0===t?void 0:t.length)&&Z(!1);10===(null===k||void 0===k||null===(e=k.select)||void 0===e?void 0:e.length)?_(!0):_(!1)}),[null===k||void 0===k?void 0:k.select]);const L=()=>{m(1),D(),y(!0)},M=(0,i.useCallback)((0,P.debounce)((e=>g(e)),500),[]),O=e=>{T(e),E("COLLECT_FEES")},F=e=>{T(e),E("COLLECT_DOCS")},q=e=>{T(e),E("MARK_CONFIRM")};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(w,{applicationDetail:o,carryParentState:t,applicationDetailApplicablePending:d,pageOpenAs:r,children:(0,f.jsx)("input",{type:"text",placeholder:"Search applications...",onChange:e=>{M(e.target.value)}})}),(0,f.jsx)(H,{carryParentState:t,accessRole:a,accessTpye:s,pageOpenAs:r}),null===S||void 0===S?void 0:S.map(((e,t)=>{var i,a;return(null===S||void 0===S?void 0:S.length)===t+1?(0,f.jsx)("div",{ref:x,children:(0,f.jsx)(U,{applicant:e,onRefetchWhenConfirm:L,applicationId:n,hostelId:l,onSelectOffileFees:O,onCollectDocs:F,onNotConfirm:q,batchId:null===o||void 0===o||null===(i=o.applicationBatch)||void 0===i?void 0:i._id})},t):(0,f.jsx)(U,{applicant:e,onRefetchWhenConfirm:L,applicationId:n,hostelId:l,onSelectOffileFees:O,onCollectDocs:F,onNotConfirm:q,batchId:null===o||void 0===o||null===(a=o.applicationBatch)||void 0===a?void 0:a._id},t)})),C&&(0,f.jsx)(u.Z,{}),"MARK_CONFIRM"===I&&(0,f.jsx)(W,{currentApplicant:R,applicationId:n,onRefetchWhenConfirm:L,onClose:()=>E("")}),"COLLECT_FEES"===I&&(0,f.jsx)(Y,{applicant:R,applicationId:n,onRefetchWhenConfirm:L,onClose:()=>E("")}),"COLLECT_DOCS"===I&&(0,f.jsx)(K,{applicant:R,applicationId:n,onRefetchWhenConfirm:L,onClose:()=>E("")})]})};var z=n(37782);const Q=e=>{var t,a,s,d,c,r,u,v,_,p,m,h,g,x,j,S,A;let{onCancelHostelApplication:b,onAllotBed:y,applicant:C}=e;const{t:I}=(0,l.$G)(),E=(0,o.UO)(),R=(0,o.s0)(),[w,P]=(0,i.useState)(""),[k,D]=(0,i.useState)(!1),[M,O]=(0,i.useState)(""),{getFeeReceiptDetail:F,getFeeReceiptDetailRefetch:q}=(0,N.$d)({rid:w,skip:!w});(0,i.useEffect)((()=>{w&&q()}),[w,q]),(0,i.useEffect)((()=>{null!==F&&void 0!==F&&F.receipt&&null!==F&&void 0!==F&&F.all_remain&&O(F)}),[F]),(0,i.useEffect)((()=>{if(M){const{institute:e,studentInfo:t,paymentReceiptInfo:i}=(0,z.sp)(null===M||void 0===M?void 0:M.all_remain,null===M||void 0===M?void 0:M.receipt),l=new Worker(new URL(n.p+n.u(21692),n.b));l.postMessage({institute:e,studentInfo:t,paymentReceiptInfo:i,printReceiptType:"Refunded"===(null===i||void 0===i?void 0:i.transactonRefund)?"HOSTEL_REFUND":"HOSTEL"}),l.onmessage=e=>{e&&(window.open(e.data,"_blank"),D((e=>!e)),O(""),l.terminate())}}}),[M]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:T.Z.applicant_card_container,onClick:()=>{var e;R("/q/".concat(E.username,"/student/profile"),{state:{sid:null===C||void 0===C||null===(e=C.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,f.jsxs)("div",{className:T.Z.applicant_card_inner,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===C||void 0===C||null===(t=C.student)||void 0===t?void 0:t.photoId)?"".concat(L.yI,"/").concat(null===C||void 0===C||null===(a=C.student)||void 0===a?void 0:a.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,f.jsxs)("div",{className:T.Z.applicant_card_inner_info,children:[(0,f.jsx)("h6",{children:"".concat(null===C||void 0===C||null===(s=C.student)||void 0===s?void 0:s.studentFirstName," ").concat(null!==C&&void 0!==C&&null!==(d=C.student)&&void 0!==d&&d.studentMiddleName?null===C||void 0===C||null===(c=C.student)||void 0===c?void 0:c.studentMiddleName:""," ").concat(null===C||void 0===C||null===(r=C.student)||void 0===r?void 0:r.studentLastName)}),(0,f.jsx)("p",{onClick:e=>{e.stopPropagation(),b(C)},className:T.Z.cancelStatus,children:I("cancel_admision")})]})]}),(0,f.jsxs)("div",{className:T.Z.applicant_card_contact,children:[(0,f.jsxs)("div",{className:T.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,f.jsx)("p",{children:null===C||void 0===C||null===(u=C.student)||void 0===u?void 0:u.studentGender})]}),((null===C||void 0===C||null===(v=C.student)||void 0===v?void 0:v.studentPhoneNumber)||(null===C||void 0===C||null===(_=C.student)||void 0===_?void 0:_.studentParentsPhoneNumber))&&(0,f.jsxs)("div",{className:T.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,f.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==C&&void 0!==C&&null!==(p=C.student)&&void 0!==p&&p.studentPhoneNumber?null===C||void 0===C||null===(m=C.student)||void 0===m?void 0:m.studentPhoneNumber:null===C||void 0===C||null===(h=C.student)||void 0===h?void 0:h.studentParentsPhoneNumber})]})]}),(0,f.jsx)("div",{className:T.Z.applicant_card_reciept,onClick:e=>{e.stopPropagation()},children:(0,f.jsx)("a",{href:"".concat(L.r3,"/").concat(null===C||void 0===C||null===(g=C.student)||void 0===g||null===(x=g.application_print)||void 0===x||null===(j=x[0])||void 0===j?void 0:j.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-4.5px"},children:(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,f.jsx)("div",{className:T.Z.applicant_card_reciept,children:null===C||void 0===C||null===(S=C.student)||void 0===S||null===(A=S.fee_receipt)||void 0===A?void 0:A.map(((e,t)=>t>2?"":(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-receipt-download.svg",onClick:t=>((e,t)=>{e.stopPropagation(),D((e=>!e)),P(t),w===t&&O(F)})(t,e),alt:"receipt icon",title:"Download Fees Receipt"})))}),(0,f.jsx)("div",{className:T.Z.selectBtnContainer,style:{width:"auto"},children:(0,f.jsx)("div",{className:T.Z.selectBtn,onClick:e=>{e.stopPropagation(),y(C)},children:I("allot_bed")})})]}),k&&(0,f.jsx)(Z.Z,{})]})};const ee=function(e){var t,n,o,s;let{currentApplicant:d,onClose:c,onRefetchWhenAction:u,applicationId:v,viewAs:_,huid:p}=e;const{t:m}=(0,l.$G)(),[h,g]=(0,i.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),[x,j]=(0,i.useState)(""),[S,A]=(0,i.useState)(0),[N,b]=(0,i.useState)({msg:"",run:!1}),[y,I]=(0,i.useState)(!1),[E]=(0,r.H$)(),[R]=(0,r.UV)();(0,i.useEffect)((()=>{var e,t;if(null!==d&&void 0!==d&&null!==(e=d.student)&&void 0!==e&&null!==(t=e.paidFeeList)&&void 0!==t&&t.length){var n,i,l,o;const e=null===d||void 0===d||null===(n=d.student)||void 0===n||null===(i=n.paidFeeList)||void 0===i?void 0:i.filter((e=>(null===e||void 0===e?void 0:e.appId)===v));A(null!==(l=null===e||void 0===e||null===(o=e[0])||void 0===o?void 0:o.paidAmount)&&void 0!==l?l:0)}}),[null===d||void 0===d||null===(t=d.student)||void 0===t?void 0:t.paidFeeList]);const w=e=>{"fee_payment_mode"===e.target.name?g((t=>({...t,[e.target.name]:e.target.value,mode:"By Cash"===e.target.value?"Offline":"Online",fee_payment_mode:e.target.value}))):g((t=>({...t,[e.target.name]:e.target.value})))};return(0,f.jsxs)(f.Fragment,{children:[!y&&(0,f.jsxs)(G.Z,{onClose:c,children:[(0,f.jsxs)("div",{className:T.Z.admission_modal,children:[(0,f.jsx)("h6",{className:T.Z.admission_modal_heading,children:m("RENEWAL"===_?"cancel_renewal_addmission":"cancel_addmission")}),(0,f.jsx)(a.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),(0,f.jsxs)("div",{className:T.Z.admission_fees_row,children:[(0,f.jsxs)("h6",{children:[m("total_admission_fees")," :"]}),(0,f.jsxs)("h6",{children:[m("rs"),"."," ",null!==(n=null===d||void 0===d||null===(o=d.student)||void 0===o||null===(s=o.hostel_fee_structure)||void 0===s?void 0:s.total_admission_fees)&&void 0!==n?n:0]})]}),(0,f.jsxs)("div",{className:T.Z.admission_fees_row,children:[(0,f.jsxs)("h6",{children:[m("fees_paid")," :"]}),(0,f.jsxs)("h6",{children:[m("rs"),". ",S]})]}),(0,f.jsx)($.Z,{paymentHeading:m("refund_payment_type_mode"),onInputChange:w,errorShow:x.payment_type_mode}),(0,f.jsx)(V.Z,{labelText:m("refund_amount"),name:"amount",type:"tel",value:h.amount,onChange:e=>{g((t=>({...t,amount:+e.target.value,fee_payment_amount:+e.target.value})))},placeholder:m("please_enter_refund_amount"),errorShow:x.fee_payment_amount}),"RENEWAL"===_?null:(0,f.jsx)(J.Z,{labelText:m("select_date_of_transaction"),placeholder:m("please_select_date"),name:"transaction_date",value:h.transaction_date,onDateFunction:e=>{const t=null===e||void 0===e?void 0:e.split("/");g((e=>({...e,transaction_date:"".concat(t[2],"-").concat(t[1],"-").concat(t[0])})))},customStyleContainer:{position:"relative",marginTop:"0.5rem"},datePickerPosition:{position:"relative",top:"-20rem"},customStyleLabel:{marginTop:"15px"},errorShow:x.transaction_date}),(0,f.jsx)("h6",{style:{marginTop:"0.5rem"},children:m("paid_to")}),(0,f.jsx)(V.Z,{labelText:m("bank_name_collect"),name:"fee_bank_name",type:"tel",value:h.fee_bank_name,onChange:w,placeholder:m("please_enter_bank_name"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,f.jsx)(V.Z,{labelText:m("banke_holder_name"),name:"fee_bank_holder",type:"tel",value:h.fee_bank_holder,onChange:w,placeholder:m("please_enter_name_of_bank_holder"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,f.jsx)(V.Z,{labelText:m("cheque_dd_neft"),name:"fee_utr_reference",type:"tel",value:h.fee_utr_reference,onChange:w,placeholder:m("please_enter_utr_ref_number"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,f.jsx)("div",{className:T.Z.confirm_btn,onClick:()=>{const e=(e=>{const t={};for(let n in e)"fee_bank_name"===n||"fee_bank_holder"===n||"fee_utr_reference"===n||"amount"===n||"mode"===n||(e[n]?"fee_payment_amount"===n&&(e[n]<=S||(b({msg:"You can not enter amount greater than fees paid",run:!0}),t.fee_payment_amount_issue="".concat(n," is required!"))):t[n]="".concat(n," is required!"));return t})(h);let t=!1;for(let d in e){t=!0;break}var n,i,l,o,a,s,r,m,g,x,f,A,N,y;t?j(e):(I(!0),"RENEWAL"===_?""!==(null===(l=y={sid:null===d||void 0===d||null===(n=d.student)||void 0===n?void 0:n._id,aid:v,huid:p,cancelRenewal:{...h,remainAmount:null!==(i=null===d||void 0===d?void 0:d.fee_remain)&&void 0!==i?i:0}})||void 0===l?void 0:l.sid)&&""!==(null===(o=y)||void 0===o?void 0:o.aid)&&""!==(null===(a=y)||void 0===a?void 0:a.huid)&&(null===(s=y)||void 0===s||null===(r=s.cancelRenewal)||void 0===r?void 0:r.amount)>0&&R(y).then((e=>{e.data.refund_status&&(u(),c(),I(!1))})).catch({}):""!==(null===(x=y={sid:null===d||void 0===d||null===(m=d.student)||void 0===m?void 0:m._id,aid:v,cancel_data:{...h,remainAmount:null!==(g=null===d||void 0===d?void 0:d.fee_remain)&&void 0!==g?g:0}})||void 0===x?void 0:x.sid)&&""!==(null===(f=y)||void 0===f?void 0:f.aid)&&(null===(A=y)||void 0===A||null===(N=A.cancel_data)||void 0===N?void 0:N.amount)>0&&E(y).then((e=>{e.data.refund_status&&(u(),c(),I(!1))})).catch({}))},children:m("confirm")})]}),(0,f.jsx)(C.Ch,{msg:N.msg,run:N.run,setRun:()=>b({msg:"",run:!1}),postiton:"bottom",type:"error"})]}),y&&(0,f.jsx)(Z.Z,{})]})};var te=n(41233),ne=n(87457),ie=n(91022);const le=e=>{var t,n;let{onClose:o,currentApplicant:s,applicationId:d,onRefetchWhenAction:c,unitId:u,viewAs:v,instituteId:_}=e;const{t:p}=(0,l.$G)(),[m,h]=(0,i.useState)(""),[g,x]=(0,i.useState)(!1),[j,S]=(0,i.useState)("RENEWAL"===v),[A,N]=(0,i.useState)(""),[b,y]=(0,i.useState)({hrid:""}),[C]=(0,r.An)(),[I]=(0,r.aZ)(),{getRoomListHostelUnit:E,getRoomListHostelUnitRefetch:R}=(0,r.CO)({data:{huid:u,page:1,limit:1e3,search:""},skip:!u});(0,i.useEffect)((()=>{u&&R()}),[u,R]);return(0,f.jsx)(G.Z,{onClose:o,children:(0,f.jsxs)("div",{className:ne.Z.add_category_modal,style:{width:"30rem",maxHeight:"35rem"},children:[(0,f.jsxs)("div",{className:ne.Z.add_category_modal_title,children:[(0,f.jsx)("h6",{children:p("allot_bed_to_hostelite")}),(0,f.jsx)("img",{src:"/images/close-post-icon.svg",onClick:o,alt:""})]}),(0,f.jsx)(a.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),"RENEWAL"===v&&(0,f.jsx)(ie.Z,{selectLabel:p("allot_same_bed_as_previous"),selectedValue:p("select_yes_or_no"),options:["Yes","No"],value:A,errorShow:m.same_allot,onClick:e=>{S("Yes"===e),N(e)}}),!j&&(0,f.jsx)(te.Z,{selectLabel:p("select_unit_room"),onClick:e=>{y((t=>({...t,hrid:e})))},selectedValue:p("select_unit_room_placeholder"),options:null!==(t=null===E||void 0===E||null===(n=E.all_rooms)||void 0===n?void 0:n.filter((e=>(null===e||void 0===e?void 0:e.vacant_count)>0?e:null)))&&void 0!==t?t:[],errorShow:m.hrid}),(0,f.jsx)("button",{className:ne.Z.set_fees_structure_btn,title:"Allot Hostel",onClick:()=>{if(_){const n="RENEWAL"===v?((e,t)=>{const n={};if("No"===A)for(let i in e)e[i]||(n[i]="".concat(i," is required!"));return t||(n.same_allot="same_allot is required!"),n})(b,A):(e=>{const t={};for(let n in e)e[n]||(t[n]="".concat(n," is required!"));return t})(b);let i=!1;for(let e in n)if(e){i=!0;break}var e,t;if(i)h(n);else if(x((e=>!e)),"RENEWAL"===v)I({aid:d,huid:u,allotBed:{dataList:[null===s||void 0===s||null===(e=s.student)||void 0===e?void 0:e._id],hrid:b.hrid,bed_mode:"Yes"===A?"Same":"Different"}}).then((()=>{c(),o(),x((e=>!e))})).catch({});else C({aid:d,huid:u,...b,id:_,allot_bed:{dataList:[null===s||void 0===s||null===(t=s.student)||void 0===t?void 0:t._id]}}).then((()=>{c(),o(),x((e=>!e))})).catch({})}},style:{justifyContent:"center"},children:p("allot_bed")}),g&&(0,f.jsx)(Z.Z,{})]})})};const oe=function(e){let{carryParentState:t,applicationId:n,hostelId:l,applicationDetail:o,unitId:a,accessRole:s,accessTpye:d,applicationDetailApplicablePending:r,pageOpenAs:v,instituteId:_}=e;const[p,m]=(0,i.useState)(!0),[h,g]=(0,i.useState)(1),[x,j]=(0,i.useState)(""),[S,A]=(0,c.YD)(),[b,y]=(0,i.useState)([]),[C,Z]=(0,i.useState)(!1),[I,E]=(0,i.useState)(!0),[R,T]=(0,i.useState)(""),[k,D]=(0,i.useState)(""),{getAllConfirmList:L,getAllConfirmListRefetch:M}=(0,N.RR)({data:{id:n,page:h,limit:10,search:x||""},skip:!n});(0,i.useEffect)((()=>{A&&p&&g((e=>e+1))}),[A,p]),(0,i.useEffect)((()=>{n&&(E(!0),M())}),[h,n,M,x]),(0,i.useEffect)((()=>{var e,t;x?(y(null===L||void 0===L?void 0:L.confirm),E(!1)):C?(y(null===L||void 0===L?void 0:L.confirm),Z(!1),E(!1)):null!==L&&void 0!==L&&L.confirm?(y((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===L||void 0===L?void 0:L.confirm])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),E(!1)):0===(null===L||void 0===L||null===(t=L.confirm)||void 0===t?void 0:t.length)&&E(!1);10===(null===L||void 0===L||null===(e=L.confirm)||void 0===e?void 0:e.length)?m(!0):m(!1)}),[null===L||void 0===L?void 0:L.confirm]);const O=()=>{g(1),M(),Z(!0)},F=(0,i.useCallback)((0,P.debounce)((e=>j(e)),500),[]),q=e=>{D(e),T("CANCEL_APPLICANT")},B=e=>{D(e),T("ALLOT_BED")};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(w,{applicationDetail:o,carryParentState:t,tabStatusFlow:"Confirm_Query",applicationDetailApplicablePending:r,pageOpenAs:v,children:(0,f.jsx)("input",{type:"text",placeholder:"Search applications...",onChange:e=>{F(e.target.value)}})}),(0,f.jsx)(H,{carryParentState:t,accessRole:s,accessTpye:d,pageOpenAs:v}),null===b||void 0===b?void 0:b.map(((e,t)=>(null===b||void 0===b?void 0:b.length)===t+1?(0,f.jsx)("div",{ref:S,children:(0,f.jsx)(Q,{applicant:e,onCancelHostelApplication:q,onAllotBed:B})},t):(0,f.jsx)(Q,{applicant:e,onCancelHostelApplication:q,onAllotBed:B},t))),I&&(0,f.jsx)(u.Z,{}),"CANCEL_APPLICANT"===R&&(0,f.jsx)(ee,{currentApplicant:k,applicationId:n,onRefetchWhenAction:O,onClose:()=>T("")}),"ALLOT_BED"===R&&(0,f.jsx)(le,{currentApplicant:k,applicationId:n,onRefetchWhenAction:O,onClose:()=>T(""),hostelId:l,unitId:a,instituteId:_})]})},ae=e=>{var t,a,s,d,c,r,u,v,_,p,m,h,g,x,j,S,A,b,y,C,I,E;let{applicant:R}=e;const{t:w}=(0,l.$G)(),P=(0,o.UO)(),k=(0,o.s0)(),[D,M]=(0,i.useState)(""),[O,F]=(0,i.useState)(!1),[q,H]=(0,i.useState)(""),{getFeeReceiptDetail:B,getFeeReceiptDetailRefetch:U}=(0,N.$d)({rid:D,skip:!D});(0,i.useEffect)((()=>{D&&U()}),[D,U]),(0,i.useEffect)((()=>{null!==B&&void 0!==B&&B.receipt&&null!==B&&void 0!==B&&B.all_remain&&H(B)}),[B]),(0,i.useEffect)((()=>{if(q){const{institute:e,studentInfo:t,paymentReceiptInfo:i}=(0,z.sp)(null===q||void 0===q?void 0:q.all_remain,null===q||void 0===q?void 0:q.receipt),l=new Worker(new URL(n.p+n.u(26283),n.b));l.postMessage({institute:e,studentInfo:t,paymentReceiptInfo:i,printReceiptType:"Refunded"===(null===i||void 0===i?void 0:i.transactonRefund)?"HOSTEL_REFUND":"HOSTEL"}),l.onmessage=e=>{e&&(window.open(e.data,"_blank"),F((e=>!e)),H(""),l.terminate())}}}),[q]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:T.Z.applicant_card_container,onClick:()=>{var e;k("/q/".concat(P.username,"/student/profile"),{state:{sid:null===R||void 0===R||null===(e=R.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,f.jsxs)("div",{className:T.Z.applicant_card_inner,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===R||void 0===R||null===(t=R.student)||void 0===t?void 0:t.photoId)?"".concat(L.yI,"/").concat(null===R||void 0===R||null===(a=R.student)||void 0===a?void 0:a.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,f.jsxs)("div",{className:T.Z.applicant_card_inner_info,children:[(0,f.jsx)("h6",{children:"".concat(null===R||void 0===R||null===(s=R.student)||void 0===s?void 0:s.studentFirstName," ").concat(null!==R&&void 0!==R&&null!==(d=R.student)&&void 0!==d&&d.studentMiddleName?null===R||void 0===R||null===(c=R.student)||void 0===c?void 0:c.studentMiddleName:""," ").concat(null===R||void 0===R||null===(r=R.student)||void 0===r?void 0:r.studentLastName)}),(0,f.jsxs)("p",{children:[w("room_name")," "," : ",(null===R||void 0===R||null===(u=R.student)||void 0===u||null===(v=u.student_bed_number)||void 0===v||null===(_=v.hostelRoom)||void 0===_?void 0:_.room_name)||""," / ",w("bed_name")," "," : ","".concat((null===R||void 0===R||null===(p=R.student)||void 0===p||null===(m=p.student_bed_number)||void 0===m?void 0:m.bed_number)||"")]})]})]}),(0,f.jsxs)("div",{className:T.Z.applicant_card_contact,children:[(0,f.jsxs)("div",{className:T.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,f.jsx)("p",{children:null===R||void 0===R||null===(h=R.student)||void 0===h?void 0:h.studentGender})]}),((null===R||void 0===R||null===(g=R.student)||void 0===g?void 0:g.studentPhoneNumber)||(null===R||void 0===R||null===(x=R.student)||void 0===x?void 0:x.studentParentsPhoneNumber))&&(0,f.jsxs)("div",{className:T.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,f.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==R&&void 0!==R&&null!==(j=R.student)&&void 0!==j&&j.studentPhoneNumber?null===R||void 0===R||null===(S=R.student)||void 0===S?void 0:S.studentPhoneNumber:null===R||void 0===R||null===(A=R.student)||void 0===A?void 0:A.studentParentsPhoneNumber})]})]}),(0,f.jsx)("div",{className:T.Z.applicant_card_reciept,onClick:e=>{e.stopPropagation()},children:(0,f.jsx)("a",{href:"".concat(L.r3,"/").concat(null===R||void 0===R||null===(b=R.student)||void 0===b||null===(y=b.application_print)||void 0===y||null===(C=y[0])||void 0===C?void 0:C.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,f.jsx)("div",{className:T.Z.applicant_card_reciept,children:null===R||void 0===R||null===(I=R.student)||void 0===I||null===(E=I.fee_receipt)||void 0===E?void 0:E.map(((e,t)=>t>2?"":(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-receipt-download.svg",onClick:t=>((e,t)=>{e.stopPropagation(),F((e=>!e)),M(t),D===t&&H(B)})(t,e),alt:"receipt icon",title:"Download Fees Receipt"})))})]}),O&&(0,f.jsx)(Z.Z,{})]})},se=e=>{let{carryParentState:t,applicationId:n,applicationDetail:l,viewAs:o,accessRole:a,accessTpye:s,applicationDetailApplicablePending:d,pageOpenAs:r}=e;const[v,_]=(0,i.useState)(!0),[p,m]=(0,i.useState)(1),[h,g]=(0,c.YD)(),[x,j]=(0,i.useState)([]),[S,A]=(0,i.useState)(!0),[b,y]=(0,i.useState)(""),{admissionAllottedList:C,admissionAllottedListRefetch:Z}=(0,N.k8)({data:{aid:n,page:p,limit:10,search:b||""},skip:!n});(0,i.useEffect)((()=>{g&&v&&m((e=>e+1))}),[g,v]),(0,i.useEffect)((()=>{n&&(A(!0),Z())}),[p,n,Z,b]),(0,i.useEffect)((()=>{var e,t;b?(j(null===C||void 0===C?void 0:C.allot),A(!1)):null!==C&&void 0!==C&&C.allot?(j((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===C||void 0===C?void 0:C.allot])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),A(!1)):0===(null===C||void 0===C||null===(t=C.allot)||void 0===t?void 0:t.length)&&A(!1);10===(null===C||void 0===C||null===(e=C.allot)||void 0===e?void 0:e.length)?_(!0):_(!1)}),[null===C||void 0===C?void 0:C.allot]);const I=(0,i.useCallback)((0,P.debounce)((e=>y(e)),500),[]);return(0,f.jsxs)(f.Fragment,{children:["COMPLETED_APPLICATION"===o?"":(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(w,{applicationDetail:l,carryParentState:t,tabStatusFlow:"Allot_Query",applicationDetailApplicablePending:d,pageOpenAs:r,children:(0,f.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:e=>{I(e.target.value)}})}),(0,f.jsx)(H,{carryParentState:t,accessRole:a,accessTpye:s,pageOpenAs:r})]}),null===x||void 0===x?void 0:x.map(((e,t)=>(null===x||void 0===x?void 0:x.length)===t+1?(0,f.jsx)("div",{ref:h,children:(0,f.jsx)(ae,{applicant:e})},t):(0,f.jsx)(ae,{applicant:e},t))),S&&(0,f.jsx)(u.Z,{})]})},de=e=>{var t,l,a,s,d,c,r,u,v,_,p,m,h,g,x,j,S;let{applicant:A}=e;const b=(0,o.UO)(),y=(0,o.s0)(),[C,I]=(0,i.useState)(""),[E,R]=(0,i.useState)(!1),[w,P]=(0,i.useState)(""),{getFeeReceiptDetail:k,getFeeReceiptDetailRefetch:D}=(0,N.$d)({rid:C,skip:!C});(0,i.useEffect)((()=>{C&&D()}),[C,D]),(0,i.useEffect)((()=>{null!==k&&void 0!==k&&k.receipt&&null!==k&&void 0!==k&&k.all_remain&&P(k)}),[k]),(0,i.useEffect)((()=>{if(w){const{institute:e,studentInfo:t,paymentReceiptInfo:i}=(0,z.sp)(null===w||void 0===w?void 0:w.all_remain,null===w||void 0===w?void 0:w.receipt),l=new Worker(new URL(n.p+n.u(5358),n.b));l.postMessage({institute:e,studentInfo:t,paymentReceiptInfo:i,printReceiptType:"Refunded"===(null===i||void 0===i?void 0:i.transactonRefund)?"HOSTEL_REFUND":"HOSTEL"}),l.onmessage=e=>{e&&(window.open(e.data,"_blank"),R((e=>!e)),P(""),l.terminate())}}}),[w]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:T.Z.applicant_card_container,onClick:()=>{var e;y("/q/".concat(b.username,"/student/profile"),{state:{sid:null===A||void 0===A||null===(e=A.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,f.jsxs)("div",{className:T.Z.applicant_card_inner,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===A||void 0===A||null===(t=A.student)||void 0===t?void 0:t.photoId)?"".concat(L.yI,"/").concat(null===A||void 0===A||null===(l=A.student)||void 0===l?void 0:l.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,f.jsxs)("div",{className:T.Z.applicant_card_inner_info,children:[(0,f.jsx)("h6",{children:"".concat(null===A||void 0===A||null===(a=A.student)||void 0===a?void 0:a.studentFirstName," ").concat(null!==A&&void 0!==A&&null!==(s=A.student)&&void 0!==s&&s.studentMiddleName?null===A||void 0===A||null===(d=A.student)||void 0===d?void 0:d.studentMiddleName:""," ").concat(null===A||void 0===A||null===(c=A.student)||void 0===c?void 0:c.studentLastName)}),(0,f.jsxs)("p",{children:["Rs. ",null===A||void 0===A?void 0:A.refund_amount," ","Refund"===(null===A||void 0===A?void 0:A.payment_status)&&"Refunded"]})]})]}),(0,f.jsxs)("div",{className:T.Z.applicant_card_contact,children:[(0,f.jsxs)("div",{className:T.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,f.jsx)("p",{children:null===A||void 0===A||null===(r=A.student)||void 0===r?void 0:r.studentGender})]}),((null===A||void 0===A||null===(u=A.student)||void 0===u?void 0:u.studentPhoneNumber)||(null===A||void 0===A||null===(v=A.student)||void 0===v?void 0:v.studentParentsPhoneNumber))&&(0,f.jsxs)("div",{className:T.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,f.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==A&&void 0!==A&&null!==(_=A.student)&&void 0!==_&&_.studentPhoneNumber?null===A||void 0===A||null===(p=A.student)||void 0===p?void 0:p.studentPhoneNumber:null===A||void 0===A||null===(m=A.student)||void 0===m?void 0:m.studentParentsPhoneNumber})]})]}),(0,f.jsx)("div",{className:T.Z.applicant_card_reciept,onClick:e=>{e.stopPropagation()},children:(0,f.jsx)("a",{href:"".concat(L.r3,"/").concat(null===A||void 0===A||null===(h=A.student)||void 0===h||null===(g=h.application_print)||void 0===g||null===(x=g[0])||void 0===x?void 0:x.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,f.jsx)("div",{className:T.Z.applicant_card_reciept,children:null===A||void 0===A||null===(j=A.student)||void 0===j||null===(S=j.fee_receipt)||void 0===S?void 0:S.map(((e,t)=>t>2?"":(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-receipt-download.svg",onClick:t=>((e,t)=>{e.stopPropagation(),R((e=>!e)),I(t),C===t&&P(k)})(t,e),alt:"receipt icon",title:"Download Fees Receipt"})))})]}),E&&(0,f.jsx)(Z.Z,{})]})},ce=e=>{let{carryParentState:t,applicationId:n,applicationDetail:l,viewAs:o,accessRole:a,accessTpye:s,applicationDetailApplicablePending:d,pageOpenAs:r}=e;const[v,_]=(0,i.useState)(!0),[p,m]=(0,i.useState)(1),[h,g]=(0,c.YD)(),[x,j]=(0,i.useState)([]),[S,A]=(0,i.useState)(""),[b,y]=(0,i.useState)(!0),{admissionCancelledList:C,admissionCancelledListRefetch:Z}=(0,N.wd)({data:{aid:n,page:p,limit:10,search:S||""},skip:!n});(0,i.useEffect)((()=>{g&&v&&m((e=>e+1))}),[g,v]),(0,i.useEffect)((()=>{n&&(y(!0),Z())}),[p,n,Z]),(0,i.useEffect)((()=>{var e,t;S?(j(null===C||void 0===C?void 0:C.cancel),y(!1)):null!==C&&void 0!==C&&C.cancel?(j((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===C||void 0===C?void 0:C.cancel])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),y(!1)):0===(null===C||void 0===C||null===(t=C.cancel)||void 0===t?void 0:t.length)&&y(!1);10===(null===C||void 0===C||null===(e=C.cancel)||void 0===e?void 0:e.length)?_(!0):_(!1)}),[null===C||void 0===C?void 0:C.cancel]);const I=(0,i.useCallback)((0,P.debounce)((e=>A(e)),500),[]);return(0,f.jsxs)(f.Fragment,{children:["COMPLETED_APPLICATION"===o?"":(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(w,{applicationDetail:l,carryParentState:t,applicationDetailApplicablePending:d,pageOpenAs:r,children:(0,f.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:e=>{I(e.target.value)}})}),(0,f.jsx)(H,{carryParentState:t,accessRole:a,accessTpye:s,pageOpenAs:r})]}),null===x||void 0===x?void 0:x.map(((e,t)=>(null===x||void 0===x?void 0:x.length)===t+1?(0,f.jsx)("div",{ref:h,children:(0,f.jsx)(de,{applicant:e})},t):(0,f.jsx)(de,{applicant:e},t))),b&&(0,f.jsx)(u.Z,{})]})},re=e=>{var t,n,l,a,s,d,c,u,v,_,p,m,h,g;let{carryParentState:x,hid:j,accessRole:S,accessTpye:A,pageOpenAs:N,instituteId:b}=e;const y=(0,o.TH)(),{getHostelAppliciontDetail:C,getHostelAppliciontDetailRefetch:Z}=(0,r.h4)({aid:null===(t=y.state)||void 0===t?void 0:t.applicationId,skip:!(null!==(n=y.state)&&void 0!==n&&n.applicationId)});return(0,i.useEffect)((()=>{var e;null!==(e=y.state)&&void 0!==e&&e.applicationId&&Z()}),[null===(l=y.state)||void 0===l?void 0:l.applicationId,Z]),(0,f.jsxs)(f.Fragment,{children:["application"===(null===(a=y.search)||void 0===a?void 0:a.substring(21))&&(0,f.jsx)(B,{applicationId:null===(s=y.state)||void 0===s?void 0:s.applicationId,hostelId:j,carryParentState:x,applicationDetail:null===C||void 0===C?void 0:C.oneApply,accessRole:S,accessTpye:A,applicationDetailApplicablePending:null===C||void 0===C?void 0:C.applicable_pending,pageOpenAs:N}),"select"===(null===(d=y.search)||void 0===d?void 0:d.substring(21))&&(0,f.jsx)(X,{applicationId:null===(c=y.state)||void 0===c?void 0:c.applicationId,hostelId:j,carryParentState:x,applicationDetail:null===C||void 0===C?void 0:C.oneApply,accessRole:S,accessTpye:A,applicationDetailApplicablePending:null===C||void 0===C?void 0:C.applicable_pending,pageOpenAs:N}),"confirm"===(null===(u=y.search)||void 0===u?void 0:u.substring(21))&&(0,f.jsx)(oe,{applicationId:null===(v=y.state)||void 0===v?void 0:v.applicationId,hostelId:j,carryParentState:x,applicationDetail:null===C||void 0===C?void 0:C.oneApply,unitId:null===(_=y.state)||void 0===_?void 0:_.unitId,accessRole:S,accessTpye:A,applicationDetailApplicablePending:null===C||void 0===C?void 0:C.applicable_pending,pageOpenAs:N,instituteId:b}),"allot"===(null===(p=y.search)||void 0===p?void 0:p.substring(21))&&(0,f.jsx)(se,{applicationId:null===(m=y.state)||void 0===m?void 0:m.applicationId,carryParentState:x,applicationDetail:null===C||void 0===C?void 0:C.oneApply,accessRole:S,accessTpye:A,applicationDetailApplicablePending:null===C||void 0===C?void 0:C.applicable_pending,pageOpenAs:N}),"cancel"===(null===(h=y.search)||void 0===h?void 0:h.substring(21))&&(0,f.jsx)(ce,{applicationId:null===(g=y.state)||void 0===g?void 0:g.applicationId,carryParentState:x,applicationDetail:null===C||void 0===C?void 0:C.oneApply,accessRole:S,accessTpye:A,applicationDetailApplicablePending:null===C||void 0===C?void 0:C.applicable_pending,pageOpenAs:N})]})};var ue=n(61503),ve=n(95290);function _e(e){var t,n,i,l,o,a,s,d,c,r,u,v,_,p,m,h,j,S,A,N,b,y,C,Z,I,E,R,w,P;let{data:k,carryParentState:D,accessRole:L,accessTpye:M,accessApplication:O,setOpenApplicationMenu:F,callApi:q,pageOpenAs:H}=e;const B=e=>{e.preventDefault(),F(k)};return(0,f.jsx)(f.Fragment,{children:L?M?(0,f.jsx)(x.Z,{carryParentState:{...D,applicationId:null===k||void 0===k?void 0:k._id,unitId:null===k||void 0===k||null===(t=k.applicationUnit)||void 0===t?void 0:t._id},activeTab:"request&ongoing&n=".concat("Application"===M?"application":"Selected"===M?"select":"Confirmed"===M?"confirm":"Allotted"===M?"allot":"cancel"),accessRole:L,accessTpye:M,callApi:q,children:(0,f.jsxs)("div",{className:T.Z.ongoing_card,children:[(0,f.jsxs)("div",{className:T.Z.ongoing_card_inner,children:[(0,f.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,f.jsxs)("div",{className:T.Z.ongoing_card_text,children:[(0,f.jsx)("h6",{children:null===k||void 0===k?void 0:k.applicationName}),(0,f.jsx)("p",{style:{marginBottom:"0"},children:null!==(n=null===k||void 0===k||null===(i=k.applicationUnit)||void 0===i?void 0:i.hostel_unit_name)&&void 0!==n?n:""})]})]}),(0,f.jsx)("div",{className:T.Z.ongoing_card_count_date,children:(0,f.jsxs)("div",{className:T.Z.ongoing_card_count_container,children:[(0,f.jsx)("h6",{children:null!==(l=null===k||void 0===k?void 0:k.receievedCount)&&void 0!==l?l:0}),(0,f.jsx)("h6",{children:null!==(o=null===k||void 0===k?void 0:k.selectCount)&&void 0!==o?o:0}),(0,f.jsx)("h6",{children:null!==(a=null===k||void 0===k?void 0:k.confirmCount)&&void 0!==a?a:0})]})})]})}):null!==O&&void 0!==O&&O.includes(null===k||void 0===k?void 0:k._id)?(0,f.jsx)(x.Z,{carryParentState:{...D,applicationId:null===k||void 0===k?void 0:k._id,unitId:null===k||void 0===k||null===(s=k.applicationUnit)||void 0===s?void 0:s._id},activeTab:"request&ongoing&n=application",accessRole:L,callApi:q,children:(0,f.jsxs)("div",{className:T.Z.ongoing_card,children:[(0,f.jsxs)("div",{className:T.Z.ongoing_card_inner,children:[(0,f.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,f.jsxs)("div",{className:T.Z.ongoing_card_text,children:[(0,f.jsx)("h6",{children:null===k||void 0===k?void 0:k.applicationName}),(0,f.jsx)("p",{style:{marginBottom:"0"},children:null!==(d=null===k||void 0===k||null===(c=k.applicationUnit)||void 0===c?void 0:c.hostel_unit_name)&&void 0!==d?d:""})]})]}),(0,f.jsx)("div",{className:T.Z.ongoing_card_count_date,children:(0,f.jsxs)("div",{className:T.Z.ongoing_card_count_container,children:[(0,f.jsx)("h6",{children:null!==(r=null===k||void 0===k?void 0:k.receievedCount)&&void 0!==r?r:0}),(0,f.jsx)("h6",{children:null!==(u=null===k||void 0===k?void 0:k.selectCount)&&void 0!==u?u:0}),(0,f.jsx)("h6",{children:null!==(v=null===k||void 0===k?void 0:k.confirmCount)&&void 0!==v?v:0})]})})]})}):(0,f.jsxs)("div",{className:T.Z.ongoing_card,style:{opacity:"0.5"},children:[(0,f.jsxs)("div",{className:T.Z.ongoing_card_inner,children:[(0,f.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,f.jsxs)("div",{className:T.Z.ongoing_card_text,children:[(0,f.jsx)("h6",{children:null===k||void 0===k?void 0:k.applicationName}),(0,f.jsxs)("p",{style:{marginBottom:"0"},children:[" ",null!==(_=null===k||void 0===k||null===(p=k.applicationUnit)||void 0===p?void 0:p.hostel_unit_name)&&void 0!==_?_:""]})]})]}),(0,f.jsx)("div",{className:T.Z.ongoing_card_count_date,children:(0,f.jsxs)("div",{className:T.Z.ongoing_card_count_container,children:[(0,f.jsx)("h6",{children:null!==(m=null===k||void 0===k?void 0:k.receievedCount)&&void 0!==m?m:0}),(0,f.jsx)("h6",{children:null!==(h=null===k||void 0===k?void 0:k.selectCount)&&void 0!==h?h:0}),(0,f.jsx)("h6",{children:null!==(j=null===k||void 0===k?void 0:k.confirmCount)&&void 0!==j?j:0})]})})]}):"INSTITUTE"===H?(0,f.jsx)(g.Z,{carryParentState:{...D,applicationId:null===k||void 0===k?void 0:k._id,unitId:null===k||void 0===k||null===(S=k.applicationUnit)||void 0===S?void 0:S._id},activeTab:"request&ongoing&n=application",children:(0,f.jsxs)("div",{className:T.Z.ongoing_card,children:[(0,f.jsxs)("div",{className:T.Z.ongoing_card_inner,children:[(0,f.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,f.jsxs)("div",{className:T.Z.ongoing_card_text,children:[(0,f.jsx)("h6",{children:null===k||void 0===k?void 0:k.applicationName}),(0,f.jsx)("p",{style:{marginBottom:"0"},children:null!==(A=null===k||void 0===k||null===(N=k.applicationUnit)||void 0===N?void 0:N.hostel_unit_name)&&void 0!==A?A:""})]})]}),(0,f.jsx)("div",{className:T.Z.ongoing_card_count_date,children:(0,f.jsxs)("div",{className:T.Z.ongoing_card_count_container,children:[(0,f.jsx)("h6",{children:null!==(b=null===k||void 0===k?void 0:k.receievedCount)&&void 0!==b?b:0}),(0,f.jsx)("h6",{children:null!==(y=null===k||void 0===k?void 0:k.selectCount)&&void 0!==y?y:0}),(0,f.jsx)("h6",{children:null!==(C=null===k||void 0===k?void 0:k.confirmCount)&&void 0!==C?C:0})]})}),(0,f.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:B,className:T.Z.menu_icon,title:"Menu"})]})}):(0,f.jsx)(x.Z,{carryParentState:{...D,applicationId:null===k||void 0===k?void 0:k._id,unitId:null===k||void 0===k||null===(Z=k.applicationUnit)||void 0===Z?void 0:Z._id},activeTab:"request&ongoing&n=application",accessRole:L,accessTpye:M,callApi:q,children:(0,f.jsxs)("div",{className:T.Z.ongoing_card,children:[(0,f.jsxs)("div",{className:T.Z.ongoing_card_inner,children:[(0,f.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,f.jsxs)("div",{className:T.Z.ongoing_card_text,children:[(0,f.jsx)("h6",{children:null===k||void 0===k?void 0:k.applicationName}),(0,f.jsx)("p",{style:{marginBottom:"0"},children:null!==(I=null===k||void 0===k||null===(E=k.applicationUnit)||void 0===E?void 0:E.hostel_unit_name)&&void 0!==I?I:""})]})]}),(0,f.jsx)("div",{className:T.Z.ongoing_card_count_date,children:(0,f.jsxs)("div",{className:T.Z.ongoing_card_count_container,children:[(0,f.jsx)("h6",{children:null!==(R=null===k||void 0===k?void 0:k.receievedCount)&&void 0!==R?R:0}),(0,f.jsx)("h6",{children:null!==(w=null===k||void 0===k?void 0:k.selectCount)&&void 0!==w?w:0}),(0,f.jsx)("h6",{children:null!==(P=null===k||void 0===k?void 0:k.confirmCount)&&void 0!==P?P:0})]})}),(0,f.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:B,className:T.Z.menu_icon,title:"Menu"})]})})})}const pe=function(e){let{hid:t,accessRole:n,accessTpye:o,carryParentState:a,accessApplication:s,callApi:d,pageOpenAs:v}=e;const{t:_}=(0,l.$G)(),[p,m]=(0,i.useState)(!0),[h,g]=(0,i.useState)(1),[x,j]=(0,c.YD)(),[S,A]=(0,i.useState)([]),[N,b]=(0,i.useState)(!0),[y,C]=(0,i.useState)(""),[Z,I]=(0,i.useState)(!1),[E,R]=(0,i.useState)(!1),{getOngoingApplicationList:w,getOngoingApplicationListRefetch:P}=(0,r.Kj)({data:{hid:t,page:h,limit:10},skip:!t});(0,i.useEffect)((()=>{j&&p&&g((e=>e+1))}),[j,p]),(0,i.useEffect)((()=>{t&&(b(!0),P())}),[t,h,P]),(0,i.useEffect)((()=>{var e,t;Z?(A(null===w||void 0===w?void 0:w.ongoing),b(!1),I(!1)):null!==w&&void 0!==w&&w.ongoing?(A((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===w||void 0===w?void 0:w.ongoing])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),b(!1)):0===(null===w||void 0===w||null===(t=w.ongoing)||void 0===t?void 0:t.length)&&b(!1);10===(null===w||void 0===w||null===(e=w.ongoing)||void 0===e?void 0:e.length)?m(!0):m(!1)}),[null===w||void 0===w?void 0:w.ongoing]);const k=()=>{g(1),I(!0),b(!0),P()};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("p",{className:T.Z.add_new_category,onClick:()=>{n||R((e=>!e))},style:{opacity:n?"0.5":1},children:_("create_new_application")}),(0,f.jsxs)("div",{className:T.Z.remainingFees,children:[null===S||void 0===S?void 0:S.map(((e,t)=>(null===S||void 0===S?void 0:S.length)===t+1?(0,f.jsx)("div",{ref:x,children:(0,f.jsx)(_e,{data:e,carryParentState:a,accessRole:n,accessTpye:o,accessApplication:s,setOpenApplicationMenu:C,callApi:d,pageOpenAs:v})},t):(0,f.jsx)(_e,{data:e,carryParentState:a,accessRole:n,accessTpye:o,accessApplication:s,setOpenApplicationMenu:C,callApi:d,pageOpenAs:v},t))),N&&(0,f.jsx)(u.Z,{}),y&&(0,f.jsx)(ue.Z,{openApplicationMenu:y,onClose:()=>C(""),onRefetch:k,viewAs:"HOSTEL_MANAGER",hostelId:t})]}),E&&(0,f.jsx)(ve.Z,{setCreateApplication:R,createApplication:E,hostelId:t,setRefetchOngoining:k,viewAs:"HOSTEL_MANAGER"})]})},me=e=>{var t,n,i,d;let{carryParentState:c}=e;const{t:r}=(0,l.$G)(),u=(0,o.TH)(),v=[{name:r("application"),id:0,url:"member/hostel?a=request&renewal&application"},{name:r("selected"),id:1,url:"member/hostel?a=request&renewal&select"},{name:r("confirmed"),id:2,url:"member/hostel?a=request&renewal&renewed"},{name:r("allotted"),id:3,url:"member/hostel?a=request&renewal&allot"},{name:r("cancelled"),id:4,url:"member/hostel?a=request&renewal&cancel"}];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.Z,{tabList:v,activeIndexTab:"application"===(null===(t=u.search)||void 0===t?void 0:t.substring(19))?0:"select"===(null===(n=u.search)||void 0===n?void 0:n.substring(19))?1:"renewed"===(null===(i=u.search)||void 0===i?void 0:i.substring(19))?2:"allot"===(null===(d=u.search)||void 0===d?void 0:d.substring(19))?3:4,showAs:!0,customStyleTab:{width:"100%"},customStyleLink:{width:"20%"},carryParentState:c}),(0,f.jsx)(a.Z,{customStyle:{width:"100%"}})]})};var he=n(72441);const ge=e=>{var t,n,a,s,d,c,u,v,_,p,m,h,g;let{applicant:x,onRefetchWhenSelect:j,hostelId:S,huid:A}=e;const{t:N}=(0,l.$G)(),b=(0,o.UO)(),y=(0,o.s0)(),[C,I]=(0,i.useState)(!1),[E,R]=(0,i.useState)(!1),[w,P]=(0,i.useState)(!1),[k]=(0,r._u)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:T.Z.applicant_card_container,onClick:()=>{var e;y("/q/".concat(b.username,"/student/profile"),{state:{sid:null===x||void 0===x||null===(e=x.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,f.jsxs)("div",{className:T.Z.applicant_card_inner,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===x||void 0===x||null===(t=x.student)||void 0===t?void 0:t.photoId)?"".concat(L.yI,"/").concat(null===x||void 0===x||null===(n=x.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,f.jsxs)("div",{className:T.Z.applicant_card_inner_info,children:[(0,f.jsx)("h6",{children:"".concat(null===x||void 0===x||null===(a=x.student)||void 0===a?void 0:a.studentFirstName," ").concat(null!==x&&void 0!==x&&null!==(s=x.student)&&void 0!==s&&s.studentMiddleName?null===x||void 0===x||null===(d=x.student)||void 0===d?void 0:d.studentMiddleName:""," ").concat(null===x||void 0===x||null===(c=x.student)||void 0===c?void 0:c.studentLastName)}),(0,f.jsxs)("p",{children:[N("applied_on"),":"," ",D()(null===x||void 0===x?void 0:x.apply_on).format("DD MMM yyyy")]})]})]}),(0,f.jsxs)("div",{className:T.Z.applicant_card_contact,children:[(0,f.jsxs)("div",{className:T.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,f.jsx)("p",{children:null===x||void 0===x||null===(u=x.student)||void 0===u?void 0:u.studentGender})]}),((null===x||void 0===x||null===(v=x.student)||void 0===v?void 0:v.studentPhoneNumber)||(null===x||void 0===x||null===(_=x.student)||void 0===_?void 0:_.studentParentsPhoneNumber))&&(0,f.jsxs)("div",{className:T.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,f.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==x&&void 0!==x&&null!==(p=x.student)&&void 0!==p&&p.studentPhoneNumber?null===x||void 0===x||null===(m=x.student)||void 0===m?void 0:m.studentPhoneNumber:null===x||void 0===x||null===(h=x.student)||void 0===h?void 0:h.studentParentsPhoneNumber})]})]}),(0,f.jsxs)("div",{className:T.Z.application_button,children:[(0,f.jsx)("div",{className:T.Z.selectAppBtnContainer,onClick:e=>{e.stopPropagation(),R(!0)},children:(0,f.jsx)("div",{className:T.Z.selectBtn,children:N("select")})}),(0,f.jsx)("div",{className:T.Z.selectAppBtnContainer,onClick:e=>{e.stopPropagation(),I((e=>!e))},children:(0,f.jsx)("div",{className:T.Z.cancelledBtn,children:N("reject")})})]})]}),(0,f.jsx)(M.Z,{children:C&&(0,f.jsx)(he.default,{studentId:null===x||void 0===x||null===(g=x.student)||void 0===g?void 0:g._id,applicationId:A,onClose:()=>I((e=>!e)),onRefetchWhenSelect:j,viewAs:"RENEWAL"})}),E&&(0,f.jsx)(O.Z,{hostelId:S,onClose:()=>R((e=>!e)),onSelectedStudent:e=>{var t,n;""!==(null===x||void 0===x||null===(t=x.student)||void 0===t?void 0:t._id)&&""!==A&&(P((e=>!e)),k({sid:null===x||void 0===x||null===(n=x.student)||void 0===n?void 0:n._id,huid:A,selectRenewal:e}).then((()=>{j(),P((e=>!e))})).catch((()=>{P((e=>!e))})))},batchId:"",classMasterId:""}),w&&(0,f.jsx)(Z.Z,{})]})},xe=e=>{let{carryParentState:t,applicationDetail:n,huid:l,hostelId:o,unitName:a,accessRole:s}=e;const[d,v]=(0,i.useState)(!0),[_,p]=(0,i.useState)(1),[m,h]=(0,i.useState)(""),[g,x]=(0,c.YD)(),[j,S]=(0,i.useState)([]),[A,N]=(0,i.useState)(!1),[b,y]=(0,i.useState)(!0),{getRenewalApplicationListByHostel:C,getRenewalApplicationListByHostelRefetch:Z}=(0,r._9)({data:{huid:l,page:_,limit:10,search:m||""},skip:!l});(0,i.useEffect)((()=>{x&&d&&p((e=>e+1))}),[x,d]),(0,i.useEffect)((()=>{l&&(y(!0),Z())}),[_,l,Z,m]),(0,i.useEffect)((()=>{var e,t;m?(S(null===C||void 0===C?void 0:C.request),y(!1)):A?(S(null===C||void 0===C?void 0:C.request),N(!1),y(!1)):null!==C&&void 0!==C&&C.request?(S((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===C||void 0===C?void 0:C.request])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),y(!1)):0===(null===C||void 0===C||null===(t=C.request)||void 0===t?void 0:t.length)&&y(!1);10===(null===C||void 0===C||null===(e=C.request)||void 0===e?void 0:e.length)?v(!0):v(!1)}),[null===C||void 0===C?void 0:C.request]);const I=()=>{p(1),Z(),N(!0)},E=(0,i.useCallback)((0,P.debounce)((e=>h(e)),500),[]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(w,{unitName:a,carryParentState:t,children:(0,f.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:e=>{E(e.target.value)}})}),(0,f.jsx)(me,{carryParentState:t}),null===j||void 0===j?void 0:j.map(((e,t)=>(null===j||void 0===j?void 0:j.length)===t+1?(0,f.jsx)("div",{ref:g,children:(0,f.jsx)(ge,{applicant:e,onRefetchWhenSelect:I,hostelId:o,huid:l})},t):(0,f.jsx)(ge,{applicant:e,onRefetchWhenSelect:I,hostelId:o,huid:l},t))),b&&(0,f.jsx)(u.Z,{})]})},fe=e=>{var t,n,i,a,s,d,c,r,u,v,_,p,m,h,g,x,j,S,A,N,b;let{onSelectOffileFees:y,applicant:C}=e;const{t:Z}=(0,l.$G)(),I=(0,o.UO)(),E=(0,o.s0)();return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:T.Z.applicant_card_container,onClick:()=>{var e;E("/q/".concat(I.username,"/student/profile"),{state:{sid:null===C||void 0===C||null===(e=C.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,f.jsxs)("div",{className:T.Z.applicant_card_inner,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===C||void 0===C||null===(t=C.student)||void 0===t?void 0:t.photoId)?"".concat(L.yI,"/").concat(null===C||void 0===C||null===(n=C.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,f.jsxs)("div",{className:T.Z.applicant_card_inner_info,children:[(0,f.jsx)("h6",{children:"".concat(null===C||void 0===C||null===(i=C.student)||void 0===i?void 0:i.studentFirstName," ").concat(null!==C&&void 0!==C&&null!==(a=C.student)&&void 0!==a&&a.studentMiddleName?null===C||void 0===C||null===(s=C.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null===C||void 0===C||null===(d=C.student)||void 0===d?void 0:d.studentLastName)}),(0,f.jsxs)("h6",{children:[Z("fee_structure")," : ",null!==(c=null===C||void 0===C||null===(r=C.student)||void 0===r||null===(u=r.hostel_fee_structure)||void 0===u||null===(v=u.category_master)||void 0===v?void 0:v.category_name)&&void 0!==c?c:"",", ",Z("rs")," ",null!==(_=null===C||void 0===C||null===(p=C.student)||void 0===p||null===(m=p.hostel_fee_structure)||void 0===m?void 0:m.total_admission_fees)&&void 0!==_?_:""]}),(0,f.jsx)("p",{children:null!==C&&void 0!==C&&C.install_type?null===C||void 0===C?void 0:C.install_type:"\n              ".concat(Z("select_on"),":\n              ").concat(D()(null===C||void 0===C?void 0:C.select_on).format("DD MMM yyyy"))})]})]}),(0,f.jsxs)("div",{className:T.Z.applicant_card_contact,children:[(0,f.jsxs)("div",{className:T.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,f.jsx)("p",{children:null===C||void 0===C||null===(h=C.student)||void 0===h?void 0:h.studentGender})]}),((null===C||void 0===C||null===(g=C.student)||void 0===g?void 0:g.studentPhoneNumber)||(null===C||void 0===C||null===(x=C.student)||void 0===x?void 0:x.studentParentsPhoneNumber))&&(0,f.jsxs)("div",{className:T.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,f.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==C&&void 0!==C&&null!==(j=C.student)&&void 0!==j&&j.studentPhoneNumber?null===C||void 0===C||null===(S=C.student)||void 0===S?void 0:S.studentPhoneNumber:null===C||void 0===C||null===(A=C.student)||void 0===A?void 0:A.studentParentsPhoneNumber})]})]}),"receipt requested"===(null===C||void 0===C||null===(N=C.payment_status)||void 0===N?void 0:N.toLowerCase())?(0,f.jsx)("div",{className:T.Z.selectBtnContainer,children:(0,f.jsx)("div",{className:T.Z.receipt_requested_btn,onClick:e=>{e.stopPropagation()},children:Z("receipt_requested")})}):(0,f.jsx)("div",{className:T.Z.selectBtnContainer,children:"pending"===(null===C||void 0===C||null===(b=C.payment_status)||void 0===b?void 0:b.toLowerCase())&&(0,f.jsx)("div",{className:T.Z.selectBtn,onClick:e=>{e.stopPropagation(),y(C)},children:Z("collect_fee")})})]})})},je=e=>{let{carryParentState:t,huid:n,unitName:l}=e;const[o,a]=(0,i.useState)(!0),[s,d]=(0,i.useState)(1),[v,_]=(0,i.useState)(""),[p,m]=(0,c.YD)(),[h,g]=(0,i.useState)([]),[x,j]=(0,i.useState)(!1),[S,A]=(0,i.useState)(!0),[N,b]=(0,i.useState)(""),[y,C]=(0,i.useState)(""),{getRenewalSelectListByHostel:Z,getRenewalSelectListByHostelRefetch:I}=(0,r.y$)({data:{huid:n,page:s,limit:10,search:v||""},skip:!n});(0,i.useEffect)((()=>{m&&o&&d((e=>e+1))}),[m,o]),(0,i.useEffect)((()=>{n&&(A(!0),I())}),[s,n,I,v]),(0,i.useEffect)((()=>{var e,t;v?(g(null===Z||void 0===Z?void 0:Z.select),A(!1)):x?(g(null===Z||void 0===Z?void 0:Z.select),j(!1),A(!1)):null!==Z&&void 0!==Z&&Z.select?(g((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===Z||void 0===Z?void 0:Z.select])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),A(!1)):0===(null===Z||void 0===Z||null===(t=Z.select)||void 0===t?void 0:t.length)&&A(!1);10===(null===Z||void 0===Z||null===(e=Z.select)||void 0===e?void 0:e.length)?a(!0):a(!1)}),[null===Z||void 0===Z?void 0:Z.select]);const E=(0,i.useCallback)((0,P.debounce)((e=>_(e)),500),[]),R=e=>{C(e),b("COLLECT_FEES")};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(w,{unitName:l,carryParentState:t,children:(0,f.jsx)("input",{type:"text",placeholder:"Search applications...",onChange:e=>{E(e.target.value)}})}),(0,f.jsx)(me,{carryParentState:t}),null===h||void 0===h?void 0:h.map(((e,t)=>(null===h||void 0===h?void 0:h.length)===t+1?(0,f.jsx)("div",{ref:p,children:(0,f.jsx)(fe,{applicant:e,onSelectOffileFees:R})},t):(0,f.jsx)(fe,{applicant:e,onSelectOffileFees:R},t))),S&&(0,f.jsx)(u.Z,{}),"COLLECT_FEES"===N&&(0,f.jsx)(Y,{applicant:y,applicationId:null===y||void 0===y?void 0:y.appId,huid:n,onRefetchWhenConfirm:()=>{d(1),I(),j(!0)},onClose:()=>b(""),viewAs:"RENEWAL"})]})},Se=e=>{let{carryParentState:t,huid:n,unitName:l}=e;const[o,a]=(0,i.useState)(!0),[s,d]=(0,i.useState)(1),[v,_]=(0,i.useState)(""),[p,m]=(0,c.YD)(),[h,g]=(0,i.useState)([]),[x,j]=(0,i.useState)(!1),[S,A]=(0,i.useState)(!0),[N,b]=(0,i.useState)(""),[y,C]=(0,i.useState)(""),{getRenewalRenewedListByHostel:Z,getRenewalRenewedListByHostelRefetch:I}=(0,r.gK)({data:{huid:n,page:s,limit:10,search:v||""},skip:!n});(0,i.useEffect)((()=>{m&&o&&d((e=>e+1))}),[m,o]),(0,i.useEffect)((()=>{n&&(A(!0),I())}),[s,n,I,v]),(0,i.useEffect)((()=>{var e,t;v?(g(null===Z||void 0===Z?void 0:Z.confirm),A(!1)):x?(g(null===Z||void 0===Z?void 0:Z.confirm),j(!1),A(!1)):null!==Z&&void 0!==Z&&Z.confirm?(g((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===Z||void 0===Z?void 0:Z.confirm])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),A(!1)):0===(null===Z||void 0===Z||null===(t=Z.confirm)||void 0===t?void 0:t.length)&&A(!1);10===(null===Z||void 0===Z||null===(e=Z.confirm)||void 0===e?void 0:e.length)?a(!0):a(!1)}),[null===Z||void 0===Z?void 0:Z.confirm]);const E=()=>{d(1),I(),j(!0)},R=(0,i.useCallback)((0,P.debounce)((e=>_(e)),500),[]),T=e=>{C(e),b("CANCEL_APPLICANT")},k=e=>{C(e),b("ALLOT_BED")};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(w,{unitName:l,carryParentState:t,children:(0,f.jsx)("input",{type:"text",placeholder:"Search applications...",onChange:e=>{R(e.target.value)}})}),(0,f.jsx)(me,{carryParentState:t}),null===h||void 0===h?void 0:h.map(((e,t)=>(null===h||void 0===h?void 0:h.length)===t+1?(0,f.jsx)("div",{ref:p,children:(0,f.jsx)(Q,{applicant:e,onCancelHostelApplication:T,onAllotBed:k})},t):(0,f.jsx)(Q,{applicant:e,onCancelHostelApplication:T,onAllotBed:k},t))),S&&(0,f.jsx)(u.Z,{}),"CANCEL_APPLICANT"===N&&(0,f.jsx)(ee,{currentApplicant:y,applicationId:null===y||void 0===y?void 0:y.appId,onRefetchWhenAction:E,onClose:()=>b(""),viewAs:"RENEWAL",huid:n}),"ALLOT_BED"===N&&(0,f.jsx)(le,{currentApplicant:y,applicationId:null===y||void 0===y?void 0:y.appId,onRefetchWhenAction:E,onClose:()=>b(""),unitId:n,viewAs:"RENEWAL"})]})},Ae=e=>{let{carryParentState:t,huid:n,unitName:l}=e;const[o,a]=(0,i.useState)(!0),[s,d]=(0,i.useState)(1),[v,_]=(0,c.YD)(),[p,m]=(0,i.useState)([]),[h,g]=(0,i.useState)(!0),[x,j]=(0,i.useState)(""),{getRenewalAllotListByHostel:S,getRenewalAllotListByHostelRefetch:A}=(0,r.cK)({data:{huid:n,page:s,limit:10,search:x||""},skip:!n});(0,i.useEffect)((()=>{_&&o&&d((e=>e+1))}),[_,o]),(0,i.useEffect)((()=>{n&&(g(!0),A())}),[s,n,A,x]),(0,i.useEffect)((()=>{var e,t;x?(m(null===S||void 0===S?void 0:S.allot),g(!1)):null!==S&&void 0!==S&&S.allot?(m((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===S||void 0===S?void 0:S.allot])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),g(!1)):0===(null===S||void 0===S||null===(t=S.allot)||void 0===t?void 0:t.length)&&g(!1);10===(null===S||void 0===S||null===(e=S.allot)||void 0===e?void 0:e.length)?a(!0):a(!1)}),[null===S||void 0===S?void 0:S.allot]);const N=(0,i.useCallback)((0,P.debounce)((e=>j(e)),500),[]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(w,{unitName:l,carryParentState:t,children:(0,f.jsx)("input",{type:"text",placeholder:"Search applications...",onChange:e=>{N(e.target.value)}})}),(0,f.jsx)(me,{carryParentState:t}),null===p||void 0===p?void 0:p.map(((e,t)=>(null===p||void 0===p?void 0:p.length)===t+1?(0,f.jsx)("div",{ref:v,children:(0,f.jsx)(ae,{applicant:e})},t):(0,f.jsx)(ae,{applicant:e},t))),h&&(0,f.jsx)(u.Z,{})]})},Ne=e=>{let{carryParentState:t,huid:n,unitName:l}=e;const[o,a]=(0,i.useState)(!0),[s,d]=(0,i.useState)(1),[v,_]=(0,c.YD)(),[p,m]=(0,i.useState)([]),[h,g]=(0,i.useState)(""),[x,j]=(0,i.useState)(!0),{getRenewalCancelListByHostel:S,getRenewalCancelListByHostelRefetch:A}=(0,r.R4)({data:{huid:n,page:s,limit:10,search:h||""},skip:!n});(0,i.useEffect)((()=>{_&&o&&d((e=>e+1))}),[_,o]),(0,i.useEffect)((()=>{n&&(j(!0),A())}),[s,n,A]),(0,i.useEffect)((()=>{var e,t;h?(m(null===S||void 0===S?void 0:S.cancel),j(!1)):null!==S&&void 0!==S&&S.cancel?(m((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===S||void 0===S?void 0:S.cancel])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),j(!1)):0===(null===S||void 0===S||null===(t=S.cancel)||void 0===t?void 0:t.length)&&j(!1);10===(null===S||void 0===S||null===(e=S.cancel)||void 0===e?void 0:e.length)?a(!0):a(!1)}),[null===S||void 0===S?void 0:S.cancel]);const N=(0,i.useCallback)((0,P.debounce)((e=>g(e)),500),[]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(w,{unitName:l,carryParentState:t,children:(0,f.jsx)("input",{type:"text",placeholder:"Search applications...",onChange:e=>{N(e.target.value)}})}),(0,f.jsx)(me,{carryParentState:t}),null===p||void 0===p?void 0:p.map(((e,t)=>(null===p||void 0===p?void 0:p.length)===t+1?(0,f.jsx)("div",{ref:v,children:(0,f.jsx)(de,{applicant:e})},t):(0,f.jsx)(de,{applicant:e},t))),x&&(0,f.jsx)(u.Z,{})]})},be=e=>{var t,n,i,l,a,s,d,c,r,u,v,_,p,m,h;let{carryParentState:g,hid:x}=e;const j=(0,o.TH)();return(0,f.jsxs)(f.Fragment,{children:["application"===(null===(t=j.search)||void 0===t?void 0:t.substring(19))&&(0,f.jsx)(xe,{hostelId:x,carryParentState:g,huid:null===(n=j.state)||void 0===n?void 0:n.huid,unitName:null===(i=j.state)||void 0===i?void 0:i.unitName}),"select"===(null===(l=j.search)||void 0===l?void 0:l.substring(19))&&(0,f.jsx)(je,{hostelId:x,carryParentState:g,huid:null===(a=j.state)||void 0===a?void 0:a.huid,unitName:null===(s=j.state)||void 0===s?void 0:s.unitName}),"renewed"===(null===(d=j.search)||void 0===d?void 0:d.substring(19))&&(0,f.jsx)(Se,{carryParentState:g,huid:null===(c=j.state)||void 0===c?void 0:c.huid,unitName:null===(r=j.state)||void 0===r?void 0:r.unitName}),"allot"===(null===(u=j.search)||void 0===u?void 0:u.substring(19))&&(0,f.jsx)(Ae,{carryParentState:g,huid:null===(v=j.state)||void 0===v?void 0:v.huid,unitName:null===(_=j.state)||void 0===_?void 0:_.unitName}),"cancel"===(null===(p=j.search)||void 0===p?void 0:p.substring(19))&&(0,f.jsx)(Ne,{carryParentState:g,huid:null===(m=j.state)||void 0===m?void 0:m.huid,unitName:null===(h=j.state)||void 0===h?void 0:h.unitName})]})};var ye=n(60080);const Ce=e=>{var t,n,i,c,r,u,v,_,p,m;let{hid:h,carryParentState:g,accessApplication:x,accessRole:j,accessTpye:S,callApi:N,pageOpenAs:b,instituteId:y}=e;const{t:C}=(0,l.$G)(),Z=(0,o.s0)(),I=(0,o.TH)(),E=(0,o.UO)(),R=[{name:C("application"),id:0,url:"member/hostel?a=request",is_active:"MULTI_APP_ACCESS"!==j&&j?"disabled":"enabled"},{name:C("completed"),id:1,url:"member/hostel?a=request&completed",is_active:j?"disabled":"enabled"},{name:C("renewals"),id:2,url:"member/hostel?a=request&unit&renewal",is_active:"RENEWAL_UNIT_ACCESS"!==j&&j?"disabled":"enabled"}],w=[{name:C("application"),id:0,url:"hostel?a=request",is_active:"enabled"},{name:C("completed"),id:1,url:"hostel?a=request&completed",is_active:"enabled"},{name:C("renewals"),id:2,url:"hostel?a=request&unit&renewal",is_active:"enabled"}];return(0,f.jsxs)(f.Fragment,{children:[("request"===(null===(t=I.search)||void 0===t?void 0:t.substring(3))||"request&completed"===(null===(n=I.search)||void 0===n?void 0:n.substring(3))||"request&unit&renewal"===(null===(i=I.search)||void 0===i?void 0:i.substring(3)))&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:d.Z.with_search,style:{justifyContent:"flex-start",gap:"1rem"},children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{Z("/q/".concat(E.username,"INSTITUTE"===b?"/hostel":"/member/hostel"),{state:{...g}})},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,f.jsx)("h6",{children:C("reuqests")})]}),(0,f.jsx)(s.Z,{tabList:"INSTITUTE"===b?w:R,activeIndexTab:"request"===(null===(c=I.search)||void 0===c?void 0:c.substring(3))?0:"request&completed"===(null===(r=I.search)||void 0===r?void 0:r.substring(3))?1:2,showAs:!0,customStyleLink:{width:"50%"},carryParentState:g}),(0,f.jsx)(a.Z,{customStyle:{width:"100%",marginBottom:"0.5rem"}})]}),"request"===(null===(u=I.search)||void 0===u?void 0:u.substring(3))&&(0,f.jsx)(pe,{hid:h,carryParentState:g,accessRole:j,accessTpye:S,accessApplication:x,callApi:N,pageOpenAs:b}),"request&ongoing"===(null===(v=I.search)||void 0===v?void 0:v.substring(3,18))&&(0,f.jsx)(re,{hid:h,carryParentState:g,accessRole:j,accessTpye:S,callApi:N,pageOpenAs:b,instituteId:y}),"request&completed"===(null===(_=I.search)||void 0===_?void 0:_.substring(3,20))&&(0,f.jsx)(A,{hid:h,carryParentState:g,accessRole:j,accessTpye:S,callApi:N,pageOpenAs:b}),"request&unit&renewal"===(null===(p=I.search)||void 0===p?void 0:p.substring(3))&&(0,f.jsx)(ye.Z,{hid:h,carryParentState:g,viewAs:"RENEWAL"}),"request&renewal"===(null===(m=I.search)||void 0===m?void 0:m.substring(3,18))&&(0,f.jsx)(be,{hid:h,carryParentState:g})]})}},82104:(e,t,n)=>{n.d(t,{Z:()=>C});var i=n(72791),l=n(39230),o=n(23441),a=n(98094),s=n(10406),d=n(11105),c=n(87338),r=n(36665),u=n(87457),v=n(57431),_=n(98734),p=n(97655),m=n(80184);const h=e=>{let{onClose:t,onRefetch:n,openAs:o,batchMenu:s,onEdit:d,hostelId:h,instituteId:g}=e;const{t:x}=(0,l.$G)(),[f,j]=(0,i.useState)(""),[S,A]=(0,i.useState)(!1),[N,b]=(0,i.useState)({batchName:"EDIT"===o?null===s||void 0===s?void 0:s.batchName:""}),[y]=(0,c.yZ)();(0,i.useEffect)((()=>{"EDIT"===o&&b((e=>({...e,batchName:null===s||void 0===s?void 0:s.batchName})))}),[o]);return(0,m.jsx)(r.Z,{onClose:t,children:(0,m.jsxs)("div",{className:u.Z.add_category_modal,children:[(0,m.jsxs)("div",{className:u.Z.add_category_modal_title,children:[(0,m.jsx)("h6",{children:x("EDIT"===o?"edit_batch":"add_new_batch")}),(0,m.jsx)("img",{src:"/images/close-post-icon.svg",onClick:t,alt:""})]}),(0,m.jsx)(a.Z,{customStyle:{width:"100%",marginTop:"0.6rem",marginBottom:"0.6rem"}}),(0,m.jsx)(p.Z,{labelText:x("batch-name-place"),placeholder:"e.g. 2022-23",name:"batchName",value:null===N||void 0===N?void 0:N.batchName,type:"text",onChange:e=>{var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)<=30&&b((t=>({...t,batchName:e.target.value})))},errorShow:f}),(0,m.jsx)(v.Z,{maxLength:30,valueLength:N.batchName}),(0,m.jsx)("button",{className:u.Z.set_fees_structure_btn,title:"Create Batch",onClick:()=>{N.batchName?"EDIT"===o?d(N.batchName):h&&(A((e=>!e)),y({hid:h,id:g,hostelBatch:N}).then((()=>{n(),t(),A((e=>!e))})).catch({})):j(!0)},style:{justifyContent:"center"},children:x("EDIT"===o?"update":"create")}),S&&(0,m.jsx)(_.Z,{})]})})};var g=n(72426),x=n.n(g),f=n(12072),j=n(84489),S=n(87049);const A=e=>{let{onClose:t,batchMenu:n,onRefetch:l,hostelId:o,onMasterApiRefetch:a}=e;const[s,d]=(0,i.useState)(!1),[r,u]=(0,i.useState)(!1),[v]=(0,c.ML)(),[p]=(0,c.c2)(),[g]=(0,c.b7)();return(0,m.jsx)(m.Fragment,{children:r?(0,m.jsx)(h,{openAs:"EDIT",onEdit:e=>{null!==n&&void 0!==n&&n._id&&(u(!1),d((e=>!e)),v({bid:null===n||void 0===n?void 0:n._id,updateBatch:{batchName:e}}).then((()=>{l(),d((e=>!e)),t()})).catch({}))},batchMenu:n,onClose:()=>u((e=>!e)),onRefetch:l,hostelId:o}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(j.Z,{onClose:t}),(0,m.jsxs)(f.Z,{customStyle:{zIndex:"1200"},children:[(0,m.jsxs)("div",{className:S.Z.edit_modal_container,style:{width:"200px"},children:[(0,m.jsx)("h6",{className:S.Z.edit,onClick:()=>{null!==n&&void 0!==n&&n._id&&o&&(d((e=>!e)),g({hid:o,bid:null===n||void 0===n?void 0:n._id}).then((()=>{a(),d((e=>!e)),t()})).catch({}))},children:"Select Batch"})," ",(0,m.jsx)("h6",{className:S.Z.edit,onClick:()=>u((e=>!e)),children:"Edit"}),(0,m.jsx)("h6",{className:S.Z.remove,onClick:()=>{null!==n&&void 0!==n&&n._id&&(d((e=>!e)),p({bid:null===n||void 0===n?void 0:n._id}).then((()=>{l(),t(),d((e=>!e))})).catch({}))},children:"Delete"})]}),s&&(0,m.jsx)(_.Z,{})]})]})})},N=e=>{var t;let{batch:n,selectedId:o,hostelId:a,onRefetch:d,onMasterApiRefetch:c}=e;const{t:r}=(0,l.$G)(),[u,v]=(0,i.useState)("");return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:s.Z.hostel_batch_container,style:{backgroundColor:o===(null===n||void 0===n?void 0:n._id)?"rgb(226, 229, 232)":"inherit"},children:[(0,m.jsx)("img",{className:s.Z.hostel_batch_image,src:"/images/master-24-grey-icon.svg",alt:"batch icon",style:{borderRadius:"0"}}),(0,m.jsxs)("div",{className:s.Z.hostel_batch_container_text,children:[(0,m.jsx)("h6",{children:null!==(t=null===n||void 0===n?void 0:n.batchName)&&void 0!==t?t:""}),(0,m.jsxs)("p",{children:[r("created_on_")," ",x()(null===n||void 0===n?void 0:n.createdAt).format("DD MMM yyyy")]})]}),(0,m.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:()=>v(n),className:s.Z.hostel_batch_menu,title:"Menu"})]}),u&&(0,m.jsx)(A,{onClose:()=>v(""),hostelId:a,onRefetch:d,batchMenu:u,onMasterApiRefetch:c})]})};var b=n(47167),y=n(16871);const C=e=>{var t;let{hid:n,selectedBacthId:r,onMasterApiRefetch:u,carryParentState:v,pageOpenAs:_,instituteId:p}=e;const{t:g}=(0,l.$G)(),x=(0,y.TH)(),[f,j]=(0,i.useState)([{name:g("batch"),id:0,url:"member/hostel?a=batch"},{name:g("hostel_tab_standard"),id:1,url:"member/hostel?a=standard"}]),[S,A]=(0,i.useState)(!1),[C,Z]=(0,o.YD)(),[I,E]=(0,i.useState)(1),[R,w]=(0,i.useState)(!0),[P,T]=(0,i.useState)(!0),[k,D]=(0,i.useState)([]),[L,M]=(0,i.useState)(!1),{getHostelAllBatch:O,getHostelAllBatchRefetch:F}=(0,c.si)({data:{hid:n,id:p,page:I,limit:10},skip:!n});(0,i.useEffect)((()=>{_&&j([{name:g("batch"),id:0,url:"hostel?a=batch"},{name:g("hostel_tab_standard"),id:1,url:"hostel?a=standard"}])}),[_]),(0,i.useEffect)((()=>{n&&(T(!0),F())}),[n,I,F]),(0,i.useEffect)((()=>{Z&&R&&E((e=>e+1))}),[Z,R]),(0,i.useEffect)((()=>{var e,t;L?(D(null===O||void 0===O?void 0:O.all_batches),T(!1),M(!1)):null!==O&&void 0!==O&&O.all_batches?(D((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===O||void 0===O?void 0:O.all_batches])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),T(!1)):0===(null===O||void 0===O||null===(t=O.all_batches)||void 0===t?void 0:t.length)&&T(!1);10===(null===O||void 0===O||null===(e=O.all_batches)||void 0===e?void 0:e.length)?w(!0):w(!1)}),[null===O||void 0===O?void 0:O.all_batches]);const q=()=>{E(1),M(!0),T(!0),F()},H=()=>{A((e=>!e))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(b.Z,{tabList:f,activeIndexTab:"batch"===(null===(t=x.search)||void 0===t?void 0:t.substring(3))?0:1,showAs:!0,customStyleTab:{width:"100%",marginTop:"-1rem"},customStyleLink:{width:"50%"},carryParentState:v}),(0,m.jsx)(a.Z,{customStyle:{marginBottom:"0.6rem",width:"100%"}}),(0,m.jsx)("div",{className:s.Z.with_search,children:(0,m.jsx)("h6",{children:g("hostel_batch")})}),(0,m.jsx)(a.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,m.jsx)("div",{className:s.Z.add_container,children:(0,m.jsx)("p",{className:s.Z.add_new_category,onClick:H,children:g("create_new_batch")})}),null===k||void 0===k?void 0:k.map(((e,t)=>(null===k||void 0===k?void 0:k.length)===t+1?(0,m.jsx)("div",{ref:C,children:(0,m.jsx)(N,{batch:e,hostelId:n,onRefetch:q,selectedId:r,onMasterApiRefetch:u})},null===e||void 0===e?void 0:e._id):(0,m.jsx)(N,{batch:e,hostelId:n,onRefetch:q,selectedId:r,onMasterApiRefetch:u},null===e||void 0===e?void 0:e._id))),P&&(0,m.jsx)(d.Z,{status:"white"}),S&&(0,m.jsx)(h,{onClose:H,hostelId:n,onRefetch:q,instituteId:p})]})}},42850:(e,t,n)=>{n.d(t,{Z:()=>v});n(72791);var i=n(16871),l=n(91104),o=n(35848),a=n(87457),s=n(39230),d=n(55271),c=n(22492),r=n(80184);const u=e=>{var t,n;let{fees_category_count:i,fee_master_array_count:l,fee_structure_count:o,carryParentState:u,accessRole:v,callApi:_,pageOpenAs:p}=e;const{t:m}=(0,s.$G)();return(0,r.jsx)(r.Fragment,{children:"INSTITUTE"===p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{carryParentState:u,activeTab:"fee&n=category",children:(0,r.jsxs)("div",{className:a.Z.fees_category,children:[(0,r.jsx)("div",{className:a.Z.fees_category_icon,children:(0,r.jsx)("img",{src:"/images/fees-category-icon.svg",alt:"categor icon"})}),(0,r.jsxs)("div",{className:a.Z.fees_category_text,children:[(0,r.jsx)("h6",{children:m("fees_master")}),(0,r.jsxs)("p",{children:[m("fees_total")," ",null!==(t=i+l)&&void 0!==t?t:0]})]})]})}),(0,r.jsx)(c.Z,{carryParentState:u,activeTab:"fee&n=structure",children:(0,r.jsxs)("div",{className:a.Z.department_card_container,style:{marginTop:"0.8rem"},children:[(0,r.jsx)("img",{src:"/images/profileAndCover/department-profile-img.svg",alt:"department avatar",className:a.Z.department_card_image}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h6",{className:a.Z.department_card_name,children:m("fees_structure")}),(0,r.jsxs)("p",{className:a.Z.department_card_head,children:[m("total_fees_structure")," ",null!==o&&void 0!==o?o:0]})]})]})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{carryParentState:u,activeTab:"fee&n=category",accessRole:v,callApi:_,children:(0,r.jsxs)("div",{className:a.Z.fees_category,children:[(0,r.jsx)("div",{className:a.Z.fees_category_icon,children:(0,r.jsx)("img",{src:"/images/fees-category-icon.svg",alt:"categor icon"})}),(0,r.jsxs)("div",{className:a.Z.fees_category_text,children:[(0,r.jsx)("h6",{children:m("fees_master")}),(0,r.jsxs)("p",{children:[m("fees_total")," ",null!==(n=i+l)&&void 0!==n?n:0]})]})]})}),(0,r.jsx)(d.Z,{carryParentState:u,activeTab:"fee&n=structure",accessRole:v,callApi:_,children:(0,r.jsxs)("div",{className:a.Z.department_card_container,style:{marginTop:"0.8rem"},children:[(0,r.jsx)("img",{src:"/images/profileAndCover/department-profile-img.svg",alt:"department avatar",className:a.Z.department_card_image}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h6",{className:a.Z.department_card_name,children:m("fees_structure")}),(0,r.jsxs)("p",{className:a.Z.department_card_head,children:[m("total_fees_structure")," ",null!==o&&void 0!==o?o:0]})]})]})})]})})},v=e=>{var t,n,s;let{financeId:d,instituteId:c,fees_category_count:v,fee_master_array_count:_,fee_structure_count:p,carryParentState:m,accessRole:h,hostelId:g,callApi:x,pageOpenAs:f}=e;const j=(0,i.TH)();return(0,r.jsxs)("div",{className:a.Z.fess_container,children:["fee"===(null===j||void 0===j||null===(t=j.search)||void 0===t?void 0:t.substring(3))&&(0,r.jsx)(u,{instituteId:c,fees_category_count:null!==v&&void 0!==v?v:0,carryParentState:m,fee_master_array_count:null!==_&&void 0!==_?_:0,fee_structure_count:p,accessRole:h,callApi:x,pageOpenAs:f}),"category"===(null===j||void 0===j||null===(n=j.search)||void 0===n?void 0:n.substring(9))&&(0,r.jsx)(l.Z,{financeId:d,openAs:"HOSTEL_MANAGER"}),"structure"===(null===j||void 0===j||null===(s=j.search)||void 0===s?void 0:s.substring(9))&&(0,r.jsx)(o.Z,{financeId:d,instituteId:c,hostelId:g})]})}},35848:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(72791),l=n(39230),o=n(23441),a=n(87338),s=n(98734),d=n(11105),c=n(98094),r=n(33302),u=n(66328),v=n(87457),_=n(16871),p=n(80184);const m=e=>{let{financeId:t,hostelId:n,instituteId:m,viewAs:h}=e;const{t:g}=(0,l.$G)(),x=(0,_.s0)(),[f,j]=(0,i.useState)(!1),[S,A]=(0,o.YD)(),[N,b]=(0,i.useState)(1),[y,C]=(0,i.useState)(!0),[Z,I]=(0,i.useState)(!1),[E,R]=(0,i.useState)(!0),[w,P]=(0,i.useState)([]),[T,k]=(0,i.useState)(""),[D,L]=(0,i.useState)(!1),{getHostelFeeStructureList:M,getHostelFeeStructureListRefetch:O}=(0,a.Sz)({data:{hid:n,page:N,limit:10},skip:!n});(0,i.useEffect)((()=>{n&&(R(!0),O())}),[n,N,O]),(0,i.useEffect)((()=>{A&&y&&b((e=>e+1))}),[A,y]),(0,i.useEffect)((()=>{var e,t;Z?(P(null===M||void 0===M?void 0:M.all_structures),R(!1),I(!1)):null!==M&&void 0!==M&&M.all_structures?(P((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===M||void 0===M?void 0:M.all_structures])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),R(!1)):0===(null===M||void 0===M||null===(t=M.all_structures)||void 0===t?void 0:t.length)&&R(!1);10===(null===M||void 0===M||null===(e=M.all_structures)||void 0===e?void 0:e.length)?C(!0):C(!1)}),[null===M||void 0===M?void 0:M.all_structures]);const F=()=>{j((e=>!e))},q=()=>{b(1),I(!0),R(!0),O()};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:v.Z.structure_container_title,style:{justifyContent:"HOSTEL_SEARCH"===h?"flex-start":"space-between",gap:"1rem"},children:["HOSTEL_SEARCH"===h&&(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{x(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,p.jsx)("h6",{children:g("fees_structure")}),(0,p.jsx)("div",{className:v.Z.upload_excel_container,children:"HOSTEL_SEARCH"===h?"":(0,p.jsx)("p",{className:v.Z.add_new_category,onClick:F,children:g("add_new_fees_structure")})})]}),(0,p.jsx)(c.Z,{customStyle:{marginBottom:"1rem"}}),null===w||void 0===w?void 0:w.map(((e,t)=>{var n,i,l,o,a,s,d,c,r,u,_,m;return(null===w||void 0===w?void 0:w.length)===t+1?(0,p.jsxs)("div",{className:v.Z.fees_card,ref:S,onClick:()=>k(null===e||void 0===e?void 0:e._id),style:{cursor:"pointer"},children:[(0,p.jsx)("img",{src:"/images/fees-category-icon.svg",alt:"categor icon"}),(0,p.jsxs)("div",{className:v.Z.fees_card_text,children:[(0,p.jsxs)("div",{className:v.Z.fees_card_text_bottom,children:[(0,p.jsx)("h6",{children:null!==(n=null===e||void 0===e||null===(i=e.category_master)||void 0===i?void 0:i.category_name)&&void 0!==n?n:""}),(0,p.jsx)("h6",{children:null!==(l=null===e||void 0===e||null===(o=e.class_master)||void 0===o?void 0:o.className)&&void 0!==l?l:""})]}),(0,p.jsxs)("div",{className:v.Z.fees_card_text_bottom,children:[(0,p.jsx)("h6",{children:null!==(a=null===e||void 0===e?void 0:e.structure_name)&&void 0!==a?a:""}),(0,p.jsx)("h6",{children:null!==(s=null===e||void 0===e?void 0:e.total_admission_fees)&&void 0!==s?s:0})]})]})]},null===e||void 0===e?void 0:e._id):(0,p.jsxs)("div",{className:v.Z.fees_card,onClick:()=>k(null===e||void 0===e?void 0:e._id),style:{cursor:"pointer"},children:[(0,p.jsx)("img",{src:"/images/fees-category-icon.svg",alt:"categor icon"}),(0,p.jsxs)("div",{className:v.Z.fees_card_text,children:[(0,p.jsxs)("div",{className:v.Z.fees_card_text_bottom,children:[(0,p.jsx)("h6",{children:null!==(d=null===e||void 0===e||null===(c=e.category_master)||void 0===c?void 0:c.category_name)&&void 0!==d?d:""}),(0,p.jsx)("h6",{children:null!==(r=null===e||void 0===e||null===(u=e.class_master)||void 0===u?void 0:u.className)&&void 0!==r?r:""})]}),(0,p.jsxs)("div",{className:v.Z.fees_card_text_bottom,children:[(0,p.jsx)("h6",{children:null!==(_=null===e||void 0===e?void 0:e.structure_name)&&void 0!==_?_:""}),(0,p.jsx)("h6",{children:null!==(m=null===e||void 0===e?void 0:e.total_admission_fees)&&void 0!==m?m:0})]})]})]},null===e||void 0===e?void 0:e._id)})),D&&(0,p.jsx)(s.Z,{}),E&&(0,p.jsx)(d.Z,{}),f&&(0,p.jsx)(r.Z,{onClose:F,financeId:t,departmentId:n,onRefetch:q,instituteId:m,flowAs:"Hostel_Manager"}),T&&(0,p.jsx)(u.Z,{structureId:T,setStructureId:k,onRefetch:q,departmentId:n,instituteId:m,financeId:t,flowAs:"Hostel_Manager",viewAs:h})]})}},48025:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(72791),l=n(39230),o=n(23441),a=n(763),s=n(10406),d=n(11105),c=n(98094),r=n(16871),u=n(43504),v=n(69721),_=n(80184);const p=e=>{var t,n,i;let{applicant:o}=e;const{t:a}=(0,l.$G)(),d=(0,r.UO)();return(0,_.jsx)(u.rU,{to:"/q/".concat(d.username,"/student/profile/hostel"),state:{sid:null===o||void 0===o?void 0:o._id,viewAs:"ADMISSION_ADMIN",openTab:"FEES_DATA"},children:(0,_.jsxs)("div",{className:s.Z.hostelite_container,title:"View Profile",children:[(0,_.jsx)("img",{alt:"Student Avatar",src:"1"!==o.photoId?"".concat(v.yI,"/").concat(null===o||void 0===o?void 0:o.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,_.jsxs)("div",{className:s.Z.hostelite_container_inner,children:[(0,_.jsxs)("div",{className:s.Z.hostelite_container_inner_text,children:[(0,_.jsx)("h6",{children:"".concat(o.studentFirstName," ").concat(o.studentMiddleName?o.studentMiddleName:""," ").concat(o.studentLastName)}),(0,_.jsx)("p",{children:null!==(t=null===o||void 0===o||null===(n=o.student_unit)||void 0===n?void 0:n.hostel_unit_name)&&void 0!==t?t:""})]}),(0,_.jsxs)("div",{className:s.Z.hostelite_container_inner_text,children:[(0,_.jsxs)("h6",{children:[a("rs")," ",". ",null!==(i=null===o||void 0===o?void 0:o.hostelRemainFeeCount)&&void 0!==i?i:0]}),(0,_.jsx)("p",{children:a("pending_fees")})]})]})]})})};var m=n(87338);const h=e=>{let{hid:t,instituteId:n}=e;const{t:r}=(0,l.$G)(),[u,v]=(0,o.YD)(),[h,g]=(0,i.useState)(1),[x,f]=(0,i.useState)(!0),[j,S]=(0,i.useState)(!0),[A,N]=(0,i.useState)([]),[b,y]=(0,i.useState)(""),{getPendingFeeByHostel:C,getPendingFeeByHostelRefetch:Z}=(0,m.ah)({data:{hid:t,page:h,limit:10,search:b,id:n},skip:!t});(0,i.useEffect)((()=>{t&&(S(!0),Z())}),[t,n,h,b,Z]),(0,i.useEffect)((()=>{v&&x&&g((e=>e+1))}),[v,x]),(0,i.useEffect)((()=>{var e,t;b?(N(null===C||void 0===C?void 0:C.remain),S(!1)):null!==C&&void 0!==C&&C.remain?(N((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===C||void 0===C?void 0:C.remain])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),S(!1)):0===(null===C||void 0===C||null===(t=C.remain)||void 0===t?void 0:t.length)&&S(!1);10===(null===C||void 0===C||null===(e=C.remain)||void 0===e?void 0:e.length)?f(!0):f(!1)}),[null===C||void 0===C?void 0:C.remain]);const I=(0,i.useCallback)((0,a.debounce)((e=>y(e)),500),[]);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:s.Z.with_search,children:[(0,_.jsx)("h6",{children:r("remaining_fees")}),(0,_.jsx)("section",{className:s.Z.search_container,children:(0,_.jsxs)("div",{className:s.Z.search_container_input,children:[(0,_.jsx)("img",{className:s.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,_.jsx)("input",{type:"text",placeholder:"Search...",onChange:e=>{I(e.target.value)}})]})})]}),(0,_.jsx)(c.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),null===A||void 0===A?void 0:A.map(((e,t)=>(null===A||void 0===A?void 0:A.length)===t+1?(0,_.jsx)("div",{ref:u,children:(0,_.jsx)(p,{applicant:e})},null===e||void 0===e?void 0:e._id):(0,_.jsx)(p,{applicant:e},null===e||void 0===e?void 0:e._id))),j&&(0,_.jsx)(d.Z,{})]})}},19765:(e,t,n)=>{n.d(t,{Z:()=>j});var i=n(72791),l=n(92994),o=n(39230),a=n(16871),s=n(72952),d=n(98734),c=n(98094),r=n(95048),u=n(91007),v=n(97655),_=n(87984),p=n(87338),m=n(84959),h=n(70966),g=n(5574),x=n(81622),f=n(80184);const j=e=>{var t,n,j,S;let{hid:A,viewAs:N}=e;const{t:b}=(0,o.$G)(),y=(0,a.s0)(),[C,Z]=(0,i.useState)(!1),[I,E]=(0,i.useState)({hostel_about:"",hostel_process:"",cashier_name:"",cashier_signature:""}),[R,w]=(0,i.useState)([{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}]),[P,T]=(0,i.useState)(""),[k,D]=(0,i.useState)(""),[L,M]=(0,i.useState)(!1),[O,F]=(0,i.useState)(!1),[q,H]=(0,i.useState)(""),B=(0,r.v9)((e=>e.idChange.id)),{data:U,refetch:G}=(0,u.pu)(B,{skip:"INSTITUTE"===N||!B});(0,i.useEffect)((()=>{B&&"INSTITUTE"!==N&&G()}),[B,N,G]);const{hostelGetSiteInfo:W,hostelGetSiteInfoRefetch:V}=(0,p.FA)({hid:A,skip:!A}),[J]=(0,p.wJ)(),[$]=(0,m.FL)();(0,i.useEffect)((()=>{A&&V()}),[A,V]),(0,i.useEffect)((()=>{var e,t,n,i,l,o;if(null!==W&&void 0!==W&&W.hostel_site&&(E({hostel_about:null===W||void 0===W||null===(e=W.hostel_site)||void 0===e?void 0:e.hostel_about,hostel_process:null===W||void 0===W||null===(t=W.hostel_site)||void 0===t?void 0:t.hostel_process,cashier_name:null===W||void 0===W||null===(n=W.hostel_site)||void 0===n?void 0:n.cashier_name,cashier_signature:null===W||void 0===W||null===(i=W.hostel_site)||void 0===i?void 0:i.cashier_signature}),null!==W&&void 0!==W&&null!==(l=W.hostel_site)&&void 0!==l&&null!==(o=l.hostel_contact)&&void 0!==o&&o.length)){let e=[];for(let t of null===W||void 0===W||null===(a=W.hostel_site)||void 0===a?void 0:a.hostel_contact){var a;let n={contact_department_name:null===t||void 0===t?void 0:t.contact_department_name,contact_person_name:null===t||void 0===t?void 0:t.contact_person_name,contact_person_mobile:null===t||void 0===t?void 0:t.contact_person_mobile,contact_person_email:null===t||void 0===t?void 0:t.contact_person_email,contactId:null===t||void 0===t?void 0:t._id};e.push(n)}w(e)}}),[null===W||void 0===W?void 0:W.hostel_site]);const Y=(e,t)=>{const n=[...R];for(let i=0;i<(null===n||void 0===n?void 0:n.length);i++)i===t&&(n[i][e.target.name]=e.target.value);w(n)},K=e=>{E((t=>({...t,[e.target.name]:e.target.value})))};(0,i.useEffect)((()=>{O&&(e=>{if(e){Z((e=>!e));const t=new FormData;t.append("file",e),$({fileUpload:t}).then((e=>{var t;null!==(t=e.data)&&void 0!==t&&t.imageKey&&E((t=>{var n;return{...t,cashier_signature:null===(n=e.data)||void 0===n?void 0:n.imageKey}})),Z((e=>!e))})).catch({})}})(k)}),[O,k]);return(0,f.jsxs)("div",{className:l.Z.bgContainer,children:["INSTITUTE"===N?null:(0,f.jsx)("div",{className:l.Z.navbar,children:(0,f.jsx)(_.default,{status:"members",profileData:null===U||void 0===U?void 0:U.user,username:null===U||void 0===U||null===(t=U.user)||void 0===t?void 0:t.username,name:null===U||void 0===U||null===(n=U.user)||void 0===n?void 0:n.userLegalName,photoId:null===U||void 0===U||null===(j=U.user)||void 0===j?void 0:j.photoId,profilePhoto:null===U||void 0===U||null===(S=U.user)||void 0===S?void 0:S.profilePhoto})}),(0,f.jsxs)("div",{className:l.Z.container,children:[(0,f.jsxs)("div",{className:l.Z.containerhead,children:[(0,f.jsx)("h6",{children:b("update_hostel_site_info")}),(0,f.jsx)("img",{src:"/images/close-post-icon.svg",alt:"",onClick:()=>{y(-1)}})]}),(0,f.jsx)(c.Z,{customStyle:{width:"100%"}}),(0,f.jsx)("div",{className:l.Z.containercontent,children:(0,f.jsxs)("div",{className:l.Z.container_inner_content,children:[(0,f.jsx)(s.Z,{labelText:b("about_hostel_department"),placeholder:b("about_hostel_department_placeholder"),name:"hostel_about",value:I.hostel_about,type:"text",onChange:K,customStyleContainer:{width:"100%"}}),(0,f.jsx)(s.Z,{labelText:b("hostel_process_site"),placeholder:b("hostel_process_site_placeholder"),name:"hostel_process",value:I.hostel_process,type:"text",onChange:K,customStyleContainer:{width:"100%"}}),(0,f.jsxs)("div",{className:l.Z.show_field,style:{alignItems:"flex-start"},children:[(0,f.jsx)(v.Z,{labelText:b("site_cashier_name"),placeholder:b("site_cashier_name_placeholder"),name:"cashier_name",value:null===I||void 0===I?void 0:I.cashier_name,type:"text",onChange:K,customStyleContainer:{width:"69.5%"}}),(0,f.jsx)(x.Z,{labelText:b("cashier_signature"),name:"cashier_signature",value:I.cashier_signature,onChange:e=>{if(e.target.files[0]){const t=URL.createObjectURL(e.target.files[0]);D(e.target.files[0]),H(t),T(t),M(!0)}},customStyleContainer:{width:"29.5%"}})]}),(0,f.jsxs)("div",{className:l.Z.add_contact_person,children:[(0,f.jsx)("h6",{children:b("add_contact_persons")}),null===R||void 0===R?void 0:R.map(((e,t)=>(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:l.Z.show_field,children:[(0,f.jsx)(v.Z,{labelText:b("site_department_name"),placeholder:b("site_department_name_placeholder"),name:"contact_department_name",value:null===e||void 0===e?void 0:e.contact_department_name,type:"text",onChange:e=>Y(e,t),customStyleContainer:{width:"49.5%"}}),(0,f.jsx)(v.Z,{labelText:b("contact_person_name"),placeholder:b("contact_person_name_placeholder"),name:"contact_person_name",value:null===e||void 0===e?void 0:e.contact_person_name,type:"text",onChange:e=>Y(e,t),customStyleContainer:{width:"49.5%"}})]}),(0,f.jsxs)("div",{className:l.Z.show_field,children:[(0,f.jsx)(v.Z,{labelText:b("contact_person_mobile"),placeholder:b("contact_person_mobile_placeholder"),name:"contact_person_mobile",value:null===e||void 0===e?void 0:e.contact_person_mobile,type:"text",onChange:e=>Y(e,t),customStyleContainer:{width:"49.5%"}}),(0,f.jsx)(v.Z,{labelText:b("contact_person_email"),placeholder:b("contact_person_email_placeholder"),name:"contact_person_email",value:null===e||void 0===e?void 0:e.contact_person_email,type:"email",onChange:e=>Y(e,t),customStyleContainer:{width:"49.5%"}})]})]},t)))]}),(0,f.jsx)("button",{className:l.Z.add_contact_person_btn,title:"Add Contact Person",onClick:()=>{w((e=>[...e,{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}]))},children:b("add_contact_person")}),C&&(0,f.jsx)(d.Z,{}),(0,f.jsx)("button",{className:l.Z.update_btn,onClick:()=>{Z((e=>!e)),J({hid:A,updateSiteInfo:{...I,hostel_contact:null===R||void 0===R?void 0:R.filter((e=>null!==e&&void 0!==e&&e.contactId?"":e)),edit_hostel_contact:null===R||void 0===R?void 0:R.filter((e=>null!==e&&void 0!==e&&e.contactId?e:""))}}).then((()=>{Z((e=>!e))})).catch({})},children:b("update")}),(0,f.jsx)(g.Z,{open:L,children:(0,f.jsx)(h.Z,{setPhotoURL:T,photoURL:P,setFile:D,setOpenCrop:M,setUpload:F,setProfilePhoto:H,first:1,second:1})})]})})]})]})}},73309:(e,t,n)=>{n.d(t,{Z:()=>S});var i=n(72791),l=n(39230),o=n(98094),a=n(10406),s=n(11105),d=n(36665),c=n(87457),r=n(57431),u=n(98734),v=n(87338),_=n(97655),p=n(80184);const m=e=>{let{onClose:t,onRefetch:n,hostelId:a}=e;const{t:s}=(0,l.$G)(),[m,h]=(0,i.useState)(""),[g,x]=(0,i.useState)(!1),[f,j]=(0,i.useState)({className:""}),[S]=(0,v.T4)();return(0,p.jsx)(d.Z,{onClose:t,children:(0,p.jsxs)("div",{className:c.Z.add_category_modal,children:[(0,p.jsxs)("div",{className:c.Z.add_category_modal_title,children:[(0,p.jsx)("h6",{children:s("create_new_master")}),(0,p.jsx)("img",{src:"/images/close-post-icon.svg",onClick:t,alt:""})]}),(0,p.jsx)(o.Z,{customStyle:{width:"100%",marginTop:"0.6rem",marginBottom:"0.6rem"}}),(0,p.jsx)(_.Z,{labelText:s("create_master_header_2"),placeholder:s("e.g. 6th Class/ FYJC"),name:"className",value:null===f||void 0===f?void 0:f.className,type:"text",onChange:e=>{var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)<=40&&j((t=>({...t,className:e.target.value})))},errorShow:m}),(0,p.jsx)(r.Z,{maxLength:40,valueLength:f.className}),(0,p.jsx)("button",{className:c.Z.set_fees_structure_btn,title:"Create Standard",onClick:()=>{f.className?a&&(x((e=>!e)),S({hid:a,hostelStandard:f}).then((()=>{n(),t(),x((e=>!e))})).catch({})):h(!0)},style:{justifyContent:"center"},children:s("create")}),g&&(0,p.jsx)(u.Z,{})]})})};var h=n(72426),g=n.n(h);const x=e=>{var t;let{standard:n}=e;const{t:i}=(0,l.$G)();return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:a.Z.hostel_batch_container,children:[(0,p.jsx)("img",{className:a.Z.hostel_batch_image,src:"/images/master-24-grey-icon.svg",alt:"batch icon",style:{borderRadius:"0"}}),(0,p.jsxs)("div",{className:a.Z.hostel_batch_container_text,children:[(0,p.jsx)("h6",{children:null!==(t=null===n||void 0===n?void 0:n.className)&&void 0!==t?t:""}),(0,p.jsxs)("p",{children:[i("created_on_")," ",g()(null===n||void 0===n?void 0:n.createdAt).format("DD MMM yyyy")]})]})]})})};var f=n(16871),j=n(47167);const S=e=>{var t,n;let{hid:d,carryParentState:c,pageOpenAs:r}=e;const{t:u}=(0,l.$G)(),_=(0,f.TH)(),[h,g]=(0,i.useState)([{name:u("batch"),id:0,url:"member/hostel?a=batch"},{name:u("hostel_tab_standard"),id:1,url:"member/hostel?a=standard"}]),[S,A]=(0,i.useState)(!1),[N,b]=(0,i.useState)(!0),{getHostelAllStandard:y,getHostelAllStandardRefetch:C}=(0,v.yg)({hid:d,skip:!d});(0,i.useEffect)((()=>{r&&g([{name:u("batch"),id:0,url:"hostel?a=batch"},{name:u("hostel_tab_standard"),id:1,url:"hostel?a=standard"}])}),[r]),(0,i.useEffect)((()=>{d&&(b(!0),C())}),[d,C]),(0,i.useEffect)((()=>{var e;(null!==y&&void 0!==y&&y.all_masters||0===(null===y||void 0===y||null===(e=y.all_masters)||void 0===e?void 0:e.length))&&b(!1)}),[null===y||void 0===y?void 0:y.all_masters]);const Z=()=>{A((e=>!e))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(j.Z,{tabList:h,activeIndexTab:"batch"===(null===(t=_.search)||void 0===t?void 0:t.substring(3))?0:1,showAs:!0,customStyleTab:{width:"100%",marginTop:"-1rem"},customStyleLink:{width:"50%"},carryParentState:c}),(0,p.jsx)(o.Z,{customStyle:{marginBottom:"0.6rem",width:"100%"}}),(0,p.jsx)("div",{className:a.Z.with_search,children:(0,p.jsx)("h6",{children:u("hostel_standard")})}),(0,p.jsx)(o.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,p.jsx)("div",{className:a.Z.add_container,children:(0,p.jsx)("p",{className:a.Z.add_new_category,onClick:Z,children:u("create_new_standard")})}),null===y||void 0===y||null===(n=y.all_masters)||void 0===n?void 0:n.map((e=>(0,p.jsx)(x,{standard:e},null===e||void 0===e?void 0:e._id))),N&&(0,p.jsx)(s.Z,{status:"white"}),S&&(0,p.jsx)(m,{onClose:Z,hostelId:d,onRefetch:()=>{b(!0),C()}})]})}},49802:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(72791),l=n(39230),o=n(87338),a=n(98094),s=n(96146),d=n(90865),c=n(51561),r=n(10406),u=n(80184);const v=e=>{var t;let{hid:n}=e;const[v,_]=(0,i.useState)(""),{t:p}=(0,l.$G)(),[m,h]=(0,i.useState)(!1),[g]=(0,o._M)(),{getHostelForm:x,getHostelFormRefetch:f}=(0,o.GC)({hid:n,skip:!n}),[j,S]=(0,i.useState)({otherPersonalInfo:!1,enrollmentPrn:!1,identityDetails:!1,addressInfo:!1,parentsInfo:!1,previousSchoolAndDocument:{previousSchoolDocument:!1,aadharCard:!1,identityDocument:!1,casteCertificate:!1,joiningTransferLetter:!1,leavingTransferCertificate:!1,incomeCertificate:!1,lastYearMarksheet:!1,nationalityCertificate:!1,domicileCertificate:!1,nonCreamyLayerCertificate:!1},bankDetails:!1,cpi:!1,ug_undertakings_hostel_admission:!1,pg_undertakings_hostel_admission:!1});(0,i.useEffect)((()=>{n&&f()}),[n,f]),(0,i.useEffect)((()=>{var e,t,n,i,l,o,a,s,d,c,r,u,v,_,p,m,h,g,f,j,A,N,b,y,C,Z,I,E,R,w,P,T,k,D,L,M,O,F,q,H,B,U,G,W,V,J,$,Y,K,X;null!==x&&void 0!==x&&null!==(e=x.one_hostel)&&void 0!==e&&e.student_form_query&&S({otherPersonalInfo:null===x||void 0===x||null===(t=x.one_hostel)||void 0===t||null===(n=t.student_form_query)||void 0===n?void 0:n.otherPersonalInfo,enrollmentPrn:null===x||void 0===x||null===(i=x.one_hostel)||void 0===i||null===(l=i.student_form_query)||void 0===l?void 0:l.enrollmentPrn,identityDetails:null===x||void 0===x||null===(o=x.one_hostel)||void 0===o||null===(a=o.student_form_query)||void 0===a?void 0:a.identityDetails,addressInfo:null===x||void 0===x||null===(s=x.one_hostel)||void 0===s||null===(d=s.student_form_query)||void 0===d?void 0:d.addressInfo,parentsInfo:null===x||void 0===x||null===(c=x.one_hostel)||void 0===c||null===(r=c.student_form_query)||void 0===r?void 0:r.parentsInfo,previousSchoolAndDocument:{previousSchoolDocument:null===x||void 0===x||null===(u=x.one_hostel)||void 0===u||null===(v=u.student_form_query)||void 0===v||null===(_=v.previousSchoolAndDocument)||void 0===_?void 0:_.previousSchoolDocument,aadharCard:null===x||void 0===x||null===(p=x.one_hostel)||void 0===p||null===(m=p.student_form_query)||void 0===m||null===(h=m.previousSchoolAndDocument)||void 0===h?void 0:h.aadharCard,identityDocument:null===x||void 0===x||null===(g=x.one_hostel)||void 0===g||null===(f=g.student_form_query)||void 0===f||null===(j=f.previousSchoolAndDocument)||void 0===j?void 0:j.identityDocument,casteCertificate:null===x||void 0===x||null===(A=x.one_hostel)||void 0===A||null===(N=A.student_form_query)||void 0===N||null===(b=N.previousSchoolAndDocument)||void 0===b?void 0:b.casteCertificate,joiningTransferLetter:null===x||void 0===x||null===(y=x.one_hostel)||void 0===y||null===(C=y.student_form_query)||void 0===C||null===(Z=C.previousSchoolAndDocument)||void 0===Z?void 0:Z.joiningTransferLetter,leavingTransferCertificate:null===x||void 0===x||null===(I=x.one_hostel)||void 0===I||null===(E=I.student_form_query)||void 0===E||null===(R=E.previousSchoolAndDocument)||void 0===R?void 0:R.leavingTransferCertificate,incomeCertificate:null===x||void 0===x||null===(w=x.one_hostel)||void 0===w||null===(P=w.student_form_query)||void 0===P||null===(T=P.previousSchoolAndDocument)||void 0===T?void 0:T.incomeCertificate,lastYearMarksheet:null===x||void 0===x||null===(k=x.one_hostel)||void 0===k||null===(D=k.student_form_query)||void 0===D||null===(L=D.previousSchoolAndDocument)||void 0===L?void 0:L.lastYearMarksheet,nationalityCertificate:null===x||void 0===x||null===(M=x.one_hostel)||void 0===M||null===(O=M.student_form_query)||void 0===O||null===(F=O.previousSchoolAndDocument)||void 0===F?void 0:F.nationalityCertificate,domicileCertificate:null===x||void 0===x||null===(q=x.one_hostel)||void 0===q||null===(H=q.student_form_query)||void 0===H||null===(B=H.previousSchoolAndDocument)||void 0===B?void 0:B.domicileCertificate,nonCreamyLayerCertificate:null===x||void 0===x||null===(U=x.one_hostel)||void 0===U||null===(G=U.student_form_query)||void 0===G||null===(W=G.previousSchoolAndDocument)||void 0===W?void 0:W.nonCreamyLayerCertificate},bankDetails:null===x||void 0===x||null===(V=x.one_hostel)||void 0===V||null===(J=V.student_form_query)||void 0===J?void 0:J.bankDetails,cpi:null===x||void 0===x||null===($=x.one_hostel)||void 0===$||null===(Y=$.student_form_query)||void 0===Y?void 0:Y.cpi,ug_undertakings_hostel_admission:null===x||void 0===x||null===(K=x.one_hostel)||void 0===K?void 0:K.ug_undertakings_hostel_admission,pg_undertakings_hostel_admission:null===x||void 0===x||null===(X=x.one_hostel)||void 0===X?void 0:X.pg_undertakings_hostel_admission})}),[null===x||void 0===x||null===(t=x.one_hostel)||void 0===t?void 0:t.student_form_query]);const A=(e,t)=>{const i={...j};for(let n in i)n===e&&(i[n]=t);g({hid:n,formSetting:{student_form_query:i,ug_undertakings_hostel_admission:i.ug_undertakings_hostel_admission,pg_undertakings_hostel_admission:i.pg_undertakings_hostel_admission}}).then((()=>{_("Add joining details updated"),h(!0)})).catch({}),S((n=>({...n,[e]:t})))},N=(e,t)=>{const i={...j};"previousSchoolDocument"!==e||t||(i.previousSchoolAndDocument.aadharCard=!1,i.previousSchoolAndDocument.casteCertificate=!1,i.previousSchoolAndDocument.domicileCertificate=!1,i.previousSchoolAndDocument.identityDocument=!1,i.previousSchoolAndDocument.incomeCertificate=!1,i.previousSchoolAndDocument.joiningTransferLetter=!1,i.previousSchoolAndDocument.lastYearMarksheet=!1,i.previousSchoolAndDocument.leavingTransferCertificate=!1,i.previousSchoolAndDocument.nationalityCertificate=!1,i.previousSchoolAndDocument.nonCreamyLayerCertificate=!1);for(let n in i.previousSchoolAndDocument)n===e&&(i.previousSchoolAndDocument[n]=t);g({hid:n,formSetting:{student_form_query:i}}).then((()=>{_("Add joining details updated"),h(!0)})).catch({}),S((n=>({...n,previousSchoolAndDocument:{...n.previousSchoolAndDocument,[e]:t}})))};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:r.Z.with_search,children:(0,u.jsx)("h6",{children:p("hostel_form_setting")})}),(0,u.jsx)(a.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,u.jsxs)("div",{className:r.Z.staff_form_container,children:[(0,u.jsx)(d.Z,{labelHeading:p("personal_info_"),labelDescription:p("name_"),defaultLabel:!0}),(0,u.jsx)(a.Z,{}),(0,u.jsx)(d.Z,{labelHeading:p("enrollment_number"),labelDescription:p("enrollment_label_text"),defaultLabel:!1,checkedToggle:j.enrollmentPrn,onToggleHandler:e=>A("enrollmentPrn",e.target.checked)}),(0,u.jsx)(a.Z,{}),(0,u.jsx)(d.Z,{labelHeading:p("other_info"),labelDescription:p("label_text"),defaultLabel:!1,checkedToggle:j.otherPersonalInfo,onToggleHandler:e=>A("otherPersonalInfo",e.target.checked)}),(0,u.jsx)(a.Z,{}),(0,u.jsx)(d.Z,{labelHeading:p("i_details"),labelDescription:p("labeltext2"),defaultLabel:!1,checkedToggle:j.identityDetails,onToggleHandler:e=>A("identityDetails",e.target.checked)}),(0,u.jsx)(a.Z,{}),(0,u.jsx)(d.Z,{labelHeading:p("add_info"),labelDescription:p("labeltext3"),defaultLabel:!1,checkedToggle:j.addressInfo,onToggleHandler:e=>A("addressInfo",e.target.checked)}),(0,u.jsx)(a.Z,{}),(0,u.jsx)(d.Z,{labelHeading:p("parent_info_"),labelDescription:p("label_text2"),defaultLabel:!1,checkedToggle:j.parentsInfo,onToggleHandler:e=>A("parentsInfo",e.target.checked)}),(0,u.jsx)(a.Z,{}),(0,u.jsxs)(d.Z,{labelHeading:p("prev_school_"),labelDescription:"",defaultLabel:!1,checkedToggle:j.previousSchoolAndDocument.previousSchoolDocument,onToggleHandler:e=>N("previousSchoolDocument",e.target.checked),children:[(0,u.jsx)(s.Z,{checkLabel:p("aadhar_card"),checkedValue:j.previousSchoolAndDocument.aadharCard,onCheckboxAction:e=>N("aadharCard",e.target.checked)}),(0,u.jsx)(s.Z,{checkLabel:p("labeltext4"),checkedValue:j.previousSchoolAndDocument.identityDocument,onCheckboxAction:e=>N("identityDocument",e.target.checked)}),(0,u.jsx)(s.Z,{checkLabel:p("castee_"),checkedValue:j.previousSchoolAndDocument.casteCertificate,onCheckboxAction:e=>N("casteCertificate",e.target.checked)}),(0,u.jsx)(s.Z,{checkLabel:p("joining_letter"),checkedValue:j.previousSchoolAndDocument.joiningTransferLetter,onCheckboxAction:e=>N("joiningTransferLetter",e.target.checked)}),(0,u.jsx)(s.Z,{checkLabel:p("certificates"),checkedValue:j.previousSchoolAndDocument.leavingTransferCertificate,onCheckboxAction:e=>N("leavingTransferCertificate",e.target.checked)}),(0,u.jsx)(s.Z,{checkLabel:p("i_certificate"),checkedValue:j.previousSchoolAndDocument.incomeCertificate,onCheckboxAction:e=>N("incomeCertificate",e.target.checked)}),(0,u.jsx)(s.Z,{checkLabel:p("marksheet"),checkedValue:j.previousSchoolAndDocument.lastYearMarksheet,onCheckboxAction:e=>N("lastYearMarksheet",e.target.checked)}),(0,u.jsx)(s.Z,{checkLabel:p("n_certificate"),checkedValue:j.previousSchoolAndDocument.nationalityCertificate,onCheckboxAction:e=>N("nationalityCertificate",e.target.checked)}),(0,u.jsx)(s.Z,{checkLabel:p("d_certificate"),checkedValue:j.previousSchoolAndDocument.domicileCertificate,onCheckboxAction:e=>N("domicileCertificate",e.target.checked)}),(0,u.jsx)(s.Z,{checkLabel:p("non_cremy"),checkedValue:j.previousSchoolAndDocument.nonCreamyLayerCertificate,onCheckboxAction:e=>N("nonCreamyLayerCertificate",e.target.checked)})]}),(0,u.jsx)(a.Z,{}),(0,u.jsx)(d.Z,{labelHeading:p("bank_details_"),labelDescription:p("labeltext5"),defaultLabel:!1,checkedToggle:j.bankDetails,onToggleHandler:e=>A("bankDetails",e.target.checked)}),(0,u.jsx)(a.Z,{}),(0,u.jsx)(d.Z,{labelHeading:p("hostel_cpi"),labelDescription:p("hostel_cpi_text"),defaultLabel:!1,checkedToggle:j.cpi,onToggleHandler:e=>A("cpi",e.target.checked)}),(0,u.jsx)(a.Z,{}),(0,u.jsx)(d.Z,{labelHeading:p("turn_off_on_ug_hostel_undertakings"),labelDescription:"",defaultLabel:!1,checkedToggle:j.ug_undertakings_hostel_admission,onToggleHandler:e=>A("ug_undertakings_hostel_admission",e.target.checked)}),(0,u.jsx)(a.Z,{}),(0,u.jsx)(d.Z,{labelHeading:p("turn_off_on_pg_hostel_undertakings"),labelDescription:"",defaultLabel:!1,checkedToggle:j.pg_undertakings_hostel_admission,onToggleHandler:e=>A("pg_undertakings_hostel_admission",e.target.checked)}),(0,u.jsx)(a.Z,{})]}),(0,u.jsx)(c.Ch,{run:m,setRun:h,msg:v,postiton:"bottom",type:"success"})]})}},49215:(e,t,n)=>{n.d(t,{Z:()=>I});var i=n(72791),l=n(39230),o=n(23441),a=n(16871),s=n(11105),d=n(98094),c=n(46876),r=n(91022),u=n(98734),v=n(69721),_=n(36665),p=n(70374),m=n(72426),h=n.n(m),g=n(80184);const x=e=>{var t;let{setActivePopup:n,selectedApplication:i,selectedStaff:o,moderatorState:a,onAssignModerator:s}=e;const{t:c}=(0,l.$G)();return(0,g.jsx)(_.Z,{children:(0,g.jsxs)("div",{className:p.Z.assign_role_container,children:[(0,g.jsxs)("section",{className:p.Z.assign_role_title,children:[(0,g.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{},alt:"back icon"}),(0,g.jsx)("h6",{children:c("preview")})]}),(0,g.jsx)(d.Z,{customStyle:{width:"100%"}}),(0,g.jsxs)("section",{className:p.Z.selected_staff_container,children:[(0,g.jsx)("img",{src:null!==o&&void 0!==o&&o.staffProfilePhoto?"".concat(v.yI,"/").concat(null===o||void 0===o?void 0:o.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,g.jsxs)("div",{className:p.Z.selected_staff_text,children:[(0,g.jsx)("h6",{children:"".concat(null===o||void 0===o?void 0:o.staffFirstName," ").concat(null!==(t=null===o||void 0===o?void 0:o.staffMiddleName)&&void 0!==t?t:""," ").concat(null===o||void 0===o?void 0:o.staffLastName)}),(0,g.jsxs)("p",{children:[c("index_number"),null===o||void 0===o?void 0:o.staffROLLNO]})]})]}),(0,g.jsx)("section",{style:{padding:"0.8rem"},children:(0,g.jsx)(r.Z,{selectLabel:c("select_role_of_moderator"),selectedValue:c("please_select_role"),value:"ALL_FEE_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Application Manager":"INQUIRY_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Enquiries Section":"FULL_ACCESS",openAs:"REFUND"})}),null===i||void 0===i?void 0:i.map((e=>{var t,n,i;return(0,g.jsxs)("div",{className:p.Z.application_card,children:[(0,g.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,g.jsxs)("section",{className:p.Z.application_card_text,children:[(0,g.jsx)("h6",{children:null!==(t=null===e||void 0===e?void 0:e.applicationName)&&void 0!==t?t:""}),(0,g.jsxs)("div",{className:p.Z.application_card_text_bottom,children:[(0,g.jsx)("p",{children:null!==(n=null===e||void 0===e||null===(i=e.applicationDepartment)||void 0===i?void 0:i.dName)&&void 0!==n?n:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,g.jsx)("p",{children:h()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id)})),(0,g.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,g.jsxs)("button",{className:p.Z.select_application_btn,onClick:()=>n("SELECT_APPLICATION"),children:[(0,g.jsx)("div",{children:c("add_more")}),(0,g.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),(0,g.jsxs)("button",{className:p.Z.assign_btn,onClick:s,children:[c("assign")," "]})]})]})})},f=e=>{var t;let{onCloseEdit:n,setActivePopup:i,selectedStaff:o,moderatorState:a,onSelectRole:s,onUpdateModerator:c,selectedApplication:u}=e;const{t:m}=(0,l.$G)();return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(_.Z,{onClose:n,children:(0,g.jsxs)("div",{className:p.Z.assign_role_container,children:[(0,g.jsxs)("section",{className:p.Z.assign_role_title,children:[(0,g.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:n,alt:"back icon",style:{cursor:"pointer"}}),(0,g.jsx)("h6",{children:m("update_role_to_moderator")})]}),(0,g.jsx)(d.Z,{customStyle:{width:"100%"}}),(0,g.jsxs)("section",{className:p.Z.selected_staff_container,onClick:()=>i("OPEN_STAFF_LIST"),children:[(0,g.jsx)("img",{src:null!==o&&void 0!==o&&o.staffProfilePhoto?"".concat(v.yI,"/").concat(null===o||void 0===o?void 0:o.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,g.jsxs)("div",{className:p.Z.selected_staff_text,children:[(0,g.jsx)("h6",{children:"".concat(null===o||void 0===o?void 0:o.staffFirstName," ").concat(null!==(t=null===o||void 0===o?void 0:o.staffMiddleName)&&void 0!==t?t:""," ").concat(null===o||void 0===o?void 0:o.staffLastName)}),(0,g.jsxs)("p",{children:[m("index_number"),null===o||void 0===o?void 0:o.staffROLLNO]})]})]}),(0,g.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,g.jsx)(r.Z,{selectLabel:m("select_role_of_moderator"),selectedValue:m("please_select_role"),options:["Fee receipt authority","Application Manager","Renewal Manager","Deposit Moderator","Pending Fee Manager","Complaint Moderator","Fee Structure Moderator","Rules and Announcement Moderator","Income and Expense Moderator","Tab Authority","Data Export Authority"],value:"ALL_FEE_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Application Manager":"RENEWAL_UNIT_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Renewal Manager":"DEPOSIT_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Deposit Moderator":"COMPAINT_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Complaint Moderator":"PENDING_FEE_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Pending Fee Manager":"FEE_MASTER_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Fee Structure Moderator":"RULES_AND_ANNOUNCEMENT_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Rules and Announcement Moderator":"INCOME_AND_EXPENSE_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Income and Expense Moderator":"ONE_TAB_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Tab Authority":"DATA_EXPORT_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Data Export Authority":"",onClick:s}),null===u||void 0===u?void 0:u.map((e=>{var t,n,i;return(0,g.jsxs)("div",{className:p.Z.application_card,style:{width:"100%",margin:"1rem 0 0"},children:[(0,g.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,g.jsxs)("section",{className:p.Z.application_card_text,children:[(0,g.jsx)("h6",{children:null!==(t=null===e||void 0===e?void 0:e.applicationName)&&void 0!==t?t:""}),(0,g.jsxs)("div",{className:p.Z.application_card_text_bottom,children:[(0,g.jsx)("p",{children:null!==(n=null===e||void 0===e||null===(i=e.applicationDepartment)||void 0===i?void 0:i.dName)&&void 0!==n?n:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,g.jsx)("p",{children:h()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id)})),"MULTI_APP_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)&&(0,g.jsxs)("button",{className:p.Z.select_application_btn,onClick:()=>i("SELECT_APPLICATION"),children:[(0,g.jsx)("div",{children:m("moderator_select_application")}),(0,g.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),(0,g.jsxs)("button",{className:p.Z.assign_btn,onClick:c,children:[m("update")," "]})]})]})})})};var j=n(87338);const S=e=>{var t;let{setActivePopup:n,setSelectedApplication:a,setSelectedApplicationId:c,selectedApplicationId:r,openAs:u,role:v,hid:m}=e;const{t:x}=(0,l.$G)(),[f,S]=(0,i.useState)(!0),[A,N]=(0,i.useState)(1),[b,y]=(0,o.YD)(),[C,Z]=(0,i.useState)([]),[I,E]=(0,i.useState)(!0),{getOngoingApplicationList:R,getOngoingApplicationListRefetch:w}=(0,j.Kj)({data:{hid:m,page:A,limit:10},skip:!m});(0,i.useEffect)((()=>{y&&f&&N((e=>e+1))}),[y,f]),(0,i.useEffect)((()=>{m&&(E(!0),w())}),[m,A,w]),(0,i.useEffect)((()=>{var e;null!==R&&void 0!==R&&R.ongoing&&(Z((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===R||void 0===R?void 0:R.ongoing])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),E(!1)),10===(null===R||void 0===R||null===(e=R.ongoing)||void 0===e?void 0:e.length)?S(!0):S(!1)}),[null===R||void 0===R?void 0:R.ongoing]);const P=()=>{n("EDIT"===u?"PREVIEW_FORM":"ASSIGN_ROLE")},T=e=>{null!==r&&void 0!==r&&r.includes(null===e||void 0===e?void 0:e._id)?(a((t=>null===t||void 0===t?void 0:t.filter((t=>(null===t||void 0===t?void 0:t._id)!==(null===e||void 0===e?void 0:e._id))))),c((t=>null===t||void 0===t?void 0:t.filter((t=>t!==(null===e||void 0===e?void 0:e._id)))))):(a((t=>t?[...t,e]:[e])),c((t=>t?[...t,null===e||void 0===e?void 0:e._id]:[null===e||void 0===e?void 0:e._id])))};return(0,g.jsx)(_.Z,{onClose:P,children:(0,g.jsxs)("div",{className:p.Z.assign_role_container,children:[(0,g.jsxs)("section",{className:p.Z.assign_role_title,style:{position:"relative"},children:[(0,g.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:P,alt:"back icon"}),(0,g.jsx)("h6",{children:x("assign_role_to_moderator")}),(0,g.jsxs)("button",{className:p.Z.select_btn,onClick:()=>{n("EDIT"===u?"PREVIEW_FORM":"ONE_TAB_ACCESS"===v?"ASSIGN_ROLE":"MODERATOR_PREWVIEW")},children:[null!==(t=null===r||void 0===r?void 0:r.length)&&void 0!==t?t:""," "," ",x("select")]})]}),(0,g.jsx)(d.Z,{customStyle:{width:"100%"}}),null===C||void 0===C?void 0:C.map(((e,t)=>{var n,i,l,o,a,s;return(null===C||void 0===C?void 0:C.length)===t+1?(0,g.jsxs)("div",{className:null!==r&&void 0!==r&&r.includes(null===e||void 0===e?void 0:e._id)?"".concat(p.Z.application_card," ").concat(p.Z.application_card_active):p.Z.application_card,ref:b,onClick:()=>T(e),children:[(0,g.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,g.jsxs)("section",{className:p.Z.application_card_text,children:[(0,g.jsx)("h6",{children:null!==(n=null===e||void 0===e?void 0:e.applicationName)&&void 0!==n?n:""}),(0,g.jsxs)("div",{className:p.Z.application_card_text_bottom,children:[(0,g.jsx)("p",{children:null!==(i=null===e||void 0===e||null===(l=e.applicationDepartment)||void 0===l?void 0:l.dName)&&void 0!==i?i:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,g.jsx)("p",{children:h()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id):(0,g.jsxs)("div",{className:null!==r&&void 0!==r&&r.includes(null===e||void 0===e?void 0:e._id)?"".concat(p.Z.application_card," ").concat(p.Z.application_card_active):p.Z.application_card,onClick:()=>T(e),children:[(0,g.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,g.jsxs)("section",{className:p.Z.application_card_text,children:[(0,g.jsx)("h6",{children:null!==(o=null===e||void 0===e?void 0:e.applicationName)&&void 0!==o?o:""}),(0,g.jsxs)("div",{className:p.Z.application_card_text_bottom,children:[(0,g.jsx)("p",{children:null!==(a=null===e||void 0===e||null===(s=e.applicationDepartment)||void 0===s?void 0:s.dName)&&void 0!==a?a:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,g.jsx)("p",{children:h()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id)})),I&&(0,g.jsx)(s.Z,{})]})})},A=e=>{var t,n;let{instituteId:o,hid:a,onClose:s,onRefetchWhenAdd:m,openModeratorMenu:h,openAs:A,onEdit:N}=e;const{t:b}=(0,l.$G)(),[y,C]=(0,i.useState)("EDIT"===A?"PREVIEW_FORM":"OPEN_STAFF_LIST"),[Z,I]=(0,i.useState)("EDIT"===A?null===h||void 0===h?void 0:h.access_staff:""),[E,R]=(0,i.useState)({mod_role:"EDIT"===A?null===h||void 0===h?void 0:h.access_role:"",sid:"EDIT"===A?null===h||void 0===h||null===(t=h.access_staff)||void 0===t?void 0:t._id:"",app_array:[],one_tab:""}),[w,P]=(0,i.useState)("EDIT"===A?null===h||void 0===h?void 0:h.access_application:[]),[T,k]=(0,i.useState)([]),[D]=(0,j.kE)();(0,i.useEffect)((()=>{if("EDIT"===A){var e;I(null===h||void 0===h?void 0:h.access_staff),P(null===h||void 0===h?void 0:h.access_application);let t=[];for(let e of null===h||void 0===h?void 0:h.access_application)t.push(null===e||void 0===e?void 0:e._id);k(t),R({mod_role:null===h||void 0===h?void 0:h.access_role,sid:null===h||void 0===h||null===(e=h.access_staff)||void 0===e?void 0:e._id,app_array:t}),C("PREVIEW_FORM")}}),[A]);const L=()=>{C("OPEN_STAFF_LIST")},M=e=>{R((t=>({...t,mod_role:"Fee receipt authority"===e?"ALL_FEE_ACCESS":"Application Manager"===e?"MULTI_APP_ACCESS":"Renewal Manager"===e?"RENEWAL_UNIT_ACCESS":"Deposit Moderator"===e?"DEPOSIT_ACCESS":"Pending Fee Manager"===e?"PENDING_FEE_ACCESS":"Complaint Moderator"===e?"COMPAINT_ACCESS":"Fee Structure Moderator"===e?"FEE_MASTER_ACCESS":"Rules and Announcement Moderator"===e?"RULES_AND_ANNOUNCEMENT_ACCESS":"Income and Expense Moderator"===e?"INCOME_AND_EXPENSE_ACCESS":"Tab Authority"===e?"ONE_TAB_ACCESS":"Data Export Authority"===e?"DATA_EXPORT_ACCESS":""})))},O=()=>{C("LOADING"),D({hid:a,active_tab:E.one_tab,addModerator:"MULTI_APP_ACCESS"===(null===E||void 0===E?void 0:E.mod_role)||"ONE_TAB_ACCESS"===(null===E||void 0===E?void 0:E.mod_role)?{mod_role:E.mod_role,sid:E.sid,app_array:T}:E}).then((()=>{m(),C(""),s()})).catch({})};return(0,g.jsxs)(g.Fragment,{children:["OPEN_STAFF_LIST"===y&&(0,g.jsx)(c.default,{assignHead:"OPEN_STAFF_LIST"===y,headSelect:e=>{I(e),R((t=>({...t,sid:null===e||void 0===e?void 0:e._id}))),C("EDIT"===A?"PREVIEW_FORM":"ASSIGN_ROLE")},title:b("staff_list"),onClose:s,instituteId:o,viewAs:"ADMISSION_ADMIN"}),"ASSIGN_ROLE"===y&&(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(_.Z,{onClose:L,children:(0,g.jsxs)("div",{className:p.Z.assign_role_container,children:[(0,g.jsxs)("section",{className:p.Z.assign_role_title,children:[(0,g.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:L,alt:"back icon"}),(0,g.jsx)("h6",{children:b("assign_role_to_moderator")})]}),(0,g.jsx)(d.Z,{customStyle:{width:"100%"}}),(0,g.jsxs)("section",{className:p.Z.selected_staff_container,children:[(0,g.jsx)("img",{src:null!==Z&&void 0!==Z&&Z.staffProfilePhoto?"".concat(v.yI,"/").concat(null===Z||void 0===Z?void 0:Z.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,g.jsxs)("div",{className:p.Z.selected_staff_text,children:[(0,g.jsx)("h6",{children:"".concat(null===Z||void 0===Z?void 0:Z.staffFirstName," ").concat(null!==(n=null===Z||void 0===Z?void 0:Z.staffMiddleName)&&void 0!==n?n:""," ").concat(null===Z||void 0===Z?void 0:Z.staffLastName)}),(0,g.jsxs)("p",{children:[b("index_number"),null===Z||void 0===Z?void 0:Z.staffROLLNO]})]})]}),(0,g.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,g.jsx)(r.Z,{selectLabel:b("select_role_of_moderator"),selectedValue:b("please_select_role"),options:["Fee receipt authority","Application Manager","Renewal Manager","Deposit Moderator","Pending Fee Manager","Complaint Moderator","Fee Structure Moderator","Rules and Announcement Moderator","Income and Expense Moderator","Tab Authority","Data Export Authority"],value:"ALL_FEE_ACCESS"===(null===E||void 0===E?void 0:E.mod_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===E||void 0===E?void 0:E.mod_role)?"Application Manager":"RENEWAL_UNIT_ACCESS"===(null===E||void 0===E?void 0:E.mod_role)?"Renewal Manager":"DEPOSIT_ACCESS"===(null===E||void 0===E?void 0:E.mod_role)?"Deposit Moderator":"COMPAINT_ACCESS"===(null===E||void 0===E?void 0:E.mod_role)?"Complaint Moderator":"PENDING_FEE_ACCESS"===(null===E||void 0===E?void 0:E.mod_role)?"Pending Fee Manager":"FEE_MASTER_ACCESS"===(null===E||void 0===E?void 0:E.mod_role)?"Fee Structure Moderator":"RULES_AND_ANNOUNCEMENT_ACCESS"===(null===E||void 0===E?void 0:E.mod_role)?"Rules and Announcement Moderator":"INCOME_AND_EXPENSE_ACCESS"===(null===E||void 0===E?void 0:E.mod_role)?"Income and Expense Moderator":"ONE_TAB_ACCESS"===(null===E||void 0===E?void 0:E.mod_role)?"Tab Authority":"DATA_EXPORT_ACCESS"===(null===E||void 0===E?void 0:E.mod_role)?"Data Export Authority":"",onClick:M}),"ONE_TAB_ACCESS"===E.mod_role&&(0,g.jsx)(r.Z,{selectLabel:b("select_tab_role"),selectedValue:b("please_select_role"),options:["Application","Selected","Confirmed","Allotted","Cancelled"],value:null===E||void 0===E?void 0:E.one_tab,onClick:e=>{R((t=>({...t,one_tab:e})))}}),"MULTI_APP_ACCESS"===E.mod_role?(0,g.jsxs)("button",{className:p.Z.select_application_btn,onClick:()=>C("SELECT_APPLICATION"),children:[(0,g.jsx)("div",{children:b("moderator_select_application")}),(0,g.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}):(0,g.jsxs)("button",{className:p.Z.assign_btn,onClick:O,children:[b("assign")," "]})]})]})})}),"SELECT_APPLICATION"===y&&(0,g.jsx)(S,{hid:a,setActivePopup:C,setSelectedApplication:P,selectedApplication:w,setSelectedApplicationId:k,selectedApplicationId:T,openAs:A,role:E.mod_role}),"MODERATOR_PREWVIEW"===y&&(0,g.jsx)(x,{setActivePopup:C,selectedApplication:w,selectedStaff:Z,moderatorState:E,onAssignModerator:O}),"PREVIEW_FORM"===y&&(0,g.jsx)(f,{onCloseEdit:()=>{s()},setActivePopup:C,selectedStaff:Z,moderatorState:E,onSelectRole:M,onUpdateModerator:()=>{N(E,T),s()},selectedApplication:w}),"LOADING"===y&&(0,g.jsx)(u.Z,{})]})};var N=n(12072),b=n(84489),y=n(87049);const C=e=>{let{onClose:t,hid:n,onRefetch:l,openModeratorMenu:o,instituteId:a}=e;const[s,d]=(0,i.useState)(!1),[c,r]=(0,i.useState)(!1),[v]=(0,j.UP)(),[_]=(0,j.DL)();return(0,g.jsx)(g.Fragment,{children:c?(0,g.jsx)(A,{onClose:()=>r(!1),hid:n,instituteId:a,onRefetch:l,openAs:"EDIT",openModeratorMenu:o,onEdit:(e,n)=>{d((e=>!e)),r(!1),_({modId:null===o||void 0===o?void 0:o._id,active_tab:null===e||void 0===e?void 0:e.one_tab,updateModerator:{role:null===e||void 0===e?void 0:e.mod_role,staffId:null===e||void 0===e?void 0:e.sid,app_array:"MULTI_APP_ACCESS"===(null===e||void 0===e?void 0:e.mod_role)||"MULTI_APP_ACCESS"===(null===e||void 0===e?void 0:e.mod_role)?n:[]}}).then((()=>{l(),d((e=>!e)),t()})).catch({})}}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(b.Z,{onClose:t}),(0,g.jsxs)(N.Z,{customStyle:{zIndex:"1200"},children:[(0,g.jsxs)("div",{className:y.Z.edit_modal_container,style:{width:"200px"},children:[(0,g.jsx)("h6",{className:y.Z.edit,onClick:()=>r((e=>!e)),children:"Edit"}),(0,g.jsx)("h6",{className:y.Z.remove,onClick:()=>{d((e=>!e)),v({hid:n,modId:null===o||void 0===o?void 0:o._id}).then((()=>{l(),t(),d((e=>!e))})).catch({})},children:"Delete"})]}),s&&(0,g.jsx)(u.Z,{})]})]})})},Z=e=>{var t,n,i,o,a,s,d,c,r,u,_;let{moderator:m,setOpenModeratorMenu:h}=e;const{t:x}=(0,l.$G)();return(0,g.jsxs)("div",{className:p.Z.moderator_card,children:[(0,g.jsx)("img",{src:null!==m&&void 0!==m&&null!==(t=m.access_staff)&&void 0!==t&&t.staffProfilePhoto?"".concat(v.yI,"/").concat(null===m||void 0===m||null===(n=m.access_staff)||void 0===n?void 0:n.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"moderator avatar"}),(0,g.jsxs)("section",{className:p.Z.moderator_card_text_container,children:[(0,g.jsx)("h6",{children:"".concat(null===m||void 0===m||null===(i=m.access_staff)||void 0===i?void 0:i.staffFirstName," ").concat(null!==(o=null===m||void 0===m||null===(a=m.access_staff)||void 0===a?void 0:a.staffMiddleName)&&void 0!==o?o:""," ").concat(null===m||void 0===m||null===(s=m.access_staff)||void 0===s?void 0:s.staffLastName)}),(0,g.jsxs)("p",{children:[x("index_number"),null===m||void 0===m||null===(d=m.access_staff)||void 0===d?void 0:d.staffROLLNO]}),(0,g.jsx)("p",{children:"ALL_FEE_ACCESS"===(null===m||void 0===m?void 0:m.access_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===m||void 0===m?void 0:m.access_role)?"Application Manager":"RENEWAL_UNIT_ACCESS"===(null===m||void 0===m?void 0:m.access_role)?"Renewal Manager":"DEPOSIT_ACCESS"===(null===m||void 0===m?void 0:m.access_role)?"Deposit Moderator":"PENDING_FEE_ACCESS"===(null===m||void 0===m?void 0:m.access_role)?"Pending Fee Manager":"COMPAINT_ACCESS"===(null===m||void 0===m?void 0:m.access_role)?"Complaint Moderator":"FEE_MASTER_ACCESS"===(null===m||void 0===m?void 0:m.access_role)?"Fee Structure Moderator":"RULES_AND_ANNOUNCEMENT_ACCESS"===(null===m||void 0===m?void 0:m.access_role)?"Rules and Announcement Moderator":"INCOME_AND_EXPENSE_ACCESS"===(null===m||void 0===m?void 0:m.access_role)?"Income and Expense Moderator":"ONE_TAB_ACCESS"===(null===m||void 0===m?void 0:m.access_role)?"Application"===(null===m||void 0===m||null===(c=m.active_tab)||void 0===c?void 0:c.role)?"Hostel Application Tab":"Selected"===(null===m||void 0===m||null===(r=m.active_tab)||void 0===r?void 0:r.role)?"Hostel Selected Tab":"Confirmed"===(null===m||void 0===m||null===(u=m.active_tab)||void 0===u?void 0:u.role)?"Hostel Confirmed Tab":"Allotted"===(null===m||void 0===m||null===(_=m.active_tab)||void 0===_?void 0:_.role)?"Hostel Allotted Tab":"Hostel Cancelled Tab":"DATA_EXPORT_ACCESS"===(null===m||void 0===m?void 0:m.access_role)?"Data Export Authority":""})]}),(0,g.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:()=>h(m),className:p.Z.menu_icon,title:"Menu"})]})},I=e=>{let{instituteId:t,hid:n}=e;const{t:c}=(0,l.$G)(),r=(0,a.s0)(),[u,v]=(0,i.useState)(!1),[_,m]=(0,i.useState)(""),[h,x]=(0,o.YD)(),[f,S]=(0,i.useState)(1),[N,b]=(0,i.useState)(!0),[y,I]=(0,i.useState)(!1),[E,R]=(0,i.useState)(!0),[w,P]=(0,i.useState)([]),{getModeratorByHostel:T,getModeratorByHostelRefetch:k}=(0,j.CB)({data:{hid:n,page:f,limit:10},skip:!n});(0,i.useEffect)((()=>{n&&(R(!0),k())}),[n,f,k]),(0,i.useEffect)((()=>{x&&N&&S((e=>e+1))}),[x,N]),(0,i.useEffect)((()=>{var e,t;y?(P(null===T||void 0===T?void 0:T.all_mods),I(!1),R(!1)):null!==T&&void 0!==T&&T.all_mods?(P((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===T||void 0===T?void 0:T.all_mods])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),R(!1)):0===(null===T||void 0===T||null===(t=T.all_mods)||void 0===t?void 0:t.length)&&R(!1);10===(null===T||void 0===T||null===(e=T.all_mods)||void 0===e?void 0:e.length)?b(!0):b(!1)}),[null===T||void 0===T?void 0:T.all_mods]);const D=()=>{I(!0),S(1),R(!0),k()};return(0,g.jsxs)("div",{className:p.Z.moderator_container,style:{marginTop:"0"},children:[(0,g.jsxs)("section",{className:p.Z.moderator_container_title,children:[(0,g.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{r(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,g.jsx)("h6",{children:c("hostel_moderators")})]}),(0,g.jsx)(d.Z,{customStyle:{width:"100%"}}),(0,g.jsx)("h6",{className:p.Z.add_new_moderator,onClick:()=>v(!0),children:c("add_new_moderator")}),(0,g.jsxs)("div",{className:p.Z.refund_list,children:[null===w||void 0===w?void 0:w.map(((e,t)=>(null===w||void 0===w?void 0:w.length)===t+1?(0,g.jsx)("div",{ref:h,children:(0,g.jsx)(Z,{moderator:e,setOpenModeratorMenu:m})},null===e||void 0===e?void 0:e._id):(0,g.jsx)(Z,{moderator:e,setOpenModeratorMenu:m},null===e||void 0===e?void 0:e._id))),u&&(0,g.jsx)(A,{onClose:()=>v((e=>!e)),instituteId:t,hid:n,onRefetchWhenAdd:D}),_&&(0,g.jsx)(C,{hid:n,instituteId:t,onRefetch:D,onClose:()=>m(""),openModeratorMenu:_}),E&&(0,g.jsx)(s.Z,{})]})]})}},1999:(e,t,n)=>{n.d(t,{Z:()=>i});const i={newPost:"NewAnnouncement_newPost__P0MSs",header:"NewAnnouncement_header__4FgoM",imgContainer:"NewAnnouncement_imgContainer__D-zZj",title:"NewAnnouncement_title__XZ99r",public:"NewAnnouncement_public__gr79X",privacyIcon:"NewAnnouncement_privacyIcon__pt718",select:"NewAnnouncement_select__viS+M",arrow:"NewAnnouncement_arrow__OBDH8",arrowIcon:"NewAnnouncement_arrowIcon__hAUsH",hr:"NewAnnouncement_hr__+nmR6",userName:"NewAnnouncement_userName__h9vNW",postTitle:"NewAnnouncement_postTitle__d5Uhn",postDesc:"NewAnnouncement_postDesc__rQu4i",postTextarea:"NewAnnouncement_postTextarea__6oAWU",hashTag:"NewAnnouncement_hashTag__GkP-m",btn:"NewAnnouncement_btn__WWbXt",upload:"NewAnnouncement_upload__U-vJ+",Container:"NewAnnouncement_Container__KAel7",selectedImg:"NewAnnouncement_selectedImg__UJO5z",addfiles:"NewAnnouncement_addfiles__u79vd",iconsContainer:"NewAnnouncement_iconsContainer__1h40Z",icons:"NewAnnouncement_icons__F82H4",tille:"NewAnnouncement_tille__8AF0K",description:"NewAnnouncement_description__Y-v3j",afterbtn:"NewAnnouncement_afterbtn__vZuPx",hashtag:"NewAnnouncement_hashtag__0v8Yo",listContainer:"NewAnnouncement_listContainer__1Tder",documentList:"NewAnnouncement_documentList__Da5La",pdfList:"NewAnnouncement_pdfList__lbuZn",pdfPreview:"NewAnnouncement_pdfPreview__yRLt2",border2:"NewAnnouncement_border2__b0wJ6",border1:"NewAnnouncement_border1__vzr9R",border3:"NewAnnouncement_border3__mH2cK",border4:"NewAnnouncement_border4__oF8nk",mainbody:"NewAnnouncement_mainbody__sq6d+"}},92994:(e,t,n)=>{n.d(t,{Z:()=>i});const i={navbar:"HostelSiteInfo_navbar__IU+1C",bgContainer:"HostelSiteInfo_bgContainer__s1M1C",container:"HostelSiteInfo_container__0k5MX",containercontent:"HostelSiteInfo_containercontent__FHQE6",containerhead:"HostelSiteInfo_containerhead__UXeNf",site_tab_container:"HostelSiteInfo_site_tab_container__kUKhY",site_tab_container_h6:"HostelSiteInfo_site_tab_container_h6__PRjoW",site_tab_container_h6_active:"HostelSiteInfo_site_tab_container_h6_active__oK5jK",container_inner_content:"HostelSiteInfo_container_inner_content__BRYbi",show_field:"HostelSiteInfo_show_field__QipiG",leading_person_container:"HostelSiteInfo_leading_person_container__2KEgv",leading_person_text:"HostelSiteInfo_leading_person_text__gcKoj",update_btn:"HostelSiteInfo_update_btn__X3hce",add_contact_person:"HostelSiteInfo_add_contact_person__Bw9OD",add_contact_person_btn:"HostelSiteInfo_add_contact_person_btn__oFvVe",labelContainer:"HostelSiteInfo_labelContainer__CgZ5Z",label:"HostelSiteInfo_label__vOQMB",inputBox:"HostelSiteInfo_inputBox__qEQpd",add_supporting_member:"HostelSiteInfo_add_supporting_member__Cows5",add_supporting_member_heading:"HostelSiteInfo_add_supporting_member_heading__+1W3k",flexItem50:"HostelSiteInfo_flexItem50__4AQkO",fileinputflexContainer:"HostelSiteInfo_fileinputflexContainer__TjDJA",input_label:"HostelSiteInfo_input_label__iHuUx",labelspan:"HostelSiteInfo_labelspan__2dH-3",formselect:"HostelSiteInfo_formselect__6Na7n",input_border_active:"HostelSiteInfo_input_border_active__IORlh",genderh:"HostelSiteInfo_genderh__OaIvK",genderplaceholder:"HostelSiteInfo_genderplaceholder__uQ+GR",upIcon:"HostelSiteInfo_upIcon__yH95D",downIcon:"HostelSiteInfo_downIcon__wIQ0Z",site_theme:"HostelSiteInfo_site_theme__oIQ4w",site_theme_header:"HostelSiteInfo_site_theme_header__qrz8W",site_theme_container:"HostelSiteInfo_site_theme_container__q1qUU",site_theme_icon:"HostelSiteInfo_site_theme_icon__Rj4LC"}},15961:(e,t,n)=>{n.d(t,{Z:()=>i});const i={admission_application_container:"AdmissionApplicationRequest_admission_application_container__iMsyZ",moderator_container_title:"AdmissionApplicationRequest_moderator_container_title__5WiPB",with_search:"AdmissionApplicationRequest_with_search__mm0Q+",search_container:"AdmissionApplicationRequest_search_container__3swMB",search_container_input:"AdmissionApplicationRequest_search_container_input__InEPj",searchIcon:"AdmissionApplicationRequest_searchIcon__RdABM",search_container_filter:"AdmissionApplicationRequest_search_container_filter__fEHEF",remainingFees:"AdmissionApplicationRequest_remainingFees__X9g5z",ongoing_card:"AdmissionApplicationRequest_ongoing_card__1TVLc",ongoing_card_inner:"AdmissionApplicationRequest_ongoing_card_inner__1Gato",ongoing_card_text:"AdmissionApplicationRequest_ongoing_card_text__AKxnS",menu_icon:"AdmissionApplicationRequest_menu_icon__F3nQo",add_new_category:"AdmissionApplicationRequest_add_new_category__ZTInw",applicant_card_container:"AdmissionApplicationRequest_applicant_card_container__7UN2C",applicant_card_container_hover:"AdmissionApplicationRequest_applicant_card_container_hover__mP-Wa",applicant_card_container_active:"AdmissionApplicationRequest_applicant_card_container_active__5VW5x",applicant_card_inner:"AdmissionApplicationRequest_applicant_card_inner__kSbmI",applicant_card_inner_info:"AdmissionApplicationRequest_applicant_card_inner_info__8POe8",applicant_card_contact:"AdmissionApplicationRequest_applicant_card_contact__Ipapl",applicant_card_contact_inner:"AdmissionApplicationRequest_applicant_card_contact_inner__dDeFH",application_button:"AdmissionApplicationRequest_application_button__a2s6z",selectAppBtnContainer:"AdmissionApplicationRequest_selectAppBtnContainer__d0wD6",selectBtnContainer:"AdmissionApplicationRequest_selectBtnContainer__Si3QU",selectBtn:"AdmissionApplicationRequest_selectBtn__A0SVG",cancelledBtn:"AdmissionApplicationRequest_cancelledBtn__wEX7V",notConfirmedBtn:"AdmissionApplicationRequest_notConfirmedBtn__wZb02",onlineBtn:"AdmissionApplicationRequest_onlineBtn__v+gwq",cancelStatus:"AdmissionApplicationRequest_cancelStatus__qYDFg",checkbox:"AdmissionApplicationRequest_checkbox__tlbdN",back_icon:"AdmissionApplicationRequest_back_icon__gIdbd",receipt_requested_btn:"AdmissionApplicationRequest_receipt_requested_btn__stgcE",not_confirm_container:"AdmissionApplicationRequest_not_confirm_container__+r4pJ",applicant_profile:"AdmissionApplicationRequest_applicant_profile__kHoFd",applicant_profile_text:"AdmissionApplicationRequest_applicant_profile_text__wgySz",button_group:"AdmissionApplicationRequest_button_group__LKrUN",admission_collect_docs:"AdmissionApplicationRequest_admission_collect_docs__+-jUT",confirm_btn:"AdmissionApplicationRequest_confirm_btn__njvM8",admission_modal:"AdmissionApplicationRequest_admission_modal__a3Dx6",admission_modal_heading:"AdmissionApplicationRequest_admission_modal_heading__7i6gM",admission_fees_row:"AdmissionApplicationRequest_admission_fees_row__Ykj39",admission_confirm_class_card:"AdmissionApplicationRequest_admission_confirm_class_card__Ytr77",admission_confirm_batch_card:"AdmissionApplicationRequest_admission_confirm_batch_card__Cuven",admission_confirm_class_count:"AdmissionApplicationRequest_admission_confirm_class_count__P-bt1",admission_class_confirm:"AdmissionApplicationRequest_admission_class_confirm__SMLDh",mulitple_select_btn:"AdmissionApplicationRequest_mulitple_select_btn__WOWDd",end_btn:"AdmissionApplicationRequest_end_btn__vgxwG",admission_mulit_select:"AdmissionApplicationRequest_admission_mulit_select__ggFWa",admission_mulit_select_right:"AdmissionApplicationRequest_admission_mulit_select_right__K51Rw",os_reminder:"AdmissionApplicationRequest_os_reminder__AHp8F",os_filter_container:"AdmissionApplicationRequest_os_filter_container__Ck0gz",ongoing_card_count_date:"AdmissionApplicationRequest_ongoing_card_count_date__xi1+1",ongoing_card_count_container:"AdmissionApplicationRequest_ongoing_card_count_container__af9uG",applicant_card_reciept:"AdmissionApplicationRequest_applicant_card_reciept__QR+Ho",transfer_container:"AdmissionApplicationRequest_transfer_container__y5X5q",transfer_select_btn:"AdmissionApplicationRequest_transfer_select_btn__u8NkN",remove_btn:"AdmissionApplicationRequest_remove_btn__Lmhuv"}}}]);
//# sourceMappingURL=71147.7541151c.chunk.js.map