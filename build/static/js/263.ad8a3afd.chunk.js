"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[263],{80263:function(e,a,t){t.r(a),t.d(a,{default:function(){return M}});var n=t(37762),c=t(93433),s=t(29439),l=t(72791),d="StaffAttendence_staffAttendence__MFnw8",r="StaffAttendence_calendar__VOJ9u",i="StaffAttendence_arrColors__a1o1Q",o="StaffAttendence_colours__I3HFI",u="StaffAttendence_clr__xZWUB",h="StaffAttendence_absent__P-9kb",v="StaffAttendence_holiday__8rG2R",f="StaffAttendence_leave__qdaic",m="StaffAttendence_percentage__9xjfT",x="StaffAttendence_presentcount__4XtNw",j="StaffAttendence_absentcount__-8zdi",g=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],N=["January","February","March","April","May","June","July","August","September","October","November","December"],p=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N,t=new Date,n="".concat(t.getDate(),"-").concat(t.getMonth()+1,"-").concat(t.getFullYear()),d=[1,2,3,4,5,6,0],r=(0,l.useState)(t),i=(0,s.Z)(r,2),o=i[0],u=i[1],h=new Date(o.getFullYear(),o.getMonth()+1,0),v=new Date(o.getFullYear(),o.getMonth(),0),f=h.getDate(),m=new Date(o.getFullYear(),o.getMonth(),1).getDay(),x=d.indexOf(m)+1,j=v.getDate()-d.indexOf(m)+1,p=1,_=1,y={},b=1;b<7;b++)for(var A=1;A<8;A++)y[b]||(y[b]=[]),1===b?A<x?(y[b]=[].concat((0,c.Z)(y[b]),[{classes:"in-prev-month",date:"".concat(j,"-").concat(0===o.getMonth()?12:o.getMonth(),"-").concat(0===o.getMonth()?o.getFullYear()-1:o.getFullYear()),value:j}]),j++):(y[b]=[].concat((0,c.Z)(y[b]),[{classes:"",date:"".concat(p,"-").concat(o.getMonth()+1,"-").concat(o.getFullYear()),value:p}]),p++):b>1&&p<f+1?(y[b]=[].concat((0,c.Z)(y[b]),[{classes:"",date:"".concat(p,"-").concat(o.getMonth()+1,"-").concat(o.getFullYear()),value:p}]),p++):(y[b]=[].concat((0,c.Z)(y[b]),[{classes:"in-next-month",date:"".concat(_,"-").concat(o.getMonth()+2===13?1:o.getMonth()+2,"-").concat(o.getMonth()+2===13?o.getFullYear()+1:o.getFullYear()),value:_}]),_++);return{daysShort:e,monthNames:a,todayFormatted:n,calendarRows:y,selectedDate:o,getPrevMonth:function(){u((function(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}))},getNextMonth:function(){u((function(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}))}}},_=t(80184),y=function(e){var a=e.presentArr,t=e.absentArr,n=e.holidayArr,c=e.leavesArr,s=p(),d=s.calendarRows,r=s.selectedDate,i=s.todayFormatted,o=s.daysShort,u=s.monthNames,h=s.getNextMonth,v=s.getPrevMonth,f=function(e){var a=e.split("-"),t=a[0]>9?a[0]:"0".concat(a[0]),n=a[1]>9?a[1]:"0".concat(a[1]),c=a[2];return"".concat(t,"/").concat(n,"/").concat(c)};return(0,_.jsxs)(l.Fragment,{children:[(0,_.jsxs)("div",{className:"calenderheader",children:[(0,_.jsx)("div",{className:"monthbtn",onClick:v,children:(0,_.jsx)("img",{alt:"not found",src:"/images/members/arrow-left.svg"})}),(0,_.jsxs)("div",{className:"yearmonth",children:[(0,_.jsx)("h6",{children:"".concat(u[r.getMonth()])}),(0,_.jsx)("p",{children:"".concat(r.getFullYear())})]}),(0,_.jsx)("div",{className:"monthbtn",onClick:h,children:(0,_.jsx)("img",{alt:"not found",src:"/images/members/arrow-right.svg"})})]}),(0,_.jsxs)("table",{className:"table",children:[(0,_.jsx)("thead",{children:(0,_.jsx)("tr",{children:o.map((function(e){return(0,_.jsx)("th",{className:"day",children:e},e)}))})}),(0,_.jsx)("tbody",{children:Object.values(d).map((function(e){return(0,_.jsx)("tr",{children:e.map((function(e){return e.date===i?null!==c&&void 0!==c&&c.includes(f(e.date))?(0,_.jsx)("td",{className:"".concat(e.classes," date "),children:(0,_.jsx)("div",{className:"datediv aaji leave",children:e.value})},e.date):null!==a&&void 0!==a&&a.includes(f(e.date))?(0,_.jsx)("td",{className:"".concat(e.classes," date "),children:(0,_.jsx)("div",{className:"datediv aaji",children:e.value})},e.date):null!==t&&void 0!==t&&t.includes(f(e.date))?(0,_.jsx)("td",{className:"".concat(e.classes," date "),children:(0,_.jsx)("div",{className:"datediv aaji absent",children:e.value})},e.date):null!==n&&void 0!==n&&n.includes(f(e.date))?(0,_.jsx)("td",{className:"".concat(e.classes," date "),children:(0,_.jsx)("div",{className:"datediv aaji holiday",children:e.value})},e.date):(0,_.jsx)("td",{className:"".concat(e.classes," date "),children:(0,_.jsx)("div",{className:"datediv aaji",children:e.value})},e.date):null!==a&&void 0!==a&&a.includes(f(e.date))?(0,_.jsx)("td",{className:"".concat(e.classes," date"),children:(0,_.jsx)("div",{className:"datediv present",children:e.value})},e.date):null!==t&&void 0!==t&&t.includes(f(e.date))?(0,_.jsx)("td",{className:"".concat(e.classes," date"),children:(0,_.jsx)("div",{className:"datediv absent",children:e.value})},e.date):null!==n&&void 0!==n&&n.includes(f(e.date))?(0,_.jsx)("td",{className:"".concat(e.classes," date"),children:(0,_.jsx)("div",{className:"datediv holiday",children:e.value})},e.date):null!==c&&void 0!==c&&c.includes(f(e.date))?(0,_.jsx)("td",{className:"".concat(e.classes," date"),children:(0,_.jsx)("div",{className:"datediv leave",children:e.value})},e.date):(0,_.jsx)("td",{className:"".concat(e.classes," date"),children:(0,_.jsx)("div",{className:"datediv",children:e.value})},e.date)}))},e[0].date)}))})]})]})},b=t(39230),A=t(65313);var M=function(e){var a,t,g=e.sid,N=new Date,p=(0,b.$G)().t,M=N.toISOString().split("-"),S=+M[1]>9?+M[1]:"0".concat(+M[1]),F=l.useState("Month"),D=(0,s.Z)(F,2),k=D[0],Z=D[1],w=(0,A.QW)({sid:g,month:"Month"===k?S:"",year:+M[0]}),Y=w.staffCalenderAttendance,R=w.staffCalenderAttendanceRefetch,C=l.useState([]),O=(0,s.Z)(C,2),J=O[0],W=O[1],q=l.useState([]),H=(0,s.Z)(q,2),I=H[0],P=H[1],Q=l.useState([]),T=(0,s.Z)(Q,2),E=T[0],G=T[1];l.useEffect((function(){if(Y&&(W((0,c.Z)(null===Y||void 0===Y?void 0:Y.presentArray)),P((0,c.Z)(null===Y||void 0===Y?void 0:Y.absentArray)),null!==Y&&void 0!==Y&&Y.leaves)){var e,a=[],t=(0,n.Z)(null===Y||void 0===Y?void 0:Y.leaves);try{for(t.s();!(e=t.n()).done;){var s=e.value;a.push.apply(a,(0,c.Z)(s.date))}}catch(l){t.e(l)}finally{t.f()}G(a)}}),[Y]),l.useEffect((function(){R()}),[k]);var $=function(e){Z(e)};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:d,children:[(0,_.jsxs)("div",{className:r,children:[(0,_.jsx)(y,{presentArr:J,absentArr:I,holidayArr:[],leavesArr:E}),(0,_.jsxs)("div",{className:i,children:[(0,_.jsx)("div",{className:"".concat(u," ").concat(h),children:p("absent")}),(0,_.jsx)("div",{className:"".concat(u," ").concat(v),children:p("holiday_")}),(0,_.jsx)("div",{className:"".concat(u," ").concat(f),children:p("leave")})]})]}),(0,_.jsxs)("div",{className:o,children:[(0,_.jsxs)("div",{class:"form-check",onClick:function(){return $("Month")},children:[(0,_.jsx)("input",{class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault1",checked:!0}),(0,_.jsx)("label",{class:"form-check-label",for:"flexRadioDefault1",children:p("monthly")})]}),(0,_.jsxs)("div",{class:"form-check",onClick:function(){return $("Year")},children:[(0,_.jsx)("input",{class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault2"}),(0,_.jsx)("label",{class:"form-check-label",for:"flexRadioDefault2",children:p("yearly")})]})]})]}),(0,_.jsxs)("div",{className:m,children:[(0,_.jsxs)("div",{className:x,children:[(0,_.jsx)("p",{children:p("present_count")}),(0,_.jsxs)("p",{children:[null===Y||void 0===Y||null===(a=Y.presentArray)||void 0===a?void 0:a.length," ",p("days")," "]}),(0,_.jsxs)("p",{children:[null===Y||void 0===Y?void 0:Y.present,"%"]})]}),(0,_.jsxs)("div",{className:j,children:[(0,_.jsx)("p",{children:p("absent_count")}),(0,_.jsxs)("p",{children:[null===Y||void 0===Y||null===(t=Y.absentArray)||void 0===t?void 0:t.length," ",p("days")]}),(0,_.jsxs)("p",{children:[null===Y||void 0===Y?void 0:Y.absent,"%"]})]})]})]})}},65313:function(e,a,t){t.d(a,{J:function(){return d},QW:function(){return r},dh:function(){return s},eu:function(){return l}});var n=t(29439),c=t(6710),s=function(e){var a=(0,c.$1)(e);return{allAttendance:a.data,allAttendanceRefetch:a.refetch}},l=function(){var e=(0,c.sH)();return[(0,n.Z)(e,1)[0]]},d=function(){var e=(0,c.RH)();return[(0,n.Z)(e,1)[0]]},r=function(e){var a=(0,c.bd)(e);return{staffCalenderAttendance:a.data,staffCalenderAttendanceRefetch:a.refetch}}}}]);
//# sourceMappingURL=263.ad8a3afd.chunk.js.map