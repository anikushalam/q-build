"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[8617],{32217:function(e,n,t){var i=t(1413),l=(t(72791),t(16871)),o=t(43504),a=t(80184);n.Z=function(e){var n=e.carryParentState,t=e.activeTab,s=e.children,d=(0,l.UO)();return(0,a.jsx)(o.rU,{to:"/q/".concat(d.username,"/finance").concat(t),state:(0,i.Z)({},n),children:s})}},47396:function(e,n,t){t.d(n,{Z:function(){return S}});t(72791);var i=t(5574),l="PaySlip_payslipContainer__B29PE",o="PaySlip_dialogTop__eA-1w",a="PaySlip_text__DFhVV",s="PaySlip_top__9N0w-",d="PaySlip_bluemonth__cD5RQ",r="PaySlip_eachrow__UJebn",c="PaySlip_left__7--CI",u="PaySlip_right__koAZZ",v="PaySlip_weight__PPOju",m="PaySlip_btn__JIg+D",f="PaySlip_topp__SnHfy",_="PaySlip_imgprofile__7eK4d",h="PaySlip_contentContainer__GZwT+",p=t(69721),x=new(t(35125).ZP)({format:[240,210]}),j=x.internal.pageSize.getWidth(),g=function(e,n,t,i,l,o,a,s,d){x.addImage(e,"JPEG",11.3,6.8,28,28),x.setLineWidth(8),x.setDrawColor(255,255,255),x.circle(25.4,20,16),x.setLineWidth(0);var r=x.splitTextToSize(n.insName,146);if(x.setFont("","normal",""),r.length>1){var c=15;x.setFont("700"),x.setTextColor(18,18,18),x.setFontSize(16),x.text(j/2,c,r,"center"),c=r.length+145}else{var u=15;x.setFont("700"),x.setTextColor(18,18,18),x.setFontSize(18),x.text(j/2,u,r,"center"),u=r.length+145}x.setFont("Arial","normal","400"),x.setTextColor(18,18,18),x.setFontSize(10),x.text(j/2,32,"".concat(n.insAddress," ").concat(n.insDistrict," ").concat(n.insState),"center"),x.setTextColor(18,18,18),x.setFontSize(10),x.text(j/2,24,"Mob No : ".concat(n.insPhoneNumber," , Mail : ").concat(n.insEmail),"center"),x.setLineWidth(.05),x.setDrawColor(153,153,153),x.line(0,35,j,35);var v="".concat(t.staffFirstName," ").concat(t.staffMiddleName?t.staffMiddleName:""," ").concat(t.staffLastName);x.setTextColor(0,0,0),x.setFontSize(13),x.text(9,55," Name :  ".concat(v)),x.setTextColor(0,0,0),x.setFontSize(13),x.text(j-40,55,"Salary slip for ".concat(i),"center"),x.setTextColor(0,0,0),x.setFontSize(13),x.text(9,63,"Working Days :  ".concat(l)),x.setTextColor(0,0,0),x.setFontSize(13),x.text(9,71," Paid Leaves :  ".concat(o)),x.setLineWidth(8),x.setDrawColor(0,26,114),x.line(9,91,j/2,91),x.setFontSize(11),x.setTextColor(255,255,255),x.text(11,92,"Particular"),x.setTextColor(255,255,255),x.text(j/2-15,92,"Amount","center"),x.setTextColor(0,0,0),x.text(11,100,"Basic Salary"),x.setTextColor(0,0,0),x.text(j/2-15,100,"".concat(a.amount),"center"),x.setLineWidth(.1),x.setDrawColor(28,2,59),x.line(9,103,j/2-.3,103),x.setTextColor(0,0,0),x.text(11,108,"HRA"),x.setTextColor(0,0,0),x.text(j/2-15,108,"".concat(a.hra),"center"),x.setLineWidth(.1),x.setDrawColor(28,2,59),x.line(9,111,j/2-.3,111),x.setFont("","bold",""),x.setTextColor(0,0,0),x.text(11,116,"Gross Total"),x.setFont("Arimo"),x.setTextColor(0,0,0),x.text(j/2-15,116,"".concat(a.gross_salary),"center"),x.setLineWidth(.1),x.setDrawColor(28,2,59),x.line(9,119,j/2-.3,119),x.setTextColor(0,0,0),x.setFont("","normal",""),x.text(11,124,"Employees Provident Fund"),x.setTextColor(0,0,0),x.text(j/2-15,124,"".concat(a.epf),"center"),x.setLineWidth(.1),x.setDrawColor(28,2,59),x.line(9,127,j/2-.3,127),x.setTextColor(0,0,0),x.text(11,132,"TDS"),x.setTextColor(0,0,0),x.text(j/2-15,132,"".concat(a.tds),"center"),x.setLineWidth(.1),x.setDrawColor(28,2,59),x.line(9,135,j/2-.3,135),x.setTextColor(0,0,0),x.setFont("","bold",""),x.text(11,140,"Net Total"),x.setTextColor(0,0,0),x.text(j/2-15,140,"".concat(a.net_total),"center"),x.setLineWidth(.1),x.setDrawColor(28,2,59),x.line(9.3,92,9.3,143),x.setLineWidth(.1),x.setDrawColor(28,2,59),x.line(69,95,69,143),x.setLineWidth(.1),x.setDrawColor(28,2,59),x.line(j/2-.3,92,j/2-.3,143),x.setLineWidth(.1),x.setDrawColor(28,2,59),x.line(9,143,j/2-.3,143),x.setTextColor(0,0,0),x.text(j-42,223,"Name : ".concat(s),"center"),x.setTextColor(0,0,0),x.setFont("","normal",""),x.text(j-42,231,"Appropriate Authority","center"),x.setTextColor(0,0,0),x.setFontSize(8),x.setFont("","normal",""),x.text(9,233,"Print Date : ".concat(d)),x.save("PaySlip.pdf")},y=t(14304),Z=t(72426),N=t.n(Z),b=t(80184);var S=function(e){var n,t,x,j,Z,S,C,T,w,A,R,E,I,D,F,P,k,M,L,q,H,O,B,J,G,Y,U,W,V,$,Q,z,X,K=e.modalClick,ee=e.hideModal,ne=e.history,te=e.sal_month,ie=(0,y.AG)({eid:ne&&ne,type:"History",month:te&&te}).data;return(0,b.jsx)(i.Z,{open:K,onClose:function(){return ee(!1)},children:(0,b.jsx)("div",{className:l,children:(0,b.jsxs)("div",{className:"".concat(s," ").concat(f),children:[(0,b.jsxs)("div",{className:o,children:[(0,b.jsx)("img",{className:_,alt:"Employee",src:"1"!==(null===ie||void 0===ie||null===(n=ie.detail)||void 0===n||null===(t=n.staff)||void 0===t?void 0:t.photoId)?"".concat(p.yI,"/").concat(null===ie||void 0===ie||null===(x=ie.detail)||void 0===x||null===(j=x.staff)||void 0===j?void 0:j.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,b.jsxs)("div",{className:a,children:[(0,b.jsx)("h6",{children:"".concat(null===ie||void 0===ie||null===(Z=ie.detail)||void 0===Z||null===(S=Z.staff)||void 0===S?void 0:S.staffFirstName," ").concat(null!==ie&&void 0!==ie&&null!==(C=ie.detail)&&void 0!==C&&null!==(T=C.staff)&&void 0!==T&&T.staffMiddleName?null===ie||void 0===ie||null===(w=ie.detail)||void 0===w||null===(A=w.staff)||void 0===A?void 0:A.staffMiddleName:""," ").concat(null===ie||void 0===ie||null===(R=ie.detail)||void 0===R||null===(E=R.staff)||void 0===E?void 0:E.staffLastName)}),(0,b.jsxs)("p",{children:["Index No. ",null===ie||void 0===ie||null===(I=ie.detail)||void 0===I||null===(D=I.staff)||void 0===D?void 0:D.staffROLLNO]})]})]}),(0,b.jsx)("div",{className:d,children:N()(null===ie||void 0===ie||null===(F=ie.filter)||void 0===F||null===(P=F[0])||void 0===P?void 0:P.month).format("MMMM yyyy")}),(0,b.jsxs)("div",{className:h,children:[(0,b.jsxs)("div",{className:r,children:[(0,b.jsx)("h6",{children:"Salary Per Day :"}),(0,b.jsxs)("h6",{children:["Rs. ",null===ie||void 0===ie||null===(k=ie.detail)||void 0===k?void 0:k.staff_salary_month]})]}),(0,b.jsxs)("div",{className:r,children:[(0,b.jsx)("h6",{children:"Attendance :"}),(0,b.jsxs)("h6",{children:[null!==ie&&void 0!==ie&&ie.filter?null===ie||void 0===ie||null===(M=ie.filter[0])||void 0===M?void 0:M.attendence:""," days"]})]}),(0,b.jsxs)("div",{className:r,children:[(0,b.jsx)("h6",{children:" Basic Salary :"}),(0,b.jsxs)("h6",{children:["(",null!==ie&&void 0!==ie&&ie.filter?null===ie||void 0===ie||null===(L=ie.filter[0])||void 0===L?void 0:L.payment_mode:"",") Rs. ",null!==ie&&void 0!==ie&&ie.filter?null===ie||void 0===ie||null===(q=ie.filter[0])||void 0===q?void 0:q.amount:""]})]}),(0,b.jsx)("hr",{}),(0,b.jsxs)("div",{className:r,children:[(0,b.jsx)("h6",{children:"Paid Leaves :"}),(0,b.jsxs)("h6",{children:["Total"," ",null!==ie&&void 0!==ie&&ie.filter?null===ie||void 0===ie||null===(H=ie.filter[0])||void 0===H?void 0:H.total_leaves:""," ","days"]})]}),(0,b.jsxs)("div",{className:r,children:[(0,b.jsx)("h6",{children:"Paid Leaves Taken:"}),(0,b.jsxs)("h6",{children:["Total"," ",null!==ie&&void 0!==ie&&ie.filter?null===ie||void 0===ie||null===(O=ie.filter[0])||void 0===O?void 0:O.paid_leaves:""," ","days"]})]}),(0,b.jsxs)("table",{children:[(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:c,children:"Particular"}),(0,b.jsx)("th",{className:u,children:"Amount"})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:c,children:"Basic Salary"}),(0,b.jsx)("td",{className:u,children:null!==ie&&void 0!==ie&&ie.filter?null===ie||void 0===ie||null===(B=ie.filter[0])||void 0===B?void 0:B.amount:""})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:c,children:"HRA"}),(0,b.jsx)("td",{className:u,children:null!==ie&&void 0!==ie&&ie.filter?null===ie||void 0===ie||null===(J=ie.filter[0])||void 0===J?void 0:J.hra:""})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:c,children:"DA"}),(0,b.jsx)("td",{className:u,children:null!==ie&&void 0!==ie&&ie.filter?null===ie||void 0===ie||null===(G=ie.filter[0])||void 0===G?void 0:G.da:""})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:c,children:"Medical Allowance"}),(0,b.jsx)("td",{className:u,children:null!==ie&&void 0!==ie&&ie.filter?null===ie||void 0===ie||null===(Y=ie.filter[0])||void 0===Y?void 0:Y.medical_allowance:""})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:c,children:"Travel Allowance"}),(0,b.jsx)("td",{className:u,children:null!==ie&&void 0!==ie&&ie.filter?null===ie||void 0===ie||null===(U=ie.filter[0])||void 0===U?void 0:U.travel_allowance:""})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:c,children:"Employer Contribution (EPF)"}),(0,b.jsx)("td",{className:u,children:null!==ie&&void 0!==ie&&ie.filter?null===ie||void 0===ie||null===(W=ie.filter[0])||void 0===W?void 0:W.employer_contribution:""})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:c,children:"Perquisites"}),(0,b.jsx)("td",{className:u,children:null!==ie&&void 0!==ie&&ie.filter?null===ie||void 0===ie||null===(V=ie.filter[0])||void 0===V?void 0:V.perquisites:""})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"".concat(c," ").concat(v),children:"Gross Total"}),(0,b.jsx)("td",{className:"".concat(u," ").concat(v),children:null!==ie&&void 0!==ie&&ie.filter?null===ie||void 0===ie||null===($=ie.filter[0])||void 0===$?void 0:$.gross_salary:""})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:c,children:"Employee Contribution (EPF)"}),(0,b.jsx)("td",{className:u,children:null!==ie&&void 0!==ie&&ie.filter?null===ie||void 0===ie||null===(Q=ie.filter[0])||void 0===Q?void 0:Q.epf:""})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:c,children:"TDS"}),(0,b.jsx)("td",{className:u,children:null!==ie&&void 0!==ie&&ie.filter?null===ie||void 0===ie||null===(z=ie.filter[0])||void 0===z?void 0:z.tds:""})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"".concat(c," ").concat(v),children:"Net Total"}),(0,b.jsx)("td",{className:"".concat(u," ").concat(v),children:null!==ie&&void 0!==ie&&ie.filter?null===ie||void 0===ie||null===(X=ie.filter[0])||void 0===X?void 0:X.net_total:""})]})]}),(0,b.jsx)("div",{className:m,onClick:function(){var e,n,t,i,l,o,a,s,d=null!==ie&&void 0!==ie&&ie.institute.insProfilePhoto?"".concat(p.yI,"/").concat(null===ie||void 0===ie?void 0:ie.institute.insProfilePhoto):"/images/certificate/logodemo.jpg",r=null===ie||void 0===ie||null===(e=ie.institute)||void 0===e||null===(n=e.financeDepart)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.financeHead,c="".concat(null===r||void 0===r?void 0:r.staffFirstName," ").concat(null!==r&&void 0!==r&&r.staffMiddleName?null===r||void 0===r?void 0:r.staffMiddleName:""," ").concat(null===r||void 0===r?void 0:r.staffLastName),u=N()(new Date).format("DD MMMM yyyy");g(d,null===ie||void 0===ie?void 0:ie.institute,null===ie||void 0===ie||null===(i=ie.detail)||void 0===i?void 0:i.staff,N()(null===ie||void 0===ie||null===(l=ie.filter)||void 0===l||null===(o=l[0])||void 0===o?void 0:o.month).format("MMMM yyyy"),null===ie||void 0===ie||null===(a=ie.filter[0])||void 0===a?void 0:a.attendence,null===ie||void 0===ie||null===(s=ie.filter[0])||void 0===s?void 0:s.paid_leaves,null===ie||void 0===ie?void 0:ie.filter[0],c,u)},children:"Download"})]})]})})})}},33710:function(e,n,t){var i=t(93433),l=t(29439),o=t(72791),a=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],s=["January","February","March","April","May","June","July","August","September","October","November","December"];n.Z=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,t=new Date,d="".concat(t.getDate(),"-").concat(t.getMonth()+1,"-").concat(t.getFullYear()),r=[1,2,3,4,5,6,0],c=(0,o.useState)(t),u=(0,l.Z)(c,2),v=u[0],m=u[1],f=new Date(v.getFullYear(),v.getMonth()+1,0),_=new Date(v.getFullYear(),v.getMonth(),0),h=f.getDate(),p=new Date(v.getFullYear(),v.getMonth(),1).getDay(),x=r.indexOf(p)+1,j=_.getDate()-r.indexOf(p)+1,g=1,y=1,Z={},N=1;N<7;N++)for(var b=1;b<8;b++)Z[N]||(Z[N]=[]),1===N?b<x?(Z[N]=[].concat((0,i.Z)(Z[N]),[{classes:"in-prev-month",date:"".concat(j,"-").concat(0===v.getMonth()?12:v.getMonth(),"-").concat(0===v.getMonth()?v.getFullYear()-1:v.getFullYear()),value:j}]),j++):(Z[N]=[].concat((0,i.Z)(Z[N]),[{classes:"",date:"".concat(g,"-").concat(v.getMonth()+1,"-").concat(v.getFullYear()),value:g}]),g++):N>1&&g<h+1?(Z[N]=[].concat((0,i.Z)(Z[N]),[{classes:"",date:"".concat(g,"-").concat(v.getMonth()+1,"-").concat(v.getFullYear()),value:g}]),g++):(Z[N]=[].concat((0,i.Z)(Z[N]),[{classes:"in-next-month",date:"".concat(y,"-").concat(v.getMonth()+2===13?1:v.getMonth()+2,"-").concat(v.getMonth()+2===13?v.getFullYear()+1:v.getFullYear()),value:y}]),y++);return{daysShort:e,monthNames:n,todayFormatted:d,calendarRows:Z,selectedDate:v,getPrevMonth:function(){m((function(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}))},getNextMonth:function(){m((function(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}))},daysInMonth:h}}},47566:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var i=t(93433),l=t(29439),o=t(72791),a=t(78687),s=t(14304),d=t(85161),r=t(39230),c=t(23441),u=t(65543),v=t(16871),m=t(98094),f=t(15961),_=t(80184),h=function(e){var n=e.children,t=(0,r.$G)().t,i=(0,v.s0)();return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("section",{className:f.Z.moderator_container_title,children:[(0,_.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){i(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,_.jsxs)("div",{className:f.Z.with_search,children:[(0,_.jsx)("h6",{children:t("pending_fees")}),(0,_.jsx)("div",{className:f.Z.search_container_filter,children:(0,_.jsx)("section",{className:f.Z.search_container,children:(0,_.jsxs)("div",{className:f.Z.search_container_input,children:[(0,_.jsx)("img",{className:f.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),n]})})})]})]}),(0,_.jsx)(m.Z,{customStyle:{width:"100%",marginTop:"0.5rem",marginBottom:"0.5rem"}})]})},p=t(763),x=t(11105),j=t(69721),g=function(e){var n,t,i,l,o,a,s,c=e.remainData,u=(0,r.$G)().t,m=(0,v.UO)(),f=(0,v.s0)();return(0,_.jsxs)("div",{className:d.Z.item,onClick:function(){f("/q/".concat(m.username,"/student/profile"),{state:{sid:null===c||void 0===c?void 0:c._id,viewAs:"FINANCE_MANAGER"}})},title:"View Profile",children:[(0,_.jsxs)("div",{className:d.Z.subItem,children:[(0,_.jsx)("img",{alt:"Student Avatar",src:null!==c&&void 0!==c&&c.studentProfilePhoto?"".concat(j.yI,"/").concat(null===c||void 0===c?void 0:c.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy",style:{height:"4vw",width:"4vw"}}),(0,_.jsxs)("div",{className:d.Z.text,children:[(0,_.jsx)("h6",{children:"".concat(null===c||void 0===c?void 0:c.studentFirstName," ").concat(null!==c&&void 0!==c&&c.studentMiddleName?null===c||void 0===c?void 0:c.studentMiddleName:""," ").concat(null===c||void 0===c?void 0:c.studentLastName)}),(0,_.jsxs)("p",{children:[u("gr_number"),null!==(n=null===c||void 0===c?void 0:c.studentGRNO)&&void 0!==n?n:""," ",", ",null!==(t=null===c||void 0===c||null===(i=c.department)||void 0===i?void 0:i.dName)&&void 0!==t?t:""]}),(0,_.jsxs)("p",{children:[u("finance_classes"),"".concat(null!==(l=null===c||void 0===c||null===(o=c.studentClass)||void 0===o?void 0:o.className)&&void 0!==l?l:""," -  ").concat(null!==(a=null===c||void 0===c||null===(s=c.studentClass)||void 0===s?void 0:s.classTitle)&&void 0!==a?a:"")]})]})]}),(0,_.jsxs)("div",{className:d.Z.text,children:[(0,_.jsxs)("h6",{children:["Rs. ",null===c||void 0===c?void 0:c.studentRemainingFeeCount]}),(0,_.jsx)("p",{children:u("pending_fees")})]})]})};var y=function(e){var n=e.fId,t=(0,r.$G)().t,v=(0,a.useSelector)((function(e){return e.financeChange})),m=o.useState([]),f=(0,l.Z)(m,2),j=f[0],y=f[1],Z=(0,c.YD)(),N=(0,l.Z)(Z,2),b=N[0],S=N[1],C=o.useState(!0),T=(0,l.Z)(C,2),w=T[0],A=T[1],R=o.useState(1),E=(0,l.Z)(R,2),I=E[0],D=E[1],F=(0,o.useState)(!0),P=(0,l.Z)(F,2),k=P[0],M=P[1],L=(0,o.useState)(""),q=(0,l.Z)(L,2),H=q[0],O=q[1],B=(0,s.PU)({finance:"".concat(null!==v&&void 0!==v&&v.fid?null===v||void 0===v?void 0:v.fid:n),page:I,limit:10,search:H},{skip:null!==v&&void 0!==v&&v.fid?!(null!==v&&void 0!==v&&v.fid):!n}),J=B.data,G=B.refetch,Y=(0,u.u)().scrollToTop;o.useEffect((function(){Y()}),[]),o.useEffect((function(){(null!==v&&void 0!==v&&v.fid||n)&&(M(!0),G())}),[null===v||void 0===v?void 0:v.fid,n,I,H,G]),o.useEffect((function(){S&&w&&D((function(e){return e+1}))}),[S,w]),o.useEffect((function(){var e;H?(y(null===J||void 0===J?void 0:J.list),M(!1)):null!==J&&void 0!==J&&J.list?(y((function(e){return(0,i.Z)(new Set([].concat((0,i.Z)(e),(0,i.Z)(null===J||void 0===J?void 0:J.list)).map(JSON.stringify))).map(JSON.parse)})),M(!1)):0===(null===J||void 0===J||null===(e=J.list)||void 0===e?void 0:e.length)&&M(!1);10===(null===J||void 0===J?void 0:J.list.length)?A(!0):A(!1)}),[null===J||void 0===J?void 0:J.list]);var U=(0,o.useCallback)((0,p.debounce)((function(e){return O(e)}),500),[]);return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("div",{className:d.Z.remainingFees,children:[(0,_.jsx)(h,{children:(0,_.jsx)("input",{type:"text",placeholder:t("search-label"),onChange:function(e){U(e.target.value)}})}),null===j||void 0===j?void 0:j.map((function(e,n){return(null===j||void 0===j?void 0:j.length)===n+1?(0,_.jsx)("div",{ref:b,children:(0,_.jsx)(g,{remainData:e})},n):(0,_.jsx)(g,{remainData:e},n)})),k&&(0,_.jsx)(x.Z,{status:"white"})]})})}},62681:function(e,n,t){t.d(n,{Z:function(){return j}});var i=t(29439),l=t(72791),o=t(33148),a=t(39230),s=t(29017),d=t(36665),r=t(98094),c=t(98734),u=t(97655),v=t(4942),m=t(1413),f=t(78687),_=t(48673),h=t(80184),p=function(e){var n=e.onClose,t=e.faid,p=e.openAs,x=(0,a.$G)().t,j=(0,f.useDispatch)(),g=(0,l.useState)(!1),y=(0,i.Z)(g,2),Z=y[0],N=y[1],b=(0,s.HM)(),S=(0,i.Z)(b,1)[0],C=(0,l.useState)({old_pass:"",new_pass:""}),T=(0,i.Z)(C,2),w=T[0],A=T[1],R=(0,l.useState)(""),E=(0,i.Z)(R,2),I=E[0],D=E[1],F=function(e){A((function(n){return(0,m.Z)((0,m.Z)({},n),{},(0,v.Z)({},e.target.name,e.target.value))}))},P=function(e,n){j(_.S.onAddPasswordManager({type:e,value:n}))};return(0,h.jsxs)(d.Z,{onClose:n,children:[(0,h.jsxs)("div",{className:o.Z.promote_container,style:{minHeight:"11rem",maxWidth:"23rem",overflow:"hidden"},children:[(0,h.jsx)("h6",{style:{textAlign:"center"},children:x("Admission_Login"===p?"admission_passowrd_protection":"finance_passowrd_protection")}),(0,h.jsx)(r.Z,{customStyle:{width:"100%"}}),(0,h.jsx)(u.Z,{type:"tel",name:"old_pass",labelText:x("current_password"),inputLength:"4",value:w.old_pass,onChange:F,placeholder:x("enter_current_password_pin"),errorShow:I.old_pass}),I.old_pass_length&&(0,h.jsx)("p",{style:{color:"red",marginBottom:"0"},children:x("old_pass_length")}),(0,h.jsx)(u.Z,{type:"tel",name:"new_pass",labelText:x("new_password"),inputLength:"4",value:w.new_pass,onChange:F,placeholder:x("enter_new_password_pin"),errorShow:I.new_pass}),I.new_pass_length&&(0,h.jsx)("p",{style:{color:"red",marginBottom:"0"},children:x("new_pass_length")}),I.pass_match&&(0,h.jsx)("p",{style:{color:"red",marginBottom:"0"},children:x("both_match_password")}),(0,h.jsx)("button",{className:o.Z.select_application_btn,onClick:function(){var e=function(e){var n,t,i={};for(var l in e)e[l]||(i[l]="".concat(l," is required!"));return e.old_pass&&e.new_pass&&e.old_pass===e.new_pass&&(i.pass_match=" is required!"),4!==(null===(n=e.old_pass)||void 0===n?void 0:n.length)&&(i.old_pass_length=" is required!"),4!==(null===(t=e.new_pass)||void 0===t?void 0:t.length)&&(i.new_pass_length=" is required!"),i}(w),i=!1;for(var l in e){i=!0;break}i?D(e):(N((function(e){return!e})),S({forgetPassword:w,faid:t,flow:p}).then((function(){N((function(e){return!e})),P("Admission_Login"===p?"ADMISSION_PASSWORD":"FINANCE_PASSWORD",w.new_pass),n()})).catch({}))},style:{width:"100%",marginTop:"3rem",justifyContent:"center"},title:"Confirm",children:x("confirm")})]}),Z&&(0,h.jsx)(c.Z,{})]})},x=t(16871),j=function(e){var n=e.onClose,t=e.faid,v=e.openAs,m=(0,a.$G)().t,j=(0,x.s0)(),g=(0,x.UO)(),y=(0,f.useDispatch)(),Z=(0,l.useState)(!1),N=(0,i.Z)(Z,2),b=N[0],S=N[1],C=(0,s.c4)(),T=(0,i.Z)(C,1)[0],w=(0,l.useState)(""),A=(0,i.Z)(w,2),R=A[0],E=A[1],I=(0,l.useState)(""),D=(0,i.Z)(I,2),F=D[0],P=D[1],k=(0,l.useState)(!1),M=(0,i.Z)(k,2),L=M[0],q=M[1],H=function(e,n){y(_.S.onAddPasswordManager({type:e,value:n}))};return(0,h.jsx)(h.Fragment,{children:L?(0,h.jsx)(p,{openAs:v,faid:t,onClose:function(){return q(!1)}}):(0,h.jsxs)(d.Z,{onClose:function(){},children:[(0,h.jsxs)("div",{className:o.Z.promote_container,style:{minHeight:"11rem",maxWidth:"23rem",overflow:"hidden"},children:[(0,h.jsxs)("div",{className:o.Z.promote_container_title,children:[(0,h.jsx)("h6",{children:m("Admission_Login"===v?"admission_passowrd_protection":"finance_passowrd_protection")}),(0,h.jsx)("img",{src:"/images/close-post-icon.svg",onClick:function(){j("/q/".concat(g.username,"/feed"))},alt:""})]}),(0,h.jsx)(r.Z,{customStyle:{width:"100%"}}),(0,h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),R&&4===(null===R||void 0===R?void 0:R.length)?(S((function(e){return!e})),T({loginPassword:{protected_pin:R,flowId:t,flow:v}}).then((function(){S((function(e){return!e})),H("Admission_Login"===v?"ADMISSION_PASSWORD":"FINANCE_PASSWORD",R),n()})).catch({})):P({protectedPin:"required"})},children:[(0,h.jsx)(u.Z,{type:"tel",name:"protectedPin",labelText:m("Admission_Login"===v?"admission_passowrd_protection_placeholder":"finance_passowrd_protection_placeholder"),inputLength:"4",value:R,onChange:function(e){return E(e.target.value)},placeholder:m("enter_password_pin"),errorShow:F.protectedPin}),(0,h.jsx)("h6",{onClick:function(){return q(!0)},children:m("forget_password")}),(0,h.jsx)("button",{className:o.Z.select_application_btn,style:{width:"100%",marginTop:"3rem",justifyContent:"center"},title:"Confirm",type:"submit",children:m("confirm")})]})]}),b&&(0,h.jsx)(c.Z,{})]})})}},23730:function(e,n,t){var i=t(29439),l=t(72791),o=t(33148),a=t(39230),s=t(29017),d=t(36665),r=t(98094),c=t(98734),u=t(80184);n.Z=function(e){var n=e.onClose,t=e.enableLock,v=e.faid,m=e.onRefetch,f=e.openAs,_=(0,a.$G)().t,h=(0,l.useState)(!1),p=(0,i.Z)(h,2),x=p[0],j=p[1],g=(0,s.Uz)(),y=(0,i.Z)(g,1)[0];return(0,u.jsxs)(d.Z,{onClose:n,children:[(0,u.jsxs)("div",{className:o.Z.promote_container,style:{minHeight:"11rem",minWidth:"23rem",overflow:"hidden"},children:[(0,u.jsx)("h6",{style:{textAlign:"center"},children:_(t?"disabled_password_protection":"enabled_password_protection")}),(0,u.jsx)(r.Z,{customStyle:{width:"100%"}}),(0,u.jsx)("button",{className:o.Z.select_application_btn,onClick:function(){j((function(e){return!e})),y({faid:v,flow:f}).then((function(){m(),j((function(e){return!e})),n()})).catch({})},style:{width:"100%",marginTop:"3rem",justifyContent:"center"},title:"Confirm",children:_("confirm")})]}),x&&(0,u.jsx)(c.Z,{})]})}},49886:function(e,n,t){t.d(n,{Z:function(){return v}});var i=t(29439),l=t(72791),o=t(39230),a=t(91022),s="PaymentModeType_payment_mode_heading__RpGh8",d=t(80184),r=["Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft","Fee Receipt Not Generated"],c=["Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft","Unrecovered/Exemption","Fee Receipt Not Generated"],u=["By Bank","By Cash"],v=function(e){var n=e.paymentHeading,t=e.paymentHeadingPlaceholder,v=e.onInputChange,m=e.errorShow,f=e.openAs,_=e.viewAs,h=(0,o.$G)().t,p=(0,l.useState)(""),x=(0,i.Z)(p,2),j=x[0],g=x[1];(0,l.useEffect)((function(){"REFUND"===f&&g("Refunded"),"FINANCE_MANAGER"===_&&g("Govt. Grant/Scholarship")}),[f]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("h6",{className:s,children:[" ",n," "]}),(0,d.jsx)(a.Z,{selectLabel:t||h("mode_placeholder"),value:j,onClick:"DEPOSIT_REFUND_LIST"===f?function(e){g(e),v(e)}:function(e){g(e),v({target:{name:"fee_payment_mode",value:"Cash"===e?"By Cash":"Unrecovered/Exemption"===e?"Exempted/Unrecovered":"Govt. Grant/Scholarship"===e?"Government/Scholarship":e}})},selectedValue:h("please_select_payment_mode"),options:"DEPOSIT_REFUND_LIST"===f?u:t?c:r,customLabelStyle:{marginTop:"0",marginBottom:"7px",fontWeight:"400",fontSize:"12px",color:"rgba(18, 18, 18, 0.8)"},customListStyle:{maxHeight:"fit-content"},errorShow:m,openAs:f,viewAs:_})]})}},64712:function(e,n,t){t(72791);var i=t(39230),l=t(44820),o=t(72426),a=t.n(o),s=t(80184);n.Z=function(e){var n,t,o,d,r,c,u=e.corpus,v=(0,i.$G)().t;return(0,s.jsxs)("div",{className:l.Z.corpus_card,children:[(0,s.jsxs)("h6",{style:{textAlign:"center"},children:[v("invoice_number"),null!==(n=null===u||void 0===u?void 0:u.invoice_number)&&void 0!==n?n:""]}),(0,s.jsx)("p",{className:l.Z.recieve_from,children:v("recieved_from")}),(0,s.jsxs)("div",{className:l.Z.unused_container_text_inner,children:[(0,s.jsx)("h6",{children:null!==u&&void 0!==u&&u.incomeFromUser?"".concat(null===u||void 0===u||null===(t=u.incomeFromUser)||void 0===t?void 0:t.userLegalName):null!==(o=null===u||void 0===u?void 0:u.incomeFrom)&&void 0!==o?o:""}),(0,s.jsxs)("h6",{children:[v("rs")," ",null!==(d=null===u||void 0===u?void 0:u.incomeAmount)&&void 0!==d?d:0]})]}),(0,s.jsxs)("div",{className:l.Z.unused_container_text_inner,children:[(0,s.jsxs)("p",{style:{color:"rgba(18, 18, 18, 0.8)"},children:[null===(r=a()(null===u||void 0===u?void 0:u.createdAt))||void 0===r?void 0:r.format("DD MMM yyyy"),","," ",null===(c=a()(null===u||void 0===u?void 0:u.createdAt))||void 0===c?void 0:c.format("LT")]}),(0,s.jsx)("p",{style:{color:"rgba(18, 18, 18, 0.8)"},children:"By Bank"===(null===u||void 0===u?void 0:u.incomeAccount)?"Bank":"Cash"})]}),(0,s.jsxs)("p",{children:[v("grant_utr_ref"),null===u||void 0===u?void 0:u.income_utr]})]})}},94140:function(e,n,t){t.r(n),t.d(n,{default:function(){return Lt}});var i=t(72791),l=t(42817),o=t(16871),a="FinanceManager_departmenthead__VkVD+",s=t(37762),d=t(29439),r=t(8835),c=t(39230),u=t(1413),v="Tabs_mcqToptabs__9cN7w",m="Tabs_mcqTop__d+mHp",f="Tabs_mcqTopItem__61pPO",_="Tabs_active__f+aQ9",h=t(43504),p=t(80184);var x=function(e){var n=e.carryParentState,t=e.search,i=(e.accessRole,(0,c.$G)().t),l=(0,o.UO)();return(0,p.jsx)("div",{className:m,children:(0,p.jsxs)("div",{className:v,children:[(0,p.jsx)(h.rU,{to:"/q/".concat(l.username,"/member/finance"),state:(0,u.Z)({},n),style:{width:"33.3%"},children:(0,p.jsx)("div",{className:t?f:"".concat(f," ").concat(_),children:i("menu")})}),(0,p.jsx)(h.rU,{to:"/q/".concat(l.username,"/member/finance?a=fee"),state:(0,u.Z)({},n),style:{width:"33.3%"},children:(0,p.jsx)("div",{className:"fee"===(null===t||void 0===t?void 0:t.substring(3,6))?"".concat(f," ").concat(_):f,children:i("fee_structure")})}),(0,p.jsx)(h.rU,{to:"/q/".concat(l.username,"/member/finance?a=fund"),state:(0,u.Z)({},n),style:{width:"33.3%"},children:(0,p.jsx)("div",{className:"fund"===(null===t||void 0===t?void 0:t.substring(3))?"".concat(f," ").concat(_):f,children:i("funds")})})]})})},j={funds:"Funds_funds__AwvuP",funds2:"Funds_funds2__9KJmO",fundshead:"Funds_fundshead__dEjZt",fundscontent:"Funds_fundscontent__Qz7pO",sidebarbottomitem:"Funds_sidebarbottomitem__Gvq2R",namee:"Funds_namee__d02i0",dueActive:"Funds_dueActive__98fGp",desig:"Funds_desig__Fo4uB",balanceItem:"Funds_balanceItem__wipAp",both_filter:"Funds_both_filter__8Utn5",both_filter_with_name:"Funds_both_filter_with_name__MMRnY"};function g(e){var n=e.bal,t=e.value;e.check;return(0,p.jsxs)("div",{className:j.balanceItem,children:[(0,p.jsxs)("p",{children:[n,":"]}),(0,p.jsxs)("p",{children:["Rs. ",t]})]})}var y=function(e){var n,t,i=e.funds,l=(0,c.$G)().t,o=(null===i||void 0===i?void 0:i.financeCashBalance)+(null===i||void 0===i?void 0:i.financeSubmitBalance)+(null===i||void 0===i?void 0:i.financeIncomeCashBalance);o>(null===i||void 0===i?void 0:i.financeExpenseCashBalance)&&(o-=null===i||void 0===i?void 0:i.financeExpenseCashBalance);var a=(null===i||void 0===i?void 0:i.financeBankBalance)+(null===i||void 0===i?void 0:i.financeIncomeBankBalance);return a>(null===i||void 0===i?void 0:i.financeExpenseBankBalance)&&(a-=null===i||void 0===i?void 0:i.financeExpenseBankBalance),(0,p.jsxs)("div",{className:j.funds,children:[(0,p.jsx)("div",{className:j.fundshead,children:(0,p.jsxs)("h6",{children:[" ",l("funds_overview")," "]})}),(0,p.jsxs)("div",{className:j.fundscontent,children:[(0,p.jsxs)("div",{className:j.sidebarbottomitem,children:[(0,p.jsx)("img",{alt:"not found",src:"/images/finance/doller-icon.svg"}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{className:j.namee,children:["Rs. ",null===i||void 0===i?void 0:i.financeTotalBalance]}),(0,p.jsx)("p",{className:j.desig,children:l("total_funds")})]})]}),(0,p.jsx)(g,{check:"false",bal:l("cash_balance"),value:o}),(0,p.jsx)(g,{check:"false",bal:l("bank_balance"),value:a}),(0,p.jsx)(g,{check:"true",bal:l("due_from_qviple"),value:null===i||void 0===i||null===(n=i.institute)||void 0===n||null===(t=n.adminRepayAmount)||void 0===t?void 0:t.toFixed(2)})]})]})},Z=t(93433),N=t(23441),b=t(78687),S=t(14304),C={dueList:"DueList_dueList__HRLry",dueListTop:"DueList_dueListTop__p4rS0",due:"DueList_due__W+Xuy",item:"DueList_item__qcJpU",itemleft:"DueList_itemleft__zS2OL",itemright:"DueList_itemright__hqv+V"},T=t(72426),w=t.n(T);function A(e){var n=e.repay,t=e.ref,i=e.key;return(0,p.jsxs)("div",{className:C.item,ref:t,children:[(0,p.jsxs)("div",{className:C.itemleft,children:[(0,p.jsx)("img",{src:"/images/career/newLogo.svg",alt:""}),(0,p.jsxs)("div",{className:C.text,children:[(0,p.jsx)("h6",{children:w()(n.createdAt).format("LL")}),(0,p.jsx)("p",{children:w()(n.createdAt).format("LT")})]})]}),(0,p.jsxs)("div",{className:C.itemright,children:["Rs. ",n.repayAmount]})]},i)}var R=function(e){var n=e.setDueList,t=(0,b.useDispatch)(),l=(0,c.$G)().t,o=(0,b.useSelector)((function(e){return e.financeChange})),a=(0,N.YD)(),s=(0,d.Z)(a,2),r=s[0],u=s[1],v=(0,i.useState)([]),m=(0,d.Z)(v,2),f=m[0],_=m[1],h=(0,i.useState)(1),x=(0,d.Z)(h,2),j=x[0],g=x[1],y=!1,T=(0,i.useState)(!0),w=(0,d.Z)(T,2),R=w[0],E=w[1],I=(0,S.K0)({info:{page:j,limit:10,fid:null===o||void 0===o?void 0:o.insId},skip:null!==o&&void 0!==o&&o.insId?y:!(null!==o&&void 0!==o&&o.insId)}),D=I.data,F=I.refetch;return(0,i.useEffect)((function(){u&&R&&g((function(e){return e+1}))}),[u,R,y]),(0,i.useEffect)((function(){null!==o&&void 0!==o&&o.insId&&F()}),[y,null===o||void 0===o?void 0:o.insId,F]),(0,i.useEffect)((function(){var e;null!==D&&void 0!==D&&D.repay&&_([].concat((0,Z.Z)(f),(0,Z.Z)(null===D||void 0===D?void 0:D.repay))),10===(null===D||void 0===D||null===(e=D.repay)||void 0===e?void 0:e.length)&&E(!0),10===(null===D||void 0===D?void 0:D.repay.length)?E(!0):E(!1)}),[null===D||void 0===D?void 0:D.repay,t]),(0,p.jsxs)("div",{className:C.dueList,children:[(0,p.jsx)("div",{className:C.dueListTop,onClick:function(){return n(!1)},children:(0,p.jsx)("h6",{children:l("back")})}),(0,p.jsx)("div",{className:C.itemsContainer,children:(null===f||void 0===f?void 0:f.length)>0?null===f||void 0===f?void 0:f.map((function(e,n){return(0,p.jsx)(A,{ref:r,repay:e},n)})):(0,p.jsx)("p",{className:C.due,children:l("no_due")})})]})},E=t(86861),I=t(65361);var D=function(e){var n,t,l,a,s,u,v=e.tabData,m=e.carryParentState,f=e.accessRole,_=e.callApi,h=(0,c.$G)().t,j=(0,o.TH)(),g=(0,i.useState)(!1),Z=(0,d.Z)(g,2),N=Z[0],b=Z[1];return(0,p.jsx)("div",{className:r.Z.MiddleContent,style:"category"===(null===j||void 0===j||null===(n=j.search)||void 0===n?void 0:n.substring(9))||"structure"===(null===j||void 0===j||null===(t=j.search)||void 0===t?void 0:t.substring(9))?{marginTop:"0"}:{color:"inherit"},children:N?(0,p.jsx)("div",{className:r.Z.MiddleContentLeft2,children:(0,p.jsx)(R,{setDueList:b})}):(0,p.jsxs)("div",{className:r.Z.MiddleContentLeft,children:[(0,p.jsx)("div",{className:r.Z.tabs,children:(0,p.jsx)(x,{search:null===j||void 0===j?void 0:j.search,carryParentState:m})}),!(null!==j&&void 0!==j&&j.search)&&(0,p.jsxs)("div",{className:r.Z.itemIconContainer,children:[(0,p.jsx)(E.Z,{carryParentState:m,activeTab:"student",accessRole:f,callApi:_,children:(0,p.jsxs)("div",{className:r.Z.itemIcon,children:[(0,p.jsx)("img",{src:"/images/member_tab/finance/finance-student-icon.svg",alt:"moderator icon"}),(0,p.jsx)("p",{children:h("all_student")})]})}),(0,p.jsx)(E.Z,{carryParentState:m,activeTab:"bank",accessRole:f,callApi:_,children:(0,p.jsxs)("div",{className:r.Z.itemIcon,children:[(0,p.jsx)("img",{src:"/images/member_tab/finance/finance-bank-icon.svg",alt:"bank icon"}),(0,p.jsx)("p",{children:h("bank_details_tab")})]})}),(0,p.jsx)(E.Z,{carryParentState:m,activeTab:"pending",accessRole:f,callApi:_,children:(0,p.jsxs)("div",{className:r.Z.itemIcon,children:[(0,p.jsx)("img",{src:"/images/member_tab/finance/finance-pending-icon.svg",alt:"settings"}),(0,p.jsx)("p",{children:h("pending_fees")})]})}),(0,p.jsx)(E.Z,{carryParentState:m,activeTab:"submission",accessRole:f,callApi:_,children:(0,p.jsxs)("div",{className:r.Z.itemIcon,children:[(0,p.jsx)("img",{src:"/images/member_tab/finance/finance-cash-icon.svg",alt:"settings"}),(0,p.jsx)("p",{children:h("finance_submit_request")})]})}),(0,p.jsx)(E.Z,{carryParentState:m,activeTab:"deposit",accessRole:f,callApi:_,children:(0,p.jsxs)("div",{className:r.Z.itemIcon,children:[(0,p.jsx)("img",{src:"/images/member_tab/finance/finance-deposit-icon.svg",alt:"refund"}),(0,p.jsx)("p",{children:h("finance_deposit")})]})}),(0,p.jsx)(E.Z,{carryParentState:m,activeTab:"income",accessRole:f,callApi:_,children:(0,p.jsxs)("div",{className:r.Z.itemIcon,children:[(0,p.jsx)("img",{src:"/images/member_tab/finance/finance-income-icon.svg",alt:"student Request"}),(0,p.jsx)("p",{children:h("incomes")})]})}),(0,p.jsx)(E.Z,{carryParentState:m,activeTab:"expense",accessRole:f,callApi:_,children:(0,p.jsxs)("div",{className:r.Z.itemIcon,children:[(0,p.jsx)("img",{src:"/images/member_tab/finance/finance-expense-icon.svg",alt:"settings"}),(0,p.jsx)("p",{children:h("expenses")})]})}),(0,p.jsx)(E.Z,{carryParentState:m,activeTab:"scholarship",accessRole:f,callApi:_,children:(0,p.jsxs)("div",{className:r.Z.itemIcon,children:[(0,p.jsx)("img",{src:"/images/member_tab/finance/finance-scholarship-icon.svg",alt:"scholarship icon"}),(0,p.jsx)("p",{children:h("finance_shcolarship")})]})}),(0,p.jsx)(E.Z,{carryParentState:m,activeTab:"exemption",accessRole:f,callApi:_,children:(0,p.jsxs)("div",{className:r.Z.itemIcon,children:[(0,p.jsx)("img",{src:"/images/member_tab/finance/finance-exemption-icon.svg",alt:"exemption icon",style:{marginTop:"1rem"}}),(0,p.jsx)("p",{style:{marginLeft:"1.5rem"},children:h("exemption_unrecovered")})]})}),(0,p.jsx)(E.Z,{carryParentState:m,activeTab:"history",accessRole:f,callApi:_,children:(0,p.jsxs)("div",{className:r.Z.itemIcon,children:[(0,p.jsx)("img",{src:"/images/member_tab/finance/finance-history-icon.svg",alt:"repayment"}),(0,p.jsx)("p",{children:h("finance_transaction_hisotry")})]})}),(0,p.jsx)(E.Z,{carryParentState:m,activeTab:"export",accessRole:f,callApi:_,children:(0,p.jsxs)("div",{className:r.Z.itemIcon,children:[(0,p.jsx)("img",{src:"/images/member_tab/finance/finance-export-icon.svg",alt:"refund"}),(0,p.jsx)("p",{children:h("data_export")})]})}),(0,p.jsx)(E.Z,{carryParentState:m,activeTab:"moderator",accessRole:f,callApi:_,children:(0,p.jsxs)("div",{className:r.Z.itemIcon,children:[(0,p.jsx)("img",{src:"/images/member_tab/finance/finance-moderator-icon.svg",alt:"moderator icon"}),(0,p.jsx)("p",{children:h("finance_moderator")})]})})]}),"fee"===(null===j||void 0===j||null===(l=j.search)||void 0===l?void 0:l.substring(3,6))&&(0,p.jsx)(I.default,{financeId:null===v||void 0===v?void 0:v._id,instituteId:null===v||void 0===v||null===(a=v.institute)||void 0===a?void 0:a._id,fees_category_count:null===v||void 0===v?void 0:v.fees_category_count,fee_master_array_count:null===v||void 0===v?void 0:v.fee_master_array_count,carryParentState:m,accessRole:f,callApi:_}),"fund"===(null===j||void 0===j||null===(s=j.search)||void 0===s?void 0:s.substring(3))&&(0,p.jsx)(y,{dueList:N,setDueList:b,funds:v,instituteId:null===v||void 0===v||null===(u=v.institute)||void 0===u?void 0:u._id,accessRole:f,callApi:_})]})})},F=t(21640),P=t(87932),k=t(23730),M=t(62681);var L=function(e){var n,t,l,a,r,u,v,m,f,_,h,x,j,g,y,Z,N=e.onClickValue,S=e.carryParentState,C=e.role,T=e.mid,w=(0,b.useSelector)((function(e){return e.idChange.passwordManager.financePassword})),A=(0,i.useState)(""),R=(0,d.Z)(A,2),E=R[0],I=R[1],L=(0,i.useState)(!1),q=(0,d.Z)(L,2),H=q[0],O=q[1],B=(0,i.useState)(!1),J=(0,d.Z)(B,2),G=J[0],Y=J[1],U=(0,c.$G)().t,W=(0,o.TH)(),V=(0,P.OS)({data:{fid:C?null===N||void 0===N?void 0:N.finance:"".concat(N),mod_id:C?T:""},skip:N?!N:!(null!==N&&void 0!==N&&N.finance)}),$=V.financeDetailManager,Q=V.financeDetailManagerRefetch;return(0,i.useEffect)((function(){(N||null!==N&&void 0!==N&&N.finance)&&Q()}),[N,null===N||void 0===N?void 0:N.finance,Q]),(0,i.useEffect)((function(){var e,n;if(null!==$&&void 0!==$&&null!==(e=$.roles)&&void 0!==e&&e.length&&C){var t,i=null===N||void 0===N?void 0:N._id,l=(0,s.Z)(null===$||void 0===$?void 0:$.roles);try{for(l.s();!(t=l.n()).done;){var o=t.value;if(i===(null===o||void 0===o?void 0:o._id)){I(o);break}}}catch(a){l.e(a)}finally{l.f()}}null!==$&&void 0!==$&&null!==(n=$.finance)&&void 0!==n&&n.enable_protection&&(w||Y(!0))}),[null===$||void 0===$?void 0:$.roles,null===$||void 0===$||null===(n=$.finance)||void 0===n?void 0:n.enable_protection]),(0,p.jsxs)(p.Fragment,{children:["category"!==(null===W||void 0===W||null===(t=W.search)||void 0===t?void 0:t.substring(9))&&"structure"!==(null===W||void 0===W||null===(l=W.search)||void 0===l?void 0:l.substring(9))&&(0,p.jsx)(F.Z,{coverKey:null===$||void 0===$||null===(a=$.finance)||void 0===a?void 0:a.cover,coverId:null===$||void 0===$||null===(r=$.finance)||void 0===r?void 0:r.coverId,defaultCover:"/images/profileAndCover/finance-cover.png",textLarge:U("finace_manager"),textSmall:"".concat(null===$||void 0===$||null===(u=$.finance)||void 0===u||null===(v=u.financeHead)||void 0===v?void 0:v.staffFirstName," ").concat(null===$||void 0===$||null===(m=$.finance)||void 0===m||null===(f=m.financeHead)||void 0===f?void 0:f.staffMiddleName," ").concat(null===$||void 0===$||null===(_=$.finance)||void 0===_||null===(h=_.financeHead)||void 0===h?void 0:h.staffLastName),viewAs:null===E||void 0===E||!E.access_role,enableLock:null===$||void 0===$||null===(x=$.finance)||void 0===x?void 0:x.enable_protection,setPassword:O,openAs:"FINANCE_MANAGER"}),(0,p.jsx)(D,{tabData:null===$||void 0===$?void 0:$.finance,carryParentState:S,accessRole:null===E||void 0===E?void 0:E.access_role,callApi:!(null===$||void 0===$||null===(j=$.finance)||void 0===j||!j._id)}),H&&(0,p.jsx)(k.Z,{onClose:function(){return O(!1)},enableLock:null===$||void 0===$||null===(g=$.finance)||void 0===g?void 0:g.enable_protection,faid:null===$||void 0===$||null===(y=$.finance)||void 0===y?void 0:y._id,onRefetch:Q,openAs:"Finance_Login"}),G&&(0,p.jsx)(M.Z,{onClose:function(){return Y(!1)},faid:null===$||void 0===$||null===(Z=$.finance)||void 0===Z?void 0:Z._id,openAs:"Finance_Login"})]})},q="InternalFunds_insFund__IDWGt",H="InternalFunds_insFundTop__HMPLB",O="InternalFunds_insFundTopLeft__iunL4",B="InternalFunds_blueTabs__gnxY1",J="Fund_insFundMid__mJV+I",G="Fund_insFundBottom__ah+79",Y="Card_card__GHSjZ";var U=function(e){var n=e.img,t=e.amt,i=e.text;return(0,p.jsxs)("div",{className:Y,children:[(0,p.jsx)("img",{src:n,alt:""}),(0,p.jsx)("p",{children:i}),(0,p.jsxs)("h5",{children:["Rs. ",t]})]})};var W=function(e){var n,t=e.funds,i=e.duration,l=e.remain,o=e.carryParentState,a=e.callApi;return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{children:[""!==i.from&&""!==i.to&&(0,p.jsxs)("div",{className:J,children:[(0,p.jsxs)("p",{children:["From : ",(0,p.jsx)("span",{children:null===i||void 0===i?void 0:i.from})]}),(0,p.jsxs)("p",{children:["From : ",(0,p.jsx)("span",{children:null===i||void 0===i?void 0:i.to})]})]}),(0,p.jsxs)("div",{className:G,children:[(0,p.jsx)(U,{amt:null===t||void 0===t?void 0:t.financeRaisedBalance,text:"Total Raised Amount",img:"/images/finance/total.svg"}),(0,p.jsx)(U,{amt:null===t||void 0===t?void 0:t.financeSubmitBalance,text:"Offline Collected\nAmount",img:"/images/finance/offline.svg"}),(0,p.jsx)(U,{amt:null===(n=(null===t||void 0===t?void 0:t.financeCollectedBankBalance)+(null===t||void 0===t?void 0:t.financeBankBalance))||void 0===n?void 0:n.toFixed(2),text:"Online Collected\nAmount",img:"/images/finance/online.svg"}),(0,p.jsx)(E.Z,{carryParentState:o,activeTab:"submission",callApi:a,children:(0,p.jsx)(U,{amt:null===t||void 0===t?void 0:t.financeCollectedSBalance,text:"Collected, Not Submitted",img:"/images/finance/notSubmitted.svg"})}),(0,p.jsx)(U,{amt:null===t||void 0===t?void 0:t.financeExemptBalance,text:"Exempted Amount",img:"/images/finance/exempted.svg"}),(0,p.jsx)(E.Z,{carryParentState:o,activeTab:"pending",callApi:a,children:(0,p.jsx)(U,{amt:l,text:"Remaining Amount",img:"/images/finance/remaining.svg"})})]})]})})},V="FundModal_addDisplay__WHW5J",$="FundModal_title__+NQkf",Q="FundModal_fundinput__iMP0H",z="FundModal_content__c1ddg",X="FundModal_btn__Lr1J4",K="FundModal_activeBttn__NVpmf",ee=t(5574);var ne=function(e){var n=e.addDisplay,t=e.hideModal,i=e.duration,l=e.setDuration,o=(new Date).toISOString().split("T")[0];return(0,p.jsx)(ee.Z,{open:n,onClose:function(){return t(!1)},children:(0,p.jsxs)("div",{className:V,children:[(0,p.jsx)("div",{className:$,children:(0,p.jsx)("h6",{children:"Choose Date"})}),(0,p.jsxs)("div",{className:z,children:[(0,p.jsxs)("div",{className:Q,children:[(0,p.jsx)("h6",{children:"From"}),(0,p.jsx)("input",{type:"date",max:o,value:i.from,placeholder:"Type Confirm To Continue",onChange:function(e){return l((0,u.Z)((0,u.Z)({},i),{},{from:e.target.value}))}})]}),(0,p.jsxs)("div",{className:Q,children:[(0,p.jsx)("h6",{children:"To"}),i.from?(0,p.jsx)("input",{type:"date",min:null===i||void 0===i?void 0:i.from,max:o,value:i.to,placeholder:"Type Confirm To Continue",onChange:function(e){return l((0,u.Z)((0,u.Z)({},i),{},{to:e.target.value}))}}):(0,p.jsx)("input",{type:"date",min:null===i||void 0===i?void 0:i.from,max:o,disabled:!0,value:i.to,placeholder:"Type Confirm To Continue",onChange:function(e){return l((0,u.Z)((0,u.Z)({},i),{},{to:e.target.value}))}})]}),""!==i.from&&""!==i.to?(0,p.jsx)("div",{className:"".concat(X," ").concat(K),onClick:function(){return t(!1)},children:"Apply"}):(0,p.jsx)("div",{className:X,children:"Apply"})]})]})})},te="Menu_menu__P2uF6",ie="Menu_menuItem__Sq5Ra",le="Menu_lastItem__bsDqK",oe="Menu_firstItem__CdBtJ",ae={position:"absolute",width:"30vw",zIndex:15,right:"0.8vw",top:"2vw"},se={position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10};var de=function(e){var n=e.open,t=e.onClose,i=e.setSelectIndex;return n?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{onClick:t,style:se}),(0,p.jsxs)("div",{style:ae,className:te,children:[(0,p.jsx)("div",{className:"".concat(ie," ").concat(oe),onClick:function(){t(),i(1)},children:"Total Institute Fund"}),(0,p.jsx)("div",{className:ie,onClick:function(){t(),i(2)},children:"Computer Department"}),(0,p.jsx)("div",{className:ie,onClick:function(){t(),i(3)},children:"Information Technology"}),(0,p.jsx)("div",{className:ie,onClick:function(){t(),i(4)},children:"Electrical Department"}),(0,p.jsx)("div",{className:ie,onClick:function(){t(),i(5)},children:"E & Tc Department"}),(0,p.jsx)("div",{className:"".concat(ie," ").concat(le),onClick:function(){t(),i(6)},children:"Mechanical Department"})]})]}):null},re=t(65543);var ce=function(e){var n=e.carryParentState,t=e.callApi,l=(0,b.useSelector)((function(e){return e.financeChange})),o=(0,P.OS)({data:{fid:null===l||void 0===l?void 0:l.fid,mod_id:""},skip:!(null!==l&&void 0!==l&&l.fid)}).financeDetailManager,a=(0,S.lv)("".concat(null===l||void 0===l?void 0:l.fid),{skip:!(null!==l&&void 0!==l&&l.fid)}).data,s=(0,i.useState)(!1),r=(0,d.Z)(s,2),c=r[0],u=r[1],v=(0,i.useState)(!1),m=(0,d.Z)(v,2),f=m[0],_=m[1],h=(0,i.useState)(1),x=(0,d.Z)(h,2),j=x[0],g=x[1],y=(0,i.useState)({from:"",to:""}),Z=(0,d.Z)(y,2),N=Z[0],C=Z[1],T=(0,re.u)().scrollToTop;return(0,i.useEffect)((function(){T()}),[]),(0,p.jsxs)("div",{className:q,children:[c&&(0,p.jsx)(ne,{hideModal:function(e){return u(e)},addDisplay:c,duration:N,setDuration:C}),(0,p.jsxs)("div",{className:H,children:[(0,p.jsxs)("div",{className:O,onClick:function(){return _(!f)},children:[["Total Institute Fund","Computer Department","Information Technology","Electrical Department","E & Tc Department","Mechanical Department"][j-1],(0,p.jsx)("img",{src:"/images/downn-icon.svg",alt:""}),(0,p.jsx)(de,{open:f,onClose:function(){return _(!1)},setSelectIndex:g})]}),(0,p.jsx)("div",{className:B,children:(0,p.jsx)("img",{src:"/images/filterBlue.svg",alt:"",onClick:function(){return u(!0)}})})]}),(0,p.jsx)(W,{funds:null===o||void 0===o?void 0:o.finance,duration:N,remain:null===a||void 0===a?void 0:a.remain,carryParentState:n,callApi:t})]})},ue={submission_tab_container:"SubmissionRequest_submission_tab_container__Y08in",submission_tab_text:"SubmissionRequest_submission_tab_text__JVN60",submission_tab_text_active:"SubmissionRequest_submission_tab_text_active__b0Sv0",SubmissionRequest:"SubmissionRequest_SubmissionRequest__HJ1dF",submissionHead:"SubmissionRequest_submissionHead__oEdSI",pback:"SubmissionRequest_pback__jsyPW",submissionContent:"SubmissionRequest_submissionContent__RbH7b",acceptedRequest:"SubmissionRequest_acceptedRequest__Knv0s",acceptedRequestHead:"SubmissionRequest_acceptedRequestHead__tZycr",acceptedRequestContent:"SubmissionRequest_acceptedRequestContent__Cn52W",itemContainer:"SubmissionRequest_itemContainer__k7Wcp",item:"SubmissionRequest_item__QcOHP",itemleft:"SubmissionRequest_itemleft__8teVG",leftText:"SubmissionRequest_leftText__+SB1H",amt:"SubmissionRequest_amt__BGtUN",itemright:"SubmissionRequest_itemright__yFGcH",rightbtnleft:"SubmissionRequest_rightbtnleft__pfCkx",rightbtnright:"SubmissionRequest_rightbtnright__YLql8"},ve={studentMCQ:"Tabs_studentMCQ__qXMkv",mcqTop:"Tabs_mcqTop__7NvCh",mcqTopItem:"Tabs_mcqTopItem__TKkNf",active:"Tabs_active__VvB9E"};var me=function(e){var n=e.children,t=e.onclick,l=(0,i.useState)(!1),o=(0,d.Z)(l,2),a=o[0],s=o[1],r=(0,i.useState)({x:-1,y:-1}),c=(0,d.Z)(r,2),u=c[0],v=c[1];return(0,i.useEffect)((function(){-1!==u.x&&-1!==u.y?(s(!0),setTimeout((function(){return s(!1)}),1e3)):s(!1)}),[u]),(0,i.useEffect)((function(){a||v({x:-1,y:-1})}),[a]),(0,p.jsxs)("div",{className:"ripple_btn",onClick:function(e){v({x:e.clientX-e.target.offsetLeft,y:e.clientY-e.target.offsetTop}),t&&t(e)},children:[a?(0,p.jsx)("span",{className:"ripple"}):"",(0,p.jsx)("span",{className:"content",children:n})]})};var fe=function(e){var n=e.activeIndex,t=e.setActiveIndex;return(0,p.jsxs)("div",{className:ve.mcqTop,children:[(0,p.jsx)("div",{className:0===n?"".concat(ve.mcqTopItem," ").concat(ve.active):ve.mcqTopItem,onClick:function(){return t(0)},children:(0,p.jsx)(me,{children:"All Request"})}),(0,p.jsx)("div",{className:1===n?"".concat(ve.mcqTopItem," ").concat(ve.active," "):"".concat(ve.mcqTopItem," ").concat(ve.ripple),onClick:function(){return t(1)},children:(0,p.jsx)(me,{children:"Accepted Request"})}),(0,p.jsx)("div",{className:2===n?"".concat(ve.mcqTopItem," ").concat(ve.active):ve.mcqTopItem,onClick:function(){return t(2)},children:(0,p.jsx)(me,{children:"Rejected Request"})})]})},_e=t(94721),he=t(69721),pe=t(98734);function xe(e){var n=e.key,t=e.name,l=e.amount,o=e.photoId,a=e.photo,s=e.date,r=e.financeId,c=e.classId,u=e.feeId,v=e.fetch,m=e.aFetch,f=e.rFetch,_=(0,S.am)(),h=(0,d.Z)(_,1)[0],x=(0,S.Lh)(),j=(0,d.Z)(x,1)[0],g=(0,i.useState)(!1),y=(0,d.Z)(g,2),Z=y[0],N=y[1];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:ue.itemContainer,children:(0,p.jsxs)("div",{className:ue.item,children:[(0,p.jsxs)("div",{className:ue.itemleft,children:[(0,p.jsx)("img",{src:"1"!==o?"".concat(he.yI,"/").concat(a):"/images/ins-image.jpg",alt:"class Profile"}),(0,p.jsxs)("div",{className:ue.leftText,children:[(0,p.jsx)("h6",{children:t}),(0,p.jsxs)("p",{className:ue.amt,children:["Amount : ",(0,p.jsxs)("span",{children:["Rs. ",l]})]}),(0,p.jsx)("p",{children:w()(s).format("LT")})]})]}),(0,p.jsxs)("div",{className:ue.itemright,children:[(0,p.jsx)("div",{className:ue.rightbtnleft,onClick:function(){""!==r&&""!==c&&""!==u&&(N((function(e){return!e})),j({fid:r,cid:c,fiid:u,amount:l}).then((function(e){e.data.reject&&(v(),f(),N((function(e){return!e})))})))},children:"Reject"}),(0,p.jsx)("div",{className:ue.rightbtnright,onClick:function(){""!==r&&""!==c&&""!==u&&(N((function(e){return!e})),h({fid:r,cid:c,fiid:u,amount:l}).then((function(e){e.data.accept&&(v(),m(),N((function(e){return!e})))})))},children:"Accept"})]})]})},n),Z&&(0,p.jsx)(pe.Z,{})]})}var je=function(e){var n,t=e.request,l=e.requestCount,o=e.fetch,a=e.financeId,s=e.acceptFetch,d=e.rejectFetch,r=(0,re.u)().scrollToTop;return(0,i.useEffect)((function(){r()}),[]),(0,p.jsxs)("div",{className:ue.acceptedRequest,children:[(0,p.jsxs)("div",{className:ue.acceptedRequestHead,children:["Total Request ",l]}),(0,p.jsx)("div",{className:ue.acceptedRequestContent,children:null===t||void 0===t||null===(n=t.request)||void 0===n?void 0:n.map((function(e,n){return(0,p.jsx)(xe,{name:null===e||void 0===e?void 0:e.className,amount:null===e||void 0===e?void 0:e.feeAmount,photoId:null===e||void 0===e?void 0:e.photoId,photo:null===e||void 0===e?void 0:e.photo,date:null===e||void 0===e?void 0:e.createdAt,financeId:a,classId:null===e||void 0===e?void 0:e.classId,feeId:null===e||void 0===e?void 0:e.feeId,fetch:o,aFetch:s,rFetch:d},n)}))})]})};function ge(e){var n=e.key,t=e.name,i=e.amount,l=e.photoId,o=e.photo,a=e.date;return(0,p.jsx)("div",{className:ue.itemContainer,children:(0,p.jsxs)("div",{className:ue.item,children:[(0,p.jsxs)("div",{className:ue.itemleft,children:[(0,p.jsx)("img",{src:"1"!==l?"".concat(he.yI,"/").concat(o):"/images/ins-image.jpg",alt:"class profile"}),(0,p.jsxs)("div",{className:ue.leftText,children:[(0,p.jsx)("h6",{children:t}),(0,p.jsxs)("p",{className:ue.amt,children:["Amount : ",(0,p.jsxs)("span",{children:["Rs. ",i]})]}),(0,p.jsx)("p",{children:w()(a).format("LT")})]})]}),(0,p.jsx)("div",{className:ue.itemright})]})},n)}var ye=function(e){var n,t=e.acceptArray,l=e.acceptCount,o=(0,re.u)().scrollToTop;return(0,i.useEffect)((function(){o()}),[]),(0,p.jsxs)("div",{className:ue.acceptedRequest,children:[(0,p.jsxs)("div",{className:ue.acceptedRequestHead,children:["Total Accepted Request ",l]}),(0,p.jsx)("div",{className:ue.acceptedRequestContent,children:null===t||void 0===t||null===(n=t.submit)||void 0===n?void 0:n.map((function(e,n){return(0,p.jsx)(ge,{name:null===e||void 0===e?void 0:e.className,amount:null===e||void 0===e?void 0:e.feeAmount,photoId:null===e||void 0===e?void 0:e.photoId,photo:null===e||void 0===e?void 0:e.photo,date:null===e||void 0===e?void 0:e.createdAt},n)}))})]})};function Ze(e){var n=e.key,t=e.name,i=e.amount,l=e.photoId,o=e.photo,a=e.date;return(0,p.jsx)("div",{className:ue.itemContainer,children:(0,p.jsxs)("div",{className:ue.item,children:[(0,p.jsxs)("div",{className:ue.itemleft,children:[(0,p.jsx)("img",{src:"1"!==l?"".concat(he.yI,"/").concat(o):"/images/ins-image.jpg",alt:"class profile"}),(0,p.jsxs)("div",{className:ue.leftText,children:[(0,p.jsx)("h6",{children:t}),(0,p.jsxs)("p",{className:ue.amt,children:["Amount : ",(0,p.jsxs)("span",{children:["Rs. ",i]})]}),(0,p.jsx)("p",{children:w()(a).format("LT")})]})]}),(0,p.jsx)("div",{className:ue.itemright})]})},n)}var Ne=function(e){var n,t=e.rejectArray,l=e.rejectCount,o=(0,re.u)().scrollToTop;return(0,i.useEffect)((function(){o()}),[]),(0,p.jsxs)("div",{className:ue.acceptedRequest,children:[(0,p.jsxs)("div",{className:ue.acceptedRequestHead,children:["Total Rejected Request ",l]}),(0,p.jsx)("div",{className:ue.acceptedRequestContent,children:null===t||void 0===t||null===(n=t.reject)||void 0===n?void 0:n.map((function(e,n){return(0,p.jsx)(Ze,{name:null===e||void 0===e?void 0:e.className,amount:null===e||void 0===e?void 0:e.feeAmount,photoId:null===e||void 0===e?void 0:e.photoId,photo:null===e||void 0===e?void 0:e.photo,date:null===e||void 0===e?void 0:e.createdAt},n)}))})]})},be=function(){var e=(0,i.useState)(0),n=(0,d.Z)(e,2),t=n[0],l=n[1],o=(0,b.useSelector)((function(e){return e.financeChange})),a=(0,S.uO)("".concat(null===o||void 0===o?void 0:o.fid),{skip:!(null!==o&&void 0!==o&&o.fid)}),s=a.data,r=a.refetch,c=(0,S.n)("".concat(null===o||void 0===o?void 0:o.fid),{skip:!(null!==o&&void 0!==o&&o.fid)}),u=c.data,v=c.refetch,m=(0,S.NT)("".concat(null===o||void 0===o?void 0:o.fid),{skip:!(null!==o&&void 0!==o&&o.fid)}),f=m.data,_=m.refetch;return(0,i.useEffect)((function(){null!==o&&void 0!==o&&o.fid&&(r(),v(),_())}),[_,v,r]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(fe,{activeIndex:t,setActiveIndex:l}),(0,p.jsx)(_e.Z,{}),0===t&&(0,p.jsx)(je,{request:s,requestCount:null===s||void 0===s?void 0:s.requestCount,fetch:r,financeId:null===o||void 0===o?void 0:o.fid,acceptFetch:v,rejectFetch:_}),1===t&&(0,p.jsx)(ye,{acceptArray:u,acceptCount:null===u||void 0===u?void 0:u.submitCount}),2===t&&(0,p.jsx)(Ne,{rejectArray:f,rejectCount:null===f||void 0===f?void 0:f.rejectCount})]})},Se=t(11105),Ce=function(e){var n,t,l,o,a,s,r,c,u,v,m,f,_,h,x,j,g,y,Z,N,b,S,C,T,A,R,E,I,D,F,k,M,L,q,H,O,B,J,G,Y,U,W,V,$,Q,z,X=e.cardData,K=e.viewAs,ee=e.fid,ne=e.onRefetchWhenActionPerform,te=(0,i.useState)(!1),ie=(0,d.Z)(te,2),le=ie[0],oe=ie[1],ae=(0,P.oD)(),se=(0,d.Z)(ae,1)[0],de=(0,P.gt)(),re=(0,d.Z)(de,1)[0],ce=(0,P.hI)(),ve=(0,d.Z)(ce,1)[0],me=(0,P.N0)(),fe=(0,d.Z)(me,1)[0],_e=function(e){var n,t;if(oe((function(e){return!e})),"ADMISSION_REQUEST"===K)se({fid:ee,aid:null===X||void 0===X||null===(n=X.admission)||void 0===n?void 0:n._id,rid:null===X||void 0===X?void 0:X._id,admissionAction:{amount:null!==(t=+(null===X||void 0===X?void 0:X.amount))&&void 0!==t?t:0,status:e}}).then((function(){ne(),oe((function(e){return!e}))})).catch({});else if("LIBRARY_REQUEST"===K){var i,l;re({fid:ee,lid:null===X||void 0===X||null===(i=X.library)||void 0===i?void 0:i._id,rid:null===X||void 0===X?void 0:X._id,libraryAction:{amount:null!==(l=+(null===X||void 0===X?void 0:X.amount))&&void 0!==l?l:0,status:e}}).then((function(){ne(),oe((function(e){return!e}))})).catch({})}else if("HOSTEL_REQUEST"===K){var o,a;ve({fid:ee,hid:null===X||void 0===X||null===(o=X.hostel)||void 0===o?void 0:o._id,rid:null===X||void 0===X?void 0:X._id,hostelAction:{amount:null!==(a=+(null===X||void 0===X?void 0:X.amount))&&void 0!==a?a:0,status:e}}).then((function(){ne(),oe((function(e){return!e}))})).catch({})}else if("TRANSPORT_REQUEST"===K){var s,d;fe({fid:ee,tid:null===X||void 0===X||null===(s=X.transport_module)||void 0===s?void 0:s._id,rid:null===X||void 0===X?void 0:X._id,transportAction:{amount:null!==(d=+(null===X||void 0===X?void 0:X.amount))&&void 0!==d?d:0,status:e}}).then((function(){ne(),oe((function(e){return!e}))})).catch({})}};return(0,p.jsxs)("div",{className:ue.itemContainer,children:[(0,p.jsxs)("div",{className:ue.item,children:[(0,p.jsxs)("div",{className:ue.itemleft,children:[(null===X||void 0===X?void 0:X.admission)&&(0,p.jsx)("img",{src:"1"!==(null===X||void 0===X||null===(n=X.admission)||void 0===n||null===(t=n.admissionAdminHead)||void 0===t?void 0:t.photoId)?"".concat(he.yI,"/").concat(null===X||void 0===X||null===(l=X.admission)||void 0===l||null===(o=l.admissionAdminHead)||void 0===o?void 0:o.staffProfilePhoto):"/images/ins-image.jpg",alt:"class Profile"}),(null===X||void 0===X?void 0:X.library)&&(0,p.jsx)("img",{src:"1"!==(null===X||void 0===X||null===(a=X.library)||void 0===a||null===(s=a.libraryHead)||void 0===s?void 0:s.photoId)?"".concat(he.yI,"/").concat(null===X||void 0===X||null===(r=X.library)||void 0===r||null===(c=r.libraryHead)||void 0===c?void 0:c.staffProfilePhoto):"/images/ins-image.jpg",alt:"class Profile"}),(null===X||void 0===X?void 0:X.hostel)&&(0,p.jsx)("img",{src:"1"!==(null===X||void 0===X||null===(u=X.hostel)||void 0===u||null===(v=u.hostel_manager)||void 0===v?void 0:v.photoId)?"".concat(he.yI,"/").concat(null===X||void 0===X||null===(m=X.hostel)||void 0===m||null===(f=m.hostel_manager)||void 0===f?void 0:f.staffProfilePhoto):"/images/ins-image.jpg",alt:"class Profile"}),(null===X||void 0===X||null===(_=X.transport_module)||void 0===_?void 0:_.transport_manager)&&(0,p.jsx)("img",{src:"1"!==(null===X||void 0===X||null===(h=X.transport_module)||void 0===h||null===(x=h.transport_manager)||void 0===x?void 0:x.photoId)?"".concat(he.yI,"/").concat(null===X||void 0===X||null===(j=X.transport_module)||void 0===j||null===(g=j.transport_manager)||void 0===g?void 0:g.staffProfilePhoto):"/images/ins-image.jpg",alt:"class Profile"}),(0,p.jsxs)("div",{className:ue.leftText,children:[(null===X||void 0===X?void 0:X.admission)&&(0,p.jsx)("h6",{children:"".concat(null===X||void 0===X||null===(y=X.admission)||void 0===y||null===(Z=y.admissionAdminHead)||void 0===Z?void 0:Z.staffFirstName," ").concat(null!==(N=null===X||void 0===X||null===(b=X.admission)||void 0===b||null===(S=b.admissionAdminHead)||void 0===S?void 0:S.staffMiddleName)&&void 0!==N?N:""," ").concat(null===X||void 0===X||null===(C=X.admission)||void 0===C||null===(T=C.admissionAdminHead)||void 0===T?void 0:T.staffLastName)}),(null===X||void 0===X?void 0:X.library)&&(0,p.jsx)("h6",{children:"".concat(null===X||void 0===X||null===(A=X.library)||void 0===A||null===(R=A.libraryHead)||void 0===R?void 0:R.staffFirstName," ").concat(null!==(E=null===X||void 0===X||null===(I=X.library)||void 0===I||null===(D=I.libraryHead)||void 0===D?void 0:D.staffMiddleName)&&void 0!==E?E:""," ").concat(null===X||void 0===X||null===(F=X.library)||void 0===F||null===(k=F.libraryHead)||void 0===k?void 0:k.staffLastName)}),(null===X||void 0===X?void 0:X.hostel)&&(0,p.jsx)("h6",{children:"".concat(null===X||void 0===X||null===(M=X.hostel)||void 0===M||null===(L=M.hostel_manager)||void 0===L?void 0:L.staffFirstName," ").concat(null!==(q=null===X||void 0===X||null===(H=X.hostel)||void 0===H||null===(O=H.hostel_manager)||void 0===O?void 0:O.staffMiddleName)&&void 0!==q?q:""," ").concat(null===X||void 0===X||null===(B=X.hostel)||void 0===B||null===(J=B.hostel_manager)||void 0===J?void 0:J.staffLastName)}),(null===X||void 0===X||null===(G=X.transport_module)||void 0===G?void 0:G.transport_manager)&&(0,p.jsx)("h6",{children:"".concat(null===X||void 0===X||null===(Y=X.transport_module)||void 0===Y||null===(U=Y.transport_manager)||void 0===U?void 0:U.staffFirstName," ").concat(null!==(W=null===X||void 0===X||null===(V=X.transport_module)||void 0===V||null===($=V.transport_manager)||void 0===$?void 0:$.staffMiddleName)&&void 0!==W?W:""," ").concat(null===X||void 0===X||null===(Q=X.transport_module)||void 0===Q||null===(z=Q.transport_manager)||void 0===z?void 0:z.staffLastName)}),(0,p.jsxs)("p",{className:ue.amt,children:["Amount : ",(0,p.jsxs)("span",{children:["Rs. ",null===X||void 0===X?void 0:X.amount]})]}),(0,p.jsx)("p",{children:w()(null===X||void 0===X?void 0:X.date).format("LT")})]})]}),"ADMISSION_REQUEST"===K||"LIBRARY_REQUEST"===K||"HOSTEL_REQUEST"===K||"TRANSPORT_REQUEST"===K?(0,p.jsxs)("div",{className:ue.itemright,children:[(0,p.jsx)("div",{className:ue.rightbtnleft,onClick:function(){return _e("Rejected")},children:"Reject"}),(0,p.jsx)("div",{className:ue.rightbtnright,onClick:function(){return _e("Accepted")},children:"Accept"})]}):""]}),le&&(0,p.jsx)(pe.Z,{})]})},Te=function(){var e=(0,N.YD)(),n=(0,d.Z)(e,2),t=n[0],l=n[1],o=(0,i.useState)(1),a=(0,d.Z)(o,2),s=a[0],r=a[1],c=(0,i.useState)(!0),u=(0,d.Z)(c,2),v=u[0],m=u[1],f=(0,i.useState)([]),_=(0,d.Z)(f,2),h=_[0],x=_[1],j=(0,i.useState)(!0),g=(0,d.Z)(j,2),y=g[0],S=g[1],C=(0,b.useSelector)((function(e){return e.financeChange.fid})),T=(0,P.hY)({data:{fid:C,page:s,limit:10,filterBy:"ALL_SUBMIT"},skip:!C}),w=T.allAdmissionFeeFinance,A=T.allAdmissionFeeFinanceRefetch,R=(0,re.u)().scrollToTop;return(0,i.useEffect)((function(){R()}),[]),(0,i.useEffect)((function(){C&&(S(!0),A())}),[C,s,A]),(0,i.useEffect)((function(){l&&v&&r((function(e){return e+1}))}),[l,v]),(0,i.useEffect)((function(){var e,n;null!==w&&void 0!==w&&w.arr?(x((function(e){var n,t;return null===(n=(0,Z.Z)(new Set(null===(t=[].concat((0,Z.Z)(e),(0,Z.Z)(null===w||void 0===w?void 0:w.arr)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),S(!1)):0===(null===w||void 0===w||null===(e=w.arr)||void 0===e?void 0:e.length)&&S(!1),10===(null===w||void 0===w||null===(n=w.arr)||void 0===n?void 0:n.length)?m(!0):m(!1)}),[null===w||void 0===w?void 0:w.arr]),(0,p.jsxs)("div",{className:ue.acceptedRequest,children:[(0,p.jsxs)("div",{className:ue.acceptedRequestHead,children:["Total Request ",null===w||void 0===w?void 0:w.arrCount]}),(0,p.jsxs)("div",{className:ue.acceptedRequestContent,children:[null===h||void 0===h?void 0:h.map((function(e,n){return(null===h||void 0===h?void 0:h.length)===n+1?(0,p.jsx)("div",{ref:t,children:(0,p.jsx)(Ce,{cardData:e,viewAs:"ADMISSION_ACCEPT"})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(Ce,{cardData:e,viewAs:"ADMISSION_ACCEPT"},null===e||void 0===e?void 0:e._id)})),y&&(0,p.jsx)(Se.Z,{})]})]})},we=function(){var e=(0,N.YD)(),n=(0,d.Z)(e,2),t=n[0],l=n[1],o=(0,i.useState)(1),a=(0,d.Z)(o,2),s=a[0],r=a[1],c=(0,i.useState)(!0),u=(0,d.Z)(c,2),v=u[0],m=u[1],f=(0,i.useState)([]),_=(0,d.Z)(f,2),h=_[0],x=_[1],j=(0,i.useState)(!0),g=(0,d.Z)(j,2),y=g[0],S=g[1],C=(0,b.useSelector)((function(e){return e.financeChange.fid})),T=(0,P.hY)({data:{fid:C,page:s,limit:10,filterBy:"ALL_CANCEL"},skip:!C}),w=T.allAdmissionFeeFinance,A=T.allAdmissionFeeFinanceRefetch,R=(0,re.u)().scrollToTop;return(0,i.useEffect)((function(){R()}),[]),(0,i.useEffect)((function(){C&&(S(!0),A())}),[C,s,A]),(0,i.useEffect)((function(){l&&v&&r((function(e){return e+1}))}),[l,v]),(0,i.useEffect)((function(){var e,n;null!==w&&void 0!==w&&w.arr?(x((function(e){var n,t;return null===(n=(0,Z.Z)(new Set(null===(t=[].concat((0,Z.Z)(e),(0,Z.Z)(null===w||void 0===w?void 0:w.arr)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),S(!1)):0===(null===w||void 0===w||null===(e=w.arr)||void 0===e?void 0:e.length)&&S(!1),10===(null===w||void 0===w||null===(n=w.arr)||void 0===n?void 0:n.length)?m(!0):m(!1)}),[null===w||void 0===w?void 0:w.arr]),(0,p.jsxs)("div",{className:ue.acceptedRequest,children:[(0,p.jsxs)("div",{className:ue.acceptedRequestHead,children:["Total Request ",null===w||void 0===w?void 0:w.arrCount]}),(0,p.jsxs)("div",{className:ue.acceptedRequestContent,children:[null===h||void 0===h?void 0:h.map((function(e,n){return(null===h||void 0===h?void 0:h.length)===n+1?(0,p.jsx)("div",{ref:t,children:(0,p.jsx)(Ce,{cardData:e,viewAs:"ADMISSION_REJECT"})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(Ce,{cardData:e,viewAs:"ADMISSION_REJECT"},null===e||void 0===e?void 0:e._id)})),y&&(0,p.jsx)(Se.Z,{})]})]})},Ae=function(){var e=(0,N.YD)(),n=(0,d.Z)(e,2),t=n[0],l=n[1],o=(0,i.useState)(1),a=(0,d.Z)(o,2),s=a[0],r=a[1],c=(0,i.useState)(!0),u=(0,d.Z)(c,2),v=u[0],m=u[1],f=(0,i.useState)([]),_=(0,d.Z)(f,2),h=_[0],x=_[1],j=(0,i.useState)(!1),g=(0,d.Z)(j,2),y=g[0],S=g[1],C=(0,i.useState)(!0),T=(0,d.Z)(C,2),w=T[0],A=T[1],R=(0,b.useSelector)((function(e){return e.financeChange.fid})),E=(0,P.hY)({data:{fid:R,page:s,limit:10,filterBy:"ALL_REQUEST"},skip:!R}),I=E.allAdmissionFeeFinance,D=E.allAdmissionFeeFinanceRefetch,F=(0,re.u)().scrollToTop;(0,i.useEffect)((function(){F()}),[]),(0,i.useEffect)((function(){R&&(A(!0),D())}),[R,s,D]),(0,i.useEffect)((function(){l&&v&&r((function(e){return e+1}))}),[l,v]),(0,i.useEffect)((function(){var e,n;y?(x(null===I||void 0===I?void 0:I.arr),A(!1),S(!1)):null!==I&&void 0!==I&&I.arr?(x((function(e){var n,t;return null===(n=(0,Z.Z)(new Set(null===(t=[].concat((0,Z.Z)(e),(0,Z.Z)(null===I||void 0===I?void 0:I.arr)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),A(!1)):0===(null===I||void 0===I||null===(n=I.arr)||void 0===n?void 0:n.length)&&A(!1);10===(null===I||void 0===I||null===(e=I.arr)||void 0===e?void 0:e.length)?m(!0):m(!1)}),[null===I||void 0===I?void 0:I.arr]);var k=function(){r(1),S(!0),A(!0),D()};return(0,p.jsxs)("div",{className:ue.acceptedRequest,children:[(0,p.jsxs)("div",{className:ue.acceptedRequestHead,children:["Total Request ",null===I||void 0===I?void 0:I.arrCount]}),(0,p.jsxs)("div",{className:ue.acceptedRequestContent,children:[null===h||void 0===h?void 0:h.map((function(e,n){return(null===h||void 0===h?void 0:h.length)===n+1?(0,p.jsx)("div",{ref:t,children:(0,p.jsx)(Ce,{cardData:e,viewAs:"ADMISSION_REQUEST",fid:R,onRefetchWhenActionPerform:k})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(Ce,{cardData:e,viewAs:"ADMISSION_REQUEST",onRefetchWhenActionPerform:k,fid:R},null===e||void 0===e?void 0:e._id)})),w&&(0,p.jsx)(Se.Z,{})]})]})},Re=function(){var e=(0,i.useState)(0),n=(0,d.Z)(e,2),t=n[0],l=n[1];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(fe,{activeIndex:t,setActiveIndex:l}),0===t&&(0,p.jsx)(Ae,{}),1===t&&(0,p.jsx)(Te,{}),2===t&&(0,p.jsx)(we,{})]})},Ee=function(){var e=(0,N.YD)(),n=(0,d.Z)(e,2),t=n[0],l=n[1],o=(0,i.useState)(1),a=(0,d.Z)(o,2),s=a[0],r=a[1],c=(0,i.useState)(!0),u=(0,d.Z)(c,2),v=u[0],m=u[1],f=(0,i.useState)([]),_=(0,d.Z)(f,2),h=_[0],x=_[1],j=(0,i.useState)(!0),g=(0,d.Z)(j,2),y=g[0],S=g[1],C=(0,b.useSelector)((function(e){return e.financeChange.fid})),T=(0,P.JM)({data:{fid:C,page:s,limit:10,filterBy:"ALL_SUBMIT"},skip:!C}),w=T.allLibraryFeeFinance,A=T.allLibraryFeeFinanceRefetch,R=(0,re.u)().scrollToTop;return(0,i.useEffect)((function(){R()}),[]),(0,i.useEffect)((function(){C&&(S(!0),A())}),[C,s,A]),(0,i.useEffect)((function(){l&&v&&r((function(e){return e+1}))}),[l,v]),(0,i.useEffect)((function(){var e,n;null!==w&&void 0!==w&&w.arr?(x((function(e){var n,t;return null===(n=(0,Z.Z)(new Set(null===(t=[].concat((0,Z.Z)(e),(0,Z.Z)(null===w||void 0===w?void 0:w.arr)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),S(!1)):0===(null===w||void 0===w||null===(e=w.arr)||void 0===e?void 0:e.length)&&S(!1),10===(null===w||void 0===w||null===(n=w.arr)||void 0===n?void 0:n.length)?m(!0):m(!1)}),[null===w||void 0===w?void 0:w.arr]),(0,p.jsxs)("div",{className:ue.acceptedRequest,children:[(0,p.jsxs)("div",{className:ue.acceptedRequestHead,children:["Total Request ",null===w||void 0===w?void 0:w.arrCount]}),(0,p.jsxs)("div",{className:ue.acceptedRequestContent,children:[null===h||void 0===h?void 0:h.map((function(e,n){return(null===h||void 0===h?void 0:h.length)===n+1?(0,p.jsx)("div",{ref:t,children:(0,p.jsx)(Ce,{cardData:e,viewAs:"LIBRARY_ACCEPT"})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(Ce,{cardData:e,viewAs:"LIBRARY_ACCEPT"},null===e||void 0===e?void 0:e._id)})),y&&(0,p.jsx)(Se.Z,{})]})]})},Ie=function(){var e=(0,N.YD)(),n=(0,d.Z)(e,2),t=n[0],l=n[1],o=(0,i.useState)(1),a=(0,d.Z)(o,2),s=a[0],r=a[1],c=(0,i.useState)(!0),u=(0,d.Z)(c,2),v=u[0],m=u[1],f=(0,i.useState)([]),_=(0,d.Z)(f,2),h=_[0],x=_[1],j=(0,i.useState)(!0),g=(0,d.Z)(j,2),y=g[0],S=g[1],C=(0,b.useSelector)((function(e){return e.financeChange.fid})),T=(0,P.JM)({data:{fid:C,page:s,limit:10,filterBy:"ALL_CANCEL"},skip:!C}),w=T.allLibraryFeeFinance,A=T.allLibraryFeeFinanceRefetch,R=(0,re.u)().scrollToTop;return(0,i.useEffect)((function(){R()}),[]),(0,i.useEffect)((function(){C&&(S(!0),A())}),[C,s,A]),(0,i.useEffect)((function(){l&&v&&r((function(e){return e+1}))}),[l,v]),(0,i.useEffect)((function(){var e,n;null!==w&&void 0!==w&&w.arr?(x((function(e){var n,t;return null===(n=(0,Z.Z)(new Set(null===(t=[].concat((0,Z.Z)(e),(0,Z.Z)(null===w||void 0===w?void 0:w.arr)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),S(!1)):0===(null===w||void 0===w||null===(e=w.arr)||void 0===e?void 0:e.length)&&S(!1),10===(null===w||void 0===w||null===(n=w.arr)||void 0===n?void 0:n.length)?m(!0):m(!1)}),[null===w||void 0===w?void 0:w.arr]),(0,p.jsxs)("div",{className:ue.acceptedRequest,children:[(0,p.jsxs)("div",{className:ue.acceptedRequestHead,children:["Total Request ",null===w||void 0===w?void 0:w.arrCount]}),(0,p.jsxs)("div",{className:ue.acceptedRequestContent,children:[null===h||void 0===h?void 0:h.map((function(e,n){return(null===h||void 0===h?void 0:h.length)===n+1?(0,p.jsx)("div",{ref:t,children:(0,p.jsx)(Ce,{cardData:e,viewAs:"LIBRARY_REJECT"})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(Ce,{cardData:e,viewAs:"LIBRARY_REJECT"},null===e||void 0===e?void 0:e._id)})),y&&(0,p.jsx)(Se.Z,{})]})]})},De=function(){var e=(0,N.YD)(),n=(0,d.Z)(e,2),t=n[0],l=n[1],o=(0,i.useState)(1),a=(0,d.Z)(o,2),s=a[0],r=a[1],c=(0,i.useState)(!0),u=(0,d.Z)(c,2),v=u[0],m=u[1],f=(0,i.useState)([]),_=(0,d.Z)(f,2),h=_[0],x=_[1],j=(0,i.useState)(!1),g=(0,d.Z)(j,2),y=g[0],S=g[1],C=(0,i.useState)(!0),T=(0,d.Z)(C,2),w=T[0],A=T[1],R=(0,b.useSelector)((function(e){return e.financeChange.fid})),E=(0,P.JM)({data:{fid:R,page:s,limit:10,filterBy:"ALL_REQUEST"},skip:!R}),I=E.allLibraryFeeFinance,D=E.allLibraryFeeFinanceRefetch,F=(0,re.u)().scrollToTop;(0,i.useEffect)((function(){F()}),[]),(0,i.useEffect)((function(){R&&(A(!0),D())}),[R,s,D]),(0,i.useEffect)((function(){l&&v&&r((function(e){return e+1}))}),[l,v]),(0,i.useEffect)((function(){var e,n;y?(x((function(){var e,n;return null===(e=(0,Z.Z)(new Set(null===(n=(0,Z.Z)(null===I||void 0===I?void 0:I.arr))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===e?void 0:e.map(JSON.parse)})),A(!1),S(!1)):null!==I&&void 0!==I&&I.arr?(x((function(e){var n,t;return null===(n=(0,Z.Z)(new Set(null===(t=[].concat((0,Z.Z)(e),(0,Z.Z)(null===I||void 0===I?void 0:I.arr)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),A(!1)):0===(null===I||void 0===I||null===(n=I.arr)||void 0===n?void 0:n.length)&&A(!1);10===(null===I||void 0===I||null===(e=I.arr)||void 0===e?void 0:e.length)?m(!0):m(!1)}),[null===I||void 0===I?void 0:I.arr]);var k=function(){r(1),S(!0),A(!0),D()};return(0,p.jsxs)("div",{className:ue.acceptedRequest,children:[(0,p.jsxs)("div",{className:ue.acceptedRequestHead,children:["Total Request ",null===I||void 0===I?void 0:I.arrCount]}),(0,p.jsxs)("div",{className:ue.acceptedRequestContent,children:[null===h||void 0===h?void 0:h.map((function(e,n){return(null===h||void 0===h?void 0:h.length)===n+1?(0,p.jsx)("div",{ref:t,children:(0,p.jsx)(Ce,{cardData:e,viewAs:"LIBRARY_REQUEST",fid:R,onRefetchWhenActionPerform:k})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(Ce,{cardData:e,viewAs:"LIBRARY_REQUEST",fid:R,onRefetchWhenActionPerform:k},null===e||void 0===e?void 0:e._id)})),w&&(0,p.jsx)(Se.Z,{})]})]})},Fe=function(){var e=(0,i.useState)(0),n=(0,d.Z)(e,2),t=n[0],l=n[1];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(fe,{activeIndex:t,setActiveIndex:l}),0===t&&(0,p.jsx)(De,{}),1===t&&(0,p.jsx)(Ee,{}),2===t&&(0,p.jsx)(Ie,{})]})},Pe=function(){var e=(0,N.YD)(),n=(0,d.Z)(e,2),t=n[0],l=n[1],o=(0,i.useState)(1),a=(0,d.Z)(o,2),s=a[0],r=a[1],c=(0,i.useState)(!0),u=(0,d.Z)(c,2),v=u[0],m=u[1],f=(0,i.useState)([]),_=(0,d.Z)(f,2),h=_[0],x=_[1],j=(0,i.useState)(!0),g=(0,d.Z)(j,2),y=g[0],S=g[1],C=(0,b.useSelector)((function(e){return e.financeChange.fid})),T=(0,P.eD)({data:{fid:C,page:s,limit:10,filterBy:"ALL_SUBMIT"},skip:!C}),w=T.allHostelFeeFinance,A=T.allHostelFeeFinanceRefetch,R=(0,re.u)().scrollToTop;return(0,i.useEffect)((function(){R()}),[]),(0,i.useEffect)((function(){C&&(S(!0),A())}),[C,s,A]),(0,i.useEffect)((function(){l&&v&&r((function(e){return e+1}))}),[l,v]),(0,i.useEffect)((function(){var e,n;null!==w&&void 0!==w&&w.arr?(x((function(e){var n,t;return null===(n=(0,Z.Z)(new Set(null===(t=[].concat((0,Z.Z)(e),(0,Z.Z)(null===w||void 0===w?void 0:w.arr)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),S(!1)):0===(null===w||void 0===w||null===(e=w.arr)||void 0===e?void 0:e.length)&&S(!1),10===(null===w||void 0===w||null===(n=w.arr)||void 0===n?void 0:n.length)?m(!0):m(!1)}),[null===w||void 0===w?void 0:w.arr]),(0,p.jsxs)("div",{className:ue.acceptedRequest,children:[(0,p.jsxs)("div",{className:ue.acceptedRequestHead,children:["Total Request ",null===w||void 0===w?void 0:w.arrCount]}),(0,p.jsxs)("div",{className:ue.acceptedRequestContent,children:[null===h||void 0===h?void 0:h.map((function(e,n){return(null===h||void 0===h?void 0:h.length)===n+1?(0,p.jsx)("div",{ref:t,children:(0,p.jsx)(Ce,{cardData:e,viewAs:"HOSTEL_ACCEPT"})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(Ce,{cardData:e,viewAs:"HOSTEL_ACCEPT"},null===e||void 0===e?void 0:e._id)})),y&&(0,p.jsx)(Se.Z,{})]})]})},ke=function(){var e=(0,N.YD)(),n=(0,d.Z)(e,2),t=n[0],l=n[1],o=(0,i.useState)(1),a=(0,d.Z)(o,2),s=a[0],r=a[1],c=(0,i.useState)(!0),u=(0,d.Z)(c,2),v=u[0],m=u[1],f=(0,i.useState)([]),_=(0,d.Z)(f,2),h=_[0],x=_[1],j=(0,i.useState)(!0),g=(0,d.Z)(j,2),y=g[0],S=g[1],C=(0,b.useSelector)((function(e){return e.financeChange.fid})),T=(0,P.eD)({data:{fid:C,page:s,limit:10,filterBy:"ALL_CANCEL"},skip:!C}),w=T.allHostelFeeFinance,A=T.allHostelFeeFinanceRefetch,R=(0,re.u)().scrollToTop;return(0,i.useEffect)((function(){R()}),[]),(0,i.useEffect)((function(){C&&(S(!0),A())}),[C,s,A]),(0,i.useEffect)((function(){l&&v&&r((function(e){return e+1}))}),[l,v]),(0,i.useEffect)((function(){var e,n;null!==w&&void 0!==w&&w.arr?(x((function(e){var n,t;return null===(n=(0,Z.Z)(new Set(null===(t=[].concat((0,Z.Z)(e),(0,Z.Z)(null===w||void 0===w?void 0:w.arr)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),S(!1)):0===(null===w||void 0===w||null===(e=w.arr)||void 0===e?void 0:e.length)&&S(!1),10===(null===w||void 0===w||null===(n=w.arr)||void 0===n?void 0:n.length)?m(!0):m(!1)}),[null===w||void 0===w?void 0:w.arr]),(0,p.jsxs)("div",{className:ue.acceptedRequest,children:[(0,p.jsxs)("div",{className:ue.acceptedRequestHead,children:["Total Request ",null===w||void 0===w?void 0:w.arrCount]}),(0,p.jsxs)("div",{className:ue.acceptedRequestContent,children:[null===h||void 0===h?void 0:h.map((function(e,n){return(null===h||void 0===h?void 0:h.length)===n+1?(0,p.jsx)("div",{ref:t,children:(0,p.jsx)(Ce,{cardData:e,viewAs:"HOSTEL_REJECT"})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(Ce,{cardData:e,viewAs:"HOSTEL_REJECT"},null===e||void 0===e?void 0:e._id)})),y&&(0,p.jsx)(Se.Z,{})]})]})},Me=function(){var e=(0,N.YD)(),n=(0,d.Z)(e,2),t=n[0],l=n[1],o=(0,i.useState)(1),a=(0,d.Z)(o,2),s=a[0],r=a[1],c=(0,i.useState)(!0),u=(0,d.Z)(c,2),v=u[0],m=u[1],f=(0,i.useState)([]),_=(0,d.Z)(f,2),h=_[0],x=_[1],j=(0,i.useState)(!1),g=(0,d.Z)(j,2),y=g[0],S=g[1],C=(0,i.useState)(!0),T=(0,d.Z)(C,2),w=T[0],A=T[1],R=(0,b.useSelector)((function(e){return e.financeChange.fid})),E=(0,P.eD)({data:{fid:R,page:s,limit:10,filterBy:"ALL_REQUEST"},skip:!R}),I=E.allHostelFeeFinance,D=E.allHostelFeeFinanceRefetch,F=(0,re.u)().scrollToTop;(0,i.useEffect)((function(){F()}),[]),(0,i.useEffect)((function(){R&&(A(!0),D())}),[R,s,D]),(0,i.useEffect)((function(){l&&v&&r((function(e){return e+1}))}),[l,v]),(0,i.useEffect)((function(){var e,n;y?(x(null===I||void 0===I?void 0:I.arr),A(!1),S(!1)):null!==I&&void 0!==I&&I.arr?(x((function(e){var n,t;return null===(n=(0,Z.Z)(new Set(null===(t=[].concat((0,Z.Z)(e),(0,Z.Z)(null===I||void 0===I?void 0:I.arr)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),A(!1)):0===(null===I||void 0===I||null===(n=I.arr)||void 0===n?void 0:n.length)&&A(!1);10===(null===I||void 0===I||null===(e=I.arr)||void 0===e?void 0:e.length)?m(!0):m(!1)}),[null===I||void 0===I?void 0:I.arr]);var k=function(){r(1),S(!0),A(!0),D()};return(0,p.jsxs)("div",{className:ue.acceptedRequest,children:[(0,p.jsxs)("div",{className:ue.acceptedRequestHead,children:["Total Request ",null===I||void 0===I?void 0:I.arrCount]}),(0,p.jsxs)("div",{className:ue.acceptedRequestContent,children:[null===h||void 0===h?void 0:h.map((function(e,n){return(null===h||void 0===h?void 0:h.length)===n+1?(0,p.jsx)("div",{ref:t,children:(0,p.jsx)(Ce,{cardData:e,viewAs:"HOSTEL_REQUEST",fid:R,onRefetchWhenActionPerform:k})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(Ce,{cardData:e,viewAs:"HOSTEL_REQUEST",onRefetchWhenActionPerform:k,fid:R},null===e||void 0===e?void 0:e._id)})),w&&(0,p.jsx)(Se.Z,{})]})]})},Le=function(){var e=(0,i.useState)(0),n=(0,d.Z)(e,2),t=n[0],l=n[1];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(fe,{activeIndex:t,setActiveIndex:l}),0===t&&(0,p.jsx)(Me,{}),1===t&&(0,p.jsx)(Pe,{}),2===t&&(0,p.jsx)(ke,{})]})},qe=function(){var e=(0,N.YD)(),n=(0,d.Z)(e,2),t=n[0],l=n[1],o=(0,i.useState)(1),a=(0,d.Z)(o,2),s=a[0],r=a[1],c=(0,i.useState)(!0),u=(0,d.Z)(c,2),v=u[0],m=u[1],f=(0,i.useState)([]),_=(0,d.Z)(f,2),h=_[0],x=_[1],j=(0,i.useState)(!0),g=(0,d.Z)(j,2),y=g[0],S=g[1],C=(0,b.useSelector)((function(e){return e.financeChange.fid})),T=(0,P.T9)({data:{fid:C,page:s,limit:10,filterBy:"ALL_SUBMIT"},skip:!C}),w=T.allTransportFeeFinance,A=T.allTransportFeeFinanceRefetch,R=(0,re.u)().scrollToTop;return(0,i.useEffect)((function(){R()}),[]),(0,i.useEffect)((function(){C&&(S(!0),A())}),[C,s,A]),(0,i.useEffect)((function(){l&&v&&r((function(e){return e+1}))}),[l,v]),(0,i.useEffect)((function(){var e,n;null!==w&&void 0!==w&&w.query?(x((function(e){var n,t;return null===(n=(0,Z.Z)(new Set(null===(t=[].concat((0,Z.Z)(e),(0,Z.Z)(null===w||void 0===w?void 0:w.query)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),S(!1)):0===(null===w||void 0===w||null===(e=w.query)||void 0===e?void 0:e.length)&&S(!1),10===(null===w||void 0===w||null===(n=w.query)||void 0===n?void 0:n.length)?m(!0):m(!1)}),[null===w||void 0===w?void 0:w.query]),(0,p.jsxs)("div",{className:ue.acceptedRequest,children:[(0,p.jsxs)("div",{className:ue.acceptedRequestHead,children:["Total Request ",null===w||void 0===w?void 0:w.queryCount]}),(0,p.jsxs)("div",{className:ue.acceptedRequestContent,children:[null===h||void 0===h?void 0:h.map((function(e,n){return(null===h||void 0===h?void 0:h.length)===n+1?(0,p.jsx)("div",{ref:t,children:(0,p.jsx)(Ce,{cardData:e,viewAs:"Transport_ACCEPT"})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(Ce,{cardData:e,viewAs:"Transport_ACCEPT"},null===e||void 0===e?void 0:e._id)})),y&&(0,p.jsx)(Se.Z,{})]})]})},He=function(){var e=(0,N.YD)(),n=(0,d.Z)(e,2),t=n[0],l=n[1],o=(0,i.useState)(1),a=(0,d.Z)(o,2),s=a[0],r=a[1],c=(0,i.useState)(!0),u=(0,d.Z)(c,2),v=u[0],m=u[1],f=(0,i.useState)([]),_=(0,d.Z)(f,2),h=_[0],x=_[1],j=(0,i.useState)(!0),g=(0,d.Z)(j,2),y=g[0],S=g[1],C=(0,b.useSelector)((function(e){return e.financeChange.fid})),T=(0,P.T9)({data:{fid:C,page:s,limit:10,filterBy:"ALL_CANCEL"},skip:!C}),w=T.allTransportFeeFinance,A=T.allTransportFeeFinanceRefetch,R=(0,re.u)().scrollToTop;return(0,i.useEffect)((function(){R()}),[]),(0,i.useEffect)((function(){C&&(S(!0),A())}),[C,s,A]),(0,i.useEffect)((function(){l&&v&&r((function(e){return e+1}))}),[l,v]),(0,i.useEffect)((function(){var e,n;null!==w&&void 0!==w&&w.query?(x((function(e){var n,t;return null===(n=(0,Z.Z)(new Set(null===(t=[].concat((0,Z.Z)(e),(0,Z.Z)(null===w||void 0===w?void 0:w.query)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),S(!1)):0===(null===w||void 0===w||null===(e=w.query)||void 0===e?void 0:e.length)&&S(!1),10===(null===w||void 0===w||null===(n=w.query)||void 0===n?void 0:n.length)?m(!0):m(!1)}),[null===w||void 0===w?void 0:w.query]),(0,p.jsxs)("div",{className:ue.acceptedRequest,children:[(0,p.jsxs)("div",{className:ue.acceptedRequestHead,children:["Total Request ",null===w||void 0===w?void 0:w.queryCount]}),(0,p.jsxs)("div",{className:ue.acceptedRequestContent,children:[null===h||void 0===h?void 0:h.map((function(e,n){return(null===h||void 0===h?void 0:h.length)===n+1?(0,p.jsx)("div",{ref:t,children:(0,p.jsx)(Ce,{cardData:e,viewAs:"Transport_REJECT"})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(Ce,{cardData:e,viewAs:"Transport_REJECT"},null===e||void 0===e?void 0:e._id)})),y&&(0,p.jsx)(Se.Z,{})]})]})},Oe=function(){var e=(0,N.YD)(),n=(0,d.Z)(e,2),t=n[0],l=n[1],o=(0,i.useState)(1),a=(0,d.Z)(o,2),s=a[0],r=a[1],c=(0,i.useState)(!0),u=(0,d.Z)(c,2),v=u[0],m=u[1],f=(0,i.useState)([]),_=(0,d.Z)(f,2),h=_[0],x=_[1],j=(0,i.useState)(!1),g=(0,d.Z)(j,2),y=g[0],S=g[1],C=(0,i.useState)(!0),T=(0,d.Z)(C,2),w=T[0],A=T[1],R=(0,b.useSelector)((function(e){return e.financeChange.fid})),E=(0,P.T9)({data:{fid:R,page:s,limit:10,filterBy:"ALL_REQUEST"},skip:!R}),I=E.allTransportFeeFinance,D=E.allTransportFeeFinanceRefetch,F=(0,re.u)().scrollToTop;(0,i.useEffect)((function(){F()}),[]),(0,i.useEffect)((function(){R&&(A(!0),D())}),[R,s,D]),(0,i.useEffect)((function(){l&&v&&r((function(e){return e+1}))}),[l,v]),(0,i.useEffect)((function(){var e,n;y?(x(null===I||void 0===I?void 0:I.query),A(!1),S(!1)):null!==I&&void 0!==I&&I.query?(x((function(e){var n,t;return null===(n=(0,Z.Z)(new Set(null===(t=[].concat((0,Z.Z)(e),(0,Z.Z)(null===I||void 0===I?void 0:I.query)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),A(!1)):0===(null===I||void 0===I||null===(n=I.query)||void 0===n?void 0:n.length)&&A(!1);10===(null===I||void 0===I||null===(e=I.query)||void 0===e?void 0:e.length)?m(!0):m(!1)}),[null===I||void 0===I?void 0:I.query]);var k=function(){r(1),S(!0),A(!0),D()};return(0,p.jsxs)("div",{className:ue.acceptedRequest,children:[(0,p.jsxs)("div",{className:ue.acceptedRequestHead,children:["Total Request ",null===I||void 0===I?void 0:I.queryCount]}),(0,p.jsxs)("div",{className:ue.acceptedRequestContent,children:[null===h||void 0===h?void 0:h.map((function(e,n){return(null===h||void 0===h?void 0:h.length)===n+1?(0,p.jsx)("div",{ref:t,children:(0,p.jsx)(Ce,{cardData:e,viewAs:"TRANSPORT_REQUEST",fid:R,onRefetchWhenActionPerform:k})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(Ce,{cardData:e,viewAs:"TRANSPORT_REQUEST",onRefetchWhenActionPerform:k,fid:R},null===e||void 0===e?void 0:e._id)})),w&&(0,p.jsx)(Se.Z,{})]})]})},Be=function(){var e=(0,i.useState)(0),n=(0,d.Z)(e,2),t=n[0],l=n[1];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(fe,{activeIndex:t,setActiveIndex:l}),0===t&&(0,p.jsx)(Oe,{}),1===t&&(0,p.jsx)(qe,{}),2===t&&(0,p.jsx)(He,{})]})};var Je=function(e){var n,t,i,l,a,s,d,r,v,m,f=e.carryParentState,_=(0,o.TH)(),x=(0,o.UO)(),j=(0,c.$G)().t;return(0,p.jsxs)("div",{className:ue.SubmissionRequest,children:[(0,p.jsxs)("section",{className:ue.submission_tab_container,children:[(0,p.jsx)(h.rU,{to:"/q/".concat(x.username,"/member/finance?a=submission"),state:(0,u.Z)({},f),style:{width:"20%"},children:(0,p.jsx)("h6",{className:"submission"===(null===_||void 0===_||null===(n=_.search)||void 0===n?void 0:n.substring(3))?"".concat(ue.submission_tab_text," ").concat(ue.submission_tab_text_active):ue.submission_tab_text,children:j("class_teacher")})}),(0,p.jsx)(h.rU,{to:"/q/".concat(x.username,"/member/finance?a=submission&n=admission"),state:(0,u.Z)({},f),style:{width:"20%"},children:(0,p.jsx)("h6",{className:"admission"===(null===_||void 0===_||null===(t=_.search)||void 0===t?void 0:t.substring(16))?"".concat(ue.submission_tab_text," ").concat(ue.submission_tab_text_active):ue.submission_tab_text,children:j("admission")})}),(0,p.jsx)(h.rU,{to:"/q/".concat(x.username,"/member/finance?a=submission&n=library"),state:(0,u.Z)({},f),style:{width:"20%"},children:(0,p.jsx)("h6",{className:"library"===(null===_||void 0===_||null===(i=_.search)||void 0===i?void 0:i.substring(16))?"".concat(ue.submission_tab_text," ").concat(ue.submission_tab_text_active):ue.submission_tab_text,children:j("library")})}),(0,p.jsx)(h.rU,{to:"/q/".concat(x.username,"/member/finance?a=submission&n=hostel"),state:(0,u.Z)({},f),style:{width:"20%"},children:(0,p.jsx)("h6",{className:"hostel"===(null===_||void 0===_||null===(l=_.search)||void 0===l?void 0:l.substring(16))?"".concat(ue.submission_tab_text," ").concat(ue.submission_tab_text_active):ue.submission_tab_text,children:j("hostel")})}),(0,p.jsx)(h.rU,{to:"/q/".concat(x.username,"/member/finance?a=submission&n=transport"),state:(0,u.Z)({},f),style:{width:"20%"},children:(0,p.jsx)("h6",{className:"transport"===(null===_||void 0===_||null===(a=_.search)||void 0===a?void 0:a.substring(16))?"".concat(ue.submission_tab_text," ").concat(ue.submission_tab_text_active):ue.submission_tab_text,children:j("transport")})})]}),(0,p.jsxs)("div",{className:ue.submissionContent,children:["submission"===(null===_||void 0===_||null===(s=_.search)||void 0===s?void 0:s.substring(3))&&(0,p.jsx)(be,{}),"admission"===(null===_||void 0===_||null===(d=_.search)||void 0===d?void 0:d.substring(16))&&(0,p.jsx)(Re,{}),"library"===(null===_||void 0===_||null===(r=_.search)||void 0===r?void 0:r.substring(16))&&(0,p.jsx)(Fe,{}),"hostel"===(null===_||void 0===_||null===(v=_.search)||void 0===v?void 0:v.substring(16))&&(0,p.jsx)(Le,{}),"transport"===(null===_||void 0===_||null===(m=_.search)||void 0===m?void 0:m.substring(16))&&(0,p.jsx)(Be,{})]})]})},Ge=t(47566),Ye=t(76433),Ue=t(2720),We="Payroll_payroll_container__QoA9i",Ve="Payroll_add_new_payroll__biVX1",$e="Payroll_salary_head_card__loJO0",Qe="Payroll_pay_card__fqfuA",ze="Payroll_pay_card_content__x3YQl",Xe="Payroll_pay_card_text__Zv1HR",Ke="Payroll_pay_btn__Pz0xt",en="Payroll_receipt_btn__7d1D3",nn="Payroll_head_history_card__TXxJJ",tn="Payroll_add_employee_staff__svVRM",ln="Payroll_head_history_card_text__Etvu8",on="Payroll_add_employee_staff_text__nGZN5",an="Payroll_row2__UuP6J";t(47396);var sn=t(98094),dn=t(47167),rn=t(91022),cn=t(97655),un=t(36665),vn=t(33399),mn=function(e){var n=e.onClose,t=e.onRefetch,l=(0,c.$G)().t,o=(0,b.useSelector)((function(e){return e.financeChange.fid})),a=(0,i.useState)({payroll_head_name:"",payroll_head_type:""}),s=(0,d.Z)(a,2),r=s[0],v=s[1],m=(0,i.useState)(""),f=(0,d.Z)(m,2),_=f[0],h=f[1],x=(0,i.useState)(!1),j=(0,d.Z)(x,2),g=j[0],y=j[1],Z=(0,P.Kd)(),N=(0,d.Z)(Z,1)[0];return(0,p.jsx)(un.Z,{onClose:n,children:(0,p.jsxs)("div",{className:vn.Z.add_category_modal,children:[(0,p.jsxs)("div",{className:vn.Z.add_category_modal_title,children:[(0,p.jsx)("h6",{children:l("salary_heads")}),(0,p.jsx)("img",{src:"/images/close-post-icon.svg",onClick:n,alt:""})]}),(0,p.jsx)(cn.Z,{labelText:l("head_name"),placeholder:l("salary_head_name_placeholder"),name:"payroll_head_name",value:null===r||void 0===r?void 0:r.payroll_head_name,type:"text",onChange:function(e){v((function(n){return(0,u.Z)((0,u.Z)({},n),{},{payroll_head_name:e.target.value})}))},errorShow:_.payroll_head_name}),(0,p.jsx)(rn.Z,{selectLabel:l("head_type"),selectedValue:l("head_type_placeholder"),value:null===r||void 0===r?void 0:r.payroll_head_type,onClick:function(e){v((function(n){return(0,u.Z)((0,u.Z)({},n),{},{payroll_head_type:e})}))},errorShow:_.payroll_head_type,options:["Particular","Deduction"]}),(0,p.jsx)("button",{className:vn.Z.set_fees_structure_btn,title:"Add fees head",onClick:function(){var e=function(e){var n={};for(var t in e)e[t]||(n[t]="".concat(t," is required!"));return n}(r),i=!1;for(var l in e)if(l){i=!0;break}i?h(e):(y((function(e){return!e})),N({fid:o,addPayroll:r}).then((function(){t(),n(),y((function(e){return!e}))})).catch({}))},style:{justifyContent:"center"},children:l("create")}),g&&(0,p.jsx)(pe.Z,{})]})})},fn=function(e){var n,t=e.head,i=e.carryParentState,l=(0,o.UO)();return(0,p.jsx)(h.rU,{to:"/q/".concat(l.username,"/member/finance?a=payroll&n=head&info"),state:(0,u.Z)((0,u.Z)({},i),{},{pmid:null===t||void 0===t?void 0:t._id,salaryHead:null===t||void 0===t?void 0:t.payroll_head_name,salaryType:null===t||void 0===t?void 0:t.payroll_head_type}),children:(0,p.jsxs)("div",{className:$e,children:[(0,p.jsx)("img",{src:"/images/fees-category-icon.svg",alt:"categor icon"}),(0,p.jsx)("h6",{children:null!==(n=null===t||void 0===t?void 0:t.payroll_head_name)&&void 0!==n?n:""})]},null===t||void 0===t?void 0:t._id)})},_n=function(e){var n=e.carryParentState,t=(0,c.$G)().t,l=(0,b.useSelector)((function(e){return e.financeChange.fid})),o=(0,i.useState)(!1),a=(0,d.Z)(o,2),s=a[0],r=a[1],u=(0,N.YD)(),v=(0,d.Z)(u,2),m=v[0],f=v[1],_=(0,i.useState)(1),h=(0,d.Z)(_,2),x=h[0],j=h[1],g=(0,i.useState)(!0),y=(0,d.Z)(g,2),S=y[0],C=y[1],T=(0,i.useState)(!1),w=(0,d.Z)(T,2),A=w[0],R=w[1],E=(0,i.useState)(!0),I=(0,d.Z)(E,2),D=I[0],F=I[1],k=(0,i.useState)([]),M=(0,d.Z)(k,2),L=M[0],q=M[1],H=(0,P.vp)({data:{fid:l,page:x,limit:10,search:"",filter:""},skip:!l}),O=H.getPayrollHeadList,B=H.getPayrollHeadListRefetch;(0,i.useEffect)((function(){l&&(F(!0),B())}),[l,x,B]),(0,i.useEffect)((function(){f&&S&&j((function(e){return e+1}))}),[f,S]),(0,i.useEffect)((function(){var e,n;A?(q(null===O||void 0===O?void 0:O.all_masters),R(!1),F(!1)):null!==O&&void 0!==O&&O.all_masters?(q((function(e){var n,t;return null===(n=(0,Z.Z)(new Set(null===(t=[].concat((0,Z.Z)(e),(0,Z.Z)(null===O||void 0===O?void 0:O.all_masters)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),F(!1)):0===(null===O||void 0===O||null===(n=O.all_masters)||void 0===n?void 0:n.length)&&F(!1);10===(null===O||void 0===O||null===(e=O.all_masters)||void 0===e?void 0:e.length)?C(!0):C(!1)}),[null===O||void 0===O?void 0:O.all_masters]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,p.jsx)("h6",{className:Ve,onClick:function(){return r(!0)},children:t("add_new_employess")})}),null===L||void 0===L?void 0:L.map((function(e,t){return(null===L||void 0===L?void 0:L.length)===t+1?(0,p.jsx)("div",{ref:m,children:(0,p.jsx)(fn,{head:e,carryParentState:n})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(fn,{head:e,carryParentState:n},null===e||void 0===e?void 0:e._id)})),D&&(0,p.jsx)(Se.Z,{}),s&&(0,p.jsx)(mn,{onClose:function(){return r(!1)},onRefetch:function(){R(!0),j(1),F(!0),B()}})]})},hn=t(46876),pn=t(36721),xn=function(e){var n=e.setActivePopupIndex,t=e.setFilterBy,l=e.addFeeHead,o=e.setAddFeeHead,a=e.addFeeHeadDeduction,s=e.setAddFeeHeadDecution,r=e.setBasicSalary,u=e.basickSalary,v=e.setTotalValidation,m=e.activePopupIndex,f=(0,c.$G)().t,_=(0,i.useState)(0),h=(0,d.Z)(_,2),x=h[0],j=h[1],g=(0,i.useState)(0),y=(0,d.Z)(g,2),N=y[0],b=y[1],S=function(e){t(e),n(2)};(0,i.useEffect)((function(){if(1===m){for(var e=0,n=0,t=(0,Z.Z)(l),i=0;i<(null===t||void 0===t?void 0:t.length);i++)e+=+t[i].master_amount,n+=+t[i].master_amount;for(var o=(0,Z.Z)(a),s=0;s<(null===o||void 0===o?void 0:o.length);s++)n-=+o[s].master_amount;j(e),b(n),v(n)}}),[m]);return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("section",{className:vn.Z.table_container,style:{marginTop:"1rem"},children:[(0,p.jsxs)("div",{className:vn.Z.table_heading,children:[(0,p.jsx)("h6",{children:f("particular")}),(0,p.jsx)("h6",{children:f("amount")})]}),(0,p.jsxs)("div",{className:vn.Z.table_body,children:[(0,p.jsxs)("div",{className:vn.Z.table_body_list,children:[(0,p.jsx)("h6",{children:"Basic Salary"}),(0,p.jsx)("input",{type:"tel",value:u,onChange:function(e){return r(+e.target.value)},className:vn.Z.fee_head_amount_input,placeholder:"0"})]}),null===l||void 0===l?void 0:l.map((function(e,n){return(0,p.jsxs)("div",{className:vn.Z.table_body_list,children:[(0,p.jsx)("h6",{children:null===e||void 0===e?void 0:e.master_name}),(0,p.jsx)("input",{type:"tel",value:null===e||void 0===e?void 0:e.master_amount,onChange:function(e){return function(e,n){for(var t=0,i=0,s=(0,Z.Z)(l),d=0;d<(null===s||void 0===s?void 0:s.length);d++)d===n&&(s[d].master_amount=+e.target.value);for(var r=0;r<(null===s||void 0===s?void 0:s.length);r++)t+=+s[r].master_amount,i+=+s[r].master_amount;for(var c=(0,Z.Z)(a),u=0;u<(null===c||void 0===c?void 0:c.length);u++)i-=+c[u].master_amount;o(s),j(t),b(i),v(i)}(e,n)},className:vn.Z.fee_head_amount_input})]},n)}))]}),(0,p.jsxs)("button",{className:vn.Z.add_fees_head_btn,title:"Add Fees",onClick:function(){return S("Particular")},children:[f("add"),(0,p.jsx)("img",{src:"/images/add-plus-icon.svg",alt:"add"})]}),(0,p.jsx)("div",{className:vn.Z.table_body,children:(0,p.jsxs)("div",{className:vn.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.5)",borderTopWidth:"0.5px",borderTopStyle:"solid",borderBottomColor:"rgba(18, 18, 18, 0.8)",borderBottomWidth:"2px"},children:[(0,p.jsx)("h6",{className:vn.Z.fees_total,children:f("gross_total")}),(0,p.jsx)("h6",{className:vn.Z.fees_total,children:x+u})]})}),(0,p.jsx)("div",{className:vn.Z.table_body,children:null===a||void 0===a?void 0:a.map((function(e,n){return(0,p.jsxs)("div",{className:vn.Z.table_body_list,children:[(0,p.jsx)("h6",{children:null===e||void 0===e?void 0:e.master_name}),(0,p.jsx)("input",{type:"tel",value:null===e||void 0===e?void 0:e.master_amount,onChange:function(e){return function(e,n){for(var t=x,i=(0,Z.Z)(a),l=0;l<(null===i||void 0===i?void 0:i.length);l++)l===n&&(i[l].master_amount=+e.target.value);for(var o=0;o<(null===i||void 0===i?void 0:i.length);o++)t-=+i[o].master_amount;s(i),b(t),v(t)}(e,n)},className:vn.Z.fee_head_amount_input})]},n)}))}),(0,p.jsxs)("button",{className:vn.Z.add_fees_head_btn,title:"Add Fees",onClick:function(){return S("Deduction")},children:[f("add"),(0,p.jsx)("img",{src:"/images/add-plus-icon.svg",alt:"add"})]}),(0,p.jsx)("div",{className:vn.Z.table_body,children:(0,p.jsxs)("div",{className:vn.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.5)",borderTopWidth:"0.5px",borderTopStyle:"solid",borderBottomColor:"rgba(18, 18, 18, 0.8)",borderBottomWidth:"2px"},children:[(0,p.jsx)("h6",{className:vn.Z.fees_total,children:f("net_total")}),(0,p.jsx)("h6",{className:vn.Z.fees_total,children:N+u})]})})]})})},jn=t(763),gn=function(e){var n=e.onClose,t=e.financeId,l=e.setAddFeeHead,o=e.filterBy,a=e.setAddFeeHeadDecution,s=(0,c.$G)().t,r=(0,N.YD)(),u=(0,d.Z)(r,2),v=u[0],m=u[1],f=(0,i.useState)(1),_=(0,d.Z)(f,2),h=_[0],x=_[1],j=(0,i.useState)(!0),g=(0,d.Z)(j,2),y=g[0],b=g[1],S=(0,i.useState)(""),C=(0,d.Z)(S,2),T=C[0],w=C[1],A=(0,i.useState)(!0),R=(0,d.Z)(A,2),E=R[0],I=R[1],D=(0,i.useState)([]),F=(0,d.Z)(D,2),k=F[0],M=F[1],L=(0,i.useState)([]),q=(0,d.Z)(L,2),H=q[0],O=q[1],B=(0,i.useState)([]),J=(0,d.Z)(B,2),G=J[0],Y=J[1],U=(0,P.vp)({data:{fid:t,page:h,limit:10,search:T,filter:o},skip:!t}),W=U.getPayrollHeadList,V=U.getPayrollHeadListRefetch;(0,i.useEffect)((function(){t&&(I(!0),V())}),[t,h,T,V]),(0,i.useEffect)((function(){m&&y&&x((function(e){return e+1}))}),[m,y]),(0,i.useEffect)((function(){var e,n;T?(M(null===W||void 0===W?void 0:W.all_masters),I(!1)):null!==W&&void 0!==W&&W.all_masters?(M((function(e){var n,t;return null===(n=(0,Z.Z)(new Set(null===(t=[].concat((0,Z.Z)(e),(0,Z.Z)(null===W||void 0===W?void 0:W.all_masters)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),I(!1)):0===(null===W||void 0===W||null===(n=W.all_masters)||void 0===n?void 0:n.length)&&I(!1);10===(null===W||void 0===W||null===(e=W.all_masters)||void 0===e?void 0:e.length)?b(!0):b(!1)}),[null===W||void 0===W?void 0:W.all_masters]);var $=(0,i.useCallback)((0,jn.debounce)((function(e){return w(e)}),500),[]),Q=function(e){var n={master_name:null===e||void 0===e?void 0:e.payroll_head_name,master_amount:0,master_status:null===e||void 0===e?void 0:e.payroll_head_type,master_id:null===e||void 0===e?void 0:e._id};if(null!==G&&void 0!==G&&G.includes(null===e||void 0===e?void 0:e._id)){for(var t=null===G||void 0===G?void 0:G.indexOf(null===e||void 0===e?void 0:e._id),i=[],l=0;l<(null===H||void 0===H?void 0:H.length);l++)l===t||i.push(H[l]);Y((function(n){return null===n||void 0===n?void 0:n.filter((function(n){return n!==(null===e||void 0===e?void 0:e._id)}))})),O(i)}else Y((function(n){return[].concat((0,Z.Z)(n),[null===e||void 0===e?void 0:e._id])})),O((function(e){return[].concat((0,Z.Z)(e),[n])}))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:vn.Z.add_category_modal_title,children:[(0,p.jsxs)("section",{className:vn.Z.add_category_modal_title_left,children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:n,alt:""}),(0,p.jsx)("h6",{children:s("select_salary_head")})]}),(0,p.jsx)("h6",{style:{color:"#002BBE",cursor:"pointer"},onClick:function(){"Deduction"===o?a((function(e){return[].concat((0,Z.Z)(e),(0,Z.Z)(H))})):l((function(e){return[].concat((0,Z.Z)(e),(0,Z.Z)(H))})),n()},children:s("select")})]}),(0,p.jsx)(sn.Z,{customStyle:{width:"100%"}}),(0,p.jsx)("div",{className:vn.Z.search_container,children:(0,p.jsxs)("div",{className:vn.Z.search_container_text,children:[(0,p.jsx)("img",{className:vn.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,p.jsx)("input",{type:"text",placeholder:s("search-label"),onChange:function(e){$(e.target.value)}})]})}),null===k||void 0===k?void 0:k.map((function(e,n){var t,i,l,o;return(null===k||void 0===k?void 0:k.length)===n+1?(0,p.jsxs)("div",{className:null!==G&&void 0!==G&&G.includes(null===e||void 0===e?void 0:e._id)?"".concat(vn.Z.category_card," ").concat(vn.Z.category_card_hover_active):"".concat(vn.Z.category_card," ").concat(vn.Z.category_card_hover),ref:v,style:{height:"74px"},onClick:function(){return Q(e)},children:[(0,p.jsx)("img",{style:{height:"36px",width:"36px"},src:"/images/fees-category-icon.svg",alt:"categor icon"}),(0,p.jsxs)("div",{className:vn.Z.category_card_fee,children:[(0,p.jsx)("h6",{style:{marginBottom:"0.3rem"},children:null!==(t=null===e||void 0===e?void 0:e.payroll_head_name)&&void 0!==t?t:""}),(0,p.jsx)("h6",{style:{color:"rgba(18, 18, 18, 0.5)"},children:null!==(i=null===e||void 0===e?void 0:e.payroll_head_type)&&void 0!==i?i:""})]})]},null===e||void 0===e?void 0:e._id):(0,p.jsxs)("div",{className:null!==G&&void 0!==G&&G.includes(null===e||void 0===e?void 0:e._id)?"".concat(vn.Z.category_card," ").concat(vn.Z.category_card_hover_active):"".concat(vn.Z.category_card," ").concat(vn.Z.category_card_hover),style:{height:"74px"},onClick:function(){return Q(e)},children:[(0,p.jsx)("img",{style:{height:"36px",width:"36px"},src:"/images/fees-category-icon.svg",alt:"categor icon"}),(0,p.jsxs)("div",{className:vn.Z.category_card_fee,children:[(0,p.jsx)("h6",{style:{marginBottom:"0.3rem"},children:null!==(l=null===e||void 0===e?void 0:e.payroll_head_name)&&void 0!==l?l:""}),(0,p.jsx)("h6",{style:{color:"rgba(18, 18, 18, 0.5)"},children:null!==(o=null===e||void 0===e?void 0:e.payroll_head_type)&&void 0!==o?o:""})]})]},null===e||void 0===e?void 0:e._id)})),E&&(0,p.jsx)(Se.Z,{})]})},yn=function(e){var n,t,l,o,a=e.onClose,s=e.financeId,r=e.onRefetch,v=(0,c.$G)().t,m=(0,i.useState)(0),f=(0,d.Z)(m,2),_=f[0],h=f[1],x=(0,b.useSelector)((function(e){return e.financeChange})),j=(0,i.useState)(!1),g=(0,d.Z)(j,2),y=g[0],N=g[1],S=(0,i.useState)(""),C=(0,d.Z)(S,2),T=C[0],w=C[1],A=(0,i.useState)({staff_salary_month:"",staff_total_paid_leaves:""}),R=(0,d.Z)(A,2),E=R[0],I=R[1],D=(0,i.useState)(""),F=(0,d.Z)(D,2),k=F[0],M=F[1],L=(0,i.useState)([]),q=(0,d.Z)(L,2),H=q[0],O=q[1],B=(0,i.useState)([]),J=(0,d.Z)(B,2),G=J[0],Y=J[1],U=(0,i.useState)(""),W=(0,d.Z)(U,2),V=W[0],$=W[1],Q=(0,i.useState)(""),z=(0,d.Z)(Q,2),X=z[0],K=z[1],ee=(0,P.iN)(),ne=(0,d.Z)(ee,1)[0],te=(0,i.useState)(0),ie=(0,d.Z)(te,2),le=ie[0],oe=ie[1],ae=(0,i.useState)({msg:"",run:!1}),se=(0,d.Z)(ae,2),de=se[0],re=se[1];return(0,p.jsxs)(p.Fragment,{children:[0===_&&(0,p.jsx)(hn.default,{assignHead:0===_,headSelect:function(e){M(e),h(1)},title:v("staff_list"),onClose:a,viewAs:"ADMISSION_ADMIN",instituteId:null===x||void 0===x?void 0:x.insId}),(1===_||2===_)&&(0,p.jsx)(un.Z,{onClose:function(){},children:(0,p.jsxs)("div",{className:vn.Z.add_category_modal,style:{width:"30rem",minHeight:"10rem",maxHeight:"35rem",overflowY:"scroll",overflowX:"hidden"},children:[1===_&&(0,p.jsxs)(p.Fragment,{children:[" ",(0,p.jsxs)("div",{className:vn.Z.add_category_modal_title,children:[(0,p.jsxs)("section",{className:vn.Z.add_category_modal_title_left,children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:a,alt:""}),(0,p.jsx)("h6",{children:v("add_employee")})]}),(0,p.jsx)("h6",{onClick:function(){var e=function(e,n){var t={};for(var i in e)"staff_total_paid_leaves"===i||e[i]||(t[i]="".concat(i," is required!"));return+n<+e.staff_salary_month?(t.less_amount=" is required!",re({msg:"Net total is not less than salary per month",run:!0})):+n>+e.staff_salary_month&&(t.greater_amount=" is required!",re({msg:"Net total is not greater than salary per month",run:!0})),t}(E,le+X),n=!1;for(var t in e)if(t){n=!0;break}n?w(e):(N((function(e){return!e})),ne({employeePayroll:(0,u.Z)((0,u.Z)({},E),{},{heads:[].concat((0,Z.Z)(H),(0,Z.Z)(G)),basic_pay:X}),sid:null===k||void 0===k?void 0:k._id,fid:s}).then((function(e){e.data.status&&(r(),a(),N((function(e){return!e})))})).catch({}))},style:{cursor:"pointer"},children:v("add")})]}),(0,p.jsx)(sn.Z,{customStyle:{width:"100%"}}),(0,p.jsxs)("section",{className:vn.Z.add_employee_staff,children:[(0,p.jsx)("img",{src:null!==k&&void 0!==k&&k.staffProfilePhoto?"".concat(he.yI,"/").concat(null===k||void 0===k?void 0:k.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff avatar"}),(0,p.jsxs)("div",{className:vn.Z.add_employee_staff_text,children:[(0,p.jsx)("h6",{children:"".concat(null!==(n=null===k||void 0===k?void 0:k.staffFirstName)&&void 0!==n?n:""," \n                  ").concat(null!==(t=null===k||void 0===k?void 0:k.staffMiddleName)&&void 0!==t?t:"","\n                  ").concat(null!==(l=null===k||void 0===k?void 0:k.staffLastName)&&void 0!==l?l:""," ")}),(0,p.jsxs)("p",{children:[v("index_number")," : ",null!==(o=null===k||void 0===k?void 0:k.staffROLLNO)&&void 0!==o?o:""]})]})]}),(0,p.jsx)(cn.Z,{labelText:v("salary_per_months"),placeholder:v("salary_per_months_placeholder"),name:"staff_salary_month",value:null===E||void 0===E?void 0:E.staff_salary_month,type:"text",onChange:function(e){return I((function(n){return(0,u.Z)((0,u.Z)({},n),{},{staff_salary_month:+e.target.value})}))},errorShow:T.staff_salary_month}),(0,p.jsx)(cn.Z,{labelText:v("paid_per_months"),placeholder:v("paid_per_months_placeholder"),name:"staff_total_paid_leaves",value:null===E||void 0===E?void 0:E.staff_total_paid_leaves,type:"text",onChange:function(e){return I((function(n){return(0,u.Z)((0,u.Z)({},n),{},{staff_total_paid_leaves:+e.target.value})}))}}),(0,p.jsx)(xn,{setFilterBy:$,setActivePopupIndex:h,addFeeHead:H,setAddFeeHead:O,setAddFeeHeadDecution:Y,addFeeHeadDeduction:G,addEmployeeState:E,setBasicSalary:K,basickSalary:X,setTotalValidation:oe,activePopupIndex:_})]}),2===_&&(0,p.jsx)(gn,{onClose:function(){return h(1)},setAddFeeHead:O,financeId:null===x||void 0===x?void 0:x.fid,filterBy:V,setAddFeeHeadDecution:Y}),y&&(0,p.jsx)(pe.Z,{})]})}),de.run&&(0,p.jsx)(pn.Ch,{msg:de.msg,run:de.run,setRun:function(){return re({msg:"",run:!1})},postiton:"bottom",type:"error"})]})},Zn=t(33710),Nn=function(e){var n,t,l=e.salaryData,o=e.attendanceDay,a=e.onAttendance,s=e.leaveTaken,d=e.setYears,r=e.setMonths,u=e.viewAs,v=e.salaryFilter,m=(0,c.$G)().t,f=(0,Zn.Z)(),_=f.selectedDate,h=f.monthNames,x=f.getNextMonth,j=f.getPrevMonth;(0,i.useEffect)((function(){"HISTORY"!==u&&(r(h[_.getMonth()]),d(_.getFullYear()))}),[_,u]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("section",{className:vn.Z.fees_head_title,style:{justifyContent:"HISTORY"==u?"center":"space-between"},children:["HISTORY"!==u&&(0,p.jsx)("img",{src:"/images/members/back-icon-white.svg",style:{cursor:"pointer"},onClick:function(){j()}}),(0,p.jsxs)("h6",{className:"".concat(vn.Z.yearmonth),children:["".concat(h[_.getMonth()])," ","".concat(_.getFullYear())]}),"HISTORY"!==u&&(0,p.jsx)("img",{src:"/images/members/forward-icon-white.svg",style:{cursor:"pointer"},onClick:function(){x()}})]}),(0,p.jsxs)("section",{className:vn.Z.fees_head_installment,children:[(0,p.jsx)("h6",{children:m("account_salary_per_day")}),(0,p.jsxs)("h6",{children:[m("rs"),". ",null!==(n=null===l||void 0===l?void 0:l.staff_salary_month)&&void 0!==n?n:""]})]}),(0,p.jsxs)("section",{className:vn.Z.fees_head_installment,children:[(0,p.jsx)("h6",{children:m("account_attendance")}),(0,p.jsxs)("h6",{style:{display:"flex",alignItems:"center"},children:["HISTORY"===u?(0,p.jsx)("span",{style:{marginRight:"0.3rem"},children:null===v||void 0===v?void 0:v.attendence}):(0,p.jsx)("input",{type:"tel",value:o,onChange:a,className:vn.Z.fee_head_amount_input,style:{width:"auto",marginRight:"0.3rem"}}),(0,p.jsx)("span",{children:m("account_days")})]})]}),(0,p.jsx)(sn.Z,{customStyle:{width:"100%",marginBottom:"1rem"}}),(0,p.jsxs)("section",{className:vn.Z.fees_head_installment,children:[(0,p.jsx)("h6",{children:m("account_paid_leaves")}),(0,p.jsxs)("h6",{children:[m("account_total")," ",null!==(t=null===l||void 0===l?void 0:l.staff_total_paid_leaves)&&void 0!==t?t:""," ",m("account_days")]})]}),(0,p.jsxs)("section",{className:vn.Z.fees_head_installment,children:[(0,p.jsx)("h6",{children:m("account_paid_leaves_taken")}),(0,p.jsxs)("h6",{children:[m("account_total")," ","HISTORY"===u?(null===v||void 0===v?void 0:v.paid_leaves)>(null===l||void 0===l?void 0:l.staff_total_paid_leaves)?null===l||void 0===l?void 0:l.staff_total_paid_leaves:null===v||void 0===v?void 0:v.paid_leaves:s>(null===l||void 0===l?void 0:l.staff_total_paid_leaves)?null===l||void 0===l?void 0:l.staff_total_paid_leaves:0," ",m("account_days")]})]})]})},bn=function(e){var n=e.netTotal,t=e.onClose,l=e.name,o=e.month,a=e.year,s=e.onAccount,r=(0,c.$G)().t,u=(0,i.useState)({payment_mode:""}),v=(0,d.Z)(u,2),m=v[0],f=v[1],_=(0,i.useState)(""),h=(0,d.Z)(_,2),x=h[0],j=h[1];return(0,p.jsx)(un.Z,{onClose:function(){},children:(0,p.jsxs)("div",{className:vn.Z.add_category_modal,style:{width:"35rem",minHeight:"10rem",maxHeight:"35rem",overflowY:"scroll",overflowX:"hidden"},children:[(0,p.jsx)("div",{className:vn.Z.add_category_modal_title,children:(0,p.jsxs)("section",{className:vn.Z.add_category_modal_title_left,children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:t,alt:""}),(0,p.jsx)("h6",{children:r("record_payment_entry")})]})}),(0,p.jsx)(sn.Z,{customStyle:{width:"100%"}}),(0,p.jsx)(rn.Z,{selectLabel:r("select_transaction_mode"),selectedValue:r("select_transaction_mode_placeholder"),options:["By Cash","By Bank"],errorShow:x.payment_mode,value:m.payment_mode,onClick:function(e){f({payment_mode:e})}}),(0,p.jsxs)("div",{className:an,style:{marginTop:"1rem"},children:[(0,p.jsx)("p",{children:"Purpose"}),(0,p.jsx)("h6",{children:"Monthly Salary"})]}),(0,p.jsxs)("div",{className:an,children:[(0,p.jsx)("p",{children:"Amount"}),(0,p.jsxs)("h6",{children:["Rs. ",n," /-"]})]}),(0,p.jsxs)("div",{className:an,children:[(0,p.jsx)("p",{children:"Paid to"}),(0,p.jsxs)("h6",{children:["Mr. ",l]})]}),(0,p.jsxs)("div",{className:an,children:[(0,p.jsx)("p",{children:"Description"}),(0,p.jsxs)("h6",{children:["Salary for the month of ",o," ",a]})]}),(0,p.jsx)("button",{className:vn.Z.payroll_account_btn,onClick:function(){m.payment_mode?s({payment_mode:m.payment_mode,purpose:"Monthly Salary",message:"Salary for the month of ".concat(o," ").concat(a),paid_to:l}):j({payment_mode:"* required"})},children:r("account")})]})})},Sn=function(e){var n,t,l,o,a,s,r,v,m,f,_,h,x,j,g,y,N,b,S,C,T,w,A,R,E=e.selectedEmployee,I=e.onClose,D=e.financeId,F=(0,c.$G)().t,k=(new Date).toISOString(),M=(0,i.useState)(!1),L=(0,d.Z)(M,2),q=L[0],H=L[1],O=(0,i.useState)([]),B=(0,d.Z)(O,2),J=B[0],G=B[1],Y=(0,i.useState)([]),U=(0,d.Z)(Y,2),W=U[0],V=U[1],$=(0,i.useState)(0),Q=(0,d.Z)($,2),z=Q[0],X=Q[1],K=(0,i.useState)(0),ee=(0,d.Z)(K,2),ne=ee[0],te=ee[1],ie=(0,i.useState)(0),le=(0,d.Z)(ie,2),oe=le[0],ae=le[1],se=(0,i.useState)(0),de=(0,d.Z)(se,2),re=de[0],ce=de[1],ue=(0,i.useState)(""),ve=(0,d.Z)(ue,2),me=ve[0],fe=ve[1],_e=(0,i.useState)(""),xe=(0,d.Z)(_e,2),je=xe[0],ge=xe[1],ye=(0,Zn.Z)().daysInMonth,Ze=(0,i.useState)(!1),Ne=(0,d.Z)(Ze,2),be=Ne[0],Se=Ne[1],Ce=(0,P.s0)(),Te=(0,d.Z)(Ce,1)[0],we=(0,i.useState)(!1),Ae=(0,d.Z)(we,2),Re=Ae[0],Ee=Ae[1],Ie=(0,i.useState)({msg:"",run:!1}),De=(0,d.Z)(Ie,2),Fe=De[0],Pe=De[1],ke=(0,P.lr)({data:{type:"Detail",eid:null===E||void 0===E?void 0:E._id,month:""},skip:!(null!==E&&void 0!==E&&E._id)}),Me=ke.financeOneEmployeeDetailHistory,Le=ke.financeOneEmployeeDetailHistoryRefetch,qe=(0,P.n5)({data:{sid:null===E||void 0===E||null===(n=E.staff)||void 0===n?void 0:n._id,month:"".concat(k.substring(5,7)),year:"".concat(k.substring(0,4))},skip:!(null!==E&&void 0!==E&&null!==(t=E.staff)&&void 0!==t&&t._id)}),He=qe.oneStaffAttendance,Oe=qe.oneStaffAttendanceRefetch;(0,i.useEffect)((function(){null!==E&&void 0!==E&&E._id&&Le()}),[null===E||void 0===E?void 0:E._id,Le]),i.useEffect((function(){var e;null!==E&&void 0!==E&&null!==(e=E.staff)&&void 0!==e&&e._id&&Oe()}),[null===E||void 0===E||null===(l=E.staff)||void 0===l?void 0:l._id,Oe]),(0,i.useEffect)((function(){if(null!==Me&&void 0!==Me&&Me.detail){var e,n,t,i,l=0,o=0;if(null!==(e=Me.detail)&&void 0!==e&&e.pay_master_heads_particular){for(var a,s=null===(a=Me.detail)||void 0===a?void 0:a.pay_master_heads_particular,d=[],r=0;r<(null===s||void 0===s?void 0:s.length);r++){var c,u,v,m;d.push({month_master_name:null===(c=s[r])||void 0===c?void 0:c.master_name,month_master_amount:null===(u=s[r])||void 0===u?void 0:u.master_amount,month_master_status:null===(v=s[r])||void 0===v?void 0:v.master_status,month_master_id:null===(m=s[r])||void 0===m?void 0:m.master_id}),l+=+s[r].master_amount,o+=+s[r].master_amount}G(d)}if(null!==(n=Me.detail)&&void 0!==n&&n.pay_master_heads_deduction){for(var f,_=null===(f=Me.detail)||void 0===f?void 0:f.pay_master_heads_deduction,h=[],p=0;p<(null===_||void 0===_?void 0:_.length);p++){var x,j,g,y;h.push({month_master_name:null===(x=_[p])||void 0===x?void 0:x.master_name,month_master_amount:null===(j=_[p])||void 0===j?void 0:j.master_amount,month_master_status:null===(g=_[p])||void 0===g?void 0:g.master_status,month_master_id:null===(y=_[p])||void 0===y?void 0:y.master_id}),o-=+_[p].master_amount}V(h)}X(l),te(o),ae(null!==(t=null===(i=Me.detail)||void 0===i?void 0:i.basic_pay)&&void 0!==t?t:0),Ee(!0)}}),[null===Me||void 0===Me||null===(o=Me.detail)||void 0===o?void 0:o.pay_master_heads_particular,null===Me||void 0===Me||null===(a=Me.detail)||void 0===a?void 0:a.pay_master_heads_deduction,null===Me||void 0===Me?void 0:Me.detail]),(0,i.useEffect)((function(){if(He&&Re){var e,n,t=ye-((null===He||void 0===He?void 0:He.absentCount)+(null===He||void 0===He?void 0:He.leaveCount)),i=0,l=0;ce(t);var o=(null===He||void 0===He?void 0:He.absentCount)+(null===He||void 0===He?void 0:He.leaveCount),a=+(null===Me||void 0===Me||null===(e=Me.detail)||void 0===e?void 0:e.staff_total_paid_leaves)-o,s=ye+a;s>ye&&(s=ye);for(var d=+(null===Me||void 0===Me||null===(n=Me.detail)||void 0===n?void 0:n.basic_pay)/ye*s,r=(0,Z.Z)(J),c=0;c<(null===r||void 0===r?void 0:r.length);c++){var u;r[c].month_master_amount=+(null===(u=r[c].month_master_amount/ye*s)||void 0===u?void 0:u.toFixed(0))}for(var v=0;v<(null===r||void 0===r?void 0:r.length);v++)i+=+r[v].month_master_amount,l+=+r[v].month_master_amount;for(var m=(0,Z.Z)(W),f=0;f<(null===m||void 0===m?void 0:m.length);f++){var _;m[f].month_master_amount=+(null===(_=m[f].month_master_amount/ye*s)||void 0===_?void 0:_.toFixed(0))}for(var h=0;h<(null===m||void 0===m?void 0:m.length);h++)l-=+m[h].month_master_amount;G(r),V(m),X(i),te(l),ae(d),Ee(!1)}}),[He,null===Me||void 0===Me?void 0:Me.detail,Re]);(0,i.useEffect)((function(){if(re){var e,n,t,i=+re,l=(null===Me||void 0===Me||null===(e=Me.detail)||void 0===e?void 0:e.basic_pay)/ye*i,o=0,a=0;if(null!==(n=Me.detail)&&void 0!==n&&n.pay_master_heads_particular){for(var s,d=null===(s=Me.detail)||void 0===s?void 0:s.pay_master_heads_particular,r=[],c=0;c<(null===d||void 0===d?void 0:d.length);c++){var u,v,m,f,_,h,p,x,j;r.push({month_master_name:null===(u=d[c])||void 0===u?void 0:u.master_name,month_master_amount:+(null===(v=(null===(m=d[c])||void 0===m?void 0:m.master_amount)/ye*i)||void 0===v?void 0:v.toFixed(0)),month_master_status:null===(f=d[c])||void 0===f?void 0:f.master_status,month_master_id:null===(_=d[c])||void 0===_?void 0:_.master_id}),o+=+(null===(h=(null===(p=d[c])||void 0===p?void 0:p.master_amount)/ye*i)||void 0===h?void 0:h.toFixed(0)),a+=+(null===(x=(null===(j=d[c])||void 0===j?void 0:j.master_amount)/ye*i)||void 0===x?void 0:x.toFixed(0))}G(r)}if(null!==(t=Me.detail)&&void 0!==t&&t.pay_master_heads_deduction){for(var g,y=null===(g=Me.detail)||void 0===g?void 0:g.pay_master_heads_deduction,Z=[],N=0;N<(null===y||void 0===y?void 0:y.length);N++){var b,S,C,T,w;Z.push({month_master_name:null===(b=y[N])||void 0===b?void 0:b.master_name,month_master_amount:+(null===(S=y[N].master_amount/ye*i)||void 0===S?void 0:S.toFixed(0)),month_master_status:null===(C=y[N])||void 0===C?void 0:C.master_status,month_master_id:null===(T=y[N])||void 0===T?void 0:T.master_id}),a-=+(null===(w=y[N].master_amount/ye*i)||void 0===w?void 0:w.toFixed(0))}V(Z)}X(o),te(a),ae(l)}}),[re,null===Me||void 0===Me||null===(s=Me.detail)||void 0===s?void 0:s.pay_master_heads_particular,null===Me||void 0===Me||null===(r=Me.detail)||void 0===r?void 0:r.pay_master_heads_deduction]);return(0,p.jsxs)(p.Fragment,{children:[!q&&(0,p.jsxs)(un.Z,{onClose:function(){},children:[(0,p.jsxs)("div",{className:vn.Z.add_category_modal,style:{width:"35rem",minHeight:"10rem",maxHeight:"35rem",overflowY:"scroll",overflowX:"hidden"},children:[(0,p.jsx)("div",{className:vn.Z.add_category_modal_title,children:(0,p.jsxs)("section",{className:vn.Z.add_category_modal_title_left,children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:I,alt:""}),(0,p.jsxs)("section",{className:vn.Z.add_employee_staff,children:[(0,p.jsx)("img",{src:null!==E&&void 0!==E&&null!==(v=E.staff)&&void 0!==v&&v.staffProfilePhoto?"".concat(he.yI,"/").concat(null===E||void 0===E||null===(m=E.staff)||void 0===m?void 0:m.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff avatar"}),(0,p.jsxs)("div",{className:vn.Z.add_employee_staff_text,children:[(0,p.jsx)("h6",{children:"".concat(null!==(f=null===E||void 0===E||null===(_=E.staff)||void 0===_?void 0:_.staffFirstName)&&void 0!==f?f:""," \n            ").concat(null!==(h=null===E||void 0===E||null===(x=E.staff)||void 0===x?void 0:x.staffMiddleName)&&void 0!==h?h:"","\n            ").concat(null!==(j=null===E||void 0===E||null===(g=E.staff)||void 0===g?void 0:g.staffLastName)&&void 0!==j?j:""," ")}),(0,p.jsxs)("p",{children:[F("index_number")," :"," ",null!==(y=null===E||void 0===E||null===(N=E.staff)||void 0===N?void 0:N.staffROLLNO)&&void 0!==y?y:""]})]})]})]})}),(0,p.jsx)(sn.Z,{customStyle:{width:"100%"}}),(0,p.jsx)(Nn,{salaryData:null===Me||void 0===Me?void 0:Me.detail,attendanceDay:re,leaveTaken:(null===He||void 0===He?void 0:He.leaveCount)+(null===He||void 0===He?void 0:He.absentCount),onAttendance:function(e){ce(+e.target.value)},setMonths:fe,setYears:ge}),(0,p.jsxs)("section",{className:vn.Z.table_container,children:[(0,p.jsxs)("div",{className:vn.Z.table_heading,children:[(0,p.jsx)("h6",{children:F("particular")}),(0,p.jsx)("h6",{children:F("amount")})]}),(0,p.jsxs)("div",{className:vn.Z.table_body_list,children:[(0,p.jsx)("h6",{children:"Basic Salary"}),(0,p.jsx)("input",{type:"number",value:null===oe||void 0===oe?void 0:oe.toFixed(0),className:vn.Z.fee_head_amount_input,onChange:function(e){return ae(+e.target.value)}})]}),(0,p.jsx)("div",{className:vn.Z.table_body,children:null===J||void 0===J?void 0:J.map((function(e,n){return(0,p.jsxs)("div",{className:vn.Z.table_body_list,children:[(0,p.jsx)("h6",{children:null===e||void 0===e?void 0:e.month_master_name}),(0,p.jsx)("input",{type:"tel",value:null===e||void 0===e?void 0:e.month_master_amount,onChange:function(e){return function(e,n){for(var t=0,i=0,l=(0,Z.Z)(J),o=0;o<(null===l||void 0===l?void 0:l.length);o++)o===n&&(l[o].month_master_amount=+e.target.value);for(var a=0;a<(null===l||void 0===l?void 0:l.length);a++)t+=l[a].month_master_amount,i+=l[a].month_master_amount;for(var s=(0,Z.Z)(W),d=0;d<(null===s||void 0===s?void 0:s.length);d++)i-=s[d].month_master_amount;G(l),X(t),te(i)}(e,n)},className:vn.Z.fee_head_amount_input})]},n)}))}),(0,p.jsx)("div",{className:vn.Z.table_body,children:(0,p.jsxs)("div",{className:vn.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.8)",borderTopWidth:"2px",borderTopStyle:"solid",borderBottomColor:"rgba(18, 18, 18, 0.8)",borderBottomWidth:"2px"},children:[(0,p.jsx)("h6",{className:vn.Z.fees_total,children:F("gross_total")}),(0,p.jsx)("h6",{className:vn.Z.fees_total,children:(z+oe).toFixed(0)})]})}),(0,p.jsx)("div",{className:vn.Z.table_body,children:null===W||void 0===W?void 0:W.map((function(e,n){return(0,p.jsxs)("div",{className:vn.Z.table_body_list,children:[(0,p.jsx)("h6",{children:null===e||void 0===e?void 0:e.month_master_name}),(0,p.jsx)("input",{type:"tel",value:null===e||void 0===e?void 0:e.month_master_amount,onChange:function(e){return function(e,n){for(var t=z,i=(0,Z.Z)(W),l=0;l<(null===i||void 0===i?void 0:i.length);l++)l===n&&(i[l].month_master_amount=+e.target.value);for(var o=0;o<(null===i||void 0===i?void 0:i.length);o++)t-=i[o].month_master_amount;V(i),te(t)}(e,n)},className:vn.Z.fee_head_amount_input})]},n)}))}),(0,p.jsx)("div",{className:vn.Z.table_body,children:(0,p.jsxs)("div",{className:vn.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.8)",borderTopWidth:"2px",borderTopStyle:"solid",borderBottomColor:"rgba(18, 18, 18, 0.8)",borderBottomWidth:"2px"},children:[(0,p.jsx)("h6",{className:vn.Z.fees_total,children:F("net_total")}),(0,p.jsx)("h6",{className:vn.Z.fees_total,children:(ne+oe).toFixed(0)})]})})]}),(0,p.jsx)("button",{className:vn.Z.payroll_account_btn,onClick:function(){var e,n,t=ne+oe;+t<(null===Me||void 0===Me||null===(e=Me.detail)||void 0===e?void 0:e.staff_salary_month)?Pe({msg:"Net total is not less than salary per month",run:!0}):+t>(null===Me||void 0===Me||null===(n=Me.detail)||void 0===n?void 0:n.staff_salary_month)?Pe({msg:"Net total is not greater than salary per month",run:!0}):H(!0)},children:F("account")})]}),be&&(0,p.jsx)(pe.Z,{})]}),q&&(0,p.jsx)(bn,{onClose:function(){return H(!1)},name:"".concat(null!==(b=null===E||void 0===E||null===(S=E.staff)||void 0===S?void 0:S.staffFirstName)&&void 0!==b?b:""," \n        ").concat(null!==(C=null===E||void 0===E||null===(T=E.staff)||void 0===T?void 0:T.staffMiddleName)&&void 0!==C?C:"","\n        ").concat(null!==(w=null===E||void 0===E||null===(A=E.staff)||void 0===A?void 0:A.staffLastName)&&void 0!==w?w:""," "),netTotal:null===(R=ne+oe)||void 0===R?void 0:R.toFixed(2),month:me,year:je,onAccount:function(e){var n,t;Se((function(e){return!e})),H(!1),Te({fid:D,eid:null===E||void 0===E?void 0:E._id,addPayroll:(0,u.Z)((0,u.Z)({month:k.substring(0,10),attendence:re,paid_leaves:(null===He||void 0===He?void 0:He.leaveCount)+(null===He||void 0===He?void 0:He.absentCount)},e),{},{amount:oe,basic_pay:oe,gross_salary:null===(n=z+oe)||void 0===n?void 0:n.toFixed(2),net_total:null===(t=ne+oe)||void 0===t?void 0:t.toFixed(2),master:[].concat((0,Z.Z)(J),(0,Z.Z)(W))})}).then((function(){I(),Se((function(e){return!e}))})).catch({})}}),Fe.run&&(0,p.jsx)(pn.Ch,{msg:Fe.msg,run:Fe.run,setRun:function(){return Pe({msg:"",run:!1})},postiton:"bottom",type:"error"})]})},Cn=function(e){var n,t,i,l,o,a,s,d,r,u,v=e.staff,m=e.setSelectedEmployee,f=(0,c.$G)().t;return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("section",{className:tn,onClick:function(){return m(v)},title:"Open staff Account",children:[(0,p.jsx)("img",{src:null!==v&&void 0!==v&&null!==(n=v.staff)&&void 0!==n&&n.staffProfilePhoto?"".concat(he.yI,"/").concat(null===v||void 0===v||null===(t=v.staff)||void 0===t?void 0:t.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff avatar"}),(0,p.jsxs)("div",{className:on,children:[(0,p.jsx)("h6",{children:"".concat(null!==(i=null===v||void 0===v||null===(l=v.staff)||void 0===l?void 0:l.staffFirstName)&&void 0!==i?i:""," \n  ").concat(null!==(o=null===v||void 0===v||null===(a=v.staff)||void 0===a?void 0:a.staffMiddleName)&&void 0!==o?o:"","\n  ").concat(null!==(s=null===v||void 0===v||null===(d=v.staff)||void 0===d?void 0:d.staffLastName)&&void 0!==s?s:""," ")}),(0,p.jsxs)("p",{children:[f("index_number")," : ",null!==(r=null===v||void 0===v||null===(u=v.staff)||void 0===u?void 0:u.staffROLLNO)&&void 0!==r?r:""]})]})]})})},Tn=function(){var e=(0,c.$G)().t,n=(0,b.useSelector)((function(e){return e.financeChange.fid})),t=(0,i.useState)(!1),l=(0,d.Z)(t,2),o=l[0],a=l[1],s=(0,N.YD)(),r=(0,d.Z)(s,2),u=r[0],v=r[1],m=(0,i.useState)(1),f=(0,d.Z)(m,2),_=f[0],h=f[1],x=(0,i.useState)(!0),j=(0,d.Z)(x,2),g=j[0],y=j[1],C=(0,i.useState)(!1),T=(0,d.Z)(C,2),w=T[0],A=T[1],R=(0,i.useState)(!0),E=(0,d.Z)(R,2),I=E[0],D=E[1],F=(0,i.useState)([]),P=(0,d.Z)(F,2),k=P[0],M=P[1],L=(0,i.useState)(""),q=(0,d.Z)(L,2),H=q[0],O=q[1],B=(0,S.nP)({fid:n,page:_,limit:10},{skip:!n}),J=B.data,G=B.refetch;(0,i.useEffect)((function(){n&&(D(!0),G())}),[n,_,G]),(0,i.useEffect)((function(){v&&g&&h((function(e){return e+1}))}),[v,g]),(0,i.useEffect)((function(){var e,n;w?(M(null===J||void 0===J?void 0:J.allEmp),A(!1),D(!1)):null!==J&&void 0!==J&&J.allEmp?(M((function(e){var n,t;return null===(n=(0,Z.Z)(new Set(null===(t=[].concat((0,Z.Z)(e),(0,Z.Z)(null===J||void 0===J?void 0:J.allEmp)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),D(!1)):0===(null===J||void 0===J||null===(n=J.allEmp)||void 0===n?void 0:n.length)&&D(!1);10===(null===J||void 0===J||null===(e=J.allEmp)||void 0===e?void 0:e.length)?y(!0):y(!1)}),[null===J||void 0===J?void 0:J.allEmp]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,p.jsx)("h6",{className:Ve,onClick:function(){return a(!0)},children:e("add_new_employess")})}),null===k||void 0===k?void 0:k.map((function(e,n){var t,i;return(null===k||void 0===k?void 0:k.length)===n+1?(0,p.jsx)("div",{ref:u,children:(0,p.jsx)(Cn,{staff:e,setSelectedEmployee:O})},null===e||void 0===e||null===(t=e.staff)||void 0===t?void 0:t._id):(0,p.jsx)(Cn,{staff:e,setSelectedEmployee:O},null===e||void 0===e||null===(i=e.staff)||void 0===i?void 0:i._id)})),o&&(0,p.jsx)(yn,{onRefetch:function(){A(!0),h(1),D(!0),G()},onClose:function(){return a(!1)},financeId:n}),H&&(0,p.jsx)(Sn,{selectedEmployee:H,onClose:function(){return O("")},financeId:n}),I&&(0,p.jsx)(Se.Z,{})]})},wn=function(e){var n,t,l,o,a,s,d,r,u,v,m,f,_,h,x,j,g,y,Z,N,b,S,C,T,w,A,R,E,I,D,F,k,M,L,q,H,O=e.openEmployeeHistory,B=e.onClose,J=e.headMonth,G=(0,c.$G)().t,Y=(0,P.lr)({data:{type:"History",eid:null===O||void 0===O||null===(n=O.emp_pay)||void 0===n?void 0:n._id,month:J||(null===(t=new Date("".concat(null===O||void 0===O?void 0:O.month)).toISOString())||void 0===t?void 0:t.substring(0,7))},skip:!(null!==O&&void 0!==O&&null!==(l=O.emp_pay)&&void 0!==l&&l._id)}),U=Y.financeOneEmployeeDetailHistory,W=Y.financeOneEmployeeDetailHistoryRefetch;return(0,i.useEffect)((function(){var e;null!==O&&void 0!==O&&null!==(e=O.emp_pay)&&void 0!==e&&e._id&&W()}),[null===O||void 0===O||null===(o=O.emp_pay)||void 0===o?void 0:o._id,W]),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(un.Z,{onClose:B,children:(0,p.jsxs)("div",{className:vn.Z.add_category_modal,style:{width:"35rem",minHeight:"10rem",maxHeight:"35rem",overflowY:"scroll",overflowX:"hidden"},children:[(0,p.jsx)("div",{className:vn.Z.add_category_modal_title,children:(0,p.jsxs)("section",{className:vn.Z.add_category_modal_title_left,children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:B,alt:""}),(0,p.jsxs)("section",{className:vn.Z.add_employee_staff,children:[(0,p.jsx)("img",{src:null!==O&&void 0!==O&&null!==(a=O.emp_pay)&&void 0!==a&&null!==(s=a.staff)&&void 0!==s&&s.staffProfilePhoto?"".concat(he.yI,"/").concat(null===O||void 0===O||null===(d=O.emp_pay)||void 0===d||null===(r=d.staff)||void 0===r?void 0:r.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff avatar"}),(0,p.jsxs)("div",{className:vn.Z.add_employee_staff_text,children:[(0,p.jsx)("h6",{children:"".concat(null!==(u=null===O||void 0===O||null===(v=O.emp_pay)||void 0===v||null===(m=v.staff)||void 0===m?void 0:m.staffFirstName)&&void 0!==u?u:""," \n            ").concat(null!==(f=null===O||void 0===O||null===(_=O.emp_pay)||void 0===_||null===(h=_.staff)||void 0===h?void 0:h.staffMiddleName)&&void 0!==f?f:"","\n            ").concat(null!==(x=null===O||void 0===O||null===(j=O.emp_pay)||void 0===j||null===(g=j.staff)||void 0===g?void 0:g.staffLastName)&&void 0!==x?x:""," ")}),(0,p.jsxs)("p",{children:[G("index_number")," :"," ",null!==(y=null===U||void 0===U||null===(Z=U.detail)||void 0===Z||null===(N=Z.staff)||void 0===N?void 0:N.staffROLLNO)&&void 0!==y?y:""]})]})]})]})}),(0,p.jsx)(sn.Z,{customStyle:{width:"100%"}}),(0,p.jsx)(Nn,{salaryData:null===U||void 0===U?void 0:U.detail,salaryFilter:null===U||void 0===U||null===(b=U.filter)||void 0===b?void 0:b[0],viewAs:"HISTORY"}),(0,p.jsxs)("section",{className:vn.Z.table_container,children:[(0,p.jsxs)("div",{className:vn.Z.table_heading,children:[(0,p.jsx)("h6",{children:G("particular")}),(0,p.jsx)("h6",{children:G("amount")})]}),(0,p.jsxs)("div",{className:vn.Z.table_body_list,children:[(0,p.jsx)("h6",{children:"Basic Salary"}),(0,p.jsx)("h6",{children:null===U||void 0===U||null===(S=U.filter)||void 0===S||null===(C=S[0])||void 0===C||null===(T=C.amount)||void 0===T?void 0:T.toFixed(2)})]}),(0,p.jsx)("div",{className:vn.Z.table_body,children:null===U||void 0===U||null===(w=U.filter)||void 0===w||null===(A=w[0])||void 0===A||null===(R=A.month_master)||void 0===R?void 0:R.map((function(e,n){return"Deduction"!==(null===e||void 0===e?void 0:e.month_master_status)?(0,p.jsxs)("div",{className:vn.Z.table_body_list,children:[(0,p.jsx)("h6",{children:null===e||void 0===e?void 0:e.month_master_name}),(0,p.jsx)("h6",{children:null===e||void 0===e?void 0:e.month_master_amount})]},n):""}))}),(0,p.jsx)("div",{className:vn.Z.table_body,children:(0,p.jsxs)("div",{className:vn.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.8)",borderTopWidth:"2px",borderTopStyle:"solid",borderBottomColor:"rgba(18, 18, 18, 0.8)",borderBottomWidth:"2px"},children:[(0,p.jsx)("h6",{className:vn.Z.fees_total,children:G("gross_total")}),(0,p.jsx)("h6",{className:vn.Z.fees_total,children:null===U||void 0===U||null===(E=U.filter)||void 0===E||null===(I=E[0])||void 0===I||null===(D=I.gross_salary)||void 0===D?void 0:D.toFixed(2)})]})}),(0,p.jsx)("div",{className:vn.Z.table_body,children:null===U||void 0===U||null===(F=U.filter)||void 0===F||null===(k=F[0])||void 0===k||null===(M=k.month_master)||void 0===M?void 0:M.map((function(e,n){return"Deduction"===(null===e||void 0===e?void 0:e.month_master_status)?(0,p.jsxs)("div",{className:vn.Z.table_body_list,children:[(0,p.jsx)("h6",{children:null===e||void 0===e?void 0:e.month_master_name}),(0,p.jsx)("h6",{children:null===e||void 0===e?void 0:e.month_master_amount})]},n):""}))}),(0,p.jsx)("div",{className:vn.Z.table_body,children:(0,p.jsxs)("div",{className:vn.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.8)",borderTopWidth:"2px",borderTopStyle:"solid",borderBottomColor:"rgba(18, 18, 18, 0.8)",borderBottomWidth:"2px"},children:[(0,p.jsx)("h6",{className:vn.Z.fees_total,children:G("net_total")}),(0,p.jsx)("h6",{className:vn.Z.fees_total,children:null===U||void 0===U||null===(L=U.filter)||void 0===L||null===(q=L[0])||void 0===q||null===(H=q.net_total)||void 0===H?void 0:H.toFixed(2)})]})})]})]})})})},An=function(e){var n,t,i,l,o,a,s,d,r,u,v,m,f,_,h,x=e.staff,j=e.setOpenEmployeeHistory,g=(0,c.$G)().t;return(0,p.jsxs)("section",{className:tn,onClick:function(){return j(x)},title:"View Payroll info",children:[(0,p.jsx)("img",{src:null!==x&&void 0!==x&&null!==(n=x.emp_pay)&&void 0!==n&&null!==(t=n.staff)&&void 0!==t&&t.staffProfilePhoto?"".concat(he.yI,"/").concat(null===x||void 0===x||null===(i=x.emp_pay)||void 0===i||null===(l=i.staff)||void 0===l?void 0:l.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff avatar"}),(0,p.jsxs)("div",{className:on,children:[(0,p.jsx)("h6",{children:"".concat(null!==(o=null===x||void 0===x||null===(a=x.emp_pay)||void 0===a||null===(s=a.staff)||void 0===s?void 0:s.staffFirstName)&&void 0!==o?o:""," \n").concat(null!==(d=null===x||void 0===x||null===(r=x.emp_pay)||void 0===r||null===(u=r.staff)||void 0===u?void 0:u.staffMiddleName)&&void 0!==d?d:"","\n").concat(null!==(v=null===x||void 0===x||null===(m=x.emp_pay)||void 0===m||null===(f=m.staff)||void 0===f?void 0:f.staffLastName)&&void 0!==v?v:""," ")}),(0,p.jsxs)("p",{children:[g("salary")," : ",g("rs")," ",(0,p.jsx)("span",{style:{fontWeight:"600"},children:null!==(_=null===x||void 0===x?void 0:x.salary)&&void 0!==_?_:""})," ","/- ",null!==(h=null===x||void 0===x?void 0:x.pay_mode)&&void 0!==h?h:""]})]})]})},Rn=function(){var e,n=(0,c.$G)().t,t=(0,i.useState)(!0),l=(0,d.Z)(t,2),o=l[0],a=l[1],s=(0,b.useSelector)((function(e){return e.financeChange.fid})),r=(0,i.useState)(""),u=(0,d.Z)(r,2),v=u[0],m=u[1],f=(0,P.Vl)({fid:s,skip:!s}),_=f.getPayrollSalaryHistoryList,h=f.getPayrollSalaryHistoryListRefetch;return(0,i.useEffect)((function(){s&&h()}),[s,h]),(0,i.useEffect)((function(){var e;(null!==_&&void 0!==_&&_.salary||0===(null===_||void 0===_||null===(e=_.salary)||void 0===e?void 0:e.length))&&a(!1)}),[null===_||void 0===_?void 0:_.salary]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h6",{style:{margin:"0.7rem 0"},children:n("payment_record_history")}),null===_||void 0===_||null===(e=_.salary)||void 0===e?void 0:e.map((function(e){return(0,p.jsx)(An,{staff:e,setOpenEmployeeHistory:m})})),v&&(0,p.jsx)(wn,{openEmployeeHistory:v,onClose:function(){return m("")}}),o&&(0,p.jsx)(Se.Z,{})]})},En=t(4942),In=t(59965),Dn=t(49886),Fn=function(e){var n,t=e.onClose,l=e.fid,o=e.onRefetchWhenConfirm,a=e.openAccountPayment,s=(0,c.$G)().t,r=(0,i.useState)(!1),v=(0,d.Z)(r,2),m=v[0],f=v[1],_=(0,i.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),h=(0,d.Z)(_,2),x=h[0],j=h[1],g=(0,i.useState)({msg:"",run:!1}),y=(0,d.Z)(g,2),Z=(y[0],y[1]),N=(0,i.useState)(""),b=(0,d.Z)(N,2),S=b[0],C=b[1],T=(0,P.dR)(),w=(0,d.Z)(T,1)[0],A=function(e){"fee_payment_mode"===e.target.name?j((function(n){var t;return(0,u.Z)((0,u.Z)({},n),{},(t={},(0,En.Z)(t,e.target.name,e.target.value),(0,En.Z)(t,"mode","By Cash"===e.target.value?"Offline":"Online"),(0,En.Z)(t,"fee_payment_mode",e.target.value),t))})):j((function(n){return(0,u.Z)((0,u.Z)({},n),{},(0,En.Z)({},e.target.name,e.target.value))}))};return(0,p.jsx)(un.Z,{onClose:t,children:(0,p.jsxs)("div",{className:vn.Z.add_category_modal,style:{width:"35rem",minHeight:"10rem",maxHeight:"35rem",overflowY:"scroll",overflowX:"hidden"},children:[(0,p.jsxs)("div",{className:vn.Z.add_category_modal_title,children:[(0,p.jsxs)("h6",{children:[s("account")," TDS ",s("payment")]}),(0,p.jsx)("img",{src:"/images/close-post-icon.svg",onClick:t,alt:""})]}),(0,p.jsx)(sn.Z,{customStyle:{width:"100%",marginTop:"0.7rem"}}),(0,p.jsxs)("div",{className:vn.Z.account_payment_row,children:[(0,p.jsxs)("h6",{children:[s("payable")," :"]}),(0,p.jsxs)("h6",{children:[s("rs"),". ",null!==(n=null===a||void 0===a?void 0:a.pay_amount)&&void 0!==n?n:0]})]}),(0,p.jsx)(Dn.Z,{paymentHeading:s("payment_type_mode"),onInputChange:A,errorShow:S.payment_type_mode}),(0,p.jsx)(cn.Z,{labelText:"".concat(s("amount")," "),name:"amount",type:"tel",value:x.amount,onChange:function(e){j((function(n){return(0,u.Z)((0,u.Z)({},n),{},{amount:+e.target.value,fee_payment_amount:+e.target.value})}))},placeholder:s("amoute_placeholder"),errorShow:S.fee_payment_amount}),(0,p.jsx)(In.Z,{labelText:s("select_date_of_transaction"),placeholder:s("please_select_date"),name:"transaction_date",value:x.transaction_date,onDateFunction:function(e){var n=null===e||void 0===e?void 0:e.split("/");j((function(e){return(0,u.Z)((0,u.Z)({},e),{},{transaction_date:"".concat(n[2],"-").concat(n[1],"-").concat(n[0])})}))},customStyleContainer:{position:"relative",marginTop:"0.5rem"},datePickerPosition:{position:"relative",top:"-20rem"},customStyleLabel:{marginTop:"7px"},errorShow:S.transaction_date}),"By Cash"===x.fee_payment_mode?"":(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(cn.Z,{labelText:s("bank_name_collect"),name:"fee_bank_name",type:"tel",value:x.fee_bank_name,onChange:A,placeholder:s("please_enter_bank_name"),customStyleLabel:{marginTop:"7px",marginBottom:"7px"}}),(0,p.jsx)(cn.Z,{labelText:s("banke_holder_name"),name:"fee_bank_holder",type:"tel",value:x.fee_bank_holder,onChange:A,placeholder:s("please_enter_name_of_bank_holder"),customStyleLabel:{marginTop:"7px",marginBottom:"7px"}}),(0,p.jsx)(cn.Z,{labelText:s("cheque_dd_neft"),name:"fee_utr_reference",type:"tel",value:x.fee_utr_reference,onChange:A,placeholder:s("please_enter_utr_ref_number"),customStyleLabel:{marginTop:"7px",marginBottom:"7px"}})]}),(0,p.jsx)("button",{className:vn.Z.set_fees_structure_btn,onClick:function(){var e=function(e){var n={};for(var t in e)"fee_bank_name"===t||"fee_bank_holder"===t||"fee_utr_reference"===t||"amount"===t||"mode"===t||(e[t]?"fee_payment_amount"===t&&(e[t]<=(null===a||void 0===a?void 0:a.pay_amount)||(Z({msg:"You can not enter amount greater than payable amount",run:!0}),n.remain="".concat(t," is required!"))):n[t]="".concat(t," is required!"));return n}(x),n=!1;for(var i in e){n=!0;break}n?C(e):(f(!0),""!==l?w({fid:l,mwid:null===a||void 0===a?void 0:a._id,accountHead:x}).then((function(e){o(),t(),f(!1)})).catch({}):f(!1))},style:{justifyContent:"center"},children:s("confirm")}),m&&(0,p.jsx)(pe.Z,{})]})})},Pn=function(e){var n,t,l,a,s,r=e.carryParentState,v=(0,c.$G)().t,m=(0,o.TH)(),f=(0,o.UO)(),_=(0,b.useSelector)((function(e){return e.financeChange.fid})),x=(0,N.YD)(),j=(0,d.Z)(x,2),g=j[0],y=j[1],S=(0,i.useState)(1),C=(0,d.Z)(S,2),T=C[0],A=C[1],R=(0,i.useState)(!0),E=(0,d.Z)(R,2),I=E[0],D=E[1],F=(0,i.useState)(!0),k=(0,d.Z)(F,2),M=k[0],L=k[1],q=(0,i.useState)(),H=(0,d.Z)(q,2),O=H[0],B=H[1],J=(0,i.useState)([]),G=(0,d.Z)(J,2),Y=G[0],U=G[1],W=(0,i.useState)(!1),V=(0,d.Z)(W,2),$=V[0],Q=V[1],z=(0,P.bG)({data:{pmid:null===(n=m.state)||void 0===n?void 0:n.pmid,page:T,limit:10},skip:!(null!==(t=m.state)&&void 0!==t&&t.pmid)}),X=z.getOnePayrollHeadMonth,K=z.getOnePayrollHeadMonthRefetch;(0,i.useEffect)((function(){var e;null!==(e=m.state)&&void 0!==e&&e.pmid&&(L(!0),K())}),[null===(l=m.state)||void 0===l?void 0:l.pmid,T,K]),(0,i.useEffect)((function(){y&&I&&A((function(e){return e+1}))}),[y,I]),(0,i.useEffect)((function(){var e,n;$?(U(null===X||void 0===X?void 0:X.all_month_wise),Q(!1),L(!1)):null!==X&&void 0!==X&&X.all_month_wise?(U((function(e){var n,t;return null===(n=(0,Z.Z)(new Set(null===(t=[].concat((0,Z.Z)(e),(0,Z.Z)(null===X||void 0===X?void 0:X.all_month_wise)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),L(!1)):0===(null===X||void 0===X||null===(n=X.all_month_wise)||void 0===n?void 0:n.length)&&L(!1);10===(null===X||void 0===X||null===(e=X.all_month_wise)||void 0===e?void 0:e.length)?D(!0):D(!1)}),[null===X||void 0===X?void 0:X.all_month_wise]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:We,children:[(0,p.jsx)("h6",{children:null!==(a=null===(s=m.state)||void 0===s?void 0:s.salaryHead)&&void 0!==a?a:""}),(0,p.jsx)(sn.Z,{customStyle:{width:"100%",marginBottom:"1rem"}}),null===Y||void 0===Y?void 0:Y.map((function(e,n){var t,i,l,o,a,s,d,c;return(null===Y||void 0===Y?void 0:Y.length)===n+1?(0,p.jsx)(h.rU,{to:"/q/".concat(f.username,"/member/finance?a=payroll&n=head&info&staff"),state:(0,u.Z)((0,u.Z)({},r),{},{mwid:null===e||void 0===e?void 0:e._id,salaryHead:null!==(t=null===(i=m.state)||void 0===i?void 0:i.salaryHead)&&void 0!==t?t:"",monthDate:null===e||void 0===e||null===(l=e.pay_month)||void 0===l?void 0:l.substring(0,7)}),children:(0,p.jsxs)("section",{className:Qe,ref:g,children:[(0,p.jsx)("img",{src:"/images/finance/calender-payroll-icon.svg",alt:"payroll"}),(0,p.jsxs)("div",{className:ze,children:[(0,p.jsxs)("div",{className:Xe,children:[(0,p.jsx)("h6",{children:w()(null===e||void 0===e?void 0:e.pay_month).format("MMMM yyyy")}),(0,p.jsxs)("p",{children:[v("rs"),". ",null===e||void 0===e?void 0:e.pay_amount]})]}),"Deduction"===(null===(o=m.state)||void 0===o?void 0:o.salaryType)&&("Not Paid"===(null===e||void 0===e?void 0:e.pay_status)?(0,p.jsx)("button",{className:Ke,onClick:function(n){n.preventDefault(),B(e)},children:v("pay")}):(0,p.jsx)("button",{className:en,children:v("receipt")}))]})]})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(h.rU,{to:"/q/".concat(f.username,"/member/finance?a=payroll&n=head&info&staff"),state:(0,u.Z)((0,u.Z)({},r),{},{mwid:null===e||void 0===e?void 0:e._id,salaryHead:null!==(a=null===(s=m.state)||void 0===s?void 0:s.salaryHead)&&void 0!==a?a:"",monthDate:null===e||void 0===e||null===(d=e.pay_month)||void 0===d?void 0:d.substring(0,7)}),children:(0,p.jsxs)("section",{className:Qe,children:[(0,p.jsx)("img",{src:"/images/finance/calender-payroll-icon.svg",alt:"payroll"}),(0,p.jsxs)("div",{className:ze,children:[(0,p.jsxs)("div",{className:Xe,children:[(0,p.jsx)("h6",{children:w()(null===e||void 0===e?void 0:e.pay_month).format("MMMM yyyy")}),(0,p.jsxs)("p",{children:[v("rs"),". ",null===e||void 0===e?void 0:e.pay_amount]})]}),"Deduction"===(null===(c=m.state)||void 0===c?void 0:c.salaryType)&&("Not Paid"===(null===e||void 0===e?void 0:e.pay_status)?(0,p.jsx)("button",{className:Ke,onClick:function(n){n.preventDefault(),B(e)},children:v("pay")}):(0,p.jsx)("button",{className:en,children:v("receipt")}))]})]})},null===e||void 0===e?void 0:e._id)})),M&&(0,p.jsx)(Se.Z,{})]}),O&&(0,p.jsx)(Fn,{onClose:function(){return B("")},fid:_,openAccountPayment:O,onRefetchWhenConfirm:function(){Q(!0),A(1),L(!0),K()}})]})},kn=function(){var e,n,t,l,a,s,r=(0,c.$G)().t,u=(0,o.TH)(),v=(0,N.YD)(),m=(0,d.Z)(v,2),f=m[0],_=m[1],h=(0,i.useState)(1),x=(0,d.Z)(h,2),j=x[0],g=x[1],y=(0,i.useState)(!0),b=(0,d.Z)(y,2),S=b[0],C=b[1],T=(0,i.useState)(!0),w=(0,d.Z)(T,2),A=w[0],R=w[1],E=(0,i.useState)(""),I=(0,d.Z)(E,2),D=I[0],F=I[1],k=(0,i.useState)([]),M=(0,d.Z)(k,2),L=M[0],q=M[1],H=(0,P.tu)({data:{mwid:null===(e=u.state)||void 0===e?void 0:e.mwid,page:j,limit:10},skip:!(null!==(n=u.state)&&void 0!==n&&n.mwid)}),O=H.getOnePayrollHeadEmployee,B=H.getOnePayrollHeadEmployeeRefetch;return(0,i.useEffect)((function(){var e;null!==(e=u.state)&&void 0!==e&&e.mwid&&(R(!0),B())}),[null===(t=u.state)||void 0===t?void 0:t.mwid,j,B]),(0,i.useEffect)((function(){_&&S&&g((function(e){return e+1}))}),[_,S]),(0,i.useEffect)((function(){var e,n;null!==O&&void 0!==O&&O.all_emp?(q((function(e){var n,t;return null===(n=(0,Z.Z)(new Set(null===(t=[].concat((0,Z.Z)(e),(0,Z.Z)(null===O||void 0===O?void 0:O.all_emp)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),R(!1)):0===(null===O||void 0===O||null===(e=O.all_emp)||void 0===e?void 0:e.length)&&R(!1),10===(null===O||void 0===O||null===(n=O.all_emp)||void 0===n?void 0:n.length)?C(!0):C(!1)}),[null===O||void 0===O?void 0:O.all_emp]),(0,p.jsxs)("div",{className:We,children:[(0,p.jsx)("h6",{children:null!==(l=null===(a=u.state)||void 0===a?void 0:a.salaryHead)&&void 0!==l?l:""}),(0,p.jsx)(sn.Z,{customStyle:{width:"100%",marginBottom:"1rem"}}),null===L||void 0===L?void 0:L.map((function(e,n){var t,i,l,o,a,s,d,c,u,v,m,_,h,x,j,g,y,Z,N,b,S,C,T,w,A,R;return(null===L||void 0===L?void 0:L.length)===n+1?(0,p.jsxs)("section",{className:nn,ref:f,style:{marginBottom:"0.7rem",cursor:"pointer"},onClick:function(){return F({emp_pay:null===e||void 0===e?void 0:e.emp})},title:"View Payroll History",children:[(0,p.jsx)("img",{src:null!==e&&void 0!==e&&null!==(t=e.emp)&&void 0!==t&&null!==(i=t.staff)&&void 0!==i&&i.staffProfilePhoto?"".concat(he.yI,"/").concat(null===e||void 0===e||null===(l=e.emp)||void 0===l||null===(o=l.staff)||void 0===o?void 0:o.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff"}),(0,p.jsxs)("div",{className:ln,children:[(0,p.jsx)("h6",{children:"".concat(null!==(a=null===e||void 0===e||null===(s=e.emp)||void 0===s||null===(d=s.staff)||void 0===d?void 0:d.staffFirstName)&&void 0!==a?a:""," \n            ").concat(null!==(c=null===e||void 0===e||null===(u=e.emp)||void 0===u||null===(v=u.staff)||void 0===v?void 0:v.staffMiddleName)&&void 0!==c?c:"","\n            ").concat(null!==(m=null===e||void 0===e||null===(_=e.emp)||void 0===_||null===(h=_.staff)||void 0===h?void 0:h.staffLastName)&&void 0!==m?m:""," ")}),(0,p.jsxs)("p",{children:[r("rs"),". ",null===e||void 0===e?void 0:e.amount]})]})]},null===e||void 0===e?void 0:e._id):(0,p.jsxs)("section",{className:nn,style:{marginBottom:"0.7rem",cursor:"pointer"},onClick:function(){return F({emp_pay:null===e||void 0===e?void 0:e.emp})},title:"View Payroll History",children:[(0,p.jsx)("img",{src:null!==e&&void 0!==e&&null!==(x=e.emp)&&void 0!==x&&null!==(j=x.staff)&&void 0!==j&&j.staffProfilePhoto?"".concat(he.yI,"/").concat(null===e||void 0===e||null===(g=e.emp)||void 0===g||null===(y=g.staff)||void 0===y?void 0:y.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff"}),(0,p.jsxs)("div",{className:ln,children:[(0,p.jsx)("h6",{children:"".concat(null!==(Z=null===e||void 0===e||null===(N=e.emp)||void 0===N||null===(b=N.staff)||void 0===b?void 0:b.staffFirstName)&&void 0!==Z?Z:""," \n            ").concat(null!==(S=null===e||void 0===e||null===(C=e.emp)||void 0===C||null===(T=C.staff)||void 0===T?void 0:T.staffMiddleName)&&void 0!==S?S:"","\n            ").concat(null!==(w=null===e||void 0===e||null===(A=e.emp)||void 0===A||null===(R=A.staff)||void 0===R?void 0:R.staffLastName)&&void 0!==w?w:""," ")}),(0,p.jsxs)("p",{children:[r("rs"),". ",null===e||void 0===e?void 0:e.amount]})]})]},null===e||void 0===e?void 0:e._id)})),A&&(0,p.jsx)(Se.Z,{}),D&&(0,p.jsx)(wn,{openEmployeeHistory:D,onClose:function(){return F("")},headMonth:null===(s=u.state)||void 0===s?void 0:s.monthDate})]})};var Mn=function(e){e.insId;var n,t,l,a,s,r,u,v,m,f=e.carryParentState,_=(0,c.$G)().t,h=(0,o.TH)(),x=[{name:_("payroll_staffs"),id:0,url:"member/finance?a=payroll"},{name:_("salary_heads"),id:1,url:"member/finance?a=payroll&n=head"},{name:_("history"),id:2,url:"member/finance?a=payroll&n=history"}],j=(0,i.useState)(0),g=(0,d.Z)(j,2),y=(g[0],g[1],(0,i.useState)(!1)),C=(0,d.Z)(y,2),T=(C[0],C[1],(0,i.useState)(!0)),w=(0,d.Z)(T,2),A=w[0],R=w[1],E=(0,i.useState)(1),I=(0,d.Z)(E,2),D=I[0],F=I[1],P=(0,N.YD)(),k=(0,d.Z)(P,2),M=(k[0],k[1]),L=(0,i.useState)([]),q=(0,d.Z)(L,2),H=q[0],O=q[1],B=(0,b.useSelector)((function(e){return e.financeChange})),J=(0,S.nP)({fid:null===B||void 0===B?void 0:B.fid,page:D,limit:10},{skip:!(null!==B&&void 0!==B&&B.fid)}),G=J.data,Y=J.refetch,U=(0,re.u)().scrollToTop;return(0,i.useEffect)((function(){U()}),[]),(0,i.useEffect)((function(){M&&A&&F((function(e){return e+1}))}),[M,A]),(0,i.useEffect)((function(){D&&null!==B&&void 0!==B&&B.fid&&Y()}),[D,null===B||void 0===B?void 0:B.fid,Y]),(0,i.useEffect)((function(){var e;null!==G&&void 0!==G&&G.allEmp&&O((0,Z.Z)(new Set([].concat((0,Z.Z)(H),(0,Z.Z)(null===G||void 0===G?void 0:G.allEmp))))),10===(null===G||void 0===G||null===(e=G.allEmp)||void 0===e?void 0:e.length)?R(!0):R(!1)}),[null===G||void 0===G?void 0:G.allEmp]),(0,p.jsxs)(p.Fragment,{children:["head&info"===(null===h||void 0===h||null===(n=h.search)||void 0===n?void 0:n.substring(13))||"head&info&staff"===(null===h||void 0===h||null===(t=h.search)||void 0===t?void 0:t.substring(13))?"":(0,p.jsxs)("div",{className:We,children:[(0,p.jsx)("h6",{children:_("payroll")}),(0,p.jsx)(dn.Z,{tabList:x,activeIndexTab:"payroll"===(null===h||void 0===h||null===(l=h.search)||void 0===l?void 0:l.substring(3))?0:"head"===(null===h||void 0===h||null===(a=h.search)||void 0===a?void 0:a.substring(13))?1:2,showAs:!0,customStyleTab:{width:"100%"},carryParentState:f,customStyleLink:{width:"33.3%"}}),(0,p.jsx)(sn.Z,{customStyle:{width:"100%"}})]}),"payroll"===(null===h||void 0===h||null===(s=h.search)||void 0===s?void 0:s.substring(3))&&(0,p.jsx)(Tn,{}),"head"===(null===h||void 0===h||null===(r=h.search)||void 0===r?void 0:r.substring(13))&&(0,p.jsx)(_n,{carryParentState:f}),"history"===(null===h||void 0===h||null===(u=h.search)||void 0===u?void 0:u.substring(13))&&(0,p.jsx)(Rn,{}),"head&info"===(null===h||void 0===h||null===(v=h.search)||void 0===v?void 0:v.substring(13))&&(0,p.jsx)(Pn,{carryParentState:f}),"head&info&staff"===(null===h||void 0===h||null===(m=h.search)||void 0===m?void 0:m.substring(13))&&(0,p.jsx)(kn,{carryParentState:f})]})},Ln=t(18455),qn="Inventry_inventory__ccDPE",Hn="Inventry_invetory_header__0ziM+",On="Inventry_back_icon__YwA9b",Bn="Inventry_invetory_header_title__qPVQh",Jn="Inventry_inventory_container__NcOtt",Gn="Inventry_inventory_list__FTTxE",Yn="Inventry_inventory_show_detail__0cu0V",Un="Inventry_goods_container_top__bKr8o",Wn="Inventry_goods_container__reWFJ",Vn="Inventry_goods_container_expense__d7AeS",$n="Inventry_goods_container_active__6GN5V",Qn="Inventry_goods_name_label__Yzstz",zn="Inventry_goods_name_container__GUfh6",Xn="Inventry_goods_name__Pbnmd",Kn="Inventry_goods_depriciating__7Ebp2",et="Inventry_goods_detail_top__c0ts9",nt="Inventry_goods_detail_top_image__M7YSb",tt="Inventry_goods_detail_toph6__oc2sE",it=function(e){var n=e.expnese,t=e.worth,i=(0,c.$G)().t;return(0,p.jsxs)("div",{className:Vn,children:[(0,p.jsxs)("div",{className:zn,children:[(0,p.jsx)("p",{className:Qn,children:i("paid_to")}),(0,p.jsxs)("p",{className:Qn,children:[null===n||void 0===n?void 0:n.expense_quantity," ",i("qty")]})]}),(0,p.jsxs)("div",{className:zn,children:[(0,p.jsx)("h6",{className:Xn,children:null===n||void 0===n?void 0:n.expensePaid}),(0,p.jsxs)("h6",{className:Xn,children:[i("rs"),". ",null===n||void 0===n?void 0:n.expenseAmount]})]}),(0,p.jsxs)("div",{className:zn,children:[(0,p.jsxs)("p",{className:Kn,children:[w()(null===n||void 0===n?void 0:n.createdAt).format("DD MMM yyyy"),","," ",w()(null===n||void 0===n?void 0:n.createdAt).format("LT")]}),(0,p.jsx)("p",{className:Kn,children:null===n||void 0===n?void 0:n.expenseAccount})]}),(0,p.jsx)("div",{className:zn,children:(0,p.jsxs)("p",{className:Kn,children:[i("worth_rs")," ",t||0]})})]})},lt=function(e){var n=e.inventryId,t=e.setInventryId,l=(0,i.useState)(1),o=(0,d.Z)(l,2),a=o[0],s=o[1],r=(0,i.useState)(!0),c=(0,d.Z)(r,2),u=c[0],v=c[1],m=(0,N.YD)(),f=(0,d.Z)(m,2),_=f[0],h=f[1],x=i.useState([]),j=(0,d.Z)(x,2),g=j[0],y=j[1],b=(0,i.useState)(!0),S=(0,d.Z)(b,2),C=S[0],T=S[1],w=(0,P.ab)({data:{inid:null===n||void 0===n?void 0:n._id,page:a,limit:10},skip:!(null!==n&&void 0!==n&&n._id)}),A=w.inventoryExpneseList,R=w.inventoryExpneseListRefetch,E=(0,re.u)().scrollToTop;return(0,i.useEffect)((function(){E()}),[]),(0,i.useEffect)((function(){h&&u&&s((function(e){return e+1}))}),[h,u]),(0,i.useEffect)((function(){null!==n&&void 0!==n&&n._id&&y([])}),[null===n||void 0===n?void 0:n._id]),(0,i.useEffect)((function(){null!==n&&void 0!==n&&n._id&&(T(!0),R())}),[a,null===n||void 0===n?void 0:n._id,R]),(0,i.useEffect)((function(){var e,n;if(null!==A&&void 0!==A&&A.all_expenses){var t=[].concat((0,Z.Z)(g),(0,Z.Z)(null===A||void 0===A?void 0:A.all_expenses)),i=(0,Z.Z)(new Set(t.map(JSON.stringify))).map(JSON.parse);y(i),T(!1)}else 0===(null===A||void 0===A||null===(e=A.all_expenses)||void 0===e?void 0:e.length)&&T(!1);10===(null===A||void 0===A||null===(n=A.all_expenses)||void 0===n?void 0:n.length)?v(!0):v(!1)}),[null===A||void 0===A?void 0:A.all_expenses]),(0,p.jsxs)("div",{className:Un,children:[(0,p.jsxs)("div",{className:et,children:[(0,p.jsx)("img",{src:"/images/left-back-icon.svg",alt:"back icon",className:nt,onClick:function(){return t("")}}),(0,p.jsx)("h6",{className:tt,children:null===n||void 0===n?void 0:n.goods_name})]}),null===g||void 0===g?void 0:g.map((function(e,i){return(null===g||void 0===g?void 0:g.length)===i+1?(0,p.jsx)("div",{ref:_,children:(0,p.jsx)(it,{expnese:e,setInventryId:t,inventryId:n,worth:null===n||void 0===n?void 0:n.goods_amount})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(it,{expnese:e,setInventryId:t,inventryId:n,worth:null===n||void 0===n?void 0:n.goods_amount},null===e||void 0===e?void 0:e._id)})),C&&(0,p.jsx)(Se.Z,{})]})},ot=function(e){var n=e.inventory,t=e.setInventryId,i=e.inventryId,l=(0,c.$G)().t;return(0,p.jsxs)("div",{className:(null===i||void 0===i?void 0:i._id)===(null===n||void 0===n?void 0:n._id)?"".concat($n," ").concat(Wn):Wn,onClick:function(){return t(n)},style:{cursor:"pointer"},children:[(0,p.jsx)("p",{className:Qn,children:l("goods_name")}),(0,p.jsxs)("div",{className:zn,children:[(0,p.jsx)("h6",{className:Xn,children:null===n||void 0===n?void 0:n.goods_name}),(0,p.jsxs)("h6",{className:Xn,children:[null===n||void 0===n?void 0:n.goods_quantity," ",l("qty")]})]}),(0,p.jsx)("div",{className:zn,children:(0,p.jsxs)("p",{className:Kn,children:[l("worth_rs")," ",null===n||void 0===n?void 0:n.goods_amount]})}),(0,p.jsxs)("h6",{className:Kn,children:[l("total_expenses"),": Rs. ",null===n||void 0===n?void 0:n.total_expenses]})]})},at=function(e){var n=e.setInventryId,t=e.inventryId,l=(0,b.useSelector)((function(e){return e.financeChange.fid})),o=(0,i.useState)(1),a=(0,d.Z)(o,2),s=a[0],r=a[1],c=(0,i.useState)(!0),u=(0,d.Z)(c,2),v=u[0],m=u[1],f=(0,N.YD)(),_=(0,d.Z)(f,2),h=_[0],x=_[1],j=i.useState([]),g=(0,d.Z)(j,2),y=g[0],S=g[1],C=(0,i.useState)(!0),T=(0,d.Z)(C,2),w=T[0],A=T[1],R=(0,P.cc)({data:{fid:l,page:s,limit:10},skip:!l}),E=R.inventoryList,I=R.inventoryListRefetch,D=(0,re.u)().scrollToTop;return(0,i.useEffect)((function(){D()}),[]),(0,i.useEffect)((function(){x&&v&&r((function(e){return e+1}))}),[x,v]),(0,i.useEffect)((function(){l&&(A(!0),I())}),[s,l,I]),(0,i.useEffect)((function(){var e,n;if(null!==E&&void 0!==E&&E.all_goods){var t=[].concat((0,Z.Z)(y),(0,Z.Z)(null===E||void 0===E?void 0:E.all_goods)),i=(0,Z.Z)(new Set(t.map(JSON.stringify))).map(JSON.parse);S(i),A(!1)}else 0===(null===E||void 0===E||null===(e=E.all_goods)||void 0===e?void 0:e.length)&&A(!1);10===(null===E||void 0===E||null===(n=E.all_goods)||void 0===n?void 0:n.length)?m(!0):m(!1)}),[null===E||void 0===E?void 0:E.all_goods]),(0,p.jsxs)("div",{className:Un,children:[null===y||void 0===y?void 0:y.map((function(e,i){return(null===y||void 0===y?void 0:y.length)===i+1?(0,p.jsx)("div",{ref:h,children:(0,p.jsx)(ot,{inventory:e,setInventryId:n,inventryId:t})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(ot,{inventory:e,setInventryId:n,inventryId:t},null===e||void 0===e?void 0:e._id)})),w&&(0,p.jsx)(Se.Z,{})]})},st=function(){var e=(0,c.$G)().t,n=(0,o.s0)(),t=(0,i.useState)(""),l=(0,d.Z)(t,2),a=l[0],s=l[1];return(0,p.jsxs)("div",{className:qn,children:[(0,p.jsxs)("div",{className:Hn,children:[(0,p.jsx)("img",{src:"/images/left-back-icon.svg",alt:"back arrow",className:On,onClick:function(){return n(-1)}}),(0,p.jsx)("h6",{className:Bn,children:e("inventry_assets")})]}),(0,p.jsxs)("div",{className:Jn,children:[(0,p.jsx)("div",{className:Gn,children:(0,p.jsx)(at,{setInventryId:s,inventryId:a})}),(0,p.jsx)("div",{className:Yn,children:a&&(0,p.jsx)(lt,{inventryId:a,setInventryId:s})})]})]})},dt=t(66232),rt="ExemptionUnrecovered_exemption__8i5yh",ct="ExemptionUnrecovered_exemption_header__ot0Bw",ut="ExemptionUnrecovered_back_icon__GiE-z",vt="ExemptionUnrecovered_exemption_header_title__9vznt",mt="ExemptionUnrecovered_exemption_card__ETWK4",ft="ExemptionUnrecovered_exemption_card_text__k+lcD",_t="ExemptionUnrecovered_exemption_card_name__pN8zF",ht="ExemptionUnrecovered_exemption_card_amount__QIzxO",pt="ExemptionUnrecovered_exemption_card_batch__UHdV6",xt="ExemptionUnrecovered_all_time_data__e5S6J",jt="ExemptionUnrecovered_total_amount__LsaWl",gt=function(){var e,n=(0,c.$G)().t,t=(0,o.s0)(),l=(0,b.useSelector)((function(e){return e.financeChange.fid})),a=(0,N.YD)(),s=(0,d.Z)(a,2),r=s[0],u=s[1],v=(0,i.useState)(1),m=(0,d.Z)(v,2),f=m[0],_=m[1],h=(0,i.useState)(!0),x=(0,d.Z)(h,2),j=x[0],g=x[1],y=(0,i.useState)(!0),S=(0,d.Z)(y,2),C=S[0],T=S[1],A=(0,i.useState)([]),R=(0,d.Z)(A,2),E=R[0],I=R[1],D=(0,P.BB)({data:{fid:l,page:f,limit:10},skip:!l}),F=D.getAllExemption,k=D.getAllExemptionRefetch,M=(0,re.u)().scrollToTop;return(0,i.useEffect)((function(){M()}),[]),(0,i.useEffect)((function(){l&&(T(!0),k())}),[l,f,k]),(0,i.useEffect)((function(){u&&j&&_((function(e){return e+1}))}),[u,j]),(0,i.useEffect)((function(){var e,n;null!==F&&void 0!==F&&F.all_exempt?(I((function(e){var n,t;return null===(n=(0,Z.Z)(new Set(null===(t=[].concat((0,Z.Z)(e),(0,Z.Z)(null===F||void 0===F?void 0:F.all_exempt)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),T(!1)):0===(null===F||void 0===F||null===(e=F.all_exempt)||void 0===e?void 0:e.length)&&T(!1),10===(null===F||void 0===F||null===(n=F.all_exempt)||void 0===n?void 0:n.length)?g(!0):g(!1)}),[null===F||void 0===F?void 0:F.all_exempt]),(0,p.jsxs)("div",{className:rt,children:[(0,p.jsxs)("div",{className:ct,children:[(0,p.jsx)("img",{src:"/images/left-back-icon.svg",alt:"back arrow",className:ut,onClick:function(){return t(-1)}}),(0,p.jsx)("h6",{className:vt,children:n("exemption_unrecovered")})]}),(0,p.jsx)("p",{className:xt,children:n("all_time_data")}),(0,p.jsxs)("h6",{className:jt,children:[n("total_amount")," ",n("rs")," ",null!==(e=null===F||void 0===F?void 0:F.all_exempt_count)&&void 0!==e?e:0]}),null===E||void 0===E?void 0:E.map((function(e,t){var i,l,o,a,s,d,c,u,v,m,f,_,h,x,j,g,y,Z,N,b,S,C,T,A;return(null===E||void 0===E?void 0:E.length)===t+1?(0,p.jsxs)("section",{ref:r,className:mt,children:[(0,p.jsx)("img",{src:null!==e&&void 0!==e&&null!==(i=e.student)&&void 0!==i&&i.studentProfilePhoto?"".concat(he.yI,"/").concat(null===e||void 0===e||null===(l=e.student)||void 0===l?void 0:l.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"student avatar"}),(0,p.jsxs)("div",{className:ft,children:[(0,p.jsxs)("div",{className:_t,children:[(0,p.jsx)("h6",{children:"".concat(null===e||void 0===e||null===(o=e.student)||void 0===o?void 0:o.studentFirstName," ").concat(null!==e&&void 0!==e&&null!==(a=e.student)&&void 0!==a&&a.studentMiddleName?null===e||void 0===e||null===(s=e.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null===e||void 0===e||null===(d=e.student)||void 0===d?void 0:d.studentLastName)}),(0,p.jsxs)("h6",{children:[n("rs")," ",null!==(c=null===e||void 0===e?void 0:e.fee_payment_amount)&&void 0!==c?c:0]})]}),(0,p.jsxs)("div",{className:ht,children:[(0,p.jsx)("p",{children:n("admission_fees_paid")}),(0,p.jsx)("p",{children:null!==(u=null===e||void 0===e||null===(v=e.student)||void 0===v?void 0:v.admissionPaidFeeCount)&&void 0!==u?u:0})]}),(0,p.jsxs)("div",{className:pt,children:[(0,p.jsx)("p",{children:"(".concat(null!==(m=null===e||void 0===e||null===(f=e.student)||void 0===f||null===(_=f.batches)||void 0===_?void 0:_.batchName)&&void 0!==m?m:"",")")}),(0,p.jsx)("p",{children:w()(null===e||void 0===e?void 0:e.fee_transaction_date).format("DD MMM yyyy")})]})]})]},null===e||void 0===e?void 0:e._id):(0,p.jsxs)("section",{className:mt,children:[(0,p.jsx)("img",{src:null!==e&&void 0!==e&&null!==(h=e.student)&&void 0!==h&&h.studentProfilePhoto?"".concat(he.yI,"/").concat(null===e||void 0===e||null===(x=e.student)||void 0===x?void 0:x.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"student avatar"}),(0,p.jsxs)("div",{className:ft,children:[(0,p.jsxs)("div",{className:_t,children:[(0,p.jsx)("h6",{children:"".concat(null===e||void 0===e||null===(j=e.student)||void 0===j?void 0:j.studentFirstName," ").concat(null!==e&&void 0!==e&&null!==(g=e.student)&&void 0!==g&&g.studentMiddleName?null===e||void 0===e||null===(y=e.student)||void 0===y?void 0:y.studentMiddleName:""," ").concat(null===e||void 0===e||null===(Z=e.student)||void 0===Z?void 0:Z.studentLastName)}),(0,p.jsxs)("h6",{children:[n("rs")," ",null!==(N=null===e||void 0===e?void 0:e.fee_payment_amount)&&void 0!==N?N:0]})]}),(0,p.jsxs)("div",{className:ht,children:[(0,p.jsx)("p",{children:n("admission_fees_paid")}),(0,p.jsx)("p",{children:null!==(b=null===e||void 0===e||null===(S=e.student)||void 0===S?void 0:S.admissionPaidFeeCount)&&void 0!==b?b:0})]}),(0,p.jsxs)("div",{className:pt,children:[(0,p.jsx)("p",{children:"(".concat(null!==(C=null===e||void 0===e||null===(T=e.student)||void 0===T||null===(A=T.batches)||void 0===A?void 0:A.batchName)&&void 0!==C?C:"",")")}),(0,p.jsx)("p",{children:w()(null===e||void 0===e?void 0:e.fee_transaction_date).format("DD MMM yyyy")})]})]})]},null===e||void 0===e?void 0:e._id)})),C&&(0,p.jsx)(Se.Z,{})]})},yt=t(44820),Zt=t(29017),Nt=function(e){var n=e.scholarship,t=e.carryParentState,i=e.callApi,l=(0,c.$G)().t;return(0,p.jsx)(E.Z,{carryParentState:(0,u.Z)((0,u.Z)({},t),{},{scholarship:n}),activeTab:"scholarship&n=".concat(null===n||void 0===n?void 0:n.scholarship_name),callApi:i,children:(0,p.jsxs)("div",{className:yt.Z.scholarship_card_container,children:[(0,p.jsx)("h6",{children:null===n||void 0===n?void 0:n.scholarship_name}),(0,p.jsx)("h6",{children:l("fund_corpus")}),(0,p.jsx)("h6",{children:l("total_corpus")}),(0,p.jsxs)("h6",{children:[" ",l("unused")," "]})]})})},bt=t(64712),St=function(){var e,n,t,l,a,s,r,u,v,m,f,_,h,x,j,g,y,b,S,C,T=(0,c.$G)().t,w=(0,o.s0)(),A=(0,o.TH)(),R=(0,N.YD)(),E=(0,d.Z)(R,2),I=E[0],D=E[1],F=(0,i.useState)(1),P=(0,d.Z)(F,2),k=P[0],M=P[1],L=(0,i.useState)(!0),q=(0,d.Z)(L,2),H=q[0],O=q[1],B=(0,i.useState)(!0),J=(0,d.Z)(B,2),G=J[0],Y=J[1],U=(0,i.useState)([]),W=(0,d.Z)(U,2),V=W[0],$=W[1],Q=(0,Zt.sb)({sid:null===A||void 0===A||null===(e=A.state)||void 0===e||null===(n=e.scholarship)||void 0===n?void 0:n._id,skip:!(null!==A&&void 0!==A&&null!==(t=A.state)&&void 0!==t&&null!==(l=t.scholarship)&&void 0!==l&&l._id)}),z=Q.getOneScholarshipAdmission,X=Q.getOneScholarshipAdmissionRefetch,K=(0,re.u)().scrollToTop;(0,i.useEffect)((function(){K()}),[]),(0,i.useEffect)((function(){var e,n;null!==A&&void 0!==A&&null!==(e=A.state)&&void 0!==e&&null!==(n=e.scholarship)&&void 0!==n&&n._id&&X()}),[null===A||void 0===A||null===(a=A.state)||void 0===a||null===(s=a.scholarship)||void 0===s?void 0:s._id,X]);var ee=(0,Zt.U3)({data:{sid:null===A||void 0===A||null===(r=A.state)||void 0===r||null===(u=r.scholarship)||void 0===u?void 0:u._id,page:k,limit:10},skip:!(null!==A&&void 0!==A&&null!==(v=A.state)&&void 0!==v&&null!==(m=v.scholarship)&&void 0!==m&&m._id)}),ne=ee.getScholarshipFundCorpusAdmission,te=ee.getScholarshipFundCorpusAdmissionRefetch;(0,i.useEffect)((function(){var e,n;null!==A&&void 0!==A&&null!==(e=A.state)&&void 0!==e&&null!==(n=e.scholarship)&&void 0!==n&&n._id&&(Y(!0),te())}),[null===A||void 0===A||null===(f=A.state)||void 0===f||null===(_=f.scholarship)||void 0===_?void 0:_._id,k,te]),(0,i.useEffect)((function(){D&&H&&M((function(e){return e+1}))}),[D,H]),(0,i.useEffect)((function(){var e,n;null!==ne&&void 0!==ne&&ne.all_incomes?($((function(e){var n,t;return null===(n=(0,Z.Z)(new Set(null===(t=[].concat((0,Z.Z)(e),(0,Z.Z)(null===ne||void 0===ne?void 0:ne.all_incomes)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),Y(!1)):0===(null===ne||void 0===ne||null===(e=ne.all_incomes)||void 0===e?void 0:e.length)&&Y(!1),10===(null===ne||void 0===ne||null===(n=ne.all_incomes)||void 0===n?void 0:n.length)?O(!0):O(!1)}),[null===ne||void 0===ne?void 0:ne.all_incomes]);return(0,p.jsxs)("div",{className:yt.Z.moderator_container,style:{marginTop:"0"},children:[(0,p.jsxs)("section",{className:yt.Z.moderator_container_title,children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){w(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,p.jsx)("div",{className:yt.Z.with_search,children:(0,p.jsx)("h6",{children:null===A||void 0===A||null===(h=A.state)||void 0===h||null===(x=h.scholarship)||void 0===x?void 0:x.scholarship_name})})]}),(0,p.jsx)(sn.Z,{customStyle:{width:"100%",marginBottom:"1rem"}}),(0,p.jsxs)("div",{className:yt.Z.refund_list,children:[(0,p.jsxs)("section",{className:yt.Z.unused_container,children:[(0,p.jsx)("img",{src:"/images/rupee-symobl-icon.svg",alt:"rupee symobl"}),(0,p.jsxs)("div",{className:yt.Z.unused_container_text,children:[(0,p.jsxs)("div",{className:yt.Z.unused_container_text_inner,children:[(0,p.jsx)("h6",{children:T("unused_fund")}),(0,p.jsxs)("h6",{children:[T("rs")," ",null!==(j=null===z||void 0===z||null===(g=z.scholar)||void 0===g||null===(y=g.fund_corpus)||void 0===y?void 0:y.unused_corpus)&&void 0!==j?j:0]})]}),(0,p.jsxs)("div",{className:yt.Z.unused_container_text_inner,children:[(0,p.jsx)("p",{children:T("total_corpus_corpus")}),(0,p.jsxs)("p",{children:[T("rs")," "," "," ",null!==(b=null===z||void 0===z||null===(S=z.scholar)||void 0===S||null===(C=S.fund_corpus)||void 0===C?void 0:C.total_corpus)&&void 0!==b?b:0]})]})]})]}),(0,p.jsx)("h6",{className:yt.Z.intake_history,children:T("fund_corpus_intake_history")}),null===V||void 0===V?void 0:V.map((function(e,n){return(null===V||void 0===V?void 0:V.length)===n+1?(0,p.jsx)("div",{ref:I,children:(0,p.jsx)(bt.Z,{corpus:e})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(bt.Z,{corpus:e},null===e||void 0===e?void 0:e._id)})),G&&(0,p.jsx)(Se.Z,{})]})]})},Ct=function(e){var n=e.admissionId,t=e.carryParentState,l=(0,N.YD)(),o=(0,d.Z)(l,2),a=o[0],s=o[1],r=(0,i.useState)(1),c=(0,d.Z)(r,2),u=c[0],v=c[1],m=(0,i.useState)(!0),f=(0,d.Z)(m,2),_=f[0],h=f[1],x=(0,i.useState)(!0),j=(0,d.Z)(x,2),g=j[0],y=j[1],b=(0,i.useState)([]),S=(0,d.Z)(b,2),C=S[0],T=S[1],w=(0,Zt.Yw)({data:{aid:n,page:u,limit:10,status:"Completed"},skip:!n}),A=w.getScholarshipListAdmission,R=w.getScholarshipListAdmissionRefetch,E=(0,re.u)().scrollToTop;return(0,i.useEffect)((function(){E()}),[]),(0,i.useEffect)((function(){n&&(y(!0),R())}),[n,u,R]),(0,i.useEffect)((function(){s&&_&&v((function(e){return e+1}))}),[s,_]),(0,i.useEffect)((function(){var e,n;null!==A&&void 0!==A&&A.all_scholar?(T((function(e){var n,t;return null===(n=(0,Z.Z)(new Set(null===(t=[].concat((0,Z.Z)(e),(0,Z.Z)(null===A||void 0===A?void 0:A.all_scholar)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),y(!1)):0===(null===A||void 0===A||null===(e=A.all_scholar)||void 0===e?void 0:e.length)&&y(!1),10===(null===A||void 0===A||null===(n=A.all_scholar)||void 0===n?void 0:n.length)?h(!0):h(!1)}),[null===A||void 0===A?void 0:A.all_scholar]),(0,p.jsxs)("div",{className:yt.Z.refund_list,children:[null===C||void 0===C?void 0:C.map((function(e,n){return(null===C||void 0===C?void 0:C.length)===n+1?(0,p.jsx)("div",{ref:a,children:(0,p.jsx)(Nt,{scholarship:e,carryParentState:t})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(Nt,{scholarship:e,carryParentState:t},null===e||void 0===e?void 0:e._id)})),g&&(0,p.jsx)(Se.Z,{})]})},Tt=function(e){var n,t,l,a,s,r,u,v,m,f,_,h,x,j,g,y,S,C=e.carryParentState,T=e.callApi,w=(0,c.$G)().t,A=(0,b.useSelector)((function(e){return e.financeChange.fid})),R=(0,o.s0)(),E=(0,o.TH)(),I=[{name:w("scholarship"),id:0},{name:w("completed"),id:1}],D=(0,i.useState)(0),F=(0,d.Z)(D,2),k=F[0],M=F[1],L=(0,N.YD)(),q=(0,d.Z)(L,2),H=q[0],O=q[1],B=(0,i.useState)(1),J=(0,d.Z)(B,2),G=J[0],Y=J[1],U=(0,i.useState)(!0),W=(0,d.Z)(U,2),V=W[0],$=W[1],Q=(0,i.useState)(!0),z=(0,d.Z)(Q,2),X=z[0],K=z[1],ee=(0,i.useState)([]),ne=(0,d.Z)(ee,2),te=ne[0],ie=ne[1],le=(0,P.OS)({data:{fid:A,mod_id:""},skip:!A}),oe=le.financeDetailManager,ae=le.financeDetailManagerRefetch,se=(0,re.u)().scrollToTop;(0,i.useEffect)((function(){se()}),[]),(0,i.useEffect)((function(){A&&ae()}),[ae,A]);var de=(0,Zt.Yw)({data:{aid:null===oe||void 0===oe||null===(n=oe.finance)||void 0===n||null===(t=n.institute)||void 0===t||null===(l=t.admissionDepart)||void 0===l?void 0:l[0],page:G,limit:10,status:"Not Completed"},skip:!(null!==oe&&void 0!==oe&&null!==(a=oe.finance)&&void 0!==a&&null!==(s=a.institute)&&void 0!==s&&null!==(r=s.admissionDepart)&&void 0!==r&&r[0])}),ce=de.getScholarshipListAdmission,ue=de.getScholarshipListAdmissionRefetch;(0,i.useEffect)((function(){var e,n,t;null!==oe&&void 0!==oe&&null!==(e=oe.finance)&&void 0!==e&&null!==(n=e.institute)&&void 0!==n&&null!==(t=n.admissionDepart)&&void 0!==t&&t[0]&&(K(!0),ue())}),[null===oe||void 0===oe||null===(u=oe.finance)||void 0===u||null===(v=u.institute)||void 0===v||null===(m=v.admissionDepart)||void 0===m?void 0:m[0],G,ue]),(0,i.useEffect)((function(){O&&V&&Y((function(e){return e+1}))}),[O,V]),(0,i.useEffect)((function(){var e,n;null!==ce&&void 0!==ce&&ce.all_scholar?(ie((function(e){var n,t;return null===(n=(0,Z.Z)(new Set(null===(t=[].concat((0,Z.Z)(e),(0,Z.Z)(null===ce||void 0===ce?void 0:ce.all_scholar)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),K(!1)):0===(null===ce||void 0===ce||null===(e=ce.all_scholar)||void 0===e?void 0:e.length)&&K(!1),10===(null===ce||void 0===ce||null===(n=ce.all_scholar)||void 0===n?void 0:n.length)?$(!0):$(!1)}),[null===ce||void 0===ce?void 0:ce.all_scholar]);return(0,p.jsxs)(p.Fragment,{children:["scholarship"===(null===E||void 0===E||null===(f=E.search)||void 0===f?void 0:f.substring(3))&&(0,p.jsxs)("div",{className:yt.Z.moderator_container,children:[(0,p.jsxs)("section",{className:yt.Z.moderator_container_title,children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){R(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,p.jsx)("h6",{children:w("scholership_gov_grant")})]}),(0,p.jsx)(sn.Z,{customStyle:{width:"100%"}}),(0,p.jsx)(dn.Z,{tabList:I,activeIndexTab:k,setActiveIndexTab:M,showAs:!1,customStyleTab:{width:"50%"}}),(0,p.jsx)(sn.Z,{customStyle:{width:"100%"}}),0===k&&(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:yt.Z.refund_list,children:[null===te||void 0===te?void 0:te.map((function(e,n){return(null===te||void 0===te?void 0:te.length)===n+1?(0,p.jsx)("div",{ref:H,children:(0,p.jsx)(Nt,{scholarship:e,carryParentState:C,callApi:T})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(Nt,{scholarship:e,carryParentState:C,callApi:T},null===e||void 0===e?void 0:e._id)})),X&&(0,p.jsx)(Se.Z,{})]})}),1===k&&(0,p.jsx)(Ct,{admissionId:null===oe||void 0===oe||null===(_=oe.finance)||void 0===_||null===(h=_.institute)||void 0===h||null===(x=h.admissionDepart)||void 0===x?void 0:x[0],carryParentState:C})]}),"scholarship"!==(null===E||void 0===E||null===(j=E.search)||void 0===j?void 0:j.substring(3))&&(0,p.jsx)(St,{admissionId:null===oe||void 0===oe||null===(g=oe.finance)||void 0===g||null===(y=g.institute)||void 0===y||null===(S=y.admissionDepart)||void 0===S?void 0:S[0]})]})},wt=t(28779),At=t(8802),Rt=function(e){var n=e.refund_amount,t=e.refund_student_count,l=(0,c.$G)().t,o=(0,i.useState)(!0),a=(0,d.Z)(o,2),s=a[0],r=a[1],u=(0,i.useState)(""),v=(0,d.Z)(u,2),m=v[0],f=v[1],_=(0,i.useState)(1),h=(0,d.Z)(_,2),x=h[0],j=h[1],g=(0,N.YD)(),y=(0,d.Z)(g,2),S=y[0],C=y[1],T=(0,i.useState)([]),A=(0,d.Z)(T,2),R=A[0],E=A[1],I=(0,i.useState)(!0),D=(0,d.Z)(I,2),F=D[0],k=D[1],M=(0,i.useState)(!1),L=(0,d.Z)(M,2),q=L[0],H=L[1],O=(0,b.useSelector)((function(e){return e.financeChange.fid})),B=(0,P.C9)({data:{fid:O,page:x,limit:10,search:m},skip:!O}),J=B.getAllDepositRefundByFinance,G=B.getAllDepositRefundByFinanceRefetch,Y=(0,re.u)().scrollToTop;(0,i.useEffect)((function(){Y()}),[]),(0,i.useEffect)((function(){C&&s&&j((function(e){return e+1}))}),[C,s]),(0,i.useEffect)((function(){O&&G()}),[x,O,G]),(0,i.useEffect)((function(){var e,n;m?(E(null===J||void 0===J?void 0:J.all_receipts),k(!1)):q?(E(null===J||void 0===J?void 0:J.all_receipts),H(!1),k(!1)):null!==J&&void 0!==J&&J.all_receipts?(E((function(e){var n,t;return null===(n=(0,Z.Z)(new Set(null===(t=[].concat((0,Z.Z)(e),(0,Z.Z)(null===J||void 0===J?void 0:J.all_receipts)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),k(!1)):0===(null===J||void 0===J||null===(n=J.all_receipts)||void 0===n?void 0:n.length)&&k(!1);10===(null===J||void 0===J||null===(e=J.all_receipts)||void 0===e?void 0:e.length)?r(!0):r(!1)}),[null===J||void 0===J?void 0:J.all_receipts]);var U=(0,i.useCallback)((0,jn.debounce)((function(e){return f(e)}),500),[]);return(0,p.jsxs)("div",{children:[(0,p.jsxs)("section",{className:At.Z.unused_container,children:[(0,p.jsx)("img",{src:"/images/rupee-symobl-icon.svg",alt:"rupee symobl"}),(0,p.jsxs)("div",{className:At.Z.unused_container_text,children:[(0,p.jsxs)("div",{className:At.Z.unused_container_text_inner,children:[(0,p.jsx)("h6",{children:l("total_refunded")}),(0,p.jsxs)("h6",{children:[l("rs")," ",null!==n&&void 0!==n?n:0]})]}),(0,p.jsx)("div",{className:At.Z.unused_container_text_inner,children:(0,p.jsxs)("p",{children:[l("deposit_of")," ",null!==t&&void 0!==t?t:0," ",l("deposit_student")]})})]})]}),(0,p.jsxs)("div",{className:At.Z.with_search,style:{marginBottom:"1rem"},children:[(0,p.jsx)("h6",{children:l("refunded_history")}),(0,p.jsx)("section",{className:At.Z.search_container,children:(0,p.jsxs)("div",{className:At.Z.search_container_input,children:[(0,p.jsx)("img",{className:At.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,p.jsx)("input",{type:"text",placeholder:"Search",onChange:function(e){U(e.target.value)}})]})})]}),(0,p.jsxs)("div",{className:At.Z.refund_list,children:[null===R||void 0===R?void 0:R.map((function(e,n){var t,i,o,a,s,d,r,c,u,v,m,f,_,h,x,j,g,y,Z,N;return(null===R||void 0===R?void 0:R.length)===n+1?(0,p.jsxs)("div",{className:At.Z.corpus_card,ref:S,children:[(0,p.jsxs)("h6",{style:{textAlign:"center"},children:[l("invoice_number"),null!==(t=null===e||void 0===e?void 0:e.invoice_count)&&void 0!==t?t:""]}),(0,p.jsx)("p",{className:At.Z.recieve_from,children:l("paid_to")}),(0,p.jsxs)("div",{className:At.Z.unused_container_text_inner,children:[(0,p.jsx)("h6",{children:"".concat(null!==(i=null===e||void 0===e||null===(o=e.student)||void 0===o?void 0:o.studentFirstName)&&void 0!==i?i:""," ").concat(null!==(a=null===e||void 0===e||null===(s=e.student)||void 0===s?void 0:s.studentMiddleName)&&void 0!==a?a:""," ").concat(null!==(d=null===e||void 0===e||null===(r=e.student)||void 0===r?void 0:r.studentLastName)&&void 0!==d?d:"")}),(0,p.jsxs)("h6",{children:[l("rs")," ",null!==(c=null===e||void 0===e?void 0:e.fee_payment_amount)&&void 0!==c?c:0]})]}),(0,p.jsxs)("div",{className:At.Z.unused_container_text_inner,children:[(0,p.jsxs)("p",{style:{color:"rgba(18, 18, 18, 0.8)"},children:[null===(u=w()(null===e||void 0===e?void 0:e.created_at))||void 0===u?void 0:u.format("DD MMM yyyy"),","," ",null===(v=w()(null===e||void 0===e?void 0:e.created_at))||void 0===v?void 0:v.format("LT")]}),(0,p.jsx)("p",{style:{color:"rgba(18, 18, 18, 0.8)"},children:"Online"===(null===e||void 0===e?void 0:e.fee_payment_mode)?"Bank":"Cash"})]})]},n):(0,p.jsxs)("div",{className:At.Z.corpus_card,children:[(0,p.jsxs)("h6",{style:{textAlign:"center"},children:[l("invoice_number"),null!==(m=null===e||void 0===e?void 0:e.invoice_count)&&void 0!==m?m:""]}),(0,p.jsx)("p",{className:At.Z.recieve_from,children:l("paid_to")}),(0,p.jsxs)("div",{className:At.Z.unused_container_text_inner,children:[(0,p.jsx)("h6",{children:"".concat(null!==(f=null===e||void 0===e||null===(_=e.student)||void 0===_?void 0:_.studentFirstName)&&void 0!==f?f:""," ").concat(null!==(h=null===e||void 0===e||null===(x=e.student)||void 0===x?void 0:x.studentMiddleName)&&void 0!==h?h:""," ").concat(null!==(j=null===e||void 0===e||null===(g=e.student)||void 0===g?void 0:g.studentLastName)&&void 0!==j?j:"")}),(0,p.jsxs)("h6",{children:[l("rs")," ",null!==(y=null===e||void 0===e?void 0:e.fee_payment_amount)&&void 0!==y?y:0]})]}),(0,p.jsxs)("div",{className:At.Z.unused_container_text_inner,children:[(0,p.jsxs)("p",{style:{color:"rgba(18, 18, 18, 0.8)"},children:[null===(Z=w()(null===e||void 0===e?void 0:e.created_at))||void 0===Z?void 0:Z.format("DD MMM yyyy"),","," ",null===(N=w()(null===e||void 0===e?void 0:e.created_at))||void 0===N?void 0:N.format("LT")]}),(0,p.jsx)("p",{style:{color:"rgba(18, 18, 18, 0.8)"},children:"Online"===(null===e||void 0===e?void 0:e.fee_payment_mode)?"Bank":"Cash"})]})]},n)})),F&&(0,p.jsx)(Se.Z,{})]})]})},Et=function(e){var n,t=e.onClose,l=e.fmid,o=e.onRefecthParent,a=(0,c.$G)().t,s=(0,N.YD)(),r=(0,d.Z)(s,2),v=r[0],m=r[1],f=(0,i.useState)(1),_=(0,d.Z)(f,2),h=_[0],x=_[1],j=(0,i.useState)(!0),g=(0,d.Z)(j,2),y=g[0],b=g[1],S=(0,i.useState)(!0),C=(0,d.Z)(S,2),T=C[0],w=C[1],A=(0,i.useState)([]),R=(0,d.Z)(A,2),E=R[0],I=R[1],D=(0,i.useState)(""),F=(0,d.Z)(D,2),k=F[0],M=F[1],L=(0,i.useState)(""),q=(0,d.Z)(L,2),H=q[0],O=q[1],B=(0,i.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),J=(0,d.Z)(B,2),G=J[0],Y=J[1],U=(0,i.useState)(""),W=(0,d.Z)(U,2),V=W[0],$=W[1],Q=(0,i.useState)(!1),z=(0,d.Z)(Q,2),X=z[0],K=z[1],ee=(0,i.useState)({msg:"",run:!1}),ne=(0,d.Z)(ee,2),te=ne[0],ie=ne[1],le=(0,i.useState)(!1),oe=(0,d.Z)(le,2),ae=oe[0],se=oe[1],de=(0,P.bC)(),re=(0,d.Z)(de,1)[0],ce=(0,P._7)({data:{search:k,page:h,limit:10,fmid:l},skip:!l}),ue=ce.getMasterDepositAllByFinance,ve=ce.getMasterDepositAllByFinanceRefetch;(0,i.useEffect)((function(){l&&(w(!0),ve())}),[l,h,k,ve]),(0,i.useEffect)((function(){m&&y&&x((function(e){return e+1}))}),[m,y]),(0,i.useEffect)((function(){var e,n;k?(I(null===ue||void 0===ue?void 0:ue.all_students),w(!1)):X?(I(null===ue||void 0===ue?void 0:ue.all_students),K(!1),w(!1)):null!==ue&&void 0!==ue&&ue.all_students?(I((function(e){var n,t;return null===(n=(0,Z.Z)(new Set(null===(t=[].concat((0,Z.Z)(e),(0,Z.Z)(null===ue||void 0===ue?void 0:ue.all_students)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),w(!1)):0===(null===ue||void 0===ue||null===(n=ue.all_students)||void 0===n?void 0:n.length)&&w(!1);10===(null===ue||void 0===ue||null===(e=ue.all_students)||void 0===e?void 0:e.length)?b(!0):b(!1)}),[null===ue||void 0===ue?void 0:ue.all_students]);var me=(0,i.useCallback)((0,jn.debounce)((function(e){return M(e)}),500),[]),fe=function(){O("")};return(0,p.jsxs)(un.Z,{onClose:t,children:[!H&&(0,p.jsxs)("div",{className:At.Z.student_container_modal,children:[(0,p.jsx)("div",{className:At.Z.with_search,style:{marginTop:"1rem",width:"100%",border:"0.4px solid rgba(0, 0, 0, 0.15)",borderRadius:"6px",marginBottom:"0.3rem"},children:(0,p.jsxs)("div",{className:At.Z.search_container_input,style:{width:"100%"},children:[(0,p.jsx)("img",{className:At.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,p.jsx)("input",{type:"text",placeholder:"Search Student...",style:{width:"100%"},onChange:function(e){me(e.target.value)}})]})}),null===E||void 0===E?void 0:E.map((function(e,n){var t,i,l,o,s,d,r,c;return(null===E||void 0===E?void 0:E.length)===n+1?(0,p.jsxs)("section",{className:At.Z.student_container,title:"Refund deposit",ref:v,onClick:function(){return O(e)},children:[(0,p.jsx)("img",{src:"1"!==e.photoId?"".concat(he.yI,"/").concat(null===e||void 0===e?void 0:e.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"student avatar"}),(0,p.jsxs)("div",{className:At.Z.conainter_main,children:[(0,p.jsxs)("div",{className:At.Z.student_container_name,children:[(0,p.jsx)("h6",{children:"".concat(null===e||void 0===e?void 0:e.studentFirstName," ").concat(null!==e&&void 0!==e&&e.studentMiddleName?null===e||void 0===e?void 0:e.studentMiddleName:""," ").concat(null===e||void 0===e?void 0:e.studentLastName)}),(0,p.jsxs)("h6",{className:At.Z.student_container_gr,children:[a("rs"),". ",null!==(t=null===e||void 0===e?void 0:e.deposit_pending_amount)&&void 0!==t?t:0]})]}),(0,p.jsxs)("div",{className:At.Z.student_container_name,children:[(0,p.jsxs)("h6",{children:[a("gr_number"),null!==(i=null===e||void 0===e?void 0:e.studentGRNO)&&void 0!==i?i:""," ",", ",null!==(l=null===e||void 0===e||null===(o=e.department)||void 0===o?void 0:o.dName)&&void 0!==l?l:""]}),(0,p.jsx)("p",{className:At.Z.student_container_gr,children:a("pending_deposit")})]})]})]},null===e||void 0===e?void 0:e._id):(0,p.jsxs)("section",{className:At.Z.student_container,title:"Refund deposit",onClick:function(){return O(e)},children:[(0,p.jsx)("img",{src:"1"!==e.photoId?"".concat(he.yI,"/").concat(null===e||void 0===e?void 0:e.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"student avatar"}),(0,p.jsxs)("div",{className:At.Z.conainter_main,children:[(0,p.jsxs)("div",{className:At.Z.student_container_name,children:[(0,p.jsx)("h6",{children:"".concat(null===e||void 0===e?void 0:e.studentFirstName," ").concat(null!==e&&void 0!==e&&e.studentMiddleName?null===e||void 0===e?void 0:e.studentMiddleName:""," ").concat(null===e||void 0===e?void 0:e.studentLastName)}),(0,p.jsxs)("h6",{className:At.Z.student_container_gr,children:[a("rs"),". ",null!==(s=null===e||void 0===e?void 0:e.deposit_pending_amount)&&void 0!==s?s:0]})]}),(0,p.jsxs)("div",{className:At.Z.student_container_name,children:[(0,p.jsxs)("h6",{children:[a("gr_number"),null!==(d=null===e||void 0===e?void 0:e.studentGRNO)&&void 0!==d?d:""," ",", ",null!==(r=null===e||void 0===e||null===(c=e.department)||void 0===c?void 0:c.dName)&&void 0!==r?r:""]}),(0,p.jsx)("p",{className:At.Z.student_container_gr,children:a("pending_deposit")})]})]})]},null===e||void 0===e?void 0:e._id)})),T&&(0,p.jsx)(Se.Z,{})]}),H&&(0,p.jsxs)("div",{className:At.Z.student_container_modal,children:[(0,p.jsxs)("section",{className:At.Z.moderator_container_title,children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:fe,alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,p.jsx)("div",{className:At.Z.with_search,children:(0,p.jsx)("h6",{children:a("refund_deposit")})})]}),(0,p.jsx)(sn.Z,{customStyle:{width:"100%"}}),(0,p.jsxs)("div",{className:At.Z.unused_container_text_inner,style:{marginTop:"1rem"},children:[(0,p.jsx)("h6",{children:a("pending_deposit")}),(0,p.jsxs)("h6",{children:[a("rs")," ",null!==(n=null===H||void 0===H?void 0:H.deposit_pending_amount)&&void 0!==n?n:0]})]}),(0,p.jsx)(Dn.Z,{paymentHeading:a("payment_type_mode"),paymentHeadingPlaceholder:a("refund_cash_bank"),onInputChange:function(e){Y((function(n){return(0,u.Z)((0,u.Z)({},n),{},{mode:"By Bank"===e?"Online":"Offline",fee_payment_mode:e})}))},errorShow:V.fee_payment_mode,openAs:"DEPOSIT_REFUND_LIST"}),(0,p.jsx)(cn.Z,{labelText:a("amount"),name:"fee_payment_amount",type:"tel",value:null===G||void 0===G?void 0:G.fee_payment_amount,onChange:function(e){Y((function(n){return(0,u.Z)((0,u.Z)({},n),{},{amount:+e.target.value,fee_payment_amount:+e.target.value})}))},placeholder:a("please_enter_amount_paid"),errorShow:V.fee_payment_amount}),(0,p.jsx)("button",{className:At.Z.applicable_to_btn,style:{marginTop:"2rem",marginBottom:"1rem",justifyContent:"center"},onClick:function(){var e=function(e){var n={};for(var t in e)"fee_bank_name"===t||"fee_bank_holder"===t||"fee_utr_reference"===t||"amount"===t||"transaction_date"===t||"mode"===t||(e[t]?"fee_payment_amount"===t&&e[t]>(null===H||void 0===H?void 0:H.deposit_pending_amount)&&(ie({msg:"You can not enter amount greater than Deposit amount",run:!0}),n.fee_payment_amount="".concat(t," is required!")):n[t]="".concat(t," is required!"));return n}(G),n=!1;for(var t in e){n=!0;break}n?$(e):(se((function(e){return!e})),re({fmid:l,sid:null===H||void 0===H?void 0:H._id,refundDeposit:G}).then((function(){x(1),K(!0),ve(),o(),fe(),se((function(e){return!e}))})).catch({}))},children:a("confirm")}),ae&&(0,p.jsx)(pe.Z,{})]}),(0,p.jsx)(pn.Ch,{msg:te.msg,run:te.run,setRun:function(){return ie({msg:"",run:!1})},postiton:"bottom",type:"error"})]})},It=function(){var e,n,t,l,a,s,r,u=(0,c.$G)().t,v=(0,o.s0)(),m=(0,b.useSelector)((function(e){return e.financeChange.fid})),f=(0,i.useState)(!1),_=(0,d.Z)(f,2),h=_[0],x=_[1],j=[{name:u("deposit_collection"),id:0},{name:u("deposit_refund"),id:1},{name:u("deposit_data_file"),id:3}],g=(0,i.useState)(0),y=(0,d.Z)(g,2),Z=y[0],N=y[1],S=(0,P.Ie)({fid:m,skip:!m}),C=S.getMasterDepositByFinance,T=S.getMasterDepositByFinanceRefetch,w=(0,re.u)().scrollToTop;(0,i.useEffect)((function(){w()}),[]),(0,i.useEffect)((function(){m&&T()}),[m,T]);return(0,p.jsxs)("div",{className:At.Z.moderator_container,style:{marginTop:"0"},children:[(0,p.jsxs)("section",{className:At.Z.moderator_container_title,children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){v(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,p.jsxs)("div",{className:At.Z.with_search,children:[(0,p.jsx)("h6",{children:u("finance_deposit")}),(0,p.jsx)("div",{className:At.Z.search_container_filter,children:(0,p.jsx)("img",{src:"/images/filter-blue-icon.svg",alt:"filter icon"})})]})]}),(0,p.jsx)(sn.Z,{customStyle:{width:"100%"}}),(0,p.jsx)(dn.Z,{tabList:j,activeIndexTab:Z,setActiveIndexTab:N,showAs:!1,customStyleTab:{width:"33.33%"}}),(0,p.jsx)(sn.Z,{customStyle:{width:"100%",marginBottom:"0.5rem"}}),0===Z&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("button",{className:At.Z.applicable_to_btn,onClick:function(){return x(!0)},style:{width:"50%",marginTop:"2rem",marginBottom:"1rem"},children:[(0,p.jsxs)("div",{children:[u("deposit_fee_head_linking")," "]}),(0,p.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),(0,p.jsx)("div",{className:At.Z.refund_list,children:(0,p.jsxs)("section",{className:At.Z.unused_container,children:[(0,p.jsx)("img",{src:"/images/rupee-symobl-icon.svg",alt:"rupee symobl"}),(0,p.jsxs)("div",{className:At.Z.unused_container_text,children:[(0,p.jsxs)("div",{className:At.Z.unused_container_text_inner,children:[(0,p.jsx)("h6",{children:u("total_deposit")}),(0,p.jsxs)("h6",{children:[u("rs")," ",null!==(e=null===C||void 0===C||null===(n=C.master)||void 0===n?void 0:n.deposit_amount)&&void 0!==e?e:0]})]}),(0,p.jsx)("div",{className:At.Z.unused_container_text_inner,children:(0,p.jsxs)("p",{children:[u("deposit_of")," ",null!==(t=null===C||void 0===C||null===(l=C.master)||void 0===l?void 0:l.paid_student_count)&&void 0!==t?t:0," ",u("deposit_student")]})})]})]})})]}),1===Z&&(0,p.jsx)(Rt,{refund_amount:null===C||void 0===C||null===(a=C.master)||void 0===a?void 0:a.refund_amount,refund_student_count:null===C||void 0===C||null===(s=C.master)||void 0===s?void 0:s.refund_student_count}),h&&(0,p.jsx)(Et,{onClose:function(){return x(!1)},fmid:null===C||void 0===C||null===(r=C.master)||void 0===r?void 0:r._id,onRefecthParent:T})]})},Dt=t(56859),Ft=t(3638),Pt=t(32883);var kt=function(e){var n,t,l,s,d,r,c,u,v,m,f,_,h,x,j,g,y,Z,N,S,C,T,w,A,R,E,I,D,F,k,M,q,H,O,B,J,G,Y=e.onClickValue,U=e.carryParentState,W=e.role,V=e.mid,$=(0,b.useSelector)((function(e){return e.financeChange.insId})),Q=(0,o.TH)(),z=(0,P.OS)({data:{fid:W?null===Y||void 0===Y?void 0:Y.finance:"".concat(Y),mod_id:W?V:""},skip:!Y}),X=z.financeDetailManager,K=z.financeDetailManagerRefetch;return(0,i.useEffect)((function(){Y&&K()}),[Y,K]),(0,p.jsxs)("div",{className:a,children:[(!(null!==Q&&void 0!==Q&&Q.search)||"fee"===(null===Q||void 0===Q||null===(n=Q.search)||void 0===n?void 0:n.substring(3,6))||"fund"===(null===Q||void 0===Q||null===(t=Q.search)||void 0===t?void 0:t.substring(3)))&&(0,p.jsx)(L,{onClickValue:Y,carryParentState:U,role:W,mid:V}),(null===Q||void 0===Q?void 0:Q.search)&&"fee"!==(null===Q||void 0===Q||null===(l=Q.search)||void 0===l?void 0:l.substring(3,6))&&"fund"!==(null===Q||void 0===Q||null===(s=Q.search)||void 0===s?void 0:s.substring(3))&&(0,p.jsxs)("div",{children:["internal"===(null===Q||void 0===Q||null===(d=Q.search)||void 0===d?void 0:d.substring(3))&&(0,p.jsx)(ce,{carryParentState:U,callApi:!(null===X||void 0===X||null===(r=X.finance)||void 0===r||!r._id)}),"income"===(null===Q||void 0===Q||null===(c=Q.search)||void 0===c?void 0:c.substring(3))&&(0,p.jsx)(Ye.default,{}),"expense"===(null===Q||void 0===Q||null===(u=Q.search)||void 0===u?void 0:u.substring(3))&&(0,p.jsx)(Ue.default,{}),"payroll"===(null===Q||void 0===Q||null===(v=Q.search)||void 0===v?void 0:v.substring(3,10))&&(0,p.jsx)(Mn,{insId:$,carryParentState:U}),"submission"===(null===Q||void 0===Q||null===(m=Q.search)||void 0===m?void 0:m.substring(3,13))&&(0,p.jsx)(Je,{carryParentState:U}),"pending"===(null===Q||void 0===Q||null===(f=Q.search)||void 0===f?void 0:f.substring(3))&&(0,p.jsx)(Ge.default,{}),"history"===(null===Q||void 0===Q||null===(_=Q.search)||void 0===_?void 0:_.substring(3))&&(0,p.jsx)(Ln.default,{insId:$}),"inventory"===(null===Q||void 0===Q||null===(h=Q.search)||void 0===h?void 0:h.substring(3))&&(0,p.jsx)(st,{}),"bank"===(null===Q||void 0===Q||null===(x=Q.search)||void 0===x?void 0:x.substring(3,7))&&(0,p.jsx)(dt.default,{carryParentState:U,callApi:!(null===X||void 0===X||null===(j=X.finance)||void 0===j||!j._id)}),"scholarship"===(null===Q||void 0===Q||null===(g=Q.search)||void 0===g?void 0:g.substring(3,14))&&(0,p.jsx)(Tt,{carryParentState:U,callApi:!(null===X||void 0===X||null===(y=X.finance)||void 0===y||!y._id)}),"exemption"===(null===Q||void 0===Q||null===(Z=Q.search)||void 0===Z?void 0:Z.substring(3))&&(0,p.jsx)(gt,{}),"export"===(null===Q||void 0===Q||null===(N=Q.search)||void 0===N?void 0:N.substring(3))&&(0,p.jsx)(wt.default,{hostelId:null===X||void 0===X||null===(S=X.finance)||void 0===S||null===(C=S.institute)||void 0===C||null===(T=C.hostelDepart)||void 0===T?void 0:T[0],financeId:null===X||void 0===X||null===(w=X.finance)||void 0===w?void 0:w._id,insId:null===X||void 0===X||null===(A=X.finance)||void 0===A||null===(R=A.institute)||void 0===R?void 0:R._id}),"deposit"===(null===Q||void 0===Q||null===(E=Q.search)||void 0===E?void 0:E.substring(3))&&(0,p.jsx)(It,{}),"moderator"===(null===Q||void 0===Q||null===(I=Q.search)||void 0===I?void 0:I.substring(3))&&(0,p.jsx)(Dt.default,{}),"student"===(null===Q||void 0===Q||null===(D=Q.search)||void 0===D?void 0:D.substring(3))&&(0,p.jsx)(Ft.Z,{instituteId:$,viewId:null===X||void 0===X||null===(F=X.finance)||void 0===F?void 0:F._id,is_view:"FINANCE_MANAGER",studentAlias:null===X||void 0===X||null===(k=X.finance)||void 0===k||null===(M=k.institute)||void 0===M||null===(q=M.alias_pronounciation)||void 0===q?void 0:q.student_alias,headId:null===X||void 0===X||null===(H=X.finance)||void 0===H||null===(O=H.financeHead)||void 0===O?void 0:O._id,carryParentState:U}),"student-message"===(null===Q||void 0===Q||null===(B=Q.search)||void 0===B?void 0:B.substring(3))&&(0,p.jsx)(Pt.Z,{sid:null===X||void 0===X||null===(J=X.finance)||void 0===J||null===(G=J.institute)||void 0===G?void 0:G._id})]})]})},Mt=t(28795),Lt=function(){var e,n,t,a,s,d,r,c,u,v,m,f=(0,o.TH)(),_=(0,b.useDispatch)();return(0,i.useEffect)((function(){var e,n,t,i,l;_(Mt.q.financeQuery({fid:null!==f&&void 0!==f&&null!==(e=f.state)&&void 0!==e&&e.role?null===f||void 0===f||null===(n=f.state)||void 0===n||null===(t=n.onClickValue)||void 0===t?void 0:t.finance:null===f||void 0===f||null===(i=f.state)||void 0===i?void 0:i.onClickValue,insId:null===f||void 0===f||null===(l=f.state)||void 0===l?void 0:l.insId}))}),[]),(0,p.jsx)(l.Z,{index:null!==f&&void 0!==f&&null!==(e=f.state)&&void 0!==e&&e.role?"27":"4",sid:null!==(n=null===f||void 0===f||null===(t=f.state)||void 0===t?void 0:t.sid)&&void 0!==n?n:"",onClickValue:null!==(a=null===f||void 0===f||null===(s=f.state)||void 0===s?void 0:s.onClickValue)&&void 0!==a?a:"",children:(0,p.jsx)(kt,{onClickValue:null!==(d=null===f||void 0===f||null===(r=f.state)||void 0===r?void 0:r.onClickValue)&&void 0!==d?d:"",carryParentState:null===f||void 0===f?void 0:f.state,role:null===f||void 0===f||null===(c=f.state)||void 0===c?void 0:c.role,mid:null!==f&&void 0!==f&&null!==(u=f.state)&&void 0!==u&&u.role?null===f||void 0===f||null===(v=f.state)||void 0===v||null===(m=v.onClickValue)||void 0===m?void 0:m._id:""})})}},94721:function(e,n,t){var i=t(63366),l=t(87462),o=t(72791),a=t(59278),s=t(94419),d=t(12065),r=t(66934),c=t(31402),u=t(90133),v=t(80184),m=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],f=(0,r.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,t.absolute&&n.absolute,n[t.variant],t.light&&n.light,"vertical"===t.orientation&&n.vertical,t.flexItem&&n.flexItem,t.children&&n.withChildren,t.children&&"vertical"===t.orientation&&n.withChildrenVertical,"right"===t.textAlign&&"vertical"!==t.orientation&&n.textAlignRight,"left"===t.textAlign&&"vertical"!==t.orientation&&n.textAlignLeft]}})((function(e){var n=e.theme,t=e.ownerState;return(0,l.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(n.vars||n).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:n.vars?"rgba(".concat(n.vars.palette.dividerChannel," / 0.08)"):(0,d.Fq)(n.palette.divider,.08)},"inset"===t.variant&&{marginLeft:72},"middle"===t.variant&&"horizontal"===t.orientation&&{marginLeft:n.spacing(2),marginRight:n.spacing(2)},"middle"===t.variant&&"vertical"===t.orientation&&{marginTop:n.spacing(1),marginBottom:n.spacing(1)},"vertical"===t.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"})}),(function(e){var n=e.ownerState;return(0,l.Z)({},n.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}})}),(function(e){var n=e.theme,t=e.ownerState;return(0,l.Z)({},t.children&&"vertical"!==t.orientation&&{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((n.vars||n).palette.divider)}})}),(function(e){var n=e.theme,t=e.ownerState;return(0,l.Z)({},t.children&&"vertical"===t.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((n.vars||n).palette.divider)}})}),(function(e){var n=e.ownerState;return(0,l.Z)({},"right"===n.textAlign&&"vertical"!==n.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===n.textAlign&&"vertical"!==n.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),_=(0,r.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:function(e,n){var t=e.ownerState;return[n.wrapper,"vertical"===t.orientation&&n.wrapperVertical]}})((function(e){var n=e.theme,t=e.ownerState;return(0,l.Z)({display:"inline-block",paddingLeft:"calc(".concat(n.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(n.spacing(1)," * 1.2)")},"vertical"===t.orientation&&{paddingTop:"calc(".concat(n.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(n.spacing(1)," * 1.2)")})})),h=o.forwardRef((function(e,n){var t=(0,c.Z)({props:e,name:"MuiDivider"}),o=t.absolute,d=void 0!==o&&o,r=t.children,h=t.className,p=t.component,x=void 0===p?r?"div":"hr":p,j=t.flexItem,g=void 0!==j&&j,y=t.light,Z=void 0!==y&&y,N=t.orientation,b=void 0===N?"horizontal":N,S=t.role,C=void 0===S?"hr"!==x?"separator":void 0:S,T=t.textAlign,w=void 0===T?"center":T,A=t.variant,R=void 0===A?"fullWidth":A,E=(0,i.Z)(t,m),I=(0,l.Z)({},t,{absolute:d,component:x,flexItem:g,light:Z,orientation:b,role:C,textAlign:w,variant:R}),D=function(e){var n=e.absolute,t=e.children,i=e.classes,l=e.flexItem,o=e.light,a=e.orientation,d=e.textAlign,r={root:["root",n&&"absolute",e.variant,o&&"light","vertical"===a&&"vertical",l&&"flexItem",t&&"withChildren",t&&"vertical"===a&&"withChildrenVertical","right"===d&&"vertical"!==a&&"textAlignRight","left"===d&&"vertical"!==a&&"textAlignLeft"],wrapper:["wrapper","vertical"===a&&"wrapperVertical"]};return(0,s.Z)(r,u.V,i)}(I);return(0,v.jsx)(f,(0,l.Z)({as:x,className:(0,a.Z)(D.root,h),role:C,ref:n,ownerState:I},E,{children:r?(0,v.jsx)(_,{className:D.wrapper,ownerState:I,children:r}):null}))}));h.muiSkipListHighlight=!0,n.Z=h},90133:function(e,n,t){t.d(n,{V:function(){return o}});var i=t(75878),l=t(21217);function o(e){return(0,l.Z)("MuiDivider",e)}var a=(0,i.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);n.Z=a},8802:function(e,n){n.Z={moderator_container:"Deposit_moderator_container__EUNk3",moderator_container_title:"Deposit_moderator_container_title__A0xOX",add_new_moderator:"Deposit_add_new_moderator__KcSHC",menu_icon:"Deposit_menu_icon__UnPaB",scholarship_card_container:"Deposit_scholarship_card_container__XYjh7",assign_role_container:"Deposit_assign_role_container__JH95v",assign_role_title:"Deposit_assign_role_title__a3bws",applicable_to_btn:"Deposit_applicable_to_btn__Hs9+T",category_card:"Deposit_category_card__H7IMs",category_card_hover_active:"Deposit_category_card_hover_active__8QQA4",scholar_preview_container:"Deposit_scholar_preview_container__+ofnh",candidate_card_container:"Deposit_candidate_card_container__16CBl",candidate_card_container_text:"Deposit_candidate_card_container_text__fLZHz",candidate_card_row:"Deposit_candidate_card_row__pn5-A",student_container:"Deposit_student_container__0fjvO",conainter_main:"Deposit_conainter_main__8SyIP",student_container_name:"Deposit_student_container_name__NvNER",search_container:"Deposit_search_container__Da9-A",search_container_text:"Deposit_search_container_text__vaKmx",search_container_input:"Deposit_search_container_input__0WUtH",searchIcon:"Deposit_searchIcon__KgXSP",allot_container:"Deposit_allot_container__Synku",unused_container:"Deposit_unused_container__wyEHr",unused_container_text:"Deposit_unused_container_text__C3v8H",unused_container_text_inner:"Deposit_unused_container_text_inner__wT5i7",intake_history:"Deposit_intake_history__QnthY",corpus_card:"Deposit_corpus_card__pKopG",recieve_from:"Deposit_recieve_from__gQzBo",save_entry:"Deposit_save_entry__JDEIz",row_search:"Deposit_row_search__tHb8E",with_search:"Deposit_with_search__d3ogn",search_container_filter:"Deposit_search_container_filter__ZUeuE",student_container_modal:"Deposit_student_container_modal__oQrz7"}},8835:function(e,n){n.Z={MiddleContent:"MiddleContent_MiddleContent__ZgqAx",MiddleContentLeft:"MiddleContent_MiddleContentLeft__MEN0n",MiddleContentLeft2:"MiddleContent_MiddleContentLeft2__eSPZM",tabs:"MiddleContent_tabs__p8yp4",item:"MiddleContent_item__afJrS",MiddleContentRight:"MiddleContent_MiddleContentRight__yRz8I",MiddleContentRightHead:"MiddleContent_MiddleContentRightHead__b4b8y",pItem:"MiddleContent_pItem__qAFcW",text:"MiddleContent_text__IRX0Q",addbtn:"MiddleContent_addbtn__tutgx",menu:"MiddleContent_menu__fiR9A",menuItem:"MiddleContent_menuItem__rls+-",itemIconContainer:"MiddleContent_itemIconContainer__XGsAO",itemIcon:"MiddleContent_itemIcon__4echQ"}},85161:function(e,n){n.Z={remainingFees:"RemainingFees_remainingFees__G74JQ",subItem:"RemainingFees_subItem__maJF6",item:"RemainingFees_item__2o1X9",text:"RemainingFees_text__JnUvj"}}}]);
//# sourceMappingURL=8617.4bebe437.chunk.js.map