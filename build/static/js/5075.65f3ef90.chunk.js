"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[5075,5093],{93339:(e,t,i)=>{i.d(t,{nt:()=>A,jx:()=>N,gJ:()=>q,EI:()=>S,jU:()=>k,tm:()=>I,DL:()=>M,qd:()=>C,T5:()=>B});var l=i(2030),a=i(94811);const n=e=>e.query({query:e=>{var t;return"/v1/department/tab/manage/".concat(null===e||void 0===e?void 0:e.did,"/query?flow=").concat(null!==(t=null===e||void 0===e?void 0:e.flow)&&void 0!==t?t:"")},providesTags:["Tab_Manage"],serializeQueryArgs:e=>{let{endpointName:t}=e;return t},forceRefetch(e){let{currentArg:t,previousArg:i}=e;return t!==i}}),s=e=>e.mutation({query:e=>({url:"/v1/department/tab/manage/".concat(null===e||void 0===e?void 0:e.did,"/query"),method:a.Q0,body:e.tabManage}),invalidatesTags:["Tab_Manage"]}),r=e=>e.mutation({query:e=>({url:"/v1/attendance/department/".concat(e.did,"/holiday"),method:a.a4,body:e.holiday})}),d=e=>e.query({query:e=>"/v1/attendance/holiday/".concat(null===e||void 0===e?void 0:e.did,"?page=").concat(null===e||void 0===e?void 0:e.page,"&limit=").concat(null===e||void 0===e?void 0:e.limit),serializeQueryArgs:e=>{let{endpointName:t}=e;return t},transformResponse:(e,t,i)=>{var l,a;return null!==i&&void 0!==i&&i.search?{search:!0,list:null===e||void 0===e||null===(l=e.depart)||void 0===l?void 0:l.holiday}:{page:null===i||void 0===i?void 0:i.page,list:null===e||void 0===e||null===(a=e.depart)||void 0===a?void 0:a.holiday}},merge:(e,t)=>{var i;return null!==t&&void 0!==t&&t.search||1===(null===t||void 0===t?void 0:t.page)?t:void(null===e||void 0===e||null===(i=e.list)||void 0===i||i.push(...null===t||void 0===t?void 0:t.list))},forceRefetch(e){let{currentArg:t,previousArg:i}=e;return t!==i}}),o=e=>e.mutation({query:e=>({url:"/v1/attendance/holiday/".concat(e.hid,"/delete"),method:a.yY})}),c=e=>e.mutation({query:e=>({url:"/v2/ins/".concat(e.id,"/new/universal/batch/query"),method:a.Q0,body:e.bodyParameter})}),u=e=>e.query({query:e=>"/v2/ins/".concat(null===e||void 0===e?void 0:e.id,"/all/universal/batch/query?page=").concat(null===e||void 0===e?void 0:e.page,"&limit=").concat(null===e||void 0===e?void 0:e.limit,"&$search=").concat(e.search),serializeQueryArgs:e=>{let{endpointName:t}=e;return t},transformResponse:(e,t,i)=>null!==i&&void 0!==i&&i.search?{search:!0,list:null===e||void 0===e?void 0:e.all_batch}:{page:null===i||void 0===i?void 0:i.page,list:null===e||void 0===e?void 0:e.all_batch},merge:(e,t)=>{var i;return null!==t&&void 0!==t&&t.search||1===(null===t||void 0===t?void 0:t.page)?t:void(null===e||void 0===e||null===(i=e.list)||void 0===i||i.push(...null===t||void 0===t?void 0:t.list))},forceRefetch(e){let{currentArg:t,previousArg:i}=e;return t!==i}}),v=e=>e.mutation({query:e=>({url:"/v2/ins/".concat(e.id,"/select/universal/batch/query"),method:a.Q0,body:e.bodyParameter})}),m=e=>e.mutation({query:e=>({url:"/v2/ins/".concat(e.bid,"/link/universal/batch/query"),method:a.Q0,body:e.bodyParameter})}),h=l.z.injectEndpoints({endpoints:e=>({departmentTabManage:n(e),departmentTabController:s(e),departmentCreatedHoliday:r(e),departmentAllHoliday:d(e),departmentDeleteHoliday:o(e),instituteAddUniversalBatch:c(e),instituteAllUniversalBatch:u(e),instituteSelectUniversalBatch:v(e),instituteLinkUniversalBatch:m(e)})}),{useDepartmentTabManageQuery:p,useDepartmentTabControllerMutation:g,useDepartmentCreatedHolidayMutation:x,useDepartmentAllHolidayQuery:_,useDepartmentDeleteHolidayMutation:y,useInstituteAddUniversalBatchMutation:j,useInstituteAllUniversalBatchQuery:f,useInstituteSelectUniversalBatchMutation:b,useInstituteLinkUniversalBatchMutation:Z}=h,k=e=>{const{data:t,refetch:i,isFetching:l}=p(e.data,{skip:e.skip});return{departmentTabManage:t,departmentTabManageRefetch:i,departmentTabManageLoading:l}},S=()=>{const[e]=g();return[e]},N=()=>{const[e]=x();return[e]},A=e=>{const{data:t,refetch:i,isFetching:l}=_(e.data,{skip:e.skip});return{departmentAllHoliday:t,departmentAllHolidayRefetch:i,departmentAllHolidayLoading:l}},q=()=>{const[e]=y();return[e]},I=()=>{const[e]=j();return[e]},M=e=>{const{data:t,refetch:i,isFetching:l}=f(e.data,{skip:e.skip});return{instituteAllUniversalBatch:t,instituteAllUniversalBatchRefetch:i,instituteAllUniversalBatchLoading:l}},B=()=>{const[e]=b();return[e]},C=()=>{const[e]=Z();return[e]}},5075:(e,t,i)=>{i.r(t),i.d(t,{default:()=>B});var l=i(16871),a=i(43504),n=i(98684),s=i(90904),r=i(63162),d=i(98967),o=i(63687),c=i(21348),u=i(72791),v=i(56959),m=i(39230),h=i(1095),p=i(97892),g=i.n(p),x=i(82824),_=i(72888),y=i(80184);const j=e=>{var t,i;let{excel:l,bankId:a,onRefetch:s}=e;const[r,d]=(0,u.useState)("");return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("a",{className:_.Z.export_card,title:"Download File",href:"".concat(h.LS,"/").concat(null===l||void 0===l?void 0:l.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,y.jsx)("img",{src:"".concat(n.J7,"/xsxl.svg"),className:_.Z.export_card_image,alt:"excel icon"}),(0,y.jsxs)("section",{className:_.Z.export_card_text,children:[(0,y.jsx)("h6",{children:null!==(t=null===l||void 0===l?void 0:l.excel_file_name)&&void 0!==t?t:""}),(0,y.jsxs)("div",{className:_.Z.export_card_date,children:[(0,y.jsx)("h6",{children:null!==(i=null===l||void 0===l?void 0:l.batch)&&void 0!==i?i:""}),(0,y.jsxs)("h6",{children:[g()(null===l||void 0===l?void 0:l.created_at).format("DD MMM YYYY"),","," ",(0,x.J)(null===l||void 0===l?void 0:l.created_at,"LT")]})]})]})]},null===l||void 0===l?void 0:l._id)})};var f=i(23441),b=i(91427),Z=i(55336),k=i(1669),S=i(2651),N=i(62209),A=i(93638),q=i(43317);const I=e=>{var t,i,l;let{aid:a,instituteId:r}=e;const{t:d}=(0,m.$G)(),[o,h]=(0,u.useState)(""),[p,g]=(0,u.useState)(""),[x,_]=(0,u.useState)(1),[I,M]=(0,u.useState)(!0),[B,C]=(0,f.YD)({skip:o}),[T,L]=(0,u.useState)(""),[R,U]=(0,u.useState)(!1),[D]=(0,q.c4)(),{admissionIntakeRecordList:E,admissionIntakeRecordListLoading:F,admissionIntakeRecordListRefetch:w}=(0,q.Ln)({data:{aid:a,page:x,limit:10,search:o},skip:!a});(0,u.useEffect)((()=>{C&&I&&_((e=>e+1))}),[C,I]),(0,u.useEffect)((()=>{var e;if(null!==E&&void 0!==E&&null!==(e=E.list)&&void 0!==e&&e.length){var t;let e=(0,b.f)(null===E||void 0===E||null===(t=E.list)||void 0===t?void 0:t.length);M((()=>e))}}),[null===E||void 0===E?void 0:E.list]);const H=()=>{_((()=>1)),w()};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(c.Z,{customStyle:{padding:"0"},children:(0,y.jsxs)("div",{className:v.Z.fm_search_full,children:[(0,y.jsx)("section",{className:v.Z.fm_search_full_container,children:(0,y.jsxs)("div",{className:v.Z.fm_search_full_container_inner,children:[(0,y.jsx)("img",{className:v.Z.fm_search_full_icon,alt:"search icon",src:"".concat(n.dB,"/navbar-search.svg")}),(0,y.jsx)("input",{type:"text",placeholder:d("search"),onChange:e=>{var t;!F&&(null===E||void 0===E||null===(t=E.list)||void 0===t?void 0:t.length)>=0&&g(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(_((()=>1)),h(p))},value:p})]})}),(0,y.jsx)(A.Z,{label:"export",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:()=>L(1)})]})}),(0,y.jsx)(s.Z,{}),null===E||void 0===E||null===(t=E.list)||void 0===t?void 0:t.map(((e,t)=>{var i;return(null===E||void 0===E||null===(i=E.list)||void 0===i?void 0:i.length)===t+1?(0,y.jsx)("div",{ref:B,children:(0,y.jsx)(j,{excel:e,aid:a,onRefetch:H})},null===e||void 0===e?void 0:e._id):(0,y.jsx)(j,{excel:e,aid:a,onRefetch:H},null===e||void 0===e?void 0:e._id)})),F?o?(0,y.jsx)(Z.Z,{}):(0,y.jsx)(k.Z,{}):o?0===(null===E||void 0===E||null===(i=E.list)||void 0===i?void 0:i.length)&&(0,y.jsx)(S.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No intake records found related this search."}):0===(null===E||void 0===E||null===(l=E.list)||void 0===l?void 0:l.length)&&(0,y.jsx)(S.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No intake records added."}),1===T?(0,y.jsx)(N.Z,{onSelectStaff:e=>{null!==e&&void 0!==e&&e._id&&a&&(U((e=>!e)),D({aid:a,bodyParameter:{bid:null===e||void 0===e?void 0:e._id}}).then((()=>{L(""),U((e=>!e))})).catch({}))},onClose:()=>{L("")},instituteId:r}):null,R&&(0,y.jsx)(Z.Z,{})]})},M=(0,u.lazy)((()=>Promise.all([i.e(6758),i.e(84395),i.e(66866)]).then(i.bind(i,84395)))),B=e=>{let{aid:t,instituteId:i,financeId:h}=e;const{t:p}=(0,m.$G)(),g=(0,l.TH)(),x=(0,l.UO)(),_=(0,l.s0)(),[j]=(0,a.lr)(),f=(0,u.useCallback)((()=>{var e;let t="";t="Institute"===(null===(e=g.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(x.username,"/institute/member/admission"):"/q/".concat(x.username,"/member/staff/admission"),_(t,{state:g.state})}),[_,g.state,x.username]);return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(o.Z,{children:[(0,y.jsx)(c.Z,{children:(0,y.jsx)("div",{className:v.Z.fm_header_container,children:(0,y.jsxs)("div",{className:v.Z.fm_header_start_container,style:{gap:"0.2rem"},children:[(0,y.jsx)("img",{alt:"search icon",src:"".concat(n.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:f}),(0,y.jsx)("h6",{children:p("admission_statitics")})]})})}),(0,y.jsx)(s.Z,{}),(0,y.jsx)(d.Z,{children:C.map((e=>{var t,i;return(0,y.jsx)(r.Z,{tab:e,isLink:!0,isActive:null===(t=e.groupIs)||void 0===t?void 0:t.includes(j.get("n")),parentState:g.state,url:"Institute"===(null===(i=g.state)||void 0===i?void 0:i.urlOffSet)?"/q/".concat(x.username,"/institute/member/admission?type=statistics").concat(e.urlKey):"/q/".concat(x.username,"/member/staff/admission?type=statistics").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,y.jsx)(s.Z,{customStyleBorder:{marginTop:"0"}}),(0,y.jsx)(c.Z,{customStyle:{paddingTop:"0.2rem"},children:"student-statistics"===j.get("n")?(0,y.jsx)(M,{fid:h}):(0,y.jsx)(I,{aid:t,instituteId:i})})]})})},C=[{label:"intake_record",id:"intake_record",urlKey:"",groupIs:["",null]},{label:"student_statistics",id:"student-statistics",urlKey:"&n=student-statistics",groupIs:["student-statistics"]}]},62209:(e,t,i)=>{i.d(t,{Z:()=>j});var l=i(49806),a=i(38857),n=i(21348),s=i(90904),r=i(98684),d=i(39230),o=i(72791),c=i(23441),u=i(91427),v=i(57588),m=i(80184);const h=e=>{var t,i;let{cls:a,selectedId:n,onSelect:s,selectList:d,isMultiSelect:o,onMultiSelect:c}=e;return(0,m.jsx)(m.Fragment,{children:o?(0,m.jsxs)("div",{className:l.Z.assign_show_list_each,onClick:()=>{c(a)},style:{border:"0.5px solid #cacaca",marginBlock:"0.4rem",borderRadius:"6px",padding:"0.8rem 1rem"},children:[null!==d&&void 0!==d&&d.includes(null===a||void 0===a?void 0:a._id)?(0,m.jsx)("img",{src:"".concat(r.U_,"/check.svg"),alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,m.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"".concat(r.U_,"/uncheck.svg"),alt:"icon"}),(0,m.jsx)("div",{className:l.Z.assign_each_paragraph,children:(0,m.jsx)("h6",{children:null!==(t=null===a||void 0===a?void 0:a.batchName)&&void 0!==t?t:""})})]}):(0,m.jsx)("div",{className:l.Z.assign_show_list_each,style:n===(null===a||void 0===a?void 0:a._id)?{backgroundColor:"rgba(75, 26, 133, 0.1)",border:"0.5px solid #cacaca",marginBlock:"0.4rem",borderRadius:"6px",padding:"0.8rem 1rem"}:{border:"0.5px solid #cacaca",marginBlock:"0.4rem",borderRadius:"6px",padding:"0.8rem 1rem"},onClick:()=>{s(a)},children:(0,m.jsx)("div",{className:l.Z.assign_each_paragraph,children:(0,m.jsx)("h6",{children:null!==(i=null===a||void 0===a?void 0:a.batchName)&&void 0!==i?i:""})})})})};var p=i(55336),g=i(1669),x=i(2651),_=i(93638),y=i(93339);const j=e=>{var t,i,j,f;let{title:b,onClose:Z,selectedId:k,onSelectStaff:S,instituteId:N,isMultiSelect:A,onMultiSelect:q,selectList:I,onDone:M}=e;const{t:B}=(0,d.$G)(),[C,T]=(0,o.useState)(""),[L,R]=(0,o.useState)(1),[U,D]=(0,o.useState)(!0),[E,F]=(0,c.YD)({skip:C}),{instituteAllUniversalBatch:w,instituteAllUniversalBatchLoading:H}=(0,y.DL)({data:{id:N,page:L,limit:10,search:C},skip:!N});(0,o.useEffect)((()=>{F&&U&&R((e=>e+1))}),[F,U]),(0,o.useEffect)((()=>{var e;if(null!==w&&void 0!==w&&null!==(e=w.list)&&void 0!==e&&e.length){var t;let e=(0,u.f)(null===w||void 0===w||null===(t=w.list)||void 0===t?void 0:t.length);D((()=>e))}}),[null===w||void 0===w||null===(t=w.list)||void 0===t?void 0:t.length]);const Q=(0,o.useCallback)((0,v.J)((e=>{R((()=>1)),T(e)}),1500),[]),Y=e=>{k===(null===e||void 0===e?void 0:e._id)||S(e)};return(0,m.jsx)(a.Z,{onClose:Z,children:(0,m.jsxs)("div",{className:l.Z.modal_container,children:[(0,m.jsx)(n.Z,{children:(0,m.jsxs)("div",{className:l.Z.modal_container_outer_header,children:[(0,m.jsx)("div",{className:l.Z.modal_container_header,children:(0,m.jsx)("h6",{children:B(null!==b&&void 0!==b?b:"select_universal_batch")})}),(0,m.jsxs)("div",{className:l.Z.modal_container_btn_container,children:[A&&(0,m.jsx)(_.Z,{label:B("select"),count:null===I||void 0===I?void 0:I.length,onAction:M,customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,m.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:Z})]})]})}),(0,m.jsx)(s.Z,{}),(0,m.jsxs)(n.Z,{customStyle:{paddingBottom:"1rem"},children:[(0,m.jsxs)("div",{className:l.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,m.jsx)("input",{type:"text",placeholder:B("search"),className:l.Z.assign_search_input,onChange:e=>{e.target.value?Q(e.target.value):(R((()=>1)),T(""))},style:{width:"100%"}}),(0,m.jsx)("img",{src:"".concat(r.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===w||void 0===w||null===(i=w.list)||void 0===i?void 0:i.map(((e,t)=>{var i;return(null===w||void 0===w||null===(i=w.list)||void 0===i?void 0:i.length)===t+1?(0,m.jsx)("div",{ref:E,children:(0,m.jsx)(h,{cls:e,selectedId:k,onSelect:Y,selectList:I,isMultiSelect:A,onMultiSelect:q})},null===e||void 0===e?void 0:e._id):(0,m.jsx)(h,{cls:e,selectedId:k,onSelect:Y,selectList:I,isMultiSelect:A,onMultiSelect:q},null===e||void 0===e?void 0:e._id)})),H?C?(0,m.jsx)(p.Z,{}):(0,m.jsx)(g.Z,{}):C?0===(null===w||void 0===w||null===(j=w.list)||void 0===j?void 0:j.length)&&(0,m.jsx)(x.Z,{title:"No class found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===w||void 0===w||null===(f=w.list)||void 0===f?void 0:f.length)&&(0,m.jsx)(x.Z,{title:"No class.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})}},72888:(e,t,i)=>{i.d(t,{Z:()=>l});const l={export_card:"FinanceExport_export_card__9AYtI",export_card_image:"FinanceExport_export_card_image__-1r1l",export_card_text:"FinanceExport_export_card_text__ZrB00",export_card_date:"FinanceExport_export_card_date__-dTOE",export_card_menu:"FinanceExport_export_card_menu__-xEgr"}}}]);
//# sourceMappingURL=5075.65f3ef90.chunk.js.map