"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[30046],{38986:(e,n,a)=>{a.d(n,{Z:()=>d});var l=a(72791),i=a(52245),o=a(39230),t=a(1095),c=a(80184);const d=e=>{let{label:n,name:a,value:d,onChange:_,errorShow:r,disabled:s,customFormFileContainer:u,customFormFileLabel:m,customFormFile:v,type:p,multiple:b}=e;const{t:f}=(0,o.$G)(),h=(0,l.useCallback)((()=>{const e=window.open("".concat(t.yI,"/").concat(null===d||void 0===d?void 0:d.key),"_blank","noopener,noreferrer");e&&(e.opener=null)}),[null===d||void 0===d?void 0:d.key]);return(0,c.jsxs)("div",{className:i.Z.form_input_container,style:{...u},children:[n&&(0,c.jsxs)("label",{className:i.Z.form_input_label,style:m,children:[n,r?(0,c.jsxs)("span",{className:i.Z.form_input_label_error,children:["* ",f("form_require_label")]}):null]}),(0,c.jsxs)("div",{className:i.Z.form_file_container,style:v,children:[(0,c.jsx)("label",{className:d?"".concat(i.Z.form_file_choose," ").concat(i.Z.form_file_choose_active):i.Z.form_file_choose,htmlFor:a,children:f(""!==d?"file_choosen":"choose_file")}),(0,c.jsx)("label",{className:i.Z.form_file_choosen,onClick:h,children:""!==d?null!==d&&void 0!==d&&d.name?null===d||void 0===d?void 0:d.name:f("view"):f("no_file_chosen")})]}),(0,c.jsx)("input",{type:"file",multiple:!!b,accept:p||"image/*, .doc,.docx, application/pdf,.csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",name:a,id:a,style:{display:"none"},onChange:_,disabled:s})]})}},31897:(e,n,a)=>{a.d(n,{Z:()=>d});var l=a(72791),i=a(39230),o=a(52245),t=a(98684),c=a(80184);const d=e=>{let{selectLabel:n,onClick:a,selectedValue:d,options:_,customStyleContainer:r,customLabelStyle:s,customListStyle:u,errorShow:m,defalutValue:v,viewAs:p,isFull:b,isDenied:f}=e;const{t:h}=(0,i.$G)(),[k,x]=(0,l.useState)(!1),[j,g]=(0,l.useState)(""),y=()=>{f||x((e=>!e))};(0,l.useEffect)((()=>{"NORMAL_FILTER"===p&&g(v)}),[p,v]),(0,l.useEffect)((()=>{if("CUSTOM_FILTER"===p){let l="";for(let i of _)for(let o of v)if((null===i||void 0===i?void 0:i._id)===o){var e,n,a;let o=null!==(e=null!==(n=null!==(a=null===i||void 0===i?void 0:i.dName)&&void 0!==a?a:null===i||void 0===i?void 0:i.batchName)&&void 0!==n?n:null===i||void 0===i?void 0:i.className)&&void 0!==e?e:"";l=l?l+", "+o:o}g(l)}}),[p,v,_]);return(0,c.jsxs)("div",{className:o.Z.form_input_container,style:{...r},children:[(0,c.jsxs)("p",{className:o.Z.join_form_select_paragraph,style:{...s},children:[n,m&&(0,c.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",h("form_require_label")]})]}),(0,c.jsxs)("section",{className:o.Z.join_form_select_custom,onClick:y,children:[j?(0,c.jsx)("p",{className:o.Z.join_form_select_custom_paragraph,children:null!==j&&void 0!==j?j:""}):(0,c.jsx)("p",{className:o.Z.join_form_select_custom_paragraph,children:d}),k?(0,c.jsx)("img",{className:o.Z.join_form_select_custom_rotate_icon,src:"".concat(t.J7,"/down.svg"),alt:"categor icon"}):(0,c.jsx)("img",{className:o.Z.join_form_select_custom_icon,src:"".concat(t.J7,"/down.svg"),alt:"categor icon"})]}),k&&(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("section",{className:o.Z.join_form_select_custom_list,style:u,children:null===_||void 0===_?void 0:_.map(((e,n)=>{var l;return(0,c.jsx)("p",{onClick:()=>(e=>{var n;a(b?e:null===e||void 0===e?void 0:e._id),y(),g(null!==(n=null===e||void 0===e?void 0:e.dName)&&void 0!==n?n:e)})(e),className:o.Z.join_form_select_custom_paragraph_option,children:null!==(l=null===e||void 0===e?void 0:e.dName)&&void 0!==l?l:e},n)}))})})]})}},30046:(e,n,a)=>{a.r(n),a.d(n,{default:()=>xe});var l=a(56959),i=a(39230),o=a(72791);const t="BankDetail_bank_detail_card__XlDeo",c="BankDetail_bank_detail_card_heading__mL+og",d="BankDetail_bank_detail_card_inner__WTrMU",_="BankDetail_bank_detail_applicable__o9ybT",r="BankDetail_bank_detail_card_upi__B4gIC",s="BankDetail_bank_detail_card_qr__1sjcI",u="BankDetail_bank_detail_list__pwEqa",m="BankDetail_applicable_btn_container__eJ1fc",v="BankDetail_applicable_btn__T+Xhu",p="BankDetail_applicable_text__-94Qt",b="BankDetail_applicable_text_error__N2w5n",f="BankDetail_bank_fund_container__7nWd7",h="BankDetail_bank_fund__mShX7",k="BankDetail_bank_details__-SkE-",x="BankDetail_bank_upi__a1q+v",j="BankDetail_bank_qr_code__PmB1G",g="BankDetail_bank_qr_code_text__R7pza",y="BankDetail_modal_container__lWae0";var I=a(6758),Z=a(8959),w=a(1095),N=a(98684),S=a(80184);let F={fontWeight:"400"};const C=e=>{var n,a,l,o,u,m,v,p,b,f;let{bank:h}=e;const{t:k}=(0,i.$G)();return(0,S.jsxs)("div",{className:t,children:[(0,S.jsxs)("div",{className:c,children:[(0,S.jsx)("img",{src:"".concat(N.J7,"/bank-card.svg"),alt:"bank icon"}),(0,S.jsxs)("div",{className:d,children:[(0,S.jsx)("h6",{children:null!==(n=null===h||void 0===h?void 0:h.finance_bank_name)&&void 0!==n?n:""}),(0,S.jsx)("p",{children:null!==h&&void 0!==h&&null!==(a=h.department)&&void 0!==a&&a.dName?null===h||void 0===h||null===(l=h.department)||void 0===l?void 0:l.dName:null!==h&&void 0!==h&&h.hostel?"Hostel":null!==h&&void 0!==h&&h.library?"Library":null!==h&&void 0!==h&&h.transport?"Transport":(null===h||void 0===h||null===(o=h.departments)||void 0===o?void 0:o.length)>0?null===h||void 0===h||null===(u=h.departments)||void 0===u?void 0:u.map(((e,n)=>{var a,l;return(0,S.jsxs)("span",{children:[null!==(a=null===e||void 0===e?void 0:e.dName)&&void 0!==a?a:"",n+1===(null===h||void 0===h||null===(l=h.departments)||void 0===l?void 0:l.length)?"":", "]},null===e||void 0===e?void 0:e._id)})):"Society"===(null===h||void 0===h?void 0:h.bank_account_type)?"Society":""})]})]}),(0,S.jsxs)("section",{className:_,children:[(0,S.jsxs)("h6",{children:[k("applicable_for")," "," : "," "]}),(0,S.jsx)(Z.Z,{label:null!==h&&void 0!==h&&null!==(m=h.department)&&void 0!==m&&m.dName?null===h||void 0===h||null===(v=h.department)||void 0===v?void 0:v.dName:null!==h&&void 0!==h&&h.hostel?"Hostel":null!==h&&void 0!==h&&h.library?"Library":null!==h&&void 0!==h&&h.transport?"Transport":(null===h||void 0===h||null===(p=h.departments)||void 0===p?void 0:p.length)>0?null===h||void 0===h||null===(b=h.departments)||void 0===b?void 0:b.map(((e,n)=>{var a,l;return(0,S.jsxs)("span",{children:[null!==(a=null===e||void 0===e?void 0:e.dName)&&void 0!==a?a:"",n+1===(null===h||void 0===h||null===(l=h.departments)||void 0===l?void 0:l.length)?"":", "]},null===e||void 0===e?void 0:e._id)})):"Society"===(null===h||void 0===h?void 0:h.bank_account_type)?"Society":"",customFormInputLabel:F})]}),(0,S.jsxs)("section",{className:_,children:[(0,S.jsx)("h6",{children:k("bank_details")}),(0,S.jsx)(Z.Z,{label:"".concat(k("bank_name")," :"),value:null===h||void 0===h?void 0:h.finance_bank_name,customFormInput:F}),(0,S.jsx)(Z.Z,{label:"".concat(k("account_name")," :"),value:null===h||void 0===h?void 0:h.finance_bank_account_name,customFormInput:F}),(0,S.jsx)(Z.Z,{label:"".concat(k("account_number")," :"),value:null===h||void 0===h?void 0:h.finance_bank_account_number,customFormInput:F}),(0,S.jsx)(Z.Z,{label:"".concat(k("ifsc_code")," :"),value:null===h||void 0===h?void 0:h.finance_bank_ifsc_code,customFormInput:F}),(0,S.jsx)(Z.Z,{label:"".concat(k("address")," :"),value:null===h||void 0===h?void 0:h.finance_bank_branch_address,customFormInput:F})]}),(0,S.jsx)(Z.Z,{label:"".concat(k("upi_id")," :"),value:null===h||void 0===h?void 0:h.finance_bank_upi_id,customFormInput:F}),(0,S.jsxs)("section",{className:r,style:{width:"100%",alignItems:"flex-start"},children:[(0,S.jsxs)("div",{className:s,children:[(0,S.jsxs)("h6",{children:[k("qr_code"),":"]}),(0,S.jsx)("p",{children:null!==(f=null===h||void 0===h?void 0:h.finance_bank_upi_id)&&void 0!==f?f:""})]}),null!==h&&void 0!==h&&h.finance_bank_upi_qrcode?(0,S.jsx)("img",{src:"".concat(w.yI,"/").concat(null===h||void 0===h?void 0:h.finance_bank_upi_qrcode),alt:"qr code"}):""]})]})};var B=a(16871),D=a(43677),L=a(1669),T=a(23441),q=a(91427),A=a(57588),E=a(55336),G=a(2651);const J=e=>{var n,a,l;let{fid:i}=e;const t=(0,B.TH)(),[c,d]=(0,o.useState)(""),[_,r]=(0,o.useState)(1),[s,m]=(0,o.useState)(!0),[v,p]=(0,T.YD)({skip:c}),{financeAllBank:b,financeAllBankLoading:f}=(0,I.iB)({data:{fid:i,page:_,limit:10,search:c},skip:!i});(0,o.useEffect)((()=>{p&&s&&r((e=>e+1))}),[p,s]),(0,o.useEffect)((()=>{if(null!==b&&void 0!==b&&b.list){var e;let n=(0,q.f)(null===b||void 0===b||null===(e=b.list)||void 0===e?void 0:e.length);m((()=>n))}}),[null===b||void 0===b?void 0:b.list]);(0,o.useCallback)((0,A.J)((e=>{r((()=>1)),d(e)}),1500),[]);return(0,S.jsxs)("div",{className:u,children:[null===b||void 0===b||null===(n=b.list)||void 0===n?void 0:n.map(((e,n)=>{var a;return(null===b||void 0===b||null===(a=b.list)||void 0===a?void 0:a.length)===n+1?(0,S.jsx)("div",{ref:v,style:{width:"49%"},children:(0,S.jsx)(D.Z,{parentState:{...t.state,bankId:null===e||void 0===e?void 0:e._id},activeUrl:"type=bank&n=detail",children:(0,S.jsx)(C,{bank:e})})},null===e||void 0===e?void 0:e._id):(0,S.jsx)("div",{style:{width:"49%"},children:(0,S.jsx)(D.Z,{parentState:{...t.state,bankId:null===e||void 0===e?void 0:e._id},activeUrl:"type=bank&n=detail",children:(0,S.jsx)(C,{bank:e})})},null===e||void 0===e?void 0:e._id)})),f?c?(0,S.jsx)(E.Z,{}):(0,S.jsx)(L.Z,{}):c?0===(null===b||void 0===b||null===(a=b.list)||void 0===a?void 0:a.length)&&(0,S.jsx)(G.Z,{title:"No bank found related this search."}):0===(null===b||void 0===b||null===(l=b.list)||void 0===l?void 0:l.length)&&(0,S.jsx)(G.Z,{title:"No banks added."})]})},R=(0,o.memo)(J);var $=a(48293),H=a(21348),M=a(31897);const O=e=>{var n,a;let{fid:l,onToggle:t,libraryId:c,transportId:d,hostelId:_,setApplicablFor:r}=e;const{t:s}=(0,i.$G)(),[u,m]=(0,o.useState)({flow:"",flow_id:"",flow_name:"",depart_arr:[]}),{instituteAllDepartment:p}=(0,I.Jv)({fid:l,skip:!l});return(0,S.jsx)($.Z,{onClose:t,children:(0,S.jsx)("div",{className:y,children:(0,S.jsxs)(H.Z,{customStyle:{paddingBottom:"1rem"},children:[(0,S.jsx)(M.Z,{selectLabel:s("applicable_for"),selectedValue:s("applicable_for_placeholder"),options:["Internal Department","Society","Transport","Library","Hostel"],onClick:e=>{"Hostel"===e?m({flow:"Hostel",flow_id:_,flow_name:"Hostel",depart_arr:[]}):"Transport"===e?m({flow:"Transport",flow_id:d,flow_name:"Transport",depart_arr:[]}):"Library"===e?m({flow:"Library",flow_id:c,flow_name:"Library",depart_arr:[]}):"Society"===e?m({flow:"Society",flow_id:null,flow_name:"Society",depart_arr:[]}):"Internal Department"===e&&m({flow:"Department",flow_id:"",flow_name:"",depart_arr:[]})},isFull:!0}),"Department"===u.flow&&(0,S.jsx)(M.Z,{selectLabel:s("select_internal_department"),selectedValue:s("select_internal_department_placeholder"),options:null!==p&&void 0!==p?p:[],onClick:e=>{m((n=>({...n,flow_id:null===e||void 0===e?void 0:e._id,flow_name:null===e||void 0===e?void 0:e.dName,depart_arr:[...new Set([...n.depart_arr,null===e||void 0===e?void 0:e._id])]})))},isFull:!0,viewAs:"NORMAL_FILTER",defalutValue:(null===(n=u.depart_arr)||void 0===n?void 0:n.length)>1?"".concat(null===(a=u.depart_arr)||void 0===a?void 0:a.length," department selected"):u.flow_name}),(0,S.jsx)("button",{className:v,onClick:()=>{r(u),t()},style:{width:"100%",justifyContent:"center"},children:(0,S.jsx)("div",{children:s("select")})})]})})})},U=e=>{var n,a;let{errorField:l,applicableFor:t,libraryId:c,transportId:d,hostelId:_,setApplicablFor:r,fid:s}=e;const{t:u}=(0,i.$G)(),[f,h]=(0,o.useState)(!1),k=(0,o.useCallback)((()=>{h((e=>!e))}),[]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:m,style:{marginTop:"1rem"},children:[(0,S.jsxs)("button",{className:v,onClick:k,style:{marginTop:"0"},children:[(0,S.jsx)("div",{children:u("account_applicable_for")}),(0,S.jsx)("img",{src:"".concat(N.J7,"/forward.svg"),alt:"next step"})]}),(null===t||void 0===t?void 0:t.flow_name)&&(0,S.jsx)("h6",{className:p,children:(null===t||void 0===t||null===(n=t.depart_arr)||void 0===n?void 0:n.length)>1?"".concat(null===t||void 0===t||null===(a=t.depart_arr)||void 0===a?void 0:a.length," department selected"):null===t||void 0===t?void 0:t.flow_name})]}),l.flow_id&&(0,S.jsxs)("p",{className:b,children:["* ",u("form_require_label")]}),f&&(0,S.jsx)(O,{fid:s,onToggle:k,libraryId:c,transportId:d,hostelId:_,setApplicablFor:r})]})},V=(0,o.memo)(U);var W=a(21625),X=a(90904),z=a(61055),K=a(38986),P=a(93638);const Y=e=>{let{onClose:n,fid:a,libraryId:t,transportId:c,hostelId:d,openAs:_,onEditAction:r,openBankMenu:s}=e;const{t:u}=(0,i.$G)(),[m]=(0,W.FL)(),[v]=(0,I.WJ)(),[p,b]=(0,o.useState)(!1),[f,h]=(0,o.useState)(""),[k,x]=(0,o.useState)({finance_bank_name:"",finance_bank_account_number:"",finance_bank_account_name:"",finance_bank_ifsc_code:"",finance_bank_branch_address:"",finance_bank_upi_id:"",finance_bank_upi_qrcode:"",finance_bank_re_account_number:"",finance_bank_re_upi_id:""}),[j,g]=(0,o.useState)({flow:"",flow_id:"",flow_name:"",depart_arr:[]}),[y,Z]=(0,o.useState)("");(0,o.useEffect)((()=>{var e,n,a,l,i,o,t,c,d;"EDIT"===_&&x({finance_bank_name:null!==(e=null===s||void 0===s?void 0:s.finance_bank_name)&&void 0!==e?e:"",finance_bank_account_number:null!==(n=null===s||void 0===s?void 0:s.finance_bank_account_number)&&void 0!==n?n:"",finance_bank_account_name:null!==(a=null===s||void 0===s?void 0:s.finance_bank_account_name)&&void 0!==a?a:"",finance_bank_ifsc_code:null!==(l=null===s||void 0===s?void 0:s.finance_bank_ifsc_code)&&void 0!==l?l:"",finance_bank_branch_address:null!==(i=null===s||void 0===s?void 0:s.finance_bank_branch_address)&&void 0!==i?i:"",finance_bank_upi_id:null!==(o=null===s||void 0===s?void 0:s.finance_bank_upi_id)&&void 0!==o?o:"",finance_bank_upi_qrcode:null!==(t=null===s||void 0===s?void 0:s.finance_bank_upi_qrcode)&&void 0!==t?t:"",finance_bank_re_account_number:null!==(c=null===s||void 0===s?void 0:s.finance_bank_account_number)&&void 0!==c?c:"",finance_bank_re_upi_id:null!==(d=null===s||void 0===s?void 0:s.finance_bank_upi_id)&&void 0!==d?d:""})}),[_]);const w=e=>{x((n=>({...n,[e.target.name]:e.target.value})))},F=(0,o.useCallback)((e=>{b((e=>!e));const n=new FormData;Z(e.target.files[0]),n.append("file",e.target.files[0]),m({fileUpload:n}).then((e=>{b((e=>!e)),x((n=>{var a;return{...n,finance_bank_upi_qrcode:null===(a=e.data)||void 0===a?void 0:a.imageKey}}))})).catch((()=>{b((e=>!e))}))}),[]),C=(0,o.useCallback)((()=>{if("EDIT"===_){const e=ee(k);let n=!1;for(let a in e){n=!0;break}n?h(e):r(k)}else{const e=Q(k,j);let l=!1;for(let n in e){l=!0;break}l?h(e):(b((e=>!e)),v({fid:a,...j,bankDetails:{...k,depart_arr:j.depart_arr}}).then((()=>{n(),b((e=>!e))})).catch((()=>{b((e=>!e))})))}}),[k]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(H.Z,{children:(0,S.jsxs)("div",{className:l.Z.fm_header_start_container,children:[(0,S.jsx)("img",{src:"".concat(N.J7,"/back-arrow.svg"),alt:"back arrow",title:"Add Bank",onClick:n}),(0,S.jsxs)("h6",{children:[" ",u("EDIT"===_?"update_bank_details":"add_bank_details")]})]})}),(0,S.jsx)(X.Z,{}),(0,S.jsxs)(H.Z,{customStyle:{paddingTop:"0"},children:["EDIT"===_?null:(0,S.jsx)(V,{applicableFor:j,errorField:f,fid:a,libraryId:t,transportId:c,hostelId:d,setApplicablFor:g}),(0,S.jsx)(z.Z,{label:u("bank_name"),placeholder:u("bank_name_placeholder"),name:"finance_bank_name",value:k.finance_bank_name,type:"text",onChange:w,errorShow:f.finance_bank_name}),(0,S.jsx)(z.Z,{label:u("account_name"),placeholder:u("account_name_placeholder"),name:"finance_bank_account_name",value:k.finance_bank_account_name,type:"text",onChange:w,errorShow:f.finance_bank_account_name}),(0,S.jsx)(z.Z,{label:u("account_number"),placeholder:u("account_number_placeholder"),name:"finance_bank_account_number",value:k.finance_bank_account_number,type:"tel",onChange:w,errorShow:f.finance_bank_name}),(0,S.jsx)(z.Z,{label:u("confirm_account_number"),placeholder:u("confirm_account_number_placeholder"),name:"finance_bank_re_account_number",value:k.finance_bank_re_account_number,type:"tel",onChange:w,errorShow:f.finance_bank_re_account_number,msg:f.finance_bank_re_account_number}),(0,S.jsx)(z.Z,{label:u("ifsc_code"),placeholder:u("ifsc_code_placeholder"),name:"finance_bank_ifsc_code",value:k.finance_bank_ifsc_code,type:"text",onChange:w,errorShow:f.finance_bank_ifsc_code}),(0,S.jsx)(z.Z,{label:u("address_of_bank"),placeholder:u("address_of_bank_placeholder"),name:"finance_bank_branch_address",value:k.finance_bank_branch_address,type:"text",onChange:w,errorShow:f.finance_bank_branch_address}),(0,S.jsx)(z.Z,{label:u("upi_id"),placeholder:u("upi_id_placeholder"),name:"finance_bank_upi_id",value:k.finance_bank_upi_id,type:"text",onChange:w,errorShow:f.finance_bank_upi_id}),(0,S.jsx)(z.Z,{label:u("confirm_upi_id"),placeholder:u("finance_bank_re_upi_id"),name:"finance_bank_re_upi_id",value:k.finance_bank_re_upi_id,type:"text",onChange:w,errorShow:f.finance_bank_re_upi_id,msg:f.finance_bank_re_upi_id}),(0,S.jsx)(K.Z,{label:u("qr_code_above_upi"),name:"finance_bank_upi_qrcode",value:null!==y&&void 0!==y&&y.name?{name:null===y||void 0===y?void 0:y.name}:"",onChange:F,errorShow:f.finance_bank_upi_qrcode}),(0,S.jsx)(P.Z,{label:"save",onAction:C})]}),p&&(0,S.jsx)(E.Z,{})]})},Q=(e,n)=>{const a={};for(let l in e)"finance_bank_account_number"===l&&e.finance_bank_account_number!==e.finance_bank_re_account_number?a.finance_bank_re_account_number="form_account_dose_not_match_label":"finance_bank_upi_id"===l&&e.finance_bank_upi_id!==e.finance_bank_re_upi_id?a.finance_bank_re_upi_id="upi_id_dose_not_match_label":"finance_bank_upi_id"===l||"finance_bank_upi_qrcode"===l||"finance_bank_re_upi_id"===l||e[l]||(a[l]="* required");return null!==n&&void 0!==n&&n.flow_id||"Society"===(null===n||void 0===n?void 0:n.flow_name)||(a.flow_id="flow_id is required"),a},ee=e=>{const n={};for(let a in e)"finance_bank_account_number"===a&&e.finance_bank_account_number!==e.finance_bank_re_account_number?n.finance_bank_re_account_number="form_account_dose_not_match_label":"finance_bank_upi_id"===a&&e.finance_bank_upi_id!==e.finance_bank_re_upi_id?n.finance_bank_re_upi_id="upi_id_dose_not_match_label":"finance_bank_upi_id"===a||"finance_bank_upi_qrcode"===a||"finance_bank_re_upi_id"===a||e[a]||(n[a]="* required");return n};var ne=a(43504);const ae=e=>{let{totalRepay:n,collectOnline:a,dueRepay:l}=e;const{t:o}=(0,i.$G)();return(0,S.jsxs)("div",{className:f,children:[(0,S.jsxs)("div",{className:h,children:[(0,S.jsx)("h6",{children:o("total_due")}),(0,S.jsxs)("h5",{children:[o("rs_only")," ",null!==n&&void 0!==n?n:0]})]}),(0,S.jsxs)("div",{className:h,children:[(0,S.jsx)("h6",{children:o("online_fees")}),(0,S.jsxs)("h5",{children:[o("rs_only")," ",null!==a&&void 0!==a?a:0]})]}),(0,S.jsxs)("div",{className:h,children:[(0,S.jsx)("h6",{children:o("repayment_due")}),(0,S.jsxs)("h5",{children:[o("rs_only")," ",null!==l&&void 0!==l?l:0]})]})]})},le={fontWeight:"400",fontSize:"12px"},ie=e=>{var n,a,l,o,t;let{oneBank:c}=e;const{t:d}=(0,i.$G)();return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("section",{className:k,children:[(0,S.jsxs)("h6",{children:[d("applicable_for")," "," : "," "]}),(0,S.jsx)(Z.Z,{label:"",value:null!==c&&void 0!==c&&null!==(n=c.department)&&void 0!==n&&n.dName?null===c||void 0===c||null===(a=c.department)||void 0===a?void 0:a.dName:null!==c&&void 0!==c&&c.hostel?"Hostel":null!==c&&void 0!==c&&c.library?"Library":null!==c&&void 0!==c&&c.transport?"Transport":(null===c||void 0===c||null===(l=c.departments)||void 0===l?void 0:l.length)>0?null===c||void 0===c||null===(o=c.departments)||void 0===o?void 0:o.map(((e,n)=>{var a,l;return(0,S.jsxs)("span",{children:[null!==(a=null===e||void 0===e?void 0:e.dName)&&void 0!==a?a:"",n+1===(null===c||void 0===c||null===(l=c.departments)||void 0===l?void 0:l.length)?"":", "]},null===e||void 0===e?void 0:e._id)})):"",customFormInput:le,customFormInputLabel:{...le,marginLeft:"-0.8rem"}})]}),(0,S.jsxs)("section",{className:k,children:[(0,S.jsx)("h6",{children:d("bank_details")}),(0,S.jsx)(Z.Z,{label:"".concat(d("bank_name")," :"),value:null===c||void 0===c?void 0:c.finance_bank_name,customFormInput:le,customFormInputLabel:le}),(0,S.jsx)(Z.Z,{label:"".concat(d("account_name")," :"),value:null===c||void 0===c?void 0:c.finance_bank_account_name,customFormInput:le,customFormInputLabel:le}),(0,S.jsx)(Z.Z,{label:"".concat(d("account_number")," :"),value:null===c||void 0===c?void 0:c.finance_bank_account_number,customFormInput:le,customFormInputLabel:le}),(0,S.jsx)(Z.Z,{label:"".concat(d("ifsc_code")," :"),value:null===c||void 0===c?void 0:c.finance_bank_ifsc_code,customFormInput:le,customFormInputLabel:le}),(0,S.jsx)(Z.Z,{label:"".concat(d("address")," :"),value:null===c||void 0===c?void 0:c.finance_bank_branch_address,customFormInput:le,customFormInputLabel:le})]}),(0,S.jsx)("section",{className:x,children:(0,S.jsx)(Z.Z,{label:"".concat(d("upi_id")," :"),value:null===c||void 0===c?void 0:c.finance_bank_upi_id,customFormInput:le,customFormInputLabel:le})}),(0,S.jsxs)("section",{className:j,children:[(0,S.jsxs)("div",{className:g,children:[(0,S.jsxs)("h6",{children:[d("qr_code"),":"]}),(0,S.jsx)("p",{children:null!==(t=null===c||void 0===c?void 0:c.finance_bank_upi_id)&&void 0!==t?t:""})]}),null!==c&&void 0!==c&&c.finance_bank_upi_qrcode?(0,S.jsx)("img",{src:"".concat(w.yI,"/").concat(null===c||void 0===c?void 0:c.finance_bank_upi_qrcode),alt:"qr code"}):""]})]})};var oe=a(89064);const te=e=>{let{onToggle:n,setBankEdit:a,openBankMenu:l}=e;const{t:t}=(0,i.$G)(),c=(0,B.s0)(),[d,_]=(0,o.useState)(!1),[r,s]=(0,o.useState)(!1),[u]=(0,I.D4)(),[m]=(0,I.R9)(),v=()=>{a((e=>!e)),s((e=>!e))};return r?(0,S.jsx)(Y,{onClose:v,openAs:"EDIT",onEditAction:e=>{null!==l&&void 0!==l&&l._id&&(_((e=>!e)),s(!1),m({bid:null===l||void 0===l?void 0:l._id,bankDetails:e}).then((()=>{_((e=>!e)),n(),a((e=>!e))})).catch({}))},openBankMenu:l}):(0,S.jsxs)(oe.Z,{onClose:n,disabled:d,children:[(0,S.jsx)("h6",{onClick:v,children:t("edit")}),(0,S.jsx)("h6",{onClick:()=>{null!==l&&void 0!==l&&l._id&&(_((e=>!e)),u(null===l||void 0===l?void 0:l._id).then((()=>{n(),_((e=>!e)),c(-1)})).catch({}))},children:t("delete")})]})};var ce=a(63162),de=a(98967),_e=a(16925),re=a(60924),se=a(19056),ue=a(43997),me=a(99183);const ve=e=>{let{onClose:n,bankId:l,fid:t}=e;const{t:c}=(0,i.$G)(),[d,_]=(0,o.useState)({from:"",to:"",payment_type:""}),[r,s]=(0,o.useState)(!1),[u,m]=(0,o.useState)(""),[v]=(0,I._t)(),p=(e,n)=>{_((a=>({...a,[n]:(0,ue.O_)(e)})))};return(0,S.jsx)(S.Fragment,{children:(0,S.jsx)($.Z,{onClose:n,children:(0,S.jsxs)("div",{className:_e.Z.modal_container,children:[(0,S.jsx)(H.Z,{children:(0,S.jsxs)("div",{className:_e.Z.modal_container_outer_header,children:[(0,S.jsx)("div",{className:_e.Z.modal_container_header,children:(0,S.jsx)("h6",{children:c("filter_daybook")})}),(0,S.jsx)("img",{src:"".concat(N.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,S.jsx)(X.Z,{}),(0,S.jsxs)(H.Z,{customStyle:{paddingTop:"0"},children:[(0,S.jsx)(re.Z,{label:c("from"),placeholder:c("please_select_from_date"),name:"from",value:d.from?(0,ue.jh)(d.from):"",onChange:e=>p(e,"from"),errorShow:u.from}),(0,S.jsx)(re.Z,{label:c("to_only"),placeholder:c("please_select_to_date"),name:"to",value:d.to?(0,ue.jh)(d.to):"",onChange:e=>p(e,"to"),errorShow:u.to}),(0,S.jsx)(se.Z,{selectLabel:c("payment_type"),selectedValue:c("please_select_payment_type"),options:["Payment Gateway / Online","By Cash"],onClick:e=>{_((n=>({...n,payment_type:e})))},defalutValue:d.payment_type}),(0,S.jsx)(P.Z,{label:"filter",onAction:()=>{let e=(0,me.l)(d,[]);(0,me.x)(e)&&t&&l?(s((e=>!e)),v({fid:t,bank:l,from:d.from,to:d.to,payment_type:d.payment_type}).then((e=>{var l,i;if((null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.results)||void 0===i?void 0:i.length)>0){const l=new Worker(new URL(a.p+a.u(10084),a.b));l.postMessage({isType:"BANK_DAYBOOK",daybook:null===e||void 0===e?void 0:e.data}),l.onmessage=e=>{e&&(window.open(e.data,"_blank"),s((e=>!e)),n(),l.terminate())}}else s((e=>!e)),n()})).catch({})):m(e)}})]}),r&&(0,S.jsx)(E.Z,{})]})})})},pe=e=>{let{fid:n,bankId:a}=e;const{t:t}=(0,i.$G)(),[c,d]=(0,o.useState)(!1),_=()=>{d((e=>!e))};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(H.Z,{customStyle:{padding:"0"},children:(0,S.jsxs)("div",{className:l.Z.fm_search_full,children:[(0,S.jsx)("section",{className:l.Z.fm_search_full_container,children:(0,S.jsxs)("div",{className:l.Z.fm_search_full_container_inner,children:[(0,S.jsx)("img",{className:l.Z.fm_search_full_icon,alt:"search icon",src:"".concat(N.dB,"/navbar-search.svg")}),(0,S.jsx)("input",{type:"text",placeholder:t("search")})]})}),(0,S.jsx)(P.Z,{label:"filter",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:_})]})}),(0,S.jsx)(X.Z,{}),c&&(0,S.jsx)(ve,{onClose:_,bankId:a,fid:n})]})},be=[{label:"bank_info",id:0},{label:"day_book",id:1},{label:"fund",id:2}],fe=e=>{var n,a,t;let{fid:c}=e;const{t:d}=(0,i.$G)(),_=(0,B.TH)(),[r,s]=(0,o.useState)(0),[u,m]=(0,o.useState)(!1),[v,p]=(0,o.useState)(!1),{financeOneBankDetail:b}=(0,I.zO)({bid:_.state.bankId,skip:!_.state.bankId}),f=(0,o.useCallback)((()=>{m((e=>!e))}),[]),h=e=>{s(e)};return(0,S.jsxs)(S.Fragment,{children:[!v&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(H.Z,{children:[(0,S.jsxs)("div",{className:l.Z.fm_header_container,children:[(0,S.jsx)("h6",{children:d("bank_details")}),(0,S.jsx)("img",{src:"".concat(N.J7,"/edit.svg"),alt:"back arrow",title:"Edit Bank",onClick:f})]}),(0,S.jsx)(de.Z,{children:be.map((e=>(0,S.jsx)(ce.Z,{tab:e,isActive:(null===e||void 0===e?void 0:e.id)===r,onAction:h},null===e||void 0===e?void 0:e.id)))}),(0,S.jsx)(X.Z,{customStyleBorder:{marginTop:"0"}})]}),(0,S.jsx)(H.Z,{children:0===r?(0,S.jsx)(ie,{oneBank:null===b||void 0===b?void 0:b.one_bank}):1===r?(0,S.jsx)(pe,{fid:c,bankId:_.state.bankId}):(0,S.jsx)(ae,{totalRepay:null===b||void 0===b||null===(n=b.one_bank)||void 0===n?void 0:n.total_repay,collectOnline:null===b||void 0===b||null===(a=b.one_bank)||void 0===a?void 0:a.collect_online,dueRepay:null===b||void 0===b||null===(t=b.one_bank)||void 0===t?void 0:t.due_repay})})]}),u&&(0,S.jsx)(te,{onToggle:f,setBankEdit:p,openBankMenu:null===b||void 0===b?void 0:b.one_bank})]})};var he=a(63687);const ke=e=>{let{fid:n,libraryId:a,transportId:t,hostelId:c}=e;const{t:d}=(0,i.$G)(),[_]=(0,ne.lr)(),[r,s]=(0,o.useState)(!1),u=(0,o.useCallback)((()=>{s((e=>!e))}),[]);return(0,S.jsx)(he.Z,{children:r?(0,S.jsx)(Y,{fid:n,libraryId:a,transportId:t,hostelId:c,onClose:u}):_.get("n")?(0,S.jsx)(fe,{fid:n,libraryId:a,transportId:t,hostelId:c}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(H.Z,{children:(0,S.jsxs)("div",{className:l.Z.fm_header_container,children:[(0,S.jsx)("h6",{children:d("bank_account_detail")}),(0,S.jsx)("img",{src:"".concat(N.J7,"/plus-blue.svg"),alt:"back arrow",title:"Add Bank",onClick:u})]})}),(0,S.jsx)(X.Z,{}),(0,S.jsx)(H.Z,{children:(0,S.jsx)(R,{fid:n})})]})})},xe=(0,o.memo)(ke)},16925:(e,n,a)=>{a.d(n,{Z:()=>l});const l={right:"Income_right__XnzYj",rightHead:"Income_rightHead__1rLc6",rightBody:"Income_rightBody__fGEC5",income_detail:"Income_income_detail__IWoJa",detailTop:"Income_detailTop__4JXuu",detailTopMid:"Income_detailTopMid__yc2yv",modal_container:"Income_modal_container__HiGr+",modal_container_outer_header:"Income_modal_container_outer_header__F9c7X",modal_container_header:"Income_modal_container_header__td-Fb",card_container:"Income_card_container__ewKhQ",card_container_image:"Income_card_container_image__5XloP",card_container_inner:"Income_card_container_inner__JBmxr",admission_fees_row:"Income_admission_fees_row__MPJCs",close_icon:"Income_close_icon__Ozq4u",student_message_container:"Income_student_message_container__8KnPc",student_message_container_inner:"Income_student_message_container_inner__mRYpD",usm_institute_container:"Income_usm_institute_container__4LkYt",usm_institute:"Income_usm_institute__hlzdF",date_select:"Income_date_select__D3VkU",gsf_star_container:"Income_gsf_star_container__7gdUs",afsi_container:"Income_afsi_container__7u06w"}}}]);
//# sourceMappingURL=30046.8e2ae7a4.chunk.js.map