"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[82202],{82202:(e,t,l)=>{l.r(t),l.d(t,{default:()=>z});var i=l(16871),n=l(43504),s=l(63687),a=l(90904),d=l(98967),o=l(63162),c=l(21348),r=l(56959),u=l(39230),v=l(98684),m=l(93638),_=l(72791),h=l(43317),f=l(55336),x=l(11468),p=l(38857),g=l(8202),j=l(95240),N=l(4007),I=l(38986),A=l(84959),y=l(99183),S=l(80184);const b=e=>{let{onClose:t,aid:l,fid:n,instituteId:s}=e;const{t:d}=(0,u.$G)(),o=(0,i.TH)(),r=(0,i.UO)(),b=(0,i.s0)(),[C,Z]=(0,_.useState)(1),[F,O]=(0,_.useState)(!1),[T,k]=(0,_.useState)(""),[E,D]=(0,_.useState)({alarm_mode:"APP_NOTIFICATION",content:"",m_title:"",m_doc:""}),[P,M]=(0,_.useState)(""),[w,L]=(0,_.useState)([]),[U,q]=(0,_.useState)([]),[G,z]=(0,_.useState)({depart:"",batch:"",master:"",batch_status:"",all_depart:""}),[K]=(0,A.FL)(),[B]=(0,h.zi)(),[H]=(0,h.v2)();return(0,S.jsxs)(S.Fragment,{children:[1===C?(0,S.jsx)(g.Z,{applyFilter:G,setApplyFilter:z,onClose:t,fid:n,onActionEventFire:()=>{var e,t,i,n,s,a,d,o;l&&(O((e=>!e)),B({aid:l,pendingData:{depart:null!==(e=null===G||void 0===G||null===(t=G.depart)||void 0===t?void 0:t._id)&&void 0!==e?e:"",batch:null!==(i=null===G||void 0===G||null===(n=G.batch)||void 0===n?void 0:n._id)&&void 0!==i?i:"",master:null!==G&&void 0!==G&&null!==(s=G.master)&&void 0!==s&&s._id?[null===G||void 0===G||null===(a=G.master)||void 0===a?void 0:a._id]:[],batch_status:null!==(d=null===G||void 0===G?void 0:G.batch_status)&&void 0!==d?d:"",all_depart:null!==(o=null===G||void 0===G?void 0:G.all_depart)&&void 0!==o?o:""}}).then((e=>{var t;L(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.all_student),O((e=>!e)),Z(2)})).catch({}))},instituteId:s}):2===C?(0,S.jsx)(j.Z,{alreadySelected:U,studentList:w,onAction:e=>{q(e),Z("")},onClose:()=>Z(1)}):(0,S.jsx)(p.Z,{children:(0,S.jsxs)("div",{className:N.Z.modal_container,children:[(0,S.jsx)(c.default,{children:(0,S.jsxs)("div",{className:N.Z.modal_container_outer_header,children:[(0,S.jsx)("div",{className:N.Z.modal_container_header,children:(0,S.jsx)("h6",{children:d("Notify_about_Outstanding_Dues")})}),(0,S.jsx)("img",{src:"".concat(v.J7,"/close.svg"),alt:"close icon",onClick:()=>Z(2)})]})}),(0,S.jsx)(a.Z,{}),(0,S.jsxs)(c.default,{customStyle:{paddingTop:"0"},children:[(0,S.jsxs)("section",{className:N.Z.notify_container,onClick:()=>D((e=>({...e,alarm_mode:"APP_NOTIFICATION"}))),children:[(0,S.jsx)("img",{src:"APP_NOTIFICATION"===E.alarm_mode?"".concat(v.Fk,"/radio-blue.svg"):"".concat(v.Fk,"/radio-grey.svg"),alt:"icon"}),(0,S.jsxs)("div",{className:N.Z.notify_text,children:[(0,S.jsx)("h6",{children:d("Notify_with_In_app_Notification")}),(0,S.jsx)("p",{children:d("Notify_with_In_app_Notification_note")})]})]}),(0,S.jsxs)("section",{className:N.Z.notify_container,onClick:()=>D((e=>({...e,alarm_mode:"EMAIL_NOTIFICATION"}))),children:[(0,S.jsx)("img",{src:"EMAIL_NOTIFICATION"===E.alarm_mode?"".concat(v.Fk,"/radio-blue.svg"):"".concat(v.Fk,"/radio-grey.svg"),alt:"icon"}),(0,S.jsxs)("div",{className:N.Z.notify_text,children:[(0,S.jsx)("h6",{children:d("Notify_On_Email_and_SMS")}),(0,S.jsx)("p",{children:d("Notify_On_Email_and_SMS_note")})]})]}),"EMAIL_NOTIFICATION"===E.alarm_mode&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(x.Z,{label:d("title_label"),placeholder:d("title_label_placeholder"),name:"m_title",value:E.m_title,type:"text",onChange:e=>D((t=>({...t,m_title:e.target.value}))),errorShow:T.m_title}),(0,S.jsx)(x.Z,{label:d("email_content"),placeholder:d("email_content_placeholder"),name:"content",value:E.content,type:"text",onChange:e=>D((t=>({...t,content:e.target.value})))}),(0,S.jsx)(I.Z,{label:d("document"),name:"document",value:P,onChange:e=>{if(e.target.files[0]){O((e=>!e));const t=new FormData;t.append("file",e.target.files[0]),K({fileUpload:t}).then((t=>{var l,i,n;M({name:null===(l=e.target.files[0])||void 0===l?void 0:l.name,key:null===(i=t.data)||void 0===i?void 0:i.imageKey,type:null===(n=e.target.files[0])||void 0===n?void 0:n.type}),D((e=>{var l;return{...e,m_doc:null===(l=t.data)||void 0===l?void 0:l.imageKey}})),O((e=>!e))})).catch({})}}})]}),(0,S.jsx)(m.Z,{label:"confirm",onAction:()=>{let e=(0,y.l)(E,["content","m_doc"]);var i,n,s,a,d,c,u,v,m,_;(0,y.x)(e)?l&&E.alarm_mode&&(null===U||void 0===U?void 0:U.length)>0&&(O((e=>!e)),H({aid:l,alarm_mode:E.alarm_mode,reminderData:{all_arr:U,depart:null!==(i=null===G||void 0===G||null===(n=G.depart)||void 0===n?void 0:n._id)&&void 0!==i?i:"",batch:null!==(s=null===G||void 0===G||null===(a=G.batch)||void 0===a?void 0:a._id)&&void 0!==s?s:"",master:null!==G&&void 0!==G&&null!==(d=G.master)&&void 0!==d&&d._id?[null===G||void 0===G||null===(c=G.master)||void 0===c?void 0:c._id]:[],batch_status:null!==(u=null===G||void 0===G?void 0:G.batch_status)&&void 0!==u?u:"",all_depart:null!==(v=null===G||void 0===G?void 0:G.all_depart)&&void 0!==v?v:"",title:null!==(m=E.m_title)&&void 0!==m?m:"",doc:null!==(_=E.m_doc)&&void 0!==_?_:null,content:E.content}}).then((()=>{var e;O((e=>!e)),t();let l="Institute"===(null===(e=o.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(r.username,"/institute/member/finance?type=reminder-message"):"/q/".concat(r.username,"/member/staff/finance?type=reminder-message");b(l,{state:o.state})})).catch({})):k(e)}})]})]})}),F&&(0,S.jsx)(f.default,{})]})};var C=l(21625),Z=l(44226),F=l(6758);const O=e=>{let{aid:t,fid:l,instituteId:s}=e;const{t:h}=(0,u.$G)(),[x]=(0,n.lr)(),p=(0,i.TH)(),g=(0,i.UO)(),j=(0,i.s0)(),[N,I]=(0,_.useState)(!1),[A,y]=(0,_.useState)(!1),[O]=(0,C.FL)(),[k]=(0,F.mP)(),E=(0,_.useCallback)((()=>{var e;let t="Institute"===(null===(e=p.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(g.username,"/institute/member/finance?type=admission-statistics"):"/q/".concat(g.username,"/member/staff/finance?type=admission-statistics");j(t,{state:p.state})}),[j,g,p.state]),D=()=>{I((e=>!e))};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(c.default,{children:(0,S.jsxs)("div",{className:r.Z.fm_header_container,children:[(0,S.jsx)("h6",{children:h("pending_fees")}),(0,S.jsxs)("div",{className:r.Z.fm_search,children:[(0,S.jsx)("img",{src:"".concat(v.J7,"/history.svg"),alt:"history icon",onClick:()=>{var e;let t="Institute"===(null===(e=p.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(g.username,"/institute/member/finance?type=reminder-message"):"/q/".concat(g.username,"/member/staff/finance?type=reminder-message");j(t,{state:p.state})}}),(0,S.jsx)(Z.Z,{onExcelFileUpload:e=>{if(e.target.files[0]){y((e=>!e));const t=new FormData;t.append("file",e.target.files[0]),O({fileUpload:t}).then((e=>{var t,i;null!==(t=e.data)&&void 0!==t&&t.imageKey?k({fid:l,excelFile:{excel_file:null===(i=e.data)||void 0===i?void 0:i.imageKey}}).then((()=>{y((e=>!e))})).catch({}):y((e=>!e))})).catch({})}},label:"fees_mapping"}),(0,S.jsx)(m.Z,{label:"outstanding_reminder",customStyle:{margin:"0",padding:"0.4rem 1rem",width:"fit-content"},onAction:D}),(0,S.jsx)(m.Z,{label:"fees_statitics",onAction:E,customStyle:{width:"fit-content",margin:"0",padding:"0.4rem 1rem"}})]})]})}),(0,S.jsx)(a.Z,{}),(0,S.jsx)(d.Z,{children:T.map((e=>{var t,l;return(0,S.jsx)(o.Z,{tab:e,isLink:!0,isActive:null===(t=e.groupIs)||void 0===t?void 0:t.includes(x.get("n")),parentState:p.state,url:"Institute"===(null===(l=p.state)||void 0===l?void 0:l.urlOffSet)?"/q/".concat(g.username,"/institute/member/finance?type=admission-fee").concat(e.urlKey):"/q/".concat(g.username,"/member/staff/finance?type=admission-fee").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,S.jsx)(a.Z,{customStyleBorder:{marginTop:"0"}}),N&&(0,S.jsx)(b,{onClose:D,aid:t,fid:l,instituteId:s}),A&&(0,S.jsx)(f.default,{})]})},T=[{label:"all_students",id:"student",urlKey:"",groupIs:["",null]},{label:"os_fees",id:"outstanding",urlKey:"&n=outstanding",groupIs:["outstanding"]},{label:"applicable_os",id:"applicable",urlKey:"&n=applicable",groupIs:["applicable"]}];var k=l(85303),E=l(23441),D=l(91427),P=l(2651),M=l(1669),w=l(16483),L=l(1095);const U=e=>{var t,l,n,s,a;let{student:d,is_applicable:o,instituteId:c,isCashierAccess:r}=e;const{t:m}=(0,u.$G)(),_=(0,i.TH)(),h=(0,i.UO)(),f=(0,i.s0)();return(0,S.jsxs)("div",{className:w.Z.apf_container,onClick:()=>{var e;f("/q/".concat(h.username,"/member/student/admission/profile"),{state:{sid:null===d||void 0===d?void 0:d._id,viewAs:"ADMISSION_ADMIN",collectAccess:"ADMISSION_ADMIN",govtAccess:"Other",cancelAccess:!1,editStructureControl:"authorized",editGovtNumberContorl:"authorized",editInstallmentControl:"authorized",editGovtInstallmentControl:"authorized",isSearchEnable:"authorized",instituteId:c,isCashierAccess:r,collectStaffId:null===_||void 0===_||null===(e=_.state)||void 0===e?void 0:e.sid}})},title:"View Profile",children:[(0,S.jsxs)("div",{className:w.Z.apf_container_inner,children:[(0,S.jsx)("img",{alt:"Student Avatar",src:null!==d&&void 0!==d&&d.studentProfilePhoto?"".concat(L.yI,"/").concat(null===d||void 0===d?void 0:d.studentProfilePhoto):"".concat(v.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,S.jsxs)("div",{className:w.Z.apfci_text,children:[(0,S.jsx)("h6",{children:"".concat(null!==(t=d.studentFirstName)&&void 0!==t?t:""," ").concat(d.studentMiddleName?d.studentMiddleName:""," ").concat(null!==(l=d.studentLastName)&&void 0!==l?l:"")}),(0,S.jsxs)("p",{children:[m("gr_no"),null!==(n=null===d||void 0===d?void 0:d.studentGRNO)&&void 0!==n?n:"",null!==d&&void 0!==d&&null!==(s=d.department)&&void 0!==s&&s.dName?", ".concat(null===d||void 0===d||null===(a=d.department)||void 0===a?void 0:a.dName):""]})]})]}),(0,S.jsxs)("div",{className:w.Z.apfci_text,children:[o?(0,S.jsxs)("h6",{children:[m("rs_only")," ",null===d||void 0===d?void 0:d.applicable_fees_pending]}):(0,S.jsxs)("h6",{children:[m("rs_only")," ",null===d||void 0===d?void 0:d.admissionRemainFeeCount]}),(0,S.jsx)("p",{children:m("pending_fees")})]})]})},q=e=>{var t,l,n;let{aid:s,instituteId:a,isCashierAccess:d}=e;const{t:o}=(0,u.$G)(),c=(0,i.TH)(),x=(0,i.UO)(),p=(0,i.s0)(),[g,j]=(0,_.useState)(""),[N,I]=(0,_.useState)(""),[A,y]=(0,_.useState)(1),[b,C]=(0,_.useState)(!0),[Z,O]=(0,E.YD)({skip:g}),[T,k]=(0,_.useState)(!1),[w]=(0,F.MD)(),{admissionPendingFees:L,admissionPendingFeesLoading:q}=(0,h.VZ)({data:{aid:s,page:A,limit:10,search:g,flow:"All_Pending_Fees_Query"},skip:!s});(0,_.useEffect)((()=>{O&&b&&y((e=>e+1))}),[O,b]),(0,_.useEffect)((()=>{var e;if(null!==L&&void 0!==L&&null!==(e=L.list)&&void 0!==e&&e.length){var t;let e=(0,D.f)(null===L||void 0===L||null===(t=L.list)||void 0===t?void 0:t.length);C((()=>e))}}),[null===L||void 0===L?void 0:L.list]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:r.Z.fm_search_full,style:{marginBottom:"0.7rem"},children:[(0,S.jsx)("section",{className:r.Z.fm_search_full_container,children:(0,S.jsxs)("div",{className:r.Z.fm_search_full_container_inner,children:[(0,S.jsx)("img",{className:r.Z.fm_search_full_icon,alt:"search icon",src:"".concat(v.dB,"/navbar-search.svg")}),(0,S.jsx)("input",{type:"text",placeholder:o("search"),onChange:e=>{var t;!q&&(null===L||void 0===L||null===(t=L.list)||void 0===t?void 0:t.length)>=0&&I(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(y((()=>1)),j(N))},value:N,name:"search"})]})}),(0,S.jsx)(m.Z,{label:"export",customStyle:{margin:"0",padding:"0.4rem 1rem",width:"fit-content"},onAction:()=>{s&&(k((e=>!e)),w({aid:s,flow:"APPLICABLE_OS"}).then((e=>{var t;let l="Institute"===(null===(t=c.state)||void 0===t?void 0:t.urlOffSet)?"/q/".concat(x.username,"/institute/member/finance?type=export"):"/q/".concat(x.username,"/member/staff/finance?type=export");p(l,{state:c.state})})).catch({}))}})]}),null===L||void 0===L||null===(t=L.list)||void 0===t?void 0:t.map(((e,t)=>{var l;return(null===L||void 0===L||null===(l=L.list)||void 0===l?void 0:l.length)===t+1?(0,S.jsx)("div",{ref:Z,children:(0,S.jsx)(U,{student:e,instituteId:a,isCashierAccess:d})},null===e||void 0===e?void 0:e._id):(0,S.jsx)(U,{student:e,instituteId:a,isCashierAccess:d},null===e||void 0===e?void 0:e._id)})),q?g?(0,S.jsx)(f.default,{}):(0,S.jsx)(M.Z,{}):g?0===(null===L||void 0===L||null===(l=L.list)||void 0===l?void 0:l.length)&&(0,S.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No student found related this search."}):0===(null===L||void 0===L||null===(n=L.list)||void 0===n?void 0:n.length)&&(0,S.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No student found."}),T&&(0,S.jsx)(f.default,{})]})},G=e=>{var t,l,n;let{aid:s,instituteId:a,isCashierAccess:d}=e;const{t:o}=(0,u.$G)(),c=(0,i.TH)(),x=(0,i.UO)(),p=(0,i.s0)(),[g,j]=(0,_.useState)(""),[N,I]=(0,_.useState)(""),[A,y]=(0,_.useState)(1),[b,C]=(0,_.useState)(!0),[Z,O]=(0,E.YD)({skip:g}),[T,k]=(0,_.useState)(!1),[w]=(0,F.MD)(),{admissionPendingFees:L,admissionPendingFeesLoading:q}=(0,h.VZ)({data:{aid:s,page:A,limit:10,search:g,flow:"Applicable_Fees_Query"},skip:!s});(0,_.useEffect)((()=>{O&&b&&y((e=>e+1))}),[O,b]),(0,_.useEffect)((()=>{var e;if(null!==L&&void 0!==L&&null!==(e=L.list)&&void 0!==e&&e.length){var t;let e=(0,D.f)(null===L||void 0===L||null===(t=L.list)||void 0===t?void 0:t.length);C((()=>e))}}),[null===L||void 0===L?void 0:L.list]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:r.Z.fm_search_full,style:{marginBottom:"0.7rem"},children:[(0,S.jsx)("section",{className:r.Z.fm_search_full_container,children:(0,S.jsxs)("div",{className:r.Z.fm_search_full_container_inner,children:[(0,S.jsx)("img",{className:r.Z.fm_search_full_icon,alt:"search icon",src:"".concat(v.dB,"/navbar-search.svg")}),(0,S.jsx)("input",{type:"text",placeholder:o("search"),onChange:e=>{var t;!q&&(null===L||void 0===L||null===(t=L.list)||void 0===t?void 0:t.length)>=0&&I(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(y((()=>1)),j(N))},value:N})]})}),(0,S.jsx)(m.Z,{label:"export",customStyle:{margin:"0",padding:"0.4rem 1rem",width:"fit-content"},onAction:()=>{s&&(k((e=>!e)),w({aid:s,flow:"TOTAL_OS"}).then((()=>{var e;let t="Institute"===(null===(e=c.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(x.username,"/institute/member/finance?type=export"):"/q/".concat(x.username,"/member/staff/finance?type=export");p(t,{state:c.state})})).catch({}))}})]}),null===L||void 0===L||null===(t=L.list)||void 0===t?void 0:t.map(((e,t)=>{var l;return(null===L||void 0===L||null===(l=L.list)||void 0===l?void 0:l.length)===t+1?(0,S.jsx)("div",{ref:Z,children:(0,S.jsx)(U,{student:e,is_applicable:!0,instituteId:a,isCashierAccess:d})},null===e||void 0===e?void 0:e._id):(0,S.jsx)(U,{student:e,is_applicable:!0,instituteId:a,isCashierAccess:d},null===e||void 0===e?void 0:e._id)})),q?g?(0,S.jsx)(f.default,{}):(0,S.jsx)(M.Z,{}):g?0===(null===L||void 0===L||null===(l=L.list)||void 0===l?void 0:l.length)&&(0,S.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No student found related this search."}):0===(null===L||void 0===L||null===(n=L.list)||void 0===n?void 0:n.length)&&(0,S.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No student found."}),T&&(0,S.jsx)(f.default,{})]})},z=e=>{var t,l,a,d;let{instituteId:o,studentAlias:r,aid:u,fid:v,cashAuthority:m}=e;const _=(0,i.TH)(),[h]=(0,n.lr)();return(0,S.jsxs)(s.default,{children:[(0,S.jsx)(O,{aid:u,fid:v,instituteId:o}),h.get("n")?"outstanding"===h.get("n")?(0,S.jsx)(c.default,{children:(0,S.jsx)(q,{aid:u,instituteId:o,isCashierAccess:null!==m&&void 0!==m&&m.includes(null===_||void 0===_||null===(a=_.state)||void 0===a?void 0:a.sid)?"ALLOW":"DENY"})}):"applicable"===h.get("n")?(0,S.jsx)(c.default,{children:(0,S.jsx)(G,{aid:u,instituteId:o,isCashierAccess:null!==m&&void 0!==m&&m.includes(null===_||void 0===_||null===(d=_.state)||void 0===d?void 0:d.sid)?"ALLOW":"DENY"})}):null:(0,S.jsx)(k.default,{instituteId:o,studentAlias:r,invalidateAccess:"unAuthorized",allStudentControl:K,whichFlow:"ADMISSION",otherData:{aid:u,isCashierAccess:null!==m&&void 0!==m&&m.includes(null===_||void 0===_||null===(t=_.state)||void 0===t?void 0:t.sid)?"ALLOW":"DENY",collectStaffId:null===_||void 0===_||null===(l=_.state)||void 0===l?void 0:l.sid}})]})},K={collectAccess:"ADMISSION_ADMIN",govtAccess:"Other",cancelAccess:!1,editStructureControl:"authorized",editGovtNumberContorl:"authorized",editInstallmentControl:"authorized",editGovtInstallmentControl:"authorized",isSearchEnable:"authorized"}},85303:(e,t,l)=>{l.r(t),l.d(t,{default:()=>E});var i=l(63687),n=l(21348),s=l(72791),a=l(39230),d=l(23441),o=l(56959),c=l(90904),r=l(98684),u=l(91427),v=l(6758);const m="FinanceAllStudent_student_table__Y3uXE",_="FinanceAllStudent_student_table_header__4fuiU",h="FinanceAllStudent_student_table_header_label__4x6eY",f="FinanceAllStudent_student_table_content_card__3KWaE",x="FinanceAllStudent_student_table_profile__QUIFN",p="FinanceAllStudent_student_table_header_name__x4ZNJ",g="FinanceAllStudent_student_table_header_label_text__lny-H",j="FinanceAllStudent_student_table_contact__f4eB5",N="FinanceAllStudent_student_table_contact_email__dV19L",I="FinanceAllStudent_student_table_contact_number__r7HNK";var A=l(80184);const y=e=>{let{studentAlias:t}=e;const{t:l}=(0,a.$G)();return(0,A.jsx)("div",{className:m,children:(0,A.jsxs)("div",{className:_,children:[(0,A.jsx)("p",{className:h,style:{flex:"1"},children:null!==t&&void 0!==t?t:l("gr_no")}),(0,A.jsx)("p",{className:h,style:{flex:"3"},children:l("name")}),(0,A.jsx)("p",{className:h,style:{flex:"2"},children:l("contact_number")}),(0,A.jsx)("p",{className:h,style:{flex:"1"},children:l("applicable_outs")}),(0,A.jsx)("p",{className:h,style:{flex:"0.7"},children:l("govt_oustanding")})]})})};var S=l(1095),b=l(16871),C=l(43504);const Z=e=>{var t,l,i,n,s,a,d,o,u,v;let{student:m,messageId:_,headId:y,instituteId:Z,allStudentControl:F,otherData:O}=e;const T=(0,b.UO)(),k=(0,b.TH)();return(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(C.rU,{to:"/q/".concat(T.username,"/member/student/admission/profile"),state:{...k.state,sid:null===m||void 0===m?void 0:m._id,messageId:_,headId:y,instituteId:Z,collectAccess:null===F||void 0===F?void 0:F.collectAccess,govtAccess:null===F||void 0===F?void 0:F.govtAccess,cancelAccess:null===F||void 0===F?void 0:F.cancelAccess,editStructureControl:null===F||void 0===F?void 0:F.editStructureControl,editGovtNumberContorl:null===F||void 0===F?void 0:F.editGovtNumberContorl,editInstallmentControl:null===F||void 0===F?void 0:F.editInstallmentControl,editGovtInstallmentControl:null===F||void 0===F?void 0:F.editGovtInstallmentControl,viewAs:"Institute"===(null===(t=k.state)||void 0===t?void 0:t.urlOffSet)?"INSTITUTE":null,isCashierAccess:null===O||void 0===O?void 0:O.isCashierAccess,collectStaffId:null===O||void 0===O?void 0:O.collectStaffId},children:[(0,A.jsxs)("div",{className:f,style:{cursor:"pointer"},children:[(0,A.jsx)("p",{className:h,style:{flex:"1"},children:null!==(l=null===m||void 0===m?void 0:m.studentGRNO)&&void 0!==l?l:""}),(0,A.jsxs)("div",{className:x,style:{flex:"3"},children:[(0,A.jsx)("img",{src:null!==m&&void 0!==m&&m.studentProfilePhoto?"".concat(S.yI,"/").concat(null===m||void 0===m?void 0:m.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,A.jsxs)("div",{children:[(0,A.jsxs)("p",{className:p,children:["".concat(null!==(i=null===m||void 0===m?void 0:m.studentFirstName)&&void 0!==i?i:""," ").concat(null!==(n=null===m||void 0===m?void 0:m.studentMiddleName)&&void 0!==n?n:""," ").concat(null!==(s=null===m||void 0===m?void 0:m.studentLastName)&&void 0!==s?s:""),"100"===(null===m||void 0===m?void 0:m.profile_percentage)||100===(null===m||void 0===m?void 0:m.profile_percentage)?(0,A.jsx)("img",{src:"".concat(r.Fk,"/complete.svg"),loading:"lazy",alt:"avatar",style:{marginLeft:"0.6rem",height:"1rem"}}):null]}),(0,A.jsx)("p",{className:g,children:null!==(a=null===m||void 0===m||null===(d=m.studentClass)||void 0===d?void 0:d.classTitle)&&void 0!==a?a:""})]})]}),(0,A.jsxs)("div",{className:h,style:{flex:"2"},children:[(0,A.jsxs)("div",{className:j,children:[(0,A.jsx)("img",{src:"".concat(r.Fk,"/gender.svg"),alt:"gender icon"}),(0,A.jsx)("p",{className:N,children:null===m||void 0===m?void 0:m.studentGender})]}),(0,A.jsxs)("div",{className:j,style:{marginTop:"0.4rem"},children:[(0,A.jsx)("img",{src:"".concat(r.Fk,"/phone.svg"),alt:"phone icon"}),(0,A.jsx)("p",{className:I,children:null!==m&&void 0!==m&&m.user.userPhoneNumber?null===m||void 0===m?void 0:m.user.userPhoneNumber:null!==(o=null===m||void 0===m?void 0:m.user.userEmail)&&void 0!==o?o:""})]})]}),(0,A.jsx)("p",{className:h,style:{flex:"1",textAlign:"right"},children:null!==(u=null===m||void 0===m?void 0:m.applicable_fees_pending)&&void 0!==u?u:0}),(0,A.jsx)("p",{className:h,style:{flex:"0.7",textAlign:"right"},children:null!==(v=null===m||void 0===m?void 0:m.government_fees_pending)&&void 0!==v?v:0})]}),(0,A.jsx)(c.Z,{customStyleBorder:{margin:"0"}})]})})};var F=l(55336),O=l(1669),T=l(2651),k=l(93638);const E=e=>{var t,l,m;let{instituteId:_,studentAlias:h,headId:f,messageId:x,invalidateAccess:p,allStudentControl:g,whichFlow:j,otherData:N}=e;const{t:I}=(0,a.$G)(),S=(0,b.s0)(),C=(0,b.TH)(),E=(0,b.UO)(),[P,M]=(0,s.useState)(""),[w,L]=(0,s.useState)(""),[U,q]=(0,s.useState)(1),[G,z]=(0,s.useState)(!0),[K,B]=(0,d.YD)({skip:P}),[H,Y]=(0,s.useState)(!1),[W]=(0,v.WN)(),{instituteAllStudent:$,instituteAllStudentLoading:J}=(0,v.Cp)({data:{id:_,page:U,limit:10,search:P},skip:!_});(0,s.useEffect)((()=>{B&&G&&q((e=>e+1))}),[B,G]),(0,s.useEffect)((()=>{if(null!==$&&void 0!==$&&$.list){var e;let t=(0,u.f)(null===$||void 0===$||null===(e=$.list)||void 0===e?void 0:e.length);z((()=>t))}}),[null===$||void 0===$?void 0:$.list]);const Q=e=>{var t;!J&&(null===$||void 0===$||null===(t=$.list)||void 0===t?void 0:t.length)>=0&&L(e.target.value)},V=e=>{"Enter"===e.key&&(q((()=>1)),M(w))};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(i.default,{customStyle:{border:D[p]?"none":"0.5px solid #cacaca"},children:[D[p]?(0,A.jsx)(n.default,{children:(0,A.jsxs)("div",{className:o.Z.fm_search_full,children:[(0,A.jsx)("section",{className:o.Z.fm_search_full_container,children:(0,A.jsxs)("div",{className:o.Z.fm_search_full_container_inner,children:[(0,A.jsx)("img",{className:o.Z.fm_search_full_icon,alt:"search icon",src:"".concat(r.dB,"/navbar-search.svg")}),(0,A.jsx)("input",{type:"text",placeholder:I("search"),onChange:Q,onKeyUp:V,value:w})]})}),"ADMISSION"===j?(0,A.jsx)(k.Z,{label:"export",customStyle:{margin:"0",padding:"0.4rem 1rem",width:"fit-content"},onAction:()=>{null!==N&&void 0!==N&&N.aid&&(Y((e=>!e)),W({aid:null===N||void 0===N?void 0:N.aid}).then((e=>{var t;let l="Institute"===(null===(t=C.state)||void 0===t?void 0:t.urlOffSet)?"/q/".concat(E.username,"/institute/member/finance?type=export"):"/q/".concat(E.username,"/member/staff/finance?type=export");S(l,{state:C.state})})).catch({}))}}):null]})}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(n.default,{children:(0,A.jsxs)("div",{className:o.Z.fm_header_container,children:[(0,A.jsx)("h6",{children:I("all_students")}),(0,A.jsx)("div",{className:o.Z.fm_both_filter,children:(0,A.jsx)("div",{className:o.Z.fm_search,children:(0,A.jsx)("section",{className:o.Z.fm_search_container,children:(0,A.jsxs)("div",{className:o.Z.fm_search_container_inner,children:[(0,A.jsx)("img",{className:o.Z.fm_search_icon,alt:"search icon",src:"".concat(r.dB,"/navbar-search.svg")}),(0,A.jsx)("input",{type:"text",placeholder:I("search"),onChange:Q,style:{minWidth:"300px"},onKeyUp:V,value:w})]})})})})]})}),(0,A.jsx)(c.Z,{})]}),(0,A.jsx)(n.default,{children:(0,A.jsx)(y,{studentAlias:h})}),(0,A.jsx)(c.Z,{}),(0,A.jsxs)(n.default,{children:[null===$||void 0===$||null===(t=$.list)||void 0===t?void 0:t.map(((e,t)=>{var l;return(null===$||void 0===$||null===(l=$.list)||void 0===l?void 0:l.length)===t+1?(0,A.jsx)("div",{ref:K,children:(0,A.jsx)(Z,{student:e,instituteId:_,messageId:x,headId:f,allStudentControl:g,otherData:N})},null===e||void 0===e?void 0:e._id):(0,A.jsx)(Z,{student:e,instituteId:_,messageId:x,headId:f,allStudentControl:g,otherData:N},null===e||void 0===e?void 0:e._id)})),J?P?(0,A.jsx)(F.default,{}):(0,A.jsx)(A.Fragment,{children:1===U?(0,A.jsx)(F.default,{}):(0,A.jsx)(O.Z,{})}):P?0===(null===$||void 0===$||null===(l=$.list)||void 0===l?void 0:l.length)&&(0,A.jsx)(T.Z,{title:"No student found related this search."}):0===(null===$||void 0===$||null===(m=$.list)||void 0===m?void 0:m.length)&&(0,A.jsx)(T.Z,{title:"No students added in institute."})]})]}),H&&(0,A.jsx)(F.default,{})]})},D={unAuthorized:!0,govt:!0}},16483:(e,t,l)=>{l.d(t,{Z:()=>i});const i={document_card:"AdmissionManager_document_card__OWvp9",document_card_text:"AdmissionManager_document_card_text__aokEI",menu_icon:"AdmissionManager_menu_icon__n7SJY",apf_container:"AdmissionManager_apf_container__NmQ63",apf_container_inner:"AdmissionManager_apf_container_inner__tUadZ",apfci_text:"AdmissionManager_apfci_text__pDEev"}}}]);
//# sourceMappingURL=82202.3bebd118.chunk.js.map