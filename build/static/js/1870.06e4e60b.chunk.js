"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[1870,4035,420],{63687:function(e,n,i){var t=i(59393),l=i(80184);n.Z=function(e){var n=e.customStyle,i=e.children;return(0,l.jsx)("div",{className:t.Z.user_member_container_wrapper,style:n,children:i})}},71870:function(e,n,i){i.r(n),i.d(n,{default:function(){return O}});var t=i(29439),l=i(56959),o=i(63687),a=i(21348),r=i(39230),s=i(90904),c=i(43504),d=i(16871),u=i(98967),_=i(63162),v=i(72791),m=i(55336),f=i(23441),h=i(91427),p=i(57588),j=i(98684),x=i(1669),g=i(2651),y=i(43317),Z="PaymentVerification_request_card_info_name__F217G",C="PaymentVerification_request_card_container__kdJMq",N="PaymentVerification_request_card_info__4dTd3",b="PaymentVerification_request_card_info_date__kvaK6",k="PaymentVerification_request_card_utr__PDrya",S="PaymentVerification_request_card_info_image__SzKv7",E="PaymentVerification_fee_request_detail__XPezI",q="PaymentVerification_fee_request_detail_name__9jdBC",P="PaymentVerification_fee_request_detail_amount__-SBvM",T="PaymentVerification_fee_request_detail_date__0hGfn",L="PaymentVerification_reason_for_rejection__xoM3S",I="PaymentVerification_payment_acknowledge_btn__quTx1",R=i(1095),V=i(97892),A=i.n(V),D=i(93638),B=i(48293),J=i(16925),M=i(53277),w=i(23558),F=i(61055),Y=i(99183),G=i(80184),K=function(e){var n,i,l,o,c,d,u,_,f,h,p,x,g,Z,C,N,b=e.onClose,k=e.aid,S=e.onRefetch,L=e.receipt,V=e.isAccess,K=(0,r.$G)().t,U=(0,v.useState)(!1),Q=(0,t.Z)(U,2),$=Q[0],z=Q[1],O=(0,v.useState)(1),X=(0,t.Z)(O,2),H=X[0],W=X[1],ee=(0,v.useState)(""),ne=(0,t.Z)(ee,2),ie=ne[0],te=ne[1],le=(0,v.useState)(""),oe=(0,t.Z)(le,2),ae=oe[0],re=oe[1],se=(0,y.Wl)(),ce=(0,t.Z)(se,1)[0],de=function(){},ue=(0,v.useCallback)((function(){var e,n=window.open("".concat(R.LS,"/").concat(null===L||void 0===L||null===(e=L.receipt)||void 0===e?void 0:e.fee_payment_acknowledge),"_blank","noopener,noreferrer");n&&(n.opener=null)}),[R.LS,null===L||void 0===L||null===(n=L.receipt)||void 0===n?void 0:n.fee_payment_acknowledge]);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(B.Z,{onClose:b,children:(0,G.jsxs)("div",{className:J.Z.modal_container,children:[(0,G.jsx)(a.Z,{children:(0,G.jsxs)("div",{className:J.Z.modal_container_outer_header,children:[(0,G.jsx)("div",{className:J.Z.modal_container_header,children:(0,G.jsxs)("h6",{children:[" ",K("fee_receipt_request")]})}),(0,G.jsx)("img",{src:"".concat(j.J7,"/close.svg"),alt:"close icon",onClick:b})]})}),(0,G.jsx)(s.Z,{}),(0,G.jsxs)(a.Z,{customStyle:{paddingTop:"0",marginBottom:"1rem"},children:[(0,G.jsxs)(M.Z,{children:[(0,G.jsx)(w.Z,{label:"accept",onClick:function(){W(1)},isActive:1===H}),(0,G.jsx)(w.Z,{label:"reject",onClick:function(){W(2)},isActive:2===H})]}),(0,G.jsxs)("section",{className:E,children:[(0,G.jsxs)("h6",{className:q,children:[K("name")," "," : "," ","".concat(null===L||void 0===L||null===(i=L.receipt)||void 0===i||null===(l=i.student)||void 0===l?void 0:l.studentFirstName," ").concat(null!==L&&void 0!==L&&null!==(o=L.receipt)&&void 0!==o&&null!==(c=o.student)&&void 0!==c&&c.studentMiddleName?null===L||void 0===L||null===(d=L.receipt)||void 0===d||null===(u=d.student)||void 0===u?void 0:u.studentMiddleName:""," ").concat(null===L||void 0===L||null===(_=L.receipt)||void 0===_||null===(f=_.student)||void 0===f?void 0:f.studentLastName)]}),(0,G.jsxs)("h6",{className:P,children:[K("amount")," "," : "," ",K("rs")," ",null!==(h=null===L||void 0===L||null===(p=L.receipt)||void 0===p?void 0:p.fee_payment_amount)&&void 0!==h?h:0]}),(0,G.jsx)("h6",{className:T,children:A()(null===L||void 0===L||null===(x=L.receipt)||void 0===x?void 0:x.created_at).format("DD MMM YYYY")})]}),1===H?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(F.Z,{label:K("bank_name_collect"),name:"fee_bank_name",type:"tel",value:null===L||void 0===L||null===(g=L.receipt)||void 0===g?void 0:g.fee_bank_name,onChange:de,placeholder:K("please_enter_bank_name"),customStyleLabel:{marginTop:"6px",marginBottom:"7px"}}),(0,G.jsx)(F.Z,{label:K("banke_holder_name"),name:"fee_bank_holder",type:"tel",value:null===L||void 0===L||null===(Z=L.receipt)||void 0===Z?void 0:Z.fee_bank_holder,onChange:de,placeholder:K("please_enter_name_of_bank_holder"),customStyleLabel:{marginTop:"6px",marginBottom:"7px"}}),(0,G.jsx)(F.Z,{label:K("cheque_dd_neft"),name:"fee_utr_reference",type:"tel",value:null===L||void 0===L||null===(C=L.receipt)||void 0===C?void 0:C.fee_utr_reference,onChange:de,placeholder:K("please_enter_utr_ref_number"),customStyleLabel:{marginTop:"6px",marginBottom:"7px"}}),null!==L&&void 0!==L&&null!==(N=L.receipt)&&void 0!==N&&N.fee_payment_acknowledge?(0,G.jsx)("button",{className:I,onClick:ue,children:K("payment_acknowledge")}):null]}):(0,G.jsx)(F.Z,{label:K("reason_for_rejection_receipt"),name:"reason",type:"text",value:ie,onChange:function(e){return te(e.target.value)},placeholder:K("please_reason_for_rejection_receipt"),errorShow:ae.reason}),(0,G.jsx)(D.Z,{label:1===H?"confirm":"confirm_reject",onAction:function(){var e,n,i=!0;(2===H&&(i=(0,Y.l)({reason:ie},[])),(0,Y.x)(i))?k&&null!==L&&void 0!==L&&null!==(e=L.receipt)&&void 0!==e&&e._id&&null!==L&&void 0!==L&&L._id&&(z((function(e){return!e})),ce({aid:k,rid:null===L||void 0===L||null===(n=L.receipt)||void 0===n?void 0:n._id,reqId:null===L||void 0===L?void 0:L._id,status:"REJECTED"===V?1===H?"Over_Rejection":"Rejection_Notify":1===H?"Approved":"Rejected",receiptAction:{reason:ie}}).then((function(){S(),z((function(e){return!e})),b()})).catch({})):re(i)}})]})]})}),$&&(0,G.jsx)(m.Z,{})]})},U=function(e){var n,i,l,o,a,s,c,d,u,_,m,f,h,p,x,g,y,E,q,P,T,I=e.receipt,V=e.isAccess,B=e.aid,J=e.onRefetch,M=(0,r.$G)().t,w=(0,v.useState)(!1),F=(0,t.Z)(w,2),Y=F[0],U=F[1],Q=(0,v.useCallback)((function(){var e;("REQUEST"===V||"REJECTED"===V&&null!==I&&void 0!==I&&null!==(e=I.receipt)&&void 0!==e&&e.re_apply)&&U((function(e){return!e}))}),[V,null===I||void 0===I||null===(n=I.receipt)||void 0===n?void 0:n.re_apply]);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("section",{className:C,onClick:null!==I&&void 0!==I&&null!==(i=I.receipt)&&void 0!==i&&i.re_apply?function(){}:Q,style:{cursor:"REQUEST"===V?"pointer":"default"},children:[(0,G.jsxs)("div",{className:N,children:[(0,G.jsx)("img",{src:null!==I&&void 0!==I&&null!==(l=I.receipt)&&void 0!==l&&null!==(o=l.student)&&void 0!==o&&o.studentProfilePhoto?"".concat(R.yI,"/").concat(null===I||void 0===I||null===(a=I.receipt)||void 0===a||null===(s=a.student)||void 0===s?void 0:s.studentProfilePhoto):"".concat(j.p3,"/feed-user-avatar.svg"),alt:"avatar",className:S}),(0,G.jsxs)("div",{children:[(0,G.jsx)("h6",{className:Z,children:"".concat(null!==(c=null===I||void 0===I||null===(d=I.receipt)||void 0===d||null===(u=d.student)||void 0===u?void 0:u.studentFirstName)&&void 0!==c?c:""," ").concat(null!==I&&void 0!==I&&null!==(_=I.receipt)&&void 0!==_&&null!==(m=_.student)&&void 0!==m&&m.studentMiddleName?null===I||void 0===I||null===(f=I.receipt)||void 0===f||null===(h=f.student)||void 0===h?void 0:h.studentMiddleName:""," ").concat(null!==(p=null===I||void 0===I||null===(x=I.receipt)||void 0===x||null===(g=x.student)||void 0===g?void 0:g.studentLastName)&&void 0!==p?p:"")}),(0,G.jsxs)("p",{className:Z,children:[M("amount")," : ",M("rs_only")," ",(null===I||void 0===I||null===(y=I.receipt)||void 0===y?void 0:y.fee_payment_amount)||0]}),(0,G.jsx)("p",{className:b,children:A()(null===I||void 0===I?void 0:I.created_at).format("DD MMM YYYY")})]})]}),(0,G.jsxs)("h6",{className:k,children:[M("utr_number")," ",null===I||void 0===I||null===(E=I.receipt)||void 0===E?void 0:E.fee_utr_reference]}),"REJECTED"===V&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("h6",{className:L,children:[M("reason_for_rejection")," ",null!==(q=null===I||void 0===I||null===(P=I.receipt)||void 0===P?void 0:P.reason)&&void 0!==q?q:null===I||void 0===I?void 0:I.reason]}),(null===I||void 0===I||null===(T=I.receipt)||void 0===T?void 0:T.re_apply)&&(0,G.jsx)(D.Z,{label:"re_requested",onAction:Q})]})]}),Y&&(0,G.jsx)(K,{onClose:Q,aid:B,receipt:I,onRefetch:J,isAccess:V})]})},Q=function(e){var n,i,o,a=e.aid,s=e.requestedCount,c=(0,r.$G)().t,d=(0,v.useState)(""),u=(0,t.Z)(d,2),_=u[0],Z=u[1],C=(0,v.useState)(1),N=(0,t.Z)(C,2),b=N[0],k=N[1],S=(0,v.useState)(!0),E=(0,t.Z)(S,2),q=E[0],P=E[1],T=(0,f.YD)({skip:_}),L=(0,t.Z)(T,2),I=L[0],R=L[1],V=(0,y.jD)({data:{aid:a,page:b,limit:10,search:_,filterBy:"ALL_REQUEST",over_filter:""},skip:!a}),A=V.admissionPaymentVerifyList,D=V.admissionPaymentVerifyListLoading,B=V.admissionPaymentVerifyListRefetch;(0,v.useEffect)((function(){R&&q&&k((function(e){return e+1}))}),[R,q]),(0,v.useEffect)((function(){var e;if(null!==A&&void 0!==A&&null!==(e=A.list)&&void 0!==e&&e.length){var n,i=(0,h.f)(null===A||void 0===A||null===(n=A.list)||void 0===n?void 0:n.length);P((function(){return i}))}}),[null===A||void 0===A?void 0:A.list]);var J=(0,v.useCallback)((0,p.J)((function(e){k((function(){return 1})),Z(e)}),1500),[]),M=(0,v.useCallback)((function(){k((function(){return 1})),B()}),[B]);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("div",{className:l.Z.fm_header_container,children:[(0,G.jsxs)("h6",{children:[c("total_request")," : "," ",null!==s&&void 0!==s?s:0]}),(0,G.jsx)("div",{className:l.Z.fm_search,children:(0,G.jsx)("section",{className:l.Z.fm_search_container,children:(0,G.jsxs)("div",{className:l.Z.fm_search_container_inner,children:[(0,G.jsx)("img",{className:l.Z.fm_search_icon,alt:"search icon",src:"".concat(j.dB,"/navbar-search.svg")}),(0,G.jsx)("input",{type:"text",placeholder:c("search"),onChange:function(e){e.target.value?J(e.target.value):(k((function(){return 1})),Z(""))}})]})})})]}),null===A||void 0===A||null===(n=A.list)||void 0===n?void 0:n.map((function(e,n){var i;return(null===A||void 0===A||null===(i=A.list)||void 0===i?void 0:i.length)===n+1?(0,G.jsx)("div",{ref:I,children:(0,G.jsx)(U,{receipt:e,isAccess:"REQUEST",aid:a,onRefetch:M})},null===e||void 0===e?void 0:e._id):(0,G.jsx)(U,{receipt:e,isAccess:"REQUEST",aid:a,onRefetch:M},null===e||void 0===e?void 0:e._id)})),D?_?(0,G.jsx)(m.Z,{}):(0,G.jsx)(x.Z,{}):_?0===(null===A||void 0===A||null===(i=A.list)||void 0===i?void 0:i.length)&&(0,G.jsx)(g.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No request found related this search."}):0===(null===A||void 0===A||null===(o=A.list)||void 0===o?void 0:o.length)&&(0,G.jsx)(g.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No request found."})]})},$=function(e){var n,i,o,a=e.aid,s=e.rejectCount,c=(0,r.$G)().t,d=(0,v.useState)(""),u=(0,t.Z)(d,2),_=u[0],Z=u[1],C=(0,v.useState)(1),N=(0,t.Z)(C,2),b=N[0],k=N[1],S=(0,v.useState)(!0),E=(0,t.Z)(S,2),q=E[0],P=E[1],T=(0,f.YD)({skip:_}),L=(0,t.Z)(T,2),I=L[0],R=L[1],V=(0,y.jD)({data:{aid:a,page:b,limit:10,search:_,filterBy:"ALL_REJECT",over_filter:""},skip:!a}),A=V.admissionPaymentVerifyList,D=V.admissionPaymentVerifyListLoading,B=V.admissionPaymentVerifyListRefetch;(0,v.useEffect)((function(){R&&q&&k((function(e){return e+1}))}),[R,q]),(0,v.useEffect)((function(){var e;if(null!==A&&void 0!==A&&null!==(e=A.list)&&void 0!==e&&e.length){var n,i=(0,h.f)(null===A||void 0===A||null===(n=A.list)||void 0===n?void 0:n.length);P((function(){return i}))}}),[null===A||void 0===A?void 0:A.list]);var J=(0,v.useCallback)((0,p.J)((function(e){k((function(){return 1})),Z(e)}),1500),[]),M=(0,v.useCallback)((function(){k((function(){return 1})),B()}),[B]);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("div",{className:l.Z.fm_header_container,children:[(0,G.jsxs)("h6",{children:[c("total_rejected")," : "," ",null!==s&&void 0!==s?s:0]}),(0,G.jsx)("div",{className:l.Z.fm_search,children:(0,G.jsx)("section",{className:l.Z.fm_search_container,children:(0,G.jsxs)("div",{className:l.Z.fm_search_container_inner,children:[(0,G.jsx)("img",{className:l.Z.fm_search_icon,alt:"search icon",src:"".concat(j.dB,"/navbar-search.svg")}),(0,G.jsx)("input",{type:"text",placeholder:c("search"),onChange:function(e){e.target.value?J(e.target.value):(k((function(){return 1})),Z(""))}})]})})})]}),null===A||void 0===A||null===(n=A.list)||void 0===n?void 0:n.map((function(e,n){var i;return(null===A||void 0===A||null===(i=A.list)||void 0===i?void 0:i.length)===n+1?(0,G.jsx)("div",{ref:I,children:(0,G.jsx)(U,{receipt:e,isAccess:"REJECTED",aid:a,onRefetch:M})},null===e||void 0===e?void 0:e._id):(0,G.jsx)(U,{receipt:e,isAccess:"REJECTED",aid:a,onRefetch:M},null===e||void 0===e?void 0:e._id)})),D?_?(0,G.jsx)(m.Z,{}):(0,G.jsx)(x.Z,{}):_?0===(null===A||void 0===A||null===(i=A.list)||void 0===i?void 0:i.length)&&(0,G.jsx)(g.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No receipts found related this search."}):0===(null===A||void 0===A||null===(o=A.list)||void 0===o?void 0:o.length)&&(0,G.jsx)(g.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No receipts found."})]})},z=function(e){var n,i,o,a=e.aid,s=e.approvedCount,c=(0,r.$G)().t,d=(0,v.useState)(""),u=(0,t.Z)(d,2),_=u[0],Z=u[1],C=(0,v.useState)(1),N=(0,t.Z)(C,2),b=N[0],k=N[1],S=(0,v.useState)(!0),E=(0,t.Z)(S,2),q=E[0],P=E[1],T=(0,f.YD)({skip:_}),L=(0,t.Z)(T,2),I=L[0],R=L[1],V=(0,y.jD)({data:{aid:a,page:b,limit:10,search:_,filterBy:"ALL_APPROVE",over_filter:""},skip:!a}),A=V.admissionPaymentVerifyList,D=V.admissionPaymentVerifyListLoading;(0,v.useEffect)((function(){R&&q&&k((function(e){return e+1}))}),[R,q]),(0,v.useEffect)((function(){var e;if(null!==A&&void 0!==A&&null!==(e=A.list)&&void 0!==e&&e.length){var n,i=(0,h.f)(null===A||void 0===A||null===(n=A.list)||void 0===n?void 0:n.length);P((function(){return i}))}}),[null===A||void 0===A?void 0:A.list]);var B=(0,v.useCallback)((0,p.J)((function(e){k((function(){return 1})),Z(e)}),1500),[]);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("div",{className:l.Z.fm_header_container,children:[(0,G.jsxs)("h6",{children:[c("total_accepted")," "," : "," ",null!==s&&void 0!==s?s:0]}),(0,G.jsx)("div",{className:l.Z.fm_search,children:(0,G.jsx)("section",{className:l.Z.fm_search_container,children:(0,G.jsxs)("div",{className:l.Z.fm_search_container_inner,children:[(0,G.jsx)("img",{className:l.Z.fm_search_icon,alt:"search icon",src:"".concat(j.dB,"/navbar-search.svg")}),(0,G.jsx)("input",{type:"text",placeholder:c("search"),onChange:function(e){e.target.value?B(e.target.value):(k((function(){return 1})),Z(""))}})]})})})]}),null===A||void 0===A||null===(n=A.list)||void 0===n?void 0:n.map((function(e,n){var i;return(null===A||void 0===A||null===(i=A.list)||void 0===i?void 0:i.length)===n+1?(0,G.jsx)("div",{ref:I,children:(0,G.jsx)(U,{receipt:e})},null===e||void 0===e?void 0:e._id):(0,G.jsx)(U,{receipt:e},null===e||void 0===e?void 0:e._id)})),D?_?(0,G.jsx)(m.Z,{}):(0,G.jsx)(x.Z,{}):_?0===(null===A||void 0===A||null===(i=A.list)||void 0===i?void 0:i.length)&&(0,G.jsx)(g.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No receipts found related this search."}):0===(null===A||void 0===A||null===(o=A.list)||void 0===o?void 0:o.length)&&(0,G.jsx)(g.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No receipts found."})]})},O=function(e){var n=e.aid,i=e.requestedCount,f=e.approvedCount,h=e.rejectCount,p=(0,r.$G)().t,x=(0,c.lr)(),g=(0,t.Z)(x,1)[0],y=(0,d.TH)(),Z=(0,d.UO)();return(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)(o.Z,{children:[(0,G.jsx)(a.Z,{children:(0,G.jsxs)("div",{className:l.Z.fm_header_container,children:[(0,G.jsx)("h6",{children:p("fee_receipts_request")}),(0,G.jsx)("img",{src:"".concat(j.J7,"/filter.svg"),alt:"filter icon"})]})}),(0,G.jsx)(s.Z,{}),(0,G.jsxs)(a.Z,{customStyle:{paddingTop:"0"},children:[(0,G.jsx)(u.Z,{children:X.map((function(e){var n;return(0,G.jsx)(_.Z,{tab:e,isLink:!0,isActive:"requested"===e.id&&!g.get("n")||g.get("n")===e.id,parentState:y.state,url:"Institute"===(null===(n=y.state)||void 0===n?void 0:n.urlOffSet)?"/q/".concat(Z.username,"/institute/member/finance?type=verification").concat(e.urlKey):"/q/".concat(Z.username,"/member/staff/finance?type=verification").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,G.jsx)(s.Z,{customStyleBorder:{marginTop:"0"}})]}),(0,G.jsx)(a.Z,{customStyle:{paddingTop:"0"},children:(0,G.jsx)(v.Suspense,{fallback:(0,G.jsx)(m.Z,{}),children:"accepted"===g.get("n")?(0,G.jsx)(z,{aid:n,approvedCount:f}):"rejected"===g.get("n")?(0,G.jsx)($,{aid:n,rejectCount:h}):(0,G.jsx)(Q,{aid:n,requestedCount:i})})})]})})},X=[{label:"all_request",id:"requested",urlKey:""},{label:"accepted",id:"accepted",urlKey:"&n=accepted"},{label:"rejected",id:"rejected",urlKey:"&n=rejected"}]},16925:function(e,n){n.Z={right:"Income_right__XnzYj",rightHead:"Income_rightHead__1rLc6",rightBody:"Income_rightBody__fGEC5",income_detail:"Income_income_detail__IWoJa",detailTop:"Income_detailTop__4JXuu",detailTopMid:"Income_detailTopMid__yc2yv",modal_container:"Income_modal_container__HiGr+",modal_container_outer_header:"Income_modal_container_outer_header__F9c7X",modal_container_header:"Income_modal_container_header__td-Fb",card_container:"Income_card_container__ewKhQ",card_container_image:"Income_card_container_image__5XloP",card_container_inner:"Income_card_container_inner__JBmxr",admission_fees_row:"Income_admission_fees_row__MPJCs",close_icon:"Income_close_icon__Ozq4u",student_message_container:"Income_student_message_container__8KnPc",student_message_container_inner:"Income_student_message_container_inner__mRYpD",usm_institute_container:"Income_usm_institute_container__4LkYt",usm_institute:"Income_usm_institute__hlzdF",date_select:"Income_date_select__D3VkU",gsf_star_container:"Income_gsf_star_container__7gdUs"}}}]);
//# sourceMappingURL=1870.06e4e60b.chunk.js.map