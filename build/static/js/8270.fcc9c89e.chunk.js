"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[8270],{76424:function(l,i,e){e.r(i);var a=e(37762),n=e(29439),d=e(35967),r=e(43623),t=e(86500),o=e(72791),s=e(63687),u=e(21348),v=e(90904),c=e(39230),f=e(56959),b=e(55336),h=e(80184),g=(0,o.lazy)((function(){return e.e(7156).then(e.bind(e,87156))}));d.kL.register(d.uw,d.f$,d.ZL,d.Dx,d.u,d.De);i.default=function(l){l.instituteId;var i=l.ifid,e=(0,c.$G)().t,d=(0,o.useRef)(),j=(0,o.useState)(""),p=(0,n.Z)(j,2),Z=p[0],_=p[1],y=(0,o.useState)({labels:[],datasets:[{label:"Feedback %",data:[],barThickness:8,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)"],borderColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"],borderWidth:.5}]}),L=(0,n.Z)(y,2),m=L[0],C=L[1],F=(0,t.FQ)({data:{ifid:i,page:1,limit:1e3,search:""},skip:!i}).feedbackSubjectTeacherList;(0,o.useEffect)((function(){var l;if((null===F||void 0===F||null===(l=F.list)||void 0===l?void 0:l.length)>0){var i,e=[],n={label:"Feedback %",data:[]},d=(0,a.Z)(null===F||void 0===F?void 0:F.list);try{for(d.s();!(i=d.n()).done;){var r=i.value;if(null!==r&&void 0!==r&&r.staffROLLNO){var t,o,s,u=x(null===r||void 0===r||null===(t=r.student_feedback)||void 0===t||null===(o=t[0])||void 0===o?void 0:o.subject_analytic);e.push(null===r||void 0===r?void 0:r.staffROLLNO),null===(s=n.data)||void 0===s||s.push(u)}}}catch(v){d.e(v)}finally{d.f()}C({labels:e,datasets:[n]})}}),[null===F||void 0===F?void 0:F.list]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(s.Z,{children:[(0,h.jsx)(u.Z,{children:(0,h.jsx)("div",{className:f.Z.fm_header_container,children:(0,h.jsx)("h6",{children:e("feedback_analytics")})})}),(0,h.jsx)(v.Z,{}),(0,h.jsx)(u.Z,{children:(0,h.jsx)(r.$Q,{ref:d,data:m,options:k,onClick:function(l){for(var i=(0,r.cX)(null===d||void 0===d?void 0:d.current,l),e=1;e<=(null===F||void 0===F||null===(a=F.list)||void 0===a?void 0:a.length);e++){var a,n,t;if((null===i||void 0===i||null===(n=i[0])||void 0===n?void 0:n.index)===e)_(null===F||void 0===F||null===(t=F.list)||void 0===t?void 0:t[e])}}})})]}),(0,h.jsx)(o.Suspense,{fallback:(0,h.jsx)(b.Z,{}),children:Z&&(0,h.jsx)(g,{onClose:function(){_("")},ifid:i,sid:null===Z||void 0===Z?void 0:Z._id,staff:Z})})]})};var k={responsive:!0,scales:{x:{grid:{offset:!0}}}},x=function(l){if((null===l||void 0===l?void 0:l.length)>0){var i,e=0,n=(0,a.Z)(l);try{for(n.s();!(i=n.n()).done;){var d=i.value;e+=null===d||void 0===d?void 0:d.feedback_percentage}}catch(r){n.e(r)}finally{n.f()}return e=Math.floor(e/(null===l||void 0===l?void 0:l.length))}return 0}}}]);
//# sourceMappingURL=8270.fcc9c89e.chunk.js.map