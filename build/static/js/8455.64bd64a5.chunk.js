/*! For license information please see 8455.64bd64a5.chunk.js.LICENSE.txt */
(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[8455],{18455:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var i=n(29439),o=n(72791),l=n(33965),d=n(39230),a=n(93433),s=n(23441),r=n(78687),c=n(87932),u=n(65543),v=n(72426),m=n.n(v),f=n(80184);var h=function(e){var t,n,i=e.detailview,o=e.setDetailView,a=e.onClickValue,s=(0,d.$G)().t;return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:l.Z.incomeRightt,children:i?(0,f.jsxs)("div",{className:l.Z.detail,children:[(0,f.jsxs)("div",{className:l.Z.detailTop,children:[(0,f.jsx)("div",{className:l.Z.detailTopLeft,children:(0,f.jsx)("h6",{onClick:function(){return o(!1)},children:s("back")})}),(0,f.jsx)("div",{className:l.Z.detailTopMid,children:(0,f.jsx)("h6",{children:null!==(t=null===a||void 0===a||null===(n=a.payment_by_end_user_id)||void 0===n?void 0:n.userLegalName)&&void 0!==t?t:null===a||void 0===a?void 0:a.payment_by_end_user_id_name})}),(0,f.jsxs)("div",{className:l.Z.detailTopRight,children:["Rs. ",null===a||void 0===a?void 0:a.payment_amount]})]}),(0,f.jsxs)("div",{className:l.Z.detailContent,children:[(0,f.jsx)("p",{children:s("transaction_mode")}),(0,f.jsx)("h6",{children:null===a||void 0===a?void 0:a.payment_mode})]}),(0,f.jsxs)("div",{className:l.Z.detailContent,children:[(0,f.jsx)("p",{children:s("day_date")}),(0,f.jsxs)("h6",{children:[m()(null===a||void 0===a?void 0:a.created_at).format("DD MMM yyyy")," ",m()(null===a||void 0===a?void 0:a.created_at).format("LT")]})]})]}):""})})},p=function(e){var t,n,i,o,a,s,r,c,u=e.history,v=e.setOnClickValue,h=e.setDetailView,p=(0,d.$G)().t;return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:l.Z.sidebarheader,onClick:function(){v(u),h(!0)},children:[(0,f.jsxs)("div",{className:l.Z.text,children:[(0,f.jsx)("p",{className:l.Z.rcv,children:p("paid_to")}),(0,f.jsx)("h6",{children:null!==(t=null===u||void 0===u||null===(n=u.payment_by_end_user_id)||void 0===n?void 0:n.userLegalName)&&void 0!==t?t:null===u||void 0===u?void 0:u.payment_by_end_user_id_name}),(0,f.jsxs)("p",{className:l.Z.rcv,children:[m()(null===u||void 0===u?void 0:u.created_at).format("DD MMM yyyy")," ",m()(null===u||void 0===u?void 0:u.created_at).format("LT")]})]}),(0,f.jsxs)("div",{className:l.Z.text,style:{marginTop:"0.9rem"},children:[(0,f.jsx)("p",{className:l.Z.rcv}),(0,f.jsxs)("h6",{children:["Rs. ",null===u||void 0===u?void 0:u.payment_amount]}),(0,f.jsx)("p",{className:l.Z.rcv,children:"offline"===(null===(i=u.payment_mode)||void 0===i?void 0:i.toLowerCase())?null!==u&&void 0!==u&&null!==(o=u.fee_receipt)&&void 0!==o&&o.fee_payment_mode?"".concat(null===u||void 0===u||null===(a=u.fee_receipt)||void 0===a?void 0:a.fee_payment_mode):"Offline - No Receipt":"online"===(null===(s=u.payment_mode)||void 0===s?void 0:s.toLowerCase())?null!==u&&void 0!==u&&null!==(r=u.fee_receipt)&&void 0!==r&&r.fee_payment_mode?"".concat(null===u||void 0===u||null===(c=u.fee_receipt)||void 0===c?void 0:c.fee_payment_mode):"Online - No Receipt":null===u||void 0===u?void 0:u.payment_mode})]})]})})},_=n(763),x=n(11105),y=n(34219),g=function(e){var t=e.insId,n=(0,d.$G)().t,v=(0,r.useSelector)((function(e){return e.financeChange})),m=o.useState([]),g=(0,i.Z)(m,2),j=g[0],N=g[1],Z=(0,o.useState)(""),w=(0,i.Z)(Z,2),S=w[0],b=w[1],F=(0,s.YD)({skip:S}),C=(0,i.Z)(F,2),I=C[0],T=C[1],R=o.useState(!0),k=(0,i.Z)(R,2),M=k[0],z=k[1],D=o.useState(1),A=(0,i.Z)(D,2),L=A[0],E=A[1],O=o.useState(!1),P=(0,i.Z)(O,2),Y=P[0],W=P[1],H=o.useState(""),G=(0,i.Z)(H,2),V=G[0],$=G[1],U=(0,o.useState)(!0),J=(0,i.Z)(U,2),q=J[0],B=J[1],K=(0,c.j2)({data:{uid:null!==v&&void 0!==v&&v.insId?null===v||void 0===v?void 0:v.insId:t,page:L,limit:10,filter:"Expense",search:S},skip:null!==v&&void 0!==v&&v.insId?!(null!==v&&void 0!==v&&v.insId):!t}),Q=K.financeAllHistory,X=K.financeAllHistoryRefetch,ee=(0,u.u)().scrollToTop;o.useEffect((function(){ee()}),[]),o.useEffect((function(){(null!==v&&void 0!==v&&v.insId||t)&&X()}),[null===v||void 0===v?void 0:v.insId,t,L,S,X]),o.useEffect((function(){T&&M&&E((function(e){return e+1}))}),[T,M]),o.useEffect((function(){if(null!==Q&&void 0!==Q&&Q.history)if(S)N((function(){return null===Q||void 0===Q?void 0:Q.history})),B(!1);else{var e=[].concat((0,a.Z)(j),(0,a.Z)(null===Q||void 0===Q?void 0:Q.history)),t=(0,a.Z)(new Set(e.map(JSON.stringify))).map(JSON.parse);N(t),B(!1)}10===(null===Q||void 0===Q?void 0:Q.history.length)?z(!0):z(!1)}),[null===Q||void 0===Q?void 0:Q.history]);var te=(0,o.useCallback)((0,_.debounce)((function(e){return b(e)}),500),[]);return(0,f.jsx)("div",{className:l.Z.incomeContainer,children:(0,f.jsxs)("div",{className:l.Z.income,style:{display:"flex",gap:"2%"},children:[(0,f.jsxs)("div",{className:l.Z.incomeLeft,style:{width:Y?"50%":"100%"},children:[(0,f.jsx)("div",{className:l.Z.searchContainerr,children:(0,f.jsxs)("div",{className:l.Z.searchContainer,children:[(0,f.jsx)("img",{alt:"",src:"/images/search-dept-icon.svg"}),(0,f.jsx)("input",{type:"text",placeholder:n("search"),onChange:function(e){te(e.target.value)}})]})}),(0,f.jsxs)("div",{className:l.Z.itemsContainer,children:[null===j||void 0===j?void 0:j.map((function(e,t){return(null===j||void 0===j?void 0:j.length)===t+1?(0,f.jsx)("div",{ref:I,children:(0,f.jsx)(p,{history:e,setDetailView:W,setOnClickValue:$})},t):(0,f.jsx)(p,{history:e,setDetailView:W,setOnClickValue:$},t)})),q&&(0,f.jsx)(x.Z,{}),!q&&!j.length&&(0,f.jsx)(y.Z,{customStyleContainer:{marginTop:"9rem"},title:"No search found."})]})]}),Y&&(0,f.jsx)("div",{className:l.Z.incomeRight,children:(0,f.jsx)(h,{setDetailView:W,detailview:Y,onClickValue:V})})]})})},j=n(62732),N=n(29017),Z=n(69721),w=n(98734),S=n(37782),b=n(16871),F=n(43504),C=function(e){var t,a,s,r,c,u,v,h,p,_,x,y,g,C,I,T,R,k,M,z,D,A,L,E,O=e.history,P=e.insId,Y=(0,d.$G)().t,W=(0,b.UO)(),H=(0,o.useState)(""),G=(0,i.Z)(H,2),V=G[0],$=G[1],U=(0,o.useState)(!1),J=(0,i.Z)(U,2),q=J[0],B=J[1],K=(0,o.useState)(""),Q=(0,i.Z)(K,2),X=Q[0],ee=Q[1],te=(0,o.useState)(""),ne=(0,i.Z)(te,2),ie=ne[0],oe=ne[1],le=(0,o.useState)(""),de=(0,i.Z)(le,2),ae=de[0],se=de[1],re=(0,N.$d)({rid:V,skip:!V}),ce=re.getFeeReceiptDetail,ue=re.getFeeReceiptDetailRefetch;(0,o.useEffect)((function(){V&&ue()}),[V,ue]),(0,o.useEffect)((function(){null!==ce&&void 0!==ce&&ce.receipt&&null!==ce&&void 0!==ce&&ce.all_remain&&ee(ce)}),[ce]),(0,o.useEffect)((function(){if(X){var e,t=new Worker(new URL(n.p+n.u(4647),n.b));if("Hostel Application"===(null===X||void 0===X||null===(e=X.all_remain)||void 0===e?void 0:e.remaining_flow)){var i=(0,S.sp)(null===X||void 0===X?void 0:X.all_remain,null===X||void 0===X?void 0:X.receipt),o=i.institute,l=i.studentInfo,d=i.paymentReceiptInfo;t.postMessage({institute:o,studentInfo:l,paymentReceiptInfo:d,printReceiptType:"Refunded"===(null===d||void 0===d?void 0:d.transactonRefund)?"HOSTEL_REFUND":"HOSTEL"})}else{var a=(0,S.Hs)(null===X||void 0===X?void 0:X.all_remain,null===X||void 0===X?void 0:X.receipt),s=a.institute,r=a.studentInfo,c=a.paymentReceiptInfo;t.postMessage({institute:s,studentInfo:r,paymentReceiptInfo:c,printReceiptType:"Refunded"===(null===c||void 0===c?void 0:c.transactonRefund)?"ADMISSION_REFUND":"ADMISSION"})}t.onmessage=function(e){e&&(window.open(e.data,"_blank"),B((function(e){return!e})),ee(""),t.terminate())}}}),[X]);var ve=(0,N.H0)({rid:ie,skip:!ie}),me=ve.internalFeeReceipt,fe=ve.internalFeeReceiptRefetch;(0,o.useEffect)((function(){ie&&fe()}),[ie,fe]);(0,o.useEffect)((function(){null!==me&&void 0!==me&&me.receipt&&null!==me&&void 0!==me&&me.one_account&&se(me)}),[me]),(0,o.useEffect)((function(){if(ae){var e,t,n,i,o,l,d,a;B((function(e){return!e}));var s=null===ae||void 0===ae?void 0:ae.one_account,r=null===ae||void 0===ae?void 0:ae.receipt,c=null!==r&&void 0!==r&&null!==(e=r.finance)&&void 0!==e&&null!==(t=e.institute)&&void 0!==t&&t.insProfilePhoto?"".concat(Z.Yz,"/").concat(null===r||void 0===r||null===(n=r.finance)||void 0===n||null===(i=n.institute)||void 0===i?void 0:i.insProfilePhoto):"/images/certificate/logodemo.jpg",u=null!==r&&void 0!==r&&null!==(o=r.finance)&&void 0!==o&&null!==(l=o.institute)&&void 0!==l&&l.affliatedLogo?"".concat(Z.Yz,"/").concat(null===r||void 0===r||null===(d=r.finance)||void 0===d||null===(a=d.institute)||void 0===a?void 0:a.affliatedLogo):"/images/certificate/logodemo.jpg";s&&r&&((0,j.Z)(s,r,c,u),B(!1)),se(""),window.location.reload()}}),[ae]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:l.Z.sidebarheader,style:{gap:"1%"},title:"Income"===(null===O||void 0===O?void 0:O.payment_module_type)?"":"View Receipt",children:[(0,f.jsxs)("div",{className:l.Z.history_image_container,style:{width:"50%"},children:[null!==O&&void 0!==O&&null!==(t=O.payment_student)&&void 0!==t&&t.studentProfilePhoto?(0,f.jsx)(F.rU,{to:"/q/".concat(W.username,"/student/profile"),state:{sid:null===O||void 0===O||null===(a=O.payment_student)||void 0===a?void 0:a._id,viewAs:"FINANCE_MANAGER",instituteId:P},children:(0,f.jsx)("img",{src:"".concat(Z.yI,"/").concat(null===O||void 0===O||null===(s=O.payment_student)||void 0===s?void 0:s.studentProfilePhoto),alt:"qr code",style:{width:"60px",height:"60px",borderRadius:"12px"}})}):null,(0,f.jsxs)("div",{className:l.Z.text,children:[(0,f.jsx)("p",{className:l.Z.rcv,children:Y("recived_from")}),(0,f.jsx)("h6",{children:null!==O&&void 0!==O&&O.payment_student?"".concat(null===O||void 0===O||null===(r=O.payment_student)||void 0===r?void 0:r.studentFirstName," ").concat(null===O||void 0===O||null===(c=O.payment_student)||void 0===c?void 0:c.studentMiddleName," ").concat(null===O||void 0===O||null===(u=O.payment_student)||void 0===u?void 0:u.studentLastName):null!==(v=null===O||void 0===O||null===(h=O.payment_by_end_user_id)||void 0===h?void 0:h.userLegalName)&&void 0!==v?v:null===O||void 0===O?void 0:O.payment_by_end_user_id_name}),(0,f.jsxs)("p",{className:l.Z.rcv,children:[Y("gr_number")," ",null!==(p=null===O||void 0===O||null===(_=O.payment_student)||void 0===_?void 0:_.studentGRNO)&&void 0!==p?p:""]}),(0,f.jsx)("p",{className:l.Z.rcv,children:null!==(x=null===O||void 0===O||null===(y=O.payment_student)||void 0===y||null===(g=y.fee_structure)||void 0===g?void 0:g.unique_structure_name)&&void 0!==x?x:""})]})]}),(0,f.jsxs)("div",{className:l.Z.text,style:{width:"27%"},children:[(0,f.jsx)("p",{className:l.Z.rcv,style:{width:"100%"},children:Y("transaction_id")}),(0,f.jsx)("h6",{style:{width:"100%",wordWrap:"break-word"},children:null!==O&&void 0!==O&&O.razorpay_payment_id?null===O||void 0===O?void 0:O.razorpay_payment_id:null!==O&&void 0!==O&&null!==(C=O.fee_receipt)&&void 0!==C&&C.fee_utr_reference?null===O||void 0===O||null===(I=O.fee_receipt)||void 0===I?void 0:I.fee_utr_reference:"N/A"}),(0,f.jsxs)("p",{className:l.Z.rcv,style:{width:"100%"},children:[m()(null===O||void 0===O?void 0:O.created_at).format("DD MMM yyyy"),", ",m()(null===O||void 0===O?void 0:O.created_at).format("LT")]})]}),(0,f.jsxs)("div",{className:l.Z.text,style:{width:"20%"},children:[(0,f.jsxs)("p",{className:l.Z.rcv,style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Y("invoice_no")," ",null!==(T=null!==(R=null===O||void 0===O||null===(k=O.fee_receipt)||void 0===k?void 0:k.invoice_count)&&void 0!==R?R:null===O||void 0===O?void 0:O.payment_invoice_number)&&void 0!==T?T:"N/A",(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-receipt-download.svg",onClick:function(){var e,t,n;"Admission"===(null===O||void 0===O?void 0:O.payment_module_type)||"Admission Fees"===(null===O||void 0===O?void 0:O.payment_module_type)||"Hostel"===(null===O||void 0===O?void 0:O.payment_module_type)||"Hostel Fees"===(null===O||void 0===O?void 0:O.payment_module_type)?(n=null===O||void 0===O||null===(e=O.fee_receipt)||void 0===e?void 0:e._id)&&(B((function(e){return!e})),$(n),V===n&&ee(ce)):"Income"===(null===O||void 0===O?void 0:O.payment_module_type)||function(e){e&&(B((function(e){return!e})),oe(e))}(null===O||void 0===O||null===(t=O.fee_receipt)||void 0===t?void 0:t._id)},alt:"receipt icon",title:"Download Fees Receipt"})]}),(0,f.jsxs)("h6",{style:{width:"100%"},children:["Rs. ",null===O||void 0===O?void 0:O.payment_amount]}),(0,f.jsx)("p",{className:l.Z.rcv,style:{width:"100%"},children:"offline"===(null===(M=O.payment_mode)||void 0===M?void 0:M.toLowerCase())?null!==O&&void 0!==O&&null!==(z=O.fee_receipt)&&void 0!==z&&z.fee_payment_mode?"".concat(null===O||void 0===O||null===(D=O.fee_receipt)||void 0===D?void 0:D.fee_payment_mode):"Offline - No Receipt":"online"===(null===(A=O.payment_mode)||void 0===A?void 0:A.toLowerCase())?null!==O&&void 0!==O&&null!==(L=O.fee_receipt)&&void 0!==L&&L.fee_payment_mode?"".concat(null===O||void 0===O||null===(E=O.fee_receipt)||void 0===E?void 0:E.fee_payment_mode):"Online - No Receipt":null===O||void 0===O?void 0:O.payment_mode})]})]}),q&&(0,f.jsx)(w.Z,{})]})},I=function(e){var t=e.insId,n=(0,r.useSelector)((function(e){return e.financeChange})),d=o.useState([]),v=(0,i.Z)(d,2),m=v[0],h=v[1],p=(0,o.useState)(""),g=(0,i.Z)(p,2),j=g[0],N=g[1],Z=(0,s.YD)({skip:j}),w=(0,i.Z)(Z,2),S=w[0],b=w[1],F=o.useState(!0),I=(0,i.Z)(F,2),T=I[0],R=I[1],k=o.useState(1),M=(0,i.Z)(k,2),z=M[0],D=M[1],A=(0,o.useState)(!0),L=(0,i.Z)(A,2),E=L[0],O=L[1],P=(0,c.j2)({data:{uid:null!==n&&void 0!==n&&n.insId?null===n||void 0===n?void 0:n.insId:t,page:z,limit:10,filter:"",search:j},skip:null!==n&&void 0!==n&&n.insId?!(null!==n&&void 0!==n&&n.insId):!t}),Y=P.financeAllHistory,W=P.financeAllHistoryRefetch,H=(0,u.u)().scrollToTop;(0,o.useEffect)((function(){H()}),[]),o.useEffect((function(){(null!==n&&void 0!==n&&n.insId||t)&&(O(!0),W())}),[null===n||void 0===n?void 0:n.insId,t,z,j,W]),o.useEffect((function(){b&&T&&D((function(e){return e+1}))}),[b,T]),o.useEffect((function(){null!==Y&&void 0!==Y&&Y.history&&(j?(h((function(){return null===Y||void 0===Y?void 0:Y.history})),O(!1)):(h((function(e){return(0,a.Z)(new Set([].concat((0,a.Z)(e),(0,a.Z)(null===Y||void 0===Y?void 0:Y.history)).map(JSON.stringify))).map(JSON.parse)})),O(!1))),10===(null===Y||void 0===Y?void 0:Y.history.length)?R(!0):R(!1)}),[null===Y||void 0===Y?void 0:Y.history]);var G=(0,o.useCallback)((0,_.debounce)((function(e){return N(e)}),500),[]);return(0,f.jsxs)("div",{className:l.Z.incomeContainer,children:[(0,f.jsx)("div",{className:l.Z.searchContainerr,children:(0,f.jsxs)("div",{className:l.Z.searchContainer,children:[(0,f.jsx)("img",{alt:"",src:"/images/search-dept-icon.svg"}),(0,f.jsx)("input",{type:"text",placeholder:"Search",onChange:function(e){G(e.target.value)}})]})}),(0,f.jsxs)("div",{className:l.Z.itemsContainer,children:[null===m||void 0===m?void 0:m.map((function(e,n){return(null===m||void 0===m?void 0:m.length)===n+1?(0,f.jsx)("div",{ref:S,children:(0,f.jsx)(C,{history:e,insId:t})},n):(0,f.jsx)(C,{history:e,insId:t},n)})),E&&(0,f.jsx)(x.Z,{}),!E&&!m.length&&(0,f.jsx)(y.Z,{customStyleContainer:{marginTop:"9rem"},title:"No search found."})]})]})},T=n(98094),R=n(47167),k=n(14304),M={dueList:"Repayment_dueList__VxmM4",settle_card:"Repayment_settle_card__2OblX",settle_card_container:"Repayment_settle_card_container__HtUKu",settle_card_text:"Repayment_settle_card_text__y9C6+",settle_paragraph:"Repayment_settle_paragraph__GU5Cp"};function z(e){var t,n,i,o,l,a,s,r=e.repay,c=(0,d.$G)().t;return(0,f.jsxs)("div",{className:M.settle_card,children:[(0,f.jsxs)("div",{className:M.settle_card_container,children:[(0,f.jsx)("img",{src:"/images/career/newLogo.svg",alt:"logo",style:{width:"60px",height:"60px",borderRadius:"12px"}}),(0,f.jsxs)("div",{className:M.settle_card_text,children:[(0,f.jsxs)("h6",{children:[c("settlement_date")," "," : ",null!==(t=null===r||void 0===r?void 0:r.settlement_date)&&void 0!==t?t:""]}),(0,f.jsxs)("p",{className:M.settle_paragraph,children:[c("message")," "," : "," ",null!==(n=null===r||void 0===r?void 0:r.message)&&void 0!==n?n:""]}),(0,f.jsxs)("p",{className:M.settle_paragraph,children:[c("transition_id")," : "," ",null!==(i=null===r||void 0===r?void 0:r.txnId)&&void 0!==i?i:""]}),(0,f.jsxs)("p",{className:M.settle_paragraph,children:[c("bank_name")," : ",null!==(o=null===r||void 0===r||null===(l=r.bank_account)||void 0===l||null===(a=l[0])||void 0===a?void 0:a.finance_bank_account_name)&&void 0!==o?o:""]})]})]}),(0,f.jsxs)("div",{className:M.settle_card_text,style:{alignItems:"flex-end"},children:[null!==r&&void 0!==r&&r.excel_attach?(0,f.jsx)("a",{title:"Download File",href:"".concat(Z.yI,"/").concat(null===r||void 0===r?void 0:r.excel_attach),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,f.jsx)("img",{src:"/images/member_tab/subject/subject-excel-icon.svg",alt:"excel icon",style:{cursor:"pointer",height:"1.5rem"}})}):null,(0,f.jsxs)("h6",{children:["Rs. ",null!==(s=null===r||void 0===r?void 0:r.repayAmount)&&void 0!==s?s:""]}),(0,f.jsx)("p",{className:M.settle_paragraph,children:"".concat(m()(null===r||void 0===r?void 0:r.createdAt).format("DD MMM, yyyy"),", ").concat(m()(null===r||void 0===r?void 0:r.createdAt).format("LT"))})]})]})}var D=function(e){var t=e.insId,n=(0,r.useSelector)((function(e){return e.financeChange})),l=(0,s.YD)(),d=(0,i.Z)(l,2),c=d[0],v=d[1],m=(0,o.useState)(1),h=(0,i.Z)(m,2),p=h[0],_=h[1],g=(0,o.useState)(!0),j=(0,i.Z)(g,2),N=j[0],Z=j[1],w=(0,o.useState)(!0),S=(0,i.Z)(w,2),b=S[0],F=S[1],C=(0,o.useState)([]),I=(0,i.Z)(C,2),T=I[0],R=I[1],D=(0,k.K0)({info:{page:p,limit:10,fid:null!==n&&void 0!==n&&n.insId?null===n||void 0===n?void 0:n.insId:t},skip:null!==n&&void 0!==n&&n.insId?!(null!==n&&void 0!==n&&n.insId):!t}),A=D.data,L=D.refetch;(0,o.useEffect)((function(){(t||null!==n&&void 0!==n&&n.insId)&&(F(!0),L())}),[t,null===n||void 0===n?void 0:n.insId,p,L]),(0,o.useEffect)((function(){v&&N&&_((function(e){return e+1}))}),[v,N]);var E=(0,u.u)().scrollToTop;return(0,o.useEffect)((function(){E()}),[]),(0,o.useEffect)((function(){var e,t;null!==A&&void 0!==A&&A.repay?(R((function(e){var t,n;return null===(t=(0,a.Z)(new Set(null===(n=[].concat((0,a.Z)(e),(0,a.Z)(null===A||void 0===A?void 0:A.repay)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),F(!1)):0===(null===A||void 0===A||null===(e=A.repay)||void 0===e?void 0:e.length)&&F(!1),10===(null===A||void 0===A||null===(t=A.repay)||void 0===t?void 0:t.length)?Z(!0):Z(!1)}),[null===A||void 0===A?void 0:A.repay]),(0,f.jsxs)("div",{className:M.dueList,children:[null===T||void 0===T?void 0:T.map((function(e,t){return(null===T||void 0===T?void 0:T.length)===t+1?(0,f.jsx)("div",{ref:c,children:(0,f.jsx)(z,{repay:e})},null===e||void 0===e?void 0:e._id):(0,f.jsx)(z,{repay:e},null===e||void 0===e?void 0:e._id)})),b&&(0,f.jsx)(x.Z,{}),!b&&!T.length&&(0,f.jsx)(y.Z,{customStyleContainer:{marginTop:"9rem"},title:"No due payment."})]})};var A=function(e){var t=e.insId,n=(0,d.$G)().t,a=(0,b.s0)(),s=(0,o.useState)(0),r=(0,i.Z)(s,2),c=r[0],u=r[1],v=[{name:n("payment_receipts"),id:0},{name:n("payments"),id:1},{name:n("finance_settlement"),id:2}];return(0,f.jsxs)("div",{className:l.Z.history,children:[(0,f.jsxs)("section",{className:l.Z.moderator_container_title,children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){a(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,f.jsx)("div",{className:l.Z.moderator_container_title_filter,children:(0,f.jsx)("h6",{children:n("finance_transaction_hisotry")})})]}),(0,f.jsx)(T.Z,{customStyle:{width:"100%"}}),(0,f.jsx)(R.Z,{tabList:v,activeIndexTab:c,setActiveIndexTab:function(e){u(e)},showAs:!1,customStyleTab:{width:"33.3%"}}),(0,f.jsx)(T.Z,{customStyle:{width:"100%",marginBottom:"0.5rem"}}),0===c&&(0,f.jsx)(I,{insId:t}),1===c&&(0,f.jsx)(g,{insId:t}),2===c&&(0,f.jsx)(D,{insId:t})]})}},62732:function(e,t,n){"use strict";var i=n(35125),o=n(72426),l=n.n(o),d=new i.ZP({format:[270,210]}),a=d.internal.pageSize.getWidth();t.Z=function(e,t,i,o){var s,r,c,u,v,m,f,h,p,_,x,y,g,j,N,Z,w,S=arguments.length>4&&void 0!==arguments[4]&&arguments[4],b=n(62906),F=null===t||void 0===t||null===(s=t.finance)||void 0===s?void 0:s.institute,C=null===t||void 0===t||null===(r=t.finance)||void 0===r?void 0:r.financeHead,I=null===t||void 0===t?void 0:t.student,T=null===t||void 0===t?void 0:t.internal_fees,R=null===t||void 0===t?void 0:t.order_history;d.addImage(i,"JPEG",9,3,25,25),d.addImage(o,"JPEG",a-34,2.4,25,25),d.setLineWidth(8),d.setDrawColor(255,255,255),d.circle(21.4,15,16),d.setLineWidth(0),d.setLineWidth(8),d.setDrawColor(255,255,255),d.circle(a-21.4,15,16),d.setLineWidth(0);var k=d.splitTextToSize(null===F||void 0===F?void 0:F.insName,146);if(d.setFont(void 0,"normal"),k.length>1){var M=10;d.setFont("700"),d.setTextColor(18,18,18),d.setFontSize(16),d.text(107,M,k,"center"),M=k.length+145}else{var z=10;d.setFont("700"),d.setTextColor(18,18,18),d.setFontSize(18),d.text(107,z,k,"center"),z=k.length+145}d.setFont("Arial","normal","400"),d.setTextColor(18,18,18),d.setFontSize(10),d.text(a/2,k.length>1?23:19,null===F||void 0===F?void 0:F.insAddress,"center"),d.setFont("WorkSans"),d.setTextColor(18,18,18),d.setFontSize(10),d.text(a/2,k.length>1?29:25,"Mob No : ".concat(null===F||void 0===F?void 0:F.insPhoneNumber," , Mail: ").concat(null===F||void 0===F?void 0:F.insEmail),"center"),d.setFont("WorkSans"),d.setTextColor(0,0,0),d.setFontSize(18),d.text(a/2,37,"Fee Receipt","center"),d.setLineWidth(.7),d.setDrawColor(18,18,18),d.line(0,46,a,46),d.setTextColor(0,0,0),d.setFont(void 0,"bold"),d.setFontSize(10),d.text(9,54,"Invoice No :"),d.setFont(void 0,"normal"),d.setTextColor(0,0,0),d.setFontSize(10),d.text(32,54,null===t||void 0===t?void 0:t.invoice_count),d.setTextColor(0,0,0),d.setFont(void 0,"bold"),d.setFontSize(10),d.text(a-32,54,"Dated:",{align:"right"}),d.setFont(void 0,"normal"),d.setTextColor(0,0,0),d.setFontSize(10),d.text(a-12,54,l()(null===t||void 0===t?void 0:t.created_at).format("DD-MMM-YYYY"),{align:"right"}),d.setTextColor(0,0,0),d.setFont(void 0,"bold"),d.setFontSize(10),d.text(9,61,"Purpose:"),d.setFont(void 0,"normal"),d.setTextColor(0,0,0),d.setFontSize(10),d.text(32,61,"".concat(null!==(c=null===T||void 0===T?void 0:T.internal_fee_reason)&&void 0!==c?c:"N/A")),d.setTextColor(0,0,0),d.setFont(void 0,"bold"),d.setFontSize(10),d.text(9,68,"Amount: "),d.setFont(void 0,"normal"),d.setTextColor(0,0,0),d.setFontSize(10),d.text(32,68,"Rs. ".concat(null===t||void 0===t?void 0:t.fee_payment_amount)),d.setTextColor(0,0,0),d.setFont(void 0,"bold"),d.setFontSize(11),d.text(9,97," ".concat(S?"Received Through: ":"Paid Through: ")),d.setFont(void 0,"normal"),d.text(44,97,"".concat(null===e||void 0===e?void 0:e.finance_bank_name,", ").concat(null===e||void 0===e?void 0:e.finance_bank_account_name,", A/c No:  ").concat(null===e||void 0===e?void 0:e.finance_bank_account_number)),d.setTextColor(0,0,0),d.setFont(void 0,"bold"),d.text(9,107," On Account of: ");var D="Being money ".concat(S?"received":"paid"," by ").concat(null===t||void 0===t?void 0:t.fee_payment_mode,", Transaction ID: ").concat(null!==(u=null===R||void 0===R?void 0:R.razorpay_order_id)&&void 0!==u?u:"N/A"," ,  Dated: ").concat(l()(null===t||void 0===t?void 0:t.created_at).format("DD-MMM-YYYY"),"  for Rs. ").concat(null===t||void 0===t?void 0:t.fee_payment_amount,".").concat(S?"From":"To"," ","".concat(null!==(v=null===I||void 0===I?void 0:I.studentFirstName)&&void 0!==v?v:""," ").concat(null!==(m=null===I||void 0===I?void 0:I.studentMiddleName)&&void 0!==m?m:""," ").concat(null!==(f=null===I||void 0===I?void 0:I.studentLastName)&&void 0!==f?f:""," "),", towards ").concat(null!==(h=null===T||void 0===T?void 0:T.internal_fee_reason)&&void 0!==h?h:"N/A","."),A=d.splitTextToSize(D,a-20);if(A.length>1){var L=113;d.setFont(void 0,"normal"),d.setFontSize(11),d.setTextColor(18,18,18),d.text(10,L,A,"left"),L=A.length+151}else{var E=113;d.setFontSize(11),d.setFont(void 0,"normal"),d.setTextColor(18,18,18),d.setFontSize(12),d.text(10,E,A,"left"),E=A.length+151}var O,P,Y,W;(d.setTextColor(0,0,0),d.setFont(void 0,"bold"),d.setFontSize(11),d.text(9,131,"Bank Transaction Details: "),d.setFont(void 0,"normal"),d.text(9,138,"Payment Mode:  ".concat(null===t||void 0===t?void 0:t.fee_payment_mode)),null!==R&&void 0!==R&&R.razorpay_order_id)?d.text(9,144,"Transaction ID: ".concat(null!==(O=null===R||void 0===R?void 0:R.razorpay_order_id)&&void 0!==O?O:"N/A")):(d.text(9,144,"Bank Name: ".concat(null!==(P=null===e||void 0===e?void 0:e.fee_bank_name)&&void 0!==P?P:"N/A")),d.text(9,150,"Bank Holder Name: ".concat(null!==(Y=null===e||void 0===e?void 0:e.finance_bank_account_name)&&void 0!==Y?Y:"N/A")),d.text(9,156,"UTR / Ref No.: ".concat(null!==(W=null===e||void 0===e?void 0:e.fee_utr_reference)&&void 0!==W?W:"N/A")),d.text(9,162,"Date: ".concat(l()(null===t||void 0===t?void 0:t.created_at).format("DD-MMM-YYYY"))),d.text(9,168,"Amount: ".concat(null===t||void 0===t?void 0:t.fee_payment_amount)),d.text(9,174,"Amount in Words: ".concat((b.toWords(t.fee_payment_amount.toString()).match(/[a-zA-Z0-9]+/g)||[]).map((function(e){return"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))})).join(" ")," only.")));d.setFontSize(9),d.text(40,240,"".concat(C.staffFirstName," ").concat(null!==(p=C.staffMiddleName)&&void 0!==p?p:""," ").concat(C.staffLastName),{align:"center"}),d.setFont(void 0,"bold"),d.setFontSize(10),d.text(40,245,"Finance Manager",{align:"center"}),d.setFont(void 0,"normal"),d.setFontSize(9),d.text(153,240,"".concat(null!==(_=null===F||void 0===F||null===(x=F.displayPersonList)||void 0===x||null===(y=x[0])||void 0===y||null===(g=y.displayUser)||void 0===g?void 0:g.userLegalName)&&void 0!==_?_:"N/A"),{align:"center"}),d.setFont(void 0,"bold"),d.setFontSize(10),d.text(153,245,"".concat(null!==(j=null===F||void 0===F||null===(N=F.displayPersonList)||void 0===N||null===(Z=N[0])||void 0===Z?void 0:Z.displayTitle)&&void 0!==j?j:"N/A"),{align:"center"}),d.setTextColor(0,0,255),d.setFontSize(7),d.text(a-20,243,"Online Automated",null,50),d.text(a-18,244,"Generated fee receipt",null,50),d.text(a-14,246,"Through Qviple",null,50),d.setLineWidth(.2),d.setDrawColor(18,18,18),d.line(0,251,a,251),d.setTextColor(18,18,18),d.setFontSize(8),d.setFont(void 0,"normal"),d.text(a/2,259,"Note : No one except one who is making this certificate should interfere with any details of this invoice, othewise students will be expelled and legal action will be taken.","center"),window.open(d.output("bloburl",{filename:"".concat(null===I||void 0===I?void 0:I.studentFirstName," ").concat(null!==(w=null===I||void 0===I?void 0:I.studentMiddleName)&&void 0!==w?w:""," ").concat(null===I||void 0===I?void 0:I.studentLastName," -Internal Fee Receipt.pdf")}),"_blank")}},62906:function(e,t,n){!function(){"use strict";"object"==typeof self&&self.self===self&&self||"object"==typeof n.g&&n.g.global===n.g&&n.g;var i=9007199254740991;function o(e){return!("number"!=typeof e||e!=e||e===1/0||e===-1/0)}function l(e){return"number"==typeof e&&Math.abs(e)<=i}var d=/(hundred|thousand|(m|b|tr|quadr)illion)$/,a=/teen$/,s=/y$/,r=/(zero|one|two|three|four|five|six|seven|eight|nine|ten|eleven|twelve)$/,c={zero:"zeroth",one:"first",two:"second",three:"third",four:"fourth",five:"fifth",six:"sixth",seven:"seventh",eight:"eighth",nine:"ninth",ten:"tenth",eleven:"eleventh",twelve:"twelfth"};function u(e){return d.test(e)||a.test(e)?e+"th":s.test(e)?e.replace(s,"ieth"):r.test(e)?e.replace(r,v):e}function v(e,t){return c[t]}var m=1e3,f=1e6,h=1e9,p=1e12,_=1e15,x=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],y=["zero","ten","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"];function g(e,t){var n,i=parseInt(e,10);if(!o(i))throw new TypeError("Not a finite number: "+e+" ("+typeof e+")");if(!l(i))throw new RangeError("Input is not a safe number, it\u2019s either too large or too small.");return n=function e(t){var n,i,o=arguments[1];return 0===t?o?o.join(" ").replace(/,$/,""):"zero":(o||(o=[]),t<0&&(o.push("minus"),t=Math.abs(t)),t<20?(n=0,i=x[t]):t<100?(n=t%10,i=y[Math.floor(t/10)],n&&(i+="-"+x[n],n=0)):t<m?(n=t%100,i=e(Math.floor(t/100))+" hundred"):t<f?(n=t%m,i=e(Math.floor(t/m))+" thousand,"):t<h?(n=t%f,i=e(Math.floor(t/f))+" million,"):t<p?(n=t%h,i=e(Math.floor(t/h))+" billion,"):t<_?(n=t%p,i=e(Math.floor(t/p))+" trillion,"):t<=9007199254740992&&(n=t%_,i=e(Math.floor(t/_))+" quadrillion,"),o.push(i),e(n,o))}(i),t?u(n):n}var j={toOrdinal:function(e){var t=parseInt(e,10);if(!o(t))throw new TypeError("Not a finite number: "+e+" ("+typeof e+")");if(!l(t))throw new RangeError("Input is not a safe number, it\u2019s either too large or too small.");var n=String(t),i=Math.abs(t%100),d=11<=i&&i<=13,a=n.charAt(n.length-1);return n+(d?"th":"1"===a?"st":"2"===a?"nd":"3"===a?"rd":"th")},toWords:g,toWordsOrdinal:function(e){return u(g(e))}};e.exports&&(t=e.exports=j),t.numberToWords=j}()}}]);
//# sourceMappingURL=8455.64bd64a5.chunk.js.map