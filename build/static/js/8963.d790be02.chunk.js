"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[8963],{57431:function(e,t,n){var a=n(1413),o=(n(72791),n(80272)),i=n(80184);t.Z=function(e){var t,n=e.valueLength,s=e.maxLength,l=e.customStyle;return(0,i.jsxs)("section",{style:(0,a.Z)({},l),className:o.Z.string_container,children:[null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0,"/",s]})}},37570:function(e,t,n){var a=n(74165),o=n(15861),i=n(1413),s=n(37762),l=n(4942),c=n(29439),_=n(72791),r=n(36665),d=n(25313),u=n(98734),h=n(39230),v=n(98472),m=n(98094),f=n(33992),p=n(33710),g=n(72420),b=n(59965),x=n(80184);t.Z=function(e){var t=e.onClose,n=e.cid,S=e.className,Z=(0,h.$G)().t,N=(0,_.useState)(!1),j=(0,c.Z)(N,2),y=j[0],H=j[1],A=(0,_.useState)(!1),w=(0,c.Z)(A,2),C=w[0],F=w[1],R=(0,_.useState)(!1),k=(0,c.Z)(R,2),I=k[0],L=k[1],E=(0,_.useState)([]),O=(0,c.Z)(E,2),G=O[0],M=O[1],P=(0,_.useState)(""),T=(0,c.Z)(P,2),D=T[0],B=T[1],U=(0,_.useState)({startRange:"",endRange:""}),Y=(0,c.Z)(U,2),Q=Y[0],K=Y[1],z=(0,p.Z)(),V=z.daysInMonth,J=z.selectedDate,X=z.monthNames,q=z.getNextMonth,W=z.getPrevMonth,$=(0,f.R0)(),ee=(0,c.Z)($,1)[0];(0,_.useEffect)((function(){I&&(document.getElementById("attendance_download_file").click(),L(!1),M([]),H((function(e){return!e})))}),[I]);var te=function(e){if("ALL"===D){var t,n,a,o=(t={GRNO:"",RollNo:"",Name:"",Gender:""},(0,l.Z)(t,e.className,""),(0,l.Z)(t,"Class Overall Percentage",""),t),c=(0,s.Z)(null===e||void 0===e?void 0:e.mapSubject);try{for(c.s();!(a=c.n()).done;){var _=a.value;o[_.subjectName]="",o["".concat(_.subjectName," Overall Percentage")]=""}}catch(u){c.e(u)}finally{c.f()}o["Overall Percentage"]="";var r=null===e||void 0===e||null===(n=e.students)||void 0===n?void 0:n.map((function(e){var t,n,a=0,l=(0,i.Z)({},o);l.GRNO=null!==(t=null===e||void 0===e?void 0:e.studentGRNO)&&void 0!==t?t:"N/A",l.RollNo=null===e||void 0===e?void 0:e.studentROLLNO,l.Name="".concat((null===e||void 0===e?void 0:e.studentFirstName)+" "+(null===e||void 0===e?void 0:e.studentMiddleName)+" "+(null===e||void 0===e?void 0:e.studentLastName)),l.Gender=null===e||void 0===e?void 0:e.studentGender,l[e.className]="".concat(e.classWise.presentCount,"/").concat(e.classWise.totalCount),l["Class Overall Percentage"]=e.classWise.totalPercentage;var c,_=(0,s.Z)(null===e||void 0===e?void 0:e.subjects);try{for(_.s();!(c=_.n()).done;){var r=c.value;l[r.subjectName]="".concat(r.presentCount,"/").concat(r.totalCount),l["".concat(r.subjectName," Overall Percentage")]=r.totalPercentage,r.totalPercentage&&(a+=r.totalPercentage)}}catch(u){_.e(u)}finally{_.f()}return l["Overall Percentage"]=(a/(null===e||void 0===e||null===(n=e.subjects)||void 0===n?void 0:n.length)).toFixed(2),l}));return r}var d=new Date("".concat(V," ").concat(X[J.getMonth()]," ").concat(J.getFullYear()));return d=d.toISOString(),null===e||void 0===e?void 0:e.map((function(e){var t,n={};if("RANGE"===D)for(var a=1;a<=V;a++)n["".concat(a,"/").concat(d.substring(5,7),"/").concat(d.substring(0,4))]="";else if("All"===D)for(var o=1;o<=V;o++)n["".concat(o,"/").concat(d.substring(5,7),"/").concat(d.substring(0,4))]="";else for(var l=1;l<=V;l++)l<10?n["0".concat(l,"/").concat(d.substring(5,7),"/").concat(d.substring(0,4))]="":n["".concat(l,"/").concat(d.substring(5,7),"/").concat(d.substring(0,4))]="";var c,_=(0,s.Z)(null===e||void 0===e?void 0:e.availablity);try{for(_.s();!(c=_.n()).done;){var r=c.value;n["".concat(null===r||void 0===r?void 0:r.date)]=null===r||void 0===r?void 0:r.status}}catch(u){_.e(u)}finally{_.f()}return(0,i.Z)({GRNO:null!==(t=null===e||void 0===e?void 0:e.studentGRNO)&&void 0!==t?t:"N/A",RollNo:null===e||void 0===e?void 0:e.studentROLLNO,Name:(null===e||void 0===e?void 0:e.studentFirstName)+" "+(null===e||void 0===e?void 0:e.studentMiddleName)+" "+(null===e||void 0===e?void 0:e.studentLastName),Gender:null===e||void 0===e?void 0:e.studentGender},n)}))},ne=function(e){B(e)};return(0,x.jsxs)(r.Z,{onClose:t,children:[(0,x.jsxs)("div",{className:d.Z.filter_container,style:{minHeight:"15rem"},children:[(0,x.jsx)("h6",{className:d.Z.filter_title,children:Z("filter_and_export_student_attendance")}),(0,x.jsx)(m.Z,{customStyle:{width:"100%"}}),(0,x.jsxs)("section",{className:g.Z.tile_tile_container,style:{marginTop:"1rem"},children:[(0,x.jsx)("div",{className:""===D?g.Z.tile_tile_active:g.Z.tile_tile,onClick:function(){return ne("")},children:Z("month")}),(0,x.jsx)("div",{className:"ALL"===D?g.Z.tile_tile_active:g.Z.tile_tile,onClick:function(){return ne("ALL")},children:Z("all")})]}),D?"ALL"===D?null:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(b.Z,{labelText:Z("filter_from"),placeholder:Z("select_date"),name:"from",value:Q.startRange,onDateFunction:function(e){K((function(t){return(0,i.Z)((0,i.Z)({},t),{},{startRange:e})}))},errorShow:C.startRange,customStyleContainer:{position:"relative",width:"100%"},datePickerPosition:{top:"-1rem"}}),(0,x.jsx)(b.Z,{labelText:Z("filter_to"),placeholder:Z("select_date"),name:"to",value:Q.endRange,onDateFunction:function(e){K((function(t){return(0,i.Z)((0,i.Z)({},t),{},{endRange:e})}))},errorShow:C.endRange,customStyleContainer:{position:"relative",width:"100%"},datePickerPosition:{top:"-1rem",left:"-7rem"}})]}):(0,x.jsxs)("section",{className:d.Z.fees_head_title,children:[(0,x.jsx)("img",{src:"/images/members/back-icon-white.svg",style:{cursor:"pointer"},onClick:function(){W()}}),(0,x.jsxs)("h6",{className:"".concat(d.Z.yearmonth),children:["".concat(X[J.getMonth()])," ","".concat(J.getFullYear())]}),(0,x.jsx)("img",{src:"/images/members/forward-icon-white.svg",style:{cursor:"pointer"},onClick:function(){q()}})]}),(0,x.jsx)("button",{className:d.Z.next_btn,onClick:function(){var e=!1,t="";if("RANGE"===D){for(var i in t=function(e){var t={};for(var n in e)e[n]||(t[n]="".concat(n," is required!"));return t}(Q))if(i){e=!0;break}}else e=!1;if(e)F(t);else{H((function(e){return!e}));var s=new Date("".concat(V," ").concat(X[J.getMonth()]," ").concat(J.getFullYear()));s=s.toISOString(),ee({cid:n,is_type:D,month:"".concat(s.substring(5,7)),year:"".concat(s.substring(0,4)),zipData:Q}).then(function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var n,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(null===(n=t.data)||void 0===n?void 0:n.attendance_zip);case 2:o=e.sent,M((function(){return o})),L(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){}))}},style:{marginTop:"3rem"},children:Z("export_data")}),(0,x.jsx)(v.CSVLink,{data:G,filename:"".concat(S),id:"attendance_download_file"})]}),y&&(0,x.jsx)(u.Z,{})]})}},23664:function(e,t,n){var a=n(29439),o=n(72791),i=n(16871),s=n(43504),l=n(24582),c=n(39230),_=n(69721),r=n(34586),d=n(80184);t.Z=function(e){var t,n=e.cid,u=e.openAs,h=e.isDepartment,v=(0,i.UO)(),m=(0,c.$G)().t,f=(0,o.useState)([]),p=(0,a.Z)(f,2),g=p[0],b=p[1],x=(0,l.EY)({data:{cid:n,page:1,limit:30},skip:!n}),S=x.classAllStudent,Z=x.classAllStudentRefetch;(0,o.useEffect)((function(){n&&Z()}),[n,Z]),(0,o.useEffect)((function(){var e,t;null!==S&&void 0!==S&&null!==(e=S.classes)&&void 0!==e&&e.ApproveStudent&&b(null===S||void 0===S||null===(t=S.classes)||void 0===t?void 0:t.ApproveStudent)}),[null===S||void 0===S||null===(t=S.classes)||void 0===t?void 0:t.ApproveStudent]);return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:r.Z.catalog,style:{border:h?"none":"0.5px solid #cacaca"},children:[(0,d.jsx)("div",{className:r.Z.searchContainerr,children:(0,d.jsxs)("div",{className:r.Z.searchContainer,style:{width:"100%"},children:[(0,d.jsx)("img",{alt:"",src:"/images/search-dept-icon.svg"}),(0,d.jsx)("input",{type:"text",placeholder:m("search-label"),onChange:function(e){if(e.target.value){var t,n,a=null===S||void 0===S||null===(t=S.classes)||void 0===t||null===(n=t.ApproveStudent)||void 0===n?void 0:n.filter((function(t){var n,a,o;return null!==(n="".concat(null===t||void 0===t?void 0:t.studentFirstName," ").concat(null!==t&&void 0!==t&&t.studentMiddleName?(null===t||void 0===t?void 0:t.studentMiddleName)+" ":"").concat(null===t||void 0===t?void 0:t.studentLastName))&&void 0!==n&&null!==(a=n.toLowerCase())&&void 0!==a&&a.includes(null===(o=e.target.value)||void 0===o?void 0:o.toLowerCase())?t:null}));b(a)}else{var o;b(null===S||void 0===S||null===(o=S.classes)||void 0===o?void 0:o.ApproveStudent)}}})]})}),(0,d.jsx)("div",{className:r.Z.itemsContainer,children:null===g||void 0===g?void 0:g.map((function(e){var t;return(0,d.jsx)(s.rU,{to:"/q/".concat(v.username,"/student/profile"),state:{sid:null===e||void 0===e?void 0:e._id,viewAs:u||"INSTITUTE"},children:(0,d.jsxs)("div",{className:r.Z.item,children:[(0,d.jsx)("p",{children:null===e||void 0===e?void 0:e.studentROLLNO}),(0,d.jsx)("img",{alt:"",src:null!==e&&void 0!==e&&e.studentProfilePhoto?"".concat(_.yI,"/").concat(null===e||void 0===e?void 0:e.studentProfilePhoto):"/images/demo_users/user1.svg"}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("p",{children:[null===e||void 0===e?void 0:e.studentFirstName," ",null!==e&&void 0!==e&&e.studentMiddleName?null===e||void 0===e?void 0:e.studentMiddleName:" "," ",null===e||void 0===e?void 0:e.studentLastName]}),(0,d.jsxs)("p",{style:{marginTop:"0.3rem"},children:[m("gr_number")," ",null!==(t=null===e||void 0===e?void 0:e.studentGRNO)&&void 0!==t?t:""]})]})]})})}))})]})})}},87744:function(e,t,n){n.d(t,{Z:function(){return A}});var a=n(29439),o=n(72791),i=n(39230),s=n(98094),l=n(10406),c=n(11105),_=n(1413),r=n(36665),d=n(87457),u=n(57431),h=n(98734),v=n(97655),m=n(24582),f=n(80184),p=function(e){var t=e.onClose,n=e.onRefetch,l=e.openAs,c=e.batchMenu,p=e.onEdit,g=e.cid,b=(0,i.$G)().t,x=(0,o.useState)(""),S=(0,a.Z)(x,2),Z=S[0],N=S[1],j=(0,o.useState)(!1),y=(0,a.Z)(j,2),H=y[0],A=y[1],w=(0,o.useState)({batchName:"EDIT"===l?null===c||void 0===c?void 0:c.batchName:""}),C=(0,a.Z)(w,2),F=C[0],R=C[1],k=(0,m.QN)(),I=(0,a.Z)(k,1)[0];(0,o.useEffect)((function(){"EDIT"===l&&R((function(e){return(0,_.Z)((0,_.Z)({},e),{},{batchName:null===c||void 0===c?void 0:c.batchName})}))}),[l]);return(0,f.jsx)(r.Z,{onClose:t,children:(0,f.jsxs)("div",{className:d.Z.add_category_modal,children:[(0,f.jsxs)("div",{className:d.Z.add_category_modal_title,children:[(0,f.jsx)("h6",{children:b("EDIT"===l?"edit_batch":"add_new_batch")}),(0,f.jsx)("img",{src:"/images/close-post-icon.svg",onClick:t,alt:""})]}),(0,f.jsx)(s.Z,{customStyle:{width:"100%",marginTop:"0.6rem",marginBottom:"0.6rem"}}),(0,f.jsx)(v.Z,{labelText:b("batch-name-place"),placeholder:"e.g. 2022-23",name:"batchName",value:null===F||void 0===F?void 0:F.batchName,type:"text",onChange:function(e){var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)<=30&&R((function(t){return(0,_.Z)((0,_.Z)({},t),{},{batchName:e.target.value})}))},errorShow:Z}),(0,f.jsx)(u.Z,{maxLength:30,valueLength:F.batchName}),(0,f.jsx)("button",{className:d.Z.set_fees_structure_btn,title:"Create Batch",onClick:function(){F.batchName?"EDIT"===l?p(F.batchName):g&&(A((function(e){return!e})),I({cid:g,classBatch:F}).then((function(){n(),t(),A((function(e){return!e}))})).catch({})):N(!0)},style:{justifyContent:"center"},children:b("EDIT"===l?"update":"create")}),H&&(0,f.jsx)(h.Z,{})]})})},g=n(72426),b=n.n(g),x=n(12072),S=n(84489),Z=n(87049),N=function(e){var t=e.onClose,n=e.batchMenu,i=e.onRefetch,s=(0,o.useState)(!1),l=(0,a.Z)(s,2),c=l[0],_=l[1],r=(0,o.useState)(!1),d=(0,a.Z)(r,2),u=d[0],v=d[1],g=(0,m.EX)(),b=(0,a.Z)(g,1)[0],N=(0,m.Dj)(),j=(0,a.Z)(N,1)[0];return(0,f.jsx)(f.Fragment,{children:u?(0,f.jsx)(p,{openAs:"EDIT",onEdit:function(e){null!==n&&void 0!==n&&n._id&&(v(!1),_((function(e){return!e})),b({bid:null===n||void 0===n?void 0:n._id,updateBatch:{batchName:e}}).then((function(){i(),_((function(e){return!e})),t()})).catch({}))},batchMenu:n,onClose:function(){return v((function(e){return!e}))},onRefetch:i}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(S.Z,{onClose:t}),(0,f.jsxs)(x.Z,{customStyle:{zIndex:"1200"},children:[(0,f.jsxs)("div",{className:Z.Z.edit_modal_container,style:{width:"200px"},children:[(0,f.jsx)("h6",{className:Z.Z.edit,onClick:function(){return v((function(e){return!e}))},children:"Edit"}),(0,f.jsx)("h6",{className:Z.Z.remove,onClick:function(){null!==n&&void 0!==n&&n._id&&(_((function(e){return!e})),j({bid:null===n||void 0===n?void 0:n._id}).then((function(){i(),t(),_((function(e){return!e}))})).catch({}))},children:"Delete"})]}),c&&(0,f.jsx)(h.Z,{})]})]})})},j=n(16871),y=n(43504),H=function(e){var t,n=e.batch,s=e.onRefetch,c=e.carryParentState,r=e.viewAs,d=(0,i.$G)().t,u=(0,j.UO)(),h=(0,o.useState)(""),v=(0,a.Z)(h,2),m=v[0],p=v[1];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(y.rU,{to:"INSTITUTE"===r?"/q/".concat(u.username,"/class?type=batch-detail"):"/q/".concat(u.username,"/member/class/").concat(u.cname,"?a=batch-detail"),state:(0,_.Z)((0,_.Z)({},c),{},{batchName:null===n||void 0===n?void 0:n.batchName,batchId:null===n||void 0===n?void 0:n._id}),children:(0,f.jsxs)("div",{className:"".concat(l.Z.hostel_batch_container," ").concat(l.Z.hostel_batch_container_hover),children:[(0,f.jsx)("img",{className:l.Z.hostel_batch_image,src:"/images/master-24-grey-icon.svg",alt:"batch icon",style:{borderRadius:"0"}}),(0,f.jsxs)("div",{className:l.Z.hostel_batch_container_text,children:[(0,f.jsx)("h6",{children:null!==(t=null===n||void 0===n?void 0:n.batchName)&&void 0!==t?t:""}),(0,f.jsxs)("p",{children:[d("created_on_")," ",b()(null===n||void 0===n?void 0:n.createdAt).format("DD MMM yyyy")]})]}),(0,f.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(e){e.preventDefault(),p(n)},className:l.Z.hostel_batch_menu,title:"Menu"})]})},null===n||void 0===n?void 0:n._id),m&&(0,f.jsx)(N,{onClose:function(){return p("")},onRefetch:s,batchMenu:m})]})},A=function(e){var t,n=e.cid,_=e.carryParentState,r=e.viewAs,d=(0,i.$G)().t,u=(0,o.useState)(!1),h=(0,a.Z)(u,2),v=h[0],g=h[1],b=(0,o.useState)(!0),x=(0,a.Z)(b,2),S=x[0],Z=x[1],N=(0,m.eY)({cid:n,skip:!n}),j=N.getClassAllBatch,y=N.getClassAllBatchRefetch;(0,o.useEffect)((function(){n&&(Z(!0),y())}),[n,y]),(0,o.useEffect)((function(){var e;(null!==j&&void 0!==j&&j.all_batches||0===(null===j||void 0===j||null===(e=j.all_batches)||void 0===e?void 0:e.length))&&Z(!1)}),[null===j||void 0===j?void 0:j.all_batches]);var A=function(){Z(!0),y()},w=function(){g((function(e){return!e}))};return(0,f.jsxs)("div",{className:l.Z.hostel_container,style:"INSTITUTE"===r?{border:"none"}:null,children:[(0,f.jsx)("div",{className:l.Z.with_search,children:(0,f.jsx)("h6",{children:d("class_batch")})}),(0,f.jsx)(s.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,f.jsx)("div",{className:l.Z.add_container,children:(0,f.jsx)("p",{className:l.Z.add_new_category,onClick:w,children:d("create_new_batch")})}),null===j||void 0===j||null===(t=j.all_batches)||void 0===t?void 0:t.map((function(e){return(0,f.jsx)(H,{batch:e,onRefetch:A,carryParentState:_,viewAs:r},null===e||void 0===e?void 0:e._id)})),S&&(0,f.jsx)(c.Z,{status:"white"}),v&&(0,f.jsx)(p,{onClose:w,cid:n,onRefetch:A})]})}},41794:function(e,t,n){n.d(t,{Z:function(){return w}});var a=n(93433),o=n(29439),i=n(72791),s=n(39230),l=n(23441),c=n(98094),_=n(10406),r=n(11105),d=n(763),u=n(24582),h=n(16871),v=n(43504),m=n(69721),f=n(34586),p=n(84489),g=n(12072),b=n(98734),x=n(87049),S=n(80184),Z=function(e){var t=e.onClose,n=e.studentMenu,a=e.bid,s=e.onRefetch,l=(0,i.useState)(!1),c=(0,o.Z)(l,2),_=c[0],r=c[1],d=(0,u.i_)(),h=(0,o.Z)(d,1)[0];return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(p.Z,{onClose:t}),(0,S.jsxs)(g.Z,{customStyle:{zIndex:"1200"},children:[(0,S.jsx)("div",{className:x.Z.edit_modal_container,style:{width:"200px"},children:(0,S.jsx)("h6",{className:x.Z.remove,onClick:function(){a&&(r((function(e){return!e})),h({bid:a,destroy:{student_arr:[n]}}).then((function(){s(),t(),r((function(e){return!e}))})).catch({}))},children:"Delete"})}),_&&(0,S.jsx)(b.Z,{})]})]})},N=function(e){var t,n,a,l,c,_,r=e.student,d=e.batchId,u=e.onRefetch,p=(0,s.$G)().t,g=(0,h.UO)(),b=(0,i.useState)(""),x=(0,o.Z)(b,2),N=x[0],j=x[1];return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(v.rU,{to:"/q/".concat(g.username,"/student/profile"),state:{sid:null===r||void 0===r?void 0:r._id,viewAs:"CLASS_CATALOG"},children:(0,S.jsxs)("div",{className:f.Z.item,style:{position:"relative"},children:[(0,S.jsx)("p",{children:null!==(t=null===r||void 0===r?void 0:r.studentROLLNO)&&void 0!==t?t:""}),(0,S.jsx)("img",{alt:"",src:null!==r&&void 0!==r&&r.studentProfilePhoto?"".concat(m.yI,"/").concat(null===r||void 0===r?void 0:r.studentProfilePhoto):"/images/user_default_img.svg"}),(0,S.jsxs)("div",{className:f.Z.student_catalog_name,children:[(0,S.jsxs)("h5",{children:[null!==(n=null===r||void 0===r?void 0:r.studentFirstName)&&void 0!==n?n:""," ",null!==(a=null===r||void 0===r?void 0:r.studentMiddleName)&&void 0!==a?a:" "," ",null!==(l=null===r||void 0===r?void 0:r.studentLastName)&&void 0!==l?l:""]}),(0,S.jsxs)("h6",{children:[p("gr_number")," ",(0,S.jsx)("span",{style:{fontWeight:"500"},children:null!==(c=null===r||void 0===r?void 0:r.studentGRNO)&&void 0!==c?c:""}),null===r||void 0===r||null===(_=r.class_selected_batch)||void 0===_?void 0:_.map((function(e){return(null===e||void 0===e?void 0:e._id)===d?(0,S.jsx)("span",{style:{fontWeight:"500"},children:", ".concat(p("batch"),": ").concat(null===e||void 0===e?void 0:e.batchName)}):null}))]})]}),(0,S.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(e){e.preventDefault(),j(null===r||void 0===r?void 0:r._id)},className:f.Z.batch_container_menu,title:"Menu"})]})}),N&&(0,S.jsx)(Z,{onClose:function(){return j("")},bid:d,onRefetch:u,studentMenu:N})]})},j=n(37762),y=n(36665),H=n(44820),A=function(e){var t,n=e.cid,l=e.onClose,_=e.onRefetch,d=e.batchId,h=(0,s.$G)().t,v=(0,i.useState)(!0),f=(0,o.Z)(v,2),p=f[0],g=f[1],x=(0,i.useState)([]),Z=(0,o.Z)(x,2),N=Z[0],A=Z[1],w=(0,i.useState)(""),C=(0,o.Z)(w,2),F=C[0],R=C[1],k=(0,i.useState)(!1),I=(0,o.Z)(k,2),L=I[0],E=I[1],O=(0,i.useState)(!1),G=(0,o.Z)(O,2),M=G[0],P=G[1],T=(0,i.useState)(!1),D=(0,o.Z)(T,2),B=(D[0],D[1],(0,u.wD)()),U=(0,o.Z)(B,1)[0],Y=(0,u.EY)({data:{cid:n,page:1,limit:30},skip:!n}),Q=Y.classAllStudent,K=Y.classAllStudentRefetch;(0,i.useEffect)((function(){n&&(g(!0),K())}),[n,K]),(0,i.useEffect)((function(){var e,t,n,a;null!==Q&&void 0!==Q&&null!==(e=Q.classes)&&void 0!==e&&e.ApproveStudent?(A(null===Q||void 0===Q||null===(a=Q.classes)||void 0===a?void 0:a.ApproveStudent),g(!1)):0===(null===Q||void 0===Q||null===(t=Q.classes)||void 0===t||null===(n=t.ApproveStudent)||void 0===n?void 0:n.length)&&g(!1)}),[null===Q||void 0===Q||null===(t=Q.classes)||void 0===t?void 0:t.ApproveStudent]);var z=function(e){null!==F&&void 0!==F&&F.includes(e)?R((function(t){return null===t||void 0===t?void 0:t.filter((function(t){return t!==e}))})):R((function(t){return[].concat((0,a.Z)(t),[e])}))};return(0,S.jsx)(y.Z,{onClose:function(){},children:(0,S.jsxs)("div",{className:H.Z.assign_role_container,style:{width:"40rem"},children:[(0,S.jsxs)("section",{className:H.Z.assign_role_title,style:{justifyContent:"space-between"},children:[(0,S.jsxs)("h6",{children:[(null===F||void 0===F?void 0:F.length)>0?"".concat(null===F||void 0===F?void 0:F.length," "):"",h("select_student")]}),(0,S.jsxs)("div",{className:H.Z.button_container,style:{justifyContent:"flex-end",gap:"1rem"},children:[M?(0,S.jsx)("button",{className:H.Z.next_student_btn,title:"Remove All Student",onClick:function(){R([]),P(!1)},style:{marginRight:"0.7rem"},children:h("remove_all")}):(0,S.jsx)("button",{className:H.Z.next_student_btn,title:"Select All Student",onClick:function(){var e,t,n=[],a=(0,j.Z)(null===Q||void 0===Q||null===(e=Q.classes)||void 0===e?void 0:e.ApproveStudent);try{for(a.s();!(t=a.n()).done;){var o=t.value;n.push(null===o||void 0===o?void 0:o._id)}}catch(i){a.e(i)}finally{a.f()}R(n),P(!0)},style:{marginRight:"0.7rem"},children:h("select_all")}),(0,S.jsx)("button",{className:H.Z.next_student_btn,onClick:function(){d&&null!==F&&void 0!==F&&F.length&&(E((function(e){return!e})),U({bid:d,addStudent:{student_arr:F}}).then((function(){_(),l(),E((function(e){return!e}))})).catch({}))},children:h("add")}),(0,S.jsx)("img",{src:"/images/close-post-icon.svg",onClick:l,alt:"",style:{cursor:"pointer"}})]})]}),(0,S.jsx)(c.Z,{customStyle:{width:"100%"}}),(0,S.jsxs)("section",{style:{padding:"0 0.8rem"},children:[(0,S.jsx)("div",{className:H.Z.search_container,style:{marginBottom:"0.6rem"},children:(0,S.jsxs)("div",{className:H.Z.search_container_text,children:[(0,S.jsx)("img",{className:H.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,S.jsx)("input",{type:"text",placeholder:h("search-label"),onChange:function(e){if(e.target.value){var t,n,a=null===Q||void 0===Q||null===(t=Q.classes)||void 0===t||null===(n=t.ApproveStudent)||void 0===n?void 0:n.filter((function(t){var n,a,o,i,s,l;return null!==(n="".concat(null===t||void 0===t?void 0:t.studentFirstName," ").concat(null!==t&&void 0!==t&&t.studentMiddleName?(null===t||void 0===t?void 0:t.studentMiddleName)+" ":"").concat(null===t||void 0===t?void 0:t.studentLastName))&&void 0!==n&&null!==(a=n.toLowerCase())&&void 0!==a&&a.includes(null===(o=e.target.value)||void 0===o?void 0:o.toLowerCase())||null!==(i="".concat(null===t||void 0===t?void 0:t.studentGRNO))&&void 0!==i&&null!==(s=i.toLowerCase())&&void 0!==s&&s.includes(null===(l=e.target.value)||void 0===l?void 0:l.toLowerCase())?t:null}));A(a)}else{var o;A(null===Q||void 0===Q||null===(o=Q.classes)||void 0===o?void 0:o.ApproveStudent)}},autoFocus:!0,style:{border:"0.029vw solid rgba(0, 0, 0, 0.15)",width:"450px"}})]})}),null===N||void 0===N?void 0:N.map((function(e){var t,n,a,o;return(0,S.jsxs)("section",{className:null!==F&&void 0!==F&&F.includes(null===e||void 0===e?void 0:e._id)?"".concat(H.Z.student_container," ").concat(H.Z.select_hover_active):"".concat(H.Z.student_container," ").concat(H.Z.select_hover),style:{padding:"0.6rem 0.4rem",margin:"0",justifyContent:"space-between"},children:[(0,S.jsxs)("div",{className:H.Z.student_container_text,children:[(0,S.jsx)("p",{className:H.Z.student_container_gr,style:{marginBottom:"0"},children:null!==(t=null===e||void 0===e?void 0:e.studentROLLNO)&&void 0!==t?t:""}),(0,S.jsx)("img",{src:null!==e&&void 0!==e&&e.studentProfilePhoto?"".concat(m.yI,"/").concat(null===e||void 0===e?void 0:e.studentProfilePhoto):"/images/user_default_img.svg",alt:"student avatar"}),(0,S.jsxs)("div",{className:H.Z.student_container_name,children:[(0,S.jsx)("h6",{children:"".concat(null===e||void 0===e?void 0:e.studentFirstName," ").concat(null!==e&&void 0!==e&&e.studentMiddleName?null===e||void 0===e?void 0:e.studentMiddleName:""," ").concat(null===e||void 0===e?void 0:e.studentLastName)}),(0,S.jsxs)("p",{className:H.Z.student_container_gr,children:[h("gr_number")," ",null!==(n=null===e||void 0===e?void 0:e.studentGRNO)&&void 0!==n?n:"",null!==e&&void 0!==e&&null!==(a=e.class_selected_batch)&&void 0!==a&&a.batchName?", ".concat(h("batch"),": ").concat(null===e||void 0===e||null===(o=e.class_selected_batch)||void 0===o?void 0:o.batchName):null]})]})]}),(0,S.jsx)("div",{className:H.Z.student_container_text,children:null!==F&&void 0!==F&&F.includes(null===e||void 0===e?void 0:e._id)?(0,S.jsx)("img",{src:"/images/checkbox-icon.svg",alt:"icon",style:{borderRadius:"0",height:"1.5rem"},onClick:function(){return z(null===e||void 0===e?void 0:e._id)}}):(0,S.jsx)("img",{src:"/images/box-icon.svg",alt:"icon",style:{borderRadius:"0",height:"1.5rem"},onClick:function(){return z(null===e||void 0===e?void 0:e._id)}})})]},null===e||void 0===e?void 0:e._id)})),p&&(0,S.jsx)(r.Z,{status:"white"}),L&&(0,S.jsx)(b.Z,{})]})]})})},w=function(e){var t,n,v,m,f,p,g=e.cid,b=e.viewAs,x=(0,h.TH)(),Z=(0,s.$G)().t,j=(0,i.useState)(!1),y=(0,o.Z)(j,2),H=y[0],w=y[1],C=(0,l.YD)(),F=(0,o.Z)(C,2),R=F[0],k=F[1],I=(0,i.useState)(1),L=(0,o.Z)(I,2),E=L[0],O=L[1],G=(0,i.useState)(!0),M=(0,o.Z)(G,2),P=M[0],T=M[1],D=(0,i.useState)(!0),B=(0,o.Z)(D,2),U=B[0],Y=B[1],Q=(0,i.useState)([]),K=(0,o.Z)(Q,2),z=K[0],V=K[1],J=(0,i.useState)(!1),X=(0,o.Z)(J,2),q=X[0],W=X[1],$=(0,i.useState)(""),ee=(0,o.Z)($,2),te=ee[0],ne=ee[1],ae=(0,u.WJ)({data:{bid:null===(t=x.state)||void 0===t?void 0:t.batchId,page:E,limit:10,search:te},skip:!(null!==(n=x.state)&&void 0!==n&&n.batchId)}),oe=ae.getClassBatchAllStudent,ie=ae.getClassBatchAllStudentRefetch;(0,i.useEffect)((function(){var e;null!==(e=x.state)&&void 0!==e&&e.batchId&&(Y(!0),ie())}),[null===(v=x.state)||void 0===v?void 0:v.batchId,E,te,ie]),(0,i.useEffect)((function(){k&&P&&O((function(e){return e+1}))}),[k,P]),(0,i.useEffect)((function(){var e,t;q?(V(null===oe||void 0===oe?void 0:oe.all_students),Y(!1),W(!1)):te?(V(null===oe||void 0===oe?void 0:oe.all_students),Y(!1)):null!==oe&&void 0!==oe&&oe.all_students?(V((function(e){var t,n;return null===(t=(0,a.Z)(new Set(null===(n=[].concat((0,a.Z)(e),(0,a.Z)(null===oe||void 0===oe?void 0:oe.all_students)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),Y(!1)):0===(null===oe||void 0===oe||null===(t=oe.all_students)||void 0===t?void 0:t.length)&&Y(!1);10===(null===oe||void 0===oe||null===(e=oe.all_students)||void 0===e?void 0:e.length)?T(!0):T(!1)}),[null===oe||void 0===oe?void 0:oe.all_students]);var se=(0,i.useCallback)((0,d.debounce)((function(e){return ne(e)}),500),[]),le=function(){O(1),W(!0),Y(!0),ie()},ce=function(){w((function(e){return!e}))};return(0,S.jsxs)("div",{className:_.Z.hostel_container,style:"INSTITUTE"===b?{border:"none"}:null,children:[(0,S.jsxs)("div",{className:_.Z.with_search,children:[(0,S.jsx)("h6",{children:null!==(m=null===(f=x.state)||void 0===f?void 0:f.batchName)&&void 0!==m?m:""}),(0,S.jsx)("section",{className:_.Z.search_container,children:(0,S.jsxs)("div",{className:_.Z.search_container_input,children:[(0,S.jsx)("img",{className:_.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,S.jsx)("input",{type:"text",placeholder:"Search students...",onChange:function(e){se(e.target.value)}})]})})]}),(0,S.jsx)(c.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,S.jsx)("div",{className:_.Z.add_container,children:(0,S.jsx)("p",{className:_.Z.add_new_category,onClick:ce,children:Z("add_student")})}),null===z||void 0===z?void 0:z.map((function(e,t){var n,a;return(null===z||void 0===z?void 0:z.length)===t+1?(0,S.jsx)("div",{ref:R,children:(0,S.jsx)(N,{student:e,onRefetch:le,batchId:null===(n=x.state)||void 0===n?void 0:n.batchId})},null===e||void 0===e?void 0:e._id):(0,S.jsx)(N,{student:e,onRefetch:le,batchId:null===(a=x.state)||void 0===a?void 0:a.batchId},null===e||void 0===e?void 0:e._id)})),U&&(0,S.jsx)(r.Z,{status:"white"}),H&&(0,S.jsx)(A,{onClose:ce,cid:g,onRefetch:le,batchId:null===(p=x.state)||void 0===p?void 0:p.batchId})]})}},80272:function(e,t){t.Z={string_container:"StringLength_string_container__v6b--",mark_container:"StringLength_mark_container__KQsQy"}},10406:function(e,t){t.Z={hostel_container:"Hostel_hostel_container__mWxpf",moderator_container_title:"Hostel_moderator_container_title__DHglE",with_search:"Hostel_with_search__f5WON",search_container:"Hostel_search_container__uShHd",search_container_input:"Hostel_search_container_input__zwGLQ",searchIcon:"Hostel_searchIcon__x1CGz",search_container_filter:"Hostel_search_container_filter__HHOHi",add_new_category:"Hostel_add_new_category__4wi4R",rules_card:"Hostel_rules_card__CQp2X",rules_card_title:"Hostel_rules_card_title__dF+vA",download_attachment:"Hostel_download_attachment__Si3Or",menu_icon:"Hostel_menu_icon__lcZzz",unit_room_container:"Hostel_unit_room_container__7UtbF",unit_room_card_container:"Hostel_unit_room_card_container__Kp0n3",unit_room_card_lines:"Hostel_unit_room_card_lines__0fMZq",unit_room_container_box:"Hostel_unit_room_container_box__ZyOBC",unit_room_container_box_inner:"Hostel_unit_room_container_box_inner__xV4l4",hostelite_container:"Hostel_hostelite_container__s+iLw",hostelite_container_inner:"Hostel_hostelite_container_inner__55Vvd",hostelite_container_inner_text:"Hostel_hostelite_container_inner_text__rVUi9",announcement_card:"Hostel_announcement_card__B6Mf3",upload_excel_file:"Hostel_upload_excel_file__rm6Kk",student_renewal_card:"Hostel_student_renewal_card__4GLAW",student_renewal_date:"Hostel_student_renewal_date__jkFEO",student_renewal_btn_group:"Hostel_student_renewal_btn_group__bEhWE",student_renewal_cancel_btn:"Hostel_student_renewal_cancel_btn__FweAs",student_renewal_confirm_btn:"Hostel_student_renewal_confirm_btn__SrCfT",take_admission:"Hostel_take_admission__bLvfX",vehical_card_container:"Hostel_vehical_card_container__9+Xlp",vehical_card_text:"Hostel_vehical_card_text__L81rs",vehicle_list:"Hostel_vehicle_list__7KSVv",transpotation_container:"Hostel_transpotation_container__0ZRwk",transpotation_head:"Hostel_transpotation_head__bpQL4",transpotation_card:"Hostel_transpotation_card__awZ3a",transpotation_card_detail:"Hostel_transpotation_card_detail__SR+h7",transpotation_card_detail_text:"Hostel_transpotation_card_detail_text__V+znO",joining_date:"Hostel_joining_date__KU7m1",transpotation_card_detail_other:"Hostel_transpotation_card_detail_other__qQyz8",transpotation_card_detail_other_inner:"Hostel_transpotation_card_detail_other_inner__tkjuA",add_plus_icon:"Hostel_add_plus_icon__3Goaz",hostel_batch_container:"Hostel_hostel_batch_container__+B8sL",hostel_batch_container_hover:"Hostel_hostel_batch_container_hover__2rElc",hostel_batch_container_text:"Hostel_hostel_batch_container_text__w3JHe",hostel_batch_image:"Hostel_hostel_batch_image__fpTGv",hostel_batch_menu:"Hostel_hostel_batch_menu__xSgqR",add_container:"Hostel_add_container__KgZLe",mentor_status_card_paragraph:"Hostel_mentor_status_card_paragraph__b+ePZ",mentor_attendance_container:"Hostel_mentor_attendance_container__KAxwN",mentor_attendance_btn:"Hostel_mentor_attendance_btn__yX+++",mentor_attendance_btn_active:"Hostel_mentor_attendance_btn_active__JUY7m",selectBtn:"Hostel_selectBtn__w2fQe",passenger_fees_button:"Hostel_passenger_fees_button__VaNk-",linked_institute_btn:"Hostel_linked_institute_btn__p8os7"}},87457:function(e,t){t.Z={fess_container:"HostelFeeStructure_fess_container__gHl0X",category_header:"HostelFeeStructure_category_header__I2HL1",category_header_title:"HostelFeeStructure_category_header_title__s-+Ue",fees_category:"HostelFeeStructure_fees_category__B7+bY",fees_category_icon:"HostelFeeStructure_fees_category_icon__0dIYS",fees_category_text:"HostelFeeStructure_fees_category_text__9eLVv",department_container:"HostelFeeStructure_department_container__O8ih7",department_card_name:"HostelFeeStructure_department_card_name__zRimu",department_card_head:"HostelFeeStructure_department_card_head__jgtTQ",department_card_title:"HostelFeeStructure_department_card_title__GWgG8",add_new_category:"HostelFeeStructure_add_new_category__XcjdS",category_card:"HostelFeeStructure_category_card__wfpko",fees_card_text:"HostelFeeStructure_fees_card_text__72mbQ",category_card_fee:"HostelFeeStructure_category_card_fee__-H7Jk",fees_card_text_bottom:"HostelFeeStructure_fees_card_text_bottom__qh8gw",department_card_container:"HostelFeeStructure_department_card_container__-2Crn",department_card_image:"HostelFeeStructure_department_card_image__lIaKI",fees_card:"HostelFeeStructure_fees_card__JSZ62",add_category_modal:"HostelFeeStructure_add_category_modal__SNa6F",add_category_modal_title:"HostelFeeStructure_add_category_modal_title__Wp4cx",structure_container_title:"HostelFeeStructure_structure_container_title__QO3pf",add_category_modal_title_left:"HostelFeeStructure_add_category_modal_title_left__-tw50",set_fees_structure_btn:"HostelFeeStructure_set_fees_structure_btn__cDx00",installment_list:"HostelFeeStructure_installment_list__DVVY6",fees_head_title:"HostelFeeStructure_fees_head_title__5iKU-",fees_head_installment:"HostelFeeStructure_fees_head_installment__qfDNH",table_heading:"HostelFeeStructure_table_heading__829Ce",table_container:"HostelFeeStructure_table_container__++dQ6",table_body:"HostelFeeStructure_table_body__yYA3R",table_body_list:"HostelFeeStructure_table_body_list__6b+hD",fee_head_amount_input:"HostelFeeStructure_fee_head_amount_input__shxNv",add_fees_head_btn:"HostelFeeStructure_add_fees_head_btn__fQxGY",fees_total:"HostelFeeStructure_fees_total__nUZOV",create_fees_structure_btn:"HostelFeeStructure_create_fees_structure_btn__zDHNU",fees_card_hover:"HostelFeeStructure_fees_card_hover__yrJ9c",fee_middle_section:"HostelFeeStructure_fee_middle_section__dEeHy",fee_middle_confirm_button:"HostelFeeStructure_fee_middle_confirm_button__FgdbD",fee_middle_section_container:"HostelFeeStructure_fee_middle_section_container__c6TcF",edit_icon:"HostelFeeStructure_edit_icon__HVx60",search_container:"HostelFeeStructure_search_container__ZyJeL",search_container_text:"HostelFeeStructure_search_container_text__B6vPH",searchIcon:"HostelFeeStructure_searchIcon__e9Xch",category_card_hover:"HostelFeeStructure_category_card_hover__0Pf9G",category_card_hover_active:"HostelFeeStructure_category_card_hover_active__Crl5Y",menu_icon:"HostelFeeStructure_menu_icon__KQELw",upload_excel_container:"HostelFeeStructure_upload_excel_container__YAup-",upload_excel_file:"HostelFeeStructure_upload_excel_file__Lg41E",leading_person_container:"HostelFeeStructure_leading_person_container__Xlilh",leading_person_text:"HostelFeeStructure_leading_person_text__6EbK5"}},44820:function(e,t){t.Z={moderator_container:"AdmissionScholarship_moderator_container__GUbIQ",moderator_container_title:"AdmissionScholarship_moderator_container_title__MbN+U",add_new_moderator:"AdmissionScholarship_add_new_moderator__MGNeH",menu_icon:"AdmissionScholarship_menu_icon__B9YVN",scholarship_card_container:"AdmissionScholarship_scholarship_card_container__YiX+2",assign_role_container:"AdmissionScholarship_assign_role_container__KLSzY",assign_role_title:"AdmissionScholarship_assign_role_title__nA6OZ",applicable_to_btn:"AdmissionScholarship_applicable_to_btn__n25MI",category_card:"AdmissionScholarship_category_card__kRdxE",category_card_hover_active:"AdmissionScholarship_category_card_hover_active__XXJS8",scholar_preview_container:"AdmissionScholarship_scholar_preview_container__K0hzS",candidate_card_container:"AdmissionScholarship_candidate_card_container__1Lc04",candidate_card_container_text:"AdmissionScholarship_candidate_card_container_text__zUgxy",candidate_card_row:"AdmissionScholarship_candidate_card_row__hDYoA",student_container:"AdmissionScholarship_student_container__Ry2e1",route_container:"AdmissionScholarship_route_container__wEm3e",student_container_text:"AdmissionScholarship_student_container_text__KwIJo",student_container_name:"AdmissionScholarship_student_container_name__bfrbV",search_container:"AdmissionScholarship_search_container__2ENBd",search_container_text:"AdmissionScholarship_search_container_text__X17qk",search_container_input:"AdmissionScholarship_search_container_input__QSRll",searchIcon:"AdmissionScholarship_searchIcon__YPa6A",allot_container:"AdmissionScholarship_allot_container__iJKiV",unused_container:"AdmissionScholarship_unused_container__i6a51",unused_container_text:"AdmissionScholarship_unused_container_text__KuIrZ",unused_container_text_inner:"AdmissionScholarship_unused_container_text_inner__D+gFH",intake_history:"AdmissionScholarship_intake_history__iDyMU",corpus_card:"AdmissionScholarship_corpus_card__bOH21",recieve_from:"AdmissionScholarship_recieve_from__yNMCX",save_entry:"AdmissionScholarship_save_entry__eYyIF",row_search:"AdmissionScholarship_row_search__5fuBb",with_search:"AdmissionScholarship_with_search__xsHhZ",search_container_filter:"AdmissionScholarship_search_container_filter__IiiOs",edit_btn:"AdmissionScholarship_edit_btn__qF3Jg",upload_excel_file:"AdmissionScholarship_upload_excel_file__nkxKf",student_table:"AdmissionScholarship_student_table__ZpE3f",student_table_header:"AdmissionScholarship_student_table_header__ErkoZ",student_table_header_label:"AdmissionScholarship_student_table_header_label__dQ+Vq",student_table_content_card:"AdmissionScholarship_student_table_content_card__mmiv4",student_table_profile:"AdmissionScholarship_student_table_profile__Ak4+x",student_table_header_name:"AdmissionScholarship_student_table_header_name__xAxgH",student_table_header_label_text:"AdmissionScholarship_student_table_header_label_text__AuJCV",student_table_contact:"AdmissionScholarship_student_table_contact__5nWX+",student_table_contact_email:"AdmissionScholarship_student_table_contact_email__daQ9J",student_table_contact_number:"AdmissionScholarship_student_table_contact_number__zN4WT",button_container:"AdmissionScholarship_button_container__a0HXK",next_btn:"AdmissionScholarship_next_btn__iHJSQ",select_hover:"AdmissionScholarship_select_hover__1++hd",select_hover_active:"AdmissionScholarship_select_hover_active__Esmn5",os_filter_container:"AdmissionScholarship_os_filter_container__nAIWN",os_reminder:"AdmissionScholarship_os_reminder__Hb6hi",next_student_btn:"AdmissionScholarship_next_student_btn__kbhv7"}}}]);
//# sourceMappingURL=8963.d790be02.chunk.js.map