"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[27740,81221,58936,16825],{16894:(e,n,t)=>{t.r(n),t.d(n,{default:()=>Y});var l=t(39230),i=t(63687),o=t(56959),a=t(16871),d=t(43504),s=t(72791),r=t(23441),u=t(6758),c=t(91427),v=t(98684),m=t(2651),_=t(55336),h=t(1669),f=t(21348),p=t(90904),x=t(1095),j=t(9228),g=t(93638),y=t(38857),b=t(16925),S=t(61055),Z=t(60924),I=t(43997),C=t(50518),k=t(99183),N=t(60307),F=t(71439),O=t(64499),T=t(85794),R=t(80184);const E=e=>{var n,t,i;let{onClose:o,financeId:d,onRefetch:r,otherFeesId:c,student:m,instituteId:h,isNonExisting:x}=e;const{t:j}=(0,l.$G)(),[E,P]=(0,s.useState)(!1),L=(0,a.UO)(),[G,w]=(0,s.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),[A,D]=(0,s.useState)(""),[H,q]=(0,s.useState)({open:!1,msg:"",variant:"error"}),[B,M]=(0,s.useState)({amount:0,type:"Other",isTransaction:!1}),{studentInstituteCharges:$}=(0,N.xY)({data:{id:h},skip:!h}),[K]=(0,u.iJ)();(0,s.useEffect)((()=>{var e,n;null!==m&&void 0!==m&&null!==(e=m.other_fees_obj)&&void 0!==e&&e.price&&(w((e=>{var n,t;return{...e,amount:+(null===m||void 0===m||null===(n=m.other_fees_obj)||void 0===n?void 0:n.price),fee_payment_amount:+(null===m||void 0===m||null===(t=m.other_fees_obj)||void 0===t?void 0:t.price)}})),M({amount:+(null===m||void 0===m||null===(n=m.other_fees_obj)||void 0===n?void 0:n.price),type:"Other",isTransaction:!1}))}),[m]);const U=e=>{w((n=>({...n,[e.target.name]:e.target.value})))};return(0,R.jsxs)(R.Fragment,{children:[B.isTransaction?(0,R.jsx)(F.Z,{onClose:o,allContent:{...B,platform_charges:null===$||void 0===$||null===(n=$.platform_charges)||void 0===n?void 0:n.percentage},checkoutAdmissionHandler:()=>{var e,n,t,l,i,o,a,d,s,r,u;let v=2.1*+(null===B||void 0===B?void 0:B.amount)/100,_=v+18*+v/100;const f=parseInt(null===B||void 0===B?void 0:B.amount);var p=Math.ceil(f+ +_.toFixed(2));(0,O.oU)({amount:null!==(e=+(null===G||void 0===G?void 0:G.amount))&&void 0!==e?e:10,amount_nocharges:null!==(n=+p)&&void 0!==n?n:0,type:"Other",paidBy:null===m||void 0===m?void 0:m._id,paidTo:h,moduleId:c,ad_status_id:null,payment_installment:null,ad_install:null,month:null,payment_remain_1:null,payment_card_type:null,payment_book_id:null,name:L.username,isApk:"web",payment_card_id:null,payment_remain_fees:null,charge:{num_platform_percent:null!==(t=null===$||void 0===$||null===(l=$.platform_charges)||void 0===l?void 0:l.percentage)&&void 0!==t?t:0,num_platform_max:null!==(i=null===$||void 0===$||null===(o=$.platform_charges)||void 0===o?void 0:o.maximum)&&void 0!==i?i:0,num_trans_pecent:null!==(a=null===$||void 0===$||null===(d=$.transaction_charges)||void 0===d?void 0:d.percentage)&&void 0!==a?a:0,num_trans_max:null!==(s=null===$||void 0===$||null===(r=$.transaction_charges)||void 0===r?void 0:r.maximum)&&void 0!==s?s:0,num_app_max:null!==(u=null===$||void 0===$?void 0:$.application_charges)&&void 0!==u?u:0},nsid:null}).then((e=>{var n,t;window.onScriptLoad(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(t=n.body)||void 0===t?void 0:t.txnToken,null===e||void 0===e?void 0:e.order,null===e||void 0===e?void 0:e.amount)})).catch((e=>{console.info(e)}))},isOptimzed:!0}):(0,R.jsx)(y.Z,{onClose:o,children:(0,R.jsxs)("div",{className:b.Z.modal_container,children:[(0,R.jsx)(f.default,{children:(0,R.jsxs)("div",{className:b.Z.modal_container_outer_header,children:[(0,R.jsx)("div",{className:b.Z.modal_container_header,children:(0,R.jsx)("h6",{children:j("collect_fees")})}),(0,R.jsx)("img",{src:"".concat(v.J7,"/close.svg"),alt:"close icon",onClick:o})]})}),(0,R.jsx)(p.Z,{}),(0,R.jsxs)(f.default,{customStyle:{paddingTop:"0"},children:[(0,R.jsxs)("div",{className:b.Z.admission_fees_row,children:[(0,R.jsxs)("h6",{children:[j("applicable_amount")," :"]}),(0,R.jsxs)("h6",{children:[j("rs_only")," ",null!==(t=null===m||void 0===m||null===(i=m.other_fees_obj)||void 0===i?void 0:i.price)&&void 0!==t?t:0]})]}),(0,R.jsx)(S.Z,{label:j("amount"),placeholder:j("amoute_details_collect"),name:"amount",value:G.amount,type:"tel",onChange:e=>{w((n=>({...n,amount:+e.target.value,fee_payment_amount:+e.target.value}))),M((n=>({...n,amount:+e.target.value})))},errorShow:A.amount,msg:A.rest_issue}),(0,R.jsx)(C.Z,{paymentHeading:j("payment_type_mode"),selectLabel:j("mode_placeholder"),onClick:e=>{w((n=>({...n,mode:"Online",fee_payment_mode:e})))},errorShow:A.fee_payment_mode,defalutValue:G.fee_payment_mode,selectedValue:j("please_select_payment_mode"),isAuthority:x?"admissionCollectMode":"admissionCollectModePg",customLabelStyle:{marginTop:"0"}}),"Payment Gateway"===G.fee_payment_mode?(0,R.jsx)(g.Z,{label:"collect",onAction:()=>{let e=(0,k.l)({amount:B.amount});(0,k.x)(e)?null!==$&&void 0!==$&&$.institute?d&&c&&null!==m&&void 0!==m&&m._id&&!x&&M((e=>({...e,isTransaction:!0}))):q({open:!0,msg:"Online Payment Not Activated",variant:"error"}):D(e)}}):(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Z.Z,{label:j("select_date_of_transaction"),placeholder:j("please_select_date"),name:"transaction_date",value:G.transaction_date,onChange:e=>{w((n=>({...n,transaction_date:(0,I.jh)(e)})))},errorShow:A.transaction_date}),"Cash"===G.fee_payment_mode?null:(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(S.Z,{label:j("bank_name_collect"),placeholder:j("please_enter_bank_name"),name:"fee_bank_name",value:G.fee_bank_name,type:"text",onChange:U}),(0,R.jsx)(S.Z,{label:j("banke_holder_name"),placeholder:j("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:G.fee_bank_holder,type:"text",onChange:U}),(0,R.jsx)(S.Z,{label:j("cheque_dd_neft"),placeholder:j("please_enter_utr_ref_number"),name:"fee_utr_reference",value:G.fee_utr_reference,type:"text",onChange:U})]}),(0,R.jsx)(g.Z,{label:"collect",onAction:()=>{let e=(0,k.l)(G,["mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference"]);var n,t,l,i,a,s,u;(0,k.x)(e)&&null!==m&&void 0!==m&&m._id&&c?(P((e=>!e)),K({fid:d,bodyParameter:{ofid:c,sid:null===m||void 0===m?void 0:m._id,amount:null!==(n=null===G||void 0===G?void 0:G.amount)&&void 0!==n?n:0,mode:"Cash"===(null===G||void 0===G?void 0:G.fee_payment_mode)?"Offline":null!==(t=null===G||void 0===G?void 0:G.mode)&&void 0!==t?t:"",fee_payment_mode:"Cash"===(null===G||void 0===G?void 0:G.fee_payment_mode)?"By Cash":null===G||void 0===G?void 0:G.fee_payment_mode,fee_payment_amount:null!==(l=null===G||void 0===G?void 0:G.fee_payment_amount)&&void 0!==l?l:0,transaction_date:null!==(i=(0,I._1)(G.transaction_date))&&void 0!==i?i:"",fee_bank_name:null!==(a=null===G||void 0===G?void 0:G.fee_bank_name)&&void 0!==a?a:"",fee_bank_holder:null!==(s=null===G||void 0===G?void 0:G.fee_bank_holder)&&void 0!==s?s:"",fee_utr_reference:null!==(u=null===G||void 0===G?void 0:G.fee_utr_reference)&&void 0!==u?u:""}}).then((()=>{r(),P((e=>!e)),o()})).catch({})):D(e)}})]})]})]})}),E&&(0,R.jsx)(_.default,{}),(0,R.jsx)(T.Z,{eventState:H,eventStateHandler:q})]})};var P=t(89064);const L=e=>{let{ofid:n,onClose:t,menuData:i,onRefetch:o}=e;const{t:a}=(0,l.$G)(),[d,r]=(0,s.useState)(!1),[c,v]=(0,s.useState)({open:!1,msg:"",variant:"error"}),[m]=(0,u.M0)();return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(P.Z,{onClose:t,disabled:d,children:(0,R.jsx)("h6",{onClick:()=>{null!==i&&void 0!==i&&i._id&&n&&(r((e=>!e)),m({ofid:n,bodyParameter:{students:[null===i||void 0===i?void 0:i._id]}}).then((e=>{v({open:!0,msg:"Time out of request...",variant:"error"}),o(),r((e=>!e)),t()})).catch({}))},children:a("remove")})}),(0,R.jsx)(T.Z,{eventState:c,eventStateHandler:v})]})},G=e=>{var n,t,i,o,a,d,r,u,c,m,_;let{student:h,financeId:f,onRefetch:p,otherFeesId:y,instituteId:b,ofid:S}=e;const{t:Z}=(0,l.$G)(),[I,C]=(0,s.useState)(""),k=()=>{C("")};return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)("div",{className:j.Z.iadcc_card_hover,children:[(0,R.jsxs)("div",{className:j.Z.sf_card_contatiner,children:[(0,R.jsx)("img",{src:null!==h&&void 0!==h&&h.studentProfilePhoto?"".concat(x.yI,"/").concat(h.studentProfilePhoto):"".concat(v.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar",style:{width:"2.5rem",height:"2.5rem"}}),(0,R.jsxs)("div",{className:j.Z.sf_card_contatiner_inner,children:[(0,R.jsx)("h6",{children:"".concat(null!==(n=null===h||void 0===h?void 0:h.studentFirstName)&&void 0!==n?n:""," ").concat(null!==(t=null===h||void 0===h?void 0:h.studentMiddleName)&&void 0!==t?t:""," ").concat(null!==(i=null===h||void 0===h?void 0:h.studentLastName)&&void 0!==i?i:"")}),(0,R.jsxs)("p",{children:[Z("gr_number")," ",": ",null!==(o=null===h||void 0===h?void 0:h.studentGRNO)&&void 0!==o?o:""]})]})]}),"Paid"===(null===h||void 0===h||null===(a=h.other_fees_obj)||void 0===a?void 0:a.status)?(0,R.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem"},children:[(0,R.jsxs)("div",{className:j.Z.sf_card_contatiner_inner,children:[(0,R.jsxs)("h6",{children:["Rs. ",null!==(d=null===h||void 0===h||null===(r=h.other_fees_obj)||void 0===r?void 0:r.price)&&void 0!==d?d:0]}),(0,R.jsx)("p",{children:Z("amount")})]}),(0,R.jsx)("div",{className:j.Z.sf_card_contatiner_inner,children:null!==h&&void 0!==h&&null!==(u=h.other_fees_obj)&&void 0!==u&&u.receipt_file?(0,R.jsx)("a",{href:"".concat(x.q2,"/").concat(null===h||void 0===h||null===(c=h.other_fees_obj)||void 0===c?void 0:c.receipt_file),target:"_blank",rel:"noopener noreferrer",children:(0,R.jsx)("img",{src:"/images/members/receipt-icon.svg",alt:"receipt icon"})}):null})]}):(0,R.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem"},children:[(0,R.jsxs)("div",{className:j.Z.sf_card_contatiner_inner,children:[(0,R.jsxs)("h6",{children:["Rs. ",null!==(m=null===h||void 0===h||null===(_=h.other_fees_obj)||void 0===_?void 0:_.price)&&void 0!==m?m:0]}),(0,R.jsx)("p",{children:Z("amount")})]}),(0,R.jsx)(g.Z,{label:"collect_fees",onAction:()=>{C(1)},customStyle:{margin:"0",padding:"0.4rem 1rem"}}),(0,R.jsx)("img",{src:"".concat(v.J7,"/menu.svg"),alt:"menu icon",onClick:e=>{C(2)}})]})]}),1===I?(0,R.jsx)(E,{financeId:f,onClose:k,onRefetch:p,student:h,otherFeesId:y,instituteId:b}):2===I?(0,R.jsx)(L,{onClose:k,onRefetch:p,menuData:h,ofid:S}):null]})};var w=t(43172),A=t(13182),D=t(73711);const H=e=>{var n,t,i,d,x,j;let{ofid:y,instituteId:b,financeId:S}=e;const{t:Z}=(0,l.$G)(),I=(0,a.TH)(),[C,k]=(0,s.useState)(""),[N,F]=(0,s.useState)(""),[O,T]=(0,s.useState)(1),[E,P]=(0,s.useState)(!0),[L,H]=(0,r.YD)({skip:C}),[q,B]=(0,s.useState)(""),[M,$]=(0,s.useState)([]),[K,U]=(0,s.useState)(null),[Y,z]=(0,s.useState)(!1),[J]=(0,u.YC)(),[W]=(0,u.zY)(),{financeOneOtherFeesStudentList:V,financeOneOtherFeesStudentListLoading:Q,financeOneOtherFeesStudentListRefetch:X}=(0,u.Jo)({data:{ofid:y,page:O,limit:10,search:C,type:""},skip:!y});(0,s.useEffect)((()=>{H&&E&&T((e=>e+1))}),[H,E]),(0,s.useEffect)((()=>{var e;if(null!==V&&void 0!==V&&null!==(e=V.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===V||void 0===V||null===(n=V.list)||void 0===n?void 0:n.length);P((()=>e))}}),[null===V||void 0===V||null===(n=V.list)||void 0===n?void 0:n.length]);const ee=(0,s.useCallback)((()=>{T((()=>1)),X()}),[]),ne=()=>{B("")};return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(f.default,{children:(0,R.jsxs)("div",{className:o.Z.fm_search_full,children:[(0,R.jsx)("section",{className:o.Z.fm_search_full_container,children:(0,R.jsxs)("div",{className:o.Z.fm_search_full_container_inner,children:[(0,R.jsx)("img",{className:o.Z.fm_search_full_icon,alt:"search icon",src:"".concat(v.dB,"/navbar-search.svg")}),(0,R.jsx)("input",{type:"text",placeholder:Z("search"),onChange:e=>{var n;!Q&&(null===V||void 0===V||null===(n=V.list)||void 0===n?void 0:n.length)>=0&&F(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(T((()=>1)),k(N))},value:N})]})}),(0,R.jsx)(g.Z,{label:"add_single_student",customStyle:{paddingBlock:"0.4rem",margin:"0",minWidth:"fit-content"},onAction:()=>{B(2)}}),(0,R.jsx)(g.Z,{label:"add_student",customStyle:{paddingBlock:"0.4rem",margin:"0",minWidth:"fit-content"},onAction:()=>{B(1)}})]})}),(0,R.jsx)(p.Z,{}),(0,R.jsxs)(f.default,{customStyle:{paddingTop:"0"},children:[null===V||void 0===V||null===(t=V.list)||void 0===t?void 0:t.map(((e,n)=>{var t;return(null===V||void 0===V||null===(t=V.list)||void 0===t?void 0:t.length)===n+1?(0,R.jsx)("div",{ref:L,children:(0,R.jsx)(G,{student:e,financeId:S,instituteId:b,otherFeesId:y,onRefetch:ee,ofid:y})},null===e||void 0===e?void 0:e._id):(0,R.jsx)(G,{student:e,financeId:S,instituteId:b,otherFeesId:y,onRefetch:ee,ofid:y},null===e||void 0===e?void 0:e._id)})),Q?C?(0,R.jsx)(_.default,{}):(0,R.jsx)(R.Fragment,{children:1===O?(0,R.jsx)(_.default,{}):(0,R.jsx)(h.Z,{})}):C?0===(null===V||void 0===V||null===(i=V.list)||void 0===i?void 0:i.length)&&(0,R.jsx)(m.Z,{title:"No student found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===V||void 0===V||null===(d=V.list)||void 0===d?void 0:d.length)&&(0,R.jsx)(m.Z,{title:"No student.",customStyleContainer:{marginTop:"1.5rem"}})]}),1===q?(0,R.jsx)(w.Z,{title:Z("select_student"),onClose:ne,instituteId:b,isMultiSelect:!0,onMultiSelect:e=>{null!==M&&void 0!==M&&M.includes(null===e||void 0===e?void 0:e._id)?$((n=>null===n||void 0===n?void 0:n.filter((n=>n!==(null===e||void 0===e?void 0:e._id))))):$((n=>[...n,null===e||void 0===e?void 0:e._id]))},onDone:()=>{S&&(null===M||void 0===M?void 0:M.length)>0&&y&&(z((e=>!e)),J({fid:S,bodyParameter:{students:M,ofid:y}}).then((()=>{ee(),z((e=>!e)),ne()})).catch({}))},selectList:M,buttonTitle:"add"}):2===q?(0,R.jsx)(w.Z,{title:Z("select_student"),onClose:ne,instituteId:b,onSelectStudent:e=>{U(e),B(3)},selectedId:null===K||void 0===K?void 0:K._id}):3===q?(0,R.jsx)(A.Z,{onClose:ne,onParentClose:()=>{},instituteId:b,onGrabCollectFees:e=>{S&&null!==K&&void 0!==K&&K._id&&y&&(z((e=>!e)),W({fid:S,bodyParameter:{students:[null===K||void 0===K?void 0:K._id],ofid:y,...e}}).then((e=>{B(4),z((e=>!e))})).catch({}))},singleStudent:K,isOtherFees:"OTHER_FEES",applicant:{head:null===(x=I.state)||void 0===x||null===(j=x.otherData)||void 0===j?void 0:j.payable_amount},ofid:y,financeId:S}):4===q?(0,R.jsx)(D.Z,{applicant:K,onClose:()=>{ee(),U(null),ne()},ofid:y}):null,Y&&(0,R.jsx)(_.default,{})]})};var q=t(98967),B=t(63162);const M=e=>{let{ofid:n,onClose:t,menuData:i,onRefetch:o}=e;const{t:a}=(0,l.$G)(),[d,r]=(0,s.useState)(!1),[c]=(0,u.M0)();return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(P.Z,{onClose:t,disabled:d,children:(0,R.jsx)("h6",{onClick:()=>{null!==i&&void 0!==i&&i._id&&n&&(r((e=>!e)),c({ofid:n,bodyParameter:{students:[]}}).then((()=>{o(),r((e=>!e)),t()})).catch({}))},children:a("remove")})})})},$=e=>{var n,t,i,o,a,d,r;let{student:u,financeId:c,onRefetch:m,otherFeesId:_,instituteId:h,ofid:f}=e;const{t:p}=(0,l.$G)(),[g,y]=(0,s.useState)(""),b=()=>{y("")};return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)("div",{className:j.Z.iadcc_card_hover,children:[(0,R.jsxs)("div",{className:j.Z.sf_card_contatiner,children:[(0,R.jsx)("img",{src:"".concat(v.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar",style:{width:"2.5rem",height:"2.5rem"}}),(0,R.jsxs)("div",{className:j.Z.sf_card_contatiner_inner,children:[(0,R.jsx)("h6",{children:null!==(n=null===u||void 0===u?void 0:u.student)&&void 0!==n?n:""}),(0,R.jsxs)("p",{children:[p("batch")," ",": ",null!==(t=null===u||void 0===u?void 0:u.batch)&&void 0!==t?t:"",", ",p("student_class"),": ",null===u||void 0===u?void 0:u.classes,", ",p("roll_number")," ",": ",null!==(i=null===u||void 0===u?void 0:u.roll_no)&&void 0!==i?i:""]})]})]}),(0,R.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem"},children:[(0,R.jsxs)("div",{className:j.Z.sf_card_contatiner_inner,children:[(0,R.jsxs)("h6",{children:["Rs. ",null!==(o=null===u||void 0===u||null===(a=u.fee_receipt)||void 0===a?void 0:a.fee_payment_amount)&&void 0!==o?o:0]}),(0,R.jsx)("p",{children:p("amount")})]}),null!==u&&void 0!==u&&null!==(d=u.fee_receipt)&&void 0!==d&&d.receipt_file?(0,R.jsx)("div",{className:j.Z.sf_card_contatiner_inner,children:(0,R.jsx)("a",{href:"".concat(x.q2,"/").concat(null===u||void 0===u||null===(r=u.fee_receipt)||void 0===r?void 0:r.receipt_file),target:"_blank",rel:"noopener noreferrer",children:(0,R.jsx)("img",{src:"/images/members/receipt-icon.svg",alt:"receipt icon"})})}):null]})]}),1===g?(0,R.jsx)(E,{financeId:c,onClose:b,onRefetch:m,student:u,otherFeesId:_,instituteId:h}):2===g?(0,R.jsx)(M,{onClose:b,onRefetch:m,menuData:u,ofid:f}):null]})};var K=t(27976);const U=e=>{var n,t,i,d,x,j;let{ofid:y,instituteId:b,financeId:S}=e;const{t:Z}=(0,l.$G)(),I=(0,a.TH)(),[C,k]=(0,s.useState)(""),[N,F]=(0,s.useState)(""),[O,T]=(0,s.useState)(1),[E,P]=(0,s.useState)(!0),[L,G]=(0,r.YD)({skip:C}),[w,D]=(0,s.useState)(""),[H,q]=(0,s.useState)(null),[B,M]=(0,s.useState)(!1),[U]=(0,u.UG)(),{financeOtherFeesNonExistingStudentList:Y,financeOtherFeesNonExistingStudentListLoading:z,financeOtherFeesNonExistingStudentListRefetch:J}=(0,u.vQ)({data:{ofid:y,page:O,limit:10,search:C,type:""},skip:!y});(0,s.useEffect)((()=>{G&&E&&T((e=>e+1))}),[G,E]),(0,s.useEffect)((()=>{var e;if(null!==Y&&void 0!==Y&&null!==(e=Y.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===Y||void 0===Y||null===(n=Y.list)||void 0===n?void 0:n.length);P((()=>e))}}),[null===Y||void 0===Y||null===(n=Y.list)||void 0===n?void 0:n.length]);const W=(0,s.useCallback)((()=>{T((()=>1)),J()}),[]),V=()=>{D("")};return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(f.default,{children:(0,R.jsxs)("div",{className:o.Z.fm_search_full,children:[(0,R.jsx)("section",{className:o.Z.fm_search_full_container,children:(0,R.jsxs)("div",{className:o.Z.fm_search_full_container_inner,children:[(0,R.jsx)("img",{className:o.Z.fm_search_full_icon,alt:"search icon",src:"".concat(v.dB,"/navbar-search.svg")}),(0,R.jsx)("input",{type:"text",placeholder:Z("search"),onChange:e=>{var n;!z&&(null===Y||void 0===Y||null===(n=Y.list)||void 0===n?void 0:n.length)>=0&&F(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(T((()=>1)),k(N))},value:N})]})}),(0,R.jsx)(g.Z,{label:"add_student",customStyle:{paddingBlock:"0.4rem",margin:"0",minWidth:"fit-content"},onAction:()=>{D(1)}})]})}),(0,R.jsx)(p.Z,{}),(0,R.jsxs)(f.default,{customStyle:{paddingTop:"0"},children:[null===Y||void 0===Y||null===(t=Y.list)||void 0===t?void 0:t.map(((e,n)=>{var t;return(null===Y||void 0===Y||null===(t=Y.list)||void 0===t?void 0:t.length)===n+1?(0,R.jsx)("div",{ref:L,children:(0,R.jsx)($,{student:e,financeId:S,instituteId:b,otherFeesId:y,onRefetch:W,ofid:y})},null===e||void 0===e?void 0:e._id):(0,R.jsx)($,{student:e,financeId:S,instituteId:b,otherFeesId:y,onRefetch:W,ofid:y},null===e||void 0===e?void 0:e._id)})),z?C?(0,R.jsx)(_.default,{}):(0,R.jsx)(R.Fragment,{children:1===O?(0,R.jsx)(_.default,{}):(0,R.jsx)(h.Z,{})}):C?0===(null===Y||void 0===Y||null===(i=Y.list)||void 0===i?void 0:i.length)&&(0,R.jsx)(m.Z,{title:"No student found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===Y||void 0===Y||null===(d=Y.list)||void 0===d?void 0:d.length)&&(0,R.jsx)(m.Z,{title:"No student.",customStyleContainer:{marginTop:"1.5rem"}})]}),1===w?(0,R.jsx)(K.Z,{onClose:V,singleStudent:H,onNext:e=>{q(e),D(2)}}):2===w?(0,R.jsx)(A.Z,{onClose:()=>D(1),onParentClose:()=>{},instituteId:b,onGrabCollectFees:e=>{S&&null!==H&&void 0!==H&&H.student_name&&y&&(M((e=>!e)),U({fid:S,bodyParameter:{...H,ofid:y,...e}}).then((()=>{W(),q(null),M((e=>!e)),V()})).catch({}))},singleStudent:H,isOtherFees:"OTHER_FEES",isNonExisting:!0,applicant:{head:null===(x=I.state)||void 0===x||null===(j=x.otherData)||void 0===j?void 0:j.payable_amount}}):null,B&&(0,R.jsx)(_.default,{})]})},Y=e=>{var n,t,s,r,u,c,v,m;let{fid:_,instituteId:h}=e;const{t:x}=(0,l.$G)(),j=(0,a.TH)(),g=(0,a.UO)(),[y]=(0,d.lr)();return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)(i.default,{children:[(0,R.jsx)(f.default,{children:(0,R.jsx)("div",{className:o.Z.fm_header_container,children:(0,R.jsxs)("h6",{children:[null!==(n=null===(t=j.state)||void 0===t?void 0:t.feesName)&&void 0!==n?n:""," ","(",(0,R.jsx)("span",{style:{color:"#00f"},children:null===(s=j.state)||void 0===s||null===(r=s.otherData)||void 0===r?void 0:r.paid}),"/",null===(u=j.state)||void 0===u||null===(c=u.otherData)||void 0===c?void 0:c.rmaining,")"]})})}),(0,R.jsx)(p.Z,{}),(0,R.jsx)(q.Z,{children:z.map((e=>{var n,t;return(0,R.jsx)(B.Z,{tab:e,isLink:!0,isActive:null===(n=e.groupIs)||void 0===n?void 0:n.includes(y.get("n")),parentState:j.state,url:"Institute"===(null===(t=j.state)||void 0===t?void 0:t.urlOffSet)?"/q/".concat(g.username,"/institute/member/finance?type=other-fees-detail").concat(e.urlKey):"/q/".concat(g.username,"/member/staff/finance?type=other-fees-detail").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,R.jsx)(p.Z,{customStyleBorder:{marginTop:"0"}}),"non-existing"===y.get("n")?(0,R.jsx)(U,{ofid:null===(v=j.state)||void 0===v?void 0:v.feesId,instituteId:h,financeId:_}):(0,R.jsx)(H,{ofid:null===(m=j.state)||void 0===m?void 0:m.feesId,instituteId:h,financeId:_})]})})},z=[{label:"existing_student",id:"existing",urlKey:"",groupIs:["",null]},{label:"non_existing_student",id:"non-existing",urlKey:"&n=non-existing",groupIs:["non-existing"]}]}}]);
//# sourceMappingURL=27740.5f796902.chunk.js.map