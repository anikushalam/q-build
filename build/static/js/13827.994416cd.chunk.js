"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[13827],{81622:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(72791),o=n(38733),s=n(39230),a=n(93097),l=n(69721),d=n(1095),r=n(80184);const c=e=>{let{labelText:t,name:n,multiple:c,value:u,onChange:_,onClick:v,errorShow:m,acceptType:h,customStyleContainer:f}=e;const{t:g}=(0,s.$G)(),[p,x]=(0,i.useState)("");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:o.Z.join_form_container,style:{...f},children:[(0,r.jsxs)("label",{className:o.Z.join_form_label,children:[t,m&&(0,r.jsx)("span",{style:{color:"red",marginLeft:"15px"},children:"* required"})]}),(0,r.jsxs)("div",{className:o.Z.join_form_file_container,children:[(0,r.jsx)("label",{className:u?"".concat(o.Z.join_form_file_choose," ").concat(o.Z.join_form_active_background):o.Z.join_form_file_choose,htmlFor:n,children:g(""!==u?"file_chosen":"chose_file")}),(0,r.jsx)("label",{className:o.Z.join_form_file_choosen,onClick:()=>{if(null!==u&&void 0!==u&&u.originalName)if(null!==u&&void 0!==u&&u.isPdf){let e=null;e=null!==u&&void 0!==u&&u.isCdn?window.open("".concat(d.q2,"/").concat(null===u||void 0===u?void 0:u.key),"_blank","noopener,noreferrer"):window.open("".concat(l.zQ,"/").concat(null===u||void 0===u?void 0:u.key),"_blank","noopener,noreferrer"),e&&(e.opener=null)}else x(null===u||void 0===u?void 0:u.key);else x(u)},style:{color:"#002BBE",cursor:"pointer"},children:""!==u?null!==u&&void 0!==u&&u.originalName?null===u||void 0===u?void 0:u.originalName:"View":g("no_file_chosen")})]}),(0,r.jsx)("input",{type:"file",multiple:!!c,accept:h||"image/*, .doc,.docx, application/pdf,.csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",name:n,id:n,style:{display:"none"},onChange:_})]}),p&&(0,r.jsx)(a.Z,{onClose:()=>{x("")},keyValue:p})]})}},72952:(e,t,n)=>{n.d(t,{Z:()=>a});n(72791);var i=n(39230),o=n(38733),s=n(80184);const a=e=>{var t;let{labelText:n,name:a,type:l,value:d,onChange:r,placeholder:c,errorShow:u,customStyleContainer:_,disabled:v}=e;const{t:m}=(0,i.$G)();return(0,s.jsxs)("div",{className:o.Z.join_form_container,style:{..._},children:[(0,s.jsxs)("label",{className:o.Z.join_form_label,htmlFor:a,children:[n," ",u&&(0,s.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",m("form_require_label")]})]}),(0,s.jsx)("textarea",{className:o.Z.join_form_text_area,type:l,value:d,onChange:r,name:a,placeholder:c,rows:d?(null===d||void 0===d||null===(t=d.split("\n"))||void 0===t?void 0:t.length)+3:1,disabled:v})]})}},93097:(e,t,n)=>{n.d(t,{Z:()=>l});n(72791);var i=n(12072),o=n(84489),s=n(69721),a=n(80184);const l=e=>{let{onClose:t,keyValue:n}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z,{onClose:t}),(0,a.jsx)(i.Z,{customStyle:{zIndex:"1200",borderRadius:"0"},children:(0,a.jsx)("img",{src:"".concat(s.yI,"/").concat(n),alt:"view file",style:{maxWidth:"700px",maxHeight:"500px"}})})]})}},19206:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(72791),o=n(98094),s=n(36665),a=n(72952),l=n(98734),d=n(6245),r=n(33399),c=n(39230),u=n(39480),_=n(97655),v=n(37782),m=n(84959),h=n(74289),f=n(81622),g=n(5574),p=n(70966),x=n(80184);const b=e=>{let{onClose:t,uniqueGr:b,instituteId:y,isViewBy:j,commingReason:I,certificateId:w,onRefetch:Z}=e;const{t:S}=(0,c.$G)(),[k,N]=(0,i.useState)(!1),[R,H]=(0,i.useState)(!1),[C,U]=(0,i.useState)(""),[L,T]=(0,i.useState)(""),[B,D]=(0,i.useState)(""),[E,F]=(0,i.useState)(!1),[G]=(0,d._)(),[q]=(0,m.FL)(),[A]=(0,h.H7)(),[O,P]=(0,i.useState)(""),[Q,V]=(0,i.useState)(!1),[M,W]=(0,i.useState)(!1),[$,z]=(0,i.useState)(""),[J,Y]=(0,i.useState)(""),{oneInstituteProfile:K,oneInstituteProfileRefetch:X}=(0,u.p0)({data:{id:y,type:"ID"},skip:!y});(0,i.useEffect)((()=>{y&&X()}),[y,X]),(0,i.useEffect)((()=>{"REQUEST_TAB"===j&&U(I||"")}),[I,j]);const ee=()=>{F((e=>!e))};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(s.Z,{onClose:()=>{k||t()},children:[(0,x.jsx)("div",{className:r.Z.add_category_modal,style:{width:"30rem",minHeight:"10rem",height:"fit-content"},children:(0,x.jsxs)("section",{className:r.Z.fee_middle_section_container,style:{marginBottom:"1.2rem"},children:[(0,x.jsx)("h6",{style:{fontSize:"20px",fontWeight:"600"},children:S("bonafide")}),(0,x.jsx)(o.Z,{customStyle:{width:"100%",marginTop:"0.7rem"}}),(0,x.jsx)(a.Z,{labelText:S("enter_reason"),placeholder:S("enter_reason"),name:"reason",value:C,type:"text",onChange:e=>{var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)<=75&&U(e.target.value)},errorShow:R}),(0,x.jsx)(a.Z,{labelText:S("bonafide_message_optional"),placeholder:S("bonafide_message_optional_placeholder"),name:"message",value:L,type:"text",onChange:e=>{var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)<=75&&T(e.target.value)}}),(0,x.jsx)(_.Z,{labelText:S("competent_authority"),placeholder:S("competent_authority_lable"),name:"authority",value:B,type:"text",onChange:e=>{var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)<=75&&D(e.target.value)}}),(0,x.jsx)(f.Z,{labelText:S("attachment"),name:"attachment",value:J,onChange:e=>{var t;if(null!==(t=e.target.files)&&void 0!==t&&t.length){const t=URL.createObjectURL(e.target.files[0]);P(e.target.files[0]),z(t),Y(t),V(!0)}},customStyleContainer:{width:"100%"}}),(0,x.jsxs)("section",{className:r.Z.letter_head_container,children:[E?(0,x.jsx)("img",{src:"/images/checkbox-icon.svg",alt:"icon",onClick:ee}):(0,x.jsx)("img",{src:"/images/box-icon.svg",alt:"icon",onClick:ee}),(0,x.jsx)("h6",{children:S("printing_on_letter_head")})]}),(0,x.jsx)("button",{onClick:()=>{b&&C&&y?(N((e=>!e)),G({gr:b,id:y,bonafideReason:{reason:C,student_bona_message:L}}).then((e=>{var i,o;null!==e&&void 0!==e&&null!==(i=e.data)&&void 0!==i&&i.student&&(e=>{const{institute:i,studentInfo:o}=(0,v.hR)(null===K||void 0===K?void 0:K.institute,e,{reason:C,message:L,authority:B,uniqueGr:b,letterHead:E}),s=new Worker(new URL(n.p+n.u(4268),n.b));s.postMessage({printCertificateType:"BONAFIDE",studentInfo:o,institute:i,otherImageUrl:J}),s.onmessage=n=>{if(n&&null!==e&&void 0!==e&&e._id){if("REQUEST_TAB"===j){const e=new FormData;e.append("file",n.data),q({fileUpload:e}).then((e=>{var t;A({cid:w,attach:null===(t=e.data)||void 0===t?void 0:t.imageKey,status:"Issued"}).then((()=>{Z(),N((e=>!e)),window.open(URL.createObjectURL(n.data),"_blank")})).catch({})})).catch({})}else window.open(URL.createObjectURL(n.data),"_blank"),N((e=>!e));t()}}})(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.student)})).catch({})):C||H(!0)},className:r.Z.fee_middle_confirm_button,style:{marginTop:"4rem"},children:S("confirm")})]})}),k&&(0,x.jsx)(l.Z,{})]}),(0,x.jsx)(g.Z,{open:Q,children:(0,x.jsx)(p.Z,{setPhotoURL:Y,photoURL:J,setFile:P,setOpenCrop:V,setUpload:W,setProfilePhoto:z,first:16,second:9})})]})}},13827:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(72791),o=n(15214),s=n(39230),a=n(72426),l=n.n(a),d=n(69721),r=n(19206),c=n(16871),u=n(98734),_=n(6245),v=n(80184);const m=e=>{var t,n,a,m,h,f,g,p,x,b;let{certificate:y,isViewBy:j,instituteId:I,onRefetch:w}=e;const{t:Z}=(0,s.$G)(),[S,k]=(0,i.useState)(!1),N=(0,c.s0)(),R=(0,c.UO)(),[H,C]=(0,i.useState)(!1),[U]=(0,_.vB)();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:o.Z.hostel_warden_card,style:{paddingBlock:"1rem"},children:[(0,v.jsx)("img",{alt:"not found",src:"/images/member_tab/student/student-certificate-icon.svg",style:{borderRadius:"0"}}),(0,v.jsxs)("div",{className:o.Z.student_cerfificate_container,children:[(0,v.jsxs)("div",{className:o.Z.warden_card_text,children:[(0,v.jsxs)("h6",{children:[Z("certificate_type")," "," : ",null!==(t=null===y||void 0===y?void 0:y.certificate_type)&&void 0!==t?t:""]}),(0,v.jsxs)("p",{children:[Z("reason")," "," : "," ",null!==(n=null===y||void 0===y?void 0:y.query_content)&&void 0!==n?n:""]}),"Bonafide"===(null===y||void 0===y?void 0:y.certificate_type)?null:(0,v.jsxs)("p",{children:[Z("certificate_copy")," "," : ",null!==y&&void 0!==y&&y.is_original?Z("original_copy"):Z("dublicate_copy")]}),(0,v.jsxs)("p",{children:[Z("raised_on")," "," : ",l()(null===y||void 0===y?void 0:y.created_at).format("DD-MM-yyyy"),", ",l()(null===y||void 0===y?void 0:y.created_at).format("LT")]}),null!==y&&void 0!==y&&null!==(a=y.fee_receipt)&&void 0!==a&&a.fee_payment_mode?(0,v.jsxs)("p",{children:[Z("invoice_no")," "," : ",null!==(m=null===y||void 0===y||null===(h=y.fee_receipt)||void 0===h?void 0:h.invoice_count)&&void 0!==m?m:"N/A",", ",Z("payment_mode")," "," : ",null!==(f=null===y||void 0===y||null===(g=y.fee_receipt)||void 0===g?void 0:g.fee_payment_mode)&&void 0!==f?f:"N/A"]}):null]}),"ISSUED"===j?(0,v.jsx)("div",{className:o.Z.student_issued_btn,onClick:()=>{var e,t;if("ISSUED"===j)if("Leaving"===(null===y||void 0===y?void 0:y.certificate_type))k((e=>!e)),U({id:I,gr:null===y||void 0===y||null===(e=y.student)||void 0===e?void 0:e.studentGRNO,leavingFeedback:{number:null===y||void 0===y||null===(t=y.student)||void 0===t?void 0:t.studentGRNO,studentCertificateNo:"",leaving_date:"",bookNo:"",studentUidaiNumber:"",studentPreviousSchool:"",studentLeavingBehaviour:"",studentLeavingStudy:"",studentLeavingReason:"",studentRemark:"",instituteJoinDate:"",instituteLeavingDate:"",leaving_degree:"",leaving_since_date:"",leaving_course_duration:"",elective_subject_one:"",elective_subject_second:"",leaving_project_work:"",leaving_guide_name:""}}).then((e=>{k((e=>!e)),N("/q/".concat(R.username,"/student/certificate/form"),{state:{student:e.data.student,download:e.data.download,instituteId:I,is_leaving:"leaving",isViewBy:"REQUEST_TAB",certificateId:null===y||void 0===y?void 0:y._id}})})).catch({});else if("Transfer"===(null===y||void 0===y?void 0:y.certificate_type)){var n,i;k((e=>!e)),U({id:I,gr:null===y||void 0===y||null===(n=y.student)||void 0===n?void 0:n.studentGRNO,leavingFeedback:{number:null===y||void 0===y||null===(i=y.student)||void 0===i?void 0:i.studentGRNO,studentCertificateNo:"",leaving_date:"",bookNo:"",studentUidaiNumber:"",studentPreviousSchool:"",studentLeavingBehaviour:"",studentLeavingStudy:"",studentLeavingReason:"",studentRemark:"",instituteJoinDate:"",instituteLeavingDate:"",leaving_degree:"",leaving_since_date:"",leaving_course_duration:"",elective_subject_one:"",elective_subject_second:"",leaving_project_work:"",leaving_guide_name:""}}).then((e=>{k((e=>!e)),N("/q/".concat(R.username,"/student/certificate/form"),{state:{student:e.data.student,download:e.data.download,instituteId:I,is_leaving:"transfer",isViewBy:"REQUEST_TAB",certificateId:null===y||void 0===y?void 0:y._id}})})).catch({})}else"Migration"===(null===y||void 0===y?void 0:y.certificate_type)||C(!0)},children:Z("issue_certificate")}):(0,v.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"1rem"},children:[(0,v.jsxs)("div",{className:o.Z.warden_card_text,style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:["ALREADY_ISSUED"===j?null:(0,v.jsxs)("p",{children:[Z("status")," "," : ",null!==(p=null===y||void 0===y?void 0:y.certificate_status)&&void 0!==p?p:""]}),null!==y&&void 0!==y&&y.certificate_issued_date?(0,v.jsxs)("p",{children:[Z("issued_on")," "," : ",l()(null===y||void 0===y?void 0:y.certificate_issued_date).format("DD-MM-yyyy"),", ",l()(null===y||void 0===y?void 0:y.certificate_issued_date).format("LT")]}):null]}),(null===y||void 0===y?void 0:y.certificate_attach)&&(0,v.jsx)("a",{href:"".concat(d.r3,"/").concat(null===y||void 0===y?void 0:y.certificate_attach),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,v.jsx)("img",{src:"/images/member_tab/student/student-certificate-download-icon.svg",alt:"receipt icon",style:{height:"1.5rem"}})})]})]})]}),H&&(0,v.jsx)(r.Z,{onClose:()=>C(!1),instituteId:I,isViewBy:"REQUEST_TAB",commingReason:null===y||void 0===y?void 0:y.query_content,certificateId:null===y||void 0===y?void 0:y._id,onRefetch:w,uniqueGr:null!==(x=null===y||void 0===y||null===(b=y.student)||void 0===b?void 0:b.studentGRNO)&&void 0!==x?x:""}),S&&(0,v.jsx)(u.Z,{})]})}},15214:(e,t,n)=>{n.d(t,{Z:()=>i});const i={navbarr:"InstituteHostel_navbarr__wZjxN",mainbody:"InstituteHostel_mainbody__bd1xS",sidebar:"InstituteHostel_sidebar__4a950",rightbody:"InstituteHostel_rightbody__uUUef",admission_tab_tabs:"InstituteHostel_admission_tab_tabs__Uu9aY",item:"InstituteHostel_item__9ZoQd",itemIcon:"InstituteHostel_itemIcon__NShBD",funds2:"InstituteHostel_funds2__BHTCi",fundscontent:"InstituteHostel_fundscontent__HeoyA",sidebarbottomitem:"InstituteHostel_sidebarbottomitem__+Xvnw",namee:"InstituteHostel_namee__Y5L8H",desig:"InstituteHostel_desig__gHfIt",balanceItem:"InstituteHostel_balanceItem__W2AJ1",fundbtn:"InstituteHostel_fundbtn__h4c6p",institute_hostel_container:"InstituteHostel_institute_hostel_container__QKng2",institute_hostel_container_border:"InstituteHostel_institute_hostel_container_border__XBL5F",institute_hostel_title:"InstituteHostel_institute_hostel_title__U31Id",hostel_warden_card:"InstituteHostel_hostel_warden_card__vs093",warden_card_text:"InstituteHostel_warden_card_text__kFeau",with_search:"InstituteHostel_with_search__shUwR",search_container:"InstituteHostel_search_container__s6aFf",search_container_input:"InstituteHostel_search_container_input__Z7rCU",searchIcon:"InstituteHostel_searchIcon__eabuR",student_cerfificate_container:"InstituteHostel_student_cerfificate_container__HGcvy",student_issued_btn:"InstituteHostel_student_issued_btn__hrgB6"}}}]);
//# sourceMappingURL=13827.994416cd.chunk.js.map