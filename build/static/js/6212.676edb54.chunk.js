"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[6212],{56212:function(e,n,a){a.r(n);var l=a(4942),o=a(1413),t=a(37762),d=a(29439),i=a(39230),r=a(48293),_=a(21348),u=a(16925),s=a(90904),c=a(72791),m=a(98684),v=a(55336),f=a(93638),p=a(61055),h=a(74771),y=a(43997),Z=a(50518),b=a(99183),x=a(60307),j=a(80184);n.default=function(e){var n,a=e.onClose,k=(e.applicant,e.admission),g=e.onParentClose,C=(0,i.$G)().t,S=(0,c.useState)(!1),w=(0,d.Z)(S,2),N=w[0],A=w[1],I=(0,c.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),q=(0,d.Z)(I,2),F=q[0],J=q[1],O=(0,c.useState)(""),P=(0,d.Z)(O,2),T=P[0],V=P[1],B=(0,c.useState)(0),E=(0,d.Z)(B,2),G=E[0],H=E[1],L=(0,x.bJ)(),M=(0,d.Z)(L,1)[0];(0,c.useEffect)((function(){var e,n;if((null===k||void 0===k||null===(e=k.applicable_card)||void 0===e||null===(n=e.remaining_array)||void 0===n?void 0:n.length)>0){var a,l,o,d=0,i=(0,t.Z)(null===k||void 0===k||null===(l=k.applicable_card)||void 0===l?void 0:l.remaining_array);try{for(i.s();!(o=i.n()).done;){var r=o.value;"Paid"===(null===r||void 0===r?void 0:r.status)&&(d+=null===r||void 0===r?void 0:r.remainAmount)}}catch(_){i.e(_)}finally{i.f()}H(null!==(a=d)&&void 0!==a?a:0)}}),[null===k||void 0===k||null===(n=k.applicable_card)||void 0===n?void 0:n.remaining_array]);var $=function(e){J((function(n){return(0,o.Z)((0,o.Z)({},n),{},(0,l.Z)({},e.target.name,e.target.value))}))};return console.info("applicant",k),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.Z,{onClose:a,children:(0,j.jsxs)("div",{className:u.Z.modal_container,children:[(0,j.jsx)(_.Z,{children:(0,j.jsxs)("div",{className:u.Z.modal_container_outer_header,children:[(0,j.jsx)("div",{className:u.Z.modal_container_header,children:(0,j.jsx)("h6",{children:C("cancel_addmission")})}),(0,j.jsx)("img",{src:"".concat(m.J7,"/close.svg"),alt:"close icon",onClick:a})]})}),(0,j.jsx)(s.Z,{}),(0,j.jsxs)(_.Z,{customStyle:{paddingTop:"0"},children:[(0,j.jsxs)("div",{className:u.Z.admission_fees_row,children:[(0,j.jsxs)("h6",{children:[C("fees_paid")," :"]}),(0,j.jsxs)("h6",{children:[C("rs_only")," ",G]})]}),(0,j.jsx)(p.Z,{label:"".concat(C("refund_amount")),placeholder:C("please_enter_refund_amount"),name:"amount",value:F.amount,type:"tel",onChange:function(e){J((function(n){return(0,o.Z)((0,o.Z)({},n),{},{amount:+e.target.value,fee_payment_amount:+e.target.value})}))},errorShow:T.amount}),(0,j.jsx)(Z.Z,{paymentHeading:C("refund_payment_type_mode"),selectLabel:C("mode_placeholder"),onClick:function(e){J((function(n){return(0,o.Z)((0,o.Z)({},n),{},{mode:"By Cash"===e?"Offline":"Online",fee_payment_mode:e})}))},errorShow:T.fee_payment_mode,defalutValue:F.fee_payment_mode,selectedValue:C("please_select_payment_mode"),isAuthority:"admissionCollectMode"}),(0,j.jsx)(h.Z,{label:C("select_date_of_transaction"),placeholder:C("please_select_date"),name:"transaction_date",value:F.transaction_date,onChange:function(e){J((function(n){return(0,o.Z)((0,o.Z)({},n),{},{transaction_date:(0,y.jh)(e)})}))},errorShow:T.transaction_date}),"Cash"===F.fee_payment_mode?null:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:u.Z.admission_fees_row,style:{margin:0},children:(0,j.jsx)("h6",{style:{margin:0,marginTop:"1rem"},children:C("paid_to")})}),(0,j.jsx)(p.Z,{label:C("bank_name_collect"),placeholder:C("please_enter_bank_name"),name:"fee_bank_name",value:F.fee_bank_name,type:"text",onChange:$}),(0,j.jsx)(p.Z,{label:C("banke_holder_name"),placeholder:C("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:F.fee_bank_holder,type:"text",onChange:$}),(0,j.jsx)(p.Z,{label:C("cheque_dd_neft"),placeholder:C("please_enter_utr_ref_number"),name:"fee_utr_reference",value:F.fee_utr_reference,type:"text",onChange:$})]}),(0,j.jsx)(f.Z,{label:"confirm",onAction:function(){var e,n,a,l,o,t,d,i,r,_,u,s,c,m,v,f,p,h,Z=(0,b.l)(F,["mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference"]);(0,b.x)(Z)?null!==k&&void 0!==k&&null!==(e=k.student)&&void 0!==e&&e._id&&null!==k&&void 0!==k&&null!==(n=k.appId)&&void 0!==n&&n._id&&null!==k&&void 0!==k&&null!==(a=k.fee_structure)&&void 0!==a&&a._id&&(A((function(e){return!e})),M({sid:null===k||void 0===k||null===(l=k.student)||void 0===l?void 0:l._id,appId:null===k||void 0===k||null===(o=k.appId)||void 0===o?void 0:o._id,payment:{struct:null===k||void 0===k||null===(t=k.fee_structure)||void 0===t?void 0:t._id,amount:null!==(d=null===F||void 0===F?void 0:F.amount)&&void 0!==d?d:"",mode:null!==(i=null===F||void 0===F?void 0:F.mode)&&void 0!==i?i:"",fee_payment_mode:null!==(r=null===F||void 0===F?void 0:F.fee_payment_mode)&&void 0!==r?r:"",fee_payment_amount:null!==(_=null===F||void 0===F?void 0:F.fee_payment_amount)&&void 0!==_?_:"",transaction_date:null!==(u=(0,y._1)(F.transaction_date))&&void 0!==u?u:"",fee_bank_name:null!==(s=null===F||void 0===F?void 0:F.fee_bank_name)&&void 0!==s?s:"",fee_bank_holder:null!==(c=null===F||void 0===F?void 0:F.fee_bank_holder)&&void 0!==c?c:"",fee_utr_reference:null!==(m=null===F||void 0===F?void 0:F.fee_utr_reference)&&void 0!==m?m:"",remainAmount:null!==(v=(null===k||void 0===k?void 0:k.applicable_fee)-G)&&void 0!==v?v:0,classId:null!==(f=null===k||void 0===k||null===(p=k.student)||void 0===p||null===(h=p.studentClass)||void 0===h?void 0:h._id)&&void 0!==f?f:null}}).then((function(){A((function(e){return!e})),g()})).catch({})):V(Z)}})]})]})}),N&&(0,j.jsx)(v.Z,{})]})}}}]);
//# sourceMappingURL=6212.676edb54.chunk.js.map