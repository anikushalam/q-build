"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[2218],{2218:function(i,l,o){o.r(l);var t=o(29439),n=o(72791),d=o(9447),e=o(12923),u=o(41716),s=o(39230),v=o(95048),c=o(16256),a=o(70092),f=o(39480),r=o(80184);l.default=function(i){var l,o,h,p,k=i.institute,w=(0,s.$G)().t,_=(0,n.useState)(!1),b=(0,t.Z)(_,2),m=b[0],g=b[1],I=(0,v.v9)((function(i){return i.idChange})),x=(0,v.v9)((function(i){return i.postChange.dashboardPosts})),Z=(0,v.I0)(),j=(0,e.VN)(),C=(0,t.Z)(j,1)[0],F=(0,e.yx)(),P=(0,t.Z)(F,1)[0],N=(0,d.KW)(),L=(0,t.Z)(N,1)[0],R=(0,d.n6)(),y=(0,t.Z)(R,1)[0],D=(0,d.hZ)({data:{id:null===I||void 0===I?void 0:I.id,viewAs:c.UJ},skip:!1}),U=D.allDashPost,q=D.allDashPostRefetch,B=(0,f.p0)({data:{id:null===k||void 0===k?void 0:k._id,type:"ID"},skip:!(null!==k&&void 0!==k&&k._id)}).oneInstituteProfileRefetch,E=(0,e.d5)({data:{page:1,id:null===k||void 0===k?void 0:k._id,limit:100},skip:!(null!==k&&void 0!==k&&k._id)}),O=E.instituteOwnFollowingList,A=E.instituteOwnFollowingListRefetch,G=(0,e.Tv)({list:{page:1,id:null===k||void 0===k?void 0:k._id,limit:100},skip:!(null!==k&&void 0!==k&&k._id)}),J=G.instituteFollowList,K=G.instituteFollowListRefetch;(0,n.useEffect)((function(){null!==k&&void 0!==k&&k._id&&(K(),A())}),[null===k||void 0===k?void 0:k._id]),(0,n.useEffect)((function(){null!==U&&void 0!==U&&U.post&&Z(a.p.followPost({post:null===U||void 0===U?void 0:U.post,profilePost:"dash"}))}),[null===U||void 0===U?void 0:U.post]);return(0,r.jsx)(r.Fragment,{children:null!==k&&void 0!==k&&null!==(l=k.blockedBy)&&void 0!==l&&l.includes(null===I||void 0===I?void 0:I.id)?(0,r.jsx)("div",{className:u.Z.profileedit,title:"Unblock Institute",children:(0,r.jsx)("button",{onClick:function(){g(!0),y({blockId:null===k||void 0===k?void 0:k._id}).then((function(){B(),g(!1)})).catch({})},children:w("blocked")})}):null!==O&&void 0!==O&&null!==(o=O.following)&&void 0!==o&&o.some((function(i){return(null===i||void 0===i?void 0:i._id)===(null===I||void 0===I?void 0:I.id)}))?(0,r.jsx)("div",{className:u.Z.profileedit,title:"Block Institute",children:(0,r.jsx)("button",{onClick:function(){g(!0),L({blockId:null===k||void 0===k?void 0:k._id}).then((function(){B(),g(!1)})).catch({})},children:w("block")})}):null!==k&&void 0!==k&&null!==(h=k.follower)&&void 0!==h&&h.includes(null===I||void 0===I?void 0:I.id)||null!==J&&void 0!==J&&null!==(p=J.iFollowers)&&void 0!==p&&p.some((function(i){return(null===i||void 0===i?void 0:i._id)===(null===I||void 0===I?void 0:I.id)}))?(0,r.jsx)("div",{className:u.Z.profileedit,title:"Unfollow Institute",children:(0,r.jsx)("button",{onClick:function(){g(!0);var i=function(i){for(var l=[],o=0;o<(null===x||void 0===x?void 0:x.length);o++)x[o].author!==i&&l.push(x[o]);return l}(null===k||void 0===k?void 0:k._id);Z(a.p.unfollowPost({posts:i})),P({followId:null===k||void 0===k?void 0:k._id}).then((function(i){i.data.message&&(K(),g(!1))})).catch({})},disabled:m,children:w("unfollow")})}):(0,r.jsx)("div",{className:u.Z.profileedit,title:"Follow Institute",children:(0,r.jsx)("button",{onClick:function(){g(!0),C({followId:null===k||void 0===k?void 0:k._id}).then((function(i){i.data.message&&(K(),q(),g(!1))})).catch({})},disabled:m,children:w("follow")})})})}}}]);
//# sourceMappingURL=2218.1f1cc112.chunk.js.map