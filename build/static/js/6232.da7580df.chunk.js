"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[6232],{77121:function(n,e,a){var i=a(1413),l=(a(72791),a(38733)),t=a(39230),o=a(80184);e.Z=function(n){var e=n.labelText,a=n.name,c=n.value,r=n.onChange,d=n.errorShow,_=n.customStyleContainer,s=n.disabled,u=(0,t.$G)().t;return(0,o.jsxs)("div",{className:l.Z.join_form_container,style:(0,i.Z)({},_),children:[(0,o.jsxs)("label",{className:l.Z.join_form_label,children:[e,d&&(0,o.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",u("form_require_label")]})]}),(0,o.jsxs)("div",{className:l.Z.join_form_file_container,children:[(0,o.jsx)("label",{className:c?"".concat(l.Z.join_form_file_choose," ").concat(l.Z.join_form_active_background):l.Z.join_form_file_choose,htmlFor:a,children:u(""!==c?"file_chosen":"chose_file")}),(0,o.jsx)("label",{className:l.Z.join_form_file_choosen,htmlFor:a,children:""!==c?null===c||void 0===c?void 0:c.originalName:u("no_file_chosen")})]}),(0,o.jsx)("input",{type:"file",name:a,id:a,style:{display:"none"},onChange:r,disabled:s||!1})]})}},10131:function(n,e,a){var i=a(1413),l=(a(72791),a(86861)),t=a(77737),o=a(67923),c=a(39230),r=a(69721),d=a(32217),_=a(80184),s={width:"100%",marginTop:"0",marginBottom:"0"},u={fontWeight:"400",fontSize:"12px",color:"rgba(18, 18, 18, 0.8)"},b=function(n){var e,a,l,d,b,f,v,m,k,h,p=n.bank,x=(0,c.$G)().t;return(0,_.jsxs)("div",{className:t.Z.bank_card,style:{flexDirection:"column",alignItems:"flex-start"},children:[(0,_.jsxs)("div",{className:t.Z.bank_card_heading,children:[(0,_.jsx)("img",{src:"/images/finance/bank-card-icon.svg",alt:"bank icon"}),(0,_.jsxs)("div",{className:t.Z.bank_card_text,children:[(0,_.jsx)("h6",{children:null!==(e=null===p||void 0===p?void 0:p.finance_bank_name)&&void 0!==e?e:""}),(0,_.jsx)("p",{children:null!==p&&void 0!==p&&null!==(a=p.department)&&void 0!==a&&a.dName?null===p||void 0===p||null===(l=p.department)||void 0===l?void 0:l.dName:null!==p&&void 0!==p&&p.hostel?"Hostel":null!==p&&void 0!==p&&p.library?"Library":null!==p&&void 0!==p&&p.transport?"Transport":(null===p||void 0===p||null===(d=p.departments)||void 0===d?void 0:d.length)>0?null===p||void 0===p||null===(b=p.departments)||void 0===b?void 0:b.map((function(n,e){var a,i;return(0,_.jsxs)("span",{children:[null!==(a=null===n||void 0===n?void 0:n.dName)&&void 0!==a?a:"",e+1===(null===p||void 0===p||null===(i=p.departments)||void 0===i?void 0:i.length)?"":", "]},null===n||void 0===n?void 0:n._id)})):""})]})]}),(0,_.jsxs)("section",{className:t.Z.bank_details_heading,children:[(0,_.jsxs)("h6",{children:[x("applicable_for")," "," : "," "]}),(0,_.jsx)(o.Z,{labelText:"",value:null!==p&&void 0!==p&&null!==(f=p.department)&&void 0!==f&&f.dName?null===p||void 0===p||null===(v=p.department)||void 0===v?void 0:v.dName:null!==p&&void 0!==p&&p.hostel?"Hostel":null!==p&&void 0!==p&&p.library?"Library":null!==p&&void 0!==p&&p.transport?"Transport":(null===p||void 0===p||null===(m=p.departments)||void 0===m?void 0:m.length)>0?null===p||void 0===p||null===(k=p.departments)||void 0===k?void 0:k.map((function(n,e){var a,i;return(0,_.jsxs)("span",{children:[null!==(a=null===n||void 0===n?void 0:n.dName)&&void 0!==a?a:"",e+1===(null===p||void 0===p||null===(i=p.departments)||void 0===i?void 0:i.length)?"":", "]},null===n||void 0===n?void 0:n._id)})):"",customStyleContainer:s,customStyleLabel:u,customStyleValue:(0,i.Z)((0,i.Z)({},u),{},{marginLeft:"-1rem"})})]}),(0,_.jsxs)("section",{className:t.Z.bank_details_heading,children:[(0,_.jsx)("h6",{children:x("bank_details")}),(0,_.jsx)(o.Z,{labelText:"".concat(x("bank_name_collect")," :"),value:null===p||void 0===p?void 0:p.finance_bank_name,customStyleContainer:s,customStyleLabel:u,customStyleValue:u}),(0,_.jsx)(o.Z,{labelText:"".concat(x("account_name")," :"),value:null===p||void 0===p?void 0:p.finance_bank_account_name,customStyleContainer:s,customStyleLabel:u,customStyleValue:u}),(0,_.jsx)(o.Z,{labelText:"".concat(x("account_number")," :"),value:null===p||void 0===p?void 0:p.finance_bank_account_number,customStyleContainer:s,customStyleLabel:u,customStyleValue:u}),(0,_.jsx)(o.Z,{labelText:"".concat(x("ifsc_code")," :"),value:null===p||void 0===p?void 0:p.finance_bank_ifsc_code,customStyleContainer:s,customStyleLabel:u,customStyleValue:u}),(0,_.jsx)(o.Z,{labelText:"".concat(x("address")," :"),value:null===p||void 0===p?void 0:p.finance_bank_branch_address,customStyleContainer:s,customStyleLabel:u,customStyleValue:u})]}),(0,_.jsx)("section",{className:t.Z.bank_details_heading,children:(0,_.jsx)(o.Z,{labelText:"".concat(x("upi_id")," :"),value:null===p||void 0===p?void 0:p.finance_bank_upi_id,customStyleContainer:s,customStyleLabel:u,customStyleValue:u})}),(0,_.jsxs)("section",{className:t.Z.bank_details_heading1,style:{width:"100%",alignItems:"flex-start"},children:[(0,_.jsxs)("div",{className:t.Z.bank_qr_code_text,style:{margin:"0"},children:[(0,_.jsxs)("h6",{children:[x("qr_code"),":"]}),(0,_.jsx)("p",{children:null!==(h=null===p||void 0===p?void 0:p.finance_bank_upi_id)&&void 0!==h?h:""})]}),null!==p&&void 0!==p&&p.finance_bank_upi_qrcode?(0,_.jsx)("img",{src:"".concat(r.yI,"/").concat(null===p||void 0===p?void 0:p.finance_bank_upi_qrcode),alt:"qr code"}):""]})]})};e.Z=function(n){var e,a,o,r,s,u=n.bank,f=n.carryParentState,v=n.viewAs,m=n.onChooseBank,k=n.callApi;(0,c.$G)().t;return(0,_.jsx)(_.Fragment,{children:"ADMISSION_ADMIN"===v?(0,_.jsxs)("div",{className:t.Z.bank_card,style:{cursor:"pointer"},title:"Filter receipts by Bank",onClick:function(){return m(u)},children:[(0,_.jsx)("img",{src:"/images/finance/bank-card-icon.svg",alt:"bank icon"}),(0,_.jsxs)("div",{className:t.Z.bank_card_text,children:[(0,_.jsx)("h6",{children:null!==(e=null===u||void 0===u?void 0:u.finance_bank_name)&&void 0!==e?e:""}),(0,_.jsx)("p",{children:null!==u&&void 0!==u&&null!==(a=u.department)&&void 0!==a&&a.dName?null===u||void 0===u||null===(o=u.department)||void 0===o?void 0:o.dName:null!==u&&void 0!==u&&u.hostel?"Hostel":null!==u&&void 0!==u&&u.library?"Library":null!==u&&void 0!==u&&u.transport?"Transport":(null===u||void 0===u||null===(r=u.departments)||void 0===r?void 0:r.length)>0?null===u||void 0===u||null===(s=u.departments)||void 0===s?void 0:s.map((function(n,e){var a,i;return(0,_.jsxs)("span",{children:[null!==(a=null===n||void 0===n?void 0:n.dName)&&void 0!==a?a:"",e+1===(null===u||void 0===u||null===(i=u.departments)||void 0===i?void 0:i.length)?"":", "]},null===n||void 0===n?void 0:n._id)})):""})]})]}):(0,_.jsx)("div",{style:{width:"49%"},children:"INSTITUTE"===v?(0,_.jsx)(d.Z,{carryParentState:{bankId:null===u||void 0===u?void 0:u._id},activeTab:"?a=bank&n=".concat(null===u||void 0===u?void 0:u.finance_bank_name),children:(0,_.jsx)(b,{bank:u})}):(0,_.jsx)(l.Z,{carryParentState:(0,i.Z)((0,i.Z)({},f),{},{bankId:null===u||void 0===u?void 0:u._id}),activeTab:"bank&n=".concat(null===u||void 0===u?void 0:u.finance_bank_name),callApi:k,children:(0,_.jsx)(b,{bank:u})})})})}},66232:function(n,e,a){a.r(e),a.d(e,{default:function(){return H}});var i=a(29439),l=a(72791),t=a(78687),o=a(87932),c=a(4942),r=a(1413),d=a(39230),_=a(84959),s=a(77121),u=a(97655),b=a(98734),f=a(77737),v=a(93433),m=a(33992),k=a(41233),h=a(36665),p=a(80184),x=function(n){var e,a,t,o,c=n.onCloseApplicable,_=n.instituteId,s=n.setApplicablFor,u=n.libraryId,b=n.transportId,x=n.hostelId,g=(0,d.$G)().t,j=(0,l.useState)({flow:"",flow_id:"",flow_name:"",depart_arr:[]}),Z=(0,i.Z)(j,2),y=Z[0],S=Z[1],C=(0,m.Zi)({id:_,skip:!_}),N=C.allDepartment,T=C.allDepartmentRefetch;(0,l.useEffect)((function(){_&&T()}),[_]);return(0,p.jsx)(h.Z,{onClose:c,children:(0,p.jsxs)("div",{className:f.Z.applicable_container,children:[(0,p.jsx)(k.Z,{selectLabel:g("applicable_for"),selectedValue:g("applicable_for_placeholder"),options:["Internal Department","Transport","Library","Hostel"],onClick:function(n){"Hostel"===n?S({flow:"Hostel",flow_id:x,flow_name:"Hostel",depart_arr:[]}):"Transport"===n?S({flow:"Transport",flow_id:b,flow_name:"Transport",depart_arr:[]}):"Library"===n?S({flow:"Library",flow_id:u,flow_name:"Library",depart_arr:[]}):"Internal Department"===n&&S({flow:"Department",flow_id:"",flow_name:"",depart_arr:[]})}}),"Department"===y.flow&&(0,p.jsx)(k.Z,{selectLabel:g("select_internal_department"),selectedValue:g("select_internal_department_placeholder"),options:null!==(e=null===N||void 0===N||null===(a=N.institute)||void 0===a?void 0:a.depart)&&void 0!==e?e:[],onClick:function(n){S((function(e){return(0,r.Z)((0,r.Z)({},e),{},{flow_id:null===n||void 0===n?void 0:n._id,flow_name:null===n||void 0===n?void 0:n.dName,depart_arr:(0,v.Z)(new Set([].concat((0,v.Z)(e.depart_arr),[null===n||void 0===n?void 0:n._id])))})}))},openAs:"PROMOTE",viewAs:"FINANCE_BANK",defalutValue:(null===(t=y.depart_arr)||void 0===t?void 0:t.length)>1?"".concat(null===(o=y.depart_arr)||void 0===o?void 0:o.length," department selected"):y.flow_name}),(0,p.jsx)("button",{className:f.Z.applicable_btn,onClick:function(){s(y),c()},style:{width:"100%",justifyContent:"center"},children:(0,p.jsx)("div",{children:g("select")})})]})})},g=function(n){var e,a,v,m,k,h,g,j,Z,y,S,C,N,T=n.onRefetch,w=n.openBankMenu,D=n.openAs,q=n.onClose,B=n.onEdit,A=(0,d.$G)().t,I=(0,t.useSelector)((function(n){return n.financeChange.fid})),L=(0,l.useState)(""),F=(0,i.Z)(L,2),E=F[0],H=F[1],U=(0,l.useState)(!1),R=(0,i.Z)(U,2),V=R[0],M=R[1],P=(0,l.useState)(!1),O=(0,i.Z)(P,2),G=O[0],Y=O[1],$=(0,l.useState)({finance_bank_name:"",finance_bank_account_number:"",finance_bank_account_name:"",finance_bank_ifsc_code:"",finance_bank_branch_address:"",finance_bank_upi_id:"",finance_bank_upi_qrcode:"",finance_bank_re_account_number:"",finance_bank_re_upi_id:""}),K=(0,i.Z)($,2),z=K[0],Q=K[1],W=(0,l.useState)({flow:"",flow_id:"",flow_name:"",depart_arr:[]}),J=(0,i.Z)(W,2),X=J[0],nn=J[1],en=(0,l.useState)(""),an=(0,i.Z)(en,2),ln=an[0],tn=an[1],on=(0,l.useState)(""),cn=(0,i.Z)(on,2),rn=cn[0],dn=cn[1],_n=(0,_.FL)(),sn=(0,i.Z)(_n,1)[0],un=(0,o.Xf)(),bn=(0,i.Z)(un,1)[0],fn=(0,o.OS)({data:{fid:I,mod_id:""},skip:!I}),vn=fn.financeDetailManager,mn=fn.financeDetailManagerRefetch;(0,l.useEffect)((function(){I&&mn()}),[I,mn]),(0,l.useEffect)((function(){var n,e,a,i,l,t,o,c,r;"EDIT"===D&&Q({finance_bank_name:null!==(n=null===w||void 0===w?void 0:w.finance_bank_name)&&void 0!==n?n:"",finance_bank_account_number:null!==(e=null===w||void 0===w?void 0:w.finance_bank_account_number)&&void 0!==e?e:"",finance_bank_account_name:null!==(a=null===w||void 0===w?void 0:w.finance_bank_account_name)&&void 0!==a?a:"",finance_bank_ifsc_code:null!==(i=null===w||void 0===w?void 0:w.finance_bank_ifsc_code)&&void 0!==i?i:"",finance_bank_branch_address:null!==(l=null===w||void 0===w?void 0:w.finance_bank_branch_address)&&void 0!==l?l:"",finance_bank_upi_id:null!==(t=null===w||void 0===w?void 0:w.finance_bank_upi_id)&&void 0!==t?t:"",finance_bank_upi_qrcode:null!==(o=null===w||void 0===w?void 0:w.finance_bank_upi_qrcode)&&void 0!==o?o:"",finance_bank_re_account_number:null!==(c=null===w||void 0===w?void 0:w.finance_bank_account_number)&&void 0!==c?c:"",finance_bank_re_upi_id:null!==(r=null===w||void 0===w?void 0:w.finance_bank_upi_id)&&void 0!==r?r:""})}),[D]);var kn=function(n){Q((function(e){return(0,r.Z)((0,r.Z)({},e),{},(0,c.Z)({},n.target.name,n.target.value))}))},hn=function(){Y((function(n){return!n}))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("section",{className:f.Z.add_bank_title,children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:q,alt:""}),(0,p.jsx)("h6",{children:A("EDIT"===D?"update_bank_details":"add_bank_details")})]}),"EDIT"===D?"":(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:"3rem"},children:[(0,p.jsxs)("button",{className:f.Z.applicable_btn,onClick:hn,children:[(0,p.jsx)("div",{children:A("account_applicable_for")}),(0,p.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),X.flow_name&&(0,p.jsx)("h6",{className:f.Z.applicable_text,children:(null===(e=X.depart_arr)||void 0===e?void 0:e.length)>1?"".concat(null===(a=X.depart_arr)||void 0===a?void 0:a.length," department selected"):X.flow_name})]}),E.flow_id&&(0,p.jsxs)("p",{style:{color:"red",marginLeft:"15px"},children:["* ",A("form_require_label")]})]}),(0,p.jsx)(u.Z,{labelText:A("bank_name"),placeholder:A("bank_name_placeholder"),name:"finance_bank_name",value:z.finance_bank_name,type:"text",onChange:kn,errorShow:E.finance_bank_name}),(0,p.jsx)(u.Z,{labelText:A("account_name"),placeholder:A("account_name_placeholder"),name:"finance_bank_account_name",value:z.finance_bank_account_name,type:"text",onChange:kn,errorShow:E.finance_bank_account_name}),(0,p.jsx)(u.Z,{labelText:A("account_number"),placeholder:A("account_number_placeholder"),name:"finance_bank_account_number",value:z.finance_bank_account_number,type:"tel",onChange:kn,errorShow:E.finance_bank_name}),(0,p.jsx)(u.Z,{labelText:A("confirm_account_number"),placeholder:A("confirm_account_number_placeholder"),name:"finance_bank_re_account_number",value:z.finance_bank_re_account_number,type:"tel",onChange:kn,errorShow:E.finance_bank_re_account_number,reAccount:E.finance_bank_re_account_number}),(0,p.jsx)(u.Z,{labelText:A("ifsc_code"),placeholder:A("ifsc_code_placeholder"),name:"finance_bank_ifsc_code",value:z.finance_bank_ifsc_code,type:"text",onChange:kn,errorShow:E.finance_bank_ifsc_code}),(0,p.jsx)(u.Z,{labelText:A("address_of_bank"),placeholder:A("address_of_bank_placeholder"),name:"finance_bank_branch_address",value:z.finance_bank_branch_address,type:"text",onChange:kn,errorShow:E.finance_bank_branch_address}),(0,p.jsx)(u.Z,{labelText:A("upi_id"),placeholder:A("upi_id_placeholder"),name:"finance_bank_upi_id",value:z.finance_bank_upi_id,type:"text",onChange:kn,errorShow:E.finance_bank_upi_id}),(0,p.jsx)(u.Z,{labelText:A("confirm_upi_id"),placeholder:A("finance_bank_re_upi_id"),name:"finance_bank_re_upi_id",value:z.finance_bank_re_upi_id,type:"text",onChange:kn,errorShow:E.finance_bank_re_upi_id,reAccount:E.finance_bank_re_upi_id}),(0,p.jsx)(s.Z,{labelText:A("qr_code_above_upi"),name:"finance_bank_upi_qrcode",value:null!==ln&&void 0!==ln&&ln.name?{originalName:null===ln||void 0===ln?void 0:ln.name}:"",onChange:function(n){M((function(n){return!n}));var e=new FormData;tn(n.target.files[0]),e.append("file",n.target.files[0]),sn({fileUpload:e}).then((function(n){M((function(n){return!n})),"EDIT"===D&&dn(z.finance_bank_upi_qrcode),Q((function(e){var a;return(0,r.Z)((0,r.Z)({},e),{},{finance_bank_upi_qrcode:null===(a=n.data)||void 0===a?void 0:a.imageKey})}))})).catch((function(){M((function(n){return!n}))}))},errorShow:E.finance_bank_upi_qrcode}),(0,p.jsx)("button",{className:f.Z.save_button,onClick:function(){if("EDIT"===D){var n=function(n){var e={};for(var a in n)"finance_bank_account_number"===a&&n.finance_bank_account_number!==n.finance_bank_re_account_number?e.finance_bank_re_account_number="".concat(A("form_account_dose_not_match_label")):"finance_bank_upi_id"===a&&n.finance_bank_upi_id!==n.finance_bank_re_upi_id?e.finance_bank_re_upi_id="".concat(A("upi_id_dose_not_match_label")):n[a]||(e[a]="* required");return e}(z),e=!1;for(var a in n){e=!0;break}e?H(n):B(z,rn)}else{var i=function(n,e){var a={};for(var i in n)"finance_bank_account_number"===i&&n.finance_bank_account_number!==n.finance_bank_re_account_number?a.finance_bank_re_account_number="".concat(A("form_account_dose_not_match_label")):"finance_bank_upi_id"===i&&n.finance_bank_upi_id!==n.finance_bank_re_upi_id?a.finance_bank_re_upi_id="".concat(A("upi_id_dose_not_match_label")):n[i]||(a[i]="* required");return null!==e&&void 0!==e&&e.flow_id||(a.flow_id="flow_id is required"),a}(z,X),l=!1;for(var t in i){l=!0;break}l?H(i):(M((function(n){return!n})),bn((0,r.Z)((0,r.Z)({fid:I},X),{},{bankDetails:(0,r.Z)((0,r.Z)({},z),{},{depart_arr:X.depart_arr})})).then((function(){T(),q(),M((function(n){return!n}))})).catch((function(){M((function(n){return!n}))})))}},children:A("save")}),V&&(0,p.jsx)(b.Z,{}),G&&(0,p.jsx)(x,{onCloseApplicable:hn,setApplicablFor:nn,instituteId:null===vn||void 0===vn||null===(v=vn.finance)||void 0===v||null===(m=v.institute)||void 0===m?void 0:m._id,libraryId:null===vn||void 0===vn||null===(k=vn.finance)||void 0===k||null===(h=k.institute)||void 0===h||null===(g=h.library)||void 0===g?void 0:g[0],transportId:null===vn||void 0===vn||null===(j=vn.finance)||void 0===j||null===(Z=j.institute)||void 0===Z||null===(y=Z.transportDepart)||void 0===y?void 0:y[0],hostelId:null===vn||void 0===vn||null===(S=vn.finance)||void 0===S||null===(C=S.institute)||void 0===C||null===(N=C.hostelDepart)||void 0===N?void 0:N[0]})]})},j=a(16871),Z=a(67923),y=a(69721),S=a(90865),C=a(36721),N=a(12072),T=a(84489),w=a(87049),D=function(n){var e=n.onClose,a=n.openBankMenu,t=n.onRefetch,c=n.setDiabledInfo,r=(0,j.s0)(),d=(0,l.useState)(!1),_=(0,i.Z)(d,2),s=_[0],u=_[1],f=(0,l.useState)(!1),v=(0,i.Z)(f,2),m=v[0],k=v[1],h=(0,o.Ls)(),x=(0,i.Z)(h,1)[0],Z=(0,o.oM)(),y=(0,i.Z)(Z,1)[0];return(0,p.jsx)(p.Fragment,{children:m?(0,p.jsx)(g,{onEdit:function(n,i){u((function(n){return!n})),k(!1),c((function(n){return!n})),y({bid:null===a||void 0===a?void 0:a._id,bankDetails:n,delete_pic:i}).then((function(){t(),u((function(n){return!n})),e()})).catch({})},openAs:"EDIT",onClose:e,openBankMenu:a}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(T.Z,{onClose:e}),(0,p.jsxs)(N.Z,{customStyle:{zIndex:"1200"},children:[(0,p.jsxs)("div",{className:w.Z.edit_modal_container,style:{width:"200px"},children:[(0,p.jsx)("h6",{className:w.Z.edit,onClick:function(){c((function(n){return!n})),k((function(n){return!n}))},children:"Edit"}),(0,p.jsx)("h6",{className:w.Z.remove,onClick:function(){u((function(n){return!n})),x(null===a||void 0===a?void 0:a._id).then((function(){t(),e(),u((function(n){return!n})),r(-1)})).catch({})},children:"Delete"})]}),s&&(0,p.jsx)(b.Z,{})]})]})})},q=a(98094),B=a(47167),A={width:"100%",marginTop:"0",marginBottom:"0"},I={fontWeight:"400",fontSize:"12px",color:"rgba(18, 18, 18, 0.8)"},L=function(n){var e,a,t,_,s,u,b,v,m,k,h,x,g,N,T,w,L,F,E,H,U,R,V,M,P,O,G,Y=n.fid,$=n.getAllBankByFinanceRefetch,K=(0,d.$G)().t,z=(0,j.s0)(),Q=(0,j.TH)(),W=(0,l.useState)(""),J=(0,i.Z)(W,2),X=J[0],nn=J[1],en=(0,l.useState)(!1),an=(0,i.Z)(en,2),ln=an[0],tn=an[1],on=(0,o.do)(),cn=(0,i.Z)(on,1)[0],rn=(0,l.useState)({cash:!1,cheque:!1,demand_draft:!1,net_banking:!1,upi_transfer:!1}),dn=(0,i.Z)(rn,2),_n=dn[0],sn=dn[1],un=(0,l.useState)({msg:"",run:!1}),bn=(0,i.Z)(un,2),fn=bn[0],vn=bn[1],mn=(0,l.useState)(0),kn=(0,i.Z)(mn,2),hn=kn[0],pn=kn[1],xn=[{name:K("bank_info"),id:0},{name:K("fund"),id:1}],gn=(0,o.sv)({bid:Q.state.bankId,skip:!Q.state.bankId}),jn=gn.getOneBankByFinance,Zn=gn.getOneBankByFinanceRefetch,yn=(0,o.HL)({data:{fid:Y,flow:"",filter_by:""},skip:!Y}),Sn=yn.getBankByFinance,Cn=yn.getBankByFinanceRefetch;(0,l.useEffect)((function(){Y&&Cn()}),[Y,Cn]),(0,l.useEffect)((function(){Q.state.bankId&&Zn()}),[Q.state.bankId,Zn]),(0,l.useEffect)((function(){var n,e,a,i,l,t,o,c,r,d;null!==Sn&&void 0!==Sn&&Sn.bank_query&&sn({cash:null!==(n=null===Sn||void 0===Sn||null===(e=Sn.bank_query)||void 0===e?void 0:e.cash)&&void 0!==n&&n,cheque:null!==(a=null===Sn||void 0===Sn||null===(i=Sn.bank_query)||void 0===i?void 0:i.cheque)&&void 0!==a&&a,demand_draft:null!==(l=null===Sn||void 0===Sn||null===(t=Sn.bank_query)||void 0===t?void 0:t.demand_draft)&&void 0!==l&&l,net_banking:null!==(o=null===Sn||void 0===Sn||null===(c=Sn.bank_query)||void 0===c?void 0:c.net_banking)&&void 0!==o&&o,upi_transfer:null!==(r=null===Sn||void 0===Sn||null===(d=Sn.bank_query)||void 0===d?void 0:d.upi_transfer)&&void 0!==r&&r})}),[null===Sn||void 0===Sn?void 0:Sn.bank_query]);var Nn=function(n,e){var a=(0,r.Z)({},_n);for(var i in a)i===n&&(a[i]=e);cn({fid:Y,paymentModeUpdate:{payment_modes_type:a}}).then((function(){vn({msg:"Payment Mode is updated",run:!0})})).catch({}),sn((function(a){return(0,r.Z)((0,r.Z)({},a),{},(0,c.Z)({},n,e))}))};return(0,p.jsxs)("div",{className:f.Z.bank,children:[!ln&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:f.Z.bank_header,children:[(0,p.jsxs)("div",{className:f.Z.bank_header_left,children:[(0,p.jsx)("img",{src:"/images/left-back-icon.svg",alt:"back arrow",className:f.Z.back_icon,onClick:function(){return z(-1)}}),(0,p.jsx)("h6",{className:f.Z.bank_header_title,children:K("bank_detail")})]}),(0,p.jsx)("img",{src:"/images/bank-edit-icon.svg",alt:"back arrow",className:f.Z.back_icon,onClick:function(){return nn(null===jn||void 0===jn?void 0:jn.one_bank)}})]}),(0,p.jsx)(B.Z,{tabList:xn,activeIndexTab:hn,setActiveIndexTab:function(n){pn(n)},showAs:!1,customStyleTab:{width:"50%"}}),(0,p.jsx)(q.Z,{customStyle:{width:"100%",marginBottom:"0.5rem"}}),0===hn&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("section",{className:f.Z.bank_details,style:{height:"fit-content"},children:[(0,p.jsxs)("h6",{children:[K("applicable_for")," "," : "," "]}),(0,p.jsx)(Z.Z,{labelText:"",value:null!==jn&&void 0!==jn&&null!==(e=jn.one_bank)&&void 0!==e&&null!==(a=e.department)&&void 0!==a&&a.dName?null===jn||void 0===jn||null===(t=jn.one_bank)||void 0===t||null===(_=t.department)||void 0===_?void 0:_.dName:null!==jn&&void 0!==jn&&null!==(s=jn.one_bank)&&void 0!==s&&s.hostel?"Hostel":null!==jn&&void 0!==jn&&null!==(u=jn.one_bank)&&void 0!==u&&u.library?"Library":null!==jn&&void 0!==jn&&null!==(b=jn.one_bank)&&void 0!==b&&b.transport?"Transport":(null===jn||void 0===jn||null===(v=jn.one_bank)||void 0===v||null===(m=v.departments)||void 0===m?void 0:m.length)>0?null===jn||void 0===jn||null===(k=jn.one_bank)||void 0===k||null===(h=k.departments)||void 0===h?void 0:h.map((function(n,e){var a,i,l;return(0,p.jsxs)("span",{children:[null!==(a=null===n||void 0===n?void 0:n.dName)&&void 0!==a?a:"",e+1===(null===jn||void 0===jn||null===(i=jn.one_bank)||void 0===i||null===(l=i.departments)||void 0===l?void 0:l.length)?"":", "]},null===n||void 0===n?void 0:n._id)})):"",customStyleContainer:A,customStyleLabel:I,customStyleValue:(0,r.Z)((0,r.Z)({},I),{},{marginLeft:"-1rem"})})]}),(0,p.jsxs)("section",{className:f.Z.bank_details,children:[(0,p.jsx)("h6",{children:K("bank_details")}),(0,p.jsx)(Z.Z,{labelText:"".concat(K("bank_name_collect")," :"),value:null===jn||void 0===jn||null===(x=jn.one_bank)||void 0===x?void 0:x.finance_bank_name,customStyleContainer:A,customStyleLabel:I,customStyleValue:I}),(0,p.jsx)(Z.Z,{labelText:"".concat(K("account_name")," :"),value:null===jn||void 0===jn||null===(g=jn.one_bank)||void 0===g?void 0:g.finance_bank_account_name,customStyleContainer:A,customStyleLabel:I,customStyleValue:I}),(0,p.jsx)(Z.Z,{labelText:"".concat(K("account_number")," :"),value:null===jn||void 0===jn||null===(N=jn.one_bank)||void 0===N?void 0:N.finance_bank_account_number,customStyleContainer:A,customStyleLabel:I,customStyleValue:I}),(0,p.jsx)(Z.Z,{labelText:"".concat(K("ifsc_code")," :"),value:null===jn||void 0===jn||null===(T=jn.one_bank)||void 0===T?void 0:T.finance_bank_ifsc_code,customStyleContainer:A,customStyleLabel:I,customStyleValue:I}),(0,p.jsx)(Z.Z,{labelText:"".concat(K("address")," :"),value:null===jn||void 0===jn||null===(w=jn.one_bank)||void 0===w?void 0:w.finance_bank_branch_address,customStyleContainer:A,customStyleLabel:I,customStyleValue:I})]}),(0,p.jsx)("section",{className:f.Z.bank_upi,children:(0,p.jsx)(Z.Z,{labelText:"".concat(K("upi_id")," :"),value:null===jn||void 0===jn||null===(L=jn.one_bank)||void 0===L?void 0:L.finance_bank_upi_id,customStyleContainer:A,customStyleLabel:I,customStyleValue:I})}),(0,p.jsxs)("section",{className:f.Z.bank_qr_code,children:[(0,p.jsxs)("div",{className:f.Z.bank_qr_code_text,children:[(0,p.jsxs)("h6",{children:[K("qr_code"),":"]}),(0,p.jsx)("p",{children:null!==(F=null===jn||void 0===jn||null===(E=jn.one_bank)||void 0===E?void 0:E.finance_bank_upi_id)&&void 0!==F?F:""})]}),null!==jn&&void 0!==jn&&null!==(H=jn.one_bank)&&void 0!==H&&H.finance_bank_upi_qrcode?(0,p.jsx)("img",{src:"".concat(y.yI,"/").concat(null===jn||void 0===jn||null===(U=jn.one_bank)||void 0===U?void 0:U.finance_bank_upi_qrcode),alt:"qr code"}):""]}),(0,p.jsxs)("section",{children:[(0,p.jsx)("h6",{children:K("payment_mode")}),(0,p.jsx)(S.Z,{labelHeading:K("online_payment_gateway"),labelDescription:"",defaultLabel:!0,customContainer:{padding:"0",marginBottom:"0.5rem"}}),(0,p.jsx)(S.Z,{labelHeading:K("cash"),labelDescription:"",defaultLabel:!1,checkedToggle:_n.cash,onToggleHandler:function(n){return Nn("cash",n.target.checked)},customContainer:{padding:"0",marginBottom:"0.5rem"}}),(0,p.jsx)(S.Z,{labelHeading:K("upi_transfer"),labelDescription:"",defaultLabel:!1,checkedToggle:_n.upi_transfer,onToggleHandler:function(n){return Nn("upi_transfer",n.target.checked)},customContainer:{padding:"0",marginBottom:"0.5rem"}}),(0,p.jsx)(S.Z,{labelHeading:K("neft_rtgs"),labelDescription:"",defaultLabel:!1,checkedToggle:_n.net_banking,onToggleHandler:function(n){return Nn("net_banking",n.target.checked)},customContainer:{padding:"0",marginBottom:"0.5rem"}}),(0,p.jsx)(S.Z,{labelHeading:K("cheque"),labelDescription:"",defaultLabel:!1,checkedToggle:_n.cheque,onToggleHandler:function(n){return Nn("cheque",n.target.checked)},customContainer:{padding:"0",marginBottom:"0.5rem"}}),(0,p.jsx)(S.Z,{labelHeading:K("demand_draft"),labelDescription:"",defaultLabel:!1,checkedToggle:_n.demand_draft,onToggleHandler:function(n){return Nn("demand_draft",n.target.checked)},customContainer:{padding:"0",marginBottom:"0.5rem"}})]})]}),1===hn&&(0,p.jsxs)("div",{className:f.Z.bank_fund_container,children:[(0,p.jsxs)("div",{className:f.Z.bank_fund,children:[(0,p.jsx)("h6",{children:K("total_due")}),(0,p.jsxs)("h5",{children:[K("rs"),". ",null!==(R=null===jn||void 0===jn||null===(V=jn.one_bank)||void 0===V?void 0:V.total_repay)&&void 0!==R?R:0]})]}),(0,p.jsxs)("div",{className:f.Z.bank_fund,children:[(0,p.jsx)("h6",{children:K("bank_online_fees")}),(0,p.jsxs)("h5",{children:[K("rs"),"."," ",null!==(M=null===jn||void 0===jn||null===(P=jn.one_bank)||void 0===P?void 0:P.collect_online)&&void 0!==M?M:0]})]}),(0,p.jsxs)("div",{className:f.Z.bank_fund,children:[(0,p.jsx)("h6",{children:K("repayment_due")}),(0,p.jsxs)("h5",{children:[K("rs"),". ",null!==(O=null===jn||void 0===jn||null===(G=jn.one_bank)||void 0===G?void 0:G.due_repay)&&void 0!==O?O:0]})]})]})]}),fn.run&&(0,p.jsx)(C.Ch,{msg:fn.msg,run:fn.run,setRun:function(){return vn({msg:"",run:!1})},postiton:"bottom",type:"success"}),X&&(0,p.jsx)(D,{openBankMenu:X,onClose:function(){nn(""),tn(!1)},onRefetch:function(){Zn(),$()},setDiabledInfo:tn})]})},F=a(10131),E=a(65543),H=function(n){var e,a,c=n.carryParentState,r=n.callApi,_=n.financeId,s=n.viewAs,u=(0,j.s0)(),b=(0,j.TH)(),v=(0,d.$G)().t,m=(0,t.useSelector)((function(n){return n.financeChange.fid})),k=(0,l.useState)(!1),h=(0,i.Z)(k,2),x=h[0],Z=h[1],y=(0,l.useState)(!1),S=(0,i.Z)(y,2),C=S[0],N=S[1],T=(0,o.o9)({data:{fid:m||_,page:1,limit:40,search:""},skip:m?!m:!_}),w=T.getAllBankByFinance,D=T.getAllBankByFinanceRefetch;(0,l.useEffect)((function(){(m||_)&&D()}),[m,_,D]);var q=(0,E.u)().scrollToTop;(0,l.useEffect)((function(){q()}),[]);return(0,p.jsxs)(p.Fragment,{children:["bank"===(null===(e=b.search)||void 0===e?void 0:e.substring(3))?!x&&(0,p.jsxs)("div",{className:f.Z.bank,children:[(0,p.jsxs)("div",{className:f.Z.bank_header,children:[(0,p.jsxs)("div",{className:f.Z.bank_header_left,children:[(0,p.jsx)("img",{src:"/images/left-back-icon.svg",alt:"back arrow",className:f.Z.back_icon,onClick:function(){return u(-1)}}),(0,p.jsx)("h6",{className:f.Z.bank_header_title,children:v("bank_acount_detail")})]}),(0,p.jsx)("img",{src:"/images/add-plus-blue-icon.svg",alt:"back arrow",className:f.Z.back_icon,onClick:function(){return Z(!0)}})]}),(0,p.jsx)("div",{className:f.Z.bank_list,children:null===w||void 0===w||null===(a=w.all_accounts)||void 0===a?void 0:a.map((function(n){return(0,p.jsx)(F.Z,{bank:n,carryParentState:c,callApi:r,viewAs:s})}))})]}):(0,p.jsx)(L,{fid:m||_,getAllBankByFinanceRefetch:D}),x&&(0,p.jsx)(g,{bank_query:null===w||void 0===w?void 0:w.bank_query,onRefetch:D,onEditAction:function(){N((function(n){return!n}))},edit:C,onClose:function(){return Z(!1)}})]})}},86861:function(n,e,a){var i=a(1413),l=(a(72791),a(16871)),t=a(43504),o=a(80184),c=["submission","submission&n=admission","submission&n=library","student"],r=["inventory","student"],d=["fee&n=category","fee&n=structure","student"],_=["payroll","student"],s=["deposit","student"],u=["bank","student"],b=["export","student"];e.Z=function(n){var e=n.carryParentState,a=n.activeTab,f=n.accessRole,v=n.callApi,m=n.children,k=(0,l.UO)();return(0,o.jsx)(o.Fragment,{children:"CASH_RECEIPT_ACCESS"===f?null!==c&&void 0!==c&&c.includes(a)?(0,o.jsx)(t.rU,{to:"/q/".concat(k.username,"/member/finance?a=").concat(a),state:(0,i.Z)({},e),children:m}):(0,o.jsx)("div",{style:{opacity:"0.5"},children:m}):"INVENTORY_ACCESS"===f?null!==r&&void 0!==r&&r.includes(a)?(0,o.jsx)(t.rU,{to:"/q/".concat(k.username,"/member/finance?a=").concat(a),state:(0,i.Z)({},e),children:m}):(0,o.jsx)("div",{style:{opacity:"0.5"},children:m}):"FEE_MASTER_ACCESS"===f?null!==d&&void 0!==d&&d.includes(a)?(0,o.jsx)(t.rU,{to:"/q/".concat(k.username,"/member/finance?a=").concat(a),state:(0,i.Z)({},e),children:m}):(0,o.jsx)("div",{style:{opacity:"0.5"},children:m}):"PAYROLL_ACCESS"===f?null!==_&&void 0!==_&&_.includes(a)?(0,o.jsx)(t.rU,{to:"/q/".concat(k.username,"/member/finance?a=").concat(a),state:(0,i.Z)({},e),children:m}):(0,o.jsx)("div",{style:{opacity:"0.5"},children:m}):"DEPOSIT_ACCESS"===f?null!==s&&void 0!==s&&s.includes(a)?(0,o.jsx)(t.rU,{to:"/q/".concat(k.username,"/member/finance?a=").concat(a),state:(0,i.Z)({},e),children:m}):(0,o.jsx)("div",{style:{opacity:"0.5"},children:m}):"BANK_ACCOUNT_ACCESS"===f?null!==u&&void 0!==u&&u.includes(a)?(0,o.jsx)(t.rU,{to:"/q/".concat(k.username,"/member/finance?a=").concat(a),state:(0,i.Z)({},e),children:m}):(0,o.jsx)("div",{style:{opacity:"0.5"},children:m}):"DATA_EXPORT_ACCESS"===f?null!==b&&void 0!==b&&b.includes(a)?(0,o.jsx)(t.rU,{to:"/q/".concat(k.username,"/member/finance?a=").concat(a),state:(0,i.Z)({},e),children:m}):(0,o.jsx)("div",{style:{opacity:"0.5"},children:m}):v?(0,o.jsx)(t.rU,{to:"/q/".concat(k.username,"/member/finance?a=").concat(a),state:(0,i.Z)({},e),children:m}):(0,o.jsx)("div",{style:{opacity:"0.5"},children:m})})}},90865:function(n,e,a){var i=a(1413),l=(a(72791),a(89891)),t=a(39320),o=a(80184),c={inputProps:{"aria-label":"Switch demo"}};e.Z=function(n){var e=n.customContainer,a=n.customLabel,r=n.labelDescription,d=n.labelHeading,_=n.defaultLabel,s=n.checkedToggle,u=n.onToggleHandler,b=n.children;return(0,o.jsxs)("div",{className:t.Z.form_toggle_container,style:(0,i.Z)({},e),children:[(0,o.jsxs)("div",{className:t.Z.form_toggle_label,children:[_?(0,o.jsx)(l.Z,(0,i.Z)((0,i.Z)({},c),{},{defaultChecked:!0,disabled:!0})):(0,o.jsx)(l.Z,(0,i.Z)((0,i.Z)({},c),{},{checked:s,onChange:u})),(0,o.jsx)("span",{style:(0,i.Z)({},a),children:d})]}),(0,o.jsx)("div",{className:t.Z.form_toggle_description,children:r}),b]})}},77737:function(n,e){e.Z={bank:"BankDetails_bank__9xKYp",bank_header:"BankDetails_bank_header__VkogJ",bank_header_left:"BankDetails_bank_header_left__aaqO+",back_icon:"BankDetails_back_icon__m2RIF",bank_header_title:"BankDetails_bank_header_title__TDEAZ",add_bank_title:"BankDetails_add_bank_title__wV0jj",save_button:"BankDetails_save_button__5OEUW",bank_details:"BankDetails_bank_details__q+wtm",bank_details_heading:"BankDetails_bank_details_heading__j9Ma8",bank_upi:"BankDetails_bank_upi__yxA8L",bank_details_heading1:"BankDetails_bank_details_heading1__ahN7C",bank_qr_code:"BankDetails_bank_qr_code__3QN0U",bank_qr_code_text:"BankDetails_bank_qr_code_text__jYyzI",bank_list:"BankDetails_bank_list__kJ0Ko",bank_card:"BankDetails_bank_card__FHITA",bank_card_heading:"BankDetails_bank_card_heading__AjRM5",bank_card_text:"BankDetails_bank_card_text__v6twY",applicable_btn:"BankDetails_applicable_btn__D185x",applicable_container:"BankDetails_applicable_container__EkC4H",applicable_text:"BankDetails_applicable_text__GYpb+",bank_fund:"BankDetails_bank_fund__CMYIL",bank_fund_container:"BankDetails_bank_fund_container__9Ue4l"}},39320:function(n,e){e.Z={staff_form_container:"UniversalForm_staff_form_container__QRs6I",staff_form_header_container:"UniversalForm_staff_form_header_container__+cQn3",form_header_container:"UniversalForm_form_header_container__GVVNM",form_header_list:"UniversalForm_form_header_list__fHs8S",form_header_code:"UniversalForm_form_header_code__LsmbM",form_toggle_description:"UniversalForm_form_toggle_description__281dv",form_toggle_label:"UniversalForm_form_toggle_label__mbisD",form_header_content:"UniversalForm_form_header_content__Y3p2k",form_toggle_container:"UniversalForm_form_toggle_container__D0bu0",form_checkbox_container:"UniversalForm_form_checkbox_container__bxzuK",staff_form_header_container_actions:"UniversalForm_staff_form_header_container_actions__2Ynt9",staff_header_text:"UniversalForm_staff_header_text__dQvPP"}}}]);
//# sourceMappingURL=6232.da7580df.chunk.js.map