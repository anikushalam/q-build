"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[5350],{5350:function(t,n,i){i.r(n);var e=i(1413),r=i(93433),o=i(29439),a=i(72791),d=i(5574),u=i(94721),s=i(27301),c=i(91007),l=i(39230),f=i(69721),v=i(16871),h=i(46500),m=i(55581),p=i(95048),Z=i(23441),k=i(57387),g=i(39480),x=i(80184);function b(t){var n=t.img,i=t.photoId,e=t.name,r=t.index,o=t.setIndex,a=t.assignAdmissionHead;return(0,x.jsxs)("div",{className:s.Z.sidebarbottomitem,onClick:function(){a(),o(r)},children:[(0,x.jsx)("img",{alt:"not found",src:"1"!==i?"".concat(f.yI,"/").concat(n):"/images/member_tab/class/default_avatar.svg"}),(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:s.Z.namee,children:e}),(0,x.jsx)("p",{className:s.Z.desig,children:r})]})]})}n.default=function(t){var n=t.libraryModal,i=t.hideModal,y=t.edit,N=t.librarian,j=t.onParentRefetch,I=(0,l.$G)().t,L=(0,a.useState)(!1),M=(0,o.Z)(L,2),R=M[0],_=M[1],S=(0,p.v9)((function(t){return t.idChange})),O=(0,a.useState)(!1),B=(0,o.Z)(O,2),H=B[0],C=B[1],P=(0,a.useState)(!1),F=(0,o.Z)(P,2),G=F[0],A=F[1],E=(0,a.useState)(1),D=(0,o.Z)(E,2),q=D[0],w=D[1],U=(0,a.useState)([]),X=(0,o.Z)(U,2),T=X[0],W=X[1],z=(0,Z.YD)(),Q=(0,o.Z)(z,2),Y=(Q[0],Q[1]),J=(0,m.IO)(),V=(0,o.Z)(J,1)[0],K=(0,m.qF)(),$=(0,o.Z)(K,1)[0],tt=(0,p.I0)(),nt=(0,c.OU)({id:null===S||void 0===S?void 0:S.id,page:q,limit:10},{skip:!(null!==S&&void 0!==S&&S.id)}),it=nt.data,et=nt.refetch;(0,a.useEffect)((function(){null!==S&&void 0!==S&&S.id&&et()}),[null===S||void 0===S?void 0:S.id,et]);var rt=(0,g.gq)({id:null===S||void 0===S?void 0:S.id},{skip:!(null!==S&&void 0!==S&&S.id)}),ot=rt.oneInstituteDashboard,at=rt.oneInstituteDashboardRefetch;(0,a.useEffect)((function(){null!==S&&void 0!==S&&S.id&&at()}),[null===S||void 0===S?void 0:S.id,at]),(0,a.useEffect)((function(){it&&(it.staffIns?W([].concat((0,r.Z)(T),(0,r.Z)(it.staffIns))):q>1&&C(!0))}),[it]),(0,a.useEffect)((function(){Y&&(H||w(q+1))}),[Y]),(0,a.useEffect)((function(){setTimeout((function(){A(!G)}),3e3)}),[]);var dt=(0,v.s0)(),ut=(0,a.useState)(!1),st=(0,o.Z)(ut,2),ct=st[0],lt=st[1],ft=(0,a.useState)(!1),vt=(0,o.Z)(ft,2),ht=vt[0],mt=vt[1],pt=(0,a.useState)({sid:"",name:"",index:"",photoId:"",profilePhoto:""}),Zt=(0,o.Z)(pt,2),kt=Zt[0],gt=Zt[1],xt=null===T||void 0===T?void 0:T.filter((function(t){return(null===t||void 0===t?void 0:t._id)!==(null===N||void 0===N?void 0:N._id)}));return(0,x.jsx)(d.Z,{open:n,onClose:function(){return i(!1)},children:(0,x.jsxs)("div",{className:s.Z.admissionModal,children:[(0,x.jsxs)("div",{className:s.Z.admissionModalhead,children:[(0,x.jsx)("h6",{children:I(y?"edit_library":"activate_library")}),(0,x.jsx)("img",{onClick:function(){return i(!1)},src:"/images/close-post-icon.svg",alt:""})]}),(0,x.jsx)(u.Z,{}),(0,x.jsxs)("div",{className:s.Z.admissionModalbody,children:[!ct&&!y&&(0,x.jsxs)("div",{className:s.Z.assignDesignation,onClick:function(){return lt(!0)},children:[(0,x.jsx)("img",{className:s.Z.assignManager,src:"/images/sports/avatar-circle.svg",alt:""}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h6",{children:I("assign_lib_head")}),(0,x.jsx)("p",{children:I("search_from_joined_list")})]})]}),!ct&&y&&(0,x.jsxs)("div",{className:s.Z.sidebarbottomitem,onClick:function(){return lt(!0)},children:[(0,x.jsx)("img",{alt:"not found",src:"1"!==(null===N||void 0===N?void 0:N.photoId)?"".concat(f.yI,"/").concat(null===N||void 0===N?void 0:N.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:s.Z.namee,children:"".concat((null===N||void 0===N?void 0:N.staffFirstName)||""," ").concat(null!==N&&void 0!==N&&N.staffMiddleName?null===N||void 0===N?void 0:N.staffMiddleName:""," ").concat((null===N||void 0===N?void 0:N.staffLastName)||"")}),(0,x.jsxs)("p",{className:s.Z.desig,children:[" ",I("index_no")," ",null===N||void 0===N?void 0:N.index]})]})]}),ct&&!ht&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:s.Z.searchbar,children:[(0,x.jsx)("input",{type:"text",placeholder:I("search"),className:"form-control ".concat(s.Z.searchinput)}),(0,x.jsx)("img",{className:s.Z.searchIcon,alt:"img",src:"/images/search-dash-icon.svg"})]}),(0,x.jsx)("div",{className:s.Z.items,children:y?null===xt||void 0===xt?void 0:xt.map((function(t){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(b,{img:t.staffProfilePhoto,photoId:t.photoId,name:"".concat(t.staffFirstName," ").concat(t.staffMiddleName?t.staffMiddleName:""," ").concat(t.staffLastName),index:t.staffROLLNO,setIndex:function(t){return mt(!0)},assignAdmissionHead:function(){gt((0,e.Z)((0,e.Z)({},kt),{},{sid:null===t||void 0===t?void 0:t._id,name:"".concat(null===t||void 0===t?void 0:t.staffFirstName," ").concat(null!==t&&void 0!==t&&t.staffMiddleName?null===t||void 0===t?void 0:t.staffMiddleName:""," ").concat(null===t||void 0===t?void 0:t.staffLastName),index:null===t||void 0===t?void 0:t.staffROLLNO,photoId:null===t||void 0===t?void 0:t.photoId,profilePhoto:null===t||void 0===t?void 0:t.staffProfilePhoto}))}}),(0,x.jsx)(u.Z,{})]})})):null===T||void 0===T?void 0:T.map((function(t){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(b,{img:t.staffProfilePhoto,photoId:t.photoId,name:"".concat(t.staffFirstName," ").concat(t.staffMiddleName?t.staffMiddleName:""," ").concat(t.staffLastName),index:t.staffROLLNO,setIndex:function(t){return mt(!0)},assignAdmissionHead:function(){gt((0,e.Z)((0,e.Z)({},kt),{},{sid:null===t||void 0===t?void 0:t._id,name:"".concat(null===t||void 0===t?void 0:t.staffFirstName," ").concat(null!==t&&void 0!==t&&t.staffMiddleName?null===t||void 0===t?void 0:t.staffMiddleName:""," ").concat(null===t||void 0===t?void 0:t.staffLastName),index:null===t||void 0===t?void 0:t.staffROLLNO,photoId:null===t||void 0===t?void 0:t.photoId,profilePhoto:null===t||void 0===t?void 0:t.staffProfilePhoto}))}}),(0,x.jsx)(u.Z,{})]})}))})]}),ct&&ht&&(0,x.jsxs)("div",{className:s.Z.sidebarbottomitem,children:[(0,x.jsx)("img",{alt:"not found",src:"1"!==kt.photoId?"".concat(f.yI,"/").concat(kt.profilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:s.Z.namee,children:kt.name}),(0,x.jsxs)("p",{className:s.Z.desig,children:["Index No. ",kt.index]})]})]})]}),(0,x.jsx)("div",{className:s.Z.admissionModalfooter,children:(0,x.jsx)("div",{children:(0,x.jsx)(k.Z,{disabled:R,shwoLoader:!0,buttonText:I(y?"edit_":"activate"),customStyleButton:{minHeight:"2rem",marginTop:"0rem"},onAction:y?function(){kt.sid&&null!==N&&void 0!==N&&N._id&&(_(!0),$({osid:null===N||void 0===N?void 0:N._id,nsid:kt.sid}).then((function(t){var n;tt(h.X.libraryQuery({lid:null===(n=t.data)||void 0===n?void 0:n.library,lhead:kt.sid})),j(),gt((0,e.Z)((0,e.Z)({},kt),{},{sid:""})),mt(!ht),lt(!ct),_(!1),i()})))}:function(){var t;""!==(null===S||void 0===S?void 0:S.id)&&(_(!0),V({activate:{sid:null!==(t=null===kt||void 0===kt?void 0:kt.sid)&&void 0!==t?t:""},id:null===S||void 0===S?void 0:S.id}).then((function(t){var n,i;t.data.status&&(_(!1),tt(h.X.libraryQuery({lid:null===(n=t.data)||void 0===n?void 0:n.library,lhead:kt.sid})),dt("/q/".concat(null===ot||void 0===ot||null===(i=ot.institute)||void 0===i?void 0:i.name,"/library")))})))}})})})]})})}},55581:function(t,n,i){i.d(n,{B6:function(){return G},CU:function(){return g},EI:function(){return f},Ef:function(){return k},Fy:function(){return F},H:function(){return N},I4:function(){return p},IO:function(){return o},JH:function(){return q},LN:function(){return m},M_:function(){return w},N6:function(){return C},Nd:function(){return H},O_:function(){return u},QJ:function(){return Z},R3:function(){return E},Rr:function(){return Y},SN:function(){return b},Se:function(){return x},Uc:function(){return W},XJ:function(){return M},Y:function(){return Q},Yv:function(){return B},Zd:function(){return D},Zj:function(){return S},_s:function(){return _},a8:function(){return O},aA:function(){return l},ar:function(){return A},bi:function(){return z},dH:function(){return P},eQ:function(){return y},iJ:function(){return c},mU:function(){return h},n9:function(){return v},nY:function(){return s},oW:function(){return R},pV:function(){return X},qF:function(){return a},qw:function(){return j},sN:function(){return T},sl:function(){return L},x5:function(){return J},xK:function(){return I},yX:function(){return d},z2:function(){return U},zz:function(){return V}});var e=i(29439),r=i(41311),o=function(){var t=(0,r.CW)();return[(0,e.Z)(t,1)[0]]},a=function(){var t=(0,r.UO)();return[(0,e.Z)(t,1)[0]]},d=function(t){var n=(0,r.dA)(null===t||void 0===t?void 0:t.lid,{skip:null===t||void 0===t?void 0:t.skip});return{getLibraryDetail:n.data,getLibraryDetailRefetch:n.refetch}},u=function(t){var n=(0,r.Zo)(t.data,{skip:null===t||void 0===t?void 0:t.skip});return{getBooklist:n.data,getBookListRefetch:n.refetch}},s=function(){var t=(0,r.i9)();return[(0,e.Z)(t,1)[0]]},c=function(t){var n=(0,r.wT)(null===t||void 0===t?void 0:t.bid,{skip:null===t||void 0===t?void 0:t.skip});return{getBookDetail:n.data,getBookDetailRefetch:n.refetch}},l=function(t){var n=(0,r.z2)(t.data,{skip:null===t||void 0===t?void 0:t.skip});return{getIssuedBooklist:n.data,getIssuedBookListRefetch:n.refetch}},f=function(){var t=(0,r.pM)();return[(0,e.Z)(t,1)[0]]},v=function(){var t=(0,r.nv)();return[(0,e.Z)(t,1)[0]]},h=function(t){var n=(0,r.jX)(t.data,{skip:null===t||void 0===t?void 0:t.skip});return{getCollectedBooklist:n.data,getCollectedBookListRefetch:n.refetch}},m=function(){var t=(0,r.Gh)();return[(0,e.Z)(t,1)[0]]},p=function(t){var n=(0,r.NM)(t.data,{skip:null===t||void 0===t?void 0:t.skip});return{getMemberslist:n.data,getMembersListRefetch:n.refetch}},Z=function(t){var n=(0,r.yp)(t.data,{skip:null===t||void 0===t?void 0:t.skip});return{getMemberBooklist:n.data,getMemberBookListRefetch:n.refetch}},k=function(t){var n=(0,r.A8)(t.data,{skip:null===t||void 0===t?void 0:t.skip});return{getMemberHistorylist:n.data,getMemberHistoryListRefetch:n.refetch}},g=function(){var t=(0,r.YG)();return[(0,e.Z)(t,1)[0]]},x=function(){var t=(0,r.Rn)();return[(0,e.Z)(t,1)[0]]},b=function(t){var n=(0,r.du)(null===t||void 0===t?void 0:t.cid,{skip:null===t||void 0===t?void 0:t.skip});return{getCollectedBookDetail:n.data,getCollectedBookDetailRefetch:n.refetch}},y=function(){var t=(0,r.I1)();return[(0,e.Z)(t,1)[0]]},N=function(t){var n=(0,r.ZS)(t.lid,{skip:null===t||void 0===t?void 0:t.skip});return{libraryGetSiteInfo:n.data,libraryGetSiteInfoRefetch:n.refetch}},j=function(){var t=(0,r.Xr)();return[(0,e.Z)(t,1)[0]]},I=function(t){var n=(0,r.Gw)(t.data,{skip:null===t||void 0===t?void 0:t.skip});return{libraryFineCharge:n.data,libraryFineChargeRefetch:n.refetch}},L=function(){var t=(0,r.UV)();return[(0,e.Z)(t,1)[0]]},M=function(){var t=(0,r.Mb)();return[(0,e.Z)(t,1)[0]]},R=function(t){var n=(0,r.BF)(t.data,{skip:null===t||void 0===t?void 0:t.skip});return{libraryAllExcelExport:n.data,libraryAllExcelExportRefetch:n.refetch}},_=function(){var t=(0,r.Ww)();return[(0,e.Z)(t,1)[0]]},S=function(){var t=(0,r.NQ)();return[(0,e.Z)(t,1)[0]]},O=function(){var t=(0,r.WK)();return[(0,e.Z)(t,1)[0]]},B=function(){var t=(0,r.aA)();return[(0,e.Z)(t,1)[0]]},H=function(){var t=(0,r.$8)();return[(0,e.Z)(t,1)[0]]},C=function(){var t=(0,r.nb)();return[(0,e.Z)(t,1)[0]]},P=function(){var t=(0,r.V8)();return[(0,e.Z)(t,1)[0]]},F=function(){var t=(0,r.d6)();return[(0,e.Z)(t,1)[0]]},G=function(){var t=(0,r.iL)();return[(0,e.Z)(t,1)[0]]},A=function(){var t=(0,r.aU)();return[(0,e.Z)(t,1)[0]]},E=function(t){var n=(0,r.dB)(t.data,{skip:null===t||void 0===t?void 0:t.skip});return{libraryGetStudentInOutHistory:n.data,libraryGetStudentInOutHistoryRefetch:n.refetch}},D=function(t){var n=(0,r.O6)(t.data,{skip:null===t||void 0===t?void 0:t.skip});return{libraryGetInOutHistory:n.data,libraryGetInOutHistoryRefetch:n.refetch}},q=function(t){var n=(0,r.$A)(t.data,{skip:null===t||void 0===t?void 0:t.skip});return{libraryGetStocktakeHistory:n.data,libraryGetStocktakeHistoryRefetch:n.refetch}},w=function(t){var n=(0,r.X_)(t.data,{skip:null===t||void 0===t?void 0:t.skip});return{libraryGetStocktakeOneHistory:n.data,libraryGetStocktakeOneHistoryRefetch:n.refetch}},U=function(t){var n=(0,r.Az)(t.data,{skip:t.skip});return{getModeratorByLibrary:n.data,getModeratorByLibraryRefetch:n.refetch}},X=function(){var t=(0,r.a6)();return[(0,e.Z)(t,1)[0]]},T=function(){var t=(0,r.WE)();return[(0,e.Z)(t,1)[0]]},W=function(){var t=(0,r.LO)();return[(0,e.Z)(t,1)[0]]},z=function(){var t=(0,r.yW)();return[(0,e.Z)(t,1)[0]]},Q=function(){var t=(0,r.p3)();return[(0,e.Z)(t,1)[0]]},Y=function(t){var n=(0,r.SK)(t.data,{skip:t.skip});return{getStudentLibraryTime:n.data,getStudentLibraryTimeRefetch:n.refetch}},J=function(){var t=(0,r.R)();return[(0,e.Z)(t,1)[0]]},V=function(){var t=(0,r.VA)();return[(0,e.Z)(t,1)[0]]}}}]);
//# sourceMappingURL=5350.a78a3188.chunk.js.map