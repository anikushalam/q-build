"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[48731],{38668:(e,t,a)=>{a.d(t,{O_:()=>c,Uo:()=>n,bA:()=>l});const n=[{key:"Yes",name:"yes"},{key:"No",name:"no"}],c=[{key:!0,name:"yes"},{key:!1,name:"no"}],l=[{name:"all",key:"All Leave",isAvaiable:!0},{name:"casual_leave",key:"Casual Leave",isAvaiable:!0,count:0,isActive:"casual_leave"},{name:"medical_leave",key:"Medical Leave",isAvaiable:!0,count:0,isActive:"medical_leave"},{name:"sick_leave",key:"Sick Leave",isAvaiable:!0,count:0,isActive:"sick_leave"},{name:"compensation_off_leave",key:"Compensation Off Leave",isAvaiable:!0,count:0,isActive:"c_off_leave"},{name:"on_duty_leave",key:"On Duty Leave",isAvaiable:!0,count:0,isActive:"off_duty_leave"},{name:"leave_without_pay",key:"Leave Without Pay",isAvaiable:!0,count:0,isActive:"lwp_leave"},{name:"commuted_leave",key:"Commuted Leave",isAvaiable:!0,count:0,isActive:"commuted_leave"},{name:"maternity_leave",key:"Maternity Leave",isAvaiable:!0,count:0,isActive:"maternity_leave"},{name:"paternity_leave",key:"Paternity Leave",isAvaiable:!0,count:0,isActive:"paternity_leave"},{name:"quarantine_leave",key:"Quarantine Leave",isAvaiable:!0,count:0,isActive:"quarantine_leave"},{name:"half_pay_leave",key:"Half Pay Leave",isAvaiable:!0,count:0,isActive:"half_pay_leave"},{name:"study_leave",key:"Study Leave",isAvaiable:!0,count:0,isActive:"study_leave"},{name:"sabbatical_leave",key:"Sabbatical Leave",isAvaiable:!0,count:0,isActive:"sabbatical_leave"},{name:"special_disability_leave",key:"Special Disability Leave",isAvaiable:!0,count:0,isActive:"special_disability_leave"},{name:"winter_vacation_leave",key:"Winter Vacation Leave",isAvaiable:!0,count:0,isActive:"winter_vacation_leave"},{name:"summer_vacation_leave",key:"Summer Vacation Leave",isAvaiable:!0,count:0,isActive:"summer_vacation_leave"},{name:"child_adoption_leave",key:"Child Adoption Leave",isAvaiable:!0,count:0,isActive:"child_adoption_leave"},{name:"bereavement_leave",key:"Bereavement Leave",isAvaiable:!0,count:0,isActive:"bereavement_leave"}]},2350:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(51416),c=a(80184);const l=e=>{let{tile:t,onTile:a,activeTile:l,customTileChild:_,isLeaveCreate:o,children:r}=e;return(0,c.jsx)("div",{className:(null===t||void 0===t?void 0:t.key)===l?n.Z.tile_tile_active:n.Z.tile_tile,onClick:()=>a(o?t:null===t||void 0===t?void 0:t.key),style:_,children:r})}},20659:(e,t,a)=>{a.d(t,{Z:()=>_});var n=a(51416),c=a(39230),l=a(80184);const _=e=>{let{label:t,customTileLabel:a,customTileContainer:_,customTileStyle:o,children:r}=e;const{t:i}=(0,c.$G)();return(0,l.jsxs)("div",{className:n.Z.tile_container,style:o,children:[t&&(0,l.jsx)("h6",{className:n.Z.tile_label,style:a,children:i(t)}),(0,l.jsx)("section",{className:n.Z.tile_tile_container,style:_,children:r})]})}},48731:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Z});var n=a(72791),c=a(39230),l=a(84959),_=a(38668),o=a(36665),r=a(33399),i=a(98094);const s=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],d=["January","February","March","April","May","June","July","August","September","October","November","December"],u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;const a=new Date,c="".concat(a.getDate(),"-").concat(a.getMonth()+1,"-").concat(a.getFullYear()),l=[1,2,3,4,5,6,0],[_,o]=(0,n.useState)(a),r=new Date(_.getFullYear(),_.getMonth()+1,0),i=new Date(_.getFullYear(),_.getMonth(),0),u=r.getDate(),v=new Date(_.getFullYear(),_.getMonth(),1).getDay(),m=l.indexOf(v)+1;let h=i.getDate()-l.indexOf(v)+1,g=1,y=1;const f={};for(let n=1;n<7;n++)for(let e=1;e<8;e++)f[n]||(f[n]=[]),1===n?e<m?(f[n]=[...f[n],{classes:"in-prev-month",date:"".concat(h,"-").concat(0===_.getMonth()?12:_.getMonth(),"-").concat(0===_.getMonth()?_.getFullYear()-1:_.getFullYear()),value:h}],h++):(f[n]=[...f[n],{classes:"",date:"".concat(g,"-").concat(_.getMonth()+1,"-").concat(_.getFullYear()),value:g}],g++):n>1&&g<u+1?(f[n]=[...f[n],{classes:"",date:"".concat(g,"-").concat(_.getMonth()+1,"-").concat(_.getFullYear()),value:g}],g++):(f[n]=[...f[n],{classes:"in-next-month",date:"".concat(y,"-").concat(_.getMonth()+2===13?1:_.getMonth()+2,"-").concat(_.getMonth()+2===13?_.getFullYear()+1:_.getFullYear()),value:y}],y++);return{daysShort:e,monthNames:t,todayFormatted:c,calendarRows:f,selectedDate:_,getPrevMonth:()=>{o((e=>new Date(e.getFullYear(),e.getMonth()-1,1)))},getNextMonth:()=>{o((e=>new Date(e.getFullYear(),e.getMonth()+1,1)))}}};var v=a(80184);const m=e=>{let{dateSelected:t,setSelectedDate:a,removeDateArray:c,addDateArray:l}=e;const{calendarRows:_,selectedDate:o,todayFormatted:r,daysShort:i,monthNames:s,getNextMonth:d,getPrevMonth:m}=u(),[h,g]=(0,n.useState)([]),y=e=>{if(t.length>0&&t.includes(e)){const a=t.filter((function(t){return t!==e}));c(a),g(a)}else l(e),g((t=>[...t,e]))};return(0,v.jsxs)(n.Fragment,{children:[(0,v.jsxs)("div",{className:"calenderheader",children:[(0,v.jsx)("div",{className:"monthbtn",onClick:m,children:(0,v.jsx)("img",{alt:"not found",src:"/images/members/arrow-left.svg"})}),(0,v.jsxs)("div",{className:"yearmonth",children:[(0,v.jsx)("h6",{children:"".concat(s[o.getMonth()])}),(0,v.jsx)("p",{children:"".concat(o.getFullYear())})]}),(0,v.jsx)("div",{className:"monthbtn",onClick:d,children:(0,v.jsx)("img",{alt:"not found",src:"/images/members/arrow-right.svg"})})]}),(0,v.jsxs)("table",{className:"table",children:[(0,v.jsx)("thead",{children:(0,v.jsx)("tr",{children:i.map((e=>(0,v.jsx)("th",{className:"day",children:e},e)))})}),(0,v.jsx)("tbody",{children:Object.values(_).map((e=>(0,v.jsx)("tr",{children:e.map((e=>e.date===r?(0,v.jsx)("td",{className:"".concat(e.classes," date"),onClick:()=>y("".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(o.getMonth()+1<10?"0".concat(o.getMonth()+1):o.getMonth()+1,"/").concat(o.getFullYear())),children:(0,v.jsx)("div",{className:t.includes("".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(o.getMonth()+1<10?"0".concat(o.getMonth()+1):o.getMonth()+1,"/").concat(o.getFullYear()))?"".concat(e.classes," datediv aaji active"):"".concat(e.classes," datediv aaji"),children:e.value})},e.date):"in-prev-month"===e.classes||"in-next-month"===e.classes?(0,v.jsx)("td",{className:"".concat(e.classes," date"),children:(0,v.jsx)("div",{className:(t.includes("".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(o.getMonth()+1<10?"0".concat(o.getMonth()+1):o.getMonth()+1,"/").concat(o.getFullYear())),"".concat(e.classes," datediv ")),children:e.value})},e.date):(0,v.jsx)("td",{className:"".concat(e.classes," date"),onClick:()=>y("".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(o.getMonth()+1<10?"0".concat(o.getMonth()+1):o.getMonth()+1,"/").concat(o.getFullYear())),children:(0,v.jsx)("div",{className:t.includes("".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(o.getMonth()+1<10?"0".concat(o.getMonth()+1):o.getMonth()+1,"/").concat(o.getFullYear()))?"".concat(e.classes," datediv  active"):"".concat(e.classes," datediv "),children:e.value})},e.date)))},e[0].date)))})]})]})},h="NewLeave_calender__iV3pq",g="NewLeave_btncontainer__Rq76P",y="NewLeave_reasonbtn__-Qm42";var f=a(51561);const S=e=>{let{onClose:t,onGrabDates:a,alradyDates:l,currentTileActive:_,createdBy:s}=e;const{t:d}=(0,c.$G)(),[u,S]=(0,n.useState)([]),[F,p]=(0,n.useState)({msg:"",run:!1}),b=new Date,x="".concat(b.getDate()<10?"0".concat(b.getDate()):b.getDate(),"/").concat(b.getMonth()+1<10?"0".concat(b.getMonth()+1):b.getMonth()+1,"/").concat(b.getFullYear());function j(e){return new Date(e.split("/").reverse().join("/"))}(0,n.useEffect)((()=>{(null===l||void 0===l?void 0:l.length)>0&&S(l)}),[l]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(o.Z,{onClose:t,children:(0,v.jsx)("div",{className:r.Z.add_category_modal,style:{width:"35rem",minHeight:"10rem",height:"fit-content"},children:(0,v.jsxs)("section",{className:r.Z.fee_middle_section_container,style:{marginBottom:"1.2rem"},children:[(0,v.jsx)("h6",{style:{fontSize:"20px",fontWeight:"600"},children:d("choose_leave_dates")}),(0,v.jsx)(i.Z,{customStyle:{width:"100%",marginTop:"0.7rem"}}),(0,v.jsxs)("div",{className:h,children:[(0,v.jsx)(m,{dateSelected:u,setSelectedDate:S,removeDateArray:e=>{S(e)},addDateArray:e=>{+j(e)>=+j(x)&&S((t=>[...t,e]))}}),(0,v.jsx)("div",{className:g,children:(0,v.jsx)("div",{className:y,onClick:()=>{var e;"OWN_PROFILE"===s?(a(u),t()):(null===_||void 0===_?void 0:_.count)<(null===u||void 0===u?void 0:u.length)&&(null===(e=["On Duty Leave","Leave Without Pay"])||void 0===e||!e.includes(null===_||void 0===_?void 0:_.key))?p({msg:"You have not sufficient ".concat(null===_||void 0===_?void 0:_.key,"."),run:!0}):(a(u),t())},children:d("select")})})]})]})})}),(0,v.jsx)(f.Ch,{msg:F.msg,run:F.run,setRun:()=>p({msg:"",run:!1}),postiton:"bottom",type:"error"})]})};var F=a(99183),p=a(36132),b=a(98684),x=a(21348),j=a(90904),A=a(11468),k=a(93638),M=a(38986),D=a(2350),N=a(20659),C=a(48293),L=a(55336),w=a(16925);const Z=e=>{var t;let{leaveConfig:a,sid:o,createdBy:r,onRefetch:i,onClose:s,leaveTypeToggle:d}=e;const{t:u}=(0,c.$G)(),[m,h]=(0,n.useState)({reason:"",dates:[],attach:"",leave_type:"Casual Leave"}),[g,y]=(0,n.useState)(_.bA),[f,Z]=(0,n.useState)(!1),[Y,T]=(0,n.useState)(""),[O,P]=(0,n.useState)(""),[W,q]=(0,n.useState)(""),[E,I]=(0,n.useState)(!1),[H]=(0,p.gh)(),[R]=(0,p.fu)(),[B]=(0,l.FL)();(0,n.useEffect)((()=>{if("Coff"===r)h((e=>({...e,leave_type:"Compensation Off Leave"})));else{let e=_.bA;e[1].count=null===a||void 0===a?void 0:a.casual_leave,e[2].count=null===a||void 0===a?void 0:a.medical_leave,e[3].count=null===a||void 0===a?void 0:a.sick_leave,e[4].count=null===a||void 0===a?void 0:a.c_off_leave,e[7].count=null===a||void 0===a?void 0:a.commuted_leave,e[8].count=null===a||void 0===a?void 0:a.maternity_leave,e[9].count=null===a||void 0===a?void 0:a.paternity_leave,e[10].count=null===a||void 0===a?void 0:a.quarantine_leave,e[11].count=null===a||void 0===a?void 0:a.half_pay_leave,e[12].count=null===a||void 0===a?void 0:a.study_leave,e[13].count=null===a||void 0===a?void 0:a.sabbatical_leave,e[14].count=null===a||void 0===a?void 0:a.special_disability_leave,e[15].count=null===a||void 0===a?void 0:a.winter_vacation_leave,e[16].count=null===a||void 0===a?void 0:a.summer_vacation_leave,e[17].count=null===a||void 0===a?void 0:a.child_adoption_leave,e[18].count=null===a||void 0===a?void 0:a.bereavement_leave,y(e),q(e[1])}}),[a,r]);const G=e=>{h((t=>({...t,leave_type:null===e||void 0===e?void 0:e.key}))),q(e)},J=()=>{I((e=>!e))};return(0,v.jsxs)(v.Fragment,{children:[E?(0,v.jsx)(S,{onClose:J,alradyDates:m.dates,onGrabDates:e=>{h((t=>({...t,dates:e})))},currentTileActive:W,createdBy:r}):(0,v.jsx)(C.Z,{onClose:s,children:(0,v.jsxs)("div",{className:w.Z.modal_container,style:{maxWidth:"Coff"===r?"35rem":"40rem"},children:[(0,v.jsx)(x.Z,{children:(0,v.jsxs)("div",{className:w.Z.modal_container_outer_header,children:[(0,v.jsx)("div",{className:w.Z.modal_container_header,children:(0,v.jsxs)("h6",{children:[" ",u("Coff"===r?"request_c_off_leave":"create_new_leave")]})}),(0,v.jsx)("img",{src:"".concat(b.J7,"/close.svg"),alt:"close icon",onClick:s})]})}),(0,v.jsx)(j.Z,{}),(0,v.jsxs)(x.Z,{customStyle:{paddingTop:"0"},children:["Coff"===r?null:(0,v.jsx)(N.Z,{customTileContainer:{flexWrap:"wrap",marginBottom:"1rem"},children:null===g||void 0===g?void 0:g.map((e=>{var t,a;return"All Leave"!==e.key&&d[null===e||void 0===e?void 0:e.isActive]?(0,v.jsxs)(D.Z,{tile:e,onTile:G,customTileChild:null!==(t=["On Duty Leave","Leave Without Pay"])&&void 0!==t&&t.includes(e.key)?{flexDirection:"row",alignItems:"center"}:{flexDirection:"column",alignItems:"flex-start"},activeTile:null===W||void 0===W?void 0:W.key,isLeaveCreate:!0,children:[(0,v.jsx)("h6",{children:u(null===e||void 0===e?void 0:e.name)}),(null===e||void 0===e?void 0:e.count)>=0&&(null===(a=["On Duty Leave","Leave Without Pay"])||void 0===a||!a.includes(e.key))?(0,v.jsxs)("p",{children:[u("available")," ",": "," ",null===e||void 0===e?void 0:e.count," "]}):null]}):null}))}),(0,v.jsx)(A.Z,{label:u("reason"),placeholder:u("leave_reason_placeholder"),name:"reason",value:m.reason,type:"text",onChange:e=>{h((t=>({...t,[e.target.name]:e.target.value})))},errorShow:Y.reason}),(0,v.jsx)(k.Z,{label:u("select_dates"),onAction:J,customStyle:{width:"10rem",margin:"0",marginTop:"1rem",padding:"0.4rem 1rem"}}),(0,v.jsx)("p",{className:w.Z.date_select,children:null===(t=m.dates)||void 0===t?void 0:t.map((e=>(0,v.jsxs)("span",{children:[e,", "]},e)))}),(0,v.jsx)(M.Z,{label:u("leave_attachment"),name:"leave_attachment",value:O,onChange:e=>{if(e.target.files[0]){Z((e=>!e));const t=new FormData;t.append("file",e.target.files[0]),B({fileUpload:t}).then((t=>{var a,n,c;P({name:null===(a=e.target.files[0])||void 0===a?void 0:a.name,key:null===(n=t.data)||void 0===n?void 0:n.imageKey,type:null===(c=e.target.files[0])||void 0===c?void 0:c.type}),h((e=>{var a;return{...e,attach:null===(a=t.data)||void 0===a?void 0:a.imageKey}})),Z((e=>!e))})).catch({})}}}),(0,v.jsx)(k.Z,{label:"create",onAction:()=>{if(o){let e=(0,F.l)(m,["attach"]);(0,F.x)(e)?(Z((e=>!e)),"Coff"===r?R({sid:o,leaveConfig:m}).then((()=>{i(),Z((e=>!e)),s()})).catch({}):H({sid:o,LeaveData:m}).then((()=>{i(),Z((e=>!e)),s()})).catch({})):T(e)}}})]})]})}),f&&(0,v.jsx)(L.Z,{})]})}},33399:(e,t,a)=>{a.d(t,{Z:()=>n});const n={fess_container:"FeesStructure_fess_container__KJfJA",category_header:"FeesStructure_category_header__0NZE9",category_header_title:"FeesStructure_category_header_title__a6uYK",fees_category:"FeesStructure_fees_category__B3Yax",fees_category_icon:"FeesStructure_fees_category_icon__JArrd",fees_category_text:"FeesStructure_fees_category_text__pt891",assignment_description_head:"FeesStructure_assignment_description_head__Qc3FE",assignment_description:"FeesStructure_assignment_description__qqF15",department_container:"FeesStructure_department_container__dpMM0",department_card_name:"FeesStructure_department_card_name__eWHf+",department_card_head:"FeesStructure_department_card_head__B2ZwA",department_card_title:"FeesStructure_department_card_title__eyEiT",add_new_category:"FeesStructure_add_new_category__3y9Qr",category_card:"FeesStructure_category_card__NVUgp",fees_card_text:"FeesStructure_fees_card_text__F3gSO",category_card_fee:"FeesStructure_category_card_fee__3w8Sb",fees_card_text_bottom:"FeesStructure_fees_card_text_bottom__7HBFH",department_card_container:"FeesStructure_department_card_container__4Otk6",department_card_image:"FeesStructure_department_card_image__+RQd-",fees_card:"FeesStructure_fees_card__WTgO6",add_category_modal:"FeesStructure_add_category_modal__a37mG",add_category_modal_title:"FeesStructure_add_category_modal_title__DxkYZ",structure_container_title:"FeesStructure_structure_container_title__EUdFM",add_category_modal_title_left:"FeesStructure_add_category_modal_title_left__2nPOT",set_fees_structure_btn:"FeesStructure_set_fees_structure_btn__V7NPc",installment_list:"FeesStructure_installment_list__wA45E",fees_head_title:"FeesStructure_fees_head_title__IxR06",fees_head_installment:"FeesStructure_fees_head_installment__IiGql",table_heading:"FeesStructure_table_heading__RNv9z",table_container:"FeesStructure_table_container__hJ+PK",table_body:"FeesStructure_table_body__O02ZC",table_body_list:"FeesStructure_table_body_list__F5n3s",fee_head_name_input:"FeesStructure_fee_head_name_input__mmPKk",fee_head_amount_input:"FeesStructure_fee_head_amount_input__9C2eU",add_fees_head_btn:"FeesStructure_add_fees_head_btn__YHLGM",fees_total:"FeesStructure_fees_total__-0grI",create_fees_structure_btn:"FeesStructure_create_fees_structure_btn__yySE7",fees_card_hover:"FeesStructure_fees_card_hover__3ulkW",fees_card_hover_active:"FeesStructure_fees_card_hover_active__ESF6D",fee_middle_section:"FeesStructure_fee_middle_section__INnVO",fee_middle_confirm_button:"FeesStructure_fee_middle_confirm_button__C0Q6g",fee_middle_section_container:"FeesStructure_fee_middle_section_container__1lMVJ",edit_icon:"FeesStructure_edit_icon__EhhnH",search_container:"FeesStructure_search_container__IDhvw",search_container_text:"FeesStructure_search_container_text__PWYPL",searchIcon:"FeesStructure_searchIcon__dKXPf",category_card_hover:"FeesStructure_category_card_hover__vDSbu",category_card_hover_active:"FeesStructure_category_card_hover_active__5bQ7H",menu_icon:"FeesStructure_menu_icon__Ns6lc",upload_excel_container:"FeesStructure_upload_excel_container__jommG",upload_excel_file:"FeesStructure_upload_excel_file__+csTW",add_employee_staff:"FeesStructure_add_employee_staff__Hrl+P",add_employee_staff_text:"FeesStructure_add_employee_staff_text__LgZOf",payroll_account_btn:"FeesStructure_payroll_account_btn__t3vSl",account_payment_row:"FeesStructure_account_payment_row__VO533",normal_select_btn:"FeesStructure_normal_select_btn__yU6K-",seating_modal:"FeesStructure_seating_modal__w52St",add_category_modal_title_active:"FeesStructure_add_category_modal_title_active__hFUaf",notify_container:"FeesStructure_notify_container__C+qTv",notify_text:"FeesStructure_notify_text__d3pZD",next_btn:"FeesStructure_next_btn__tR55q",btn_group:"FeesStructure_btn_group__NPo8U",leave_dates:"FeesStructure_leave_dates__2IQZS",letter_head_container:"FeesStructure_letter_head_container__+fkq5",all_leave_config:"FeesStructure_all_leave_config__yscHC"}}}]);
//# sourceMappingURL=48731.4349c108.chunk.js.map