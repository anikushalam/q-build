(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[6388],{85303:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>D});var n=t(63687),i=t(21348),s=t(72791),a=t(39230),d=t(23441),o=t(56959),c=t(90904),r=t(98684),u=t(57588),_=t(91427),v=t(6758);const h="FinanceAllStudent_student_table__Y3uXE",m="FinanceAllStudent_student_table_header__4fuiU",x="FinanceAllStudent_student_table_header_label__4x6eY",f="FinanceAllStudent_student_table_content_card__3KWaE",g="FinanceAllStudent_student_table_profile__QUIFN",p="FinanceAllStudent_student_table_header_name__x4ZNJ",j="FinanceAllStudent_student_table_header_label_text__lny-H",Z="FinanceAllStudent_student_table_contact__f4eB5",N="FinanceAllStudent_student_table_contact_email__dV19L",y="FinanceAllStudent_student_table_contact_number__r7HNK";var S=t(80184);const b=e=>{let{studentAlias:l}=e;const{t:t}=(0,a.$G)();return(0,S.jsx)("div",{className:h,children:(0,S.jsxs)("div",{className:m,children:[(0,S.jsx)("p",{className:x,style:{flex:"1"},children:null!==l&&void 0!==l?l:t("gr_no")}),(0,S.jsx)("p",{className:x,style:{flex:"3"},children:t("name")}),(0,S.jsx)("p",{className:x,style:{flex:"2"},children:t("contact_number")}),(0,S.jsx)("p",{className:x,style:{flex:"1"},children:t("applicable_outs")}),(0,S.jsx)("p",{className:x,style:{flex:"0.7"},children:t("govt_oustanding")})]})})};var I=t(1095),C=t(16871),F=t(43504);const A=e=>{var l,t,n,i,s,a,d,o,u;let{student:_,messageId:v,headId:h,instituteId:m,allStudentControl:b}=e;const A=(0,C.UO)(),Y=(0,C.TH)();return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(F.rU,{to:"/q/".concat(A.username,"/member/student/admission/profile"),state:{...Y.state,sid:null===_||void 0===_?void 0:_._id,messageId:v,headId:h,instituteId:m,collectAccess:null===b||void 0===b?void 0:b.collectAccess,govtAccess:null===b||void 0===b?void 0:b.govtAccess,cancelAccess:null===b||void 0===b?void 0:b.cancelAccess,editStructureControl:null===b||void 0===b?void 0:b.editStructureControl,editGovtNumberContorl:null===b||void 0===b?void 0:b.editGovtNumberContorl,editInstallmentControl:null===b||void 0===b?void 0:b.editInstallmentControl,editGovtInstallmentControl:null===b||void 0===b?void 0:b.editGovtInstallmentControl},allStudentControl:!0,children:[(0,S.jsxs)("div",{className:f,style:{cursor:"pointer"},children:[(0,S.jsx)("p",{className:x,style:{flex:"1"},children:null!==(l=null===_||void 0===_?void 0:_.studentGRNO)&&void 0!==l?l:""}),(0,S.jsxs)("div",{className:g,style:{flex:"3"},children:[(0,S.jsx)("img",{src:null!==_&&void 0!==_&&_.studentProfilePhoto?"".concat(I.yI,"/").concat(null===_||void 0===_?void 0:_.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,S.jsxs)("div",{children:[(0,S.jsxs)("p",{className:p,children:["".concat(null!==(t=null===_||void 0===_?void 0:_.studentFirstName)&&void 0!==t?t:""," ").concat(null!==(n=null===_||void 0===_?void 0:_.studentMiddleName)&&void 0!==n?n:""," ").concat(null!==(i=null===_||void 0===_?void 0:_.studentLastName)&&void 0!==i?i:""),"100"===(null===_||void 0===_?void 0:_.profile_percentage)||100===(null===_||void 0===_?void 0:_.profile_percentage)?(0,S.jsx)("img",{src:"".concat(r.Fk,"/complete.svg"),loading:"lazy",alt:"avatar",style:{marginLeft:"0.6rem",height:"1rem"}}):null]}),(0,S.jsx)("p",{className:j,children:null!==(s=null===_||void 0===_||null===(a=_.studentClass)||void 0===a?void 0:a.classTitle)&&void 0!==s?s:""})]})]}),(0,S.jsxs)("div",{className:x,style:{flex:"2"},children:[(0,S.jsxs)("div",{className:Z,children:[(0,S.jsx)("img",{src:"".concat(r.Fk,"/gender.svg"),alt:"gender icon"}),(0,S.jsx)("p",{className:N,children:null===_||void 0===_?void 0:_.studentGender})]}),(0,S.jsxs)("div",{className:Z,style:{marginTop:"0.4rem"},children:[(0,S.jsx)("img",{src:"".concat(r.Fk,"/phone.svg"),alt:"phone icon"}),(0,S.jsx)("p",{className:y,children:null!==_&&void 0!==_&&_.user.userPhoneNumber?null===_||void 0===_?void 0:_.user.userPhoneNumber:null!==(d=null===_||void 0===_?void 0:_.user.userEmail)&&void 0!==d?d:""})]})]}),(0,S.jsx)("p",{className:x,style:{flex:"1",textAlign:"right"},children:null!==(o=null===_||void 0===_?void 0:_.applicable_fees_pending)&&void 0!==o?o:0}),(0,S.jsx)("p",{className:x,style:{flex:"0.7",textAlign:"right"},children:null!==(u=null===_||void 0===_?void 0:_.government_fees_pending)&&void 0!==u?u:0})]}),(0,S.jsx)(c.Z,{customStyleBorder:{margin:"0"}})]})})};var Y=t(55336),M=t(1669),k=t(2651);const D=e=>{var l,t,h,m,x;let{instituteId:f,studentAlias:g,headId:p,messageId:j,invalidateAccess:Z,allStudentControl:N}=e;const{t:y}=(0,a.$G)(),[I,C]=(0,s.useState)(""),[F,D]=(0,s.useState)(1),[E,P]=(0,s.useState)(!0),[T,w]=(0,d.YD)({skip:I}),{instituteAllStudent:B,instituteAllStudentLoading:U}=(0,v.Cp)({data:{id:f,page:F,limit:10,search:I},skip:!f});(0,s.useEffect)((()=>{w&&E&&D((e=>e+1))}),[w,E]),(0,s.useEffect)((()=>{if(null!==B&&void 0!==B&&B.list){var e;let l=(0,_.f)(null===B||void 0===B||null===(e=B.list)||void 0===e?void 0:e.length);P((()=>l))}}),[null===B||void 0===B?void 0:B.list]);const G=(0,s.useCallback)((0,u.J)((e=>{D((()=>1)),C(e)}),1500),[]),J=e=>{e.target.value?U||G(e.target.value):(D((()=>1)),C(""))};return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(n.Z,{customStyle:{border:L[Z]?"none":"0.5px solid #cacaca"},children:[L[Z]?(0,S.jsx)(i.Z,{children:(0,S.jsx)("div",{className:o.Z.fm_search_full,children:(0,S.jsx)("section",{className:o.Z.fm_search_full_container,children:(0,S.jsxs)("div",{className:o.Z.fm_search_full_container_inner,children:[(0,S.jsx)("img",{className:o.Z.fm_search_full_icon,alt:"search icon",src:"".concat(r.dB,"/navbar-search.svg")}),(0,S.jsx)("input",{type:"text",placeholder:y("search"),onChange:J,disabled:!(I||(null===B||void 0===B||null===(l=B.list)||void 0===l?void 0:l.length)>0)})]})})})}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(i.Z,{children:(0,S.jsxs)("div",{className:o.Z.fm_header_container,children:[(0,S.jsx)("h6",{children:y("all_students")}),(0,S.jsx)("div",{className:o.Z.fm_both_filter,children:(0,S.jsx)("div",{className:o.Z.fm_search,children:(0,S.jsx)("section",{className:o.Z.fm_search_container,children:(0,S.jsxs)("div",{className:o.Z.fm_search_container_inner,children:[(0,S.jsx)("img",{className:o.Z.fm_search_icon,alt:"search icon",src:"".concat(r.dB,"/navbar-search.svg")}),(0,S.jsx)("input",{type:"text",placeholder:y("search"),onChange:J,style:{minWidth:"300px"},disabled:!(I||(null===B||void 0===B||null===(t=B.list)||void 0===t?void 0:t.length)>0)})]})})})})]})}),(0,S.jsx)(c.Z,{})]}),(0,S.jsx)(i.Z,{children:(0,S.jsx)(b,{studentAlias:g})}),(0,S.jsx)(c.Z,{}),(0,S.jsxs)(i.Z,{children:[null===B||void 0===B||null===(h=B.list)||void 0===h?void 0:h.map(((e,l)=>{var t;return(null===B||void 0===B||null===(t=B.list)||void 0===t?void 0:t.length)===l+1?(0,S.jsx)("div",{ref:T,children:(0,S.jsx)(A,{student:e,instituteId:f,messageId:j,headId:p,allStudentControl:N})},null===e||void 0===e?void 0:e._id):(0,S.jsx)(A,{student:e,instituteId:f,messageId:j,headId:p,allStudentControl:N},null===e||void 0===e?void 0:e._id)})),U?I?(0,S.jsx)(Y.Z,{}):(0,S.jsx)(M.Z,{}):I?0===(null===B||void 0===B||null===(m=B.list)||void 0===m?void 0:m.length)&&(0,S.jsx)(k.Z,{title:"No student found related this search."}):0===(null===B||void 0===B||null===(x=B.list)||void 0===x?void 0:x.length)&&(0,S.jsx)(k.Z,{title:"No students added in institute."})]})]})})},L={unAuthorized:!0,govt:!0}},6388:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>ee});var n=t(39230),i=t(56959),s=t(43504),a=t(16871),d=t(63687),o=t(21348),c=t(90904),r=t(98967),u=t(63162),_=t(72791),v=t(55336),h=t(49806),m=t(48293),x=t(98684),f=t(23441),g=t(91427),p=t(57588),j=t(6758),Z=t(1095),N=t(80184);const y=e=>{var l,t,i;let{student:s,selectedId:a,onSelect:d}=e;const{t:o}=(0,n.$G)();return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:h.Z.assign_show_list_each,style:a===(null===s||void 0===s?void 0:s._id)?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:null,onClick:()=>{d(s)},children:[(0,N.jsx)("img",{src:null!==s&&void 0!==s&&s.studentProfilePhoto?"".concat(Z.yI,"/").concat(s.studentProfilePhoto):"".concat(x.p3,"/feed-staff-avatar.svg"),alt:"profile avatar"}),(0,N.jsxs)("div",{className:h.Z.assign_each_paragraph,children:[(0,N.jsx)("h6",{children:"".concat(null!==(l=null===s||void 0===s?void 0:s.studentFirstName)&&void 0!==l?l:""," ").concat(null!==(t=null===s||void 0===s?void 0:s.studentMiddleName)&&void 0!==t?t:""," ").concat(null!==(i=null===s||void 0===s?void 0:s.studentLastName)&&void 0!==i?i:"")}),(0,N.jsxs)("p",{children:[o("gr_number")," "," : ",null===s||void 0===s?void 0:s.studentGRNO]})]})]}),(0,N.jsx)(c.Z,{customStyleBorder:{margin:"0"}})]})};var S=t(1669),b=t(2651);const I=e=>{var l,t,i;let{onClose:s,selectedId:a,onSelectStudent:d,instituteId:r}=e;const{t:u}=(0,n.$G)(),[Z,I]=(0,_.useState)(""),[C,F]=(0,_.useState)(1),[A,Y]=(0,_.useState)(!0),[M,k]=(0,f.YD)({skip:Z}),{instituteAllStudent:D,instituteAllStudentLoading:L}=(0,j.Cp)({data:{id:r,page:C,limit:10,search:Z},skip:!r});(0,_.useEffect)((()=>{k&&A&&F((e=>e+1))}),[k,A]),(0,_.useEffect)((()=>{var e;if(null!==D&&void 0!==D&&null!==(e=D.list)&&void 0!==e&&e.length){var l;let e=(0,g.f)(null===D||void 0===D||null===(l=D.list)||void 0===l?void 0:l.length);Y((()=>e))}}),[null===D||void 0===D?void 0:D.list]);const E=(0,_.useCallback)((0,p.J)((e=>{F((()=>1)),I(e)}),1500),[]),P=e=>{a===(null===e||void 0===e?void 0:e._id)||d(e)};return(0,N.jsx)(m.Z,{onClose:s,children:(0,N.jsxs)("div",{className:h.Z.modal_container,children:[(0,N.jsx)(o.Z,{children:(0,N.jsxs)("div",{className:h.Z.modal_container_outer_header,children:[(0,N.jsx)("div",{className:h.Z.modal_container_header,children:(0,N.jsx)("h6",{children:u("student_list")})}),(0,N.jsx)("img",{src:"".concat(x.J7,"/close.svg"),alt:"close icon",onClick:s})]})}),(0,N.jsx)(c.Z,{}),(0,N.jsxs)(o.Z,{customStyle:{paddingBottom:"1rem"},children:[(0,N.jsxs)("div",{className:h.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,N.jsx)("input",{type:"text",placeholder:u("search"),className:h.Z.assign_search_input,onChange:e=>{e.target.value?E(e.target.value):(F((()=>1)),I(""))},style:{width:"100%"}}),(0,N.jsx)("img",{src:"".concat(x.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===D||void 0===D||null===(l=D.list)||void 0===l?void 0:l.map(((e,l)=>{var t;return(null===D||void 0===D||null===(t=D.list)||void 0===t?void 0:t.length)===l+1?(0,N.jsx)("div",{ref:M,children:(0,N.jsx)(y,{student:e,selectedId:a,onSelect:P})},null===e||void 0===e?void 0:e._id):(0,N.jsx)(y,{student:e,selectedId:a,onSelect:P},null===e||void 0===e?void 0:e._id)})),L?Z?(0,N.jsx)(v.Z,{}):(0,N.jsx)(S.Z,{}):Z?0===(null===D||void 0===D||null===(t=D.list)||void 0===t?void 0:t.length)&&(0,N.jsx)(b.Z,{title:"No students found related this search."}):0===(null===D||void 0===D||null===(i=D.list)||void 0===i?void 0:i.length)&&(0,N.jsx)(b.Z,{title:"No students."})]})]})})};var C=t(97892),F=t.n(C);const A="Scholarship_candidate_card_container__vP99D",Y="Scholarship_candidate_card_container_text__1iyok",M="Scholarship_candidate_card_row__gTdMF",k=e=>{var l,t,i,s,a,d,o,c,r,u,_,v,h,m,f,g,p,j,y,S,b;let{candidate:I}=e;const{t:C}=(0,n.$G)();return(0,N.jsxs)("div",{className:A,children:[(0,N.jsx)("img",{src:null!==I&&void 0!==I&&null!==(l=I.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(Z.yI,"/").concat(null===I||void 0===I||null===(t=I.student)||void 0===t?void 0:t.studentProfilePhoto):"".concat(x.p3,"/feed-user-avatar.svg"),alt:""}),(0,N.jsxs)("div",{className:Y,children:[(0,N.jsxs)("div",{className:M,children:[(0,N.jsx)("h6",{children:"".concat(null!==(i=null===I||void 0===I||null===(s=I.student)||void 0===s?void 0:s.studentFirstName)&&void 0!==i?i:""," ").concat(null!==(a=null===I||void 0===I||null===(d=I.student)||void 0===d?void 0:d.studentMiddleName)&&void 0!==a?a:""," ").concat(null!==(o=null===I||void 0===I||null===(c=I.student)||void 0===c?void 0:c.studentLastName)&&void 0!==o?o:"")}),(0,N.jsxs)("h6",{children:[C("rs_only")," ",null!==(r=null===I||void 0===I?void 0:I.fee_payment_amount)&&void 0!==r?r:0]})]}),(0,N.jsxs)("div",{className:M,children:[(0,N.jsxs)("p",{children:[C("gr_number"),null!==(u=null===I||void 0===I||null===(_=I.student)||void 0===_?void 0:_.studentGRNO)&&void 0!==u?u:""," ",", ","(".concat(null!==(v=null===I||void 0===I||null===(h=I.student)||void 0===h||null===(m=h.batches)||void 0===m?void 0:m.batchName)&&void 0!==v?v:"",")")]}),(0,N.jsx)("p",{children:null===(f=F()(null===I||void 0===I?void 0:I.fee_transaction_date))||void 0===f?void 0:f.format("DD MMM YYYY")})]}),(0,N.jsx)("div",{className:M,children:(0,N.jsxs)("p",{children:[C("class_candi")," ",null!==(g=null===I||void 0===I||null===(p=I.student)||void 0===p||null===(j=p.studentClass)||void 0===j?void 0:j.className)&&void 0!==g?g:""," ",null!==(y=null===I||void 0===I||null===(S=I.student)||void 0===S||null===(b=S.studentClass)||void 0===b?void 0:b.classTitle)&&void 0!==y?y:""]})})]})]})};var D=t(44226),L=t(93638),E=t(84959);const P=e=>{var l,t,s;let{fid:a,aid:d,instituteId:o,onToggle:c}=e;const{t:r}=(0,n.$G)(),[u,h]=(0,_.useState)(!1),[m,Z]=(0,_.useState)(""),[y,I]=(0,_.useState)(1),[C,F]=(0,_.useState)(!0),[A,Y]=(0,f.YD)({skip:m}),[M]=(0,E.FL)(),[P]=(0,j.Hq)(),[T]=(0,j.qJ)(),{financeAllotScholarshipHistory:w,financeAllotScholarshipHistoryLoading:B}=(0,j.Dx)({data:{fid:a,page:y,limit:10,search:m,flow:"BY_FINANCE"},skip:!a});(0,_.useEffect)((()=>{Y&&C&&I((e=>e+1))}),[Y,C]),(0,_.useEffect)((()=>{var e;if(null!==w&&void 0!==w&&null!==(e=w.list)&&void 0!==e&&e.length){var l;let e=(0,g.f)(null===w||void 0===w||null===(l=w.list)||void 0===l?void 0:l.length);F((()=>e))}}),[null===w||void 0===w?void 0:w.list]);const U=(0,_.useCallback)((0,p.J)((e=>{I((()=>1)),Z(e)}),1500),[]);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:i.Z.fm_search_full,style:{marginBlock:"0.6rem"},children:[(0,N.jsx)("section",{className:i.Z.fm_search_full_container,style:{width:"auto"},children:(0,N.jsxs)("div",{className:i.Z.fm_search_full_container_inner,style:{width:"auto"},children:[(0,N.jsx)("img",{className:i.Z.fm_search_full_icon,alt:"search icon",src:"".concat(x.dB,"/navbar-search.svg")}),(0,N.jsx)("input",{type:"text",placeholder:r("search"),onChange:e=>{e.target.value?U(e.target.value):(I((()=>1)),Z(""))},style:{minWidth:"250px"}})]})}),(0,N.jsxs)("div",{className:i.Z.fm_search_full,style:{width:"auto"},children:[(0,N.jsx)(D.Z,{onExcelFileUpload:e=>{var l,t;if(null!==(l=e.target)&&void 0!==l&&null!==(t=l.files)&&void 0!==t&&t.length&&o){h((e=>!e));const l=new FormData;l.append("file",e.target.files[0]),M({fileUpload:l}).then((e=>{var l,t;null!==(l=e.data)&&void 0!==l&&l.imageKey?T({id:o,excelFile:{excel_file:null===(t=e.data)||void 0===t?void 0:t.imageKey}}).then((()=>{h((e=>!e))})).catch({}):h((e=>!e))})).catch({})}},dynamicKey:"scholarshipNumber",title:"Scholarship Number Excel",label:"Number Excel"}),(0,N.jsx)(D.Z,{dynamicKey:"scholashipAllottment",onExcelFileUpload:e=>{var l,t;if(null!==(l=e.target)&&void 0!==l&&null!==(t=l.files)&&void 0!==t&&t.length&&d){h((e=>!e));const l=new FormData;l.append("file",e.target.files[0]),M({fileUpload:l}).then((e=>{var l,t;null!==(l=e.data)&&void 0!==l&&l.imageKey?P({aid:d,excelFile:{excel_file:null===(t=e.data)||void 0===t?void 0:t.imageKey}}).then((()=>{h((e=>!e))})).catch({}):h((e=>!e))})).catch({})}},title:"Scholarship Allottment Excel",label:"Allottment Excel"}),(0,N.jsx)(L.Z,{label:"allot_scholarship",customStyle:{minWidth:"fit-content",paddingBlock:"0.4rem",margin:"0"},onAction:c})]})]}),null===w||void 0===w||null===(l=w.list)||void 0===l?void 0:l.map(((e,l)=>{var t;return(null===w||void 0===w||null===(t=w.list)||void 0===t?void 0:t.length)===l+1?(0,N.jsx)("div",{ref:A,children:(0,N.jsx)(k,{candidate:e})},null===e||void 0===e?void 0:e._id):(0,N.jsx)(k,{candidate:e},null===e||void 0===e?void 0:e._id)})),B?m?(0,N.jsx)(v.Z,{}):(0,N.jsx)(S.Z,{}):m?0===(null===w||void 0===w||null===(t=w.list)||void 0===t?void 0:t.length)&&(0,N.jsx)(b.Z,{title:"No allot scholarship students found related this search."}):0===(null===w||void 0===w||null===(s=w.list)||void 0===s?void 0:s.length)&&(0,N.jsx)(b.Z,{title:"No allot scholarship students."}),u&&(0,N.jsx)(v.Z,{})]})},T=e=>{let{aid:l,instituteId:t,fid:n}=e;const i=(0,a.s0)(),s=(0,a.UO)(),[d,o]=(0,_.useState)(!1),c=()=>{o((e=>!e))};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(P,{fid:n,aid:l,instituteId:t,onToggle:c}),d&&(0,N.jsx)(I,{onClose:c,onSelectStudent:e=>{i("/q/".concat(s.username,"/member/student/admission/profile"),{state:{sid:null===e||void 0===e?void 0:e._id,collectAccess:"OTHER",instituteId:t,govtAccess:"Finance_scholarship",cancelAccess:!1,editStructureControl:"authorized",editGovtNumberContorl:"authorized",editInstallmentControl:"authorized",editGovtInstallmentControl:"authorized"}})},instituteId:t})]})};var w=t(82824),B=t(72888);const U=e=>{var l;let{excel:t}=e;return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("a",{className:B.Z.export_card,title:"Download File",href:"".concat(Z.LS,"/").concat(null===t||void 0===t?void 0:t.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,N.jsx)("img",{src:"".concat(x.J7,"/xsxl.svg"),className:B.Z.export_card_image,alt:"excel icon"}),(0,N.jsxs)("section",{className:B.Z.export_card_text,children:[(0,N.jsx)("h6",{children:null!==(l=null===t||void 0===t?void 0:t.excel_file_name)&&void 0!==l?l:""}),(0,N.jsxs)("div",{className:B.Z.export_card_date,children:[(0,N.jsx)("h6",{children:F()(null===t||void 0===t?void 0:t.created_at).format("DD MMM YYYY")}),(0,N.jsx)("h6",{children:(0,w.J)(null===t||void 0===t?void 0:t.created_at,"LT")})]})]})]},null===t||void 0===t?void 0:t._id)})},G=e=>{var l,t,s;let{fid:a}=e;const{t:d}=(0,n.$G)(),[o,c]=(0,_.useState)(""),[r,u]=(0,_.useState)(1),[h,m]=(0,_.useState)(!0),[Z,y]=(0,f.YD)({skip:o}),{financeMismatchScholarshipHistory:I,financeMismatchScholarshipHistoryLoading:C}=(0,j.i8)({data:{fid:a,page:r,limit:10,search:o,flow:"BY_FINANCE"},skip:!a});(0,_.useEffect)((()=>{y&&h&&u((e=>e+1))}),[y,h]),(0,_.useEffect)((()=>{var e;if(null!==I&&void 0!==I&&null!==(e=I.list)&&void 0!==e&&e.length){var l;let e=(0,g.f)(null===I||void 0===I||null===(l=I.list)||void 0===l?void 0:l.length);m((()=>e))}}),[null===I||void 0===I?void 0:I.list]);const F=(0,_.useCallback)((0,p.J)((e=>{u((()=>1)),c(e)}),1500),[]);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:i.Z.fm_search_full,style:{marginBlock:"0.6rem"},children:(0,N.jsx)("section",{className:i.Z.fm_search_full_container,children:(0,N.jsxs)("div",{className:i.Z.fm_search_full_container_inner,children:[(0,N.jsx)("img",{className:i.Z.fm_search_full_icon,alt:"search icon",src:"".concat(x.dB,"/navbar-search.svg")}),(0,N.jsx)("input",{type:"text",placeholder:d("search"),onChange:e=>{e.target.value?F(e.target.value):(u((()=>1)),c(""))}})]})})}),null===I||void 0===I||null===(l=I.list)||void 0===l?void 0:l.map(((e,l)=>{var t;return(null===I||void 0===I||null===(t=I.list)||void 0===t?void 0:t.length)===l+1?(0,N.jsx)("div",{ref:Z,children:(0,N.jsx)(U,{excel:e})},null===e||void 0===e?void 0:e._id):(0,N.jsx)(U,{excel:e},null===e||void 0===e?void 0:e._id)})),C?o?(0,N.jsx)(v.Z,{}):(0,N.jsx)(S.Z,{}):o?0===(null===I||void 0===I||null===(t=I.list)||void 0===t?void 0:t.length)&&(0,N.jsx)(b.Z,{title:"No mismatch excel found related this search."}):0===(null===I||void 0===I||null===(s=I.list)||void 0===s?void 0:s.length)&&(0,N.jsx)(b.Z,{title:"No mismatch excel."})]})},J=e=>{var l;let{excel:t}=e;return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("a",{className:B.Z.export_card,title:"Download File",href:"".concat(Z.LS,"/").concat(null===t||void 0===t?void 0:t.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,N.jsx)("img",{src:"".concat(x.J7,"/xsxl.svg"),className:B.Z.export_card_image,alt:"excel icon"}),(0,N.jsxs)("section",{className:B.Z.export_card_text,children:[(0,N.jsx)("h6",{children:null!==(l=null===t||void 0===t?void 0:t.excel_file_name)&&void 0!==l?l:""}),(0,N.jsxs)("div",{className:B.Z.export_card_date,children:[(0,N.jsx)("h6",{children:F()(null===t||void 0===t?void 0:t.created_at).format("DD MMM YYYY")}),(0,N.jsx)("h6",{children:(0,w.J)(null===t||void 0===t?void 0:t.created_at,"LT")})]})]})]},null===t||void 0===t?void 0:t._id)})};var H=t(16925),K=t(60924),z=t(43997);const O=e=>{let{onClose:l,instituteId:t}=e;const{t:i}=(0,n.$G)(),[s,a]=(0,_.useState)(!1),[d,r]=(0,_.useState)({from:"",to:""}),[u]=(0,j.CI)();return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(m.Z,{onClose:l,children:(0,N.jsxs)("div",{className:H.Z.modal_container,children:[(0,N.jsx)(o.Z,{children:(0,N.jsxs)("div",{className:H.Z.modal_container_outer_header,children:[(0,N.jsx)("div",{className:H.Z.modal_container_header,children:(0,N.jsx)("h6",{children:i("export_scholarship_excel")})}),(0,N.jsx)("img",{src:"".concat(x.J7,"/close.svg"),alt:"close icon",onClick:l})]})}),(0,N.jsx)(c.Z,{}),(0,N.jsxs)(o.Z,{customStyle:{paddingTop:"0"},children:[(0,N.jsx)(K.Z,{name:"from",label:i("o__from"),placeholder:i("o__please_select_date"),onChange:e=>{r((l=>({...l,from:(0,z.jh)(e)})))},value:d.from}),(0,N.jsx)(K.Z,{name:"to",label:i("o__to"),placeholder:i("o__please_select_date"),onChange:e=>{r((l=>({...l,to:(0,z.jh)(e)})))},value:d.to}),(0,N.jsx)(L.Z,{label:"export",onAction:()=>{t&&(a((e=>!e)),u({id:t,from:null!==d&&void 0!==d&&d.from?(0,z.O_)(d.from):"",to:null!==d&&void 0!==d&&d.to?(0,z.O_)(d.to):"",timeline:"false",timeline_content:""}).then((()=>{a((e=>!e)),l()})).catch({}))}})]}),s&&(0,N.jsx)(v.Z,{})]})})})},$=e=>{var l,t,s;let{instituteId:a}=e;const{t:d}=(0,n.$G)(),[o,c]=(0,_.useState)(!1),[r,u]=(0,_.useState)(""),[h,m]=(0,_.useState)(1),[Z,y]=(0,_.useState)(!0),[I,C]=(0,f.YD)({skip:r}),{financeAllotScholarshipExcelHistory:F,financeAllotScholarshipExcelHistoryLoading:A}=(0,j.OD)({data:{id:a,page:h,limit:10,search:r,flow:"BY_FINANCE"},skip:!a});(0,_.useEffect)((()=>{C&&Z&&m((e=>e+1))}),[C,Z]),(0,_.useEffect)((()=>{var e;if(null!==F&&void 0!==F&&null!==(e=F.list)&&void 0!==e&&e.length){var l;let e=(0,g.f)(null===F||void 0===F||null===(l=F.list)||void 0===l?void 0:l.length);y((()=>e))}}),[null===F||void 0===F?void 0:F.list]);const Y=(0,_.useCallback)((0,p.J)((e=>{m((()=>1)),u(e)}),1500),[]),M=(0,_.useCallback)((()=>{c((e=>!e))}),[]);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:i.Z.fm_search_full,style:{marginBlock:"0.6rem"},children:[(0,N.jsx)("section",{className:i.Z.fm_search_full_container,children:(0,N.jsxs)("div",{className:i.Z.fm_search_full_container_inner,children:[(0,N.jsx)("img",{className:i.Z.fm_search_full_icon,alt:"search icon",src:"".concat(x.dB,"/navbar-search.svg")}),(0,N.jsx)("input",{type:"text",placeholder:d("search"),onChange:e=>{e.target.value?Y(e.target.value):(m((()=>1)),u(""))}})]})}),(0,N.jsx)("img",{src:"".concat(x.J7,"/filter.svg"),alt:"filter icon",onClick:M})]}),null===F||void 0===F||null===(l=F.list)||void 0===l?void 0:l.map(((e,l)=>{var t;return(null===F||void 0===F||null===(t=F.list)||void 0===t?void 0:t.length)===l+1?(0,N.jsx)("div",{ref:I,children:(0,N.jsx)(J,{excel:e})},null===e||void 0===e?void 0:e._id):(0,N.jsx)(J,{excel:e},null===e||void 0===e?void 0:e._id)})),A?r?(0,N.jsx)(v.Z,{}):(0,N.jsx)(S.Z,{}):r?0===(null===F||void 0===F||null===(t=F.list)||void 0===t?void 0:t.length)&&(0,N.jsx)(b.Z,{title:"No export excel found related this search."}):0===(null===F||void 0===F||null===(s=F.list)||void 0===s?void 0:s.length)&&(0,N.jsx)(b.Z,{title:"No export excel."}),o&&(0,N.jsx)(O,{onClose:M,instituteId:a})]})};var q=t(4007),W=t(43677);const X=e=>{let{fid:l,carryParentState:t}=e;const{t:i}=(0,n.$G)(),[s,a]=(0,_.useState)(""),[d,o]=(0,_.useState)([]),{instituteAllDepartment:c,instituteAllDepartmentLoading:r}=(0,j.Jv)({fid:l,skip:!l});(0,_.useEffect)((()=>{c&&o(c)}),[c]);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:q.Z.fm_search_full,style:{marginBlock:"0.6rem"},children:(0,N.jsx)("section",{className:q.Z.fm_search_full_container,children:(0,N.jsxs)("div",{className:q.Z.fm_search_full_container_inner,children:[(0,N.jsx)("img",{className:q.Z.fm_search_full_icon,alt:"search icon",src:"".concat(x.dB,"/navbar-search.svg")}),(0,N.jsx)("input",{type:"text",placeholder:i("search"),onChange:e=>{if(e.target.value){let l=null===c||void 0===c?void 0:c.filter((l=>{var t,n,i;return null!==l&&void 0!==l&&null!==(t=l.dName)&&void 0!==t&&null!==(n=t.toLowerCase())&&void 0!==n&&n.includes(null===(i=e.target.value)||void 0===i?void 0:i.toLowerCase())?l:null}));o(l),a(e.target.value)}else a(""),o(c)}})]})})}),(0,N.jsx)("div",{className:q.Z.department_container,children:null===d||void 0===d?void 0:d.map((e=>(0,N.jsx)(W.Z,{parentState:{...t,did:null===e||void 0===e?void 0:e._id,dName:null===e||void 0===e?void 0:e.dName},activeUrl:"type=scholarship&n=fund&d=fund-detail",children:(0,N.jsxs)("div",{className:q.Z.department_card_container,children:[(0,N.jsx)("img",{src:"".concat(x.J7,"/department.svg"),alt:"department avatar",className:q.Z.department_card_image}),(0,N.jsx)("div",{children:(0,N.jsx)("h6",{className:q.Z.department_card_name,children:(null===e||void 0===e?void 0:e.dName)||""})})]})},null===e||void 0===e?void 0:e._id)))}),r?(0,N.jsx)(S.Z,{}):s?!(null!==d&&void 0!==d&&d.length)&&(0,N.jsx)(b.Z,{title:"No department found related this search."}):!(null!==d&&void 0!==d&&d.length)&&(0,N.jsx)(b.Z,{title:"No department list found."})]})};var R=t(51136);const Q=()=>{var e,l,t,s,r;const{t:u}=(0,n.$G)(),h=(0,a.TH)(),[m,f]=(0,_.useState)(!1),[g]=(0,j.D2)(),{financeScholarshipDepartmentFund:p,financeScholarshipDepartmentFundRefetch:Z}=(0,j.Tq)({data:{did:null===(e=h.state)||void 0===e?void 0:e.did},skip:!(null!==(l=h.state)&&void 0!==l&&l.did)});return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(d.Z,{children:[(0,N.jsx)(o.Z,{children:(0,N.jsx)("div",{className:i.Z.fm_header_container,children:(0,N.jsx)("h6",{children:null!==(t=null===(s=h.state)||void 0===s?void 0:s.dName)&&void 0!==t?t:""})})}),(0,N.jsx)(c.Z,{}),(0,N.jsxs)(o.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,N.jsx)("div",{className:i.Z.fm_fs_container,style:{justifyContent:"flex-end"},children:(0,N.jsx)("div",{className:i.Z.fm_fs_container_inner,children:(0,N.jsxs)("div",{className:i.Z.fm_fs_refetch_container,onClick:()=>{var e,l;null!==(e=h.state)&&void 0!==e&&e.did&&(f((e=>!e)),g({scholarship:{did:null===(l=h.state)||void 0===l?void 0:l.did}}).then((()=>{Z(),f((e=>!e))})).catch({}))},children:[(0,N.jsx)("img",{src:"".concat(x.J7,"/refresh.svg"),alt:"refetch icon"}),(0,N.jsxs)("div",{className:i.Z.fm_fs_refetch_container_inner,children:[(0,N.jsx)("h6",{children:u("refetch_data")}),(0,N.jsxs)("p",{children:[u("last_updated")," : ",F()(null===p||void 0===p?void 0:p.last_update).format("DD MMM YYYY"),", ",(0,w.J)(null===p||void 0===p?void 0:p.last_update,"LT")]})]})]})})}),(0,N.jsx)("div",{className:R.Z.osc_container_inner,style:{justifyContent:"flex-start",gap:"1rem",flexWrap:"wrap"},children:null===p||void 0===p||null===(r=p.custom_classes)||void 0===r?void 0:r.map((e=>{var l,t,n;return(0,N.jsxs)("div",{className:R.Z.osc_card,children:[(0,N.jsx)("img",{src:"".concat(x.J7,"/total-collection.svg"),alt:"overal icon"}),(0,N.jsxs)("div",{className:R.Z.osc_card_inner,children:[(0,N.jsxs)("p",{children:[u("batch")," ",":"," ",null!==(l=null===e||void 0===e?void 0:e.batch)&&void 0!==l?l:""]}),(0,N.jsxs)("h6",{children:[u("collect_from_gov")," ",": ",u("rs_only")," ",null!==(t=null===e||void 0===e?void 0:e.collect_by_government)&&void 0!==t?t:0]}),(0,N.jsxs)("h6",{children:[u("outstanding_from_gov")," ",": ",u("rs_only")," ",null!==(n=null===e||void 0===e?void 0:e.pending_from_government)&&void 0!==n?n:0]})]})]})}))})]})]}),m&&(0,N.jsx)(v.Z,{})]})};var V=t(85303);const ee=e=>{let{fid:l,instituteId:t,aid:h,studentAlias:m}=e;const{t:x}=(0,n.$G)(),[f]=(0,s.lr)(),g=(0,a.TH)(),p=(0,a.UO)();return(0,N.jsxs)(d.Z,{children:[(0,N.jsx)(o.Z,{children:(0,N.jsx)("div",{className:i.Z.fm_header_container,children:(0,N.jsx)("h6",{children:x("scholarship_management")})})}),(0,N.jsx)(c.Z,{}),(0,N.jsxs)(o.Z,{customStyle:{paddingTop:"0"},children:[(0,N.jsx)(r.Z,{children:te.map((e=>{var l,t;return(0,N.jsx)(u.Z,{tab:e,isLink:!0,isActive:null===(l=e.groupIs)||void 0===l?void 0:l.includes(f.get("n")),parentState:g.state,url:"Institute"===(null===(t=g.state)||void 0===t?void 0:t.urlOffSet)?"/q/".concat(p.username,"/institute/member/finance?type=scholarship").concat(e.urlKey):"/q/".concat(p.username,"/member/staff/finance?type=scholarship").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,N.jsx)(c.Z,{customStyleBorder:{marginTop:"0"}})]}),(0,N.jsx)(_.Suspense,{fallback:(0,N.jsx)(v.Z,{}),children:"fund-detail"===f.get("d")?(0,N.jsx)(o.Z,{customStyle:{paddingTop:"0"},children:(0,N.jsx)(Q,{})}):"mismatch"===f.get("n")?(0,N.jsx)(o.Z,{customStyle:{paddingTop:"0"},children:(0,N.jsx)(G,{fid:l})}):"export"===f.get("n")?(0,N.jsx)(o.Z,{customStyle:{paddingTop:"0"},children:(0,N.jsx)($,{instituteId:t})}):"fund"===f.get("n")?(0,N.jsx)(o.Z,{customStyle:{paddingTop:"0"},children:(0,N.jsx)(X,{fid:l,carryParentState:g.state})}):"allottment"===f.get("n")?(0,N.jsx)(o.Z,{customStyle:{paddingTop:"0"},children:(0,N.jsx)(T,{instituteId:t,aid:h,fid:l})}):(0,N.jsx)(V.default,{instituteId:t,studentAlias:m,invalidateAccess:"unAuthorized",allStudentControl:le})})]})},le={collectAccess:"Other",govtAccess:"Other",cancelAccess:!1,editStructureControl:"authorized",editGovtNumberContorl:"authorized",editInstallmentControl:"authorized",editGovtInstallmentControl:"authorized"},te=[{label:"all_students",id:"student",urlKey:"",groupIs:["",null]},{label:"allottment",id:"allottment",urlKey:"&n=allottment",groupIs:["allottment"]},{label:"fund",id:"fund",urlKey:"&n=fund",groupIs:["fund"]},{label:"mismatch",id:"mismatch",urlKey:"&n=mismatch",groupIs:["mismatch"]},{label:"export",id:"export",urlKey:"&n=export",groupIs:["export"]}]},82824:(e,l,t)=>{"use strict";t.d(l,{J:()=>d,Z:()=>o});var n=t(99893),i=t.n(n),s=t(97892),a=t.n(s);const d=(e,l)=>(a().extend(i()),a()(e).format(l)),o=(e,l,t)=>{var n;return a()()[e]("".concat(null===(n=a()(t))||void 0===n?void 0:n.format("YYYY-MM-DD")),l)}},99893:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(l,t,n){var i=t.prototype,s=i.format;n.en.formats=e,i.format=function(l){void 0===l&&(l="YYYY-MM-DDTHH:mm:ssZ");var t=this.$locale().formats,n=function(l,t){return l.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(l,n,i){var s=i&&i.toUpperCase();return n||t[i]||e[i]||t[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,l,t){return l||t.slice(1)}))}))}(l,void 0===t?{}:t);return s.call(this,n)}}}()},72888:(e,l,t)=>{"use strict";t.d(l,{Z:()=>n});const n={export_card:"FinanceExport_export_card__9AYtI",export_card_image:"FinanceExport_export_card_image__-1r1l",export_card_text:"FinanceExport_export_card_text__ZrB00",export_card_date:"FinanceExport_export_card_date__-dTOE",export_card_menu:"FinanceExport_export_card_menu__-xEgr"}},16925:(e,l,t)=>{"use strict";t.d(l,{Z:()=>n});const n={right:"Income_right__XnzYj",rightHead:"Income_rightHead__1rLc6",rightBody:"Income_rightBody__fGEC5",income_detail:"Income_income_detail__IWoJa",detailTop:"Income_detailTop__4JXuu",detailTopMid:"Income_detailTopMid__yc2yv",modal_container:"Income_modal_container__HiGr+",modal_container_outer_header:"Income_modal_container_outer_header__F9c7X",modal_container_header:"Income_modal_container_header__td-Fb",card_container:"Income_card_container__ewKhQ",card_container_image:"Income_card_container_image__5XloP",card_container_inner:"Income_card_container_inner__JBmxr",admission_fees_row:"Income_admission_fees_row__MPJCs",close_icon:"Income_close_icon__Ozq4u",student_message_container:"Income_student_message_container__8KnPc",student_message_container_inner:"Income_student_message_container_inner__mRYpD",usm_institute_container:"Income_usm_institute_container__4LkYt",usm_institute:"Income_usm_institute__hlzdF",date_select:"Income_date_select__D3VkU",gsf_star_container:"Income_gsf_star_container__7gdUs"}},49806:(e,l,t)=>{"use strict";t.d(l,{Z:()=>n});const n={modal_container:"PlateformUser_modal_container__tqwpY",modal_container_outer_header:"PlateformUser_modal_container_outer_header__HbF+9",modal_container_header:"PlateformUser_modal_container_header__QzyxM",modal_container_btn_container:"PlateformUser_modal_container_btn_container__3SJ8i",modal_container_header_btn:"PlateformUser_modal_container_header_btn__dWfwA",assign_search_container:"PlateformUser_assign_search_container__dJdYj",assign_search_input:"PlateformUser_assign_search_input__aFF28",assign_show_list_each:"PlateformUser_assign_show_list_each__co2b1",assign_show_list_each_active:"PlateformUser_assign_show_list_each_active__SWwFS",assign_each_paragraph:"PlateformUser_assign_each_paragraph__bDgq6",close_icon:"PlateformUser_close_icon__VXKXH",comfirm_box:"PlateformUser_comfirm_box__ntFD7",modal_container_btn:"PlateformUser_modal_container_btn__BWFB9"}}}]);
//# sourceMappingURL=6388.7c2b707d.chunk.js.map