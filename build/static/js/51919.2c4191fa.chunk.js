(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[51919],{41233:(e,t,l)=>{"use strict";l.d(t,{Z:()=>a});var i=l(72791),s=l(39230),n=l(38733),d=l(80184);const a=e=>{let{selectLabel:t,onClick:l,selectedValue:a,options:o,customStyleContainer:c,customLabelStyle:r,customListStyle:u,openAs:v,errorShow:m,defalutValue:h,viewAs:_}=e;const{t:x}=(0,s.$G)(),[g,j]=(0,i.useState)(!1),[p,f]=(0,i.useState)(""),S=()=>{j((e=>!e))};(0,i.useEffect)((()=>{"EVENT_MANAGER"!==_&&"ADMISSION_APPLICATION"!==_&&"FINANCE_BANK"!==_&&"NORMAL_FILTER"!==_||f(h)}),[_,h]),(0,i.useEffect)((()=>{if("CUSTOM_FILTER"===_){let i="";for(let s of o)for(let n of h)if((null===s||void 0===s?void 0:s._id)===n){var e,t,l;let n=null!==(e=null!==(t=null!==(l=null===s||void 0===s?void 0:s.dName)&&void 0!==l?l:null===s||void 0===s?void 0:s.batchName)&&void 0!==t?t:null===s||void 0===s?void 0:s.className)&&void 0!==e?e:"";i=i?i+", "+n:n}f(i)}}),[_,h,o]);return(0,d.jsxs)("div",{className:n.Z.join_form_container,style:{...c},children:[(0,d.jsxs)("p",{className:n.Z.join_form_select_paragraph,style:{...r},children:[t,m&&(0,d.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",x("form_require_label")]})]}),(0,d.jsxs)("section",{className:n.Z.join_form_select_custom,onClick:S,children:[p?(0,d.jsx)("p",{className:n.Z.join_form_select_custom_paragraph,children:null!==p&&void 0!==p?p:""}):(0,d.jsx)("p",{className:n.Z.join_form_select_custom_paragraph,children:a}),(0,d.jsx)("img",{className:n.Z.join_form_select_custom_icon,src:"/images/down-icon.svg",alt:"categor icon"})]}),g&&(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("section",{className:n.Z.join_form_select_custom_list,style:u?{...u}:(null===o||void 0===o?void 0:o.length)>2?{overflowY:"scroll"}:{backgroundColor:"#ffffff"},children:null===o||void 0===o?void 0:o.map(((e,t)=>{var i,s,a,o,c,r,u,m,h,x,g,j;return(0,d.jsx)("p",{onClick:()=>{var t,i,s,n,d,a,o,c,r,u,m,h,x;(t="PROMOTE"===v?e:null!==e&&void 0!==e&&e._id?null===e||void 0===e?void 0:e._id:e,l(t),S(),"FINANCE_BANK"===_)||f(null!==(i=null!==(s=null!==(n=null!==(d=null!==(a=null!==(o=null!==(c=null!==(r=null!==(u=null!==(m=null!==(h=null===e||void 0===e?void 0:e.dName)&&void 0!==h?h:null===e||void 0===e?void 0:e.batchName)&&void 0!==m?m:null===e||void 0===e?void 0:e.className)&&void 0!==u?u:null===e||void 0===e?void 0:e.classTitle)&&void 0!==r?r:null===e||void 0===e?void 0:e.category_name)&&void 0!==c?c:null===e||void 0===e||null===(x=e.category_master)||void 0===x?void 0:x.category_name)&&void 0!==o?o:null===e||void 0===e?void 0:e.hostel_unit_name)&&void 0!==a?a:null===e||void 0===e?void 0:e.room_name)&&void 0!==d?d:null===e||void 0===e?void 0:e.subjectName)&&void 0!==n?n:null===e||void 0===e?void 0:e.vehicle_number)&&void 0!==s?s:null===e||void 0===e?void 0:e.finance_bank_account_name)&&void 0!==i?i:e)},className:n.Z.join_form_select_custom_paragraph_option,children:null!==(i=null!==(s=null!==(a=null!==(o=null!==(c=null!==(r=null!==(u=null!==(m=null!==(h=null!==(x=null!==(g=null===e||void 0===e?void 0:e.dName)&&void 0!==g?g:null===e||void 0===e?void 0:e.batchName)&&void 0!==x?x:null===e||void 0===e?void 0:e.className)&&void 0!==h?h:null===e||void 0===e?void 0:e.classTitle)&&void 0!==m?m:null===e||void 0===e?void 0:e.category_name)&&void 0!==u?u:null===e||void 0===e||null===(j=e.category_master)||void 0===j?void 0:j.category_name)&&void 0!==r?r:null===e||void 0===e?void 0:e.hostel_unit_name)&&void 0!==c?c:null===e||void 0===e?void 0:e.room_name)&&void 0!==o?o:null===e||void 0===e?void 0:e.subjectName)&&void 0!==a?a:null===e||void 0===e?void 0:e.vehicle_number)&&void 0!==s?s:null===e||void 0===e?void 0:e.finance_bank_account_name)&&void 0!==i?i:e},t)}))})})]})}},81693:(e,t,l)=>{"use strict";l.d(t,{Z:()=>d});l(72791);var i=l(39230),s=l(38733),n=l(80184);const d=e=>{let{selectLabel:t,value:l,name:d,onChange:a,selectedValue:o,options:c,optionsValue:r,errorShow:u,customStyleContainer:v,customStyleLabel:m,customStyleInput:h,disabled:_,isNotTranslation:x,openAs:g}=e;const{t:j}=(0,i.$G)();return(0,n.jsxs)("div",{className:s.Z.join_form_container,style:{...v},children:[(0,n.jsxs)("p",{className:s.Z.join_form_select_paragraph,style:{...m},children:[t," ",u&&(0,n.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",j("form_require_label")]})]}),(0,n.jsxs)("select",{className:s.Z.join_form_select,value:l,onChange:a,name:d,disabled:_,style:{...h},children:[(0,n.jsx)("option",{selected:!0,children:o}),x?null===c||void 0===c?void 0:c.map(((e,t)=>(0,n.jsx)("option",{value:e,children:e},t))):"academicSiteInfo"===g?null===c||void 0===c?void 0:c.map(((e,t)=>(0,n.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:"".concat((null===e||void 0===e?void 0:e.staffFirstName)||""," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat((null===e||void 0===e?void 0:e.staffLastName)||"")},t))):null===c||void 0===c?void 0:c.map(((e,t)=>(0,n.jsx)("option",{value:r?r[null===e||void 0===e?void 0:e.keys]:e,children:j(null===e||void 0===e?void 0:e.keys)},t)))]})]})}},55222:(e,t,l)=>{"use strict";l.d(t,{Z:()=>r});var i=l(72791),s=l(12072),n=l(77392),d=l(1874),a=l(51561),o=l(39230),c=l(80184);const r=e=>{let{onClose:t,confirm:l,setConfirm:r,onSubjectComplete:u,type:v}=e;const{t:m}=(0,o.$G)(),[h,_]=i.useState(!1),[x,g]=i.useState("");return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d.Z,{onClose:t}),(0,c.jsx)(s.Z,{children:(0,c.jsxs)("div",{className:n.Z.confirm_conatiner,children:[(0,c.jsxs)("div",{className:n.Z.confirm_title,children:[(0,c.jsxs)("h6",{className:n.Z.confirm_title_heading,children:[m("confirm_to_complete")," ",m(v?"Class":"subject")]}),(0,c.jsx)("img",{src:"/images/close-post-icon.svg",onClick:t,alt:"staff assign pop close icon",title:"Close"})]}),(0,c.jsx)("input",{id:"confirm",type:"text",onChange:e=>r(e.target.value),value:l,placeholder:"".concat(m("Please type 'Confirm' to complete")," ").concat(m(v?"Class":"subject")),className:n.Z.confirm_input}),(0,c.jsxs)("div",{className:n.Z.setting_complete,style:{marginTop:"4.2vw"},onClick:()=>{"Confirm"===l?u():(g("Please check again your spelling..."),_((e=>!e)))},children:[m("complete")," ",v?"Class":"Subject"]})]})}),(0,c.jsx)(a.SY,{run:h,msg:x,setRun:_})]})}},91871:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>hl});var i=l(72791),s=l(11464),n=l(16871);const d="ClassTeacher_departmenthead__cMdWm",a="MiddleContent_MiddleContent__2DP-Y",o="MiddleContent_MiddleContentLeft__lQSGe",c="MiddleContent_tabs__M3LsI",r="MiddleContent_item__cngH1",u="MiddleContent_itemIcon__jHUgS",v="MiddleContent_classList__CTQnz",m="MiddleContent_classListItem__JMvyM",h="Tabs_mcqToptabs__kCILw",_="Tabs_mcqTop__pEIhI",x="Tabs_mcqTopItem__Mzkea",g="Tabs_active__M3alp";var j=l(39230),p=l(80184);const f=function(e){let{activeIndex:t,setActiveIndex:l,isbatchVisivle:i}=e;const{t:s}=(0,j.$G)();return(0,p.jsx)("div",{className:_,children:(0,p.jsxs)("div",{className:h,children:[(0,p.jsx)("div",{className:0===t?"".concat(x," ").concat(g):x,onClick:()=>l(0),children:s("menu")}),i?(0,p.jsx)("div",{className:2===t?"".concat(x," ").concat(g):x,onClick:()=>l(2),children:s("hostel_tab_batch")}):null,(0,p.jsx)("div",{className:1===t?"".concat(x," ").concat(g):x,onClick:()=>l(1),children:s("subjects")})]})})};var S=l(69721),N=l(60726),b=l(41127),C=l(1669),R=l(87744);const y=function(e){var t,l,s,n,d,h,_,x,g,y,k,A,E;let{classProfile:T,carryParentState:I,cid:L,storeEnable:Z}=e;const{t:F}=(0,j.$G)(),[P,M]=(0,i.useState)(0),{classTabManage:D,classTabManageLoading:w}=(0,b.l)({data:{did:L,flow:"Cls_flow"},skip:!L});return(0,p.jsx)("div",{className:a,children:(0,p.jsxs)("div",{className:o,children:[(0,p.jsx)("div",{className:c,children:(0,p.jsx)(f,{activeIndex:P,setActiveIndex:M,isbatchVisivle:null===D||void 0===D||null===(t=D.tab_manage)||void 0===t?void 0:t.batch_standard})}),0===P&&(0,p.jsxs)("div",{className:r,children:[(null===D||void 0===D||null===(l=D.tab_manage)||void 0===l?void 0:l.catalog)&&(0,p.jsx)(N.Z,{carryParentState:I,activeTab:"catalog",children:(0,p.jsxs)("div",{className:u,children:[(0,p.jsx)("img",{src:"/images/member_tab/class/class-catalog-icon.svg",alt:"Class Catalog"}),(0,p.jsx)("p",{children:F("class_catalog")})]})}),(null===D||void 0===D||null===(s=D.tab_manage)||void 0===s?void 0:s.attendance)&&(0,p.jsx)(N.Z,{carryParentState:I,activeTab:"attendance",children:(0,p.jsxs)("div",{className:u,children:[(0,p.jsx)("img",{src:"/images/member_tab/class/class-attendance-icon.svg",alt:"attendence"}),(0,p.jsxs)("p",{children:[" ",F("attendance")," "]})]})}),(null===D||void 0===D||null===(n=D.tab_manage)||void 0===n?void 0:n.leave_and_transfer)&&(0,p.jsx)(N.Z,{carryParentState:I,activeTab:"leave",children:(0,p.jsxs)("div",{className:u,children:[(0,p.jsx)("img",{src:"/images/member_tab/class/class-leave-transfer-icon.svg",alt:"student Request"}),(0,p.jsx)("p",{children:F("leaves_and_transfer")})]})}),(null===D||void 0===D||null===(d=D.tab_manage)||void 0===d?void 0:d.fees)&&(0,p.jsx)(N.Z,{carryParentState:I,activeTab:"fees",children:(0,p.jsxs)("div",{className:u,children:[(0,p.jsx)("img",{src:"/images/member_tab/department/department-fees-icon.svg",alt:"fees"}),(0,p.jsx)("p",{children:F("class_fees")})]})}),(null===D||void 0===D||null===(h=D.tab_manage)||void 0===h?void 0:h.timetable)&&(0,p.jsx)(N.Z,{carryParentState:I,activeTab:"time-table",children:(0,p.jsxs)("div",{className:u,children:[(0,p.jsx)("img",{src:"/images/member_tab/class/class-timetable-icon.svg",alt:"settings"}),(0,p.jsx)("p",{children:F("time_table")})]})}),(null===D||void 0===D||null===(_=D.tab_manage)||void 0===_?void 0:_.checklist)&&(0,p.jsx)(N.Z,{carryParentState:I,activeTab:"checklist",children:(0,p.jsxs)("div",{className:u,children:[(0,p.jsx)("img",{src:"/images/member_tab/department/department-checklist-icon.svg",alt:"fees"}),(0,p.jsx)("p",{children:F("checklist")})]})}),(null===D||void 0===D||null===(x=D.tab_manage)||void 0===x?void 0:x.behaviour)&&(0,p.jsx)(N.Z,{carryParentState:I,activeTab:"behaviour",children:(0,p.jsxs)("div",{className:u,children:[(0,p.jsx)("img",{src:"/images/member_tab/class/class-behaviour-icon.svg",alt:"Behaviour"}),(0,p.jsx)("p",{children:F("behaviour")})]})}),(null===D||void 0===D||null===(g=D.tab_manage)||void 0===g?void 0:g.report_card)&&(0,p.jsx)(N.Z,{carryParentState:I,activeTab:"report",children:(0,p.jsxs)("div",{className:u,children:[(0,p.jsx)("img",{src:"/images/member_tab/class/class-report-icon.svg",alt:"final report"}),(0,p.jsx)("p",{children:F("final_report")})]})}),(null===D||void 0===D||null===(y=D.tab_manage)||void 0===y?void 0:y.promote_student)&&(0,p.jsx)(N.Z,{carryParentState:I,activeTab:"promote",children:(0,p.jsxs)("div",{className:u,children:[(0,p.jsx)("img",{src:"/images/member_tab/class/class-promote-icon.svg",alt:"settings"}),(0,p.jsx)("p",{children:F("promote_student")})]})}),(null===D||void 0===D||null===(k=D.tab_manage)||void 0===k?void 0:k.complaint)&&(0,p.jsx)(N.Z,{carryParentState:I,activeTab:"complaint",children:(0,p.jsxs)("div",{className:u,children:[(0,p.jsx)("img",{src:"/images/member_tab/department/department-complaint-icon.svg",alt:"settings"}),(0,p.jsx)("p",{children:F("complaints")})]})}),(null===D||void 0===D||null===(A=D.tab_manage)||void 0===A?void 0:A.setting)&&(0,p.jsx)(N.Z,{carryParentState:I,activeTab:"setting",children:(0,p.jsxs)("div",{className:u,children:[(0,p.jsx)("img",{src:"/images/member_tab/class/class-setting-icon.svg",alt:"settings"}),(0,p.jsx)("p",{children:F("setting")})]})})]}),1===P&&(0,p.jsx)("div",{className:v,children:null===T||void 0===T||null===(E=T.subject)||void 0===E?void 0:E.map((e=>{var t,l,i,s,n,d,a,o,c,r,u,v,h,_;return(0,p.jsx)(N.Z,{carryParentState:{...I,subjectId:null===e||void 0===e?void 0:e._id,subjectName:"".concat(null===e||void 0===e?void 0:e.subjectName," ").concat(null!==e&&void 0!==e&&e.subject_category?"(".concat(null===e||void 0===e?void 0:e.subject_category,")"):""," ").concat(null!==e&&void 0!==e&&null!==(t=e.selected_batch_query)&&void 0!==t&&t.batchName?"(".concat(null===e||void 0===e||null===(l=e.selected_batch_query)||void 0===l?void 0:l.batchName,")"):""," ").concat("Optional"===(null===e||void 0===e?void 0:e.subjectOptional)?"(".concat(null===e||void 0===e?void 0:e.subjectOptional,")"):""),batchId:null===e||void 0===e||null===(i=e.selected_batch_query)||void 0===i?void 0:i._id},activeTab:"subject-detail",children:(0,p.jsxs)("div",{className:m,children:[(0,p.jsx)("img",{src:null!==e&&void 0!==e&&null!==(s=e.subjectTeacherName)&&void 0!==s&&s.staffProfilePhoto?"".concat(S.yI,"/").concat(null===e||void 0===e||null===(n=e.subjectTeacherName)||void 0===n?void 0:n.staffProfilePhoto):"/images/subject-icon.svg",alt:"subject head avatar"}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("h6",{children:[" ",null!==(d=null===e||void 0===e?void 0:e.subjectName)&&void 0!==d?d:""," ",null!==e&&void 0!==e&&e.subject_category?"(".concat(null===e||void 0===e?void 0:e.subject_category,")"):"",null!==e&&void 0!==e&&null!==(a=e.selected_batch_query)&&void 0!==a&&a.batchName?(0,p.jsxs)("span",{style:{fontWeight:"400",fontSize:"12px"},children:[" ","(",null!==(o=null===e||void 0===e||null===(c=e.selected_batch_query)||void 0===c?void 0:c.batchName)&&void 0!==o?o:"",")"]}):null,"Optional"===(null===e||void 0===e?void 0:e.subjectOptional)&&"(".concat(null===e||void 0===e?void 0:e.subjectOptional,")")]}),(0,p.jsx)("p",{children:"".concat(null!==(r=null===e||void 0===e||null===(u=e.subjectTeacherName)||void 0===u?void 0:u.staffFirstName)&&void 0!==r?r:""," ").concat((null===e||void 0===e||null===(v=e.subjectTeacherName)||void 0===v?void 0:v.staffMiddleName)||""," ").concat(null!==(h=null===e||void 0===e||null===(_=e.subjectTeacherName)||void 0===_?void 0:_.staffLastName)&&void 0!==h?h:"")})]})]})},e._id)}))}),2===P&&(0,p.jsx)(R.Z,{cid:L,carryParentState:I,viewAs:"MENU_WISE"}),w&&(0,p.jsx)(C.Z,{})]})})};var k=l(21640),A=l(24582);const E=function(e){var t,l;let{classProfile:s,carryParentState:n,cid:d}=e;const{t:a}=(0,j.$G)(),[o]=(0,A.YP)(),[c,r]=(0,i.useState)(""),[u,v]=(0,i.useState)(""),[m,h]=(0,i.useState)(!1),[_,x]=(0,i.useState)(!1),[g,f]=(0,i.useState)("");return(0,i.useEffect)((()=>{if(_){let e=new FormData;e.append("file",u),o({cover:e,cid:null===s||void 0===s?void 0:s._id}).then((()=>{})).catch({})}}),[_,u]),(0,p.jsxs)("div",{children:[(0,p.jsx)(k.Z,{coverKey:null===s||void 0===s?void 0:s.cover,coverId:null===s||void 0===s?void 0:s.coverId,defaultCover:"/images/profileAndCover/classroom-cover.png",textLarge:null===s||void 0===s?void 0:s.classTitle,batchStatus:"true",textSmall:null===s||void 0===s||null===(t=s.batch)||void 0===t?void 0:t.batchName,count1:null===s||void 0===s?void 0:s.studentCount,count1label:a("students"),count2:null===s||void 0===s?void 0:s.subjectCount,count2label:a("subjects"),profilePhoto:g,profileChange:e=>{const t=URL.createObjectURL(e.target.files[0]);v(e.target.files[0]),f(t),r(t),h(!0)},openCrop:m,setOpenCrop:h,setPhotoURL:r,photoURL:c,setFile:v,setUpload:x,setProfilePhoto:f}),(0,p.jsx)(y,{classProfile:s,carryParentState:n,cid:d,storeEnable:null===s||void 0===s||null===(l=s.institute)||void 0===l?void 0:l.storeStatus})]})},T={promoteSetting:"ClassSetting_promoteSetting__xvfGl",promoteSettingLeft:"ClassSetting_promoteSettingLeft__aYK77",promoteSettingRight:"ClassSetting_promoteSettingRight__ZldIK",promoteSettingLeft2:"ClassSetting_promoteSettingLeft2__sFb5g",input:"ClassSetting_input__BRySd",down:"ClassSetting_down__LIHy9",options:"ClassSetting_options__Wid7t",option:"ClassSetting_option__YcMhc",completebtn:"ClassSetting_completebtn__Kc9AO",startDate1:"ClassSetting_startDate1__AcpOi",startDate:"ClassSetting_startDate__qezK5",row:"ClassSetting_row__d+uLt",selectStudentsHead:"ClassSetting_selectStudentsHead__tOJYk",save:"ClassSetting_save__e0xj9",item:"ClassSetting_item__E6cG-",radio:"ClassSetting_radio__I0OD5",itemContainer:"ClassSetting_itemContainer__Tu+R5",itemContainerActive:"ClassSetting_itemContainerActive__eZ4xD",addDisplay:"ClassSetting_addDisplay__zvyxS",title:"ClassSetting_title__MOXIz",inputText:"ClassSetting_inputText__HshWk",content:"ClassSetting_content__P44ff",btn:"ClassSetting_btn__rsEIE",refreshIcon:"ClassSetting_refreshIcon__C9-F6",label:"ClassSetting_label__gfrTU",inputBox:"ClassSetting_inputBox__yaiFs"};var I=l(98094),L=l(89891),Z=l(51561),F=l(55222),P=l(98734);const M={inputProps:{"aria-label":"Switch demo"}};const D=function(e){let{cid:t,startDate:l,classCode:s,classStatus:d}=e;const{t:a}=(0,j.$G)(),o=(0,n.s0)(),c=(0,n.UO)(),[r,u]=(0,i.useState)(s),[v,m]=(0,i.useState)({finalReport:!1,behaviour:!1,attendance:!1,gradeMarks:!1,aggregatePassingPercentage:0}),[h,_]=(0,i.useState)(!1),[x,g]=(0,i.useState)(!1),[f,S]=(0,i.useState)(""),[N,b]=(0,i.useState)({msg:"",run:!1,type:"error"}),[C]=(0,A.W9)(),[R]=(0,A.ze)(),[y]=(0,A.Ag)(),{classAllSubjectComplete:k,classAllSubjectCompleteRefetch:E}=(0,A.RS)({data:{cid:t},skip:!t}),{classSettingReport:D,classSettingReportRefetch:w}=(0,A.GL)({cid:t,skip:!t});(0,i.useEffect)((()=>{t&&(E(),w())}),[t,E,w]),(0,i.useEffect)((()=>{var e,t,l,i,s;null!==D&&void 0!==D&&D.finalReportsSettings&&m({finalReport:null===D||void 0===D||null===(e=D.finalReportsSettings)||void 0===e?void 0:e.finalReport,behaviour:null===D||void 0===D||null===(t=D.finalReportsSettings)||void 0===t?void 0:t.behaviour,attendance:null===D||void 0===D||null===(l=D.finalReportsSettings)||void 0===l?void 0:l.attendance,gradeMarks:null===D||void 0===D||null===(i=D.finalReportsSettings)||void 0===i?void 0:i.gradeMarks,aggregatePassingPercentage:null===D||void 0===D||null===(s=D.finalReportsSettings)||void 0===s?void 0:s.aggregatePassingPercentage})}),[null===D||void 0===D?void 0:D.finalReportsSettings]),(0,i.useEffect)((()=>{s&&u(s)}),[s]);const O=e=>{m((t=>({...t,[e.type]:e.value}))),R({setting:{[e.type]:e.value},cid:t}).then((()=>{})).catch({})};return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:T.ClassSetting,children:[(0,p.jsx)("h6",{children:a("setting")}),(0,p.jsx)(I.Z,{customStyle:{width:"100%"}}),(0,p.jsxs)("div",{className:T.promoteSetting,children:[(0,p.jsxs)("div",{className:T.promoteSettingLeft,children:[(0,p.jsxs)("div",{className:T.startDate,children:[(0,p.jsx)("div",{className:T.refreshIcon,children:(0,p.jsx)("span",{className:"text-white",children:(0,p.jsx)("img",{src:"/images/refresh-icon.svg",title:"Refresh",alt:"Refresh",onClick:()=>{C({cid:t}).then((e=>{var t;u(null===(t=e.data)||void 0===t?void 0:t.classCode)})).catch({})}})})}),(0,p.jsx)("p",{children:a("class_code")}),(0,p.jsx)("h6",{children:r})]}),(0,p.jsx)("div",{className:T.label,children:(0,p.jsx)("label",{htmlFor:"aggregate",children:a("pass_percentage")})}),(0,p.jsx)("div",{className:T.inputBox,children:(0,p.jsx)("input",{id:"aggregate",type:"tel",onChange:e=>O({type:"aggregatePassingPercentage",value:e.target.value}),value:v.aggregatePassingPercentage,placeholder:0})}),(0,p.jsx)("div",{className:T.completebtn,onClick:()=>{"UnCompleted"!==(null===k||void 0===k?void 0:k.classStatus)||"UnCompleted"!==d?b({msg:a("already_class_completed"),run:!0,type:"success"}):_(!0)},children:a("complete_class")})]}),(0,p.jsxs)("div",{className:T.promoteSettingRight,children:[(0,p.jsxs)("div",{className:T.row,children:[(0,p.jsx)("div",{children:(0,p.jsx)("h6",{children:a("final")})}),(0,p.jsx)(L.Z,{...M,onChange:e=>{var l;(l={type:"finalReport",value:e.target.checked}).value?(m((e=>({...e,[l.type]:l.value,behaviour:!0,attendance:!0}))),R({setting:{[l.type]:l.value,behaviour:!0,attendance:!0},cid:t}).then((()=>{})).catch({})):(m((e=>({...e,[l.type]:l.value,behaviour:!1,attendance:!1}))),R({setting:{[l.type]:l.value,behaviour:!1,attendance:!1},cid:t}).then((()=>{})).catch({}))},checked:v.finalReport})]}),(0,p.jsxs)("div",{className:T.row,children:[(0,p.jsx)("div",{children:(0,p.jsx)("h6",{children:a("grade_make_report")})}),(0,p.jsx)(L.Z,{...M,onChange:e=>O({type:"gradeMarks",value:e.target.checked}),checked:v.gradeMarks})]}),(0,p.jsxs)("div",{className:T.row,children:[(0,p.jsx)("div",{children:(0,p.jsx)("h6",{children:a("attendance")})}),(0,p.jsx)(L.Z,{...M,onChange:e=>O({type:"attendance",value:e.target.checked}),checked:v.attendance})]}),(0,p.jsxs)("div",{className:T.row,children:[(0,p.jsx)("div",{children:(0,p.jsx)("h6",{children:a("behaviour")})}),(0,p.jsx)(L.Z,{...M,onChange:e=>O({type:"behaviour",value:e.target.checked}),checked:v.behaviour})]})]})]}),h&&(0,p.jsx)(F.Z,{onClose:()=>_((e=>!e)),confirm:f,setConfirm:S,onSubjectComplete:()=>{_((e=>!e)),g((e=>!e)),y({cid:t,status:{classStatus:"Completed"}}).then((e=>{"Can not completed class due to all subject is not completed"===e.data.message?b({msg:e.data.message,run:!0,type:"error"}):o("/q/".concat(c.username,"/feed")),g((e=>!e))})).catch({})},type:"classConfirm"}),(0,p.jsx)(Z.Ch,{msg:N.msg,run:N.run,setRun:()=>b({msg:"",run:!1}),postiton:"bottom",type:N.type}),x&&(0,p.jsx)(P.Z,{})]})})},w="ClassCatalog_exminationsContainer__ChbYZ";var O=l(34586),q=l(43504),G=l(44820),B=l(36665),W=l(23441),U=l(33992),Y=l(763),H=l(11105);const K=e=>{let{instituteId:t,onClose:l,onRefetch:s,cid:n}=e;const{t:d}=(0,j.$G)(),[a,o]=(0,i.useState)(""),[c,r]=(0,i.useState)(!1),[u,v]=(0,i.useState)([]),[m,h]=(0,i.useState)(""),[_,x]=(0,W.YD)(),[g,f]=(0,i.useState)(1),[N,b]=(0,i.useState)(!0),[C,R]=(0,i.useState)(!0),[y]=(0,A.GG)(),{getUnapprovedStudentByInstitute:k,getUnapprovedStudentByInstituteRefetch:E}=(0,U.KW)({data:{id:t,page:g,limit:10,search:m},skip:!t});(0,i.useEffect)((()=>{t&&(R(!0),E())}),[t,g,m,E]),(0,i.useEffect)((()=>{x&&N&&f((e=>e+1))}),[x,N]),(0,i.useEffect)((()=>{var e,t;m?(v(null===k||void 0===k?void 0:k.studentIns),R(!1)):null!==k&&void 0!==k&&k.studentIns?(v((e=>{var t,l;return null===(t=[...new Set(null===(l=[...e,...null===k||void 0===k?void 0:k.studentIns])||void 0===l?void 0:l.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),R(!1)):0===(null===k||void 0===k||null===(t=k.studentIns)||void 0===t?void 0:t.length)&&R(!1);10===(null===k||void 0===k||null===(e=k.studentIns)||void 0===e?void 0:e.length)?b(!0):b(!1)}),[null===k||void 0===k?void 0:k.studentIns]);const T=(0,i.useCallback)((0,Y.debounce)((e=>h(e)),500),[]),L=e=>{null!==a&&void 0!==a&&a.includes(e)?o((t=>null===t||void 0===t?void 0:t.filter((t=>t!==e)))):o((t=>[...t,e]))};return(0,p.jsx)(B.Z,{onClose:l,children:(0,p.jsxs)("div",{className:G.Z.assign_role_container,children:[(0,p.jsxs)("section",{className:G.Z.assign_role_title,style:{justifyContent:"space-between"},children:[(0,p.jsx)("h6",{children:d("select_unapproved_student")}),(0,p.jsxs)("div",{className:G.Z.button_container,children:[(0,p.jsx)("button",{className:G.Z.next_btn,style:{right:"10%"},onClick:()=>{n&&null!==a&&void 0!==a&&a.length&&(r((e=>!e)),y({cid:n,studentAdd:{unapprove:a}}).then((()=>{s(),l(),r((e=>!e))})).catch({}))},children:d("add")}),(0,p.jsx)("img",{src:"/images/close-post-icon.svg",onClick:l,alt:""})]})]}),(0,p.jsx)(I.Z,{customStyle:{width:"100%"}}),(0,p.jsxs)("section",{style:{padding:"0 0.8rem"},children:[(0,p.jsx)("div",{className:G.Z.search_container,style:{marginBottom:"0.6rem"},children:(0,p.jsxs)("div",{className:G.Z.search_container_text,children:[(0,p.jsx)("img",{className:G.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,p.jsx)("input",{type:"text",placeholder:d("search-label"),onChange:e=>{T(e.target.value)},autoFocus:!0,style:{border:"0.029vw solid rgba(0, 0, 0, 0.15)",width:"450px"}})]})}),null===u||void 0===u?void 0:u.map(((e,t)=>{var l,i;return(null===u||void 0===u?void 0:u.length)===t+1?(0,p.jsxs)("section",{className:null!==a&&void 0!==a&&a.includes(null===e||void 0===e?void 0:e._id)?"".concat(G.Z.student_container," ").concat(G.Z.select_hover_active):"".concat(G.Z.student_container," ").concat(G.Z.select_hover),ref:_,onClick:()=>L(null===e||void 0===e?void 0:e._id),style:{padding:"0.6rem 0",margin:"0"},children:[(0,p.jsx)("img",{src:null!==e&&void 0!==e&&e.studentProfilePhoto?"".concat(S.yI,"/").concat(null===e||void 0===e?void 0:e.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"student avatar"}),(0,p.jsxs)("div",{className:G.Z.student_container_name,children:[(0,p.jsx)("h6",{children:"".concat(null===e||void 0===e?void 0:e.studentFirstName," ").concat(null!==e&&void 0!==e&&e.studentMiddleName?null===e||void 0===e?void 0:e.studentMiddleName:""," ").concat(null===e||void 0===e?void 0:e.studentLastName)}),(0,p.jsxs)("p",{className:G.Z.student_container_gr,children:[d("gr_number")," ",null!==(l=null===e||void 0===e?void 0:e.studentGRNO)&&void 0!==l?l:""]})]})]},null===e||void 0===e?void 0:e._id):(0,p.jsxs)("section",{className:null!==a&&void 0!==a&&a.includes(null===e||void 0===e?void 0:e._id)?"".concat(G.Z.student_container," ").concat(G.Z.select_hover_active):"".concat(G.Z.student_container," ").concat(G.Z.select_hover),onClick:()=>L(null===e||void 0===e?void 0:e._id),style:{padding:"0.6rem 0",margin:"0"},children:[(0,p.jsx)("img",{src:null!==e&&void 0!==e&&e.studentProfilePhoto?"".concat(S.yI,"/").concat(null===e||void 0===e?void 0:e.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"student avatar"}),(0,p.jsxs)("div",{className:G.Z.student_container_name,children:[(0,p.jsx)("h6",{children:"".concat(null===e||void 0===e?void 0:e.studentFirstName," ").concat(null!==e&&void 0!==e&&e.studentMiddleName?null===e||void 0===e?void 0:e.studentMiddleName:""," ").concat(null===e||void 0===e?void 0:e.studentLastName)}),(0,p.jsxs)("p",{className:G.Z.student_container_gr,children:[d("gr_number")," ",null!==(i=null===e||void 0===e?void 0:e.studentGRNO)&&void 0!==i?i:""]})]})]},null===e||void 0===e?void 0:e._id)})),C&&(0,p.jsx)(H.Z,{}),c&&(0,p.jsx)(P.Z,{})]})]})})};var Q=l(47167);const z=e=>{let{onClose:t,onRefetch:l,students:s,cid:n}=e;const{t:d}=(0,j.$G)(),[a,o]=(0,i.useState)(""),[c,r]=(0,i.useState)(!1),[u,v]=(0,i.useState)([]),[m]=(0,A.Aq)();(0,i.useEffect)((()=>{null!==s&&void 0!==s&&s.length&&v(s)}),[s]);return(0,p.jsx)(B.Z,{onClose:t,children:(0,p.jsxs)("div",{className:G.Z.assign_role_container,children:[(0,p.jsxs)("section",{className:G.Z.assign_role_title,style:{justifyContent:"space-between"},children:[(0,p.jsx)("h6",{children:d("select_remove_student")}),(0,p.jsxs)("div",{className:G.Z.button_container,children:[(0,p.jsx)("button",{className:G.Z.next_btn,style:{right:"10%"},onClick:()=>{n&&null!==a&&void 0!==a&&a.length&&(r((e=>!e)),m({cid:n,studentList:{unapprove:a}}).then((()=>{l(),t(),r((e=>!e))})).catch({}))},children:d("remove")}),(0,p.jsx)("img",{src:"/images/close-post-icon.svg",onClick:t,alt:"icon"})]})]}),(0,p.jsx)(I.Z,{customStyle:{width:"100%"}}),(0,p.jsxs)("section",{style:{padding:"0 0.8rem"},children:[(0,p.jsx)("div",{className:G.Z.search_container,style:{marginBottom:"0.6rem"},children:(0,p.jsxs)("div",{className:G.Z.search_container_text,children:[(0,p.jsx)("img",{className:G.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,p.jsx)("input",{type:"text",placeholder:d("search-label"),onChange:e=>{if(e.target.value){const t=null===s||void 0===s?void 0:s.filter((t=>{var l,i,s;return null!==(l="".concat(null===t||void 0===t?void 0:t.studentFirstName," ").concat(null!==t&&void 0!==t&&t.studentMiddleName?(null===t||void 0===t?void 0:t.studentMiddleName)+" ":"").concat(null===t||void 0===t?void 0:t.studentLastName))&&void 0!==l&&null!==(i=l.toLowerCase())&&void 0!==i&&i.includes(null===(s=e.target.value)||void 0===s?void 0:s.toLowerCase())?t:null}));v(t)}else v(s)},autoFocus:!0,style:{border:"0.029vw solid rgba(0, 0, 0, 0.15)",width:"450px"}})]})}),null===u||void 0===u?void 0:u.map((e=>{var t;return(0,p.jsxs)("section",{className:null!==a&&void 0!==a&&a.includes(null===e||void 0===e?void 0:e._id)?"".concat(G.Z.student_container," ").concat(G.Z.select_hover_active):"".concat(G.Z.student_container," ").concat(G.Z.select_hover),onClick:()=>{return t=null===e||void 0===e?void 0:e._id,void(null!==a&&void 0!==a&&a.includes(t)?o((e=>null===e||void 0===e?void 0:e.filter((e=>e!==t)))):o((e=>[...e,t])));var t},style:{padding:"0.6rem 0",margin:"0"},children:[(0,p.jsx)("img",{src:null!==e&&void 0!==e&&e.studentProfilePhoto?"".concat(S.yI,"/").concat(null===e||void 0===e?void 0:e.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"student avatar"}),(0,p.jsxs)("div",{className:G.Z.student_container_name,children:[(0,p.jsx)("h6",{children:"".concat(null===e||void 0===e?void 0:e.studentFirstName," ").concat(null!==e&&void 0!==e&&e.studentMiddleName?null===e||void 0===e?void 0:e.studentMiddleName:""," ").concat(null===e||void 0===e?void 0:e.studentLastName)}),(0,p.jsxs)("p",{className:G.Z.student_container_gr,children:[d("gr_number")," ",null!==(t=null===e||void 0===e?void 0:e.studentGRNO)&&void 0!==t?t:""]})]})]},null===e||void 0===e?void 0:e._id)})),c&&(0,p.jsx)(P.Z,{})]})]})})};const V=function(e){var t,l;let{cid:s,instituteId:d,carryParentState:a}=e;const o=(0,n.UO)(),c=(0,n.TH)(),{t:r}=(0,j.$G)(),[u,v]=(0,i.useState)(!1),[m,h]=(0,i.useState)(""),[_,x]=(0,i.useState)(""),[g,f]=(0,i.useState)(!1),[N,b]=(0,i.useState)(!1),[C,R]=(0,i.useState)([]),[y,k]=(0,i.useState)(!1),[E,T]=(0,i.useState)(!1),[L]=(0,A.UU)(),Z=[{name:r("catalog"),id:0,url:"member/class/".concat(o.cname,"?a=catalog")},{name:r("unapproved_student"),id:1,url:"member/class/".concat(o.cname,"?a=catalog&unapproved")}],{classAllStudent:F,classAllStudentRefetch:M}=(0,A.EY)({data:{cid:s,page:1,limit:30},skip:!s}),{classAllStudentFilter:D,classAllStudentFilterRefetch:w}=(0,A.sk)({data:{cid:s,page:1,limit:30,sort_query:m},skip:!g||!s});(0,i.useEffect)((()=>{s&&M()}),[s,M]),(0,i.useEffect)((()=>{g&&w()}),[s,m,w]),(0,i.useEffect)((()=>{null!==D&&void 0!==D&&D.students&&(R(null===D||void 0===D?void 0:D.students),v(!1))}),[null===D||void 0===D?void 0:D.students]),(0,i.useEffect)((()=>{var e;g||R(null===F||void 0===F||null===(e=F.classes)||void 0===e?void 0:e.ApproveStudent)}),[null===F||void 0===F||null===(t=F.classes)||void 0===t?void 0:t.ApproveStudent]);const G=e=>{v(!0),_?(x("Gender_Alpha"),h("Gender_Alpha"),f(!0)):(x(e),h(e),f(!0))},B=(0,i.useRef)(),W=(0,i.useRef)(),U=e=>{e.stopPropagation();const t=[...C],l=t[B.current];t.splice(B.current,1),t.splice(W.current,0,l),B.current=null,W.current=null,R(t)};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:O.Z.catalog,children:[(0,p.jsx)(Q.Z,{tabList:Z,activeIndexTab:"catalog"===(null===(l=c.search)||void 0===l?void 0:l.substring(3))?0:1,showAs:!0,customStyleLink:{width:"50%"},carryParentState:a}),(0,p.jsx)(I.Z,{customStyle:{width:"100%",marginBottom:"0.5rem"}}),(0,p.jsxs)("div",{className:O.Z.searchContainerr,children:[(0,p.jsxs)("div",{className:O.Z.searchContainer,style:{width:"35%"},children:[(0,p.jsx)("img",{alt:"",src:"/images/search-dept-icon.svg"}),(0,p.jsx)("input",{type:"text",placeholder:r("search-label"),onChange:e=>{if(g)if(e.target.value){var t;const l=null===D||void 0===D||null===(t=D.students)||void 0===t?void 0:t.filter((t=>{var l,i,s;return null!==(l="".concat(null===t||void 0===t?void 0:t.studentFirstName," ").concat(null!==t&&void 0!==t&&t.studentMiddleName?(null===t||void 0===t?void 0:t.studentMiddleName)+" ":"").concat(null===t||void 0===t?void 0:t.studentLastName))&&void 0!==l&&null!==(i=l.toLowerCase())&&void 0!==i&&i.includes(null===(s=e.target.value)||void 0===s?void 0:s.toLowerCase())?t:null}));R(l)}else R(null===D||void 0===D?void 0:D.students);else if(e.target.value){var l,i;const t=null===F||void 0===F||null===(l=F.classes)||void 0===l||null===(i=l.ApproveStudent)||void 0===i?void 0:i.filter((t=>{var l,i,s;return null!==(l="".concat(null===t||void 0===t?void 0:t.studentFirstName," ").concat(null!==t&&void 0!==t&&t.studentMiddleName?(null===t||void 0===t?void 0:t.studentMiddleName)+" ":"").concat(null===t||void 0===t?void 0:t.studentLastName))&&void 0!==l&&null!==(i=l.toLowerCase())&&void 0!==i&&i.includes(null===(s=e.target.value)||void 0===s?void 0:s.toLowerCase())?t:null}));R(t)}else{var s;R(null===F||void 0===F||null===(s=F.classes)||void 0===s?void 0:s.ApproveStudent)}}})]}),(0,p.jsxs)("div",{className:O.Z.class_catalog_funtcion,children:[(0,p.jsx)("div",{className:O.Z.sort_conatiner,onClick:()=>b(!0),children:(0,p.jsx)("span",{children:r("add_unapproved_students")})}),y?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:O.Z.class_catalog_funtcion,children:[(0,p.jsx)("div",{className:"Gender"===_||"Gender_Alpha"===_?"".concat(O.Z.sort_conatiner," ").concat(O.Z.sort_conatiner_active):O.Z.sort_conatiner,onClick:()=>G("Gender"),children:(0,p.jsx)("img",{src:"/images/members/gender-icon.svg",alt:"gender icon"})}),(0,p.jsx)("div",{className:"Alpha"===_||"Gender_Alpha"===_?"".concat(O.Z.sort_conatiner," ").concat(O.Z.sort_conatiner_active):O.Z.sort_conatiner,onClick:()=>G("Alpha"),children:(0,p.jsx)("img",{src:"/images/members/alphabet-icon.svg",alt:"alphabet sorting icon"})})]}),(0,p.jsx)("div",{className:"".concat(O.Z.sort_conatiner," ").concat(O.Z.sort_conatiner_active),onClick:()=>{v((e=>!e));let e=[];for(let t of C)e.push(null===t||void 0===t?void 0:t._id);L({suffle:{shuffle_arr:e,cid:s,flow:"CLASS_WISE"}}).then((()=>{M(),w(),v((e=>!e)),k(!1)})).catch({})},children:(0,p.jsx)("span",{children:r("save")})})]}):(0,p.jsx)("div",{className:O.Z.sort_conatiner,onClick:()=>k(!0),children:(0,p.jsx)("span",{children:r("resuffle")})}),(0,p.jsx)("div",{className:O.Z.sort_conatiner,onClick:()=>T(!0),children:(0,p.jsx)("span",{children:r("remove")})})]})]}),(0,p.jsx)("div",{className:O.Z.itemsContainer,children:null===C||void 0===C?void 0:C.map(((e,t)=>{var l,i,s,n;return(0,p.jsx)(q.rU,{to:"/q/".concat(o.username,"/student/profile"),state:{sid:null===e||void 0===e?void 0:e._id,viewAs:"CLASS_CATALOG"},children:(0,p.jsxs)("div",{className:O.Z.item,draggable:y,onDragStart:e=>((e,t)=>{e.stopPropagation(),B.current=t})(e,t),onDragEnter:e=>((e,t)=>{e.stopPropagation(),W.current=t})(e,t),onDragEnd:U,children:[(0,p.jsx)("p",{children:null===e||void 0===e?void 0:e.studentROLLNO}),(0,p.jsx)("img",{alt:"",src:null!==e&&void 0!==e&&e.studentProfilePhoto?"".concat(S.yI,"/").concat(null===e||void 0===e?void 0:e.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,p.jsxs)("div",{className:O.Z.student_catalog_name,children:[(0,p.jsxs)("h5",{children:[null!==(l=null===e||void 0===e?void 0:e.studentFirstName)&&void 0!==l?l:""," ",null!==(i=null===e||void 0===e?void 0:e.studentMiddleName)&&void 0!==i?i:" "," ",null!==(s=null===e||void 0===e?void 0:e.studentLastName)&&void 0!==s?s:""]}),(0,p.jsxs)("h6",{children:[r("gr_number")," ",(0,p.jsx)("span",{style:{fontWeight:"500"},children:null!==(n=null===e||void 0===e?void 0:e.studentGRNO)&&void 0!==n?n:""}),null!==e&&void 0!==e&&e.student_prn_enroll_number?(0,p.jsx)("span",{style:{fontWeight:"500"},children:", ".concat(r("enrollment_number_only"),": ").concat(null===e||void 0===e?void 0:e.student_prn_enroll_number)}):null]})]})]})})}))})]}),N&&(0,p.jsx)(K,{cid:s,onClose:()=>b(!1),instituteId:d,onRefetch:M}),E&&(0,p.jsx)(z,{onClose:()=>T(!1),students:C,onRefetch:()=>{g?w():M()},cid:s}),u&&(0,p.jsx)(P.Z,{})]})},X=e=>{var t;let{cid:l,carryParentState:s}=e;const d=(0,n.UO)(),a=(0,n.TH)(),{t:o}=(0,j.$G)(),[c,r]=(0,i.useState)([]),u=[{name:o("catalog"),id:0,url:"member/class/".concat(d.cname,"?a=catalog")},{name:o("unapproved_student"),id:1,url:"member/class/".concat(d.cname,"?a=catalog&unapproved")}],{classAllUnApprovedStudent:v,classAllUnApprovedStudentRefetch:m}=(0,A.Wx)({data:{cid:l,page:1,limit:30},skip:!l});(0,i.useEffect)((()=>{l&&m()}),[l,m]),(0,i.useEffect)((()=>{null!==v&&void 0!==v&&v.classes&&r(null===v||void 0===v?void 0:v.classes)}),[null===v||void 0===v?void 0:v.classes]);return(0,p.jsxs)("div",{className:O.Z.catalog,children:[(0,p.jsx)(Q.Z,{tabList:u,activeIndexTab:"catalog"===(null===(t=a.search)||void 0===t?void 0:t.substring(3))?0:1,showAs:!0,customStyleLink:{width:"50%"},carryParentState:s}),(0,p.jsx)(I.Z,{customStyle:{width:"100%",marginBottom:"0.5rem"}}),(0,p.jsx)("div",{className:O.Z.searchContainerr,children:(0,p.jsxs)("div",{className:O.Z.searchContainer,children:[(0,p.jsx)("img",{alt:"",src:"/images/search-dept-icon.svg"}),(0,p.jsx)("input",{type:"text",placeholder:o("search-label"),onChange:e=>{if(e.target.value){var t;const l=null===v||void 0===v||null===(t=v.classes)||void 0===t?void 0:t.filter((t=>{var l,i,s;return null!==(l="".concat(null===t||void 0===t?void 0:t.studentFirstName," ").concat(null!==t&&void 0!==t&&t.studentMiddleName?(null===t||void 0===t?void 0:t.studentMiddleName)+" ":"").concat(null===t||void 0===t?void 0:t.studentLastName))&&void 0!==l&&null!==(i=l.toLowerCase())&&void 0!==i&&i.includes(null===(s=e.target.value)||void 0===s?void 0:s.toLowerCase())?t:null}));r(l)}else r(null===v||void 0===v?void 0:v.classes)}})]})}),(0,p.jsx)("div",{className:O.Z.itemsContainer,children:null===c||void 0===c?void 0:c.map((e=>{var t,l,i,s;return(0,p.jsx)(q.rU,{to:"/q/".concat(d.username,"/student/profile"),state:{sid:null===e||void 0===e?void 0:e._id,viewAs:"CLASS_CATALOG"},children:(0,p.jsxs)("div",{className:O.Z.item,children:[(0,p.jsx)("p",{children:null===e||void 0===e?void 0:e.studentROLLNO}),(0,p.jsx)("img",{alt:"",src:null!==e&&void 0!==e&&e.studentProfilePhoto?"".concat(S.yI,"/").concat(null===e||void 0===e?void 0:e.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,p.jsxs)("div",{className:O.Z.student_catalog_name,children:[(0,p.jsxs)("h5",{children:[null!==(t=null===e||void 0===e?void 0:e.studentFirstName)&&void 0!==t?t:""," ",null!==(l=null===e||void 0===e?void 0:e.studentMiddleName)&&void 0!==l?l:" "," ",null!==(i=null===e||void 0===e?void 0:e.studentLastName)&&void 0!==i?i:""]}),(0,p.jsxs)("h6",{children:[o("gr_number")," ",(0,p.jsx)("span",{style:{fontWeight:"500"},children:null!==(s=null===e||void 0===e?void 0:e.studentGRNO)&&void 0!==s?s:""})]})]})]})})}))})]})};const $=function(e){var t;let{cid:l,instituteId:i,carryParentState:s}=e;const d=(0,n.TH)();return(0,p.jsx)("div",{className:w,children:"catalog"===(null===(t=d.search)||void 0===t?void 0:t.substring(3))?(0,p.jsx)(V,{cid:l,instituteId:i,carryParentState:s}):(0,p.jsx)(X,{cid:l,instituteId:i,carryParentState:s})})},J={sRequest:"StudentRequest_sRequest__pkbjv",backflex:"StudentRequest_backflex__4nVQ3",backh:"StudentRequest_backh__pUekK",requestParent:"StudentRequest_requestParent__TqrPA",requestAction:"StudentRequest_requestAction__lvzHz",requestStudent:"StudentRequest_requestStudent__-Qx6l",requestStudentActive:"StudentRequest_requestStudentActive__QdPZP",requestStudentChild:"StudentRequest_requestStudentChild__D9cTg",requestBtn:"StudentRequest_requestBtn__GjBOW",applyDate:"StudentRequest_applyDate__8MizR",applyNameDate:"StudentRequest_applyNameDate__4WUWc",applyName:"StudentRequest_applyName__+awuS",deactiveRequest:"StudentRequest_deactiveRequest__9XrVr",activeRequest:"StudentRequest_activeRequest__fE8I2"},ee="StudentProfile_studentForm__iCvCf",te="StudentProfile_formContainer__CzlF0",le="StudentProfile_viewRow__mxbki",ie="StudentProfile_heading__CsvU7",se="StudentProfile_imgcontainer__VY2IN",ne="StudentProfile_tabContentParent__L76c3",de="StudentProfile_requestBtn__Pz5FO";const ae=function(e){var t,l,s,n,d,a,o,c,r,u,v,m,h,_,x,g,f,N,b,C,R,y;let{id:k,did:E,bid:T,sid:I,cid:L,onRefetch:Z,setRequestProfile:F}=e;const[M,D]=(0,i.useState)(!1),{studentProfile:w,studentProfileRefetch:O}=(0,A.Ee)(I),{t:q}=(0,j.$G)(),[G]=(0,A.s)(),[B]=(0,A.ml)();return(0,i.useEffect)((()=>{I&&O()}),[I,O]),(0,p.jsxs)("div",{className:ee,children:[(0,p.jsx)("h6",{className:ie,children:q("student_details")}),(0,p.jsx)("div",{className:se,children:(0,p.jsx)("img",{alt:"not found",src:null!==w&&void 0!==w&&null!==(t=w.student)&&void 0!==t&&t.studentProfilePhoto?"".concat(S.yI,"/").concat(null===w||void 0===w||null===(l=w.student)||void 0===l?void 0:l.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"})}),(0,p.jsxs)("div",{className:te,children:[(0,p.jsx)("div",{className:le,children:(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{children:q("name")}),(0,p.jsxs)("h6",{children:[null===w||void 0===w||null===(s=w.student)||void 0===s?void 0:s.studentFirstName," ",null!==w&&void 0!==w&&null!==(n=w.student)&&void 0!==n&&n.studentMiddleName?null===w||void 0===w||null===(d=w.student)||void 0===d?void 0:d.studentMiddleName:" "," ",null===w||void 0===w||null===(a=w.student)||void 0===a?void 0:a.studentLastName]})]})}),(0,p.jsxs)("div",{className:le,children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{children:q("gender")}),(0,p.jsx)("h6",{children:null===w||void 0===w||null===(o=w.student)||void 0===o?void 0:o.studentGender})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{children:q("dob")}),(0,p.jsx)("h6",{children:null===w||void 0===w||null===(c=w.student)||void 0===c?void 0:c.studentDOB})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{children:q("mother_name")}),(0,p.jsx)("h6",{children:null===w||void 0===w||null===(r=w.student)||void 0===r?void 0:r.studentMotherName})]})]}),(0,p.jsxs)("div",{className:le,children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{children:q("nationality")}),(0,p.jsx)("h6",{children:null===w||void 0===w||null===(u=w.student)||void 0===u?void 0:u.studentNationality})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{children:q("mother_tongue")}),(0,p.jsx)("h6",{children:null===w||void 0===w||null===(v=w.student)||void 0===v?void 0:v.studentMTongue})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{}),(0,p.jsx)("h6",{children:null===w||void 0===w||null===(m=w.student)||void 0===m?void 0:m.studentCast})]})]}),(0,p.jsxs)("div",{className:le,children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{children:q("cast_category")}),(0,p.jsx)("h6",{children:null===w||void 0===w||null===(h=w.student)||void 0===h?void 0:h.studentCastCategory})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{children:q("religion")}),(0,p.jsx)("h6",{children:null===w||void 0===w||null===(_=w.student)||void 0===_?void 0:_.studentReligion})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{children:q("birth_place")}),(0,p.jsx)("h6",{children:null===w||void 0===w||null===(x=w.student)||void 0===x?void 0:x.studentBirthPlace})]})]}),(0,p.jsxs)("div",{className:le,children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{children:q("state")}),(0,p.jsx)("h6",{children:null===w||void 0===w||null===(g=w.student)||void 0===g?void 0:g.studentState})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{children:[q("district")," "]}),(0,p.jsx)("h6",{children:null===w||void 0===w||null===(f=w.student)||void 0===f?void 0:f.studentDistrict})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{children:[q("parent_mobile")," "]}),(0,p.jsx)("h6",{children:null===w||void 0===w||null===(N=w.student)||void 0===N?void 0:N.studentParentsPhoneNumber})]})]}),(0,p.jsxs)("div",{className:le,children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{children:q("current_adress")}),(0,p.jsx)("h6",{children:null===w||void 0===w||null===(b=w.student)||void 0===b?void 0:b.studentAddress})]}),(0,p.jsx)("div",{className:le}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{children:q("parent_name")}),(0,p.jsx)("h6",{children:null===w||void 0===w||null===(C=w.student)||void 0===C?void 0:C.studentParentsName})]})]}),(0,p.jsxs)("div",{className:le,children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{children:[" ",q("personal_mobile_number")]}),(0,p.jsx)("h6",{children:null===w||void 0===w||null===(R=w.student)||void 0===R?void 0:R.studentPhoneNumber})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{children:[" ",q("adhar_number")," "]}),(0,p.jsx)("h6",{children:null===w||void 0===w||null===(y=w.student)||void 0===y?void 0:y.studentAadharNumber})]})]}),(0,p.jsxs)("div",{className:ne,children:[(0,p.jsx)("div",{className:de,onClick:()=>{var e,t;(t=null===w||void 0===w||null===(e=w.student)||void 0===e?void 0:e._id)&&(D((e=>!e)),G({id:k,cid:L,sid:t,did:E,bid:T,approve:{status:"Approved"}}).then((e=>{Z(),F(!1),D((e=>!e))})).catch({}))},style:{marginRight:"1.464vw"},children:q("accept")}),(0,p.jsx)("div",{className:de,onClick:()=>{var e,t;(t=null===w||void 0===w||null===(e=w.student)||void 0===e?void 0:e._id)&&(D((e=>!e)),B({id:k,cid:L,sid:t,reject:{status:"Rejected"}}).then((e=>{Z(),F(!1),D((e=>!e))})).catch({}))},style:{backgroundColor:"rgba(75, 26, 133, 0.1)",color:"rgba(18, 18, 18, 0.8)"},children:q("reject")})]})]}),M&&(0,p.jsx)(P.Z,{})]})};const oe=function(e){var t,l,s,n;let{cid:d,id:a,did:o,bid:c}=e;const{t:r}=(0,j.$G)(),[u,v]=(0,i.useState)(!1),[m,h]=(0,i.useState)(""),{classAllRequestStudent:_,classAllRequestStudentRefetch:x}=(0,A.vv)({cid:d,page:1,limit:30});return(0,i.useEffect)((()=>{d&&x()}),[d,x]),(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"row ".concat(J.sRequest),children:[(0,p.jsx)("div",{className:u?"col-4":"col-12",children:(0,p.jsxs)("div",{className:J.requestParent,children:[(0,p.jsxs)("div",{className:J.requestAction,children:[(0,p.jsxs)("span",{className:"mx-1",children:[(0,p.jsx)("img",{src:"/images/action-pending.svg",title:"Request",className:"mx-1",alt:"Request"}),r("action_pending")]}),(0,p.jsx)("span",{className:"mx-1",children:null===_||void 0===_||null===(t=_.classes)||void 0===t||null===(l=t.student)||void 0===l?void 0:l.length})]}),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:J.requestStudent,children:null===_||void 0===_||null===(s=_.classes)||void 0===s||null===(n=s.student)||void 0===n?void 0:n.map((e=>(0,p.jsx)("div",{onClick:()=>{return t=e._id,h(t),void v(!0);var t},className:m===(null===e||void 0===e?void 0:e._id)?"".concat(J.activeRequest):"".concat(J.deactiveRequest),children:(0,p.jsxs)("div",{className:J.requestStudentChild,children:[(0,p.jsx)("img",{src:null!==e&&void 0!==e&&e.studentProfilePhoto?"".concat(S.yI,"/").concat(null===e||void 0===e?void 0:e.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"Avatar"}),(0,p.jsxs)("div",{className:J.applyNameDate,children:[(0,p.jsxs)("p",{className:J.applyName,children:[null===e||void 0===e?void 0:e.studentFirstName," ",null!==e&&void 0!==e&&e.studentMiddleName?null===e||void 0===e?void 0:e.studentMiddleName:" "," ",null===e||void 0===e?void 0:e.studentLastName]}),(0,p.jsx)("p",{className:J.applyDate,children:"23-02-2022"})]})]})},null===e||void 0===e?void 0:e._id)))})})]})}),u&&(0,p.jsx)("div",{className:"col-8 ".concat(J.requestRightParent),children:(0,p.jsx)(ae,{onRefetch:x,setRequestProfile:v,sid:m,cid:d,id:a,bid:c,did:o})})]})})};var ce=l(893);const re={fees:"Fees_fees__lvKjI",feesLeft:"Fees_feesLeft__Pv8wS",feesRight:"Fees_feesRight__n+MV0",heading:"Fees_heading__lLfQy",table:"Fees_table__ITnIY",right:"Fees_right__R6Z+3",tableHead:"Fees_tableHead__tYj9A",rightHead:"Fees_rightHead__FyqZ+",tableBody:"Fees_tableBody__kJMxs",item:"Fees_item__Yb9fi",rollno:"Fees_rollno__kvg3F",name:"Fees_name__Ej2qy",radio:"Fees_radio__cArO4",rightBody:"Fees_rightBody__emRsJ",btnContainer:"Fees_btnContainer__pYNF4",btn:"Fees_btn__i-yJq",examList:"Fees_examList__HvBjX",examListItems:"Fees_examListItems__C5nXV",sidebarheader:"Fees_sidebarheader__qUZXk",text:"Fees_text__9vXUC",date:"Fees_date__R1FWt",insUserName:"Fees_insUserName__KwlYi",backh:"Fees_backh__zYQcY",deestabss:"Fees_deestabss__A6Pls",save_fees:"Fees_save_fees__fwyJH"};function ue(e){var t,l,s;let{stu:n,feesDetails:d,setAllFeesIds:a}=e;const[o,c]=(0,i.useState)(""),r=(e,t)=>{var l,i,s;if("exempt"===e)null!==d&&void 0!==d&&null!==(l=d.exemptList)&&void 0!==l&&l.includes(null===n||void 0===n?void 0:n._id)||null!==d&&void 0!==d&&null!==(i=d.onlineList)&&void 0!==i&&i.includes(null===n||void 0===n?void 0:n._id)||null!==d&&void 0!==d&&null!==(s=d.offlineStudentsList)&&void 0!==s&&s.includes(null===n||void 0===n?void 0:n._id)||(""===o?(c("exempt"),a((e=>({...e,exemptQuery:[...e.exemptQuery,null===n||void 0===n?void 0:n._id]})))):"offline"===o?(c("exempt"),a((e=>{var t;return{...e,offlineQuery:null===(t=e.offlineQuery)||void 0===t?void 0:t.filter((e=>e!==(null===n||void 0===n?void 0:n._id))),exemptQuery:[...e.exemptQuery,null===n||void 0===n?void 0:n._id]}}))):"deselect"===t&&(c(""),a((e=>{var t;return{...e,exemptQuery:null===(t=e.exemptQuery)||void 0===t?void 0:t.filter((e=>e!==(null===n||void 0===n?void 0:n._id)))}}))));else if("offline"===e){var r,u,v;null!==d&&void 0!==d&&null!==(r=d.exemptList)&&void 0!==r&&r.includes(null===n||void 0===n?void 0:n._id)||null!==d&&void 0!==d&&null!==(u=d.onlineList)&&void 0!==u&&u.includes(null===n||void 0===n?void 0:n._id)||null!==d&&void 0!==d&&null!==(v=d.offlineStudentsList)&&void 0!==v&&v.includes(null===n||void 0===n?void 0:n._id)||(""===o?(c("offline"),a((e=>({...e,offlineQuery:[...e.offlineQuery,null===n||void 0===n?void 0:n._id]})))):"exempt"===o?(c("offline"),a((e=>{var t;return{...e,exemptQuery:null===(t=e.exemptQuery)||void 0===t?void 0:t.filter((e=>e!==(null===n||void 0===n?void 0:n._id))),offlineQuery:[...e.offlineQuery,null===n||void 0===n?void 0:n._id]}}))):"deselect"===t&&(c(""),a((e=>{var t;return{...e,offlineQuery:null===(t=e.offlineQuery)||void 0===t?void 0:t.filter((e=>e!==(null===n||void 0===n?void 0:n._id)))}}))))}else c((e=>e))};return(0,p.jsxs)("div",{className:re.item,children:[(0,p.jsxs)("p",{className:re.rollno,children:[(null===n||void 0===n?void 0:n.studentROLLNO)>9?null===n||void 0===n?void 0:n.studentROLLNO:"0".concat(null===n||void 0===n?void 0:n.studentROLLNO),"."]}),(0,p.jsxs)("p",{className:re.name,children:[" ",null===n||void 0===n?void 0:n.studentFirstName," ",null!==n&&void 0!==n&&n.studentMiddleName?null===n||void 0===n?void 0:n.studentMiddleName:" "," ",null===n||void 0===n?void 0:n.studentLastName]}),(0,p.jsxs)("div",{className:re.radio,children:[(0,p.jsx)("label",{htmlFor:"fee",style:{cursor:"pointer"},children:null!==d&&void 0!==d&&null!==(t=d.exemptList)&&void 0!==t&&t.includes(null===n||void 0===n?void 0:n._id)||"exempt"===o?(0,p.jsx)("img",{src:"/images/radio-active.svg",alt:"",onClick:()=>r("exempt","deselect")}):(0,p.jsx)("img",{src:"/images/radio-disabled.svg",alt:"",onClick:()=>r("exempt","select")})}),(0,p.jsx)("input",{type:"radio",id:"html",name:"fee",value:"HTML"})]}),(0,p.jsxs)("div",{className:re.radio,children:[(0,p.jsx)("label",{htmlFor:"fee",style:{cursor:"pointer"},children:null!==d&&void 0!==d&&null!==(l=d.onlineList)&&void 0!==l&&l.includes(null===n||void 0===n?void 0:n._id)?(0,p.jsx)("img",{src:"/images/radio-active.svg",alt:""}):(0,p.jsx)("img",{src:"/images/radio-disabled.svg",alt:""})}),(0,p.jsx)("input",{type:"radio",id:"html",name:"fee",value:"JS"})]}),(0,p.jsxs)("div",{className:re.radio,children:[(0,p.jsx)("label",{htmlFor:"fee",style:{cursor:"pointer"},children:null!==d&&void 0!==d&&null!==(s=d.offlineStudentsList)&&void 0!==s&&s.includes(null===n||void 0===n?void 0:n._id)||"offline"===o?(0,p.jsx)("img",{src:"/images/radio-active.svg",alt:"",onClick:()=>r("offline","deselect")}):(0,p.jsx)("img",{src:"/images/radio-disabled.svg",alt:"",onClick:()=>r("offline","select")})}),(0,p.jsx)("input",{type:"radio",id:"html",name:"fee",value:"CSS"})]})]})}const ve=function(e){var t,l;let{feesDetails:s,students:n,onRefetch:d,cid:a,fid:o,onRefetchQuery:c,setIndex:r}=e;const[u,v]=(0,i.useState)({offlineQuery:[],exemptQuery:[]}),[m,h]=(0,i.useState)(!1),{t:_}=(0,j.$G)(),[x]=(0,A.o1)();return(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:re.deestabss,children:[(0,p.jsx)("h6",{className:re.heading,children:null===s||void 0===s?void 0:s.feeName}),null!==(t=u.exemptQuery)&&void 0!==t&&t.length||null!==(l=u.offlineQuery)&&void 0!==l&&l.length?(0,p.jsx)("div",{onClick:()=>{h((e=>!e)),x({cid:a,fid:o,feesData:u}).then((()=>{c(),d(),h((e=>!e)),r(0)})).catch({})},className:re.save_fees,children:_("save")}):""]}),(0,p.jsxs)("div",{className:re.table,children:[(0,p.jsxs)("div",{className:re.tableHead,children:[(0,p.jsx)("h6",{className:re.rollno,children:_("roll_no")}),(0,p.jsx)("h6",{className:re.name,children:_("name")}),(0,p.jsx)("h6",{className:re.radio,children:_("exemted")}),(0,p.jsx)("h6",{className:re.radio,children:_("online")}),(0,p.jsx)("h6",{className:re.radio,children:_("offline")})]}),(0,p.jsx)("div",{className:re.tableBody,children:null===n||void 0===n?void 0:n.map((e=>(0,p.jsx)(ue,{stu:e,feesDetails:s,onRefetch:d,cid:a,fid:o,onRefetchQuery:c,setAllFeesIds:v},null===e||void 0===e?void 0:e._id)))})]}),m&&(0,p.jsx)(P.Z,{})]})};var me=l(68825),he=l(87010);const _e=function(e){var t;let{totalFees:l,feesDetails:s,classOneFees:n,onRefetchQuery:d,cid:a,financeId:o}=e;const[c,r]=(0,i.useState)(!1),[u,v]=(0,i.useState)(!1),[m,h]=(0,i.useState)(!1),[_]=(0,he.cw)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:re.right,children:[(0,p.jsx)(Z.SY,{msg:u,run:c,setRun:r}),(0,p.jsxs)("div",{className:re.rightHead,children:[(0,p.jsx)("h6",{children:(0,me.t)("total_amount_collected")}),(0,p.jsxs)("h6",{children:["Rs. ",l]})]}),(0,p.jsxs)("div",{className:re.rightBody,children:[(0,p.jsxs)("h6",{children:[(0,me.t)("exemted_amount")," : Rs."," ",null===n||void 0===n?void 0:n.exe]}),(0,p.jsxs)("h6",{children:[(0,me.t)("online_collected_amount")," : Rs."," ",null===n||void 0===n?void 0:n.on]}),(0,p.jsxs)("h6",{children:[(0,me.t)("offline_collected_amount")," : Rs. ",null===n||void 0===n?void 0:n.off]}),(null===n||void 0===n?void 0:n.off)>0?(0,p.jsx)("div",{className:re.btnContainer,children:(0,p.jsx)("div",{className:re.btn,onClick:()=>{var e;"Requested"===(null===n||void 0===n||null===(e=n.oneFeeRequestStatus)||void 0===e?void 0:e.status)?(r(!0),v((0,me.t)("already_requested"))):0===parseInt(null===n||void 0===n?void 0:n.off)?(r(!0),v((0,me.t)("amout_greater_than_balance"))):(h((e=>!e)),_({fid:o,cid:a,feesId:null===s||void 0===s?void 0:s._id,offlineAmount:{amount:parseInt(null===n||void 0===n?void 0:n.off)}}).then((()=>{d(),h((e=>!e))})).catch({}))},children:"Requested"===(null===n||void 0===n||null===(t=n.oneFeeRequestStatus)||void 0===t?void 0:t.status)?(0,me.t)("requested"):(0,me.t)("submit")})}):""]})]}),m&&(0,p.jsx)(P.Z,{})]})};function xe(e){let{onClickFeesId:t,fees:l,students:i}=e;const{t:s}=(0,j.$G)();return(0,p.jsxs)("div",{className:re.sidebarheader,onClick:()=>t({_id:null===l||void 0===l?void 0:l._id,students:i}),children:[(0,p.jsx)("img",{src:"/images/feesIcon.svg",alt:""}),(0,p.jsxs)("div",{className:re.text,children:[(0,p.jsx)("div",{className:re.insName,children:(0,p.jsxs)("h6",{children:["Rs.",null===l||void 0===l?void 0:l.feeAmount,"/-"]})}),(0,p.jsx)("div",{className:re.insUserName,children:(0,p.jsx)("p",{children:null===l||void 0===l?void 0:l.feeName})})]}),(0,p.jsxs)("div",{className:re.date,children:[(0,p.jsx)("h6",{children:null===l||void 0===l?void 0:l.feeDate}),(0,p.jsx)("p",{children:s("due_date")})]})]})}const ge=function(e){var t;let{onClickFeesId:l,feesList:i}=e;return(0,p.jsx)("div",{className:re.examList,children:(0,p.jsx)("div",{className:re.examListItems,children:null===i||void 0===i||null===(t=i.fee)||void 0===t?void 0:t.map((e=>(0,p.jsx)(xe,{onClickFeesId:l,fees:e,students:null===i||void 0===i?void 0:i.ApproveStudent},null===e||void 0===e?void 0:e._id)))})})};const je=function(e){var t,l,s,n;let{cid:d}=e;const[a,o]=i.useState(0),[c,r]=(0,i.useState)(""),{classAllFees:u,classAllFeesRefetch:v}=(0,A.qK)({data:{cid:d,page:1,limit:50},skip:!d});(0,i.useEffect)((()=>{d&&v()}),[d,v]);const{classOneFeesDetails:m,classOneFeesDetailsRefetch:h}=(0,A.Sv)({data:{fid:null===c||void 0===c?void 0:c._id,page:1,limit:50},skip:!(null!==c&&void 0!==c&&c._id)}),{classOneFees:_,classOneFeesRefetch:x}=(0,A.LE)({data:{fid:null===c||void 0===c?void 0:c._id,cid:d},skip:!(null!==c&&void 0!==c&&c._id)});return(0,i.useEffect)((()=>{null!==c&&void 0!==c&&c._id&&(x(),h())}),[null===c||void 0===c?void 0:c._id,x,h]),(0,p.jsxs)(p.Fragment,{children:[1===a&&(0,p.jsxs)("div",{className:re.fees,children:[(0,p.jsx)("div",{className:re.feesLeft,children:(0,p.jsx)(ve,{feesDetails:null===m||void 0===m?void 0:m.feeData,students:null===c||void 0===c?void 0:c.students,onRefetch:h,cid:d,fid:null===c||void 0===c?void 0:c._id,onRefetchQuery:x,setIndex:o})}),(0,p.jsx)("div",{className:re.feesRight,children:(0,p.jsx)(_e,{feesDetails:null===m||void 0===m?void 0:m.feeData,totalFees:null===m||void 0===m?void 0:m.onlineOffline,classOneFees:_,onRefetchQuery:x,cid:d,financeId:null===u||void 0===u||null===(t=u.classes)||void 0===t||null===(l=t.institute)||void 0===l||null===(s=l.financeDepart)||void 0===s||null===(n=s[0])||void 0===n?void 0:n._id})})]}),0===a&&(0,p.jsx)(ge,{onClickFeesId:e=>{r({_id:null===e||void 0===e?void 0:e._id,students:null===e||void 0===e?void 0:e.students}),o(1)},feesList:null===u||void 0===u?void 0:u.classes})]})},pe="FinalReport_finalreport__fouoa",fe="FinalReport_rollnumbers__eX23P",Se="FinalReport_items__yokO1",Ne="FinalReport_box__uXAVc",be="FinalReport_box1__kXH1N",Ce="FinalReport_box2__dkkaP",Re="FinalReport_buttons__G94vt",ye="FinalReport_download__eeQIb",ke="FinalReport_send__iAUch",Ae={s_detail_report:"StudentDetailReportCard_s_detail_report__DYQsC",s_detail_report_heading:"StudentDetailReportCard_s_detail_report_heading__SPS8G",srd_container:"StudentDetailReportCard_srd_container__xK6Q2",srd_container_header:"StudentDetailReportCard_srd_container_header__C+ONJ",srd_container_header_inner:"StudentDetailReportCard_srd_container_header_inner__1aNfp",srd_column:"StudentDetailReportCard_srd_column__kDtLD",srd_pre:"StudentDetailReportCard_srd_pre__Sk1Ek",srd_spi_container:"StudentDetailReportCard_srd_spi_container__lt7S+",srd_spi_container_column:"StudentDetailReportCard_srd_spi_container_column__CARId",srd_spi_container_result:"StudentDetailReportCard_srd_spi_container_result__xtPHv",srd_button_group:"StudentDetailReportCard_srd_button_group__jv1hD",srd_send:"StudentDetailReportCard_srd_send__Xvxun"};var Ee=l(35125),Te=l(72426),Ie=l.n(Te);const Le=(e,t,l,i,s,n,d)=>{var a,o,c,r,u,v,m,h,_,x,g,j,p,f,S,N,b,C,R,y,k,A,E,T,I,L,Z=new Ee.ZP({format:"a4",putOnlyUsedFonts:!0}),F=Z.internal.pageSize.getWidth(),P=0;Z.addImage(e,"JPEG",9,3,25,25),Z.addImage(t,"JPEG",F-34,3,25,25),Z.setLineWidth(8),Z.setDrawColor(255,255,255),Z.circle(21.4,15,16),Z.setLineWidth(0),Z.setLineWidth(8),Z.setDrawColor(255,255,255),Z.circle(F-21.4,15,16),Z.setLineWidth(0),P=null!==n&&void 0!==n&&null!==(a=n.student)&&void 0!==a&&null!==(o=a.institute)&&void 0!==o&&o.insAffiliated?12:10;const M=Z.splitTextToSize(null!==(c=null===n||void 0===n||null===(r=n.student)||void 0===r||null===(u=r.institute)||void 0===u?void 0:u.insName)&&void 0!==c?c:"",146);if(Z.setFont("700"),Z.setTextColor(18,18,18),Z.setFontSize(16),Z.text(107,P,M,"center"),null!==M&&void 0!==M&&M.length)for(let ie=0;ie<(null===M||void 0===M?void 0:M.length);ie++)P+=6;var D,w;null!==n&&void 0!==n&&null!==(v=n.student)&&void 0!==v&&null!==(m=v.institute)&&void 0!==m&&m.insAffiliated&&(Z.setFontSize(10),Z.text(107,5,null===n||void 0===n||null===(D=n.student)||void 0===D||null===(w=D.institute)||void 0===w?void 0:w.insAffiliated,"center"));if(Z.setFont("Arial","normal","400"),Z.setTextColor(18,18,18),Z.setFontSize(10),Z.text(F/2,P,null!==(h=null===n||void 0===n||null===(_=n.student)||void 0===_||null===(x=_.institute)||void 0===x?void 0:x.insAddress)&&void 0!==h?h:"","center"),Z.setFont("WorkSans"),Z.setTextColor(18,18,18),Z.setFontSize(10),null!==n&&void 0!==n&&null!==(g=n.student)&&void 0!==g&&null!==(j=g.institute)&&void 0!==j&&j.insEditableText_one){var O,q;let e=Z.splitTextToSize(null===n||void 0===n||null===(O=n.student)||void 0===O||null===(q=O.institute)||void 0===q?void 0:q.insEditableText_one,F-70);if(Z.text(F/2,P+5,e,"center"),null!==e&&void 0!==e&&e.length)for(let t=0;t<(null===e||void 0===e?void 0:e.length);t++)P+=5}if(null!==n&&void 0!==n&&null!==(p=n.student)&&void 0!==p&&null!==(f=p.institute)&&void 0!==f&&f.insEditableText_two){var G,B;let e=Z.splitTextToSize(null===n||void 0===n||null===(G=n.student)||void 0===G||null===(B=G.institute)||void 0===B?void 0:B.insEditableText_two,F-70);if(Z.text(F/2,P+4,e,"center"),null!==e&&void 0!==e&&e.length)for(let t=0;t<(null===e||void 0===e?void 0:e.length);t++)P+=5}Z.text(F/2,P+4,"Mob No : ".concat(null===n||void 0===n||null===(S=n.student)||void 0===S||null===(N=S.institute)||void 0===N?void 0:N.insPhoneNumber," , Mail: ").concat(null===n||void 0===n||null===(b=n.student)||void 0===b||null===(C=b.institute)||void 0===C?void 0:C.insEmail),"center"),P+=20,Z.setTextColor(0,0,0),Z.setFontSize(22),Z.text(F/2,P,"Statement of Grades","center"),P+=5,Z.setFontSize(11),Z.setTextColor("#121212"),Z.setLineWidth(.3),Z.setDrawColor("#121212");var W=P,U=P;Z.line(18,P,F-18,P),P+=5,Z.text(20,P,"STUDENT'S NAME: ".concat(null===i||void 0===i?void 0:i.studentFirstName," ").concat(null!==(R=null===i||void 0===i?void 0:i.studentMiddleName)&&void 0!==R?R:""," ").concat(null===i||void 0===i?void 0:i.studentLastName)),P+=3,Z.line(18,P,F-54,P),P+=5,Z.text(20,P,"REGISTRATION ID: "),P+=3,Z.line(18,P,F-54,P),P+=5,Z.text(20,P,"PROGRAMME: ANKUSH KUMAR SINGH"),P+=3,Z.line(18,P,F-54,P),P+=7;var Y="CLASS/SEMESTER: ".concat(null===n||void 0===n||null===(y=n.student)||void 0===y||null===(k=y.studentClass)||void 0===k?void 0:k.className," - ").concat(null===n||void 0===n||null===(A=n.student)||void 0===A||null===(E=A.studentClass)||void 0===E?void 0:E.classTitle);Z.text(20,P,Y),Z.line(20+Z.getTextWidth(Y)+2,P-7,20+Z.getTextWidth(Y)+2,P+5),Z.text(20+Z.getTextWidth(Y)+4,P-3,"MONTH & YEAR OF"),Z.text(20+Z.getTextWidth(Y)+4,P+2,"EXAMINATION: ".concat(null===n||void 0===n||null===(T=n.student)||void 0===T||null===(I=T.batches)||void 0===I?void 0:I.batchName)),P+=5,Z.line(F-54,U,F-54,P),Z.addImage(l,"JPEG",F-54,U,36,36),Z.line(18,P,F-18,P),P+=7;let H=F-20;Z.text(20,P,"SR. NO."),Z.line(35,P-7,35,P+5),Z.text(37,P-3,"COURSE"),Z.text(37,P+1,"  CODE"),Z.line(55,P-7,55,P+5),Z.text(F/2-16,P,"COURSE",{align:"left"}),Z.line(H-Z.getTextWidth("GRADESREMARKSCREDIT")-12,P-7,H-Z.getTextWidth("GRADESREMARKSCREDIT")-12,P+5),Z.text(H-Z.getTextWidth("GRADESREMARKSCREDIT")-10,P,"CREDIT"),Z.line(H-Z.getTextWidth("GRADESREMARKS")-8,P-7,H-Z.getTextWidth("GRADESREMARKS")-8,P+5),Z.text(H-Z.getTextWidth("GRADESREMARKS")-6,P,"GRADES"),Z.line(H-Z.getTextWidth("REMARKS")-4,P-7,H-Z.getTextWidth("REMARKS")-4,P+5),Z.text(H-Z.getTextWidth("REMARKS")-2,P,"REMARKS"),P+=5,Z.line(18,P,F-18,P),P+=5,Z.text(F/2,P,"THEORY",{align:"center"}),P+=3,Z.line(18,P,F-18,P);let K=s.subjects;!K||(null===K||void 0===K?void 0:K.length)<=0?(P+=5,Z.line(18,P,F-18,P)):P+=7;for(let ie=0;ie<(null===K||void 0===K?void 0:K.length);ie++){var Q,z,V,X,$,J,ee,te;Z.text(26,P,ie+1),Z.line(35,P-7,35,P+5),Z.text(36,P,"".concat(null!==(Q=null===(z=K[ie])||void 0===z?void 0:z.course_code)&&void 0!==Q?Q:"")),Z.line(55,P-7,55,P+5),Z.text(F/2-48,P,"".concat(null===(V=K[ie])||void 0===V?void 0:V.subjectName)),Z.line(H-Z.getTextWidth("GRADESREMARKSCREDIT")-12,P-7,H-Z.getTextWidth("GRADESREMARKSCREDIT")-12,P+5),Z.text(H-Z.getTextWidth("GRADESREMARKSCREDIT")-6,P,"".concat(null!==(X=null===($=K[ie])||void 0===$?void 0:$.course_credit)&&void 0!==X?X:"")),Z.line(H-Z.getTextWidth("GRADESREMARKS")-8,P-7,H-Z.getTextWidth("GRADESREMARKS")-8,P+5),Z.text(H-Z.getTextWidth("GRADESREMARKS"),P,"".concat(d?null!==(J=null===(ee=K[ie])||void 0===ee?void 0:ee.showGrade)&&void 0!==J?J:"":null===(te=K[ie])||void 0===te?void 0:te.subjectWiseTotal.toFixed(2))),Z.line(H-Z.getTextWidth("REMARKS")-4,P-7,H-Z.getTextWidth("REMARKS")-4,P+5),Z.text(H-Z.getTextWidth("REMARKS")+2,P,""),P+=5,Z.line(18,P,F-18,P)}P+=5,Z.text(F/2-30,P,"TOTAL CREDITS",{align:"center"}),Z.line(H-Z.getTextWidth("GRADESREMARKSCREDIT")-12,P-5,H-Z.getTextWidth("GRADESREMARKSCREDIT")-12,P+3),Z.line(H-Z.getTextWidth("GRADESREMARKS")-8,P-5,H-Z.getTextWidth("GRADESREMARKS")-8,P+3),Z.line(H-Z.getTextWidth("REMARKS")-4,P-5,H-Z.getTextWidth("REMARKS")-4,P+3),P+=3,Z.line(18,P,F-18,P),Z.line(18,W,18,P),Z.line(F-18,W,F-18,P),P+=5,Z.text(22,P,"PRE = CANDIDATE HAS PASSED IN RE-EXAMINATION WITH NUMBER OF ATTEMPT");var le=P+=3;Z.line(18,P,F-18,P),P+=5,Z.text(F/2,P,"SEMESTER PERFORMANCE INDEX",{align:"center"}),P+=3,Z.line(18,P,F-18,P),P+=5,Z.text(22,P,"EARNED GRADE POINTS"),Z.line(73,P-5,73,P+3),Z.text(90,P,"SPI"),Z.line(120,P-5,120,P+3),P+=3,Z.line(18,P,F-90,P),P+=5,Z.text(40,P,""),Z.line(73,P-5,73,P+3),Z.text(90,P,""),Z.line(120,P-5,120,P+3),Z.text(145,P-3,"RESULT: ",{align:"justify"}),P+=3,Z.line(18,P,F-18,P),P+=5,Z.text(F/2,P,"CUMULATIVE PERFORMANCE INDEX",{align:"center"}),P+=3,Z.line(18,P,F-18,P),P+=5,Z.text(30,P,"TOTAL CREDITS"),Z.line(73,P-5,73,P+3),Z.text(85,P,"TOTAL EARNED GRADE POINTS"),Z.line(F-52,P-5,F-52,P+3),Z.text(F-40,P,"CPI"),P+=3,Z.line(18,P,F-18,P),P+=5,Z.text(40,P,""),Z.text(110,P,""),Z.text(F-40,P,""),P+=3,Z.line(18,P,F-18,P),Z.line(18,le,18,P),Z.line(F-18,le,F-18,P),P+=5,Z.text(22,P,"RESULTS DECLARED ON: ".concat(Ie()().format("Do MMMM yyyy"))),P+=20,Z.text(22,P,"ENTERED BY"),Z.text(54,P,"VERIFIED BY"),Z.text(84,P,"DCOE"),Z.text(106,P,"COE"),Z.text(126,P,"DEAN ACADEMICS"),Z.text(F-40,P,"PRINCIPAL"),window.open(Z.output("bloburl",{filename:"".concat(null===i||void 0===i?void 0:i.studentFirstName," ").concat(null!==(L=null===i||void 0===i?void 0:i.studentMiddleName)&&void 0!==L?L:""," ").concat(null===i||void 0===i?void 0:i.studentLastName,"-report-card.pdf")}),"_blank")},Ze=e=>{var t,l,s,d,a,o,c,r,u,v,m,h,_,x,g,f,N,b,C,R;let{oneStudentDetail:y,onRefetch:k,finalReportsSettings:E}=e;const{t:T}=(0,j.$G)(),I=(0,n.s0)(),[L,F]=(0,i.useState)(!1),[M,D]=(0,i.useState)(null),[w,O]=(0,i.useState)(!1),[q,G]=(0,i.useState)(!1),[B,W]=(0,i.useState)(!1),[U,Y]=(0,i.useState)(!1),[H,K]=(0,i.useState)([]),{classStudentBehavour:Q,classStudentBehavourRefetch:z}=(0,A.Bp)({data:{sid:null===y||void 0===y?void 0:y._id},skip:!(null!==y&&void 0!==y&&y._id)}),{classStudentReportCard:V,classStudentReportCardRefetch:X}=(0,A.dS)({data:{sid:null===y||void 0===y?void 0:y._id},skip:!(null!==y&&void 0!==y&&y._id)}),{classStudentReportCardAttendance:$,classStudentReportCardAttendanceRefetch:J}=(0,A.dt)({data:{sid:null===y||void 0===y?void 0:y._id},skip:!(null!==E&&void 0!==E&&E.attendance)||!(null!==y&&void 0!==y&&y._id)}),{classStudentReportCardNecessary:ee,classStudentReportCardNecessaryRefetch:te}=(0,A.Nn)({data:{sid:null===y||void 0===y?void 0:y._id},skip:!(null!==y&&void 0!==y&&y._id)});(0,i.useEffect)((()=>{null!==y&&void 0!==y&&y._id&&(X(),null!==E&&void 0!==E&&E.attendance&&J(),te())}),[null===y||void 0===y?void 0:y._id,X,J,te,null===E||void 0===E?void 0:E.attendance]),(0,i.useEffect)((()=>{null!==E&&void 0!==E&&E.behaviour&&z()}),[z,null===E||void 0===E?void 0:E.behaviour]),(0,i.useEffect)((()=>{null!==y&&void 0!==y&&y.studentBehaviour&&z()}),[null===y||void 0===y?void 0:y.studentBehaviour,z]);const le=[];for(let i=0;i<(null===Q||void 0===Q||null===(ie=Q.student)||void 0===ie?void 0:ie.ratings);i++){var ie;le.push("/images/bookmark-yellow.svg")}const[se]=(0,A._q)(),[ne]=(0,A.e3)(),[de]=(0,A.Tg)();(0,i.useEffect)((()=>{if(U){var e,t,l,i,s,n;const d=ee.student.institute.insProfilePhoto?"".concat(S.yI,"/").concat(ee.student.institute.insProfilePhoto):"/images/certificate/logodemo.jpg",a=null!==ee&&void 0!==ee&&null!==(e=ee.student)&&void 0!==e&&null!==(t=e.institute)&&void 0!==t&&t.affliatedLogo?"".concat(S.yI,"/").concat(null===ee||void 0===ee||null===(l=ee.student)||void 0===l||null===(i=l.institute)||void 0===i?void 0:i.affliatedLogo):"/images/certificate/logodemo.jpg",o=null!==ee&&void 0!==ee&&null!==(s=ee.student)&&void 0!==s&&s.studentProfilePhoto?"".concat(S.yI,"/").concat(null===ee||void 0===ee||null===(n=ee.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg";Le(d,a,o,y,V,ee,null===E||void 0===E?void 0:E.gradeMarks),G((e=>!e)),window.location.reload()}}),[U]);return(0,p.jsxs)("div",{className:Ae.s_detail_report,children:[(0,p.jsx)(Z.SY,{run:L,msg:M,setRun:F}),(0,p.jsx)("h6",{className:Ae.s_detail_report_heading,children:T("statement_of_grade")}),(0,p.jsxs)("section",{className:Ae.srd_container,children:[(0,p.jsxs)("div",{className:Ae.srd_container_header,children:[(0,p.jsxs)("h6",{children:["STUDENT'S NAME: ",null===y||void 0===y?void 0:y.studentFirstName," ",null!==y&&void 0!==y&&y.studentMiddleName?null===y||void 0===y?void 0:y.studentMiddleName:" "," ",null===y||void 0===y?void 0:y.studentLastName]}),(0,p.jsx)("h6",{children:"REGISTRATION ID: "}),(0,p.jsxs)("h6",{children:["PROGRAMME:"," ",null!==(t=null===ee||void 0===ee||null===(l=ee.student)||void 0===l||null===(s=l.department)||void 0===s?void 0:s.department_programme_name)&&void 0!==t?t:""]}),(0,p.jsxs)("div",{className:Ae.srd_container_header_inner,children:[(0,p.jsxs)("h6",{children:["CLASS/SEMESTER:"," ","".concat(null===ee||void 0===ee||null===(d=ee.student)||void 0===d||null===(a=d.studentClass)||void 0===a?void 0:a.className," - ").concat(null===ee||void 0===ee||null===(o=ee.student)||void 0===o||null===(c=o.studentClass)||void 0===c?void 0:c.classTitle)]}),(0,p.jsxs)("h6",{children:["MONTH & YEAR OF EXAMINATION:"," ",null!==(r=null===ee||void 0===ee||null===(u=ee.student)||void 0===u||null===(v=u.batches)||void 0===v?void 0:v.batchName)&&void 0!==r?r:""]})]})]}),(0,p.jsx)("img",{src:null!==y&&void 0!==y&&y.studentProfilePhoto?"".concat(S.yI,"/").concat(null===y||void 0===y?void 0:y.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"profile photo"})]}),(0,p.jsxs)("div",{className:Ae.srd_column,children:[(0,p.jsx)("h6",{style:{borderRight:"none"},children:"SR. NO."}),(0,p.jsxs)("h6",{children:["COURSE",(0,p.jsx)("br",{}),"CODE"]}),(0,p.jsx)("h6",{children:"COURSE"}),(0,p.jsx)("h6",{children:"CREDIT"}),(0,p.jsx)("h6",{children:"GRADES"}),(0,p.jsx)("h6",{children:"REMARKS"})]}),(0,p.jsx)("div",{className:Ae.srd_column,children:(0,p.jsx)("h6",{children:"THEORY"})}),null===V||void 0===V||null===(m=V.subjects)||void 0===m?void 0:m.map(((e,t)=>{var l,i,s;return(0,p.jsxs)("div",{className:Ae.srd_column,children:[(0,p.jsx)("h6",{style:{borderRight:"none"},children:t+1}),(0,p.jsx)("h6",{children:null!==(l=null===e||void 0===e?void 0:e.course_code)&&void 0!==l?l:""}),(0,p.jsx)("h6",{children:null!==(i=null===e||void 0===e?void 0:e.subjectName)&&void 0!==i?i:""}),(0,p.jsx)("h6",{children:null!==(s=null===e||void 0===e?void 0:e.finalObtainCredit)&&void 0!==s?s:""}),(0,p.jsx)("h6",{children:null===e||void 0===e?void 0:e.showGrade}),(0,p.jsx)("h6",{})]})})),(0,p.jsxs)("div",{className:Ae.srd_column,style:{borderBottom:"1px solid black"},children:[(0,p.jsx)("h6",{style:{borderRight:"none",flex:"4.66"},children:"TOTAL CREDITS"}),(0,p.jsx)("h6",{style:{flex:"0.9"},children:null!==(h=null===V||void 0===V||null===(_=V.total)||void 0===_?void 0:_.totalCredit)&&void 0!==h?h:""}),(0,p.jsx)("h6",{style:{flex:"0.9"}}),(0,p.jsx)("h6",{style:{flex:"0.9",borderRight:"1px solid black"}})]}),(0,p.jsx)("h6",{className:Ae.srd_pre,children:"PRE = CANDIDATE HAS PASSED IN RE-EXAMINATION WITH NUMBER OF ATTEMPT"}),(0,p.jsx)("div",{className:Ae.srd_column,children:(0,p.jsx)("h6",{children:"SEMESTER PERFORMANCE INDEX"})}),(0,p.jsxs)("div",{className:Ae.srd_spi_container,children:[(0,p.jsxs)("div",{className:Ae.srd_spi_container_column,children:[(0,p.jsxs)("div",{className:Ae.srd_column,children:[(0,p.jsx)("h6",{style:{borderRight:"none",flex:"1"},children:"EARNED GRADE POINTS"}),(0,p.jsx)("h6",{style:{flex:"1",borderRight:"1px solid black"},children:"SPI"})]}),(0,p.jsxs)("div",{className:Ae.srd_column,children:[(0,p.jsx)("h6",{style:{borderRight:"none",flex:"1"},children:null!==(x=null===V||void 0===V||null===(g=V.total)||void 0===g?void 0:g.earnedGradePoint)&&void 0!==x?x:""}),(0,p.jsx)("h6",{style:{flex:"1",borderRight:"1px solid black"},children:null!==(f=null===V||void 0===V||null===(N=V.total)||void 0===N?void 0:N.spi)&&void 0!==f?f:""})]})]}),(0,p.jsx)("div",{className:Ae.srd_spi_container_result,children:(0,p.jsxs)("h6",{children:["RESULT:",(0,p.jsxs)("span",{style:{color:"FAIL"===(null===V||void 0===V||null===(b=V.total)||void 0===b?void 0:b.resultStatus)?"red":"inherit"},children:[" ",null!==(C=null===V||void 0===V||null===(R=V.total)||void 0===R?void 0:R.resultStatus)&&void 0!==C?C:""]})]})})]}),(0,p.jsx)("div",{className:Ae.srd_column,children:(0,p.jsx)("h6",{children:"CUMULATIVE PERFORMANCE INDEX"})}),(0,p.jsxs)("div",{className:Ae.srd_column,children:[(0,p.jsx)("h6",{style:{borderRight:"none",flex:"2"},children:"TOTAL CREDITS"}),(0,p.jsx)("h6",{style:{flex:"3"},children:"TOTAL EARNED GRADE POINTS"}),(0,p.jsx)("h6",{style:{flex:"1",borderRight:"1px solid black"},children:"CPI"})]}),(0,p.jsxs)("div",{className:Ae.srd_column,style:{borderBottom:"1px solid black"},children:[(0,p.jsx)("h6",{style:{borderRight:"none",flex:"2"}}),(0,p.jsx)("h6",{style:{flex:"3"}}),(0,p.jsx)("h6",{style:{flex:"1",borderRight:"1px solid black"}})]}),"No"!==(null===y||void 0===y?void 0:y.finalReportStatus)||w?(0,p.jsx)("div",{className:Ae.srd_button_group,children:B?(0,p.jsx)("div",{className:Ae.download,onClick:()=>{G((e=>!e)),ne({sid:null===y||void 0===y?void 0:y._id,graceMarksUpdate:{subjects:H}}).then((()=>{X(),W(!1),K([]),G((e=>!e))})).catch({})},children:T("update")}):(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:Ae.srd_send,onClick:()=>{G((e=>!e)),Y(!0)},children:T("download")})})}):(0,p.jsx)("div",{className:Ae.srd_button_group,children:(0,p.jsx)("div",{onClick:()=>{var e,t,l,i,s,n,d,a,o,c,r,u,v,m,h,_,x,g,j,p,f,S,N,b;G((e=>!e));const C={totalFinalExam:parseFloat(null===V||void 0===V||null===(e=V.total)||void 0===e||null===(t=e.finalTotal)||void 0===t?void 0:t.toFixed(2)),totalOtherExam:parseFloat(null===V||void 0===V||null===(l=V.total)||void 0===l||null===(i=l.otherTotal)||void 0===i?void 0:i.toFixed(2)),totalGraceExam:parseFloat(null===V||void 0===V||null===(s=V.total)||void 0===s||null===(n=s.graceTotal)||void 0===n?void 0:n.toFixed(2)),totalTotalExam:parseFloat(null===V||void 0===V||null===(d=V.total)||void 0===d||null===(a=d.allSubjectTotal)||void 0===a?void 0:a.toFixed(2)),totalPercentage:parseFloat(null===V||void 0===V||null===(o=V.totalPercantage)||void 0===o?void 0:o.toFixed(2)),attendance:null===$||void 0===$||null===(c=$.attendance)||void 0===c?void 0:c.totalPresent,attendanceTotal:null===$||void 0===$||null===(r=$.attendance)||void 0===r?void 0:r.totalAttendance,attendancePercentage:parseFloat(null===$||void 0===$||null===(u=$.attendance)||void 0===u?void 0:u.attendancePercentage),behaviourStar:null===Q||void 0===Q||null===(v=Q.student)||void 0===v?void 0:v.ratings,behaviourImprovement:null===Q||void 0===Q||null===(m=Q.student)||void 0===m?void 0:m.improvements,behaviourLack:null===Q||void 0===Q||null===(h=Q.student)||void 0===h?void 0:h.lackIn,totalCutoff:null===V||void 0===V||null===(_=V.total)||void 0===_?void 0:_.totalCutoff,showGradeTotal:null===V||void 0===V||null===(x=V.total)||void 0===x?void 0:x.showGradeTotal,spi:+(null===V||void 0===V||null===(g=V.total)||void 0===g?void 0:g.spi),totalCredit:+(null===V||void 0===V||null===(j=V.total)||void 0===j?void 0:j.totalCredit),earnedGradePoint:+(null===V||void 0===V||null===(p=V.total)||void 0===p?void 0:p.earnedGradePoint),totalEarnedGradePoint:+(null===V||void 0===V||null===(f=V.total)||void 0===f?void 0:f.totalEarnedGradePoint),resultStatus:null===V||void 0===V||null===(S=V.total)||void 0===S?void 0:S.resultStatus,totalGradeWithCredit:+(null===V||void 0===V||null===(N=V.total)||void 0===N?void 0:N.totalGradeWithCredit),subjects:[]};null===V||void 0===V||null===(b=V.subjects)||void 0===b||b.map((e=>{var t,l,i;return C.subjects.push({_id:null===e||void 0===e?void 0:e._id,subjectName:null===e||void 0===e?void 0:e.subjectName,finalExamTotal:null===e||void 0===e?void 0:e.finalTotalMarks,finalExamObtain:parseFloat(null===e||void 0===e||null===(t=e.finalObtainMarks)||void 0===t?void 0:t.toFixed(2)),otherExamTotal:null===e||void 0===e?void 0:e.otherTotalMarks,otherExamObtain:parseFloat(null===e||void 0===e||null===(l=e.otherObtainMarks)||void 0===l?void 0:l.toFixed(2)),graceMarks:null===e||void 0===e?void 0:e.graceMarks,totalMarks:100,obtainTotalMarks:parseFloat(null===e||void 0===e||null===(i=e.subjectWiseTotal)||void 0===i?void 0:i.toFixed(2)),subjectCutoff:null===e||void 0===e?void 0:e.subjectCutoff,showGrade:null===e||void 0===e?void 0:e.showGrade,course_credit:+(null===e||void 0===e?void 0:e.course_credit),course_code:null===e||void 0===e?void 0:e.course_code,finalObtainCredit:+(null===e||void 0===e?void 0:e.finalObtainCredit),finalObtainCredit_backend_only:+(null===e||void 0===e?void 0:e.finalObtainCredit_backend_only),showGradeValue:+(null===e||void 0===e?void 0:e.showGradeValue),showGradeRange:+(null===e||void 0===e?void 0:e.showGradeRange),gradeWithCredit:+(null===e||void 0===e?void 0:e.gradeWithCredit),resultStatus:null===e||void 0===e?void 0:e.resultStatus,backlogCredit:+(null===e||void 0===e?void 0:e.backlogCredit),subjectCategory:null===e||void 0===e?void 0:e.subjectCategory,passing:+(null===e||void 0===e?void 0:e.passing),percentage:+(null===e||void 0===e?void 0:e.percentage),gradCount:+(null===e||void 0===e?void 0:e.gradCount)})})),se({sid:null===y||void 0===y?void 0:y._id,reportCardFinalize:C}).then((e=>{"All Final Exam Marks is not updated"===e.data.message?(F(!0),D(e.data.message)):(O(!0),k(),I(-1)),G((e=>!e))})).catch({})},className:Ae.srd_send,children:T("finalize")})}),q&&(0,p.jsx)(P.Z,{})]})};var Fe=l(93638),Pe=l(91427),Me=l(57588),De=l(98684),we=l(90904),Oe=l(49806);const qe=e=>{let{staff:t,selectedId:l,onSelect:i,selectList:s,isMultiSelect:n,onMultiSelect:d}=e;const{t:a}=(0,j.$G)();return(0,p.jsxs)(p.Fragment,{children:[n?(0,p.jsxs)("div",{className:Oe.Z.assign_show_list_each,onClick:()=>{d(t)},style:{border:"0.5px solid #cacaca",marginBottom:"0.7rem",padding:"0.7rem",borderRadius:"6px"},children:[null!==s&&void 0!==s&&s.includes(null===t||void 0===t?void 0:t._id)?(0,p.jsx)("img",{src:"".concat(De.U_,"/check.svg"),alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,p.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"".concat(De.U_,"/uncheck.svg"),alt:"icon"}),(0,p.jsx)("div",{className:Oe.Z.assign_each_paragraph,children:(0,p.jsx)("h6",{children:null===t||void 0===t?void 0:t.classTitle})})]}):(0,p.jsx)("div",{className:Oe.Z.assign_show_list_each,style:l===(null===t||void 0===t?void 0:t._id)?{backgroundColor:"rgba(75, 26, 133, 0.1)",border:"0.5px solid #cacaca",marginBottom:"0.7rem",padding:"0.7rem",borderRadius:"6px"}:{border:"0.5px solid #cacaca",marginBottom:"0.7rem",padding:"0.7rem",borderRadius:"6px"},onClick:()=>{i(t)},children:(0,p.jsx)("div",{className:Oe.Z.assign_each_paragraph,children:(0,p.jsx)("h6",{children:null===t||void 0===t?void 0:t.classTitle})})}),(0,p.jsx)(we.Z,{customStyleBorder:{margin:"0"}})]})};var Ge=l(55336),Be=l(2651),We=l(48293),Ue=l(21348);const Ye=e=>{var t,l,s,n;let{cid:d,title:a,onClose:o,selectedId:c,onSelectStaff:r,isMultiSelect:u,onMultiSelect:v,selectList:m,onDone:h}=e;const{t:_}=(0,j.$G)(),[x,g]=(0,i.useState)(""),[f,S]=(0,i.useState)(1),[N,b]=(0,i.useState)(!0),[R,y]=(0,W.YD)({skip:x}),{classDivisionResultList:k,classDivisionResultListLoading:E}=(0,A.wZ)({data:{cid:d,page:f,limit:10,search:x},skip:!d});(0,i.useEffect)((()=>{y&&N&&S((e=>e+1))}),[y,N]),(0,i.useEffect)((()=>{var e;if(null!==k&&void 0!==k&&null!==(e=k.list)&&void 0!==e&&e.length){var t;let e=(0,Pe.f)(null===k||void 0===k||null===(t=k.list)||void 0===t?void 0:t.length);b((()=>e))}}),[null===k||void 0===k||null===(t=k.list)||void 0===t?void 0:t.length]);const T=(0,i.useCallback)((0,Me.J)((e=>{S((()=>1)),g(e)}),1500),[]),I=e=>{c===(null===e||void 0===e?void 0:e._id)||r(e)};return(0,p.jsx)(We.Z,{onClose:o,children:(0,p.jsxs)("div",{className:Oe.Z.modal_container,children:[(0,p.jsx)(Ue.Z,{children:(0,p.jsxs)("div",{className:Oe.Z.modal_container_outer_header,children:[(0,p.jsx)("div",{className:Oe.Z.modal_container_header,children:(0,p.jsx)("h6",{children:_(null!==a&&void 0!==a?a:"select_classes")})}),(0,p.jsxs)("div",{className:Oe.Z.modal_container_btn_container,children:[u&&(0,p.jsx)(Fe.Z,{label:_("select"),count:null===m||void 0===m?void 0:m.length,onAction:h,customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,p.jsx)("img",{src:"".concat(De.J7,"/close.svg"),alt:"close icon",onClick:o})]})]})}),(0,p.jsx)(we.Z,{}),(0,p.jsxs)(Ue.Z,{customStyle:{paddingTop:"0.3rem"},children:[(0,p.jsxs)("div",{className:Oe.Z.assign_search_container,children:[(0,p.jsx)("input",{type:"text",placeholder:_("search"),className:Oe.Z.assign_search_input,onChange:e=>{e.target.value?T(e.target.value):(S((()=>1)),g(""))},style:{width:"100%"}}),(0,p.jsx)("img",{src:"".concat(De.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===k||void 0===k||null===(l=k.list)||void 0===l?void 0:l.map(((e,t)=>{var l;return(null===k||void 0===k||null===(l=k.list)||void 0===l?void 0:l.length)===t+1?(0,p.jsx)("div",{ref:R,children:(0,p.jsx)(qe,{staff:e,selectedId:c,onSelect:I,selectList:m,isMultiSelect:u,onMultiSelect:v})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(qe,{staff:e,selectedId:c,onSelect:I,selectList:m,isMultiSelect:u,onMultiSelect:v},null===e||void 0===e?void 0:e._id)})),E?x?(0,p.jsx)(Ge.Z,{}):(0,p.jsx)(C.Z,{}):x?0===(null===k||void 0===k||null===(s=k.list)||void 0===s?void 0:s.length)&&(0,p.jsx)(Be.Z,{title:"No class found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===k||void 0===k||null===(n=k.list)||void 0===n?void 0:n.length)&&(0,p.jsx)(Be.Z,{title:"No calss.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})};const He=function(e){var t,s,d;let{cid:a,carryParentState:o}=e;const{t:c}=(0,j.$G)(),[r]=(0,q.lr)(),u=(0,n.s0)(),v=(0,n.UO)(),m=(0,n.TH)(),[h,_]=(0,i.useState)(!1),[x,g]=(0,i.useState)(""),[f]=(0,A._$)(),[S,N]=(0,i.useState)(!1),[b,C]=(0,i.useState)({msg:"",run:!1}),[R,y]=(0,i.useState)(!1),[k,E]=(0,i.useState)([]),[T]=(0,A.xn)(),{classAllStudent:I,classAllStudentRefetch:L}=(0,A.EY)({data:{cid:a,page:1,limit:30},skip:!a}),{classSettingReport:F,classSettingReportRefetch:M}=(0,A.GL)({cid:a,skip:!a});(0,i.useEffect)((()=>{a&&(L(),M())}),[a,L,M]);const D=()=>{y((e=>!e))};return(0,p.jsxs)(p.Fragment,{children:[R&&(0,p.jsx)(Ye,{cid:a,onClose:D,isMultiSelect:!0,selectList:k,onMultiSelect:e=>{null!==k&&void 0!==k&&k.includes(null===e||void 0===e?void 0:e._id)?E((t=>null===t||void 0===t?void 0:t.filter((t=>t!==(null===e||void 0===e?void 0:e._id))))):E((t=>[...t,null===e||void 0===e?void 0:e._id]))},onDone:()=>{null!==k&&void 0!==k&&k.length&&(D(),N((e=>!e)),T({bodyParameter:{cid_list:k}}).then((e=>{var t,i;if(N((e=>!e)),(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(i=t.result_analysis)||void 0===i?void 0:i.length)>0){C({msg:"Result analysis pdf in process. It will take some time.",run:!0});const e=new Worker(new URL(l.p+l.u(71761),l.b));e.postMessage({isType:"RESULT_ANALYSIS"}),e.onmessage=t=>{t&&(window.open(t.data,"_blank"),e.terminate())}}})).catch({}))}}),(0,p.jsxs)("div",{className:pe,children:["detail"===r.get("n")?(0,p.jsx)(Ze,{oneStudentDetail:null===(t=m.state)||void 0===t?void 0:t.student,onRefetch:L,finalReportsSettings:null===F||void 0===F?void 0:F.finalReportsSettings}):(0,p.jsxs)("div",{className:fe,children:[(0,p.jsx)("div",{className:Se,children:null===I||void 0===I||null===(s=I.classes)||void 0===s||null===(d=s.ApproveStudent)||void 0===d?void 0:d.map(((e,t)=>(0,p.jsx)("div",{className:"No"===(null===e||void 0===e?void 0:e.finalReportStatus)?"".concat(Ne," ").concat(Ce):"".concat(Ne," ").concat(be),onClick:()=>(e=>{var t;null!==F&&void 0!==F&&null!==(t=F.finalReportsSettings)&&void 0!==t&&t.finalReport?u("/q/".concat(v.username,"/member/class/").concat(v.cname,"/?a=report&n=detail"),{state:{...o,student:e}}):(g(c("enable_final_report_toggle")),_(!0))})(e),children:(null===e||void 0===e?void 0:e.studentROLLNO)>9?null===e||void 0===e?void 0:e.studentROLLNO:"0".concat(null===e||void 0===e?void 0:e.studentROLLNO)},t)))}),(0,p.jsxs)("div",{className:Re,style:{marginTop:"1rem"},children:[(0,p.jsx)("div",{className:ye,children:c("download_all")}),(0,p.jsx)("div",{className:ke,children:c("send_online")}),(0,p.jsx)("div",{className:ke,onClick:()=>{N((e=>!e)),f({cid:a}).then((()=>{N((e=>!e))})).catch({})},children:c("finalize_all")}),(0,p.jsx)(Fe.Z,{label:"result_analysis",customStyle:{paddingBlock:"0.3rem",margin:"0"},onAction:D})]})]}),S&&(0,p.jsx)(P.Z,{}),(0,p.jsx)(Z.SY,{msg:x,run:h,setRun:_}),b.run&&(0,p.jsx)(Z.Ch,{msg:b.msg,run:b.run,setRun:()=>C({msg:"",run:!1}),postiton:"bottom",type:"success"})]})]})},Ke="Behaviour_checklist__3RLUA",Qe="Behaviour_form__QQU9w",ze="Behaviour_list__-rrDd";var Ve=l(16256),Xe=l(81693);const $e={behaviourForm:"BehaviourForm_behaviourForm__1A1Gb",bold:"BehaviourForm_bold__yagpx",behaviourFormInput:"BehaviourForm_behaviourFormInput__PQNSP",starbottom:"BehaviourForm_starbottom__Ubn4r",rating:"BehaviourForm_rating__7Jy-x",submit:"BehaviourForm_submit__es5JE",submitbtn:"BehaviourForm_submitbtn__3iJv0",improveInput:"BehaviourForm_improveInput__RTYL-"};const Je=function(e){var t,l,s,n;let{studentBehaviour:d,onRefetch:a}=e;const[o,c]=(0,i.useState)(null),[r,u]=(0,i.useState)(null),[v,m]=(0,i.useState)(!1),[h,_]=(0,i.useState)({improvements:"",lackIn:"",ratings:null}),{classStudentBehavour:x,classStudentBehavourRefetch:g}=(0,A.Bp)({data:{sid:null===d||void 0===d?void 0:d._id},skip:!(null!==d&&void 0!==d&&d.studentBehaviour)}),[j]=(0,A.z4)();(0,i.useEffect)((()=>{null!==d&&void 0!==d&&d.studentBehaviour&&g()}),[null===d||void 0===d?void 0:d.studentBehaviour,g]);const f=(e,t)=>{for(let l of t)if((null===l||void 0===l?void 0:l.key)===e)return(0,me.t)(null===l||void 0===l?void 0:l.tKey)};return(0,p.jsxs)("div",{className:$e.behaviourForm,children:[(0,p.jsxs)("h6",{children:[(0,p.jsxs)("span",{className:$e.bold,children:[" ",(0,me.t)("student_name")," "]})," ",null===d||void 0===d?void 0:d.studentFirstName," ",null!==d&&void 0!==d&&d.studentMiddleName?null===d||void 0===d?void 0:d.studentMiddleName:" "," ",null===d||void 0===d?void 0:d.studentLastName]}),(0,p.jsxs)("h6",{children:[(0,p.jsxs)("span",{className:$e.bold,children:[" ",(0,me.t)("student_roll_no")," "]})," ",null===d||void 0===d?void 0:d.studentROLLNO]}),null!==d&&void 0!==d&&d.studentBehaviour?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("input",{type:"text",maxLength:"50",disabled:!0,defaultValue:f(null===x||void 0===x||null===(t=x.student)||void 0===t?void 0:t.improvements,Ve.gO),readOnly:!0,className:$e.improveInput}),(0,p.jsx)("input",{type:"text",maxLength:"50",disabled:!0,defaultValue:f(null===x||void 0===x||null===(l=x.student)||void 0===l?void 0:l.lackIn,Ve.S2),readOnly:!0,className:$e.improveInput}),(0,p.jsxs)("div",{className:$e.starbottom,children:[(0,p.jsxs)("h6",{children:[" ",(0,me.t)("student_deserving_stars")," "]}),(0,p.jsxs)("div",{className:$e.rating,children:[[...Array(null===x||void 0===x||null===(s=x.student)||void 0===s?void 0:s.ratings)].map((e=>(0,p.jsx)("label",{children:(0,p.jsx)("img",{className:$e.yellow,src:"/images/members/star-yellow.svg",alt:""})},e))),[...Array(5-(null===x||void 0===x||null===(n=x.student)||void 0===n?void 0:n.ratings)||0)].map((e=>(0,p.jsx)("label",{children:(0,p.jsx)("img",{className:$e.yellow,src:"/images/members/star-grey.svg",alt:""})},e)))]})]})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Xe.Z,{selectLabel:(0,me.t)("student_improvements"),name:"improvements",onChange:e=>_({...h,improvements:e.target.value}),selectedValue:(0,me.t)("choose_student_improvements"),options:Ve.n8,optionsValue:Ve.pO,value:h.improvements}),(0,p.jsx)(Xe.Z,{selectLabel:(0,me.t)("student_lackIn"),name:"lackIn",onChange:e=>_({...h,lackIn:e.target.value}),selectedValue:(0,me.t)("choose_student_lackIn"),value:h.lackIn,options:Ve.XO,optionsValue:Ve.o9}),(0,p.jsxs)("div",{className:$e.starbottom,children:[(0,p.jsx)("h6",{children:(0,me.t)("student_deserving_stars")}),(0,p.jsx)("div",{className:$e.rating,children:[...Array(5)].map(((e,t)=>{const l=t+1;return(0,p.jsxs)("label",{children:[(0,p.jsx)("input",{value:l,onChange:e=>_({...h,ratings:parseInt(e.target.value)}),type:"radio",name:"rating",onClick:()=>c(l)}),l<=(r||o)?(0,p.jsx)("img",{className:$e.grey,src:"/images/members/star-yellow.svg",alt:""}):(0,p.jsx)("img",{className:$e.yellow,src:"/images/members/star-grey.svg",alt:""})]})}))})]}),(0,p.jsx)("div",{className:$e.submit,children:(0,p.jsx)("div",{className:$e.submitbtn,onClick:()=>{m((e=>!e)),j({sid:null===d||void 0===d?void 0:d._id,behaviour:h}).then((()=>{a(),m((e=>!e)),_({improvements:"",lackIn:"",ratings:null})})).catch({})},children:(0,me.t)("submit")})})]}),v&&(0,p.jsx)(P.Z,{})]})},et={studentList:"StudentList_studentList__7jWH+",box:"StudentList_box__zuo5l",green:"StudentList_green__HDsDz",purple:"StudentList_purple__tvx6q"};function tt(e){let{index:t,setStudentBehaviour:l,stu:s,clickedIndex:n,channgeIndex:d}=e;const[a,o]=(0,i.useState)(!1);return(0,p.jsx)("div",{onClick:()=>(l(s),o(!0),void d(t)),className:n===t||a&&n===t?"".concat(et.box," ").concat(et.green):null!==s&&void 0!==s&&s.studentBehaviour?"".concat(et.box," ").concat(et.purple):et.box,children:(null===s||void 0===s?void 0:s.studentROLLNO)>9?null===s||void 0===s?void 0:s.studentROLLNO:"0".concat(null===s||void 0===s?void 0:s.studentROLLNO)})}const lt=function(e){let{behaviourList:t,setStudentBehaviour:l,clickedIndex:i,channgeIndex:s}=e;return(0,p.jsx)("div",{className:et.studentList,children:null===t||void 0===t?void 0:t.map(((e,t)=>(0,p.jsx)(tt,{stu:e,index:t,clickedIndex:i,channgeIndex:s,setStudentBehaviour:l},t)))})};const it=function(e){var t;let{cid:l}=e;const[s,n]=(0,i.useState)(null),[d,a]=(0,i.useState)(null),{classAllStudent:o,classAllStudentRefetch:c}=(0,A.EY)({data:{cid:l,page:1,limit:30},skip:!l});return(0,i.useEffect)((()=>{l&&c()}),[l,c]),(0,p.jsxs)("div",{className:Ke,children:[(0,p.jsx)("div",{className:Qe,children:(0,p.jsx)(Je,{studentBehaviour:d,onRefetch:c})}),(0,p.jsx)("div",{className:ze,children:(0,p.jsx)(lt,{clickedIndex:s,channgeIndex:e=>n(e),behaviourList:null===o||void 0===o||null===(t=o.classes)||void 0===t?void 0:t.ApproveStudent,setStudentBehaviour:a})})]})},st="Checklist_exam_container__Udx5K",nt="Checklist_with_search__Dtefv",dt="Checklist_exam_card_container__o+Ro6",at="Checklist_exam_inner_text__jU1md",ot="Checklist_exam_date__lF1YK",ct="Checklist_imagedot__RrYj5",rt="Checklist_checklist_detail_header__1SJ+F";var ut=l(34219);const vt=e=>{var t,l;let{carryParentState:i,checklistDetail:s}=e;const{t:n}=(0,j.$G)();return(0,p.jsx)(N.Z,{carryParentState:{...i,checklistId:null===s||void 0===s?void 0:s._id,checklistName:null!==(t=null===s||void 0===s?void 0:s.checklistName)&&void 0!==t?t:"",showFees:!(null!==s&&void 0!==s&&s.checklistAmount)},activeTab:"checklist&detail",children:(0,p.jsxs)("div",{className:dt,title:"View checklist detail",children:[(0,p.jsx)("div",{className:ct,children:(0,p.jsx)("img",{src:"/images/members/checklist-icon.svg",alt:""})}),(0,p.jsxs)("div",{className:at,children:[(0,p.jsx)("h6",{children:null!==(l=null===s||void 0===s?void 0:s.checklistName)&&void 0!==l?l:""}),(0,p.jsx)("p",{children:Ie()(null===s||void 0===s?void 0:s.createdAt).format("DD MMMM YYYY")})]}),null!==s&&void 0!==s&&s.checklistAmount?(0,p.jsxs)("div",{className:ot,children:[(0,p.jsxs)("h6",{children:[n("rs"),". ",null===s||void 0===s?void 0:s.checklistAmount]}),(0,p.jsx)("p",{children:n("fees")})]}):""]})})},mt=e=>{var t;let{carryParentState:l,cid:s}=e;const{t:n}=(0,j.$G)(),[d,a]=(0,i.useState)(!0),[o,c]=(0,i.useState)([]),{classAllChecklist:r,classAllChecklistRefetch:u}=(0,A.BZ)({data:{cid:s,page:1,limit:20},skip:!s});return(0,i.useEffect)((()=>{s&&(u(),a(!0))}),[s,u]),(0,i.useEffect)((()=>{var e,t;null!==r&&void 0!==r&&null!==(e=r.checklist)&&void 0!==e&&e.length?(c(null===r||void 0===r?void 0:r.checklist),a(!1)):0===(null===r||void 0===r||null===(t=r.checklist)||void 0===t?void 0:t.length)&&a(!1)}),[null===r||void 0===r?void 0:r.checklist]),(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:st,children:[(0,p.jsx)("div",{className:nt,children:(0,p.jsx)("h6",{children:n("checklist")})}),(0,p.jsx)(I.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),null===o||void 0===o?void 0:o.map((e=>(0,p.jsx)(vt,{checklistDetail:e,carryParentState:l},e._id))),!d&&!(null!==r&&void 0!==r&&null!==(t=r.checklist)&&void 0!==t&&t.length)&&(0,p.jsx)(ut.Z,{customStyleContainer:{marginTop:"9rem"},title:"No any checklist found",subtitle:"Please make sure checklist have created for this class."}),d&&(0,p.jsx)(H.Z,{})]})})},ht=e=>{var t,l,s,n,d,a;let{student:o,checklistId:c,showFees:r,onRefetchWhenAction:u}=e;const[v,m]=(0,i.useState)(!1),[h]=(0,A.qy)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("section",{className:rt,children:[(0,p.jsx)("h6",{style:{width:"15%"},children:null!==(t=null===o||void 0===o?void 0:o.studentROLLNO)&&void 0!==t?t:0}),(0,p.jsx)("h6",{style:{width:r?"70%":"55%"},children:"".concat(null!==(l=null===o||void 0===o?void 0:o.studentFirstName)&&void 0!==l?l:""," ").concat(null!==(s=null===o||void 0===o?void 0:o.studentMiddleName)&&void 0!==s?s:""," ").concat(null!==(n=null===o||void 0===o?void 0:o.studentLastName)&&void 0!==n?n:"")}),r?"":(0,p.jsx)("h6",{style:{width:"15%",textAlign:"center"},children:(0,p.jsx)("img",{src:null!==o&&void 0!==o&&null!==(d=o.onlineCheckList)&&void 0!==d&&d.includes(c)?"/images/department/radio-blue-icon.svg":"/images/department/radio-gray-icon.svg",alt:"icon"})}),(0,p.jsx)("h6",{style:{width:"15%",textAlign:"center"},children:(0,p.jsx)("img",{src:null!==o&&void 0!==o&&null!==(a=o.allottedChecklist)&&void 0!==a&&a.includes(c)?"/images/department/radio-blue-icon.svg":"/images/department/radio-gray-icon.svg",alt:"icon",onClick:()=>{c&&(m((e=>!e)),h({cid:c,sid:null===o||void 0===o?void 0:o._id}).then((()=>{u(),m((e=>!e))})).catch({}))}})})]}),(0,p.jsx)(I.Z,{customStyle:{width:"100%"}}),v&&(0,p.jsx)(P.Z,{})]})},_t=()=>{var e,t,l,s,d,a,o,c,r;const{t:u}=(0,j.$G)(),v=(0,n.TH)(),[m,h]=(0,i.useState)(!0),[_,x]=(0,i.useState)(!1),[g,f]=(0,i.useState)([]),{classChecklistAllStudent:S,classChecklistAllStudentRefetch:N}=(0,A.rV)({data:{cid:null===(e=v.state)||void 0===e?void 0:e.checklistId,page:1,limit:20},skip:!(null!==(t=v.state)&&void 0!==t&&t.checklistId)});(0,i.useEffect)((()=>{var e;null!==(e=v.state)&&void 0!==e&&e.checklistId&&N()}),[null===(l=v.state)||void 0===l?void 0:l.checklistId,N]),(0,i.useEffect)((()=>{var e,t,l,i,s,n,d,a;_?null!==S&&void 0!==S&&null!==(e=S.checklist)&&void 0!==e&&null!==(t=e.studentsList)&&void 0!==t&&t.length&&(f(null===S||void 0===S||null===(l=S.checklist)||void 0===l?void 0:l.studentsList),h(!1),x(!1)):null!==S&&void 0!==S&&null!==(i=S.checklist)&&void 0!==i&&null!==(s=i.studentsList)&&void 0!==s&&s.length?(f(null===S||void 0===S||null===(a=S.checklist)||void 0===a?void 0:a.studentsList),h(!1)):0===(null===S||void 0===S||null===(n=S.checklist)||void 0===n||null===(d=n.studentsList)||void 0===d?void 0:d.length)&&h(!1)}),[null===S||void 0===S||null===(s=S.checklist)||void 0===s?void 0:s.studentsList]);const b=()=>{x(!0),N()};return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:st,children:[(0,p.jsx)("div",{className:nt,children:(0,p.jsx)("h6",{children:null===(d=v.state)||void 0===d?void 0:d.checklistName})}),(0,p.jsx)(I.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,p.jsxs)("section",{className:rt,children:[(0,p.jsx)("h6",{style:{width:"15%"},children:u("roll_number")}),(0,p.jsx)("h6",{style:{width:null!==(a=v.state)&&void 0!==a&&a.showFees?"70%":"55%"},children:u("name")}),null!==(o=v.state)&&void 0!==o&&o.showFees?"":(0,p.jsx)("h6",{style:{width:"15%",textAlign:"center"},children:u("fees")}),(0,p.jsx)("h6",{style:{width:"15%",textAlign:"center"},children:u("allotted")})]}),(0,p.jsx)(I.Z,{customStyle:{marginBottom:"0.6rem",width:"100%"}}),null===g||void 0===g?void 0:g.map((e=>{var t,l;return(0,p.jsx)(ht,{student:e,checklistId:null===(t=v.state)||void 0===t?void 0:t.checklistId,showFees:null===(l=v.state)||void 0===l?void 0:l.showFees,onRefetchWhenAction:b},e._id)})),!m&&!(null!==S&&void 0!==S&&null!==(c=S.checklist)&&void 0!==c&&null!==(r=c.studentsList)&&void 0!==r&&r.length)&&(0,p.jsx)(ut.Z,{customStyleContainer:{marginTop:"9rem"},title:"No any checklist student found.",subtitle:"Please make sure when checklist created for this class then student here."}),m&&(0,p.jsx)(H.Z,{})]})})},xt="Leaves_leaves__sXX59",gt="Leaves_leavesHead__ool7a",jt="Leaves_leaveCardContainer__Z5Z7N",pt="Leaves_leaveCard__NBI+w",ft="Leaves_leaveCardTop__iAOE4",St="Leaves_leaveCardTopLeft__425dL",Nt="Leaves_leaveCardTopRight__fWsWD",bt="Leaves_leaveCardTopLeftRight__pDAuk",Ct="Leaves_rightbtnleft__i7GAJ",Rt="Leaves_rightbtnright__2fo9Y",yt="Leaves_leaveCardbottom__pSWYB";const kt=function(e){var t,l,s,n,d,a,o;let{leave:c,onRefetch:r}=e;const{t:u}=(0,j.$G)(),[v,m]=(0,i.useState)(!1),[h]=(0,A.cX)(),_=e=>{m((e=>!e)),h({sid:null===c||void 0===c?void 0:c._id,action:{status:e}}).then((()=>{r(),m((e=>!e))})).catch({})};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:pt,children:[(0,p.jsxs)("div",{className:ft,children:[(0,p.jsxs)("div",{className:St,children:[(0,p.jsx)("img",{src:null!==c&&void 0!==c&&null!==(t=c.student)&&void 0!==t&&t.studentProfilePhoto?"".concat(S.yI,"/").concat(null===c||void 0===c||null===(l=c.student)||void 0===l?void 0:l.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""}),(0,p.jsxs)("div",{className:bt,children:[(0,p.jsxs)("h6",{children:[null===c||void 0===c||null===(s=c.student)||void 0===s?void 0:s.studentFirstName,null!==c&&void 0!==c&&null!==(n=c.student)&&void 0!==n&&n.studentMiddleName?null===c||void 0===c||null===(d=c.student)||void 0===d?void 0:d.studentMiddleName:" ",null===c||void 0===c||null===(a=c.student)||void 0===a?void 0:a.studentLastName]}),(null===c||void 0===c?void 0:c.date)&&(0,p.jsxs)("p",{children:[u("from")," ",null===c||void 0===c?void 0:c.date[0]," ",u("to")," ",null===c||void 0===c?void 0:c.date[(null===c||void 0===c||null===(o=c.date)||void 0===o?void 0:o.length)-1]]})]})]}),(0,p.jsx)("div",{className:Nt,children:"Request"!==(null===c||void 0===c?void 0:c.status)?(0,p.jsx)("div",{className:Ct,children:null===c||void 0===c?void 0:c.status}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:Ct,onClick:()=>_("Rejected"),children:u("reject")}),(0,p.jsx)("div",{className:Rt,onClick:()=>_("Accepted"),children:u("accept")})]})})]}),(0,p.jsx)("div",{className:yt,children:null===c||void 0===c?void 0:c.reason})]}),v&&(0,p.jsx)(P.Z,{})]})};const At=function(e){var t;let{cid:l}=e;const{classAllLeaveRequest:s,classAllLeaveRequestRefetch:n}=(0,A.zv)({data:{cid:l,page:1,limit:50},skip:!l});(0,i.useEffect)((()=>{l&&n()}),[l,n]);const{t:d}=(0,j.$G)();return(0,p.jsxs)("div",{className:xt,children:[(0,p.jsx)("h6",{className:gt,children:d("leaves_and_transfer")}),(0,p.jsx)("div",{className:jt,children:null===s||void 0===s||null===(t=s.allLeave)||void 0===t?void 0:t.map((e=>(0,p.jsx)(kt,{leave:e,onRefetch:n},null===e||void 0===e?void 0:e._id)))})]})},Et="Complaints_complaints__BN2Dw",Tt="Complaints_complaintList__D8CnM",It="ComplaintList_complaintList__URfqa",Lt="ComplaintList_listHead__6YhqD",Zt="ComplaintList_tabss__IGdWf",Ft="ComplaintList_tabb__DDcSF",Pt="ComplaintList_tabActive__CTIfZ",Mt={list:"UnsolvedList_list__mFfW3",item:"UnsolvedList_item__JMvLi",datetime:"UnsolvedList_datetime__Yxaa1"},Dt={addDisplay:"ComplaintModal_addDisplay__wOiKX",title:"ComplaintModal_title__zyvpl",text:"ComplaintModal_text__bzm7X",content:"ComplaintModal_content__rujmS",footer:"ComplaintModal_footer__lrrhB",btn:"ComplaintModal_btn__3s+Vt"};var wt=l(5574);const Ot=function(e){var t,l,s,n,d,a,o,c,r,u,v,m;let{addDisplay:h,setAddDisplay:_,complaintId:x,onRefetch:g}=e;const{t:f}=(0,j.$G)(),[S,N]=(0,i.useState)(!1),{classComplaintDetail:b,classComplaintDetailRefetch:C}=(0,A.y)({data:{cid:x},skip:!x}),[R]=(0,A.l9)();return(0,i.useEffect)((()=>{x&&C()}),[x,C]),(0,p.jsxs)(wt.Z,{open:h,onClose:()=>{_(!1)},children:[(0,p.jsxs)("div",{className:Dt.addDisplay,children:[(0,p.jsxs)("div",{className:Dt.title,children:[(0,p.jsx)("img",{src:"/images/complaint-white.svg",alt:""}),(0,p.jsxs)("div",{className:Dt.text,children:[(0,p.jsx)("div",{className:Dt.insName,children:(0,p.jsx)("h6",{children:"Open"===(null===b||void 0===b||null===(t=b.complaint)||void 0===t?void 0:t.complaintType)?"".concat(null===b||void 0===b||null===(l=b.complaint)||void 0===l||null===(s=l.student)||void 0===s?void 0:s.studentFirstName,"\n        ").concat(null!==b&&void 0!==b&&null!==(n=b.complaint)&&void 0!==n&&null!==(d=n.student)&&void 0!==d&&d.studentMiddleName?null===b||void 0===b||null===(a=b.complaint)||void 0===a||null===(o=a.student)||void 0===o?void 0:o.studentMiddleName:" ","\n        ").concat(null===b||void 0===b||null===(c=b.complaint)||void 0===c||null===(r=c.student)||void 0===r?void 0:r.studentLastName):"Anonymous"})}),(0,p.jsx)("div",{className:Dt.insUserName,children:(0,p.jsx)("p",{children:Ie()(null===b||void 0===b||null===(u=b.complaint)||void 0===u?void 0:u.createdAt).format("DD-MM-YYYY")})})]})]}),(0,p.jsx)("div",{className:Dt.content,children:null===b||void 0===b||null===(v=b.complaint)||void 0===v?void 0:v.complaintContent}),"Solved"!==(null===b||void 0===b||null===(m=b.complaint)||void 0===m?void 0:m.complaintStatus)?(0,p.jsx)("div",{className:Dt.footer,children:(0,p.jsx)("div",{className:Dt.btn,onClick:()=>{var e;"Solved"===(null===b||void 0===b||null===(e=b.complaint)||void 0===e?void 0:e.complaintStatus)||(N((e=>!e)),R({cid:x,complaintSolve:{status:"Solved"}}).then((()=>{g(),N((e=>!e))})).catch({}))},children:f("Solved")})}):""]}),S&&(0,p.jsx)(P.Z,{})]})};function qt(e){var t,l,s,n;let{complaint:d,onRefetch:a}=e;const[o,c]=(0,i.useState)(!1);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:Mt.item,onClick:()=>c((e=>!e)),children:[(0,p.jsx)("img",{src:"/images/complainIcon.svg",alt:""}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h6",{children:"Open"===(null===d||void 0===d?void 0:d.complaintType)?"".concat(null===d||void 0===d||null===(t=d.student)||void 0===t?void 0:t.studentFirstName,"\n        ").concat(null!==d&&void 0!==d&&null!==(l=d.student)&&void 0!==l&&l.studentMiddleName?null===d||void 0===d||null===(s=d.student)||void 0===s?void 0:s.studentMiddleName:" ","\n        ").concat(null===d||void 0===d||null===(n=d.student)||void 0===n?void 0:n.studentLastName):"Anonymous"}),(0,p.jsx)("div",{className:Mt.datetime,children:(0,p.jsx)("p",{children:Ie()(null===d||void 0===d?void 0:d.createdAt).format("DD-MM-YYYY")})})]})]}),o&&(0,p.jsx)(Ot,{setAddDisplay:c,addDisplay:o,complaintId:null===d||void 0===d?void 0:d._id,onRefetch:a})]})}const Gt=function(e){var t;let{cid:l}=e;const{classAllComplaint:s,classAllComplaintRefetch:n}=(0,A.xW)({data:{cid:l,status:"Unsolved",page:1,limit:50},skip:!l});return(0,i.useEffect)((()=>{l&&n()}),[l,n]),(0,p.jsx)("div",{className:Mt.list,children:null===s||void 0===s||null===(t=s.complaints)||void 0===t?void 0:t.map((e=>(0,p.jsx)(qt,{complaint:e,onRefetch:n},null===e||void 0===e?void 0:e._id)))})},Bt={list:"SolvedList_list__hPx07",item:"SolvedList_item__OhPy9",datetime:"SolvedList_datetime__HnVBa"};function Wt(e){var t,l,s,n;let{complaint:d}=e;const[a,o]=(0,i.useState)(!1);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:Bt.item,onClick:()=>o((e=>!e)),children:[(0,p.jsx)("img",{src:"/images/complainIcon.svg",alt:""}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h6",{children:"Open"===(null===d||void 0===d?void 0:d.complaintType)?"".concat(null===d||void 0===d||null===(t=d.student)||void 0===t?void 0:t.studentFirstName,"\n        ").concat(null!==d&&void 0!==d&&null!==(l=d.student)&&void 0!==l&&l.studentMiddleName?null===d||void 0===d||null===(s=d.student)||void 0===s?void 0:s.studentMiddleName:" ","\n        ").concat(null===d||void 0===d||null===(n=d.student)||void 0===n?void 0:n.studentLastName):"Anonymous"}),(0,p.jsx)("div",{className:Bt.datetime,children:(0,p.jsx)("p",{children:Ie()(null===d||void 0===d?void 0:d.createdAt).format("DD-MM-YYYY")})})]})]}),a&&(0,p.jsx)(Ot,{setAddDisplay:o,addDisplay:a,complaintId:null===d||void 0===d?void 0:d._id})]})}const Ut=function(e){var t;let{cid:l}=e;const{classAllComplaint:s,classAllComplaintRefetch:n}=(0,A.xW)({data:{cid:l,status:"Solved",page:1,limit:50},skip:!l});return(0,i.useEffect)((()=>{l&&n()}),[l,n]),(0,p.jsx)("div",{className:Bt.list,children:null===s||void 0===s||null===(t=s.complaints)||void 0===t?void 0:t.map((e=>(0,p.jsx)(Wt,{complaint:e},null===e||void 0===e?void 0:e._id)))})};const Yt=function(e){let{cid:t}=e;const{t:l}=(0,j.$G)(),[s,n]=(0,i.useState)(!1);return(0,p.jsxs)("div",{className:It,children:[(0,p.jsxs)("div",{className:Zt,children:[(0,p.jsx)("div",{className:s?Ft:"".concat(Ft," ").concat(Pt),onClick:()=>n(!1),children:l("unsolved")}),(0,p.jsx)("div",{className:s?"".concat(Ft," ").concat(Pt):Ft,onClick:()=>n(!0),children:l("Solved")})]}),(0,p.jsx)("div",{className:Lt,children:s?(0,p.jsx)(Ut,{cid:t}):(0,p.jsx)(Gt,{cid:t})})]})};const Ht=function(e){let{cid:t}=e;return(0,p.jsx)("div",{className:Et,children:(0,p.jsx)("div",{className:Tt,children:(0,p.jsx)(Yt,{cid:t})})})};var Kt=l(74522),Qt=l(79756),zt=l(91490),Vt=l(10406),Xt=l(76452),$t=l(26416);const Jt=[{name:"Subject",Subject:"Subject",isRequired:!0},{name:"SubjectStatus",SubjectStatus:"SubjectStatus",isRequired:!0},{name:"SubjectBatch",SubjectBatch:"SubjectBatch",isRequired:!0},{name:"Monday",Monday:"Monday",isRequired:!1},{name:"Tuesday",Tuesday:"Tuesday",isRequired:!1},{name:"Wednesday",Wednesday:"Wednesday",isRequired:!1},{name:"Thursday",Thursday:"Thursday",isRequired:!1},{name:"Friday",Friday:"Friday",isRequired:!1},{name:"Saturday",Saturday:"Saturday",isRequired:!1},{name:"Sunday",Sunday:"Sunday",isRequired:!1}];var el=l(63687),tl=l(56959),ll=l(70179),il=l(8905),sl=l(19321),nl=l(64046),dl=l(69718),al=l(8754),ol=l(75045),cl=l(20292),rl=l(95078),ul=l(98148);const vl=e=>{let{clsId:t,stid:l}=e;const{t:s}=(0,j.$G)(),d=(0,n.TH)(),a=(0,n.s0)(),o=(0,n.UO)(),[c]=(0,q.lr)(),[r,u]=(0,i.useState)(!1),[v,m]=(0,i.useState)(!1),h=()=>{u((e=>!e))},_=()=>{m((e=>!e))},x=()=>{a("/q/".concat(o.username,"/member/class/").concat(o.cname,"?a=store&n=request"),{state:d.state})};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(el.Z,{children:[(0,p.jsx)(Ue.Z,{children:(0,p.jsxs)("div",{className:tl.Z.fm_header_container,children:[(0,p.jsxs)("div",{className:tl.Z.fm_header_start_container,children:[(0,p.jsx)("img",{alt:"search icon",src:"".concat(De.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:()=>{a("/q/".concat(o.username,"/member/class/").concat(o.cname),{state:d.state})}}),(0,p.jsx)("h6",{children:s("store")})]}),(0,p.jsxs)("div",{className:tl.Z.fm_header_start_container,children:[(0,p.jsx)(Fe.Z,{label:"request_stock",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:h}),(0,p.jsx)(Fe.Z,{label:"return_stock",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:_})]})]})}),(0,p.jsx)(we.Z,{}),(0,p.jsx)(ll.Z,{inititalUrl:"/q/".concat(o.username,"/member/class/").concat(o.cname,"?a=store"),parentState:d.state}),(0,p.jsx)(Ue.Z,{children:"request"===c.get("n")?(0,p.jsx)(il.Z,{flow:"Class",mid:t}):"issue"===c.get("n")?(0,p.jsx)(sl.Z,{flow:"Class",mid:t}):"stocktake"===c.get("n")?(0,p.jsx)(nl.Z,{flow:"Class",mid:t}):"consumption"===c.get("n")?(0,p.jsx)(dl.Z,{flow:"Class",mid:t}):"return"===c.get("n")?(0,p.jsx)(al.Z,{flow:"Class",mid:t}):"maintenance"===c.get("n")?(0,p.jsx)(ol.Z,{flow:"Class",mid:t}):(0,p.jsx)(cl.Z,{flow:"Class",mid:t})})]}),r&&(0,p.jsx)(rl.Z,{onNavigate:x,onClose:h,mid:t,stid:l,flow:"Class"}),v&&(0,p.jsx)(ul.Z,{onNavigate:x,onClose:_,mid:t,stid:l,flow:"Custom"})]})};const ml=function(e){var t,l,s,a,o,c,r,u,v,m,h,_,x,g,f,S,N,b,C,R,y,k,T,L,Z,F,M,w,O,q,G,B,W,U,Y,H,K,Q,z,V,X,J,ee,te,le,ie,se,ne;let{onClickValue:de,carryParentState:ae}=e;const re=(0,n.TH)(),{t:ue}=(0,j.$G)(),[ve,me]=(0,i.useState)(!1),[he,_e]=(0,i.useState)(!1),[xe]=(0,A.rW)(),{classProfile:ge,classProfileRefetch:pe}=(0,A.ek)(null===de||void 0===de?void 0:de._id);i.useEffect((()=>{null!==de&&void 0!==de&&de._id&&pe()}),[null===de||void 0===de?void 0:de._id,pe]);const fe=()=>{me((e=>!e))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:d,children:[!(null!==re&&void 0!==re&&re.search)&&(0,p.jsx)(E,{classProfile:null===ge||void 0===ge?void 0:ge.classes,carryParentState:ae,cid:null===de||void 0===de?void 0:de._id}),(null===re||void 0===re?void 0:re.search)&&(0,p.jsxs)("div",{children:["catalog"===(null===re||void 0===re||null===(t=re.search)||void 0===t?void 0:t.substring(3,10))&&(0,p.jsx)($,{cid:null===ge||void 0===ge||null===(l=ge.classes)||void 0===l?void 0:l._id,instituteId:null===ge||void 0===ge||null===(s=ge.classes)||void 0===s||null===(a=s.institute)||void 0===a?void 0:a._id,carryParentState:ae}),"attendance"===(null===re||void 0===re||null===(o=re.search)||void 0===o?void 0:o.substring(3))&&(0,p.jsx)(ce.Z,{cid:null===ge||void 0===ge||null===(c=ge.classes)||void 0===c?void 0:c._id,className:"".concat(null===ge||void 0===ge||null===(r=ge.classes)||void 0===r?void 0:r.className," - ").concat(null===ge||void 0===ge||null===(u=ge.classes)||void 0===u?void 0:u.classTitle)}),"time-table"===(null===re||void 0===re||null===(v=re.search)||void 0===v?void 0:v.substring(3))&&(0,p.jsxs)("div",{className:Vt.Z.hostel_container,children:[(0,p.jsxs)("div",{className:Vt.Z.with_search,children:[(0,p.jsx)("h6",{children:ue("time_table")}),(0,p.jsx)("img",{src:"/images/member_tab/subject/subject-excel-icon.svg",alt:"excel icon",style:{cursor:"pointer"},onClick:fe})]}),(0,p.jsx)(I.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,p.jsx)(zt.Z,{clsId:null===ge||void 0===ge||null===(m=ge.classes)||void 0===m?void 0:m._id})]}),"leave"===(null===re||void 0===re||null===(h=re.search)||void 0===h?void 0:h.substring(3))&&(0,p.jsx)(At,{cid:null===ge||void 0===ge||null===(_=ge.classes)||void 0===_?void 0:_._id}),"fees"===(null===re||void 0===re||null===(x=re.search)||void 0===x?void 0:x.substring(3))&&(0,p.jsx)(je,{cid:null===ge||void 0===ge||null===(g=ge.classes)||void 0===g?void 0:g._id}),"checklist"===(null===re||void 0===re||null===(f=re.search)||void 0===f?void 0:f.substring(3))&&(0,p.jsx)(mt,{cid:null===ge||void 0===ge||null===(S=ge.classes)||void 0===S?void 0:S._id,carryParentState:ae}),"behaviour"===(null===re||void 0===re||null===(N=re.search)||void 0===N?void 0:N.substring(3))&&(0,p.jsx)(it,{cid:null===ge||void 0===ge||null===(b=ge.classes)||void 0===b?void 0:b._id}),"report"===(null===re||void 0===re||null===(C=re.search)||void 0===C?void 0:C.substring(3,9))&&(0,p.jsx)(He,{cid:null===ge||void 0===ge||null===(R=ge.classes)||void 0===R?void 0:R._id,carryParentState:ae}),"promote"===(null===re||void 0===re||null===(y=re.search)||void 0===y?void 0:y.substring(3))&&(0,p.jsx)(Kt.Z,{classId:null===ge||void 0===ge||null===(k=ge.classes)||void 0===k?void 0:k._id}),"complaint"===(null===re||void 0===re||null===(T=re.search)||void 0===T?void 0:T.substring(3))&&(0,p.jsx)(Ht,{cid:null===ge||void 0===ge||null===(L=ge.classes)||void 0===L?void 0:L._id}),"setting"===(null===re||void 0===re||null===(Z=re.search)||void 0===Z?void 0:Z.substring(3))&&(0,p.jsx)(D,{cid:null===ge||void 0===ge||null===(F=ge.classes)||void 0===F?void 0:F._id,startDate:null===ge||void 0===ge||null===(M=ge.classes)||void 0===M?void 0:M.classStartDate,classCode:null===ge||void 0===ge||null===(w=ge.classes)||void 0===w?void 0:w.classCode,classStatus:null===ge||void 0===ge||null===(O=ge.classes)||void 0===O?void 0:O.classStatus}),"request"===(null===re||void 0===re||null===(q=re.search)||void 0===q?void 0:q.substring(3))&&(0,p.jsx)(oe,{cid:null===ge||void 0===ge||null===(G=ge.classes)||void 0===G?void 0:G._id,id:null===ge||void 0===ge||null===(B=ge.classes)||void 0===B||null===(W=B.institute)||void 0===W?void 0:W._id,did:null===ge||void 0===ge||null===(U=ge.classes)||void 0===U||null===(Y=U.department)||void 0===Y?void 0:Y._id,bid:null===ge||void 0===ge||null===(H=ge.classes)||void 0===H||null===(K=H.batch)||void 0===K?void 0:K._id}),"checklist&detail"===(null===re||void 0===re||null===(Q=re.search)||void 0===Q?void 0:Q.substring(3))&&(0,p.jsx)(_t,{}),"batch-detail"===(null===re||void 0===re||null===(z=re.search)||void 0===z?void 0:z.substring(3))&&(0,p.jsx)(Qt.Z,{cid:null===ge||void 0===ge||null===(V=ge.classes)||void 0===V?void 0:V._id,masterBatchId:null===ge||void 0===ge||null===(X=ge.classes)||void 0===X||null===(J=X.batch)||void 0===J?void 0:J._id}),("subject"===(null===(ee=re.search)||void 0===ee?void 0:ee.substring(3,10))||"assignment"===(null===(te=re.search)||void 0===te?void 0:te.substring(3,13)))&&(0,p.jsx)(Xt.Z,{carryParentState:ae,viewAs:"CLASS_TEACHER"}),"store"===(null===re||void 0===re||null===(le=re.search)||void 0===le?void 0:le.substring(3,8))&&(0,p.jsx)(vl,{clsId:null===de||void 0===de?void 0:de._id,stid:null===ge||void 0===ge||null===(ie=ge.classes)||void 0===ie||null===(se=ie.institute)||void 0===se||null===(ne=se.storeDepart)||void 0===ne?void 0:ne[0]})]})]}),ve&&(0,p.jsx)($t.Z,{onClose:fe,onImportFileInSystem:(e,t)=>{fe(),_e(!0),xe({cid:null===de||void 0===de?void 0:de._id,excelFile:{excel_file:e,excel_count:t}}).then((()=>{_e(!1)})).catch({})},requiredFormat:Jt}),he&&(0,p.jsx)(P.Z,{})]})},hl=()=>{var e,t,l,i,d,a;const o=(0,n.TH)();return(0,p.jsx)(s.Z,{index:"2",sid:null!==(e=null===o||void 0===o||null===(t=o.state)||void 0===t?void 0:t.sid)&&void 0!==e?e:"",onClickValue:null!==(l=null===o||void 0===o||null===(i=o.state)||void 0===i?void 0:i.onClickValue)&&void 0!==l?l:"",children:(0,p.jsx)(ml,{onClickValue:null!==(d=null===o||void 0===o||null===(a=o.state)||void 0===a?void 0:a.onClickValue)&&void 0!==d?d:"",carryParentState:null===o||void 0===o?void 0:o.state})})}},41127:(e,t,l)=>{"use strict";l.d(t,{c:()=>u,l:()=>r});var i=l(83426),s=l(94811);const n=e=>e.query({query:e=>{var t;return"/class/tab/manage/".concat(null===e||void 0===e?void 0:e.did,"/query?flow=").concat(null!==(t=null===e||void 0===e?void 0:e.flow)&&void 0!==t?t:"")},providesTags:["Tab_Manage"],serializeQueryArgs:e=>{let{endpointName:t}=e;return t},forceRefetch(e){let{currentArg:t,previousArg:l}=e;return t!==l}}),d=e=>e.mutation({query:e=>({url:"/class/tab/manage/".concat(null===e||void 0===e?void 0:e.did,"/query"),method:s.Q0,body:e.tabManage}),invalidatesTags:["Tab_Manage"]}),a=i.H.injectEndpoints({endpoints:e=>({classTabManage:n(e),classTabController:d(e)})}),{useClassTabManageQuery:o,useClassTabControllerMutation:c}=a,r=e=>{const{data:t,refetch:l,isFetching:i}=o(e.data,{skip:e.skip});return{classTabManage:t,classTabManageRefetch:l,classTabManageLoading:i}},u=()=>{const[e]=c();return[e]}},55336:(e,t,l)=>{"use strict";l.d(t,{Z:()=>n});var i=l(63244),s=l(80184);const n=()=>(0,s.jsx)("div",{className:i.Z.qviple_loader_backdrop,children:(0,s.jsx)("div",{className:i.Z.qviple_loader_container,children:(0,s.jsx)("div",{className:i.Z.qviple_loader_rotation})})})},79992:(e,t,l)=>{"use strict";l.d(t,{ZH:()=>s});var i=l(44816);const s=e=>{var t=i.AES.decrypt(e,"QVIPLESAASPLATFORM");return JSON.parse(t.toString(i.enc.Utf8))}},90904:(e,t,l)=>{"use strict";l.d(t,{Z:()=>n});const i="BorderBottom_split_content__RVPoh";var s=l(80184);const n=e=>{let{customStyleBorder:t}=e;return(0,s.jsx)("hr",{className:i,style:t})}},77392:(e,t,l)=>{"use strict";l.d(t,{Z:()=>i});const i={setting_conatiner:"Setting_setting_conatiner__2sMOi",setting_passing:"Setting_setting_passing__QWY9k",label:"Setting_label__fgT77",inputBox:"Setting_inputBox__HiMYD",confirm_input:"Setting_confirm_input__GxyS0",setting_complete:"Setting_setting_complete__0WSev",confirm_conatiner:"Setting_confirm_conatiner__ryUrl",confirm_title:"Setting_confirm_title__igOJ7",confirm_title_heading:"Setting_confirm_title_heading__47mZx"}},63244:(e,t,l)=>{"use strict";l.d(t,{Z:()=>i});const i={qviple_loader_backdrop:"Loader_qviple_loader_backdrop__ScdYl",qviple_loader_container:"Loader_qviple_loader_container__SXQ9Y",qviple_loader_rotation:"Loader_qviple_loader_rotation__ltsgT",qviple_loader_rotation_animation:"Loader_qviple_loader_rotation_animation__gy3+j",q_loading:"Loader_q_loading__bwe2c",circle_loading:"Loader_circle_loading__m+ptB",rotate_animation:"Loader_rotate_animation__IV2sY"}},16925:(e,t,l)=>{"use strict";l.d(t,{Z:()=>i});const i={right:"Income_right__XnzYj",rightHead:"Income_rightHead__1rLc6",rightBody:"Income_rightBody__fGEC5",income_detail:"Income_income_detail__IWoJa",detailTop:"Income_detailTop__4JXuu",detailTopMid:"Income_detailTopMid__yc2yv",modal_container:"Income_modal_container__HiGr+",modal_container_outer_header:"Income_modal_container_outer_header__F9c7X",modal_container_header:"Income_modal_container_header__td-Fb",card_container:"Income_card_container__ewKhQ",card_container_image:"Income_card_container_image__5XloP",card_container_inner:"Income_card_container_inner__JBmxr",admission_fees_row:"Income_admission_fees_row__MPJCs",close_icon:"Income_close_icon__Ozq4u",student_message_container:"Income_student_message_container__8KnPc",student_message_container_inner:"Income_student_message_container_inner__mRYpD",usm_institute_container:"Income_usm_institute_container__4LkYt",usm_institute:"Income_usm_institute__hlzdF",date_select:"Income_date_select__D3VkU",gsf_star_container:"Income_gsf_star_container__7gdUs",afsi_container:"Income_afsi_container__7u06w"}},42480:()=>{}}]);
//# sourceMappingURL=51919.2c4191fa.chunk.js.map