"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[85873,2602],{2602:function(t,n,o){o.r(n),o.d(n,{default:function(){return P}});var e=o(29439),i=o(72791),a=o(95048),s=o(16256),r=o(39480),l=o(9447),u=o(12923),c=o(70092),d="Menu_profileToolTip__syFxM",v="Menu_profileToolTipPopup__BnSgN",m="Menu_triangle__drjgu",f="Menu_trianglePopup__CdR-r",p="Menu_triangleNotPopup__FxBQr",h="Menu_profilelist__gZkQm",_=o(39230),g=o(80184);var P=function(t){var n=t.options,o=t.authorId,P=t.setDotsClicked,M=t.pid,x=t.postType,k=t.status,I=t.commentStatus,C=t.allPosts,S=t.popup,N=(0,_.$G)().t,j=(0,a.v9)((function(t){return t.idChange})),Z=i.useState(!0),w=(0,e.Z)(Z,2),y=w[0],L=w[1],R=(0,a.I0)(),U=(0,u.yx)(),A=(0,e.Z)(U,1)[0],T=(0,l.z$)(),O=(0,e.Z)(T,1)[0],b=(0,l.MB)(),D=(0,e.Z)(b,1)[0],F=(0,l.IG)(),z=(0,e.Z)(F,1)[0],E=(0,l.bB)(),J=(0,e.Z)(E,1)[0],B=(0,r.p0)({data:{id:null===j||void 0===j?void 0:j.id,type:"ID"},skip:y}).oneInstituteProfileRefetch,Q=(0,i.useRef)(null),W=function(t){if("post_unfollow"===t){var n=function(t){for(var n=[],o=0;o<(null===C||void 0===C?void 0:C.length);o++)C[o].author!==t&&n.push(C[o]);return n}(o);R(c.p.unfollowPost({posts:n})),P(!1),A({followId:o}).then((function(){})).catch({})}else"post_visibility"===t?(R(c.p.changeVisibility({pid:M,status:"Anyone"===k?"Private":"Anyone"})),P(!1),O({pid:M,viewAs:s.UJ,postUpdate:{postStatus:"Anyone"===k?"Private":"Anyone"}}).then((function(){})).catch({})):"post_delete"===t?(R(c.p.deletePost({pid:M})),P(!1),"Question"===x?z({id:null===j||void 0===j?void 0:j.id,viewAs:s.UJ,pid:M}).then((function(){})).catch({}):D({id:null===j||void 0===j?void 0:j.id,viewAs:s.UJ,pid:M}).then((function(){L(!1),B()})).catch({})):"turn_off_comment"===t&&(R(c.p.turnOffComment({pid:M,status:"On"===I?"Off":"On"})),P(!1),J({pid:M,commentFeature:{comment_turned:"On"===I?"Off":"On"}}).then((function(){})).catch({}))},G=function(t){t.target.style.zIndex&&"50"===t.target.style.zIndex||P(!1)};return(0,i.useEffect)((function(){return document.addEventListener("click",G,!0),function(){document.removeEventListener("click",G,!0)}}),[]),(0,g.jsxs)("div",{className:S?"".concat(d," ").concat(v):d,id:"menuTooltip",children:[(0,g.jsx)("div",{className:S?"".concat(m," ").concat(f):"".concat(m," ").concat(p)}),(0,g.jsx)("div",{className:h,children:n.map((function(t,n){return(0,g.jsx)("div",{ref:Q,style:{zIndex:"50"},value:t,onClick:function(){return W(t)},children:N(t)},n)}))})]})}},85873:function(t,n,o){o.r(n),o.d(n,{default:function(){return M}});var e=o(29439),i=o(72791),a={postModal:"PostModal_postModal__XCCny",horizontalLine:"PostModal_horizontalLine__tQ5PE",modalLeft:"PostModal_modalLeft__Ifdw1",postImg:"PostModal_postImg__NLU8b",modalIndex:"PostModal_modalIndex__8s2NJ",modalRight:"PostModal_modalRight__XciKb",rightTop:"PostModal_rightTop__T5nxm",imgcontainer2:"PostModal_imgcontainer2__lMEfz",eachpostUserName:"PostModal_eachpostUserName__tgPsv",textSection:"PostModal_textSection__COHVS",postText:"PostModal_postText__u6Yeh",textDes:"PostModal_textDes__GW0EE",postModalTop:"PostModal_postModalTop__SYS7R",imgcontainer:"PostModal_imgcontainer__DvmT7",postModalImg:"PostModal_postModalImg__XPk-q",anndoc:"PostModal_anndoc__6JWWf",commentSection:"PostModal_commentSection__jJ-nQ",postbttn:"PostModal_postbttn__nypsR"},s=o(5574),r=o(69721),l=o(93006),u=o(94302),c=o(2602),d=o(70092),v=o(9447),m=o(95048),f=o(11968),p=o.n(f),h=o(39230),_=o(16256),g=o(40385),P=o(80184);var M=function(t){var n=t.open,o=t.hideModal,f=t.selectOptions,M=t.post,x=t.profilePost,k=t.allPosts,I=(0,i.useState)(!1),C=(0,e.Z)(I,2),S=C[0],N=C[1],j=(0,i.useState)(null===M||void 0===M?void 0:M.commentCount),Z=(0,e.Z)(j,2),w=Z[0],y=Z[1],L=(0,i.useRef)(""),R=(0,v.es)(),U=(0,e.Z)(R,1)[0],A=(0,m.I0)(),T=(0,h.$G)().t,O=function(){N(!1)};return(0,P.jsxs)(s.Z,{open:n,onClose:function(){return o(!1)},children:[(0,P.jsxs)("div",{className:a.postModal,children:[(0,P.jsxs)("div",{className:a.postModalTop,children:[(0,P.jsx)("img",{src:"/images/menu-dots-icon.svg",alt:"",className:a.menu,onClick:function(){return N((function(t){return!t}))}}),(0,P.jsx)("img",{src:"/images/close-post-icon.svg",alt:"",className:a.menu,onClick:function(){return o(!1)}})]}),(0,P.jsx)("div",{className:a.horizontalLine}),"1"!==(null===M||void 0===M?void 0:M.imageId)&&1===(null===M||void 0===M?void 0:M.postImage.length)&&(0,P.jsx)("img",{src:"".concat(r.yI,"/").concat(null===M||void 0===M?void 0:M.postImage[0]),className:a.postModalImg,alt:"post img"}),"1"!==(null===M||void 0===M?void 0:M.imageId)&&(null===M||void 0===M?void 0:M.postImage.length)>1&&(0,P.jsx)(p(),{className:"Example",autoPlay:!1,indicators:!0,navButtonsAlwaysVisible:!1,navButtonsAlwaysInvisible:!1,next:function(t,n){},prev:function(t,n){},onChange:function(t,n){},children:null===M||void 0===M?void 0:M.postImage.map((function(t,n){return(0,P.jsxs)("div",{className:a.anndoc,children:[(0,P.jsxs)("p",{className:a.modalIndex,children:[n+1,"/",null===M||void 0===M?void 0:M.postImage.length]}),(0,P.jsx)("img",{className:a.selectedImg,src:"".concat(r.yI,"/").concat(t),alt:"client"})]},n)}))}),(0,P.jsx)(g.Z,{likeCount:null===M||void 0===M?void 0:M.likeCount,endUserLike:null===M||void 0===M?void 0:M.endUserLike,endUserSave:null===M||void 0===M?void 0:M.endUserSave,pid:null===M||void 0===M?void 0:M._id,commentCount:w,type:"post",postPopupOpen:!0}),(0,P.jsxs)("div",{class:"commentSection",className:a.commentSection,children:[(0,P.jsx)(l.Z,{id:"standard-basic",placeholder:T("write_comment"),variant:"standard",inputRef:L}),(0,P.jsx)("img",{className:a.postbttn,src:"/images/postbttn.svg",alt:"",onClick:function(){y((function(t){return++t})),U({comment:{commentDescription:L.current.value},pid:null===M||void 0===M?void 0:M._id,viewAs:_.UJ}).then((function(t){var n,o,e,i,a,s,r,l,u,c;A(d.p.addCreatedComment({postId:null===M||void 0===M?void 0:M._id,comment:{allChildCommentCount:null===(n=t.data)||void 0===n?void 0:n.comment.allChildCommentCount,allLikeCount:null===(o=t.data)||void 0===o?void 0:o.comment.allLikeCount,author:null===(e=t.data)||void 0===e?void 0:e.comment.author,authorName:null===(i=t.data)||void 0===i?void 0:i.comment.authorName,authorPhotoId:null===(a=t.data)||void 0===a?void 0:a.comment.authorPhotoId,authorProfilePhoto:null===(s=t.data)||void 0===s?void 0:s.comment.authorProfilePhoto,authorUserName:null===(r=t.data)||void 0===r?void 0:r.comment.authorUserName,commentDescription:null===(l=t.data)||void 0===l?void 0:l.comment.commentDescription,createdAt:null===(u=t.data)||void 0===u?void 0:u.comment.createdAt,_id:null===(c=t.data)||void 0===c?void 0:c.comment._id}}))})).catch({}),L.current.value=""}})]})]}),S&&(0,P.jsx)(u.Z,{closeMenu:O,children:(0,P.jsx)(c.default,{setDotsClicked:N,options:f,pid:null===M||void 0===M?void 0:M._id,authorId:null===M||void 0===M?void 0:M.author,profilePost:x,status:null===M||void 0===M?void 0:M.postStatus,closeMenu:O,allPosts:k,popup:!0})})]})}},12923:function(t,n,o){o.d(n,{Ec:function(){return M},Em:function(){return I},JM:function(){return f},NS:function(){return s},Pg:function(){return p},Q_:function(){return P},RH:function(){return m},Tv:function(){return u},U_:function(){return g},VN:function(){return r},Wj:function(){return d},ZS:function(){return v},_8:function(){return x},d5:function(){return c},tB:function(){return _},vI:function(){return k},yx:function(){return l},zO:function(){return h}});var e=o(29439),i=o(91007),a=o(58208),s=function(t){var n=(0,a.YD)(t.search,{skip:t.skip});return{instituteAllSearch:n.data,instituteAllSearchRefetch:n.refetch}},r=function(){var t=(0,a.ak)();return[(0,e.Z)(t,1)[0]]},l=function(){var t=(0,a.WL)();return[(0,e.Z)(t,1)[0]]},u=function(t){var n=(0,a.pH)(t.list,{skip:t.skip});return{instituteFollowList:n.data,instituteFollowListRefetch:n.refetch}},c=function(t){var n=(0,a.MG)(t.data,{skip:t.skip});return{instituteOwnFollowingList:n.data,instituteOwnFollowingListRefetch:n.refetch}},d=function(){var t=(0,a.Ky)();return[(0,e.Z)(t,1)[0]]},v=function(t){var n=(0,a.p8)(t.list);return{userFollowList:n.data,userFollowListRefetch:n.refetch}},m=function(t){var n=(0,a.Wv)(t);return{userFollowingList:n.data,userFollowingListRefetch:n.refetch}},f=function(t){var n=(0,a.sz)(t.search,{skip:t.skip});return{userAllSearch:n.data,userAllSearchRefetch:n.refetch}},p=function(){var t=(0,a.Mk)();return[(0,e.Z)(t,1)[0]]},h=function(){var t=(0,a.$i)();return[(0,e.Z)(t,1)[0]]},_=function(){var t=(0,a.Do)();return[(0,e.Z)(t,1)[0]]},g=function(){var t=(0,a.He)();return[(0,e.Z)(t,1)[0]]},P=function(){var t=(0,a.vg)();return[(0,e.Z)(t,1)[0]]},M=function(){var t=(0,a.OO)();return[(0,e.Z)(t,1)[0]]},x=function(t){var n=(0,a.N2)(t);return{userCircleList:n.data,userCircleListRefetch:n.refetch}},k=function(t){var n=(0,i.x6)(t.search,{skip:t.skip});return{assignSearchStaff:n.data,assignSearchStaffRefetch:n.refetch}},I=function(t){var n=(0,a.SJ)(t);return{universalUser:n.data,universalUserRefetch:n.refetch}}}}]);
//# sourceMappingURL=85873.705f3786.chunk.js.map