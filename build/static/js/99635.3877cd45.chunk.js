(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[99635],{38986:(e,l,n)=>{"use strict";n.d(l,{Z:()=>s});var a=n(72791),i=n(52245),t=n(39230),o=n(1095),d=n(80184);const s=e=>{let{label:l,name:n,value:s,onChange:r,errorShow:c,disabled:_,customFormFileContainer:u,customFormFileLabel:v,customFormFile:m,type:h,multiple:f}=e;const{t:p}=(0,t.$G)(),x=(0,a.useCallback)((()=>{const e=window.open("".concat(o.yI,"/").concat(null===s||void 0===s?void 0:s.key),"_blank","noopener,noreferrer");e&&(e.opener=null)}),[null===s||void 0===s?void 0:s.key]);return(0,d.jsxs)("div",{className:i.Z.form_input_container,style:{...u},children:[l&&(0,d.jsxs)("label",{className:i.Z.form_input_label,style:v,children:[l,c?(0,d.jsxs)("span",{className:i.Z.form_input_label_error,children:["* ",p("form_require_label")]}):null]}),(0,d.jsxs)("div",{className:i.Z.form_file_container,style:m,children:[(0,d.jsx)("label",{className:s?"".concat(i.Z.form_file_choose," ").concat(i.Z.form_file_choose_active):i.Z.form_file_choose,htmlFor:n,children:p(""!==s?"file_choosen":"choose_file")}),(0,d.jsx)("label",{className:i.Z.form_file_choosen,onClick:x,children:""!==s?null!==s&&void 0!==s&&s.name?null===s||void 0===s?void 0:s.name:p("view"):p("no_file_chosen")})]}),(0,d.jsx)("input",{type:"file",multiple:!!f,accept:h||"image/*, .doc,.docx, application/pdf,.csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",name:n,id:n,style:{display:"none"},onChange:r,disabled:_})]})}},31897:(e,l,n)=>{"use strict";n.d(l,{Z:()=>s});var a=n(72791),i=n(39230),t=n(52245),o=n(98684),d=n(80184);const s=e=>{let{selectLabel:l,onClick:n,selectedValue:s,options:r,customStyleContainer:c,customLabelStyle:_,customListStyle:u,errorShow:v,defalutValue:m,viewAs:h,isFull:f,isDenied:p}=e;const{t:x}=(0,i.$G)(),[b,j]=(0,a.useState)(!1),[k,g]=(0,a.useState)(""),y=()=>{p||j((e=>!e))};(0,a.useEffect)((()=>{"NORMAL_FILTER"===h&&g(m)}),[h,m]),(0,a.useEffect)((()=>{if("CUSTOM_FILTER"===h){let a="";for(let i of r)for(let t of m)if((null===i||void 0===i?void 0:i._id)===t){var e,l,n;let t=null!==(e=null!==(l=null!==(n=null===i||void 0===i?void 0:i.dName)&&void 0!==n?n:null===i||void 0===i?void 0:i.batchName)&&void 0!==l?l:null===i||void 0===i?void 0:i.className)&&void 0!==e?e:"";a=a?a+", "+t:t}g(a)}}),[h,m,r]);return(0,d.jsxs)("div",{className:t.Z.form_input_container,style:{...c},children:[(0,d.jsxs)("p",{className:t.Z.join_form_select_paragraph,style:{..._},children:[l,v&&(0,d.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",x("form_require_label")]})]}),(0,d.jsxs)("section",{className:t.Z.join_form_select_custom,onClick:y,children:[k?(0,d.jsx)("p",{className:t.Z.join_form_select_custom_paragraph,children:null!==k&&void 0!==k?k:""}):(0,d.jsx)("p",{className:t.Z.join_form_select_custom_paragraph,children:s}),b?(0,d.jsx)("img",{className:t.Z.join_form_select_custom_rotate_icon,src:"".concat(o.J7,"/down.svg"),alt:"categor icon"}):(0,d.jsx)("img",{className:t.Z.join_form_select_custom_icon,src:"".concat(o.J7,"/down.svg"),alt:"categor icon"})]}),b&&(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("section",{className:t.Z.join_form_select_custom_list,style:u,children:null===r||void 0===r?void 0:r.map(((e,l)=>{var a;return(0,d.jsx)("p",{onClick:()=>(e=>{var l;n(f?e:null===e||void 0===e?void 0:e._id),y(),g(null!==(l=null===e||void 0===e?void 0:e.dName)&&void 0!==l?l:e)})(e),className:t.Z.join_form_select_custom_paragraph_option,children:null!==(a=null===e||void 0===e?void 0:e.dName)&&void 0!==a?a:e},l)}))})})]})}},99635:(e,l,n)=>{"use strict";n.r(l),n.d(l,{default:()=>Me});var a=n(56959),i=n(39230),t=n(72791);const o="BankDetail_bank_detail_card__XlDeo",d="BankDetail_bank_detail_card_heading__mL+og",s="BankDetail_bank_detail_card_inner__WTrMU",r="BankDetail_bank_detail_applicable__o9ybT",c="BankDetail_bank_detail_card_upi__B4gIC",_="BankDetail_bank_detail_card_qr__1sjcI",u="BankDetail_bank_detail_list__pwEqa",v="BankDetail_applicable_btn_container__eJ1fc",m="BankDetail_applicable_btn__T+Xhu",h="BankDetail_applicable_text__-94Qt",f="BankDetail_applicable_text_error__N2w5n",p="BankDetail_bank_fund_container__7nWd7",x="BankDetail_bank_fund__mShX7",b="BankDetail_bank_details__-SkE-",j="BankDetail_bank_upi__a1q+v",k="BankDetail_bank_qr_code__PmB1G",g="BankDetail_bank_qr_code_text__R7pza",y="BankDetail_modal_container__lWae0";var Z=n(6758),S=n(8959),I=n(1095),N=n(98684),C=n(80184);let w={fontWeight:"400"};const F=e=>{var l,n,a,t,u,v,m,h,f,p;let{bank:x}=e;const{t:b}=(0,i.$G)();return(0,C.jsxs)("div",{className:o,children:[(0,C.jsxs)("div",{className:d,children:[(0,C.jsx)("img",{src:"".concat(N.J7,"/bank-card.svg"),alt:"bank icon"}),(0,C.jsxs)("div",{className:s,children:[(0,C.jsx)("h6",{children:null!==(l=null===x||void 0===x?void 0:x.finance_bank_name)&&void 0!==l?l:""}),(0,C.jsx)("p",{children:null!==x&&void 0!==x&&null!==(n=x.department)&&void 0!==n&&n.dName?null===x||void 0===x||null===(a=x.department)||void 0===a?void 0:a.dName:null!==x&&void 0!==x&&x.hostel?"Hostel":null!==x&&void 0!==x&&x.library?"Library":null!==x&&void 0!==x&&x.transport?"Transport":(null===x||void 0===x||null===(t=x.departments)||void 0===t?void 0:t.length)>0?null===x||void 0===x||null===(u=x.departments)||void 0===u?void 0:u.map(((e,l)=>{var n,a;return(0,C.jsxs)("span",{children:[null!==(n=null===e||void 0===e?void 0:e.dName)&&void 0!==n?n:"",l+1===(null===x||void 0===x||null===(a=x.departments)||void 0===a?void 0:a.length)?"":", "]},null===e||void 0===e?void 0:e._id)})):"Society"===(null===x||void 0===x?void 0:x.bank_account_type)?"Society":""})]})]}),(0,C.jsxs)("section",{className:r,children:[(0,C.jsxs)("h6",{children:[b("applicable_for")," "," : "," "]}),(0,C.jsx)(S.Z,{label:null!==x&&void 0!==x&&null!==(v=x.department)&&void 0!==v&&v.dName?null===x||void 0===x||null===(m=x.department)||void 0===m?void 0:m.dName:null!==x&&void 0!==x&&x.hostel?"Hostel":null!==x&&void 0!==x&&x.library?"Library":null!==x&&void 0!==x&&x.transport?"Transport":(null===x||void 0===x||null===(h=x.departments)||void 0===h?void 0:h.length)>0?null===x||void 0===x||null===(f=x.departments)||void 0===f?void 0:f.map(((e,l)=>{var n,a;return(0,C.jsxs)("span",{children:[null!==(n=null===e||void 0===e?void 0:e.dName)&&void 0!==n?n:"",l+1===(null===x||void 0===x||null===(a=x.departments)||void 0===a?void 0:a.length)?"":", "]},null===e||void 0===e?void 0:e._id)})):"Society"===(null===x||void 0===x?void 0:x.bank_account_type)?"Society":"",customFormInputLabel:w})]}),(0,C.jsxs)("section",{className:r,children:[(0,C.jsx)("h6",{children:b("bank_details")}),(0,C.jsx)(S.Z,{label:"".concat(b("bank_name")," :"),value:null===x||void 0===x?void 0:x.finance_bank_name,customFormInput:w}),(0,C.jsx)(S.Z,{label:"".concat(b("account_name")," :"),value:null===x||void 0===x?void 0:x.finance_bank_account_name,customFormInput:w}),(0,C.jsx)(S.Z,{label:"".concat(b("account_number")," :"),value:null===x||void 0===x?void 0:x.finance_bank_account_number,customFormInput:w}),(0,C.jsx)(S.Z,{label:"".concat(b("ifsc_code")," :"),value:null===x||void 0===x?void 0:x.finance_bank_ifsc_code,customFormInput:w}),(0,C.jsx)(S.Z,{label:"".concat(b("address")," :"),value:null===x||void 0===x?void 0:x.finance_bank_branch_address,customFormInput:w})]}),(0,C.jsx)(S.Z,{label:"".concat(b("upi_id")," :"),value:null===x||void 0===x?void 0:x.finance_bank_upi_id,customFormInput:w}),(0,C.jsxs)("section",{className:c,style:{width:"100%",alignItems:"flex-start"},children:[(0,C.jsxs)("div",{className:_,children:[(0,C.jsxs)("h6",{children:[b("qr_code"),":"]}),(0,C.jsx)("p",{children:null!==(p=null===x||void 0===x?void 0:x.finance_bank_upi_id)&&void 0!==p?p:""})]}),null!==x&&void 0!==x&&x.finance_bank_upi_qrcode?(0,C.jsx)("img",{src:"".concat(I.yI,"/").concat(null===x||void 0===x?void 0:x.finance_bank_upi_qrcode),alt:"qr code"}):""]})]})};var B=n(16871),D=n(43677),L=n(1669),M=n(23441),T=n(91427),A=n(2651);const q=e=>{var l,n;let{fid:a}=e;const i=(0,B.TH)(),[o,d]=(0,t.useState)(1),[s,r]=(0,t.useState)(!0),[c,_]=(0,M.YD)(),{financeAllBank:v,financeAllBankLoading:m}=(0,Z.iB)({data:{fid:a,page:o,limit:10,search:""},skip:!a});return(0,t.useEffect)((()=>{_&&s&&d((e=>e+1))}),[_,s]),(0,t.useEffect)((()=>{if(null!==v&&void 0!==v&&v.list){var e;let l=(0,T.f)(null===v||void 0===v||null===(e=v.list)||void 0===e?void 0:e.length);r((()=>l))}}),[null===v||void 0===v?void 0:v.list]),(0,C.jsxs)("div",{className:u,children:[null===v||void 0===v||null===(l=v.list)||void 0===l?void 0:l.map(((e,l)=>{var n;return(null===v||void 0===v||null===(n=v.list)||void 0===n?void 0:n.length)===l+1?(0,C.jsx)("div",{ref:c,style:{width:"49%"},children:(0,C.jsx)(D.Z,{parentState:{...i.state,bankId:null===e||void 0===e?void 0:e._id},activeUrl:"type=bank&n=detail",children:(0,C.jsx)(F,{bank:e})})},null===e||void 0===e?void 0:e._id):(0,C.jsx)("div",{style:{width:"49%"},children:(0,C.jsx)(D.Z,{parentState:{...i.state,bankId:null===e||void 0===e?void 0:e._id},activeUrl:"type=bank&n=detail",children:(0,C.jsx)(F,{bank:e})})},null===e||void 0===e?void 0:e._id)})),m?(0,C.jsx)(L.Z,{}):0===(null===v||void 0===v||null===(n=v.list)||void 0===n?void 0:n.length)&&(0,C.jsx)(A.Z,{title:"No banks added."})]})},E=(0,t.memo)(q);var Y=n(38857),J=n(21348),G=n(31897),H=n(93638),R=n(4007),O=n(90904),P=n(57588),U=n(14196),$=n(55336);const K=e=>{var l,n,a,o;let{onClose:d,fid:s,setFeeHead:r,setFeeHeadId:c,feeHeadId:_,isSegment:u,isOne:v,isIdOnly:m}=e;const{t:h}=(0,i.$G)(),[f,p]=(0,t.useState)(""),[x,b]=(0,t.useState)(1),[j,k]=(0,t.useState)(!0),[g,y]=(0,M.YD)({skip:f}),[S,I]=(0,t.useState)([]),[w,F]=(0,t.useState)(null!==_&&void 0!==_?_:[]),{financeAllOtherFeeHeadMaster:B,financeAllOtherFeeHeadMasterLoading:D}=(0,Z.sx)({data:{fid:s,page:x,limit:10,search:f},skip:!s});(0,t.useEffect)((()=>{F(_)}),[_]),(0,t.useEffect)((()=>{y&&j&&b((e=>e+1))}),[y,j]),(0,t.useEffect)((()=>{var e;if(null!==B&&void 0!==B&&null!==(e=B.list)&&void 0!==e&&e.length){var l;let e=(0,T.f)(null===B||void 0===B||null===(l=B.list)||void 0===l?void 0:l.length);k((()=>e))}}),[null===B||void 0===B||null===(l=B.list)||void 0===l?void 0:l.length]);const q=(0,t.useCallback)((0,P.J)((e=>{b((()=>1)),p(e)}),500),[]),E=e=>{const l={head_name:null===e||void 0===e?void 0:e.master_name,head_amount:null===e||void 0===e?void 0:e.master_amount,master:null===e||void 0===e?void 0:e._id,head_type:u};if(null!==w&&void 0!==w&&w.includes(null===e||void 0===e?void 0:e._id)){let l=null===w||void 0===w?void 0:w.indexOf(null===e||void 0===e?void 0:e._id),n=[];for(let e=0;e<(null===S||void 0===S?void 0:S.length);e++)e===l||n.push(S[e]);F((l=>null===l||void 0===l?void 0:l.filter((l=>l!==(null===e||void 0===e?void 0:e._id))))),I(n)}else F((l=>[...l,null===e||void 0===e?void 0:e._id])),I((e=>[...e,l]));v&&(r([l]),c([null===e||void 0===e?void 0:e._id]),d())};return(0,C.jsx)(Y.Z,{children:(0,C.jsxs)("div",{className:R.Z.modal_container,children:[(0,C.jsx)(J.default,{children:(0,C.jsxs)("div",{className:R.Z.modal_container_outer_header,children:[(0,C.jsxs)("div",{className:R.Z.modal_container_header,children:[(0,C.jsx)("img",{src:"".concat(N.J7,"/back-arrow.svg"),alt:"close icon",onClick:d}),(0,C.jsx)("h6",{children:h("select_other_fee_master")})]}),(0,C.jsx)(H.Z,{label:"select",customStyle:{margin:"0"},onAction:()=>{m?(c(w),d()):(r((e=>[...e,...S])),c(w),d())}})]})}),(0,C.jsx)(O.Z,{}),(0,C.jsxs)(J.default,{customStyle:{paddingTop:"0"},children:[(0,C.jsx)("div",{className:R.Z.fm_search_full,style:{marginBottom:"0.5rem"},children:(0,C.jsx)("section",{className:R.Z.fm_search_full_container,children:(0,C.jsxs)("div",{className:R.Z.fm_search_full_container_inner,children:[(0,C.jsx)("img",{className:R.Z.fm_search_full_icon,alt:"search icon",src:"".concat(N.dB,"/navbar-search.svg")}),(0,C.jsx)("input",{type:"text",placeholder:h("search"),onChange:e=>{e.target.value?q(e.target.value):(b((()=>1)),p(""))}})]})})}),null===B||void 0===B||null===(n=B.list)||void 0===n?void 0:n.map(((e,l)=>{var n;return(null===B||void 0===B||null===(n=B.list)||void 0===n?void 0:n.length)===l+1?(0,C.jsx)("div",{ref:g,children:(0,C.jsx)(U.Z,{feeHead:e,fid:s,onSelect:E,selectedFeeId:w})},null===e||void 0===e?void 0:e._id):(0,C.jsx)(U.Z,{feeHead:e,fid:s,onSelect:E,selectedFeeId:w},null===e||void 0===e?void 0:e._id)})),D?f?(0,C.jsx)($.default,{}):(0,C.jsx)(L.Z,{}):f?0===(null===B||void 0===B||null===(a=B.list)||void 0===a?void 0:a.length)&&(0,C.jsx)(A.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No other fee master found related this search."}):0===(null===B||void 0===B||null===(o=B.list)||void 0===o?void 0:o.length)&&(0,C.jsx)(A.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No other fee master added."})]})]})})};var W=n(48801);const V=e=>{var l,n;let{fid:a,onToggle:o,libraryId:d,transportId:s,hostelId:r,setApplicablFor:c,applicableFor:_,instituteId:u}=e;const{t:v}=(0,i.$G)(),[h,f]=(0,t.useState)({flow:"",flow_id:"",flow_name:"",depart_arr:[],heads_list:[]}),[p,x]=(0,t.useState)("");(0,t.useEffect)((()=>{f(_)}),[]);const b=()=>{x("")};return(0,C.jsx)(C.Fragment,{children:1===p?(0,C.jsx)(K,{onClose:b,fid:a,feeHeadId:h.heads_list,setFeeHeadId:e=>{f((l=>({...l,heads_list:e})))},isIdOnly:!0}):2===p?(0,C.jsx)(W.Z,{onClose:b,onMultiSelect:e=>{var l;if(null!==(l=h.depart_arr)&&void 0!==l&&l.includes(null===e||void 0===e?void 0:e._id)){var n;let l=null===h||void 0===h||null===(n=h.depart_arr)||void 0===n?void 0:n.filter((l=>l!==(null===e||void 0===e?void 0:e._id)));f((e=>({...e,flow_id:null===l||void 0===l?void 0:l[0],depart_arr:l})))}else f((l=>({...l,flow_id:null===e||void 0===e?void 0:e._id,flow_name:null===e||void 0===e?void 0:e.dName,depart_arr:[...l.depart_arr,null===e||void 0===e?void 0:e._id]})))},title:v("select_department"),instituteId:u,whichType:"",isMultiSelect:!0,selectList:h.depart_arr,onDone:b}):(0,C.jsx)(Y.Z,{onClose:o,children:(0,C.jsx)("div",{className:y,children:(0,C.jsxs)(J.default,{customStyle:{paddingBottom:"1rem"},children:[(0,C.jsx)(G.Z,{selectLabel:v("applicable_for"),selectedValue:v("applicable_for_placeholder"),options:["Internal Department","Society","Transport","Library","Hostel","Miscellaneous"],onClick:e=>{"Hostel"===e?f({flow:"Hostel",flow_id:r,flow_name:"Hostel",depart_arr:[],heads_list:[]}):"Transport"===e?f({flow:"Transport",flow_id:s,flow_name:"Transport",depart_arr:[],heads_list:[]}):"Library"===e?f({flow:"Library",flow_id:d,flow_name:"Library",depart_arr:[],heads_list:[]}):"Society"===e?f({flow:"Society",flow_id:null,flow_name:"Society",depart_arr:[],heads_list:[]}):"Internal Department"===e?f({flow:"Department",flow_id:"",flow_name:"",depart_arr:[],heads_list:[]}):"Miscellaneous"===e&&f({flow:"Miscellaneous",flow_id:"",flow_name:"Miscellaneous",depart_arr:[],heads_list:[]})},isFull:!0,defalutValue:h.flow,viewAs:"NORMAL_FILTER"}),"Department"===h.flow&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(S.Z,{label:"".concat(v("selected_department")," : "),value:null===(l=h.depart_arr)||void 0===l?void 0:l.length}),(0,C.jsx)(H.Z,{label:"select_internal_department",onAction:()=>x(2)})]}),"Miscellaneous"===h.flow?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(S.Z,{label:"".concat(v("selected_fee_head")," : "),value:null===(n=h.heads_list)||void 0===n?void 0:n.length}),(0,C.jsx)(H.Z,{label:"select_other_fee_master",onAction:()=>x(1)})]}):null,(0,C.jsx)("button",{className:m,onClick:()=>{c(h),o()},style:{width:"100%",justifyContent:"center"},children:(0,C.jsx)("div",{children:v("select")})})]})})})})},X=e=>{var l,n,a,o;let{errorField:d,applicableFor:s,libraryId:r,transportId:c,hostelId:_,setApplicablFor:u,fid:p,instituteId:x}=e;const{t:b}=(0,i.$G)(),[j,k]=(0,t.useState)(!1),g=(0,t.useCallback)((()=>{k((e=>!e))}),[]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:v,style:{marginTop:"1rem"},children:[(0,C.jsxs)("button",{className:m,onClick:g,style:{marginTop:"0"},children:[(0,C.jsx)("div",{children:b("account_applicable_for")}),(0,C.jsx)("img",{src:"".concat(N.J7,"/forward.svg"),alt:"next step"})]}),(null===s||void 0===s?void 0:s.flow_name)&&(0,C.jsx)("h6",{className:h,children:(null===s||void 0===s||null===(l=s.depart_arr)||void 0===l?void 0:l.length)>1?"".concat(null===s||void 0===s||null===(n=s.depart_arr)||void 0===n?void 0:n.length," department selected"):(null===s||void 0===s||null===(a=s.heads_list)||void 0===a?void 0:a.length)>1?"".concat(null===s||void 0===s||null===(o=s.heads_list)||void 0===o?void 0:o.length," Other Fee Master"):null===s||void 0===s?void 0:s.flow_name})]}),d.flow_id&&(0,C.jsxs)("p",{className:f,children:["* ",b("form_require_label")]}),j&&(0,C.jsx)(V,{fid:p,onToggle:g,libraryId:r,transportId:c,hostelId:_,setApplicablFor:u,applicableFor:s,instituteId:x})]})},z=(0,t.memo)(X);var Q=n(21625),ee=n(61055),le=n(38986);const ne=e=>{let{onClose:l,fid:n,libraryId:o,transportId:d,hostelId:s,openAs:r,onEditAction:c,openBankMenu:_,instituteId:u}=e;const{t:v}=(0,i.$G)(),[m]=(0,Q.FL)(),[h]=(0,Z.WJ)(),[f,p]=(0,t.useState)(!1),[x,b]=(0,t.useState)(""),[j,k]=(0,t.useState)({finance_bank_name:"",finance_bank_account_number:"",finance_bank_account_name:"",finance_bank_ifsc_code:"",finance_bank_branch_address:"",finance_bank_upi_id:"",finance_bank_upi_qrcode:"",finance_bank_re_account_number:"",finance_bank_re_upi_id:""}),[g,y]=(0,t.useState)({flow:"",flow_id:"",flow_name:"",depart_arr:[],heads_list:[]}),[S,I]=(0,t.useState)("");(0,t.useEffect)((()=>{if("EDIT"===r){var e,l,n,a,i,t,o,d,s,c,u,v,m,h;k({finance_bank_name:null!==(e=null===_||void 0===_?void 0:_.finance_bank_name)&&void 0!==e?e:"",finance_bank_account_number:null!==(l=null===_||void 0===_?void 0:_.finance_bank_account_number)&&void 0!==l?l:"",finance_bank_account_name:null!==(n=null===_||void 0===_?void 0:_.finance_bank_account_name)&&void 0!==n?n:"",finance_bank_ifsc_code:null!==(a=null===_||void 0===_?void 0:_.finance_bank_ifsc_code)&&void 0!==a?a:"",finance_bank_branch_address:null!==(i=null===_||void 0===_?void 0:_.finance_bank_branch_address)&&void 0!==i?i:"",finance_bank_upi_id:null!==(t=null===_||void 0===_?void 0:_.finance_bank_upi_id)&&void 0!==t?t:"",finance_bank_upi_qrcode:null!==(o=null===_||void 0===_?void 0:_.finance_bank_upi_qrcode)&&void 0!==o?o:"",finance_bank_re_account_number:null!==(d=null===_||void 0===_?void 0:_.finance_bank_account_number)&&void 0!==d?d:"",finance_bank_re_upi_id:null!==(s=null===_||void 0===_?void 0:_.finance_bank_upi_id)&&void 0!==s?s:""});let r={flow:"",flow_id:"",flow_name:"",depart_arr:[],heads_list:[]};if((null===_||void 0===_||null===(c=_.departments)||void 0===c?void 0:c.length)>0){r.flow="Department";for(let e of null===_||void 0===_?void 0:_.departments)r.flow_name=null===e||void 0===e?void 0:e.dName,r.depart_arr.push(null===e||void 0===e?void 0:e._id)}if((null===_||void 0===_||null===(u=_.heads_list)||void 0===u?void 0:u.length)>0&&"Miscellaneous"===(null===_||void 0===_?void 0:_.bank_account_type)){r.flow="Miscellaneous",r.flow_name="Miscellaneous";for(let e of null===_||void 0===_?void 0:_.heads_list)r.heads_list.push(e)}var f,p,x;if(null!==_&&void 0!==_&&null!==(v=_.library)&&void 0!==v&&v._id)r.flow="Library",r.flow_name="Library",r.flow_id=null===_||void 0===_||null===(f=_.library)||void 0===f?void 0:f._id;if(null!==_&&void 0!==_&&null!==(m=_.hostel)&&void 0!==m&&m._id)r.flow="Hostel",r.flow_name="Hostel",r.flow_id=null===_||void 0===_||null===(p=_.hostel)||void 0===p?void 0:p._id;if(null!==_&&void 0!==_&&null!==(h=_.transport)&&void 0!==h&&h._id)r.flow="Transport",r.flow_name="Transport",r.flow_id=null===_||void 0===_||null===(x=_.transport)||void 0===x?void 0:x._id;"Society"===(null===_||void 0===_?void 0:_.bank_account_type)&&(r.flow="Society",r.flow_name="Society",r.flow_id=null),y(r)}}),[r]);const w=e=>{k((l=>({...l,[e.target.name]:e.target.value})))},F=(0,t.useCallback)((e=>{p((e=>!e));const l=new FormData;I(e.target.files[0]),l.append("file",e.target.files[0]),m({fileUpload:l}).then((e=>{p((e=>!e)),k((l=>{var n;return{...l,finance_bank_upi_qrcode:null===(n=e.data)||void 0===n?void 0:n.imageKey}}))})).catch((()=>{p((e=>!e))}))}),[]),B=(0,t.useCallback)((()=>{if("EDIT"===r){const e=ae(j,g);let l=!1;for(let n in e){l=!0;break}l?b(e):c({...j,...g,depart_arr:g.depart_arr,heads_list:g.heads_list})}else{const e=ae(j,g);let a=!1;for(let l in e){a=!0;break}a?b(e):(p((e=>!e)),h({fid:n,...g,bankDetails:{...j,depart_arr:g.depart_arr,heads_list:g.heads_list}}).then((()=>{l(),p((e=>!e))})).catch((()=>{p((e=>!e))})))}}),[j]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(J.default,{children:(0,C.jsxs)("div",{className:a.Z.fm_header_start_container,children:[(0,C.jsx)("img",{src:"".concat(N.J7,"/back-arrow.svg"),alt:"back arrow",title:"Add Bank",onClick:l}),(0,C.jsxs)("h6",{children:[" ",v("EDIT"===r?"update_bank_details":"add_bank_details")]})]})}),(0,C.jsx)(O.Z,{}),(0,C.jsxs)(J.default,{customStyle:{paddingTop:"0"},children:[(0,C.jsx)(z,{applicableFor:g,errorField:x,fid:n,libraryId:o,transportId:d,hostelId:s,setApplicablFor:y,instituteId:u}),(0,C.jsx)(ee.Z,{label:v("bank_name"),placeholder:v("bank_name_placeholder"),name:"finance_bank_name",value:j.finance_bank_name,type:"text",onChange:w,errorShow:x.finance_bank_name}),(0,C.jsx)(ee.Z,{label:v("account_name"),placeholder:v("account_name_placeholder"),name:"finance_bank_account_name",value:j.finance_bank_account_name,type:"text",onChange:w,errorShow:x.finance_bank_account_name}),(0,C.jsx)(ee.Z,{label:v("account_number"),placeholder:v("account_number_placeholder"),name:"finance_bank_account_number",value:j.finance_bank_account_number,type:"tel",onChange:w,errorShow:x.finance_bank_name}),(0,C.jsx)(ee.Z,{label:v("confirm_account_number"),placeholder:v("confirm_account_number_placeholder"),name:"finance_bank_re_account_number",value:j.finance_bank_re_account_number,type:"tel",onChange:w,errorShow:x.finance_bank_re_account_number,msg:x.finance_bank_re_account_number}),(0,C.jsx)(ee.Z,{label:v("ifsc_code"),placeholder:v("ifsc_code_placeholder"),name:"finance_bank_ifsc_code",value:j.finance_bank_ifsc_code,type:"text",onChange:w,errorShow:x.finance_bank_ifsc_code}),(0,C.jsx)(ee.Z,{label:v("address_of_bank"),placeholder:v("address_of_bank_placeholder"),name:"finance_bank_branch_address",value:j.finance_bank_branch_address,type:"text",onChange:w,errorShow:x.finance_bank_branch_address}),(0,C.jsx)(ee.Z,{label:v("upi_id"),placeholder:v("upi_id_placeholder"),name:"finance_bank_upi_id",value:j.finance_bank_upi_id,type:"text",onChange:w,errorShow:x.finance_bank_upi_id}),(0,C.jsx)(ee.Z,{label:v("confirm_upi_id"),placeholder:v("finance_bank_re_upi_id"),name:"finance_bank_re_upi_id",value:j.finance_bank_re_upi_id,type:"text",onChange:w,errorShow:x.finance_bank_re_upi_id,msg:x.finance_bank_re_upi_id}),(0,C.jsx)(le.Z,{label:v("qr_code_above_upi"),name:"finance_bank_upi_qrcode",value:null!==S&&void 0!==S&&S.name?{name:null===S||void 0===S?void 0:S.name}:"",onChange:F,errorShow:x.finance_bank_upi_qrcode}),(0,C.jsx)(H.Z,{label:"save",onAction:B})]}),f&&(0,C.jsx)($.default,{})]})},ae=(e,l)=>{var n;const a={};for(let i in e)"finance_bank_account_number"===i&&e.finance_bank_account_number!==e.finance_bank_re_account_number?a.finance_bank_re_account_number="form_account_dose_not_match_label":"finance_bank_upi_id"===i&&e.finance_bank_upi_id!==e.finance_bank_re_upi_id?a.finance_bank_re_upi_id="upi_id_dose_not_match_label":"finance_bank_upi_id"===i||"finance_bank_upi_qrcode"===i||"finance_bank_re_upi_id"===i||e[i]||(a[i]="* required");return null!==l&&void 0!==l&&l.flow_id||null!==(n=["Society","Miscellaneous"])&&void 0!==n&&n.includes(null===l||void 0===l?void 0:l.flow_name)||(a.flow_id="flow_id is required"),a};var ie=n(43504);const te=e=>{let{totalRepay:l,collectOnline:n,dueRepay:a}=e;const{t:t}=(0,i.$G)();return(0,C.jsxs)("div",{className:p,children:[(0,C.jsxs)("div",{className:x,children:[(0,C.jsx)("h6",{children:t("total_due")}),(0,C.jsxs)("h5",{children:[t("rs_only")," ",null!==l&&void 0!==l?l:0]})]}),(0,C.jsxs)("div",{className:x,children:[(0,C.jsx)("h6",{children:t("online_fees")}),(0,C.jsxs)("h5",{children:[t("rs_only")," ",null!==n&&void 0!==n?n:0]})]}),(0,C.jsxs)("div",{className:x,children:[(0,C.jsx)("h6",{children:t("repayment_due")}),(0,C.jsxs)("h5",{children:[t("rs_only")," ",null!==a&&void 0!==a?a:0]})]})]})},oe={fontWeight:"400",fontSize:"12px"},de=e=>{var l,n,a,t,o,d;let{oneBank:s}=e;const{t:r}=(0,i.$G)();return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("section",{className:b,children:[(0,C.jsxs)("h6",{children:[r("applicable_for")," "," : "," "]}),(0,C.jsx)(S.Z,{label:"",value:null!==s&&void 0!==s&&null!==(l=s.department)&&void 0!==l&&l.dName?null===s||void 0===s||null===(n=s.department)||void 0===n?void 0:n.dName:null!==s&&void 0!==s&&s.hostel?"Hostel":null!==s&&void 0!==s&&s.library?"Library":null!==s&&void 0!==s&&s.transport?"Transport":(null===s||void 0===s||null===(a=s.departments)||void 0===a?void 0:a.length)>0?null===s||void 0===s||null===(t=s.departments)||void 0===t?void 0:t.map(((e,l)=>{var n,a;return(0,C.jsxs)("span",{children:[null!==(n=null===e||void 0===e?void 0:e.dName)&&void 0!==n?n:"",l+1===(null===s||void 0===s||null===(a=s.departments)||void 0===a?void 0:a.length)?"":", "]},null===e||void 0===e?void 0:e._id)})):null!==(o=null===s||void 0===s?void 0:s.bank_account_type)&&void 0!==o?o:"",customFormInput:oe,customFormInputLabel:{...oe,marginLeft:"-0.8rem"}})]}),(0,C.jsxs)("section",{className:b,children:[(0,C.jsx)("h6",{children:r("bank_details")}),(0,C.jsx)(S.Z,{label:"".concat(r("bank_name")," :"),value:null===s||void 0===s?void 0:s.finance_bank_name,customFormInput:oe,customFormInputLabel:oe}),(0,C.jsx)(S.Z,{label:"".concat(r("account_name")," :"),value:null===s||void 0===s?void 0:s.finance_bank_account_name,customFormInput:oe,customFormInputLabel:oe}),(0,C.jsx)(S.Z,{label:"".concat(r("account_number")," :"),value:null===s||void 0===s?void 0:s.finance_bank_account_number,customFormInput:oe,customFormInputLabel:oe}),(0,C.jsx)(S.Z,{label:"".concat(r("ifsc_code")," :"),value:null===s||void 0===s?void 0:s.finance_bank_ifsc_code,customFormInput:oe,customFormInputLabel:oe}),(0,C.jsx)(S.Z,{label:"".concat(r("address")," :"),value:null===s||void 0===s?void 0:s.finance_bank_branch_address,customFormInput:oe,customFormInputLabel:oe})]}),(0,C.jsx)("section",{className:j,children:(0,C.jsx)(S.Z,{label:"".concat(r("upi_id")," :"),value:null===s||void 0===s?void 0:s.finance_bank_upi_id,customFormInput:oe,customFormInputLabel:oe})}),(0,C.jsxs)("section",{className:k,children:[(0,C.jsxs)("div",{className:g,children:[(0,C.jsxs)("h6",{children:[r("qr_code"),":"]}),(0,C.jsx)("p",{children:null!==(d=null===s||void 0===s?void 0:s.finance_bank_upi_id)&&void 0!==d?d:""})]}),null!==s&&void 0!==s&&s.finance_bank_upi_qrcode?(0,C.jsx)("img",{src:"".concat(I.yI,"/").concat(null===s||void 0===s?void 0:s.finance_bank_upi_qrcode),alt:"qr code"}):""]})]})};var se=n(89064),re=n(99183),ce=n(16925);const _e=e=>{let{onToggle:l,setBankEdit:n,openBankMenu:a,fid:o,libraryId:d,transportId:s,hostelId:r,instituteId:c}=e;const{t:_}=(0,i.$G)(),u=(0,B.s0)(),[v,m]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1),[p,x]=(0,t.useState)(""),[b,j]=(0,t.useState)({query:""}),[k,g]=(0,t.useState)(!1),[y]=(0,Z.D4)(),[S]=(0,Z.R9)(),I=()=>{n((e=>!e)),f((e=>!e))};return(0,C.jsx)(C.Fragment,{children:k?(0,C.jsx)(Y.Z,{onClose:()=>g(!1),children:(0,C.jsxs)("div",{className:ce.Z.modal_container,children:[(0,C.jsx)(J.default,{children:(0,C.jsxs)("div",{className:ce.Z.modal_container_outer_header,children:[(0,C.jsx)("div",{className:ce.Z.modal_container_header,children:(0,C.jsx)("h6",{children:_("are_your_sure_to_delete_bank_account")})}),(0,C.jsx)("img",{src:"".concat(N.J7,"/close.svg"),alt:"close icon",onClick:()=>g(!1)})]})}),(0,C.jsx)(O.Z,{}),(0,C.jsxs)(J.default,{customStyle:{paddingTop:"0"},children:[(0,C.jsx)(ee.Z,{label:_("type_confirm_to_continue"),placeholder:_("type_confirm_to_continue"),name:"query",value:b.query,type:"text",onChange:e=>{j((l=>({...l,[e.target.name]:e.target.value})))},errorShow:p.query}),(0,C.jsx)(H.Z,{label:"confirm",onAction:()=>{let e=(0,re.l)(b);(0,re.x)(e)?"Confirm"===b.query&&null!==a&&void 0!==a&&a._id&&(g(!1),m((e=>!e)),y(null===a||void 0===a?void 0:a._id).then((()=>{l(),m((e=>!e)),u(-1)})).catch({})):x(e)}})]})]})}):h?(0,C.jsx)(ne,{onClose:I,openAs:"EDIT",onEditAction:e=>{null!==a&&void 0!==a&&a._id&&(m((e=>!e)),f(!1),S({bid:null===a||void 0===a?void 0:a._id,bankDetails:e}).then((()=>{m((e=>!e)),l(),n((e=>!e))})).catch({}))},openBankMenu:a,fid:o,libraryId:d,transportId:s,hostelId:r,instituteId:c}):(0,C.jsxs)(se.Z,{onClose:l,disabled:v,children:[(0,C.jsx)("h6",{onClick:I,children:_("edit")}),(0,C.jsx)("h6",{onClick:()=>g(!0),children:_("delete")})]})})};var ue=n(63162),ve=n(98967),me=n(60924),he=n(19056),fe=n(43997);const pe=e=>{let{onClose:l,bankId:n,fid:a}=e;const{t:o}=(0,i.$G)(),[d,s]=(0,t.useState)({from:"",to:"",payment_type:""}),[r,c]=(0,t.useState)(!1),[_,u]=(0,t.useState)(""),[v]=(0,Z._t)(),m=(e,l)=>{s((n=>({...n,[l]:(0,fe.O_)(e)})))};return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(Y.Z,{onClose:l,children:(0,C.jsxs)("div",{className:ce.Z.modal_container,children:[(0,C.jsx)(J.default,{children:(0,C.jsxs)("div",{className:ce.Z.modal_container_outer_header,children:[(0,C.jsx)("div",{className:ce.Z.modal_container_header,children:(0,C.jsx)("h6",{children:o("filter_daybook")})}),(0,C.jsx)("img",{src:"".concat(N.J7,"/close.svg"),alt:"close icon",onClick:l})]})}),(0,C.jsx)(O.Z,{}),(0,C.jsxs)(J.default,{customStyle:{paddingTop:"0"},children:[(0,C.jsx)(me.Z,{label:o("from"),placeholder:o("please_select_from_date"),name:"from",value:d.from?(0,fe.jh)(d.from):"",onChange:e=>m(e,"from"),errorShow:_.from}),(0,C.jsx)(me.Z,{label:o("to_only"),placeholder:o("please_select_to_date"),name:"to",value:d.to?(0,fe.jh)(d.to):"",onChange:e=>m(e,"to"),errorShow:_.to}),(0,C.jsx)(he.Z,{selectLabel:o("payment_type"),selectedValue:o("please_select_payment_type"),options:["Payment Gateway / Online","By Cash","Cash / Bank","Total"],onClick:e=>{s((l=>({...l,payment_type:"Total"===e?"BOTH":"Cash / Bank"===e?"CASH_BANK":e})))},defalutValue:"BOTH"===d.payment_type?"Total":"CASH_BANK"===d.payment_type?"Cash / Bank":d.payment_type}),(0,C.jsx)(H.Z,{label:"filter",onAction:()=>{let e=(0,re.l)(d,[]);(0,re.x)(e)&&a&&n?(c((e=>!e)),v({fid:a,bank:n,from:d.from,to:d.to,payment_type:d.payment_type}).then((()=>{c((e=>!e)),l()})).catch({})):u(e)}})]}),r&&(0,C.jsx)($.default,{})]})})})};var xe=n(82824),be=n(72888),je=n(97892),ke=n.n(je);const ge=e=>{var l;let{onEditAction:n,onClose:a,xlsxId:o}=e;const{t:d}=(0,i.$G)(),[s,r]=(0,t.useState)(null!==(l=null===o||void 0===o?void 0:o.excel_file_name)&&void 0!==l?l:""),[c,_]=(0,t.useState)("");(0,t.useEffect)((()=>{var e;r(null!==(e=null===o||void 0===o?void 0:o.excel_file_name)&&void 0!==e?e:"")}),[null===o||void 0===o?void 0:o.excel_file_name]);return(0,C.jsx)(Y.Z,{onClose:a,children:(0,C.jsxs)("div",{className:ce.Z.modal_container,children:[(0,C.jsx)(J.default,{children:(0,C.jsxs)("div",{className:ce.Z.modal_container_outer_header,children:[(0,C.jsx)("div",{className:ce.Z.modal_container_header,children:(0,C.jsx)("h6",{children:d("update_excel_name")})}),(0,C.jsx)("img",{src:"".concat(N.J7,"/close.svg"),alt:"close icon",onClick:a})]})}),(0,C.jsx)(O.Z,{}),(0,C.jsxs)(J.default,{customStyle:{paddingTop:"0"},children:[(0,C.jsx)(ee.Z,{label:d("excel_name"),placeholder:d("excel_name_plcaeholder"),name:"excelName",value:s,type:"text",onChange:e=>{r(e.target.value)},errorShow:c.excelName}),(0,C.jsx)(H.Z,{label:"update",onAction:()=>{s?n(s):_({excelName:"excelName is required"})}})]})]})})},ye=e=>{let{onClose:l,xlsxId:n,bankId:a,onRefetch:o}=e;const{t:d}=(0,i.$G)(),[s,r]=(0,t.useState)(!1),[c,_]=(0,t.useState)(!1),[u]=(0,Z.JW)(),[v]=(0,Z.TM)(),m=()=>{_((e=>!e))};return c?(0,C.jsx)(ge,{onClose:m,onEditAction:e=>{a&&null!==n&&void 0!==n&&n._id&&(m(),r((e=>!e)),v({baid:a,bodyParameter:{dbid:null===n||void 0===n?void 0:n._id,excel_file_name:e}}).then((()=>{o(),r((e=>!e)),l()})).catch({}))},xlsxId:n}):(0,C.jsxs)(se.Z,{onClose:l,disabled:s,children:[(0,C.jsx)("h6",{onClick:m,children:d("edit")}),(0,C.jsx)("h6",{onClick:()=>{a&&null!==n&&void 0!==n&&n._id&&(r((e=>!e)),u({baid:a,bodyParameter:{dbid:null===n||void 0===n?void 0:n._id}}).then((()=>{o(),r((e=>!e)),l()})).catch({}))},children:d("delete")})]})},Ze=e=>{var l,n,a;let{excel:i,bankId:o,onRefetch:d}=e;const[s,r]=(0,t.useState)("");return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("a",{className:be.Z.export_card,title:"Download File",href:"".concat(I.LS,"/").concat(null===i||void 0===i?void 0:i.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,C.jsx)("img",{src:"".concat(N.J7,"/xsxl.svg"),className:be.Z.export_card_image,alt:"excel icon"}),(0,C.jsxs)("section",{className:be.Z.export_card_text,children:[(0,C.jsx)("h6",{children:null!==(l=null===i||void 0===i?void 0:i.excel_file_name)&&void 0!==l?l:""}),(0,C.jsxs)("div",{className:be.Z.export_card_date,children:[(0,C.jsx)("h6",{children:null!==(n=null===i||void 0===i||null===(a=i.bank)||void 0===a?void 0:a.finance_bank_account_name)&&void 0!==n?n:""}),(0,C.jsxs)("h6",{children:[ke()(null===i||void 0===i?void 0:i.created_at).format("DD MMM YYYY"),","," ",(0,xe.J)(null===i||void 0===i?void 0:i.created_at,"LT")]})]}),(0,C.jsxs)("div",{className:be.Z.export_card_date,children:[(0,C.jsxs)("h6",{children:["From : ",null===i||void 0===i?void 0:i.from," To ",null===i||void 0===i?void 0:i.to]}),(0,C.jsx)("h6",{children:"BOTH"===(null===i||void 0===i?void 0:i.payment_type)?"Total":"CASH_BANK"===(null===i||void 0===i?void 0:i.payment_type)?"Cash / Bank":null===i||void 0===i?void 0:i.payment_type})]})]}),(0,C.jsx)("img",{src:"".concat(N.J7,"/menu.svg"),alt:"menu icon",onClick:e=>{e.stopPropogation(),r(i)},title:"Menu",className:be.Z.export_card_menu})]},null===i||void 0===i?void 0:i._id),s&&(0,C.jsx)(ye,{onClose:()=>{r("")},xlsxId:s,bankId:o,onRefetch:d})]})},Se=e=>{var l,n,o;let{fid:d,bankId:s}=e;const{t:r}=(0,i.$G)(),[c,_]=(0,t.useState)(!1),[u,v]=(0,t.useState)(""),[m,h]=(0,t.useState)(1),[f,p]=(0,t.useState)(!0),[x,b]=(0,M.YD)({skip:u}),{financeBankDaybookGeneratList:j,financeBankDaybookGeneratListLoading:k,financeBankDaybookGeneratListRefetch:g}=(0,Z.sA)({data:{baid:s,page:m,limit:10,search:u},skip:!s});(0,t.useEffect)((()=>{b&&f&&h((e=>e+1))}),[b,f]),(0,t.useEffect)((()=>{var e;if(null!==j&&void 0!==j&&null!==(e=j.list)&&void 0!==e&&e.length){var l;let e=(0,T.f)(null===j||void 0===j||null===(l=j.list)||void 0===l?void 0:l.length);p((()=>e))}}),[null===j||void 0===j?void 0:j.list]);const y=(0,t.useCallback)((0,P.J)((e=>{h((()=>1)),v(e)}),1500),[]),S=()=>{_((e=>!e))},I=()=>{h((()=>1)),v(""),g()};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(J.default,{customStyle:{padding:"0"},children:(0,C.jsxs)("div",{className:a.Z.fm_search_full,children:[(0,C.jsx)("section",{className:a.Z.fm_search_full_container,children:(0,C.jsxs)("div",{className:a.Z.fm_search_full_container_inner,children:[(0,C.jsx)("img",{className:a.Z.fm_search_full_icon,alt:"search icon",src:"".concat(N.dB,"/navbar-search.svg")}),(0,C.jsx)("input",{type:"text",placeholder:r("search"),onChange:e=>{e.target.value?y(e.target.value):(h((()=>1)),v(""))}})]})}),(0,C.jsx)(H.Z,{label:"filter",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:S})]})}),(0,C.jsx)(O.Z,{}),null===j||void 0===j||null===(l=j.list)||void 0===l?void 0:l.map(((e,l)=>{var n;return(null===j||void 0===j||null===(n=j.list)||void 0===n?void 0:n.length)===l+1?(0,C.jsx)("div",{ref:x,children:(0,C.jsx)(Ze,{excel:e,bankId:s,onRefetch:I})},null===e||void 0===e?void 0:e._id):(0,C.jsx)(Ze,{excel:e,bankId:s,onRefetch:I},null===e||void 0===e?void 0:e._id)})),k?u?(0,C.jsx)($.default,{}):(0,C.jsx)(L.Z,{}):u?0===(null===j||void 0===j||null===(n=j.list)||void 0===n?void 0:n.length)&&(0,C.jsx)(A.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No daybook found related this search."}):0===(null===j||void 0===j||null===(o=j.list)||void 0===o?void 0:o.length)&&(0,C.jsx)(A.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No daybook added."}),c&&(0,C.jsx)(pe,{onClose:S,bankId:s,fid:d})]})},Ie=e=>{let{onClose:l,bankId:n,fid:a}=e;const{t:o}=(0,i.$G)(),[d,s]=(0,t.useState)({from:"",to:"",payment_type:""}),[r,c]=(0,t.useState)(!1),[_,u]=(0,t.useState)(""),[v]=(0,Z.OR)(),m=(e,l)=>{s((n=>({...n,[l]:(0,fe.O_)(e)})))};return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(Y.Z,{onClose:l,children:(0,C.jsxs)("div",{className:ce.Z.modal_container,children:[(0,C.jsx)(J.default,{children:(0,C.jsxs)("div",{className:ce.Z.modal_container_outer_header,children:[(0,C.jsx)("div",{className:ce.Z.modal_container_header,children:(0,C.jsx)("h6",{children:o("filter_daybook")})}),(0,C.jsx)("img",{src:"".concat(N.J7,"/close.svg"),alt:"close icon",onClick:l})]})}),(0,C.jsx)(O.Z,{}),(0,C.jsxs)(J.default,{customStyle:{paddingTop:"0"},children:[(0,C.jsx)(me.Z,{label:o("from"),placeholder:o("please_select_from_date"),name:"from",value:d.from?(0,fe.jh)(d.from):"",onChange:e=>m(e,"from"),errorShow:_.from}),(0,C.jsx)(me.Z,{label:o("to_only"),placeholder:o("please_select_to_date"),name:"to",value:d.to?(0,fe.jh)(d.to):"",onChange:e=>m(e,"to"),errorShow:_.to}),(0,C.jsx)(he.Z,{selectLabel:o("payment_type"),selectedValue:o("please_select_payment_type"),options:["Payment Gateway - PG","By Cash"],onClick:e=>{s((l=>({...l,payment_type:e})))},defalutValue:d.payment_type,errorShow:_.payment_type}),(0,C.jsx)(H.Z,{label:"filter",onAction:()=>{let e=(0,re.l)(d,[]);(0,re.x)(e)&&a&&n?(c((e=>!e)),v({fid:a,bodyParameter:{bank:n,from:d.from,to:d.to,payment_type:d.payment_type}}).then((()=>{c((e=>!e)),l()})).catch({})):u(e)}})]}),r&&(0,C.jsx)($.default,{})]})})})},Ne=e=>{let{onClose:l,xlsxId:n,bankId:a,onRefetch:o}=e;const{t:d}=(0,i.$G)(),[s,r]=(0,t.useState)(!1),[c,_]=(0,t.useState)(!1),[u]=(0,Z.JW)(),[v]=(0,Z.TM)(),m=()=>{_((e=>!e))};return c?(0,C.jsx)(ge,{onClose:m,onEditAction:e=>{a&&null!==n&&void 0!==n&&n._id&&(m(),r((e=>!e)),v({baid:a,bodyParameter:{dbid:null===n||void 0===n?void 0:n._id,excel_file_name:e}}).then((()=>{o(),r((e=>!e)),l()})).catch({}))},xlsxId:n}):(0,C.jsxs)(se.Z,{onClose:l,disabled:s,children:[(0,C.jsx)("h6",{onClick:m,children:d("edit")}),(0,C.jsx)("h6",{onClick:()=>{a&&null!==n&&void 0!==n&&n._id&&(r((e=>!e)),u({baid:a,bodyParameter:{dbid:null===n||void 0===n?void 0:n._id}}).then((()=>{o(),r((e=>!e)),l()})).catch({}))},children:d("delete")})]})},Ce=e=>{var l,n,a;let{excel:i,bankId:o,onRefetch:d}=e;const[s,r]=(0,t.useState)("");return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("a",{className:be.Z.export_card,title:"Download File",href:"".concat(I.LS,"/").concat(null===i||void 0===i?void 0:i.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,C.jsx)("img",{src:"".concat(N.J7,"/xsxl.svg"),className:be.Z.export_card_image,alt:"excel icon"}),(0,C.jsxs)("section",{className:be.Z.export_card_text,children:[(0,C.jsx)("h6",{children:null!==(l=null===i||void 0===i?void 0:i.excel_file_name)&&void 0!==l?l:""}),(0,C.jsxs)("div",{className:be.Z.export_card_date,children:[(0,C.jsx)("h6",{children:null!==(n=null===i||void 0===i||null===(a=i.bank)||void 0===a?void 0:a.finance_bank_account_name)&&void 0!==n?n:""}),(0,C.jsxs)("h6",{children:[ke()(null===i||void 0===i?void 0:i.created_at).format("DD MMM YYYY"),","," ",(0,xe.J)(null===i||void 0===i?void 0:i.created_at,"LT")]})]}),(0,C.jsxs)("div",{className:be.Z.export_card_date,children:[(0,C.jsxs)("h6",{children:["From : ",null===i||void 0===i?void 0:i.from," To ",null===i||void 0===i?void 0:i.to]}),(0,C.jsxs)("h6",{children:[" ",null===i||void 0===i?void 0:i.payment_type]})]})]}),(0,C.jsx)("img",{src:"".concat(N.J7,"/menu.svg"),alt:"menu icon",onClick:e=>{e.preventDefault(),r(i)},title:"Menu",className:be.Z.export_card_menu})]},null===i||void 0===i?void 0:i._id),s&&(0,C.jsx)(Ne,{onClose:()=>{r("")},xlsxId:s,bankId:o,onRefetch:d})]})},we=e=>{var l,n,o;let{fid:d,bankId:s}=e;const{t:r}=(0,i.$G)(),[c,_]=(0,t.useState)(!1),[u,v]=(0,t.useState)(""),[m,h]=(0,t.useState)(1),[f,p]=(0,t.useState)(!0),[x,b]=(0,M.YD)({skip:u}),{financeBankDaybookGeneratList:j,financeBankDaybookGeneratListLoading:k,financeBankDaybookGeneratListRefetch:g}=(0,Z.sA)({data:{baid:s,page:m,limit:10,search:u,type:"Normal Other Fees"},skip:!s});(0,t.useEffect)((()=>{b&&f&&h((e=>e+1))}),[b,f]),(0,t.useEffect)((()=>{var e;if(null!==j&&void 0!==j&&null!==(e=j.list)&&void 0!==e&&e.length){var l;let e=(0,T.f)(null===j||void 0===j||null===(l=j.list)||void 0===l?void 0:l.length);p((()=>e))}}),[null===j||void 0===j?void 0:j.list]);const y=(0,t.useCallback)((0,P.J)((e=>{h((()=>1)),v(e)}),1500),[]),S=()=>{_((e=>!e))},I=()=>{h((()=>1)),v(""),g()};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(J.default,{customStyle:{padding:"0"},children:(0,C.jsxs)("div",{className:a.Z.fm_search_full,children:[(0,C.jsx)("section",{className:a.Z.fm_search_full_container,children:(0,C.jsxs)("div",{className:a.Z.fm_search_full_container_inner,children:[(0,C.jsx)("img",{className:a.Z.fm_search_full_icon,alt:"search icon",src:"".concat(N.dB,"/navbar-search.svg")}),(0,C.jsx)("input",{type:"text",placeholder:r("search"),onChange:e=>{e.target.value?y(e.target.value):(h((()=>1)),v(""))}})]})}),(0,C.jsx)(H.Z,{label:"filter",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:S})]})}),(0,C.jsx)(O.Z,{}),null===j||void 0===j||null===(l=j.list)||void 0===l?void 0:l.map(((e,l)=>{var n;return(null===j||void 0===j||null===(n=j.list)||void 0===n?void 0:n.length)===l+1?(0,C.jsx)("div",{ref:x,children:(0,C.jsx)(Ce,{excel:e,bankId:s,onRefetch:I})},null===e||void 0===e?void 0:e._id):(0,C.jsx)(Ce,{excel:e,bankId:s,onRefetch:I},null===e||void 0===e?void 0:e._id)})),k?u?(0,C.jsx)($.default,{}):(0,C.jsx)(L.Z,{}):u?0===(null===j||void 0===j||null===(n=j.list)||void 0===n?void 0:n.length)&&(0,C.jsx)(A.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No daybook found related this search."}):0===(null===j||void 0===j||null===(o=j.list)||void 0===o?void 0:o.length)&&(0,C.jsx)(A.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No daybook added."}),c&&(0,C.jsx)(Ie,{onClose:S,bankId:s,fid:d})]})},Fe=e=>{var l,n,o;let{fid:d,libraryId:s,transportId:r,hostelId:c,instituteId:_}=e;const{t:u}=(0,i.$G)(),v=(0,B.TH)(),m=(0,B.UO)(),[h]=(0,ie.lr)(),f=(0,B.s0)(),[p,x]=(0,t.useState)(!1),[b,j]=(0,t.useState)(!1),{financeOneBankDetail:k}=(0,Z.zO)({bid:v.state.bankId,skip:!v.state.bankId}),g=(0,t.useCallback)((()=>{x((e=>!e))}),[]),y=(0,t.useCallback)((()=>{var e;let l="";l="Institute"===(null===(e=v.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(m.username,"/institute/member/finance"):"/q/".concat(m.username,"/member/staff/finance"),f(l,{state:v.state})}),[f,v.state,m.username]);return(0,C.jsxs)(C.Fragment,{children:[!b&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(J.default,{children:[(0,C.jsxs)("div",{className:a.Z.fm_header_container,children:[(0,C.jsxs)("div",{className:a.Z.fm_header_start_container,style:{gap:"0.2rem"},children:[(0,C.jsx)("img",{alt:"search icon",src:"".concat(N.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:y}),(0,C.jsx)("h6",{children:u("bank_details")})]}),(0,C.jsx)("img",{src:"".concat(N.J7,"/edit.svg"),alt:"back arrow",title:"Edit Bank",onClick:g})]}),(0,C.jsx)(ve.Z,{children:Be.map((e=>{var l,n;return(0,C.jsx)(ue.Z,{tab:e,isLink:!0,isActive:null===(l=e.groupIs)||void 0===l?void 0:l.includes(h.get("d")),parentState:v.state,url:"Institute"===(null===(n=v.state)||void 0===n?void 0:n.urlOffSet)?"/q/".concat(m.username,"/institute/member/finance?type=bank&n=detail").concat(e.urlKey):"/q/".concat(m.username,"/member/staff/finance?type=bank&n=detail").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,C.jsx)(O.Z,{customStyleBorder:{marginTop:"0"}})]}),(0,C.jsx)(J.default,{children:"info"===h.get("d")?(0,C.jsx)(de,{oneBank:null===k||void 0===k?void 0:k.one_bank}):"fund"===h.get("d")?(0,C.jsx)(te,{totalRepay:null===k||void 0===k||null===(l=k.one_bank)||void 0===l?void 0:l.total_repay,collectOnline:null===k||void 0===k||null===(n=k.one_bank)||void 0===n?void 0:n.collect_online,dueRepay:null===k||void 0===k||null===(o=k.one_bank)||void 0===o?void 0:o.due_repay}):"miscellaneous"===h.get("d")?(0,C.jsx)(we,{fid:d,bankId:v.state.bankId}):(0,C.jsx)(Se,{fid:d,bankId:v.state.bankId})})]}),p&&(0,C.jsx)(_e,{onToggle:g,setBankEdit:j,openBankMenu:null===k||void 0===k?void 0:k.one_bank,fid:d,libraryId:s,transportId:r,hostelId:c,instituteId:_})]})},Be=[{label:"admission_daybook",id:"admission",urlKey:"",groupIs:["",null]},{label:"miscellaneous_daybook",id:"miscellaneous",urlKey:"&d=miscellaneous",groupIs:["miscellaneous"]},{label:"bank_info",id:"info",urlKey:"&d=info",groupIs:["info"]},{label:"fund",id:"fund",urlKey:"&d=fund",groupIs:["fund"]}];var De=n(63687);const Le=e=>{let{fid:l,libraryId:n,transportId:o,hostelId:d,instituteId:s}=e;const{t:r}=(0,i.$G)(),[c]=(0,ie.lr)(),[_,u]=(0,t.useState)(!1),v=(0,t.useCallback)((()=>{u((e=>!e))}),[]);return(0,C.jsx)(De.default,{children:_?(0,C.jsx)(ne,{fid:l,libraryId:n,transportId:o,hostelId:d,onClose:v,instituteId:s}):c.get("n")?(0,C.jsx)(Fe,{fid:l,libraryId:n,transportId:o,hostelId:d,instituteId:s}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(J.default,{children:(0,C.jsxs)("div",{className:a.Z.fm_header_container,children:[(0,C.jsx)("h6",{children:r("bank_account_detail")}),(0,C.jsx)("img",{src:"".concat(N.J7,"/plus-blue.svg"),alt:"back arrow",title:"Add Bank",onClick:v})]})}),(0,C.jsx)(O.Z,{}),(0,C.jsx)(J.default,{children:(0,C.jsx)(E,{fid:l})})]})})},Me=(0,t.memo)(Le)},48801:(e,l,n)=>{"use strict";n.d(l,{Z:()=>j});var a=n(49806),i=n(38857),t=n(21348),o=n(90904),d=n(98684),s=n(39230),r=n(72791),c=n(23441),_=n(91427),u=n(57588),v=n(80184);const m=e=>{var l,n;let{cls:i,selectedId:t,onSelect:o,selectList:s,isMultiSelect:r,onMultiSelect:c}=e;return(0,v.jsx)(v.Fragment,{children:r?(0,v.jsxs)("div",{className:a.Z.assign_show_list_each,onClick:()=>{c(i)},style:{border:"0.5px solid #cacaca",marginBlock:"0.4rem",borderRadius:"6px",padding:"0.8rem 1rem"},children:[null!==s&&void 0!==s&&s.includes(null===i||void 0===i?void 0:i._id)?(0,v.jsx)("img",{src:"".concat(d.U_,"/check.svg"),alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,v.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"".concat(d.U_,"/uncheck.svg"),alt:"icon"}),(0,v.jsx)("div",{className:a.Z.assign_each_paragraph,children:(0,v.jsx)("h6",{children:null!==(l=null===i||void 0===i?void 0:i.dName)&&void 0!==l?l:""})})]}):(0,v.jsx)("div",{className:a.Z.assign_show_list_each,style:t===(null===i||void 0===i?void 0:i._id)?{backgroundColor:"rgba(75, 26, 133, 0.1)",border:"0.5px solid #cacaca",marginBlock:"0.4rem",borderRadius:"6px",padding:"0.8rem 1rem"}:{border:"0.5px solid #cacaca",marginBlock:"0.4rem",borderRadius:"6px",padding:"0.8rem 1rem"},onClick:()=>{o(i)},children:(0,v.jsx)("div",{className:a.Z.assign_each_paragraph,children:(0,v.jsx)("h6",{children:null!==(n=null===i||void 0===i?void 0:i.dName)&&void 0!==n?n:""})})})})};var h=n(55336),f=n(1669),p=n(2651),x=n(93638),b=n(32361);const j=e=>{var l,n,j,k;let{title:g,onClose:y,selectedId:Z,onSelectStaff:S,instituteId:I,isMultiSelect:N,onMultiSelect:C,selectList:w,onDone:F,whichType:B}=e;const{t:D}=(0,s.$G)(),[L,M]=(0,r.useState)(""),[T,A]=(0,r.useState)(1),[q,E]=(0,r.useState)(!0),[Y,J]=(0,c.YD)({skip:L}),{instituteAllDepartment:G,instituteAllDepartmentLoading:H}=(0,b.Jv)({data:{id:I,page:T,limit:10,search:L,which_type:null!==B&&void 0!==B?B:""},skip:!I});(0,r.useEffect)((()=>{J&&q&&A((e=>e+1))}),[J,q]),(0,r.useEffect)((()=>{var e;if(null!==G&&void 0!==G&&null!==(e=G.list)&&void 0!==e&&e.length){var l;let e=(0,_.f)(null===G||void 0===G||null===(l=G.list)||void 0===l?void 0:l.length);E((()=>e))}}),[null===G||void 0===G||null===(l=G.list)||void 0===l?void 0:l.length]);const R=(0,r.useCallback)((0,u.J)((e=>{A((()=>1)),M(e)}),1500),[]),O=e=>{Z===(null===e||void 0===e?void 0:e._id)||S(e)};return(0,v.jsx)(i.Z,{onClose:y,children:(0,v.jsxs)("div",{className:a.Z.modal_container,children:[(0,v.jsx)(t.default,{children:(0,v.jsxs)("div",{className:a.Z.modal_container_outer_header,children:[(0,v.jsx)("div",{className:a.Z.modal_container_header,children:(0,v.jsx)("h6",{children:D(null!==g&&void 0!==g?g:"department_list")})}),(0,v.jsxs)("div",{className:a.Z.modal_container_btn_container,children:[N&&(0,v.jsx)(x.Z,{label:D("select"),count:null===w||void 0===w?void 0:w.length,onAction:F,customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,v.jsx)("img",{src:"".concat(d.J7,"/close.svg"),alt:"close icon",onClick:y})]})]})}),(0,v.jsx)(o.Z,{}),(0,v.jsxs)(t.default,{customStyle:{paddingBottom:"1rem"},children:[(0,v.jsxs)("div",{className:a.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,v.jsx)("input",{type:"text",placeholder:D("search"),className:a.Z.assign_search_input,onChange:e=>{e.target.value?R(e.target.value):(A((()=>1)),M(""))},style:{width:"100%"}}),(0,v.jsx)("img",{src:"".concat(d.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===G||void 0===G||null===(n=G.list)||void 0===n?void 0:n.map(((e,l)=>{var n;return(null===G||void 0===G||null===(n=G.list)||void 0===n?void 0:n.length)===l+1?(0,v.jsx)("div",{ref:Y,children:(0,v.jsx)(m,{cls:e,selectedId:Z,onSelect:O,selectList:w,isMultiSelect:N,onMultiSelect:C})},null===e||void 0===e?void 0:e._id):(0,v.jsx)(m,{cls:e,selectedId:Z,onSelect:O,selectList:w,isMultiSelect:N,onMultiSelect:C},null===e||void 0===e?void 0:e._id)})),H?L?(0,v.jsx)(h.default,{}):(0,v.jsx)(f.Z,{}):L?0===(null===G||void 0===G||null===(j=G.list)||void 0===j?void 0:j.length)&&(0,v.jsx)(p.Z,{title:"No department found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===G||void 0===G||null===(k=G.list)||void 0===k?void 0:k.length)&&(0,v.jsx)(p.Z,{title:"No department.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})}},82824:(e,l,n)=>{"use strict";n.d(l,{J:()=>d,Z:()=>s});var a=n(99893),i=n.n(a),t=n(97892),o=n.n(t);const d=(e,l)=>(o().extend(i()),o()(e).format(l)),s=(e,l,n)=>{var a;return o()()[e]("".concat(null===(a=o()(n))||void 0===a?void 0:a.format("YYYY-MM-DD")),l)}},99893:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(l,n,a){var i=n.prototype,t=i.format;a.en.formats=e,i.format=function(l){void 0===l&&(l="YYYY-MM-DDTHH:mm:ssZ");var n=this.$locale().formats,a=function(l,n){return l.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(l,a,i){var t=i&&i.toUpperCase();return a||n[i]||e[i]||n[t].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,l,n){return l||n.slice(1)}))}))}(l,void 0===n?{}:n);return t.call(this,a)}}}()},72888:(e,l,n)=>{"use strict";n.d(l,{Z:()=>a});const a={export_card:"FinanceExport_export_card__9AYtI",export_card_image:"FinanceExport_export_card_image__-1r1l",export_card_text:"FinanceExport_export_card_text__ZrB00",export_card_date:"FinanceExport_export_card_date__-dTOE",export_card_menu:"FinanceExport_export_card_menu__-xEgr"}},49806:(e,l,n)=>{"use strict";n.d(l,{Z:()=>a});const a={modal_container:"PlateformUser_modal_container__tqwpY",modal_container_outer_header:"PlateformUser_modal_container_outer_header__HbF+9",modal_container_header:"PlateformUser_modal_container_header__QzyxM",modal_container_btn_container:"PlateformUser_modal_container_btn_container__3SJ8i",modal_container_header_btn:"PlateformUser_modal_container_header_btn__dWfwA",assign_search_container:"PlateformUser_assign_search_container__dJdYj",assign_search_input:"PlateformUser_assign_search_input__aFF28",assign_show_list_each:"PlateformUser_assign_show_list_each__co2b1",assign_show_list_each_active:"PlateformUser_assign_show_list_each_active__SWwFS",assign_each_paragraph:"PlateformUser_assign_each_paragraph__bDgq6",close_icon:"PlateformUser_close_icon__VXKXH",comfirm_box:"PlateformUser_comfirm_box__ntFD7",modal_container_btn:"PlateformUser_modal_container_btn__BWFB9"}}}]);
//# sourceMappingURL=99635.3877cd45.chunk.js.map