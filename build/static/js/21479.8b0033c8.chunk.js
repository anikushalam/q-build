"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[21479],{7562:(n,l,i)=>{i.d(l,{nj:()=>e});const e=[{id:"nskjdfs",key:!0,name:"yes"},{id:"snkjdfs",key:!1,name:"no"}]},66687:(n,l,i)=>{i.d(l,{Z:()=>Z});var e=i(39230),a=i(38857),o=i(21348),t=i(16925),d=i(90904),s=i(72791),u=i(98684),r=i(55336),v=i(93638),m=i(61055),c=i(99183),_=i(71439),p=i(64499),h=i(16871),f=i(20659),y=i(26071),g=i(7562),x=i(8959),j=i(60307),b=i(85794),A=i(80184);const Z=n=>{var l,i,Z,I,T,S,k,C;let{onClose:w,install:N,admission:E,isEditable:O,statusId:H,isStatus:D}=n;const{t:P}=(0,e.$G)(),z=(0,h.UO)(),[B,F]=(0,s.useState)(!1),[J,U]=(0,s.useState)({amount:0,type:"Admission",isTransaction:!1,pay_remain:!1}),[Y,L]=(0,s.useState)(""),[M,q]=(0,s.useState)(0),[G,V]=(0,s.useState)({open:!1,msg:"",variant:"error"}),{studentInstituteCharges:$}=(0,j.xY)({data:{id:null===N||void 0===N?void 0:N.instituteId},skip:!(null!==N&&void 0!==N&&N.instituteId)}),[R]=(0,j.zJ)();(0,s.useEffect)((()=>{var n;null!==N&&void 0!==N&&N.remainAmount&&U({amount:null!==(n=null===N||void 0===N?void 0:N.remainAmount)&&void 0!==n?n:0,type:"Admission",isTransaction:!1,pay_remain:!1})}),[]);const K=n=>{if(U((l=>({...l,pay_remain:n}))),n){let n=0;for(let i of null===E||void 0===E||null===(l=E.applicable_card)||void 0===l?void 0:l.remaining_array){var l;"Paid"!==(null===i||void 0===i?void 0:i.status)&&(n+=null===i||void 0===i?void 0:i.remainAmount)}q(n),U((l=>{var i;return{...l,amount:null!==(i=n)&&void 0!==i?i:0}}))}};return(0,A.jsxs)(A.Fragment,{children:[J.isTransaction?(0,A.jsx)(_.Z,{onClose:()=>{U((n=>({...n,isTransaction:!1})))},allContent:{...J,platform_charges:null===$||void 0===$||null===(l=$.platform_charges)||void 0===l?void 0:l.percentage},checkoutAdmissionHandler:()=>{var n,l,i,e,a,o,t,d,s,u,r,v,m;let c=2.1*+(null===J||void 0===J?void 0:J.amount)/100,_=c+18*+c/100;const h=parseInt(null===J||void 0===J?void 0:J.amount);var f=Math.ceil(h+ +_.toFixed(2));(0,p.oU)({amount:null!==(n=+(null===J||void 0===J?void 0:J.amount))&&void 0!==n?n:10,amount_nocharges:null!==(l=+f)&&void 0!==l?l:0,type:"Admission",paidBy:"".concat(H?null===E||void 0===E?void 0:E.student:null===E||void 0===E||null===(i=E.student)||void 0===i?void 0:i._id),paidTo:"".concat(null===N||void 0===N?void 0:N.instituteId),moduleId:"".concat(null===N||void 0===N?void 0:N.appId),ad_status_id:H||null,payment_installment:null===N||void 0===N?void 0:N.installmentValue,ad_install:null,month:null,payment_remain_1:null,payment_card_type:null,payment_book_id:null,name:z.username,isApk:"web",payment_card_id:null!==(e=null===E||void 0===E?void 0:E._id)&&void 0!==e?e:null,payment_remain_fees:J.pay_remain,charge:{num_platform_percent:null!==(a=null===$||void 0===$||null===(o=$.platform_charges)||void 0===o?void 0:o.percentage)&&void 0!==a?a:0,num_platform_max:null!==(t=null===$||void 0===$||null===(d=$.platform_charges)||void 0===d?void 0:d.maximum)&&void 0!==t?t:0,num_trans_pecent:null!==(s=null===$||void 0===$||null===(u=$.transaction_charges)||void 0===u?void 0:u.percentage)&&void 0!==s?s:0,num_trans_max:null!==(r=null===$||void 0===$||null===(v=$.transaction_charges)||void 0===v?void 0:v.maximum)&&void 0!==r?r:0,num_app_max:null!==(m=null===$||void 0===$?void 0:$.application_charges)&&void 0!==m?m:0},nsid:null===N||void 0===N?void 0:N._id}).then((n=>{var l,i;window.onScriptLoad(null===n||void 0===n||null===(l=n.response)||void 0===l||null===(i=l.body)||void 0===i?void 0:i.txnToken,null===n||void 0===n?void 0:n.order,null===n||void 0===n?void 0:n.amount)})).catch((n=>{console.info(n)}))},isOptimzed:!0}):(0,A.jsx)(a.Z,{onClose:w,children:(0,A.jsxs)("div",{className:t.Z.modal_container,children:[(0,A.jsx)(o.default,{children:(0,A.jsxs)("div",{className:t.Z.modal_container_outer_header,children:[(0,A.jsx)("div",{className:t.Z.modal_container_header,children:(0,A.jsx)("h6",{children:P("pay_admission_fees")})}),(0,A.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:w})]})}),(0,A.jsx)(d.Z,{}),(0,A.jsxs)(o.default,{customStyle:{paddingTop:"0"},children:[(0,A.jsxs)("div",{className:t.Z.admission_fees_row,children:[(0,A.jsxs)("h6",{children:[P("applicable_pendig_fees_only")," :"]}),(0,A.jsxs)("h6",{children:[P("rs_only")," ",null!==(i=null===E||void 0===E||null===(Z=E.applicable_card)||void 0===Z?void 0:Z.applicable_fee)&&void 0!==i?i:0]})]}),(0,A.jsx)("div",{className:t.Z.admission_fees_row,children:(0,A.jsxs)("h6",{children:[P("fees_category")," :"," ",null!==(I=null===E||void 0===E||null===(T=E.fee_structure)||void 0===T||null===(S=T.category_master)||void 0===S?void 0:S.category_name)&&void 0!==I?I:""]})}),null!==E&&void 0!==E&&null!==(k=E.fee_structure)&&void 0!==k&&k.total_installments&&+(null===E||void 0===E||null===(C=E.fee_structure)||void 0===C?void 0:C.total_installments)>1&&O?(0,A.jsx)(f.Z,{label:"pay_rest_remaining_fees",children:null===g.nj||void 0===g.nj?void 0:g.nj.map((n=>(0,A.jsx)(y.Z,{tile:n,onTile:K,activeTile:J.pay_remain},null===n||void 0===n?void 0:n.id)))}):null,O?(0,A.jsx)(m.Z,{label:P(J.pay_remain?"amount_remain_installment":"enter_amount_to_be_paid"),placeholder:P("please_enter_amount_paid"),name:"amount",value:J.amount,type:"tel",onChange:n=>{U((l=>({...l,amount:+n.target.value})))},errorShow:Y.amount,msg:Y.rest_issue}):(0,A.jsx)(x.Z,{label:"".concat(P(J.pay_remain?"amount_remain_installment":"amount_to_be_paid")),value:J.pay_remain?M:J.amount}),(0,A.jsx)(v.Z,{label:"pay_admission_fees",onAction:()=>{let n=(0,c.l)({amount:J.amount});var l,i,e,a,o,t,d,s,u,r;(0,c.x)(n)?J.pay_remain&&J.amount<M&&+(null===E||void 0===E||null===(l=E.fee_structure)||void 0===l?void 0:l.total_installments)>1?L({rest_issue:"Amount should not be less than total remaining fees"}):!J.pay_remain&&J.amount<(null===N||void 0===N?void 0:N.remainAmount)&&+(null===E||void 0===E||null===(i=E.fee_structure)||void 0===i?void 0:i.total_installments)>1?L({rest_issue:"Amount should not be greater than remaining fees"}):null!==$&&void 0!==$&&$.institute?D?U((n=>({...n,isTransaction:!0}))):null!==N&&void 0!==N&&N.appId&&null!==E&&void 0!==E&&null!==(e=E.appId)&&void 0!==e&&null!==(a=e.admissionAdmin)&&void 0!==a&&null!==(o=a.institute)&&void 0!==o&&null!==(t=o.financeDepart)&&void 0!==t&&t[0]&&(F((n=>!n)),R({fid:null===E||void 0===E||null===(d=E.appId)||void 0===d||null===(s=d.admissionAdmin)||void 0===s||null===(u=s.institute)||void 0===u||null===(r=u.financeDepart)||void 0===r?void 0:r[0],appId:null===N||void 0===N?void 0:N.appId,flow:"BY_DEPARTMENT"}).then((n=>{var l;F((n=>!n)),null!==n&&void 0!==n&&null!==(l=n.data)&&void 0!==l&&l.denied?V({open:!0,msg:"Account is not activated",variant:"error"}):U((n=>({...n,isTransaction:!0})))})).catch({})):V({open:!0,msg:"Online Payment Not Activated",variant:"error"}):L(n)}})]})]})}),B&&(0,A.jsx)(r.default,{}),(0,A.jsx)(b.Z,{eventState:G,eventStateHandler:V})]})}},45028:(n,l,i)=>{i.d(l,{Z:()=>Z});var e=i(39230),a=i(38857),o=i(21348),t=i(16925),d=i(90904),s=i(72791),u=i(98684),r=i(55336),v=i(93638),m=i(61055),c=i(99183),_=i(71439),p=i(64499),h=i(16871),f=i(20659),y=i(26071),g=i(7562),x=i(8959),j=i(60307),b=i(85794),A=i(80184);const Z=n=>{var l,i,Z,I,T,S,k,C;let{onClose:w,install:N,admission:E,isEditable:O,statusId:H,isStatus:D}=n;const{t:P}=(0,e.$G)(),z=(0,h.UO)(),[B,F]=(0,s.useState)(!1),[J,U]=(0,s.useState)({amount:0,type:"Admission",isTransaction:!1,pay_remain:!1}),[Y,L]=(0,s.useState)(""),[M,q]=(0,s.useState)(0),[G,V]=(0,s.useState)({open:!1,msg:"",variant:"error"}),{studentInstituteCharges:$}=(0,j.xY)({data:{id:null===N||void 0===N?void 0:N.instituteId},skip:!(null!==N&&void 0!==N&&N.instituteId)}),[R]=(0,j.zJ)();(0,s.useEffect)((()=>{var n;null!==N&&void 0!==N&&N.remainAmount&&U({amount:null!==(n=null===N||void 0===N?void 0:N.remainAmount)&&void 0!==n?n:0,type:"Admission",isTransaction:!1,pay_remain:!1})}),[]);const K=n=>{if(U((l=>({...l,pay_remain:n}))),n){let n=0;for(let i of null===E||void 0===E||null===(l=E.applicable_card)||void 0===l?void 0:l.remaining_array){var l;"Paid"!==(null===i||void 0===i?void 0:i.status)&&(n+=null===i||void 0===i?void 0:i.remainAmount)}q(n),U((l=>{var i;return{...l,amount:null!==(i=n)&&void 0!==i?i:0}}))}};return console.info("studentInstituteCharges",E,N),(0,A.jsxs)(A.Fragment,{children:[J.isTransaction?(0,A.jsx)(_.Z,{onClose:()=>{U((n=>({...n,isTransaction:!1})))},allContent:{...J,platform_charges:null===$||void 0===$||null===(l=$.platform_charges)||void 0===l?void 0:l.percentage},checkoutAdmissionHandler:()=>{var n,l,i,e,a,o,t,d,s,u,r,v,m;let c=2.1*+(null===J||void 0===J?void 0:J.amount)/100,_=c+18*+c/100;const h=parseInt(null===J||void 0===J?void 0:J.amount);var f=Math.ceil(h+ +_.toFixed(2));(0,p.oU)({amount:null!==(n=+(null===J||void 0===J?void 0:J.amount))&&void 0!==n?n:10,amount_nocharges:null!==(l=+f)&&void 0!==l?l:0,type:"Hostel",paidBy:"".concat(H?null===E||void 0===E?void 0:E.student:null===E||void 0===E||null===(i=E.student)||void 0===i?void 0:i._id),paidTo:"".concat(null===N||void 0===N?void 0:N.instituteId),moduleId:"".concat(null===N||void 0===N?void 0:N.appId),ad_status_id:H||null,payment_installment:null===N||void 0===N?void 0:N.installmentValue,ad_install:null,month:null,payment_remain_1:null,payment_card_type:null,payment_book_id:null,name:z.username,isApk:"web",payment_card_id:null!==(e=null===E||void 0===E?void 0:E._id)&&void 0!==e?e:null,payment_remain_fees:J.pay_remain,charge:{num_platform_percent:null!==(a=null===$||void 0===$||null===(o=$.platform_charges)||void 0===o?void 0:o.percentage)&&void 0!==a?a:0,num_platform_max:null!==(t=null===$||void 0===$||null===(d=$.platform_charges)||void 0===d?void 0:d.maximum)&&void 0!==t?t:0,num_trans_pecent:null!==(s=null===$||void 0===$||null===(u=$.transaction_charges)||void 0===u?void 0:u.percentage)&&void 0!==s?s:0,num_trans_max:null!==(r=null===$||void 0===$||null===(v=$.transaction_charges)||void 0===v?void 0:v.maximum)&&void 0!==r?r:0,num_app_max:null!==(m=null===$||void 0===$?void 0:$.application_charges)&&void 0!==m?m:0},nsid:null===N||void 0===N?void 0:N._id}).then((n=>{var l,i;window.onScriptLoad(null===n||void 0===n||null===(l=n.response)||void 0===l||null===(i=l.body)||void 0===i?void 0:i.txnToken,null===n||void 0===n?void 0:n.order,null===n||void 0===n?void 0:n.amount)})).catch((n=>{console.info(n)}))},isOptimzed:!0}):(0,A.jsx)(a.Z,{onClose:w,children:(0,A.jsxs)("div",{className:t.Z.modal_container,children:[(0,A.jsx)(o.default,{children:(0,A.jsxs)("div",{className:t.Z.modal_container_outer_header,children:[(0,A.jsx)("div",{className:t.Z.modal_container_header,children:(0,A.jsx)("h6",{children:P("pay_admission_fees")})}),(0,A.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:w})]})}),(0,A.jsx)(d.Z,{}),(0,A.jsxs)(o.default,{customStyle:{paddingTop:"0"},children:[(0,A.jsxs)("div",{className:t.Z.admission_fees_row,children:[(0,A.jsxs)("h6",{children:[P("applicable_pendig_fees_only")," :"]}),(0,A.jsxs)("h6",{children:[P("rs_only")," ",null!==(i=null===E||void 0===E||null===(Z=E.applicable_card)||void 0===Z?void 0:Z.applicable_fee)&&void 0!==i?i:0]})]}),(0,A.jsx)("div",{className:t.Z.admission_fees_row,children:(0,A.jsxs)("h6",{children:[P("fees_category")," :"," ",null!==(I=null===E||void 0===E||null===(T=E.fee_structure)||void 0===T||null===(S=T.category_master)||void 0===S?void 0:S.category_name)&&void 0!==I?I:""]})}),null!==E&&void 0!==E&&null!==(k=E.fee_structure)&&void 0!==k&&k.total_installments&&+(null===E||void 0===E||null===(C=E.fee_structure)||void 0===C?void 0:C.total_installments)>1&&O?(0,A.jsx)(f.Z,{label:"pay_rest_remaining_fees",children:null===g.nj||void 0===g.nj?void 0:g.nj.map((n=>(0,A.jsx)(y.Z,{tile:n,onTile:K,activeTile:J.pay_remain},null===n||void 0===n?void 0:n.id)))}):null,O?(0,A.jsx)(m.Z,{label:P(J.pay_remain?"amount_remain_installment":"enter_amount_to_be_paid"),placeholder:P("please_enter_amount_paid"),name:"amount",value:J.amount,type:"tel",onChange:n=>{U((l=>({...l,amount:+n.target.value})))},errorShow:Y.amount,msg:Y.rest_issue}):(0,A.jsx)(x.Z,{label:"".concat(P(J.pay_remain?"amount_remain_installment":"amount_to_be_paid")),value:J.pay_remain?M:J.amount}),(0,A.jsx)(v.Z,{label:"pay_admission_fees",onAction:()=>{let n=(0,c.l)({amount:J.amount});var l,i,e,a,o,t,d,s,u,r;(0,c.x)(n)?J.pay_remain&&J.amount<M&&+(null===E||void 0===E||null===(l=E.fee_structure)||void 0===l?void 0:l.total_installments)>1?L({rest_issue:"Amount should not be less than total remaining fees"}):!J.pay_remain&&J.amount<(null===N||void 0===N?void 0:N.remainAmount)&&+(null===E||void 0===E||null===(i=E.fee_structure)||void 0===i?void 0:i.total_installments)>1?L({rest_issue:"Amount should not be greater than remaining fees"}):null!==$&&void 0!==$&&$.institute?D?U((n=>({...n,isTransaction:!0}))):null!==N&&void 0!==N&&N.appId&&null!==E&&void 0!==E&&null!==(e=E.appId)&&void 0!==e&&null!==(a=e.hostelAdmin)&&void 0!==a&&null!==(o=a.institute)&&void 0!==o&&null!==(t=o.financeDepart)&&void 0!==t&&t[0]&&(F((n=>!n)),R({fid:null===E||void 0===E||null===(d=E.appId)||void 0===d||null===(s=d.hostelAdmin)||void 0===s||null===(u=s.institute)||void 0===u||null===(r=u.financeDepart)||void 0===r?void 0:r[0],appId:null===N||void 0===N?void 0:N.appId,flow:"BY_HOSTEL"}).then((n=>{var l;F((n=>!n)),null!==n&&void 0!==n&&null!==(l=n.data)&&void 0!==l&&l.denied?V({open:!0,msg:"Account is not activated",variant:"error"}):U((n=>({...n,isTransaction:!0})))})).catch({})):V({open:!0,msg:"Online Payment Not Activated",variant:"error"}):L(n)}})]})]})}),B&&(0,A.jsx)(r.default,{}),(0,A.jsx)(b.Z,{eventState:G,eventStateHandler:V})]})}}}]);
//# sourceMappingURL=21479.8b0033c8.chunk.js.map