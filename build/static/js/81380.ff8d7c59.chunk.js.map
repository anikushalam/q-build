{"version":3,"file":"static/js/81380.ff8d7c59.chunk.js","mappings":"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","sources":["webpack://mithkal-qviple/./src/StaffTab/StudentTab/MainContent/Complaints/ComplaintDetails/ComplaintDetails.module.css?a3f3","StaffTab/StudentTab/MainContent/Complaints/ComplaintDetails/ComplaintDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"complaintDetails\":\"ComplaintDetails_complaintDetails__-jmT4\",\"detailsheader\":\"ComplaintDetails_detailsheader__Fvgt7\",\"item\":\"ComplaintDetails_item__9JP9U\",\"datetime\":\"ComplaintDetails_datetime__GvDX5\",\"detailsbody\":\"ComplaintDetails_detailsbody__otbA6\",\"footer\":\"ComplaintDetails_footer__h1d-Y\",\"solvedbtn\":\"ComplaintDetails_solvedbtn__kEvgC\"};","import React from \"react\";\nimport style from \"./ComplaintDetails.module.css\";\nimport {\n  useStudentComplaintAction,\n  useStudentComplaintDetail,\n} from \"../../../../../hooks/institute/institute-staff-student-api\";\nimport { useTranslation } from \"react-i18next\";\nimport moment from \"moment\";\nimport { useState } from \"react\";\nimport QLoader from \"../../../../../Loader/QLoader\";\n\nfunction ComplaintDetails({ setShowDetails, complaintId, setRefetchStatus }) {\n  const { t } = useTranslation();\n  const [disabled, setDisabled] = useState(false);\n  const [solvedByInstitute] = useStudentComplaintAction();\n  const { studentComplaintDetail, studentComplaintDetailRefetch } =\n    useStudentComplaintDetail({\n      cid: complaintId,\n      skip: !complaintId,\n    });\n  React.useEffect(() => {\n    if (complaintId) studentComplaintDetailRefetch();\n  }, [complaintId, studentComplaintDetailRefetch]);\n  const solvedHandler = () => {\n    setDisabled((pre) => !pre);\n\n    solvedByInstitute({\n      cid: complaintId,\n      status: {\n        status: \"Solved\",\n      },\n    })\n      .then(() => {\n        studentComplaintDetailRefetch();\n        setShowDetails(false);\n        setRefetchStatus({\n          solved: true,\n          unsolved: true,\n        });\n        setDisabled((pre) => !pre);\n      })\n      .catch({});\n  };\n  return (\n    <div className={style.complaintDetails}>\n      <div className={style.detailsheader}>\n        <div className={style.item}>\n          <img src=\"/images/complainIconDark.svg\" alt=\"\" />\n          <div>\n            <h6>{`${\n              studentComplaintDetail?.complaint?.student?.studentFirstName\n            } ${\n              studentComplaintDetail?.complaint?.student?.studentMiddleName\n                ? studentComplaintDetail?.complaint?.student?.studentMiddleName\n                : \"\"\n            } ${\n              studentComplaintDetail?.complaint?.student.studentLastName\n            }`}</h6>\n\n            <div className={style.datetime}>\n              <p>\n                {moment(studentComplaintDetail?.complaint?.createdAt).format(\n                  \"LL\"\n                )}\n              </p>\n              <p>\n                {moment(studentComplaintDetail?.complaint?.createdAt).format(\n                  \"LT\"\n                )}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className={style.detailsbody}>\n        <p>{studentComplaintDetail?.complaint?.complaintContent}</p>\n      </div>\n      <div className={style.footer}>\n        {studentComplaintDetail?.complaint?.complaintInsStatus === \"Solved\" ? (\n          <div className={style.solvedbtn}>\n            {t(\"problem\")}{\" \"}\n            {studentComplaintDetail?.complaint?.complaintInsStatus}\n          </div>\n        ) : (\n          <div className={style.solvedbtn} onClick={solvedHandler}>\n            {t(\"problem\")}{\" \"}\n            {studentComplaintDetail?.complaint?.complaintInsStatus}\n          </div>\n        )}\n      </div>\n      {disabled && <QLoader />}\n    </div>\n  );\n}\n\nexport default ComplaintDetails;\n"],"names":["_ref","_studentComplaintDeta","_studentComplaintDeta2","_studentComplaintDeta3","_studentComplaintDeta4","_studentComplaintDeta5","_studentComplaintDeta6","_studentComplaintDeta7","_studentComplaintDeta8","_studentComplaintDeta9","_studentComplaintDeta10","_studentComplaintDeta11","_studentComplaintDeta12","_studentComplaintDeta13","setShowDetails","complaintId","setRefetchStatus","t","useTranslation","_useState","useState","_useState2","_slicedToArray","disabled","setDisabled","_useStudentComplaintA","useStudentComplaintAction","solvedByInstitute","_useStudentComplaintD","useStudentComplaintDetail","cid","skip","studentComplaintDetail","studentComplaintDetailRefetch","React","_jsxs","className","style","children","_jsx","src","alt","concat","complaint","student","studentFirstName","studentMiddleName","studentLastName","moment","createdAt","format","complaintContent","complaintInsStatus","onClick","pre","status","then","solved","unsolved","catch","QLoader"],"sourceRoot":""}