"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[63843],{90777:(e,n,l)=>{l.d(n,{Z:()=>d});l(72791);var t=l(39230),i=l(98094),s=l(78910),o=l(80184);const d=e=>{let{setIndex:n,ConfirmOffline:l}=e;const{t:d}=(0,t.$G)();return(0,o.jsxs)("div",{className:s.Z.process_modal,children:[(0,o.jsxs)("section",{className:s.Z.add_process_modal_title_left,children:[(0,o.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{n(1)},alt:""}),(0,o.jsx)("h6",{children:d("pay_fees_in_cash")})]}),(0,o.jsx)(i.Z,{customStyle:{width:"100%"}}),(0,o.jsxs)("section",{className:s.Z.process_description,children:[(0,o.jsx)("h6",{children:d("procedure_for_paying_in_cash")}),(0,o.jsxs)("p",{children:["1. ",d("visit_school")," "]}),(0,o.jsxs)("p",{children:["2. ",d("contact_admission_department")]}),(0,o.jsxs)("p",{children:["3. ",d("pay_fees_in_cash")]}),(0,o.jsxs)("p",{children:["4. ",d("your_admission_will_be_confirmed_and_fee")]})]}),(0,o.jsx)("button",{className:s.Z.pay_in_cash_btn,onClick:l,children:d("pay_in_cash")})]})}},51376:(e,n,l)=>{l.d(n,{Z:()=>v});var t=l(72791),i=l(11932),s=l(65379),o=l(32804),d=l(11105),a=l(73032),r=l(51561),u=l(98734),c=l(80184);const v=e=>{var n;let{viewAs:l,sudentAdmissionFeesList:v,sudentAdmissionFeesListRefetch:_,feesQueryRefetch:h,showingDataLoading:m,isFeesEditable:p}=e;const[f,x]=(0,t.useState)(!1),[j,y]=(0,t.useState)(""),[w,g]=(0,t.useState)(!1),[Z,b]=(0,t.useState)({msg:"",run:!1}),[C]=(0,a.fB)(),N=e=>{var n;g((e=>!e)),C({fid:null===e||void 0===e?void 0:e.financeId,aid:null===e||void 0===e||null===(n=e.install)||void 0===n?void 0:n.appId,flow:"Department"===(null===e||void 0===e?void 0:e.collectFlow)?"BY_DEPARTMENT":"BY_HOSTEL"}).then((n=>{var t,i;(g((e=>!e)),null!==n&&void 0!==n&&null!==(t=n.data)&&void 0!==t&&t.denied)?b({msg:"Before initiating payment. you must have a valid bank account to receive payment.",run:!0}):"STUDENT"===l&&null!==e&&void 0!==e&&null!==(i=e.install)&&void 0!==i&&i.isEnable&&(x(!0),y(e))})).catch({})};return(0,c.jsxs)("div",{className:o.Z.student_admission_fees_container,children:[null===v||void 0===v||null===(n=v.array)||void 0===n?void 0:n.map((e=>(0,c.jsx)(i.Z,{admission:e,viewAs:l,onAdmissionPaid:N,onAdmissionFeesRefetch:_,renderPageAs:"STUDENT_PROFILE",is_feesdata:!0}))),f&&(0,c.jsx)(s.Z,{installment:j,onAdmissionFeesRefetch:_,onFeesRefetch:h,hideModal:x,addDisplay:f,isFeesEditable:p}),m&&(0,c.jsx)(d.Z,{}),(0,c.jsx)(r.Ch,{msg:Z.msg,run:Z.run,setRun:()=>b({msg:"",run:!1}),postiton:"bottom",type:"error"}),w&&(0,c.jsx)(u.Z,{})]})}},4195:(e,n,l)=>{l.d(n,{Z:()=>o});l(72791);var t=l(32804),i=l(39230),s=l(80184);const o=e=>{let{label:n,value:l,currentValue:o,onClick:d,customStyleContainer:a}=e;const{t:r}=(0,i.$G)();return(0,s.jsxs)("div",{className:l===o?"".concat(t.Z.student_fees_btn_container," ").concat(t.Z.student_fees_btn_container_active):t.Z.student_fees_btn_container,onClick:()=>d(o),style:a,children:[(0,s.jsx)("h6",{children:r(n)}),(0,s.jsx)("img",{src:"/images/studentclass/fees/fees_arrow_right.svg",alt:"arrow"})]})}},20662:(e,n,l)=>{l.d(n,{Z:()=>q});var t=l(72791),i=l(39230),s=l(23441),o=l(87338),d=l(10406),a=l(98094),r=l(11105),u=l(72426),c=l.n(u),v=l(27117),_=l(89891),h=l(28497),m=l(80214),p=l(98734),f=l(87932),x=l(97655),j=l(90777),y=l(24426),w=l(8395),g=l(38732),Z=l(43118),b=l(51561),C=l(34478),N=l(71439),S=l(64499),A=l(16871),k=l(36665),R=l(80184);const I={inputPxrops:{"aria-label":"Switch demo"}};const E=function(e){var n,l,s,d,a,r,u,c,E,D,M,T,F,L,O,H,q,B,P,W,G,$,Y,Q,z,J,K,U,V,X,ee,ne,le,te,ie,se,oe,de,ae,re,ue,ce,ve,_e,he,me,pe,fe,xe,je,ye,we,ge,Ze,be,Ce,Ne,Se,Ae,ke,Re,Ie,Ee,De,Me,Te,Fe;let{hideModal:Le,statusQuery:Oe,onRefetchApplication:He}=e;const{t:qe}=(0,i.$G)(),Be=(0,A.UO)(),[Pe,We]=(0,t.useState)(!1),[Ge,$e]=(0,t.useState)(0),[Ye,Qe]=(0,t.useState)(!1),[ze,Je]=(0,t.useState)(!1),[Ke,Ue]=(0,t.useState)(""),[Ve,Xe]=(0,t.useState)({amount:0,feesId:"",insId:"",type:"",installmentType:""}),[en,nn]=(0,t.useState)({msg:"",run:!1}),[ln,tn]=(0,t.useState)({fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:"",fee_payment_acknowledge:"",month:""}),{data:sn}=(0,m.Rg)(),[on]=(0,m.gt)(),[dn]=(0,o.qr)(),{merchantId:an,merchantIdRefetch:rn}=(0,f.Vc)({id:null===Oe||void 0===Oe||null===(n=Oe.renewal_hostel)||void 0===n||null===(l=n.institute)||void 0===l?void 0:l._id,skip:!(null!==Oe&&void 0!==Oe&&null!==(s=Oe.renewal_hostel)&&void 0!==s&&null!==(d=s.institute)&&void 0!==d&&d._id)});(0,t.useEffect)((()=>{var e,n;null!==Oe&&void 0!==Oe&&null!==(e=Oe.renewal_hostel)&&void 0!==e&&null!==(n=e.institute)&&void 0!==n&&n._id&&rn()}),[null===Oe||void 0===Oe||null===(a=Oe.renewal_hostel)||void 0===a||null===(r=a.institute)||void 0===r?void 0:r._id,rn]),(0,t.useEffect)((()=>{Xe((e=>{var n,l,t;return{...e,amount:null===Oe||void 0===Oe||null===(n=Oe.renewal_student)||void 0===n||null===(l=n.hostel_fee_structure)||void 0===l||null===(t=l.one_installments)||void 0===t?void 0:t.fees}}))}),[]);const un=e=>{const n={};return e||(n.month_re="is required!"),n},cn=()=>{const e=un(ln.month);let n=!1;for(let s in e)if(s){n=!0;break}if(n)Ue(e);else{var l,t;Je(!0);var i={sid:null===Oe||void 0===Oe||null===(l=Oe.renewal_student)||void 0===l?void 0:l._id,rid:null===Oe||void 0===Oe?void 0:Oe._id,selectRenewal:2!==Ge?ln:{fee_payment_mode:"By Cash",month:ln.month}};""!==(null===Oe||void 0===Oe||null===(t=Oe.renewal_student)||void 0===t?void 0:t._id)&&""!==(null===Oe||void 0===Oe?void 0:Oe._id)&&dn(i).then((e=>{e.data.status&&(He(),Je(!1),Le(!1))})).catch({})}};return(0,R.jsxs)(R.Fragment,{children:[!Ye&&(0,R.jsxs)(k.Z,{onClose:()=>Le(!1),children:[(0===Ge||1===Ge)&&(0,R.jsxs)("div",{className:v.Z.addDisplay,children:[(0,R.jsxs)("div",{className:v.Z.title,children:[(0,R.jsx)("div",{}),(0,R.jsx)("h6",{children:qe("confirm_renewal")}),(0,R.jsx)("img",{src:"/images/close-post-icon.svg",onClick:()=>Le(!1),alt:""})]}),(0,R.jsxs)("div",{className:v.Z.content,children:[(0,R.jsx)(x.Z,{labelText:qe("stay_for_month"),placeholder:qe("total_months_placeholder"),name:"month_re",value:null===ln||void 0===ln?void 0:ln.month,type:"text",onChange:e=>tn((n=>({...n,month:e.target.value}))),errorShow:Ke.month_re}),(0,R.jsxs)("div",{className:v.Z.tabsss,children:[(0,R.jsx)("div",{className:0===Ge?"".concat(v.Z.singletab," ").concat(v.Z.singletabActive):v.Z.singletab,onClick:()=>$e(0),children:qe("pay_online")}),(0,R.jsx)("div",{className:1===Ge?"".concat(v.Z.singletab," ").concat(v.Z.singletabActive):v.Z.singletab,onClick:()=>$e(1),children:qe("pay_offline")})]}),0===Ge&&(0,R.jsxs)("div",{children:[(0,R.jsxs)("div",{className:v.Z.singlerow,children:[(0,R.jsx)("h6",{children:qe("admission_fees")}),(0,R.jsxs)("h6",{children:["Rs."," ",null!==(u=null===Oe||void 0===Oe||null===(c=Oe.renewal_student)||void 0===c||null===(E=c.hostel_fee_structure)||void 0===E?void 0:E.total_admission_fees)&&void 0!==u?u:0]})]}),(0,R.jsxs)("div",{className:v.Z.singlerow,style:{marginTop:"1rem"},children:[(0,R.jsx)("h6",{children:qe("applicable_fees_only")}),(0,R.jsxs)("h6",{children:["Rs."," ",null!==(D=null===Oe||void 0===Oe||null===(M=Oe.renewal_student)||void 0===M||null===(T=M.hostel_fee_structure)||void 0===T?void 0:T.applicable_fees)&&void 0!==D?D:0]})]}),(0,R.jsx)("div",{className:v.Z.singlerow,children:(0,R.jsxs)("h6",{children:[qe("fees_category")," "," : ",null!==(F=null===Oe||void 0===Oe||null===(L=Oe.renewal_student)||void 0===L||null===(O=L.hostel_fee_structure)||void 0===O||null===(H=O.category_master)||void 0===H?void 0:H.category_name)&&void 0!==F?F:""]})}),(0,R.jsx)("h6",{className:v.Z.fee_structure_note,children:qe("fee_structure_note")}),(0,R.jsxs)("div",{className:v.Z.singlerow1,children:[(0,R.jsx)("h6",{children:qe("pay_in_installment")}),(0,R.jsx)(_.Z,{...I,onChange:()=>{We((e=>!e))}})]}),Pe&&(0,R.jsxs)("div",{children:[(0,R.jsx)("div",{className:v.Z.borderr}),(0,R.jsxs)("div",{className:v.Z.singlerow1,children:[(0,R.jsx)("h6",{children:qe("first_install")}),(0,R.jsxs)("h6",{children:["Rs."," ",null!==(q=null===Oe||void 0===Oe||null===(B=Oe.renewal_student)||void 0===B||null===(P=B.hostel_fee_structure)||void 0===P||null===(W=P.one_installments)||void 0===W?void 0:W.fees)&&void 0!==q?q:0]})]})]}),(0,R.jsx)(x.Z,{labelText:qe("enter_amount_to_be_paid"),name:"amount",type:"tel",value:Ve.amount,onChange:e=>{Xe((n=>({...n,amount:e.target.value})))},placeholder:qe("please_enter_amount_paid")}),(0,R.jsx)("div",{className:v.Z.payandconfirmContainer,children:(0,R.jsx)("p",{className:v.Z.payandconfirm,children:qe("pay_and_confirm")})}),(0,R.jsx)("div",{className:v.Z.btn,style:{cursor:"pointer"},onClick:()=>{var e;return(e=>{const n=un(ln.month);let l=!1;for(let s in n)if(s){l=!0;break}var t,i;l?Ue(n):+Ve.amount>=(null===e||void 0===e||null===(t=e.one_installments)||void 0===t?void 0:t.fees)&&+Ve.amount<=(null===e||void 0===e?void 0:e.total_admission_fees)?(Xe({...Ve,type:"Admission",installmentType:Pe?"one_installments":""}),Qe(!0)):nn({msg:"Enter amount is not less than ".concat(null===e||void 0===e||null===(i=e.one_installments)||void 0===i?void 0:i.fees," or greater than ").concat(null===e||void 0===e?void 0:e.total_admission_fees),run:!0})})(null===Oe||void 0===Oe||null===(e=Oe.renewal_student)||void 0===e?void 0:e.hostel_fee_structure)},children:qe("pay_confirm")})]}),1===Ge&&(0,R.jsxs)("div",{children:[(0,R.jsxs)("div",{className:v.Z.singlerow,children:[(0,R.jsx)("h6",{children:qe("admission_fees")}),(0,R.jsxs)("h6",{children:["Rs."," ",null!==(G=null===Oe||void 0===Oe||null===($=Oe.renewal_student)||void 0===$||null===(Y=$.hostel_fee_structure)||void 0===Y?void 0:Y.total_admission_fees)&&void 0!==G?G:0]})]}),(0,R.jsxs)("div",{className:v.Z.singlerow,style:{marginTop:"1rem"},children:[(0,R.jsx)("h6",{children:qe("applicable_fees_only")}),(0,R.jsxs)("h6",{children:["Rs."," ",null!==(Q=null===Oe||void 0===Oe||null===(z=Oe.renewal_student)||void 0===z||null===(J=z.hostel_fee_structure)||void 0===J?void 0:J.applicable_fees)&&void 0!==Q?Q:0]})]}),(0,R.jsx)("div",{className:v.Z.singlerow,children:(0,R.jsxs)("h6",{children:[qe("fees_category")," "," : ",null!==(K=null===Oe||void 0===Oe||null===(U=Oe.renewal_student)||void 0===U||null===(V=U.hostel_fee_structure)||void 0===V||null===(X=V.category_master)||void 0===X?void 0:X.category_name)&&void 0!==K?K:""]})}),(0,R.jsx)("h6",{className:v.Z.fee_structure_note,children:qe("fee_structure_note")}),(null===Oe||void 0===Oe||null===(ee=Oe.renewal_student)||void 0===ee||null===(ne=ee.hostel_fee_structure)||void 0===ne||null===(le=ne.one_installments)||void 0===le?void 0:le.fees)&&(0,R.jsxs)("div",{className:v.Z.singlerow1,children:[(0,R.jsx)("h6",{children:qe("first_install")}),(0,R.jsxs)("h6",{children:["Rs."," ",null!==(te=null===Oe||void 0===Oe||null===(ie=Oe.renewal_student)||void 0===ie||null===(se=ie.hostel_fee_structure)||void 0===se||null===(oe=se.one_installments)||void 0===oe?void 0:oe.fees)&&void 0!==te?te:0]})]}),(0,R.jsx)("div",{className:v.Z.borderr}),(0,R.jsx)("div",{className:v.Z.adholdcontainer,children:(0,R.jsx)("p",{className:v.Z.payandconfirm,children:qe("admission_hold")})}),(0,R.jsx)(C.Z,{financeId:null!==(de=null===Oe||void 0===Oe||null===(ae=Oe.renewal_hostel)||void 0===ae||null===(re=ae.institute)||void 0===re||null===(ue=re.financeDepart)||void 0===ue?void 0:ue[0])&&void 0!==de?de:"",setIndex:e=>{const n=un(ln.month);let l=!1;for(let t in n)if(t){l=!0;break}l?Ue(n):$e(e)},departmentId:null!==(ce=null===Oe||void 0===Oe||null===(ve=Oe.renewal_hostel)||void 0===ve?void 0:ve._id)&&void 0!==ce?ce:"",flowAs:"Hostel"})]})]})]}),2===Ge&&(0,R.jsx)(j.Z,{setIndex:$e,ConfirmOffline:cn}),3===Ge&&(0,R.jsx)(y.Z,{financeId:null!==(_e=null===Oe||void 0===Oe||null===(he=Oe.renewal_hostel)||void 0===he||null===(me=he.institute)||void 0===me||null===(pe=me.financeDepart)||void 0===pe?void 0:pe[0])&&void 0!==_e?_e:"",setIndex:$e,setPayData:tn,payData:ln,ConfirmOffline:cn,departmentId:null!==(fe=null===Oe||void 0===Oe||null===(xe=Oe.renewal_hostel)||void 0===xe?void 0:xe._id)&&void 0!==fe?fe:"",flowAs:"Hostel",viewAs:"HOSTEL_RENEWAL"}),4===Ge&&(0,R.jsx)(w.Z,{financeId:null!==(je=null===Oe||void 0===Oe||null===(ye=Oe.renewal_hostel)||void 0===ye||null===(we=ye.institute)||void 0===we||null===(ge=we.financeDepart)||void 0===ge?void 0:ge[0])&&void 0!==je?je:"",setIndex:$e,setPayData:tn,payData:ln,ConfirmOffline:cn,departmentId:null!==(Ze=null===Oe||void 0===Oe||null===(be=Oe.renewal_hostel)||void 0===be?void 0:be._id)&&void 0!==Ze?Ze:"",flowAs:"Hostel",viewAs:"HOSTEL_RENEWAL"}),5===Ge&&(0,R.jsx)(g.Z,{financeId:null!==(Ce=null===Oe||void 0===Oe||null===(Ne=Oe.renewal_hostel)||void 0===Ne||null===(Se=Ne.institute)||void 0===Se||null===(Ae=Se.financeDepart)||void 0===Ae?void 0:Ae[0])&&void 0!==Ce?Ce:"",setIndex:$e,setPayData:tn,payData:ln,ConfirmOffline:cn,departmentId:null!==(ke=null===Oe||void 0===Oe||null===(Re=Oe.renewal_hostel)||void 0===Re?void 0:Re._id)&&void 0!==ke?ke:"",flowAs:"Hostel",viewAs:"HOSTEL_RENEWAL"}),6===Ge&&(0,R.jsx)(Z.Z,{financeId:null!==(Ie=null===Oe||void 0===Oe||null===(Ee=Oe.renewal_hostel)||void 0===Ee||null===(De=Ee.institute)||void 0===De||null===(Me=De.financeDepart)||void 0===Me?void 0:Me[0])&&void 0!==Ie?Ie:"",setIndex:$e,setPayData:tn,payData:ln,ConfirmOffline:cn,departmentId:null!==(Te=null===Oe||void 0===Oe||null===(Fe=Oe.renewal_hostel)||void 0===Fe?void 0:Fe._id)&&void 0!==Te?Te:"",flowAs:"Hostel",viewAs:"HOSTEL_RENEWAL"}),ze&&(0,R.jsx)(p.Z,{})]}),Ye&&(0,R.jsx)(N.Z,{onClose:()=>Qe(!1),allContent:Ve,checkoutAdmissionHandler:e=>{let n=2.1*+(null===Ve||void 0===Ve?void 0:Ve.amount)/100,l=n+18*+n/100;const t=parseInt(null===Ve||void 0===Ve?void 0:Ve.amount);var i,s,o,d,a={amount:Math.ceil(t+ +l.toFixed(2))};"PAYTM"===e?(0,S.Ex)({amount:+(null===Ve||void 0===Ve?void 0:Ve.amount),amount_nocharges:+a.amount,type:"Hostel",paidBy:"".concat(null===Oe||void 0===Oe||null===(i=Oe.renewal_student)||void 0===i?void 0:i._id),paidTo:"".concat(null===Oe||void 0===Oe||null===(s=Oe.renewal_hostel)||void 0===s||null===(o=s.institute)||void 0===o?void 0:o._id),moduleId:"".concat(null===Oe||void 0===Oe||null===(d=Oe.renewal_application)||void 0===d?void 0:d._id),ad_status_id:"".concat(null===Oe||void 0===Oe?void 0:Oe._id),payment_installment:Ve.installmentType,ad_install:Pe,month:ln.month,payment_remain_1:null,payment_card_type:null,payment_book_id:null,name:Be.username,isApk:"web",payment_card_id:null}).then((e=>{var n,l;window.onScriptLoad(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(l=n.body)||void 0===l?void 0:l.txnToken,null===e||void 0===e?void 0:e.order,null===e||void 0===e?void 0:e.amount)})).catch((e=>{console.info(e)})):null!==sn&&void 0!==sn&&sn.Key&&null!==a&&void 0!==a&&a.amount?on({amount:null===a||void 0===a?void 0:a.amount}).then((e=>{var n,l,t,i,s,o,d;null!==(n=e.data)&&void 0!==n&&n.success?(0,h.r)({key:null===sn||void 0===sn?void 0:sn.Key,oid:null===(l=e.data)||void 0===l?void 0:l.order.id,amount_nocharge:100*(null===Ve||void 0===Ve?void 0:Ve.amount),amount:null===(t=e.data)||void 0===t?void 0:t.order.amount,type:"Hostel",pay_by:"".concat(null===Oe||void 0===Oe||null===(i=Oe.renewal_student)||void 0===i?void 0:i._id),pay_to:"".concat(null===Oe||void 0===Oe||null===(s=Oe.renewal_hostel)||void 0===s||null===(o=s.institute)||void 0===o?void 0:o._id),mid:"".concat(null===Oe||void 0===Oe||null===(d=Oe.renewal_application)||void 0===d?void 0:d._id),razor_key:null===an||void 0===an?void 0:an.key,razor_author:null===an||void 0===an?void 0:an.bool,status:"".concat(null===Oe||void 0===Oe?void 0:Oe._id),installment_type:Ve.installmentType,is_install:Pe,h_month:ln.month}):console.log("data error")})).catch((e=>{console.log(e)})):console.log("error")}}),en.run&&(0,R.jsx)(b.Ch,{msg:en.msg,run:en.run,setRun:()=>nn({msg:"",run:!1}),postiton:"bottom",type:"error"})]})},D={addDisplay:"CancelStudentAdmisionModal_addDisplay__F2Wy6",title:"CancelStudentAdmisionModal_title__olnIk",content:"CancelStudentAdmisionModal_content__yn5Kq",contentRow:"CancelStudentAdmisionModal_contentRow__x+xXy",payLabel:"CancelStudentAdmisionModal_payLabel__GaOXQ",payInput:"CancelStudentAdmisionModal_payInput__o+M5l",payCardTop:"CancelStudentAdmisionModal_payCardTop__zvIDT",payCardContent:"CancelStudentAdmisionModal_payCardContent__8AG31",btn:"CancelStudentAdmisionModal_btn__f8vxs",btn2:"CancelStudentAdmisionModal_btn2__w7gOx",contentstatus:"CancelStudentAdmisionModal_contentstatus__qsBSH",payConfirmbtn:"CancelStudentAdmisionModal_payConfirmbtn__r23C0"};var M=l(5574),T=l(73032);const F=function(e){let{cancelStatus:n,hideModal:l,cancelData:i,fetch:s,setCancelStatus:d,viewAs:a}=e;const[r,u]=(0,t.useState)(""),[c]=(0,T.x9)(),[v]=(0,o.hj)(),[_]=(0,o.LJ)(),[h,m]=(0,t.useState)(!1);return(0,R.jsxs)(R.Fragment,{children:[!h&&(0,R.jsx)(M.Z,{open:n,onClose:()=>l(!1),children:(0,R.jsxs)("div",{className:"".concat(D.addDisplay," ").concat(D.cancelModal),children:[(0,R.jsx)("div",{className:D.title,children:"Not Accept Application ?"}),(0,R.jsx)("div",{className:D.content,children:(0,R.jsxs)("div",{className:D.payCard,children:[(0,R.jsxs)("label",{htmlFor:"Cancel",className:D.payLabel,children:["Type ",(0,R.jsx)("i",{children:"Cancel"})," for cancel ?"]}),(0,R.jsx)("input",{type:"text",name:"cancel",className:D.payInput,required:!0,placeholder:"Type Cancel here...",id:"Cancel",onChange:e=>u(e.target.value)}),"Cancel"===r?(0,R.jsx)("div",{className:D.btn,onClick:()=>{var e,n,l;null!==i&&void 0!==i&&i._id&&null!==i&&void 0!==i&&i.applicationId&&null!==i&&void 0!==i&&i.studentId&&"Cancel"===r&&(m(!0),"RENEWAL"===a?_({rid:null===i||void 0===i?void 0:i._id,sid:null===i||void 0===i||null===(e=i.renewal_student)||void 0===e?void 0:e._id}).then((()=>{s(),d(!1),m(!1)})).catch({}):"Hostel Application"===(null===i||void 0===i?void 0:i.flow_status)?v({status:null===i||void 0===i?void 0:i._id,appId:null===i||void 0===i||null===(n=i.applicationId)||void 0===n?void 0:n._id,sid:null===i||void 0===i?void 0:i.studentId}).then((()=>{s(),d(!1),m(!1)})).catch({}):c({status:null===i||void 0===i?void 0:i._id,appId:null===i||void 0===i||null===(l=i.applicationId)||void 0===l?void 0:l._id,sid:null===i||void 0===i?void 0:i.studentId}).then((e=>{e.data.cancel_status&&(s(),d(!1),m(!1))})).catch({}))},children:"Cancel"}):(0,R.jsx)("div",{className:D.btn2,children:"Cancel"})]})})]})}),h&&(0,R.jsx)(p.Z,{})]})};var L=l(98760);const O=e=>{let{receipt:n,onClose:l,onRefetch:i,sid:s}=e;const[d,a]=(0,t.useState)({fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:"",fee_payment_acknowledge:""}),[r,u]=(0,t.useState)(!1),{getFeeReceiptDetail:c,getFeeReceiptDetailRefetch:v}=(0,T.$d)({rid:n,skip:!n}),[_]=(0,o.iw)();(0,t.useEffect)((()=>{n&&v()}),[n,v]),(0,t.useEffect)((()=>{var e,n,l,t,i,s,o,d;null!==c&&void 0!==c&&c.receipt&&a({fee_payment_mode:null===c||void 0===c||null===(e=c.receipt)||void 0===e?void 0:e.fee_payment_mode,fee_payment_amount:null===c||void 0===c||null===(n=c.receipt)||void 0===n?void 0:n.fee_payment_amount,transaction_date:null===c||void 0===c||null===(l=c.receipt)||void 0===l||null===(t=l.fee_transaction_date)||void 0===t?void 0:t.substr(0,10),fee_bank_name:null===c||void 0===c||null===(i=c.receipt)||void 0===i?void 0:i.fee_bank_name,fee_bank_holder:null===c||void 0===c||null===(s=c.receipt)||void 0===s?void 0:s.fee_bank_holder,fee_utr_reference:null===c||void 0===c||null===(o=c.receipt)||void 0===o?void 0:o.fee_utr_reference,fee_payment_acknowledge:null===c||void 0===c||null===(d=c.receipt)||void 0===d?void 0:d.fee_payment_acknowledge})}),[null===c||void 0===c?void 0:c.receipt]);return(0,R.jsxs)(k.Z,{onClose:l,children:[(0,R.jsx)("div",{style:{width:"30rem",maxHeight:"35rem",padding:"0.9rem",overflowX:"hidden",scrollBehavior:"smooth",overflowY:"auto"},children:(0,R.jsx)(L.Z,{payData:d,setPayData:a,ConfirmOffline:()=>{var e;u((e=>!e)),_({rid:null===c||void 0===c||null===(e=c.receipt)||void 0===e?void 0:e._id,sid:s,receiptReapply:d}).then((()=>{i(),l(),u((e=>!e))})).catch({})},setOpenForm:l})}),r&&(0,R.jsx)(p.Z,{})]})},H=e=>{var n,l,s,o,a,r;let{renewal:u,onRefetch:v}=e;const{t:_}=(0,i.$G)(),[h,m]=(0,t.useState)(!1),[p,f]=(0,t.useState)(!1),[x,j]=(0,t.useState)(!1);return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)("div",{className:d.Z.student_renewal_card,children:[(0,R.jsx)("h6",{children:_("current_stay")}),(0,R.jsxs)("div",{className:d.Z.student_renewal_date,children:[(0,R.jsx)("p",{children:_("start_on")}),(0,R.jsx)("p",{children:c()(null===u||void 0===u?void 0:u.renewal_start).format("DD MMM yyyy")})]}),(0,R.jsxs)("div",{className:d.Z.student_renewal_date,children:[(0,R.jsx)("p",{children:_("expire_on")}),(0,R.jsx)("p",{children:c()(null===u||void 0===u?void 0:u.renewal_end).format("DD MMM yyyy")})]}),(0,R.jsxs)("p",{children:["Stay for"," ",null===u||void 0===u||null===(n=u.renewal_student)||void 0===n||null===(l=n.hostel_fee_structure)||void 0===l?void 0:l.structure_month," ","Months for fees info click here"]}),"Current Stay Request"===(null===u||void 0===u?void 0:u.renewal_status)&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("h6",{children:_("renewal_requested")}),(0,R.jsxs)("div",{className:d.Z.student_renewal_btn_group,children:[(0,R.jsx)("button",{className:d.Z.student_renewal_cancel_btn,onClick:()=>f(!0),children:_("cancel")}),(0,R.jsx)("button",{className:d.Z.student_renewal_confirm_btn,onClick:()=>m(!0),children:_("confirm")})]})]}),"Requested"===(null===u||void 0===u?void 0:u.receipt_status)&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("h6",{children:_("renewal_requested")}),(0,R.jsx)("div",{className:d.Z.student_renewal_btn_group,children:(0,R.jsx)("button",{className:d.Z.student_renewal_confirm_btn,style:{backgroundColor:"#B8B83E",width:"100%"},children:_("requested")})})]}),"Rejected"===(null===u||void 0===u?void 0:u.receipt_status)&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("h6",{children:_("renewal_requested")}),(0,R.jsxs)("div",{className:d.Z.student_renewal_date,style:{justifyContent:"flex-start"},children:[(0,R.jsxs)("p",{children:[_("reason")," "]}),(0,R.jsx)("p",{children:" : ".concat(null!==(s=null===u||void 0===u||null===(o=u.receipt)||void 0===o?void 0:o.reason)&&void 0!==s?s:"")})]}),(0,R.jsx)("div",{className:d.Z.student_renewal_btn_group,children:(0,R.jsx)("button",{className:d.Z.student_renewal_confirm_btn,style:{width:"100%"},onClick:()=>j(!0),children:_("re_apply_for_receipt")})})]})]}),x&&(0,R.jsx)(O,{receipt:null===u||void 0===u||null===(a=u.receipt)||void 0===a?void 0:a._id,onClose:()=>j(!1),onRefetch:v,sid:null===u||void 0===u||null===(r=u.renewal_student)||void 0===r?void 0:r._id}),h&&(0,R.jsx)(E,{addDisplay:h,hideModal:e=>m(e),statusQuery:u,onRefetchApplication:v}),p&&(0,R.jsx)(F,{cancelStatus:p,hideModal:e=>f(e),cancelData:u,fetch:v,setCancel:f,viewAs:"RENEWAL"})]})},q=e=>{let{sid:n,isProfile:l,isOther:u}=e;const{t:c}=(0,i.$G)(),[v,_]=(0,s.YD)(),[h,m]=(0,t.useState)(1),[p,f]=(0,t.useState)(!0),[x,j]=(0,t.useState)(!0),[y,w]=(0,t.useState)([]),[g,Z]=(0,t.useState)(!1),{getRenewalListByStudent:b,getRenewalListByStudentRefetch:C}=(0,o.L8)({data:{sid:n,page:h,limit:10},skip:!n});(0,t.useEffect)((()=>{n&&(j(!0),C())}),[n,h,C]),(0,t.useEffect)((()=>{_&&p&&m((e=>e+1))}),[_,p]),(0,t.useEffect)((()=>{var e,n;g?(w(null===b||void 0===b?void 0:b.all_renewals),j(!1),Z(!1)):null!==b&&void 0!==b&&b.all_renewals?(w((e=>{var n,l;return null===(n=[...new Set(null===(l=[...e,...null===b||void 0===b?void 0:b.all_renewals])||void 0===l?void 0:l.map(JSON.stringify))])||void 0===n?void 0:n.map(JSON.parse)})),j(!1)):0===(null===b||void 0===b||null===(n=b.all_renewals)||void 0===n?void 0:n.length)&&j(!1);10===(null===b||void 0===b||null===(e=b.all_renewals)||void 0===e?void 0:e.length)?f(!0):f(!1)}),[null===b||void 0===b?void 0:b.all_renewals]);const N=()=>{m(1),Z(!0),j(!0),C()};return(0,R.jsxs)(R.Fragment,{children:["VIEW_PROFILE"===l||u?"":(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("div",{className:d.Z.with_search,children:(0,R.jsx)("h6",{children:c("stay_renewal")})}),(0,R.jsx)(a.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}})]}),null===y||void 0===y?void 0:y.map(((e,n)=>(null===y||void 0===y?void 0:y.length)===n+1?(0,R.jsx)("div",{ref:v,children:(0,R.jsx)(H,{renewal:e,onRefetch:N})},null===e||void 0===e?void 0:e._id):(0,R.jsx)(H,{renewal:e,onRefetch:N},null===e||void 0===e?void 0:e._id))),x&&(0,R.jsx)(r.Z,{})]})}}}]);
//# sourceMappingURL=63843.8ce9634f.chunk.js.map