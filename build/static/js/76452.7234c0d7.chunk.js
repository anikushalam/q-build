"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[76452],{65408:function(e,t,n){n.d(t,{Z:function(){return x}});var a=n(29439),s=n(72791),i=n(33992),c=n(11105),l=n(1413),d=n(33148),o=n(69721),r=n(74801),u=n(8148),v=n(35395),m=n(80184),j=s.lazy((function(){return Promise.all([n.e(6307),n.e(85054),n.e(82555)]).then(n.bind(n,85054))})),h=function(e){var t,n,i,c,h,b,x,f,p,Z,g,_,N,y,T,S,I,A,D,E,C,P,M,R,k,w,F,q,U,O,H,V,L,J,G,B,$=e.sub,Y=e.carryParentState,K=e.isView,z=e.did,Q=e.cid,W=e.instituteId,X=e.onRefetch,ee=(0,s.useState)(""),te=(0,a.Z)(ee,2),ne=te[0],ae=te[1];return(0,m.jsxs)(m.Fragment,{children:["DEPARTMENT_HEAD"===K?(0,m.jsx)(u.Z,{carryParentState:(0,l.Z)((0,l.Z)({},Y),{},{subjectId:null===$||void 0===$?void 0:$._id,subjectName:"".concat(null===$||void 0===$?void 0:$.subjectName," ").concat(null!==$&&void 0!==$&&$.subject_category?"(".concat(null===$||void 0===$?void 0:$.subject_category,")"):""," ").concat(null!==$&&void 0!==$&&null!==(t=$.selected_batch_query)&&void 0!==t&&t.batchName?"(".concat(null===$||void 0===$||null===(n=$.selected_batch_query)||void 0===n?void 0:n.batchName,")"):""," ").concat("Optional"===(null===$||void 0===$?void 0:$.subjectOptional)?"(".concat(null===$||void 0===$?void 0:$.subjectOptional,")"):""),batchId:null===$||void 0===$||null===(i=$.selected_batch_query)||void 0===i?void 0:i._id,subjectTeacherName:"".concat(null!==(c=null===$||void 0===$||null===(h=$.subjectTeacherName)||void 0===h?void 0:h.staffFirstName)&&void 0!==c?c:""," ").concat(null!==(b=null===$||void 0===$||null===(x=$.subjectTeacherName)||void 0===x?void 0:x.staffMiddleName)&&void 0!==b?b:""," ").concat(null!==(f=null===$||void 0===$||null===(p=$.subjectTeacherName)||void 0===p?void 0:p.staffLastName)&&void 0!==f?f:"")}),activeTab:"subject-detail",children:(0,m.jsxs)("div",{className:d.Z.class_container,style:{justifyContent:"space-between"},children:[(0,m.jsxs)("div",{className:d.Z.moderator_container_title,children:[(0,m.jsx)("img",{className:d.Z.oneRowImage,src:null!==$&&void 0!==$&&null!==(Z=$.subjectTeacherName)&&void 0!==Z&&Z.staffProfilePhoto?"".concat(o.yI,"/").concat(null===$||void 0===$||null===(g=$.subjectTeacherName)||void 0===g?void 0:g.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff avatr"}),(0,m.jsxs)("div",{className:d.Z.class_container_text,children:[(0,m.jsxs)("h6",{children:[null!==(_=null===$||void 0===$?void 0:$.subjectName)&&void 0!==_?_:""," ",null!==$&&void 0!==$&&$.subject_category?"(".concat(null===$||void 0===$?void 0:$.subject_category,")"):"",null!==$&&void 0!==$&&null!==(N=$.selected_batch_query)&&void 0!==N&&N.batchName?(0,m.jsxs)("span",{style:{fontWeight:"400",fontSize:"12px"},children:[" ","(",null!==(y=null===$||void 0===$||null===(T=$.selected_batch_query)||void 0===T?void 0:T.batchName)&&void 0!==y?y:"",")"]}):null,"Optional"===(null===$||void 0===$?void 0:$.subjectOptional)&&"(".concat(null===$||void 0===$?void 0:$.subjectOptional,")")]}),(0,m.jsx)("p",{children:"".concat(null!==(S=null===$||void 0===$||null===(I=$.subjectTeacherName)||void 0===I?void 0:I.staffFirstName)&&void 0!==S?S:""," ").concat(null!==(A=null===$||void 0===$||null===(D=$.subjectTeacherName)||void 0===D?void 0:D.staffMiddleName)&&void 0!==A?A:""," ").concat(null!==(E=null===$||void 0===$||null===(C=$.subjectTeacherName)||void 0===C?void 0:C.staffLastName)&&void 0!==E?E:"")})]})]}),(0,m.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(e){e.preventDefault(),ae(null===$||void 0===$?void 0:$._id)},title:"Menu",style:{cursor:"pointer",height:"1.5rem"}})]})}):(0,m.jsx)(r.Z,{carryParentState:(0,l.Z)((0,l.Z)({},Y),{},{subjectId:null===$||void 0===$?void 0:$._id,subjectName:"".concat(null===$||void 0===$?void 0:$.subjectName," ").concat(null!==$&&void 0!==$&&$.subject_category?"(".concat(null===$||void 0===$?void 0:$.subject_category,")"):""," ").concat(null!==$&&void 0!==$&&null!==(P=$.selected_batch_query)&&void 0!==P&&P.batchName?"(".concat(null===$||void 0===$||null===(M=$.selected_batch_query)||void 0===M?void 0:M.batchName,")"):""," ").concat("Optional"===(null===$||void 0===$?void 0:$.subjectOptional)?"(".concat(null===$||void 0===$?void 0:$.subjectOptional,")"):""),batchId:null===$||void 0===$||null===(R=$.selected_batch_query)||void 0===R?void 0:R._id,isView:"ADMINISTRATOR"}),activeTab:"subject-menu",children:(0,m.jsxs)("div",{className:d.Z.class_container,children:[(0,m.jsx)("img",{className:d.Z.oneRowImage,src:null!==$&&void 0!==$&&null!==(k=$.subjectTeacherName)&&void 0!==k&&k.staffProfilePhoto?"".concat(o.yI,"/").concat(null===$||void 0===$||null===(w=$.subjectTeacherName)||void 0===w?void 0:w.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff avatr"}),(0,m.jsxs)("div",{className:d.Z.class_container_text,children:[(0,m.jsxs)("h6",{children:[null!==(F=null===$||void 0===$?void 0:$.subjectName)&&void 0!==F?F:""," ",null!==$&&void 0!==$&&$.subject_category?"(".concat(null===$||void 0===$?void 0:$.subject_category,")"):"",null!==$&&void 0!==$&&null!==(q=$.selected_batch_query)&&void 0!==q&&q.batchName?(0,m.jsxs)("span",{style:{fontWeight:"400",fontSize:"12px"},children:[" ","(",null!==(U=null===$||void 0===$||null===(O=$.selected_batch_query)||void 0===O?void 0:O.batchName)&&void 0!==U?U:"",")"]}):null,"Optional"===(null===$||void 0===$?void 0:$.subjectOptional)&&"(".concat(null===$||void 0===$?void 0:$.subjectOptional,")")]}),(0,m.jsx)("p",{children:"".concat(null!==(H=null===$||void 0===$||null===(V=$.subjectTeacherName)||void 0===V?void 0:V.staffFirstName)&&void 0!==H?H:""," ").concat(null!==(L=null===$||void 0===$||null===(J=$.subjectTeacherName)||void 0===J?void 0:J.staffMiddleName)&&void 0!==L?L:""," ").concat(null!==(G=null===$||void 0===$||null===(B=$.subjectTeacherName)||void 0===B?void 0:B.staffLastName)&&void 0!==G?G:"")})]})]})}),(0,m.jsx)(v.Z,{children:ne&&(0,m.jsx)(j,{departmentModal:!!ne,hideModal:function(){return ae("")},id:W,did:z,cid:Q,edit:ne,setEdit:ae,editSubject:ne,isEditBy:"DEPARTMENT_HEAD",onRefetch:X})})]})},b=function(e){var t=e.subjects,n=e.carryParentState,a=e.isView,s=e.cid,i=e.instituteId,c=e.did,l=e.onRefetch;return(0,m.jsx)(m.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e){return(0,m.jsx)(h,{sub:e,carryParentState:n,isView:a,cid:s,instituteId:i,did:c,onRefetch:l},null===e||void 0===e?void 0:e._id)}))})},x=function(e){var t,n,l,d=e.carryParentState,o=e.clsId,r=e.isView,u=e.instituteId,v=e.did,j=(0,s.useState)(!0),h=(0,a.Z)(j,2),x=h[0],f=h[1],p=(0,i.fk)({cid:o,skip:!o}),Z=p.oneClassAllSubject,g=p.oneClassAllSubjectRefetch;return(0,s.useEffect)((function(){var e;null!==Z&&void 0!==Z&&null!==(e=Z.classes)&&void 0!==e&&e.subject&&f(!1)}),[null===Z||void 0===Z||null===(t=Z.classes)||void 0===t?void 0:t.subject]),(0,s.useEffect)((function(){o&&g()}),[o,g]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(b,{subjects:null!==(n=null===Z||void 0===Z||null===(l=Z.classes)||void 0===l?void 0:l.subject)&&void 0!==n?n:[],carryParentState:d,isView:r||"ADMINISTRATOR",cid:o,instituteId:u,did:v,onRefetch:g}),x&&(0,m.jsx)(c.Z,{})]})}},893:function(e,t,n){n.d(t,{Z:function(){return _}});var a=n(93433),s=n(37762),i=n(29439),c=n(72791),l=n(16313),d=n(53967),o=n(94721),r=n(89261),u=n(62921),v=n(17758),m=n(39230),j=n(24582),h=n(98734),b=n(37570),x=n(95048),f=n(99376),p=n(51561),Z=n(80184),g=function(e){var t=e.today,n=e.alreadyMark,a=e.allIdsArray,d=e.clickedIndex,o=e.setClickedIndex,r=e.idPresentArray,u=e.idAbsentArray,v=e.setIdPresentArray,g=e.setIdAbsentArray,_=e.cid,N=e.isDepartment,y=e.className,T=e.setIsRefetch,S=c.useState(!1),I=(0,i.Z)(S,2),A=I[0],D=I[1],E=c.useState(!1),C=(0,i.Z)(E,2),P=C[0],M=C[1],R=(0,j.b6)(),k=(0,i.Z)(R,1)[0],w=(0,j.wf)(),F=(0,i.Z)(w,1)[0],q=(0,m.$G)().t,U=(0,c.useState)(!1),O=(0,i.Z)(U,2),H=O[0],V=O[1],L=(0,x.I0)(),J=(0,c.useState)({msg:"",run:!1}),G=(0,i.Z)(J,2),B=G[0],$=G[1];c.useEffect((function(){null!==r&&void 0!==r&&r.length||null!==u&&void 0!==u&&u.length?D(!0):D(!1)}),[r,u]);var Y=function(){V((function(e){return!e}))};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:"1.5rem"},children:[(0,Z.jsx)("div",{className:l.Z.buttons,children:(0,Z.jsx)("div",{className:l.Z.save,onClick:Y,children:q("export_zip_attendance")})}),(0,Z.jsx)("div",{className:l.Z.buttons,children:0!==d?A&&!N&&(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("div",{className:l.Z.save,onClick:function(){M((function(e){return!e}));var e=t.split("-"),i=e[0]>9?e[0]:"0".concat(e[0]),c=e[1]>9?e[1]:"0".concat(e[1]);if(null!==n&&void 0!==n&&n._id)L(f.R.updateClassAttendance({clsId:_,ldate:"".concat(i,"/").concat(c,"/").concat(e[2]),presentStudent:null!==r&&void 0!==r&&r.length?r:[],absentStudent:null!==u&&void 0!==u&&u.length?u:[],alreadyMark:null===n||void 0===n?void 0:n._id})),F({said:null===n||void 0===n?void 0:n._id,attendanceUpdate:{date:"".concat(i,"/").concat(c,"/").concat(e[2]),present:null!==r&&void 0!==r&&r.length?r:[],absent:null!==u&&void 0!==u&&u.length?u:[]}}).then((function(){T(!0),o(0),M((function(e){return!e})),v([]),g([])})).catch({});else{var l=[];null===a||void 0===a||a.map((function(e){return l.push(e._id)}));var d=[],m=[];if(null!==r&&void 0!==r&&r.length){var j,h=(0,s.Z)(l);try{for(h.s();!(j=h.n()).done;){var b=j.value;null!==r&&void 0!==r&&r.includes(b)||m.push(b),1}}catch(N){h.e(N)}finally{h.f()}}else{var x,p=(0,s.Z)(l);try{for(p.s();!(x=p.n()).done;){var Z=x.value;null!==u&&void 0!==u&&u.includes(Z)||d.push(Z),1}}catch(N){p.e(N)}finally{p.f()}}k({cid:_,attendance:{date:"".concat(i,"/").concat(c,"/").concat(e[2]),present:null!==r&&void 0!==r&&r.length?r:d,absent:null!==u&&void 0!==u&&u.length?u:m}}).then((function(t){var n,a;"Today will be holiday Provided by department Admin or already marked attendance"===(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)?$({msg:"Today will be holiday Provided by department Admin or already marked attendance",run:!0}):L(f.R.addClassAttendance({clsId:_,ldate:"".concat(i,"/").concat(c,"/").concat(e[2]),presentStudent:null!==r&&void 0!==r&&r.length?r:d,absentStudent:null!==u&&void 0!==u&&u.length?u:m,alreadyMark:null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.alreadyMark}));o(0),M((function(e){return!e})),v([]),g([])})).catch({})}},children:q("save")})}):""})]}),P&&(0,Z.jsx)(h.Z,{}),H&&(0,Z.jsx)(b.Z,{cid:_,onClose:Y,className:y}),B.run&&(0,Z.jsx)(p.Ch,{msg:B.msg,run:B.run,setRun:function(){return $({msg:"",run:!1})},postiton:"bottom",type:"error"})]})};var _=function(e){var t,n,h,b,f,p,_,N,y,T,S,I,A,D,E=e.cid,C=e.isDepartment,P=e.className,M=(0,d.Z)(),R=M.calendarData,k=M.selectedDate,w=M.todayFormatted,F=M.switchMonth,q=M.monthNames,U=M.getNextMonth,O=M.getPrevMonth,H=(0,c.useState)(w),V=(0,i.Z)(H,2),L=V[0],J=V[1],G=L.split("-"),B=G[0]>9?G[0]:"0".concat(G[0]),$=G[1]>9?G[1]:"0".concat(G[1]),Y=(0,m.$G)().t,K=(0,x.v9)((function(e){return e.attendanceStore.classTeacher})),z=(0,c.useState)(""),Q=(0,i.Z)(z,2),W=Q[0],X=Q[1],ee=(0,c.useState)(!1),te=(0,i.Z)(ee,2),ne=te[0],ae=te[1],se=(0,j.EY)({data:{cid:E,page:1,limit:30},skip:!E}),ie=se.classAllStudent,ce=se.classAllStudentRefetch,le=(0,j.Px)({data:{cid:E,date:"".concat(B,"/").concat($,"/").concat(G[2])},skip:!E}),de=le.classStudentCurrentAttendance,oe=le.classStudentCurrentAttendanceRefetch;(0,c.useEffect)((function(){if((null===K||void 0===K?void 0:K.length)>0){var e,t=L.split("-"),n=t[0]>9?t[0]:"0".concat(t[0]),a=t[1]>9?t[1]:"0".concat(t[1]),i="",c=(0,s.Z)(K);try{for(c.s();!(e=c.n()).done;){var l=e.value;if((null===l||void 0===l?void 0:l.ldate)==="".concat(n,"/").concat(a,"/").concat(t[2])){if((null===l||void 0===l?void 0:l.clsId)===E){i=l;break}ae(!1)}else ae(!1)}}catch(d){c.e(d)}finally{c.f()}X(i)}}),[K,L,E,ne]),(0,c.useEffect)((function(){E&&(ce(),oe())}),[E,oe,ce]);var re=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ue=Math.floor(R.map((function(e){return e.date})).indexOf(L)/10),ve=(0,c.useState)(ue),me=(0,i.Z)(ve,2),je=me[0],he=me[1],be=10*je,xe=Math.ceil(R.length/10),fe=R.slice(be,be+10).map((function(e,t){return(0,Z.jsxs)("div",{className:e.date===L?"".concat(l.Z.date," ").concat(l.Z.clickedDate):l.Z.date,onClick:function(){return J(e.date)},children:[(0,Z.jsx)("h6",{children:e.date.split("-")[0]}),(0,Z.jsx)("p",{children:re[e.day]})]},t)})),pe=(0,c.useState)(1),Ze=(0,i.Z)(pe,2),ge=Ze[0],_e=Ze[1],Ne=(0,c.useState)([]),ye=(0,i.Z)(Ne,2),Te=ye[0],Se=ye[1],Ie=(0,c.useState)([]),Ae=(0,i.Z)(Ie,2),De=Ae[0],Ee=Ae[1],Ce=c.useState([]),Pe=(0,i.Z)(Ce,2),Me=Pe[0],Re=Pe[1],ke=c.useState([]),we=(0,i.Z)(ke,2),Fe=we[0],qe=we[1],Ue=(0,c.useState)(!1),Oe=(0,i.Z)(Ue,2),He=Oe[0],Ve=Oe[1];c.useEffect((function(){var e,t;Se(null===ie||void 0===ie||null===(e=ie.classes)||void 0===e?void 0:e.ApproveStudent),Ee(null===ie||void 0===ie||null===(t=ie.classes)||void 0===t?void 0:t.ApproveStudent)}),[null===ie||void 0===ie||null===(t=ie.classes)||void 0===t?void 0:t.ApproveStudent]),c.useEffect((function(){Re([]),qe([])}),[ge]);var Le=function(e){var t=(0,a.Z)(Me);if(null!==t&&void 0!==t&&t.includes(e)){var n=t.indexOf(e);t.splice(n,1),Re((function(){return(0,a.Z)(t)}))}else Re((function(t){return[].concat((0,a.Z)(t),[e])}))},Je=function(e){var t=(0,a.Z)(Fe);if(null!==t&&void 0!==t&&t.includes(e)){var n=t.indexOf(e);t.splice(n,1),qe((function(){return(0,a.Z)(t)}))}else qe((function(t){return[].concat((0,a.Z)(t),[e])}))};return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("div",{className:l.Z.attendence,style:{border:C?"none":"0.5px solid #cacaca"},children:[(0,Z.jsxs)("div",{className:l.Z.attendencehead,children:[(0,Z.jsxs)("div",{className:l.Z.attendenceBtns,children:[(0,Z.jsxs)("div",{className:l.Z.changemonth,onClick:function(){return Ve(!He)},children:[(0,Z.jsxs)("h6",{children:[q[k.getMonth()]," ",k.getFullYear()]}),(0,Z.jsx)("img",{alt:"not found",src:"/images/dropdown-icon.svg"}),He&&(0,Z.jsx)("div",{className:l.Z.selectMonthList,children:["January","February","March","April","May","June","July","August","September","October","November","December"].map((function(e,t){return(0,Z.jsx)("div",{className:l.Z.month,onClick:function(){F(t),Ve(!1)},children:e},t)}))})]}),(0,Z.jsx)(g,{alreadyMark:W?{_id:null===W||void 0===W?void 0:W.alreadyMark}:null===de||void 0===de||null===(n=de.classes)||void 0===n||null===(h=n.attendenceDate)||void 0===h?void 0:h[0],today:L,allIdsArray:null===ie||void 0===ie||null===(b=ie.classes)||void 0===b?void 0:b.ApproveStudent,classStudentCurrentAttendanceRefetch:oe,clickedIndex:ge,setClickedIndex:_e,idPresentArray:Me,idAbsentArray:Fe,setIdPresentArray:Re,setIdAbsentArray:qe,cid:E,isDepartment:C,className:P,setIsRefetch:ae})]}),(0,Z.jsxs)("div",{className:l.Z.calender,children:[(0,Z.jsx)("div",{className:l.Z.arrowbtn,onClick:function(){je>0?he((function(e){return e-1})):(he(xe-1),O())},children:(0,Z.jsx)("img",{alt:"not found",src:"/images/members/left-icon.svg"})}),(0,Z.jsx)("div",{className:l.Z.dates,children:fe}),(0,Z.jsx)("div",{className:l.Z.arrowbtn,onClick:function(){je+1<xe?he((function(e){return e+1})):(he(0),U())},children:(0,Z.jsx)("img",{alt:"not found",src:"/images/members/right-icon.svg"})})]})]}),(0,Z.jsx)(o.Z,{}),(0,Z.jsxs)("div",{className:l.Z.tabs,children:[(0,Z.jsxs)("div",{className:0===ge?"".concat(l.Z.tab," ").concat(l.Z.purple):"".concat(l.Z.tab," ").concat(l.Z.grey),onClick:function(){return _e(0)},children:[Y("total")," ",null===ie||void 0===ie||null===(f=ie.classes)||void 0===f||null===(p=f.ApproveStudent)||void 0===p?void 0:p.length]}),(0,Z.jsxs)("div",{className:1===ge?"".concat(l.Z.tab," ").concat(l.Z.tabgreen):"".concat(l.Z.tab," ").concat(l.Z.light),onClick:function(){return _e(1)},children:[Y("present")," ",W?null!==(_=null===W||void 0===W?void 0:W.presentCount)&&void 0!==_?_:0:null===de||void 0===de||null===(N=de.classes)||void 0===N||null===(y=N.attendenceDate[0])||void 0===y?void 0:y.presentTotal]}),(0,Z.jsxs)("div",{className:2===ge?"".concat(l.Z.tab," ").concat(l.Z.red):"".concat(l.Z.tab," ").concat(l.Z.rose),onClick:function(){return _e(2)},children:[Y("absent")," ",W?null!==(T=null===W||void 0===W?void 0:W.absentCount)&&void 0!==T?T:0:null===de||void 0===de||null===(S=de.classes)||void 0===S||null===(I=S.attendenceDate[0])||void 0===I?void 0:I.absentTotal]})]}),(0,Z.jsxs)("div",{className:l.Z.list,children:[0===ge&&(null===ie||void 0===ie||null===(A=ie.classes)||void 0===A||null===(D=A.ApproveStudent)||void 0===D?void 0:D.map((function(e,t){var n,a,s,i,c,d,o,u;return W?null!==W&&void 0!==W&&null!==(n=W.presentStudent)&&void 0!==n&&n.includes(e._id)?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(r.Z,{student:e,status:"present"},t),(0,Z.jsx)("div",{className:l.Z.divider})]}):null!==W&&void 0!==W&&null!==(a=W.absentStudent)&&void 0!==a&&a.includes(e._id)?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(r.Z,{student:e,status:"absent"},t),(0,Z.jsx)("div",{className:l.Z.divider})]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(r.Z,{student:e,status:"initial"},t),(0,Z.jsx)("div",{className:l.Z.divider})]}):null!==de&&void 0!==de&&null!==(s=de.classes)&&void 0!==s&&null!==(i=s.attendenceDate[0])&&void 0!==i&&null!==(c=i.presentStudent)&&void 0!==c&&c.includes(e._id)?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(r.Z,{student:e,status:"present"},t),(0,Z.jsx)("div",{className:l.Z.divider})]}):null!==de&&void 0!==de&&null!==(d=de.classes)&&void 0!==d&&null!==(o=d.attendenceDate[0])&&void 0!==o&&null!==(u=o.absentStudent)&&void 0!==u&&u.includes(e._id)?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(r.Z,{student:e,status:"absent"},t),(0,Z.jsx)("div",{className:l.Z.divider})]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(r.Z,{student:e,status:"initial"},t),(0,Z.jsx)("div",{className:l.Z.divider})]})}))),1===ge&&(null===Te||void 0===Te?void 0:Te.length)>0&&(null===Te||void 0===Te?void 0:Te.map((function(e,t){var n,a,s,i;return W?null!==W&&void 0!==W&&null!==(n=W.presentStudent)&&void 0!==n&&n.includes(e._id)?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(u.Z,{student:e,status:"present",presentTabHandler:Le},t),(0,Z.jsx)("div",{className:l.Z.divider})]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(u.Z,{student:e,presentTabHandler:Le,status:"absent"},t),(0,Z.jsx)("div",{className:l.Z.divider})]}):null!==de&&void 0!==de&&null!==(a=de.classes)&&void 0!==a&&null!==(s=a.attendenceDate[0])&&void 0!==s&&null!==(i=s.presentStudent)&&void 0!==i&&i.includes(e._id)?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(u.Z,{student:e,status:"present",presentTabHandler:Le},t),(0,Z.jsx)("div",{className:l.Z.divider})]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(u.Z,{student:e,presentTabHandler:Le,status:"absent"},t),(0,Z.jsx)("div",{className:l.Z.divider})]})}))),2===ge&&(null===De||void 0===De?void 0:De.length)>0&&(null===De||void 0===De?void 0:De.map((function(e,t){var n,a,s,i;return W?null!==W&&void 0!==W&&null!==(n=W.absentStudent)&&void 0!==n&&n.includes(e._id)?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(v.Z,{student:e,status:"absent",absentTabHandler:Je},t),(0,Z.jsx)("div",{className:l.Z.divider})]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(v.Z,{student:e,status:"present",absentTabHandler:Je},t),(0,Z.jsx)("div",{className:l.Z.divider})]}):null!==de&&void 0!==de&&null!==(a=de.classes)&&void 0!==a&&null!==(s=a.attendenceDate[0])&&void 0!==s&&null!==(i=s.absentStudent)&&void 0!==i&&i.includes(e._id)?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(v.Z,{student:e,status:"absent",absentTabHandler:Je},t),(0,Z.jsx)("div",{className:l.Z.divider})]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(v.Z,{student:e,status:"present",absentTabHandler:Je},t),(0,Z.jsx)("div",{className:l.Z.divider})]})})))]})]})})}},76452:function(e,t,n){n.d(t,{Z:function(){return S}});var a=n(29439),s=(n(72791),n(16871)),i=n(43504),c=n(39230),l=n(22984),d=n(80184);var o=function(e){var t,n,a,o=e.carryParentState,r=(0,c.$G)().t,u=(0,s.TH)(),v=(0,s.UO)();return(0,d.jsx)("div",{className:l.Z.mcqTop,style:{padding:"0"},children:(0,d.jsxs)("div",{className:l.Z.mcqToptabs,children:[(0,d.jsx)(i.rU,{to:"/q/".concat(v.username,"/member/department/").concat(v.deptname,"?a=class-detail"),state:o,className:"class-detail"===(null===(t=u.search)||void 0===t?void 0:t.substring(3))?"".concat(l.Z.mcqTopItem," ").concat(l.Z.active):l.Z.mcqTopItem,children:(0,d.jsx)("div",{children:r("students")})}),(0,d.jsx)(i.rU,{to:"/q/".concat(v.username,"/member/department/").concat(v.deptname,"?a=class-attendance"),state:o,className:"class-attendance"===(null===(n=u.search)||void 0===n?void 0:n.substring(3))?"".concat(l.Z.mcqTopItem," ").concat(l.Z.active):l.Z.mcqTopItem,children:(0,d.jsx)("div",{children:r("attendance")})}),(0,d.jsx)(i.rU,{to:"/q/".concat(v.username,"/member/department/").concat(v.deptname,"?a=class-subject"),state:o,className:"class-subject"===(null===(a=u.search)||void 0===a?void 0:a.substring(3))?"".concat(l.Z.mcqTopItem," ").concat(l.Z.active):l.Z.mcqTopItem,children:(0,d.jsx)("div",{children:r("subjects")})})]})})},r=n(33148),u=n(23664),v=n(65408),m=n(60943),j=n(893),h=n(8148),b=n(11806),x=n(60726),f=function(e){var t=e.carryParentState,n=e.isDepartment,a=(0,c.$G)().t;return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:b.Z.MiddleContentLeft,style:{border:"none"},children:"CLASS_TEACHER"===n?(0,d.jsxs)("div",{className:b.Z.item,style:{paddingLeft:"2vw"},children:[(0,d.jsx)(x.Z,{carryParentState:t,activeTab:"subject-catalog",children:(0,d.jsxs)("div",{className:b.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/class/class-catalog-icon.svg",alt:"Class Catalog"}),(0,d.jsx)("p",{children:a("catalog")})]})}),(0,d.jsx)(x.Z,{carryParentState:t,activeTab:"subject-attendance",children:(0,d.jsxs)("div",{className:b.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/class/class-attendance-icon.svg",alt:"attendence"}),(0,d.jsxs)("p",{children:[" ",a("attendance")," "]})]})}),(0,d.jsx)(x.Z,{carryParentState:t,activeTab:"subject-assignment",children:(0,d.jsxs)("div",{className:b.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/subject/subject-assignment-icon.svg",alt:"assignment"}),(0,d.jsx)("p",{children:a("assigmnent")})]})}),(0,d.jsx)(x.Z,{carryParentState:t,activeTab:"subject-exam",children:(0,d.jsxs)("div",{className:b.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/department/department-examination-icon.svg",alt:"attendence"}),(0,d.jsx)("p",{children:a("examinations")})]})}),(0,d.jsx)(x.Z,{carryParentState:t,activeTab:"subject-academic",children:(0,d.jsxs)("div",{className:b.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/subject/subject-daily-update-icon.svg",alt:"student Request"}),(0,d.jsx)("p",{style:{textAlign:"center"},children:a("academics_teachings")})]})})]}):(0,d.jsxs)("div",{className:b.Z.item,style:{paddingLeft:"2vw"},children:[(0,d.jsx)(h.Z,{carryParentState:t,activeTab:"subject-catalog",children:(0,d.jsxs)("div",{className:b.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/class/class-catalog-icon.svg",alt:"Class Catalog"}),(0,d.jsx)("p",{children:a("catalog")})]})}),(0,d.jsx)(h.Z,{carryParentState:t,activeTab:"subject-attendance",children:(0,d.jsxs)("div",{className:b.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/class/class-attendance-icon.svg",alt:"attendence"}),(0,d.jsxs)("p",{children:[" ",a("attendance")," "]})]})}),(0,d.jsx)(h.Z,{carryParentState:t,activeTab:"subject-assignment",children:(0,d.jsxs)("div",{className:b.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/subject/subject-assignment-icon.svg",alt:"assignment"}),(0,d.jsx)("p",{children:a("assigmnent")})]})}),(0,d.jsx)(h.Z,{carryParentState:t,activeTab:"subject-exam",children:(0,d.jsxs)("div",{className:b.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/department/department-examination-icon.svg",alt:"attendence"}),(0,d.jsx)("p",{children:a("examinations")})]})}),(0,d.jsx)(h.Z,{carryParentState:t,activeTab:"subject-academic",children:(0,d.jsxs)("div",{className:b.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/subject/subject-daily-update-icon.svg",alt:"student Request"}),(0,d.jsx)("p",{style:{textAlign:"center"},children:a("academics_teachings")})]})})]})})})},p=n(17121),Z=n(11457),g=n(73453),_=n(60463),N=n(81551),y=n(6763),T=n(61587),S=function(e){var t,n,l,h,b,x,S,I,A,D,E,C,P,M,R,k,w,F,q,U,O,H,V,L,J,G,B=e.carryParentState,$=e.viewAs,Y=e.did,K=e.instituteId,z=(0,c.$G)().t,Q=(0,s.TH)(),W=(0,i.lr)(),X=(0,a.Z)(W,1)[0];return(0,d.jsx)(d.Fragment,{children:"subject-academic-detail"===X.get("a")?(0,d.jsx)(N.Z,{}):"assignment-detail"===X.get("a")?(0,d.jsx)(y.Z,{isDepartment:$,carryParentState:B}):"assignment-student-detail"===X.get("a")?(0,d.jsx)(T.Z,{isDepartment:$}):(0,d.jsx)("div",{className:r.Z.departmenthead,children:(0,d.jsxs)("div",{className:r.Z.demaprtment_list,children:[(0,d.jsx)("div",{className:r.Z.with_search,style:{marginBottom:"0.7rem",alignItems:"flex-start",flexDirection:"column"},children:"subject"===(null===(t=X.get("a"))||void 0===t?void 0:t.substring(0,7))?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("h6",{children:[z("subject_name")," : ",null!==(n=null===(l=Q.state)||void 0===l?void 0:l.subjectName)&&void 0!==n?n:""]}),(0,d.jsxs)("h6",{children:[z("subject_teacher")," : ",null!==(h=null===(b=Q.state)||void 0===b?void 0:b.subjectTeacherName)&&void 0!==h?h:""]})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("h6",{children:[z("class_name")," : ",null!==(x=null===(S=Q.state)||void 0===S?void 0:S.clsName)&&void 0!==x?x:""]}),(0,d.jsxs)("h6",{children:[z("class_teacher")," : ",null!==(I=null===(A=Q.state)||void 0===A?void 0:A.teacherName)&&void 0!==I?I:""]})]})}),"subject-detail"===X.get("a")?(0,d.jsx)(f,{carryParentState:B,isDepartment:$}):"subject-catalog"===X.get("a")?(0,d.jsx)(m.Z,{cid:null===(D=Q.state)||void 0===D?void 0:D.clsId,bid:null===(E=Q.state)||void 0===E?void 0:E.batchId,isDepartment:$,sid:null===(C=Q.state)||void 0===C?void 0:C.subjectId}):"subject-attendance"===X.get("a")?(0,d.jsx)(p.Z,{sid:null===(P=Q.state)||void 0===P?void 0:P.subjectId,bid:null===(M=Q.state)||void 0===M?void 0:M.batchId,isDepartment:$,subjectName:null!==(R=null===(k=Q.state)||void 0===k?void 0:k.subjectName)&&void 0!==R?R:""}):"subject-assignment"===X.get("a")?(0,d.jsx)(Z.Z,{sid:null===(w=Q.state)||void 0===w?void 0:w.subjectId,cid:null===(F=Q.state)||void 0===F?void 0:F.clsId,carryParentState:B,bid:null===(q=Q.state)||void 0===q?void 0:q.batchId,isDepartment:$}):"subject-exam"===X.get("a")?(0,d.jsx)(g.Z,{sid:null===(U=Q.state)||void 0===U?void 0:U.subjectId,cid:null===(O=Q.state)||void 0===O?void 0:O.clsId,isDepartment:$}):"subject-academic"===X.get("a")?(0,d.jsx)(_.Z,{sid:null===(H=Q.state)||void 0===H?void 0:H.subjectId,carryParentState:B,isDepartment:$}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o,{carryParentState:B}),"class-detail"===X.get("a")&&(0,d.jsx)(u.Z,{cid:Q.state.clsId,openAs:"SUBJECT_TEACHER",isDepartment:!0}),"class-subject"===X.get("a")&&(0,d.jsx)(v.Z,{carryParentState:B,clsId:null===(V=Q.state)||void 0===V?void 0:V.clsId,isView:"DEPARTMENT_HEAD",instituteId:K,did:Y}),"class-attendance"===X.get("a")&&(0,d.jsx)(j.Z,{cid:null===(L=Q.state)||void 0===L?void 0:L.clsId,isDepartment:!0,className:null!==(J=null===(G=Q.state)||void 0===G?void 0:G.clsName)&&void 0!==J?J:""})]})]})})})}},60463:function(e,t,n){n.d(t,{Z:function(){return _}});var a=n(1413),s=n(29439),i=n(72791),c=n(83401),l=n(39230),d=n(98094),o=n(93433),r=n(99532),u=n(23441),v=n(65543),m=n(40444),j=n(34219),h=n(11105),b=n(80184),x=function(e){var t,n=e.sid,a=e.reftechStatus,c=e.setReftechStatus,l=e.isDepartment,d=(0,i.useState)(!0),x=(0,s.Z)(d,2),f=x[0],p=x[1],Z=(0,i.useState)(1),g=(0,s.Z)(Z,2),_=g[0],N=g[1],y=(0,u.YD)(),T=(0,s.Z)(y,2),S=T[0],I=T[1],A=(0,i.useState)([]),D=(0,s.Z)(A,2),E=D[0],C=D[1],P=(0,i.useState)(!0),M=(0,s.Z)(P,2),R=M[0],k=M[1],w=(0,v.u)().scrollToTop,F=(0,m.RX)({data:{sid:n,page:a?1:_,limit:10},skip:!n}),q=F.getAllDailySubject,U=F.getAllDailySubjectRefetch;(0,i.useEffect)((function(){a&&(N((function(e){return 1})),c(!1),U())}),[a]),(0,i.useEffect)((function(){n&&(k(!0),U())}),[n,_,U]),(0,i.useEffect)((function(){w()}),[w]),(0,i.useEffect)((function(){I&&f&&N((function(e){return e+1}))}),[I,f]),(0,i.useEffect)((function(){var e,t;null!==q&&void 0!==q&&q.dailyUpdate?(C(1===_?null===q||void 0===q?void 0:q.dailyUpdate:function(e){return(0,o.Z)(new Set([].concat((0,o.Z)(e),(0,o.Z)(null===q||void 0===q?void 0:q.dailyUpdate)).map(JSON.stringify))).map(JSON.parse)}),k(!1)):0===(null===q||void 0===q||null===(e=q.dailyUpdate)||void 0===e?void 0:e.length)&&k(!1),10===(null===q||void 0===q||null===(t=q.dailyUpdate)||void 0===t?void 0:t.length)?p(!0):p(!1)}),[null===q||void 0===q?void 0:q.dailyUpdate]);var O=function(){N((function(e){return 1})),k(!0),U()};return(0,b.jsxs)(b.Fragment,{children:[null===E||void 0===E?void 0:E.map((function(e,t){return(null===E||void 0===E?void 0:E.length)===t+1?(0,b.jsx)("div",{ref:S,children:(0,b.jsx)(r.Z,{daily:e,sid:n,onParentRefetch:O,isView:l?"STUDENT":""})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(r.Z,{daily:e,sid:n,onParentRefetch:O,isView:l?"STUDENT":""},null===e||void 0===e?void 0:e._id)})),!R&&!(null!==q&&void 0!==q&&null!==(t=q.dailyUpdate)&&void 0!==t&&t.length)&&(0,b.jsx)(j.Z,{customStyleContainer:{marginTop:"9rem"},title:"No academics found yet."}),R&&(0,b.jsx)(h.Z,{status:"white"})]})},f=n(10515),p=n(4213),Z=n(16871),g=n(43504),_=function(e){var t=e.sid,n=e.carryParentState,o=e.isDepartment,r=(0,l.$G)().t,u=(0,Z.UO)(),v=(0,i.useState)(!1),m=(0,s.Z)(v,2),j=m[0],h=m[1],_=(0,i.useState)(!1),N=(0,s.Z)(_,2),y=N[0],T=N[1],S=(0,i.useState)(!1),I=(0,s.Z)(S,2),A=I[0],D=I[1],E=function(){h((function(e){return!e}))};return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:c.Z.subject_academic_container,children:[(0,b.jsxs)("div",{className:c.Z.subject_academic_title,children:[(0,b.jsx)("h6",{children:r("academics_teachings")}),(0,b.jsx)("div",{className:c.Z.subject_academic_link,children:"CLASS_TEACHER"===o?(0,b.jsx)(g.rU,{to:"/q/".concat(u.username,"/member/class/").concat(u.cname,"?a=subject-academic-detail"),state:(0,a.Z)((0,a.Z)({},n),{},{subjectId:t,isView:"DEPARTMENT_HEAD"}),children:(0,b.jsx)("h6",{className:c.Z.add_record_lecture,style:{margin:"0"},children:r("view_academic_detail")})}):"DEPARTMENT_HEAD"===o?(0,b.jsx)(g.rU,{to:"/q/".concat(u.username,"/member/department/").concat(u.deptname,"?a=subject-academic-detail"),state:(0,a.Z)((0,a.Z)({},n),{},{subjectId:t,isView:"DEPARTMENT_HEAD"}),children:(0,b.jsx)("h6",{className:c.Z.add_record_lecture,style:{margin:"0"},children:r("view_academic_detail")})}):(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(g.rU,{to:"/q/".concat(u.username,"/member/subject/").concat(u.sname,"?a=subject-academic"),state:(0,a.Z)((0,a.Z)({},n),{},{subjectId:t,isView:o?"DEPARTMENT_HEAD":"SUBJECT_TEACHER",isSubType:"SUBJECT_TEACHER_INSTITUTE"}),children:(0,b.jsx)("h6",{className:c.Z.add_record_lecture,style:{margin:"0"},children:r("view_academic_detail")})})})})]}),(0,b.jsx)(d.Z,{customStyle:{width:"100%",marginTop:"0.7rem",marginBottom:"0.7rem"}}),o?null:(0,b.jsx)("div",{className:c.Z.record_lecture,children:(0,b.jsx)("h6",{className:c.Z.add_record_lecture,onClick:E,children:r("record_lecture_teachings")})}),j&&(0,b.jsx)(f.Z,{onClose:E,sid:t,onRefetch:function(){D(!0)}}),y&&(0,b.jsx)(p.Z,{onClose:function(){T((function(e){return!e}))},sid:t}),(0,b.jsx)(x,{sid:t,reftechStatus:A,setReftechStatus:D,isDepartment:o})]})})}},99532:function(e,t,n){n.d(t,{Z:function(){return h}});var a=n(29439),s=n(72791),i=n(83401),c=n(72426),l=n.n(c),d=n(39230),o=n(69721),r=n(10307),u=n(80184),v=function(e){var t,n,a,s,c,v,m,j=e.isView,h=e.updateDescription,b=e.upadateImage,x=e.createdAt,f=e.subject,p=(0,d.$G)().t;return(0,u.jsxs)("div",{className:i.Z.aditional_info_container,children:["STUDENT"===j?(0,u.jsxs)("div",{className:i.Z.aditional_info_dates,children:[(0,u.jsx)("h5",{children:null!==(t=null===f||void 0===f?void 0:f.subjectName)&&void 0!==t?t:""}),(0,u.jsx)("h6",{children:"".concat(null!==(n=null===f||void 0===f||null===(a=f.subjectTeacherName)||void 0===a?void 0:a.staffFirstName)&&void 0!==n?n:""," ").concat(null!==(s=null===f||void 0===f||null===(c=f.subjectTeacherName)||void 0===c?void 0:c.staffMiddleName)&&void 0!==s?s:""," ").concat(null!==(v=null===f||void 0===f||null===(m=f.subjectTeacherName)||void 0===m?void 0:m.staffLastName)&&void 0!==v?v:"")})]}):null,h||(null===b||void 0===b?void 0:b.length)>0?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h6",{children:p("additional_info")}),(0,u.jsx)("p",{children:h}),(null===b||void 0===b?void 0:b.length)>0?(0,u.jsx)("div",{className:i.Z.aditional_info_images,children:null===b||void 0===b?void 0:b.map((function(e){return(0,r.Y)(null===e||void 0===e?void 0:e.documentKey)?(0,u.jsx)("a",{title:"view File",href:"".concat(o.r3,"/").concat(null===e||void 0===e?void 0:e.documentKey),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,u.jsx)("img",{src:"".concat(o.yI,"/").concat(null===e||void 0===e?void 0:e.documentKey),alt:"files"},null===e||void 0===e?void 0:e.documentKey)}):null}))}):null]}):null,(0,u.jsxs)("div",{className:i.Z.aditional_info_dates,children:[(0,u.jsx)("p",{children:l()(x).format("DD MMM yyyy")}),(0,u.jsx)("p",{children:l()(x).format("LT")})]})]})},m=n(61292),j=n(10515),h=function(e){var t,n=e.daily,c=e.sid,o=e.onParentRefetch,r=e.isView,h=(0,d.$G)().t,b=(0,s.useState)(""),x=(0,a.Z)(b,2),f=x[0],p=x[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:i.Z.academic_card_container,children:[(0,u.jsxs)("div",{className:i.Z.academic_card_top,style:{justifyContent:"space-between"},children:[(0,u.jsxs)("div",{className:i.Z.academic_card_top_text,children:[(0,u.jsx)("img",{src:"/images/member_tab/subject/subject-topic-icon.svg",alt:"topic icon"}),(0,u.jsxs)("h6",{children:[l()(null===n||void 0===n?void 0:n.date).format("Do MMMM, yyyy"),": Topics Covered"]})]}),"STUDENT"===r?null:(0,u.jsxs)("h6",{onClick:function(){return p(n)},children:["(",h("edit_"),")"]})]}),null===n||void 0===n||null===(t=n.daily_topic)||void 0===t?void 0:t.map((function(e){return(0,u.jsx)(m.Z,{topic:null===e||void 0===e?void 0:e.topic,topicType:null===e||void 0===e?void 0:e.status,topicCurrentStatus:null===e||void 0===e?void 0:e.current_status,isView:"DAILY"},null===e||void 0===e?void 0:e._id)})),(0,u.jsx)(v,{updateDescription:null===n||void 0===n?void 0:n.updateDescription,upadateImage:null===n||void 0===n?void 0:n.upadateImage,createdAt:null===n||void 0===n?void 0:n.createdAt,isView:r,subject:null===n||void 0===n?void 0:n.subject})]}),f&&(0,u.jsx)(j.Z,{onClose:function(){return p("")},sid:c,onRefetch:o,dailyMenu:f})]})}},22984:function(e,t){t.Z={studentMCQ:"Tabs_studentMCQ__JqqjO",mcqToptabs:"Tabs_mcqToptabs__YfEJB",mcqTop:"Tabs_mcqTop__eI5Gu",mcqTopItem:"Tabs_mcqTopItem__KkV+Q",active:"Tabs_active__j6mN9"}}}]);
//# sourceMappingURL=76452.7234c0d7.chunk.js.map