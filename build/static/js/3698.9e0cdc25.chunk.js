"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[3698],{73536:function(t,n,e){e.r(n),e.d(n,{default:function(){return k}});var i=e(39230),a=e(90904),l=e(63687),o=e(21348),c=e(56959),s=e(29439),r=e(45100),d=e(48215),u=e(72791),f=e(1669),v=e(55336),h=e(98684),_=e(2651),m=e(1095),x=e(80184),b=function(t){var n,e,a,l,o=t.staff,c=(0,i.$G)().t;return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:d.Z.staclc_card,children:[(0,x.jsx)("img",{src:null!==o&&void 0!==o&&o.staffProfilePhoto?"".concat(m.yI,"/").concat(null===o||void 0===o?void 0:o.staffProfilePhoto):"".concat(h.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,x.jsxs)("div",{className:d.Z.staclc_card_inner,children:[(0,x.jsx)("h6",{children:"".concat(null!==(n=null===o||void 0===o?void 0:o.staffFirstName)&&void 0!==n?n:""," ").concat(null!==(e=null===o||void 0===o?void 0:o.staffMiddleName)&&void 0!==e?e:""," ").concat(null!==(a=null===o||void 0===o?void 0:o.staffLastName)&&void 0!==a?a:"")}),(0,x.jsxs)("p",{children:[c("employee_code"),": ",null!==(l=null===o||void 0===o?void 0:o.staffROLLNO)&&void 0!==l?l:""]})]})]})})},j=e(23441),g=e(60234),p=e(91427),y=e(57588),Z=function(t){var n,e,a,l=t.aid,o=t.category,r=(0,i.$G)().t,d=(0,u.useState)(""),m=(0,s.Z)(d,2),Z=m[0],S=m[1],N=(0,u.useState)(1),w=(0,s.Z)(N,2),k=w[0],A=w[1],T=(0,u.useState)(!0),C=(0,s.Z)(T,2),B=C[0],L=C[1],R=(0,j.YD)({skip:Z}),G=(0,s.Z)(R,2),F=G[0],I=G[1],O=(0,g.ED)({data:{aid:l,page:k,limit:10,search:Z,flow:o},skip:l?!o:!l}),P=O.staffTodayAttendaceStaffListStats,$=O.staffTodayAttendaceStaffListStatsLoading;(0,u.useEffect)((function(){I&&B&&A((function(t){return t+1}))}),[I,B]),(0,u.useEffect)((function(){var t;if(null!==P&&void 0!==P&&null!==(t=P.list)&&void 0!==t&&t.length){var n,e=(0,p.f)(null===P||void 0===P||null===(n=P.list)||void 0===n?void 0:n.length);L((function(){return e}))}}),[null===P||void 0===P?void 0:P.list]);var E=(0,u.useCallback)((0,y.J)((function(t){A((function(){return 1})),S(t)}),1500),[]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:c.Z.fm_header_container,style:{marginTop:"1rem"},children:(0,x.jsx)("div",{className:c.Z.fm_search_full,children:(0,x.jsx)("section",{className:c.Z.fm_search_full_container,children:(0,x.jsxs)("div",{className:c.Z.fm_search_full_container_inner,children:[(0,x.jsx)("img",{className:c.Z.fm_search_full_icon,alt:"search icon",src:"".concat(h.dB,"/navbar-search.svg")}),(0,x.jsx)("input",{type:"text",placeholder:r("search"),onChange:function(t){t.target.value?$||E(t.target.value):(A((function(){return 1})),S(""))}})]})})})}),null===P||void 0===P||null===(n=P.list)||void 0===n?void 0:n.map((function(t,n){var e;return(null===P||void 0===P||null===(e=P.list)||void 0===e?void 0:e.length)===n+1?(0,x.jsx)("div",{ref:F,children:(0,x.jsx)(b,{staff:t})},null===t||void 0===t?void 0:t._id):(0,x.jsx)(b,{staff:t},null===t||void 0===t?void 0:t._id)})),$?Z?(0,x.jsx)(v.Z,{}):(0,x.jsx)(f.Z,{}):Z?0===(null===P||void 0===P||null===(e=P.list)||void 0===e?void 0:e.length)&&(0,x.jsx)(_.Z,{title:"No staff found related this search.",customStyleContainer:{marginTop:"10rem"}}):0===(null===P||void 0===P||null===(a=P.list)||void 0===a?void 0:a.length)&&(0,x.jsx)(_.Z,{title:"No staff.",customStyleContainer:{marginTop:"10rem"}})]})},S=function(t){var n,e,a,l,o=t.instituteId,c=(0,i.$G)().t,f=(0,u.useState)(1),v=(0,s.Z)(f,2),h=v[0],_=v[1],m=(0,g.bI)({data:{id:o},skip:!o}).staffTodayAttendaceStats;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("section",{className:d.Z.stac_card,children:[(0,x.jsx)(r.Z,{label:c("present"),customStyle:1===h?w:N,showZero:!0,count:null!==(n=null===m||void 0===m?void 0:m.present)&&void 0!==n?n:0,onAction:function(){return _(1)}}),(0,x.jsx)(r.Z,{label:c("absent"),customStyle:2===h?w:N,count:null!==(e=null===m||void 0===m?void 0:m.absent)&&void 0!==e?e:0,onAction:function(){return _(2)},showZero:!0})," ",(0,x.jsx)(r.Z,{label:c("leave_with_pay"),customStyle:3===h?w:N,count:null!==(a=null===m||void 0===m?void 0:m.leave_with_pay)&&void 0!==a?a:0,onAction:function(){return _(3)},showZero:!0})," ",(0,x.jsx)(r.Z,{label:c("on_duty_leave"),customStyle:4===h?w:N,count:null!==(l=null===m||void 0===m?void 0:m.on_duty_leave)&&void 0!==l?l:0,onAction:function(){return _(4)},showZero:!0})]}),1===h?(0,x.jsx)(Z,{category:"Present",aid:null===m||void 0===m?void 0:m.aid,emptySearch:""}):2===h?(0,x.jsx)(Z,{category:"Absent",aid:null===m||void 0===m?void 0:m.aid,emptySearch:""}):3===h?(0,x.jsx)(Z,{category:"Leave_with_pay",aid:null===m||void 0===m?void 0:m.aid,emptySearch:""}):4===h?(0,x.jsx)(Z,{category:"On_duty_leave",aid:null===m||void 0===m?void 0:m.aid,emptySearch:""}):null]})},N={minWidth:"fit-content",margin:"0","--ccb-bg":"rgba(0, 26, 114, 0.15)","--ccb-b":"#001a72","--ccb-text":"#001a72","--ccb-text-h":"#ffffff","--ccb-bg-h":"#001a72"},w={minWidth:"fit-content",margin:"0","--ccb-bg":"#001a72","--ccb-b":"#001a72","--ccb-text":"#ffffff","--ccb-text-h":"#ffffff","--ccb-bg-h":"#001a72"},k=function(t){var n=t.instituteId,e=(0,i.$G)().t;return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(l.Z,{children:[(0,x.jsx)(o.Z,{children:(0,x.jsx)("div",{className:c.Z.fm_header_container,children:(0,x.jsx)("h6",{children:e("today_attendace_stats")})})}),(0,x.jsx)(a.Z,{}),(0,x.jsx)(o.Z,{children:(0,x.jsx)(S,{instituteId:n})})]})})}},45100:function(t,n,e){var i=e(39230),a=e(80476),l=e(80184);n.Z=function(t){var n=t.label,e=t.count,o=t.onAction,c=t.customStyle,s=t.isTranslate,r=t.showZero,d=t.children,u=(0,i.$G)().t;return s?(0,l.jsxs)("div",{className:a.Z.ccb_button,onClick:o,style:c,children:[d,r?(0,l.jsx)("span",{style:{marginRight:"0.3rem"},children:e}):e>0?(0,l.jsxs)("span",{style:{marginRight:"0.3rem"},children:[e," "]}):null,n]}):(0,l.jsxs)("div",{className:a.Z.ccb_button,onClick:o,style:c,children:[d,r?(0,l.jsx)("span",{style:{marginRight:"0.3rem"},children:e}):e>0?(0,l.jsxs)("span",{style:{marginRight:"0.3rem"},children:[e," "]}):null,u(n)]})}},80476:function(t,n){n.Z={btn_wrapper:"Button_btn_wrapper__ihT7O",btn_container:"Button_btn_container__OaH2t",create_btn_container:"Button_create_btn_container__JuZrx",upload_excel_file:"Button_upload_excel_file__a7d0K",set_btn_container:"Button_set_btn_container__RvfRG",ccb_button:"Button_ccb_button__Mjv4T"}}}]);
//# sourceMappingURL=3698.9e0cdc25.chunk.js.map