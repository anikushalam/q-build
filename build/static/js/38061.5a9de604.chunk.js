(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[38061],{81674:function(e,t,n){"use strict";n.d(t,{a:function(){return i},b:function(){return s}});var i={CASH_RECEIPT_ACCESS:["menu","student","submit"],INVENTORY_ACCESS:["menu","student","inventory"],FEE_MASTER_ACCESS:["menu","student","fees"],PAYROLL_ACCESS:["menu","student","payroll"],DEPOSIT_ACCESS:["menu","student","deposit"],BANK_ACCOUNT_ACCESS:["menu","student","bank"],DATA_EXPORT_ACCESS:["menu","student","export"],SCHOLARSHIP_ACCESS:["menu","student","scholarship"]},s={DATA_EXPORT_ACCESS:{subUrl:"export",authorizedKey:"data_export"},FEE_MASTER_ACCESS:{subUrl:"fees",authorizedKey:"fees_structure"},DEPOSIT_ACCESS:{subUrl:"deposit",authorizedKey:"deposits"},BANK_ACCOUNT_ACCESS:{subUrl:"bank",authorizedKey:"bank_details"},SCHOLARSHIP_ACCESS:{subUrl:"scholarship",authorizedKey:"scholarships"},ADMISSION_PENDING_FEES_ACCESS:{subUrl:"admission-fee",authorizedKey:"admission_pending_fees"},OFFLINE_PAYMENT_VERIFICATION_ACCESS:{subUrl:"verification",authorizedKey:"admission_offline_verification"},EXCESS_FEE_REFUND_ACCESS:{subUrl:"excess",authorizedKey:"admission_excess_fees"}}},5978:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i="UserMemberTab_um_main_wrapper__NwvJ9",s=n(80184),l=function(e){var t=e.children;return(0,s.jsx)("div",{className:i,children:t})}},55336:function(e,t,n){"use strict";var i=n(63244),s=n(80184);t.Z=function(){return(0,s.jsx)("div",{className:i.Z.qviple_loader_backdrop,children:(0,s.jsx)("div",{className:i.Z.qviple_loader_container,children:(0,s.jsx)("div",{className:i.Z.qviple_loader_rotation})})})}},38986:function(e,t,n){"use strict";var i=n(1413),s=n(72791),l=n(52245),o=n(39230),a=n(1095),r=n(80184);t.Z=function(e){var t=e.label,n=e.name,d=e.value,c=e.onChange,u=e.errorShow,v=e.disabled,m=e.customFormFileContainer,h=e.customFormFileLabel,f=e.customFormFile,_=e.type,g=e.multiple,x=(0,o.$G)().t,j=(0,s.useCallback)((function(){var e=window.open("".concat(a.yI,"/").concat(null===d||void 0===d?void 0:d.key),"_blank","noopener,noreferrer");e&&(e.opener=null)}),[null===d||void 0===d?void 0:d.key]);return(0,r.jsxs)("div",{className:l.Z.form_input_container,style:(0,i.Z)({},m),children:[t&&(0,r.jsxs)("label",{className:l.Z.form_input_label,style:h,children:[t,u?(0,r.jsxs)("span",{className:l.Z.form_input_label_error,children:["* ",x("form_require_label")]}):null]}),(0,r.jsxs)("div",{className:l.Z.form_file_container,style:f,children:[(0,r.jsx)("label",{className:d?"".concat(l.Z.form_file_choose," ").concat(l.Z.form_file_choose_active):l.Z.form_file_choose,htmlFor:n,children:x(""!==d?"file_choosen":"choose_file")}),(0,r.jsx)("label",{className:l.Z.form_file_choosen,onClick:j,children:""!==d?null!==d&&void 0!==d&&d.name?null===d||void 0===d?void 0:d.name:x("view"):x("no_file_chosen")})]}),(0,r.jsx)("input",{type:"file",multiple:!!g,accept:_||"image/*, .doc,.docx, application/pdf,.csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",name:n,id:n,style:{display:"none"},onChange:c,disabled:v})]})}},8959:function(e,t,n){"use strict";var i=n(52245),s=n(80184);t.Z=function(e){var t=e.label,n=e.value,l=e.customFormInputContainer,o=e.customFormInputLabel,a=e.customFormInput,r=e.children;return(0,s.jsxs)("div",{className:i.Z.form_read_input_container,style:l,children:[t?(0,s.jsx)("label",{className:i.Z.form_read_input_label,style:o,children:t}):null,r,(0,s.jsx)("h6",{className:i.Z.form_read_input,style:a,children:n})]})}},91448:function(e,t,n){"use strict";var i=n(1413),s=n(29439),l=n(72791),o=n(39230),a=n(52245),r=n(98684),d=n(80184);t.Z=function(e){var t=e.selectLabel,n=e.onClick,c=e.selectedValue,u=e.options,v=e.customStyleContainer,m=e.customLabelStyle,h=e.customListStyle,f=e.errorShow,_=e.defalutValue,g=e.isDenied,x=(0,o.$G)().t,j=(0,l.useState)(!1),Z=(0,s.Z)(j,2),p=Z[0],y=Z[1],N=(0,l.useState)(""),S=(0,s.Z)(N,2),b=S[0],C=S[1],k=function(){g||y((function(e){return!e}))};(0,l.useEffect)((function(){C(_)}),[_]);var I=function(e){n(e),k(),null!==e&&void 0!==e&&e.className&&C(null===e||void 0===e?void 0:e.className)};return(0,d.jsxs)("div",{className:a.Z.form_input_container,style:(0,i.Z)({},v),children:[(0,d.jsxs)("p",{className:a.Z.join_form_select_paragraph,style:(0,i.Z)({},m),children:[t,f&&(0,d.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",x("form_require_label")]})]}),(0,d.jsxs)("section",{className:a.Z.join_form_select_custom,onClick:k,children:[b?(0,d.jsx)("p",{className:a.Z.join_form_select_custom_paragraph,children:null!==b&&void 0!==b?b:""}):(0,d.jsx)("p",{className:a.Z.join_form_select_custom_paragraph,children:c}),p?(0,d.jsx)("img",{className:a.Z.join_form_select_custom_rotate_icon,src:"".concat(r.J7,"/down.svg"),alt:"categor icon"}):(0,d.jsx)("img",{className:a.Z.join_form_select_custom_icon,src:"".concat(r.J7,"/down.svg"),alt:"categor icon"})]}),p&&(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("section",{className:a.Z.join_form_select_custom_list,style:h,children:null===u||void 0===u?void 0:u.map((function(e,t){var n;return(0,d.jsx)("p",{onClick:function(){return I(e)},className:a.Z.join_form_select_custom_paragraph_option,children:null!==(n=null===e||void 0===e?void 0:e.name)&&void 0!==n?n:null===e||void 0===e?void 0:e.className},t)}))})})]})}},23558:function(e,t,n){"use strict";var i=n(39230),s=n(51416),l=n(72791),o=n(43504),a=n(80184),r=function(e){var t=e.label,n=e.onClick,r=e.isActive,d=e.isLink,c=e.url,u=e.parentState,v=e.isAuthorized,m=(0,i.$G)().t,h=(0,l.useCallback)((function(){return n&&n(),null}),[n]);return(0,a.jsx)(a.Fragment,{children:d?(0,a.jsx)(a.Fragment,{children:v?(0,a.jsx)(o.rU,{className:r?s.Z.rectangle_tab_card_active:s.Z.rectangle_tab_card,to:c,state:u,children:m(t)}):(0,a.jsx)("div",{className:s.Z.rectangle_tab_card,style:{opacity:"0.5"},children:m(t)})}):(0,a.jsx)("div",{className:r?s.Z.rectangle_tab_card_active:s.Z.rectangle_tab_card,onClick:h,children:m(t)})})};t.Z=(0,l.memo)(r)},53277:function(e,t,n){"use strict";var i=n(51416),s=n(80184);t.Z=function(e){var t=e.children;return(0,s.jsx)("div",{className:i.Z.rectangle_tab_wrapper,children:t})}},60724:function(e,t,n){"use strict";var i=n(1413),s=n(39230),l=n(51416),o=n(43504),a=n(80184);t.Z=function(e){var t=e.label,n=e.iconUrl,r=e.url,d=e.state,c=e.isAuthorized,u=e.isVisible,v=e.authorizedKey,m=e.customStyleContainer,h=(0,s.$G)().t;return r?(0,a.jsx)(a.Fragment,{children:c?u&&u[v]&&(0,a.jsxs)(o.rU,{className:l.Z.square_tab_card,to:r,state:d,style:m,children:[(0,a.jsx)("img",{src:n,alt:"card icon"}),(0,a.jsx)("p",{children:h(t)})]}):u&&u[v]&&(0,a.jsxs)("div",{className:l.Z.square_tab_card,style:(0,i.Z)({opacity:"0.5"},m),children:[(0,a.jsx)("img",{src:n,alt:"card icon"}),(0,a.jsx)("p",{children:h(t)})]})}):(0,a.jsxs)("div",{className:l.Z.square_tab_card,style:m,children:[(0,a.jsx)("img",{src:n,alt:"card icon"}),(0,a.jsx)("p",{children:h(t)})]})}},98167:function(e,t,n){"use strict";var i=n(51416),s=n(80184);t.Z=function(e){var t=e.dynamicId,n=e.customStyle,l=e.children;return(0,s.jsx)("div",{className:i.Z.square_tab_wrapper,id:t,style:n,children:l})}},26071:function(e,t,n){"use strict";var i=n(51416),s=n(39230),l=n(80184);t.Z=function(e){var t=e.tile,n=e.onTile,o=e.activeTile,a=e.customTileChild,r=(0,s.$G)().t;return(0,l.jsx)("div",{className:(null===t||void 0===t?void 0:t.key)===o?i.Z.tile_tile_active:i.Z.tile_tile,onClick:function(){return n(null===t||void 0===t?void 0:t.key)},style:a,children:r(null===t||void 0===t?void 0:t.name)})}},20659:function(e,t,n){"use strict";var i=n(51416),s=n(39230),l=n(80184);t.Z=function(e){var t=e.label,n=e.customTileLabel,o=e.customTileContainer,a=e.customTileStyle,r=e.children,d=(0,s.$G)().t;return(0,l.jsxs)("div",{className:i.Z.tile_container,style:a,children:[t&&(0,l.jsx)("h6",{className:i.Z.tile_label,style:n,children:d(t)}),(0,l.jsx)("section",{className:i.Z.tile_tile_container,style:o,children:r})]})}},63687:function(e,t,n){"use strict";var i=n(59393),s=n(80184);t.Z=function(e){var t=e.customStyle,n=e.children;return(0,s.jsx)("div",{className:i.Z.user_member_container_wrapper,style:t,children:n})}},87979:function(e,t,n){"use strict";var i=n(59393),s=n(80184);t.Z=function(e){var t=e.children;return(0,s.jsx)("div",{className:i.Z.user_member_tabs_wrapper,children:t})}},38061:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return kt}});var i=n(11464),s=n(16871),l=n(29439),o=n(43504),a=n(5978),r=n(72791),d=n(55336),c=n(87979),u=n(1669),v=n(53277),m=n(23558),h=n(98167),f=n(60724),_=n(98684),g=n(81674),x=n(39230),j=n(23441),Z=n(91427),p=n(57588),y=n(56959),N=n(93638),S=n(21348),b=n(2651),C=n(4942),k=n(1413),I=n(48293),w=n(90904),q=n(61055),$=n(91448),L=n(99183),F=n(16925),D=n(15427),T=n(80184),U=function(e){var t=e.onClose,n=e.onRefetch,i=e.stid,s=(0,x.$G)().t,o=(0,r.useState)(""),a=(0,l.Z)(o,2),c=a[0],u=a[1],v=(0,r.useState)(!1),m=(0,l.Z)(v,2),h=m[0],f=m[1],g=(0,r.useState)({category_name:"",category_type:""}),j=(0,l.Z)(g,2),Z=j[0],p=j[1],y=(0,D.H4)(),b=(0,l.Z)(y,1)[0];return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(I.Z,{onClose:t,children:(0,T.jsxs)("div",{className:F.Z.modal_container,children:[(0,T.jsx)(S.Z,{children:(0,T.jsxs)("div",{className:F.Z.modal_container_outer_header,children:[(0,T.jsx)("div",{className:F.Z.modal_container_header,children:(0,T.jsx)("h6",{children:s("add_new_category")})}),(0,T.jsx)("img",{src:"".concat(_.J7,"/close.svg"),alt:"close icon",onClick:t})]})}),(0,T.jsx)(w.Z,{}),(0,T.jsxs)(S.Z,{customStyle:{paddingTop:"0"},children:[(0,T.jsx)(q.Z,{label:s("category_name"),placeholder:s("category_name_placeholder"),name:"category_name",value:Z.category_name,type:"text",onChange:function(e){p((function(t){return(0,k.Z)((0,k.Z)({},t),{},(0,C.Z)({},e.target.name,e.target.value))}))},errorShow:c.category_name}),(0,T.jsx)($.Z,{selectLabel:s("category_type"),selectedValue:s("please_select_category_type"),onClick:function(e){p((function(t){return(0,k.Z)((0,k.Z)({},t),{},{category_type:null===e||void 0===e?void 0:e.name})}))},options:[{name:"Inventory"},{name:"Fixed Assests"}],defalutValue:Z.category_type,errorShow:c.category_type}),(0,T.jsx)(N.Z,{label:"create",onAction:function(){var e=(0,L.l)(Z,[]);(0,L.x)(e)&&i?(f((function(e){return!e})),b({stid:i,bodyParameter:(0,k.Z)((0,k.Z)({},Z),{},{category_type:"Fixed Assests"===Z.category_type?"FIXED_ASSESTS":"CONSUMABLES"})}).then((function(){n(),f((function(e){return!e})),t()})).catch({})):u(e)}})]}),h&&(0,T.jsx)(d.Z,{})]})})})},M=n(2034),A=function(e){var t,n=e.category,i=(0,x.$G)().t,a=(0,s.UO)(),d=(0,s.TH)(),c=(0,r.useState)(""),u=(0,l.Z)(c,2),v=(u[0],u[1]);return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(o.rU,{to:"/q/".concat(a.username,"/member/staff/store?type=masters&n=category"),state:(0,k.Z)((0,k.Z)({},d.state),{},{category:n}),children:(0,T.jsxs)("div",{className:M.Z.smc_card,children:[(0,T.jsxs)("div",{className:M.Z.smc_card_contatiner,children:[(0,T.jsx)("img",{src:"".concat(_.J7,"/category.svg"),alt:"categor icon"}),(0,T.jsxs)("div",{className:M.Z.smc_card_contatiner_inner,children:[(0,T.jsxs)("h6",{children:[i("category_name"),": ",null!==(t=null===n||void 0===n?void 0:n.category_name)&&void 0!==t?t:""]}),(0,T.jsxs)("p",{children:[i("category_type")," ",": "," ","FIXED_ASSESTS"===(null===n||void 0===n?void 0:n.category_type)?"Fixed Assests":"Inventory"]})]})]}),(0,T.jsx)("img",{src:"".concat(_.J7,"/menu.svg"),alt:"menu icon",onClick:function(e){e.preventDefault(),v(1)},className:M.Z.menu_icon,title:"Menu"})]})})})},E=function(e){var t,n,i,s=e.stid,o=(0,x.$G)().t,a=(0,r.useState)(""),c=(0,l.Z)(a,2),v=c[0],m=c[1],h=(0,r.useState)(1),f=(0,l.Z)(h,2),g=f[0],C=f[1],k=(0,r.useState)(!0),I=(0,l.Z)(k,2),w=I[0],q=I[1],$=(0,j.YD)({skip:v}),L=(0,l.Z)($,2),F=L[0],M=L[1],E=(0,r.useState)(!1),B=(0,l.Z)(E,2),G=B[0],P=B[1],Y=(0,D.ZC)({data:{stid:s,page:g,limit:10,search:v},skip:!s}),J=Y.storeMasterCategoryList,O=Y.storeMasterCategoryListLoading,z=Y.storeMasterCategoryListRefetch;(0,r.useEffect)((function(){M&&w&&C((function(e){return e+1}))}),[M,w]),(0,r.useEffect)((function(){var e;if(null!==J&&void 0!==J&&null!==(e=J.list)&&void 0!==e&&e.length){var t,n=(0,Z.f)(null===J||void 0===J||null===(t=J.list)||void 0===t?void 0:t.length);q((function(){return n}))}}),[null===J||void 0===J?void 0:J.list]);var H=(0,r.useCallback)((0,p.J)((function(e){C((function(){return 1})),m(e)}),1500),[]),R=function(){P((function(e){return!e}))};return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(S.Z,{customStyle:{padding:"0.8rem 0 0 0"},children:[(0,T.jsx)("div",{className:y.Z.fm_search_full,style:{marginBottom:"0.5rem"},children:(0,T.jsxs)("section",{className:y.Z.fm_search_full_container,style:{gap:"1rem"},children:[(0,T.jsxs)("div",{className:y.Z.fm_search_full_container_inner,style:{flex:"1.5 1.5"},children:[(0,T.jsx)("img",{className:y.Z.fm_search_full_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,T.jsx)("input",{type:"text",placeholder:o("search"),onChange:function(e){e.target.value?H(e.target.value):(C((function(){return 1})),m(""))}})]}),(0,T.jsx)(N.Z,{label:"add_new_category",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:R})]})}),null===J||void 0===J||null===(t=J.list)||void 0===t?void 0:t.map((function(e,t){var n;return(null===J||void 0===J||null===(n=J.list)||void 0===n?void 0:n.length)===t+1?(0,T.jsx)("div",{ref:F,children:(0,T.jsx)(A,{category:e})},null===e||void 0===e?void 0:e._id):(0,T.jsx)(A,{category:e},null===e||void 0===e?void 0:e._id)})),O?v?(0,T.jsx)(d.Z,{}):(0,T.jsx)(u.Z,{}):v?0===(null===J||void 0===J||null===(n=J.list)||void 0===n?void 0:n.length)&&(0,T.jsx)(b.Z,{title:"No category found related this search."}):0===(null===J||void 0===J||null===(i=J.list)||void 0===i?void 0:i.length)&&(0,T.jsx)(b.Z,{title:"No category."}),G&&(0,T.jsx)(U,{onRefetch:function(){C((function(){return 1})),m(""),z()},onClose:R,stid:s})]})})},B=n(1095),G=function(e){var t,n,i=e.subCategory,s=(0,x.$G)().t,o=(0,r.useState)(""),a=(0,l.Z)(o,2),d=(a[0],a[1]);return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)("div",{className:M.Z.smc_card,children:[(0,T.jsxs)("div",{className:M.Z.smc_card_contatiner,children:[(0,T.jsx)("img",{src:null!==i&&void 0!==i&&i.good_icon?"".concat(B.yI,"/").concat(null===i||void 0===i?void 0:i.good_icon):"".concat(_.J7,"/category.svg"),alt:"categor good_icon"}),(0,T.jsxs)("div",{className:M.Z.smc_card_contatiner_inner,children:[(0,T.jsxs)("h6",{children:[s("name"),": ",null!==(t=null===i||void 0===i?void 0:i.goods_name)&&void 0!==t?t:""]}),(0,T.jsxs)("p",{children:[s("measures")," ",": "," ",null!==(n=null===i||void 0===i?void 0:i.goods_quantity)&&void 0!==n?n:""]})]})]}),(0,T.jsx)("img",{src:"".concat(_.J7,"/menu.svg"),alt:"menu icon",onClick:function(){d(1)},className:M.Z.menu_icon,title:"Menu"})]})})},P=n(38986),Y=n(84959),J=function(e){var t=e.onClose,n=e.onRefetch,i=e.cid,s=(0,x.$G)().t,o=(0,r.useState)(""),a=(0,l.Z)(o,2),c=a[0],u=a[1],v=(0,r.useState)(!1),m=(0,l.Z)(v,2),h=m[0],f=m[1],g=(0,r.useState)({goods_name:"",goods_quantity:"",good_icon:""}),j=(0,l.Z)(g,2),Z=j[0],p=j[1],y=(0,D.Yd)(),b=(0,l.Z)(y,1)[0],U=(0,Y.FL)(),M=(0,l.Z)(U,1)[0];return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(I.Z,{onClose:t,children:(0,T.jsxs)("div",{className:F.Z.modal_container,children:[(0,T.jsx)(S.Z,{children:(0,T.jsxs)("div",{className:F.Z.modal_container_outer_header,children:[(0,T.jsx)("div",{className:F.Z.modal_container_header,children:(0,T.jsx)("h6",{children:s("add_goods")})}),(0,T.jsx)("img",{src:"".concat(_.J7,"/close.svg"),alt:"close icon",onClick:t})]})}),(0,T.jsx)(w.Z,{}),(0,T.jsxs)(S.Z,{customStyle:{paddingTop:"0"},children:[(0,T.jsx)(q.Z,{label:s("goods_name"),placeholder:s("goods_name_placeholder"),name:"goods_name",value:Z.goods_name,type:"text",onChange:function(e){p((function(t){return(0,k.Z)((0,k.Z)({},t),{},(0,C.Z)({},e.target.name,e.target.value))}))},errorShow:c.goods_name}),(0,T.jsx)($.Z,{selectLabel:s("measures"),selectedValue:s("please_select_measures"),onClick:function(e){p((function(t){return(0,k.Z)((0,k.Z)({},t),{},{goods_quantity:null===e||void 0===e?void 0:e.name})}))},options:[{name:"Quantity"},{name:"Pieces"},{name:"Kg"},{name:"Gram"},{name:"Liter"},{name:"Meter"}],defalutValue:Z.goods_quantity,errorShow:c.goods_quantity}),(0,T.jsx)(P.Z,{label:s("icon_upload"),name:"icicon_uploadon",value:Z.good_icon?{key:Z.good_icon}:"",onChange:function(e){var t;if(null!==(t=e.target.files)&&void 0!==t&&t.length){f((function(e){return!e}));var n=new FormData;n.append("file",e.target.files[0]),M({fileUpload:n}).then((function(e){var t;null!==(t=e.data)&&void 0!==t&&t.imageKey&&(p((function(t){var n;return(0,k.Z)((0,k.Z)({},t),{},{good_icon:null===(n=e.data)||void 0===n?void 0:n.imageKey})})),f((function(e){return!e})))})).catch({})}}}),(0,T.jsx)(N.Z,{label:"create",onAction:function(){var e=(0,L.l)(Z,["good_icon"]);(0,L.x)(e)&&i?(f((function(e){return!e})),b({cid:i,bodyParameter:Z}).then((function(){n(),f((function(e){return!e})),t()})).catch({})):u(e)}})]}),h&&(0,T.jsx)(d.Z,{})]})})})},O=function(){var e,t,n,i,o,a,c,v,m,h,f,g,C=(0,s.TH)(),k=(0,x.$G)().t,I=(0,r.useState)(""),w=(0,l.Z)(I,2),q=w[0],$=w[1],L=(0,r.useState)(1),F=(0,l.Z)(L,2),U=F[0],M=F[1],A=(0,r.useState)(!0),E=(0,l.Z)(A,2),B=E[0],P=E[1],Y=(0,j.YD)({skip:q}),O=(0,l.Z)(Y,2),z=O[0],H=O[1],R=(0,r.useState)(!1),K=(0,l.Z)(R,2),V=K[0],W=K[1],X=(0,D.Cc)({data:{cid:null===(e=C.state)||void 0===e||null===(t=e.category)||void 0===t?void 0:t._id,page:U,limit:10,search:q},skip:!(null!==(n=C.state)&&void 0!==n&&null!==(i=n.category)&&void 0!==i&&i._id)}),Q=X.storeMasterSubCategoryList,ee=X.storeMasterSubCategoryListLoading,te=X.storeMasterSubCategoryListRefetch;(0,r.useEffect)((function(){H&&B&&M((function(e){return e+1}))}),[H,B]),(0,r.useEffect)((function(){var e;if(null!==Q&&void 0!==Q&&null!==(e=Q.list)&&void 0!==e&&e.length){var t,n=(0,Z.f)(null===Q||void 0===Q||null===(t=Q.list)||void 0===t?void 0:t.length);P((function(){return n}))}}),[null===Q||void 0===Q?void 0:Q.list]);var ne=(0,r.useCallback)((0,p.J)((function(e){M((function(){return 1})),$(e)}),1500),[]),ie=function(){W((function(e){return!e}))};return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(S.Z,{customStyle:{padding:"0.8rem 0 0 0"},children:[(0,T.jsxs)("div",{className:y.Z.fm_header_container,children:[(0,T.jsx)("h6",{children:null!==(o=null===(a=C.state)||void 0===a||null===(c=a.category)||void 0===c?void 0:c.category_name)&&void 0!==o?o:""}),(0,T.jsxs)("div",{className:y.Z.fm_search,children:[(0,T.jsx)("section",{className:y.Z.fm_search_container,children:(0,T.jsxs)("div",{className:y.Z.fm_search_container_inner,children:[(0,T.jsx)("img",{className:y.Z.fm_search_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,T.jsx)("input",{type:"text",placeholder:k("search"),onChange:function(e){e.target.value?ne(e.target.value):(M((function(){return 1})),$(""))},style:{minWidth:"270px"}})]})}),(0,T.jsx)(N.Z,{label:"add_goods",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:ie})]})]}),null===Q||void 0===Q||null===(v=Q.list)||void 0===v?void 0:v.map((function(e,t){var n;return(null===Q||void 0===Q||null===(n=Q.list)||void 0===n?void 0:n.length)===t+1?(0,T.jsx)("div",{ref:z,children:(0,T.jsx)(G,{subCategory:e})},null===e||void 0===e?void 0:e._id):(0,T.jsx)(G,{subCategory:e},null===e||void 0===e?void 0:e._id)})),ee?q?(0,T.jsx)(d.Z,{}):(0,T.jsx)(u.Z,{}):q?0===(null===Q||void 0===Q||null===(m=Q.list)||void 0===m?void 0:m.length)&&(0,T.jsx)(b.Z,{title:"No goods found related this search."}):0===(null===Q||void 0===Q||null===(h=Q.list)||void 0===h?void 0:h.length)&&(0,T.jsx)(b.Z,{title:"No goods."}),V&&(0,T.jsx)(J,{onRefetch:function(){M((function(){return 1})),$(""),te()},onClose:ie,cid:null===(f=C.state)||void 0===f||null===(g=f.category)||void 0===g?void 0:g._id})]})})},z=function(){var e,t=(0,o.lr)(),n=(0,l.Z)(t,1)[0],i=(0,s.TH)();return(0,T.jsx)(T.Fragment,{children:"category"===n.get("n")?(0,T.jsx)(O,{}):(0,T.jsx)(E,{stid:null===(e=i.state)||void 0===e?void 0:e.stid})})},H=function(e){var t,n,i,a,r,d,c,u,x,j,Z,p,y,N,S,b,C,k,I,w,q,$,L,F,D,U,M,A,E,B,G,P,Y,J,O,H,R,V=e.tabManage,W=(0,s.UO)(),X=(0,s.TH)(),Q=((0,s.s0)(),(0,o.lr)()),ee=(0,l.Z)(Q,1)[0],te=null===(t=document.getElementById("589nbsgh"))||void 0===t?void 0:t.clientWidth,ne="9rem",ie="9rem";if(te){var se=te>870?te>1100?6:5:te>700?4:3,le=te>870?1:2;ne=ie="".concat(Math.floor((te-le-31*se-1)/se),"px")}return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(v.Z,{children:K.map((function(e){return(0,T.jsx)(m.Z,{label:e.label,isLink:!0,isActive:"menu"===e.id&&!ee.get("type")||ee.get("type")===e.id,parentState:X.state,url:"/q/".concat(W.username,"/member/staff/store").concat(e.urlKey),isAuthorized:!0},null===e||void 0===e?void 0:e.id)}))}),ee.get("type")?"masters"===ee.get("type")?(0,T.jsx)(z,{}):null:(0,T.jsxs)(h.Z,{dynamicId:"589nbsgh",children:[(0,T.jsx)(f.Z,{label:"unit",iconUrl:"".concat(_.zr,"/unit.svg"),url:"/q/".concat(W.username,"/member/staff/store?type=unit"),state:X.state,isAuthorized:null===(n=X.state)||void 0===n||!n.role||(null===(i=g.a[null===(a=X.state)||void 0===a?void 0:a.role])||void 0===i?void 0:i.includes("student")),isVisible:null!==V&&void 0!==V?V:{},authorizedKey:"store_unit",customStyleContainer:{height:ne,width:ie}}),(0,T.jsx)(f.Z,{label:"individual_staffs",iconUrl:"".concat(_.zr,"/individual.svg"),url:"/q/".concat(W.username,"/member/staff/store?type=individual-staff"),state:X.state,isAuthorized:null===(r=X.state)||void 0===r||!r.role||(null===(d=g.a[null===(c=X.state)||void 0===c?void 0:c.role])||void 0===d?void 0:d.includes("student")),isVisible:null!==V&&void 0!==V?V:{},authorizedKey:"individual_staff",customStyleContainer:{height:ne,width:ie}}),(0,T.jsx)(f.Z,{label:"stock",iconUrl:"".concat(_.zr,"/stock.svg"),url:"/q/".concat(W.username,"/member/staff/store?type=stock"),state:X.state,isAuthorized:null===(u=X.state)||void 0===u||!u.role||(null===(x=g.a[null===(j=X.state)||void 0===j?void 0:j.role])||void 0===x?void 0:x.includes("student")),isVisible:null!==V&&void 0!==V?V:{},authorizedKey:"stock",customStyleContainer:{height:ne,width:ie}}),(0,T.jsx)(f.Z,{label:"issue",iconUrl:"".concat(_.zr,"/issue.svg"),url:"/q/".concat(W.username,"/member/staff/store?type=issue"),state:X.state,isAuthorized:null===(Z=X.state)||void 0===Z||!Z.role||(null===(p=g.a[null===(y=X.state)||void 0===y?void 0:y.role])||void 0===p?void 0:p.includes("student")),isVisible:null!==V&&void 0!==V?V:{},authorizedKey:"issue_register",customStyleContainer:{height:ne,width:ie}}),(0,T.jsx)(f.Z,{label:"return_book",iconUrl:"".concat(_.zr,"/return-book.svg"),url:"/q/".concat(W.username,"/member/staff/store?type=return"),state:X.state,isAuthorized:null===(N=X.state)||void 0===N||!N.role||(null===(S=g.a[null===(b=X.state)||void 0===b?void 0:b.role])||void 0===S?void 0:S.includes("student")),isVisible:null!==V&&void 0!==V?V:{},authorizedKey:"return_register",customStyleContainer:{height:ne,width:ie}}),(0,T.jsx)(f.Z,{label:"consumption",iconUrl:"".concat(_.J7,"/student.svg"),url:"/q/".concat(W.username,"/member/staff/store?type=consumption"),state:X.state,isAuthorized:null===(C=X.state)||void 0===C||!C.role||(null===(k=g.a[null===(I=X.state)||void 0===I?void 0:I.role])||void 0===k?void 0:k.includes("student")),isVisible:null!==V&&void 0!==V?V:{},authorizedKey:"consumption",customStyleContainer:{height:ne,width:ie}}),(0,T.jsx)(f.Z,{label:"purchase_order",iconUrl:"".concat(_.zr,"/purchase.svg"),url:"/q/".concat(W.username,"/member/staff/store?type=purchase-order"),state:X.state,isAuthorized:null===(w=X.state)||void 0===w||!w.role||(null===(q=g.a[null===($=X.state)||void 0===$?void 0:$.role])||void 0===q?void 0:q.includes("student")),isVisible:null!==V&&void 0!==V?V:{},authorizedKey:"purchase_order",customStyleContainer:{height:ne,width:ie}}),(0,T.jsx)(f.Z,{label:"stocktake",iconUrl:"".concat(_.zr,"/stocktake.svg"),url:"/q/".concat(W.username,"/member/staff/store?type=stocktake"),state:X.state,isAuthorized:null===(L=X.state)||void 0===L||!L.role||(null===(F=g.a[null===(D=X.state)||void 0===D?void 0:D.role])||void 0===F?void 0:F.includes("student")),isVisible:null!==V&&void 0!==V?V:{},authorizedKey:"stock_take",customStyleContainer:{height:ne,width:ie}}),(0,T.jsx)(f.Z,{label:"maintenance",iconUrl:"".concat(_.zr,"/maintenance.svg"),url:"/q/".concat(W.username,"/member/staff/store?type=maintenance"),state:X.state,isAuthorized:null===(U=X.state)||void 0===U||!U.role||(null===(M=g.a[null===(A=X.state)||void 0===A?void 0:A.role])||void 0===M?void 0:M.includes("student")),isVisible:null!==V&&void 0!==V?V:{},authorizedKey:"maintanence",customStyleContainer:{height:ne,width:ie}}),(0,T.jsx)(f.Z,{label:"breackage",iconUrl:"".concat(_.zr,"/breakage.svg"),url:"/q/".concat(W.username,"/member/staff/store?type=breackage"),state:X.state,isAuthorized:null===(E=X.state)||void 0===E||!E.role||(null===(B=g.a[null===(G=X.state)||void 0===G?void 0:G.role])||void 0===B?void 0:B.includes("student")),isVisible:null!==V&&void 0!==V?V:{},authorizedKey:"brokrages",customStyleContainer:{height:ne,width:ie}}),(0,T.jsx)(f.Z,{label:"qr_codes",iconUrl:"".concat(_.zr,"/qr.svg"),url:"/q/".concat(W.username,"/member/staff/store?type=qr"),state:X.state,isAuthorized:null===(P=X.state)||void 0===P||!P.role||(null===(Y=g.a[null===(J=X.state)||void 0===J?void 0:J.role])||void 0===Y?void 0:Y.includes("student")),isVisible:null!==V&&void 0!==V?V:{},authorizedKey:"qr_codes",customStyleContainer:{height:ne,width:ie}}),(0,T.jsx)(f.Z,{label:"data_export",iconUrl:"".concat(_.J7,"/export.svg"),url:"/q/".concat(W.username,"/member/staff/store?type=export"),state:X.state,isAuthorized:null===(O=X.state)||void 0===O||!O.role||(null===(H=g.a[null===(R=X.state)||void 0===R?void 0:R.role])||void 0===H?void 0:H.includes("student")),isVisible:null!==V&&void 0!==V?V:{},authorizedKey:"data_export",customStyleContainer:{height:ne,width:ie}})]})]})},R=(0,r.memo)(H),K=[{label:"menu",id:"menu",urlKey:""},{label:"day_book",id:"day-book",urlKey:"?type=day-book"},{label:"masters",id:"masters",urlKey:"?type=masters"}],V=n(63687),W=function(e){var t,n,i,l,a,r,d,c,u,v,m=e.unit,h=e.subUrl,f=e.isStatic,g=(0,x.$G)().t,j=(0,s.TH)(),Z=(0,s.UO)();return(0,T.jsx)(T.Fragment,{children:f?(0,T.jsx)(o.rU,{to:"/q/".concat(Z.username,"/member/staff/store?type=unit&n=").concat(h),state:j.state,children:(0,T.jsx)("div",{className:M.Z.smc_card,children:(0,T.jsx)("div",{className:M.Z.smc_card_contatiner,style:{justifyContent:"space-between",width:"100%"},children:(0,T.jsxs)("div",{className:M.Z.smc_card_contatiner,children:[(0,T.jsx)("img",{src:null!==m&&void 0!==m&&m.url?null===m||void 0===m?void 0:m.url:"".concat(_.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar",style:{height:"2.3rem",width:"2.3rem",borderRadius:"50%"}}),(0,T.jsx)("div",{className:M.Z.smc_card_contatiner_inner,children:(0,T.jsx)("h6",{children:g(null===m||void 0===m?void 0:m.name)})})]})})})}):(0,T.jsx)(o.rU,{to:"/q/".concat(Z.username,"/member/staff/store?type=store-unit-custom"),state:(0,k.Z)((0,k.Z)({},j.state),{},{unit:m}),children:(0,T.jsx)("div",{className:M.Z.smc_card,children:(0,T.jsx)("div",{className:M.Z.smc_card_contatiner,style:{justifyContent:"space-between",width:"100%"},children:(0,T.jsxs)("div",{className:M.Z.smc_card_contatiner,children:[(0,T.jsx)("img",{src:null!==m&&void 0!==m&&null!==(t=m.good_head_person)&&void 0!==t&&t.staffProfilePhoto?"".concat(B.yI,"/").concat(null===m||void 0===m||null===(n=m.good_head_person)||void 0===n?void 0:n.staffProfilePhoto):"".concat(_.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar",style:{height:"2.3rem",width:"2.3rem",borderRadius:"50%"}}),(0,T.jsxs)("div",{className:M.Z.smc_card_contatiner_inner,children:[(0,T.jsxs)("h6",{children:[g("good_title_person")," ",": "," ",null!==(i=null===m||void 0===m?void 0:m.good_title_person)&&void 0!==i?i:"",", ",g("good_head_name")," ",": "," ",null!==(l=null===m||void 0===m?void 0:m.good_head_name)&&void 0!==l?l:""]}),(0,T.jsx)("p",{children:"".concat(null!==(a=null===m||void 0===m||null===(r=m.good_head_person)||void 0===r?void 0:r.staffFirstName)&&void 0!==a?a:""," ").concat(null!==(d=null===m||void 0===m||null===(c=m.good_head_person)||void 0===c?void 0:c.staffMiddleName)&&void 0!==d?d:""," ").concat(null!==(u=null===m||void 0===m||null===(v=m.good_head_person)||void 0===v?void 0:v.staffLastName)&&void 0!==u?u:"")})]})]})})})})})},X=n(90702),Q=function(e){var t,n,i,s,o=e.onClose,a=e.onRefetch,c=e.stid,u=e.instituteId,v=(0,x.$G)().t,m=(0,r.useState)(""),h=(0,l.Z)(m,2),f=h[0],g=h[1],j=(0,r.useState)(!1),Z=(0,l.Z)(j,2),p=Z[0],y=Z[1],b=(0,r.useState)({good_head_name:"",good_title_person:"",good_head_person:""}),$=(0,l.Z)(b,2),U=$[0],M=$[1],A=(0,r.useState)(""),E=(0,l.Z)(A,2),G=E[0],P=E[1],Y=(0,r.useState)(1),J=(0,l.Z)(Y,2),O=J[0],z=J[1],H=(0,D.D8)(),R=(0,l.Z)(H,1)[0],K=function(e){M((function(t){return(0,k.Z)((0,k.Z)({},t),{},(0,C.Z)({},e.target.name,e.target.value))}))};return(0,T.jsx)(T.Fragment,{children:3===O?(0,T.jsx)(X.Z,{onSelectStaff:function(e){P(e),M((function(t){return(0,k.Z)((0,k.Z)({},t),{},{good_head_person:null===e||void 0===e?void 0:e._id})})),z(1)},onClose:function(){return z(1)},instituteId:u}):(0,T.jsx)(I.Z,{onClose:o,children:(0,T.jsxs)("div",{className:F.Z.modal_container,children:[(0,T.jsx)(S.Z,{children:(0,T.jsxs)("div",{className:F.Z.modal_container_outer_header,children:[(0,T.jsx)("div",{className:F.Z.modal_container_header,children:(0,T.jsx)("h6",{children:v("add_new_head_person")})}),(0,T.jsx)("img",{src:"".concat(_.J7,"/close.svg"),alt:"close icon",onClick:o})]})}),(0,T.jsx)(w.Z,{}),(0,T.jsxs)(S.Z,{customStyle:{paddingTop:"0"},children:[(0,T.jsx)(q.Z,{label:v("good_head_name"),placeholder:v("good_head_name_placeholder"),name:"good_head_name",value:U.good_head_name,type:"text",onChange:K,errorShow:f.good_head_name}),(0,T.jsxs)("div",{className:F.Z.card_container_image,onClick:function(){return z(3)},style:{cursor:"pointer",marginTop:"0.8rem"},children:[(0,T.jsx)("img",{alt:"not found",src:null!==G&&void 0!==G&&G.staffProfilePhoto?"".concat(B.yI,"/").concat(G.staffProfilePhoto):"".concat(_.p3,"/feed-user-avatar.svg"),style:{width:"3rem",height:"3rem"}}),(0,T.jsx)("div",{className:F.Z.card_container_inner,children:null!==G&&void 0!==G&&G.staffFirstName?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("h6",{children:"".concat(null!==(t=null===G||void 0===G?void 0:G.staffFirstName)&&void 0!==t?t:""," \n                    ").concat(null!==(n=null===G||void 0===G?void 0:G.staffMiddleName)&&void 0!==n?n:"","\n                    ").concat(null!==(i=null===G||void 0===G?void 0:G.staffLastName)&&void 0!==i?i:"")}),(0,T.jsxs)("p",{children:[v("index_number_1")," ",null!==(s=null===G||void 0===G?void 0:G.staffROLLNO)&&void 0!==s?s:""]})]}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("h6",{children:v("assign_head")}),(0,T.jsx)("p",{children:v("search_from_joined_list")})]})})]}),(0,T.jsx)(q.Z,{label:v("good_title_person"),placeholder:v("good_title_person_placeholder"),name:"good_title_person",value:U.good_title_person,type:"text",onChange:K,errorShow:f.good_title_person}),(0,T.jsx)(N.Z,{label:"create",onAction:function(){var e=(0,L.l)(U,[]);(0,L.x)(e)&&c?(y((function(e){return!e})),R({stid:c,bodyParameter:U}).then((function(){a(),y((function(e){return!e})),o()})).catch({})):g(e)}})]}),p&&(0,T.jsx)(d.Z,{})]})})})},ee=n(6758),te=function(e){var t,n,i,l,a,r,d,c,u,v=e.depart,m=(0,s.TH)(),h=(0,s.UO)();return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(o.rU,{to:"/q/".concat(h.username,"/member/staff/store?type=unit&n=detail"),state:(0,k.Z)((0,k.Z)({},m.state),{},{did:null===v||void 0===v?void 0:v._id,name:null===v||void 0===v?void 0:v.dName}),children:(0,T.jsx)("div",{className:M.Z.smc_card,children:(0,T.jsx)("div",{className:M.Z.smc_card_contatiner,style:{justifyContent:"space-between",width:"100%"},children:(0,T.jsxs)("div",{className:M.Z.smc_card_contatiner,children:[(0,T.jsx)("img",{src:null!==v&&void 0!==v&&null!==(t=v.dHead)&&void 0!==t&&t.staffProfilePhoto?"".concat(B.yI,"/").concat(null===v||void 0===v||null===(n=v.dHead)||void 0===n?void 0:n.staffProfilePhoto):"".concat(_.J7,"/department.svg"),loading:"lazy",alt:"avatar",style:{height:"2.3rem",width:"2.3rem",borderRadius:"50%"}}),(0,T.jsxs)("div",{className:M.Z.smc_card_contatiner_inner,children:[(0,T.jsx)("h6",{children:null!==(i=null===v||void 0===v?void 0:v.dName)&&void 0!==i?i:""}),(0,T.jsx)("p",{children:"".concat(null!==(l=null===v||void 0===v||null===(a=v.dHead)||void 0===a?void 0:a.staffFirstName)&&void 0!==l?l:""," ").concat(null!==(r=null===v||void 0===v||null===(d=v.dHead)||void 0===d?void 0:d.staffMiddleName)&&void 0!==r?r:""," ").concat(null!==(c=null===v||void 0===v||null===(u=v.dHead)||void 0===u?void 0:u.staffLastName)&&void 0!==c?c:"")})]})]})})})})})},ne=function(e){var t=e.fid,n=(0,ee.Jv)({fid:t,skip:!t}).instituteAllDepartment;return(0,T.jsx)(T.Fragment,{children:null===n||void 0===n?void 0:n.map((function(e){return(0,T.jsx)(te,{depart:e},null===e||void 0===e?void 0:e._id)}))})},ie=function(e){var t,n,i,s=e.stid,o=e.instituteId,a=e.fid,c=(0,x.$G)().t,v=(0,r.useState)(""),m=(0,l.Z)(v,2),h=m[0],f=m[1],g=(0,r.useState)(1),C=(0,l.Z)(g,2),k=C[0],I=C[1],q=(0,r.useState)(!0),$=(0,l.Z)(q,2),L=$[0],F=$[1],U=(0,j.YD)({skip:h}),M=(0,l.Z)(U,2),A=M[0],E=M[1],B=(0,r.useState)(!1),G=(0,l.Z)(B,2),P=G[0],Y=G[1],J=(0,D.mk)({data:{stid:s,page:k,limit:10,search:h},skip:!s}),O=J.storeUnitHeadPersonList,z=J.storeUnitHeadPersonListLoading,H=J.storeUnitHeadPersonListRefetch;(0,r.useEffect)((function(){E&&L&&I((function(e){return e+1}))}),[E,L]),(0,r.useEffect)((function(){var e;if(null!==O&&void 0!==O&&null!==(e=O.list)&&void 0!==e&&e.length){var t,n=(0,Z.f)(null===O||void 0===O||null===(t=O.list)||void 0===t?void 0:t.length);F((function(){return n}))}}),[null===O||void 0===O?void 0:O.list]);var R=(0,r.useCallback)((0,p.J)((function(e){I((function(){return 1})),f(e)}),1500),[]),K=function(){Y((function(e){return!e}))};return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(V.Z,{children:[(0,T.jsx)(S.Z,{children:(0,T.jsxs)("div",{className:y.Z.fm_header_container,children:[(0,T.jsx)("h6",{children:c("unit")}),(0,T.jsxs)("div",{className:y.Z.fm_search,children:[(0,T.jsx)("section",{className:y.Z.fm_search_container,children:(0,T.jsxs)("div",{className:y.Z.fm_search_container_inner,children:[(0,T.jsx)("img",{className:y.Z.fm_search_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,T.jsx)("input",{type:"text",placeholder:c("search"),onChange:function(e){e.target.value?R(e.target.value):(I((function(){return 1})),f(""))}})]})}),(0,T.jsx)(N.Z,{label:"add",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:K})]})]})}),(0,T.jsx)(w.Z,{}),(0,T.jsxs)(S.Z,{children:[(0,T.jsx)(ne,{fid:a}),null===O||void 0===O||null===(t=O.list)||void 0===t?void 0:t.map((function(e,t){var n;return(null===O||void 0===O||null===(n=O.list)||void 0===n?void 0:n.length)===t+1?(0,T.jsx)("div",{ref:A,children:(0,T.jsx)(W,{unit:e,subUrl:"custom"})},null===e||void 0===e?void 0:e._id):(0,T.jsx)(W,{unit:e,subUrl:"custom"},null===e||void 0===e?void 0:e._id)})),z?h?(0,T.jsx)(d.Z,{}):(0,T.jsx)(u.Z,{}):h?0===(null===O||void 0===O||null===(n=O.list)||void 0===n?void 0:n.length)&&(0,T.jsx)(b.Z,{title:"No unit found related this search."}):0===(null===O||void 0===O||null===(i=O.list)||void 0===i?void 0:i.length)&&(0,T.jsx)(b.Z,{title:"No unit."})]})]}),P&&(0,T.jsx)(Q,{stid:s,onClose:K,onRefetch:function(){I((function(){return 1})),f(""),H()},instituteId:o})]})},se=function(e){var t,n,i,l,a,r,d,c,u,v,m=e.cls,h=(0,s.TH)(),f=(0,s.UO)();return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(o.rU,{to:"/q/".concat(f.username,"/member/staff/store?type=store-cls"),state:(0,k.Z)((0,k.Z)({},h),{},{clsId:null===m||void 0===m?void 0:m._id,clsName:"".concat(null===m||void 0===m?void 0:m.className," - ").concat(null===m||void 0===m?void 0:m.classTitle)}),children:(0,T.jsx)("div",{className:M.Z.smc_card,children:(0,T.jsx)("div",{className:M.Z.smc_card_contatiner,style:{justifyContent:"space-between",width:"100%"},children:(0,T.jsxs)("div",{className:M.Z.smc_card_contatiner,children:[(0,T.jsx)("img",{src:null!==m&&void 0!==m&&null!==(t=m.classTeacher)&&void 0!==t&&t.staffProfilePhoto?"".concat(B.yI,"/").concat(null===m||void 0===m||null===(n=m.classTeacher)||void 0===n?void 0:n.staffProfilePhoto):"".concat(_.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar",style:{height:"2.3rem",width:"2.3rem",borderRadius:"50%"}}),(0,T.jsxs)("div",{className:M.Z.smc_card_contatiner_inner,children:[(0,T.jsxs)("h6",{children:[null!==(i=null===m||void 0===m?void 0:m.className)&&void 0!==i?i:""," - ",null!==(l=null===m||void 0===m?void 0:m.classTitle)&&void 0!==l?l:""]}),(0,T.jsx)("p",{children:"".concat(null!==(a=null===m||void 0===m||null===(r=m.classTeacher)||void 0===r?void 0:r.staffFirstName)&&void 0!==a?a:""," ").concat(null!==(d=null===m||void 0===m||null===(c=m.classTeacher)||void 0===c?void 0:c.staffMiddleName)&&void 0!==d?d:""," ").concat(null!==(u=null===m||void 0===m||null===(v=m.classTeacher)||void 0===v?void 0:v.staffLastName)&&void 0!==u?u:"")})]})]})})})})})},le=function(){var e,t,n,i,o,a,c,v=(0,x.$G)().t,m=(0,s.TH)(),h=(0,s.UO)(),f=(0,s.s0)(),g=(0,r.useState)(""),C=(0,l.Z)(g,2),k=C[0],I=C[1],q=(0,r.useState)(1),$=(0,l.Z)(q,2),L=$[0],F=$[1],U=(0,r.useState)(!0),M=(0,l.Z)(U,2),A=M[0],E=M[1],B=(0,j.YD)({skip:k}),G=(0,l.Z)(B,2),P=G[0],Y=G[1],J=(0,D.zr)({data:{did:null===(e=m.state)||void 0===e?void 0:e.did,page:L,limit:10,search:k},skip:!(null!==(t=m.state)&&void 0!==t&&t.did)}),O=J.storeDepartmentClassList,z=J.storeDepartmentClassListLoading;(0,r.useEffect)((function(){Y&&A&&F((function(e){return e+1}))}),[Y,A]),(0,r.useEffect)((function(){var e;if(null!==O&&void 0!==O&&null!==(e=O.list)&&void 0!==e&&e.length){var t,n=(0,Z.f)(null===O||void 0===O||null===(t=O.list)||void 0===t?void 0:t.length);E((function(){return n}))}}),[null===O||void 0===O?void 0:O.list]);var H=(0,r.useCallback)((0,p.J)((function(e){F((function(){return 1})),I(e)}),1500),[]);return(0,T.jsxs)(V.Z,{children:[(0,T.jsx)(S.Z,{children:(0,T.jsxs)("div",{className:y.Z.fm_header_container,children:[(0,T.jsx)("h6",{children:null!==(n=null===(i=m.state)||void 0===i?void 0:i.name)&&void 0!==n?n:"Department Name"}),(0,T.jsxs)("div",{className:y.Z.fm_search,children:[(0,T.jsx)("section",{className:y.Z.fm_search_container,children:(0,T.jsxs)("div",{className:y.Z.fm_search_container_inner,children:[(0,T.jsx)("img",{className:y.Z.fm_search_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,T.jsx)("input",{type:"text",placeholder:v("search"),onChange:function(e){e.target.value?H(e.target.value):(F((function(){return 1})),I(""))},style:{minWidth:"250px"}})]})}),(0,T.jsx)(N.Z,{label:"department_office_staff",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:function(){var e="/q/".concat(h.username,"/member/staff/store?type=store-department");f(e,{state:m.state})}})]})]})}),(0,T.jsx)(w.Z,{}),(0,T.jsxs)(S.Z,{children:[null===O||void 0===O||null===(o=O.list)||void 0===o?void 0:o.map((function(e,t){var n;return(null===O||void 0===O||null===(n=O.list)||void 0===n?void 0:n.length)===t+1?(0,T.jsx)("div",{ref:P,children:(0,T.jsx)(se,{cls:e})},null===e||void 0===e?void 0:e._id):(0,T.jsx)(se,{cls:e},null===e||void 0===e?void 0:e._id)})),z?k?(0,T.jsx)(d.Z,{}):(0,T.jsx)(u.Z,{}):k?0===(null===O||void 0===O||null===(a=O.list)||void 0===a?void 0:a.length)&&(0,T.jsx)(b.Z,{title:"No classes found related this search."}):0===(null===O||void 0===O||null===(c=O.list)||void 0===c?void 0:c.length)&&(0,T.jsx)(b.Z,{title:"No classes."})]})]})},oe=function(e){var t,n=e.instituteId,i=e.fid,a=(0,o.lr)(),r=(0,l.Z)(a,1)[0],d=(0,s.TH)();return(0,T.jsx)(T.Fragment,{children:"detail"===r.get("n")?(0,T.jsx)(le,{}):"department"===r.get("n")?(0,T.jsx)(ne,{}):(0,T.jsx)(ie,{stid:null===(t=d.state)||void 0===t?void 0:t.stid,instituteId:n,fid:i})})},ae=function(e){var t,n,i,l,a,r,d,c=e.staff,u=(0,x.$G)().t,v=(0,s.TH)(),m=(0,s.UO)();return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(o.rU,{to:"/q/".concat(m.username,"/member/staff/store?type=store-individual"),state:(0,k.Z)((0,k.Z)({},v.state),{},{staffId:null===c||void 0===c?void 0:c._id,name:"".concat(null!==(t=null===c||void 0===c?void 0:c.staffFirstName)&&void 0!==t?t:""," ").concat(null!==(n=null===c||void 0===c?void 0:c.staffMiddleName)&&void 0!==n?n:""," ").concat(null!==(i=null===c||void 0===c?void 0:c.staffLastName)&&void 0!==i?i:"")}),children:(0,T.jsx)("div",{className:M.Z.smc_card,children:(0,T.jsx)("div",{className:M.Z.smc_card_contatiner,style:{justifyContent:"space-between",width:"100%"},children:(0,T.jsxs)("div",{className:M.Z.smc_card_contatiner,children:[(0,T.jsx)("img",{src:null!==c&&void 0!==c&&c.staffProfilePhoto?"".concat(B.yI,"/").concat(null===c||void 0===c?void 0:c.staffProfilePhoto):"".concat(_.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar",style:{height:"2.3rem",width:"2.3rem",borderRadius:"50%"}}),(0,T.jsxs)("div",{className:M.Z.smc_card_contatiner_inner,children:[(0,T.jsx)("h6",{children:"".concat(null!==(l=null===c||void 0===c?void 0:c.staffFirstName)&&void 0!==l?l:""," ").concat(null!==(a=null===c||void 0===c?void 0:c.staffMiddleName)&&void 0!==a?a:""," ").concat(null!==(r=null===c||void 0===c?void 0:c.staffLastName)&&void 0!==r?r:"")}),(0,T.jsxs)("p",{children:[u("index_number_1")," ",null!==(d=null===c||void 0===c?void 0:c.staffROLLNO)&&void 0!==d?d:""]})]})]})})})})})},re=function(e){var t,n,i,s=e.instituteId,o=(0,x.$G)().t,a=(0,r.useState)(""),c=(0,l.Z)(a,2),v=c[0],m=c[1],h=(0,r.useState)(1),f=(0,l.Z)(h,2),g=f[0],N=f[1],C=(0,r.useState)(!0),k=(0,l.Z)(C,2),I=k[0],q=k[1],$=(0,j.YD)({skip:v}),L=(0,l.Z)($,2),F=L[0],D=L[1],U=(0,ee.nb)({data:{id:s,page:g,limit:10,search:v},skip:!s}),M=U.instituteAllStaff,A=U.instituteAllStaffLoading;(0,r.useEffect)((function(){D&&I&&N((function(e){return e+1}))}),[D,I]),(0,r.useEffect)((function(){var e;if(null!==M&&void 0!==M&&null!==(e=M.list)&&void 0!==e&&e.length){var t,n=(0,Z.f)(null===M||void 0===M||null===(t=M.list)||void 0===t?void 0:t.length);q((function(){return n}))}}),[null===M||void 0===M?void 0:M.list]);var E=(0,r.useCallback)((0,p.J)((function(e){N((function(){return 1})),m(e)}),1500),[]);return(0,T.jsxs)(V.Z,{children:[(0,T.jsx)(S.Z,{children:(0,T.jsxs)("div",{className:y.Z.fm_header_container,children:[(0,T.jsx)("h6",{children:o("individual_staff")}),(0,T.jsx)("div",{className:y.Z.fm_search,children:(0,T.jsx)("section",{className:y.Z.fm_search_container,children:(0,T.jsxs)("div",{className:y.Z.fm_search_container_inner,children:[(0,T.jsx)("img",{className:y.Z.fm_search_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,T.jsx)("input",{type:"text",placeholder:o("search"),onChange:function(e){e.target.value?E(e.target.value):(N((function(){return 1})),m(""))}})]})})})]})}),(0,T.jsx)(w.Z,{}),(0,T.jsxs)(S.Z,{children:[null===M||void 0===M||null===(t=M.list)||void 0===t?void 0:t.map((function(e,t){var n;return(null===M||void 0===M||null===(n=M.list)||void 0===n?void 0:n.length)===t+1?(0,T.jsx)("div",{ref:F,children:(0,T.jsx)(ae,{staff:e})},null===e||void 0===e?void 0:e._id):(0,T.jsx)(ae,{staff:e},null===e||void 0===e?void 0:e._id)})),A?v?(0,T.jsx)(d.Z,{}):(0,T.jsx)(u.Z,{}):v?0===(null===M||void 0===M||null===(n=M.list)||void 0===n?void 0:n.length)&&(0,T.jsx)(b.Z,{title:"No staffs found related this search."}):0===(null===M||void 0===M||null===(i=M.list)||void 0===i?void 0:i.length)&&(0,T.jsx)(b.Z,{title:"No staffs."})]})]})},de=n(98967),ce=n(63162),ue=function(e){var t=e.parentState,n=e.inititalUrl,i=(0,s.UO)(),a=(0,o.lr)(),r=(0,l.Z)(a,1)[0];return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(de.Z,{children:ve.map((function(e){var s;return(0,T.jsx)(ce.Z,{tab:e,isLink:!0,isActive:null===(s=e.groupIs)||void 0===s?void 0:s.includes(r.get("n")),parentState:t,url:"/q/".concat(i.username,"/member/staff/store?type=").concat(n).concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,T.jsx)(w.Z,{customStyleBorder:{marginBlock:"0"}})]})},ve=[{label:"register",id:"register",urlKey:"",groupIs:["",null]},{label:"request",id:"request",urlKey:"&n=request",groupIs:["request"]},{label:"issue",id:"issue",urlKey:"&n=issue",groupIs:["issue"]},{label:"stocktake",id:"stocktake",urlKey:"&n=stocktake",groupIs:["stocktake"]},{label:"consumption",id:"consumption",urlKey:"&n=consumption",groupIs:["consumption"]},{label:"return",id:"return",urlKey:"&n=return",groupIs:["return"]},{label:"maintenance",id:"maintenance",urlKey:"&n=maintenance",groupIs:["maintenance"]}],me=n(20292),he=n(75045),fe=n(8905),_e=n(19321),ge=n(64046),xe=n(69718),je=n(8754),Ze=function(){var e,t,n,i,a,r,d,c,u,v=(0,x.$G)().t,m=(0,s.TH)(),h=(0,s.s0)(),f=(0,s.UO)(),g=(0,o.lr)(),j=(0,l.Z)(g,1)[0];return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(V.Z,{children:[(0,T.jsx)(S.Z,{children:(0,T.jsx)("div",{className:y.Z.fm_header_container,children:(0,T.jsxs)("div",{className:y.Z.fm_header_start_container,children:[(0,T.jsx)("img",{alt:"search icon",src:"".concat(_.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:function(){h("/q/".concat(f.username,"/member/staff/store"),{state:(0,k.Z)((0,k.Z)({},m.state),{},{did:"",name:""})})}}),(0,T.jsxs)("h6",{children:[null!==(e=null===(t=m.state)||void 0===t?void 0:t.name)&&void 0!==e?e:""," (",v("store"),")"]})]})})}),(0,T.jsx)(ue,{inititalUrl:j.get("type"),parentState:m.state}),(0,T.jsx)(S.Z,{children:"request"===j.get("n")?(0,T.jsx)(fe.Z,{flow:"Department",mid:null===(n=m.state)||void 0===n?void 0:n.did}):"issue"===j.get("n")?(0,T.jsx)(_e.Z,{flow:"Department",mid:null===(i=m.state)||void 0===i?void 0:i.did}):"stocktake"===j.get("n")?(0,T.jsx)(ge.Z,{flow:"Department",mid:null===(a=m.state)||void 0===a?void 0:a.did}):"consumption"===j.get("n")?(0,T.jsx)(xe.Z,{flow:"Department",mid:null===(r=m.state)||void 0===r?void 0:r.did}):"return"===j.get("n")?(0,T.jsx)(je.Z,{flow:"Department",mid:null===(d=m.state)||void 0===d?void 0:d.did}):"maintenance"===j.get("n")?(0,T.jsx)(he.Z,{flow:"Department",mid:null===(c=m.state)||void 0===c?void 0:c.did}):(0,T.jsx)(me.Z,{flow:"Department",mid:null===(u=m.state)||void 0===u?void 0:u.did})})]})})},pe=n(51416),ye=function(e){var t=e.onNavigate,n=e.label,i=e.iconUrl,s=e.url,l=e.customStyleContainer,a=e.state,r=(0,x.$G)().t;return s?(0,T.jsxs)(o.rU,{className:pe.Z.square_tab_card,to:s,state:a,style:l,children:[(0,T.jsx)("img",{src:i,alt:"card icon"}),(0,T.jsx)("p",{children:r(n)})]}):(0,T.jsxs)("div",{className:pe.Z.square_tab_card,style:l,onClick:t,children:[(0,T.jsx)("img",{src:i,alt:"card icon"}),(0,T.jsx)("p",{children:n})]})},Ne=n(49806),Se=function(e){var t,n,i,s=e.goods,l=e.onSelect,o=e.selectedGoods,a=e.isRead,r=(0,x.$G)().t;return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)("div",{className:null!==o&&void 0!==o&&o.includes(null===s||void 0===s?void 0:s._id)?"".concat(M.Z.smc_card," ").concat(M.Z.smc_card_active):M.Z.smc_card,onClick:function(){a||l(s)},children:(0,T.jsxs)("div",{className:M.Z.smc_card_contatiner,children:[(0,T.jsx)("img",{src:null!==s&&void 0!==s&&s.good_icon?"".concat(B.yI,"/").concat(null===s||void 0===s?void 0:s.good_icon):"".concat(_.J7,"/category.svg"),alt:"categor good_icon"}),(0,T.jsxs)("div",{className:M.Z.smc_card_contatiner_inner,children:[(0,T.jsxs)("h6",{children:[r("name"),": ",null!==(t=null===s||void 0===s?void 0:s.goods_name)&&void 0!==t?t:""]}),(0,T.jsxs)("p",{children:[r("remaining_quantity")," ",": "," ",null!==(n=null===s||void 0===s?void 0:s.goods_volume)&&void 0!==n?n:""]}),(0,T.jsxs)("p",{children:[r("price_per_unit")," ",": "," ",null!==(i=null===s||void 0===s?void 0:s.goods_price)&&void 0!==i?i:""]})]})]})})})},be=function(e){var t,n,i,s,o=e.onClose,a=e.stid,c=e.onGoodsSelect,v=e.selectedGoods,m=(0,x.$G)().t,h=(0,r.useState)(""),f=(0,l.Z)(h,2),g=f[0],y=f[1],N=(0,r.useState)(1),C=(0,l.Z)(N,2),k=C[0],q=C[1],$=(0,r.useState)(!0),L=(0,l.Z)($,2),F=L[0],U=L[1],M=(0,j.YD)({skip:g}),A=(0,l.Z)(M,2),E=A[0],B=A[1],G=(0,D.ok)({data:{stid:a,page:k,limit:10,search:g},skip:!a}),P=G.storeAllGoodsList,Y=G.storeAllGoodsListLoading;(0,r.useEffect)((function(){B&&F&&q((function(e){return e+1}))}),[B,F]),(0,r.useEffect)((function(){var e;if(null!==P&&void 0!==P&&null!==(e=P.list)&&void 0!==e&&e.length){var t,n=(0,Z.f)(null===P||void 0===P||null===(t=P.list)||void 0===t?void 0:t.length);U((function(){return n}))}}),[null===P||void 0===P||null===(t=P.list)||void 0===t?void 0:t.length]);var J=(0,r.useCallback)((0,p.J)((function(e){q((function(){return 1})),y(e)}),1500),[]),O=function(e){c(e)};return(0,T.jsx)(I.Z,{onClose:o,children:(0,T.jsxs)("div",{className:Ne.Z.modal_container,children:[(0,T.jsx)(S.Z,{children:(0,T.jsxs)("div",{className:Ne.Z.modal_container_outer_header,children:[(0,T.jsx)("div",{className:Ne.Z.modal_container_header,children:(0,T.jsx)("h6",{children:m("select_goods")})}),(0,T.jsx)("img",{src:"".concat(_.J7,"/close.svg"),alt:"close icon",onClick:o})]})}),(0,T.jsx)(w.Z,{customStyleBorder:{marginBottom:"0"}}),(0,T.jsxs)(S.Z,{customStyle:{paddingBottom:"1rem"},children:[(0,T.jsxs)("div",{className:Ne.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,T.jsx)("input",{type:"text",placeholder:m("search"),className:Ne.Z.assign_search_input,onChange:function(e){e.target.value?J(e.target.value):(q((function(){return 1})),y(""))},style:{width:"100%"}}),(0,T.jsx)("img",{src:"".concat(_.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===P||void 0===P||null===(n=P.list)||void 0===n?void 0:n.map((function(e,t){var n;return(null===P||void 0===P||null===(n=P.list)||void 0===n?void 0:n.length)===t+1?(0,T.jsx)("div",{ref:E,children:(0,T.jsx)(Se,{goods:e,selectedGoods:v,onSelect:O})},null===e||void 0===e?void 0:e._id):(0,T.jsx)(Se,{goods:e,selectedGoods:v,onSelect:O},null===e||void 0===e?void 0:e._id)})),Y?g?(0,T.jsx)(d.Z,{}):(0,T.jsx)(u.Z,{}):g?0===(null===P||void 0===P||null===(i=P.list)||void 0===i?void 0:i.length)&&(0,T.jsx)(b.Z,{title:"No goods found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===P||void 0===P||null===(s=P.list)||void 0===s?void 0:s.length)&&(0,T.jsx)(b.Z,{title:"No goods.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})},Ce=function(e){var t=e.onClose,n=e.state,i=e.setState,s=e.setStep,o=(0,x.$G)().t,a=(0,r.useState)(""),d=(0,l.Z)(a,2),c=d[0],u=d[1],v=function(e){i((function(t){return(0,k.Z)((0,k.Z)({},t),{},(0,C.Z)({},e.target.name,e.target.value))}))};return(0,T.jsx)(I.Z,{onClose:t,children:(0,T.jsxs)("div",{className:F.Z.modal_container,children:[(0,T.jsx)(S.Z,{children:(0,T.jsxs)("div",{className:F.Z.modal_container_outer_header,children:[(0,T.jsx)("div",{className:F.Z.modal_container_header,children:(0,T.jsx)("h6",{children:o("add_stock")})}),(0,T.jsx)("img",{src:"".concat(_.J7,"/close.svg"),alt:"close icon",onClick:t})]})}),(0,T.jsx)(w.Z,{customStyleBorder:{marginBottom:"0"}}),(0,T.jsxs)(S.Z,{customStyle:{paddingBottom:"1rem"},children:[(0,T.jsx)(Se,{goods:null===n||void 0===n?void 0:n.goods,isRead:!0}),(0,T.jsx)(q.Z,{label:o("goods_quantity"),placeholder:o("goods_quantity_placeholder"),name:"goods_volume",value:null===n||void 0===n?void 0:n.goods_volume,type:"text",onChange:v,errorShow:c.goods_volume}),(0,T.jsx)(q.Z,{label:o("price_per_unit"),placeholder:o("price_per_unit_placeholder"),name:"goods_price",value:null===n||void 0===n?void 0:n.goods_price,type:"text",onChange:v,errorShow:c.goods_price}),(0,T.jsx)(N.Z,{label:"preview",onAction:function(){var e=(0,L.l)(n,[]);(0,L.x)(e)?s(3):u(e)}})]})]})})},ke=n(8959),Ie=function(e){var t=e.onClose,n=e.state,i=e.stid,s=e.onParentClose,o=(0,x.$G)().t,a=(0,r.useState)(!1),c=(0,l.Z)(a,2),u=c[0],v=c[1],m=(0,D.GA)(),h=(0,l.Z)(m,1)[0];return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(I.Z,{onClose:t,children:(0,T.jsxs)("div",{className:F.Z.modal_container,children:[(0,T.jsx)(S.Z,{children:(0,T.jsxs)("div",{className:F.Z.modal_container_outer_header,children:[(0,T.jsx)("div",{className:F.Z.modal_container_header,children:(0,T.jsx)("h6",{children:o("add_stock_preview")})}),(0,T.jsx)("img",{src:"".concat(_.J7,"/close.svg"),alt:"close icon",onClick:t})]})}),(0,T.jsx)(w.Z,{customStyleBorder:{marginBottom:"0"}}),(0,T.jsxs)(S.Z,{customStyle:{paddingBottom:"1rem"},children:[(0,T.jsx)(Se,{goods:null===n||void 0===n?void 0:n.goods,isRead:!0}),(0,T.jsx)(ke.Z,{label:o("goods_quantity"),value:null===n||void 0===n?void 0:n.goods_volume}),(0,T.jsx)(ke.Z,{label:o("price_per_unit"),value:null===n||void 0===n?void 0:n.goods_price}),(0,T.jsx)(N.Z,{label:"confirm_and_save",onAction:function(){var e,t;i&&null!==n&&void 0!==n&&null!==(e=n.goods)&&void 0!==e&&e._id&&(v((function(e){return!e})),h({gid:null===n||void 0===n||null===(t=n.goods)||void 0===t?void 0:t._id,bodyParameter:{sid:i,goods_volume:+(null===n||void 0===n?void 0:n.goods_volume),goods_price:+(null===n||void 0===n?void 0:n.goods_price)}}).then((function(){v((function(e){return!e})),s()})).catch({}))}})]})]})}),u&&(0,T.jsx)(d.Z,{})]})},we=function(e){var t,n,i=e.onClose,s=e.stid,o=(0,r.useState)(1),a=(0,l.Z)(o,2),d=a[0],c=a[1],u=(0,r.useState)({goods:"",goods_volume:"",goods_price:""}),v=(0,l.Z)(u,2),m=v[0],h=v[1];return(0,T.jsx)(T.Fragment,{children:1===d?(0,T.jsx)(be,{onClose:i,stid:s,onGoodsSelect:function(e){h((function(t){return(0,k.Z)((0,k.Z)({},t),{},{goods:e})})),c(2)},selectedGoods:null!==(t=m.goods)&&void 0!==t&&t._id?[null===(n=m.goods)||void 0===n?void 0:n._id]:[]}):2===d?(0,T.jsx)(Ce,{setState:h,state:m,onClose:function(){return c(1)},setStep:c}):3===d?(0,T.jsx)(Ie,{onClose:function(){return c(2)},onParentClose:i,stid:s,state:m}):null})},qe=function(e){var t,n,i=e.stid,o=(0,s.TH)(),a=(0,s.UO)(),d=(0,s.s0)(),c=(0,x.$G)().t,v=(0,r.useState)(""),m=(0,l.Z)(v,2),f=m[0],g=m[1],b=(0,r.useState)(1),C=(0,l.Z)(b,2),I=C[0],q=C[1],$=(0,r.useState)(!0),L=(0,l.Z)($,2),F=L[0],U=L[1],M=(0,j.YD)({skip:f}),A=(0,l.Z)(M,2),E=A[0],B=A[1],G=(0,r.useState)(!1),P=(0,l.Z)(G,2),Y=P[0],J=P[1],O=(0,D.ZC)({data:{stid:i,page:I,limit:10,search:f},skip:!i}),z=O.storeMasterCategoryList,H=O.storeMasterCategoryListLoading;(0,r.useEffect)((function(){B&&F&&q((function(e){return e+1}))}),[B,F]),(0,r.useEffect)((function(){var e;if(null!==z&&void 0!==z&&null!==(e=z.list)&&void 0!==e&&e.length){var t,n=(0,Z.f)(null===z||void 0===z||null===(t=z.list)||void 0===t?void 0:t.length);U((function(){return n}))}}),[null===z||void 0===z?void 0:z.list]);var R=(0,r.useCallback)((0,p.J)((function(e){q((function(){return 1})),g(e)}),1500),[]),K=function(){J((function(e){return!e}))},W=null===(t=document.getElementById("589nbsgh"))||void 0===t?void 0:t.clientWidth,X="9rem",Q="9rem";if(W){var ee=W>870?W>1100?6:5:W>700?4:3,te=W>870?1:2;Q="".concat(Math.floor((W-te-31*ee-1)/ee),"px"),X=Q}return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(V.Z,{children:[(0,T.jsx)(S.Z,{children:(0,T.jsxs)("div",{className:y.Z.fm_header_container,children:[(0,T.jsx)("h6",{children:c("stock")}),(0,T.jsxs)("div",{className:y.Z.fm_search,children:[(0,T.jsx)("section",{className:y.Z.fm_search_container,children:(0,T.jsxs)("div",{className:y.Z.fm_search_container_inner,children:[(0,T.jsx)("img",{className:y.Z.fm_search_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,T.jsx)("input",{type:"text",placeholder:c("search"),onChange:function(e){e.target.value?R(e.target.value):(q((function(){return 1})),g(""))}})]})}),(0,T.jsx)("img",{src:"".concat(_.J7,"/history.svg"),alt:"logs icon",onClick:function(){d("/q/".concat(a.username,"/member/staff/store?type=stock&n=logs"),{state:o.state})}}),(0,T.jsx)(N.Z,{label:"add_stock",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:K})]})]})}),(0,T.jsx)(w.Z,{}),(0,T.jsx)(h.Z,{customStyle:{paddingTop:"0"},children:null===z||void 0===z||null===(n=z.list)||void 0===n?void 0:n.map((function(e,t){var n;return(null===z||void 0===z||null===(n=z.list)||void 0===n?void 0:n.length)===t+1?(0,T.jsx)("div",{ref:E,children:(0,T.jsx)(ye,{label:null===e||void 0===e?void 0:e.category_name,iconUrl:"".concat(_.J7,"/student.svg"),url:"/q/".concat(a.username,"/member/staff/store?type=stock&n=category"),state:(0,k.Z)((0,k.Z)({},o.state),{},{category:e}),customStyleContainer:{width:Q,height:X}})},null===e||void 0===e?void 0:e._id):(0,T.jsx)(ye,{label:null===e||void 0===e?void 0:e.category_name,iconUrl:"".concat(_.J7,"/student.svg"),url:"/q/".concat(a.username,"/member/staff/store?type=stock&n=category"),state:(0,k.Z)((0,k.Z)({},o.state),{},{category:e}),customStyleContainer:{width:Q,height:X}})}))}),H&&(0,T.jsx)(u.Z,{})]}),Y&&(0,T.jsx)(we,{onClose:K,stid:i})]})},$e=function(e){var t,n,i,l=e.subCategory,a=(0,x.$G)().t,r=(0,s.UO)(),d=(0,s.TH)();return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(o.rU,{className:M.Z.smc_card,to:"/q/".concat(r.username,"/member/staff/store?type=store-stock"),state:(0,k.Z)((0,k.Z)({},d.state),{},{goods:l}),children:(0,T.jsxs)("div",{className:M.Z.smc_card_contatiner,children:[(0,T.jsx)("img",{src:null!==l&&void 0!==l&&l.good_icon?"".concat(B.yI,"/").concat(null===l||void 0===l?void 0:l.good_icon):"".concat(_.J7,"/category.svg"),alt:"categor good_icon"}),(0,T.jsxs)("div",{className:M.Z.smc_card_contatiner_inner,children:[(0,T.jsxs)("h6",{children:[a("name"),": ",null!==(t=null===l||void 0===l?void 0:l.goods_name)&&void 0!==t?t:""]}),(0,T.jsxs)("p",{children:[a("measures")," ",": "," ",null!==(n=null===l||void 0===l?void 0:l.goods_quantity)&&void 0!==n?n:""]}),(0,T.jsxs)("p",{children:[a("remaining_quantity")," ",": "," ",null!==(i=null===l||void 0===l?void 0:l.goods_volume)&&void 0!==i?i:""]})]})]})})})},Le=function(){var e,t,n,i,o,a,c,v,m,h,f=(0,s.TH)(),g=(0,x.$G)().t,N=(0,r.useState)(""),C=(0,l.Z)(N,2),k=C[0],I=C[1],q=(0,r.useState)(1),$=(0,l.Z)(q,2),L=$[0],F=$[1],U=(0,r.useState)(!0),M=(0,l.Z)(U,2),A=M[0],E=M[1],B=(0,j.YD)({skip:k}),G=(0,l.Z)(B,2),P=G[0],Y=G[1],J=(0,D.Cc)({data:{cid:null===(e=f.state)||void 0===e||null===(t=e.category)||void 0===t?void 0:t._id,page:L,limit:10,search:k},skip:!(null!==(n=f.state)&&void 0!==n&&null!==(i=n.category)&&void 0!==i&&i._id)}),O=J.storeMasterSubCategoryList,z=J.storeMasterSubCategoryListLoading;(0,r.useEffect)((function(){Y&&A&&F((function(e){return e+1}))}),[Y,A]),(0,r.useEffect)((function(){var e;if(null!==O&&void 0!==O&&null!==(e=O.list)&&void 0!==e&&e.length){var t,n=(0,Z.f)(null===O||void 0===O||null===(t=O.list)||void 0===t?void 0:t.length);E((function(){return n}))}}),[null===O||void 0===O?void 0:O.list]);var H=(0,r.useCallback)((0,p.J)((function(e){F((function(){return 1})),I(e)}),1500),[]);return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(V.Z,{children:[(0,T.jsx)(S.Z,{children:(0,T.jsxs)("div",{className:y.Z.fm_header_container,children:[(0,T.jsxs)("h6",{children:[null!==(o=null===(a=f.state)||void 0===a||null===(c=a.category)||void 0===c?void 0:c.category_name)&&void 0!==o?o:""," ",g("stock")]}),(0,T.jsx)("div",{className:y.Z.fm_search,children:(0,T.jsx)("section",{className:y.Z.fm_search_container,children:(0,T.jsxs)("div",{className:y.Z.fm_search_container_inner,children:[(0,T.jsx)("img",{className:y.Z.fm_search_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,T.jsx)("input",{type:"text",placeholder:g("search"),onChange:function(e){e.target.value?H(e.target.value):(F((function(){return 1})),I(""))}})]})})})]})}),(0,T.jsx)(w.Z,{}),(0,T.jsxs)(S.Z,{children:[null===O||void 0===O||null===(v=O.list)||void 0===v?void 0:v.map((function(e,t){var n;return(null===O||void 0===O||null===(n=O.list)||void 0===n?void 0:n.length)===t+1?(0,T.jsx)("div",{ref:P,children:(0,T.jsx)($e,{subCategory:e})},null===e||void 0===e?void 0:e._id):(0,T.jsx)($e,{subCategory:e},null===e||void 0===e?void 0:e._id)})),z?k?(0,T.jsx)(d.Z,{}):(0,T.jsx)(u.Z,{}):k?0===(null===O||void 0===O||null===(m=O.list)||void 0===m?void 0:m.length)&&(0,T.jsx)(b.Z,{title:"No sub-category found related this search."}):0===(null===O||void 0===O||null===(h=O.list)||void 0===h?void 0:h.length)&&(0,T.jsx)(b.Z,{title:"No sub-category."})]})]})})},Fe=function(e){var t=e.stid,n=(0,o.lr)(),i=(0,l.Z)(n,1)[0];return(0,T.jsx)(T.Fragment,{children:"category"===i.get("n")?(0,T.jsx)(Le,{}):(0,T.jsx)(qe,{stid:t})})},De=function(){var e,t,n,i,a,r,d,c,u,v,m,h,f,g,j,Z,p,N,b,C,I=(0,x.$G)().t,w=(0,s.TH)(),q=(0,s.s0)(),$=(0,s.UO)(),L=(0,o.lr)(),F=(0,l.Z)(L,1)[0];return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(V.Z,{children:[(0,T.jsx)(S.Z,{children:(0,T.jsx)("div",{className:y.Z.fm_header_container,children:(0,T.jsxs)("div",{className:y.Z.fm_header_start_container,children:[(0,T.jsx)("img",{alt:"search icon",src:"".concat(_.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:function(){q("/q/".concat($.username,"/member/staff/store"),{state:(0,k.Z)((0,k.Z)({},w.state),{},{unit:""})})}}),(0,T.jsxs)("h6",{children:[null!==(e=null===(t=w.state)||void 0===t||null===(n=t.unit)||void 0===n?void 0:n.good_head_name)&&void 0!==e?e:""," -"," ",null!==(i=null===(a=w.state)||void 0===a||null===(r=a.unit)||void 0===r?void 0:r.good_title_person)&&void 0!==i?i:""," (",I("store"),")"]})]})})}),(0,T.jsx)(ue,{inititalUrl:F.get("type"),parentState:w.state}),(0,T.jsx)(S.Z,{children:"request"===F.get("n")?(0,T.jsx)(fe.Z,{flow:"Custom",mid:null===(d=w.state)||void 0===d||null===(c=d.unit)||void 0===c?void 0:c._id}):"issue"===F.get("n")?(0,T.jsx)(_e.Z,{flow:"Custom",mid:null===(u=w.state)||void 0===u||null===(v=u.unit)||void 0===v?void 0:v._id}):"stocktake"===F.get("n")?(0,T.jsx)(ge.Z,{flow:"Custom",mid:null===(m=w.state)||void 0===m||null===(h=m.unit)||void 0===h?void 0:h._id}):"consumption"===F.get("n")?(0,T.jsx)(xe.Z,{flow:"Custom",mid:null===(f=w.state)||void 0===f||null===(g=f.unit)||void 0===g?void 0:g._id}):"return"===F.get("n")?(0,T.jsx)(je.Z,{flow:"Custom",mid:null===(j=w.state)||void 0===j||null===(Z=j.unit)||void 0===Z?void 0:Z._id}):"maintenance"===F.get("n")?(0,T.jsx)(he.Z,{flow:"Custom",mid:null===(p=w.state)||void 0===p||null===(N=p.unit)||void 0===N?void 0:N._id}):(0,T.jsx)(me.Z,{flow:"Custom",mid:null===(b=w.state)||void 0===b||null===(C=b.unit)||void 0===C?void 0:C._id})})]})})},Te=function(){var e,t,n,i,a,r,d,c,u,v=(0,x.$G)().t,m=(0,s.TH)(),h=(0,s.s0)(),f=(0,s.UO)(),g=(0,o.lr)(),j=(0,l.Z)(g,1)[0];return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(V.Z,{children:[(0,T.jsx)(S.Z,{children:(0,T.jsx)("div",{className:y.Z.fm_header_container,children:(0,T.jsxs)("div",{className:y.Z.fm_header_start_container,children:[(0,T.jsx)("img",{alt:"search icon",src:"".concat(_.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:function(){h("/q/".concat(f.username,"/member/staff/store"),{state:(0,k.Z)((0,k.Z)({},m.state),{},{staffId:"",name:""})})}}),(0,T.jsxs)("h6",{children:[null!==(e=null===(t=m.state)||void 0===t?void 0:t.name)&&void 0!==e?e:""," (",v("store"),")"]})]})})}),(0,T.jsx)(ue,{inititalUrl:j.get("type"),parentState:m.state}),(0,T.jsx)(S.Z,{children:"request"===j.get("n")?(0,T.jsx)(fe.Z,{flow:"Individual",mid:null===(n=m.state)||void 0===n?void 0:n.staffId}):"issue"===j.get("n")?(0,T.jsx)(_e.Z,{flow:"Individual",mid:null===(i=m.state)||void 0===i?void 0:i.staffId}):"stocktake"===j.get("n")?(0,T.jsx)(ge.Z,{flow:"Individual",mid:null===(a=m.state)||void 0===a?void 0:a.staffId}):"consumption"===j.get("n")?(0,T.jsx)(xe.Z,{flow:"Individual",mid:null===(r=m.state)||void 0===r?void 0:r.staffId}):"return"===j.get("n")?(0,T.jsx)(je.Z,{flow:"Individual",mid:null===(d=m.state)||void 0===d?void 0:d.staffId}):"maintenance"===j.get("n")?(0,T.jsx)(he.Z,{flow:"Individual",mid:null===(c=m.state)||void 0===c?void 0:c.staffId}):(0,T.jsx)(me.Z,{flow:"Individual",mid:null===(u=m.state)||void 0===u?void 0:u.staffId})})]})})},Ue=function(){var e,t,n,i,a,r,d,c,u,v=(0,x.$G)().t,m=(0,s.TH)(),h=(0,s.s0)(),f=(0,s.UO)(),g=(0,o.lr)(),j=(0,l.Z)(g,1)[0];return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(V.Z,{children:[(0,T.jsx)(S.Z,{children:(0,T.jsx)("div",{className:y.Z.fm_header_container,children:(0,T.jsxs)("div",{className:y.Z.fm_header_start_container,children:[(0,T.jsx)("img",{alt:"search icon",src:"".concat(_.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:function(){h("/q/".concat(f.username,"/member/staff/store"),{state:(0,k.Z)((0,k.Z)({},m.state),{},{clsId:"",clsName:""})})}}),(0,T.jsxs)("h6",{children:[null!==(e=null===(t=m.state)||void 0===t?void 0:t.clsName)&&void 0!==e?e:""," (",v("store"),")"]})]})})}),(0,T.jsx)(ue,{inititalUrl:j.get("type"),parentState:m.state}),(0,T.jsx)(S.Z,{children:"request"===j.get("n")?(0,T.jsx)(fe.Z,{flow:"Class",mid:null===(n=m.state)||void 0===n?void 0:n.clsId}):"issue"===j.get("n")?(0,T.jsx)(_e.Z,{flow:"Class",mid:null===(i=m.state)||void 0===i?void 0:i.clsId}):"stocktake"===j.get("n")?(0,T.jsx)(ge.Z,{flow:"Class",mid:null===(a=m.state)||void 0===a?void 0:a.clsId}):"consumption"===j.get("n")?(0,T.jsx)(xe.Z,{flow:"Class",mid:null===(r=m.state)||void 0===r?void 0:r.clsId}):"return"===j.get("n")?(0,T.jsx)(je.Z,{flow:"Class",mid:null===(d=m.state)||void 0===d?void 0:d.clsId}):"maintenance"===j.get("n")?(0,T.jsx)(he.Z,{flow:"Class",mid:null===(c=m.state)||void 0===c?void 0:c.clsId}):(0,T.jsx)(me.Z,{flow:"Class",mid:null===(u=m.state)||void 0===u?void 0:u.clsId})})]})})},Me=n(97892),Ae=n.n(Me),Ee=n(82824),Be=function(e){var t,n,i,s,l,o,a,r,d,c,u,v,m,h=e.register,f=(0,x.$G)().t;return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)("div",{className:M.Z.smc_card,style:{flexDirection:"column",alignItems:"flex-start"},children:[(0,T.jsx)("div",{className:M.Z.smccc_inner,children:(0,T.jsxs)("div",{className:M.Z.smccc_inner,children:[(0,T.jsxs)("h6",{children:[f("quantity")," ",": ",null===h||void 0===h||null===(t=h.goods)||void 0===t?void 0:t.length]}),(0,T.jsxs)("h6",{children:[f("date_and_time")," ",": ",Ae()(null===h||void 0===h?void 0:h.created_at).format("DD/MM/YYYY"),", ",(0,Ee.J)(null===h||void 0===h?void 0:h.created_at,"LT")]})]})}),null===h||void 0===h||null===(n=h.goods)||void 0===n?void 0:n.map((function(e){var t,n,i;return(0,T.jsxs)("div",{className:M.Z.smccc_inner,children:[(0,T.jsxs)("p",{children:[f("name")," ",": ",null!==(t=null===e||void 0===e||null===(n=e.good)||void 0===n?void 0:n.goods_name)&&void 0!==t?t:""]}),(0,T.jsxs)("p",{children:[f("quantity")," ",": ",null!==(i=null===e||void 0===e?void 0:e.quantity)&&void 0!==i?i:""]})]},null===e||void 0===e?void 0:e._id)})),(0,T.jsx)("div",{className:M.Z.smccc_inner,style:{marginTop:"0.5rem"},children:null!==h&&void 0!==h&&h.issue_to_custom?(0,T.jsxs)("h6",{children:[f("issue_to")," ",": ",null!==(i=null===h||void 0===h||null===(s=h.issue_to_custom)||void 0===s?void 0:s.good_head_name)&&void 0!==i?i:"",(0,T.jsxs)("span",{children:["-"," ","".concat(null!==(l=null===h||void 0===h||null===(o=h.issue_to_custom)||void 0===o||null===(a=o.good_head_person)||void 0===a?void 0:a.staffFirstName)&&void 0!==l?l:""," ").concat(null!==(r=null===h||void 0===h||null===(d=h.issue_to_custom)||void 0===d||null===(c=d.good_head_person)||void 0===c?void 0:c.staffMiddleName)&&void 0!==r?r:""," ").concat(null!==(u=null===h||void 0===h||null===(v=h.issue_to_custom)||void 0===v||null===(m=v.good_head_person)||void 0===m?void 0:m.staffLastName)&&void 0!==u?u:"")]})]}):null})]})})},Ge=function(e){var t,n,i,s,o=e.gid,a=(0,x.$G)().t,c=(0,r.useState)(""),v=(0,l.Z)(c,2),m=v[0],h=v[1],f=(0,r.useState)(1),g=(0,l.Z)(f,2),N=g[0],S=g[1],C=(0,r.useState)(!0),k=(0,l.Z)(C,2),I=k[0],w=k[1],q=(0,j.YD)({skip:m}),$=(0,l.Z)(q,2),L=$[0],F=$[1],U=(0,D.Fm)({data:{gid:o,page:N,limit:10,search:m},skip:!o}),M=U.storeGoodsSevenRegister,A=U.storeGoodsSevenRegisterLoading;(0,r.useEffect)((function(){F&&I&&S((function(e){return e+1}))}),[F,I]),(0,r.useEffect)((function(){var e;if(null!==M&&void 0!==M&&null!==(e=M.list)&&void 0!==e&&e.length){var t,n=(0,Z.f)(null===M||void 0===M||null===(t=M.list)||void 0===t?void 0:t.length);w((function(){return n}))}}),[null===M||void 0===M||null===(t=M.list)||void 0===t?void 0:t.length]);var E=(0,r.useCallback)((0,p.J)((function(e){S((function(){return 1})),h(e)}),1500),[]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{className:y.Z.fm_search_full,style:{marginBottom:"0.5rem"},children:(0,T.jsx)("section",{className:y.Z.fm_search_full_container,style:{gap:"1rem"},children:(0,T.jsxs)("div",{className:y.Z.fm_search_full_container_inner,style:{flex:"1.5 1.5"},children:[(0,T.jsx)("img",{className:y.Z.fm_search_full_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,T.jsx)("input",{type:"text",placeholder:a("search"),onChange:function(e){e.target.value?E(e.target.value):(S((function(){return 1})),h(""))}})]})})}),null===M||void 0===M||null===(n=M.list)||void 0===n?void 0:n.map((function(e,t){var n;return(null===M||void 0===M||null===(n=M.list)||void 0===n?void 0:n.length)===t+1?(0,T.jsx)("div",{ref:L,children:(0,T.jsx)(Be,{register:e})},null===e||void 0===e?void 0:e._id):(0,T.jsx)(Be,{register:e},null===e||void 0===e?void 0:e._id)})),A?m?(0,T.jsx)(d.Z,{}):(0,T.jsx)(u.Z,{}):m?0===(null===M||void 0===M||null===(i=M.list)||void 0===i?void 0:i.length)&&(0,T.jsx)(b.Z,{title:"No register goods found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===M||void 0===M||null===(s=M.list)||void 0===s?void 0:s.length)&&(0,T.jsx)(b.Z,{title:"No register goods.",customStyleContainer:{marginTop:"1.5rem"}})]})},Pe=function(e){var t,n,i,s=e.gid,o=(0,x.$G)().t,a=(0,r.useState)(""),c=(0,l.Z)(a,2),v=c[0],m=c[1],h=(0,r.useState)(1),f=(0,l.Z)(h,2),g=f[0],N=f[1],S=(0,r.useState)(!0),C=(0,l.Z)(S,2),k=C[0],I=C[1],w=(0,j.YD)({skip:v}),q=(0,l.Z)(w,2),$=(q[0],q[1]),L=(0,D.gB)({data:{gid:s,page:g,limit:10,search:v},skip:!s}),F=L.storeGoodsSevenMaintenance,U=L.storeGoodsSevenMaintenanceLoading;(0,r.useEffect)((function(){$&&k&&N((function(e){return e+1}))}),[$,k]),(0,r.useEffect)((function(){var e;if(null!==F&&void 0!==F&&null!==(e=F.list)&&void 0!==e&&e.length){var t,n=(0,Z.f)(null===F||void 0===F||null===(t=F.list)||void 0===t?void 0:t.length);I((function(){return n}))}}),[null===F||void 0===F||null===(t=F.list)||void 0===t?void 0:t.length]);var M=(0,r.useCallback)((0,p.J)((function(e){N((function(){return 1})),m(e)}),1500),[]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{className:y.Z.fm_search_full,style:{marginBottom:"0.5rem"},children:(0,T.jsx)("section",{className:y.Z.fm_search_full_container,style:{gap:"1rem"},children:(0,T.jsxs)("div",{className:y.Z.fm_search_full_container_inner,style:{flex:"1.5 1.5"},children:[(0,T.jsx)("img",{className:y.Z.fm_search_full_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,T.jsx)("input",{type:"text",placeholder:o("search"),onChange:function(e){e.target.value?M(e.target.value):(N((function(){return 1})),m(""))}})]})})}),U?v?(0,T.jsx)(d.Z,{}):(0,T.jsx)(u.Z,{}):v?0===(null===F||void 0===F||null===(n=F.list)||void 0===n?void 0:n.length)&&(0,T.jsx)(b.Z,{title:"No maintenance goods found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===F||void 0===F||null===(i=F.list)||void 0===i?void 0:i.length)&&(0,T.jsx)(b.Z,{title:"No maintenance goods.",customStyleContainer:{marginTop:"1.5rem"}})]})},Ye=function(e){var t,n,i,s,l,o,a,r,d,c,u,v,m,h,f,_,g,j,Z,p=e.request,y=(0,x.$G)().t;return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)("div",{className:M.Z.smc_card,style:{flexDirection:"column",alignItems:"flex-start"},children:[(0,T.jsxs)("div",{className:M.Z.smccc_inner,children:[(0,T.jsxs)("h6",{children:[y("quantity")," ",": ",null===p||void 0===p||null===(t=p.goods)||void 0===t?void 0:t.length]}),(0,T.jsxs)("h6",{children:[y("date_and_time")," ",": ",Ae()(null===p||void 0===p?void 0:p.created_at).format("DD/MM/YYYY"),", ",(0,Ee.J)(null===p||void 0===p?void 0:p.created_at,"LT")]})]}),null===p||void 0===p||null===(n=p.goods)||void 0===n?void 0:n.map((function(e){var t,n,i;return(0,T.jsxs)("div",{className:M.Z.smccc_inner,children:[(0,T.jsxs)("p",{children:[y("name")," ",": ",null!==(t=null===e||void 0===e||null===(n=e.good)||void 0===n?void 0:n.goods_name)&&void 0!==t?t:""]}),(0,T.jsxs)("p",{children:[y("quantity")," ",": ",null!==(i=null===e||void 0===e?void 0:e.quantity)&&void 0!==i?i:""]})]},null===e||void 0===e?void 0:e._id)})),(0,T.jsx)("div",{className:M.Z.smccc_inner,style:{marginTop:"0.5rem"},children:null!==p&&void 0!==p&&p.request_by_custom?(0,T.jsxs)("h6",{children:[y("request_by")," ",": ",null!==(i=null===p||void 0===p||null===(s=p.request_by_custom)||void 0===s?void 0:s.good_head_name)&&void 0!==i?i:"",(0,T.jsxs)("span",{children:["-"," ","".concat(null!==(l=null===p||void 0===p||null===(o=p.request_by_custom)||void 0===o||null===(a=o.good_head_person)||void 0===a?void 0:a.staffFirstName)&&void 0!==l?l:""," ").concat(null!==(r=null===p||void 0===p||null===(d=p.request_by_custom)||void 0===d||null===(c=d.good_head_person)||void 0===c?void 0:c.staffMiddleName)&&void 0!==r?r:""," ").concat(null!==(u=null===p||void 0===p||null===(v=p.request_by_custom)||void 0===v||null===(m=v.good_head_person)||void 0===m?void 0:m.staffLastName)&&void 0!==u?u:"")]})]}):null!==p&&void 0!==p&&p.request_by_individual?(0,T.jsxs)("h6",{children:[y("request_by")," ",": ","".concat(null!==(h=null===p||void 0===p||null===(f=p.request_by_individual)||void 0===f?void 0:f.staffFirstName)&&void 0!==h?h:""," ").concat(null!==(_=null===p||void 0===p||null===(g=p.request_by_individual)||void 0===g?void 0:g.staffMiddleName)&&void 0!==_?_:""," ").concat(null!==(j=null===p||void 0===p||null===(Z=p.request_by_individual)||void 0===Z?void 0:Z.staffLastName)&&void 0!==j?j:"")]}):null})]})})},Je=function(e){var t,n,i,s,o=e.gid,a=(0,x.$G)().t,c=(0,r.useState)(""),v=(0,l.Z)(c,2),m=v[0],h=v[1],f=(0,r.useState)(1),g=(0,l.Z)(f,2),N=g[0],S=g[1],C=(0,r.useState)(!0),k=(0,l.Z)(C,2),I=k[0],w=k[1],q=(0,j.YD)({skip:m}),$=(0,l.Z)(q,2),L=$[0],F=$[1],U=(0,D.yH)({data:{gid:o,page:N,limit:10,search:m},skip:!o}),M=U.storeGoodsSevenRequest,A=U.storeGoodsSevenRequestLoading;(0,r.useEffect)((function(){F&&I&&S((function(e){return e+1}))}),[F,I]),(0,r.useEffect)((function(){var e;if(null!==M&&void 0!==M&&null!==(e=M.list)&&void 0!==e&&e.length){var t,n=(0,Z.f)(null===M||void 0===M||null===(t=M.list)||void 0===t?void 0:t.length);w((function(){return n}))}}),[null===M||void 0===M||null===(t=M.list)||void 0===t?void 0:t.length]);var E=(0,r.useCallback)((0,p.J)((function(e){S((function(){return 1})),h(e)}),1500),[]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{className:y.Z.fm_search_full,style:{marginBottom:"0.5rem"},children:(0,T.jsx)("section",{className:y.Z.fm_search_full_container,style:{gap:"1rem"},children:(0,T.jsxs)("div",{className:y.Z.fm_search_full_container_inner,style:{flex:"1.5 1.5"},children:[(0,T.jsx)("img",{className:y.Z.fm_search_full_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,T.jsx)("input",{type:"text",placeholder:a("search"),onChange:function(e){e.target.value?E(e.target.value):(S((function(){return 1})),h(""))}})]})})}),null===M||void 0===M||null===(n=M.list)||void 0===n?void 0:n.map((function(e,t){var n;return(null===M||void 0===M||null===(n=M.list)||void 0===n?void 0:n.length)===t+1?(0,T.jsx)("div",{ref:L,children:(0,T.jsx)(Ye,{request:e})},null===e||void 0===e?void 0:e._id):(0,T.jsx)(Ye,{request:e},null===e||void 0===e?void 0:e._id)})),A?m?(0,T.jsx)(d.Z,{}):(0,T.jsx)(u.Z,{}):m?0===(null===M||void 0===M||null===(i=M.list)||void 0===i?void 0:i.length)&&(0,T.jsx)(b.Z,{title:"No request goods found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===M||void 0===M||null===(s=M.list)||void 0===s?void 0:s.length)&&(0,T.jsx)(b.Z,{title:"No request goods.",customStyleContainer:{marginTop:"1.5rem"}})]})},Oe=function(e){var t,n,i,s,l,o,a,r,d,c,u,v,m,h=e.issue,f=(0,x.$G)().t;return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)("div",{className:M.Z.smc_card,style:{flexDirection:"column",alignItems:"flex-start"},children:[(0,T.jsxs)("div",{className:M.Z.smccc_inner,children:[(0,T.jsxs)("h6",{children:[f("quantity")," ",": ",null===h||void 0===h||null===(t=h.goods)||void 0===t?void 0:t.length]}),(0,T.jsxs)("h6",{children:[f("date_and_time")," ",": ",Ae()(null===h||void 0===h?void 0:h.created_at).format("DD/MM/YYYY"),", ",(0,Ee.J)(null===h||void 0===h?void 0:h.created_at,"LT")]})]}),null===h||void 0===h||null===(n=h.goods)||void 0===n?void 0:n.map((function(e){var t,n,i;return(0,T.jsxs)("div",{className:M.Z.smccc_inner,children:[(0,T.jsxs)("p",{children:[f("name")," ",": ",null!==(t=null===e||void 0===e||null===(n=e.good)||void 0===n?void 0:n.goods_name)&&void 0!==t?t:""]}),(0,T.jsxs)("p",{children:[f("quantity")," ",": ",null!==(i=null===e||void 0===e?void 0:e.quantity)&&void 0!==i?i:""]})]},null===e||void 0===e?void 0:e._id)})),(0,T.jsx)("div",{className:M.Z.smccc_inner,style:{marginTop:"0.5rem"},children:null!==h&&void 0!==h&&h.issue_to_custom?(0,T.jsxs)("h6",{children:[f("issue_to")," ",": ",null!==(i=null===h||void 0===h||null===(s=h.issue_to_custom)||void 0===s?void 0:s.good_head_name)&&void 0!==i?i:"",(0,T.jsxs)("span",{children:["-"," ","".concat(null!==(l=null===h||void 0===h||null===(o=h.issue_to_custom)||void 0===o||null===(a=o.good_head_person)||void 0===a?void 0:a.staffFirstName)&&void 0!==l?l:""," ").concat(null!==(r=null===h||void 0===h||null===(d=h.issue_to_custom)||void 0===d||null===(c=d.good_head_person)||void 0===c?void 0:c.staffMiddleName)&&void 0!==r?r:""," ").concat(null!==(u=null===h||void 0===h||null===(v=h.issue_to_custom)||void 0===v||null===(m=v.good_head_person)||void 0===m?void 0:m.staffLastName)&&void 0!==u?u:"")]})]}):null})]})})},ze=function(e){var t,n,i,s,o=e.gid,a=(0,x.$G)().t,c=(0,r.useState)(""),v=(0,l.Z)(c,2),m=v[0],h=v[1],f=(0,r.useState)(1),g=(0,l.Z)(f,2),N=g[0],S=g[1],C=(0,r.useState)(!0),k=(0,l.Z)(C,2),I=k[0],w=k[1],q=(0,j.YD)({skip:m}),$=(0,l.Z)(q,2),L=$[0],F=$[1],U=(0,D.ni)({data:{gid:o,page:N,limit:10,search:m},skip:!o}),M=U.storeGoodsSevenIssue,A=U.storeGoodsSevenIssueLoading;(0,r.useEffect)((function(){F&&I&&S((function(e){return e+1}))}),[F,I]),(0,r.useEffect)((function(){var e;if(null!==M&&void 0!==M&&null!==(e=M.list)&&void 0!==e&&e.length){var t,n=(0,Z.f)(null===M||void 0===M||null===(t=M.list)||void 0===t?void 0:t.length);w((function(){return n}))}}),[null===M||void 0===M||null===(t=M.list)||void 0===t?void 0:t.length]);var E=(0,r.useCallback)((0,p.J)((function(e){S((function(){return 1})),h(e)}),1500),[]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{className:y.Z.fm_search_full,style:{marginBottom:"0.5rem"},children:(0,T.jsx)("section",{className:y.Z.fm_search_full_container,style:{gap:"1rem"},children:(0,T.jsxs)("div",{className:y.Z.fm_search_full_container_inner,style:{flex:"1.5 1.5"},children:[(0,T.jsx)("img",{className:y.Z.fm_search_full_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,T.jsx)("input",{type:"text",placeholder:a("search"),onChange:function(e){e.target.value?E(e.target.value):(S((function(){return 1})),h(""))}})]})})}),null===M||void 0===M||null===(n=M.list)||void 0===n?void 0:n.map((function(e,t){var n;return(null===M||void 0===M||null===(n=M.list)||void 0===n?void 0:n.length)===t+1?(0,T.jsx)("div",{ref:L,children:(0,T.jsx)(Oe,{issue:e})},null===e||void 0===e?void 0:e._id):(0,T.jsx)(Oe,{issue:e},null===e||void 0===e?void 0:e._id)})),A?m?(0,T.jsx)(d.Z,{}):(0,T.jsx)(u.Z,{}):m?0===(null===M||void 0===M||null===(i=M.list)||void 0===i?void 0:i.length)&&(0,T.jsx)(b.Z,{title:"No issue goods found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===M||void 0===M||null===(s=M.list)||void 0===s?void 0:s.length)&&(0,T.jsx)(b.Z,{title:"No issue goods.",customStyleContainer:{marginTop:"1.5rem"}})]})},He=function(e){var t,n,i,s=e.gid,o=(0,x.$G)().t,a=(0,r.useState)(""),c=(0,l.Z)(a,2),v=c[0],m=c[1],h=(0,r.useState)(1),f=(0,l.Z)(h,2),g=f[0],N=f[1],S=(0,r.useState)(!0),C=(0,l.Z)(S,2),k=C[0],I=C[1],w=(0,j.YD)({skip:v}),q=(0,l.Z)(w,2),$=(q[0],q[1]),L=(0,D.v$)({data:{gid:s,page:g,limit:10,search:v},skip:!s}),F=L.storeGoodsSevenStocktake,U=L.storeGoodsSevenStocktakeLoading;(0,r.useEffect)((function(){$&&k&&N((function(e){return e+1}))}),[$,k]),(0,r.useEffect)((function(){var e;if(null!==F&&void 0!==F&&null!==(e=F.list)&&void 0!==e&&e.length){var t,n=(0,Z.f)(null===F||void 0===F||null===(t=F.list)||void 0===t?void 0:t.length);I((function(){return n}))}}),[null===F||void 0===F||null===(t=F.list)||void 0===t?void 0:t.length]);var M=(0,r.useCallback)((0,p.J)((function(e){N((function(){return 1})),m(e)}),1500),[]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{className:y.Z.fm_search_full,style:{marginBottom:"0.5rem"},children:(0,T.jsx)("section",{className:y.Z.fm_search_full_container,style:{gap:"1rem"},children:(0,T.jsxs)("div",{className:y.Z.fm_search_full_container_inner,style:{flex:"1.5 1.5"},children:[(0,T.jsx)("img",{className:y.Z.fm_search_full_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,T.jsx)("input",{type:"text",placeholder:o("search"),onChange:function(e){e.target.value?M(e.target.value):(N((function(){return 1})),m(""))}})]})})}),U?v?(0,T.jsx)(d.Z,{}):(0,T.jsx)(u.Z,{}):v?0===(null===F||void 0===F||null===(n=F.list)||void 0===n?void 0:n.length)&&(0,T.jsx)(b.Z,{title:"No stocktake found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===F||void 0===F||null===(i=F.list)||void 0===i?void 0:i.length)&&(0,T.jsx)(b.Z,{title:"No stocktake.",customStyleContainer:{marginTop:"1.5rem"}})]})},Re=function(e){var t,n,i,s=e.gid,o=(0,x.$G)().t,a=(0,r.useState)(""),c=(0,l.Z)(a,2),v=c[0],m=c[1],h=(0,r.useState)(1),f=(0,l.Z)(h,2),g=f[0],N=f[1],S=(0,r.useState)(!0),C=(0,l.Z)(S,2),k=C[0],I=C[1],w=(0,j.YD)({skip:v}),q=(0,l.Z)(w,2),$=(q[0],q[1]),L=(0,D.Fj)({data:{gid:s,page:g,limit:10,search:v},skip:!s}),F=L.storeGoodsSevenConsumption,U=L.storeGoodsSevenConsumptionLoading;(0,r.useEffect)((function(){$&&k&&N((function(e){return e+1}))}),[$,k]),(0,r.useEffect)((function(){var e;if(null!==F&&void 0!==F&&null!==(e=F.list)&&void 0!==e&&e.length){var t,n=(0,Z.f)(null===F||void 0===F||null===(t=F.list)||void 0===t?void 0:t.length);I((function(){return n}))}}),[null===F||void 0===F||null===(t=F.list)||void 0===t?void 0:t.length]);var M=(0,r.useCallback)((0,p.J)((function(e){N((function(){return 1})),m(e)}),1500),[]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{className:y.Z.fm_search_full,style:{marginBottom:"0.5rem"},children:(0,T.jsx)("section",{className:y.Z.fm_search_full_container,style:{gap:"1rem"},children:(0,T.jsxs)("div",{className:y.Z.fm_search_full_container_inner,style:{flex:"1.5 1.5"},children:[(0,T.jsx)("img",{className:y.Z.fm_search_full_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,T.jsx)("input",{type:"text",placeholder:o("search"),onChange:function(e){e.target.value?M(e.target.value):(N((function(){return 1})),m(""))}})]})})}),U?v?(0,T.jsx)(d.Z,{}):(0,T.jsx)(u.Z,{}):v?0===(null===F||void 0===F||null===(n=F.list)||void 0===n?void 0:n.length)&&(0,T.jsx)(b.Z,{title:"No consumption goods found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===F||void 0===F||null===(i=F.list)||void 0===i?void 0:i.length)&&(0,T.jsx)(b.Z,{title:"No consumption goods.",customStyleContainer:{marginTop:"1.5rem"}})]})},Ke=function(e){var t,n,i,s=e.gid,o=(0,x.$G)().t,a=(0,r.useState)(""),c=(0,l.Z)(a,2),v=c[0],m=c[1],h=(0,r.useState)(1),f=(0,l.Z)(h,2),g=f[0],N=f[1],S=(0,r.useState)(!0),C=(0,l.Z)(S,2),k=C[0],I=C[1],w=(0,j.YD)({skip:v}),q=(0,l.Z)(w,2),$=(q[0],q[1]),L=(0,D.wB)({data:{gid:s,page:g,limit:10,search:v},skip:!s}),F=L.storeGoodsSevenReturn,U=L.storeGoodsSevenReturnLoading;(0,r.useEffect)((function(){$&&k&&N((function(e){return e+1}))}),[$,k]),(0,r.useEffect)((function(){var e;if(null!==F&&void 0!==F&&null!==(e=F.list)&&void 0!==e&&e.length){var t,n=(0,Z.f)(null===F||void 0===F||null===(t=F.list)||void 0===t?void 0:t.length);I((function(){return n}))}}),[null===F||void 0===F||null===(t=F.list)||void 0===t?void 0:t.length]);var M=(0,r.useCallback)((0,p.J)((function(e){N((function(){return 1})),m(e)}),1500),[]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{className:y.Z.fm_search_full,style:{marginBottom:"0.5rem"},children:(0,T.jsx)("section",{className:y.Z.fm_search_full_container,style:{gap:"1rem"},children:(0,T.jsxs)("div",{className:y.Z.fm_search_full_container_inner,style:{flex:"1.5 1.5"},children:[(0,T.jsx)("img",{className:y.Z.fm_search_full_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,T.jsx)("input",{type:"text",placeholder:o("search"),onChange:function(e){e.target.value?M(e.target.value):(N((function(){return 1})),m(""))}})]})})}),U?v?(0,T.jsx)(d.Z,{}):(0,T.jsx)(u.Z,{}):v?0===(null===F||void 0===F||null===(n=F.list)||void 0===n?void 0:n.length)&&(0,T.jsx)(b.Z,{title:"No return goods found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===F||void 0===F||null===(i=F.list)||void 0===i?void 0:i.length)&&(0,T.jsx)(b.Z,{title:"No return goods.",customStyleContainer:{marginTop:"1.5rem"}})]})},Ve=function(){(0,x.$G)().t;var e,t,n,i,a,r,d,c,u,v,m,h,f,g,j,Z,p,N=(0,s.TH)(),b=(0,s.s0)(),C=(0,s.UO)(),I=(0,o.lr)(),w=(0,l.Z)(I,1)[0];return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(V.Z,{children:[(0,T.jsx)(S.Z,{children:(0,T.jsx)("div",{className:y.Z.fm_header_container,children:(0,T.jsxs)("div",{className:y.Z.fm_header_start_container,children:[(0,T.jsx)("img",{alt:"search icon",src:"".concat(_.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:function(){b("/q/".concat(C.username,"/member/staff/store"),{state:(0,k.Z)((0,k.Z)({},N.state),{},{goods:null})})}}),(0,T.jsx)("h6",{children:null!==(e=null===(t=N.state)||void 0===t||null===(n=t.goods)||void 0===n?void 0:n.goods_name)&&void 0!==e?e:""})]})})}),(0,T.jsx)(ue,{inititalUrl:w.get("type"),parentState:N.state}),(0,T.jsx)(S.Z,{children:"request"===w.get("n")?(0,T.jsx)(Je,{gid:null===(i=N.state)||void 0===i||null===(a=i.goods)||void 0===a?void 0:a._id}):"issue"===w.get("n")?(0,T.jsx)(ze,{gid:null===(r=N.state)||void 0===r||null===(d=r.goods)||void 0===d?void 0:d._id}):"stocktake"===w.get("n")?(0,T.jsx)(He,{gid:null===(c=N.state)||void 0===c||null===(u=c.goods)||void 0===u?void 0:u._id}):"consumption"===w.get("n")?(0,T.jsx)(Re,{gid:null===(v=N.state)||void 0===v||null===(m=v.goods)||void 0===m?void 0:m._id}):"return"===w.get("n")?(0,T.jsx)(Ke,{gid:null===(h=N.state)||void 0===h||null===(f=h.goods)||void 0===f?void 0:f._id}):"maintenance"===w.get("n")?(0,T.jsx)(Pe,{gid:null===(g=N.state)||void 0===g||null===(j=g.goods)||void 0===j?void 0:j._id}):(0,T.jsx)(Ge,{gid:null===(Z=N.state)||void 0===Z||null===(p=Z.goods)||void 0===p?void 0:p._id})})]})})},We=function(e){var t=e.parentState,n=(0,s.UO)(),i=(0,o.lr)(),a=(0,l.Z)(i,1)[0];return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(de.Z,{children:Xe.map((function(e){var i;return(0,T.jsx)(ce.Z,{tab:e,isLink:!0,isActive:null===(i=e.groupIs)||void 0===i?void 0:i.includes(a.get("n")),parentState:t,url:"/q/".concat(n.username,"/member/staff/store?type=issue").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,T.jsx)(w.Z,{customStyleBorder:{marginBlock:"0"}})]})})},Xe=[{label:"request",id:"request",urlKey:"",groupIs:["",null]},{label:"issue_record",id:"records",urlKey:"&n=records",groupIs:["records"]}],Qe=n(20659),et=n(26071),tt=function(e){var t=e.setState,n=e.state,i=e.onClose,s=e.setStep,l=(0,x.$G)().t,o=function(e){t((function(t){return(0,k.Z)((0,k.Z)({},t),{},{issue_to:e})}))};return(0,T.jsx)(I.Z,{onClose:i,children:(0,T.jsxs)("div",{className:F.Z.modal_container,children:[(0,T.jsx)(S.Z,{children:(0,T.jsxs)("div",{className:F.Z.modal_container_outer_header,children:[(0,T.jsx)("div",{className:F.Z.modal_container_header,children:(0,T.jsx)("h6",{children:l("issues_record")})}),(0,T.jsx)("img",{src:"".concat(_.J7,"/close.svg"),alt:"close icon",onClick:i})]})}),(0,T.jsx)(w.Z,{customStyleBorder:{marginBottom:"0"}}),(0,T.jsxs)(S.Z,{customStyle:{paddingBottom:"1rem"},children:[(0,T.jsx)(Qe.Z,{label:"issuing_to",children:null===nt||void 0===nt?void 0:nt.map((function(e){return(0,T.jsx)(et.Z,{tile:e,onTile:o,activeTile:null===n||void 0===n?void 0:n.issue_to},null===e||void 0===e?void 0:e.key)}))}),(0,T.jsx)(N.Z,{label:"next",onAction:function(){"Unit"===(null===n||void 0===n?void 0:n.issue_to)?s(6):"Individual"===(null===n||void 0===n?void 0:n.issue_to)&&s(2)}})]})]})})},nt=[{key:"Unit",name:"unit"},{key:"Individual",name:"individual"}],it=n(83638),st=function(e){var t,n,i,s,l,o,a,r,d,c,u=e.unit,v=e.selectedId,m=e.onSelect,h=(0,x.$G)().t;return(0,T.jsx)("div",{className:null!==v&&void 0!==v&&v.includes(null===u||void 0===u?void 0:u._id)?"".concat(M.Z.smc_card," ").concat(M.Z.smc_card_active):M.Z.smc_card,onClick:function(){m("Custom",u)},children:(0,T.jsx)("div",{className:M.Z.smc_card_contatiner,style:{justifyContent:"space-between",width:"100%"},children:(0,T.jsxs)("div",{className:M.Z.smc_card_contatiner,children:[(0,T.jsx)("img",{src:null!==u&&void 0!==u&&null!==(t=u.good_head_person)&&void 0!==t&&t.staffProfilePhoto?"".concat(B.yI,"/").concat(null===u||void 0===u||null===(n=u.good_head_person)||void 0===n?void 0:n.staffProfilePhoto):"".concat(_.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar",style:{height:"2.3rem",width:"2.3rem",borderRadius:"50%"}}),(0,T.jsxs)("div",{className:M.Z.smc_card_contatiner_inner,children:[(0,T.jsxs)("h6",{children:[h("good_title_person")," ",": "," ",null!==(i=null===u||void 0===u?void 0:u.good_title_person)&&void 0!==i?i:"",", ",h("good_head_name")," ",": "," ",null!==(s=null===u||void 0===u?void 0:u.good_head_name)&&void 0!==s?s:""]}),(0,T.jsx)("p",{children:"".concat(null!==(l=null===u||void 0===u||null===(o=u.good_head_person)||void 0===o?void 0:o.staffFirstName)&&void 0!==l?l:""," ").concat(null!==(a=null===u||void 0===u||null===(r=u.good_head_person)||void 0===r?void 0:r.staffMiddleName)&&void 0!==a?a:""," ").concat(null!==(d=null===u||void 0===u||null===(c=u.good_head_person)||void 0===c?void 0:c.staffLastName)&&void 0!==d?d:"")})]})]})})})},lt=function(e){var t,n,i,s,l,o,a,r,d,c=e.unit,u=e.selectedId,v=e.onSelect,m=e.setStep,h=e.dataState;return(0,T.jsx)("div",{className:null!==u&&void 0!==u&&u.includes(null===c||void 0===c?void 0:c._id)?"".concat(M.Z.smc_card," ").concat(M.Z.smc_card_active):M.Z.smc_card,onClick:function(){v("Department",c)},children:(0,T.jsxs)("div",{className:M.Z.smc_card_contatiner,style:{justifyContent:"space-between",width:"100%"},children:[(0,T.jsxs)("div",{className:M.Z.smc_card_contatiner,children:[(0,T.jsx)("img",{src:null!==c&&void 0!==c&&null!==(t=c.dHead)&&void 0!==t&&t.staffProfilePhoto?"".concat(B.yI,"/").concat(null===c||void 0===c||null===(n=c.dHead)||void 0===n?void 0:n.staffProfilePhoto):"".concat(_.J7,"/department.svg"),loading:"lazy",alt:"avatar",style:{height:"2.3rem",width:"2.3rem",borderRadius:"50%"}}),(0,T.jsxs)("div",{className:M.Z.smc_card_contatiner_inner,children:[(0,T.jsx)("h6",{children:null!==(i=null===c||void 0===c?void 0:c.dName)&&void 0!==i?i:""}),(0,T.jsx)("p",{children:"".concat(null!==(s=null===c||void 0===c||null===(l=c.dHead)||void 0===l?void 0:l.staffFirstName)&&void 0!==s?s:""," ").concat(null!==(o=null===c||void 0===c||null===(a=c.dHead)||void 0===a?void 0:a.staffMiddleName)&&void 0!==o?o:""," ").concat(null!==(r=null===c||void 0===c||null===(d=c.dHead)||void 0===d?void 0:d.staffLastName)&&void 0!==r?r:"")})]})]}),(0,T.jsx)(N.Z,{label:"select_class",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:function(e){e.stopPropagation(),h((function(e){return(0,k.Z)((0,k.Z)({},e),{},{did:null===c||void 0===c?void 0:c._id})})),m(7)}})]})})},ot=function(e){var t,n,i,s,o=e.onClose,a=e.stid,c=e.onSelectUnit,v=e.selectedId,m=e.setStep,h=e.dataState,f=(0,x.$G)().t,g=(0,r.useState)(""),y=(0,l.Z)(g,2),N=y[0],C=y[1],k=(0,r.useState)(1),q=(0,l.Z)(k,2),$=q[0],L=q[1],F=(0,r.useState)(!0),U=(0,l.Z)(F,2),M=U[0],A=U[1],E=(0,j.YD)({skip:N}),B=(0,l.Z)(E,2),G=B[0],P=B[1],Y=(0,D.Cj)({data:{stid:a,page:$,limit:10,search:N},skip:!a}),J=Y.storeUnitCombineList,O=Y.storeUnitCombineListLoading;(0,r.useEffect)((function(){P&&M&&L((function(e){return e+1}))}),[P,M]),(0,r.useEffect)((function(){var e;if(null!==J&&void 0!==J&&null!==(e=J.list)&&void 0!==e&&e.length){var t,n=(0,Z.f)(null===J||void 0===J||null===(t=J.list)||void 0===t?void 0:t.length);A((function(){return n}))}}),[null===J||void 0===J||null===(t=J.list)||void 0===t?void 0:t.length]);var z=(0,r.useCallback)((0,p.J)((function(e){L((function(){return 1})),C(e)}),1500),[]),H=function(e,t){c(e,t)};return(0,T.jsx)(I.Z,{onClose:o,children:(0,T.jsxs)("div",{className:Ne.Z.modal_container,children:[(0,T.jsx)(S.Z,{children:(0,T.jsxs)("div",{className:Ne.Z.modal_container_outer_header,children:[(0,T.jsx)("div",{className:Ne.Z.modal_container_header,children:(0,T.jsx)("h6",{children:f("select_unit_or_department")})}),(0,T.jsx)("img",{src:"".concat(_.J7,"/close.svg"),alt:"close icon",onClick:o})]})}),(0,T.jsx)(w.Z,{customStyleBorder:{marginBottom:"0"}}),(0,T.jsxs)(S.Z,{customStyle:{paddingBottom:"1rem"},children:[(0,T.jsxs)("div",{className:Ne.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,T.jsx)("input",{type:"text",placeholder:f("search"),className:Ne.Z.assign_search_input,onChange:function(e){e.target.value?z(e.target.value):(L((function(){return 1})),C(""))},style:{width:"100%"}}),(0,T.jsx)("img",{src:"".concat(_.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===J||void 0===J||null===(n=J.list)||void 0===n?void 0:n.map((function(e,t){var n;return(null===J||void 0===J||null===(n=J.list)||void 0===n?void 0:n.length)===t+1?(0,T.jsx)("div",{ref:G,children:null!==e&&void 0!==e&&e.dName?(0,T.jsx)(lt,{unit:e,onSelect:H,selectedId:v,setStep:m,dataState:h}):(0,T.jsx)(st,{unit:e,onSelect:H,selectedId:v})},null===e||void 0===e?void 0:e._id):(0,T.jsx)(r.Fragment,{children:null!==e&&void 0!==e&&e.dName?(0,T.jsx)(lt,{unit:e,onSelect:H,selectedId:v,setStep:m,dataState:h}):(0,T.jsx)(st,{unit:e,onSelect:H,selectedId:v})},null===e||void 0===e?void 0:e._id)})),O?N?(0,T.jsx)(d.Z,{}):(0,T.jsx)(u.Z,{}):N?0===(null===J||void 0===J||null===(i=J.list)||void 0===i?void 0:i.length)&&(0,T.jsx)(b.Z,{title:"No units found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===J||void 0===J||null===(s=J.list)||void 0===s?void 0:s.length)&&(0,T.jsx)(b.Z,{title:"No units.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})},at=function(e){var t,n,i,s,l,o,a,r,d,c,u=e.cls,v=e.onSelect,m=e.selectedId;return(0,T.jsx)("div",{className:null!==m&&void 0!==m&&m.includes(null===u||void 0===u?void 0:u._id)?"".concat(M.Z.smc_card," ").concat(M.Z.smc_card_active):M.Z.smc_card,onClick:function(){v(u)},children:(0,T.jsx)("div",{className:M.Z.smc_card_contatiner,style:{justifyContent:"space-between",width:"100%"},children:(0,T.jsxs)("div",{className:M.Z.smc_card_contatiner,children:[(0,T.jsx)("img",{src:null!==u&&void 0!==u&&null!==(t=u.dHead)&&void 0!==t&&t.staffProfilePhoto?"".concat(B.yI,"/").concat(null===u||void 0===u||null===(n=u.dHead)||void 0===n?void 0:n.staffProfilePhoto):"".concat(_.J7,"/department.svg"),loading:"lazy",alt:"avatar",style:{height:"2.3rem",width:"2.3rem",borderRadius:"50%"}}),(0,T.jsxs)("div",{className:M.Z.smc_card_contatiner_inner,children:[(0,T.jsxs)("h6",{children:[null!==(i=null===u||void 0===u?void 0:u.className)&&void 0!==i?i:""," - ",null!==(s=null===u||void 0===u?void 0:u.classTitle)&&void 0!==s?s:""]}),(0,T.jsx)("p",{children:"".concat(null!==(l=null===u||void 0===u||null===(o=u.dHead)||void 0===o?void 0:o.staffFirstName)&&void 0!==l?l:""," ").concat(null!==(a=null===u||void 0===u||null===(r=u.dHead)||void 0===r?void 0:r.staffMiddleName)&&void 0!==a?a:""," ").concat(null!==(d=null===u||void 0===u||null===(c=u.dHead)||void 0===c?void 0:c.staffLastName)&&void 0!==d?d:"")})]})]})})})},rt=function(e){var t,n,i,s,o=e.onClose,a=e.did,c=e.onSelectUnit,v=e.selectedId,m=(0,x.$G)().t,h=(0,r.useState)(""),f=(0,l.Z)(h,2),g=f[0],y=f[1],N=(0,r.useState)(1),C=(0,l.Z)(N,2),k=C[0],q=C[1],$=(0,r.useState)(!0),L=(0,l.Z)($,2),F=L[0],U=L[1],M=(0,j.YD)({skip:g}),A=(0,l.Z)(M,2),E=A[0],B=A[1],G=(0,D.zr)({data:{did:a,page:k,limit:10,search:g},skip:!a}),P=G.storeDepartmentClassList,Y=G.storeDepartmentClassListLoading;(0,r.useEffect)((function(){B&&F&&q((function(e){return e+1}))}),[B,F]),(0,r.useEffect)((function(){var e;if(null!==P&&void 0!==P&&null!==(e=P.list)&&void 0!==e&&e.length){var t,n=(0,Z.f)(null===P||void 0===P||null===(t=P.list)||void 0===t?void 0:t.length);U((function(){return n}))}}),[null===P||void 0===P||null===(t=P.list)||void 0===t?void 0:t.length]);var J=(0,r.useCallback)((0,p.J)((function(e){q((function(){return 1})),y(e)}),1500),[]),O=function(e){c("Class",e)};return(0,T.jsx)(I.Z,{onClose:o,children:(0,T.jsxs)("div",{className:Ne.Z.modal_container,children:[(0,T.jsx)(S.Z,{children:(0,T.jsxs)("div",{className:Ne.Z.modal_container_outer_header,children:[(0,T.jsx)("div",{className:Ne.Z.modal_container_header,children:(0,T.jsx)("h6",{children:m("select_department_classes")})}),(0,T.jsx)("img",{src:"".concat(_.J7,"/close.svg"),alt:"close icon",onClick:o})]})}),(0,T.jsx)(w.Z,{customStyleBorder:{marginBottom:"0"}}),(0,T.jsxs)(S.Z,{customStyle:{paddingBottom:"1rem"},children:[(0,T.jsxs)("div",{className:Ne.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,T.jsx)("input",{type:"text",placeholder:m("search"),className:Ne.Z.assign_search_input,onChange:function(e){e.target.value?J(e.target.value):(q((function(){return 1})),y(""))},style:{width:"100%"}}),(0,T.jsx)("img",{src:"".concat(_.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===P||void 0===P||null===(n=P.list)||void 0===n?void 0:n.map((function(e,t){var n;return(null===P||void 0===P||null===(n=P.list)||void 0===n?void 0:n.length)===t+1?(0,T.jsx)("div",{ref:E,children:(0,T.jsx)(at,{cls:e,onSelect:O,selectedId:v})},null===e||void 0===e?void 0:e._id):(0,T.jsx)(at,{cls:e,onSelect:O,selectedId:v},null===e||void 0===e?void 0:e._id)})),Y?g?(0,T.jsx)(d.Z,{}):(0,T.jsx)(u.Z,{}):g?0===(null===P||void 0===P||null===(i=P.list)||void 0===i?void 0:i.length)&&(0,T.jsx)(b.Z,{title:"No classes found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===P||void 0===P||null===(s=P.list)||void 0===s?void 0:s.length)&&(0,T.jsx)(b.Z,{title:"No classes.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})},dt=function(e){var t=e.onParentClose,n=e.state,i=e.onClose,s=e.stid,o=(0,x.$G)().t,a=(0,r.useState)(!1),c=(0,l.Z)(a,2),u=c[0],v=c[1],m=(0,D._7)(),h=(0,l.Z)(m,1)[0];return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(I.Z,{onClose:i,children:(0,T.jsxs)("div",{className:F.Z.modal_container,children:[(0,T.jsx)(S.Z,{children:(0,T.jsxs)("div",{className:F.Z.modal_container_outer_header,children:[(0,T.jsx)("div",{className:F.Z.modal_container_header,children:(0,T.jsx)("h6",{children:o("confirm_to_issue_record")})}),(0,T.jsx)("img",{src:"".concat(_.J7,"/close.svg"),alt:"close icon",onClick:i})]})}),(0,T.jsx)(w.Z,{customStyleBorder:{marginBottom:"0"}}),(0,T.jsx)(S.Z,{customStyle:{paddingBottom:"1rem"},children:(0,T.jsx)(N.Z,{label:"issue_record",onAction:function(){var e;s&&null!==n&&void 0!==n&&null!==(e=n.arr)&&void 0!==e&&e.length&&null!==n&&void 0!==n&&n.flow&&null!==n&&void 0!==n&&n.assignee&&(v((function(e){return!e})),h({stid:s,bodyParameter:{arr:null===n||void 0===n?void 0:n.arr,flow:null===n||void 0===n?void 0:n.flow,assignee:null===n||void 0===n?void 0:n.assignee}}).then((function(){v((function(e){return!e})),t()})).catch({}))}})})]})}),u&&(0,T.jsx)(d.Z,{})]})},ct=n(92673),ut=function(e){var t=e.instituteId,n=e.stid,i=e.onClose,s=(0,r.useState)(1),o=(0,l.Z)(s,2),a=o[0],d=o[1],c=(0,r.useState)({arr:[],assignee:"",flow:"",staff:"",issue_to:"",goods:[],goodsId:[],did:""}),u=(0,l.Z)(c,2),v=u[0],m=u[1];return(0,T.jsx)(T.Fragment,{children:1===a?(0,T.jsx)(tt,{onClose:i,setStep:d,state:v,setState:m}):2===a?(0,T.jsx)(X.Z,{onSelectStaff:function(e){m((function(t){return(0,k.Z)((0,k.Z)({},t),{},{staff:e,assignee:null===e||void 0===e?void 0:e._id,flow:"Individual"})})),d(3)},onClose:function(){return d(1)},instituteId:t}):3===a?(0,T.jsx)(it.Z,{onClose:function(){"Individual"===v.flow?d(2):"Department"!==v.flow&&"Custom"!==v.flow||d(6),"Class"===v.flow&&d(7)},stid:n,onGoodsSelect:function(e){m((function(t){return(0,k.Z)((0,k.Z)({},t),{},{goods:null===e||void 0===e?void 0:e.goods,goodsId:null===e||void 0===e?void 0:e.goodsId})})),d(4)},dataState:v}):4===a?(0,T.jsx)(ct.Z,{onClose:function(){return d(3)},state:v,setStep:d,setState:m}):5===a?(0,T.jsx)(dt,{onClose:function(){return d(4)},state:v,onParentClose:i,stid:n}):6===a?(0,T.jsx)(ot,{onClose:function(){return d(1)},stid:n,onSelectUnit:function(e,t){m((function(n){return(0,k.Z)((0,k.Z)({},n),{},{staff:t,assignee:null===t||void 0===t?void 0:t._id,flow:e})})),d(3)},selectedId:v.assignee?[v.assignee]:[],setStep:d,dataState:m}):7===a?(0,T.jsx)(rt,{onClose:function(){return d(6)},did:v.did,onSelectUnit:function(e,t){m((function(n){return(0,k.Z)((0,k.Z)({},n),{},{staff:t,assignee:null===t||void 0===t?void 0:t._id,flow:e})})),d(3)},selectedId:v.assignee?[v.assignee]:[]}):null})},vt=function(e){var t,n,i,s,l,o,a,r,d,c,u,v,m,h=e.issue,f=(0,x.$G)().t;return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)("div",{className:M.Z.smc_card,style:{flexDirection:"column",alignItems:"flex-start"},children:[(0,T.jsxs)("div",{className:M.Z.smccc_inner,children:[(0,T.jsxs)("h6",{children:[f("quantity")," ",": ",null===h||void 0===h||null===(t=h.goods)||void 0===t?void 0:t.length]}),(0,T.jsxs)("h6",{children:[f("date_and_time")," ",": ",Ae()(null===h||void 0===h?void 0:h.created_at).format("DD/MM/YYYY"),", ",(0,Ee.J)(null===h||void 0===h?void 0:h.created_at,"LT")]})]}),null===h||void 0===h||null===(n=h.goods)||void 0===n?void 0:n.map((function(e){var t,n,i;return(0,T.jsxs)("div",{className:M.Z.smccc_inner,children:[(0,T.jsxs)("p",{children:[f("name")," ",": ",null!==(t=null===e||void 0===e||null===(n=e.good)||void 0===n?void 0:n.goods_name)&&void 0!==t?t:""]}),(0,T.jsxs)("p",{children:[f("quantity")," ",": ",null!==(i=null===e||void 0===e?void 0:e.quantity)&&void 0!==i?i:""]})]},null===e||void 0===e?void 0:e._id)})),(0,T.jsx)("div",{className:M.Z.smccc_inner,style:{marginTop:"0.5rem"},children:(0,T.jsxs)("h6",{children:[f("issue_to")," ",": ",null!==(i=null===h||void 0===h||null===(s=h.issue_to_custom)||void 0===s?void 0:s.good_head_name)&&void 0!==i?i:"",(0,T.jsxs)("span",{children:["-"," ","".concat(null!==(l=null===h||void 0===h||null===(o=h.issue_to_custom)||void 0===o||null===(a=o.good_head_person)||void 0===a?void 0:a.staffFirstName)&&void 0!==l?l:""," ").concat(null!==(r=null===h||void 0===h||null===(d=h.issue_to_custom)||void 0===d||null===(c=d.good_head_person)||void 0===c?void 0:c.staffMiddleName)&&void 0!==r?r:""," ").concat(null!==(u=null===h||void 0===h||null===(v=h.issue_to_custom)||void 0===v||null===(m=v.good_head_person)||void 0===m?void 0:m.staffLastName)&&void 0!==u?u:"")]})]})})]})})},mt=function(e){var t,n,i,o=e.stid,a=e.instituteId,c=(0,s.TH)(),v=(0,x.$G)().t,m=(0,r.useState)(""),h=(0,l.Z)(m,2),f=h[0],g=h[1],C=(0,r.useState)(1),k=(0,l.Z)(C,2),I=k[0],q=k[1],$=(0,r.useState)(!0),L=(0,l.Z)($,2),F=L[0],U=L[1],M=(0,j.YD)({skip:f}),A=(0,l.Z)(M,2),E=A[0],B=A[1],G=(0,r.useState)(!1),P=(0,l.Z)(G,2),Y=P[0],J=P[1],O=(0,D.kl)({data:{stid:o,page:I,limit:10,search:f},skip:!o}),z=O.storeStockIssueRecordList,H=O.storeStockIssueRecordListLoading;(0,r.useEffect)((function(){B&&F&&q((function(e){return e+1}))}),[B,F]),(0,r.useEffect)((function(){var e;if(null!==z&&void 0!==z&&null!==(e=z.list)&&void 0!==e&&e.length){var t,n=(0,Z.f)(null===z||void 0===z||null===(t=z.list)||void 0===t?void 0:t.length);U((function(){return n}))}}),[null===z||void 0===z?void 0:z.list]);var R=(0,r.useCallback)((0,p.J)((function(e){q((function(){return 1})),g(e)}),1500),[]),K=function(){J((function(e){return!e}))};return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(V.Z,{children:[(0,T.jsx)(S.Z,{children:(0,T.jsxs)("div",{className:y.Z.fm_header_container,children:[(0,T.jsx)("h6",{children:v("store_issue")}),(0,T.jsxs)("div",{className:y.Z.fm_search,children:[(0,T.jsx)("section",{className:y.Z.fm_search_container,children:(0,T.jsxs)("div",{className:y.Z.fm_search_container_inner,children:[(0,T.jsx)("img",{className:y.Z.fm_search_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,T.jsx)("input",{type:"text",placeholder:v("search"),onChange:function(e){e.target.value?R(e.target.value):(q((function(){return 1})),g(""))}})]})}),(0,T.jsx)(N.Z,{label:"issue_record",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:K})]})]})}),(0,T.jsx)(w.Z,{}),(0,T.jsx)(We,{parentState:c.state}),(0,T.jsxs)(S.Z,{children:[null===z||void 0===z||null===(t=z.list)||void 0===t?void 0:t.map((function(e,t){var n;return(null===z||void 0===z||null===(n=z.list)||void 0===n?void 0:n.length)===t+1?(0,T.jsx)("div",{ref:E,children:(0,T.jsx)(vt,{issue:e,stid:o})},null===e||void 0===e?void 0:e._id):(0,T.jsx)(vt,{issue:e,stid:o},null===e||void 0===e?void 0:e._id)})),H?f?(0,T.jsx)(d.Z,{}):(0,T.jsx)(u.Z,{}):f?0===(null===z||void 0===z||null===(n=z.list)||void 0===n?void 0:n.length)&&(0,T.jsx)(b.Z,{title:"No issue record found related this search."}):0===(null===z||void 0===z||null===(i=z.list)||void 0===i?void 0:i.length)&&(0,T.jsx)(b.Z,{title:"No issue record."})]})]}),Y&&(0,T.jsx)(ut,{instituteId:a,stid:o,onClose:K})]})},ht=function(e){var t,n,i,s,o,a,d,c,u,v,m,h,f,_,g,j,Z,p,y,S=e.request,b=(0,x.$G)().t,C=(0,r.useState)(""),k=(0,l.Z)(C,2),I=(k[0],k[1]);return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)("div",{className:M.Z.smc_card,style:{flexDirection:"column",alignItems:"flex-start"},children:[(0,T.jsxs)("div",{className:M.Z.smccc_inner,children:[(0,T.jsxs)("div",{className:M.Z.smccc_inner,style:{flexDirection:"column",alignItems:"flex-start",gap:"0.2rem",width:"auto"},children:[(0,T.jsxs)("h6",{children:[b("quantity")," ",": ",null===S||void 0===S||null===(t=S.goods)||void 0===t?void 0:t.length]}),(0,T.jsxs)("h6",{children:[b("date_and_time")," ",": ",Ae()(null===S||void 0===S?void 0:S.created_at).format("DD/MM/YYYY"),", ",(0,Ee.J)(null===S||void 0===S?void 0:S.created_at,"LT")]})]}),(0,T.jsxs)("div",{className:M.Z.smccc_inner,style:{justifyContent:"flex-end",width:"auto"},children:[(0,T.jsx)(N.Z,{label:b("approve"),customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:function(){return I(1)}}),(0,T.jsx)(N.Z,{label:b("reject"),customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:function(){return I(2)}})]})]}),null===S||void 0===S||null===(n=S.goods)||void 0===n?void 0:n.map((function(e){var t,n,i;return(0,T.jsxs)("div",{className:M.Z.smccc_inner,children:[(0,T.jsxs)("p",{children:[b("name")," ",": ",null!==(t=null===e||void 0===e||null===(n=e.good)||void 0===n?void 0:n.goods_name)&&void 0!==t?t:""]}),(0,T.jsxs)("p",{children:[b("quantity")," ",": ",null!==(i=null===e||void 0===e?void 0:e.quantity)&&void 0!==i?i:""]})]},null===e||void 0===e?void 0:e._id)})),(0,T.jsx)("div",{className:M.Z.smccc_inner,style:{marginTop:"0.5rem"},children:null!==S&&void 0!==S&&S.request_by_custom?(0,T.jsxs)("h6",{children:[b("request_by")," ",": ",null!==(i=null===S||void 0===S||null===(s=S.request_by_custom)||void 0===s?void 0:s.good_head_name)&&void 0!==i?i:"",(0,T.jsxs)("span",{children:["-"," ","".concat(null!==(o=null===S||void 0===S||null===(a=S.request_by_custom)||void 0===a||null===(d=a.good_head_person)||void 0===d?void 0:d.staffFirstName)&&void 0!==o?o:""," ").concat(null!==(c=null===S||void 0===S||null===(u=S.request_by_custom)||void 0===u||null===(v=u.good_head_person)||void 0===v?void 0:v.staffMiddleName)&&void 0!==c?c:""," ").concat(null!==(m=null===S||void 0===S||null===(h=S.request_by_custom)||void 0===h||null===(f=h.good_head_person)||void 0===f?void 0:f.staffLastName)&&void 0!==m?m:"")]})]}):null!==S&&void 0!==S&&S.request_by_individual?(0,T.jsxs)("h6",{children:[b("request_by")," ",": ","".concat(null!==(_=null===S||void 0===S||null===(g=S.request_by_individual)||void 0===g?void 0:g.staffFirstName)&&void 0!==_?_:""," ").concat(null!==(j=null===S||void 0===S||null===(Z=S.request_by_individual)||void 0===Z?void 0:Z.staffMiddleName)&&void 0!==j?j:""," ").concat(null!==(p=null===S||void 0===S||null===(y=S.request_by_individual)||void 0===y?void 0:y.staffLastName)&&void 0!==p?p:"")]}):null})]})})},ft=function(e){var t,n,i,o=e.stid,a=e.instituteId,c=(0,s.TH)(),v=(0,x.$G)().t,m=(0,r.useState)(""),h=(0,l.Z)(m,2),f=h[0],g=h[1],C=(0,r.useState)(1),k=(0,l.Z)(C,2),I=k[0],q=k[1],$=(0,r.useState)(!0),L=(0,l.Z)($,2),F=L[0],U=L[1],M=(0,j.YD)({skip:f}),A=(0,l.Z)(M,2),E=A[0],B=A[1],G=(0,r.useState)(!1),P=(0,l.Z)(G,2),Y=P[0],J=P[1],O=(0,D.Zg)({data:{stid:o,page:I,limit:10,search:f},skip:!o}),z=O.storeStockIssueRequestList,H=O.storeStockIssueRequestListLoading;(0,r.useEffect)((function(){B&&F&&q((function(e){return e+1}))}),[B,F]),(0,r.useEffect)((function(){var e;if(null!==z&&void 0!==z&&null!==(e=z.list)&&void 0!==e&&e.length){var t,n=(0,Z.f)(null===z||void 0===z||null===(t=z.list)||void 0===t?void 0:t.length);U((function(){return n}))}}),[null===z||void 0===z?void 0:z.list]);var R=(0,r.useCallback)((0,p.J)((function(e){q((function(){return 1})),g(e)}),1500),[]),K=function(){J((function(e){return!e}))};return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(V.Z,{children:[(0,T.jsx)(S.Z,{children:(0,T.jsxs)("div",{className:y.Z.fm_header_container,children:[(0,T.jsx)("h6",{children:v("store_issue")}),(0,T.jsxs)("div",{className:y.Z.fm_search,children:[(0,T.jsx)("section",{className:y.Z.fm_search_container,children:(0,T.jsxs)("div",{className:y.Z.fm_search_container_inner,children:[(0,T.jsx)("img",{className:y.Z.fm_search_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,T.jsx)("input",{type:"text",placeholder:v("search"),onChange:function(e){e.target.value?R(e.target.value):(q((function(){return 1})),g(""))}})]})}),(0,T.jsx)(N.Z,{label:"issue_record",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:K})]})]})}),(0,T.jsx)(w.Z,{}),(0,T.jsx)(We,{parentState:c.state}),(0,T.jsxs)(S.Z,{children:[null===z||void 0===z||null===(t=z.list)||void 0===t?void 0:t.map((function(e,t){var n;return(null===z||void 0===z||null===(n=z.list)||void 0===n?void 0:n.length)===t+1?(0,T.jsx)("div",{ref:E,children:(0,T.jsx)(ht,{request:e})},null===e||void 0===e?void 0:e._id):(0,T.jsx)(ht,{request:e},null===e||void 0===e?void 0:e._id)})),H?f?(0,T.jsx)(d.Z,{}):(0,T.jsx)(u.Z,{}):f?0===(null===z||void 0===z||null===(n=z.list)||void 0===n?void 0:n.length)&&(0,T.jsx)(b.Z,{title:"No request found related this search."}):0===(null===z||void 0===z||null===(i=z.list)||void 0===i?void 0:i.length)&&(0,T.jsx)(b.Z,{title:"No request."})]})]}),Y&&(0,T.jsx)(ut,{instituteId:a,stid:o,onClose:K})]})},_t=function(e){var t=e.stid,n=e.instituteId,i=(0,o.lr)(),s=(0,l.Z)(i,1)[0];return(0,T.jsx)(T.Fragment,{children:"records"===s.get("n")?(0,T.jsx)(mt,{stid:t,instituteId:n}):(0,T.jsx)(ft,{stid:t,instituteId:n})})},gt=function(e){var t=e.parentState,n=(0,s.UO)(),i=(0,o.lr)(),a=(0,l.Z)(i,1)[0];return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(de.Z,{children:xt.map((function(e){var i;return(0,T.jsx)(ce.Z,{tab:e,isLink:!0,isActive:null===(i=e.groupIs)||void 0===i?void 0:i.includes(a.get("n")),parentState:t,url:"/q/".concat(n.username,"/member/staff/store?type=return").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,T.jsx)(w.Z,{customStyleBorder:{marginBlock:"0"}})]})})},xt=[{label:"request",id:"request",urlKey:"",groupIs:["",null]},{label:"return_record",id:"records",urlKey:"&n=records",groupIs:["records"]}],jt=function(e){var t,n,i=e.goods,s=(0,x.$G)().t;return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)("div",{className:M.Z.smc_card,children:(0,T.jsxs)("div",{className:M.Z.smc_card_contatiner,children:[(0,T.jsx)("img",{src:null!==i&&void 0!==i&&i.good_icon?"".concat(B.yI,"/").concat(null===i||void 0===i?void 0:i.good_icon):"".concat(_.J7,"/category.svg"),alt:"categor good_icon"}),(0,T.jsxs)("div",{className:M.Z.smc_card_contatiner_inner,children:[(0,T.jsxs)("h6",{children:[s("name"),": ",null!==(t=null===i||void 0===i?void 0:i.goods_name)&&void 0!==t?t:""]}),(0,T.jsxs)("p",{children:[s("quantity")," ",": "," ",null!==(n=null===i||void 0===i?void 0:i.goods_volume)&&void 0!==n?n:""]})]})]})})})},Zt=function(e){var t,n,i,s,o=e.rid,a=e.onClose,c=(0,x.$G)().t,v=(0,r.useState)(""),m=(0,l.Z)(v,2),h=m[0],f=m[1],g=(0,r.useState)(1),y=(0,l.Z)(g,2),N=y[0],C=y[1],k=(0,r.useState)(!0),q=(0,l.Z)(k,2),$=q[0],L=q[1],F=(0,j.YD)({skip:h}),U=(0,l.Z)(F,2),M=U[0],A=U[1],E=(0,D.kh)({data:{rid:o,page:N,limit:10,search:h},skip:!o}),B=E.storeReturnGoodsList,G=E.storeReturnGoodsListLoading;(0,r.useEffect)((function(){A&&$&&C((function(e){return e+1}))}),[A,$]),(0,r.useEffect)((function(){var e;if(null!==B&&void 0!==B&&null!==(e=B.list)&&void 0!==e&&e.length){var t,n=(0,Z.f)(null===B||void 0===B||null===(t=B.list)||void 0===t?void 0:t.length);L((function(){return n}))}}),[null===B||void 0===B||null===(t=B.list)||void 0===t?void 0:t.length]);var P=(0,r.useCallback)((0,p.J)((function(e){C((function(){return 1})),f(e)}),1500),[]);return(0,T.jsx)(I.Z,{onClose:a,children:(0,T.jsxs)("div",{className:Ne.Z.modal_container,children:[(0,T.jsx)(S.Z,{children:(0,T.jsxs)("div",{className:Ne.Z.modal_container_outer_header,children:[(0,T.jsx)("div",{className:Ne.Z.modal_container_header,children:(0,T.jsx)("h6",{children:c("issue_goods_list")})}),(0,T.jsx)("img",{src:"".concat(_.J7,"/close.svg"),alt:"close icon",onClick:a})]})}),(0,T.jsx)(w.Z,{customStyleBorder:{marginBottom:"0"}}),(0,T.jsxs)(S.Z,{customStyle:{paddingBottom:"1rem"},children:[(0,T.jsxs)("div",{className:Ne.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,T.jsx)("input",{type:"text",placeholder:c("search"),className:Ne.Z.assign_search_input,onChange:function(e){e.target.value?P(e.target.value):(C((function(){return 1})),f(""))},style:{width:"100%"}}),(0,T.jsx)("img",{src:"".concat(_.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===B||void 0===B||null===(n=B.list)||void 0===n?void 0:n.map((function(e,t){var n;return(null===B||void 0===B||null===(n=B.list)||void 0===n?void 0:n.length)===t+1?(0,T.jsx)("div",{ref:M,children:(0,T.jsx)(jt,{goods:e})},null===e||void 0===e?void 0:e._id):(0,T.jsx)(jt,{goods:e},null===e||void 0===e?void 0:e._id)})),G?h?(0,T.jsx)(d.Z,{}):(0,T.jsx)(u.Z,{}):h?0===(null===B||void 0===B||null===(i=B.list)||void 0===i?void 0:i.length)&&(0,T.jsx)(b.Z,{title:"No goods found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===B||void 0===B||null===(s=B.list)||void 0===s?void 0:s.length)&&(0,T.jsx)(b.Z,{title:"No goods.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})},pt=function(e){var t,n,i,s,o=e.unit,a=e.retRecord,d=(0,x.$G)().t,c=(0,r.useState)(!1),u=(0,l.Z)(c,2),v=u[0],m=u[1],h=function(){m((function(e){return!e}))};return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{className:M.Z.smc_card,children:(0,T.jsxs)("div",{className:M.Z.smc_card_contatiner,style:{justifyContent:"space-between",width:"100%"},children:[(0,T.jsxs)("div",{className:M.Z.smc_card_contatiner,children:[(0,T.jsx)("img",{src:null!==o&&void 0!==o&&null!==(t=o.good_head_person)&&void 0!==t&&t.staffProfilePhoto?"".concat(B.yI,"/").concat(null===o||void 0===o||null===(n=o.good_head_person)||void 0===n?void 0:n.staffProfilePhoto):"".concat(_.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar",style:{height:"2.3rem",width:"2.3rem",borderRadius:"50%"}}),(0,T.jsxs)("div",{className:M.Z.smc_card_contatiner_inner,children:[(0,T.jsxs)("h6",{children:[d("good_title_person")," ",": "," ",null!==(i=null===o||void 0===o?void 0:o.good_title_person)&&void 0!==i?i:"",", ",d("good_head_name")," ",": "," ",null!==(s=null===o||void 0===o?void 0:o.good_head_name)&&void 0!==s?s:""]}),(0,T.jsxs)("p",{style:{fontSize:"12px"},children:[d("return_on")," ",": "," ",Ae()().format("DD/MM/YYYY")]})]})]}),(0,T.jsx)(N.Z,{label:"return_goods",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:h})]})}),v&&(0,T.jsx)(Zt,{rid:null===a||void 0===a?void 0:a._id,onClose:h})]})},yt=function(e){var t,n,i,o=e.stid,a=(e.instituteId,(0,s.TH)()),c=(0,x.$G)().t,v=(0,r.useState)(""),m=(0,l.Z)(v,2),h=m[0],f=m[1],g=(0,r.useState)(1),N=(0,l.Z)(g,2),C=N[0],k=N[1],I=(0,r.useState)(!0),q=(0,l.Z)(I,2),$=q[0],L=q[1],F=(0,j.YD)({skip:h}),U=(0,l.Z)(F,2),M=U[0],A=U[1],E=(0,D.pn)({data:{stid:o,page:C,limit:10,search:h},skip:!o}),B=E.storeReturnList,G=E.storeReturnListLoading;(0,r.useEffect)((function(){A&&$&&k((function(e){return e+1}))}),[A,$]),(0,r.useEffect)((function(){var e;if(null!==B&&void 0!==B&&null!==(e=B.list)&&void 0!==e&&e.length){var t,n=(0,Z.f)(null===B||void 0===B||null===(t=B.list)||void 0===t?void 0:t.length);L((function(){return n}))}}),[null===B||void 0===B?void 0:B.list]);var P=(0,r.useCallback)((0,p.J)((function(e){k((function(){return 1})),f(e)}),1500),[]);return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(V.Z,{children:[(0,T.jsx)(S.Z,{children:(0,T.jsxs)("div",{className:y.Z.fm_header_container,children:[(0,T.jsx)("h6",{children:c("store_return")}),(0,T.jsx)("div",{className:y.Z.fm_search,children:(0,T.jsx)("section",{className:y.Z.fm_search_container,children:(0,T.jsxs)("div",{className:y.Z.fm_search_container_inner,children:[(0,T.jsx)("img",{className:y.Z.fm_search_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,T.jsx)("input",{type:"text",placeholder:c("search"),onChange:function(e){e.target.value?P(e.target.value):(k((function(){return 1})),f(""))}})]})})})]})}),(0,T.jsx)(w.Z,{}),(0,T.jsx)(gt,{parentState:a.state}),(0,T.jsxs)(S.Z,{children:[null===B||void 0===B||null===(t=B.list)||void 0===t?void 0:t.map((function(e,t){var n;return(null===B||void 0===B||null===(n=B.list)||void 0===n?void 0:n.length)===t+1?(0,T.jsx)("div",{ref:M,children:(0,T.jsx)(pt,{retRecord:e,stid:o})},null===e||void 0===e?void 0:e._id):(0,T.jsx)(pt,{retRecord:e,stid:o},null===e||void 0===e?void 0:e._id)})),G?h?(0,T.jsx)(d.Z,{}):(0,T.jsx)(u.Z,{}):h?0===(null===B||void 0===B||null===(n=B.list)||void 0===n?void 0:n.length)&&(0,T.jsx)(b.Z,{title:"No return record found related this search."}):0===(null===B||void 0===B||null===(i=B.list)||void 0===i?void 0:i.length)&&(0,T.jsx)(b.Z,{title:"No return record."})]})]})})},Nt=function(e){e.stid,e.instituteId;var t=(0,s.TH)(),n=(0,x.$G)().t,i=(0,r.useState)(""),o=(0,l.Z)(i,2),a=o[0],d=o[1],c=(0,r.useState)(1),u=(0,l.Z)(c,2),v=(u[0],u[1]),m=(0,r.useState)(!0),h=(0,l.Z)(m,2),f=(h[0],h[1],(0,j.YD)({skip:a})),g=(0,l.Z)(f,2),Z=(g[0],g[1],(0,r.useCallback)((0,p.J)((function(e){v((function(){return 1})),d(e)}),1500),[]));return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(V.Z,{children:[(0,T.jsx)(S.Z,{children:(0,T.jsxs)("div",{className:y.Z.fm_header_container,children:[(0,T.jsx)("h6",{children:n("store_return")}),(0,T.jsx)("div",{className:y.Z.fm_search,children:(0,T.jsx)("section",{className:y.Z.fm_search_container,children:(0,T.jsxs)("div",{className:y.Z.fm_search_container_inner,children:[(0,T.jsx)("img",{className:y.Z.fm_search_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,T.jsx)("input",{type:"text",placeholder:n("search"),onChange:function(e){e.target.value?Z(e.target.value):(v((function(){return 1})),d(""))}})]})})})]})}),(0,T.jsx)(w.Z,{}),(0,T.jsx)(gt,{parentState:t.state}),(0,T.jsx)(S.Z,{})]})})},St=function(e){var t=e.stid,n=e.instituteId,i=(0,o.lr)(),s=(0,l.Z)(i,1)[0];return(0,T.jsx)(T.Fragment,{children:"records"===s.get("n")?(0,T.jsx)(yt,{stid:t,instituteId:n}):(0,T.jsx)(Nt,{stid:t,instituteId:n})})},bt=function(e){var t=e.stid,n=(e.instituteId,(0,x.$G)().t),i=(0,r.useState)(!1),s=(0,l.Z)(i,2),o=s[0],a=s[1],c=(0,D.FR)(),u=(0,l.Z)(c,1)[0];return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(V.Z,{children:[(0,T.jsx)(S.Z,{children:(0,T.jsxs)("div",{className:y.Z.fm_header_container,children:[(0,T.jsx)("h6",{children:n("store_qr")}),(0,T.jsx)(N.Z,{label:"generate_qr",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:function(){t&&(a((function(e){return!e})),u({stid:t}).then((function(){a((function(e){return!e}))})).catch({}))}})]})}),(0,T.jsx)(w.Z,{})]}),o&&(0,T.jsx)(d.Z,{})]})},Ct=function(){var e,t,n,i,v,m,h,f,_,g,x,j,Z,p,y,N,S,b,C,k,I=(0,s.TH)(),w=(0,o.lr)(),q=(0,l.Z)(w,1)[0],$=(0,D.ki)({data:{stid:null===(e=I.state)||void 0===e?void 0:e.stid,mid:""},skip:!(null!==(t=I.state)&&void 0!==t&&t.stid)}),L=$.storeDashboardMaster,F=$.storeDashboardMasterLoading;return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(a.Z,{children:(0,T.jsx)(r.Suspense,{fallback:(0,T.jsx)(d.Z,{}),children:!q.get("type")||null!==(n=["day-book","masters"])&&void 0!==n&&n.includes(q.get("type"))?(0,T.jsxs)(c.Z,{children:[(0,T.jsx)(R,{tabManage:null===L||void 0===L?void 0:L.tab_manage}),F&&(0,T.jsx)(u.Z,{})]}):"unit"===q.get("type")?(0,T.jsx)(oe,{instituteId:null===L||void 0===L||null===(i=L.institute)||void 0===i?void 0:i._id,fid:null===L||void 0===L||null===(v=L.institute)||void 0===v||null===(m=v.financeDepart)||void 0===m?void 0:m[0]}):"individual-staff"===q.get("type")?(0,T.jsx)(re,{instituteId:null===L||void 0===L||null===(h=L.institute)||void 0===h?void 0:h._id}):"stock"===q.get("type")?(0,T.jsx)(Fe,{instituteId:null===L||void 0===L||null===(f=L.institute)||void 0===f?void 0:f._id,stid:null===(_=I.state)||void 0===_?void 0:_.stid}):"store-department"===q.get("type")?(0,T.jsx)(Ze,{instituteId:null===L||void 0===L||null===(g=L.institute)||void 0===g?void 0:g._id}):"store-unit-custom"===q.get("type")?(0,T.jsx)(De,{instituteId:null===L||void 0===L||null===(x=L.institute)||void 0===x?void 0:x._id}):"store-individual"===q.get("type")?(0,T.jsx)(Te,{instituteId:null===L||void 0===L||null===(j=L.institute)||void 0===j?void 0:j._id}):"store-cls"===q.get("type")?(0,T.jsx)(Ue,{instituteId:null===L||void 0===L||null===(Z=L.institute)||void 0===Z?void 0:Z._id}):"store-stock"===q.get("type")?(0,T.jsx)(Ve,{instituteId:null===L||void 0===L||null===(p=L.institute)||void 0===p?void 0:p._id}):"issue"===q.get("type")?(0,T.jsx)(_t,{instituteId:null===L||void 0===L||null===(y=L.institute)||void 0===y?void 0:y._id,stid:null===(N=I.state)||void 0===N?void 0:N.stid}):"return"===q.get("type")?(0,T.jsx)(St,{instituteId:null===L||void 0===L||null===(S=L.institute)||void 0===S?void 0:S._id,stid:null===(b=I.state)||void 0===b?void 0:b.stid}):"qr"===q.get("type")?(0,T.jsx)(bt,{instituteId:null===L||void 0===L||null===(C=L.institute)||void 0===C?void 0:C._id,stid:null===(k=I.state)||void 0===k?void 0:k.stid}):null})})})},kt=function(){var e,t,n,l,o,a=(0,s.TH)();return(0,T.jsx)(i.Z,{index:null!==a&&void 0!==a&&null!==(e=a.state)&&void 0!==e&&e.role?"81":"80",sid:null!==(t=null===a||void 0===a||null===(n=a.state)||void 0===n?void 0:n.sid)&&void 0!==t?t:"",onClickValue:null!==(l=null===a||void 0===a||null===(o=a.state)||void 0===o?void 0:o.onClickValue)&&void 0!==l?l:"",children:(0,T.jsx)(Ct,{})})}},90702:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var i=n(29439),s=n(49806),l=n(48293),o=n(21348),a=n(90904),r=n(98684),d=n(39230),c=n(72791),u=n(23441),v=n(91427),m=n(57588),h=n(6758),f=n(1095),_=n(80184),g=function(e){var t,n,i,l,o,c,u=e.staff,v=e.selectedId,m=e.onSelect,h=e.selectList,g=e.isMultiSelect,x=e.onMultiSelect,j=(0,d.$G)().t;return(0,_.jsxs)(_.Fragment,{children:[g?(0,_.jsxs)("div",{className:s.Z.assign_show_list_each,onClick:function(){x(u)},children:[null!==h&&void 0!==h&&h.includes(null===u||void 0===u?void 0:u._id)?(0,_.jsx)("img",{src:"".concat(r.U_,"/check.svg"),alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,_.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"".concat(r.U_,"/uncheck.svg"),alt:"icon"}),(0,_.jsx)("img",{src:null!==u&&void 0!==u&&u.staffProfilePhoto?"".concat(f.yI,"/").concat(u.staffProfilePhoto):"".concat(r.p3,"/feed-staff-avatar.svg"),alt:"profile avatar"}),(0,_.jsxs)("div",{className:s.Z.assign_each_paragraph,children:[(0,_.jsx)("h6",{children:"".concat(null!==(t=null===u||void 0===u?void 0:u.staffFirstName)&&void 0!==t?t:""," ").concat(null!==(n=null===u||void 0===u?void 0:u.staffMiddleName)&&void 0!==n?n:""," ").concat(null!==(i=null===u||void 0===u?void 0:u.staffLastName)&&void 0!==i?i:"")}),(0,_.jsxs)("p",{children:[j("index_number")," "," : ",null===u||void 0===u?void 0:u.staffROLLNO]})]})]}):(0,_.jsxs)("div",{className:s.Z.assign_show_list_each,style:v===(null===u||void 0===u?void 0:u._id)?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:null,onClick:function(){m(u)},children:[(0,_.jsx)("img",{src:null!==u&&void 0!==u&&u.staffProfilePhoto?"".concat(f.yI,"/").concat(u.staffProfilePhoto):"".concat(r.p3,"/feed-staff-avatar.svg"),alt:"profile avatar"}),(0,_.jsxs)("div",{className:s.Z.assign_each_paragraph,children:[(0,_.jsx)("h6",{children:"".concat(null!==(l=null===u||void 0===u?void 0:u.staffFirstName)&&void 0!==l?l:""," ").concat(null!==(o=null===u||void 0===u?void 0:u.staffMiddleName)&&void 0!==o?o:""," ").concat(null!==(c=null===u||void 0===u?void 0:u.staffLastName)&&void 0!==c?c:"")}),(0,_.jsxs)("p",{children:[j("index_number")," "," : ",null===u||void 0===u?void 0:u.staffROLLNO]})]})]}),(0,_.jsx)(a.Z,{customStyleBorder:{margin:"0"}})]})},x=n(55336),j=n(1669),Z=n(2651),p=n(93638),y=function(e){var t,n,f,y,N=e.title,S=e.onClose,b=e.selectedId,C=e.onSelectStaff,k=e.instituteId,I=e.isMultiSelect,w=e.onMultiSelect,q=e.selectList,$=e.onDone,L=(0,d.$G)().t,F=(0,c.useState)(""),D=(0,i.Z)(F,2),T=D[0],U=D[1],M=(0,c.useState)(1),A=(0,i.Z)(M,2),E=A[0],B=A[1],G=(0,c.useState)(!0),P=(0,i.Z)(G,2),Y=P[0],J=P[1],O=(0,u.YD)({skip:T}),z=(0,i.Z)(O,2),H=z[0],R=z[1],K=(0,h.nb)({data:{id:k,page:E,limit:10,search:T},skip:!k}),V=K.instituteAllStaff,W=K.instituteAllStaffLoading;(0,c.useEffect)((function(){R&&Y&&B((function(e){return e+1}))}),[R,Y]),(0,c.useEffect)((function(){var e;if(null!==V&&void 0!==V&&null!==(e=V.list)&&void 0!==e&&e.length){var t,n=(0,v.f)(null===V||void 0===V||null===(t=V.list)||void 0===t?void 0:t.length);J((function(){return n}))}}),[null===V||void 0===V||null===(t=V.list)||void 0===t?void 0:t.length]);var X=(0,c.useCallback)((0,m.J)((function(e){B((function(){return 1})),U(e)}),1500),[]),Q=function(e){b===(null===e||void 0===e?void 0:e._id)||C(e)};return(0,_.jsx)(l.Z,{onClose:S,children:(0,_.jsxs)("div",{className:s.Z.modal_container,children:[(0,_.jsx)(o.Z,{children:(0,_.jsxs)("div",{className:s.Z.modal_container_outer_header,children:[(0,_.jsx)("div",{className:s.Z.modal_container_header,children:(0,_.jsx)("h6",{children:L(null!==N&&void 0!==N?N:"staff_list")})}),(0,_.jsxs)("div",{className:s.Z.modal_container_btn_container,children:[I&&(0,_.jsx)(p.Z,{label:L("select"),count:null===q||void 0===q?void 0:q.length,onAction:$,customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,_.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:S})]})]})}),(0,_.jsx)(a.Z,{}),(0,_.jsxs)(o.Z,{customStyle:{paddingBottom:"1rem"},children:[(0,_.jsxs)("div",{className:s.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,_.jsx)("input",{type:"text",placeholder:L("search"),className:s.Z.assign_search_input,onChange:function(e){e.target.value?X(e.target.value):(B((function(){return 1})),U(""))},style:{width:"100%"}}),(0,_.jsx)("img",{src:"".concat(r.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===V||void 0===V||null===(n=V.list)||void 0===n?void 0:n.map((function(e,t){var n;return(null===V||void 0===V||null===(n=V.list)||void 0===n?void 0:n.length)===t+1?(0,_.jsx)("div",{ref:H,children:(0,_.jsx)(g,{staff:e,selectedId:b,onSelect:Q,selectList:q,isMultiSelect:I,onMultiSelect:w})},null===e||void 0===e?void 0:e._id):(0,_.jsx)(g,{staff:e,selectedId:b,onSelect:Q,selectList:q,isMultiSelect:I,onMultiSelect:w},null===e||void 0===e?void 0:e._id)})),W?T?(0,_.jsx)(x.Z,{}):(0,_.jsx)(j.Z,{}):T?0===(null===V||void 0===V||null===(f=V.list)||void 0===f?void 0:f.length)&&(0,_.jsx)(Z.Z,{title:"No staff found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===V||void 0===V||null===(y=V.list)||void 0===y?void 0:y.length)&&(0,_.jsx)(Z.Z,{title:"No staff.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})}},2651:function(e,t,n){"use strict";var i=n(15783),s=n(80184);t.Z=function(e){var t=e.title,n=e.subtitle,l=e.customStyleContainer,o=e.costomTextTitleStyle,a=e.costomTextSubtitleStyle;return(0,s.jsxs)("div",{className:i.Z.empty_container,style:l,children:[t&&(0,s.jsx)("h6",{style:o,children:t}),n&&(0,s.jsx)("p",{style:a,children:n})]})}},97892:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,i="millisecond",s="second",l="minute",o="hour",a="day",r="week",d="month",c="quarter",u="year",v="date",m="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},g=function(e,t,n){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(n)+e},x={s:g,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),i=Math.floor(n/60),s=n%60;return(t<=0?"+":"-")+g(i,2,"0")+":"+g(s,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var i=12*(n.year()-t.year())+(n.month()-t.month()),s=t.clone().add(i,d),l=n-s<0,o=t.clone().add(i+(l?-1:1),d);return+(-(i+(n-s)/(l?s-o:o-s))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:d,y:u,w:r,d:a,D:v,h:o,m:l,s:s,ms:i,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},j="en",Z={};Z[j]=_;var p="$isDayjsObject",y=function(e){return e instanceof C||!(!e||!e[p])},N=function e(t,n,i){var s;if(!t)return j;if("string"==typeof t){var l=t.toLowerCase();Z[l]&&(s=l),n&&(Z[l]=n,s=l);var o=t.split("-");if(!s&&o.length>1)return e(o[0])}else{var a=t.name;Z[a]=t,s=a}return!i&&s&&(j=s),s||!i&&j},S=function(e,t){if(y(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new C(n)},b=x;b.l=N,b.i=y,b.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var C=function(){function _(e){this.$L=N(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[p]=!0}var g=_.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(b.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var i=t.match(h);if(i){var s=i[2]-1||0,l=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],s,i[3]||1,i[4]||0,i[5]||0,i[6]||0,l)):new Date(i[1],s,i[3]||1,i[4]||0,i[5]||0,i[6]||0,l)}}return new Date(t)}(e),this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return b},g.isValid=function(){return!(this.$d.toString()===m)},g.isSame=function(e,t){var n=S(e);return this.startOf(t)<=n&&n<=this.endOf(t)},g.isAfter=function(e,t){return S(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<S(e)},g.$g=function(e,t,n){return b.u(e)?this[t]:this.set(n,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var n=this,i=!!b.u(t)||t,c=b.p(e),m=function(e,t){var s=b.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return i?s:s.endOf(a)},h=function(e,t){return b.w(n.toDate()[e].apply(n.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},f=this.$W,_=this.$M,g=this.$D,x="set"+(this.$u?"UTC":"");switch(c){case u:return i?m(1,0):m(31,11);case d:return i?m(1,_):m(0,_+1);case r:var j=this.$locale().weekStart||0,Z=(f<j?f+7:f)-j;return m(i?g-Z:g+(6-Z),_);case a:case v:return h(x+"Hours",0);case o:return h(x+"Minutes",1);case l:return h(x+"Seconds",2);case s:return h(x+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var n,r=b.p(e),c="set"+(this.$u?"UTC":""),m=(n={},n[a]=c+"Date",n[v]=c+"Date",n[d]=c+"Month",n[u]=c+"FullYear",n[o]=c+"Hours",n[l]=c+"Minutes",n[s]=c+"Seconds",n[i]=c+"Milliseconds",n)[r],h=r===a?this.$D+(t-this.$W):t;if(r===d||r===u){var f=this.clone().set(v,1);f.$d[m](h),f.init(),this.$d=f.set(v,Math.min(this.$D,f.daysInMonth())).$d}else m&&this.$d[m](h);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[b.p(e)]()},g.add=function(i,c){var v,m=this;i=Number(i);var h=b.p(c),f=function(e){var t=S(m);return b.w(t.date(t.date()+Math.round(e*i)),m)};if(h===d)return this.set(d,this.$M+i);if(h===u)return this.set(u,this.$y+i);if(h===a)return f(1);if(h===r)return f(7);var _=(v={},v[l]=t,v[o]=n,v[s]=e,v)[h]||1,g=this.$d.getTime()+i*_;return b.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||m;var i=e||"YYYY-MM-DDTHH:mm:ssZ",s=b.z(this),l=this.$H,o=this.$m,a=this.$M,r=n.weekdays,d=n.months,c=n.meridiem,u=function(e,n,s,l){return e&&(e[n]||e(t,i))||s[n].slice(0,l)},v=function(e){return b.s(l%12||12,e,"0")},h=c||function(e,t,n){var i=e<12?"AM":"PM";return n?i.toLowerCase():i};return i.replace(f,(function(e,i){return i||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return b.s(t.$y,4,"0");case"M":return a+1;case"MM":return b.s(a+1,2,"0");case"MMM":return u(n.monthsShort,a,d,3);case"MMMM":return u(d,a);case"D":return t.$D;case"DD":return b.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return u(n.weekdaysMin,t.$W,r,2);case"ddd":return u(n.weekdaysShort,t.$W,r,3);case"dddd":return r[t.$W];case"H":return String(l);case"HH":return b.s(l,2,"0");case"h":return v(1);case"hh":return v(2);case"a":return h(l,o,!0);case"A":return h(l,o,!1);case"m":return String(o);case"mm":return b.s(o,2,"0");case"s":return String(t.$s);case"ss":return b.s(t.$s,2,"0");case"SSS":return b.s(t.$ms,3,"0");case"Z":return s}return null}(e)||s.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(i,v,m){var h,f=this,_=b.p(v),g=S(i),x=(g.utcOffset()-this.utcOffset())*t,j=this-g,Z=function(){return b.m(f,g)};switch(_){case u:h=Z()/12;break;case d:h=Z();break;case c:h=Z()/3;break;case r:h=(j-x)/6048e5;break;case a:h=(j-x)/864e5;break;case o:h=j/n;break;case l:h=j/t;break;case s:h=j/e;break;default:h=j}return m?h:b.a(h)},g.daysInMonth=function(){return this.endOf(d).$D},g.$locale=function(){return Z[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),i=N(e,t,!0);return i&&(n.$L=i),n},g.clone=function(){return b.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},_}(),k=C.prototype;return S.prototype=k,[["$ms",i],["$s",s],["$m",l],["$H",o],["$W",a],["$M",d],["$y",u],["$D",v]].forEach((function(e){k[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),S.extend=function(e,t){return e.$i||(e(t,C,S),e.$i=!0),S},S.locale=N,S.isDayjs=y,S.unix=function(e){return S(1e3*e)},S.en=Z[j],S.Ls=Z,S.p={},S}()},63244:function(e,t){"use strict";t.Z={qviple_loader_backdrop:"Loader_qviple_loader_backdrop__ScdYl",qviple_loader_container:"Loader_qviple_loader_container__SXQ9Y",qviple_loader_rotation:"Loader_qviple_loader_rotation__ltsgT",qviple_loader_rotation_animation:"Loader_qviple_loader_rotation_animation__gy3+j",q_loading:"Loader_q_loading__bwe2c",circle_loading:"Loader_circle_loading__m+ptB",rotate_animation:"Loader_rotate_animation__IV2sY"}},52245:function(e,t){"use strict";t.Z={form_input_container:"UiInput_form_input_container__HtVPV",form_read_input_container:"UiInput_form_read_input_container__iILPu",form_file_container:"UiInput_form_file_container__33Bsr",form_input_label:"UiInput_form_input_label__XH6ki",form_input_label_error:"UiInput_form_input_label_error__EUef-",form_input:"UiInput_form_input__zl3Bt",form_textarea_input:"UiInput_form_textarea_input__fps0U",form_read_input_label:"UiInput_form_read_input_label__JDOsH",form_read_input:"UiInput_form_read_input__E8qX5",form_read_input_file:"UiInput_form_read_input_file__NqG3A",form_file_choose:"UiInput_form_file_choose__jxsyJ",form_file_choosen:"UiInput_form_file_choosen__8OI09",form_file_choose_active:"UiInput_form_file_choose_active__7e8B5",form_input_search:"UiInput_form_input_search__RLSi+",form_input_search_image:"UiInput_form_input_search_image__iV4xv",join_form_select_paragraph:"UiInput_join_form_select_paragraph__CSWSG",join_form_select_custom:"UiInput_join_form_select_custom__qemxS",join_form_select_custom_paragraph:"UiInput_join_form_select_custom_paragraph__3g7zT",join_form_select_custom_icon:"UiInput_join_form_select_custom_icon__Of6Sb",join_form_select_custom_rotate_icon:"UiInput_join_form_select_custom_rotate_icon__zANaN",join_form_select_custom_list:"UiInput_join_form_select_custom_list__MWLZM",join_form_select_custom_paragraph_option:"UiInput_join_form_select_custom_paragraph_option__Mh24f",form_calendar_icon:"UiInput_form_calendar_icon__KyFQA",payment_mode_heading:"UiInput_payment_mode_heading__v1Ek0",jfscl_option_list:"UiInput_jfscl_option_list__+Bigu",jfsclol_search_container:"UiInput_jfsclol_search_container__C19t-",jfsclolsc_input:"UiInput_jfsclolsc_input__ZNDZW"}}}]);
//# sourceMappingURL=38061.5a9de604.chunk.js.map