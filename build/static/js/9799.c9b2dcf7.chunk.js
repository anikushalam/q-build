"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[9799],{45631:function(e,l,i){i.r(l),i.d(l,{default:function(){return L}});var s=i(29439),t=i(72791),n=i(56959),a=i(23441),d=i(91427),c=i(57588),o=i(63687),r=i(21348),v=i(90904),u=i(55336),f=i(1669),h=i(2651),m=i(36132),x=i(39230),j=i(98684),_=i(97892),Z=i.n(_),p=i(82824),g=i(1095),N=i(55050),k=i(45445),y=i(80184),b=function(e){var l,i,n,a,d,c,o,r,v=e.leave,u=(0,x.$G)().t,f=(0,t.useState)(!1),h=(0,s.Z)(f,2),m=h[0],_=h[1],b=function(){_((function(e){return!e}))};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:N.Z.lmsr_card,children:[(0,y.jsx)("div",{className:N.Z.lmsrc_card,children:(0,y.jsxs)("div",{className:N.Z.lmsrc_card_inner,children:[(0,y.jsx)("img",{src:null!==v&&void 0!==v&&null!==(l=v.staff)&&void 0!==l&&l.staffProfilePhoto?"".concat(g.yI,"/").concat(null===v||void 0===v||null===(i=v.staff)||void 0===i?void 0:i.staffProfilePhoto):"".concat(j.p3,"/feed-user-avatar.svg"),alt:"staff icon"}),(0,y.jsxs)("div",{className:N.Z.lmsrci_text,children:[(0,y.jsx)("h6",{children:"".concat(null!==(n=null===v||void 0===v||null===(a=v.staff)||void 0===a?void 0:a.staffFirstName)&&void 0!==n?n:""," ").concat(null!==v&&void 0!==v&&null!==(d=v.staff)&&void 0!==d&&d.staffMiddleName?null===v||void 0===v||null===(c=v.staff)||void 0===c?void 0:c.staffMiddleName:""," ").concat(null!==(o=null===v||void 0===v||null===(r=v.staff)||void 0===r?void 0:r.staffLastName)&&void 0!==o?o:"")}),(0,y.jsxs)("p",{children:[u("raised_on"),(0,p.J)(null===v||void 0===v?void 0:v.createdAt,"LT"),", ",Z()(null===v||void 0===v?void 0:v.createdAt).format("DD MMM YYYY"),", ",(0,y.jsx)("span",{className:N.Z.lmsrc_date,onClick:b,children:u("for_dates")})]})]})]})}),(0,y.jsx)("div",{className:N.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,y.jsxs)("h6",{style:{fontWeight:"400"},children:[u("leave_type")," "," : ",null===v||void 0===v?void 0:v.leave_type]})}),(0,y.jsx)("div",{className:N.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,y.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[u("reason")," "," : ",null===v||void 0===v?void 0:v.reason]})}),(null===v||void 0===v?void 0:v.attach)&&(0,y.jsx)("div",{className:N.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,y.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[u("attachment")," "," : ",(0,y.jsx)("a",{href:"".concat(g.q2,"/").concat(null===v||void 0===v?void 0:v.attach),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,y.jsx)("span",{className:N.Z.lmsrc_date,children:u("view_attachment")})})]})})]}),m&&(0,y.jsx)(k.Z,{onClose:b,allDate:null===v||void 0===v?void 0:v.date})]})},L=function(e){var l,i,_,Z=e.instituteId,p=(0,x.$G)().t,g=(0,t.useState)(""),N=(0,s.Z)(g,2),k=N[0],L=N[1],w=(0,t.useState)(1),C=(0,s.Z)(w,2),S=C[0],q=C[1],D=(0,t.useState)(!0),M=(0,s.Z)(D,2),Y=M[0],P=M[1],T=(0,a.YD)({skip:k}),A=(0,s.Z)(T,2),W=A[0],B=A[1],E=(0,m.B)({data:{id:Z,page:S,limit:10,search:k,flow:"Accepted"},skip:!Z}),F=E.lmsLeaveRequestList,G=E.lmsLeaveRequestListLoading;(0,t.useEffect)((function(){B&&Y&&q((function(e){return e+1}))}),[B,Y]),(0,t.useEffect)((function(){var e;if(null!==F&&void 0!==F&&null!==(e=F.list)&&void 0!==e&&e.length){var l,i=(0,d.f)(null===F||void 0===F||null===(l=F.list)||void 0===l?void 0:l.length);P((function(){return i}))}}),[null===F||void 0===F?void 0:F.list]);var I=(0,t.useCallback)((0,c.J)((function(e){q((function(){return 1})),L(e)}),1500),[]);return(0,y.jsxs)(o.Z,{children:[(0,y.jsx)(r.Z,{children:(0,y.jsxs)("div",{className:n.Z.fm_header_container,children:[(0,y.jsx)("h6",{children:p("leave_issued")}),(0,y.jsx)("div",{className:n.Z.fm_search,children:(0,y.jsx)("section",{className:n.Z.fm_search_container,children:(0,y.jsxs)("div",{className:n.Z.fm_search_container_inner,children:[(0,y.jsx)("img",{className:n.Z.fm_search_icon,alt:"search icon",src:"".concat(j.dB,"/navbar-search.svg")}),(0,y.jsx)("input",{type:"text",placeholder:p("search"),onChange:function(e){e.target.value?I(e.target.value):(q((function(){return 1})),L(""))}})]})})})]})}),(0,y.jsx)(v.Z,{}),(0,y.jsxs)(r.Z,{children:[null===F||void 0===F||null===(l=F.list)||void 0===l?void 0:l.map((function(e,l){var i;return(null===F||void 0===F||null===(i=F.list)||void 0===i?void 0:i.length)===l+1?(0,y.jsx)("div",{ref:W,children:(0,y.jsx)(b,{leave:e})},null===e||void 0===e?void 0:e._id):(0,y.jsx)(b,{leave:e},null===e||void 0===e?void 0:e._id)})),G?k?(0,y.jsx)(u.Z,{}):(0,y.jsx)(f.Z,{}):k?0===(null===F||void 0===F||null===(i=F.list)||void 0===i?void 0:i.length)&&(0,y.jsx)(h.Z,{title:"No staff leave issued found related this search."}):0===(null===F||void 0===F||null===(_=F.list)||void 0===_?void 0:_.length)&&(0,y.jsx)(h.Z,{title:"No staff leave issued."})]})]})}}}]);
//# sourceMappingURL=9799.c9b2dcf7.chunk.js.map