"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[4511],{49804:function(e,n,t){t.d(n,{Z:function(){return _}});var i=t(93433),l=t(29439),o=t(72791),a=t(39230),s=t(23441),d=t(87338),c=t(11105),r=t(69721),u=t(15214),v=t(80184),p=function(e){var n,t,i,l,o=e.warden;return(0,v.jsxs)("div",{className:u.Z.hostel_warden_card,children:[(0,v.jsx)("img",{src:null!==o&&void 0!==o&&o.staffProfilePhoto?"".concat(r.yI,"/").concat(null===o||void 0===o?void 0:o.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""}),(0,v.jsxs)("div",{className:u.Z.warden_card_text,children:[(0,v.jsx)("h6",{children:"".concat(null!==(n=null===o||void 0===o?void 0:o.staffFirstName)&&void 0!==n?n:""," ").concat(null!==(t=null===o||void 0===o?void 0:o.staffMiddleName)&&void 0!==t?t:""," ").concat(null!==(i=null===o||void 0===o?void 0:o.staffLastName)&&void 0!==i?i:"")}),(0,v.jsx)("p",{children:null===o||void 0===o||null===(l=o.hostelUnitDepartment)||void 0===l?void 0:l.map((function(e,n){var t;return(0,v.jsxs)("span",{children:[0===n?"":", ",null!==(t=null===e||void 0===e?void 0:e.hostel_unit_name)&&void 0!==t?t:""]},null===e||void 0===e?void 0:e._id)}))})]})]})},m=t(98094),h=t(763),_=function(e){var n=e.hid,t=(0,a.$G)().t,r=(0,s.YD)(),_=(0,l.Z)(r,2),f=_[0],g=_[1],x=(0,o.useState)(1),j=(0,l.Z)(x,2),Z=j[0],S=j[1],N=(0,o.useState)(!0),A=(0,l.Z)(N,2),y=A[0],b=A[1],C=(0,o.useState)(!0),E=(0,l.Z)(C,2),I=E[0],P=E[1],w=(0,o.useState)([]),T=(0,l.Z)(w,2),k=T[0],R=T[1],D=(0,o.useState)(""),L=(0,l.Z)(D,2),M=L[0],O=L[1],F=(0,d.kd)({data:{hid:n,page:Z,limit:10,search:M},skip:!n}),q=F.getHostelWardenList,B=F.getHostelWardenListRefetch;(0,o.useEffect)((function(){n&&(P(!0),B())}),[n,Z,M,B]),(0,o.useEffect)((function(){g&&y&&S((function(e){return e+1}))}),[g,y]),(0,o.useEffect)((function(){var e,n;M?(R(null===q||void 0===q?void 0:q.all_wardens),P(!1)):null!==q&&void 0!==q&&q.all_wardens?(R((function(e){var n,t;return null===(n=(0,i.Z)(new Set(null===(t=[].concat((0,i.Z)(e),(0,i.Z)(null===q||void 0===q?void 0:q.all_wardens)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),P(!1)):0===(null===q||void 0===q||null===(n=q.all_wardens)||void 0===n?void 0:n.length)&&P(!1);10===(null===q||void 0===q||null===(e=q.all_wardens)||void 0===e?void 0:e.length)?b(!0):b(!1)}),[null===q||void 0===q?void 0:q.all_wardens]);var H=(0,o.useCallback)((0,h.debounce)((function(e){return O(e)}),500),[]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:u.Z.with_search,children:[(0,v.jsx)("h6",{children:t("staff_room")}),(0,v.jsx)("section",{className:u.Z.search_container,children:(0,v.jsxs)("div",{className:u.Z.search_container_input,children:[(0,v.jsx)("img",{className:u.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,v.jsx)("input",{type:"text",placeholder:"Search warden...",onChange:function(e){H(e.target.value)}})]})})]}),(0,v.jsx)(m.Z,{customStyle:{marginTop:"0.5rem",width:"100%"}}),null===k||void 0===k?void 0:k.map((function(e,n){return(null===k||void 0===k?void 0:k.length)===n+1?(0,v.jsx)("div",{ref:f,children:(0,v.jsx)(p,{warden:e})},null===e||void 0===e?void 0:e._id):(0,v.jsx)(p,{warden:e},null===e||void 0===e?void 0:e._id)})),I&&(0,v.jsx)(c.Z,{})]})}},44241:function(e,n,t){t.d(n,{Z:function(){return w}});var i=t(93433),l=t(29439),o=t(72791),a=t(39230),s=t(16871),d=t(23441),c=t(11105),r=t(72426),u=t.n(r),v=t(98734),p=t(12072),m=t(84489),h=t(87049),_=t(97655),f=t(98094),g=t(80184),x=function(e){var n,t=e.onEdit,i=e.xlsxId,s=(0,a.$G)().t,d=(0,o.useState)(null!==(n=null===i||void 0===i?void 0:i.excel_file_name)&&void 0!==n?n:""),c=(0,l.Z)(d,2),r=c[0],u=c[1],v=(0,o.useState)(""),p=(0,l.Z)(v,2),m=p[0],x=p[1];(0,o.useEffect)((function(){var e;u(null!==(e=null===i||void 0===i?void 0:i.excel_file_name)&&void 0!==e?e:"")}),[null===i||void 0===i?void 0:i.excel_file_name]);return(0,g.jsxs)("div",{style:{width:"30rem",minHeight:"10rem",padding:"1rem"},children:[(0,g.jsx)("h6",{children:s("update_excel_name")}),(0,g.jsx)(f.Z,{customStyle:{width:"100%"}}),(0,g.jsx)(_.Z,{labelText:s("excel_name"),placeholder:s("excel_name_plcaeholder"),value:r,name:"excelName",type:"text",onChange:function(e){return u(e.target.value)},errorShow:m.excelName}),(0,g.jsx)("button",{className:h.Z.xlsx_update_btn,title:"Add fees head",onClick:function(){r?t(r):x({excelName:"excelName is required"})},style:{justifyContent:"center",marginTop:"1rem"},children:s("update")})]})},j=t(87338),Z=function(e){var n=e.onClose,t=e.xlsxId,i=e.onRefetch,a=e.hostelId,s=(0,o.useState)(!1),d=(0,l.Z)(s,2),c=d[0],r=d[1],u=(0,o.useState)(!1),_=(0,l.Z)(u,2),f=_[0],Z=_[1],S=(0,j.xX)(),N=(0,l.Z)(S,1)[0],A=(0,j.ix)(),y=(0,l.Z)(A,1)[0];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(m.Z,{onClose:n}),(0,g.jsxs)(p.Z,{customStyle:{zIndex:"1200"},children:[f?(0,g.jsx)(x,{xlsxId:t,onEdit:function(e){r((function(e){return!e})),N({hid:a,xlsxId:null===t||void 0===t?void 0:t._id,excelUpdate:{excel_file_name:e}}).then((function(){i(),r((function(e){return!e})),n()})).catch({})}}):(0,g.jsxs)("div",{className:h.Z.edit_modal_container,style:{width:"200px"},children:[(0,g.jsx)("h6",{className:h.Z.edit,onClick:function(){return Z((function(e){return!e}))},children:"Edit"}),(0,g.jsx)("h6",{className:h.Z.remove,onClick:function(){r((function(e){return!e})),y({hid:a,xlsxId:null===t||void 0===t?void 0:t._id}).then((function(){i(),n(),r((function(e){return!e}))})).catch({})},children:"Delete"})]}),c&&(0,g.jsx)(v.Z,{})]})]})},S=t(65543),N=t(29407),A=t(1413),y=t(25313),b=t(36665),C=t(41233),E=t(87932),I=t(16256),P=function(e){var n=e.hostelId,t=e.financeId,s=e.onClose,d=e.viewAs,c=e.onRefetch,r=(0,a.$G)().t,u=(0,o.useState)(!1),p=(0,l.Z)(u,2),m=p[0],h=p[1],_=(0,o.useState)({depart:"",fee_struct:""}),f=(0,l.Z)(_,2),x=f[0],Z=f[1],S=(0,o.useState)({gender:"",caste:"",is_all:""}),N=(0,l.Z)(S,2),P=N[0],w=N[1],T=(0,j.RO)({data:{hid:n,page:1,limit:1e3,search:""},skip:!n}),k=T.getHostelUnitList,R=T.getHostelUnitListRefetch,D=(0,E.Z)({fid:t,skip:!t}),L=D.getAllFeesCategory,M=D.getAllFeesCategoryRefetch,O=(0,j.V8)(),F=(0,l.Z)(O,1)[0];(0,o.useEffect)((function(){n&&R()}),[n,R]),(0,o.useEffect)((function(){t&&M()}),[t,M]);return(0,g.jsxs)(b.Z,{onClose:s,children:[(0,g.jsxs)("div",{className:y.Z.filter_container,children:[(0,g.jsx)("h6",{className:y.Z.filter_title,children:r("filter_and_export_fees_data")}),(0,g.jsx)(C.Z,{selectLabel:r("select_unit"),selectedValue:r("all_select_particular_department"),options:null!==k&&void 0!==k&&k.all_units?["All"].concat((0,i.Z)(null===k||void 0===k?void 0:k.all_units)):["All"],onClick:function(e){Z((function(n){return(0,A.Z)((0,A.Z)({},n),{},{depart:e})}))}}),(0,g.jsx)(C.Z,{selectLabel:r("select_gender"),selectedValue:r("select_gender_placeholder"),options:["Male","Female","Other"],onClick:function(e){w((function(n){return(0,A.Z)((0,A.Z)({},n),{},{gender:e})}))}}),(0,g.jsx)(C.Z,{selectLabel:r("select_caste_catgory"),selectedValue:r("select_caste_catgory_placeholder"),options:I.De,onClick:function(e){w((function(n){return(0,A.Z)((0,A.Z)({},n),{},{caste:e})}))}}),(0,g.jsx)(C.Z,{selectLabel:r("select_fee_category"),selectedValue:r("select_fee_category_placeholder"),options:null!==L&&void 0!==L&&L.all_fees_format?(0,i.Z)(null===L||void 0===L?void 0:L.all_fees_format):[],onClick:function(e){Z((function(n){return(0,A.Z)((0,A.Z)({},n),{},{fee_struct:e})}))}}),(0,g.jsx)(C.Z,{selectLabel:r("select_all_or_pending"),selectedValue:r("select_all_or_pending_placeholder"),options:["All Time Fees","Pending Fees"],onClick:function(e){w((function(n){return(0,A.Z)((0,A.Z)({},n),{},{is_all:"All Time Fees"===e})}))}}),(0,g.jsx)("button",{className:y.Z.next_btn,onClick:function(){h((function(e){return!e})),F((0,A.Z)((0,A.Z)({hid:n},P),{},{all_depart:"All"===x.depart?"All":"Particular",pendingData:{depart:"All"===x.depart?"":x.depart,fee_struct:"All"===x.depart?"":x.fee_struct}})).then((function(){"EXPORT"===d&&(c(),s()),h((function(e){return!e}))})).catch({})},children:r("export_data")})]}),m&&(0,g.jsx)(v.Z,{})]})},w=function(e){var n=e.hostelId,t=e.instituteId,r=(0,a.$G)().t,v=(0,s.s0)(),p=(0,d.YD)(),m=(0,l.Z)(p,2),h=m[0],_=m[1],x=(0,o.useState)(1),A=(0,l.Z)(x,2),y=A[0],b=A[1],C=(0,o.useState)(!0),E=(0,l.Z)(C,2),I=E[0],w=E[1],T=(0,o.useState)(!1),k=(0,l.Z)(T,2),R=k[0],D=k[1],L=(0,o.useState)(!0),M=(0,l.Z)(L,2),O=M[0],F=M[1],q=(0,o.useState)([]),B=(0,l.Z)(q,2),H=B[0],U=B[1],G=(0,o.useState)(!1),W=(0,l.Z)(G,2),V=W[0],$=W[1],J=(0,o.useState)(!1),Y=(0,l.Z)(J,2),z=Y[0],X=Y[1],K=(0,j.Xi)({data:{hid:n,page:y,limit:10},skip:!n}),Q=K.getAllExcelByHostelManager,ee=K.getAllExcelByHostelManagerRefetch,ne=(0,S.u)().scrollToTop;(0,o.useEffect)((function(){ne()}),[]),(0,o.useEffect)((function(){n&&(F(!0),ee())}),[n,y,ee]),(0,o.useEffect)((function(){_&&I&&b((function(e){return e+1}))}),[_,I]),(0,o.useEffect)((function(){var e,n;R?(U(null===Q||void 0===Q?void 0:Q.all_excel),D(!1),F(!1)):null!==Q&&void 0!==Q&&Q.all_excel?(U((function(e){var n,t;return null===(n=(0,i.Z)(new Set(null===(t=[].concat((0,i.Z)(e),(0,i.Z)(null===Q||void 0===Q?void 0:Q.all_excel)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),F(!1)):0===(null===Q||void 0===Q||null===(n=Q.all_excel)||void 0===n?void 0:n.length)&&F(!1);10===(null===Q||void 0===Q||null===(e=Q.all_excel)||void 0===e?void 0:e.length)?w(!0):w(!1)}),[null===Q||void 0===Q?void 0:Q.all_excel]);var te=function(){$((function(e){return!e}))},ie=function(){b(1),ee(),D(!0)};return(0,g.jsxs)("div",{className:N.Z.refund_container,style:{marginTop:"0"},children:[(0,g.jsxs)("section",{className:N.Z.refund_container_title,children:[(0,g.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){v(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,g.jsxs)("div",{className:N.Z.refund_container_title,style:{justifyContent:"space-between",width:"95%"},children:[(0,g.jsx)("h6",{children:r("data_export")}),(0,g.jsx)("img",{src:"/images/export-filter-icon.svg",alt:"",onClick:te,className:N.Z.admission_filter_icon})]})]}),(0,g.jsx)(f.Z,{customStyle:{width:"100%"}}),(0,g.jsxs)("div",{className:N.Z.refund_list,children:[null===H||void 0===H?void 0:H.map((function(e,n){var t,i;return(null===H||void 0===H?void 0:H.length)===n+1?(0,g.jsxs)("a",{ref:h,className:N.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,g.jsx)("img",{src:"/images/export-xsxl-icon.svg",alt:""}),(0,g.jsxs)("section",{className:N.Z.export_card_text,children:[(0,g.jsx)("h6",{children:null!==(t=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==t?t:""}),(0,g.jsxs)("div",{className:N.Z.export_card_date,children:[(0,g.jsx)("h6",{children:u()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,g.jsx)("h6",{children:u()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]}),(0,g.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(n){n.preventDefault(),X(e)},className:N.Z.menu_icon,title:"Menu"})]},null===e||void 0===e?void 0:e._id):(0,g.jsxs)("a",{className:N.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,g.jsx)("img",{src:"/images/export-xsxl-icon.svg",alt:""}),(0,g.jsxs)("section",{className:N.Z.export_card_text,children:[(0,g.jsx)("h6",{children:null!==(i=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==i?i:""}),(0,g.jsxs)("div",{className:N.Z.export_card_date,children:[(0,g.jsx)("h6",{children:u()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,g.jsx)("h6",{children:u()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]}),(0,g.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(n){n.preventDefault(),X(e)},className:N.Z.menu_icon,title:"Menu"})]},null===e||void 0===e?void 0:e._id)})),O&&(0,g.jsx)(c.Z,{}),V&&(0,g.jsx)(P,{hostelId:n,financeId:t,onClose:te,viewAs:"EXPORT",onRefetch:ie}),z&&(0,g.jsx)(Z,{xlsxId:z,onClose:function(){return X("")},onRefetch:ie,hostelId:n})]})]})}},79541:function(e,n,t){t.d(n,{Z:function(){return x}});var i=t(93433),l=t(29439),o=t(72791),a=t(39230),s=t(23441),d=t(16871),c=t(87338),r=t(11105),u=t(98094),v=t(10406),p=t(80184),m=function(e){var n,t,i=e.announcement;return(0,p.jsxs)("div",{className:v.Z.announcement_card,children:[(0,p.jsx)("h6",{children:null!==(n=null===i||void 0===i?void 0:i.insAnnTitle)&&void 0!==n?n:""}),(0,p.jsx)("p",{children:null===i||void 0===i||null===(t=i.insAnnDescription)||void 0===t?void 0:t.substring(0,200)})]})},h=t(1999),_=t(49384),f=t(90865),g=function(e){var n=e.hid,t=e.onRefetch,i=e.onClose,s=(0,a.$G)().t,d=(0,o.useState)(),r=(0,l.Z)(d,2),v=r[0],m=r[1],g=(0,o.useState)([]),x=(0,l.Z)(g,2),j=x[0],Z=x[1],S=(0,o.useState)([]),N=(0,l.Z)(S,2),A=N[0],y=N[1],b=(0,o.useState)(!1),C=(0,l.Z)(b,2),E=C[0],I=C[1],P=(0,o.useState)(!1),w=(0,l.Z)(P,2),T=w[0],k=w[1],R=(0,o.useRef)(""),D=(0,o.useRef)(""),L=(0,o.useState)(""),M=(0,l.Z)(L,2),O=M[0],F=M[1],q=(0,c.zA)(),B=(0,l.Z)(q,1)[0];(0,o.useEffect)((function(){if(v){var e=[],n=[];for(var t in v)for(var i in v[t])"type"===i&&(v[t][i].includes("image/")?e.push(URL.createObjectURL(v[t])):n.push({name:v[t].name}));Z(e),y(n)}}),[v]);var H=document.querySelector("textarea");null===H||void 0===H||H.addEventListener("keyup",(function(e){H.style.height="auto";var n=e.target.scrollHeight;H.style.height="".concat(n,"px")}));return(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,p.jsx)("h6",{children:s("new_announcement")}),(0,p.jsx)("img",{src:"/images/close-post-icon.svg",onClick:i,alt:"close icon",style:{cursor:"pointer"}})]}),(0,p.jsx)(u.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,p.jsx)(f.Z,{labelHeading:s("turn_announcement_private_only"),customContainer:{padding:"0"},customLabel:{fontWeight:"500"},checkedToggle:E,onToggleHandler:function(e){I(e.target.checked)}}),(0,p.jsxs)("div",{className:h.Z.postTitle,children:[(0,p.jsx)("input",{className:h.Z.input,type:"text",ref:R,required:!0,placeholder:s("title_announce")}),O.title_val&&(0,p.jsx)("div",{style:{color:"red"},children:"* announcement title required"})]}),(0,p.jsx)("div",{className:h.Z.postDesc,children:(0,p.jsx)("textarea",{className:h.Z.postTextarea,rows:"3",type:"text",required:!0,ref:D,name:"CreateInsPost",placeholder:s("description"),style:{border:"0.5px solid rgba(18, 18, 18, 0.3)",borderRadius:"6px"}})}),(0,p.jsxs)("div",{className:h.Z.listContainer,children:[j.length>0&&(0,p.jsx)("div",{className:h.Z.documentList,children:j.map((function(e,n){return(0,p.jsx)("img",{src:e,alt:""},n)}))}),A.length>0&&(0,p.jsx)("div",{className:h.Z.pdfList,children:A.map((function(e,n){return(0,p.jsxs)("div",{className:h.Z.pdfPreview,children:[(0,p.jsx)("img",{src:"/images/pdf-icon.png",alt:""},n),(0,p.jsx)("p",{children:e.name})]})}))})]}),(0,p.jsx)("label",{htmlFor:"document",style:{cursor:"pointer"},children:(0,p.jsx)("p",{className:h.Z.addfiles,children:s("add_files")})}),(0,p.jsx)("input",{className:h.Z.upload,multiple:!0,id:"document",name:"file",onChange:function(e){m(e.target.files)},type:"file",accept:"image/gif, image/jpeg, image/png,  application/pdf, application/msword"}),(0,p.jsxs)("button",{className:h.Z.btn,disabled:T,onClick:function(){if(R.current.value){k(!0);var e=new FormData;e.append("insAnnTitle",R.current.value),e.append("insAnnDescription",D.current.value),e.append("insAnnVisibility",E?"Private":"Anyone");var l=0;for(var o in v)v[o].size&&(e.append("file".concat(l+1),v[o]),++l);e.append("announceCount",l),B({hid:n,announcement:e}).then((function(){t(),i(),R.current.value="",D.current.value="",k(!1)})).catch({})}else F({title_val:"*required"})},style:{marginTop:"0"},children:[(0,p.jsx)("p",{children:s("post")}),T&&(0,p.jsx)("div",{children:(0,p.jsx)(_.Z,{})})]})]})},x=function(e){var n,t,h,_,f=e.hid,x=(e.carryParentState,(0,a.$G)().t),j=(0,d.TH)(),Z=(0,o.useState)(!1),S=(0,l.Z)(Z,2),N=S[0],A=S[1],y=(0,s.YD)(),b=(0,l.Z)(y,2),C=b[0],E=b[1],I=(0,o.useState)(1),P=(0,l.Z)(I,2),w=P[0],T=P[1],k=(0,o.useState)(!0),R=(0,l.Z)(k,2),D=R[0],L=R[1],M=(0,o.useState)(!0),O=(0,l.Z)(M,2),F=O[0],q=O[1],B=(0,o.useState)([]),H=(0,l.Z)(B,2),U=H[0],G=H[1],W=(0,o.useState)(!1),V=(0,l.Z)(W,2),$=V[0],J=V[1],Y=(0,c.Xc)({data:{hid:null!==f&&void 0!==f?f:null===(n=j.state)||void 0===n?void 0:n.hid,page:w,limit:10},skip:f?!f:!(null!==(t=j.state)&&void 0!==t&&t.hid)}),z=Y.getAnnouncementListByHostel,X=Y.getAnnouncementListByHostelRefetch;(0,o.useEffect)((function(){var e;(f||null!==(e=j.state)&&void 0!==e&&e.hid)&&(q(!0),X())}),[f,null===(h=j.state)||void 0===h?void 0:h.hid,w,X]),(0,o.useEffect)((function(){E&&D&&T((function(e){return e+1}))}),[E,D]),(0,o.useEffect)((function(){var e,n;$?(G(null===z||void 0===z?void 0:z.announcement),q(!1),J(!1)):null!==z&&void 0!==z&&z.announcement?(G((function(e){var n,t;return null===(n=(0,i.Z)(new Set(null===(t=[].concat((0,i.Z)(e),(0,i.Z)(null===z||void 0===z?void 0:z.announcement)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),q(!1)):0===(null===z||void 0===z||null===(n=z.announcement)||void 0===n?void 0:n.length)&&q(!1);10===(null===z||void 0===z||null===(e=z.announcement)||void 0===e?void 0:e.length)?L(!0):L(!1)}),[null===z||void 0===z?void 0:z.announcement]);var K=function(){A((function(e){return!e}))};return(0,p.jsxs)(p.Fragment,{children:[!N&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:v.Z.with_search,children:(0,p.jsx)("h6",{children:x("hostel_announcement")})}),(0,p.jsx)(u.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),"HOSTEL_UNIT_TAB"===(null===(_=j.state)||void 0===_?void 0:_.viewNotice)?"":(0,p.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,p.jsx)("p",{className:v.Z.add_new_category,onClick:K,children:x("create_new_announcement")})}),null===U||void 0===U?void 0:U.map((function(e,n){return(null===U||void 0===U?void 0:U.length)===n+1?(0,p.jsx)("div",{ref:C,children:(0,p.jsx)(m,{announcement:e})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(m,{announcement:e},null===e||void 0===e?void 0:e._id)})),F&&(0,p.jsx)(r.Z,{})]}),N&&(0,p.jsx)(g,{onClose:K,hid:f,onRefetch:function(){T(1),J(!0),q(!0),X()}})]})}},72441:function(e,n,t){t.r(n);var i=t(29439),l=t(72791),o=t(39230),a=t(87338),s=t(98734),d=t(36665),c=t(87457),r=t(80184);n.default=function(e){var n=e.onClose,t=e.onRefetchWhenSelect,u=e.applicationId,v=e.studentId,p=e.viewAs,m=(0,o.$G)().t,h=(0,l.useState)(!1),_=(0,i.Z)(h,2),f=_[0],g=_[1],x=(0,a.QC)(),j=(0,i.Z)(x,1)[0],Z=(0,a.xp)(),S=(0,i.Z)(Z,1)[0];return(0,r.jsx)(d.Z,{onClose:n,children:(0,r.jsxs)("div",{className:c.Z.add_category_modal,style:{width:"23rem",height:"10rem"},children:[(0,r.jsxs)("div",{className:c.Z.add_category_modal_title,children:[(0,r.jsx)("h6",{children:m("RENEWAL"===p?"cancl_student_renewal_request":"cancel_student_hostel_request")}),(0,r.jsx)("img",{src:"/images/close-post-icon.svg",onClick:n,alt:"close"})]}),(0,r.jsx)("button",{className:c.Z.set_fees_structure_btn,title:"Cancel Request",onClick:function(){""!==v&&""!==u&&(g((function(e){return!e})),"RENEWAL"===p?S({sid:v,huid:u}).then((function(){t(),n(),g((function(e){return!e}))})).catch({}):j({sid:v,aid:u}).then((function(){t(),n(),g((function(e){return!e}))})).catch({}))},style:{justifyContent:"center",marginTop:"4rem"},children:m("confirm")}),f&&(0,r.jsx)(s.Z,{})]})})}},34791:function(e,n,t){t.d(n,{Z:function(){return Pe}});var i=t(1413),l=t(72791),o=t(39230),a=t(16871),s=t(98094),d=t(47167),c=t(10406),r=t(93433),u=t(29439),v=t(23441),p=t(87338),m=t(11105),h="CompletedApplication_remainingFeesBottom__i9hlV",_="CompletedApplication_itemsContainer__UgcIF",f="CompletedApplication_item__RNB9g",g="CompletedApplication_subItem__zVdCT",x="CompletedApplication_text__deTcX",j=t(22492),Z=t(55271),S=t(80184),N=function(e){var n,t,l,a,s=e.carryParentState,d=e.accessRole,c=e.accessTpye,r=e.callApi,u=e.pageOpenAs,v=e.data,p=(0,o.$G)().t;return(0,S.jsx)(S.Fragment,{children:"INSTITUTE"===u?(0,S.jsx)(j.Z,{carryParentState:(0,i.Z)((0,i.Z)({},s),{},{applicationId:null===v||void 0===v?void 0:v._id}),activeTab:"request&ongoing&n=application",children:(0,S.jsxs)("div",{className:f,children:[(0,S.jsxs)("div",{className:g,children:[(0,S.jsx)("img",{alt:"Completed App",src:"/images/admision-application-icon.svg"}),(0,S.jsxs)("div",{className:x,children:[(0,S.jsx)("h6",{children:null===v||void 0===v?void 0:v.applicationName}),(0,S.jsx)("p",{style:{marginBottom:"0"},children:null!==(n=null===v||void 0===v||null===(t=v.applicationUnit)||void 0===t?void 0:t.hostel_unit_name)&&void 0!==n?n:""})]})]}),(0,S.jsx)("div",{className:x,children:(0,S.jsxs)("div",{className:x,children:[(0,S.jsx)("h6",{children:null===v||void 0===v?void 0:v.allotCount}),(0,S.jsx)("p",{style:{marginBottom:"0"},children:p("alloted")})]})})]})}):(0,S.jsx)(Z.Z,{carryParentState:(0,i.Z)((0,i.Z)({},s),{},{applicationId:null===v||void 0===v?void 0:v._id}),activeTab:"request&ongoing&n=application",accessRole:d,accessTpye:c,callApi:r,children:(0,S.jsxs)("div",{className:f,children:[(0,S.jsxs)("div",{className:g,children:[(0,S.jsx)("img",{alt:"Completed App",src:"/images/admision-application-icon.svg"}),(0,S.jsxs)("div",{className:x,children:[(0,S.jsx)("h6",{children:null===v||void 0===v?void 0:v.applicationName}),(0,S.jsx)("p",{style:{marginBottom:"0"},children:null!==(l=null===v||void 0===v||null===(a=v.applicationUnit)||void 0===a?void 0:a.hostel_unit_name)&&void 0!==l?l:""})]})]}),(0,S.jsx)("div",{className:x,children:(0,S.jsxs)("div",{className:x,children:[(0,S.jsx)("h6",{children:null===v||void 0===v?void 0:v.allotCount}),(0,S.jsx)("p",{style:{marginBottom:"0"},children:p("alloted")})]})})]})})})},A=t(65543),y=function(e){var n=e.hid,t=e.carryParentState,i=e.accessRole,o=e.accessApplication,a=e.accessTpye,s=e.callApi,d=e.pageOpenAs,c=(0,l.useState)(!0),f=(0,u.Z)(c,2),g=f[0],x=f[1],j=(0,l.useState)(1),Z=(0,u.Z)(j,2),y=Z[0],b=Z[1],C=(0,v.YD)(),E=(0,u.Z)(C,2),I=E[0],P=E[1],w=(0,l.useState)(!0),T=(0,u.Z)(w,2),k=T[0],R=T[1],D=(0,l.useState)([]),L=(0,u.Z)(D,2),M=L[0],O=L[1],F=(0,A.u)().scrollToTop,q=(0,p.KB)({data:{hid:n,page:y,limit:10},skip:!n}),B=q.getCompletedApplicationList,H=q.getCompletedApplicationListRefetch;return(0,l.useEffect)((function(){F()}),[]),(0,l.useEffect)((function(){P&&g&&b((function(e){return e+1}))}),[P,g]),(0,l.useEffect)((function(){n&&(R(!0),H())}),[y,n,H]),(0,l.useEffect)((function(){var e,n;null!==B&&void 0!==B&&B.completed?(O((function(e){var n,t;return null===(n=(0,r.Z)(new Set(null===(t=[].concat((0,r.Z)(e),(0,r.Z)(null===B||void 0===B?void 0:B.completed)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),R(!1)):0===(null===B||void 0===B||null===(e=B.completed)||void 0===e?void 0:e.length)&&R(!1),10===(null===B||void 0===B||null===(n=B.completed)||void 0===n?void 0:n.length)?x(!0):x(!1)}),[null===B||void 0===B?void 0:B.completed]),(0,S.jsx)(S.Fragment,{children:(0,S.jsx)("div",{className:h,children:(0,S.jsxs)("div",{className:_,children:[null===M||void 0===M?void 0:M.map((function(e,n){return(null===M||void 0===M?void 0:M.length)===n+1?(0,S.jsx)("div",{ref:I,children:(0,S.jsx)(N,{data:e,carryParentState:t,accessRole:i,accessTpye:a,callApi:s,accessApplication:o,pageOpenAs:d})},n):(0,S.jsx)(N,{data:e,carryParentState:t,accessRole:i,accessTpye:a,callApi:s,accessApplication:o,pageOpenAs:d},n)})),k&&(0,S.jsx)(m.Z,{})]})})})},b=t(29017),C=t(85753),E=t(5574),I=t(51561),P=t(98734),w=t(9490);var T=function(e){var n,t,s,d,c,r,v,m,h,_,f,g,x,j,Z,N,A,y=e.viewDetail,T=e.hideModal,k=e.applicationDetail,R=e.completeApplication,D=e.carryParentState,L=e.applicationDetailApplicablePending,M=e.pageOpenAs,O=(0,o.$G)().t,F=new Date,q=(0,a.s0)(),B=(0,a.UO)(),H=(0,l.useState)(!1),U=(0,u.Z)(H,2),G=U[0],W=U[1],V=(0,l.useState)({msg:"",run:!1}),$=(0,u.Z)(V,2),J=$[0],Y=$[1],z=(0,l.useState)(!1),X=(0,u.Z)(z,2),K=X[0],Q=X[1],ee=(0,l.useState)(null===(n=F.toISOString())||void 0===n?void 0:n.substring(0,10)),ne=(0,u.Z)(ee,2),te=ne[0],ie=ne[1],le=(0,p.gv)(),oe=(0,u.Z)(le,1)[0],ae=(0,b.Ts)({data:{appId:null===k||void 0===k?void 0:k._id,valid_date:te},skip:!(null!==k&&void 0!==k&&k._id)}),se=ae.getDailyCollectionByAdmission,de=ae.getDailyCollectionByAdmissionRefetch;(0,l.useEffect)((function(){null!==k&&void 0!==k&&k._id&&de()}),[null===k||void 0===k?void 0:k._id,de,te]);var ce=function(){W((function(e){return!e})),null!==k&&void 0!==k&&k._id?oe({aid:null===k||void 0===k?void 0:k._id}).then((function(e){var n;null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.complete_status?(W((function(e){return!e})),T(!1),q("/q/".concat(B.username,"INSTITUTE"===M?"/hostel":"/member/hostel"),{state:(0,i.Z)({},D)})):(Y({msg:null===e||void 0===e?void 0:e.data.message,run:!0}),W((function(e){return!e})))})).catch({}):W((function(e){return!e}))};return(0,S.jsxs)(E.Z,{open:y,onClose:function(){return T(!1)},children:[(0,S.jsxs)("div",{className:C.Z.addDisplay,children:[(0,S.jsxs)("div",{className:C.Z.title,children:[(0,S.jsx)("div",{}),(0,S.jsx)("h6",{style:{cursor:"pointer"},onClick:function(){return Q((function(e){return!e}))},children:null===k||void 0===k?void 0:k.applicationName}),(0,S.jsx)("img",{src:"/images/close-post-icon.svg",onClick:function(){return T(!1)},alt:""})]}),(0,S.jsxs)("div",{className:C.Z.content,children:[(0,S.jsx)("div",{style:{padding:"1rem"},children:(0,S.jsx)(w.Z,{setValidDate:ie})}),R&&!K&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:C.Z.content2,children:[(0,S.jsxs)("div",{className:C.Z.appinforow,children:[(0,S.jsx)("h6",{children:O("total_received_application")}),(0,S.jsx)("h6",{children:null!==(t=null===se||void 0===se||null===(s=se.day_wise)||void 0===s?void 0:s.request_count)&&void 0!==t?t:0})]}),(0,S.jsxs)("div",{className:C.Z.appinforow,children:[(0,S.jsx)("h6",{children:O("total_selected_application")}),(0,S.jsx)("h6",{children:null!==(d=null===se||void 0===se||null===(c=se.day_wise)||void 0===c?void 0:c.select_count)&&void 0!==d?d:0})]}),(0,S.jsxs)("div",{className:C.Z.appinforow,children:[(0,S.jsx)("h6",{children:O("total_confirmed_application")}),(0,S.jsx)("h6",{children:null!==(r=null===se||void 0===se||null===(v=se.day_wise)||void 0===v?void 0:v.confirm_count)&&void 0!==r?r:0})]}),(0,S.jsxs)("div",{className:C.Z.appinforow,children:[(0,S.jsx)("h6",{children:O("total_alloted_application")}),(0,S.jsxs)("h6",{children:[" ",null!==(m=null===se||void 0===se||null===(h=se.day_wise)||void 0===h?void 0:h.allot_count)&&void 0!==m?m:0]})]}),(0,S.jsxs)("div",{className:C.Z.appinforow,children:[(0,S.jsx)("h6",{children:O("total_cancelled_application")}),(0,S.jsxs)("h6",{children:[" ",null!==(_=null===se||void 0===se||null===(f=se.day_wise)||void 0===f?void 0:f.cancel_count)&&void 0!==_?_:0]})]})]}),(0,S.jsxs)("div",{className:C.Z.content3,children:[(0,S.jsxs)("div",{className:C.Z.appinforow1,children:[(0,S.jsx)("h6",{children:O("total_fees_received")}),(0,S.jsxs)("h6",{children:["Rs. ",null!==(g=null===se||void 0===se||null===(x=se.day_wise)||void 0===x?void 0:x.paid)&&void 0!==g?g:0]})]}),(0,S.jsxs)("div",{className:"".concat(C.Z.appinforow2," ").concat(C.Z.appinforowred),children:[(0,S.jsx)("h6",{children:O("total_fees_pending")}),(0,S.jsxs)("h6",{children:["Rs. ",null!==(j=null===se||void 0===se||null===(Z=se.day_wise)||void 0===Z?void 0:Z.remain)&&void 0!==j?j:0]})]}),(0,S.jsxs)("div",{className:"".concat(C.Z.appinforow2," ").concat(C.Z.appinforowred),children:[(0,S.jsx)("h6",{children:O("total_applicable_fees_pending")}),(0,S.jsxs)("h6",{children:["Rs."," ",null!==(N=null===se||void 0===se||null===(A=se.day_wise)||void 0===A?void 0:A.applicable_pending)&&void 0!==N?N:0]})]}),(0,S.jsx)("div",{className:C.Z.completeApplicationcontainer,children:(0,S.jsx)("div",{className:C.Z.completeApplication,onClick:ce,children:O("complete_application")})})]})]}),R&&K&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:C.Z.content2,children:[(0,S.jsxs)("div",{className:C.Z.appinforow,children:[(0,S.jsx)("h6",{children:O("total_received_application")}),(0,S.jsx)("h6",{children:null===k||void 0===k?void 0:k.receievedCount})]}),(0,S.jsxs)("div",{className:C.Z.appinforow,children:[(0,S.jsx)("h6",{children:O("total_selected_application")}),(0,S.jsx)("h6",{children:null===k||void 0===k?void 0:k.selectCount})]}),(0,S.jsxs)("div",{className:C.Z.appinforow,children:[(0,S.jsx)("h6",{children:O("total_confirmed_application")}),(0,S.jsx)("h6",{children:null===k||void 0===k?void 0:k.confirmCount})]}),(0,S.jsxs)("div",{className:C.Z.appinforow,children:[(0,S.jsx)("h6",{children:O("total_alloted_application")}),(0,S.jsx)("h6",{children:null===k||void 0===k?void 0:k.allotCount})]}),(0,S.jsxs)("div",{className:C.Z.appinforow,children:[(0,S.jsx)("h6",{children:O("total_cancelled_application")}),(0,S.jsx)("h6",{children:null===k||void 0===k?void 0:k.cancelCount})]})]}),(0,S.jsxs)("div",{className:C.Z.content3,children:[(0,S.jsxs)("div",{className:C.Z.appinforow1,children:[(0,S.jsx)("h6",{children:O("total_fees_received")}),(0,S.jsxs)("h6",{children:["Rs. ",null===k||void 0===k?void 0:k.collectedFeeCount]})]}),(0,S.jsxs)("div",{className:"".concat(C.Z.appinforow2," ").concat(C.Z.appinforowred),children:[(0,S.jsx)("h6",{children:O("total_fees_pending")}),(0,S.jsxs)("h6",{children:["Rs. ",null===k||void 0===k?void 0:k.remainingFee]})]}),(0,S.jsxs)("div",{className:"".concat(C.Z.appinforow2," ").concat(C.Z.appinforowred),children:[(0,S.jsx)("h6",{children:O("total_applicable_fees_pending")}),(0,S.jsxs)("h6",{children:["Rs. ",null!==L&&void 0!==L?L:0]})]}),(0,S.jsx)("div",{className:C.Z.completeApplicationcontainer,children:(0,S.jsx)("div",{className:C.Z.completeApplication,onClick:ce,children:O("complete_application")})})]})]})]})]}),G&&(0,S.jsx)(P.Z,{}),(0,S.jsx)(I.Ch,{msg:J.msg,run:J.run,setRun:function(){return Y({msg:"",run:!1})},postiton:"bottom",type:"error"})]})},k=["Request_Query","Confirm_Query","Allot_Query"],R=function(e){var n,t,o=e.applicationDetail,d=e.carryParentState,r=e.unitName,v=e.tabStatusFlow,m=e.applicationDetailApplicablePending,h=e.pageOpenAs,_=e.children,f=(0,a.s0)(),g=(0,a.UO)(),x=(0,l.useState)(!1),j=(0,u.Z)(x,2),Z=j[0],N=j[1],A=(0,l.useState)({msg:"",run:!1}),y=(0,u.Z)(A,2),b=y[0],C=y[1],E=(0,l.useState)(!1),w=(0,u.Z)(E,2),R=w[0],D=w[1],L=(0,p.Y$)(),M=(0,u.Z)(L,1)[0];return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("section",{className:c.Z.moderator_container_title,children:[(0,S.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){f("/q/".concat(g.username,"INSTITUTE"===h?"/hostel?a=request":"/member/hostel?a=request"),{state:(0,i.Z)({},d)})},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,S.jsxs)("div",{className:c.Z.with_search,children:[(0,S.jsx)("h6",{children:null!==(n=null!==(t=null===o||void 0===o?void 0:o.applicationName)&&void 0!==t?t:r)&&void 0!==n?n:""}),(0,S.jsxs)("div",{className:c.Z.search_container_filter,children:[(0,S.jsx)("section",{className:c.Z.search_container,children:(0,S.jsxs)("div",{className:c.Z.search_container_input,children:[(0,S.jsx)("img",{className:c.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),_]})}),!r&&(0,S.jsx)("img",{style:{height:"2.2rem",cursor:"pointer"},onClick:function(){return N(!0)},src:"/images/application_info.svg",alt:""}),k.includes(v)?(0,S.jsx)("img",{style:{height:"2.2rem",cursor:"pointer"},onClick:function(){null!==o&&void 0!==o&&o._id&&v&&(D((function(e){return!e})),M({appId:null===o||void 0===o?void 0:o._id,flow:v}).then((function(e){var n;C({msg:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message,run:!0}),setTimeout((function(){f("/q/".concat(g.username,"INSTITUTE"===h?"/hostel?a=export":"/member/hostel?a=export"),{state:d})}),1e3)})).catch({}))},src:"/images/member_tab/finance/finance-export-icon.svg",alt:""}):null]})]})]}),(0,S.jsx)(s.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),Z&&(0,S.jsx)(T,{completeApplication:!0,viewDetail:Z,applicationDetail:o,hideModal:N,carryParentState:d,applicationDetailApplicablePending:m,pageOpenAs:h}),R&&(0,S.jsx)(P.Z,{}),(0,S.jsx)(I.Ch,{msg:b.msg,run:b.run,setRun:function(){return C({msg:"",run:!1})},postiton:"bottom",type:"success"})]})},D=t(763),L=t(15961),M=t(72426),O=t.n(M),F=t(69721),q=t(35395),B=t(82224),H=l.lazy((function(){return Promise.resolve().then(t.bind(t,72441))})),U=function(e){var n,t,i,s,d,c,r,v,m,h,_,f,g,x,j,Z,N=e.applicant,A=e.onRefetchWhenSelect,y=e.applicationId,b=e.hostelId,C=e.batchId,E=e.classMasterId,I=(0,o.$G)().t,w=(0,a.UO)(),T=(0,a.s0)(),k=(0,l.useState)(!1),R=(0,u.Z)(k,2),D=R[0],M=R[1],U=(0,l.useState)(!1),G=(0,u.Z)(U,2),W=G[0],V=G[1],$=(0,l.useState)(!1),J=(0,u.Z)($,2),Y=J[0],z=J[1],X=(0,p.KR)(),K=(0,u.Z)(X,1)[0];return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_container,onClick:function(){var e;T("/q/".concat(w.username,"/student/profile"),{state:{sid:null===N||void 0===N||null===(e=N.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_inner,children:[(0,S.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===N||void 0===N||null===(n=N.student)||void 0===n?void 0:n.photoId)?"".concat(F.yI,"/").concat(null===N||void 0===N||null===(t=N.student)||void 0===t?void 0:t.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,S.jsxs)("div",{className:L.Z.applicant_card_inner_info,children:[(0,S.jsx)("h6",{children:"".concat(null===N||void 0===N||null===(i=N.student)||void 0===i?void 0:i.studentFirstName," ").concat(null!==N&&void 0!==N&&null!==(s=N.student)&&void 0!==s&&s.studentMiddleName?null===N||void 0===N||null===(d=N.student)||void 0===d?void 0:d.studentMiddleName:""," ").concat(null===N||void 0===N||null===(c=N.student)||void 0===c?void 0:c.studentLastName)}),(0,S.jsxs)("p",{children:[I("applied_on"),":"," ",O()(null===N||void 0===N?void 0:N.apply_on).format("DD MMM yyyy")]})]})]}),(0,S.jsxs)("div",{className:L.Z.applicant_card_contact,children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_contact_inner,children:[(0,S.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,S.jsx)("p",{children:null===N||void 0===N||null===(r=N.student)||void 0===r?void 0:r.studentGender})]}),((null===N||void 0===N||null===(v=N.student)||void 0===v?void 0:v.studentPhoneNumber)||(null===N||void 0===N||null===(m=N.student)||void 0===m?void 0:m.studentParentsPhoneNumber))&&(0,S.jsxs)("div",{className:L.Z.applicant_card_contact_inner,children:[(0,S.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,S.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==N&&void 0!==N&&null!==(h=N.student)&&void 0!==h&&h.studentPhoneNumber?null===N||void 0===N||null===(_=N.student)||void 0===_?void 0:_.studentPhoneNumber:null===N||void 0===N||null===(f=N.student)||void 0===f?void 0:f.studentParentsPhoneNumber})]})]}),(0,S.jsx)("div",{className:L.Z.applicant_card_reciept,onClick:function(e){e.stopPropagation()},children:(0,S.jsx)("a",{href:"".concat(F.r3,"/").concat(null===N||void 0===N||null===(g=N.student)||void 0===g||null===(x=g.application_print)||void 0===x||null===(j=x[0])||void 0===j?void 0:j.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,S.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,S.jsxs)("div",{className:L.Z.application_button,children:[(0,S.jsx)("div",{className:L.Z.selectAppBtnContainer,onClick:function(e){e.stopPropagation(),V(!0)},children:(0,S.jsx)("div",{className:L.Z.selectBtn,children:I("select")})}),(0,S.jsx)("div",{className:L.Z.selectAppBtnContainer,onClick:function(e){e.stopPropagation(),M((function(e){return!e}))},children:(0,S.jsx)("div",{className:L.Z.cancelledBtn,children:I("reject")})})]})]}),(0,S.jsx)(q.Z,{children:D&&(0,S.jsx)(H,{studentId:null===N||void 0===N||null===(Z=N.student)||void 0===Z?void 0:Z._id,applicationId:y,onClose:function(){return M((function(e){return!e}))},onRefetchWhenSelect:A})}),W&&(0,S.jsx)(B.Z,{hostelId:b,onClose:function(){return V((function(e){return!e}))},onSelectedStudent:function(e){var n,t;""!==(null===N||void 0===N||null===(n=N.student)||void 0===n?void 0:n._id)&&""!==y&&(z((function(e){return!e})),K({sid:null===N||void 0===N||null===(t=N.student)||void 0===t?void 0:t._id,aid:y,selectApplicant:e}).then((function(){A(),z((function(e){return!e}))})).catch((function(){z((function(e){return!e}))})))},batchId:null!==C&&void 0!==C?C:"",classMasterId:null!==E&&void 0!==E?E:""}),Y&&(0,S.jsx)(P.Z,{})]})},G=function(e){var n,t,i,l,c=e.carryParentState,r=e.accessRole,u=e.accessTpye,v=e.pageOpenAs,p=(0,o.$G)().t,m=(0,a.TH)(),h=[{name:p("application"),id:0,url:"member/hostel?a=request&ongoing&n=application",is_active:["MULTI_APP_ACCESS"].includes(r)||!r?"enabled":["ONE_TAB_ACCESS"].includes(r)?"Application"===u?"enabled":"disabled":"enabled"},{name:p("selected"),id:1,url:"member/hostel?a=request&ongoing&n=select",is_active:["MULTI_APP_ACCESS"].includes(r)||!r?"enabled":["ONE_TAB_ACCESS"].includes(r)?"Selected"===u?"enabled":"disabled":"enabled"},{name:p("confirmed"),id:2,url:"member/hostel?a=request&ongoing&n=confirm",is_active:["MULTI_APP_ACCESS"].includes(r)||!r?"enabled":["ONE_TAB_ACCESS"].includes(r)?"Confirmed"===u?"enabled":"disabled":"enabled"},{name:p("allotted"),id:3,url:"member/hostel?a=request&ongoing&n=allot",is_active:["MULTI_APP_ACCESS"].includes(r)||!r?"enabled":["ONE_TAB_ACCESS"].includes(r)?"Allotted"===u?"enabled":"disabled":"enabled"},{name:p("cancelled"),id:4,url:"member/hostel?a=request&ongoing&n=cancel",is_active:["MULTI_APP_ACCESS"].includes(r)||!r?"enabled":["ONE_TAB_ACCESS"].includes(r)?"Cancelled"===u?"enabled":"disabled":"enabled"}],_=[{name:p("application"),id:0,url:"hostel?a=request&ongoing&n=application",is_active:"enabled"},{name:p("selected"),id:1,url:"hostel?a=request&ongoing&n=select",is_active:"enabled"},{name:p("confirmed"),id:2,url:"hostel?a=request&ongoing&n=confirm",is_active:"enabled"},{name:p("allotted"),id:3,url:"hostel?a=request&ongoing&n=allot",is_active:"enabled"},{name:p("cancelled"),id:4,url:"hostel?a=request&ongoing&n=cancel",is_active:"enabled"}];return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(d.Z,{tabList:"INSTITUTE"===v?_:h,activeIndexTab:"application"===(null===(n=m.search)||void 0===n?void 0:n.substring(21))?0:"select"===(null===(t=m.search)||void 0===t?void 0:t.substring(21))?1:"confirm"===(null===(i=m.search)||void 0===i?void 0:i.substring(21))?2:"allot"===(null===(l=m.search)||void 0===l?void 0:l.substring(21))?3:4,showAs:!0,customStyleTab:{width:"100%"},customStyleLink:{width:"20%"},carryParentState:c}),(0,S.jsx)(s.Z,{customStyle:{width:"100%"}})]})};var W=function(e){var n=e.carryParentState,t=e.applicationId,i=e.hostelId,o=e.applicationDetail,a=e.accessRole,s=e.accessTpye,d=e.applicationDetailApplicablePending,c=e.pageOpenAs,p=(0,l.useState)(!0),h=(0,u.Z)(p,2),_=h[0],f=h[1],g=(0,l.useState)(1),x=(0,u.Z)(g,2),j=x[0],Z=x[1],N=(0,l.useState)(""),A=(0,u.Z)(N,2),y=A[0],C=A[1],E=(0,v.YD)(),I=(0,u.Z)(E,2),P=I[0],w=I[1],T=(0,l.useState)([]),k=(0,u.Z)(T,2),L=k[0],M=k[1],O=(0,l.useState)(!1),F=(0,u.Z)(O,2),q=F[0],B=F[1],H=(0,l.useState)(!0),W=(0,u.Z)(H,2),V=W[0],$=W[1],J=(0,b.jG)({data:{id:t,page:j,limit:10,search:y||""},skip:!t}),Y=J.getAllRequestList,z=J.getAllRequestListRefetch;(0,l.useEffect)((function(){w&&_&&Z((function(e){return e+1}))}),[w,_]),(0,l.useEffect)((function(){t&&($(!0),z())}),[j,t,z,y]),(0,l.useEffect)((function(){var e,n;y?(M(null===Y||void 0===Y?void 0:Y.request),$(!1)):q?(M(null===Y||void 0===Y?void 0:Y.request),B(!1),$(!1)):null!==Y&&void 0!==Y&&Y.request?(M((function(e){var n,t;return null===(n=(0,r.Z)(new Set(null===(t=[].concat((0,r.Z)(e),(0,r.Z)(null===Y||void 0===Y?void 0:Y.request)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),$(!1)):0===(null===Y||void 0===Y||null===(n=Y.request)||void 0===n?void 0:n.length)&&$(!1);10===(null===Y||void 0===Y||null===(e=Y.request)||void 0===e?void 0:e.length)?f(!0):f(!1)}),[null===Y||void 0===Y?void 0:Y.request]);var X=function(){Z(1),z(),B(!0)},K=(0,l.useCallback)((0,D.debounce)((function(e){return C(e)}),500),[]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(R,{applicationDetail:o,carryParentState:n,tabStatusFlow:"Request_Query",applicationDetailApplicablePending:d,pageOpenAs:c,children:(0,S.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:function(e){K(e.target.value)}})}),(0,S.jsx)(G,{carryParentState:n,accessRole:a,accessTpye:s,pageOpenAs:c}),null===L||void 0===L?void 0:L.map((function(e,n){var l,a;return(null===L||void 0===L?void 0:L.length)===n+1?(0,S.jsx)("div",{ref:P,children:(0,S.jsx)(U,{applicant:e,onRefetchWhenSelect:X,applicationId:t,hostelId:i,batchId:null===o||void 0===o||null===(l=o.applicationBatch)||void 0===l?void 0:l._id,classMasterId:null===o||void 0===o?void 0:o.applicationMaster})},n):(0,S.jsx)(U,{applicant:e,onRefetchWhenSelect:X,applicationId:t,hostelId:i,batchId:null===o||void 0===o||null===(a=o.applicationBatch)||void 0===a?void 0:a._id,classMasterId:null===o||void 0===o?void 0:o.applicationMaster},n)})),V&&(0,S.jsx)(m.Z,{})]})},V=function(e){var n,t,i,l,s,d,c,r,u,v,p,m,h,_,f,g,x,j,Z,N,A,y,b,C,E=e.onSelectOffileFees,I=e.applicant,P=(0,o.$G)().t,w=(0,a.UO)(),T=(0,a.s0)();return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)("div",{className:L.Z.applicant_card_container,onClick:function(){var e;T("/q/".concat(w.username,"/student/profile"),{state:{sid:null===I||void 0===I||null===(e=I.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_inner,children:[(0,S.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===I||void 0===I||null===(n=I.student)||void 0===n?void 0:n.photoId)?"".concat(F.yI,"/").concat(null===I||void 0===I||null===(t=I.student)||void 0===t?void 0:t.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,S.jsxs)("div",{className:L.Z.applicant_card_inner_info,children:[(0,S.jsx)("h6",{children:"".concat(null===I||void 0===I||null===(i=I.student)||void 0===i?void 0:i.studentFirstName," ").concat(null!==I&&void 0!==I&&null!==(l=I.student)&&void 0!==l&&l.studentMiddleName?null===I||void 0===I||null===(s=I.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null===I||void 0===I||null===(d=I.student)||void 0===d?void 0:d.studentLastName)}),(0,S.jsxs)("h6",{children:[P("fee_structure")," : ",null!==(c=null===I||void 0===I||null===(r=I.student)||void 0===r||null===(u=r.hostel_fee_structure)||void 0===u||null===(v=u.category_master)||void 0===v?void 0:v.category_name)&&void 0!==c?c:"",", ",P("rs")," ",null!==(p=null===I||void 0===I||null===(m=I.student)||void 0===m||null===(h=m.hostel_fee_structure)||void 0===h?void 0:h.total_admission_fees)&&void 0!==p?p:""]}),(0,S.jsx)("p",{children:null!==I&&void 0!==I&&I.install_type?null===I||void 0===I?void 0:I.install_type:"\n              ".concat(P("select_on"),":\n              ").concat(O()(null===I||void 0===I?void 0:I.select_on).format("DD MMM yyyy"))})]})]}),(0,S.jsxs)("div",{className:L.Z.applicant_card_contact,children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_contact_inner,children:[(0,S.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,S.jsx)("p",{children:null===I||void 0===I||null===(_=I.student)||void 0===_?void 0:_.studentGender})]}),((null===I||void 0===I||null===(f=I.student)||void 0===f?void 0:f.studentPhoneNumber)||(null===I||void 0===I||null===(g=I.student)||void 0===g?void 0:g.studentParentsPhoneNumber))&&(0,S.jsxs)("div",{className:L.Z.applicant_card_contact_inner,children:[(0,S.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,S.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==I&&void 0!==I&&null!==(x=I.student)&&void 0!==x&&x.studentPhoneNumber?null===I||void 0===I||null===(j=I.student)||void 0===j?void 0:j.studentPhoneNumber:null===I||void 0===I||null===(Z=I.student)||void 0===Z?void 0:Z.studentParentsPhoneNumber})]})]}),(0,S.jsx)("div",{className:L.Z.applicant_card_reciept,onClick:function(e){e.stopPropagation()},children:(0,S.jsx)("a",{href:"".concat(F.r3,"/").concat(null===I||void 0===I||null===(N=I.student)||void 0===N||null===(A=N.application_print)||void 0===A||null===(y=A[0])||void 0===y?void 0:y.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,S.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),"pending"===(null===I||void 0===I||null===(b=I.payment_status)||void 0===b?void 0:b.toLowerCase())?(0,S.jsx)("div",{className:L.Z.selectBtnContainer,style:{display:"flex",justifyContent:"space-evenly"},children:(0,S.jsx)("div",{className:L.Z.selectBtn,onClick:function(e){e.stopPropagation(),E(I)},children:P("collect_fee")})}):"receipt requested"===(null===I||void 0===I||null===(C=I.payment_status)||void 0===C?void 0:C.toLowerCase())?(0,S.jsx)("div",{className:L.Z.selectBtnContainer,children:(0,S.jsx)("div",{className:L.Z.receipt_requested_btn,onClick:function(e){e.stopPropagation()},children:P("receipt_requested")})}):null]})})},$=t(36665),J=function(e){var n,t,i,a,d,c,r=e.currentApplicant,v=e.onClose,m=e.applicationId,h=e.onRefetchWhenConfirm,_=(0,o.$G)().t,f=(0,l.useState)(!1),g=(0,u.Z)(f,2),x=g[0],j=g[1],Z=(0,p.Ik)(),N=(0,u.Z)(Z,1)[0],A=(0,p.lA)(),y=(0,u.Z)(A,1)[0];return(0,S.jsxs)($.Z,{onClose:v,children:[(0,S.jsxs)("div",{className:L.Z.not_confirm_container,children:[(0,S.jsx)("h6",{children:_("hostel_status")}),(0,S.jsx)(s.Z,{customStyle:{marginLeft:"-2rem",width:"130%"}}),(0,S.jsxs)("section",{className:L.Z.applicant_profile,children:[(0,S.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===r||void 0===r||null===(n=r.student)||void 0===n?void 0:n.photoId)?"".concat(F.yI,"/").concat(null===r||void 0===r||null===(t=r.student)||void 0===t?void 0:t.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,S.jsxs)("div",{className:L.Z.applicant_profile_text,children:[(0,S.jsx)("h6",{children:"".concat(null===r||void 0===r||null===(i=r.student)||void 0===i?void 0:i.studentFirstName," ").concat(null!==r&&void 0!==r&&null!==(a=r.student)&&void 0!==a&&a.studentMiddleName?null===r||void 0===r||null===(d=r.student)||void 0===d?void 0:d.studentMiddleName:""," ").concat(null===r||void 0===r||null===(c=r.student)||void 0===c?void 0:c.studentLastName)}),(0,S.jsxs)("p",{children:[_("applied")," ",O()(null===r||void 0===r?void 0:r.select_on).format("DD MMM yyyy")]})]})]}),(0,S.jsxs)("section",{className:L.Z.button_group,children:[(0,S.jsx)("button",{onClick:function(){var e,n;m&&null!==r&&void 0!==r&&null!==(e=r.student)&&void 0!==e&&e._id&&(j((function(e){return!e})),N({aid:m,sid:null===r||void 0===r||null===(n=r.student)||void 0===n?void 0:n._id}).then((function(){h(),v(),j((function(e){return!e}))})).catch((function(){j((function(e){return!e}))})))},children:_("confirm")}),(0,S.jsx)("button",{onClick:function(){var e,n;m&&null!==r&&void 0!==r&&null!==(e=r.student)&&void 0!==e&&e._id&&(j((function(e){return!e})),y({aid:m,sid:null===r||void 0===r||null===(n=r.student)||void 0===n?void 0:n._id}).then((function(){h(),v(),j((function(e){return!e}))})).catch((function(){j((function(e){return!e}))})))},children:_("reject")})]})]}),x&&(0,S.jsx)(P.Z,{})]})},Y=t(4942),z=t(97655),X=t(59965),K=t(49886);var Q=function(e){var n,t,a,d,c,r=e.onClose,v=e.applicant,m=e.applicationId,h=e.onRefetchWhenConfirm,_=e.huid,f=e.viewAs,g=(0,l.useState)(!1),x=(0,u.Z)(g,2),j=x[0],Z=x[1],N=(0,o.$G)().t,A=(0,l.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),y=(0,u.Z)(A,2),b=y[0],C=y[1],E=(0,l.useState)({msg:"",run:!1}),w=(0,u.Z)(E,2),T=w[0],k=w[1],R=(0,l.useState)(""),D=(0,u.Z)(R,2),M=D[0],O=D[1],F=(0,p.Jg)(),q=(0,u.Z)(F,1)[0],B=(0,p.fl)(),H=(0,u.Z)(B,1)[0],U=function(e){"fee_payment_mode"===e.target.name?C((function(n){var t;return(0,i.Z)((0,i.Z)({},n),{},(t={},(0,Y.Z)(t,e.target.name,e.target.value),(0,Y.Z)(t,"mode","By Cash"===e.target.value?"Offline":"Online"),(0,Y.Z)(t,"fee_payment_mode",e.target.value),t))})):C((function(n){return(0,i.Z)((0,i.Z)({},n),{},(0,Y.Z)({},e.target.name,e.target.value))}))};return(0,S.jsxs)($.Z,{onClose:r,children:[(0,S.jsxs)("div",{className:L.Z.admission_modal,children:[(0,S.jsx)("h6",{className:L.Z.admission_modal_heading,children:N("collect_fees")}),(0,S.jsx)(s.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}})," ",(0,S.jsxs)("div",{className:L.Z.admission_fees_row,children:[(0,S.jsxs)("h6",{children:[N("applicable_amount")," :"]}),(0,S.jsxs)("h6",{children:["Rs. ",null===v||void 0===v||null===(n=v.student)||void 0===n||null===(t=n.hostel_fee_structure)||void 0===t?void 0:t.total_admission_fees]})]}),(0,S.jsx)(z.Z,{labelText:"".concat(N("amount_first_installment")," ").concat(null===v||void 0===v||null===(a=v.student)||void 0===a||null===(d=a.hostel_fee_structure)||void 0===d||null===(c=d.one_installments)||void 0===c?void 0:c.fees),name:"amount",type:"tel",value:b.amount,onChange:function(e){C((function(n){return(0,i.Z)((0,i.Z)({},n),{},{amount:+e.target.value,fee_payment_amount:+e.target.value})}))},placeholder:N("amoute_details_collect"),errorShow:M.fee_payment_amount,customStyleLabel:{marginTop:"15px",marginBottom:"7px"},customStyleContainer:{marginBottom:"15px"}}),(0,S.jsx)(K.Z,{paymentHeading:N("payment_type_mode"),onInputChange:U,errorShow:M.payment_type_mode}),(0,S.jsx)(X.Z,{labelText:N("select_date_of_transaction"),placeholder:N("please_select_date"),name:"transaction_date",value:b.transaction_date,onDateFunction:function(e){var n=null===e||void 0===e?void 0:e.split("/");C((function(e){return(0,i.Z)((0,i.Z)({},e),{},{transaction_date:"".concat(n[2],"-").concat(n[1],"-").concat(n[0])})}))},customStyleContainer:{position:"relative",marginTop:"0.5rem"},datePickerPosition:{position:"relative",top:"-15rem"},customStyleLabel:{marginTop:"15px"},errorShow:M.transaction_date}),"By Cash"===b.fee_payment_mode?"":(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(z.Z,{labelText:N("bank_name_collect"),name:"fee_bank_name",type:"tel",value:b.fee_bank_name,onChange:U,placeholder:N("please_enter_bank_name"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,S.jsx)(z.Z,{labelText:N("banke_holder_name"),name:"fee_bank_holder",type:"tel",value:b.fee_bank_holder,onChange:U,placeholder:N("please_enter_name_of_bank_holder"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,S.jsx)(z.Z,{labelText:N("cheque_dd_neft"),name:"fee_utr_reference",type:"tel",value:b.fee_utr_reference,onChange:U,placeholder:N("please_enter_utr_ref_number"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}})]}),(0,S.jsx)("div",{className:L.Z.confirm_btn,onClick:function(){var e=function(e){var n={};for(var t in e){var i,l;"fee_bank_name"===t||"fee_bank_holder"===t||"fee_utr_reference"===t||"amount"===t||"mode"===t||(e[t]?"fee_payment_amount"===t&&(e[t]<=(null===v||void 0===v||null===(i=v.student)||void 0===i||null===(l=i.hostel_fee_structure)||void 0===l?void 0:l.total_admission_fees)||(k({msg:"You can not enter amount greater than Admission fees",run:!0}),n.fee_payment_amount="".concat(t," is required!"))):n[t]="".concat(t," is required!"))}return n}(b),n=!1;for(var t in e){n=!0;break}if(n)O(e);else if(Z(!0),"RENEWAL"===f){var i,l,o,a={sid:null===v||void 0===v||null===(i=v.student)||void 0===i?void 0:i._id,aid:m,huid:_,collectFee:b};""!==(null===a||void 0===a?void 0:a.sid)&&""!==(null===a||void 0===a?void 0:a.aid)&&""!==(null===a||void 0===a?void 0:a.huid)&&(null===a||void 0===a||null===(l=a.collectFee)||void 0===l?void 0:l.amount)>0&&""!==(null===a||void 0===a||null===(o=a.collectFee)||void 0===o?void 0:o.mode)?H(a).then((function(e){e.data.confirm_status&&(h(),r(),Z(!1))})).catch({}):Z(!1)}else{var s,d,c,u={sid:null===v||void 0===v||null===(s=v.student)||void 0===s?void 0:s._id,aid:m,confirm_data:b,receipt_status:"Fee Receipt Not Generated"===b.fee_payment_mode?"Fee Receipt Not Generated":""};""!==(null===u||void 0===u?void 0:u.sid)&&""!==(null===u||void 0===u?void 0:u.aid)&&(null===u||void 0===u||null===(d=u.confirm_data)||void 0===d?void 0:d.amount)>0&&""!==(null===u||void 0===u||null===(c=u.confirm_data)||void 0===c?void 0:c.mode)?q(u).then((function(e){e.data.confirm_status&&(h(),r(),Z(!1))})).catch({}):Z(!1)}},children:N("collect")}),(0,S.jsx)(I.Ch,{msg:T.msg,run:T.run,setRun:function(){return k({msg:"",run:!1})},postiton:"bottom",type:"error"})]}),j&&(0,S.jsx)(P.Z,{})]})};var ee=function(e){var n,t,i,a,d=e.onClose,c=e.applicationId,r=e.currentApplicant,v=e.onRefetchWhenConfirm,p=(0,o.$G)().t,m=(0,l.useState)(!1),h=(0,u.Z)(m,2),_=h[0],f=h[1],g=(0,b.K7)(),x=(0,u.Z)(g,1)[0];return(0,S.jsxs)($.Z,{onClose:d,children:[(0,S.jsxs)("div",{className:L.Z.not_confirm_container,children:[(0,S.jsx)("h6",{children:p("collect_required_document")}),(0,S.jsx)(s.Z,{customStyle:{width:"100%"}}),(0,S.jsxs)("section",{className:L.Z.admission_collect_docs,children:[(0,S.jsx)("p",{children:p("collecting_documents_of_student")}),(0,S.jsx)("h6",{children:"".concat(null===r||void 0===r||null===(n=r.student)||void 0===n?void 0:n.studentFirstName," ").concat(null!==r&&void 0!==r&&null!==(t=r.student)&&void 0!==t&&t.studentMiddleName?null===r||void 0===r||null===(i=r.student)||void 0===i?void 0:i.studentMiddleName:""," ").concat(null===r||void 0===r||null===(a=r.student)||void 0===a?void 0:a.studentLastName)})]}),(0,S.jsx)("button",{onClick:function(){var e,n;f(!0),x({sid:null===r||void 0===r||null===(e=r.student)||void 0===e?void 0:e._id,aid:c,install_type:null===r||void 0===r?void 0:r.install_type,payment_status:null===r||void 0===r?void 0:r.payment_status,amount:null!==(n=+(null===r||void 0===r?void 0:r.fee_remain))&&void 0!==n?n:0}).then((function(){d(),v(),f(!1)})).catch({})},className:L.Z.confirm_btn,children:p("confirm")})]}),_&&(0,S.jsx)(P.Z,{})]})};var ne=function(e){var n=e.carryParentState,t=e.applicationId,i=e.hostelId,o=e.applicationDetail,a=e.accessRole,s=e.accessTpye,d=e.applicationDetailApplicablePending,c=e.pageOpenAs,p=(0,l.useState)(!0),h=(0,u.Z)(p,2),_=h[0],f=h[1],g=(0,l.useState)(1),x=(0,u.Z)(g,2),j=x[0],Z=x[1],N=(0,l.useState)(""),A=(0,u.Z)(N,2),y=A[0],C=A[1],E=(0,v.YD)(),I=(0,u.Z)(E,2),P=I[0],w=I[1],T=(0,l.useState)([]),k=(0,u.Z)(T,2),L=k[0],M=k[1],O=(0,l.useState)(!1),F=(0,u.Z)(O,2),q=F[0],B=F[1],H=(0,l.useState)(!0),U=(0,u.Z)(H,2),W=U[0],$=U[1],Y=(0,l.useState)(""),z=(0,u.Z)(Y,2),X=z[0],K=z[1],ne=(0,l.useState)(""),te=(0,u.Z)(ne,2),ie=te[0],le=te[1],oe=(0,b.sR)({data:{id:t,page:j,limit:10,search:y||""},skip:!t}),ae=oe.getAllSelectList,se=oe.getAllSelectListRefetch;(0,l.useEffect)((function(){w&&_&&Z((function(e){return e+1}))}),[w,_]),(0,l.useEffect)((function(){t&&($(!0),se())}),[j,t,se,y]),(0,l.useEffect)((function(){var e,n;y?(M(null===ae||void 0===ae?void 0:ae.select),$(!1)):q?(M(null===ae||void 0===ae?void 0:ae.select),B(!1),$(!1)):null!==ae&&void 0!==ae&&ae.select?(M((function(e){var n,t;return null===(n=(0,r.Z)(new Set(null===(t=[].concat((0,r.Z)(e),(0,r.Z)(null===ae||void 0===ae?void 0:ae.select)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),$(!1)):0===(null===ae||void 0===ae||null===(n=ae.select)||void 0===n?void 0:n.length)&&$(!1);10===(null===ae||void 0===ae||null===(e=ae.select)||void 0===e?void 0:e.length)?f(!0):f(!1)}),[null===ae||void 0===ae?void 0:ae.select]);var de=function(){Z(1),se(),B(!0)},ce=(0,l.useCallback)((0,D.debounce)((function(e){return C(e)}),500),[]),re=function(e){le(e),K("COLLECT_FEES")},ue=function(e){le(e),K("COLLECT_DOCS")},ve=function(e){le(e),K("MARK_CONFIRM")};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(R,{applicationDetail:o,carryParentState:n,applicationDetailApplicablePending:d,pageOpenAs:c,children:(0,S.jsx)("input",{type:"text",placeholder:"Search applications...",onChange:function(e){ce(e.target.value)}})}),(0,S.jsx)(G,{carryParentState:n,accessRole:a,accessTpye:s,pageOpenAs:c}),null===L||void 0===L?void 0:L.map((function(e,n){var l,a;return(null===L||void 0===L?void 0:L.length)===n+1?(0,S.jsx)("div",{ref:P,children:(0,S.jsx)(V,{applicant:e,onRefetchWhenConfirm:de,applicationId:t,hostelId:i,onSelectOffileFees:re,onCollectDocs:ue,onNotConfirm:ve,batchId:null===o||void 0===o||null===(l=o.applicationBatch)||void 0===l?void 0:l._id})},n):(0,S.jsx)(V,{applicant:e,onRefetchWhenConfirm:de,applicationId:t,hostelId:i,onSelectOffileFees:re,onCollectDocs:ue,onNotConfirm:ve,batchId:null===o||void 0===o||null===(a=o.applicationBatch)||void 0===a?void 0:a._id},n)})),W&&(0,S.jsx)(m.Z,{}),"MARK_CONFIRM"===X&&(0,S.jsx)(J,{currentApplicant:ie,applicationId:t,onRefetchWhenConfirm:de,onClose:function(){return K("")}}),"COLLECT_FEES"===X&&(0,S.jsx)(Q,{applicant:ie,applicationId:t,onRefetchWhenConfirm:de,onClose:function(){return K("")}}),"COLLECT_DOCS"===X&&(0,S.jsx)(ee,{applicant:ie,applicationId:t,onRefetchWhenConfirm:de,onClose:function(){return K("")}})]})},te=t(37782),ie=function(e){var n,i,s,d,c,r,v,p,m,h,_,f,g,x,j,Z,N,A=e.onCancelHostelApplication,y=e.onAllotBed,C=e.applicant,E=(0,o.$G)().t,I=(0,a.UO)(),w=(0,a.s0)(),T=(0,l.useState)(""),k=(0,u.Z)(T,2),R=k[0],D=k[1],M=(0,l.useState)(!1),O=(0,u.Z)(M,2),q=O[0],B=O[1],H=(0,l.useState)(""),U=(0,u.Z)(H,2),G=U[0],W=U[1],V=(0,b.$d)({rid:R,skip:!R}),$=V.getFeeReceiptDetail,J=V.getFeeReceiptDetailRefetch;(0,l.useEffect)((function(){R&&J()}),[R,J]),(0,l.useEffect)((function(){null!==$&&void 0!==$&&$.receipt&&null!==$&&void 0!==$&&$.all_remain&&W($)}),[$]),(0,l.useEffect)((function(){if(G){var e=(0,te.sp)(null===G||void 0===G?void 0:G.all_remain,null===G||void 0===G?void 0:G.receipt),n=e.institute,i=e.studentInfo,l=e.paymentReceiptInfo,o=new Worker(new URL(t.p+t.u(9889),t.b));o.postMessage({institute:n,studentInfo:i,paymentReceiptInfo:l,printReceiptType:"Refunded"===(null===l||void 0===l?void 0:l.transactonRefund)?"HOSTEL_REFUND":"HOSTEL"}),o.onmessage=function(e){e&&(window.open(e.data,"_blank"),B((function(e){return!e})),W(""),o.terminate())}}}),[G]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_container,onClick:function(){var e;w("/q/".concat(I.username,"/student/profile"),{state:{sid:null===C||void 0===C||null===(e=C.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_inner,children:[(0,S.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===C||void 0===C||null===(n=C.student)||void 0===n?void 0:n.photoId)?"".concat(F.yI,"/").concat(null===C||void 0===C||null===(i=C.student)||void 0===i?void 0:i.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,S.jsxs)("div",{className:L.Z.applicant_card_inner_info,children:[(0,S.jsx)("h6",{children:"".concat(null===C||void 0===C||null===(s=C.student)||void 0===s?void 0:s.studentFirstName," ").concat(null!==C&&void 0!==C&&null!==(d=C.student)&&void 0!==d&&d.studentMiddleName?null===C||void 0===C||null===(c=C.student)||void 0===c?void 0:c.studentMiddleName:""," ").concat(null===C||void 0===C||null===(r=C.student)||void 0===r?void 0:r.studentLastName)}),(0,S.jsx)("p",{onClick:function(e){e.stopPropagation(),A(C)},className:L.Z.cancelStatus,children:E("cancel_admision")})]})]}),(0,S.jsxs)("div",{className:L.Z.applicant_card_contact,children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_contact_inner,children:[(0,S.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,S.jsx)("p",{children:null===C||void 0===C||null===(v=C.student)||void 0===v?void 0:v.studentGender})]}),((null===C||void 0===C||null===(p=C.student)||void 0===p?void 0:p.studentPhoneNumber)||(null===C||void 0===C||null===(m=C.student)||void 0===m?void 0:m.studentParentsPhoneNumber))&&(0,S.jsxs)("div",{className:L.Z.applicant_card_contact_inner,children:[(0,S.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,S.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==C&&void 0!==C&&null!==(h=C.student)&&void 0!==h&&h.studentPhoneNumber?null===C||void 0===C||null===(_=C.student)||void 0===_?void 0:_.studentPhoneNumber:null===C||void 0===C||null===(f=C.student)||void 0===f?void 0:f.studentParentsPhoneNumber})]})]}),(0,S.jsx)("div",{className:L.Z.applicant_card_reciept,onClick:function(e){e.stopPropagation()},children:(0,S.jsx)("a",{href:"".concat(F.r3,"/").concat(null===C||void 0===C||null===(g=C.student)||void 0===g||null===(x=g.application_print)||void 0===x||null===(j=x[0])||void 0===j?void 0:j.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-4.5px"},children:(0,S.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,S.jsx)("div",{className:L.Z.applicant_card_reciept,children:null===C||void 0===C||null===(Z=C.student)||void 0===Z||null===(N=Z.fee_receipt)||void 0===N?void 0:N.map((function(e,n){return n>2?"":(0,S.jsx)("img",{src:"/images/member_tab/admission/admission-receipt-download.svg",onClick:function(n){return function(e,n){e.stopPropagation(),B((function(e){return!e})),D(n),R===n&&W($)}(n,e)},alt:"receipt icon",title:"Download Fees Receipt"})}))}),(0,S.jsx)("div",{className:L.Z.selectBtnContainer,style:{width:"auto"},children:(0,S.jsx)("div",{className:L.Z.selectBtn,onClick:function(e){e.stopPropagation(),y(C)},children:E("allot_bed")})})]}),q&&(0,S.jsx)(P.Z,{})]})};var le=function(e){var n,t,a,d,c=e.currentApplicant,r=e.onClose,v=e.onRefetchWhenAction,m=e.applicationId,h=e.viewAs,_=e.huid,f=(0,o.$G)().t,g=(0,l.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),x=(0,u.Z)(g,2),j=x[0],Z=x[1],N=(0,l.useState)(""),A=(0,u.Z)(N,2),y=A[0],b=A[1],C=(0,l.useState)(0),E=(0,u.Z)(C,2),w=E[0],T=E[1],k=(0,l.useState)({msg:"",run:!1}),R=(0,u.Z)(k,2),D=R[0],M=R[1],O=(0,l.useState)(!1),F=(0,u.Z)(O,2),q=F[0],B=F[1],H=(0,p.H$)(),U=(0,u.Z)(H,1)[0],G=(0,p.UV)(),W=(0,u.Z)(G,1)[0];(0,l.useEffect)((function(){var e,n;if(null!==c&&void 0!==c&&null!==(e=c.student)&&void 0!==e&&null!==(n=e.paidFeeList)&&void 0!==n&&n.length){var t,i,l,o,a=null===c||void 0===c||null===(t=c.student)||void 0===t||null===(i=t.paidFeeList)||void 0===i?void 0:i.filter((function(e){return(null===e||void 0===e?void 0:e.appId)===m}));T(null!==(l=null===a||void 0===a||null===(o=a[0])||void 0===o?void 0:o.paidAmount)&&void 0!==l?l:0)}}),[null===c||void 0===c||null===(n=c.student)||void 0===n?void 0:n.paidFeeList]);var V=function(e){"fee_payment_mode"===e.target.name?Z((function(n){var t;return(0,i.Z)((0,i.Z)({},n),{},(t={},(0,Y.Z)(t,e.target.name,e.target.value),(0,Y.Z)(t,"mode","By Cash"===e.target.value?"Offline":"Online"),(0,Y.Z)(t,"fee_payment_mode",e.target.value),t))})):Z((function(n){return(0,i.Z)((0,i.Z)({},n),{},(0,Y.Z)({},e.target.name,e.target.value))}))};return(0,S.jsxs)(S.Fragment,{children:[!q&&(0,S.jsxs)($.Z,{onClose:r,children:[(0,S.jsxs)("div",{className:L.Z.admission_modal,children:[(0,S.jsx)("h6",{className:L.Z.admission_modal_heading,children:f("RENEWAL"===h?"cancel_renewal_addmission":"cancel_addmission")}),(0,S.jsx)(s.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),(0,S.jsxs)("div",{className:L.Z.admission_fees_row,children:[(0,S.jsxs)("h6",{children:[f("total_admission_fees")," :"]}),(0,S.jsxs)("h6",{children:[f("rs"),"."," ",null!==(t=null===c||void 0===c||null===(a=c.student)||void 0===a||null===(d=a.hostel_fee_structure)||void 0===d?void 0:d.total_admission_fees)&&void 0!==t?t:0]})]}),(0,S.jsxs)("div",{className:L.Z.admission_fees_row,children:[(0,S.jsxs)("h6",{children:[f("fees_paid")," :"]}),(0,S.jsxs)("h6",{children:[f("rs"),". ",w]})]}),(0,S.jsx)(K.Z,{paymentHeading:f("refund_payment_type_mode"),onInputChange:V,errorShow:y.payment_type_mode}),(0,S.jsx)(z.Z,{labelText:f("refund_amount"),name:"amount",type:"tel",value:j.amount,onChange:function(e){Z((function(n){return(0,i.Z)((0,i.Z)({},n),{},{amount:+e.target.value,fee_payment_amount:+e.target.value})}))},placeholder:f("please_enter_refund_amount"),errorShow:y.fee_payment_amount}),"RENEWAL"===h?null:(0,S.jsx)(X.Z,{labelText:f("select_date_of_transaction"),placeholder:f("please_select_date"),name:"transaction_date",value:j.transaction_date,onDateFunction:function(e){var n=null===e||void 0===e?void 0:e.split("/");Z((function(e){return(0,i.Z)((0,i.Z)({},e),{},{transaction_date:"".concat(n[2],"-").concat(n[1],"-").concat(n[0])})}))},customStyleContainer:{position:"relative",marginTop:"0.5rem"},datePickerPosition:{position:"relative",top:"-20rem"},customStyleLabel:{marginTop:"15px"},errorShow:y.transaction_date}),(0,S.jsx)("h6",{style:{marginTop:"0.5rem"},children:f("paid_to")}),(0,S.jsx)(z.Z,{labelText:f("bank_name_collect"),name:"fee_bank_name",type:"tel",value:j.fee_bank_name,onChange:V,placeholder:f("please_enter_bank_name"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,S.jsx)(z.Z,{labelText:f("banke_holder_name"),name:"fee_bank_holder",type:"tel",value:j.fee_bank_holder,onChange:V,placeholder:f("please_enter_name_of_bank_holder"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,S.jsx)(z.Z,{labelText:f("cheque_dd_neft"),name:"fee_utr_reference",type:"tel",value:j.fee_utr_reference,onChange:V,placeholder:f("please_enter_utr_ref_number"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,S.jsx)("div",{className:L.Z.confirm_btn,onClick:function(){var e,n,t,l,o,a,s,d,u,p,f,g,x,Z,S=function(e){var n={};for(var t in e)"fee_bank_name"===t||"fee_bank_holder"===t||"fee_utr_reference"===t||"amount"===t||"mode"===t||(e[t]?"fee_payment_amount"===t&&(e[t]<=w||(M({msg:"You can not enter amount greater than fees paid",run:!0}),n.fee_payment_amount_issue="".concat(t," is required!"))):n[t]="".concat(t," is required!"));return n}(j),N=!1;for(var A in S){N=!0;break}N?b(S):(B(!0),"RENEWAL"===h?""!==(null===(t=Z={sid:null===c||void 0===c||null===(e=c.student)||void 0===e?void 0:e._id,aid:m,huid:_,cancelRenewal:(0,i.Z)((0,i.Z)({},j),{},{remainAmount:null!==(n=null===c||void 0===c?void 0:c.fee_remain)&&void 0!==n?n:0})})||void 0===t?void 0:t.sid)&&""!==(null===(l=Z)||void 0===l?void 0:l.aid)&&""!==(null===(o=Z)||void 0===o?void 0:o.huid)&&(null===(a=Z)||void 0===a||null===(s=a.cancelRenewal)||void 0===s?void 0:s.amount)>0&&W(Z).then((function(e){e.data.refund_status&&(v(),r(),B(!1))})).catch({}):""!==(null===(p=Z={sid:null===c||void 0===c||null===(d=c.student)||void 0===d?void 0:d._id,aid:m,cancel_data:(0,i.Z)((0,i.Z)({},j),{},{remainAmount:null!==(u=null===c||void 0===c?void 0:c.fee_remain)&&void 0!==u?u:0})})||void 0===p?void 0:p.sid)&&""!==(null===(f=Z)||void 0===f?void 0:f.aid)&&(null===(g=Z)||void 0===g||null===(x=g.cancel_data)||void 0===x?void 0:x.amount)>0&&U(Z).then((function(e){e.data.refund_status&&(v(),r(),B(!1))})).catch({}))},children:f("confirm")})]}),(0,S.jsx)(I.Ch,{msg:D.msg,run:D.run,setRun:function(){return M({msg:"",run:!1})},postiton:"bottom",type:"error"})]}),q&&(0,S.jsx)(P.Z,{})]})},oe=t(41233),ae=t(87457),se=t(91022),de=function(e){var n,t,a=e.onClose,d=e.currentApplicant,c=e.applicationId,r=e.onRefetchWhenAction,v=e.unitId,m=e.viewAs,h=e.instituteId,_=(0,o.$G)().t,f=(0,l.useState)(""),g=(0,u.Z)(f,2),x=g[0],j=g[1],Z=(0,l.useState)(!1),N=(0,u.Z)(Z,2),A=N[0],y=N[1],b=(0,l.useState)("RENEWAL"===m),C=(0,u.Z)(b,2),E=C[0],I=C[1],w=(0,l.useState)(""),T=(0,u.Z)(w,2),k=T[0],R=T[1],D=(0,l.useState)({hrid:""}),L=(0,u.Z)(D,2),M=L[0],O=L[1],F=(0,p.An)(),q=(0,u.Z)(F,1)[0],B=(0,p.aZ)(),H=(0,u.Z)(B,1)[0],U=(0,p.CO)({data:{huid:v,page:1,limit:1e3,search:""},skip:!v}),G=U.getRoomListHostelUnit,W=U.getRoomListHostelUnitRefetch;(0,l.useEffect)((function(){v&&W()}),[v,W]);return(0,S.jsx)($.Z,{onClose:a,children:(0,S.jsxs)("div",{className:ae.Z.add_category_modal,style:{width:"30rem",maxHeight:"35rem"},children:[(0,S.jsxs)("div",{className:ae.Z.add_category_modal_title,children:[(0,S.jsx)("h6",{children:_("allot_bed_to_hostelite")}),(0,S.jsx)("img",{src:"/images/close-post-icon.svg",onClick:a,alt:""})]}),(0,S.jsx)(s.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),"RENEWAL"===m&&(0,S.jsx)(se.Z,{selectLabel:_("allot_same_bed_as_previous"),selectedValue:_("select_yes_or_no"),options:["Yes","No"],value:k,errorShow:x.same_allot,onClick:function(e){I("Yes"===e),R(e)}}),!E&&(0,S.jsx)(oe.Z,{selectLabel:_("select_unit_room"),onClick:function(e){O((function(n){return(0,i.Z)((0,i.Z)({},n),{},{hrid:e})}))},selectedValue:_("select_unit_room_placeholder"),options:null!==(n=null===G||void 0===G||null===(t=G.all_rooms)||void 0===t?void 0:t.filter((function(e){return(null===e||void 0===e?void 0:e.vacant_count)>0?e:null})))&&void 0!==n?n:[],errorShow:x.hrid}),(0,S.jsx)("button",{className:ae.Z.set_fees_structure_btn,title:"Allot Hostel",onClick:function(){if(h){var e,n,t="RENEWAL"===m?function(e,n){var t={};if("No"===k)for(var i in e)e[i]||(t[i]="".concat(i," is required!"));return n||(t.same_allot="same_allot is required!"),t}(M,k):function(e){var n={};for(var t in e)e[t]||(n[t]="".concat(t," is required!"));return n}(M),l=!1;for(var o in t)if(o){l=!0;break}if(l)j(t);else if(y((function(e){return!e})),"RENEWAL"===m)H({aid:c,huid:v,allotBed:{dataList:[null===d||void 0===d||null===(e=d.student)||void 0===e?void 0:e._id],hrid:M.hrid,bed_mode:"Yes"===k?"Same":"Different"}}).then((function(){r(),a(),y((function(e){return!e}))})).catch({});else q((0,i.Z)((0,i.Z)({aid:c,huid:v},M),{},{id:h,allot_bed:{dataList:[null===d||void 0===d||null===(n=d.student)||void 0===n?void 0:n._id]}})).then((function(){r(),a(),y((function(e){return!e}))})).catch({})}},style:{justifyContent:"center"},children:_("allot_bed")}),A&&(0,S.jsx)(P.Z,{})]})})};var ce=function(e){var n=e.carryParentState,t=e.applicationId,i=e.hostelId,o=e.applicationDetail,a=e.unitId,s=e.accessRole,d=e.accessTpye,c=e.applicationDetailApplicablePending,p=e.pageOpenAs,h=e.instituteId,_=(0,l.useState)(!0),f=(0,u.Z)(_,2),g=f[0],x=f[1],j=(0,l.useState)(1),Z=(0,u.Z)(j,2),N=Z[0],A=Z[1],y=(0,l.useState)(""),C=(0,u.Z)(y,2),E=C[0],I=C[1],P=(0,v.YD)(),w=(0,u.Z)(P,2),T=w[0],k=w[1],L=(0,l.useState)([]),M=(0,u.Z)(L,2),O=M[0],F=M[1],q=(0,l.useState)(!1),B=(0,u.Z)(q,2),H=B[0],U=B[1],W=(0,l.useState)(!0),V=(0,u.Z)(W,2),$=V[0],J=V[1],Y=(0,l.useState)(""),z=(0,u.Z)(Y,2),X=z[0],K=z[1],Q=(0,l.useState)(""),ee=(0,u.Z)(Q,2),ne=ee[0],te=ee[1],oe=(0,b.RR)({data:{id:t,page:N,limit:10,search:E||""},skip:!t}),ae=oe.getAllConfirmList,se=oe.getAllConfirmListRefetch;(0,l.useEffect)((function(){k&&g&&A((function(e){return e+1}))}),[k,g]),(0,l.useEffect)((function(){t&&(J(!0),se())}),[N,t,se,E]),(0,l.useEffect)((function(){var e,n;E?(F(null===ae||void 0===ae?void 0:ae.confirm),J(!1)):H?(F(null===ae||void 0===ae?void 0:ae.confirm),U(!1),J(!1)):null!==ae&&void 0!==ae&&ae.confirm?(F((function(e){var n,t;return null===(n=(0,r.Z)(new Set(null===(t=[].concat((0,r.Z)(e),(0,r.Z)(null===ae||void 0===ae?void 0:ae.confirm)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),J(!1)):0===(null===ae||void 0===ae||null===(n=ae.confirm)||void 0===n?void 0:n.length)&&J(!1);10===(null===ae||void 0===ae||null===(e=ae.confirm)||void 0===e?void 0:e.length)?x(!0):x(!1)}),[null===ae||void 0===ae?void 0:ae.confirm]);var ce=function(){A(1),se(),U(!0)},re=(0,l.useCallback)((0,D.debounce)((function(e){return I(e)}),500),[]),ue=function(e){te(e),K("CANCEL_APPLICANT")},ve=function(e){te(e),K("ALLOT_BED")};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(R,{applicationDetail:o,carryParentState:n,tabStatusFlow:"Confirm_Query",applicationDetailApplicablePending:c,pageOpenAs:p,children:(0,S.jsx)("input",{type:"text",placeholder:"Search applications...",onChange:function(e){re(e.target.value)}})}),(0,S.jsx)(G,{carryParentState:n,accessRole:s,accessTpye:d,pageOpenAs:p}),null===O||void 0===O?void 0:O.map((function(e,n){return(null===O||void 0===O?void 0:O.length)===n+1?(0,S.jsx)("div",{ref:T,children:(0,S.jsx)(ie,{applicant:e,onCancelHostelApplication:ue,onAllotBed:ve})},n):(0,S.jsx)(ie,{applicant:e,onCancelHostelApplication:ue,onAllotBed:ve},n)})),$&&(0,S.jsx)(m.Z,{}),"CANCEL_APPLICANT"===X&&(0,S.jsx)(le,{currentApplicant:ne,applicationId:t,onRefetchWhenAction:ce,onClose:function(){return K("")}}),"ALLOT_BED"===X&&(0,S.jsx)(de,{currentApplicant:ne,applicationId:t,onRefetchWhenAction:ce,onClose:function(){return K("")},hostelId:i,unitId:a,instituteId:h})]})},re=function(e){var n,i,s,d,c,r,v,p,m,h,_,f,g,x,j,Z,N,A,y,C,E,I,w=e.applicant,T=(0,o.$G)().t,k=(0,a.UO)(),R=(0,a.s0)(),D=(0,l.useState)(""),M=(0,u.Z)(D,2),O=M[0],q=M[1],B=(0,l.useState)(!1),H=(0,u.Z)(B,2),U=H[0],G=H[1],W=(0,l.useState)(""),V=(0,u.Z)(W,2),$=V[0],J=V[1],Y=(0,b.$d)({rid:O,skip:!O}),z=Y.getFeeReceiptDetail,X=Y.getFeeReceiptDetailRefetch;(0,l.useEffect)((function(){O&&X()}),[O,X]),(0,l.useEffect)((function(){null!==z&&void 0!==z&&z.receipt&&null!==z&&void 0!==z&&z.all_remain&&J(z)}),[z]),(0,l.useEffect)((function(){if($){var e=(0,te.sp)(null===$||void 0===$?void 0:$.all_remain,null===$||void 0===$?void 0:$.receipt),n=e.institute,i=e.studentInfo,l=e.paymentReceiptInfo,o=new Worker(new URL(t.p+t.u(1756),t.b));o.postMessage({institute:n,studentInfo:i,paymentReceiptInfo:l,printReceiptType:"Refunded"===(null===l||void 0===l?void 0:l.transactonRefund)?"HOSTEL_REFUND":"HOSTEL"}),o.onmessage=function(e){e&&(window.open(e.data,"_blank"),G((function(e){return!e})),J(""),o.terminate())}}}),[$]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_container,onClick:function(){var e;R("/q/".concat(k.username,"/student/profile"),{state:{sid:null===w||void 0===w||null===(e=w.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_inner,children:[(0,S.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===w||void 0===w||null===(n=w.student)||void 0===n?void 0:n.photoId)?"".concat(F.yI,"/").concat(null===w||void 0===w||null===(i=w.student)||void 0===i?void 0:i.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,S.jsxs)("div",{className:L.Z.applicant_card_inner_info,children:[(0,S.jsx)("h6",{children:"".concat(null===w||void 0===w||null===(s=w.student)||void 0===s?void 0:s.studentFirstName," ").concat(null!==w&&void 0!==w&&null!==(d=w.student)&&void 0!==d&&d.studentMiddleName?null===w||void 0===w||null===(c=w.student)||void 0===c?void 0:c.studentMiddleName:""," ").concat(null===w||void 0===w||null===(r=w.student)||void 0===r?void 0:r.studentLastName)}),(0,S.jsxs)("p",{children:[T("room_name")," "," : ",(null===w||void 0===w||null===(v=w.student)||void 0===v||null===(p=v.student_bed_number)||void 0===p||null===(m=p.hostelRoom)||void 0===m?void 0:m.room_name)||""," / ",T("bed_name")," "," : ","".concat((null===w||void 0===w||null===(h=w.student)||void 0===h||null===(_=h.student_bed_number)||void 0===_?void 0:_.bed_number)||"")]})]})]}),(0,S.jsxs)("div",{className:L.Z.applicant_card_contact,children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_contact_inner,children:[(0,S.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,S.jsx)("p",{children:null===w||void 0===w||null===(f=w.student)||void 0===f?void 0:f.studentGender})]}),((null===w||void 0===w||null===(g=w.student)||void 0===g?void 0:g.studentPhoneNumber)||(null===w||void 0===w||null===(x=w.student)||void 0===x?void 0:x.studentParentsPhoneNumber))&&(0,S.jsxs)("div",{className:L.Z.applicant_card_contact_inner,children:[(0,S.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,S.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==w&&void 0!==w&&null!==(j=w.student)&&void 0!==j&&j.studentPhoneNumber?null===w||void 0===w||null===(Z=w.student)||void 0===Z?void 0:Z.studentPhoneNumber:null===w||void 0===w||null===(N=w.student)||void 0===N?void 0:N.studentParentsPhoneNumber})]})]}),(0,S.jsx)("div",{className:L.Z.applicant_card_reciept,onClick:function(e){e.stopPropagation()},children:(0,S.jsx)("a",{href:"".concat(F.r3,"/").concat(null===w||void 0===w||null===(A=w.student)||void 0===A||null===(y=A.application_print)||void 0===y||null===(C=y[0])||void 0===C?void 0:C.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,S.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,S.jsx)("div",{className:L.Z.applicant_card_reciept,children:null===w||void 0===w||null===(E=w.student)||void 0===E||null===(I=E.fee_receipt)||void 0===I?void 0:I.map((function(e,n){return n>2?"":(0,S.jsx)("img",{src:"/images/member_tab/admission/admission-receipt-download.svg",onClick:function(n){return function(e,n){e.stopPropagation(),G((function(e){return!e})),q(n),O===n&&J(z)}(n,e)},alt:"receipt icon",title:"Download Fees Receipt"})}))})]}),U&&(0,S.jsx)(P.Z,{})]})},ue=function(e){var n=e.carryParentState,t=e.applicationId,i=e.applicationDetail,o=e.viewAs,a=e.accessRole,s=e.accessTpye,d=e.applicationDetailApplicablePending,c=e.pageOpenAs,p=(0,l.useState)(!0),h=(0,u.Z)(p,2),_=h[0],f=h[1],g=(0,l.useState)(1),x=(0,u.Z)(g,2),j=x[0],Z=x[1],N=(0,v.YD)(),A=(0,u.Z)(N,2),y=A[0],C=A[1],E=(0,l.useState)([]),I=(0,u.Z)(E,2),P=I[0],w=I[1],T=(0,l.useState)(!0),k=(0,u.Z)(T,2),L=k[0],M=k[1],O=(0,l.useState)(""),F=(0,u.Z)(O,2),q=F[0],B=F[1],H=(0,b.k8)({data:{aid:t,page:j,limit:10,search:q||""},skip:!t}),U=H.admissionAllottedList,W=H.admissionAllottedListRefetch;(0,l.useEffect)((function(){C&&_&&Z((function(e){return e+1}))}),[C,_]),(0,l.useEffect)((function(){t&&(M(!0),W())}),[j,t,W,q]),(0,l.useEffect)((function(){var e,n;q?(w(null===U||void 0===U?void 0:U.allot),M(!1)):null!==U&&void 0!==U&&U.allot?(w((function(e){var n,t;return null===(n=(0,r.Z)(new Set(null===(t=[].concat((0,r.Z)(e),(0,r.Z)(null===U||void 0===U?void 0:U.allot)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),M(!1)):0===(null===U||void 0===U||null===(n=U.allot)||void 0===n?void 0:n.length)&&M(!1);10===(null===U||void 0===U||null===(e=U.allot)||void 0===e?void 0:e.length)?f(!0):f(!1)}),[null===U||void 0===U?void 0:U.allot]);var V=(0,l.useCallback)((0,D.debounce)((function(e){return B(e)}),500),[]);return(0,S.jsxs)(S.Fragment,{children:["COMPLETED_APPLICATION"===o?"":(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(R,{applicationDetail:i,carryParentState:n,tabStatusFlow:"Allot_Query",applicationDetailApplicablePending:d,pageOpenAs:c,children:(0,S.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:function(e){V(e.target.value)}})}),(0,S.jsx)(G,{carryParentState:n,accessRole:a,accessTpye:s,pageOpenAs:c})]}),null===P||void 0===P?void 0:P.map((function(e,n){return(null===P||void 0===P?void 0:P.length)===n+1?(0,S.jsx)("div",{ref:y,children:(0,S.jsx)(re,{applicant:e})},n):(0,S.jsx)(re,{applicant:e},n)})),L&&(0,S.jsx)(m.Z,{})]})},ve=function(e){var n,i,o,s,d,c,r,v,p,m,h,_,f,g,x,j,Z,N=e.applicant,A=(0,a.UO)(),y=(0,a.s0)(),C=(0,l.useState)(""),E=(0,u.Z)(C,2),I=E[0],w=E[1],T=(0,l.useState)(!1),k=(0,u.Z)(T,2),R=k[0],D=k[1],M=(0,l.useState)(""),O=(0,u.Z)(M,2),q=O[0],B=O[1],H=(0,b.$d)({rid:I,skip:!I}),U=H.getFeeReceiptDetail,G=H.getFeeReceiptDetailRefetch;(0,l.useEffect)((function(){I&&G()}),[I,G]),(0,l.useEffect)((function(){null!==U&&void 0!==U&&U.receipt&&null!==U&&void 0!==U&&U.all_remain&&B(U)}),[U]),(0,l.useEffect)((function(){if(q){var e=(0,te.sp)(null===q||void 0===q?void 0:q.all_remain,null===q||void 0===q?void 0:q.receipt),n=e.institute,i=e.studentInfo,l=e.paymentReceiptInfo,o=new Worker(new URL(t.p+t.u(5059),t.b));o.postMessage({institute:n,studentInfo:i,paymentReceiptInfo:l,printReceiptType:"Refunded"===(null===l||void 0===l?void 0:l.transactonRefund)?"HOSTEL_REFUND":"HOSTEL"}),o.onmessage=function(e){e&&(window.open(e.data,"_blank"),D((function(e){return!e})),B(""),o.terminate())}}}),[q]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_container,onClick:function(){var e;y("/q/".concat(A.username,"/student/profile"),{state:{sid:null===N||void 0===N||null===(e=N.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_inner,children:[(0,S.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===N||void 0===N||null===(n=N.student)||void 0===n?void 0:n.photoId)?"".concat(F.yI,"/").concat(null===N||void 0===N||null===(i=N.student)||void 0===i?void 0:i.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,S.jsxs)("div",{className:L.Z.applicant_card_inner_info,children:[(0,S.jsx)("h6",{children:"".concat(null===N||void 0===N||null===(o=N.student)||void 0===o?void 0:o.studentFirstName," ").concat(null!==N&&void 0!==N&&null!==(s=N.student)&&void 0!==s&&s.studentMiddleName?null===N||void 0===N||null===(d=N.student)||void 0===d?void 0:d.studentMiddleName:""," ").concat(null===N||void 0===N||null===(c=N.student)||void 0===c?void 0:c.studentLastName)}),(0,S.jsxs)("p",{children:["Rs. ",null===N||void 0===N?void 0:N.refund_amount," ","Refund"===(null===N||void 0===N?void 0:N.payment_status)&&"Refunded"]})]})]}),(0,S.jsxs)("div",{className:L.Z.applicant_card_contact,children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_contact_inner,children:[(0,S.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,S.jsx)("p",{children:null===N||void 0===N||null===(r=N.student)||void 0===r?void 0:r.studentGender})]}),((null===N||void 0===N||null===(v=N.student)||void 0===v?void 0:v.studentPhoneNumber)||(null===N||void 0===N||null===(p=N.student)||void 0===p?void 0:p.studentParentsPhoneNumber))&&(0,S.jsxs)("div",{className:L.Z.applicant_card_contact_inner,children:[(0,S.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,S.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==N&&void 0!==N&&null!==(m=N.student)&&void 0!==m&&m.studentPhoneNumber?null===N||void 0===N||null===(h=N.student)||void 0===h?void 0:h.studentPhoneNumber:null===N||void 0===N||null===(_=N.student)||void 0===_?void 0:_.studentParentsPhoneNumber})]})]}),(0,S.jsx)("div",{className:L.Z.applicant_card_reciept,onClick:function(e){e.stopPropagation()},children:(0,S.jsx)("a",{href:"".concat(F.r3,"/").concat(null===N||void 0===N||null===(f=N.student)||void 0===f||null===(g=f.application_print)||void 0===g||null===(x=g[0])||void 0===x?void 0:x.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,S.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,S.jsx)("div",{className:L.Z.applicant_card_reciept,children:null===N||void 0===N||null===(j=N.student)||void 0===j||null===(Z=j.fee_receipt)||void 0===Z?void 0:Z.map((function(e,n){return n>2?"":(0,S.jsx)("img",{src:"/images/member_tab/admission/admission-receipt-download.svg",onClick:function(n){return function(e,n){e.stopPropagation(),D((function(e){return!e})),w(n),I===n&&B(U)}(n,e)},alt:"receipt icon",title:"Download Fees Receipt"})}))})]}),R&&(0,S.jsx)(P.Z,{})]})},pe=function(e){var n=e.carryParentState,t=e.applicationId,i=e.applicationDetail,o=e.viewAs,a=e.accessRole,s=e.accessTpye,d=e.applicationDetailApplicablePending,c=e.pageOpenAs,p=(0,l.useState)(!0),h=(0,u.Z)(p,2),_=h[0],f=h[1],g=(0,l.useState)(1),x=(0,u.Z)(g,2),j=x[0],Z=x[1],N=(0,v.YD)(),A=(0,u.Z)(N,2),y=A[0],C=A[1],E=(0,l.useState)([]),I=(0,u.Z)(E,2),P=I[0],w=I[1],T=(0,l.useState)(""),k=(0,u.Z)(T,2),L=k[0],M=k[1],O=(0,l.useState)(!0),F=(0,u.Z)(O,2),q=F[0],B=F[1],H=(0,b.wd)({data:{aid:t,page:j,limit:10,search:L||""},skip:!t}),U=H.admissionCancelledList,W=H.admissionCancelledListRefetch;(0,l.useEffect)((function(){C&&_&&Z((function(e){return e+1}))}),[C,_]),(0,l.useEffect)((function(){t&&(B(!0),W())}),[j,t,W]),(0,l.useEffect)((function(){var e,n;L?(w(null===U||void 0===U?void 0:U.cancel),B(!1)):null!==U&&void 0!==U&&U.cancel?(w((function(e){var n,t;return null===(n=(0,r.Z)(new Set(null===(t=[].concat((0,r.Z)(e),(0,r.Z)(null===U||void 0===U?void 0:U.cancel)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),B(!1)):0===(null===U||void 0===U||null===(n=U.cancel)||void 0===n?void 0:n.length)&&B(!1);10===(null===U||void 0===U||null===(e=U.cancel)||void 0===e?void 0:e.length)?f(!0):f(!1)}),[null===U||void 0===U?void 0:U.cancel]);var V=(0,l.useCallback)((0,D.debounce)((function(e){return M(e)}),500),[]);return(0,S.jsxs)(S.Fragment,{children:["COMPLETED_APPLICATION"===o?"":(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(R,{applicationDetail:i,carryParentState:n,applicationDetailApplicablePending:d,pageOpenAs:c,children:(0,S.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:function(e){V(e.target.value)}})}),(0,S.jsx)(G,{carryParentState:n,accessRole:a,accessTpye:s,pageOpenAs:c})]}),null===P||void 0===P?void 0:P.map((function(e,n){return(null===P||void 0===P?void 0:P.length)===n+1?(0,S.jsx)("div",{ref:y,children:(0,S.jsx)(ve,{applicant:e})},n):(0,S.jsx)(ve,{applicant:e},n)})),q&&(0,S.jsx)(m.Z,{})]})},me=function(e){var n,t,i,o,s,d,c,r,u,v,m,h,_,f,g=e.carryParentState,x=e.hid,j=e.accessRole,Z=e.accessTpye,N=e.pageOpenAs,A=e.instituteId,y=(0,a.TH)(),b=(0,p.h4)({aid:null===(n=y.state)||void 0===n?void 0:n.applicationId,skip:!(null!==(t=y.state)&&void 0!==t&&t.applicationId)}),C=b.getHostelAppliciontDetail,E=b.getHostelAppliciontDetailRefetch;return(0,l.useEffect)((function(){var e;null!==(e=y.state)&&void 0!==e&&e.applicationId&&E()}),[null===(i=y.state)||void 0===i?void 0:i.applicationId,E]),(0,S.jsxs)(S.Fragment,{children:["application"===(null===(o=y.search)||void 0===o?void 0:o.substring(21))&&(0,S.jsx)(W,{applicationId:null===(s=y.state)||void 0===s?void 0:s.applicationId,hostelId:x,carryParentState:g,applicationDetail:null===C||void 0===C?void 0:C.oneApply,accessRole:j,accessTpye:Z,applicationDetailApplicablePending:null===C||void 0===C?void 0:C.applicable_pending,pageOpenAs:N}),"select"===(null===(d=y.search)||void 0===d?void 0:d.substring(21))&&(0,S.jsx)(ne,{applicationId:null===(c=y.state)||void 0===c?void 0:c.applicationId,hostelId:x,carryParentState:g,applicationDetail:null===C||void 0===C?void 0:C.oneApply,accessRole:j,accessTpye:Z,applicationDetailApplicablePending:null===C||void 0===C?void 0:C.applicable_pending,pageOpenAs:N}),"confirm"===(null===(r=y.search)||void 0===r?void 0:r.substring(21))&&(0,S.jsx)(ce,{applicationId:null===(u=y.state)||void 0===u?void 0:u.applicationId,hostelId:x,carryParentState:g,applicationDetail:null===C||void 0===C?void 0:C.oneApply,unitId:null===(v=y.state)||void 0===v?void 0:v.unitId,accessRole:j,accessTpye:Z,applicationDetailApplicablePending:null===C||void 0===C?void 0:C.applicable_pending,pageOpenAs:N,instituteId:A}),"allot"===(null===(m=y.search)||void 0===m?void 0:m.substring(21))&&(0,S.jsx)(ue,{applicationId:null===(h=y.state)||void 0===h?void 0:h.applicationId,carryParentState:g,applicationDetail:null===C||void 0===C?void 0:C.oneApply,accessRole:j,accessTpye:Z,applicationDetailApplicablePending:null===C||void 0===C?void 0:C.applicable_pending,pageOpenAs:N}),"cancel"===(null===(_=y.search)||void 0===_?void 0:_.substring(21))&&(0,S.jsx)(pe,{applicationId:null===(f=y.state)||void 0===f?void 0:f.applicationId,carryParentState:g,applicationDetail:null===C||void 0===C?void 0:C.oneApply,accessRole:j,accessTpye:Z,applicationDetailApplicablePending:null===C||void 0===C?void 0:C.applicable_pending,pageOpenAs:N})]})},he=t(61503),_e=t(95290);function fe(e){var n,t,l,o,a,s,d,c,r,u,v,p,m,h,_,f,g,x,N,A,y,b,C,E,I,P,w,T,k,R=e.data,D=e.carryParentState,M=e.accessRole,O=e.accessTpye,F=e.accessApplication,q=e.setOpenApplicationMenu,B=e.callApi,H=e.pageOpenAs,U=function(e){e.preventDefault(),q(R)};return(0,S.jsx)(S.Fragment,{children:M?O?(0,S.jsx)(Z.Z,{carryParentState:(0,i.Z)((0,i.Z)({},D),{},{applicationId:null===R||void 0===R?void 0:R._id,unitId:null===R||void 0===R||null===(n=R.applicationUnit)||void 0===n?void 0:n._id}),activeTab:"request&ongoing&n=".concat("Application"===O?"application":"Selected"===O?"select":"Confirmed"===O?"confirm":"Allotted"===O?"allot":"cancel"),accessRole:M,accessTpye:O,callApi:B,children:(0,S.jsxs)("div",{className:L.Z.ongoing_card,children:[(0,S.jsxs)("div",{className:L.Z.ongoing_card_inner,children:[(0,S.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,S.jsxs)("div",{className:L.Z.ongoing_card_text,children:[(0,S.jsx)("h6",{children:null===R||void 0===R?void 0:R.applicationName}),(0,S.jsx)("p",{style:{marginBottom:"0"},children:null!==(t=null===R||void 0===R||null===(l=R.applicationUnit)||void 0===l?void 0:l.hostel_unit_name)&&void 0!==t?t:""})]})]}),(0,S.jsx)("div",{className:L.Z.ongoing_card_count_date,children:(0,S.jsxs)("div",{className:L.Z.ongoing_card_count_container,children:[(0,S.jsx)("h6",{children:null!==(o=null===R||void 0===R?void 0:R.receievedCount)&&void 0!==o?o:0}),(0,S.jsx)("h6",{children:null!==(a=null===R||void 0===R?void 0:R.selectCount)&&void 0!==a?a:0}),(0,S.jsx)("h6",{children:null!==(s=null===R||void 0===R?void 0:R.confirmCount)&&void 0!==s?s:0})]})})]})}):null!==F&&void 0!==F&&F.includes(null===R||void 0===R?void 0:R._id)?(0,S.jsx)(Z.Z,{carryParentState:(0,i.Z)((0,i.Z)({},D),{},{applicationId:null===R||void 0===R?void 0:R._id,unitId:null===R||void 0===R||null===(d=R.applicationUnit)||void 0===d?void 0:d._id}),activeTab:"request&ongoing&n=application",accessRole:M,callApi:B,children:(0,S.jsxs)("div",{className:L.Z.ongoing_card,children:[(0,S.jsxs)("div",{className:L.Z.ongoing_card_inner,children:[(0,S.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,S.jsxs)("div",{className:L.Z.ongoing_card_text,children:[(0,S.jsx)("h6",{children:null===R||void 0===R?void 0:R.applicationName}),(0,S.jsx)("p",{style:{marginBottom:"0"},children:null!==(c=null===R||void 0===R||null===(r=R.applicationUnit)||void 0===r?void 0:r.hostel_unit_name)&&void 0!==c?c:""})]})]}),(0,S.jsx)("div",{className:L.Z.ongoing_card_count_date,children:(0,S.jsxs)("div",{className:L.Z.ongoing_card_count_container,children:[(0,S.jsx)("h6",{children:null!==(u=null===R||void 0===R?void 0:R.receievedCount)&&void 0!==u?u:0}),(0,S.jsx)("h6",{children:null!==(v=null===R||void 0===R?void 0:R.selectCount)&&void 0!==v?v:0}),(0,S.jsx)("h6",{children:null!==(p=null===R||void 0===R?void 0:R.confirmCount)&&void 0!==p?p:0})]})})]})}):(0,S.jsxs)("div",{className:L.Z.ongoing_card,style:{opacity:"0.5"},children:[(0,S.jsxs)("div",{className:L.Z.ongoing_card_inner,children:[(0,S.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,S.jsxs)("div",{className:L.Z.ongoing_card_text,children:[(0,S.jsx)("h6",{children:null===R||void 0===R?void 0:R.applicationName}),(0,S.jsxs)("p",{style:{marginBottom:"0"},children:[" ",null!==(m=null===R||void 0===R||null===(h=R.applicationUnit)||void 0===h?void 0:h.hostel_unit_name)&&void 0!==m?m:""]})]})]}),(0,S.jsx)("div",{className:L.Z.ongoing_card_count_date,children:(0,S.jsxs)("div",{className:L.Z.ongoing_card_count_container,children:[(0,S.jsx)("h6",{children:null!==(_=null===R||void 0===R?void 0:R.receievedCount)&&void 0!==_?_:0}),(0,S.jsx)("h6",{children:null!==(f=null===R||void 0===R?void 0:R.selectCount)&&void 0!==f?f:0}),(0,S.jsx)("h6",{children:null!==(g=null===R||void 0===R?void 0:R.confirmCount)&&void 0!==g?g:0})]})})]}):"INSTITUTE"===H?(0,S.jsx)(j.Z,{carryParentState:(0,i.Z)((0,i.Z)({},D),{},{applicationId:null===R||void 0===R?void 0:R._id,unitId:null===R||void 0===R||null===(x=R.applicationUnit)||void 0===x?void 0:x._id}),activeTab:"request&ongoing&n=application",children:(0,S.jsxs)("div",{className:L.Z.ongoing_card,children:[(0,S.jsxs)("div",{className:L.Z.ongoing_card_inner,children:[(0,S.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,S.jsxs)("div",{className:L.Z.ongoing_card_text,children:[(0,S.jsx)("h6",{children:null===R||void 0===R?void 0:R.applicationName}),(0,S.jsx)("p",{style:{marginBottom:"0"},children:null!==(N=null===R||void 0===R||null===(A=R.applicationUnit)||void 0===A?void 0:A.hostel_unit_name)&&void 0!==N?N:""})]})]}),(0,S.jsx)("div",{className:L.Z.ongoing_card_count_date,children:(0,S.jsxs)("div",{className:L.Z.ongoing_card_count_container,children:[(0,S.jsx)("h6",{children:null!==(y=null===R||void 0===R?void 0:R.receievedCount)&&void 0!==y?y:0}),(0,S.jsx)("h6",{children:null!==(b=null===R||void 0===R?void 0:R.selectCount)&&void 0!==b?b:0}),(0,S.jsx)("h6",{children:null!==(C=null===R||void 0===R?void 0:R.confirmCount)&&void 0!==C?C:0})]})}),(0,S.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:U,className:L.Z.menu_icon,title:"Menu"})]})}):(0,S.jsx)(Z.Z,{carryParentState:(0,i.Z)((0,i.Z)({},D),{},{applicationId:null===R||void 0===R?void 0:R._id,unitId:null===R||void 0===R||null===(E=R.applicationUnit)||void 0===E?void 0:E._id}),activeTab:"request&ongoing&n=application",accessRole:M,accessTpye:O,callApi:B,children:(0,S.jsxs)("div",{className:L.Z.ongoing_card,children:[(0,S.jsxs)("div",{className:L.Z.ongoing_card_inner,children:[(0,S.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,S.jsxs)("div",{className:L.Z.ongoing_card_text,children:[(0,S.jsx)("h6",{children:null===R||void 0===R?void 0:R.applicationName}),(0,S.jsx)("p",{style:{marginBottom:"0"},children:null!==(I=null===R||void 0===R||null===(P=R.applicationUnit)||void 0===P?void 0:P.hostel_unit_name)&&void 0!==I?I:""})]})]}),(0,S.jsx)("div",{className:L.Z.ongoing_card_count_date,children:(0,S.jsxs)("div",{className:L.Z.ongoing_card_count_container,children:[(0,S.jsx)("h6",{children:null!==(w=null===R||void 0===R?void 0:R.receievedCount)&&void 0!==w?w:0}),(0,S.jsx)("h6",{children:null!==(T=null===R||void 0===R?void 0:R.selectCount)&&void 0!==T?T:0}),(0,S.jsx)("h6",{children:null!==(k=null===R||void 0===R?void 0:R.confirmCount)&&void 0!==k?k:0})]})}),(0,S.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:U,className:L.Z.menu_icon,title:"Menu"})]})})})}var ge=function(e){var n=e.hid,t=e.accessRole,i=e.accessTpye,a=e.carryParentState,s=e.accessApplication,d=e.callApi,c=e.pageOpenAs,h=(0,o.$G)().t,_=(0,l.useState)(!0),f=(0,u.Z)(_,2),g=f[0],x=f[1],j=(0,l.useState)(1),Z=(0,u.Z)(j,2),N=Z[0],A=Z[1],y=(0,v.YD)(),b=(0,u.Z)(y,2),C=b[0],E=b[1],I=(0,l.useState)([]),P=(0,u.Z)(I,2),w=P[0],T=P[1],k=(0,l.useState)(!0),R=(0,u.Z)(k,2),D=R[0],M=R[1],O=(0,l.useState)(""),F=(0,u.Z)(O,2),q=F[0],B=F[1],H=(0,l.useState)(!1),U=(0,u.Z)(H,2),G=U[0],W=U[1],V=(0,l.useState)(!1),$=(0,u.Z)(V,2),J=$[0],Y=$[1],z=(0,p.Kj)({data:{hid:n,page:N,limit:10},skip:!n}),X=z.getOngoingApplicationList,K=z.getOngoingApplicationListRefetch;(0,l.useEffect)((function(){E&&g&&A((function(e){return e+1}))}),[E,g]),(0,l.useEffect)((function(){n&&(M(!0),K())}),[n,N,K]),(0,l.useEffect)((function(){var e,n;G?(T(null===X||void 0===X?void 0:X.ongoing),M(!1),W(!1)):null!==X&&void 0!==X&&X.ongoing?(T((function(e){var n,t;return null===(n=(0,r.Z)(new Set(null===(t=[].concat((0,r.Z)(e),(0,r.Z)(null===X||void 0===X?void 0:X.ongoing)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),M(!1)):0===(null===X||void 0===X||null===(n=X.ongoing)||void 0===n?void 0:n.length)&&M(!1);10===(null===X||void 0===X||null===(e=X.ongoing)||void 0===e?void 0:e.length)?x(!0):x(!1)}),[null===X||void 0===X?void 0:X.ongoing]);var Q=function(){A(1),W(!0),M(!0),K()};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("p",{className:L.Z.add_new_category,onClick:function(){t||Y((function(e){return!e}))},style:{opacity:t?"0.5":1},children:h("create_new_application")}),(0,S.jsxs)("div",{className:L.Z.remainingFees,children:[null===w||void 0===w?void 0:w.map((function(e,n){return(null===w||void 0===w?void 0:w.length)===n+1?(0,S.jsx)("div",{ref:C,children:(0,S.jsx)(fe,{data:e,carryParentState:a,accessRole:t,accessTpye:i,accessApplication:s,setOpenApplicationMenu:B,callApi:d,pageOpenAs:c})},n):(0,S.jsx)(fe,{data:e,carryParentState:a,accessRole:t,accessTpye:i,accessApplication:s,setOpenApplicationMenu:B,callApi:d,pageOpenAs:c},n)})),D&&(0,S.jsx)(m.Z,{}),q&&(0,S.jsx)(he.Z,{openApplicationMenu:q,onClose:function(){return B("")},onRefetch:Q,viewAs:"HOSTEL_MANAGER",hostelId:n})]}),J&&(0,S.jsx)(_e.Z,{setCreateApplication:Y,createApplication:J,hostelId:n,setRefetchOngoining:Q,viewAs:"HOSTEL_MANAGER"})]})},xe=function(e){var n,t,i,l,c=e.carryParentState,r=(0,o.$G)().t,u=(0,a.TH)(),v=[{name:r("application"),id:0,url:"member/hostel?a=request&renewal&application"},{name:r("selected"),id:1,url:"member/hostel?a=request&renewal&select"},{name:r("confirmed"),id:2,url:"member/hostel?a=request&renewal&renewed"},{name:r("allotted"),id:3,url:"member/hostel?a=request&renewal&allot"},{name:r("cancelled"),id:4,url:"member/hostel?a=request&renewal&cancel"}];return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(d.Z,{tabList:v,activeIndexTab:"application"===(null===(n=u.search)||void 0===n?void 0:n.substring(19))?0:"select"===(null===(t=u.search)||void 0===t?void 0:t.substring(19))?1:"renewed"===(null===(i=u.search)||void 0===i?void 0:i.substring(19))?2:"allot"===(null===(l=u.search)||void 0===l?void 0:l.substring(19))?3:4,showAs:!0,customStyleTab:{width:"100%"},customStyleLink:{width:"20%"},carryParentState:c}),(0,S.jsx)(s.Z,{customStyle:{width:"100%"}})]})},je=t(72441),Ze=function(e){var n,t,i,s,d,c,r,v,m,h,_,f,g,x=e.applicant,j=e.onRefetchWhenSelect,Z=e.hostelId,N=e.huid,A=(0,o.$G)().t,y=(0,a.UO)(),b=(0,a.s0)(),C=(0,l.useState)(!1),E=(0,u.Z)(C,2),I=E[0],w=E[1],T=(0,l.useState)(!1),k=(0,u.Z)(T,2),R=k[0],D=k[1],M=(0,l.useState)(!1),H=(0,u.Z)(M,2),U=H[0],G=H[1],W=(0,p._u)(),V=(0,u.Z)(W,1)[0];return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_container,onClick:function(){var e;b("/q/".concat(y.username,"/student/profile"),{state:{sid:null===x||void 0===x||null===(e=x.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_inner,children:[(0,S.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===x||void 0===x||null===(n=x.student)||void 0===n?void 0:n.photoId)?"".concat(F.yI,"/").concat(null===x||void 0===x||null===(t=x.student)||void 0===t?void 0:t.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,S.jsxs)("div",{className:L.Z.applicant_card_inner_info,children:[(0,S.jsx)("h6",{children:"".concat(null===x||void 0===x||null===(i=x.student)||void 0===i?void 0:i.studentFirstName," ").concat(null!==x&&void 0!==x&&null!==(s=x.student)&&void 0!==s&&s.studentMiddleName?null===x||void 0===x||null===(d=x.student)||void 0===d?void 0:d.studentMiddleName:""," ").concat(null===x||void 0===x||null===(c=x.student)||void 0===c?void 0:c.studentLastName)}),(0,S.jsxs)("p",{children:[A("applied_on"),":"," ",O()(null===x||void 0===x?void 0:x.apply_on).format("DD MMM yyyy")]})]})]}),(0,S.jsxs)("div",{className:L.Z.applicant_card_contact,children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_contact_inner,children:[(0,S.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,S.jsx)("p",{children:null===x||void 0===x||null===(r=x.student)||void 0===r?void 0:r.studentGender})]}),((null===x||void 0===x||null===(v=x.student)||void 0===v?void 0:v.studentPhoneNumber)||(null===x||void 0===x||null===(m=x.student)||void 0===m?void 0:m.studentParentsPhoneNumber))&&(0,S.jsxs)("div",{className:L.Z.applicant_card_contact_inner,children:[(0,S.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,S.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==x&&void 0!==x&&null!==(h=x.student)&&void 0!==h&&h.studentPhoneNumber?null===x||void 0===x||null===(_=x.student)||void 0===_?void 0:_.studentPhoneNumber:null===x||void 0===x||null===(f=x.student)||void 0===f?void 0:f.studentParentsPhoneNumber})]})]}),(0,S.jsxs)("div",{className:L.Z.application_button,children:[(0,S.jsx)("div",{className:L.Z.selectAppBtnContainer,onClick:function(e){e.stopPropagation(),D(!0)},children:(0,S.jsx)("div",{className:L.Z.selectBtn,children:A("select")})}),(0,S.jsx)("div",{className:L.Z.selectAppBtnContainer,onClick:function(e){e.stopPropagation(),w((function(e){return!e}))},children:(0,S.jsx)("div",{className:L.Z.cancelledBtn,children:A("reject")})})]})]}),(0,S.jsx)(q.Z,{children:I&&(0,S.jsx)(je.default,{studentId:null===x||void 0===x||null===(g=x.student)||void 0===g?void 0:g._id,applicationId:N,onClose:function(){return w((function(e){return!e}))},onRefetchWhenSelect:j,viewAs:"RENEWAL"})}),R&&(0,S.jsx)(B.Z,{hostelId:Z,onClose:function(){return D((function(e){return!e}))},onSelectedStudent:function(e){var n,t;""!==(null===x||void 0===x||null===(n=x.student)||void 0===n?void 0:n._id)&&""!==N&&(G((function(e){return!e})),V({sid:null===x||void 0===x||null===(t=x.student)||void 0===t?void 0:t._id,huid:N,selectRenewal:e}).then((function(){j(),G((function(e){return!e}))})).catch((function(){G((function(e){return!e}))})))},batchId:"",classMasterId:""}),U&&(0,S.jsx)(P.Z,{})]})},Se=function(e){var n=e.carryParentState,t=(e.applicationDetail,e.huid),i=e.hostelId,o=e.unitName,a=(e.accessRole,(0,l.useState)(!0)),s=(0,u.Z)(a,2),d=s[0],c=s[1],h=(0,l.useState)(1),_=(0,u.Z)(h,2),f=_[0],g=_[1],x=(0,l.useState)(""),j=(0,u.Z)(x,2),Z=j[0],N=j[1],A=(0,v.YD)(),y=(0,u.Z)(A,2),b=y[0],C=y[1],E=(0,l.useState)([]),I=(0,u.Z)(E,2),P=I[0],w=I[1],T=(0,l.useState)(!1),k=(0,u.Z)(T,2),L=k[0],M=k[1],O=(0,l.useState)(!0),F=(0,u.Z)(O,2),q=F[0],B=F[1],H=(0,p._9)({data:{huid:t,page:f,limit:10,search:Z||""},skip:!t}),U=H.getRenewalApplicationListByHostel,G=H.getRenewalApplicationListByHostelRefetch;(0,l.useEffect)((function(){C&&d&&g((function(e){return e+1}))}),[C,d]),(0,l.useEffect)((function(){t&&(B(!0),G())}),[f,t,G,Z]),(0,l.useEffect)((function(){var e,n;Z?(w(null===U||void 0===U?void 0:U.request),B(!1)):L?(w(null===U||void 0===U?void 0:U.request),M(!1),B(!1)):null!==U&&void 0!==U&&U.request?(w((function(e){var n,t;return null===(n=(0,r.Z)(new Set(null===(t=[].concat((0,r.Z)(e),(0,r.Z)(null===U||void 0===U?void 0:U.request)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),B(!1)):0===(null===U||void 0===U||null===(n=U.request)||void 0===n?void 0:n.length)&&B(!1);10===(null===U||void 0===U||null===(e=U.request)||void 0===e?void 0:e.length)?c(!0):c(!1)}),[null===U||void 0===U?void 0:U.request]);var W=function(){g(1),G(),M(!0)},V=(0,l.useCallback)((0,D.debounce)((function(e){return N(e)}),500),[]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(R,{unitName:o,carryParentState:n,children:(0,S.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:function(e){V(e.target.value)}})}),(0,S.jsx)(xe,{carryParentState:n}),null===P||void 0===P?void 0:P.map((function(e,n){return(null===P||void 0===P?void 0:P.length)===n+1?(0,S.jsx)("div",{ref:b,children:(0,S.jsx)(Ze,{applicant:e,onRefetchWhenSelect:W,hostelId:i,huid:t})},n):(0,S.jsx)(Ze,{applicant:e,onRefetchWhenSelect:W,hostelId:i,huid:t},n)})),q&&(0,S.jsx)(m.Z,{})]})},Ne=function(e){var n,t,i,l,s,d,c,r,u,v,p,m,h,_,f,g,x,j,Z,N,A,y=e.onSelectOffileFees,b=e.applicant,C=(0,o.$G)().t,E=(0,a.UO)(),I=(0,a.s0)();return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)("div",{className:L.Z.applicant_card_container,onClick:function(){var e;I("/q/".concat(E.username,"/student/profile"),{state:{sid:null===b||void 0===b||null===(e=b.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_inner,children:[(0,S.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===b||void 0===b||null===(n=b.student)||void 0===n?void 0:n.photoId)?"".concat(F.yI,"/").concat(null===b||void 0===b||null===(t=b.student)||void 0===t?void 0:t.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,S.jsxs)("div",{className:L.Z.applicant_card_inner_info,children:[(0,S.jsx)("h6",{children:"".concat(null===b||void 0===b||null===(i=b.student)||void 0===i?void 0:i.studentFirstName," ").concat(null!==b&&void 0!==b&&null!==(l=b.student)&&void 0!==l&&l.studentMiddleName?null===b||void 0===b||null===(s=b.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null===b||void 0===b||null===(d=b.student)||void 0===d?void 0:d.studentLastName)}),(0,S.jsxs)("h6",{children:[C("fee_structure")," : ",null!==(c=null===b||void 0===b||null===(r=b.student)||void 0===r||null===(u=r.hostel_fee_structure)||void 0===u||null===(v=u.category_master)||void 0===v?void 0:v.category_name)&&void 0!==c?c:"",", ",C("rs")," ",null!==(p=null===b||void 0===b||null===(m=b.student)||void 0===m||null===(h=m.hostel_fee_structure)||void 0===h?void 0:h.total_admission_fees)&&void 0!==p?p:""]}),(0,S.jsx)("p",{children:null!==b&&void 0!==b&&b.install_type?null===b||void 0===b?void 0:b.install_type:"\n              ".concat(C("select_on"),":\n              ").concat(O()(null===b||void 0===b?void 0:b.select_on).format("DD MMM yyyy"))})]})]}),(0,S.jsxs)("div",{className:L.Z.applicant_card_contact,children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_contact_inner,children:[(0,S.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,S.jsx)("p",{children:null===b||void 0===b||null===(_=b.student)||void 0===_?void 0:_.studentGender})]}),((null===b||void 0===b||null===(f=b.student)||void 0===f?void 0:f.studentPhoneNumber)||(null===b||void 0===b||null===(g=b.student)||void 0===g?void 0:g.studentParentsPhoneNumber))&&(0,S.jsxs)("div",{className:L.Z.applicant_card_contact_inner,children:[(0,S.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,S.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==b&&void 0!==b&&null!==(x=b.student)&&void 0!==x&&x.studentPhoneNumber?null===b||void 0===b||null===(j=b.student)||void 0===j?void 0:j.studentPhoneNumber:null===b||void 0===b||null===(Z=b.student)||void 0===Z?void 0:Z.studentParentsPhoneNumber})]})]}),"receipt requested"===(null===b||void 0===b||null===(N=b.payment_status)||void 0===N?void 0:N.toLowerCase())?(0,S.jsx)("div",{className:L.Z.selectBtnContainer,children:(0,S.jsx)("div",{className:L.Z.receipt_requested_btn,onClick:function(e){e.stopPropagation()},children:C("receipt_requested")})}):(0,S.jsx)("div",{className:L.Z.selectBtnContainer,children:"pending"===(null===b||void 0===b||null===(A=b.payment_status)||void 0===A?void 0:A.toLowerCase())&&(0,S.jsx)("div",{className:L.Z.selectBtn,onClick:function(e){e.stopPropagation(),y(b)},children:C("collect_fee")})})]})})},Ae=function(e){var n=e.carryParentState,t=e.huid,i=e.unitName,o=(0,l.useState)(!0),a=(0,u.Z)(o,2),s=a[0],d=a[1],c=(0,l.useState)(1),h=(0,u.Z)(c,2),_=h[0],f=h[1],g=(0,l.useState)(""),x=(0,u.Z)(g,2),j=x[0],Z=x[1],N=(0,v.YD)(),A=(0,u.Z)(N,2),y=A[0],b=A[1],C=(0,l.useState)([]),E=(0,u.Z)(C,2),I=E[0],P=E[1],w=(0,l.useState)(!1),T=(0,u.Z)(w,2),k=T[0],L=T[1],M=(0,l.useState)(!0),O=(0,u.Z)(M,2),F=O[0],q=O[1],B=(0,l.useState)(""),H=(0,u.Z)(B,2),U=H[0],G=H[1],W=(0,l.useState)(""),V=(0,u.Z)(W,2),$=V[0],J=V[1],Y=(0,p.y$)({data:{huid:t,page:_,limit:10,search:j||""},skip:!t}),z=Y.getRenewalSelectListByHostel,X=Y.getRenewalSelectListByHostelRefetch;(0,l.useEffect)((function(){b&&s&&f((function(e){return e+1}))}),[b,s]),(0,l.useEffect)((function(){t&&(q(!0),X())}),[_,t,X,j]),(0,l.useEffect)((function(){var e,n;j?(P(null===z||void 0===z?void 0:z.select),q(!1)):k?(P(null===z||void 0===z?void 0:z.select),L(!1),q(!1)):null!==z&&void 0!==z&&z.select?(P((function(e){var n,t;return null===(n=(0,r.Z)(new Set(null===(t=[].concat((0,r.Z)(e),(0,r.Z)(null===z||void 0===z?void 0:z.select)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),q(!1)):0===(null===z||void 0===z||null===(n=z.select)||void 0===n?void 0:n.length)&&q(!1);10===(null===z||void 0===z||null===(e=z.select)||void 0===e?void 0:e.length)?d(!0):d(!1)}),[null===z||void 0===z?void 0:z.select]);var K=(0,l.useCallback)((0,D.debounce)((function(e){return Z(e)}),500),[]),ee=function(e){J(e),G("COLLECT_FEES")};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(R,{unitName:i,carryParentState:n,children:(0,S.jsx)("input",{type:"text",placeholder:"Search applications...",onChange:function(e){K(e.target.value)}})}),(0,S.jsx)(xe,{carryParentState:n}),null===I||void 0===I?void 0:I.map((function(e,n){return(null===I||void 0===I?void 0:I.length)===n+1?(0,S.jsx)("div",{ref:y,children:(0,S.jsx)(Ne,{applicant:e,onSelectOffileFees:ee})},n):(0,S.jsx)(Ne,{applicant:e,onSelectOffileFees:ee},n)})),F&&(0,S.jsx)(m.Z,{}),"COLLECT_FEES"===U&&(0,S.jsx)(Q,{applicant:$,applicationId:null===$||void 0===$?void 0:$.appId,huid:t,onRefetchWhenConfirm:function(){f(1),X(),L(!0)},onClose:function(){return G("")},viewAs:"RENEWAL"})]})},ye=function(e){var n=e.carryParentState,t=e.huid,i=e.unitName,o=(0,l.useState)(!0),a=(0,u.Z)(o,2),s=a[0],d=a[1],c=(0,l.useState)(1),h=(0,u.Z)(c,2),_=h[0],f=h[1],g=(0,l.useState)(""),x=(0,u.Z)(g,2),j=x[0],Z=x[1],N=(0,v.YD)(),A=(0,u.Z)(N,2),y=A[0],b=A[1],C=(0,l.useState)([]),E=(0,u.Z)(C,2),I=E[0],P=E[1],w=(0,l.useState)(!1),T=(0,u.Z)(w,2),k=T[0],L=T[1],M=(0,l.useState)(!0),O=(0,u.Z)(M,2),F=O[0],q=O[1],B=(0,l.useState)(""),H=(0,u.Z)(B,2),U=H[0],G=H[1],W=(0,l.useState)(""),V=(0,u.Z)(W,2),$=V[0],J=V[1],Y=(0,p.gK)({data:{huid:t,page:_,limit:10,search:j||""},skip:!t}),z=Y.getRenewalRenewedListByHostel,X=Y.getRenewalRenewedListByHostelRefetch;(0,l.useEffect)((function(){b&&s&&f((function(e){return e+1}))}),[b,s]),(0,l.useEffect)((function(){t&&(q(!0),X())}),[_,t,X,j]),(0,l.useEffect)((function(){var e,n;j?(P(null===z||void 0===z?void 0:z.confirm),q(!1)):k?(P(null===z||void 0===z?void 0:z.confirm),L(!1),q(!1)):null!==z&&void 0!==z&&z.confirm?(P((function(e){var n,t;return null===(n=(0,r.Z)(new Set(null===(t=[].concat((0,r.Z)(e),(0,r.Z)(null===z||void 0===z?void 0:z.confirm)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),q(!1)):0===(null===z||void 0===z||null===(n=z.confirm)||void 0===n?void 0:n.length)&&q(!1);10===(null===z||void 0===z||null===(e=z.confirm)||void 0===e?void 0:e.length)?d(!0):d(!1)}),[null===z||void 0===z?void 0:z.confirm]);var K=function(){f(1),X(),L(!0)},Q=(0,l.useCallback)((0,D.debounce)((function(e){return Z(e)}),500),[]),ee=function(e){J(e),G("CANCEL_APPLICANT")},ne=function(e){J(e),G("ALLOT_BED")};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(R,{unitName:i,carryParentState:n,children:(0,S.jsx)("input",{type:"text",placeholder:"Search applications...",onChange:function(e){Q(e.target.value)}})}),(0,S.jsx)(xe,{carryParentState:n}),null===I||void 0===I?void 0:I.map((function(e,n){return(null===I||void 0===I?void 0:I.length)===n+1?(0,S.jsx)("div",{ref:y,children:(0,S.jsx)(ie,{applicant:e,onCancelHostelApplication:ee,onAllotBed:ne})},n):(0,S.jsx)(ie,{applicant:e,onCancelHostelApplication:ee,onAllotBed:ne},n)})),F&&(0,S.jsx)(m.Z,{}),"CANCEL_APPLICANT"===U&&(0,S.jsx)(le,{currentApplicant:$,applicationId:null===$||void 0===$?void 0:$.appId,onRefetchWhenAction:K,onClose:function(){return G("")},viewAs:"RENEWAL",huid:t}),"ALLOT_BED"===U&&(0,S.jsx)(de,{currentApplicant:$,applicationId:null===$||void 0===$?void 0:$.appId,onRefetchWhenAction:K,onClose:function(){return G("")},unitId:t,viewAs:"RENEWAL"})]})},be=function(e){var n=e.carryParentState,t=e.huid,i=e.unitName,o=(0,l.useState)(!0),a=(0,u.Z)(o,2),s=a[0],d=a[1],c=(0,l.useState)(1),h=(0,u.Z)(c,2),_=h[0],f=h[1],g=(0,v.YD)(),x=(0,u.Z)(g,2),j=x[0],Z=x[1],N=(0,l.useState)([]),A=(0,u.Z)(N,2),y=A[0],b=A[1],C=(0,l.useState)(!0),E=(0,u.Z)(C,2),I=E[0],P=E[1],w=(0,l.useState)(""),T=(0,u.Z)(w,2),k=T[0],L=T[1],M=(0,p.cK)({data:{huid:t,page:_,limit:10,search:k||""},skip:!t}),O=M.getRenewalAllotListByHostel,F=M.getRenewalAllotListByHostelRefetch;(0,l.useEffect)((function(){Z&&s&&f((function(e){return e+1}))}),[Z,s]),(0,l.useEffect)((function(){t&&(P(!0),F())}),[_,t,F,k]),(0,l.useEffect)((function(){var e,n;k?(b(null===O||void 0===O?void 0:O.allot),P(!1)):null!==O&&void 0!==O&&O.allot?(b((function(e){var n,t;return null===(n=(0,r.Z)(new Set(null===(t=[].concat((0,r.Z)(e),(0,r.Z)(null===O||void 0===O?void 0:O.allot)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),P(!1)):0===(null===O||void 0===O||null===(n=O.allot)||void 0===n?void 0:n.length)&&P(!1);10===(null===O||void 0===O||null===(e=O.allot)||void 0===e?void 0:e.length)?d(!0):d(!1)}),[null===O||void 0===O?void 0:O.allot]);var q=(0,l.useCallback)((0,D.debounce)((function(e){return L(e)}),500),[]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(R,{unitName:i,carryParentState:n,children:(0,S.jsx)("input",{type:"text",placeholder:"Search applications...",onChange:function(e){q(e.target.value)}})}),(0,S.jsx)(xe,{carryParentState:n}),null===y||void 0===y?void 0:y.map((function(e,n){return(null===y||void 0===y?void 0:y.length)===n+1?(0,S.jsx)("div",{ref:j,children:(0,S.jsx)(re,{applicant:e})},n):(0,S.jsx)(re,{applicant:e},n)})),I&&(0,S.jsx)(m.Z,{})]})},Ce=function(e){var n=e.carryParentState,t=e.huid,i=e.unitName,o=(0,l.useState)(!0),a=(0,u.Z)(o,2),s=a[0],d=a[1],c=(0,l.useState)(1),h=(0,u.Z)(c,2),_=h[0],f=h[1],g=(0,v.YD)(),x=(0,u.Z)(g,2),j=x[0],Z=x[1],N=(0,l.useState)([]),A=(0,u.Z)(N,2),y=A[0],b=A[1],C=(0,l.useState)(""),E=(0,u.Z)(C,2),I=E[0],P=E[1],w=(0,l.useState)(!0),T=(0,u.Z)(w,2),k=T[0],L=T[1],M=(0,p.R4)({data:{huid:t,page:_,limit:10,search:I||""},skip:!t}),O=M.getRenewalCancelListByHostel,F=M.getRenewalCancelListByHostelRefetch;(0,l.useEffect)((function(){Z&&s&&f((function(e){return e+1}))}),[Z,s]),(0,l.useEffect)((function(){t&&(L(!0),F())}),[_,t,F]),(0,l.useEffect)((function(){var e,n;I?(b(null===O||void 0===O?void 0:O.cancel),L(!1)):null!==O&&void 0!==O&&O.cancel?(b((function(e){var n,t;return null===(n=(0,r.Z)(new Set(null===(t=[].concat((0,r.Z)(e),(0,r.Z)(null===O||void 0===O?void 0:O.cancel)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),L(!1)):0===(null===O||void 0===O||null===(n=O.cancel)||void 0===n?void 0:n.length)&&L(!1);10===(null===O||void 0===O||null===(e=O.cancel)||void 0===e?void 0:e.length)?d(!0):d(!1)}),[null===O||void 0===O?void 0:O.cancel]);var q=(0,l.useCallback)((0,D.debounce)((function(e){return P(e)}),500),[]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(R,{unitName:i,carryParentState:n,children:(0,S.jsx)("input",{type:"text",placeholder:"Search applications...",onChange:function(e){q(e.target.value)}})}),(0,S.jsx)(xe,{carryParentState:n}),null===y||void 0===y?void 0:y.map((function(e,n){return(null===y||void 0===y?void 0:y.length)===n+1?(0,S.jsx)("div",{ref:j,children:(0,S.jsx)(ve,{applicant:e})},n):(0,S.jsx)(ve,{applicant:e},n)})),k&&(0,S.jsx)(m.Z,{})]})},Ee=function(e){var n,t,i,l,o,s,d,c,r,u,v,p,m,h,_,f=e.carryParentState,g=e.hid,x=(0,a.TH)();return(0,S.jsxs)(S.Fragment,{children:["application"===(null===(n=x.search)||void 0===n?void 0:n.substring(19))&&(0,S.jsx)(Se,{hostelId:g,carryParentState:f,huid:null===(t=x.state)||void 0===t?void 0:t.huid,unitName:null===(i=x.state)||void 0===i?void 0:i.unitName}),"select"===(null===(l=x.search)||void 0===l?void 0:l.substring(19))&&(0,S.jsx)(Ae,{hostelId:g,carryParentState:f,huid:null===(o=x.state)||void 0===o?void 0:o.huid,unitName:null===(s=x.state)||void 0===s?void 0:s.unitName}),"renewed"===(null===(d=x.search)||void 0===d?void 0:d.substring(19))&&(0,S.jsx)(ye,{carryParentState:f,huid:null===(c=x.state)||void 0===c?void 0:c.huid,unitName:null===(r=x.state)||void 0===r?void 0:r.unitName}),"allot"===(null===(u=x.search)||void 0===u?void 0:u.substring(19))&&(0,S.jsx)(be,{carryParentState:f,huid:null===(v=x.state)||void 0===v?void 0:v.huid,unitName:null===(p=x.state)||void 0===p?void 0:p.unitName}),"cancel"===(null===(m=x.search)||void 0===m?void 0:m.substring(19))&&(0,S.jsx)(Ce,{carryParentState:f,huid:null===(h=x.state)||void 0===h?void 0:h.huid,unitName:null===(_=x.state)||void 0===_?void 0:_.unitName})]})},Ie=t(60080),Pe=function(e){var n,t,l,r,u,v,p,m,h,_,f=e.hid,g=e.carryParentState,x=e.accessApplication,j=e.accessRole,Z=e.accessTpye,N=e.callApi,A=e.pageOpenAs,b=e.instituteId,C=(0,o.$G)().t,E=(0,a.s0)(),I=(0,a.TH)(),P=(0,a.UO)(),w=[{name:C("application"),id:0,url:"member/hostel?a=request",is_active:"MULTI_APP_ACCESS"!==j&&j?"disabled":"enabled"},{name:C("completed"),id:1,url:"member/hostel?a=request&completed",is_active:j?"disabled":"enabled"},{name:C("renewals"),id:2,url:"member/hostel?a=request&unit&renewal",is_active:"RENEWAL_UNIT_ACCESS"!==j&&j?"disabled":"enabled"}],T=[{name:C("application"),id:0,url:"hostel?a=request",is_active:"enabled"},{name:C("completed"),id:1,url:"hostel?a=request&completed",is_active:"enabled"},{name:C("renewals"),id:2,url:"hostel?a=request&unit&renewal",is_active:"enabled"}];return(0,S.jsxs)(S.Fragment,{children:[("request"===(null===(n=I.search)||void 0===n?void 0:n.substring(3))||"request&completed"===(null===(t=I.search)||void 0===t?void 0:t.substring(3))||"request&unit&renewal"===(null===(l=I.search)||void 0===l?void 0:l.substring(3)))&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:c.Z.with_search,style:{justifyContent:"flex-start",gap:"1rem"},children:[(0,S.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){E("/q/".concat(P.username,"INSTITUTE"===A?"/hostel":"/member/hostel"),{state:(0,i.Z)({},g)})},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,S.jsx)("h6",{children:C("reuqests")})]}),(0,S.jsx)(d.Z,{tabList:"INSTITUTE"===A?T:w,activeIndexTab:"request"===(null===(r=I.search)||void 0===r?void 0:r.substring(3))?0:"request&completed"===(null===(u=I.search)||void 0===u?void 0:u.substring(3))?1:2,showAs:!0,customStyleLink:{width:"50%"},carryParentState:g}),(0,S.jsx)(s.Z,{customStyle:{width:"100%",marginBottom:"0.5rem"}})]}),"request"===(null===(v=I.search)||void 0===v?void 0:v.substring(3))&&(0,S.jsx)(ge,{hid:f,carryParentState:g,accessRole:j,accessTpye:Z,accessApplication:x,callApi:N,pageOpenAs:A}),"request&ongoing"===(null===(p=I.search)||void 0===p?void 0:p.substring(3,18))&&(0,S.jsx)(me,{hid:f,carryParentState:g,accessRole:j,accessTpye:Z,callApi:N,pageOpenAs:A,instituteId:b}),"request&completed"===(null===(m=I.search)||void 0===m?void 0:m.substring(3,20))&&(0,S.jsx)(y,{hid:f,carryParentState:g,accessRole:j,accessTpye:Z,callApi:N,pageOpenAs:A}),"request&unit&renewal"===(null===(h=I.search)||void 0===h?void 0:h.substring(3))&&(0,S.jsx)(Ie.Z,{hid:f,carryParentState:g,viewAs:"RENEWAL"}),"request&renewal"===(null===(_=I.search)||void 0===_?void 0:_.substring(3,18))&&(0,S.jsx)(Ee,{hid:f,carryParentState:g})]})}},82104:function(e,n,t){t.d(n,{Z:function(){return I}});var i=t(93433),l=t(29439),o=t(72791),a=t(39230),s=t(23441),d=t(98094),c=t(10406),r=t(11105),u=t(87338),v=t(1413),p=t(36665),m=t(87457),h=t(57431),_=t(98734),f=t(97655),g=t(80184),x=function(e){var n=e.onClose,t=e.onRefetch,i=e.openAs,s=e.batchMenu,c=e.onEdit,r=e.hostelId,x=e.instituteId,j=(0,a.$G)().t,Z=(0,o.useState)(""),S=(0,l.Z)(Z,2),N=S[0],A=S[1],y=(0,o.useState)(!1),b=(0,l.Z)(y,2),C=b[0],E=b[1],I=(0,o.useState)({batchName:"EDIT"===i?null===s||void 0===s?void 0:s.batchName:""}),P=(0,l.Z)(I,2),w=P[0],T=P[1],k=(0,u.yZ)(),R=(0,l.Z)(k,1)[0];(0,o.useEffect)((function(){"EDIT"===i&&T((function(e){return(0,v.Z)((0,v.Z)({},e),{},{batchName:null===s||void 0===s?void 0:s.batchName})}))}),[i]);return(0,g.jsx)(p.Z,{onClose:n,children:(0,g.jsxs)("div",{className:m.Z.add_category_modal,children:[(0,g.jsxs)("div",{className:m.Z.add_category_modal_title,children:[(0,g.jsx)("h6",{children:j("EDIT"===i?"edit_batch":"add_new_batch")}),(0,g.jsx)("img",{src:"/images/close-post-icon.svg",onClick:n,alt:""})]}),(0,g.jsx)(d.Z,{customStyle:{width:"100%",marginTop:"0.6rem",marginBottom:"0.6rem"}}),(0,g.jsx)(f.Z,{labelText:j("batch-name-place"),placeholder:"e.g. 2022-23",name:"batchName",value:null===w||void 0===w?void 0:w.batchName,type:"text",onChange:function(e){var n;(null===(n=e.target.value)||void 0===n?void 0:n.length)<=30&&T((function(n){return(0,v.Z)((0,v.Z)({},n),{},{batchName:e.target.value})}))},errorShow:N}),(0,g.jsx)(h.Z,{maxLength:30,valueLength:w.batchName}),(0,g.jsx)("button",{className:m.Z.set_fees_structure_btn,title:"Create Batch",onClick:function(){w.batchName?"EDIT"===i?c(w.batchName):r&&(E((function(e){return!e})),R({hid:r,id:x,hostelBatch:w}).then((function(){t(),n(),E((function(e){return!e}))})).catch({})):A(!0)},style:{justifyContent:"center"},children:j("EDIT"===i?"update":"create")}),C&&(0,g.jsx)(_.Z,{})]})})},j=t(72426),Z=t.n(j),S=t(12072),N=t(84489),A=t(87049),y=function(e){var n=e.onClose,t=e.batchMenu,i=e.onRefetch,a=e.hostelId,s=e.onMasterApiRefetch,d=(0,o.useState)(!1),c=(0,l.Z)(d,2),r=c[0],v=c[1],p=(0,o.useState)(!1),m=(0,l.Z)(p,2),h=m[0],f=m[1],j=(0,u.ML)(),Z=(0,l.Z)(j,1)[0],y=(0,u.c2)(),b=(0,l.Z)(y,1)[0],C=(0,u.b7)(),E=(0,l.Z)(C,1)[0];return(0,g.jsx)(g.Fragment,{children:h?(0,g.jsx)(x,{openAs:"EDIT",onEdit:function(e){null!==t&&void 0!==t&&t._id&&(f(!1),v((function(e){return!e})),Z({bid:null===t||void 0===t?void 0:t._id,updateBatch:{batchName:e}}).then((function(){i(),v((function(e){return!e})),n()})).catch({}))},batchMenu:t,onClose:function(){return f((function(e){return!e}))},onRefetch:i,hostelId:a}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(N.Z,{onClose:n}),(0,g.jsxs)(S.Z,{customStyle:{zIndex:"1200"},children:[(0,g.jsxs)("div",{className:A.Z.edit_modal_container,style:{width:"200px"},children:[(0,g.jsx)("h6",{className:A.Z.edit,onClick:function(){null!==t&&void 0!==t&&t._id&&a&&(v((function(e){return!e})),E({hid:a,bid:null===t||void 0===t?void 0:t._id}).then((function(){s(),v((function(e){return!e})),n()})).catch({}))},children:"Select Batch"})," ",(0,g.jsx)("h6",{className:A.Z.edit,onClick:function(){return f((function(e){return!e}))},children:"Edit"}),(0,g.jsx)("h6",{className:A.Z.remove,onClick:function(){null!==t&&void 0!==t&&t._id&&(v((function(e){return!e})),b({bid:null===t||void 0===t?void 0:t._id}).then((function(){i(),n(),v((function(e){return!e}))})).catch({}))},children:"Delete"})]}),r&&(0,g.jsx)(_.Z,{})]})]})})},b=function(e){var n,t=e.batch,i=e.selectedId,s=e.hostelId,d=e.onRefetch,r=e.onMasterApiRefetch,u=(0,a.$G)().t,v=(0,o.useState)(""),p=(0,l.Z)(v,2),m=p[0],h=p[1];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:c.Z.hostel_batch_container,style:{backgroundColor:i===(null===t||void 0===t?void 0:t._id)?"rgb(226, 229, 232)":"inherit"},children:[(0,g.jsx)("img",{className:c.Z.hostel_batch_image,src:"/images/master-24-grey-icon.svg",alt:"batch icon",style:{borderRadius:"0"}}),(0,g.jsxs)("div",{className:c.Z.hostel_batch_container_text,children:[(0,g.jsx)("h6",{children:null!==(n=null===t||void 0===t?void 0:t.batchName)&&void 0!==n?n:""}),(0,g.jsxs)("p",{children:[u("created_on_")," ",Z()(null===t||void 0===t?void 0:t.createdAt).format("DD MMM yyyy")]})]}),(0,g.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(){return h(t)},className:c.Z.hostel_batch_menu,title:"Menu"})]}),m&&(0,g.jsx)(y,{onClose:function(){return h("")},hostelId:s,onRefetch:d,batchMenu:m,onMasterApiRefetch:r})]})},C=t(47167),E=t(16871),I=function(e){var n,t=e.hid,v=e.selectedBacthId,p=e.onMasterApiRefetch,m=e.carryParentState,h=e.pageOpenAs,_=e.instituteId,f=(0,a.$G)().t,j=(0,E.TH)(),Z=(0,o.useState)([{name:f("batch"),id:0,url:"member/hostel?a=batch"},{name:f("hostel_tab_standard"),id:1,url:"member/hostel?a=standard"}]),S=(0,l.Z)(Z,2),N=S[0],A=S[1],y=(0,o.useState)(!1),I=(0,l.Z)(y,2),P=I[0],w=I[1],T=(0,s.YD)(),k=(0,l.Z)(T,2),R=k[0],D=k[1],L=(0,o.useState)(1),M=(0,l.Z)(L,2),O=M[0],F=M[1],q=(0,o.useState)(!0),B=(0,l.Z)(q,2),H=B[0],U=B[1],G=(0,o.useState)(!0),W=(0,l.Z)(G,2),V=W[0],$=W[1],J=(0,o.useState)([]),Y=(0,l.Z)(J,2),z=Y[0],X=Y[1],K=(0,o.useState)(!1),Q=(0,l.Z)(K,2),ee=Q[0],ne=Q[1],te=(0,u.si)({data:{hid:t,id:_,page:O,limit:10},skip:!t}),ie=te.getHostelAllBatch,le=te.getHostelAllBatchRefetch;(0,o.useEffect)((function(){h&&A([{name:f("batch"),id:0,url:"hostel?a=batch"},{name:f("hostel_tab_standard"),id:1,url:"hostel?a=standard"}])}),[h]),(0,o.useEffect)((function(){t&&($(!0),le())}),[t,O,le]),(0,o.useEffect)((function(){D&&H&&F((function(e){return e+1}))}),[D,H]),(0,o.useEffect)((function(){var e,n;ee?(X(null===ie||void 0===ie?void 0:ie.all_batches),$(!1),ne(!1)):null!==ie&&void 0!==ie&&ie.all_batches?(X((function(e){var n,t;return null===(n=(0,i.Z)(new Set(null===(t=[].concat((0,i.Z)(e),(0,i.Z)(null===ie||void 0===ie?void 0:ie.all_batches)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),$(!1)):0===(null===ie||void 0===ie||null===(n=ie.all_batches)||void 0===n?void 0:n.length)&&$(!1);10===(null===ie||void 0===ie||null===(e=ie.all_batches)||void 0===e?void 0:e.length)?U(!0):U(!1)}),[null===ie||void 0===ie?void 0:ie.all_batches]);var oe=function(){F(1),ne(!0),$(!0),le()},ae=function(){w((function(e){return!e}))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(C.Z,{tabList:N,activeIndexTab:"batch"===(null===(n=j.search)||void 0===n?void 0:n.substring(3))?0:1,showAs:!0,customStyleTab:{width:"100%",marginTop:"-1rem"},customStyleLink:{width:"50%"},carryParentState:m}),(0,g.jsx)(d.Z,{customStyle:{marginBottom:"0.6rem",width:"100%"}}),(0,g.jsx)("div",{className:c.Z.with_search,children:(0,g.jsx)("h6",{children:f("hostel_batch")})}),(0,g.jsx)(d.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,g.jsx)("div",{className:c.Z.add_container,children:(0,g.jsx)("p",{className:c.Z.add_new_category,onClick:ae,children:f("create_new_batch")})}),null===z||void 0===z?void 0:z.map((function(e,n){return(null===z||void 0===z?void 0:z.length)===n+1?(0,g.jsx)("div",{ref:R,children:(0,g.jsx)(b,{batch:e,hostelId:t,onRefetch:oe,selectedId:v,onMasterApiRefetch:p})},null===e||void 0===e?void 0:e._id):(0,g.jsx)(b,{batch:e,hostelId:t,onRefetch:oe,selectedId:v,onMasterApiRefetch:p},null===e||void 0===e?void 0:e._id)})),V&&(0,g.jsx)(r.Z,{status:"white"}),P&&(0,g.jsx)(x,{onClose:ae,hostelId:t,onRefetch:oe,instituteId:_})]})}},42850:function(e,n,t){t.d(n,{Z:function(){return v}});t(72791);var i=t(16871),l=t(91104),o=t(35848),a=t(87457),s=t(39230),d=t(55271),c=t(22492),r=t(80184),u=function(e){var n,t,i=e.fees_category_count,l=e.fee_master_array_count,o=e.fee_structure_count,u=e.carryParentState,v=e.accessRole,p=e.callApi,m=e.pageOpenAs,h=(0,s.$G)().t;return(0,r.jsx)(r.Fragment,{children:"INSTITUTE"===m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{carryParentState:u,activeTab:"fee&n=category",children:(0,r.jsxs)("div",{className:a.Z.fees_category,children:[(0,r.jsx)("div",{className:a.Z.fees_category_icon,children:(0,r.jsx)("img",{src:"/images/fees-category-icon.svg",alt:"categor icon"})}),(0,r.jsxs)("div",{className:a.Z.fees_category_text,children:[(0,r.jsx)("h6",{children:h("fees_master")}),(0,r.jsxs)("p",{children:[h("fees_total")," ",null!==(n=i+l)&&void 0!==n?n:0]})]})]})}),(0,r.jsx)(c.Z,{carryParentState:u,activeTab:"fee&n=structure",children:(0,r.jsxs)("div",{className:a.Z.department_card_container,style:{marginTop:"0.8rem"},children:[(0,r.jsx)("img",{src:"/images/profileAndCover/department-profile-img.svg",alt:"department avatar",className:a.Z.department_card_image}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h6",{className:a.Z.department_card_name,children:h("fees_structure")}),(0,r.jsxs)("p",{className:a.Z.department_card_head,children:[h("total_fees_structure")," ",null!==o&&void 0!==o?o:0]})]})]})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{carryParentState:u,activeTab:"fee&n=category",accessRole:v,callApi:p,children:(0,r.jsxs)("div",{className:a.Z.fees_category,children:[(0,r.jsx)("div",{className:a.Z.fees_category_icon,children:(0,r.jsx)("img",{src:"/images/fees-category-icon.svg",alt:"categor icon"})}),(0,r.jsxs)("div",{className:a.Z.fees_category_text,children:[(0,r.jsx)("h6",{children:h("fees_master")}),(0,r.jsxs)("p",{children:[h("fees_total")," ",null!==(t=i+l)&&void 0!==t?t:0]})]})]})}),(0,r.jsx)(d.Z,{carryParentState:u,activeTab:"fee&n=structure",accessRole:v,callApi:p,children:(0,r.jsxs)("div",{className:a.Z.department_card_container,style:{marginTop:"0.8rem"},children:[(0,r.jsx)("img",{src:"/images/profileAndCover/department-profile-img.svg",alt:"department avatar",className:a.Z.department_card_image}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h6",{className:a.Z.department_card_name,children:h("fees_structure")}),(0,r.jsxs)("p",{className:a.Z.department_card_head,children:[h("total_fees_structure")," ",null!==o&&void 0!==o?o:0]})]})]})})]})})},v=function(e){var n,t,s,d=e.financeId,c=e.instituteId,v=e.fees_category_count,p=e.fee_master_array_count,m=e.fee_structure_count,h=e.carryParentState,_=e.accessRole,f=e.hostelId,g=e.callApi,x=e.pageOpenAs,j=(0,i.TH)();return(0,r.jsxs)("div",{className:a.Z.fess_container,children:["fee"===(null===j||void 0===j||null===(n=j.search)||void 0===n?void 0:n.substring(3))&&(0,r.jsx)(u,{instituteId:c,fees_category_count:null!==v&&void 0!==v?v:0,carryParentState:h,fee_master_array_count:null!==p&&void 0!==p?p:0,fee_structure_count:m,accessRole:_,callApi:g,pageOpenAs:x}),"category"===(null===j||void 0===j||null===(t=j.search)||void 0===t?void 0:t.substring(9))&&(0,r.jsx)(l.Z,{financeId:d,openAs:"HOSTEL_MANAGER"}),"structure"===(null===j||void 0===j||null===(s=j.search)||void 0===s?void 0:s.substring(9))&&(0,r.jsx)(o.Z,{financeId:d,instituteId:c,hostelId:f})]})}},35848:function(e,n,t){var i=t(93433),l=t(29439),o=t(72791),a=t(39230),s=t(23441),d=t(87338),c=t(98734),r=t(11105),u=t(98094),v=t(33302),p=t(66328),m=t(87457),h=t(16871),_=t(80184);n.Z=function(e){var n=e.financeId,t=e.hostelId,f=e.instituteId,g=e.viewAs,x=(0,a.$G)().t,j=(0,h.s0)(),Z=(0,o.useState)(!1),S=(0,l.Z)(Z,2),N=S[0],A=S[1],y=(0,s.YD)(),b=(0,l.Z)(y,2),C=b[0],E=b[1],I=(0,o.useState)(1),P=(0,l.Z)(I,2),w=P[0],T=P[1],k=(0,o.useState)(!0),R=(0,l.Z)(k,2),D=R[0],L=R[1],M=(0,o.useState)(!1),O=(0,l.Z)(M,2),F=O[0],q=O[1],B=(0,o.useState)(!0),H=(0,l.Z)(B,2),U=H[0],G=H[1],W=(0,o.useState)([]),V=(0,l.Z)(W,2),$=V[0],J=V[1],Y=(0,o.useState)(""),z=(0,l.Z)(Y,2),X=z[0],K=z[1],Q=(0,o.useState)(!1),ee=(0,l.Z)(Q,2),ne=ee[0],te=(ee[1],(0,d.Sz)({data:{hid:t,page:w,limit:10},skip:!t})),ie=te.getHostelFeeStructureList,le=te.getHostelFeeStructureListRefetch;(0,o.useEffect)((function(){t&&(G(!0),le())}),[t,w,le]),(0,o.useEffect)((function(){E&&D&&T((function(e){return e+1}))}),[E,D]),(0,o.useEffect)((function(){var e,n;F?(J(null===ie||void 0===ie?void 0:ie.all_structures),G(!1),q(!1)):null!==ie&&void 0!==ie&&ie.all_structures?(J((function(e){var n,t;return null===(n=(0,i.Z)(new Set(null===(t=[].concat((0,i.Z)(e),(0,i.Z)(null===ie||void 0===ie?void 0:ie.all_structures)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),G(!1)):0===(null===ie||void 0===ie||null===(n=ie.all_structures)||void 0===n?void 0:n.length)&&G(!1);10===(null===ie||void 0===ie||null===(e=ie.all_structures)||void 0===e?void 0:e.length)?L(!0):L(!1)}),[null===ie||void 0===ie?void 0:ie.all_structures]);var oe=function(){A((function(e){return!e}))},ae=function(){T(1),q(!0),G(!0),le()};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:m.Z.structure_container_title,style:{justifyContent:"HOSTEL_SEARCH"===g?"flex-start":"space-between",gap:"1rem"},children:["HOSTEL_SEARCH"===g&&(0,_.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){j(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,_.jsx)("h6",{children:x("fees_structure")}),(0,_.jsx)("div",{className:m.Z.upload_excel_container,children:"HOSTEL_SEARCH"===g?"":(0,_.jsx)("p",{className:m.Z.add_new_category,onClick:oe,children:x("add_new_fees_structure")})})]}),(0,_.jsx)(u.Z,{customStyle:{marginBottom:"1rem"}}),null===$||void 0===$?void 0:$.map((function(e,n){var t,i,l,o,a,s,d,c,r,u,v,p;return(null===$||void 0===$?void 0:$.length)===n+1?(0,_.jsxs)("div",{className:m.Z.fees_card,ref:C,onClick:function(){return K(null===e||void 0===e?void 0:e._id)},style:{cursor:"pointer"},children:[(0,_.jsx)("img",{src:"/images/fees-category-icon.svg",alt:"categor icon"}),(0,_.jsxs)("div",{className:m.Z.fees_card_text,children:[(0,_.jsxs)("div",{className:m.Z.fees_card_text_bottom,children:[(0,_.jsx)("h6",{children:null!==(t=null===e||void 0===e||null===(i=e.category_master)||void 0===i?void 0:i.category_name)&&void 0!==t?t:""}),(0,_.jsx)("h6",{children:null!==(l=null===e||void 0===e||null===(o=e.class_master)||void 0===o?void 0:o.className)&&void 0!==l?l:""})]}),(0,_.jsxs)("div",{className:m.Z.fees_card_text_bottom,children:[(0,_.jsx)("h6",{children:null!==(a=null===e||void 0===e?void 0:e.structure_name)&&void 0!==a?a:""}),(0,_.jsx)("h6",{children:null!==(s=null===e||void 0===e?void 0:e.total_admission_fees)&&void 0!==s?s:0})]})]})]},null===e||void 0===e?void 0:e._id):(0,_.jsxs)("div",{className:m.Z.fees_card,onClick:function(){return K(null===e||void 0===e?void 0:e._id)},style:{cursor:"pointer"},children:[(0,_.jsx)("img",{src:"/images/fees-category-icon.svg",alt:"categor icon"}),(0,_.jsxs)("div",{className:m.Z.fees_card_text,children:[(0,_.jsxs)("div",{className:m.Z.fees_card_text_bottom,children:[(0,_.jsx)("h6",{children:null!==(d=null===e||void 0===e||null===(c=e.category_master)||void 0===c?void 0:c.category_name)&&void 0!==d?d:""}),(0,_.jsx)("h6",{children:null!==(r=null===e||void 0===e||null===(u=e.class_master)||void 0===u?void 0:u.className)&&void 0!==r?r:""})]}),(0,_.jsxs)("div",{className:m.Z.fees_card_text_bottom,children:[(0,_.jsx)("h6",{children:null!==(v=null===e||void 0===e?void 0:e.structure_name)&&void 0!==v?v:""}),(0,_.jsx)("h6",{children:null!==(p=null===e||void 0===e?void 0:e.total_admission_fees)&&void 0!==p?p:0})]})]})]},null===e||void 0===e?void 0:e._id)})),ne&&(0,_.jsx)(c.Z,{}),U&&(0,_.jsx)(r.Z,{}),N&&(0,_.jsx)(v.Z,{onClose:oe,financeId:n,departmentId:t,onRefetch:ae,instituteId:f,flowAs:"Hostel_Manager"}),X&&(0,_.jsx)(p.Z,{structureId:X,setStructureId:K,onRefetch:ae,departmentId:t,instituteId:f,financeId:n,flowAs:"Hostel_Manager",viewAs:g})]})}},48025:function(e,n,t){t.d(n,{Z:function(){return g}});var i=t(93433),l=t(29439),o=t(72791),a=t(39230),s=t(23441),d=t(763),c=t(10406),r=t(11105),u=t(98094),v=t(16871),p=t(43504),m=t(69721),h=t(80184),_=function(e){var n,t,i,l=e.applicant,o=(0,a.$G)().t,s=(0,v.UO)();return(0,h.jsx)(p.rU,{to:"/q/".concat(s.username,"/student/profile/hostel"),state:{sid:null===l||void 0===l?void 0:l._id,viewAs:"ADMISSION_ADMIN",openTab:"FEES_DATA"},children:(0,h.jsxs)("div",{className:c.Z.hostelite_container,title:"View Profile",children:[(0,h.jsx)("img",{alt:"Student Avatar",src:"1"!==l.photoId?"".concat(m.yI,"/").concat(null===l||void 0===l?void 0:l.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,h.jsxs)("div",{className:c.Z.hostelite_container_inner,children:[(0,h.jsxs)("div",{className:c.Z.hostelite_container_inner_text,children:[(0,h.jsx)("h6",{children:"".concat(l.studentFirstName," ").concat(l.studentMiddleName?l.studentMiddleName:""," ").concat(l.studentLastName)}),(0,h.jsx)("p",{children:null!==(n=null===l||void 0===l||null===(t=l.student_unit)||void 0===t?void 0:t.hostel_unit_name)&&void 0!==n?n:""})]}),(0,h.jsxs)("div",{className:c.Z.hostelite_container_inner_text,children:[(0,h.jsxs)("h6",{children:[o("rs")," ",". ",null!==(i=null===l||void 0===l?void 0:l.hostelRemainFeeCount)&&void 0!==i?i:0]}),(0,h.jsx)("p",{children:o("pending_fees")})]})]})]})})},f=t(87338),g=function(e){var n=e.hid,t=e.instituteId,v=(0,a.$G)().t,p=(0,s.YD)(),m=(0,l.Z)(p,2),g=m[0],x=m[1],j=(0,o.useState)(1),Z=(0,l.Z)(j,2),S=Z[0],N=Z[1],A=(0,o.useState)(!0),y=(0,l.Z)(A,2),b=y[0],C=y[1],E=(0,o.useState)(!0),I=(0,l.Z)(E,2),P=I[0],w=I[1],T=(0,o.useState)([]),k=(0,l.Z)(T,2),R=k[0],D=k[1],L=(0,o.useState)(""),M=(0,l.Z)(L,2),O=M[0],F=M[1],q=(0,f.ah)({data:{hid:n,page:S,limit:10,search:O,id:t},skip:!n}),B=q.getPendingFeeByHostel,H=q.getPendingFeeByHostelRefetch;(0,o.useEffect)((function(){n&&(w(!0),H())}),[n,t,S,O,H]),(0,o.useEffect)((function(){x&&b&&N((function(e){return e+1}))}),[x,b]),(0,o.useEffect)((function(){var e,n;O?(D(null===B||void 0===B?void 0:B.remain),w(!1)):null!==B&&void 0!==B&&B.remain?(D((function(e){var n,t;return null===(n=(0,i.Z)(new Set(null===(t=[].concat((0,i.Z)(e),(0,i.Z)(null===B||void 0===B?void 0:B.remain)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),w(!1)):0===(null===B||void 0===B||null===(n=B.remain)||void 0===n?void 0:n.length)&&w(!1);10===(null===B||void 0===B||null===(e=B.remain)||void 0===e?void 0:e.length)?C(!0):C(!1)}),[null===B||void 0===B?void 0:B.remain]);var U=(0,o.useCallback)((0,d.debounce)((function(e){return F(e)}),500),[]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:c.Z.with_search,children:[(0,h.jsx)("h6",{children:v("remaining_fees")}),(0,h.jsx)("section",{className:c.Z.search_container,children:(0,h.jsxs)("div",{className:c.Z.search_container_input,children:[(0,h.jsx)("img",{className:c.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,h.jsx)("input",{type:"text",placeholder:"Search...",onChange:function(e){U(e.target.value)}})]})})]}),(0,h.jsx)(u.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),null===R||void 0===R?void 0:R.map((function(e,n){return(null===R||void 0===R?void 0:R.length)===n+1?(0,h.jsx)("div",{ref:g,children:(0,h.jsx)(_,{applicant:e})},null===e||void 0===e?void 0:e._id):(0,h.jsx)(_,{applicant:e},null===e||void 0===e?void 0:e._id)})),P&&(0,h.jsx)(r.Z,{})]})}},19765:function(e,n,t){var i=t(4942),l=t(1413),o=t(93433),a=t(37762),s=t(29439),d=t(72791),c=t(92994),r=t(39230),u=t(16871),v=t(72952),p=t(98734),m=t(98094),h=t(95048),_=t(91007),f=t(97655),g=t(79872),x=t(87338),j=t(84959),Z=t(42108),S=t(5574),N=t(81622),A=t(80184);n.Z=function(e){var n,t,y,b,C=e.hid,E=e.viewAs,I=(0,r.$G)().t,P=(0,u.s0)(),w=(0,d.useState)(!1),T=(0,s.Z)(w,2),k=T[0],R=T[1],D=(0,d.useState)({hostel_about:"",hostel_process:"",cashier_name:"",cashier_signature:""}),L=(0,s.Z)(D,2),M=L[0],O=L[1],F=(0,d.useState)([{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}]),q=(0,s.Z)(F,2),B=q[0],H=q[1],U=(0,d.useState)(""),G=(0,s.Z)(U,2),W=G[0],V=G[1],$=(0,d.useState)(""),J=(0,s.Z)($,2),Y=J[0],z=J[1],X=(0,d.useState)(!1),K=(0,s.Z)(X,2),Q=K[0],ee=K[1],ne=(0,d.useState)(!1),te=(0,s.Z)(ne,2),ie=te[0],le=te[1],oe=(0,d.useState)(""),ae=(0,s.Z)(oe,2),se=(ae[0],ae[1]),de=(0,h.v9)((function(e){return e.idChange.id})),ce=(0,_.pu)(de,{skip:"INSTITUTE"===E||!de}),re=ce.data,ue=ce.refetch;(0,d.useEffect)((function(){de&&ue()}),[de,ue]);var ve=(0,x.FA)({hid:C,skip:!C}),pe=ve.hostelGetSiteInfo,me=ve.hostelGetSiteInfoRefetch,he=(0,x.wJ)(),_e=(0,s.Z)(he,1)[0],fe=(0,j.FL)(),ge=(0,s.Z)(fe,1)[0];(0,d.useEffect)((function(){C&&me()}),[C,me]),(0,d.useEffect)((function(){var e,n,t,i,l,o;if(null!==pe&&void 0!==pe&&pe.hostel_site&&(O({hostel_about:null===pe||void 0===pe||null===(e=pe.hostel_site)||void 0===e?void 0:e.hostel_about,hostel_process:null===pe||void 0===pe||null===(n=pe.hostel_site)||void 0===n?void 0:n.hostel_process,cashier_name:null===pe||void 0===pe||null===(t=pe.hostel_site)||void 0===t?void 0:t.cashier_name,cashier_signature:null===pe||void 0===pe||null===(i=pe.hostel_site)||void 0===i?void 0:i.cashier_signature}),null!==pe&&void 0!==pe&&null!==(l=pe.hostel_site)&&void 0!==l&&null!==(o=l.hostel_contact)&&void 0!==o&&o.length)){var s,d,c=[],r=(0,a.Z)(null===pe||void 0===pe||null===(s=pe.hostel_site)||void 0===s?void 0:s.hostel_contact);try{for(r.s();!(d=r.n()).done;){var u=d.value,v={contact_department_name:null===u||void 0===u?void 0:u.contact_department_name,contact_person_name:null===u||void 0===u?void 0:u.contact_person_name,contact_person_mobile:null===u||void 0===u?void 0:u.contact_person_mobile,contact_person_email:null===u||void 0===u?void 0:u.contact_person_email,contactId:null===u||void 0===u?void 0:u._id};c.push(v)}}catch(p){r.e(p)}finally{r.f()}H(c)}}),[null===pe||void 0===pe?void 0:pe.hostel_site]);var xe=function(e,n){for(var t=(0,o.Z)(B),i=0;i<(null===t||void 0===t?void 0:t.length);i++)i===n&&(t[i][e.target.name]=e.target.value);H(t)},je=function(e){O((function(n){return(0,l.Z)((0,l.Z)({},n),{},(0,i.Z)({},e.target.name,e.target.value))}))};(0,d.useEffect)((function(){ie&&function(e){if(e){R((function(e){return!e}));var n=new FormData;n.append("file",e),ge({fileUpload:n}).then((function(e){var n;null!==(n=e.data)&&void 0!==n&&n.imageKey&&O((function(n){var t;return(0,l.Z)((0,l.Z)({},n),{},{cashier_signature:null===(t=e.data)||void 0===t?void 0:t.imageKey})})),R((function(e){return!e}))})).catch({})}}(Y)}),[ie,Y]);return(0,A.jsxs)("div",{className:c.Z.bgContainer,children:["INSTITUTE"===E?null:(0,A.jsx)("div",{className:c.Z.navbar,children:(0,A.jsx)(g.default,{status:"members",profileData:null===re||void 0===re?void 0:re.user,username:null===re||void 0===re||null===(n=re.user)||void 0===n?void 0:n.username,name:null===re||void 0===re||null===(t=re.user)||void 0===t?void 0:t.userLegalName,photoId:null===re||void 0===re||null===(y=re.user)||void 0===y?void 0:y.photoId,profilePhoto:null===re||void 0===re||null===(b=re.user)||void 0===b?void 0:b.profilePhoto})}),(0,A.jsxs)("div",{className:c.Z.container,children:[(0,A.jsxs)("div",{className:c.Z.containerhead,children:[(0,A.jsx)("h6",{children:I("update_hostel_site_info")}),(0,A.jsx)("img",{src:"/images/close-post-icon.svg",alt:"",onClick:function(){P(-1)}})]}),(0,A.jsx)(m.Z,{customStyle:{width:"100%"}}),(0,A.jsx)("div",{className:c.Z.containercontent,children:(0,A.jsxs)("div",{className:c.Z.container_inner_content,children:[(0,A.jsx)(v.Z,{labelText:I("about_hostel_department"),placeholder:I("about_hostel_department_placeholder"),name:"hostel_about",value:M.hostel_about,type:"text",onChange:je,customStyleContainer:{width:"100%"}}),(0,A.jsx)(v.Z,{labelText:I("hostel_process_site"),placeholder:I("hostel_process_site_placeholder"),name:"hostel_process",value:M.hostel_process,type:"text",onChange:je,customStyleContainer:{width:"100%"}}),(0,A.jsxs)("div",{className:c.Z.show_field,style:{alignItems:"flex-start"},children:[(0,A.jsx)(f.Z,{labelText:I("site_cashier_name"),placeholder:I("site_cashier_name_placeholder"),name:"cashier_name",value:null===M||void 0===M?void 0:M.cashier_name,type:"text",onChange:je,customStyleContainer:{width:"69.5%"}}),(0,A.jsx)(N.Z,{labelText:I("cashier_signature"),name:"cashier_signature",value:M.cashier_signature,onChange:function(e){if(e.target.files[0]){var n=URL.createObjectURL(e.target.files[0]);z(e.target.files[0]),se(n),V(n),ee(!0)}},customStyleContainer:{width:"29.5%"}})]}),(0,A.jsxs)("div",{className:c.Z.add_contact_person,children:[(0,A.jsx)("h6",{children:I("add_contact_persons")}),null===B||void 0===B?void 0:B.map((function(e,n){return(0,A.jsxs)("div",{children:[(0,A.jsxs)("div",{className:c.Z.show_field,children:[(0,A.jsx)(f.Z,{labelText:I("site_department_name"),placeholder:I("site_department_name_placeholder"),name:"contact_department_name",value:null===e||void 0===e?void 0:e.contact_department_name,type:"text",onChange:function(e){return xe(e,n)},customStyleContainer:{width:"49.5%"}}),(0,A.jsx)(f.Z,{labelText:I("contact_person_name"),placeholder:I("contact_person_name_placeholder"),name:"contact_person_name",value:null===e||void 0===e?void 0:e.contact_person_name,type:"text",onChange:function(e){return xe(e,n)},customStyleContainer:{width:"49.5%"}})]}),(0,A.jsxs)("div",{className:c.Z.show_field,children:[(0,A.jsx)(f.Z,{labelText:I("contact_person_mobile"),placeholder:I("contact_person_mobile_placeholder"),name:"contact_person_mobile",value:null===e||void 0===e?void 0:e.contact_person_mobile,type:"text",onChange:function(e){return xe(e,n)},customStyleContainer:{width:"49.5%"}}),(0,A.jsx)(f.Z,{labelText:I("contact_person_email"),placeholder:I("contact_person_email_placeholder"),name:"contact_person_email",value:null===e||void 0===e?void 0:e.contact_person_email,type:"email",onChange:function(e){return xe(e,n)},customStyleContainer:{width:"49.5%"}})]})]},n)}))]}),(0,A.jsx)("button",{className:c.Z.add_contact_person_btn,title:"Add Contact Person",onClick:function(){H((function(e){return[].concat((0,o.Z)(e),[{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}])}))},children:I("add_contact_person")}),k&&(0,A.jsx)(p.Z,{}),(0,A.jsx)("button",{className:c.Z.update_btn,onClick:function(){R((function(e){return!e})),_e({hid:C,updateSiteInfo:(0,l.Z)((0,l.Z)({},M),{},{hostel_contact:null===B||void 0===B?void 0:B.filter((function(e){return null!==e&&void 0!==e&&e.contactId?"":e})),edit_hostel_contact:null===B||void 0===B?void 0:B.filter((function(e){return null!==e&&void 0!==e&&e.contactId?e:""}))})}).then((function(){R((function(e){return!e}))})).catch({})},children:I("update")}),(0,A.jsx)(S.Z,{open:Q,children:(0,A.jsx)(Z.Z,{setPhotoURL:V,photoURL:W,setFile:z,setOpenCrop:ee,setUpload:le,setProfilePhoto:se,first:1,second:1})})]})})]})]})}},73309:function(e,n,t){t.d(n,{Z:function(){return N}});var i=t(29439),l=t(72791),o=t(39230),a=t(98094),s=t(10406),d=t(11105),c=t(1413),r=t(36665),u=t(87457),v=t(57431),p=t(98734),m=t(87338),h=t(97655),_=t(80184),f=function(e){var n=e.onClose,t=e.onRefetch,s=e.hostelId,d=(0,o.$G)().t,f=(0,l.useState)(""),g=(0,i.Z)(f,2),x=g[0],j=g[1],Z=(0,l.useState)(!1),S=(0,i.Z)(Z,2),N=S[0],A=S[1],y=(0,l.useState)({className:""}),b=(0,i.Z)(y,2),C=b[0],E=b[1],I=(0,m.T4)(),P=(0,i.Z)(I,1)[0];return(0,_.jsx)(r.Z,{onClose:n,children:(0,_.jsxs)("div",{className:u.Z.add_category_modal,children:[(0,_.jsxs)("div",{className:u.Z.add_category_modal_title,children:[(0,_.jsx)("h6",{children:d("create_new_master")}),(0,_.jsx)("img",{src:"/images/close-post-icon.svg",onClick:n,alt:""})]}),(0,_.jsx)(a.Z,{customStyle:{width:"100%",marginTop:"0.6rem",marginBottom:"0.6rem"}}),(0,_.jsx)(h.Z,{labelText:d("create_master_header_2"),placeholder:d("e.g. 6th Class/ FYJC"),name:"className",value:null===C||void 0===C?void 0:C.className,type:"text",onChange:function(e){var n;(null===(n=e.target.value)||void 0===n?void 0:n.length)<=40&&E((function(n){return(0,c.Z)((0,c.Z)({},n),{},{className:e.target.value})}))},errorShow:x}),(0,_.jsx)(v.Z,{maxLength:40,valueLength:C.className}),(0,_.jsx)("button",{className:u.Z.set_fees_structure_btn,title:"Create Standard",onClick:function(){C.className?s&&(A((function(e){return!e})),P({hid:s,hostelStandard:C}).then((function(){t(),n(),A((function(e){return!e}))})).catch({})):j(!0)},style:{justifyContent:"center"},children:d("create")}),N&&(0,_.jsx)(p.Z,{})]})})},g=t(72426),x=t.n(g),j=function(e){var n,t=e.standard,i=(0,o.$G)().t;return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("div",{className:s.Z.hostel_batch_container,children:[(0,_.jsx)("img",{className:s.Z.hostel_batch_image,src:"/images/master-24-grey-icon.svg",alt:"batch icon",style:{borderRadius:"0"}}),(0,_.jsxs)("div",{className:s.Z.hostel_batch_container_text,children:[(0,_.jsx)("h6",{children:null!==(n=null===t||void 0===t?void 0:t.className)&&void 0!==n?n:""}),(0,_.jsxs)("p",{children:[i("created_on_")," ",x()(null===t||void 0===t?void 0:t.createdAt).format("DD MMM yyyy")]})]})]})})},Z=t(16871),S=t(47167),N=function(e){var n,t,c=e.hid,r=e.carryParentState,u=e.pageOpenAs,v=(0,o.$G)().t,p=(0,Z.TH)(),h=(0,l.useState)([{name:v("batch"),id:0,url:"member/hostel?a=batch"},{name:v("hostel_tab_standard"),id:1,url:"member/hostel?a=standard"}]),g=(0,i.Z)(h,2),x=g[0],N=g[1],A=(0,l.useState)(!1),y=(0,i.Z)(A,2),b=y[0],C=y[1],E=(0,l.useState)(!0),I=(0,i.Z)(E,2),P=I[0],w=I[1],T=(0,m.yg)({hid:c,skip:!c}),k=T.getHostelAllStandard,R=T.getHostelAllStandardRefetch;(0,l.useEffect)((function(){u&&N([{name:v("batch"),id:0,url:"hostel?a=batch"},{name:v("hostel_tab_standard"),id:1,url:"hostel?a=standard"}])}),[u]),(0,l.useEffect)((function(){c&&(w(!0),R())}),[c,R]),(0,l.useEffect)((function(){var e;(null!==k&&void 0!==k&&k.all_masters||0===(null===k||void 0===k||null===(e=k.all_masters)||void 0===e?void 0:e.length))&&w(!1)}),[null===k||void 0===k?void 0:k.all_masters]);var D=function(){C((function(e){return!e}))};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(S.Z,{tabList:x,activeIndexTab:"batch"===(null===(n=p.search)||void 0===n?void 0:n.substring(3))?0:1,showAs:!0,customStyleTab:{width:"100%",marginTop:"-1rem"},customStyleLink:{width:"50%"},carryParentState:r}),(0,_.jsx)(a.Z,{customStyle:{marginBottom:"0.6rem",width:"100%"}}),(0,_.jsx)("div",{className:s.Z.with_search,children:(0,_.jsx)("h6",{children:v("hostel_standard")})}),(0,_.jsx)(a.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,_.jsx)("div",{className:s.Z.add_container,children:(0,_.jsx)("p",{className:s.Z.add_new_category,onClick:D,children:v("create_new_standard")})}),null===k||void 0===k||null===(t=k.all_masters)||void 0===t?void 0:t.map((function(e){return(0,_.jsx)(j,{standard:e},null===e||void 0===e?void 0:e._id)})),P&&(0,_.jsx)(d.Z,{status:"white"}),b&&(0,_.jsx)(f,{onClose:D,hostelId:c,onRefetch:function(){w(!0),R()}})]})}},49802:function(e,n,t){var i=t(4942),l=t(1413),o=t(29439),a=t(72791),s=t(39230),d=t(87338),c=t(98094),r=t(96146),u=t(90865),v=t(51561),p=t(10406),m=t(80184);n.Z=function(e){var n,t=e.hid,h=(0,a.useState)(""),_=(0,o.Z)(h,2),f=_[0],g=_[1],x=(0,s.$G)().t,j=(0,a.useState)(!1),Z=(0,o.Z)(j,2),S=Z[0],N=Z[1],A=(0,d._M)(),y=(0,o.Z)(A,1)[0],b=(0,d.GC)({hid:t,skip:!t}),C=b.getHostelForm,E=b.getHostelFormRefetch,I=(0,a.useState)({otherPersonalInfo:!1,enrollmentPrn:!1,identityDetails:!1,addressInfo:!1,parentsInfo:!1,previousSchoolAndDocument:{previousSchoolDocument:!1,aadharCard:!1,identityDocument:!1,casteCertificate:!1,joiningTransferLetter:!1,leavingTransferCertificate:!1,incomeCertificate:!1,lastYearMarksheet:!1,nationalityCertificate:!1,domicileCertificate:!1,nonCreamyLayerCertificate:!1},bankDetails:!1,cpi:!1,ug_undertakings_hostel_admission:!1,pg_undertakings_hostel_admission:!1}),P=(0,o.Z)(I,2),w=P[0],T=P[1];(0,a.useEffect)((function(){t&&E()}),[t,E]),(0,a.useEffect)((function(){var e,n,t,i,l,o,a,s,d,c,r,u,v,p,m,h,_,f,g,x,j,Z,S,N,A,y,b,E,I,P,w,k,R,D,L,M,O,F,q,B,H,U,G,W,V,$,J,Y,z,X;null!==C&&void 0!==C&&null!==(e=C.one_hostel)&&void 0!==e&&e.student_form_query&&T({otherPersonalInfo:null===C||void 0===C||null===(n=C.one_hostel)||void 0===n||null===(t=n.student_form_query)||void 0===t?void 0:t.otherPersonalInfo,enrollmentPrn:null===C||void 0===C||null===(i=C.one_hostel)||void 0===i||null===(l=i.student_form_query)||void 0===l?void 0:l.enrollmentPrn,identityDetails:null===C||void 0===C||null===(o=C.one_hostel)||void 0===o||null===(a=o.student_form_query)||void 0===a?void 0:a.identityDetails,addressInfo:null===C||void 0===C||null===(s=C.one_hostel)||void 0===s||null===(d=s.student_form_query)||void 0===d?void 0:d.addressInfo,parentsInfo:null===C||void 0===C||null===(c=C.one_hostel)||void 0===c||null===(r=c.student_form_query)||void 0===r?void 0:r.parentsInfo,previousSchoolAndDocument:{previousSchoolDocument:null===C||void 0===C||null===(u=C.one_hostel)||void 0===u||null===(v=u.student_form_query)||void 0===v||null===(p=v.previousSchoolAndDocument)||void 0===p?void 0:p.previousSchoolDocument,aadharCard:null===C||void 0===C||null===(m=C.one_hostel)||void 0===m||null===(h=m.student_form_query)||void 0===h||null===(_=h.previousSchoolAndDocument)||void 0===_?void 0:_.aadharCard,identityDocument:null===C||void 0===C||null===(f=C.one_hostel)||void 0===f||null===(g=f.student_form_query)||void 0===g||null===(x=g.previousSchoolAndDocument)||void 0===x?void 0:x.identityDocument,casteCertificate:null===C||void 0===C||null===(j=C.one_hostel)||void 0===j||null===(Z=j.student_form_query)||void 0===Z||null===(S=Z.previousSchoolAndDocument)||void 0===S?void 0:S.casteCertificate,joiningTransferLetter:null===C||void 0===C||null===(N=C.one_hostel)||void 0===N||null===(A=N.student_form_query)||void 0===A||null===(y=A.previousSchoolAndDocument)||void 0===y?void 0:y.joiningTransferLetter,leavingTransferCertificate:null===C||void 0===C||null===(b=C.one_hostel)||void 0===b||null===(E=b.student_form_query)||void 0===E||null===(I=E.previousSchoolAndDocument)||void 0===I?void 0:I.leavingTransferCertificate,incomeCertificate:null===C||void 0===C||null===(P=C.one_hostel)||void 0===P||null===(w=P.student_form_query)||void 0===w||null===(k=w.previousSchoolAndDocument)||void 0===k?void 0:k.incomeCertificate,lastYearMarksheet:null===C||void 0===C||null===(R=C.one_hostel)||void 0===R||null===(D=R.student_form_query)||void 0===D||null===(L=D.previousSchoolAndDocument)||void 0===L?void 0:L.lastYearMarksheet,nationalityCertificate:null===C||void 0===C||null===(M=C.one_hostel)||void 0===M||null===(O=M.student_form_query)||void 0===O||null===(F=O.previousSchoolAndDocument)||void 0===F?void 0:F.nationalityCertificate,domicileCertificate:null===C||void 0===C||null===(q=C.one_hostel)||void 0===q||null===(B=q.student_form_query)||void 0===B||null===(H=B.previousSchoolAndDocument)||void 0===H?void 0:H.domicileCertificate,nonCreamyLayerCertificate:null===C||void 0===C||null===(U=C.one_hostel)||void 0===U||null===(G=U.student_form_query)||void 0===G||null===(W=G.previousSchoolAndDocument)||void 0===W?void 0:W.nonCreamyLayerCertificate},bankDetails:null===C||void 0===C||null===(V=C.one_hostel)||void 0===V||null===($=V.student_form_query)||void 0===$?void 0:$.bankDetails,cpi:null===C||void 0===C||null===(J=C.one_hostel)||void 0===J||null===(Y=J.student_form_query)||void 0===Y?void 0:Y.cpi,ug_undertakings_hostel_admission:null===C||void 0===C||null===(z=C.one_hostel)||void 0===z?void 0:z.ug_undertakings_hostel_admission,pg_undertakings_hostel_admission:null===C||void 0===C||null===(X=C.one_hostel)||void 0===X?void 0:X.pg_undertakings_hostel_admission})}),[null===C||void 0===C||null===(n=C.one_hostel)||void 0===n?void 0:n.student_form_query]);var k=function(e,n){var o=(0,l.Z)({},w);for(var a in o)a===e&&(o[a]=n);y({hid:t,formSetting:{student_form_query:o,ug_undertakings_hostel_admission:o.ug_undertakings_hostel_admission,pg_undertakings_hostel_admission:o.pg_undertakings_hostel_admission}}).then((function(){g("Add joining details updated"),N(!0)})).catch({}),T((function(t){return(0,l.Z)((0,l.Z)({},t),{},(0,i.Z)({},e,n))}))},R=function(e,n){var o=(0,l.Z)({},w);for(var a in"previousSchoolDocument"!==e||n||(o.previousSchoolAndDocument.aadharCard=!1,o.previousSchoolAndDocument.casteCertificate=!1,o.previousSchoolAndDocument.domicileCertificate=!1,o.previousSchoolAndDocument.identityDocument=!1,o.previousSchoolAndDocument.incomeCertificate=!1,o.previousSchoolAndDocument.joiningTransferLetter=!1,o.previousSchoolAndDocument.lastYearMarksheet=!1,o.previousSchoolAndDocument.leavingTransferCertificate=!1,o.previousSchoolAndDocument.nationalityCertificate=!1,o.previousSchoolAndDocument.nonCreamyLayerCertificate=!1),o.previousSchoolAndDocument)a===e&&(o.previousSchoolAndDocument[a]=n);y({hid:t,formSetting:{student_form_query:o}}).then((function(){g("Add joining details updated"),N(!0)})).catch({}),T((function(t){return(0,l.Z)((0,l.Z)({},t),{},{previousSchoolAndDocument:(0,l.Z)((0,l.Z)({},t.previousSchoolAndDocument),{},(0,i.Z)({},e,n))})}))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:p.Z.with_search,children:(0,m.jsx)("h6",{children:x("hostel_form_setting")})}),(0,m.jsx)(c.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,m.jsxs)("div",{className:p.Z.staff_form_container,children:[(0,m.jsx)(u.Z,{labelHeading:x("personal_info_"),labelDescription:x("name_"),defaultLabel:!0}),(0,m.jsx)(c.Z,{}),(0,m.jsx)(u.Z,{labelHeading:x("enrollment_number"),labelDescription:x("enrollment_label_text"),defaultLabel:!1,checkedToggle:w.enrollmentPrn,onToggleHandler:function(e){return k("enrollmentPrn",e.target.checked)}}),(0,m.jsx)(c.Z,{}),(0,m.jsx)(u.Z,{labelHeading:x("other_info"),labelDescription:x("label_text"),defaultLabel:!1,checkedToggle:w.otherPersonalInfo,onToggleHandler:function(e){return k("otherPersonalInfo",e.target.checked)}}),(0,m.jsx)(c.Z,{}),(0,m.jsx)(u.Z,{labelHeading:x("i_details"),labelDescription:x("labeltext2"),defaultLabel:!1,checkedToggle:w.identityDetails,onToggleHandler:function(e){return k("identityDetails",e.target.checked)}}),(0,m.jsx)(c.Z,{}),(0,m.jsx)(u.Z,{labelHeading:x("add_info"),labelDescription:x("labeltext3"),defaultLabel:!1,checkedToggle:w.addressInfo,onToggleHandler:function(e){return k("addressInfo",e.target.checked)}}),(0,m.jsx)(c.Z,{}),(0,m.jsx)(u.Z,{labelHeading:x("parent_info_"),labelDescription:x("label_text2"),defaultLabel:!1,checkedToggle:w.parentsInfo,onToggleHandler:function(e){return k("parentsInfo",e.target.checked)}}),(0,m.jsx)(c.Z,{}),(0,m.jsxs)(u.Z,{labelHeading:x("prev_school_"),labelDescription:"",defaultLabel:!1,checkedToggle:w.previousSchoolAndDocument.previousSchoolDocument,onToggleHandler:function(e){return R("previousSchoolDocument",e.target.checked)},children:[(0,m.jsx)(r.Z,{checkLabel:x("aadhar_card"),checkedValue:w.previousSchoolAndDocument.aadharCard,onCheckboxAction:function(e){return R("aadharCard",e.target.checked)}}),(0,m.jsx)(r.Z,{checkLabel:x("labeltext4"),checkedValue:w.previousSchoolAndDocument.identityDocument,onCheckboxAction:function(e){return R("identityDocument",e.target.checked)}}),(0,m.jsx)(r.Z,{checkLabel:x("castee_"),checkedValue:w.previousSchoolAndDocument.casteCertificate,onCheckboxAction:function(e){return R("casteCertificate",e.target.checked)}}),(0,m.jsx)(r.Z,{checkLabel:x("joining_letter"),checkedValue:w.previousSchoolAndDocument.joiningTransferLetter,onCheckboxAction:function(e){return R("joiningTransferLetter",e.target.checked)}}),(0,m.jsx)(r.Z,{checkLabel:x("certificates"),checkedValue:w.previousSchoolAndDocument.leavingTransferCertificate,onCheckboxAction:function(e){return R("leavingTransferCertificate",e.target.checked)}}),(0,m.jsx)(r.Z,{checkLabel:x("i_certificate"),checkedValue:w.previousSchoolAndDocument.incomeCertificate,onCheckboxAction:function(e){return R("incomeCertificate",e.target.checked)}}),(0,m.jsx)(r.Z,{checkLabel:x("marksheet"),checkedValue:w.previousSchoolAndDocument.lastYearMarksheet,onCheckboxAction:function(e){return R("lastYearMarksheet",e.target.checked)}}),(0,m.jsx)(r.Z,{checkLabel:x("n_certificate"),checkedValue:w.previousSchoolAndDocument.nationalityCertificate,onCheckboxAction:function(e){return R("nationalityCertificate",e.target.checked)}}),(0,m.jsx)(r.Z,{checkLabel:x("d_certificate"),checkedValue:w.previousSchoolAndDocument.domicileCertificate,onCheckboxAction:function(e){return R("domicileCertificate",e.target.checked)}}),(0,m.jsx)(r.Z,{checkLabel:x("non_cremy"),checkedValue:w.previousSchoolAndDocument.nonCreamyLayerCertificate,onCheckboxAction:function(e){return R("nonCreamyLayerCertificate",e.target.checked)}})]}),(0,m.jsx)(c.Z,{}),(0,m.jsx)(u.Z,{labelHeading:x("bank_details_"),labelDescription:x("labeltext5"),defaultLabel:!1,checkedToggle:w.bankDetails,onToggleHandler:function(e){return k("bankDetails",e.target.checked)}}),(0,m.jsx)(c.Z,{}),(0,m.jsx)(u.Z,{labelHeading:x("hostel_cpi"),labelDescription:x("hostel_cpi_text"),defaultLabel:!1,checkedToggle:w.cpi,onToggleHandler:function(e){return k("cpi",e.target.checked)}}),(0,m.jsx)(c.Z,{}),(0,m.jsx)(u.Z,{labelHeading:x("turn_off_on_ug_hostel_undertakings"),labelDescription:"",defaultLabel:!1,checkedToggle:w.ug_undertakings_hostel_admission,onToggleHandler:function(e){return k("ug_undertakings_hostel_admission",e.target.checked)}}),(0,m.jsx)(c.Z,{}),(0,m.jsx)(u.Z,{labelHeading:x("turn_off_on_pg_hostel_undertakings"),labelDescription:"",defaultLabel:!1,checkedToggle:w.pg_undertakings_hostel_admission,onToggleHandler:function(e){return k("pg_undertakings_hostel_admission",e.target.checked)}}),(0,m.jsx)(c.Z,{})]}),(0,m.jsx)(v.Ch,{run:S,setRun:N,msg:f,postiton:"bottom",type:"success"})]})}},49215:function(e,n,t){t.d(n,{Z:function(){return T}});var i=t(93433),l=t(29439),o=t(72791),a=t(39230),s=t(23441),d=t(16871),c=t(11105),r=t(98094),u=t(1413),v=t(37762),p=t(46876),m=t(91022),h=t(98734),_=t(69721),f=t(36665),g=t(70374),x=t(72426),j=t.n(x),Z=t(80184),S=function(e){var n,t=e.setActivePopup,i=e.selectedApplication,l=e.selectedStaff,o=e.moderatorState,s=e.onAssignModerator,d=(0,a.$G)().t;return(0,Z.jsx)(f.Z,{children:(0,Z.jsxs)("div",{className:g.Z.assign_role_container,children:[(0,Z.jsxs)("section",{className:g.Z.assign_role_title,children:[(0,Z.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){},alt:"back icon"}),(0,Z.jsx)("h6",{children:d("preview")})]}),(0,Z.jsx)(r.Z,{customStyle:{width:"100%"}}),(0,Z.jsxs)("section",{className:g.Z.selected_staff_container,children:[(0,Z.jsx)("img",{src:null!==l&&void 0!==l&&l.staffProfilePhoto?"".concat(_.yI,"/").concat(null===l||void 0===l?void 0:l.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,Z.jsxs)("div",{className:g.Z.selected_staff_text,children:[(0,Z.jsx)("h6",{children:"".concat(null===l||void 0===l?void 0:l.staffFirstName," ").concat(null!==(n=null===l||void 0===l?void 0:l.staffMiddleName)&&void 0!==n?n:""," ").concat(null===l||void 0===l?void 0:l.staffLastName)}),(0,Z.jsxs)("p",{children:[d("index_number"),null===l||void 0===l?void 0:l.staffROLLNO]})]})]}),(0,Z.jsx)("section",{style:{padding:"0.8rem"},children:(0,Z.jsx)(m.Z,{selectLabel:d("select_role_of_moderator"),selectedValue:d("please_select_role"),value:"ALL_FEE_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Application Manager":"INQUIRY_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Enquiries Section":"FULL_ACCESS",openAs:"REFUND"})}),null===i||void 0===i?void 0:i.map((function(e){var n,t,i;return(0,Z.jsxs)("div",{className:g.Z.application_card,children:[(0,Z.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,Z.jsxs)("section",{className:g.Z.application_card_text,children:[(0,Z.jsx)("h6",{children:null!==(n=null===e||void 0===e?void 0:e.applicationName)&&void 0!==n?n:""}),(0,Z.jsxs)("div",{className:g.Z.application_card_text_bottom,children:[(0,Z.jsx)("p",{children:null!==(t=null===e||void 0===e||null===(i=e.applicationDepartment)||void 0===i?void 0:i.dName)&&void 0!==t?t:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,Z.jsx)("p",{children:j()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id)})),(0,Z.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,Z.jsxs)("button",{className:g.Z.select_application_btn,onClick:function(){return t("SELECT_APPLICATION")},children:[(0,Z.jsx)("div",{children:d("add_more")}),(0,Z.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),(0,Z.jsxs)("button",{className:g.Z.assign_btn,onClick:s,children:[d("assign")," "]})]})]})})},N=function(e){var n,t=e.onCloseEdit,i=e.setActivePopup,l=e.selectedStaff,o=e.moderatorState,s=e.onSelectRole,d=e.onUpdateModerator,c=e.selectedApplication,u=(0,a.$G)().t;return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(f.Z,{onClose:t,children:(0,Z.jsxs)("div",{className:g.Z.assign_role_container,children:[(0,Z.jsxs)("section",{className:g.Z.assign_role_title,children:[(0,Z.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:t,alt:"back icon",style:{cursor:"pointer"}}),(0,Z.jsx)("h6",{children:u("update_role_to_moderator")})]}),(0,Z.jsx)(r.Z,{customStyle:{width:"100%"}}),(0,Z.jsxs)("section",{className:g.Z.selected_staff_container,onClick:function(){return i("OPEN_STAFF_LIST")},children:[(0,Z.jsx)("img",{src:null!==l&&void 0!==l&&l.staffProfilePhoto?"".concat(_.yI,"/").concat(null===l||void 0===l?void 0:l.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,Z.jsxs)("div",{className:g.Z.selected_staff_text,children:[(0,Z.jsx)("h6",{children:"".concat(null===l||void 0===l?void 0:l.staffFirstName," ").concat(null!==(n=null===l||void 0===l?void 0:l.staffMiddleName)&&void 0!==n?n:""," ").concat(null===l||void 0===l?void 0:l.staffLastName)}),(0,Z.jsxs)("p",{children:[u("index_number"),null===l||void 0===l?void 0:l.staffROLLNO]})]})]}),(0,Z.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,Z.jsx)(m.Z,{selectLabel:u("select_role_of_moderator"),selectedValue:u("please_select_role"),options:["Fee receipt authority","Application Manager","Renewal Manager","Deposit Moderator","Pending Fee Manager","Complaint Moderator","Fee Structure Moderator","Rules and Announcement Moderator","Income and Expense Moderator","Tab Authority","Data Export Authority"],value:"ALL_FEE_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Application Manager":"RENEWAL_UNIT_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Renewal Manager":"DEPOSIT_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Deposit Moderator":"COMPAINT_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Complaint Moderator":"PENDING_FEE_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Pending Fee Manager":"FEE_MASTER_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Fee Structure Moderator":"RULES_AND_ANNOUNCEMENT_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Rules and Announcement Moderator":"INCOME_AND_EXPENSE_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Income and Expense Moderator":"ONE_TAB_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Tab Authority":"DATA_EXPORT_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Data Export Authority":"",onClick:s}),null===c||void 0===c?void 0:c.map((function(e){var n,t,i;return(0,Z.jsxs)("div",{className:g.Z.application_card,style:{width:"100%",margin:"1rem 0 0"},children:[(0,Z.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,Z.jsxs)("section",{className:g.Z.application_card_text,children:[(0,Z.jsx)("h6",{children:null!==(n=null===e||void 0===e?void 0:e.applicationName)&&void 0!==n?n:""}),(0,Z.jsxs)("div",{className:g.Z.application_card_text_bottom,children:[(0,Z.jsx)("p",{children:null!==(t=null===e||void 0===e||null===(i=e.applicationDepartment)||void 0===i?void 0:i.dName)&&void 0!==t?t:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,Z.jsx)("p",{children:j()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id)})),"MULTI_APP_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)&&(0,Z.jsxs)("button",{className:g.Z.select_application_btn,onClick:function(){return i("SELECT_APPLICATION")},children:[(0,Z.jsx)("div",{children:u("moderator_select_application")}),(0,Z.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),(0,Z.jsxs)("button",{className:g.Z.assign_btn,onClick:d,children:[u("update")," "]})]})]})})})},A=t(87338),y=function(e){var n,t=e.setActivePopup,d=e.setSelectedApplication,u=e.setSelectedApplicationId,v=e.selectedApplicationId,p=e.openAs,m=e.role,h=e.hid,_=(0,a.$G)().t,x=(0,o.useState)(!0),S=(0,l.Z)(x,2),N=S[0],y=S[1],b=(0,o.useState)(1),C=(0,l.Z)(b,2),E=C[0],I=C[1],P=(0,s.YD)(),w=(0,l.Z)(P,2),T=w[0],k=w[1],R=(0,o.useState)([]),D=(0,l.Z)(R,2),L=D[0],M=D[1],O=(0,o.useState)(!0),F=(0,l.Z)(O,2),q=F[0],B=F[1],H=(0,A.Kj)({data:{hid:h,page:E,limit:10},skip:!h}),U=H.getOngoingApplicationList,G=H.getOngoingApplicationListRefetch;(0,o.useEffect)((function(){k&&N&&I((function(e){return e+1}))}),[k,N]),(0,o.useEffect)((function(){h&&(B(!0),G())}),[h,E,G]),(0,o.useEffect)((function(){var e;null!==U&&void 0!==U&&U.ongoing&&(M((function(e){var n,t;return null===(n=(0,i.Z)(new Set(null===(t=[].concat((0,i.Z)(e),(0,i.Z)(null===U||void 0===U?void 0:U.ongoing)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),B(!1)),10===(null===U||void 0===U||null===(e=U.ongoing)||void 0===e?void 0:e.length)?y(!0):y(!1)}),[null===U||void 0===U?void 0:U.ongoing]);var W=function(){t("EDIT"===p?"PREVIEW_FORM":"ASSIGN_ROLE")},V=function(e){null!==v&&void 0!==v&&v.includes(null===e||void 0===e?void 0:e._id)?(d((function(n){return null===n||void 0===n?void 0:n.filter((function(n){return(null===n||void 0===n?void 0:n._id)!==(null===e||void 0===e?void 0:e._id)}))})),u((function(n){return null===n||void 0===n?void 0:n.filter((function(n){return n!==(null===e||void 0===e?void 0:e._id)}))}))):(d((function(n){return n?[].concat((0,i.Z)(n),[e]):[e]})),u((function(n){return n?[].concat((0,i.Z)(n),[null===e||void 0===e?void 0:e._id]):[null===e||void 0===e?void 0:e._id]})))};return(0,Z.jsx)(f.Z,{onClose:W,children:(0,Z.jsxs)("div",{className:g.Z.assign_role_container,children:[(0,Z.jsxs)("section",{className:g.Z.assign_role_title,style:{position:"relative"},children:[(0,Z.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:W,alt:"back icon"}),(0,Z.jsx)("h6",{children:_("assign_role_to_moderator")}),(0,Z.jsxs)("button",{className:g.Z.select_btn,onClick:function(){t("EDIT"===p?"PREVIEW_FORM":"ONE_TAB_ACCESS"===m?"ASSIGN_ROLE":"MODERATOR_PREWVIEW")},children:[null!==(n=null===v||void 0===v?void 0:v.length)&&void 0!==n?n:""," "," ",_("select")]})]}),(0,Z.jsx)(r.Z,{customStyle:{width:"100%"}}),null===L||void 0===L?void 0:L.map((function(e,n){var t,i,l,o,a,s;return(null===L||void 0===L?void 0:L.length)===n+1?(0,Z.jsxs)("div",{className:null!==v&&void 0!==v&&v.includes(null===e||void 0===e?void 0:e._id)?"".concat(g.Z.application_card," ").concat(g.Z.application_card_active):g.Z.application_card,ref:T,onClick:function(){return V(e)},children:[(0,Z.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,Z.jsxs)("section",{className:g.Z.application_card_text,children:[(0,Z.jsx)("h6",{children:null!==(t=null===e||void 0===e?void 0:e.applicationName)&&void 0!==t?t:""}),(0,Z.jsxs)("div",{className:g.Z.application_card_text_bottom,children:[(0,Z.jsx)("p",{children:null!==(i=null===e||void 0===e||null===(l=e.applicationDepartment)||void 0===l?void 0:l.dName)&&void 0!==i?i:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,Z.jsx)("p",{children:j()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id):(0,Z.jsxs)("div",{className:null!==v&&void 0!==v&&v.includes(null===e||void 0===e?void 0:e._id)?"".concat(g.Z.application_card," ").concat(g.Z.application_card_active):g.Z.application_card,onClick:function(){return V(e)},children:[(0,Z.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,Z.jsxs)("section",{className:g.Z.application_card_text,children:[(0,Z.jsx)("h6",{children:null!==(o=null===e||void 0===e?void 0:e.applicationName)&&void 0!==o?o:""}),(0,Z.jsxs)("div",{className:g.Z.application_card_text_bottom,children:[(0,Z.jsx)("p",{children:null!==(a=null===e||void 0===e||null===(s=e.applicationDepartment)||void 0===s?void 0:s.dName)&&void 0!==a?a:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,Z.jsx)("p",{children:j()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id)})),q&&(0,Z.jsx)(c.Z,{})]})})},b=function(e){var n,t,i=e.instituteId,s=e.hid,d=e.onClose,c=e.onRefetchWhenAdd,x=e.openModeratorMenu,j=e.openAs,b=e.onEdit,C=(0,a.$G)().t,E=(0,o.useState)("EDIT"===j?"PREVIEW_FORM":"OPEN_STAFF_LIST"),I=(0,l.Z)(E,2),P=I[0],w=I[1],T=(0,o.useState)("EDIT"===j?null===x||void 0===x?void 0:x.access_staff:""),k=(0,l.Z)(T,2),R=k[0],D=k[1],L=(0,o.useState)({mod_role:"EDIT"===j?null===x||void 0===x?void 0:x.access_role:"",sid:"EDIT"===j?null===x||void 0===x||null===(n=x.access_staff)||void 0===n?void 0:n._id:"",app_array:[],one_tab:""}),M=(0,l.Z)(L,2),O=M[0],F=M[1],q=(0,o.useState)("EDIT"===j?null===x||void 0===x?void 0:x.access_application:[]),B=(0,l.Z)(q,2),H=B[0],U=B[1],G=(0,o.useState)([]),W=(0,l.Z)(G,2),V=W[0],$=W[1],J=(0,A.kE)(),Y=(0,l.Z)(J,1)[0];(0,o.useEffect)((function(){if("EDIT"===j){var e;D(null===x||void 0===x?void 0:x.access_staff),U(null===x||void 0===x?void 0:x.access_application);var n,t=[],i=(0,v.Z)(null===x||void 0===x?void 0:x.access_application);try{for(i.s();!(n=i.n()).done;){var l=n.value;t.push(null===l||void 0===l?void 0:l._id)}}catch(o){i.e(o)}finally{i.f()}$(t),F({mod_role:null===x||void 0===x?void 0:x.access_role,sid:null===x||void 0===x||null===(e=x.access_staff)||void 0===e?void 0:e._id,app_array:t}),w("PREVIEW_FORM")}}),[j]);var z=function(){w("OPEN_STAFF_LIST")},X=function(e){F((function(n){return(0,u.Z)((0,u.Z)({},n),{},{mod_role:"Fee receipt authority"===e?"ALL_FEE_ACCESS":"Application Manager"===e?"MULTI_APP_ACCESS":"Renewal Manager"===e?"RENEWAL_UNIT_ACCESS":"Deposit Moderator"===e?"DEPOSIT_ACCESS":"Pending Fee Manager"===e?"PENDING_FEE_ACCESS":"Complaint Moderator"===e?"COMPAINT_ACCESS":"Fee Structure Moderator"===e?"FEE_MASTER_ACCESS":"Rules and Announcement Moderator"===e?"RULES_AND_ANNOUNCEMENT_ACCESS":"Income and Expense Moderator"===e?"INCOME_AND_EXPENSE_ACCESS":"Tab Authority"===e?"ONE_TAB_ACCESS":"Data Export Authority"===e?"DATA_EXPORT_ACCESS":""})}))},K=function(){w("LOADING"),Y({hid:s,active_tab:O.one_tab,addModerator:"MULTI_APP_ACCESS"===(null===O||void 0===O?void 0:O.mod_role)||"ONE_TAB_ACCESS"===(null===O||void 0===O?void 0:O.mod_role)?{mod_role:O.mod_role,sid:O.sid,app_array:V}:O}).then((function(){c(),w(""),d()})).catch({})};return(0,Z.jsxs)(Z.Fragment,{children:["OPEN_STAFF_LIST"===P&&(0,Z.jsx)(p.default,{assignHead:"OPEN_STAFF_LIST"===P,headSelect:function(e){D(e),F((function(n){return(0,u.Z)((0,u.Z)({},n),{},{sid:null===e||void 0===e?void 0:e._id})})),w("EDIT"===j?"PREVIEW_FORM":"ASSIGN_ROLE")},title:C("staff_list"),onClose:d,instituteId:i,viewAs:"ADMISSION_ADMIN"}),"ASSIGN_ROLE"===P&&(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(f.Z,{onClose:z,children:(0,Z.jsxs)("div",{className:g.Z.assign_role_container,children:[(0,Z.jsxs)("section",{className:g.Z.assign_role_title,children:[(0,Z.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:z,alt:"back icon"}),(0,Z.jsx)("h6",{children:C("assign_role_to_moderator")})]}),(0,Z.jsx)(r.Z,{customStyle:{width:"100%"}}),(0,Z.jsxs)("section",{className:g.Z.selected_staff_container,children:[(0,Z.jsx)("img",{src:null!==R&&void 0!==R&&R.staffProfilePhoto?"".concat(_.yI,"/").concat(null===R||void 0===R?void 0:R.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,Z.jsxs)("div",{className:g.Z.selected_staff_text,children:[(0,Z.jsx)("h6",{children:"".concat(null===R||void 0===R?void 0:R.staffFirstName," ").concat(null!==(t=null===R||void 0===R?void 0:R.staffMiddleName)&&void 0!==t?t:""," ").concat(null===R||void 0===R?void 0:R.staffLastName)}),(0,Z.jsxs)("p",{children:[C("index_number"),null===R||void 0===R?void 0:R.staffROLLNO]})]})]}),(0,Z.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,Z.jsx)(m.Z,{selectLabel:C("select_role_of_moderator"),selectedValue:C("please_select_role"),options:["Fee receipt authority","Application Manager","Renewal Manager","Deposit Moderator","Pending Fee Manager","Complaint Moderator","Fee Structure Moderator","Rules and Announcement Moderator","Income and Expense Moderator","Tab Authority","Data Export Authority"],value:"ALL_FEE_ACCESS"===(null===O||void 0===O?void 0:O.mod_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===O||void 0===O?void 0:O.mod_role)?"Application Manager":"RENEWAL_UNIT_ACCESS"===(null===O||void 0===O?void 0:O.mod_role)?"Renewal Manager":"DEPOSIT_ACCESS"===(null===O||void 0===O?void 0:O.mod_role)?"Deposit Moderator":"COMPAINT_ACCESS"===(null===O||void 0===O?void 0:O.mod_role)?"Complaint Moderator":"PENDING_FEE_ACCESS"===(null===O||void 0===O?void 0:O.mod_role)?"Pending Fee Manager":"FEE_MASTER_ACCESS"===(null===O||void 0===O?void 0:O.mod_role)?"Fee Structure Moderator":"RULES_AND_ANNOUNCEMENT_ACCESS"===(null===O||void 0===O?void 0:O.mod_role)?"Rules and Announcement Moderator":"INCOME_AND_EXPENSE_ACCESS"===(null===O||void 0===O?void 0:O.mod_role)?"Income and Expense Moderator":"ONE_TAB_ACCESS"===(null===O||void 0===O?void 0:O.mod_role)?"Tab Authority":"DATA_EXPORT_ACCESS"===(null===O||void 0===O?void 0:O.mod_role)?"Data Export Authority":"",onClick:X}),"ONE_TAB_ACCESS"===O.mod_role&&(0,Z.jsx)(m.Z,{selectLabel:C("select_tab_role"),selectedValue:C("please_select_role"),options:["Application","Selected","Confirmed","Allotted","Cancelled"],value:null===O||void 0===O?void 0:O.one_tab,onClick:function(e){F((function(n){return(0,u.Z)((0,u.Z)({},n),{},{one_tab:e})}))}}),"MULTI_APP_ACCESS"===O.mod_role?(0,Z.jsxs)("button",{className:g.Z.select_application_btn,onClick:function(){return w("SELECT_APPLICATION")},children:[(0,Z.jsx)("div",{children:C("moderator_select_application")}),(0,Z.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}):(0,Z.jsxs)("button",{className:g.Z.assign_btn,onClick:K,children:[C("assign")," "]})]})]})})}),"SELECT_APPLICATION"===P&&(0,Z.jsx)(y,{hid:s,setActivePopup:w,setSelectedApplication:U,selectedApplication:H,setSelectedApplicationId:$,selectedApplicationId:V,openAs:j,role:O.mod_role}),"MODERATOR_PREWVIEW"===P&&(0,Z.jsx)(S,{setActivePopup:w,selectedApplication:H,selectedStaff:R,moderatorState:O,onAssignModerator:K}),"PREVIEW_FORM"===P&&(0,Z.jsx)(N,{onCloseEdit:function(){d()},setActivePopup:w,selectedStaff:R,moderatorState:O,onSelectRole:X,onUpdateModerator:function(){b(O,V),d()},selectedApplication:H}),"LOADING"===P&&(0,Z.jsx)(h.Z,{})]})},C=t(12072),E=t(84489),I=t(87049),P=function(e){var n=e.onClose,t=e.hid,i=e.onRefetch,a=e.openModeratorMenu,s=e.instituteId,d=(0,o.useState)(!1),c=(0,l.Z)(d,2),r=c[0],u=c[1],v=(0,o.useState)(!1),p=(0,l.Z)(v,2),m=p[0],_=p[1],f=(0,A.UP)(),g=(0,l.Z)(f,1)[0],x=(0,A.DL)(),j=(0,l.Z)(x,1)[0];return(0,Z.jsx)(Z.Fragment,{children:m?(0,Z.jsx)(b,{onClose:function(){return _(!1)},hid:t,instituteId:s,onRefetch:i,openAs:"EDIT",openModeratorMenu:a,onEdit:function(e,t){u((function(e){return!e})),_(!1),j({modId:null===a||void 0===a?void 0:a._id,active_tab:null===e||void 0===e?void 0:e.one_tab,updateModerator:{role:null===e||void 0===e?void 0:e.mod_role,staffId:null===e||void 0===e?void 0:e.sid,app_array:"MULTI_APP_ACCESS"===(null===e||void 0===e?void 0:e.mod_role)||"MULTI_APP_ACCESS"===(null===e||void 0===e?void 0:e.mod_role)?t:[]}}).then((function(){i(),u((function(e){return!e})),n()})).catch({})}}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(E.Z,{onClose:n}),(0,Z.jsxs)(C.Z,{customStyle:{zIndex:"1200"},children:[(0,Z.jsxs)("div",{className:I.Z.edit_modal_container,style:{width:"200px"},children:[(0,Z.jsx)("h6",{className:I.Z.edit,onClick:function(){return _((function(e){return!e}))},children:"Edit"}),(0,Z.jsx)("h6",{className:I.Z.remove,onClick:function(){u((function(e){return!e})),g({hid:t,modId:null===a||void 0===a?void 0:a._id}).then((function(){i(),n(),u((function(e){return!e}))})).catch({})},children:"Delete"})]}),r&&(0,Z.jsx)(h.Z,{})]})]})})},w=function(e){var n,t,i,l,o,s,d,c,r,u,v,p=e.moderator,m=e.setOpenModeratorMenu,h=(0,a.$G)().t;return(0,Z.jsxs)("div",{className:g.Z.moderator_card,children:[(0,Z.jsx)("img",{src:null!==p&&void 0!==p&&null!==(n=p.access_staff)&&void 0!==n&&n.staffProfilePhoto?"".concat(_.yI,"/").concat(null===p||void 0===p||null===(t=p.access_staff)||void 0===t?void 0:t.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"moderator avatar"}),(0,Z.jsxs)("section",{className:g.Z.moderator_card_text_container,children:[(0,Z.jsx)("h6",{children:"".concat(null===p||void 0===p||null===(i=p.access_staff)||void 0===i?void 0:i.staffFirstName," ").concat(null!==(l=null===p||void 0===p||null===(o=p.access_staff)||void 0===o?void 0:o.staffMiddleName)&&void 0!==l?l:""," ").concat(null===p||void 0===p||null===(s=p.access_staff)||void 0===s?void 0:s.staffLastName)}),(0,Z.jsxs)("p",{children:[h("index_number"),null===p||void 0===p||null===(d=p.access_staff)||void 0===d?void 0:d.staffROLLNO]}),(0,Z.jsx)("p",{children:"ALL_FEE_ACCESS"===(null===p||void 0===p?void 0:p.access_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===p||void 0===p?void 0:p.access_role)?"Application Manager":"RENEWAL_UNIT_ACCESS"===(null===p||void 0===p?void 0:p.access_role)?"Renewal Manager":"DEPOSIT_ACCESS"===(null===p||void 0===p?void 0:p.access_role)?"Deposit Moderator":"PENDING_FEE_ACCESS"===(null===p||void 0===p?void 0:p.access_role)?"Pending Fee Manager":"COMPAINT_ACCESS"===(null===p||void 0===p?void 0:p.access_role)?"Complaint Moderator":"FEE_MASTER_ACCESS"===(null===p||void 0===p?void 0:p.access_role)?"Fee Structure Moderator":"RULES_AND_ANNOUNCEMENT_ACCESS"===(null===p||void 0===p?void 0:p.access_role)?"Rules and Announcement Moderator":"INCOME_AND_EXPENSE_ACCESS"===(null===p||void 0===p?void 0:p.access_role)?"Income and Expense Moderator":"ONE_TAB_ACCESS"===(null===p||void 0===p?void 0:p.access_role)?"Application"===(null===p||void 0===p||null===(c=p.active_tab)||void 0===c?void 0:c.role)?"Hostel Application Tab":"Selected"===(null===p||void 0===p||null===(r=p.active_tab)||void 0===r?void 0:r.role)?"Hostel Selected Tab":"Confirmed"===(null===p||void 0===p||null===(u=p.active_tab)||void 0===u?void 0:u.role)?"Hostel Confirmed Tab":"Allotted"===(null===p||void 0===p||null===(v=p.active_tab)||void 0===v?void 0:v.role)?"Hostel Allotted Tab":"Hostel Cancelled Tab":"DATA_EXPORT_ACCESS"===(null===p||void 0===p?void 0:p.access_role)?"Data Export Authority":""})]}),(0,Z.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(){return m(p)},className:g.Z.menu_icon,title:"Menu"})]})},T=function(e){var n=e.instituteId,t=e.hid,u=(0,a.$G)().t,v=(0,d.s0)(),p=(0,o.useState)(!1),m=(0,l.Z)(p,2),h=m[0],_=m[1],f=(0,o.useState)(""),x=(0,l.Z)(f,2),j=x[0],S=x[1],N=(0,s.YD)(),y=(0,l.Z)(N,2),C=y[0],E=y[1],I=(0,o.useState)(1),T=(0,l.Z)(I,2),k=T[0],R=T[1],D=(0,o.useState)(!0),L=(0,l.Z)(D,2),M=L[0],O=L[1],F=(0,o.useState)(!1),q=(0,l.Z)(F,2),B=q[0],H=q[1],U=(0,o.useState)(!0),G=(0,l.Z)(U,2),W=G[0],V=G[1],$=(0,o.useState)([]),J=(0,l.Z)($,2),Y=J[0],z=J[1],X=(0,A.CB)({data:{hid:t,page:k,limit:10},skip:!t}),K=X.getModeratorByHostel,Q=X.getModeratorByHostelRefetch;(0,o.useEffect)((function(){t&&(V(!0),Q())}),[t,k,Q]),(0,o.useEffect)((function(){E&&M&&R((function(e){return e+1}))}),[E,M]),(0,o.useEffect)((function(){var e,n;B?(z(null===K||void 0===K?void 0:K.all_mods),H(!1),V(!1)):null!==K&&void 0!==K&&K.all_mods?(z((function(e){var n,t;return null===(n=(0,i.Z)(new Set(null===(t=[].concat((0,i.Z)(e),(0,i.Z)(null===K||void 0===K?void 0:K.all_mods)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),V(!1)):0===(null===K||void 0===K||null===(n=K.all_mods)||void 0===n?void 0:n.length)&&V(!1);10===(null===K||void 0===K||null===(e=K.all_mods)||void 0===e?void 0:e.length)?O(!0):O(!1)}),[null===K||void 0===K?void 0:K.all_mods]);var ee=function(){H(!0),R(1),V(!0),Q()};return(0,Z.jsxs)("div",{className:g.Z.moderator_container,style:{marginTop:"0"},children:[(0,Z.jsxs)("section",{className:g.Z.moderator_container_title,children:[(0,Z.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){v(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,Z.jsx)("h6",{children:u("hostel_moderators")})]}),(0,Z.jsx)(r.Z,{customStyle:{width:"100%"}}),(0,Z.jsx)("h6",{className:g.Z.add_new_moderator,onClick:function(){return _(!0)},children:u("add_new_moderator")}),(0,Z.jsxs)("div",{className:g.Z.refund_list,children:[null===Y||void 0===Y?void 0:Y.map((function(e,n){return(null===Y||void 0===Y?void 0:Y.length)===n+1?(0,Z.jsx)("div",{ref:C,children:(0,Z.jsx)(w,{moderator:e,setOpenModeratorMenu:S})},null===e||void 0===e?void 0:e._id):(0,Z.jsx)(w,{moderator:e,setOpenModeratorMenu:S},null===e||void 0===e?void 0:e._id)})),h&&(0,Z.jsx)(b,{onClose:function(){return _((function(e){return!e}))},instituteId:n,hid:t,onRefetchWhenAdd:ee}),j&&(0,Z.jsx)(P,{hid:t,instituteId:n,onRefetch:ee,onClose:function(){return S("")},openModeratorMenu:j}),W&&(0,Z.jsx)(c.Z,{})]})]})}},96146:function(e,n,t){var i=t(1413),l=(t(72791),t(13034)),o=t(25801),a=t(39320),s=t(80184);n.Z=function(e){var n=e.checkLabel,t=e.onCheckboxAction,d=e.checkedValue,c=e.customStyle,r=e.name,u=e.customStyleLabel;return(0,s.jsx)("div",{className:a.Z.form_checkbox_container,style:(0,i.Z)({},c),children:(0,s.jsx)(o.Z,{control:(0,s.jsx)(l.Z,{sx:{color:"rgba(18, 18, 18, 0.7)"},onChange:t,checked:d,name:r}),label:n,sx:(0,i.Z)({},u)})})}},1999:function(e,n){n.Z={newPost:"NewAnnouncement_newPost__P0MSs",header:"NewAnnouncement_header__4FgoM",imgContainer:"NewAnnouncement_imgContainer__D-zZj",title:"NewAnnouncement_title__XZ99r",public:"NewAnnouncement_public__gr79X",privacyIcon:"NewAnnouncement_privacyIcon__pt718",select:"NewAnnouncement_select__viS+M",arrow:"NewAnnouncement_arrow__OBDH8",arrowIcon:"NewAnnouncement_arrowIcon__hAUsH",hr:"NewAnnouncement_hr__+nmR6",userName:"NewAnnouncement_userName__h9vNW",postTitle:"NewAnnouncement_postTitle__d5Uhn",postDesc:"NewAnnouncement_postDesc__rQu4i",postTextarea:"NewAnnouncement_postTextarea__6oAWU",hashTag:"NewAnnouncement_hashTag__GkP-m",btn:"NewAnnouncement_btn__WWbXt",upload:"NewAnnouncement_upload__U-vJ+",Container:"NewAnnouncement_Container__KAel7",selectedImg:"NewAnnouncement_selectedImg__UJO5z",addfiles:"NewAnnouncement_addfiles__u79vd",iconsContainer:"NewAnnouncement_iconsContainer__1h40Z",icons:"NewAnnouncement_icons__F82H4",tille:"NewAnnouncement_tille__8AF0K",description:"NewAnnouncement_description__Y-v3j",afterbtn:"NewAnnouncement_afterbtn__vZuPx",hashtag:"NewAnnouncement_hashtag__0v8Yo",listContainer:"NewAnnouncement_listContainer__1Tder",documentList:"NewAnnouncement_documentList__Da5La",pdfList:"NewAnnouncement_pdfList__lbuZn",pdfPreview:"NewAnnouncement_pdfPreview__yRLt2",border2:"NewAnnouncement_border2__b0wJ6",border1:"NewAnnouncement_border1__vzr9R",border3:"NewAnnouncement_border3__mH2cK",border4:"NewAnnouncement_border4__oF8nk",mainbody:"NewAnnouncement_mainbody__sq6d+"}}}]);
//# sourceMappingURL=4511.629b2ac6.chunk.js.map