"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[6220],{33030:function(e,o,n){var t=n(39230),i=n(80476),a=n(80184);o.Z=function(e){var o=e.label,n=e.onAction,l=e.customStyle,s=(0,t.$G)().t;return(0,a.jsx)("div",{className:i.Z.btn_container,onClick:function(){n()},style:l,children:s(o)})}},23984:function(e,o,n){var t=n(80476),i=n(80184);o.Z=function(e){var o=e.customStyle,n=e.children;return(0,i.jsx)("div",{className:t.Z.btn_wrapper,style:o,children:n})}},63687:function(e,o,n){var t=n(59393),i=n(80184);o.Z=function(e){var o=e.customStyle,n=e.children;return(0,i.jsx)("div",{className:t.Z.user_member_container_wrapper,style:o,children:n})}},66220:function(e,o,n){n.r(o),n.d(o,{default:function(){return O}});var t=n(29439),i=n(6758),a=n(98684),l=n(90904),s=n(33030),c=n(63687),r=n(21348),d=n(57588),_=n(91427),u=n(72791),v=n(39230),f=n(23441),h=n(23449),S=n(1095),m=n(89064),x=n(1413),C=n(48293),p=n(19056),j=n(93638),E=n(80184),A=function(e){var o,n=e.onCloseEdit,t=e.setActivePopup,i=e.selectedStaff,s=e.moderatorState,c=e.onSelectRole,d=e.onUpdateModerator,_=(0,v.$G)().t;return(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(C.Z,{onClose:n,children:(0,E.jsxs)("div",{className:h.Z.modal_container,children:[(0,E.jsx)(r.Z,{children:(0,E.jsx)("div",{className:h.Z.modal_container_header,children:(0,E.jsx)("h6",{children:_("update_role_to_moderator")})})}),(0,E.jsx)(l.Z,{}),(0,E.jsxs)(r.Z,{customStyle:{paddingTop:"0"},children:[(0,E.jsxs)("section",{className:h.Z.selected_staff_container,onClick:function(){return t("OPEN_STAFF_LIST")},style:{cursor:"pointer"},children:[(0,E.jsx)("img",{src:null!==i&&void 0!==i&&i.staffProfilePhoto?"".concat(S.yI,"/").concat(null===i||void 0===i?void 0:i.staffProfilePhoto):"".concat(a.p3,"/feed-user-avatar.svg"),alt:"staff profile avatar"}),(0,E.jsxs)("div",{className:h.Z.selected_staff_text,children:[(0,E.jsx)("h6",{children:"".concat(null===i||void 0===i?void 0:i.staffFirstName," ").concat(null!==(o=null===i||void 0===i?void 0:i.staffMiddleName)&&void 0!==o?o:""," ").concat(null===i||void 0===i?void 0:i.staffLastName)}),(0,E.jsxs)("p",{children:[_("index_number")," "," : ",null===i||void 0===i?void 0:i.staffROLLNO]})]})]}),(0,E.jsx)(p.Z,{selectLabel:_("select_role_of_moderator"),selectedValue:_("please_select_role"),options:["Cash Receipt Section","Inventories Section","Fees Master Section","Payroll Section","Deposit Section","Bank Account Section","Data Export Authority","Scholarship Manager"],defalutValue:"CASH_RECEIPT_ACCESS"===(null===s||void 0===s?void 0:s.mod_role)?"Cash Receipt Section":"INVENTORY_ACCESS"===(null===s||void 0===s?void 0:s.mod_role)?"Inventories Section":"FEE_MASTER_ACCESS"===(null===s||void 0===s?void 0:s.mod_role)?"Fees Master Section":"PAYROLL_ACCESS"===(null===s||void 0===s?void 0:s.mod_role)?"Payroll Section":"DEPOSIT_ACCESS"===(null===s||void 0===s?void 0:s.mod_role)?"Deposit Section":"BANK_ACCOUNT_ACCESS"===(null===s||void 0===s?void 0:s.mod_role)?"Bank Account Section":"DATA_EXPORT_ACCESS"===(null===s||void 0===s?void 0:s.mod_role)?"Data Export Authority":"SCHOLARSHIP_ACCESS"===(null===s||void 0===s?void 0:s.mod_role)?"Scholarship Manager":"",onClick:c}),(0,E.jsx)(j.Z,{label:"update",onAction:d})]})]})})})},Z=n(55336),g=n(90702),N=function(e){var o,n,s=e.instituteId,c=e.fid,d=e.onClose,_=e.openModeratorMenu,f=e.openAs,m=e.onEdit,N=(0,v.$G)().t,I=(0,u.useState)("EDIT"===f?"PREVIEW_FORM":"OPEN_STAFF_LIST"),P=(0,t.Z)(I,2),M=P[0],T=P[1],F=(0,u.useState)("EDIT"===f?null===_||void 0===_?void 0:_.access_staff:""),R=(0,t.Z)(F,2),O=R[0],y=R[1],L=(0,u.useState)({mod_role:"EDIT"===f?null===_||void 0===_?void 0:_.access_role:"",sid:"EDIT"===f?null===_||void 0===_||null===(o=_.access_staff)||void 0===o?void 0:o._id:""}),D=(0,t.Z)(L,2),b=D[0],k=D[1],U=(0,i.iM)(),B=(0,t.Z)(U,1)[0];(0,u.useEffect)((function(){var e;"EDIT"===f&&(y(null===_||void 0===_?void 0:_.access_staff),k({mod_role:null===_||void 0===_?void 0:_.access_role,sid:null===_||void 0===_||null===(e=_.access_staff)||void 0===e?void 0:e._id}),T("PREVIEW_FORM"))}),[f]);var H=function(e){k((function(o){return(0,x.Z)((0,x.Z)({},o),{},{mod_role:"Cash Receipt Section"===e?"CASH_RECEIPT_ACCESS":"Inventories Section"===e?"INVENTORY_ACCESS":"Fees Master Section"===e?"FEE_MASTER_ACCESS":"Payroll Section"===e?"PAYROLL_ACCESS":"Deposit Section"===e?"DEPOSIT_ACCESS":"Bank Account Section"===e?"BANK_ACCOUNT_ACCESS":"Data Export Authority"===e?"DATA_EXPORT_ACCESS":"Scholarship Manager"===e?"SCHOLARSHIP_ACCESS":""})}))};return(0,E.jsxs)(E.Fragment,{children:["OPEN_STAFF_LIST"===M&&(0,E.jsx)(g.Z,{onSelectStaff:function(e){y(e),k((function(o){return(0,x.Z)((0,x.Z)({},o),{},{sid:null===e||void 0===e?void 0:e._id})})),T("EDIT"===f?"PREVIEW_FORM":"ASSIGN_ROLE")},onClose:d,instituteId:s}),"ASSIGN_ROLE"===M&&(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(C.Z,{onClose:d,children:(0,E.jsxs)("div",{className:h.Z.modal_container,children:[(0,E.jsx)(r.Z,{children:(0,E.jsx)("div",{className:h.Z.modal_container_header,children:(0,E.jsx)("h6",{children:N("assign_role_to_moderator")})})}),(0,E.jsx)(l.Z,{}),(0,E.jsxs)(r.Z,{customStyle:{paddingTop:"0"},children:[(0,E.jsxs)("section",{className:h.Z.selected_staff_container,children:[(0,E.jsx)("img",{src:null!==O&&void 0!==O&&O.staffProfilePhoto?"".concat(S.yI,"/").concat(null===O||void 0===O?void 0:O.staffProfilePhoto):"".concat(a.p3,"/feed-user-avatar.svg"),alt:"staff profile avatar"}),(0,E.jsxs)("div",{className:h.Z.selected_staff_text,children:[(0,E.jsx)("h6",{children:"".concat(null===O||void 0===O?void 0:O.staffFirstName," ").concat(null!==(n=null===O||void 0===O?void 0:O.staffMiddleName)&&void 0!==n?n:""," ").concat(null===O||void 0===O?void 0:O.staffLastName)}),(0,E.jsxs)("p",{children:[N("index_no"),null===O||void 0===O?void 0:O.staffROLLNO]})]})]}),(0,E.jsx)(p.Z,{selectLabel:N("select_role_of_moderator"),selectedValue:N("please_select_role"),options:["Cash Receipt Section","Inventories Section","Fees Master Section","Payroll Section","Deposit Section","Bank Account Section","Data Export Authority","Scholarship Manager"],defalutValue:"CASH_RECEIPT_ACCESS"===(null===b||void 0===b?void 0:b.mod_role)?"Cash Receipt Section":"INVENTORY_ACCESS"===(null===b||void 0===b?void 0:b.mod_role)?"Inventories Section":"FEE_MASTER_ACCESS"===(null===b||void 0===b?void 0:b.mod_role)?"Fees Master Section":"PAYROLL_ACCESS"===(null===b||void 0===b?void 0:b.mod_role)?"Payroll Section":"DEPOSIT_ACCESS"===(null===b||void 0===b?void 0:b.mod_role)?"Deposit Section":"BANK_ACCOUNT_ACCESS"===(null===b||void 0===b?void 0:b.mod_role)?"Bank Account Section":"DATA_EXPORT_ACCESS"===(null===b||void 0===b?void 0:b.mod_role)?"Data Export Authority":"SCHOLARSHIP_ACCESS"===(null===b||void 0===b?void 0:b.mod_role)?"Scholarship Manager":"",onClick:H}),(0,E.jsx)(j.Z,{label:"assign",onAction:function(){T("LOADING"),B({fid:c,addModerator:b}).then((function(){T(""),d()})).catch({})}})]}),"LOADING"===M&&(0,E.jsx)(Z.Z,{})]})})}),"PREVIEW_FORM"===M&&(0,E.jsx)(A,{onCloseEdit:function(){d()},setActivePopup:T,selectedStaff:O,moderatorState:b,onSelectRole:H,onUpdateModerator:function(){m(b)}}),"LOADING"===M&&(0,E.jsx)(Z.Z,{})]})},I=function(e){var o=e.onClose,n=e.financeId,a=e.openModeratorMenu,l=e.instituteId,s=(0,v.$G)().t,c=(0,u.useState)(!1),r=(0,t.Z)(c,2),d=r[0],_=r[1],f=(0,u.useState)(!1),h=(0,t.Z)(f,2),S=h[0],x=h[1],C=(0,i.G8)(),p=(0,t.Z)(C,1)[0],j=(0,i.E6)(),A=(0,t.Z)(j,1)[0],Z=function(){x((function(e){return!e}))};return(0,E.jsx)(E.Fragment,{children:S?(0,E.jsx)(N,{onClose:Z,onEdit:function(e){_((function(e){return!e})),Z(),A({modId:null===a||void 0===a?void 0:a._id,updateModerator:{role:null===e||void 0===e?void 0:e.mod_role,staffId:null===e||void 0===e?void 0:e.sid}}).then((function(){_((function(e){return!e})),o()})).catch({})},openModeratorMenu:a,openAs:"EDIT",fid:n,instituteId:l}):(0,E.jsxs)(m.Z,{onClose:o,disabled:d,children:[(0,E.jsx)("h6",{onClick:Z,children:s("edit")}),(0,E.jsx)("h6",{onClick:function(){_((function(e){return!e})),p({fid:n,modId:null===a||void 0===a?void 0:a._id}).then((function(){o(),_((function(e){return!e}))})).catch({})},children:s("delete")})]})})},P=function(e){var o,n,i,l,s,c,r,d=e.moderator,_=e.instituteId,f=e.financeId,m=(0,v.$G)().t,x=(0,u.useState)(""),C=(0,t.Z)(x,2),p=C[0],j=C[1];return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{className:h.Z.moderator_card,children:[(0,E.jsx)("img",{src:null!==d&&void 0!==d&&null!==(o=d.access_staff)&&void 0!==o&&o.staffProfilePhoto?"".concat(S.yI,"/").concat(null===d||void 0===d||null===(n=d.access_staff)||void 0===n?void 0:n.staffProfilePhoto):"".concat(a.p3,"/feed-user-avatar.svg"),alt:"moderator avatar"}),(0,E.jsxs)("section",{className:h.Z.moderator_card_text_container,children:[(0,E.jsx)("h6",{children:"".concat(null===d||void 0===d||null===(i=d.access_staff)||void 0===i?void 0:i.staffFirstName," ").concat(null!==(l=null===d||void 0===d||null===(s=d.access_staff)||void 0===s?void 0:s.staffMiddleName)&&void 0!==l?l:""," ").concat(null===d||void 0===d||null===(c=d.access_staff)||void 0===c?void 0:c.staffLastName)}),(0,E.jsxs)("p",{children:[m("index_number")," "," : ",null===d||void 0===d||null===(r=d.access_staff)||void 0===r?void 0:r.staffROLLNO]}),(0,E.jsx)("p",{children:"CASH_RECEIPT_ACCESS"===(null===d||void 0===d?void 0:d.access_role)?"Cash Receipt Section":"INVENTORY_ACCESS"===(null===d||void 0===d?void 0:d.access_role)?"Inventories Section":"FEE_MASTER_ACCESS"===(null===d||void 0===d?void 0:d.access_role)?"Fees Master Section":"PAYROLL_ACCESS"===(null===d||void 0===d?void 0:d.access_role)?"Payroll Section":"DEPOSIT_ACCESS"===(null===d||void 0===d?void 0:d.access_role)?"Deposit Section":"BANK_ACCOUNT_ACCESS"===(null===d||void 0===d?void 0:d.access_role)?"Bank Account Section":"DATA_EXPORT_ACCESS"===(null===d||void 0===d?void 0:d.access_role)?"Data Export Authority":"SCHOLARSHIP_ACCESS"===(null===d||void 0===d?void 0:d.access_role)?"Scholarship Manager":""})]}),(0,E.jsx)("img",{src:"".concat(a.J7,"/menu.svg"),alt:"menu icon",onClick:function(){j(d)},className:h.Z.menu_icon,title:"Menu"})]}),p&&(0,E.jsx)(I,{onClose:function(){j("")},financeId:f,openModeratorMenu:p,instituteId:_})]})},M=n(56959),T=n(23984),F=n(1669),R=n(2651),O=function(e){var o,n,h,S,m=e.fid,x=e.instituteId,C=(0,v.$G)().t,p=(0,u.useState)(""),j=(0,t.Z)(p,2),A=j[0],g=j[1],I=(0,u.useState)(1),O=(0,t.Z)(I,2),y=O[0],L=O[1],D=(0,u.useState)(!0),b=(0,t.Z)(D,2),k=b[0],U=b[1],B=(0,f.YD)({skip:A}),H=(0,t.Z)(B,2),V=H[0],w=H[1],G=(0,u.useState)(!1),Y=(0,t.Z)(G,2),$=Y[0],J=Y[1],K=(0,i.NK)({data:{fid:m,page:y,limit:10,search:A},skip:!m}),W=K.financeModerator,X=K.financeModeratorLoading;(0,u.useEffect)((function(){w&&k&&L((function(e){return e+1}))}),[w,k]),(0,u.useEffect)((function(){var e;if(null!==W&&void 0!==W&&null!==(e=W.list)&&void 0!==e&&e.length){var o,n=(0,_.f)(null===W||void 0===W||null===(o=W.list)||void 0===o?void 0:o.length);U((function(){return n}))}}),[null===W||void 0===W||null===(o=W.list)||void 0===o?void 0:o.length]);var q=(0,u.useCallback)((0,d.J)((function(e){L((function(){return 1})),g(e)}),1500),[]),Q=function(){J((function(e){return!e}))};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(c.Z,{children:[(0,E.jsx)(r.Z,{children:(0,E.jsxs)("div",{className:M.Z.fm_header_container,children:[(0,E.jsx)("h6",{children:C("finance_moderators")}),(0,E.jsx)("div",{className:M.Z.fm_search,children:(0,E.jsx)("section",{className:M.Z.fm_search_container,children:(0,E.jsxs)("div",{className:M.Z.fm_search_container_inner,children:[(0,E.jsx)("img",{className:M.Z.fm_search_icon,alt:"search icon",src:"".concat(a.dB,"/navbar-search.svg")}),(0,E.jsx)("input",{type:"text",placeholder:C("search"),onChange:function(e){e.target.value?q(e.target.value):(L((function(){return 1})),g(""))}})]})})})]})}),(0,E.jsx)(l.Z,{}),(0,E.jsxs)(r.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,E.jsx)(T.Z,{children:(0,E.jsx)(s.Z,{label:"add_new_moderator",onAction:Q})}),null===W||void 0===W||null===(n=W.list)||void 0===n?void 0:n.map((function(e,o){var n;return(null===W||void 0===W||null===(n=W.list)||void 0===n?void 0:n.length)===o+1?(0,E.jsx)("div",{ref:V,children:(0,E.jsx)(P,{moderator:e,financeId:m,instituteId:x})},null===e||void 0===e?void 0:e._id):(0,E.jsx)(P,{moderator:e,financeId:m,instituteId:x},null===e||void 0===e?void 0:e._id)})),X?A?(0,E.jsx)(Z.Z,{}):(0,E.jsx)(F.Z,{}):A?0===(null===W||void 0===W||null===(h=W.list)||void 0===h?void 0:h.length)&&(0,E.jsx)(R.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No moderator fuond related this search."}):0===(null===W||void 0===W||null===(S=W.list)||void 0===S?void 0:S.length)&&(0,E.jsx)(R.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No moderator added."})]})]}),$&&(0,E.jsx)(N,{instituteId:x,fid:m,onClose:Q})]})}},90702:function(e,o,n){n.d(o,{Z:function(){return j}});var t=n(29439),i=n(49806),a=n(48293),l=n(21348),s=n(90904),c=n(98684),r=n(39230),d=n(72791),_=n(23441),u=n(91427),v=n(57588),f=n(6758),h=n(1095),S=n(80184),m=function(e){var o,n,t,a=e.staff,l=e.selectedId,d=e.onSelect,_=(0,r.$G)().t;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:i.Z.assign_show_list_each,style:l===(null===a||void 0===a?void 0:a._id)?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:null,onClick:function(){d(a)},children:[(0,S.jsx)("img",{src:null!==a&&void 0!==a&&a.staffProfilePhoto?"".concat(h.yI,"/").concat(a.staffProfilePhoto):"".concat(c.p3,"/feed-staff-avatar.svg"),alt:"profile avatar"}),(0,S.jsxs)("div",{className:i.Z.assign_each_paragraph,children:[(0,S.jsx)("h6",{children:"".concat(null!==(o=null===a||void 0===a?void 0:a.staffFirstName)&&void 0!==o?o:""," ").concat(null!==(n=null===a||void 0===a?void 0:a.staffMiddleName)&&void 0!==n?n:""," ").concat(null!==(t=null===a||void 0===a?void 0:a.staffLastName)&&void 0!==t?t:"")}),(0,S.jsxs)("p",{children:[_("index")," "," : ",null===a||void 0===a?void 0:a.staffROLLNO]})]})]}),(0,S.jsx)(s.Z,{customStyleBorder:{margin:"0"}})]})},x=n(55336),C=n(1669),p=n(2651),j=function(e){var o,n,h,j,E=e.onClose,A=e.selectedId,Z=e.onSelectStaff,g=e.instituteId,N=(0,r.$G)().t,I=(0,d.useState)(""),P=(0,t.Z)(I,2),M=P[0],T=P[1],F=(0,d.useState)(1),R=(0,t.Z)(F,2),O=R[0],y=R[1],L=(0,d.useState)(!0),D=(0,t.Z)(L,2),b=D[0],k=D[1],U=(0,_.YD)({skip:M}),B=(0,t.Z)(U,2),H=B[0],V=B[1],w=(0,f.nb)({data:{id:g,page:O,limit:10,search:M},skip:!g}),G=w.instituteAllStaff,Y=w.instituteAllStaffLoading;(0,d.useEffect)((function(){V&&b&&y((function(e){return e+1}))}),[V,b]),(0,d.useEffect)((function(){var e;if(null!==G&&void 0!==G&&null!==(e=G.list)&&void 0!==e&&e.length){var o,n=(0,u.f)(null===G||void 0===G||null===(o=G.list)||void 0===o?void 0:o.length);k((function(){return n}))}}),[null===G||void 0===G||null===(o=G.list)||void 0===o?void 0:o.length]);var $=(0,d.useCallback)((0,v.J)((function(e){y((function(){return 1})),T(e)}),1500),[]),J=function(e){A===(null===e||void 0===e?void 0:e._id)||Z(e)};return(0,S.jsx)(a.Z,{onClose:E,children:(0,S.jsxs)("div",{className:i.Z.modal_container,children:[(0,S.jsx)(l.Z,{children:(0,S.jsxs)("div",{className:i.Z.modal_container_outer_header,children:[(0,S.jsx)("div",{className:i.Z.modal_container_header,children:(0,S.jsx)("h6",{children:N("staff_list")})}),(0,S.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:E})]})}),(0,S.jsx)(s.Z,{}),(0,S.jsxs)(l.Z,{customStyle:{paddingBottom:"1rem"},children:[(0,S.jsxs)("div",{className:i.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,S.jsx)("input",{type:"text",placeholder:N("search"),className:i.Z.assign_search_input,onChange:function(e){e.target.value?$(e.target.value):(y((function(){return 1})),T(""))}}),(0,S.jsx)("img",{src:"".concat(c.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===G||void 0===G||null===(n=G.list)||void 0===n?void 0:n.map((function(e,o){var n;return(null===G||void 0===G||null===(n=G.list)||void 0===n?void 0:n.length)===o+1?(0,S.jsx)("div",{ref:H,children:(0,S.jsx)(m,{staff:e,selectedId:A,onSelect:J})},null===e||void 0===e?void 0:e._id):(0,S.jsx)(m,{staff:e,selectedId:A,onSelect:J},null===e||void 0===e?void 0:e._id)})),Y?M?(0,S.jsx)(x.Z,{}):(0,S.jsx)(C.Z,{}):M?0===(null===G||void 0===G||null===(h=G.list)||void 0===h?void 0:h.length)&&(0,S.jsx)(p.Z,{title:"No staff fuond related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===G||void 0===G||null===(j=G.list)||void 0===j?void 0:j.length)&&(0,S.jsx)(p.Z,{title:"No staff.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})}},23449:function(e,o){o.Z={moderator_card:"FinanceModerator_moderator_card__T--+-",moderator_card_text_container:"FinanceModerator_moderator_card_text_container__6jmpJ",menu_icon:"FinanceModerator_menu_icon__QsTsH",selected_staff_container:"FinanceModerator_selected_staff_container__xtfxL",selected_staff_text:"FinanceModerator_selected_staff_text__8sr0m",application_card:"FinanceModerator_application_card__05c8b",application_card_active:"FinanceModerator_application_card_active__yPVys",application_card_text:"FinanceModerator_application_card_text__wx+1V",application_card_text_bottom:"FinanceModerator_application_card_text_bottom__eLmpt",modal_container:"FinanceModerator_modal_container__P1hQi",modal_container_header:"FinanceModerator_modal_container_header__FPMSZ"}},49806:function(e,o){o.Z={modal_container:"PlateformUser_modal_container__tqwpY",modal_container_outer_header:"PlateformUser_modal_container_outer_header__HbF+9",modal_container_header:"PlateformUser_modal_container_header__QzyxM",modal_container_header_btn:"PlateformUser_modal_container_header_btn__dWfwA",assign_search_container:"PlateformUser_assign_search_container__dJdYj",assign_search_input:"PlateformUser_assign_search_input__aFF28",assign_show_list_each:"PlateformUser_assign_show_list_each__co2b1",assign_show_list_each_active:"PlateformUser_assign_show_list_each_active__SWwFS",assign_each_paragraph:"PlateformUser_assign_each_paragraph__bDgq6",close_icon:"PlateformUser_close_icon__VXKXH"}}}]);
//# sourceMappingURL=6220.b3faaccf.chunk.js.map