"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[401,4258],{96358:function(t,n,e){e.r(n),e.d(n,{default:function(){return I}});var i=e(29439),l=e(72791),o=e(56959),s=e(23441),d=e(91427),a=e(57588),c=e(63687),u=e(21348),r=e(90904),f=e(55336),v=e(1669),h=e(2651),m=e(36132),Z=e(39230),_=e(98684),x=e(59303),j=e(93433),S=e(90702),g=e(80184),p=function(t){var n=t.instituteId,e=t.modId,o=t.onRefetch,s=t.onClose,d=(0,l.useState)([]),a=(0,i.Z)(d,2),c=a[0],u=a[1],r=(0,l.useState)([]),v=(0,i.Z)(r,2),h=v[0],Z=(v[1],(0,l.useState)(!1)),_=(0,i.Z)(Z,2),x=_[0],p=_[1],k=(0,m.J$)(),I=(0,i.Z)(k,1)[0];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(S.Z,{title:"add_staff",onClose:s,instituteId:n,isMultiSelect:!0,onMultiSelect:function(t){null!==c&&void 0!==c&&c.includes(null===t||void 0===t?void 0:t._id)?u((function(n){return null===n||void 0===n?void 0:n.filter((function(n){return n!==(null===t||void 0===t?void 0:t._id)}))})):u((function(n){return[].concat((0,j.Z)(n),[null===t||void 0===t?void 0:t._id])}))},selectList:[].concat((0,j.Z)(c),(0,j.Z)(h)),onDone:function(){e&&(null===c||void 0===c?void 0:c.length)>0&&(p((function(t){return!t})),I({mid:e,addStaff:{flow:"Recommend_Section",staff_arr:c}}).then((function(){o(),p((function(t){return!t})),s()})).catch({}))}}),x&&(0,g.jsx)(f.Z,{})]})},k=e(93638),I=function(t){var n,e,j,S=t.modId,I=t.instituteId,R=(0,Z.$G)().t,C=(0,l.useState)(""),b=(0,i.Z)(C,2),w=b[0],N=b[1],L=(0,l.useState)(1),M=(0,i.Z)(L,2),y=M[0],A=M[1],q=(0,l.useState)(!0),D=(0,i.Z)(q,2),E=D[0],J=D[1],$=(0,s.YD)({skip:w}),B=(0,i.Z)($,2),F=B[0],G=B[1],O=(0,l.useState)(!1),Y=(0,i.Z)(O,2),z=Y[0],H=Y[1],K=(0,m.Ob)({data:{mid:S,page:y,limit:10,search:w,flow:"Recommend_Section"},skip:!S}),P=K.lmsModeratorAllStaffList,Q=K.lmsModeratorAllStaffListLoading,T=K.lmsModeratorAllStaffListRefetch;(0,l.useEffect)((function(){G&&E&&A((function(t){return t+1}))}),[G,E]),(0,l.useEffect)((function(){var t;if(null!==P&&void 0!==P&&null!==(t=P.list)&&void 0!==t&&t.length){var n,e=(0,d.f)(null===P||void 0===P||null===(n=P.list)||void 0===n?void 0:n.length);J((function(){return e}))}}),[null===P||void 0===P?void 0:P.list]);var U=(0,l.useCallback)((0,a.J)((function(t){A((function(){return 1})),N(t)}),1500),[]),V=(0,l.useCallback)((function(){A((function(){return 1})),N(""),T()}),[T]),W=function(){H((function(t){return!t}))};return(0,g.jsxs)(c.Z,{children:[(0,g.jsx)(u.Z,{children:(0,g.jsxs)("div",{className:o.Z.fm_header_container,children:[(0,g.jsx)("h6",{children:R("all_staffs")}),(0,g.jsxs)("div",{className:o.Z.fm_search,children:[(0,g.jsx)("section",{className:o.Z.fm_search_container,children:(0,g.jsxs)("div",{className:o.Z.fm_search_container_inner,children:[(0,g.jsx)("img",{className:o.Z.fm_search_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,g.jsx)("input",{type:"text",placeholder:R("search"),onChange:function(t){t.target.value?U(t.target.value):(A((function(){return 1})),N(""))}})]})}),(0,g.jsx)(k.Z,{label:R("add_new_staff"),customStyle:{margin:"0",padding:"0.4rem 1rem"},onAction:W})]})]})}),(0,g.jsx)(r.Z,{}),(0,g.jsxs)(u.Z,{children:[null===P||void 0===P||null===(n=P.list)||void 0===n?void 0:n.map((function(t,n){var e;return(null===P||void 0===P||null===(e=P.list)||void 0===e?void 0:e.length)===n+1?(0,g.jsx)("div",{ref:F,children:(0,g.jsx)(x.Z,{staff:t,onRefetch:V,flow:"Recommend_Section",modId:S})},null===t||void 0===t?void 0:t._id):(0,g.jsx)(x.Z,{staff:t,onRefetch:V,flow:"Recommend_Section",modId:S},null===t||void 0===t?void 0:t._id)})),Q?w?(0,g.jsx)(f.Z,{}):(0,g.jsx)(v.Z,{}):w?0===(null===P||void 0===P||null===(e=P.list)||void 0===e?void 0:e.length)&&(0,g.jsx)(h.Z,{title:"No staff leave history found related this search."}):0===(null===P||void 0===P||null===(j=P.list)||void 0===j?void 0:j.length)&&(0,g.jsx)(h.Z,{title:"No staff leave history."}),z&&(0,g.jsx)(p,{instituteId:I,modId:S,onRefetch:V,onClose:W})]})]})}}}]);
//# sourceMappingURL=401.3c0fede1.chunk.js.map