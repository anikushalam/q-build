"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[6876],{46876:function(n,t,i){i.r(t);var e=i(93433),s=i(29439),a=i(72791),r=i(23441),o=i(78687),c=i(12923),l=i(763),u=i(69721),f=i(52124),d=i(5574),h=i(39230),v=i(80184),_=window.innerHeight;t.default=function(n){var t=n.onClose,i=n.title,g=n.headSelect,p=n.assignHead,m=n.disabledId,S=n.instituteId,x=n.viewAs,k=(0,h.$G)().t,N=(0,a.useState)(1),Z=(0,s.Z)(N,2),w=Z[0],j=Z[1],A=(0,a.useState)(!0),M=(0,s.Z)(A,2),C=M[0],L=M[1],b=(0,r.YD)(),I=(0,s.Z)(b,2),R=I[0],F=I[1],O=(0,a.useState)(""),D=(0,s.Z)(O,2),y=D[0],P=D[1],E=a.useState([]),H=(0,s.Z)(E,2),U=H[0],q=H[1],z=(0,o.useSelector)((function(n){return n.idChange})),B=(0,c.vI)({skip:"ADMISSION_ADMIN"===x?!S:!(null!==z&&void 0!==z&&z.id),search:{search:y,page:w,id:"ADMISSION_ADMIN"===x?S:null===z||void 0===z?void 0:z.id,limit:10}}),G=B.assignSearchStaff,W=B.assignSearchStaffRefetch;a.useEffect((function(){null!==z&&void 0!==z&&z.id&&W()}),[null===z||void 0===z?void 0:z.id,W,w]),(0,a.useEffect)((function(){F&&C&&j((function(n){return n+1}))}),[F,C]),a.useEffect((function(){null!==G&&void 0!==G&&G.staff&&q(y?null===G||void 0===G?void 0:G.staff:function(n){return function(n){for(var t=0;t<(null===n||void 0===n?void 0:n.length);t++)for(var i=t+1;i<(null===n||void 0===n?void 0:n.length);i++){var e,s;(null===(e=n[t])||void 0===e?void 0:e._id)===(null===(s=n[i])||void 0===s?void 0:s._id)&&(null===n||void 0===n||n.splice(i,1))}return n}([].concat((0,e.Z)(n),(0,e.Z)(null===G||void 0===G?void 0:G.staff)))}),10===(null===G||void 0===G?void 0:G.staff.length)?L(!0):L(!1)}),[null===G||void 0===G?void 0:G.staff]),(0,a.useEffect)((function(){y&&J()}),[y]);var J=function(){W()},Q=(0,a.useCallback)((0,l.debounce)((function(n){return P(n)}),500),[]),T=function(n){m===(null===n||void 0===n?void 0:n._id)||(g(n),"ADMISSION_ADMIN"===x||t())};return(0,v.jsx)(d.Z,{open:p,onClose:t,children:(0,v.jsxs)("div",{style:{backgroundColor:"#FAFAFA",width:"35rem",height:"".concat(_-20,"px"),overflowX:"hidden"},children:[(0,v.jsxs)("div",{className:f.Z.assign_title,style:{width:"100%"},children:[(0,v.jsx)("h5",{children:i}),(0,v.jsx)("img",{src:"/images/close-post-icon.svg",onClick:t,alt:"staff assign pop close icon"})]}),(0,v.jsxs)("div",{className:f.Z.assign_search_container,children:[(0,v.jsx)("input",{type:"text",placeholder:k("search"),className:f.Z.assign_search_input,onChange:function(n){return t=n.target.value,void Q(t);var t}}),(0,v.jsx)("img",{src:"/images/search-dash-icon.svg",alt:"search icon"})]}),(0,v.jsx)("div",{className:f.Z.assign_show_list,children:null===U||void 0===U?void 0:U.map((function(n,t){return(null===U||void 0===U?void 0:U.length)===t+1?(0,v.jsxs)("div",{ref:R,children:[(0,v.jsxs)("div",{className:f.Z.assign_show_list_each,style:m===n._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:function(){return T(n)},children:[(0,v.jsx)("img",{src:null!==n&&void 0!==n&&n.staffProfilePhoto?"".concat(u.yI,"/").concat(n.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,v.jsxs)("div",{className:f.Z.assign_each_paragraph,children:[(0,v.jsx)("h6",{children:"".concat(n.staffFirstName," ").concat(null!==n&&void 0!==n&&n.staffMiddleName?null===n||void 0===n?void 0:n.staffMiddleName:""," ").concat(n.staffLastName)}),(0,v.jsxs)("p",{children:[" ",k("index")," ",null===n||void 0===n?void 0:n.staffROLLNO]})]})]}),(0,v.jsx)("hr",{})]},n._id):(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:f.Z.assign_show_list_each,style:m===n._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:function(){return T(n)},children:[(0,v.jsx)("img",{src:null!==n&&void 0!==n&&n.staffProfilePhoto?"".concat(u.yI,"/").concat(n.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,v.jsxs)("div",{className:f.Z.assign_each_paragraph,children:[(0,v.jsx)("h6",{children:"".concat(n.staffFirstName," ").concat(null!==n&&void 0!==n&&n.staffMiddleName?null===n||void 0===n?void 0:n.staffMiddleName:""," ").concat(n.staffLastName)}),(0,v.jsxs)("p",{children:[" ",k("index")," ",null===n||void 0===n?void 0:n.staffROLLNO]})]})]}),(0,v.jsx)("hr",{})]},n._id)}))})]})})}},12923:function(n,t,i){i.d(t,{Ec:function(){return x},Em:function(){return Z},JM:function(){return v},NS:function(){return r},Pg:function(){return _},Q_:function(){return S},RH:function(){return h},Tv:function(){return l},U_:function(){return m},VN:function(){return o},Wj:function(){return f},ZS:function(){return d},_8:function(){return k},d5:function(){return u},tB:function(){return p},vI:function(){return N},yx:function(){return c},zO:function(){return g}});var e=i(29439),s=i(91007),a=i(58208),r=function(n){var t=(0,a.YD)(n.search,{skip:n.skip});return{instituteAllSearch:t.data,instituteAllSearchRefetch:t.refetch}},o=function(){var n=(0,a.ak)();return[(0,e.Z)(n,1)[0]]},c=function(){var n=(0,a.WL)();return[(0,e.Z)(n,1)[0]]},l=function(n){var t=(0,a.pH)(n.list,{skip:n.skip});return{instituteFollowList:t.data,instituteFollowListRefetch:t.refetch}},u=function(n){var t=(0,a.MG)(n.data,{skip:n.skip});return{instituteOwnFollowingList:t.data,instituteOwnFollowingListRefetch:t.refetch}},f=function(){var n=(0,a.Ky)();return[(0,e.Z)(n,1)[0]]},d=function(n){var t=(0,a.p8)(n.list);return{userFollowList:t.data,userFollowListRefetch:t.refetch}},h=function(n){var t=(0,a.Wv)(n);return{userFollowingList:t.data,userFollowingListRefetch:t.refetch}},v=function(n){var t=(0,a.sz)(n.search,{skip:n.skip});return{userAllSearch:t.data,userAllSearchRefetch:t.refetch}},_=function(){var n=(0,a.Mk)();return[(0,e.Z)(n,1)[0]]},g=function(){var n=(0,a.$i)();return[(0,e.Z)(n,1)[0]]},p=function(){var n=(0,a.Do)();return[(0,e.Z)(n,1)[0]]},m=function(){var n=(0,a.He)();return[(0,e.Z)(n,1)[0]]},S=function(){var n=(0,a.vg)();return[(0,e.Z)(n,1)[0]]},x=function(){var n=(0,a.OO)();return[(0,e.Z)(n,1)[0]]},k=function(n){var t=(0,a.N2)(n);return{userCircleList:t.data,userCircleListRefetch:t.refetch}},N=function(n){var t=(0,s.x6)(n.search,{skip:n.skip});return{assignSearchStaff:t.data,assignSearchStaffRefetch:t.refetch}},Z=function(n){var t=(0,a.SJ)(n);return{universalUser:t.data,universalUserRefetch:t.refetch}}},52124:function(n,t){t.Z={assign_title:"AssignStaffModal_assign_title__4DGBV",assign_search_container:"AssignStaffModal_assign_search_container__3x6RD",assign_search_input:"AssignStaffModal_assign_search_input__rO3c7",assign_show_list:"AssignStaffModal_assign_show_list__yHhf7",assign_show_list_each:"AssignStaffModal_assign_show_list_each__ACUEw",assign_each_paragraph:"AssignStaffModal_assign_each_paragraph__pMHTq",universal_modal:"AssignStaffModal_universal_modal__czmpB",is_mulitselect_container:"AssignStaffModal_is_mulitselect_container__0cPQ2"}}}]);
//# sourceMappingURL=6876.f138ee8c.chunk.js.map