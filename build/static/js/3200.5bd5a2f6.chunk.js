"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[3200],{3638:function(e,t,s){s.d(t,{Z:function(){return Z}});var i=s(93433),n=s(1413),a=s(29439),_=s(72791),o=s(44820),r=s(39230),l=s(763),d=s(23441),c=s(6245),u=s(98094),h=s(16871),m=s(43504),v=s(69721),p=s(86109),b=s(98734),f=s(80184),S=function(e){var t,s,i,n,r,l,d,c,S=e.student,g=e.is_view,A=e.messageId,x=e.headId,I=e.instituteId,N=(0,h.UO)(),y=(0,_.useState)(!1),Z=(0,a.Z)(y,2),j=Z[0],E=Z[1],C=(0,p.OB)(),T=(0,a.Z)(C,1)[0];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(m.rU,{to:"/q/".concat(N.username,"/student/profile"),state:{sid:null===S||void 0===S?void 0:S._id,viewAs:g||"INSTITUTE_ADMIN",messageId:A,headId:x,studentMessaageView:"STUDENT_MESSAGE",instituteId:I},children:[(0,f.jsxs)("div",{className:o.Z.student_table_content_card,children:[(0,f.jsx)("p",{className:o.Z.student_table_header_label,style:{flex:"1"},children:null!==(t=null===S||void 0===S?void 0:S.studentGRNO)&&void 0!==t?t:""}),(0,f.jsxs)("div",{className:o.Z.student_table_profile,style:{flex:"3"},children:["ID_CARD_SECTION"===g?(0,f.jsx)("img",{src:null!==S&&void 0!==S&&S.studentProfilePhoto?"".concat(v.yI,"/").concat(null===S||void 0===S?void 0:S.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy",alt:"avatar",style:{cursor:"pointer"},title:"Download profile photo",onClick:function(e){e.preventDefault(),E(!0),T({instituteId:null===S||void 0===S?void 0:S._id}).then((function(e){var t;window.open("".concat(v.zQ,"/").concat(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.Key),"_blank"),E(!1)})).catch({})}}):(0,f.jsx)("img",{src:null!==S&&void 0!==S&&S.studentProfilePhoto?"".concat(v.yI,"/").concat(null===S||void 0===S?void 0:S.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy",alt:"avatar"}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("p",{className:o.Z.student_table_header_name,children:["".concat(null!==(s=null===S||void 0===S?void 0:S.studentFirstName)&&void 0!==s?s:""," ").concat(null!==(i=null===S||void 0===S?void 0:S.studentMiddleName)&&void 0!==i?i:""," ").concat(null!==(n=null===S||void 0===S?void 0:S.studentLastName)&&void 0!==n?n:""),"100"===(null===S||void 0===S?void 0:S.profile_percentage)||100===(null===S||void 0===S?void 0:S.profile_percentage)?(0,f.jsx)("img",{src:"/images/member_tab/class/profile-complete-icon.svg",loading:"lazy",alt:"avatar",style:{marginLeft:"0.6rem",height:"1rem"}}):null]}),(0,f.jsx)("p",{className:o.Z.student_table_header_label_text,children:null!==(r=null===S||void 0===S||null===(l=S.studentClass)||void 0===l?void 0:l.classTitle)&&void 0!==r?r:""})]})]}),(0,f.jsxs)("div",{className:o.Z.student_table_header_label,style:{flex:"2"},children:[(0,f.jsxs)("div",{className:o.Z.student_table_contact,children:[(0,f.jsx)("img",{src:"/images/user_signup/gender.svg",alt:"gender icon"}),(0,f.jsx)("p",{className:o.Z.student_table_contact_email,children:null===S||void 0===S?void 0:S.studentGender})]}),(0,f.jsxs)("div",{className:o.Z.student_table_contact,style:{marginTop:"0.4rem"},children:[(0,f.jsx)("img",{src:"/images/phone-white.svg",alt:""}),(0,f.jsx)("p",{className:o.Z.student_table_contact_number,children:null!==S&&void 0!==S&&S.user.userPhoneNumber?null===S||void 0===S?void 0:S.user.userPhoneNumber:null!==(d=null===S||void 0===S?void 0:S.user.userEmail)&&void 0!==d?d:""})]})]}),(0,f.jsx)("p",{className:o.Z.student_table_header_label,style:{flex:"1"},children:null!==(c=null===S||void 0===S?void 0:S.applicable_fees_pending)&&void 0!==c?c:0})]}),(0,f.jsx)(u.Z,{customStyle:{width:"100%"}})]}),j&&(0,f.jsx)(b.Z,{})]})},g=s(11105),A=s(34219),x=s(65543),I=s(29017),N=s(49807),y=s(75946),Z=function(e){var t,s=e.instituteId,v=e.is_view,p=e.viewId,b=e.studentAlias,Z=e.headId,j=e.carryParentState,E=(0,r.$G)().t,C=(0,h.UO)(),T=(0,_.useState)(!0),w=(0,a.Z)(T,2),D=w[0],k=w[1],F=(0,_.useState)(""),O=(0,a.Z)(F,2),R=O[0],M=O[1],P=(0,_.useState)(1),U=(0,a.Z)(P,2),H=U[0],Y=U[1],q=(0,d.YD)({skip:R}),G=(0,a.Z)(q,2),J=G[0],z=G[1],K=(0,_.useState)([]),V=(0,a.Z)(K,2),X=V[0],B=V[1],Q=(0,_.useState)(!0),L=(0,a.Z)(Q,2),W=L[0],$=L[1],ee=(0,_.useState)({depart_arr:[],batch_arr:[],master_arr:[],gender:"",cast_category:"",filter_by:""}),te=(0,a.Z)(ee,2),se=te[0],ie=te[1],ne=(0,_.useState)(!1),ae=(0,a.Z)(ne,2),_e=ae[0],oe=ae[1],re=(0,_.useState)(!1),le=(0,a.Z)(re,2),de=le[0],ce=le[1],ue=(0,_.useState)(!1),he=(0,a.Z)(ue,2),me=he[0],ve=he[1],pe=(0,_.useState)([]),be=(0,a.Z)(pe,2),fe=be[0],Se=be[1],ge=(0,x.u)().scrollToTop,Ae=(0,c.Dj)(),xe=(0,a.Z)(Ae,1)[0],Ie=(0,I.lR)({data:{aid:p,flow:"ADMISSION_ADMIN"===v?"Admission_Student_Filter":"FINANCE_MANAGER"===v?"Finance_Student_Filter":"CERTIFICATE_AUTHORITY"===v?"Certificate_Section_Filter":"STUDENT_SECTION"===v?"Student_Section_Filter":"ID_CARD_SECTION"===v?"Id_Card_Section_Filter":"Institute_Filter"},skip:!p}),Ne=Ie.getPendingCustomFilterByAdmission,ye=Ie.getPendingCustomFilterByAdmissionRefetch;(0,_.useEffect)((function(){p&&ye()}),[p,ye]),(0,_.useEffect)((function(){var e;if(null!==Ne&&void 0!==Ne&&null!==(e=Ne.ads_admin)&&void 0!==e&&e.pending_fee_custom_filter){var t,s=null===Ne||void 0===Ne||null===(t=Ne.ads_admin)||void 0===t?void 0:t.pending_fee_custom_filter;ie({depart_arr:null===s||void 0===s?void 0:s.department,batch_arr:null===s||void 0===s?void 0:s.batch,master_arr:null===s||void 0===s?void 0:s.master,gender:null===s||void 0===s?void 0:s.gender,cast_category:null===s||void 0===s?void 0:s.cast_category,filter_by:""}),ce(!0)}}),[null===Ne||void 0===Ne||null===(t=Ne.ads_admin)||void 0===t?void 0:t.pending_fee_custom_filter]);var Ze=(0,_.useCallback)((function(){de&&xe({id:s,page:H,limit:10,search:R,is_view:v,mid:p,filter_by:se.filter_by,filterData:(0,n.Z)({},se)}).then((function(e){var t;if(null!==(t=e.data)&&void 0!==t&&t.studentIns){var s,n,a,_,o,r,l;if(Se(null===(s=e.data)||void 0===s?void 0:s.all_student_query),R)B(null===(_=e.data)||void 0===_?void 0:_.studentIns),$(!1);else if(null!==(o=e.data)&&void 0!==o&&o.studentIns){var d;if(1===H)B(null===(d=e.data)||void 0===d?void 0:d.studentIns);else B((function(t){var s;return(0,i.Z)(new Set([].concat((0,i.Z)(t),(0,i.Z)(null===(s=e.data)||void 0===s?void 0:s.studentIns)).map(JSON.stringify))).map(JSON.parse)}));$(!1)}else 0===(null===(r=e.data)||void 0===r||null===(l=r.studentIns)||void 0===l?void 0:l.length)&&$(!1);10===(null===(n=e.data)||void 0===n||null===(a=n.studentIns)||void 0===a?void 0:a.length)?k(!0):k(!1)}})).catch({})}),[R,H,s,p,se,de]);(0,_.useEffect)((function(){z&&D&&Y((function(e){return e+1}))}),[z,D]),(0,_.useEffect)((function(){s&&($(!0),Ze())}),[H,s,R,Ze]),(0,_.useEffect)((function(){Y((function(e){return 1})),$(!0),Ze()}),[se]);var je=(0,_.useCallback)((0,l.debounce)((function(e){return M(e)}),500),[]);return(0,_.useEffect)((function(){ge()}),[ge]),(0,f.jsxs)("div",{className:o.Z.moderator_container,style:{marginTop:"0"},children:[(0,f.jsx)("section",{className:o.Z.moderator_container_title,children:(0,f.jsxs)("div",{className:o.Z.with_search,children:[(0,f.jsx)("h6",{children:E("all_students")}),(0,f.jsxs)("section",{className:o.Z.search_container,style:{gap:"1rem"},children:[(0,f.jsxs)("div",{className:o.Z.search_container_input,children:[(0,f.jsx)("img",{className:o.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,f.jsx)("input",{type:"text",placeholder:"Search student...",onChange:function(e){Y(1),je(e.target.value),e.target.value||(Ze(),$(!0))},style:{width:"400px"}})]}),(0,f.jsxs)("div",{className:o.Z.os_filter_container,children:[(0,f.jsx)("img",{src:"/images/filter-blue-icon.svg",alt:"filter icon",onClick:function(){return oe(!0)},style:{cursor:"pointer"}}),(0,f.jsx)(m.rU,{to:"/q/".concat(C.username,"FINANCE_MANAGER"===v?"/member/finance?a=student-message":"ADMISSION_ADMIN"===v?"/member/admission?a=student-message":"ID_CARD_SECTION"===v?"/member/idcard?a=student-message":"CERTIFICATE_AUTHORITY"===v?"/member/certificate?a=student-message":"STUDENT_SECTION"===v?"/member/promote?a=student-message":"/member"),state:j,children:(0,f.jsx)("img",{src:"/images/member_tab/finance/finance-message-log-icon.svg",alt:"receipt icon",title:"View message history",style:{height:"2rem",cursor:"pointer"}})}),(0,f.jsx)("button",{className:o.Z.os_reminder,onClick:function(){return ve(!0)},children:E("student_message")})]})]})]})}),(0,f.jsxs)("div",{className:o.Z.student_table,children:[(0,f.jsxs)("div",{className:o.Z.student_table_header,children:[(0,f.jsx)("p",{className:o.Z.student_table_header_label,style:{flex:"1"},children:null!==b&&void 0!==b?b:E("gr_no")}),(0,f.jsx)("p",{className:o.Z.student_table_header_label,style:{flex:"3"},children:E("name")}),(0,f.jsx)("p",{className:o.Z.student_table_header_label,style:{flex:"2"},children:E("contact_number")}),(0,f.jsx)("p",{className:o.Z.student_table_header_label,style:{flex:"1"},children:E("applicable_outs")})]}),(0,f.jsx)(u.Z,{customStyle:{width:"100%"}}),null===X||void 0===X?void 0:X.map((function(e,t){return(null===X||void 0===X?void 0:X.length)===t+1?(0,f.jsx)("div",{ref:J,children:(0,f.jsx)(S,{student:e,is_view:v,messageId:p,headId:Z,carryParentState:j,instituteId:s})},null===e||void 0===e?void 0:e._id):(0,f.jsx)(S,{student:e,is_view:v,messageId:p,headId:Z,carryParentState:j,instituteId:s},null===e||void 0===e?void 0:e._id)})),!W&&!X.length&&(0,f.jsx)(A.Z,{customStyleContainer:{marginTop:"9rem"},title:"No student found for this filter."}),W&&(0,f.jsx)(g.Z,{status:"white"})]}),_e&&(0,f.jsx)(N.Z,{onClose:function(){return oe(!1)},instituteId:s,setApplyFilter:ie,applyFilter:se}),me&&(0,f.jsx)(y.Z,{onClose:function(){return ve(!1)},messageId:p,headId:Z,viewAs:v,sendStudentList:fe,toRedirectUrl:"/q/".concat(C.username,"FINANCE_MANAGER"===v?"/member/finance?a=student-message":"ADMISSION_ADMIN"===v?"/member/admission?a=student-message":"ID_CARD_SECTION"===v?"/member/idcard?a=student-message":"CERTIFICATE_AUTHORITY"===v?"/member/certificate?a=student-message":"STUDENT_SECTION"===v?"/member/promote?a=student-message":"/student?a=student-message"),carryParentState:j,instituteId:s})]})}},44820:function(e,t){t.Z={moderator_container:"AdmissionScholarship_moderator_container__GUbIQ",moderator_container_title:"AdmissionScholarship_moderator_container_title__MbN+U",add_new_moderator:"AdmissionScholarship_add_new_moderator__MGNeH",menu_icon:"AdmissionScholarship_menu_icon__B9YVN",scholarship_card_container:"AdmissionScholarship_scholarship_card_container__YiX+2",assign_role_container:"AdmissionScholarship_assign_role_container__KLSzY",assign_role_title:"AdmissionScholarship_assign_role_title__nA6OZ",applicable_to_btn:"AdmissionScholarship_applicable_to_btn__n25MI",category_card:"AdmissionScholarship_category_card__kRdxE",category_card_hover_active:"AdmissionScholarship_category_card_hover_active__XXJS8",scholar_preview_container:"AdmissionScholarship_scholar_preview_container__K0hzS",candidate_card_container:"AdmissionScholarship_candidate_card_container__1Lc04",candidate_card_container_text:"AdmissionScholarship_candidate_card_container_text__zUgxy",candidate_card_row:"AdmissionScholarship_candidate_card_row__hDYoA",student_container:"AdmissionScholarship_student_container__Ry2e1",route_container:"AdmissionScholarship_route_container__wEm3e",student_container_text:"AdmissionScholarship_student_container_text__KwIJo",student_container_name:"AdmissionScholarship_student_container_name__bfrbV",search_container:"AdmissionScholarship_search_container__2ENBd",search_container_text:"AdmissionScholarship_search_container_text__X17qk",search_container_input:"AdmissionScholarship_search_container_input__QSRll",searchIcon:"AdmissionScholarship_searchIcon__YPa6A",allot_container:"AdmissionScholarship_allot_container__iJKiV",unused_container:"AdmissionScholarship_unused_container__i6a51",unused_container_text:"AdmissionScholarship_unused_container_text__KuIrZ",unused_container_text_inner:"AdmissionScholarship_unused_container_text_inner__D+gFH",intake_history:"AdmissionScholarship_intake_history__iDyMU",corpus_card:"AdmissionScholarship_corpus_card__bOH21",recieve_from:"AdmissionScholarship_recieve_from__yNMCX",save_entry:"AdmissionScholarship_save_entry__eYyIF",row_search:"AdmissionScholarship_row_search__5fuBb",with_search:"AdmissionScholarship_with_search__xsHhZ",search_container_filter:"AdmissionScholarship_search_container_filter__IiiOs",edit_btn:"AdmissionScholarship_edit_btn__qF3Jg",upload_excel_file:"AdmissionScholarship_upload_excel_file__nkxKf",student_table:"AdmissionScholarship_student_table__ZpE3f",student_table_header:"AdmissionScholarship_student_table_header__ErkoZ",student_table_header_label:"AdmissionScholarship_student_table_header_label__dQ+Vq",student_table_content_card:"AdmissionScholarship_student_table_content_card__mmiv4",student_table_profile:"AdmissionScholarship_student_table_profile__Ak4+x",student_table_header_name:"AdmissionScholarship_student_table_header_name__xAxgH",student_table_header_label_text:"AdmissionScholarship_student_table_header_label_text__AuJCV",student_table_contact:"AdmissionScholarship_student_table_contact__5nWX+",student_table_contact_email:"AdmissionScholarship_student_table_contact_email__daQ9J",student_table_contact_number:"AdmissionScholarship_student_table_contact_number__zN4WT",button_container:"AdmissionScholarship_button_container__a0HXK",next_btn:"AdmissionScholarship_next_btn__iHJSQ",select_hover:"AdmissionScholarship_select_hover__1++hd",select_hover_active:"AdmissionScholarship_select_hover_active__Esmn5",os_filter_container:"AdmissionScholarship_os_filter_container__nAIWN",os_reminder:"AdmissionScholarship_os_reminder__Hb6hi",next_student_btn:"AdmissionScholarship_next_student_btn__kbhv7"}}}]);
//# sourceMappingURL=3200.5bd5a2f6.chunk.js.map