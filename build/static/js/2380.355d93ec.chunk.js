"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[2380,4035],{53967:function(n,e,i){var t=i(93433),l=i(29439),o=i(72791),d=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],a=["January","February","March","April","May","June","July","August","September","October","November","December"];e.Z=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,i=new Date,s="".concat(i.getDate(),"-").concat(i.getMonth()+1,"-").concat(i.getFullYear()),c=(0,o.useState)(i),u=(0,l.Z)(c,2),r=u[0],v=u[1],p=new Date(r.getFullYear(),r.getMonth()+1,0).getDate(),m=new Date(r.getFullYear(),r.getMonth(),1).getDay(),_=[1,2,3,4,5,6,0].indexOf(m)+1,h=1,f={},x=[],g=1;g<7;g++){for(var j=1;j<8;j++)f[g]||(f[g]=[]),1===g?j<_||(f[g]=[].concat((0,t.Z)(f[g]),[{classes:"",date:"".concat(h,"-").concat(r.getMonth()+1,"-").concat(r.getFullYear()),value:h}]),h++):g>1&&h<p+1&&(f[g]=[].concat((0,t.Z)(f[g]),[{classes:"",date:"".concat(h,"-").concat(r.getMonth()+1,"-").concat(r.getFullYear()),value:h}]),h++);f[g].map((function(n){var e=n.date.split("-")[0],i=new Date(r.getFullYear(),r.getMonth(),e).getDay();return x.push({date:n.date,day:i}),""}))}return{daysShort:n,monthNames:e,todayFormatted:s,calendarData:x,selectedDate:r,getPrevMonth:function(){v((function(n){return new Date(n.getFullYear(),n.getMonth()-1,1)}))},getNextMonth:function(){v((function(n){return new Date(n.getFullYear(),n.getMonth()+1,1)}))},switchMonth:function(n){v((function(e){return new Date(e.getFullYear(),e.getMonth()+(n-r.getMonth()),1)})),console.log(a[r.getMonth()])}}}},9490:function(n,e,i){var t=i(29439),l=i(72791),o=i(53967),d=i(16313),a=i(80184);e.Z=function(n){var e=n.setValidDate,i=(0,o.Z)(),s=i.calendarData,c=i.selectedDate,u=i.todayFormatted,r=i.switchMonth,v=i.monthNames,p=i.getNextMonth,m=i.getPrevMonth,_=(0,l.useState)(u),h=(0,t.Z)(_,2),f=h[0],x=h[1],g=(0,l.useState)(!1),j=(0,t.Z)(g,2),Z=j[0],N=j[1];(0,l.useEffect)((function(){if(f){var n=f.split("-"),i=n[0]>9?n[0]:"0".concat(n[0]),t=n[1]>9?n[1]:"0".concat(n[1]),l=n[2];e("".concat(l,"-").concat(t,"-").concat(i))}}),[f]);var y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],b=Math.floor(s.map((function(n){return n.date})).indexOf(f)/7),I=(0,l.useState)(b),S=(0,t.Z)(I,2),C=S[0],A=S[1],k=7*C,P=Math.ceil(s.length/7),w=s.slice(k,k+7).map((function(n,e){return(0,a.jsxs)("div",{className:n.date===f?"".concat(d.Z.date," ").concat(d.Z.clickedDate):d.Z.date,onClick:function(){return x(n.date)},children:[(0,a.jsx)("h6",{children:n.date.split("-")[0]}),(0,a.jsx)("p",{children:y[n.day]})]},e)}));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:d.Z.changemonth,children:[(0,a.jsxs)("h6",{onClick:function(){return N(!Z)},children:[v[c.getMonth()]," ",c.getFullYear()]}),(0,a.jsx)("img",{alt:"not found",src:"/images/dropdown-icon.svg",onClick:function(){return N(!Z)}}),Z&&(0,a.jsx)("div",{className:d.Z.selectMonthList,children:["January","February","March","April","May","June","July","August","September","October","November","December"].map((function(n,e){return(0,a.jsx)("div",{className:d.Z.month,onClick:function(){r(e),N(!1)},children:n},e)}))})]}),(0,a.jsxs)("div",{className:d.Z.calender,children:[(0,a.jsx)("div",{className:d.Z.arrowbtn,onClick:function(){C>0?A((function(n){return n-1})):(A(P-1),m())},children:(0,a.jsx)("img",{alt:"not found",src:"/images/members/left-icon.svg"})}),(0,a.jsx)("div",{className:d.Z.dates,children:w}),(0,a.jsx)("div",{className:d.Z.arrowbtn,onClick:function(){C+1<P?A((function(n){return n+1})):(A(0),p())},children:(0,a.jsx)("img",{alt:"not found",src:"/images/members/right-icon.svg"})})]})]})}},7562:function(n,e,i){i.d(e,{nj:function(){return t}});var t=[{id:"nskjdfs",key:!0,name:"yes"},{id:"snkjdfs",key:!1,name:"no"}]},63162:function(n,e,i){var t=i(39230),l=i(51416),o=i(43504),d=i(72791),a=i(80184),s=function(n){var e=n.tab,i=n.isActive,d=n.isLink,s=n.parentState,c=n.onAction,u=n.url,r=(0,t.$G)().t;return d?(0,a.jsx)(o.rU,{className:i?l.Z.horizontal_tab_card_active:l.Z.horizontal_tab_card,to:u,state:s,children:(0,a.jsx)("h6",{children:r(null===e||void 0===e?void 0:e.label)})}):(0,a.jsx)("div",{className:i?l.Z.horizontal_tab_card_active:l.Z.horizontal_tab_card,onClick:function(){c(null===e||void 0===e?void 0:e.id)},children:(0,a.jsx)("h6",{children:r(null===e||void 0===e?void 0:e.label)})})};e.Z=(0,d.memo)(s)},98967:function(n,e,i){var t=i(51416),l=i(80184);e.Z=function(n){var e=n.children;return(0,l.jsx)("div",{className:t.Z.horizontal_tab_wrapper,children:e})}},26071:function(n,e,i){var t=i(51416),l=i(39230),o=i(80184);e.Z=function(n){var e=n.tile,i=n.onTile,d=n.activeTile,a=n.customTileChild,s=(0,l.$G)().t;return(0,o.jsx)("div",{className:(null===e||void 0===e?void 0:e.key)===d?t.Z.tile_tile_active:t.Z.tile_tile,onClick:function(){return i(null===e||void 0===e?void 0:e.key)},style:a,children:s(null===e||void 0===e?void 0:e.name)})}},20659:function(n,e,i){var t=i(51416),l=i(39230),o=i(80184);e.Z=function(n){var e=n.label,i=n.customTileLabel,d=n.customTileContainer,a=n.children,s=(0,l.$G)().t;return(0,o.jsxs)("div",{className:t.Z.tile_container,children:[e&&(0,o.jsx)("h6",{className:t.Z.tile_label,style:i,children:s(e)}),(0,o.jsx)("section",{className:t.Z.tile_tile_container,style:d,children:a})]})}},18862:function(n,e,i){i.r(e),i.d(e,{default:function(){return Hn}});var t=i(29439),l=i(43504),o=i(16871),d=i(43317),a=i(72791),s=i(39230),c=i(23441),u=i(91427),r=i(57588),v=i(98684),p=i(56959),m=i(21348),_=i(90904),h=i(98967),f=i(63162),x=i(48293),g=i(16925),j=i(9490),Z={content2:"OneOngoingAdmission_content2__UrY-4",content3:"OneOngoingAdmission_content3__wmxHl",appinforow:"OneOngoingAdmission_appinforow__SS5D4",appinforow1:"OneOngoingAdmission_appinforow1__nwEXk",appinforow2:"OneOngoingAdmission_appinforow2__KSPRj",appinforowred:"OneOngoingAdmission_appinforowred__EJthG",oac_container:"OneOngoingAdmission_oac_container__oeabB",oac_container_inner:"OneOngoingAdmission_oac_container_inner__Ki5D9",oac_container_inner_info:"OneOngoingAdmission_oac_container_inner_info__cm-xm",oac_container_contact:"OneOngoingAdmission_oac_container_contact__swjup",oac_container_contact_inner:"OneOngoingAdmission_oac_container_contact_inner__Ppdbl",oac_container_stuff:"OneOngoingAdmission_oac_container_stuff__+CGpg",admission_confirm_batch_card:"OneOngoingAdmission_admission_confirm_batch_card__AtVzz",admission_confirm_batch_card_active:"OneOngoingAdmission_admission_confirm_batch_card_active__V8p66"},N=i(85794),y=i(55336),b=i(93638),I=i(80184),S=function(n){var e,i,l,c,u,r,p,h,f,S,A,k=n.applicationDetail,P=n.onClose,w=n.applicationDetailApplicablePending,D=(0,o.TH)(),M=(0,o.UO)(),O=(0,o.s0)(),T=(0,s.$G)().t,R=new Date,F=(0,a.useState)(!1),E=(0,t.Z)(F,2),q=E[0],L=E[1],U=(0,a.useState)(!1),G=(0,t.Z)(U,2),z=G[0],Y=G[1],B=(0,a.useState)(null===(e=R.toISOString())||void 0===e?void 0:e.substring(0,10)),J=(0,t.Z)(B,2),V=J[0],$=J[1],H=(0,a.useState)({open:!1,msg:"",variant:"error"}),W=(0,t.Z)(H,2),K=W[0],Q=W[1],X=(0,d.b6)(),nn=(0,t.Z)(X,1)[0],en=(0,d.Be)({data:{appId:null===k||void 0===k?void 0:k._id,valid_date:V},skip:!(null!==k&&void 0!==k&&k._id)}).admissionOngoingApplicationDailyCollect,tn=function(){null!==k&&void 0!==k&&k._id&&(L((function(n){return!n})),nn({appId:null===k||void 0===k?void 0:k._id}).then((function(n){var e;if(null!==n&&void 0!==n&&null!==(e=n.data)&&void 0!==e&&e.complete_status){var i,t="Institute"===(null===(i=D.state)||void 0===i?void 0:i.urlOffSet)?"/q/".concat(M.username,"/institute/member/admission?type=ongoing-detail"):"/q/".concat(M.username,"/member/staff/admission?type=ongoing-detail");O(t,{state:D.state})}else Q({msg:null===n||void 0===n?void 0:n.data.message,open:!0,variant:"error"});P(),L((function(n){return!n}))})).catch({}))};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(x.Z,{onClose:P,children:(0,I.jsxs)("div",{className:g.Z.modal_container,children:[(0,I.jsx)(m.Z,{children:(0,I.jsxs)("div",{className:g.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:g.Z.modal_container_header,children:(0,I.jsx)("h6",{style:{cursor:"pointer",color:"#436dfa"},onClick:function(){return Y((function(n){return!n}))},children:null===k||void 0===k?void 0:k.applicationName})}),(0,I.jsx)("img",{src:"".concat(v.J7,"/close.svg"),alt:"close icon",onClick:P})]})}),(0,I.jsx)(_.Z,{}),(0,I.jsxs)(m.Z,{customStyle:{paddingTop:"0"},children:[(0,I.jsx)(j.Z,{setValidDate:$}),z?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:Z.content2,children:[(0,I.jsxs)("div",{className:Z.appinforow,children:[(0,I.jsx)("h6",{children:T("total_received_application")}),(0,I.jsx)("h6",{children:null===k||void 0===k?void 0:k.receievedCount})]}),(0,I.jsxs)("div",{className:Z.appinforow,children:[(0,I.jsx)("h6",{children:T("total_selected_application")}),(0,I.jsx)("h6",{children:null===k||void 0===k?void 0:k.selectCount})]}),(0,I.jsxs)("div",{className:Z.appinforow,children:[(0,I.jsx)("h6",{children:T("total_confirmed_application")}),(0,I.jsx)("h6",{children:null===k||void 0===k?void 0:k.confirmCount})]}),(0,I.jsxs)("div",{className:Z.appinforow,children:[(0,I.jsx)("h6",{children:T("total_alloted_application")}),(0,I.jsx)("h6",{children:null===k||void 0===k?void 0:k.allotCount})]}),(0,I.jsxs)("div",{className:Z.appinforow,children:[(0,I.jsx)("h6",{children:T("total_cancelled_application")}),(0,I.jsx)("h6",{children:null===k||void 0===k?void 0:k.cancelCount})]})]}),(0,I.jsxs)("div",{className:Z.content3,children:[(0,I.jsxs)("div",{className:Z.appinforow1,children:[(0,I.jsx)("h6",{children:T("total_fees_received")}),(0,I.jsxs)("h6",{children:["Rs. ",null===k||void 0===k?void 0:k.collectedFeeCount]})]}),(0,I.jsxs)("div",{className:"".concat(Z.appinforow2," ").concat(Z.appinforowred),children:[(0,I.jsx)("h6",{children:T("total_fees_pending")}),(0,I.jsxs)("h6",{children:["Rs. ",null===k||void 0===k?void 0:k.remainingFee]})]}),(0,I.jsxs)("div",{className:"".concat(Z.appinforow2," ").concat(Z.appinforowred),children:[(0,I.jsx)("h6",{children:T("total_applicable_fees_pending")}),(0,I.jsxs)("h6",{children:["Rs. ",null!==w&&void 0!==w?w:0]})]}),C[null===(A=D.state)||void 0===A?void 0:A.isAuthorization]?null:(0,I.jsx)(b.Z,{label:T("complete_application"),onAction:tn})]})]}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:Z.content2,children:[(0,I.jsxs)("div",{className:Z.appinforow,children:[(0,I.jsx)("h6",{children:T("total_received_application")}),(0,I.jsx)("h6",{children:null!==(i=null===en||void 0===en?void 0:en.request_count)&&void 0!==i?i:0})]}),(0,I.jsxs)("div",{className:Z.appinforow,children:[(0,I.jsx)("h6",{children:T("total_selected_application")}),(0,I.jsx)("h6",{children:null!==(l=null===en||void 0===en?void 0:en.select_count)&&void 0!==l?l:0})]}),(0,I.jsxs)("div",{className:Z.appinforow,children:[(0,I.jsx)("h6",{children:T("total_confirmed_application")}),(0,I.jsx)("h6",{children:null!==(c=null===en||void 0===en?void 0:en.confirm_count)&&void 0!==c?c:0})]}),(0,I.jsxs)("div",{className:Z.appinforow,children:[(0,I.jsx)("h6",{children:T("total_alloted_application")}),(0,I.jsx)("h6",{children:null!==(u=null===en||void 0===en?void 0:en.allot_count)&&void 0!==u?u:0})]}),(0,I.jsxs)("div",{className:Z.appinforow,children:[(0,I.jsx)("h6",{children:T("total_cancelled_application")}),(0,I.jsx)("h6",{children:null!==(r=null===en||void 0===en?void 0:en.cancel_count)&&void 0!==r?r:0})]})]}),(0,I.jsxs)("div",{className:Z.content3,children:[(0,I.jsxs)("div",{className:Z.appinforow1,children:[(0,I.jsx)("h6",{children:T("total_fees_received")}),(0,I.jsxs)("h6",{children:["Rs. ",null!==(p=null===en||void 0===en?void 0:en.paid)&&void 0!==p?p:0]})]}),(0,I.jsxs)("div",{className:"".concat(Z.appinforow2," ").concat(Z.appinforowred),children:[(0,I.jsx)("h6",{children:T("total_fees_pending")}),(0,I.jsxs)("h6",{children:["Rs. ",null!==(h=null===en||void 0===en?void 0:en.remain)&&void 0!==h?h:0]})]}),(0,I.jsxs)("div",{className:"".concat(Z.appinforow2," ").concat(Z.appinforowred),children:[(0,I.jsx)("h6",{children:T("total_applicable_fees_pending")}),(0,I.jsxs)("h6",{children:["Rs."," ",null!==(f=null===en||void 0===en?void 0:en.applicable_pending)&&void 0!==f?f:0]})]}),C[null===(S=D.state)||void 0===S?void 0:S.isAuthorization]?null:(0,I.jsx)(b.Z,{label:T("complete_application"),onAction:tn})]})]})]})]})}),q&&(0,I.jsx)(y.Z,{}),(0,I.jsx)(N.Z,{eventState:K,eventStateHandler:Q})]})},C={isCompleted:!0},A=function(n){var e,i,d=n.applicationDetail,s=n.children,c=(0,o.TH)(),u=(0,o.UO)(),r=(0,o.s0)(),x=(0,l.lr)(),g=(0,t.Z)(x,1)[0],j=(0,a.useState)(""),Z=(0,t.Z)(j,2),N=Z[0],y=Z[1],b=(0,a.useCallback)((function(){var n,e,i,t="";t=P[null===(n=c.state)||void 0===n?void 0:n.isAuthorization]?"Institute"===(null===(e=c.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(u.username,"/institute/member/admission?type=complete"):"/q/".concat(u.username,"/member/staff/admission?type=complete"):"Institute"===(null===(i=c.state)||void 0===i?void 0:i.urlOffSet)?"/q/".concat(u.username,"/institute/member/admission?type=ongoing"):"/q/".concat(u.username,"/member/staff/admission?type=ongoing"),r(t,{state:c.state})}),[r,c.state,u.username]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(m.Z,{children:(0,I.jsxs)("div",{className:p.Z.fm_header_container,children:[(0,I.jsxs)("div",{className:p.Z.fm_header_start_container,style:{gap:"0.2rem"},children:[(0,I.jsx)("img",{alt:"search icon",src:"".concat(v.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:b}),(0,I.jsx)("h6",{children:null!==(e=null===(i=c.state)||void 0===i?void 0:i.applicationName)&&void 0!==e?e:""})]}),(0,I.jsxs)("div",{className:p.Z.fm_search,children:[(0,I.jsx)("img",{src:"".concat(v.U_,"/application-detail.svg"),alt:"icon",title:"Application details",onClick:function(){y(1)}}),s]})]})}),(0,I.jsx)(_.Z,{}),(0,I.jsx)(h.Z,{children:k.map((function(n){var e,i;return(0,I.jsx)(f.Z,{tab:n,isLink:!0,isActive:null===(e=n.groupIs)||void 0===e?void 0:e.includes(g.get("n")),parentState:c.state,url:"Institute"===(null===(i=c.state)||void 0===i?void 0:i.urlOffSet)?"/q/".concat(u.username,"/institute/member/admission?type=ongoing-detail").concat(n.urlKey):"/q/".concat(u.username,"/member/staff/admission?type=ongoing-detail").concat(n.urlKey)},null===n||void 0===n?void 0:n.id)}))}),(0,I.jsx)(_.Z,{customStyleBorder:{marginTop:"0"}}),1===N?(0,I.jsx)(S,{applicationDetail:d,onClose:function(){y("")}}):null]})},k=[{label:"application",id:"application",urlKey:"",groupIs:["",null]},{label:"docs_collection",id:"document",urlKey:"&n=document",groupIs:["document"]},{label:"fees_collection",id:"fees",urlKey:"&n=fees",groupIs:["fees"]},{label:"confirmed",id:"confirmed",urlKey:"&n=confirmed",groupIs:["confirmed","confirmed-multi"]},{label:"review",id:"review",urlKey:"&n=review",groupIs:["review","review-multi"]},{label:"allottment",id:"allottment",urlKey:"&n=allottment",groupIs:["allottment"]},{label:"cancelled",id:"cancelled",urlKey:"&n=cancelled",groupIs:["cancelled"]}],P={isCompleted:!0},w=i(63687),D=i(2651),M=i(1669),O=i(1095),T=i(97892),R=i.n(T),F=i(23984),E=i(77123),q=i(80476),L=function(n){var e=n.label,i=n.count,t=n.onAction,l=n.customStyle,o=(0,s.$G)().t;return(0,I.jsxs)("div",{className:q.Z.btn_container,onClick:function(n){t(n)},style:l,children:[i>0&&(0,I.jsx)("span",{style:{marginRight:"0.8rem"},children:i}),o(e)]})},U=i(4942),G=i(1413),z=i(99183),Y=i(61055),B=function(n){var e=n.onClose,i=n.sid,l=n.appId,o=n.onRefetch,c=(0,s.$G)().t,u=(0,a.useState)(!1),r=(0,t.Z)(u,2),p=r[0],h=r[1],f=(0,a.useState)(""),j=(0,t.Z)(f,2),Z=j[0],N=j[1],S=(0,a.useState)({query:""}),C=(0,t.Z)(S,2),A=C[0],k=C[1],P=(0,d.u7)(),w=(0,t.Z)(P,1)[0];return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(x.Z,{onClose:e,children:(0,I.jsxs)("div",{className:g.Z.modal_container,children:[(0,I.jsx)(m.Z,{children:(0,I.jsxs)("div",{className:g.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:g.Z.modal_container_header,children:(0,I.jsx)("h6",{children:c("cancel_admission_application")})}),(0,I.jsx)("img",{src:"".concat(v.J7,"/close.svg"),alt:"close icon",onClick:e})]})}),(0,I.jsx)(_.Z,{}),(0,I.jsxs)(m.Z,{customStyle:{paddingTop:"0"},children:[(0,I.jsx)(Y.Z,{label:c("type_confirm_to_continue"),placeholder:c("type_confirm_to_continue"),name:"query",value:A.query,type:"text",onChange:function(n){k((function(e){return(0,G.Z)((0,G.Z)({},e),{},(0,U.Z)({},n.target.name,n.target.value))}))},errorShow:Z.query}),(0,I.jsx)(b.Z,{label:"confirm",onAction:function(){var n=(0,z.l)(A);(0,z.x)(n)?"Confirm"===A.query&&l&&i&&(h((function(n){return!n})),w({sid:i,appId:l}).then((function(){o(),h((function(n){return!n})),e()})).catch((function(){h((function(n){return!n}))}))):N(n)}})]})]})}),p&&(0,I.jsx)(y.Z,{})]})},J=function(n){var e,i,l,c,u,r,p,m,_,h,f,x,g,j,N,b,S,C,A,k,P,w,D,M,T,q,U,G,z=n.instituteId,Y=n.applicant,J=n.did,V=n.bid,$=n.cmid,H=n.appId,W=n.onRefetch,K=(0,s.$G)().t,Q=(0,o.UO)(),X=(0,o.s0)(),nn=(0,a.useState)(""),en=(0,t.Z)(nn,2),tn=en[0],ln=en[1],on=(0,a.useState)(!1),dn=(0,t.Z)(on,2),an=dn[0],sn=dn[1],cn=(0,d.mW)(),un=(0,t.Z)(cn,1)[0],rn=(0,a.useCallback)((function(){var n;X("/q/".concat(Q.username,"/student/profile"),{state:{sid:null===Y||void 0===Y||null===(n=Y.student)||void 0===n?void 0:n._id,viewAs:"ADMISSION_ADMIN",instituteId:z}})}),[z,null===Y||void 0===Y||null===(e=Y.student)||void 0===e?void 0:e._id]),vn=function(){ln("")};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:Z.oac_container,onClick:rn,title:"View Profile",children:[(0,I.jsxs)("div",{className:Z.oac_container_inner,children:[(0,I.jsx)("img",{alt:"Student Request Avatar",src:null!==Y&&void 0!==Y&&null!==(i=Y.student)&&void 0!==i&&i.studentProfilePhoto?"".concat(O.yI,"/").concat(null===Y||void 0===Y||null===(l=Y.student)||void 0===l?void 0:l.studentProfilePhoto):"".concat(v.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,I.jsxs)("div",{className:Z.oac_container_inner_info,children:[(0,I.jsx)("h6",{children:"".concat(null!==(c=null===Y||void 0===Y||null===(u=Y.student)||void 0===u?void 0:u.studentFirstName)&&void 0!==c?c:""," ").concat(null!==Y&&void 0!==Y&&null!==(r=Y.student)&&void 0!==r&&r.studentMiddleName?null===Y||void 0===Y||null===(p=Y.student)||void 0===p?void 0:p.studentMiddleName:""," ").concat(null!==(m=null===Y||void 0===Y||null===(_=Y.student)||void 0===_?void 0:_.studentLastName)&&void 0!==m?m:"")}),(0,I.jsxs)("p",{children:[K("applied_on"),":"," ",R()(null===Y||void 0===Y?void 0:Y.apply_on).format("DD MMM YYYY")]})]})]}),(0,I.jsxs)("div",{className:Z.oac_container_contact,children:[(0,I.jsxs)("div",{className:Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(v.U_,"/gender.svg"),alt:"email icon"}),(0,I.jsx)("p",{children:null===Y||void 0===Y||null===(h=Y.student)||void 0===h?void 0:h.studentGender})]}),(0,I.jsxs)("div",{className:Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(v.U_,"/phone.svg"),alt:"phone icon"}),(0,I.jsx)("p",{children:null!==Y&&void 0!==Y&&null!==(f=Y.student)&&void 0!==f&&null!==(x=f.user)&&void 0!==x&&x.userPhoneNumber?null===Y||void 0===Y||null===(g=Y.student)||void 0===g||null===(j=g.user)||void 0===j?void 0:j.userPhoneNumber:null!==Y&&void 0!==Y&&null!==(N=Y.student)&&void 0!==N&&null!==(b=N.user)&&void 0!==b&&b.userEmail?null===Y||void 0===Y||null===(S=Y.student)||void 0===S||null===(C=S.user)||void 0===C?void 0:C.userEmail:null!==Y&&void 0!==Y&&null!==(A=Y.student)&&void 0!==A&&A.studentPhoneNumber?null===Y||void 0===Y||null===(k=Y.student)||void 0===k?void 0:k.studentPhoneNumber:null!==Y&&void 0!==Y&&null!==(P=Y.student)&&void 0!==P&&P.studentParentsPhoneNumber?null===Y||void 0===Y||null===(w=Y.student)||void 0===w?void 0:w.studentParentsPhoneNumber:null!==(D=null===Y||void 0===Y||null===(M=Y.student)||void 0===M?void 0:M.studentEmail)&&void 0!==D?D:""})]})]}),(0,I.jsxs)("div",{className:Z.oac_container_stuff,children:[(0,I.jsx)("a",{href:"".concat(O.q2,"/").concat(null===Y||void 0===Y||null===(T=Y.student)||void 0===T||null===(q=T.application_print)||void 0===q||null===(U=q[0])||void 0===U?void 0:U.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:function(n){n.stopPropagation()},children:(0,I.jsx)("img",{src:"".concat(v.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),(0,I.jsxs)(F.Z,{children:[(0,I.jsx)(L,{label:"select",onAction:function(n){n.stopPropagation(),ln(1)},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}}),(0,I.jsx)(L,{label:"reject",onAction:function(n){n.stopPropagation(),ln(2)},customStyle:{padding:"0.4rem 0.7rem",borderColor:"rgb(176 174 174)",fontSize:"13px",opacity:"0.9"}})]})]})]}),1===tn?(0,I.jsx)(E.Z,{title:"select_fee_structre_of_student",onClose:vn,onSelectedStrucutre:function(n){var e,i;null!==Y&&void 0!==Y&&null!==(e=Y.student)&&void 0!==e&&e._id&&H&&null!==n&&void 0!==n&&n._id&&(sn((function(n){return!n})),un({sid:null===Y||void 0===Y||null===(i=Y.student)||void 0===i?void 0:i._id,appId:H,applicant:{fee_struct:null===n||void 0===n?void 0:n._id}}).then((function(){W(),vn(),sn((function(n){return!n}))})).catch((function(){sn((function(n){return!n}))})))},did:J,bid:V,cmid:$}):2===tn?(0,I.jsx)(B,{onClose:vn,appId:H,sid:null===Y||void 0===Y||null===(G=Y.student)||void 0===G?void 0:G._id,onRefetch:W}):null,an&&(0,I.jsx)(y.Z,{})]})},V=i(93433),$=i(49806),H=function(n){var e,i,t,l,o,d,a,s,c,u=n.applicant,r=n.onSelect,p=n.applicantId;return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)("div",{className:Z.oac_container,style:{justifyContent:"flex-start"},children:[(0,I.jsx)("img",{className:Z.department_checkbox,src:null!==p&&void 0!==p&&p.includes(null===u||void 0===u||null===(e=u.student)||void 0===e?void 0:e._id)?"".concat(v.U_,"/check.svg"):"".concat(v.U_,"/uncheck.svg"),alt:"check icon",onClick:function(){return r(null===u||void 0===u?void 0:u.student)}}),(0,I.jsxs)("div",{className:Z.oac_container_inner,style:{width:"100%"},children:[(0,I.jsx)("img",{alt:"Student Request Avatar",src:null!==u&&void 0!==u&&null!==(i=u.student)&&void 0!==i&&i.studentProfilePhoto?"".concat(O.yI,"/").concat(null===u||void 0===u||null===(t=u.student)||void 0===t?void 0:t.studentProfilePhoto):"".concat(v.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,I.jsx)("div",{className:Z.oac_container_inner_info,children:(0,I.jsx)("h6",{children:"".concat(null!==(l=null===u||void 0===u||null===(o=u.student)||void 0===o?void 0:o.studentFirstName)&&void 0!==l?l:""," ").concat(null!==u&&void 0!==u&&null!==(d=u.student)&&void 0!==d&&d.studentMiddleName?null===u||void 0===u||null===(a=u.student)||void 0===a?void 0:a.studentMiddleName:""," ").concat(null!==(s=null===u||void 0===u||null===(c=u.student)||void 0===c?void 0:c.studentLastName)&&void 0!==s?s:"")})})]})]})})},W=i(46194),K=function(n){var e,i=n.transferStudentObj,l=n.application,o=n.appId,c=n.transferApplicantId,u=n.onClose,r=n.onParentClose,p=(0,s.$G)().t,h=(0,a.useState)(!1),f=(0,t.Z)(h,2),j=f[0],N=f[1],S=(0,d.We)(),C=(0,t.Z)(S,1)[0];return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(x.Z,{children:(0,I.jsxs)("div",{className:g.Z.modal_container,children:[(0,I.jsx)(m.Z,{children:(0,I.jsxs)("div",{className:g.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:g.Z.modal_container_header,children:(0,I.jsx)("h6",{children:p("select_confirm_student")})}),(0,I.jsx)("img",{src:"".concat(v.J7,"/close.svg"),alt:"close icon",onClick:u,className:g.Z.close_icon})]})}),(0,I.jsx)(_.Z,{}),(0,I.jsxs)(m.Z,{customStyle:{paddingTop:"0"},children:[(0,I.jsxs)("div",{className:Z.admission_class_confirm,children:[p("transfering")," ",(0,I.jsx)("span",{style:{fontWeight:"600"},children:null===i||void 0===i?void 0:i.length})," ",p("students")," "," ",",",p("to")," ",(0,I.jsx)("span",{style:{fontWeight:"600"},children:null!==(e=null===l||void 0===l?void 0:l.applicationName)&&void 0!==e?e:""})]}),(0,I.jsx)(b.Z,{label:"confirm",onAction:function(){o&&null!==l&&void 0!==l&&l._id&&(null===i||void 0===i?void 0:i.length)>0&&(N((function(n){return!n})),C({appId:null===l||void 0===l?void 0:l._id,transferApplicantData:{app_array:c,oaid:o,student_array:i}}).then((function(){N((function(n){return!n})),r()})).catch({}))}})]})]})}),j&&(0,I.jsx)(y.Z,{})]})},Q=function(n){var e,i,l,o,p=n.onClose,h=n.appId,f=n.aid,g=(0,s.$G)().t,j=(0,a.useState)([]),Z=(0,t.Z)(j,2),N=Z[0],S=Z[1],C=(0,a.useState)([]),A=(0,t.Z)(C,2),k=A[0],P=A[1],w=(0,a.useState)(1),O=(0,t.Z)(w,2),T=O[0],R=O[1],F=(0,a.useState)(""),E=(0,t.Z)(F,2),q=E[0],L=E[1],U=(0,a.useState)(""),G=(0,t.Z)(U,2),z=G[0],Y=G[1],B=(0,a.useState)(1),J=(0,t.Z)(B,2),Q=J[0],X=J[1],nn=(0,a.useState)(!0),en=(0,t.Z)(nn,2),tn=en[0],ln=en[1],on=(0,c.YD)({skip:z}),dn=(0,t.Z)(on,2),an=dn[0],sn=dn[1],cn=(0,d._v)({data:{appId:h,page:Q,limit:10,search:z},skip:!h}),un=cn.admissionOngoingApplicationReview,rn=cn.admissionOngoingApplicationReviewLoading;(0,a.useEffect)((function(){sn&&tn&&X((function(n){return n+1}))}),[sn,tn]),(0,a.useEffect)((function(){var n;if(null!==un&&void 0!==un&&null!==(n=un.list)&&void 0!==n&&n.length){var e,i=(0,u.f)(null===un||void 0===un||null===(e=un.list)||void 0===e?void 0:e.length);ln((function(){return i}))}}),[null===un||void 0===un||null===(e=un.list)||void 0===e?void 0:e.length]);var vn=(0,a.useCallback)((0,r.J)((function(n){X((function(){return 1})),Y(n)}),1500),[]),pn=function(n){if(null!==N&&void 0!==N&&N.includes(null===n||void 0===n?void 0:n._id))S((function(e){return null===e||void 0===e?void 0:e.filter((function(e){return e!==(null===n||void 0===n?void 0:n._id)}))})),P((function(e){return null===e||void 0===e?void 0:e.filter((function(e){var i;return(null===e||void 0===e?void 0:e.studentId)!==(null===n||void 0===n||null===(i=n.student)||void 0===i?void 0:i._id)}))}));else{var e,i={studentId:null===n||void 0===n||null===(e=n.student)||void 0===e?void 0:e._id,mode:null===n||void 0===n?void 0:n.payment_status,type:null===n||void 0===n?void 0:n.install_type,price:null===n||void 0===n?void 0:n.fee_remain};P((function(n){return[].concat((0,V.Z)(n),[i])})),S((function(e){return[].concat((0,V.Z)(e),[null===n||void 0===n?void 0:n._id])}))}};return(0,I.jsx)(I.Fragment,{children:1===T?(0,I.jsx)(x.Z,{children:(0,I.jsxs)("div",{className:$.Z.modal_container,children:[(0,I.jsx)(m.Z,{children:(0,I.jsxs)("div",{className:$.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:$.Z.modal_container_header,children:(0,I.jsx)("h6",{children:g("select_confirm_student")})}),(0,I.jsxs)("div",{className:$.Z.modal_container_header,children:[(0,I.jsx)(b.Z,{customStyle:{margin:0,padding:"0.2rem 0.5rem"},onAction:function(){(null===N||void 0===N?void 0:N.length)>0&&R(2)},label:"select",count:null===N||void 0===N?void 0:N.length}),(0,I.jsx)("img",{src:"".concat(v.J7,"/close.svg"),alt:"close icon",onClick:p,className:$.Z.close_icon})]})]})}),(0,I.jsx)(_.Z,{}),(0,I.jsxs)(m.Z,{customStyle:{paddingTop:"0",marginBottom:"1rem"},children:[(0,I.jsxs)("div",{className:$.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,I.jsx)("input",{type:"text",placeholder:g("search"),className:$.Z.assign_search_input,onChange:function(n){n.target.value?vn(n.target.value):(X((function(){return 1})),Y(""))},style:{width:"100%"}}),(0,I.jsx)("img",{src:"".concat(v.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===un||void 0===un||null===(i=un.list)||void 0===i?void 0:i.map((function(n,e){var i;return(null===un||void 0===un||null===(i=un.list)||void 0===i?void 0:i.length)===e+1?(0,I.jsx)("div",{ref:an,children:(0,I.jsx)(H,{applicant:{student:n},applicantId:N,onSelect:pn})},null===n||void 0===n?void 0:n._id):(0,I.jsx)(H,{applicant:{student:n},applicantId:N,onSelect:pn},null===n||void 0===n?void 0:n._id)})),rn?z?(0,I.jsx)(y.Z,{}):(0,I.jsx)(M.Z,{}):z?0===(null===un||void 0===un||null===(l=un.list)||void 0===l?void 0:l.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants fuond related this search."}):0===(null===un||void 0===un||null===(o=un.list)||void 0===o?void 0:o.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]})}):2===T?(0,I.jsx)(W.Z,{onSelect:function(n){L(n),R(3)},aid:f,onClose:function(){return R(1)}}):3===T?(0,I.jsx)(K,{transferApplicantId:N,transferStudentObj:k,appId:h,application:q,onClose:function(){return R(2)},onParentClose:p}):null})},X=function(n){var e,i,l,s,c=n.applicationDetail,u=n.isExportAccess,r=n.isAddAccess,m=n.isTransferAccess,_=n.instituteId,h=n.aid,f=n.onMultipleSelect,x=n.onResuffleToggle,g=n.isFull,j=n.children,Z=(0,o.TH)(),N=(0,o.UO)(),S=(0,o.s0)(),C=(0,a.useState)(!1),A=(0,t.Z)(C,2),k=A[0],P=A[1],w=(0,a.useState)(""),D=(0,t.Z)(w,2),M=D[0],O=D[1],T=(0,d.Mo)(),R=(0,t.Z)(T,1)[0];return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(F.Z,{customStyle:{justifyContent:"space-between",marginBottom:"0.7rem"},children:g?(0,I.jsx)(I.Fragment,{children:(0,I.jsx)("div",{className:p.Z.fm_search_full,children:(0,I.jsx)("section",{className:p.Z.fm_search_full_container,children:(0,I.jsxs)("div",{className:p.Z.fm_search_full_container_inner,children:[(0,I.jsx)("img",{className:p.Z.fm_search_full_icon,alt:"search icon",src:"".concat(v.dB,"/navbar-search.svg")}),j]})})})}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("section",{className:p.Z.fm_search_container,children:(0,I.jsxs)("div",{className:p.Z.fm_search_container_inner,children:[(0,I.jsx)("img",{className:p.Z.fm_search_icon,alt:"search icon",src:"".concat(v.dB,"/navbar-search.svg")}),j]})}),(0,I.jsxs)("div",{className:p.Z.fm_other_admission,children:[nn[r]&&!en[null===(e=Z.state)||void 0===e?void 0:e.isAuthorization]&&(0,I.jsx)("img",{src:"".concat(v.U_,"/add.svg"),alt:"icon",title:"Add student",onClick:function(){var n,e,i,t,l,o,d,a,s,u;_&&null!==(n=Z.state)&&void 0!==n&&n.appId&&null!==c&&void 0!==c&&c.applicationMaster&&null!==c&&void 0!==c&&null!==(e=c.applicationDepartment)&&void 0!==e&&e._id&&null!==c&&void 0!==c&&null!==(i=c.applicationBatch)&&void 0!==i&&i._id&&S("/q/joining",{state:{formAs:"STUDENT",openAs:"ADMISSION_ADMIN_SIDE",instituteId:_,appId:null===(t=Z.state)||void 0===t?void 0:t.appId,admissionAmount:[null!==(l=null===c||void 0===c?void 0:c.admissionFee)&&void 0!==l?l:0,null!==(o=null===c||void 0===c||null===(d=c.one_installments)||void 0===d?void 0:d.fees)&&void 0!==o?o:0],applicationMaster:null===c||void 0===c?void 0:c.applicationMaster,applicationDepartment:null===c||void 0===c||null===(a=c.applicationDepartment)||void 0===a?void 0:a._id,batchId:null===c||void 0===c||null===(s=c.applicationBatch)||void 0===s?void 0:s._id,departmentId:null===c||void 0===c||null===(u=c.applicationDepartment)||void 0===u?void 0:u._id,whichFormShow:"DEPARTMENT"}})}}),nn[u]&&(0,I.jsx)("img",{src:"".concat(v.J7,"/export.svg"),alt:"icon",title:"List Export",onClick:function(){var n;null!==(n=Z.state)&&void 0!==n&&n.appId&&nn[u]&&(P((function(n){return!n})),R({appId:null===c||void 0===c?void 0:c._id,flow:u}).then((function(){var n,e="Institute"===(null===(n=Z.state)||void 0===n?void 0:n.urlOffSet)?"/q/".concat(N.username,"/institute/member/admission?type=export"):"/q/".concat(N.username,"/member/staff/admission?type=export");S(e,{state:Z.state})})).catch({}))}}),nn[m]&&!en[null===(i=Z.state)||void 0===i?void 0:i.isAuthorization]&&(0,I.jsx)("img",{src:"".concat(v.U_,"/transfer.svg"),alt:"icon",title:"Transfer student",onClick:function(){O(2)}}),tn[u]&&!en[null===(l=Z.state)||void 0===l?void 0:l.isAuthorization]&&(0,I.jsx)("img",{src:"".concat(v.U_,"/mutliple.svg"),alt:"icon",title:"Multiple Select",onClick:f}),ln[u]&&!en[null===(s=Z.state)||void 0===s?void 0:s.isAuthorization]&&(0,I.jsx)(b.Z,{label:"resuffle",customStyle:{margin:"0",padding:"0.35rem 0.5rem"},onAction:x})]})]})}),2===M?(0,I.jsx)(Q,{onClose:function(){O("")},instituteId:_,appId:null===c||void 0===c?void 0:c._id,aid:h}):null,k&&(0,I.jsx)(y.Z,{})]})},nn={APPLICATION:!0,Review:!0,Request_Query:!0,Confirm_Query:!0,Allot_Query:!0},en={isCompleted:!0},tn={Confirm:!0,Confirm_Query:!0},ln={Confirm_Query:!0},on=function(n){var e,i,l,v,p,_,h=n.applicationDetail,f=n.instituteId,x=(0,s.$G)().t,g=(0,o.TH)(),j=(0,a.useState)(""),Z=(0,t.Z)(j,2),N=Z[0],b=Z[1],S=(0,a.useState)(1),C=(0,t.Z)(S,2),k=C[0],P=C[1],O=(0,a.useState)(!0),T=(0,t.Z)(O,2),R=T[0],F=T[1],E=(0,c.YD)({skip:N}),q=(0,t.Z)(E,2),L=q[0],U=q[1],G=(0,d.ws)({data:{appId:null===(e=g.state)||void 0===e?void 0:e.appId,page:k,limit:10,search:N},skip:!(null!==(i=g.state)&&void 0!==i&&i.appId)}),z=G.admissionOngoingApplicationRequest,Y=G.admissionOngoingApplicationRequestLoading,B=G.admissionOngoingApplicationRequestRefetch;(0,a.useEffect)((function(){U&&R&&P((function(n){return n+1}))}),[U,R]),(0,a.useEffect)((function(){var n;if(null!==z&&void 0!==z&&null!==(n=z.list)&&void 0!==n&&n.length){var e,i=(0,u.f)(null===z||void 0===z||null===(e=z.list)||void 0===e?void 0:e.length);F((function(){return i}))}}),[null===z||void 0===z||null===(l=z.list)||void 0===l?void 0:l.length]);var V=(0,a.useCallback)((0,r.J)((function(n){P((function(){return 1})),b(n)}),1500),[]),$=(0,a.useCallback)((function(){P((function(){return 1})),B()}),[]);return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(w.Z,{children:[(0,I.jsx)(A,{applicationDetail:h,instituteId:f,isAddAccess:"APPLICATION",isExportAccess:"Request_Query"}),(0,I.jsxs)(m.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,I.jsx)(X,{applicationDetail:h,instituteId:f,isAddAccess:"APPLICATION",isExportAccess:"Request_Query",children:(0,I.jsx)("input",{type:"text",placeholder:x("search_applicants"),onChange:function(n){n.target.value?V(n.target.value):(P((function(){return 1})),b(""))}})}),null===z||void 0===z||null===(v=z.list)||void 0===v?void 0:v.map((function(n,e){var i,t,l,o,d,a,s;return(null===z||void 0===z||null===(i=z.list)||void 0===i?void 0:i.length)===e+1?(0,I.jsx)("div",{ref:L,children:(0,I.jsx)(J,{applicant:n,instituteId:f,did:null===h||void 0===h||null===(t=h.applicationDepartment)||void 0===t?void 0:t._id,bid:null===h||void 0===h||null===(l=h.applicationBatch)||void 0===l?void 0:l._id,cmid:null===h||void 0===h?void 0:h.applicationMaster,onRefetch:$,appId:null===(o=g.state)||void 0===o?void 0:o.appId})},null===n||void 0===n?void 0:n._id):(0,I.jsx)(J,{applicant:n,instituteId:f,did:null===h||void 0===h||null===(d=h.applicationDepartment)||void 0===d?void 0:d._id,bid:null===h||void 0===h||null===(a=h.applicationBatch)||void 0===a?void 0:a._id,cmid:null===h||void 0===h?void 0:h.applicationMaster,onRefetch:$,appId:null===(s=g.state)||void 0===s?void 0:s.appId},null===n||void 0===n?void 0:n._id)})),Y?N?(0,I.jsx)(y.Z,{}):(0,I.jsx)(M.Z,{}):N?0===(null===z||void 0===z||null===(p=z.list)||void 0===p?void 0:p.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission requests fuond related this search."}):0===(null===z||void 0===z||null===(_=z.list)||void 0===_?void 0:_.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission request list."})]})]})})},dn=i(6758),an=i(37782),sn=function(n){var e=n.rid,l=(0,a.useState)(""),o=(0,t.Z)(l,2),d=o[0],s=o[1],c=(0,a.useState)(!1),u=(0,t.Z)(c,2),r=u[0],p=u[1],m=(0,a.useState)(""),_=(0,t.Z)(m,2),h=_[0],f=_[1],x=(0,dn.Nw)({rid:d,skip:!d}),g=x.financeReceipt,j=x.financeReceiptRefetch;(0,a.useEffect)((function(){d&&j()}),[d,j]),(0,a.useEffect)((function(){null!==g&&void 0!==g&&g.receipt&&null!==g&&void 0!==g&&g.all_remain&&f(g)}),[g]),(0,a.useEffect)((function(){if(h){var n,e=new Worker(new URL(i.p+i.u(8334),i.b));if("Hostel Application"===(null===h||void 0===h||null===(n=h.all_remain)||void 0===n?void 0:n.remaining_flow)){var t=(0,an.sp)(null===h||void 0===h?void 0:h.all_remain,null===h||void 0===h?void 0:h.receipt),l=t.institute,o=t.studentInfo,d=t.paymentReceiptInfo;e.postMessage({institute:l,studentInfo:o,paymentReceiptInfo:d,printReceiptType:"Refunded"===(null===d||void 0===d?void 0:d.transactonRefund)?"HOSTEL_REFUND":"HOSTEL"})}else{var a=(0,an.Hs)(null===h||void 0===h?void 0:h.all_remain,null===h||void 0===h?void 0:h.receipt),s=a.institute,c=a.studentInfo,u=a.paymentReceiptInfo;e.postMessage({institute:s,studentInfo:c,paymentReceiptInfo:u,printReceiptType:"Refunded"===(null===u||void 0===u?void 0:u.transactonRefund)?"ADMISSION_REFUND":"ADMISSION"})}e.onmessage=function(n){n&&(window.open(n.data,"_blank"),p((function(n){return!n})),f(""),e.terminate())}}}),[h]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("img",{src:"".concat(v.J7,"/receipt.svg"),alt:"receipt icon",title:"Download Fees Receipt",onClick:function(n){return function(n){n.stopPropagation(),p((function(n){return!n})),s(e),d===e&&f(g)}(n)}}),r&&(0,I.jsx)(y.Z,{})]})},cn=function(n){var e,i,t,l,d,a,s,c,u,r,p,m,_,h,f,x,g,j,N,y,b,S,C,A,k,P,w,D,M=n.applicant,T=n.instituteId,R=(0,o.UO)(),F=(0,o.s0)();return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)("div",{className:Z.oac_container,onClick:function(){var n;F("/q/".concat(R.username,"/student/profile"),{state:{sid:null===M||void 0===M||null===(n=M.student)||void 0===n?void 0:n._id,instituteId:T,viewAs:"ADMISSION_ADMIN",collectAccess:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,I.jsxs)("div",{className:Z.oac_container_inner,children:[(0,I.jsx)("img",{alt:"Student Request Avatar",src:null!==M&&void 0!==M&&null!==(e=M.student)&&void 0!==e&&e.studentProfilePhoto?"".concat(O.yI,"/").concat(null===M||void 0===M||null===(i=M.student)||void 0===i?void 0:i.studentProfilePhoto):"".concat(v.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,I.jsxs)("div",{className:Z.oac_container_inner_info,children:[(0,I.jsx)("h6",{children:"".concat(null!==(t=null===M||void 0===M||null===(l=M.student)||void 0===l?void 0:l.studentFirstName)&&void 0!==t?t:""," ").concat(null!==M&&void 0!==M&&null!==(d=M.student)&&void 0!==d&&d.studentMiddleName?null===M||void 0===M||null===(a=M.student)||void 0===a?void 0:a.studentMiddleName:""," ").concat(null!==(s=null===M||void 0===M||null===(c=M.student)||void 0===c?void 0:c.studentLastName)&&void 0!==s?s:"")}),(0,I.jsx)("p",{children:(null===M||void 0===M?void 0:M.alloted_class)||""})]})]}),(0,I.jsxs)("div",{className:Z.oac_container_contact,children:[(0,I.jsxs)("div",{className:Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(v.U_,"/gender.svg"),alt:"email icon"}),(0,I.jsx)("p",{children:null===M||void 0===M||null===(u=M.student)||void 0===u?void 0:u.studentGender})]}),(0,I.jsxs)("div",{className:Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(v.U_,"/phone.svg"),alt:"phone icon"}),(0,I.jsx)("p",{children:null!==M&&void 0!==M&&null!==(r=M.student)&&void 0!==r&&null!==(p=r.user)&&void 0!==p&&p.userPhoneNumber?null===M||void 0===M||null===(m=M.student)||void 0===m||null===(_=m.user)||void 0===_?void 0:_.userPhoneNumber:null!==M&&void 0!==M&&null!==(h=M.student)&&void 0!==h&&null!==(f=h.user)&&void 0!==f&&f.userEmail?null===M||void 0===M||null===(x=M.student)||void 0===x||null===(g=x.user)||void 0===g?void 0:g.userEmail:null!==M&&void 0!==M&&null!==(j=M.student)&&void 0!==j&&j.studentPhoneNumber?null===M||void 0===M||null===(N=M.student)||void 0===N?void 0:N.studentPhoneNumber:null!==M&&void 0!==M&&null!==(y=M.student)&&void 0!==y&&y.studentParentsPhoneNumber?null===M||void 0===M||null===(b=M.student)||void 0===b?void 0:b.studentParentsPhoneNumber:null!==(S=null===M||void 0===M||null===(C=M.student)||void 0===C?void 0:C.studentEmail)&&void 0!==S?S:""})]})]}),(0,I.jsxs)("div",{className:Z.oac_container_stuff,children:[(0,I.jsx)("a",{href:"".concat(O.q2,"/").concat(null===M||void 0===M||null===(A=M.student)||void 0===A||null===(k=A.application_print)||void 0===k||null===(P=k[0])||void 0===P?void 0:P.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:function(n){n.stopPropagation()},children:(0,I.jsx)("img",{src:"".concat(v.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),null===M||void 0===M||null===(w=M.student)||void 0===w||null===(D=w.fee_receipt)||void 0===D?void 0:D.map((function(n,e){return e>2?"":(0,I.jsx)(sn,{rid:n},n)}))]})]})})},un=function(n){var e,i,l,v,p,_,h=n.applicationDetail,f=n.instituteId,x=(0,s.$G)().t,g=(0,o.TH)(),j=(0,a.useState)(""),Z=(0,t.Z)(j,2),N=Z[0],b=Z[1],S=(0,a.useState)(1),C=(0,t.Z)(S,2),k=C[0],P=C[1],O=(0,a.useState)(!0),T=(0,t.Z)(O,2),R=T[0],F=T[1],E=(0,c.YD)({skip:N}),q=(0,t.Z)(E,2),L=q[0],U=q[1],G=(0,d.UX)({data:{appId:null===(e=g.state)||void 0===e?void 0:e.appId,page:k,limit:10,search:N},skip:!(null!==(i=g.state)&&void 0!==i&&i.appId)}),z=G.admissionOngoingApplicationAllottment,Y=G.admissionOngoingApplicationAllottmentLoading;(0,a.useEffect)((function(){U&&R&&P((function(n){return n+1}))}),[U,R]),(0,a.useEffect)((function(){var n;if(null!==z&&void 0!==z&&null!==(n=z.list)&&void 0!==n&&n.length){var e,i=(0,u.f)(null===z||void 0===z||null===(e=z.list)||void 0===e?void 0:e.length);F((function(){return i}))}}),[null===z||void 0===z||null===(l=z.list)||void 0===l?void 0:l.length]);var B=(0,a.useCallback)((0,r.J)((function(n){P((function(){return 1})),b(n)}),1500),[]);return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(w.Z,{children:[(0,I.jsx)(A,{applicationDetail:h,isExportAccess:"Allot_Query"}),(0,I.jsxs)(m.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,I.jsx)(X,{applicationDetail:h,isExportAccess:"Allot_Query",children:(0,I.jsx)("input",{type:"text",placeholder:x("search_allotted_student"),onChange:function(n){n.target.value?B(n.target.value):(P((function(){return 1})),b(""))}})}),null===z||void 0===z||null===(v=z.list)||void 0===v?void 0:v.map((function(n,e){var i;return(null===z||void 0===z||null===(i=z.list)||void 0===i?void 0:i.length)===e+1?(0,I.jsx)("div",{ref:L,children:(0,I.jsx)(cn,{applicant:n,instituteId:f})},null===n||void 0===n?void 0:n._id):(0,I.jsx)(cn,{applicant:n,instituteId:f},null===n||void 0===n?void 0:n._id)})),Y?N?(0,I.jsx)(y.Z,{}):(0,I.jsx)(M.Z,{}):N?0===(null===z||void 0===z||null===(p=z.list)||void 0===p?void 0:p.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission allottment fuond related this search."}):0===(null===z||void 0===z||null===(_=z.list)||void 0===_?void 0:_.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission allottment list."})]})]})})},rn=function(n){var e,i,t,l,d,a,c,u,r,p,m,_,h,f,x,g,j,N,y,b,S,C,A,k,P,w,D,M,T=n.applicant,R=n.instituteId,F=(0,s.$G)().t,E=(0,o.UO)(),q=(0,o.s0)();return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)("div",{className:Z.oac_container,onClick:function(){var n;q("/q/".concat(E.username,"/student/profile"),{state:{sid:null===T||void 0===T||null===(n=T.student)||void 0===n?void 0:n._id,instituteId:R,viewAs:"ADMISSION_ADMIN",collectAccess:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,I.jsxs)("div",{className:Z.oac_container_inner,children:[(0,I.jsx)("img",{alt:"Student Request Avatar",src:null!==T&&void 0!==T&&null!==(e=T.student)&&void 0!==e&&e.studentProfilePhoto?"".concat(O.yI,"/").concat(null===T||void 0===T||null===(i=T.student)||void 0===i?void 0:i.studentProfilePhoto):"".concat(v.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,I.jsxs)("div",{className:Z.oac_container_inner_info,children:[(0,I.jsx)("h6",{children:"".concat(null!==(t=null===T||void 0===T||null===(l=T.student)||void 0===l?void 0:l.studentFirstName)&&void 0!==t?t:""," ").concat(null!==T&&void 0!==T&&null!==(d=T.student)&&void 0!==d&&d.studentMiddleName?null===T||void 0===T||null===(a=T.student)||void 0===a?void 0:a.studentMiddleName:""," ").concat(null!==(c=null===T||void 0===T||null===(u=T.student)||void 0===u?void 0:u.studentLastName)&&void 0!==c?c:"")}),(0,I.jsxs)("p",{children:[F("rs_only")," ",null===T||void 0===T?void 0:T.refund_amount," ","Refund"===(null===T||void 0===T?void 0:T.payment_status)&&"Refunded"]})]})]}),(0,I.jsxs)("div",{className:Z.oac_container_contact,children:[(0,I.jsxs)("div",{className:Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(v.U_,"/gender.svg"),alt:"email icon"}),(0,I.jsx)("p",{children:null===T||void 0===T||null===(r=T.student)||void 0===r?void 0:r.studentGender})]}),(0,I.jsxs)("div",{className:Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(v.U_,"/phone.svg"),alt:"phone icon"}),(0,I.jsx)("p",{children:null!==T&&void 0!==T&&null!==(p=T.student)&&void 0!==p&&null!==(m=p.user)&&void 0!==m&&m.userPhoneNumber?null===T||void 0===T||null===(_=T.student)||void 0===_||null===(h=_.user)||void 0===h?void 0:h.userPhoneNumber:null!==T&&void 0!==T&&null!==(f=T.student)&&void 0!==f&&null!==(x=f.user)&&void 0!==x&&x.userEmail?null===T||void 0===T||null===(g=T.student)||void 0===g||null===(j=g.user)||void 0===j?void 0:j.userEmail:null!==T&&void 0!==T&&null!==(N=T.student)&&void 0!==N&&N.studentPhoneNumber?null===T||void 0===T||null===(y=T.student)||void 0===y?void 0:y.studentPhoneNumber:null!==T&&void 0!==T&&null!==(b=T.student)&&void 0!==b&&b.studentParentsPhoneNumber?null===T||void 0===T||null===(S=T.student)||void 0===S?void 0:S.studentParentsPhoneNumber:null!==(C=null===T||void 0===T||null===(A=T.student)||void 0===A?void 0:A.studentEmail)&&void 0!==C?C:""})]})]}),(0,I.jsxs)("div",{className:Z.oac_container_stuff,children:[(0,I.jsx)("a",{href:"".concat(O.q2,"/").concat(null===T||void 0===T||null===(k=T.student)||void 0===k||null===(P=k.application_print)||void 0===P||null===(w=P[0])||void 0===w?void 0:w.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:function(n){n.stopPropagation()},children:(0,I.jsx)("img",{src:"".concat(v.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),null===T||void 0===T||null===(D=T.student)||void 0===D||null===(M=D.fee_receipt)||void 0===M?void 0:M.map((function(n,e){return e>2?"":(0,I.jsx)(sn,{rid:n},n)}))]})]})})},vn=function(n){var e,i,l,v,p,_,h=n.applicationDetail,f=n.instituteId,x=(0,s.$G)().t,g=(0,o.TH)(),j=(0,a.useState)(""),Z=(0,t.Z)(j,2),N=Z[0],b=Z[1],S=(0,a.useState)(1),C=(0,t.Z)(S,2),k=C[0],P=C[1],O=(0,a.useState)(!0),T=(0,t.Z)(O,2),R=T[0],F=T[1],E=(0,c.YD)({skip:N}),q=(0,t.Z)(E,2),L=q[0],U=q[1],G=(0,d.aL)({data:{appId:null===(e=g.state)||void 0===e?void 0:e.appId,page:k,limit:10,search:N},skip:!(null!==(i=g.state)&&void 0!==i&&i.appId)}),z=G.admissionOngoingApplicationCancelled,Y=G.admissionOngoingApplicationCancelledLoading;(0,a.useEffect)((function(){U&&R&&P((function(n){return n+1}))}),[U,R]),(0,a.useEffect)((function(){var n;if(null!==z&&void 0!==z&&null!==(n=z.list)&&void 0!==n&&n.length){var e,i=(0,u.f)(null===z||void 0===z||null===(e=z.list)||void 0===e?void 0:e.length);F((function(){return i}))}}),[null===z||void 0===z||null===(l=z.list)||void 0===l?void 0:l.length]);var B=(0,a.useCallback)((0,r.J)((function(n){P((function(){return 1})),b(n)}),1500),[]);return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(w.Z,{children:[(0,I.jsx)(A,{applicationDetail:h}),(0,I.jsxs)(m.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,I.jsx)(X,{applicationDetail:h,instituteId:f,isFull:!0,children:(0,I.jsx)("input",{type:"text",placeholder:x("search_cancelled_student"),onChange:function(n){n.target.value?B(n.target.value):(P((function(){return 1})),b(""))}})}),null===z||void 0===z||null===(v=z.list)||void 0===v?void 0:v.map((function(n,e){var i;return(null===z||void 0===z||null===(i=z.list)||void 0===i?void 0:i.length)===e+1?(0,I.jsx)("div",{ref:L,children:(0,I.jsx)(rn,{applicant:n,instituteId:f})},null===n||void 0===n?void 0:n._id):(0,I.jsx)(rn,{applicant:n,instituteId:f},null===n||void 0===n?void 0:n._id)})),Y?N?(0,I.jsx)(y.Z,{}):(0,I.jsx)(M.Z,{}):N?0===(null===z||void 0===z||null===(p=z.list)||void 0===p?void 0:p.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission cancelled fuond related this search."}):0===(null===z||void 0===z||null===(_=z.list)||void 0===_?void 0:_.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission cancelled list."})]})]})})},pn=function(n){var e,i,l,o,c,u,r=n.onClose,p=n.applicant,h=n.appId,f=n.onRefetch,j=(0,s.$G)().t,Z=(0,a.useState)(!1),N=(0,t.Z)(Z,2),S=N[0],C=N[1],A=(0,d.O1)(),k=(0,t.Z)(A,1)[0];return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(x.Z,{onClose:r,children:(0,I.jsxs)("div",{className:g.Z.modal_container,children:[(0,I.jsx)(m.Z,{children:(0,I.jsxs)("div",{className:g.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:g.Z.modal_container_header,children:(0,I.jsx)("h6",{children:j("collect_required_document")})}),(0,I.jsx)("img",{src:"".concat(v.J7,"/close.svg"),alt:"close icon",onClick:r})]})}),(0,I.jsx)(_.Z,{}),(0,I.jsxs)(m.Z,{customStyle:{paddingTop:"0"},children:[(0,I.jsxs)("div",{className:g.Z.modal_container_header,style:{flexDirection:"column"},children:[(0,I.jsx)("p",{children:j("collecting_documents_of_student")}),(0,I.jsx)("h6",{children:"".concat(null!==(e=null===p||void 0===p||null===(i=p.student)||void 0===i?void 0:i.studentFirstName)&&void 0!==e?e:""," ").concat(null!==p&&void 0!==p&&null!==(l=p.student)&&void 0!==l&&l.studentMiddleName?null===p||void 0===p||null===(o=p.student)||void 0===o?void 0:o.studentMiddleName:""," ").concat(null!==(c=null===p||void 0===p||null===(u=p.student)||void 0===u?void 0:u.studentLastName)&&void 0!==c?c:"")})]}),(0,I.jsx)(b.Z,{label:"confirm",onAction:function(){var n,e;null!==p&&void 0!==p&&null!==(n=p.student)&&void 0!==n&&n._id&&h&&null!==p&&void 0!==p&&p._id&&null!==p&&void 0!==p&&p.revert_request_status&&(C((function(n){return!n})),k({sid:null===p||void 0===p||null===(e=p.student)||void 0===e?void 0:e._id,appId:h,document:{nest:null===p||void 0===p?void 0:p._id,revert_status:null===p||void 0===p?void 0:p.revert_request_status}}).then((function(){f(),C((function(n){return!n})),r()})).catch((function(){C((function(n){return!n}))})))}})]})]})}),S&&(0,I.jsx)(y.Z,{})]})},mn=function(n){var e,i,l,c,u,r,p,m,_,h,f,x,g,j,N,b,S,C,A,k,P,w,D,M,T,F,q,U,G,z,Y,B,J,V,$,H,W=n.instituteId,K=n.applicant,Q=n.did,X=n.bid,nn=n.cmid,en=n.appId,tn=n.onRefetch,ln=(0,s.$G)().t,on=(0,o.UO)(),dn=(0,o.s0)(),an=(0,a.useState)(0),sn=(0,t.Z)(an,2),cn=sn[0],un=sn[1],rn=(0,a.useState)(!1),vn=(0,t.Z)(rn,2),mn=vn[0],_n=vn[1],hn=(0,d.ur)(),fn=(0,t.Z)(hn,1)[0],xn=(0,d.u8)(),gn=(0,t.Z)(xn,1)[0],jn=(0,a.useCallback)((function(){var n;dn("/q/".concat(on.username,"/student/profile"),{state:{sid:null===K||void 0===K||null===(n=K.student)||void 0===n?void 0:n._id,viewAs:"ADMISSION_ADMIN",instituteId:W}})}),[W,null===K||void 0===K||null===(e=K.student)||void 0===e?void 0:e._id]),Zn=function(){un("")};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:Z.oac_container,onClick:jn,title:"View Profile",children:[(0,I.jsxs)("div",{className:Z.oac_container_inner,children:[(0,I.jsx)("img",{alt:"Student Request Avatar",src:null!==K&&void 0!==K&&null!==(i=K.student)&&void 0!==i&&i.studentProfilePhoto?"".concat(O.yI,"/").concat(null===K||void 0===K||null===(l=K.student)||void 0===l?void 0:l.studentProfilePhoto):"".concat(v.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,I.jsxs)("div",{className:Z.oac_container_inner_info,children:[(0,I.jsx)("h6",{children:"".concat(null!==(c=null===K||void 0===K||null===(u=K.student)||void 0===u?void 0:u.studentFirstName)&&void 0!==c?c:""," ").concat(null!==K&&void 0!==K&&null!==(r=K.student)&&void 0!==r&&r.studentMiddleName?null===K||void 0===K||null===(p=K.student)||void 0===p?void 0:p.studentMiddleName:""," ").concat(null!==(m=null===K||void 0===K||null===(_=K.student)||void 0===_?void 0:_.studentLastName)&&void 0!==m?m:"")}),(0,I.jsxs)("h6",{children:[ln("fee_structure")," : ",null!==(h=null===K||void 0===K||null===(f=K.student)||void 0===f||null===(x=f.fee_structure)||void 0===x||null===(g=x.category_master)||void 0===g?void 0:g.category_name)&&void 0!==h?h:"",", ",ln("rs_only")," ",null!==(j=null===K||void 0===K||null===(N=K.student)||void 0===N||null===(b=N.fee_structure)||void 0===b?void 0:b.applicable_fees)&&void 0!==j?j:""]}),(0,I.jsx)("p",{children:null!==K&&void 0!==K&&K.install_type?null===K||void 0===K?void 0:K.install_type:"\n          ".concat(ln("select_on"),":\n          ").concat(R()(null===K||void 0===K?void 0:K.select_on).format("DD MMM YYYY"))})]})]}),(0,I.jsxs)("div",{className:Z.oac_container_contact,children:[(0,I.jsxs)("div",{className:Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(v.U_,"/gender.svg"),alt:"email icon"}),(0,I.jsx)("p",{children:null===K||void 0===K||null===(S=K.student)||void 0===S?void 0:S.studentGender})]}),(0,I.jsxs)("div",{className:Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(v.U_,"/phone.svg"),alt:"phone icon"}),(0,I.jsx)("p",{children:null!==K&&void 0!==K&&null!==(C=K.student)&&void 0!==C&&null!==(A=C.user)&&void 0!==A&&A.userPhoneNumber?null===K||void 0===K||null===(k=K.student)||void 0===k||null===(P=k.user)||void 0===P?void 0:P.userPhoneNumber:null!==K&&void 0!==K&&null!==(w=K.student)&&void 0!==w&&null!==(D=w.user)&&void 0!==D&&D.userEmail?null===K||void 0===K||null===(M=K.student)||void 0===M||null===(T=M.user)||void 0===T?void 0:T.userEmail:null!==K&&void 0!==K&&null!==(F=K.student)&&void 0!==F&&F.studentPhoneNumber?null===K||void 0===K||null===(q=K.student)||void 0===q?void 0:q.studentPhoneNumber:null!==K&&void 0!==K&&null!==(U=K.student)&&void 0!==U&&U.studentParentsPhoneNumber?null===K||void 0===K||null===(G=K.student)||void 0===G?void 0:G.studentParentsPhoneNumber:null!==(z=null===K||void 0===K||null===(Y=K.student)||void 0===Y?void 0:Y.studentEmail)&&void 0!==z?z:""})]})]}),(0,I.jsxs)("div",{className:Z.oac_container_stuff,style:{width:"24%"},children:[(0,I.jsx)("a",{href:"".concat(O.q2,"/").concat(null===K||void 0===K||null===(B=K.student)||void 0===B||null===(J=B.application_print)||void 0===J||null===(V=J[0])||void 0===V?void 0:V.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:function(n){n.stopPropagation()},children:(0,I.jsx)("img",{src:"".concat(v.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),(0,I.jsx)("img",{src:"".concat(v.J7,"/edit.svg"),alt:"edit icon",onClick:function(n){n.stopPropagation(),un(1)}}),(0,I.jsx)("img",{src:"".concat(v.U_,"/undo.svg"),alt:"undo icon",style:{width:"30px",height:"30px"},onClick:function(n){var e,i;(n.stopPropagation(),null!==K&&void 0!==K&&null!==(e=K.student)&&void 0!==e&&e._id&&en&&null!==K&&void 0!==K&&K.revert_request_status)&&(_n((function(n){return!n})),gn({sid:null===K||void 0===K||null===(i=K.student)||void 0===i?void 0:i._id,appId:en,revert:{statusId:null===K||void 0===K?void 0:K.revert_request_status}}).then((function(){tn(),_n((function(n){return!n}))})).catch((function(){_n((function(n){return!n}))})))},title:"Undo Application"}),(0,I.jsx)(L,{label:"collect_docs",onAction:function(n){n.stopPropagation(),un(2)},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}})]})]}),1===cn?(0,I.jsx)(E.Z,{onClose:Zn,onSelectedStrucutre:function(n){var e,i;null!==K&&void 0!==K&&null!==(e=K.student)&&void 0!==e&&e._id&&en&&null!==n&&void 0!==n&&n._id&&(_n((function(n){return!n})),fn({sid:null===K||void 0===K||null===(i=K.student)||void 0===i?void 0:i._id,appId:en,applicant:{fee_struct:null===n||void 0===n?void 0:n._id}}).then((function(){tn(),Zn(),_n((function(n){return!n}))})).catch((function(){_n((function(n){return!n}))})))},did:Q,bid:X,cmid:nn,selectedStructure:null===K||void 0===K||null===($=K.student)||void 0===$||null===(H=$.fee_structure)||void 0===H?void 0:H._id}):2===cn?(0,I.jsx)(pn,{onClose:Zn,onRefetch:tn,applicant:K,appId:en}):null,mn&&(0,I.jsx)(y.Z,{})]})},_n=function(n){var e,i,l,v,p,_,h=n.applicationDetail,f=n.instituteId,x=(0,s.$G)().t,g=(0,o.TH)(),j=(0,a.useState)(""),Z=(0,t.Z)(j,2),N=Z[0],b=Z[1],S=(0,a.useState)(1),C=(0,t.Z)(S,2),k=C[0],P=C[1],O=(0,a.useState)(!0),T=(0,t.Z)(O,2),R=T[0],F=T[1],E=(0,c.YD)({skip:N}),q=(0,t.Z)(E,2),L=q[0],U=q[1],G=(0,d.Zx)({data:{appId:null===(e=g.state)||void 0===e?void 0:e.appId,page:k,limit:10,search:N},skip:!(null!==(i=g.state)&&void 0!==i&&i.appId)}),z=G.admissionOngoingApplicationDocument,Y=G.admissionOngoingApplicationDocumentLoading,B=G.admissionOngoingApplicationDocumentRefetch;(0,a.useEffect)((function(){U&&R&&P((function(n){return n+1}))}),[U,R]),(0,a.useEffect)((function(){var n;if(null!==z&&void 0!==z&&null!==(n=z.list)&&void 0!==n&&n.length){var e,i=(0,u.f)(null===z||void 0===z||null===(e=z.list)||void 0===e?void 0:e.length);F((function(){return i}))}}),[null===z||void 0===z||null===(l=z.list)||void 0===l?void 0:l.length]);var J=(0,a.useCallback)((0,r.J)((function(n){P((function(){return 1})),b(n)}),1500),[]),V=(0,a.useCallback)((function(){P((function(){return 1})),B()}),[]);return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(w.Z,{children:[(0,I.jsx)(A,{applicationDetail:h,instituteId:f}),(0,I.jsxs)(m.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,I.jsx)(X,{applicationDetail:h,instituteId:f,isFull:!0,children:(0,I.jsx)("input",{type:"text",placeholder:x("search_applicants"),onChange:function(n){n.target.value?J(n.target.value):(P((function(){return 1})),b(""))}})}),null===z||void 0===z||null===(v=z.list)||void 0===v?void 0:v.map((function(n,e){var i,t,l,o,d,a,s;return(null===z||void 0===z||null===(i=z.list)||void 0===i?void 0:i.length)===e+1?(0,I.jsx)("div",{ref:L,children:(0,I.jsx)(mn,{applicant:n,instituteId:f,did:null===h||void 0===h||null===(t=h.applicationDepartment)||void 0===t?void 0:t._id,bid:null===h||void 0===h||null===(l=h.applicationBatch)||void 0===l?void 0:l._id,cmid:null===h||void 0===h?void 0:h.applicationMaster,onRefetch:V,appId:null===(o=g.state)||void 0===o?void 0:o.appId})},null===n||void 0===n?void 0:n._id):(0,I.jsx)(mn,{applicant:n,instituteId:f,did:null===h||void 0===h||null===(d=h.applicationDepartment)||void 0===d?void 0:d._id,bid:null===h||void 0===h||null===(a=h.applicationBatch)||void 0===a?void 0:a._id,cmid:null===h||void 0===h?void 0:h.applicationMaster,onRefetch:V,appId:null===(s=g.state)||void 0===s?void 0:s.appId},null===n||void 0===n?void 0:n._id)})),Y?N?(0,I.jsx)(y.Z,{}):(0,I.jsx)(M.Z,{}):N?0===(null===z||void 0===z||null===(p=z.list)||void 0===p?void 0:p.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants fuond related this search."}):0===(null===z||void 0===z||null===(_=z.list)||void 0===_?void 0:_.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]})})},hn=i(37762),fn=i(47570),xn=i(43997),gn=i(50518),jn=i(20659),Zn=i(26071),Nn=i(7562),yn=function(n){var e,i,l,o,c,u,r,p=n.onClose,h=n.applicant,f=n.appId,j=n.onRefetch,Z=(0,s.$G)().t,N=(0,a.useState)(!1),S=(0,t.Z)(N,2),C=S[0],A=S[1],k=(0,a.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:"",pay_remain:!1}),P=(0,t.Z)(k,2),w=P[0],D=P[1],M=(0,a.useState)(0),O=(0,t.Z)(M,2),T=O[0],R=O[1],F=(0,a.useState)(""),E=(0,t.Z)(F,2),q=E[0],L=E[1],B=(0,d.VO)(),J=(0,t.Z)(B,1)[0],V=function(n){D((function(e){return(0,G.Z)((0,G.Z)({},e),{},(0,U.Z)({},n.target.name,n.target.value))}))},$=function(n){if(D((function(e){return(0,G.Z)((0,G.Z)({},e),{},{pay_remain:n})})),n){var e,i,t=0,l=(0,hn.Z)(null===h||void 0===h||null===(e=h.app_card)||void 0===e?void 0:e.remaining_array);try{for(l.s();!(i=l.n()).done;){var o=i.value;"Paid"!==(null===o||void 0===o?void 0:o.status)&&(t+=null===o||void 0===o?void 0:o.remainAmount)}}catch(d){l.e(d)}finally{l.f()}R(t)}};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(x.Z,{onClose:p,children:(0,I.jsxs)("div",{className:g.Z.modal_container,children:[(0,I.jsx)(m.Z,{children:(0,I.jsxs)("div",{className:g.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:g.Z.modal_container_header,children:(0,I.jsx)("h6",{children:Z("collect_fees")})}),(0,I.jsx)("img",{src:"".concat(v.J7,"/close.svg"),alt:"close icon",onClick:p})]})}),(0,I.jsx)(_.Z,{}),(0,I.jsxs)(m.Z,{customStyle:{paddingTop:"0"},children:[(0,I.jsxs)("div",{className:g.Z.admission_fees_row,children:[(0,I.jsxs)("h6",{children:[Z("applicable_amount")," :"]}),(0,I.jsxs)("h6",{children:[Z("rs_only")," ",null!==(e=null===h||void 0===h||null===(i=h.app_card)||void 0===i?void 0:i.applicable_fee)&&void 0!==e?e:0]})]}),null!==h&&void 0!==h&&null!==(l=h.fee_struct)&&void 0!==l&&l.total_installments&&+(null===h||void 0===h||null===(o=h.fee_struct)||void 0===o?void 0:o.total_installments)>1?(0,I.jsx)(jn.Z,{label:"pay_rest_remaining_fees",children:null===Nn.nj||void 0===Nn.nj?void 0:Nn.nj.map((function(n){return(0,I.jsx)(Zn.Z,{tile:n,onTile:$,activeTile:w.pay_remain},null===n||void 0===n?void 0:n.id)}))}):null,(0,I.jsx)(Y.Z,{label:"".concat(Z(w.pay_remain?"amount_remain_installment":"amount_first_installment")," ").concat(w.pay_remain?T:null===h||void 0===h||null===(c=h.app_card)||void 0===c||null===(u=c.remaining_array)||void 0===u||null===(r=u[0])||void 0===r?void 0:r.remainAmount),placeholder:Z("amoute_details_collect"),name:"amount",value:w.amount,type:"tel",onChange:function(n){D((function(e){return(0,G.Z)((0,G.Z)({},e),{},{amount:+n.target.value,fee_payment_amount:+n.target.value})}))},errorShow:q.amount,msg:q.rest_issue}),(0,I.jsx)(gn.Z,{paymentHeading:Z("payment_type_mode"),selectLabel:Z("mode_placeholder"),onClick:function(n){D((function(e){return(0,G.Z)((0,G.Z)({},e),{},{mode:"Online",fee_payment_mode:n})}))},errorShow:q.fee_payment_mode,defalutValue:w.fee_payment_mode,selectedValue:Z("please_select_payment_mode"),isAuthority:"admissionCollectMode",customLabelStyle:{marginTop:"0"}}),(0,I.jsx)(fn.Z,{label:Z("select_date_of_transaction"),placeholder:Z("please_select_date"),name:"transaction_date",value:w.transaction_date,onChange:function(n){D((function(e){return(0,G.Z)((0,G.Z)({},e),{},{transaction_date:(0,xn.jh)(n)})}))},errorShow:q.transaction_date}),"Cash"===w.fee_payment_mode?null:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Y.Z,{label:Z("bank_name_collect"),placeholder:Z("please_enter_bank_name"),name:"fee_bank_name",value:w.fee_bank_name,type:"text",onChange:V}),(0,I.jsx)(Y.Z,{label:Z("banke_holder_name"),placeholder:Z("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:w.fee_bank_holder,type:"text",onChange:V}),(0,I.jsx)(Y.Z,{label:Z("cheque_dd_neft"),placeholder:Z("please_enter_utr_ref_number"),name:"fee_utr_reference",value:w.fee_utr_reference,type:"text",onChange:V})]}),(0,I.jsx)(b.Z,{label:"collect",onAction:function(){var n,e,i,t,l,o,d,a,s,c,u,r,v,m,_,x,g,Z,N,y,b,I,S,C,k,P=(0,z.l)(w,["mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference","pay_remain"]);(0,z.x)(P)?w.pay_remain&&w.amount<T?L({rest_issue:"Amount should not be less than total remaining fees"}):!w.pay_remain&&w.amount>(null===h||void 0===h||null===(n=h.app_card)||void 0===n||null===(e=n.remaining_array)||void 0===e||null===(i=e[0])||void 0===i?void 0:i.remainAmount)&&+(null===h||void 0===h||null===(t=h.fee_struct)||void 0===t?void 0:t.total_installments)>1?L({rest_issue:"Amount should not be greater than remaining fees"}):null!==h&&void 0!==h&&null!==(l=h.student)&&void 0!==l&&l._id&&f&&(A((function(n){return!n})),J({sid:null===h||void 0===h||null===(o=h.student)||void 0===o?void 0:o._id,appId:f,collect:{card_id:null===h||void 0===h||null===(d=h.app_card)||void 0===d?void 0:d._id,rid:null===h||void 0===h||null===(a=h.payment_flow)||void 0===a?void 0:a._id,raid:null===h||void 0===h||null===(s=h.app_card)||void 0===s||null===(c=s.remaining_array)||void 0===c||null===(u=c[0])||void 0===u?void 0:u._id,type:null===h||void 0===h||null===(r=h.app_card)||void 0===r||null===(v=r.remaining_array)||void 0===v||null===(m=v[0])||void 0===m?void 0:m.installmentValue,raid_1:null!==(_=null===h||void 0===h||null===(x=h.app_card)||void 0===x||null===(g=x.remaining_array)||void 0===g||null===(Z=g[1])||void 0===Z?void 0:Z._id)&&void 0!==_?_:"",amount:null!==(N=null===w||void 0===w?void 0:w.amount)&&void 0!==N?N:"",mode:"Cash"===(null===w||void 0===w?void 0:w.fee_payment_mode)?"Offline":null!==(y=null===w||void 0===w?void 0:w.mode)&&void 0!==y?y:"",fee_payment_mode:"Cash"===(null===w||void 0===w?void 0:w.fee_payment_mode)?"By Cash":null===w||void 0===w?void 0:w.fee_payment_mode,fee_payment_amount:null!==(b=null===w||void 0===w?void 0:w.fee_payment_amount)&&void 0!==b?b:"",transaction_date:null!==(I=(0,xn._1)(w.transaction_date))&&void 0!==I?I:"",fee_bank_name:null!==(S=null===w||void 0===w?void 0:w.fee_bank_name)&&void 0!==S?S:"",fee_bank_holder:null!==(C=null===w||void 0===w?void 0:w.fee_bank_holder)&&void 0!==C?C:"",fee_utr_reference:null!==(k=null===w||void 0===w?void 0:w.fee_utr_reference)&&void 0!==k?k:"",pay_remain:w.pay_remain}}).then((function(){j(),A((function(n){return!n})),p()})).catch({})):L(P)}})]})]})}),C&&(0,I.jsx)(y.Z,{})]})},bn=function(n){var e,i,l,c,u,r,p,m,_,h,f,x,g,j,N,b,S,C,A,k,P,w,D,M,T,F,E,q,U,G,z,Y,B,J=n.instituteId,V=n.applicant,$=n.appId,H=n.onRefetch,W=(0,s.$G)().t,K=(0,o.UO)(),Q=(0,o.s0)(),X=(0,a.useState)(0),nn=(0,t.Z)(X,2),en=nn[0],tn=nn[1],ln=(0,a.useState)(!1),on=(0,t.Z)(ln,2),dn=on[0],an=on[1],sn=(0,d.ZN)(),cn=(0,t.Z)(sn,1)[0],un=(0,a.useCallback)((function(){var n;Q("/q/".concat(K.username,"/member/student/admission/profile"),{state:{sid:null===V||void 0===V||null===(n=V.student)||void 0===n?void 0:n._id,viewAs:"ADMISSION_ADMIN",instituteId:J,collectAccess:"ADMISSION_ADMIN"}})}),[J,null===V||void 0===V||null===(e=V.student)||void 0===e?void 0:e._id]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:Z.oac_container,onClick:un,title:"View Profile",children:[(0,I.jsxs)("div",{className:Z.oac_container_inner,children:[(0,I.jsx)("img",{alt:"Student Request Avatar",src:null!==V&&void 0!==V&&null!==(i=V.student)&&void 0!==i&&i.studentProfilePhoto?"".concat(O.yI,"/").concat(null===V||void 0===V||null===(l=V.student)||void 0===l?void 0:l.studentProfilePhoto):"".concat(v.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,I.jsxs)("div",{className:Z.oac_container_inner_info,children:[(0,I.jsx)("h6",{children:"".concat(null!==(c=null===V||void 0===V||null===(u=V.student)||void 0===u?void 0:u.studentFirstName)&&void 0!==c?c:""," ").concat(null!==V&&void 0!==V&&null!==(r=V.student)&&void 0!==r&&r.studentMiddleName?null===V||void 0===V||null===(p=V.student)||void 0===p?void 0:p.studentMiddleName:""," ").concat(null!==(m=null===V||void 0===V||null===(_=V.student)||void 0===_?void 0:_.studentLastName)&&void 0!==m?m:"")}),(0,I.jsxs)("h6",{children:[W("fee_structure")," : ",null!==(h=null===V||void 0===V||null===(f=V.fee_struct)||void 0===f||null===(x=f.unique_structure_name)||void 0===x||null===(g=x.split(" - "))||void 0===g?void 0:g[0])&&void 0!==h?h:"",", ",W("rs_only")," ",null!==(j=null===V||void 0===V||null===(N=V.fee_struct)||void 0===N?void 0:N.applicable_fees)&&void 0!==j?j:""]}),(0,I.jsxs)("p",{children:[W("select_on"),":",R()(null===V||void 0===V?void 0:V.select_on).format("DD MMM YYYY")]})]})]}),(0,I.jsxs)("div",{className:Z.oac_container_contact,children:[(0,I.jsxs)("div",{className:Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(v.U_,"/gender.svg"),alt:"email icon"}),(0,I.jsx)("p",{children:null===V||void 0===V||null===(b=V.student)||void 0===b?void 0:b.studentGender})]}),(0,I.jsxs)("div",{className:Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(v.U_,"/phone.svg"),alt:"phone icon"}),(0,I.jsx)("p",{children:null!==V&&void 0!==V&&null!==(S=V.student)&&void 0!==S&&null!==(C=S.user)&&void 0!==C&&C.userPhoneNumber?null===V||void 0===V||null===(A=V.student)||void 0===A||null===(k=A.user)||void 0===k?void 0:k.userPhoneNumber:null!==V&&void 0!==V&&null!==(P=V.student)&&void 0!==P&&null!==(w=P.user)&&void 0!==w&&w.userEmail?null===V||void 0===V||null===(D=V.student)||void 0===D||null===(M=D.user)||void 0===M?void 0:M.userEmail:null!==V&&void 0!==V&&null!==(T=V.student)&&void 0!==T&&T.studentPhoneNumber?null===V||void 0===V||null===(F=V.student)||void 0===F?void 0:F.studentPhoneNumber:null!==V&&void 0!==V&&null!==(E=V.student)&&void 0!==E&&E.studentParentsPhoneNumber?null===V||void 0===V||null===(q=V.student)||void 0===q?void 0:q.studentParentsPhoneNumber:null!==(U=null===V||void 0===V||null===(G=V.student)||void 0===G?void 0:G.studentEmail)&&void 0!==U?U:""})]})]}),(0,I.jsxs)("div",{className:Z.oac_container_stuff,children:[(0,I.jsx)("a",{href:"".concat(O.q2,"/").concat(null===V||void 0===V||null===(z=V.student)||void 0===z||null===(Y=z.application_print)||void 0===Y||null===(B=Y[0])||void 0===B?void 0:B.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:function(n){n.stopPropagation()},children:(0,I.jsx)("img",{src:"".concat(v.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),(0,I.jsx)("img",{src:"".concat(v.U_,"/undo.svg"),alt:"undo icon",style:{width:"30px",height:"30px"},onClick:function(n){var e,i,t,l;(n.stopPropagation(),null!==V&&void 0!==V&&null!==(e=V.student)&&void 0!==e&&e._id&&$&&null!==V&&void 0!==V&&V.status_id&&null!==V&&void 0!==V&&V.revert_request_status&&null!==V&&void 0!==V&&V._id&&null!==V&&void 0!==V&&null!==(i=V.payment_flow)&&void 0!==i&&i._id)&&(an((function(n){return!n})),cn({sid:null===V||void 0===V||null===(t=V.student)||void 0===t?void 0:t._id,appId:$,revert:{statusId:null===V||void 0===V?void 0:V.status_id,fcid:null===V||void 0===V?void 0:V._id,rid:null===V||void 0===V||null===(l=V.payment_flow)||void 0===l?void 0:l._id,revert_status:null===V||void 0===V?void 0:V.revert_request_status}}).then((function(){H(),an((function(n){return!n}))})).catch((function(){an((function(n){return!n}))})))},title:"Undo Application"}),(0,I.jsx)(L,{label:"collect_fees",onAction:function(n){n.stopPropagation(),tn(1)},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}})]})]}),1===en?(0,I.jsx)(yn,{onClose:function(){tn("")},onRefetch:H,applicant:V,appId:$}):null,dn&&(0,I.jsx)(y.Z,{})]})},In=function(n){var e,i,l,v,p,_,h=n.applicationDetail,f=n.instituteId,x=(0,s.$G)().t,g=(0,o.TH)(),j=(0,a.useState)(""),Z=(0,t.Z)(j,2),N=Z[0],b=Z[1],S=(0,a.useState)(1),C=(0,t.Z)(S,2),k=C[0],P=C[1],O=(0,a.useState)(!0),T=(0,t.Z)(O,2),R=T[0],F=T[1],E=(0,c.YD)({skip:N}),q=(0,t.Z)(E,2),L=q[0],U=q[1],G=(0,d.TM)({data:{appId:null===(e=g.state)||void 0===e?void 0:e.appId,page:k,limit:10,search:N},skip:!(null!==(i=g.state)&&void 0!==i&&i.appId)}),z=G.admissionOngoingApplicationFees,Y=G.admissionOngoingApplicationFeesLoading,B=G.admissionOngoingApplicationFeesRefetch;(0,a.useEffect)((function(){U&&R&&P((function(n){return n+1}))}),[U,R]),(0,a.useEffect)((function(){var n;if(null!==z&&void 0!==z&&null!==(n=z.list)&&void 0!==n&&n.length){var e,i=(0,u.f)(null===z||void 0===z||null===(e=z.list)||void 0===e?void 0:e.length);F((function(){return i}))}}),[null===z||void 0===z||null===(l=z.list)||void 0===l?void 0:l.length]);var J=(0,a.useCallback)((0,r.J)((function(n){P((function(){return 1})),b(n)}),1500),[]),V=(0,a.useCallback)((function(){P((function(){return 1})),B()}),[]);return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(w.Z,{children:[(0,I.jsx)(A,{applicationDetail:h,instituteId:f}),(0,I.jsxs)(m.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,I.jsx)(X,{applicationDetail:h,instituteId:f,isFull:!0,children:(0,I.jsx)("input",{type:"text",placeholder:x("search_applicants"),onChange:function(n){n.target.value?J(n.target.value):(P((function(){return 1})),b(""))}})}),null===z||void 0===z||null===(v=z.list)||void 0===v?void 0:v.map((function(n,e){var i,t,l;return(null===z||void 0===z||null===(i=z.list)||void 0===i?void 0:i.length)===e+1?(0,I.jsx)("div",{ref:L,children:(0,I.jsx)(bn,{applicant:n,instituteId:f,onRefetch:V,appId:null===(t=g.state)||void 0===t?void 0:t.appId})},null===n||void 0===n?void 0:n._id):(0,I.jsx)(bn,{applicant:n,instituteId:f,onRefetch:V,appId:null===(l=g.state)||void 0===l?void 0:l.appId},null===n||void 0===n?void 0:n._id)})),Y?N?(0,I.jsx)(y.Z,{}):(0,I.jsx)(M.Z,{}):N?0===(null===z||void 0===z||null===(p=z.list)||void 0===p?void 0:p.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants fuond related this search."}):0===(null===z||void 0===z||null===(_=z.list)||void 0===_?void 0:_.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]})})},Sn=function(n){var e,i,t,l,o,d,a,c,u,r,p,m,_,h,f,x,g,j,N,y,b,S,C,A,k=n.applicant,P=n.onSelect,w=n.applicantId,D=(0,s.$G)().t;return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)("div",{className:Z.oac_container,onClick:function(){var n;return P(null===k||void 0===k||null===(n=k.student)||void 0===n?void 0:n._id,null===k||void 0===k?void 0:k._id)},style:{justifyContent:"flex-start"},children:[(0,I.jsx)("img",{className:Z.department_checkbox,src:null!==w&&void 0!==w&&w.includes(null===k||void 0===k||null===(e=k.student)||void 0===e?void 0:e._id)?"".concat(v.U_,"/check.svg"):"".concat(v.U_,"/uncheck.svg"),alt:"check icon"}),(0,I.jsxs)("div",{className:Z.oac_container_inner,children:[(0,I.jsx)("img",{alt:"Student Request Avatar",src:null!==k&&void 0!==k&&null!==(i=k.student)&&void 0!==i&&i.studentProfilePhoto?"".concat(O.yI,"/").concat(null===k||void 0===k||null===(t=k.student)||void 0===t?void 0:t.studentProfilePhoto):"".concat(v.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,I.jsxs)("div",{className:Z.oac_container_inner_info,children:[(0,I.jsx)("h6",{children:"".concat(null!==(l=null===k||void 0===k||null===(o=k.student)||void 0===o?void 0:o.studentFirstName)&&void 0!==l?l:""," ").concat(null!==k&&void 0!==k&&null!==(d=k.student)&&void 0!==d&&d.studentMiddleName?null===k||void 0===k||null===(a=k.student)||void 0===a?void 0:a.studentMiddleName:""," ").concat(null!==(c=null===k||void 0===k||null===(u=k.student)||void 0===u?void 0:u.studentLastName)&&void 0!==c?c:"")}),(0,I.jsxs)("p",{children:[D("confirmed_on"),":"," ",R()(null===k||void 0===k?void 0:k.apply_on).format("DD MMM YYYY")]})]})]}),(0,I.jsxs)("div",{className:Z.oac_container_contact,children:[(0,I.jsxs)("div",{className:Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(v.U_,"/gender.svg"),alt:"email icon"}),(0,I.jsx)("p",{children:null===k||void 0===k||null===(r=k.student)||void 0===r?void 0:r.studentGender})]}),(0,I.jsxs)("div",{className:Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(v.U_,"/phone.svg"),alt:"phone icon"}),(0,I.jsx)("p",{children:null!==k&&void 0!==k&&null!==(p=k.student)&&void 0!==p&&null!==(m=p.user)&&void 0!==m&&m.userPhoneNumber?null===k||void 0===k||null===(_=k.student)||void 0===_||null===(h=_.user)||void 0===h?void 0:h.userPhoneNumber:null!==k&&void 0!==k&&null!==(f=k.student)&&void 0!==f&&null!==(x=f.user)&&void 0!==x&&x.userEmail?null===k||void 0===k||null===(g=k.student)||void 0===g||null===(j=g.user)||void 0===j?void 0:j.userEmail:null!==k&&void 0!==k&&null!==(N=k.student)&&void 0!==N&&N.studentPhoneNumber?null===k||void 0===k||null===(y=k.student)||void 0===y?void 0:y.studentPhoneNumber:null!==k&&void 0!==k&&null!==(b=k.student)&&void 0!==b&&b.studentParentsPhoneNumber?null===k||void 0===k||null===(S=k.student)||void 0===S?void 0:S.studentParentsPhoneNumber:null!==(C=null===k||void 0===k||null===(A=k.student)||void 0===A?void 0:A.studentEmail)&&void 0!==C?C:""})]})]})]})})},Cn=function(n){var e,i,l,c,u=n.applicationDetail,r=n.instituteId,_=(0,s.$G)().t,h=(0,o.TH)(),f=(0,o.s0)(),x=(0,a.useState)(""),g=(0,t.Z)(x,2),j=g[0],Z=g[1],N=(0,a.useState)([]),b=(0,t.Z)(N,2),S=b[0],C=b[1],k=(0,a.useState)([]),P=(0,t.Z)(k,2),O=P[0],T=P[1],R=(0,a.useState)(!1),E=(0,t.Z)(R,2),q=E[0],U=E[1],G=(0,a.useState)([]),z=(0,t.Z)(G,2),Y=z[0],B=z[1],J=(0,a.useState)(!1),$=(0,t.Z)(J,2),H=$[0],W=$[1],K=(0,d.Kv)(),Q=(0,t.Z)(K,1)[0],X=(0,d.m2)({data:{appId:null===(e=h.state)||void 0===e?void 0:e.appId},skip:!(null!==(i=h.state)&&void 0!==i&&i.appId)}),nn=X.admissionOngoingApplicationAllConfirmList,en=X.admissionOngoingApplicationAllConfirmListLoading,tn=X.admissionOngoingApplicationAllConfirmListRefetch;(0,a.useEffect)((function(){null!==nn&&void 0!==nn&&nn.length&&B(nn)}),[null===nn||void 0===nn?void 0:nn.length]);var ln=function(n,e){null!==S&&void 0!==S&&S.includes(n)?(C((function(e){return null===e||void 0===e?void 0:e.filter((function(e){return e!==n}))})),T((function(e){return null===e||void 0===e?void 0:e.filter((function(e){return(null===e||void 0===e?void 0:e.sid)!==n}))}))):(C((function(e){return[].concat((0,V.Z)(e),[n])})),T((function(i){return[].concat((0,V.Z)(i),[{sid:n,cid:e}])})))};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(w.Z,{children:[(0,I.jsx)(A,{applicationDetail:u,instituteId:r}),(0,I.jsxs)(m.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,I.jsxs)(F.Z,{customStyle:{justifyContent:"space-between",marginBottom:"0.7rem"},children:[(0,I.jsx)("section",{className:p.Z.fm_search_container,children:(0,I.jsxs)("div",{className:p.Z.fm_search_container_inner,style:{minWidth:"500px"},children:[(0,I.jsx)("img",{className:p.Z.fm_search_icon,alt:"search icon",src:"".concat(v.dB,"/navbar-search.svg")}),(0,I.jsx)("input",{type:"text",placeholder:_("search_applicants"),onChange:function(n){if(n.target.value){var e=kn(nn,n.target.value);B(e)}else Z(""),B(nn)},style:{minWidth:"500px"}})]})}),(0,I.jsxs)("div",{className:p.Z.fm_flex,children:[!An[null===(l=h.state)||void 0===l?void 0:l.isAuthorization]&&(0,I.jsx)(L,{label:H?"remove_all":"select_all",count:null===S||void 0===S?void 0:S.length,onAction:H?function(){C([]),T([]),W(!1)}:function(){var n,e=[],i=[],t=(0,hn.Z)(nn);try{for(t.s();!(n=t.n()).done;){var l,o,d=n.value;e.push(null===d||void 0===d||null===(l=d.student)||void 0===l?void 0:l._id),i.push({sid:null===d||void 0===d||null===(o=d.student)||void 0===o?void 0:o._id,cid:null===d||void 0===d?void 0:d._id})}}catch(a){t.e(a)}finally{t.f()}C(e),T(i),W(!0)},customStyle:{padding:"0.5rem 1rem",fontSize:"13px"}}),!An[null===(c=h.state)||void 0===c?void 0:c.isAuthorization]&&(0,I.jsx)(L,{label:"review",onAction:function(){var n,e;(null===S||void 0===S?void 0:S.length)>0&&null!==(n=h.state)&&void 0!==n&&n.appId&&(U((function(n){return!n})),Q({appId:null===(e=h.state)||void 0===e?void 0:e.appId,review:{student_arr:O}}).then((function(){tn(),U((function(n){return!n})),C([]),T([]),W(!1)})).catch({}))},customStyle:{padding:"0.5rem 1rem",fontSize:"13px",opacity:(null===S||void 0===S?void 0:S.length)>0?"1":"0.5"}}),(0,I.jsx)("img",{src:"".concat(v.J7,"/close.svg"),alt:"close icon",onClick:function(){f(-1)}})]})]}),null===Y||void 0===Y?void 0:Y.map((function(n){return(0,I.jsx)(Sn,{applicant:n,applicantId:S,onSelect:ln},null===n||void 0===n?void 0:n._id)})),en?j?(0,I.jsx)(y.Z,{}):(0,I.jsx)(M.Z,{}):j?0===(null===Y||void 0===Y?void 0:Y.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants fuond related this search."}):0===(null===Y||void 0===Y?void 0:Y.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]}),q&&(0,I.jsx)(y.Z,{})]})},An={isCompleted:!0},kn=function(n,e){return null===n||void 0===n?void 0:n.filter((function(n){var i,t,l,o,d="".concat(null===n||void 0===n||null===(i=n.student)||void 0===i?void 0:i.studentFirstName," ").concat(null===n||void 0===n||null===(t=n.student)||void 0===t?void 0:t.studentMiddleName," ").concat(null===n||void 0===n||null===(l=n.student)||void 0===l?void 0:l.studentLastName);return null!==d&&void 0!==d&&null!==(o=d.toLowerCase())&&void 0!==o&&o.includes(null===e||void 0===e?void 0:e.toLowerCase())?n:null}))},Pn=function(n){var e,i,l,c,u,r,p,m,_,h,f,x,g,j,N,b,S,C,A,k,P,w,D,M,T,E,q,U,G,z,Y=n.instituteId,B=n.applicant,J=n.appId,V=n.onRefetch,$=n.isMultiple,H=n.onSelect,W=n.applicantId,K=(0,s.$G)().t,Q=(0,o.UO)(),X=(0,o.s0)(),nn=(0,a.useState)(!1),en=(0,t.Z)(nn,2),tn=en[0],ln=en[1],on=(0,d.Kv)(),dn=(0,t.Z)(on,1)[0],an=(0,a.useCallback)((function(){var n;X("/q/".concat(Q.username,"/student/profile"),{state:{sid:null===B||void 0===B||null===(n=B.student)||void 0===n?void 0:n._id,viewAs:"ADMISSION_ADMIN",instituteId:Y,collectAccess:"ADMISSION_ADMIN"}})}),[Y,null===B||void 0===B||null===(e=B.student)||void 0===e?void 0:e._id]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:Z.oac_container,onClick:an,title:"View Profile",children:[$?(0,I.jsx)("img",{className:Z.department_checkbox,src:null!==W&&void 0!==W&&W.includes(null===B||void 0===B||null===(i=B.student)||void 0===i?void 0:i._id)?"".concat(v.U_,"/check.svg"):"".concat(v.U_,"/uncheck.svg"),alt:"check icon",onClick:function(n){var e;return H(n,null===B||void 0===B||null===(e=B.student)||void 0===e?void 0:e._id,null===B||void 0===B?void 0:B._id)}}):null,(0,I.jsxs)("div",{className:Z.oac_container_inner,children:[(0,I.jsx)("img",{alt:"Student Request Avatar",src:null!==B&&void 0!==B&&null!==(l=B.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(O.yI,"/").concat(null===B||void 0===B||null===(c=B.student)||void 0===c?void 0:c.studentProfilePhoto):"".concat(v.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,I.jsxs)("div",{className:Z.oac_container_inner_info,children:[(0,I.jsx)("h6",{children:"".concat(null!==(u=null===B||void 0===B||null===(r=B.student)||void 0===r?void 0:r.studentFirstName)&&void 0!==u?u:""," ").concat(null!==B&&void 0!==B&&null!==(p=B.student)&&void 0!==p&&p.studentMiddleName?null===B||void 0===B||null===(m=B.student)||void 0===m?void 0:m.studentMiddleName:""," ").concat(null!==(_=null===B||void 0===B||null===(h=B.student)||void 0===h?void 0:h.studentLastName)&&void 0!==_?_:"")}),(0,I.jsxs)("p",{children:[K("confirmed_on"),":"," ",R()(null===B||void 0===B?void 0:B.apply_on).format("DD MMM YYYY")]})]})]}),(0,I.jsxs)("div",{className:Z.oac_container_contact,children:[(0,I.jsxs)("div",{className:Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(v.U_,"/gender.svg"),alt:"email icon"}),(0,I.jsx)("p",{children:null===B||void 0===B||null===(f=B.student)||void 0===f?void 0:f.studentGender})]}),(0,I.jsxs)("div",{className:Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(v.U_,"/phone.svg"),alt:"phone icon"}),(0,I.jsx)("p",{children:null!==B&&void 0!==B&&null!==(x=B.student)&&void 0!==x&&null!==(g=x.user)&&void 0!==g&&g.userPhoneNumber?null===B||void 0===B||null===(j=B.student)||void 0===j||null===(N=j.user)||void 0===N?void 0:N.userPhoneNumber:null!==B&&void 0!==B&&null!==(b=B.student)&&void 0!==b&&null!==(S=b.user)&&void 0!==S&&S.userEmail?null===B||void 0===B||null===(C=B.student)||void 0===C||null===(A=C.user)||void 0===A?void 0:A.userEmail:null!==B&&void 0!==B&&null!==(k=B.student)&&void 0!==k&&k.studentPhoneNumber?null===B||void 0===B||null===(P=B.student)||void 0===P?void 0:P.studentPhoneNumber:null!==B&&void 0!==B&&null!==(w=B.student)&&void 0!==w&&w.studentParentsPhoneNumber?null===B||void 0===B||null===(D=B.student)||void 0===D?void 0:D.studentParentsPhoneNumber:null!==(M=null===B||void 0===B||null===(T=B.student)||void 0===T?void 0:T.studentEmail)&&void 0!==M?M:""})]})]}),(0,I.jsxs)("div",{className:Z.oac_container_stuff,children:[(0,I.jsx)("a",{href:"".concat(O.q2,"/").concat(null===B||void 0===B||null===(E=B.student)||void 0===E||null===(q=E.application_print)||void 0===q||null===(U=q[0])||void 0===U?void 0:U.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:function(n){n.stopPropagation()},children:(0,I.jsx)("img",{src:"".concat(v.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),null===B||void 0===B||null===(G=B.student)||void 0===G||null===(z=G.fee_receipt)||void 0===z?void 0:z.map((function(n,e){return e>2?"":(0,I.jsx)(sn,{rid:n},n)})),$?null:(0,I.jsx)(F.Z,{children:(0,I.jsx)(L,{label:"review",onAction:function(n){var e,i;(n.stopPropagation(),null!==B&&void 0!==B&&null!==(e=B.student)&&void 0!==e&&e._id&&J)&&(ln((function(n){return!n})),dn({appId:J,review:{student_arr:[{sid:null===B||void 0===B||null===(i=B.student)||void 0===i?void 0:i._id,cid:null===B||void 0===B?void 0:B._id}]}}).then((function(){V(),ln((function(n){return!n}))})).catch({}))},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}})})]})]}),tn&&(0,I.jsx)(y.Z,{})]})},wn=function(n){var e,i,l,v,p,_,h,f=n.applicationDetail,x=n.instituteId,g=(0,s.$G)().t,j=(0,o.TH)(),Z=(0,o.s0)(),N=(0,o.UO)(),b=(0,a.useState)(""),S=(0,t.Z)(b,2),C=S[0],k=S[1],P=(0,a.useState)(1),O=(0,t.Z)(P,2),T=O[0],R=O[1],F=(0,a.useState)(!0),E=(0,t.Z)(F,2),q=E[0],L=E[1],U=(0,c.YD)({skip:C}),G=(0,t.Z)(U,2),z=G[0],Y=G[1],B=(0,d.Hi)({data:{appId:null===(e=j.state)||void 0===e?void 0:e.appId,page:T,limit:10,search:C},skip:!(null!==(i=j.state)&&void 0!==i&&i.appId)}),J=B.admissionOngoingApplicationConfirm,V=B.admissionOngoingApplicationConfirmLoading,$=B.admissionOngoingApplicationConfirmRefetch;(0,a.useEffect)((function(){Y&&q&&R((function(n){return n+1}))}),[Y,q]),(0,a.useEffect)((function(){var n;if(null!==J&&void 0!==J&&null!==(n=J.list)&&void 0!==n&&n.length){var e,i=(0,u.f)(null===J||void 0===J||null===(e=J.list)||void 0===e?void 0:e.length);L((function(){return i}))}}),[null===J||void 0===J||null===(l=J.list)||void 0===l?void 0:l.length]);var H=(0,a.useCallback)((0,r.J)((function(n){R((function(){return 1})),k(n)}),1500),[]),W=(0,a.useCallback)((function(){R((function(){return 1})),$()}),[$]);return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(w.Z,{children:[(0,I.jsx)(A,{applicationDetail:f,instituteId:x}),(0,I.jsxs)(m.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,I.jsx)(X,{applicationDetail:f,instituteId:x,onMultipleSelect:function(){var n,e="Institute"===(null===(n=j.state)||void 0===n?void 0:n.urlOffSet)?"/q/".concat(N.username,"/institute/member/admission?type=ongoing-detail&n=confirmed-multi"):"/q/".concat(N.username,"/member/staff/admission?type=ongoing-detail&n=confirmed-multi");Z(e,{state:j.state})},isExportAccess:"Confirm",isFull:"isCompleted"===(null===(v=j.state)||void 0===v?void 0:v.isAuthorization),children:(0,I.jsx)("input",{type:"text",placeholder:g("search_applicants"),onChange:function(n){n.target.value?H(n.target.value):(R((function(){return 1})),k(""))}})}),null===J||void 0===J||null===(p=J.list)||void 0===p?void 0:p.map((function(n,e){var i,t,l;return(null===J||void 0===J||null===(i=J.list)||void 0===i?void 0:i.length)===e+1?(0,I.jsx)("div",{ref:z,children:(0,I.jsx)(Pn,{applicant:n,instituteId:x,onRefetch:W,appId:null===(t=j.state)||void 0===t?void 0:t.appId})},null===n||void 0===n?void 0:n._id):(0,I.jsx)(Pn,{applicant:n,instituteId:x,onRefetch:W,appId:null===(l=j.state)||void 0===l?void 0:l.appId},null===n||void 0===n?void 0:n._id)})),V?C?(0,I.jsx)(y.Z,{}):(0,I.jsx)(M.Z,{}):C?0===(null===J||void 0===J||null===(_=J.list)||void 0===_?void 0:_.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants fuond related this search."}):0===(null===J||void 0===J||null===(h=J.list)||void 0===h?void 0:h.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]})})},Dn=i(26192),Mn=function(n){var e=n.batch,i=n.onSelect,t=n.selectedBatch;return(0,I.jsxs)("div",{className:t===(null===e||void 0===e?void 0:e._id)?"".concat(Dn.Z.admission_confirm_class_card," ").concat(Dn.Z.admission_confirm_class_card_active):Dn.Z.admission_confirm_class_card,onClick:function(){i(e)},children:[(0,I.jsx)("img",{src:"".concat(v.J7,"/class.svg"),alt:"batch Avatar"}),(0,I.jsx)("div",{className:Dn.Z.admission_collect_docs,style:{marginTop:"0"},children:(0,I.jsx)("h6",{children:null===e||void 0===e?void 0:e.batchName})})]})},On=function(n){var e=n.onClose,i=n.appId,l=n.onSelect,o=n.selectedBatch,c=(0,s.$G)().t,u=(0,a.useState)(""),r=(0,t.Z)(u,2),p=r[0],h=r[1],f=(0,a.useState)([]),g=(0,t.Z)(f,2),j=g[0],Z=g[1],N=(0,d.Hk)({appId:i,skip:!i}),b=N.admissionOngoingApplicationReviewBatch,S=N.admissionOngoingApplicationReviewBatchLoading;(0,a.useEffect)((function(){(null===b||void 0===b?void 0:b.length)>0&&Z(b)}),[b]);return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(x.Z,{onClose:e,children:(0,I.jsxs)("div",{className:$.Z.modal_container,children:[(0,I.jsx)(m.Z,{children:(0,I.jsxs)("div",{className:$.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:$.Z.modal_container_header,children:(0,I.jsx)("h6",{children:c("select_batch")})}),(0,I.jsx)("img",{src:"".concat(v.J7,"/close.svg"),alt:"close icon",onClick:e})]})}),(0,I.jsx)(_.Z,{}),(0,I.jsxs)(m.Z,{customStyle:{paddingTop:"0.3rem"},children:[(0,I.jsxs)("div",{className:$.Z.assign_search_container,children:[(0,I.jsx)("input",{type:"text",placeholder:c("search"),className:$.Z.assign_search_input,onChange:function(n){if(n.target.value){h(n.target.value);var e=Tn(b,n.target.value);Z(e)}else h(""),Z(b)},style:{width:"100%"}}),(0,I.jsx)("img",{src:"".concat(v.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===j||void 0===j?void 0:j.map((function(n){return(0,I.jsx)(Mn,{batch:n,onSelect:l,selectedBatch:o})})),S?p?(0,I.jsx)(y.Z,{}):(0,I.jsx)(M.Z,{}):p?0===!(null!==j&&void 0!==j&&j.length)&&(0,I.jsx)(D.Z,{title:"No batch fuond related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===!(null!==b&&void 0!==b&&b.length)&&(0,I.jsx)(D.Z,{title:"No batch.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})})},Tn=function(n,e){return null===n||void 0===n?void 0:n.filter((function(n){var i,t;return null!==n&&void 0!==n&&null!==(i=n.batchName)&&void 0!==i&&null!==(t=i.toLowerCase())&&void 0!==t&&t.includes(null===e||void 0===e?void 0:e.toLowerCase())?n:null}))},Rn=i(77357),Fn=function(n){var e,i,l,o,p=n.onClose,h=n.appId,f=n.bid,g=n.onSelect,j=n.selectedId,Z=(0,s.$G)().t,N=(0,a.useState)(""),b=(0,t.Z)(N,2),S=b[0],C=b[1],A=(0,a.useState)(1),k=(0,t.Z)(A,2),P=k[0],w=k[1],O=(0,a.useState)(!0),T=(0,t.Z)(O,2),R=T[0],F=T[1],E=(0,c.YD)({skip:S}),q=(0,t.Z)(E,2),L=q[0],U=q[1],G=(0,d.AY)({data:{page:P,limit:10,search:S,appId:h,bid:f},skip:h?!f:!h}),z=G.admissionOngoingApplicationReviewClasses,Y=G.admissionOngoingApplicationReviewClassesLoading;(0,a.useEffect)((function(){U&&R&&w((function(n){return n+1}))}),[U,R]),(0,a.useEffect)((function(){var n;if(null!==z&&void 0!==z&&null!==(n=z.list)&&void 0!==n&&n.length){var e,i=(0,u.f)(null===z||void 0===z||null===(e=z.list)||void 0===e?void 0:e.length);F((function(){return i}))}}),[null===z||void 0===z||null===(e=z.list)||void 0===e?void 0:e.length]);var B=(0,a.useCallback)((0,r.J)((function(n){w((function(){return 1})),C(n)}),1500),[]);return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(x.Z,{onClose:p,children:(0,I.jsxs)("div",{className:$.Z.modal_container,children:[(0,I.jsx)(m.Z,{children:(0,I.jsxs)("div",{className:$.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:$.Z.modal_container_header,children:(0,I.jsx)("h6",{children:Z("allot_class")})}),(0,I.jsx)("img",{src:"".concat(v.J7,"/close.svg"),alt:"close icon",onClick:p})]})}),(0,I.jsx)(_.Z,{}),(0,I.jsxs)(m.Z,{customStyle:{paddingTop:"0.3rem"},children:[(0,I.jsxs)("div",{className:$.Z.assign_search_container,children:[(0,I.jsx)("input",{type:"text",placeholder:Z("search"),className:$.Z.assign_search_input,onChange:function(n){n.target.value?B(n.target.value):(w((function(){return 1})),C(""))},style:{width:"100%"}}),(0,I.jsx)("img",{src:"".concat(v.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===z||void 0===z||null===(i=z.list)||void 0===i?void 0:i.map((function(n,e){var i;return(null===z||void 0===z||null===(i=z.list)||void 0===i?void 0:i.length)===e+1?(0,I.jsx)("div",{ref:L,children:(0,I.jsx)(Rn.Z,{cls:n,selectedCls:j,onSelect:g})},null===n||void 0===n?void 0:n._id):(0,I.jsx)(Rn.Z,{cls:n,selectedCls:j,onSelect:g},null===n||void 0===n?void 0:n._id)})),Y?S?(0,I.jsx)(y.Z,{}):(0,I.jsx)(M.Z,{}):S?0===(null===z||void 0===z||null===(l=z.list)||void 0===l?void 0:l.length)&&(0,I.jsx)(D.Z,{title:"No classes fuond related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===z||void 0===z||null===(o=z.list)||void 0===o?void 0:o.length)&&(0,I.jsx)(D.Z,{title:"No classes.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})})},En=function(n){var e,i,l,o,c,u,r,p,h=n.appId,f=n.onClose,g=n.onParentClose,j=n.state,N=n.applicant,S=n.onRefetch,C=n.isMultiple,A=(0,s.$G)().t,k=(0,a.useState)(!1),P=(0,t.Z)(k,2),w=P[0],D=P[1],M=(0,d.Rq)(),O=(0,t.Z)(M,1)[0];return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(x.Z,{onClose:f,children:(0,I.jsxs)("div",{className:$.Z.modal_container,children:[(0,I.jsx)(m.Z,{children:(0,I.jsxs)("div",{className:$.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:$.Z.modal_container_header,children:(0,I.jsx)("h6",{children:A("allot_to_class")})}),(0,I.jsx)("img",{src:"".concat(v.J7,"/close.svg"),alt:"close icon",onClick:f})]})}),(0,I.jsx)(_.Z,{}),(0,I.jsxs)(m.Z,{customStyle:{paddingTop:"0.3rem"},children:[(0,I.jsxs)("div",{className:Z.admission_class_confirm,children:[C?(0,I.jsxs)(I.Fragment,{children:[A("alloting")," ",(0,I.jsx)("span",{style:{fontWeight:"600"},children:null===N||void 0===N?void 0:N.length})," ",A("students")," "," "]}):(0,I.jsxs)(I.Fragment,{children:[A("lloting_student")," ",(0,I.jsx)("span",{style:{fontWeight:"600"},children:" ".concat(null!==(e=null===N||void 0===N||null===(i=N.student)||void 0===i?void 0:i.studentFirstName)&&void 0!==e?e:""," ").concat(null!==N&&void 0!==N&&null!==(l=N.student)&&void 0!==l&&l.studentMiddleName?null===N||void 0===N||null===(o=N.student)||void 0===o?void 0:o.studentMiddleName:""," ").concat(null!==(c=null===N||void 0===N||null===(u=N.student)||void 0===u?void 0:u.studentLastName)&&void 0!==c?c:""," ")})]}),",",A("to")," ",(0,I.jsx)("span",{style:{fontWeight:"600"},children:" ".concat(null===j||void 0===j||null===(r=j.cls)||void 0===r?void 0:r.className," - ").concat(null===j||void 0===j||null===(p=j.cls)||void 0===p?void 0:p.classTitle)})]}),(0,I.jsx)(b.Z,{label:"confirm",onAction:function(){var n,e,i;h&&null!==j&&void 0!==j&&null!==(n=j.cls)&&void 0!==n&&n._id&&N&&(D((function(n){return!n})),O({applicant:{dataList:C?N:[null===N||void 0===N||null===(e=N.student)||void 0===e?void 0:e._id]},appId:h,cid:null===j||void 0===j||null===(i=j.cls)||void 0===i?void 0:i._id}).then((function(){S(),g(),D((function(n){return!n}))})).catch({}))}})]})]})}),w&&(0,I.jsx)(y.Z,{})]})},qn=function(n){var e,i,l=n.appId,o=n.applicant,d=n.onClose,s=n.onRefetch,c=n.isMultiple,u=(0,a.useState)(1),r=(0,t.Z)(u,2),v=r[0],p=r[1],m=(0,a.useState)({batch:"",cls:""}),_=(0,t.Z)(m,2),h=_[0],f=_[1];return 1===v?(0,I.jsx)(On,{appId:l,selectedBatch:null===h||void 0===h||null===(e=h.batch)||void 0===e?void 0:e._id,onClose:d,onSelect:function(n){p(2),f((function(e){return(0,G.Z)((0,G.Z)({},e),{},{batch:n})}))}}):2===v?(0,I.jsx)(Fn,{appId:l,bid:null===(i=h.batch)||void 0===i?void 0:i._id,selectedId:null===h||void 0===h?void 0:h.cls,onClose:function(){return p(1)},onSelect:function(n){p(3),f((function(e){return(0,G.Z)((0,G.Z)({},e),{},{cls:n})}))}}):3===v?(0,I.jsx)(En,{appId:l,state:h,onClose:function(){return p(2)},applicant:o,onRefetch:s,isMultiple:c,onParentClose:d}):null},Ln=function(n){var e,i,t,l,o,d,a,s=n.applicant,c=n.onSelect,u=n.applicantId;return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)("div",{className:Z.oac_container,onClick:function(){return c(null===s||void 0===s?void 0:s._id)},style:{justifyContent:"flex-start"},children:[(0,I.jsx)("img",{className:Z.department_checkbox,src:null!==u&&void 0!==u&&u.includes(null===s||void 0===s?void 0:s._id)?"".concat(v.U_,"/check.svg"):"".concat(v.U_,"/uncheck.svg"),alt:"check icon"}),(0,I.jsxs)("div",{className:Z.oac_container_inner,children:[(0,I.jsx)("img",{alt:"Student Request Avatar",src:null!==s&&void 0!==s&&s.studentProfilePhoto?"".concat(O.yI,"/").concat(null===s||void 0===s?void 0:s.studentProfilePhoto):"".concat(v.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,I.jsx)("div",{className:Z.oac_container_inner_info,children:(0,I.jsx)("h6",{children:"".concat(null!==(e=null===s||void 0===s?void 0:s.studentFirstName)&&void 0!==e?e:""," ").concat(null!==s&&void 0!==s&&s.studentMiddleName?null===s||void 0===s?void 0:s.studentMiddleName:""," ").concat(null!==(i=null===s||void 0===s?void 0:s.studentLastName)&&void 0!==i?i:"")})})]}),(0,I.jsxs)("div",{className:Z.oac_container_contact,children:[(0,I.jsxs)("div",{className:Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(v.U_,"/gender.svg"),alt:"email icon"}),(0,I.jsx)("p",{children:null===s||void 0===s?void 0:s.studentGender})]}),(0,I.jsxs)("div",{className:Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(v.U_,"/phone.svg"),alt:"phone icon"}),(0,I.jsx)("p",{children:null!==s&&void 0!==s&&null!==(t=s.user)&&void 0!==t&&t.userPhoneNumber?null===s||void 0===s||null===(l=s.user)||void 0===l?void 0:l.userPhoneNumber:null!==s&&void 0!==s&&null!==(o=s.user)&&void 0!==o&&o.userEmail?null===s||void 0===s||null===(d=s.user)||void 0===d?void 0:d.userEmail:null!==s&&void 0!==s&&s.studentPhoneNumber?null===s||void 0===s?void 0:s.studentPhoneNumber:null!==s&&void 0!==s&&s.studentParentsPhoneNumber?null===s||void 0===s?void 0:s.studentParentsPhoneNumber:null!==(a=null===s||void 0===s?void 0:s.studentEmail)&&void 0!==a?a:""})]})]})]})})},Un=function(n){var e,i,l,c,u,r=n.applicationDetail,_=n.instituteId,h=n.aid,f=(0,s.$G)().t,x=(0,o.TH)(),g=(0,o.s0)(),j=(0,a.useState)(""),Z=(0,t.Z)(j,2),N=Z[0],b=Z[1],S=(0,a.useState)([]),C=(0,t.Z)(S,2),k=C[0],P=C[1],O=(0,a.useState)(""),T=(0,t.Z)(O,2),R=T[0],E=T[1],q=(0,a.useState)([]),U=(0,t.Z)(q,2),G=U[0],z=U[1],Y=(0,a.useState)(!1),B=(0,t.Z)(Y,2),J=B[0],$=B[1],H=(0,d.HU)({data:{appId:null===(e=x.state)||void 0===e?void 0:e.appId},skip:!(null!==(i=x.state)&&void 0!==i&&i.appId)}),W=H.admissionOngoingApplicationAllReviewList,K=H.admissionOngoingApplicationAllReviewListLoading,Q=H.admissionOngoingApplicationAllReviewListRefetch;(0,a.useEffect)((function(){null!==W&&void 0!==W&&W.length&&z(W)}),[null===W||void 0===W?void 0:W.length]);var X=function(n){null!==k&&void 0!==k&&k.includes(n)?P((function(e){return null===e||void 0===e?void 0:e.filter((function(e){return e!==n}))})):P((function(e){return[].concat((0,V.Z)(e),[n])}))};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(w.Z,{children:[(0,I.jsx)(A,{applicationDetail:r,instituteId:_,isExportAccess:"Confirm_Query",isTransferAccess:"Review",aid:h}),(0,I.jsxs)(m.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,I.jsxs)(F.Z,{customStyle:{justifyContent:"space-between",marginBottom:"0.7rem"},children:[(0,I.jsx)("section",{className:p.Z.fm_search_container,children:(0,I.jsxs)("div",{className:p.Z.fm_search_container_inner,style:{minWidth:"500px"},children:[(0,I.jsx)("img",{className:p.Z.fm_search_icon,alt:"search icon",src:"".concat(v.dB,"/navbar-search.svg")}),(0,I.jsx)("input",{type:"text",placeholder:f("search_applicants"),onChange:function(n){if(n.target.value){var e=zn(W,n.target.value);z(e)}else b(""),z(W)},style:{minWidth:"500px"}})]})}),(0,I.jsxs)("div",{className:p.Z.fm_flex,children:[!Gn[null===(l=x.state)||void 0===l?void 0:l.isAuthorization]&&(0,I.jsx)(L,{label:J?"remove_all":"select_all",count:null===k||void 0===k?void 0:k.length,onAction:J?function(){P([]),$(!1)}:function(){var n,e=[],i=(0,hn.Z)(W);try{for(i.s();!(n=i.n()).done;){var t=n.value;e.push(null===t||void 0===t?void 0:t._id)}}catch(l){i.e(l)}finally{i.f()}$(!1),$(!0)},customStyle:{padding:"0.5rem 1rem",fontSize:"13px"}}),!Gn[null===(c=x.state)||void 0===c?void 0:c.isAuthorization]&&(0,I.jsx)(L,{label:"allot_class",onAction:function(){(null===k||void 0===k?void 0:k.length)>0&&E(1)},customStyle:{padding:"0.5rem 1rem",fontSize:"13px",opacity:(null===k||void 0===k?void 0:k.length)>0?"1":"0.5"}}),(0,I.jsx)("img",{src:"".concat(v.J7,"/close.svg"),alt:"close icon",onClick:function(){g(-1)}})]})]}),null===G||void 0===G?void 0:G.map((function(n){return(0,I.jsx)(Ln,{applicant:n,applicantId:k,onSelect:X},null===n||void 0===n?void 0:n._id)})),K?N?(0,I.jsx)(y.Z,{}):(0,I.jsx)(M.Z,{}):N?0===(null===G||void 0===G?void 0:G.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants fuond related this search."}):0===(null===G||void 0===G?void 0:G.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]}),1===R?(0,I.jsx)(qn,{appId:null===(u=x.state)||void 0===u?void 0:u.appId,applicant:k,onClose:function(){E("")},onRefetch:function(){$(!1),$([]),P([]),Q()},isMultiple:!0}):null]})},Gn={isCompleted:!0},zn=function(n,e){return null===n||void 0===n?void 0:n.filter((function(n){var i,t,l,o,d="".concat(null===n||void 0===n||null===(i=n.student)||void 0===i?void 0:i.studentFirstName," ").concat(null===n||void 0===n||null===(t=n.student)||void 0===t?void 0:t.studentMiddleName," ").concat(null===n||void 0===n||null===(l=n.student)||void 0===l?void 0:l.studentLastName);return null!==d&&void 0!==d&&null!==(o=d.toLowerCase())&&void 0!==o&&o.includes(null===e||void 0===e?void 0:e.toLowerCase())?n:null}))},Yn=function(n){var e,i=n.onClose,l=n.applicant,o=n.appId,c=n.onRefetch,u=(0,s.$G)().t,r=(0,a.useState)(!1),p=(0,t.Z)(r,2),h=p[0],f=p[1],j=(0,a.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),Z=(0,t.Z)(j,2),N=Z[0],S=Z[1],C=(0,a.useState)(""),A=(0,t.Z)(C,2),k=A[0],P=A[1],w=(0,a.useState)(0),D=(0,t.Z)(w,2),M=D[0],O=D[1],T=(0,d.D5)(),R=(0,t.Z)(T,1)[0];(0,a.useEffect)((function(){var n,e;if((null===l||void 0===l||null===(n=l.student)||void 0===n||null===(e=n.paidFeeList)||void 0===e?void 0:e.length)>0){var i,t,d,a,s=null===l||void 0===l||null===(i=l.student)||void 0===i||null===(t=i.paidFeeList)||void 0===t?void 0:t.filter((function(n){return(null===n||void 0===n?void 0:n.appId)===o}));O(null!==(d=null===s||void 0===s||null===(a=s[0])||void 0===a?void 0:a.paidAmount)&&void 0!==d?d:0)}}),[null===l||void 0===l||null===(e=l.student)||void 0===e?void 0:e.paidFeeList]);var F=function(n){S((function(e){return(0,G.Z)((0,G.Z)({},e),{},(0,U.Z)({},n.target.name,n.target.value))}))};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(x.Z,{onClose:i,children:(0,I.jsxs)("div",{className:g.Z.modal_container,children:[(0,I.jsx)(m.Z,{children:(0,I.jsxs)("div",{className:g.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:g.Z.modal_container_header,children:(0,I.jsx)("h6",{children:u("cancel_addmission")})}),(0,I.jsx)("img",{src:"".concat(v.J7,"/close.svg"),alt:"close icon",onClick:i})]})}),(0,I.jsx)(_.Z,{}),(0,I.jsxs)(m.Z,{customStyle:{paddingTop:"0"},children:[(0,I.jsxs)("div",{className:g.Z.admission_fees_row,children:[(0,I.jsxs)("h6",{children:[u("fees_paid")," :"]}),(0,I.jsxs)("h6",{children:[u("rs_only")," ",M]})]}),(0,I.jsx)(Y.Z,{label:"".concat(u("refund_amount")),placeholder:u("please_enter_refund_amount"),name:"amount",value:N.amount,type:"tel",onChange:function(n){S((function(e){return(0,G.Z)((0,G.Z)({},e),{},{amount:+n.target.value,fee_payment_amount:+n.target.value})}))},errorShow:k.amount}),(0,I.jsx)(gn.Z,{paymentHeading:u("refund_payment_type_mode"),selectLabel:u("mode_placeholder"),onClick:function(n){S((function(e){return(0,G.Z)((0,G.Z)({},e),{},{mode:"By Cash"===n?"Offline":"Online",fee_payment_mode:n})}))},errorShow:k.fee_payment_mode,defalutValue:N.fee_payment_mode,selectedValue:u("please_select_payment_mode"),isAuthority:"admissionCollectMode"}),(0,I.jsx)(fn.Z,{label:u("select_date_of_transaction"),placeholder:u("please_select_date"),name:"transaction_date",value:N.transaction_date,onChange:function(n){S((function(e){return(0,G.Z)((0,G.Z)({},e),{},{transaction_date:(0,xn.jh)(n)})}))},errorShow:k.transaction_date}),"Cash"===N.fee_payment_mode?null:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:g.Z.admission_fees_row,style:{margin:0},children:(0,I.jsx)("h6",{style:{margin:0,marginTop:"1rem"},children:u("paid_to")})}),(0,I.jsx)(Y.Z,{label:u("bank_name_collect"),placeholder:u("please_enter_bank_name"),name:"fee_bank_name",value:N.fee_bank_name,type:"text",onChange:F}),(0,I.jsx)(Y.Z,{label:u("banke_holder_name"),placeholder:u("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:N.fee_bank_holder,type:"text",onChange:F}),(0,I.jsx)(Y.Z,{label:u("cheque_dd_neft"),placeholder:u("please_enter_utr_ref_number"),name:"fee_utr_reference",value:N.fee_utr_reference,type:"text",onChange:F})]}),(0,I.jsx)(b.Z,{label:"confirm",onAction:function(){var n,e,t,d,a,s,u,r,v,p,m,_,h,x,g,j=(0,z.l)(N,["mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference"]);(0,z.x)(j)?null!==l&&void 0!==l&&null!==(n=l.student)&&void 0!==n&&n._id&&o&&null!==l&&void 0!==l&&null!==(e=l.student)&&void 0!==e&&null!==(t=e.fee_structure)&&void 0!==t&&t._id&&(f((function(n){return!n})),R({sid:null===l||void 0===l||null===(d=l.student)||void 0===d?void 0:d._id,appId:o,payment:{struct:null===l||void 0===l||null===(a=l.student)||void 0===a||null===(s=a.fee_structure)||void 0===s?void 0:s._id,amount:null!==(u=null===N||void 0===N?void 0:N.amount)&&void 0!==u?u:"",mode:null!==(r=null===N||void 0===N?void 0:N.mode)&&void 0!==r?r:"",fee_payment_mode:null!==(v=null===N||void 0===N?void 0:N.fee_payment_mode)&&void 0!==v?v:"",fee_payment_amount:null!==(p=null===N||void 0===N?void 0:N.fee_payment_amount)&&void 0!==p?p:"",transaction_date:null!==(m=(0,xn._1)(N.transaction_date))&&void 0!==m?m:"",fee_bank_name:null!==(_=null===N||void 0===N?void 0:N.fee_bank_name)&&void 0!==_?_:"",fee_bank_holder:null!==(h=null===N||void 0===N?void 0:N.fee_bank_holder)&&void 0!==h?h:"",fee_utr_reference:null!==(x=null===N||void 0===N?void 0:N.fee_utr_reference)&&void 0!==x?x:"",remainAmount:null!==(g=null===l||void 0===l?void 0:l.fee_remain)&&void 0!==g?g:0}}).then((function(){c(),f((function(n){return!n})),i()})).catch({})):P(j)}})]})]})}),h&&(0,I.jsx)(y.Z,{})]})},Bn=function(n){var e,i,l,d,c,u,r,p,m,_,h,f,x,g,j,N,y,b,S,C,A,k,P,w,D,M,T,R,E,q,U=n.instituteId,G=n.applicant,z=n.appId,Y=n.onRefetch,B=n.isMultiple,J=n.onSelect,V=n.applicantId,$=(0,s.$G)().t,H=(0,o.UO)(),W=(0,o.s0)(),K=(0,a.useState)(""),Q=(0,t.Z)(K,2),X=Q[0],nn=Q[1],en=(0,a.useCallback)((function(){var n;W("/q/".concat(H.username,"/student/profile"),{state:{sid:null===G||void 0===G||null===(n=G.student)||void 0===n?void 0:n._id,viewAs:"ADMISSION_ADMIN",instituteId:U,collectAccess:"ADMISSION_ADMIN"}})}),[U,null===G||void 0===G||null===(e=G.student)||void 0===e?void 0:e._id]),tn=function(){nn("")};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:Z.oac_container,onClick:en,title:"View Profile",children:[B?(0,I.jsx)("img",{className:Z.department_checkbox,src:null!==V&&void 0!==V&&V.includes(null===G||void 0===G||null===(i=G.student)||void 0===i?void 0:i._id)?"".concat(v.U_,"/check.svg"):"".concat(v.U_,"/uncheck.svg"),alt:"check icon",onClick:function(n){var e;return J(n,null===G||void 0===G||null===(e=G.student)||void 0===e?void 0:e._id)}}):null,(0,I.jsxs)("div",{className:Z.oac_container_inner,children:[(0,I.jsx)("img",{alt:"Student Request Avatar",src:null!==G&&void 0!==G&&null!==(l=G.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(O.yI,"/").concat(null===G||void 0===G||null===(d=G.student)||void 0===d?void 0:d.studentProfilePhoto):"".concat(v.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,I.jsxs)("div",{className:Z.oac_container_inner_info,children:[(0,I.jsx)("h6",{children:"".concat(null!==(c=null===G||void 0===G||null===(u=G.student)||void 0===u?void 0:u.studentFirstName)&&void 0!==c?c:""," ").concat(null!==G&&void 0!==G&&null!==(r=G.student)&&void 0!==r&&r.studentMiddleName?null===G||void 0===G||null===(p=G.student)||void 0===p?void 0:p.studentMiddleName:""," ").concat(null!==(m=null===G||void 0===G||null===(_=G.student)||void 0===_?void 0:_.studentLastName)&&void 0!==m?m:"")}),(0,I.jsx)("p",{onClick:function(n){n.stopPropagation(),nn(2)},style:{color:"#436dfa"},children:$("cancel_admision")})]})]}),(0,I.jsxs)("div",{className:Z.oac_container_contact,children:[(0,I.jsxs)("div",{className:Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(v.U_,"/gender.svg"),alt:"email icon"}),(0,I.jsx)("p",{children:null===G||void 0===G||null===(h=G.student)||void 0===h?void 0:h.studentGender})]}),(0,I.jsxs)("div",{className:Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(v.U_,"/phone.svg"),alt:"phone icon"}),(0,I.jsx)("p",{children:null!==G&&void 0!==G&&null!==(f=G.student)&&void 0!==f&&null!==(x=f.user)&&void 0!==x&&x.userPhoneNumber?null===G||void 0===G||null===(g=G.student)||void 0===g||null===(j=g.user)||void 0===j?void 0:j.userPhoneNumber:null!==G&&void 0!==G&&null!==(N=G.student)&&void 0!==N&&null!==(y=N.user)&&void 0!==y&&y.userEmail?null===G||void 0===G||null===(b=G.student)||void 0===b||null===(S=b.user)||void 0===S?void 0:S.userEmail:null!==G&&void 0!==G&&null!==(C=G.student)&&void 0!==C&&C.studentPhoneNumber?null===G||void 0===G||null===(A=G.student)||void 0===A?void 0:A.studentPhoneNumber:null!==G&&void 0!==G&&null!==(k=G.student)&&void 0!==k&&k.studentParentsPhoneNumber?null===G||void 0===G||null===(P=G.student)||void 0===P?void 0:P.studentParentsPhoneNumber:null!==(w=null===G||void 0===G||null===(D=G.student)||void 0===D?void 0:D.studentEmail)&&void 0!==w?w:""})]})]}),(0,I.jsxs)("div",{className:Z.oac_container_stuff,style:{width:"25%"},children:[(0,I.jsx)("a",{href:"".concat(O.q2,"/").concat(null===G||void 0===G||null===(M=G.student)||void 0===M||null===(T=M.application_print)||void 0===T||null===(R=T[0])||void 0===R?void 0:R.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:function(n){n.stopPropagation()},children:(0,I.jsx)("img",{src:"".concat(v.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),null===G||void 0===G||null===(E=G.student)||void 0===E||null===(q=E.fee_receipt)||void 0===q?void 0:q.map((function(n,e){return e>2?"":(0,I.jsx)(sn,{rid:n},n)})),B?null:(0,I.jsx)(F.Z,{children:(0,I.jsx)(L,{label:"allot_class",onAction:function(n){n.stopPropagation(),nn(1)},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}})})]})]}),2===X?(0,I.jsx)(Yn,{appId:z,applicant:G,onClose:tn,onRefetch:Y}):1===X?(0,I.jsx)(qn,{appId:z,applicant:G,onClose:tn,onRefetch:Y}):null]})},Jn=i(89064),Vn=function(n){var e=n.onClose,i=n.appId,l=n.onRefetch,o=(0,s.$G)().t,c=(0,a.useState)(!1),u=(0,t.Z)(c,2),r=u[0],v=u[1],p=(0,d.LT)(),m=(0,t.Z)(p,1)[0],_=function(n){i&&(v((function(n){return!n})),m({appId:i,sort_query:n}).then((function(){l(),v((function(n){return!n})),e()})).catch({}))};return(0,I.jsxs)(Jn.Z,{onClose:e,disabled:r,customStyle:{width:"15rem"},children:[(0,I.jsx)("h6",{onClick:function(){return _("Alpha")},children:o("alphabetical")}),(0,I.jsx)("h6",{onClick:function(){return _("Gender")},children:o("gender")}),(0,I.jsx)("h6",{onClick:function(){return _("Gender_Alpha")},children:o("both")})]})},$n=function(n){var e,i,l,v,p,_,h=n.applicationDetail,f=n.instituteId,x=n.aid,g=(0,s.$G)().t,j=(0,o.TH)(),Z=(0,o.s0)(),N=(0,o.UO)(),b=(0,a.useState)(""),S=(0,t.Z)(b,2),C=S[0],k=S[1],P=(0,a.useState)(1),O=(0,t.Z)(P,2),T=O[0],R=O[1],F=(0,a.useState)(!0),E=(0,t.Z)(F,2),q=E[0],L=E[1],U=(0,c.YD)({skip:C}),G=(0,t.Z)(U,2),z=G[0],Y=G[1],B=(0,a.useState)(!1),J=(0,t.Z)(B,2),V=J[0],$=J[1],H=(0,d._v)({data:{appId:null===(e=j.state)||void 0===e?void 0:e.appId,page:T,limit:10,search:C},skip:!(null!==(i=j.state)&&void 0!==i&&i.appId)}),W=H.admissionOngoingApplicationReview,K=H.admissionOngoingApplicationReviewLoading,Q=H.admissionOngoingApplicationReviewRefetch;(0,a.useEffect)((function(){Y&&q&&R((function(n){return n+1}))}),[Y,q]),(0,a.useEffect)((function(){var n;if(null!==W&&void 0!==W&&null!==(n=W.list)&&void 0!==n&&n.length){var e,i=(0,u.f)(null===W||void 0===W||null===(e=W.list)||void 0===e?void 0:e.length);L((function(){return i}))}}),[null===W||void 0===W||null===(l=W.list)||void 0===l?void 0:l.length]);var nn=(0,a.useCallback)((0,r.J)((function(n){R((function(){return 1})),k(n)}),1500),[]),en=(0,a.useCallback)((function(){R((function(){return 1})),Q()}),[Q]),tn=(0,a.useCallback)((function(){$((function(n){return!n}))}),[]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(w.Z,{children:[(0,I.jsx)(A,{applicationDetail:h,instituteId:f,isExportAccess:"Confirm_Query",isTransferAccess:"Review",aid:x}),(0,I.jsxs)(m.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,I.jsx)(X,{applicationDetail:h,instituteId:f,isExportAccess:"Confirm_Query",isTransferAccess:"Review",aid:x,onMultipleSelect:function(){var n,e="Institute"===(null===(n=j.state)||void 0===n?void 0:n.urlOffSet)?"/q/".concat(N.username,"/institute/member/admission?type=ongoing-detail&n=review-multi"):"/q/".concat(N.username,"/member/staff/admission?type=ongoing-detail&n=review-multi");Z(e,{state:j.state})},onResuffleToggle:tn,children:(0,I.jsx)("input",{type:"text",placeholder:g("search_applicants"),onChange:function(n){n.target.value?nn(n.target.value):(R((function(){return 1})),k(""))}})}),null===W||void 0===W||null===(v=W.list)||void 0===v?void 0:v.map((function(n,e){var i,t,l;return(null===W||void 0===W||null===(i=W.list)||void 0===i?void 0:i.length)===e+1?(0,I.jsx)("div",{ref:z,children:(0,I.jsx)(Bn,{applicant:{student:n},instituteId:f,onRefetch:en,appId:null===(t=j.state)||void 0===t?void 0:t.appId})},null===n||void 0===n?void 0:n._id):(0,I.jsx)(Bn,{applicant:{student:n},instituteId:f,onRefetch:en,appId:null===(l=j.state)||void 0===l?void 0:l.appId},null===n||void 0===n?void 0:n._id)})),K?C?(0,I.jsx)(y.Z,{}):(0,I.jsx)(M.Z,{}):C?0===(null===W||void 0===W||null===(p=W.list)||void 0===p?void 0:p.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants fuond related this search."}):0===(null===W||void 0===W||null===(_=W.list)||void 0===_?void 0:_.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]}),V&&(0,I.jsx)(Vn,{onClose:tn,appId:null===h||void 0===h?void 0:h._id,onRefetch:en})]})},Hn=function(n){var e,i,a=n.instituteId,s=n.aid,c=(0,l.lr)(),u=(0,t.Z)(c,1)[0],r=(0,o.TH)(),v=(0,d.nK)({appId:null===(e=r.state)||void 0===e?void 0:e.appId,skip:!(null!==(i=r.state)&&void 0!==i&&i.appId)}).admissionOneOngoingApplication;return(0,I.jsx)(I.Fragment,{children:u.get("n")?"document"===u.get("n")?(0,I.jsx)(_n,{applicationDetail:v,instituteId:a}):"fees"===u.get("n")?(0,I.jsx)(In,{applicationDetail:v,instituteId:a}):"confirmed"===u.get("n")?(0,I.jsx)(wn,{applicationDetail:v,instituteId:a}):"confirmed-multi"===u.get("n")?(0,I.jsx)(Cn,{applicationDetail:v,instituteId:a}):"review"===u.get("n")?(0,I.jsx)($n,{applicationDetail:v,instituteId:a,aid:s}):"review-multi"===u.get("n")?(0,I.jsx)(Un,{applicationDetail:v,instituteId:a,aid:s}):"allottment"===u.get("n")?(0,I.jsx)(un,{applicationDetail:v,instituteId:a}):"cancelled"===u.get("n")?(0,I.jsx)(vn,{applicationDetail:v,instituteId:a}):null:(0,I.jsx)(on,{applicationDetail:v,instituteId:a})})}},77357:function(n,e,i){var t=i(39230),l=i(98684),o=i(26192),d=i(80184);e.Z=function(n){var e,i,a=n.onSelect,s=n.cls,c=n.isView,u=n.selectedCls,r=(0,t.$G)().t;return(0,d.jsxs)("div",{className:u===(null===s||void 0===s?void 0:s._id)?"".concat(o.Z.admission_confirm_class_card," ").concat(o.Z.admission_confirm_class_card_active):o.Z.admission_confirm_class_card,onClick:function(){a(s)},children:[(0,d.jsx)("img",{src:"".concat(l.J7,"/class.svg"),alt:"Class Avatar",loading:"lazy"}),(0,d.jsxs)("div",{className:o.Z.admission_collect_docs,children:[(0,d.jsx)("h6",{children:"".concat(null!==(e=null===s||void 0===s?void 0:s.className)&&void 0!==e?e:""," - ").concat(null!==(i=null===s||void 0===s?void 0:s.classTitle)&&void 0!==i?i:"")}),"CLASS_TEACHER"===c?null:(0,d.jsxs)("div",{className:o.Z.admission_confirm_class_count,children:[(0,d.jsxs)("p",{children:[r("boys")," : ",null===s||void 0===s?void 0:s.boyCount]}),(0,d.jsxs)("p",{children:[r("girls")," : ",null===s||void 0===s?void 0:s.girlCount]})]})]})]})}},50518:function(n,e,i){var t=i(19056),l=i(52245),o=i(80184);e.Z=function(n){var e=n.paymentHeading,i=n.selectLabel,a=n.onClick,s=n.selectedValue,c=n.customStyleContainer,u=n.customLabelStyle,r=n.customListStyle,v=n.errorShow,p=n.defalutValue,m=n.isAuthority,_=n.isDenied;return(0,o.jsxs)(o.Fragment,{children:[e&&(0,o.jsx)("h6",{className:l.Z.payment_mode_heading,children:e}),(0,o.jsx)(t.Z,{selectLabel:i,onClick:a,selectedValue:s,options:d[m],customStyleContainer:c,customLabelStyle:u,customListStyle:r,errorShow:v,defalutValue:p,isDenied:_})]})};var d={admissionCollectMode:["Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft"],admissionStudentProfileCollectMode:["Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft","Unrecovered/Exemption"],depositRefundMode:["By Bank","By Cash"]}},85794:function(n,e,i){i.d(e,{Z:function(){return v}});var t=i(1413),l=i(29439),o=i(72791),d=i(54164),a=i(15783),s=i(98684),c=i(80184),u=function(n){var e=n.onClose,i=n.isVariant,t=n.isHide,l=n.children;return d.createPortal((0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:a.Z.notify_backdrop}),(0,c.jsx)("div",{className:t?a.Z.notify_hide_overlay:a.Z.notify_overlay,children:(0,c.jsxs)("div",{className:a.Z.notify_container,style:{"--notify-bg-color":i},children:[l,(0,c.jsx)("img",{src:"".concat(s.J7,"/close.svg"),alt:"close icon",onClick:e,className:a.Z.notify_close})]})})]}),document.getElementById("notify-alert"))},r={success:"green",error:"#ed4a4a",warning:"orange"},v=function(n){var e,i=n.eventState,d=n.eventStateHandler,s=(0,o.useState)(!1),v=(0,l.Z)(s,2),p=v[0],m=v[1];return null!==i&&void 0!==i&&i.open?(0,c.jsx)(u,{onClose:function(){m(!0);var n=setTimeout((function(){d((function(n){return(0,t.Z)((0,t.Z)({},n),{},{open:!1,msg:"",variant:"success"})})),m(!1)}),500);return function(){return clearTimeout(n)}},isVariant:r[null===i||void 0===i?void 0:i.variant],isHide:p,children:(0,c.jsx)("h6",{className:a.Z.notify_message,children:null!==(e=null===i||void 0===i?void 0:i.msg)&&void 0!==e?e:""})}):null}},16313:function(n,e){e.Z={attendence:"Attendence_attendence__I1yeT",attendencehead:"Attendence_attendencehead__exMGX",attendenceBtns:"Attendence_attendenceBtns__NDLVN",changemonth:"Attendence_changemonth__tk0Uc",buttons:"Attendence_buttons__iJ4z9",leaves:"Attendence_leaves__nC9+y",save:"Attendence_save__Q1WxJ",time_slot_btn:"Attendence_time_slot_btn__ckJ9r",calender:"Attendence_calender__wZXxH",arrowbtn:"Attendence_arrowbtn__Gm18t",dates:"Attendence_dates__40mER",date:"Attendence_date__qlh8f",clickedDate:"Attendence_clickedDate__q347p",tabs:"Attendence_tabs__9GYC-",tab:"Attendence_tab__IXFzc",grey:"Attendence_grey__r-jIX",purple:"Attendence_purple__J8wxa",light:"Attendence_light__r4yiQ",tabgreen:"Attendence_tabgreen__uE2sT",red:"Attendence_red__v+w+y",rose:"Attendence_rose__uW+8p",list:"Attendence_list__R99VM",divider:"Attendence_divider__MjzEh",selectMonthList:"Attendence_selectMonthList__ItnM7",month:"Attendence_month__32s-8",time_slot:"Attendence_time_slot__uB3tR",time_slot_inner:"Attendence_time_slot_inner__LMrgE"}}}]);
//# sourceMappingURL=2380.355d93ec.chunk.js.map