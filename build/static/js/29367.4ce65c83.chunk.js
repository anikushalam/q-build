"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[29367],{81622:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(72791),o=n(38733),i=n(39230),_=n(93097),l=n(69721),r=n(1095),d=n(80184);const c=e=>{let{labelText:t,name:n,multiple:c,value:s,onChange:m,onClick:p,errorShow:u,acceptType:h,customStyleContainer:v}=e;const{t:f}=(0,i.$G)(),[x,b]=(0,a.useState)("");return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:o.Z.join_form_container,style:{...v},children:[(0,d.jsxs)("label",{className:o.Z.join_form_label,children:[t,u&&(0,d.jsx)("span",{style:{color:"red",marginLeft:"15px"},children:"* required"})]}),(0,d.jsxs)("div",{className:o.Z.join_form_file_container,children:[(0,d.jsx)("label",{className:s?"".concat(o.Z.join_form_file_choose," ").concat(o.Z.join_form_active_background):o.Z.join_form_file_choose,htmlFor:n,children:f(""!==s?"file_chosen":"chose_file")}),(0,d.jsx)("label",{className:o.Z.join_form_file_choosen,onClick:()=>{if(null!==s&&void 0!==s&&s.originalName)if(null!==s&&void 0!==s&&s.isPdf){let e=null;e=null!==s&&void 0!==s&&s.isCdn?window.open("".concat(r.q2,"/").concat(null===s||void 0===s?void 0:s.key),"_blank","noopener,noreferrer"):window.open("".concat(l.zQ,"/").concat(null===s||void 0===s?void 0:s.key),"_blank","noopener,noreferrer"),e&&(e.opener=null)}else b(null===s||void 0===s?void 0:s.key);else b(s)},style:{color:"#002BBE",cursor:"pointer"},children:""!==s?null!==s&&void 0!==s&&s.originalName?null===s||void 0===s?void 0:s.originalName:"View":f("no_file_chosen")})]}),(0,d.jsx)("input",{type:"file",multiple:!!c,accept:h||"image/*, .doc,.docx, application/pdf,.csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",name:n,id:n,style:{display:"none"},onChange:m})]}),x&&(0,d.jsx)(_.Z,{onClose:()=>{b("")},keyValue:x})]})}},93097:(e,t,n)=>{n.d(t,{Z:()=>l});n(72791);var a=n(12072),o=n(84489),i=n(69721),_=n(80184);const l=e=>{let{onClose:t,keyValue:n}=e;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(o.Z,{onClose:t}),(0,_.jsx)(a.Z,{customStyle:{zIndex:"1200",borderRadius:"0"},children:(0,_.jsx)("img",{src:"".concat(i.yI,"/").concat(n),alt:"view file",style:{maxWidth:"700px",maxHeight:"500px"}})})]})}},29367:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var a=n(72791),o=n(39230),i=n(95048),_=n(74289),l=n(84959),r=n(72952),d=n(81622),c=n(97655),s=n(98734),m=n(92061),p=n(63687),u=n(21348),h=n(56959),v=n(90904),f=n(80184);const x=e=>{let{did:t}=e;const{t:n}=(0,o.$G)(),x=(0,i.v9)((e=>e.authChange.loginRole)),[b,g]=(0,a.useState)(!1),[S,I]=(0,a.useState)({department_vission:"",department_mission:"",department_hod_message:"",department_about:"",department_image:""}),[j,C]=(0,a.useState)([{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}]),{departmentGetSiteInfo:y,departmentGetSiteInfoRefetch:D}=(0,_.I8)({did:t,skip:!t}),[Z]=(0,l.FL)(),[w]=(0,_.l8)();(0,a.useEffect)((()=>{t&&D()}),[t,D]),(0,a.useEffect)((()=>{var e,t,n,a,o,i,_;if(null!==y&&void 0!==y&&y.department_site&&(I({department_vission:null===y||void 0===y||null===(e=y.department_site)||void 0===e?void 0:e.department_vission,department_mission:null===y||void 0===y||null===(t=y.department_site)||void 0===t?void 0:t.department_mission,department_hod_message:null===y||void 0===y||null===(n=y.department_site)||void 0===n?void 0:n.department_hod_message,department_about:null===y||void 0===y||null===(a=y.department_site)||void 0===a?void 0:a.department_about,department_image:null===y||void 0===y||null===(o=y.department_site)||void 0===o?void 0:o.department_image}),null!==y&&void 0!==y&&null!==(i=y.department_site)&&void 0!==i&&null!==(_=i.department_contact)&&void 0!==_&&_.length)){let e=[];for(let t of null===y||void 0===y||null===(l=y.department_site)||void 0===l?void 0:l.department_contact){var l;let n={contact_department_name:null===t||void 0===t?void 0:t.contact_department_name,contact_person_name:null===t||void 0===t?void 0:t.contact_person_name,contact_person_mobile:null===t||void 0===t?void 0:t.contact_person_mobile,contact_person_email:null===t||void 0===t?void 0:t.contact_person_email,contactId:null===t||void 0===t?void 0:t._id};e.push(n)}C(e)}}),[null===y||void 0===y?void 0:y.department_site]);const k=(e,t)=>{const n=[...j];for(let a=0;a<(null===n||void 0===n?void 0:n.length);a++)a===t&&(n[a][e.target.name]=e.target.value);C(n)},N=e=>{I((t=>({...t,[e.target.name]:e.target.value})))};return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(p.Z,{children:(0,f.jsxs)(u.Z,{children:[(0,f.jsx)("div",{className:h.Z.fm_header_container,children:(0,f.jsx)("h6",{children:n("department_about")})}),(0,f.jsx)(v.Z,{customStyleBorder:{marginBottom:"0"}}),(0,f.jsx)("div",{className:m.Z.containercontent,children:(0,f.jsxs)("div",{className:m.Z.container_inner_content,style:{marginTop:"0"},children:[(0,f.jsx)(d.Z,{labelText:n("department_Image"),name:"department_image",value:S.department_image,onChange:e=>{g((e=>!e));const t=new FormData;t.append("file",e.target.files[0]),Z({fileUpload:t}).then((e=>{var t;null!==(t=e.data)&&void 0!==t&&t.imageKey&&I((t=>{var n;return{...t,department_image:null===(n=e.data)||void 0===n?void 0:n.imageKey}})),g((e=>!e))})).catch({})},customStyleContainer:{width:"100%"}}),(0,f.jsx)(r.Z,{labelText:n("vision"),placeholder:n("department_vision_placeholder"),name:"department_vission",value:S.department_vission,type:"text",onChange:N,customStyleContainer:{width:"100%"}}),(0,f.jsx)(r.Z,{labelText:n("mission"),placeholder:n("department_mission_placeholder"),name:"department_mission",value:S.department_mission,type:"text",onChange:N,customStyleContainer:{width:"100%"}}),(0,f.jsx)(r.Z,{labelText:n("about_department"),placeholder:n("about_department_placeholder"),name:"department_about",value:S.department_about,type:"text",onChange:N,customStyleContainer:{width:"100%"}}),(0,f.jsx)(r.Z,{labelText:n("hod_message"),placeholder:n("hod_message_placeholder"),name:"department_hod_message",value:S.department_hod_message,type:"text",onChange:N,customStyleContainer:{width:"100%"}}),(0,f.jsxs)("div",{className:m.Z.add_contact_person,children:[(0,f.jsx)("h6",{children:n("add_contact_persons")}),null===j||void 0===j?void 0:j.map(((e,t)=>(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:m.Z.show_field,children:[(0,f.jsx)(c.Z,{labelText:n("site_department_name"),placeholder:n("site_department_name_placeholder"),name:"contact_department_name",value:null===e||void 0===e?void 0:e.contact_department_name,type:"text",onChange:e=>k(e,t),customStyleContainer:{width:"49.5%"}}),(0,f.jsx)(c.Z,{labelText:n("contact_person_name"),placeholder:n("contact_person_name_placeholder"),name:"contact_person_name",value:null===e||void 0===e?void 0:e.contact_person_name,type:"text",onChange:e=>k(e,t),customStyleContainer:{width:"49.5%"}})]}),(0,f.jsxs)("div",{className:m.Z.show_field,children:[(0,f.jsx)(c.Z,{labelText:n("contact_person_mobile"),placeholder:n("contact_person_mobile_placeholder"),name:"contact_person_mobile",value:null===e||void 0===e?void 0:e.contact_person_mobile,type:"text",onChange:e=>k(e,t),customStyleContainer:{width:"49.5%"}}),(0,f.jsx)(c.Z,{labelText:n("contact_person_email"),placeholder:n("contact_person_email_placeholder"),name:"contact_person_email",value:null===e||void 0===e?void 0:e.contact_person_email,type:"email",onChange:e=>k(e,t),customStyleContainer:{width:"49.5%"}})]})]},t)))]}),(0,f.jsx)("button",{className:m.Z.add_contact_person_btn,title:"Add Contact Person",onClick:()=>{C((e=>[...e,{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}]))},children:n("add_contact_person")}),b&&(0,f.jsx)(s.Z,{}),(0,f.jsx)("button",{className:m.Z.update_btn,onClick:()=>{var e,n;"_usr_ia"===x||(g((e=>!e)),w({did:t,updateSiteInfo:{...S,department_contact:null===j||void 0===j?void 0:j.filter((e=>null!==e&&void 0!==e&&e.contactId?"":e)),edit_department_contact:null===j||void 0===j?void 0:j.filter((e=>null!==e&&void 0!==e&&e.contactId?e:"")),previousKey:(null===y||void 0===y||null===(e=y.department_site)||void 0===e?void 0:e.department_image)===S.department_image?"":null===y||void 0===y||null===(n=y.department_site)||void 0===n?void 0:n.department_image}}).then((()=>{g((e=>!e))})).catch({}))},children:n("update")})]})})]})})})}},92061:(e,t,n)=>{n.d(t,{Z:()=>a});const a={navbar:"DeaprtmentSiteInfo_navbar__EpTgJ",bgContainer:"DeaprtmentSiteInfo_bgContainer__adbaK",container:"DeaprtmentSiteInfo_container__hUEpZ",containercontent:"DeaprtmentSiteInfo_containercontent__KltIz",containerhead:"DeaprtmentSiteInfo_containerhead__tOut9",site_tab_container:"DeaprtmentSiteInfo_site_tab_container__oU9Fs",site_tab_container_h6:"DeaprtmentSiteInfo_site_tab_container_h6__bSVDy",site_tab_container_h6_active:"DeaprtmentSiteInfo_site_tab_container_h6_active__pPU3r",container_inner_content:"DeaprtmentSiteInfo_container_inner_content__zqg3P",show_field:"DeaprtmentSiteInfo_show_field__hawFC",leading_person_container:"DeaprtmentSiteInfo_leading_person_container__1n8GR",leading_person_text:"DeaprtmentSiteInfo_leading_person_text__plr+r",update_btn:"DeaprtmentSiteInfo_update_btn__HU3oA",add_contact_person:"DeaprtmentSiteInfo_add_contact_person__9YxFJ",add_contact_person_btn:"DeaprtmentSiteInfo_add_contact_person_btn__XSinB",labelContainer:"DeaprtmentSiteInfo_labelContainer__emWA2",label:"DeaprtmentSiteInfo_label__taqu4",inputBox:"DeaprtmentSiteInfo_inputBox__c5c0t",add_supporting_member:"DeaprtmentSiteInfo_add_supporting_member__6LeP0",add_supporting_member_heading:"DeaprtmentSiteInfo_add_supporting_member_heading__cX+M4",flexItem50:"DeaprtmentSiteInfo_flexItem50__q8XzE",fileinputflexContainer:"DeaprtmentSiteInfo_fileinputflexContainer__oqZPV",input_label:"DeaprtmentSiteInfo_input_label__boQSC",labelspan:"DeaprtmentSiteInfo_labelspan__W1fRT",formselect:"DeaprtmentSiteInfo_formselect__Xe2wR",input_border_active:"DeaprtmentSiteInfo_input_border_active__FdlcS",genderh:"DeaprtmentSiteInfo_genderh__YFaLZ",genderplaceholder:"DeaprtmentSiteInfo_genderplaceholder__nT9Mi",upIcon:"DeaprtmentSiteInfo_upIcon__D4Uqd",downIcon:"DeaprtmentSiteInfo_downIcon__Y6D6U",site_theme:"DeaprtmentSiteInfo_site_theme__tT4K5",site_theme_header:"DeaprtmentSiteInfo_site_theme_header__rsdte",site_theme_container:"DeaprtmentSiteInfo_site_theme_container__d40It",site_theme_icon:"DeaprtmentSiteInfo_site_theme_icon__ucuzj"}}}]);
//# sourceMappingURL=29367.4ce65c83.chunk.js.map