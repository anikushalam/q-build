"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[1078],{12923:function(e,n,t){t.d(n,{Ec:function(){return Z},Em:function(){return j},JM:function(){return f},NS:function(){return r},Pg:function(){return m},Q_:function(){return S},RH:function(){return h},Tv:function(){return l},U_:function(){return x},VN:function(){return c},Wj:function(){return u},ZS:function(){return v},_8:function(){return N},d5:function(){return d},tB:function(){return p},vI:function(){return g},yx:function(){return s},zO:function(){return _}});var i=t(29439),o=t(91007),a=t(58208),r=function(e){var n=(0,a.YD)(e.search,{skip:e.skip});return{instituteAllSearch:n.data,instituteAllSearchRefetch:n.refetch}},c=function(){var e=(0,a.ak)();return[(0,i.Z)(e,1)[0]]},s=function(){var e=(0,a.WL)();return[(0,i.Z)(e,1)[0]]},l=function(e){var n=(0,a.pH)(e.list,{skip:e.skip});return{instituteFollowList:n.data,instituteFollowListRefetch:n.refetch}},d=function(e){var n=(0,a.MG)(e.data,{skip:e.skip});return{instituteOwnFollowingList:n.data,instituteOwnFollowingListRefetch:n.refetch}},u=function(){var e=(0,a.Ky)();return[(0,i.Z)(e,1)[0]]},v=function(e){var n=(0,a.p8)(e.list);return{userFollowList:n.data,userFollowListRefetch:n.refetch}},h=function(e){var n=(0,a.Wv)(e);return{userFollowingList:n.data,userFollowingListRefetch:n.refetch}},f=function(e){var n=(0,a.sz)(e.search,{skip:e.skip});return{userAllSearch:n.data,userAllSearchRefetch:n.refetch}},m=function(){var e=(0,a.Mk)();return[(0,i.Z)(e,1)[0]]},_=function(){var e=(0,a.$i)();return[(0,i.Z)(e,1)[0]]},p=function(){var e=(0,a.Do)();return[(0,i.Z)(e,1)[0]]},x=function(){var e=(0,a.He)();return[(0,i.Z)(e,1)[0]]},S=function(){var e=(0,a.vg)();return[(0,i.Z)(e,1)[0]]},Z=function(){var e=(0,a.OO)();return[(0,i.Z)(e,1)[0]]},N=function(e){var n=(0,a.N2)(e);return{userCircleList:n.data,userCircleListRefetch:n.refetch}},g=function(e){var n=(0,o.x6)(e.search,{skip:e.skip});return{assignSearchStaff:n.data,assignSearchStaffRefetch:n.refetch}},j=function(e){var n=(0,a.SJ)(e);return{universalUser:n.data,universalUserRefetch:n.refetch}}},49352:function(e,n,t){t(72791);var i=t(69721),o=t(8227),a=t(34156),r=t(80184);n.Z=function(e){var n,t,c,s,l=e.mixin,d=e.onCloseSearch,u=e.username;return(0,r.jsxs)(r.Fragment,{children:[(null===l||void 0===l?void 0:l.insName)&&(0,r.jsx)(o.Z,{institute:l,hideModal:d}),(null===l||void 0===l?void 0:l.staffFirstName)&&(0,r.jsx)(a.Z,{username:u,activeTab:"staff",imageShow:"".concat(i.yI,"/").concat(null===l||void 0===l?void 0:l.staffProfilePhoto),name:"".concat(null===l||void 0===l?void 0:l.staffFirstName," ").concat(null!==l&&void 0!==l&&l.staffMiddleName?null===l||void 0===l?void 0:l.staffMiddleName:""," ").concat(null===l||void 0===l?void 0:l.staffLastName),showBottomInfo:null===l||void 0===l?void 0:l.staffROLLNO,openType:{openId:null===l||void 0===l?void 0:l._id,asOpen:"staff"}}),(null===l||void 0===l?void 0:l.studentFirstName)&&(0,r.jsx)(a.Z,{username:u,activeTab:"student",imageShow:"".concat(i.yI,"/").concat(null===l||void 0===l?void 0:l.studentProfilePhoto),name:"".concat(null===l||void 0===l?void 0:l.studentFirstName," ").concat(null!==l&&void 0!==l&&l.studentMiddleName?null===l||void 0===l?void 0:l.studentMiddleName:""," ").concat(null===l||void 0===l?void 0:l.studentLastName),showBottomInfo:null===l||void 0===l?void 0:l.studentGRNO,openType:{openId:null===l||void 0===l?void 0:l._id,asOpen:"student"}}),(null===l||void 0===l?void 0:l.dName)&&(0,r.jsx)(a.Z,{username:u,activeTab:"department",imageShow:null!==l&&void 0!==l&&l.photo?"".concat(i.yI,"/").concat(null===l||void 0===l?void 0:l.photo):"/images/profileAndCover/department-profile-img.svg",name:null===l||void 0===l?void 0:l.dName,showBottomInfo:"".concat(null===l||void 0===l||null===(n=l.dHead)||void 0===n?void 0:n.staffFirstName," ").concat(null!==l&&void 0!==l&&null!==(t=l.dHead)&&void 0!==t&&t.staffMiddleName?null===l||void 0===l||null===(c=l.dHead)||void 0===c?void 0:c.staffMiddleName:""," ").concat(null===l||void 0===l||null===(s=l.dHead)||void 0===s?void 0:s.staffLastName),openType:{urlName:null===l||void 0===l?void 0:l.dName,openId:null===l||void 0===l?void 0:l._id,asOpen:"department"}})]})}},34156:function(e,n,t){t(72791);var i=t(62926),o=t(43504),a=t(95048),r=t(48673),c=t(80184);n.Z=function(e){var n=e.username,t=e.activeTab,s=e.imageShow,l=e.name,d=e.showBottomInfo,u=e.openType,v=(0,a.I0)(),h=function(){"department"===(null===u||void 0===u?void 0:u.asOpen)&&v(r.S.addDepartmentId({did:null===u||void 0===u?void 0:u.openId}))};return(0,c.jsxs)("div",{className:i.Z.searchResult,children:[(0,c.jsx)(o.rU,{to:"department"===(null===u||void 0===u?void 0:u.asOpen)?"/q/".concat(null===u||void 0===u?void 0:u.urlName,"/viewdept"):"/q/".concat(n,"/").concat(t),state:{openType:u},onClick:h,children:(0,c.jsxs)("div",{className:i.Z.searchResultLeft,children:[(0,c.jsx)("img",{src:s,alt:"avatar icon"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h6",{children:l}),(0,c.jsx)("p",{children:d})]})]})}),(0,c.jsx)(o.rU,{to:"department"===(null===u||void 0===u?void 0:u.asOpen)?"/q/".concat(null===u||void 0===u?void 0:u.urlName,"/viewdept"):"/q/".concat(n,"/").concat(t),state:{openType:u},onClick:h,children:(0,c.jsx)("div",{className:i.Z.connectBtn,children:"View"})})]})}},8227:function(e,n,t){var i=t(29439),o=t(72791),a=t(95048),r=t(12923),c=t(16256),s=t(70092),l=t(48673),d=t(69721),u=t(43504),v=t(9447),h=t(62926),f=t(80184);n.Z=function(e){var n,t,m,_=e.institute,p=e.hideModal,x=(0,a.v9)((function(e){return e.idChange})),S=(0,a.v9)((function(e){return e.postChange.dashboardPosts})),Z=(0,a.I0)(),N=(0,r.VN)(),g=(0,i.Z)(N,1)[0],j=(0,r.yx)(),w=(0,i.Z)(j,1)[0],k=(0,v.hZ)({data:{id:null===x||void 0===x?void 0:x.id,viewAs:c.UJ},skip:!1}),y=k.allDashPost,C=k.allDashPostRefetch,I=(0,r.d5)({page:1,id:null===_||void 0===_?void 0:_._id,limit:100}).instituteOwnFollowingList,R=(0,r.Tv)({list:{page:1,id:null===_||void 0===_?void 0:_._id,limit:100}}),L=R.instituteFollowList,F=R.instituteFollowListRefetch;(0,o.useEffect)((function(){null!==y&&void 0!==y&&y.post&&Z(s.p.followPost({post:null===y||void 0===y?void 0:y.post,profilePost:"dash"}))}),[null===y||void 0===y?void 0:y.post]);return(0,f.jsxs)("div",{className:h.Z.searchResult,children:[(0,f.jsx)(u.rU,{to:"/q/".concat(null===_||void 0===_?void 0:_.name,"/profile"),onClick:function(){Z(l.S.searchId({id:null===_||void 0===_?void 0:_._id,type:"ID"})),p(!1)},children:(0,f.jsxs)("div",{className:h.Z.searchResultLeft,children:[(0,f.jsx)("img",{src:"1"!==(null===_||void 0===_?void 0:_.photoId)?"".concat(d.yI,"/").concat(null===_||void 0===_?void 0:_.insProfilePhoto):"/images/ins_default_profile.svg",alt:""}),(0,f.jsxs)("div",{children:[(0,f.jsx)("h6",{children:null===_||void 0===_?void 0:_.insName}),(0,f.jsx)("p",{children:null===_||void 0===_?void 0:_.name})]})]})}),null!==I&&void 0!==I&&null!==(n=I.following)&&void 0!==n&&n.some((function(e){return e._id===(null===x||void 0===x?void 0:x.id)}))?(0,f.jsx)("div",{className:h.Z.connectBtn,children:"Block"}):null!==_&&void 0!==_&&null!==(t=_.follower)&&void 0!==t&&t.includes(x.id)||null!==L&&void 0!==L&&null!==(m=L.iFollowers)&&void 0!==m&&m.some((function(e){return e._id===x.id}))?(0,f.jsx)("div",{className:h.Z.connectBtn,onClick:function(){var e=function(e){for(var n=[],t=0;t<(null===S||void 0===S?void 0:S.length);t++)S[t].author!==e&&n.push(S[t]);return n}(null===_||void 0===_?void 0:_._id);Z(s.p.unfollowPost({posts:e})),w({followId:null===_||void 0===_?void 0:_._id}).then((function(e){e.data.message&&F()})).catch({})},children:"Unfollow"}):(0,f.jsx)("div",{className:h.Z.connectBtn,onClick:function(){g({followId:null===_||void 0===_?void 0:_._id}).then((function(e){e.data.message&&(F(),C())})).catch({})},children:"Follow"})]})}},91078:function(e,n,t){t.r(n);var i=t(29439),o=t(72791),a=t(43504),r=t(39230),c=t(84489),s=t(3324),l=t(51615),d=t(95048),u=t(763),v=t(62926),h=t(12923),f=t(49352),m=t(80184);n.default=function(e){var n,t=e.onCloseSearch,_=e.username,p=(0,r.$G)().t,x=(0,o.useState)(!0),S=(0,i.Z)(x,2),Z=S[0],N=S[1],g=(0,o.useState)(""),j=(0,i.Z)(g,2),w=j[0],k=j[1],y=(0,d.v9)((function(e){return e.idChange})),C=(0,h.NS)({skip:Z,search:{search:w,page:1,id:null===y||void 0===y?void 0:y.id,limit:6,filter:"all"}}),I=C.instituteAllSearch,R=C.instituteAllSearchRefetch;(0,o.useEffect)((function(){w&&L()}),[w]);var L=function(){N(!1),R()},F=(0,o.useCallback)((0,u.debounce)((function(e){return k(e)}),500),[]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(c.Z,{onClose:t}),(0,m.jsxs)(l.Z,{children:[(0,m.jsx)(s.Z,{setSearchQuery:function(e){F(e)},username:_,searchQuery:w,onClose:t}),(0,m.jsx)("hr",{className:v.Z.search_hr}),(0,m.jsxs)("div",{className:v.Z.search_result_container,children:[(0,m.jsxs)("div",{className:v.Z.search_result_container_heading,children:[(0,m.jsx)("p",{children:p("search_result")}),(0,m.jsx)(a.rU,{to:"/q/".concat(_,"/search"),state:{search:w},onClick:t,children:(0,m.jsx)("p",{children:p("view_all")})})]}),null===I||void 0===I||null===(n=I.universalArray)||void 0===n?void 0:n.map((function(e){return(0,m.jsx)(f.Z,{mixin:e,onCloseSearch:t,username:_},null===e||void 0===e?void 0:e._id)}))]})]})]})}},51615:function(e,n,t){t.d(n,{Z:function(){return s}});t(72791);var i=t(54164),o=t(1413),a=t(51857),r=t(80184),c=function(e){var n=e.customStyle,t=e.children;return(0,r.jsx)("div",{className:a.Z.search_card,style:(0,o.Z)({},n),children:t})},s=function(e){var n=e.children,t=e.customStyle;return(0,r.jsx)(r.Fragment,{children:i.createPortal((0,r.jsx)(c,{children:n,customStyle:t}),document.getElementById("overlay"))})}},3324:function(e,n,t){t(72791);var i=t(51857),o=t(16871),a=t(39230),r=t(80184);n.Z=function(e){var n=e.width,t=e.searchQuery,c=e.setSearchQuery,s=e.username,l=e.onClose,d=(0,o.s0)(),u=(0,a.$G)().t;return(0,r.jsxs)("div",{className:i.Z.search_container,style:{width:"".concat(n)},children:[(0,r.jsx)("img",{alt:"search icon for question",src:"/images/left-nav-icon.svg",onClick:l,className:i.Z.search_container_back}),(0,r.jsxs)("div",{className:i.Z.search_container_text,children:[(0,r.jsx)("img",{className:i.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,r.jsx)("input",{type:"text",placeholder:u("search-label"),onChange:function(e){return c(e.target.value)},onKeyUp:function(e){"Enter"!==e.key&&13!==e.keyCode||(l(),d("/q/".concat(s,"/search"),{state:{search:t}}))},autoFocus:!0})]})]})}},84489:function(e,n,t){var i=t(1413),o=(t(72791),t(51857)),a=t(80184);n.Z=function(e){var n=e.onClose,t=e.customStyleBackdrop;return(0,a.jsx)("div",{className:o.Z.search_backdrop,style:(0,i.Z)({},t),onClick:n})}},51857:function(e,n){n.Z={search_backdrop:"SearchHeader_search_backdrop__MsKpG",search_card:"SearchHeader_search_card__-jNcg",search_container:"SearchHeader_search_container__NS7Om",search_container_text:"SearchHeader_search_container_text__bkolR",searchIcon:"SearchHeader_searchIcon__J7cNp",search_container_back:"SearchHeader_search_container_back__ZoXdV"}},62926:function(e,n){n.Z={search_hr:"SearchStyle_search_hr__IuBiN",search_result_container:"SearchStyle_search_result_container__ZKsy6",search_result_container_heading:"SearchStyle_search_result_container_heading__EbGzG",searchResult:"SearchStyle_searchResult__wSSyA",searchResultLeft:"SearchStyle_searchResultLeft__+W4R0",connectBtn:"SearchStyle_connectBtn__VQuDg"}}}]);
//# sourceMappingURL=1078.e3113b7a.chunk.js.map