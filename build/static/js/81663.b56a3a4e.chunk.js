"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[81663],{85303:(e,l,t)=>{t.r(l),t.d(l,{default:()=>E});var s=t(63687),n=t(21348),i=t(72791),a=t(39230),d=t(23441),o=t(56959),c=t(90904),r=t(98684),u=t(91427),v=t(6758);const h="FinanceAllStudent_student_table__Y3uXE",m="FinanceAllStudent_student_table_header__4fuiU",_="FinanceAllStudent_student_table_header_label__4x6eY",x="FinanceAllStudent_student_table_content_card__3KWaE",f="FinanceAllStudent_student_table_profile__QUIFN",j="FinanceAllStudent_student_table_header_name__x4ZNJ",g="FinanceAllStudent_student_table_header_label_text__lny-H",p="FinanceAllStudent_student_table_contact__f4eB5",N="FinanceAllStudent_student_table_contact_email__dV19L",S="FinanceAllStudent_student_table_contact_number__r7HNK";var b=t(80184);const A=e=>{let{studentAlias:l}=e;const{t:t}=(0,a.$G)();return(0,b.jsx)("div",{className:h,children:(0,b.jsxs)("div",{className:m,children:[(0,b.jsx)("p",{className:_,style:{flex:"1"},children:null!==l&&void 0!==l?l:t("gr_no")}),(0,b.jsx)("p",{className:_,style:{flex:"3"},children:t("name")}),(0,b.jsx)("p",{className:_,style:{flex:"2"},children:t("contact_number")}),(0,b.jsx)("p",{className:_,style:{flex:"1"},children:t("applicable_outs")}),(0,b.jsx)("p",{className:_,style:{flex:"0.7"},children:t("govt_oustanding")})]})})};var I=t(1095),y=t(16871),C=t(43504);const F=e=>{var l,t,s,n,i,a,d,o,u,v;let{student:h,messageId:m,headId:A,instituteId:F,allStudentControl:Z,otherData:k}=e;const G=(0,y.UO)(),U=(0,y.TH)();return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(C.rU,{to:"/q/".concat(G.username,"/member/student/admission/profile"),state:{...U.state,sid:null===h||void 0===h?void 0:h._id,messageId:m,headId:A,instituteId:F,collectAccess:null===Z||void 0===Z?void 0:Z.collectAccess,govtAccess:null===Z||void 0===Z?void 0:Z.govtAccess,cancelAccess:null===Z||void 0===Z?void 0:Z.cancelAccess,editStructureControl:null===Z||void 0===Z?void 0:Z.editStructureControl,editGovtNumberContorl:null===Z||void 0===Z?void 0:Z.editGovtNumberContorl,editInstallmentControl:null===Z||void 0===Z?void 0:Z.editInstallmentControl,editGovtInstallmentControl:null===Z||void 0===Z?void 0:Z.editGovtInstallmentControl,viewAs:"Institute"===(null===(l=U.state)||void 0===l?void 0:l.urlOffSet)?"INSTITUTE":null,isCashierAccess:null===k||void 0===k?void 0:k.isCashierAccess,collectStaffId:null===k||void 0===k?void 0:k.collectStaffId},children:[(0,b.jsxs)("div",{className:x,style:{cursor:"pointer"},children:[(0,b.jsx)("p",{className:_,style:{flex:"1"},children:null!==(t=null===h||void 0===h?void 0:h.studentGRNO)&&void 0!==t?t:""}),(0,b.jsxs)("div",{className:f,style:{flex:"3"},children:[(0,b.jsx)("img",{src:null!==h&&void 0!==h&&h.studentProfilePhoto?"".concat(I.yI,"/").concat(null===h||void 0===h?void 0:h.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:j,children:["".concat(null!==(s=null===h||void 0===h?void 0:h.studentFirstName)&&void 0!==s?s:""," ").concat(null!==(n=null===h||void 0===h?void 0:h.studentMiddleName)&&void 0!==n?n:""," ").concat(null!==(i=null===h||void 0===h?void 0:h.studentLastName)&&void 0!==i?i:""),"100"===(null===h||void 0===h?void 0:h.profile_percentage)||100===(null===h||void 0===h?void 0:h.profile_percentage)?(0,b.jsx)("img",{src:"".concat(r.Fk,"/complete.svg"),loading:"lazy",alt:"avatar",style:{marginLeft:"0.6rem",height:"1rem"}}):null]}),(0,b.jsx)("p",{className:g,children:null!==(a=null===h||void 0===h||null===(d=h.studentClass)||void 0===d?void 0:d.classTitle)&&void 0!==a?a:""})]})]}),(0,b.jsxs)("div",{className:_,style:{flex:"2"},children:[(0,b.jsxs)("div",{className:p,children:[(0,b.jsx)("img",{src:"".concat(r.Fk,"/gender.svg"),alt:"gender icon"}),(0,b.jsx)("p",{className:N,children:null===h||void 0===h?void 0:h.studentGender})]}),(0,b.jsxs)("div",{className:p,style:{marginTop:"0.4rem"},children:[(0,b.jsx)("img",{src:"".concat(r.Fk,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{className:S,children:null!==h&&void 0!==h&&h.user.userPhoneNumber?null===h||void 0===h?void 0:h.user.userPhoneNumber:null!==(o=null===h||void 0===h?void 0:h.user.userEmail)&&void 0!==o?o:""})]})]}),(0,b.jsx)("p",{className:_,style:{flex:"1",textAlign:"right"},children:null!==(u=null===h||void 0===h?void 0:h.applicable_fees_pending)&&void 0!==u?u:0}),(0,b.jsx)("p",{className:_,style:{flex:"0.7",textAlign:"right"},children:null!==(v=null===h||void 0===h?void 0:h.government_fees_pending)&&void 0!==v?v:0})]}),(0,b.jsx)(c.Z,{customStyleBorder:{margin:"0"}})]})})};var Z=t(55336),k=t(1669),G=t(2651),U=t(93638);const E=e=>{var l,t,h;let{instituteId:m,studentAlias:_,headId:x,messageId:f,invalidateAccess:j,allStudentControl:g,whichFlow:p,otherData:N}=e;const{t:S}=(0,a.$G)(),I=(0,y.s0)(),C=(0,y.TH)(),E=(0,y.UO)(),[w,D]=(0,i.useState)(""),[O,P]=(0,i.useState)(""),[q,B]=(0,i.useState)(1),[H,K]=(0,i.useState)(!0),[L,z]=(0,d.YD)({skip:w}),[W,Y]=(0,i.useState)(!1),[M]=(0,v.WN)(),{instituteAllStudent:$,instituteAllStudentLoading:J}=(0,v.Cp)({data:{id:m,page:q,limit:10,search:w},skip:!m});(0,i.useEffect)((()=>{z&&H&&B((e=>e+1))}),[z,H]),(0,i.useEffect)((()=>{if(null!==$&&void 0!==$&&$.list){var e;let l=(0,u.f)(null===$||void 0===$||null===(e=$.list)||void 0===e?void 0:e.length);K((()=>l))}}),[null===$||void 0===$?void 0:$.list]);const Q=e=>{var l;!J&&(null===$||void 0===$||null===(l=$.list)||void 0===l?void 0:l.length)>=0&&P(e.target.value)},R=e=>{"Enter"===e.key&&(B((()=>1)),D(O))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(s.default,{customStyle:{border:T[j]?"none":"0.5px solid #cacaca"},children:[T[j]?(0,b.jsx)(n.default,{children:(0,b.jsxs)("div",{className:o.Z.fm_search_full,children:[(0,b.jsx)("section",{className:o.Z.fm_search_full_container,children:(0,b.jsxs)("div",{className:o.Z.fm_search_full_container_inner,children:[(0,b.jsx)("img",{className:o.Z.fm_search_full_icon,alt:"search icon",src:"".concat(r.dB,"/navbar-search.svg")}),(0,b.jsx)("input",{type:"text",placeholder:S("search"),onChange:Q,onKeyUp:R,value:O})]})}),"ADMISSION"===p?(0,b.jsx)(U.Z,{label:"export",customStyle:{margin:"0",padding:"0.4rem 1rem",width:"fit-content"},onAction:()=>{null!==N&&void 0!==N&&N.aid&&(Y((e=>!e)),M({aid:null===N||void 0===N?void 0:N.aid}).then((e=>{var l;let t="Institute"===(null===(l=C.state)||void 0===l?void 0:l.urlOffSet)?"/q/".concat(E.username,"/institute/member/finance?type=export"):"/q/".concat(E.username,"/member/staff/finance?type=export");I(t,{state:C.state})})).catch({}))}}):null]})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.default,{children:(0,b.jsxs)("div",{className:o.Z.fm_header_container,children:[(0,b.jsx)("h6",{children:S("all_students")}),(0,b.jsx)("div",{className:o.Z.fm_both_filter,children:(0,b.jsx)("div",{className:o.Z.fm_search,children:(0,b.jsx)("section",{className:o.Z.fm_search_container,children:(0,b.jsxs)("div",{className:o.Z.fm_search_container_inner,children:[(0,b.jsx)("img",{className:o.Z.fm_search_icon,alt:"search icon",src:"".concat(r.dB,"/navbar-search.svg")}),(0,b.jsx)("input",{type:"text",placeholder:S("search"),onChange:Q,style:{minWidth:"300px"},onKeyUp:R,value:O})]})})})})]})}),(0,b.jsx)(c.Z,{})]}),(0,b.jsx)(n.default,{children:(0,b.jsx)(A,{studentAlias:_})}),(0,b.jsx)(c.Z,{}),(0,b.jsxs)(n.default,{children:[null===$||void 0===$||null===(l=$.list)||void 0===l?void 0:l.map(((e,l)=>{var t;return(null===$||void 0===$||null===(t=$.list)||void 0===t?void 0:t.length)===l+1?(0,b.jsx)("div",{ref:L,children:(0,b.jsx)(F,{student:e,instituteId:m,messageId:f,headId:x,allStudentControl:g,otherData:N})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(F,{student:e,instituteId:m,messageId:f,headId:x,allStudentControl:g,otherData:N},null===e||void 0===e?void 0:e._id)})),J?w?(0,b.jsx)(Z.default,{}):(0,b.jsx)(b.Fragment,{children:1===q?(0,b.jsx)(Z.default,{}):(0,b.jsx)(k.Z,{})}):w?0===(null===$||void 0===$||null===(t=$.list)||void 0===t?void 0:t.length)&&(0,b.jsx)(G.Z,{title:"No student found related this search."}):0===(null===$||void 0===$||null===(h=$.list)||void 0===h?void 0:h.length)&&(0,b.jsx)(G.Z,{title:"No students added in institute."})]})]}),W&&(0,b.jsx)(Z.default,{})]})},T={unAuthorized:!0,govt:!0}}}]);
//# sourceMappingURL=81663.b56a3a4e.chunk.js.map