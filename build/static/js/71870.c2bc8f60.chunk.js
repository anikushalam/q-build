"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[71870],{71870:(e,i,l)=>{l.r(i),l.d(i,{default:()=>I});var t=l(56959),n=l(63687),a=l(21348),s=l(39230),o=l(90904),d=l(43504),r=l(16871),c=l(98967),u=l(63162),v=l(72791),_=l(55336),m=l(23441),h=l(91427),p=l(98684),f=l(1669),j=l(2651),x=l(43317);const g="PaymentVerification_request_card_info_name__F217G",y="PaymentVerification_request_card_container__kdJMq",N="PaymentVerification_request_card_info__4dTd3",S="PaymentVerification_request_card_info_date__kvaK6",C="PaymentVerification_request_card_utr__PDrya",Z="PaymentVerification_request_card_info_image__SzKv7",k="PaymentVerification_fee_request_detail__XPezI",b="PaymentVerification_fee_request_detail_name__9jdBC",E="PaymentVerification_fee_request_detail_amount__-SBvM",q="PaymentVerification_fee_request_detail_date__0hGfn",P="PaymentVerification_reason_for_rejection__xoM3S",T="PaymentVerification_payment_acknowledge_btn__quTx1";var L=l(1095),R=l(97892),V=l.n(R),A=l(93638),D=l(38857),B=l(16925),M=l(53277),F=l(23558),Y=l(61055),w=l(99183),K=l(80184);const J=e=>{var i,l,t,n,d,r,c,u,m,h,f,j,g,y,N,S;let{onClose:C,aid:Z,onRefetch:P,receipt:R,isAccess:J}=e;const{t:U}=(0,s.$G)(),[G,$]=(0,v.useState)(!1),[Q,I]=(0,v.useState)(1),[O,z]=(0,v.useState)(""),[H,W]=(0,v.useState)(""),[X]=(0,x.Wl)(),ee=()=>{},ie=(0,v.useCallback)((()=>{var e;const i=window.open("".concat(L.LS,"/").concat(null===R||void 0===R||null===(e=R.receipt)||void 0===e?void 0:e.fee_payment_acknowledge),"_blank","noopener,noreferrer");i&&(i.opener=null)}),[L.LS,null===R||void 0===R||null===(i=R.receipt)||void 0===i?void 0:i.fee_payment_acknowledge]);return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(D.Z,{onClose:C,children:(0,K.jsxs)("div",{className:B.Z.modal_container,children:[(0,K.jsx)(a.default,{children:(0,K.jsxs)("div",{className:B.Z.modal_container_outer_header,children:[(0,K.jsx)("div",{className:B.Z.modal_container_header,children:(0,K.jsxs)("h6",{children:[" ",U("fee_receipt_request")]})}),(0,K.jsx)("img",{src:"".concat(p.J7,"/close.svg"),alt:"close icon",onClick:C})]})}),(0,K.jsx)(o.Z,{}),(0,K.jsxs)(a.default,{customStyle:{paddingTop:"0",marginBottom:"1rem"},children:[(0,K.jsxs)(M.Z,{children:[(0,K.jsx)(F.Z,{label:"accept",onClick:()=>{I(1)},isActive:1===Q}),(0,K.jsx)(F.Z,{label:"reject",onClick:()=>{I(2)},isActive:2===Q})]}),(0,K.jsxs)("section",{className:k,children:[(0,K.jsxs)("h6",{className:b,children:[U("name")," "," : "," ","".concat(null===R||void 0===R||null===(l=R.receipt)||void 0===l||null===(t=l.student)||void 0===t?void 0:t.studentFirstName," ").concat(null!==R&&void 0!==R&&null!==(n=R.receipt)&&void 0!==n&&null!==(d=n.student)&&void 0!==d&&d.studentMiddleName?null===R||void 0===R||null===(r=R.receipt)||void 0===r||null===(c=r.student)||void 0===c?void 0:c.studentMiddleName:""," ").concat(null===R||void 0===R||null===(u=R.receipt)||void 0===u||null===(m=u.student)||void 0===m?void 0:m.studentLastName)]}),(0,K.jsxs)("h6",{className:E,children:[U("amount")," "," : "," ",U("rs")," ",null!==(h=null===R||void 0===R||null===(f=R.receipt)||void 0===f?void 0:f.fee_payment_amount)&&void 0!==h?h:0]}),(0,K.jsx)("h6",{className:q,children:V()(null===R||void 0===R||null===(j=R.receipt)||void 0===j?void 0:j.created_at).format("DD MMM YYYY")})]}),1===Q?(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(Y.Z,{label:U("bank_name_collect"),name:"fee_bank_name",type:"tel",value:null===R||void 0===R||null===(g=R.receipt)||void 0===g?void 0:g.fee_bank_name,onChange:ee,placeholder:U("please_enter_bank_name"),customStyleLabel:{marginTop:"6px",marginBottom:"7px"}}),(0,K.jsx)(Y.Z,{label:U("banke_holder_name"),name:"fee_bank_holder",type:"tel",value:null===R||void 0===R||null===(y=R.receipt)||void 0===y?void 0:y.fee_bank_holder,onChange:ee,placeholder:U("please_enter_name_of_bank_holder"),customStyleLabel:{marginTop:"6px",marginBottom:"7px"}}),(0,K.jsx)(Y.Z,{label:U("cheque_dd_neft"),name:"fee_utr_reference",type:"tel",value:null===R||void 0===R||null===(N=R.receipt)||void 0===N?void 0:N.fee_utr_reference,onChange:ee,placeholder:U("please_enter_utr_ref_number"),customStyleLabel:{marginTop:"6px",marginBottom:"7px"}}),null!==R&&void 0!==R&&null!==(S=R.receipt)&&void 0!==S&&S.fee_payment_acknowledge?(0,K.jsx)("button",{className:T,onClick:ie,children:U("payment_acknowledge")}):null]}):(0,K.jsx)(Y.Z,{label:U("reason_for_rejection_receipt"),name:"reason",type:"text",value:O,onChange:e=>z(e.target.value),placeholder:U("please_reason_for_rejection_receipt"),errorShow:H.reason}),(0,K.jsx)(A.Z,{label:1===Q?"confirm":"confirm_reject",onAction:()=>{let e=!0;var i,l;(2===Q&&(e=(0,w.l)({reason:O},[])),(0,w.x)(e))?Z&&null!==R&&void 0!==R&&null!==(i=R.receipt)&&void 0!==i&&i._id&&null!==R&&void 0!==R&&R._id&&($((e=>!e)),X({aid:Z,rid:null===R||void 0===R||null===(l=R.receipt)||void 0===l?void 0:l._id,reqId:null===R||void 0===R?void 0:R._id,status:"REJECTED"===J?1===Q?"Over_Rejection":"Rejection_Notify":1===Q?"Approved":"Rejected",receiptAction:{reason:O}}).then((()=>{P(),$((e=>!e)),C()})).catch({})):W(e)}})]})]})}),G&&(0,K.jsx)(_.default,{})]})},U=e=>{var i,l,t,n,a,o,d,r,c,u,_,m,h,f,j,x,k,b,E,q,T;let{receipt:R,isAccess:D,aid:B,onRefetch:M}=e;const{t:F}=(0,s.$G)(),[Y,w]=(0,v.useState)(!1),U=(0,v.useCallback)((()=>{var e;("REQUEST"===D||"REJECTED"===D&&null!==R&&void 0!==R&&null!==(e=R.receipt)&&void 0!==e&&e.re_apply)&&w((e=>!e))}),[D,null===R||void 0===R||null===(i=R.receipt)||void 0===i?void 0:i.re_apply]);return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)("section",{className:y,onClick:null!==R&&void 0!==R&&null!==(l=R.receipt)&&void 0!==l&&l.re_apply?()=>{}:U,style:{cursor:"REQUEST"===D?"pointer":"default"},children:[(0,K.jsxs)("div",{className:N,children:[(0,K.jsx)("img",{src:null!==R&&void 0!==R&&null!==(t=R.receipt)&&void 0!==t&&null!==(n=t.student)&&void 0!==n&&n.studentProfilePhoto?"".concat(L.yI,"/").concat(null===R||void 0===R||null===(a=R.receipt)||void 0===a||null===(o=a.student)||void 0===o?void 0:o.studentProfilePhoto):"".concat(p.p3,"/feed-user-avatar.svg"),alt:"avatar",className:Z}),(0,K.jsxs)("div",{children:[(0,K.jsx)("h6",{className:g,children:"".concat(null!==(d=null===R||void 0===R||null===(r=R.receipt)||void 0===r||null===(c=r.student)||void 0===c?void 0:c.studentFirstName)&&void 0!==d?d:""," ").concat(null!==R&&void 0!==R&&null!==(u=R.receipt)&&void 0!==u&&null!==(_=u.student)&&void 0!==_&&_.studentMiddleName?null===R||void 0===R||null===(m=R.receipt)||void 0===m||null===(h=m.student)||void 0===h?void 0:h.studentMiddleName:""," ").concat(null!==(f=null===R||void 0===R||null===(j=R.receipt)||void 0===j||null===(x=j.student)||void 0===x?void 0:x.studentLastName)&&void 0!==f?f:"")}),(0,K.jsxs)("p",{className:g,children:[F("amount")," : ",F("rs_only")," ",(null===R||void 0===R||null===(k=R.receipt)||void 0===k?void 0:k.fee_payment_amount)||0]}),(0,K.jsx)("p",{className:S,children:V()(null===R||void 0===R?void 0:R.created_at).format("DD MMM YYYY")})]})]}),(0,K.jsxs)("h6",{className:C,children:[F("utr_number")," ",null===R||void 0===R||null===(b=R.receipt)||void 0===b?void 0:b.fee_utr_reference]}),"REJECTED"===D&&(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)("h6",{className:P,children:[F("reason_for_rejection")," ",null!==(E=null===R||void 0===R||null===(q=R.receipt)||void 0===q?void 0:q.reason)&&void 0!==E?E:null===R||void 0===R?void 0:R.reason]}),(null===R||void 0===R||null===(T=R.receipt)||void 0===T?void 0:T.re_apply)&&(0,K.jsx)(A.Z,{label:"re_requested",onAction:U})]})]}),Y&&(0,K.jsx)(J,{onClose:U,aid:B,receipt:R,onRefetch:M,isAccess:D})]})},G=e=>{var i,l,n;let{aid:a,requestedCount:o}=e;const{t:d}=(0,s.$G)(),[r,c]=(0,v.useState)(""),[u,g]=(0,v.useState)(""),[y,N]=(0,v.useState)(1),[S,C]=(0,v.useState)(!0),[Z,k]=(0,m.YD)({skip:r}),{admissionPaymentVerifyList:b,admissionPaymentVerifyListLoading:E,admissionPaymentVerifyListRefetch:q}=(0,x.jD)({data:{aid:a,page:y,limit:10,search:r,filterBy:"ALL_REQUEST",over_filter:""},skip:!a});(0,v.useEffect)((()=>{k&&S&&N((e=>e+1))}),[k,S]),(0,v.useEffect)((()=>{var e;if(null!==b&&void 0!==b&&null!==(e=b.list)&&void 0!==e&&e.length){var i;let e=(0,h.f)(null===b||void 0===b||null===(i=b.list)||void 0===i?void 0:i.length);C((()=>e))}}),[null===b||void 0===b?void 0:b.list]);const P=(0,v.useCallback)((()=>{N((()=>1)),q()}),[q]);return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)("div",{className:t.Z.fm_header_container,children:[(0,K.jsxs)("h6",{children:[d("total_request")," : "," ",null!==o&&void 0!==o?o:0]}),(0,K.jsx)("div",{className:t.Z.fm_search,children:(0,K.jsx)("section",{className:t.Z.fm_search_container,children:(0,K.jsxs)("div",{className:t.Z.fm_search_container_inner,children:[(0,K.jsx)("img",{className:t.Z.fm_search_icon,alt:"search icon",src:"".concat(p.dB,"/navbar-search.svg")}),(0,K.jsx)("input",{type:"text",placeholder:d("search"),onChange:e=>{var i;!E&&(null===b||void 0===b||null===(i=b.list)||void 0===i?void 0:i.length)>=0&&g(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(N((()=>1)),c(u))},value:u})]})})})]}),null===b||void 0===b||null===(i=b.list)||void 0===i?void 0:i.map(((e,i)=>{var l;return(null===b||void 0===b||null===(l=b.list)||void 0===l?void 0:l.length)===i+1?(0,K.jsx)("div",{ref:Z,children:(0,K.jsx)(U,{receipt:e,isAccess:"REQUEST",aid:a,onRefetch:P})},null===e||void 0===e?void 0:e._id):(0,K.jsx)(U,{receipt:e,isAccess:"REQUEST",aid:a,onRefetch:P},null===e||void 0===e?void 0:e._id)})),E?r?(0,K.jsx)(_.default,{}):(0,K.jsx)(f.Z,{}):r?0===(null===b||void 0===b||null===(l=b.list)||void 0===l?void 0:l.length)&&(0,K.jsx)(j.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No request found related this search."}):0===(null===b||void 0===b||null===(n=b.list)||void 0===n?void 0:n.length)&&(0,K.jsx)(j.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No request found."})]})},$=e=>{var i,l,n;let{aid:a,rejectCount:o}=e;const{t:d}=(0,s.$G)(),[r,c]=(0,v.useState)(""),[u,g]=(0,v.useState)(""),[y,N]=(0,v.useState)(1),[S,C]=(0,v.useState)(!0),[Z,k]=(0,m.YD)({skip:r}),{admissionPaymentVerifyList:b,admissionPaymentVerifyListLoading:E,admissionPaymentVerifyListRefetch:q}=(0,x.jD)({data:{aid:a,page:y,limit:10,search:r,filterBy:"ALL_REJECT",over_filter:""},skip:!a});(0,v.useEffect)((()=>{k&&S&&N((e=>e+1))}),[k,S]),(0,v.useEffect)((()=>{var e;if(null!==b&&void 0!==b&&null!==(e=b.list)&&void 0!==e&&e.length){var i;let e=(0,h.f)(null===b||void 0===b||null===(i=b.list)||void 0===i?void 0:i.length);C((()=>e))}}),[null===b||void 0===b?void 0:b.list]);const P=(0,v.useCallback)((()=>{N((()=>1)),q()}),[q]);return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)("div",{className:t.Z.fm_header_container,children:[(0,K.jsxs)("h6",{children:[d("total_rejected")," : "," ",null!==o&&void 0!==o?o:0]}),(0,K.jsx)("div",{className:t.Z.fm_search,children:(0,K.jsx)("section",{className:t.Z.fm_search_container,children:(0,K.jsxs)("div",{className:t.Z.fm_search_container_inner,children:[(0,K.jsx)("img",{className:t.Z.fm_search_icon,alt:"search icon",src:"".concat(p.dB,"/navbar-search.svg")}),(0,K.jsx)("input",{type:"text",placeholder:d("search"),onChange:e=>{var i;!E&&(null===b||void 0===b||null===(i=b.list)||void 0===i?void 0:i.length)>=0&&g(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(N((()=>1)),c(u))},value:u})]})})})]}),null===b||void 0===b||null===(i=b.list)||void 0===i?void 0:i.map(((e,i)=>{var l;return(null===b||void 0===b||null===(l=b.list)||void 0===l?void 0:l.length)===i+1?(0,K.jsx)("div",{ref:Z,children:(0,K.jsx)(U,{receipt:e,isAccess:"REJECTED",aid:a,onRefetch:P})},null===e||void 0===e?void 0:e._id):(0,K.jsx)(U,{receipt:e,isAccess:"REJECTED",aid:a,onRefetch:P},null===e||void 0===e?void 0:e._id)})),E?r?(0,K.jsx)(_.default,{}):(0,K.jsx)(f.Z,{}):r?0===(null===b||void 0===b||null===(l=b.list)||void 0===l?void 0:l.length)&&(0,K.jsx)(j.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No receipts found related this search."}):0===(null===b||void 0===b||null===(n=b.list)||void 0===n?void 0:n.length)&&(0,K.jsx)(j.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No receipts found."})]})},Q=e=>{var i,l,n;let{aid:a,approvedCount:o}=e;const{t:d}=(0,s.$G)(),[r,c]=(0,v.useState)(""),[u,g]=(0,v.useState)(""),[y,N]=(0,v.useState)(1),[S,C]=(0,v.useState)(!0),[Z,k]=(0,m.YD)({skip:r}),{admissionPaymentVerifyList:b,admissionPaymentVerifyListLoading:E}=(0,x.jD)({data:{aid:a,page:y,limit:10,search:r,filterBy:"ALL_APPROVE",over_filter:""},skip:!a});(0,v.useEffect)((()=>{k&&S&&N((e=>e+1))}),[k,S]),(0,v.useEffect)((()=>{var e;if(null!==b&&void 0!==b&&null!==(e=b.list)&&void 0!==e&&e.length){var i;let e=(0,h.f)(null===b||void 0===b||null===(i=b.list)||void 0===i?void 0:i.length);C((()=>e))}}),[null===b||void 0===b?void 0:b.list]);return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)("div",{className:t.Z.fm_header_container,children:[(0,K.jsxs)("h6",{children:[d("total_accepted")," "," : "," ",null!==o&&void 0!==o?o:0]}),(0,K.jsx)("div",{className:t.Z.fm_search,children:(0,K.jsx)("section",{className:t.Z.fm_search_container,children:(0,K.jsxs)("div",{className:t.Z.fm_search_container_inner,children:[(0,K.jsx)("img",{className:t.Z.fm_search_icon,alt:"search icon",src:"".concat(p.dB,"/navbar-search.svg")}),(0,K.jsx)("input",{type:"text",placeholder:d("search"),onChange:e=>{var i;!E&&(null===b||void 0===b||null===(i=b.list)||void 0===i?void 0:i.length)>=0&&g(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(N((()=>1)),c(u))},value:u})]})})})]}),null===b||void 0===b||null===(i=b.list)||void 0===i?void 0:i.map(((e,i)=>{var l;return(null===b||void 0===b||null===(l=b.list)||void 0===l?void 0:l.length)===i+1?(0,K.jsx)("div",{ref:Z,children:(0,K.jsx)(U,{receipt:e})},null===e||void 0===e?void 0:e._id):(0,K.jsx)(U,{receipt:e},null===e||void 0===e?void 0:e._id)})),E?r?(0,K.jsx)(_.default,{}):(0,K.jsx)(f.Z,{}):r?0===(null===b||void 0===b||null===(l=b.list)||void 0===l?void 0:l.length)&&(0,K.jsx)(j.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No receipts found related this search."}):0===(null===b||void 0===b||null===(n=b.list)||void 0===n?void 0:n.length)&&(0,K.jsx)(j.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No receipts found."})]})},I=e=>{let{aid:i,requestedCount:l,approvedCount:m,rejectCount:h}=e;const{t:f}=(0,s.$G)(),[j]=(0,d.lr)(),x=(0,r.TH)(),g=(0,r.UO)();return(0,K.jsx)(K.Fragment,{children:(0,K.jsxs)(n.default,{children:[(0,K.jsx)(a.default,{children:(0,K.jsxs)("div",{className:t.Z.fm_header_container,children:[(0,K.jsx)("h6",{children:f("fee_receipts_request")}),(0,K.jsx)("img",{src:"".concat(p.J7,"/filter.svg"),alt:"filter icon"})]})}),(0,K.jsx)(o.Z,{}),(0,K.jsxs)(a.default,{customStyle:{paddingTop:"0"},children:[(0,K.jsx)(c.Z,{children:O.map((e=>{var i;return(0,K.jsx)(u.Z,{tab:e,isLink:!0,isActive:"requested"===e.id&&!j.get("n")||j.get("n")===e.id,parentState:x.state,url:"Institute"===(null===(i=x.state)||void 0===i?void 0:i.urlOffSet)?"/q/".concat(g.username,"/institute/member/finance?type=verification").concat(e.urlKey):"/q/".concat(g.username,"/member/staff/finance?type=verification").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,K.jsx)(o.Z,{customStyleBorder:{marginTop:"0"}})]}),(0,K.jsx)(a.default,{customStyle:{paddingTop:"0"},children:(0,K.jsx)(v.Suspense,{fallback:(0,K.jsx)(_.default,{}),children:"accepted"===j.get("n")?(0,K.jsx)(Q,{aid:i,approvedCount:m}):"rejected"===j.get("n")?(0,K.jsx)($,{aid:i,rejectCount:h}):(0,K.jsx)(G,{aid:i,requestedCount:l})})})]})})},O=[{label:"all_request",id:"requested",urlKey:""},{label:"accepted",id:"accepted",urlKey:"&n=accepted"},{label:"rejected",id:"rejected",urlKey:"&n=rejected"}]}}]);
//# sourceMappingURL=71870.c2bc8f60.chunk.js.map