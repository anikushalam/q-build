"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[38261],{93638:function(e,n,l){var i=l(39230),t=l(80476),o=l(80184);n.Z=function(e){var n=e.label,l=e.count,a=e.onAction,s=e.customStyle,c=e.isTranslate,d=(0,i.$G)().t;return c?(0,o.jsxs)("div",{className:t.Z.create_btn_container,onClick:a,style:s,children:[l>0?(0,o.jsxs)("span",{children:[l," "]}):null,n]}):(0,o.jsxs)("div",{className:t.Z.create_btn_container,onClick:a,style:s,children:[l>0?(0,o.jsxs)("span",{children:[l," "]}):null,d(n)]})}},7254:function(e,n,l){var i=l(29439),t=l(72791),o=l(55336),a=l(98684),s=l(97892),c=l.n(s),d=l(82824),r=l(1095),v=l(55050),u=l(93638),f=l(36132),m=l(39230),_=l(45445),h=l(80184);n.Z=function(e){var n,l,s,Z,g,p,b,w,N,y,S,M,k,R,Y,A,q,L,F,C,D,T,B,I,J,G,P,W,$=e.leave,E=e.onRefetch,O=e.modId,H=e.flow,K=e.whichAccess,z=(0,m.$G)().t,Q=(0,f.Sr)(),U=(0,i.Z)(Q,1)[0],V=(0,t.useState)(!1),X=(0,i.Z)(V,2),ee=X[0],ne=X[1],le=(0,t.useState)(!1),ie=(0,i.Z)(le,2),te=ie[0],oe=ie[1],ae=function(e){null!==$&&void 0!==$&&$._id&&H&&O&&(ne((function(e){return!e})),U({lid:null===$||void 0===$?void 0:$._id,requestLeave:{leave_from:H,staff_mod:O,status:e}}).then((function(){E(),ne((function(e){return!e}))})).catch({}))},se=function(){oe((function(e){return!e}))};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:v.Z.lmsr_card,children:[(0,h.jsxs)("div",{className:v.Z.lmsrc_card,children:[(0,h.jsxs)("div",{className:v.Z.lmsrc_card_inner,children:[(0,h.jsx)("img",{src:null!==$&&void 0!==$&&null!==(n=$.staff)&&void 0!==n&&n.staffProfilePhoto?"".concat(r.yI,"/").concat(null===$||void 0===$||null===(l=$.staff)||void 0===l?void 0:l.staffProfilePhoto):"".concat(a.p3,"/feed-user-avatar.svg"),alt:"staff icon"}),(0,h.jsxs)("div",{className:v.Z.lmsrci_text,children:[(0,h.jsx)("h6",{children:"".concat(null===$||void 0===$||null===(s=$.staff)||void 0===s?void 0:s.staffFirstName," ").concat(null!==$&&void 0!==$&&null!==(Z=$.staff)&&void 0!==Z&&Z.staffMiddleName?null===$||void 0===$||null===(g=$.staff)||void 0===g?void 0:g.staffMiddleName:""," ").concat(null===$||void 0===$||null===(p=$.staff)||void 0===p?void 0:p.staffLastName)}),(0,h.jsxs)("p",{children:["Sactioning"===K?(0,h.jsxs)(h.Fragment,{children:[z("reviewed_on")," ",(0,d.J)(null===$||void 0===$||null===(b=$.review)||void 0===b?void 0:b.review_on,"LT"),","," ",c()(null===$||void 0===$||null===(w=$.review)||void 0===w?void 0:w.review_on).format("DD MMM YYYY")]}):"Reviewing"===K?(0,h.jsxs)(h.Fragment,{children:[z("recomend_on"),(0,d.J)(null===$||void 0===$||null===(N=$.recommend)||void 0===N?void 0:N.recommend_on,"LT"),","," ",c()(null===$||void 0===$||null===(y=$.recommend)||void 0===y?void 0:y.recommend_on).format("DD MMM YYYY")]}):(0,h.jsxs)(h.Fragment,{children:[z("raised_on"),(0,d.J)(null===$||void 0===$?void 0:$.createdAt,"LT"),", ",c()(null===$||void 0===$?void 0:$.createdAt).format("DD MMM YYYY"),", "]}),(0,h.jsx)("span",{className:v.Z.lmsrc_date,onClick:se,children:z("for_dates")})]}),(0,h.jsx)("p",{children:"Sactioning"===K?(0,h.jsxs)(h.Fragment,{children:[z("reviewing_by"),"".concat(null!==(S=null===$||void 0===$||null===(M=$.review)||void 0===M||null===(k=M.review_by)||void 0===k?void 0:k.staffFirstName)&&void 0!==S?S:""," ").concat(null!==(R=null===$||void 0===$||null===(Y=$.review)||void 0===Y||null===(A=Y.review_by)||void 0===A?void 0:A.staffMiddleName)&&void 0!==R?R:""," ").concat(null!==(q=null===$||void 0===$||null===(L=$.review)||void 0===L||null===(F=L.review_by)||void 0===F?void 0:F.staffLastName)&&void 0!==q?q:"")]}):"Reviewing"===K?(0,h.jsxs)(h.Fragment,{children:[z("recomending_by"),"".concat(null!==(C=null===$||void 0===$||null===(D=$.recommend)||void 0===D||null===(T=D.recommend_by)||void 0===T?void 0:T.staffFirstName)&&void 0!==C?C:""," ").concat(null!==(B=null===$||void 0===$||null===(I=$.recommend)||void 0===I||null===(J=I.recommend_by)||void 0===J?void 0:J.staffMiddleName)&&void 0!==B?B:""," ").concat(null!==(G=null===$||void 0===$||null===(P=$.recommend)||void 0===P||null===(W=P.recommend_by)||void 0===W?void 0:W.staffLastName)&&void 0!==G?G:"")]}):null})]})]}),(0,h.jsx)("div",{className:v.Z.lmsrc_btn,children:"Request"===(null===$||void 0===$?void 0:$.status)?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(u.Z,{label:z("reject"),onAction:function(){return ae("Rejected")},customStyle:x}),(0,h.jsx)(u.Z,{label:z("approve"),onAction:function(){return ae("Accepted")},customStyle:j})]}):null})]}),(0,h.jsx)("div",{className:v.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,h.jsxs)("h6",{style:{fontWeight:"400"},children:[z("leave_type")," "," : ",null===$||void 0===$?void 0:$.leave_type]})}),(0,h.jsx)("div",{className:v.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,h.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[z("reason")," "," : ",null===$||void 0===$?void 0:$.reason]})}),(null===$||void 0===$?void 0:$.attach)&&(0,h.jsx)("div",{className:v.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,h.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[z("attachment")," "," : ",(0,h.jsx)("a",{href:"".concat(r.q2,"/").concat(null===$||void 0===$?void 0:$.attach),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,h.jsx)("span",{className:v.Z.lmsrc_date,children:z("view_attachment")})})]})})]}),te&&(0,h.jsx)(_.Z,{onClose:se,allDate:null===$||void 0===$?void 0:$.date}),ee&&(0,h.jsx)(o.Z,{})]})};var x={"--bg-button":"#e7e7e7","--color-button":"#6f727c","--color-white":"#ffffff",margin:"0",padding:"0.2rem 0.8rem"},j={margin:"0",padding:"0.2rem 0.8rem"}},38261:function(e,n,l){l.r(n);var i=l(29439),t=l(72791),o=l(56959),a=l(23441),s=l(91427),c=l(57588),d=l(63687),r=l(21348),v=l(90904),u=l(55336),f=l(1669),m=l(2651),_=l(36132),h=l(39230),x=l(98684),j=l(7254),Z=l(80184);n.default=function(e){var n,l,g,p=e.modId,b=(0,h.$G)().t,w=(0,t.useState)(""),N=(0,i.Z)(w,2),y=N[0],S=N[1],M=(0,t.useState)(1),k=(0,i.Z)(M,2),R=k[0],Y=k[1],A=(0,t.useState)(!0),q=(0,i.Z)(A,2),L=q[0],F=q[1],C=(0,a.YD)({skip:y}),D=(0,i.Z)(C,2),T=D[0],B=D[1],I=(0,_.B8)({data:{mid:p,page:R,limit:10,search:y,flow:"Sanction_Section"},skip:!p}),J=I.lmsModeratorAllRequestList,G=I.lmsModeratorAllRequestListLoading,P=I.lmsModeratorAllRequestListRefetch;(0,t.useEffect)((function(){B&&L&&Y((function(e){return e+1}))}),[B,L]),(0,t.useEffect)((function(){var e;if(null!==J&&void 0!==J&&null!==(e=J.list)&&void 0!==e&&e.length){var n,l=(0,s.f)(null===J||void 0===J||null===(n=J.list)||void 0===n?void 0:n.length);F((function(){return l}))}}),[null===J||void 0===J?void 0:J.list]);var W=(0,t.useCallback)((0,c.J)((function(e){Y((function(){return 1})),S(e)}),1500),[]),$=(0,t.useCallback)((function(){Y((function(){return 1})),S(""),P()}),[P]);return(0,Z.jsxs)(d.Z,{children:[(0,Z.jsx)(r.Z,{children:(0,Z.jsxs)("div",{className:o.Z.fm_header_container,children:[(0,Z.jsx)("h6",{children:b("leave_request")}),(0,Z.jsx)("div",{className:o.Z.fm_search,children:(0,Z.jsx)("section",{className:o.Z.fm_search_container,children:(0,Z.jsxs)("div",{className:o.Z.fm_search_container_inner,children:[(0,Z.jsx)("img",{className:o.Z.fm_search_icon,alt:"search icon",src:"".concat(x.dB,"/navbar-search.svg")}),(0,Z.jsx)("input",{type:"text",placeholder:b("search"),onChange:function(e){e.target.value?W(e.target.value):(Y((function(){return 1})),S(""))}})]})})})]})}),(0,Z.jsx)(v.Z,{}),(0,Z.jsxs)(r.Z,{children:[null===J||void 0===J||null===(n=J.list)||void 0===n?void 0:n.map((function(e,n){var l;return(null===J||void 0===J||null===(l=J.list)||void 0===l?void 0:l.length)===n+1?(0,Z.jsx)("div",{ref:T,children:(0,Z.jsx)(j.Z,{leave:e,onRefetch:$,modId:p,flow:"Sanction_Section",whichAccess:"Sactioning"})},null===e||void 0===e?void 0:e._id):(0,Z.jsx)(j.Z,{leave:e,onRefetch:$,modId:p,flow:"Sanction_Section",whichAccess:"Sactioning"},null===e||void 0===e?void 0:e._id)})),G?y?(0,Z.jsx)(u.Z,{}):(0,Z.jsx)(f.Z,{}):y?0===(null===J||void 0===J||null===(l=J.list)||void 0===l?void 0:l.length)&&(0,Z.jsx)(m.Z,{title:"No staff leave request found related this search."}):0===(null===J||void 0===J||null===(g=J.list)||void 0===g?void 0:g.length)&&(0,Z.jsx)(m.Z,{title:"No staff leave request."})]})]})}},80476:function(e,n){n.Z={btn_wrapper:"Button_btn_wrapper__ihT7O",btn_container:"Button_btn_container__OaH2t",create_btn_container:"Button_create_btn_container__JuZrx",upload_excel_file:"Button_upload_excel_file__a7d0K",set_btn_container:"Button_set_btn_container__RvfRG",ccb_button:"Button_ccb_button__Mjv4T"}}}]);
//# sourceMappingURL=38261.dc176e5f.chunk.js.map