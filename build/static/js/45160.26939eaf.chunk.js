"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[45160],{89064:(e,s,n)=>{n.d(s,{Z:()=>d});var i=n(55336),l=n(48293);const a="Modal_modal_menu_card__d0zzt";var t=n(90904),r=n(80184);const d=e=>{let{onClose:s,disabled:n,heading:d,customStyle:o,children:c}=e;return(0,r.jsx)(l.Z,{onClose:()=>{if(n)return null;s()},children:(0,r.jsxs)("div",{className:a,style:o,children:[d?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h5",{children:d}),(0,r.jsx)(t.Z,{})]}):null,c,n&&(0,r.jsx)(i.Z,{})]})})}},45160:(e,s,n)=>{n.r(s),n.d(s,{default:()=>M});var i=n(72791),l=n(39230),a=n(23441),t=n(43317),r=n(91427),d=n(57588),o=n(98684),c=n(93638),u=n(90904),_=n(63687),m=n(21348),h=n(55336),v=n(1669),x=n(2651),g=n(16871),j=n(43504),p=n(2034),Z=n(89064),b=n(80184);const f=e=>{let{sgid:s,onClose:n,menuData:a,onRefetch:r}=e;const{t:d}=(0,l.$G)(),[o,c]=(0,i.useState)(!1),[u]=(0,t.eo)();return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(Z.Z,{onClose:n,disabled:o,children:(0,b.jsx)("h6",{onClick:()=>{null!==a&&void 0!==a&&a._id&&s&&(c((e=>!e)),u({sgid:s,bodyParameter:{ssid:null===a||void 0===a?void 0:a._id}}).then((()=>{r(),c((e=>!e)),n()})).catch({}))},children:d("delete")})})})},C=e=>{let{subCri:s,onRefetch:n,sgid:l}=e;const a=(0,g.TH)(),t=(0,g.UO)(),[r,d]=(0,i.useState)(!1);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.rU,{to:"/q/".concat(t.username,"/member/staff/admission?type=criteria-subdetail"),state:{...a.state,nestedSubCri:s},children:(0,b.jsxs)("div",{className:p.Z.smc_card,children:[(0,b.jsx)("div",{className:p.Z.smc_card_contatiner,children:(0,b.jsx)("div",{className:p.Z.smc_card_contatiner,children:(0,b.jsx)("div",{className:p.Z.smc_card_contatiner_inner,children:(0,b.jsx)("h6",{children:null===s||void 0===s?void 0:s.group_name})})})}),(0,b.jsx)("img",{src:"".concat(o.J7,"/menu.svg"),alt:"menu icon",onClick:e=>{e.preventDefault(),d((e=>!e))}})]})}),r&&(0,b.jsx)(f,{onClose:()=>d((e=>!e)),sgid:l,menuData:s,onRefetch:n})]})};var S=n(56959),N=n(99183),k=n(48293),y=n(61055),G=n(16925);const R=e=>{let{onClose:s,onRefetch:n,sgid:a}=e;const{t:r}=(0,l.$G)(),[d,_]=(0,i.useState)(""),[v,x]=(0,i.useState)(!1),[g,j]=(0,i.useState)({group_name:""}),[p]=(0,t.U)();return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(k.Z,{onClose:s,children:(0,b.jsxs)("div",{className:G.Z.modal_container,children:[(0,b.jsx)(m.Z,{children:(0,b.jsxs)("div",{className:G.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:G.Z.modal_container_header,children:(0,b.jsx)("h6",{children:r("add_sub_group")})}),(0,b.jsx)("img",{src:"".concat(o.J7,"/close.svg"),alt:"close icon",onClick:s})]})}),(0,b.jsx)(u.Z,{}),(0,b.jsxs)(m.Z,{customStyle:{paddingTop:"0"},children:[(0,b.jsx)(y.Z,{label:r("sub_group_name"),placeholder:r("sub_group_name_placeholder"),name:"group_name",value:g.group_name,type:"text",onChange:e=>{j((s=>({...s,[e.target.name]:e.target.value})))},errorShow:d.group_name}),(0,b.jsx)(c.Z,{label:"add",onAction:()=>{let e=(0,N.l)(g,[]);(0,N.x)(e)&&a?(x((e=>!e)),p({sgid:a,bodyParameter:{...g,major_select_max:g.major_select_max?g.major_select_max:0}}).then((()=>{n(),x((e=>!e)),s()})).catch({})):_(e)}})]}),v&&(0,b.jsx)(h.Z,{})]})})})},M=()=>{var e,s,n,j,p,Z,f,N,k,y,G,M,q;const{t:F}=(0,l.$G)(),T=(0,g.TH)(),[w,D]=(0,i.useState)(!1),[L,U]=(0,i.useState)(""),[E,J]=(0,i.useState)(1),[$,z]=(0,i.useState)(!0),[A,B]=(0,a.YD)({skip:L}),{admissionSubGroupList:H,admissionSubGroupListLoading:P,admissionSubGroupListRefetch:Y}=(0,t.Nd)({data:{sgid:null===(e=T.state)||void 0===e||null===(s=e.subCri)||void 0===s?void 0:s._id,page:E,limit:10,search:L},skip:!(null!==(n=T.state)&&void 0!==n&&null!==(j=n.subCri)&&void 0!==j&&j._id)});(0,i.useEffect)((()=>{B&&$&&J((e=>e+1))}),[B,$]),(0,i.useEffect)((()=>{var e;if(null!==H&&void 0!==H&&null!==(e=H.list)&&void 0!==e&&e.length){var s;let e=(0,r.f)(null===H||void 0===H||null===(s=H.list)||void 0===s?void 0:s.length);z((()=>e))}}),[null===H||void 0===H||null===(p=H.list)||void 0===p?void 0:p.length]);const I=(0,i.useCallback)((0,d.J)((e=>{J((()=>1)),U(e)}),1500),[]),O=()=>{D((e=>!e))},K=()=>{J((()=>1)),U(""),Y()};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(_.Z,{children:[(0,b.jsx)(m.Z,{children:(0,b.jsxs)("div",{className:S.Z.fm_header_container,children:[(0,b.jsx)("h6",{children:null!==(Z=null===(f=T.state)||void 0===f||null===(N=f.subCri)||void 0===N?void 0:N.subject_group_name)&&void 0!==Z?Z:""}),(0,b.jsxs)("div",{className:S.Z.fm_search,children:[(0,b.jsx)("section",{className:S.Z.fm_search_container,children:(0,b.jsxs)("div",{className:S.Z.fm_search_container_inner,children:[(0,b.jsx)("img",{className:S.Z.fm_search_icon,alt:"search icon",src:"".concat(o.dB,"/navbar-search.svg")}),(0,b.jsx)("input",{type:"text",placeholder:F("search"),onChange:e=>{e.target.value?I(e.target.value):(J((()=>1)),U(""))}})]})}),(0,b.jsx)(c.Z,{label:"add",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:O})]})]})}),(0,b.jsx)(u.Z,{}),(0,b.jsxs)(m.Z,{children:[null===H||void 0===H||null===(k=H.list)||void 0===k?void 0:k.map(((e,s)=>{var n,i,l,a,t;return(null===H||void 0===H||null===(n=H.list)||void 0===n?void 0:n.length)===s+1?(0,b.jsx)("div",{ref:A,children:(0,b.jsx)(C,{subCri:e,onRefetch:K,sgid:null===(i=T.state)||void 0===i||null===(l=i.subCri)||void 0===l?void 0:l._id})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(C,{subCri:e,onRefetch:K,sgid:null===(a=T.state)||void 0===a||null===(t=a.subCri)||void 0===t?void 0:t._id},null===e||void 0===e?void 0:e._id)})),P?L?(0,b.jsx)(h.Z,{}):(0,b.jsx)(v.Z,{}):L?0===(null===H||void 0===H||null===(y=H.list)||void 0===y?void 0:y.length)&&(0,b.jsx)(x.Z,{title:"No item found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===H||void 0===H||null===(G=H.list)||void 0===G?void 0:G.length)&&(0,b.jsx)(x.Z,{title:"No item.",customStyleContainer:{marginTop:"1.5rem"}})]})]}),w&&(0,b.jsx)(R,{onClose:O,sgid:null===(M=T.state)||void 0===M||null===(q=M.subCri)||void 0===q?void 0:q._id,onRefetch:K})]})}},2034:(e,s,n)=>{n.d(s,{Z:()=>i});const i={smc_card:"StoreManager_smc_card__eEs0G",smc_card_active:"StoreManager_smc_card_active__Im3Y7",smc_card_contatiner:"StoreManager_smc_card_contatiner__ese7w",smccc_inner:"StoreManager_smccc_inner__qlGyG",smc_card_contatiner_inner:"StoreManager_smc_card_contatiner_inner__fU6mu",menu_icon:"StoreManager_menu_icon__CGeq4"}}}]);
//# sourceMappingURL=45160.26939eaf.chunk.js.map