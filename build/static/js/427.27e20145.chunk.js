"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[427],{49384:function(e,t,i){i.d(t,{Z:function(){return a}});i(72791);var n=i(6307),s=i(80184),a=function(){return(0,s.jsx)(n.iT,{ariaLabel:"loading-indicator",height:20,width:20,color:"white",secondaryColor:"#1c023b"})}},90427:function(e,t,i){i.r(t),i.d(t,{default:function(){return w}});var n=i(29439),s=i(72791),a="Certificates_complaints__nIq5M",l="Certificates_complaintList__rA7Mp",d="Certificates_complaintDetail__+ptUc",r="CertificateList_complaintList__aek71",o="CertificateList_certificate__zvnDM",c="CertificateList_active__Ekfj3",u=i(39230),_=i(80184);var v=function(e){var t=e.index,i=e.setIndex,n=(0,u.$G)().t;return(0,_.jsxs)("div",{className:r,children:[(0,_.jsx)("div",{className:0===t?"".concat(o," ").concat(c):o,onClick:function(){return i(0)},children:(0,_.jsx)("p",{children:n("bonafide")})}),(0,_.jsx)("div",{className:1===t?"".concat(o," ").concat(c):o,onClick:function(){return i(1)},children:(0,_.jsx)("p",{children:n("leaving")})}),(0,_.jsx)("div",{className:2===t?"".concat(o," ").concat(c):o,onClick:function(){return i(2)},children:(0,_.jsx)("p",{children:n("transfer_certificate")})})]})},f=i(1413),g=i(78687),m=i(39480),h=i(6245),x=i(49384),p=i(94804),j=i(98734),C=i(37782),N=function(e){var t,a,l,d=e.instituteId,r=e.viewAs,o=(0,u.$G)().t,c=(0,g.useSelector)((function(e){return e.idChange.id})),v=(0,s.useState)(!1),N=(0,n.Z)(v,2),D=N[0],b=N[1],w=(0,s.useState)(!1),Z=(0,n.Z)(w,2),I=Z[0],y=Z[1],k=(0,s.useState)(""),S=(0,n.Z)(k,2),L=S[0],F=S[1],A=(0,s.useState)({number:"",reason:"",message:""}),B=(0,n.Z)(A,2),M=B[0],E=B[1],T=(0,s.useState)(""),R=(0,n.Z)(T,2),G=R[0],O=R[1],q=(0,h._)(),H=(0,n.Z)(q,1)[0],K=(0,m.p0)({data:{id:d||c,type:"ID"},skip:"DESIGNATION_SIDE"===r?!d:!c}),P=K.oneInstituteProfile,z=K.oneInstituteProfileRefetch;(0,s.useEffect)((function(){d&&z()}),[c,d,z]);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:p.Z.complaintDetails,children:[(0,_.jsx)("div",{className:p.Z.detailsHeader,children:o("bonafide")}),(0,_.jsxs)("div",{className:p.Z.detailsBody,children:[(0,_.jsx)("div",{className:p.Z.gr,children:(0,_.jsx)("input",{type:"tel",placeholder:o("enter_gr"),onChange:function(e){return E((0,f.Z)((0,f.Z)({},M),{},{number:e.target.value}))},required:!0})}),(0,_.jsx)("div",{className:p.Z.gr,children:(0,_.jsx)("input",{type:"text",maxLength:"75",placeholder:o("enter_reason"),onChange:function(e){return E((0,f.Z)((0,f.Z)({},M),{},{reason:e.target.value}))},required:!0})}),(0,_.jsx)("div",{className:p.Z.gr,children:(0,_.jsx)("input",{type:"text",maxLength:"75",placeholder:o("bonafide_message_optional"),onChange:function(e){return E((0,f.Z)((0,f.Z)({},M),{},{message:e.target.value}))}})}),(0,_.jsx)("div",{className:p.Z.gr,children:(0,_.jsx)("input",{type:"text",maxLength:"75",placeholder:o("competent_authority"),onChange:function(e){return O(e.target.value)}})}),""!==M.number&&""!==M.reason&&(0,_.jsxs)("button",{type:"submit",disabled:D,className:p.Z.getBtn,onClick:function(){b((function(e){return!e})),H({gr:M.number,id:d||c,bonafideReason:{reason:M.reason,student_bona_message:M.message}}).then((function(e){var t;F(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.student),b((function(e){return!e}))})).catch({})},children:[(0,_.jsx)("p",{children:o("submit")}),D&&(0,_.jsx)(x.Z,{})]}),(null===L||void 0===L?void 0:L.studentFirstName)&&(0,_.jsxs)("div",{className:p.Z.details,children:[(0,_.jsxs)("p",{children:[o("name")," : ",null===L||void 0===L?void 0:L.studentFirstName," ",null!==L&&void 0!==L&&L.studentMiddleName?null===L||void 0===L?void 0:L.studentMiddleName:""," ",null===L||void 0===L?void 0:L.studentLastName," "]}),(0,_.jsxs)("p",{children:[" ",o("dob"),": ",null===L||void 0===L?void 0:L.studentDOB]}),(0,_.jsxs)("p",{children:[o("batch")," :"," ",null!==L&&void 0!==L&&null!==(t=L.batches)&&void 0!==t&&t.batchName?null===L||void 0===L||null===(a=L.batches)||void 0===a?void 0:a.batchName:"N/A"]}),(0,_.jsxs)("p",{children:[" ",o("Class"),": ",null===L||void 0===L||null===(l=L.studentClass)||void 0===l?void 0:l.className]}),null!==L&&void 0!==L&&L.studentFirstName?(0,_.jsx)("div",{className:p.Z.downloadbtn,onClick:function(){y(!0),function(e){var t=(0,C.hR)(null===P||void 0===P?void 0:P.institute,e,{reason:M.reason,message:M.message,authority:G,uniqueGr:M.number}),n=t.institute,s=t.studentInfo,a=new Worker(new URL(i.p+i.u(8334),i.b));a.postMessage({printCertificateType:"BONAFIDE",studentInfo:s,institute:n}),a.onmessage=function(e){e&&(window.open(e.data,"_blank"),y(!1))}}(L)},children:o("download_certificate")}):""]})]})]}),I&&(0,_.jsx)(j.Z,{})]})},D=i(35395),b=s.lazy((function(){return i.e(1876).then(i.bind(i,81876))}));var w=function(e){var t=e.leavingform,i=e.setLeavingForm,r=e.student,o=e.setStudent,c=e.download,u=e.setDownload,f=e.toggle,g=e.setToggle,m=e.viewAs,h=e.instituteId,x=(0,s.useState)(0),p=(0,n.Z)(x,2),j=p[0],C=p[1];return(0,_.jsx)(_.Fragment,{children:"DESIGNATION_SIDE"===m?(0,_.jsxs)("div",{className:a,style:{width:"100%"},children:[(0,_.jsx)("div",{className:l,style:{width:"50%"},children:(0,_.jsx)(v,{index:j,setIndex:C})}),(0,_.jsxs)("div",{className:d,style:{width:"50%"},children:[0===j&&(0,_.jsx)(N,{viewAs:m,instituteId:h}),1===j&&(0,_.jsx)(D.Z,{children:(0,_.jsx)(b,{leavingform:t,setLeavingForm:i,student:r,setStudent:o,download:c,setDownload:u,toggle:f,setToggle:g,status:"leaving",viewAs:m,instituteId:h})}),2===j&&(0,_.jsx)(D.Z,{children:(0,_.jsx)(b,{leavingform:t,setLeavingForm:i,student:r,setStudent:o,download:c,setDownload:u,toggle:f,setToggle:g,status:"transfer",viewAs:m,instituteId:h})})]})]}):(0,_.jsxs)("div",{className:a,children:[(0,_.jsx)("div",{className:l,children:(0,_.jsx)(v,{index:j,setIndex:C})}),(0,_.jsxs)("div",{className:d,children:[0===j&&(0,_.jsx)(N,{}),1===j&&(0,_.jsx)(D.Z,{children:(0,_.jsx)(b,{leavingform:t,setLeavingForm:i,student:r,setStudent:o,download:c,setDownload:u,toggle:f,setToggle:g,status:"leaving"})}),2===j&&(0,_.jsx)(D.Z,{children:(0,_.jsx)(b,{leavingform:t,setLeavingForm:i,student:r,setStudent:o,download:c,setDownload:u,toggle:f,setToggle:g,status:"transfer"})})]})]})})}},94804:function(e,t){t.Z={complaintDetails:"CertificateDetail_complaintDetails__mrZJG",detailsHeader:"CertificateDetail_detailsHeader__6Kk2N",detailsBody:"CertificateDetail_detailsBody__O0F0S",gr:"CertificateDetail_gr__RIRDb",getBtn:"CertificateDetail_getBtn__KC+7Y",details:"CertificateDetail_details__vxdQN",details2:"CertificateDetail_details2__KH65e",downloadbtn:"CertificateDetail_downloadbtn__enZ0E",disabled:"CertificateDetail_disabled__YROxh",errMsg:"CertificateDetail_errMsg__6GjM0",item:"CertificateDetail_item__jbH29",options:"CertificateDetail_options__omOgo",option:"CertificateDetail_option__NJFoR",down:"CertificateDetail_down__gXMcI",up:"CertificateDetail_up__Hpx-y",selectPlayer:"CertificateDetail_selectPlayer__-BBFS",inputt:"CertificateDetail_inputt__5KtvE",greyInk:"CertificateDetail_greyInk__7whKh"}}}]);
//# sourceMappingURL=427.27e20145.chunk.js.map