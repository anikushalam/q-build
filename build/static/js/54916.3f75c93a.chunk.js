"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[54916,63687,49984],{68190:(e,t,l)=>{l.r(t),l.d(t,{default:()=>Z});var s=l(39230),i=l(72791),a=l(23441),d=l(98684),n=l(56959),c=l(90904),o=l(21348),r=l(77302),u=l(91427),v=l(57588),h=l(2651),m=l(55336),_=l(1669),x=l(9228),j=l(89064),f=l(80184);const p=e=>{let{onClose:t,menuData:l,did:a}=e;const{t:d}=(0,s.$G)(),[n,c]=(0,i.useState)(!1),[o]=(0,r.vh)(),{instituteDepartmentDashboardRefetch:u}=(0,r.Id)({data:{did:a},skip:!a});return console.info("Asfdsfg",l),(0,f.jsx)(j.Z,{onClose:t,disabled:n,children:(0,f.jsx)("h6",{onClick:()=>{var e,s;null!==l&&void 0!==l&&null!==(e=l.u_batch)&&void 0!==e&&e._id&&a&&(c((e=>!e)),o({bid:null===l||void 0===l||null===(s=l.u_batch)||void 0===s?void 0:s._id,did:a}).then((()=>{u(),c((e=>!e)),t()})).catch({}))},children:d("select_batch")})})},g=e=>{var t,l,s;let{batch:a,did:n,selectBatchId:c}=e;const[o,r]=(0,i.useState)("");return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:c===(null===a||void 0===a||null===(t=a.u_batch)||void 0===t?void 0:t._id)?"".concat(x.Z.iadcc_card_hover," ").concat(x.Z.sf_card_active):x.Z.iadcc_card_hover,children:[(0,f.jsxs)("div",{className:x.Z.sf_card_contatiner,children:[(0,f.jsx)("img",{src:"".concat(d.J7,"/batch.svg"),loading:"lazy",alt:"avatar",style:{borderRadius:"0",height:"2rem",width:"2rem"}}),(0,f.jsx)("div",{className:x.Z.sf_card_contatiner_inner,children:(0,f.jsx)("h6",{children:null!==(l=null===a||void 0===a||null===(s=a.u_batch)||void 0===s?void 0:s.batchName)&&void 0!==l?l:""})})]}),(0,f.jsx)("img",{src:"".concat(d.J7,"/menu.svg"),alt:"menu icon",onClick:()=>{r(a)}})]}),o&&(0,f.jsx)(p,{onClose:()=>{r("")},menuData:o,did:n})]})},Z=e=>{var t,l,x;let{did:j,openAs:p,selectBatchId:Z}=e;const{t:N}=(0,s.$G)(),[y,b]=(0,i.useState)(""),[I,S]=(0,i.useState)(1),[T,C]=(0,i.useState)(!0),[A,E]=(0,a.YD)({skip:y}),{academicDepartmentAllBatch:k,academicDepartmentAllBatchLoading:D}=(0,r.cm)({data:{did:j,page:I,limit:10,search:y},skip:!j});(0,i.useEffect)((()=>{E&&T&&S((e=>e+1))}),[E,T]),(0,i.useEffect)((()=>{var e;if(null!==k&&void 0!==k&&null!==(e=k.list)&&void 0!==e&&e.length){var t;let e=(0,u.f)(null===k||void 0===k||null===(t=k.list)||void 0===t?void 0:t.length);C((()=>e))}}),[null===k||void 0===k?void 0:k.list]);const P=(0,i.useCallback)((0,v.J)((e=>{S((()=>1)),b(e)}),1500),[]),R=e=>{e.target.value?P(e.target.value):(S((()=>1)),b(""))};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(o.default,{children:"DEPARTMENT_HEAD"===p?(0,f.jsxs)("div",{className:n.Z.fm_header_container,children:[(0,f.jsx)("h6",{children:N("batches")}),(0,f.jsx)("div",{className:n.Z.fm_search,children:(0,f.jsx)("section",{className:n.Z.fm_search_container,children:(0,f.jsxs)("div",{className:n.Z.fm_search_container_inner,children:[(0,f.jsx)("img",{className:n.Z.fm_search_icon,alt:"search icon",src:"".concat(d.dB,"/navbar-search.svg")}),(0,f.jsx)("input",{type:"text",placeholder:N("search"),onChange:R})]})})})]}):(0,f.jsx)("div",{className:n.Z.fm_search_full,children:(0,f.jsx)("section",{className:n.Z.fm_search_full_container,children:(0,f.jsxs)("div",{className:n.Z.fm_search_full_container_inner,children:[(0,f.jsx)("img",{className:n.Z.fm_search_full_icon,alt:"search icon",src:"".concat(d.dB,"/navbar-search.svg")}),(0,f.jsx)("input",{type:"text",placeholder:N("search"),onChange:R})]})})})}),(0,f.jsx)(c.Z,{}),(0,f.jsxs)(o.default,{customStyle:{paddingTop:"0.3rem",paddingBottom:"1rem"},children:[null===k||void 0===k||null===(t=k.list)||void 0===t?void 0:t.map(((e,t)=>{var l;return(null===k||void 0===k||null===(l=k.list)||void 0===l?void 0:l.length)===t+1?(0,f.jsx)("div",{ref:A,children:(0,f.jsx)(g,{batch:e,did:j,selectBatchId:Z})},null===e||void 0===e?void 0:e._id):(0,f.jsx)(g,{batch:e,did:j,selectBatchId:Z},null===e||void 0===e?void 0:e._id)})),D?y?(0,f.jsx)(m.default,{}):(0,f.jsx)(_.Z,{}):y?0===(null===k||void 0===k||null===(l=k.list)||void 0===l?void 0:l.length)&&(0,f.jsx)(h.Z,{title:"No batch found related this search."}):0===(null===k||void 0===k||null===(x=k.list)||void 0===x?void 0:x.length)&&(0,f.jsx)(h.Z,{title:"No batch."})]})]})}},49984:(e,t,l)=>{l.r(t),l.d(t,{default:()=>Z});var s=l(39230),i=l(72791),a=l(23441),d=l(98684),n=l(56959),c=l(90904),o=l(21348),r=l(77302),u=l(91427),v=l(57588),h=l(2651),m=l(55336),_=l(1669),x=l(16871),j=l(43504),f=l(9228),p=l(80184);const g=e=>{var t,l,s,i,a;let{cls:n,instituteId:c,openAs:o}=e;const r=(0,x.UO)(),u=(0,x.TH)();return(0,p.jsx)(j.rU,{to:"DEPARTMENT_HEAD"===o?"/q/".concat(r.username,"/member/staff/academic/department/").concat(r.name,"?type=cls-detail"):"/q/".concat(r.username,"/institute/member/academic/department/detail?type=cls-detail"),state:{...u.state,clsId:null===n||void 0===n?void 0:n._id,clsName:"".concat(null===n||void 0===n?void 0:n.className," (").concat(null!==(t=null===n||void 0===n||null===(l=n.department)||void 0===l?void 0:l.dName)&&void 0!==t?t:"",")"),instituteId:c},children:(0,p.jsx)("div",{className:f.Z.iadcc_card_hover,children:(0,p.jsxs)("div",{className:f.Z.sf_card_contatiner,children:[(0,p.jsx)("img",{src:"".concat(d.wP,"/cls-icon.svg"),loading:"lazy",alt:"avatar",style:{borderRadius:"0",height:"2rem",width:"2rem"}}),(0,p.jsx)("div",{className:f.Z.sf_card_contatiner_inner,children:(0,p.jsxs)("h6",{children:[null!==(s=null===n||void 0===n?void 0:n.className)&&void 0!==s?s:"",(0,p.jsxs)("span",{style:{fontSize:"12px"},children:[" ","(",null!==(i=null===n||void 0===n||null===(a=n.department)||void 0===a?void 0:a.dName)&&void 0!==i?i:"",")"]})]})})]})})})},Z=e=>{var t,l,x;let{did:j,instituteId:f,openAs:Z}=e;const{t:N}=(0,s.$G)(),[y,b]=(0,i.useState)(""),[I,S]=(0,i.useState)(1),[T,C]=(0,i.useState)(!0),[A,E]=(0,a.YD)({skip:y}),{academicDepartmentAllClassMaster:k,academicDepartmentAllClassMasterLoading:D}=(0,r.fJ)({data:{did:j,page:I,limit:10,search:y},skip:!j});(0,i.useEffect)((()=>{E&&T&&S((e=>e+1))}),[E,T]),(0,i.useEffect)((()=>{var e;if(null!==k&&void 0!==k&&null!==(e=k.list)&&void 0!==e&&e.length){var t;let e=(0,u.f)(null===k||void 0===k||null===(t=k.list)||void 0===t?void 0:t.length);C((()=>e))}}),[null===k||void 0===k?void 0:k.list]);const P=(0,i.useCallback)((0,v.J)((e=>{S((()=>1)),b(e)}),1500),[]),R=e=>{e.target.value?P(e.target.value):(S((()=>1)),b(""))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.default,{children:"DEPARTMENT_HEAD"===Z?(0,p.jsxs)("div",{className:n.Z.fm_header_container,children:[(0,p.jsx)("h6",{children:N("classes")}),(0,p.jsx)("div",{className:n.Z.fm_search,children:(0,p.jsx)("section",{className:n.Z.fm_search_container,children:(0,p.jsxs)("div",{className:n.Z.fm_search_container_inner,children:[(0,p.jsx)("img",{className:n.Z.fm_search_icon,alt:"search icon",src:"".concat(d.dB,"/navbar-search.svg")}),(0,p.jsx)("input",{type:"text",placeholder:N("search"),onChange:R})]})})})]}):(0,p.jsx)("div",{className:n.Z.fm_search_full,children:(0,p.jsx)("section",{className:n.Z.fm_search_full_container,children:(0,p.jsxs)("div",{className:n.Z.fm_search_full_container_inner,children:[(0,p.jsx)("img",{className:n.Z.fm_search_full_icon,alt:"search icon",src:"".concat(d.dB,"/navbar-search.svg")}),(0,p.jsx)("input",{type:"text",placeholder:N("search"),onChange:R})]})})})}),(0,p.jsx)(c.Z,{}),(0,p.jsxs)(o.default,{customStyle:{paddingTop:"0.3rem",paddingBottom:"1rem"},children:[null===k||void 0===k||null===(t=k.list)||void 0===t?void 0:t.map(((e,t)=>{var l;return(null===k||void 0===k||null===(l=k.list)||void 0===l?void 0:l.length)===t+1?(0,p.jsx)("div",{ref:A,children:(0,p.jsx)(g,{cls:e,instituteId:f,openAs:Z})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(g,{cls:e,instituteId:f,openAs:Z},null===e||void 0===e?void 0:e._id)})),D?y?(0,p.jsx)(m.default,{}):(0,p.jsx)(_.Z,{}):y?0===(null===k||void 0===k||null===(l=k.list)||void 0===l?void 0:l.length)&&(0,p.jsx)(h.Z,{title:"No class found related this search."}):0===(null===k||void 0===k||null===(x=k.list)||void 0===x?void 0:x.length)&&(0,p.jsx)(h.Z,{title:"No class."})]})]})}},94071:(e,t,l)=>{l.r(t),l.d(t,{default:()=>J});var s=l(20712),i=l(18725),a=l(2205),d=l(72156),n=l(63687),c=l(16871),o=l(43504),r=l(98684),u=l(39230),v=l(77302),h=l(72791),m=l(89064),_=l(33992),x=l(85794),j=l(16184),f=l(55369),p=l(80184);const g=e=>{let{onClose:t,menuData:l,onRefetch:s}=e;const{t:i}=(0,u.$G)(),[a,d]=(0,h.useState)(!1),[n,o]=(0,h.useState)(""),[r,v]=(0,h.useState)({open:!1,msg:"",variant:"error"}),g=(0,c.s0)(),[Z]=(0,_.$1)(),[N]=(0,_.MQ)(),[y]=(0,_.nr)(),b=()=>{o("")};return(0,p.jsxs)(p.Fragment,{children:[1===n?(0,p.jsx)(j.Z,{onClose:()=>o(""),onParentClose:t,instituteId:null===l||void 0===l?void 0:l.institute,departmentId:null===l||void 0===l?void 0:l._id,onReftech:s}):2===n?(0,p.jsx)(f.Z,{isEdit:!0,onEditAction:e=>{if(null!==l&&void 0!==l&&l._id){var i;b(),d((e=>!e));const a={dName:(null===l||void 0===l?void 0:l.dName)===e.dName?"":e.dName,dTitle:(null===l||void 0===l?void 0:l.dTitle)===e.dTitle?"":e.dTitle,sid:(null===l||void 0===l||null===(i=l.dHead)||void 0===i?void 0:i._id)===e.sid?"":e.sid,gr_initials:(null===l||void 0===l?void 0:l.gr_initials)===e.gr_initials?"":e.gr_initials};y({did:null===l||void 0===l?void 0:l._id,department:a}).then((()=>{s(),d((e=>!e)),t()})).catch({})}},menuData:l,onClose:b,instituteId:null===l||void 0===l?void 0:l.institute}):(0,p.jsxs)(m.Z,{onClose:t,disabled:a,customStyle:{width:"15rem"},children:["Pinned"===(null===l||void 0===l?void 0:l.pin_status)?(0,p.jsx)("h6",{onClick:()=>{null!==l&&void 0!==l&&l.institute&&null!==l&&void 0!==l&&l.pin_status_flow&&(d((e=>!e)),N({id:null===l||void 0===l?void 0:l.institute,bodyParameter:{did:"DEPENDENT"===(null===l||void 0===l?void 0:l.pin_status_flow)?null===l||void 0===l?void 0:l.pin_status_id:null===l||void 0===l?void 0:l._id,flow:null===l||void 0===l?void 0:l.pin_status_flow}}).then((()=>{s(),d((e=>!e)),t()})).catch({}))},children:i("unpin_department")}):(0,p.jsx)("h6",{onClick:()=>o(1),children:i("pin_department")}),(0,p.jsx)("h6",{onClick:()=>o(2),children:i("edit")}),(0,p.jsx)("h6",{onClick:()=>{null!==l&&void 0!==l&&l._id&&(d((e=>!e)),Z({did:null===l||void 0===l?void 0:l._id}).then((e=>{var l,s;null!==e&&void 0!==e&&null!==(l=e.data)&&void 0!==l&&l.error?(v({msg:null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.message,open:!0,variant:"error"}),d((e=>!e))):(d((e=>!e)),g(-1),t())})))},children:i("delete")})]}),(0,p.jsx)(x.Z,{eventState:r,eventStateHandler:v})]})},Z=()=>{var e,t,l,s,i,a,n,m,_,x,j,f,Z;const{t:N}=(0,u.$G)(),y=(0,c.UO)(),[b,I]=(0,h.useState)(!1),S=(0,c.TH)(),{instituteDepartmentDashboard:T,instituteDepartmentDashboardRefetch:C}=(0,v.Id)({data:{did:null===(e=S.state)||void 0===e?void 0:e.departmentId},skip:!(null!==(t=S.state)&&void 0!==t&&t.departmentId)}),A=()=>{I((e=>!e))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:d.Z.iadds_continer,children:[(0,p.jsx)("img",{src:"".concat(r.wP,"/cover.svg"),alt:"department cover icon",className:d.Z.iads_cover}),(0,p.jsx)(o.rU,{to:"/q/".concat(y.username,"/institute/member/academic/department/detail?a=site"),state:S.state,style:{textDecoration:"none"},children:(0,p.jsx)("img",{className:d.Z.iaddsc_globe,src:"".concat(r.wP,"/globe.svg"),alt:"edit icon"})}),(0,p.jsx)("img",{className:d.Z.iaddsc_edit,src:"".concat(r.wP,"/edit.svg"),alt:"edit icon",onClick:A})]}),(0,p.jsx)("section",{className:d.Z.iads_card,style:{marginTop:"-1.5rem",borderTopLeftRadius:"1rem",borderTopRightRadius:"1rem",backgroundColor:"#ffffff",position:"relative",padding:"0"},children:(0,p.jsx)("section",{className:"".concat(d.Z.iads_card," ").concat(d.Z.iads_card_active),children:(0,p.jsxs)("div",{className:d.Z.iadsc_inner,children:[(0,p.jsx)("h6",{children:"".concat(null===T||void 0===T?void 0:T.dTitle,": ").concat(null!==(l=null===T||void 0===T||null===(s=T.dHead)||void 0===s?void 0:s.staffFirstName)&&void 0!==l?l:""," ").concat(null!==(i=null===T||void 0===T||null===(a=T.dHead)||void 0===a?void 0:a.staffMiddleName)&&void 0!==i?i:""," ").concat(null!==(n=null===T||void 0===T||null===(m=T.dHead)||void 0===m?void 0:m.staffLastName)&&void 0!==n?n:"")}),(0,p.jsx)("p",{style:{color:"#121212",fontSize:"12px"},children:(null===T||void 0===T||null===(_=T.active_academic_batch)||void 0===_?void 0:_.batchName)||N("not_active_batch")})]})})}),(0,p.jsxs)("section",{className:d.Z.iads_card,children:[(0,p.jsxs)("div",{className:d.Z.iadsc_inner,children:[(0,p.jsx)("h6",{children:N("classrooms")}),(0,p.jsx)("p",{children:N("class_in_batch")})]}),(0,p.jsx)("h6",{children:(null===T||void 0===T||null===(x=T.departmentSelectBatch)||void 0===x||null===(j=x.classroom)||void 0===j?void 0:j.length)||0})]}),(0,p.jsxs)("section",{className:d.Z.iads_card,children:[(0,p.jsxs)("div",{className:d.Z.iadsc_inner,children:[(0,p.jsx)("h6",{children:N("total_staffs")}),(0,p.jsx)("p",{children:N("active_staff")})]}),(0,p.jsx)("h6",{children:(null===T||void 0===T?void 0:T.staffCount)||0})]}),(0,p.jsxs)("section",{className:d.Z.iads_card,style:{borderBottom:"0"},children:[(0,p.jsxs)("div",{className:d.Z.iadsc_inner,children:[(0,p.jsx)("h6",{children:N("total_students")}),(0,p.jsx)("p",{children:N("student_studying")})]}),(0,p.jsx)("h6",{children:(null===T||void 0===T||null===(f=T.departmentSelectBatch)||void 0===f||null===(Z=f.ApproveStudent)||void 0===Z?void 0:Z.length)||0})]}),b&&(0,p.jsx)(g,{onClose:A,menuData:T,onRefetch:C})]})};var N=l(55336);const y=()=>{const e=(0,c.UO)(),{t:t}=(0,u.$G)(),[l]=(0,o.lr)(),s=(0,c.TH)();return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("section",{className:d.Z.iadt_container,children:[(0,p.jsx)(o.rU,{to:"/q/".concat(e.username,"/institute/member/academic/department/detail?type=cls"),className:"cls"!==l.get("type")&&l.get("type")?d.Z.iadtc_card:"".concat(d.Z.iadtc_card," ").concat(d.Z.iadtc_card_active),style:{borderTopLeftRadius:"6px"},state:s.state,children:(0,p.jsx)("h6",{children:t("class")})}),(0,p.jsx)(o.rU,{to:"/q/".concat(e.username,"/institute/member/academic/department/detail?type=master"),className:"master"===l.get("type")?"".concat(d.Z.iadtc_card," ").concat(d.Z.iadtc_card_active):d.Z.iadtc_card,state:s.state,children:(0,p.jsx)("h6",{children:t("masters")})}),(0,p.jsx)(o.rU,{to:"/q/".concat(e.username,"/institute/member/academic/department/detail?type=batch"),className:"batch"===l.get("type")?"".concat(d.Z.iadtc_card," ").concat(d.Z.iadtc_card_active):d.Z.iadtc_card,state:s.state,children:(0,p.jsx)("h6",{children:t("batches")})}),(0,p.jsx)(o.rU,{to:"/q/".concat(e.username,"/institute/member/academic/department/detail?type=staff"),className:"staff"===l.get("type")?"".concat(d.Z.iadtc_card," ").concat(d.Z.iadtc_card_active):d.Z.iadtc_card,state:s.state,children:(0,p.jsx)("h6",{children:t("staffs")})}),(0,p.jsx)(o.rU,{to:"/q/".concat(e.username,"/institute/member/academic/department/detail?type=student"),className:"student"===l.get("type")?"".concat(d.Z.iadtc_card," ").concat(d.Z.iadtc_card_active):d.Z.iadtc_card,style:{borderTopRightRadius:"6px"},state:s.state,children:(0,p.jsx)("h6",{children:t("students")})})]})})};var b=l(15233),I=l(19910),S=l(68190),T=l(87732),C=l(49984);const A=e=>{var t,l,s,i,a;let{instituteId:d,selectBatchId:n}=e;const[r]=(0,o.lr)(),u=(0,c.TH)();return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(h.Suspense,{fallback:(0,p.jsx)(N.default,{}),children:[(0,p.jsx)(y,{}),"staff"===r.get("type")?(0,p.jsx)(b.Z,{did:null===(t=u.state)||void 0===t?void 0:t.departmentId}):"student"===r.get("type")?(0,p.jsx)(I.Z,{did:null===(l=u.state)||void 0===l?void 0:l.departmentId}):"batch"===r.get("type")?(0,p.jsx)(S.default,{did:null===(s=u.state)||void 0===s?void 0:s.departmentId,selectBatchId:n}):"master"===r.get("type")?(0,p.jsx)(T.default,{did:null===(i=u.state)||void 0===i?void 0:i.departmentId,instituteId:d}):"cls"!==r.get("type")&&r.get("type")?null:(0,p.jsx)(C.default,{did:null===(a=u.state)||void 0===a?void 0:a.departmentId,instituteId:d})]})})};var E=l(20890);const k=()=>{var e,t,l,s,i,a,n;const{t:o}=(0,u.$G)(),h=(0,c.TH)(),{academicClassDetail:m}=(0,v.$3)({data:{cid:null===(e=h.state)||void 0===e?void 0:e.clsId,did:null===(t=h.state)||void 0===t?void 0:t.departmentId},skip:null!==(l=h.state)&&void 0!==l&&l.clsId?!(null!==(i=h.state)&&void 0!==i&&i.departmentId):!(null!==(s=h.state)&&void 0!==s&&s.clsId)});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:d.Z.iadds_continer,children:(0,p.jsx)("img",{src:"".concat(r.wP,"/cls-cover.svg"),alt:"department cover icon",className:d.Z.iads_cover})}),(0,p.jsx)("section",{className:d.Z.iads_card,style:{marginTop:"-1.5rem",borderTopLeftRadius:"1rem",borderTopRightRadius:"1rem",backgroundColor:"#ffffff",position:"relative",padding:"0"},children:(0,p.jsx)("section",{className:"".concat(d.Z.iads_card," ").concat(d.Z.iads_card_active),children:(0,p.jsx)("div",{className:d.Z.iadsc_inner,children:(0,p.jsx)("h6",{children:null!==(a=null===(n=h.state)||void 0===n?void 0:n.clsName)&&void 0!==a?a:""})})})}),(0,p.jsxs)("section",{className:d.Z.iads_card,children:[(0,p.jsxs)("div",{className:d.Z.iadsc_inner,children:[(0,p.jsx)("h6",{children:o("total_students")}),(0,p.jsx)("p",{children:o("student_studying_in_class")})]}),(0,p.jsx)("h6",{children:(null===m||void 0===m?void 0:m.all_student)||0})]}),(0,p.jsxs)("section",{className:d.Z.iads_card,children:[(0,p.jsxs)("div",{className:d.Z.iadsc_inner,children:[(0,p.jsx)("h6",{children:o("total_theory_classes")}),(0,p.jsx)("p",{children:o("total_theory_classes_in")})]}),(0,p.jsx)("h6",{children:(null===m||void 0===m?void 0:m.theory_classes)||0})]}),(0,p.jsxs)("section",{className:d.Z.iads_card,style:{borderBottom:"0"},children:[(0,p.jsxs)("div",{className:d.Z.iadsc_inner,children:[(0,p.jsx)("h6",{children:o("total_practical_batches")}),(0,p.jsx)("p",{children:o("total_practical_batches_in")})]}),(0,p.jsx)("h6",{children:(null===m||void 0===m?void 0:m.practical_batch)||0})]})]})};var D=l(53277),P=l(23558);const R=()=>{const e=(0,c.UO)(),t=(0,c.TH)(),[l]=(0,o.lr)();return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(D.Z,{customStyle:{borderTopLeftRadius:"6px",borderTopRightRadius:"6px"},children:w.map((s=>(0,p.jsx)(P.Z,{label:s.label,isLink:!0,isActive:"student"===s.id&&!l.get("n")||l.get("n")===s.id,parentState:t.state,url:"/q/".concat(e.username,"/institute/member/academic/department/detail?type=cls-detail").concat(s.urlKey),isAuthorized:!0},null===s||void 0===s?void 0:s.id)))})})},w=[{label:"students",id:"student",urlKey:""},{label:"dse_student",id:"dse",urlKey:"&n=dse"},{label:"theory_classes",id:"theory",urlKey:"&n=theory"},{label:"practical_batches",id:"practical",urlKey:"&n=practical"}];var B=l(78911),L=l(14747),F=l(78378),H=l(17695);const U=()=>{var e,t,l,s;const i=(0,c.TH)(),[a]=(0,o.lr)();return(0,p.jsx)(p.Fragment,{children:a.get("n")?"dse"===a.get("n")?(0,p.jsx)(H.Z,{clsId:null===(t=i.state)||void 0===t?void 0:t.clsId}):"theory"===a.get("n")?(0,p.jsx)(F.Z,{clsId:null===(l=i.state)||void 0===l?void 0:l.clsId,instituteId:i.state.instituteId}):"practical"===a.get("n")?(0,p.jsx)(L.Z,{clsId:null===(s=i.state)||void 0===s?void 0:s.clsId,instituteId:i.state.instituteId}):null:(0,p.jsx)(B.Z,{clsId:null===(e=i.state)||void 0===e?void 0:e.clsId})})};var G=l(1844),$=l(36077);const M=()=>{var e,t;const[l]=(0,o.lr)(),r=(0,c.TH)();return(0,p.jsx)(s.Z,{children:(0,p.jsxs)(i.Z,{children:[(0,p.jsx)("div",{className:d.Z.iadc_side,children:(0,p.jsxs)(n.default,{customStyle:{minHeight:"fit-content",paddingBottom:"0"},children:[(0,p.jsx)(a.Z,{customStyle:{width:"100%",marginTop:"0"}}),(0,p.jsx)(k,{})]})}),(0,p.jsx)("div",{className:d.Z.iadc_main,children:(0,p.jsx)(n.default,{customStyle:{paddingBottom:"0"},children:"theory-detail"===l.get("n")?(0,p.jsx)(G.default,{clsId:null===(e=r.state)||void 0===e?void 0:e.clsId,instituteId:r.state.instituteId}):"practical-detail"===l.get("n")?(0,p.jsx)($.default,{clsId:null===(t=r.state)||void 0===t?void 0:t.clsId,instituteId:r.state.instituteId}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(R,{}),(0,p.jsx)(U,{})]})})})]})})},J=()=>{var e,t,l,r;const[u]=(0,o.lr)(),h=(0,c.TH)(),{instituteDepartmentDashboard:m}=(0,v.Id)({data:{did:null===(e=h.state)||void 0===e?void 0:e.departmentId},skip:!(null!==(t=h.state)&&void 0!==t&&t.departmentId)});return(0,p.jsx)(p.Fragment,{children:"site"===u.get("a")?(0,p.jsx)(E.Z,{did:null===(l=h.state)||void 0===l?void 0:l.departmentId,viewAs:"INSTITUTE",isNavbar:!0}):"cls-detail"===u.get("type")?(0,p.jsx)(M,{}):(0,p.jsx)(s.Z,{children:(0,p.jsxs)(i.Z,{children:[(0,p.jsx)("div",{className:d.Z.iadc_side,children:(0,p.jsxs)(n.default,{customStyle:{minHeight:"fit-content",paddingBottom:"0"},children:[(0,p.jsx)(a.Z,{customStyle:{width:"100%",marginTop:"0"}}),(0,p.jsx)(Z,{})]})}),(0,p.jsx)("div",{className:d.Z.iadc_main,children:(0,p.jsx)(n.default,{customStyle:{paddingBottom:"0"},children:(0,p.jsx)(A,{instituteId:null===m||void 0===m?void 0:m.institute,selectBatchId:null===m||void 0===m||null===(r=m.active_academic_batch)||void 0===r?void 0:r._id})})})]})})})}},15233:(e,t,l)=>{l.d(t,{Z:()=>N});var s=l(39230),i=l(72791),a=l(23441),d=l(98684),n=l(56959),c=l(90904),o=l(21348),r=l(77302),u=l(91427),v=l(57588),h=l(2651),m=l(55336),_=l(1669),x=l(16871),j=l(43504),f=l(9228),p=l(1095),g=l(80184);const Z=e=>{var t,l,i,a;let{staff:n,openAs:c}=e;const o=(0,x.UO)(),{t:r}=(0,s.$G)();return(0,g.jsx)(j.rU,{to:"/q/".concat(o.username,"/staff/profile"),state:{sid:null===n||void 0===n?void 0:n._id,viewAs:c||"INSTITUTE"},children:(0,g.jsx)("div",{className:f.Z.iadcc_card_hover,children:(0,g.jsxs)("div",{className:f.Z.sf_card_contatiner,children:[(0,g.jsx)("img",{src:null!==n&&void 0!==n&&n.staffProfilePhoto?"".concat(p.yI,"/").concat(n.staffProfilePhoto):"".concat(d.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar",style:{width:"2.5rem",height:"2.5rem"}}),(0,g.jsxs)("div",{className:f.Z.sf_card_contatiner_inner,children:[(0,g.jsx)("h6",{children:"".concat(null!==(t=null===n||void 0===n?void 0:n.staffFirstName)&&void 0!==t?t:""," ").concat(null!==(l=null===n||void 0===n?void 0:n.staffMiddleName)&&void 0!==l?l:""," ").concat(null!==(i=null===n||void 0===n?void 0:n.staffLastName)&&void 0!==i?i:"")}),(0,g.jsxs)("p",{children:[r("index_number")," ",": ",null!==(a=null===n||void 0===n?void 0:n.staffROLLNO)&&void 0!==a?a:""]})]})]})})})},N=e=>{var t,l,x;let{did:j,openAs:f}=e;const{t:p}=(0,s.$G)(),[N,y]=(0,i.useState)(""),[b,I]=(0,i.useState)(1),[S,T]=(0,i.useState)(!0),[C,A]=(0,a.YD)({skip:N}),{academicDepartmentAllStaff:E,academicDepartmentAllStaffLoading:k}=(0,r.MA)({data:{did:j,page:b,limit:10,search:N},skip:!j});(0,i.useEffect)((()=>{A&&S&&I((e=>e+1))}),[A,S]),(0,i.useEffect)((()=>{var e;if(null!==E&&void 0!==E&&null!==(e=E.list)&&void 0!==e&&e.length){var t;let e=(0,u.f)(null===E||void 0===E||null===(t=E.list)||void 0===t?void 0:t.length);T((()=>e))}}),[null===E||void 0===E?void 0:E.list]);const D=(0,i.useCallback)((0,v.J)((e=>{I((()=>1)),y(e)}),1500),[]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(o.default,{customStyle:"DEPARTMENT_HEAD"===f?{padding:"0",paddingTop:"1rem"}:{paddingTop:"1rem"},children:(0,g.jsx)("div",{className:n.Z.fm_search_full,children:(0,g.jsx)("section",{className:n.Z.fm_search_full_container,children:(0,g.jsxs)("div",{className:n.Z.fm_search_full_container_inner,children:[(0,g.jsx)("img",{className:n.Z.fm_search_full_icon,alt:"search icon",src:"".concat(d.dB,"/navbar-search.svg")}),(0,g.jsx)("input",{type:"text",placeholder:p("search"),onChange:e=>{e.target.value?D(e.target.value):(I((()=>1)),y(""))}})]})})})}),(0,g.jsx)(c.Z,{}),(0,g.jsxs)(o.default,{customStyle:"DEPARTMENT_HEAD"===f?{padding:"0",paddingBottom:"1rem"}:{paddingTop:"0.3rem",paddingBottom:"1rem"},children:[null===E||void 0===E||null===(t=E.list)||void 0===t?void 0:t.map(((e,t)=>{var l;return(null===E||void 0===E||null===(l=E.list)||void 0===l?void 0:l.length)===t+1?(0,g.jsx)("div",{ref:C,children:(0,g.jsx)(Z,{staff:e,openAs:f})},null===e||void 0===e?void 0:e._id):(0,g.jsx)(Z,{staff:e,openAs:f},null===e||void 0===e?void 0:e._id)})),k?N?(0,g.jsx)(m.default,{}):(0,g.jsx)(_.Z,{}):N?0===(null===E||void 0===E||null===(l=E.list)||void 0===l?void 0:l.length)&&(0,g.jsx)(h.Z,{title:"No staff found related this search."}):0===(null===E||void 0===E||null===(x=E.list)||void 0===x?void 0:x.length)&&(0,g.jsx)(h.Z,{title:"No staff."})]})]})}},19910:(e,t,l)=>{l.d(t,{Z:()=>N});var s=l(39230),i=l(72791),a=l(23441),d=l(98684),n=l(56959),c=l(90904),o=l(21348),r=l(77302),u=l(91427),v=l(57588),h=l(2651),m=l(55336),_=l(1669),x=l(16871),j=l(43504),f=l(9228),p=l(1095),g=l(80184);const Z=e=>{var t,l,i,a;let{student:n,openAs:c}=e;const o=(0,x.UO)(),{t:r}=(0,s.$G)();return(0,g.jsx)(j.rU,{to:"/q/".concat(o.username,"/student/profile"),state:{sid:null===n||void 0===n?void 0:n._id,viewAs:c?"SUBJECT_TEACHER":"INSTITUTE"},children:(0,g.jsx)("div",{className:f.Z.iadcc_card_hover,children:(0,g.jsxs)("div",{className:f.Z.sf_card_contatiner,children:[(0,g.jsx)("img",{src:null!==n&&void 0!==n&&n.studentProfilePhoto?"".concat(p.yI,"/").concat(n.studentProfilePhoto):"".concat(d.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar",style:{width:"2.5rem",height:"2.5rem"}}),(0,g.jsxs)("div",{className:f.Z.sf_card_contatiner_inner,children:[(0,g.jsx)("h6",{children:"".concat(null!==(t=null===n||void 0===n?void 0:n.studentFirstName)&&void 0!==t?t:""," ").concat(null!==(l=null===n||void 0===n?void 0:n.studentMiddleName)&&void 0!==l?l:""," ").concat(null!==(i=null===n||void 0===n?void 0:n.studentLastName)&&void 0!==i?i:"")}),(0,g.jsxs)("p",{children:[r("gr_number")," ",": ",null!==(a=null===n||void 0===n?void 0:n.studentGRNO)&&void 0!==a?a:""]})]})]})})})},N=e=>{var t,l,x;let{did:j,openAs:f}=e;const{t:N}=(0,s.$G)(),[y,b]=(0,i.useState)(""),[I,S]=(0,i.useState)(1),[T,C]=(0,i.useState)(!0),[A,E]=(0,a.YD)({skip:y}),[k,D]=(0,i.useState)(!1),[P]=(0,r.Jz)(),{academicDepartmentAllStudent:R,academicDepartmentAllStudentLoading:w}=(0,r._r)({data:{did:j,page:I,limit:10,search:y},skip:!j});(0,i.useEffect)((()=>{E&&T&&S((e=>e+1))}),[E,T]),(0,i.useEffect)((()=>{var e;if(null!==R&&void 0!==R&&null!==(e=R.list)&&void 0!==e&&e.length){var t;let e=(0,u.f)(null===R||void 0===R||null===(t=R.list)||void 0===t?void 0:t.length);C((()=>e))}}),[null===R||void 0===R?void 0:R.list]);const B=(0,i.useCallback)((0,v.J)((e=>{S((()=>1)),b(e)}),1500),[]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(o.default,{customStyle:"DEPARTMENT_HEAD"===f?{padding:"0",paddingTop:"1rem"}:{paddingTop:"1rem"},children:(0,g.jsxs)("div",{className:n.Z.fm_search_full,children:[(0,g.jsx)("section",{className:n.Z.fm_search_full_container,children:(0,g.jsxs)("div",{className:n.Z.fm_search_full_container_inner,children:[(0,g.jsx)("img",{className:n.Z.fm_search_full_icon,alt:"search icon",src:"".concat(d.dB,"/navbar-search.svg")}),(0,g.jsx)("input",{type:"text",placeholder:N("search"),onChange:e=>{e.target.value?B(e.target.value):(S((()=>1)),b(""))}})]})}),(0,g.jsx)("img",{src:"".concat(d.J7,"/export.svg"),alt:"icon",title:"List Export",onClick:()=>{j&&(D((e=>!e)),P({did:j}).then((e=>{var t;if(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.set){var l;D((e=>!e));const t=window.open("".concat(p.LS,"/").concat(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.set),"_blank","noopener,noreferrer");t&&(t.opener=null)}else D((e=>!e))})).catch({}))}})]})}),(0,g.jsx)(c.Z,{}),(0,g.jsxs)(o.default,{customStyle:"DEPARTMENT_HEAD"===f?{padding:"0",paddingBottom:"1rem"}:{paddingTop:"0.3rem",paddingBottom:"1rem"},children:[null===R||void 0===R||null===(t=R.list)||void 0===t?void 0:t.map(((e,t)=>{var l;return(null===R||void 0===R||null===(l=R.list)||void 0===l?void 0:l.length)===t+1?(0,g.jsx)("div",{ref:A,children:(0,g.jsx)(Z,{student:e,openAs:f})},null===e||void 0===e?void 0:e._id):(0,g.jsx)(Z,{student:e,openAs:f},null===e||void 0===e?void 0:e._id)})),w?y?(0,g.jsx)(m.default,{}):(0,g.jsx)(_.Z,{}):y?0===(null===R||void 0===R||null===(l=R.list)||void 0===l?void 0:l.length)&&(0,g.jsx)(h.Z,{title:"No student found related this search."}):0===(null===R||void 0===R||null===(x=R.list)||void 0===x?void 0:x.length)&&(0,g.jsx)(h.Z,{title:"No student."})]}),k&&(0,g.jsx)(m.default,{})]})}},55369:(e,t,l)=>{l.d(t,{Z:()=>p});var s=l(72791),i=l(39230),a=l(90702),d=l(38857),n=l(21348),c=l(90904),o=l(93638),r=l(55336),u=l(16925),v=l(98684),h=l(57431),m=l(1095),_=l(61055),x=l(99183),j=l(77302),f=l(80184);const p=e=>{var t,l,p,g;let{instituteId:Z,onClose:N,onRefetch:y,onEditAction:b,menuData:I,isEdit:S}=e;const{t:T}=(0,i.$G)(),[C,A]=(0,s.useState)({dName:"",dTitle:"",sid:"",gr_initials:""}),[E,k]=(0,s.useState)(""),[D,P]=(0,s.useState)(1),[R,w]=(0,s.useState)(""),[B,L]=(0,s.useState)(!1),[F]=(0,j.ef)();(0,s.useEffect)((()=>{var e,t,l,s,i;S&&I&&(A({dName:null!==(e=null===I||void 0===I?void 0:I.dName)&&void 0!==e?e:"",dTitle:null!==(t=null===I||void 0===I?void 0:I.dTitle)&&void 0!==t?t:"",sid:null!==(l=null===I||void 0===I||null===(s=I.dHead)||void 0===s?void 0:s._id)&&void 0!==l?l:"",gr_initials:null!==(i=null===I||void 0===I?void 0:I.gr_initials)&&void 0!==i?i:""}),k(null===I||void 0===I?void 0:I.dHead))}),[S,I]);const H=(e,t)=>{var l;(null===(l=e.target.value)||void 0===l?void 0:l.length)<=t&&A((t=>({...t,[e.target.name]:e.target.value})))};return(0,f.jsx)(f.Fragment,{children:3===D?(0,f.jsx)(a.Z,{onSelectStaff:e=>{k(e),A((t=>({...t,sid:null===e||void 0===e?void 0:e._id}))),P(2)},onClose:()=>P(2),instituteId:Z}):(0,f.jsx)(d.Z,{onClose:N,children:(0,f.jsxs)("div",{className:u.Z.modal_container,children:[(0,f.jsx)(n.default,{children:(0,f.jsxs)("div",{className:u.Z.modal_container_outer_header,children:[(0,f.jsx)("div",{className:u.Z.modal_container_header,children:(0,f.jsx)("h6",{children:T(S?"edit_department":"add_new_dept")})}),(0,f.jsx)("img",{src:"".concat(v.J7,"/close.svg"),alt:"close icon",onClick:N})]})}),(0,f.jsx)(c.Z,{}),(0,f.jsxs)(n.default,{customStyle:{paddingTop:"0"},children:[(0,f.jsx)(_.Z,{label:T("department_name"),placeholder:T("dept_example"),name:"dName",value:C.dName,type:"text",onChange:e=>H(e,45),errorShow:R.dName}),(0,f.jsx)(h.Z,{maxLength:45,valueLength:C.dName}),(0,f.jsxs)("div",{className:u.Z.card_container_image,onClick:()=>P(3),style:{cursor:"pointer"},children:[(0,f.jsx)("img",{alt:"not found",src:null!==E&&void 0!==E&&E.staffProfilePhoto?"".concat(m.yI,"/").concat(E.staffProfilePhoto):"".concat(v.p3,"/feed-user-avatar.svg")}),(0,f.jsx)("div",{className:u.Z.card_container_inner,children:null!==E&&void 0!==E&&E.staffFirstName?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h6",{children:"".concat(null!==(t=null===E||void 0===E?void 0:E.staffFirstName)&&void 0!==t?t:""," \n                    ").concat(null!==(l=null===E||void 0===E?void 0:E.staffMiddleName)&&void 0!==l?l:"","\n                    ").concat(null!==(p=null===E||void 0===E?void 0:E.staffLastName)&&void 0!==p?p:"")}),(0,f.jsxs)("p",{children:[T("index_number_1")," ",null!==(g=null===E||void 0===E?void 0:E.staffROLLNO)&&void 0!==g?g:""]})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("h6",{children:[T("assign_dhead")," ",T("optional")]}),(0,f.jsx)("p",{children:T("search_from_joined_list")})]})})]}),(0,f.jsx)(_.Z,{label:T("give_dhead_title"),placeholder:T("dhead_example"),name:"dTitle",value:C.dTitle,type:"text",onChange:e=>H(e,40),errorShow:R.dTitle}),(0,f.jsx)(h.Z,{maxLength:40,valueLength:C.dTitle}),(0,f.jsx)(_.Z,{label:T("department_initials"),placeholder:T("department_initials_placeholder"),name:"gr_initials",value:C.gr_initials,type:"text",onChange:e=>H(e,10)}),(0,f.jsx)(h.Z,{maxLength:10,valueLength:C.gr_initials}),(0,f.jsx)(o.Z,{label:S?"update":"create",onAction:()=>{let e=(0,x.l)(C,["sid","gr_initials"]);(0,x.x)(e)?S?b(C):Z&&(L((e=>!e)),F({id:Z,bodyParameter:C}).then((()=>{y(),L((e=>!e)),N()})).catch({})):w(e)}})]}),B&&(0,f.jsx)(r.default,{})]})})})}},1844:(e,t,l)=>{l.r(t),l.d(t,{default:()=>A});var s=l(39230),i=l(72791),a=l(98684),d=l(56959),n=l(90904),c=l(21348),o=l(77302),r=l(57588),u=l(2651),v=l(55336),h=l(1669),m=l(93638),_=l(89064),x=l(80184);const j=e=>{let{subjectId:t,onClose:l,menuData:a,onRefetch:d}=e;const{t:n}=(0,s.$G)(),[c,r]=(0,i.useState)(!1),[u]=(0,o.Og)();return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(_.Z,{onClose:l,disabled:c,children:(0,x.jsx)("h6",{onClick:()=>{null!==a&&void 0!==a&&a._id&&t&&(r((e=>!e)),u({sid:t,bodyParameter:{students:[null===a||void 0===a?void 0:a._id]}}).then((()=>{d(),r((e=>!e)),l()})))},children:n("remove")})})})};var f=l(9228),p=l(1095),g=l(16871),Z=l(43504);const N=e=>{var t,l,d,n;let{student:c,openAs:o,onRefetch:r,subjectId:u}=e;const[v,h]=(0,i.useState)(!1),m=(0,g.UO)(),{t:_}=(0,s.$G)(),N=e=>{e&&e.preventDefault(),h((e=>!e))};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Z.rU,{to:"/q/".concat(m.username,"/student/profile"),state:{sid:null===c||void 0===c?void 0:c._id,viewAs:o?"SUBJECT_TEACHER":"INSTITUTE"},children:(0,x.jsxs)("div",{className:f.Z.iadcc_card_hover,children:[(0,x.jsxs)("div",{className:f.Z.sf_card_contatiner,children:[(0,x.jsx)("img",{src:null!==c&&void 0!==c&&c.studentProfilePhoto?"".concat(p.yI,"/").concat(c.studentProfilePhoto):"".concat(a.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar",style:{width:"2.5rem",height:"2.5rem"}}),(0,x.jsxs)("div",{className:f.Z.sf_card_contatiner_inner,children:[(0,x.jsx)("h6",{children:"".concat(null!==(t=null===c||void 0===c?void 0:c.studentFirstName)&&void 0!==t?t:""," ").concat(null!==(l=null===c||void 0===c?void 0:c.studentMiddleName)&&void 0!==l?l:""," ").concat(null!==(d=null===c||void 0===c?void 0:c.studentLastName)&&void 0!==d?d:"")}),(0,x.jsxs)("p",{children:[_("gr_number")," ",": ",null!==(n=null===c||void 0===c?void 0:c.studentGRNO)&&void 0!==n?n:""]})]})]}),(0,x.jsx)("img",{src:"".concat(a.J7,"/menu.svg"),alt:"menu icon",onClick:N})]})}),v&&(0,x.jsx)(j,{onClose:N,menuData:c,onRefetch:r,subjectId:u})]})};var y=l(59244),b=l(49806),I=l(38857);const S=e=>{var t,l,i,d;let{student:n}=e;const{t:c}=(0,s.$G)();return(0,x.jsx)("div",{className:f.Z.sf_card_hover,children:(0,x.jsxs)("div",{className:f.Z.sf_card_contatiner,children:[(0,x.jsx)("img",{src:null!==n&&void 0!==n&&n.studentProfilePhoto?"".concat(p.yI,"/").concat(n.studentProfilePhoto):"".concat(a.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,x.jsxs)("div",{className:f.Z.sf_card_contatiner_inner,children:[(0,x.jsx)("h6",{children:"".concat(null!==(t=null===n||void 0===n?void 0:n.studentFirstName)&&void 0!==t?t:""," ").concat(null!==(l=null===n||void 0===n?void 0:n.studentMiddleName)&&void 0!==l?l:""," ").concat(null!==(i=null===n||void 0===n?void 0:n.studentLastName)&&void 0!==i?i:"")}),(0,x.jsxs)("p",{children:[c("gr_number")," ",": ",null!==(d=null===n||void 0===n?void 0:n.studentGRNO)&&void 0!==d?d:""]})]})]})})},T=e=>{var t;let{clsId:l,onClose:d,onRefetch:r}=e;const{t:_}=(0,s.$G)(),[j,f]=(0,i.useState)([]),[p,g]=(0,i.useState)(!1),Z=(0,i.useRef)(),N=(0,i.useRef)(),{classMasterAllStudent:y,classMasterAllStudentLoading:T}=(0,o.BQ)({data:{cid:l,page:1,limit:1e3,search:""},skip:!l});(0,i.useEffect)((()=>{null!==y&&void 0!==y&&y.list&&f(null===y||void 0===y?void 0:y.list)}),[null===y||void 0===y?void 0:y.list]);const C=e=>{const t=[...j],l=t[Z.current];t.splice(Z.current,1),t.splice(N.current,0,l),Z.current=null,N.current=null,f(t)};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(I.Z,{onClose:d,children:(0,x.jsxs)("div",{className:b.Z.modal_container,children:[(0,x.jsx)(c.default,{children:(0,x.jsxs)("div",{className:b.Z.modal_container_outer_header,children:[(0,x.jsx)("div",{className:b.Z.modal_container_header,children:(0,x.jsx)("h6",{children:_("reshuffle_student_list")})}),(0,x.jsxs)("div",{className:b.Z.modal_container_btn_container,children:[(0,x.jsx)(m.Z,{label:_("save_resuffle"),onAction:()=>{},customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,x.jsx)("img",{src:"".concat(a.J7,"/close.svg"),alt:"close icon",onClick:d})]})]})}),(0,x.jsx)(n.Z,{}),(0,x.jsxs)(c.default,{customStyle:{paddingBottom:"1rem"},children:[null===j||void 0===j?void 0:j.map(((e,t)=>(0,x.jsx)("div",{draggable:!0,onDragStart:e=>{return l=t,void(Z.current=l);var l},onDragEnter:e=>{return l=t,void(N.current=l);var l},onDragEnd:C,children:(0,x.jsx)(S,{student:e})},null===e||void 0===e?void 0:e._id))),T?(0,x.jsx)(h.Z,{}):0===(null===y||void 0===y||null===(t=y.list)||void 0===t?void 0:t.length)&&(0,x.jsx)(u.Z,{title:"No student.",customStyleContainer:{marginTop:"1.5rem"}})]})]})}),p&&(0,x.jsx)(v.default,{})]})};var C=l(48986);const A=e=>{var t,l,_,j,f,Z,b,I,S;let{clsId:A,openAs:E}=e;const{t:k}=(0,s.$G)(),D=(0,g.TH)(),[P,R]=(0,i.useState)(""),[w,B]=(0,i.useState)(!1),[L,F]=(0,i.useState)(!1),[H,U]=(0,i.useState)(!1),[G,$]=(0,i.useState)(!1),[M]=(0,o.dP)(),[J]=(0,o._)(),{oneTheoryClasses:q,oneTheoryClassesRefetch:O,oneTheoryClassesLoading:z}=(0,o.ci)({data:{sid:D.state.subId,search:P},skip:!D.state.subId}),K=(0,i.useCallback)((0,r.J)((e=>{R(e)}),1500),[]),Y=()=>{B((e=>!e))},W=()=>{F((e=>!e))},Q=()=>{U((e=>!e))},V=e=>{(null===e||void 0===e?void 0:e.length)>0&&D.state.subId&&($((e=>!e)),M({sid:D.state.subId,bodyParameter:{students:e}}).then((()=>{O(),$((e=>!e)),Y()})).catch({}))};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(c.default,{children:(0,x.jsxs)("div",{className:d.Z.fm_header_container,children:[(0,x.jsx)("h6",{children:null!==(t=null===(l=D.state)||void 0===l?void 0:l.subjectName)&&void 0!==t?t:""}),(0,x.jsxs)("div",{className:d.Z.fm_search,children:[(0,x.jsx)(m.Z,{label:k("resuffle"),customStyle:{margin:"0",padding:"0.4rem 1rem",minWidth:"fit-content"},onAction:Q}),(0,x.jsx)(m.Z,{label:k("add_student"),customStyle:{margin:"0",padding:"0.4rem 1rem",minWidth:"fit-content"},onAction:Y}),(0,x.jsx)(m.Z,{label:k("add_dse_student"),customStyle:{margin:"0",padding:"0.4rem 1rem",minWidth:"fit-content"},onAction:W}),(0,x.jsx)("img",{src:"".concat(a.J7,"/export.svg"),alt:"icon",title:"List Export",onClick:()=>{D.state.subId&&($((e=>!e)),J({sid:D.state.subId}).then((e=>{var t;if(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.set){var l;$((e=>!e));const t=window.open("".concat(p.LS,"/").concat(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.set),"_blank","noopener,noreferrer");t&&(t.opener=null)}else $((e=>!e))})).catch({}))}})]})]})}),(0,x.jsx)(n.Z,{}),(0,x.jsx)(c.default,{customStyle:{paddingTop:"0"},children:(0,x.jsxs)("div",{className:d.Z.fm_search_full,children:[(0,x.jsxs)("h6",{className:d.Z.fm_title_heading,style:{width:"-webkit-fill-available"},children:[k("total_student"),null!==(_=null===q||void 0===q||null===(j=q.theory_students)||void 0===j?void 0:j.length)&&void 0!==_?_:0]}),(0,x.jsx)("section",{className:d.Z.fm_search_full_container,children:(0,x.jsxs)("div",{className:d.Z.fm_search_full_container_inner,children:[(0,x.jsx)("img",{className:d.Z.fm_search_full_icon,alt:"search icon",src:"".concat(a.dB,"/navbar-search.svg")}),(0,x.jsx)("input",{type:"text",placeholder:k("search"),onChange:e=>{e.target.value?K(e.target.value):R("")}})]})})]})}),(0,x.jsx)(n.Z,{}),(0,x.jsxs)(c.default,{customStyle:{paddingTop:"0.3rem",paddingBottom:"1rem"},children:[null===q||void 0===q||null===(f=q.theory_students)||void 0===f?void 0:f.map((e=>(0,x.jsx)(N,{student:e,openAs:E,subjectId:D.state.subId,onRefetch:O},null===e||void 0===e?void 0:e._id))),z?P?(0,x.jsx)(v.default,{}):(0,x.jsx)(h.Z,{}):P?0===(null===q||void 0===q||null===(Z=q.theory_students)||void 0===Z?void 0:Z.length)&&(0,x.jsx)(u.Z,{title:"No student found related this search."}):0===(null===q||void 0===q||null===(b=q.theory_students)||void 0===b?void 0:b.length)&&(0,x.jsx)(u.Z,{title:"No student."})]}),w&&(0,x.jsx)(y.Z,{onClose:Y,clsId:A,onAdd:V,academicDepartmentId:null===(I=D.state)||void 0===I?void 0:I.departmentId}),L&&(0,x.jsx)(C.Z,{onClose:W,clsId:A,onAdd:V,academicDepartmentId:null===(S=D.state)||void 0===S?void 0:S.departmentId}),H&&(0,x.jsx)(T,{onClose:Q,clsId:A,onRefetch:O}),G&&(0,x.jsx)(v.default,{})]})}},16184:(e,t,l)=>{l.d(t,{Z:()=>f});var s=l(39230),i=l(16925),a=l(33992),d=l(72791),n=l(99183),c=l(38857),o=l(21348),r=l(90904),u=l(20659),v=l(26071),h=l(61055),m=l(93638),_=l(55336),x=l(98684),j=l(80184);const f=e=>{let{onClose:t,instituteId:l,departmentId:f,onParentClose:g,onReftech:Z}=e;const{t:N}=(0,s.$G)(),[y,b]=(0,d.useState)(""),[I,S]=(0,d.useState)(!1),[T,C]=(0,d.useState)({type:"",flow:""}),[A]=(0,a.Uu)(),E=e=>{C((t=>({...t,flow:e})))};return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(c.Z,{onClose:t,children:(0,j.jsxs)("div",{className:i.Z.modal_container,children:[(0,j.jsx)(o.default,{children:(0,j.jsxs)("div",{className:i.Z.modal_container_outer_header,children:[(0,j.jsx)("div",{className:i.Z.modal_container_header,children:(0,j.jsx)("h6",{children:N("pin_department")})}),(0,j.jsx)("img",{src:"".concat(x.J7,"/close.svg"),alt:"close icon",onClick:t})]})}),(0,j.jsx)(r.Z,{}),(0,j.jsxs)(o.default,{customStyle:{paddingTop:"0"},children:[(0,j.jsx)(u.Z,{label:"dependency",children:null===p||void 0===p?void 0:p.map((e=>(0,j.jsx)(v.Z,{tile:e,onTile:E,activeTile:null===T||void 0===T?void 0:T.flow},null===e||void 0===e?void 0:e.key)))}),"DEPENDENT"===T.flow?(0,j.jsx)(h.Z,{label:N("section_name"),placeholder:N("section_name_placeholder"),name:"type",value:T.type,type:"text",onChange:e=>{C((t=>({...t,[e.target.name]:e.target.value})))}}):null,(0,j.jsx)(m.Z,{label:"save",onAction:()=>{let e=(0,n.l)(T,["type"]);(0,n.x)(e)&&f&&l?(S((e=>!e)),A({id:l,bodyParameter:{...T,did:f}}).then((()=>{Z(),S((e=>!e)),g()})).catch({})):b(e)}})]}),I&&(0,j.jsx)(_.default,{})]})})})},p=[{key:"DEPENDENT",name:"dependent"},{key:"INDEPENDENT",name:"independent"}]},23558:(e,t,l)=>{l.d(t,{Z:()=>o});var s=l(39230),i=l(51416),a=l(72791),d=l(43504),n=l(80184);const c=e=>{let{label:t,onClick:l,isActive:c,isLink:o,url:r,parentState:u,isAuthorized:v}=e;const{t:h}=(0,s.$G)(),m=(0,a.useCallback)((()=>(l&&l(),null)),[l]);return(0,n.jsx)(n.Fragment,{children:o?(0,n.jsx)(n.Fragment,{children:v?(0,n.jsx)(d.rU,{className:c?i.Z.rectangle_tab_card_active:i.Z.rectangle_tab_card,to:r,state:u,children:h(t)}):(0,n.jsx)("div",{className:i.Z.rectangle_tab_card,style:{opacity:"0.5"},children:h(t)})}):(0,n.jsx)("div",{className:c?i.Z.rectangle_tab_card_active:i.Z.rectangle_tab_card,onClick:m,children:h(t)})})},o=(0,a.memo)(c)},53277:(e,t,l)=>{l.d(t,{Z:()=>a});var s=l(51416),i=l(80184);const a=e=>{let{customStyle:t,children:l}=e;return(0,i.jsx)("div",{className:s.Z.rectangle_tab_wrapper,style:t,children:l})}},26071:(e,t,l)=>{l.d(t,{Z:()=>d});var s=l(51416),i=l(39230),a=l(80184);const d=e=>{let{tile:t,onTile:l,activeTile:d,customTileChild:n}=e;const{t:c}=(0,i.$G)();return(0,a.jsx)("div",{className:(null===t||void 0===t?void 0:t.key)===d?s.Z.tile_tile_active:s.Z.tile_tile,onClick:()=>l(null===t||void 0===t?void 0:t.key),style:n,children:c(null===t||void 0===t?void 0:t.name)})}},20659:(e,t,l)=>{l.d(t,{Z:()=>d});var s=l(51416),i=l(39230),a=l(80184);const d=e=>{let{label:t,customTileLabel:l,customTileContainer:d,customTileStyle:n,errorShow:c,children:o}=e;const{t:r}=(0,i.$G)();return(0,a.jsxs)("div",{className:s.Z.tile_container,style:n,children:[t&&(0,a.jsxs)("h6",{className:s.Z.tile_label,style:l,children:[r(t),c?(0,a.jsxs)("span",{style:{color:"rgb(231, 75, 75)"},children:["* ",r("form_require_label")]}):null]}),(0,a.jsx)("section",{className:s.Z.tile_tile_container,style:d,children:o})]})}},63687:(e,t,l)=>{l.r(t),l.d(t,{default:()=>a});var s=l(59393),i=l(80184);const a=e=>{let{customStyle:t,children:l}=e;return(0,i.jsx)("div",{className:s.Z.user_member_container_wrapper,style:t,children:l})}},91427:(e,t,l)=>{l.d(t,{f:()=>s});const s=e=>e%10===0},85794:(e,t,l)=>{l.d(t,{Z:()=>r});var s=l(72791),i=l(54164),a=l(15783),d=l(98684),n=l(80184);const c=e=>{let{onClose:t,isVariant:l,isHide:s,children:c}=e;return i.createPortal((0,n.jsx)("div",{children:(0,n.jsx)("div",{className:s?a.Z.notify_hide_overlay:a.Z.notify_overlay,children:(0,n.jsxs)("div",{className:a.Z.notify_container,style:{"--notify-bg-color":l},children:[c,(0,n.jsx)("img",{src:"".concat(d.Fk,"/close-white.svg"),alt:"close icon",onClick:t,className:a.Z.notify_close})]})})}),document.getElementById("notify-alert"))},o={success:"green",error:"#ed4a4a",warning:"orange"},r=e=>{var t;let{eventState:l,eventStateHandler:i}=e;const[d,r]=(0,s.useState)(!1);return null!==l&&void 0!==l&&l.open?(0,n.jsx)(c,{onClose:()=>{r(!0);let e=setTimeout((()=>{i((e=>({...e,open:!1,msg:"",variant:"success"}))),r(!1)}),500);return()=>clearTimeout(e)},isVariant:o[null===l||void 0===l?void 0:l.variant],isHide:d,children:(0,n.jsx)("h6",{className:a.Z.notify_message,children:null!==(t=null===l||void 0===l?void 0:l.msg)&&void 0!==t?t:""})}):null}}}]);
//# sourceMappingURL=54916.3f75c93a.chunk.js.map