"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[65528],{91022:(e,t,l)=>{l.d(t,{Z:()=>a});var s=l(72791),o=l(39230),n=l(38733),i=l(80184);const a=e=>{let{selectLabel:t,value:l,onClick:a,selectedValue:d,options:c,errorShow:r,customStyleContainer:u,customLabelStyle:v,customListStyle:m,openAs:_,viewAs:h}=e;const{t:p}=(0,o.$G)(),[x,j]=(0,s.useState)(!1),g=()=>{"REFUND"===_||"BACKLOG"===_||"FINANCE_MANAGER"===h||j((e=>!e))};return(0,i.jsxs)("div",{className:n.Z.join_form_container,style:{...u},children:[(0,i.jsxs)("p",{className:n.Z.join_form_select_paragraph,style:{...v},children:[t," ",r&&(0,i.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",p("form_require_label")]})]}),(0,i.jsxs)("section",{className:n.Z.join_form_select_custom,onClick:g,children:[l?(0,i.jsx)("p",{className:n.Z.join_form_select_custom_paragraph,children:null!==l&&void 0!==l?l:""}):(0,i.jsx)("p",{className:n.Z.join_form_select_custom_paragraph,children:d}),(0,i.jsx)("img",{className:n.Z.join_form_select_custom_icon,src:"/images/down-icon.svg",alt:"categor icon"})]}),x&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("section",{className:n.Z.join_form_select_custom_list,style:m?{...m}:(null===c||void 0===c?void 0:c.length)>2?{overflowY:"scroll"}:{backgroundColor:"#ffffff"},children:[(0,i.jsx)("p",{className:n.Z.join_form_select_custom_paragraph_option,onClick:g,children:d}),null===c||void 0===c?void 0:c.map(((e,t)=>(0,i.jsx)("p",{onClick:()=>(a(e),void g()),className:n.Z.join_form_select_custom_paragraph_option,children:e},t)))]})})]})}},47167:(e,t,l)=>{l.d(t,{Z:()=>d});l(72791);var s=l(16871),o=l(43504),n=l(23769),i=l(45639),a=l(80184);const d=e=>{let{tabList:t,activeIndexTab:l,setActiveIndexTab:d,customStyleTab:c,carryParentState:r,showAs:u,customStyleLink:v}=e;const m=(0,s.UO)();return(0,a.jsx)("div",{className:i.Z.universal_container,children:u?null===t||void 0===t?void 0:t.map(((e,t)=>"disabled"===(null===e||void 0===e?void 0:e.is_active)?(0,a.jsx)("div",{className:l===(null===e||void 0===e?void 0:e.id)?"".concat(i.Z.universal_container_item," ").concat(i.Z.universal_container_item_active):i.Z.universal_container_item,style:{...v,opacity:"0.5"},children:(0,a.jsx)(n.Z,{children:null===e||void 0===e?void 0:e.name})},t):(0,a.jsx)(o.rU,{to:"/q/".concat(m.username,"/").concat(null===e||void 0===e?void 0:e.url),state:{...r},style:{...v},children:(0,a.jsx)("div",{className:l===(null===e||void 0===e?void 0:e.id)?"".concat(i.Z.universal_container_item," ").concat(i.Z.universal_container_item_active):i.Z.universal_container_item,style:{...c},children:(0,a.jsx)(n.Z,{children:null===e||void 0===e?void 0:e.name})})},t))):null===t||void 0===t?void 0:t.map(((e,t)=>(0,a.jsx)("div",{className:l===(null===e||void 0===e?void 0:e.id)?"".concat(i.Z.universal_container_item," ").concat(i.Z.universal_container_item_active):i.Z.universal_container_item,onClick:()=>d(null===e||void 0===e?void 0:e.id),style:{...c},children:(0,a.jsx)(n.Z,{children:null===e||void 0===e?void 0:e.name})},t)))})}},23769:(e,t,l)=>{l.d(t,{Z:()=>n});var s=l(72791),o=l(80184);const n=function(e){let{children:t,onclick:l}=e;const[n,i]=(0,s.useState)(!1),[a,d]=(0,s.useState)({x:-1,y:-1});return(0,s.useEffect)((()=>{-1!==a.x&&-1!==a.y?(i(!0),setTimeout((()=>i(!1)),1e3)):i(!1)}),[a]),(0,s.useEffect)((()=>{n||d({x:-1,y:-1})}),[n]),(0,o.jsxs)("div",{className:"ripple_btn",onClick:e=>{d({x:e.clientX-e.target.offsetLeft,y:e.clientY-e.target.offsetTop}),l&&l(e)},children:[n?(0,o.jsx)("span",{className:"ripple"}):"",(0,o.jsx)("span",{className:"content",children:t})]})}},74522:(e,t,l)=>{l.d(t,{Z:()=>C});var s=l(72791),o=l(33148),n=l(39230),i=l(74067),a=l(74289),d=l(11105),c=l(24582),r=l(41233),u=l(98094),v=l(36665),m=l(69721),_=l(80184);const h=e=>{var t,l,s,i,a,d,c,r;let{onSelectStudent:u,stu:v,promoteData:h}=e;const{t:p}=(0,n.$G)();return(0,_.jsx)("div",{className:null!==h&&void 0!==h&&null!==(t=h.students)&&void 0!==t&&t.includes(null===v||void 0===v?void 0:v._id)?" ".concat(o.Z.promote_student_card," ").concat(o.Z.promote_student_cardActive):o.Z.promote_student_card,onClick:()=>u(null===v||void 0===v?void 0:v._id),style:{width:"100%"},children:(0,_.jsxs)("div",{className:o.Z.promote_student_card_text,style:{width:"100%"},children:[(0,_.jsx)("img",{alt:"",src:null!==v&&void 0!==v&&v.studentProfilePhoto?"".concat(m.yI,"/").concat(null===v||void 0===v?void 0:v.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,_.jsxs)("div",{className:o.Z.promote_student_check_container,children:[(0,_.jsxs)("div",{className:o.Z.promote_student_name,children:[(0,_.jsxs)("p",{children:[null===v||void 0===v?void 0:v.studentFirstName," ",null!==v&&void 0!==v&&v.studentMiddleName?null===v||void 0===v?void 0:v.studentMiddleName:" "," ",null===v||void 0===v?void 0:v.studentLastName]}),(0,_.jsxs)("p",{children:[p("gr_number"),null===v||void 0===v?void 0:v.studentGRNO]})]}),(0,_.jsxs)("div",{className:o.Z.promote_student_check,children:[(0,_.jsxs)("div",{className:o.Z.promote_student_name,children:[null!==v&&void 0!==v&&null!==(l=v.fee_structure)&&void 0!==l&&l.applicable_fees?(0,_.jsxs)("p",{children:[p("applicable_fees_only")," ",p("rs"),".",null!==(s=null===v||void 0===v||null===(i=v.fee_structure)||void 0===i?void 0:i.applicable_fees)&&void 0!==s?s:0]}):"",(0,_.jsxs)("p",{children:[p("paid_fees")," ",": ",p("rs"),".",null!==(a=null===v||void 0===v||null===(d=v.remainingFeeList)||void 0===d||null===(c=d[0])||void 0===c?void 0:c.paid_fee)&&void 0!==a?a:0]})]}),(0,_.jsx)("div",{className:o.Z.promote_student_name,children:null!==h&&void 0!==h&&null!==(r=h.students)&&void 0!==r&&r.includes(null===v||void 0===v?void 0:v._id)?(0,_.jsx)("img",{className:o.Z.department_checkbox,src:"/images/checkbox-icon.svg",alt:"icon"}):(0,_.jsx)("img",{className:o.Z.department_checkbox,src:"/images/box-icon.svg",alt:"icon"})})]})]})]})})};var p=l(98734),x=l(15961);const j=e=>{let{isWrapper:t,onClose:l,title:s,firstMessage:o,spanMessage:n,outerSpanMessage:i,lastMessage:a,buttonLabel:d,onHandler:c,buttonStyle:r,messageStyle:m}=e;return(0,_.jsx)(_.Fragment,{children:t?(0,_.jsx)(v.Z,{onClose:l,children:(0,_.jsxs)("div",{className:x.Z.admission_modal,children:[(0,_.jsx)("h6",{className:x.Z.admission_modal_heading,children:s}),(0,_.jsx)(u.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),(0,_.jsxs)("div",{className:x.Z.admission_class_confirm,style:m,children:[o," ",(0,_.jsx)("span",{style:{fontWeight:"600"},children:n})," ",i,(0,_.jsx)("span",{style:{fontWeight:"600"},children:a})]}),(0,_.jsx)("div",{className:x.Z.confirm_btn,onClick:c,style:r,children:d})]})}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("h6",{className:x.Z.admission_modal_heading,children:s}),(0,_.jsx)(u.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),(0,_.jsxs)("div",{className:x.Z.admission_class_confirm,style:m,children:[o," ",(0,_.jsx)("span",{style:{fontWeight:"600"},children:n})," ",i,(0,_.jsx)("span",{style:{fontWeight:"600"},children:a})]}),(0,_.jsx)("div",{className:x.Z.confirm_btn,onClick:c,style:r,children:d})]})})},g=e=>{var t,l,i,r,v,m;let{classId:x,promoteData:g,setPromoteData:f,onClose:S,onRefetchParent:b}=e;const{t:N}=(0,n.$G)(),[Z,y]=(0,s.useState)(!0),[C,I]=(0,s.useState)([]),[T,P]=(0,s.useState)(!1),[w,k]=(0,s.useState)(!1),[L,E]=(0,s.useState)(!1),[A]=(0,c.Ed)(),{getNotPromoteStudentByPromote:R,getNotPromoteStudentByPromoteRefetch:M}=(0,a._3)({data:{cid:x,valid_app_fee:"Yes"===(null===g||void 0===g?void 0:g.applicable_with_fees)?"Yes":"No",is_backlog:null===g||void 0===g?void 0:g.is_backlog},skip:!x});(0,s.useEffect)((()=>{x&&(y(!0),M())}),[x,M]),(0,s.useEffect)((()=>{var e,t;(null!==R&&void 0!==R&&R.notPromoteStudent||0===(null===R||void 0===R||null===(e=R.notPromoteStudent)||void 0===e?void 0:e.length))&&(I(null!==(t=null===R||void 0===R?void 0:R.notPromoteStudent)&&void 0!==t?t:[]),y(!1))}),[null===R||void 0===R?void 0:R.notPromoteStudent]);const O=e=>{var t;null!==g&&void 0!==g&&null!==(t=g.students)&&void 0!==t&&t.includes(e)?f((t=>{var l;return{...t,students:null===(l=t.students)||void 0===l?void 0:l.filter((t=>t!==e))}})):f((t=>({...t,students:t.students?[...t.students,e]:[e]})))};return(0,_.jsx)(_.Fragment,{children:w?(0,_.jsx)(j,{onClose:()=>k(!1),title:N("promote_select_student"),firstMessage:"".concat(N("promote")," "),spanMessage:null===g||void 0===g||null===(t=g.students)||void 0===t?void 0:t.length,outerSpanMessage:"".concat(N("students")," , ").concat(N("to")," "),lastMessage:"".concat(null===g||void 0===g||null===(l=g.classId)||void 0===l?void 0:l.classTitle,", ").concat(null===g||void 0===g||null===(i=g.batchId)||void 0===i?void 0:i.batchName,", ").concat(null===g||void 0===g||null===(r=g.departmentId)||void 0===r?void 0:r.dName),buttonLabel:N("confirm"),onHandler:()=>{var e,t,l;x&&(k(!1),P((e=>!e)),A({cid:x,promote:{applicable_with_fees:null===g||void 0===g?void 0:g.applicable_with_fees,departmentId:null===g||void 0===g||null===(e=g.departmentId)||void 0===e?void 0:e._id,batchId:null===g||void 0===g||null===(t=g.batchId)||void 0===t?void 0:t._id,classId:null===g||void 0===g||null===(l=g.classId)||void 0===l?void 0:l._id,students:null===g||void 0===g?void 0:g.students},flow:"Yes"===(null===g||void 0===g?void 0:g.promot_with_fees)?"WITH_STRUCTURE":"WITH_OUT_STRUCTURE",re_ads:"Yes"===(null===g||void 0===g?void 0:g.re_ads)?"WITH_RE_ADMISSION":"No"}).then((()=>{M(),b(),S(),P((e=>!e))})).catch({}))},messageStyle:{marginTop:"3.7rem"},buttonStyle:{marginTop:"5.7rem"}}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:o.Z.select_header,children:[(0,_.jsxs)("h6",{children:[(null===g||void 0===g||null===(v=g.students)||void 0===v?void 0:v.length)>0?"".concat(null===g||void 0===g||null===(m=g.students)||void 0===m?void 0:m.length," "):"",N("select_student")]}),(0,_.jsxs)("div",{children:[L?(0,_.jsx)("button",{className:o.Z.select_all_btn,title:"Remove All Student",onClick:()=>{f((e=>({...e,students:[]}))),E(!1)},style:{marginRight:"0.7rem"},children:N("remove_all")}):(0,_.jsx)("button",{className:o.Z.select_all_btn,title:"Select All Student",onClick:()=>{let e=[];for(let t of C)e.push(null===t||void 0===t?void 0:t._id);f((t=>({...t,students:e}))),E(!0)},style:{marginRight:"0.7rem"},children:N("select_all")}),(0,_.jsx)("button",{className:o.Z.promote_all_btn,title:"Promote Selected Student",onClick:()=>{var e;return(null===g||void 0===g||null===(e=g.students)||void 0===e?void 0:e.length)>0?k(!0):null},children:N("promote")})]})]}),(0,_.jsx)(u.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),(0,_.jsx)("div",{className:o.Z.with_search,style:{marginTop:"1rem",width:"100%",border:"0.4px solid rgba(0, 0, 0, 0.15)",borderRadius:"6px",marginBottom:"0.3rem"},children:(0,_.jsxs)("div",{className:o.Z.search_container_input,style:{width:"100%"},children:[(0,_.jsx)("img",{className:o.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,_.jsx)("input",{type:"text",placeholder:"Search Student...",style:{width:"100%"},onChange:e=>{if(e.target.value){var t;const l=null===R||void 0===R||null===(t=R.notPromoteStudent)||void 0===t?void 0:t.filter((t=>{var l,s,o;return null!==(l="".concat(null===t||void 0===t?void 0:t.studentFirstName," ").concat(null!==t&&void 0!==t&&t.studentMiddleName?(null===t||void 0===t?void 0:t.studentMiddleName)+" ":"").concat(null===t||void 0===t?void 0:t.studentLastName))&&void 0!==l&&null!==(s=l.toLowerCase())&&void 0!==s&&s.includes(null===(o=e.target.value)||void 0===o?void 0:o.toLowerCase())?t:null}));I(l)}else I(null===R||void 0===R?void 0:R.notPromoteStudent)}})]})}),null===C||void 0===C?void 0:C.map(((e,t)=>(0,_.jsx)(h,{promoteData:g,stu:e,onSelectStudent:O},t))),Z&&(0,_.jsx)(d.Z,{}),T&&(0,_.jsx)(p.Z,{})]})})};var f=l(91022);const S=e=>{var t,l,i,a,d,m,h;let{onClose:p,classId:x,onRefetchParent:j}=e;const{t:S}=(0,n.$G)(),[N,Z]=(0,s.useState)("INITIAL_STEP"),[y,C]=(0,s.useState)({promot_with_fees:"",applicable_with_fees:"",departmentId:"",batchId:"",classId:"",students:[],re_ads:"",is_backlog:""}),[I,T]=(0,s.useState)(""),{classAllDepartmentWithBatch:P,classAllDepartmentWithBatchRefetch:w}=(0,c.PS)({data:{cid:x,page:1,limit:30},skip:!x}),{classAllBatchWithClass:k,classAllBatchWithClassRefetch:L}=(0,c.j_)({data:{bid:null===(t=y.batchId)||void 0===t?void 0:t._id,page:1,limit:30},skip:!(null!==(l=y.batchId)&&void 0!==l&&l._id)});s.useEffect((()=>{x&&w()}),[x,w]),s.useEffect((()=>{var e;null!==(e=y.batchId)&&void 0!==e&&e._id&&L()}),[null===(i=y.batchId)||void 0===i?void 0:i._id,L]);return(0,_.jsx)(v.Z,{onClose:"INITIAL_STEP"===N?p:()=>Z("INITIAL_STEP"),children:(0,_.jsxs)("div",{className:o.Z.promote_container,children:["INITIAL_STEP"===N&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("h6",{style:{textAlign:"center"},children:S("promote_students")}),(0,_.jsx)(u.Z,{customStyle:{width:"100%"}}),(0,_.jsx)(f.Z,{selectLabel:S("promote_with_fees_structure"),selectedValue:S("select_yes_or_no"),options:["Yes","No"],value:y.promot_with_fees,errorShow:I.promot_with_fees,onClick:e=>{C((t=>({...t,promot_with_fees:e})))}}),(0,_.jsx)(r.Z,{selectLabel:S("select_department"),selectedValue:S("select_department"),options:null!==(a=null===P||void 0===P?void 0:P.departmets)&&void 0!==a?a:[],onClick:e=>{C((t=>({...t,departmentId:e})))},openAs:"PROMOTE",errorShow:I.departmentId}),(0,_.jsx)(r.Z,{selectLabel:S("select_batch"),selectedValue:S("select_batch"),options:null!==(d=null===(m=y.departmentId)||void 0===m?void 0:m.batches)&&void 0!==d?d:[],onClick:e=>{C((t=>({...t,batchId:e})))},openAs:"PROMOTE",errorShow:I.batchId}),(0,_.jsx)(r.Z,{selectLabel:S("select_class"),selectedValue:S("select_class"),options:null!==(h=null===k||void 0===k?void 0:k.classes)&&void 0!==h?h:[],onClick:e=>{C((t=>({...t,classId:e})))},openAs:"PROMOTE",errorShow:I.classId}),(0,_.jsx)(f.Z,{selectLabel:S("promote_applicable_fee"),selectedValue:S("select_yes_or_no"),options:["Yes","No"],value:y.applicable_with_fees,errorShow:I.applicable_with_fees,onClick:e=>{C((t=>({...t,applicable_with_fees:e})))}}),(0,_.jsx)(f.Z,{selectLabel:S("promote_with_re_admission"),selectedValue:S("select_yes_or_no"),options:["Yes","No"],value:y.re_ads,onClick:e=>{C((t=>({...t,re_ads:e})))}}),(0,_.jsx)(f.Z,{selectLabel:S("promote_with_result"),selectedValue:S("please_select_result_base"),options:["Backlog","Pass","All"],value:y.is_backlog?b[y.is_backlog]:y.is_backlog,onClick:e=>{C((t=>({...t,is_backlog:"Backlog"===e?"BACKLOG_OF_MAXIMUM":"Pass"===e?"RESULT_OF_PASS":"ALL"})))}}),(0,_.jsxs)("button",{className:o.Z.select_application_btn,onClick:()=>{const e=(e=>{const t={};for(let l in e)"students"===l||e[l]||(t[l]="".concat(l," is required!"));return t})(y);let t=!1;for(let l in e){t=!0;break}t?T(e):Z("SELECT_STUDENT")},style:{width:"100%"},title:"Select student",children:[(0,_.jsx)("div",{children:S("select_student")}),(0,_.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]})]}),"SELECT_STUDENT"===N&&(0,_.jsx)(g,{classId:x,setPromoteData:C,promoteData:y,onClose:p,onRefetchParent:j})]})})},b={BACKLOG_OF_MAXIMUM:"Backlog",RESULT_OF_PASS:"Pass",ALL:"All"},N=e=>{var t,l,i;let{classId:c,promoteData:r,setPromoteData:v,onClose:m,onRefetchParent:x}=e;const{t:g}=(0,n.$G)(),[f,S]=(0,s.useState)(!0),[b,N]=(0,s.useState)([]),[Z,y]=(0,s.useState)(!1),[C,I]=(0,s.useState)(!1),[T,P]=(0,s.useState)(!1),[w]=(0,a.V_)(),{getPromoteStudentByPromote:k,getPromoteStudentByPromoteRefetch:L}=(0,a.Rt)({cid:c,skip:!c});(0,s.useEffect)((()=>{c&&(S(!0),L())}),[c,L]),(0,s.useEffect)((()=>{var e,t;(null!==k&&void 0!==k&&k.promoteStudent||0===(null===k||void 0===k||null===(e=k.promoteStudent)||void 0===e?void 0:e.length))&&(N(null!==(t=null===k||void 0===k?void 0:k.promoteStudent)&&void 0!==t?t:[]),S(!1))}),[null===k||void 0===k?void 0:k.promoteStudent]);const E=e=>{var t;null!==r&&void 0!==r&&null!==(t=r.arr)&&void 0!==t&&t.includes(e)?v((t=>{var l;return{...t,arr:null===(l=t.arr)||void 0===l?void 0:l.filter((t=>t!==e))}})):v((t=>({...t,arr:t.arr?[...t.arr,e]:[e]})))};return(0,_.jsx)(_.Fragment,{children:C?(0,_.jsx)(j,{onClose:()=>I(!1),title:g("undo_select_student"),firstMessage:"".concat(g("undo")," "),spanMessage:null===r||void 0===r||null===(t=r.arr)||void 0===t?void 0:t.length,outerSpanMessage:"".concat(g("students")," , ").concat(g("to")," "),lastMessage:"".concat(g("previous_class")),buttonLabel:g("confirm"),onHandler:()=>{I(!1),y((e=>!e)),w({cid:c,flow:"PARTICULAR_STUDENT",undoPromote:{arr:null===r||void 0===r?void 0:r.arr}}).then((()=>{x(),m(),y((e=>!e))})).catch({})},messageStyle:{marginTop:"3.7rem"},buttonStyle:{marginTop:"5.7rem"}}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:o.Z.select_header,children:[(0,_.jsxs)("h6",{children:[(null===r||void 0===r||null===(l=r.arr)||void 0===l?void 0:l.length)>0?"".concat(null===r||void 0===r||null===(i=r.arr)||void 0===i?void 0:i.length," "):"",g("select_student")]}),(0,_.jsxs)("div",{children:[T?(0,_.jsx)("button",{className:o.Z.select_all_btn,title:"Remove All Student",onClick:()=>{v((e=>({...e,arr:[]}))),P(!1)},style:{marginRight:"0.7rem"},children:g("remove_all")}):(0,_.jsx)("button",{className:o.Z.select_all_btn,title:"Select All Student",onClick:()=>{let e=[];for(let t of b)e.push(null===t||void 0===t?void 0:t._id);v((t=>({...t,arr:e}))),P(!0)},style:{marginRight:"0.7rem"},children:g("select_all")}),(0,_.jsx)("button",{className:o.Z.promote_all_btn,title:"Undo Selected Student",onClick:()=>{var e;return(null===r||void 0===r||null===(e=r.arr)||void 0===e?void 0:e.length)>0?I(!0):null},children:g("undo")})]})]}),(0,_.jsx)(u.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),(0,_.jsx)("div",{className:o.Z.with_search,style:{marginTop:"1rem",width:"100%",border:"0.4px solid rgba(0, 0, 0, 0.15)",borderRadius:"6px",marginBottom:"0.3rem"},children:(0,_.jsxs)("div",{className:o.Z.search_container_input,style:{width:"100%"},children:[(0,_.jsx)("img",{className:o.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,_.jsx)("input",{type:"text",placeholder:"Search Student...",style:{width:"100%"},onChange:e=>{if(e.target.value){var t;const l=null===k||void 0===k||null===(t=k.promoteStudent)||void 0===t?void 0:t.filter((t=>{var l,s,o;return null!==(l="".concat(null===t||void 0===t?void 0:t.studentFirstName," ").concat(null!==t&&void 0!==t&&t.studentMiddleName?(null===t||void 0===t?void 0:t.studentMiddleName)+" ":"").concat(null===t||void 0===t?void 0:t.studentLastName))&&void 0!==l&&null!==(s=l.toLowerCase())&&void 0!==s&&s.includes(null===(o=e.target.value)||void 0===o?void 0:o.toLowerCase())?t:null}));N(l)}else N(null===k||void 0===k?void 0:k.promoteStudent)}})]})}),null===b||void 0===b?void 0:b.map(((e,t)=>(0,_.jsx)(h,{promoteData:{students:null===r||void 0===r?void 0:r.arr},stu:e,onSelectStudent:E},t))),f&&(0,_.jsx)(d.Z,{}),Z&&(0,_.jsx)(p.Z,{})]})})},Z=e=>{let{onClose:t,classId:l,onRefetchParent:i}=e;const{t:d}=(0,n.$G)(),[c,r]=(0,s.useState)("INITIAL_STEP"),[m,h]=(0,s.useState)({flow:"",arr:[]}),[x,j]=(0,s.useState)(""),[g,S]=(0,s.useState)(!1),[b]=(0,a.V_)();return(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(v.Z,{onClose:"INITIAL_STEP"===c?t:()=>r("INITIAL_STEP"),children:(0,_.jsxs)("div",{className:o.Z.promote_container,children:["INITIAL_STEP"===c&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("h6",{style:{textAlign:"center"},children:d("promote_students")}),(0,_.jsx)(u.Z,{customStyle:{width:"100%"}}),(0,_.jsx)(f.Z,{selectLabel:d("undo_promote_student"),selectedValue:d("select_full_or_particular"),options:["Full Class","Particular Student"],value:m.flow,errorShow:x.flow,onClick:e=>{h((t=>({...t,flow:e})))}}),(0,_.jsx)("button",{className:o.Z.select_application_btn,onClick:()=>{const e=(e=>{const t={};for(let l in e)"students"===l||e[l]||(t[l]="".concat(l," is required!"));return t})(m);let s=!1;for(let t in e){s=!0;break}s?j(e):"Full Class"===m.flow?(S((e=>!e)),b({cid:l,flow:"FULL_CLASS",undoPromote:{arr:[]}}).then((()=>{i(),t(),S((e=>!e))})).catch({})):"Particular Student"===m.flow&&r("SELECT_STUDENT")},style:{width:"100%",justifyContent:"center",marginTop:"4rem"},children:(0,_.jsx)("div",{children:d("Particular Student"===m.flow?"next":"confirm")})})]}),"SELECT_STUDENT"===c&&(0,_.jsx)(N,{classId:l,setPromoteData:h,promoteData:m,onClose:t,onRefetchParent:i}),g&&(0,_.jsx)(p.Z,{})]})})})},y=e=>{let{cid:t,onRefetch:l}=e;const{t:i}=(0,n.$G)(),[a,d]=(0,s.useState)(!1);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("button",{className:o.Z.select_application_btn,onClick:e=>{e.stopPropagation(),d((e=>!e))},title:"Undo Promote Studens",style:{width:"25%"},children:[(0,_.jsx)("div",{children:i("undo_student")}),(0,_.jsx)("img",{src:"/images/member_tab/admission/admission-undo-icon.svg",alt:"undo icon",style:{cursor:"pointer",width:"30px"}})]}),a&&(0,_.jsx)(Z,{onClose:()=>d(!1),classId:t,onRefetchParent:l})]})},C=e=>{var t,l,c,r,u,v,m;let{classId:h}=e;const{t:p}=(0,n.$G)(),[x,j]=(0,s.useState)(!0),[g,f]=(0,s.useState)(!1),{getPromoteStudentByPromote:b,getPromoteStudentByPromoteRefetch:N}=(0,a.Rt)({cid:h,skip:!h});(0,s.useEffect)((()=>{h&&(j(!0),N())}),[h,N]),(0,s.useEffect)((()=>{var e;(null!==b&&void 0!==b&&b.promoteStudent||0===(null===b||void 0===b||null===(e=b.promoteStudent)||void 0===e?void 0:e.length))&&j(!1)}),[null===b||void 0===b?void 0:b.promoteStudent]);const Z=()=>{f((e=>!e))};return(0,_.jsxs)("div",{children:[(0,_.jsxs)("div",{className:o.Z.promote_undo_container,children:[(0,_.jsxs)("button",{className:o.Z.select_application_btn,onClick:Z,children:[(0,_.jsx)("div",{children:p("promote_student")}),(0,_.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),(0,_.jsx)(y,{cid:h,onRefetch:N})]}),(0,_.jsxs)("h6",{className:o.Z.total_student_count,children:[p("total_student")," ",null!==(t=null===b||void 0===b||null===(l=b.count)||void 0===l?void 0:l.totalCount)&&void 0!==t?t:0]}),(0,_.jsxs)("div",{className:o.Z.total_other_count_container,children:[(0,_.jsxs)("p",{children:[p("boys_promote"),null!==(c=null===b||void 0===b||null===(r=b.count)||void 0===r?void 0:r.boyCount)&&void 0!==c?c:0]}),(0,_.jsxs)("p",{children:[p("girl_promote"),null!==(u=null===b||void 0===b||null===(v=b.count)||void 0===v?void 0:v.girlCount)&&void 0!==u?u:0]})]}),null===b||void 0===b||null===(m=b.promoteStudent)||void 0===m?void 0:m.map((e=>(0,_.jsx)(i.Z,{stu:e,viewAs:"PROMOTE"},null===e||void 0===e?void 0:e._id))),x&&(0,_.jsx)(d.Z,{}),g&&(0,_.jsx)(S,{classId:h,onClose:Z,onRefetchParent:N})]})}},74067:(e,t,l)=>{l.d(t,{Z:()=>c});l(72791);var s=l(33148),o=l(39230),n=l(69721),i=l(16871),a=l(43504),d=l(80184);const c=e=>{var t,l,c,r,u,v,m;let{stu:_,viewAs:h}=e;const{t:p}=(0,o.$G)(),x=(0,i.UO)();return(0,d.jsx)(a.rU,{to:"/q/".concat(x.username,"/student/profile"),state:{sid:null===_||void 0===_?void 0:_._id,viewAs:"SUBJECT_TEACHER"},children:(0,d.jsxs)("div",{className:s.Z.student_container,children:[(0,d.jsx)("img",{src:null!==_&&void 0!==_&&_.studentProfilePhoto?"".concat(n.yI,"/").concat(null===_||void 0===_?void 0:_.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy",alt:"avatar icon"}),(0,d.jsxs)("div",{className:s.Z.student_info_container,children:[(0,d.jsxs)("div",{className:s.Z.student_info_text,children:[(0,d.jsxs)("h6",{children:[null===_||void 0===_?void 0:_.studentFirstName," ",null!==_&&void 0!==_&&_.studentMiddleName?null===_||void 0===_?void 0:_.studentMiddleName:" "," ",null===_||void 0===_?void 0:_.studentLastName]}),"PROMOTE"===h?"":(0,d.jsxs)("p",{children:[null!==(t=null===_||void 0===_?void 0:_.studentGender)&&void 0!==t?t:""," "]})]}),(0,d.jsx)("div",{className:s.Z.student_info_text,children:"PROMOTE"===h?(0,d.jsxs)("p",{children:[p("classes"),": ","".concat(null!==(l=null===_||void 0===_||null===(c=_.studentClass)||void 0===c?void 0:c.className)&&void 0!==l?l:""," - ").concat(null!==(r=null===_||void 0===_||null===(u=_.studentClass)||void 0===u?void 0:u.classTitle)&&void 0!==r?r:"")]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("p",{children:[p("roll_number")," ",null!==(v=null===_||void 0===_?void 0:_.studentROLLNO)&&void 0!==v?v:""]}),(0,d.jsxs)("p",{children:[p("gr_number"),null!==(m=null===_||void 0===_?void 0:_.studentGRNO)&&void 0!==m?m:""]})]})})]})]})})}},45639:(e,t,l)=>{l.d(t,{Z:()=>s});const s={universal_container:"UniversalTab_universal_container__uxTOR",universal_container_item:"UniversalTab_universal_container_item__M0pS7",universal_container_item_active:"UniversalTab_universal_container_item_active__3u3Wt"}}}]);
//# sourceMappingURL=65528.9fb0d7b8.chunk.js.map