{"version":3,"file":"static/js/77997.af458cfa.chunk.js","mappings":"+JACA,QAAmC,2CAAnC,EAA8F,wCAA9F,EAA6I,+BAA7I,EAAuL,mCAAvL,EAAwO,sCAAxO,EAAuR,iCAAvR,EAAoU,oC,mEC8EpU,QApEA,SAAyBA,GAAuD,IAADC,EAAAC,EAAAC,EAAAC,EAAA,IAArD,cAAEC,EAAa,eAAEC,EAAc,iBAAEC,GAAkBP,EAC3E,MAAOQ,IAAwBC,EAAAA,EAAAA,OACxBC,EAAUC,IAAeC,EAAAA,EAAAA,WAAS,IACnC,qBAAEC,EAAoB,4BAAEC,IAC5BC,EAAAA,EAAAA,IAAwB,CACtBC,IAAkB,OAAbX,QAAa,IAAbA,OAAa,EAAbA,EAAeW,IACpBC,OAAoB,OAAbZ,QAAa,IAAbA,GAAAA,EAAeW,QAqBpB,EAAEE,IAAMC,EAAAA,EAAAA,MAGd,OACEC,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAuBC,SAAA,EACrCC,EAAAA,EAAAA,KAAA,OAAKH,UAAWC,EAAoBC,UAClCH,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAWC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,OAAKC,IAAI,+BAA+BC,IAAI,MAC5CN,EAAAA,EAAAA,MAAA,OAAAG,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,SAAkB,OAAblB,QAAa,IAAbA,OAAa,EAAbA,EAAesB,QAEpBP,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAeC,SAAA,EAC7BC,EAAAA,EAAAA,KAAA,KAAAD,SACGK,IAA2B,OAApBf,QAAoB,IAApBA,GAA+B,QAAXZ,EAApBY,EAAsBgB,iBAAS,IAAA5B,OAAX,EAApBA,EAAiC6B,WAAWC,OAClD,SAGJP,EAAAA,EAAAA,KAAA,KAAAD,SACGK,IAA2B,OAApBf,QAAoB,IAApBA,GAA+B,QAAXX,EAApBW,EAAsBgB,iBAAS,IAAA3B,OAAX,EAApBA,EAAiC4B,WAAWC,OAClD,oBAOZP,EAAAA,EAAAA,KAAA,OAAKH,UAAWC,EAAkBC,UAChCC,EAAAA,EAAAA,KAAA,KAAAD,SAAwB,OAApBV,QAAoB,IAApBA,GAA+B,QAAXV,EAApBU,EAAsBgB,iBAAS,IAAA1B,OAAX,EAApBA,EAAiC6B,sBAEvCR,EAAAA,EAAAA,KAAA,OAAKH,UAAWC,EAAaC,SAC2B,cAAjC,OAApBV,QAAoB,IAApBA,GAA+B,QAAXT,EAApBS,EAAsBgB,iBAAS,IAAAzB,OAAX,EAApBA,EAAiC6B,mBAChCT,EAAAA,EAAAA,KAAA,OAAKH,UAAWC,EAAiBY,QAlDnBC,KAAO,IAADC,EAC1BzB,GAAa0B,IAASA,IACtB7B,EAAqB,CACnBQ,IAAyB,OAApBH,QAAoB,IAApBA,GAA+B,QAAXuB,EAApBvB,EAAsBgB,iBAAS,IAAAO,OAAX,EAApBA,EAAiCE,IACtCL,gBAAiB,CACfM,OAAQ,YAGTC,MAAK,KACJ1B,IACAR,GAAe,GACfC,EAAiB,CACfkC,QAAQ,EACRC,UAAU,IAEZ/B,GAAa0B,IAASA,GAAI,IAE3BM,MAAM,CAAC,EAAE,EAiCkDpB,SACrDL,EAAE,cAIRR,IAAYc,EAAAA,EAAAA,KAACoB,EAAAA,EAAO,MAG3B,C","sources":["webpack://mithkal-qviple/./src/StaffTab/components/DividerTab/MainContent/StaffComplaints/ComplaintDetails/ComplaintDetails.module.css?e70d","StaffTab/components/DividerTab/MainContent/StaffComplaints/ComplaintDetails/ComplaintDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"complaintDetails\":\"ComplaintDetails_complaintDetails__i-Z0b\",\"detailsheader\":\"ComplaintDetails_detailsheader__-H3f7\",\"item\":\"ComplaintDetails_item__cNsKd\",\"datetime\":\"ComplaintDetails_datetime__1Ff8L\",\"detailsbody\":\"ComplaintDetails_detailsbody__ImOXq\",\"footer\":\"ComplaintDetails_footer__JPOtw\",\"solvedbtn\":\"ComplaintDetails_solvedbtn__S+MqW\"};","import React from \"react\";\nimport style from \"./ComplaintDetails.module.css\";\nimport moment from \"moment\";\nimport { useTranslation } from \"react-i18next\";\nimport {\n  useStaffComplaintAction,\n  useStaffComplaintDetail,\n} from \"../../../../../../hooks/institute/institute-staff-student-api\";\nimport { useState } from \"react\";\nimport QLoader from \"../../../../../../Loader/QLoader\";\n\nfunction ComplaintDetails({ onComplaintId, setShowDetails, setRefetchStatus }) {\n  const [staffComplaintAction] = useStaffComplaintAction();\n  const [disabled, setDisabled] = useState(false);\n  const { staffComplaintDetail, staffComplaintDetailRefetch } =\n    useStaffComplaintDetail({\n      cid: onComplaintId?.cid,\n      skip: !onComplaintId?.cid,\n    });\n  const solvedHandler = () => {\n    setDisabled((pre) => !pre);\n    staffComplaintAction({\n      cid: staffComplaintDetail?.complaint?._id,\n      complaintStatus: {\n        status: \"Solved\",\n      },\n    })\n      .then(() => {\n        staffComplaintDetailRefetch();\n        setShowDetails(false);\n        setRefetchStatus({\n          solved: true,\n          unsolved: true,\n        });\n        setDisabled((pre) => !pre);\n      })\n      .catch({});\n  };\n  const { t } = useTranslation();\n\n  // console.info(\"this is one complaint details\", staffComplaintDetail);\n  return (\n    <div className={style.complaintDetails}>\n      <div className={style.detailsheader}>\n        <div className={style.item}>\n          <img src=\"/images/complainIconDark.svg\" alt=\"\" />\n          <div>\n            <h6>{onComplaintId?.name}</h6>\n\n            <div className={style.datetime}>\n              <p>\n                {moment(staffComplaintDetail?.complaint?.createdAt).format(\n                  \"LL\"\n                )}\n              </p>\n              <p>\n                {moment(staffComplaintDetail?.complaint?.createdAt).format(\n                  \"LT\"\n                )}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className={style.detailsbody}>\n        <p>{staffComplaintDetail?.complaint?.complaintContent}</p>\n      </div>\n      <div className={style.footer}>\n        {staffComplaintDetail?.complaint?.complaintStatus === \"Unsolved\" && (\n          <div className={style.solvedbtn} onClick={solvedHandler}>\n            {t(\"Solved\")}\n          </div>\n        )}\n      </div>\n      {disabled && <QLoader />}\n    </div>\n  );\n}\n\nexport default ComplaintDetails;\n"],"names":["_ref","_staffComplaintDetail2","_staffComplaintDetail3","_staffComplaintDetail4","_staffComplaintDetail5","onComplaintId","setShowDetails","setRefetchStatus","staffComplaintAction","useStaffComplaintAction","disabled","setDisabled","useState","staffComplaintDetail","staffComplaintDetailRefetch","useStaffComplaintDetail","cid","skip","t","useTranslation","_jsxs","className","style","children","_jsx","src","alt","name","moment","complaint","createdAt","format","complaintContent","complaintStatus","onClick","solvedHandler","_staffComplaintDetail","pre","_id","status","then","solved","unsolved","catch","QLoader"],"sourceRoot":""}