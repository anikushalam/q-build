"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[6452],{893:function(e,t,n){n.d(t,{Z:function(){return y}});var a=n(93433),s=n(37762),i=n(29439),c=n(72791),d=n(16313),l=n(53967),r=n(94721),o=n(89261),u=n(62921),v=n(17758),m=n(39230),j=n(24582),h=n(98734),x=n(37570),Z=n(95048),b=n(99376),g=n(51561),p=n(80184),f=function(e){var t=e.today,n=e.alreadyMark,a=e.allIdsArray,l=e.clickedIndex,r=e.setClickedIndex,o=e.idPresentArray,u=e.idAbsentArray,v=e.setIdPresentArray,f=e.setIdAbsentArray,y=e.cid,S=e.isDepartment,N=e.className,_=e.setIsRefetch,T=c.useState(!1),I=(0,i.Z)(T,2),A=I[0],D=I[1],C=c.useState(!1),E=(0,i.Z)(C,2),k=E[0],P=E[1],F=(0,j.b6)(),R=(0,i.Z)(F,1)[0],w=(0,j.wf)(),M=(0,i.Z)(w,1)[0],U=(0,m.$G)().t,H=(0,c.useState)(!1),q=(0,i.Z)(H,2),J=q[0],O=q[1],B=(0,Z.I0)(),G=(0,c.useState)({msg:"",run:!1}),L=(0,i.Z)(G,2),V=L[0],$=L[1];c.useEffect((function(){null!==o&&void 0!==o&&o.length||null!==u&&void 0!==u&&u.length?D(!0):D(!1)}),[o,u]);var Y=function(){O((function(e){return!e}))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:"1.5rem"},children:[(0,p.jsx)("div",{className:d.Z.buttons,children:(0,p.jsx)("div",{className:d.Z.save,onClick:Y,children:U("export_zip_attendance")})}),(0,p.jsx)("div",{className:d.Z.buttons,children:0!==l?A&&!S&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:d.Z.save,onClick:function(){P((function(e){return!e}));var e=t.split("-"),i=e[0]>9?e[0]:"0".concat(e[0]),c=e[1]>9?e[1]:"0".concat(e[1]);if(null!==n&&void 0!==n&&n._id)B(b.R.updateClassAttendance({clsId:y,ldate:"".concat(i,"/").concat(c,"/").concat(e[2]),presentStudent:null!==o&&void 0!==o&&o.length?o:[],absentStudent:null!==u&&void 0!==u&&u.length?u:[],alreadyMark:null===n||void 0===n?void 0:n._id})),M({said:null===n||void 0===n?void 0:n._id,attendanceUpdate:{date:"".concat(i,"/").concat(c,"/").concat(e[2]),present:null!==o&&void 0!==o&&o.length?o:[],absent:null!==u&&void 0!==u&&u.length?u:[]}}).then((function(){_(!0),r(0),P((function(e){return!e})),v([]),f([])})).catch({});else{var d=[];null===a||void 0===a||a.map((function(e){return d.push(e._id)}));var l=[],m=[];if(null!==o&&void 0!==o&&o.length){var j,h=(0,s.Z)(d);try{for(h.s();!(j=h.n()).done;){var x=j.value;null!==o&&void 0!==o&&o.includes(x)||m.push(x),1}}catch(S){h.e(S)}finally{h.f()}}else{var Z,g=(0,s.Z)(d);try{for(g.s();!(Z=g.n()).done;){var p=Z.value;null!==u&&void 0!==u&&u.includes(p)||l.push(p),1}}catch(S){g.e(S)}finally{g.f()}}R({cid:y,attendance:{date:"".concat(i,"/").concat(c,"/").concat(e[2]),present:null!==o&&void 0!==o&&o.length?o:l,absent:null!==u&&void 0!==u&&u.length?u:m}}).then((function(t){var n,a;"Today will be holiday Provided by department Admin or already marked attendance"===(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)?$({msg:"Today will be holiday Provided by department Admin or already marked attendance",run:!0}):B(b.R.addClassAttendance({clsId:y,ldate:"".concat(i,"/").concat(c,"/").concat(e[2]),presentStudent:null!==o&&void 0!==o&&o.length?o:l,absentStudent:null!==u&&void 0!==u&&u.length?u:m,alreadyMark:null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.alreadyMark}));r(0),P((function(e){return!e})),v([]),f([])})).catch({})}},children:U("save")})}):""})]}),k&&(0,p.jsx)(h.Z,{}),J&&(0,p.jsx)(x.Z,{cid:y,onClose:Y,className:N}),V.run&&(0,p.jsx)(g.Ch,{msg:V.msg,run:V.run,setRun:function(){return $({msg:"",run:!1})},postiton:"bottom",type:"error"})]})};var y=function(e){var t,n,h,x,b,g,y,S,N,_,T,I,A,D,C=e.cid,E=e.isDepartment,k=e.className,P=(0,l.Z)(),F=P.calendarData,R=P.selectedDate,w=P.todayFormatted,M=P.switchMonth,U=P.monthNames,H=P.getNextMonth,q=P.getPrevMonth,J=(0,c.useState)(w),O=(0,i.Z)(J,2),B=O[0],G=O[1],L=B.split("-"),V=L[0]>9?L[0]:"0".concat(L[0]),$=L[1]>9?L[1]:"0".concat(L[1]),Y=(0,m.$G)().t,z=(0,Z.v9)((function(e){return e.attendanceStore.classTeacher})),W=(0,c.useState)(""),X=(0,i.Z)(W,2),K=X[0],Q=X[1],ee=(0,c.useState)(!1),te=(0,i.Z)(ee,2),ne=te[0],ae=te[1],se=(0,j.EY)({data:{cid:C,page:1,limit:30},skip:!C}),ie=se.classAllStudent,ce=se.classAllStudentRefetch,de=(0,j.Px)({data:{cid:C,date:"".concat(V,"/").concat($,"/").concat(L[2])},skip:!C}),le=de.classStudentCurrentAttendance,re=de.classStudentCurrentAttendanceRefetch;(0,c.useEffect)((function(){if((null===z||void 0===z?void 0:z.length)>0){var e,t=B.split("-"),n=t[0]>9?t[0]:"0".concat(t[0]),a=t[1]>9?t[1]:"0".concat(t[1]),i="",c=(0,s.Z)(z);try{for(c.s();!(e=c.n()).done;){var d=e.value;if((null===d||void 0===d?void 0:d.ldate)==="".concat(n,"/").concat(a,"/").concat(t[2])){if((null===d||void 0===d?void 0:d.clsId)===C){i=d;break}ae(!1)}else ae(!1)}}catch(l){c.e(l)}finally{c.f()}Q(i)}}),[z,B,C,ne]),(0,c.useEffect)((function(){C&&(ce(),re())}),[C,re,ce]);var oe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ue=Math.floor(F.map((function(e){return e.date})).indexOf(B)/10),ve=(0,c.useState)(ue),me=(0,i.Z)(ve,2),je=me[0],he=me[1],xe=10*je,Ze=Math.ceil(F.length/10),be=F.slice(xe,xe+10).map((function(e,t){return(0,p.jsxs)("div",{className:e.date===B?"".concat(d.Z.date," ").concat(d.Z.clickedDate):d.Z.date,onClick:function(){return G(e.date)},children:[(0,p.jsx)("h6",{children:e.date.split("-")[0]}),(0,p.jsx)("p",{children:oe[e.day]})]},t)})),ge=(0,c.useState)(1),pe=(0,i.Z)(ge,2),fe=pe[0],ye=pe[1],Se=(0,c.useState)([]),Ne=(0,i.Z)(Se,2),_e=Ne[0],Te=Ne[1],Ie=(0,c.useState)([]),Ae=(0,i.Z)(Ie,2),De=Ae[0],Ce=Ae[1],Ee=c.useState([]),ke=(0,i.Z)(Ee,2),Pe=ke[0],Fe=ke[1],Re=c.useState([]),we=(0,i.Z)(Re,2),Me=we[0],Ue=we[1],He=(0,c.useState)(!1),qe=(0,i.Z)(He,2),Je=qe[0],Oe=qe[1];c.useEffect((function(){var e,t;Te(null===ie||void 0===ie||null===(e=ie.classes)||void 0===e?void 0:e.ApproveStudent),Ce(null===ie||void 0===ie||null===(t=ie.classes)||void 0===t?void 0:t.ApproveStudent)}),[null===ie||void 0===ie||null===(t=ie.classes)||void 0===t?void 0:t.ApproveStudent]),c.useEffect((function(){Fe([]),Ue([])}),[fe]);var Be=function(e){var t=(0,a.Z)(Pe);if(null!==t&&void 0!==t&&t.includes(e)){var n=t.indexOf(e);t.splice(n,1),Fe((function(){return(0,a.Z)(t)}))}else Fe((function(t){return[].concat((0,a.Z)(t),[e])}))},Ge=function(e){var t=(0,a.Z)(Me);if(null!==t&&void 0!==t&&t.includes(e)){var n=t.indexOf(e);t.splice(n,1),Ue((function(){return(0,a.Z)(t)}))}else Ue((function(t){return[].concat((0,a.Z)(t),[e])}))};return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:d.Z.attendence,style:{border:E?"none":"0.5px solid #cacaca"},children:[(0,p.jsxs)("div",{className:d.Z.attendencehead,children:[(0,p.jsxs)("div",{className:d.Z.attendenceBtns,children:[(0,p.jsxs)("div",{className:d.Z.changemonth,onClick:function(){return Oe(!Je)},children:[(0,p.jsxs)("h6",{children:[U[R.getMonth()]," ",R.getFullYear()]}),(0,p.jsx)("img",{alt:"not found",src:"/images/dropdown-icon.svg"}),Je&&(0,p.jsx)("div",{className:d.Z.selectMonthList,children:["January","February","March","April","May","June","July","August","September","October","November","December"].map((function(e,t){return(0,p.jsx)("div",{className:d.Z.month,onClick:function(){M(t),Oe(!1)},children:e},t)}))})]}),(0,p.jsx)(f,{alreadyMark:K?{_id:null===K||void 0===K?void 0:K.alreadyMark}:null===le||void 0===le||null===(n=le.classes)||void 0===n||null===(h=n.attendenceDate)||void 0===h?void 0:h[0],today:B,allIdsArray:null===ie||void 0===ie||null===(x=ie.classes)||void 0===x?void 0:x.ApproveStudent,classStudentCurrentAttendanceRefetch:re,clickedIndex:fe,setClickedIndex:ye,idPresentArray:Pe,idAbsentArray:Me,setIdPresentArray:Fe,setIdAbsentArray:Ue,cid:C,isDepartment:E,className:k,setIsRefetch:ae})]}),(0,p.jsxs)("div",{className:d.Z.calender,children:[(0,p.jsx)("div",{className:d.Z.arrowbtn,onClick:function(){je>0?he((function(e){return e-1})):(he(Ze-1),q())},children:(0,p.jsx)("img",{alt:"not found",src:"/images/members/left-icon.svg"})}),(0,p.jsx)("div",{className:d.Z.dates,children:be}),(0,p.jsx)("div",{className:d.Z.arrowbtn,onClick:function(){je+1<Ze?he((function(e){return e+1})):(he(0),H())},children:(0,p.jsx)("img",{alt:"not found",src:"/images/members/right-icon.svg"})})]})]}),(0,p.jsx)(r.Z,{}),(0,p.jsxs)("div",{className:d.Z.tabs,children:[(0,p.jsxs)("div",{className:0===fe?"".concat(d.Z.tab," ").concat(d.Z.purple):"".concat(d.Z.tab," ").concat(d.Z.grey),onClick:function(){return ye(0)},children:[Y("total")," ",null===ie||void 0===ie||null===(b=ie.classes)||void 0===b||null===(g=b.ApproveStudent)||void 0===g?void 0:g.length]}),(0,p.jsxs)("div",{className:1===fe?"".concat(d.Z.tab," ").concat(d.Z.tabgreen):"".concat(d.Z.tab," ").concat(d.Z.light),onClick:function(){return ye(1)},children:[Y("present")," ",K?null!==(y=null===K||void 0===K?void 0:K.presentCount)&&void 0!==y?y:0:null===le||void 0===le||null===(S=le.classes)||void 0===S||null===(N=S.attendenceDate[0])||void 0===N?void 0:N.presentTotal]}),(0,p.jsxs)("div",{className:2===fe?"".concat(d.Z.tab," ").concat(d.Z.red):"".concat(d.Z.tab," ").concat(d.Z.rose),onClick:function(){return ye(2)},children:[Y("absent")," ",K?null!==(_=null===K||void 0===K?void 0:K.absentCount)&&void 0!==_?_:0:null===le||void 0===le||null===(T=le.classes)||void 0===T||null===(I=T.attendenceDate[0])||void 0===I?void 0:I.absentTotal]})]}),(0,p.jsxs)("div",{className:d.Z.list,children:[0===fe&&(null===ie||void 0===ie||null===(A=ie.classes)||void 0===A||null===(D=A.ApproveStudent)||void 0===D?void 0:D.map((function(e,t){var n,a,s,i,c,l,r,u;return K?null!==K&&void 0!==K&&null!==(n=K.presentStudent)&&void 0!==n&&n.includes(e._id)?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.Z,{student:e,status:"present"},t),(0,p.jsx)("div",{className:d.Z.divider})]}):null!==K&&void 0!==K&&null!==(a=K.absentStudent)&&void 0!==a&&a.includes(e._id)?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.Z,{student:e,status:"absent"},t),(0,p.jsx)("div",{className:d.Z.divider})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.Z,{student:e,status:"initial"},t),(0,p.jsx)("div",{className:d.Z.divider})]}):null!==le&&void 0!==le&&null!==(s=le.classes)&&void 0!==s&&null!==(i=s.attendenceDate[0])&&void 0!==i&&null!==(c=i.presentStudent)&&void 0!==c&&c.includes(e._id)?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.Z,{student:e,status:"present"},t),(0,p.jsx)("div",{className:d.Z.divider})]}):null!==le&&void 0!==le&&null!==(l=le.classes)&&void 0!==l&&null!==(r=l.attendenceDate[0])&&void 0!==r&&null!==(u=r.absentStudent)&&void 0!==u&&u.includes(e._id)?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.Z,{student:e,status:"absent"},t),(0,p.jsx)("div",{className:d.Z.divider})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.Z,{student:e,status:"initial"},t),(0,p.jsx)("div",{className:d.Z.divider})]})}))),1===fe&&(null===_e||void 0===_e?void 0:_e.length)>0&&(null===_e||void 0===_e?void 0:_e.map((function(e,t){var n,a,s,i;return K?null!==K&&void 0!==K&&null!==(n=K.presentStudent)&&void 0!==n&&n.includes(e._id)?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.Z,{student:e,status:"present",presentTabHandler:Be},t),(0,p.jsx)("div",{className:d.Z.divider})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.Z,{student:e,presentTabHandler:Be,status:"absent"},t),(0,p.jsx)("div",{className:d.Z.divider})]}):null!==le&&void 0!==le&&null!==(a=le.classes)&&void 0!==a&&null!==(s=a.attendenceDate[0])&&void 0!==s&&null!==(i=s.presentStudent)&&void 0!==i&&i.includes(e._id)?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.Z,{student:e,status:"present",presentTabHandler:Be},t),(0,p.jsx)("div",{className:d.Z.divider})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.Z,{student:e,presentTabHandler:Be,status:"absent"},t),(0,p.jsx)("div",{className:d.Z.divider})]})}))),2===fe&&(null===De||void 0===De?void 0:De.length)>0&&(null===De||void 0===De?void 0:De.map((function(e,t){var n,a,s,i;return K?null!==K&&void 0!==K&&null!==(n=K.absentStudent)&&void 0!==n&&n.includes(e._id)?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(v.Z,{student:e,status:"absent",absentTabHandler:Ge},t),(0,p.jsx)("div",{className:d.Z.divider})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(v.Z,{student:e,status:"present",absentTabHandler:Ge},t),(0,p.jsx)("div",{className:d.Z.divider})]}):null!==le&&void 0!==le&&null!==(a=le.classes)&&void 0!==a&&null!==(s=a.attendenceDate[0])&&void 0!==s&&null!==(i=s.absentStudent)&&void 0!==i&&i.includes(e._id)?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(v.Z,{student:e,status:"absent",absentTabHandler:Ge},t),(0,p.jsx)("div",{className:d.Z.divider})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(v.Z,{student:e,status:"present",absentTabHandler:Ge},t),(0,p.jsx)("div",{className:d.Z.divider})]})})))]})]})})}},76452:function(e,t,n){n.d(t,{Z:function(){return T}});var a=n(29439),s=(n(72791),n(16871)),i=n(43504),c=n(39230),d=n(22984),l=n(80184);var r=function(e){var t,n,a,r=e.carryParentState,o=(0,c.$G)().t,u=(0,s.TH)(),v=(0,s.UO)();return(0,l.jsx)("div",{className:d.Z.mcqTop,style:{padding:"0"},children:(0,l.jsxs)("div",{className:d.Z.mcqToptabs,children:[(0,l.jsx)(i.rU,{to:"/q/".concat(v.username,"/member/department/").concat(v.deptname,"?a=class-detail"),state:r,className:"class-detail"===(null===(t=u.search)||void 0===t?void 0:t.substring(3))?"".concat(d.Z.mcqTopItem," ").concat(d.Z.active):d.Z.mcqTopItem,children:(0,l.jsx)("div",{children:o("students")})}),(0,l.jsx)(i.rU,{to:"/q/".concat(v.username,"/member/department/").concat(v.deptname,"?a=class-attendance"),state:r,className:"class-attendance"===(null===(n=u.search)||void 0===n?void 0:n.substring(3))?"".concat(d.Z.mcqTopItem," ").concat(d.Z.active):d.Z.mcqTopItem,children:(0,l.jsx)("div",{children:o("attendance")})}),(0,l.jsx)(i.rU,{to:"/q/".concat(v.username,"/member/department/").concat(v.deptname,"?a=class-subject"),state:r,className:"class-subject"===(null===(a=u.search)||void 0===a?void 0:a.substring(3))?"".concat(d.Z.mcqTopItem," ").concat(d.Z.active):d.Z.mcqTopItem,children:(0,l.jsx)("div",{children:o("subjects")})})]})})},o=n(33148),u=n(23664),v=n(65408),m=n(60943),j=n(893),h=n(8148),x=n(11806),Z=n(60726),b=function(e){var t=e.carryParentState,n=e.isDepartment,a=(0,c.$G)().t;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:x.Z.MiddleContentLeft,style:{border:"none"},children:"CLASS_TEACHER"===n?(0,l.jsxs)("div",{className:x.Z.item,style:{paddingLeft:"2vw"},children:[(0,l.jsx)(Z.Z,{carryParentState:t,activeTab:"subject-catalog",children:(0,l.jsxs)("div",{className:x.Z.itemIcon,children:[(0,l.jsx)("img",{src:"/images/member_tab/class/class-catalog-icon.svg",alt:"Class Catalog"}),(0,l.jsx)("p",{children:a("catalog")})]})}),(0,l.jsx)(Z.Z,{carryParentState:t,activeTab:"subject-attendance",children:(0,l.jsxs)("div",{className:x.Z.itemIcon,children:[(0,l.jsx)("img",{src:"/images/member_tab/class/class-attendance-icon.svg",alt:"attendence"}),(0,l.jsxs)("p",{children:[" ",a("attendance")," "]})]})}),(0,l.jsx)(Z.Z,{carryParentState:t,activeTab:"subject-assignment",children:(0,l.jsxs)("div",{className:x.Z.itemIcon,children:[(0,l.jsx)("img",{src:"/images/member_tab/subject/subject-assignment-icon.svg",alt:"assignment"}),(0,l.jsx)("p",{children:a("assigmnent")})]})}),(0,l.jsx)(Z.Z,{carryParentState:t,activeTab:"subject-exam",children:(0,l.jsxs)("div",{className:x.Z.itemIcon,children:[(0,l.jsx)("img",{src:"/images/member_tab/department/department-examination-icon.svg",alt:"attendence"}),(0,l.jsx)("p",{children:a("examinations")})]})}),(0,l.jsx)(Z.Z,{carryParentState:t,activeTab:"subject-academic",children:(0,l.jsxs)("div",{className:x.Z.itemIcon,children:[(0,l.jsx)("img",{src:"/images/member_tab/subject/subject-daily-update-icon.svg",alt:"student Request"}),(0,l.jsx)("p",{style:{textAlign:"center"},children:a("academics_teachings")})]})})]}):(0,l.jsxs)("div",{className:x.Z.item,style:{paddingLeft:"2vw"},children:[(0,l.jsx)(h.Z,{carryParentState:t,activeTab:"subject-catalog",children:(0,l.jsxs)("div",{className:x.Z.itemIcon,children:[(0,l.jsx)("img",{src:"/images/member_tab/class/class-catalog-icon.svg",alt:"Class Catalog"}),(0,l.jsx)("p",{children:a("catalog")})]})}),(0,l.jsx)(h.Z,{carryParentState:t,activeTab:"subject-attendance",children:(0,l.jsxs)("div",{className:x.Z.itemIcon,children:[(0,l.jsx)("img",{src:"/images/member_tab/class/class-attendance-icon.svg",alt:"attendence"}),(0,l.jsxs)("p",{children:[" ",a("attendance")," "]})]})}),(0,l.jsx)(h.Z,{carryParentState:t,activeTab:"subject-assignment",children:(0,l.jsxs)("div",{className:x.Z.itemIcon,children:[(0,l.jsx)("img",{src:"/images/member_tab/subject/subject-assignment-icon.svg",alt:"assignment"}),(0,l.jsx)("p",{children:a("assigmnent")})]})}),(0,l.jsx)(h.Z,{carryParentState:t,activeTab:"subject-exam",children:(0,l.jsxs)("div",{className:x.Z.itemIcon,children:[(0,l.jsx)("img",{src:"/images/member_tab/department/department-examination-icon.svg",alt:"attendence"}),(0,l.jsx)("p",{children:a("examinations")})]})}),(0,l.jsx)(h.Z,{carryParentState:t,activeTab:"subject-academic",children:(0,l.jsxs)("div",{className:x.Z.itemIcon,children:[(0,l.jsx)("img",{src:"/images/member_tab/subject/subject-daily-update-icon.svg",alt:"student Request"}),(0,l.jsx)("p",{style:{textAlign:"center"},children:a("academics_teachings")})]})})]})})})},g=n(54693),p=n(11457),f=n(73453),y=n(60463),S=n(46480),N=n(6763),_=n(61587),T=function(e){var t,n,d,h,x,Z,T,I,A,D,C,E,k,P,F,R,w,M,U,H,q,J,O,B,G,L,V=e.carryParentState,$=e.viewAs,Y=e.did,z=e.instituteId,W=(0,c.$G)().t,X=(0,s.TH)(),K=(0,i.lr)(),Q=(0,a.Z)(K,1)[0];return(0,l.jsx)(l.Fragment,{children:"subject-academic-detail"===Q.get("a")?(0,l.jsx)(S.Z,{}):"assignment-detail"===Q.get("a")?(0,l.jsx)(N.Z,{isDepartment:$,carryParentState:V}):"assignment-student-detail"===Q.get("a")?(0,l.jsx)(_.Z,{isDepartment:$}):(0,l.jsx)("div",{className:o.Z.departmenthead,children:(0,l.jsxs)("div",{className:o.Z.demaprtment_list,children:[(0,l.jsx)("div",{className:o.Z.with_search,style:{marginBottom:"0.7rem",alignItems:"flex-start",flexDirection:"column"},children:"subject"===(null===(t=Q.get("a"))||void 0===t?void 0:t.substring(0,7))?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("h6",{children:[W("subject_name")," : ",null!==(n=null===(d=X.state)||void 0===d?void 0:d.subjectName)&&void 0!==n?n:""]}),(0,l.jsxs)("h6",{children:[W("subject_teacher")," : ",null!==(h=null===(x=X.state)||void 0===x?void 0:x.subjectTeacherName)&&void 0!==h?h:""]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("h6",{children:[W("class_name")," : ",null!==(Z=null===(T=X.state)||void 0===T?void 0:T.clsName)&&void 0!==Z?Z:""]}),(0,l.jsxs)("h6",{children:[W("class_teacher")," : ",null!==(I=null===(A=X.state)||void 0===A?void 0:A.teacherName)&&void 0!==I?I:""]})]})}),"subject-detail"===Q.get("a")?(0,l.jsx)(b,{carryParentState:V,isDepartment:$}):"subject-catalog"===Q.get("a")?(0,l.jsx)(m.Z,{cid:null===(D=X.state)||void 0===D?void 0:D.clsId,bid:null===(C=X.state)||void 0===C?void 0:C.batchId,isDepartment:$,sid:null===(E=X.state)||void 0===E?void 0:E.subjectId}):"subject-attendance"===Q.get("a")?(0,l.jsx)(g.Z,{sid:null===(k=X.state)||void 0===k?void 0:k.subjectId,bid:null===(P=X.state)||void 0===P?void 0:P.batchId,isDepartment:$,subjectName:null!==(F=null===(R=X.state)||void 0===R?void 0:R.subjectName)&&void 0!==F?F:""}):"subject-assignment"===Q.get("a")?(0,l.jsx)(p.Z,{sid:null===(w=X.state)||void 0===w?void 0:w.subjectId,cid:null===(M=X.state)||void 0===M?void 0:M.clsId,carryParentState:V,bid:null===(U=X.state)||void 0===U?void 0:U.batchId,isDepartment:$}):"subject-exam"===Q.get("a")?(0,l.jsx)(f.Z,{sid:null===(H=X.state)||void 0===H?void 0:H.subjectId,cid:null===(q=X.state)||void 0===q?void 0:q.clsId,isDepartment:$}):"subject-academic"===Q.get("a")?(0,l.jsx)(y.Z,{sid:null===(J=X.state)||void 0===J?void 0:J.subjectId,carryParentState:V,isDepartment:$}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r,{carryParentState:V}),"class-detail"===Q.get("a")&&(0,l.jsx)(u.Z,{cid:X.state.clsId,openAs:"SUBJECT_TEACHER",isDepartment:!0}),"class-subject"===Q.get("a")&&(0,l.jsx)(v.Z,{carryParentState:V,clsId:null===(O=X.state)||void 0===O?void 0:O.clsId,isView:"DEPARTMENT_HEAD",instituteId:z,did:Y}),"class-attendance"===Q.get("a")&&(0,l.jsx)(j.Z,{cid:null===(B=X.state)||void 0===B?void 0:B.clsId,isDepartment:!0,className:null!==(G=null===(L=X.state)||void 0===L?void 0:L.clsName)&&void 0!==G?G:""})]})]})})})}},60463:function(e,t,n){n.d(t,{Z:function(){return y}});var a=n(1413),s=n(29439),i=n(72791),c=n(83401),d=n(39230),l=n(98094),r=n(93433),o=n(99532),u=n(23441),v=n(65543),m=n(40444),j=n(34219),h=n(11105),x=n(80184),Z=function(e){var t,n=e.sid,a=e.reftechStatus,c=e.setReftechStatus,d=e.isDepartment,l=(0,i.useState)(!0),Z=(0,s.Z)(l,2),b=Z[0],g=Z[1],p=(0,i.useState)(1),f=(0,s.Z)(p,2),y=f[0],S=f[1],N=(0,u.YD)(),_=(0,s.Z)(N,2),T=_[0],I=_[1],A=(0,i.useState)([]),D=(0,s.Z)(A,2),C=D[0],E=D[1],k=(0,i.useState)(!0),P=(0,s.Z)(k,2),F=P[0],R=P[1],w=(0,v.u)().scrollToTop,M=(0,m.RX)({data:{sid:n,page:a?1:y,limit:10},skip:!n}),U=M.getAllDailySubject,H=M.getAllDailySubjectRefetch;(0,i.useEffect)((function(){a&&(S((function(e){return 1})),c(!1),H())}),[a]),(0,i.useEffect)((function(){n&&(R(!0),H())}),[n,y,H]),(0,i.useEffect)((function(){w()}),[w]),(0,i.useEffect)((function(){I&&b&&S((function(e){return e+1}))}),[I,b]),(0,i.useEffect)((function(){var e,t;null!==U&&void 0!==U&&U.dailyUpdate?(E(1===y?null===U||void 0===U?void 0:U.dailyUpdate:function(e){return(0,r.Z)(new Set([].concat((0,r.Z)(e),(0,r.Z)(null===U||void 0===U?void 0:U.dailyUpdate)).map(JSON.stringify))).map(JSON.parse)}),R(!1)):0===(null===U||void 0===U||null===(e=U.dailyUpdate)||void 0===e?void 0:e.length)&&R(!1),10===(null===U||void 0===U||null===(t=U.dailyUpdate)||void 0===t?void 0:t.length)?g(!0):g(!1)}),[null===U||void 0===U?void 0:U.dailyUpdate]);var q=function(){S((function(e){return 1})),R(!0),H()};return(0,x.jsxs)(x.Fragment,{children:[null===C||void 0===C?void 0:C.map((function(e,t){return(null===C||void 0===C?void 0:C.length)===t+1?(0,x.jsx)("div",{ref:T,children:(0,x.jsx)(o.Z,{daily:e,sid:n,onParentRefetch:q,isView:d?"STUDENT":""})},null===e||void 0===e?void 0:e._id):(0,x.jsx)(o.Z,{daily:e,sid:n,onParentRefetch:q,isView:d?"STUDENT":""},null===e||void 0===e?void 0:e._id)})),!F&&!(null!==U&&void 0!==U&&null!==(t=U.dailyUpdate)&&void 0!==t&&t.length)&&(0,x.jsx)(j.Z,{customStyleContainer:{marginTop:"9rem"},title:"No academics found yet."}),F&&(0,x.jsx)(h.Z,{status:"white"})]})},b=n(10515),g=n(4213),p=n(16871),f=n(43504),y=function(e){var t=e.sid,n=e.carryParentState,r=e.isDepartment,o=(0,d.$G)().t,u=(0,p.UO)(),v=(0,i.useState)(!1),m=(0,s.Z)(v,2),j=m[0],h=m[1],y=(0,i.useState)(!1),S=(0,s.Z)(y,2),N=S[0],_=S[1],T=(0,i.useState)(!1),I=(0,s.Z)(T,2),A=I[0],D=I[1],C=function(){h((function(e){return!e}))};return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:c.Z.subject_academic_container,children:[(0,x.jsxs)("div",{className:c.Z.subject_academic_title,children:[(0,x.jsx)("h6",{children:o("academics_teachings")}),(0,x.jsx)("div",{className:c.Z.subject_academic_link,children:"CLASS_TEACHER"===r?(0,x.jsx)(f.rU,{to:"/q/".concat(u.username,"/member/class/").concat(u.cname,"?a=subject-academic-detail"),state:(0,a.Z)((0,a.Z)({},n),{},{subjectId:t,isView:"DEPARTMENT_HEAD"}),children:(0,x.jsx)("h6",{className:c.Z.add_record_lecture,style:{margin:"0"},children:o("view_academic_detail")})}):"DEPARTMENT_HEAD"===r?(0,x.jsx)(f.rU,{to:"/q/".concat(u.username,"/member/department/").concat(u.deptname,"?a=subject-academic-detail"),state:(0,a.Z)((0,a.Z)({},n),{},{subjectId:t,isView:"DEPARTMENT_HEAD"}),children:(0,x.jsx)("h6",{className:c.Z.add_record_lecture,style:{margin:"0"},children:o("view_academic_detail")})}):(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(f.rU,{to:"/q/".concat(u.username,"/member/subject/").concat(u.sname,"?a=subject-academic"),state:(0,a.Z)((0,a.Z)({},n),{},{subjectId:t,isView:r?"DEPARTMENT_HEAD":"SUBJECT_TEACHER",isSubType:"SUBJECT_TEACHER_INSTITUTE"}),children:(0,x.jsx)("h6",{className:c.Z.add_record_lecture,style:{margin:"0"},children:o("view_academic_detail")})})})})]}),(0,x.jsx)(l.Z,{customStyle:{width:"100%",marginTop:"0.7rem",marginBottom:"0.7rem"}}),r?null:(0,x.jsx)("div",{className:c.Z.record_lecture,children:(0,x.jsx)("h6",{className:c.Z.add_record_lecture,onClick:C,children:o("record_lecture_teachings")})}),j&&(0,x.jsx)(b.Z,{onClose:C,sid:t,onRefetch:function(){D(!0)}}),N&&(0,x.jsx)(g.Z,{onClose:function(){_((function(e){return!e}))},sid:t}),(0,x.jsx)(Z,{sid:t,reftechStatus:A,setReftechStatus:D,isDepartment:r})]})})}}}]);
//# sourceMappingURL=6452.e7cc9aff.chunk.js.map