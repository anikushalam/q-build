(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[88204],{38986:(e,n,a)=>{"use strict";a.d(n,{Z:()=>c});var l=a(72791),i=a(52245),o=a(39230),t=a(1095),d=a(80184);const c=e=>{let{label:n,name:a,value:c,onChange:r,errorShow:s,disabled:_,customFormFileContainer:u,customFormFileLabel:v,customFormFile:m,type:p,multiple:b}=e;const{t:f}=(0,o.$G)(),h=(0,l.useCallback)((()=>{const e=window.open("".concat(t.yI,"/").concat(null===c||void 0===c?void 0:c.key),"_blank","noopener,noreferrer");e&&(e.opener=null)}),[null===c||void 0===c?void 0:c.key]);return(0,d.jsxs)("div",{className:i.Z.form_input_container,style:{...u},children:[n&&(0,d.jsxs)("label",{className:i.Z.form_input_label,style:v,children:[n,s?(0,d.jsxs)("span",{className:i.Z.form_input_label_error,children:["* ",f("form_require_label")]}):null]}),(0,d.jsxs)("div",{className:i.Z.form_file_container,style:m,children:[(0,d.jsx)("label",{className:c?"".concat(i.Z.form_file_choose," ").concat(i.Z.form_file_choose_active):i.Z.form_file_choose,htmlFor:a,children:f(""!==c?"file_choosen":"choose_file")}),(0,d.jsx)("label",{className:i.Z.form_file_choosen,onClick:h,children:""!==c?null!==c&&void 0!==c&&c.name?null===c||void 0===c?void 0:c.name:f("view"):f("no_file_chosen")})]}),(0,d.jsx)("input",{type:"file",multiple:!!b,accept:p||"image/*, .doc,.docx, application/pdf,.csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",name:a,id:a,style:{display:"none"},onChange:r,disabled:_})]})}},31897:(e,n,a)=>{"use strict";a.d(n,{Z:()=>c});var l=a(72791),i=a(39230),o=a(52245),t=a(98684),d=a(80184);const c=e=>{let{selectLabel:n,onClick:a,selectedValue:c,options:r,customStyleContainer:s,customLabelStyle:_,customListStyle:u,errorShow:v,defalutValue:m,viewAs:p,isFull:b,isDenied:f}=e;const{t:h}=(0,i.$G)(),[x,k]=(0,l.useState)(!1),[j,g]=(0,l.useState)(""),y=()=>{f||k((e=>!e))};(0,l.useEffect)((()=>{"NORMAL_FILTER"===p&&g(m)}),[p,m]),(0,l.useEffect)((()=>{if("CUSTOM_FILTER"===p){let l="";for(let i of r)for(let o of m)if((null===i||void 0===i?void 0:i._id)===o){var e,n,a;let o=null!==(e=null!==(n=null!==(a=null===i||void 0===i?void 0:i.dName)&&void 0!==a?a:null===i||void 0===i?void 0:i.batchName)&&void 0!==n?n:null===i||void 0===i?void 0:i.className)&&void 0!==e?e:"";l=l?l+", "+o:o}g(l)}}),[p,m,r]);return(0,d.jsxs)("div",{className:o.Z.form_input_container,style:{...s},children:[(0,d.jsxs)("p",{className:o.Z.join_form_select_paragraph,style:{..._},children:[n,v&&(0,d.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",h("form_require_label")]})]}),(0,d.jsxs)("section",{className:o.Z.join_form_select_custom,onClick:y,children:[j?(0,d.jsx)("p",{className:o.Z.join_form_select_custom_paragraph,children:null!==j&&void 0!==j?j:""}):(0,d.jsx)("p",{className:o.Z.join_form_select_custom_paragraph,children:c}),x?(0,d.jsx)("img",{className:o.Z.join_form_select_custom_rotate_icon,src:"".concat(t.J7,"/down.svg"),alt:"categor icon"}):(0,d.jsx)("img",{className:o.Z.join_form_select_custom_icon,src:"".concat(t.J7,"/down.svg"),alt:"categor icon"})]}),x&&(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("section",{className:o.Z.join_form_select_custom_list,style:u,children:null===r||void 0===r?void 0:r.map(((e,n)=>{var l;return(0,d.jsx)("p",{onClick:()=>(e=>{var n;a(b?e:null===e||void 0===e?void 0:e._id),y(),g(null!==(n=null===e||void 0===e?void 0:e.dName)&&void 0!==n?n:e)})(e),className:o.Z.join_form_select_custom_paragraph_option,children:null!==(l=null===e||void 0===e?void 0:e.dName)&&void 0!==l?l:e},n)}))})})]})}},88204:(e,n,a)=>{"use strict";a.r(n),a.d(n,{default:()=>Se});var l=a(56959),i=a(39230),o=a(72791);const t="BankDetail_bank_detail_card__XlDeo",d="BankDetail_bank_detail_card_heading__mL+og",c="BankDetail_bank_detail_card_inner__WTrMU",r="BankDetail_bank_detail_applicable__o9ybT",s="BankDetail_bank_detail_card_upi__B4gIC",_="BankDetail_bank_detail_card_qr__1sjcI",u="BankDetail_bank_detail_list__pwEqa",v="BankDetail_applicable_btn_container__eJ1fc",m="BankDetail_applicable_btn__T+Xhu",p="BankDetail_applicable_text__-94Qt",b="BankDetail_applicable_text_error__N2w5n",f="BankDetail_bank_fund_container__7nWd7",h="BankDetail_bank_fund__mShX7",x="BankDetail_bank_details__-SkE-",k="BankDetail_bank_upi__a1q+v",j="BankDetail_bank_qr_code__PmB1G",g="BankDetail_bank_qr_code_text__R7pza",y="BankDetail_modal_container__lWae0";var Z=a(6758),N=a(8959),I=a(1095),S=a(98684),w=a(80184);let C={fontWeight:"400"};const F=e=>{var n,a,l,o,u,v,m,p,b,f;let{bank:h}=e;const{t:x}=(0,i.$G)();return(0,w.jsxs)("div",{className:t,children:[(0,w.jsxs)("div",{className:d,children:[(0,w.jsx)("img",{src:"".concat(S.J7,"/bank-card.svg"),alt:"bank icon"}),(0,w.jsxs)("div",{className:c,children:[(0,w.jsx)("h6",{children:null!==(n=null===h||void 0===h?void 0:h.finance_bank_name)&&void 0!==n?n:""}),(0,w.jsx)("p",{children:null!==h&&void 0!==h&&null!==(a=h.department)&&void 0!==a&&a.dName?null===h||void 0===h||null===(l=h.department)||void 0===l?void 0:l.dName:null!==h&&void 0!==h&&h.hostel?"Hostel":null!==h&&void 0!==h&&h.library?"Library":null!==h&&void 0!==h&&h.transport?"Transport":(null===h||void 0===h||null===(o=h.departments)||void 0===o?void 0:o.length)>0?null===h||void 0===h||null===(u=h.departments)||void 0===u?void 0:u.map(((e,n)=>{var a,l;return(0,w.jsxs)("span",{children:[null!==(a=null===e||void 0===e?void 0:e.dName)&&void 0!==a?a:"",n+1===(null===h||void 0===h||null===(l=h.departments)||void 0===l?void 0:l.length)?"":", "]},null===e||void 0===e?void 0:e._id)})):"Society"===(null===h||void 0===h?void 0:h.bank_account_type)?"Society":""})]})]}),(0,w.jsxs)("section",{className:r,children:[(0,w.jsxs)("h6",{children:[x("applicable_for")," "," : "," "]}),(0,w.jsx)(N.Z,{label:null!==h&&void 0!==h&&null!==(v=h.department)&&void 0!==v&&v.dName?null===h||void 0===h||null===(m=h.department)||void 0===m?void 0:m.dName:null!==h&&void 0!==h&&h.hostel?"Hostel":null!==h&&void 0!==h&&h.library?"Library":null!==h&&void 0!==h&&h.transport?"Transport":(null===h||void 0===h||null===(p=h.departments)||void 0===p?void 0:p.length)>0?null===h||void 0===h||null===(b=h.departments)||void 0===b?void 0:b.map(((e,n)=>{var a,l;return(0,w.jsxs)("span",{children:[null!==(a=null===e||void 0===e?void 0:e.dName)&&void 0!==a?a:"",n+1===(null===h||void 0===h||null===(l=h.departments)||void 0===l?void 0:l.length)?"":", "]},null===e||void 0===e?void 0:e._id)})):"Society"===(null===h||void 0===h?void 0:h.bank_account_type)?"Society":"",customFormInputLabel:C})]}),(0,w.jsxs)("section",{className:r,children:[(0,w.jsx)("h6",{children:x("bank_details")}),(0,w.jsx)(N.Z,{label:"".concat(x("bank_name")," :"),value:null===h||void 0===h?void 0:h.finance_bank_name,customFormInput:C}),(0,w.jsx)(N.Z,{label:"".concat(x("account_name")," :"),value:null===h||void 0===h?void 0:h.finance_bank_account_name,customFormInput:C}),(0,w.jsx)(N.Z,{label:"".concat(x("account_number")," :"),value:null===h||void 0===h?void 0:h.finance_bank_account_number,customFormInput:C}),(0,w.jsx)(N.Z,{label:"".concat(x("ifsc_code")," :"),value:null===h||void 0===h?void 0:h.finance_bank_ifsc_code,customFormInput:C}),(0,w.jsx)(N.Z,{label:"".concat(x("address")," :"),value:null===h||void 0===h?void 0:h.finance_bank_branch_address,customFormInput:C})]}),(0,w.jsx)(N.Z,{label:"".concat(x("upi_id")," :"),value:null===h||void 0===h?void 0:h.finance_bank_upi_id,customFormInput:C}),(0,w.jsxs)("section",{className:s,style:{width:"100%",alignItems:"flex-start"},children:[(0,w.jsxs)("div",{className:_,children:[(0,w.jsxs)("h6",{children:[x("qr_code"),":"]}),(0,w.jsx)("p",{children:null!==(f=null===h||void 0===h?void 0:h.finance_bank_upi_id)&&void 0!==f?f:""})]}),null!==h&&void 0!==h&&h.finance_bank_upi_qrcode?(0,w.jsx)("img",{src:"".concat(I.yI,"/").concat(null===h||void 0===h?void 0:h.finance_bank_upi_qrcode),alt:"qr code"}):""]})]})};var D=a(16871),L=a(43677),B=a(1669),T=a(23441),M=a(91427),A=a(57588),E=a(55336),Y=a(2651);const q=e=>{var n,a,l;let{fid:i}=e;const t=(0,D.TH)(),[d,c]=(0,o.useState)(""),[r,s]=(0,o.useState)(1),[_,v]=(0,o.useState)(!0),[m,p]=(0,T.YD)({skip:d}),{financeAllBank:b,financeAllBankLoading:f}=(0,Z.iB)({data:{fid:i,page:r,limit:10,search:d},skip:!i});(0,o.useEffect)((()=>{p&&_&&s((e=>e+1))}),[p,_]),(0,o.useEffect)((()=>{if(null!==b&&void 0!==b&&b.list){var e;let n=(0,M.f)(null===b||void 0===b||null===(e=b.list)||void 0===e?void 0:e.length);v((()=>n))}}),[null===b||void 0===b?void 0:b.list]);(0,o.useCallback)((0,A.J)((e=>{s((()=>1)),c(e)}),1500),[]);return(0,w.jsxs)("div",{className:u,children:[null===b||void 0===b||null===(n=b.list)||void 0===n?void 0:n.map(((e,n)=>{var a;return(null===b||void 0===b||null===(a=b.list)||void 0===a?void 0:a.length)===n+1?(0,w.jsx)("div",{ref:m,style:{width:"49%"},children:(0,w.jsx)(L.Z,{parentState:{...t.state,bankId:null===e||void 0===e?void 0:e._id},activeUrl:"type=bank&n=detail",children:(0,w.jsx)(F,{bank:e})})},null===e||void 0===e?void 0:e._id):(0,w.jsx)("div",{style:{width:"49%"},children:(0,w.jsx)(L.Z,{parentState:{...t.state,bankId:null===e||void 0===e?void 0:e._id},activeUrl:"type=bank&n=detail",children:(0,w.jsx)(F,{bank:e})})},null===e||void 0===e?void 0:e._id)})),f?d?(0,w.jsx)(E.Z,{}):(0,w.jsx)(B.Z,{}):d?0===(null===b||void 0===b||null===(a=b.list)||void 0===a?void 0:a.length)&&(0,w.jsx)(Y.Z,{title:"No bank found related this search."}):0===(null===b||void 0===b||null===(l=b.list)||void 0===l?void 0:l.length)&&(0,w.jsx)(Y.Z,{title:"No banks added."})]})},G=(0,o.memo)(q);var J=a(48293),R=a(21348),$=a(31897);const O=e=>{var n,a;let{fid:l,onToggle:t,libraryId:d,transportId:c,hostelId:r,setApplicablFor:s}=e;const{t:_}=(0,i.$G)(),[u,v]=(0,o.useState)({flow:"",flow_id:"",flow_name:"",depart_arr:[]}),{instituteAllDepartment:p}=(0,Z.Jv)({fid:l,skip:!l});return(0,w.jsx)(J.Z,{onClose:t,children:(0,w.jsx)("div",{className:y,children:(0,w.jsxs)(R.Z,{customStyle:{paddingBottom:"1rem"},children:[(0,w.jsx)($.Z,{selectLabel:_("applicable_for"),selectedValue:_("applicable_for_placeholder"),options:["Internal Department","Society","Transport","Library","Hostel"],onClick:e=>{"Hostel"===e?v({flow:"Hostel",flow_id:r,flow_name:"Hostel",depart_arr:[]}):"Transport"===e?v({flow:"Transport",flow_id:c,flow_name:"Transport",depart_arr:[]}):"Library"===e?v({flow:"Library",flow_id:d,flow_name:"Library",depart_arr:[]}):"Society"===e?v({flow:"Society",flow_id:null,flow_name:"Society",depart_arr:[]}):"Internal Department"===e&&v({flow:"Department",flow_id:"",flow_name:"",depart_arr:[]})},isFull:!0}),"Department"===u.flow&&(0,w.jsx)($.Z,{selectLabel:_("select_internal_department"),selectedValue:_("select_internal_department_placeholder"),options:null!==p&&void 0!==p?p:[],onClick:e=>{v((n=>({...n,flow_id:null===e||void 0===e?void 0:e._id,flow_name:null===e||void 0===e?void 0:e.dName,depart_arr:[...new Set([...n.depart_arr,null===e||void 0===e?void 0:e._id])]})))},isFull:!0,viewAs:"NORMAL_FILTER",defalutValue:(null===(n=u.depart_arr)||void 0===n?void 0:n.length)>1?"".concat(null===(a=u.depart_arr)||void 0===a?void 0:a.length," department selected"):u.flow_name}),(0,w.jsx)("button",{className:m,onClick:()=>{s(u),t()},style:{width:"100%",justifyContent:"center"},children:(0,w.jsx)("div",{children:_("select")})})]})})})},H=e=>{var n,a;let{errorField:l,applicableFor:t,libraryId:d,transportId:c,hostelId:r,setApplicablFor:s,fid:_}=e;const{t:u}=(0,i.$G)(),[f,h]=(0,o.useState)(!1),x=(0,o.useCallback)((()=>{h((e=>!e))}),[]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:v,style:{marginTop:"1rem"},children:[(0,w.jsxs)("button",{className:m,onClick:x,style:{marginTop:"0"},children:[(0,w.jsx)("div",{children:u("account_applicable_for")}),(0,w.jsx)("img",{src:"".concat(S.J7,"/forward.svg"),alt:"next step"})]}),(null===t||void 0===t?void 0:t.flow_name)&&(0,w.jsx)("h6",{className:p,children:(null===t||void 0===t||null===(n=t.depart_arr)||void 0===n?void 0:n.length)>1?"".concat(null===t||void 0===t||null===(a=t.depart_arr)||void 0===a?void 0:a.length," department selected"):null===t||void 0===t?void 0:t.flow_name})]}),l.flow_id&&(0,w.jsxs)("p",{className:b,children:["* ",u("form_require_label")]}),f&&(0,w.jsx)(O,{fid:_,onToggle:x,libraryId:d,transportId:c,hostelId:r,setApplicablFor:s})]})},W=(0,o.memo)(H);var U=a(21625),V=a(90904),P=a(61055),z=a(38986),K=a(93638);const X=e=>{let{onClose:n,fid:a,libraryId:t,transportId:d,hostelId:c,openAs:r,onEditAction:s,openBankMenu:_}=e;const{t:u}=(0,i.$G)(),[v]=(0,U.FL)(),[m]=(0,Z.WJ)(),[p,b]=(0,o.useState)(!1),[f,h]=(0,o.useState)(""),[x,k]=(0,o.useState)({finance_bank_name:"",finance_bank_account_number:"",finance_bank_account_name:"",finance_bank_ifsc_code:"",finance_bank_branch_address:"",finance_bank_upi_id:"",finance_bank_upi_qrcode:"",finance_bank_re_account_number:"",finance_bank_re_upi_id:""}),[j,g]=(0,o.useState)({flow:"",flow_id:"",flow_name:"",depart_arr:[]}),[y,N]=(0,o.useState)("");(0,o.useEffect)((()=>{var e,n,a,l,i,o,t,d,c;"EDIT"===r&&k({finance_bank_name:null!==(e=null===_||void 0===_?void 0:_.finance_bank_name)&&void 0!==e?e:"",finance_bank_account_number:null!==(n=null===_||void 0===_?void 0:_.finance_bank_account_number)&&void 0!==n?n:"",finance_bank_account_name:null!==(a=null===_||void 0===_?void 0:_.finance_bank_account_name)&&void 0!==a?a:"",finance_bank_ifsc_code:null!==(l=null===_||void 0===_?void 0:_.finance_bank_ifsc_code)&&void 0!==l?l:"",finance_bank_branch_address:null!==(i=null===_||void 0===_?void 0:_.finance_bank_branch_address)&&void 0!==i?i:"",finance_bank_upi_id:null!==(o=null===_||void 0===_?void 0:_.finance_bank_upi_id)&&void 0!==o?o:"",finance_bank_upi_qrcode:null!==(t=null===_||void 0===_?void 0:_.finance_bank_upi_qrcode)&&void 0!==t?t:"",finance_bank_re_account_number:null!==(d=null===_||void 0===_?void 0:_.finance_bank_account_number)&&void 0!==d?d:"",finance_bank_re_upi_id:null!==(c=null===_||void 0===_?void 0:_.finance_bank_upi_id)&&void 0!==c?c:""})}),[r]);const I=e=>{k((n=>({...n,[e.target.name]:e.target.value})))},C=(0,o.useCallback)((e=>{b((e=>!e));const n=new FormData;N(e.target.files[0]),n.append("file",e.target.files[0]),v({fileUpload:n}).then((e=>{b((e=>!e)),k((n=>{var a;return{...n,finance_bank_upi_qrcode:null===(a=e.data)||void 0===a?void 0:a.imageKey}}))})).catch((()=>{b((e=>!e))}))}),[]),F=(0,o.useCallback)((()=>{if("EDIT"===r){const e=ee(x);let n=!1;for(let a in e){n=!0;break}n?h(e):s(x)}else{const e=Q(x,j);let l=!1;for(let n in e){l=!0;break}l?h(e):(b((e=>!e)),m({fid:a,...j,bankDetails:{...x,depart_arr:j.depart_arr}}).then((()=>{n(),b((e=>!e))})).catch((()=>{b((e=>!e))})))}}),[x]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(R.Z,{children:(0,w.jsxs)("div",{className:l.Z.fm_header_start_container,children:[(0,w.jsx)("img",{src:"".concat(S.J7,"/back-arrow.svg"),alt:"back arrow",title:"Add Bank",onClick:n}),(0,w.jsxs)("h6",{children:[" ",u("EDIT"===r?"update_bank_details":"add_bank_details")]})]})}),(0,w.jsx)(V.Z,{}),(0,w.jsxs)(R.Z,{customStyle:{paddingTop:"0"},children:["EDIT"===r?null:(0,w.jsx)(W,{applicableFor:j,errorField:f,fid:a,libraryId:t,transportId:d,hostelId:c,setApplicablFor:g}),(0,w.jsx)(P.Z,{label:u("bank_name"),placeholder:u("bank_name_placeholder"),name:"finance_bank_name",value:x.finance_bank_name,type:"text",onChange:I,errorShow:f.finance_bank_name}),(0,w.jsx)(P.Z,{label:u("account_name"),placeholder:u("account_name_placeholder"),name:"finance_bank_account_name",value:x.finance_bank_account_name,type:"text",onChange:I,errorShow:f.finance_bank_account_name}),(0,w.jsx)(P.Z,{label:u("account_number"),placeholder:u("account_number_placeholder"),name:"finance_bank_account_number",value:x.finance_bank_account_number,type:"tel",onChange:I,errorShow:f.finance_bank_name}),(0,w.jsx)(P.Z,{label:u("confirm_account_number"),placeholder:u("confirm_account_number_placeholder"),name:"finance_bank_re_account_number",value:x.finance_bank_re_account_number,type:"tel",onChange:I,errorShow:f.finance_bank_re_account_number,msg:f.finance_bank_re_account_number}),(0,w.jsx)(P.Z,{label:u("ifsc_code"),placeholder:u("ifsc_code_placeholder"),name:"finance_bank_ifsc_code",value:x.finance_bank_ifsc_code,type:"text",onChange:I,errorShow:f.finance_bank_ifsc_code}),(0,w.jsx)(P.Z,{label:u("address_of_bank"),placeholder:u("address_of_bank_placeholder"),name:"finance_bank_branch_address",value:x.finance_bank_branch_address,type:"text",onChange:I,errorShow:f.finance_bank_branch_address}),(0,w.jsx)(P.Z,{label:u("upi_id"),placeholder:u("upi_id_placeholder"),name:"finance_bank_upi_id",value:x.finance_bank_upi_id,type:"text",onChange:I,errorShow:f.finance_bank_upi_id}),(0,w.jsx)(P.Z,{label:u("confirm_upi_id"),placeholder:u("finance_bank_re_upi_id"),name:"finance_bank_re_upi_id",value:x.finance_bank_re_upi_id,type:"text",onChange:I,errorShow:f.finance_bank_re_upi_id,msg:f.finance_bank_re_upi_id}),(0,w.jsx)(z.Z,{label:u("qr_code_above_upi"),name:"finance_bank_upi_qrcode",value:null!==y&&void 0!==y&&y.name?{name:null===y||void 0===y?void 0:y.name}:"",onChange:C,errorShow:f.finance_bank_upi_qrcode}),(0,w.jsx)(K.Z,{label:"save",onAction:F})]}),p&&(0,w.jsx)(E.Z,{})]})},Q=(e,n)=>{const a={};for(let l in e)"finance_bank_account_number"===l&&e.finance_bank_account_number!==e.finance_bank_re_account_number?a.finance_bank_re_account_number="form_account_dose_not_match_label":"finance_bank_upi_id"===l&&e.finance_bank_upi_id!==e.finance_bank_re_upi_id?a.finance_bank_re_upi_id="upi_id_dose_not_match_label":"finance_bank_upi_id"===l||"finance_bank_upi_qrcode"===l||"finance_bank_re_upi_id"===l||e[l]||(a[l]="* required");return null!==n&&void 0!==n&&n.flow_id||"Society"===(null===n||void 0===n?void 0:n.flow_name)||(a.flow_id="flow_id is required"),a},ee=e=>{const n={};for(let a in e)"finance_bank_account_number"===a&&e.finance_bank_account_number!==e.finance_bank_re_account_number?n.finance_bank_re_account_number="form_account_dose_not_match_label":"finance_bank_upi_id"===a&&e.finance_bank_upi_id!==e.finance_bank_re_upi_id?n.finance_bank_re_upi_id="upi_id_dose_not_match_label":"finance_bank_upi_id"===a||"finance_bank_upi_qrcode"===a||"finance_bank_re_upi_id"===a||e[a]||(n[a]="* required");return n};var ne=a(43504);const ae=e=>{let{totalRepay:n,collectOnline:a,dueRepay:l}=e;const{t:o}=(0,i.$G)();return(0,w.jsxs)("div",{className:f,children:[(0,w.jsxs)("div",{className:h,children:[(0,w.jsx)("h6",{children:o("total_due")}),(0,w.jsxs)("h5",{children:[o("rs_only")," ",null!==n&&void 0!==n?n:0]})]}),(0,w.jsxs)("div",{className:h,children:[(0,w.jsx)("h6",{children:o("online_fees")}),(0,w.jsxs)("h5",{children:[o("rs_only")," ",null!==a&&void 0!==a?a:0]})]}),(0,w.jsxs)("div",{className:h,children:[(0,w.jsx)("h6",{children:o("repayment_due")}),(0,w.jsxs)("h5",{children:[o("rs_only")," ",null!==l&&void 0!==l?l:0]})]})]})},le={fontWeight:"400",fontSize:"12px"},ie=e=>{var n,a,l,o,t;let{oneBank:d}=e;const{t:c}=(0,i.$G)();return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("section",{className:x,children:[(0,w.jsxs)("h6",{children:[c("applicable_for")," "," : "," "]}),(0,w.jsx)(N.Z,{label:"",value:null!==d&&void 0!==d&&null!==(n=d.department)&&void 0!==n&&n.dName?null===d||void 0===d||null===(a=d.department)||void 0===a?void 0:a.dName:null!==d&&void 0!==d&&d.hostel?"Hostel":null!==d&&void 0!==d&&d.library?"Library":null!==d&&void 0!==d&&d.transport?"Transport":(null===d||void 0===d||null===(l=d.departments)||void 0===l?void 0:l.length)>0?null===d||void 0===d||null===(o=d.departments)||void 0===o?void 0:o.map(((e,n)=>{var a,l;return(0,w.jsxs)("span",{children:[null!==(a=null===e||void 0===e?void 0:e.dName)&&void 0!==a?a:"",n+1===(null===d||void 0===d||null===(l=d.departments)||void 0===l?void 0:l.length)?"":", "]},null===e||void 0===e?void 0:e._id)})):"",customFormInput:le,customFormInputLabel:{...le,marginLeft:"-0.8rem"}})]}),(0,w.jsxs)("section",{className:x,children:[(0,w.jsx)("h6",{children:c("bank_details")}),(0,w.jsx)(N.Z,{label:"".concat(c("bank_name")," :"),value:null===d||void 0===d?void 0:d.finance_bank_name,customFormInput:le,customFormInputLabel:le}),(0,w.jsx)(N.Z,{label:"".concat(c("account_name")," :"),value:null===d||void 0===d?void 0:d.finance_bank_account_name,customFormInput:le,customFormInputLabel:le}),(0,w.jsx)(N.Z,{label:"".concat(c("account_number")," :"),value:null===d||void 0===d?void 0:d.finance_bank_account_number,customFormInput:le,customFormInputLabel:le}),(0,w.jsx)(N.Z,{label:"".concat(c("ifsc_code")," :"),value:null===d||void 0===d?void 0:d.finance_bank_ifsc_code,customFormInput:le,customFormInputLabel:le}),(0,w.jsx)(N.Z,{label:"".concat(c("address")," :"),value:null===d||void 0===d?void 0:d.finance_bank_branch_address,customFormInput:le,customFormInputLabel:le})]}),(0,w.jsx)("section",{className:k,children:(0,w.jsx)(N.Z,{label:"".concat(c("upi_id")," :"),value:null===d||void 0===d?void 0:d.finance_bank_upi_id,customFormInput:le,customFormInputLabel:le})}),(0,w.jsxs)("section",{className:j,children:[(0,w.jsxs)("div",{className:g,children:[(0,w.jsxs)("h6",{children:[c("qr_code"),":"]}),(0,w.jsx)("p",{children:null!==(t=null===d||void 0===d?void 0:d.finance_bank_upi_id)&&void 0!==t?t:""})]}),null!==d&&void 0!==d&&d.finance_bank_upi_qrcode?(0,w.jsx)("img",{src:"".concat(I.yI,"/").concat(null===d||void 0===d?void 0:d.finance_bank_upi_qrcode),alt:"qr code"}):""]})]})};var oe=a(89064);const te=e=>{let{onToggle:n,setBankEdit:a,openBankMenu:l}=e;const{t:t}=(0,i.$G)(),d=(0,D.s0)(),[c,r]=(0,o.useState)(!1),[s,_]=(0,o.useState)(!1),[u]=(0,Z.D4)(),[v]=(0,Z.R9)(),m=()=>{a((e=>!e)),_((e=>!e))};return s?(0,w.jsx)(X,{onClose:m,openAs:"EDIT",onEditAction:e=>{null!==l&&void 0!==l&&l._id&&(r((e=>!e)),_(!1),v({bid:null===l||void 0===l?void 0:l._id,bankDetails:e}).then((()=>{r((e=>!e)),n(),a((e=>!e))})).catch({}))},openBankMenu:l}):(0,w.jsxs)(oe.Z,{onClose:n,disabled:c,children:[(0,w.jsx)("h6",{onClick:m,children:t("edit")}),(0,w.jsx)("h6",{onClick:()=>{null!==l&&void 0!==l&&l._id&&(r((e=>!e)),u(null===l||void 0===l?void 0:l._id).then((()=>{n(),r((e=>!e)),d(-1)})).catch({}))},children:t("delete")})]})};var de=a(63162),ce=a(98967),re=a(16925),se=a(60924),_e=a(19056),ue=a(43997),ve=a(99183);const me=e=>{let{onClose:n,bankId:l,fid:t}=e;const{t:d}=(0,i.$G)(),[c,r]=(0,o.useState)({from:"",to:"",payment_type:""}),[s,_]=(0,o.useState)(!1),[u,v]=(0,o.useState)(""),[m]=(0,Z._t)(),p=(e,n)=>{r((a=>({...a,[n]:(0,ue.O_)(e)})))};return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(J.Z,{onClose:n,children:(0,w.jsxs)("div",{className:re.Z.modal_container,children:[(0,w.jsx)(R.Z,{children:(0,w.jsxs)("div",{className:re.Z.modal_container_outer_header,children:[(0,w.jsx)("div",{className:re.Z.modal_container_header,children:(0,w.jsx)("h6",{children:d("filter_daybook")})}),(0,w.jsx)("img",{src:"".concat(S.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,w.jsx)(V.Z,{}),(0,w.jsxs)(R.Z,{customStyle:{paddingTop:"0"},children:[(0,w.jsx)(se.Z,{label:d("from"),placeholder:d("please_select_from_date"),name:"from",value:c.from?(0,ue.jh)(c.from):"",onChange:e=>p(e,"from"),errorShow:u.from}),(0,w.jsx)(se.Z,{label:d("to_only"),placeholder:d("please_select_to_date"),name:"to",value:c.to?(0,ue.jh)(c.to):"",onChange:e=>p(e,"to"),errorShow:u.to}),(0,w.jsx)(_e.Z,{selectLabel:d("payment_type"),selectedValue:d("please_select_payment_type"),options:["Payment Gateway / Online","By Cash"],onClick:e=>{r((n=>({...n,payment_type:e})))},defalutValue:c.payment_type}),(0,w.jsx)(K.Z,{label:"filter",onAction:()=>{let e=(0,ve.l)(c,[]);(0,ve.x)(e)&&t&&l?(_((e=>!e)),m({fid:t,bank:l,from:c.from,to:c.to,payment_type:c.payment_type}).then((e=>{var l,i;if((null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.results)||void 0===i?void 0:i.length)>0){const l=new Worker(new URL(a.p+a.u(10084),a.b));l.postMessage({isType:"BANK_DAYBOOK",daybook:null===e||void 0===e?void 0:e.data}),l.onmessage=e=>{e&&(window.open(e.data,"_blank"),_((e=>!e)),n(),l.terminate())}}else _((e=>!e)),n()})).catch({})):v(e)}})]}),s&&(0,w.jsx)(E.Z,{})]})})})};var pe=a(82824),be=a(72888),fe=a(97892),he=a.n(fe);const xe=e=>{var n;let{onEditAction:a,onClose:l,xlsxId:t}=e;const{t:d}=(0,i.$G)(),[c,r]=(0,o.useState)(null!==(n=null===t||void 0===t?void 0:t.excel_file_name)&&void 0!==n?n:""),[s,_]=(0,o.useState)("");(0,o.useEffect)((()=>{var e;r(null!==(e=null===t||void 0===t?void 0:t.excel_file_name)&&void 0!==e?e:"")}),[null===t||void 0===t?void 0:t.excel_file_name]);return(0,w.jsx)(J.Z,{onClose:l,children:(0,w.jsxs)("div",{className:re.Z.modal_container,children:[(0,w.jsx)(R.Z,{children:(0,w.jsxs)("div",{className:re.Z.modal_container_outer_header,children:[(0,w.jsx)("div",{className:re.Z.modal_container_header,children:(0,w.jsx)("h6",{children:d("update_excel_name")})}),(0,w.jsx)("img",{src:"".concat(S.J7,"/close.svg"),alt:"close icon",onClick:l})]})}),(0,w.jsx)(V.Z,{}),(0,w.jsxs)(R.Z,{customStyle:{paddingTop:"0"},children:[(0,w.jsx)(P.Z,{label:d("excel_name"),placeholder:d("excel_name_plcaeholder"),name:"excelName",value:c,type:"text",onChange:e=>{r(e.target.value)},errorShow:s.excelName}),(0,w.jsx)(K.Z,{label:"update",onAction:()=>{c?a(c):_({excelName:"excelName is required"})}})]})]})})},ke=e=>{let{onClose:n,xlsxId:a,bankId:l,onRefetch:t}=e;const{t:d}=(0,i.$G)(),[c,r]=(0,o.useState)(!1),[s,_]=(0,o.useState)(!1),[u]=(0,Z.JW)(),[v]=(0,Z.TM)(),m=()=>{_((e=>!e))};return s?(0,w.jsx)(xe,{onClose:m,onEditAction:e=>{l&&null!==a&&void 0!==a&&a._id&&(m(),r((e=>!e)),v({baid:l,bodyParameter:{dbid:null===a||void 0===a?void 0:a._id,excel_file_name:e}}).then((()=>{t(),r((e=>!e)),n()})).catch({}))},xlsxId:a}):(0,w.jsxs)(oe.Z,{onClose:n,disabled:c,children:[(0,w.jsx)("h6",{onClick:m,children:d("edit")}),(0,w.jsx)("h6",{onClick:()=>{l&&null!==a&&void 0!==a&&a._id&&(r((e=>!e)),u({baid:l,bodyParameter:{dbid:null===a||void 0===a?void 0:a._id}}).then((()=>{t(),r((e=>!e)),n()})).catch({}))},children:d("delete")})]})},je=e=>{var n,a,l;let{excel:i,bankId:t,onRefetch:d}=e;const[c,r]=(0,o.useState)("");return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("a",{className:be.Z.export_card,title:"Download File",href:"".concat(I.LS,"/").concat(null===i||void 0===i?void 0:i.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,w.jsx)("img",{src:"".concat(S.J7,"/xsxl.svg"),className:be.Z.export_card_image,alt:"excel icon"}),(0,w.jsxs)("section",{className:be.Z.export_card_text,children:[(0,w.jsx)("h6",{children:null!==(n=null===i||void 0===i?void 0:i.excel_file_name)&&void 0!==n?n:""}),(0,w.jsxs)("div",{className:be.Z.export_card_date,children:[(0,w.jsx)("h6",{children:null!==(a=null===i||void 0===i||null===(l=i.bank)||void 0===l?void 0:l.finance_bank_account_name)&&void 0!==a?a:""}),(0,w.jsxs)("h6",{children:[he()(null===i||void 0===i?void 0:i.created_at).format("DD MMM YYYY"),","," ",(0,pe.J)(null===i||void 0===i?void 0:i.created_at,"LT")]})]}),(0,w.jsxs)("div",{className:be.Z.export_card_date,children:[(0,w.jsxs)("h6",{children:["From : ",null===i||void 0===i?void 0:i.from," To ",null===i||void 0===i?void 0:i.to]}),(0,w.jsxs)("h6",{children:[" ",null===i||void 0===i?void 0:i.payment_type]})]})]}),(0,w.jsx)("img",{src:"".concat(S.J7,"/menu.svg"),alt:"menu icon",onClick:e=>{e.preventDefault(),r(i)},title:"Menu",className:be.Z.export_card_menu})]},null===i||void 0===i?void 0:i._id),c&&(0,w.jsx)(ke,{onClose:()=>{r("")},xlsxId:c,bankId:t,onRefetch:d})]})},ge=e=>{var n,a,t;let{fid:d,bankId:c}=e;const{t:r}=(0,i.$G)(),[s,_]=(0,o.useState)(!1),[u,v]=(0,o.useState)(""),[m,p]=(0,o.useState)(1),[b,f]=(0,o.useState)(!0),[h,x]=(0,T.YD)({skip:u}),{financeBankDaybookGeneratList:k,financeBankDaybookGeneratListLoading:j,financeBankDaybookGeneratListRefetch:g}=(0,Z.sA)({data:{baid:c,page:m,limit:10,search:u},skip:!c});(0,o.useEffect)((()=>{x&&b&&p((e=>e+1))}),[x,b]),(0,o.useEffect)((()=>{var e;if(null!==k&&void 0!==k&&null!==(e=k.list)&&void 0!==e&&e.length){var n;let e=(0,M.f)(null===k||void 0===k||null===(n=k.list)||void 0===n?void 0:n.length);f((()=>e))}}),[null===k||void 0===k?void 0:k.list]);const y=(0,o.useCallback)((0,A.J)((e=>{p((()=>1)),v(e)}),1500),[]),N=()=>{_((e=>!e))},I=()=>{p((()=>1)),v(""),g()};return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(R.Z,{customStyle:{padding:"0"},children:(0,w.jsxs)("div",{className:l.Z.fm_search_full,children:[(0,w.jsx)("section",{className:l.Z.fm_search_full_container,children:(0,w.jsxs)("div",{className:l.Z.fm_search_full_container_inner,children:[(0,w.jsx)("img",{className:l.Z.fm_search_full_icon,alt:"search icon",src:"".concat(S.dB,"/navbar-search.svg")}),(0,w.jsx)("input",{type:"text",placeholder:r("search"),onChange:e=>{e.target.value?y(e.target.value):(p((()=>1)),v(""))}})]})}),(0,w.jsx)(K.Z,{label:"filter",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:N})]})}),(0,w.jsx)(V.Z,{}),null===k||void 0===k||null===(n=k.list)||void 0===n?void 0:n.map(((e,n)=>{var a;return(null===k||void 0===k||null===(a=k.list)||void 0===a?void 0:a.length)===n+1?(0,w.jsx)("div",{ref:h,children:(0,w.jsx)(je,{excel:e,bankId:c,onRefetch:I})},null===e||void 0===e?void 0:e._id):(0,w.jsx)(je,{excel:e,bankId:c,onRefetch:I},null===e||void 0===e?void 0:e._id)})),j?u?(0,w.jsx)(E.Z,{}):(0,w.jsx)(B.Z,{}):u?0===(null===k||void 0===k||null===(a=k.list)||void 0===a?void 0:a.length)&&(0,w.jsx)(Y.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No daybook found related this search."}):0===(null===k||void 0===k||null===(t=k.list)||void 0===t?void 0:t.length)&&(0,w.jsx)(Y.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No daybook added."}),s&&(0,w.jsx)(me,{onClose:N,bankId:c,fid:d})]})},ye=[{label:"bank_info",id:0},{label:"day_book",id:1},{label:"fund",id:2}],Ze=e=>{var n,a,t;let{fid:d}=e;const{t:c}=(0,i.$G)(),r=(0,D.TH)(),[s,_]=(0,o.useState)(0),[u,v]=(0,o.useState)(!1),[m,p]=(0,o.useState)(!1),{financeOneBankDetail:b}=(0,Z.zO)({bid:r.state.bankId,skip:!r.state.bankId}),f=(0,o.useCallback)((()=>{v((e=>!e))}),[]),h=e=>{_(e)};return(0,w.jsxs)(w.Fragment,{children:[!m&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(R.Z,{children:[(0,w.jsxs)("div",{className:l.Z.fm_header_container,children:[(0,w.jsx)("h6",{children:c("bank_details")}),(0,w.jsx)("img",{src:"".concat(S.J7,"/edit.svg"),alt:"back arrow",title:"Edit Bank",onClick:f})]}),(0,w.jsx)(ce.Z,{children:ye.map((e=>(0,w.jsx)(de.Z,{tab:e,isActive:(null===e||void 0===e?void 0:e.id)===s,onAction:h},null===e||void 0===e?void 0:e.id)))}),(0,w.jsx)(V.Z,{customStyleBorder:{marginTop:"0"}})]}),(0,w.jsx)(R.Z,{children:0===s?(0,w.jsx)(ie,{oneBank:null===b||void 0===b?void 0:b.one_bank}):1===s?(0,w.jsx)(ge,{fid:d,bankId:r.state.bankId}):(0,w.jsx)(ae,{totalRepay:null===b||void 0===b||null===(n=b.one_bank)||void 0===n?void 0:n.total_repay,collectOnline:null===b||void 0===b||null===(a=b.one_bank)||void 0===a?void 0:a.collect_online,dueRepay:null===b||void 0===b||null===(t=b.one_bank)||void 0===t?void 0:t.due_repay})})]}),u&&(0,w.jsx)(te,{onToggle:f,setBankEdit:p,openBankMenu:null===b||void 0===b?void 0:b.one_bank})]})};var Ne=a(63687);const Ie=e=>{let{fid:n,libraryId:a,transportId:t,hostelId:d}=e;const{t:c}=(0,i.$G)(),[r]=(0,ne.lr)(),[s,_]=(0,o.useState)(!1),u=(0,o.useCallback)((()=>{_((e=>!e))}),[]);return(0,w.jsx)(Ne.Z,{children:s?(0,w.jsx)(X,{fid:n,libraryId:a,transportId:t,hostelId:d,onClose:u}):r.get("n")?(0,w.jsx)(Ze,{fid:n,libraryId:a,transportId:t,hostelId:d}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(R.Z,{children:(0,w.jsxs)("div",{className:l.Z.fm_header_container,children:[(0,w.jsx)("h6",{children:c("bank_account_detail")}),(0,w.jsx)("img",{src:"".concat(S.J7,"/plus-blue.svg"),alt:"back arrow",title:"Add Bank",onClick:u})]})}),(0,w.jsx)(V.Z,{}),(0,w.jsx)(R.Z,{children:(0,w.jsx)(G,{fid:n})})]})})},Se=(0,o.memo)(Ie)},82824:(e,n,a)=>{"use strict";a.d(n,{J:()=>d,Z:()=>c});var l=a(99893),i=a.n(l),o=a(97892),t=a.n(o);const d=(e,n)=>(t().extend(i()),t()(e).format(n)),c=(e,n,a)=>{var l;return t()()[e]("".concat(null===(l=t()(a))||void 0===l?void 0:l.format("YYYY-MM-DD")),n)}},99893:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,a,l){var i=a.prototype,o=i.format;l.en.formats=e,i.format=function(n){void 0===n&&(n="YYYY-MM-DDTHH:mm:ssZ");var a=this.$locale().formats,l=function(n,a){return n.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(n,l,i){var o=i&&i.toUpperCase();return l||a[i]||e[i]||a[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,n,a){return n||a.slice(1)}))}))}(n,void 0===a?{}:a);return o.call(this,l)}}}()},72888:(e,n,a)=>{"use strict";a.d(n,{Z:()=>l});const l={export_card:"FinanceExport_export_card__9AYtI",export_card_image:"FinanceExport_export_card_image__-1r1l",export_card_text:"FinanceExport_export_card_text__ZrB00",export_card_date:"FinanceExport_export_card_date__-dTOE",export_card_menu:"FinanceExport_export_card_menu__-xEgr"}}}]);
//# sourceMappingURL=88204.0139c802.chunk.js.map