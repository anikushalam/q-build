"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[4701],{54701:function(e,n,i){i.r(n),i.d(n,{default:function(){return S}});var s=i(1413),t=i(93433),l=i(29439),a=i(72791),d=i(36588),o=i(39230),m=i(23441),u=i(65543),c=i(30510),r=i(34219),g=i(11105),v=i(80184),_=function(e){var n=e.text,i=e.background,s=e.progress,t=e.number;return(0,v.jsxs)("div",{className:d.Z.rangeRow,children:[(0,v.jsx)("div",{className:d.Z.rangeColumn1,children:(0,v.jsx)("div",{className:"".concat(d.Z.rangecircle),style:{backgroundColor:i}})}),(0,v.jsx)("div",{className:d.Z.rangeColumn2,children:(0,v.jsx)("h6",{children:n})}),(0,v.jsx)("div",{className:d.Z.rangeColumn3,children:(0,v.jsx)("div",{className:d.Z.progressdiv,children:(0,v.jsx)("div",{className:d.Z.progress,style:{width:0===s?"0.5%":"".concat(s,"%"),backgroundColor:i}})})}),(0,v.jsx)("div",{className:d.Z.rangeColumn4,children:(0,v.jsx)("h6",{children:t})})]})},p=i(72426),h=i.n(p),f=function(e){var n,i,s,t=e.assignment,l=(0,o.$G)().t;return(0,v.jsxs)("div",{className:d.Z.assignmentCard,children:[(0,v.jsx)("h6",{className:d.Z.subject,children:null!==(n=null===t||void 0===t||null===(i=t.subject)||void 0===i?void 0:i.subjectName)&&void 0!==n?n:""}),(0,v.jsx)("p",{className:d.Z.title,children:null!==(s=null===t||void 0===t?void 0:t.assignmentName)&&void 0!==s?s:""}),(0,v.jsxs)("p",{className:d.Z.duetime,children:[l("due_on")," ",h()(null===t||void 0===t?void 0:t.dueDate).format("Do MMM YY")]}),(0,v.jsx)("div",{className:"".concat(d.Z.rangecirclestatus),style:{backgroundColor:null!==t&&void 0!==t&&t.assignmentSubmit&&null!==t&&void 0!==t&&t.assignmentSubmitRequest?" #06BB06":null!==t&&void 0!==t&&t.assignmentSubmit||null===t||void 0===t||!t.assignmentSubmitRequest?"#FFC700":"#001A72"}})]})},x=i(6642),j=i(43504),A=i(16871),Z=i(98734),y=i(10307),b=i(69721),N=function(e){var n,i,m,u,r,g,_,p,f,x,j,N,D,S,C,k,R,w,F,T,B,I=e.onRefetch,L=(0,o.$G)().t,q=(0,A.TH)(),E=(0,A.s0)(),O=(0,a.useState)(!1),K=(0,l.Z)(O,2),Y=K[0],M=K[1],G=(0,a.useState)({studentDescritpion:"",testSet:"",file:[]}),P=(0,l.Z)(G,2),H=P[0],J=P[1],U=(0,a.useState)([]),z=(0,l.Z)(U,2),W=z[0],$=z[1],V=(0,a.useState)([]),X=(0,l.Z)(V,2),Q=X[0],ee=X[1],ne=(0,c.$R)(),ie=(0,l.Z)(ne,1)[0],se=(0,c.dG)({aid:null===(n=q.state)||void 0===n?void 0:n.aid,skip:!(null!==(i=q.state)&&void 0!==i&&i.aid)}),te=se.getOneAssignmentDetailByStudent,le=se.getOneAssignmentDetailByStudentRefetch;(0,a.useEffect)((function(){var e;null!==(e=q.state)&&void 0!==e&&e.aid&&le()}),[null===(m=q.state)||void 0===m?void 0:m.aid,le]);var ae=document.querySelector("textarea");null===ae||void 0===ae||ae.addEventListener("keyup",(function(e){ae.style.height="auto";var n=e.target.scrollHeight;ae.style.height="".concat(n,"px")})),(0,a.useEffect)((function(){if(H.file){var e=[],n=[];for(var i in H.file)for(var s in H.file[i])"type"===s&&(H.file[i][s].includes("image/")?e.push(URL.createObjectURL(H.file[i])):n.push({name:H.file[i].name}));$(e),ee(n)}}),[H.file]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:d.Z.assignmentDetailTop,children:[(0,v.jsx)("img",{src:"/images/members/arrow-left.svg",alt:"",onClick:function(){return E(-1)}}),(0,v.jsx)("h6",{children:null===te||void 0===te||null===(u=te.assignment)||void 0===u||null===(r=u.subject)||void 0===r?void 0:r.subjectName}),(0,v.jsx)("img",{className:d.Z.menu,src:"/images/menu-dots-dark-icon.svg",alt:""})]}),(0,v.jsxs)("div",{className:d.Z.assignmentDetailBody,children:[(0,v.jsx)("p",{children:"Assignement Name"}),(0,v.jsx)("h6",{children:null===te||void 0===te||null===(g=te.assignment)||void 0===g?void 0:g.assignmentName}),(0,v.jsx)("p",{children:"Assignement Due Date"}),(0,v.jsx)("h6",{children:h()(null===te||void 0===te||null===(_=te.assignment)||void 0===_?void 0:_.dueDate).format("DD-MM-yyyy")}),(0,v.jsx)("p",{children:"Description"}),(0,v.jsx)("h6",{style:{whiteSpace:"break-spaces"},children:null===te||void 0===te||null===(p=te.assignment)||void 0===p?void 0:p.descritpion}),(null===te||void 0===te||null===(f=te.assignment)||void 0===f||null===(x=f.files)||void 0===x?void 0:x.length)>0?(0,v.jsxs)("div",{className:d.Z.files,children:[(0,v.jsx)("p",{className:d.Z.typeFile,children:L("file_image")}),null===te||void 0===te||null===(j=te.assignment)||void 0===j||null===(N=j.files)||void 0===N?void 0:N.map((function(e,n){return"application/octet-stream"===(null===e||void 0===e?void 0:e.documentType)||"image/jpeg"===(null===e||void 0===e?void 0:e.documentType)||"image/png"===(null===e||void 0===e?void 0:e.documentType)||(0,y.Y)(null===e||void 0===e?void 0:e.documentKey)?(0,v.jsx)("a",{href:"".concat(b.r3,"/").concat(null===e||void 0===e?void 0:e.documentKey),target:"_blank",children:(0,v.jsxs)("div",{className:d.Z.img,children:[(0,v.jsx)("img",{src:"/images/members/img-icon.svg",alt:""}),(0,v.jsx)("p",{children:null===e||void 0===e?void 0:e.documentName})]},n)}):(0,v.jsx)("a",{href:"".concat(b.r3,"/").concat(null===e||void 0===e?void 0:e.documentKey),target:"_blank",children:(0,v.jsxs)("div",{className:d.Z.img,children:[(0,v.jsx)("img",{src:"/images/admin/pdf-icon.svg",alt:""}),(0,v.jsx)("p",{children:null===e||void 0===e?void 0:e.documentName})]},n)})}))]}):"",(0,v.jsx)("h6",{className:d.Z.des,children:L("description")}),null!==te&&void 0!==te&&null!==(D=te.assignment)&&void 0!==D&&D.assignmentSubmitRequest?(0,v.jsx)("p",{className:d.Z.studentDescritpion,style:{marginBottom:"2vw",whiteSpace:"break-spaces"},children:null===te||void 0===te||null===(S=te.assignment)||void 0===S?void 0:S.studentDescritpion}):(0,v.jsx)("textarea",{className:d.Z.assignment_text,type:"text",name:"description",placeholder:"Type Answer",value:H.studentDescritpion,onChange:function(e){return J((function(n){return(0,s.Z)((0,s.Z)({},n),{},{studentDescritpion:e.target.value})}))}}),null!==te&&void 0!==te&&null!==(C=te.assignment)&&void 0!==C&&C.assignmentSubmitRequest?(null===te||void 0===te||null===(k=te.assignment)||void 0===k||null===(R=k.studentFiles)||void 0===R?void 0:R.length)>0?(0,v.jsxs)("div",{className:d.Z.files,children:[(0,v.jsx)("p",{className:d.Z.typeFile,children:L("file_image")}),null===te||void 0===te||null===(w=te.assignment)||void 0===w||null===(F=w.studentFiles)||void 0===F?void 0:F.map((function(e){return"application/octet-stream"===(null===e||void 0===e?void 0:e.documentType)||"image/jpeg"===(null===e||void 0===e?void 0:e.documentType)||"image/png"===(null===e||void 0===e?void 0:e.documentType)||(0,y.Y)(null===e||void 0===e?void 0:e.documentKey)?(0,v.jsx)("a",{href:"".concat(b.r3,"/").concat(null===e||void 0===e?void 0:e.documentKey),target:"_blank",children:(0,v.jsxs)("div",{className:d.Z.img,children:[(0,v.jsx)("img",{src:"/images/members/img-icon.svg",alt:""}),(0,v.jsx)("p",{children:null===e||void 0===e?void 0:e.documentName})]})}):(0,v.jsx)("a",{href:"".concat(b.r3,"/").concat(null===e||void 0===e?void 0:e.documentKey),target:"_blank",children:(0,v.jsxs)("div",{className:d.Z.img,children:[(0,v.jsx)("img",{src:"/images/admin/pdf-icon.svg",alt:""}),(0,v.jsx)("p",{children:null===e||void 0===e?void 0:e.documentName})]})})}))]}):"":(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{htmlFor:"img",style:{cursor:"pointer"},children:(0,v.jsxs)("div",{className:d.Z.addImage,children:[(0,v.jsx)("img",{src:"/images/members/img-icon.svg",alt:""}),(0,v.jsx)("p",{className:d.Z.addImgFile,children:"Add Image/File"})]})}),(0,v.jsx)("input",{className:d.Z.upload,id:"img",multiple:!0,name:"file",onChange:function(e){var n;null!==(n=e.target.files)&&void 0!==n&&n.length&&J((function(n){return(0,s.Z)((0,s.Z)({},n),{},{file:[].concat((0,t.Z)(n.file),(0,t.Z)(e.target.files))})}))},type:"file",accept:"image/gif, image/jpeg, image/png,text/plain, application/pdf"})]}),((null===W||void 0===W?void 0:W.length)>0||(null===Q||void 0===Q?void 0:Q.length)>0)&&(0,v.jsxs)("div",{className:d.Z.files,children:[(0,v.jsx)("p",{className:d.Z.typeFile,children:L("file_image")}),null===W||void 0===W?void 0:W.map((function(e){return(0,v.jsxs)("div",{className:d.Z.img,children:[(0,v.jsx)("img",{src:"/images/members/img-icon.svg",alt:""}),(0,v.jsx)("p",{children:e})]},e)})),null===Q||void 0===Q?void 0:Q.map((function(e){return(0,v.jsxs)("div",{className:d.Z.img,children:[(0,v.jsx)("img",{src:"/images/admin/pdf-icon.svg",alt:""}),(0,v.jsx)("p",{children:null===e||void 0===e?void 0:e.name})]},null===e||void 0===e?void 0:e.name)}))]}),null!==te&&void 0!==te&&null!==(T=te.assignment)&&void 0!==T&&T.assignmentSubmitRequest?"":!(null!==te&&void 0!==te&&null!==(B=te.assignment)&&void 0!==B&&B.assignmentSubmitRequest)&&(0,v.jsx)("div",{className:"".concat(d.Z.btn," ").concat(d.Z.btnActive),onClick:function(){var e;if(H.studentDescritpion||null!==(e=H.file)&&void 0!==e&&e.length){var n;M((function(e){return!e}));var i=new Date,s=new FormData;for(var t in s.append("studentDescritpion",H.studentDescritpion),s.append("submmittedDate",i),s.append("assignmentSubmitRequest",!0),s.append("testSet",""),H.file)H.file[t].size&&s.append("file",H.file[t]);ie({aid:null===(n=q.state)||void 0===n?void 0:n.aid,assignmentData:s}).then((function(){le(),I(),J({studentDescritpion:"",testSet:"",file:[]}),$([]),ee([]),M((function(e){return!e}))})).catch({})}},children:L("submit")}),Y&&(0,v.jsx)(Z.Z,{})]})]})},D=function(e,n){return Math.ceil(e/n*100)},S=function(e){var n,i=e.sid,p=e.carryParentState,h=(0,o.$G)().t,A=(0,j.lr)(),Z=(0,l.Z)(A,1)[0],y=(0,a.useState)(!0),b=(0,l.Z)(y,2),S=b[0],C=b[1],k=(0,a.useState)(1),R=(0,l.Z)(k,2),w=R[0],F=R[1],T=(0,m.YD)(),B=(0,l.Z)(T,2),I=B[0],L=B[1],q=(0,a.useState)([]),E=(0,l.Z)(q,2),O=E[0],K=E[1],Y=(0,a.useState)(!0),M=(0,l.Z)(Y,2),G=M[0],P=M[1],H=(0,u.u)().scrollToTop,J=(0,c.Pu)({sid:i,skip:!i}),U=J.getAssignmentCountByStudent,z=J.getAssignmentCountByStudentRefetch,W=(0,c.bc)({data:{sid:i,page:w,limit:10},skip:!i}),$=W.getAssignmentByStudent,V=W.getAssignmentByStudentRefetch;(0,a.useEffect)((function(){i&&z()}),[i,z]),(0,a.useEffect)((function(){i&&(P(!0),V())}),[i,w,V]),(0,a.useEffect)((function(){H()}),[H]),(0,a.useEffect)((function(){L&&S&&F((function(e){return e+1}))}),[L,S]),(0,a.useEffect)((function(){var e,n;null!==$&&void 0!==$&&$.assignments?(K(1===w?null===$||void 0===$?void 0:$.assignments:function(e){return(0,t.Z)(new Set([].concat((0,t.Z)(e),(0,t.Z)(null===$||void 0===$?void 0:$.assignments)).map(JSON.stringify))).map(JSON.parse)}),P(!1)):0===(null===$||void 0===$||null===(e=$.assignments)||void 0===e?void 0:e.length)&&P(!1),10===(null===$||void 0===$||null===(n=$.assignments)||void 0===n?void 0:n.length)?C(!0):C(!1)}),[null===$||void 0===$?void 0:$.assignments]);return(0,v.jsx)("div",{className:d.Z.student_assignment,children:Z.get("type")?(0,v.jsx)(N,{onRefetch:function(){F(1),V(),z()}}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:d.Z.rangeCard,children:[(0,v.jsx)(_,{text:h("total"),background:"#a0a0a0",progress:D(null===U||void 0===U?void 0:U.totalAssignment,null===U||void 0===U?void 0:U.totalAssignment),number:null===U||void 0===U?void 0:U.totalAssignment}),(0,v.jsx)(_,{text:h("submitted"),background:"#001A72",progress:D(null===U||void 0===U?void 0:U.submittedAssignment,null===U||void 0===U?void 0:U.totalAssignment),number:null===U||void 0===U?void 0:U.submittedAssignment}),(0,v.jsx)(_,{text:h("incomplete"),background:"#FFC700",progress:D(null===U||void 0===U?void 0:U.incompletedAssignment,null===U||void 0===U?void 0:U.totalAssignment),number:null===U||void 0===U?void 0:U.incompletedAssignment}),(0,v.jsx)(_,{text:h("completed"),background:"#06BB06",progress:D(null===U||void 0===U?void 0:U.completedAssignment,null===U||void 0===U?void 0:U.totalAssignment),number:null===U||void 0===U?void 0:U.completedAssignment})]}),(0,v.jsx)("div",{className:d.Z.assignmentCards,style:{width:"100%"},children:O.map((function(e,n){return(null===O||void 0===O?void 0:O.length)===n+1?(0,v.jsx)(x.Z,{carryParentState:(0,s.Z)((0,s.Z)({},p),{},{aid:null===e||void 0===e?void 0:e._id}),activeTab:"assignment&type=detail",customStyleLink:{width:"48%"},children:(0,v.jsx)("div",{className:d.Z.itemref,ref:I,children:(0,v.jsx)(f,{assignment:e})})},null===e||void 0===e?void 0:e._id):(0,v.jsx)(x.Z,{carryParentState:(0,s.Z)((0,s.Z)({},p),{},{aid:null===e||void 0===e?void 0:e._id}),activeTab:"assignment&type=detail",customStyleLink:{width:"48%"},children:(0,v.jsx)("div",{className:d.Z.itemref,children:(0,v.jsx)(f,{assignment:e})})},null===e||void 0===e?void 0:e._id)}))}),!G&&!(null!==$&&void 0!==$&&null!==(n=$.assignments)&&void 0!==n&&n.length)&&(0,v.jsx)(r.Z,{customStyleContainer:{marginTop:"9rem"},title:"No assignments found"}),G&&(0,v.jsx)(g.Z,{status:"white"})]})})}},36588:function(e,n){n.Z={student_assignment:"Assignment_student_assignment__yFBmo",assignment:"Assignment_assignment__aG6Aw",assignmentTop:"Assignment_assignmentTop__ogNmv",assignmentItem:"Assignment_assignmentItem__ew4Ai",left:"Assignment_left__G2IMZ",text:"Assignment_text__0SD-i",right:"Assignment_right__pik8u",assignmentList:"Assignment_assignmentList__sne4r",assignmentDetail:"Assignment_assignmentDetail__OrOM+",assignmentDetailTop:"Assignment_assignmentDetailTop__MwD2z",menu:"Assignment_menu__0x6Ea",assignmentDetailBody:"Assignment_assignmentDetailBody__HLyi9",addImgFile:"Assignment_addImgFile__ksLil",textt:"Assignment_textt__KZDHd",widthh:"Assignment_widthh__HNgng",img:"Assignment_img__yY5B3",des:"Assignment_des__PbADz",typeFile:"Assignment_typeFile__9JiX+",btn:"Assignment_btn__YRD6-",btnActive:"Assignment_btnActive__jCIoA",addImage:"Assignment_addImage__ZccGO",studentDescritpion:"Assignment_studentDescritpion__POWXR",files:"Assignment_files__l24RC",upload:"Assignment_upload__j6jO6",loader:"Assignment_loader__+KEsk",noData:"Assignment_noData__RtJ3I",studentassignment:"Assignment_studentassignment__IPx9e",rangeCard:"Assignment_rangeCard__yeCTY",rangeRow:"Assignment_rangeRow__LL3H6",rangeColumn1:"Assignment_rangeColumn1__NGVKN",rangeColumn2:"Assignment_rangeColumn2__dli8m",rangeColumn3:"Assignment_rangeColumn3__KE+CF",rangeColumn4:"Assignment_rangeColumn4__t9xWg",rangecircle:"Assignment_rangecircle__zj37Y",grey:"Assignment_grey__UabWR",progressdiv:"Assignment_progressdiv__kWrLy",progress:"Assignment_progress__69DN2",assignmentCards:"Assignment_assignmentCards__RUHmJ",assignmentCard:"Assignment_assignmentCard__BBXSt",itemref:"Assignment_itemref__lafVY",subject:"Assignment_subject__frZop",title:"Assignment_title__Pd1tJ",duetime:"Assignment_duetime__nUppR",rangecirclestatus:"Assignment_rangecirclestatus__Von6a",pollTextarea:"Assignment_pollTextarea__gaqA-",assignment_text:"Assignment_assignment_text__Oc9hf"}}}]);
//# sourceMappingURL=4701.c15525fb.chunk.js.map