"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[72183],{64499:(e,n,i)=>{i.d(n,{Ex:()=>d,KY:()=>a,oU:()=>s});var l=i(69721);function t(e){return function(e){return"object"===typeof e}(e)&&!function(e){return"[object Date]"===Object.prototype.toString.call(e)}(e)?JSON.stringify(e):e}function o(e){let{action:n,params:i}=e;const l=document.createElement("form");return l.setAttribute("method","post"),l.setAttribute("action",n),Object.keys(i).forEach((e=>{const n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name",e),n.setAttribute("value",t(i[e])),l.appendChild(n)})),l}function a(e){const n=o(e);document.body.appendChild(n),n.submit(),n.remove()}const d=e=>fetch("".concat(l.FH,"/api/v1/paytm/generateTxnToken"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).catch((e=>console.log(e))),s=e=>fetch("".concat(l.FH,"/api/v2/paytm/generateTxnToken"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).catch((e=>console.log(e)))},49384:(e,n,i)=>{i.d(n,{Z:()=>o});i(72791);var l=i(6307),t=i(80184);const o=()=>(0,t.jsx)(l.iT,{ariaLabel:"loading-indicator",height:20,width:20,color:"white",secondaryColor:"#1c023b"})},53967:(e,n,i)=>{i.d(n,{Z:()=>a});var l=i(72791);const t=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],o=["January","February","March","April","May","June","July","August","September","October","November","December"],a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;const i=new Date,a="".concat(i.getDate(),"-").concat(i.getMonth()+1,"-").concat(i.getFullYear()),[d,s]=(0,l.useState)(i),c=new Date(d.getFullYear(),d.getMonth()+1,0).getDate(),r=new Date(d.getFullYear(),d.getMonth(),1).getDay(),u=[1,2,3,4,5,6,0].indexOf(r)+1;let v=1;const m={},p=[];for(let l=1;l<7;l++){for(let e=1;e<8;e++)m[l]||(m[l]=[]),1===l?e<u||(m[l]=[...m[l],{classes:"",date:"".concat(v,"-").concat(d.getMonth()+1,"-").concat(d.getFullYear()),value:v}],v++):l>1&&v<c+1&&(m[l]=[...m[l],{classes:"",date:"".concat(v,"-").concat(d.getMonth()+1,"-").concat(d.getFullYear()),value:v}],v++);m[l].map((e=>{const n=e.date.split("-")[0],i=new Date(d.getFullYear(),d.getMonth(),n).getDay();return p.push({date:e.date,day:i}),""}))}return{daysShort:e,monthNames:n,todayFormatted:a,calendarData:p,selectedDate:d,getPrevMonth:()=>{s((e=>new Date(e.getFullYear(),e.getMonth()-1,1)))},getNextMonth:()=>{s((e=>new Date(e.getFullYear(),e.getMonth()+1,1)))},switchMonth:e=>{s((n=>new Date(n.getFullYear(),n.getMonth()+(e-d.getMonth()),1))),console.log(o[d.getMonth()])}}}},36665:(e,n,i)=>{i.d(n,{Z:()=>a});i(72791);var l=i(12072),t=i(1874),o=i(80184);const a=e=>{let{onClose:n,children:i}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.Z,{onClose:n}),(0,o.jsx)(l.Z,{children:i})]})}},9490:(e,n,i)=>{i.d(n,{Z:()=>d});var l=i(72791),t=i(53967),o=i(16313),a=i(80184);const d=e=>{let{setValidDate:n}=e;const{calendarData:i,selectedDate:d,todayFormatted:s,switchMonth:c,monthNames:r,getNextMonth:u,getPrevMonth:v}=(0,t.Z)(),[m,p]=(0,l.useState)(s),[_,h]=(0,l.useState)(!1);(0,l.useEffect)((()=>{if(m){const e=m.split("-"),i=e[0]>9?e[0]:"0".concat(e[0]),l=e[1]>9?e[1]:"0".concat(e[1]),t=e[2];n("".concat(t,"-").concat(l,"-").concat(i))}}),[m]);const g=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],x=Math.floor(i.map((function(e){return e.date})).indexOf(m)/7),[j,f]=(0,l.useState)(x),y=7*j,Z=Math.ceil(i.length/7),N=i.slice(y,y+7).map(((e,n)=>(0,a.jsxs)("div",{className:e.date===m?"".concat(o.Z.date," ").concat(o.Z.clickedDate):o.Z.date,onClick:()=>p(e.date),children:[(0,a.jsx)("h6",{children:e.date.split("-")[0]}),(0,a.jsx)("p",{children:g[e.day]})]},n)));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:o.Z.changemonth,children:[(0,a.jsxs)("h6",{onClick:()=>h(!_),children:[r[d.getMonth()]," ",d.getFullYear()]}),(0,a.jsx)("img",{alt:"not found",src:"/images/dropdown-icon.svg",onClick:()=>h(!_)}),_&&(0,a.jsx)("div",{className:o.Z.selectMonthList,children:["January","February","March","April","May","June","July","August","September","October","November","December"].map(((e,n)=>(0,a.jsx)("div",{className:o.Z.month,onClick:()=>{c(n),h(!1)},children:e},n)))})]}),(0,a.jsxs)("div",{className:o.Z.calender,children:[(0,a.jsx)("div",{className:o.Z.arrowbtn,onClick:()=>{j>0?f((e=>e-1)):(f(Z-1),v())},children:(0,a.jsx)("img",{alt:"not found",src:"/images/members/left-icon.svg"})}),(0,a.jsx)("div",{className:o.Z.dates,children:N}),(0,a.jsx)("div",{className:o.Z.arrowbtn,onClick:()=>{j+1<Z?f((e=>e+1)):(f(0),u())},children:(0,a.jsx)("img",{alt:"not found",src:"/images/members/right-icon.svg"})})]})]})}},71439:(e,n,i)=>{i.d(n,{Z:()=>b});var l=i(72791);const t="PaymentGatewayConfig_gateway_container__nrTUY",o="PaymentGatewayConfig_gateway_upi__AJ6Eb",a="PaymentGatewayConfig_gateway_other__RxfCt",d="PaymentGatewayConfig_gateway_upi_text__OV6Zf",s="PaymentGatewayConfig_gateway_other_text__EVLNL",c="PaymentGatewayConfig_gateway_upi_text_inner__SB-Kf",r="PaymentGatewayConfig_gateway_other_text_inner__Pd5BQ",u="PaymentGatewayConfig_gateway_upi_icons__EAxoi",v="PaymentGatewayConfig_gateway_upi_icons_inner__N+sfo",m="PaymentGatewayConfig_gateway_other_icons__kqTO+",p="PaymentGatewayConfig_gateway_other_icons_inner__MGmma",_="PaymentGatewayConfig_gateway_btn__2Xo3a",h="PaymentGatewayConfig_gateway_border__gjI8+",g="PaymentGatewayConfig_gateway_summary__Rbg+6",x="PaymentGatewayConfig_gateway_summary_text__b6PzX";var j=i(36665),f=i(39230),y=i(49384),Z=i(80184);const N=e=>{var n,i;let{onClose:l,allContent:o,onNext:a,isLoading:d,selected:s,isOptimzed:c}=e;const{t:r}=(0,f.$G)();let u=2.1*+(null===o||void 0===o?void 0:o.amount)/100,v=u+18*+u/100;const m=parseInt(null===o||void 0===o?void 0:o.amount);Math.ceil(m+ +v.toFixed(2));var p=1*parseInt(null===o||void 0===o?void 0:o.amount)/100,N=p>=100?100:p;let b=18*+N/100;Math.ceil(parseInt(null===o||void 0===o?void 0:o.amount)+parseInt(N)+parseInt(b));return(0,Z.jsx)(j.Z,{onClose:l,children:(0,Z.jsxs)("div",{className:t,children:[(0,Z.jsx)("div",{className:h,children:(0,Z.jsx)("img",{src:"/images/member_tab/gateway/gateway-border-icon.svg",alt:"gateway icon"})}),(0,Z.jsx)("h6",{children:r("Payment_Summary")}),(0,Z.jsxs)("section",{className:g,children:[c&&(0,Z.jsx)("div",{className:x,children:(0,Z.jsxs)("h6",{style:{fontSize:"14px",fontWeight:"500"},children:[r("plateform_fees_rs")," ",null!==(n=null===(i=(null===o||void 0===o?void 0:o.amount)*(null===o||void 0===o?void 0:o.platform_charges)/100)||void 0===i?void 0:i.toFixed(2))&&void 0!==n?n:0]})}),(0,Z.jsx)("div",{className:x,children:(0,Z.jsx)("h6",{style:{fontSize:"14px",fontWeight:"500"},children:r(c?"pg_convenience_o":"pg_convenience")})}),(0,Z.jsx)("div",{className:x,children:(0,Z.jsx)("p",{children:r(c?"pg_convenience_note_o":"pg_convenience_note")})}),(0,Z.jsx)("div",{className:x,children:(0,Z.jsxs)("p",{style:{fontSize:"12px"},children:[(0,Z.jsx)("img",{src:"/images/checkbox-icon.svg",alt:"icon",style:{height:"0.8rem",marginRight:"0.5rem"}}),r(c?"pg_convenience_forward_o":"pg_convenience_forward")]})}),(0,Z.jsxs)("button",{onClick:a,className:_,style:{marginTop:"1rem"},children:[r("Make_Payment"),d&&(0,Z.jsx)("span",{style:{marginLeft:"10px",marginTop:"13px"},children:(0,Z.jsx)(y.Z,{})})]})]})]})})},b=e=>{let{onClose:n,allContent:i,checkoutHandler:_,checkoutAdmissionHandler:g,checkoutParticipate:x,checkoutBacklogHandler:y,checkoutAdmissionDirectHandler:b,checkoutLibraryHandler:S,isOptimzed:C}=e;const{t:I}=(0,f.$G)(),[A,k]=(0,l.useState)(0),[w,P]=(0,l.useState)("PAYTM"),[D,M]=(0,l.useState)(!1),O=e=>{k(e),P(0===e?"PAYTM":"RAZOR")};return(0,Z.jsx)(Z.Fragment,{children:w?(0,Z.jsx)(N,{onClose:n,allContent:i,onNext:()=>{M(!0),"Fees"===i.type?_(0===A?"PAYTM":"RAZOR"):"Admission"===i.type?g(0===A?"PAYTM":"RAZOR"):"Participate"===i.type?x(0===A?"PAYTM":"RAZOR"):"Backlog"===i.type?y(0===A?"PAYTM":"RAZOR"):"Library Fees"===i.type?S(0===A?"PAYTM":"RAZOR"):"ADMISSION_DIRECT_APPLY"===i.type&&b(0===A?"PAYTM":"RAZOR")},isLoading:D,selected:A,isOptimzed:C}):(0,Z.jsx)(j.Z,{onClose:n,children:(0,Z.jsxs)("div",{className:t,children:[(0,Z.jsx)("div",{className:h,children:(0,Z.jsx)("img",{src:"/images/member_tab/gateway/gateway-border-icon.svg",alt:"gateway icon"})}),(0,Z.jsx)("h6",{children:I("Payment_Mode")}),(0,Z.jsx)("p",{children:I("Pay_via_UPI_Less_transaction_charges_by_Payment_Gateway")}),(0,Z.jsxs)("section",{className:o,onClick:()=>O(0),style:{boxShadow:0===A&&"0px 4px 4px 0px #00000040",backgroundColor:0===A&&"rgb(156 136 179 / 10%)"},children:[(0,Z.jsxs)("div",{className:d,children:[(0,Z.jsx)("img",{src:"/images/member_tab/gateway/gateway-bheem-icon.svg",alt:"gateway icon"}),(0,Z.jsxs)("div",{className:c,children:[(0,Z.jsx)("p",{children:I("Payment_Mode")}),(0,Z.jsx)("h6",{children:I("payment_upi")})]})]}),(0,Z.jsxs)("div",{className:u,children:[(0,Z.jsx)("img",{src:"/images/member_tab/gateway/gateway-recomended-icon.svg",alt:"gateway icon"}),(0,Z.jsxs)("div",{className:v,children:[(0,Z.jsx)("img",{src:"/images/member_tab/gateway/gateway-phone-icon.svg",alt:"gateway icon"}),(0,Z.jsx)("img",{src:"/images/member_tab/gateway/gateway-paytm-icon.svg",alt:"gateway icon"}),(0,Z.jsx)("img",{src:"/images/member_tab/gateway/gateway-google-icon.svg",alt:"gateway icon"})]})]})]}),(0,Z.jsxs)("section",{className:a,onClick:()=>O(1),style:{boxShadow:1===A&&"0px 4px 4px 0px #00000040",backgroundColor:1===A&&"rgb(156 136 179 / 10%)"},children:[(0,Z.jsxs)("div",{className:s,children:[(0,Z.jsx)("img",{src:"/images/member_tab/gateway/gateway-other-icon.svg",alt:"gateway icon"}),(0,Z.jsxs)("div",{className:r,children:[(0,Z.jsx)("p",{children:I("Payment_Mode")}),(0,Z.jsx)("h6",{children:I("payment_other")})]})]}),(0,Z.jsxs)("div",{className:m,children:[(0,Z.jsxs)("div",{className:p,children:[(0,Z.jsx)("img",{src:"/images/member_tab/gateway/gateway-debit-icon.svg",alt:"gateway icon"}),(0,Z.jsxs)("p",{children:[I("debit_credit"),(0,Z.jsx)("br",{}),I("cards")]})]}),(0,Z.jsxs)("div",{className:p,children:[(0,Z.jsx)("img",{src:"/images/member_tab/gateway/gateway-bank-icon.svg",alt:"gateway icon"}),(0,Z.jsx)("p",{children:I("net_banking")})]})]})]})]})})})}},1874:(e,n,i)=>{i.d(n,{Z:()=>a});i(72791);var l=i(54164),t=i(84489),o=i(80184);const a=e=>{let{onClose:n,customStyleBackdrop:i}=e;return(0,o.jsx)(o.Fragment,{children:l.createPortal((0,o.jsx)(t.Z,{onClose:n,customStyleBackdrop:i}),document.getElementById("backdrop"))})}},31697:(e,n,i)=>{i.d(n,{Z:()=>a});var l=i(39230),t=i(80476),o=i(80184);const a=e=>{let{label:n,count:i,onAction:a,customStyle:d}=e;const{t:s}=(0,l.$G)();return(0,o.jsxs)("div",{className:t.Z.btn_container,onClick:e=>{a(e)},style:d,children:[i>0&&(0,o.jsx)("span",{style:{marginRight:"0.8rem"},children:i}),s(n)]})}},19056:(e,n,i)=>{i.d(n,{Z:()=>s});var l=i(72791),t=i(39230),o=i(52245),a=i(98684),d=i(80184);const s=e=>{let{selectLabel:n,onClick:i,selectedValue:s,options:c,customStyleContainer:r,customLabelStyle:u,customListStyle:v,errorShow:m,defalutValue:p,isDenied:_}=e;const{t:h}=(0,t.$G)(),[g,x]=(0,l.useState)(!1),[j,f]=(0,l.useState)(""),y=()=>{_||x((e=>!e))};(0,l.useEffect)((()=>{p&&f(p)}),[p]);return(0,d.jsxs)("div",{className:o.Z.form_input_container,style:{...r},children:[(0,d.jsxs)("p",{className:o.Z.join_form_select_paragraph,style:{...u},children:[n,m&&(0,d.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",h("form_require_label")]})]}),(0,d.jsxs)("section",{className:o.Z.join_form_select_custom,onClick:y,children:[j?(0,d.jsx)("p",{className:o.Z.join_form_select_custom_paragraph,children:null!==j&&void 0!==j?j:""}):(0,d.jsx)("p",{className:o.Z.join_form_select_custom_paragraph,children:s}),g?(0,d.jsx)("img",{className:o.Z.join_form_select_custom_rotate_icon,src:"".concat(a.J7,"/down.svg"),alt:"categor icon"}):(0,d.jsx)("img",{className:o.Z.join_form_select_custom_icon,src:"".concat(a.J7,"/down.svg"),alt:"categor icon"})]}),(0,d.jsx)("section",{children:g&&(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("section",{className:o.Z.join_form_select_custom_list,style:v,children:null===c||void 0===c?void 0:c.map(((e,n)=>(0,d.jsx)("p",{onClick:()=>{return i(n=e),y(),void f(n);var n},className:o.Z.join_form_select_custom_paragraph_option,children:e},n)))})})})]})}},63162:(e,n,i)=>{i.d(n,{Z:()=>c});var l=i(39230),t=i(51416),o=i(43504),a=i(72791),d=i(80184);const s=e=>{let{tab:n,isActive:i,isLink:a,parentState:s,onAction:c,url:r}=e;const{t:u}=(0,l.$G)();return a?(0,d.jsx)(o.rU,{className:i?t.Z.horizontal_tab_card_active:t.Z.horizontal_tab_card,to:r,state:s,children:(0,d.jsx)("h6",{children:u(null===n||void 0===n?void 0:n.label)})}):(0,d.jsx)("div",{className:i?t.Z.horizontal_tab_card_active:t.Z.horizontal_tab_card,onClick:()=>{c(null===n||void 0===n?void 0:n.id)},children:(0,d.jsx)("h6",{children:u(null===n||void 0===n?void 0:n.label)})})},c=(0,a.memo)(s)},98967:(e,n,i)=>{i.d(n,{Z:()=>o});var l=i(51416),t=i(80184);const o=e=>{let{children:n}=e;return(0,t.jsx)("div",{className:l.Z.horizontal_tab_wrapper,children:n})}},66752:(e,n,i)=>{i.d(n,{Z:()=>h});var l=i(39230),t=i(48293),o=i(21348),a=i(16925),d=i(90904),s=i(72791),c=i(99183),r=i(98684),u=i(43317),v=i(55336),m=i(93638),p=i(11468),_=i(80184);const h=e=>{let{onClose:n,sid:i,appId:h,onRefetch:g,isProfile:x,setWhichSelect:j}=e;const{t:f}=(0,l.$G)(),[y,Z]=(0,s.useState)(!1),[N,b]=(0,s.useState)(""),[S,C]=(0,s.useState)({reason:""}),[I]=(0,u.u7)();return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(t.Z,{onClose:n,children:(0,_.jsxs)("div",{className:a.Z.modal_container,children:[(0,_.jsx)(o.Z,{children:(0,_.jsxs)("div",{className:a.Z.modal_container_outer_header,children:[(0,_.jsx)("div",{className:a.Z.modal_container_header,children:(0,_.jsx)("h6",{children:f("cancel_admission_application")})}),(0,_.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,_.jsx)(d.Z,{}),(0,_.jsxs)(o.Z,{customStyle:{paddingTop:"0"},children:[(0,_.jsx)(p.Z,{label:f("reason"),placeholder:f("please_enter_reject_reason"),name:"reason",value:S.reason,type:"text",onChange:e=>{C((n=>({...n,[e.target.name]:e.target.value})))},errorShow:N.reason}),(0,_.jsx)(m.Z,{label:"confirm",onAction:()=>{let e=(0,c.l)(S);(0,c.x)(e)?h&&i&&(Z((e=>!e)),I({sid:i,appId:h,bodyParameter:S}).then((()=>{x?j(!1):g(),Z((e=>!e)),n()})).catch((()=>{Z((e=>!e))}))):b(e)}})]})]})}),y&&(0,_.jsx)(v.Z,{})]})}},79110:(e,n,i)=>{i.d(n,{Z:()=>r});var l=i(16871),t=i(75285),o=i(1095),a=i(98684),d=i(39230),s=i(66239),c=i(80184);const r=e=>{var n,i,r,u,v,m,p,_,h,g,x,j,f,y,Z,N,b,S,C,I,A,k,w,P,D,M,O,T,R,F;let{applicant:E,instituteId:L}=e;const{t:G}=(0,d.$G)(),U=(0,l.UO)(),q=(0,l.s0)();return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:t.Z.oac_container,onClick:()=>{var e;q("/q/".concat(U.username,"/student/profile"),{state:{sid:null===E||void 0===E||null===(e=E.student)||void 0===e?void 0:e._id,instituteId:L,viewAs:"ADMISSION_ADMIN",collectAccess:"Other"}})},title:"View Profile",children:[(0,c.jsxs)("div",{className:t.Z.oac_container_inner,children:[(0,c.jsx)("img",{alt:"Student Request Avatar",src:null!==E&&void 0!==E&&null!==(n=E.student)&&void 0!==n&&n.studentProfilePhoto?"".concat(o.yI,"/").concat(null===E||void 0===E||null===(i=E.student)||void 0===i?void 0:i.studentProfilePhoto):"".concat(a.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,c.jsxs)("div",{className:t.Z.oac_container_inner_info,children:[(0,c.jsx)("h6",{children:"".concat(null!==(r=null===E||void 0===E||null===(u=E.student)||void 0===u?void 0:u.studentFirstName)&&void 0!==r?r:""," ").concat(null!==E&&void 0!==E&&null!==(v=E.student)&&void 0!==v&&v.studentMiddleName?null===E||void 0===E||null===(m=E.student)||void 0===m?void 0:m.studentMiddleName:""," ").concat(null!==(p=null===E||void 0===E||null===(_=E.student)||void 0===_?void 0:_.studentLastName)&&void 0!==p?p:"")}),(0,c.jsxs)("p",{children:[G("form_no_only"),": ",null!==(h=null===E||void 0===E||null===(g=E.student)||void 0===g?void 0:g.form_no)&&void 0!==h?h:""]}),(0,c.jsxs)("p",{children:[G("rs_only")," ",null===E||void 0===E?void 0:E.refund_amount," ","Refund"===(null===E||void 0===E?void 0:E.payment_status)&&"Refunded"]})]})]}),(0,c.jsxs)("div",{className:t.Z.oac_container_contact,children:[(0,c.jsxs)("div",{className:t.Z.oac_container_contact_inner,children:[(0,c.jsx)("img",{src:"".concat(a.U_,"/gender.svg"),alt:"email icon"}),(0,c.jsx)("p",{children:null===E||void 0===E||null===(x=E.student)||void 0===x?void 0:x.studentGender})]}),(0,c.jsxs)("div",{className:t.Z.oac_container_contact_inner,children:[(0,c.jsx)("img",{src:"".concat(a.U_,"/phone.svg"),alt:"phone icon"}),(0,c.jsx)("p",{children:null!==E&&void 0!==E&&null!==(j=E.student)&&void 0!==j&&null!==(f=j.user)&&void 0!==f&&f.userPhoneNumber?null===E||void 0===E||null===(y=E.student)||void 0===y||null===(Z=y.user)||void 0===Z?void 0:Z.userPhoneNumber:null!==E&&void 0!==E&&null!==(N=E.student)&&void 0!==N&&null!==(b=N.user)&&void 0!==b&&b.userEmail?null===E||void 0===E||null===(S=E.student)||void 0===S||null===(C=S.user)||void 0===C?void 0:C.userEmail:null!==E&&void 0!==E&&null!==(I=E.student)&&void 0!==I&&I.studentPhoneNumber?null===E||void 0===E||null===(A=E.student)||void 0===A?void 0:A.studentPhoneNumber:null!==E&&void 0!==E&&null!==(k=E.student)&&void 0!==k&&k.studentParentsPhoneNumber?null===E||void 0===E||null===(w=E.student)||void 0===w?void 0:w.studentParentsPhoneNumber:null!==(P=null===E||void 0===E||null===(D=E.student)||void 0===D?void 0:D.studentEmail)&&void 0!==P?P:""})]})]}),(0,c.jsxs)("div",{className:t.Z.oac_container_stuff,children:[(0,c.jsx)("a",{href:"".concat(o.q2,"/").concat(null===E||void 0===E||null===(M=E.student)||void 0===M||null===(O=M.application_print)||void 0===O||null===(T=O[0])||void 0===T?void 0:T.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,c.jsx)("img",{src:"".concat(a.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),null===E||void 0===E||null===(R=E.student)||void 0===R||null===(F=R.fee_receipt)||void 0===F?void 0:F.map(((e,n)=>n>2?"":(0,c.jsx)(s.Z,{rid:null===e||void 0===e?void 0:e._id,receiptFile:null===e||void 0===e?void 0:e.receipt_file},null===e||void 0===e?void 0:e._id)))]})]})})}},42067:(e,n,i)=>{i.r(n),i.d(n,{default:()=>ze});var l=i(43504),t=i(16871),o=i(43317),a=i(72791),d=i(39230),s=i(23441),c=i(91427),r=i(57588),u=i(98684),v=i(56959),m=i(21348),p=i(90904),_=i(98967),h=i(63162),g=i(48293),x=i(16925),j=i(9490),f=i(75285),y=i(85794),Z=i(55336),N=i(93638),b=i(80184);const S=e=>{var n,i,l,s,c,r,v,_,h,S,I;let{applicationDetail:A,onClose:k,applicationDetailApplicablePending:w}=e;const P=(0,t.TH)(),D=(0,t.UO)(),M=(0,t.s0)(),{t:O}=(0,d.$G)(),T=new Date,[R,F]=(0,a.useState)(!1),[E,L]=(0,a.useState)(!1),[G,U]=(0,a.useState)(null===(n=T.toISOString())||void 0===n?void 0:n.substring(0,10)),[q,Y]=(0,a.useState)({open:!1,msg:"",variant:"error"}),[z]=(0,o.b6)(),{admissionOngoingApplicationDailyCollect:B}=(0,o.Be)({data:{appId:null===A||void 0===A?void 0:A._id,valid_date:G},skip:!(null!==A&&void 0!==A&&A._id)}),J=()=>{null!==A&&void 0!==A&&A._id&&(F((e=>!e)),z({appId:null===A||void 0===A?void 0:A._id}).then((e=>{var n;if(null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.complete_status){var i;let e="Institute"===(null===(i=P.state)||void 0===i?void 0:i.urlOffSet)?"/q/".concat(D.username,"/institute/member/admission?type=ongoing-detail"):"/q/".concat(D.username,"/member/staff/admission?type=ongoing-detail");M(e,{state:P.state})}else Y({msg:null===e||void 0===e?void 0:e.data.message,open:!0,variant:"error"});k(),F((e=>!e))})).catch({}))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.Z,{onClose:k,children:(0,b.jsxs)("div",{className:x.Z.modal_container,children:[(0,b.jsx)(m.Z,{children:(0,b.jsxs)("div",{className:x.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:x.Z.modal_container_header,children:(0,b.jsx)("h6",{style:{cursor:"pointer",color:"#436dfa"},onClick:()=>L((e=>!e)),children:null===A||void 0===A?void 0:A.applicationName})}),(0,b.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:k})]})}),(0,b.jsx)(p.Z,{}),(0,b.jsxs)(m.Z,{customStyle:{paddingTop:"0"},children:[(0,b.jsx)(j.Z,{setValidDate:U}),E?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:f.Z.content2,children:[(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:O("total_received_application")}),(0,b.jsx)("h6",{children:null===A||void 0===A?void 0:A.receievedCount})]}),(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:O("total_selected_application")}),(0,b.jsx)("h6",{children:null===A||void 0===A?void 0:A.selectCount})]}),(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:O("total_confirmed_application")}),(0,b.jsx)("h6",{children:null===A||void 0===A?void 0:A.confirmCount})]}),(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:O("total_alloted_application")}),(0,b.jsx)("h6",{children:null===A||void 0===A?void 0:A.allotCount})]}),(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:O("total_cancelled_application")}),(0,b.jsx)("h6",{children:null===A||void 0===A?void 0:A.cancelCount})]})]}),(0,b.jsxs)("div",{className:f.Z.content3,children:[(0,b.jsxs)("div",{className:f.Z.appinforow1,children:[(0,b.jsx)("h6",{children:O("total_fees_received")}),(0,b.jsxs)("h6",{children:["Rs. ",null===A||void 0===A?void 0:A.collectedFeeCount]})]}),(0,b.jsxs)("div",{className:"".concat(f.Z.appinforow2," ").concat(f.Z.appinforowred),children:[(0,b.jsx)("h6",{children:O("total_fees_pending")}),(0,b.jsxs)("h6",{children:["Rs. ",null===A||void 0===A?void 0:A.remainingFee]})]}),(0,b.jsxs)("div",{className:"".concat(f.Z.appinforow2," ").concat(f.Z.appinforowred),children:[(0,b.jsx)("h6",{children:O("total_applicable_fees_pending")}),(0,b.jsxs)("h6",{children:["Rs. ",null!==w&&void 0!==w?w:0]})]}),C[null===(I=P.state)||void 0===I?void 0:I.isAuthorization]?null:(0,b.jsx)(N.Z,{label:O("complete_application"),onAction:J})]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:f.Z.content2,children:[(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:O("total_received_application")}),(0,b.jsx)("h6",{children:null!==(i=null===B||void 0===B?void 0:B.request_count)&&void 0!==i?i:0})]}),(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:O("total_selected_application")}),(0,b.jsx)("h6",{children:null!==(l=null===B||void 0===B?void 0:B.select_count)&&void 0!==l?l:0})]}),(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:O("total_confirmed_application")}),(0,b.jsx)("h6",{children:null!==(s=null===B||void 0===B?void 0:B.confirm_count)&&void 0!==s?s:0})]}),(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:O("total_alloted_application")}),(0,b.jsx)("h6",{children:null!==(c=null===B||void 0===B?void 0:B.allot_count)&&void 0!==c?c:0})]}),(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:O("total_cancelled_application")}),(0,b.jsx)("h6",{children:null!==(r=null===B||void 0===B?void 0:B.cancel_count)&&void 0!==r?r:0})]})]}),(0,b.jsxs)("div",{className:f.Z.content3,children:[(0,b.jsxs)("div",{className:f.Z.appinforow1,children:[(0,b.jsx)("h6",{children:O("total_fees_received")}),(0,b.jsxs)("h6",{children:["Rs. ",null!==(v=null===B||void 0===B?void 0:B.paid)&&void 0!==v?v:0]})]}),(0,b.jsxs)("div",{className:"".concat(f.Z.appinforow2," ").concat(f.Z.appinforowred),children:[(0,b.jsx)("h6",{children:O("total_fees_pending")}),(0,b.jsxs)("h6",{children:["Rs. ",null!==(_=null===B||void 0===B?void 0:B.remain)&&void 0!==_?_:0]})]}),(0,b.jsxs)("div",{className:"".concat(f.Z.appinforow2," ").concat(f.Z.appinforowred),children:[(0,b.jsx)("h6",{children:O("total_applicable_fees_pending")}),(0,b.jsxs)("h6",{children:["Rs."," ",null!==(h=null===B||void 0===B?void 0:B.applicable_pending)&&void 0!==h?h:0]})]}),C[null===(S=P.state)||void 0===S?void 0:S.isAuthorization]?null:(0,b.jsx)(N.Z,{label:O("complete_application"),onAction:J})]})]})]})]})}),R&&(0,b.jsx)(Z.Z,{}),(0,b.jsx)(y.Z,{eventState:q,eventStateHandler:Y})]})},C={isCompleted:!0},I=e=>{var n,i;let{applicationDetail:o,children:d}=e;const s=(0,t.TH)(),c=(0,t.UO)(),r=(0,t.s0)(),[g]=(0,l.lr)(),[x,j]=(0,a.useState)(""),f=(0,a.useCallback)((()=>{var e,n,i;let l="";l=k[null===(e=s.state)||void 0===e?void 0:e.isAuthorization]?"Institute"===(null===(n=s.state)||void 0===n?void 0:n.urlOffSet)?"/q/".concat(c.username,"/institute/member/admission?type=complete"):"/q/".concat(c.username,"/member/staff/admission?type=complete"):"Institute"===(null===(i=s.state)||void 0===i?void 0:i.urlOffSet)?"/q/".concat(c.username,"/institute/member/admission?type=ongoing"):"/q/".concat(c.username,"/member/staff/admission?type=ongoing"),r(l,{state:s.state})}),[r,s.state,c.username]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Z,{children:(0,b.jsxs)("div",{className:v.Z.fm_header_container,children:[(0,b.jsxs)("div",{className:v.Z.fm_header_start_container,style:{gap:"0.2rem"},children:[(0,b.jsx)("img",{alt:"search icon",src:"".concat(u.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:f}),(0,b.jsx)("h6",{children:null!==(n=null===(i=s.state)||void 0===i?void 0:i.applicationName)&&void 0!==n?n:""})]}),(0,b.jsxs)("div",{className:v.Z.fm_search,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/application-detail.svg"),alt:"icon",title:"Application details",onClick:()=>{j(1)}}),d]})]})}),(0,b.jsx)(p.Z,{}),(0,b.jsx)(_.Z,{children:A.map((e=>{var n,i;return(0,b.jsx)(h.Z,{tab:e,isLink:!0,isActive:null===(n=e.groupIs)||void 0===n?void 0:n.includes(g.get("n")),parentState:s.state,url:"Institute"===(null===(i=s.state)||void 0===i?void 0:i.urlOffSet)?"/q/".concat(c.username,"/institute/member/admission?type=ongoing-detail").concat(e.urlKey):"/q/".concat(c.username,"/member/staff/admission?type=ongoing-detail").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,b.jsx)(p.Z,{customStyleBorder:{marginTop:"0"}}),1===x?(0,b.jsx)(S,{applicationDetail:o,onClose:()=>{j("")}}):null]})},A=[{label:"application",id:"application",urlKey:"",groupIs:["",null]},{label:"docs_collection",id:"document",urlKey:"&n=document",groupIs:["document"]},{label:"fees_collection",id:"fees",urlKey:"&n=fees",groupIs:["fees"]},{label:"confirmed",id:"confirmed",urlKey:"&n=confirmed",groupIs:["confirmed","confirmed-multi"]},{label:"review",id:"review",urlKey:"&n=review",groupIs:["review","review-multi"]},{label:"allottment",id:"allottment",urlKey:"&n=allottment",groupIs:["allottment"]},{label:"cancelled",id:"cancelled",urlKey:"&n=cancelled",groupIs:["cancelled"]}],k={isCompleted:!0};var w=i(63687),P=i(2651),D=i(1669),M=i(1095),O=i(97892),T=i.n(O),R=i(23984),F=i(77123),E=i(31697),L=i(66752);const G=e=>{var n,i,l,s,c,r,v,m,p,_,h,g,x,j,y,N,S,C,I,A,k,w,P,D,O,G,U,q,Y,z;let{instituteId:B,applicant:J,did:V,bid:H,cmid:$,appId:W,onRefetch:Q}=e;const{t:K}=(0,d.$G)(),X=(0,t.UO)(),ee=(0,t.s0)(),[ne,ie]=(0,a.useState)(""),[le,te]=(0,a.useState)(!1),[oe]=(0,o.mW)(),ae=(0,a.useCallback)((()=>{var e,n;ee("/q/".concat(X.username,"/student/profile"),{state:{sid:null===J||void 0===J||null===(e=J.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:B,isExtraInfo:"ONGOING_APPLICATION",isExtraData:{appId:W,sid:null===J||void 0===J||null===(n=J.student)||void 0===n?void 0:n._id,did:V,bid:H,cmid:$}}})}),[ee,X.username,B,null===J||void 0===J||null===(n=J.student)||void 0===n?void 0:n._id,W,V,H,$]),de=()=>{ie("")};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:f.Z.oac_container,onClick:ae,title:"View Profile",children:[(0,b.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==J&&void 0!==J&&null!==(i=J.student)&&void 0!==i&&i.studentProfilePhoto?"".concat(M.yI,"/").concat(null===J||void 0===J||null===(l=J.student)||void 0===l?void 0:l.studentProfilePhoto):"".concat(u.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,b.jsx)("h6",{children:"".concat(null!==(s=null===J||void 0===J||null===(c=J.student)||void 0===c?void 0:c.studentFirstName)&&void 0!==s?s:""," ").concat(null!==J&&void 0!==J&&null!==(r=J.student)&&void 0!==r&&r.studentMiddleName?null===J||void 0===J||null===(v=J.student)||void 0===v?void 0:v.studentMiddleName:""," ").concat(null!==(m=null===J||void 0===J||null===(p=J.student)||void 0===p?void 0:p.studentLastName)&&void 0!==m?m:"")}),(0,b.jsxs)("p",{children:[K("form_no_only"),": ",null!==(_=null===J||void 0===J||null===(h=J.student)||void 0===h?void 0:h.form_no)&&void 0!==_?_:""]}),(0,b.jsxs)("p",{children:[K("applied_on"),":"," ",T()(null===J||void 0===J?void 0:J.apply_on).format("DD MMM YYYY")]})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/gender.svg"),alt:"email icon"}),(0,b.jsx)("p",{children:null===J||void 0===J||null===(g=J.student)||void 0===g?void 0:g.studentGender})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{children:null!==J&&void 0!==J&&null!==(x=J.student)&&void 0!==x&&null!==(j=x.user)&&void 0!==j&&j.userPhoneNumber?null===J||void 0===J||null===(y=J.student)||void 0===y||null===(N=y.user)||void 0===N?void 0:N.userPhoneNumber:null!==J&&void 0!==J&&null!==(S=J.student)&&void 0!==S&&null!==(C=S.user)&&void 0!==C&&C.userEmail?null===J||void 0===J||null===(I=J.student)||void 0===I||null===(A=I.user)||void 0===A?void 0:A.userEmail:null!==J&&void 0!==J&&null!==(k=J.student)&&void 0!==k&&k.studentPhoneNumber?null===J||void 0===J||null===(w=J.student)||void 0===w?void 0:w.studentPhoneNumber:null!==J&&void 0!==J&&null!==(P=J.student)&&void 0!==P&&P.studentParentsPhoneNumber?null===J||void 0===J||null===(D=J.student)||void 0===D?void 0:D.studentParentsPhoneNumber:null!==(O=null===J||void 0===J||null===(G=J.student)||void 0===G?void 0:G.studentEmail)&&void 0!==O?O:""})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_stuff,children:[(0,b.jsx)("a",{href:"".concat(M.q2,"/").concat(null===J||void 0===J||null===(U=J.student)||void 0===U||null===(q=U.application_print)||void 0===q||null===(Y=q[0])||void 0===Y?void 0:Y.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,b.jsx)("img",{src:"".concat(u.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),(0,b.jsxs)(R.Z,{children:[(0,b.jsx)(E.Z,{label:"select",onAction:e=>{e.stopPropagation(),ie(1)},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}}),(0,b.jsx)(E.Z,{label:"reject",onAction:e=>{e.stopPropagation(),ie(2)},customStyle:{padding:"0.4rem 0.7rem",borderColor:"rgb(176 174 174)",fontSize:"13px",opacity:"0.9"}})]})]})]}),1===ne?(0,b.jsx)(F.Z,{title:"select_fee_structre_of_student",onClose:de,onSelectedStrucutre:e=>{var n,i;null!==J&&void 0!==J&&null!==(n=J.student)&&void 0!==n&&n._id&&W&&null!==e&&void 0!==e&&e._id&&(te((e=>!e)),oe({sid:null===J||void 0===J||null===(i=J.student)||void 0===i?void 0:i._id,appId:W,applicant:{fee_struct:null===e||void 0===e?void 0:e._id}}).then((()=>{Q(),de(),te((e=>!e))})).catch((()=>{te((e=>!e))})))},did:V,bid:H,cmid:$}):2===ne?(0,b.jsx)(L.Z,{onClose:de,appId:W,sid:null===J||void 0===J||null===(z=J.student)||void 0===z?void 0:z._id,onRefetch:Q}):null,le&&(0,b.jsx)(Z.Z,{})]})};var U=i(49806);const q=e=>{var n,i,l,t,o,a,d,s,c;let{applicant:r,onSelect:v,applicantId:m}=e;return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:f.Z.oac_container,style:{justifyContent:"flex-start"},children:[(0,b.jsx)("img",{className:f.Z.department_checkbox,src:null!==m&&void 0!==m&&m.includes(null===r||void 0===r||null===(n=r.student)||void 0===n?void 0:n._id)?"".concat(u.U_,"/check.svg"):"".concat(u.U_,"/uncheck.svg"),alt:"check icon",onClick:()=>v(null===r||void 0===r?void 0:r.student)}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner,style:{width:"100%"},children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==r&&void 0!==r&&null!==(i=r.student)&&void 0!==i&&i.studentProfilePhoto?"".concat(M.yI,"/").concat(null===r||void 0===r||null===(l=r.student)||void 0===l?void 0:l.studentProfilePhoto):"".concat(u.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsx)("div",{className:f.Z.oac_container_inner_info,children:(0,b.jsx)("h6",{children:"".concat(null!==(t=null===r||void 0===r||null===(o=r.student)||void 0===o?void 0:o.studentFirstName)&&void 0!==t?t:""," ").concat(null!==r&&void 0!==r&&null!==(a=r.student)&&void 0!==a&&a.studentMiddleName?null===r||void 0===r||null===(d=r.student)||void 0===d?void 0:d.studentMiddleName:""," ").concat(null!==(s=null===r||void 0===r||null===(c=r.student)||void 0===c?void 0:c.studentLastName)&&void 0!==s?s:"")})})]})]})})};var Y=i(46194);const z=e=>{var n;let{transferStudentObj:i,application:l,appId:t,transferApplicantId:s,onClose:c,onParentClose:r}=e;const{t:v}=(0,d.$G)(),[_,h]=(0,a.useState)(!1),[j]=(0,o.We)();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.Z,{children:(0,b.jsxs)("div",{className:x.Z.modal_container,children:[(0,b.jsx)(m.Z,{children:(0,b.jsxs)("div",{className:x.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:x.Z.modal_container_header,children:(0,b.jsx)("h6",{children:v("select_confirm_student")})}),(0,b.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:c,className:x.Z.close_icon})]})}),(0,b.jsx)(p.Z,{}),(0,b.jsxs)(m.Z,{customStyle:{paddingTop:"0"},children:[(0,b.jsxs)("div",{className:f.Z.admission_class_confirm,children:[v("transfering")," ",(0,b.jsx)("span",{style:{fontWeight:"600"},children:null===i||void 0===i?void 0:i.length})," ",v("students")," "," ",",",v("to")," ",(0,b.jsx)("span",{style:{fontWeight:"600"},children:null!==(n=null===l||void 0===l?void 0:l.applicationName)&&void 0!==n?n:""})]}),(0,b.jsx)(N.Z,{label:"confirm",onAction:()=>{t&&null!==l&&void 0!==l&&l._id&&(null===i||void 0===i?void 0:i.length)>0&&(h((e=>!e)),j({appId:null===l||void 0===l?void 0:l._id,transferApplicantData:{app_array:s,oaid:t,student_array:i}}).then((()=>{h((e=>!e)),r()})).catch({}))}})]})]})}),_&&(0,b.jsx)(Z.Z,{})]})},B=e=>{var n,i,l,t;let{onClose:v,appId:_,aid:h}=e;const{t:x}=(0,d.$G)(),[j,f]=(0,a.useState)([]),[y,S]=(0,a.useState)([]),[C,I]=(0,a.useState)(1),[A,k]=(0,a.useState)(""),[w,M]=(0,a.useState)(""),[O,T]=(0,a.useState)(1),[R,F]=(0,a.useState)(!0),[E,L]=(0,s.YD)({skip:w}),{admissionOngoingApplicationReview:G,admissionOngoingApplicationReviewLoading:B}=(0,o._v)({data:{appId:_,page:O,limit:10,search:w},skip:!_});(0,a.useEffect)((()=>{L&&R&&T((e=>e+1))}),[L,R]),(0,a.useEffect)((()=>{var e;if(null!==G&&void 0!==G&&null!==(e=G.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===G||void 0===G||null===(n=G.list)||void 0===n?void 0:n.length);F((()=>e))}}),[null===G||void 0===G||null===(n=G.list)||void 0===n?void 0:n.length]);const J=(0,a.useCallback)((0,r.J)((e=>{T((()=>1)),M(e)}),1500),[]),V=e=>{if(null!==j&&void 0!==j&&j.includes(null===e||void 0===e?void 0:e._id))f((n=>null===n||void 0===n?void 0:n.filter((n=>n!==(null===e||void 0===e?void 0:e._id))))),S((n=>null===n||void 0===n?void 0:n.filter((n=>{var i;return(null===n||void 0===n?void 0:n.studentId)!==(null===e||void 0===e||null===(i=e.student)||void 0===i?void 0:i._id)}))));else{var n;let i={studentId:null===e||void 0===e||null===(n=e.student)||void 0===n?void 0:n._id,mode:null===e||void 0===e?void 0:e.payment_status,type:null===e||void 0===e?void 0:e.install_type,price:null===e||void 0===e?void 0:e.fee_remain};S((e=>[...e,i])),f((n=>[...n,null===e||void 0===e?void 0:e._id]))}};return(0,b.jsx)(b.Fragment,{children:1===C?(0,b.jsx)(g.Z,{children:(0,b.jsxs)("div",{className:U.Z.modal_container,children:[(0,b.jsx)(m.Z,{children:(0,b.jsxs)("div",{className:U.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:U.Z.modal_container_header,children:(0,b.jsx)("h6",{children:x("select_confirm_student")})}),(0,b.jsxs)("div",{className:U.Z.modal_container_header,children:[(0,b.jsx)(N.Z,{customStyle:{margin:0,padding:"0.2rem 0.5rem"},onAction:()=>{(null===j||void 0===j?void 0:j.length)>0&&I(2)},label:"select",count:null===j||void 0===j?void 0:j.length}),(0,b.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:v,className:U.Z.close_icon})]})]})}),(0,b.jsx)(p.Z,{}),(0,b.jsxs)(m.Z,{customStyle:{paddingTop:"0",marginBottom:"1rem"},children:[(0,b.jsxs)("div",{className:U.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,b.jsx)("input",{type:"text",placeholder:x("search"),className:U.Z.assign_search_input,onChange:e=>{e.target.value?J(e.target.value):(T((()=>1)),M(""))},style:{width:"100%"}}),(0,b.jsx)("img",{src:"".concat(u.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===G||void 0===G||null===(i=G.list)||void 0===i?void 0:i.map(((e,n)=>{var i;return(null===G||void 0===G||null===(i=G.list)||void 0===i?void 0:i.length)===n+1?(0,b.jsx)("div",{ref:E,children:(0,b.jsx)(q,{applicant:{student:e},applicantId:j,onSelect:V})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(q,{applicant:{student:e},applicantId:j,onSelect:V},null===e||void 0===e?void 0:e._id)})),B?w?(0,b.jsx)(Z.Z,{}):(0,b.jsx)(D.Z,{}):w?0===(null===G||void 0===G||null===(l=G.list)||void 0===l?void 0:l.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===G||void 0===G||null===(t=G.list)||void 0===t?void 0:t.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]})}):2===C?(0,b.jsx)(Y.Z,{onSelect:e=>{k(e),I(3)},aid:h,onClose:()=>I(1)}):3===C?(0,b.jsx)(z,{transferApplicantId:j,transferStudentObj:y,appId:_,application:A,onClose:()=>I(2),onParentClose:v}):null})},J=e=>{var n,i,l,d;let{applicationDetail:s,isExportAccess:c,isAddAccess:r,isTransferAccess:m,instituteId:p,aid:_,onMultipleSelect:h,onResuffleToggle:g,isFull:x,children:j}=e;const f=(0,t.TH)(),y=(0,t.UO)(),S=(0,t.s0)(),[C,I]=(0,a.useState)(!1),[A,k]=(0,a.useState)(""),[w]=(0,o.Mo)();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(R.Z,{customStyle:{justifyContent:"space-between",marginBottom:"0.7rem"},children:x?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:v.Z.fm_search_full,children:(0,b.jsx)("section",{className:v.Z.fm_search_full_container,children:(0,b.jsxs)("div",{className:v.Z.fm_search_full_container_inner,children:[(0,b.jsx)("img",{className:v.Z.fm_search_full_icon,alt:"search icon",src:"".concat(u.dB,"/navbar-search.svg")}),j]})})})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("section",{className:v.Z.fm_search_container,children:(0,b.jsxs)("div",{className:v.Z.fm_search_container_inner,children:[(0,b.jsx)("img",{className:v.Z.fm_search_icon,alt:"search icon",src:"".concat(u.dB,"/navbar-search.svg")}),j]})}),(0,b.jsxs)("div",{className:v.Z.fm_other_admission,children:[V[r]&&!H[null===(n=f.state)||void 0===n?void 0:n.isAuthorization]&&(0,b.jsx)("img",{src:"".concat(u.U_,"/add.svg"),alt:"icon",title:"Add student",onClick:()=>{var e,n,i,l,t,o,a,d,c,r;p&&null!==(e=f.state)&&void 0!==e&&e.appId&&null!==s&&void 0!==s&&s.applicationMaster&&null!==s&&void 0!==s&&null!==(n=s.applicationDepartment)&&void 0!==n&&n._id&&null!==s&&void 0!==s&&null!==(i=s.applicationBatch)&&void 0!==i&&i._id&&_&&S("/q/joining",{state:{formAs:"STUDENT",openAs:"ADMISSION_ADMIN_SIDE",instituteId:p,appId:null===(l=f.state)||void 0===l?void 0:l.appId,admissionId:_,admissionAmount:[null!==(t=null===s||void 0===s?void 0:s.admissionFee)&&void 0!==t?t:0,null!==(o=null===s||void 0===s||null===(a=s.one_installments)||void 0===a?void 0:a.fees)&&void 0!==o?o:0],applicationMaster:null===s||void 0===s?void 0:s.applicationMaster,applicationDepartment:null===s||void 0===s||null===(d=s.applicationDepartment)||void 0===d?void 0:d._id,batchId:null===s||void 0===s||null===(c=s.applicationBatch)||void 0===c?void 0:c._id,departmentId:null===s||void 0===s||null===(r=s.applicationDepartment)||void 0===r?void 0:r._id,whichFormShow:"DEPARTMENT"}})}}),V[c]&&(0,b.jsx)("img",{src:"".concat(u.J7,"/export.svg"),alt:"icon",title:"List Export",onClick:()=>{var e;null!==(e=f.state)&&void 0!==e&&e.appId&&V[c]&&(I((e=>!e)),w({appId:null===s||void 0===s?void 0:s._id,flow:c}).then((()=>{var e;let n="Institute"===(null===(e=f.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(y.username,"/institute/member/admission?type=export"):"/q/".concat(y.username,"/member/staff/admission?type=export");S(n,{state:f.state})})).catch({}))}}),V[m]&&!H[null===(i=f.state)||void 0===i?void 0:i.isAuthorization]&&(0,b.jsx)("img",{src:"".concat(u.U_,"/transfer.svg"),alt:"icon",title:"Transfer student",onClick:()=>{k(2)}}),$[c]&&!H[null===(l=f.state)||void 0===l?void 0:l.isAuthorization]&&(0,b.jsx)("img",{src:"".concat(u.U_,"/mutliple.svg"),alt:"icon",title:"Multiple Select",onClick:h}),W[c]&&!H[null===(d=f.state)||void 0===d?void 0:d.isAuthorization]&&(0,b.jsx)(N.Z,{label:"resuffle",customStyle:{margin:"0",padding:"0.35rem 0.5rem"},onAction:g})]})]})}),2===A?(0,b.jsx)(B,{onClose:()=>{k("")},instituteId:p,appId:null===s||void 0===s?void 0:s._id,aid:_}):null,C&&(0,b.jsx)(Z.Z,{})]})},V={APPLICATION:!0,Review:!0,Request_Query:!0,Confirm_Query:!0,Allot_Query:!0,Docs_Query:!0,Fees_Query:!0},H={isCompleted:!0},$={Confirm:!0,Confirm_Query:!0},W={Confirm_Query:!0},Q=e=>{var n,i,l,u,v,p;let{applicationDetail:_,instituteId:h,aid:g}=e;const{t:x}=(0,d.$G)(),j=(0,t.TH)(),[f,y]=(0,a.useState)(""),[N,S]=(0,a.useState)(1),[C,A]=(0,a.useState)(!0),[k,M]=(0,s.YD)({skip:f}),{admissionOngoingApplicationRequest:O,admissionOngoingApplicationRequestLoading:T,admissionOngoingApplicationRequestRefetch:R}=(0,o.ws)({data:{appId:null===(n=j.state)||void 0===n?void 0:n.appId,page:N,limit:10,search:f},skip:!(null!==(i=j.state)&&void 0!==i&&i.appId)});(0,a.useEffect)((()=>{M&&C&&S((e=>e+1))}),[M,C]),(0,a.useEffect)((()=>{var e;if(null!==O&&void 0!==O&&null!==(e=O.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===O||void 0===O||null===(n=O.list)||void 0===n?void 0:n.length);A((()=>e))}}),[null===O||void 0===O||null===(l=O.list)||void 0===l?void 0:l.length]);const F=(0,a.useCallback)((0,r.J)((e=>{S((()=>1)),y(e)}),1500),[]),E=(0,a.useCallback)((()=>{S((()=>1)),R()}),[]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(w.Z,{children:[(0,b.jsx)(I,{applicationDetail:_,instituteId:h,isAddAccess:"APPLICATION",isExportAccess:"Request_Query"}),(0,b.jsxs)(m.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,b.jsx)(J,{applicationDetail:_,instituteId:h,isAddAccess:"APPLICATION",isExportAccess:"Request_Query",aid:g,children:(0,b.jsx)("input",{type:"text",placeholder:x("search_applicants"),onChange:e=>{e.target.value?F(e.target.value):(S((()=>1)),y(""))}})}),null===O||void 0===O||null===(u=O.list)||void 0===u?void 0:u.map(((e,n)=>{var i,l,t,o,a,d,s,c,r;return(null===O||void 0===O||null===(i=O.list)||void 0===i?void 0:i.length)===n+1?(0,b.jsx)("div",{ref:k,children:(0,b.jsx)(G,{applicant:e,instituteId:h,did:null===_||void 0===_||null===(l=_.applicationDepartment)||void 0===l?void 0:l._id,bid:null===_||void 0===_||null===(t=_.applicationBatch)||void 0===t?void 0:t._id,cmid:null===_||void 0===_||null===(o=_.applicationMaster)||void 0===o?void 0:o._id,onRefetch:E,appId:null===(a=j.state)||void 0===a?void 0:a.appId})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(G,{applicant:e,instituteId:h,did:null===_||void 0===_||null===(d=_.applicationDepartment)||void 0===d?void 0:d._id,bid:null===_||void 0===_||null===(s=_.applicationBatch)||void 0===s?void 0:s._id,cmid:null===_||void 0===_||null===(c=_.applicationMaster)||void 0===c?void 0:c._id,onRefetch:E,appId:null===(r=j.state)||void 0===r?void 0:r.appId},null===e||void 0===e?void 0:e._id)})),T?f?(0,b.jsx)(Z.Z,{}):(0,b.jsx)(D.Z,{}):f?0===(null===O||void 0===O||null===(v=O.list)||void 0===v?void 0:v.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission requests found related this search."}):0===(null===O||void 0===O||null===(p=O.list)||void 0===p?void 0:p.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission request list."})]})]})})};var K=i(66239),X=i(61055),ee=i(60924),ne=i(43997),ie=i(50518),le=i(99183);const te=e=>{var n;let{onClose:i,applicant:l,appId:t,onRefetch:s}=e;const{t:c}=(0,d.$G)(),[r,v]=(0,a.useState)(!1),[_,h]=(0,a.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),[j,f]=(0,a.useState)(""),[y,S]=(0,a.useState)(0),[C]=(0,o.JC)();(0,a.useEffect)((()=>{var e,n;if((null===l||void 0===l||null===(e=l.student)||void 0===e||null===(n=e.paidFeeList)||void 0===n?void 0:n.length)>0){var i,o,a,d;const e=null===l||void 0===l||null===(i=l.student)||void 0===i||null===(o=i.paidFeeList)||void 0===o?void 0:o.filter((e=>(null===e||void 0===e?void 0:e.appId)===t));S(null!==(a=null===e||void 0===e||null===(d=e[0])||void 0===d?void 0:d.paidAmount)&&void 0!==a?a:0)}}),[null===l||void 0===l||null===(n=l.student)||void 0===n?void 0:n.paidFeeList]);const I=e=>{h((n=>({...n,[e.target.name]:e.target.value})))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.Z,{onClose:i,children:(0,b.jsxs)("div",{className:x.Z.modal_container,children:[(0,b.jsx)(m.Z,{children:(0,b.jsxs)("div",{className:x.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:x.Z.modal_container_header,children:(0,b.jsx)("h6",{children:c("cancel_addmission")})}),(0,b.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:i})]})}),(0,b.jsx)(p.Z,{}),(0,b.jsxs)(m.Z,{customStyle:{paddingTop:"0"},children:[(0,b.jsxs)("div",{className:x.Z.admission_fees_row,children:[(0,b.jsxs)("h6",{children:[c("fees_paid")," :"]}),(0,b.jsxs)("h6",{children:[c("rs_only")," ",y]})]}),(0,b.jsx)(X.Z,{label:"".concat(c("refund_amount")),placeholder:c("please_enter_refund_amount"),name:"amount",value:_.amount,type:"tel",onChange:e=>{h((n=>({...n,amount:+e.target.value,fee_payment_amount:+e.target.value})))},errorShow:j.amount}),(0,b.jsx)(ie.Z,{paymentHeading:c("refund_payment_type_mode"),selectLabel:c("mode_placeholder"),onClick:e=>{h((n=>({...n,mode:"Cash"===e?"Offline":"Online",fee_payment_mode:e})))},errorShow:j.fee_payment_mode,defalutValue:_.fee_payment_mode,selectedValue:c("please_select_payment_mode"),isAuthority:"admissionCollectMode"}),(0,b.jsx)(ee.Z,{label:c("select_date_of_transaction"),placeholder:c("please_select_date"),name:"transaction_date",value:_.transaction_date,onChange:e=>{h((n=>({...n,transaction_date:(0,ne.jh)(e)})))},errorShow:j.transaction_date}),"Cash"===_.fee_payment_mode?null:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:x.Z.admission_fees_row,style:{margin:0},children:(0,b.jsx)("h6",{style:{margin:0,marginTop:"1rem"},children:c("paid_to")})}),(0,b.jsx)(X.Z,{label:c("bank_name_collect"),placeholder:c("please_enter_bank_name"),name:"fee_bank_name",value:_.fee_bank_name,type:"text",onChange:I}),(0,b.jsx)(X.Z,{label:c("banke_holder_name"),placeholder:c("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:_.fee_bank_holder,type:"text",onChange:I}),(0,b.jsx)(X.Z,{label:c("cheque_dd_neft"),placeholder:c("please_enter_utr_ref_number"),name:"fee_utr_reference",value:_.fee_utr_reference,type:"text",onChange:I})]}),(0,b.jsx)(N.Z,{label:"confirm",onAction:()=>{let e=(0,le.l)(_,["mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference"]);var n,o,a,d,c,r,u,m,p,h,g,x,j,y,Z,N;(0,le.x)(e)?l&&t&&null!==l&&void 0!==l&&null!==(n=l.student)&&void 0!==n&&null!==(o=n.fee_structure)&&void 0!==o&&o._id&&(v((e=>!e)),C({sid:null===l||void 0===l||null===(a=l.student)||void 0===a?void 0:a._id,appId:t,payment:{struct:null===l||void 0===l||null===(d=l.student)||void 0===d||null===(c=d.fee_structure)||void 0===c?void 0:c._id,amount:null!==(r=null===_||void 0===_?void 0:_.amount)&&void 0!==r?r:"",mode:null!==(u=null===_||void 0===_?void 0:_.mode)&&void 0!==u?u:"",fee_payment_mode:null!==(m=null===_||void 0===_?void 0:_.fee_payment_mode)&&void 0!==m?m:"",fee_payment_amount:null!==(p=null===_||void 0===_?void 0:_.fee_payment_amount)&&void 0!==p?p:"",transaction_date:null!==(h=(0,ne._1)(_.transaction_date))&&void 0!==h?h:"",fee_bank_name:null!==(g=null===_||void 0===_?void 0:_.fee_bank_name)&&void 0!==g?g:"",fee_bank_holder:null!==(x=null===_||void 0===_?void 0:_.fee_bank_holder)&&void 0!==x?x:"",fee_utr_reference:null!==(j=null===_||void 0===_?void 0:_.fee_utr_reference)&&void 0!==j?j:"",remainAmount:null!==(y=null===l||void 0===l?void 0:l.fee_remain)&&void 0!==y?y:0,classId:null!==(Z=null===l||void 0===l||null===(N=l.student)||void 0===N?void 0:N.studentClass)&&void 0!==Z?Z:null}}).then((()=>{s(),v((e=>!e)),i()})).catch({})):f(e)}})]})]})}),r&&(0,b.jsx)(Z.Z,{})]})},oe=e=>{var n,i,l,o,s,c,r,v,m,p,_,h,g,x,j,y,Z,N,S,C,I,A,k,w,P,D,O,T,R,F;let{applicant:E,instituteId:L,appId:G,onRefetch:U}=e;const{t:q}=(0,d.$G)(),Y=(0,t.UO)(),z=(0,t.s0)(),[B,J]=(0,a.useState)("");return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:f.Z.oac_container,onClick:()=>{var e;z("/q/".concat(Y.username,"/student/profile"),{state:{sid:null===E||void 0===E||null===(e=E.student)||void 0===e?void 0:e._id,instituteId:L,viewAs:"ADMISSION_ADMIN",collectAccess:"ADMISSION_ADMIN",editInstallmentControl:"authorized"}})},title:"View Profile",children:[(0,b.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==E&&void 0!==E&&null!==(n=E.student)&&void 0!==n&&n.studentProfilePhoto?"".concat(M.yI,"/").concat(null===E||void 0===E||null===(i=E.student)||void 0===i?void 0:i.studentProfilePhoto):"".concat(u.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,b.jsx)("h6",{children:"".concat(null!==(l=null===E||void 0===E||null===(o=E.student)||void 0===o?void 0:o.studentFirstName)&&void 0!==l?l:""," ").concat(null!==E&&void 0!==E&&null!==(s=E.student)&&void 0!==s&&s.studentMiddleName?null===E||void 0===E||null===(c=E.student)||void 0===c?void 0:c.studentMiddleName:""," ").concat(null!==(r=null===E||void 0===E||null===(v=E.student)||void 0===v?void 0:v.studentLastName)&&void 0!==r?r:"")}),(0,b.jsx)("p",{children:(null===E||void 0===E?void 0:E.alloted_class)||""}),(0,b.jsxs)("p",{children:[q("form_no_only"),": ",null!==(m=null===E||void 0===E||null===(p=E.student)||void 0===p?void 0:p.form_no)&&void 0!==m?m:""]}),(0,b.jsx)("p",{onClick:e=>{e.stopPropagation(),J(1)},style:{color:"#436dfa"},children:q("cancel_admision")})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/gender.svg"),alt:"email icon"}),(0,b.jsx)("p",{children:null===E||void 0===E||null===(_=E.student)||void 0===_?void 0:_.studentGender})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{children:null!==E&&void 0!==E&&null!==(h=E.student)&&void 0!==h&&null!==(g=h.user)&&void 0!==g&&g.userPhoneNumber?null===E||void 0===E||null===(x=E.student)||void 0===x||null===(j=x.user)||void 0===j?void 0:j.userPhoneNumber:null!==E&&void 0!==E&&null!==(y=E.student)&&void 0!==y&&null!==(Z=y.user)&&void 0!==Z&&Z.userEmail?null===E||void 0===E||null===(N=E.student)||void 0===N||null===(S=N.user)||void 0===S?void 0:S.userEmail:null!==E&&void 0!==E&&null!==(C=E.student)&&void 0!==C&&C.studentPhoneNumber?null===E||void 0===E||null===(I=E.student)||void 0===I?void 0:I.studentPhoneNumber:null!==E&&void 0!==E&&null!==(A=E.student)&&void 0!==A&&A.studentParentsPhoneNumber?null===E||void 0===E||null===(k=E.student)||void 0===k?void 0:k.studentParentsPhoneNumber:null!==(w=null===E||void 0===E||null===(P=E.student)||void 0===P?void 0:P.studentEmail)&&void 0!==w?w:""})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_stuff,children:[(0,b.jsx)("a",{href:"".concat(M.q2,"/").concat(null===E||void 0===E||null===(D=E.student)||void 0===D||null===(O=D.application_print)||void 0===O||null===(T=O[0])||void 0===T?void 0:T.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,b.jsx)("img",{src:"".concat(u.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),null===E||void 0===E||null===(R=E.student)||void 0===R||null===(F=R.fee_receipt)||void 0===F?void 0:F.map(((e,n)=>n>2?"":(0,b.jsx)(K.Z,{rid:null===e||void 0===e?void 0:e._id,receiptFile:null===e||void 0===e?void 0:e.receipt_file},null===e||void 0===e?void 0:e._id)))]})]}),1===B?(0,b.jsx)(te,{appId:G,applicant:E,onClose:()=>{J("")},onRefetch:U}):null]})},ae=e=>{var n,i,l,u,v,p;let{applicationDetail:_,instituteId:h}=e;const{t:g}=(0,d.$G)(),x=(0,t.TH)(),[j,f]=(0,a.useState)(""),[y,N]=(0,a.useState)(1),[S,C]=(0,a.useState)(!0),[A,k]=(0,s.YD)({skip:j}),{admissionOngoingApplicationAllottment:M,admissionOngoingApplicationAllottmentLoading:O,admissionOngoingApplicationAllottmentRefetch:T}=(0,o.UX)({data:{appId:null===(n=x.state)||void 0===n?void 0:n.appId,page:y,limit:10,search:j},skip:!(null!==(i=x.state)&&void 0!==i&&i.appId)});(0,a.useEffect)((()=>{k&&S&&N((e=>e+1))}),[k,S]),(0,a.useEffect)((()=>{var e;if(null!==M&&void 0!==M&&null!==(e=M.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===M||void 0===M||null===(n=M.list)||void 0===n?void 0:n.length);C((()=>e))}}),[null===M||void 0===M||null===(l=M.list)||void 0===l?void 0:l.length]);const R=(0,a.useCallback)((0,r.J)((e=>{N((()=>1)),f(e)}),1500),[]),F=(0,a.useCallback)((()=>{N((()=>1)),f(""),T()}),[T]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(w.Z,{children:[(0,b.jsx)(I,{applicationDetail:_,isExportAccess:"Allot_Query"}),(0,b.jsxs)(m.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,b.jsx)(J,{applicationDetail:_,isExportAccess:"Allot_Query",children:(0,b.jsx)("input",{type:"text",placeholder:g("search_allotted_student"),onChange:e=>{e.target.value?R(e.target.value):(N((()=>1)),f(""))}})}),null===M||void 0===M||null===(u=M.list)||void 0===u?void 0:u.map(((e,n)=>{var i,l,t;return(null===M||void 0===M||null===(i=M.list)||void 0===i?void 0:i.length)===n+1?(0,b.jsx)("div",{ref:A,children:(0,b.jsx)(oe,{applicant:e,instituteId:h,appId:null===(l=x.state)||void 0===l?void 0:l.appId,onRefetch:F})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(oe,{applicant:e,instituteId:h,appId:null===(t=x.state)||void 0===t?void 0:t.appId,onRefetch:F},null===e||void 0===e?void 0:e._id)})),O?j?(0,b.jsx)(Z.Z,{}):(0,b.jsx)(D.Z,{}):j?0===(null===M||void 0===M||null===(v=M.list)||void 0===v?void 0:v.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission allottment found related this search."}):0===(null===M||void 0===M||null===(p=M.list)||void 0===p?void 0:p.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission allottment list."})]})]})})};var de=i(79110);const se=e=>{var n,i,l,u,v,p;let{applicationDetail:_,instituteId:h}=e;const{t:g}=(0,d.$G)(),x=(0,t.TH)(),[j,f]=(0,a.useState)(""),[y,N]=(0,a.useState)(1),[S,C]=(0,a.useState)(!0),[A,k]=(0,s.YD)({skip:j}),{admissionOngoingApplicationCancelled:M,admissionOngoingApplicationCancelledLoading:O}=(0,o.aL)({data:{appId:null===(n=x.state)||void 0===n?void 0:n.appId,page:y,limit:10,search:j},skip:!(null!==(i=x.state)&&void 0!==i&&i.appId)});(0,a.useEffect)((()=>{k&&S&&N((e=>e+1))}),[k,S]),(0,a.useEffect)((()=>{var e;if(null!==M&&void 0!==M&&null!==(e=M.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===M||void 0===M||null===(n=M.list)||void 0===n?void 0:n.length);C((()=>e))}}),[null===M||void 0===M||null===(l=M.list)||void 0===l?void 0:l.length]);const T=(0,a.useCallback)((0,r.J)((e=>{N((()=>1)),f(e)}),1500),[]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(w.Z,{children:[(0,b.jsx)(I,{applicationDetail:_}),(0,b.jsxs)(m.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,b.jsx)(J,{applicationDetail:_,instituteId:h,isFull:!0,children:(0,b.jsx)("input",{type:"text",placeholder:g("search_cancelled_student"),onChange:e=>{e.target.value?T(e.target.value):(N((()=>1)),f(""))}})}),null===M||void 0===M||null===(u=M.list)||void 0===u?void 0:u.map(((e,n)=>{var i;return(null===M||void 0===M||null===(i=M.list)||void 0===i?void 0:i.length)===n+1?(0,b.jsx)("div",{ref:A,children:(0,b.jsx)(de.Z,{applicant:e,instituteId:h})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(de.Z,{applicant:e,instituteId:h},null===e||void 0===e?void 0:e._id)})),O?j?(0,b.jsx)(Z.Z,{}):(0,b.jsx)(D.Z,{}):j?0===(null===M||void 0===M||null===(v=M.list)||void 0===v?void 0:v.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission cancelled found related this search."}):0===(null===M||void 0===M||null===(p=M.list)||void 0===p?void 0:p.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission cancelled list."})]})]})})},ce=e=>{var n,i,l,t,s,c;let{onClose:r,applicant:v,appId:_,onRefetch:h}=e;const{t:j}=(0,d.$G)(),[f,y]=(0,a.useState)(!1),[S]=(0,o.O1)();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.Z,{onClose:r,children:(0,b.jsxs)("div",{className:x.Z.modal_container,children:[(0,b.jsx)(m.Z,{children:(0,b.jsxs)("div",{className:x.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:x.Z.modal_container_header,children:(0,b.jsx)("h6",{children:j("collect_required_document")})}),(0,b.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:r})]})}),(0,b.jsx)(p.Z,{}),(0,b.jsxs)(m.Z,{customStyle:{paddingTop:"0"},children:[(0,b.jsxs)("div",{className:x.Z.modal_container_header,style:{flexDirection:"column"},children:[(0,b.jsx)("p",{children:j("collecting_documents_of_student")}),(0,b.jsx)("h6",{children:"".concat(null!==(n=null===v||void 0===v||null===(i=v.student)||void 0===i?void 0:i.studentFirstName)&&void 0!==n?n:""," ").concat(null!==v&&void 0!==v&&null!==(l=v.student)&&void 0!==l&&l.studentMiddleName?null===v||void 0===v||null===(t=v.student)||void 0===t?void 0:t.studentMiddleName:""," ").concat(null!==(s=null===v||void 0===v||null===(c=v.student)||void 0===c?void 0:c.studentLastName)&&void 0!==s?s:"")})]}),(0,b.jsx)(N.Z,{label:"confirm",onAction:()=>{var e,n;null!==v&&void 0!==v&&null!==(e=v.student)&&void 0!==e&&e._id&&_&&null!==v&&void 0!==v&&v._id&&null!==v&&void 0!==v&&v.revert_request_status&&(y((e=>!e)),S({sid:null===v||void 0===v||null===(n=v.student)||void 0===n?void 0:n._id,appId:_,document:{nest:null===v||void 0===v?void 0:v._id,revert_status:null===v||void 0===v?void 0:v.revert_request_status}}).then((()=>{h(),y((e=>!e)),r()})).catch((()=>{y((e=>!e))})))}})]})]})}),f&&(0,b.jsx)(Z.Z,{})]})},re=e=>{var n,i,l,s,c,r,v,m,p,_,h,g,x,j,y,N,S,C,I,A,k,w,P,D,O,R,L,G,U,q,Y,z,B,J,V,H,$,W;let{instituteId:Q,applicant:K,did:X,bid:ee,cmid:ne,appId:ie,onRefetch:le}=e;const{t:te}=(0,d.$G)(),oe=(0,t.UO)(),ae=(0,t.s0)(),[de,se]=(0,a.useState)(0),[re,ue]=(0,a.useState)(!1),[ve]=(0,o.ur)(),[me]=(0,o.u8)(),pe=(0,a.useCallback)((()=>{var e;ae("/q/".concat(oe.username,"/student/profile"),{state:{sid:null===K||void 0===K||null===(e=K.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:Q}})}),[Q,null===K||void 0===K||null===(n=K.student)||void 0===n?void 0:n._id]),_e=()=>{se("")};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:f.Z.oac_container,onClick:pe,title:"View Profile",children:[(0,b.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==K&&void 0!==K&&null!==(i=K.student)&&void 0!==i&&i.studentProfilePhoto?"".concat(M.yI,"/").concat(null===K||void 0===K||null===(l=K.student)||void 0===l?void 0:l.studentProfilePhoto):"".concat(u.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,b.jsx)("h6",{children:"".concat(null!==(s=null===K||void 0===K||null===(c=K.student)||void 0===c?void 0:c.studentFirstName)&&void 0!==s?s:""," ").concat(null!==K&&void 0!==K&&null!==(r=K.student)&&void 0!==r&&r.studentMiddleName?null===K||void 0===K||null===(v=K.student)||void 0===v?void 0:v.studentMiddleName:""," ").concat(null!==(m=null===K||void 0===K||null===(p=K.student)||void 0===p?void 0:p.studentLastName)&&void 0!==m?m:"")}),(0,b.jsxs)("h6",{children:[te("fee_structure")," : ",null!==(_=null===K||void 0===K||null===(h=K.student)||void 0===h||null===(g=h.fee_structure)||void 0===g||null===(x=g.category_master)||void 0===x?void 0:x.category_name)&&void 0!==_?_:"",", ",te("rs_only")," ",null!==(j=null===K||void 0===K||null===(y=K.student)||void 0===y||null===(N=y.fee_structure)||void 0===N?void 0:N.applicable_fees)&&void 0!==j?j:""]}),(0,b.jsxs)("p",{children:[te("form_no_only"),": ",null!==(S=null===K||void 0===K||null===(C=K.student)||void 0===C?void 0:C.form_no)&&void 0!==S?S:""]}),(0,b.jsx)("p",{children:null!==K&&void 0!==K&&K.install_type?null===K||void 0===K?void 0:K.install_type:"\n          ".concat(te("select_on"),":\n          ").concat(T()(null===K||void 0===K?void 0:K.select_on).format("DD MMM YYYY"))})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/gender.svg"),alt:"email icon"}),(0,b.jsx)("p",{children:null===K||void 0===K||null===(I=K.student)||void 0===I?void 0:I.studentGender})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{children:null!==K&&void 0!==K&&null!==(A=K.student)&&void 0!==A&&null!==(k=A.user)&&void 0!==k&&k.userPhoneNumber?null===K||void 0===K||null===(w=K.student)||void 0===w||null===(P=w.user)||void 0===P?void 0:P.userPhoneNumber:null!==K&&void 0!==K&&null!==(D=K.student)&&void 0!==D&&null!==(O=D.user)&&void 0!==O&&O.userEmail?null===K||void 0===K||null===(R=K.student)||void 0===R||null===(L=R.user)||void 0===L?void 0:L.userEmail:null!==K&&void 0!==K&&null!==(G=K.student)&&void 0!==G&&G.studentPhoneNumber?null===K||void 0===K||null===(U=K.student)||void 0===U?void 0:U.studentPhoneNumber:null!==K&&void 0!==K&&null!==(q=K.student)&&void 0!==q&&q.studentParentsPhoneNumber?null===K||void 0===K||null===(Y=K.student)||void 0===Y?void 0:Y.studentParentsPhoneNumber:null!==(z=null===K||void 0===K||null===(B=K.student)||void 0===B?void 0:B.studentEmail)&&void 0!==z?z:""})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_stuff,style:{width:"24%"},children:[(0,b.jsx)("a",{href:"".concat(M.q2,"/").concat(null===K||void 0===K||null===(J=K.student)||void 0===J||null===(V=J.application_print)||void 0===V||null===(H=V[0])||void 0===H?void 0:H.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,b.jsx)("img",{src:"".concat(u.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),(0,b.jsx)("img",{src:"".concat(u.J7,"/edit.svg"),alt:"edit icon",onClick:e=>{e.stopPropagation(),se(1)}}),(0,b.jsx)("img",{src:"".concat(u.U_,"/undo.svg"),alt:"undo icon",style:{width:"30px",height:"30px"},onClick:e=>{var n,i;(e.stopPropagation(),null!==K&&void 0!==K&&null!==(n=K.student)&&void 0!==n&&n._id&&ie&&null!==K&&void 0!==K&&K.revert_request_status)&&(ue((e=>!e)),me({sid:null===K||void 0===K||null===(i=K.student)||void 0===i?void 0:i._id,appId:ie,revert:{statusId:null===K||void 0===K?void 0:K.revert_request_status}}).then((()=>{le(),ue((e=>!e))})).catch((()=>{ue((e=>!e))})))},title:"Undo Application"}),(0,b.jsx)(E.Z,{label:"collect_docs",onAction:e=>{e.stopPropagation(),se(2)},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}})]})]}),1===de?(0,b.jsx)(F.Z,{onClose:_e,onSelectedStrucutre:e=>{var n,i;null!==K&&void 0!==K&&null!==(n=K.student)&&void 0!==n&&n._id&&ie&&null!==e&&void 0!==e&&e._id&&(ue((e=>!e)),ve({sid:null===K||void 0===K||null===(i=K.student)||void 0===i?void 0:i._id,appId:ie,applicant:{fee_struct:null===e||void 0===e?void 0:e._id}}).then((()=>{le(),_e(),ue((e=>!e))})).catch((()=>{ue((e=>!e))})))},did:X,bid:ee,cmid:ne,selectedStructure:null===K||void 0===K||null===($=K.student)||void 0===$||null===(W=$.fee_structure)||void 0===W?void 0:W._id}):2===de?(0,b.jsx)(ce,{onClose:_e,onRefetch:le,applicant:K,appId:ie}):null,re&&(0,b.jsx)(Z.Z,{})]})},ue=e=>{var n,i,l,u,v,p;let{applicationDetail:_,instituteId:h,aid:g}=e;const{t:x}=(0,d.$G)(),j=(0,t.TH)(),[f,y]=(0,a.useState)(""),[N,S]=(0,a.useState)(1),[C,A]=(0,a.useState)(!0),[k,M]=(0,s.YD)({skip:f}),{admissionOngoingApplicationDocument:O,admissionOngoingApplicationDocumentLoading:T,admissionOngoingApplicationDocumentRefetch:R}=(0,o.Zx)({data:{appId:null===(n=j.state)||void 0===n?void 0:n.appId,page:N,limit:10,search:f},skip:!(null!==(i=j.state)&&void 0!==i&&i.appId)});(0,a.useEffect)((()=>{M&&C&&S((e=>e+1))}),[M,C]),(0,a.useEffect)((()=>{var e;if(null!==O&&void 0!==O&&null!==(e=O.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===O||void 0===O||null===(n=O.list)||void 0===n?void 0:n.length);A((()=>e))}}),[null===O||void 0===O||null===(l=O.list)||void 0===l?void 0:l.length]);const F=(0,a.useCallback)((0,r.J)((e=>{S((()=>1)),y(e)}),1500),[]),E=(0,a.useCallback)((()=>{S((()=>1)),R()}),[]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(w.Z,{children:[(0,b.jsx)(I,{applicationDetail:_,instituteId:h}),(0,b.jsxs)(m.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,b.jsx)(J,{applicationDetail:_,instituteId:h,isExportAccess:"Docs_Query",aid:g,children:(0,b.jsx)("input",{type:"text",placeholder:x("search_applicants"),onChange:e=>{e.target.value?F(e.target.value):(S((()=>1)),y(""))}})}),null===O||void 0===O||null===(u=O.list)||void 0===u?void 0:u.map(((e,n)=>{var i,l,t,o,a,d,s,c,r;return(null===O||void 0===O||null===(i=O.list)||void 0===i?void 0:i.length)===n+1?(0,b.jsx)("div",{ref:k,children:(0,b.jsx)(re,{applicant:e,instituteId:h,did:null===_||void 0===_||null===(l=_.applicationDepartment)||void 0===l?void 0:l._id,bid:null===_||void 0===_||null===(t=_.applicationBatch)||void 0===t?void 0:t._id,cmid:null===_||void 0===_||null===(o=_.applicationMaster)||void 0===o?void 0:o._id,onRefetch:E,appId:null===(a=j.state)||void 0===a?void 0:a.appId})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(re,{applicant:e,instituteId:h,did:null===_||void 0===_||null===(d=_.applicationDepartment)||void 0===d?void 0:d._id,bid:null===_||void 0===_||null===(s=_.applicationBatch)||void 0===s?void 0:s._id,cmid:null===_||void 0===_||null===(c=_.applicationMaster)||void 0===c?void 0:c._id,onRefetch:E,appId:null===(r=j.state)||void 0===r?void 0:r.appId},null===e||void 0===e?void 0:e._id)})),T?f?(0,b.jsx)(Z.Z,{}):(0,b.jsx)(D.Z,{}):f?0===(null===O||void 0===O||null===(v=O.list)||void 0===v?void 0:v.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===O||void 0===O||null===(p=O.list)||void 0===p?void 0:p.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]})})};var ve=i(20659),me=i(26071),pe=i(7562),_e=i(60307),he=i(71439),ge=i(64499);const xe=e=>{var n,i,l,s,c,r,v,_,h,j,f,y,S,C,I;let{onClose:A,applicant:k,appId:w,onRefetch:P}=e;const{t:D}=(0,d.$G)(),[M,O]=(0,a.useState)(!1),T=(0,t.UO)(),[R,F]=(0,a.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:"",pay_remain:!1}),[E,L]=(0,a.useState)(0),[G,U]=(0,a.useState)(""),[q,Y]=(0,a.useState)({amount:0,type:"Admission",isTransaction:!1,pay_remain:!1}),{studentInstituteCharges:z}=(0,_e.xY)({data:{id:null===k||void 0===k||null===(n=k.app_card)||void 0===n||null===(i=n.remaining_array)||void 0===i||null===(l=i[0])||void 0===l?void 0:l.instituteId},skip:!(null!==k&&void 0!==k&&null!==(s=k.app_card)&&void 0!==s&&null!==(c=s.remaining_array)&&void 0!==c&&null!==(r=c[0])&&void 0!==r&&r.instituteId)}),[B]=(0,o.VO)();(0,a.useEffect)((()=>{var e,n,i;null!==k&&void 0!==k&&null!==(e=k.app_card)&&void 0!==e&&e.applicable_fee&&(F((e=>{var n,i;return{...e,amount:+(null===k||void 0===k||null===(n=k.app_card)||void 0===n?void 0:n.applicable_fee),fee_payment_amount:+(null===k||void 0===k||null===(i=k.app_card)||void 0===i?void 0:i.applicable_fee)}})),Y({amount:null!==(n=+(null===k||void 0===k||null===(i=k.app_card)||void 0===i?void 0:i.applicable_fee))&&void 0!==n?n:0,type:"Admission",isTransaction:!1,pay_remain:!1}))}),[null===k||void 0===k||null===(v=k.app_card)||void 0===v?void 0:v.applicable_fee]);const J=e=>{F((n=>({...n,[e.target.name]:e.target.value})))},V=e=>{F((n=>({...n,pay_remain:e})));let n=0;if(e){let e=0;for(let n of null===k||void 0===k||null===(i=k.app_card)||void 0===i?void 0:i.remaining_array){var i;"Paid"!==(null===n||void 0===n?void 0:n.status)&&(e+=null===n||void 0===n?void 0:n.remainAmount)}L(e),n=e}Y(n>0?i=>({...i,pay_remain:e,amount:n}):n=>({...n,pay_remain:e}))};return(0,b.jsxs)(b.Fragment,{children:[q.isTransaction?(0,b.jsx)(he.Z,{onClose:A,allContent:{...q,platform_charges:null===z||void 0===z||null===(_=z.platform_charges)||void 0===_?void 0:_.percentage},checkoutAdmissionHandler:()=>{var e,n,i,l,t,o,a,d,s,c,r,u,v,m,p,_,h,g,x,j,f,y,Z,N,b,S;let C=2.1*+(null===q||void 0===q?void 0:q.amount)/100,I=C+18*+C/100;const A=parseInt(null===q||void 0===q?void 0:q.amount);var w=Math.ceil(A+ +I.toFixed(2));(0,ge.oU)({amount:null!==(e=+(null===q||void 0===q?void 0:q.amount))&&void 0!==e?e:10,amount_nocharges:null!==(n=+w)&&void 0!==n?n:0,type:"Admission",paidBy:"".concat(null===k||void 0===k||null===(i=k.student)||void 0===i?void 0:i._id),paidTo:"".concat(null===k||void 0===k||null===(l=k.app_card)||void 0===l||null===(t=l.remaining_array)||void 0===t||null===(o=t[0])||void 0===o?void 0:o.instituteId),moduleId:"".concat(null===k||void 0===k||null===(a=k.app_card)||void 0===a||null===(d=a.remaining_array)||void 0===d||null===(s=d[0])||void 0===s?void 0:s.appId),ad_status_id:null,payment_installment:null===k||void 0===k||null===(c=k.app_card)||void 0===c||null===(r=c.remaining_array)||void 0===r||null===(u=r[0])||void 0===u?void 0:u.installmentValue,ad_install:null,month:null,payment_remain_1:null,payment_card_type:null,payment_book_id:null,name:T.username,isApk:"web",payment_card_id:null!==(v=null===k||void 0===k||null===(m=k.app_card)||void 0===m?void 0:m.parent_card)&&void 0!==v?v:null,payment_remain_fees:q.pay_remain,charge:{num_platform_percent:null!==(p=null===z||void 0===z||null===(_=z.platform_charges)||void 0===_?void 0:_.percentage)&&void 0!==p?p:0,num_platform_max:null!==(h=null===z||void 0===z||null===(g=z.platform_charges)||void 0===g?void 0:g.maximum)&&void 0!==h?h:0,num_trans_pecent:null!==(x=null===z||void 0===z||null===(j=z.transaction_charges)||void 0===j?void 0:j.percentage)&&void 0!==x?x:0,num_trans_max:null!==(f=null===z||void 0===z||null===(y=z.transaction_charges)||void 0===y?void 0:y.maximum)&&void 0!==f?f:0,num_app_max:null!==(Z=null===z||void 0===z?void 0:z.application_charges)&&void 0!==Z?Z:0},nsid:null===k||void 0===k||null===(N=k.app_card)||void 0===N||null===(b=N.remaining_array)||void 0===b||null===(S=b[0])||void 0===S?void 0:S._id}).then((e=>{var n,i;window.onScriptLoad(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(i=n.body)||void 0===i?void 0:i.txnToken,null===e||void 0===e?void 0:e.order,null===e||void 0===e?void 0:e.amount)})).catch((e=>{console.info(e)}))},isOptimzed:!0}):(0,b.jsx)(g.Z,{onClose:A,children:(0,b.jsxs)("div",{className:x.Z.modal_container,children:[(0,b.jsx)(m.Z,{children:(0,b.jsxs)("div",{className:x.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:x.Z.modal_container_header,children:(0,b.jsx)("h6",{children:D("collect_fees")})}),(0,b.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:A})]})}),(0,b.jsx)(p.Z,{}),(0,b.jsxs)(m.Z,{customStyle:{paddingTop:"0"},children:[(0,b.jsxs)("div",{className:x.Z.admission_fees_row,children:[(0,b.jsxs)("h6",{children:[D("applicable_amount")," :"]}),(0,b.jsxs)("h6",{children:[D("rs_only")," ",null!==(h=null===k||void 0===k||null===(j=k.app_card)||void 0===j?void 0:j.applicable_fee)&&void 0!==h?h:0]})]}),null!==k&&void 0!==k&&null!==(f=k.fee_struct)&&void 0!==f&&f.total_installments&&+(null===k||void 0===k||null===(y=k.fee_struct)||void 0===y?void 0:y.total_installments)>1?(0,b.jsx)(ve.Z,{label:"pay_rest_remaining_fees",children:null===pe.nj||void 0===pe.nj?void 0:pe.nj.map((e=>(0,b.jsx)(me.Z,{tile:e,onTile:V,activeTile:R.pay_remain},null===e||void 0===e?void 0:e.id)))}):null,(0,b.jsx)(X.Z,{label:"".concat(D(R.pay_remain?"amount_remain_installment":"amount_first_installment")," ").concat(R.pay_remain?E:null===k||void 0===k||null===(S=k.app_card)||void 0===S||null===(C=S.remaining_array)||void 0===C||null===(I=C[0])||void 0===I?void 0:I.remainAmount),placeholder:D("amoute_details_collect"),name:"amount",value:R.amount,type:"tel",onChange:e=>{F((n=>({...n,amount:+e.target.value,fee_payment_amount:+e.target.value}))),Y((n=>({...n,amount:+e.target.value})))},errorShow:G.amount,msg:G.rest_issue}),(0,b.jsx)(ie.Z,{paymentHeading:D("payment_type_mode"),selectLabel:D("mode_placeholder"),onClick:e=>{F((n=>({...n,mode:"Online",fee_payment_mode:e})))},errorShow:G.fee_payment_mode,defalutValue:R.fee_payment_mode,selectedValue:D("please_select_payment_mode"),isAuthority:"admissionCollectModePg",customLabelStyle:{marginTop:"0"}}),"Payment Gateway"===R.fee_payment_mode?(0,b.jsx)(N.Z,{label:"collect",onAction:()=>{let e=(0,le.l)({amount:q.amount});var n,i,l,t;(0,le.x)(e)?q.pay_remain&&q.amount<E?U({rest_issue:"Amount should not be less than total remaining fees"}):!q.pay_remain&&q.amount>(null===k||void 0===k||null===(n=k.app_card)||void 0===n||null===(i=n.remaining_array)||void 0===i||null===(l=i[0])||void 0===l?void 0:l.remainAmount)&&+(null===k||void 0===k||null===(t=k.fee_struct)||void 0===t?void 0:t.total_installments)>1?U({rest_issue:"Amount should not be greater than remaining fees"}):Y((e=>({...e,isTransaction:!0}))):U(e)}}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ee.Z,{label:D("select_date_of_transaction"),placeholder:D("please_select_date"),name:"transaction_date",value:R.transaction_date,onChange:e=>{F((n=>({...n,transaction_date:(0,ne.jh)(e)})))},errorShow:G.transaction_date}),"Cash"===R.fee_payment_mode?null:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(X.Z,{label:D("bank_name_collect"),placeholder:D("please_enter_bank_name"),name:"fee_bank_name",value:R.fee_bank_name,type:"text",onChange:J}),(0,b.jsx)(X.Z,{label:D("banke_holder_name"),placeholder:D("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:R.fee_bank_holder,type:"text",onChange:J}),(0,b.jsx)(X.Z,{label:D("cheque_dd_neft"),placeholder:D("please_enter_utr_ref_number"),name:"fee_utr_reference",value:R.fee_utr_reference,type:"text",onChange:J})]}),(0,b.jsx)(N.Z,{label:"collect",onAction:()=>{let e=(0,le.l)(R,["mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference","pay_remain"]);var n,i,l,t,o,a,d,s,c,r,u,v,m,p,_,h,g,x,j,f,y,Z,N,b,S,C,I,D;(0,le.x)(e)?R.pay_remain&&R.amount<E?U({rest_issue:"Amount should not be less than total remaining fees"}):!R.pay_remain&&R.amount>(null===k||void 0===k||null===(n=k.app_card)||void 0===n||null===(i=n.remaining_array)||void 0===i||null===(l=i[0])||void 0===l?void 0:l.remainAmount)&&+(null===k||void 0===k||null===(t=k.fee_struct)||void 0===t?void 0:t.total_installments)>1?U({rest_issue:"Amount should not be greater than remaining fees"}):null!==k&&void 0!==k&&null!==(o=k.student)&&void 0!==o&&o._id&&w&&(O((e=>!e)),B({sid:null===k||void 0===k||null===(a=k.student)||void 0===a?void 0:a._id,appId:w,collect:{card_id:null===k||void 0===k||null===(d=k.app_card)||void 0===d?void 0:d._id,rid:null===k||void 0===k||null===(s=k.payment_flow)||void 0===s?void 0:s._id,raid:null===k||void 0===k||null===(c=k.app_card)||void 0===c||null===(r=c.remaining_array)||void 0===r||null===(u=r[0])||void 0===u?void 0:u._id,nsid:null===k||void 0===k||null===(v=k.app_card)||void 0===v||null===(m=v.remaining_array)||void 0===m||null===(p=m[0])||void 0===p?void 0:p._id,type:null===k||void 0===k||null===(_=k.app_card)||void 0===_||null===(h=_.remaining_array)||void 0===h||null===(g=h[0])||void 0===g?void 0:g.installmentValue,raid_1:null!==(x=null===k||void 0===k||null===(j=k.app_card)||void 0===j||null===(f=j.remaining_array)||void 0===f||null===(y=f[1])||void 0===y?void 0:y._id)&&void 0!==x?x:"",amount:null!==(Z=null===R||void 0===R?void 0:R.amount)&&void 0!==Z?Z:"",mode:"Cash"===(null===R||void 0===R?void 0:R.fee_payment_mode)?"Offline":null!==(N=null===R||void 0===R?void 0:R.mode)&&void 0!==N?N:"",fee_payment_mode:"Cash"===(null===R||void 0===R?void 0:R.fee_payment_mode)?"By Cash":null===R||void 0===R?void 0:R.fee_payment_mode,fee_payment_amount:null!==(b=null===R||void 0===R?void 0:R.fee_payment_amount)&&void 0!==b?b:"",transaction_date:null!==(S=(0,ne._1)(R.transaction_date))&&void 0!==S?S:"",fee_bank_name:null!==(C=null===R||void 0===R?void 0:R.fee_bank_name)&&void 0!==C?C:"",fee_bank_holder:null!==(I=null===R||void 0===R?void 0:R.fee_bank_holder)&&void 0!==I?I:"",fee_utr_reference:null!==(D=null===R||void 0===R?void 0:R.fee_utr_reference)&&void 0!==D?D:"",pay_remain:R.pay_remain}}).then((()=>{P(),O((e=>!e)),A()})).catch({})):U(e)}})]})]})]})}),M&&(0,b.jsx)(Z.Z,{})]})},je=e=>{var n,i,l,s,c,r,v,m,p,_,h,g,x,j,y,N,S,C,I,A,k,w,P,D,O,R,F,L,G,U,q,Y,z,B,J;let{instituteId:V,applicant:H,appId:$,onRefetch:W}=e;const{t:Q}=(0,d.$G)(),K=(0,t.UO)(),X=(0,t.s0)(),[ee,ne]=(0,a.useState)(0),[ie,le]=(0,a.useState)(!1),[te]=(0,o.ZN)(),oe=(0,a.useCallback)((()=>{var e;X("/q/".concat(K.username,"/member/student/admission/profile"),{state:{sid:null===H||void 0===H||null===(e=H.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:V,collectAccess:"ADMISSION_ADMIN",editInstallmentControl:"authorized"}})}),[V,null===H||void 0===H||null===(n=H.student)||void 0===n?void 0:n._id]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:f.Z.oac_container,onClick:oe,title:"View Profile",children:[(0,b.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==H&&void 0!==H&&null!==(i=H.student)&&void 0!==i&&i.studentProfilePhoto?"".concat(M.yI,"/").concat(null===H||void 0===H||null===(l=H.student)||void 0===l?void 0:l.studentProfilePhoto):"".concat(u.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,b.jsx)("h6",{children:"".concat(null!==(s=null===H||void 0===H||null===(c=H.student)||void 0===c?void 0:c.studentFirstName)&&void 0!==s?s:""," ").concat(null!==H&&void 0!==H&&null!==(r=H.student)&&void 0!==r&&r.studentMiddleName?null===H||void 0===H||null===(v=H.student)||void 0===v?void 0:v.studentMiddleName:""," ").concat(null!==(m=null===H||void 0===H||null===(p=H.student)||void 0===p?void 0:p.studentLastName)&&void 0!==m?m:"")}),(0,b.jsxs)("h6",{children:[Q("fee_structure")," : ",null!==(_=null===H||void 0===H||null===(h=H.fee_struct)||void 0===h||null===(g=h.unique_structure_name)||void 0===g||null===(x=g.split(" - "))||void 0===x?void 0:x[0])&&void 0!==_?_:"",", ",Q("rs_only")," ",null!==(j=null===H||void 0===H||null===(y=H.fee_struct)||void 0===y?void 0:y.applicable_fees)&&void 0!==j?j:""]}),(0,b.jsxs)("p",{children:[Q("form_no_only"),": ",null!==(N=null===H||void 0===H||null===(S=H.student)||void 0===S?void 0:S.form_no)&&void 0!==N?N:""]}),(0,b.jsxs)("p",{children:[Q("select_on"),":",T()(null===H||void 0===H?void 0:H.select_on).format("DD MMM YYYY")]})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/gender.svg"),alt:"email icon"}),(0,b.jsx)("p",{children:null===H||void 0===H||null===(C=H.student)||void 0===C?void 0:C.studentGender})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{children:null!==H&&void 0!==H&&null!==(I=H.student)&&void 0!==I&&null!==(A=I.user)&&void 0!==A&&A.userPhoneNumber?null===H||void 0===H||null===(k=H.student)||void 0===k||null===(w=k.user)||void 0===w?void 0:w.userPhoneNumber:null!==H&&void 0!==H&&null!==(P=H.student)&&void 0!==P&&null!==(D=P.user)&&void 0!==D&&D.userEmail?null===H||void 0===H||null===(O=H.student)||void 0===O||null===(R=O.user)||void 0===R?void 0:R.userEmail:null!==H&&void 0!==H&&null!==(F=H.student)&&void 0!==F&&F.studentPhoneNumber?null===H||void 0===H||null===(L=H.student)||void 0===L?void 0:L.studentPhoneNumber:null!==H&&void 0!==H&&null!==(G=H.student)&&void 0!==G&&G.studentParentsPhoneNumber?null===H||void 0===H||null===(U=H.student)||void 0===U?void 0:U.studentParentsPhoneNumber:null!==(q=null===H||void 0===H||null===(Y=H.student)||void 0===Y?void 0:Y.studentEmail)&&void 0!==q?q:""})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_stuff,children:[(0,b.jsx)("a",{href:"".concat(M.q2,"/").concat(null===H||void 0===H||null===(z=H.student)||void 0===z||null===(B=z.application_print)||void 0===B||null===(J=B[0])||void 0===J?void 0:J.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,b.jsx)("img",{src:"".concat(u.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),(0,b.jsx)("img",{src:"".concat(u.U_,"/undo.svg"),alt:"undo icon",style:{width:"30px",height:"30px"},onClick:e=>{var n,i,l,t;(e.stopPropagation(),null!==H&&void 0!==H&&null!==(n=H.student)&&void 0!==n&&n._id&&$&&null!==H&&void 0!==H&&H.status_id&&null!==H&&void 0!==H&&H.revert_request_status&&null!==H&&void 0!==H&&H._id&&null!==H&&void 0!==H&&null!==(i=H.payment_flow)&&void 0!==i&&i._id)&&(le((e=>!e)),te({sid:null===H||void 0===H||null===(l=H.student)||void 0===l?void 0:l._id,appId:$,revert:{statusId:null===H||void 0===H?void 0:H.status_id,fcid:null===H||void 0===H?void 0:H._id,rid:null===H||void 0===H||null===(t=H.payment_flow)||void 0===t?void 0:t._id,revert_status:null===H||void 0===H?void 0:H.revert_request_status}}).then((()=>{W(),le((e=>!e))})).catch((()=>{le((e=>!e))})))},title:"Undo Application"}),(0,b.jsx)(E.Z,{label:"collect_fees",onAction:e=>{e.stopPropagation(),ne(1)},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}})]})]}),1===ee?(0,b.jsx)(xe,{onClose:()=>{ne("")},onRefetch:W,applicant:H,appId:$}):null,ie&&(0,b.jsx)(Z.Z,{})]})},fe=e=>{var n,i,l,u,v,p;let{applicationDetail:_,instituteId:h,aid:g}=e;const{t:x}=(0,d.$G)(),j=(0,t.TH)(),[f,y]=(0,a.useState)(""),[N,S]=(0,a.useState)(1),[C,A]=(0,a.useState)(!0),[k,M]=(0,s.YD)({skip:f}),{admissionOngoingApplicationFees:O,admissionOngoingApplicationFeesLoading:T,admissionOngoingApplicationFeesRefetch:R}=(0,o.TM)({data:{appId:null===(n=j.state)||void 0===n?void 0:n.appId,page:N,limit:10,search:f},skip:!(null!==(i=j.state)&&void 0!==i&&i.appId)});(0,a.useEffect)((()=>{M&&C&&S((e=>e+1))}),[M,C]),(0,a.useEffect)((()=>{var e;if(null!==O&&void 0!==O&&null!==(e=O.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===O||void 0===O||null===(n=O.list)||void 0===n?void 0:n.length);A((()=>e))}}),[null===O||void 0===O||null===(l=O.list)||void 0===l?void 0:l.length]);const F=(0,a.useCallback)((0,r.J)((e=>{S((()=>1)),y(e)}),1500),[]),E=(0,a.useCallback)((()=>{S((()=>1)),R()}),[]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(w.Z,{children:[(0,b.jsx)(I,{applicationDetail:_,instituteId:h}),(0,b.jsxs)(m.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,b.jsx)(J,{applicationDetail:_,instituteId:h,isExportAccess:"Fees_Query",aid:g,children:(0,b.jsx)("input",{type:"text",placeholder:x("search_applicants"),onChange:e=>{e.target.value?F(e.target.value):(S((()=>1)),y(""))}})}),null===O||void 0===O||null===(u=O.list)||void 0===u?void 0:u.map(((e,n)=>{var i,l,t;return(null===O||void 0===O||null===(i=O.list)||void 0===i?void 0:i.length)===n+1?(0,b.jsx)("div",{ref:k,children:(0,b.jsx)(je,{applicant:e,instituteId:h,onRefetch:E,appId:null===(l=j.state)||void 0===l?void 0:l.appId})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(je,{applicant:e,instituteId:h,onRefetch:E,appId:null===(t=j.state)||void 0===t?void 0:t.appId},null===e||void 0===e?void 0:e._id)})),T?f?(0,b.jsx)(Z.Z,{}):(0,b.jsx)(D.Z,{}):f?0===(null===O||void 0===O||null===(v=O.list)||void 0===v?void 0:v.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===O||void 0===O||null===(p=O.list)||void 0===p?void 0:p.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]})})},ye=e=>{var n,i,l,t,o,a,s,c,r,v,m,p,_,h,g,x,j,y,Z,N,S,C,I,A,k,w;let{applicant:P,onSelect:D,applicantId:O}=e;const{t:R}=(0,d.$G)();return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:f.Z.oac_container,onClick:()=>{var e;return D(null===P||void 0===P||null===(e=P.student)||void 0===e?void 0:e._id,null===P||void 0===P?void 0:P._id)},style:{justifyContent:"flex-start"},children:[(0,b.jsx)("img",{className:f.Z.department_checkbox,src:null!==O&&void 0!==O&&O.includes(null===P||void 0===P||null===(n=P.student)||void 0===n?void 0:n._id)?"".concat(u.U_,"/check.svg"):"".concat(u.U_,"/uncheck.svg"),alt:"check icon"}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==P&&void 0!==P&&null!==(i=P.student)&&void 0!==i&&i.studentProfilePhoto?"".concat(M.yI,"/").concat(null===P||void 0===P||null===(l=P.student)||void 0===l?void 0:l.studentProfilePhoto):"".concat(u.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,b.jsx)("h6",{children:"".concat(null!==(t=null===P||void 0===P||null===(o=P.student)||void 0===o?void 0:o.studentFirstName)&&void 0!==t?t:""," ").concat(null!==P&&void 0!==P&&null!==(a=P.student)&&void 0!==a&&a.studentMiddleName?null===P||void 0===P||null===(s=P.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null!==(c=null===P||void 0===P||null===(r=P.student)||void 0===r?void 0:r.studentLastName)&&void 0!==c?c:"")}),(0,b.jsxs)("p",{children:[R("form_no_only"),": ",null!==(v=null===P||void 0===P||null===(m=P.student)||void 0===m?void 0:m.form_no)&&void 0!==v?v:""]}),(0,b.jsxs)("p",{children:[R("confirmed_on"),":"," ",T()(null===P||void 0===P?void 0:P.apply_on).format("DD MMM YYYY")]})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/gender.svg"),alt:"email icon"}),(0,b.jsx)("p",{children:null===P||void 0===P||null===(p=P.student)||void 0===p?void 0:p.studentGender})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{children:null!==P&&void 0!==P&&null!==(_=P.student)&&void 0!==_&&null!==(h=_.user)&&void 0!==h&&h.userPhoneNumber?null===P||void 0===P||null===(g=P.student)||void 0===g||null===(x=g.user)||void 0===x?void 0:x.userPhoneNumber:null!==P&&void 0!==P&&null!==(j=P.student)&&void 0!==j&&null!==(y=j.user)&&void 0!==y&&y.userEmail?null===P||void 0===P||null===(Z=P.student)||void 0===Z||null===(N=Z.user)||void 0===N?void 0:N.userEmail:null!==P&&void 0!==P&&null!==(S=P.student)&&void 0!==S&&S.studentPhoneNumber?null===P||void 0===P||null===(C=P.student)||void 0===C?void 0:C.studentPhoneNumber:null!==P&&void 0!==P&&null!==(I=P.student)&&void 0!==I&&I.studentParentsPhoneNumber?null===P||void 0===P||null===(A=P.student)||void 0===A?void 0:A.studentParentsPhoneNumber:null!==(k=null===P||void 0===P||null===(w=P.student)||void 0===w?void 0:w.studentEmail)&&void 0!==k?k:""})]})]})]})})},Ze=e=>{var n,i,l,s;let{applicationDetail:c,instituteId:r}=e;const{t:p}=(0,d.$G)(),_=(0,t.TH)(),h=(0,t.s0)(),[g,x]=(0,a.useState)(""),[j,f]=(0,a.useState)([]),[y,N]=(0,a.useState)([]),[S,C]=(0,a.useState)(!1),[A,k]=(0,a.useState)([]),[M,O]=(0,a.useState)(!1),[T]=(0,o.Kv)(),{admissionOngoingApplicationAllConfirmList:F,admissionOngoingApplicationAllConfirmListLoading:L,admissionOngoingApplicationAllConfirmListRefetch:G}=(0,o.m2)({data:{appId:null===(n=_.state)||void 0===n?void 0:n.appId},skip:!(null!==(i=_.state)&&void 0!==i&&i.appId)});(0,a.useEffect)((()=>{null!==F&&void 0!==F&&F.length&&k(F)}),[null===F||void 0===F?void 0:F.length]);const U=()=>{h(-1)},q=(e,n)=>{null!==j&&void 0!==j&&j.includes(e)?(f((n=>null===n||void 0===n?void 0:n.filter((n=>n!==e)))),N((n=>null===n||void 0===n?void 0:n.filter((n=>(null===n||void 0===n?void 0:n.sid)!==e))))):(f((n=>[...n,e])),N((i=>[...i,{sid:e,cid:n}])))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(w.Z,{children:[(0,b.jsx)(I,{applicationDetail:c,instituteId:r}),(0,b.jsxs)(m.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,b.jsxs)(R.Z,{customStyle:{justifyContent:"space-between",marginBottom:"0.7rem"},children:[(0,b.jsx)("section",{className:v.Z.fm_search_container,children:(0,b.jsxs)("div",{className:v.Z.fm_search_container_inner,style:{minWidth:"500px"},children:[(0,b.jsx)("img",{className:v.Z.fm_search_icon,alt:"search icon",src:"".concat(u.dB,"/navbar-search.svg")}),(0,b.jsx)("input",{type:"text",placeholder:p("search_applicants"),onChange:e=>{if(e.target.value){let n=be(F,e.target.value);k(n)}else x(""),k(F)},style:{minWidth:"500px"}})]})}),(0,b.jsxs)("div",{className:v.Z.fm_flex,children:[!Ne[null===(l=_.state)||void 0===l?void 0:l.isAuthorization]&&(0,b.jsx)(E.Z,{label:M?"remove_all":"select_all",count:null===j||void 0===j?void 0:j.length,onAction:M?()=>{f([]),N([]),O(!1)}:()=>{let e=[],n=[];for(let t of F){var i,l;e.push(null===t||void 0===t||null===(i=t.student)||void 0===i?void 0:i._id),n.push({sid:null===t||void 0===t||null===(l=t.student)||void 0===l?void 0:l._id,cid:null===t||void 0===t?void 0:t._id})}f(e),N(n),O(!0)},customStyle:{padding:"0.5rem 1rem",fontSize:"13px"}}),!Ne[null===(s=_.state)||void 0===s?void 0:s.isAuthorization]&&(0,b.jsx)(E.Z,{label:"review",onAction:()=>{var e,n;(null===j||void 0===j?void 0:j.length)>0&&null!==(e=_.state)&&void 0!==e&&e.appId&&(C((e=>!e)),T({appId:null===(n=_.state)||void 0===n?void 0:n.appId,review:{student_arr:y}}).then((()=>{G(),C((e=>!e)),f([]),N([]),O(!1),U()})).catch({}))},customStyle:{padding:"0.5rem 1rem",fontSize:"13px",opacity:(null===j||void 0===j?void 0:j.length)>0?"1":"0.5"}}),(0,b.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:U})]})]}),null===A||void 0===A?void 0:A.map((e=>(0,b.jsx)(ye,{applicant:e,applicantId:j,onSelect:q},null===e||void 0===e?void 0:e._id))),L?g?(0,b.jsx)(Z.Z,{}):(0,b.jsx)(D.Z,{}):g?0===(null===A||void 0===A?void 0:A.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===A||void 0===A?void 0:A.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]}),S&&(0,b.jsx)(Z.Z,{})]})},Ne={isCompleted:!0},be=(e,n)=>null===e||void 0===e?void 0:e.filter((e=>{var i,l,t,o;let a="".concat(null===e||void 0===e||null===(i=e.student)||void 0===i?void 0:i.studentFirstName," ").concat(null===e||void 0===e||null===(l=e.student)||void 0===l?void 0:l.studentMiddleName," ").concat(null===e||void 0===e||null===(t=e.student)||void 0===t?void 0:t.studentLastName);return null!==a&&void 0!==a&&null!==(o=a.toLowerCase())&&void 0!==o&&o.includes(null===n||void 0===n?void 0:n.toLowerCase())?e:null})),Se=e=>{var n,i,l,s,c,r,v,m,p,_,h,g,x,j,y,N,S,C,I,A,k,w,P,D,O,F,L,G,U,q,Y,z;let{instituteId:B,applicant:J,appId:V,onRefetch:H,isMultiple:$,onSelect:W,applicantId:Q}=e;const{t:X}=(0,d.$G)(),ee=(0,t.UO)(),ne=(0,t.s0)(),[ie,le]=(0,a.useState)(!1),[te]=(0,o.Kv)(),oe=(0,a.useCallback)((()=>{var e;ne("/q/".concat(ee.username,"/student/profile"),{state:{sid:null===J||void 0===J||null===(e=J.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:B,collectAccess:"ADMISSION_ADMIN",editInstallmentControl:"authorized"}})}),[B,null===J||void 0===J||null===(n=J.student)||void 0===n?void 0:n._id]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:f.Z.oac_container,onClick:oe,title:"View Profile",children:[$?(0,b.jsx)("img",{className:f.Z.department_checkbox,src:null!==Q&&void 0!==Q&&Q.includes(null===J||void 0===J||null===(i=J.student)||void 0===i?void 0:i._id)?"".concat(u.U_,"/check.svg"):"".concat(u.U_,"/uncheck.svg"),alt:"check icon",onClick:e=>{var n;return W(e,null===J||void 0===J||null===(n=J.student)||void 0===n?void 0:n._id,null===J||void 0===J?void 0:J._id)}}):null,(0,b.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==J&&void 0!==J&&null!==(l=J.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(M.yI,"/").concat(null===J||void 0===J||null===(s=J.student)||void 0===s?void 0:s.studentProfilePhoto):"".concat(u.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,b.jsx)("h6",{children:"".concat(null!==(c=null===J||void 0===J||null===(r=J.student)||void 0===r?void 0:r.studentFirstName)&&void 0!==c?c:""," ").concat(null!==J&&void 0!==J&&null!==(v=J.student)&&void 0!==v&&v.studentMiddleName?null===J||void 0===J||null===(m=J.student)||void 0===m?void 0:m.studentMiddleName:""," ").concat(null!==(p=null===J||void 0===J||null===(_=J.student)||void 0===_?void 0:_.studentLastName)&&void 0!==p?p:"")}),(0,b.jsxs)("p",{children:[X("form_no_only"),": ",null!==(h=null===J||void 0===J||null===(g=J.student)||void 0===g?void 0:g.form_no)&&void 0!==h?h:""]}),(0,b.jsxs)("p",{children:[X("confirmed_on"),":"," ",T()(null===J||void 0===J?void 0:J.apply_on).format("DD MMM YYYY")]})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/gender.svg"),alt:"email icon"}),(0,b.jsx)("p",{children:null===J||void 0===J||null===(x=J.student)||void 0===x?void 0:x.studentGender})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{children:null!==J&&void 0!==J&&null!==(j=J.student)&&void 0!==j&&null!==(y=j.user)&&void 0!==y&&y.userPhoneNumber?null===J||void 0===J||null===(N=J.student)||void 0===N||null===(S=N.user)||void 0===S?void 0:S.userPhoneNumber:null!==J&&void 0!==J&&null!==(C=J.student)&&void 0!==C&&null!==(I=C.user)&&void 0!==I&&I.userEmail?null===J||void 0===J||null===(A=J.student)||void 0===A||null===(k=A.user)||void 0===k?void 0:k.userEmail:null!==J&&void 0!==J&&null!==(w=J.student)&&void 0!==w&&w.studentPhoneNumber?null===J||void 0===J||null===(P=J.student)||void 0===P?void 0:P.studentPhoneNumber:null!==J&&void 0!==J&&null!==(D=J.student)&&void 0!==D&&D.studentParentsPhoneNumber?null===J||void 0===J||null===(O=J.student)||void 0===O?void 0:O.studentParentsPhoneNumber:null!==(F=null===J||void 0===J||null===(L=J.student)||void 0===L?void 0:L.studentEmail)&&void 0!==F?F:""})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_stuff,children:[(0,b.jsx)("a",{href:"".concat(M.q2,"/").concat(null===J||void 0===J||null===(G=J.student)||void 0===G||null===(U=G.application_print)||void 0===U||null===(q=U[0])||void 0===q?void 0:q.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,b.jsx)("img",{src:"".concat(u.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),null===J||void 0===J||null===(Y=J.student)||void 0===Y||null===(z=Y.fee_receipt)||void 0===z?void 0:z.map(((e,n)=>n>2?"":(0,b.jsx)(K.Z,{rid:null===e||void 0===e?void 0:e._id,receiptFile:null===e||void 0===e?void 0:e.receipt_file},null===e||void 0===e?void 0:e._id))),$?null:(0,b.jsx)(R.Z,{children:(0,b.jsx)(E.Z,{label:"review",onAction:e=>{var n,i;(e.stopPropagation(),null!==J&&void 0!==J&&null!==(n=J.student)&&void 0!==n&&n._id&&V)&&(le((e=>!e)),te({appId:V,review:{student_arr:[{sid:null===J||void 0===J||null===(i=J.student)||void 0===i?void 0:i._id,cid:null===J||void 0===J?void 0:J._id}]}}).then((()=>{H(),le((e=>!e))})).catch({}))},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}})})]})]}),ie&&(0,b.jsx)(Z.Z,{})]})},Ce=e=>{var n,i,l,u,v,p,_;let{applicationDetail:h,instituteId:g}=e;const{t:x}=(0,d.$G)(),j=(0,t.TH)(),f=(0,t.s0)(),y=(0,t.UO)(),[N,S]=(0,a.useState)(""),[C,A]=(0,a.useState)(1),[k,M]=(0,a.useState)(!0),[O,T]=(0,s.YD)({skip:N}),{admissionOngoingApplicationConfirm:R,admissionOngoingApplicationConfirmLoading:F,admissionOngoingApplicationConfirmRefetch:E}=(0,o.Hi)({data:{appId:null===(n=j.state)||void 0===n?void 0:n.appId,page:C,limit:10,search:N},skip:!(null!==(i=j.state)&&void 0!==i&&i.appId)});(0,a.useEffect)((()=>{T&&k&&A((e=>e+1))}),[T,k]),(0,a.useEffect)((()=>{var e;if(null!==R&&void 0!==R&&null!==(e=R.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===R||void 0===R||null===(n=R.list)||void 0===n?void 0:n.length);M((()=>e))}}),[null===R||void 0===R||null===(l=R.list)||void 0===l?void 0:l.length]);const L=(0,a.useCallback)((0,r.J)((e=>{A((()=>1)),S(e)}),1500),[]),G=(0,a.useCallback)((()=>{A((()=>1)),E()}),[E]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(w.Z,{children:[(0,b.jsx)(I,{applicationDetail:h,instituteId:g}),(0,b.jsxs)(m.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,b.jsx)(J,{applicationDetail:h,instituteId:g,onMultipleSelect:()=>{var e;let n="Institute"===(null===(e=j.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(y.username,"/institute/member/admission?type=ongoing-detail&n=confirmed-multi"):"/q/".concat(y.username,"/member/staff/admission?type=ongoing-detail&n=confirmed-multi");f(n,{state:j.state})},isExportAccess:"Confirm",isFull:"isCompleted"===(null===(u=j.state)||void 0===u?void 0:u.isAuthorization),children:(0,b.jsx)("input",{type:"text",placeholder:x("search_applicants"),onChange:e=>{e.target.value?L(e.target.value):(A((()=>1)),S(""))}})}),null===R||void 0===R||null===(v=R.list)||void 0===v?void 0:v.map(((e,n)=>{var i,l,t;return(null===R||void 0===R||null===(i=R.list)||void 0===i?void 0:i.length)===n+1?(0,b.jsx)("div",{ref:O,children:(0,b.jsx)(Se,{applicant:e,instituteId:g,onRefetch:G,appId:null===(l=j.state)||void 0===l?void 0:l.appId})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(Se,{applicant:e,instituteId:g,onRefetch:G,appId:null===(t=j.state)||void 0===t?void 0:t.appId},null===e||void 0===e?void 0:e._id)})),F?N?(0,b.jsx)(Z.Z,{}):(0,b.jsx)(D.Z,{}):N?0===(null===R||void 0===R||null===(p=R.list)||void 0===p?void 0:p.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===R||void 0===R||null===(_=R.list)||void 0===_?void 0:_.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]})})};var Ie=i(26192);const Ae=e=>{let{batch:n,onSelect:i,selectedBatch:l}=e;return(0,b.jsxs)("div",{className:l===(null===n||void 0===n?void 0:n._id)?"".concat(Ie.Z.admission_confirm_class_card," ").concat(Ie.Z.admission_confirm_class_card_active):Ie.Z.admission_confirm_class_card,onClick:()=>{i(n)},children:[(0,b.jsx)("img",{src:"".concat(u.J7,"/class.svg"),alt:"batch Avatar"}),(0,b.jsx)("div",{className:Ie.Z.admission_collect_docs,style:{marginTop:"0"},children:(0,b.jsx)("h6",{children:null===n||void 0===n?void 0:n.batchName})})]})},ke=e=>{let{onClose:n,appId:i,onSelect:l,selectedBatch:t}=e;const{t:s}=(0,d.$G)(),[c,r]=(0,a.useState)(""),[v,_]=(0,a.useState)([]),{admissionOngoingApplicationReviewBatch:h,admissionOngoingApplicationReviewBatchLoading:x}=(0,o.Hk)({appId:i,skip:!i});(0,a.useEffect)((()=>{(null===h||void 0===h?void 0:h.length)>0&&_(h)}),[h]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(g.Z,{onClose:n,children:(0,b.jsxs)("div",{className:U.Z.modal_container,children:[(0,b.jsx)(m.Z,{children:(0,b.jsxs)("div",{className:U.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:U.Z.modal_container_header,children:(0,b.jsx)("h6",{children:s("select_batch")})}),(0,b.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,b.jsx)(p.Z,{}),(0,b.jsxs)(m.Z,{customStyle:{paddingTop:"0.3rem"},children:[(0,b.jsxs)("div",{className:U.Z.assign_search_container,children:[(0,b.jsx)("input",{type:"text",placeholder:s("search"),className:U.Z.assign_search_input,onChange:e=>{if(e.target.value){r(e.target.value);let n=we(h,e.target.value);_(n)}else r(""),_(h)},style:{width:"100%"}}),(0,b.jsx)("img",{src:"".concat(u.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===v||void 0===v?void 0:v.map((e=>(0,b.jsx)(Ae,{batch:e,onSelect:l,selectedBatch:t}))),x?c?(0,b.jsx)(Z.Z,{}):(0,b.jsx)(D.Z,{}):c?0===!(null!==v&&void 0!==v&&v.length)&&(0,b.jsx)(P.Z,{title:"No batch found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===!(null!==h&&void 0!==h&&h.length)&&(0,b.jsx)(P.Z,{title:"No batch.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})})},we=(e,n)=>null===e||void 0===e?void 0:e.filter((e=>{var i,l;return null!==e&&void 0!==e&&null!==(i=e.batchName)&&void 0!==i&&null!==(l=i.toLowerCase())&&void 0!==l&&l.includes(null===n||void 0===n?void 0:n.toLowerCase())?e:null}));var Pe=i(77357);const De=e=>{var n,i,l,t;let{onClose:v,appId:_,bid:h,onSelect:x,selectedId:j}=e;const{t:f}=(0,d.$G)(),[y,N]=(0,a.useState)(""),[S,C]=(0,a.useState)(1),[I,A]=(0,a.useState)(!0),[k,w]=(0,s.YD)({skip:y}),{admissionOngoingApplicationReviewClasses:M,admissionOngoingApplicationReviewClassesLoading:O}=(0,o.AY)({data:{page:S,limit:10,search:y,appId:_,bid:h},skip:_?!h:!_});(0,a.useEffect)((()=>{w&&I&&C((e=>e+1))}),[w,I]),(0,a.useEffect)((()=>{var e;if(null!==M&&void 0!==M&&null!==(e=M.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===M||void 0===M||null===(n=M.list)||void 0===n?void 0:n.length);A((()=>e))}}),[null===M||void 0===M||null===(n=M.list)||void 0===n?void 0:n.length]);const T=(0,a.useCallback)((0,r.J)((e=>{C((()=>1)),N(e)}),1500),[]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(g.Z,{onClose:v,children:(0,b.jsxs)("div",{className:U.Z.modal_container,children:[(0,b.jsx)(m.Z,{children:(0,b.jsxs)("div",{className:U.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:U.Z.modal_container_header,children:(0,b.jsx)("h6",{children:f("allot_class")})}),(0,b.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:v})]})}),(0,b.jsx)(p.Z,{}),(0,b.jsxs)(m.Z,{customStyle:{paddingTop:"0.3rem"},children:[(0,b.jsxs)("div",{className:U.Z.assign_search_container,children:[(0,b.jsx)("input",{type:"text",placeholder:f("search"),className:U.Z.assign_search_input,onChange:e=>{e.target.value?T(e.target.value):(C((()=>1)),N(""))},style:{width:"100%"}}),(0,b.jsx)("img",{src:"".concat(u.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===M||void 0===M||null===(i=M.list)||void 0===i?void 0:i.map(((e,n)=>{var i;return(null===M||void 0===M||null===(i=M.list)||void 0===i?void 0:i.length)===n+1?(0,b.jsx)("div",{ref:k,children:(0,b.jsx)(Pe.Z,{cls:e,selectedCls:j,onSelect:x})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(Pe.Z,{cls:e,selectedCls:j,onSelect:x},null===e||void 0===e?void 0:e._id)})),O?y?(0,b.jsx)(Z.Z,{}):(0,b.jsx)(D.Z,{}):y?0===(null===M||void 0===M||null===(l=M.list)||void 0===l?void 0:l.length)&&(0,b.jsx)(P.Z,{title:"No classes found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===M||void 0===M||null===(t=M.list)||void 0===t?void 0:t.length)&&(0,b.jsx)(P.Z,{title:"No classes.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})})},Me=e=>{var n,i,l,t,s,c,r,v;let{appId:_,onClose:h,onParentClose:x,state:j,applicant:y,onRefetch:S,isMultiple:C}=e;const{t:I}=(0,d.$G)(),[A,k]=(0,a.useState)(!1),[w]=(0,o.Rq)();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.Z,{onClose:h,children:(0,b.jsxs)("div",{className:U.Z.modal_container,children:[(0,b.jsx)(m.Z,{children:(0,b.jsxs)("div",{className:U.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:U.Z.modal_container_header,children:(0,b.jsx)("h6",{children:I("allot_to_class")})}),(0,b.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:h})]})}),(0,b.jsx)(p.Z,{}),(0,b.jsxs)(m.Z,{customStyle:{paddingTop:"0.3rem"},children:[(0,b.jsxs)("div",{className:f.Z.admission_class_confirm,children:[C?(0,b.jsxs)(b.Fragment,{children:[I("alloting")," ",(0,b.jsx)("span",{style:{fontWeight:"600"},children:null===y||void 0===y?void 0:y.length})," ",I("students")," "," "]}):(0,b.jsxs)(b.Fragment,{children:[I("lloting_student")," ",(0,b.jsx)("span",{style:{fontWeight:"600"},children:" ".concat(null!==(n=null===y||void 0===y||null===(i=y.student)||void 0===i?void 0:i.studentFirstName)&&void 0!==n?n:""," ").concat(null!==y&&void 0!==y&&null!==(l=y.student)&&void 0!==l&&l.studentMiddleName?null===y||void 0===y||null===(t=y.student)||void 0===t?void 0:t.studentMiddleName:""," ").concat(null!==(s=null===y||void 0===y||null===(c=y.student)||void 0===c?void 0:c.studentLastName)&&void 0!==s?s:""," ")})]}),",",I("to")," ",(0,b.jsx)("span",{style:{fontWeight:"600"},children:" ".concat(null===j||void 0===j||null===(r=j.cls)||void 0===r?void 0:r.className," - ").concat(null===j||void 0===j||null===(v=j.cls)||void 0===v?void 0:v.classTitle)})]}),(0,b.jsx)(N.Z,{label:"confirm",onAction:()=>{var e,n,i;_&&null!==j&&void 0!==j&&null!==(e=j.cls)&&void 0!==e&&e._id&&y&&(k((e=>!e)),w({applicant:{dataList:C?y:[null===y||void 0===y||null===(n=y.student)||void 0===n?void 0:n._id]},appId:_,cid:null===j||void 0===j||null===(i=j.cls)||void 0===i?void 0:i._id}).then((()=>{S(),x(),k((e=>!e))})).catch({}))}})]})]})}),A&&(0,b.jsx)(Z.Z,{})]})},Oe=e=>{var n,i;let{appId:l,applicant:t,onClose:o,onRefetch:d,isMultiple:s}=e;const[c,r]=(0,a.useState)(1),[u,v]=(0,a.useState)({batch:"",cls:""});return 1===c?(0,b.jsx)(ke,{appId:l,selectedBatch:null===u||void 0===u||null===(n=u.batch)||void 0===n?void 0:n._id,onClose:o,onSelect:e=>{r(2),v((n=>({...n,batch:e})))}}):2===c?(0,b.jsx)(De,{appId:l,bid:null===(i=u.batch)||void 0===i?void 0:i._id,selectedId:null===u||void 0===u?void 0:u.cls,onClose:()=>r(1),onSelect:e=>{r(3),v((n=>({...n,cls:e})))}}):3===c?(0,b.jsx)(Me,{appId:l,state:u,onClose:()=>r(2),applicant:t,onRefetch:d,isMultiple:s,onParentClose:o}):null},Te=e=>{var n,i,l,t,o,a,s,c,r;let{applicant:v,onSelect:m,applicantId:p}=e;const{t:_}=(0,d.$G)();return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:f.Z.oac_container,onClick:()=>m(null===v||void 0===v?void 0:v._id),style:{justifyContent:"flex-start"},children:[(0,b.jsx)("img",{className:f.Z.department_checkbox,src:null!==p&&void 0!==p&&p.includes(null===v||void 0===v?void 0:v._id)?"".concat(u.U_,"/check.svg"):"".concat(u.U_,"/uncheck.svg"),alt:"check icon"}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==v&&void 0!==v&&v.studentProfilePhoto?"".concat(M.yI,"/").concat(null===v||void 0===v?void 0:v.studentProfilePhoto):"".concat(u.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,b.jsx)("h6",{children:"".concat(null!==(n=null===v||void 0===v?void 0:v.studentFirstName)&&void 0!==n?n:""," ").concat(null!==v&&void 0!==v&&v.studentMiddleName?null===v||void 0===v?void 0:v.studentMiddleName:""," ").concat(null!==(i=null===v||void 0===v?void 0:v.studentLastName)&&void 0!==i?i:"")}),(0,b.jsxs)("p",{children:[_("form_no_only"),": ",null!==(l=null===v||void 0===v||null===(t=v.student)||void 0===t?void 0:t.form_no)&&void 0!==l?l:""]})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/gender.svg"),alt:"email icon"}),(0,b.jsx)("p",{children:null===v||void 0===v?void 0:v.studentGender})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{children:null!==v&&void 0!==v&&null!==(o=v.user)&&void 0!==o&&o.userPhoneNumber?null===v||void 0===v||null===(a=v.user)||void 0===a?void 0:a.userPhoneNumber:null!==v&&void 0!==v&&null!==(s=v.user)&&void 0!==s&&s.userEmail?null===v||void 0===v||null===(c=v.user)||void 0===c?void 0:c.userEmail:null!==v&&void 0!==v&&v.studentPhoneNumber?null===v||void 0===v?void 0:v.studentPhoneNumber:null!==v&&void 0!==v&&v.studentParentsPhoneNumber?null===v||void 0===v?void 0:v.studentParentsPhoneNumber:null!==(r=null===v||void 0===v?void 0:v.studentEmail)&&void 0!==r?r:""})]})]})]})})},Re=e=>{var n,i,l,s,c;let{applicationDetail:r,instituteId:p,aid:_}=e;const{t:h}=(0,d.$G)(),g=(0,t.TH)(),x=(0,t.s0)(),[j,f]=(0,a.useState)(""),[y,N]=(0,a.useState)([]),[S,C]=(0,a.useState)(""),[A,k]=(0,a.useState)([]),[M,O]=(0,a.useState)(!1),{admissionOngoingApplicationAllReviewList:T,admissionOngoingApplicationAllReviewListLoading:F,admissionOngoingApplicationAllReviewListRefetch:L}=(0,o.HU)({data:{appId:null===(n=g.state)||void 0===n?void 0:n.appId},skip:!(null!==(i=g.state)&&void 0!==i&&i.appId)});(0,a.useEffect)((()=>{null!==T&&void 0!==T&&T.length&&k(T)}),[null===T||void 0===T?void 0:T.length]);const G=()=>{x(-1)},U=e=>{null!==y&&void 0!==y&&y.includes(e)?N((n=>null===n||void 0===n?void 0:n.filter((n=>n!==e)))):N((n=>[...n,e]))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(w.Z,{children:[(0,b.jsx)(I,{applicationDetail:r,instituteId:p,isExportAccess:"Confirm_Query",isTransferAccess:"Review",aid:_}),(0,b.jsxs)(m.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,b.jsxs)(R.Z,{customStyle:{justifyContent:"space-between",marginBottom:"0.7rem"},children:[(0,b.jsx)("section",{className:v.Z.fm_search_container,children:(0,b.jsxs)("div",{className:v.Z.fm_search_container_inner,style:{minWidth:"500px"},children:[(0,b.jsx)("img",{className:v.Z.fm_search_icon,alt:"search icon",src:"".concat(u.dB,"/navbar-search.svg")}),(0,b.jsx)("input",{type:"text",placeholder:h("search_applicants"),onChange:e=>{if(e.target.value){let n=Ee(T,e.target.value);k(n)}else f(""),k(T)},style:{minWidth:"500px"}})]})}),(0,b.jsxs)("div",{className:v.Z.fm_flex,children:[!Fe[null===(l=g.state)||void 0===l?void 0:l.isAuthorization]&&(0,b.jsx)(E.Z,{label:M?"remove_all":"select_all",count:null===y||void 0===y?void 0:y.length,onAction:M?()=>{N([]),O(!1)}:()=>{let e=[];for(let n of T)e.push(null===n||void 0===n?void 0:n._id);N(e),O(!0)},customStyle:{padding:"0.5rem 1rem",fontSize:"13px"}}),!Fe[null===(s=g.state)||void 0===s?void 0:s.isAuthorization]&&(0,b.jsx)(E.Z,{label:"allot_class",onAction:()=>{(null===y||void 0===y?void 0:y.length)>0&&C(1)},customStyle:{padding:"0.5rem 1rem",fontSize:"13px",opacity:(null===y||void 0===y?void 0:y.length)>0?"1":"0.5"}}),(0,b.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:G})]})]}),null===A||void 0===A?void 0:A.map((e=>(0,b.jsx)(Te,{applicant:e,applicantId:y,onSelect:U},null===e||void 0===e?void 0:e._id))),F?j?(0,b.jsx)(Z.Z,{}):(0,b.jsx)(D.Z,{}):j?0===(null===A||void 0===A?void 0:A.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===A||void 0===A?void 0:A.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]}),1===S?(0,b.jsx)(Oe,{appId:null===(c=g.state)||void 0===c?void 0:c.appId,applicant:y,onClose:()=>{C("")},onRefetch:()=>{O(!1),O([]),N([]),L(),G()},isMultiple:!0}):null]})},Fe={isCompleted:!0},Ee=(e,n)=>null===e||void 0===e?void 0:e.filter((e=>{var i,l,t,o;let a="".concat(null===e||void 0===e||null===(i=e.student)||void 0===i?void 0:i.studentFirstName," ").concat(null===e||void 0===e||null===(l=e.student)||void 0===l?void 0:l.studentMiddleName," ").concat(null===e||void 0===e||null===(t=e.student)||void 0===t?void 0:t.studentLastName);return null!==a&&void 0!==a&&null!==(o=a.toLowerCase())&&void 0!==o&&o.includes(null===n||void 0===n?void 0:n.toLowerCase())?e:null})),Le=e=>{var n;let{onClose:i,applicant:l,appId:t,onRefetch:s}=e;const{t:c}=(0,d.$G)(),[r,v]=(0,a.useState)(!1),[_,h]=(0,a.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),[j,f]=(0,a.useState)(""),[y,S]=(0,a.useState)(0),[C]=(0,o.D5)();(0,a.useEffect)((()=>{var e,n;if((null===l||void 0===l||null===(e=l.student)||void 0===e||null===(n=e.paidFeeList)||void 0===n?void 0:n.length)>0){var i,o,a,d;const e=null===l||void 0===l||null===(i=l.student)||void 0===i||null===(o=i.paidFeeList)||void 0===o?void 0:o.filter((e=>(null===e||void 0===e?void 0:e.appId)===t));S(null!==(a=null===e||void 0===e||null===(d=e[0])||void 0===d?void 0:d.paidAmount)&&void 0!==a?a:0)}}),[null===l||void 0===l||null===(n=l.student)||void 0===n?void 0:n.paidFeeList]);const I=e=>{h((n=>({...n,[e.target.name]:e.target.value})))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.Z,{onClose:i,children:(0,b.jsxs)("div",{className:x.Z.modal_container,children:[(0,b.jsx)(m.Z,{children:(0,b.jsxs)("div",{className:x.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:x.Z.modal_container_header,children:(0,b.jsx)("h6",{children:c("cancel_addmission")})}),(0,b.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:i})]})}),(0,b.jsx)(p.Z,{}),(0,b.jsxs)(m.Z,{customStyle:{paddingTop:"0"},children:[(0,b.jsxs)("div",{className:x.Z.admission_fees_row,children:[(0,b.jsxs)("h6",{children:[c("fees_paid")," :"]}),(0,b.jsxs)("h6",{children:[c("rs_only")," ",y]})]}),(0,b.jsx)(X.Z,{label:"".concat(c("refund_amount")),placeholder:c("please_enter_refund_amount"),name:"amount",value:_.amount,type:"tel",onChange:e=>{h((n=>({...n,amount:+e.target.value,fee_payment_amount:+e.target.value})))},errorShow:j.amount}),(0,b.jsx)(ie.Z,{paymentHeading:c("refund_payment_type_mode"),selectLabel:c("mode_placeholder"),onClick:e=>{h((n=>({...n,mode:"By Cash"===e?"Offline":"Online",fee_payment_mode:e})))},errorShow:j.fee_payment_mode,defalutValue:_.fee_payment_mode,selectedValue:c("please_select_payment_mode"),isAuthority:"admissionCollectMode"}),(0,b.jsx)(ee.Z,{label:c("select_date_of_transaction"),placeholder:c("please_select_date"),name:"transaction_date",value:_.transaction_date,onChange:e=>{h((n=>({...n,transaction_date:(0,ne.jh)(e)})))},errorShow:j.transaction_date}),"Cash"===_.fee_payment_mode?null:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:x.Z.admission_fees_row,style:{margin:0},children:(0,b.jsx)("h6",{style:{margin:0,marginTop:"1rem"},children:c("paid_to")})}),(0,b.jsx)(X.Z,{label:c("bank_name_collect"),placeholder:c("please_enter_bank_name"),name:"fee_bank_name",value:_.fee_bank_name,type:"text",onChange:I}),(0,b.jsx)(X.Z,{label:c("banke_holder_name"),placeholder:c("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:_.fee_bank_holder,type:"text",onChange:I}),(0,b.jsx)(X.Z,{label:c("cheque_dd_neft"),placeholder:c("please_enter_utr_ref_number"),name:"fee_utr_reference",value:_.fee_utr_reference,type:"text",onChange:I})]}),(0,b.jsx)(N.Z,{label:"confirm",onAction:()=>{let e=(0,le.l)(_,["mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference"]);var n,o,a,d,c,r,u,m,p,h,g,x,j,y,Z;(0,le.x)(e)?null!==l&&void 0!==l&&null!==(n=l.student)&&void 0!==n&&n._id&&t&&null!==l&&void 0!==l&&null!==(o=l.student)&&void 0!==o&&null!==(a=o.fee_structure)&&void 0!==a&&a._id&&(v((e=>!e)),C({sid:null===l||void 0===l||null===(d=l.student)||void 0===d?void 0:d._id,appId:t,payment:{struct:null===l||void 0===l||null===(c=l.student)||void 0===c||null===(r=c.fee_structure)||void 0===r?void 0:r._id,amount:null!==(u=null===_||void 0===_?void 0:_.amount)&&void 0!==u?u:"",mode:null!==(m=null===_||void 0===_?void 0:_.mode)&&void 0!==m?m:"",fee_payment_mode:null!==(p=null===_||void 0===_?void 0:_.fee_payment_mode)&&void 0!==p?p:"",fee_payment_amount:null!==(h=null===_||void 0===_?void 0:_.fee_payment_amount)&&void 0!==h?h:"",transaction_date:null!==(g=(0,ne._1)(_.transaction_date))&&void 0!==g?g:"",fee_bank_name:null!==(x=null===_||void 0===_?void 0:_.fee_bank_name)&&void 0!==x?x:"",fee_bank_holder:null!==(j=null===_||void 0===_?void 0:_.fee_bank_holder)&&void 0!==j?j:"",fee_utr_reference:null!==(y=null===_||void 0===_?void 0:_.fee_utr_reference)&&void 0!==y?y:"",remainAmount:null!==(Z=null===l||void 0===l?void 0:l.fee_remain)&&void 0!==Z?Z:0}}).then((()=>{s(),v((e=>!e)),i()})).catch({})):f(e)}})]})]})}),r&&(0,b.jsx)(Z.Z,{})]})},Ge=e=>{var n,i,l,o,s,c,r,v,m,p,_,h,g,x,j,y,Z,N,S,C,I,A,k,w,P,D,O,T,F,L,G,U;let{instituteId:q,applicant:Y,appId:z,onRefetch:B,isMultiple:J,onSelect:V,applicantId:H}=e;const{t:$}=(0,d.$G)(),W=(0,t.UO)(),Q=(0,t.s0)(),[X,ee]=(0,a.useState)(""),ne=(0,a.useCallback)((()=>{var e;Q("/q/".concat(W.username,"/student/profile"),{state:{sid:null===Y||void 0===Y||null===(e=Y.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:q,collectAccess:"ADMISSION_ADMIN",editInstallmentControl:"authorized"}})}),[q,null===Y||void 0===Y||null===(n=Y.student)||void 0===n?void 0:n._id]),ie=()=>{ee("")};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:f.Z.oac_container,onClick:ne,title:"View Profile",children:[J?(0,b.jsx)("img",{className:f.Z.department_checkbox,src:null!==H&&void 0!==H&&H.includes(null===Y||void 0===Y||null===(i=Y.student)||void 0===i?void 0:i._id)?"".concat(u.U_,"/check.svg"):"".concat(u.U_,"/uncheck.svg"),alt:"check icon",onClick:e=>{var n;return V(e,null===Y||void 0===Y||null===(n=Y.student)||void 0===n?void 0:n._id)}}):null,(0,b.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==Y&&void 0!==Y&&null!==(l=Y.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(M.yI,"/").concat(null===Y||void 0===Y||null===(o=Y.student)||void 0===o?void 0:o.studentProfilePhoto):"".concat(u.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,b.jsx)("h6",{children:"".concat(null!==(s=null===Y||void 0===Y||null===(c=Y.student)||void 0===c?void 0:c.studentFirstName)&&void 0!==s?s:""," ").concat(null!==Y&&void 0!==Y&&null!==(r=Y.student)&&void 0!==r&&r.studentMiddleName?null===Y||void 0===Y||null===(v=Y.student)||void 0===v?void 0:v.studentMiddleName:""," ").concat(null!==(m=null===Y||void 0===Y||null===(p=Y.student)||void 0===p?void 0:p.studentLastName)&&void 0!==m?m:"")}),(0,b.jsxs)("p",{children:[$("form_no_only"),": ",null!==(_=null===Y||void 0===Y||null===(h=Y.student)||void 0===h?void 0:h.form_no)&&void 0!==_?_:""]}),(0,b.jsx)("p",{onClick:e=>{e.stopPropagation(),ee(2)},style:{color:"#436dfa"},children:$("cancel_admision")})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/gender.svg"),alt:"email icon"}),(0,b.jsx)("p",{children:null===Y||void 0===Y||null===(g=Y.student)||void 0===g?void 0:g.studentGender})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{children:null!==Y&&void 0!==Y&&null!==(x=Y.student)&&void 0!==x&&null!==(j=x.user)&&void 0!==j&&j.userPhoneNumber?null===Y||void 0===Y||null===(y=Y.student)||void 0===y||null===(Z=y.user)||void 0===Z?void 0:Z.userPhoneNumber:null!==Y&&void 0!==Y&&null!==(N=Y.student)&&void 0!==N&&null!==(S=N.user)&&void 0!==S&&S.userEmail?null===Y||void 0===Y||null===(C=Y.student)||void 0===C||null===(I=C.user)||void 0===I?void 0:I.userEmail:null!==Y&&void 0!==Y&&null!==(A=Y.student)&&void 0!==A&&A.studentPhoneNumber?null===Y||void 0===Y||null===(k=Y.student)||void 0===k?void 0:k.studentPhoneNumber:null!==Y&&void 0!==Y&&null!==(w=Y.student)&&void 0!==w&&w.studentParentsPhoneNumber?null===Y||void 0===Y||null===(P=Y.student)||void 0===P?void 0:P.studentParentsPhoneNumber:null!==(D=null===Y||void 0===Y||null===(O=Y.student)||void 0===O?void 0:O.studentEmail)&&void 0!==D?D:""})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_stuff,style:{width:"25%"},children:[(0,b.jsx)("a",{href:"".concat(M.q2,"/").concat(null===Y||void 0===Y||null===(T=Y.student)||void 0===T||null===(F=T.application_print)||void 0===F||null===(L=F[0])||void 0===L?void 0:L.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,b.jsx)("img",{src:"".concat(u.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),null===Y||void 0===Y||null===(G=Y.student)||void 0===G||null===(U=G.fee_receipt)||void 0===U?void 0:U.map(((e,n)=>n>2?"":(0,b.jsx)(K.Z,{rid:null===e||void 0===e?void 0:e._id,receiptFile:null===e||void 0===e?void 0:e.receipt_file},null===e||void 0===e?void 0:e._id))),J?null:(0,b.jsx)(R.Z,{children:(0,b.jsx)(E.Z,{label:"allot_class",onAction:e=>{e.stopPropagation(),ee(1)},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}})})]})]}),2===X?(0,b.jsx)(Le,{appId:z,applicant:Y,onClose:ie,onRefetch:B}):1===X?(0,b.jsx)(Oe,{appId:z,applicant:Y,onClose:ie,onRefetch:B}):null]})};var Ue=i(89064);const qe=e=>{let{onClose:n,appId:i,onRefetch:l}=e;const{t:t}=(0,d.$G)(),[s,c]=(0,a.useState)(!1),[r]=(0,o.LT)(),u=e=>{i&&(c((e=>!e)),r({appId:i,sort_query:e}).then((()=>{l(),c((e=>!e)),n()})).catch({}))};return(0,b.jsxs)(Ue.Z,{onClose:n,disabled:s,customStyle:{width:"15rem"},children:[(0,b.jsx)("h6",{onClick:()=>u("Alpha"),children:t("alphabetical")}),(0,b.jsx)("h6",{onClick:()=>u("Gender"),children:t("gender")}),(0,b.jsx)("h6",{onClick:()=>u("Gender_Alpha"),children:t("both")})]})},Ye=e=>{var n,i,l,u,v,p;let{applicationDetail:_,instituteId:h,aid:g}=e;const{t:x}=(0,d.$G)(),j=(0,t.TH)(),f=(0,t.s0)(),y=(0,t.UO)(),[N,S]=(0,a.useState)(""),[C,A]=(0,a.useState)(1),[k,M]=(0,a.useState)(!0),[O,T]=(0,s.YD)({skip:N}),[R,F]=(0,a.useState)(!1),{admissionOngoingApplicationReview:E,admissionOngoingApplicationReviewLoading:L,admissionOngoingApplicationReviewRefetch:G}=(0,o._v)({data:{appId:null===(n=j.state)||void 0===n?void 0:n.appId,page:C,limit:10,search:N},skip:!(null!==(i=j.state)&&void 0!==i&&i.appId)});(0,a.useEffect)((()=>{T&&k&&A((e=>e+1))}),[T,k]),(0,a.useEffect)((()=>{var e;if(null!==E&&void 0!==E&&null!==(e=E.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===E||void 0===E||null===(n=E.list)||void 0===n?void 0:n.length);M((()=>e))}}),[null===E||void 0===E||null===(l=E.list)||void 0===l?void 0:l.length]);const U=(0,a.useCallback)((0,r.J)((e=>{A((()=>1)),S(e)}),1500),[]),q=(0,a.useCallback)((()=>{A((()=>1)),G()}),[G]),Y=(0,a.useCallback)((()=>{F((e=>!e))}),[]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(w.Z,{children:[(0,b.jsx)(I,{applicationDetail:_,instituteId:h,isExportAccess:"Confirm_Query",isTransferAccess:"Review",aid:g}),(0,b.jsxs)(m.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,b.jsx)(J,{applicationDetail:_,instituteId:h,isExportAccess:"Confirm_Query",isTransferAccess:"Review",aid:g,onMultipleSelect:()=>{var e;let n="Institute"===(null===(e=j.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(y.username,"/institute/member/admission?type=ongoing-detail&n=review-multi"):"/q/".concat(y.username,"/member/staff/admission?type=ongoing-detail&n=review-multi");f(n,{state:j.state})},onResuffleToggle:Y,children:(0,b.jsx)("input",{type:"text",placeholder:x("search_applicants"),onChange:e=>{e.target.value?U(e.target.value):(A((()=>1)),S(""))}})}),null===E||void 0===E||null===(u=E.list)||void 0===u?void 0:u.map(((e,n)=>{var i,l,t;return(null===E||void 0===E||null===(i=E.list)||void 0===i?void 0:i.length)===n+1?(0,b.jsx)("div",{ref:O,children:(0,b.jsx)(Ge,{applicant:{student:e},instituteId:h,onRefetch:q,appId:null===(l=j.state)||void 0===l?void 0:l.appId})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(Ge,{applicant:{student:e},instituteId:h,onRefetch:q,appId:null===(t=j.state)||void 0===t?void 0:t.appId},null===e||void 0===e?void 0:e._id)})),L?N?(0,b.jsx)(Z.Z,{}):(0,b.jsx)(D.Z,{}):N?0===(null===E||void 0===E||null===(v=E.list)||void 0===v?void 0:v.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===E||void 0===E||null===(p=E.list)||void 0===p?void 0:p.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]}),R&&(0,b.jsx)(qe,{onClose:Y,appId:null===_||void 0===_?void 0:_._id,onRefetch:q})]})},ze=e=>{var n,i;let{instituteId:a,aid:d}=e;const[s]=(0,l.lr)(),c=(0,t.TH)(),{admissionOneOngoingApplication:r}=(0,o.nK)({appId:null===(n=c.state)||void 0===n?void 0:n.appId,skip:!(null!==(i=c.state)&&void 0!==i&&i.appId)});return(0,b.jsx)(b.Fragment,{children:s.get("n")?"document"===s.get("n")?(0,b.jsx)(ue,{applicationDetail:r,instituteId:a,aid:d}):"fees"===s.get("n")?(0,b.jsx)(fe,{applicationDetail:r,instituteId:a,aid:d}):"confirmed"===s.get("n")?(0,b.jsx)(Ce,{applicationDetail:r,instituteId:a}):"confirmed-multi"===s.get("n")?(0,b.jsx)(Ze,{applicationDetail:r,instituteId:a}):"review"===s.get("n")?(0,b.jsx)(Ye,{applicationDetail:r,instituteId:a,aid:d}):"review-multi"===s.get("n")?(0,b.jsx)(Re,{applicationDetail:r,instituteId:a,aid:d}):"allottment"===s.get("n")?(0,b.jsx)(ae,{applicationDetail:r,instituteId:a}):"cancelled"===s.get("n")?(0,b.jsx)(se,{applicationDetail:r,instituteId:a}):null:(0,b.jsx)(Q,{applicationDetail:r,instituteId:a,aid:d})})}},46194:(e,n,i)=>{i.d(n,{Z:()=>j});var l=i(39230),t=i(90904),o=i(48293),a=i(21348),d=i(49806),s=i(98684),c=i(72791),r=i(23441),u=i(91427),v=i(57588),m=i(2651),p=i(1669),_=i(55336),h=i(43317),g=i(25056),x=i(80184);const j=e=>{var n,i,j,f;let{onClose:y,onSelect:Z,aid:N,selectedId:b,isList:S}=e;const{t:C}=(0,l.$G)(),[I,A]=(0,c.useState)(""),[k,w]=(0,c.useState)(1),[P,D]=(0,c.useState)(!0),[M,O]=(0,r.YD)({skip:I}),{admissionOngoingApplication:T,admissionOngoingApplicationLoading:R}=(0,h.s5)({data:{aid:N,page:k,limit:10,search:I},skip:!N});(0,c.useEffect)((()=>{O&&P&&w((e=>e+1))}),[O,P]),(0,c.useEffect)((()=>{var e;if(null!==T&&void 0!==T&&null!==(e=T.list)&&void 0!==e&&e.length){var n;let e=(0,u.f)(null===T||void 0===T||null===(n=T.list)||void 0===n?void 0:n.length);D((()=>e))}}),[null===T||void 0===T||null===(n=T.list)||void 0===n?void 0:n.length]);const F=(0,c.useCallback)((0,v.J)((e=>{w((()=>1)),A(e)}),1500),[]);return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(o.Z,{children:(0,x.jsxs)("div",{className:d.Z.modal_container,children:[(0,x.jsx)(a.Z,{children:(0,x.jsxs)("div",{className:d.Z.modal_container_outer_header,children:[(0,x.jsx)("div",{className:d.Z.modal_container_header,children:(0,x.jsx)("h6",{children:C("ongoing_applications")})}),(0,x.jsx)("img",{src:"".concat(s.J7,"/close.svg"),alt:"close icon",onClick:y,className:d.Z.close_icon})]})}),(0,x.jsx)(t.Z,{}),(0,x.jsxs)(a.Z,{customStyle:{paddingTop:"0"},children:[(0,x.jsxs)("div",{className:d.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,x.jsx)("input",{type:"text",placeholder:C("search"),className:d.Z.assign_search_input,onChange:e=>{e.target.value?F(e.target.value):(w((()=>1)),A(""))},style:{width:"100%"}}),(0,x.jsx)("img",{src:"".concat(s.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===T||void 0===T||null===(i=T.list)||void 0===i?void 0:i.map(((e,n)=>{var i;return(null===T||void 0===T||null===(i=T.list)||void 0===i?void 0:i.length)===n+1?(0,x.jsx)("div",{ref:M,children:(0,x.jsx)(g.Z,{application:e,onSelect:Z,isList:S,selectedId:b})},null===e||void 0===e?void 0:e._id):(0,x.jsx)(g.Z,{application:e,onSelect:Z,isList:S,selectedId:b},null===e||void 0===e?void 0:e._id)})),R?I?(0,x.jsx)(_.Z,{}):(0,x.jsx)(p.Z,{}):I?0===(null===T||void 0===T||null===(j=T.list)||void 0===j?void 0:j.length)&&(0,x.jsx)(m.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No ongoing applications found related this search."}):0===(null===T||void 0===T||null===(f=T.list)||void 0===f?void 0:f.length)&&(0,x.jsx)(m.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No ongoing applications list."})]})]})})})}},25056:(e,n,i)=>{i.d(n,{Z:()=>a});var l=i(98684),t=i(26192),o=i(80184);const a=e=>{var n,i,a,d,s,c;let{application:r,onSelect:u,selectedId:v,isList:m}=e;const p=()=>{u(r)};return(0,o.jsx)(o.Fragment,{children:m?(0,o.jsx)("div",{className:null!==v&&void 0!==v&&v.includes(null===r||void 0===r?void 0:r._id)?"".concat(t.Z.ongoing_card," ").concat(t.Z.ongoing_card_active):t.Z.ongoing_card,onClick:p,children:(0,o.jsxs)("div",{className:t.Z.ongoing_card_inner,children:[(0,o.jsx)("img",{alt:"Ongoing App",src:"".concat(l.U_,"/application.svg")}),(0,o.jsxs)("div",{className:t.Z.ongoing_card_text,children:[(0,o.jsx)("h6",{children:null!==(n=null===r||void 0===r?void 0:r.applicationName)&&void 0!==n?n:""}),(0,o.jsx)("p",{children:null!==(i=null===r||void 0===r||null===(a=r.applicationDepartment)||void 0===a?void 0:a.dName)&&void 0!==i?i:""})]})]})}):(0,o.jsx)("div",{className:v===(null===r||void 0===r?void 0:r._id)?"".concat(t.Z.ongoing_card," ").concat(t.Z.ongoing_card_active):t.Z.ongoing_card,onClick:p,children:(0,o.jsxs)("div",{className:t.Z.ongoing_card_inner,children:[(0,o.jsx)("img",{alt:"Ongoing App",src:"".concat(l.U_,"/application.svg")}),(0,o.jsxs)("div",{className:t.Z.ongoing_card_text,children:[(0,o.jsx)("h6",{children:null!==(d=null===r||void 0===r?void 0:r.applicationName)&&void 0!==d?d:""}),(0,o.jsx)("p",{children:null!==(s=null===r||void 0===r||null===(c=r.applicationDepartment)||void 0===c?void 0:c.dName)&&void 0!==s?s:""})]})]})})})}},50518:(e,n,i)=>{i.d(n,{Z:()=>a});var l=i(19056),t=i(52245),o=i(80184);const a=e=>{let{paymentHeading:n,selectLabel:i,onClick:a,selectedValue:s,customStyleContainer:c,customLabelStyle:r,customListStyle:u,errorShow:v,defalutValue:m,isAuthority:p,isDenied:_}=e;return(0,o.jsxs)(o.Fragment,{children:[n&&(0,o.jsx)("h6",{className:t.Z.payment_mode_heading,children:n}),(0,o.jsx)(l.Z,{selectLabel:i,onClick:a,selectedValue:s,options:d[p],customStyleContainer:c,customLabelStyle:r,customListStyle:u,errorShow:v,defalutValue:m,isDenied:_})]})};let d={admissionCollectMode:["Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft"],admissionCollectModePg:["Payment Gateway","Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft"],admissionStudentProfileCollectMode:["Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft","Unrecovered/Exemption"],admissionStudentProfileCollectModePg:["Payment Gateway","Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft","Unrecovered/Exemption"],depositRefundMode:["By Bank","By Cash"]}},66239:(e,n,i)=>{i.d(n,{Z:()=>r});var l=i(72791),t=i(98684),o=i(6758),a=i(37782),d=i(55336),s=i(1095),c=i(80184);const r=e=>{let{rid:n,receiptFile:r}=e;const[u,v]=(0,l.useState)(""),[m,p]=(0,l.useState)(!1),[_,h]=(0,l.useState)(""),{financeReceipt:g,financeReceiptRefetch:x}=(0,o.Nw)({rid:u,skip:!u});(0,l.useEffect)((()=>{u&&x()}),[u,x]),(0,l.useEffect)((()=>{null!==g&&void 0!==g&&g.receipt&&null!==g&&void 0!==g&&g.all_remain&&h(g)}),[g]),(0,l.useEffect)((()=>{if(_){var e;const n=new Worker(new URL(i.p+i.u(21124),i.b));if("Hostel Application"===(null===_||void 0===_||null===(e=_.all_remain)||void 0===e?void 0:e.remaining_flow)){const{institute:e,studentInfo:i,paymentReceiptInfo:l}=(0,a.sp)(null===_||void 0===_?void 0:_.all_remain,null===_||void 0===_?void 0:_.receipt);n.postMessage({institute:e,studentInfo:i,paymentReceiptInfo:l,printReceiptType:"Refunded"===(null===l||void 0===l?void 0:l.transactonRefund)?"HOSTEL_REFUND":"HOSTEL"})}else{const{institute:e,studentInfo:i,paymentReceiptInfo:l}=(0,a.Hs)(null===_||void 0===_?void 0:_.all_remain,null===_||void 0===_?void 0:_.receipt);n.postMessage({institute:e,studentInfo:i,paymentReceiptInfo:l,printReceiptType:"Refunded"===(null===l||void 0===l?void 0:l.transactonRefund)?"ADMISSION_REFUND":"ADMISSION"})}n.onmessage=e=>{e&&(window.open(e.data,"_blank"),p((e=>!e)),h(""),n.terminate())}}}),[_]);return(0,c.jsxs)(c.Fragment,{children:[r?(0,c.jsx)("a",{href:"".concat(s.q2,"/").concat(r),target:"_blank",rel:"noopener noreferrer",onClick:e=>{e.stopPropagation()},children:(0,c.jsx)("img",{src:"".concat(t.J7,"/receipt.svg"),alt:"receipt icon",title:"Download Fees Receipt"})}):(0,c.jsx)("img",{src:"".concat(t.J7,"/receipt.svg"),alt:"receipt icon",title:"Download Fees Receipt",onClick:e=>(e=>{e.stopPropagation(),p((e=>!e)),v(n),u===n&&h(g)})(e)}),m&&(0,c.jsx)(d.Z,{})]})}},85794:(e,n,i)=>{i.d(n,{Z:()=>r});var l=i(72791),t=i(54164),o=i(15783),a=i(98684),d=i(80184);const s=e=>{let{onClose:n,isVariant:i,isHide:l,children:s}=e;return t.createPortal((0,d.jsx)("div",{children:(0,d.jsx)("div",{className:l?o.Z.notify_hide_overlay:o.Z.notify_overlay,children:(0,d.jsxs)("div",{className:o.Z.notify_container,style:{"--notify-bg-color":i},children:[s,(0,d.jsx)("img",{src:"".concat(a.Fk,"/close-white.svg"),alt:"close icon",onClick:n,className:o.Z.notify_close})]})})}),document.getElementById("notify-alert"))},c={success:"green",error:"#ed4a4a",warning:"orange"},r=e=>{var n;let{eventState:i,eventStateHandler:t}=e;const[a,r]=(0,l.useState)(!1);return null!==i&&void 0!==i&&i.open?(0,d.jsx)(s,{onClose:()=>{r(!0);let e=setTimeout((()=>{t((e=>({...e,open:!1,msg:"",variant:"success"}))),r(!1)}),500);return()=>clearTimeout(e)},isVariant:c[null===i||void 0===i?void 0:i.variant],isHide:a,children:(0,d.jsx)("h6",{className:o.Z.notify_message,children:null!==(n=null===i||void 0===i?void 0:i.msg)&&void 0!==n?n:""})}):null}},16313:(e,n,i)=>{i.d(n,{Z:()=>l});const l={attendence:"Attendence_attendence__I1yeT",attendencehead:"Attendence_attendencehead__exMGX",attendenceBtns:"Attendence_attendenceBtns__NDLVN",changemonth:"Attendence_changemonth__tk0Uc",buttons:"Attendence_buttons__iJ4z9",leaves:"Attendence_leaves__nC9+y",save:"Attendence_save__Q1WxJ",time_slot_btn:"Attendence_time_slot_btn__ckJ9r",calender:"Attendence_calender__wZXxH",arrowbtn:"Attendence_arrowbtn__Gm18t",dates:"Attendence_dates__40mER",date:"Attendence_date__qlh8f",clickedDate:"Attendence_clickedDate__q347p",tabs:"Attendence_tabs__9GYC-",tab:"Attendence_tab__IXFzc",grey:"Attendence_grey__r-jIX",purple:"Attendence_purple__J8wxa",light:"Attendence_light__r4yiQ",tabgreen:"Attendence_tabgreen__uE2sT",red:"Attendence_red__v+w+y",rose:"Attendence_rose__uW+8p",list:"Attendence_list__R99VM",divider:"Attendence_divider__MjzEh",selectMonthList:"Attendence_selectMonthList__ItnM7",month:"Attendence_month__32s-8",time_slot:"Attendence_time_slot__uB3tR",time_slot_inner:"Attendence_time_slot_inner__LMrgE",al_container:"Attendence_al_container__WjTYJ",al_container_h6:"Attendence_al_container_h6__avjZi",al_container_active:"Attendence_al_container_active__mhWSf",al_container_img:"Attendence_al_container_img__CYG2U"}},75285:(e,n,i)=>{i.d(n,{Z:()=>l});const l={content2:"OneOngoingAdmission_content2__UrY-4",content3:"OneOngoingAdmission_content3__wmxHl",appinforow:"OneOngoingAdmission_appinforow__SS5D4",appinforow1:"OneOngoingAdmission_appinforow1__nwEXk",appinforow2:"OneOngoingAdmission_appinforow2__KSPRj",appinforowred:"OneOngoingAdmission_appinforowred__EJthG",oac_container:"OneOngoingAdmission_oac_container__oeabB",oac_container_inner:"OneOngoingAdmission_oac_container_inner__Ki5D9",oac_container_inner_info:"OneOngoingAdmission_oac_container_inner_info__cm-xm",oac_container_contact:"OneOngoingAdmission_oac_container_contact__swjup",oac_container_contact_inner:"OneOngoingAdmission_oac_container_contact_inner__Ppdbl",oac_container_stuff:"OneOngoingAdmission_oac_container_stuff__+CGpg",admission_confirm_batch_card:"OneOngoingAdmission_admission_confirm_batch_card__AtVzz",admission_confirm_batch_card_active:"OneOngoingAdmission_admission_confirm_batch_card_active__V8p66"}}}]);
//# sourceMappingURL=72183.61051ddd.chunk.js.map