"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[75615],{47735:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(72791),i=(n(32804),n(29017)),l=n(98734),d=n(62732),a=n(69721),s=n(80184);const r=e=>{let{rid:t}=e;const[n,r]=(0,o.useState)(!1),[u,v]=(0,o.useState)(""),[c,_]=(0,o.useState)(""),{internalFeeReceipt:f,internalFeeReceiptRefetch:m}=(0,i.H0)({rid:u,skip:!u});(0,o.useEffect)((()=>{u&&m()}),[u,m]);return(0,o.useEffect)((()=>{null!==f&&void 0!==f&&f.receipt&&null!==f&&void 0!==f&&f.one_account&&_(f)}),[f]),(0,o.useEffect)((()=>{if(c){var e,t,n,o,i,l,s,u;r((e=>!e));let v=null===c||void 0===c?void 0:c.one_account,f=null===c||void 0===c?void 0:c.receipt;const m=null!==f&&void 0!==f&&null!==(e=f.finance)&&void 0!==e&&null!==(t=e.institute)&&void 0!==t&&t.insProfilePhoto?"".concat(a.Yz,"/").concat(null===f||void 0===f||null===(n=f.finance)||void 0===n||null===(o=n.institute)||void 0===o?void 0:o.insProfilePhoto):"/images/certificate/logodemo.jpg",p=null!==f&&void 0!==f&&null!==(i=f.finance)&&void 0!==i&&null!==(l=i.institute)&&void 0!==l&&l.affliatedLogo?"".concat(a.Yz,"/").concat(null===f||void 0===f||null===(s=f.finance)||void 0===s||null===(u=s.institute)||void 0===u?void 0:u.affliatedLogo):"/images/certificate/logodemo.jpg";v&&f&&((0,d.Z)(v,f,m,p),r(!1)),_(""),window.location.reload()}}),[c]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("img",{src:"/images/members/receipt-icon.svg",onClick:()=>{var e;(e=t)&&(r((e=>!e)),v(e))},alt:"receipt icon"}),n&&(0,s.jsx)(l.Z,{})]})}},75615:(e,t,n)=>{n.d(t,{Z:()=>v});var o=n(72791),i=n(59227),l=n(32804),d=n(11105),a=n(34219),s=n(23441),r=n(29017),u=n(80184);const v=e=>{let{setAllContent:t,setCharges:n,sid:v,viewAs:c}=e;const[_,f]=(0,o.useState)(!0),[m,p]=(0,o.useState)(1),[h,x]=(0,s.YD)(),[F,y]=(0,o.useState)([]),[g,b]=(0,o.useState)(!1),[S,C]=(0,o.useState)(!0),{studentDepartmentFees:N,studentDepartmentFeesRefetch:k}=(0,r.d9)({data:{sid:v,page:m,limit:10},skip:!v});return(0,o.useEffect)((()=>{x&&_&&p((e=>e+1))}),[x,_]),(0,o.useEffect)((()=>{v&&(k(),C(!0))}),[m,v,k]),(0,o.useEffect)((()=>{var e,t;g?(y(null===N||void 0===N?void 0:N.all_internal),b(!1),C(!1)):null!==N&&void 0!==N&&N.all_internal?(y((e=>[...new Set([...e,...null===N||void 0===N?void 0:N.all_internal].map(JSON.stringify))].map(JSON.parse))),C(!1)):0===(null===N||void 0===N||null===(t=N.all_internal)||void 0===t?void 0:t.length)&&C(!1);10===(null===N||void 0===N||null===(e=N.all_internal)||void 0===e?void 0:e.length)?f(!0):f(!1)}),[null===N||void 0===N?void 0:N.all_internal]),(0,u.jsxs)("div",{className:l.Z.student_admission_fees_container,children:[null===F||void 0===F?void 0:F.map(((e,o)=>{var d,a,s,r,_,f,m,p,x,y,g,b,S,C,N,k,D,A;return(null===F||void 0===F?void 0:F.length)===o+1?(0,u.jsx)("div",{className:l.Z.student_internal_card,ref:h,children:(0,u.jsx)(i.Z,{feesName:null===e||void 0===e?void 0:e.internal_fee_reason,amount:null===e||void 0===e?void 0:e.internal_fee_amount,dateOffCreation:null===e||void 0===e||null===(d=e.fees)||void 0===d?void 0:d.feeDate,is_paid:null===e||void 0===e?void 0:e.internal_fee_status,feesId:null===e||void 0===e?void 0:e._id,setAllContent:t,setCharges:n,is_checklist:"Checklist"===(null===e||void 0===e?void 0:e.internal_fee_type)||"Backlog"===(null===e||void 0===e?void 0:e.internal_fee_type)||"Library Fees"===(null===e||void 0===e?void 0:e.internal_fee_type),rid:null===e||void 0===e||null===(a=e.fee_receipt)||void 0===a?void 0:a._id,transactionDate:null===e||void 0===e||null===(s=e.fee_receipt)||void 0===s?void 0:s.created_at,transactionMode:null===e||void 0===e||null===(r=e.fee_receipt)||void 0===r?void 0:r.fee_payment_mode,moduleType:null===e||void 0===e?void 0:e.internal_fee_type,sid:v,viewAs:c,bookId:null!==(_=null===e||void 0===e?void 0:e.book)&&void 0!==_?_:"",validateId:null===e||void 0===e||null===(f=e.library)||void 0===f?void 0:f._id,financeId:null===e||void 0===e||null===(m=e.library)||void 0===m||null===(p=m.institute)||void 0===p||null===(x=p.financeDepart)||void 0===x?void 0:x[0]})},null===e||void 0===e?void 0:e._id):(0,u.jsx)("div",{className:l.Z.student_internal_card,children:(0,u.jsx)(i.Z,{feesName:null===e||void 0===e?void 0:e.internal_fee_reason,amount:null===e||void 0===e?void 0:e.internal_fee_amount,dateOffCreation:null===e||void 0===e||null===(y=e.fees)||void 0===y?void 0:y.feeDate,is_paid:null===e||void 0===e?void 0:e.internal_fee_status,feesId:null===e||void 0===e?void 0:e._id,setAllContent:t,setCharges:n,is_checklist:"Checklist"===(null===e||void 0===e?void 0:e.internal_fee_type)||"Backlog"===(null===e||void 0===e?void 0:e.internal_fee_type)||"Library Fees"===(null===e||void 0===e?void 0:e.internal_fee_type),rid:null===e||void 0===e||null===(g=e.fee_receipt)||void 0===g?void 0:g._id,transactionDate:null===e||void 0===e||null===(b=e.fee_receipt)||void 0===b?void 0:b.created_at,transactionMode:null===e||void 0===e||null===(S=e.fee_receipt)||void 0===S?void 0:S.fee_payment_mode,moduleType:null===e||void 0===e?void 0:e.internal_fee_type,sid:v,viewAs:c,bookId:null!==(C=null===e||void 0===e?void 0:e.book)&&void 0!==C?C:"",validateId:null===e||void 0===e||null===(N=e.library)||void 0===N?void 0:N._id,financeId:null===e||void 0===e||null===(k=e.library)||void 0===k||null===(D=k.institute)||void 0===D||null===(A=D.financeDepart)||void 0===A?void 0:A[0]})},null===e||void 0===e?void 0:e._id)})),S&&(0,u.jsx)(d.Z,{}),!S&&0===(null===F||void 0===F?void 0:F.length)&&(0,u.jsx)(a.Z,{title:"No department fees created yet.",customStyleContainer:{height:"15rem"}})]})}},59227:(e,t,n)=>{n.d(t,{Z:()=>p});var o=n(72791),i=n(32804),l=n(39230),d=n(72426),a=n.n(d),s=n(47735),r=n(64499),u=n(69721),v=n(29017),c=n(51561),_=n(98734),f=n(80184);const m=["STUDENT"],p=e=>{let{amount:t,feesName:n,dateOffCreation:d,is_paid:p,is_checklist:h,feesId:x,setAllContent:F,setCharges:y,moduleType:g,rid:b,transactionDate:S,transactionMode:C,viewAs:N,is_static:k,bookId:D,validateId:A,financeId:T}=e;const{t:z}=(0,l.$G)(),[w,M]=(0,o.useState)(!1),[j,I]=(0,o.useState)({msg:"",run:!1}),[L]=(0,v.fB)(),Z={amount:10,moduleId:"38965823534u5t23y",paidBy:"34532h423424f4g5f23j",name:"Shreya_1540"};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("h5",{children:[z("rs"),".",null!==t&&void 0!==t?t:0," "]}),(0,f.jsx)("h6",{children:null!==n&&void 0!==n?n:"Static"}),S?(0,f.jsxs)("p",{children:[z("paid_on"),a()(S).format("DD MMMM yyyy")]}):h?"":(0,f.jsxs)("p",{children:[z("pay_by"),a()(d).format("DD MMMM yyyy")]}),"Not Paid"!==p?(0,f.jsxs)("button",{className:i.Z.student_internal_card_btn_paid,children:[z("internal_paid")," ",null!==C&&void 0!==C?C:""]}):k?(0,f.jsx)("button",{className:i.Z.student_internal_card_btn_pay,onClick:()=>{(0,r.Ex)(Z).then((e=>{var t={action:u.FX,params:e};(0,r.KY)(t)})).catch((e=>{console.info(e)}))},children:z("pay_now")}):null!==m&&void 0!==m&&m.includes(N)?(0,f.jsx)("button",{className:i.Z.student_internal_card_btn_pay,onClick:()=>{"Library Fees"===g?(M((e=>!e)),L({fid:T,aid:A,flow:"BY_LIBRARY"}).then((e=>{var n;M((e=>!e)),null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.denied?I({msg:"Before initiating payment. you must have a valid bank account to receive payment.",run:!0}):(F((e=>({...e,amount:t,feesId:x,type:"Backlog"===g?"Backlog":"Library Fees"===g?"Library Fees":"Fees",bookId:null!==D&&void 0!==D?D:""}))),y(!0))})).catch({})):(F((e=>({...e,amount:t,feesId:x,type:"Backlog"===g?"Backlog":"Library Fees"===g?"Library Fees":"Fees",bookId:null!==D&&void 0!==D?D:""}))),y(!0))},children:z("pay_now")}):(0,f.jsx)("button",{className:i.Z.student_internal_card_btn_pay,children:z("unpaid")}),"Not Paid"!==p?(0,f.jsx)(s.Z,{rid:b}):"",(0,f.jsx)(c.Ch,{msg:j.msg,run:j.run,setRun:()=>I({msg:"",run:!1}),postiton:"bottom",type:"error"}),w&&(0,f.jsx)(_.Z,{})]})}},62732:(e,t,n)=>{n.d(t,{Z:()=>u});var o=n(35125),i=n(72426),l=n.n(i),d=n(62906),a=n.n(d),s=new o.ZP({format:[270,210]}),r=s.internal.pageSize.getWidth();const u=function(e,t,n,o){var i,d,u,v,c,_,f,m,p,h,x,F,y,g,b,S,C;let N=arguments.length>4&&void 0!==arguments[4]&&arguments[4],k=null===t||void 0===t||null===(i=t.finance)||void 0===i?void 0:i.institute,D=null===t||void 0===t||null===(d=t.finance)||void 0===d?void 0:d.financeHead,A=null===t||void 0===t?void 0:t.student,T=null===t||void 0===t?void 0:t.internal_fees,z=null===t||void 0===t?void 0:t.order_history;s.addImage(n,"JPEG",9,3,25,25),s.addImage(o,"JPEG",r-34,2.4,25,25),s.setLineWidth(8),s.setDrawColor(255,255,255),s.circle(21.4,15,16),s.setLineWidth(0),s.setLineWidth(8),s.setDrawColor(255,255,255),s.circle(r-21.4,15,16),s.setLineWidth(0);const w=s.splitTextToSize(null===k||void 0===k?void 0:k.insName,146);if(s.setFont(void 0,"normal"),w.length>1){let e=10;s.setFont("700"),s.setTextColor(18,18,18),s.setFontSize(16),s.text(107,e,w,"center"),e=w.length+145}else{let e=10;s.setFont("700"),s.setTextColor(18,18,18),s.setFontSize(18),s.text(107,e,w,"center"),e=w.length+145}s.setFont("Arial","normal","400"),s.setTextColor(18,18,18),s.setFontSize(10),s.text(r/2,w.length>1?23:19,null===k||void 0===k?void 0:k.insAddress,"center"),s.setFont("WorkSans"),s.setTextColor(18,18,18),s.setFontSize(10),s.text(r/2,w.length>1?29:25,"Mob No : ".concat(null===k||void 0===k?void 0:k.insPhoneNumber," , Mail: ").concat(null===k||void 0===k?void 0:k.insEmail),"center"),s.setFont("WorkSans"),s.setTextColor(0,0,0),s.setFontSize(18),s.text(r/2,37,"Fee Receipt","center"),s.setLineWidth(.7),s.setDrawColor(18,18,18),s.line(0,46,r,46),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(9,54,"Invoice No :"),s.setFont(void 0,"normal"),s.setTextColor(0,0,0),s.setFontSize(10),s.text(32,54,null===t||void 0===t?void 0:t.invoice_count),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(r-32,54,"Dated:",{align:"right"}),s.setFont(void 0,"normal"),s.setTextColor(0,0,0),s.setFontSize(10),s.text(r-12,54,l()(null===t||void 0===t?void 0:t.created_at).format("DD-MMM-YYYY"),{align:"right"}),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(9,61,"Purpose:"),s.setFont(void 0,"normal"),s.setTextColor(0,0,0),s.setFontSize(10),s.text(32,61,"".concat(null!==(u=null===T||void 0===T?void 0:T.internal_fee_reason)&&void 0!==u?u:"N/A")),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(9,68,"Amount: "),s.setFont(void 0,"normal"),s.setTextColor(0,0,0),s.setFontSize(10),s.text(32,68,"Rs. ".concat(null===t||void 0===t?void 0:t.fee_payment_amount)),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(11),s.text(9,97," ".concat(N?"Received Through: ":"Paid Through: ")),s.setFont(void 0,"normal"),s.text(44,97,"".concat(null===e||void 0===e?void 0:e.finance_bank_name,", ").concat(null===e||void 0===e?void 0:e.finance_bank_account_name,", A/c No:  ").concat(null===e||void 0===e?void 0:e.finance_bank_account_number)),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.text(9,107," On Account of: ");const M="Being money ".concat(N?"received":"paid"," by ").concat(null===t||void 0===t?void 0:t.fee_payment_mode,", Transaction ID: ").concat(null!==(v=null===z||void 0===z?void 0:z.razorpay_order_id)&&void 0!==v?v:"N/A"," ,  Dated: ").concat(l()(null===t||void 0===t?void 0:t.created_at).format("DD-MMM-YYYY"),"  for Rs. ").concat(null===t||void 0===t?void 0:t.fee_payment_amount,".").concat(N?"From":"To"," ","".concat(null!==(c=null===A||void 0===A?void 0:A.studentFirstName)&&void 0!==c?c:""," ").concat(null!==(_=null===A||void 0===A?void 0:A.studentMiddleName)&&void 0!==_?_:""," ").concat(null!==(f=null===A||void 0===A?void 0:A.studentLastName)&&void 0!==f?f:""," "),", towards ").concat(null!==(m=null===T||void 0===T?void 0:T.internal_fee_reason)&&void 0!==m?m:"N/A","."),j=s.splitTextToSize(M,r-20);if(j.length>1){let e=113,t=10;s.setFont(void 0,"normal"),s.setFontSize(11),s.setTextColor(18,18,18),s.text(t,e,j,"left"),e=j.length+151}else{let e=113,t=10;s.setFontSize(11),s.setFont(void 0,"normal"),s.setTextColor(18,18,18),s.setFontSize(12),s.text(t,e,j,"left"),e=j.length+151}var I,L,Z,P;(s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(11),s.text(9,131,"Bank Transaction Details: "),s.setFont(void 0,"normal"),s.text(9,138,"Payment Mode:  ".concat(null===t||void 0===t?void 0:t.fee_payment_mode)),null!==z&&void 0!==z&&z.razorpay_order_id)?s.text(9,144,"Transaction ID: ".concat(null!==(I=null===z||void 0===z?void 0:z.razorpay_order_id)&&void 0!==I?I:"N/A")):(s.text(9,144,"Bank Name: ".concat(null!==(L=null===e||void 0===e?void 0:e.fee_bank_name)&&void 0!==L?L:"N/A")),s.text(9,150,"Bank Holder Name: ".concat(null!==(Z=null===e||void 0===e?void 0:e.finance_bank_account_name)&&void 0!==Z?Z:"N/A")),s.text(9,156,"UTR / Ref No.: ".concat(null!==(P=null===e||void 0===e?void 0:e.fee_utr_reference)&&void 0!==P?P:"N/A")),s.text(9,162,"Date: ".concat(l()(null===t||void 0===t?void 0:t.created_at).format("DD-MMM-YYYY"))),s.text(9,168,"Amount: ".concat(null===t||void 0===t?void 0:t.fee_payment_amount)),s.text(9,174,"Amount in Words: ".concat((a().toWords(t.fee_payment_amount.toString()).match(/[a-zA-Z0-9]+/g)||[]).map((e=>"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)))).join(" ")," only.")));s.setFontSize(9),s.text(40,240,"".concat(D.staffFirstName," ").concat(null!==(p=D.staffMiddleName)&&void 0!==p?p:""," ").concat(D.staffLastName),{align:"center"}),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(40,245,"Finance Manager",{align:"center"}),s.setFont(void 0,"normal"),s.setFontSize(9),s.text(153,240,"".concat(null!==(h=null===k||void 0===k||null===(x=k.displayPersonList)||void 0===x||null===(F=x[0])||void 0===F||null===(y=F.displayUser)||void 0===y?void 0:y.userLegalName)&&void 0!==h?h:"N/A"),{align:"center"}),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(153,245,"".concat(null!==(g=null===k||void 0===k||null===(b=k.displayPersonList)||void 0===b||null===(S=b[0])||void 0===S?void 0:S.displayTitle)&&void 0!==g?g:"N/A"),{align:"center"}),s.setTextColor(0,0,255),s.setFontSize(7),s.text(r-20,243,"Online Automated",null,50),s.text(r-18,244,"Generated fee receipt",null,50),s.text(r-14,246,"Through Qviple",null,50),s.setLineWidth(.2),s.setDrawColor(18,18,18),s.line(0,251,r,251),s.setTextColor(18,18,18),s.setFontSize(8),s.setFont(void 0,"normal"),s.text(r/2,259,"Note : No one except one who is making this certificate should interfere with any details of this invoice, othewise students will be expelled and legal action will be taken.","center"),window.open(s.output("bloburl",{filename:"".concat(null===A||void 0===A?void 0:A.studentFirstName," ").concat(null!==(C=null===A||void 0===A?void 0:A.studentMiddleName)&&void 0!==C?C:""," ").concat(null===A||void 0===A?void 0:A.studentLastName," -Internal Fee Receipt.pdf")}),"_blank")}},32804:(e,t,n)=>{n.d(t,{Z:()=>o});const o={student_fees_header_container:"StudentAllFeesData_student_fees_header_container__06J8F",student_fees_header_column:"StudentAllFeesData_student_fees_header_column__7WxL2",student_fees_row_amount:"StudentAllFeesData_student_fees_row_amount__2QSk8",student_fees_btn_container:"StudentAllFeesData_student_fees_btn_container__rcsyt",student_fees_btn_container_active:"StudentAllFeesData_student_fees_btn_container_active__LiRxa",student_alll_fees_data:"StudentAllFeesData_student_alll_fees_data__CBPmP",student_admission_fees_container:"StudentAllFeesData_student_admission_fees_container__Fs6dX",student_internal_card:"StudentAllFeesData_student_internal_card__QP2oz",student_internal_card_btn_pay:"StudentAllFeesData_student_internal_card_btn_pay__CzvCh",student_internal_card_btn_paid:"StudentAllFeesData_student_internal_card_btn_paid__KP8Jd"}}}]);
//# sourceMappingURL=75615.b44f2147.chunk.js.map