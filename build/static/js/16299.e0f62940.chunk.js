"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[16299],{34219:(e,n,i)=>{i.d(n,{Z:()=>l});i(72791);var t=i(11575),s=i(80184);const l=e=>{let{customStyleContainer:n,title:i,subtitle:l,costomTextTitleStyle:a,costomTextSubtitleStyle:o}=e;return(0,s.jsxs)("div",{className:t.Z.empty_container,style:n,children:[i&&(0,s.jsx)("h6",{style:a,children:i}),l&&(0,s.jsx)("p",{style:o,children:l})]})}},16299:(e,n,i)=>{i.r(n),i.d(n,{default:()=>A});var t=i(72791);const s="Body_body__Xm3cr",l="Item_item__+4OO3",a="Item_head__q927B",o="Item_text__ODFOX",d="Item_content__Pb5rV",c="Item_bookmark__3jn45";var r=i(69721),v=i(72426),u=i.n(v),m=i(16871),h=i(43504),p=i(80184);const g=function(e){var n,i;let{data:t}=e;const s=(0,m.TH)(),v=(0,m.s0)(),g=(0,m.UO)();return(0,p.jsxs)("div",{className:l,onClick:()=>{v("/q/".concat(g.username,"/notifications?a=announcement&n=detail"),{state:{...s.state,annId:t._id}})},children:[(0,p.jsxs)("div",{className:a,children:[(0,p.jsx)(h.rU,{to:"/q/".concat(null===t||void 0===t||null===(n=t.institute)||void 0===n?void 0:n.name,"/profile"),onClick:e=>{e.stopPropagation()},children:(0,p.jsx)("img",{alt:"Announcement",src:null!==t&&void 0!==t&&t.institute.insProfilePhoto?"".concat(r.yI,"/").concat(null===t||void 0===t?void 0:t.institute.insProfilePhoto):"/images/ins_default_profile.svg"})}),(0,p.jsxs)("div",{className:o,children:[(0,p.jsx)("h6",{children:t&&(null===t||void 0===t?void 0:t.institute.name)}),(0,p.jsxs)("p",{children:[u()(null===t||void 0===t?void 0:t.createdAt).format("MMM Do YY")," |"," ",u()(null===t||void 0===t?void 0:t.createdAt).format("LT")]})]})]}),(0,p.jsx)("div",{className:d,children:(0,p.jsx)("p",{children:(0,p.jsx)("span",{children:null===t||void 0===t||null===(i=t.insAnnTitle)||void 0===i?void 0:i.substr(0,130)})})}),(0,p.jsx)("img",{className:c,src:"/images/bookmark-post.svg",alt:""})]})};var j=i(23441),_=i(91007),x=i(11105),f=i(34219),N=i(95048);const y=function(){var e;const[n,i]=(0,t.useState)([]),[l,a]=(0,j.YD)(),[o,d]=(0,t.useState)(!0),[c,r]=(0,t.useState)(1),v=(0,N.v9)((e=>e.idChange)),[u,m]=(0,t.useState)(!0),{data:h,refetch:y}=(0,_.Im)({id:null===v||void 0===v?void 0:v.id,page:c,limit:10},{skip:!(null!==v&&void 0!==v&&v.id)});return(0,t.useEffect)((()=>{null!==v&&void 0!==v&&v.id&&(m(!0),y())}),[null===v||void 0===v?void 0:v.id,c,y]),(0,t.useEffect)((()=>{a&&o&&r((e=>e+1))}),[a,o]),(0,t.useEffect)((()=>{var e;if(null!==h&&void 0!==h&&h.announcements){const e=[...n,...null===h||void 0===h?void 0:h.announcements],t=[...new Set(e.map(JSON.stringify))].map(JSON.parse);i(t),m(!1)}else 0===(null===h||void 0===h||null===(e=h.announcements)||void 0===e?void 0:e.length)&&m(!1);10===(null===h||void 0===h?void 0:h.announcements.length)?d(!0):d(!1)}),[null===h||void 0===h?void 0:h.announcements]),(0,p.jsxs)("div",{className:s,children:[n.map(((e,i)=>(null===n||void 0===n?void 0:n.length)===i+1?(0,p.jsx)("div",{ref:l,children:(0,p.jsx)(g,{data:e||"",time:null===e||void 0===e?void 0:e.createdAt,date:null===e||void 0===e?void 0:e.createdAt,text:null===e||void 0===e?void 0:e.insAnnDescription})},i):(0,p.jsx)(g,{data:e||"",time:null===e||void 0===e?void 0:e.createdAt,date:null===e||void 0===e?void 0:e.createdAt,text:null===e||void 0===e?void 0:e.insAnnDescription}))),u&&(0,p.jsx)(x.Z,{}),!u&&!(null!==(e=h.announcements)&&void 0!==e&&e.length)&&(0,p.jsx)(f.Z,{customStyleContainer:{marginTop:"5rem",height:"inherit"},title:"No announcement created yet."})]})},b={imgcontainer:"Details_imgcontainer__LhCve",eachposthead:"Details_eachposthead__21L6a",eachpostUserName:"Details_eachpostUserName__J0Qp6",eachpostUserTime:"Details_eachpostUserTime__haFjR",public:"Details_public__WJYXU",details:"Details_details__shTX2",tille:"Details_tille__Z0SzF",description:"Details_description__eDtds",hashTag:"Details_hashTag__nwFfC",hashtag:"Details_hashtag__EBjC7",loader:"Details_loader__doiOW",anndoc:"Details_anndoc__c1Wj2"};var D=i(11968),I=i.n(D),k=i(10307);const T=function(e){var n,i,s,l,a,o,d,c;let{annId:v}=e;const h=(0,m.s0)(),{data:g,isFetching:j,refetch:x}=(0,_.Lr)(v,{skip:!v});return(0,t.useEffect)((()=>{v&&x()}),[v,x]),(0,p.jsx)("div",{className:b.details,children:j?(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:b.loader,children:(0,p.jsx)("img",{src:"/images/loader/loader-bg-white.gif",alt:""})})}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:b.eachposthead,style:{width:"100%",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,p.jsxs)("div",{className:b.eachposthead,style:{alignItems:"flex-start"},children:[(0,p.jsx)("div",{className:b.imgcontainer,children:(0,p.jsx)("img",{alt:"not found",src:"1"!==(null===g||void 0===g||null===(n=g.announcement)||void 0===n?void 0:n.institute.photoId)?"".concat(r.yI,"/").concat(null===g||void 0===g||null===(i=g.announcement)||void 0===i||null===(s=i.institute)||void 0===s?void 0:s.insProfilePhoto):"/images/ins_default_profile.svg"})}),(0,p.jsxs)("div",{className:b.eachpostUserName,children:[(0,p.jsx)("h6",{children:g&&g.announcement&&(null===(l=g.announcement.institute)||void 0===l?void 0:l.insName)}),(0,p.jsxs)("div",{className:b.eachpostUserTime,style:{display:"flex",gap:"0.5vw",alignItems:"center"},children:[(0,p.jsx)("p",{children:g&&u()(null===(a=g.announcement)||void 0===a?void 0:a.createdAt).format("DD-M-YYYY")}),"Private"===(null===g||void 0===g||null===(o=g.announcement)||void 0===o?void 0:o.insAnnVisibility)?(0,p.jsx)("img",{className:b.public,src:"/images/post-private-icon.svg",alt:"Private"}):(0,p.jsx)("img",{className:b.public,src:"/images/privacy-icon.svg",alt:"Public"})]})]})]}),(0,p.jsx)("img",{src:"/images/close-post-icon.svg",onClick:()=>{h(-1)},alt:"close",style:{cursor:"pointer"}})]}),(0,p.jsxs)("div",{className:b.Container,children:[(0,p.jsx)("p",{className:b.tille,children:g&&(null===(d=g.announcement)||void 0===d?void 0:d.insAnnTitle)}),(0,p.jsx)("hr",{}),(0,p.jsxs)("p",{className:b.description,style:{whiteSpace:"break-spaces"},children:[g&&(null===(c=g.announcement)||void 0===c?void 0:c.insAnnDescription)," "]}),(0,p.jsx)("p",{className:b.description}),(0,p.jsx)("div",{className:b.documentContainer,children:(0,p.jsx)(I(),{className:"Example",autoPlay:!1,indicators:!0,navButtonsAlwaysVisible:!1,navButtonsAlwaysInvisible:!1,next:(e,n)=>{},prev:(e,n)=>{},onChange:(e,n)=>{},children:null===g||void 0===g?void 0:g.announcement.announcementDocument.map((e=>"image/jpeg"===e.documentType||"image/png"===e.documentType||(0,k.Y)(null===e||void 0===e?void 0:e.documentKey)?(0,p.jsx)("div",{className:b.anndoc,children:(0,p.jsx)("img",{className:b.selectedImg,src:"".concat(r.yI,"/").concat(null===e||void 0===e?void 0:e.documentKey),alt:null===e||void 0===e?void 0:e.documentName,style:{width:"100%",height:"auto"}})}):(0,p.jsx)("div",{className:b.anndoc,children:(0,p.jsx)("a",{title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.documentKey),target:"_blank",rel:"noopener noreferrer",children:(0,p.jsx)("img",{className:b.selectedImg,src:"/images/pdf-icon.png",alt:null===e||void 0===e?void 0:e.documentName,style:{width:"100%",height:"auto"}})})})))})})]})]})})};const A=function(){var e;const[n]=(0,h.lr)(),i=(0,m.TH)();return(0,p.jsx)(p.Fragment,{children:n.get("n")?(0,p.jsx)(T,{annId:null===(e=i.state)||void 0===e?void 0:e.annId}):(0,p.jsx)(y,{})})}},10307:(e,n,i)=>{i.d(n,{Y:()=>s});let t=[".jpg",".jpeg",".jpe",".pjpeg",".pjp",".apng",".jif",".jfif",".jfi",".png",".gif",".webp",".tiff",".tif",".psd",".heif",".heic",".svg",".svgz",".ai",".eps",".avif"];const s=e=>{let n=!1;for(let i of t)if(null!==e&&void 0!==e&&e.includes(i)){n=!0;break}return n}}}]);
//# sourceMappingURL=16299.e0f62940.chunk.js.map