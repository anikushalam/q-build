"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[35518,56223,49806,86406],{53967:(e,n,l)=>{l.d(n,{Z:()=>d});var t=l(72791);const i=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],o=["January","February","March","April","May","June","July","August","September","October","November","December"],d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;const l=new Date,d="".concat(l.getDate(),"-").concat(l.getMonth()+1,"-").concat(l.getFullYear()),[a,s]=(0,t.useState)(l),c=new Date(a.getFullYear(),a.getMonth()+1,0).getDate(),r=new Date(a.getFullYear(),a.getMonth(),1).getDay(),u=[1,2,3,4,5,6,0].indexOf(r)+1;let v=1;const m={},_=[];for(let t=1;t<7;t++){for(let e=1;e<8;e++)m[t]||(m[t]=[]),1===t?e<u||(m[t]=[...m[t],{classes:"",date:"".concat(v,"-").concat(a.getMonth()+1,"-").concat(a.getFullYear()),value:v}],v++):t>1&&v<c+1&&(m[t]=[...m[t],{classes:"",date:"".concat(v,"-").concat(a.getMonth()+1,"-").concat(a.getFullYear()),value:v}],v++);m[t].map((e=>{const n=e.date.split("-")[0],l=new Date(a.getFullYear(),a.getMonth(),n).getDay();return _.push({date:e.date,day:l}),""}))}return{daysShort:e,monthNames:n,todayFormatted:d,calendarData:_,selectedDate:a,getPrevMonth:()=>{s((e=>new Date(e.getFullYear(),e.getMonth()-1,1)))},getNextMonth:()=>{s((e=>new Date(e.getFullYear(),e.getMonth()+1,1)))},switchMonth:e=>{s((n=>new Date(n.getFullYear(),n.getMonth()+(e-a.getMonth()),1))),console.log(o[a.getMonth()])}}}},9490:(e,n,l)=>{l.d(n,{Z:()=>a});var t=l(72791),i=l(53967),o=l(16313),d=l(80184);const a=e=>{let{setValidDate:n}=e;const{calendarData:l,selectedDate:a,todayFormatted:s,switchMonth:c,monthNames:r,getNextMonth:u,getPrevMonth:v}=(0,i.Z)(),[m,_]=(0,t.useState)(s),[p,h]=(0,t.useState)(!1);(0,t.useEffect)((()=>{if(m){const e=m.split("-"),l=e[0]>9?e[0]:"0".concat(e[0]),t=e[1]>9?e[1]:"0".concat(e[1]),i=e[2];n("".concat(i,"-").concat(t,"-").concat(l))}}),[m]);const f=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],g=Math.floor(l.map((function(e){return e.date})).indexOf(m)/7),[x,j]=(0,t.useState)(g),y=7*x,N=Math.ceil(l.length/7),b=l.slice(y,y+7).map(((e,n)=>(0,d.jsxs)("div",{className:e.date===m?"".concat(o.Z.date," ").concat(o.Z.clickedDate):o.Z.date,onClick:()=>_(e.date),children:[(0,d.jsx)("h6",{children:e.date.split("-")[0]}),(0,d.jsx)("p",{children:f[e.day]})]},n)));return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:o.Z.changemonth,children:[(0,d.jsxs)("h6",{onClick:()=>h(!p),children:[r[a.getMonth()]," ",a.getFullYear()]}),(0,d.jsx)("img",{alt:"not found",src:"/images/dropdown-icon.svg",onClick:()=>h(!p)}),p&&(0,d.jsx)("div",{className:o.Z.selectMonthList,children:["January","February","March","April","May","June","July","August","September","October","November","December"].map(((e,n)=>(0,d.jsx)("div",{className:o.Z.month,onClick:()=>{c(n),h(!1)},children:e},n)))})]}),(0,d.jsxs)("div",{className:o.Z.calender,children:[(0,d.jsx)("div",{className:o.Z.arrowbtn,onClick:()=>{x>0?j((e=>e-1)):(j(N-1),v())},children:(0,d.jsx)("img",{alt:"not found",src:"/images/members/left-icon.svg"})}),(0,d.jsx)("div",{className:o.Z.dates,children:b}),(0,d.jsx)("div",{className:o.Z.arrowbtn,onClick:()=>{x+1<N?j((e=>e+1)):(j(0),u())},children:(0,d.jsx)("img",{alt:"not found",src:"/images/members/right-icon.svg"})})]})]})}},7562:(e,n,l)=>{l.d(n,{nj:()=>t});const t=[{id:"nskjdfs",key:!0,name:"yes"},{id:"snkjdfs",key:!1,name:"no"}]},23984:(e,n,l)=>{l.d(n,{Z:()=>o});var t=l(80476),i=l(80184);const o=e=>{let{customStyle:n,children:l}=e;return(0,i.jsx)("div",{className:t.Z.btn_wrapper,style:n,children:l})}},31697:(e,n,l)=>{l.d(n,{Z:()=>d});var t=l(39230),i=l(80476),o=l(80184);const d=e=>{let{label:n,count:l,onAction:d,customStyle:a}=e;const{t:s}=(0,t.$G)();return(0,o.jsxs)("div",{className:i.Z.btn_container,onClick:e=>{d(e)},style:a,children:[l>0&&(0,o.jsx)("span",{style:{marginRight:"0.8rem"},children:l}),s(n)]})}},45100:(e,n,l)=>{l.d(n,{Z:()=>d});var t=l(39230),i=l(80476),o=l(80184);const d=e=>{let{label:n,count:l,onAction:d,customStyle:a,isTranslate:s,showZero:c,children:r}=e;const{t:u}=(0,t.$G)();return s?(0,o.jsxs)("div",{className:i.Z.ccb_button,onClick:d,style:a,children:[r,c?(0,o.jsx)("span",{style:{marginRight:"0.3rem"},children:l}):l>0?(0,o.jsxs)("span",{style:{marginRight:"0.3rem"},children:[l," "]}):null,n]}):(0,o.jsxs)("div",{className:i.Z.ccb_button,onClick:d,style:a,children:[r,c?(0,o.jsx)("span",{style:{marginRight:"0.3rem"},children:l}):l>0?(0,o.jsxs)("span",{style:{marginRight:"0.3rem"},children:[l," "]}):null,u(n)]})}},8959:(e,n,l)=>{l.d(n,{Z:()=>o});var t=l(52245),i=l(80184);const o=e=>{let{label:n,value:l,customFormInputContainer:o,customFormInputLabel:d,customFormInput:a,children:s}=e;return(0,i.jsxs)("div",{className:t.Z.form_read_input_container,style:o,children:[n?(0,i.jsx)("label",{className:t.Z.form_read_input_label,style:d,children:n}):null,s,(0,i.jsx)("h6",{className:t.Z.form_read_input,style:a,children:l})]})}},19056:(e,n,l)=>{l.d(n,{Z:()=>s});var t=l(72791),i=l(39230),o=l(52245),d=l(98684),a=l(80184);const s=e=>{let{selectLabel:n,onClick:l,selectedValue:s,options:c,customStyleContainer:r,customLabelStyle:u,customListStyle:v,errorShow:m,defalutValue:_,isDenied:p,customFormInput:h}=e;const{t:f}=(0,i.$G)(),[g,x]=(0,t.useState)(!1),[j,y]=(0,t.useState)(""),N=()=>{p||x((e=>!e))};(0,t.useEffect)((()=>{_&&y(_)}),[_]);return(0,a.jsxs)("div",{className:o.Z.form_input_container,style:{...r},children:[(0,a.jsxs)("p",{className:o.Z.join_form_select_paragraph,style:{...u},children:[n,m&&(0,a.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",f("form_require_label")]})]}),(0,a.jsxs)("section",{className:o.Z.join_form_select_custom,onClick:N,children:[j?(0,a.jsx)("p",{className:o.Z.join_form_select_custom_paragraph,style:h,children:null!==j&&void 0!==j?j:""}):(0,a.jsx)("p",{className:o.Z.join_form_select_custom_paragraph,style:h,children:s}),g?(0,a.jsx)("img",{className:o.Z.join_form_select_custom_rotate_icon,src:"".concat(d.J7,"/down.svg"),alt:"categor icon"}):(0,a.jsx)("img",{className:o.Z.join_form_select_custom_icon,src:"".concat(d.J7,"/down.svg"),alt:"categor icon"})]}),(0,a.jsx)("section",{children:g&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("section",{className:o.Z.join_form_select_custom_list,style:v,children:null===c||void 0===c?void 0:c.map(((e,n)=>(0,a.jsx)("p",{onClick:()=>{return l(n=e),N(),void y(n);var n},className:o.Z.join_form_select_custom_paragraph_option,children:e},n)))})})})]})}},63162:(e,n,l)=>{l.d(n,{Z:()=>c});var t=l(39230),i=l(51416),o=l(43504),d=l(72791),a=l(80184);const s=e=>{let{tab:n,isActive:l,isLink:d,parentState:s,onAction:c,url:r,extraData:u,customStyle:v}=e;const{t:m}=(0,t.$G)();return d?(0,a.jsx)(o.rU,{className:l?i.Z.horizontal_tab_card_active:i.Z.horizontal_tab_card,to:r,state:s,style:v,children:(0,a.jsxs)("h6",{children:[m(null===n||void 0===n?void 0:n.label),(null===u||void 0===u?void 0:u.count)>=0?"(".concat(null===u||void 0===u?void 0:u.count,")"):""]})}):(0,a.jsx)("div",{className:l?i.Z.horizontal_tab_card_active:i.Z.horizontal_tab_card,onClick:()=>{c(null===n||void 0===n?void 0:n.id)},children:(0,a.jsx)("h6",{children:m(null===n||void 0===n?void 0:n.label)})})},c=(0,d.memo)(s)},98967:(e,n,l)=>{l.d(n,{Z:()=>o});var t=l(51416),i=l(80184);const o=e=>{let{customWrapperStyle:n,children:l}=e;return(0,i.jsx)("div",{className:t.Z.horizontal_tab_wrapper,style:n,children:l})}},5142:(e,n,l)=>{l.r(n),l.d(n,{default:()=>Be});var t=l(43504),i=l(16871),o=l(43317),d=l(72791),a=l(39230),s=l(23441),c=l(91427),r=l(98684),u=l(56959),v=l(21348),m=l(90904),_=l(98967),p=l(63162),h=l(38857),f=l(16925),g=l(9490),x=l(75285),j=l(85794),y=l(55336),N=l(93638),b=l(20293),I=l(80184);const Z=e=>{var n,l,t,s,c,u,_,p,Z,C,A,k,w;let{applicationDetail:P,onClose:D,applicationDetailApplicablePending:T}=e;const F=(0,i.TH)(),O=(0,i.UO)(),M=(0,i.s0)(),{t:R}=(0,a.$G)(),E=new Date,[U,L]=(0,d.useState)(!1),[G,q]=(0,d.useState)(!1),[z,H]=(0,d.useState)(null===(n=E.toISOString())||void 0===n?void 0:n.substring(0,10)),[Y,J]=(0,d.useState)({open:!1,msg:"",variant:"error"}),[V]=(0,b.ps)(),{admissionOngoingApplicationDailyCollect:B}=(0,o.Be)({data:{appId:null===P||void 0===P?void 0:P._id,valid_date:z},skip:!(null!==P&&void 0!==P&&P._id)}),W=()=>{null!==P&&void 0!==P&&P._id&&(L((e=>!e)),V({appId:null===P||void 0===P?void 0:P._id}).then((e=>{var n;if(null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.complete_status){var l;let e="Institute"===(null===(l=F.state)||void 0===l?void 0:l.urlOffSet)?"/q/".concat(O.username,"/institute/member/admission?type=hostel-ongoing"):"/q/".concat(O.username,"/member/staff/admission?type=hostel-ongoing");M(e,{state:F.state})}else J({msg:null===e||void 0===e?void 0:e.data.message,open:!0,variant:"error"});D(),L((e=>!e))})).catch({}))};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(h.Z,{onClose:D,children:(0,I.jsxs)("div",{className:f.Z.modal_container,children:[(0,I.jsx)(v.default,{children:(0,I.jsxs)("div",{className:f.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:f.Z.modal_container_header,children:(0,I.jsx)("h6",{style:{cursor:"pointer",color:"#436dfa"},onClick:()=>q((e=>!e)),children:null===P||void 0===P?void 0:P.applicationName})}),(0,I.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:D})]})}),(0,I.jsx)(m.Z,{}),(0,I.jsxs)(v.default,{customStyle:{paddingTop:"0"},children:[(0,I.jsx)(g.Z,{setValidDate:H}),G?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:x.Z.content2,children:[(0,I.jsxs)("div",{className:x.Z.appinforow,children:[(0,I.jsx)("h6",{children:R("total_received_application")}),(0,I.jsx)("h6",{children:null===P||void 0===P?void 0:P.receievedCount})]}),(0,I.jsxs)("div",{className:x.Z.appinforow,children:[(0,I.jsx)("h6",{children:R("total_selected_application")}),(0,I.jsx)("h6",{children:null===P||void 0===P?void 0:P.selectCount})]}),(0,I.jsxs)("div",{className:x.Z.appinforow,children:[(0,I.jsx)("h6",{children:R("total_confirmed_application")}),(0,I.jsx)("h6",{children:null===P||void 0===P?void 0:P.confirmCount})]}),(0,I.jsxs)("div",{className:x.Z.appinforow,children:[(0,I.jsx)("h6",{children:R("total_alloted_application")}),(0,I.jsx)("h6",{children:null===P||void 0===P?void 0:P.allotCount})]}),(0,I.jsxs)("div",{className:x.Z.appinforow,children:[(0,I.jsx)("h6",{children:R("total_cancelled_application")}),(0,I.jsx)("h6",{children:null===P||void 0===P?void 0:P.cancelCount})]})]}),(0,I.jsxs)("div",{className:x.Z.content3,children:[(0,I.jsxs)("div",{className:x.Z.appinforow1,children:[(0,I.jsx)("h6",{children:R("total_fees_received")}),(0,I.jsxs)("h6",{children:["Rs. ",null===P||void 0===P?void 0:P.collectedFeeCount]})]}),(0,I.jsxs)("div",{className:"".concat(x.Z.appinforow2," ").concat(x.Z.appinforowred),children:[(0,I.jsx)("h6",{children:R("total_fees_pending")}),(0,I.jsxs)("h6",{children:["Rs. ",null===P||void 0===P?void 0:P.remainingFee]})]}),(0,I.jsxs)("div",{className:"".concat(x.Z.appinforow2," ").concat(x.Z.appinforowred),children:[(0,I.jsx)("h6",{children:R("total_applicable_fees_pending")}),(0,I.jsxs)("h6",{children:["Rs. ",null!==T&&void 0!==T?T:0]})]}),S[null===(k=F.state)||void 0===k?void 0:k.isAuthorization]?null:(0,I.jsx)(I.Fragment,{children:null!==(w=F.state)&&void 0!==w&&w.role?null:(0,I.jsx)(N.Z,{label:R("complete_application"),onAction:W})})]})]}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:x.Z.content2,children:[(0,I.jsxs)("div",{className:x.Z.appinforow,children:[(0,I.jsx)("h6",{children:R("total_received_application")}),(0,I.jsx)("h6",{children:null!==(l=null===B||void 0===B?void 0:B.request_count)&&void 0!==l?l:0})]}),(0,I.jsxs)("div",{className:x.Z.appinforow,children:[(0,I.jsx)("h6",{children:R("total_selected_application")}),(0,I.jsx)("h6",{children:null!==(t=null===B||void 0===B?void 0:B.select_count)&&void 0!==t?t:0})]}),(0,I.jsxs)("div",{className:x.Z.appinforow,children:[(0,I.jsx)("h6",{children:R("total_confirmed_application")}),(0,I.jsx)("h6",{children:null!==(s=null===B||void 0===B?void 0:B.confirm_count)&&void 0!==s?s:0})]}),(0,I.jsxs)("div",{className:x.Z.appinforow,children:[(0,I.jsx)("h6",{children:R("total_alloted_application")}),(0,I.jsx)("h6",{children:null!==(c=null===B||void 0===B?void 0:B.allot_count)&&void 0!==c?c:0})]}),(0,I.jsxs)("div",{className:x.Z.appinforow,children:[(0,I.jsx)("h6",{children:R("total_cancelled_application")}),(0,I.jsx)("h6",{children:null!==(u=null===B||void 0===B?void 0:B.cancel_count)&&void 0!==u?u:0})]})]}),(0,I.jsxs)("div",{className:x.Z.content3,children:[(0,I.jsxs)("div",{className:x.Z.appinforow1,children:[(0,I.jsx)("h6",{children:R("total_fees_received")}),(0,I.jsxs)("h6",{children:["Rs. ",null!==(_=null===B||void 0===B?void 0:B.paid)&&void 0!==_?_:0]})]}),(0,I.jsxs)("div",{className:"".concat(x.Z.appinforow2," ").concat(x.Z.appinforowred),children:[(0,I.jsx)("h6",{children:R("total_fees_pending")}),(0,I.jsxs)("h6",{children:["Rs. ",null!==(p=null===B||void 0===B?void 0:B.remain)&&void 0!==p?p:0]})]}),(0,I.jsxs)("div",{className:"".concat(x.Z.appinforow2," ").concat(x.Z.appinforowred),children:[(0,I.jsx)("h6",{children:R("total_applicable_fees_pending")}),(0,I.jsxs)("h6",{children:["Rs."," ",null!==(Z=null===B||void 0===B?void 0:B.applicable_pending)&&void 0!==Z?Z:0]})]}),S[null===(C=F.state)||void 0===C?void 0:C.isAuthorization]?null:(0,I.jsx)(I.Fragment,{children:null!==(A=F.state)&&void 0!==A&&A.role?null:(0,I.jsx)(N.Z,{label:R("complete_application"),onAction:W})})]})]})]})]})}),U&&(0,I.jsx)(y.default,{}),(0,I.jsx)(j.Z,{eventState:Y,eventStateHandler:J})]})},S={isCompleted:!0};var C=l(65841);const A=e=>{var n,l,o,a;let{applicationDetail:s,children:c}=e;const h=(0,i.TH)(),f=(0,i.UO)(),g=(0,i.s0)(),[x]=(0,t.lr)(),[j,y]=(0,d.useState)(""),N=(0,d.useCallback)((()=>{var e,n,l;let t="";t=w[null===(e=h.state)||void 0===e?void 0:e.isAuthorization]?"Institute"===(null===(n=h.state)||void 0===n?void 0:n.urlOffSet)?"/q/".concat(f.username,"/institute/member/admission?type=complete"):"/q/".concat(f.username,"/member/staff/admission?type=complete"):"Institute"===(null===(l=h.state)||void 0===l?void 0:l.urlOffSet)?"/q/".concat(f.username,"/institute/member/admission?type=hostel-ongoing"):"/q/".concat(f.username,"/member/staff/admission?type=hostel-ongoing"),g(t,{state:h.state})}),[g,h.state,f.username]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(v.default,{children:(0,I.jsxs)("div",{className:u.Z.fm_header_container,children:[(0,I.jsxs)("div",{className:u.Z.fm_header_start_container,style:{gap:"0.2rem"},children:[(0,I.jsx)("img",{alt:"search icon",src:"".concat(r.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:N}),(0,I.jsx)("h6",{children:null!==(n=null===(l=h.state)||void 0===l?void 0:l.applicationName)&&void 0!==n?n:""})]}),(0,I.jsxs)("div",{className:u.Z.fm_search,children:[(0,I.jsx)("img",{src:"".concat(r.U_,"/application-detail.svg"),alt:"icon",title:"Application details",onClick:()=>{y(1)}}),c]})]})}),(0,I.jsx)(m.Z,{}),null!==(o=h.state)&&void 0!==o&&o.subRole?(0,I.jsx)(_.Z,{children:C.IC[null===(a=h.state)||void 0===a?void 0:a.subRole].map((e=>{var n,l,t,i;return(0,I.jsx)(p.Z,{tab:e,isLink:!0,isActive:null===(n=e.groupIs)||void 0===n?void 0:n.includes(x.get("n")),parentState:h.state,url:"Institute"===(null===(l=h.state)||void 0===l?void 0:l.urlOffSet)?"/q/".concat(f.username,"/institute/member/admission?type=hostel-ongoing-detail").concat(e.urlKey):"/q/".concat(f.username,"/member/staff/admission?type=hostel-ongoing-detail").concat(e.urlKey),extraData:(null===(t=h.state)||void 0===t?void 0:t.applicationData)&&{count:null===(i=h.state)||void 0===i?void 0:i.applicationData[null===e||void 0===e?void 0:e.id]}},null===e||void 0===e?void 0:e.id)}))}):(0,I.jsx)(_.Z,{children:k.map((e=>{var n,l,t,i;return(0,I.jsx)(p.Z,{tab:e,isLink:!0,isActive:null===(n=e.groupIs)||void 0===n?void 0:n.includes(x.get("n")),parentState:h.state,url:"Institute"===(null===(l=h.state)||void 0===l?void 0:l.urlOffSet)?"/q/".concat(f.username,"/institute/member/admission?type=hostel-ongoing-detail").concat(e.urlKey):"/q/".concat(f.username,"/member/staff/admission?type=hostel-ongoing-detail").concat(e.urlKey),extraData:(null===(t=h.state)||void 0===t?void 0:t.applicationData)&&{count:null===(i=h.state)||void 0===i?void 0:i.applicationData[null===e||void 0===e?void 0:e.id]}},null===e||void 0===e?void 0:e.id)}))}),(0,I.jsx)(m.Z,{customStyleBorder:{marginTop:"0"}}),1===j?(0,I.jsx)(Z,{applicationDetail:s,onClose:()=>{y("")}}):null]})},k=[{label:"application",id:"application",urlKey:"",groupIs:["",null]},{label:"docs_collection",id:"document",urlKey:"&n=document",groupIs:["document"]},{label:"fees_collection",id:"fees",urlKey:"&n=fees",groupIs:["fees"]},{label:"confirmed",id:"confirmed",urlKey:"&n=confirmed",groupIs:["confirmed","confirmed-multi"]},{label:"review",id:"review",urlKey:"&n=review",groupIs:["review","review-multi"]},{label:"allottment",id:"allottment",urlKey:"&n=allottment",groupIs:["allottment"]},{label:"cancelled",id:"cancelled",urlKey:"&n=cancelled",groupIs:["cancelled"]}],w={isCompleted:!0};var P=l(63687),D=l(2651),T=l(1669),F=l(1095),O=l(97892),M=l.n(O),R=l(23984),E=l(31697),U=l(99183),L=l(11468);const G=e=>{let{onClose:n,sid:l,appId:t,onRefetch:o,isProfile:s,setWhichSelect:c,staffID:u}=e;const{t:_}=(0,a.$G)(),p=(0,i.TH)(),[g,x]=(0,d.useState)(!1),[j,Z]=(0,d.useState)(""),[S,C]=(0,d.useState)({reason:""}),[A]=(0,b.Cz)();return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(h.Z,{onClose:n,children:(0,I.jsxs)("div",{className:f.Z.modal_container,children:[(0,I.jsx)(v.default,{children:(0,I.jsxs)("div",{className:f.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:f.Z.modal_container_header,children:(0,I.jsx)("h6",{children:_("cancel_admission_application")})}),(0,I.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,I.jsx)(m.Z,{}),(0,I.jsxs)(v.default,{customStyle:{paddingTop:"0"},children:[(0,I.jsx)(L.Z,{label:_("reason"),placeholder:_("please_enter_reject_reason"),name:"reason",value:S.reason,type:"text",onChange:e=>{C((n=>({...n,[e.target.name]:e.target.value})))},errorShow:j.reason}),(0,I.jsx)(N.Z,{label:"confirm",onAction:()=>{let e=(0,U.l)(S);var i;(0,U.x)(e)?t&&l&&(x((e=>!e)),A({sid:l,appId:t,bodyParameter:{...S,staffId:u||(null===(i=p.state)||void 0===i?void 0:i.sid)}}).then((()=>{s?c(!1):o(),x((e=>!e)),n()})).catch((()=>{x((e=>!e))}))):Z(e)}})]})]})}),g&&(0,I.jsx)(y.default,{})]})},q=e=>{let{onClose:n,sid:l,appId:t,onRefetch:o,isProfile:s,setWhichSelect:c,staffID:u}=e;const{t:_}=(0,a.$G)(),p=(0,i.TH)(),[g,x]=(0,d.useState)(!1),[j,Z]=(0,d.useState)(""),[S,C]=(0,d.useState)({reason:""}),[A]=(0,b.lw)();return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(h.Z,{onClose:n,children:(0,I.jsxs)("div",{className:f.Z.modal_container,children:[(0,I.jsx)(v.default,{children:(0,I.jsxs)("div",{className:f.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:f.Z.modal_container_header,children:(0,I.jsx)("h6",{children:_("cancel_admission_application_form_update")})}),(0,I.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,I.jsx)(m.Z,{}),(0,I.jsxs)(v.default,{customStyle:{paddingTop:"0"},children:[(0,I.jsx)(L.Z,{label:_("reason"),placeholder:_("please_enter_reject_reason"),name:"reason",value:S.reason,type:"text",onChange:e=>{C((n=>({...n,[e.target.name]:e.target.value})))},errorShow:j.reason}),(0,I.jsx)(N.Z,{label:"confirm",onAction:()=>{let e=(0,U.l)(S);var i;(0,U.x)(e)?t&&l&&(x((e=>!e)),A({sid:l,appId:t,bodyParameter:{...S,staffId:u||(null===(i=p.state)||void 0===i?void 0:i.sid)}}).then((()=>{s?c(!1):o(),x((e=>!e)),n()})).catch((()=>{x((e=>!e))}))):Z(e)}})]})]})}),g&&(0,I.jsx)(y.default,{})]})};var z=l(45100),H=l(8959);const Y=e=>{let{onClose:n,reason:l}=e;const{t:t}=(0,a.$G)();return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(h.Z,{onClose:n,children:(0,I.jsxs)("div",{className:f.Z.modal_container,children:[(0,I.jsx)(v.default,{children:(0,I.jsxs)("div",{className:f.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:f.Z.modal_container_header,children:(0,I.jsx)("h6",{children:t("cancel_admission_application_rejected_reason")})}),(0,I.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,I.jsx)(m.Z,{}),(0,I.jsx)(v.default,{customStyle:{paddingTop:"0"},children:(0,I.jsx)(H.Z,{value:l})})]})})})};var J=l(82824);const V=e=>{let{onClose:n,studentId:l}=e;const{t:t}=(0,a.$G)(),{oneHostelApplicationStaffActionShow:i,oneHostelApplicationStaffActionShowLoading:o}=(0,b.gE)({data:{sid:l},skip:!l});return(0,I.jsx)(h.Z,{onClose:n,children:(0,I.jsxs)("div",{className:f.Z.modal_container,children:[(0,I.jsx)(v.default,{children:(0,I.jsxs)("div",{className:f.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:f.Z.modal_container_header,children:(0,I.jsx)("h6",{children:t("student_admission_logs")})}),(0,I.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,I.jsx)(m.Z,{}),(0,I.jsxs)(v.default,{customStyle:{paddingTop:"0"},children:[(0,I.jsx)("div",{className:f.Z.card_container_inner,children:null===i||void 0===i?void 0:i.map(((e,n)=>{var l,i;return(0,I.jsxs)(d.Fragment,{children:[(0,I.jsxs)("h6",{children:[(0,I.jsxs)("span",{style:{fontWeight:"400"},children:[null===e||void 0===e?void 0:e.key," : "]}),null!==(l=null===e||void 0===e?void 0:e.value)&&void 0!==l?l:""]}),null!==e&&void 0!==e&&e.latest?(0,I.jsxs)("p",{children:[t("date_and_time"),": ",null===(i=M()(null===e||void 0===e?void 0:e.latest))||void 0===i?void 0:i.format("DD/MM/YYYY"),", ",(0,J.J)(null===e||void 0===e?void 0:e.latest,"LT")]}):null,(0,I.jsx)(m.Z,{})]},"".concat(null===e||void 0===e?void 0:e.key).concat(n))}))}),o&&(0,I.jsx)(T.Z,{}),0===(null===i||void 0===i?void 0:i.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No logs."})]})]})})};var B=l(13421);const W=e=>{var n,l,t,o,s,c,u,v,m,_,p,h,f,g,j,N,Z,S,C,A,k,w,P,D,T,O,U,L,H,J,W,$,K;let{instituteId:Q,applicant:X,hid:ee,bid:ne,cmid:le,appId:te,onRefetch:ie,admissionIntake:oe,unitId:de}=e;const{t:ae}=(0,a.$G)(),se=(0,i.UO)(),ce=(0,i.s0)(),re=(0,i.TH)(),[ue,ve]=(0,d.useState)(""),[me,_e]=(0,d.useState)(!1),[pe]=(0,b.jL)(),he=(0,d.useCallback)((()=>{var e,n,l;ce("/q/".concat(se.username,"/student/profile"),{state:{sid:null===X||void 0===X||null===(e=X.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:Q,whichUrl:"Institute"===(null===(n=re.state)||void 0===n?void 0:n.urlOffSet)?"INSTITUTE":null,onlyReadView:null===(l=re.state)||void 0===l?void 0:l.role}})}),[ce,se.username,Q,null===X||void 0===X||null===(n=X.student)||void 0===n?void 0:n._id,te,ee,ne,le]),fe=()=>{ve("")};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:x.Z.oac_container,onClick:he,title:"View Profile",children:[(0,I.jsxs)("div",{className:x.Z.oac_container_inner,children:[(0,I.jsx)("img",{alt:"Student Request Avatar",src:null!==X&&void 0!==X&&null!==(l=X.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(F.yI,"/").concat(null===X||void 0===X||null===(t=X.student)||void 0===t?void 0:t.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,I.jsxs)("div",{className:x.Z.oac_container_inner_info,children:[(0,I.jsx)("h6",{children:"".concat(null!==(o=null===X||void 0===X||null===(s=X.student)||void 0===s?void 0:s.studentFirstName)&&void 0!==o?o:""," ").concat(null!==X&&void 0!==X&&null!==(c=X.student)&&void 0!==c&&c.studentMiddleName?null===X||void 0===X||null===(u=X.student)||void 0===u?void 0:u.studentMiddleName:""," ").concat(null!==(v=null===X||void 0===X||null===(m=X.student)||void 0===m?void 0:m.studentLastName)&&void 0!==v?v:"")}),(0,I.jsxs)("p",{children:[ae("form_no_only"),": ",null!==(_=null===X||void 0===X||null===(p=X.student)||void 0===p?void 0:p.form_no)&&void 0!==_?_:""]}),(0,I.jsxs)("p",{children:[ae("applied_on"),":"," ",M()(null===X||void 0===X?void 0:X.apply_on).format("DD MMM YYYY")]})]})]}),(0,I.jsxs)("div",{className:x.Z.oac_container_contact,children:[(0,I.jsxs)("div",{className:x.Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(r.U_,"/gender.svg"),alt:"email icon"}),(0,I.jsx)("p",{children:null===X||void 0===X||null===(h=X.student)||void 0===h?void 0:h.studentGender})]}),(0,I.jsxs)("div",{className:x.Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(r.U_,"/phone.svg"),alt:"phone icon"}),(0,I.jsx)("p",{children:null!==X&&void 0!==X&&null!==(f=X.student)&&void 0!==f&&null!==(g=f.user)&&void 0!==g&&g.userPhoneNumber?null===X||void 0===X||null===(j=X.student)||void 0===j||null===(N=j.user)||void 0===N?void 0:N.userPhoneNumber:null!==X&&void 0!==X&&null!==(Z=X.student)&&void 0!==Z&&null!==(S=Z.user)&&void 0!==S&&S.userEmail?null===X||void 0===X||null===(C=X.student)||void 0===C||null===(A=C.user)||void 0===A?void 0:A.userEmail:null!==X&&void 0!==X&&null!==(k=X.student)&&void 0!==k&&k.studentPhoneNumber?null===X||void 0===X||null===(w=X.student)||void 0===w?void 0:w.studentPhoneNumber:null!==X&&void 0!==X&&null!==(P=X.student)&&void 0!==P&&P.studentParentsPhoneNumber?null===X||void 0===X||null===(D=X.student)||void 0===D?void 0:D.studentParentsPhoneNumber:null!==(T=null===X||void 0===X||null===(O=X.student)||void 0===O?void 0:O.studentEmail)&&void 0!==T?T:""})]})]}),(0,I.jsxs)("div",{className:x.Z.oac_container_stuff,children:[(0,I.jsx)("a",{href:"".concat(F.q2,"/").concat(null===X||void 0===X||null===(U=X.student)||void 0===U||null===(L=U.application_print)||void 0===L||null===(H=L[0])||void 0===H?void 0:H.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,I.jsx)("img",{src:"".concat(r.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),"ONGOING_VIEW_ACCESS"===(null===(J=re.state)||void 0===J?void 0:J.role)?null:(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(R.Z,{children:null!==X&&void 0!==X&&X.reject_status?(0,I.jsx)(z.Z,{label:"rejection_reason",onAction:e=>{e.stopPropagation(),ve(4)},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px","--ccb-bg":"#e6686830","--ccb-b":"#ed4a4a","--ccb-text":"#f00b0b","--ccb-bg-h":"#eb3232","--ccb-text-h":"#ffffff",minWidth:"max-content",justifyContent:"center"}}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(E.Z,{label:"select",onAction:e=>{e.stopPropagation(),ve(1)},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}}),(0,I.jsx)(E.Z,{label:"reject",onAction:e=>{e.stopPropagation(),ve(2)},customStyle:{padding:"0.4rem 0.7rem",borderColor:"rgb(176 174 174)",fontSize:"13px",opacity:"0.9"}}),(0,I.jsx)(E.Z,{label:"edit_from",onAction:e=>{var n;e.stopPropagation(),ce("/q/".concat(se.username,"/edit/student"),{state:{sid:null===X||void 0===X||null===(n=X.student)||void 0===n?void 0:n._id,openAs:"CLASS_TEACHER_SIDE",subTypeOpen:"ADMISSION_ADMIN",extraData:{regeneration_status:"Yes"}}})},customStyle:{padding:"0.4rem 0.7rem",borderColor:"rgb(176 174 174)",fontSize:"13px",opacity:"0.9"}}),(0,I.jsx)(E.Z,{label:"reject_insufficient",onAction:e=>{e.stopPropagation(),ve(3)},customStyle:{padding:"0.4rem 0.7rem",borderColor:"rgb(176 174 174)",fontSize:"13px",opacity:"0.9",minWidth:"max-content"}})]})})}),(0,I.jsx)("img",{src:"".concat(r.J7,"/menu.svg"),alt:"menu icon",onClick:e=>{e.stopPropagation(),ve(5)}})]})]}),1===ue?(0,I.jsx)(B.Z,{title:"select_fee_structre_of_student",onClose:fe,onSelectedStrucutre:(e,n)=>{var l;if(null!==X&&void 0!==X&&null!==(l=X.student)&&void 0!==l&&l._id&&te&&null!==e&&void 0!==e&&e._id){var t;_e((e=>!e));let l=null;var i,o;if(null!==oe&&void 0!==oe&&oe.intake_visibility)l={fee_struct:null===e||void 0===e?void 0:e._id,staffId:null===(i=re.state)||void 0===i?void 0:i.sid,intake_type:n};else l={fee_struct:null===e||void 0===e?void 0:e._id,staffId:null===(o=re.state)||void 0===o?void 0:o.sid};pe({sid:null===X||void 0===X||null===(t=X.student)||void 0===t?void 0:t._id,appId:te,bodyParameter:l}).then((()=>{ie(),fe(),_e((e=>!e))})).catch((()=>{_e((e=>!e))}))}},hid:ee,bid:ne,cmid:le,isAdmissionIntake:null===oe||void 0===oe?void 0:oe.intake_visibility,isOngoing:!0,unitId:de}):2===ue?(0,I.jsx)(G,{onClose:fe,appId:te,sid:null===X||void 0===X||null===(W=X.student)||void 0===W?void 0:W._id,onRefetch:ie}):3===ue?(0,I.jsx)(q,{onClose:fe,appId:te,sid:null===X||void 0===X||null===($=X.student)||void 0===$?void 0:$._id,onRefetch:ie}):4===ue?(0,I.jsx)(Y,{onClose:fe,reason:null===X||void 0===X?void 0:X.reject_status}):5===ue?(0,I.jsx)(V,{onClose:fe,studentId:null===X||void 0===X||null===(K=X.student)||void 0===K?void 0:K._id}):null,me&&(0,I.jsx)(y.default,{})]})};var $=l(49806),K=l(57588);const Q=e=>{var n,l,t,i,o,d,a,s,c;let{applicant:u,onSelect:v,applicantId:m}=e;return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)("div",{className:x.Z.oac_container,style:{justifyContent:"flex-start"},children:[(0,I.jsx)("img",{className:x.Z.department_checkbox,src:null!==m&&void 0!==m&&m.includes(null===u||void 0===u||null===(n=u.student)||void 0===n?void 0:n._id)?"".concat(r.U_,"/check.svg"):"".concat(r.U_,"/uncheck.svg"),alt:"check icon",onClick:()=>v(null===u||void 0===u?void 0:u.student)}),(0,I.jsxs)("div",{className:x.Z.oac_container_inner,style:{width:"100%"},children:[(0,I.jsx)("img",{alt:"Student Request Avatar",src:null!==u&&void 0!==u&&null!==(l=u.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(F.yI,"/").concat(null===u||void 0===u||null===(t=u.student)||void 0===t?void 0:t.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,I.jsx)("div",{className:x.Z.oac_container_inner_info,children:(0,I.jsx)("h6",{children:"".concat(null!==(i=null===u||void 0===u||null===(o=u.student)||void 0===o?void 0:o.studentFirstName)&&void 0!==i?i:""," ").concat(null!==u&&void 0!==u&&null!==(d=u.student)&&void 0!==d&&d.studentMiddleName?null===u||void 0===u||null===(a=u.student)||void 0===a?void 0:a.studentMiddleName:""," ").concat(null!==(s=null===u||void 0===u||null===(c=u.student)||void 0===c?void 0:c.studentLastName)&&void 0!==s?s:"")})})]})]})})};var X=l(26192);const ee=e=>{var n,l,t,i,o,d;let{application:a,onSelect:s,selectedId:c,isList:u}=e;const v=()=>{s(a)};return(0,I.jsx)(I.Fragment,{children:u?(0,I.jsx)("div",{className:null!==c&&void 0!==c&&c.includes(null===a||void 0===a?void 0:a._id)?"".concat(X.Z.ongoing_card," ").concat(X.Z.ongoing_card_active):X.Z.ongoing_card,onClick:v,children:(0,I.jsxs)("div",{className:X.Z.ongoing_card_inner,children:[(0,I.jsx)("img",{alt:"Ongoing App",src:"".concat(r.U_,"/application.svg")}),(0,I.jsxs)("div",{className:X.Z.ongoing_card_text,children:[(0,I.jsx)("h6",{children:null!==(n=null===a||void 0===a?void 0:a.applicationName)&&void 0!==n?n:""}),(0,I.jsx)("p",{children:null!==(l=null===a||void 0===a||null===(t=a.applicationDepartment)||void 0===t?void 0:t.dName)&&void 0!==l?l:""})]})]})}):(0,I.jsx)("div",{className:c===(null===a||void 0===a?void 0:a._id)?"".concat(X.Z.ongoing_card," ").concat(X.Z.ongoing_card_active):X.Z.ongoing_card,onClick:v,children:(0,I.jsxs)("div",{className:X.Z.ongoing_card_inner,children:[(0,I.jsx)("img",{alt:"Ongoing App",src:"".concat(r.U_,"/application.svg")}),(0,I.jsxs)("div",{className:X.Z.ongoing_card_text,children:[(0,I.jsx)("h6",{children:null!==(i=null===a||void 0===a?void 0:a.applicationName)&&void 0!==i?i:""}),(0,I.jsx)("p",{children:null!==(o=null===a||void 0===a||null===(d=a.applicationDepartment)||void 0===d?void 0:d.dName)&&void 0!==o?o:""})]})]})})})},ne=e=>{var n,l,t,i;let{onClose:u,onSelect:_,aid:p,selectedId:f,isList:g,onDone:x,isMultiSelect:j}=e;const{t:b}=(0,a.$G)(),[Z,S]=(0,d.useState)(""),[C,A]=(0,d.useState)(1),[k,w]=(0,d.useState)(!0),[P,F]=(0,s.YD)({skip:Z}),{admissionOngoingApplication:O,admissionOngoingApplicationLoading:M}=(0,o.s5)({data:{aid:p,page:C,limit:j?1e3:10,search:Z},skip:!p});(0,d.useEffect)((()=>{F&&k&&A((e=>e+1))}),[F,k]),(0,d.useEffect)((()=>{var e;if(null!==O&&void 0!==O&&null!==(e=O.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===O||void 0===O||null===(n=O.list)||void 0===n?void 0:n.length);w((()=>e))}}),[null===O||void 0===O||null===(n=O.list)||void 0===n?void 0:n.length]);const R=(0,d.useCallback)((0,K.J)((e=>{A((()=>1)),S(e)}),1500),[]);return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(h.Z,{children:(0,I.jsxs)("div",{className:$.Z.modal_container,children:[(0,I.jsx)(v.default,{children:(0,I.jsxs)("div",{className:$.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:$.Z.modal_container_header,children:(0,I.jsx)("h6",{children:b("ongoing_applications")})}),(0,I.jsxs)("div",{className:$.Z.modal_container_btn_container,children:[j&&(0,I.jsx)(N.Z,{label:b("select"),count:null===f||void 0===f?void 0:f.length,onAction:x,customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,I.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:u,className:$.Z.close_icon})]})]})}),(0,I.jsx)(m.Z,{}),(0,I.jsxs)(v.default,{customStyle:{paddingTop:"0"},children:[(0,I.jsxs)("div",{className:$.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,I.jsx)("input",{type:"text",placeholder:b("search"),className:$.Z.assign_search_input,onChange:e=>{e.target.value?R(e.target.value):(A((()=>1)),S(""))},style:{width:"100%"}}),(0,I.jsx)("img",{src:"".concat(r.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===O||void 0===O||null===(l=O.list)||void 0===l?void 0:l.map(((e,n)=>{var l;return(null===O||void 0===O||null===(l=O.list)||void 0===l?void 0:l.length)===n+1?(0,I.jsx)("div",{ref:P,children:(0,I.jsx)(ee,{application:e,onSelect:_,isList:g,selectedId:f})},null===e||void 0===e?void 0:e._id):(0,I.jsx)(ee,{application:e,onSelect:_,isList:g,selectedId:f},null===e||void 0===e?void 0:e._id)})),M?Z?(0,I.jsx)(y.default,{}):(0,I.jsx)(T.Z,{}):Z?0===(null===O||void 0===O||null===(t=O.list)||void 0===t?void 0:t.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No ongoing applications found related this search."}):0===(null===O||void 0===O||null===(i=O.list)||void 0===i?void 0:i.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No ongoing applications list."})]})]})})})},le=e=>{var n;let{transferStudentObj:l,application:t,appId:i,transferApplicantId:s,onClose:c,onParentClose:u}=e;const{t:_}=(0,a.$G)(),[p,g]=(0,d.useState)(!1),[j]=(0,o.We)();return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(h.Z,{children:(0,I.jsxs)("div",{className:f.Z.modal_container,children:[(0,I.jsx)(v.default,{children:(0,I.jsxs)("div",{className:f.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:f.Z.modal_container_header,children:(0,I.jsx)("h6",{children:_("select_confirm_student")})}),(0,I.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:c,className:f.Z.close_icon})]})}),(0,I.jsx)(m.Z,{}),(0,I.jsxs)(v.default,{customStyle:{paddingTop:"0"},children:[(0,I.jsxs)("div",{className:x.Z.admission_class_confirm,children:[_("transfering")," ",(0,I.jsx)("span",{style:{fontWeight:"600"},children:null===l||void 0===l?void 0:l.length})," ",_("students")," "," ",",",_("to")," ",(0,I.jsx)("span",{style:{fontWeight:"600"},children:null!==(n=null===t||void 0===t?void 0:t.applicationName)&&void 0!==n?n:""})]}),(0,I.jsx)(N.Z,{label:"confirm",onAction:()=>{i&&null!==t&&void 0!==t&&t._id&&(null===l||void 0===l?void 0:l.length)>0&&(g((e=>!e)),j({appId:null===t||void 0===t?void 0:t._id,transferApplicantData:{app_array:s,oaid:i,student_array:l}}).then((()=>{g((e=>!e)),u()})).catch({}))}})]})]})}),p&&(0,I.jsx)(y.default,{})]})},te=e=>{var n,l,t,i;let{onClose:u,appId:_,aid:p}=e;const{t:f}=(0,a.$G)(),[g,x]=(0,d.useState)([]),[j,b]=(0,d.useState)([]),[Z,S]=(0,d.useState)(1),[C,A]=(0,d.useState)(""),[k,w]=(0,d.useState)(""),[P,F]=(0,d.useState)(1),[O,M]=(0,d.useState)(!0),[R,E]=(0,s.YD)({skip:k}),{admissionOngoingApplicationReview:U,admissionOngoingApplicationReviewLoading:L}=(0,o._v)({data:{appId:_,page:P,limit:10,search:k},skip:!_});(0,d.useEffect)((()=>{E&&O&&F((e=>e+1))}),[E,O]),(0,d.useEffect)((()=>{var e;if(null!==U&&void 0!==U&&null!==(e=U.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===U||void 0===U||null===(n=U.list)||void 0===n?void 0:n.length);M((()=>e))}}),[null===U||void 0===U||null===(n=U.list)||void 0===n?void 0:n.length]);const G=(0,d.useCallback)((0,K.J)((e=>{F((()=>1)),w(e)}),1500),[]),q=e=>{if(null!==g&&void 0!==g&&g.includes(null===e||void 0===e?void 0:e._id))x((n=>null===n||void 0===n?void 0:n.filter((n=>n!==(null===e||void 0===e?void 0:e._id))))),b((n=>null===n||void 0===n?void 0:n.filter((n=>{var l;return(null===n||void 0===n?void 0:n.studentId)!==(null===e||void 0===e||null===(l=e.student)||void 0===l?void 0:l._id)}))));else{var n;let l={studentId:null===e||void 0===e||null===(n=e.student)||void 0===n?void 0:n._id,mode:null===e||void 0===e?void 0:e.payment_status,type:null===e||void 0===e?void 0:e.install_type,price:null===e||void 0===e?void 0:e.fee_remain};b((e=>[...e,l])),x((n=>[...n,null===e||void 0===e?void 0:e._id]))}};return(0,I.jsx)(I.Fragment,{children:1===Z?(0,I.jsx)(h.Z,{children:(0,I.jsxs)("div",{className:$.Z.modal_container,children:[(0,I.jsx)(v.default,{children:(0,I.jsxs)("div",{className:$.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:$.Z.modal_container_header,children:(0,I.jsx)("h6",{children:f("select_confirm_student")})}),(0,I.jsxs)("div",{className:$.Z.modal_container_header,children:[(0,I.jsx)(N.Z,{customStyle:{margin:0,padding:"0.2rem 0.5rem"},onAction:()=>{(null===g||void 0===g?void 0:g.length)>0&&S(2)},label:"select",count:null===g||void 0===g?void 0:g.length}),(0,I.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:u,className:$.Z.close_icon})]})]})}),(0,I.jsx)(m.Z,{}),(0,I.jsxs)(v.default,{customStyle:{paddingTop:"0",marginBottom:"1rem"},children:[(0,I.jsxs)("div",{className:$.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,I.jsx)("input",{type:"text",placeholder:f("search"),className:$.Z.assign_search_input,onChange:e=>{e.target.value?G(e.target.value):(F((()=>1)),w(""))},style:{width:"100%"}}),(0,I.jsx)("img",{src:"".concat(r.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===U||void 0===U||null===(l=U.list)||void 0===l?void 0:l.map(((e,n)=>{var l;return(null===U||void 0===U||null===(l=U.list)||void 0===l?void 0:l.length)===n+1?(0,I.jsx)("div",{ref:R,children:(0,I.jsx)(Q,{applicant:{student:e},applicantId:g,onSelect:q})},null===e||void 0===e?void 0:e._id):(0,I.jsx)(Q,{applicant:{student:e},applicantId:g,onSelect:q},null===e||void 0===e?void 0:e._id)})),L?k?(0,I.jsx)(y.default,{}):(0,I.jsx)(T.Z,{}):k?0===(null===U||void 0===U||null===(t=U.list)||void 0===t?void 0:t.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===U||void 0===U||null===(i=U.list)||void 0===i?void 0:i.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]})}):2===Z?(0,I.jsx)(ne,{onSelect:e=>{A(e),S(3)},aid:p,onClose:()=>S(1)}):3===Z?(0,I.jsx)(le,{transferApplicantId:g,transferStudentObj:j,appId:_,application:C,onClose:()=>S(2),onParentClose:u}):null})},ie=e=>{var n,l;let{applicationDetail:t,isExportAccess:a,isAddAccess:s,isTransferAccess:c,instituteId:v,hid:m,onMultipleSelect:_,onResuffleToggle:p,isGenerateAccess:h,isFull:f,children:g}=e;const x=(0,i.TH)(),j=(0,i.UO)(),N=(0,i.s0)(),[Z,S]=(0,d.useState)(!1),[C,A]=(0,d.useState)(""),[k]=(0,b.lm)(),[w]=(0,o.rH)();return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(R.Z,{customStyle:{justifyContent:"space-between",marginBottom:"0.7rem"},children:f?(0,I.jsx)(I.Fragment,{children:(0,I.jsx)("div",{className:u.Z.fm_search_full,children:(0,I.jsx)("section",{className:u.Z.fm_search_full_container,children:(0,I.jsxs)("div",{className:u.Z.fm_search_full_container_inner,children:[(0,I.jsx)("img",{className:u.Z.fm_search_full_icon,alt:"search icon",src:"".concat(r.dB,"/navbar-search.svg")}),g]})})})}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("section",{className:u.Z.fm_search_container,children:(0,I.jsxs)("div",{className:u.Z.fm_search_container_inner,children:[(0,I.jsx)("img",{className:u.Z.fm_search_icon,alt:"search icon",src:"".concat(r.dB,"/navbar-search.svg")}),g]})}),(0,I.jsxs)("div",{className:u.Z.fm_other_admission,children:[oe[a]&&(0,I.jsx)("img",{src:"".concat(r.J7,"/export.svg"),alt:"icon",title:"List Export",onClick:()=>{var e;null!==(e=x.state)&&void 0!==e&&e.appId&&oe[a]&&(S((e=>!e)),k({appId:null===t||void 0===t?void 0:t._id,flow:a,bodyParameter:{flow:a}}).then((()=>{var e;S((e=>!e));let n="Institute"===(null===(e=x.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(j.username,"/institute/member/admission?type=hostel-export"):"/q/".concat(j.username,"/member/staff/admission?type=hostel-export");N(n,{state:x.state})})).catch({}))}}),ae[a]&&!de[null===(n=x.state)||void 0===n?void 0:n.isAuthorization]&&(0,I.jsx)(I.Fragment,{children:"ONGOING_VIEW_ACCESS"===(null===(l=x.state)||void 0===l?void 0:l.role)?null:(0,I.jsx)("img",{src:"".concat(r.U_,"/mutliple.svg"),alt:"icon",title:"Multiple Select",onClick:_})})]})]})}),2===C?(0,I.jsx)(te,{onClose:()=>{A("")},instituteId:v,appId:null===t||void 0===t?void 0:t._id,hid:m}):null,Z&&(0,I.jsx)(y.default,{})]})},oe={APPLICATION:!0,Review:!0,Request_Query:!0,Confirm_Query:!0,Review_Query:!0,Allot_Query:!0,Docs_Query:!0,Fees_Query:!0},de={isCompleted:!0},ae={Confirm:!0,Confirm_Query:!0,Review_Query:!0},se=e=>{var n,l,t,r,u,m;let{applicationDetail:_,instituteId:p,hid:h}=e;const{t:f}=(0,a.$G)(),g=(0,i.TH)(),[x,j]=(0,d.useState)(""),[N,b]=(0,d.useState)(""),[Z,S]=(0,d.useState)(1),[C,k]=(0,d.useState)(!0),[w,F]=(0,s.YD)({skip:x}),{admissionOngoingApplicationRequest:O,admissionOngoingApplicationRequestLoading:M,admissionOngoingApplicationRequestRefetch:R}=(0,o.ws)({data:{appId:null===(n=g.state)||void 0===n?void 0:n.appId,page:Z,limit:10,search:x},skip:!(null!==(l=g.state)&&void 0!==l&&l.appId)});(0,d.useEffect)((()=>{F&&C&&S((e=>e+1))}),[F,C]),(0,d.useEffect)((()=>{var e;if(null!==O&&void 0!==O&&null!==(e=O.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===O||void 0===O||null===(n=O.list)||void 0===n?void 0:n.length);k((()=>e))}}),[null===O||void 0===O||null===(t=O.list)||void 0===t?void 0:t.length]);const E=(0,d.useCallback)((()=>{S((()=>1)),R()}),[]);return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(P.default,{children:[(0,I.jsx)(A,{applicationDetail:_}),(0,I.jsxs)(v.default,{customStyle:{paddingTop:"0.2rem"},children:[(0,I.jsx)(ie,{applicationDetail:_,instituteId:p,isAddAccess:"APPLICATION",isExportAccess:"Request_Query",hid:h,isGenerateAccess:"Request_Query",children:(0,I.jsx)("input",{type:"text",placeholder:f("search_applicants"),onChange:e=>{var n;!M&&(null===O||void 0===O||null===(n=O.list)||void 0===n?void 0:n.length)>=0&&b(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(S((()=>1)),j(N))},value:N})}),null===O||void 0===O||null===(r=O.list)||void 0===r?void 0:r.map(((e,n)=>{var l,t,i,o,d,a,s,c,r;return(null===O||void 0===O||null===(l=O.list)||void 0===l?void 0:l.length)===n+1?(0,I.jsx)("div",{ref:w,children:(0,I.jsx)(W,{applicant:e,instituteId:p,hid:h,bid:null===_||void 0===_||null===(t=_.applicationBatch)||void 0===t?void 0:t._id,cmid:null===_||void 0===_||null===(i=_.applicationMaster)||void 0===i?void 0:i._id,unitId:null===_||void 0===_||null===(o=_.applicationUnit)||void 0===o?void 0:o._id,onRefetch:E,appId:null===(d=g.state)||void 0===d?void 0:d.appId,admissionIntake:null===_||void 0===_?void 0:_.admission_intake})},null===e||void 0===e?void 0:e._id):(0,I.jsx)(W,{applicant:e,instituteId:p,hid:h,bid:null===_||void 0===_||null===(a=_.applicationBatch)||void 0===a?void 0:a._id,cmid:null===_||void 0===_||null===(s=_.applicationMaster)||void 0===s?void 0:s._id,onRefetch:E,appId:null===(c=g.state)||void 0===c?void 0:c.appId,admissionIntake:null===_||void 0===_?void 0:_.admission_intake,unitId:null===_||void 0===_||null===(r=_.applicationUnit)||void 0===r?void 0:r._id},null===e||void 0===e?void 0:e._id)})),M?x?(0,I.jsx)(y.default,{}):(0,I.jsx)(I.Fragment,{children:1===Z?(0,I.jsx)(y.default,{}):(0,I.jsx)(T.Z,{})}):x?0===(null===O||void 0===O||null===(u=O.list)||void 0===u?void 0:u.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No hostel admission requests found related this search."}):0===(null===O||void 0===O||null===(m=O.list)||void 0===m?void 0:m.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No hostel admission request list."})]})]})})},ce=e=>{var n,l,t,o,s,c;let{onClose:u,applicant:_,appId:p,onRefetch:g,admissionDocsCollect:x}=e;const{t:j}=(0,a.$G)(),Z=(0,i.TH)(),[S,C]=(0,d.useState)({listId:[],lsit:[]}),[A,k]=(0,d.useState)(!1),[w]=(0,b.lP)();return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(h.Z,{onClose:u,children:(0,I.jsxs)("div",{className:f.Z.modal_container,style:{minWidth:"48rem",maxWidth:"48rem"},children:[(0,I.jsx)(v.default,{children:(0,I.jsxs)("div",{className:f.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:f.Z.modal_container_header,children:(0,I.jsx)("h6",{children:j("collect_required_document")})}),(0,I.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:u})]})}),(0,I.jsx)(m.Z,{}),(0,I.jsxs)(v.default,{customStyle:{paddingTop:"0"},children:[(0,I.jsxs)("div",{className:f.Z.modal_container_header,style:{flexDirection:"column"},children:[(0,I.jsx)("p",{children:j("collecting_documents_of_student")}),(0,I.jsx)("h6",{children:"".concat(null!==(n=null===_||void 0===_||null===(l=_.student)||void 0===l?void 0:l.studentFirstName)&&void 0!==n?n:""," ").concat(null!==_&&void 0!==_&&null!==(t=_.student)&&void 0!==t&&t.studentMiddleName?null===_||void 0===_||null===(o=_.student)||void 0===o?void 0:o.studentMiddleName:""," ").concat(null!==(s=null===_||void 0===_||null===(c=_.student)||void 0===c?void 0:c.studentLastName)&&void 0!==s?s:"")})]}),(0,I.jsx)(N.Z,{label:"confirm",onAction:()=>{var e;if(null!==_&&void 0!==_&&null!==(e=_.student)&&void 0!==e&&e._id&&p&&null!==_&&void 0!==_&&_._id&&null!==_&&void 0!==_&&_.revert_request_status){var n,l;k((e=>!e));let e=[];x&&(e=S.lsit),w({sid:null===_||void 0===_||null===(n=_.student)||void 0===n?void 0:n._id,appId:p,document:{nest:null===_||void 0===_?void 0:_._id,revert_status:null===_||void 0===_?void 0:_.revert_request_status,staffId:null===(l=Z.state)||void 0===l?void 0:l.sid,collect_docs:e}}).then((()=>{g(),k((e=>!e)),u()})).catch((()=>{k((e=>!e))}))}}})]})]})}),A&&(0,I.jsx)(y.default,{})]})},re=e=>{var n,l,t,o,s,c,u,v,m,_,p,h,f,g,j,N,Z,S,C,A,k,w,P,D,T,O,R,U,L,G,q,z,H,Y,J,W,$,K,Q,X;let{instituteId:ee,applicant:ne,hid:le,bid:te,cmid:ie,appId:oe,onRefetch:de,admissionDocsCollect:ae,unitId:se}=e;const{t:re}=(0,a.$G)(),ue=(0,i.UO)(),ve=(0,i.s0)(),me=(0,i.TH)(),[_e,pe]=(0,d.useState)(0),[he,fe]=(0,d.useState)(!1),[ge]=(0,b.Yu)(),[xe]=(0,b.vz)(),je=(0,d.useCallback)((()=>{var e,n,l;ve("/q/".concat(ue.username,"/student/profile"),{state:{sid:null===ne||void 0===ne||null===(e=ne.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:ee,whichUrl:"Institute"===(null===(n=me.state)||void 0===n?void 0:n.urlOffSet)?"INSTITUTE":null,onlyReadView:null===(l=me.state)||void 0===l?void 0:l.role}})}),[ee,null===ne||void 0===ne||null===(n=ne.student)||void 0===n?void 0:n._id]),ye=()=>{pe("")};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:x.Z.oac_container,onClick:je,title:"View Profile",children:[(0,I.jsxs)("div",{className:x.Z.oac_container_inner,children:[(0,I.jsx)("img",{alt:"Student Request Avatar",src:null!==ne&&void 0!==ne&&null!==(l=ne.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(F.yI,"/").concat(null===ne||void 0===ne||null===(t=ne.student)||void 0===t?void 0:t.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,I.jsxs)("div",{className:x.Z.oac_container_inner_info,children:[(0,I.jsx)("h6",{children:"".concat(null!==(o=null===ne||void 0===ne||null===(s=ne.student)||void 0===s?void 0:s.studentFirstName)&&void 0!==o?o:""," ").concat(null!==ne&&void 0!==ne&&null!==(c=ne.student)&&void 0!==c&&c.studentMiddleName?null===ne||void 0===ne||null===(u=ne.student)||void 0===u?void 0:u.studentMiddleName:""," ").concat(null!==(v=null===ne||void 0===ne||null===(m=ne.student)||void 0===m?void 0:m.studentLastName)&&void 0!==v?v:"")}),(0,I.jsxs)("h6",{children:[re("fee_structure")," : ",null!==(_=null===ne||void 0===ne||null===(p=ne.student)||void 0===p||null===(h=p.hostel_fee_structure)||void 0===h||null===(f=h.category_master)||void 0===f?void 0:f.category_name)&&void 0!==_?_:"",", ",re("rs_only")," ",null!==(g=null===ne||void 0===ne||null===(j=ne.student)||void 0===j||null===(N=j.hostel_fee_structure)||void 0===N?void 0:N.applicable_fees)&&void 0!==g?g:""]}),(0,I.jsxs)("p",{children:[re("form_no_only"),": ",null!==(Z=null===ne||void 0===ne||null===(S=ne.student)||void 0===S?void 0:S.form_no)&&void 0!==Z?Z:""]}),(0,I.jsx)("p",{children:null!==ne&&void 0!==ne&&ne.install_type?null===ne||void 0===ne?void 0:ne.install_type:"\n          ".concat(re("select_on"),":\n          ").concat(M()(null===ne||void 0===ne?void 0:ne.select_on).format("DD MMM YYYY"))})]})]}),(0,I.jsxs)("div",{className:x.Z.oac_container_contact,children:[(0,I.jsxs)("div",{className:x.Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(r.U_,"/gender.svg"),alt:"email icon"}),(0,I.jsx)("p",{children:null===ne||void 0===ne||null===(C=ne.student)||void 0===C?void 0:C.studentGender})]}),(0,I.jsxs)("div",{className:x.Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(r.U_,"/phone.svg"),alt:"phone icon"}),(0,I.jsx)("p",{children:null!==ne&&void 0!==ne&&null!==(A=ne.student)&&void 0!==A&&null!==(k=A.user)&&void 0!==k&&k.userPhoneNumber?null===ne||void 0===ne||null===(w=ne.student)||void 0===w||null===(P=w.user)||void 0===P?void 0:P.userPhoneNumber:null!==ne&&void 0!==ne&&null!==(D=ne.student)&&void 0!==D&&null!==(T=D.user)&&void 0!==T&&T.userEmail?null===ne||void 0===ne||null===(O=ne.student)||void 0===O||null===(R=O.user)||void 0===R?void 0:R.userEmail:null!==ne&&void 0!==ne&&null!==(U=ne.student)&&void 0!==U&&U.studentPhoneNumber?null===ne||void 0===ne||null===(L=ne.student)||void 0===L?void 0:L.studentPhoneNumber:null!==ne&&void 0!==ne&&null!==(G=ne.student)&&void 0!==G&&G.studentParentsPhoneNumber?null===ne||void 0===ne||null===(q=ne.student)||void 0===q?void 0:q.studentParentsPhoneNumber:null!==(z=null===ne||void 0===ne||null===(H=ne.student)||void 0===H?void 0:H.studentEmail)&&void 0!==z?z:""})]})]}),(0,I.jsxs)("div",{className:x.Z.oac_container_stuff,style:{width:"27%"},children:[(0,I.jsx)("a",{href:"".concat(F.q2,"/").concat(null===ne||void 0===ne||null===(Y=ne.student)||void 0===Y||null===(J=Y.application_print)||void 0===J||null===(W=J[0])||void 0===W?void 0:W.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,I.jsx)("img",{src:"".concat(r.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),"ONGOING_VIEW_ACCESS"===(null===($=me.state)||void 0===$?void 0:$.role)?null:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("img",{src:"".concat(r.J7,"/edit.svg"),alt:"edit icon",onClick:e=>{e.stopPropagation(),pe(1)}}),(0,I.jsx)("img",{src:"".concat(r.U_,"/undo.svg"),alt:"undo icon",style:{width:"30px",height:"30px"},onClick:e=>{var n,l,t;(e.stopPropagation(),null!==ne&&void 0!==ne&&null!==(n=ne.student)&&void 0!==n&&n._id&&oe&&null!==ne&&void 0!==ne&&ne.revert_request_status)&&(fe((e=>!e)),xe({sid:null===ne||void 0===ne||null===(l=ne.student)||void 0===l?void 0:l._id,appId:oe,revert:{statusId:null===ne||void 0===ne?void 0:ne.revert_request_status,staffId:null===(t=me.state)||void 0===t?void 0:t.sid}}).then((()=>{de(),fe((e=>!e))})).catch((()=>{fe((e=>!e))})))},title:"Undo Application"}),(0,I.jsx)(E.Z,{label:"collect_docs",onAction:e=>{e.stopPropagation(),pe(2)},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}})]}),(0,I.jsx)("img",{src:"".concat(r.J7,"/menu.svg"),alt:"menu icon",onClick:e=>{e.stopPropagation(),pe(3)}})]})]}),1===_e?(0,I.jsx)(B.Z,{onClose:ye,onSelectedStrucutre:e=>{var n,l,t;null!==ne&&void 0!==ne&&null!==(n=ne.student)&&void 0!==n&&n._id&&oe&&null!==e&&void 0!==e&&e._id&&(fe((e=>!e)),ge({sid:null===ne||void 0===ne||null===(l=ne.student)||void 0===l?void 0:l._id,appId:oe,applicant:{fee_struct:null===e||void 0===e?void 0:e._id,staffId:null===(t=me.state)||void 0===t?void 0:t.sid}}).then((()=>{de(),ye(),fe((e=>!e))})).catch((()=>{fe((e=>!e))})))},hid:le,bid:te,cmid:ie,selectedStructure:null===ne||void 0===ne||null===(K=ne.student)||void 0===K||null===(Q=K.hostel_fee_structure)||void 0===Q?void 0:Q._id,unitId:se}):2===_e?(0,I.jsx)(ce,{onClose:ye,onRefetch:de,applicant:ne,appId:oe,admissionDocsCollect:ae,hid:le}):3===_e?(0,I.jsx)(V,{onClose:ye,studentId:null===ne||void 0===ne||null===(X=ne.student)||void 0===X?void 0:X._id}):null,he&&(0,I.jsx)(y.default,{})]})},ue=e=>{var n,l,t,r,u,m;let{applicationDetail:_,instituteId:p,hid:h}=e;const{t:f}=(0,a.$G)(),g=(0,i.TH)(),[x,j]=(0,d.useState)(""),[N,b]=(0,d.useState)(""),[Z,S]=(0,d.useState)(1),[C,k]=(0,d.useState)(!0),[w,F]=(0,s.YD)({skip:x}),{admissionOngoingApplicationDocument:O,admissionOngoingApplicationDocumentLoading:M,admissionOngoingApplicationDocumentRefetch:R}=(0,o.Zx)({data:{appId:null===(n=g.state)||void 0===n?void 0:n.appId,page:Z,limit:10,search:x},skip:!(null!==(l=g.state)&&void 0!==l&&l.appId)});(0,d.useEffect)((()=>{F&&C&&S((e=>e+1))}),[F,C]),(0,d.useEffect)((()=>{var e;if(null!==O&&void 0!==O&&null!==(e=O.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===O||void 0===O||null===(n=O.list)||void 0===n?void 0:n.length);k((()=>e))}}),[null===O||void 0===O||null===(t=O.list)||void 0===t?void 0:t.length]);const E=(0,d.useCallback)((()=>{S((()=>1)),R()}),[]);return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(P.default,{children:[(0,I.jsx)(A,{applicationDetail:_}),(0,I.jsxs)(v.default,{customStyle:{paddingTop:"0.2rem"},children:[(0,I.jsx)(ie,{applicationDetail:_,instituteId:p,isExportAccess:"Docs_Query",hid:h,isGenerateAccess:"Docs_Query",children:(0,I.jsx)("input",{type:"text",placeholder:f("search_applicants"),onChange:e=>{var n;!M&&(null===O||void 0===O||null===(n=O.list)||void 0===n?void 0:n.length)>=0&&b(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(S((()=>1)),j(N))},value:N})}),null===O||void 0===O||null===(r=O.list)||void 0===r?void 0:r.map(((e,n)=>{var l,t,i,o,d,a,s,c,r;return(null===O||void 0===O||null===(l=O.list)||void 0===l?void 0:l.length)===n+1?(0,I.jsx)("div",{ref:w,children:(0,I.jsx)(re,{applicant:e,instituteId:p,hid:h,bid:null===_||void 0===_||null===(t=_.applicationBatch)||void 0===t?void 0:t._id,cmid:null===_||void 0===_||null===(i=_.applicationMaster)||void 0===i?void 0:i._id,onRefetch:E,appId:null===(o=g.state)||void 0===o?void 0:o.appId,admissionDocsCollect:null===_||void 0===_?void 0:_.collect_docs,unitId:null===_||void 0===_||null===(d=_.applicationUnit)||void 0===d?void 0:d._id})},null===e||void 0===e?void 0:e._id):(0,I.jsx)(re,{applicant:e,instituteId:p,hid:h,bid:null===_||void 0===_||null===(a=_.applicationBatch)||void 0===a?void 0:a._id,cmid:null===_||void 0===_||null===(s=_.applicationMaster)||void 0===s?void 0:s._id,onRefetch:E,appId:null===(c=g.state)||void 0===c?void 0:c.appId,admissionDocsCollect:null===_||void 0===_?void 0:_.collect_docs,unitId:null===_||void 0===_||null===(r=_.applicationUnit)||void 0===r?void 0:r._id},null===e||void 0===e?void 0:e._id)})),M?x?(0,I.jsx)(y.default,{}):(0,I.jsx)(I.Fragment,{children:1===Z?(0,I.jsx)(y.default,{}):(0,I.jsx)(T.Z,{})}):x?0===(null===O||void 0===O||null===(u=O.list)||void 0===u?void 0:u.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No hostel admission applicants found related this search."}):0===(null===O||void 0===O||null===(m=O.list)||void 0===m?void 0:m.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No hostel admission applicants list."})]})]})})};var ve=l(61055),me=l(60924),_e=l(43997),pe=l(50518),he=l(20659),fe=l(26071),ge=l(7562),xe=l(60307),je=l(71439),ye=l(64499);const Ne=e=>{var n,l,t,i,o,s,c,u;let{onClose:_,applicant:p,appId:g,onRefetch:x}=e;const{t:y}=(0,a.$G)(),[N,b]=(0,d.useState)({open:!1,msg:"",variant:"error"}),[Z,S]=(0,d.useState)(null),{studentAdmissionFeeList:C,studentAdmissionFeeListRefetch:A}=(0,xe.Wb)({sid:null===p||void 0===p||null===(n=p.student)||void 0===n?void 0:n._id,skip:!(null!==p&&void 0!==p&&null!==(l=p.student)&&void 0!==l&&l._id)});(0,d.useEffect)((()=>{if(C)for(let c of C){var e,n,l,t,i,o,d,a,s;if((null===c||void 0===c||null===(e=c.appId)||void 0===e?void 0:e._id)===g)if(null!==c&&void 0!==c&&null!==(n=c.applicable_card)&&void 0!==n&&null!==(l=n.remaining_array)&&void 0!==l&&null!==(t=l[0])&&void 0!==t&&null!==(i=t.fee_receipt)&&void 0!==i&&i.receipt_file)S(null===c||void 0===c||null===(o=c.applicable_card)||void 0===o||null===(d=o.remaining_array)||void 0===d||null===(a=d[0])||void 0===a||null===(s=a.fee_receipt)||void 0===s?void 0:s.receipt_file),b({open:!1,msg:"",variant:"error"})}}),[C]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(h.Z,{onClose:()=>{},children:(0,I.jsxs)("div",{className:f.Z.modal_container,children:[(0,I.jsx)(v.default,{children:(0,I.jsxs)("div",{className:f.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:f.Z.modal_container_header,children:(0,I.jsx)("h6",{children:y("collect_fees_successfully")})}),(0,I.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:_})]})}),(0,I.jsx)(m.Z,{}),(0,I.jsxs)(v.default,{customStyle:{paddingTop:"0"},children:[(0,I.jsxs)("div",{className:f.Z.modal_container_header,style:{flexDirection:"column",gap:"0"},children:[(0,I.jsx)("p",{style:{marginBottom:"0.5rem"},children:y("payment_of_student")}),(0,I.jsx)("h6",{children:"".concat(null!==(t=null===p||void 0===p||null===(i=p.student)||void 0===i?void 0:i.studentFirstName)&&void 0!==t?t:""," ").concat(null!==p&&void 0!==p&&null!==(o=p.student)&&void 0!==o&&o.studentMiddleName?null===p||void 0===p||null===(s=p.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null!==(c=null===p||void 0===p||null===(u=p.student)||void 0===u?void 0:u.studentLastName)&&void 0!==c?c:"")})]}),Z?(0,I.jsx)("a",{href:"".concat(F.q2,"/").concat(Z),target:"_blank",rel:"noopener noreferrer",onClick:x,children:(0,I.jsx)(z.Z,{label:y("view_receipt"),customStyle:{"--ccb-bg":"#def3e1","--ccb-b":"#008000","--ccb-text":"#008000","--ccb-bg-h":"#def3e1","--ccb-text-h":"#008000",justifyContent:"Center",marginBlock:"1rem"}})}):(0,I.jsx)(z.Z,{label:y("view_receipt"),onAction:()=>{Z||(b({open:!0,msg:"Fee receipt generating in process. Please try after some time.",variant:"error"}),A())},customStyle:{"--ccb-bg":"#def3e1","--ccb-b":"#008000","--ccb-text":"#008000","--ccb-bg-h":"#def3e1","--ccb-text-h":"#008000",justifyContent:"Center",marginBlock:"1rem"}})]})]})}),(0,I.jsx)(j.Z,{eventState:N,eventStateHandler:b})]})},be=e=>{var n,l,t,o,s,c,u,_,p,g,x,Z,S,C,A;let{onClose:k,applicant:w,appId:P,onRefetch:D,financeId:T}=e;const{t:F}=(0,a.$G)(),O=(0,i.TH)(),[M,R]=(0,d.useState)(!1),E=(0,i.UO)(),[L,G]=(0,d.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:"",pay_remain:!1}),[q,z]=(0,d.useState)(0),[H,Y]=(0,d.useState)(""),[J,V]=(0,d.useState)({open:!1,msg:"",variant:"error"}),[B,W]=(0,d.useState)(0),[$,K]=(0,d.useState)({amount:0,type:"Admission",isTransaction:!1,pay_remain:!1}),{studentInstituteCharges:Q}=(0,xe.xY)({data:{id:null===w||void 0===w||null===(n=w.app_card)||void 0===n||null===(l=n.remaining_array)||void 0===l||null===(t=l[0])||void 0===t?void 0:t.instituteId},skip:!(null!==w&&void 0!==w&&null!==(o=w.app_card)&&void 0!==o&&null!==(s=o.remaining_array)&&void 0!==s&&null!==(c=s[0])&&void 0!==c&&c.instituteId)}),[X]=(0,b.bo)(),[ee]=(0,xe.zJ)();(0,d.useEffect)((()=>{var e,n,l;null!==w&&void 0!==w&&null!==(e=w.app_card)&&void 0!==e&&e.applicable_fee&&(G((e=>{var n,l;return{...e,amount:+(null===w||void 0===w||null===(n=w.app_card)||void 0===n?void 0:n.applicable_fee),fee_payment_amount:+(null===w||void 0===w||null===(l=w.app_card)||void 0===l?void 0:l.applicable_fee)}})),K({amount:null!==(n=+(null===w||void 0===w||null===(l=w.app_card)||void 0===l?void 0:l.applicable_fee))&&void 0!==n?n:0,type:"Admission",isTransaction:!1,pay_remain:!1}))}),[null===w||void 0===w||null===(u=w.app_card)||void 0===u?void 0:u.applicable_fee]);const ne=e=>{G((n=>({...n,[e.target.name]:e.target.value})))},le=e=>{G((n=>({...n,pay_remain:e})));let n=0;if(e){let e=0;for(let n of null===w||void 0===w||null===(l=w.app_card)||void 0===l?void 0:l.remaining_array){var l;"Paid"!==(null===n||void 0===n?void 0:n.status)&&(e+=null===n||void 0===n?void 0:n.remainAmount)}z(e),n=e}K(n>0?l=>({...l,pay_remain:e,amount:n}):n=>({...n,pay_remain:e}))};return(0,I.jsx)(I.Fragment,{children:1===B?(0,I.jsx)(Ne,{applicant:w,onClose:k,appId:P,onRefetch:D}):(0,I.jsxs)(I.Fragment,{children:[$.isTransaction?(0,I.jsx)(je.Z,{onClose:k,allContent:{...$,platform_charges:null===Q||void 0===Q||null===(_=Q.platform_charges)||void 0===_?void 0:_.percentage},checkoutAdmissionHandler:()=>{var e,n,l,t,i,o,d,a,s,c,r,u,v,m,_,p,h,f,g,x,j,y,N,b,I,Z;let S=2.1*+(null===$||void 0===$?void 0:$.amount)/100,C=S+18*+S/100;const A=parseInt(null===$||void 0===$?void 0:$.amount);var k=Math.ceil(A+ +C.toFixed(2));(0,ye.oU)({amount:null!==(e=+(null===$||void 0===$?void 0:$.amount))&&void 0!==e?e:10,amount_nocharges:null!==(n=+k)&&void 0!==n?n:0,type:"Hostel",paidBy:"".concat(null===w||void 0===w||null===(l=w.student)||void 0===l?void 0:l._id),paidTo:"".concat(null===w||void 0===w||null===(t=w.app_card)||void 0===t||null===(i=t.remaining_array)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.instituteId),moduleId:"".concat(null===w||void 0===w||null===(d=w.app_card)||void 0===d||null===(a=d.remaining_array)||void 0===a||null===(s=a[0])||void 0===s?void 0:s.appId),ad_status_id:null,payment_installment:null===w||void 0===w||null===(c=w.app_card)||void 0===c||null===(r=c.remaining_array)||void 0===r||null===(u=r[0])||void 0===u?void 0:u.installmentValue,ad_install:null,month:null,payment_remain_1:null,payment_card_type:null,payment_book_id:null,name:E.username,isApk:"web",payment_card_id:null!==(v=null===w||void 0===w||null===(m=w.app_card)||void 0===m?void 0:m.parent_card)&&void 0!==v?v:null,payment_remain_fees:$.pay_remain,charge:{num_platform_percent:null!==(_=null===Q||void 0===Q||null===(p=Q.platform_charges)||void 0===p?void 0:p.percentage)&&void 0!==_?_:0,num_platform_max:null!==(h=null===Q||void 0===Q||null===(f=Q.platform_charges)||void 0===f?void 0:f.maximum)&&void 0!==h?h:0,num_trans_pecent:null!==(g=null===Q||void 0===Q||null===(x=Q.transaction_charges)||void 0===x?void 0:x.percentage)&&void 0!==g?g:0,num_trans_max:null!==(j=null===Q||void 0===Q||null===(y=Q.transaction_charges)||void 0===y?void 0:y.maximum)&&void 0!==j?j:0,num_app_max:null!==(N=null===Q||void 0===Q?void 0:Q.application_charges)&&void 0!==N?N:0},nsid:null===w||void 0===w||null===(b=w.app_card)||void 0===b||null===(I=b.remaining_array)||void 0===I||null===(Z=I[0])||void 0===Z?void 0:Z._id}).then((e=>{var n,l;window.onScriptLoad(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(l=n.body)||void 0===l?void 0:l.txnToken,null===e||void 0===e?void 0:e.order,null===e||void 0===e?void 0:e.amount)})).catch((e=>{console.info(e)}))},isOptimzed:!0}):(0,I.jsx)(h.Z,{onClose:k,children:(0,I.jsxs)("div",{className:f.Z.modal_container,children:[(0,I.jsx)(v.default,{children:(0,I.jsxs)("div",{className:f.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:f.Z.modal_container_header,children:(0,I.jsx)("h6",{children:F("collect_fees")})}),(0,I.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:k})]})}),(0,I.jsx)(m.Z,{}),(0,I.jsxs)(v.default,{customStyle:{paddingTop:"0"},children:[(0,I.jsxs)("div",{className:f.Z.admission_fees_row,children:[(0,I.jsxs)("h6",{children:[F("applicable_amount")," :"]}),(0,I.jsxs)("h6",{children:[F("rs_only")," ",null!==(p=null===w||void 0===w||null===(g=w.app_card)||void 0===g?void 0:g.applicable_fee)&&void 0!==p?p:0]})]}),null!==w&&void 0!==w&&null!==(x=w.fee_struct)&&void 0!==x&&x.total_installments&&+(null===w||void 0===w||null===(Z=w.fee_struct)||void 0===Z?void 0:Z.total_installments)>1?(0,I.jsx)(he.Z,{label:"pay_rest_remaining_fees",children:null===ge.nj||void 0===ge.nj?void 0:ge.nj.map((e=>(0,I.jsx)(fe.Z,{tile:e,onTile:le,activeTile:L.pay_remain},null===e||void 0===e?void 0:e.id)))}):null,(0,I.jsx)(ve.Z,{label:"".concat(F(L.pay_remain?"amount_remain_installment":"amount_first_installment")," ").concat(L.pay_remain?q:null===w||void 0===w||null===(S=w.app_card)||void 0===S||null===(C=S.remaining_array)||void 0===C||null===(A=C[0])||void 0===A?void 0:A.remainAmount),placeholder:F("amoute_details_collect"),name:"amount",value:L.amount,type:"tel",onChange:e=>{G((n=>({...n,amount:+e.target.value,fee_payment_amount:+e.target.value}))),K((n=>({...n,amount:+e.target.value})))},errorShow:H.amount,msg:H.rest_issue}),(0,I.jsx)(pe.Z,{paymentHeading:F("payment_type_mode"),selectLabel:F("mode_placeholder"),onClick:e=>{G((n=>({...n,mode:"Online",fee_payment_mode:e})))},errorShow:H.fee_payment_mode,defalutValue:L.fee_payment_mode,selectedValue:F("please_select_payment_mode"),isAuthority:"admissionCollectModePg",customLabelStyle:{marginTop:"0"}}),"Payment Gateway"===L.fee_payment_mode?(0,I.jsx)(N.Z,{label:"collect",onAction:()=>{let e=(0,U.l)({amount:$.amount});var n,l,t,i;(0,U.x)(e)?$.pay_remain&&$.amount<q?Y({rest_issue:"Amount should not be less than total remaining fees"}):!$.pay_remain&&$.amount>(null===w||void 0===w||null===(n=w.app_card)||void 0===n||null===(l=n.remaining_array)||void 0===l||null===(t=l[0])||void 0===t?void 0:t.remainAmount)&&+(null===w||void 0===w||null===(i=w.fee_struct)||void 0===i?void 0:i.total_installments)>1?Y({rest_issue:"Amount should not be greater than remaining fees"}):null!==Q&&void 0!==Q&&Q.institute?P&&T&&(R((e=>!e)),ee({fid:T,appId:P,flow:"BY_HOSTEL"}).then((e=>{var n;R((e=>!e)),null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.denied?V({open:!0,msg:"Account is not activated",variant:"error"}):K((e=>({...e,isTransaction:!0})))})).catch({})):V({open:!0,msg:"Online Payment Not Activated",variant:"error"}):Y(e)}}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(me.Z,{label:F("select_date_of_transaction"),placeholder:F("please_select_date"),name:"transaction_date",value:L.transaction_date,onChange:e=>{G((n=>({...n,transaction_date:(0,_e.jh)(e)})))},errorShow:H.transaction_date}),"Cash"===L.fee_payment_mode?null:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(ve.Z,{label:F("bank_name_collect"),placeholder:F("please_enter_bank_name"),name:"fee_bank_name",value:L.fee_bank_name,type:"text",onChange:ne}),(0,I.jsx)(ve.Z,{label:F("banke_holder_name"),placeholder:F("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:L.fee_bank_holder,type:"text",onChange:ne}),(0,I.jsx)(ve.Z,{label:F("cheque_dd_neft"),placeholder:F("please_enter_utr_ref_number"),name:"fee_utr_reference",value:L.fee_utr_reference,type:"text",onChange:ne})]}),(0,I.jsx)(N.Z,{label:"collect",onAction:()=>{let e=(0,U.l)(L,["mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference","pay_remain"]);var n,l,t,i;(0,U.x)(e)?L.pay_remain&&L.amount<q?Y({rest_issue:"Amount should not be less than total remaining fees"}):!L.pay_remain&&L.amount>(null===w||void 0===w||null===(n=w.app_card)||void 0===n||null===(l=n.remaining_array)||void 0===l||null===(t=l[0])||void 0===t?void 0:t.remainAmount)&&+(null===w||void 0===w||null===(i=w.fee_struct)||void 0===i?void 0:i.total_installments)>1?Y({rest_issue:"Amount should not be greater than remaining fees"}):P&&T&&(R((e=>!e)),ee({fid:T,appId:P,flow:"BY_HOSTEL"}).then((e=>{var n,l,t,i,o,d,a,s,c,r,u,v,m,_,p,h,f,g,x,j,y,N,b,I,Z,S;null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.denied?(V({open:!0,msg:"Account is not activated",variant:"error"}),R((e=>!e))):null!==w&&void 0!==w&&null!==(l=w.student)&&void 0!==l&&l._id&&P&&X({sid:null===w||void 0===w||null===(t=w.student)||void 0===t?void 0:t._id,appId:P,collect:{card_id:null===w||void 0===w||null===(i=w.app_card)||void 0===i?void 0:i._id,rid:null===w||void 0===w||null===(o=w.payment_flow)||void 0===o?void 0:o._id,raid:null===w||void 0===w||null===(d=w.app_card)||void 0===d||null===(a=d.remaining_array)||void 0===a||null===(s=a[0])||void 0===s?void 0:s._id,nsid:null===w||void 0===w||null===(c=w.app_card)||void 0===c||null===(r=c.remaining_array)||void 0===r||null===(u=r[0])||void 0===u?void 0:u._id,type:null===w||void 0===w||null===(v=w.app_card)||void 0===v||null===(m=v.remaining_array)||void 0===m||null===(_=m[0])||void 0===_?void 0:_.installmentValue,raid_1:null!==(p=null===w||void 0===w||null===(h=w.app_card)||void 0===h||null===(f=h.remaining_array)||void 0===f||null===(g=f[1])||void 0===g?void 0:g._id)&&void 0!==p?p:"",amount:null!==(x=null===L||void 0===L?void 0:L.amount)&&void 0!==x?x:"",mode:"Cash"===(null===L||void 0===L?void 0:L.fee_payment_mode)?"Offline":null!==(j=null===L||void 0===L?void 0:L.mode)&&void 0!==j?j:"",fee_payment_mode:"Cash"===(null===L||void 0===L?void 0:L.fee_payment_mode)?"By Cash":null===L||void 0===L?void 0:L.fee_payment_mode,fee_payment_amount:null!==(y=null===L||void 0===L?void 0:L.fee_payment_amount)&&void 0!==y?y:"",transaction_date:null!==(N=(0,_e._1)(L.transaction_date))&&void 0!==N?N:"",fee_bank_name:null!==(b=null===L||void 0===L?void 0:L.fee_bank_name)&&void 0!==b?b:"",fee_bank_holder:null!==(I=null===L||void 0===L?void 0:L.fee_bank_holder)&&void 0!==I?I:"",fee_utr_reference:null!==(Z=null===L||void 0===L?void 0:L.fee_utr_reference)&&void 0!==Z?Z:"",pay_remain:L.pay_remain,staffId:null===(S=O.state)||void 0===S?void 0:S.sid}}).then((e=>{var n,l;"Already Fee Collected "===(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)?(V({open:!0,msg:null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.message,variant:"error"}),R((e=>!e))):(W(1),R((e=>!e)))})).catch({})})).catch({})):Y(e)}})]})]})]})}),M&&(0,I.jsx)(y.default,{}),(0,I.jsx)(j.Z,{eventState:J,eventStateHandler:V})]})})},Ie=e=>{var n,l,t,o,s,c,u,v,m,_,p,h,f,g,j,N,Z,S,C,A,k,w,P,D,T,O,R,U,L,G,q,z,H,Y,J,B,W;let{instituteId:$,applicant:K,appId:Q,onRefetch:X,financeId:ee}=e;const{t:ne}=(0,a.$G)(),le=(0,i.UO)(),te=(0,i.s0)(),ie=(0,i.TH)(),[oe,de]=(0,d.useState)(0),[ae,se]=(0,d.useState)(!1),[ce]=(0,b.hB)(),re=(0,d.useCallback)((()=>{var e,n,l;te("/q/".concat(le.username,"/member/student/admission/profile"),{state:{sid:null===K||void 0===K||null===(e=K.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:$,collectAccess:"ADMISSION_ADMIN",editInstallmentControl:"authorized",whichUrl:"Institute"===(null===(n=ie.state)||void 0===n?void 0:n.urlOffSet)?"INSTITUTE":null,onlyReadView:null===(l=ie.state)||void 0===l?void 0:l.role,subjectData:{subjectChange:"authorized",appId:Q}}})}),[$,null===K||void 0===K||null===(n=K.student)||void 0===n?void 0:n._id]),ue=()=>{de("")};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:x.Z.oac_container,onClick:re,title:"View Profile",children:[(0,I.jsxs)("div",{className:x.Z.oac_container_inner,children:[(0,I.jsx)("img",{alt:"Student Request Avatar",src:null!==K&&void 0!==K&&null!==(l=K.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(F.yI,"/").concat(null===K||void 0===K||null===(t=K.student)||void 0===t?void 0:t.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,I.jsxs)("div",{className:x.Z.oac_container_inner_info,children:[(0,I.jsx)("h6",{children:"".concat(null!==(o=null===K||void 0===K||null===(s=K.student)||void 0===s?void 0:s.studentFirstName)&&void 0!==o?o:""," ").concat(null!==K&&void 0!==K&&null!==(c=K.student)&&void 0!==c&&c.studentMiddleName?null===K||void 0===K||null===(u=K.student)||void 0===u?void 0:u.studentMiddleName:""," ").concat(null!==(v=null===K||void 0===K||null===(m=K.student)||void 0===m?void 0:m.studentLastName)&&void 0!==v?v:"")}),(0,I.jsxs)("h6",{children:[ne("fee_structure")," : ",null!==(_=null===K||void 0===K||null===(p=K.fee_struct)||void 0===p||null===(h=p.unique_structure_name)||void 0===h||null===(f=h.split(" - "))||void 0===f?void 0:f[0])&&void 0!==_?_:"",", ",ne("rs_only")," ",null!==(g=null===K||void 0===K||null===(j=K.fee_struct)||void 0===j?void 0:j.applicable_fees)&&void 0!==g?g:""]}),(0,I.jsxs)("p",{children:[ne("form_no_only"),": ",null!==(N=null===K||void 0===K||null===(Z=K.student)||void 0===Z?void 0:Z.form_no)&&void 0!==N?N:""]}),(0,I.jsxs)("p",{children:[ne("select_on"),":",M()(null===K||void 0===K?void 0:K.select_on).format("DD MMM YYYY")]})]})]}),(0,I.jsxs)("div",{className:x.Z.oac_container_contact,children:[(0,I.jsxs)("div",{className:x.Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(r.U_,"/gender.svg"),alt:"email icon"}),(0,I.jsx)("p",{children:null===K||void 0===K||null===(S=K.student)||void 0===S?void 0:S.studentGender})]}),(0,I.jsxs)("div",{className:x.Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(r.U_,"/phone.svg"),alt:"phone icon"}),(0,I.jsx)("p",{children:null!==K&&void 0!==K&&null!==(C=K.student)&&void 0!==C&&null!==(A=C.user)&&void 0!==A&&A.userPhoneNumber?null===K||void 0===K||null===(k=K.student)||void 0===k||null===(w=k.user)||void 0===w?void 0:w.userPhoneNumber:null!==K&&void 0!==K&&null!==(P=K.student)&&void 0!==P&&null!==(D=P.user)&&void 0!==D&&D.userEmail?null===K||void 0===K||null===(T=K.student)||void 0===T||null===(O=T.user)||void 0===O?void 0:O.userEmail:null!==K&&void 0!==K&&null!==(R=K.student)&&void 0!==R&&R.studentPhoneNumber?null===K||void 0===K||null===(U=K.student)||void 0===U?void 0:U.studentPhoneNumber:null!==K&&void 0!==K&&null!==(L=K.student)&&void 0!==L&&L.studentParentsPhoneNumber?null===K||void 0===K||null===(G=K.student)||void 0===G?void 0:G.studentParentsPhoneNumber:null!==(q=null===K||void 0===K||null===(z=K.student)||void 0===z?void 0:z.studentEmail)&&void 0!==q?q:""})]})]}),(0,I.jsxs)("div",{className:x.Z.oac_container_stuff,children:[(0,I.jsx)("a",{href:"".concat(F.q2,"/").concat(null===K||void 0===K||null===(H=K.student)||void 0===H||null===(Y=H.application_print)||void 0===Y||null===(J=Y[0])||void 0===J?void 0:J.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,I.jsx)("img",{src:"".concat(r.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),"ONGOING_VIEW_ACCESS"===(null===(B=ie.state)||void 0===B?void 0:B.role)?null:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("img",{src:"".concat(r.U_,"/undo.svg"),alt:"undo icon",style:{width:"30px",height:"30px"},onClick:e=>{var n,l,t,i,o;(e.stopPropagation(),null!==K&&void 0!==K&&null!==(n=K.student)&&void 0!==n&&n._id&&Q&&null!==K&&void 0!==K&&K.status_id&&null!==K&&void 0!==K&&K.revert_request_status&&null!==K&&void 0!==K&&K._id&&null!==K&&void 0!==K&&null!==(l=K.payment_flow)&&void 0!==l&&l._id)&&(se((e=>!e)),ce({sid:null===K||void 0===K||null===(t=K.student)||void 0===t?void 0:t._id,appId:Q,revert:{statusId:null===K||void 0===K?void 0:K.status_id,fcid:null===K||void 0===K?void 0:K._id,rid:null===K||void 0===K||null===(i=K.payment_flow)||void 0===i?void 0:i._id,revert_status:null===K||void 0===K?void 0:K.revert_request_status,staffId:null===(o=ie.state)||void 0===o?void 0:o.sid}}).then((()=>{X(),se((e=>!e))})).catch((()=>{se((e=>!e))})))},title:"Undo Application"}),(0,I.jsx)(E.Z,{label:"collect_fees",onAction:e=>{e.stopPropagation(),de(1)},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}})]}),(0,I.jsx)("img",{src:"".concat(r.J7,"/menu.svg"),alt:"menu icon",onClick:e=>{e.stopPropagation(),de(2)}})]})]}),1===oe?(0,I.jsx)(be,{onClose:ue,onRefetch:X,applicant:K,appId:Q,financeId:ee}):2===oe?(0,I.jsx)(V,{onClose:ue,studentId:null===K||void 0===K||null===(W=K.student)||void 0===W?void 0:W._id}):null,ae&&(0,I.jsx)(y.default,{})]})},Ze=e=>{var n,l,t,r,u,m;let{applicationDetail:_,instituteId:p,hid:h,financeId:f}=e;const{t:g}=(0,a.$G)(),x=(0,i.TH)(),[j,N]=(0,d.useState)(""),[b,Z]=(0,d.useState)(""),[S,C]=(0,d.useState)(1),[k,w]=(0,d.useState)(!0),[F,O]=(0,s.YD)({skip:j}),{admissionOngoingApplicationFees:M,admissionOngoingApplicationFeesLoading:R,admissionOngoingApplicationFeesRefetch:E}=(0,o.TM)({data:{appId:null===(n=x.state)||void 0===n?void 0:n.appId,page:S,limit:10,search:j},skip:!(null!==(l=x.state)&&void 0!==l&&l.appId)});(0,d.useEffect)((()=>{O&&k&&C((e=>e+1))}),[O,k]),(0,d.useEffect)((()=>{var e;if(null!==M&&void 0!==M&&null!==(e=M.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===M||void 0===M||null===(n=M.list)||void 0===n?void 0:n.length);w((()=>e))}}),[null===M||void 0===M||null===(t=M.list)||void 0===t?void 0:t.length]);const U=(0,d.useCallback)((()=>{C((()=>1)),E()}),[]);return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(P.default,{children:[(0,I.jsx)(A,{applicationDetail:_}),(0,I.jsxs)(v.default,{customStyle:{paddingTop:"0.2rem"},children:[(0,I.jsx)(ie,{applicationDetail:_,instituteId:p,isExportAccess:"Fees_Query",hid:h,children:(0,I.jsx)("input",{type:"text",placeholder:g("search_applicants"),onChange:e=>{var n;!R&&(null===M||void 0===M||null===(n=M.list)||void 0===n?void 0:n.length)>=0&&Z(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(C((()=>1)),N(b))},value:b})}),null===M||void 0===M||null===(r=M.list)||void 0===r?void 0:r.map(((e,n)=>{var l,t,i;return(null===M||void 0===M||null===(l=M.list)||void 0===l?void 0:l.length)===n+1?(0,I.jsx)("div",{ref:F,children:(0,I.jsx)(Ie,{applicant:e,instituteId:p,onRefetch:U,appId:null===(t=x.state)||void 0===t?void 0:t.appId,financeId:f})},null===e||void 0===e?void 0:e._id):(0,I.jsx)(Ie,{applicant:e,instituteId:p,onRefetch:U,appId:null===(i=x.state)||void 0===i?void 0:i.appId,financeId:f},null===e||void 0===e?void 0:e._id)})),R?j?(0,I.jsx)(y.default,{}):(0,I.jsx)(I.Fragment,{children:1===S?(0,I.jsx)(y.default,{}):(0,I.jsx)(T.Z,{})}):j?0===(null===M||void 0===M||null===(u=M.list)||void 0===u?void 0:u.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===M||void 0===M||null===(m=M.list)||void 0===m?void 0:m.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]})})};var Se=l(66239);const Ce=e=>{var n,l,t,o,s,c,u,v,m,_,p,h,f,g,j,N,Z,S,C,A,k,w,P,D,T,O,U,L,G,q,z,H,Y,J;let{instituteId:B,applicant:W,appId:$,onRefetch:K,isMultiple:Q,onSelect:X,applicantId:ee}=e;const{t:ne}=(0,a.$G)(),le=(0,i.UO)(),te=(0,i.TH)(),[ie,oe]=(0,d.useState)(0),de=(0,i.s0)(),[ae,se]=(0,d.useState)(!1),[ce]=(0,b.N7)(),re=(0,d.useCallback)((()=>{var e,n,l;de("/q/".concat(le.username,"/student/profile"),{state:{sid:null===W||void 0===W||null===(e=W.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:B,collectAccess:"ADMISSION_ADMIN",editInstallmentControl:"authorized",govtAccess:"Other",cancelAccess:!1,editStructureControl:"authorized",editGovtNumberContorl:"authorized",editGovtInstallmentControl:"authorized",isSearchEnable:"notauthorized",whichUrl:"Institute"===(null===(n=te.state)||void 0===n?void 0:n.urlOffSet)?"INSTITUTE":null,onlyReadView:null===(l=te.state)||void 0===l?void 0:l.role,subjectData:{subjectChange:"authorized",appId:$}}})}),[B,null===W||void 0===W||null===(n=W.student)||void 0===n?void 0:n._id]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:x.Z.oac_container,onClick:re,title:"View Profile",children:[Q?(0,I.jsx)("img",{className:x.Z.department_checkbox,src:null!==ee&&void 0!==ee&&ee.includes(null===W||void 0===W||null===(l=W.student)||void 0===l?void 0:l._id)?"".concat(r.U_,"/check.svg"):"".concat(r.U_,"/uncheck.svg"),alt:"check icon",onClick:e=>{var n;return X(e,null===W||void 0===W||null===(n=W.student)||void 0===n?void 0:n._id,null===W||void 0===W?void 0:W._id)}}):null,(0,I.jsxs)("div",{className:x.Z.oac_container_inner,children:[(0,I.jsx)("img",{alt:"Student Request Avatar",src:null!==W&&void 0!==W&&null!==(t=W.student)&&void 0!==t&&t.studentProfilePhoto?"".concat(F.yI,"/").concat(null===W||void 0===W||null===(o=W.student)||void 0===o?void 0:o.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,I.jsxs)("div",{className:x.Z.oac_container_inner_info,children:[(0,I.jsx)("h6",{children:"".concat(null!==(s=null===W||void 0===W||null===(c=W.student)||void 0===c?void 0:c.studentFirstName)&&void 0!==s?s:""," ").concat(null!==W&&void 0!==W&&null!==(u=W.student)&&void 0!==u&&u.studentMiddleName?null===W||void 0===W||null===(v=W.student)||void 0===v?void 0:v.studentMiddleName:""," ").concat(null!==(m=null===W||void 0===W||null===(_=W.student)||void 0===_?void 0:_.studentLastName)&&void 0!==m?m:"")}),(0,I.jsxs)("p",{children:[ne("form_no_only"),": ",null!==(p=null===W||void 0===W||null===(h=W.student)||void 0===h?void 0:h.form_no)&&void 0!==p?p:""]}),(0,I.jsxs)("p",{children:[ne("confirmed_on"),":"," ",M()(null===W||void 0===W?void 0:W.apply_on).format("DD MMM YYYY")]})]})]}),(0,I.jsxs)("div",{className:x.Z.oac_container_contact,children:[(0,I.jsxs)("div",{className:x.Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(r.U_,"/gender.svg"),alt:"email icon"}),(0,I.jsx)("p",{children:null===W||void 0===W||null===(f=W.student)||void 0===f?void 0:f.studentGender})]}),(0,I.jsxs)("div",{className:x.Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(r.U_,"/phone.svg"),alt:"phone icon"}),(0,I.jsx)("p",{children:null!==W&&void 0!==W&&null!==(g=W.student)&&void 0!==g&&null!==(j=g.user)&&void 0!==j&&j.userPhoneNumber?null===W||void 0===W||null===(N=W.student)||void 0===N||null===(Z=N.user)||void 0===Z?void 0:Z.userPhoneNumber:null!==W&&void 0!==W&&null!==(S=W.student)&&void 0!==S&&null!==(C=S.user)&&void 0!==C&&C.userEmail?null===W||void 0===W||null===(A=W.student)||void 0===A||null===(k=A.user)||void 0===k?void 0:k.userEmail:null!==W&&void 0!==W&&null!==(w=W.student)&&void 0!==w&&w.studentPhoneNumber?null===W||void 0===W||null===(P=W.student)||void 0===P?void 0:P.studentPhoneNumber:null!==W&&void 0!==W&&null!==(D=W.student)&&void 0!==D&&D.studentParentsPhoneNumber?null===W||void 0===W||null===(T=W.student)||void 0===T?void 0:T.studentParentsPhoneNumber:null!==(O=null===W||void 0===W||null===(U=W.student)||void 0===U?void 0:U.studentEmail)&&void 0!==O?O:""})]})]}),(0,I.jsxs)("div",{className:x.Z.oac_container_stuff,children:[(0,I.jsx)("a",{href:"".concat(F.q2,"/").concat(null===W||void 0===W||null===(L=W.student)||void 0===L||null===(G=L.application_print)||void 0===G||null===(q=G[0])||void 0===q?void 0:q.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,I.jsx)("img",{src:"".concat(r.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),null===W||void 0===W||null===(z=W.student)||void 0===z||null===(H=z.fee_receipt)||void 0===H?void 0:H.map(((e,n)=>n>2?"":(0,I.jsx)(Se.Z,{rid:null===e||void 0===e?void 0:e._id,receiptFile:null===e||void 0===e?void 0:e.receipt_file},null===e||void 0===e?void 0:e._id))),Q?null:(0,I.jsx)(I.Fragment,{children:"ONGOING_VIEW_ACCESS"===(null===(Y=te.state)||void 0===Y?void 0:Y.role)?null:(0,I.jsx)(R.Z,{children:(0,I.jsx)(E.Z,{label:"review",onAction:e=>{var n,l,t;(e.stopPropagation(),null!==W&&void 0!==W&&null!==(n=W.student)&&void 0!==n&&n._id&&$)&&(se((e=>!e)),ce({appId:$,review:{student_arr:[{sid:null===W||void 0===W||null===(l=W.student)||void 0===l?void 0:l._id,cid:null===W||void 0===W?void 0:W._id}],staffId:null===(t=te.state)||void 0===t?void 0:t.sid}}).then((()=>{K(),se((e=>!e))})).catch({}))},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}})})}),(0,I.jsx)("img",{src:"".concat(r.J7,"/menu.svg"),alt:"menu icon",onClick:e=>{e.stopPropagation(),oe(3)}})]})]}),3===ie?(0,I.jsx)(V,{onClose:()=>{oe("")},studentId:null===W||void 0===W||null===(J=W.student)||void 0===J?void 0:J._id}):null,ae&&(0,I.jsx)(y.default,{})]})},Ae=e=>{var n,l,t,r,u,m,_;let{applicationDetail:p,instituteId:h}=e;const{t:f}=(0,a.$G)(),g=(0,i.TH)(),x=(0,i.s0)(),j=(0,i.UO)(),[N,b]=(0,d.useState)(""),[Z,S]=(0,d.useState)(""),[C,k]=(0,d.useState)(1),[w,F]=(0,d.useState)(!0),[O,M]=(0,s.YD)({skip:N}),{admissionOngoingApplicationConfirm:R,admissionOngoingApplicationConfirmLoading:E,admissionOngoingApplicationConfirmRefetch:U}=(0,o.Hi)({data:{appId:null===(n=g.state)||void 0===n?void 0:n.appId,page:C,limit:10,search:N},skip:!(null!==(l=g.state)&&void 0!==l&&l.appId)});(0,d.useEffect)((()=>{M&&w&&k((e=>e+1))}),[M,w]),(0,d.useEffect)((()=>{var e;if(null!==R&&void 0!==R&&null!==(e=R.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===R||void 0===R||null===(n=R.list)||void 0===n?void 0:n.length);F((()=>e))}}),[null===R||void 0===R||null===(t=R.list)||void 0===t?void 0:t.length]);const L=(0,d.useCallback)((()=>{k((()=>1)),U()}),[U]);return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(P.default,{children:[(0,I.jsx)(A,{applicationDetail:p,instituteId:h}),(0,I.jsxs)(v.default,{customStyle:{paddingTop:"0.2rem"},children:[(0,I.jsx)(ie,{applicationDetail:p,instituteId:h,onMultipleSelect:()=>{var e;let n="Institute"===(null===(e=g.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(j.username,"/institute/member/admission?type=hostel-ongoing-detail&n=confirmed-multi"):"/q/".concat(j.username,"/member/staff/admission?type=hostel-ongoing-detail&n=confirmed-multi");x(n,{state:g.state})},isExportAccess:"Confirm_Query",isFull:"isCompleted"===(null===(r=g.state)||void 0===r?void 0:r.isAuthorization),children:(0,I.jsx)("input",{type:"text",placeholder:f("search_applicants"),onChange:e=>{var n;!E&&(null===R||void 0===R||null===(n=R.list)||void 0===n?void 0:n.length)>=0&&S(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(k((()=>1)),b(Z))},value:Z})}),null===R||void 0===R||null===(u=R.list)||void 0===u?void 0:u.map(((e,n)=>{var l,t,i;return(null===R||void 0===R||null===(l=R.list)||void 0===l?void 0:l.length)===n+1?(0,I.jsx)("div",{ref:O,children:(0,I.jsx)(Ce,{applicant:e,instituteId:h,onRefetch:L,appId:null===(t=g.state)||void 0===t?void 0:t.appId})},null===e||void 0===e?void 0:e._id):(0,I.jsx)(Ce,{applicant:e,instituteId:h,onRefetch:L,appId:null===(i=g.state)||void 0===i?void 0:i.appId},null===e||void 0===e?void 0:e._id)})),E?N?(0,I.jsx)(y.default,{}):(0,I.jsx)(I.Fragment,{children:1===C?(0,I.jsx)(y.default,{}):(0,I.jsx)(T.Z,{})}):N?0===(null===R||void 0===R||null===(m=R.list)||void 0===m?void 0:m.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===R||void 0===R||null===(_=R.list)||void 0===_?void 0:_.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]})})},ke=e=>{var n,l,t,i,o,d,s,c,u,v,m,_,p,h,f,g,j,y,N,b,Z,S,C,A,k,w;let{applicant:P,onSelect:D,applicantId:T}=e;const{t:O}=(0,a.$G)();return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)("div",{className:x.Z.oac_container,onClick:()=>{var e;return D(null===P||void 0===P||null===(e=P.student)||void 0===e?void 0:e._id,null===P||void 0===P?void 0:P._id)},style:{justifyContent:"flex-start"},children:[(0,I.jsx)("img",{className:x.Z.department_checkbox,src:null!==T&&void 0!==T&&T.includes(null===P||void 0===P||null===(n=P.student)||void 0===n?void 0:n._id)?"".concat(r.U_,"/check.svg"):"".concat(r.U_,"/uncheck.svg"),alt:"check icon"}),(0,I.jsxs)("div",{className:x.Z.oac_container_inner,children:[(0,I.jsx)("img",{alt:"Student Request Avatar",src:null!==P&&void 0!==P&&null!==(l=P.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(F.yI,"/").concat(null===P||void 0===P||null===(t=P.student)||void 0===t?void 0:t.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,I.jsxs)("div",{className:x.Z.oac_container_inner_info,children:[(0,I.jsx)("h6",{children:"".concat(null!==(i=null===P||void 0===P||null===(o=P.student)||void 0===o?void 0:o.studentFirstName)&&void 0!==i?i:""," ").concat(null!==P&&void 0!==P&&null!==(d=P.student)&&void 0!==d&&d.studentMiddleName?null===P||void 0===P||null===(s=P.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null!==(c=null===P||void 0===P||null===(u=P.student)||void 0===u?void 0:u.studentLastName)&&void 0!==c?c:"")}),(0,I.jsxs)("p",{children:[O("form_no_only"),": ",null!==(v=null===P||void 0===P||null===(m=P.student)||void 0===m?void 0:m.form_no)&&void 0!==v?v:""]}),(0,I.jsxs)("p",{children:[O("confirmed_on"),":"," ",M()(null===P||void 0===P?void 0:P.apply_on).format("DD MMM YYYY")]})]})]}),(0,I.jsxs)("div",{className:x.Z.oac_container_contact,children:[(0,I.jsxs)("div",{className:x.Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(r.U_,"/gender.svg"),alt:"email icon"}),(0,I.jsx)("p",{children:null===P||void 0===P||null===(_=P.student)||void 0===_?void 0:_.studentGender})]}),(0,I.jsxs)("div",{className:x.Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(r.U_,"/phone.svg"),alt:"phone icon"}),(0,I.jsx)("p",{children:null!==P&&void 0!==P&&null!==(p=P.student)&&void 0!==p&&null!==(h=p.user)&&void 0!==h&&h.userPhoneNumber?null===P||void 0===P||null===(f=P.student)||void 0===f||null===(g=f.user)||void 0===g?void 0:g.userPhoneNumber:null!==P&&void 0!==P&&null!==(j=P.student)&&void 0!==j&&null!==(y=j.user)&&void 0!==y&&y.userEmail?null===P||void 0===P||null===(N=P.student)||void 0===N||null===(b=N.user)||void 0===b?void 0:b.userEmail:null!==P&&void 0!==P&&null!==(Z=P.student)&&void 0!==Z&&Z.studentPhoneNumber?null===P||void 0===P||null===(S=P.student)||void 0===S?void 0:S.studentPhoneNumber:null!==P&&void 0!==P&&null!==(C=P.student)&&void 0!==C&&C.studentParentsPhoneNumber?null===P||void 0===P||null===(A=P.student)||void 0===A?void 0:A.studentParentsPhoneNumber:null!==(k=null===P||void 0===P||null===(w=P.student)||void 0===w?void 0:w.studentEmail)&&void 0!==k?k:""})]})]})]})})},we=e=>{var n,l,t,s;let{applicationDetail:c,instituteId:m}=e;const{t:_}=(0,a.$G)(),p=(0,i.TH)(),h=(0,i.s0)(),[f,g]=(0,d.useState)(""),[x,j]=(0,d.useState)([]),[N,Z]=(0,d.useState)([]),[S,C]=(0,d.useState)(!1),[k,w]=(0,d.useState)([]),[F,O]=(0,d.useState)(!1),[M]=(0,b.N7)(),{admissionOngoingApplicationAllConfirmList:U,admissionOngoingApplicationAllConfirmListLoading:L,admissionOngoingApplicationAllConfirmListRefetch:G}=(0,o.m2)({data:{appId:null===(n=p.state)||void 0===n?void 0:n.appId},skip:!(null!==(l=p.state)&&void 0!==l&&l.appId)});(0,d.useEffect)((()=>{null!==U&&void 0!==U&&U.length&&w(U)}),[null===U||void 0===U?void 0:U.length]);const q=()=>{h(-1)},z=(e,n)=>{null!==x&&void 0!==x&&x.includes(e)?(j((n=>null===n||void 0===n?void 0:n.filter((n=>n!==e)))),Z((n=>null===n||void 0===n?void 0:n.filter((n=>(null===n||void 0===n?void 0:n.sid)!==e))))):(j((n=>[...n,e])),Z((l=>[...l,{sid:e,cid:n}])))};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(P.default,{children:[(0,I.jsx)(A,{applicationDetail:c,instituteId:m}),(0,I.jsxs)(v.default,{customStyle:{paddingTop:"0.2rem"},children:[(0,I.jsxs)(R.Z,{customStyle:{justifyContent:"space-between",marginBottom:"0.7rem"},children:[(0,I.jsx)("section",{className:u.Z.fm_search_container,children:(0,I.jsxs)("div",{className:u.Z.fm_search_container_inner,style:{minWidth:"500px"},children:[(0,I.jsx)("img",{className:u.Z.fm_search_icon,alt:"search icon",src:"".concat(r.dB,"/navbar-search.svg")}),(0,I.jsx)("input",{type:"text",placeholder:_("search_applicants"),onChange:e=>{if(e.target.value){let n=De(U,e.target.value);w(n)}else g(""),w(U)},style:{minWidth:"500px"}})]})}),(0,I.jsxs)("div",{className:u.Z.fm_flex,children:[!Pe[null===(t=p.state)||void 0===t?void 0:t.isAuthorization]&&(0,I.jsx)(E.Z,{label:F?"remove_all":"select_all",count:null===x||void 0===x?void 0:x.length,onAction:F?()=>{j([]),Z([]),O(!1)}:()=>{let e=[],n=[];for(let i of U){var l,t;e.push(null===i||void 0===i||null===(l=i.student)||void 0===l?void 0:l._id),n.push({sid:null===i||void 0===i||null===(t=i.student)||void 0===t?void 0:t._id,cid:null===i||void 0===i?void 0:i._id})}j(e),Z(n),O(!0)},customStyle:{padding:"0.5rem 1rem",fontSize:"13px"}}),!Pe[null===(s=p.state)||void 0===s?void 0:s.isAuthorization]&&(0,I.jsx)(E.Z,{label:"review",onAction:()=>{var e,n,l;(null===x||void 0===x?void 0:x.length)>0&&null!==(e=p.state)&&void 0!==e&&e.appId&&(C((e=>!e)),M({appId:null===(n=p.state)||void 0===n?void 0:n.appId,review:{student_arr:N,staffId:null===(l=p.state)||void 0===l?void 0:l.sid}}).then((()=>{G(),C((e=>!e)),j([]),Z([]),O(!1),q()})).catch({}))},customStyle:{padding:"0.5rem 1rem",fontSize:"13px",opacity:(null===x||void 0===x?void 0:x.length)>0?"1":"0.5"}}),(0,I.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:q})]})]}),null===k||void 0===k?void 0:k.map((e=>(0,I.jsx)(ke,{applicant:e,applicantId:x,onSelect:z},null===e||void 0===e?void 0:e._id))),L?f?(0,I.jsx)(y.default,{}):(0,I.jsx)(T.Z,{}):f?0===(null===k||void 0===k?void 0:k.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===k||void 0===k?void 0:k.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]}),S&&(0,I.jsx)(y.default,{})]})},Pe={isCompleted:!0},De=(e,n)=>null===e||void 0===e?void 0:e.filter((e=>{var l,t,i,o;let d="".concat(null===e||void 0===e||null===(l=e.student)||void 0===l?void 0:l.studentFirstName," ").concat(null===e||void 0===e||null===(t=e.student)||void 0===t?void 0:t.studentMiddleName," ").concat(null===e||void 0===e||null===(i=e.student)||void 0===i?void 0:i.studentLastName);return null!==d&&void 0!==d&&null!==(o=d.toLowerCase())&&void 0!==o&&o.includes(null===n||void 0===n?void 0:n.toLowerCase())?e:null})),Te=e=>{var n;let{onClose:l,applicant:t,appId:o,onRefetch:s}=e;const{t:c}=(0,a.$G)(),u=(0,i.TH)(),[_,p]=(0,d.useState)(!1),[g,x]=(0,d.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),[j,Z]=(0,d.useState)(""),[S,C]=(0,d.useState)(0),[A]=(0,b.qJ)();(0,d.useEffect)((()=>{var e,n;if((null===t||void 0===t||null===(e=t.student)||void 0===e||null===(n=e.paidFeeList)||void 0===n?void 0:n.length)>0){var l,i,d,a;const e=null===t||void 0===t||null===(l=t.student)||void 0===l||null===(i=l.paidFeeList)||void 0===i?void 0:i.filter((e=>(null===e||void 0===e?void 0:e.appId)===o));C(null!==(d=null===e||void 0===e||null===(a=e[0])||void 0===a?void 0:a.paidAmount)&&void 0!==d?d:0)}}),[null===t||void 0===t||null===(n=t.student)||void 0===n?void 0:n.paidFeeList]);const k=e=>{x((n=>({...n,[e.target.name]:e.target.value})))};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(h.Z,{onClose:l,children:(0,I.jsxs)("div",{className:f.Z.modal_container,children:[(0,I.jsx)(v.default,{children:(0,I.jsxs)("div",{className:f.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:f.Z.modal_container_header,children:(0,I.jsx)("h6",{children:c("cancel_hostel_addmission")})}),(0,I.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:l})]})}),(0,I.jsx)(m.Z,{}),(0,I.jsxs)(v.default,{customStyle:{paddingTop:"0"},children:[(0,I.jsxs)("div",{className:f.Z.admission_fees_row,children:[(0,I.jsxs)("h6",{children:[c("fees_paid")," :"]}),(0,I.jsxs)("h6",{children:[c("rs_only")," ",S]})]}),(0,I.jsx)(ve.Z,{label:"".concat(c("refund_amount")),placeholder:c("please_enter_refund_amount"),name:"amount",value:g.amount,type:"tel",onChange:e=>{x((n=>({...n,amount:+e.target.value,fee_payment_amount:+e.target.value})))},errorShow:j.amount}),(0,I.jsx)(pe.Z,{paymentHeading:c("refund_payment_type_mode"),selectLabel:c("mode_placeholder"),onClick:e=>{x((n=>({...n,mode:"By Cash"===e?"Offline":"Online",fee_payment_mode:e})))},errorShow:j.fee_payment_mode,defalutValue:g.fee_payment_mode,selectedValue:c("please_select_payment_mode"),isAuthority:"admissionCollectMode"}),(0,I.jsx)(me.Z,{label:c("select_date_of_transaction"),placeholder:c("please_select_date"),name:"transaction_date",value:g.transaction_date,onChange:e=>{x((n=>({...n,transaction_date:(0,_e.jh)(e)})))},errorShow:j.transaction_date}),"Cash"===g.fee_payment_mode?null:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:f.Z.admission_fees_row,style:{margin:0},children:(0,I.jsx)("h6",{style:{margin:0,marginTop:"1rem"},children:c("paid_to")})}),(0,I.jsx)(ve.Z,{label:c("bank_name_collect"),placeholder:c("please_enter_bank_name"),name:"fee_bank_name",value:g.fee_bank_name,type:"text",onChange:k}),(0,I.jsx)(ve.Z,{label:c("banke_holder_name"),placeholder:c("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:g.fee_bank_holder,type:"text",onChange:k}),(0,I.jsx)(ve.Z,{label:c("cheque_dd_neft"),placeholder:c("please_enter_utr_ref_number"),name:"fee_utr_reference",value:g.fee_utr_reference,type:"text",onChange:k})]}),(0,I.jsx)(N.Z,{label:"confirm",onAction:()=>{let e=(0,U.l)(g,["mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference"]);var n,i,d,a,c,r,v,m,_,h,f,x,j,y,N,b;(0,U.x)(e)?null!==t&&void 0!==t&&null!==(n=t.student)&&void 0!==n&&n._id&&o&&null!==t&&void 0!==t&&null!==(i=t.student)&&void 0!==i&&null!==(d=i.hostel_fee_structure)&&void 0!==d&&d._id&&(p((e=>!e)),A({sid:null===t||void 0===t||null===(a=t.student)||void 0===a?void 0:a._id,appId:o,bodyParameter:{struct:null===t||void 0===t||null===(c=t.student)||void 0===c||null===(r=c.hostel_fee_structure)||void 0===r?void 0:r._id,amount:null!==(v=null===g||void 0===g?void 0:g.amount)&&void 0!==v?v:"",mode:null!==(m=null===g||void 0===g?void 0:g.mode)&&void 0!==m?m:"",fee_payment_mode:null!==(_=null===g||void 0===g?void 0:g.fee_payment_mode)&&void 0!==_?_:"",fee_payment_amount:null!==(h=null===g||void 0===g?void 0:g.fee_payment_amount)&&void 0!==h?h:"",transaction_date:null!==(f=(0,_e._1)(g.transaction_date))&&void 0!==f?f:"",fee_bank_name:null!==(x=null===g||void 0===g?void 0:g.fee_bank_name)&&void 0!==x?x:"",fee_bank_holder:null!==(j=null===g||void 0===g?void 0:g.fee_bank_holder)&&void 0!==j?j:"",fee_utr_reference:null!==(y=null===g||void 0===g?void 0:g.fee_utr_reference)&&void 0!==y?y:"",remainAmount:null!==(N=null===t||void 0===t?void 0:t.fee_remain)&&void 0!==N?N:0,staffId:null===(b=u.state)||void 0===b?void 0:b.sid}}).then((()=>{s(),p((e=>!e)),l()})).catch({})):Z(e)}})]})]})}),_&&(0,I.jsx)(y.default,{})]})},Fe=e=>{var n,l,t,o,s,c,u,_,p,f,g;let{appId:j,onClose:Z,onParentClose:S,applicant:C,onRefetch:A,isMultiple:k,instituteId:w,unitId:P,state:D}=e;const{t:T}=(0,a.$G)(),F=(0,i.TH)(),[O,M]=(0,d.useState)(!1),[R]=(0,b.oU)();return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(h.Z,{onClose:Z,children:(0,I.jsxs)("div",{className:$.Z.modal_container,children:[(0,I.jsx)(v.default,{children:(0,I.jsxs)("div",{className:$.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:$.Z.modal_container_header,children:(0,I.jsx)("h6",{children:T("allot_bed_to_hostelite")})}),(0,I.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:Z})]})}),(0,I.jsx)(m.Z,{}),(0,I.jsxs)(v.default,{customStyle:{paddingTop:"0.3rem"},children:[(0,I.jsxs)("div",{className:x.Z.admission_class_confirm,children:[k?(0,I.jsxs)(I.Fragment,{children:[T("alloting")," ",(0,I.jsx)("span",{style:{fontWeight:"600"},children:null===C||void 0===C?void 0:C.length})," ",T("students")," "," "]}):(0,I.jsxs)(I.Fragment,{children:[T("lloting_student")," ",(0,I.jsx)("span",{style:{fontWeight:"600"},children:" ".concat(null!==(n=null===C||void 0===C||null===(l=C.student)||void 0===l?void 0:l.studentFirstName)&&void 0!==n?n:""," ").concat(null!==C&&void 0!==C&&null!==(t=C.student)&&void 0!==t&&t.studentMiddleName?null===C||void 0===C||null===(o=C.student)||void 0===o?void 0:o.studentMiddleName:""," ").concat(null!==(s=null===C||void 0===C||null===(c=C.student)||void 0===c?void 0:c.studentLastName)&&void 0!==s?s:""," ")})]}),",",T("to")," ",null!==D&&void 0!==D&&null!==(u=D.hrid)&&void 0!==u&&u.room_name?(0,I.jsx)("span",{style:{fontWeight:"600"},children:" ".concat(null!==(_=null===D||void 0===D||null===(p=D.hrid)||void 0===p?void 0:p.room_name)&&void 0!==_?_:""," , Vacant: ").concat(null!==(f=null===D||void 0===D||null===(g=D.hrid)||void 0===g?void 0:g.vacant_count)&&void 0!==f?f:"")}):null]}),(0,I.jsx)(N.Z,{label:"confirm",onAction:()=>{var e,n,l,t;j&&null!==D&&void 0!==D&&null!==(e=D.hrid)&&void 0!==e&&e._id&&C&&w&&P&&(M((e=>!e)),R({appId:j,bodyParameter:{dataList:k?C:[null===C||void 0===C||null===(n=C.student)||void 0===n?void 0:n._id],staffId:null===(l=F.state)||void 0===l?void 0:l.sid,huid:P,hrid:null===D||void 0===D||null===(t=D.hrid)||void 0===t?void 0:t._id,id:w}}).then((()=>{A(),S(),M((e=>!e))})).catch({}))}})]})]})}),O&&(0,I.jsx)(y.default,{})]})},Oe=e=>{var n,l;let{room:t,onSelect:i,selectedRoom:o}=e;return(0,I.jsxs)("div",{className:o===(null===t||void 0===t?void 0:t._id)?"".concat(X.Z.admission_confirm_class_card," ").concat(X.Z.admission_confirm_class_card_active):X.Z.admission_confirm_class_card,onClick:()=>{i(t)},children:[(0,I.jsx)("img",{src:"".concat(r.J7,"/class.svg"),alt:"batch Avatar"}),(0,I.jsx)("div",{className:X.Z.admission_collect_docs,style:{marginTop:"0"},children:(0,I.jsxs)("h6",{children:[null!==(n=null===t||void 0===t?void 0:t.room_name)&&void 0!==n?n:""," "," , Vacant: ",null!==(l=null===t||void 0===t?void 0:t.vacant_count)&&void 0!==l?l:0]})})]})},Me=e=>{var n;let{onClose:l,huid:t,onSelect:i,selectedRoom:o}=e;const{t:s}=(0,a.$G)(),[c,u]=(0,d.useState)(""),[_,p]=(0,d.useState)([]),{hostelAllRoomList:f,hostelAllRoomListLoading:g}=(0,b.xG)({data:{huid:t,page:1,limit:1e3,search:""},skip:!t});(0,d.useEffect)((()=>{var e;(null===f||void 0===f||null===(e=f.list)||void 0===e?void 0:e.length)>0&&p((()=>{var e;return null===f||void 0===f||null===(e=f.list)||void 0===e?void 0:e.filter((e=>(null===e||void 0===e?void 0:e.vacant_count)>0?e:null))}))}),[null===f||void 0===f||null===(n=f.list)||void 0===n?void 0:n.length]);return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(h.Z,{onClose:l,children:(0,I.jsxs)("div",{className:$.Z.modal_container,children:[(0,I.jsx)(v.default,{children:(0,I.jsxs)("div",{className:$.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:$.Z.modal_container_header,children:(0,I.jsx)("h6",{children:s("select_unit_room")})}),(0,I.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:l})]})}),(0,I.jsx)(m.Z,{}),(0,I.jsxs)(v.default,{customStyle:{paddingTop:"0.3rem"},children:[(0,I.jsxs)("div",{className:$.Z.assign_search_container,children:[(0,I.jsx)("input",{type:"text",placeholder:s("search"),className:$.Z.assign_search_input,onChange:e=>{if(e.target.value){u(e.target.value);let n=Re(null===f||void 0===f?void 0:f.list,e.target.value);p(n)}else u(""),p(null===f||void 0===f?void 0:f.list)},style:{width:"100%"}}),(0,I.jsx)("img",{src:"".concat(r.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===_||void 0===_?void 0:_.map((e=>(0,I.jsx)(Oe,{room:e,onSelect:i,selectedRoom:o}))),g?c?(0,I.jsx)(y.default,{}):(0,I.jsx)(T.Z,{}):c?0===(null===_||void 0===_?void 0:_.length)&&(0,I.jsx)(D.Z,{title:"No rooms found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===_||void 0===_?void 0:_.length)&&!g&&(0,I.jsx)(D.Z,{title:"No rooms.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})})},Re=(e,n)=>null===e||void 0===e?void 0:e.filter((e=>{var l,t;return null!==e&&void 0!==e&&null!==(l=e.room_name)&&void 0!==l&&null!==(t=l.toLowerCase())&&void 0!==t&&t.includes(null===n||void 0===n?void 0:n.toLowerCase())?e:null})),Ee=e=>{var n;let{appId:l,applicant:t,onClose:i,onRefetch:o,isMultiple:a,instituteId:s,unitId:c}=e;const[r,u]=(0,d.useState)(1),[v,m]=(0,d.useState)({hrid:""});return 1===r?(0,I.jsx)(Me,{onClose:i,huid:c,onSelect:e=>{m((n=>({...n,hrid:e}))),u(2)},selectedRoom:null===v||void 0===v||null===(n=v.hrid)||void 0===n?void 0:n._id}):2===r?(0,I.jsx)(Fe,{appId:l,onClose:()=>u(1),applicant:t,onRefetch:o,isMultiple:a,onParentClose:i,instituteId:s,unitId:c,state:v}):null},Ue=e=>{var n,l,t,o,s,c,u,v,m,_,p,h,f,g,j,y,N,b,Z,S,C,A,k,w,P,D,T,O,M,U,L,G,q,z,H;let{instituteId:Y,applicant:J,appId:B,onRefetch:W,isMultiple:$,onSelect:K,applicantId:Q,unitId:X}=e;const{t:ee}=(0,a.$G)(),ne=(0,i.UO)(),le=(0,i.s0)(),te=(0,i.TH)(),[ie,oe]=(0,d.useState)(""),de=(0,d.useCallback)((()=>{var e,n,l;le("/q/".concat(ne.username,"/student/profile"),{state:{sid:null===J||void 0===J||null===(e=J.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:Y,collectAccess:"ADMISSION_ADMIN",editInstallmentControl:"authorized",govtAccess:"Other",cancelAccess:!1,editStructureControl:"authorized",editGovtNumberContorl:"authorized",editGovtInstallmentControl:"authorized",isSearchEnable:"notauthorized",whichUrl:"Institute"===(null===(n=te.state)||void 0===n?void 0:n.urlOffSet)?"INSTITUTE":null,onlyReadView:null===(l=te.state)||void 0===l?void 0:l.role,subjectData:{subjectChange:"authorized",appId:B}}})}),[Y,null===J||void 0===J||null===(n=J.student)||void 0===n?void 0:n._id]),ae=()=>{oe("")};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:x.Z.oac_container,onClick:de,title:"View Profile",children:[$?(0,I.jsx)("img",{className:x.Z.department_checkbox,src:null!==Q&&void 0!==Q&&Q.includes(null===J||void 0===J||null===(l=J.student)||void 0===l?void 0:l._id)?"".concat(r.U_,"/check.svg"):"".concat(r.U_,"/uncheck.svg"),alt:"check icon",onClick:e=>{var n;return K(e,null===J||void 0===J||null===(n=J.student)||void 0===n?void 0:n._id)}}):null,(0,I.jsxs)("div",{className:x.Z.oac_container_inner,children:[(0,I.jsx)("img",{alt:"Student Request Avatar",src:null!==J&&void 0!==J&&null!==(t=J.student)&&void 0!==t&&t.studentProfilePhoto?"".concat(F.yI,"/").concat(null===J||void 0===J||null===(o=J.student)||void 0===o?void 0:o.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,I.jsxs)("div",{className:x.Z.oac_container_inner_info,children:[(0,I.jsx)("h6",{children:"".concat(null!==(s=null===J||void 0===J||null===(c=J.student)||void 0===c?void 0:c.studentFirstName)&&void 0!==s?s:""," ").concat(null!==J&&void 0!==J&&null!==(u=J.student)&&void 0!==u&&u.studentMiddleName?null===J||void 0===J||null===(v=J.student)||void 0===v?void 0:v.studentMiddleName:""," ").concat(null!==(m=null===J||void 0===J||null===(_=J.student)||void 0===_?void 0:_.studentLastName)&&void 0!==m?m:"")}),(0,I.jsxs)("p",{children:[ee("form_no_only"),": ",null!==(p=null===J||void 0===J||null===(h=J.student)||void 0===h?void 0:h.form_no)&&void 0!==p?p:""]}),"ONGOING_VIEW_ACCESS"===(null===(f=te.state)||void 0===f?void 0:f.role)?null:(0,I.jsx)("p",{onClick:e=>{e.stopPropagation(),oe(2)},style:{color:"#436dfa"},children:ee("cancel_admision")})]})]}),(0,I.jsxs)("div",{className:x.Z.oac_container_contact,children:[(0,I.jsxs)("div",{className:x.Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(r.U_,"/gender.svg"),alt:"email icon"}),(0,I.jsx)("p",{children:null===J||void 0===J||null===(g=J.student)||void 0===g?void 0:g.studentGender})]}),(0,I.jsxs)("div",{className:x.Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(r.U_,"/phone.svg"),alt:"phone icon"}),(0,I.jsx)("p",{children:null!==J&&void 0!==J&&null!==(j=J.student)&&void 0!==j&&null!==(y=j.user)&&void 0!==y&&y.userPhoneNumber?null===J||void 0===J||null===(N=J.student)||void 0===N||null===(b=N.user)||void 0===b?void 0:b.userPhoneNumber:null!==J&&void 0!==J&&null!==(Z=J.student)&&void 0!==Z&&null!==(S=Z.user)&&void 0!==S&&S.userEmail?null===J||void 0===J||null===(C=J.student)||void 0===C||null===(A=C.user)||void 0===A?void 0:A.userEmail:null!==J&&void 0!==J&&null!==(k=J.student)&&void 0!==k&&k.studentPhoneNumber?null===J||void 0===J||null===(w=J.student)||void 0===w?void 0:w.studentPhoneNumber:null!==J&&void 0!==J&&null!==(P=J.student)&&void 0!==P&&P.studentParentsPhoneNumber?null===J||void 0===J||null===(D=J.student)||void 0===D?void 0:D.studentParentsPhoneNumber:null!==(T=null===J||void 0===J||null===(O=J.student)||void 0===O?void 0:O.studentEmail)&&void 0!==T?T:""})]})]}),(0,I.jsxs)("div",{className:x.Z.oac_container_stuff,style:{width:"25%"},children:[(0,I.jsx)("a",{href:"".concat(F.q2,"/").concat(null===J||void 0===J||null===(M=J.student)||void 0===M||null===(U=M.application_print)||void 0===U||null===(L=U[0])||void 0===L?void 0:L.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,I.jsx)("img",{src:"".concat(r.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),null===J||void 0===J||null===(G=J.student)||void 0===G||null===(q=G.fee_receipt)||void 0===q?void 0:q.map(((e,n)=>n>2?"":(0,I.jsx)(Se.Z,{rid:null===e||void 0===e?void 0:e._id,receiptFile:null===e||void 0===e?void 0:e.receipt_file},null===e||void 0===e?void 0:e._id))),$?null:(0,I.jsx)(I.Fragment,{children:"ONGOING_VIEW_ACCESS"===(null===(z=te.state)||void 0===z?void 0:z.role)?null:(0,I.jsx)(R.Z,{children:(0,I.jsx)(E.Z,{label:"allot_bed",onAction:e=>{e.stopPropagation(),oe(1)},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}})})}),(0,I.jsx)("img",{src:"".concat(r.J7,"/menu.svg"),alt:"menu icon",onClick:e=>{e.stopPropagation(),oe(3)}})]})]}),2===ie?(0,I.jsx)(Te,{appId:B,applicant:J,onClose:ae,onRefetch:W}):1===ie?(0,I.jsx)(Ee,{appId:B,applicant:J,onClose:ae,onRefetch:W,instituteId:Y,unitId:X}):3===ie?(0,I.jsx)(V,{onClose:ae,studentId:null===J||void 0===J||null===(H=J.student)||void 0===H?void 0:H._id}):null]})},Le=e=>{var n,l,t,r,u,m;let{applicationDetail:_,instituteId:p,hid:h}=e;const{t:f}=(0,a.$G)(),g=(0,i.TH)(),x=(0,i.s0)(),j=(0,i.UO)(),[N,b]=(0,d.useState)(""),[Z,S]=(0,d.useState)(""),[C,k]=(0,d.useState)(1),[w,F]=(0,d.useState)(!0),[O,M]=(0,s.YD)({skip:N}),[R,E]=(0,d.useState)(!1),{admissionOngoingApplicationReview:U,admissionOngoingApplicationReviewLoading:L,admissionOngoingApplicationReviewRefetch:G}=(0,o._v)({data:{appId:null===(n=g.state)||void 0===n?void 0:n.appId,page:C,limit:10,search:N},skip:!(null!==(l=g.state)&&void 0!==l&&l.appId)});(0,d.useEffect)((()=>{M&&w&&k((e=>e+1))}),[M,w]),(0,d.useEffect)((()=>{var e;if(null!==U&&void 0!==U&&null!==(e=U.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===U||void 0===U||null===(n=U.list)||void 0===n?void 0:n.length);F((()=>e))}}),[null===U||void 0===U||null===(t=U.list)||void 0===t?void 0:t.length]);const q=(0,d.useCallback)((()=>{k((()=>1)),G()}),[G]),z=(0,d.useCallback)((()=>{E((e=>!e))}),[]);return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(P.default,{children:[(0,I.jsx)(A,{applicationDetail:_,instituteId:p,isTransferAccess:"Review",hid:h}),(0,I.jsxs)(v.default,{customStyle:{paddingTop:"0.2rem"},children:[(0,I.jsx)(ie,{applicationDetail:_,instituteId:p,isExportAccess:"Review_Query",isTransferAccess:"Review",hid:h,onMultipleSelect:()=>{var e;let n="Institute"===(null===(e=g.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(j.username,"/institute/member/admission?type=hostel-ongoing-detail&n=review-multi"):"/q/".concat(j.username,"/member/staff/admission?type=hostel-ongoing-detail&n=review-multi");x(n,{state:g.state})},onResuffleToggle:z,children:(0,I.jsx)("input",{type:"text",placeholder:f("search_applicants"),onChange:e=>{var n;!L&&(null===U||void 0===U||null===(n=U.list)||void 0===n?void 0:n.length)>=0&&S(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(k((()=>1)),b(Z))},value:Z})}),null===U||void 0===U||null===(r=U.list)||void 0===r?void 0:r.map(((e,n)=>{var l,t,i,o,d;return(null===U||void 0===U||null===(l=U.list)||void 0===l?void 0:l.length)===n+1?(0,I.jsx)("div",{ref:O,children:(0,I.jsx)(Ue,{applicant:{student:e},instituteId:p,onRefetch:q,appId:null===(t=g.state)||void 0===t?void 0:t.appId,unitId:null===_||void 0===_||null===(i=_.applicationUnit)||void 0===i?void 0:i._id})},null===e||void 0===e?void 0:e._id):(0,I.jsx)(Ue,{applicant:{student:e},instituteId:p,onRefetch:q,appId:null===(o=g.state)||void 0===o?void 0:o.appId,unitId:null===_||void 0===_||null===(d=_.applicationUnit)||void 0===d?void 0:d._id},null===e||void 0===e?void 0:e._id)})),L?N?(0,I.jsx)(y.default,{}):(0,I.jsx)(I.Fragment,{children:1===C?(0,I.jsx)(y.default,{}):(0,I.jsx)(T.Z,{})}):N?0===(null===U||void 0===U||null===(u=U.list)||void 0===u?void 0:u.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===U||void 0===U||null===(m=U.list)||void 0===m?void 0:m.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]})})},Ge=e=>{var n,l,t,i,o,d,s,c,u;let{applicant:v,onSelect:m,applicantId:_}=e;const{t:p}=(0,a.$G)();return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)("div",{className:x.Z.oac_container,onClick:()=>m(null===v||void 0===v?void 0:v._id),style:{justifyContent:"flex-start"},children:[(0,I.jsx)("img",{className:x.Z.department_checkbox,src:null!==_&&void 0!==_&&_.includes(null===v||void 0===v?void 0:v._id)?"".concat(r.U_,"/check.svg"):"".concat(r.U_,"/uncheck.svg"),alt:"check icon"}),(0,I.jsxs)("div",{className:x.Z.oac_container_inner,children:[(0,I.jsx)("img",{alt:"Student Request Avatar",src:null!==v&&void 0!==v&&v.studentProfilePhoto?"".concat(F.yI,"/").concat(null===v||void 0===v?void 0:v.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,I.jsxs)("div",{className:x.Z.oac_container_inner_info,children:[(0,I.jsx)("h6",{children:"".concat(null!==(n=null===v||void 0===v?void 0:v.studentFirstName)&&void 0!==n?n:""," ").concat(null!==v&&void 0!==v&&v.studentMiddleName?null===v||void 0===v?void 0:v.studentMiddleName:""," ").concat(null!==(l=null===v||void 0===v?void 0:v.studentLastName)&&void 0!==l?l:"")}),(0,I.jsxs)("p",{children:[p("form_no_only"),": ",null!==(t=null===v||void 0===v||null===(i=v.student)||void 0===i?void 0:i.form_no)&&void 0!==t?t:""]})]})]}),(0,I.jsxs)("div",{className:x.Z.oac_container_contact,children:[(0,I.jsxs)("div",{className:x.Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(r.U_,"/gender.svg"),alt:"email icon"}),(0,I.jsx)("p",{children:null===v||void 0===v?void 0:v.studentGender})]}),(0,I.jsxs)("div",{className:x.Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(r.U_,"/phone.svg"),alt:"phone icon"}),(0,I.jsx)("p",{children:null!==v&&void 0!==v&&null!==(o=v.user)&&void 0!==o&&o.userPhoneNumber?null===v||void 0===v||null===(d=v.user)||void 0===d?void 0:d.userPhoneNumber:null!==v&&void 0!==v&&null!==(s=v.user)&&void 0!==s&&s.userEmail?null===v||void 0===v||null===(c=v.user)||void 0===c?void 0:c.userEmail:null!==v&&void 0!==v&&v.studentPhoneNumber?null===v||void 0===v?void 0:v.studentPhoneNumber:null!==v&&void 0!==v&&v.studentParentsPhoneNumber?null===v||void 0===v?void 0:v.studentParentsPhoneNumber:null!==(u=null===v||void 0===v?void 0:v.studentEmail)&&void 0!==u?u:""})]})]})]})})},qe=e=>{var n,l,t,s,c,m;let{applicationDetail:_,instituteId:p,hid:h}=e;const{t:f}=(0,a.$G)(),g=(0,i.TH)(),x=(0,i.s0)(),[j,N]=(0,d.useState)(""),[b,Z]=(0,d.useState)([]),[S,C]=(0,d.useState)(""),[k,w]=(0,d.useState)([]),[F,O]=(0,d.useState)(!1),{admissionOngoingApplicationAllReviewList:M,admissionOngoingApplicationAllReviewListLoading:U,admissionOngoingApplicationAllReviewListRefetch:L}=(0,o.HU)({data:{appId:null===(n=g.state)||void 0===n?void 0:n.appId},skip:!(null!==(l=g.state)&&void 0!==l&&l.appId)});(0,d.useEffect)((()=>{null!==M&&void 0!==M&&M.length&&w(M)}),[null===M||void 0===M?void 0:M.length]);const G=()=>{x(-1)},q=e=>{null!==b&&void 0!==b&&b.includes(e)?Z((n=>null===n||void 0===n?void 0:n.filter((n=>n!==e)))):Z((n=>[...n,e]))};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(P.default,{children:[(0,I.jsx)(A,{applicationDetail:_,instituteId:p,isExportAccess:"Confirm_Query",isTransferAccess:"Review",hid:h}),(0,I.jsxs)(v.default,{customStyle:{paddingTop:"0.2rem"},children:[(0,I.jsxs)(R.Z,{customStyle:{justifyContent:"space-between",marginBottom:"0.7rem"},children:[(0,I.jsx)("section",{className:u.Z.fm_search_container,children:(0,I.jsxs)("div",{className:u.Z.fm_search_container_inner,style:{minWidth:"500px"},children:[(0,I.jsx)("img",{className:u.Z.fm_search_icon,alt:"search icon",src:"".concat(r.dB,"/navbar-search.svg")}),(0,I.jsx)("input",{type:"text",placeholder:f("search_applicants"),onChange:e=>{if(e.target.value){let n=He(M,e.target.value);w(n)}else N(""),w(M)},style:{minWidth:"500px"}})]})}),(0,I.jsxs)("div",{className:u.Z.fm_flex,children:[!ze[null===(t=g.state)||void 0===t?void 0:t.isAuthorization]&&(0,I.jsx)(E.Z,{label:F?"remove_all":"select_all",count:null===b||void 0===b?void 0:b.length,onAction:F?()=>{Z([]),O(!1)}:()=>{let e=[];for(let n of M)e.push(null===n||void 0===n?void 0:n._id);Z(e),O(!0)},customStyle:{padding:"0.5rem 1rem",fontSize:"13px"}}),!ze[null===(s=g.state)||void 0===s?void 0:s.isAuthorization]&&(0,I.jsx)(E.Z,{label:"allot_bed",onAction:()=>{(null===b||void 0===b?void 0:b.length)>0&&C(1)},customStyle:{padding:"0.5rem 1rem",fontSize:"13px",opacity:(null===b||void 0===b?void 0:b.length)>0?"1":"0.5"}}),(0,I.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:G})]})]}),null===k||void 0===k?void 0:k.map((e=>(0,I.jsx)(Ge,{applicant:e,applicantId:b,onSelect:q},null===e||void 0===e?void 0:e._id))),U?j?(0,I.jsx)(y.default,{}):(0,I.jsx)(T.Z,{}):j?0===(null===k||void 0===k?void 0:k.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===k||void 0===k?void 0:k.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]}),1===S?(0,I.jsx)(Ee,{appId:null===(c=g.state)||void 0===c?void 0:c.appId,applicant:b,onClose:()=>{C("")},onRefetch:()=>{O(!1),O([]),Z([]),L(),G()},isMultiple:!0,instituteId:p,unitId:null===_||void 0===_||null===(m=_.applicationUnit)||void 0===m?void 0:m._id}):null]})},ze={isCompleted:!0},He=(e,n)=>null===e||void 0===e?void 0:e.filter((e=>{var l,t,i,o;let d="".concat(null===e||void 0===e||null===(l=e.student)||void 0===l?void 0:l.studentFirstName," ").concat(null===e||void 0===e||null===(t=e.student)||void 0===t?void 0:t.studentMiddleName," ").concat(null===e||void 0===e||null===(i=e.student)||void 0===i?void 0:i.studentLastName);return null!==d&&void 0!==d&&null!==(o=d.toLowerCase())&&void 0!==o&&o.includes(null===n||void 0===n?void 0:n.toLowerCase())?e:null})),Ye=e=>{var n;let{onClose:l,applicant:t,appId:o,onRefetch:s}=e;const{t:c}=(0,a.$G)(),u=(0,i.TH)(),[_,p]=(0,d.useState)(!1),[g,x]=(0,d.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),[j,Z]=(0,d.useState)(""),[S,C]=(0,d.useState)(0),[A]=(0,b.ow)();(0,d.useEffect)((()=>{var e,n;if((null===t||void 0===t||null===(e=t.student)||void 0===e||null===(n=e.paidFeeList)||void 0===n?void 0:n.length)>0){var l,i,d,a;const e=null===t||void 0===t||null===(l=t.student)||void 0===l||null===(i=l.paidFeeList)||void 0===i?void 0:i.filter((e=>(null===e||void 0===e?void 0:e.appId)===o));C(null!==(d=null===e||void 0===e||null===(a=e[0])||void 0===a?void 0:a.paidAmount)&&void 0!==d?d:0)}}),[null===t||void 0===t||null===(n=t.student)||void 0===n?void 0:n.paidFeeList]);const k=e=>{x((n=>({...n,[e.target.name]:e.target.value})))};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(h.Z,{onClose:l,children:(0,I.jsxs)("div",{className:f.Z.modal_container,children:[(0,I.jsx)(v.default,{children:(0,I.jsxs)("div",{className:f.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:f.Z.modal_container_header,children:(0,I.jsx)("h6",{children:c("cancel_hostel_addmission")})}),(0,I.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:l})]})}),(0,I.jsx)(m.Z,{}),(0,I.jsxs)(v.default,{customStyle:{paddingTop:"0"},children:[(0,I.jsxs)("div",{className:f.Z.admission_fees_row,children:[(0,I.jsxs)("h6",{children:[c("fees_paid")," :"]}),(0,I.jsxs)("h6",{children:[c("rs_only")," ",S]})]}),(0,I.jsx)(ve.Z,{label:"".concat(c("refund_amount")),placeholder:c("please_enter_refund_amount"),name:"amount",value:g.amount,type:"tel",onChange:e=>{x((n=>({...n,amount:+e.target.value,fee_payment_amount:+e.target.value})))},errorShow:j.amount}),(0,I.jsx)(pe.Z,{paymentHeading:c("refund_payment_type_mode"),selectLabel:c("mode_placeholder"),onClick:e=>{x((n=>({...n,mode:"Cash"===e?"Offline":"Online",fee_payment_mode:e})))},errorShow:j.fee_payment_mode,defalutValue:g.fee_payment_mode,selectedValue:c("please_select_payment_mode"),isAuthority:"admissionCollectMode"}),(0,I.jsx)(me.Z,{label:c("select_date_of_transaction"),placeholder:c("please_select_date"),name:"transaction_date",value:g.transaction_date,onChange:e=>{x((n=>({...n,transaction_date:(0,_e.jh)(e)})))},errorShow:j.transaction_date}),"Cash"===g.fee_payment_mode?null:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:f.Z.admission_fees_row,style:{margin:0},children:(0,I.jsx)("h6",{style:{margin:0,marginTop:"1rem"},children:c("paid_to")})}),(0,I.jsx)(ve.Z,{label:c("bank_name_collect"),placeholder:c("please_enter_bank_name"),name:"fee_bank_name",value:g.fee_bank_name,type:"text",onChange:k}),(0,I.jsx)(ve.Z,{label:c("banke_holder_name"),placeholder:c("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:g.fee_bank_holder,type:"text",onChange:k}),(0,I.jsx)(ve.Z,{label:c("cheque_dd_neft"),placeholder:c("please_enter_utr_ref_number"),name:"fee_utr_reference",value:g.fee_utr_reference,type:"text",onChange:k})]}),(0,I.jsx)(N.Z,{label:"confirm",onAction:()=>{let e=(0,U.l)(g,["mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference"]);var n,i,d,a,c,r,v,m,_,h,f,x,j,y,N,b,I;(0,U.x)(e)?t&&o&&null!==t&&void 0!==t&&null!==(n=t.student)&&void 0!==n&&null!==(i=n.hostel_fee_structure)&&void 0!==i&&i._id&&(p((e=>!e)),A({sid:null===t||void 0===t||null===(d=t.student)||void 0===d?void 0:d._id,appId:o,bodyParameter:{struct:null===t||void 0===t||null===(a=t.student)||void 0===a||null===(c=a.hostel_fee_structure)||void 0===c?void 0:c._id,amount:null!==(r=null===g||void 0===g?void 0:g.amount)&&void 0!==r?r:"",mode:null!==(v=null===g||void 0===g?void 0:g.mode)&&void 0!==v?v:"",fee_payment_mode:null!==(m=null===g||void 0===g?void 0:g.fee_payment_mode)&&void 0!==m?m:"",fee_payment_amount:null!==(_=null===g||void 0===g?void 0:g.fee_payment_amount)&&void 0!==_?_:"",transaction_date:null!==(h=(0,_e._1)(g.transaction_date))&&void 0!==h?h:"",fee_bank_name:null!==(f=null===g||void 0===g?void 0:g.fee_bank_name)&&void 0!==f?f:"",fee_bank_holder:null!==(x=null===g||void 0===g?void 0:g.fee_bank_holder)&&void 0!==x?x:"",fee_utr_reference:null!==(j=null===g||void 0===g?void 0:g.fee_utr_reference)&&void 0!==j?j:"",remainAmount:null!==(y=null===t||void 0===t?void 0:t.fee_remain)&&void 0!==y?y:0,classId:null!==(N=null===t||void 0===t||null===(b=t.student)||void 0===b?void 0:b.studentClass)&&void 0!==N?N:null,staffId:null===(I=u.state)||void 0===I?void 0:I.sid}}).then((()=>{s(),p((e=>!e)),l()})).catch({})):Z(e)}})]})]})}),_&&(0,I.jsx)(y.default,{})]})},Je=e=>{var n,l,t,o,s,c,u,v,m,_,p,h,f,g,j,y,N,b,Z,S,C,A,k,w,P,D,T,O,M,R,E,U;let{applicant:L,instituteId:G,appId:q,onRefetch:z}=e;const{t:H}=(0,a.$G)(),Y=(0,i.UO)(),J=(0,i.s0)(),B=(0,i.TH)(),[W,$]=(0,d.useState)(""),K=()=>{$("")};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:x.Z.oac_container,onClick:()=>{var e,n;J("/q/".concat(Y.username,"/student/profile"),{state:{sid:null===L||void 0===L||null===(e=L.student)||void 0===e?void 0:e._id,instituteId:G,viewAs:"ADMISSION_ADMIN",collectAccess:"ADMISSION_ADMIN",editInstallmentControl:"authorized",govtAccess:"Other",cancelAccess:!1,editStructureControl:"authorized",editGovtNumberContorl:"authorized",editGovtInstallmentControl:"authorized",isSearchEnable:"authorized",whichUrl:"Institute"===(null===(n=B.state)||void 0===n?void 0:n.urlOffSet)?"INSTITUTE":null}})},title:"View Profile",children:[(0,I.jsxs)("div",{className:x.Z.oac_container_inner,children:[(0,I.jsx)("img",{alt:"Student Request Avatar",src:null!==L&&void 0!==L&&null!==(n=L.student)&&void 0!==n&&n.studentProfilePhoto?"".concat(F.yI,"/").concat(null===L||void 0===L||null===(l=L.student)||void 0===l?void 0:l.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,I.jsxs)("div",{className:x.Z.oac_container_inner_info,children:[(0,I.jsx)("h6",{children:"".concat(null!==(t=null===L||void 0===L||null===(o=L.student)||void 0===o?void 0:o.studentFirstName)&&void 0!==t?t:""," ").concat(null!==L&&void 0!==L&&null!==(s=L.student)&&void 0!==s&&s.studentMiddleName?null===L||void 0===L||null===(c=L.student)||void 0===c?void 0:c.studentMiddleName:""," ").concat(null!==(u=null===L||void 0===L||null===(v=L.student)||void 0===v?void 0:v.studentLastName)&&void 0!==u?u:"")}),(0,I.jsx)("p",{children:(null===L||void 0===L?void 0:L.alloted_class)||""}),(0,I.jsxs)("p",{children:[H("form_no_only"),": ",null!==(m=null===L||void 0===L||null===(_=L.student)||void 0===_?void 0:_.form_no)&&void 0!==m?m:""]}),"ONGOING_VIEW_ACCESS"===(null===(p=B.state)||void 0===p?void 0:p.role)?null:(0,I.jsx)("p",{onClick:e=>{e.stopPropagation(),$(1)},style:{color:"#436dfa"},children:H("cancel_admision")})]})]}),(0,I.jsxs)("div",{className:x.Z.oac_container_contact,children:[(0,I.jsxs)("div",{className:x.Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(r.U_,"/gender.svg"),alt:"email icon"}),(0,I.jsx)("p",{children:null===L||void 0===L||null===(h=L.student)||void 0===h?void 0:h.studentGender})]}),(0,I.jsxs)("div",{className:x.Z.oac_container_contact_inner,children:[(0,I.jsx)("img",{src:"".concat(r.U_,"/phone.svg"),alt:"phone icon"}),(0,I.jsx)("p",{children:null!==L&&void 0!==L&&null!==(f=L.student)&&void 0!==f&&null!==(g=f.user)&&void 0!==g&&g.userPhoneNumber?null===L||void 0===L||null===(j=L.student)||void 0===j||null===(y=j.user)||void 0===y?void 0:y.userPhoneNumber:null!==L&&void 0!==L&&null!==(N=L.student)&&void 0!==N&&null!==(b=N.user)&&void 0!==b&&b.userEmail?null===L||void 0===L||null===(Z=L.student)||void 0===Z||null===(S=Z.user)||void 0===S?void 0:S.userEmail:null!==L&&void 0!==L&&null!==(C=L.student)&&void 0!==C&&C.studentPhoneNumber?null===L||void 0===L||null===(A=L.student)||void 0===A?void 0:A.studentPhoneNumber:null!==L&&void 0!==L&&null!==(k=L.student)&&void 0!==k&&k.studentParentsPhoneNumber?null===L||void 0===L||null===(w=L.student)||void 0===w?void 0:w.studentParentsPhoneNumber:null!==(P=null===L||void 0===L||null===(D=L.student)||void 0===D?void 0:D.studentEmail)&&void 0!==P?P:""})]})]}),(0,I.jsxs)("div",{className:x.Z.oac_container_stuff,children:[(0,I.jsx)("a",{href:"".concat(F.q2,"/").concat(null===L||void 0===L||null===(T=L.student)||void 0===T||null===(O=T.application_print)||void 0===O||null===(M=O[0])||void 0===M?void 0:M.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,I.jsx)("img",{src:"".concat(r.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),null===L||void 0===L||null===(R=L.student)||void 0===R||null===(E=R.fee_receipt)||void 0===E?void 0:E.map(((e,n)=>n>2?"":(0,I.jsx)(Se.Z,{rid:null===e||void 0===e?void 0:e._id,receiptFile:null===e||void 0===e?void 0:e.receipt_file},null===e||void 0===e?void 0:e._id))),(0,I.jsx)("img",{src:"".concat(r.J7,"/menu.svg"),alt:"menu icon",onClick:e=>{e.stopPropagation(),$(2)}})]})]}),1===W?(0,I.jsx)(Ye,{appId:q,applicant:L,onClose:K,onRefetch:z}):2===W?(0,I.jsx)(V,{onClose:K,studentId:null===L||void 0===L||null===(U=L.student)||void 0===U?void 0:U._id}):null]})},Ve=e=>{var n,l,t,r,u,m;let{applicationDetail:_,instituteId:p}=e;const{t:h}=(0,a.$G)(),f=(0,i.TH)(),[g,x]=(0,d.useState)(""),[j,N]=(0,d.useState)(""),[b,Z]=(0,d.useState)(1),[S,C]=(0,d.useState)(!0),[k,w]=(0,s.YD)({skip:g}),{admissionOngoingApplicationAllottment:F,admissionOngoingApplicationAllottmentLoading:O,admissionOngoingApplicationAllottmentRefetch:M}=(0,o.UX)({data:{appId:null===(n=f.state)||void 0===n?void 0:n.appId,page:b,limit:10,search:g},skip:!(null!==(l=f.state)&&void 0!==l&&l.appId)});(0,d.useEffect)((()=>{w&&S&&Z((e=>e+1))}),[w,S]),(0,d.useEffect)((()=>{var e;if(null!==F&&void 0!==F&&null!==(e=F.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===F||void 0===F||null===(n=F.list)||void 0===n?void 0:n.length);C((()=>e))}}),[null===F||void 0===F||null===(t=F.list)||void 0===t?void 0:t.length]);const R=(0,d.useCallback)((()=>{Z((()=>1)),x(""),M()}),[M]);return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(P.default,{children:[(0,I.jsx)(A,{applicationDetail:_,isExportAccess:"Allot_Query"}),(0,I.jsxs)(v.default,{customStyle:{paddingTop:"0.2rem"},children:[(0,I.jsx)(ie,{applicationDetail:_,isExportAccess:"Allot_Query",children:(0,I.jsx)("input",{type:"text",placeholder:h("search_allotted_student"),onChange:e=>{var n;!O&&(null===F||void 0===F||null===(n=F.list)||void 0===n?void 0:n.length)>=0&&N(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(Z((()=>1)),x(j))},value:j})}),null===F||void 0===F||null===(r=F.list)||void 0===r?void 0:r.map(((e,n)=>{var l,t,i;return(null===F||void 0===F||null===(l=F.list)||void 0===l?void 0:l.length)===n+1?(0,I.jsx)("div",{ref:k,children:(0,I.jsx)(Je,{applicant:e,instituteId:p,appId:null===(t=f.state)||void 0===t?void 0:t.appId,onRefetch:R})},null===e||void 0===e?void 0:e._id):(0,I.jsx)(Je,{applicant:e,instituteId:p,appId:null===(i=f.state)||void 0===i?void 0:i.appId,onRefetch:R},null===e||void 0===e?void 0:e._id)})),O?g?(0,I.jsx)(y.default,{}):(0,I.jsx)(I.Fragment,{children:1===b?(0,I.jsx)(y.default,{}):(0,I.jsx)(T.Z,{})}):g?0===(null===F||void 0===F||null===(u=F.list)||void 0===u?void 0:u.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission allottment found related this search."}):0===(null===F||void 0===F||null===(m=F.list)||void 0===m?void 0:m.length)&&(0,I.jsx)(D.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission allottment list."})]})]})})},Be=e=>{var n,l;let{instituteId:d,hid:a,financeId:s}=e;const[c]=(0,t.lr)(),r=(0,i.TH)(),{admissionOneOngoingApplication:u}=(0,o.nK)({appId:null===(n=r.state)||void 0===n?void 0:n.appId,skip:!(null!==(l=r.state)&&void 0!==l&&l.appId)});return(0,I.jsx)(I.Fragment,{children:c.get("n")?"document"===c.get("n")?(0,I.jsx)(ue,{applicationDetail:u,instituteId:d,hid:a}):"fees"===c.get("n")?(0,I.jsx)(Ze,{applicationDetail:u,instituteId:d,hid:a,financeId:s}):"confirmed"===c.get("n")?(0,I.jsx)(Ae,{applicationDetail:u,instituteId:d}):"confirmed-multi"===c.get("n")?(0,I.jsx)(we,{applicationDetail:u,instituteId:d}):"review"===c.get("n")?(0,I.jsx)(Le,{applicationDetail:u,instituteId:d,hid:a}):"review-multi"===c.get("n")?(0,I.jsx)(qe,{applicationDetail:u,instituteId:d,hid:a}):"allottment"===c.get("n")?(0,I.jsx)(Ve,{applicationDetail:u,instituteId:d}):null:(0,I.jsx)(se,{applicationDetail:u,instituteId:d,hid:a})})}},50518:(e,n,l)=>{l.d(n,{Z:()=>d});var t=l(19056),i=l(52245),o=l(80184);const d=e=>{let{paymentHeading:n,selectLabel:l,onClick:d,selectedValue:s,customStyleContainer:c,customLabelStyle:r,customListStyle:u,errorShow:v,defalutValue:m,isAuthority:_,isDenied:p}=e;return(0,o.jsxs)(o.Fragment,{children:[n&&(0,o.jsx)("h6",{className:i.Z.payment_mode_heading,children:n}),(0,o.jsx)(t.Z,{selectLabel:l,onClick:d,selectedValue:s,options:a[_],customStyleContainer:c,customLabelStyle:r,customListStyle:u,errorShow:v,defalutValue:m,isDenied:p})]})};let a={admissionCollectMode:["Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft"],admissionCollectModePg:["Payment Gateway","Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft"],admissionStudentProfileCollectMode:["Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft","Unrecovered/Exemption"],admissionStudentProfileCollectModePg:["Payment Gateway","Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft","Unrecovered/Exemption"],depositRefundMode:["By Bank","By Cash"]}},66239:(e,n,l)=>{l.d(n,{Z:()=>r});var t=l(72791),i=l(98684),o=l(6758),d=l(37782),a=l(55336),s=l(1095),c=l(80184);const r=e=>{let{rid:n,receiptFile:r}=e;const[u,v]=(0,t.useState)(""),[m,_]=(0,t.useState)(!1),[p,h]=(0,t.useState)(""),{financeReceipt:f,financeReceiptRefetch:g}=(0,o.Nw)({rid:u,skip:!u});(0,t.useEffect)((()=>{u&&g()}),[u,g]),(0,t.useEffect)((()=>{null!==f&&void 0!==f&&f.receipt&&null!==f&&void 0!==f&&f.all_remain&&h(f)}),[f]),(0,t.useEffect)((()=>{if(p){var e;const n=new Worker(new URL(l.p+l.u(21124),l.b));if("Hostel Application"===(null===p||void 0===p||null===(e=p.all_remain)||void 0===e?void 0:e.remaining_flow)){const{institute:e,studentInfo:l,paymentReceiptInfo:t}=(0,d.sp)(null===p||void 0===p?void 0:p.all_remain,null===p||void 0===p?void 0:p.receipt);n.postMessage({institute:e,studentInfo:l,paymentReceiptInfo:t,printReceiptType:"Refunded"===(null===t||void 0===t?void 0:t.transactonRefund)?"HOSTEL_REFUND":"HOSTEL"})}else{const{institute:e,studentInfo:l,paymentReceiptInfo:t}=(0,d.Hs)(null===p||void 0===p?void 0:p.all_remain,null===p||void 0===p?void 0:p.receipt);n.postMessage({institute:e,studentInfo:l,paymentReceiptInfo:t,printReceiptType:"Refunded"===(null===t||void 0===t?void 0:t.transactonRefund)?"ADMISSION_REFUND":"ADMISSION"})}n.onmessage=e=>{e&&(window.open(e.data,"_blank"),_((e=>!e)),h(""),n.terminate())}}}),[p]);return(0,c.jsxs)(c.Fragment,{children:[r?(0,c.jsx)("a",{href:"".concat(s.q2,"/").concat(r),target:"_blank",rel:"noopener noreferrer",onClick:e=>{e.stopPropagation()},children:(0,c.jsx)("img",{src:"".concat(i.J7,"/receipt.svg"),alt:"receipt icon",title:"Download Fees Receipt"})}):(0,c.jsx)("img",{src:"".concat(i.J7,"/receipt.svg"),alt:"receipt icon",title:"Download Fees Receipt",onClick:e=>(e=>{e.stopPropagation(),_((e=>!e)),v(n),u===n&&h(f)})(e)}),m&&(0,c.jsx)(a.default,{})]})}},57588:(e,n,l)=>{l.d(n,{J:()=>t});const t=(e,n)=>{let l;return function(){let t=this,i=arguments;clearTimeout(l),l=setTimeout((()=>{e.apply(t,i)}),n)}}},85794:(e,n,l)=>{l.d(n,{Z:()=>r});var t=l(72791),i=l(54164),o=l(15783),d=l(98684),a=l(80184);const s=e=>{let{onClose:n,isVariant:l,isHide:t,children:s}=e;return i.createPortal((0,a.jsx)("div",{children:(0,a.jsx)("div",{className:t?o.Z.notify_hide_overlay:o.Z.notify_overlay,children:(0,a.jsxs)("div",{className:o.Z.notify_container,style:{"--notify-bg-color":l},children:[s,(0,a.jsx)("img",{src:"".concat(d.Fk,"/close-white.svg"),alt:"close icon",onClick:n,className:o.Z.notify_close})]})})}),document.getElementById("notify-alert"))},c={success:"green",error:"#ed4a4a",warning:"orange"},r=e=>{var n;let{eventState:l,eventStateHandler:i}=e;const[d,r]=(0,t.useState)(!1);return null!==l&&void 0!==l&&l.open?(0,a.jsx)(s,{onClose:()=>{r(!0);let e=setTimeout((()=>{i((e=>({...e,open:!1,msg:"",variant:"success"}))),r(!1)}),500);return()=>clearTimeout(e)},isVariant:c[null===l||void 0===l?void 0:l.variant],isHide:d,children:(0,a.jsx)("h6",{className:o.Z.notify_message,children:null!==(n=null===l||void 0===l?void 0:l.msg)&&void 0!==n?n:""})}):null}},16313:(e,n,l)=>{l.d(n,{Z:()=>t});const t={attendence:"Attendence_attendence__I1yeT",attendencehead:"Attendence_attendencehead__exMGX",attendenceBtns:"Attendence_attendenceBtns__NDLVN",changemonth:"Attendence_changemonth__tk0Uc",buttons:"Attendence_buttons__iJ4z9",leaves:"Attendence_leaves__nC9+y",save:"Attendence_save__Q1WxJ",time_slot_btn:"Attendence_time_slot_btn__ckJ9r",calender:"Attendence_calender__wZXxH",arrowbtn:"Attendence_arrowbtn__Gm18t",dates:"Attendence_dates__40mER",date:"Attendence_date__qlh8f",clickedDate:"Attendence_clickedDate__q347p",tabs:"Attendence_tabs__9GYC-",tab:"Attendence_tab__IXFzc",grey:"Attendence_grey__r-jIX",purple:"Attendence_purple__J8wxa",light:"Attendence_light__r4yiQ",tabgreen:"Attendence_tabgreen__uE2sT",red:"Attendence_red__v+w+y",rose:"Attendence_rose__uW+8p",list:"Attendence_list__R99VM",divider:"Attendence_divider__MjzEh",selectMonthList:"Attendence_selectMonthList__ItnM7",month:"Attendence_month__32s-8",time_slot:"Attendence_time_slot__uB3tR",time_slot_inner:"Attendence_time_slot_inner__LMrgE",al_container:"Attendence_al_container__WjTYJ",al_container_h6:"Attendence_al_container_h6__avjZi",al_container_active:"Attendence_al_container_active__mhWSf",al_container_img:"Attendence_al_container_img__CYG2U"}},75285:(e,n,l)=>{l.d(n,{Z:()=>t});const t={content2:"OneOngoingAdmission_content2__UrY-4",content3:"OneOngoingAdmission_content3__wmxHl",appinforow:"OneOngoingAdmission_appinforow__SS5D4",appinforow1:"OneOngoingAdmission_appinforow1__nwEXk",appinforow2:"OneOngoingAdmission_appinforow2__KSPRj",appinforowred:"OneOngoingAdmission_appinforowred__EJthG",oac_container:"OneOngoingAdmission_oac_container__oeabB",oac_container_inner:"OneOngoingAdmission_oac_container_inner__Ki5D9",oac_container_inner_info:"OneOngoingAdmission_oac_container_inner_info__cm-xm",oac_container_contact:"OneOngoingAdmission_oac_container_contact__swjup",oac_container_contact_inner:"OneOngoingAdmission_oac_container_contact_inner__Ppdbl",oac_container_stuff:"OneOngoingAdmission_oac_container_stuff__+CGpg",admission_confirm_batch_card:"OneOngoingAdmission_admission_confirm_batch_card__AtVzz",admission_confirm_batch_card_active:"OneOngoingAdmission_admission_confirm_batch_card_active__V8p66"}},49806:(e,n,l)=>{l.d(n,{Z:()=>t});const t={modal_container:"PlateformUser_modal_container__tqwpY",modal_container_outer_header:"PlateformUser_modal_container_outer_header__HbF+9",modal_container_header:"PlateformUser_modal_container_header__QzyxM",modal_container_btn_container:"PlateformUser_modal_container_btn_container__3SJ8i",modal_container_header_btn:"PlateformUser_modal_container_header_btn__dWfwA",assign_search_container:"PlateformUser_assign_search_container__dJdYj",assign_search_input:"PlateformUser_assign_search_input__aFF28",assign_show_list_each:"PlateformUser_assign_show_list_each__co2b1",assign_show_list_each_active:"PlateformUser_assign_show_list_each_active__SWwFS",assign_each_paragraph:"PlateformUser_assign_each_paragraph__bDgq6",close_icon:"PlateformUser_close_icon__VXKXH",comfirm_box:"PlateformUser_comfirm_box__ntFD7",modal_container_btn:"PlateformUser_modal_container_btn__BWFB9"}}}]);
//# sourceMappingURL=35518.030bebbe.chunk.js.map