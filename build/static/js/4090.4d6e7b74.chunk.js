"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[4090],{71949:function(e,n,t){var o=t(1413),l=(t(72791),t(12072)),i=t(84489),a=t(69721),d=t(46807),r=t(80184);n.Z=function(e){for(var n=e.customContainerStyle,t=e.onClose,u=e.showContent,s=e.onClick,c=[],_=1;_<31;_++)c.push(_);var v=function(e){s("3D".concat(e,".jpg")),t()};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Z,{onClose:t}),(0,r.jsx)(l.Z,{customStyle:{zIndex:"1400"},children:(0,r.jsxs)("div",{className:d.Z.custom_avatar_container,style:(0,o.Z)({},n),children:[(0,r.jsx)("h5",{className:d.Z.custom_avatar_content,children:u}),null===c||void 0===c?void 0:c.map((function(e){return(0,r.jsx)("div",{className:d.Z.custom_avatar_one,onClick:function(){return v(e)},children:(0,r.jsx)("img",{src:"".concat(a.qZ,"/3D").concat(e,".jpg"),alt:"3d avatar"})},e)}))]})})]})}},91022:function(e,n,t){var o=t(1413),l=t(29439),i=t(72791),a=t(39230),d=t(38733),r=t(80184);n.Z=function(e){var n=e.selectLabel,t=e.value,u=e.onClick,s=e.selectedValue,c=e.options,_=e.errorShow,v=e.customStyleContainer,m=e.customLabelStyle,f=e.customListStyle,p=e.openAs,h=e.viewAs,g=(0,a.$G)().t,S=(0,i.useState)(!1),x=(0,l.Z)(S,2),Z=x[0],y=x[1],b=function(){"REFUND"===p||"BACKLOG"===p||"FINANCE_MANAGER"===h||y((function(e){return!e}))},j=function(e){u(e),b()};return(0,r.jsxs)("div",{className:d.Z.join_form_container,style:(0,o.Z)({},v),children:[(0,r.jsxs)("p",{className:d.Z.join_form_select_paragraph,style:(0,o.Z)({},m),children:[n," ",_&&(0,r.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",g("form_require_label")]})]}),(0,r.jsxs)("section",{className:d.Z.join_form_select_custom,onClick:b,children:[t?(0,r.jsx)("p",{className:d.Z.join_form_select_custom_paragraph,children:null!==t&&void 0!==t?t:""}):(0,r.jsx)("p",{className:d.Z.join_form_select_custom_paragraph,children:s}),(0,r.jsx)("img",{className:d.Z.join_form_select_custom_icon,src:"/images/down-icon.svg",alt:"categor icon"})]}),Z&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("section",{className:d.Z.join_form_select_custom_list,style:f?(0,o.Z)({},f):(null===c||void 0===c?void 0:c.length)>2?{overflowY:"scroll"}:{backgroundColor:"#ffffff"},children:[(0,r.jsx)("p",{className:d.Z.join_form_select_custom_paragraph_option,onClick:b,children:s}),null===c||void 0===c?void 0:c.map((function(e,n){return(0,r.jsx)("p",{onClick:function(){return j(e)},className:d.Z.join_form_select_custom_paragraph_option,children:e},n)}))]})})]})}},22357:function(e,n,t){var o=t(1413),l=(t(72791),t(39230)),i=t(38733),a=t(80184);n.Z=function(e){var n=e.selectLabel,t=e.value,d=e.name,r=e.onChange,u=e.selectedValue,s=e.options,c=e.errorShow,_=e.customStyleContainer,v=(0,l.$G)().t;return(0,a.jsxs)("div",{className:i.Z.join_form_container,style:(0,o.Z)({},_),children:[(0,a.jsxs)("p",{className:i.Z.join_form_select_paragraph,children:[n," ",c&&(0,a.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",v("form_require_label")]})]}),(0,a.jsxs)("select",{className:i.Z.join_form_select,value:t,onChange:r,name:d,children:[(0,a.jsx)("option",{selected:!0,children:u}),null===s||void 0===s?void 0:s.map((function(e,n){return(0,a.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:null===e||void 0===e?void 0:e.userLegalName}),(0,a.jsx)("span",{children:" - (".concat(null===e||void 0===e?void 0:e.username,")")})]})},n)}))]})]})}},35270:function(e,n,t){t.r(n),t.d(n,{default:function(){return ie}});var o=t(74165),l=t(15861),i=t(29439),a=t(72791),d=t(38733),r=t(39230),u=t(64540),s=t(78687),c=t(16871),_=t(93433),v=t(4942),m=t(1413),f=t(37762),p=t(16256),h=t(21559),g=t(5574),S=t(33992),x=t(97655),Z=t(81693),y=t(72952),b=t(77121),j=(t(60332),t(98094)),N=t(83669),I=t(36721),C=t(96146),F=t(23509),A=t(84959),w=t(98734),D=t(59965),k=t(12953),T=t(71949),P=t(69721),E=t(29017),M=t(22357),L=t(87932),O=t(80184),U=function(e){var n,t=e.selectLabel,o=e.selectedValue,l=e.name,i=e.customStyleContainer,u=e.errorShow,s=e.departmentId,c=e.classMasterId,_=e.batchId,v=e.onFeeStructureSelect,f=(0,r.$G)().t,p=(0,L.rU)({data:{did:s,filterBy:c,page:1,limit:1e3,batch_by:_},skip:!s}),h=p.getAllFeesStructure,g=p.getAllFeesStructureRefetch;(0,a.useEffect)((function(){s&&g()}),[s,g]);return(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)("div",{className:d.Z.join_form_container,style:(0,m.Z)({},i),children:[(0,O.jsxs)("p",{className:d.Z.join_form_select_paragraph,children:[t," ",u&&(0,O.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",f("form_require_label")]})]}),(0,O.jsxs)("select",{className:d.Z.join_form_select,onChange:function(e){var n;null===h||void 0===h||null===(n=h.all_structures)||void 0===n||n.filter((function(n){return(null===n||void 0===n?void 0:n._id)===e.target.value?v(n):""}))},name:l,children:[(0,O.jsx)("option",{selected:!0,children:o}),null===h||void 0===h||null===(n=h.all_structures)||void 0===n?void 0:n.map((function(e,n){var t;return(0,O.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null!==(t=null===e||void 0===e?void 0:e.unique_structure_name)&&void 0!==t?t:""},n)}))]})]})})},B=t(76172),V=function(e){var n,t=e.selectLabel,o=e.selectedValue,l=(e.studentNewFieldIds,e.name),i=e.customStyleContainer,u=e.errorShow,s=e.admissionId,c=e.onApplicationSelect,_=(0,r.$G)().t,v=(0,B.qH)({aid:s,page:1,limit:1e3}),f=v.data,p=v.refetch;(0,a.useEffect)((function(){s&&p()}),[s,p]);return(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)("div",{className:d.Z.join_form_container,style:(0,m.Z)({},i),children:[(0,O.jsxs)("p",{className:d.Z.join_form_select_paragraph,children:[t," ",u&&(0,O.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",_("form_require_label")]})]}),(0,O.jsxs)("select",{className:d.Z.join_form_select,onChange:function(e){var n;null===f||void 0===f||null===(n=f.completed)||void 0===n||n.filter((function(n){return(null===n||void 0===n?void 0:n._id)===e.target.value?c(n):""}))},name:l,children:[(0,O.jsx)("option",{selected:!0,children:o}),null===f||void 0===f||null===(n=f.completed)||void 0===n?void 0:n.map((function(e,n){return(0,O.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.applicationName},n)}))]})]})})},R=function(e){var n,t,o=e.selectLabel,l=e.selectedValue,i=e.name,u=e.customStyleContainer,s=e.errorShow,c=e.departmentId,_=e.onBatchSelect,v=(0,r.$G)().t,f=(0,S._C)({did:c,skip:!c}),p=f.oneDepartment,h=f.oneDepartmentRefetch;(0,a.useEffect)((function(){c&&h()}),[c,h]);return(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)("div",{className:d.Z.join_form_container,style:(0,m.Z)({},u),children:[(0,O.jsxs)("p",{className:d.Z.join_form_select_paragraph,children:[o," ",s&&(0,O.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",v("form_require_label")]})]}),(0,O.jsxs)("select",{className:d.Z.join_form_select,onChange:function(e){var n,t;null===p||void 0===p||null===(n=p.department)||void 0===n||null===(t=n.batches)||void 0===t||t.filter((function(n){return(null===n||void 0===n?void 0:n._id)===e.target.value?_(n):""}))},name:i,children:[(0,O.jsx)("option",{selected:!0,children:l}),null===p||void 0===p||null===(n=p.department)||void 0===n||null===(t=n.batches)||void 0===t?void 0:t.map((function(e,n){var t;return(0,O.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null!==(t=null===e||void 0===e?void 0:e.batchName)&&void 0!==t?t:""},n)}))]})]})})},q=function(e){var n=e.admissionId,t=e.onNewFieldInputChange,o=e.index,l=e.classMasterId,d=(0,r.$G)().t,u=(0,a.useState)(""),s=(0,i.Z)(u,2),c=s[0],_=s[1],v=(0,a.useState)(""),f=(0,i.Z)(v,2),p=f[0],h=f[1],g=(0,a.useState)({amount:"",appName:"",fee_struct_name_amount:"",batchName:""}),S=(0,i.Z)(g,2),Z=S[0],y=S[1];return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(V,{selectLabel:d("form_select_application_label"),selectedValue:d("form_select_application_placeholder"),name:"application",onChange:function(){},customStyleContainer:{width:"24%"},admissionId:n,setDepartmentId:_,onApplicationSelect:function(e){var n,l;y((function(n){var t;return(0,m.Z)((0,m.Z)({},n),{},{appName:null!==(t=null===e||void 0===e?void 0:e.applicationName)&&void 0!==t?t:""})})),_(null!==(n=null===e||void 0===e||null===(l=e.applicationDepartment)||void 0===l?void 0:l._id)&&void 0!==n?n:""),t({name:"appId",value:null===e||void 0===e?void 0:e._id},o)}}),(0,O.jsx)(R,{selectLabel:d("form_select_batch_label"),selectedValue:d("form_select_batch_placeholder"),name:"batch",customStyleContainer:{width:"24%"},departmentId:c,onBatchSelect:function(e){y((function(n){return(0,m.Z)((0,m.Z)({},n),{},{batchName:null===e||void 0===e?void 0:e.batchName})})),t({name:"batchId",value:null===e||void 0===e?void 0:e._id},o),h(null===e||void 0===e?void 0:e._id)}}),(0,O.jsx)(U,{selectLabel:d("form_select_fee_structure_label"),selectedValue:d("form_select_fee_structure_label"),value:Z.fee_struct_name,name:"fees",customStyleContainer:{width:"24%"},departmentId:c,classMasterId:l,batchId:p,onFeeStructureSelect:function(e){y((function(n){return(0,m.Z)((0,m.Z)({},n),{},{fee_struct_name_amount:null===e||void 0===e?void 0:e.total_admission_fees})})),t({name:"fee_struct",value:null===e||void 0===e?void 0:e._id},o)}}),(0,O.jsx)(x.Z,{labelText:d("form_remaining_amount_label"),placeholder:d("form_remaining_amount_label_placeholder"),name:"amount",value:Z.amount,type:"text",onChange:function(e){y((function(n){return(0,m.Z)((0,m.Z)({},n),{},{amount:+e.target.value})})),t({name:"amount",value:Z.fee_struct_name_amount-+e.target.value},o)},customStyleContainer:{width:"24%"}})]})},H=function(e){var n=e.labelText,t=e.name,o=e.value,l=e.onChange,i=e.customStyleContainer,a=e.customStyleLabel,u=(0,r.$G)().t;return(0,O.jsxs)("div",{className:d.Z.join_form_container,style:(0,m.Z)({},i),children:[(0,O.jsx)("label",{className:d.Z.join_form_label,htmlFor:t,style:(0,m.Z)({},a),children:n}),(0,O.jsxs)("div",{className:d.Z.join_form_file_container,children:[(0,O.jsx)("label",{className:"".concat(d.Z.join_form_yes," ").concat(o&&d.Z.join_form_active_background),onClick:l,children:u("yes")}),(0,O.jsx)("label",{className:"".concat(d.Z.join_form_no," ").concat(!o&&d.Z.join_form_active_background),onClick:l,children:u("no")})]})]})},G=t(56112),J=t(36665),Q=t(91022),Y=t(15983),K=function(e){var n,t,o=e.onClose,l=e.openFeesQuery,d=e.setStudentAdmission,u=e.onCloseFunction,s=(0,r.$G)().t,c=(0,a.useState)(""),_=(0,i.Z)(c,2),f=_[0],p=_[1],h=(0,a.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),g=(0,i.Z)(h,2),S=g[0],Z=g[1],y=(0,a.useState)({msg:"",run:!1}),b=(0,i.Z)(y,2),j=b[0],N=b[1],C=function(e){Z((function(n){return(0,m.Z)((0,m.Z)({},n),{},(0,v.Z)({},e.target.name,e.target.value))}))};return(0,O.jsxs)(J.Z,{onClose:o,children:[(0,O.jsxs)("div",{className:Y.Z.add_category_modal,style:{width:"30rem",minHeight:"10rem",maxHeight:"35rem",overflowY:"scroll",overflowX:"hidden",scrollBehavior:"smooth",padding:"1rem"},children:[(0,O.jsxs)("section",{className:Y.Z.admission_fees_amount,children:[(0,O.jsx)("h6",{children:s("admission_fees")}),(0,O.jsxs)("h6",{children:[s("rs"),".",null!==(n=null===l||void 0===l?void 0:l.total_admission_fees)&&void 0!==n?n:0]})]}),(0,O.jsxs)("section",{className:Y.Z.admission_fees_amount,children:[(0,O.jsx)("h6",{children:s("applicable_amount")}),(0,O.jsxs)("h6",{children:[s("rs"),".",null!==(t=null===l||void 0===l?void 0:l.applicable_fees)&&void 0!==t?t:0]})]}),(0,O.jsx)(Q.Z,{selectLabel:s("payment_type"),value:S.mode?"Online"===S.mode?"By Bank":"By Cash":"",onClick:function(e){Z((function(n){return(0,m.Z)((0,m.Z)({},n),{},{mode:"By Bank"===e?"Online":"Offline",fee_payment_mode:e})}))},selectedValue:"Select Payment Type By Bank/By Cash",options:["By Bank","By Cash"],customLabelStyle:{marginTop:"7px",marginBottom:"7px",fontWeight:"400",fontSize:"12px",color:"rgba(18, 18, 18, 0.8)"},customListStyle:{maxHeight:"fit-content"},errorShow:f.fee_payment_mode}),(0,O.jsx)(x.Z,{labelText:s("amount"),name:"fee_payment_amount",type:"tel",value:null===S||void 0===S?void 0:S.fee_payment_amount,onChange:function(e){Z((function(n){return(0,m.Z)((0,m.Z)({},n),{},{amount:+e.target.value,fee_payment_amount:+e.target.value})}))},placeholder:s("please_enter_amount_paid"),errorShow:f.fee_payment_amount}),(0,O.jsx)(D.Z,{labelText:s("select_date_of_transaction"),placeholder:s("please_select_date"),name:"transaction_date",value:S.transaction_date,onDateFunction:function(e){var n=null===e||void 0===e?void 0:e.split("/");Z((function(e){return(0,m.Z)((0,m.Z)({},e),{},{transaction_date:"".concat(n[2],"-").concat(n[1],"-").concat(n[0])})}))},customStyleContainer:{position:"relative",marginTop:"0.5rem",marginBottom:"0.5rem"},datePickerPosition:{top:"-3rem"},customStyleLabel:{marginTop:"7px"},errorShow:f.transaction_date}),"By Cash"===S.fee_payment_mode||"Offline"===S.mode?"":(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(x.Z,{labelText:s("bank_name_collect"),name:"fee_bank_name",type:"text",value:S.fee_bank_name,onChange:C,placeholder:s("please_enter_bank_name"),customStyleLabel:{marginTop:"7px",marginBottom:"7px"}}),(0,O.jsx)(x.Z,{labelText:s("banke_holder_name"),name:"fee_bank_holder",type:"text",value:S.fee_bank_holder,onChange:C,placeholder:s("please_enter_name_of_bank_holder"),customStyleLabel:{marginTop:"7px",marginBottom:"7px"}}),(0,O.jsx)(x.Z,{labelText:s("cheque_dd_neft"),name:"fee_utr_reference",type:"tel",value:S.fee_utr_reference,onChange:C,placeholder:s("please_enter_utr_ref_number"),customStyleLabel:{marginTop:"7px",marginBottom:"7px"}})]}),(0,O.jsx)("button",{className:Y.Z.btn,style:{width:"100%",margin:"1rem 0"},onClick:function(){var e=function(e){var n={};for(var t in e)"fee_bank_name"===t||"fee_bank_holder"===t||"fee_utr_reference"===t||"amount"===t||"mode"===t||(e[t]?"fee_payment_amount"===t&&e[t]>(null===l||void 0===l?void 0:l.total_admission_fees)&&(N({msg:"You can not enter amount greater than total Admission fees",run:!0}),n.fee_payment_amount="".concat(t," is required!")):n[t]="".concat(t," is required!"));return n}(S),n=!1;for(var t in e){n=!0;break}n?p(e):(d((function(e){return(0,m.Z)((0,m.Z)((0,m.Z)({},e),S),{},{fee_struct:null===l||void 0===l?void 0:l._id})})),u())},children:s("confirm")})]}),(0,O.jsx)(I.Ch,{msg:j.msg,run:j.run,setRun:function(){return N({msg:"",run:!1})},postiton:"bottom",type:"error"})]})},W=function(e){var n,t,o,l,u,c,L,B,V,R,J,Q,Y,W,X,$,z,ee,ne,te,oe,le,ie,ae,de,re,ue,se,ce,_e,ve,me,fe,pe,he,ge,Se,xe=e.preview,Ze=e.setPreview,ye=e.location,be=e.onApplyForm,je=(0,s.useSelector)((function(e){return e.idChange})),Ne=(0,a.useState)(""),Ie=(0,i.Z)(Ne,2),Ce=Ie[0],Fe=Ie[1],Ae=(0,a.useState)({}),we=(0,i.Z)(Ae,2),De=we[0],ke=we[1],Te=(0,a.useState)(""),Pe=(0,i.Z)(Te,2),Ee=Pe[0],Me=Pe[1],Le=(0,a.useState)([]),Oe=(0,i.Z)(Le,2),Ue=Oe[0],Be=Oe[1],Ve=(0,a.useState)({studentFirstName:"",studentMiddleName:"",studentLastName:"",studentDOB:"",studentGender:"",studentMotherName:""}),Re=(0,i.Z)(Ve,2),qe=Re[0],He=Re[1],Ge=(0,a.useState)([]),Je=(0,i.Z)(Ge,2),Qe=Je[0],Ye=Je[1],Ke=(0,a.useState)([]),We=(0,i.Z)(Ke,2),Xe=We[0],$e=We[1],ze=(0,a.useState)({}),en=(0,i.Z)(ze,2),nn=en[0],tn=en[1],on=(0,a.useState)(!1),ln=(0,i.Z)(on,2),an=ln[0],dn=ln[1],rn=(0,a.useState)(""),un=(0,i.Z)(rn,2),sn=un[0],cn=un[1],_n=(0,a.useState)(!1),vn=(0,i.Z)(_n,2),mn=vn[0],fn=vn[1],pn=(0,a.useState)(""),hn=(0,i.Z)(pn,2),gn=(hn[0],hn[1]),Sn=(0,a.useState)(""),xn=(0,i.Z)(Sn,2),Zn=xn[0],yn=xn[1],bn=(0,a.useState)({msg:"",run:!1}),jn=(0,i.Z)(bn,2),Nn=jn[0],In=jn[1],Cn=(0,a.useState)({}),Fn=(0,i.Z)(Cn,2),An=Fn[0],wn=Fn[1],Dn=(0,a.useState)(""),kn=(0,i.Z)(Dn,2),Tn=kn[0],Pn=kn[1],En=(0,A.FL)(),Mn=(0,i.Z)(En,1)[0],Ln=(0,r.$G)().t,On=(0,a.useState)({sample_pic:"",mode:"",amount:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:"",fee_struct:""}),Un=(0,i.Z)(On,2),Bn=Un[0],Vn=Un[1],Rn=(0,a.useState)(""),qn=(0,i.Z)(Rn,2),Hn=qn[0],Gn=qn[1],Jn=(0,a.useState)(!1),Qn=(0,i.Z)(Jn,2),Yn=Qn[0],Kn=Qn[1],Wn=(0,a.useState)(!1),Xn=(0,i.Z)(Wn,2),$n=Xn[0],zn=Xn[1],et=(0,a.useState)(!1),nt=(0,i.Z)(et,2),tt=nt[0],ot=nt[1],lt=(0,a.useState)(""),it=(0,i.Z)(lt,2),at=it[0],dt=it[1],rt=(0,a.useState)({student_prn_enroll_number:"",fee_struct:"",is_remain:"",batch_set:[]}),ut=(0,i.Z)(rt,2),st=ut[0],ct=ut[1],_t=(0,a.useState)(!1),vt=(0,i.Z)(_t,2),mt=vt[0],ft=vt[1],pt=(0,A.yz)({data:{code:null===ye||void 0===ye?void 0:ye.joinCode,joinAs:"Student"},skip:!(null!==ye&&void 0!==ye&&ye.joinCode)}),ht=pt.searchCodeForJoin,gt=pt.searchCodeForJoinRefetch,St=(0,E.St)({phoneKey:Ee,skip:10!==(null===Ee||void 0===Ee?void 0:Ee.length)}),xt=St.getAccountWithNumber,Zt=St.getAccountWithNumberRefetch,yt=(0,S.$Z)({id:"INSTITUTE_SIDE"===(null===ye||void 0===ye?void 0:ye.openAs)?null===je||void 0===je?void 0:je.id:"DIRECT"===(null===ye||void 0===ye?void 0:ye.openAs)?null===ht||void 0===ht||null===(n=ht.one_ins)||void 0===n?void 0:n._id:"ADMISSION_ADMIN_SIDE"===(null===ye||void 0===ye?void 0:ye.openAs)||"landing_page"===(null===ye||void 0===ye?void 0:ye.openAs)||"landing_page_and_existing"===(null===ye||void 0===ye?void 0:ye.openAs)?null===ye||void 0===ye?void 0:ye.instituteId:null===(t=je.searchProfile)||void 0===t?void 0:t.id,skip:"INSTITUTE_SIDE"===(null===ye||void 0===ye?void 0:ye.openAs)?!(null!==je&&void 0!==je&&je.id):"DIRECT"===(null===ye||void 0===ye?void 0:ye.openAs)?!(null!==ht&&void 0!==ht&&null!==(o=ht.one_ins)&&void 0!==o&&o._id):"ADMISSION_ADMIN_SIDE"===(null===ye||void 0===ye?void 0:ye.openAs)||"landing_page"===(null===ye||void 0===ye?void 0:ye.openAs)||"landing_page_and_existing"===(null===ye||void 0===ye?void 0:ye.openAs)?!(null!==ye&&void 0!==ye&&ye.instituteId):!(null!==(l=je.searchProfile)&&void 0!==l&&l.id)}),bt=yt.instituteStudentForm,jt=yt.instituteStudentFormRefetch;(0,a.useEffect)((function(){null!==ye&&void 0!==ye&&ye.joinCode&&gt()}),[null===ye||void 0===ye?void 0:ye.joinCode,gt]),(0,a.useEffect)((function(){var e,n;(null!==(e=je.searchProfile)&&void 0!==e&&e.id||null!==je&&void 0!==je&&je.id||null!==ye&&void 0!==ye&&ye.openAs||null!==ht&&void 0!==ht&&null!==(n=ht.one_ins)&&void 0!==n&&n._id)&&jt()}),[null===(u=je.searchProfile)||void 0===u?void 0:u.id,null===je||void 0===je?void 0:je.id,null===ye||void 0===ye?void 0:ye.openAs,jt,null===ht||void 0===ht||null===(c=ht.one_ins)||void 0===c?void 0:c._id]),(0,a.useEffect)((function(){var e;if(null!==ht&&void 0!==ht&&null!==(e=ht.classes)&&void 0!==e&&e.optionalSubjectCount){var n,t,o=(0,f.Z)(null===ht||void 0===ht||null===(n=ht.classes)||void 0===n?void 0:n.subject);try{var l=function(){var e=t.value;Ye((function(n){return(0,m.Z)((0,m.Z)({},n),{},(0,v.Z)({},e._id,""))}))};for(o.s();!(t=o.n()).done;)l()}catch(i){o.e(i)}finally{o.f()}}}),[null===ht||void 0===ht||null===(L=ht.classes)||void 0===L?void 0:L.optionalSubjectCount,null===ht||void 0===ht||null===(B=ht.classes)||void 0===B?void 0:B.subject]),(0,a.useEffect)((function(){if(null!==bt&&void 0!==bt&&bt.studentFormSetting){var e=[];for(var n in bt.studentFormSetting)if("previousSchoolAndDocument"===n){var t,o=null===bt||void 0===bt||null===(t=bt.studentFormSetting)||void 0===t?void 0:t.previousSchoolAndDocument,l=[],i=function(e){o[e]&&("aadharCard"===e?(tn((function(e){return(0,m.Z)((0,m.Z)({},e),{},{addharFrontCard:"",addharBackCard:""})})),l.push("addharFrontCard","addharBackCard")):"previousSchoolDocument"===e?(tn((function(e){return(0,m.Z)((0,m.Z)({},e),{},{studentPreviousSchool:"",previousSchoolDocument:""})})),l.push("previousSchoolDocument","studentPreviousSchool")):(tn((function(n){return(0,m.Z)((0,m.Z)({},n),{},(0,v.Z)({},e,""))})),l.push(e)))};for(var a in o)i(a);$e([].concat(l))}else bt.studentFormSetting[n]&&("otherPersonalInfo"===n?(ke((function(e){return(0,m.Z)((0,m.Z)({},e),null===p.Qc||void 0===p.Qc?void 0:p.Qc.withValue)})),e.push.apply(e,(0,_.Z)(null===p.Qc||void 0===p.Qc?void 0:p.Qc.keys))):"identityDetails"===n?(ke((function(e){return(0,m.Z)((0,m.Z)({},e),null===p.Jg||void 0===p.Jg?void 0:p.Jg.withValue)})),e.push.apply(e,(0,_.Z)(null===p.Jg||void 0===p.Jg?void 0:p.Jg.keys))):"addressInfo"===n?(ke((function(e){return(0,m.Z)((0,m.Z)({},e),null===p.f_||void 0===p.f_?void 0:p.f_.withValue)})),e.push.apply(e,(0,_.Z)(null===p.f_||void 0===p.f_?void 0:p.f_.keys))):"parentsInfo"===n?(ke((function(e){return(0,m.Z)((0,m.Z)({},e),null===p.DS||void 0===p.DS?void 0:p.DS.withValue)})),e.push.apply(e,(0,_.Z)(null===p.DS||void 0===p.DS?void 0:p.DS.keys))):"bankDetails"===n?(ke((function(e){return(0,m.Z)((0,m.Z)({},e),null===p.E1||void 0===p.E1?void 0:p.E1.withValue)})),e.push.apply(e,(0,_.Z)(null===p.E1||void 0===p.E1?void 0:p.E1.keys))):"id_card"===n?(ke((function(e){return(0,m.Z)((0,m.Z)({},e),null===p.aT||void 0===p.aT?void 0:p.aT.withValue)})),e.push.apply(e,(0,_.Z)(null===p.aT||void 0===p.aT?void 0:p.aT.keys))):"anti_ragging"===n&&(ke((function(e){return(0,m.Z)((0,m.Z)({},e),null===p.Py||void 0===p.Py?void 0:p.Py.withValue)})),e.push.apply(e,(0,_.Z)(null===p.Py||void 0===p.Py?void 0:p.Py.keys))));Be([].concat(e))}}),[null===bt||void 0===bt?void 0:bt.studentFormSetting]),(0,a.useEffect)((function(){if(Ce){var e=Ce.split(" ");e.length>=3?He((function(n){return(0,m.Z)((0,m.Z)({},n),{},{studentFirstName:e[0],studentMiddleName:e[1],studentLastName:e.slice(2).toString().replaceAll(","," ")})})):He((function(n){return(0,m.Z)((0,m.Z)({},n),{},{studentFirstName:e[0],studentMiddleName:"",studentLastName:void 0===e[1]?"":e[1]})}))}}),[Ce]);var Nt=function(e){if("ADMISSION_ADMIN_SIDE"===(null===ye||void 0===ye?void 0:ye.openAs))Kn(!0);else{var n=URL.createObjectURL(e.target.files[0]);cn(e.target.files[0]),gn(n),yn(n),fn(!0)}};(0,a.useEffect)((function(){an&&Dt({target:{name:"file",files:[sn]}})}),[an,sn]);var It=function(e){He((function(n){return(0,m.Z)((0,m.Z)({},n),{},(0,v.Z)({},e.target.name,e.target.value))}))},Ct=function(e){"studentPhoneNumber"===e.target.name||"studentParentsPhoneNumber"===e.target.name?ke((function(n){var t;return(0,m.Z)((0,m.Z)({},n),{},(0,v.Z)({},e.target.name,null===(t=e.target.value)||void 0===t?void 0:t.trim()))})):ke((function(n){return(0,m.Z)((0,m.Z)({},n),{},(0,v.Z)({},e.target.name,e.target.value))}))},Ft=function(e){"previousSchoolDocument"===e.target.name?e.target.value?tn((function(n){var t;return(0,m.Z)((0,m.Z)({},n),{},(t={},(0,v.Z)(t,e.target.name,e.target.value),(0,v.Z)(t,"studentPreviousSchool","No"),t))})):tn((function(n){var t;return(0,m.Z)((0,m.Z)({},n),{},(t={},(0,v.Z)(t,e.target.name,e.target.value),(0,v.Z)(t,"studentPreviousSchool",""),t))})):"studentPreviousSchool"===e.target.name?tn((function(n){return(0,m.Z)((0,m.Z)({},n),{},(0,v.Z)({},e.target.name,e.target.value))})):tn((function(n){return(0,m.Z)((0,m.Z)({},n),{},(0,v.Z)({},e.target.name,e.target.files[0]))}))},At=function(e){e.target.checked?ke((function(n){return(0,m.Z)((0,m.Z)({},n),{},{asSameAddress:e.target.checked,studentAddress:n.studentCurrentAddress,studentPincode:n.studentCurrentPincode})})):ke((function(n){return(0,m.Z)((0,m.Z)({},n),{},{asSameAddress:e.target.checked,studentAddress:"",studentPincode:""})}))},wt=function(e){e.target.checked?Ye((function(n){return(0,m.Z)((0,m.Z)({},n),{},(0,v.Z)({},e.target.name,e.target.name))})):Ye((function(n){return(0,m.Z)((0,m.Z)({},n),{},(0,v.Z)({},e.target.name,""))}))},Dt=function(e){var n;if(null!==(n=e.target.files)&&void 0!==n&&n.length){Pn((function(e){return!e}));var t=new FormData;t.append("file",e.target.files[0]),Mn({fileUpload:t}).then((function(n){var t,o;"file"===e.target.name?(dn(!1),cn({name:e.target.name,key:null===(t=n.data)||void 0===t?void 0:t.imageKey,type:null===(o=e.target.files[0])||void 0===o?void 0:o.type})):"bankPassbook"===e.target.name?ke((function(t){var o,l,i;return(0,m.Z)((0,m.Z)({},t),{},(0,v.Z)({},e.target.name,{originalName:null===(o=e.target.files[0])||void 0===o?void 0:o.name,name:e.target.name,key:null===(l=n.data)||void 0===l?void 0:l.imageKey,type:null===(i=e.target.files[0])||void 0===i?void 0:i.type}))})):tn((function(t){var o,l,i;return(0,m.Z)((0,m.Z)({},t),{},(0,v.Z)({},e.target.name,{originalName:null===(o=e.target.files[0])||void 0===o?void 0:o.name,name:e.target.name,key:null===(l=n.data)||void 0===l?void 0:l.imageKey,type:null===(i=e.target.files[0])||void 0===i?void 0:i.type}))}));Pn((function(e){return!e}))})).catch({})}},kt=function(e,n){for(var t=(0,m.Z)({},st),o=0;o<(null===t||void 0===t||null===(l=t.batch_set)||void 0===l?void 0:l.length);o++){var l;o===n&&(t.batch_set[o][e.name]=e.value,t.is_remain="Yes")}ct(t)};return(0,O.jsxs)(O.Fragment,{children:[xe?(0,O.jsx)(F.Z,{studentForm:De,dynamicForm:Ue,formData:qe,dynamicFormDocument:Xe,dynamicDocument:nn,fileUrl:"ADMISSION_ADMIN_SIDE"===(null===ye||void 0===ye?void 0:ye.openAs)?"".concat(P.qZ,"/").concat(sn):Zn,formSetting:null===bt||void 0===bt?void 0:bt.studentFormSetting,onApplyStudentForm:function(){be({studentPhoneNumberAdd:Ee,file:sn,formData:qe,studentForm:De,dynamicDocument:nn,optinalSubject:Qe,studentAdmission:Bn,selectedUser:Hn,studentNewField:st})},location:ye,studentPhoneNumber:Ee,subjects:null===ht||void 0===ht||null===(Se=ht.classes)||void 0===Se?void 0:Se.subject,optinalSubject:Qe,studentAdmission:Bn,showingExistingUser:null===xt||void 0===xt?void 0:xt.all_account,selectedUser:Hn,studentNewField:st,openFeesQuery:at}):(0,O.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n="INSTITUTE_SIDE"===(null===ye||void 0===ye?void 0:ye.openAs)?function(e,n){var t={};for(var o in sn||(In({msg:"Please Select Image",run:!0}),t.file="profile image is required!"),n||(t.studentPhoneNumberAdd="* required"),e)"studentMiddleName"===o||"studentMotherName"===o||e[o]||(t[o]="".concat(o," is required!"));return t}(qe,Ee):"ADMISSION_ADMIN_SIDE"===(null===ye||void 0===ye?void 0:ye.openAs)?function(e,n,t){var o={};for(var l in sn||(In({msg:"Please Select Image",run:!0}),o.file="profile image is required!"),n||(o.studentPhoneNumberAdd="* required"),e)"studentMiddleName"===l||"studentMotherName"===l||e[l]||(o[l]="".concat(l," is required!"));for(var i in t)"sample_pic"===i||"fee_bank_holder"===i||"fee_bank_name"===i||"fee_utr_reference"===i||t[i]||(o[i]="".concat(i," is required!"));return o}(qe,Ee,Bn):function(e,n,t,o){var l,i,a={};sn||(In({msg:Ln("form_select_image_label"),run:!0}),a.file="profile image is required!"),n.studentBankAccount&&n.studentBankAccount!==n.studentBankReAccount&&(a.studentBankReAccount="".concat(Ln("form_account_dose_not_match_label")));var d,r=0;for(var u in o)o[u]&&(r+=1);for(var s in r<(null===ht||void 0===ht||null===(l=ht.classes)||void 0===l?void 0:l.optionalSubjectCount)&&(a.optionalSubject="atleast ".concat(null===ht||void 0===ht||null===(d=ht.classes)||void 0===d?void 0:d.optionalSubjectCount," optional subject required")),e)"studentMiddleName"===s||e[s]||(a[s]="".concat(s," is required!"));for(var c in n)"studentPhoneNumber"===c||"studentEmail"===c||"student_anti_ragging"===c||"student_id_card_front"===c||"student_id_card_back"===c||"studentFatherRationCardColor"===c||n[c]||(a[c]="".concat(c," is required!"));return null!==bt&&void 0!==bt&&null!==(i=bt.studentFormSetting)&&void 0!==i&&i.enrollmentPrn&&(null!==st&&void 0!==st&&st.student_prn_enroll_number||(a.student_prn_enroll_number="student_prn_enroll_number is required!")),a}(qe,De,0,Qe),t=!1;for(var o in n){t=!0;break}t?wn(n):Ze((function(e){return!e}))},children:[(0,O.jsxs)("div",{className:d.Z.form_container,children:[("ADMISSION_ADMIN_SIDE"===(null===ye||void 0===ye?void 0:ye.openAs)||"INSTITUTE_SIDE"===(null===ye||void 0===ye?void 0:ye.openAs))&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("div",{className:d.Z.form_other_field,children:[(0,O.jsx)(x.Z,{labelText:Ln("form_mobile_no_label"),placeholder:Ln("form_student_mobile_number_placeholder"),name:"mobileNumber",value:Ee,type:"text",onChange:function(e){var n,t,o;Me(null===(n=e.target.value)||void 0===n?void 0:n.trim()),10!==(null===(t=e.target.value)||void 0===t||null===(o=t.trim())||void 0===o?void 0:o.length)||"ADMISSION_ADMIN_SIDE"!==(null===ye||void 0===ye?void 0:ye.openAs)&&"INSTITUTE_SIDE"!==(null===ye||void 0===ye?void 0:ye.openAs)||Zt()},customStyleContainer:{width:"49.5%"},errorShow:An.studentPhoneNumberAdd}),null!==xt&&void 0!==xt&&null!==(V=xt.all_account)&&void 0!==V&&V.length?(0,O.jsx)(M.Z,{selectLabel:Ln("existing_account"),selectedValue:Ln("select_existing_account"),value:Hn,name:"user",onChange:function(e){Gn(e.target.value)},options:null===xt||void 0===xt?void 0:xt.all_account,customStyleContainer:{width:"49.5%"}}):""]}),(0,O.jsx)(j.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(0,O.jsxs)("h4",{children:[Ln("form_personal_info_label"),":"]}),(0,O.jsxs)("div",{className:d.Z.form_container_profile,children:[(0,O.jsx)(x.Z,{labelText:Ln("form_name_label"),placeholder:Ln("form_name_placeholder"),name:"fullname",value:Ce,type:"text",onChange:function(e){return Fe(e.target.value)},customStyleContainer:"INSTITUTE_SIDE"===(null===ye||void 0===ye?void 0:ye.openAs)||null!==bt&&void 0!==bt&&null!==(R=bt.studentFormSetting)&&void 0!==R&&R.enrollmentPrn?{width:"56%"}:{width:"86%"},errorShow:An.studentFirstName||An.studentLastName}),("INSTITUTE_SIDE"===(null===ye||void 0===ye?void 0:ye.openAs)||(null===bt||void 0===bt||null===(J=bt.studentFormSetting)||void 0===J?void 0:J.enrollmentPrn))&&(0,O.jsx)(x.Z,{labelText:Ln("ADMISSION_ADMIN_SIDE"===(null===ye||void 0===ye?void 0:ye.openAs)||"INSTITUTE_SIDE"===(null===ye||void 0===ye?void 0:ye.openAs)?"form_prn_enr_label":"form_prn_enr_student_label"),placeholder:Ln("form_prn_enr_placeholder"),name:"prn",value:st.student_prn_enroll_number,type:"text",onChange:function(e){return ct((function(n){return(0,m.Z)((0,m.Z)({},n),{},{student_prn_enroll_number:e.target.value})}))},customStyleContainer:{width:"30%"},errorShow:An.student_prn_enroll_number}),(0,O.jsxs)("div",{className:d.Z.form_container_profile_image,children:[(0,O.jsxs)("label",{htmlFor:"profile",className:d.Z.form_container_profile_image_label,onClick:function(){return"ADMISSION_ADMIN_SIDE"===(null===ye||void 0===ye?void 0:ye.openAs)?Nt():{}},children:["ADMISSION_ADMIN_SIDE"===(null===ye||void 0===ye?void 0:ye.openAs)?(0,O.jsx)("img",{className:d.Z.form_container_profile_photo,src:sn?"".concat(P.qZ,"/").concat(sn):"/images/ins_default_profile.svg",alt:"student avatar"}):(0,O.jsx)("img",{className:d.Z.form_container_profile_photo,src:Zn||"/images/ins_default_profile.svg",alt:"student avatar"}),(0,O.jsx)("img",{src:"/images/user-pencil-edit-transparent.svg",alt:"edit icon",className:d.Z.form_edit_icon})]}),"ADMISSION_ADMIN_SIDE"!==(null===ye||void 0===ye?void 0:ye.openAs)&&(0,O.jsx)("input",{type:"file",id:"profile",onChange:Nt,style:{display:"none"}})]})]}),(0,O.jsxs)("div",{className:d.Z.form_profile_info,children:[(0,O.jsx)(Z.Z,{selectLabel:Ln("form_gender_label"),selectedValue:Ln("form_gender_placeholder"),value:qe.studentGender,name:"studentGender",onChange:It,options:p.ce,optionsValue:p.Dj,errorShow:An.studentGender}),(0,O.jsx)(D.Z,{labelText:Ln("form_date_of_birth_label"),placeholder:Ln("form_date_of_birth_placeholder"),name:"studentDOB",value:qe.studentDOB,onDateFunction:function(e){if((0,k.A)(e)){var n=null===e||void 0===e?void 0:e.split("/"),t="".concat(n[2],"-").concat(n[1],"-").concat(n[0]);He((function(e){return(0,m.Z)((0,m.Z)({},e),{},{studentDOB:t})}))}else In({msg:"You cannot select upcoming date ".concat(e),run:!0})},errorShow:An.studentDOB,customStyleContainer:{position:"relative"}}),(0,O.jsx)(x.Z,{labelText:Ln("form_mother_name_label"),placeholder:Ln("form_mother_name_placeholder"),name:"studentMotherName",value:qe.studentMotherName,type:"text",onChange:It,errorShow:An.studentMotherName})]}),(0,O.jsx)(j.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}}),"INSTITUTE_SIDE"===(null===ye||void 0===ye?void 0:ye.openAs)&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("div",{className:d.Z.is_fee_remain,children:[(0,O.jsxs)("div",{children:[(0,O.jsx)("h6",{className:d.Z.add_batch_wise,children:Ln("form_add_batch_wise")}),(0,O.jsx)("p",{className:d.Z.only_admssion_fees,children:Ln("form_only_admssion_fees")})]}),(0,O.jsx)(H,{name:"remaintoggle",labelText:Ln("is_ther_any_fee_remain"),value:mt,onChange:function(){ft((function(e){return!e})),ct((function(e){return(0,m.Z)((0,m.Z)({},e),{},{fee_struct:"",is_remain:"",batch_set:[]})}))},customStyleContainer:{width:"50%"}})]}),mt&&(0,O.jsxs)(O.Fragment,{children:[null===(Q=st.batch_set)||void 0===Q?void 0:Q.map((function(e,n){return(0,O.jsx)("div",{className:d.Z.form_other_field,children:(0,O.jsx)(q,{batches:e,formErrors:An,admissionId:null===bt||void 0===bt?void 0:bt.admissionId[0],onNewFieldInputChange:kt,index:n,classMasterId:null===ye||void 0===ye?void 0:ye.classMasterId,batchId:null===ye||void 0===ye?void 0:ye.batchId})},n)})),(0,O.jsx)("div",{className:d.Z.form_other_field,children:(0,O.jsx)("div",{className:d.Z.form_add_fee_btn,onClick:function(){ct((function(e){return(0,m.Z)((0,m.Z)({},e),{},{batch_set:[].concat((0,_.Z)(e.batch_set),[{appId:"",fee_struct:"",amount:"",batchId:""}])})}))},children:Ln("form_add_batch_wise_fees_data")})})]}),!mt&&(0,O.jsx)(U,{selectLabel:Ln("form_select_fee_structure_label"),selectedValue:Ln("form_select_fee_structure_label"),name:"fees",customStyleContainer:{width:"60%"},departmentId:null!==(Y=null===je||void 0===je?void 0:je.did)&&void 0!==Y?Y:"",classMasterId:null===ye||void 0===ye?void 0:ye.classMasterId,batchId:null===ye||void 0===ye?void 0:ye.batchId,onFeeStructureSelect:function(e){ct((function(n){return(0,m.Z)((0,m.Z)({},n),{},{fee_struct:null===e||void 0===e?void 0:e._id,is_remain:"No",batch_set:[]})}))}}),(0,O.jsx)(j.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),"ADMISSION_ADMIN_SIDE"===(null===ye||void 0===ye?void 0:ye.openAs)&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("h4",{children:[Ln("form_admission_fees_details"),":"]}),Bn.fee_struct&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("div",{className:d.Z.form_other_field,children:[(0,O.jsx)(x.Z,{labelText:Ln("selected_fee_structure"),name:"selected_fee_structure",value:null!==(W=at.unique_structure_name)&&void 0!==W?W:"",type:"text",onChange:function(){},customStyleContainer:{width:"49.5%"}}),(0,O.jsx)(x.Z,{labelText:Ln("payment_type"),name:"payment_type",value:Bn.fee_payment_mode,type:"text",onChange:function(){},customStyleContainer:{width:"49.5%"}})]}),(0,O.jsxs)("div",{className:d.Z.form_other_field,children:[(0,O.jsx)(x.Z,{labelText:Ln("amount"),name:"fee_payment_amount",value:Bn.fee_payment_amount,type:"tel",onChange:function(){},customStyleContainer:{width:"49.5%"}}),(0,O.jsx)(D.Z,{labelText:Ln("select_date_of_transaction"),name:"transaction_date",value:Bn.transaction_date,onDateFunction:function(){},customStyleContainer:{position:"relative",marginTop:"0.5rem",marginBottom:"0.5rem",width:"49.5%"},datePickerPosition:{top:"-3rem"},customStyleLabel:{marginTop:"7px"}})]}),(0,O.jsxs)("div",{className:d.Z.form_other_field,children:[Bn.fee_bank_name&&(0,O.jsx)(x.Z,{labelText:Ln("bank_name_collect"),name:"bank_name_collect",value:Bn.fee_bank_name,type:"text",onChange:function(){},customStyleContainer:{width:"49.5%"}}),Bn.fee_bank_holder&&(0,O.jsx)(x.Z,{labelText:Ln("banke_holder_name"),name:"banke_holder_name",value:Bn.fee_bank_holder,type:"text",onChange:function(){},customStyleContainer:{width:"49.5%"}})]}),(0,O.jsx)("div",{className:d.Z.form_other_field,children:Bn.fee_utr_reference&&(0,O.jsx)(x.Z,{labelText:Ln("cheque_dd_neft"),name:"cheque_dd_neft",value:Bn.fee_utr_reference,type:"text",onChange:function(){},customStyleContainer:{width:"49.5%"}})})]}),(0,O.jsx)("div",{className:d.Z.form_other_field,children:(0,O.jsx)("div",{className:d.Z.form_add_fee_btn,onClick:function(){return zn(!0)},children:Ln(Bn.fee_struct?"edit_select_fee_structure":"select_fee_structure")})}),(0,O.jsx)(j.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),null!==ht&&void 0!==ht&&null!==(X=ht.classes)&&void 0!==X&&null!==($=X.subject)&&void 0!==$&&$.length||null!==ht&&void 0!==ht&&null!==(z=ht.classes)&&void 0!==z&&z.optionalSubjectCount?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("h4",{children:[Ln("form_optional_subjects_label"),":"]}),(0,O.jsxs)("p",{className:d.Z.optional_subject,children:[Ln("form_choose_minimum_label")," ".concat(null===ht||void 0===ht||null===(ee=ht.classes)||void 0===ee?void 0:ee.optionalSubjectCount)," or",Ln("form_maximum_label")," ".concat(null!==ht&&void 0!==ht&&null!==(ne=ht.classes)&&void 0!==ne&&ne.optionalSubjectCount?(null===ht||void 0===ht||null===(te=ht.classes)||void 0===te?void 0:te.optionalSubjectCount)>(null===ht||void 0===ht||null===(oe=ht.classes)||void 0===oe||null===(le=oe.subject)||void 0===le?void 0:le.length)?null===ht||void 0===ht||null===(ie=ht.classes)||void 0===ie?void 0:ie.optionalSubjectCount:null===ht||void 0===ht||null===(ae=ht.classes)||void 0===ae||null===(de=ae.subject)||void 0===de?void 0:de.length:""),(null===An||void 0===An?void 0:An.optionalSubject)&&(0,O.jsx)("span",{style:{color:"red",marginLeft:"15px"},children:null===An||void 0===An?void 0:An.optionalSubject})]}),null===ht||void 0===ht||null===(re=ht.classes)||void 0===re||null===(ue=re.subject)||void 0===ue?void 0:ue.map((function(e){return(0,O.jsx)(C.Z,{checkLabel:null===e||void 0===e?void 0:e.subjectName,checkedValue:!!Qe[null===e||void 0===e?void 0:e._id],name:null===e||void 0===e?void 0:e._id,onCheckboxAction:wt,customStyle:{display:"block",width:"100%",marginLeft:"0"},customStyleLabel:{color:"rgba(18, 18, 18, 0.7)",fontSize:"12px"}},null===e||void 0===e?void 0:e._id)}))]}):"",(null===bt||void 0===bt||null===(se=bt.studentFormSetting)||void 0===se?void 0:se.otherPersonalInfo)&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("h4",{children:[Ln("form_other_personal_info_label"),":"]}),(0,O.jsx)("div",{className:d.Z.form_other_field,children:null===Ue||void 0===Ue?void 0:Ue.map((function(e){return p.zA.map((function(n){var t;return(null===n||void 0===n||null===(t=n.lists)||void 0===t?void 0:t.includes(e))&&(null!==n&&void 0!==n&&n.type?(0,O.jsx)(Z.Z,{selectLabel:Ln(null===n||void 0===n?void 0:n.label),selectedValue:Ln(null===n||void 0===n?void 0:n.placeHolder),value:De[e],name:e,onChange:Ct,options:null===n||void 0===n?void 0:n.chooseOptions,optionsValue:null===n||void 0===n?void 0:n.chooseOptionsValue,customStyleContainer:{width:"49.5%"},errorShow:An[e]},null===n||void 0===n?void 0:n.id):(0,O.jsx)(x.Z,{labelText:Ln(null===n||void 0===n?void 0:n.label),placeholder:Ln(null===n||void 0===n?void 0:n.placeHolder),name:e,value:De[e],type:["studentPhoneNumber","studentAadharNumber"].includes(e)?"tel":"text",inputLength:"studentPhoneNumber"===e?10:12,onChange:Ct,customStyleContainer:{width:"49.5%"},errorShow:An[e]},null===n||void 0===n?void 0:n.id))}))}))}),(0,O.jsx)(j.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===bt||void 0===bt||null===(ce=bt.studentFormSetting)||void 0===ce?void 0:ce.identityDetails)&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("h4",{children:[Ln("form_identity_details_label"),":"]}),(0,O.jsx)("div",{className:d.Z.form_other_field,children:null===Ue||void 0===Ue?void 0:Ue.map((function(e){return p.vf.map((function(n){var t;return(null===n||void 0===n||null===(t=n.lists)||void 0===t?void 0:t.includes(e))&&(null!==n&&void 0!==n&&n.type?(0,O.jsx)(Z.Z,{selectLabel:Ln(null===n||void 0===n?void 0:n.label),selectedValue:Ln(null===n||void 0===n?void 0:n.placeHolder),value:De[e],onChange:Ct,options:null===n||void 0===n?void 0:n.chooseOptions,optionsValue:null===n||void 0===n?void 0:n.chooseOptionsValue,name:e,customStyleContainer:{width:"49.5%"},errorShow:An[e]},null===n||void 0===n?void 0:n.id):(0,O.jsx)(x.Z,{labelText:Ln(null===n||void 0===n?void 0:n.label),placeholder:Ln(null===n||void 0===n?void 0:n.placeHolder),name:e,value:De[e],type:"text",onChange:Ct,customStyleContainer:{width:"49.5%"},errorShow:An[e]},null===n||void 0===n?void 0:n.id))}))}))}),(0,O.jsx)(j.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===bt||void 0===bt||null===(_e=bt.studentFormSetting)||void 0===_e?void 0:_e.addressInfo)&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("h4",{children:[Ln("form_address_info_label"),":"]}),(0,O.jsx)("div",{className:d.Z.form_other_field,children:null===Ue||void 0===Ue?void 0:Ue.map((function(e){return p.MI.map((function(n){var t;return(null===n||void 0===n||null===(t=n.lists)||void 0===t?void 0:t.includes(e))&&(null!==n&&void 0!==n&&n.type?(0,O.jsx)(y.Z,{labelText:Ln(null===n||void 0===n?void 0:n.label),placeholder:Ln(null===n||void 0===n?void 0:n.placeHolder),name:e,value:De[e],type:"text",onChange:Ct,customStyleContainer:{width:"49.5%"},errorShow:An[e]},null===n||void 0===n?void 0:n.id):null!==n&&void 0!==n&&n.checkbox?(0,O.jsx)(C.Z,{checkLabel:Ln(null===n||void 0===n?void 0:n.label),checkedValue:De.asSameAddress,onCheckboxAction:At,customStyle:{display:"block",width:"100%",marginLeft:"0"}},null===n||void 0===n?void 0:n.id):(0,O.jsx)(x.Z,{labelText:Ln(null===n||void 0===n?void 0:n.label),placeholder:Ln(null===n||void 0===n?void 0:n.placeHolder),name:e,value:De[e],type:["studentCurrentPincode","studentPincode"].includes(e)?"tel":"text",inputLength:6,onChange:Ct,customStyleContainer:{width:"49.5%"},errorShow:An[e]},null===n||void 0===n?void 0:n.id))}))}))}),(0,O.jsx)(j.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===bt||void 0===bt||null===(ve=bt.studentFormSetting)||void 0===ve?void 0:ve.parentsInfo)&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("h4",{children:[Ln("form_parent_guardian_info_label"),":"]}),(0,O.jsx)("div",{className:d.Z.form_other_field,children:null===Ue||void 0===Ue?void 0:Ue.map((function(e){return p.Xu.map((function(n){var t;return(null===n||void 0===n||null===(t=n.lists)||void 0===t?void 0:t.includes(e))&&(null!==n&&void 0!==n&&n.type?(0,O.jsx)(Z.Z,{selectLabel:Ln(null===n||void 0===n?void 0:n.label),selectedValue:Ln(null===n||void 0===n?void 0:n.placeHolder),value:De[e],onChange:Ct,options:null===n||void 0===n?void 0:n.chooseOptions,optionsValue:null===n||void 0===n?void 0:n.chooseOptionsValue,name:e,customStyleContainer:{width:"49.5%"},errorShow:An[e]},null===n||void 0===n?void 0:n.id):(0,O.jsx)(x.Z,{labelText:Ln(null===n||void 0===n?void 0:n.label),placeholder:Ln(null===n||void 0===n?void 0:n.placeHolder),name:e,value:De[e],type:["studentParentsPhoneNumber"].includes(e)?"tel":"text",inputLength:"studentParentsPhoneNumber"===e?10:30,onChange:Ct,customStyleContainer:{width:"49.5%"},errorShow:An[e]},null===n||void 0===n?void 0:n.id))}))}))}),(0,O.jsx)(j.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===bt||void 0===bt||null===(me=bt.studentFormSetting)||void 0===me||null===(fe=me.previousSchoolAndDocument)||void 0===fe?void 0:fe.previousSchoolDocument)&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("h4",{children:[Ln("form_previous_school_document_label"),":"]}),(0,O.jsx)("div",{className:d.Z.form_other_field,children:null===Xe||void 0===Xe?void 0:Xe.map((function(e){return p.Bq.map((function(n){var t;return(null===n||void 0===n||null===(t=n.lists)||void 0===t?void 0:t.includes(e))&&(null!==n&&void 0!==n&&n.fileType?(0,O.jsx)(b.Z,{labelText:Ln(null===n||void 0===n?void 0:n.label),name:e,value:nn[e],onChange:Dt,customStyleContainer:{width:"49.5%"},errorShow:An[e]},null===n||void 0===n?void 0:n.id):null!==n&&void 0!==n&&n.checkbox?"":!(null!==nn&&void 0!==nn&&nn.previousSchoolDocument)&&(0,O.jsx)(x.Z,{labelText:Ln(null===n||void 0===n?void 0:n.label),placeholder:Ln(null===n||void 0===n?void 0:n.placeHolder),name:e,value:nn[e],type:"text",onChange:Ft,customStyleContainer:{width:"100%"},errorShow:An[e]},null===n||void 0===n?void 0:n.id))}))}))}),(0,O.jsx)(j.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===bt||void 0===bt||null===(pe=bt.studentFormSetting)||void 0===pe?void 0:pe.bankDetails)&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("h4",{children:[Ln("form_student_bank_details_label"),":"]}),(0,O.jsx)("div",{className:d.Z.form_other_field,children:null===Ue||void 0===Ue?void 0:Ue.map((function(e){return p.Mi.map((function(n){var t;return(null===n||void 0===n||null===(t=n.lists)||void 0===t?void 0:t.includes(e))&&(null!==n&&void 0!==n&&n.fileType?(0,O.jsx)(b.Z,{labelText:Ln(null===n||void 0===n?void 0:n.label),name:e,value:De[e],onChange:Dt,customStyleContainer:{width:"49.5%"},errorShow:An[e]},null===n||void 0===n?void 0:n.id):(0,O.jsx)(x.Z,{labelText:Ln(null===n||void 0===n?void 0:n.label),placeholder:Ln(null===n||void 0===n?void 0:n.placeHolder),name:e,value:De[e],type:["studentBankAccount","studentBankReAccount"].includes(e)?"tel":"text",reAccount:"studentBankReAccount"===e?An[e]:"",inputLength:50,onChange:Ct,customStyleContainer:{width:"49.5%"},errorShow:An[e]},null===n||void 0===n?void 0:n.id))}))}))}),(0,O.jsx)(j.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===bt||void 0===bt||null===(he=bt.studentFormSetting)||void 0===he?void 0:he.id_card)&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("h4",{children:[Ln("form_student_idcard_details_label"),":"]}),(0,O.jsx)("div",{className:d.Z.form_other_field,children:null===Ue||void 0===Ue?void 0:Ue.map((function(e){return p.D0.map((function(n){var t;return(null===n||void 0===n||null===(t=n.lists)||void 0===t?void 0:t.includes(e))&&(null!==n&&void 0!==n&&n.fileType?(0,O.jsx)(b.Z,{labelText:Ln(null===n||void 0===n?void 0:n.label),name:e,value:De[e],onChange:Dt,customStyleContainer:{width:"49.5%"},errorShow:An[e]},null===n||void 0===n?void 0:n.id):null)}))}))}),(0,O.jsx)(j.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===bt||void 0===bt||null===(ge=bt.studentFormSetting)||void 0===ge?void 0:ge.anti_ragging)&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("h4",{children:[Ln("form_student_antiragging_details_label"),":"]}),(0,O.jsx)("div",{className:d.Z.form_other_field,children:null===Ue||void 0===Ue?void 0:Ue.map((function(e){return p.MV.map((function(n){var t;return(null===n||void 0===n||null===(t=n.lists)||void 0===t?void 0:t.includes(e))&&(null!==n&&void 0!==n&&n.fileType?(0,O.jsx)(b.Z,{labelText:Ln(null===n||void 0===n?void 0:n.label),name:e,value:De[e],onChange:Dt,customStyleContainer:{width:"49.5%"},errorShow:An[e]},null===n||void 0===n?void 0:n.id):null)}))}))})]}),(0,O.jsx)(N.Z,{type:"submit",buttonText:Ln("form_preview"),customStyleButton:{marginTop:"1.5vw"}})]}),mn&&(0,O.jsx)(g.Z,{open:mn,children:(0,O.jsx)(h.Z,{setPhotoURL:yn,photoURL:Zn,setFile:cn,setOpenCrop:fn,setProfilePhoto:gn,first:1,second:1,setUpload:dn})}),(0,O.jsx)(I.Ch,{msg:Nn.msg,run:Nn.run,setRun:function(){return In({msg:"",run:!1})},postiton:"bottom",type:"error"})]}),Tn&&(0,O.jsx)(w.Z,{}),Yn&&(0,O.jsx)(T.Z,{onClose:function(){return Kn(!1)},showContent:"Select Avatar",onClick:function(e){cn(e),Vn((function(n){return(0,m.Z)((0,m.Z)({},n),{},{sample_pic:e})}))}}),$n&&(0,O.jsx)(G.Z,{onClose:function(){return zn(!1)},departmentId:null===ye||void 0===ye?void 0:ye.applicationDepartment,classMasterId:null===ye||void 0===ye?void 0:ye.applicationMaster,batchId:null===ye||void 0===ye?void 0:ye.batchId,onSelectedStudent:function(e){dt(e),ot(!0),Vn((function(n){return(0,m.Z)((0,m.Z)({},n),{},{fee_struct:null===e||void 0===e?void 0:e._id})}))},asOpen:"STUDENT_JOINING_FORM"}),tt&&(0,O.jsx)(K,{onClose:function(){ot(!1),Vn((function(e){return(0,m.Z)((0,m.Z)({},e),{},{mode:"",amount:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:"",fee_struct:""})}))},onCloseFunction:function(){return ot(!1)},openFeesQuery:at,setStudentAdmission:Vn})]})},X=t(91845),$=t(28497),z=t(80214),ee=t(71439),ne=t(64499),te=t(39480),oe=function(e){var n,t,o,l,u,s,c,f,L,U,B,V,R,q,H,J,Q,Y=e.preview,W=e.setPreview,X=e.location,$=e.onApplyForm,z=(0,a.useState)(""),ee=(0,i.Z)(z,2),ne=ee[0],te=ee[1],oe=(0,a.useState)({}),le=(0,i.Z)(oe,2),ie=le[0],ae=le[1],de=(0,a.useState)(""),re=(0,i.Z)(de,2),ue=re[0],se=re[1],ce=(0,a.useState)([]),_e=(0,i.Z)(ce,2),ve=_e[0],me=_e[1],fe=(0,a.useState)({studentFirstName:"",studentMiddleName:"",studentLastName:"",studentDOB:"",studentGender:"",studentMotherName:""}),pe=(0,i.Z)(fe,2),he=pe[0],ge=pe[1],Se=(0,a.useState)([]),xe=(0,i.Z)(Se,2),Ze=xe[0],ye=xe[1],be=(0,a.useState)({}),je=(0,i.Z)(be,2),Ne=je[0],Ie=je[1],Ce=(0,a.useState)(!1),Fe=(0,i.Z)(Ce,2),Ae=Fe[0],we=Fe[1],De=(0,a.useState)(""),ke=(0,i.Z)(De,2),Te=ke[0],Pe=ke[1],Ee=(0,a.useState)(!1),Me=(0,i.Z)(Ee,2),Le=Me[0],Oe=Me[1],Ue=(0,a.useState)(""),Be=(0,i.Z)(Ue,2),Ve=(Be[0],Be[1]),Re=(0,a.useState)(""),qe=(0,i.Z)(Re,2),He=qe[0],Ge=qe[1],Je=(0,a.useState)({msg:"",run:!1}),Qe=(0,i.Z)(Je,2),Ye=Qe[0],Ke=Qe[1],We=(0,a.useState)({}),Xe=(0,i.Z)(We,2),$e=Xe[0],ze=Xe[1],en=(0,a.useState)(""),nn=(0,i.Z)(en,2),tn=nn[0],on=nn[1],ln=(0,A.FL)(),an=(0,i.Z)(ln,1)[0],dn=(0,r.$G)().t,rn=(0,a.useState)({sample_pic:"",mode:"",amount:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:"",fee_struct:""}),un=(0,i.Z)(rn,2),sn=un[0],cn=un[1],_n=(0,a.useState)(""),vn=(0,i.Z)(_n,2),mn=vn[0],fn=vn[1],pn=(0,a.useState)(!1),hn=(0,i.Z)(pn,2),gn=hn[0],Sn=hn[1],xn=(0,a.useState)(!1),Zn=(0,i.Z)(xn,2),yn=Zn[0],bn=Zn[1],jn=(0,a.useState)(!1),Nn=(0,i.Z)(jn,2),In=Nn[0],Cn=Nn[1],Fn=(0,a.useState)(""),An=(0,i.Z)(Fn,2),wn=An[0],Dn=An[1],kn=(0,a.useState)({student_prn_enroll_number:"",fee_struct:"",is_remain:"",batch_set:[]}),Tn=(0,i.Z)(kn,2),Pn=Tn[0],En=Tn[1],Mn=(0,E.St)({phoneKey:ue,skip:10!==(null===ue||void 0===ue?void 0:ue.length)}),Ln=Mn.getAccountWithNumber,On=Mn.getAccountWithNumberRefetch,Un=(0,S.OO)({did:null===X||void 0===X?void 0:X.departmentId,skip:!(null!==X&&void 0!==X&&X.departmentId)}),Bn=Un.departmentStudentForm,Vn=Un.departmentStudentFormRefetch;(0,a.useEffect)((function(){null!==X&&void 0!==X&&X.departmentId&&Vn()}),[Vn,null===X||void 0===X?void 0:X.departmentId]),(0,a.useEffect)((function(){if(null!==Bn&&void 0!==Bn&&Bn.studentFormSetting){var e=[];for(var n in Bn.studentFormSetting)if("previousSchoolAndDocument"===n){var t,o=null===Bn||void 0===Bn||null===(t=Bn.studentFormSetting)||void 0===t?void 0:t.previousSchoolAndDocument,l=[],i=function(e){o[e]&&("aadharCard"===e?(Ie((function(e){return(0,m.Z)((0,m.Z)({},e),{},{addharFrontCard:"",addharBackCard:""})})),l.push("addharFrontCard","addharBackCard")):"previousSchoolDocument"===e?(Ie((function(e){return(0,m.Z)((0,m.Z)({},e),{},{studentPreviousSchool:"",previousSchoolDocument:""})})),l.push("previousSchoolDocument","studentPreviousSchool")):(Ie((function(n){return(0,m.Z)((0,m.Z)({},n),{},(0,v.Z)({},e,""))})),l.push(e)))};for(var a in o)i(a);ye([].concat(l))}else Bn.studentFormSetting[n]&&("otherPersonalInfo"===n?(ae((function(e){return(0,m.Z)((0,m.Z)({},e),null===p.Qc||void 0===p.Qc?void 0:p.Qc.withValue)})),e.push.apply(e,(0,_.Z)(null===p.Qc||void 0===p.Qc?void 0:p.Qc.keys))):"identityDetails"===n?(ae((function(e){return(0,m.Z)((0,m.Z)({},e),null===p.Jg||void 0===p.Jg?void 0:p.Jg.withValue)})),e.push.apply(e,(0,_.Z)(null===p.Jg||void 0===p.Jg?void 0:p.Jg.keys))):"addressInfo"===n?(ae((function(e){return(0,m.Z)((0,m.Z)({},e),null===p.f_||void 0===p.f_?void 0:p.f_.withValue)})),e.push.apply(e,(0,_.Z)(null===p.f_||void 0===p.f_?void 0:p.f_.keys))):"parentsInfo"===n?(ae((function(e){return(0,m.Z)((0,m.Z)({},e),null===p.DS||void 0===p.DS?void 0:p.DS.withValue)})),e.push.apply(e,(0,_.Z)(null===p.DS||void 0===p.DS?void 0:p.DS.keys))):"bankDetails"===n?(ae((function(e){return(0,m.Z)((0,m.Z)({},e),null===p.E1||void 0===p.E1?void 0:p.E1.withValue)})),e.push.apply(e,(0,_.Z)(null===p.E1||void 0===p.E1?void 0:p.E1.keys))):"gate_score"===n?(ae((function(e){return(0,m.Z)((0,m.Z)({},e),null===p.gt||void 0===p.gt?void 0:p.gt.withValue)})),e.push.apply(e,(0,_.Z)(null===p.gt||void 0===p.gt?void 0:p.gt.keys))):"marks_and_degree_score"===n?(ae((function(e){return(0,m.Z)((0,m.Z)({},e),null===p.UX||void 0===p.UX?void 0:p.UX.withValue)})),e.push.apply(e,(0,_.Z)(null===p.UX||void 0===p.UX?void 0:p.UX.keys))):"id_card"===n?(ae((function(e){return(0,m.Z)((0,m.Z)({},e),null===p.aT||void 0===p.aT?void 0:p.aT.withValue)})),e.push.apply(e,(0,_.Z)(null===p.aT||void 0===p.aT?void 0:p.aT.keys))):"anti_ragging"===n&&(ae((function(e){return(0,m.Z)((0,m.Z)({},e),null===p.Py||void 0===p.Py?void 0:p.Py.withValue)})),e.push.apply(e,(0,_.Z)(null===p.Py||void 0===p.Py?void 0:p.Py.keys))));me([].concat(e))}}),[null===Bn||void 0===Bn?void 0:Bn.studentFormSetting]),(0,a.useEffect)((function(){if(ne){var e=ne.split(" ");e.length>=3?ge((function(n){return(0,m.Z)((0,m.Z)({},n),{},{studentFirstName:e[0],studentMiddleName:e[1],studentLastName:e.slice(2).toString().replaceAll(","," ")})})):ge((function(n){return(0,m.Z)((0,m.Z)({},n),{},{studentFirstName:e[0],studentMiddleName:"",studentLastName:void 0===e[1]?"":e[1]})}))}}),[ne]);var Rn=function(e){if("ADMISSION_ADMIN_SIDE"===(null===X||void 0===X?void 0:X.openAs))Sn(!0);else{var n=URL.createObjectURL(e.target.files[0]);Pe(e.target.files[0]),Ve(n),Ge(n),Oe(!0)}};(0,a.useEffect)((function(){Ae&&Yn({target:{name:"file",files:[Te]}})}),[Ae,Te]);var qn=function(e){ge((function(n){return(0,m.Z)((0,m.Z)({},n),{},(0,v.Z)({},e.target.name,e.target.value))}))},Hn=function(e){"studentPhoneNumber"===e.target.name||"studentParentsPhoneNumber"===e.target.name?ae((function(n){var t;return(0,m.Z)((0,m.Z)({},n),{},(0,v.Z)({},e.target.name,null===(t=e.target.value)||void 0===t?void 0:t.trim()))})):ae((function(n){return(0,m.Z)((0,m.Z)({},n),{},(0,v.Z)({},e.target.name,e.target.value))}))},Gn=function(e){var n;null!==(n=["student_gate_score","student_degree_marks","student_percentage","student_class_cpi","student_pre_sem_points","student_final_sem_points"])&&void 0!==n&&n.includes(e.target.name)?ae((function(n){var t;return(0,m.Z)((0,m.Z)({},n),{},(0,v.Z)({},e.target.name,null===(t=e.target.value)||void 0===t?void 0:t.trim()))})):ae((function(n){return(0,m.Z)((0,m.Z)({},n),{},(0,v.Z)({},e.target.name,e.target.value))}))},Jn=function(e){"previousSchoolDocument"===e.target.name?e.target.value?Ie((function(n){var t;return(0,m.Z)((0,m.Z)({},n),{},(t={},(0,v.Z)(t,e.target.name,e.target.value),(0,v.Z)(t,"studentPreviousSchool","No"),t))})):Ie((function(n){var t;return(0,m.Z)((0,m.Z)({},n),{},(t={},(0,v.Z)(t,e.target.name,e.target.value),(0,v.Z)(t,"studentPreviousSchool",""),t))})):"studentPreviousSchool"===e.target.name?Ie((function(n){return(0,m.Z)((0,m.Z)({},n),{},(0,v.Z)({},e.target.name,e.target.value))})):Ie((function(n){return(0,m.Z)((0,m.Z)({},n),{},(0,v.Z)({},e.target.name,e.target.files[0]))}))},Qn=function(e){e.target.checked?ae((function(n){return(0,m.Z)((0,m.Z)({},n),{},{asSameAddress:e.target.checked,studentAddress:n.studentCurrentAddress,studentPincode:n.studentCurrentPincode})})):ae((function(n){return(0,m.Z)((0,m.Z)({},n),{},{asSameAddress:e.target.checked,studentAddress:"",studentPincode:""})}))},Yn=function(e){var n;if(null!==(n=e.target.files)&&void 0!==n&&n.length){on((function(e){return!e}));var t=new FormData;t.append("file",e.target.files[0]),an({fileUpload:t}).then((function(n){var t,o,l;"file"===e.target.name?(we(!1),Pe({name:e.target.name,key:null===(o=n.data)||void 0===o?void 0:o.imageKey,type:null===(l=e.target.files[0])||void 0===l?void 0:l.type})):null!==(t=["bankPassbook","student_id_card_front","student_id_card_back","student_anti_ragging"])&&void 0!==t&&t.includes(e.target.name)?ae((function(t){var o,l,i;return(0,m.Z)((0,m.Z)({},t),{},(0,v.Z)({},e.target.name,{originalName:null===(o=e.target.files[0])||void 0===o?void 0:o.name,name:e.target.name,key:null===(l=n.data)||void 0===l?void 0:l.imageKey,type:null===(i=e.target.files[0])||void 0===i?void 0:i.type}))})):Ie((function(t){var o,l,i;return(0,m.Z)((0,m.Z)({},t),{},(0,v.Z)({},e.target.name,{originalName:null===(o=e.target.files[0])||void 0===o?void 0:o.name,name:e.target.name,key:null===(l=n.data)||void 0===l?void 0:l.imageKey,type:null===(i=e.target.files[0])||void 0===i?void 0:i.type}))}));on((function(e){return!e}))})).catch({})}},Kn=function(e){var n=null===e||void 0===e?void 0:e.split("/"),t="".concat(n[2],"-").concat(n[1]);ae((function(e){return(0,m.Z)((0,m.Z)({},e),{},{student_degree_year:t})}))},Wn=function(e){var n=null===e||void 0===e?void 0:e.split("/"),t="".concat(n[2]);ae((function(e){return(0,m.Z)((0,m.Z)({},e),{},{student_gate_year:t})}))};return(0,O.jsxs)(O.Fragment,{children:[Y?(0,O.jsx)(F.Z,{studentForm:ie,dynamicForm:ve,formData:he,dynamicFormDocument:Ze,dynamicDocument:Ne,fileUrl:"ADMISSION_ADMIN_SIDE"===(null===X||void 0===X?void 0:X.openAs)?"".concat(P.qZ,"/").concat(Te):He,formSetting:null===Bn||void 0===Bn?void 0:Bn.studentFormSetting,onApplyStudentForm:function(){$({studentPhoneNumberAdd:ue,file:Te,formData:he,studentForm:ie,dynamicDocument:Ne,optinalSubject:null,studentAdmission:sn,selectedUser:mn,studentNewField:Pn,pdfUndertaking:null!==Bn&&void 0!==Bn&&Bn.pg_undertakings_admission?"PG":null!==Bn&&void 0!==Bn&&Bn.ug_undertakings_admission?"UG":"OFF"})},location:X,studentPhoneNumber:ue,studentAdmission:sn,showingExistingUser:null===Ln||void 0===Ln?void 0:Ln.all_account,selectedUser:mn,studentNewField:Pn,openFeesQuery:wn}):(0,O.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n="ADMISSION_ADMIN_SIDE"===(null===X||void 0===X?void 0:X.openAs)?function(e,n,t){var o={};for(var l in Te||(Ke({msg:"Please Select Image",run:!0}),o.file="profile image is required!"),n||(o.studentPhoneNumberAdd="* required"),e)"studentMiddleName"===l||"studentMotherName"===l||e[l]||(o[l]="".concat(l," is required!"));for(var i in t)"sample_pic"===i||"fee_bank_holder"===i||"fee_bank_name"===i||"fee_utr_reference"===i||t[i]||(o[i]="".concat(i," is required!"));return o}(he,ue,sn):function(e,n,t){var o,l={};for(var i in Te||(Ke({msg:dn("form_select_image_label"),run:!0}),l.file="profile image is required!"),n.studentBankAccount&&n.studentBankAccount!==n.studentBankReAccount&&(l.studentBankReAccount="".concat(dn("form_account_dose_not_match_label"))),e)"studentMiddleName"===i||e[i]||(l[i]="".concat(i," is required!"));for(var a in n)"studentPhoneNumber"===a||"studentEmail"===a||"student_anti_ragging"===a||"student_id_card_front"===a||"student_id_card_back"===a||"studentFatherRationCardColor"===a||n[a]||(l[a]="".concat(a," is required!"));return null!==Bn&&void 0!==Bn&&null!==(o=Bn.studentFormSetting)&&void 0!==o&&o.enrollmentPrn&&(null!==Pn&&void 0!==Pn&&Pn.student_prn_enroll_number||(l.student_prn_enroll_number="student_prn_enroll_number is required!")),l}(he,ie),t=!1;for(var o in n){t=!0;break}t?ze(n):W((function(e){return!e}))},children:[(0,O.jsxs)("div",{className:d.Z.form_container,children:["ADMISSION_ADMIN_SIDE"===(null===X||void 0===X?void 0:X.openAs)&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("div",{className:d.Z.form_other_field,children:[(0,O.jsx)(x.Z,{labelText:dn("form_mobile_no_label"),placeholder:dn("form_student_mobile_number_placeholder"),name:"mobileNumber",value:ue,type:"text",onChange:function(e){var n,t,o;se(null===(n=e.target.value)||void 0===n?void 0:n.trim()),10===(null===(t=e.target.value)||void 0===t||null===(o=t.trim())||void 0===o?void 0:o.length)&&"ADMISSION_ADMIN_SIDE"===(null===X||void 0===X?void 0:X.openAs)&&On()},customStyleContainer:{width:"49.5%"},errorShow:$e.studentPhoneNumberAdd}),null!==Ln&&void 0!==Ln&&null!==(n=Ln.all_account)&&void 0!==n&&n.length?(0,O.jsx)(M.Z,{selectLabel:dn("existing_account"),selectedValue:dn("select_existing_account"),value:mn,name:"user",onChange:function(e){fn(e.target.value)},options:null===Ln||void 0===Ln?void 0:Ln.all_account,customStyleContainer:{width:"49.5%"}}):""]}),(0,O.jsx)(j.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(0,O.jsxs)("h4",{children:[dn("form_personal_info_label"),":"]}),(0,O.jsxs)("div",{className:d.Z.form_container_profile,children:[(0,O.jsx)(x.Z,{labelText:dn("form_name_label"),placeholder:dn("form_name_placeholder"),name:"fullname",value:ne,type:"text",onChange:function(e){return te(e.target.value)},customStyleContainer:null!==Bn&&void 0!==Bn&&null!==(t=Bn.studentFormSetting)&&void 0!==t&&t.enrollmentPrn?{width:"56%"}:{width:"86%"},errorShow:$e.studentFirstName||$e.studentLastName}),(null===Bn||void 0===Bn||null===(o=Bn.studentFormSetting)||void 0===o?void 0:o.enrollmentPrn)&&(0,O.jsx)(x.Z,{labelText:dn("ADMISSION_ADMIN_SIDE"===(null===X||void 0===X?void 0:X.openAs)?"form_prn_enr_label":"form_prn_enr_student_label"),placeholder:dn("form_prn_enr_placeholder"),name:"prn",value:Pn.student_prn_enroll_number,type:"text",onChange:function(e){return En((function(n){return(0,m.Z)((0,m.Z)({},n),{},{student_prn_enroll_number:e.target.value})}))},customStyleContainer:{width:"30%"},errorShow:$e.student_prn_enroll_number}),(0,O.jsxs)("div",{className:d.Z.form_container_profile_image,children:[(0,O.jsxs)("label",{htmlFor:"profile",className:d.Z.form_container_profile_image_label,onClick:function(){return"ADMISSION_ADMIN_SIDE"===(null===X||void 0===X?void 0:X.openAs)?Rn():{}},children:["ADMISSION_ADMIN_SIDE"===(null===X||void 0===X?void 0:X.openAs)?(0,O.jsx)("img",{className:d.Z.form_container_profile_photo,src:Te?"".concat(P.qZ,"/").concat(Te):"/images/ins_default_profile.svg",alt:"student avatar"}):(0,O.jsx)("img",{className:d.Z.form_container_profile_photo,src:He||"/images/ins_default_profile.svg",alt:"student avatar"}),(0,O.jsx)("img",{src:"/images/user-pencil-edit-transparent.svg",alt:"edit icon",className:d.Z.form_edit_icon})]}),"ADMISSION_ADMIN_SIDE"!==(null===X||void 0===X?void 0:X.openAs)&&(0,O.jsx)("input",{type:"file",id:"profile",onChange:Rn,style:{display:"none"}})]})]}),(0,O.jsxs)("div",{className:d.Z.form_profile_info,children:[(0,O.jsx)(Z.Z,{selectLabel:dn("form_gender_label"),selectedValue:dn("form_gender_placeholder"),value:he.studentGender,name:"studentGender",onChange:qn,options:p.ce,optionsValue:p.Dj,errorShow:$e.studentGender}),(0,O.jsx)(D.Z,{labelText:dn("form_date_of_birth_label"),placeholder:dn("form_date_of_birth_placeholder"),name:"studentDOB",value:he.studentDOB,onDateFunction:function(e){if((0,k.A)(e)){var n=null===e||void 0===e?void 0:e.split("/"),t="".concat(n[2],"-").concat(n[1],"-").concat(n[0]);ge((function(e){return(0,m.Z)((0,m.Z)({},e),{},{studentDOB:t})}))}else Ke({msg:"You cannot select upcoming date ".concat(e),run:!0})},errorShow:$e.studentDOB,customStyleContainer:{position:"relative"}}),(0,O.jsx)(x.Z,{labelText:dn("form_mother_name_label"),placeholder:dn("form_mother_name_placeholder"),name:"studentMotherName",value:he.studentMotherName,type:"text",onChange:qn,errorShow:$e.studentMotherName})]}),(0,O.jsx)(j.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}}),"ADMISSION_ADMIN_SIDE"===(null===X||void 0===X?void 0:X.openAs)&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("h4",{children:[dn("form_admission_fees_details"),":",$e.fee_payment_mode?(0,O.jsx)("span",{style:{color:"red",marginLeft:"15px"},children:"* required"}):""]}),sn.fee_struct&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("div",{className:d.Z.form_other_field,children:[(0,O.jsx)(x.Z,{labelText:dn("selected_fee_structure"),name:"selected_fee_structure",value:null!==(l=wn.unique_structure_name)&&void 0!==l?l:"",type:"text",onChange:function(){},customStyleContainer:{width:"49.5%"}}),(0,O.jsx)(x.Z,{labelText:dn("payment_type"),name:"payment_type",value:sn.fee_payment_mode,type:"text",onChange:function(){},customStyleContainer:{width:"49.5%"}})]}),(0,O.jsxs)("div",{className:d.Z.form_other_field,children:[(0,O.jsx)(x.Z,{labelText:dn("amount"),name:"fee_payment_amount",value:sn.fee_payment_amount,type:"tel",onChange:function(){},customStyleContainer:{width:"49.5%"}}),(0,O.jsx)(D.Z,{labelText:dn("select_date_of_transaction"),name:"transaction_date",value:sn.transaction_date,onDateFunction:function(){},customStyleContainer:{position:"relative",marginTop:"0.5rem",marginBottom:"0.5rem",width:"49.5%"},datePickerPosition:{top:"-3rem"},customStyleLabel:{marginTop:"7px"}})]}),(0,O.jsxs)("div",{className:d.Z.form_other_field,children:[sn.fee_bank_name&&(0,O.jsx)(x.Z,{labelText:dn("bank_name_collect"),name:"bank_name_collect",value:sn.fee_bank_name,type:"text",onChange:function(){},customStyleContainer:{width:"49.5%"}}),sn.fee_bank_holder&&(0,O.jsx)(x.Z,{labelText:dn("banke_holder_name"),name:"banke_holder_name",value:sn.fee_bank_holder,type:"text",onChange:function(){},customStyleContainer:{width:"49.5%"}})]}),(0,O.jsx)("div",{className:d.Z.form_other_field,children:sn.fee_utr_reference&&(0,O.jsx)(x.Z,{labelText:dn("cheque_dd_neft"),name:"cheque_dd_neft",value:sn.fee_utr_reference,type:"text",onChange:function(){},customStyleContainer:{width:"49.5%"}})})]}),(0,O.jsx)("div",{className:d.Z.form_other_field,children:(0,O.jsx)("div",{className:d.Z.form_add_fee_btn,onClick:function(){return bn(!0)},children:dn(sn.fee_struct?"edit_select_fee_structure":"select_fee_structure")})}),(0,O.jsx)(j.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===Bn||void 0===Bn||null===(u=Bn.studentFormSetting)||void 0===u?void 0:u.otherPersonalInfo)&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("h4",{children:[dn("form_other_personal_info_label"),":"]}),(0,O.jsx)("div",{className:d.Z.form_other_field,children:null===ve||void 0===ve?void 0:ve.map((function(e){return p.zA.map((function(n){var t;return(null===n||void 0===n||null===(t=n.lists)||void 0===t?void 0:t.includes(e))&&(null!==n&&void 0!==n&&n.type?(0,O.jsx)(Z.Z,{selectLabel:dn(null===n||void 0===n?void 0:n.label),selectedValue:dn(null===n||void 0===n?void 0:n.placeHolder),value:ie[e],name:e,onChange:Hn,options:null===n||void 0===n?void 0:n.chooseOptions,optionsValue:null===n||void 0===n?void 0:n.chooseOptionsValue,customStyleContainer:{width:"49.5%"},errorShow:$e[e]},null===n||void 0===n?void 0:n.id):(0,O.jsx)(x.Z,{labelText:dn(null===n||void 0===n?void 0:n.label),placeholder:dn(null===n||void 0===n?void 0:n.placeHolder),name:e,value:ie[e],type:["studentPhoneNumber","studentAadharNumber"].includes(e)?"tel":"text",inputLength:"studentPhoneNumber"===e?10:12,onChange:Hn,customStyleContainer:{width:"49.5%"},errorShow:$e[e]},null===n||void 0===n?void 0:n.id))}))}))}),(0,O.jsx)(j.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===Bn||void 0===Bn||null===(s=Bn.studentFormSetting)||void 0===s?void 0:s.identityDetails)&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("h4",{children:[dn("form_identity_details_label"),":"]}),(0,O.jsx)("div",{className:d.Z.form_other_field,children:null===ve||void 0===ve?void 0:ve.map((function(e){return p.vf.map((function(n){var t;return(null===n||void 0===n||null===(t=n.lists)||void 0===t?void 0:t.includes(e))&&(null!==n&&void 0!==n&&n.type?(0,O.jsx)(Z.Z,{selectLabel:dn(null===n||void 0===n?void 0:n.label),selectedValue:dn(null===n||void 0===n?void 0:n.placeHolder),value:ie[e],onChange:Hn,options:null===n||void 0===n?void 0:n.chooseOptions,optionsValue:null===n||void 0===n?void 0:n.chooseOptionsValue,name:e,customStyleContainer:{width:"49.5%"},errorShow:$e[e]},null===n||void 0===n?void 0:n.id):(0,O.jsx)(x.Z,{labelText:dn(null===n||void 0===n?void 0:n.label),placeholder:dn(null===n||void 0===n?void 0:n.placeHolder),name:e,value:ie[e],type:"text",onChange:Hn,customStyleContainer:{width:"49.5%"},errorShow:$e[e]},null===n||void 0===n?void 0:n.id))}))}))}),(0,O.jsx)(j.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===Bn||void 0===Bn||null===(c=Bn.studentFormSetting)||void 0===c?void 0:c.addressInfo)&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("h4",{children:[dn("form_address_info_label"),":"]}),(0,O.jsx)("div",{className:d.Z.form_other_field,children:null===ve||void 0===ve?void 0:ve.map((function(e){return p.MI.map((function(n){var t;return(null===n||void 0===n||null===(t=n.lists)||void 0===t?void 0:t.includes(e))&&(null!==n&&void 0!==n&&n.type?(0,O.jsx)(y.Z,{labelText:dn(null===n||void 0===n?void 0:n.label),placeholder:dn(null===n||void 0===n?void 0:n.placeHolder),name:e,value:ie[e],type:"text",onChange:Hn,customStyleContainer:{width:"49.5%"},errorShow:$e[e]},null===n||void 0===n?void 0:n.id):null!==n&&void 0!==n&&n.checkbox?(0,O.jsx)(C.Z,{checkLabel:dn(null===n||void 0===n?void 0:n.label),checkedValue:ie.asSameAddress,onCheckboxAction:Qn,customStyle:{display:"block",width:"100%",marginLeft:"0"}},null===n||void 0===n?void 0:n.id):(0,O.jsx)(x.Z,{labelText:dn(null===n||void 0===n?void 0:n.label),placeholder:dn(null===n||void 0===n?void 0:n.placeHolder),name:e,value:ie[e],type:["studentCurrentPincode","studentPincode"].includes(e)?"tel":"text",inputLength:6,onChange:Hn,customStyleContainer:{width:"49.5%"},errorShow:$e[e]},null===n||void 0===n?void 0:n.id))}))}))}),(0,O.jsx)(j.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===Bn||void 0===Bn||null===(f=Bn.studentFormSetting)||void 0===f?void 0:f.parentsInfo)&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("h4",{children:[dn("form_parent_guardian_info_label"),":"]}),(0,O.jsx)("div",{className:d.Z.form_other_field,children:null===ve||void 0===ve?void 0:ve.map((function(e){return p.Xu.map((function(n){var t;return(null===n||void 0===n||null===(t=n.lists)||void 0===t?void 0:t.includes(e))&&(null!==n&&void 0!==n&&n.type?(0,O.jsx)(Z.Z,{selectLabel:dn(null===n||void 0===n?void 0:n.label),selectedValue:dn(null===n||void 0===n?void 0:n.placeHolder),value:ie[e],onChange:Hn,options:null===n||void 0===n?void 0:n.chooseOptions,optionsValue:null===n||void 0===n?void 0:n.chooseOptionsValue,name:e,customStyleContainer:{width:"49.5%"},errorShow:$e[e]},null===n||void 0===n?void 0:n.id):(0,O.jsx)(x.Z,{labelText:dn(null===n||void 0===n?void 0:n.label),placeholder:dn(null===n||void 0===n?void 0:n.placeHolder),name:e,value:ie[e],type:["studentParentsPhoneNumber"].includes(e)?"tel":"text",inputLength:"studentParentsPhoneNumber"===e?10:30,onChange:Hn,customStyleContainer:{width:"49.5%"},errorShow:$e[e]},null===n||void 0===n?void 0:n.id))}))}))}),(0,O.jsx)(j.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===Bn||void 0===Bn||null===(L=Bn.studentFormSetting)||void 0===L||null===(U=L.previousSchoolAndDocument)||void 0===U?void 0:U.previousSchoolDocument)&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("h4",{children:[dn("form_previous_school_document_label"),":"]}),(0,O.jsx)("div",{className:d.Z.form_other_field,children:null===Ze||void 0===Ze?void 0:Ze.map((function(e){return p.Bq.map((function(n){var t;return(null===n||void 0===n||null===(t=n.lists)||void 0===t?void 0:t.includes(e))&&(null!==n&&void 0!==n&&n.fileType?(0,O.jsx)(b.Z,{labelText:dn(null===n||void 0===n?void 0:n.label),name:e,value:Ne[e],onChange:Yn,customStyleContainer:{width:"49.5%"},errorShow:$e[e]},null===n||void 0===n?void 0:n.id):null!==n&&void 0!==n&&n.checkbox?null:!(null!==Ne&&void 0!==Ne&&Ne.previousSchoolDocument)&&(0,O.jsx)(x.Z,{labelText:dn(null===n||void 0===n?void 0:n.label),placeholder:dn(null===n||void 0===n?void 0:n.placeHolder),name:e,value:Ne[e],type:"text",onChange:Jn,customStyleContainer:{width:"100%"},errorShow:$e[e]},null===n||void 0===n?void 0:n.id))}))}))}),(0,O.jsx)(j.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===Bn||void 0===Bn||null===(B=Bn.studentFormSetting)||void 0===B?void 0:B.bankDetails)&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("h4",{children:[dn("form_student_bank_details_label"),":"]}),(0,O.jsx)("div",{className:d.Z.form_other_field,children:null===ve||void 0===ve?void 0:ve.map((function(e){return p.Mi.map((function(n){var t;return(null===n||void 0===n||null===(t=n.lists)||void 0===t?void 0:t.includes(e))&&(null!==n&&void 0!==n&&n.fileType?(0,O.jsx)(b.Z,{labelText:dn(null===n||void 0===n?void 0:n.label),name:e,value:ie[e],onChange:Yn,customStyleContainer:{width:"49.5%"},errorShow:$e[e]},null===n||void 0===n?void 0:n.id):(0,O.jsx)(x.Z,{labelText:dn(null===n||void 0===n?void 0:n.label),placeholder:dn(null===n||void 0===n?void 0:n.placeHolder),name:e,value:ie[e],type:["studentBankAccount","studentBankReAccount"].includes(e)?"tel":"text",reAccount:"studentBankReAccount"===e?$e[e]:"",inputLength:50,onChange:Hn,customStyleContainer:{width:"49.5%"},errorShow:$e[e]},null===n||void 0===n?void 0:n.id))}))}))}),(0,O.jsx)(j.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),((null===Bn||void 0===Bn||null===(V=Bn.studentFormSetting)||void 0===V?void 0:V.gate_score)||(null===Bn||void 0===Bn||null===(R=Bn.studentFormSetting)||void 0===R?void 0:R.marks_and_degree_score))&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("h4",{children:[dn("form_student_pg_details_label"),":"]}),(null===Bn||void 0===Bn||null===(q=Bn.studentFormSetting)||void 0===q?void 0:q.gate_score)&&(0,O.jsx)("div",{className:d.Z.form_other_field,children:null===ve||void 0===ve?void 0:ve.map((function(e){return p.wu.map((function(n){var t;return(null===n||void 0===n||null===(t=n.lists)||void 0===t?void 0:t.includes(e))&&(null!==n&&void 0!==n&&n.isCalender?(0,O.jsx)(D.Z,{labelText:dn(null===n||void 0===n?void 0:n.label),placeholder:dn(null===n||void 0===n?void 0:n.placeHolder),name:e,value:ie[e],onDateFunction:Wn,errorShow:$e[e],customStyleContainer:{position:"relative",width:"49.5%"}},null===n||void 0===n?void 0:n.id):(0,O.jsx)(x.Z,{labelText:dn(null===n||void 0===n?void 0:n.label),placeholder:dn(null===n||void 0===n?void 0:n.placeHolder),name:e,value:ie[e],type:"tel",onChange:Gn,customStyleContainer:{width:"49.5%"},errorShow:$e[e]},null===n||void 0===n?void 0:n.id))}))}))}),(null===Bn||void 0===Bn||null===(H=Bn.studentFormSetting)||void 0===H?void 0:H.marks_and_degree_score)&&(0,O.jsx)(O.Fragment,{children:(0,O.jsx)("div",{className:d.Z.form_other_field,children:null===ve||void 0===ve?void 0:ve.map((function(e){return p.fM.map((function(n){var t;return(null===n||void 0===n||null===(t=n.lists)||void 0===t?void 0:t.includes(e))&&(null!==n&&void 0!==n&&n.isCalender?(0,O.jsx)(D.Z,{labelText:dn(null===n||void 0===n?void 0:n.label),placeholder:dn(null===n||void 0===n?void 0:n.placeHolder),name:e,value:ie[e],onDateFunction:Kn,errorShow:$e[e],customStyleContainer:{position:"relative",width:"49.5%"}},null===n||void 0===n?void 0:n.id):"Heading"===(null===n||void 0===n?void 0:n.isPreheading)?(0,O.jsxs)("h4",{children:[dn(null===n||void 0===n?void 0:n.label),":"]}):"SUBHEADING"===(null===n||void 0===n?void 0:n.isPreheading)?(0,O.jsxs)("h5",{children:[dn(null===n||void 0===n?void 0:n.label),":"]}):(0,O.jsx)(x.Z,{labelText:dn(null===n||void 0===n?void 0:n.label),placeholder:dn(null===n||void 0===n?void 0:n.placeHolder),name:e,value:ie[e],type:["student_degree_marks","student_percentage","student_class_cpi","student_pre_sem_points","student_final_sem_points"].includes(e)?"tel":"text",onChange:Gn,customStyleContainer:{width:"49.5%"},errorShow:$e[e]},null===n||void 0===n?void 0:n.id))}))}))})}),(0,O.jsx)(j.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===Bn||void 0===Bn||null===(J=Bn.studentFormSetting)||void 0===J?void 0:J.id_card)&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("h4",{children:[dn("form_student_idcard_details_label"),":"]}),(0,O.jsx)("div",{className:d.Z.form_other_field,children:null===ve||void 0===ve?void 0:ve.map((function(e){return p.D0.map((function(n){var t;return(null===n||void 0===n||null===(t=n.lists)||void 0===t?void 0:t.includes(e))&&(null!==n&&void 0!==n&&n.fileType?(0,O.jsx)(b.Z,{labelText:dn(null===n||void 0===n?void 0:n.label),name:e,value:ie[e],onChange:Yn,customStyleContainer:{width:"49.5%"},errorShow:$e[e]},null===n||void 0===n?void 0:n.id):null)}))}))}),(0,O.jsx)(j.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===Bn||void 0===Bn||null===(Q=Bn.studentFormSetting)||void 0===Q?void 0:Q.anti_ragging)&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("h4",{children:[dn("form_student_antiragging_details_label"),":"]}),(0,O.jsx)("div",{className:d.Z.form_other_field,children:null===ve||void 0===ve?void 0:ve.map((function(e){return p.MV.map((function(n){var t;return(null===n||void 0===n||null===(t=n.lists)||void 0===t?void 0:t.includes(e))&&(null!==n&&void 0!==n&&n.fileType?(0,O.jsx)(b.Z,{labelText:dn(null===n||void 0===n?void 0:n.label),name:e,value:ie[e],onChange:Yn,customStyleContainer:{width:"49.5%"},errorShow:$e[e]},null===n||void 0===n?void 0:n.id):null)}))}))})]}),(0,O.jsx)(N.Z,{type:"submit",buttonText:dn("form_preview"),customStyleButton:{marginTop:"1.5vw"}})]}),Le&&(0,O.jsx)(g.Z,{open:Le,children:(0,O.jsx)(h.Z,{setPhotoURL:Ge,photoURL:He,setFile:Pe,setOpenCrop:Oe,setProfilePhoto:Ve,first:1,second:1,setUpload:we})}),(0,O.jsx)(I.Ch,{msg:Ye.msg,run:Ye.run,setRun:function(){return Ke({msg:"",run:!1})},postiton:"bottom",type:"error"})]}),tn&&(0,O.jsx)(w.Z,{}),gn&&(0,O.jsx)(T.Z,{onClose:function(){return Sn(!1)},showContent:"Select Avatar",onClick:function(e){Pe(e),cn((function(n){return(0,m.Z)((0,m.Z)({},n),{},{sample_pic:e})}))}}),yn&&(0,O.jsx)(G.Z,{onClose:function(){return bn(!1)},departmentId:null===X||void 0===X?void 0:X.applicationDepartment,classMasterId:null===X||void 0===X?void 0:X.applicationMaster,batchId:null===X||void 0===X?void 0:X.batchId,onSelectedStudent:function(e){Dn(e),Cn(!0),cn((function(n){return(0,m.Z)((0,m.Z)({},n),{},{fee_struct:null===e||void 0===e?void 0:e._id})}))},asOpen:"STUDENT_JOINING_FORM"}),In&&(0,O.jsx)(K,{onClose:function(){Cn(!1),cn((function(e){return(0,m.Z)((0,m.Z)({},e),{},{mode:"",amount:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:"",fee_struct:""})}))},onCloseFunction:function(){return Cn(!1)},openFeesQuery:wn,setStudentAdmission:cn})]})},le=t(37782);var ie=function(e){var n,_,v,m,f,p,h=e.location,g=(0,c.s0)(),x=(0,c.UO)(),Z=(0,s.useSelector)((function(e){return e.idChange})),y=(0,r.$G)().t,b=(0,a.useState)(!1),N=(0,i.Z)(b,2),I=N[0],C=N[1],F=(0,a.useState)(!1),D=(0,i.Z)(F,2),k=D[0],T=D[1],P=(0,a.useState)(!1),M=(0,i.Z)(P,2),U=M[0],B=M[1],V=(0,a.useState)(null),R=(0,i.Z)(V,2),q=R[0],H=R[1],G=(0,u.dR)(),J=(0,i.Z)(G,1)[0],Q=(0,S.SD)(),Y=(0,i.Z)(Q,1)[0],K=(0,E.kQ)(),ie=(0,i.Z)(K,1)[0],ae=(0,A.x4)(),de=(0,i.Z)(ae,1)[0],re=(0,X.f)().existingAccountLogin,ue=(0,E.Sm)(),se=(0,i.Z)(ue,1)[0],ce=(0,A.mu)(),_e=(0,i.Z)(ce,1)[0],ve=(0,A.ZR)(),me=(0,i.Z)(ve,1)[0],fe=(0,z.Rg)().data,pe=(0,z.gt)(),he=(0,i.Z)(pe,1)[0],ge=(0,L.Vc)({id:"INSTITUTE_SIDE"===(null===h||void 0===h?void 0:h.openAs)?null===Z||void 0===Z?void 0:Z.id:"ADMISSION_ADMIN_SIDE"===(null===h||void 0===h?void 0:h.openAs)||"landing_page"===(null===h||void 0===h?void 0:h.openAs)||"landing_page_and_existing"===(null===h||void 0===h?void 0:h.openAs)?null===h||void 0===h?void 0:h.instituteId:null===(n=Z.searchProfile)||void 0===n?void 0:n.id,skip:"INSTITUTE_SIDE"===(null===h||void 0===h?void 0:h.openAs)?!(null!==Z&&void 0!==Z&&Z.id):"ADMISSION_ADMIN_SIDE"===(null===h||void 0===h?void 0:h.openAs)||"landing_page"===(null===h||void 0===h?void 0:h.openAs)||"landing_page_and_existing"===(null===h||void 0===h?void 0:h.openAs)?!(null!==h&&void 0!==h&&h.instituteId):!(null!==(_=Z.searchProfile)&&void 0!==_&&_.id)}),Se=ge.merchantId,xe=ge.merchantIdRefetch,Ze=(0,te.p0)({data:{id:"INSTITUTE_SIDE"===(null===h||void 0===h?void 0:h.openAs)?null===Z||void 0===Z?void 0:Z.id:"ADMISSION_ADMIN_SIDE"===(null===h||void 0===h?void 0:h.openAs)||"landing_page"===(null===h||void 0===h?void 0:h.openAs)||"landing_page_and_existing"===(null===h||void 0===h?void 0:h.openAs)?null===h||void 0===h?void 0:h.instituteId:null===(v=Z.searchProfile)||void 0===v?void 0:v.id,type:"ID"},skip:"INSTITUTE_SIDE"===(null===h||void 0===h?void 0:h.openAs)?!(null!==Z&&void 0!==Z&&Z.id):"ADMISSION_ADMIN_SIDE"===(null===h||void 0===h?void 0:h.openAs)||"landing_page"===(null===h||void 0===h?void 0:h.openAs)||"landing_page_and_existing"===(null===h||void 0===h?void 0:h.openAs)?!(null!==h&&void 0!==h&&h.instituteId):!(null!==(m=Z.searchProfile)&&void 0!==m&&m.id)}),ye=Ze.oneInstituteProfile,be=Ze.oneInstituteProfileRefetch;(0,a.useEffect)((function(){var e;null===(e=document.getElementById("scrollView"))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),[I]),(0,a.useEffect)((function(){var e;(null!==(e=Z.searchProfile)&&void 0!==e&&e.id||null!==Z&&void 0!==Z&&Z.id||null!==h&&void 0!==h&&h.instituteId)&&be()}),[null===(f=Z.searchProfile)||void 0===f?void 0:f.id,null===Z||void 0===Z?void 0:Z.id,null===h||void 0===h?void 0:h.instituteId,be]),(0,a.useEffect)((function(){var e;(null!==(e=Z.searchProfile)&&void 0!==e&&e.id||null!==Z&&void 0!==Z&&Z.id||null!==h&&void 0!==h&&h.instituteId)&&xe()}),[null===(p=Z.searchProfile)||void 0===p?void 0:p.id,null===Z||void 0===Z?void 0:Z.id,null===h||void 0===h?void 0:h.instituteId,xe]);var je=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(n,l,i){var a,d,r,u,s,c,_=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=_.length>3&&void 0!==_[3]?_[3]:null,d=_.length>4&&void 0!==_[4]&&_[4],r=new Worker(new URL(t.p+t.u(3221),t.b)),u=(0,le.aF)(null===ye||void 0===ye?void 0:ye.institute,n,{imageKey:l,isAdmission:d,applicationName:null===h||void 0===h?void 0:h.applicationName}),s=u.institute,c=u.studentInfo,r.postMessage({printFormType:"STUDENT_FORM",studentInfo:c,institute:s,pdfUndertaking:a}),r.onmessage=function(e){if(e&&i){window.open(URL.createObjectURL(e.data),"_blank");var n=new FormData;n.append("file",e.data),me({sid:i,pdf_file:n}).then((function(){T((function(e){return!e}))})).catch({})}};case 6:case"end":return e.stop()}}),e)})));return function(n,t,o){return e.apply(this,arguments)}}(),Ne=function(e){var n;T((function(e){return!e}));var t={studentCode:null===h||void 0===h?void 0:h.joinCode,fileArray:[],optionalSubject:[]};for(var i in"ADMISSION_ADMIN_SIDE"===(null===h||void 0===h?void 0:h.openAs)||t.fileArray.push(null===e||void 0===e?void 0:e.file),null===e||void 0===e?void 0:e.formData)t[i]=null===e||void 0===e?void 0:e.formData[i];for(var a in null===e||void 0===e?void 0:e.studentForm)"asSameAddress"===a||(["bankPassbook","student_id_card_front","student_id_card_back","student_anti_ragging"].includes(a)?null!==e&&void 0!==e&&e.studentForm[a]&&t.fileArray.push(null===e||void 0===e?void 0:e.studentForm[a]):t[a]=null===e||void 0===e?void 0:e.studentForm[a]);for(var d in null===e||void 0===e?void 0:e.dynamicDocument)"previousSchoolDocument"===d||("studentPreviousSchool"===d?t[d]=null===e||void 0===e?void 0:e.dynamicDocument[d]:null!==e&&void 0!==e&&e.dynamicDocument[d]&&t.fileArray.push(null===e||void 0===e?void 0:e.dynamicDocument[d]));for(var r in null===e||void 0===e?void 0:e.optinalSubject)null!==e&&void 0!==e&&e.optinalSubject[r]&&t.optionalSubject.push(null===e||void 0===e?void 0:e.optinalSubject[r]);if("ADMISSION_ADMIN_SIDE"===(null===h||void 0===h?void 0:h.openAs))for(var u in null===e||void 0===e?void 0:e.studentAdmission)t[u]=null===e||void 0===e?void 0:e.studentAdmission[u];if("INSTITUTE_SIDE"===(null===h||void 0===h?void 0:h.openAs))for(var s in null===e||void 0===e?void 0:e.studentNewField)t[s]=null===e||void 0===e?void 0:e.studentNewField[s];if(t.student_prn_enroll_number=null===e||void 0===e?void 0:e.studentNewField.student_prn_enroll_number,"DIRECT"===(null===h||void 0===h?void 0:h.openAs)&&null!==h&&void 0!==h&&h.verifyNumber)de({phoneNumber:null===h||void 0===h?void 0:h.verifyNumber,direct_student:t}).then(function(){var n=(0,l.Z)((0,o.Z)().mark((function n(l){var i,a,d,r,u,s,c,_;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,je(t,null===e||void 0===e||null===(i=e.file)||void 0===i?void 0:i.key,null===l||void 0===l||null===(a=l.data)||void 0===a||null===(d=a.user)||void 0===d||null===(r=d.student)||void 0===r?void 0:r._id);case 2:re({token:null===l||void 0===l||null===(u=l.data)||void 0===u?void 0:u.token,_id:null===l||void 0===l||null===(s=l.data)||void 0===s||null===(c=s.user)||void 0===c?void 0:c._id,username:null===l||void 0===l||null===(_=l.data)||void 0===_?void 0:_.student});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch({});else if("landing_page"===(null===h||void 0===h?void 0:h.openAs)&&null!==h&&void 0!==h&&h.verifyNumber)_e({phoneNumber:null===h||void 0===h?void 0:h.verifyNumber,aid:h.appId,direct_student:t}).then(function(){var n=(0,l.Z)((0,o.Z)().mark((function n(l){var i,a,d,r,u,s,c;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,je(t,null===e||void 0===e||null===(i=e.file)||void 0===i?void 0:i.key,null===l||void 0===l||null===(a=l.data)||void 0===a?void 0:a.student,null===e||void 0===e?void 0:e.pdfUndertaking);case 2:re({token:null===l||void 0===l||null===(d=l.data)||void 0===d?void 0:d.token,_id:null===l||void 0===l||null===(r=l.data)||void 0===r||null===(u=r.user)||void 0===u?void 0:u._id,username:null===l||void 0===l||null===(s=l.data)||void 0===s||null===(c=s.user)||void 0===c?void 0:c.username});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch({});else if("landing_page_and_existing"===(null===h||void 0===h?void 0:h.openAs)&&null!==h&&void 0!==h&&h.userId)ie({uid:null===h||void 0===h?void 0:h.userId,aid:null===h||void 0===h?void 0:h.appId,apply_data:t}).then(function(){var n=(0,l.Z)((0,o.Z)().mark((function n(l){var i,a;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,je(t,null===e||void 0===e||null===(i=e.file)||void 0===i?void 0:i.key,null===l||void 0===l||null===(a=l.data)||void 0===a?void 0:a.student,null===e||void 0===e?void 0:e.pdfUndertaking);case 2:l.data.status&&(T((function(e){return!e})),g("/q/".concat(null===h||void 0===h?void 0:h.username,"/feed")));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch({});else if("INSTITUTE_SIDE"===(null===h||void 0===h?void 0:h.openAs)&&null!==h&&void 0!==h&&h.classId){var c;Y({phoneNumber:null===e||void 0===e?void 0:e.studentPhoneNumberAdd,uid:null!==(c=null===e||void 0===e?void 0:e.selectedUser)&&void 0!==c?c:"",cid:null===h||void 0===h?void 0:h.classId,addStudent:t}).then(function(){var n=(0,l.Z)((0,o.Z)().mark((function n(l){var i,a;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,je(t,null===e||void 0===e||null===(i=e.file)||void 0===i?void 0:i.key,null===l||void 0===l||null===(a=l.data)||void 0===a?void 0:a.student);case 2:g(-1);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch({})}else if("ADMISSION_APPLY"===(null===h||void 0===h?void 0:h.openAs)&&null!==Z&&void 0!==Z&&Z.id&&null!==h&&void 0!==h&&h.appId)ie({uid:null===Z||void 0===Z?void 0:Z.id,aid:null===h||void 0===h?void 0:h.appId,apply_data:t}).then(function(){var n=(0,l.Z)((0,o.Z)().mark((function n(l){var i,a;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,je(t,null===e||void 0===e||null===(i=e.file)||void 0===i?void 0:i.key,null===l||void 0===l||null===(a=l.data)||void 0===a?void 0:a.student,null===e||void 0===e?void 0:e.pdfUndertaking);case 2:l.data.status&&(T((function(e){return!e})),g("/q/".concat(null===h||void 0===h?void 0:h.urlUsername,"/membersTab")));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch({});else if("ADMISSION_DIRECT_APPLY"===(null===h||void 0===h?void 0:h.openAs)&&null!==Z&&void 0!==Z&&Z.id&&null!==h&&void 0!==h&&h.appId)U||(B(!0),H(t),T((function(e){return!e})));else if("ADMISSION_ADMIN_SIDE"===(null===h||void 0===h?void 0:h.openAs)&&null!==h&&void 0!==h&&h.appId){var _;se({phoneNumber:null===e||void 0===e?void 0:e.studentPhoneNumberAdd,uid:null!==(_=null===e||void 0===e?void 0:e.selectedUser)&&void 0!==_?_:"",aid:null===h||void 0===h?void 0:h.appId,addStudent:t}).then(function(){var n=(0,l.Z)((0,o.Z)().mark((function n(l){var i;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,je(t,null===e||void 0===e?void 0:e.file,null===l||void 0===l||null===(i=l.data)||void 0===i?void 0:i.student,null===e||void 0===e?void 0:e.pdfUndertaking,!(null===t||void 0===t||!t.sample_pic));case 2:g(-1);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch({})}else if(null!==Z&&void 0!==Z&&null!==(n=Z.searchProfile)&&void 0!==n&&n.id&&null!==Z&&void 0!==Z&&Z.id&&null!==h&&void 0!==h&&h.joinCode){var v;J({insId:null===Z||void 0===Z||null===(v=Z.searchProfile)||void 0===v?void 0:v.id,studentData:t,uid:null===Z||void 0===Z?void 0:Z.id}).then(function(){var n=(0,l.Z)((0,o.Z)().mark((function n(l){var i,a;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,je(t,null===e||void 0===e||null===(i=e.file)||void 0===i?void 0:i.key,null===l||void 0===l||null===(a=l.data)||void 0===a?void 0:a.student);case 2:l.data.status&&(T((function(e){return!e})),g("/q/".concat(null===h||void 0===h?void 0:h.urlUsername,"/memberstab")));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch({})}else T((function(e){return!e}))};return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("div",{className:d.Z.goback_container,id:"scrollView",children:(0,O.jsxs)("div",{className:d.Z.goback_container_text,onClick:function(){I?C((function(e){return!e})):g(-1)},children:[(0,O.jsx)("img",{src:"/images/arr-left-white.svg",alt:"go back icon"}),(0,O.jsx)("h6",{className:d.Z.goback_container_text_go,children:y("go_back")})]})}),(0,O.jsxs)("div",{className:d.Z.student_from_container,children:[(0,O.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,O.jsx)("h6",{className:d.Z.student_from_fill,children:y("form_fill_student")}),I&&(0,O.jsx)("h6",{className:d.Z.student_from_fill_edit,onClick:function(){return C((function(e){return!e}))},children:y("edit_")})]}),(0,O.jsx)(j.Z,{customStyle:{width:"100%"}}),"DEPARTMENT"===(null===h||void 0===h?void 0:h.whichFormShow)?(0,O.jsx)(oe,{preview:I,setPreview:C,location:h,onApplyForm:Ne}):(0,O.jsx)(W,{preview:I,setPreview:C,location:h,onApplyForm:Ne})]}),U&&(0,O.jsx)(ee.Z,{onClose:function(){return B(!1)},allContent:{type:"ADMISSION_DIRECT_APPLY",amount:null===h||void 0===h?void 0:h.first_install},checkoutAdmissionDirectHandler:function(e){var n,t=2.1*+(null===h||void 0===h?void 0:h.first_install)/100,o=+t+18*+t/100,l=parseInt(null===h||void 0===h?void 0:h.first_install),i={amount:Math.ceil(l+ +o.toFixed(2))};"PAYTM"===e?(0,ne.Ex)({amount:+(null===h||void 0===h?void 0:h.first_install),amount_nocharges:+i.amount,type:"Direct_Admission",paidBy:"".concat(null===Z||void 0===Z?void 0:Z.id),paidTo:"".concat(null===(n=Z.searchProfile)||void 0===n?void 0:n.id),moduleId:"".concat(null===h||void 0===h?void 0:h.appId),ad_status_id:null,payment_installment:null,ad_install:null,month:null,payment_remain_1:null,payment_card_type:null,payment_book_id:null,name:x.username,isApk:"web",payment_card_id:null}).then((function(e){var n,t;window.onScriptLoad(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(t=n.body)||void 0===t?void 0:t.txnToken,null===e||void 0===e?void 0:e.order,null===e||void 0===e?void 0:e.amount)})).catch((function(e){console.info(e)})):null!==fe&&void 0!==fe&&fe.Key&&null!==i&&void 0!==i&&i.amount&&he({amount:null===i||void 0===i?void 0:i.amount}).then((function(e){var n,t,o,l;null!==(n=e.data)&&void 0!==n&&n.success?(0,$.r)({key:null===fe||void 0===fe?void 0:fe.Key,oid:null===(t=e.data)||void 0===t?void 0:t.order.id,amount_nocharge:100*(null===h||void 0===h?void 0:h.first_install),amount:null===(o=e.data)||void 0===o?void 0:o.order.amount,type:"Direct_Admission",pay_by:"".concat(null===Z||void 0===Z?void 0:Z.id),pay_to:"".concat(null===(l=Z.searchProfile)||void 0===l?void 0:l.id),mid:"".concat(null===h||void 0===h?void 0:h.appId),razor_key:null===Se||void 0===Se?void 0:Se.key,razor_author:null===Se||void 0===Se?void 0:Se.bool,status:null,installment_type:null,is_install:null,h_month:null,student_data:q}):console.log("data error")})).catch((function(e){console.log(e)}))}}),k&&(0,O.jsx)(w.Z,{})]})}},56112:function(e,n,t){var o=t(93433),l=t(29439),i=t(72791),a=t(33399),d=t(36665),r=t(23441),u=t(87932),s=t(11105),c=t(39230),_=t(98094),v=t(80184);n.Z=function(e){var n,t,m,f=e.onClose,p=e.departmentId,h=e.classMasterId,g=e.batchId,S=e.onSelectedStudent,x=e.onSelectedStrucutre,Z=e.asOpen,y=(0,c.$G)().t,b=(0,i.useState)(!1),j=(0,l.Z)(b,2),N=j[0],I=j[1],C=(0,r.YD)(),F=(0,l.Z)(C,2),A=F[0],w=F[1],D=(0,i.useState)(1),k=(0,l.Z)(D,2),T=k[0],P=k[1],E=(0,i.useState)(!0),M=(0,l.Z)(E,2),L=M[0],O=M[1],U=(0,i.useState)(!1),B=(0,l.Z)(U,2),V=B[0],R=B[1],q=(0,i.useState)(!0),H=(0,l.Z)(q,2),G=H[0],J=H[1],Q=(0,i.useState)([]),Y=(0,l.Z)(Q,2),K=Y[0],W=Y[1],X=(0,i.useState)(""),$=(0,l.Z)(X,2),z=$[0],ee=$[1],ne=(0,u.rU)({data:{did:p,filterBy:h,page:T,limit:10,batch_by:null!==g&&void 0!==g?g:""},skip:!p}),te=ne.getAllFeesStructure,oe=ne.getAllFeesStructureRefetch;(0,i.useEffect)((function(){p&&(J(!0),oe())}),[p,T,oe]),(0,i.useEffect)((function(){w&&L&&P((function(e){return e+1}))}),[w,L]),(0,i.useEffect)((function(){var e,n;V?(W((function(e){var n,t;return null===(n=(0,o.Z)(new Set(null===(t=[].concat((0,o.Z)(null===te||void 0===te?void 0:te.all_structures),(0,o.Z)(e)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),J(!1),R(!1)):null!==te&&void 0!==te&&te.all_structures?(W((function(e){var n,t;return null===(n=(0,o.Z)(new Set(null===(t=[].concat((0,o.Z)(e),(0,o.Z)(null===te||void 0===te?void 0:te.all_structures)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),J(!1)):0===(null===te||void 0===te||null===(n=te.all_structures)||void 0===n?void 0:n.length)&&J(!1);10===(null===te||void 0===te||null===(e=te.all_structures)||void 0===e?void 0:e.length)?O(!0):O(!1)}),[null===te||void 0===te?void 0:te.all_structures]);var le=function(e){"STUDENT_JOINING_FORM"===Z?(S(e),f()):"ADMISSION_APPLICATION_WISE"===Z?(x(e),f()):"ADMISSION_APPLICATION"===Z?x(e):"STUDENT_VIEW_STRUCTURE"===Z?x(null===e||void 0===e?void 0:e._id):(I((function(e){return!e})),ee(e))};return(0,v.jsx)(d.Z,{onClose:f,children:(0,v.jsxs)("div",{className:a.Z.add_category_modal,style:N?{width:"30rem",minHeight:"10rem",height:"fit-content"}:{width:"40rem",minHeight:"10rem",maxHeight:"35rem",overflowY:"auto",overflowX:"hidden",scrollBehavior:"smooth"},children:[N?(0,v.jsxs)("section",{className:a.Z.fee_middle_section_container,style:{marginBottom:"1.2rem"},children:[(0,v.jsx)("h6",{children:y("fee_structure")}),(0,v.jsx)(_.Z,{customStyle:{width:"100%",marginTop:"0.7rem"}}),(0,v.jsxs)("div",{className:a.Z.fee_middle_section,children:[(0,v.jsx)("p",{children:y("fee_structure_of_student_is")}),(0,v.jsx)("h6",{children:null===z||void 0===z||null===(n=z.category_master)||void 0===n?void 0:n.category_name}),(0,v.jsxs)("p",{children:[" ",y("total_admission_fees")," "," : "," ",y("rs")," ",(0,v.jsx)("span",{style:{fontWeight:"600"},children:null!==(t=null===z||void 0===z?void 0:z.total_admission_fees)&&void 0!==t?t:0})]}),(0,v.jsxs)("p",{children:[y("applicable_fees_amount")," "," : "," ",y("rs")," ",(0,v.jsx)("span",{style:{fontWeight:"600"},children:null!==(m=null===z||void 0===z?void 0:z.applicable_fees)&&void 0!==m?m:0})]})]}),(0,v.jsx)("button",{onClick:function(){S(null===z||void 0===z?void 0:z._id),f()},className:a.Z.fee_middle_confirm_button,children:y("confirm")})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("section",{className:a.Z.add_category_modal_title_left,style:{marginBottom:"1.2rem"},children:[(0,v.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:f,alt:"back arrow"}),(0,v.jsx)("h6",{children:y("SELECTED_TAB"===Z||"ADMISSION_APPLICATION_WISE"===Z?"edit_fee_structure":"ADMISSION_APPLICATION"===Z?"select_fee_structure_for_application":"STUDENT_VIEW_STRUCTURE"===Z?"admission_fees":"select_fee_structure_of_student")})]}),(0,v.jsx)(_.Z,{customStyle:{width:"100%",marginTop:"-0.5rem",marginBottom:"1rem"}}),null===K||void 0===K?void 0:K.map((function(e,n){var t,o,l,i,d,r;return(null===K||void 0===K?void 0:K.length)===n+1?(0,v.jsxs)("div",{className:"".concat(a.Z.fees_card," ").concat(a.Z.fees_card_hover),ref:A,onClick:function(){return le(e)},children:[(0,v.jsx)("img",{src:"/images/fees-category-icon.svg",alt:"categor icon"}),(0,v.jsxs)("div",{className:a.Z.fees_card_text,children:[(0,v.jsx)("h6",{children:null!==(t=null===e||void 0===e?void 0:e.unique_structure_name)&&void 0!==t?t:""}),(0,v.jsxs)("div",{className:a.Z.fees_card_text_bottom,style:{marginTop:"0.3rem"},children:[(0,v.jsxs)("h6",{children:[y("applicable_fees_only")," ",y("rs"),".",null!==(o=null===e||void 0===e?void 0:e.applicable_fees)&&void 0!==o?o:0]}),(0,v.jsxs)("h6",{children:[y("total_admission_fees")," "," : "," ",y("rs"),".",null!==(l=null===e||void 0===e?void 0:e.total_admission_fees)&&void 0!==l?l:0]})]})]})]},null===e||void 0===e?void 0:e._id):(0,v.jsxs)("div",{className:"".concat(a.Z.fees_card," ").concat(a.Z.fees_card_hover),onClick:function(){return le(e)},children:[(0,v.jsx)("img",{src:"/images/fees-category-icon.svg",alt:"categor icon"}),(0,v.jsxs)("div",{className:a.Z.fees_card_text,children:[(0,v.jsx)("h6",{children:null!==(i=null===e||void 0===e?void 0:e.unique_structure_name)&&void 0!==i?i:""}),(0,v.jsxs)("div",{className:a.Z.fees_card_text_bottom,style:{marginTop:"0.3rem"},children:[(0,v.jsxs)("h6",{children:[y("applicable_fees_only")," ",y("rs"),".",null!==(d=null===e||void 0===e?void 0:e.applicable_fees)&&void 0!==d?d:0]}),(0,v.jsxs)("h6",{children:[y("total_admission_fees")," "," : "," ",y("rs"),".",null!==(r=null===e||void 0===e?void 0:e.total_admission_fees)&&void 0!==r?r:0]})]})]})]},null===e||void 0===e?void 0:e._id)}))]}),G&&(0,v.jsx)(s.Z,{})]})})}},46807:function(e,n){n.Z={avatar_image:"Avatar_avatar_image__orRwR",custom_avatar_container:"Avatar_custom_avatar_container__f4BAI",custom_avatar_one:"Avatar_custom_avatar_one__XYFtg",custom_avatar_content:"Avatar_custom_avatar_content__E1nUO"}},33399:function(e,n){n.Z={fess_container:"FeesStructure_fess_container__KJfJA",category_header:"FeesStructure_category_header__0NZE9",category_header_title:"FeesStructure_category_header_title__a6uYK",fees_category:"FeesStructure_fees_category__B3Yax",fees_category_icon:"FeesStructure_fees_category_icon__JArrd",fees_category_text:"FeesStructure_fees_category_text__pt891",assignment_description_head:"FeesStructure_assignment_description_head__Qc3FE",assignment_description:"FeesStructure_assignment_description__qqF15",department_container:"FeesStructure_department_container__dpMM0",department_card_name:"FeesStructure_department_card_name__eWHf+",department_card_head:"FeesStructure_department_card_head__B2ZwA",department_card_title:"FeesStructure_department_card_title__eyEiT",add_new_category:"FeesStructure_add_new_category__3y9Qr",category_card:"FeesStructure_category_card__NVUgp",fees_card_text:"FeesStructure_fees_card_text__F3gSO",category_card_fee:"FeesStructure_category_card_fee__3w8Sb",fees_card_text_bottom:"FeesStructure_fees_card_text_bottom__7HBFH",department_card_container:"FeesStructure_department_card_container__4Otk6",department_card_image:"FeesStructure_department_card_image__+RQd-",fees_card:"FeesStructure_fees_card__WTgO6",add_category_modal:"FeesStructure_add_category_modal__a37mG",add_category_modal_title:"FeesStructure_add_category_modal_title__DxkYZ",structure_container_title:"FeesStructure_structure_container_title__EUdFM",add_category_modal_title_left:"FeesStructure_add_category_modal_title_left__2nPOT",set_fees_structure_btn:"FeesStructure_set_fees_structure_btn__V7NPc",installment_list:"FeesStructure_installment_list__wA45E",fees_head_title:"FeesStructure_fees_head_title__IxR06",fees_head_installment:"FeesStructure_fees_head_installment__IiGql",table_heading:"FeesStructure_table_heading__RNv9z",table_container:"FeesStructure_table_container__hJ+PK",table_body:"FeesStructure_table_body__O02ZC",table_body_list:"FeesStructure_table_body_list__F5n3s",fee_head_name_input:"FeesStructure_fee_head_name_input__mmPKk",fee_head_amount_input:"FeesStructure_fee_head_amount_input__9C2eU",add_fees_head_btn:"FeesStructure_add_fees_head_btn__YHLGM",fees_total:"FeesStructure_fees_total__-0grI",create_fees_structure_btn:"FeesStructure_create_fees_structure_btn__yySE7",fees_card_hover:"FeesStructure_fees_card_hover__3ulkW",fees_card_hover_active:"FeesStructure_fees_card_hover_active__ESF6D",fee_middle_section:"FeesStructure_fee_middle_section__INnVO",fee_middle_confirm_button:"FeesStructure_fee_middle_confirm_button__C0Q6g",fee_middle_section_container:"FeesStructure_fee_middle_section_container__1lMVJ",edit_icon:"FeesStructure_edit_icon__EhhnH",search_container:"FeesStructure_search_container__IDhvw",search_container_text:"FeesStructure_search_container_text__PWYPL",searchIcon:"FeesStructure_searchIcon__dKXPf",category_card_hover:"FeesStructure_category_card_hover__vDSbu",category_card_hover_active:"FeesStructure_category_card_hover_active__5bQ7H",menu_icon:"FeesStructure_menu_icon__Ns6lc",upload_excel_container:"FeesStructure_upload_excel_container__jommG",upload_excel_file:"FeesStructure_upload_excel_file__+csTW",add_employee_staff:"FeesStructure_add_employee_staff__Hrl+P",add_employee_staff_text:"FeesStructure_add_employee_staff_text__LgZOf",payroll_account_btn:"FeesStructure_payroll_account_btn__t3vSl",account_payment_row:"FeesStructure_account_payment_row__VO533",normal_select_btn:"FeesStructure_normal_select_btn__yU6K-",seating_modal:"FeesStructure_seating_modal__w52St",add_category_modal_title_active:"FeesStructure_add_category_modal_title_active__hFUaf",notify_container:"FeesStructure_notify_container__C+qTv",notify_text:"FeesStructure_notify_text__d3pZD",next_btn:"FeesStructure_next_btn__tR55q",btn_group:"FeesStructure_btn_group__NPo8U",leave_dates:"FeesStructure_leave_dates__2IQZS"}},15983:function(e,n){n.Z={addDisplay:"PaymentPendingFee_addDisplay__pQY61",title:"PaymentPendingFee_title__ifZJt",content:"PaymentPendingFee_content__WFcyd",contentRow:"PaymentPendingFee_contentRow__wV35D",inputlabel:"PaymentPendingFee_inputlabel__KgvIn",btn:"PaymentPendingFee_btn__+YFt1",confirmInput:"PaymentPendingFee_confirmInput__LvWK3",contentDiv:"PaymentPendingFee_contentDiv__ukkNx",cancelModal:"PaymentPendingFee_cancelModal__+A7Lo",titleFlex:"PaymentPendingFee_titleFlex__qIa8e",ClassCard:"PaymentPendingFee_ClassCard__3nxLJ",text:"PaymentPendingFee_text__kmsTF",textBottom:"PaymentPendingFee_textBottom__UTzCH",inputlabelsmall:"PaymentPendingFee_inputlabelsmall__8FZcl",inputlabelmarginbottom:"PaymentPendingFee_inputlabelmarginbottom__eWGC8",options:"PaymentPendingFee_options__qVURV",option:"PaymentPendingFee_option__YYZyP",inputt:"PaymentPendingFee_inputt__XPO-b",up:"PaymentPendingFee_up__4q7d1",down:"PaymentPendingFee_down__rD6mS",admission_fees_amount:"PaymentPendingFee_admission_fees_amount__fK8oA"}}}]);
//# sourceMappingURL=4090.4d6e7b74.chunk.js.map