"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[7277],{93638:function(e,n,t){var l=t(39230),i=t(80476),s=t(80184);n.Z=function(e){var n=e.label,t=e.count,a=e.onAction,c=e.customStyle,o=e.isTranslate,r=(0,l.$G)().t;return o?(0,s.jsxs)("div",{className:i.Z.create_btn_container,onClick:a,style:c,children:[t>0?(0,s.jsxs)("span",{children:[t," "]}):null,n]}):(0,s.jsxs)("div",{className:i.Z.create_btn_container,onClick:a,style:c,children:[t>0?(0,s.jsxs)("span",{children:[t," "]}):null,r(n)]})}},75238:function(e,n,t){t.r(n),t.d(n,{default:function(){return q}});var l=t(29439),i=t(72791),s=t(56959),a=t(23441),c=t(91427),o=t(57588),r=t(63687),d=t(21348),u=t(90904),f=t(55336),v=t(1669),h=t(2651),_=t(36132),m=t(39230),x=t(98684),j=t(97892),Z=t.n(j),p=t(82824),g=t(1095),N=t(55050),b=t(93638),k=t(45445),y=t(80184),C=function(e){var n,t,s,a,c,o,r,d,u=e.leave,v=e.onRefetch,h=(0,m.$G)().t,j=(0,_.vg)(),C=(0,l.Z)(j,1)[0],q=(0,i.useState)(!1),S=(0,l.Z)(q,2),w=S[0],B=S[1],L=(0,i.useState)(!1),T=(0,l.Z)(L,2),A=T[0],D=T[1],M=function(){D((function(e){return!e}))};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:N.Z.lmsr_card,children:[(0,y.jsxs)("div",{className:N.Z.lmsrc_card,children:[(0,y.jsxs)("div",{className:N.Z.lmsrc_card_inner,children:[(0,y.jsx)("img",{src:null!==u&&void 0!==u&&null!==(n=u.staff)&&void 0!==n&&n.staffProfilePhoto?"".concat(g.yI,"/").concat(null===u||void 0===u||null===(t=u.staff)||void 0===t?void 0:t.staffProfilePhoto):"".concat(x.p3,"/feed-user-avatar.svg"),alt:"staff icon"}),(0,y.jsxs)("div",{className:N.Z.lmsrci_text,children:[(0,y.jsx)("h6",{children:"".concat(null!==(s=null===u||void 0===u||null===(a=u.staff)||void 0===a?void 0:a.staffFirstName)&&void 0!==s?s:""," ").concat(null!==u&&void 0!==u&&null!==(c=u.staff)&&void 0!==c&&c.staffMiddleName?null===u||void 0===u||null===(o=u.staff)||void 0===o?void 0:o.staffMiddleName:""," ").concat(null!==(r=null===u||void 0===u||null===(d=u.staff)||void 0===d?void 0:d.staffLastName)&&void 0!==r?r:"")}),(0,y.jsxs)("p",{children:[h("raised_on"),(0,p.J)(null===u||void 0===u?void 0:u.createdAt,"LT"),", ",Z()(null===u||void 0===u?void 0:u.createdAt).format("DD MMM YYYY"),", ",(0,y.jsx)("span",{className:N.Z.lmsrc_date,onClick:M,children:h("for_dates")})]})]})]}),(0,y.jsx)("div",{className:N.Z.lmsrc_btn,children:(0,y.jsx)(b.Z,{label:h("approve"),onAction:function(){return function(){var e,n;null!==u&&void 0!==u&&u._id&&null!==u&&void 0!==u&&null!==(e=u.staff)&&void 0!==e&&e._id&&(B((function(e){return!e})),C({lid:null===u||void 0===u?void 0:u._id,coffAction:{sid:null===u||void 0===u||null===(n=u.staff)||void 0===n?void 0:n._id}}).then((function(){v(),B((function(e){return!e}))})).catch({}))}()},customStyle:R})})]}),(0,y.jsx)("div",{className:N.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,y.jsxs)("h6",{style:{fontWeight:"400"},children:[h("leave_type")," "," : ",null===u||void 0===u?void 0:u.leave_type]})}),(0,y.jsx)("div",{className:N.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,y.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[h("reason")," "," : ",null===u||void 0===u?void 0:u.reason]})}),(null===u||void 0===u?void 0:u.attach)&&(0,y.jsx)("div",{className:N.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,y.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[h("attachment")," "," : ",(0,y.jsx)("a",{href:"".concat(g.q2,"/").concat(null===u||void 0===u?void 0:u.attach),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,y.jsx)("span",{className:N.Z.lmsrc_date,children:h("view_attachment")})})]})})]}),A&&(0,y.jsx)(k.Z,{onClose:M,allDate:null===u||void 0===u?void 0:u.date}),w&&(0,y.jsx)(f.Z,{})]})},R={margin:"0",padding:"0.2rem 0.8rem"},q=function(e){var n,t,j,Z=e.instituteId,p=(0,m.$G)().t,g=(0,i.useState)(""),N=(0,l.Z)(g,2),b=N[0],k=N[1],R=(0,i.useState)(1),q=(0,l.Z)(R,2),S=q[0],w=q[1],B=(0,i.useState)(!0),L=(0,l.Z)(B,2),T=L[0],A=L[1],D=(0,a.YD)({skip:b}),M=(0,l.Z)(D,2),O=M[0],Y=M[1],G=(0,_.og)({data:{id:Z,page:S,limit:10,search:b,flow:"Request"},skip:!Z}),P=G.lmsCOffRequestList,J=G.lmsCOffRequestListLoading,W=G.lmsCOffRequestListRefetch;(0,i.useEffect)((function(){Y&&T&&w((function(e){return e+1}))}),[Y,T]),(0,i.useEffect)((function(){var e;if(null!==P&&void 0!==P&&null!==(e=P.list)&&void 0!==e&&e.length){var n,t=(0,c.f)(null===P||void 0===P||null===(n=P.list)||void 0===n?void 0:n.length);A((function(){return t}))}}),[null===P||void 0===P?void 0:P.list]);var $=(0,i.useCallback)((0,o.J)((function(e){w((function(){return 1})),k(e)}),1500),[]),E=(0,i.useCallback)((function(){w((function(){return 1})),k(""),W()}),[W]);return(0,y.jsxs)(r.Z,{children:[(0,y.jsx)(d.Z,{children:(0,y.jsxs)("div",{className:s.Z.fm_header_container,children:[(0,y.jsx)("h6",{children:p("manage_c_off")}),(0,y.jsx)("div",{className:s.Z.fm_search,children:(0,y.jsx)("section",{className:s.Z.fm_search_container,children:(0,y.jsxs)("div",{className:s.Z.fm_search_container_inner,children:[(0,y.jsx)("img",{className:s.Z.fm_search_icon,alt:"search icon",src:"".concat(x.dB,"/navbar-search.svg")}),(0,y.jsx)("input",{type:"text",placeholder:p("search"),onChange:function(e){e.target.value?$(e.target.value):(w((function(){return 1})),k(""))}})]})})})]})}),(0,y.jsx)(u.Z,{}),(0,y.jsxs)(d.Z,{children:[null===P||void 0===P||null===(n=P.list)||void 0===n?void 0:n.map((function(e,n){var t;return(null===P||void 0===P||null===(t=P.list)||void 0===t?void 0:t.length)===n+1?(0,y.jsx)("div",{ref:O,children:(0,y.jsx)(C,{leave:e,onRefetch:E})},null===e||void 0===e?void 0:e._id):(0,y.jsx)(C,{leave:e,onRefetch:E},null===e||void 0===e?void 0:e._id)})),J?b?(0,y.jsx)(f.Z,{}):(0,y.jsx)(v.Z,{}):b?0===(null===P||void 0===P||null===(t=P.list)||void 0===t?void 0:t.length)&&(0,y.jsx)(h.Z,{title:"No staff manage-c-off leave request found related this search."}):0===(null===P||void 0===P||null===(j=P.list)||void 0===j?void 0:j.length)&&(0,y.jsx)(h.Z,{title:"No staff manage-c-off leave request."})]})]})}},80476:function(e,n){n.Z={btn_wrapper:"Button_btn_wrapper__ihT7O",btn_container:"Button_btn_container__OaH2t",create_btn_container:"Button_create_btn_container__JuZrx",upload_excel_file:"Button_upload_excel_file__a7d0K",set_btn_container:"Button_set_btn_container__RvfRG"}}}]);
//# sourceMappingURL=7277.67049976.chunk.js.map