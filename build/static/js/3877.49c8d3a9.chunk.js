"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[3877],{893:function(e,t,s){s.d(t,{Z:function(){return N}});var a=s(93433),n=s(37762),i=s(29439),l=s(72791),d=s(16313),c=s(53967),r=s(94721),o=s(89261),u=s(62921),v=s(17758),m=s(39230),x=s(24582),j=s(98734),h=s(37570),Z=s(78687),b=s(99376),g=s(36721),p=s(80184),f=function(e){var t=e.today,s=e.alreadyMark,a=e.allIdsArray,c=e.clickedIndex,r=e.setClickedIndex,o=e.idPresentArray,u=e.idAbsentArray,v=e.setIdPresentArray,f=e.setIdAbsentArray,N=e.cid,y=e.isDepartment,S=e.className,_=e.setIsRefetch,T=l.useState(!1),I=(0,i.Z)(T,2),k=I[0],A=I[1],D=l.useState(!1),C=(0,i.Z)(D,2),P=C[0],F=C[1],M=(0,x.b6)(),E=(0,i.Z)(M,1)[0],q=(0,x.wf)(),w=(0,i.Z)(q,1)[0],R=(0,m.$G)().t,H=(0,l.useState)(!1),L=(0,i.Z)(H,2),O=L[0],G=L[1],$=(0,Z.useDispatch)(),U=(0,l.useState)({msg:"",run:!1}),V=(0,i.Z)(U,2),J=V[0],B=V[1];l.useEffect((function(){null!==o&&void 0!==o&&o.length||null!==u&&void 0!==u&&u.length?A(!0):A(!1)}),[o,u]);var Y=function(){G((function(e){return!e}))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:"1.5rem"},children:[(0,p.jsx)("div",{className:d.Z.buttons,children:(0,p.jsx)("div",{className:d.Z.save,onClick:Y,children:R("export_zip_attendance")})}),(0,p.jsx)("div",{className:d.Z.buttons,children:0!==c?k&&!y&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:d.Z.save,onClick:function(){F((function(e){return!e}));var e=t.split("-"),i=e[0]>9?e[0]:"0".concat(e[0]),l=e[1]>9?e[1]:"0".concat(e[1]);if(null!==s&&void 0!==s&&s._id)$(b.R.updateClassAttendance({clsId:N,ldate:"".concat(i,"/").concat(l,"/").concat(e[2]),presentStudent:null!==o&&void 0!==o&&o.length?o:[],absentStudent:null!==u&&void 0!==u&&u.length?u:[],alreadyMark:null===s||void 0===s?void 0:s._id})),w({said:null===s||void 0===s?void 0:s._id,attendanceUpdate:{date:"".concat(i,"/").concat(l,"/").concat(e[2]),present:null!==o&&void 0!==o&&o.length?o:[],absent:null!==u&&void 0!==u&&u.length?u:[]}}).then((function(){_(!0),r(0),F((function(e){return!e})),v([]),f([])})).catch({});else{var d=[];null===a||void 0===a||a.map((function(e){return d.push(e._id)}));var c=[],m=[];if(null!==o&&void 0!==o&&o.length){var x,j=(0,n.Z)(d);try{for(j.s();!(x=j.n()).done;){var h=x.value;null!==o&&void 0!==o&&o.includes(h)||m.push(h),1}}catch(y){j.e(y)}finally{j.f()}}else{var Z,g=(0,n.Z)(d);try{for(g.s();!(Z=g.n()).done;){var p=Z.value;null!==u&&void 0!==u&&u.includes(p)||c.push(p),1}}catch(y){g.e(y)}finally{g.f()}}E({cid:N,attendance:{date:"".concat(i,"/").concat(l,"/").concat(e[2]),present:null!==o&&void 0!==o&&o.length?o:c,absent:null!==u&&void 0!==u&&u.length?u:m}}).then((function(t){var s,a;"Today will be holiday Provided by department Admin or already marked attendance"===(null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)?B({msg:"Today will be holiday Provided by department Admin or already marked attendance",run:!0}):$(b.R.addClassAttendance({clsId:N,ldate:"".concat(i,"/").concat(l,"/").concat(e[2]),presentStudent:null!==o&&void 0!==o&&o.length?o:c,absentStudent:null!==u&&void 0!==u&&u.length?u:m,alreadyMark:null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.alreadyMark}));r(0),F((function(e){return!e})),v([]),f([])})).catch({})}},children:R("save")})}):""})]}),P&&(0,p.jsx)(j.Z,{}),O&&(0,p.jsx)(h.Z,{cid:N,onClose:Y,className:S}),J.run&&(0,p.jsx)(g.Ch,{msg:J.msg,run:J.run,setRun:function(){return B({msg:"",run:!1})},postiton:"bottom",type:"error"})]})};var N=function(e){var t,s,j,h,b,g,N,y,S,_,T,I,k,A,D=e.cid,C=e.isDepartment,P=e.className,F=(0,c.Z)(),M=F.calendarData,E=F.selectedDate,q=F.todayFormatted,w=F.switchMonth,R=F.monthNames,H=F.getNextMonth,L=F.getPrevMonth,O=(0,l.useState)(q),G=(0,i.Z)(O,2),$=G[0],U=G[1],V=$.split("-"),J=V[0]>9?V[0]:"0".concat(V[0]),B=V[1]>9?V[1]:"0".concat(V[1]),Y=(0,m.$G)().t,W=(0,Z.useSelector)((function(e){return e.attendanceStore.classTeacher})),z=(0,l.useState)(""),X=(0,i.Z)(z,2),K=X[0],Q=X[1],ee=(0,l.useState)(!1),te=(0,i.Z)(ee,2),se=te[0],ae=te[1],ne=(0,x.EY)({data:{cid:D,page:1,limit:30},skip:!D}),ie=ne.classAllStudent,le=ne.classAllStudentRefetch,de=(0,x.Px)({cid:D,date:"".concat(J,"/").concat(B,"/").concat(V[2])}),ce=de.classStudentCurrentAttendance,re=de.classStudentCurrentAttendanceRefetch;(0,l.useEffect)((function(){if((null===W||void 0===W?void 0:W.length)>0){var e,t=$.split("-"),s=t[0]>9?t[0]:"0".concat(t[0]),a=t[1]>9?t[1]:"0".concat(t[1]),i="",l=(0,n.Z)(W);try{for(l.s();!(e=l.n()).done;){var d=e.value;if((null===d||void 0===d?void 0:d.ldate)==="".concat(s,"/").concat(a,"/").concat(t[2])){if((null===d||void 0===d?void 0:d.clsId)===D){i=d;break}ae(!1)}else ae(!1)}}catch(c){l.e(c)}finally{l.f()}Q(i)}}),[W,$,D,se]),(0,l.useEffect)((function(){D&&(le(),re())}),[D,re,le]);var oe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ue=Math.floor(M.map((function(e){return e.date})).indexOf($)/10),ve=(0,l.useState)(ue),me=(0,i.Z)(ve,2),xe=me[0],je=me[1],he=10*xe,Ze=Math.ceil(M.length/10),be=M.slice(he,he+10).map((function(e,t){return(0,p.jsxs)("div",{className:e.date===$?"".concat(d.Z.date," ").concat(d.Z.clickedDate):d.Z.date,onClick:function(){return U(e.date)},children:[(0,p.jsx)("h6",{children:e.date.split("-")[0]}),(0,p.jsx)("p",{children:oe[e.day]})]},t)})),ge=(0,l.useState)(0),pe=(0,i.Z)(ge,2),fe=pe[0],Ne=pe[1],ye=(0,l.useState)([]),Se=(0,i.Z)(ye,2),_e=Se[0],Te=Se[1],Ie=(0,l.useState)([]),ke=(0,i.Z)(Ie,2),Ae=ke[0],De=ke[1],Ce=l.useState([]),Pe=(0,i.Z)(Ce,2),Fe=Pe[0],Me=Pe[1],Ee=l.useState([]),qe=(0,i.Z)(Ee,2),we=qe[0],Re=qe[1],He=(0,l.useState)(!1),Le=(0,i.Z)(He,2),Oe=Le[0],Ge=Le[1];l.useEffect((function(){var e,t;Te(null===ie||void 0===ie||null===(e=ie.classes)||void 0===e?void 0:e.ApproveStudent),De(null===ie||void 0===ie||null===(t=ie.classes)||void 0===t?void 0:t.ApproveStudent)}),[null===ie||void 0===ie||null===(t=ie.classes)||void 0===t?void 0:t.ApproveStudent]),l.useEffect((function(){Me([]),Re([])}),[fe]);var $e=function(e){var t=(0,a.Z)(Fe);if(null!==t&&void 0!==t&&t.includes(e)){var s=t.indexOf(e);t.splice(s,1),Me((function(){return(0,a.Z)(t)}))}else Me((function(t){return[].concat((0,a.Z)(t),[e])}))},Ue=function(e){var t=(0,a.Z)(we);if(null!==t&&void 0!==t&&t.includes(e)){var s=t.indexOf(e);t.splice(s,1),Re((function(){return(0,a.Z)(t)}))}else Re((function(t){return[].concat((0,a.Z)(t),[e])}))};return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:d.Z.attendence,style:{border:C?"none":"0.5px solid #cacaca"},children:[(0,p.jsxs)("div",{className:d.Z.attendencehead,children:[(0,p.jsxs)("div",{className:d.Z.attendenceBtns,children:[(0,p.jsxs)("div",{className:d.Z.changemonth,onClick:function(){return Ge(!Oe)},children:[(0,p.jsxs)("h6",{children:[R[E.getMonth()]," ",E.getFullYear()]}),(0,p.jsx)("img",{alt:"not found",src:"/images/dropdown-icon.svg"}),Oe&&(0,p.jsx)("div",{className:d.Z.selectMonthList,children:["January","February","March","April","May","June","July","August","September","October","November","December"].map((function(e,t){return(0,p.jsx)("div",{className:d.Z.month,onClick:function(){w(t),Ge(!1)},children:e},t)}))})]}),(0,p.jsx)(f,{alreadyMark:K?{_id:null===K||void 0===K?void 0:K.alreadyMark}:null===ce||void 0===ce||null===(s=ce.classes)||void 0===s||null===(j=s.attendenceDate)||void 0===j?void 0:j[0],today:$,allIdsArray:null===ie||void 0===ie||null===(h=ie.classes)||void 0===h?void 0:h.ApproveStudent,classStudentCurrentAttendanceRefetch:re,clickedIndex:fe,setClickedIndex:Ne,idPresentArray:Fe,idAbsentArray:we,setIdPresentArray:Me,setIdAbsentArray:Re,cid:D,isDepartment:C,className:P,setIsRefetch:ae})]}),(0,p.jsxs)("div",{className:d.Z.calender,children:[(0,p.jsx)("div",{className:d.Z.arrowbtn,onClick:function(){xe>0?je((function(e){return e-1})):(je(Ze-1),L())},children:(0,p.jsx)("img",{alt:"not found",src:"/images/members/left-icon.svg"})}),(0,p.jsx)("div",{className:d.Z.dates,children:be}),(0,p.jsx)("div",{className:d.Z.arrowbtn,onClick:function(){xe+1<Ze?je((function(e){return e+1})):(je(0),H())},children:(0,p.jsx)("img",{alt:"not found",src:"/images/members/right-icon.svg"})})]})]}),(0,p.jsx)(r.Z,{}),(0,p.jsxs)("div",{className:d.Z.tabs,children:[(0,p.jsxs)("div",{className:0===fe?"".concat(d.Z.tab," ").concat(d.Z.purple):"".concat(d.Z.tab," ").concat(d.Z.grey),onClick:function(){return Ne(0)},children:[Y("total")," ",null===ie||void 0===ie||null===(b=ie.classes)||void 0===b||null===(g=b.ApproveStudent)||void 0===g?void 0:g.length]}),(0,p.jsxs)("div",{className:1===fe?"".concat(d.Z.tab," ").concat(d.Z.tabgreen):"".concat(d.Z.tab," ").concat(d.Z.light),onClick:function(){return Ne(1)},children:[Y("present")," ",K?null!==(N=null===K||void 0===K?void 0:K.presentCount)&&void 0!==N?N:0:null===ce||void 0===ce||null===(y=ce.classes)||void 0===y||null===(S=y.attendenceDate[0])||void 0===S?void 0:S.presentTotal]}),(0,p.jsxs)("div",{className:2===fe?"".concat(d.Z.tab," ").concat(d.Z.red):"".concat(d.Z.tab," ").concat(d.Z.rose),onClick:function(){return Ne(2)},children:[Y("absent")," ",K?null!==(_=null===K||void 0===K?void 0:K.absentCount)&&void 0!==_?_:0:null===ce||void 0===ce||null===(T=ce.classes)||void 0===T||null===(I=T.attendenceDate[0])||void 0===I?void 0:I.absentTotal]})]}),(0,p.jsxs)("div",{className:d.Z.list,children:[0===fe&&(null===ie||void 0===ie||null===(k=ie.classes)||void 0===k||null===(A=k.ApproveStudent)||void 0===A?void 0:A.map((function(e,t){var s,a,n,i,l,c,r,u;return K?null!==K&&void 0!==K&&null!==(s=K.presentStudent)&&void 0!==s&&s.includes(e._id)?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.Z,{student:e,status:"present"},t),(0,p.jsx)("div",{className:d.Z.divider})]}):null!==K&&void 0!==K&&null!==(a=K.absentStudent)&&void 0!==a&&a.includes(e._id)?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.Z,{student:e,status:"absent"},t),(0,p.jsx)("div",{className:d.Z.divider})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.Z,{student:e,status:"initial"},t),(0,p.jsx)("div",{className:d.Z.divider})]}):null!==ce&&void 0!==ce&&null!==(n=ce.classes)&&void 0!==n&&null!==(i=n.attendenceDate[0])&&void 0!==i&&null!==(l=i.presentStudent)&&void 0!==l&&l.includes(e._id)?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.Z,{student:e,status:"present"},t),(0,p.jsx)("div",{className:d.Z.divider})]}):null!==ce&&void 0!==ce&&null!==(c=ce.classes)&&void 0!==c&&null!==(r=c.attendenceDate[0])&&void 0!==r&&null!==(u=r.absentStudent)&&void 0!==u&&u.includes(e._id)?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.Z,{student:e,status:"absent"},t),(0,p.jsx)("div",{className:d.Z.divider})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.Z,{student:e,status:"initial"},t),(0,p.jsx)("div",{className:d.Z.divider})]})}))),1===fe&&(null===_e||void 0===_e?void 0:_e.length)>0&&(null===_e||void 0===_e?void 0:_e.map((function(e,t){var s,a,n,i;return K?null!==K&&void 0!==K&&null!==(s=K.presentStudent)&&void 0!==s&&s.includes(e._id)?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.Z,{student:e,status:"present",presentTabHandler:$e},t),(0,p.jsx)("div",{className:d.Z.divider})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.Z,{student:e,presentTabHandler:$e,status:"absent"},t),(0,p.jsx)("div",{className:d.Z.divider})]}):null!==ce&&void 0!==ce&&null!==(a=ce.classes)&&void 0!==a&&null!==(n=a.attendenceDate[0])&&void 0!==n&&null!==(i=n.presentStudent)&&void 0!==i&&i.includes(e._id)?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.Z,{student:e,status:"present",presentTabHandler:$e},t),(0,p.jsx)("div",{className:d.Z.divider})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.Z,{student:e,presentTabHandler:$e,status:"absent"},t),(0,p.jsx)("div",{className:d.Z.divider})]})}))),2===fe&&(null===Ae||void 0===Ae?void 0:Ae.length)>0&&(null===Ae||void 0===Ae?void 0:Ae.map((function(e,t){var s,a,n,i;return K?null!==K&&void 0!==K&&null!==(s=K.absentStudent)&&void 0!==s&&s.includes(e._id)?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(v.Z,{student:e,status:"absent",absentTabHandler:Ue},t),(0,p.jsx)("div",{className:d.Z.divider})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(v.Z,{student:e,status:"present",absentTabHandler:Ue},t),(0,p.jsx)("div",{className:d.Z.divider})]}):null!==ce&&void 0!==ce&&null!==(a=ce.classes)&&void 0!==a&&null!==(n=a.attendenceDate[0])&&void 0!==n&&null!==(i=n.absentStudent)&&void 0!==i&&i.includes(e._id)?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(v.Z,{student:e,status:"absent",absentTabHandler:Ue},t),(0,p.jsx)("div",{className:d.Z.divider})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(v.Z,{student:e,status:"present",absentTabHandler:Ue},t),(0,p.jsx)("div",{className:d.Z.divider})]})})))]})]})})}},13877:function(e,t,s){s.d(t,{Z:function(){return q}});var a=s(29439),n=s(72791),i=s(16871),l=s(43504),d=s(39230),c=s(22984),r=s(80184);var o=function(e){var t,s,a,n=e.carryParentState,o=(0,d.$G)().t,u=(0,i.TH)(),v=(0,i.UO)();return(0,r.jsx)("div",{className:c.Z.mcqTop,style:{padding:"0"},children:(0,r.jsxs)("div",{className:c.Z.mcqToptabs,children:[(0,r.jsx)(l.rU,{to:"/q/".concat(v.username,"/member/department/").concat(v.deptname,"?a=class-detail"),state:n,className:"class-detail"===(null===(t=u.search)||void 0===t?void 0:t.substring(3))?"".concat(c.Z.mcqTopItem," ").concat(c.Z.active):c.Z.mcqTopItem,children:(0,r.jsx)("div",{children:o("students")})}),(0,r.jsx)(l.rU,{to:"/q/".concat(v.username,"/member/department/").concat(v.deptname,"?a=class-attendance"),state:n,className:"class-attendance"===(null===(s=u.search)||void 0===s?void 0:s.substring(3))?"".concat(c.Z.mcqTopItem," ").concat(c.Z.active):c.Z.mcqTopItem,children:(0,r.jsx)("div",{children:o("attendance")})}),(0,r.jsx)(l.rU,{to:"/q/".concat(v.username,"/member/department/").concat(v.deptname,"?a=class-subject"),state:n,className:"class-subject"===(null===(a=u.search)||void 0===a?void 0:a.substring(3))?"".concat(c.Z.mcqTopItem," ").concat(c.Z.active):c.Z.mcqTopItem,children:(0,r.jsx)("div",{children:o("subjects")})})]})})},u=s(33148),v=s(23664),m=s(65408),x=s(60943),j=s(893),h=s(8148),Z=s(11806),b=s(60726),g=function(e){var t=e.carryParentState,s=e.isDepartment,a=(0,d.$G)().t;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:Z.Z.MiddleContentLeft,style:{border:"none"},children:"CLASS_TEACHER"===s?(0,r.jsxs)("div",{className:Z.Z.item,style:{paddingLeft:"2vw"},children:[(0,r.jsx)(b.Z,{carryParentState:t,activeTab:"subject-catalog",children:(0,r.jsxs)("div",{className:Z.Z.itemIcon,children:[(0,r.jsx)("img",{src:"/images/member_tab/class/class-catalog-icon.svg",alt:"Class Catalog"}),(0,r.jsx)("p",{children:a("catalog")})]})}),(0,r.jsx)(b.Z,{carryParentState:t,activeTab:"subject-attendance",children:(0,r.jsxs)("div",{className:Z.Z.itemIcon,children:[(0,r.jsx)("img",{src:"/images/member_tab/class/class-attendance-icon.svg",alt:"attendence"}),(0,r.jsxs)("p",{children:[" ",a("attendance")," "]})]})}),(0,r.jsx)(b.Z,{carryParentState:t,activeTab:"subject-assignment",children:(0,r.jsxs)("div",{className:Z.Z.itemIcon,children:[(0,r.jsx)("img",{src:"/images/member_tab/subject/subject-assignment-icon.svg",alt:"assignment"}),(0,r.jsx)("p",{children:a("assigmnent")})]})}),(0,r.jsx)(b.Z,{carryParentState:t,activeTab:"subject-exam",children:(0,r.jsxs)("div",{className:Z.Z.itemIcon,children:[(0,r.jsx)("img",{src:"/images/member_tab/department/department-examination-icon.svg",alt:"attendence"}),(0,r.jsx)("p",{children:a("examinations")})]})}),(0,r.jsx)(b.Z,{carryParentState:t,activeTab:"subject-academic",children:(0,r.jsxs)("div",{className:Z.Z.itemIcon,children:[(0,r.jsx)("img",{src:"/images/member_tab/subject/subject-daily-update-icon.svg",alt:"student Request"}),(0,r.jsx)("p",{style:{textAlign:"center"},children:a("academics_teachings")})]})})]}):(0,r.jsxs)("div",{className:Z.Z.item,style:{paddingLeft:"2vw"},children:[(0,r.jsx)(h.Z,{carryParentState:t,activeTab:"subject-catalog",children:(0,r.jsxs)("div",{className:Z.Z.itemIcon,children:[(0,r.jsx)("img",{src:"/images/member_tab/class/class-catalog-icon.svg",alt:"Class Catalog"}),(0,r.jsx)("p",{children:a("catalog")})]})}),(0,r.jsx)(h.Z,{carryParentState:t,activeTab:"subject-attendance",children:(0,r.jsxs)("div",{className:Z.Z.itemIcon,children:[(0,r.jsx)("img",{src:"/images/member_tab/class/class-attendance-icon.svg",alt:"attendence"}),(0,r.jsxs)("p",{children:[" ",a("attendance")," "]})]})}),(0,r.jsx)(h.Z,{carryParentState:t,activeTab:"subject-assignment",children:(0,r.jsxs)("div",{className:Z.Z.itemIcon,children:[(0,r.jsx)("img",{src:"/images/member_tab/subject/subject-assignment-icon.svg",alt:"assignment"}),(0,r.jsx)("p",{children:a("assigmnent")})]})}),(0,r.jsx)(h.Z,{carryParentState:t,activeTab:"subject-exam",children:(0,r.jsxs)("div",{className:Z.Z.itemIcon,children:[(0,r.jsx)("img",{src:"/images/member_tab/department/department-examination-icon.svg",alt:"attendence"}),(0,r.jsx)("p",{children:a("examinations")})]})}),(0,r.jsx)(h.Z,{carryParentState:t,activeTab:"subject-academic",children:(0,r.jsxs)("div",{className:Z.Z.itemIcon,children:[(0,r.jsx)("img",{src:"/images/member_tab/subject/subject-daily-update-icon.svg",alt:"student Request"}),(0,r.jsx)("p",{style:{textAlign:"center"},children:a("academics_teachings")})]})})]})})})},p=s(54693),f=s(11457),N=s(40444),y=s(36721),S=s(99612),_=s(69721),T=s(71342);var I=function(e){var t,s=e.examView,a=(0,d.$G)().t,i=(0,N.dn)({data:{atsid:null===s||void 0===s?void 0:s._id,page:1,limit:50},skip:!(null!==s&&void 0!==s&&s._id)}),l=i.subjectMcqTestsetAlloted,c=i.subjectMcqTestsetAllotedRefetch;return(0,n.useEffect)((function(){null!==s&&void 0!==s&&s._id&&c()}),[null===s||void 0===s?void 0:s._id,c]),(0,r.jsxs)("div",{className:T.Z.markDetails,children:[(0,r.jsx)("div",{className:T.Z.markDetailsHeader,children:(0,r.jsxs)("h6",{children:[(0,r.jsxs)("span",{className:T.Z.span,children:[" ",a("exam")," : "]})," ",null===s||void 0===s?void 0:s.testExamName]})}),(0,r.jsx)("div",{className:T.Z.markDetailsHeader2,children:(0,r.jsxs)("h6",{children:[(0,r.jsxs)("span",{className:T.Z.span2,children:[" ",a("maximum_marks")," : "]})," ",null===s||void 0===s?void 0:s.testTotalNumber]})}),(0,r.jsx)("div",{className:T.Z.table,children:(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{className:T.Z.thead,children:(0,r.jsxs)("tr",{className:T.Z.tr,children:[(0,r.jsx)("th",{className:T.Z.th,children:a("roll_no")}),(0,r.jsx)("th",{className:T.Z.th,children:a("name")}),(0,r.jsx)("th",{className:"".concat(T.Z.th," ").concat(T.Z.thMargin),children:a("ob")})]})}),(0,r.jsx)("tbody",{className:T.Z.tbody,children:null===l||void 0===l||null===(t=l.studentList)||void 0===t?void 0:t.map((function(e){var t,s;return(0,r.jsxs)("tr",{className:T.Z.tr,children:[(0,r.jsx)("td",{className:T.Z.td,children:null===e||void 0===e?void 0:e.studentROLLNO}),(0,r.jsx)("td",{className:T.Z.td,children:(0,r.jsxs)("div",{className:T.Z.student,children:[(0,r.jsx)("img",{src:null!==e&&void 0!==e&&e.studentProfilePhoto?"".concat(_.yI,"/").concat(null===e||void 0===e?void 0:e.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""}),(0,r.jsxs)("h6",{children:[null===e||void 0===e?void 0:e.studentFirstName," ",null!==e&&void 0!==e&&e.studentMiddleName?null===e||void 0===e?void 0:e.studentMiddleName:" "," ",null===e||void 0===e?void 0:e.studentLastName]})]})}),(0,r.jsx)("td",{className:T.Z.td,children:(0,r.jsx)("input",{type:"number",name:"student",defaultValue:null===e||void 0===e||null===(t=e.testSet)||void 0===t||null===(s=t[0])||void 0===s?void 0:s.testObtainMarks,readOnly:!0,disabled:!0})})]},null===e||void 0===e?void 0:e._id)}))})]})})]})},k=s(53478),A=s(7280);var D=function(e){var t=e.exam,s=e.onExamView,a=(0,d.$G)().t;return(0,r.jsxs)("div",{className:k.Z.sidebarheader,onClick:function(){return s(t)},title:"See exam",children:[(0,r.jsx)("div",{className:k.Z.dot}),(0,r.jsx)("img",{src:"/images/members/exam-icon.svg",alt:""}),(0,r.jsxs)("div",{className:k.Z.text,children:[(0,r.jsx)("div",{className:k.Z.insName,children:(0,r.jsx)("h6",{children:null===t||void 0===t?void 0:t.examName})}),"Final"===(null===t||void 0===t?void 0:t.examType)?"":(0,r.jsx)("div",{className:k.Z.insUserName,children:(0,r.jsxs)("p",{children:[a("weightage"),": ",null===t||void 0===t?void 0:t.examWeight," %"]})})]}),(0,r.jsxs)("div",{className:k.Z.date,children:[(0,r.jsxs)("h6",{children:[" ",a("total_marks")," ",null===t||void 0===t?void 0:t.totalMarks]}),(0,r.jsx)("p",{children:null===t||void 0===t?void 0:t.examType})]})]})};var C=function(e){var t,s,i=e.sid,l=e.isDepartment,c=(0,d.$G)().t,o=n.useState(0),u=(0,a.Z)(o,2),v=u[0],m=u[1],x=(0,n.useState)(null),j=(0,a.Z)(x,2),h=j[0],Z=j[1],b=(0,n.useState)(!1),g=(0,a.Z)(b,2),p=g[0],f=g[1],_=(0,n.useState)(""),T=(0,a.Z)(_,2),C=T[0],P=(T[1],(0,N.vZ)({data:{sid:i,page:1,limit:50},skip:!i})),F=P.subjectAllExam,M=P.subjectAllExamRefetch,E=(0,N.LX)({data:{sid:i,page:1,limit:50},skip:!i}),q=E.subjectMcqTestsetTakenList,w=E.subjectMcqTestsetTakenListRefetch;(0,n.useEffect)((function(){i&&(M(),w())}),[i,M,w]);var R=function(e){m(1),Z(e)};return(0,r.jsxs)(r.Fragment,{children:[0===v&&(0,r.jsx)("div",{className:k.Z.exam_tab_space,children:(0,r.jsx)(A.Z,{isDepartment:l,children:(0,r.jsxs)("div",{className:k.Z.all_exam_main_container,children:[(0,r.jsxs)("div",{className:k.Z.exam_container,children:[(0,r.jsx)("h4",{className:k.Z.exam_heading,children:c("exams")}),null===F||void 0===F||null===(t=F.subject)||void 0===t?void 0:t.map((function(e){return(0,r.jsx)(D,{exam:e,onExamView:R},null===e||void 0===e?void 0:e._id)}))]}),(0,r.jsxs)("div",{className:k.Z.exam_container,children:[(0,r.jsx)("h4",{className:k.Z.exam_heading,children:c("mcq_mock_test")}),null===q||void 0===q||null===(s=q.allotedTestSet)||void 0===s?void 0:s.map((function(e){var t,s,a,n;return(0,r.jsxs)("div",{className:k.Z.sidebarheader,onClick:function(){return t=e,m(2),void Z(t);var t},children:[(0,r.jsx)("img",{src:"/images/members/mcq-exam-icon1.svg",alt:""}),(0,r.jsx)("div",{className:k.Z.text,children:(0,r.jsxs)("div",{className:k.Z.insName,children:[(0,r.jsx)("h6",{children:null===e||void 0===e?void 0:e.testExamName}),(0,r.jsx)("p",{className:k.Z.exam_mcq_date,style:{marginTop:"0.1vw"},children:null===e||void 0===e?void 0:e.testDate})]})}),(0,r.jsxs)("div",{className:k.Z.date,children:[(0,r.jsx)("h6",{children:null===e||void 0===e?void 0:e.testTotalNumber}),(0,r.jsxs)("p",{children:["".concat(null===e||void 0===e||null===(t=e.testStart)||void 0===t?void 0:t.substr(0,5)," ").concat(null===e||void 0===e||null===(s=e.testStart)||void 0===s?void 0:s.substr(9))," ","to"," ","".concat(null===e||void 0===e||null===(a=e.testEnd)||void 0===a?void 0:a.substr(0,5)," ").concat(null===e||void 0===e||null===(n=e.testEnd)||void 0===n?void 0:n.substr(9))]})]})]},null===e||void 0===e?void 0:e._id)}))]})]})})}),1===v&&(0,r.jsx)(S.Z,{examView:h,sid:i,isDepartment:l}),2===v&&(0,r.jsx)(I,{examView:h}),(0,r.jsx)(y.SY,{msg:C,run:p,setRun:f})]})},P=s(60463),F=s(46480),M=s(6763),E=s(61587),q=function(e){var t,s,n,c,h,Z,b,N,y,S,_,T,I,k,A,D,q,w,R,H,L,O,G,$,U,V,J=e.carryParentState,B=e.viewAs,Y=e.did,W=e.instituteId,z=(0,d.$G)().t,X=(0,i.TH)(),K=(0,l.lr)(),Q=(0,a.Z)(K,1)[0];return(0,r.jsx)(r.Fragment,{children:"subject-academic-detail"===Q.get("a")?(0,r.jsx)(F.Z,{}):"assignment-detail"===Q.get("a")?(0,r.jsx)(M.Z,{isDepartment:B,carryParentState:J}):"assignment-student-detail"===Q.get("a")?(0,r.jsx)(E.Z,{isDepartment:B}):(0,r.jsx)("div",{className:u.Z.departmenthead,children:(0,r.jsxs)("div",{className:u.Z.demaprtment_list,children:[(0,r.jsx)("div",{className:u.Z.with_search,style:{marginBottom:"0.7rem",alignItems:"flex-start",flexDirection:"column"},children:"subject"===(null===(t=Q.get("a"))||void 0===t?void 0:t.substring(0,7))?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("h6",{children:[z("subject_name")," : ",null!==(s=null===(n=X.state)||void 0===n?void 0:n.subjectName)&&void 0!==s?s:""]}),(0,r.jsxs)("h6",{children:[z("subject_teacher")," : ",null!==(c=null===(h=X.state)||void 0===h?void 0:h.subjectTeacherName)&&void 0!==c?c:""]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("h6",{children:[z("class_name")," : ",null!==(Z=null===(b=X.state)||void 0===b?void 0:b.clsName)&&void 0!==Z?Z:""]}),(0,r.jsxs)("h6",{children:[z("class_teacher")," : ",null!==(N=null===(y=X.state)||void 0===y?void 0:y.teacherName)&&void 0!==N?N:""]})]})}),"subject-detail"===Q.get("a")?(0,r.jsx)(g,{carryParentState:J,isDepartment:B}):"subject-catalog"===Q.get("a")?(0,r.jsx)(x.Z,{cid:null===(S=X.state)||void 0===S?void 0:S.clsId,bid:null===(_=X.state)||void 0===_?void 0:_.batchId,isDepartment:B,sid:null===(T=X.state)||void 0===T?void 0:T.subjectId}):"subject-attendance"===Q.get("a")?(0,r.jsx)(p.Z,{sid:null===(I=X.state)||void 0===I?void 0:I.subjectId,bid:null===(k=X.state)||void 0===k?void 0:k.batchId,isDepartment:B,subjectName:null!==(A=null===(D=X.state)||void 0===D?void 0:D.subjectName)&&void 0!==A?A:""}):"subject-assignment"===Q.get("a")?(0,r.jsx)(f.Z,{sid:null===(q=X.state)||void 0===q?void 0:q.subjectId,cid:null===(w=X.state)||void 0===w?void 0:w.clsId,carryParentState:J,bid:null===(R=X.state)||void 0===R?void 0:R.batchId,isDepartment:B}):"subject-exam"===Q.get("a")?(0,r.jsx)(C,{sid:null===(H=X.state)||void 0===H?void 0:H.subjectId,cid:null===(L=X.state)||void 0===L?void 0:L.clsId,isDepartment:B}):"subject-academic"===Q.get("a")?(0,r.jsx)(P.Z,{sid:null===(O=X.state)||void 0===O?void 0:O.subjectId,carryParentState:J,isDepartment:B}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o,{carryParentState:J}),"class-detail"===Q.get("a")&&(0,r.jsx)(v.Z,{cid:X.state.clsId,openAs:"SUBJECT_TEACHER",isDepartment:!0}),"class-subject"===Q.get("a")&&(0,r.jsx)(m.Z,{carryParentState:J,clsId:null===(G=X.state)||void 0===G?void 0:G.clsId,isView:"DEPARTMENT_HEAD",instituteId:W,did:Y}),"class-attendance"===Q.get("a")&&(0,r.jsx)(j.Z,{cid:null===($=X.state)||void 0===$?void 0:$.clsId,isDepartment:!0,className:null!==(U=null===(V=X.state)||void 0===V?void 0:V.clsName)&&void 0!==U?U:""})]})]})})})}}}]);
//# sourceMappingURL=3877.49c8d3a9.chunk.js.map