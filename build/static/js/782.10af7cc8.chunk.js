"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[782],{80782:function(e,t,n){n.r(t),n.d(t,{default:function(){return G}});var s=n(29439),l=n(63687),i=n(21348),a=n(72791),d=n(39230),c=n(23441),o=n(56959),r=n(90904),u=n(98684),_=n(93638),m=n(57588),h=n(91427),v=n(6758),x="FinanceAllStudent_student_table__Y3uXE",f="FinanceAllStudent_student_table_header__4fuiU",N="FinanceAllStudent_student_table_header_label__4x6eY",j="FinanceAllStudent_student_table_content_card__3KWaE",I="FinanceAllStudent_student_table_profile__QUIFN",g="FinanceAllStudent_student_table_header_name__x4ZNJ",A="FinanceAllStudent_student_table_header_label_text__lny-H",p="FinanceAllStudent_student_table_contact__f4eB5",Z="FinanceAllStudent_student_table_contact_email__dV19L",S="FinanceAllStudent_student_table_contact_number__r7HNK",T=n(80184),y=function(e){var t=e.studentAlias,n=(0,d.$G)().t;return(0,T.jsx)("div",{className:x,children:(0,T.jsxs)("div",{className:f,children:[(0,T.jsx)("p",{className:N,style:{flex:"1"},children:null!==t&&void 0!==t?t:n("gr_no")}),(0,T.jsx)("p",{className:N,style:{flex:"3"},children:n("name")}),(0,T.jsx)("p",{className:N,style:{flex:"2"},children:n("contact_number")}),(0,T.jsx)("p",{className:N,style:{flex:"1"},children:n("applicable_outs")})]})})},b=n(1413),C=n(1095),F=n(16871),E=n(43504),O=function(e){var t,n,s,l,i,a,d,c,o=e.student,_=e.messageId,m=e.headId,h=e.instituteId,v=e.invalidateAccess,x=(0,F.UO)(),f=(0,F.TH)();return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(E.rU,{to:"/q/".concat(x.username,"/member/student/admission/profile"),state:(0,b.Z)((0,b.Z)({},f.state),{},{sid:null===o||void 0===o?void 0:o._id,messageId:_,headId:m,instituteId:h,collectAccess:k[v]?"ADMISSION_ADMIN":"OTHER"}),children:[(0,T.jsxs)("div",{className:j,style:{cursor:"pointer"},children:[(0,T.jsx)("p",{className:N,style:{flex:"1"},children:null!==(t=null===o||void 0===o?void 0:o.studentGRNO)&&void 0!==t?t:""}),(0,T.jsxs)("div",{className:I,style:{flex:"3"},children:[(0,T.jsx)("img",{src:null!==o&&void 0!==o&&o.studentProfilePhoto?"".concat(C.yI,"/").concat(null===o||void 0===o?void 0:o.studentProfilePhoto):"".concat(u.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,T.jsxs)("div",{children:[(0,T.jsxs)("p",{className:g,children:["".concat(null!==(n=null===o||void 0===o?void 0:o.studentFirstName)&&void 0!==n?n:""," ").concat(null!==(s=null===o||void 0===o?void 0:o.studentMiddleName)&&void 0!==s?s:""," ").concat(null!==(l=null===o||void 0===o?void 0:o.studentLastName)&&void 0!==l?l:""),"100"===(null===o||void 0===o?void 0:o.profile_percentage)||100===(null===o||void 0===o?void 0:o.profile_percentage)?(0,T.jsx)("img",{src:"".concat(u.Fk,"/complete.svg"),loading:"lazy",alt:"avatar",style:{marginLeft:"0.6rem",height:"1rem"}}):null]}),(0,T.jsx)("p",{className:A,children:null!==(i=null===o||void 0===o||null===(a=o.studentClass)||void 0===a?void 0:a.classTitle)&&void 0!==i?i:""})]})]}),(0,T.jsxs)("div",{className:N,style:{flex:"2"},children:[(0,T.jsxs)("div",{className:p,children:[(0,T.jsx)("img",{src:"".concat(u.Fk,"/gender.svg"),alt:"gender icon"}),(0,T.jsx)("p",{className:Z,children:null===o||void 0===o?void 0:o.studentGender})]}),(0,T.jsxs)("div",{className:p,style:{marginTop:"0.4rem"},children:[(0,T.jsx)("img",{src:"".concat(u.Fk,"/phone.svg"),alt:"phone icon"}),(0,T.jsx)("p",{className:S,children:null!==o&&void 0!==o&&o.user.userPhoneNumber?null===o||void 0===o?void 0:o.user.userPhoneNumber:null!==(d=null===o||void 0===o?void 0:o.user.userEmail)&&void 0!==d?d:""})]})]}),(0,T.jsx)("p",{className:N,style:{flex:"1",textAlign:"right"},children:null!==(c=null===o||void 0===o?void 0:o.applicable_fees_pending)&&void 0!==c?c:0})]}),(0,T.jsx)(r.Z,{customStyleBorder:{margin:"0"}})]})})},k={unAuthorized:!0},M=n(55336),D=n(11468),U=n(48293),P=n(4007),R=function(e){var t=e.onClose,n=e.sendStudentList,l=e.messageId,c=e.instituteId,o=e.headId,m=e.accessAs,h=e.isStudentProfile,x=e.toRedirectUrl,f=e.parentState,N=(0,d.$G)().t,j=(0,a.useState)(!1),I=(0,s.Z)(j,2),g=I[0],A=I[1],p=(0,a.useState)(!1),Z=(0,s.Z)(p,2),S=Z[0],y=Z[1],C=(0,v.Cv)(),E=(0,s.Z)(C,1)[0],O=(0,v.cd)(),k=(0,s.Z)(O,1)[0],R=(0,a.useState)({alarm_mode:"APP_NOTIFICATION",content:""}),H=(0,s.Z)(R,2),w=H[0],G=H[1],L=(0,F.s0)(),q=(0,v.dl)({id:c,skip:h||!c}).instituteAllStudentIdList;return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(U.Z,{children:(0,T.jsxs)("div",{className:P.Z.modal_container,children:[(0,T.jsx)(i.Z,{children:(0,T.jsxs)("div",{className:P.Z.modal_container_outer_header,children:[(0,T.jsx)("div",{className:P.Z.modal_container_header,children:(0,T.jsx)("h6",{children:N("student_message")})}),(0,T.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:t})]})}),(0,T.jsx)(r.Z,{}),(0,T.jsxs)(i.Z,{customStyle:{paddingTop:"0"},children:[(0,T.jsxs)("section",{className:P.Z.notify_container,onClick:function(){return G((function(e){return(0,b.Z)((0,b.Z)({},e),{},{alarm_mode:"APP_NOTIFICATION"})}))},children:[(0,T.jsx)("img",{src:"APP_NOTIFICATION"===w.alarm_mode?"".concat(u.Fk,"/radio-blue.svg"):"".concat(u.Fk,"/radio-grey.svg"),alt:"icon"}),(0,T.jsxs)("div",{className:P.Z.notify_text,children:[(0,T.jsx)("h6",{children:N("Notify_with_In_app_Notification")}),(0,T.jsx)("p",{children:N("Notify_with_In_app_Notification_note")})]})]}),(0,T.jsxs)("section",{className:P.Z.notify_container,children:[(0,T.jsx)("img",{src:"EMAIL_NOTIFICATION"===w.alarm_mode?"".concat(u.Fk,"/radio-blue.svg"):"".concat(u.Fk,"/radio-grey.svg"),alt:"icon"}),(0,T.jsxs)("div",{className:P.Z.notify_text,children:[(0,T.jsx)("h6",{children:N("Notify_On_Email_and_SMS")}),(0,T.jsx)("p",{children:N("Notify_On_Email_and_SMS_note")})]})]}),"APP_NOTIFICATION"===w.alarm_mode&&(0,T.jsx)(D.Z,{label:N("student_message_label"),placeholder:N("student_message_label_placeholder"),name:"content",value:w.content,type:"text",onChange:function(e){return G((function(t){return(0,b.Z)((0,b.Z)({},t),{},{content:e.target.value})}))},errorShow:S}),(0,T.jsx)(_.Z,{label:"confirm",onAction:function(){w.content?h?l&&w.alarm_mode&&(null===n||void 0===n?void 0:n.length)>0&&c&&(A((function(e){return!e})),k({sendMessage:{message:w.content,from:null!==o&&void 0!==o?o:"",type:"ADMISSION_ADMIN"===m?"Admission Head":"FINANCE_MANAGER"===m?"Finance Head":"CERTIFICATE_AUTHORITY"===m?"Certificate Authority":"STUDENT_SECTION"===m?"Student Section":"ID_CARD_SECTION"===m?"Id Card Authority":"Institute Admin",fid:null!==l&&void 0!==l?l:"",alarm_mode:w.alarm_mode,sid:n,flow:"INSTITUTE_ADMIN"===m?"INSTITUTE_ADMIN":"Other"},id:c}).then((function(){t(),A((function(e){return!e}))})).catch({})):l&&w.alarm_mode&&(null===q||void 0===q?void 0:q.length)>0&&c&&(A((function(e){return!e})),E({sendMessage:{message:w.content,from:null!==o&&void 0!==o?o:"",type:"ADMISSION_ADMIN"===m?"Admission Head":"FINANCE_MANAGER"===m?"Finance Head":"CERTIFICATE_AUTHORITY"===m?"Certificate Authority":"STUDENT_SECTION"===m?"Student Section":"ID_CARD_SECTION"===m?"Id Card Authority":"Institute Admin",fid:null!==l&&void 0!==l?l:"",alarm_mode:w.alarm_mode,filtered_arr:q,flow:"INSTITUTE_ADMIN"===m?"INSTITUTE_ADMIN":"Other"},id:c}).then((function(){t(),L(x,{state:f}),A((function(e){return!e}))})).catch({})):y(!0)}})]})]})}),g&&(0,T.jsx)(M.Z,{})]})},H=n(1669),w=n(2651),G=function(e){var t,n,x,f=e.instituteId,N=e.studentAlias,j=e.headId,I=e.messageId,g=e.accessAs,A=e.subUrl,p=e.invalidateAccess,Z=(0,d.$G)().t,S=(0,F.s0)(),b=(0,F.TH)(),C=(0,F.UO)(),E=(0,a.useState)(""),k=(0,s.Z)(E,2),D=k[0],U=k[1],P=(0,a.useState)(1),G=(0,s.Z)(P,2),q=G[0],Y=G[1],z=(0,a.useState)(!0),B=(0,s.Z)(z,2),J=B[0],$=B[1],K=(0,c.YD)({skip:D}),W=(0,s.Z)(K,2),Q=W[0],V=W[1],X=(0,a.useState)(!1),ee=(0,s.Z)(X,2),te=ee[0],ne=ee[1],se=(0,v.Cp)({data:{id:f,page:q,limit:10,search:D},skip:!f}),le=se.instituteAllStudent,ie=se.instituteAllStudentLoading;(0,a.useEffect)((function(){V&&J&&Y((function(e){return e+1}))}),[V,J]),(0,a.useEffect)((function(){if(null!==le&&void 0!==le&&le.list){var e,t=(0,h.f)(null===le||void 0===le||null===(e=le.list)||void 0===e?void 0:e.length);$((function(){return t}))}}),[null===le||void 0===le?void 0:le.list]);var ae=(0,a.useCallback)((0,m.J)((function(e){Y((function(){return 1})),U(e)}),1500),[]),de=function(e){e.target.value?ae(e.target.value):(Y((function(){return 1})),U(""))},ce=function(){ne((function(e){return!e}))};return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(l.Z,{customStyle:{border:L[p]?"none":"0.5px solid #cacaca"},children:[L[p]?(0,T.jsx)(i.Z,{children:(0,T.jsx)("div",{className:o.Z.fm_search_full,children:(0,T.jsx)("section",{className:o.Z.fm_search_full_container,children:(0,T.jsxs)("div",{className:o.Z.fm_search_full_container_inner,children:[(0,T.jsx)("img",{className:o.Z.fm_search_full_icon,alt:"search icon",src:"".concat(u.dB,"/navbar-search.svg")}),(0,T.jsx)("input",{type:"text",placeholder:Z("search"),onChange:de})]})})})}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(i.Z,{children:(0,T.jsxs)("div",{className:o.Z.fm_header_container,children:[(0,T.jsx)("h6",{children:Z("all_students")}),(0,T.jsxs)("div",{className:o.Z.fm_both_filter,children:[(0,T.jsx)("div",{className:o.Z.fm_search,children:(0,T.jsx)("section",{className:o.Z.fm_search_container,children:(0,T.jsxs)("div",{className:o.Z.fm_search_container_inner,children:[(0,T.jsx)("img",{className:o.Z.fm_search_icon,alt:"search icon",src:"".concat(u.dB,"/navbar-search.svg")}),(0,T.jsx)("input",{type:"text",placeholder:Z("search"),onChange:de,style:{minWidth:"300px"}})]})})}),(0,T.jsx)("img",{src:"".concat(u.J7,"/history.svg"),alt:"history icon",onClick:function(){S("/q/".concat(C.username,"/member/staff/").concat(A,"?type=message"),{state:b.state})}}),(0,T.jsx)(_.Z,{label:"student_message",customStyle:{margin:"0"},onAction:ce})]})]})}),(0,T.jsx)(r.Z,{})]}),(0,T.jsx)(i.Z,{children:(0,T.jsx)(y,{studentAlias:N})}),(0,T.jsx)(r.Z,{}),(0,T.jsxs)(i.Z,{children:[null===le||void 0===le||null===(t=le.list)||void 0===t?void 0:t.map((function(e,t){var n;return(null===le||void 0===le||null===(n=le.list)||void 0===n?void 0:n.length)===t+1?(0,T.jsx)("div",{ref:Q,children:(0,T.jsx)(O,{student:e,instituteId:f,messageId:I,headId:j,invalidateAccess:p})},null===e||void 0===e?void 0:e._id):(0,T.jsx)(O,{student:e,instituteId:f,messageId:I,headId:j,invalidateAccess:p},null===e||void 0===e?void 0:e._id)})),ie?D?(0,T.jsx)(M.Z,{}):(0,T.jsx)(H.Z,{}):D?0===(null===le||void 0===le||null===(n=le.list)||void 0===n?void 0:n.length)&&(0,T.jsx)(w.Z,{title:"No student fuond related this search."}):0===(null===le||void 0===le||null===(x=le.list)||void 0===x?void 0:x.length)&&(0,T.jsx)(w.Z,{title:"No students added in institute."})]})]}),te&&(0,T.jsx)(R,{onClose:ce,messageId:I,instituteId:f,headId:j,parentState:b.state,toRedirectUrl:"/q/".concat(C.username,"/member/staff/").concat(A,"?type=message"),accessAs:g})]})},L={unAuthorized:!0}}}]);
//# sourceMappingURL=782.10af7cc8.chunk.js.map