"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[59227],{47735:function(t,e,n){var o=n(29439),i=n(72791),a=(n(32804),n(29017)),l=n(98734),d=n(62732),s=n(69721),r=n(80184);e.Z=function(t){var e=t.rid,n=(0,i.useState)(!1),c=(0,o.Z)(n,2),u=c[0],v=c[1],_=(0,i.useState)(""),f=(0,o.Z)(_,2),m=f[0],F=f[1],x=(0,i.useState)(""),p=(0,o.Z)(x,2),h=p[0],g=p[1],b=(0,a.H0)({rid:m,skip:!m}),y=b.internalFeeReceipt,S=b.internalFeeReceiptRefetch;(0,i.useEffect)((function(){m&&S()}),[m,S]);return(0,i.useEffect)((function(){null!==y&&void 0!==y&&y.receipt&&null!==y&&void 0!==y&&y.one_account&&g(y)}),[y]),(0,i.useEffect)((function(){if(h){var t,e,n,o,i,a,l,r;v((function(t){return!t}));var c=null===h||void 0===h?void 0:h.one_account,u=null===h||void 0===h?void 0:h.receipt,_=null!==u&&void 0!==u&&null!==(t=u.finance)&&void 0!==t&&null!==(e=t.institute)&&void 0!==e&&e.insProfilePhoto?"".concat(s.Yz,"/").concat(null===u||void 0===u||null===(n=u.finance)||void 0===n||null===(o=n.institute)||void 0===o?void 0:o.insProfilePhoto):"/images/certificate/logodemo.jpg",f=null!==u&&void 0!==u&&null!==(i=u.finance)&&void 0!==i&&null!==(a=i.institute)&&void 0!==a&&a.affliatedLogo?"".concat(s.Yz,"/").concat(null===u||void 0===u||null===(l=u.finance)||void 0===l||null===(r=l.institute)||void 0===r?void 0:r.affliatedLogo):"/images/certificate/logodemo.jpg";c&&u&&((0,d.Z)(c,u,_,f),v(!1)),g(""),window.location.reload()}}),[h]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{src:"/images/members/receipt-icon.svg",onClick:function(){var t;(t=e)&&(v((function(t){return!t})),F(t))},alt:"receipt icon"}),u&&(0,r.jsx)(l.Z,{})]})}},59227:function(t,e,n){var o=n(1413),i=n(29439),a=n(72791),l=n(32804),d=n(39230),s=n(72426),r=n.n(s),c=n(47735),u=n(64499),v=n(69721),_=n(29017),f=n(51561),m=n(98734),F=n(80184),x=["STUDENT"];e.Z=function(t){var e=t.amount,n=t.feesName,s=t.dateOffCreation,p=t.is_paid,h=t.is_checklist,g=t.feesId,b=t.setAllContent,y=t.setCharges,S=t.moduleType,C=t.rid,N=t.transactionDate,T=t.transactionMode,z=t.viewAs,k=t.is_static,A=t.bookId,D=t.validateId,M=t.financeId,Z=(0,d.$G)().t,w=(0,a.useState)(!1),L=(0,i.Z)(w,2),j=L[0],P=L[1],Y=(0,a.useState)({msg:"",run:!1}),I=(0,i.Z)(Y,2),B=I[0],R=I[1],W=(0,_.fB)(),E=(0,i.Z)(W,1)[0],G={amount:10,moduleId:"38965823534u5t23y",paidBy:"34532h423424f4g5f23j",name:"Shreya_1540"};return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)("h5",{children:[Z("rs"),".",null!==e&&void 0!==e?e:0," "]}),(0,F.jsx)("h6",{children:null!==n&&void 0!==n?n:"Static"}),N?(0,F.jsxs)("p",{children:[Z("paid_on"),r()(N).format("DD MMMM yyyy")]}):h?"":(0,F.jsxs)("p",{children:[Z("pay_by"),r()(s).format("DD MMMM yyyy")]}),"Not Paid"!==p?(0,F.jsxs)("button",{className:l.Z.student_internal_card_btn_paid,children:[Z("internal_paid")," ",null!==T&&void 0!==T?T:""]}):k?(0,F.jsx)("button",{className:l.Z.student_internal_card_btn_pay,onClick:function(){(0,u.Ex)(G).then((function(t){var e={action:v.FX,params:t};(0,u.KY)(e)})).catch((function(t){console.info(t)}))},children:Z("pay_now")}):null!==x&&void 0!==x&&x.includes(z)?(0,F.jsx)("button",{className:l.Z.student_internal_card_btn_pay,onClick:function(){"Library Fees"===S?(P((function(t){return!t})),E({fid:M,aid:D,flow:"BY_LIBRARY"}).then((function(t){var n;P((function(t){return!t})),null!==t&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.denied?R({msg:"Before initiating payment. you must have a valid bank account to receive payment.",run:!0}):(b((function(t){return(0,o.Z)((0,o.Z)({},t),{},{amount:e,feesId:g,type:"Backlog"===S?"Backlog":"Library Fees"===S?"Library Fees":"Fees",bookId:null!==A&&void 0!==A?A:""})})),y(!0))})).catch({})):(b((function(t){return(0,o.Z)((0,o.Z)({},t),{},{amount:e,feesId:g,type:"Backlog"===S?"Backlog":"Library Fees"===S?"Library Fees":"Fees",bookId:null!==A&&void 0!==A?A:""})})),y(!0))},children:Z("pay_now")}):(0,F.jsx)("button",{className:l.Z.student_internal_card_btn_pay,children:Z("unpaid")}),"Not Paid"!==p?(0,F.jsx)(c.Z,{rid:C}):"",(0,F.jsx)(f.Ch,{msg:B.msg,run:B.run,setRun:function(){return R({msg:"",run:!1})},postiton:"bottom",type:"error"}),j&&(0,F.jsx)(m.Z,{})]})}},62732:function(t,e,n){var o=n(35125),i=n(72426),a=n.n(i),l=n(62906),d=n.n(l),s=new o.ZP({format:[270,210]}),r=s.internal.pageSize.getWidth();e.Z=function(t,e,n,o){var i,l,c,u,v,_,f,m,F,x,p,h,g,b,y,S,C,N=arguments.length>4&&void 0!==arguments[4]&&arguments[4],T=null===e||void 0===e||null===(i=e.finance)||void 0===i?void 0:i.institute,z=null===e||void 0===e||null===(l=e.finance)||void 0===l?void 0:l.financeHead,k=null===e||void 0===e?void 0:e.student,A=null===e||void 0===e?void 0:e.internal_fees,D=null===e||void 0===e?void 0:e.order_history;s.addImage(n,"JPEG",9,3,25,25),s.addImage(o,"JPEG",r-34,2.4,25,25),s.setLineWidth(8),s.setDrawColor(255,255,255),s.circle(21.4,15,16),s.setLineWidth(0),s.setLineWidth(8),s.setDrawColor(255,255,255),s.circle(r-21.4,15,16),s.setLineWidth(0);var M=s.splitTextToSize(null===T||void 0===T?void 0:T.insName,146);if(s.setFont(void 0,"normal"),M.length>1){var Z=10;s.setFont("700"),s.setTextColor(18,18,18),s.setFontSize(16),s.text(107,Z,M,"center"),Z=M.length+145}else{var w=10;s.setFont("700"),s.setTextColor(18,18,18),s.setFontSize(18),s.text(107,w,M,"center"),w=M.length+145}s.setFont("Arial","normal","400"),s.setTextColor(18,18,18),s.setFontSize(10),s.text(r/2,M.length>1?23:19,null===T||void 0===T?void 0:T.insAddress,"center"),s.setFont("WorkSans"),s.setTextColor(18,18,18),s.setFontSize(10),s.text(r/2,M.length>1?29:25,"Mob No : ".concat(null===T||void 0===T?void 0:T.insPhoneNumber," , Mail: ").concat(null===T||void 0===T?void 0:T.insEmail),"center"),s.setFont("WorkSans"),s.setTextColor(0,0,0),s.setFontSize(18),s.text(r/2,37,"Fee Receipt","center"),s.setLineWidth(.7),s.setDrawColor(18,18,18),s.line(0,46,r,46),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(9,54,"Invoice No :"),s.setFont(void 0,"normal"),s.setTextColor(0,0,0),s.setFontSize(10),s.text(32,54,null===e||void 0===e?void 0:e.invoice_count),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(r-32,54,"Dated:",{align:"right"}),s.setFont(void 0,"normal"),s.setTextColor(0,0,0),s.setFontSize(10),s.text(r-12,54,a()(null===e||void 0===e?void 0:e.created_at).format("DD-MMM-YYYY"),{align:"right"}),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(9,61,"Purpose:"),s.setFont(void 0,"normal"),s.setTextColor(0,0,0),s.setFontSize(10),s.text(32,61,"".concat(null!==(c=null===A||void 0===A?void 0:A.internal_fee_reason)&&void 0!==c?c:"N/A")),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(9,68,"Amount: "),s.setFont(void 0,"normal"),s.setTextColor(0,0,0),s.setFontSize(10),s.text(32,68,"Rs. ".concat(null===e||void 0===e?void 0:e.fee_payment_amount)),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(11),s.text(9,97," ".concat(N?"Received Through: ":"Paid Through: ")),s.setFont(void 0,"normal"),s.text(44,97,"".concat(null===t||void 0===t?void 0:t.finance_bank_name,", ").concat(null===t||void 0===t?void 0:t.finance_bank_account_name,", A/c No:  ").concat(null===t||void 0===t?void 0:t.finance_bank_account_number)),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.text(9,107," On Account of: ");var L="Being money ".concat(N?"received":"paid"," by ").concat(null===e||void 0===e?void 0:e.fee_payment_mode,", Transaction ID: ").concat(null!==(u=null===D||void 0===D?void 0:D.razorpay_order_id)&&void 0!==u?u:"N/A"," ,  Dated: ").concat(a()(null===e||void 0===e?void 0:e.created_at).format("DD-MMM-YYYY"),"  for Rs. ").concat(null===e||void 0===e?void 0:e.fee_payment_amount,".").concat(N?"From":"To"," ","".concat(null!==(v=null===k||void 0===k?void 0:k.studentFirstName)&&void 0!==v?v:""," ").concat(null!==(_=null===k||void 0===k?void 0:k.studentMiddleName)&&void 0!==_?_:""," ").concat(null!==(f=null===k||void 0===k?void 0:k.studentLastName)&&void 0!==f?f:""," "),", towards ").concat(null!==(m=null===A||void 0===A?void 0:A.internal_fee_reason)&&void 0!==m?m:"N/A","."),j=s.splitTextToSize(L,r-20);if(j.length>1){var P=113;s.setFont(void 0,"normal"),s.setFontSize(11),s.setTextColor(18,18,18),s.text(10,P,j,"left"),P=j.length+151}else{var Y=113;s.setFontSize(11),s.setFont(void 0,"normal"),s.setTextColor(18,18,18),s.setFontSize(12),s.text(10,Y,j,"left"),Y=j.length+151}var I,B,R,W;(s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(11),s.text(9,131,"Bank Transaction Details: "),s.setFont(void 0,"normal"),s.text(9,138,"Payment Mode:  ".concat(null===e||void 0===e?void 0:e.fee_payment_mode)),null!==D&&void 0!==D&&D.razorpay_order_id)?s.text(9,144,"Transaction ID: ".concat(null!==(I=null===D||void 0===D?void 0:D.razorpay_order_id)&&void 0!==I?I:"N/A")):(s.text(9,144,"Bank Name: ".concat(null!==(B=null===t||void 0===t?void 0:t.fee_bank_name)&&void 0!==B?B:"N/A")),s.text(9,150,"Bank Holder Name: ".concat(null!==(R=null===t||void 0===t?void 0:t.finance_bank_account_name)&&void 0!==R?R:"N/A")),s.text(9,156,"UTR / Ref No.: ".concat(null!==(W=null===t||void 0===t?void 0:t.fee_utr_reference)&&void 0!==W?W:"N/A")),s.text(9,162,"Date: ".concat(a()(null===e||void 0===e?void 0:e.created_at).format("DD-MMM-YYYY"))),s.text(9,168,"Amount: ".concat(null===e||void 0===e?void 0:e.fee_payment_amount)),s.text(9,174,"Amount in Words: ".concat((d().toWords(e.fee_payment_amount.toString()).match(/[a-zA-Z0-9]+/g)||[]).map((function(t){return"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1))})).join(" ")," only.")));s.setFontSize(9),s.text(40,240,"".concat(z.staffFirstName," ").concat(null!==(F=z.staffMiddleName)&&void 0!==F?F:""," ").concat(z.staffLastName),{align:"center"}),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(40,245,"Finance Manager",{align:"center"}),s.setFont(void 0,"normal"),s.setFontSize(9),s.text(153,240,"".concat(null!==(x=null===T||void 0===T||null===(p=T.displayPersonList)||void 0===p||null===(h=p[0])||void 0===h||null===(g=h.displayUser)||void 0===g?void 0:g.userLegalName)&&void 0!==x?x:"N/A"),{align:"center"}),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(153,245,"".concat(null!==(b=null===T||void 0===T||null===(y=T.displayPersonList)||void 0===y||null===(S=y[0])||void 0===S?void 0:S.displayTitle)&&void 0!==b?b:"N/A"),{align:"center"}),s.setTextColor(0,0,255),s.setFontSize(7),s.text(r-20,243,"Online Automated",null,50),s.text(r-18,244,"Generated fee receipt",null,50),s.text(r-14,246,"Through Qviple",null,50),s.setLineWidth(.2),s.setDrawColor(18,18,18),s.line(0,251,r,251),s.setTextColor(18,18,18),s.setFontSize(8),s.setFont(void 0,"normal"),s.text(r/2,259,"Note : No one except one who is making this certificate should interfere with any details of this invoice, othewise students will be expelled and legal action will be taken.","center"),window.open(s.output("bloburl",{filename:"".concat(null===k||void 0===k?void 0:k.studentFirstName," ").concat(null!==(C=null===k||void 0===k?void 0:k.studentMiddleName)&&void 0!==C?C:""," ").concat(null===k||void 0===k?void 0:k.studentLastName," -Internal Fee Receipt.pdf")}),"_blank")}},32804:function(t,e){e.Z={student_fees_header_container:"StudentAllFeesData_student_fees_header_container__06J8F",student_fees_header_column:"StudentAllFeesData_student_fees_header_column__7WxL2",student_fees_row_amount:"StudentAllFeesData_student_fees_row_amount__2QSk8",student_fees_btn_container:"StudentAllFeesData_student_fees_btn_container__rcsyt",student_fees_btn_container_active:"StudentAllFeesData_student_fees_btn_container_active__LiRxa",student_alll_fees_data:"StudentAllFeesData_student_alll_fees_data__CBPmP",student_admission_fees_container:"StudentAllFeesData_student_admission_fees_container__Fs6dX",student_internal_card:"StudentAllFeesData_student_internal_card__QP2oz",student_internal_card_btn_pay:"StudentAllFeesData_student_internal_card_btn_pay__CzvCh",student_internal_card_btn_paid:"StudentAllFeesData_student_internal_card_btn_paid__KP8Jd"}}}]);
//# sourceMappingURL=59227.d84087da.chunk.js.map