"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[9570,4258],{44940:function(t,n,e){e.r(n),e.d(n,{default:function(){return k}});var i=e(29439),l=e(72791),o=e(56959),s=e(23441),a=e(91427),d=e(57588),u=e(63687),c=e(21348),r=e(90904),f=e(55336),v=e(1669),h=e(2651),m=e(36132),Z=e(39230),_=e(98684),x=e(93638),j=e(93433),S=e(90702),g=e(80184),p=function(t){var n=t.instituteId,e=t.modId,o=t.onRefetch,s=t.onClose,a=(0,l.useState)([]),d=(0,i.Z)(a,2),u=d[0],c=d[1],r=(0,l.useState)([]),v=(0,i.Z)(r,2),h=v[0],Z=(v[1],(0,l.useState)(!1)),_=(0,i.Z)(Z,2),x=_[0],p=_[1],w=(0,m.J$)(),k=(0,i.Z)(w,1)[0];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(S.Z,{title:"add_staff",onClose:s,instituteId:n,isMultiSelect:!0,onMultiSelect:function(t){null!==u&&void 0!==u&&u.includes(null===t||void 0===t?void 0:t._id)?c((function(n){return null===n||void 0===n?void 0:n.filter((function(n){return n!==(null===t||void 0===t?void 0:t._id)}))})):c((function(n){return[].concat((0,j.Z)(n),[null===t||void 0===t?void 0:t._id])}))},selectList:[].concat((0,j.Z)(u),(0,j.Z)(h)),onDone:function(){e&&(null===u||void 0===u?void 0:u.length)>0&&(p((function(t){return!t})),k({mid:e,addStaff:{flow:"Review_Section",staff_arr:u}}).then((function(){o(),p((function(t){return!t})),s()})).catch({}))}}),x&&(0,g.jsx)(f.Z,{})]})},w=e(59303),k=function(t){var n,e,j,S=t.modId,k=t.instituteId,I=(0,Z.$G)().t,R=(0,l.useState)(""),C=(0,i.Z)(R,2),b=C[0],N=C[1],L=(0,l.useState)(1),M=(0,i.Z)(L,2),y=M[0],A=M[1],q=(0,l.useState)(!0),D=(0,i.Z)(q,2),E=D[0],J=D[1],$=(0,s.YD)({skip:b}),B=(0,i.Z)($,2),F=B[0],G=B[1],O=(0,l.useState)(!1),Y=(0,i.Z)(O,2),z=Y[0],H=Y[1],K=(0,m.Ob)({data:{mid:S,page:y,limit:10,search:b,flow:"Review_Section"},skip:!S}),P=K.lmsModeratorAllStaffList,Q=K.lmsModeratorAllStaffListLoading,T=K.lmsModeratorAllStaffListRefetch;(0,l.useEffect)((function(){G&&E&&A((function(t){return t+1}))}),[G,E]),(0,l.useEffect)((function(){var t;if(null!==P&&void 0!==P&&null!==(t=P.list)&&void 0!==t&&t.length){var n,e=(0,a.f)(null===P||void 0===P||null===(n=P.list)||void 0===n?void 0:n.length);J((function(){return e}))}}),[null===P||void 0===P?void 0:P.list]);var U=(0,l.useCallback)((0,d.J)((function(t){A((function(){return 1})),N(t)}),1500),[]),V=(0,l.useCallback)((function(){A((function(){return 1})),N(""),T()}),[T]),W=function(){H((function(t){return!t}))};return(0,g.jsxs)(u.Z,{children:[(0,g.jsx)(c.Z,{children:(0,g.jsxs)("div",{className:o.Z.fm_header_container,children:[(0,g.jsx)("h6",{children:I("all_staffs")}),(0,g.jsxs)("div",{className:o.Z.fm_search,children:[(0,g.jsx)("section",{className:o.Z.fm_search_container,children:(0,g.jsxs)("div",{className:o.Z.fm_search_container_inner,children:[(0,g.jsx)("img",{className:o.Z.fm_search_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,g.jsx)("input",{type:"text",placeholder:I("search"),onChange:function(t){t.target.value?U(t.target.value):(A((function(){return 1})),N(""))}})]})}),(0,g.jsx)(x.Z,{label:I("add_new_staff"),customStyle:{margin:"0",padding:"0.4rem 1rem"},onAction:W})]})]})}),(0,g.jsx)(r.Z,{}),(0,g.jsxs)(c.Z,{children:[null===P||void 0===P||null===(n=P.list)||void 0===n?void 0:n.map((function(t,n){var e;return(null===P||void 0===P||null===(e=P.list)||void 0===e?void 0:e.length)===n+1?(0,g.jsx)("div",{ref:F,children:(0,g.jsx)(w.Z,{staff:t,onRefetch:V,flow:"Review_Section",modId:S})},null===t||void 0===t?void 0:t._id):(0,g.jsx)(w.Z,{staff:t,onRefetch:V,flow:"Review_Section",modId:S},null===t||void 0===t?void 0:t._id)})),Q?b?(0,g.jsx)(f.Z,{}):(0,g.jsx)(v.Z,{}):b?0===(null===P||void 0===P||null===(e=P.list)||void 0===e?void 0:e.length)&&(0,g.jsx)(h.Z,{title:"No staff leave history found related this search."}):0===(null===P||void 0===P||null===(j=P.list)||void 0===j?void 0:j.length)&&(0,g.jsx)(h.Z,{title:"No staff leave history."}),z&&(0,g.jsx)(p,{instituteId:k,modId:S,onRefetch:V,onClose:W})]})]})}}}]);
//# sourceMappingURL=9570.1a8da266.chunk.js.map