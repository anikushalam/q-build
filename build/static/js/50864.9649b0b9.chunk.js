"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[50864],{50864:function(t,e,i){i.r(e),i.d(e,{default:function(){return G}});var n=i(93433),r=i(29439),_=i(72791),a="GrQuery_grquery_container__OxXAR",o="GrQuery_with_search__GL3dh",f="GrQuery_query_card__mD8nJ",l="GrQuery_query_card_head__1Zhr8",u="GrQuery_query_card_text__xOfj5",c="GrQuery_query_card_content__SpWhF",s="GrQuery_button_container__dlxWH",d="GrQuery_reject_btn__tiUEx",h="GrQuery_approve_btn__GMn3H",v="GrQuery_query_date__bWPkc",p=i(39230),y=i(23441),m=i(96065),S=i(95048),P=i(11105),x=i(98094),j=i(69721),g=i(72426),k=i.n(g),N=i(98734),q=i(80184),b=function(t){var e,i,n,a,o,y,S,P,x,g,b=t.query,G=t.onRefetch,Z=(0,p.$G)().t,R=(0,_.useState)(!1),A=(0,r.Z)(R,2),C=A[0],M=A[1],Q=(0,m.iA)(),w=(0,r.Z)(Q,1)[0],E=function(t){null!==b&&void 0!==b&&b._id&&t&&(M((function(t){return!t})),w({qid:null===b||void 0===b?void 0:b._id,status:"".concat(t)}).then((function(){G(),M((function(t){return!t}))})).catch({}))};return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)("div",{className:f,children:[(0,q.jsxs)("div",{className:l,children:[(0,q.jsx)("img",{src:null!==b&&void 0!==b&&null!==(e=b.query_by_student)&&void 0!==e&&e.studentProfilePhoto?"".concat(j.yI,"/").concat(null===b||void 0===b||null===(i=b.query_by_student)||void 0===i?void 0:i.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""}),(0,q.jsxs)("div",{className:u,children:[(0,q.jsx)("h6",{children:"".concat(null!==(n=null===b||void 0===b||null===(a=b.query_by_student)||void 0===a?void 0:a.studentFirstName)&&void 0!==n?n:""," ").concat(null!==(o=null===b||void 0===b||null===(y=b.query_by_student)||void 0===y?void 0:y.studentMiddleName)&&void 0!==o?o:""," ").concat(null!==(S=null===b||void 0===b||null===(P=b.query_by_student)||void 0===P?void 0:P.studentLastName)&&void 0!==S?S:"")}),(0,q.jsxs)("h6",{children:[(0,q.jsx)("span",{style:{fontWeight:"400"},children:Z("gr_number")})," ",null!==(x=null===b||void 0===b?void 0:b.query_gr)&&void 0!==x?x:""]})]})]}),(0,q.jsx)("p",{className:c,children:null!==(g=null===b||void 0===b?void 0:b.query_content)&&void 0!==g?g:""}),"Pending"===(null===b||void 0===b?void 0:b.query_status)?(0,q.jsxs)("div",{className:s,children:[(0,q.jsx)("button",{className:d,onClick:function(){return E("Rejected")},children:Z("reject")}),(0,q.jsx)("button",{className:h,onClick:function(){return E("Approved")},children:Z("approve")})]}):null,(0,q.jsxs)("div",{className:v,children:[(0,q.jsx)("p",{children:k()(null===b||void 0===b?void 0:b.created_at).format("DD MMMM, yyyy")}),(0,q.jsx)("p",{children:k()(null===b||void 0===b?void 0:b.created_at).format("LT")})]})]}),C&&(0,q.jsx)(N.Z,{})]})},G=function(){var t=(0,p.$G)().t,e=(0,S.v9)((function(t){return t.idChange.id})),i=(0,y.YD)(),f=(0,r.Z)(i,2),l=f[0],u=f[1],c=(0,_.useState)(1),s=(0,r.Z)(c,2),d=s[0],h=s[1],v=(0,_.useState)(!0),j=(0,r.Z)(v,2),g=j[0],k=j[1],N=(0,_.useState)(!0),G=(0,r.Z)(N,2),Z=G[0],R=G[1],A=(0,_.useState)([]),C=(0,r.Z)(A,2),M=C[0],Q=C[1],w=(0,_.useState)(!1),E=(0,r.Z)(w,2),W=E[0],L=E[1],D=(0,m.id)({data:{id:e,page:d,limit:10},skip:!e}),O=D.instituteAllGRNotification,F=D.instituteAllGRNotificationRefetch;(0,_.useEffect)((function(){e&&(R(!0),F())}),[e,d,F]),(0,_.useEffect)((function(){u&&g&&h((function(t){return t+1}))}),[u,g]),(0,_.useEffect)((function(){var t,e;W?(Q(null===O||void 0===O?void 0:O.all_query),R(!1),L(!1)):null!==O&&void 0!==O&&O.all_query?(Q((function(t){var e,i;return null===(e=(0,n.Z)(new Set(null===(i=[].concat((0,n.Z)(t),(0,n.Z)(null===O||void 0===O?void 0:O.all_query)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===e?void 0:e.map(JSON.parse)})),R(!1)):0===(null===O||void 0===O||null===(e=O.all_query)||void 0===e?void 0:e.length)&&R(!1);10===(null===O||void 0===O||null===(t=O.all_query)||void 0===t?void 0:t.length)?k(!0):k(!1)}),[null===O||void 0===O?void 0:O.all_query]);var H=function(){h(1),L(!0),R(!0),F()};return(0,q.jsxs)("div",{className:a,children:[(0,q.jsx)("div",{className:o,children:(0,q.jsx)("h6",{children:t("gr_internal_query")})}),(0,q.jsx)(x.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),null===M||void 0===M?void 0:M.map((function(t,e){return(null===M||void 0===M?void 0:M.length)===e+1?(0,q.jsx)("div",{ref:l,children:(0,q.jsx)(b,{query:t,onRefetch:H})},null===t||void 0===t?void 0:t._id):(0,q.jsx)(b,{query:t,onRefetch:H},null===t||void 0===t?void 0:t._id)})),Z&&(0,q.jsx)(P.Z,{status:"white"})]})}},98094:function(t,e,i){var n=i(1413),r=(i(72791),i(55136)),_=i(80184);e.Z=function(t){var e=t.customStyle;return(0,_.jsx)("hr",{className:r.Z.universal_hr,style:(0,n.Z)({},e)})}},96065:function(t,e,i){i.d(e,{Cr:function(){return u},EC:function(){return l},EG:function(){return f},Wj:function(){return o},_p:function(){return s},a3:function(){return c},iA:function(){return h},id:function(){return d},mS:function(){return a},nF:function(){return _},vW:function(){return v}});var n=i(29439),r=i(40896),_=function(t){var e=(0,r.TU)(t.data,{skip:t.skip});return{instituteAllNotification:e.data,instituteAllNotificationRefetch:e.refetch}},a=function(t){var e=(0,r.dQ)(t.data,{skip:t.skip});return{userAllNotification:e.data,userAllNotificationRefetch:e.refetch}},o=function(t){var e=(0,r.Pw)(t.data,{skip:t.skip});return{allActivityList:e.data,allActivityListRefetch:e.refetch}},f=function(t){var e=(0,r.hE)(t.id,{skip:t.skip});return{activityNotifiationCount:e.data,activityNotifiationCountRefetch:e.refetch}},l=function(){var t=(0,r.Lh)();return[(0,n.Z)(t,1)[0]]},u=function(){var t=(0,r.LO)();return[(0,n.Z)(t,1)[0]]},c=function(){var t=(0,r.xL)();return[(0,n.Z)(t,1)[0]]},s=function(t){var e=(0,r.sj)(t.data,{skip:t.skip});return{activitySupportMember:e.data,activitySupportMemberRefetch:e.refetch}},d=function(t){var e=(0,r.lI)(t.data,{skip:t.skip});return{instituteAllGRNotification:e.data,instituteAllGRNotificationRefetch:e.refetch}},h=function(){var t=(0,r.wU)();return[(0,n.Z)(t,1)[0]]},v=function(t){var e=(0,r.YS)(t.data,{skip:t.skip});return{getNotificationAllStudentMessage:e.data,getNotificationAllStudentMessageRefetch:e.refetch}}},55136:function(t,e){e.Z={staff_profile_container:"StaffProfile_staff_profile_container__GG5AM",staff_header_container:"StaffProfile_staff_header_container__avRlK",staff_header_function:"StaffProfile_staff_header_function__l9cDM",staff_header_text:"StaffProfile_staff_header_text__XX8rQ",staff_header_prev:"StaffProfile_staff_header_prev__ImXKU",staff_header_next:"StaffProfile_staff_header_next__jjoJr",staff_header_close:"StaffProfile_staff_header_close__wXG-N",staff_profile_photo_name:"StaffProfile_staff_profile_photo_name__WWUV4",staff_profile_photo_index:"StaffProfile_staff_profile_photo_index__-yyx9",each_info_container:"StaffProfile_each_info_container__Mo3TB",each_field_text:"StaffProfile_each_field_text__vvAvg",each_field_text_value:"StaffProfile_each_field_text_value__k1OsE",universal_hr:"StaffProfile_universal_hr__w130J",staff_profile_photo_container:"StaffProfile_staff_profile_photo_container__rFPEV",staff_profile_photo_info:"StaffProfile_staff_profile_photo_info__CxVDi",staff_profile_photo_image:"StaffProfile_staff_profile_photo_image__5f2cC",staff_profile_photo_edit:"StaffProfile_staff_profile_photo_edit__y03dk",each_field_container:"StaffProfile_each_field_container__0qKjw",each_field:"StaffProfile_each_field__18G-9",student_attendane_container:"StaffProfile_student_attendane_container__64BII",student_attendance_heading:"StaffProfile_student_attendance_heading__0hW2K",colours:"StaffProfile_colours__-7mIV",monthColours:"StaffProfile_monthColours__A3asC",percentage:"StaffProfile_percentage__GO1RT",presentcount:"StaffProfile_presentcount__u30HH",absentcount:"StaffProfile_absentcount__d+utq",link_hold_container:"StaffProfile_link_hold_container__0dRjX",link_hold_container_hostel:"StaffProfile_link_hold_container_hostel__LcldT",card_hold_container:"StaffProfile_card_hold_container__HQQcE",admission_fees:"StaffProfile_admission_fees__MoZHM",certificate_btn_container:"StaffProfile_certificate_btn_container__jui9m",certificate_btn:"StaffProfile_certificate_btn__3NWfg",admission_actions:"StaffProfile_admission_actions__ayyJD",staff_designation_btn:"StaffProfile_staff_designation_btn__4C3h7",ospp_header:"StaffProfile_ospp_header__oteF5",ospph_img:"StaffProfile_ospph_img__gPivu"}}}]);
//# sourceMappingURL=50864.9649b0b9.chunk.js.map