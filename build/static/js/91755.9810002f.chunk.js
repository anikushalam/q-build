"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[91755],{91755:(e,n,t)=>{t.r(n),t.d(n,{default:()=>m});var i=t(72791);const o="Following_container__E9SM7",l="Following_card__3FqQT",s="Following_cardImage__zxZD4",r="Following_username__AfnkF",a="Following_name__gQs4s",c="Following_unfollow__-4yPM",d="Following_unfollowText__NnusE";var u=t(23441),v=t(69721),h=t(39480),f=t(95048),g=t(80184);const m=()=>{const e=(0,f.v9)((e=>e.idChange.id)),[n,t]=(0,i.useState)([]),[m,p]=(0,u.YD)(),[w,y]=(0,i.useState)(!0),[_,b]=(0,i.useState)(1),[N]=(0,h.xK)(),{instituteFollowingArray:k,instituteFollowingArrayRefetch:x}=(0,h.sl)({data:{id:e,page:_,limit:10},skip:!e});(0,i.useEffect)((()=>{e&&x()}),[e,_,x]),(0,i.useEffect)((()=>{p&&w&&b((e=>e+1))}),[p,w]),(0,i.useEffect)((()=>{var e;if(null!==k&&void 0!==k&&null!==(e=k.following)&&void 0!==e&&e.length){const e=[...n,...null===k||void 0===k?void 0:k.following],i=[...new Set(e.map(JSON.stringify))].map(JSON.parse);t(i)}}),[null===k||void 0===k?void 0:k.following]);const j=e=>{N({followId:e&&e}).then((e=>{e.data.message&&x()}))};return(0,g.jsx)("div",{className:"".concat(o),children:null===n||void 0===n?void 0:n.map(((e,t)=>(null===n||void 0===n?void 0:n.length)===t+1?(0,g.jsxs)("div",{className:l,ref:m,children:[(0,g.jsx)("img",{className:s,src:"1"!==(null===e||void 0===e?void 0:e.photoId)?"".concat(v.yI,"/").concat((null===e||void 0===e?void 0:e.insProfilePhoto)||(null===e||void 0===e?void 0:e.profilePhoto)):"/images/avatar-icon.png",alt:""}),(0,g.jsx)("p",{className:r,children:e&&e.name}),(0,g.jsx)("p",{className:a,children:e&&e.insName}),(0,g.jsx)("div",{className:c,children:(0,g.jsx)("p",{className:d,onClick:()=>j(e&&e._id),children:"Unfollow"})})]},t):(0,g.jsxs)("div",{className:l,children:[(0,g.jsx)("img",{className:s,src:"1"!==(null===e||void 0===e?void 0:e.photoId)?"".concat(v.yI,"/").concat((null===e||void 0===e?void 0:e.insProfilePhoto)||(null===e||void 0===e?void 0:e.profilePhoto)):"/images/avatar-icon.png",alt:""}),(0,g.jsx)("p",{className:r,children:e&&e.name}),(0,g.jsx)("p",{className:a,children:e&&e.insName}),(0,g.jsx)("div",{className:c,children:(0,g.jsx)("p",{className:d,onClick:()=>j(e&&e._id),children:"Unfollow"})})]},t)))})}},23441:(e,n,t)=>{t.d(n,{YD:()=>v});var i=t(72791),o=Object.defineProperty,l=(e,n,t)=>(((e,n,t)=>{n in e?o(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t})(e,"symbol"!==typeof n?n+"":n,t),t),s=new Map,r=new WeakMap,a=0,c=void 0;function d(e){return Object.keys(e).sort().filter((n=>void 0!==e[n])).map((n=>{return"".concat(n,"_").concat("root"===n?(t=e.root)?(r.has(t)||(a+=1,r.set(t,a.toString())),r.get(t)):"0":e[n]);var t})).toString()}function u(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c;if("undefined"===typeof window.IntersectionObserver&&void 0!==i){const o=e.getBoundingClientRect();return n(i,{isIntersecting:i,target:e,intersectionRatio:"number"===typeof t.threshold?t.threshold:0,time:0,boundingClientRect:o,intersectionRect:o,rootBounds:o}),()=>{}}const{id:o,observer:l,elements:r}=function(e){let n=d(e),t=s.get(n);if(!t){const i=new Map;let o;const l=new IntersectionObserver((n=>{n.forEach((n=>{var t;const l=n.isIntersecting&&o.some((e=>n.intersectionRatio>=e));e.trackVisibility&&"undefined"===typeof n.isVisible&&(n.isVisible=l),null==(t=i.get(n.target))||t.forEach((e=>{e(l,n)}))}))}),e);o=l.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),t={id:n,observer:l,elements:i},s.set(n,t)}return t}(t);let a=r.get(e)||[];return r.has(e)||r.set(e,a),a.push(n),l.observe(e),function(){a.splice(a.indexOf(n),1),0===a.length&&(r.delete(e),l.unobserve(e)),0===r.size&&(l.disconnect(),s.delete(o))}}i.Component;function v(){let{threshold:e,delay:n,trackVisibility:t,rootMargin:o,root:l,triggerOnce:s,skip:r,initialInView:a,fallbackInView:c,onChange:d}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var v;const[h,f]=i.useState(null),g=i.useRef(),[m,p]=i.useState({inView:!!a,entry:void 0});g.current=d,i.useEffect((()=>{if(r||!h)return;let i;return i=u(h,((e,n)=>{p({inView:e,entry:n}),g.current&&g.current(e,n),n.isIntersecting&&s&&i&&(i(),i=void 0)}),{root:l,rootMargin:o,threshold:e,trackVisibility:t,delay:n},c),()=>{i&&i()}}),[Array.isArray(e)?e.toString():e,h,l,o,s,r,t,c,n]);const w=null==(v=m.entry)?void 0:v.target,y=i.useRef();h||!w||s||r||y.current===w||(y.current=w,p({inView:!!a,entry:void 0}));const _=[f,m.inView,m.entry];return _.ref=_[0],_.inView=_[1],_.entry=_[2],_}}}]);
//# sourceMappingURL=91755.9810002f.chunk.js.map