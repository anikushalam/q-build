"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[1870],{63162:function(e,n,i){var t=i(39230),l=i(51416),a=i(43504),o=i(72791),r=i(80184),s=function(e){var n=e.tab,i=e.isActive,o=e.isLink,s=e.parentState,c=e.onAction,d=e.url,u=(0,t.$G)().t;return o?(0,r.jsx)(a.rU,{className:i?l.Z.horizontal_tab_card_active:l.Z.horizontal_tab_card,to:d,state:s,children:(0,r.jsx)("h6",{children:u(null===n||void 0===n?void 0:n.label)})}):(0,r.jsx)("div",{className:i?l.Z.horizontal_tab_card_active:l.Z.horizontal_tab_card,onClick:function(){c(null===n||void 0===n?void 0:n.id)},children:(0,r.jsx)("h6",{children:u(null===n||void 0===n?void 0:n.label)})})};n.Z=(0,o.memo)(s)},98967:function(e,n,i){var t=i(51416),l=i(80184);n.Z=function(e){var n=e.children;return(0,l.jsx)("div",{className:t.Z.horizontal_tab_wrapper,children:n})}},71870:function(e,n,i){i.r(n),i.d(n,{default:function(){return O}});var t=i(29439),l=i(56959),a=i(63687),o=i(21348),r=i(39230),s=i(90904),c=i(43504),d=i(16871),u=i(98967),v=i(63162),_=i(72791),m=i(55336),f=i(23441),h=i(91427),p=i(57588),j=i(98684),x=i(1669),g=i(2651),Z=i(43317),y="PaymentVerification_request_card_info_name__F217G",b="PaymentVerification_request_card_container__kdJMq",N="PaymentVerification_request_card_info__4dTd3",C="PaymentVerification_request_card_info_date__kvaK6",k="PaymentVerification_request_card_utr__PDrya",S="PaymentVerification_request_card_info_image__SzKv7",E="PaymentVerification_fee_request_detail__XPezI",q="PaymentVerification_fee_request_detail_name__9jdBC",P="PaymentVerification_fee_request_detail_amount__-SBvM",T="PaymentVerification_fee_request_detail_date__0hGfn",L="PaymentVerification_reason_for_rejection__xoM3S",R="PaymentVerification_payment_acknowledge_btn__quTx1",V=i(1095),A=i(97892),D=i.n(A),B=i(93638),M=i(48293),J=i(16925),w=i(53277),F=i(23558),Y=i(61055),G=i(99183),z=i(80184),U=function(e){var n,i,l,a,c,d,u,v,f,h,p,x,g,y,b,N,C=e.onClose,k=e.aid,S=e.onRefetch,L=e.receipt,A=e.isAccess,U=(0,r.$G)().t,$=(0,_.useState)(!1),K=(0,t.Z)($,2),Q=K[0],I=K[1],O=(0,_.useState)(1),H=(0,t.Z)(O,2),W=H[0],X=H[1],ee=(0,_.useState)(""),ne=(0,t.Z)(ee,2),ie=ne[0],te=ne[1],le=(0,_.useState)(""),ae=(0,t.Z)(le,2),oe=ae[0],re=ae[1],se=(0,Z.Wl)(),ce=(0,t.Z)(se,1)[0],de=function(){},ue=(0,_.useCallback)((function(){var e,n=window.open("".concat(V.LS,"/").concat(null===L||void 0===L||null===(e=L.receipt)||void 0===e?void 0:e.fee_payment_acknowledge),"_blank","noopener,noreferrer");n&&(n.opener=null)}),[V.LS,null===L||void 0===L||null===(n=L.receipt)||void 0===n?void 0:n.fee_payment_acknowledge]);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(M.Z,{onClose:C,children:(0,z.jsxs)("div",{className:J.Z.modal_container,children:[(0,z.jsx)(o.Z,{children:(0,z.jsxs)("div",{className:J.Z.modal_container_outer_header,children:[(0,z.jsx)("div",{className:J.Z.modal_container_header,children:(0,z.jsxs)("h6",{children:[" ",U("fee_receipt_request")]})}),(0,z.jsx)("img",{src:"".concat(j.J7,"/close.svg"),alt:"close icon",onClick:C})]})}),(0,z.jsx)(s.Z,{}),(0,z.jsxs)(o.Z,{customStyle:{paddingTop:"0",marginBottom:"1rem"},children:[(0,z.jsxs)(w.Z,{children:[(0,z.jsx)(F.Z,{label:"accept",onClick:function(){X(1)},isActive:1===W}),(0,z.jsx)(F.Z,{label:"reject",onClick:function(){X(2)},isActive:2===W})]}),(0,z.jsxs)("section",{className:E,children:[(0,z.jsxs)("h6",{className:q,children:[U("name")," "," : "," ","".concat(null===L||void 0===L||null===(i=L.receipt)||void 0===i||null===(l=i.student)||void 0===l?void 0:l.studentFirstName," ").concat(null!==L&&void 0!==L&&null!==(a=L.receipt)&&void 0!==a&&null!==(c=a.student)&&void 0!==c&&c.studentMiddleName?null===L||void 0===L||null===(d=L.receipt)||void 0===d||null===(u=d.student)||void 0===u?void 0:u.studentMiddleName:""," ").concat(null===L||void 0===L||null===(v=L.receipt)||void 0===v||null===(f=v.student)||void 0===f?void 0:f.studentLastName)]}),(0,z.jsxs)("h6",{className:P,children:[U("amount")," "," : "," ",U("rs")," ",null!==(h=null===L||void 0===L||null===(p=L.receipt)||void 0===p?void 0:p.fee_payment_amount)&&void 0!==h?h:0]}),(0,z.jsx)("h6",{className:T,children:D()(null===L||void 0===L||null===(x=L.receipt)||void 0===x?void 0:x.created_at).format("DD MMM YYYY")})]}),1===W?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(Y.Z,{label:U("bank_name_collect"),name:"fee_bank_name",type:"tel",value:null===L||void 0===L||null===(g=L.receipt)||void 0===g?void 0:g.fee_bank_name,onChange:de,placeholder:U("please_enter_bank_name"),customStyleLabel:{marginTop:"6px",marginBottom:"7px"}}),(0,z.jsx)(Y.Z,{label:U("banke_holder_name"),name:"fee_bank_holder",type:"tel",value:null===L||void 0===L||null===(y=L.receipt)||void 0===y?void 0:y.fee_bank_holder,onChange:de,placeholder:U("please_enter_name_of_bank_holder"),customStyleLabel:{marginTop:"6px",marginBottom:"7px"}}),(0,z.jsx)(Y.Z,{label:U("cheque_dd_neft"),name:"fee_utr_reference",type:"tel",value:null===L||void 0===L||null===(b=L.receipt)||void 0===b?void 0:b.fee_utr_reference,onChange:de,placeholder:U("please_enter_utr_ref_number"),customStyleLabel:{marginTop:"6px",marginBottom:"7px"}}),null!==L&&void 0!==L&&null!==(N=L.receipt)&&void 0!==N&&N.fee_payment_acknowledge?(0,z.jsx)("button",{className:R,onClick:ue,children:U("payment_acknowledge")}):null]}):(0,z.jsx)(Y.Z,{label:U("reason_for_rejection_receipt"),name:"reason",type:"text",value:ie,onChange:function(e){return te(e.target.value)},placeholder:U("please_reason_for_rejection_receipt"),errorShow:oe.reason}),(0,z.jsx)(B.Z,{label:1===W?"confirm":"confirm_reject",onAction:function(){var e,n,i=!0;(2===W&&(i=(0,G.l)({reason:ie},[])),(0,G.x)(i))?k&&null!==L&&void 0!==L&&null!==(e=L.receipt)&&void 0!==e&&e._id&&null!==L&&void 0!==L&&L._id&&(I((function(e){return!e})),ce({aid:k,rid:null===L||void 0===L||null===(n=L.receipt)||void 0===n?void 0:n._id,reqId:null===L||void 0===L?void 0:L._id,status:"REJECTED"===A?1===W?"Over_Rejection":"Rejection_Notify":1===W?"Approved":"Rejected",receiptAction:{reason:ie}}).then((function(){S(),I((function(e){return!e})),C()})).catch({})):re(i)}})]})]})}),Q&&(0,z.jsx)(m.Z,{})]})},$=function(e){var n,i,l,a,o,s,c,d,u,v,m,f,h,p,x,g,Z,E,q,P,T,R=e.receipt,A=e.isAccess,M=e.aid,J=e.onRefetch,w=(0,r.$G)().t,F=(0,_.useState)(!1),Y=(0,t.Z)(F,2),G=Y[0],$=Y[1],K=(0,_.useCallback)((function(){var e;("REQUEST"===A||"REJECTED"===A&&null!==R&&void 0!==R&&null!==(e=R.receipt)&&void 0!==e&&e.re_apply)&&$((function(e){return!e}))}),[A,null===R||void 0===R||null===(n=R.receipt)||void 0===n?void 0:n.re_apply]);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("section",{className:b,onClick:null!==R&&void 0!==R&&null!==(i=R.receipt)&&void 0!==i&&i.re_apply?function(){}:K,style:{cursor:"REQUEST"===A?"pointer":"default"},children:[(0,z.jsxs)("div",{className:N,children:[(0,z.jsx)("img",{src:null!==R&&void 0!==R&&null!==(l=R.receipt)&&void 0!==l&&null!==(a=l.student)&&void 0!==a&&a.studentProfilePhoto?"".concat(V.yI,"/").concat(null===R||void 0===R||null===(o=R.receipt)||void 0===o||null===(s=o.student)||void 0===s?void 0:s.studentProfilePhoto):"".concat(j.p3,"/feed-user-avatar.svg"),alt:"avatar",className:S}),(0,z.jsxs)("div",{children:[(0,z.jsx)("h6",{className:y,children:"".concat(null!==(c=null===R||void 0===R||null===(d=R.receipt)||void 0===d||null===(u=d.student)||void 0===u?void 0:u.studentFirstName)&&void 0!==c?c:""," ").concat(null!==R&&void 0!==R&&null!==(v=R.receipt)&&void 0!==v&&null!==(m=v.student)&&void 0!==m&&m.studentMiddleName?null===R||void 0===R||null===(f=R.receipt)||void 0===f||null===(h=f.student)||void 0===h?void 0:h.studentMiddleName:""," ").concat(null!==(p=null===R||void 0===R||null===(x=R.receipt)||void 0===x||null===(g=x.student)||void 0===g?void 0:g.studentLastName)&&void 0!==p?p:"")}),(0,z.jsxs)("p",{className:y,children:[w("amount")," : ",w("rs_only")," ",(null===R||void 0===R||null===(Z=R.receipt)||void 0===Z?void 0:Z.fee_payment_amount)||0]}),(0,z.jsx)("p",{className:C,children:D()(null===R||void 0===R?void 0:R.created_at).format("DD MMM YYYY")})]})]}),(0,z.jsxs)("h6",{className:k,children:[w("utr_number")," ",null===R||void 0===R||null===(E=R.receipt)||void 0===E?void 0:E.fee_utr_reference]}),"REJECTED"===A&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("h6",{className:L,children:[w("reason_for_rejection")," ",null!==(q=null===R||void 0===R||null===(P=R.receipt)||void 0===P?void 0:P.reason)&&void 0!==q?q:null===R||void 0===R?void 0:R.reason]}),(null===R||void 0===R||null===(T=R.receipt)||void 0===T?void 0:T.re_apply)&&(0,z.jsx)(B.Z,{label:"re_requested",onAction:K})]})]}),G&&(0,z.jsx)(U,{onClose:K,aid:M,receipt:R,onRefetch:J,isAccess:A})]})},K=function(e){var n,i,a,o=e.aid,s=e.requestedCount,c=(0,r.$G)().t,d=(0,_.useState)(""),u=(0,t.Z)(d,2),v=u[0],y=u[1],b=(0,_.useState)(1),N=(0,t.Z)(b,2),C=N[0],k=N[1],S=(0,_.useState)(!0),E=(0,t.Z)(S,2),q=E[0],P=E[1],T=(0,f.YD)({skip:v}),L=(0,t.Z)(T,2),R=L[0],V=L[1],A=(0,Z.jD)({data:{aid:o,page:C,limit:10,search:v,filterBy:"ALL_REQUEST",over_filter:""},skip:!o}),D=A.admissionPaymentVerifyList,B=A.admissionPaymentVerifyListLoading,M=A.admissionPaymentVerifyListRefetch;(0,_.useEffect)((function(){V&&q&&k((function(e){return e+1}))}),[V,q]),(0,_.useEffect)((function(){var e;if(null!==D&&void 0!==D&&null!==(e=D.list)&&void 0!==e&&e.length){var n,i=(0,h.f)(null===D||void 0===D||null===(n=D.list)||void 0===n?void 0:n.length);P((function(){return i}))}}),[null===D||void 0===D?void 0:D.list]);var J=(0,_.useCallback)((0,p.J)((function(e){k((function(){return 1})),y(e)}),1500),[]),w=(0,_.useCallback)((function(){k((function(){return 1})),M()}),[M]);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:l.Z.fm_header_container,children:[(0,z.jsxs)("h6",{children:[c("total_request")," : "," ",null!==s&&void 0!==s?s:0]}),(0,z.jsx)("div",{className:l.Z.fm_search,children:(0,z.jsx)("section",{className:l.Z.fm_search_container,children:(0,z.jsxs)("div",{className:l.Z.fm_search_container_inner,children:[(0,z.jsx)("img",{className:l.Z.fm_search_icon,alt:"search icon",src:"".concat(j.dB,"/navbar-search.svg")}),(0,z.jsx)("input",{type:"text",placeholder:c("search"),onChange:function(e){e.target.value?J(e.target.value):(k((function(){return 1})),y(""))}})]})})})]}),null===D||void 0===D||null===(n=D.list)||void 0===n?void 0:n.map((function(e,n){var i;return(null===D||void 0===D||null===(i=D.list)||void 0===i?void 0:i.length)===n+1?(0,z.jsx)("div",{ref:R,children:(0,z.jsx)($,{receipt:e,isAccess:"REQUEST",aid:o,onRefetch:w})},null===e||void 0===e?void 0:e._id):(0,z.jsx)($,{receipt:e,isAccess:"REQUEST",aid:o,onRefetch:w},null===e||void 0===e?void 0:e._id)})),B?v?(0,z.jsx)(m.Z,{}):(0,z.jsx)(x.Z,{}):v?0===(null===D||void 0===D||null===(i=D.list)||void 0===i?void 0:i.length)&&(0,z.jsx)(g.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No request fuond related this search."}):0===(null===D||void 0===D||null===(a=D.list)||void 0===a?void 0:a.length)&&(0,z.jsx)(g.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No request found."})]})},Q=function(e){var n,i,a,o=e.aid,s=e.rejectCount,c=(0,r.$G)().t,d=(0,_.useState)(""),u=(0,t.Z)(d,2),v=u[0],y=u[1],b=(0,_.useState)(1),N=(0,t.Z)(b,2),C=N[0],k=N[1],S=(0,_.useState)(!0),E=(0,t.Z)(S,2),q=E[0],P=E[1],T=(0,f.YD)({skip:v}),L=(0,t.Z)(T,2),R=L[0],V=L[1],A=(0,Z.jD)({data:{aid:o,page:C,limit:10,search:v,filterBy:"ALL_REJECT",over_filter:""},skip:!o}),D=A.admissionPaymentVerifyList,B=A.admissionPaymentVerifyListLoading,M=A.admissionPaymentVerifyListRefetch;(0,_.useEffect)((function(){V&&q&&k((function(e){return e+1}))}),[V,q]),(0,_.useEffect)((function(){var e;if(null!==D&&void 0!==D&&null!==(e=D.list)&&void 0!==e&&e.length){var n,i=(0,h.f)(null===D||void 0===D||null===(n=D.list)||void 0===n?void 0:n.length);P((function(){return i}))}}),[null===D||void 0===D?void 0:D.list]);var J=(0,_.useCallback)((0,p.J)((function(e){k((function(){return 1})),y(e)}),1500),[]),w=(0,_.useCallback)((function(){k((function(){return 1})),M()}),[M]);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:l.Z.fm_header_container,children:[(0,z.jsxs)("h6",{children:[c("total_rejected")," : "," ",null!==s&&void 0!==s?s:0]}),(0,z.jsx)("div",{className:l.Z.fm_search,children:(0,z.jsx)("section",{className:l.Z.fm_search_container,children:(0,z.jsxs)("div",{className:l.Z.fm_search_container_inner,children:[(0,z.jsx)("img",{className:l.Z.fm_search_icon,alt:"search icon",src:"".concat(j.dB,"/navbar-search.svg")}),(0,z.jsx)("input",{type:"text",placeholder:c("search"),onChange:function(e){e.target.value?J(e.target.value):(k((function(){return 1})),y(""))}})]})})})]}),null===D||void 0===D||null===(n=D.list)||void 0===n?void 0:n.map((function(e,n){var i;return(null===D||void 0===D||null===(i=D.list)||void 0===i?void 0:i.length)===n+1?(0,z.jsx)("div",{ref:R,children:(0,z.jsx)($,{receipt:e,isAccess:"REJECTED",aid:o,onRefetch:w})},null===e||void 0===e?void 0:e._id):(0,z.jsx)($,{receipt:e,isAccess:"REJECTED",aid:o,onRefetch:w},null===e||void 0===e?void 0:e._id)})),B?v?(0,z.jsx)(m.Z,{}):(0,z.jsx)(x.Z,{}):v?0===(null===D||void 0===D||null===(i=D.list)||void 0===i?void 0:i.length)&&(0,z.jsx)(g.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No receipts fuond related this search."}):0===(null===D||void 0===D||null===(a=D.list)||void 0===a?void 0:a.length)&&(0,z.jsx)(g.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No receipts found."})]})},I=function(e){var n,i,a,o=e.aid,s=e.approvedCount,c=(0,r.$G)().t,d=(0,_.useState)(""),u=(0,t.Z)(d,2),v=u[0],y=u[1],b=(0,_.useState)(1),N=(0,t.Z)(b,2),C=N[0],k=N[1],S=(0,_.useState)(!0),E=(0,t.Z)(S,2),q=E[0],P=E[1],T=(0,f.YD)({skip:v}),L=(0,t.Z)(T,2),R=L[0],V=L[1],A=(0,Z.jD)({data:{aid:o,page:C,limit:10,search:v,filterBy:"ALL_APPROVE",over_filter:""},skip:!o}),D=A.admissionPaymentVerifyList,B=A.admissionPaymentVerifyListLoading;(0,_.useEffect)((function(){V&&q&&k((function(e){return e+1}))}),[V,q]),(0,_.useEffect)((function(){var e;if(null!==D&&void 0!==D&&null!==(e=D.list)&&void 0!==e&&e.length){var n,i=(0,h.f)(null===D||void 0===D||null===(n=D.list)||void 0===n?void 0:n.length);P((function(){return i}))}}),[null===D||void 0===D?void 0:D.list]);var M=(0,_.useCallback)((0,p.J)((function(e){k((function(){return 1})),y(e)}),1500),[]);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:l.Z.fm_header_container,children:[(0,z.jsxs)("h6",{children:[c("total_accepted")," "," : "," ",null!==s&&void 0!==s?s:0]}),(0,z.jsx)("div",{className:l.Z.fm_search,children:(0,z.jsx)("section",{className:l.Z.fm_search_container,children:(0,z.jsxs)("div",{className:l.Z.fm_search_container_inner,children:[(0,z.jsx)("img",{className:l.Z.fm_search_icon,alt:"search icon",src:"".concat(j.dB,"/navbar-search.svg")}),(0,z.jsx)("input",{type:"text",placeholder:c("search"),onChange:function(e){e.target.value?M(e.target.value):(k((function(){return 1})),y(""))}})]})})})]}),null===D||void 0===D||null===(n=D.list)||void 0===n?void 0:n.map((function(e,n){var i;return(null===D||void 0===D||null===(i=D.list)||void 0===i?void 0:i.length)===n+1?(0,z.jsx)("div",{ref:R,children:(0,z.jsx)($,{receipt:e})},null===e||void 0===e?void 0:e._id):(0,z.jsx)($,{receipt:e},null===e||void 0===e?void 0:e._id)})),B?v?(0,z.jsx)(m.Z,{}):(0,z.jsx)(x.Z,{}):v?0===(null===D||void 0===D||null===(i=D.list)||void 0===i?void 0:i.length)&&(0,z.jsx)(g.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No receipts fuond related this search."}):0===(null===D||void 0===D||null===(a=D.list)||void 0===a?void 0:a.length)&&(0,z.jsx)(g.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No receipts found."})]})},O=function(e){var n=e.aid,i=e.requestedCount,f=e.approvedCount,h=e.rejectCount,p=(0,r.$G)().t,x=(0,c.lr)(),g=(0,t.Z)(x,1)[0],Z=(0,d.TH)(),y=(0,d.UO)();return(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(a.Z,{children:[(0,z.jsx)(o.Z,{children:(0,z.jsxs)("div",{className:l.Z.fm_header_container,children:[(0,z.jsx)("h6",{children:p("fee_receipts_request")}),(0,z.jsx)("img",{src:"".concat(j.J7,"/filter.svg"),alt:"filter icon"})]})}),(0,z.jsx)(s.Z,{}),(0,z.jsxs)(o.Z,{customStyle:{paddingTop:"0"},children:[(0,z.jsx)(u.Z,{children:H.map((function(e){return(0,z.jsx)(v.Z,{tab:e,isLink:!0,isActive:"requested"===e.id&&!g.get("n")||g.get("n")===e.id,parentState:Z.state,url:"/q/".concat(y.username,"/member/staff/admission?type=verification").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,z.jsx)(s.Z,{customStyleBorder:{marginTop:"0"}})]}),(0,z.jsx)(o.Z,{customStyle:{paddingTop:"0"},children:(0,z.jsx)(_.Suspense,{fallback:(0,z.jsx)(m.Z,{}),children:"accepted"===g.get("n")?(0,z.jsx)(I,{aid:n,approvedCount:f}):"rejected"===g.get("n")?(0,z.jsx)(Q,{aid:n,rejectCount:h}):(0,z.jsx)(K,{aid:n,requestedCount:i})})})]})})},H=[{label:"all_request",id:"requested",urlKey:""},{label:"accepted",id:"accepted",urlKey:"&n=accepted"},{label:"rejected",id:"rejected",urlKey:"&n=rejected"}]}}]);
//# sourceMappingURL=1870.b0e4db8b.chunk.js.map