"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[57985],{21625:(e,t,i)=>{i.d(t,{Dr:()=>u,Dv:()=>v,FL:()=>a,J9:()=>p,KB:()=>y,Ne:()=>d,OF:()=>r,Pv:()=>o,b5:()=>h,bB:()=>m,d4:()=>l,gS:()=>c,rY:()=>_,vM:()=>f,xk:()=>s});var n=i(63950);const a=()=>{const[e]=(0,n.rk)();return[e]},s=()=>{const[e]=(0,n.Zz)();return[e]},o=()=>{const[e]=(0,n.Sm)();return[e]},l=()=>{const[e]=(0,n.G1)();return[e]},r=()=>{const[e]=(0,n.lI)();return[e]},u=()=>{const[e]=(0,n.CT)();return[e]},c=()=>{const[e]=(0,n.b)();return[e]},d=()=>{const[e]=(0,n.x0)();return[e]},h=()=>{const[e]=(0,n.kA)();return[e]},m=()=>{const[e]=(0,n.rz)();return[e]},p=()=>{const[e]=(0,n.Pi)();return[e]},v=()=>{const[e]=(0,n.qz)();return[e]},_=()=>{const[e]=(0,n._C)();return[e]},y=()=>{const[e]=(0,n.qG)();return[e]},f=e=>{const{data:t,refetch:i,isLoading:a}=(0,n.tz)(null===e||void 0===e?void 0:e.phoneKey,{skip:e.skip});return{authGetAccountWithMobileNumber:t,authGetAccountWithMobileNumberRefetch:i,authGetAccountWithMobileNumberLoading:a}}},63950:(e,t,i)=>{i.d(t,{qG:()=>z,tz:()=>T,qz:()=>E,_C:()=>O,rz:()=>P,Pi:()=>G,Zz:()=>q,YY:()=>D,x0:()=>F,kA:()=>I,lI:()=>k,CT:()=>M,Sm:()=>U,G1:()=>S,b:()=>w,rk:()=>N});var n=i(28328),a=i(94811);const s=e=>e.mutation({query:e=>({url:"/all-images/onefile/web",method:a.Q0,body:e.fileUpload})}),o=e=>e.query({query:e=>"/auth/username/search?u_name=".concat(e)}),l=e=>e.query({query:e=>"/auth/email/check/redundant?email=".concat(e)}),r=e=>e.mutation({query:e=>({url:"/auth/login",method:a.a4,body:e.login})}),u=e=>e.mutation({query:e=>({url:"/auth/user-detail",method:a.a4,body:e})}),c=e=>e.mutation({query:e=>{var t;return{url:"/auth/user-detail-verify/".concat(e.userPhoneNumber,"?u_name=").concat(null!==(t=null===e||void 0===e?void 0:e.u_name)&&void 0!==t?t:""),method:a.a4,body:e}}}),d=e=>e.mutation({query:e=>({url:"/auth/user/forgot",method:a.a4,body:e.forgot})}),h=e=>e.mutation({query:e=>({url:"/auth/user/forgot/".concat(e.uid),method:a.a4,body:e.otp})}),m=e=>e.mutation({query:e=>({url:"/auth/user/reset/password/".concat(e.uid),method:a.a4,body:e.password})}),p=(e,t)=>e.mutation({query:e=>({url:"/auth/profile-creation/".concat(e.userPhoneNumber),method:a.a4,body:e.profileCreation})}),v=(e,t)=>e.mutation({query:e=>({url:"/auth/create-user-password/".concat(e.uid),method:a.a4,body:e.password})}),_=(e,t)=>e.mutation({query:e=>({url:"/auth/ins-detail",method:a.a4,body:e.phone})}),y=(e,t)=>e.mutation({query:e=>({url:"/auth/ins-detail-verify/".concat(e.insPhoneNumber),method:a.a4,body:e.verify})}),f=(e,t)=>e.mutation({query:e=>({url:"/auth/ins/register",method:a.a4,body:e.profileCreation})}),x=(e,t)=>e.mutation({query:e=>({url:"/auth/ins/create-password/".concat(e.id),method:a.a4,body:e.password})}),g=e=>e.mutation({query:e=>({url:"/auth/direct/confirm/join/".concat(e.phoneNumber,"/apply/").concat(e.aid,"?existingUser=").concat(e.uid),method:a.a4,body:e.addStudent})}),j=e=>e.query({query:e=>"/auth/select/account?phoneKey=".concat(e),transformResponse:e=>null===e||void 0===e?void 0:e.all_account,serializeQueryArgs:e=>{let{endpointName:t}=e;return t},forceRefetch(e){let{currentArg:t,previousArg:i}=e;return t!==i}}),b=e=>e.mutation({query:e=>({url:"/admission/".concat(e.uid,"/user/").concat(e.aid,"/apply"),method:"POST",body:e.apply_data})}),A=n.i.injectEndpoints({endpoints:e=>({fileUpload:s(e),authUniqueUsername:o(e),authUniqueEmail:l(e),authLogin:r(e),authUserNumber:u(e),authUserNumberVerify:c(e),authUserForget:d(e),authUserForgetOtp:h(e),authUserSetPassword:m(e),authUserCreateAccount:p(e),authUserCreatePassword:v(e),authInstituteNumber:_(e),authInstituteNumberVerify:y(e),authInstituteCreateAccount:f(e),authInstituteCreatePassword:x(e),authDirectJoinFormAdmissionApplication:g(e),authGetAccountWithMobileNumber:j(e),authUserApplyOneApplication:b(e)})}),{useFileUploadMutation:N,useAuthUniqueUsernameQuery:Z,useAuthUniqueEmailQuery:C,useAuthLoginMutation:q,useAuthUserNumberMutation:U,useAuthUserNumberVerifyMutation:S,useAuthUserForgetMutation:k,useAuthUserForgetOtpMutation:M,useAuthUserSetPasswordMutation:w,useAuthUserCreateAccountMutation:F,useAuthUserCreatePasswordMutation:I,useAuthInstituteNumberMutation:P,useAuthInstituteNumberVerifyMutation:G,useAuthInstituteCreateAccountMutation:E,useAuthInstituteCreatePasswordMutation:O,useAuthDirectJoinFormAdmissionApplicationMutation:z,useAuthGetAccountWithMobileNumberQuery:T,useAuthUserApplyOneApplicationMutation:D}=A},44226:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(39230),a=i(98684),s=i(80476),o=i(80184);const l=e=>{let{onExcelFileUpload:t,acceptType:i,label:l,dynamicKey:r,title:u,assestUrl:c,customStyle:d,customStyleLabel:h}=e;const{t:m}=(0,n.$G)();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("label",{className:s.Z.upload_excel_file,htmlFor:null!==r&&void 0!==r?r:"uploadExcel",style:d,children:[(0,o.jsx)("img",{src:c||"".concat(a.J7,"/upload-xslx.svg"),alt:"add student icon",title:null!==u&&void 0!==u?u:"Upload excel file"}),l&&(0,o.jsx)("h6",{style:h,children:m(l)})]}),(0,o.jsx)("input",{type:"file",id:null!==r&&void 0!==r?r:"uploadExcel",accept:i,onChange:t,style:{display:"none"}})]})}},57985:(e,t,i)=>{i.r(t),i.d(t,{default:()=>k});var n=i(72791),a=i(1669),s=i(55336),o=i(98684),l=i(63687),r=i(21348),u=i(2651),c=i(56959),d=i(39230),h=i(23441),m=i(91427),p=i(57588),v=i(90904),_=i(43317),y=i(91389),f=i(38857),x=i(16925),g=i(26192),j=i(80184);const b=e=>{let{onSelectType:t}=e;const{t:i}=(0,d.$G)(),n=e=>{t(e)};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:g.Z.application_card,onClick:()=>n("Direct_Admission"),children:[(0,j.jsxs)("div",{className:g.Z.application_card_title,children:[(0,j.jsx)("img",{src:"".concat(o.J7,"/category.svg"),alt:"staff profile avatar"}),(0,j.jsx)("h6",{children:i("direct_admission")})]}),(0,j.jsxs)("section",{className:g.Z.application_card_info,children:[(0,j.jsx)("div",{children:i("only_two_steps")}),(0,j.jsxs)("div",{children:["1. ",i("online_filling_form")]}),(0,j.jsxs)("div",{children:["2. ",i("online_admission_fees_payments")]}),(0,j.jsx)("h6",{children:i("online_note_suitable")})]})]}),(0,j.jsxs)("div",{className:g.Z.application_card,onClick:()=>n("Complete_Step_Wise_Admission"),children:[(0,j.jsxs)("div",{className:g.Z.application_card_title,children:[(0,j.jsx)("img",{src:"".concat(o.J7,"/category.svg"),alt:"staff profile avatar"}),(0,j.jsx)("h6",{children:i("complete_step_wise_admission")})]}),(0,j.jsxs)("section",{className:g.Z.application_card_info,children:[(0,j.jsx)("div",{children:i("steps_involved")}),(0,j.jsxs)("div",{children:["1. ",i("online_filling_form1")]}),(0,j.jsxs)("div",{children:["2. ",i("online_admission_fees_payments1")]}),(0,j.jsxs)("div",{children:["3. ",i("online_admission_fees_payments2")]}),(0,j.jsxs)("div",{children:["4. ",i("online_admission_fees_payments3")]}),(0,j.jsxs)("div",{children:["5. ",i("online_admission_fees_payments4")]}),(0,j.jsx)("h6",{children:i("offile_note_suitable")})]})]})]})};var A=i(38921),N=i(29760);const Z=e=>{let{onClose:t,onRefetch:i,aid:a,fid:s,instituteId:l}=e;const{t:u}=(0,d.$G)(),[c,h]=(0,n.useState)("");return(0,j.jsx)(j.Fragment,{children:c?"Complete_Step_Wise_Admission"===c?(0,j.jsx)(A.Z,{onClose:()=>h(""),aid:a,onRefetch:i,instituteId:l,fid:s,onParentClose:t}):"Direct_Admission"===c?(0,j.jsx)(N.Z,{onClose:()=>h(""),aid:a,onRefetch:i,instituteId:l,fid:s,onParentClose:t}):null:(0,j.jsx)(f.Z,{children:(0,j.jsxs)("div",{className:x.Z.modal_container,children:[(0,j.jsx)(r.Z,{children:(0,j.jsxs)("div",{className:x.Z.modal_container_outer_header,children:[(0,j.jsx)("div",{className:x.Z.modal_container_header,children:(0,j.jsx)("h6",{children:u("select_admission_application_type")})}),(0,j.jsx)("img",{src:"".concat(o.J7,"/close.svg"),alt:"close icon",onClick:t})]})}),(0,j.jsx)(v.Z,{}),(0,j.jsx)(r.Z,{customStyle:{paddingTop:"0",marginBottom:"1rem"},children:(0,j.jsx)(b,{onSelectType:e=>{h(e)}})})]})})})};var C=i(16871),q=i(93638),U=i(44226),S=i(21625);const k=e=>{var t,i,f,x,g,b,A,N;let{aid:k,instituteId:M,fid:w}=e;const{t:F}=(0,d.$G)(),I=(0,C.TH)(),P=(0,C.UO)(),G=(0,C.s0)(),[E,O]=(0,n.useState)(""),[z,T]=(0,n.useState)(1),[D,R]=(0,n.useState)(!0),[W,J]=(0,h.YD)({skip:E}),[L,K]=(0,n.useState)(!1),[B]=(0,S.FL)(),[Q,V]=(0,n.useState)(!1),[Y]=(0,_.q7)(),{admissionOngoingApplication:$,admissionOngoingApplicationLoading:H,admissionOngoingApplicationRefetch:X}=(0,_.s5)({data:{aid:k,page:z,limit:1e3,search:E},skip:!k});(0,n.useEffect)((()=>{J&&D&&T((e=>e+1))}),[J,D]),(0,n.useEffect)((()=>{var e;if(null!==$&&void 0!==$&&null!==(e=$.list)&&void 0!==e&&e.length){var t;let e=(0,m.f)(null===$||void 0===$||null===(t=$.list)||void 0===t?void 0:t.length);R((()=>e))}}),[null===$||void 0===$||null===(t=$.list)||void 0===t?void 0:t.length]);const ee=(0,n.useCallback)((0,p.J)((e=>{T((()=>1)),O(e)}),1500),[]),te=()=>{K((e=>!e))},ie=()=>{T((()=>1)),O(""),X()},ne=(0,n.useCallback)((()=>{var e;let t="Institute"===(null===(e=I.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(P.username,"/institute/member/admission"):"/q/".concat(P.username,"/member/staff/admission");G(t,{state:I.state})}),[G,I.state,P.username]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(l.Z,{children:[(0,j.jsx)(r.Z,{children:(0,j.jsxs)("div",{className:c.Z.fm_header_container,children:[(0,j.jsxs)("div",{className:c.Z.fm_header_start_container,style:{gap:"0.5rem"},children:[(0,j.jsx)("img",{alt:"search icon",src:"".concat(o.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:ne}),(0,j.jsx)("h6",{children:F("ongoing_applications")})]}),(0,j.jsxs)("div",{className:c.Z.fm_search,children:[(0,j.jsx)("section",{className:c.Z.fm_search_container,children:(0,j.jsxs)("div",{className:c.Z.fm_search_container_inner,children:[(0,j.jsx)("img",{className:c.Z.fm_search_icon,alt:"search icon",src:"".concat(o.dB,"/navbar-search.svg")}),(0,j.jsx)("input",{type:"text",placeholder:F("search"),onChange:e=>{e.target.value?ee(e.target.value):(T((()=>1)),O(""))},style:{minWidth:"220px"}})]})}),"ONGOING_VIEW_ACCESS"===(null===(i=I.state)||void 0===i?void 0:i.role)?null:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(U.Z,{onExcelFileUpload:e=>{var t,i;if(null!==(t=e.target)&&void 0!==t&&null!==(i=t.files)&&void 0!==i&&i.length&&k){V((e=>!e));const t=new FormData;t.append("file",e.target.files[0]),B({fileUpload:t}).then((e=>{var t,i;null!==(t=e.data)&&void 0!==t&&t.imageKey?Y({aid:k,bodyParameter:{excel_file:null===(i=e.data)||void 0===i?void 0:i.imageKey}}).then((()=>{V((e=>!e))})).catch({}):V((e=>!e))})).catch({})}},dynamicKey:"direct_application",title:"Direct Application Excel",label:"Direct Application Excel"}),(0,j.jsx)(q.Z,{label:"create_new_application",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:te})]})]})]})}),(0,j.jsx)(v.Z,{}),(0,j.jsxs)(r.Z,{customStyle:{paddingTop:"0.2rem",position:"relative"},children:[(null===(f=I.state)||void 0===f||null===(x=f.authorizedApplication)||void 0===x?void 0:x.length)>0?null===$||void 0===$||null===(g=$.list)||void 0===g?void 0:g.map((e=>{var t,i;return null!==(t=I.state)&&void 0!==t&&null!==(i=t.authorizedApplication)&&void 0!==i&&i.includes(null===e||void 0===e?void 0:e._id)?(0,j.jsx)(y.Z,{application:e,aid:k,instituteId:M,onRefetch:ie},null===e||void 0===e?void 0:e._id):null})):null===$||void 0===$||null===(b=$.list)||void 0===b?void 0:b.map((e=>(0,j.jsx)(y.Z,{application:e,aid:k,instituteId:M,onRefetch:ie},null===e||void 0===e?void 0:e._id))),H?E?(0,j.jsx)(s.Z,{}):(0,j.jsx)(a.Z,{}):E?0===(null===$||void 0===$||null===(A=$.list)||void 0===A?void 0:A.length)&&(0,j.jsx)(u.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No ongoing application found related this search."}):0===(null===$||void 0===$||null===(N=$.list)||void 0===N?void 0:N.length)&&(0,j.jsx)(u.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No application created."})]})]}),L&&(0,j.jsx)(Z,{onClose:te,onRefetch:ie,aid:k,instituteId:M,fid:w}),Q&&(0,j.jsx)(s.Z,{})]})}}}]);
//# sourceMappingURL=57985.5d02eb25.chunk.js.map