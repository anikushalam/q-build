{"version":3,"file":"static/js/2932.ec0c9a92.chunk.js","mappings":"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","sources":["Profile/Institute/Pages/EditHead/SearchAffiliated.jsx","webpack://mithkal-qviple/./src/Search/Overlay.module.css?f865","Search/Overlay.jsx","Search/SearchModalBackdrop.jsx","Search/SearchModalWrapper.jsx","webpack://mithkal-qviple/./src/Department/Institute/AssignStaff/AssignStaffModal.module.css?96eb","webpack://mithkal-qviple/./src/Search/SearchHeader.module.css?739e"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport { useInView } from \"react-intersection-observer\";\n// import { useScrollbar } from \"../../../../Scroll/use-scroll\";\nimport { debounce } from \"lodash\";\nimport style from \"../../../../Department/Institute/AssignStaff/AssignStaffModal.module.css\";\nimport SearchModalWrapper from \"../../../../Search/SearchModalWrapper\";\nimport Overlay from \"../../../../Search/Overlay\";\nimport { useTranslation } from \"react-i18next\";\nimport { useAffiliatedSearch } from \"../../../../hooks/plateform/plateform-api\";\nimport { imageShowUrl } from \"../../../../services/BaseUrl\";\n// import { useScrollbar } from \"../../../../Scroll/use-scroll\";\n\nconst SearchAffiliated = ({ onClose, selectMember }) => {\n  // const { hideScrollbar, showScrollbar } = useScrollbar();\n  // useEffect(() => {\n  //   hideScrollbar();\n  // }, []);\n\n  const [page, setPage] = useState(1);\n  const [state, setState] = useState(true);\n  const [ref, inView] = useInView();\n  const { t } = useTranslation();\n  const [search, setSearch] = useState(\"\");\n  const [supportMember, setSupportMember] = React.useState([]);\n  const { affiliatedSearch, affiliatedSearchRefetch } = useAffiliatedSearch({\n    search: search,\n    page: page,\n    limit: 10,\n  });\n\n  React.useEffect(() => {\n    affiliatedSearchRefetch();\n  }, [affiliatedSearchRefetch, page]);\n\n  useEffect(() => {\n    if (inView && state) setPage((page) => page + 1);\n  }, [inView, state]);\n\n  React.useEffect(() => {\n    if (affiliatedSearch?.manage) {\n      if (search) {\n        setSupportMember(affiliatedSearch?.manage);\n      } else {\n        const uniquePost = [...supportMember, ...affiliatedSearch?.manage];\n        const uniqueRefind = [...new Set(uniquePost.map(JSON.stringify))].map(\n          JSON.parse\n        );\n        setSupportMember(uniqueRefind);\n      }\n    }\n\n    //for next api is call or not dashboard\n    if (affiliatedSearch?.manage.length === 10) setState(true);\n    else setState(false);\n  }, [affiliatedSearch?.manage]);\n\n  useEffect(() => {\n    if (search) handleSearch();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [search]);\n\n  const handleSearch = () => {\n    affiliatedSearchRefetch();\n  };\n\n  const deb = useCallback(\n    debounce((val) => setSearch(val), 500),\n    []\n  );\n\n  const searchHandler = (val) => {\n    deb(val);\n  };\n\n  const selectStaff = (val) => {\n    selectMember(val);\n    // showScrollbar();\n    onClose();\n  };\n\n  const onCloseHandler = () => {\n    // showScrollbar();\n    onClose();\n  };\n  return (\n    <>\n      <SearchModalWrapper onClose={onCloseHandler} />\n      <Overlay>\n        <div style={{ backgroundColor: \"#FAFAFA\", borderRadius: \"10px\" }}>\n          <div className={style.assign_title}>\n            <h5>{t(\"search_select\")}</h5>\n            <img\n              src=\"/images/close-post-icon.svg\"\n              onClick={onClose}\n              alt=\"staff assign pop close icon\"\n            />\n          </div>\n\n          <div className={style.assign_search_container}>\n            <input\n              type=\"text\"\n              placeholder={t(\"search\")}\n              className={style.assign_search_input}\n              // value={search}\n              onChange={(e) => searchHandler(e.target.value)}\n            />\n            <img src=\"/images/search-dash-icon.svg\" alt=\"search icon\" />\n          </div>\n\n          <div className={style.assign_show_list}>\n            {supportMember?.map((value, index) =>\n              supportMember?.length === index + 1 ? (\n                <div key={value._id} ref={ref}>\n                  <div\n                    className={style.assign_show_list_each}\n                    onClick={() => selectStaff(value)}\n                  >\n                    <img\n                      src={\n                        value?.photo\n                          ? `${imageShowUrl}/${value.photo}`\n                          : \"/images/demo_users/user1.svg\"\n                      }\n                      alt=\"student profile avatar\"\n                    />\n                    <div className={style.assign_each_paragraph}>\n                      <h6>{value?.affiliation_name}</h6>\n                      <p>\n                        {t(\"aff_ins\")}{\" \"}\n                        {value?.affiliation_institute_approve_count}\n                      </p>\n                    </div>\n                  </div>\n                  <hr />\n                </div>\n              ) : (\n                <div key={value._id}>\n                  <div\n                    className={style.assign_show_list_each}\n                    onClick={() => selectStaff(value)}\n                  >\n                    <img\n                      src={\n                        value?.photo\n                          ? `${imageShowUrl}/${value.photo}`\n                          : \"/images/demo_users/user1.svg\"\n                      }\n                      alt=\"student profile avatar\"\n                    />\n                    <div className={style.assign_each_paragraph}>\n                      <h6>{value?.affiliation_name}</h6>\n                      <p>\n                        {t(\"aff_ins\")}{\" \"}\n                        {value?.affiliation_institute_approve_count}\n                      </p>\n                    </div>\n                  </div>\n                  <hr />\n                </div>\n              )\n            )}\n          </div>\n        </div>\n      </Overlay>\n    </>\n  );\n};\n\nexport default SearchAffiliated;\n","// extracted by mini-css-extract-plugin\nexport default {\"overlay_card\":\"Overlay_overlay_card__PAr1h\"};","import React from \"react\";\nimport ReactDom from \"react-dom\";\nimport style from \"./Overlay.module.css\";\nconst Overlay = ({ children, customStyle }) => {\n  return (\n    <>\n      {ReactDom.createPortal(\n        <div className={style.overlay_card} style={{ ...customStyle }}>\n          {children}\n        </div>,\n\n        document.getElementById(\"overlay\")\n      )}\n    </>\n  );\n};\n\nexport default Overlay;\n","import React from \"react\";\nimport style from \"./SearchHeader.module.css\";\nconst SearchModalBackdrop = ({ onClose, customStyleBackdrop }) => {\n  return (\n    <div\n      className={style.search_backdrop}\n      style={{ ...customStyleBackdrop }}\n      onClick={onClose}\n    />\n  );\n};\n\nexport default SearchModalBackdrop;\n","import React from \"react\";\nimport ReactDom from \"react-dom\";\nimport SearchModalBackdrop from \"./SearchModalBackdrop\";\nconst SearchModalWrapper = ({ onClose, customStyleBackdrop }) => {\n  return (\n    <>\n      {ReactDom.createPortal(\n        <SearchModalBackdrop\n          onClose={onClose}\n          customStyleBackdrop={customStyleBackdrop}\n        />,\n        document.getElementById(\"backdrop\")\n      )}\n    </>\n  );\n};\n\nexport default SearchModalWrapper;\n","// extracted by mini-css-extract-plugin\nexport default {\"assign_title\":\"AssignStaffModal_assign_title__4DGBV\",\"assign_search_container\":\"AssignStaffModal_assign_search_container__3x6RD\",\"assign_search_input\":\"AssignStaffModal_assign_search_input__rO3c7\",\"assign_show_list\":\"AssignStaffModal_assign_show_list__yHhf7\",\"assign_show_list_each\":\"AssignStaffModal_assign_show_list_each__ACUEw\",\"assign_each_paragraph\":\"AssignStaffModal_assign_each_paragraph__pMHTq\",\"universal_modal\":\"AssignStaffModal_universal_modal__czmpB\"};","// extracted by mini-css-extract-plugin\nexport default {\"search_backdrop\":\"SearchHeader_search_backdrop__MsKpG\",\"search_card\":\"SearchHeader_search_card__-jNcg\",\"search_container\":\"SearchHeader_search_container__NS7Om\",\"search_container_text\":\"SearchHeader_search_container_text__bkolR\",\"searchIcon\":\"SearchHeader_searchIcon__J7cNp\",\"search_container_back\":\"SearchHeader_search_container_back__ZoXdV\"};"],"names":["_ref","onClose","selectMember","_useState","useState","_useState2","_slicedToArray","page","setPage","_useState3","_useState4","state","setState","_useInView","useInView","_useInView2","ref","inView","t","useTranslation","_useState5","_useState6","search","setSearch","_React$useState","React","_React$useState2","supportMember","setSupportMember","_useAffiliatedSearch","useAffiliatedSearch","limit","affiliatedSearch","affiliatedSearchRefetch","useEffect","manage","uniquePost","concat","_toConsumableArray","uniqueRefind","Set","map","JSON","stringify","parse","length","handleSearch","deb","useCallback","debounce","val","selectStaff","_jsxs","_Fragment","children","_jsx","SearchModalWrapper","Overlay","style","backgroundColor","borderRadius","className","assign_title","src","onClick","alt","assign_search_container","type","placeholder","assign_search_input","onChange","e","target","value","assign_show_list","index","assign_show_list_each","photo","imageShowUrl","assign_each_paragraph","affiliation_name","affiliation_institute_approve_count","_id","customStyle","ReactDom","_objectSpread","document","getElementById","customStyleBackdrop","search_backdrop","SearchModalBackdrop"],"sourceRoot":""}