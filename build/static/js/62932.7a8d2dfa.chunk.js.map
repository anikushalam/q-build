{"version":3,"file":"static/js/62932.7a8d2dfa.chunk.js","mappings":"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","sources":["Profile/Institute/Pages/EditHead/SearchAffiliated.jsx","webpack://mithkal-qviple/./src/Search/Overlay.module.css?f865","Search/Overlay.jsx","Search/SearchModalBackdrop.jsx","Search/SearchModalWrapper.jsx","webpack://mithkal-qviple/./src/Department/Institute/AssignStaff/AssignStaffModal.module.css?96eb","webpack://mithkal-qviple/./src/Search/SearchHeader.module.css?739e"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport { useInView } from \"react-intersection-observer\";\n// import { useScrollbar } from \"../../../../Scroll/use-scroll\";\nimport { debounce } from \"lodash\";\nimport style from \"../../../../Department/Institute/AssignStaff/AssignStaffModal.module.css\";\nimport SearchModalWrapper from \"../../../../Search/SearchModalWrapper\";\nimport Overlay from \"../../../../Search/Overlay\";\nimport { useTranslation } from \"react-i18next\";\nimport { useAffiliatedSearch } from \"../../../../hooks/plateform/plateform-api\";\nimport { imageShowUrl } from \"../../../../services/BaseUrl\";\n// import { useScrollbar } from \"../../../../Scroll/use-scroll\";\n\nconst SearchAffiliated = ({ onClose, selectMember }) => {\n  // const { hideScrollbar, showScrollbar } = useScrollbar();\n  // useEffect(() => {\n  //   hideScrollbar();\n  // }, []);\n\n  const [page, setPage] = useState(1);\n  const [state, setState] = useState(true);\n  const [ref, inView] = useInView();\n  const { t } = useTranslation();\n  const [search, setSearch] = useState(\"\");\n  const [supportMember, setSupportMember] = React.useState([]);\n  const { affiliatedSearch, affiliatedSearchRefetch } = useAffiliatedSearch({\n    search: search,\n    page: page,\n    limit: 10,\n  });\n\n  React.useEffect(() => {\n    affiliatedSearchRefetch();\n  }, [affiliatedSearchRefetch, page]);\n\n  useEffect(() => {\n    if (inView && state) setPage((page) => page + 1);\n  }, [inView, state]);\n\n  React.useEffect(() => {\n    if (affiliatedSearch?.manage) {\n      if (search) {\n        setSupportMember(affiliatedSearch?.manage);\n      } else {\n        const uniquePost = [...supportMember, ...affiliatedSearch?.manage];\n        const uniqueRefind = [...new Set(uniquePost.map(JSON.stringify))].map(\n          JSON.parse\n        );\n        setSupportMember(uniqueRefind);\n      }\n    }\n\n    //for next api is call or not dashboard\n    if (affiliatedSearch?.manage.length === 10) setState(true);\n    else setState(false);\n  }, [affiliatedSearch?.manage]);\n\n  useEffect(() => {\n    if (search) handleSearch();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [search]);\n\n  const handleSearch = () => {\n    affiliatedSearchRefetch();\n  };\n\n  const deb = useCallback(\n    debounce((val) => setSearch(val), 500),\n    []\n  );\n\n  const searchHandler = (val) => {\n    deb(val);\n  };\n\n  const selectStaff = (val) => {\n    selectMember(val);\n    // showScrollbar();\n    onClose();\n  };\n\n  const onCloseHandler = () => {\n    // showScrollbar();\n    onClose();\n  };\n  return (\n    <>\n      <SearchModalWrapper onClose={onCloseHandler} />\n      <Overlay>\n        <div style={{ backgroundColor: \"#FAFAFA\", borderRadius: \"10px\" }}>\n          <div className={style.assign_title}>\n            <h5>{t(\"search_select\")}</h5>\n            <img\n              src=\"/images/close-post-icon.svg\"\n              onClick={onClose}\n              alt=\"staff assign pop close icon\"\n            />\n          </div>\n\n          <div className={style.assign_search_container}>\n            <input\n              type=\"text\"\n              placeholder={t(\"search\")}\n              className={style.assign_search_input}\n              // value={search}\n              onChange={(e) => searchHandler(e.target.value)}\n            />\n            <img src=\"/images/search-dash-icon.svg\" alt=\"search icon\" />\n          </div>\n\n          <div className={style.assign_show_list}>\n            {supportMember?.map((value, index) =>\n              supportMember?.length === index + 1 ? (\n                <div key={value._id} ref={ref}>\n                  <div\n                    className={style.assign_show_list_each}\n                    onClick={() => selectStaff(value)}\n                  >\n                    <img\n                      src={\n                        value?.photo\n                          ? `${imageShowUrl}/${value.photo}`\n                          : \"/images/member_tab/class/default_avatar.svg\"\n                      }\n                      alt=\"student profile avatar\"\n                    />\n                    <div className={style.assign_each_paragraph}>\n                      <h6>{value?.affiliation_name}</h6>\n                      <p>\n                        {t(\"aff_ins\")}{\" \"}\n                        {value?.affiliation_institute_approve_count}\n                      </p>\n                    </div>\n                  </div>\n                  <hr />\n                </div>\n              ) : (\n                <div key={value._id}>\n                  <div\n                    className={style.assign_show_list_each}\n                    onClick={() => selectStaff(value)}\n                  >\n                    <img\n                      src={\n                        value?.photo\n                          ? `${imageShowUrl}/${value.photo}`\n                          : \"/images/member_tab/class/default_avatar.svg\"\n                      }\n                      alt=\"student profile avatar\"\n                    />\n                    <div className={style.assign_each_paragraph}>\n                      <h6>{value?.affiliation_name}</h6>\n                      <p>\n                        {t(\"aff_ins\")}{\" \"}\n                        {value?.affiliation_institute_approve_count}\n                      </p>\n                    </div>\n                  </div>\n                  <hr />\n                </div>\n              )\n            )}\n          </div>\n        </div>\n      </Overlay>\n    </>\n  );\n};\n\nexport default SearchAffiliated;\n","// extracted by mini-css-extract-plugin\nexport default {\"overlay_card\":\"Overlay_overlay_card__PAr1h\"};","import React from \"react\";\nimport ReactDom from \"react-dom\";\nimport style from \"./Overlay.module.css\";\nconst Overlay = ({ children, customStyle }) => {\n  return (\n    <>\n      {ReactDom.createPortal(\n        <div className={style.overlay_card} style={{ ...customStyle }}>\n          {children}\n        </div>,\n\n        document.getElementById(\"overlay\")\n      )}\n    </>\n  );\n};\n\nexport default Overlay;\n","import React from \"react\";\nimport style from \"./SearchHeader.module.css\";\nconst SearchModalBackdrop = ({ onClose, customStyleBackdrop }) => {\n  return (\n    <div\n      className={style.search_backdrop}\n      style={{ ...customStyleBackdrop }}\n      onClick={onClose}\n    />\n  );\n};\n\nexport default SearchModalBackdrop;\n","import React from \"react\";\nimport ReactDom from \"react-dom\";\nimport SearchModalBackdrop from \"./SearchModalBackdrop\";\nconst SearchModalWrapper = ({ onClose, customStyleBackdrop }) => {\n  return (\n    <>\n      {ReactDom.createPortal(\n        <SearchModalBackdrop\n          onClose={onClose}\n          customStyleBackdrop={customStyleBackdrop}\n        />,\n        document.getElementById(\"backdrop\")\n      )}\n    </>\n  );\n};\n\nexport default SearchModalWrapper;\n","// extracted by mini-css-extract-plugin\nexport default {\"assign_title\":\"AssignStaffModal_assign_title__4DGBV\",\"assign_search_container\":\"AssignStaffModal_assign_search_container__3x6RD\",\"assign_search_input\":\"AssignStaffModal_assign_search_input__rO3c7\",\"assign_show_list\":\"AssignStaffModal_assign_show_list__yHhf7\",\"assign_show_list_each\":\"AssignStaffModal_assign_show_list_each__ACUEw\",\"assign_each_paragraph\":\"AssignStaffModal_assign_each_paragraph__pMHTq\",\"universal_modal\":\"AssignStaffModal_universal_modal__czmpB\",\"is_mulitselect_container\":\"AssignStaffModal_is_mulitselect_container__0cPQ2\"};","// extracted by mini-css-extract-plugin\nexport default {\"search_backdrop\":\"SearchHeader_search_backdrop__MsKpG\",\"search_card\":\"SearchHeader_search_card__-jNcg\",\"search_container\":\"SearchHeader_search_container__NS7Om\",\"search_container_text\":\"SearchHeader_search_container_text__bkolR\",\"searchIcon\":\"SearchHeader_searchIcon__J7cNp\",\"search_container_back\":\"SearchHeader_search_container_back__ZoXdV\"};"],"names":["_ref","onClose","selectMember","page","setPage","useState","state","setState","ref","inView","useInView","t","useTranslation","search","setSearch","supportMember","setSupportMember","React","affiliatedSearch","affiliatedSearchRefetch","useAffiliatedSearch","limit","useEffect","manage","uniquePost","uniqueRefind","Set","map","JSON","stringify","parse","length","handleSearch","deb","useCallback","debounce","val","selectStaff","_jsxs","_Fragment","children","_jsx","SearchModalWrapper","onCloseHandler","Overlay","style","backgroundColor","borderRadius","className","assign_title","src","onClick","alt","assign_search_container","type","placeholder","assign_search_input","onChange","e","searchHandler","target","value","assign_show_list","index","assign_show_list_each","photo","concat","imageShowUrl","assign_each_paragraph","affiliation_name","affiliation_institute_approve_count","_id","customStyle","ReactDom","document","getElementById","customStyleBackdrop","search_backdrop","SearchModalBackdrop"],"sourceRoot":""}