"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[44790,56223,49806,86406],{53967:(e,n,t)=>{t.d(n,{Z:()=>a});var i=t(72791);const l=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],o=["January","February","March","April","May","June","July","August","September","October","November","December"],a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;const t=new Date,a="".concat(t.getDate(),"-").concat(t.getMonth()+1,"-").concat(t.getFullYear()),[d,s]=(0,i.useState)(t),c=new Date(d.getFullYear(),d.getMonth()+1,0).getDate(),r=new Date(d.getFullYear(),d.getMonth(),1).getDay(),u=[1,2,3,4,5,6,0].indexOf(r)+1;let v=1;const _={},m=[];for(let i=1;i<7;i++){for(let e=1;e<8;e++)_[i]||(_[i]=[]),1===i?e<u||(_[i]=[..._[i],{classes:"",date:"".concat(v,"-").concat(d.getMonth()+1,"-").concat(d.getFullYear()),value:v}],v++):i>1&&v<c+1&&(_[i]=[..._[i],{classes:"",date:"".concat(v,"-").concat(d.getMonth()+1,"-").concat(d.getFullYear()),value:v}],v++);_[i].map((e=>{const n=e.date.split("-")[0],t=new Date(d.getFullYear(),d.getMonth(),n).getDay();return m.push({date:e.date,day:t}),""}))}return{daysShort:e,monthNames:n,todayFormatted:a,calendarData:m,selectedDate:d,getPrevMonth:()=>{s((e=>new Date(e.getFullYear(),e.getMonth()-1,1)))},getNextMonth:()=>{s((e=>new Date(e.getFullYear(),e.getMonth()+1,1)))},switchMonth:e=>{s((n=>new Date(n.getFullYear(),n.getMonth()+(e-d.getMonth()),1))),console.log(o[d.getMonth()])}}}},9490:(e,n,t)=>{t.d(n,{Z:()=>d});var i=t(72791),l=t(53967),o=t(16313),a=t(80184);const d=e=>{let{setValidDate:n}=e;const{calendarData:t,selectedDate:d,todayFormatted:s,switchMonth:c,monthNames:r,getNextMonth:u,getPrevMonth:v}=(0,l.Z)(),[_,m]=(0,i.useState)(s),[p,h]=(0,i.useState)(!1);(0,i.useEffect)((()=>{if(_){const e=_.split("-"),t=e[0]>9?e[0]:"0".concat(e[0]),i=e[1]>9?e[1]:"0".concat(e[1]),l=e[2];n("".concat(l,"-").concat(i,"-").concat(t))}}),[_]);const g=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],x=Math.floor(t.map((function(e){return e.date})).indexOf(_)/7),[f,j]=(0,i.useState)(x),y=7*f,Z=Math.ceil(t.length/7),S=t.slice(y,y+7).map(((e,n)=>(0,a.jsxs)("div",{className:e.date===_?"".concat(o.Z.date," ").concat(o.Z.clickedDate):o.Z.date,onClick:()=>m(e.date),children:[(0,a.jsx)("h6",{children:e.date.split("-")[0]}),(0,a.jsx)("p",{children:g[e.day]})]},n)));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:o.Z.changemonth,children:[(0,a.jsxs)("h6",{onClick:()=>h(!p),children:[r[d.getMonth()]," ",d.getFullYear()]}),(0,a.jsx)("img",{alt:"not found",src:"/images/dropdown-icon.svg",onClick:()=>h(!p)}),p&&(0,a.jsx)("div",{className:o.Z.selectMonthList,children:["January","February","March","April","May","June","July","August","September","October","November","December"].map(((e,n)=>(0,a.jsx)("div",{className:o.Z.month,onClick:()=>{c(n),h(!1)},children:e},n)))})]}),(0,a.jsxs)("div",{className:o.Z.calender,children:[(0,a.jsx)("div",{className:o.Z.arrowbtn,onClick:()=>{f>0?j((e=>e-1)):(j(Z-1),v())},children:(0,a.jsx)("img",{alt:"not found",src:"/images/members/left-icon.svg"})}),(0,a.jsx)("div",{className:o.Z.dates,children:S}),(0,a.jsx)("div",{className:o.Z.arrowbtn,onClick:()=>{f+1<Z?j((e=>e+1)):(j(0),u())},children:(0,a.jsx)("img",{alt:"not found",src:"/images/members/right-icon.svg"})})]})]})}},23984:(e,n,t)=>{t.d(n,{Z:()=>o});var i=t(80476),l=t(80184);const o=e=>{let{customStyle:n,children:t}=e;return(0,l.jsx)("div",{className:i.Z.btn_wrapper,style:n,children:t})}},45100:(e,n,t)=>{t.d(n,{Z:()=>a});var i=t(39230),l=t(80476),o=t(80184);const a=e=>{let{label:n,count:t,onAction:a,customStyle:d,isTranslate:s,showZero:c,children:r}=e;const{t:u}=(0,i.$G)();return s?(0,o.jsxs)("div",{className:l.Z.ccb_button,onClick:a,style:d,children:[r,c?(0,o.jsx)("span",{style:{marginRight:"0.3rem"},children:t}):t>0?(0,o.jsxs)("span",{style:{marginRight:"0.3rem"},children:[t," "]}):null,n]}):(0,o.jsxs)("div",{className:l.Z.ccb_button,onClick:a,style:d,children:[r,c?(0,o.jsx)("span",{style:{marginRight:"0.3rem"},children:t}):t>0?(0,o.jsxs)("span",{style:{marginRight:"0.3rem"},children:[t," "]}):null,u(n)]})}},8959:(e,n,t)=>{t.d(n,{Z:()=>o});var i=t(52245),l=t(80184);const o=e=>{let{label:n,value:t,customFormInputContainer:o,customFormInputLabel:a,customFormInput:d,children:s}=e;return(0,l.jsxs)("div",{className:i.Z.form_read_input_container,style:o,children:[n?(0,l.jsx)("label",{className:i.Z.form_read_input_label,style:a,children:n}):null,s,(0,l.jsx)("h6",{className:i.Z.form_read_input,style:d,children:t})]})}},11468:(e,n,t)=>{t.d(n,{Z:()=>d});var i=t(39230),l=t(52245),o=t(80184);const a=e=>{var n;return e?null===e||void 0===e||null===(n=e.split("\n"))||void 0===n?void 0:n.length:2},d=e=>{let{label:n,name:t,type:d,value:s,onChange:c,placeholder:r,errorShow:u,disabled:v,customFormInputContainer:_,customFormInputLabel:m,customFormInput:p}=e;const{t:h}=(0,i.$G)();return(0,o.jsxs)("div",{className:l.Z.form_input_container,style:_,children:[n&&(0,o.jsxs)("label",{className:l.Z.form_input_label,htmlFor:t,style:m,children:[n,u&&(0,o.jsxs)("span",{className:l.Z.form_input_label_error,children:["* ",h("form_require_label")]})]}),(0,o.jsx)("textarea",{className:l.Z.form_textarea_input,type:d,value:s,onChange:c,name:t,placeholder:r,rows:a(s),disabled:v,style:p?{...p,"--textarea-height":"".concat(20*a(s),"px")}:{"--textarea-height":"".concat(20*a(s),"px")}})]})}},13421:(e,n,t)=>{t.d(n,{Z:()=>Z});var i=t(1669),l=t(91427),o=t(72791),a=t(39230),d=t(23441),s=t(4007),c=t(38857),r=t(21348),u=t(90904),v=t(98684),_=t(80184);const m=e=>{var n,t,i,l,o,d;let{structure:c,selectedStructure:r,onSelect:u,isShow:m,customContainerStyle:p}=e;const{t:h}=(0,a.$G)();return(0,_.jsx)(_.Fragment,{children:"YES"===m?(0,_.jsxs)("div",{className:s.Z.fees_card,style:p,children:[(0,_.jsx)("img",{src:"".concat(v.J7,"/category.svg"),alt:"categor icon"}),(0,_.jsxs)("div",{className:s.Z.fees_card_text,children:[(0,_.jsx)("div",{className:s.Z.fees_card_text_bottom,children:(0,_.jsx)("h6",{children:null!==(n=null===c||void 0===c?void 0:c.unique_structure_name)&&void 0!==n?n:""})}),(0,_.jsxs)("div",{className:s.Z.fees_card_text_bottom,children:[(0,_.jsxs)("h6",{children:[h("applicable_fees_only")," ",h("rs_only"),null!==(t=null===c||void 0===c?void 0:c.applicable_fees)&&void 0!==t?t:0]}),(0,_.jsxs)("h6",{children:[h("total_admission_fees")," "," : "," ",h("rs_only"),null!==(i=null===c||void 0===c?void 0:c.total_admission_fees)&&void 0!==i?i:0]})]})]})]}):(0,_.jsxs)("div",{className:r===(null===c||void 0===c?void 0:c._id)?"".concat(s.Z.fees_card," ").concat(s.Z.fees_card_hover_active):"".concat(s.Z.fees_card," ").concat(s.Z.fees_card_hover),onClick:()=>{u(c)},style:{cursor:"pointer"},children:[(0,_.jsx)("img",{src:"".concat(v.J7,"/category.svg"),alt:"categor icon"}),(0,_.jsxs)("div",{className:s.Z.fees_card_text,children:[(0,_.jsx)("div",{className:s.Z.fees_card_text_bottom,children:(0,_.jsx)("h6",{children:null!==(l=null===c||void 0===c?void 0:c.unique_structure_name)&&void 0!==l?l:""})}),(0,_.jsxs)("div",{className:s.Z.fees_card_text_bottom,children:[(0,_.jsxs)("h6",{children:[h("applicable_fees_only")," ",h("rs_only"),null!==(o=null===c||void 0===c?void 0:c.applicable_fees)&&void 0!==o?o:0]}),(0,_.jsxs)("h6",{children:[h("total_admission_fees")," "," : "," ",h("rs_only"),null!==(d=null===c||void 0===c?void 0:c.total_admission_fees)&&void 0!==d?d:0]})]})]})]})})};var p=t(93638),h=t(55336),g=t(2651),x=t(65841),f=t(20659),j=t(26071),y=t(20293);const Z=e=>{var n,t,Z,S,N,b,I;let{onClose:C,hid:A,bid:k,cmid:F,selectedStructure:w,onSelectedStrucutre:P,title:D,oneStep:T,isAdmissionIntake:O,isOngoing:M}=e;const{t:E}=(0,a.$G)(),[R,U]=(0,o.useState)(""),[q,G]=(0,o.useState)(""),[L,Y]=(0,o.useState)(1),[z,H]=(0,o.useState)(!0),[J,B]=(0,d.YD)({skip:R}),[V,W]=(0,o.useState)(""),[$,K]=(0,o.useState)({intake_type:""}),[Q,X]=(0,o.useState)(""),{hostelFeeStructureList:ee,hostelFeeStructureListLoading:ne}=(0,y.x4)({data:{hid:A,page:L,limit:10,search:R,filterBy:F,batchBy:k},skip:!A});(0,o.useEffect)((()=>{B&&z&&Y((e=>e+1))}),[B,z]),(0,o.useEffect)((()=>{var e;if(null!==ee&&void 0!==ee&&null!==(e=ee.list)&&void 0!==e&&e.length){var n;let e=(0,l.f)(null===ee||void 0===ee||null===(n=ee.list)||void 0===n?void 0:n.length);H((()=>e))}}),[null===ee||void 0===ee||null===(n=ee.list)||void 0===n?void 0:n.length]);const te=e=>{T&&P(e),W(e)},ie=e=>{K((n=>({...n,intake_type:e})))};return(0,_.jsx)(_.Fragment,{children:V?(0,_.jsx)(c.Z,{onClose:C,children:(0,_.jsxs)("div",{className:s.Z.modal_container,children:[(0,_.jsx)(r.Z,{children:(0,_.jsxs)("div",{className:s.Z.modal_container_outer_header,children:[(0,_.jsx)("div",{className:s.Z.modal_container_header,children:(0,_.jsx)("h6",{children:E("fee_structure")})}),(0,_.jsx)("img",{src:"".concat(v.J7,"/close.svg"),alt:"close icon",onClick:()=>te("")})]})}),(0,_.jsx)(u.Z,{}),O?M&&(0,_.jsx)(r.Z,{customStyle:{paddingTop:"0.3rem"},children:(0,_.jsx)(f.Z,{label:"admission_intake_type",errorShow:Q.intake_type,children:null===x.ST||void 0===x.ST?void 0:x.ST.map((e=>(0,_.jsx)(j.Z,{tile:e,onTile:ie,activeTile:$.intake_type},null===e||void 0===e?void 0:e.key)))})}):null,(0,_.jsxs)(r.Z,{customStyle:{paddingTop:"0"},children:[(0,_.jsxs)("div",{className:s.Z.fee_middle_section,children:[(0,_.jsx)("p",{children:E("fee_structure_of_student_is")}),(0,_.jsx)("h6",{children:null===V||void 0===V||null===(N=V.category_master)||void 0===N?void 0:N.category_name}),(0,_.jsxs)("p",{children:[" ",E("total_admission_fees")," "," : "," ",E("rs")," ",(0,_.jsx)("span",{style:{fontWeight:"600"},children:null!==(b=null===V||void 0===V?void 0:V.total_admission_fees)&&void 0!==b?b:0})]}),(0,_.jsxs)("p",{children:[E("applicable_fees_amount")," "," : "," ",E("rs")," ",(0,_.jsx)("span",{style:{fontWeight:"600"},children:null!==(I=null===V||void 0===V?void 0:V.applicable_fees)&&void 0!==I?I:0})]})]}),(0,_.jsx)(p.Z,{label:"confirm",onAction:()=>{O?$.intake_type?P(V,$.intake_type):X({intake_type:"* required"}):P(V,$.intake_type)}})]})]})}):(0,_.jsx)(c.Z,{onClose:C,children:(0,_.jsxs)("div",{className:s.Z.modal_container,style:{maxWidth:"40rem"},children:[(0,_.jsx)(r.Z,{children:(0,_.jsxs)("div",{className:s.Z.modal_container_outer_header,children:[(0,_.jsx)("div",{className:s.Z.modal_container_header,children:(0,_.jsx)("h6",{children:E(null!==D&&void 0!==D?D:"edit_fees_structure")})}),(0,_.jsx)("img",{src:"".concat(v.J7,"/close.svg"),alt:"close icon",onClick:C})]})}),(0,_.jsx)(u.Z,{}),(0,_.jsxs)(r.Z,{customStyle:{paddingTop:"0.3rem"},children:[(0,_.jsxs)("div",{className:s.Z.fm_search_full_container_inner,style:{marginBottom:"0.6rem"},children:[(0,_.jsx)("input",{type:"text",placeholder:E("search"),className:s.Z.fm_search_full_container_inner,onChange:e=>{var n;!ne&&(null===ee||void 0===ee||null===(n=ee.list)||void 0===n?void 0:n.length)>=0&&G(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(Y((()=>1)),U(q))},value:q}),(0,_.jsx)("img",{src:"".concat(v.dB,"/navbar-search.svg"),alt:"search icon",className:s.Z.fm_search_full_icon})]}),null===ee||void 0===ee||null===(t=ee.list)||void 0===t?void 0:t.map(((e,n)=>{var t;return(null===ee||void 0===ee||null===(t=ee.list)||void 0===t?void 0:t.length)===n+1?(0,_.jsx)("div",{ref:J,children:(0,_.jsx)(m,{structure:e,selectedStructure:w,onSelect:te})},null===e||void 0===e?void 0:e._id):(0,_.jsx)(m,{structure:e,selectedStructure:w,onSelect:te},null===e||void 0===e?void 0:e._id)})),ne?R?(0,_.jsx)(h.Z,{}):(0,_.jsx)(_.Fragment,{children:1===L?(0,_.jsx)(h.Z,{}):(0,_.jsx)(i.Z,{})}):R?0===(null===ee||void 0===ee||null===(Z=ee.list)||void 0===Z?void 0:Z.length)&&(0,_.jsx)(g.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No fee structure found related this search."}):0===(null===ee||void 0===ee||null===(S=ee.list)||void 0===S?void 0:S.length)&&(0,_.jsx)(g.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No fee structure added."})]})]})})})}},75223:(e,n,t)=>{t.r(n),t.d(n,{default:()=>Ue});var i=t(43504),l=t(16871),o=t(43317),a=t(72791),d=t(39230),s=t(23441),c=t(91427),r=t(98684),u=t(56959),v=t(21348),_=t(90904),m=t(98967),p=t(63162),h=t(38857),g=t(16925),x=t(9490),f=t(75285),j=t(85794),y=t(55336),Z=t(93638),S=t(20293),N=t(80184);const b=e=>{var n,t,i,s,c,u,m,p,b,C,A,k,F;let{applicationDetail:w,onClose:P,applicationDetailApplicablePending:D}=e;const T=(0,l.TH)(),O=(0,l.UO)(),M=(0,l.s0)(),{t:E}=(0,d.$G)(),R=new Date,[U,q]=(0,a.useState)(!1),[G,L]=(0,a.useState)(!1),[Y,z]=(0,a.useState)(null===(n=R.toISOString())||void 0===n?void 0:n.substring(0,10)),[H,J]=(0,a.useState)({open:!1,msg:"",variant:"error"}),[B]=(0,S.ps)(),{admissionOngoingApplicationDailyCollect:V}=(0,o.Be)({data:{appId:null===w||void 0===w?void 0:w._id,valid_date:Y},skip:!(null!==w&&void 0!==w&&w._id)}),W=()=>{null!==w&&void 0!==w&&w._id&&(q((e=>!e)),B({appId:null===w||void 0===w?void 0:w._id}).then((e=>{var n;if(null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.complete_status){var t;let e="Institute"===(null===(t=T.state)||void 0===t?void 0:t.urlOffSet)?"/q/".concat(O.username,"/institute/member/admission?type=hostel-ongoing"):"/q/".concat(O.username,"/member/staff/admission?type=hostel-ongoing");M(e,{state:T.state})}else J({msg:null===e||void 0===e?void 0:e.data.message,open:!0,variant:"error"});P(),q((e=>!e))})).catch({}))};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(h.Z,{onClose:P,children:(0,N.jsxs)("div",{className:g.Z.modal_container,children:[(0,N.jsx)(v.Z,{children:(0,N.jsxs)("div",{className:g.Z.modal_container_outer_header,children:[(0,N.jsx)("div",{className:g.Z.modal_container_header,children:(0,N.jsx)("h6",{style:{cursor:"pointer",color:"#436dfa"},onClick:()=>L((e=>!e)),children:null===w||void 0===w?void 0:w.applicationName})}),(0,N.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:P})]})}),(0,N.jsx)(_.Z,{}),(0,N.jsxs)(v.Z,{customStyle:{paddingTop:"0"},children:[(0,N.jsx)(x.Z,{setValidDate:z}),G?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:f.Z.content2,children:[(0,N.jsxs)("div",{className:f.Z.appinforow,children:[(0,N.jsx)("h6",{children:E("total_received_application")}),(0,N.jsx)("h6",{children:null===w||void 0===w?void 0:w.receievedCount})]}),(0,N.jsxs)("div",{className:f.Z.appinforow,children:[(0,N.jsx)("h6",{children:E("total_selected_application")}),(0,N.jsx)("h6",{children:null===w||void 0===w?void 0:w.selectCount})]}),(0,N.jsxs)("div",{className:f.Z.appinforow,children:[(0,N.jsx)("h6",{children:E("total_confirmed_application")}),(0,N.jsx)("h6",{children:null===w||void 0===w?void 0:w.confirmCount})]}),(0,N.jsxs)("div",{className:f.Z.appinforow,children:[(0,N.jsx)("h6",{children:E("total_alloted_application")}),(0,N.jsx)("h6",{children:null===w||void 0===w?void 0:w.allotCount})]}),(0,N.jsxs)("div",{className:f.Z.appinforow,children:[(0,N.jsx)("h6",{children:E("total_cancelled_application")}),(0,N.jsx)("h6",{children:null===w||void 0===w?void 0:w.cancelCount})]})]}),(0,N.jsxs)("div",{className:f.Z.content3,children:[(0,N.jsxs)("div",{className:f.Z.appinforow1,children:[(0,N.jsx)("h6",{children:E("total_fees_received")}),(0,N.jsxs)("h6",{children:["Rs. ",null===w||void 0===w?void 0:w.collectedFeeCount]})]}),(0,N.jsxs)("div",{className:"".concat(f.Z.appinforow2," ").concat(f.Z.appinforowred),children:[(0,N.jsx)("h6",{children:E("total_fees_pending")}),(0,N.jsxs)("h6",{children:["Rs. ",null===w||void 0===w?void 0:w.remainingFee]})]}),(0,N.jsxs)("div",{className:"".concat(f.Z.appinforow2," ").concat(f.Z.appinforowred),children:[(0,N.jsx)("h6",{children:E("total_applicable_fees_pending")}),(0,N.jsxs)("h6",{children:["Rs. ",null!==D&&void 0!==D?D:0]})]}),I[null===(k=T.state)||void 0===k?void 0:k.isAuthorization]?null:(0,N.jsx)(N.Fragment,{children:null!==(F=T.state)&&void 0!==F&&F.role?null:(0,N.jsx)(Z.Z,{label:E("complete_application"),onAction:W})})]})]}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:f.Z.content2,children:[(0,N.jsxs)("div",{className:f.Z.appinforow,children:[(0,N.jsx)("h6",{children:E("total_received_application")}),(0,N.jsx)("h6",{children:null!==(t=null===V||void 0===V?void 0:V.request_count)&&void 0!==t?t:0})]}),(0,N.jsxs)("div",{className:f.Z.appinforow,children:[(0,N.jsx)("h6",{children:E("total_selected_application")}),(0,N.jsx)("h6",{children:null!==(i=null===V||void 0===V?void 0:V.select_count)&&void 0!==i?i:0})]}),(0,N.jsxs)("div",{className:f.Z.appinforow,children:[(0,N.jsx)("h6",{children:E("total_confirmed_application")}),(0,N.jsx)("h6",{children:null!==(s=null===V||void 0===V?void 0:V.confirm_count)&&void 0!==s?s:0})]}),(0,N.jsxs)("div",{className:f.Z.appinforow,children:[(0,N.jsx)("h6",{children:E("total_alloted_application")}),(0,N.jsx)("h6",{children:null!==(c=null===V||void 0===V?void 0:V.allot_count)&&void 0!==c?c:0})]}),(0,N.jsxs)("div",{className:f.Z.appinforow,children:[(0,N.jsx)("h6",{children:E("total_cancelled_application")}),(0,N.jsx)("h6",{children:null!==(u=null===V||void 0===V?void 0:V.cancel_count)&&void 0!==u?u:0})]})]}),(0,N.jsxs)("div",{className:f.Z.content3,children:[(0,N.jsxs)("div",{className:f.Z.appinforow1,children:[(0,N.jsx)("h6",{children:E("total_fees_received")}),(0,N.jsxs)("h6",{children:["Rs. ",null!==(m=null===V||void 0===V?void 0:V.paid)&&void 0!==m?m:0]})]}),(0,N.jsxs)("div",{className:"".concat(f.Z.appinforow2," ").concat(f.Z.appinforowred),children:[(0,N.jsx)("h6",{children:E("total_fees_pending")}),(0,N.jsxs)("h6",{children:["Rs. ",null!==(p=null===V||void 0===V?void 0:V.remain)&&void 0!==p?p:0]})]}),(0,N.jsxs)("div",{className:"".concat(f.Z.appinforow2," ").concat(f.Z.appinforowred),children:[(0,N.jsx)("h6",{children:E("total_applicable_fees_pending")}),(0,N.jsxs)("h6",{children:["Rs."," ",null!==(b=null===V||void 0===V?void 0:V.applicable_pending)&&void 0!==b?b:0]})]}),I[null===(C=T.state)||void 0===C?void 0:C.isAuthorization]?null:(0,N.jsx)(N.Fragment,{children:null!==(A=T.state)&&void 0!==A&&A.role?null:(0,N.jsx)(Z.Z,{label:E("complete_application"),onAction:W})})]})]})]})]})}),U&&(0,N.jsx)(y.Z,{}),(0,N.jsx)(j.Z,{eventState:H,eventStateHandler:J})]})},I={isCompleted:!0};var C=t(65841);const A=e=>{var n,t,o,d;let{applicationDetail:s,children:c}=e;const h=(0,l.TH)(),g=(0,l.UO)(),x=(0,l.s0)(),[f]=(0,i.lr)(),[j,y]=(0,a.useState)(""),Z=(0,a.useCallback)((()=>{var e,n,t;let i="";i=F[null===(e=h.state)||void 0===e?void 0:e.isAuthorization]?"Institute"===(null===(n=h.state)||void 0===n?void 0:n.urlOffSet)?"/q/".concat(g.username,"/institute/member/admission?type=complete"):"/q/".concat(g.username,"/member/staff/admission?type=complete"):"Institute"===(null===(t=h.state)||void 0===t?void 0:t.urlOffSet)?"/q/".concat(g.username,"/institute/member/admission?type=hostel-ongoing"):"/q/".concat(g.username,"/member/staff/admission?type=hostel-ongoing"),x(i,{state:h.state})}),[x,h.state,g.username]);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(v.Z,{children:(0,N.jsxs)("div",{className:u.Z.fm_header_container,children:[(0,N.jsxs)("div",{className:u.Z.fm_header_start_container,style:{gap:"0.2rem"},children:[(0,N.jsx)("img",{alt:"search icon",src:"".concat(r.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:Z}),(0,N.jsx)("h6",{children:null!==(n=null===(t=h.state)||void 0===t?void 0:t.applicationName)&&void 0!==n?n:""})]}),(0,N.jsxs)("div",{className:u.Z.fm_search,children:[(0,N.jsx)("img",{src:"".concat(r.U_,"/application-detail.svg"),alt:"icon",title:"Application details",onClick:()=>{y(1)}}),c]})]})}),(0,N.jsx)(_.Z,{}),null!==(o=h.state)&&void 0!==o&&o.subRole?(0,N.jsx)(m.Z,{children:C.IC[null===(d=h.state)||void 0===d?void 0:d.subRole].map((e=>{var n,t,i,l;return(0,N.jsx)(p.Z,{tab:e,isLink:!0,isActive:null===(n=e.groupIs)||void 0===n?void 0:n.includes(f.get("n")),parentState:h.state,url:"Institute"===(null===(t=h.state)||void 0===t?void 0:t.urlOffSet)?"/q/".concat(g.username,"/institute/member/admission?type=hostel-ongoing-detail").concat(e.urlKey):"/q/".concat(g.username,"/member/staff/admission?type=hostel-ongoing-detail").concat(e.urlKey),extraData:(null===(i=h.state)||void 0===i?void 0:i.applicationData)&&{count:null===(l=h.state)||void 0===l?void 0:l.applicationData[null===e||void 0===e?void 0:e.id]}},null===e||void 0===e?void 0:e.id)}))}):(0,N.jsx)(m.Z,{children:k.map((e=>{var n,t,i,l;return(0,N.jsx)(p.Z,{tab:e,isLink:!0,isActive:null===(n=e.groupIs)||void 0===n?void 0:n.includes(f.get("n")),parentState:h.state,url:"Institute"===(null===(t=h.state)||void 0===t?void 0:t.urlOffSet)?"/q/".concat(g.username,"/institute/member/admission?type=hostel-ongoing-detail").concat(e.urlKey):"/q/".concat(g.username,"/member/staff/admission?type=hostel-ongoing-detail").concat(e.urlKey),extraData:(null===(i=h.state)||void 0===i?void 0:i.applicationData)&&{count:null===(l=h.state)||void 0===l?void 0:l.applicationData[null===e||void 0===e?void 0:e.id]}},null===e||void 0===e?void 0:e.id)}))}),(0,N.jsx)(_.Z,{customStyleBorder:{marginTop:"0"}}),1===j?(0,N.jsx)(b,{applicationDetail:s,onClose:()=>{y("")}}):null]})},k=[{label:"application",id:"application",urlKey:"",groupIs:["",null]},{label:"docs_collection",id:"document",urlKey:"&n=document",groupIs:["document"]},{label:"fees_collection",id:"fees",urlKey:"&n=fees",groupIs:["fees"]},{label:"confirmed",id:"confirmed",urlKey:"&n=confirmed",groupIs:["confirmed","confirmed-multi"]},{label:"review",id:"review",urlKey:"&n=review",groupIs:["review","review-multi"]},{label:"allottment",id:"allottment",urlKey:"&n=allottment",groupIs:["allottment"]},{label:"cancelled",id:"cancelled",urlKey:"&n=cancelled",groupIs:["cancelled"]}],F={isCompleted:!0};var w=t(63687),P=t(2651),D=t(1669),T=t(1095),O=t(97892),M=t.n(O),E=t(23984),R=t(31697),U=t(99183),q=t(11468);const G=e=>{let{onClose:n,sid:t,appId:i,onRefetch:o,isProfile:s,setWhichSelect:c,staffID:u}=e;const{t:m}=(0,d.$G)(),p=(0,l.TH)(),[x,f]=(0,a.useState)(!1),[j,b]=(0,a.useState)(""),[I,C]=(0,a.useState)({reason:""}),[A]=(0,S.Cz)();return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(h.Z,{onClose:n,children:(0,N.jsxs)("div",{className:g.Z.modal_container,children:[(0,N.jsx)(v.Z,{children:(0,N.jsxs)("div",{className:g.Z.modal_container_outer_header,children:[(0,N.jsx)("div",{className:g.Z.modal_container_header,children:(0,N.jsx)("h6",{children:m("cancel_admission_application")})}),(0,N.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,N.jsx)(_.Z,{}),(0,N.jsxs)(v.Z,{customStyle:{paddingTop:"0"},children:[(0,N.jsx)(q.Z,{label:m("reason"),placeholder:m("please_enter_reject_reason"),name:"reason",value:I.reason,type:"text",onChange:e=>{C((n=>({...n,[e.target.name]:e.target.value})))},errorShow:j.reason}),(0,N.jsx)(Z.Z,{label:"confirm",onAction:()=>{let e=(0,U.l)(I);var l;(0,U.x)(e)?i&&t&&(f((e=>!e)),A({sid:t,appId:i,bodyParameter:{...I,staffId:u||(null===(l=p.state)||void 0===l?void 0:l.sid)}}).then((()=>{s?c(!1):o(),f((e=>!e)),n()})).catch((()=>{f((e=>!e))}))):b(e)}})]})]})}),x&&(0,N.jsx)(y.Z,{})]})},L=e=>{let{onClose:n,sid:t,appId:i,onRefetch:o,isProfile:s,setWhichSelect:c,staffID:u}=e;const{t:m}=(0,d.$G)(),p=(0,l.TH)(),[x,f]=(0,a.useState)(!1),[j,b]=(0,a.useState)(""),[I,C]=(0,a.useState)({reason:""}),[A]=(0,S.lw)();return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(h.Z,{onClose:n,children:(0,N.jsxs)("div",{className:g.Z.modal_container,children:[(0,N.jsx)(v.Z,{children:(0,N.jsxs)("div",{className:g.Z.modal_container_outer_header,children:[(0,N.jsx)("div",{className:g.Z.modal_container_header,children:(0,N.jsx)("h6",{children:m("cancel_admission_application_form_update")})}),(0,N.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,N.jsx)(_.Z,{}),(0,N.jsxs)(v.Z,{customStyle:{paddingTop:"0"},children:[(0,N.jsx)(q.Z,{label:m("reason"),placeholder:m("please_enter_reject_reason"),name:"reason",value:I.reason,type:"text",onChange:e=>{C((n=>({...n,[e.target.name]:e.target.value})))},errorShow:j.reason}),(0,N.jsx)(Z.Z,{label:"confirm",onAction:()=>{let e=(0,U.l)(I);var l;(0,U.x)(e)?i&&t&&(f((e=>!e)),A({sid:t,appId:i,bodyParameter:{...I,staffId:u||(null===(l=p.state)||void 0===l?void 0:l.sid)}}).then((()=>{s?c(!1):o(),f((e=>!e)),n()})).catch((()=>{f((e=>!e))}))):b(e)}})]})]})}),x&&(0,N.jsx)(y.Z,{})]})};var Y=t(45100),z=t(8959);const H=e=>{let{onClose:n,reason:t}=e;const{t:i}=(0,d.$G)();return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(h.Z,{onClose:n,children:(0,N.jsxs)("div",{className:g.Z.modal_container,children:[(0,N.jsx)(v.Z,{children:(0,N.jsxs)("div",{className:g.Z.modal_container_outer_header,children:[(0,N.jsx)("div",{className:g.Z.modal_container_header,children:(0,N.jsx)("h6",{children:i("cancel_admission_application_rejected_reason")})}),(0,N.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,N.jsx)(_.Z,{}),(0,N.jsx)(v.Z,{customStyle:{paddingTop:"0"},children:(0,N.jsx)(z.Z,{value:t})})]})})})};var J=t(82824);const B=e=>{let{onClose:n,studentId:t}=e;const{t:i}=(0,d.$G)(),{oneHostelApplicationStaffActionShow:l,oneHostelApplicationStaffActionShowLoading:o}=(0,S.gE)({data:{sid:t},skip:!t});return(0,N.jsx)(h.Z,{onClose:n,children:(0,N.jsxs)("div",{className:g.Z.modal_container,children:[(0,N.jsx)(v.Z,{children:(0,N.jsxs)("div",{className:g.Z.modal_container_outer_header,children:[(0,N.jsx)("div",{className:g.Z.modal_container_header,children:(0,N.jsx)("h6",{children:i("student_admission_logs")})}),(0,N.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,N.jsx)(_.Z,{}),(0,N.jsxs)(v.Z,{customStyle:{paddingTop:"0"},children:[(0,N.jsx)("div",{className:g.Z.card_container_inner,children:null===l||void 0===l?void 0:l.map(((e,n)=>{var t,l;return(0,N.jsxs)(a.Fragment,{children:[(0,N.jsxs)("h6",{children:[(0,N.jsxs)("span",{style:{fontWeight:"400"},children:[null===e||void 0===e?void 0:e.key," : "]}),null!==(t=null===e||void 0===e?void 0:e.value)&&void 0!==t?t:""]}),null!==e&&void 0!==e&&e.latest?(0,N.jsxs)("p",{children:[i("date_and_time"),": ",null===(l=M()(null===e||void 0===e?void 0:e.latest))||void 0===l?void 0:l.format("DD/MM/YYYY"),", ",(0,J.J)(null===e||void 0===e?void 0:e.latest,"LT")]}):null,(0,N.jsx)(_.Z,{})]},"".concat(null===e||void 0===e?void 0:e.key).concat(n))}))}),o&&(0,N.jsx)(D.Z,{}),0===(null===l||void 0===l?void 0:l.length)&&(0,N.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No logs."})]})]})})};var V=t(13421);const W=e=>{var n,t,i,o,s,c,u,v,_,m,p,h,g,x,j,Z,b,I,C,A,k,F,w,P,D,O,U,q,z,J,W,$,K;let{instituteId:Q,applicant:X,hid:ee,bid:ne,cmid:te,appId:ie,onRefetch:le,admissionIntake:oe}=e;const{t:ae}=(0,d.$G)(),de=(0,l.UO)(),se=(0,l.s0)(),ce=(0,l.TH)(),[re,ue]=(0,a.useState)(""),[ve,_e]=(0,a.useState)(!1),[me]=(0,S.jL)(),pe=(0,a.useCallback)((()=>{var e,n,t;se("/q/".concat(de.username,"/student/profile"),{state:{sid:null===X||void 0===X||null===(e=X.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:Q,whichUrl:"Institute"===(null===(n=ce.state)||void 0===n?void 0:n.urlOffSet)?"INSTITUTE":null,onlyReadView:null===(t=ce.state)||void 0===t?void 0:t.role}})}),[se,de.username,Q,null===X||void 0===X||null===(n=X.student)||void 0===n?void 0:n._id,ie,ee,ne,te]),he=()=>{ue("")};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:f.Z.oac_container,onClick:pe,title:"View Profile",children:[(0,N.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,N.jsx)("img",{alt:"Student Request Avatar",src:null!==X&&void 0!==X&&null!==(t=X.student)&&void 0!==t&&t.studentProfilePhoto?"".concat(T.yI,"/").concat(null===X||void 0===X||null===(i=X.student)||void 0===i?void 0:i.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,N.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,N.jsx)("h6",{children:"".concat(null!==(o=null===X||void 0===X||null===(s=X.student)||void 0===s?void 0:s.studentFirstName)&&void 0!==o?o:""," ").concat(null!==X&&void 0!==X&&null!==(c=X.student)&&void 0!==c&&c.studentMiddleName?null===X||void 0===X||null===(u=X.student)||void 0===u?void 0:u.studentMiddleName:""," ").concat(null!==(v=null===X||void 0===X||null===(_=X.student)||void 0===_?void 0:_.studentLastName)&&void 0!==v?v:"")}),(0,N.jsxs)("p",{children:[ae("form_no_only"),": ",null!==(m=null===X||void 0===X||null===(p=X.student)||void 0===p?void 0:p.form_no)&&void 0!==m?m:""]}),(0,N.jsxs)("p",{children:[ae("applied_on"),":"," ",M()(null===X||void 0===X?void 0:X.apply_on).format("DD MMM YYYY")]})]})]}),(0,N.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,N.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,N.jsx)("img",{src:"".concat(r.U_,"/gender.svg"),alt:"email icon"}),(0,N.jsx)("p",{children:null===X||void 0===X||null===(h=X.student)||void 0===h?void 0:h.studentGender})]}),(0,N.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,N.jsx)("img",{src:"".concat(r.U_,"/phone.svg"),alt:"phone icon"}),(0,N.jsx)("p",{children:null!==X&&void 0!==X&&null!==(g=X.student)&&void 0!==g&&null!==(x=g.user)&&void 0!==x&&x.userPhoneNumber?null===X||void 0===X||null===(j=X.student)||void 0===j||null===(Z=j.user)||void 0===Z?void 0:Z.userPhoneNumber:null!==X&&void 0!==X&&null!==(b=X.student)&&void 0!==b&&null!==(I=b.user)&&void 0!==I&&I.userEmail?null===X||void 0===X||null===(C=X.student)||void 0===C||null===(A=C.user)||void 0===A?void 0:A.userEmail:null!==X&&void 0!==X&&null!==(k=X.student)&&void 0!==k&&k.studentPhoneNumber?null===X||void 0===X||null===(F=X.student)||void 0===F?void 0:F.studentPhoneNumber:null!==X&&void 0!==X&&null!==(w=X.student)&&void 0!==w&&w.studentParentsPhoneNumber?null===X||void 0===X||null===(P=X.student)||void 0===P?void 0:P.studentParentsPhoneNumber:null!==(D=null===X||void 0===X||null===(O=X.student)||void 0===O?void 0:O.studentEmail)&&void 0!==D?D:""})]})]}),(0,N.jsxs)("div",{className:f.Z.oac_container_stuff,children:[(0,N.jsx)("a",{href:"".concat(T.q2,"/").concat(null===X||void 0===X||null===(U=X.student)||void 0===U||null===(q=U.application_print)||void 0===q||null===(z=q[0])||void 0===z?void 0:z.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,N.jsx)("img",{src:"".concat(r.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),"ONGOING_VIEW_ACCESS"===(null===(J=ce.state)||void 0===J?void 0:J.role)?null:(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(E.Z,{children:null!==X&&void 0!==X&&X.reject_status?(0,N.jsx)(Y.Z,{label:"rejection_reason",onAction:e=>{e.stopPropagation(),ue(4)},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px","--ccb-bg":"#e6686830","--ccb-b":"#ed4a4a","--ccb-text":"#f00b0b","--ccb-bg-h":"#eb3232","--ccb-text-h":"#ffffff",minWidth:"max-content",justifyContent:"center"}}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(R.Z,{label:"select",onAction:e=>{e.stopPropagation(),ue(1)},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}}),(0,N.jsx)(R.Z,{label:"reject",onAction:e=>{e.stopPropagation(),ue(2)},customStyle:{padding:"0.4rem 0.7rem",borderColor:"rgb(176 174 174)",fontSize:"13px",opacity:"0.9"}}),(0,N.jsx)(R.Z,{label:"edit_from",onAction:e=>{var n;e.stopPropagation(),se("/q/".concat(de.username,"/edit/student"),{state:{sid:null===X||void 0===X||null===(n=X.student)||void 0===n?void 0:n._id,openAs:"CLASS_TEACHER_SIDE",subTypeOpen:"ADMISSION_ADMIN",extraData:{regeneration_status:"Yes"}}})},customStyle:{padding:"0.4rem 0.7rem",borderColor:"rgb(176 174 174)",fontSize:"13px",opacity:"0.9"}}),(0,N.jsx)(R.Z,{label:"reject_insufficient",onAction:e=>{e.stopPropagation(),ue(3)},customStyle:{padding:"0.4rem 0.7rem",borderColor:"rgb(176 174 174)",fontSize:"13px",opacity:"0.9",minWidth:"max-content"}})]})})}),(0,N.jsx)("img",{src:"".concat(r.J7,"/menu.svg"),alt:"menu icon",onClick:e=>{e.stopPropagation(),ue(5)}})]})]}),1===re?(0,N.jsx)(V.Z,{title:"select_fee_structre_of_student",onClose:he,onSelectedStrucutre:(e,n)=>{var t;if(null!==X&&void 0!==X&&null!==(t=X.student)&&void 0!==t&&t._id&&ie&&null!==e&&void 0!==e&&e._id){var i;_e((e=>!e));let t=null;var l,o;if(null!==oe&&void 0!==oe&&oe.intake_visibility)t={fee_struct:null===e||void 0===e?void 0:e._id,staffId:null===(l=ce.state)||void 0===l?void 0:l.sid,intake_type:n};else t={fee_struct:null===e||void 0===e?void 0:e._id,staffId:null===(o=ce.state)||void 0===o?void 0:o.sid};me({sid:null===X||void 0===X||null===(i=X.student)||void 0===i?void 0:i._id,appId:ie,bodyParameter:t}).then((()=>{le(),he(),_e((e=>!e))})).catch((()=>{_e((e=>!e))}))}},hid:ee,bid:ne,cmid:te,isAdmissionIntake:null===oe||void 0===oe?void 0:oe.intake_visibility,isOngoing:!0}):2===re?(0,N.jsx)(G,{onClose:he,appId:ie,sid:null===X||void 0===X||null===(W=X.student)||void 0===W?void 0:W._id,onRefetch:le}):3===re?(0,N.jsx)(L,{onClose:he,appId:ie,sid:null===X||void 0===X||null===($=X.student)||void 0===$?void 0:$._id,onRefetch:le}):4===re?(0,N.jsx)(H,{onClose:he,reason:null===X||void 0===X?void 0:X.reject_status}):5===re?(0,N.jsx)(B,{onClose:he,studentId:null===X||void 0===X||null===(K=X.student)||void 0===K?void 0:K._id}):null,ve&&(0,N.jsx)(y.Z,{})]})};var $=t(49806),K=t(57588);const Q=e=>{var n,t,i,l,o,a,d,s,c;let{applicant:u,onSelect:v,applicantId:_}=e;return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{className:f.Z.oac_container,style:{justifyContent:"flex-start"},children:[(0,N.jsx)("img",{className:f.Z.department_checkbox,src:null!==_&&void 0!==_&&_.includes(null===u||void 0===u||null===(n=u.student)||void 0===n?void 0:n._id)?"".concat(r.U_,"/check.svg"):"".concat(r.U_,"/uncheck.svg"),alt:"check icon",onClick:()=>v(null===u||void 0===u?void 0:u.student)}),(0,N.jsxs)("div",{className:f.Z.oac_container_inner,style:{width:"100%"},children:[(0,N.jsx)("img",{alt:"Student Request Avatar",src:null!==u&&void 0!==u&&null!==(t=u.student)&&void 0!==t&&t.studentProfilePhoto?"".concat(T.yI,"/").concat(null===u||void 0===u||null===(i=u.student)||void 0===i?void 0:i.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,N.jsx)("div",{className:f.Z.oac_container_inner_info,children:(0,N.jsx)("h6",{children:"".concat(null!==(l=null===u||void 0===u||null===(o=u.student)||void 0===o?void 0:o.studentFirstName)&&void 0!==l?l:""," ").concat(null!==u&&void 0!==u&&null!==(a=u.student)&&void 0!==a&&a.studentMiddleName?null===u||void 0===u||null===(d=u.student)||void 0===d?void 0:d.studentMiddleName:""," ").concat(null!==(s=null===u||void 0===u||null===(c=u.student)||void 0===c?void 0:c.studentLastName)&&void 0!==s?s:"")})})]})]})})};var X=t(26192);const ee=e=>{var n,t,i,l,o,a;let{application:d,onSelect:s,selectedId:c,isList:u}=e;const v=()=>{s(d)};return(0,N.jsx)(N.Fragment,{children:u?(0,N.jsx)("div",{className:null!==c&&void 0!==c&&c.includes(null===d||void 0===d?void 0:d._id)?"".concat(X.Z.ongoing_card," ").concat(X.Z.ongoing_card_active):X.Z.ongoing_card,onClick:v,children:(0,N.jsxs)("div",{className:X.Z.ongoing_card_inner,children:[(0,N.jsx)("img",{alt:"Ongoing App",src:"".concat(r.U_,"/application.svg")}),(0,N.jsxs)("div",{className:X.Z.ongoing_card_text,children:[(0,N.jsx)("h6",{children:null!==(n=null===d||void 0===d?void 0:d.applicationName)&&void 0!==n?n:""}),(0,N.jsx)("p",{children:null!==(t=null===d||void 0===d||null===(i=d.applicationDepartment)||void 0===i?void 0:i.dName)&&void 0!==t?t:""})]})]})}):(0,N.jsx)("div",{className:c===(null===d||void 0===d?void 0:d._id)?"".concat(X.Z.ongoing_card," ").concat(X.Z.ongoing_card_active):X.Z.ongoing_card,onClick:v,children:(0,N.jsxs)("div",{className:X.Z.ongoing_card_inner,children:[(0,N.jsx)("img",{alt:"Ongoing App",src:"".concat(r.U_,"/application.svg")}),(0,N.jsxs)("div",{className:X.Z.ongoing_card_text,children:[(0,N.jsx)("h6",{children:null!==(l=null===d||void 0===d?void 0:d.applicationName)&&void 0!==l?l:""}),(0,N.jsx)("p",{children:null!==(o=null===d||void 0===d||null===(a=d.applicationDepartment)||void 0===a?void 0:a.dName)&&void 0!==o?o:""})]})]})})})},ne=e=>{var n,t,i,l;let{onClose:u,onSelect:m,aid:p,selectedId:g,isList:x,onDone:f,isMultiSelect:j}=e;const{t:S}=(0,d.$G)(),[b,I]=(0,a.useState)(""),[C,A]=(0,a.useState)(1),[k,F]=(0,a.useState)(!0),[w,T]=(0,s.YD)({skip:b}),{admissionOngoingApplication:O,admissionOngoingApplicationLoading:M}=(0,o.s5)({data:{aid:p,page:C,limit:j?1e3:10,search:b},skip:!p});(0,a.useEffect)((()=>{T&&k&&A((e=>e+1))}),[T,k]),(0,a.useEffect)((()=>{var e;if(null!==O&&void 0!==O&&null!==(e=O.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===O||void 0===O||null===(n=O.list)||void 0===n?void 0:n.length);F((()=>e))}}),[null===O||void 0===O||null===(n=O.list)||void 0===n?void 0:n.length]);const E=(0,a.useCallback)((0,K.J)((e=>{A((()=>1)),I(e)}),1500),[]);return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(h.Z,{children:(0,N.jsxs)("div",{className:$.Z.modal_container,children:[(0,N.jsx)(v.Z,{children:(0,N.jsxs)("div",{className:$.Z.modal_container_outer_header,children:[(0,N.jsx)("div",{className:$.Z.modal_container_header,children:(0,N.jsx)("h6",{children:S("ongoing_applications")})}),(0,N.jsxs)("div",{className:$.Z.modal_container_btn_container,children:[j&&(0,N.jsx)(Z.Z,{label:S("select"),count:null===g||void 0===g?void 0:g.length,onAction:f,customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,N.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:u,className:$.Z.close_icon})]})]})}),(0,N.jsx)(_.Z,{}),(0,N.jsxs)(v.Z,{customStyle:{paddingTop:"0"},children:[(0,N.jsxs)("div",{className:$.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,N.jsx)("input",{type:"text",placeholder:S("search"),className:$.Z.assign_search_input,onChange:e=>{e.target.value?E(e.target.value):(A((()=>1)),I(""))},style:{width:"100%"}}),(0,N.jsx)("img",{src:"".concat(r.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===O||void 0===O||null===(t=O.list)||void 0===t?void 0:t.map(((e,n)=>{var t;return(null===O||void 0===O||null===(t=O.list)||void 0===t?void 0:t.length)===n+1?(0,N.jsx)("div",{ref:w,children:(0,N.jsx)(ee,{application:e,onSelect:m,isList:x,selectedId:g})},null===e||void 0===e?void 0:e._id):(0,N.jsx)(ee,{application:e,onSelect:m,isList:x,selectedId:g},null===e||void 0===e?void 0:e._id)})),M?b?(0,N.jsx)(y.Z,{}):(0,N.jsx)(D.Z,{}):b?0===(null===O||void 0===O||null===(i=O.list)||void 0===i?void 0:i.length)&&(0,N.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No ongoing applications found related this search."}):0===(null===O||void 0===O||null===(l=O.list)||void 0===l?void 0:l.length)&&(0,N.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No ongoing applications list."})]})]})})})},te=e=>{var n;let{transferStudentObj:t,application:i,appId:l,transferApplicantId:s,onClose:c,onParentClose:u}=e;const{t:m}=(0,d.$G)(),[p,x]=(0,a.useState)(!1),[j]=(0,o.We)();return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(h.Z,{children:(0,N.jsxs)("div",{className:g.Z.modal_container,children:[(0,N.jsx)(v.Z,{children:(0,N.jsxs)("div",{className:g.Z.modal_container_outer_header,children:[(0,N.jsx)("div",{className:g.Z.modal_container_header,children:(0,N.jsx)("h6",{children:m("select_confirm_student")})}),(0,N.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:c,className:g.Z.close_icon})]})}),(0,N.jsx)(_.Z,{}),(0,N.jsxs)(v.Z,{customStyle:{paddingTop:"0"},children:[(0,N.jsxs)("div",{className:f.Z.admission_class_confirm,children:[m("transfering")," ",(0,N.jsx)("span",{style:{fontWeight:"600"},children:null===t||void 0===t?void 0:t.length})," ",m("students")," "," ",",",m("to")," ",(0,N.jsx)("span",{style:{fontWeight:"600"},children:null!==(n=null===i||void 0===i?void 0:i.applicationName)&&void 0!==n?n:""})]}),(0,N.jsx)(Z.Z,{label:"confirm",onAction:()=>{l&&null!==i&&void 0!==i&&i._id&&(null===t||void 0===t?void 0:t.length)>0&&(x((e=>!e)),j({appId:null===i||void 0===i?void 0:i._id,transferApplicantData:{app_array:s,oaid:l,student_array:t}}).then((()=>{x((e=>!e)),u()})).catch({}))}})]})]})}),p&&(0,N.jsx)(y.Z,{})]})},ie=e=>{var n,t,i,l;let{onClose:u,appId:m,aid:p}=e;const{t:g}=(0,d.$G)(),[x,f]=(0,a.useState)([]),[j,S]=(0,a.useState)([]),[b,I]=(0,a.useState)(1),[C,A]=(0,a.useState)(""),[k,F]=(0,a.useState)(""),[w,T]=(0,a.useState)(1),[O,M]=(0,a.useState)(!0),[E,R]=(0,s.YD)({skip:k}),{admissionOngoingApplicationReview:U,admissionOngoingApplicationReviewLoading:q}=(0,o._v)({data:{appId:m,page:w,limit:10,search:k},skip:!m});(0,a.useEffect)((()=>{R&&O&&T((e=>e+1))}),[R,O]),(0,a.useEffect)((()=>{var e;if(null!==U&&void 0!==U&&null!==(e=U.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===U||void 0===U||null===(n=U.list)||void 0===n?void 0:n.length);M((()=>e))}}),[null===U||void 0===U||null===(n=U.list)||void 0===n?void 0:n.length]);const G=(0,a.useCallback)((0,K.J)((e=>{T((()=>1)),F(e)}),1500),[]),L=e=>{if(null!==x&&void 0!==x&&x.includes(null===e||void 0===e?void 0:e._id))f((n=>null===n||void 0===n?void 0:n.filter((n=>n!==(null===e||void 0===e?void 0:e._id))))),S((n=>null===n||void 0===n?void 0:n.filter((n=>{var t;return(null===n||void 0===n?void 0:n.studentId)!==(null===e||void 0===e||null===(t=e.student)||void 0===t?void 0:t._id)}))));else{var n;let t={studentId:null===e||void 0===e||null===(n=e.student)||void 0===n?void 0:n._id,mode:null===e||void 0===e?void 0:e.payment_status,type:null===e||void 0===e?void 0:e.install_type,price:null===e||void 0===e?void 0:e.fee_remain};S((e=>[...e,t])),f((n=>[...n,null===e||void 0===e?void 0:e._id]))}};return(0,N.jsx)(N.Fragment,{children:1===b?(0,N.jsx)(h.Z,{children:(0,N.jsxs)("div",{className:$.Z.modal_container,children:[(0,N.jsx)(v.Z,{children:(0,N.jsxs)("div",{className:$.Z.modal_container_outer_header,children:[(0,N.jsx)("div",{className:$.Z.modal_container_header,children:(0,N.jsx)("h6",{children:g("select_confirm_student")})}),(0,N.jsxs)("div",{className:$.Z.modal_container_header,children:[(0,N.jsx)(Z.Z,{customStyle:{margin:0,padding:"0.2rem 0.5rem"},onAction:()=>{(null===x||void 0===x?void 0:x.length)>0&&I(2)},label:"select",count:null===x||void 0===x?void 0:x.length}),(0,N.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:u,className:$.Z.close_icon})]})]})}),(0,N.jsx)(_.Z,{}),(0,N.jsxs)(v.Z,{customStyle:{paddingTop:"0",marginBottom:"1rem"},children:[(0,N.jsxs)("div",{className:$.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,N.jsx)("input",{type:"text",placeholder:g("search"),className:$.Z.assign_search_input,onChange:e=>{e.target.value?G(e.target.value):(T((()=>1)),F(""))},style:{width:"100%"}}),(0,N.jsx)("img",{src:"".concat(r.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===U||void 0===U||null===(t=U.list)||void 0===t?void 0:t.map(((e,n)=>{var t;return(null===U||void 0===U||null===(t=U.list)||void 0===t?void 0:t.length)===n+1?(0,N.jsx)("div",{ref:E,children:(0,N.jsx)(Q,{applicant:{student:e},applicantId:x,onSelect:L})},null===e||void 0===e?void 0:e._id):(0,N.jsx)(Q,{applicant:{student:e},applicantId:x,onSelect:L},null===e||void 0===e?void 0:e._id)})),q?k?(0,N.jsx)(y.Z,{}):(0,N.jsx)(D.Z,{}):k?0===(null===U||void 0===U||null===(i=U.list)||void 0===i?void 0:i.length)&&(0,N.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===U||void 0===U||null===(l=U.list)||void 0===l?void 0:l.length)&&(0,N.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]})}):2===b?(0,N.jsx)(ne,{onSelect:e=>{A(e),I(3)},aid:p,onClose:()=>I(1)}):3===b?(0,N.jsx)(te,{transferApplicantId:x,transferStudentObj:j,appId:m,application:C,onClose:()=>I(2),onParentClose:u}):null})},le=e=>{var n,t;let{applicationDetail:i,isExportAccess:d,isAddAccess:s,isTransferAccess:c,instituteId:v,hid:_,onMultipleSelect:m,onResuffleToggle:p,isGenerateAccess:h,isFull:g,children:x}=e;const f=(0,l.TH)(),j=(0,l.UO)(),Z=(0,l.s0)(),[b,I]=(0,a.useState)(!1),[C,A]=(0,a.useState)(""),[k]=(0,S.lm)(),[F]=(0,o.rH)();return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(E.Z,{customStyle:{justifyContent:"space-between",marginBottom:"0.7rem"},children:g?(0,N.jsx)(N.Fragment,{children:(0,N.jsx)("div",{className:u.Z.fm_search_full,children:(0,N.jsx)("section",{className:u.Z.fm_search_full_container,children:(0,N.jsxs)("div",{className:u.Z.fm_search_full_container_inner,children:[(0,N.jsx)("img",{className:u.Z.fm_search_full_icon,alt:"search icon",src:"".concat(r.dB,"/navbar-search.svg")}),x]})})})}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("section",{className:u.Z.fm_search_container,children:(0,N.jsxs)("div",{className:u.Z.fm_search_container_inner,children:[(0,N.jsx)("img",{className:u.Z.fm_search_icon,alt:"search icon",src:"".concat(r.dB,"/navbar-search.svg")}),x]})}),(0,N.jsxs)("div",{className:u.Z.fm_other_admission,children:[oe[d]&&(0,N.jsx)("img",{src:"".concat(r.J7,"/export.svg"),alt:"icon",title:"List Export",onClick:()=>{var e;null!==(e=f.state)&&void 0!==e&&e.appId&&oe[d]&&(I((e=>!e)),k({appId:null===i||void 0===i?void 0:i._id,flow:d,bodyParameter:{flow:d}}).then((()=>{var e;I((e=>!e));let n="Institute"===(null===(e=f.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(j.username,"/institute/member/admission?type=hostel-export"):"/q/".concat(j.username,"/member/staff/admission?type=hostel-export");Z(n,{state:f.state})})).catch({}))}}),de[d]&&!ae[null===(n=f.state)||void 0===n?void 0:n.isAuthorization]&&(0,N.jsx)(N.Fragment,{children:"ONGOING_VIEW_ACCESS"===(null===(t=f.state)||void 0===t?void 0:t.role)?null:(0,N.jsx)("img",{src:"".concat(r.U_,"/mutliple.svg"),alt:"icon",title:"Multiple Select",onClick:m})})]})]})}),2===C?(0,N.jsx)(ie,{onClose:()=>{A("")},instituteId:v,appId:null===i||void 0===i?void 0:i._id,hid:_}):null,b&&(0,N.jsx)(y.Z,{})]})},oe={APPLICATION:!0,Review:!0,Request_Query:!0,Confirm_Query:!0,Review_Query:!0,Allot_Query:!0,Docs_Query:!0,Fees_Query:!0},ae={isCompleted:!0},de={Confirm:!0,Confirm_Query:!0,Review_Query:!0},se=e=>{var n,t,i,r,u,_;let{applicationDetail:m,instituteId:p,hid:h}=e;const{t:g}=(0,d.$G)(),x=(0,l.TH)(),[f,j]=(0,a.useState)(""),[Z,S]=(0,a.useState)(""),[b,I]=(0,a.useState)(1),[C,k]=(0,a.useState)(!0),[F,T]=(0,s.YD)({skip:f}),{admissionOngoingApplicationRequest:O,admissionOngoingApplicationRequestLoading:M,admissionOngoingApplicationRequestRefetch:E}=(0,o.ws)({data:{appId:null===(n=x.state)||void 0===n?void 0:n.appId,page:b,limit:10,search:f},skip:!(null!==(t=x.state)&&void 0!==t&&t.appId)});(0,a.useEffect)((()=>{T&&C&&I((e=>e+1))}),[T,C]),(0,a.useEffect)((()=>{var e;if(null!==O&&void 0!==O&&null!==(e=O.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===O||void 0===O||null===(n=O.list)||void 0===n?void 0:n.length);k((()=>e))}}),[null===O||void 0===O||null===(i=O.list)||void 0===i?void 0:i.length]);const R=(0,a.useCallback)((()=>{I((()=>1)),E()}),[]);return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)(w.default,{children:[(0,N.jsx)(A,{applicationDetail:m}),(0,N.jsxs)(v.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,N.jsx)(le,{applicationDetail:m,instituteId:p,isAddAccess:"APPLICATION",isExportAccess:"Request_Query",hid:h,isGenerateAccess:"Request_Query",children:(0,N.jsx)("input",{type:"text",placeholder:g("search_applicants"),onChange:e=>{var n;!M&&(null===O||void 0===O||null===(n=O.list)||void 0===n?void 0:n.length)>=0&&S(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(I((()=>1)),j(Z))},value:Z})}),null===O||void 0===O||null===(r=O.list)||void 0===r?void 0:r.map(((e,n)=>{var t,i,l,o,a,d,s;return(null===O||void 0===O||null===(t=O.list)||void 0===t?void 0:t.length)===n+1?(0,N.jsx)("div",{ref:F,children:(0,N.jsx)(W,{applicant:e,instituteId:p,hid:h,bid:null===m||void 0===m||null===(i=m.applicationBatch)||void 0===i?void 0:i._id,cmid:null===m||void 0===m||null===(l=m.applicationMaster)||void 0===l?void 0:l._id,onRefetch:R,appId:null===(o=x.state)||void 0===o?void 0:o.appId,admissionIntake:null===m||void 0===m?void 0:m.admission_intake})},null===e||void 0===e?void 0:e._id):(0,N.jsx)(W,{applicant:e,instituteId:p,hid:h,bid:null===m||void 0===m||null===(a=m.applicationBatch)||void 0===a?void 0:a._id,cmid:null===m||void 0===m||null===(d=m.applicationMaster)||void 0===d?void 0:d._id,onRefetch:R,appId:null===(s=x.state)||void 0===s?void 0:s.appId,admissionIntake:null===m||void 0===m?void 0:m.admission_intake},null===e||void 0===e?void 0:e._id)})),M?f?(0,N.jsx)(y.Z,{}):(0,N.jsx)(N.Fragment,{children:1===b?(0,N.jsx)(y.Z,{}):(0,N.jsx)(D.Z,{})}):f?0===(null===O||void 0===O||null===(u=O.list)||void 0===u?void 0:u.length)&&(0,N.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No hostel admission requests found related this search."}):0===(null===O||void 0===O||null===(_=O.list)||void 0===_?void 0:_.length)&&(0,N.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No hostel admission request list."})]})]})})},ce=e=>{var n,t,i,o,s,c;let{onClose:u,applicant:m,appId:p,onRefetch:x,admissionDocsCollect:f}=e;const{t:j}=(0,d.$G)(),b=(0,l.TH)(),[I,C]=(0,a.useState)({listId:[],lsit:[]}),[A,k]=(0,a.useState)(!1),[F]=(0,S.lP)();return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(h.Z,{onClose:u,children:(0,N.jsxs)("div",{className:g.Z.modal_container,style:{minWidth:"48rem",maxWidth:"48rem"},children:[(0,N.jsx)(v.Z,{children:(0,N.jsxs)("div",{className:g.Z.modal_container_outer_header,children:[(0,N.jsx)("div",{className:g.Z.modal_container_header,children:(0,N.jsx)("h6",{children:j("collect_required_document")})}),(0,N.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:u})]})}),(0,N.jsx)(_.Z,{}),(0,N.jsxs)(v.Z,{customStyle:{paddingTop:"0"},children:[(0,N.jsxs)("div",{className:g.Z.modal_container_header,style:{flexDirection:"column"},children:[(0,N.jsx)("p",{children:j("collecting_documents_of_student")}),(0,N.jsx)("h6",{children:"".concat(null!==(n=null===m||void 0===m||null===(t=m.student)||void 0===t?void 0:t.studentFirstName)&&void 0!==n?n:""," ").concat(null!==m&&void 0!==m&&null!==(i=m.student)&&void 0!==i&&i.studentMiddleName?null===m||void 0===m||null===(o=m.student)||void 0===o?void 0:o.studentMiddleName:""," ").concat(null!==(s=null===m||void 0===m||null===(c=m.student)||void 0===c?void 0:c.studentLastName)&&void 0!==s?s:"")})]}),(0,N.jsx)(Z.Z,{label:"confirm",onAction:()=>{var e;if(null!==m&&void 0!==m&&null!==(e=m.student)&&void 0!==e&&e._id&&p&&null!==m&&void 0!==m&&m._id&&null!==m&&void 0!==m&&m.revert_request_status){var n,t;k((e=>!e));let e=[];f&&(e=I.lsit),F({sid:null===m||void 0===m||null===(n=m.student)||void 0===n?void 0:n._id,appId:p,document:{nest:null===m||void 0===m?void 0:m._id,revert_status:null===m||void 0===m?void 0:m.revert_request_status,staffId:null===(t=b.state)||void 0===t?void 0:t.sid,collect_docs:e}}).then((()=>{x(),k((e=>!e)),u()})).catch((()=>{k((e=>!e))}))}}})]})]})}),A&&(0,N.jsx)(y.Z,{})]})},re=e=>{var n,t,i,o,s,c,u,v,_,m,p,h,g,x,j,Z,b,I,C,A,k,F,w,P,D,O,E,U,q,G,L,Y,z,H,J,W,$,K,Q,X;let{instituteId:ee,applicant:ne,hid:te,bid:ie,cmid:le,appId:oe,onRefetch:ae,admissionDocsCollect:de}=e;const{t:se}=(0,d.$G)(),re=(0,l.UO)(),ue=(0,l.s0)(),ve=(0,l.TH)(),[_e,me]=(0,a.useState)(0),[pe,he]=(0,a.useState)(!1),[ge]=(0,S.Yu)(),[xe]=(0,S.vz)(),fe=(0,a.useCallback)((()=>{var e,n,t;ue("/q/".concat(re.username,"/student/profile"),{state:{sid:null===ne||void 0===ne||null===(e=ne.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:ee,whichUrl:"Institute"===(null===(n=ve.state)||void 0===n?void 0:n.urlOffSet)?"INSTITUTE":null,onlyReadView:null===(t=ve.state)||void 0===t?void 0:t.role}})}),[ee,null===ne||void 0===ne||null===(n=ne.student)||void 0===n?void 0:n._id]),je=()=>{me("")};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:f.Z.oac_container,onClick:fe,title:"View Profile",children:[(0,N.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,N.jsx)("img",{alt:"Student Request Avatar",src:null!==ne&&void 0!==ne&&null!==(t=ne.student)&&void 0!==t&&t.studentProfilePhoto?"".concat(T.yI,"/").concat(null===ne||void 0===ne||null===(i=ne.student)||void 0===i?void 0:i.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,N.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,N.jsx)("h6",{children:"".concat(null!==(o=null===ne||void 0===ne||null===(s=ne.student)||void 0===s?void 0:s.studentFirstName)&&void 0!==o?o:""," ").concat(null!==ne&&void 0!==ne&&null!==(c=ne.student)&&void 0!==c&&c.studentMiddleName?null===ne||void 0===ne||null===(u=ne.student)||void 0===u?void 0:u.studentMiddleName:""," ").concat(null!==(v=null===ne||void 0===ne||null===(_=ne.student)||void 0===_?void 0:_.studentLastName)&&void 0!==v?v:"")}),(0,N.jsxs)("h6",{children:[se("fee_structure")," : ",null!==(m=null===ne||void 0===ne||null===(p=ne.student)||void 0===p||null===(h=p.hostel_fee_structure)||void 0===h||null===(g=h.category_master)||void 0===g?void 0:g.category_name)&&void 0!==m?m:"",", ",se("rs_only")," ",null!==(x=null===ne||void 0===ne||null===(j=ne.student)||void 0===j||null===(Z=j.hostel_fee_structure)||void 0===Z?void 0:Z.applicable_fees)&&void 0!==x?x:""]}),(0,N.jsxs)("p",{children:[se("form_no_only"),": ",null!==(b=null===ne||void 0===ne||null===(I=ne.student)||void 0===I?void 0:I.form_no)&&void 0!==b?b:""]}),(0,N.jsx)("p",{children:null!==ne&&void 0!==ne&&ne.install_type?null===ne||void 0===ne?void 0:ne.install_type:"\n          ".concat(se("select_on"),":\n          ").concat(M()(null===ne||void 0===ne?void 0:ne.select_on).format("DD MMM YYYY"))})]})]}),(0,N.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,N.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,N.jsx)("img",{src:"".concat(r.U_,"/gender.svg"),alt:"email icon"}),(0,N.jsx)("p",{children:null===ne||void 0===ne||null===(C=ne.student)||void 0===C?void 0:C.studentGender})]}),(0,N.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,N.jsx)("img",{src:"".concat(r.U_,"/phone.svg"),alt:"phone icon"}),(0,N.jsx)("p",{children:null!==ne&&void 0!==ne&&null!==(A=ne.student)&&void 0!==A&&null!==(k=A.user)&&void 0!==k&&k.userPhoneNumber?null===ne||void 0===ne||null===(F=ne.student)||void 0===F||null===(w=F.user)||void 0===w?void 0:w.userPhoneNumber:null!==ne&&void 0!==ne&&null!==(P=ne.student)&&void 0!==P&&null!==(D=P.user)&&void 0!==D&&D.userEmail?null===ne||void 0===ne||null===(O=ne.student)||void 0===O||null===(E=O.user)||void 0===E?void 0:E.userEmail:null!==ne&&void 0!==ne&&null!==(U=ne.student)&&void 0!==U&&U.studentPhoneNumber?null===ne||void 0===ne||null===(q=ne.student)||void 0===q?void 0:q.studentPhoneNumber:null!==ne&&void 0!==ne&&null!==(G=ne.student)&&void 0!==G&&G.studentParentsPhoneNumber?null===ne||void 0===ne||null===(L=ne.student)||void 0===L?void 0:L.studentParentsPhoneNumber:null!==(Y=null===ne||void 0===ne||null===(z=ne.student)||void 0===z?void 0:z.studentEmail)&&void 0!==Y?Y:""})]})]}),(0,N.jsxs)("div",{className:f.Z.oac_container_stuff,style:{width:"27%"},children:[(0,N.jsx)("a",{href:"".concat(T.q2,"/").concat(null===ne||void 0===ne||null===(H=ne.student)||void 0===H||null===(J=H.application_print)||void 0===J||null===(W=J[0])||void 0===W?void 0:W.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,N.jsx)("img",{src:"".concat(r.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),"ONGOING_VIEW_ACCESS"===(null===($=ve.state)||void 0===$?void 0:$.role)?null:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("img",{src:"".concat(r.J7,"/edit.svg"),alt:"edit icon",onClick:e=>{e.stopPropagation(),me(1)}}),(0,N.jsx)("img",{src:"".concat(r.U_,"/undo.svg"),alt:"undo icon",style:{width:"30px",height:"30px"},onClick:e=>{var n,t,i;(e.stopPropagation(),null!==ne&&void 0!==ne&&null!==(n=ne.student)&&void 0!==n&&n._id&&oe&&null!==ne&&void 0!==ne&&ne.revert_request_status)&&(he((e=>!e)),xe({sid:null===ne||void 0===ne||null===(t=ne.student)||void 0===t?void 0:t._id,appId:oe,revert:{statusId:null===ne||void 0===ne?void 0:ne.revert_request_status,staffId:null===(i=ve.state)||void 0===i?void 0:i.sid}}).then((()=>{ae(),he((e=>!e))})).catch((()=>{he((e=>!e))})))},title:"Undo Application"}),(0,N.jsx)(R.Z,{label:"collect_docs",onAction:e=>{e.stopPropagation(),me(2)},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}})]}),(0,N.jsx)("img",{src:"".concat(r.J7,"/menu.svg"),alt:"menu icon",onClick:e=>{e.stopPropagation(),me(3)}})]})]}),1===_e?(0,N.jsx)(V.Z,{onClose:je,onSelectedStrucutre:e=>{var n,t,i;null!==ne&&void 0!==ne&&null!==(n=ne.student)&&void 0!==n&&n._id&&oe&&null!==e&&void 0!==e&&e._id&&(he((e=>!e)),ge({sid:null===ne||void 0===ne||null===(t=ne.student)||void 0===t?void 0:t._id,appId:oe,applicant:{fee_struct:null===e||void 0===e?void 0:e._id,staffId:null===(i=ve.state)||void 0===i?void 0:i.sid}}).then((()=>{ae(),je(),he((e=>!e))})).catch((()=>{he((e=>!e))})))},hid:te,bid:ie,cmid:le,selectedStructure:null===ne||void 0===ne||null===(K=ne.student)||void 0===K||null===(Q=K.hostel_fee_structure)||void 0===Q?void 0:Q._id}):2===_e?(0,N.jsx)(ce,{onClose:je,onRefetch:ae,applicant:ne,appId:oe,admissionDocsCollect:de,hid:te}):3===_e?(0,N.jsx)(B,{onClose:je,studentId:null===ne||void 0===ne||null===(X=ne.student)||void 0===X?void 0:X._id}):null,pe&&(0,N.jsx)(y.Z,{})]})},ue=e=>{var n,t,i,r,u,_;let{applicationDetail:m,instituteId:p,hid:h}=e;const{t:g}=(0,d.$G)(),x=(0,l.TH)(),[f,j]=(0,a.useState)(""),[Z,S]=(0,a.useState)(""),[b,I]=(0,a.useState)(1),[C,k]=(0,a.useState)(!0),[F,T]=(0,s.YD)({skip:f}),{admissionOngoingApplicationDocument:O,admissionOngoingApplicationDocumentLoading:M,admissionOngoingApplicationDocumentRefetch:E}=(0,o.Zx)({data:{appId:null===(n=x.state)||void 0===n?void 0:n.appId,page:b,limit:10,search:f},skip:!(null!==(t=x.state)&&void 0!==t&&t.appId)});(0,a.useEffect)((()=>{T&&C&&I((e=>e+1))}),[T,C]),(0,a.useEffect)((()=>{var e;if(null!==O&&void 0!==O&&null!==(e=O.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===O||void 0===O||null===(n=O.list)||void 0===n?void 0:n.length);k((()=>e))}}),[null===O||void 0===O||null===(i=O.list)||void 0===i?void 0:i.length]);const R=(0,a.useCallback)((()=>{I((()=>1)),E()}),[]);return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)(w.default,{children:[(0,N.jsx)(A,{applicationDetail:m}),(0,N.jsxs)(v.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,N.jsx)(le,{applicationDetail:m,instituteId:p,isExportAccess:"Docs_Query",hid:h,isGenerateAccess:"Docs_Query",children:(0,N.jsx)("input",{type:"text",placeholder:g("search_applicants"),onChange:e=>{var n;!M&&(null===O||void 0===O||null===(n=O.list)||void 0===n?void 0:n.length)>=0&&S(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(I((()=>1)),j(Z))},value:Z})}),null===O||void 0===O||null===(r=O.list)||void 0===r?void 0:r.map(((e,n)=>{var t,i,l,o,a,d,s;return(null===O||void 0===O||null===(t=O.list)||void 0===t?void 0:t.length)===n+1?(0,N.jsx)("div",{ref:F,children:(0,N.jsx)(re,{applicant:e,instituteId:p,hid:h,bid:null===m||void 0===m||null===(i=m.applicationBatch)||void 0===i?void 0:i._id,cmid:null===m||void 0===m||null===(l=m.applicationMaster)||void 0===l?void 0:l._id,onRefetch:R,appId:null===(o=x.state)||void 0===o?void 0:o.appId,admissionDocsCollect:null===m||void 0===m?void 0:m.collect_docs})},null===e||void 0===e?void 0:e._id):(0,N.jsx)(re,{applicant:e,instituteId:p,hid:h,bid:null===m||void 0===m||null===(a=m.applicationBatch)||void 0===a?void 0:a._id,cmid:null===m||void 0===m||null===(d=m.applicationMaster)||void 0===d?void 0:d._id,onRefetch:R,appId:null===(s=x.state)||void 0===s?void 0:s.appId,admissionDocsCollect:null===m||void 0===m?void 0:m.collect_docs},null===e||void 0===e?void 0:e._id)})),M?f?(0,N.jsx)(y.Z,{}):(0,N.jsx)(N.Fragment,{children:1===b?(0,N.jsx)(y.Z,{}):(0,N.jsx)(D.Z,{})}):f?0===(null===O||void 0===O||null===(u=O.list)||void 0===u?void 0:u.length)&&(0,N.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No hostel admission applicants found related this search."}):0===(null===O||void 0===O||null===(_=O.list)||void 0===_?void 0:_.length)&&(0,N.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No hostel admission applicants list."})]})]})})};var ve=t(61055),_e=t(60924),me=t(43997),pe=t(50518),he=t(20659),ge=t(26071),xe=t(7562),fe=t(60307),je=t(71439),ye=t(64499);const Ze=e=>{var n,t,i,l,o,s,c,u;let{onClose:m,applicant:p,appId:x,onRefetch:f}=e;const{t:y}=(0,d.$G)(),[Z,S]=(0,a.useState)({open:!1,msg:"",variant:"error"}),[b,I]=(0,a.useState)(null),{studentAdmissionFeeList:C,studentAdmissionFeeListRefetch:A}=(0,fe.Wb)({sid:null===p||void 0===p||null===(n=p.student)||void 0===n?void 0:n._id,skip:!(null!==p&&void 0!==p&&null!==(t=p.student)&&void 0!==t&&t._id)});(0,a.useEffect)((()=>{if(C)for(let c of C){var e,n,t,i,l,o,a,d,s;if((null===c||void 0===c||null===(e=c.appId)||void 0===e?void 0:e._id)===x)if(null!==c&&void 0!==c&&null!==(n=c.applicable_card)&&void 0!==n&&null!==(t=n.remaining_array)&&void 0!==t&&null!==(i=t[0])&&void 0!==i&&null!==(l=i.fee_receipt)&&void 0!==l&&l.receipt_file)I(null===c||void 0===c||null===(o=c.applicable_card)||void 0===o||null===(a=o.remaining_array)||void 0===a||null===(d=a[0])||void 0===d||null===(s=d.fee_receipt)||void 0===s?void 0:s.receipt_file),S({open:!1,msg:"",variant:"error"})}}),[C]);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(h.Z,{onClose:()=>{},children:(0,N.jsxs)("div",{className:g.Z.modal_container,children:[(0,N.jsx)(v.Z,{children:(0,N.jsxs)("div",{className:g.Z.modal_container_outer_header,children:[(0,N.jsx)("div",{className:g.Z.modal_container_header,children:(0,N.jsx)("h6",{children:y("collect_fees_successfully")})}),(0,N.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:m})]})}),(0,N.jsx)(_.Z,{}),(0,N.jsxs)(v.Z,{customStyle:{paddingTop:"0"},children:[(0,N.jsxs)("div",{className:g.Z.modal_container_header,style:{flexDirection:"column",gap:"0"},children:[(0,N.jsx)("p",{style:{marginBottom:"0.5rem"},children:y("payment_of_student")}),(0,N.jsx)("h6",{children:"".concat(null!==(i=null===p||void 0===p||null===(l=p.student)||void 0===l?void 0:l.studentFirstName)&&void 0!==i?i:""," ").concat(null!==p&&void 0!==p&&null!==(o=p.student)&&void 0!==o&&o.studentMiddleName?null===p||void 0===p||null===(s=p.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null!==(c=null===p||void 0===p||null===(u=p.student)||void 0===u?void 0:u.studentLastName)&&void 0!==c?c:"")})]}),b?(0,N.jsx)("a",{href:"".concat(T.q2,"/").concat(b),target:"_blank",rel:"noopener noreferrer",onClick:f,children:(0,N.jsx)(Y.Z,{label:y("view_receipt"),customStyle:{"--ccb-bg":"#def3e1","--ccb-b":"#008000","--ccb-text":"#008000","--ccb-bg-h":"#def3e1","--ccb-text-h":"#008000",justifyContent:"Center",marginBlock:"1rem"}})}):(0,N.jsx)(Y.Z,{label:y("view_receipt"),onAction:()=>{b||(S({open:!0,msg:"Fee receipt generating in process. Please try after some time.",variant:"error"}),A())},customStyle:{"--ccb-bg":"#def3e1","--ccb-b":"#008000","--ccb-text":"#008000","--ccb-bg-h":"#def3e1","--ccb-text-h":"#008000",justifyContent:"Center",marginBlock:"1rem"}})]})]})}),(0,N.jsx)(j.Z,{eventState:Z,eventStateHandler:S})]})},Se=e=>{var n,t,i,o,s,c,u,m,p,x,f,b,I,C,A;let{onClose:k,applicant:F,appId:w,onRefetch:P,financeId:D}=e;const{t:T}=(0,d.$G)(),O=(0,l.TH)(),[M,E]=(0,a.useState)(!1),R=(0,l.UO)(),[q,G]=(0,a.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:"",pay_remain:!1}),[L,Y]=(0,a.useState)(0),[z,H]=(0,a.useState)(""),[J,B]=(0,a.useState)({open:!1,msg:"",variant:"error"}),[V,W]=(0,a.useState)(0),[$,K]=(0,a.useState)({amount:0,type:"Admission",isTransaction:!1,pay_remain:!1}),{studentInstituteCharges:Q}=(0,fe.xY)({data:{id:null===F||void 0===F||null===(n=F.app_card)||void 0===n||null===(t=n.remaining_array)||void 0===t||null===(i=t[0])||void 0===i?void 0:i.instituteId},skip:!(null!==F&&void 0!==F&&null!==(o=F.app_card)&&void 0!==o&&null!==(s=o.remaining_array)&&void 0!==s&&null!==(c=s[0])&&void 0!==c&&c.instituteId)}),[X]=(0,S.bo)(),[ee]=(0,fe.zJ)();(0,a.useEffect)((()=>{var e,n,t;null!==F&&void 0!==F&&null!==(e=F.app_card)&&void 0!==e&&e.applicable_fee&&(G((e=>{var n,t;return{...e,amount:+(null===F||void 0===F||null===(n=F.app_card)||void 0===n?void 0:n.applicable_fee),fee_payment_amount:+(null===F||void 0===F||null===(t=F.app_card)||void 0===t?void 0:t.applicable_fee)}})),K({amount:null!==(n=+(null===F||void 0===F||null===(t=F.app_card)||void 0===t?void 0:t.applicable_fee))&&void 0!==n?n:0,type:"Admission",isTransaction:!1,pay_remain:!1}))}),[null===F||void 0===F||null===(u=F.app_card)||void 0===u?void 0:u.applicable_fee]);const ne=e=>{G((n=>({...n,[e.target.name]:e.target.value})))},te=e=>{G((n=>({...n,pay_remain:e})));let n=0;if(e){let e=0;for(let n of null===F||void 0===F||null===(t=F.app_card)||void 0===t?void 0:t.remaining_array){var t;"Paid"!==(null===n||void 0===n?void 0:n.status)&&(e+=null===n||void 0===n?void 0:n.remainAmount)}Y(e),n=e}K(n>0?t=>({...t,pay_remain:e,amount:n}):n=>({...n,pay_remain:e}))};return(0,N.jsx)(N.Fragment,{children:1===V?(0,N.jsx)(Ze,{applicant:F,onClose:k,appId:w,onRefetch:P}):(0,N.jsxs)(N.Fragment,{children:[$.isTransaction?(0,N.jsx)(je.Z,{onClose:k,allContent:{...$,platform_charges:null===Q||void 0===Q||null===(m=Q.platform_charges)||void 0===m?void 0:m.percentage},checkoutAdmissionHandler:()=>{var e,n,t,i,l,o,a,d,s,c,r,u,v,_,m,p,h,g,x,f,j,y,Z,S,N,b;let I=2.1*+(null===$||void 0===$?void 0:$.amount)/100,C=I+18*+I/100;const A=parseInt(null===$||void 0===$?void 0:$.amount);var k=Math.ceil(A+ +C.toFixed(2));(0,ye.oU)({amount:null!==(e=+(null===$||void 0===$?void 0:$.amount))&&void 0!==e?e:10,amount_nocharges:null!==(n=+k)&&void 0!==n?n:0,type:"Hostel",paidBy:"".concat(null===F||void 0===F||null===(t=F.student)||void 0===t?void 0:t._id),paidTo:"".concat(null===F||void 0===F||null===(i=F.app_card)||void 0===i||null===(l=i.remaining_array)||void 0===l||null===(o=l[0])||void 0===o?void 0:o.instituteId),moduleId:"".concat(null===F||void 0===F||null===(a=F.app_card)||void 0===a||null===(d=a.remaining_array)||void 0===d||null===(s=d[0])||void 0===s?void 0:s.appId),ad_status_id:null,payment_installment:null===F||void 0===F||null===(c=F.app_card)||void 0===c||null===(r=c.remaining_array)||void 0===r||null===(u=r[0])||void 0===u?void 0:u.installmentValue,ad_install:null,month:null,payment_remain_1:null,payment_card_type:null,payment_book_id:null,name:R.username,isApk:"web",payment_card_id:null!==(v=null===F||void 0===F||null===(_=F.app_card)||void 0===_?void 0:_.parent_card)&&void 0!==v?v:null,payment_remain_fees:$.pay_remain,charge:{num_platform_percent:null!==(m=null===Q||void 0===Q||null===(p=Q.platform_charges)||void 0===p?void 0:p.percentage)&&void 0!==m?m:0,num_platform_max:null!==(h=null===Q||void 0===Q||null===(g=Q.platform_charges)||void 0===g?void 0:g.maximum)&&void 0!==h?h:0,num_trans_pecent:null!==(x=null===Q||void 0===Q||null===(f=Q.transaction_charges)||void 0===f?void 0:f.percentage)&&void 0!==x?x:0,num_trans_max:null!==(j=null===Q||void 0===Q||null===(y=Q.transaction_charges)||void 0===y?void 0:y.maximum)&&void 0!==j?j:0,num_app_max:null!==(Z=null===Q||void 0===Q?void 0:Q.application_charges)&&void 0!==Z?Z:0},nsid:null===F||void 0===F||null===(S=F.app_card)||void 0===S||null===(N=S.remaining_array)||void 0===N||null===(b=N[0])||void 0===b?void 0:b._id}).then((e=>{var n,t;window.onScriptLoad(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(t=n.body)||void 0===t?void 0:t.txnToken,null===e||void 0===e?void 0:e.order,null===e||void 0===e?void 0:e.amount)})).catch((e=>{console.info(e)}))},isOptimzed:!0}):(0,N.jsx)(h.Z,{onClose:k,children:(0,N.jsxs)("div",{className:g.Z.modal_container,children:[(0,N.jsx)(v.Z,{children:(0,N.jsxs)("div",{className:g.Z.modal_container_outer_header,children:[(0,N.jsx)("div",{className:g.Z.modal_container_header,children:(0,N.jsx)("h6",{children:T("collect_fees")})}),(0,N.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:k})]})}),(0,N.jsx)(_.Z,{}),(0,N.jsxs)(v.Z,{customStyle:{paddingTop:"0"},children:[(0,N.jsxs)("div",{className:g.Z.admission_fees_row,children:[(0,N.jsxs)("h6",{children:[T("applicable_amount")," :"]}),(0,N.jsxs)("h6",{children:[T("rs_only")," ",null!==(p=null===F||void 0===F||null===(x=F.app_card)||void 0===x?void 0:x.applicable_fee)&&void 0!==p?p:0]})]}),null!==F&&void 0!==F&&null!==(f=F.fee_struct)&&void 0!==f&&f.total_installments&&+(null===F||void 0===F||null===(b=F.fee_struct)||void 0===b?void 0:b.total_installments)>1?(0,N.jsx)(he.Z,{label:"pay_rest_remaining_fees",children:null===xe.nj||void 0===xe.nj?void 0:xe.nj.map((e=>(0,N.jsx)(ge.Z,{tile:e,onTile:te,activeTile:q.pay_remain},null===e||void 0===e?void 0:e.id)))}):null,(0,N.jsx)(ve.Z,{label:"".concat(T(q.pay_remain?"amount_remain_installment":"amount_first_installment")," ").concat(q.pay_remain?L:null===F||void 0===F||null===(I=F.app_card)||void 0===I||null===(C=I.remaining_array)||void 0===C||null===(A=C[0])||void 0===A?void 0:A.remainAmount),placeholder:T("amoute_details_collect"),name:"amount",value:q.amount,type:"tel",onChange:e=>{G((n=>({...n,amount:+e.target.value,fee_payment_amount:+e.target.value}))),K((n=>({...n,amount:+e.target.value})))},errorShow:z.amount,msg:z.rest_issue}),(0,N.jsx)(pe.Z,{paymentHeading:T("payment_type_mode"),selectLabel:T("mode_placeholder"),onClick:e=>{G((n=>({...n,mode:"Online",fee_payment_mode:e})))},errorShow:z.fee_payment_mode,defalutValue:q.fee_payment_mode,selectedValue:T("please_select_payment_mode"),isAuthority:"admissionCollectModePg",customLabelStyle:{marginTop:"0"}}),"Payment Gateway"===q.fee_payment_mode?(0,N.jsx)(Z.Z,{label:"collect",onAction:()=>{let e=(0,U.l)({amount:$.amount});var n,t,i,l;(0,U.x)(e)?$.pay_remain&&$.amount<L?H({rest_issue:"Amount should not be less than total remaining fees"}):!$.pay_remain&&$.amount>(null===F||void 0===F||null===(n=F.app_card)||void 0===n||null===(t=n.remaining_array)||void 0===t||null===(i=t[0])||void 0===i?void 0:i.remainAmount)&&+(null===F||void 0===F||null===(l=F.fee_struct)||void 0===l?void 0:l.total_installments)>1?H({rest_issue:"Amount should not be greater than remaining fees"}):null!==Q&&void 0!==Q&&Q.institute?w&&D&&(E((e=>!e)),ee({fid:D,appId:w,flow:"BY_HOSTEL"}).then((e=>{var n;E((e=>!e)),null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.denied?B({open:!0,msg:"Account is not activated",variant:"error"}):K((e=>({...e,isTransaction:!0})))})).catch({})):B({open:!0,msg:"Online Payment Not Activated",variant:"error"}):H(e)}}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(_e.Z,{label:T("select_date_of_transaction"),placeholder:T("please_select_date"),name:"transaction_date",value:q.transaction_date,onChange:e=>{G((n=>({...n,transaction_date:(0,me.jh)(e)})))},errorShow:z.transaction_date}),"Cash"===q.fee_payment_mode?null:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(ve.Z,{label:T("bank_name_collect"),placeholder:T("please_enter_bank_name"),name:"fee_bank_name",value:q.fee_bank_name,type:"text",onChange:ne}),(0,N.jsx)(ve.Z,{label:T("banke_holder_name"),placeholder:T("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:q.fee_bank_holder,type:"text",onChange:ne}),(0,N.jsx)(ve.Z,{label:T("cheque_dd_neft"),placeholder:T("please_enter_utr_ref_number"),name:"fee_utr_reference",value:q.fee_utr_reference,type:"text",onChange:ne})]}),(0,N.jsx)(Z.Z,{label:"collect",onAction:()=>{let e=(0,U.l)(q,["mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference","pay_remain"]);var n,t,i,l;(0,U.x)(e)?q.pay_remain&&q.amount<L?H({rest_issue:"Amount should not be less than total remaining fees"}):!q.pay_remain&&q.amount>(null===F||void 0===F||null===(n=F.app_card)||void 0===n||null===(t=n.remaining_array)||void 0===t||null===(i=t[0])||void 0===i?void 0:i.remainAmount)&&+(null===F||void 0===F||null===(l=F.fee_struct)||void 0===l?void 0:l.total_installments)>1?H({rest_issue:"Amount should not be greater than remaining fees"}):w&&D&&(E((e=>!e)),ee({fid:D,appId:w,flow:"BY_HOSTEL"}).then((e=>{var n,t,i,l,o,a,d,s,c,r,u,v,_,m,p,h,g,x,f,j,y,Z,S,N,b,I;null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.denied?(B({open:!0,msg:"Account is not activated",variant:"error"}),E((e=>!e))):null!==F&&void 0!==F&&null!==(t=F.student)&&void 0!==t&&t._id&&w&&X({sid:null===F||void 0===F||null===(i=F.student)||void 0===i?void 0:i._id,appId:w,collect:{card_id:null===F||void 0===F||null===(l=F.app_card)||void 0===l?void 0:l._id,rid:null===F||void 0===F||null===(o=F.payment_flow)||void 0===o?void 0:o._id,raid:null===F||void 0===F||null===(a=F.app_card)||void 0===a||null===(d=a.remaining_array)||void 0===d||null===(s=d[0])||void 0===s?void 0:s._id,nsid:null===F||void 0===F||null===(c=F.app_card)||void 0===c||null===(r=c.remaining_array)||void 0===r||null===(u=r[0])||void 0===u?void 0:u._id,type:null===F||void 0===F||null===(v=F.app_card)||void 0===v||null===(_=v.remaining_array)||void 0===_||null===(m=_[0])||void 0===m?void 0:m.installmentValue,raid_1:null!==(p=null===F||void 0===F||null===(h=F.app_card)||void 0===h||null===(g=h.remaining_array)||void 0===g||null===(x=g[1])||void 0===x?void 0:x._id)&&void 0!==p?p:"",amount:null!==(f=null===q||void 0===q?void 0:q.amount)&&void 0!==f?f:"",mode:"Cash"===(null===q||void 0===q?void 0:q.fee_payment_mode)?"Offline":null!==(j=null===q||void 0===q?void 0:q.mode)&&void 0!==j?j:"",fee_payment_mode:"Cash"===(null===q||void 0===q?void 0:q.fee_payment_mode)?"By Cash":null===q||void 0===q?void 0:q.fee_payment_mode,fee_payment_amount:null!==(y=null===q||void 0===q?void 0:q.fee_payment_amount)&&void 0!==y?y:"",transaction_date:null!==(Z=(0,me._1)(q.transaction_date))&&void 0!==Z?Z:"",fee_bank_name:null!==(S=null===q||void 0===q?void 0:q.fee_bank_name)&&void 0!==S?S:"",fee_bank_holder:null!==(N=null===q||void 0===q?void 0:q.fee_bank_holder)&&void 0!==N?N:"",fee_utr_reference:null!==(b=null===q||void 0===q?void 0:q.fee_utr_reference)&&void 0!==b?b:"",pay_remain:q.pay_remain,staffId:null===(I=O.state)||void 0===I?void 0:I.sid}}).then((e=>{var n,t;"Already Fee Collected "===(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)?(B({open:!0,msg:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message,variant:"error"}),E((e=>!e))):(W(1),E((e=>!e)))})).catch({})})).catch({})):H(e)}})]})]})]})}),M&&(0,N.jsx)(y.Z,{}),(0,N.jsx)(j.Z,{eventState:J,eventStateHandler:B})]})})},Ne=e=>{var n,t,i,o,s,c,u,v,_,m,p,h,g,x,j,Z,b,I,C,A,k,F,w,P,D,O,E,U,q,G,L,Y,z,H,J,V,W;let{instituteId:$,applicant:K,appId:Q,onRefetch:X,financeId:ee}=e;const{t:ne}=(0,d.$G)(),te=(0,l.UO)(),ie=(0,l.s0)(),le=(0,l.TH)(),[oe,ae]=(0,a.useState)(0),[de,se]=(0,a.useState)(!1),[ce]=(0,S.hB)(),re=(0,a.useCallback)((()=>{var e,n,t;ie("/q/".concat(te.username,"/member/student/admission/profile"),{state:{sid:null===K||void 0===K||null===(e=K.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:$,collectAccess:"ADMISSION_ADMIN",editInstallmentControl:"authorized",whichUrl:"Institute"===(null===(n=le.state)||void 0===n?void 0:n.urlOffSet)?"INSTITUTE":null,onlyReadView:null===(t=le.state)||void 0===t?void 0:t.role,subjectData:{subjectChange:"authorized",appId:Q}}})}),[$,null===K||void 0===K||null===(n=K.student)||void 0===n?void 0:n._id]),ue=()=>{ae("")};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:f.Z.oac_container,onClick:re,title:"View Profile",children:[(0,N.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,N.jsx)("img",{alt:"Student Request Avatar",src:null!==K&&void 0!==K&&null!==(t=K.student)&&void 0!==t&&t.studentProfilePhoto?"".concat(T.yI,"/").concat(null===K||void 0===K||null===(i=K.student)||void 0===i?void 0:i.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,N.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,N.jsx)("h6",{children:"".concat(null!==(o=null===K||void 0===K||null===(s=K.student)||void 0===s?void 0:s.studentFirstName)&&void 0!==o?o:""," ").concat(null!==K&&void 0!==K&&null!==(c=K.student)&&void 0!==c&&c.studentMiddleName?null===K||void 0===K||null===(u=K.student)||void 0===u?void 0:u.studentMiddleName:""," ").concat(null!==(v=null===K||void 0===K||null===(_=K.student)||void 0===_?void 0:_.studentLastName)&&void 0!==v?v:"")}),(0,N.jsxs)("h6",{children:[ne("fee_structure")," : ",null!==(m=null===K||void 0===K||null===(p=K.fee_struct)||void 0===p||null===(h=p.unique_structure_name)||void 0===h||null===(g=h.split(" - "))||void 0===g?void 0:g[0])&&void 0!==m?m:"",", ",ne("rs_only")," ",null!==(x=null===K||void 0===K||null===(j=K.fee_struct)||void 0===j?void 0:j.applicable_fees)&&void 0!==x?x:""]}),(0,N.jsxs)("p",{children:[ne("form_no_only"),": ",null!==(Z=null===K||void 0===K||null===(b=K.student)||void 0===b?void 0:b.form_no)&&void 0!==Z?Z:""]}),(0,N.jsxs)("p",{children:[ne("select_on"),":",M()(null===K||void 0===K?void 0:K.select_on).format("DD MMM YYYY")]})]})]}),(0,N.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,N.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,N.jsx)("img",{src:"".concat(r.U_,"/gender.svg"),alt:"email icon"}),(0,N.jsx)("p",{children:null===K||void 0===K||null===(I=K.student)||void 0===I?void 0:I.studentGender})]}),(0,N.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,N.jsx)("img",{src:"".concat(r.U_,"/phone.svg"),alt:"phone icon"}),(0,N.jsx)("p",{children:null!==K&&void 0!==K&&null!==(C=K.student)&&void 0!==C&&null!==(A=C.user)&&void 0!==A&&A.userPhoneNumber?null===K||void 0===K||null===(k=K.student)||void 0===k||null===(F=k.user)||void 0===F?void 0:F.userPhoneNumber:null!==K&&void 0!==K&&null!==(w=K.student)&&void 0!==w&&null!==(P=w.user)&&void 0!==P&&P.userEmail?null===K||void 0===K||null===(D=K.student)||void 0===D||null===(O=D.user)||void 0===O?void 0:O.userEmail:null!==K&&void 0!==K&&null!==(E=K.student)&&void 0!==E&&E.studentPhoneNumber?null===K||void 0===K||null===(U=K.student)||void 0===U?void 0:U.studentPhoneNumber:null!==K&&void 0!==K&&null!==(q=K.student)&&void 0!==q&&q.studentParentsPhoneNumber?null===K||void 0===K||null===(G=K.student)||void 0===G?void 0:G.studentParentsPhoneNumber:null!==(L=null===K||void 0===K||null===(Y=K.student)||void 0===Y?void 0:Y.studentEmail)&&void 0!==L?L:""})]})]}),(0,N.jsxs)("div",{className:f.Z.oac_container_stuff,children:[(0,N.jsx)("a",{href:"".concat(T.q2,"/").concat(null===K||void 0===K||null===(z=K.student)||void 0===z||null===(H=z.application_print)||void 0===H||null===(J=H[0])||void 0===J?void 0:J.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,N.jsx)("img",{src:"".concat(r.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),"ONGOING_VIEW_ACCESS"===(null===(V=le.state)||void 0===V?void 0:V.role)?null:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("img",{src:"".concat(r.U_,"/undo.svg"),alt:"undo icon",style:{width:"30px",height:"30px"},onClick:e=>{var n,t,i,l,o;(e.stopPropagation(),null!==K&&void 0!==K&&null!==(n=K.student)&&void 0!==n&&n._id&&Q&&null!==K&&void 0!==K&&K.status_id&&null!==K&&void 0!==K&&K.revert_request_status&&null!==K&&void 0!==K&&K._id&&null!==K&&void 0!==K&&null!==(t=K.payment_flow)&&void 0!==t&&t._id)&&(se((e=>!e)),ce({sid:null===K||void 0===K||null===(i=K.student)||void 0===i?void 0:i._id,appId:Q,revert:{statusId:null===K||void 0===K?void 0:K.status_id,fcid:null===K||void 0===K?void 0:K._id,rid:null===K||void 0===K||null===(l=K.payment_flow)||void 0===l?void 0:l._id,revert_status:null===K||void 0===K?void 0:K.revert_request_status,staffId:null===(o=le.state)||void 0===o?void 0:o.sid}}).then((()=>{X(),se((e=>!e))})).catch((()=>{se((e=>!e))})))},title:"Undo Application"}),(0,N.jsx)(R.Z,{label:"collect_fees",onAction:e=>{e.stopPropagation(),ae(1)},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}})]}),(0,N.jsx)("img",{src:"".concat(r.J7,"/menu.svg"),alt:"menu icon",onClick:e=>{e.stopPropagation(),ae(2)}})]})]}),1===oe?(0,N.jsx)(Se,{onClose:ue,onRefetch:X,applicant:K,appId:Q,financeId:ee}):2===oe?(0,N.jsx)(B,{onClose:ue,studentId:null===K||void 0===K||null===(W=K.student)||void 0===W?void 0:W._id}):null,de&&(0,N.jsx)(y.Z,{})]})},be=e=>{var n,t,i,r,u,_;let{applicationDetail:m,instituteId:p,hid:h,financeId:g}=e;const{t:x}=(0,d.$G)(),f=(0,l.TH)(),[j,Z]=(0,a.useState)(""),[S,b]=(0,a.useState)(""),[I,C]=(0,a.useState)(1),[k,F]=(0,a.useState)(!0),[T,O]=(0,s.YD)({skip:j}),{admissionOngoingApplicationFees:M,admissionOngoingApplicationFeesLoading:E,admissionOngoingApplicationFeesRefetch:R}=(0,o.TM)({data:{appId:null===(n=f.state)||void 0===n?void 0:n.appId,page:I,limit:10,search:j},skip:!(null!==(t=f.state)&&void 0!==t&&t.appId)});(0,a.useEffect)((()=>{O&&k&&C((e=>e+1))}),[O,k]),(0,a.useEffect)((()=>{var e;if(null!==M&&void 0!==M&&null!==(e=M.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===M||void 0===M||null===(n=M.list)||void 0===n?void 0:n.length);F((()=>e))}}),[null===M||void 0===M||null===(i=M.list)||void 0===i?void 0:i.length]);const U=(0,a.useCallback)((()=>{C((()=>1)),R()}),[]);return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)(w.default,{children:[(0,N.jsx)(A,{applicationDetail:m}),(0,N.jsxs)(v.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,N.jsx)(le,{applicationDetail:m,instituteId:p,isExportAccess:"Fees_Query",hid:h,children:(0,N.jsx)("input",{type:"text",placeholder:x("search_applicants"),onChange:e=>{var n;!E&&(null===M||void 0===M||null===(n=M.list)||void 0===n?void 0:n.length)>=0&&b(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(C((()=>1)),Z(S))},value:S})}),null===M||void 0===M||null===(r=M.list)||void 0===r?void 0:r.map(((e,n)=>{var t,i,l;return(null===M||void 0===M||null===(t=M.list)||void 0===t?void 0:t.length)===n+1?(0,N.jsx)("div",{ref:T,children:(0,N.jsx)(Ne,{applicant:e,instituteId:p,onRefetch:U,appId:null===(i=f.state)||void 0===i?void 0:i.appId,financeId:g})},null===e||void 0===e?void 0:e._id):(0,N.jsx)(Ne,{applicant:e,instituteId:p,onRefetch:U,appId:null===(l=f.state)||void 0===l?void 0:l.appId,financeId:g},null===e||void 0===e?void 0:e._id)})),E?j?(0,N.jsx)(y.Z,{}):(0,N.jsx)(N.Fragment,{children:1===I?(0,N.jsx)(y.Z,{}):(0,N.jsx)(D.Z,{})}):j?0===(null===M||void 0===M||null===(u=M.list)||void 0===u?void 0:u.length)&&(0,N.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===M||void 0===M||null===(_=M.list)||void 0===_?void 0:_.length)&&(0,N.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]})})};var Ie=t(66239);const Ce=e=>{var n,t,i,o,s,c,u,v,_,m,p,h,g,x,j,Z,b,I,C,A,k,F,w,P,D,O,U,q,G,L,Y,z,H,J;let{instituteId:V,applicant:W,appId:$,onRefetch:K,isMultiple:Q,onSelect:X,applicantId:ee}=e;const{t:ne}=(0,d.$G)(),te=(0,l.UO)(),ie=(0,l.TH)(),[le,oe]=(0,a.useState)(0),ae=(0,l.s0)(),[de,se]=(0,a.useState)(!1),[ce]=(0,S.N7)(),re=(0,a.useCallback)((()=>{var e,n,t;ae("/q/".concat(te.username,"/student/profile"),{state:{sid:null===W||void 0===W||null===(e=W.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:V,collectAccess:"ADMISSION_ADMIN",editInstallmentControl:"authorized",govtAccess:"Other",cancelAccess:!1,editStructureControl:"authorized",editGovtNumberContorl:"authorized",editGovtInstallmentControl:"authorized",isSearchEnable:"notauthorized",whichUrl:"Institute"===(null===(n=ie.state)||void 0===n?void 0:n.urlOffSet)?"INSTITUTE":null,onlyReadView:null===(t=ie.state)||void 0===t?void 0:t.role,subjectData:{subjectChange:"authorized",appId:$}}})}),[V,null===W||void 0===W||null===(n=W.student)||void 0===n?void 0:n._id]);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:f.Z.oac_container,onClick:re,title:"View Profile",children:[Q?(0,N.jsx)("img",{className:f.Z.department_checkbox,src:null!==ee&&void 0!==ee&&ee.includes(null===W||void 0===W||null===(t=W.student)||void 0===t?void 0:t._id)?"".concat(r.U_,"/check.svg"):"".concat(r.U_,"/uncheck.svg"),alt:"check icon",onClick:e=>{var n;return X(e,null===W||void 0===W||null===(n=W.student)||void 0===n?void 0:n._id,null===W||void 0===W?void 0:W._id)}}):null,(0,N.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,N.jsx)("img",{alt:"Student Request Avatar",src:null!==W&&void 0!==W&&null!==(i=W.student)&&void 0!==i&&i.studentProfilePhoto?"".concat(T.yI,"/").concat(null===W||void 0===W||null===(o=W.student)||void 0===o?void 0:o.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,N.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,N.jsx)("h6",{children:"".concat(null!==(s=null===W||void 0===W||null===(c=W.student)||void 0===c?void 0:c.studentFirstName)&&void 0!==s?s:""," ").concat(null!==W&&void 0!==W&&null!==(u=W.student)&&void 0!==u&&u.studentMiddleName?null===W||void 0===W||null===(v=W.student)||void 0===v?void 0:v.studentMiddleName:""," ").concat(null!==(_=null===W||void 0===W||null===(m=W.student)||void 0===m?void 0:m.studentLastName)&&void 0!==_?_:"")}),(0,N.jsxs)("p",{children:[ne("form_no_only"),": ",null!==(p=null===W||void 0===W||null===(h=W.student)||void 0===h?void 0:h.form_no)&&void 0!==p?p:""]}),(0,N.jsxs)("p",{children:[ne("confirmed_on"),":"," ",M()(null===W||void 0===W?void 0:W.apply_on).format("DD MMM YYYY")]})]})]}),(0,N.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,N.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,N.jsx)("img",{src:"".concat(r.U_,"/gender.svg"),alt:"email icon"}),(0,N.jsx)("p",{children:null===W||void 0===W||null===(g=W.student)||void 0===g?void 0:g.studentGender})]}),(0,N.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,N.jsx)("img",{src:"".concat(r.U_,"/phone.svg"),alt:"phone icon"}),(0,N.jsx)("p",{children:null!==W&&void 0!==W&&null!==(x=W.student)&&void 0!==x&&null!==(j=x.user)&&void 0!==j&&j.userPhoneNumber?null===W||void 0===W||null===(Z=W.student)||void 0===Z||null===(b=Z.user)||void 0===b?void 0:b.userPhoneNumber:null!==W&&void 0!==W&&null!==(I=W.student)&&void 0!==I&&null!==(C=I.user)&&void 0!==C&&C.userEmail?null===W||void 0===W||null===(A=W.student)||void 0===A||null===(k=A.user)||void 0===k?void 0:k.userEmail:null!==W&&void 0!==W&&null!==(F=W.student)&&void 0!==F&&F.studentPhoneNumber?null===W||void 0===W||null===(w=W.student)||void 0===w?void 0:w.studentPhoneNumber:null!==W&&void 0!==W&&null!==(P=W.student)&&void 0!==P&&P.studentParentsPhoneNumber?null===W||void 0===W||null===(D=W.student)||void 0===D?void 0:D.studentParentsPhoneNumber:null!==(O=null===W||void 0===W||null===(U=W.student)||void 0===U?void 0:U.studentEmail)&&void 0!==O?O:""})]})]}),(0,N.jsxs)("div",{className:f.Z.oac_container_stuff,children:[(0,N.jsx)("a",{href:"".concat(T.q2,"/").concat(null===W||void 0===W||null===(q=W.student)||void 0===q||null===(G=q.application_print)||void 0===G||null===(L=G[0])||void 0===L?void 0:L.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,N.jsx)("img",{src:"".concat(r.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),null===W||void 0===W||null===(Y=W.student)||void 0===Y||null===(z=Y.fee_receipt)||void 0===z?void 0:z.map(((e,n)=>n>2?"":(0,N.jsx)(Ie.Z,{rid:null===e||void 0===e?void 0:e._id,receiptFile:null===e||void 0===e?void 0:e.receipt_file},null===e||void 0===e?void 0:e._id))),Q?null:(0,N.jsx)(N.Fragment,{children:"ONGOING_VIEW_ACCESS"===(null===(H=ie.state)||void 0===H?void 0:H.role)?null:(0,N.jsx)(E.Z,{children:(0,N.jsx)(R.Z,{label:"review",onAction:e=>{var n,t,i;(e.stopPropagation(),null!==W&&void 0!==W&&null!==(n=W.student)&&void 0!==n&&n._id&&$)&&(se((e=>!e)),ce({appId:$,review:{student_arr:[{sid:null===W||void 0===W||null===(t=W.student)||void 0===t?void 0:t._id,cid:null===W||void 0===W?void 0:W._id}],staffId:null===(i=ie.state)||void 0===i?void 0:i.sid}}).then((()=>{K(),se((e=>!e))})).catch({}))},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}})})}),(0,N.jsx)("img",{src:"".concat(r.J7,"/menu.svg"),alt:"menu icon",onClick:e=>{e.stopPropagation(),oe(3)}})]})]}),3===le?(0,N.jsx)(B,{onClose:()=>{oe("")},studentId:null===W||void 0===W||null===(J=W.student)||void 0===J?void 0:J._id}):null,de&&(0,N.jsx)(y.Z,{})]})},Ae=e=>{var n,t,i,r,u,_,m;let{applicationDetail:p,instituteId:h}=e;const{t:g}=(0,d.$G)(),x=(0,l.TH)(),f=(0,l.s0)(),j=(0,l.UO)(),[Z,S]=(0,a.useState)(""),[b,I]=(0,a.useState)(""),[C,k]=(0,a.useState)(1),[F,T]=(0,a.useState)(!0),[O,M]=(0,s.YD)({skip:Z}),{admissionOngoingApplicationConfirm:E,admissionOngoingApplicationConfirmLoading:R,admissionOngoingApplicationConfirmRefetch:U}=(0,o.Hi)({data:{appId:null===(n=x.state)||void 0===n?void 0:n.appId,page:C,limit:10,search:Z},skip:!(null!==(t=x.state)&&void 0!==t&&t.appId)});(0,a.useEffect)((()=>{M&&F&&k((e=>e+1))}),[M,F]),(0,a.useEffect)((()=>{var e;if(null!==E&&void 0!==E&&null!==(e=E.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===E||void 0===E||null===(n=E.list)||void 0===n?void 0:n.length);T((()=>e))}}),[null===E||void 0===E||null===(i=E.list)||void 0===i?void 0:i.length]);const q=(0,a.useCallback)((()=>{k((()=>1)),U()}),[U]);return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)(w.default,{children:[(0,N.jsx)(A,{applicationDetail:p,instituteId:h}),(0,N.jsxs)(v.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,N.jsx)(le,{applicationDetail:p,instituteId:h,onMultipleSelect:()=>{var e;let n="Institute"===(null===(e=x.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(j.username,"/institute/member/admission?type=hostel-ongoing-detail&n=confirmed-multi"):"/q/".concat(j.username,"/member/staff/admission?type=hostel-ongoing-detail&n=confirmed-multi");f(n,{state:x.state})},isExportAccess:"Confirm_Query",isFull:"isCompleted"===(null===(r=x.state)||void 0===r?void 0:r.isAuthorization),children:(0,N.jsx)("input",{type:"text",placeholder:g("search_applicants"),onChange:e=>{var n;!R&&(null===E||void 0===E||null===(n=E.list)||void 0===n?void 0:n.length)>=0&&I(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(k((()=>1)),S(b))},value:b})}),null===E||void 0===E||null===(u=E.list)||void 0===u?void 0:u.map(((e,n)=>{var t,i,l;return(null===E||void 0===E||null===(t=E.list)||void 0===t?void 0:t.length)===n+1?(0,N.jsx)("div",{ref:O,children:(0,N.jsx)(Ce,{applicant:e,instituteId:h,onRefetch:q,appId:null===(i=x.state)||void 0===i?void 0:i.appId})},null===e||void 0===e?void 0:e._id):(0,N.jsx)(Ce,{applicant:e,instituteId:h,onRefetch:q,appId:null===(l=x.state)||void 0===l?void 0:l.appId},null===e||void 0===e?void 0:e._id)})),R?Z?(0,N.jsx)(y.Z,{}):(0,N.jsx)(N.Fragment,{children:1===C?(0,N.jsx)(y.Z,{}):(0,N.jsx)(D.Z,{})}):Z?0===(null===E||void 0===E||null===(_=E.list)||void 0===_?void 0:_.length)&&(0,N.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===E||void 0===E||null===(m=E.list)||void 0===m?void 0:m.length)&&(0,N.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]})})},ke=e=>{var n,t,i,l,o,a,s,c,u,v,_,m,p,h,g,x,j,y,Z,S,b,I,C,A,k,F;let{applicant:w,onSelect:P,applicantId:D}=e;const{t:O}=(0,d.$G)();return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{className:f.Z.oac_container,onClick:()=>{var e;return P(null===w||void 0===w||null===(e=w.student)||void 0===e?void 0:e._id,null===w||void 0===w?void 0:w._id)},style:{justifyContent:"flex-start"},children:[(0,N.jsx)("img",{className:f.Z.department_checkbox,src:null!==D&&void 0!==D&&D.includes(null===w||void 0===w||null===(n=w.student)||void 0===n?void 0:n._id)?"".concat(r.U_,"/check.svg"):"".concat(r.U_,"/uncheck.svg"),alt:"check icon"}),(0,N.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,N.jsx)("img",{alt:"Student Request Avatar",src:null!==w&&void 0!==w&&null!==(t=w.student)&&void 0!==t&&t.studentProfilePhoto?"".concat(T.yI,"/").concat(null===w||void 0===w||null===(i=w.student)||void 0===i?void 0:i.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,N.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,N.jsx)("h6",{children:"".concat(null!==(l=null===w||void 0===w||null===(o=w.student)||void 0===o?void 0:o.studentFirstName)&&void 0!==l?l:""," ").concat(null!==w&&void 0!==w&&null!==(a=w.student)&&void 0!==a&&a.studentMiddleName?null===w||void 0===w||null===(s=w.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null!==(c=null===w||void 0===w||null===(u=w.student)||void 0===u?void 0:u.studentLastName)&&void 0!==c?c:"")}),(0,N.jsxs)("p",{children:[O("form_no_only"),": ",null!==(v=null===w||void 0===w||null===(_=w.student)||void 0===_?void 0:_.form_no)&&void 0!==v?v:""]}),(0,N.jsxs)("p",{children:[O("confirmed_on"),":"," ",M()(null===w||void 0===w?void 0:w.apply_on).format("DD MMM YYYY")]})]})]}),(0,N.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,N.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,N.jsx)("img",{src:"".concat(r.U_,"/gender.svg"),alt:"email icon"}),(0,N.jsx)("p",{children:null===w||void 0===w||null===(m=w.student)||void 0===m?void 0:m.studentGender})]}),(0,N.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,N.jsx)("img",{src:"".concat(r.U_,"/phone.svg"),alt:"phone icon"}),(0,N.jsx)("p",{children:null!==w&&void 0!==w&&null!==(p=w.student)&&void 0!==p&&null!==(h=p.user)&&void 0!==h&&h.userPhoneNumber?null===w||void 0===w||null===(g=w.student)||void 0===g||null===(x=g.user)||void 0===x?void 0:x.userPhoneNumber:null!==w&&void 0!==w&&null!==(j=w.student)&&void 0!==j&&null!==(y=j.user)&&void 0!==y&&y.userEmail?null===w||void 0===w||null===(Z=w.student)||void 0===Z||null===(S=Z.user)||void 0===S?void 0:S.userEmail:null!==w&&void 0!==w&&null!==(b=w.student)&&void 0!==b&&b.studentPhoneNumber?null===w||void 0===w||null===(I=w.student)||void 0===I?void 0:I.studentPhoneNumber:null!==w&&void 0!==w&&null!==(C=w.student)&&void 0!==C&&C.studentParentsPhoneNumber?null===w||void 0===w||null===(A=w.student)||void 0===A?void 0:A.studentParentsPhoneNumber:null!==(k=null===w||void 0===w||null===(F=w.student)||void 0===F?void 0:F.studentEmail)&&void 0!==k?k:""})]})]})]})})},Fe=e=>{var n,t,i,s;let{applicationDetail:c,instituteId:_}=e;const{t:m}=(0,d.$G)(),p=(0,l.TH)(),h=(0,l.s0)(),[g,x]=(0,a.useState)(""),[f,j]=(0,a.useState)([]),[Z,b]=(0,a.useState)([]),[I,C]=(0,a.useState)(!1),[k,F]=(0,a.useState)([]),[T,O]=(0,a.useState)(!1),[M]=(0,S.N7)(),{admissionOngoingApplicationAllConfirmList:U,admissionOngoingApplicationAllConfirmListLoading:q,admissionOngoingApplicationAllConfirmListRefetch:G}=(0,o.m2)({data:{appId:null===(n=p.state)||void 0===n?void 0:n.appId},skip:!(null!==(t=p.state)&&void 0!==t&&t.appId)});(0,a.useEffect)((()=>{null!==U&&void 0!==U&&U.length&&F(U)}),[null===U||void 0===U?void 0:U.length]);const L=()=>{h(-1)},Y=(e,n)=>{null!==f&&void 0!==f&&f.includes(e)?(j((n=>null===n||void 0===n?void 0:n.filter((n=>n!==e)))),b((n=>null===n||void 0===n?void 0:n.filter((n=>(null===n||void 0===n?void 0:n.sid)!==e))))):(j((n=>[...n,e])),b((t=>[...t,{sid:e,cid:n}])))};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(w.default,{children:[(0,N.jsx)(A,{applicationDetail:c,instituteId:_}),(0,N.jsxs)(v.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,N.jsxs)(E.Z,{customStyle:{justifyContent:"space-between",marginBottom:"0.7rem"},children:[(0,N.jsx)("section",{className:u.Z.fm_search_container,children:(0,N.jsxs)("div",{className:u.Z.fm_search_container_inner,style:{minWidth:"500px"},children:[(0,N.jsx)("img",{className:u.Z.fm_search_icon,alt:"search icon",src:"".concat(r.dB,"/navbar-search.svg")}),(0,N.jsx)("input",{type:"text",placeholder:m("search_applicants"),onChange:e=>{if(e.target.value){let n=Pe(U,e.target.value);F(n)}else x(""),F(U)},style:{minWidth:"500px"}})]})}),(0,N.jsxs)("div",{className:u.Z.fm_flex,children:[!we[null===(i=p.state)||void 0===i?void 0:i.isAuthorization]&&(0,N.jsx)(R.Z,{label:T?"remove_all":"select_all",count:null===f||void 0===f?void 0:f.length,onAction:T?()=>{j([]),b([]),O(!1)}:()=>{let e=[],n=[];for(let l of U){var t,i;e.push(null===l||void 0===l||null===(t=l.student)||void 0===t?void 0:t._id),n.push({sid:null===l||void 0===l||null===(i=l.student)||void 0===i?void 0:i._id,cid:null===l||void 0===l?void 0:l._id})}j(e),b(n),O(!0)},customStyle:{padding:"0.5rem 1rem",fontSize:"13px"}}),!we[null===(s=p.state)||void 0===s?void 0:s.isAuthorization]&&(0,N.jsx)(R.Z,{label:"review",onAction:()=>{var e,n,t;(null===f||void 0===f?void 0:f.length)>0&&null!==(e=p.state)&&void 0!==e&&e.appId&&(C((e=>!e)),M({appId:null===(n=p.state)||void 0===n?void 0:n.appId,review:{student_arr:Z,staffId:null===(t=p.state)||void 0===t?void 0:t.sid}}).then((()=>{G(),C((e=>!e)),j([]),b([]),O(!1),L()})).catch({}))},customStyle:{padding:"0.5rem 1rem",fontSize:"13px",opacity:(null===f||void 0===f?void 0:f.length)>0?"1":"0.5"}}),(0,N.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:L})]})]}),null===k||void 0===k?void 0:k.map((e=>(0,N.jsx)(ke,{applicant:e,applicantId:f,onSelect:Y},null===e||void 0===e?void 0:e._id))),q?g?(0,N.jsx)(y.Z,{}):(0,N.jsx)(D.Z,{}):g?0===(null===k||void 0===k?void 0:k.length)&&(0,N.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===k||void 0===k?void 0:k.length)&&(0,N.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]}),I&&(0,N.jsx)(y.Z,{})]})},we={isCompleted:!0},Pe=(e,n)=>null===e||void 0===e?void 0:e.filter((e=>{var t,i,l,o;let a="".concat(null===e||void 0===e||null===(t=e.student)||void 0===t?void 0:t.studentFirstName," ").concat(null===e||void 0===e||null===(i=e.student)||void 0===i?void 0:i.studentMiddleName," ").concat(null===e||void 0===e||null===(l=e.student)||void 0===l?void 0:l.studentLastName);return null!==a&&void 0!==a&&null!==(o=a.toLowerCase())&&void 0!==o&&o.includes(null===n||void 0===n?void 0:n.toLowerCase())?e:null})),De=e=>{var n,t,i,o,s,c,u,v,_,m,p,h,g,x,j,y,Z,S,b,I,C,A,k,F,w,P,D,O,M,E,R,U,q,G;let{instituteId:L,applicant:Y,appId:z,onRefetch:H,isMultiple:J,onSelect:V,applicantId:W}=e;const{t:$}=(0,d.$G)(),K=(0,l.UO)(),Q=(0,l.s0)(),X=(0,l.TH)(),[ee,ne]=(0,a.useState)(""),te=(0,a.useCallback)((()=>{var e,n,t;Q("/q/".concat(K.username,"/student/profile"),{state:{sid:null===Y||void 0===Y||null===(e=Y.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:L,collectAccess:"ADMISSION_ADMIN",editInstallmentControl:"authorized",govtAccess:"Other",cancelAccess:!1,editStructureControl:"authorized",editGovtNumberContorl:"authorized",editGovtInstallmentControl:"authorized",isSearchEnable:"notauthorized",whichUrl:"Institute"===(null===(n=X.state)||void 0===n?void 0:n.urlOffSet)?"INSTITUTE":null,onlyReadView:null===(t=X.state)||void 0===t?void 0:t.role,subjectData:{subjectChange:"authorized",appId:z}}})}),[L,null===Y||void 0===Y||null===(n=Y.student)||void 0===n?void 0:n._id]);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:f.Z.oac_container,onClick:te,title:"View Profile",children:[J?(0,N.jsx)("img",{className:f.Z.department_checkbox,src:null!==W&&void 0!==W&&W.includes(null===Y||void 0===Y||null===(t=Y.student)||void 0===t?void 0:t._id)?"".concat(r.U_,"/check.svg"):"".concat(r.U_,"/uncheck.svg"),alt:"check icon",onClick:e=>{var n;return V(e,null===Y||void 0===Y||null===(n=Y.student)||void 0===n?void 0:n._id)}}):null,(0,N.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,N.jsx)("img",{alt:"Student Request Avatar",src:null!==Y&&void 0!==Y&&null!==(i=Y.student)&&void 0!==i&&i.studentProfilePhoto?"".concat(T.yI,"/").concat(null===Y||void 0===Y||null===(o=Y.student)||void 0===o?void 0:o.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,N.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,N.jsx)("h6",{children:"".concat(null!==(s=null===Y||void 0===Y||null===(c=Y.student)||void 0===c?void 0:c.studentFirstName)&&void 0!==s?s:""," ").concat(null!==Y&&void 0!==Y&&null!==(u=Y.student)&&void 0!==u&&u.studentMiddleName?null===Y||void 0===Y||null===(v=Y.student)||void 0===v?void 0:v.studentMiddleName:""," ").concat(null!==(_=null===Y||void 0===Y||null===(m=Y.student)||void 0===m?void 0:m.studentLastName)&&void 0!==_?_:"")}),(0,N.jsxs)("p",{children:[$("form_no_only"),": ",null!==(p=null===Y||void 0===Y||null===(h=Y.student)||void 0===h?void 0:h.form_no)&&void 0!==p?p:""]}),"ONGOING_VIEW_ACCESS"===(null===(g=X.state)||void 0===g?void 0:g.role)?null:(0,N.jsx)("p",{onClick:e=>{e.stopPropagation(),ne(2)},style:{color:"#436dfa"},children:$("cancel_admision")})]})]}),(0,N.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,N.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,N.jsx)("img",{src:"".concat(r.U_,"/gender.svg"),alt:"email icon"}),(0,N.jsx)("p",{children:null===Y||void 0===Y||null===(x=Y.student)||void 0===x?void 0:x.studentGender})]}),(0,N.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,N.jsx)("img",{src:"".concat(r.U_,"/phone.svg"),alt:"phone icon"}),(0,N.jsx)("p",{children:null!==Y&&void 0!==Y&&null!==(j=Y.student)&&void 0!==j&&null!==(y=j.user)&&void 0!==y&&y.userPhoneNumber?null===Y||void 0===Y||null===(Z=Y.student)||void 0===Z||null===(S=Z.user)||void 0===S?void 0:S.userPhoneNumber:null!==Y&&void 0!==Y&&null!==(b=Y.student)&&void 0!==b&&null!==(I=b.user)&&void 0!==I&&I.userEmail?null===Y||void 0===Y||null===(C=Y.student)||void 0===C||null===(A=C.user)||void 0===A?void 0:A.userEmail:null!==Y&&void 0!==Y&&null!==(k=Y.student)&&void 0!==k&&k.studentPhoneNumber?null===Y||void 0===Y||null===(F=Y.student)||void 0===F?void 0:F.studentPhoneNumber:null!==Y&&void 0!==Y&&null!==(w=Y.student)&&void 0!==w&&w.studentParentsPhoneNumber?null===Y||void 0===Y||null===(P=Y.student)||void 0===P?void 0:P.studentParentsPhoneNumber:null!==(D=null===Y||void 0===Y||null===(O=Y.student)||void 0===O?void 0:O.studentEmail)&&void 0!==D?D:""})]})]}),(0,N.jsxs)("div",{className:f.Z.oac_container_stuff,style:{width:"25%"},children:[(0,N.jsx)("a",{href:"".concat(T.q2,"/").concat(null===Y||void 0===Y||null===(M=Y.student)||void 0===M||null===(E=M.application_print)||void 0===E||null===(R=E[0])||void 0===R?void 0:R.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,N.jsx)("img",{src:"".concat(r.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),null===Y||void 0===Y||null===(U=Y.student)||void 0===U||null===(q=U.fee_receipt)||void 0===q?void 0:q.map(((e,n)=>n>2?"":(0,N.jsx)(Ie.Z,{rid:null===e||void 0===e?void 0:e._id,receiptFile:null===e||void 0===e?void 0:e.receipt_file},null===e||void 0===e?void 0:e._id))),(0,N.jsx)("img",{src:"".concat(r.J7,"/menu.svg"),alt:"menu icon",onClick:e=>{e.stopPropagation(),ne(3)}})]})]}),3===ee?(0,N.jsx)(B,{onClose:()=>{ne("")},studentId:null===Y||void 0===Y||null===(G=Y.student)||void 0===G?void 0:G._id}):null]})},Te=e=>{var n,t,i,r,u,_;let{applicationDetail:m,instituteId:p,hid:h}=e;const{t:g}=(0,d.$G)(),x=(0,l.TH)(),f=(0,l.s0)(),j=(0,l.UO)(),[Z,S]=(0,a.useState)(""),[b,I]=(0,a.useState)(""),[C,k]=(0,a.useState)(1),[F,T]=(0,a.useState)(!0),[O,M]=(0,s.YD)({skip:Z}),[E,R]=(0,a.useState)(!1),{admissionOngoingApplicationReview:U,admissionOngoingApplicationReviewLoading:q,admissionOngoingApplicationReviewRefetch:G}=(0,o._v)({data:{appId:null===(n=x.state)||void 0===n?void 0:n.appId,page:C,limit:10,search:Z},skip:!(null!==(t=x.state)&&void 0!==t&&t.appId)});(0,a.useEffect)((()=>{M&&F&&k((e=>e+1))}),[M,F]),(0,a.useEffect)((()=>{var e;if(null!==U&&void 0!==U&&null!==(e=U.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===U||void 0===U||null===(n=U.list)||void 0===n?void 0:n.length);T((()=>e))}}),[null===U||void 0===U||null===(i=U.list)||void 0===i?void 0:i.length]);const L=(0,a.useCallback)((()=>{k((()=>1)),G()}),[G]),Y=(0,a.useCallback)((()=>{R((e=>!e))}),[]);return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)(w.default,{children:[(0,N.jsx)(A,{applicationDetail:m,instituteId:p,isTransferAccess:"Review",hid:h}),(0,N.jsxs)(v.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,N.jsx)(le,{applicationDetail:m,instituteId:p,isExportAccess:"Review_Query",isTransferAccess:"Review",hid:h,onMultipleSelect:()=>{var e;let n="Institute"===(null===(e=x.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(j.username,"/institute/member/admission?type=hostel-ongoing-detail&n=review-multi"):"/q/".concat(j.username,"/member/staff/admission?type=hostel-ongoing-detail&n=review-multi");f(n,{state:x.state})},onResuffleToggle:Y,children:(0,N.jsx)("input",{type:"text",placeholder:g("search_applicants"),onChange:e=>{var n;!q&&(null===U||void 0===U||null===(n=U.list)||void 0===n?void 0:n.length)>=0&&I(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(k((()=>1)),S(b))},value:b})}),null===U||void 0===U||null===(r=U.list)||void 0===r?void 0:r.map(((e,n)=>{var t,i,l;return(null===U||void 0===U||null===(t=U.list)||void 0===t?void 0:t.length)===n+1?(0,N.jsx)("div",{ref:O,children:(0,N.jsx)(De,{applicant:{student:e},instituteId:p,onRefetch:L,appId:null===(i=x.state)||void 0===i?void 0:i.appId})},null===e||void 0===e?void 0:e._id):(0,N.jsx)(De,{applicant:{student:e},instituteId:p,onRefetch:L,appId:null===(l=x.state)||void 0===l?void 0:l.appId},null===e||void 0===e?void 0:e._id)})),q?Z?(0,N.jsx)(y.Z,{}):(0,N.jsx)(N.Fragment,{children:1===C?(0,N.jsx)(y.Z,{}):(0,N.jsx)(D.Z,{})}):Z?0===(null===U||void 0===U||null===(u=U.list)||void 0===u?void 0:u.length)&&(0,N.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===U||void 0===U||null===(_=U.list)||void 0===_?void 0:_.length)&&(0,N.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]})})},Oe=e=>{var n,t,i,l,o,a,s,c,u;let{applicant:v,onSelect:_,applicantId:m}=e;const{t:p}=(0,d.$G)();return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{className:f.Z.oac_container,onClick:()=>_(null===v||void 0===v?void 0:v._id),style:{justifyContent:"flex-start"},children:[(0,N.jsx)("img",{className:f.Z.department_checkbox,src:null!==m&&void 0!==m&&m.includes(null===v||void 0===v?void 0:v._id)?"".concat(r.U_,"/check.svg"):"".concat(r.U_,"/uncheck.svg"),alt:"check icon"}),(0,N.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,N.jsx)("img",{alt:"Student Request Avatar",src:null!==v&&void 0!==v&&v.studentProfilePhoto?"".concat(T.yI,"/").concat(null===v||void 0===v?void 0:v.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,N.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,N.jsx)("h6",{children:"".concat(null!==(n=null===v||void 0===v?void 0:v.studentFirstName)&&void 0!==n?n:""," ").concat(null!==v&&void 0!==v&&v.studentMiddleName?null===v||void 0===v?void 0:v.studentMiddleName:""," ").concat(null!==(t=null===v||void 0===v?void 0:v.studentLastName)&&void 0!==t?t:"")}),(0,N.jsxs)("p",{children:[p("form_no_only"),": ",null!==(i=null===v||void 0===v||null===(l=v.student)||void 0===l?void 0:l.form_no)&&void 0!==i?i:""]})]})]}),(0,N.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,N.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,N.jsx)("img",{src:"".concat(r.U_,"/gender.svg"),alt:"email icon"}),(0,N.jsx)("p",{children:null===v||void 0===v?void 0:v.studentGender})]}),(0,N.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,N.jsx)("img",{src:"".concat(r.U_,"/phone.svg"),alt:"phone icon"}),(0,N.jsx)("p",{children:null!==v&&void 0!==v&&null!==(o=v.user)&&void 0!==o&&o.userPhoneNumber?null===v||void 0===v||null===(a=v.user)||void 0===a?void 0:a.userPhoneNumber:null!==v&&void 0!==v&&null!==(s=v.user)&&void 0!==s&&s.userEmail?null===v||void 0===v||null===(c=v.user)||void 0===c?void 0:c.userEmail:null!==v&&void 0!==v&&v.studentPhoneNumber?null===v||void 0===v?void 0:v.studentPhoneNumber:null!==v&&void 0!==v&&v.studentParentsPhoneNumber?null===v||void 0===v?void 0:v.studentParentsPhoneNumber:null!==(u=null===v||void 0===v?void 0:v.studentEmail)&&void 0!==u?u:""})]})]})]})})},Me=e=>{var n,t,i,s;let{applicationDetail:c,instituteId:_,hid:m}=e;const{t:p}=(0,d.$G)(),h=(0,l.TH)(),g=(0,l.s0)(),[x,f]=(0,a.useState)(""),[j,Z]=(0,a.useState)([]),[S,b]=(0,a.useState)(""),[I,C]=(0,a.useState)([]),[k,F]=(0,a.useState)(!1),{admissionOngoingApplicationAllReviewList:T,admissionOngoingApplicationAllReviewListLoading:O,admissionOngoingApplicationAllReviewListRefetch:M}=(0,o.HU)({data:{appId:null===(n=h.state)||void 0===n?void 0:n.appId},skip:!(null!==(t=h.state)&&void 0!==t&&t.appId)});(0,a.useEffect)((()=>{null!==T&&void 0!==T&&T.length&&C(T)}),[null===T||void 0===T?void 0:T.length]);const U=()=>{g(-1)},q=e=>{null!==j&&void 0!==j&&j.includes(e)?Z((n=>null===n||void 0===n?void 0:n.filter((n=>n!==e)))):Z((n=>[...n,e]))};return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)(w.default,{children:[(0,N.jsx)(A,{applicationDetail:c,instituteId:_,isExportAccess:"Confirm_Query",isTransferAccess:"Review",hid:m}),(0,N.jsxs)(v.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,N.jsxs)(E.Z,{customStyle:{justifyContent:"space-between",marginBottom:"0.7rem"},children:[(0,N.jsx)("section",{className:u.Z.fm_search_container,children:(0,N.jsxs)("div",{className:u.Z.fm_search_container_inner,style:{minWidth:"500px"},children:[(0,N.jsx)("img",{className:u.Z.fm_search_icon,alt:"search icon",src:"".concat(r.dB,"/navbar-search.svg")}),(0,N.jsx)("input",{type:"text",placeholder:p("search_applicants"),onChange:e=>{if(e.target.value){let n=Re(T,e.target.value);C(n)}else f(""),C(T)},style:{minWidth:"500px"}})]})}),(0,N.jsxs)("div",{className:u.Z.fm_flex,children:[!Ee[null===(i=h.state)||void 0===i?void 0:i.isAuthorization]&&(0,N.jsx)(R.Z,{label:k?"remove_all":"select_all",count:null===j||void 0===j?void 0:j.length,onAction:k?()=>{Z([]),F(!1)}:()=>{let e=[];for(let n of T)e.push(null===n||void 0===n?void 0:n._id);Z(e),F(!0)},customStyle:{padding:"0.5rem 1rem",fontSize:"13px"}}),!Ee[null===(s=h.state)||void 0===s?void 0:s.isAuthorization]&&(0,N.jsx)(R.Z,{label:"allot_class",onAction:()=>{(null===j||void 0===j?void 0:j.length)>0&&b(1)},customStyle:{padding:"0.5rem 1rem",fontSize:"13px",opacity:(null===j||void 0===j?void 0:j.length)>0?"1":"0.5"}}),(0,N.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:U})]})]}),null===I||void 0===I?void 0:I.map((e=>(0,N.jsx)(Oe,{applicant:e,applicantId:j,onSelect:q},null===e||void 0===e?void 0:e._id))),O?x?(0,N.jsx)(y.Z,{}):(0,N.jsx)(D.Z,{}):x?0===(null===I||void 0===I?void 0:I.length)&&(0,N.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===I||void 0===I?void 0:I.length)&&(0,N.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]})})},Ee={isCompleted:!0},Re=(e,n)=>null===e||void 0===e?void 0:e.filter((e=>{var t,i,l,o;let a="".concat(null===e||void 0===e||null===(t=e.student)||void 0===t?void 0:t.studentFirstName," ").concat(null===e||void 0===e||null===(i=e.student)||void 0===i?void 0:i.studentMiddleName," ").concat(null===e||void 0===e||null===(l=e.student)||void 0===l?void 0:l.studentLastName);return null!==a&&void 0!==a&&null!==(o=a.toLowerCase())&&void 0!==o&&o.includes(null===n||void 0===n?void 0:n.toLowerCase())?e:null})),Ue=e=>{var n,t;let{instituteId:a,hid:d,financeId:s}=e;const[c]=(0,i.lr)(),r=(0,l.TH)(),{admissionOneOngoingApplication:u}=(0,o.nK)({appId:null===(n=r.state)||void 0===n?void 0:n.appId,skip:!(null!==(t=r.state)&&void 0!==t&&t.appId)});return(0,N.jsx)(N.Fragment,{children:c.get("n")?"document"===c.get("n")?(0,N.jsx)(ue,{applicationDetail:u,instituteId:a,hid:d}):"fees"===c.get("n")?(0,N.jsx)(be,{applicationDetail:u,instituteId:a,hid:d,financeId:s}):"confirmed"===c.get("n")?(0,N.jsx)(Ae,{applicationDetail:u,instituteId:a}):"confirmed-multi"===c.get("n")?(0,N.jsx)(Fe,{applicationDetail:u,instituteId:a}):"review"===c.get("n")?(0,N.jsx)(Te,{applicationDetail:u,instituteId:a,hid:d}):"review-multi"===c.get("n")?(0,N.jsx)(Me,{applicationDetail:u,instituteId:a,hid:d}):null:(0,N.jsx)(se,{applicationDetail:u,instituteId:a,hid:d})})}},57588:(e,n,t)=>{t.d(n,{J:()=>i});const i=(e,n)=>{let t;return function(){let i=this,l=arguments;clearTimeout(t),t=setTimeout((()=>{e.apply(i,l)}),n)}}},85794:(e,n,t)=>{t.d(n,{Z:()=>r});var i=t(72791),l=t(54164),o=t(15783),a=t(98684),d=t(80184);const s=e=>{let{onClose:n,isVariant:t,isHide:i,children:s}=e;return l.createPortal((0,d.jsx)("div",{children:(0,d.jsx)("div",{className:i?o.Z.notify_hide_overlay:o.Z.notify_overlay,children:(0,d.jsxs)("div",{className:o.Z.notify_container,style:{"--notify-bg-color":t},children:[s,(0,d.jsx)("img",{src:"".concat(a.Fk,"/close-white.svg"),alt:"close icon",onClick:n,className:o.Z.notify_close})]})})}),document.getElementById("notify-alert"))},c={success:"green",error:"#ed4a4a",warning:"orange"},r=e=>{var n;let{eventState:t,eventStateHandler:l}=e;const[a,r]=(0,i.useState)(!1);return null!==t&&void 0!==t&&t.open?(0,d.jsx)(s,{onClose:()=>{r(!0);let e=setTimeout((()=>{l((e=>({...e,open:!1,msg:"",variant:"success"}))),r(!1)}),500);return()=>clearTimeout(e)},isVariant:c[null===t||void 0===t?void 0:t.variant],isHide:a,children:(0,d.jsx)("h6",{className:o.Z.notify_message,children:null!==(n=null===t||void 0===t?void 0:t.msg)&&void 0!==n?n:""})}):null}},16313:(e,n,t)=>{t.d(n,{Z:()=>i});const i={attendence:"Attendence_attendence__I1yeT",attendencehead:"Attendence_attendencehead__exMGX",attendenceBtns:"Attendence_attendenceBtns__NDLVN",changemonth:"Attendence_changemonth__tk0Uc",buttons:"Attendence_buttons__iJ4z9",leaves:"Attendence_leaves__nC9+y",save:"Attendence_save__Q1WxJ",time_slot_btn:"Attendence_time_slot_btn__ckJ9r",calender:"Attendence_calender__wZXxH",arrowbtn:"Attendence_arrowbtn__Gm18t",dates:"Attendence_dates__40mER",date:"Attendence_date__qlh8f",clickedDate:"Attendence_clickedDate__q347p",tabs:"Attendence_tabs__9GYC-",tab:"Attendence_tab__IXFzc",grey:"Attendence_grey__r-jIX",purple:"Attendence_purple__J8wxa",light:"Attendence_light__r4yiQ",tabgreen:"Attendence_tabgreen__uE2sT",red:"Attendence_red__v+w+y",rose:"Attendence_rose__uW+8p",list:"Attendence_list__R99VM",divider:"Attendence_divider__MjzEh",selectMonthList:"Attendence_selectMonthList__ItnM7",month:"Attendence_month__32s-8",time_slot:"Attendence_time_slot__uB3tR",time_slot_inner:"Attendence_time_slot_inner__LMrgE",al_container:"Attendence_al_container__WjTYJ",al_container_h6:"Attendence_al_container_h6__avjZi",al_container_active:"Attendence_al_container_active__mhWSf",al_container_img:"Attendence_al_container_img__CYG2U"}},26192:(e,n,t)=>{t.d(n,{Z:()=>i});const i={ongoing_card:"OngoingAdmission_ongoing_card__5LO6X",ongoing_card_active:"OngoingAdmission_ongoing_card_active__eu1jj",ongoing_card_inner:"OngoingAdmission_ongoing_card_inner__DTYKz",ongoing_card_text:"OngoingAdmission_ongoing_card_text__cj0Qv",menu_icon:"OngoingAdmission_menu_icon__SwfUu",ongoing_card_count_date:"OngoingAdmission_ongoing_card_count_date__Tzlwe",ongoing_card_count_container:"OngoingAdmission_ongoing_card_count_container__Rj5uD",ongoing_card_count_container_inner:"OngoingAdmission_ongoing_card_count_container_inner__vc5ZE",application_card:"OngoingAdmission_application_card__C2AOm",application_card_title:"OngoingAdmission_application_card_title__r3bxG",application_card_info:"OngoingAdmission_application_card_info__uq+PO",admission_confirm_class_card:"OngoingAdmission_admission_confirm_class_card__aRvXU",admission_confirm_class_card_active:"OngoingAdmission_admission_confirm_class_card_active__LHjy3",application_card_active:"OngoingAdmission_application_card_active__EcEKc",admission_collect_docs:"OngoingAdmission_admission_collect_docs__MmjG7",admission_confirm_class_count:"OngoingAdmission_admission_confirm_class_count__IsGih"}},4007:(e,n,t)=>{t.d(n,{Z:()=>i});const i={fess_container:"FeesStructure_fess_container__yP1Kr",category_header:"FeesStructure_category_header__kl9eu",category_header_title:"FeesStructure_category_header_title__Lc+5l",fees_category:"FeesStructure_fees_category__8u-dp",fees_category_icon:"FeesStructure_fees_category_icon__KjMF9",fees_category_text:"FeesStructure_fees_category_text__HnRZU",assignment_description_head:"FeesStructure_assignment_description_head__jqNtp",assignment_description:"FeesStructure_assignment_description__soumP",department_container:"FeesStructure_department_container__kCdPX",department_card_name:"FeesStructure_department_card_name__sYSOY",department_card_head:"FeesStructure_department_card_head__rVcZv",department_card_title:"FeesStructure_department_card_title__PF9km",add_new_category:"FeesStructure_add_new_category__Q1OpU",category_card:"FeesStructure_category_card__qYz0J",fees_card_text:"FeesStructure_fees_card_text__KB8GJ",category_card_fee:"FeesStructure_category_card_fee__sRR12",fees_card_text_bottom:"FeesStructure_fees_card_text_bottom__T45b7",department_card_container:"FeesStructure_department_card_container__a40wp",department_card_image:"FeesStructure_department_card_image__2FUDD",fees_card:"FeesStructure_fees_card__z+RwE",category_card_order:"FeesStructure_category_card_order__jBLeB",add_category_modal:"FeesStructure_add_category_modal__XFTGC",add_category_modal_title:"FeesStructure_add_category_modal_title__y9he4",structure_container_title:"FeesStructure_structure_container_title__Oa39N",add_category_modal_title_left:"FeesStructure_add_category_modal_title_left__JDH-M",set_fees_structure_btn:"FeesStructure_set_fees_structure_btn__NUJNj",installment_list:"FeesStructure_installment_list__b4tEe",fees_head_title:"FeesStructure_fees_head_title__aHn2H",fees_head_installment:"FeesStructure_fees_head_installment__G80fz",table_heading:"FeesStructure_table_heading__C+3Ou",table_container:"FeesStructure_table_container__GY9PB",table_body:"FeesStructure_table_body__d27RF",table_body_list:"FeesStructure_table_body_list__AIq19",fee_head_name_input:"FeesStructure_fee_head_name_input__XqDmq",fee_head_amount_input:"FeesStructure_fee_head_amount_input__IljkA",add_fees_head_btn:"FeesStructure_add_fees_head_btn__Me1Y3",fees_total:"FeesStructure_fees_total__cKFTc",fees_card_hover:"FeesStructure_fees_card_hover__Zk7go",fees_card_hover_active:"FeesStructure_fees_card_hover_active__UBnHh",fee_middle_section:"FeesStructure_fee_middle_section__gjhYY",fee_middle_confirm_button:"FeesStructure_fee_middle_confirm_button__8gUBE",fee_middle_section_container:"FeesStructure_fee_middle_section_container__9vxAB",edit_icon:"FeesStructure_edit_icon__iHti3",category_card_hover:"FeesStructure_category_card_hover__O3rP9",category_card_hover_active:"FeesStructure_category_card_hover_active__N2YXu",menu_icon:"FeesStructure_menu_icon__-c1NS",upload_excel_container:"FeesStructure_upload_excel_container__48yxn",upload_excel_file:"FeesStructure_upload_excel_file__1hxAU",seating_modal:"FeesStructure_seating_modal__cEUXs",add_category_modal_title_active:"FeesStructure_add_category_modal_title_active__bnkEx",notify_container:"FeesStructure_notify_container__f1n9o",notify_text:"FeesStructure_notify_text__Yqwka",next_btn:"FeesStructure_next_btn__Kc+CA",btn_group:"FeesStructure_btn_group__xycY6",leave_dates:"FeesStructure_leave_dates__nByRK",letter_head_container:"FeesStructure_letter_head_container__sRo4F",modal_container:"FeesStructure_modal_container__orQgp",modal_container_outer_header:"FeesStructure_modal_container_outer_header__RSzLS",modal_container_header:"FeesStructure_modal_container_header__F-XEd",fm_search_full:"FeesStructure_fm_search_full__wKV++",fm_search_full_container:"FeesStructure_fm_search_full_container__lYJ8u",fm_search_full_container_inner:"FeesStructure_fm_search_full_container_inner__pZb5S",fm_search_full_icon:"FeesStructure_fm_search_full_icon__wFTld",afsi_container:"FeesStructure_afsi_container__DBw6W"}},49806:(e,n,t)=>{t.d(n,{Z:()=>i});const i={modal_container:"PlateformUser_modal_container__tqwpY",modal_container_outer_header:"PlateformUser_modal_container_outer_header__HbF+9",modal_container_header:"PlateformUser_modal_container_header__QzyxM",modal_container_btn_container:"PlateformUser_modal_container_btn_container__3SJ8i",modal_container_header_btn:"PlateformUser_modal_container_header_btn__dWfwA",assign_search_container:"PlateformUser_assign_search_container__dJdYj",assign_search_input:"PlateformUser_assign_search_input__aFF28",assign_show_list_each:"PlateformUser_assign_show_list_each__co2b1",assign_show_list_each_active:"PlateformUser_assign_show_list_each_active__SWwFS",assign_each_paragraph:"PlateformUser_assign_each_paragraph__bDgq6",close_icon:"PlateformUser_close_icon__VXKXH",comfirm_box:"PlateformUser_comfirm_box__ntFD7",modal_container_btn:"PlateformUser_modal_container_btn__BWFB9"}}}]);
//# sourceMappingURL=44790.291b7480.chunk.js.map