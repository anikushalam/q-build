"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[5361],{65361:function(e,t,a){a.r(t),a.d(t,{default:function(){return T}});var n=a(72791),i=a(16871),s=a(39230),l=a(86861),d=a(1413),r=a(29439),c=a(33992),o=a(11105),u=a(33399),_=a(32217),v=a(80184),m=function(e){var t,a,i,m=e.instituteId,x=e.carryParentState,h=e.accessRole,p=e.callApi,f=e.viewAs,g=(0,s.$G)().t,j=n.useState(!0),Z=(0,r.Z)(j,2),y=Z[0],N=Z[1],I=(0,c.Zi)({id:m,skip:!m}),b=I.allDepartment,E=I.allDepartmentRefetch;return n.useEffect((function(){m&&E()}),[m]),n.useEffect((function(){var e,t,a;(null!==b&&void 0!==b&&null!==(e=b.institute)&&void 0!==e&&e.depart||0===(null===b||void 0===b||null===(t=b.institute)||void 0===t||null===(a=t.depart)||void 0===a?void 0:a.length))&&N(!1)}),[null===b||void 0===b||null===(t=b.institute)||void 0===t?void 0:t.depart]),(0,v.jsxs)("div",{className:u.Z.department_container,children:[null===b||void 0===b||null===(a=b.institute)||void 0===a||null===(i=a.depart)||void 0===i?void 0:i.map((function(e){var t,a;return"INSTITUTE"===f?(0,v.jsx)(_.Z,{carryParentState:(0,d.Z)((0,d.Z)({},x),{},{did:null===e||void 0===e?void 0:e._id,dName:null===e||void 0===e?void 0:e.dName}),activeTab:"?a=fee&n=structure&batch",children:(0,v.jsxs)("div",{className:u.Z.department_card_container,children:[(0,v.jsx)("img",{src:"/images/profileAndCover/department-profile-img.svg",alt:"department avatar",className:u.Z.department_card_image}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h6",{className:u.Z.department_card_name,children:(null===e||void 0===e?void 0:e.dName)||""}),(0,v.jsxs)("p",{className:u.Z.department_card_head,children:[g("total_masters")," ",null!==(t=null===e||void 0===e?void 0:e.classMasterCount)&&void 0!==t?t:0]})]})]})},null===e||void 0===e?void 0:e._id):(0,v.jsx)(l.Z,{carryParentState:(0,d.Z)((0,d.Z)({},x),{},{did:null===e||void 0===e?void 0:e._id,dName:null===e||void 0===e?void 0:e.dName}),activeTab:"fee&n=structure&batch",accessRole:h,callApi:p,children:(0,v.jsxs)("div",{className:u.Z.department_card_container,children:[(0,v.jsx)("img",{src:"/images/profileAndCover/department-profile-img.svg",alt:"department avatar",className:u.Z.department_card_image}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h6",{className:u.Z.department_card_name,children:(null===e||void 0===e?void 0:e.dName)||""}),(0,v.jsxs)("p",{className:u.Z.department_card_head,children:[g("total_masters")," ",null!==(a=null===e||void 0===e?void 0:e.classMasterCount)&&void 0!==a?a:0]})]})]})},null===e||void 0===e?void 0:e._id)})),y&&(0,v.jsx)(o.Z,{})]})},x=function(e){var t,a,n=e.instituteId,i=e.fees_category_count,d=e.fee_master_array_count,r=e.carryParentState,c=e.accessRole,o=e.callApi,x=e.viewAs,h=(0,s.$G)().t;return(0,v.jsxs)(v.Fragment,{children:["INSTITUTE"===x?(0,v.jsx)(_.Z,{carryParentState:r,activeTab:"?a=fee&n=category",children:(0,v.jsxs)("div",{className:u.Z.fees_category,children:[(0,v.jsx)("div",{className:u.Z.fees_category_icon,children:(0,v.jsx)("img",{src:"/images/fees-category-icon.svg",alt:"categor icon"})}),(0,v.jsxs)("div",{className:u.Z.fees_category_text,children:[(0,v.jsx)("h6",{children:h("fees_master")}),(0,v.jsxs)("p",{children:[h("fees_total")," ",null!==(t=i+d)&&void 0!==t?t:0]})]})]})}):(0,v.jsx)(l.Z,{carryParentState:r,activeTab:"fee&n=category",accessRole:c,callApi:o,children:(0,v.jsxs)("div",{className:u.Z.fees_category,children:[(0,v.jsx)("div",{className:u.Z.fees_category_icon,children:(0,v.jsx)("img",{src:"/images/fees-category-icon.svg",alt:"categor icon"})}),(0,v.jsxs)("div",{className:u.Z.fees_category_text,children:[(0,v.jsx)("h6",{children:h("fees_master")}),(0,v.jsxs)("p",{children:[h("fees_total")," ",null!==(a=i+d)&&void 0!==a?a:0]})]})]})}),(0,v.jsx)(m,{instituteId:n,carryParentState:r,accessRole:c,callApi:o,viewAs:x})]})},h=a(91104),p=a(98094),f=a(72426),g=a.n(f),j=a(66184),Z=function(e){var t,a,i=e.departmentId,r=e.carryParentState,o=e.accessRole,u=e.callApi,m=e.viewAs,x=(0,s.$G)().t,h=(0,c._C)({did:i,skip:!i}),p=h.oneDepartment,f=h.oneDepartmentRefetch;return(0,n.useEffect)((function(){i&&f()}),[i,f]),(0,v.jsx)(v.Fragment,{children:null===p||void 0===p||null===(t=p.department)||void 0===t||null===(a=t.batches)||void 0===a?void 0:a.map((function(e){return"INSTITUTE"===m?(0,v.jsx)(_.Z,{carryParentState:(0,d.Z)((0,d.Z)({},r),{},{batchId:null===e||void 0===e?void 0:e._id}),activeTab:"?a=fee&n=structure&standard",children:(0,v.jsxs)("div",{className:j.Z.class_container,children:[(0,v.jsx)("img",{className:j.Z.oneRowImage,src:"/images/master-24-grey-icon.svg",alt:"batch icon"}),(0,v.jsxs)("div",{className:j.Z.class_container_text,children:[(0,v.jsx)("h6",{children:null===e||void 0===e?void 0:e.batchName}),(0,v.jsxs)("p",{children:[x("created_on"),g()(e.createdAt).format("DD MMM yyyy")]})]})]})},null===e||void 0===e?void 0:e._id):(0,v.jsx)(l.Z,{carryParentState:(0,d.Z)((0,d.Z)({},r),{},{batchId:null===e||void 0===e?void 0:e._id}),activeTab:"fee&n=structure&standard",accessRole:o,callApi:u,children:(0,v.jsxs)("div",{className:j.Z.class_container,children:[(0,v.jsx)("img",{className:j.Z.oneRowImage,src:"/images/master-24-grey-icon.svg",alt:"batch icon"}),(0,v.jsxs)("div",{className:j.Z.class_container_text,children:[(0,v.jsx)("h6",{children:null===e||void 0===e?void 0:e.batchName}),(0,v.jsxs)("p",{children:[x("created_on"),g()(e.createdAt).format("DD MMM yyyy")]})]})]})},null===e||void 0===e?void 0:e._id)}))})},y=a(29017),N=function(e){var t,a=e.carryParentState,i=e.accessRole,s=e.departmentId,r=e.callApi,c=e.viewAs,o=(0,y.Wi)({did:s,skip:!s}),u=o.admissionClassMasterList,m=o.admissionClassMasterListRefetch;return(0,n.useEffect)((function(){s&&m()}),[s,m]),(0,v.jsx)(v.Fragment,{children:null===u||void 0===u||null===(t=u.classMasters)||void 0===t?void 0:t.map((function(e){return"INSTITUTE"===c?(0,v.jsx)(_.Z,{carryParentState:(0,d.Z)((0,d.Z)({},a),{},{clsId:null===e||void 0===e?void 0:e._id}),activeTab:"?a=fee&n=structure",children:(0,v.jsxs)("div",{className:j.Z.class_container,children:[(0,v.jsx)("img",{className:j.Z.oneRowImage,src:"/images/master-24-grey-icon.svg",alt:"batch icon"}),(0,v.jsx)("div",{className:j.Z.class_container_text,children:(0,v.jsx)("h6",{children:null===e||void 0===e?void 0:e.className})})]})},null===e||void 0===e?void 0:e._id):(0,v.jsx)(l.Z,{carryParentState:(0,d.Z)((0,d.Z)({},a),{},{clsId:null===e||void 0===e?void 0:e._id}),activeTab:"fee&n=structure",accessRole:i,callApi:r,children:(0,v.jsxs)("div",{className:j.Z.class_container,children:[(0,v.jsx)("img",{className:j.Z.oneRowImage,src:"/images/master-24-grey-icon.svg",alt:"batch icon"}),(0,v.jsx)("div",{className:j.Z.class_container_text,children:(0,v.jsx)("h6",{children:null===e||void 0===e?void 0:e.className})})]})},null===e||void 0===e?void 0:e._id)}))})},I=a(93433),b=a(23441),E=a(84959),D=a(87932),S=a(98734),A=a(33302),w=a(66328),R=function(e){var t,a=e.financeId,i=e.getQuery,l=e.instituteId,d=(0,s.$G)().t,c=(0,n.useState)(!1),_=(0,r.Z)(c,2),m=_[0],x=_[1],h=(0,b.YD)(),f=(0,r.Z)(h,2),g=f[0],j=f[1],Z=(0,n.useState)(1),y=(0,r.Z)(Z,2),N=y[0],R=y[1],F=(0,n.useState)(!0),T=(0,r.Z)(F,2),P=T[0],C=T[1],k=(0,n.useState)(!1),M=(0,r.Z)(k,2),U=M[0],G=M[1],J=(0,n.useState)(!0),K=(0,r.Z)(J,2),Y=K[0],q=K[1],B=(0,n.useState)([]),L=(0,r.Z)(B,2),$=L[0],O=L[1],Q=(0,n.useState)(""),X=(0,r.Z)(Q,2),W=X[0],z=X[1],H=(0,n.useState)(!1),V=(0,r.Z)(H,2),ee=V[0],te=V[1],ae=(0,E.FL)(),ne=(0,r.Z)(ae,1)[0],ie=(0,D.PY)(),se=(0,r.Z)(ie,1)[0],le=(0,D.rU)({data:{did:null===i||void 0===i?void 0:i.did,filterBy:null===i||void 0===i?void 0:i.clsId,page:N,limit:10,batch_by:null===i||void 0===i?void 0:i.batchId},skip:!(null!==i&&void 0!==i&&i.did)}),de=le.getAllFeesStructure,re=le.getAllFeesStructureRefetch;(0,n.useEffect)((function(){null!==i&&void 0!==i&&i.did&&(q(!0),re())}),[null===i||void 0===i?void 0:i.did,N,re]),(0,n.useEffect)((function(){j&&P&&R((function(e){return e+1}))}),[j,P]),(0,n.useEffect)((function(){var e,t;U?(O(null===de||void 0===de?void 0:de.all_structures),q(!1),G(!1)):null!==de&&void 0!==de&&de.all_structures?(O((function(e){var t,a;return null===(t=(0,I.Z)(new Set(null===(a=[].concat((0,I.Z)(e),(0,I.Z)(null===de||void 0===de?void 0:de.all_structures)))||void 0===a?void 0:a.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),q(!1)):0===(null===de||void 0===de||null===(t=de.all_structures)||void 0===t?void 0:t.length)&&q(!1);10===(null===de||void 0===de||null===(e=de.all_structures)||void 0===e?void 0:e.length)?C(!0):C(!1)}),[null===de||void 0===de?void 0:de.all_structures]);var ce=function(){x((function(e){return!e}))},oe=function(){R(1),G(!0),q(!0),re()};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:u.Z.structure_container_title,children:[(0,v.jsx)("h6",{children:null!==(t=null===i||void 0===i?void 0:i.dName)&&void 0!==t?t:""}),(0,v.jsxs)("div",{className:u.Z.upload_excel_container,children:[(0,v.jsx)("label",{className:u.Z.upload_excel_file,htmlFor:"uploadExcel",children:(0,v.jsx)("img",{src:"/images/upload-xslx-icon.svg",alt:"add student icon",title:"Upload excel file"})}),(0,v.jsx)("input",{type:"file",id:"uploadExcel",accept:".xlsx",onChange:function(e){te((function(e){return!e}));var t=new FormData;t.append("file",e.target.files[0]),ne({fileUpload:t}).then((function(e){var t,n;null!==(t=e.data)&&void 0!==t&&t.imageKey?se({fid:a,did:null===i||void 0===i?void 0:i.did,excelFile:{excel_file:null===(n=e.data)||void 0===n?void 0:n.imageKey}}).then((function(){te((function(e){return!e}))})).catch({}):te((function(e){return!e}))})).catch({})},style:{display:"none"}}),(0,v.jsx)("p",{className:u.Z.add_new_category,onClick:ce,children:d("add_new_fees_structure")})]})]}),(0,v.jsx)(p.Z,{customStyle:{marginBottom:"1rem"}}),null===$||void 0===$?void 0:$.map((function(e,t){var a,n,i,s,l,r,c,o,_,m;return(null===$||void 0===$?void 0:$.length)===t+1?(0,v.jsxs)("div",{className:u.Z.fees_card,ref:g,onClick:function(){return z(null===e||void 0===e?void 0:e._id)},style:{cursor:"pointer"},children:[(0,v.jsx)("img",{src:"/images/fees-category-icon.svg",alt:"categor icon"}),(0,v.jsxs)("div",{className:u.Z.fees_card_text,children:[(0,v.jsxs)("div",{className:u.Z.fees_card_text_bottom,children:[(0,v.jsx)("h6",{children:null!==(a=null===e||void 0===e||null===(n=e.category_master)||void 0===n?void 0:n.category_name)&&void 0!==a?a:""}),(0,v.jsx)("h6",{children:"(".concat(d("rs"),". ").concat(null!==(i=null===e||void 0===e?void 0:e.applicable_fees)&&void 0!==i?i:0,")")})]}),(0,v.jsxs)("div",{className:u.Z.fees_card_text_bottom,children:[(0,v.jsx)("h6",{children:null!==(s=null===e||void 0===e?void 0:e.structure_name)&&void 0!==s?s:""}),(0,v.jsxs)("h6",{children:[d("rs"),".",null!==(l=null===e||void 0===e?void 0:e.total_admission_fees)&&void 0!==l?l:0]})]})]})]},null===e||void 0===e?void 0:e._id):(0,v.jsxs)("div",{className:u.Z.fees_card,onClick:function(){return z(null===e||void 0===e?void 0:e._id)},style:{cursor:"pointer"},children:[(0,v.jsx)("img",{src:"/images/fees-category-icon.svg",alt:"categor icon"}),(0,v.jsxs)("div",{className:u.Z.fees_card_text,children:[(0,v.jsxs)("div",{className:u.Z.fees_card_text_bottom,children:[(0,v.jsx)("h6",{children:null!==(r=null===e||void 0===e||null===(c=e.category_master)||void 0===c?void 0:c.category_name)&&void 0!==r?r:""}),(0,v.jsx)("h6",{children:"(".concat(d("rs"),". ").concat(null!==(o=null===e||void 0===e?void 0:e.applicable_fees)&&void 0!==o?o:0,")")})]}),(0,v.jsxs)("div",{className:u.Z.fees_card_text_bottom,children:[(0,v.jsx)("h6",{children:null!==(_=null===e||void 0===e?void 0:e.structure_name)&&void 0!==_?_:""}),(0,v.jsxs)("h6",{children:[d("rs"),".",null!==(m=null===e||void 0===e?void 0:e.total_admission_fees)&&void 0!==m?m:0]})]})]})]},null===e||void 0===e?void 0:e._id)})),ee&&(0,v.jsx)(S.Z,{}),Y&&(0,v.jsx)(o.Z,{}),m&&(0,v.jsx)(A.Z,{onClose:ce,financeId:a,departmentId:null===i||void 0===i?void 0:i.did,onRefetch:oe,instituteId:l,flowAs:"Finance_Manager"}),W&&(0,v.jsx)(w.Z,{structureId:W,setStructureId:z,onRefetch:oe,departmentId:null===i||void 0===i?void 0:i.did,instituteId:l,financeId:a,flowAs:"Finance_Manager"})]})},F=function(e){var t,a,l,d,c,o,_,m,x,h,f=e.financeId,g=e.instituteId,j=e.accessRole,y=e.callApi,I=e.viewAs,b=(0,i.TH)(),w=(0,s.$G)().t,F=(0,n.useState)(!1),T=(0,r.Z)(F,2),P=T[0],C=T[1],k=(0,n.useState)(!1),M=(0,r.Z)(k,2),U=M[0],G=M[1],J=(0,E.FL)(),K=(0,r.Z)(J,1)[0],Y=(0,D.PY)(),q=(0,r.Z)(Y,1)[0],B=function(){C((function(e){return!e}))};return(0,v.jsxs)(v.Fragment,{children:["structure"===(null===b||void 0===b||null===(t=b.search)||void 0===t?void 0:t.substring(9))?(0,v.jsx)(R,{financeId:f,instituteId:g,getQuery:b.state}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:u.Z.structure_container_title,children:[(0,v.jsx)("h6",{children:null!==(a=null===(l=b.state)||void 0===l?void 0:l.dName)&&void 0!==a?a:""}),(0,v.jsxs)("div",{className:u.Z.upload_excel_container,children:[(0,v.jsx)("label",{className:u.Z.upload_excel_file,htmlFor:"uploadExcel",children:(0,v.jsx)("img",{src:"/images/upload-xslx-icon.svg",alt:"add student icon",title:"Upload excel file"})}),(0,v.jsx)("input",{type:"file",id:"uploadExcel",accept:".xlsx",onChange:function(e){var t;if(null!==(t=e.target.files)&&void 0!==t&&t.length){G((function(e){return!e}));var a=new FormData;a.append("file",e.target.files[0]),K({fileUpload:a}).then((function(e){var t,a,n;null!==(t=e.data)&&void 0!==t&&t.imageKey?q({fid:f,did:null===(a=b.state)||void 0===a?void 0:a.did,excelFile:{excel_file:null===(n=e.data)||void 0===n?void 0:n.imageKey}}).then((function(){G((function(e){return!e}))})).catch({}):G((function(e){return!e}))})).catch({})}},style:{display:"none"}}),(0,v.jsx)("p",{className:u.Z.add_new_category,onClick:B,children:w("add_new_fees_structure")})]})]}),(0,v.jsx)(p.Z,{customStyle:{marginBottom:"1rem"}})]}),"structure&batch"===(null===b||void 0===b||null===(d=b.search)||void 0===d?void 0:d.substring(9))&&(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(Z,{departmentId:null!==(c=null===b||void 0===b||null===(o=b.state)||void 0===o?void 0:o.did)&&void 0!==c?c:"",carryParentState:null===b||void 0===b?void 0:b.state,accessRole:j,callApi:y,viewAs:I})}),"structure&standard"===(null===b||void 0===b||null===(_=b.search)||void 0===_?void 0:_.substring(9))&&(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(N,{departmentId:null!==(m=null===b||void 0===b||null===(x=b.state)||void 0===x?void 0:x.did)&&void 0!==m?m:"",carryParentState:null===b||void 0===b?void 0:b.state,accessRole:j,callApi:y,viewAs:I})}),U&&(0,v.jsx)(S.Z,{}),P&&(0,v.jsx)(A.Z,{onClose:B,financeId:f,departmentId:null===(h=b.state)||void 0===h?void 0:h.did,onRefetch:function(){},instituteId:g,flowAs:"Finance_Manager"})]})},T=function(e){var t,a,n,s=e.financeId,l=e.instituteId,d=e.fees_category_count,r=e.fee_master_array_count,c=e.carryParentState,o=e.accessRole,_=e.callApi,m=e.viewAs,p=(0,i.TH)();return(0,v.jsxs)("div",{className:u.Z.fess_container,children:["fee"===(null===p||void 0===p||null===(t=p.search)||void 0===t?void 0:t.substring(3))&&(0,v.jsx)(x,{instituteId:l,fees_category_count:d,carryParentState:c,fee_master_array_count:r,accessRole:o,callApi:_,viewAs:m}),"category"===(null===p||void 0===p||null===(a=p.search)||void 0===a?void 0:a.substring(9))&&(0,v.jsx)(h.Z,{financeId:s}),"structure"===(null===p||void 0===p||null===(n=p.search)||void 0===n?void 0:n.substring(9,18))&&(0,v.jsx)(F,{financeId:s,instituteId:l,accessRole:o,callApi:_,viewAs:m})]})}},66184:function(e,t){t.Z={departmenthead:"ExamDepartment_departmenthead__Xh3As",demaprtment_list:"ExamDepartment_demaprtment_list__z2iRe",department_card_container:"ExamDepartment_department_card_container__qFMrc",department_card_image:"ExamDepartment_department_card_image__J6fqp",department_card_name:"ExamDepartment_department_card_name__jM+Nw",department_card_head:"ExamDepartment_department_card_head__Wqo+A",moderator_container_title:"ExamDepartment_moderator_container_title__7-Q25",with_search:"ExamDepartment_with_search__8IQE0",search_container_input:"ExamDepartment_search_container_input__Ts-kU",searchIcon:"ExamDepartment_searchIcon__0UsSf",class_container:"ExamDepartment_class_container__2Jbtn",class_container_text:"ExamDepartment_class_container_text__ZEb2P",oneRowImage:"ExamDepartment_oneRowImage__7+rr7",total_student_count:"ExamDepartment_total_student_count__oIOYD",total_other_count_container:"ExamDepartment_total_other_count_container__+KDGx",student_container:"ExamDepartment_student_container__exLvA",student_info_container:"ExamDepartment_student_info_container__TFXJh",student_info_text:"ExamDepartment_student_info_text__7OoR3",select_application_btn:"ExamDepartment_select_application_btn__XB+dU",promote_container:"ExamDepartment_promote_container__9Fm-W",promote_student_card:"ExamDepartment_promote_student_card__bkCGj",promote_student_cardActive:"ExamDepartment_promote_student_cardActive__cDYXf",promote_student_card_text:"ExamDepartment_promote_student_card_text__0K8wJ",promote_student_name:"ExamDepartment_promote_student_name__DDcYD",select_header:"ExamDepartment_select_header__wzRBE",select_all_btn:"ExamDepartment_select_all_btn__rEfea"}}}]);
//# sourceMappingURL=5361.3bc74e6f.chunk.js.map