"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[5407],{5407:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var i=n(72791),o=n(9447),s=n(13688),l=n(69721);const d="EachNestedComment_eachComment__Yp1ET",m="EachNestedComment_imgcontainer__GalK4",a="EachNestedComment_commentText__7zNCO",c="EachNestedComment_eachCommentContainer__eeCVJ",r="EachNestedComment_dots__bR3MT",v="EachNestedComment_time__u9Zlo";var u=n(98684),h=n(80184);const p=function(e){let{comment:t}=e;return(0,h.jsxs)("div",{className:c,children:[(0,h.jsxs)("div",{className:d,children:[(0,h.jsx)("div",{className:m,children:(0,h.jsx)("img",{src:"1"!==(null===t||void 0===t?void 0:t.authorPhotoId)?"".concat(l.yI,"/").concat(t.authorProfilePhoto):"".concat(u.p3,"/feed-user-avatar.svg"),alt:""})}),(0,h.jsxs)("div",{className:a,children:[(0,h.jsx)("h6",{children:null===t||void 0===t?void 0:t.authorUserName}),(0,h.jsx)("p",{children:null===t||void 0===t?void 0:t.repliedComment})]})]}),(0,h.jsx)("div",{className:r,children:(0,h.jsx)("p",{className:v,children:(0,s.WU)(null===t||void 0===t?void 0:t.createdAt)})})]})},C={eachComment:"NestedComments_eachComment__pANlV",addComment:"NestedComments_addComment__t172M",imgcontainer:"NestedComments_imgcontainer__t7PYl",inputContainer:"NestedComments_inputContainer__xy2lD",hr:"NestedComments_hr__uf04W",icons:"NestedComments_icons__pg5T8",btn:"NestedComments_btn__-gMA2"};var _=n(95048),N=n(70092),x=n(23441),j=n(39230),f=n(16256),g=n(47184),y=n(39480);const I=function(e){var t,n;let{pcid:s,pid:d}=e;const[m,a]=(0,i.useState)(1),{t:c}=(0,j.$G)(),[r,v]=(0,x.YD)(),[u,I]=(0,i.useState)(!0),E=(0,i.useRef)(""),R=(0,_.v9)((e=>e.idChange)),k=(0,_.v9)((e=>e.postChange.replyComments)),b=(0,_.I0)(),{allReplyComment:P,allReplyCommentRefetch:A}=(0,o._X)({data:{pcid:s||"",page:m,limit:10,viewAs:f.UJ},skip:!1}),[w]=(0,o.ro)(),{oneInstituteDashboard:D,oneInstituteDashboardRefetch:T}=(0,y.gq)({id:null===R||void 0===R?void 0:R.id,skip:!(null!==R&&void 0!==R&&R.id)});return(0,i.useEffect)((()=>{null!==R&&void 0!==R&&R.id&&T()}),[null===R||void 0===R?void 0:R.id,T]),(0,i.useEffect)((()=>{v&&u&&a((e=>e+1))}),[v,u]),(0,i.useEffect)((()=>{A()}),[m,A,u]),(0,i.useEffect)((()=>{var e;null!==P&&void 0!==P&&P.replyComment&&b(N.p.addReplyComment({commentId:s,reply:null===P||void 0===P?void 0:P.replyComment})),10===(null===P||void 0===P||null===(e=P.replyComment)||void 0===e?void 0:e.length)?I(!0):I(!1)}),[null===P||void 0===P?void 0:P.replyComment,b,s]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:C.eachComment,children:[(0,h.jsxs)("div",{className:C.addComment,children:[(0,h.jsxs)("div",{className:C.imgcontainer,children:[(0,h.jsx)(g.Z,{dynamicImage:"1"!==(null===D||void 0===D||null===(t=D.institute)||void 0===t?void 0:t.photoId)?"".concat(l.yI,"/").concat(null===D||void 0===D||null===(n=D.institute)||void 0===n?void 0:n.insProfilePhoto):"/images/ins_default_profile.svg"})," "]}),(0,h.jsxs)("div",{className:C.inputContainer,children:[(0,h.jsx)("input",{type:"text",ref:E,placeholder:c("add_a_reply"),className:"form-control ".concat(C.searchinput)}),(0,h.jsxs)("div",{className:C.icons,children:[(0,h.jsx)("img",{src:"/images/img-icon.svg",alt:""}),(0,h.jsx)("img",{src:"/images/emoji-icon.svg",alt:""})]})]})]}),(0,h.jsx)("div",{className:C.btn,onClick:()=>{b(N.p.addReplyCommentCount({commentId:s,postId:d})),w({replyComment:{comment:E.current.value,uid:R.id},pcid:s,viewAs:f.UJ}).then((e=>{var t;b(N.p.addReplyCreatedComment({commentId:s,reply:null===(t=e.data)||void 0===t?void 0:t.childReplyComment}))})).catch({}),E.current.value=""},children:c("reply")})]}),null===k||void 0===k?void 0:k.map((e=>{var t;return e.commentId===s?null===e||void 0===e||null===(t=e.reply)||void 0===t?void 0:t.map(((t,n)=>{var i;return(null===e||void 0===e||null===(i=e.reply)||void 0===i?void 0:i.length)===n+1?(0,h.jsxs)("div",{className:C.eachComment,ref:r,children:[(0,h.jsx)(p,{comment:t}),(0,h.jsx)("hr",{})]},n):(0,h.jsxs)("div",{className:C.eachComment,children:[(0,h.jsx)(p,{comment:t}),(0,h.jsx)("hr",{})]},n)})):""}))]})}}}]);
//# sourceMappingURL=5407.0d818fab.chunk.js.map