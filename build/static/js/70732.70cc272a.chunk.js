"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[70732],{70732:(n,i,l)=>{l.r(i),l.d(i,{default:()=>R});var e=l(16871),t=l(43504),d=l(98684),o=l(90904),s=l(63162),u=l(98967),a=l(63687),v=l(21348),c=l(72791),r=l(56959),p=l(39230),m=l(23441),h=l(43317),_=l(75285),f=l(1095),x=l(97892),g=l.n(x),j=l(75235),I=l(31697),N=l(55336),Z=l(63281),b=l(80184);const y=n=>{var i,l,t,o,s,u,a,v,r,m,x,y,S,P,w,C,k,M,A,D,U,T,F,E,q,R,L,Y,O,z,K,G,V,$,B,H,J,Q;let{instituteId:W,applicant:X,did:nn,bid:ln,cmid:en,appId:tn,onRefetch:dn}=n;const{t:on}=(0,p.$G)(),sn=(0,e.UO)(),un=(0,e.s0)(),an=(0,e.TH)(),[vn,cn]=(0,c.useState)(0),[rn,pn]=(0,c.useState)(!1),[mn]=(0,h.ur)(),[hn]=(0,h.u8)(),_n=(0,c.useCallback)((()=>{var n,i,l;un("/q/".concat(sn.username,"/student/profile"),{state:{sid:null===X||void 0===X||null===(n=X.student)||void 0===n?void 0:n._id,viewAs:"ADMISSION_ADMIN",instituteId:W,whichUrl:"Institute"===(null===(i=an.state)||void 0===i?void 0:i.urlOffSet)?"INSTITUTE":null,onlyReadView:null===(l=an.state)||void 0===l?void 0:l.role,subjectData:{subjectChange:"authorized",appId:tn}}})}),[W,null===X||void 0===X||null===(i=X.student)||void 0===i?void 0:i._id]),fn=()=>{cn("")};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:_.Z.oac_container,onClick:_n,title:"View Profile",children:[(0,b.jsxs)("div",{className:_.Z.oac_container_inner,children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==X&&void 0!==X&&null!==(l=X.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(f.yI,"/").concat(null===X||void 0===X||null===(t=X.student)||void 0===t?void 0:t.studentProfilePhoto):"".concat(d.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsxs)("div",{className:_.Z.oac_container_inner_info,children:[(0,b.jsx)("h6",{children:"".concat(null!==(o=null===X||void 0===X||null===(s=X.student)||void 0===s?void 0:s.studentFirstName)&&void 0!==o?o:""," ").concat(null!==X&&void 0!==X&&null!==(u=X.student)&&void 0!==u&&u.studentMiddleName?null===X||void 0===X||null===(a=X.student)||void 0===a?void 0:a.studentMiddleName:""," ").concat(null!==(v=null===X||void 0===X||null===(r=X.student)||void 0===r?void 0:r.studentLastName)&&void 0!==v?v:"")}),(0,b.jsxs)("h6",{children:[on("fee_structure")," : ",null!==(m=null===X||void 0===X||null===(x=X.student)||void 0===x||null===(y=x.fee_structure)||void 0===y||null===(S=y.category_master)||void 0===S?void 0:S.category_name)&&void 0!==m?m:"",", ",on("rs_only")," ",null!==(P=null===X||void 0===X||null===(w=X.student)||void 0===w||null===(C=w.fee_structure)||void 0===C?void 0:C.applicable_fees)&&void 0!==P?P:""]}),(0,b.jsxs)("p",{children:[on("form_no_only"),": ",null!==(k=null===X||void 0===X||null===(M=X.student)||void 0===M?void 0:M.form_no)&&void 0!==k?k:""]}),(0,b.jsx)("p",{children:null!==X&&void 0!==X&&X.install_type?null===X||void 0===X?void 0:X.install_type:"\n          ".concat(on("select_on"),":\n          ").concat(g()(null===X||void 0===X?void 0:X.select_on).format("DD MMM YYYY"))})]})]}),(0,b.jsxs)("div",{className:_.Z.oac_container_contact,children:[(0,b.jsxs)("div",{className:_.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(d.U_,"/gender.svg"),alt:"email icon"}),(0,b.jsx)("p",{children:null===X||void 0===X||null===(A=X.student)||void 0===A?void 0:A.studentGender})]}),(0,b.jsxs)("div",{className:_.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(d.U_,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{children:null!==X&&void 0!==X&&null!==(D=X.student)&&void 0!==D&&null!==(U=D.user)&&void 0!==U&&U.userPhoneNumber?null===X||void 0===X||null===(T=X.student)||void 0===T||null===(F=T.user)||void 0===F?void 0:F.userPhoneNumber:null!==X&&void 0!==X&&null!==(E=X.student)&&void 0!==E&&null!==(q=E.user)&&void 0!==q&&q.userEmail?null===X||void 0===X||null===(R=X.student)||void 0===R||null===(L=R.user)||void 0===L?void 0:L.userEmail:null!==X&&void 0!==X&&null!==(Y=X.student)&&void 0!==Y&&Y.studentPhoneNumber?null===X||void 0===X||null===(O=X.student)||void 0===O?void 0:O.studentPhoneNumber:null!==X&&void 0!==X&&null!==(z=X.student)&&void 0!==z&&z.studentParentsPhoneNumber?null===X||void 0===X||null===(K=X.student)||void 0===K?void 0:K.studentParentsPhoneNumber:null!==(G=null===X||void 0===X||null===(V=X.student)||void 0===V?void 0:V.studentEmail)&&void 0!==G?G:""})]})]}),(0,b.jsxs)("div",{className:_.Z.oac_container_stuff,style:{width:"24%"},children:[(0,b.jsx)("a",{href:"".concat(f.q2,"/").concat(null===X||void 0===X||null===($=X.student)||void 0===$||null===(B=$.application_print)||void 0===B||null===(H=B[0])||void 0===H?void 0:H.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:n=>{n.stopPropagation()},children:(0,b.jsx)("img",{src:"".concat(d.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),(0,b.jsx)("img",{src:"".concat(d.J7,"/edit.svg"),alt:"edit icon",onClick:n=>{n.stopPropagation(),cn(1)}}),(0,b.jsx)("img",{src:"".concat(d.U_,"/undo.svg"),alt:"undo icon",style:{width:"30px",height:"30px"},onClick:n=>{var i,l,e;(n.stopPropagation(),null!==X&&void 0!==X&&null!==(i=X.student)&&void 0!==i&&i._id&&tn&&null!==X&&void 0!==X&&X.revert_request_status)&&(pn((n=>!n)),hn({sid:null===X||void 0===X||null===(l=X.student)||void 0===l?void 0:l._id,appId:tn,revert:{statusId:null===X||void 0===X?void 0:X.revert_request_status,staffId:null===(e=an.state)||void 0===e?void 0:e.sid}}).then((()=>{dn(),pn((n=>!n))})).catch((()=>{pn((n=>!n))})))},title:"Undo Application"}),(0,b.jsx)(I.Z,{label:"collect_docs",onAction:n=>{n.stopPropagation(),cn(2)},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}})]})]}),1===vn?(0,b.jsx)(j.Z,{onClose:fn,onSelectedStrucutre:n=>{var i,l,e;null!==X&&void 0!==X&&null!==(i=X.student)&&void 0!==i&&i._id&&tn&&null!==n&&void 0!==n&&n._id&&(pn((n=>!n)),mn({sid:null===X||void 0===X||null===(l=X.student)||void 0===l?void 0:l._id,appId:tn,applicant:{fee_struct:null===n||void 0===n?void 0:n._id,staffId:null===(e=an.state)||void 0===e?void 0:e.sid}}).then((()=>{dn(),fn(),pn((n=>!n))})).catch((()=>{pn((n=>!n))})))},did:nn,bid:ln,cmid:en,selectedStructure:null===X||void 0===X||null===(J=X.student)||void 0===J||null===(Q=J.fee_structure)||void 0===Q?void 0:Q._id}):2===vn?(0,b.jsx)(Z.Z,{onClose:fn,onRefetch:dn,applicant:X,appId:tn}):null,rn&&(0,b.jsx)(N.Z,{})]})};var S=l(23984);const P=n=>{let{children:i}=n;return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(S.Z,{customStyle:{justifyContent:"space-between",marginBottom:"0.7rem"},children:(0,b.jsx)("div",{className:r.Z.fm_search_full,children:(0,b.jsx)("section",{className:r.Z.fm_search_full_container,children:(0,b.jsxs)("div",{className:r.Z.fm_search_full_container_inner,children:[(0,b.jsx)("img",{className:r.Z.fm_search_full_icon,alt:"search icon",src:"".concat(d.dB,"/navbar-search.svg")}),i]})})})})})};var w=l(91427),C=l(2651),k=l(1669);const M=n=>{var i,l,e,t;let{instituteId:d,aid:o}=n;const{t:s}=(0,p.$G)(),[u,a]=(0,c.useState)(""),[v,r]=(0,c.useState)(""),[_,f]=(0,c.useState)(1),[x,g]=(0,c.useState)(!0),[j,I]=(0,m.YD)({skip:u}),{admissionMergedApplicationDocumentList:Z,admissionMergedApplicationDocumentListLoading:S,admissionMergedApplicationDocumentListRefetch:M}=(0,h.M7)({data:{aid:o,page:_,limit:10,search:u},skip:!o});(0,c.useEffect)((()=>{I&&x&&f((n=>n+1))}),[I,x]),(0,c.useEffect)((()=>{var n;if(null!==Z&&void 0!==Z&&null!==(n=Z.list)&&void 0!==n&&n.length){var i;let n=(0,w.f)(null===Z||void 0===Z||null===(i=Z.list)||void 0===i?void 0:i.length);g((()=>n))}}),[null===Z||void 0===Z||null===(i=Z.list)||void 0===i?void 0:i.length]);const A=(0,c.useCallback)((()=>{f((()=>1)),M()}),[]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(P,{children:(0,b.jsx)("input",{type:"text",placeholder:s("search_applicants"),onChange:n=>{var i;!S&&(null===Z||void 0===Z||null===(i=Z.list)||void 0===i?void 0:i.length)>=0&&r(n.target.value)},onKeyUp:n=>{"Enter"===n.key&&(f((()=>1)),a(v))},value:v})}),null===Z||void 0===Z||null===(l=Z.list)||void 0===l?void 0:l.map(((n,i)=>{var l,e,t,o,s,u,a,v,c,r,p,m,h,_,f,x,g;return(null===Z||void 0===Z||null===(l=Z.list)||void 0===l?void 0:l.length)===i+1?(0,b.jsx)("div",{ref:j,children:(0,b.jsx)(y,{applicant:n,instituteId:d,did:null===n||void 0===n||null===(e=n.student)||void 0===e||null===(t=e.new_app)||void 0===t?void 0:t.applicationDepartment,bid:null===n||void 0===n||null===(o=n.student)||void 0===o||null===(s=o.new_app)||void 0===s?void 0:s.applicationBatch,cmid:null===n||void 0===n||null===(u=n.student)||void 0===u||null===(a=u.new_app)||void 0===a?void 0:a.applicationMaster,onRefetch:A,appId:null===n||void 0===n||null===(v=n.student)||void 0===v||null===(c=v.new_app)||void 0===c?void 0:c.appId})},null===n||void 0===n?void 0:n._id):(0,b.jsx)(y,{applicant:n,instituteId:d,did:null===n||void 0===n||null===(r=n.student)||void 0===r||null===(p=r.new_app)||void 0===p?void 0:p.applicationDepartment,bid:null===n||void 0===n||null===(m=n.student)||void 0===m||null===(h=m.new_app)||void 0===h?void 0:h.applicationBatch,cmid:null===n||void 0===n||null===(_=n.student)||void 0===_||null===(f=_.new_app)||void 0===f?void 0:f.applicationMaster,onRefetch:A,appId:null===n||void 0===n||null===(x=n.student)||void 0===x||null===(g=x.new_app)||void 0===g?void 0:g.appId},null===n||void 0===n?void 0:n._id)})),S?u?(0,b.jsx)(N.Z,{}):(0,b.jsx)(b.Fragment,{children:1===_?(0,b.jsx)(N.Z,{}):(0,b.jsx)(k.Z,{})}):u?0===(null===Z||void 0===Z||null===(e=Z.list)||void 0===e?void 0:e.length)&&(0,b.jsx)(C.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===Z||void 0===Z||null===(t=Z.list)||void 0===t?void 0:t.length)&&(0,b.jsx)(C.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})};var A=l(98951);const D=n=>{var i,l,t,o,s,u,a,v,r,m,x,j,Z,y,S,P,w,C,k,M,D,U,T,F,E,q,R,L,Y,O,z,K,G,V,$;let{instituteId:B,applicant:H,appId:J,onRefetch:Q,financeId:W}=n;const{t:X}=(0,p.$G)(),nn=(0,e.UO)(),ln=(0,e.s0)(),en=(0,e.TH)(),[tn,dn]=(0,c.useState)(0),[on,sn]=(0,c.useState)(!1),[un]=(0,h.ZN)(),an=(0,c.useCallback)((()=>{var n,i,l;ln("/q/".concat(nn.username,"/member/student/admission/profile"),{state:{sid:null===H||void 0===H||null===(n=H.student)||void 0===n?void 0:n._id,viewAs:"ADMISSION_ADMIN",instituteId:B,collectAccess:"ADMISSION_ADMIN",editInstallmentControl:"authorized",whichUrl:"Institute"===(null===(i=en.state)||void 0===i?void 0:i.urlOffSet)?"INSTITUTE":null,onlyReadView:null===(l=en.state)||void 0===l?void 0:l.role,subjectData:{subjectChange:"authorized",appId:J}}})}),[B,null===H||void 0===H||null===(i=H.student)||void 0===i?void 0:i._id]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:_.Z.oac_container,onClick:an,title:"View Profile",children:[(0,b.jsxs)("div",{className:_.Z.oac_container_inner,children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==H&&void 0!==H&&null!==(l=H.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(f.yI,"/").concat(null===H||void 0===H||null===(t=H.student)||void 0===t?void 0:t.studentProfilePhoto):"".concat(d.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsxs)("div",{className:_.Z.oac_container_inner_info,children:[(0,b.jsx)("h6",{children:"".concat(null!==(o=null===H||void 0===H||null===(s=H.student)||void 0===s?void 0:s.studentFirstName)&&void 0!==o?o:""," ").concat(null!==H&&void 0!==H&&null!==(u=H.student)&&void 0!==u&&u.studentMiddleName?null===H||void 0===H||null===(a=H.student)||void 0===a?void 0:a.studentMiddleName:""," ").concat(null!==(v=null===H||void 0===H||null===(r=H.student)||void 0===r?void 0:r.studentLastName)&&void 0!==v?v:"")}),(0,b.jsxs)("h6",{children:[X("fee_structure")," : ",null!==(m=null===H||void 0===H||null===(x=H.fee_struct)||void 0===x||null===(j=x.unique_structure_name)||void 0===j||null===(Z=j.split(" - "))||void 0===Z?void 0:Z[0])&&void 0!==m?m:"",", ",X("rs_only")," ",null!==(y=null===H||void 0===H||null===(S=H.fee_struct)||void 0===S?void 0:S.applicable_fees)&&void 0!==y?y:""]}),(0,b.jsxs)("p",{children:[X("form_no_only"),": ",null!==(P=null===H||void 0===H||null===(w=H.student)||void 0===w?void 0:w.form_no)&&void 0!==P?P:""]}),(0,b.jsxs)("p",{children:[X("select_on"),":",g()(null===H||void 0===H?void 0:H.select_on).format("DD MMM YYYY")]})]})]}),(0,b.jsxs)("div",{className:_.Z.oac_container_contact,children:[(0,b.jsxs)("div",{className:_.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(d.U_,"/gender.svg"),alt:"email icon"}),(0,b.jsx)("p",{children:null===H||void 0===H||null===(C=H.student)||void 0===C?void 0:C.studentGender})]}),(0,b.jsxs)("div",{className:_.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(d.U_,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{children:null!==H&&void 0!==H&&null!==(k=H.student)&&void 0!==k&&null!==(M=k.user)&&void 0!==M&&M.userPhoneNumber?null===H||void 0===H||null===(D=H.student)||void 0===D||null===(U=D.user)||void 0===U?void 0:U.userPhoneNumber:null!==H&&void 0!==H&&null!==(T=H.student)&&void 0!==T&&null!==(F=T.user)&&void 0!==F&&F.userEmail?null===H||void 0===H||null===(E=H.student)||void 0===E||null===(q=E.user)||void 0===q?void 0:q.userEmail:null!==H&&void 0!==H&&null!==(R=H.student)&&void 0!==R&&R.studentPhoneNumber?null===H||void 0===H||null===(L=H.student)||void 0===L?void 0:L.studentPhoneNumber:null!==H&&void 0!==H&&null!==(Y=H.student)&&void 0!==Y&&Y.studentParentsPhoneNumber?null===H||void 0===H||null===(O=H.student)||void 0===O?void 0:O.studentParentsPhoneNumber:null!==(z=null===H||void 0===H||null===(K=H.student)||void 0===K?void 0:K.studentEmail)&&void 0!==z?z:""})]})]}),(0,b.jsxs)("div",{className:_.Z.oac_container_stuff,children:[(0,b.jsx)("a",{href:"".concat(f.q2,"/").concat(null===H||void 0===H||null===(G=H.student)||void 0===G||null===(V=G.application_print)||void 0===V||null===($=V[0])||void 0===$?void 0:$.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:n=>{n.stopPropagation()},children:(0,b.jsx)("img",{src:"".concat(d.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),(0,b.jsx)("img",{src:"".concat(d.U_,"/undo.svg"),alt:"undo icon",style:{width:"30px",height:"30px"},onClick:n=>{var i,l,e,t,d;(n.stopPropagation(),null!==H&&void 0!==H&&null!==(i=H.student)&&void 0!==i&&i._id&&J&&null!==H&&void 0!==H&&H.status_id&&null!==H&&void 0!==H&&H.revert_request_status&&null!==H&&void 0!==H&&H._id&&null!==H&&void 0!==H&&null!==(l=H.payment_flow)&&void 0!==l&&l._id)&&(sn((n=>!n)),un({sid:null===H||void 0===H||null===(e=H.student)||void 0===e?void 0:e._id,appId:J,revert:{statusId:null===H||void 0===H?void 0:H.status_id,fcid:null===H||void 0===H?void 0:H._id,rid:null===H||void 0===H||null===(t=H.payment_flow)||void 0===t?void 0:t._id,revert_status:null===H||void 0===H?void 0:H.revert_request_status,staffId:null===(d=en.state)||void 0===d?void 0:d.sid}}).then((()=>{Q(),sn((n=>!n))})).catch((()=>{sn((n=>!n))})))},title:"Undo Application"}),(0,b.jsx)(I.Z,{label:"collect_fees",onAction:n=>{n.stopPropagation(),dn(1)},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}})]})]}),1===tn?(0,b.jsx)(A.Z,{onClose:()=>{dn("")},onRefetch:Q,applicant:H,appId:J,financeId:W}):null,on&&(0,b.jsx)(N.Z,{})]})},U=n=>{var i,l,e,t;let{instituteId:d,aid:o,financeId:s}=n;const{t:u}=(0,p.$G)(),[a,v]=(0,c.useState)(""),[r,_]=(0,c.useState)(""),[f,x]=(0,c.useState)(1),[g,j]=(0,c.useState)(!0),[I,Z]=(0,m.YD)({skip:a}),{admissionMergedApplicationFeesList:y,admissionMergedApplicationFeesListLoading:S,admissionMergedApplicationFeesListRefetch:M}=(0,h._K)({data:{aid:o,page:f,limit:10,search:a},skip:!o});(0,c.useEffect)((()=>{Z&&g&&x((n=>n+1))}),[Z,g]),(0,c.useEffect)((()=>{var n;if(null!==y&&void 0!==y&&null!==(n=y.list)&&void 0!==n&&n.length){var i;let n=(0,w.f)(null===y||void 0===y||null===(i=y.list)||void 0===i?void 0:i.length);j((()=>n))}}),[null===y||void 0===y||null===(i=y.list)||void 0===i?void 0:i.length]);const A=(0,c.useCallback)((()=>{x((()=>1)),M()}),[]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(P,{children:(0,b.jsx)("input",{type:"text",placeholder:u("search_applicants"),onChange:n=>{var i;!S&&(null===y||void 0===y||null===(i=y.list)||void 0===i?void 0:i.length)>=0&&_(n.target.value)},onKeyUp:n=>{"Enter"===n.key&&(x((()=>1)),v(r))},value:r})}),null===y||void 0===y||null===(l=y.list)||void 0===l?void 0:l.map(((n,i)=>{var l,e,t,o,u;return(null===y||void 0===y||null===(l=y.list)||void 0===l?void 0:l.length)===i+1?(0,b.jsx)("div",{ref:I,children:(0,b.jsx)(D,{applicant:n,instituteId:d,onRefetch:A,appId:null===n||void 0===n||null===(e=n.student)||void 0===e||null===(t=e.new_app)||void 0===t?void 0:t.appId,financeId:s})},null===n||void 0===n?void 0:n._id):(0,b.jsx)(D,{applicant:n,instituteId:d,onRefetch:A,appId:null===n||void 0===n||null===(o=n.student)||void 0===o||null===(u=o.new_app)||void 0===u?void 0:u.appId,financeId:s},null===n||void 0===n?void 0:n._id)})),S?a?(0,b.jsx)(N.Z,{}):(0,b.jsx)(b.Fragment,{children:1===f?(0,b.jsx)(N.Z,{}):(0,b.jsx)(k.Z,{})}):a?0===(null===y||void 0===y||null===(e=y.list)||void 0===e?void 0:e.length)&&(0,b.jsx)(C.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===y||void 0===y||null===(t=y.list)||void 0===t?void 0:t.length)&&(0,b.jsx)(C.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})};var T=l(66239);const F=n=>{var i,l,t,o,s,u,a,v,r,m,x,j,Z,y,P,w,C,k,M,A,D,U,F,E,q,R,L,Y,O,z,K;let{instituteId:G,applicant:V,appId:$,onRefetch:B}=n;const{t:H}=(0,p.$G)(),J=(0,e.UO)(),Q=(0,e.s0)(),W=(0,e.TH)(),[X,nn]=(0,c.useState)(!1),[ln]=(0,h.Kv)(),en=(0,c.useCallback)((()=>{var n,i,l;Q("/q/".concat(J.username,"/student/profile"),{state:{sid:null===V||void 0===V||null===(n=V.student)||void 0===n?void 0:n._id,viewAs:"ADMISSION_ADMIN",instituteId:G,collectAccess:"ADMISSION_ADMIN",editInstallmentControl:"authorized",whichUrl:"Institute"===(null===(i=W.state)||void 0===i?void 0:i.urlOffSet)?"INSTITUTE":null,onlyReadView:null===(l=W.state)||void 0===l?void 0:l.role,subjectData:{subjectChange:"authorized",appId:$}}})}),[G,null===V||void 0===V||null===(i=V.student)||void 0===i?void 0:i._id]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:_.Z.oac_container,onClick:en,title:"View Profile",children:[(0,b.jsxs)("div",{className:_.Z.oac_container_inner,children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==V&&void 0!==V&&null!==(l=V.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(f.yI,"/").concat(null===V||void 0===V||null===(t=V.student)||void 0===t?void 0:t.studentProfilePhoto):"".concat(d.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsxs)("div",{className:_.Z.oac_container_inner_info,children:[(0,b.jsx)("h6",{children:"".concat(null!==(o=null===V||void 0===V||null===(s=V.student)||void 0===s?void 0:s.studentFirstName)&&void 0!==o?o:""," ").concat(null!==V&&void 0!==V&&null!==(u=V.student)&&void 0!==u&&u.studentMiddleName?null===V||void 0===V||null===(a=V.student)||void 0===a?void 0:a.studentMiddleName:""," ").concat(null!==(v=null===V||void 0===V||null===(r=V.student)||void 0===r?void 0:r.studentLastName)&&void 0!==v?v:"")}),(0,b.jsxs)("p",{children:[H("form_no_only"),": ",null!==(m=null===V||void 0===V||null===(x=V.student)||void 0===x?void 0:x.form_no)&&void 0!==m?m:""]}),(0,b.jsxs)("p",{children:[H("confirmed_on"),":"," ",g()(null===V||void 0===V?void 0:V.apply_on).format("DD MMM YYYY")]})]})]}),(0,b.jsxs)("div",{className:_.Z.oac_container_contact,children:[(0,b.jsxs)("div",{className:_.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(d.U_,"/gender.svg"),alt:"email icon"}),(0,b.jsx)("p",{children:null===V||void 0===V||null===(j=V.student)||void 0===j?void 0:j.studentGender})]}),(0,b.jsxs)("div",{className:_.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(d.U_,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{children:null!==V&&void 0!==V&&null!==(Z=V.student)&&void 0!==Z&&null!==(y=Z.user)&&void 0!==y&&y.userPhoneNumber?null===V||void 0===V||null===(P=V.student)||void 0===P||null===(w=P.user)||void 0===w?void 0:w.userPhoneNumber:null!==V&&void 0!==V&&null!==(C=V.student)&&void 0!==C&&null!==(k=C.user)&&void 0!==k&&k.userEmail?null===V||void 0===V||null===(M=V.student)||void 0===M||null===(A=M.user)||void 0===A?void 0:A.userEmail:null!==V&&void 0!==V&&null!==(D=V.student)&&void 0!==D&&D.studentPhoneNumber?null===V||void 0===V||null===(U=V.student)||void 0===U?void 0:U.studentPhoneNumber:null!==V&&void 0!==V&&null!==(F=V.student)&&void 0!==F&&F.studentParentsPhoneNumber?null===V||void 0===V||null===(E=V.student)||void 0===E?void 0:E.studentParentsPhoneNumber:null!==(q=null===V||void 0===V||null===(R=V.student)||void 0===R?void 0:R.studentEmail)&&void 0!==q?q:""})]})]}),(0,b.jsxs)("div",{className:_.Z.oac_container_stuff,children:[(0,b.jsx)("a",{href:"".concat(f.q2,"/").concat(null===V||void 0===V||null===(L=V.student)||void 0===L||null===(Y=L.application_print)||void 0===Y||null===(O=Y[0])||void 0===O?void 0:O.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:n=>{n.stopPropagation()},children:(0,b.jsx)("img",{src:"".concat(d.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),null===V||void 0===V||null===(z=V.student)||void 0===z||null===(K=z.fee_receipt)||void 0===K?void 0:K.map(((n,i)=>i>2?"":(0,b.jsx)(T.Z,{rid:null===n||void 0===n?void 0:n._id,receiptFile:null===n||void 0===n?void 0:n.receipt_file},null===n||void 0===n?void 0:n._id))),(0,b.jsx)(S.Z,{children:(0,b.jsx)(I.Z,{label:"review",onAction:n=>{var i,l,e;(n.stopPropagation(),null!==V&&void 0!==V&&null!==(i=V.student)&&void 0!==i&&i._id&&$)&&(nn((n=>!n)),ln({appId:$,review:{student_arr:[{sid:null===V||void 0===V||null===(l=V.student)||void 0===l?void 0:l._id,cid:null===V||void 0===V?void 0:V._id}],staffId:null===(e=W.state)||void 0===e?void 0:e.sid}}).then((()=>{B(),nn((n=>!n))})).catch({}))},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}})})]})]}),X&&(0,b.jsx)(N.Z,{})]})},E=n=>{var i,l,e,t;let{instituteId:d,aid:o}=n;const{t:s}=(0,p.$G)(),[u,a]=(0,c.useState)(""),[v,r]=(0,c.useState)(""),[_,f]=(0,c.useState)(1),[x,g]=(0,c.useState)(!0),[j,I]=(0,m.YD)({skip:u}),{admissionMergedApplicationConfirmedList:Z,admissionMergedApplicationConfirmedListLoading:y,admissionMergedApplicationConfirmedListRefetch:S}=(0,h.sp)({data:{aid:o,page:_,limit:10,search:u},skip:!o});(0,c.useEffect)((()=>{I&&x&&f((n=>n+1))}),[I,x]),(0,c.useEffect)((()=>{var n;if(null!==Z&&void 0!==Z&&null!==(n=Z.list)&&void 0!==n&&n.length){var i;let n=(0,w.f)(null===Z||void 0===Z||null===(i=Z.list)||void 0===i?void 0:i.length);g((()=>n))}}),[null===Z||void 0===Z||null===(i=Z.list)||void 0===i?void 0:i.length]);const M=(0,c.useCallback)((()=>{f((()=>1)),S()}),[S]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(P,{children:(0,b.jsx)("input",{type:"text",placeholder:s("search_applicants"),onChange:n=>{var i;!y&&(null===Z||void 0===Z||null===(i=Z.list)||void 0===i?void 0:i.length)>=0&&r(n.target.value)},onKeyUp:n=>{"Enter"===n.key&&(f((()=>1)),a(v))},value:v})}),null===Z||void 0===Z||null===(l=Z.list)||void 0===l?void 0:l.map(((n,i)=>{var l,e,t,o,s;return(null===Z||void 0===Z||null===(l=Z.list)||void 0===l?void 0:l.length)===i+1?(0,b.jsx)("div",{ref:j,children:(0,b.jsx)(F,{applicant:n,instituteId:d,onRefetch:M,appId:null===n||void 0===n||null===(e=n.student)||void 0===e||null===(t=e.new_app)||void 0===t?void 0:t.appId})},null===n||void 0===n?void 0:n._id):(0,b.jsx)(F,{applicant:n,instituteId:d,onRefetch:M,appId:null===n||void 0===n||null===(o=n.student)||void 0===o||null===(s=o.new_app)||void 0===s?void 0:s.appId},null===n||void 0===n?void 0:n._id)})),y?u?(0,b.jsx)(N.Z,{}):(0,b.jsx)(b.Fragment,{children:1===_?(0,b.jsx)(N.Z,{}):(0,b.jsx)(k.Z,{})}):u?0===(null===Z||void 0===Z||null===(e=Z.list)||void 0===e?void 0:e.length)&&(0,b.jsx)(C.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===Z||void 0===Z||null===(t=Z.list)||void 0===t?void 0:t.length)&&(0,b.jsx)(C.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})};var q=l(68994);const R=n=>{let{aid:i,instituteId:l,financeId:m}=n;const{t:h}=(0,p.$G)(),_=(0,e.TH)(),f=(0,e.UO)(),x=(0,e.s0)(),[g]=(0,t.lr)(),j=(0,c.useCallback)((()=>{var n;let i="";i="Institute"===(null===(n=_.state)||void 0===n?void 0:n.urlOffSet)?"/q/".concat(f.username,"/institute/member/admission"):"/q/".concat(f.username,"/member/staff/admission"),x(i,{state:_.state})}),[x,_.state,f.username]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(a.default,{children:[(0,b.jsx)(v.Z,{children:(0,b.jsx)("div",{className:r.Z.fm_header_container,children:(0,b.jsxs)("div",{className:r.Z.fm_header_start_container,style:{gap:"0.2rem"},children:[(0,b.jsx)("img",{alt:"search icon",src:"".concat(d.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:j}),(0,b.jsx)("h6",{children:h("combined_application")})]})})}),(0,b.jsx)(o.Z,{}),(0,b.jsx)(u.Z,{children:L.map((n=>{var i,l;return(0,b.jsx)(s.Z,{tab:n,isLink:!0,isActive:null===(i=n.groupIs)||void 0===i?void 0:i.includes(g.get("n")),parentState:_.state,url:"Institute"===(null===(l=_.state)||void 0===l?void 0:l.urlOffSet)?"/q/".concat(f.username,"/institute/member/admission?type=combine-application").concat(n.urlKey):"/q/".concat(f.username,"/member/staff/admission?type=combine-application").concat(n.urlKey)},null===n||void 0===n?void 0:n.id)}))}),(0,b.jsx)(o.Z,{customStyleBorder:{marginTop:"0"}}),(0,b.jsx)(v.Z,{customStyle:{paddingTop:"0.2rem"},children:"fees"===g.get("n")?(0,b.jsx)(U,{aid:i,instituteId:l,financeId:m}):"confirmed"===g.get("n")?(0,b.jsx)(E,{aid:i,instituteId:l}):"receipt"===g.get("n")?(0,b.jsx)(q.Z,{instituteId:l}):(0,b.jsx)(M,{aid:i,instituteId:l})})]})})},L=[{label:"docs_collection",id:"document",urlKey:"",groupIs:["",null]},{label:"fees_collection",id:"fees",urlKey:"&n=fees",groupIs:["fees"]},{label:"receipts",id:"receipt",urlKey:"&n=receipt",groupIs:["receipt"]},{label:"confirmed",id:"confirmed",urlKey:"&n=confirmed",groupIs:["confirmed"]}]}}]);
//# sourceMappingURL=70732.70cc272a.chunk.js.map