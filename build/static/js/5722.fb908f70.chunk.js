"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[5722],{55856:function(e,n,i){var t=i(1413),l=(i(72791),i(16871)),o=i(43504),a=i(80184);n.Z=function(e){var n=e.carryParentState,i=e.activeTab,s=e.children,d=(0,l.UO)();return(0,a.jsx)(o.rU,{to:"/q/".concat(d.username,"/admission").concat(i),state:(0,t.Z)({},n),children:s})}},47167:function(e,n,i){var t=i(1413),l=(i(72791),i(16871)),o=i(43504),a=i(23769),s=i(45639),d=i(80184);n.Z=function(e){var n=e.tabList,i=e.activeIndexTab,c=e.setActiveIndexTab,r=e.customStyleTab,u=e.carryParentState,v=e.showAs,p=e.customStyleLink,m=(0,l.UO)();return(0,d.jsx)("div",{className:s.Z.universal_container,children:v?null===n||void 0===n?void 0:n.map((function(e,n){return"disabled"===(null===e||void 0===e?void 0:e.is_active)?(0,d.jsx)("div",{className:i===(null===e||void 0===e?void 0:e.id)?"".concat(s.Z.universal_container_item," ").concat(s.Z.universal_container_item_active):s.Z.universal_container_item,style:(0,t.Z)((0,t.Z)({},p),{},{opacity:"0.5"}),children:(0,d.jsx)(a.Z,{children:null===e||void 0===e?void 0:e.name})},n):(0,d.jsx)(o.rU,{to:"/q/".concat(m.username,"/").concat(null===e||void 0===e?void 0:e.url),state:(0,t.Z)({},u),style:(0,t.Z)({},p),children:(0,d.jsx)("div",{className:i===(null===e||void 0===e?void 0:e.id)?"".concat(s.Z.universal_container_item," ").concat(s.Z.universal_container_item_active):s.Z.universal_container_item,style:(0,t.Z)({},r),children:(0,d.jsx)(a.Z,{children:null===e||void 0===e?void 0:e.name})})},n)})):null===n||void 0===n?void 0:n.map((function(e,n){return(0,d.jsx)("div",{className:i===(null===e||void 0===e?void 0:e.id)?"".concat(s.Z.universal_container_item," ").concat(s.Z.universal_container_item_active):s.Z.universal_container_item,onClick:function(){return c(null===e||void 0===e?void 0:e.id)},style:(0,t.Z)({},r),children:(0,d.jsx)(a.Z,{children:null===e||void 0===e?void 0:e.name})},n)}))})}},23769:function(e,n,i){i.d(n,{Z:function(){return a}});var t=i(29439),l=i(72791),o=i(80184);var a=function(e){var n=e.children,i=e.onclick,a=(0,l.useState)(!1),s=(0,t.Z)(a,2),d=s[0],c=s[1],r=(0,l.useState)({x:-1,y:-1}),u=(0,t.Z)(r,2),v=u[0],p=u[1];return(0,l.useEffect)((function(){-1!==v.x&&-1!==v.y?(c(!0),setTimeout((function(){return c(!1)}),1e3)):c(!1)}),[v]),(0,l.useEffect)((function(){d||p({x:-1,y:-1})}),[d]),(0,o.jsxs)("div",{className:"ripple_btn",onClick:function(e){p({x:e.clientX-e.target.offsetLeft,y:e.clientY-e.target.offsetTop}),i&&i(e)},children:[d?(0,o.jsx)("span",{className:"ripple"}):"",(0,o.jsx)("span",{className:"content",children:n})]})}},99167:function(e,n,i){i.d(n,{Z:function(){return y}});var t=i(93433),l=i(29439),o=i(72791),a=i(23441),s=i(78687),d=i(39230),c=i(1413),r=i(15961),u=i(66148),v=i(55856),p=i(80184);var m=function(e){var n,i,t=e.completed,l=e.carryParentState,o=e.accessRole,a=e.accessTpye,s=e.callApi,m=e.pageOpenAs,_=e.setOpenApplicationMenu,f=(0,d.$G)().t,h=function(e){e.preventDefault(),_(null===t||void 0===t?void 0:t._id)};return(0,p.jsx)(p.Fragment,{children:"INSTITUTE"===m?(0,p.jsx)(v.Z,{carryParentState:(0,c.Z)((0,c.Z)({},l),{},{applicationId:null===t||void 0===t?void 0:t._id}),activeTab:"?a=ongoing&n=application",children:(0,p.jsxs)("div",{className:r.Z.ongoing_card,style:{display:"flex",flexDirection:"column",alignItems:"center",marginRight:"1rem"},children:[(0,p.jsxs)("div",{className:r.Z.ongoing_card_inner,children:[(0,p.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,p.jsxs)("div",{className:r.Z.ongoing_card_text,children:[(0,p.jsx)("h6",{children:null===t||void 0===t?void 0:t.applicationName}),(0,p.jsx)("p",{children:null===t||void 0===t||null===(n=t.applicationDepartment)||void 0===n?void 0:n.dName})]})]}),(0,p.jsxs)("div",{className:r.Z.ongoing_card_text,children:[(0,p.jsx)("h6",{children:null===t||void 0===t?void 0:t.allotCount}),(0,p.jsx)("p",{children:f("alloted")})]}),(0,p.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:h,className:r.Z.menu_icon,title:"Menu"})]})}):(0,p.jsx)(u.Z,{carryParentState:(0,c.Z)((0,c.Z)({},l),{},{applicationId:null===t||void 0===t?void 0:t._id}),activeTab:"ongoing&n=application",accessRole:o,accessTpye:a,callApi:s,children:(0,p.jsxs)("div",{className:r.Z.ongoing_card,children:[(0,p.jsxs)("div",{className:r.Z.ongoing_card_inner,children:[(0,p.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,p.jsxs)("div",{className:r.Z.ongoing_card_text,children:[(0,p.jsx)("h6",{children:null===t||void 0===t?void 0:t.applicationName}),(0,p.jsx)("p",{children:null===t||void 0===t||null===(i=t.applicationDepartment)||void 0===i?void 0:i.dName})]})]}),(0,p.jsxs)("div",{className:r.Z.ongoing_card_text,style:{display:"flex",flexDirection:"column",alignItems:"center",marginRight:"1rem"},children:[(0,p.jsx)("h6",{children:null===t||void 0===t?void 0:t.allotCount}),(0,p.jsx)("p",{children:f("alloted")})]}),(0,p.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:h,className:r.Z.menu_icon,title:"Menu"})]})})})},_=i(16871),f=i(65543),h=i(98094),g=i(29017),x=i(11105),j=i(98734),Z=i(12072),S=i(84489),N=i(87049),A=function(e){var n=e.onClose,i=e.onRefetch,t=e.openApplicationMenu,a=(0,o.useState)(!1),s=(0,l.Z)(a,2),d=s[0],c=s[1],r=(0,g.fI)(),u=(0,l.Z)(r,1)[0];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(S.Z,{onClose:n}),(0,p.jsxs)(Z.Z,{customStyle:{zIndex:"1200"},children:[(0,p.jsx)("div",{className:N.Z.edit_modal_container,style:{width:"200px"},children:(0,p.jsx)("h6",{className:N.Z.edit,onClick:function(){t&&(c((function(e){return!e})),u({aid:t}).then((function(){i(),c((function(e){return!e})),n()})).catch({}))},children:"Mark as Ongoing"})}),d&&(0,p.jsx)(j.Z,{})]})]})},y=function(e){var n=e.admissionId,i=e.carryParentState,c=e.accessRole,u=e.accessApplication,v=e.accessTpye,j=e.callApi,Z=e.pageOpenAs,S=(0,d.$G)().t,N=(0,_.s0)(),y=(0,s.useSelector)((function(e){return e.admissionChange})),b=(0,o.useState)(!0),C=(0,l.Z)(b,2),I=C[0],E=C[1],P=(0,o.useState)(1),T=(0,l.Z)(P,2),R=T[0],O=T[1],D=(0,a.YD)(),w=(0,l.Z)(D,2),k=w[0],F=w[1],M=(0,o.useState)([]),L=(0,l.Z)(M,2),U=L[0],B=L[1],q=(0,o.useState)(!0),G=(0,l.Z)(q,2),J=G[0],W=G[1],$=(0,f.u)().scrollToTop,V=(0,o.useState)(""),H=(0,l.Z)(V,2),Y=H[0],z=H[1],Q=(0,o.useState)(!1),X=(0,l.Z)(Q,2),K=X[0],ee=X[1],ne=(0,g.XN)({data:{aid:n||(null===y||void 0===y?void 0:y.aid),page:R,limit:10},skip:n?!n:!(null!==y&&void 0!==y&&y.aid)}),ie=ne.allCompletedApp,te=ne.allCompletedAppRefetch;(0,o.useEffect)((function(){$()}),[]),(0,o.useEffect)((function(){F&&I&&O((function(e){return e+1}))}),[F,I]),(0,o.useEffect)((function(){(null!==y&&void 0!==y&&y.aid||n)&&(W(!0),te())}),[null===y||void 0===y?void 0:y.aid,n,R,te]),(0,o.useEffect)((function(){var e,n;K?(B(null===ie||void 0===ie?void 0:ie.completed),W(!1),ee(!1)):null!==ie&&void 0!==ie&&ie.completed?(B((function(e){var n,i;return null===(n=(0,t.Z)(new Set(null===(i=[].concat((0,t.Z)(e),(0,t.Z)(null===ie||void 0===ie?void 0:ie.completed)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),W(!1)):0===(null===ie||void 0===ie||null===(n=ie.completed)||void 0===n?void 0:n.length)&&W(!1);10===(null===ie||void 0===ie||null===(e=ie.completed)||void 0===e?void 0:e.length)?E(!0):E(!1)}),[null===ie||void 0===ie?void 0:ie.completed]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:r.Z.admission_application_container,children:[(0,p.jsxs)("div",{className:r.Z.with_search,style:{justifyContent:"flex-start",gap:"1rem"},children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){N(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,p.jsx)("h6",{children:S("completed_application")})]}),(0,p.jsx)(h.Z,{customStyle:{width:"100%",marginTop:"0.5rem",marginBottom:"0.5rem"}}),(0,p.jsx)("div",{className:r.Z.remainingFeesBottom,children:(0,p.jsxs)("div",{className:r.Z.itemsContainer,children:[null===U||void 0===U?void 0:U.map((function(e,n){return(null===U||void 0===U?void 0:U.length)===n+1?(0,p.jsx)("div",{ref:k,children:(0,p.jsx)(m,{completed:e,carryParentState:i,accessRole:c,accessTpye:v,callApi:j,accessApplication:u,pageOpenAs:Z,setOpenApplicationMenu:z})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(m,{completed:e,carryParentState:i,accessRole:c,accessTpye:v,callApi:j,accessApplication:u,pageOpenAs:Z,setOpenApplicationMenu:z},null===e||void 0===e?void 0:e._id)})),J&&(0,p.jsx)(x.Z,{status:"white"})]})})]}),Y&&(0,p.jsx)(A,{openApplicationMenu:Y,onClose:function(){return z("")},onRefetch:function(){O(1),ee(!0),W(!0),te()}})]})}},61046:function(e,n,i){i.d(n,{Z:function(){return he}});var t=i(1413),l=i(72791),o=i(15961),a=i(16871),s=i(93433),d=i(29439),c=i(39230),r=i(23441),u=i(65543),v=i(29017),p=i(78687),m=i(11105),_=i(66148),f=i(55856),h=i(80184),g=function(e){var n,i,l,a,s,d,c,r,u,v,p,m,g,x,j,Z,S,N,A,y,b=e.data,C=e.carryParentState,I=e.accessRole,E=e.accessApplication,P=e.setOpenApplicationMenu,T=e.accessTpye,R=e.callApi,O=e.pageOpenAs,D=function(e){e.preventDefault(),P(b)};return(0,h.jsx)(h.Fragment,{children:"INSTITUTE"===O?(0,h.jsx)(f.Z,{carryParentState:(0,t.Z)((0,t.Z)({},C),{},{applicationId:null===b||void 0===b?void 0:b._id}),activeTab:"?a=ongoing&n=application",children:(0,h.jsxs)("div",{className:o.Z.ongoing_card,children:[(0,h.jsxs)("div",{className:o.Z.ongoing_card_inner,children:[(0,h.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,h.jsxs)("div",{className:o.Z.ongoing_card_text,children:[(0,h.jsx)("h6",{children:null===b||void 0===b?void 0:b.applicationName}),(0,h.jsx)("p",{children:null===b||void 0===b||null===(n=b.applicationDepartment)||void 0===n?void 0:n.dName})]})]}),(0,h.jsx)("div",{className:o.Z.ongoing_card_count_date,children:(0,h.jsxs)("div",{className:o.Z.ongoing_card_count_container,children:[(0,h.jsx)("h6",{children:null!==(i=null===b||void 0===b?void 0:b.receievedCount)&&void 0!==i?i:0}),(0,h.jsx)("h6",{children:null!==(l=null===b||void 0===b?void 0:b.selectCount)&&void 0!==l?l:0}),(0,h.jsx)("h6",{children:null!==(a=null===b||void 0===b?void 0:b.confirmCount)&&void 0!==a?a:0})]})}),(0,h.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:D,className:o.Z.menu_icon,title:"Menu"})]})}):I?T?(0,h.jsx)(_.Z,{carryParentState:(0,t.Z)((0,t.Z)({},C),{},{applicationId:null===b||void 0===b?void 0:b._id}),activeTab:"ongoing&n=".concat("Application"===T?"application":"Selected"===T?"select":"Confirmed"===T?"confirm":"Allotted"===T?"allot":"cancel"),accessRole:I,accessTpye:T,callApi:R,children:(0,h.jsxs)("div",{className:o.Z.ongoing_card,children:[(0,h.jsxs)("div",{className:o.Z.ongoing_card_inner,children:[(0,h.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,h.jsxs)("div",{className:o.Z.ongoing_card_text,children:[(0,h.jsx)("h6",{children:null===b||void 0===b?void 0:b.applicationName}),(0,h.jsx)("p",{children:null===b||void 0===b||null===(s=b.applicationDepartment)||void 0===s?void 0:s.dName})]})]}),(0,h.jsx)("div",{className:o.Z.ongoing_card_count_date,children:(0,h.jsxs)("div",{className:o.Z.ongoing_card_count_container,children:[(0,h.jsx)("h6",{children:null!==(d=null===b||void 0===b?void 0:b.receievedCount)&&void 0!==d?d:0}),(0,h.jsx)("h6",{children:null!==(c=null===b||void 0===b?void 0:b.selectCount)&&void 0!==c?c:0}),(0,h.jsx)("h6",{children:null!==(r=null===b||void 0===b?void 0:b.confirmCount)&&void 0!==r?r:0})]})})]})}):null!==E&&void 0!==E&&E.includes(null===b||void 0===b?void 0:b._id)?(0,h.jsx)(_.Z,{carryParentState:(0,t.Z)((0,t.Z)({},C),{},{applicationId:null===b||void 0===b?void 0:b._id}),activeTab:"ongoing&n=application",accessRole:I,callApi:R,children:(0,h.jsxs)("div",{className:o.Z.ongoing_card,children:[(0,h.jsxs)("div",{className:o.Z.ongoing_card_inner,children:[(0,h.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,h.jsxs)("div",{className:o.Z.ongoing_card_text,children:[(0,h.jsx)("h6",{children:null===b||void 0===b?void 0:b.applicationName}),(0,h.jsx)("p",{children:null===b||void 0===b||null===(u=b.applicationDepartment)||void 0===u?void 0:u.dName})]})]}),(0,h.jsx)("div",{className:o.Z.ongoing_card_count_date,children:(0,h.jsxs)("div",{className:o.Z.ongoing_card_count_container,children:[(0,h.jsx)("h6",{children:null!==(v=null===b||void 0===b?void 0:b.receievedCount)&&void 0!==v?v:0}),(0,h.jsx)("h6",{children:null!==(p=null===b||void 0===b?void 0:b.selectCount)&&void 0!==p?p:0}),(0,h.jsx)("h6",{children:null!==(m=null===b||void 0===b?void 0:b.confirmCount)&&void 0!==m?m:0})]})})]})}):(0,h.jsxs)("div",{className:o.Z.ongoing_card,style:{opacity:"0.5"},children:[(0,h.jsxs)("div",{className:o.Z.ongoing_card_inner,children:[(0,h.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,h.jsxs)("div",{className:o.Z.ongoing_card_text,children:[(0,h.jsx)("h6",{children:null===b||void 0===b?void 0:b.applicationName}),(0,h.jsx)("p",{children:null===b||void 0===b||null===(g=b.applicationDepartment)||void 0===g?void 0:g.dName})]})]}),(0,h.jsx)("div",{className:o.Z.ongoing_card_count_date,children:(0,h.jsxs)("div",{className:o.Z.ongoing_card_count_container,children:[(0,h.jsx)("h6",{children:null!==(x=null===b||void 0===b?void 0:b.receievedCount)&&void 0!==x?x:0}),(0,h.jsx)("h6",{children:null!==(j=null===b||void 0===b?void 0:b.selectCount)&&void 0!==j?j:0}),(0,h.jsx)("h6",{children:null!==(Z=null===b||void 0===b?void 0:b.confirmCount)&&void 0!==Z?Z:0})]})})]}):(0,h.jsx)(_.Z,{carryParentState:(0,t.Z)((0,t.Z)({},C),{},{applicationId:null===b||void 0===b?void 0:b._id}),activeTab:"ongoing&n=application",accessRole:I,accessTpye:T,callApi:R,children:(0,h.jsxs)("div",{className:o.Z.ongoing_card,children:[(0,h.jsxs)("div",{className:o.Z.ongoing_card_inner,children:[(0,h.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,h.jsxs)("div",{className:o.Z.ongoing_card_text,children:[(0,h.jsx)("h6",{children:null===b||void 0===b?void 0:b.applicationName}),(0,h.jsx)("p",{children:null===b||void 0===b||null===(S=b.applicationDepartment)||void 0===S?void 0:S.dName})]})]}),(0,h.jsx)("div",{className:o.Z.ongoing_card_count_date,children:(0,h.jsxs)("div",{className:o.Z.ongoing_card_count_container,children:[(0,h.jsx)("h6",{children:null!==(N=null===b||void 0===b?void 0:b.receievedCount)&&void 0!==N?N:0}),(0,h.jsx)("h6",{children:null!==(A=null===b||void 0===b?void 0:b.selectCount)&&void 0!==A?A:0}),(0,h.jsx)("h6",{children:null!==(y=null===b||void 0===b?void 0:b.confirmCount)&&void 0!==y?y:0})]})}),(0,h.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:D,className:o.Z.menu_icon,title:"Menu"})]})})})},x=i(61503),j=i(95290),Z=function(e){var n,i=e.carryParentState,t=e.accessRole,a=e.accessApplication,_=e.accessTpye,f=e.callApi,Z=e.admissionId,S=e.pageOpenAs,N=(0,c.$G)().t,A=(0,p.useSelector)((function(e){return e.admissionChange})),y=(0,l.useState)(!0),b=(0,d.Z)(y,2),C=b[0],I=b[1],E=(0,l.useState)(1),P=(0,d.Z)(E,2),T=P[0],R=P[1],O=(0,r.YD)(),D=(0,d.Z)(O,2),w=D[0],k=D[1],F=(0,l.useState)([]),M=(0,d.Z)(F,2),L=M[0],U=M[1],B=(0,l.useState)(!0),q=(0,d.Z)(B,2),G=q[0],J=q[1],W=(0,l.useState)(""),$=(0,d.Z)(W,2),V=$[0],H=$[1],Y=(0,l.useState)(!1),z=(0,d.Z)(Y,2),Q=z[0],X=z[1],K=(0,l.useState)(!1),ee=(0,d.Z)(K,2),ne=ee[0],ie=ee[1],te=(0,v.JG)({data:{aid:Z||(null===A||void 0===A?void 0:A.aid),page:T,limit:10},skip:Z?!Z:!(null!==A&&void 0!==A&&A.aid)}),le=te.allOngoingApp,oe=te.allOngoingAppRefetch,ae=(0,u.u)().scrollToTop;(0,l.useEffect)((function(){ae()}),[]),(0,l.useEffect)((function(){k&&C&&R((function(e){return e+1}))}),[k,C]),(0,l.useEffect)((function(){(null!==A&&void 0!==A&&A.aid||Z)&&(J(!0),oe())}),[null===A||void 0===A?void 0:A.aid,Z,T,oe]),(0,l.useEffect)((function(){var e,n;Q?(U(null===le||void 0===le?void 0:le.ongoing),J(!1),X(!1)):null!==le&&void 0!==le&&le.ongoing?(U((function(e){var n,i;return null===(n=(0,s.Z)(new Set(null===(i=[].concat((0,s.Z)(e),(0,s.Z)(null===le||void 0===le?void 0:le.ongoing)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),J(!1)):0===(null===le||void 0===le||null===(n=le.ongoing)||void 0===n?void 0:n.length)&&J(!1);10===(null===le||void 0===le||null===(e=le.ongoing)||void 0===e?void 0:e.length)?I(!0):I(!1)}),[null===le||void 0===le?void 0:le.ongoing]);var se=function(){R(1),X(!0),J(!0),oe()};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("p",{className:o.Z.add_new_category,onClick:function(){t||ie((function(e){return!e}))},style:{opacity:t?"0.5":1},children:N("create_new_application")}),(0,h.jsxs)("div",{className:o.Z.remainingFees,children:[null===L||void 0===L?void 0:L.map((function(e,n){return(null===L||void 0===L?void 0:L.length)===n+1?(0,h.jsx)("div",{ref:w,children:(0,h.jsx)(g,{data:e,carryParentState:i,accessRole:t,accessTpye:_,callApi:f,accessApplication:a,setOpenApplicationMenu:H,pageOpenAs:S})},n):(0,h.jsx)(g,{data:e,carryParentState:i,accessRole:t,accessTpye:_,callApi:f,accessApplication:a,setOpenApplicationMenu:H,pageOpenAs:S},n)})),G&&(0,h.jsx)(m.Z,{status:"white"})]}),V&&(0,h.jsx)(x.Z,{openApplicationMenu:V,onClose:function(){return H("")},onRefetch:se,insAdmissionId:Z}),ne&&(0,h.jsx)(j.Z,{setCreateApplication:ie,createApplication:ne,admissionId:null!==(n=null===A||void 0===A?void 0:A.aid)&&void 0!==n?n:Z,setRefetchOngoining:se})]})},S=i(763),N=i(43504),A=i(98094),y=i(20132),b=i(87338),C=i(98734),I=i(36721),E=i(36665),P=i(69721),T=function(e){var n,i,t,l,a,s,d,c,r,u,v,p,m,_,f,g,x,j,Z,S,N,A,y,b,C=e.applicant,I=e.onSelectApplicant,E=e.transferApplicat;return(0,h.jsxs)("div",{className:null!==E&&void 0!==E&&E.includes(null===C||void 0===C?void 0:C._id)?"".concat(o.Z.applicant_card_container," ").concat(o.Z.applicant_card_container_active):"".concat(o.Z.applicant_card_container," ").concat(o.Z.applicant_card_container_hover),onClick:function(){I(C)},children:[(0,h.jsxs)("div",{className:o.Z.applicant_card_inner,children:[(0,h.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===C||void 0===C||null===(n=C.student)||void 0===n?void 0:n.photoId)?"".concat(P.yI,"/").concat(null===C||void 0===C||null===(i=C.student)||void 0===i?void 0:i.studentProfilePhoto):"/images/user_default_img.svg",loading:"lazy"}),(0,h.jsx)("div",{className:o.Z.applicant_card_inner_info,children:(0,h.jsx)("h6",{children:"".concat(null===C||void 0===C||null===(t=C.student)||void 0===t?void 0:t.studentFirstName," ").concat(null!==C&&void 0!==C&&null!==(l=C.student)&&void 0!==l&&l.studentMiddleName?null===C||void 0===C||null===(a=C.student)||void 0===a?void 0:a.studentMiddleName:""," ").concat(null===C||void 0===C||null===(s=C.student)||void 0===s?void 0:s.studentLastName)})})]}),(0,h.jsxs)("div",{className:o.Z.applicant_card_contact,children:[(0,h.jsxs)("div",{className:o.Z.applicant_card_contact_inner,children:[(0,h.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,h.jsx)("p",{children:null===C||void 0===C||null===(d=C.student)||void 0===d?void 0:d.studentGender})]}),((null===C||void 0===C||null===(c=C.student)||void 0===c?void 0:c.studentPhoneNumber)||(null===C||void 0===C||null===(r=C.student)||void 0===r||null===(u=r.user)||void 0===u?void 0:u.userPhoneNumber)||(null===C||void 0===C||null===(v=C.student)||void 0===v||null===(p=v.user)||void 0===p?void 0:p.userEmail)||(null===C||void 0===C||null===(m=C.student)||void 0===m?void 0:m.studentParentsPhoneNumber))&&(0,h.jsxs)("div",{className:o.Z.applicant_card_contact_inner,children:[(0,h.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,h.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==C&&void 0!==C&&null!==(_=C.student)&&void 0!==_&&null!==(f=_.user)&&void 0!==f&&f.userPhoneNumber?null===C||void 0===C||null===(g=C.student)||void 0===g||null===(x=g.user)||void 0===x?void 0:x.userPhoneNumber:null!==C&&void 0!==C&&null!==(j=C.student)&&void 0!==j&&null!==(Z=j.user)&&void 0!==Z&&Z.userEmail?null===C||void 0===C||null===(S=C.student)||void 0===S||null===(N=S.user)||void 0===N?void 0:N.userEmail:null!==C&&void 0!==C&&null!==(A=C.student)&&void 0!==A&&A.studentPhoneNumber?null===C||void 0===C||null===(y=C.student)||void 0===y?void 0:y.studentPhoneNumber:null===C||void 0===C||null===(b=C.student)||void 0===b?void 0:b.studentParentsPhoneNumber})]})]})]})},R=i(70374),O=function(e){var n=e.onBack,i=e.onSelectApp,t=e.transferApplication,o=(0,p.useSelector)((function(e){return e.admissionChange})),a=(0,c.$G)().t,u=(0,l.useState)(!0),_=(0,d.Z)(u,2),f=_[0],g=_[1],x=(0,l.useState)(1),j=(0,d.Z)(x,2),Z=j[0],S=j[1],N=(0,r.YD)(),y=(0,d.Z)(N,2),b=y[0],C=y[1],I=(0,l.useState)([]),P=(0,d.Z)(I,2),T=P[0],O=P[1],D=(0,l.useState)(!0),w=(0,d.Z)(D,2),k=w[0],F=w[1],M=(0,v.JG)({data:{aid:null===o||void 0===o?void 0:o.aid,page:Z,limit:10},skip:!(null!==o&&void 0!==o&&o.aid)}),L=M.allOngoingApp,U=M.allOngoingAppRefetch;(0,l.useEffect)((function(){C&&f&&S((function(e){return e+1}))}),[C,f]),(0,l.useEffect)((function(){null!==o&&void 0!==o&&o.aid&&(F(!0),U())}),[null===o||void 0===o?void 0:o.aid,Z,U]),(0,l.useEffect)((function(){null!==o&&void 0!==o&&o.aid&&(F(!0),U())}),[null===o||void 0===o?void 0:o.aid,U]),(0,l.useEffect)((function(){var e;null!==L&&void 0!==L&&L.ongoing&&(O((function(e){var n,i;return null===(n=(0,s.Z)(new Set(null===(i=[].concat((0,s.Z)(e),(0,s.Z)(null===L||void 0===L?void 0:L.ongoing)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),F(!1)),10===(null===L||void 0===L||null===(e=L.ongoing)||void 0===e?void 0:e.length)?g(!0):g(!1)}),[null===L||void 0===L?void 0:L.ongoing]);var B=function(e){i(e)};return(0,h.jsx)(E.Z,{onClose:n,children:(0,h.jsxs)("div",{className:R.Z.assign_role_container,children:[(0,h.jsxs)("section",{className:R.Z.assign_role_title,style:{position:"relative"},children:[(0,h.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:n,alt:"back icon",style:{cursor:"pointer"}}),(0,h.jsx)("h6",{children:a("select_application")})]}),(0,h.jsx)(A.Z,{customStyle:{width:"100%"}}),null===T||void 0===T?void 0:T.map((function(e,n){var i,l,o,a,s,d;return(null===T||void 0===T?void 0:T.length)===n+1?(0,h.jsxs)("div",{className:(null===t||void 0===t?void 0:t._id)===(null===e||void 0===e?void 0:e._id)?"".concat(R.Z.application_card," ").concat(R.Z.application_card_active):R.Z.application_card,ref:b,onClick:function(){return B(e)},children:[(0,h.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,h.jsxs)("section",{className:R.Z.application_card_text,children:[(0,h.jsx)("h6",{children:null!==(i=null===e||void 0===e?void 0:e.applicationName)&&void 0!==i?i:""}),(0,h.jsx)("div",{className:R.Z.application_card_text_bottom,children:(0,h.jsx)("p",{children:null!==(l=null===e||void 0===e||null===(o=e.applicationDepartment)||void 0===o?void 0:o.dName)&&void 0!==l?l:""})})]})]},null===e||void 0===e?void 0:e._id):(0,h.jsxs)("div",{className:(null===t||void 0===t?void 0:t._id)===(null===e||void 0===e?void 0:e._id)?"".concat(R.Z.application_card," ").concat(R.Z.application_card_active):R.Z.application_card,onClick:function(){return B(e)},children:[(0,h.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,h.jsxs)("section",{className:R.Z.application_card_text,children:[(0,h.jsx)("h6",{children:null!==(a=null===e||void 0===e?void 0:e.applicationName)&&void 0!==a?a:""}),(0,h.jsx)("div",{className:R.Z.application_card_text_bottom,children:(0,h.jsx)("p",{children:null!==(s=null===e||void 0===e||null===(d=e.applicationDepartment)||void 0===d?void 0:d.dName)&&void 0!==s?s:""})})]})]},null===e||void 0===e?void 0:e._id)})),k&&(0,h.jsx)(m.Z,{status:"white"})]})})},D=function(e){var n,i,t=e.onClose,a=e.applicationId,u=e.onRefetchConfirmTab,p=(0,c.$G)().t,_=(0,l.useState)(0),f=(0,d.Z)(_,2),g=f[0],x=f[1],j=(0,l.useState)(!0),Z=(0,d.Z)(j,2),N=Z[0],y=Z[1],b=(0,l.useState)(1),I=(0,d.Z)(b,2),P=I[0],R=I[1],D=(0,l.useState)(""),w=(0,d.Z)(D,2),k=w[0],F=w[1],M=(0,r.YD)(),L=(0,d.Z)(M,2),U=L[0],B=L[1],q=(0,l.useState)([]),G=(0,d.Z)(q,2),J=G[0],W=G[1],$=(0,l.useState)(!1),V=(0,d.Z)($,2),H=V[0],Y=V[1],z=(0,l.useState)(!0),Q=(0,d.Z)(z,2),X=Q[0],K=Q[1],ee=(0,l.useState)(""),ne=(0,d.Z)(ee,2),ie=ne[0],te=ne[1],le=(0,l.useState)([]),oe=(0,d.Z)(le,2),ae=oe[0],se=oe[1],de=(0,l.useState)([]),ce=(0,d.Z)(de,2),re=ce[0],ue=ce[1],ve=(0,l.useState)(!1),pe=(0,d.Z)(ve,2),me=pe[0],_e=pe[1],fe=(0,v.hE)(),he=(0,d.Z)(fe,1)[0],ge=(0,v.RR)({data:{id:a,page:P,limit:10,search:k||""},skip:!a}),xe=ge.getAllConfirmList,je=ge.getAllConfirmListRefetch;(0,l.useEffect)((function(){B&&N&&R((function(e){return e+1}))}),[B,N]),(0,l.useEffect)((function(){a&&(K(!0),je())}),[P,a,je,k]),(0,l.useEffect)((function(){var e,n;k?(W(null===xe||void 0===xe?void 0:xe.confirm),K(!1)):H?(W(null===xe||void 0===xe?void 0:xe.confirm),Y(!1),K(!1)):null!==xe&&void 0!==xe&&xe.confirm?(W((function(e){var n,i;return null===(n=(0,s.Z)(new Set(null===(i=[].concat((0,s.Z)(e),(0,s.Z)(null===xe||void 0===xe?void 0:xe.confirm)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),K(!1)):0===(null===xe||void 0===xe||null===(n=xe.confirm)||void 0===n?void 0:n.length)&&K(!1);10===(null===xe||void 0===xe||null===(e=xe.confirm)||void 0===e?void 0:e.length)?y(!0):y(!1)}),[null===xe||void 0===xe?void 0:xe.confirm]);var Ze=(0,l.useCallback)((0,S.debounce)((function(e){return F(e)}),500),[]),Se=function(){me||(0===g?t():x(1===g?0:1))},Ne=function(e){if(null!==ae&&void 0!==ae&&ae.includes(null===e||void 0===e?void 0:e._id))se((function(n){return null===n||void 0===n?void 0:n.filter((function(n){return n!==(null===e||void 0===e?void 0:e._id)}))})),ue((function(n){return null===n||void 0===n?void 0:n.filter((function(n){var i;return(null===n||void 0===n?void 0:n.studentId)!==(null===e||void 0===e||null===(i=e.student)||void 0===i?void 0:i._id)}))}));else{var n,i={studentId:null===e||void 0===e||null===(n=e.student)||void 0===n?void 0:n._id,mode:null===e||void 0===e?void 0:e.payment_status,type:null===e||void 0===e?void 0:e.install_type,price:null===e||void 0===e?void 0:e.fee_remain};ue((function(e){return null!==e&&void 0!==e&&e.length?[].concat((0,s.Z)(e),[i]):[i]})),se((function(n){return null!==n&&void 0!==n&&n.length?[].concat((0,s.Z)(n),[null===e||void 0===e?void 0:e._id]):[null===e||void 0===e?void 0:e._id]}))}};return(0,h.jsx)(h.Fragment,{children:0===g||2===g?(0,h.jsx)(E.Z,{onClose:Se,children:(0,h.jsxs)("div",{className:o.Z.admission_modal,children:[0===g?(0,h.jsxs)("div",{className:o.Z.transfer_container,children:[(0,h.jsx)("h6",{className:o.Z.admission_modal_heading,children:p("select_confirm_student")}),(0,h.jsxs)("button",{className:o.Z.transfer_select_btn,onClick:function(){x(1)},children:[null!==(n=null===ae||void 0===ae?void 0:ae.length)&&void 0!==n?n:""," "," ",p("select")]})]}):(0,h.jsx)("h6",{className:o.Z.admission_modal_heading,children:p("transfer_select_student")}),(0,h.jsx)(A.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),0===g?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:o.Z.with_search,style:{marginBottom:"0.7rem"},children:(0,h.jsx)("div",{className:o.Z.search_container_filter,style:{width:"100%"},children:(0,h.jsx)("section",{className:o.Z.search_container,style:{width:"100%"},children:(0,h.jsxs)("div",{className:o.Z.search_container_input,style:{width:"100%"},children:[(0,h.jsx)("img",{className:o.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,h.jsx)("input",{type:"text",placeholder:"Search classes...",onChange:function(e){Ze(e.target.value)},style:{width:"100%"}})]})})})}),null===J||void 0===J?void 0:J.map((function(e,n){return(null===J||void 0===J?void 0:J.length)===n+1?(0,h.jsx)("div",{ref:U,children:(0,h.jsx)(T,{applicant:e,onSelectApplicant:Ne,transferApplicat:ae})},n):(0,h.jsx)(T,{applicant:e,onSelectApplicant:Ne,transferApplicat:ae},n)})),X&&(0,h.jsx)(m.Z,{status:"white"})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:o.Z.admission_class_confirm,children:[p("transfering")," ",(0,h.jsx)("span",{style:{fontWeight:"600"},children:null===ae||void 0===ae?void 0:ae.length})," ",p("students")," "," ",",",p("to")," ",(0,h.jsx)("span",{style:{fontWeight:"600"},children:null!==(i=null===ie||void 0===ie?void 0:ie.applicationName)&&void 0!==i?i:""})]}),(0,h.jsx)("div",{className:o.Z.confirm_btn,onClick:function(){null!==ie&&void 0!==ie&&ie._id&&a&&null!==ae&&void 0!==ae&&ae.length&&(_e((function(e){return!e})),he({aid:null===ie||void 0===ie?void 0:ie._id,transferApplicantData:{app_array:ae,oaid:a,student_array:re}}).then((function(){u(),_e((function(e){return!e})),t()})).catch({}))},children:p("confirm")})]}),me&&(0,h.jsx)(C.Z,{})]})}):(0,h.jsx)(O,{onBack:Se,onSelectApp:function(e){te(e),x(2)},transferApplication:ie})})},w=["Request_Query","Confirm_Query","Allot_Query"],k=function(e){var n,i,s,c,r,u,v,p=e.applicationDetail,m=e.carryParentState,_=e.instituteId,f=e.tabStatusFlow,g=e.applicationDetailApplicablePending,x=e.onRefetchConfirmTab,j=e.pageOpenAs,Z=e.children,S=(0,a.s0)(),E=(0,a.UO)(),P=(0,l.useState)({msg:"",run:!1}),T=(0,d.Z)(P,2),R=T[0],O=T[1],k=(0,l.useState)(!1),F=(0,d.Z)(k,2),M=F[0],L=F[1],U=(0,l.useState)(!1),B=(0,d.Z)(U,2),q=B[0],G=B[1],J=(0,l.useState)(!1),W=(0,d.Z)(J,2),$=W[0],V=W[1],H=(0,b.Y$)(),Y=(0,d.Z)(H,1)[0];return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("section",{className:o.Z.moderator_container_title,children:[(0,h.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){S("/q/".concat(E.username,"INSTITUTE"===j?"/admission?a=ongoing":"/member/admission?a=ongoing"),{state:(0,t.Z)({},m)})},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,h.jsxs)("div",{className:o.Z.with_search,children:[(0,h.jsx)("h6",{children:null!==(n=null===p||void 0===p?void 0:p.applicationName)&&void 0!==n?n:""}),(0,h.jsxs)("div",{className:o.Z.search_container_filter,children:[(0,h.jsx)("section",{className:o.Z.search_container,children:(0,h.jsxs)("div",{className:o.Z.search_container_input,children:[(0,h.jsx)("img",{className:o.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),Z]})}),(0,h.jsx)(N.rU,{to:"/q/joining",state:{formAs:"STUDENT",openAs:"ADMISSION_ADMIN_SIDE",instituteId:_,appId:null===p||void 0===p?void 0:p._id,admissionAmount:[null!==(i=null===p||void 0===p?void 0:p.admissionFee)&&void 0!==i?i:0,null!==(s=null===p||void 0===p||null===(c=p.one_installments)||void 0===c?void 0:c.fees)&&void 0!==s?s:0],applicationMaster:null===p||void 0===p?void 0:p.applicationMaster,applicationDepartment:null===p||void 0===p||null===(r=p.applicationDepartment)||void 0===r?void 0:r._id,batchId:null===p||void 0===p||null===(u=p.applicationBatch)||void 0===u?void 0:u._id,departmentId:null===p||void 0===p||null===(v=p.applicationDepartment)||void 0===v?void 0:v._id,whichFormShow:"DEPARTMENT"},children:(0,h.jsx)("img",{style:{height:"2.2rem",cursor:"pointer"},src:"/images/add-icon.svg",alt:"icon",title:"Add student"})}),(0,h.jsx)("img",{style:{height:"2.2rem",cursor:"pointer"},onClick:function(){return G(!0)},src:"/images/application_info.svg",alt:"icon",title:"View Application Details"}),w.includes(f)?(0,h.jsx)("img",{style:{height:"2.2rem",cursor:"pointer"},onClick:function(){null!==p&&void 0!==p&&p._id&&f&&(L((function(e){return!e})),Y({appId:null===p||void 0===p?void 0:p._id,flow:f}).then((function(e){var n;O({msg:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message,run:!0}),setTimeout((function(){S("/q/".concat(E.username,"INSTITUTE"===j?"/admission?a=export":"/member/admission?a=export"),{state:m})}),1e3)})).catch({}))},src:"/images/member_tab/finance/finance-export-icon.svg",alt:""}):null,"Confirm_Query"===f?(0,h.jsx)("img",{style:{height:"2.2rem",cursor:"pointer"},onClick:function(){return V(!0)},src:"/images/member_tab/admission/admission-transfer-icon.svg",alt:""}):null]})]})]}),(0,h.jsx)(A.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),q&&(0,h.jsx)(y.Z,{completeApplication:!0,viewDetail:q,applicationDetail:p,hideModal:G,carryParentState:m,applicationDetailApplicablePending:g,pageOpenAs:j}),$&&(0,h.jsx)(D,{instituteId:_,applicationId:null===p||void 0===p?void 0:p._id,onClose:function(){return V(!1)},onRefetchConfirmTab:x}),M&&(0,h.jsx)(C.Z,{}),(0,h.jsx)(I.Ch,{msg:R.msg,run:R.run,setRun:function(){return O({msg:"",run:!1})},postiton:"bottom",type:"success"})]})},F=i(47167),M=function(e){var n,i,t,l,o,s=e.carryParentState,d=e.accessRole,r=e.accessTpye,u=e.pageOpenAs,v=(0,c.$G)().t,p=(0,a.TH)(),m=[{name:v("application"),id:0,url:"member/admission?a=ongoing&n=application",is_active:["MULTI_APP_ACCESS"].includes(d)||!d?"enabled":["ONE_TAB_ACCESS"].includes(d)?"Application"===r?"enabled":"disabled":"enabled"},{name:v("selected"),id:1,url:"member/admission?a=ongoing&n=select",is_active:["MULTI_APP_ACCESS"].includes(d)||!d?"enabled":["ONE_TAB_ACCESS"].includes(d)?"Selected"===r?"enabled":"disabled":"enabled"},{name:v("confirmed"),id:2,url:"member/admission?a=ongoing&n=confirm",is_active:["MULTI_APP_ACCESS"].includes(d)||!d?"enabled":["ONE_TAB_ACCESS"].includes(d)?"Confirmed"===r?"enabled":"disabled":"enabled"},{name:v("allotted"),id:3,url:"member/admission?a=ongoing&n=allot",is_active:["MULTI_APP_ACCESS"].includes(d)||!d?"enabled":["ONE_TAB_ACCESS"].includes(d)?"Allotted"===r?"enabled":"disabled":"enabled"},{name:v("cancelled"),id:4,url:"member/admission?a=ongoing&n=cancel",is_active:["MULTI_APP_ACCESS"].includes(d)||!d?"enabled":["ONE_TAB_ACCESS"].includes(d)?"Cancelled"===r?"enabled":"disabled":"enabled"}],_=[{name:v("application"),id:0,url:"admission?a=ongoing&n=application",is_active:"enabled"},{name:v("selected"),id:1,url:"admission?a=ongoing&n=select",is_active:"enabled"},{name:v("confirmed"),id:2,url:"admission?a=ongoing&n=confirm",is_active:"enabled"},{name:v("allotted"),id:3,url:"admission?a=ongoing&n=allot",is_active:"enabled"},{name:v("cancelled"),id:4,url:"admission?a=ongoing&n=cancel",is_active:"enabled"}];return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(F.Z,{tabList:"INSTITUTE"===u?_:m,activeIndexTab:"application"===(null===(n=p.search)||void 0===n?void 0:n.substring(13))?0:"select"===(null===(i=p.search)||void 0===i?void 0:i.substring(13))?1:"confirm"===(null===(t=p.search)||void 0===t?void 0:t.substring(13))||"mulitple"===(null===(l=p.search)||void 0===l?void 0:l.substring(13))?2:"allot"===(null===(o=p.search)||void 0===o?void 0:o.substring(13))?3:4,showAs:!0,customStyleTab:{width:"100%"},customStyleLink:{width:"20%"},carryParentState:s}),(0,h.jsx)(A.Z,{customStyle:{width:"100%"}})]})},L=i(72426),U=i.n(L),B=i(35395),q=i(56112),G=l.lazy((function(){return i.e(433).then(i.bind(i,20433))})),J=function(e){var n,i,t,s,r,u,p,m,_,f,g,x,j,Z,S,N,A,y,b,I,E,T,R,O,D,w,k,F,M=e.applicant,L=e.onRefetchWhenSelect,J=e.applicationId,W=e.departmentId,$=e.classMasterId,V=e.batchId,H=e.instituteId,Y=(0,c.$G)().t,z=(0,a.UO)(),Q=(0,a.s0)(),X=(0,l.useState)(!1),K=(0,d.Z)(X,2),ee=K[0],ne=K[1],ie=(0,l.useState)(!1),te=(0,d.Z)(ie,2),le=te[0],oe=te[1],ae=(0,l.useState)(!1),se=(0,d.Z)(ae,2),de=se[0],ce=se[1],re=(0,v.iI)(),ue=(0,d.Z)(re,1)[0];return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:o.Z.applicant_card_container,onClick:function(){var e;Q("/q/".concat(z.username,"/student/profile"),{state:{sid:null===M||void 0===M||null===(e=M.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:H}})},title:"View Profile",children:[(0,h.jsxs)("div",{className:o.Z.applicant_card_inner,children:[(0,h.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===M||void 0===M||null===(n=M.student)||void 0===n?void 0:n.photoId)?"".concat(P.yI,"/").concat(null===M||void 0===M||null===(i=M.student)||void 0===i?void 0:i.studentProfilePhoto):"/images/user_default_img.svg",loading:"lazy"}),(0,h.jsxs)("div",{className:o.Z.applicant_card_inner_info,children:[(0,h.jsx)("h6",{children:"".concat(null===M||void 0===M||null===(t=M.student)||void 0===t?void 0:t.studentFirstName," ").concat(null!==M&&void 0!==M&&null!==(s=M.student)&&void 0!==s&&s.studentMiddleName?null===M||void 0===M||null===(r=M.student)||void 0===r?void 0:r.studentMiddleName:""," ").concat(null===M||void 0===M||null===(u=M.student)||void 0===u?void 0:u.studentLastName)}),(0,h.jsxs)("p",{children:[Y("applied_on"),":"," ",U()(null===M||void 0===M?void 0:M.apply_on).format("DD MMM yyyy")]})]})]}),(0,h.jsxs)("div",{className:o.Z.applicant_card_contact,children:[(0,h.jsxs)("div",{className:o.Z.applicant_card_contact_inner,children:[(0,h.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,h.jsx)("p",{children:null===M||void 0===M||null===(p=M.student)||void 0===p?void 0:p.studentGender})]}),((null===M||void 0===M||null===(m=M.student)||void 0===m?void 0:m.studentPhoneNumber)||(null===M||void 0===M||null===(_=M.student)||void 0===_||null===(f=_.user)||void 0===f?void 0:f.userPhoneNumber)||(null===M||void 0===M||null===(g=M.student)||void 0===g||null===(x=g.user)||void 0===x?void 0:x.userEmail)||(null===M||void 0===M||null===(j=M.student)||void 0===j?void 0:j.studentParentsPhoneNumber))&&(0,h.jsxs)("div",{className:o.Z.applicant_card_contact_inner,children:[(0,h.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,h.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==M&&void 0!==M&&null!==(Z=M.student)&&void 0!==Z&&null!==(S=Z.user)&&void 0!==S&&S.userPhoneNumber?null===M||void 0===M||null===(N=M.student)||void 0===N||null===(A=N.user)||void 0===A?void 0:A.userPhoneNumber:null!==M&&void 0!==M&&null!==(y=M.student)&&void 0!==y&&null!==(b=y.user)&&void 0!==b&&b.userEmail?null===M||void 0===M||null===(I=M.student)||void 0===I||null===(E=I.user)||void 0===E?void 0:E.userEmail:null!==M&&void 0!==M&&null!==(T=M.student)&&void 0!==T&&T.studentPhoneNumber?null===M||void 0===M||null===(R=M.student)||void 0===R?void 0:R.studentPhoneNumber:null===M||void 0===M||null===(O=M.student)||void 0===O?void 0:O.studentParentsPhoneNumber})]})]}),(0,h.jsx)("div",{className:o.Z.applicant_card_reciept,onClick:function(e){e.stopPropagation()},children:(0,h.jsx)("a",{href:"".concat(P.r3,"/").concat(null===M||void 0===M||null===(D=M.student)||void 0===D||null===(w=D.application_print)||void 0===w||null===(k=w[0])||void 0===k?void 0:k.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,h.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,h.jsxs)("div",{className:o.Z.application_button,children:[(0,h.jsx)("div",{className:o.Z.selectAppBtnContainer,onClick:function(e){e.stopPropagation(),oe(!0)},children:(0,h.jsx)("div",{className:o.Z.selectBtn,children:Y("select")})}),(0,h.jsx)("div",{className:o.Z.selectAppBtnContainer,onClick:function(e){e.stopPropagation(),ne((function(e){return!e}))},children:(0,h.jsx)("div",{className:o.Z.cancelledBtn,children:Y("reject")})})]})]}),(0,h.jsx)(B.Z,{children:ee&&(0,h.jsx)(G,{studentId:null===M||void 0===M||null===(F=M.student)||void 0===F?void 0:F._id,applicationId:J,onClose:function(){return ne((function(e){return!e}))},onRefetchWhenSelect:L})}),le&&(0,h.jsx)(q.Z,{departmentId:W,classMasterId:$,batchId:V,onClose:function(){return oe((function(e){return!e}))},onSelectedStudent:function(e){var n,i;""!==(null===M||void 0===M||null===(n=M.student)||void 0===n?void 0:n._id)&&""!==J&&e&&(ce((function(e){return!e})),ue({sid:null===M||void 0===M||null===(i=M.student)||void 0===i?void 0:i._id,aid:J,selectApplicant:{fee_struct:e}}).then((function(){L(),ce((function(e){return!e}))})).catch((function(){ce((function(e){return!e}))})))}}),de&&(0,h.jsx)(C.Z,{})]})};var W=function(e){var n=e.applicationId,i=e.carryParentState,t=e.applicationDetail,o=e.instituteId,a=e.accessRole,c=e.accessTpye,p=e.applicationDetailApplicablePending,_=e.pageOpenAs,f=(0,l.useState)(!0),g=(0,d.Z)(f,2),x=g[0],j=g[1],Z=(0,l.useState)(1),N=(0,d.Z)(Z,2),A=N[0],y=N[1],b=(0,l.useState)(""),C=(0,d.Z)(b,2),I=C[0],E=C[1],P=(0,r.YD)(),T=(0,d.Z)(P,2),R=T[0],O=T[1],D=(0,l.useState)([]),w=(0,d.Z)(D,2),F=w[0],L=w[1],U=(0,l.useState)(!1),B=(0,d.Z)(U,2),q=B[0],G=B[1],W=(0,l.useState)(!0),$=(0,d.Z)(W,2),V=$[0],H=$[1],Y=(0,v.jG)({data:{id:n,page:A,limit:10,search:I||""},skip:!n}),z=Y.getAllRequestList,Q=Y.getAllRequestListRefetch,X=(0,u.u)().scrollToTop;(0,l.useEffect)((function(){X()}),[]),(0,l.useEffect)((function(){O&&x&&y((function(e){return e+1}))}),[O,x]),(0,l.useEffect)((function(){n&&(H(!0),Q())}),[A,n,Q,I]),(0,l.useEffect)((function(){var e,n;I?(L(null===z||void 0===z?void 0:z.request),H(!1)):q?(L(null===z||void 0===z?void 0:z.request),G(!1),H(!1)):null!==z&&void 0!==z&&z.request?(L((function(e){var n,i;return null===(n=(0,s.Z)(new Set(null===(i=[].concat((0,s.Z)(e),(0,s.Z)(null===z||void 0===z?void 0:z.request)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),H(!1)):0===(null===z||void 0===z||null===(n=z.request)||void 0===n?void 0:n.length)&&H(!1);10===(null===z||void 0===z||null===(e=z.request)||void 0===e?void 0:e.length)?j(!0):j(!1)}),[null===z||void 0===z?void 0:z.request]);var K=function(){y(1),Q(),G(!0)},ee=(0,l.useCallback)((0,S.debounce)((function(e){return E(e)}),500),[]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(k,{applicationDetail:t,carryParentState:i,instituteId:o,tabStatusFlow:"Request_Query",applicationDetailApplicablePending:p,pageOpenAs:_,children:(0,h.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:function(e){ee(e.target.value)}})}),(0,h.jsx)(M,{carryParentState:i,accessRole:a,accessTpye:c,pageOpenAs:_}),null===F||void 0===F?void 0:F.map((function(e,i){var l,a,s,d;return(null===F||void 0===F?void 0:F.length)===i+1?(0,h.jsx)("div",{ref:R,children:(0,h.jsx)(J,{applicant:e,onRefetchWhenSelect:K,applicationId:n,departmentId:null===t||void 0===t||null===(l=t.applicationDepartment)||void 0===l?void 0:l._id,batchId:null===t||void 0===t||null===(a=t.applicationBatch)||void 0===a?void 0:a._id,classMasterId:null===t||void 0===t?void 0:t.applicationMaster,instituteId:o})},i):(0,h.jsx)(J,{applicant:e,onRefetchWhenSelect:K,applicationId:n,departmentId:null===t||void 0===t||null===(s=t.applicationDepartment)||void 0===s?void 0:s._id,batchId:null===t||void 0===t||null===(d=t.applicationBatch)||void 0===d?void 0:d._id,classMasterId:null===t||void 0===t?void 0:t.applicationMaster,instituteId:o},i)})),V&&(0,h.jsx)(m.Z,{})]})},$=function(e){var n=e.applicationId,i=e.studentId,t=e.statusId,o=e.onRefetch,a=e.isSelected,s=(0,l.useState)(!1),c=(0,d.Z)(s,2),r=c[0],u=c[1],p=(0,v.FG)(),m=(0,d.Z)(p,1)[0],_=(0,v.IG)(),f=(0,d.Z)(_,1)[0];return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("img",{src:"/images/member_tab/admission/admission-undo-icon.svg",alt:"undo icon",style:{cursor:"pointer",width:"30px"},onClick:function(e){e.stopPropagation(),t&&i&&n&&("Not Collected"===a?(u((function(e){return!e})),m({sid:i,aid:n,revertData:{statusId:t}}).then((function(){o(),u((function(e){return!e}))})).catch({})):"Collected"===a&&(u((function(e){return!e})),f({sid:i,aid:n,revertData:{statusId:t}}).then((function(){o(),u((function(e){return!e}))})).catch({})))},title:"Not Collected"===a?"Undo Application":"Undo Collect Document"}),r&&(0,h.jsx)(C.Z,{})]})},V=function(e){var n,i,t,l,s,d,r,u,v,p,m,_,f,g,x,j,Z,S,N,A,y,b,C,I,E,T,R,O,D,w,k,F,M,L,B,q,G,J,W=e.applicant,V=e.onSelectOffileFees,H=e.onCollectDocs,Y=e.onEditFee,z=e.instituteId,Q=e.applicationId,X=e.onRefetch,K=(0,c.$G)().t,ee=(0,a.UO)(),ne=(0,a.s0)(),ie=function(e){e.stopPropagation(),H(W)},te=function(e){var n;e.stopPropagation(),Y(null===W||void 0===W||null===(n=W.student)||void 0===n?void 0:n._id)};return(0,h.jsxs)("div",{className:o.Z.applicant_card_container,onClick:function(){var e;ne("/q/".concat(ee.username,"/student/profile"),{state:{sid:null===W||void 0===W||null===(e=W.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:z}})},title:"View Profile",children:[(0,h.jsxs)("div",{className:o.Z.applicant_card_inner,children:[(0,h.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===W||void 0===W||null===(n=W.student)||void 0===n?void 0:n.photoId)?"".concat(P.yI,"/").concat(null===W||void 0===W||null===(i=W.student)||void 0===i?void 0:i.studentProfilePhoto):"/images/user_default_img.svg",loading:"lazy"}),(0,h.jsxs)("div",{className:o.Z.applicant_card_inner_info,children:[(0,h.jsx)("h6",{children:"".concat(null===W||void 0===W||null===(t=W.student)||void 0===t?void 0:t.studentFirstName," ").concat(null!==W&&void 0!==W&&null!==(l=W.student)&&void 0!==l&&l.studentMiddleName?null===W||void 0===W||null===(s=W.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null===W||void 0===W||null===(d=W.student)||void 0===d?void 0:d.studentLastName)}),(0,h.jsxs)("h6",{children:[K("fee_structure")," : ",null!==(r=null===W||void 0===W||null===(u=W.student)||void 0===u||null===(v=u.fee_structure)||void 0===v||null===(p=v.category_master)||void 0===p?void 0:p.category_name)&&void 0!==r?r:"",", ",K("rs")," ",null!==(m=null===W||void 0===W||null===(_=W.student)||void 0===_||null===(f=_.fee_structure)||void 0===f?void 0:f.applicable_fees)&&void 0!==m?m:""]}),(0,h.jsx)("p",{children:null!==W&&void 0!==W&&W.install_type?null===W||void 0===W?void 0:W.install_type:"\n          ".concat(K("select_on"),":\n          ").concat(U()(null===W||void 0===W?void 0:W.select_on).format("DD MMM yyyy"))})]})]}),(0,h.jsxs)("div",{className:o.Z.applicant_card_contact,children:[(0,h.jsxs)("div",{className:o.Z.applicant_card_contact_inner,children:[(0,h.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,h.jsx)("p",{children:null===W||void 0===W||null===(g=W.student)||void 0===g?void 0:g.studentGender})]}),((null===W||void 0===W||null===(x=W.student)||void 0===x?void 0:x.studentPhoneNumber)||(null===W||void 0===W||null===(j=W.student)||void 0===j||null===(Z=j.user)||void 0===Z?void 0:Z.userPhoneNumber)||(null===W||void 0===W||null===(S=W.student)||void 0===S||null===(N=S.user)||void 0===N?void 0:N.userEmail)||(null===W||void 0===W||null===(A=W.student)||void 0===A?void 0:A.studentParentsPhoneNumber))&&(0,h.jsxs)("div",{className:o.Z.applicant_card_contact_inner,children:[(0,h.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,h.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==W&&void 0!==W&&null!==(y=W.student)&&void 0!==y&&null!==(b=y.user)&&void 0!==b&&b.userPhoneNumber?null===W||void 0===W||null===(C=W.student)||void 0===C||null===(I=C.user)||void 0===I?void 0:I.userPhoneNumber:null!==W&&void 0!==W&&null!==(E=W.student)&&void 0!==E&&null!==(T=E.user)&&void 0!==T&&T.userEmail?null===W||void 0===W||null===(R=W.student)||void 0===R||null===(O=R.user)||void 0===O?void 0:O.userEmail:null!==W&&void 0!==W&&null!==(D=W.student)&&void 0!==D&&D.studentPhoneNumber?null===W||void 0===W||null===(w=W.student)||void 0===w?void 0:w.studentPhoneNumber:null===W||void 0===W||null===(k=W.student)||void 0===k?void 0:k.studentParentsPhoneNumber})]})]}),(0,h.jsx)("div",{className:o.Z.applicant_card_reciept,onClick:function(e){e.stopPropagation()},children:(0,h.jsx)("a",{href:"".concat(P.r3,"/").concat(null===W||void 0===W||null===(F=W.student)||void 0===F||null===(M=F.application_print)||void 0===M||null===(L=M[0])||void 0===L?void 0:L.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,h.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),"receipt requested"===(null===W||void 0===W||null===(B=W.payment_status)||void 0===B?void 0:B.toLowerCase())?(0,h.jsxs)("div",{className:o.Z.selectBtnContainer,style:{display:"flex",justifyContent:"space-evenly"},children:[(0,h.jsx)("div",{className:o.Z.receipt_requested_btn,onClick:function(e){e.stopPropagation()},children:K("receipt_requested")}),(0,h.jsx)("img",{src:"/images/bank-edit-icon.svg",alt:"back arrow",className:o.Z.back_icon,onClick:te})]}):(0,h.jsxs)("div",{className:o.Z.selectBtnContainer,style:{display:"flex",justifyContent:"space-evenly"},children:["pending"===(null===W||void 0===W||null===(q=W.payment_status)||void 0===q?void 0:q.toLowerCase())&&("Not Collected"===(null===W||void 0===W?void 0:W.docs_collect)?(0,h.jsx)("div",{className:o.Z.onlineBtn,onClick:ie,children:K("collect_docs")}):(0,h.jsx)("div",{className:o.Z.selectBtn,onClick:function(e){e.stopPropagation(),V(W)},children:K("collect_fee")})),"online"===(null===W||void 0===W||null===(G=W.payment_status)||void 0===G?void 0:G.toLowerCase())&&(0,h.jsx)("div",{className:o.Z.onlineBtn,onClick:ie,children:K("collect_docs")}),(0,h.jsx)("img",{src:"/images/bank-edit-icon.svg",alt:"back arrow",className:o.Z.back_icon,onClick:te})]}),(0,h.jsx)($,{applicationId:Q,studentId:null===W||void 0===W||null===(J=W.student)||void 0===J?void 0:J._id,statusId:"Not Collected"===(null===W||void 0===W?void 0:W.docs_collect)?null===W||void 0===W?void 0:W.revert_request_status:"Collected"===(null===W||void 0===W?void 0:W.docs_collect)?null===W||void 0===W?void 0:W.status_id:"",onRefetch:X,isSelected:null===W||void 0===W?void 0:W.docs_collect})]})},H=function(e){var n,i,t,a,s,r,u=e.currentApplicant,p=e.onClose,m=e.applicationId,_=e.onRefetchWhenConfirm,f=(0,c.$G)().t,g=(0,l.useState)(!1),x=(0,d.Z)(g,2),j=x[0],Z=x[1],S=(0,v.mZ)(),N=(0,d.Z)(S,1)[0],y=(0,v.pc)(),b=(0,d.Z)(y,1)[0];return(0,h.jsxs)(E.Z,{onClose:p,children:[(0,h.jsxs)("div",{className:o.Z.not_confirm_container,children:[(0,h.jsx)("h6",{children:f("admission_status")}),(0,h.jsx)(A.Z,{customStyle:{marginLeft:"-2rem",width:"130%"}}),(0,h.jsxs)("section",{className:o.Z.applicant_profile,children:[(0,h.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===u||void 0===u||null===(n=u.student)||void 0===n?void 0:n.photoId)?"".concat(P.yI,"/").concat(null===u||void 0===u||null===(i=u.student)||void 0===i?void 0:i.studentProfilePhoto):"/images/user_default_img.svg"}),(0,h.jsxs)("div",{className:o.Z.applicant_profile_text,children:[(0,h.jsx)("h6",{children:"".concat(null===u||void 0===u||null===(t=u.student)||void 0===t?void 0:t.studentFirstName," ").concat(null!==u&&void 0!==u&&null!==(a=u.student)&&void 0!==a&&a.studentMiddleName?null===u||void 0===u||null===(s=u.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null===u||void 0===u||null===(r=u.student)||void 0===r?void 0:r.studentLastName)}),(0,h.jsxs)("p",{children:[f("applied")," ",U()(null===u||void 0===u?void 0:u.select_on).format("DD MMM yyyy")]})]})]}),(0,h.jsxs)("section",{className:o.Z.button_group,children:[(0,h.jsx)("button",{onClick:function(){var e,n;m&&null!==u&&void 0!==u&&null!==(e=u.student)&&void 0!==e&&e._id&&(Z((function(e){return!e})),N({aid:m,sid:null===u||void 0===u||null===(n=u.student)||void 0===n?void 0:n._id}).then((function(){_(),p(),Z((function(e){return!e}))})).catch((function(){Z((function(e){return!e}))})))},children:f("confirm")}),(0,h.jsx)("button",{onClick:function(){var e,n;m&&null!==u&&void 0!==u&&null!==(e=u.student)&&void 0!==e&&e._id&&(Z((function(e){return!e})),b({aid:m,sid:null===u||void 0===u||null===(n=u.student)||void 0===n?void 0:n._id}).then((function(){_(),p(),Z((function(e){return!e}))})).catch((function(){Z((function(e){return!e}))})))},children:f("reject")})]})]}),j&&(0,h.jsx)(C.Z,{})]})};var Y=function(e){var n,i,t,a,s=e.applicationId,r=e.currentApplicant,u=e.onRefetchWhenConfirm,p=e.onClose,m=(0,c.$G)().t,_=(0,l.useState)(!1),f=(0,d.Z)(_,2),g=f[0],x=f[1],j=(0,v.K7)(),Z=(0,d.Z)(j,1)[0];return(0,h.jsxs)(E.Z,{onClose:p,children:[(0,h.jsxs)("div",{className:o.Z.not_confirm_container,children:[(0,h.jsx)("h6",{children:m("collect_required_document")}),(0,h.jsx)(A.Z,{customStyle:{width:"100%"}}),(0,h.jsxs)("section",{className:o.Z.admission_collect_docs,children:[(0,h.jsx)("p",{children:m("collecting_documents_of_student")}),(0,h.jsx)("h6",{children:"".concat(null===r||void 0===r||null===(n=r.student)||void 0===n?void 0:n.studentFirstName," ").concat(null!==r&&void 0!==r&&null!==(i=r.student)&&void 0!==i&&i.studentMiddleName?null===r||void 0===r||null===(t=r.student)||void 0===t?void 0:t.studentMiddleName:""," ").concat(null===r||void 0===r||null===(a=r.student)||void 0===a?void 0:a.studentLastName)})]}),(0,h.jsx)("button",{onClick:function(){var e,n;null!==r&&void 0!==r&&null!==(e=r.student)&&void 0!==e&&e._id&&s&&(x(!0),Z({sid:null===r||void 0===r||null===(n=r.student)||void 0===n?void 0:n._id,aid:s}).then((function(){u(),p(),x(!1)})).catch({}))},className:o.Z.confirm_btn,children:m("confirm")})]}),g&&(0,h.jsx)(C.Z,{})]})},z=i(4942),Q=i(49886),X=i(97655),K=i(59965);var ee=function(e){var n,i,a,s,r,u=e.currentApplicant,p=e.applicationId,m=e.onRefetchWhenConfirm,_=e.onClose,f=(0,l.useState)(!1),g=(0,d.Z)(f,2),x=g[0],j=g[1],Z=(0,c.$G)().t,S=(0,l.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),N=(0,d.Z)(S,2),y=N[0],b=N[1],P=(0,l.useState)({msg:"",run:!1}),T=(0,d.Z)(P,2),R=T[0],O=T[1],D=(0,l.useState)(""),w=(0,d.Z)(D,2),k=w[0],F=w[1],M=(0,v.Vd)(),L=(0,d.Z)(M,1)[0],U=function(e){"fee_payment_mode"===e.target.name?b((function(n){var i;return(0,t.Z)((0,t.Z)({},n),{},(i={},(0,z.Z)(i,e.target.name,e.target.value),(0,z.Z)(i,"mode","By Cash"===e.target.value?"Offline":"Online"),(0,z.Z)(i,"fee_payment_mode",e.target.value),i))})):b((function(n){return(0,t.Z)((0,t.Z)({},n),{},(0,z.Z)({},e.target.name,e.target.value))}))};return(0,h.jsxs)(E.Z,{onClose:_,children:[(0,h.jsxs)("div",{className:o.Z.admission_modal,children:[(0,h.jsx)("h6",{className:o.Z.admission_modal_heading,children:Z("collect_fees")}),(0,h.jsx)(A.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),(0,h.jsxs)("div",{className:o.Z.admission_fees_row,children:[(0,h.jsxs)("h6",{children:[Z("applicable_amount")," :"]}),(0,h.jsxs)("h6",{children:[Z("rs"),"."," ",null===u||void 0===u||null===(n=u.student)||void 0===n||null===(i=n.fee_structure)||void 0===i?void 0:i.applicable_fees]})]}),(0,h.jsx)(X.Z,{labelText:"".concat(Z("amount_first_installment")," ").concat(null===u||void 0===u||null===(a=u.student)||void 0===a||null===(s=a.fee_structure)||void 0===s||null===(r=s.one_installments)||void 0===r?void 0:r.fees),name:"amount",type:"tel",value:y.amount,onChange:function(e){b((function(n){return(0,t.Z)((0,t.Z)({},n),{},{amount:+e.target.value,fee_payment_amount:+e.target.value})}))},placeholder:Z("amoute_details_collect"),errorShow:k.fee_payment_amount,customStyleLabel:{marginTop:"15px",marginBottom:"7px"},customStyleContainer:{marginBottom:"15px"}}),(0,h.jsx)(Q.Z,{paymentHeading:Z("payment_type_mode"),onInputChange:U,errorShow:k.fee_payment_mode}),(0,h.jsx)(K.Z,{labelText:Z("select_date_of_transaction"),placeholder:Z("please_select_date"),name:"transaction_date",value:y.transaction_date,onDateFunction:function(e){var n=null===e||void 0===e?void 0:e.split("/");b((function(e){return(0,t.Z)((0,t.Z)({},e),{},{transaction_date:"".concat(n[2],"-").concat(n[1],"-").concat(n[0])})}))},customStyleContainer:{position:"relative",marginTop:"0.5rem"},datePickerPosition:{position:"relative",top:"-20rem"},customStyleLabel:{marginTop:"15px"},errorShow:k.transaction_date}),"By Cash"===y.fee_payment_mode?"":(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(X.Z,{labelText:Z("bank_name_collect"),name:"fee_bank_name",type:"tel",value:y.fee_bank_name,onChange:U,placeholder:Z("please_enter_bank_name"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,h.jsx)(X.Z,{labelText:Z("banke_holder_name"),name:"fee_bank_holder",type:"tel",value:y.fee_bank_holder,onChange:U,placeholder:Z("please_enter_name_of_bank_holder"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,h.jsx)(X.Z,{labelText:Z("cheque_dd_neft"),name:"fee_utr_reference",type:"tel",value:y.fee_utr_reference,onChange:U,placeholder:Z("please_enter_utr_ref_number"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}})]}),(0,h.jsx)("div",{className:o.Z.confirm_btn,onClick:function(){var e=function(e){var n={};for(var i in e){var t,l;"fee_bank_name"===i||"fee_bank_holder"===i||"fee_utr_reference"===i||"amount"===i||"mode"===i||(e[i]?"fee_payment_amount"===i&&(e[i]<=(null===u||void 0===u||null===(t=u.student)||void 0===t||null===(l=t.fee_structure)||void 0===l?void 0:l.total_admission_fees)||(O({msg:"You can not enter amount greater than Admission fees.",run:!0}),n.fee_payment_amount="".concat(i," is required!"))):n[i]="".concat(i," is required!"))}return n}(y),n=!1;for(var i in e){n=!0;break}if(n)F(e);else{var t,l,o;j(!0);var a={sid:null===u||void 0===u||null===(t=u.student)||void 0===t?void 0:t._id,aid:p,confirm_data:y,receipt_status:"Fee Receipt Not Generated"===y.fee_payment_mode?"Fee Receipt Not Generated":""};""!==(null===a||void 0===a?void 0:a.sid)&&""!==(null===a||void 0===a?void 0:a.aid)&&(null===a||void 0===a||null===(l=a.confirm_data)||void 0===l?void 0:l.amount)>0&&""!==(null===a||void 0===a||null===(o=a.confirm_data)||void 0===o?void 0:o.mode)?L(a).then((function(e){e.data.confirm_status&&(m(),_(!1),j(!1))})).catch({}):j(!1)}},children:Z("collect")}),(0,h.jsx)(I.Ch,{msg:R.msg,run:R.run,setRun:function(){return O({msg:"",run:!1})},postiton:"bottom",type:"error"})]}),x&&(0,h.jsx)(C.Z,{})]})};var ne=function(e){var n,i,t=e.applicationId,o=e.applicationDetail,a=e.carryParentState,c=e.accessRole,p=e.accessTpye,_=e.instituteId,f=e.applicationDetailApplicablePending,g=e.pageOpenAs,x=(0,l.useState)(!0),j=(0,d.Z)(x,2),Z=j[0],N=j[1],A=(0,l.useState)(1),y=(0,d.Z)(A,2),b=y[0],I=y[1],E=(0,l.useState)(""),P=(0,d.Z)(E,2),T=P[0],R=P[1],O=(0,r.YD)(),D=(0,d.Z)(O,2),w=D[0],F=D[1],L=(0,l.useState)([]),U=(0,d.Z)(L,2),B=U[0],G=U[1],J=(0,l.useState)(!1),W=(0,d.Z)(J,2),$=W[0],z=W[1],Q=(0,l.useState)(!0),X=(0,d.Z)(Q,2),K=X[0],ne=X[1],ie=(0,l.useState)(""),te=(0,d.Z)(ie,2),le=te[0],oe=te[1],ae=(0,l.useState)(""),se=(0,d.Z)(ae,2),de=se[0],ce=se[1],re=(0,l.useState)(!1),ue=(0,d.Z)(re,2),ve=ue[0],pe=ue[1],me=(0,v.lw)(),_e=(0,d.Z)(me,1)[0],fe=(0,v.sR)({data:{id:t,page:b,limit:10,search:T||""},skip:!t}),he=fe.getAllSelectList,ge=fe.getAllSelectListRefetch,xe=(0,u.u)().scrollToTop;(0,l.useEffect)((function(){xe()}),[]),(0,l.useEffect)((function(){F&&Z&&I((function(e){return e+1}))}),[F,Z]),(0,l.useEffect)((function(){t&&(ne(!0),ge())}),[b,t,ge,T]),(0,l.useEffect)((function(){var e,n;T?(G(null===he||void 0===he?void 0:he.select),ne(!1)):$?(G(null===he||void 0===he?void 0:he.select),z(!1),ne(!1)):null!==he&&void 0!==he&&he.select?(G((function(e){var n,i;return null===(n=(0,s.Z)(new Set(null===(i=[].concat((0,s.Z)(e),(0,s.Z)(null===he||void 0===he?void 0:he.select)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),ne(!1)):0===(null===he||void 0===he||null===(n=he.select)||void 0===n?void 0:n.length)&&ne(!1);10===(null===he||void 0===he||null===(e=he.select)||void 0===e?void 0:e.length)?N(!0):N(!1)}),[null===he||void 0===he?void 0:he.select]);var je=function(){I(1),ge(),z(!0)},Ze=(0,l.useCallback)((0,S.debounce)((function(e){return R(e)}),500),[]),Se=function(e){ce(e),oe("COLLECT_FEES")},Ne=function(e){ce(e),oe("COLLECT_DOCS")},Ae=function(e){ce(e),oe("EDIT_STRUCTURE")},ye=function(e){ce(e),oe("MARK_CONFIRM")};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(k,{applicationDetail:o,carryParentState:a,instituteId:_,applicationDetailApplicablePending:f,pageOpenAs:g,children:(0,h.jsx)("input",{type:"text",placeholder:"Search applications...",onChange:function(e){Ze(e.target.value)}})}),(0,h.jsx)(M,{carryParentState:a,accessRole:c,accessTpye:p,pageOpenAs:g}),null===B||void 0===B?void 0:B.map((function(e,n){return(null===B||void 0===B?void 0:B.length)===n+1?(0,h.jsx)("div",{ref:w,children:(0,h.jsx)(V,{applicant:e,onEditFee:Ae,onSelectOffileFees:Se,onCollectDocs:Ne,onNotConfirm:ye,instituteId:_,applicationId:t,onRefetch:je})},n):(0,h.jsx)(V,{applicant:e,onEditFee:Ae,onSelectOffileFees:Se,onCollectDocs:Ne,onNotConfirm:ye,instituteId:_,applicationId:t,onRefetch:je},n)})),K&&(0,h.jsx)(m.Z,{}),"MARK_CONFIRM"===le&&(0,h.jsx)(H,{currentApplicant:de,applicationId:t,onClose:function(){return oe("")},onRefetchWhenConfirm:je}),"EDIT_STRUCTURE"===le&&(0,h.jsx)(q.Z,{departmentId:null===o||void 0===o||null===(n=o.applicationDepartment)||void 0===n?void 0:n._id,batchId:null===o||void 0===o||null===(i=o.applicationBatch)||void 0===i?void 0:i._id,classMasterId:null===o||void 0===o?void 0:o.applicationMaster,onClose:function(){return oe("")},onSelectedStudent:function(e){""!==de&&""!==t&&(pe((function(e){return!e})),_e({sid:de,aid:t,editStructure:{fee_struct:e}}).then((function(){je(),pe((function(e){return!e}))})).catch((function(){pe((function(e){return!e}))})))},asOpen:"SELECTED_TAB"}),"COLLECT_DOCS"===le&&(0,h.jsx)(Y,{currentApplicant:de,applicationId:t,onClose:function(){return oe("")},onRefetchWhenConfirm:je}),"COLLECT_FEES"===le&&(0,h.jsx)(ee,{onClose:function(){return oe("")},currentApplicant:de,applicationId:t,onRefetchWhenConfirm:je}),ve&&(0,h.jsx)(C.Z,{})]})},ie=i(37782),te=function(e){var n,t,s,r,u,p,m,_,f,g,x,j,Z,S,N,A,y,b,I,E,T,R,O,D,w,k,F,M,L,U=e.onAllotApplicantBatch,B=e.onCancelAdmission,q=e.applicant,G=e.instituteId,J=(0,c.$G)().t,W=(0,a.UO)(),$=(0,a.s0)(),V=(0,l.useState)(""),H=(0,d.Z)(V,2),Y=H[0],z=H[1],Q=(0,l.useState)(!1),X=(0,d.Z)(Q,2),K=X[0],ee=X[1],ne=(0,l.useState)(""),te=(0,d.Z)(ne,2),le=te[0],oe=te[1],ae=(0,v.$d)({rid:Y,skip:!Y}),se=ae.getFeeReceiptDetail,de=ae.getFeeReceiptDetailRefetch;(0,l.useEffect)((function(){Y&&de()}),[Y,de]),(0,l.useEffect)((function(){null!==se&&void 0!==se&&se.receipt&&null!==se&&void 0!==se&&se.all_remain&&oe(se)}),[se]),(0,l.useEffect)((function(){if(le){var e=(0,ie.Hs)(null===le||void 0===le?void 0:le.all_remain,null===le||void 0===le?void 0:le.receipt),n=e.institute,t=e.studentInfo,l=e.paymentReceiptInfo,o=new Worker(new URL(i.p+i.u(4021),i.b));o.postMessage({institute:n,studentInfo:t,paymentReceiptInfo:l,printReceiptType:"Refunded"===(null===l||void 0===l?void 0:l.transactonRefund)?"ADMISSION_REFUND":"ADMISSION"}),o.onmessage=function(e){e&&(window.open(e.data,"_blank"),ee((function(e){return!e})),oe(""),o.terminate())}}}),[le]);return(0,h.jsxs)("div",{className:o.Z.applicant_card_container,onClick:function(){var e;$("/q/".concat(W.username,"/student/profile"),{state:{sid:null===q||void 0===q||null===(e=q.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:G}})},title:"View Profile",children:[(0,h.jsxs)("div",{className:o.Z.applicant_card_inner,children:[(0,h.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===q||void 0===q||null===(n=q.student)||void 0===n?void 0:n.photoId)?"".concat(P.yI,"/").concat(null===q||void 0===q||null===(t=q.student)||void 0===t?void 0:t.studentProfilePhoto):"/images/user_default_img.svg",loading:"lazy"}),(0,h.jsxs)("div",{className:o.Z.applicant_card_inner_info,children:[(0,h.jsx)("h6",{children:"".concat(null===q||void 0===q||null===(s=q.student)||void 0===s?void 0:s.studentFirstName," ").concat(null!==q&&void 0!==q&&null!==(r=q.student)&&void 0!==r&&r.studentMiddleName?null===q||void 0===q||null===(u=q.student)||void 0===u?void 0:u.studentMiddleName:""," ").concat(null===q||void 0===q||null===(p=q.student)||void 0===p?void 0:p.studentLastName)}),(0,h.jsx)("p",{onClick:function(e){e.stopPropagation(),B(q)},className:o.Z.cancelStatus,children:J("cancel_admision")})]})]}),(0,h.jsxs)("div",{className:o.Z.applicant_card_contact,children:[(0,h.jsxs)("div",{className:o.Z.applicant_card_contact_inner,children:[(0,h.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,h.jsx)("p",{children:null===q||void 0===q||null===(m=q.student)||void 0===m?void 0:m.studentGender})]}),((null===q||void 0===q||null===(_=q.student)||void 0===_?void 0:_.studentPhoneNumber)||(null===q||void 0===q||null===(f=q.student)||void 0===f||null===(g=f.user)||void 0===g?void 0:g.userPhoneNumber)||(null===q||void 0===q||null===(x=q.student)||void 0===x||null===(j=x.user)||void 0===j?void 0:j.userEmail)||(null===q||void 0===q||null===(Z=q.student)||void 0===Z?void 0:Z.studentParentsPhoneNumber))&&(0,h.jsxs)("div",{className:o.Z.applicant_card_contact_inner,children:[(0,h.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,h.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==q&&void 0!==q&&null!==(S=q.student)&&void 0!==S&&null!==(N=S.user)&&void 0!==N&&N.userPhoneNumber?null===q||void 0===q||null===(A=q.student)||void 0===A||null===(y=A.user)||void 0===y?void 0:y.userPhoneNumber:null!==q&&void 0!==q&&null!==(b=q.student)&&void 0!==b&&null!==(I=b.user)&&void 0!==I&&I.userEmail?null===q||void 0===q||null===(E=q.student)||void 0===E||null===(T=E.user)||void 0===T?void 0:T.userEmail:null!==q&&void 0!==q&&null!==(R=q.student)&&void 0!==R&&R.studentPhoneNumber?null===q||void 0===q||null===(O=q.student)||void 0===O?void 0:O.studentPhoneNumber:null===q||void 0===q||null===(D=q.student)||void 0===D?void 0:D.studentParentsPhoneNumber})]})]}),(0,h.jsx)("div",{className:o.Z.applicant_card_reciept,onClick:function(e){e.stopPropagation()},children:(0,h.jsx)("a",{href:"".concat(P.r3,"/").concat(null===q||void 0===q||null===(w=q.student)||void 0===w||null===(k=w.application_print)||void 0===k||null===(F=k[0])||void 0===F?void 0:F.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-4.5px"},children:(0,h.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,h.jsx)("div",{className:o.Z.applicant_card_reciept,children:null===q||void 0===q||null===(M=q.student)||void 0===M||null===(L=M.fee_receipt)||void 0===L?void 0:L.map((function(e,n){return n>2?"":(0,h.jsx)("img",{src:"/images/member_tab/admission/admission-receipt-download.svg",onClick:function(n){return function(e,n){e.stopPropagation(),ee((function(e){return!e})),z(n),Y===n&&oe(se)}(n,e)},alt:"receipt icon",title:"Download Fees Receipt"},e)}))}),(0,h.jsx)("div",{className:o.Z.selectBtnContainer,style:{width:"auto"},children:(0,h.jsx)("div",{className:o.Z.selectBtn,onClick:function(e){e.stopPropagation(),U(q)},children:J("allot_class")})}),K&&(0,h.jsx)(C.Z,{})]})};var le=function(e){var n,i,a,s,r=e.onRefetchWhenAction,u=e.applicationId,p=e.currentApplicant,m=e.onClose,_=(0,c.$G)().t,f=(0,l.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),g=(0,d.Z)(f,2),x=g[0],j=g[1],Z=(0,l.useState)(""),S=(0,d.Z)(Z,2),N=S[0],y=S[1],b=(0,l.useState)(0),P=(0,d.Z)(b,2),T=P[0],R=P[1],O=(0,l.useState)({msg:"",run:!1}),D=(0,d.Z)(O,2),w=D[0],k=D[1],F=(0,l.useState)(!1),M=(0,d.Z)(F,2),L=M[0],U=M[1],B=(0,v.PE)(),q=(0,d.Z)(B,1)[0];(0,l.useEffect)((function(){var e,n;if(null!==p&&void 0!==p&&null!==(e=p.student)&&void 0!==e&&null!==(n=e.paidFeeList)&&void 0!==n&&n.length){var i,t,l,o,a=null===p||void 0===p||null===(i=p.student)||void 0===i||null===(t=i.paidFeeList)||void 0===t?void 0:t.filter((function(e){return(null===e||void 0===e?void 0:e.appId)===u}));R(null!==(l=null===a||void 0===a||null===(o=a[0])||void 0===o?void 0:o.paidAmount)&&void 0!==l?l:0)}}),[null===p||void 0===p||null===(n=p.student)||void 0===n?void 0:n.paidFeeList]);var G=function(e){"fee_payment_mode"===e.target.name?j((function(n){var i;return(0,t.Z)((0,t.Z)({},n),{},(i={},(0,z.Z)(i,e.target.name,e.target.value),(0,z.Z)(i,"mode","By Cash"===e.target.value?"Offline":"Online"),(0,z.Z)(i,"fee_payment_mode",e.target.value),i))})):j((function(n){return(0,t.Z)((0,t.Z)({},n),{},(0,z.Z)({},e.target.name,e.target.value))}))};return(0,h.jsxs)(E.Z,{onClose:m,children:[(0,h.jsxs)("div",{className:o.Z.admission_modal,children:[(0,h.jsx)("h6",{className:o.Z.admission_modal_heading,children:_("cancel_addmission")}),(0,h.jsx)(A.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),(0,h.jsxs)("div",{className:o.Z.admission_fees_row,children:[(0,h.jsxs)("h6",{children:[_("total_admission_fees")," :"]}),(0,h.jsxs)("h6",{children:[_("rs"),"."," ",null!==(i=null===p||void 0===p||null===(a=p.student)||void 0===a||null===(s=a.fee_structure)||void 0===s?void 0:s.total_admission_fees)&&void 0!==i?i:0]})]}),(0,h.jsxs)("div",{className:o.Z.admission_fees_row,children:[(0,h.jsxs)("h6",{children:[_("fees_paid")," :"]}),(0,h.jsxs)("h6",{children:[_("rs"),". ",T]})]}),(0,h.jsx)(Q.Z,{paymentHeading:_("refund_payment_type_mode"),onInputChange:G,errorShow:N.fee_payment_mode}),(0,h.jsx)(X.Z,{labelText:_("refund_amount"),name:"amount",type:"tel",value:x.amount,onChange:function(e){j((function(n){return(0,t.Z)((0,t.Z)({},n),{},{amount:+e.target.value,fee_payment_amount:+e.target.value})}))},placeholder:_("please_enter_refund_amount"),errorShow:N.fee_payment_amount}),(0,h.jsx)(K.Z,{labelText:_("select_date_of_transaction"),placeholder:_("please_select_date"),name:"transaction_date",value:x.transaction_date,onDateFunction:function(e){var n=null===e||void 0===e?void 0:e.split("/");j((function(e){return(0,t.Z)((0,t.Z)({},e),{},{transaction_date:"".concat(n[2],"-").concat(n[1],"-").concat(n[0])})}))},customStyleContainer:{position:"relative",marginTop:"0.5rem"},datePickerPosition:{position:"relative",top:"-20rem"},customStyleLabel:{marginTop:"15px"},errorShow:N.transaction_date}),(0,h.jsx)("h6",{style:{marginTop:"0.5rem"},children:_("paid_to")}),(0,h.jsx)(X.Z,{labelText:_("bank_name_collect"),name:"fee_bank_name",type:"tel",value:x.fee_bank_name,onChange:G,placeholder:_("please_enter_bank_name"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,h.jsx)(X.Z,{labelText:_("banke_holder_name"),name:"fee_bank_holder",type:"tel",value:x.fee_bank_holder,onChange:G,placeholder:_("please_enter_name_of_bank_holder"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,h.jsx)(X.Z,{labelText:_("cheque_dd_neft"),name:"fee_utr_reference",type:"tel",value:x.fee_utr_reference,onChange:G,placeholder:_("please_enter_utr_ref_number"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,h.jsx)("div",{className:o.Z.confirm_btn,onClick:function(){var e=function(e){var n={};for(var i in e)"fee_bank_name"===i||"fee_bank_holder"===i||"fee_utr_reference"===i||"amount"===i||"mode"===i||(e[i]?"fee_payment_amount"===i&&(e[i]<=T||(k({msg:"You can not enter amount greater than fees paid",run:!0}),n.fee_payment_amount_issue="".concat(i," is required!"))):n[i]="".concat(i," is required!"));return n}(x),n=!1;for(var i in e){n=!0;break}if(n)y(e);else{var l,o,a;U(!0);var s={sid:null===p||void 0===p||null===(l=p.student)||void 0===l?void 0:l._id,aid:u,cancel_data:(0,t.Z)((0,t.Z)({},x),{},{remainAmount:null!==(o=null===p||void 0===p?void 0:p.fee_remain)&&void 0!==o?o:0})};""!==(null===s||void 0===s?void 0:s.sid)&&""!==(null===s||void 0===s?void 0:s.aid)&&(null===s||void 0===s||null===(a=s.cancel_data)||void 0===a?void 0:a.amount)>0&&q(s).then((function(e){var n;e.data.refund_status?(r(),m(),U(!1)):(k({msg:null===(n=e.data)||void 0===n?void 0:n.message,run:!0}),U(!1))})).catch({})}},children:_("confirm")}),(0,h.jsx)(I.Ch,{msg:w.msg,run:w.run,setRun:function(){return k({msg:"",run:!1})},postiton:"bottom",type:"error"})]}),L&&(0,h.jsx)(C.Z,{})]})},oe=function(e){var n,i=e.applicationId,t=e.onAllotApplicantClasses,a=e.onClose,s=(0,c.$G)().t,r=(0,l.useState)(!0),u=(0,d.Z)(r,2),p=u[0],_=u[1],f=(0,v.j5)({aid:i,skip:!i}),g=f.admissionBatchList,x=f.admissionBatchListRefetch;(0,l.useEffect)((function(){i&&(_(!0),x())}),[i,x]);return(0,l.useEffect)((function(){null!==g&&void 0!==g&&g.batch&&_(!1)}),[null===g||void 0===g?void 0:g.batch]),(0,h.jsx)(E.Z,{onClose:a,children:(0,h.jsxs)("div",{className:o.Z.admission_modal,children:[(0,h.jsx)("h6",{className:o.Z.admission_modal_heading,children:s("select_batch")}),(0,h.jsx)(A.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),null===g||void 0===g||null===(n=g.batch)||void 0===n?void 0:n.map((function(e){return(0,h.jsxs)("div",{className:o.Z.admission_confirm_batch_card,onClick:function(){return n=null===e||void 0===e?void 0:e._id,void t(n);var n},children:[(0,h.jsx)("img",{src:"/images/allot-class-icon.svg",alt:"Class Avatar"}),(0,h.jsx)("div",{className:o.Z.admission_collect_docs,style:{marginTop:"0"},children:(0,h.jsx)("h6",{children:null===e||void 0===e?void 0:e.batchName})})]},null===e||void 0===e?void 0:e._id)})),p&&(0,h.jsx)(m.Z,{})]})})},ae=i(15415),se=function(e){var n,i,t,a,u=e.onClose,p=e.currentApplicant,_=e.applicationId,f=e.onRefetchWhenAction,g=e.batchId,x=e.openAs,j=(0,l.useState)(!1),Z=(0,d.Z)(j,2),N=Z[0],y=Z[1],b=(0,l.useState)(!1),I=(0,d.Z)(b,2),P=I[0],T=I[1],R=(0,l.useState)(""),O=(0,d.Z)(R,2),D=O[0],w=O[1],k=(0,c.$G)().t,F=(0,l.useState)(1),M=(0,d.Z)(F,2),L=M[0],U=M[1],B=(0,l.useState)(!0),q=(0,d.Z)(B,2),G=q[0],J=q[1],W=(0,r.YD)(),$=(0,d.Z)(W,2),V=$[0],H=$[1],Y=(0,l.useState)(""),z=(0,d.Z)(Y,2),Q=z[0],X=z[1],K=(0,l.useState)([]),ee=(0,d.Z)(K,2),ne=ee[0],ie=ee[1],te=(0,l.useState)(!0),le=(0,d.Z)(te,2),oe=le[0],se=le[1],de=(0,v.Ds)({data:{search:Q,aid:_,bid:g,page:L,limit:10},skip:!_||!g}),ce=de.getAllClassesList,re=de.getAllClassesListRefetch,ue=(0,v.ht)(),ve=(0,d.Z)(ue,1)[0];(0,l.useEffect)((function(){_&&(se(!0),re())}),[_,re,L,Q]),(0,l.useEffect)((function(){H&&G&&U((function(e){return e+1}))}),[H,G]),(0,l.useEffect)((function(){var e;Q?(ie(null===ce||void 0===ce?void 0:ce.classes),se(!1)):null!==ce&&void 0!==ce&&ce.classes?(ie((function(e){var n,i;return null===(n=(0,s.Z)(new Set(null===(i=[].concat((0,s.Z)(e),(0,s.Z)(null===ce||void 0===ce?void 0:ce.classes)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),se(!1)):0===(null===ce||void 0===ce||null===(e=ce.classes)||void 0===e?void 0:e.length)&&se(!1);10===(null===ce||void 0===ce?void 0:ce.classes.length)?J(!0):J(!1)}),[null===ce||void 0===ce?void 0:ce.classes]);var pe=(0,l.useCallback)((0,S.debounce)((function(e){return X(e)}),500),[]);return(0,h.jsx)(E.Z,{onClose:u,children:(0,h.jsxs)("div",{className:o.Z.admission_modal,children:[(0,h.jsx)("h6",{className:o.Z.admission_modal_heading,children:k(N?"allot_to_class":"allot_class")}),(0,h.jsx)(A.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),N?"":(0,h.jsx)("div",{className:o.Z.with_search,style:{marginBottom:"0.7rem"},children:(0,h.jsx)("div",{className:o.Z.search_container_filter,style:{width:"100%"},children:(0,h.jsx)("section",{className:o.Z.search_container,style:{width:"100%"},children:(0,h.jsxs)("div",{className:o.Z.search_container_input,style:{width:"100%"},children:[(0,h.jsx)("img",{className:o.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,h.jsx)("input",{type:"text",placeholder:"Search classes...",onChange:function(e){pe(e.target.value)}})]})})})}),N?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:o.Z.admission_class_confirm,children:["MULITSELECT"===x?(0,h.jsxs)(h.Fragment,{children:[k("alloting")," ",(0,h.jsx)("span",{style:{fontWeight:"600"},children:null===p||void 0===p?void 0:p.length})," ",k("students")," "," "]}):(0,h.jsxs)(h.Fragment,{children:[k("lloting_student")," ",(0,h.jsx)("span",{style:{fontWeight:"600"},children:" ".concat(null===p||void 0===p||null===(n=p.student)||void 0===n?void 0:n.studentFirstName," ").concat(null!==p&&void 0!==p&&null!==(i=p.student)&&void 0!==i&&i.studentMiddleName?null===p||void 0===p||null===(t=p.student)||void 0===t?void 0:t.studentMiddleName:""," ").concat(null===p||void 0===p||null===(a=p.student)||void 0===a?void 0:a.studentLastName," ")})]}),",",k("to")," ",(0,h.jsx)("span",{style:{fontWeight:"600"},children:" ".concat(null===D||void 0===D?void 0:D.className," - ").concat(null===D||void 0===D?void 0:D.classTitle)})]}),(0,h.jsx)("div",{className:o.Z.confirm_btn,onClick:function(){var e;_&&null!==D&&void 0!==D&&D._id&&p&&(T(!0),ve({allotClass:{dataList:"MULITSELECT"===x?p:[null===p||void 0===p||null===(e=p.student)||void 0===e?void 0:e._id]},aid:_,cid:null===D||void 0===D?void 0:D._id}).then((function(){f(),u(),T(!1)})).catch({}))},children:k("confirm")})]}):(0,h.jsxs)(h.Fragment,{children:[null===ne||void 0===ne?void 0:ne.map((function(e,n){return(null===ne||void 0===ne?void 0:ne.length)===n+1?(0,h.jsx)("div",{ref:V,children:(0,h.jsx)(ae.Z,{setViewClass:y,classData:e,setAllotC:w},n)}):(0,h.jsx)(ae.Z,{setViewClass:y,classData:e,setAllotC:w},n)})),oe&&(0,h.jsx)(m.Z,{})]}),P&&(0,h.jsx)(C.Z,{})]})})};var de=function(e){var n=e.carryParentState,i=e.applicationId,t=e.applicationDetail,a=e.accessRole,p=e.accessTpye,g=e.instituteId,x=e.callApi,j=e.applicationDetailApplicablePending,Z=e.pageOpenAs,N=(0,c.$G)().t,A=(0,l.useState)(!0),y=(0,d.Z)(A,2),b=y[0],C=y[1],I=(0,l.useState)(1),E=(0,d.Z)(I,2),P=E[0],T=E[1],R=(0,l.useState)(""),O=(0,d.Z)(R,2),D=O[0],w=O[1],F=(0,r.YD)(),L=(0,d.Z)(F,2),U=L[0],B=L[1],q=(0,l.useState)([]),G=(0,d.Z)(q,2),J=G[0],W=G[1],$=(0,l.useState)(!1),V=(0,d.Z)($,2),H=V[0],Y=V[1],z=(0,l.useState)(!0),Q=(0,d.Z)(z,2),X=Q[0],K=Q[1],ee=(0,l.useState)(""),ne=(0,d.Z)(ee,2),ie=ne[0],ae=ne[1],de=(0,l.useState)(""),ce=(0,d.Z)(de,2),re=ce[0],ue=ce[1],ve=(0,l.useState)(""),pe=(0,d.Z)(ve,2),me=pe[0],_e=pe[1],fe=(0,v.RR)({data:{id:i,page:P,limit:10,search:D||""},skip:!i}),he=fe.getAllConfirmList,ge=fe.getAllConfirmListRefetch,xe=(0,u.u)().scrollToTop;(0,l.useEffect)((function(){xe()}),[]),(0,l.useEffect)((function(){B&&b&&T((function(e){return e+1}))}),[B,b]),(0,l.useEffect)((function(){i&&(K(!0),ge())}),[P,i,ge,D]),(0,l.useEffect)((function(){var e,n;D?(W(null===he||void 0===he?void 0:he.confirm),K(!1)):H?(W(null===he||void 0===he?void 0:he.confirm),Y(!1),K(!1)):null!==he&&void 0!==he&&he.confirm?(W((function(e){var n,i;return null===(n=(0,s.Z)(new Set(null===(i=[].concat((0,s.Z)(e),(0,s.Z)(null===he||void 0===he?void 0:he.confirm)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),K(!1)):0===(null===he||void 0===he||null===(n=he.confirm)||void 0===n?void 0:n.length)&&K(!1);10===(null===he||void 0===he||null===(e=he.confirm)||void 0===e?void 0:e.length)?C(!0):C(!1)}),[null===he||void 0===he?void 0:he.confirm]);var je=function(){T(1),ge(),Y(!0)},Ze=(0,l.useCallback)((0,S.debounce)((function(e){return w(e)}),500),[]),Se=function(e){ue(e),ae("CANCEL_APPLICANT")},Ne=function(e){ue(e),ae("ALLOT_BATCH")};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(k,{applicationDetail:t,carryParentState:n,instituteId:g,tabStatusFlow:"Confirm_Query",applicationDetailApplicablePending:j,onRefetchConfirmTab:je,pageOpenAs:Z,s:!0,children:(0,h.jsx)("input",{type:"text",placeholder:"Search applicants...",onChange:function(e){Ze(e.target.value)}})}),(0,h.jsx)(M,{carryParentState:n,accessRole:a,accessTpye:p,pageOpenAs:Z}),(0,h.jsx)("div",{className:o.Z.end_btn,children:"INSTITUTE"===Z?(0,h.jsx)(f.Z,{carryParentState:n,activeTab:"?a=ongoing&n=mulitple",children:(0,h.jsx)("p",{className:o.Z.mulitple_select_btn,children:N("multiple_select")})}):(0,h.jsx)(_.Z,{carryParentState:n,accessRole:a,accessTpye:p,activeTab:"ongoing&n=mulitple",callApi:x,children:(0,h.jsx)("p",{className:o.Z.mulitple_select_btn,children:N("multiple_select")})})}),null===J||void 0===J?void 0:J.map((function(e,n){return(null===J||void 0===J?void 0:J.length)===n+1?(0,h.jsx)("div",{ref:U,children:(0,h.jsx)(te,{applicant:e,onCancelAdmission:Se,onAllotApplicantBatch:Ne,instituteId:g})},n):(0,h.jsx)(te,{applicant:e,onCancelAdmission:Se,onAllotApplicantBatch:Ne,instituteId:g},n)})),X&&(0,h.jsx)(m.Z,{}),"CANCEL_APPLICANT"===ie&&(0,h.jsx)(le,{onClose:function(){return ae("")},currentApplicant:re,onRefetchWhenAction:je,applicationId:null===t||void 0===t?void 0:t._id}),"ALLOT_BATCH"===ie&&(0,h.jsx)(oe,{onClose:function(){return ae("")},applicationId:null===t||void 0===t?void 0:t._id,onAllotApplicantClasses:function(e){_e(e),ae("ALLOT_CLASSES")}}),"ALLOT_CLASSES"===ie&&(0,h.jsx)(se,{onClose:function(){return ae("")},currentApplicant:re,onRefetchWhenAction:je,applicationId:null===t||void 0===t?void 0:t._id,batchId:me})]})},ce=function(e){var n,t,s,c,r,u,p,m,_,f,g,x,j,Z,S,N,A,y,b,I,E,T,R,O,D,w,k,F,M,L=e.applicant,U=(0,a.UO)(),B=(0,a.s0)(),q=(0,l.useState)(""),G=(0,d.Z)(q,2),J=G[0],W=G[1],$=(0,l.useState)(!1),V=(0,d.Z)($,2),H=V[0],Y=V[1],z=(0,l.useState)(""),Q=(0,d.Z)(z,2),X=Q[0],K=Q[1],ee=(0,v.$d)({rid:J,skip:!J}),ne=ee.getFeeReceiptDetail,te=ee.getFeeReceiptDetailRefetch;(0,l.useEffect)((function(){J&&te()}),[J,te]),(0,l.useEffect)((function(){null!==ne&&void 0!==ne&&ne.receipt&&null!==ne&&void 0!==ne&&ne.all_remain&&K(ne)}),[ne]),(0,l.useEffect)((function(){if(X){var e=(0,ie.Hs)(null===X||void 0===X?void 0:X.all_remain,null===X||void 0===X?void 0:X.receipt),n=e.institute,t=e.studentInfo,l=e.paymentReceiptInfo,o=new Worker(new URL(i.p+i.u(5059),i.b));o.postMessage({institute:n,studentInfo:t,paymentReceiptInfo:l,printReceiptType:"Refunded"===(null===l||void 0===l?void 0:l.transactonRefund)?"ADMISSION_REFUND":"ADMISSION"}),o.onmessage=function(e){e&&(window.open(e.data,"_blank"),Y((function(e){return!e})),K(""),o.terminate())}}}),[X]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:o.Z.applicant_card_container,onClick:function(){var e;B("/q/".concat(U.username,"/student/profile"),{state:{sid:null===L||void 0===L||null===(e=L.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,h.jsxs)("div",{className:o.Z.applicant_card_inner,children:[(0,h.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===L||void 0===L||null===(n=L.student)||void 0===n?void 0:n.photoId)?"".concat(P.yI,"/").concat(null===L||void 0===L||null===(t=L.student)||void 0===t?void 0:t.studentProfilePhoto):"/images/user_default_img.svg",loading:"lazy"}),(0,h.jsxs)("div",{className:o.Z.applicant_card_inner_info,children:[(0,h.jsx)("h6",{children:"".concat(null===L||void 0===L||null===(s=L.student)||void 0===s?void 0:s.studentFirstName," ").concat(null!==L&&void 0!==L&&null!==(c=L.student)&&void 0!==c&&c.studentMiddleName?null===L||void 0===L||null===(r=L.student)||void 0===r?void 0:r.studentMiddleName:""," ").concat(null===L||void 0===L||null===(u=L.student)||void 0===u?void 0:u.studentLastName)}),(0,h.jsx)("p",{children:(null===L||void 0===L?void 0:L.alloted_class)||""})]})]}),(0,h.jsxs)("div",{className:o.Z.applicant_card_contact,children:[(0,h.jsxs)("div",{className:o.Z.applicant_card_contact_inner,children:[(0,h.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,h.jsx)("p",{children:null===L||void 0===L||null===(p=L.student)||void 0===p?void 0:p.studentGender})]}),((null===L||void 0===L||null===(m=L.student)||void 0===m?void 0:m.studentPhoneNumber)||(null===L||void 0===L||null===(_=L.student)||void 0===_||null===(f=_.user)||void 0===f?void 0:f.userPhoneNumber)||(null===L||void 0===L||null===(g=L.student)||void 0===g||null===(x=g.user)||void 0===x?void 0:x.userEmail)||(null===L||void 0===L||null===(j=L.student)||void 0===j?void 0:j.studentParentsPhoneNumber))&&(0,h.jsxs)("div",{className:o.Z.applicant_card_contact_inner,children:[(0,h.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,h.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==L&&void 0!==L&&null!==(Z=L.student)&&void 0!==Z&&null!==(S=Z.user)&&void 0!==S&&S.userPhoneNumber?null===L||void 0===L||null===(N=L.student)||void 0===N||null===(A=N.user)||void 0===A?void 0:A.userPhoneNumber:null!==L&&void 0!==L&&null!==(y=L.student)&&void 0!==y&&null!==(b=y.user)&&void 0!==b&&b.userEmail?null===L||void 0===L||null===(I=L.student)||void 0===I||null===(E=I.user)||void 0===E?void 0:E.userEmail:null!==L&&void 0!==L&&null!==(T=L.student)&&void 0!==T&&T.studentPhoneNumber?null===L||void 0===L||null===(R=L.student)||void 0===R?void 0:R.studentPhoneNumber:null===L||void 0===L||null===(O=L.student)||void 0===O?void 0:O.studentParentsPhoneNumber})]})]}),(0,h.jsx)("div",{className:o.Z.applicant_card_reciept,onClick:function(e){e.stopPropagation()},children:(0,h.jsx)("a",{href:"".concat(P.r3,"/").concat(null===L||void 0===L||null===(D=L.student)||void 0===D||null===(w=D.application_print)||void 0===w||null===(k=w[0])||void 0===k?void 0:k.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,h.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,h.jsx)("div",{className:o.Z.applicant_card_reciept,children:null===L||void 0===L||null===(F=L.student)||void 0===F||null===(M=F.fee_receipt)||void 0===M?void 0:M.map((function(e,n){return n>2?"":(0,h.jsx)("img",{src:"/images/member_tab/admission/admission-receipt-download.svg",onClick:function(n){return function(e,n){e.stopPropagation(),Y((function(e){return!e})),W(n),J===n&&K(ne)}(n,e)},alt:"receipt icon",title:"Download Fees Receipt"},e)}))})]}),H&&(0,h.jsx)(C.Z,{})]})},re=function(e){var n=e.carryParentState,i=e.applicationId,t=e.applicationDetail,o=e.viewAs,a=e.accessRole,c=e.accessTpye,p=e.instituteId,_=e.applicationDetailApplicablePending,f=e.pageOpenAs,g=(0,l.useState)(!0),x=(0,d.Z)(g,2),j=x[0],Z=x[1],N=(0,l.useState)(1),A=(0,d.Z)(N,2),y=A[0],b=A[1],C=(0,r.YD)(),I=(0,d.Z)(C,2),E=I[0],P=I[1],T=(0,l.useState)([]),R=(0,d.Z)(T,2),O=R[0],D=R[1],w=(0,l.useState)(!0),F=(0,d.Z)(w,2),L=F[0],U=F[1],B=(0,l.useState)(""),q=(0,d.Z)(B,2),G=q[0],J=q[1],W=(0,v.k8)({data:{aid:i,page:y,limit:10,search:G||""},skip:!i}),$=W.admissionAllottedList,V=W.admissionAllottedListRefetch,H=(0,u.u)().scrollToTop;(0,l.useEffect)((function(){H()}),[]),(0,l.useEffect)((function(){P&&j&&b((function(e){return e+1}))}),[P,j]),(0,l.useEffect)((function(){i&&(U(!0),V())}),[y,i,V,G]),(0,l.useEffect)((function(){var e,n;G?(D(null===$||void 0===$?void 0:$.allot),U(!1)):null!==$&&void 0!==$&&$.allot?(D((function(e){var n,i;return null===(n=(0,s.Z)(new Set(null===(i=[].concat((0,s.Z)(e),(0,s.Z)(null===$||void 0===$?void 0:$.allot)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),U(!1)):0===(null===$||void 0===$||null===(n=$.allot)||void 0===n?void 0:n.length)&&U(!1);10===(null===$||void 0===$||null===(e=$.allot)||void 0===e?void 0:e.length)?Z(!0):Z(!1)}),[null===$||void 0===$?void 0:$.allot]);var Y=(0,l.useCallback)((0,S.debounce)((function(e){return J(e)}),500),[]);return(0,h.jsxs)(h.Fragment,{children:["COMPLETED_APPLICATION"===o?"":(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(k,{applicationDetail:t,carryParentState:n,instituteId:p,tabStatusFlow:"Allot_Query",applicationDetailApplicablePending:_,pageOpenAs:f,children:(0,h.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:function(e){Y(e.target.value)}})}),(0,h.jsx)(M,{carryParentState:n,accessRole:a,accessTpye:c,pageOpenAs:f})]}),null===O||void 0===O?void 0:O.map((function(e,n){return(null===O||void 0===O?void 0:O.length)===n+1?(0,h.jsx)("div",{ref:E,children:(0,h.jsx)(ce,{applicant:e})},n):(0,h.jsx)(ce,{applicant:e},n)})),L&&(0,h.jsx)(m.Z,{})]})},ue=function(e){var n,t,s,c,r,u,p,m,_,f,g,x,j,Z,S,N,A,y,b,I,E,T,R,O,D,w,k,F,M,L=e.applicant,U=(0,a.UO)(),B=(0,a.s0)(),q=(0,l.useState)(""),G=(0,d.Z)(q,2),J=G[0],W=G[1],$=(0,l.useState)(!1),V=(0,d.Z)($,2),H=V[0],Y=V[1],z=(0,l.useState)(""),Q=(0,d.Z)(z,2),X=Q[0],K=Q[1],ee=(0,v.$d)({rid:J,skip:!J}),ne=ee.getFeeReceiptDetail,te=ee.getFeeReceiptDetailRefetch;(0,l.useEffect)((function(){J&&te()}),[J,te]),(0,l.useEffect)((function(){null!==ne&&void 0!==ne&&ne.receipt&&null!==ne&&void 0!==ne&&ne.all_remain&&K(ne)}),[ne]),(0,l.useEffect)((function(){if(X){var e=(0,ie.Hs)(null===X||void 0===X?void 0:X.all_remain,null===X||void 0===X?void 0:X.receipt),n=e.institute,t=e.studentInfo,l=e.paymentReceiptInfo,o=new Worker(new URL(i.p+i.u(4951),i.b));o.postMessage({institute:n,studentInfo:t,paymentReceiptInfo:l,printReceiptType:"Refunded"===(null===l||void 0===l?void 0:l.transactonRefund)?"ADMISSION_REFUND":"ADMISSION"}),o.onmessage=function(e){e&&(window.open(e.data,"_blank"),Y((function(e){return!e})),K(""),o.terminate())}}}),[X]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:o.Z.applicant_card_container,onClick:function(){var e;B("/q/".concat(U.username,"/student/profile"),{state:{sid:null===L||void 0===L||null===(e=L.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,h.jsxs)("div",{className:o.Z.applicant_card_inner,children:[(0,h.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===L||void 0===L||null===(n=L.student)||void 0===n?void 0:n.photoId)?"".concat(P.yI,"/").concat(null===L||void 0===L||null===(t=L.student)||void 0===t?void 0:t.studentProfilePhoto):"/images/user_default_img.svg",loading:"lazy"}),(0,h.jsxs)("div",{className:o.Z.applicant_card_inner_info,children:[(0,h.jsx)("h6",{children:"".concat(null===L||void 0===L||null===(s=L.student)||void 0===s?void 0:s.studentFirstName," ").concat(null!==L&&void 0!==L&&null!==(c=L.student)&&void 0!==c&&c.studentMiddleName?null===L||void 0===L||null===(r=L.student)||void 0===r?void 0:r.studentMiddleName:""," ").concat(null===L||void 0===L||null===(u=L.student)||void 0===u?void 0:u.studentLastName)}),(0,h.jsxs)("p",{children:["Rs. ",null===L||void 0===L?void 0:L.refund_amount," ","Refund"===(null===L||void 0===L?void 0:L.payment_status)&&"Refunded"]})]})]}),(0,h.jsxs)("div",{className:o.Z.applicant_card_contact,children:[(0,h.jsxs)("div",{className:o.Z.applicant_card_contact_inner,children:[(0,h.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,h.jsx)("p",{children:null===L||void 0===L||null===(p=L.student)||void 0===p?void 0:p.studentGender})]}),((null===L||void 0===L||null===(m=L.student)||void 0===m?void 0:m.studentPhoneNumber)||(null===L||void 0===L||null===(_=L.student)||void 0===_||null===(f=_.user)||void 0===f?void 0:f.userPhoneNumber)||(null===L||void 0===L||null===(g=L.student)||void 0===g||null===(x=g.user)||void 0===x?void 0:x.userEmail)||(null===L||void 0===L||null===(j=L.student)||void 0===j?void 0:j.studentParentsPhoneNumber))&&(0,h.jsxs)("div",{className:o.Z.applicant_card_contact_inner,children:[(0,h.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,h.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==L&&void 0!==L&&null!==(Z=L.student)&&void 0!==Z&&null!==(S=Z.user)&&void 0!==S&&S.userPhoneNumber?null===L||void 0===L||null===(N=L.student)||void 0===N||null===(A=N.user)||void 0===A?void 0:A.userPhoneNumber:null!==L&&void 0!==L&&null!==(y=L.student)&&void 0!==y&&null!==(b=y.user)&&void 0!==b&&b.userEmail?null===L||void 0===L||null===(I=L.student)||void 0===I||null===(E=I.user)||void 0===E?void 0:E.userEmail:null!==L&&void 0!==L&&null!==(T=L.student)&&void 0!==T&&T.studentPhoneNumber?null===L||void 0===L||null===(R=L.student)||void 0===R?void 0:R.studentPhoneNumber:null===L||void 0===L||null===(O=L.student)||void 0===O?void 0:O.studentParentsPhoneNumber})]})]}),(0,h.jsx)("div",{className:o.Z.applicant_card_reciept,onClick:function(e){e.stopPropagation()},children:(0,h.jsx)("a",{href:"".concat(P.r3,"/").concat(null===L||void 0===L||null===(D=L.student)||void 0===D||null===(w=D.application_print)||void 0===w||null===(k=w[0])||void 0===k?void 0:k.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,h.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,h.jsx)("div",{className:o.Z.applicant_card_reciept,children:null===L||void 0===L||null===(F=L.student)||void 0===F||null===(M=F.fee_receipt)||void 0===M?void 0:M.map((function(e,n){return n>2?"":(0,h.jsx)("img",{src:"/images/member_tab/admission/admission-receipt-download.svg",onClick:function(n){return function(e,n){e.stopPropagation(),Y((function(e){return!e})),W(n),J===n&&K(ne)}(n,e)},alt:"receipt icon",title:"Download Fees Receipt"},e)}))})]}),H&&(0,h.jsx)(C.Z,{})]})},ve=function(e){var n=e.carryParentState,i=e.applicationId,t=e.applicationDetail,o=e.viewAs,a=e.accessRole,c=e.accessTpye,p=e.instituteId,_=e.applicationDetailApplicablePending,f=e.pageOpenAs,g=(0,l.useState)(!0),x=(0,d.Z)(g,2),j=x[0],Z=x[1],N=(0,l.useState)(1),A=(0,d.Z)(N,2),y=A[0],b=A[1],C=(0,r.YD)(),I=(0,d.Z)(C,2),E=I[0],P=I[1],T=(0,l.useState)([]),R=(0,d.Z)(T,2),O=R[0],D=R[1],w=(0,l.useState)(""),F=(0,d.Z)(w,2),L=F[0],U=F[1],B=(0,l.useState)(!0),q=(0,d.Z)(B,2),G=q[0],J=q[1],W=(0,v.wd)({data:{aid:i,page:y,limit:10,search:L||""},skip:!i}),$=W.admissionCancelledList,V=W.admissionCancelledListRefetch,H=(0,u.u)().scrollToTop;(0,l.useEffect)((function(){H()}),[]),(0,l.useEffect)((function(){P&&j&&b((function(e){return e+1}))}),[P,j]),(0,l.useEffect)((function(){i&&(J(!0),V())}),[y,i,V]),(0,l.useEffect)((function(){var e,n;L?(D(null===$||void 0===$?void 0:$.cancel),J(!1)):null!==$&&void 0!==$&&$.cancel?(D((function(e){var n,i;return null===(n=(0,s.Z)(new Set(null===(i=[].concat((0,s.Z)(e),(0,s.Z)(null===$||void 0===$?void 0:$.cancel)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),J(!1)):0===(null===$||void 0===$||null===(n=$.cancel)||void 0===n?void 0:n.length)&&J(!1);10===(null===$||void 0===$||null===(e=$.cancel)||void 0===e?void 0:e.length)?Z(!0):Z(!1)}),[null===$||void 0===$?void 0:$.cancel]);var Y=(0,l.useCallback)((0,S.debounce)((function(e){return U(e)}),500),[]);return(0,h.jsxs)(h.Fragment,{children:["COMPLETED_APPLICATION"===o?"":(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(k,{applicationDetail:t,carryParentState:n,instituteId:p,applicationDetailApplicablePending:_,pageOpenAs:f,children:(0,h.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:function(e){Y(e.target.value)}})}),(0,h.jsx)(M,{carryParentState:n,accessRole:a,accessTpye:c,pageOpenAs:f})]}),null===O||void 0===O?void 0:O.map((function(e,n){return(null===O||void 0===O?void 0:O.length)===n+1?(0,h.jsx)("div",{ref:E,children:(0,h.jsx)(ue,{applicant:e})},n):(0,h.jsx)(ue,{applicant:e},n)})),G&&(0,h.jsx)(m.Z,{})]})},pe=i(37762),me=function(e){var n,i,t,l,s,d,c,r,u,v,p,m,_,f,g,x,j,Z,S,N,A,y,b,C,I,E=e.applicant,T=e.selectedApplicant,R=e.onSelectOne,O=(0,a.UO)(),D=(0,a.s0)();return(0,h.jsxs)("div",{className:o.Z.applicant_card_container,onClick:function(){var e;D("/q/".concat(O.username,"/student/profile"),{state:{sid:null===E||void 0===E||null===(e=E.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,h.jsxs)("div",{className:o.Z.applicant_card_inner,children:[(0,h.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===E||void 0===E||null===(n=E.student)||void 0===n?void 0:n.photoId)?"".concat(P.yI,"/").concat(null===E||void 0===E||null===(i=E.student)||void 0===i?void 0:i.studentProfilePhoto):"/images/user_default_img.svg",loading:"lazy"}),(0,h.jsxs)("div",{className:o.Z.applicant_card_inner_info,children:[(0,h.jsx)("h6",{children:"".concat(null===E||void 0===E||null===(t=E.student)||void 0===t?void 0:t.studentFirstName," ").concat(null!==E&&void 0!==E&&null!==(l=E.student)&&void 0!==l&&l.studentMiddleName?null===E||void 0===E||null===(s=E.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null===E||void 0===E||null===(d=E.student)||void 0===d?void 0:d.studentLastName)}),(0,h.jsx)("p",{children:null===E||void 0===E?void 0:E.install_type})]})]}),(0,h.jsxs)("div",{className:o.Z.applicant_card_contact,children:[(0,h.jsxs)("div",{className:o.Z.applicant_card_contact_inner,children:[(0,h.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,h.jsx)("p",{children:null===E||void 0===E||null===(c=E.student)||void 0===c?void 0:c.studentGender})]}),((null===E||void 0===E||null===(r=E.student)||void 0===r?void 0:r.studentPhoneNumber)||(null===E||void 0===E||null===(u=E.student)||void 0===u||null===(v=u.user)||void 0===v?void 0:v.userPhoneNumber)||(null===E||void 0===E||null===(p=E.student)||void 0===p||null===(m=p.user)||void 0===m?void 0:m.userEmail)||(null===E||void 0===E||null===(_=E.student)||void 0===_?void 0:_.studentParentsPhoneNumber))&&(0,h.jsxs)("div",{className:o.Z.applicant_card_contact_inner,children:[(0,h.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,h.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==E&&void 0!==E&&null!==(f=E.student)&&void 0!==f&&null!==(g=f.user)&&void 0!==g&&g.userPhoneNumber?null===E||void 0===E||null===(x=E.student)||void 0===x||null===(j=x.user)||void 0===j?void 0:j.userPhoneNumber:null!==E&&void 0!==E&&null!==(Z=E.student)&&void 0!==Z&&null!==(S=Z.user)&&void 0!==S&&S.userEmail?null===E||void 0===E||null===(N=E.student)||void 0===N||null===(A=N.user)||void 0===A?void 0:A.userEmail:null!==E&&void 0!==E&&null!==(y=E.student)&&void 0!==y&&y.studentPhoneNumber?null===E||void 0===E||null===(b=E.student)||void 0===b?void 0:b.studentPhoneNumber:null===E||void 0===E||null===(C=E.student)||void 0===C?void 0:C.studentParentsPhoneNumber})]})]}),(0,h.jsx)("div",{className:o.Z.selectBtnContainer,children:(0,h.jsx)("img",{id:"check",className:o.Z.checkbox,src:null!==T&&void 0!==T&&T.includes(null===E||void 0===E||null===(I=E.student)||void 0===I?void 0:I._id)?"/images/checkbox-icon.svg":"/images/box-icon.svg",alt:"select icon",onClick:function(e){var n;e.stopPropagation(),R(null===E||void 0===E||null===(n=E.student)||void 0===n?void 0:n._id)}})})]})},_e=function(e){var n=e.carryParentState,i=e.applicationId,t=e.applicationDetail,a=e.accessRole,r=e.accessTpye,p=e.instituteId,_=e.applicationDetailApplicablePending,f=e.pageOpenAs,g=(0,c.$G)().t,x=(0,l.useState)([]),j=(0,d.Z)(x,2),Z=j[0],N=j[1],A=(0,l.useState)(!0),y=(0,d.Z)(A,2),b=y[0],C=y[1],I=(0,l.useState)([]),E=(0,d.Z)(I,2),P=E[0],T=E[1],R=(0,l.useState)(0),O=(0,d.Z)(R,2),D=O[0],w=O[1],F=(0,l.useState)(""),L=(0,d.Z)(F,2),U=L[0],B=L[1],q=(0,l.useState)(!1),G=(0,d.Z)(q,2),J=G[0],W=G[1],$=(0,l.useState)(""),V=(0,d.Z)($,2),H=V[0],Y=V[1],z=(0,l.useState)(""),Q=(0,d.Z)(z,2),X=Q[0],K=Q[1],ee=(0,v.dk)({data:{id:i,search:H},skip:!i}),ne=ee.getAllConfirmListMulitselect,ie=ee.getAllConfirmListMulitselectRefetch,te=(0,u.u)().scrollToTop;(0,l.useEffect)((function(){te()}),[]),(0,l.useEffect)((function(){i&&(C(!0),ie())}),[i,ie,H]),(0,l.useEffect)((function(){var e,n;H?(T(null===ne||void 0===ne?void 0:ne.confirm),C(!1)):null!==ne&&void 0!==ne&&null!==(e=ne.confirm)&&void 0!==e&&e.length?(T(null===ne||void 0===ne?void 0:ne.confirm),C(!1)):0===(null===ne||void 0===ne||null===(n=ne.confirm)||void 0===n?void 0:n.length)&&C(!1)}),[null===ne||void 0===ne?void 0:ne.confirm]);var le=function(e){null!==Z&&void 0!==Z&&Z.includes(e)?(N((function(n){return null===n||void 0===n?void 0:n.filter((function(n){return n!==e}))})),w((function(e){return--e}))):(N((function(n){return[].concat((0,s.Z)(n),[e])})),w((function(e){return++e}))),W(!1)},ae=(0,l.useCallback)((0,S.debounce)((function(e){return Y(e)}),500),[]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(k,{applicationDetail:t,carryParentState:n,instituteId:p,applicationDetailApplicablePending:_,pageOpenAs:f,children:(0,h.jsx)("input",{type:"text",placeholder:"Search applicants...",onChange:function(e){ae(e.target.value)}})}),(0,h.jsx)(M,{carryParentState:n,accessRole:a,accessTpye:r,pageOpenAs:f}),(0,h.jsxs)("div",{className:o.Z.admission_mulit_select,children:[(0,h.jsxs)("p",{children:[D||""," ",g("selected_")]}),(0,h.jsxs)("div",{className:o.Z.admission_mulit_select_right,children:[J?(0,h.jsx)("p",{onClick:function(){N([]),W(!1),w(0)},style:{cursor:"pointer"},children:g("remove_all")}):(0,h.jsx)("p",{onClick:function(){var e,n=[],i=(0,pe.Z)(null===ne||void 0===ne?void 0:ne.confirm);try{for(i.s();!(e=i.n()).done;){var t,l=e.value;n.push(null===l||void 0===l||null===(t=l.student)||void 0===t?void 0:t._id)}}catch(o){i.e(o)}finally{i.f()}N(n),w(null===n||void 0===n?void 0:n.length),W(!0)},style:{cursor:"pointer"},children:g("select_all")}),(0,h.jsx)("div",{className:o.Z.selectBtnContainer,style:{width:"auto"},children:(0,h.jsx)("div",{className:o.Z.selectBtn,onClick:function(){null!==Z&&void 0!==Z&&Z.length&&K("ALLOT_BATCH")},children:g("allot_class")})})]})]}),null===P||void 0===P?void 0:P.map((function(e){var n;return(0,h.jsx)(me,{applicant:e,onSelectOne:le,selectedApplicant:Z},null===e||void 0===e||null===(n=e.student)||void 0===n?void 0:n._id)})),b&&(0,h.jsx)(m.Z,{}),"ALLOT_BATCH"===X&&(0,h.jsx)(oe,{onClose:function(){return K("")},applicationId:null===t||void 0===t?void 0:t._id,onAllotApplicantClasses:function(e){B(e),K("ALLOT_CLASSES")}}),"ALLOT_CLASSES"===X&&(0,h.jsx)(se,{onClose:function(){return K("")},currentApplicant:Z,onRefetchWhenAction:ie,applicationId:null===t||void 0===t?void 0:t._id,batchId:U,openAs:"MULITSELECT"})]})},fe=function(e){var n,i,t,o,s,d,c,r,p,m,_,f,g,x,j,Z=e.instituteId,S=e.carryParentState,N=e.accessRole,A=e.accessTpye,y=e.callApi,b=e.pageOpenAs,C=(0,a.TH)(),I=(0,v.mf)({apid:null===(n=C.state)||void 0===n?void 0:n.applicationId,skip:!(null!==(i=C.state)&&void 0!==i&&i.applicationId)}),E=I.oneApplicationDetail,P=I.oneApplicationDetailRefetch,T=(0,u.u)().scrollToTop;return(0,l.useEffect)((function(){T()}),[]),(0,l.useEffect)((function(){var e;null!==(e=C.state)&&void 0!==e&&e.applicationId&&P()}),[null===(t=C.state)||void 0===t?void 0:t.applicationId,P]),(0,h.jsxs)(h.Fragment,{children:["application"===(null===(o=C.search)||void 0===o?void 0:o.substring(13))&&(0,h.jsx)(W,{applicationId:null===(s=C.state)||void 0===s?void 0:s.applicationId,carryParentState:S,applicationDetail:null===E||void 0===E?void 0:E.oneApply,accessRole:N,accessTpye:A,instituteId:Z,applicationDetailApplicablePending:null===E||void 0===E?void 0:E.applicable_pending,pageOpenAs:b}),"select"===(null===(d=C.search)||void 0===d?void 0:d.substring(13))&&(0,h.jsx)(ne,{applicationId:null===(c=C.state)||void 0===c?void 0:c.applicationId,carryParentState:S,applicationDetail:null===E||void 0===E?void 0:E.oneApply,accessRole:N,accessTpye:A,instituteId:Z,applicationDetailApplicablePending:null===E||void 0===E?void 0:E.applicable_pending,pageOpenAs:b}),"confirm"===(null===(r=C.search)||void 0===r?void 0:r.substring(13))&&(0,h.jsx)(de,{applicationId:null===(p=C.state)||void 0===p?void 0:p.applicationId,carryParentState:S,applicationDetail:null===E||void 0===E?void 0:E.oneApply,accessRole:N,accessTpye:A,instituteId:Z,callApi:y,applicationDetailApplicablePending:null===E||void 0===E?void 0:E.applicable_pending,pageOpenAs:b}),"mulitple"===(null===(m=C.search)||void 0===m?void 0:m.substring(13))&&(0,h.jsx)(_e,{applicationId:null===(_=C.state)||void 0===_?void 0:_.applicationId,carryParentState:S,applicationDetail:null===E||void 0===E?void 0:E.oneApply,accessRole:N,accessTpye:A,instituteId:Z,applicationDetailApplicablePending:null===E||void 0===E?void 0:E.applicable_pending,pageOpenAs:b}),"allot"===(null===(f=C.search)||void 0===f?void 0:f.substring(13))&&(0,h.jsx)(re,{applicationId:null===(g=C.state)||void 0===g?void 0:g.applicationId,carryParentState:S,applicationDetail:null===E||void 0===E?void 0:E.oneApply,accessRole:N,accessTpye:A,instituteId:Z,applicationDetailApplicablePending:null===E||void 0===E?void 0:E.applicable_pending,pageOpenAs:b}),"cancel"===(null===(x=C.search)||void 0===x?void 0:x.substring(13))&&(0,h.jsx)(ve,{applicationId:null===(j=C.state)||void 0===j?void 0:j.applicationId,carryParentState:S,applicationDetail:null===E||void 0===E?void 0:E.oneApply,accessRole:N,accessTpye:A,instituteId:Z,applicationDetailApplicablePending:null===E||void 0===E?void 0:E.applicable_pending,pageOpenAs:b})]})},he=function(e){var n,i,l,s=e.admissionId,d=e.instituteId,r=e.carryParentState,u=e.accessRole,v=e.accessApplication,p=e.accessTpye,m=e.callApi,_=e.pageOpenAs,f=(0,c.$G)().t,g=(0,a.s0)(),x=(0,a.UO)(),j=(0,a.TH)();return(0,h.jsxs)("div",{className:o.Z.admission_application_container,children:["ongoing"===(null===(n=j.search)||void 0===n?void 0:n.substring(3))&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:o.Z.with_search,style:{justifyContent:"flex-start",gap:"1rem"},children:[(0,h.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){g("/q/".concat(x.username,"INSTITUTE"===_?"/admission":"/member/admission"),{state:(0,t.Z)({},r)})},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,h.jsx)("h6",{children:f("ongoing_application")})]}),(0,h.jsx)(A.Z,{customStyle:{width:"100%",marginTop:"0.5rem",marginBottom:"0.5rem"}})]}),"ongoing"===(null===(i=j.search)||void 0===i?void 0:i.substring(3))&&(0,h.jsx)(Z,{admissionId:s,carryParentState:r,accessRole:u,accessTpye:p,accessApplication:v,callApi:m,pageOpenAs:_}),"ongoing&n="===(null===j||void 0===j||null===(l=j.search)||void 0===l?void 0:l.substring(3,13))&&(0,h.jsx)(fe,{instituteId:d,admissionId:s,carryParentState:r,accessRole:u,accessTpye:p,callApi:m,pageOpenAs:_})]})}},20132:function(e,n,i){var t=i(1413),l=i(29439),o=i(72791),a=i(85753),s=i(5574),d=i(39230),c=i(16871),r=i(36721),u=i(98734),v=i(29017),p=i(9490),m=i(80184);n.Z=function(e){var n,i,_,f,h,g,x,j,Z,S,N,A,y,b,C,I,E,P=e.viewDetail,T=e.hideModal,R=e.applicationDetail,O=e.completeApplication,D=e.carryParentState,w=e.applicationDetailApplicablePending,k=e.pageOpenAs,F=(0,d.$G)().t,M=new Date,L=(0,c.s0)(),U=(0,c.UO)(),B=(0,o.useState)(!1),q=(0,l.Z)(B,2),G=q[0],J=q[1],W=(0,o.useState)({msg:"",run:!1}),$=(0,l.Z)(W,2),V=$[0],H=$[1],Y=(0,o.useState)(!1),z=(0,l.Z)(Y,2),Q=z[0],X=z[1],K=(0,o.useState)(null===(n=M.toISOString())||void 0===n?void 0:n.substring(0,10)),ee=(0,l.Z)(K,2),ne=ee[0],ie=ee[1],te=(0,v.m2)(),le=(0,l.Z)(te,1)[0],oe=(0,v.Ts)({data:{appId:null===R||void 0===R?void 0:R._id,valid_date:ne},skip:!(null!==R&&void 0!==R&&R._id)}),ae=oe.getDailyCollectionByAdmission,se=oe.getDailyCollectionByAdmissionRefetch;(0,o.useEffect)((function(){null!==R&&void 0!==R&&R._id&&se()}),[null===R||void 0===R?void 0:R._id,se,ne]);var de=function(){J((function(e){return!e})),null!==R&&void 0!==R&&R._id?le(null===R||void 0===R?void 0:R._id).then((function(e){var n;null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.complete_status?(J((function(e){return!e})),T(!1),L("/q/".concat(U.username,"INSTITUTE"===k?"/admission":"/member/admission"),{state:(0,t.Z)({},D)})):(H({msg:null===e||void 0===e?void 0:e.data.message,run:!0}),J((function(e){return!e})))})).catch({}):J((function(e){return!e}))};return(0,m.jsxs)(s.Z,{open:P,onClose:function(){return T(!1)},children:[(0,m.jsxs)("div",{className:a.Z.addDisplay,children:[(0,m.jsxs)("div",{className:a.Z.title,children:[(0,m.jsx)("div",{}),(0,m.jsx)("h6",{style:{cursor:"pointer"},onClick:function(){return X((function(e){return!e}))},children:null===R||void 0===R?void 0:R.applicationName}),(0,m.jsx)("img",{src:"/images/close-post-icon.svg",onClick:function(){return T(!1)},alt:""})]}),(0,m.jsxs)("div",{className:a.Z.content,children:[(0,m.jsx)("div",{style:{padding:"1rem"},children:(0,m.jsx)(p.Z,{setValidDate:ie})}),O&&!Q&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:a.Z.content2,children:[(0,m.jsxs)("div",{className:a.Z.appinforow,children:[(0,m.jsx)("h6",{children:F("total_received_application")}),(0,m.jsx)("h6",{children:null!==(i=null===ae||void 0===ae||null===(_=ae.day_wise)||void 0===_?void 0:_.request_count)&&void 0!==i?i:0})]}),(0,m.jsxs)("div",{className:a.Z.appinforow,children:[(0,m.jsx)("h6",{children:F("total_selected_application")}),(0,m.jsx)("h6",{children:null!==(f=null===ae||void 0===ae||null===(h=ae.day_wise)||void 0===h?void 0:h.select_count)&&void 0!==f?f:0})]}),(0,m.jsxs)("div",{className:a.Z.appinforow,children:[(0,m.jsx)("h6",{children:F("total_confirmed_application")}),(0,m.jsx)("h6",{children:null!==(g=null===ae||void 0===ae||null===(x=ae.day_wise)||void 0===x?void 0:x.confirm_count)&&void 0!==g?g:0})]}),(0,m.jsxs)("div",{className:a.Z.appinforow,children:[(0,m.jsx)("h6",{children:F("total_alloted_application")}),(0,m.jsx)("h6",{children:null!==(j=null===ae||void 0===ae||null===(Z=ae.day_wise)||void 0===Z?void 0:Z.allot_count)&&void 0!==j?j:0})]}),(0,m.jsxs)("div",{className:a.Z.appinforow,children:[(0,m.jsx)("h6",{children:F("total_cancelled_application")}),(0,m.jsx)("h6",{children:null!==(S=null===ae||void 0===ae||null===(N=ae.day_wise)||void 0===N?void 0:N.cancel_count)&&void 0!==S?S:0})]})]}),(0,m.jsxs)("div",{className:a.Z.content3,children:[(0,m.jsxs)("div",{className:a.Z.appinforow1,children:[(0,m.jsx)("h6",{children:F("total_fees_received")}),(0,m.jsxs)("h6",{children:["Rs. ",null!==(A=null===ae||void 0===ae||null===(y=ae.day_wise)||void 0===y?void 0:y.paid)&&void 0!==A?A:0]})]}),(0,m.jsxs)("div",{className:"".concat(a.Z.appinforow2," ").concat(a.Z.appinforowred),children:[(0,m.jsx)("h6",{children:F("total_fees_pending")}),(0,m.jsxs)("h6",{children:["Rs. ",null!==(b=null===ae||void 0===ae||null===(C=ae.day_wise)||void 0===C?void 0:C.remain)&&void 0!==b?b:0]})]}),(0,m.jsxs)("div",{className:"".concat(a.Z.appinforow2," ").concat(a.Z.appinforowred),children:[(0,m.jsx)("h6",{children:F("total_applicable_fees_pending")}),(0,m.jsxs)("h6",{children:["Rs."," ",null!==(I=null===ae||void 0===ae||null===(E=ae.day_wise)||void 0===E?void 0:E.applicable_pending)&&void 0!==I?I:0]})]}),(0,m.jsx)("div",{className:a.Z.completeApplicationcontainer,children:(0,m.jsx)("div",{className:a.Z.completeApplication,onClick:de,children:F("complete_application")})})]})]}),O&&Q&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:a.Z.content2,children:[(0,m.jsxs)("div",{className:a.Z.appinforow,children:[(0,m.jsx)("h6",{children:F("total_received_application")}),(0,m.jsx)("h6",{children:null===R||void 0===R?void 0:R.receievedCount})]}),(0,m.jsxs)("div",{className:a.Z.appinforow,children:[(0,m.jsx)("h6",{children:F("total_selected_application")}),(0,m.jsx)("h6",{children:null===R||void 0===R?void 0:R.selectCount})]}),(0,m.jsxs)("div",{className:a.Z.appinforow,children:[(0,m.jsx)("h6",{children:F("total_confirmed_application")}),(0,m.jsx)("h6",{children:null===R||void 0===R?void 0:R.confirmCount})]}),(0,m.jsxs)("div",{className:a.Z.appinforow,children:[(0,m.jsx)("h6",{children:F("total_alloted_application")}),(0,m.jsx)("h6",{children:null===R||void 0===R?void 0:R.allotCount})]}),(0,m.jsxs)("div",{className:a.Z.appinforow,children:[(0,m.jsx)("h6",{children:F("total_cancelled_application")}),(0,m.jsx)("h6",{children:null===R||void 0===R?void 0:R.cancelCount})]})]}),(0,m.jsxs)("div",{className:a.Z.content3,children:[(0,m.jsxs)("div",{className:a.Z.appinforow1,children:[(0,m.jsx)("h6",{children:F("total_fees_received")}),(0,m.jsxs)("h6",{children:["Rs. ",null===R||void 0===R?void 0:R.collectedFeeCount]})]}),(0,m.jsxs)("div",{className:"".concat(a.Z.appinforow2," ").concat(a.Z.appinforowred),children:[(0,m.jsx)("h6",{children:F("total_fees_pending")}),(0,m.jsxs)("h6",{children:["Rs. ",null===R||void 0===R?void 0:R.remainingFee]})]}),(0,m.jsxs)("div",{className:"".concat(a.Z.appinforow2," ").concat(a.Z.appinforowred),children:[(0,m.jsx)("h6",{children:F("total_applicable_fees_pending")}),(0,m.jsxs)("h6",{children:["Rs. ",null!==w&&void 0!==w?w:0]})]}),(0,m.jsx)("div",{className:a.Z.completeApplicationcontainer,children:(0,m.jsx)("div",{className:a.Z.completeApplication,onClick:de,children:F("complete_application")})})]})]})]})]}),G&&(0,m.jsx)(u.Z,{}),(0,m.jsx)(r.Ch,{msg:V.msg,run:V.run,setRun:function(){return H({msg:"",run:!1})},postiton:"bottom",type:"error"})]})}},27330:function(e,n,i){var t=i(4942),l=i(1413),o=i(93433),a=i(37762),s=i(29439),d=i(72791),c=i(89792),r=i(39230),u=i(16871),v=i(72952),p=i(98734),m=i(98094),_=i(78687),f=i(91007),h=i(97655),g=i(39601),x=i(29017),j=i(84959),Z=i(81622),S=i(21559),N=i(5574),A=i(80184);n.Z=function(e){var n,i,y,b,C=e.aid,I=e.viewAs,E=(0,r.$G)().t,P=(0,u.s0)(),T=(0,d.useState)(!1),R=(0,s.Z)(T,2),O=R[0],D=R[1],w=(0,d.useState)({admission_about:"",admission_process:"",cashier_name:"",cashier_signature:""}),k=(0,s.Z)(w,2),F=k[0],M=k[1],L=(0,d.useState)([{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}]),U=(0,s.Z)(L,2),B=U[0],q=U[1],G=(0,d.useState)(""),J=(0,s.Z)(G,2),W=J[0],$=J[1],V=(0,d.useState)(""),H=(0,s.Z)(V,2),Y=H[0],z=H[1],Q=(0,d.useState)(!1),X=(0,s.Z)(Q,2),K=X[0],ee=X[1],ne=(0,d.useState)(!1),ie=(0,s.Z)(ne,2),te=ie[0],le=ie[1],oe=(0,d.useState)(""),ae=(0,s.Z)(oe,2),se=(ae[0],ae[1]),de=(0,_.useSelector)((function(e){return e.idChange.id})),ce=(0,f.pu)(de,{skip:"INSTITUTE"===I||!de}),re=ce.data,ue=ce.refetch;(0,d.useEffect)((function(){de&&ue()}),[de,ue]);var ve=(0,x.Bf)({aid:C,skip:!C}),pe=ve.admissionGetSiteInfo,me=ve.admissionGetSiteInfoRefetch,_e=(0,x.AE)(),fe=(0,s.Z)(_e,1)[0],he=(0,j.FL)(),ge=(0,s.Z)(he,1)[0];(0,d.useEffect)((function(){C&&me()}),[C,me]),(0,d.useEffect)((function(){var e,n,i,t,l,o;if(null!==pe&&void 0!==pe&&pe.admission_site&&(M({admission_about:null===pe||void 0===pe||null===(e=pe.admission_site)||void 0===e?void 0:e.admission_about,admission_process:null===pe||void 0===pe||null===(n=pe.admission_site)||void 0===n?void 0:n.admission_process,cashier_name:null===pe||void 0===pe||null===(i=pe.admission_site)||void 0===i?void 0:i.cashier_name,cashier_signature:null===pe||void 0===pe||null===(t=pe.admission_site)||void 0===t?void 0:t.cashier_signature}),null!==pe&&void 0!==pe&&null!==(l=pe.admission_site)&&void 0!==l&&null!==(o=l.admission_contact)&&void 0!==o&&o.length)){var s,d,c=[],r=(0,a.Z)(null===pe||void 0===pe||null===(s=pe.admission_site)||void 0===s?void 0:s.admission_contact);try{for(r.s();!(d=r.n()).done;){var u=d.value,v={contact_department_name:null===u||void 0===u?void 0:u.contact_department_name,contact_person_name:null===u||void 0===u?void 0:u.contact_person_name,contact_person_mobile:null===u||void 0===u?void 0:u.contact_person_mobile,contact_person_email:null===u||void 0===u?void 0:u.contact_person_email,contactId:null===u||void 0===u?void 0:u._id};c.push(v)}}catch(p){r.e(p)}finally{r.f()}q(c)}}),[null===pe||void 0===pe?void 0:pe.admission_site]);var xe=function(e,n){for(var i=(0,o.Z)(B),t=0;t<(null===i||void 0===i?void 0:i.length);t++)t===n&&(i[t][e.target.name]=e.target.value);q(i)},je=function(e){M((function(n){return(0,l.Z)((0,l.Z)({},n),{},(0,t.Z)({},e.target.name,e.target.value))}))};(0,d.useEffect)((function(){te&&function(e){if(e){D((function(e){return!e}));var n=new FormData;n.append("file",e),ge({fileUpload:n}).then((function(e){var n;null!==(n=e.data)&&void 0!==n&&n.imageKey&&M((function(n){var i;return(0,l.Z)((0,l.Z)({},n),{},{cashier_signature:null===(i=e.data)||void 0===i?void 0:i.imageKey})})),D((function(e){return!e}))})).catch({})}}(Y)}),[te,Y]);return(0,A.jsxs)("div",{className:c.Z.bgContainer,children:["INSTITUTE"===I?null:(0,A.jsx)("div",{className:c.Z.navbar,children:(0,A.jsx)(g.default,{status:"members",profileData:null===re||void 0===re?void 0:re.user,username:null===re||void 0===re||null===(n=re.user)||void 0===n?void 0:n.username,name:null===re||void 0===re||null===(i=re.user)||void 0===i?void 0:i.userLegalName,photoId:null===re||void 0===re||null===(y=re.user)||void 0===y?void 0:y.photoId,profilePhoto:null===re||void 0===re||null===(b=re.user)||void 0===b?void 0:b.profilePhoto})}),(0,A.jsxs)("div",{className:c.Z.container,children:[(0,A.jsxs)("div",{className:c.Z.containerhead,children:[(0,A.jsx)("h6",{children:E("update_admission_site_info")}),(0,A.jsx)("img",{src:"/images/close-post-icon.svg",alt:"",onClick:function(){P(-1)}})]}),(0,A.jsx)(m.Z,{customStyle:{width:"100%"}}),(0,A.jsx)("div",{className:c.Z.containercontent,children:(0,A.jsxs)("div",{className:c.Z.container_inner_content,children:[(0,A.jsx)(v.Z,{labelText:E("about_admission_department"),placeholder:E("about_admission_department_placeholder"),name:"admission_about",value:F.admission_about,type:"text",onChange:je,customStyleContainer:{width:"100%"}}),(0,A.jsx)(v.Z,{labelText:E("admission_process_site"),placeholder:E("admission_process_site_placeholder"),name:"admission_process",value:F.admission_process,type:"text",onChange:je,customStyleContainer:{width:"100%"}}),(0,A.jsxs)("div",{className:c.Z.show_field,style:{alignItems:"flex-start"},children:[(0,A.jsx)(h.Z,{labelText:E("site_cashier_name"),placeholder:E("site_cashier_name_placeholder"),name:"cashier_name",value:null===F||void 0===F?void 0:F.cashier_name,type:"text",onChange:je,customStyleContainer:{width:"69.5%"}}),(0,A.jsx)(Z.Z,{labelText:E("cashier_signature"),name:"cashier_signature",value:F.cashier_signature,onChange:function(e){if(e.target.files[0]){var n=URL.createObjectURL(e.target.files[0]);z(e.target.files[0]),se(n),$(n),ee(!0)}},customStyleContainer:{width:"29.5%"}})]}),(0,A.jsxs)("div",{className:c.Z.add_contact_person,children:[(0,A.jsx)("h6",{children:E("add_contact_persons")}),null===B||void 0===B?void 0:B.map((function(e,n){return(0,A.jsxs)("div",{children:[(0,A.jsxs)("div",{className:c.Z.show_field,children:[(0,A.jsx)(h.Z,{labelText:E("site_department_name"),placeholder:E("site_department_name_placeholder"),name:"contact_department_name",value:null===e||void 0===e?void 0:e.contact_department_name,type:"text",onChange:function(e){return xe(e,n)},customStyleContainer:{width:"49.5%"}}),(0,A.jsx)(h.Z,{labelText:E("contact_person_name"),placeholder:E("contact_person_name_placeholder"),name:"contact_person_name",value:null===e||void 0===e?void 0:e.contact_person_name,type:"text",onChange:function(e){return xe(e,n)},customStyleContainer:{width:"49.5%"}})]}),(0,A.jsxs)("div",{className:c.Z.show_field,children:[(0,A.jsx)(h.Z,{labelText:E("contact_person_mobile"),placeholder:E("contact_person_mobile_placeholder"),name:"contact_person_mobile",value:null===e||void 0===e?void 0:e.contact_person_mobile,type:"text",onChange:function(e){return xe(e,n)},customStyleContainer:{width:"49.5%"}}),(0,A.jsx)(h.Z,{labelText:E("contact_person_email"),placeholder:E("contact_person_email_placeholder"),name:"contact_person_email",value:null===e||void 0===e?void 0:e.contact_person_email,type:"email",onChange:function(e){return xe(e,n)},customStyleContainer:{width:"49.5%"}})]})]},n)}))]}),(0,A.jsx)("button",{className:c.Z.add_contact_person_btn,title:"Add Contact Person",onClick:function(){q((function(e){return[].concat((0,o.Z)(e),[{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}])}))},children:E("add_contact_person")}),O&&(0,A.jsx)(p.Z,{}),(0,A.jsx)("button",{className:c.Z.update_btn,onClick:function(){D((function(e){return!e})),fe({aid:C,updateSiteInfo:(0,l.Z)((0,l.Z)({},F),{},{admission_contact:null===B||void 0===B?void 0:B.filter((function(e){return null!==e&&void 0!==e&&e.contactId?"":e})),edit_admission_contact:null===B||void 0===B?void 0:B.filter((function(e){return null!==e&&void 0!==e&&e.contactId?e:""}))})}).then((function(){D((function(e){return!e}))})).catch({})},children:E("update")}),(0,A.jsx)(N.Z,{open:K,children:(0,A.jsx)(S.Z,{setPhotoURL:$,photoURL:W,setFile:z,setOpenCrop:ee,setUpload:le,setProfilePhoto:se,first:1,second:1})})]})})]})]})}},66148:function(e,n,i){var t=i(1413),l=(i(72791),i(16871)),o=i(43504),a=i(80184),s=["enquiry","student"],d=["receipt&n=request","receipt&n=accept","receipt&n=reject","student"],c=["ongoing","ongoing&n=application","ongoing&n=select","ongoing&n=confirm","ongoing&n=allot","ongoing&n=cancel","ongoing&n=mulitple","student"],r=["scholarship","scholarship&n","student"],u=["refund","student"],v=["pending","student"],p=["ongoing","ongoing&n=application","student"],m=["ongoing","ongoing&n=select","student"],_=["ongoing","ongoing&n=confirm","ongoing&n=mulitple","student"],f=["ongoing","ongoing&n=allot","student"],h=["ongoing","ongoing&n=cancel","student"],g=["export","student"];n.Z=function(e){var n=e.carryParentState,i=e.activeTab,x=e.accessRole,j=e.accessTpye,Z=e.callApi,S=e.children,N=(0,l.UO)();return(0,a.jsx)(a.Fragment,{children:"INQUIRY_ACCESS"===x?null!==s&&void 0!==s&&s.includes(i)?(0,a.jsx)(o.rU,{to:"/q/".concat(N.username,"/member/admission?a=").concat(i),state:(0,t.Z)({},n),children:S}):(0,a.jsx)("div",{style:{opacity:"0.5"},children:S}):"ALL_FEE_ACCESS"===x?null!==d&&void 0!==d&&d.includes(i)?(0,a.jsx)(o.rU,{to:"/q/".concat(N.username,"/member/admission?a=").concat(i),state:(0,t.Z)({},n),children:S}):(0,a.jsx)("div",{style:{opacity:"0.5"},children:S}):"MULTI_APP_ACCESS"===x?null!==c&&void 0!==c&&c.includes(i)?(0,a.jsx)(o.rU,{to:"/q/".concat(N.username,"/member/admission?a=").concat(i),state:(0,t.Z)({},n),children:S}):(0,a.jsx)("div",{style:{opacity:"0.5"},children:S}):"SCHOLARSHIP_ACCESS"===x?null!==r&&void 0!==r&&r.includes(null===i||void 0===i?void 0:i.substring(0,11))?(0,a.jsx)(o.rU,{to:"/q/".concat(N.username,"/member/admission?a=").concat(i),state:(0,t.Z)({},n),children:S}):(0,a.jsx)("div",{style:{opacity:"0.5"},children:S}):"REFUND_ACCESS"===x?null!==u&&void 0!==u&&u.includes(i)?(0,a.jsx)(o.rU,{to:"/q/".concat(N.username,"/member/admission?a=").concat(i),state:(0,t.Z)({},n),children:S}):(0,a.jsx)("div",{style:{opacity:"0.5"},children:S}):"PENDING_FEE_ACCESS"===x?null!==v&&void 0!==v&&v.includes(i)?(0,a.jsx)(o.rU,{to:"/q/".concat(N.username,"/member/admission?a=").concat(i),state:(0,t.Z)({},n),children:S}):(0,a.jsx)("div",{style:{opacity:"0.5"},children:S}):"ONE_TAB_ACCESS"===x?"Application"===j?null!==p&&void 0!==p&&p.includes(i)?(0,a.jsx)(o.rU,{to:"/q/".concat(N.username,"/member/admission?a=").concat(i),state:(0,t.Z)({},n),children:S}):(0,a.jsx)("div",{style:{opacity:"0.5"},children:S}):"Selected"===j?null!==m&&void 0!==m&&m.includes(i)?(0,a.jsx)(o.rU,{to:"/q/".concat(N.username,"/member/admission?a=").concat(i),state:(0,t.Z)({},n),children:S}):(0,a.jsx)("div",{style:{opacity:"0.5"},children:S}):"Confirmed"===j?null!==_&&void 0!==_&&_.includes(i)?(0,a.jsx)(o.rU,{to:"/q/".concat(N.username,"/member/admission?a=").concat(i),state:(0,t.Z)({},n),children:S}):(0,a.jsx)("div",{style:{opacity:"0.5"},children:S}):"Allotted"===j?null!==f&&void 0!==f&&f.includes(i)?(0,a.jsx)(o.rU,{to:"/q/".concat(N.username,"/member/admission?a=").concat(i),state:(0,t.Z)({},n),children:S}):(0,a.jsx)("div",{style:{opacity:"0.5"},children:S}):null!==h&&void 0!==h&&h.includes(i)?(0,a.jsx)(o.rU,{to:"/q/".concat(N.username,"/member/admission?a=").concat(i),state:(0,t.Z)({},n),children:S}):(0,a.jsx)("div",{style:{opacity:"0.5"},children:S}):"DATA_EXPORT_ACCESS"===x?null!==g&&void 0!==g&&g.includes(i)?(0,a.jsx)(o.rU,{to:"/q/".concat(N.username,"/member/admission?a=").concat(i),state:(0,t.Z)({},n),children:S}):(0,a.jsx)("div",{style:{opacity:"0.5"},children:S}):Z?(0,a.jsx)(o.rU,{to:"/q/".concat(N.username,"/member/admission?a=").concat(i),state:(0,t.Z)({},n),children:S}):(0,a.jsx)("div",{style:{opacity:"0.5"},children:S})})}},60214:function(e,n,i){i.d(n,{Z:function(){return T}});var t=i(93433),l=i(29439),o=i(72791),a=i(39230),s=i(29407),d=i(16871),c=i(23441),r=i(29017),u=i(11105),v=i(72426),p=i.n(v),m=i(1413),_=i(25313),f=i(36665),h=i(41233),g=i(33992),x=i(16256),j=i(87932),Z=i(98734),S=i(80184),N=function(e){var n,i,s=e.admissionId,c=e.instituteId,u=e.financeId,v=e.carryParentState,p=e.onClose,N=e.viewAs,A=e.onRefetch,y=(0,a.$G)().t,b=(0,d.s0)(),C=(0,d.UO)(),I=(0,o.useState)(!1),E=(0,l.Z)(I,2),P=E[0],T=E[1],R=(0,o.useState)(!1),O=(0,l.Z)(R,2),D=O[0],w=O[1],k=(0,o.useState)({depart:"",batch:"",master:"",fee_struct:""}),F=(0,l.Z)(k,2),M=F[0],L=F[1],U=(0,o.useState)({gender:"",caste:"",is_all:""}),B=(0,l.Z)(U,2),q=B[0],G=B[1],J=(0,r.nJ)({aid:s,skip:!s}),W=J.allDepartmentList,$=J.allDepartmentListRefetch,V=(0,g.tx)({data:{id:c,did:M.depart},skip:"All"===M.depart||!M.depart}),H=V.allClassMaster,Y=V.allClassMasterRefetch,z=(0,g._C)({did:M.depart,skip:"All"===M.depart||!M.depart}),Q=z.oneDepartment,X=z.oneDepartmentRefetch,K=(0,j.Z)({fid:u,skip:!u}),ee=K.getAllFeesCategory,ne=K.getAllFeesCategoryRefetch,ie=(0,r.rJ)(),te=(0,l.Z)(ie,1)[0];(0,o.useEffect)((function(){s&&$()}),[s,$]),(0,o.useEffect)((function(){M.depart&&"All"!==M.depart&&Y()}),[M.depart,Y]),(0,o.useEffect)((function(){M.depart&&"All"!==M.depart&&X()}),[M.depart,X]),(0,o.useEffect)((function(){u&&ne()}),[u,ne]);return(0,S.jsxs)(f.Z,{onClose:p,children:[(0,S.jsxs)("div",{className:_.Z.filter_container,children:[(0,S.jsx)("h6",{className:_.Z.filter_title,children:y("filter_and_export_fees_data")}),!P&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(h.Z,{selectLabel:y("select_department"),selectedValue:y("all_select_particular_department"),options:null!==W&&void 0!==W&&W.allDB?["All"].concat((0,t.Z)(null===W||void 0===W?void 0:W.allDB)):["All"],onClick:function(e){L((function(n){return(0,m.Z)((0,m.Z)({},n),{},{depart:e})}))}}),(0,S.jsx)(h.Z,{selectLabel:"All"===M.depart?y("select_current_batch"):y("select_batch_optional"),selectedValue:"All"===M.depart?y("select_pref"):y("all_time_select_batch"),options:"All"===M.depart?["Current","All"]:null!==Q&&void 0!==Q&&null!==(n=Q.department)&&void 0!==n&&n.batches?(0,t.Z)(null===Q||void 0===Q||null===(i=Q.department)||void 0===i?void 0:i.batches):[],onClick:function(e){L((function(n){return(0,m.Z)((0,m.Z)({},n),{},{batch:e})}))}}),"All"===M.depart?"":(0,S.jsx)(h.Z,{selectLabel:y("select_standard_year"),selectedValue:y("select_standard_year_placeholder"),options:null!==H&&void 0!==H&&H.classMaster?(0,t.Z)(null===H||void 0===H?void 0:H.classMaster):[],onClick:function(e){L((function(n){return(0,m.Z)((0,m.Z)({},n),{},{master:e})}))}}),(0,S.jsx)("button",{className:_.Z.next_btn,onClick:function(){return T((function(e){return!e}))},children:y("next")})]}),P&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(h.Z,{selectLabel:y("select_gender"),selectedValue:y("select_gender_placeholder"),options:["Male","Female","Other"],onClick:function(e){G((function(n){return(0,m.Z)((0,m.Z)({},n),{},{gender:e})}))}}),(0,S.jsx)(h.Z,{selectLabel:y("select_caste_catgory"),selectedValue:y("select_caste_catgory_placeholder"),options:x.De,onClick:function(e){G((function(n){return(0,m.Z)((0,m.Z)({},n),{},{caste:e})}))}}),(0,S.jsx)(h.Z,{selectLabel:y("select_fee_category"),selectedValue:y("select_fee_category_placeholder"),options:null!==ee&&void 0!==ee&&ee.all_fees_format?(0,t.Z)(null===ee||void 0===ee?void 0:ee.all_fees_format):[],onClick:function(e){L((function(n){return(0,m.Z)((0,m.Z)({},n),{},{fee_struct:e})}))}}),(0,S.jsx)(h.Z,{selectLabel:y("select_all_or_pending"),selectedValue:y("select_all_or_pending_placeholder"),options:["All Time Fees","Pending Fees"],onClick:function(e){G((function(n){return(0,m.Z)((0,m.Z)({},n),{},{is_all:"All Time Fees"===e})}))}}),(0,S.jsx)("button",{className:_.Z.next_btn,onClick:function(){w((function(e){return!e})),te((0,m.Z)((0,m.Z)({aid:s},q),{},{all_depart:"All"===M.depart?"All":"Particular",batch_status:M.batch,pendingData:{depart:"All"===M.depart?"":M.depart,batch:"All"===M.depart?"":M.batch,master:"All"===M.depart?[]:[M.master],fee_struct:"All"===M.depart?"":M.fee_struct}})).then((function(){"EXPORT"===N?(A(),p()):b("/q/".concat(C.username,"/member/admission?a=export"),{state:(0,m.Z)({},v)}),w((function(e){return!e}))})).catch({})},children:y("export_data")})]})]}),D&&(0,S.jsx)(Z.Z,{})]})},A=i(12072),y=i(84489),b=i(87049),C=i(85162),I=function(e){var n=e.onClose,i=e.xlsxId,t=e.onRefetch,a=e.admissionId,s=(0,o.useState)(!1),d=(0,l.Z)(s,2),c=d[0],u=d[1],v=(0,o.useState)(!1),p=(0,l.Z)(v,2),m=p[0],_=p[1],f=(0,r.f_)(),h=(0,l.Z)(f,1)[0],g=(0,r.JD)(),x=(0,l.Z)(g,1)[0];return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(y.Z,{onClose:n}),(0,S.jsxs)(A.Z,{customStyle:{zIndex:"1200"},children:[m?(0,S.jsx)(C.Z,{xlsxId:i,onEdit:function(e){u((function(e){return!e})),x({aid:a,xlsxId:null===i||void 0===i?void 0:i._id,excelUpdate:{excel_file_name:e}}).then((function(){t(),u((function(e){return!e})),n()})).catch({})}}):(0,S.jsxs)("div",{className:b.Z.edit_modal_container,style:{width:"200px"},children:[(0,S.jsx)("h6",{className:b.Z.edit,onClick:function(){return _((function(e){return!e}))},children:"Edit"}),(0,S.jsx)("h6",{className:b.Z.remove,onClick:function(){u((function(e){return!e})),h({aid:a,xlsxId:null===i||void 0===i?void 0:i._id}).then((function(){t(),n(),u((function(e){return!e}))})).catch({})},children:"Delete"})]}),c&&(0,S.jsx)(Z.Z,{})]})]})},E=i(98094),P=i(65543),T=function(e){var n,i,v=e.admissionId,m=e.funds,_=e.carryParentState,f=(0,a.$G)().t,h=(0,d.s0)(),g=(0,c.YD)(),x=(0,l.Z)(g,2),j=x[0],Z=x[1],A=(0,o.useState)(1),y=(0,l.Z)(A,2),b=y[0],C=y[1],T=(0,o.useState)(!0),R=(0,l.Z)(T,2),O=R[0],D=R[1],w=(0,o.useState)(!1),k=(0,l.Z)(w,2),F=k[0],M=k[1],L=(0,o.useState)(!0),U=(0,l.Z)(L,2),B=U[0],q=U[1],G=(0,o.useState)([]),J=(0,l.Z)(G,2),W=J[0],$=J[1],V=(0,o.useState)(!1),H=(0,l.Z)(V,2),Y=H[0],z=H[1],Q=(0,o.useState)(!1),X=(0,l.Z)(Q,2),K=X[0],ee=X[1],ne=(0,r.Ke)({data:{aid:v,page:b,limit:10},skip:!v}),ie=ne.getAllExcelByAdmissionAdmin,te=ne.getAllExcelByAdmissionAdminRefetch,le=(0,P.u)().scrollToTop;(0,o.useEffect)((function(){le()}),[]),(0,o.useEffect)((function(){v&&(q(!0),te())}),[v,b,te]),(0,o.useEffect)((function(){Z&&O&&C((function(e){return e+1}))}),[Z,O]),(0,o.useEffect)((function(){var e,n;F?($(null===ie||void 0===ie?void 0:ie.all_excel),M(!1),q(!1)):null!==ie&&void 0!==ie&&ie.all_excel?($((function(e){var n,i;return null===(n=(0,t.Z)(new Set(null===(i=[].concat((0,t.Z)(e),(0,t.Z)(null===ie||void 0===ie?void 0:ie.all_excel)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),q(!1)):0===(null===ie||void 0===ie||null===(n=ie.all_excel)||void 0===n?void 0:n.length)&&q(!1);10===(null===ie||void 0===ie||null===(e=ie.all_excel)||void 0===e?void 0:e.length)?D(!0):D(!1)}),[null===ie||void 0===ie?void 0:ie.all_excel]);var oe=function(){z((function(e){return!e}))},ae=function(){C(1),te(),M(!0)};return(0,S.jsxs)("div",{className:s.Z.refund_container,children:[(0,S.jsxs)("section",{className:s.Z.refund_container_title,children:[(0,S.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){h(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,S.jsxs)("div",{className:s.Z.refund_container_title,style:{justifyContent:"space-between",width:"95%"},children:[(0,S.jsx)("h6",{children:f("data_export")}),(0,S.jsx)("img",{src:"/images/export-filter-icon.svg",alt:"",onClick:oe,className:s.Z.admission_filter_icon})]})]}),(0,S.jsx)(E.Z,{customStyle:{width:"100%"}}),(0,S.jsxs)("div",{className:s.Z.refund_list,children:[null===W||void 0===W?void 0:W.map((function(e,n){var i,t;return(null===W||void 0===W?void 0:W.length)===n+1?(0,S.jsxs)("a",{ref:j,className:s.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,S.jsx)("img",{src:"/images/export-xsxl-icon.svg",alt:""}),(0,S.jsxs)("section",{className:s.Z.export_card_text,children:[(0,S.jsx)("h6",{children:null!==(i=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==i?i:""}),(0,S.jsxs)("div",{className:s.Z.export_card_date,children:[(0,S.jsx)("h6",{children:p()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,S.jsx)("h6",{children:p()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]}),(0,S.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(n){n.preventDefault(),ee(e)},className:s.Z.menu_icon,title:"Menu"})]},null===e||void 0===e?void 0:e._id):(0,S.jsxs)("a",{className:s.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,S.jsx)("img",{src:"/images/export-xsxl-icon.svg",alt:""}),(0,S.jsxs)("section",{className:s.Z.export_card_text,children:[(0,S.jsx)("h6",{children:null!==(t=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==t?t:""}),(0,S.jsxs)("div",{className:s.Z.export_card_date,children:[(0,S.jsx)("h6",{children:p()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,S.jsx)("h6",{children:p()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]}),(0,S.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(n){n.preventDefault(),ee(e)},className:s.Z.menu_icon,title:"Menu"})]},null===e||void 0===e?void 0:e._id)})),B&&(0,S.jsx)(u.Z,{}),Y&&(0,S.jsx)(N,{admissionId:v,instituteId:null===m||void 0===m||null===(n=m.institute)||void 0===n?void 0:n._id,financeId:null===m||void 0===m||null===(i=m.institute)||void 0===i?void 0:i.financeDepart[0],carryParentState:_,onClose:oe,viewAs:"EXPORT",onRefetch:ae}),K&&(0,S.jsx)(I,{xlsxId:K,onClose:function(){return ee("")},onRefetch:ae,admissionId:v})]})]})}},85162:function(e,n,i){var t=i(29439),l=i(72791),o=i(39230),a=i(97655),s=i(98094),d=i(87049),c=i(80184);n.Z=function(e){var n,i=e.onEdit,r=e.xlsxId,u=(0,o.$G)().t,v=(0,l.useState)(null!==(n=null===r||void 0===r?void 0:r.excel_file_name)&&void 0!==n?n:""),p=(0,t.Z)(v,2),m=p[0],_=p[1],f=(0,l.useState)(""),h=(0,t.Z)(f,2),g=h[0],x=h[1];(0,l.useEffect)((function(){var e;_(null!==(e=null===r||void 0===r?void 0:r.excel_file_name)&&void 0!==e?e:"")}),[null===r||void 0===r?void 0:r.excel_file_name]);return(0,c.jsxs)("div",{style:{width:"20rem",minHeight:"10rem",padding:"1rem"},children:[(0,c.jsx)("h6",{children:u("update_excel_name")}),(0,c.jsx)(s.Z,{customStyle:{width:"100%"}}),(0,c.jsx)(a.Z,{labelText:u("excel_name"),placeholder:u("excel_name_plcaeholder"),value:m,name:"excelName",type:"text",onChange:function(e){return _(e.target.value)},errorShow:g.excelName}),(0,c.jsx)("button",{className:d.Z.xlsx_update_btn,onClick:function(){m?i(m):x({excelName:"excelName is required"})},style:{justifyContent:"center",marginTop:"1rem"},children:u("update")})]})}},32256:function(e,n,i){i.d(n,{Z:function(){return D}});var t=i(93433),l=i(29439),o=i(72791),a=i(39230),s=i(23441),d=i(16871),c=i(29017),r=i(11105),u=i(98094),v=i(1413),p=i(37762),m=i(46876),_=i(91022),f=i(98734),h=i(69721),g=i(36665),x=i(70374),j=i(72426),Z=i.n(j),S=i(80184),N=function(e){var n,i=e.setActivePopup,t=e.selectedApplication,l=e.selectedStaff,o=e.moderatorState,s=e.onAssignModerator,d=(0,a.$G)().t;return(0,S.jsx)(g.Z,{children:(0,S.jsxs)("div",{className:x.Z.assign_role_container,children:[(0,S.jsxs)("section",{className:x.Z.assign_role_title,children:[(0,S.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){},alt:"back icon"}),(0,S.jsx)("h6",{children:d("preview")})]}),(0,S.jsx)(u.Z,{customStyle:{width:"100%"}}),(0,S.jsxs)("section",{className:x.Z.selected_staff_container,children:[(0,S.jsx)("img",{src:null!==l&&void 0!==l&&l.staffProfilePhoto?"".concat(h.yI,"/").concat(null===l||void 0===l?void 0:l.staffProfilePhoto):"/images/demo_users/user1.svg",alt:"staff profile avatar"}),(0,S.jsxs)("div",{className:x.Z.selected_staff_text,children:[(0,S.jsx)("h6",{children:"".concat(null===l||void 0===l?void 0:l.staffFirstName," ").concat(null!==(n=null===l||void 0===l?void 0:l.staffMiddleName)&&void 0!==n?n:""," ").concat(null===l||void 0===l?void 0:l.staffLastName)}),(0,S.jsxs)("p",{children:[d("index_number"),null===l||void 0===l?void 0:l.staffROLLNO]})]})]}),(0,S.jsx)("section",{style:{padding:"0.8rem"},children:(0,S.jsx)(_.Z,{selectLabel:d("select_role_of_moderator"),selectedValue:d("please_select_role"),value:"ALL_FEE_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Application Manager":"INQUIRY_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Enquiries Section":"FULL_ACCESS",openAs:"REFUND"})}),null===t||void 0===t?void 0:t.map((function(e){var n,i,t;return(0,S.jsxs)("div",{className:x.Z.application_card,children:[(0,S.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,S.jsxs)("section",{className:x.Z.application_card_text,children:[(0,S.jsx)("h6",{children:null!==(n=null===e||void 0===e?void 0:e.applicationName)&&void 0!==n?n:""}),(0,S.jsxs)("div",{className:x.Z.application_card_text_bottom,children:[(0,S.jsx)("p",{children:null!==(i=null===e||void 0===e||null===(t=e.applicationDepartment)||void 0===t?void 0:t.dName)&&void 0!==i?i:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,S.jsx)("p",{children:Z()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id)})),(0,S.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,S.jsxs)("button",{className:x.Z.select_application_btn,onClick:function(){return i("SELECT_APPLICATION")},children:[(0,S.jsx)("div",{children:d("add_more")}),(0,S.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),(0,S.jsxs)("button",{className:x.Z.assign_btn,onClick:s,children:[d("assign")," "]})]})]})})},A=function(e){var n,i=e.onCloseEdit,t=e.setActivePopup,l=e.selectedStaff,o=e.moderatorState,s=e.onSelectRole,d=e.onUpdateModerator,c=e.selectedApplication,r=(0,a.$G)().t;return(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(g.Z,{onClose:i,children:(0,S.jsxs)("div",{className:x.Z.assign_role_container,children:[(0,S.jsxs)("section",{className:x.Z.assign_role_title,children:[(0,S.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:i,alt:"back icon",style:{cursor:"pointer"}}),(0,S.jsx)("h6",{children:r("update_role_to_moderator")})]}),(0,S.jsx)(u.Z,{customStyle:{width:"100%"}}),(0,S.jsxs)("section",{className:x.Z.selected_staff_container,onClick:function(){return t("OPEN_STAFF_LIST")},children:[(0,S.jsx)("img",{src:null!==l&&void 0!==l&&l.staffProfilePhoto?"".concat(h.yI,"/").concat(null===l||void 0===l?void 0:l.staffProfilePhoto):"/images/demo_users/user1.svg",alt:"staff profile avatar"}),(0,S.jsxs)("div",{className:x.Z.selected_staff_text,children:[(0,S.jsx)("h6",{children:"".concat(null===l||void 0===l?void 0:l.staffFirstName," ").concat(null!==(n=null===l||void 0===l?void 0:l.staffMiddleName)&&void 0!==n?n:""," ").concat(null===l||void 0===l?void 0:l.staffLastName)}),(0,S.jsxs)("p",{children:[r("index_number"),null===l||void 0===l?void 0:l.staffROLLNO]})]})]}),(0,S.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,S.jsx)(_.Z,{selectLabel:r("select_role_of_moderator"),selectedValue:r("please_select_role"),options:["Fee receipt authority","Application Manager","Enquiries Section","Scholarship Manager","Excess Fee Refund","Pending Fee Manager","Tab Authority","Data Export Authority"],value:"ALL_FEE_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Application Manager":"INQUIRY_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Enquiries Section":"SCHOLARSHIP_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Scholarship Manager":"REFUND_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Access Fee Moderator":"PENDING_FEE_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Pending Fee Manager":"ONE_TAB_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Tab Authority":"DATA_EXPORT_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Data Export Authority":"",onClick:s}),null===c||void 0===c?void 0:c.map((function(e){var n,i,t;return(0,S.jsxs)("div",{className:x.Z.application_card,style:{width:"100%",margin:"1rem 0 0"},children:[(0,S.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,S.jsxs)("section",{className:x.Z.application_card_text,children:[(0,S.jsx)("h6",{children:null!==(n=null===e||void 0===e?void 0:e.applicationName)&&void 0!==n?n:""}),(0,S.jsxs)("div",{className:x.Z.application_card_text_bottom,children:[(0,S.jsx)("p",{children:null!==(i=null===e||void 0===e||null===(t=e.applicationDepartment)||void 0===t?void 0:t.dName)&&void 0!==i?i:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,S.jsx)("p",{children:Z()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id)})),"MULTI_APP_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)&&(0,S.jsxs)("button",{className:x.Z.select_application_btn,onClick:function(){return t("SELECT_APPLICATION")},children:[(0,S.jsx)("div",{children:r("moderator_select_application")}),(0,S.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),(0,S.jsxs)("button",{className:x.Z.assign_btn,onClick:d,children:[r("update")," "]})]})]})})})},y=i(78687),b=function(e){var n,i=e.setActivePopup,d=e.setSelectedApplication,v=e.setSelectedApplicationId,p=e.selectedApplicationId,m=e.openAs,_=e.role,f=(0,a.$G)().t,h=(0,o.useState)(!0),j=(0,l.Z)(h,2),N=j[0],A=j[1],b=(0,o.useState)(1),C=(0,l.Z)(b,2),I=C[0],E=C[1],P=(0,s.YD)(),T=(0,l.Z)(P,2),R=T[0],O=T[1],D=(0,o.useState)([]),w=(0,l.Z)(D,2),k=w[0],F=w[1],M=(0,o.useState)(!0),L=(0,l.Z)(M,2),U=L[0],B=L[1],q=(0,y.useSelector)((function(e){return e.admissionChange})),G=(0,c.JG)({data:{aid:null===q||void 0===q?void 0:q.aid,page:I,limit:10},skip:!(null!==q&&void 0!==q&&q.aid)}),J=G.allOngoingApp,W=G.allOngoingAppRefetch;(0,o.useEffect)((function(){O&&N&&E((function(e){return e+1}))}),[O,N]),(0,o.useEffect)((function(){null!==q&&void 0!==q&&q.aid&&(B(!0),W())}),[null===q||void 0===q?void 0:q.aid,I,W]),(0,o.useEffect)((function(){null!==q&&void 0!==q&&q.aid&&(B(!0),W())}),[null===q||void 0===q?void 0:q.aid,W]),(0,o.useEffect)((function(){var e;null!==J&&void 0!==J&&J.ongoing&&(F((function(e){var n,i;return null===(n=(0,t.Z)(new Set(null===(i=[].concat((0,t.Z)(e),(0,t.Z)(null===J||void 0===J?void 0:J.ongoing)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),B(!1)),10===(null===J||void 0===J||null===(e=J.ongoing)||void 0===e?void 0:e.length)?A(!0):A(!1)}),[null===J||void 0===J?void 0:J.ongoing]);var $=function(){i("EDIT"===m?"PREVIEW_FORM":"ASSIGN_ROLE")},V=function(e){null!==p&&void 0!==p&&p.includes(null===e||void 0===e?void 0:e._id)?(d((function(n){return null===n||void 0===n?void 0:n.filter((function(n){return(null===n||void 0===n?void 0:n._id)!==(null===e||void 0===e?void 0:e._id)}))})),v((function(n){return null===n||void 0===n?void 0:n.filter((function(n){return n!==(null===e||void 0===e?void 0:e._id)}))}))):(d((function(n){return n?[].concat((0,t.Z)(n),[e]):[e]})),v((function(n){return n?[].concat((0,t.Z)(n),[null===e||void 0===e?void 0:e._id]):[null===e||void 0===e?void 0:e._id]})))};return(0,S.jsx)(g.Z,{onClose:$,children:(0,S.jsxs)("div",{className:x.Z.assign_role_container,children:[(0,S.jsxs)("section",{className:x.Z.assign_role_title,style:{position:"relative"},children:[(0,S.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:$,alt:"back icon"}),(0,S.jsx)("h6",{children:f("assign_role_to_moderator")}),(0,S.jsxs)("button",{className:x.Z.select_btn,onClick:function(){i("EDIT"===m?"PREVIEW_FORM":"ONE_TAB_ACCESS"===_?"ASSIGN_ROLE":"MODERATOR_PREWVIEW")},children:[null!==(n=null===p||void 0===p?void 0:p.length)&&void 0!==n?n:""," "," ",f("select")]})]}),(0,S.jsx)(u.Z,{customStyle:{width:"100%"}}),null===k||void 0===k?void 0:k.map((function(e,n){var i,t,l,o,a,s;return(null===k||void 0===k?void 0:k.length)===n+1?(0,S.jsxs)("div",{className:null!==p&&void 0!==p&&p.includes(null===e||void 0===e?void 0:e._id)?"".concat(x.Z.application_card," ").concat(x.Z.application_card_active):x.Z.application_card,ref:R,onClick:function(){return V(e)},children:[(0,S.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,S.jsxs)("section",{className:x.Z.application_card_text,children:[(0,S.jsx)("h6",{children:null!==(i=null===e||void 0===e?void 0:e.applicationName)&&void 0!==i?i:""}),(0,S.jsxs)("div",{className:x.Z.application_card_text_bottom,children:[(0,S.jsx)("p",{children:null!==(t=null===e||void 0===e||null===(l=e.applicationDepartment)||void 0===l?void 0:l.dName)&&void 0!==t?t:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,S.jsx)("p",{children:Z()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id):(0,S.jsxs)("div",{className:null!==p&&void 0!==p&&p.includes(null===e||void 0===e?void 0:e._id)?"".concat(x.Z.application_card," ").concat(x.Z.application_card_active):x.Z.application_card,onClick:function(){return V(e)},children:[(0,S.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,S.jsxs)("section",{className:x.Z.application_card_text,children:[(0,S.jsx)("h6",{children:null!==(o=null===e||void 0===e?void 0:e.applicationName)&&void 0!==o?o:""}),(0,S.jsxs)("div",{className:x.Z.application_card_text_bottom,children:[(0,S.jsx)("p",{children:null!==(a=null===e||void 0===e||null===(s=e.applicationDepartment)||void 0===s?void 0:s.dName)&&void 0!==a?a:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,S.jsx)("p",{children:Z()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id)})),U&&(0,S.jsx)(r.Z,{})]})})},C=function(e){var n,i,t=e.instituteId,s=e.admissionId,d=e.onClose,r=e.onRefetchWhenAdd,j=e.openModeratorMenu,Z=e.openAs,y=e.onEdit,C=(0,a.$G)().t,I=(0,o.useState)("EDIT"===Z?"PREVIEW_FORM":"OPEN_STAFF_LIST"),E=(0,l.Z)(I,2),P=E[0],T=E[1],R=(0,o.useState)("EDIT"===Z?null===j||void 0===j?void 0:j.access_staff:""),O=(0,l.Z)(R,2),D=O[0],w=O[1],k=(0,o.useState)({mod_role:"EDIT"===Z?null===j||void 0===j?void 0:j.access_role:"",sid:"EDIT"===Z?null===j||void 0===j||null===(n=j.access_staff)||void 0===n?void 0:n._id:"",app_array:[],one_tab:""}),F=(0,l.Z)(k,2),M=F[0],L=F[1],U=(0,o.useState)("EDIT"===Z?null===j||void 0===j?void 0:j.access_application:[]),B=(0,l.Z)(U,2),q=B[0],G=B[1],J=(0,o.useState)([]),W=(0,l.Z)(J,2),$=W[0],V=W[1],H=(0,c.z_)(),Y=(0,l.Z)(H,1)[0];(0,o.useEffect)((function(){if("EDIT"===Z){var e;w(null===j||void 0===j?void 0:j.access_staff),G(null===j||void 0===j?void 0:j.access_application);var n,i=[],t=(0,p.Z)(null===j||void 0===j?void 0:j.access_application);try{for(t.s();!(n=t.n()).done;){var l=n.value;i.push(null===l||void 0===l?void 0:l._id)}}catch(o){t.e(o)}finally{t.f()}V(i),L({mod_role:null===j||void 0===j?void 0:j.access_role,sid:null===j||void 0===j||null===(e=j.access_staff)||void 0===e?void 0:e._id,app_array:i}),T("PREVIEW_FORM")}}),[Z]);var z=function(){T("OPEN_STAFF_LIST")},Q=function(e){L((function(n){return(0,v.Z)((0,v.Z)({},n),{},{mod_role:"Fee receipt authority"===e?"ALL_FEE_ACCESS":"Application Manager"===e?"MULTI_APP_ACCESS":"Enquiries Section"===e?"INQUIRY_ACCESS":"Scholarship Manager"===e?"SCHOLARSHIP_ACCESS":"Excess Fee Refund"===e?"REFUND_ACCESS":"Pending Fee Manager"===e?"PENDING_FEE_ACCESS":"Tab Authority"===e?"ONE_TAB_ACCESS":"Data Export Authority"===e?"DATA_EXPORT_ACCESS":""})}))},X=function(){T("LOADING"),Y({aid:s,active_tab:M.one_tab,addModerator:"MULTI_APP_ACCESS"===(null===M||void 0===M?void 0:M.mod_role)||"ONE_TAB_ACCESS"===(null===M||void 0===M?void 0:M.mod_role)?{mod_role:M.mod_role,sid:M.sid,app_array:$}:M}).then((function(){r(),T(""),d()})).catch({})};return(0,S.jsxs)(S.Fragment,{children:["OPEN_STAFF_LIST"===P&&(0,S.jsx)(m.default,{assignHead:"OPEN_STAFF_LIST"===P,headSelect:function(e){w(e),L((function(n){return(0,v.Z)((0,v.Z)({},n),{},{sid:null===e||void 0===e?void 0:e._id})})),T("EDIT"===Z?"PREVIEW_FORM":"ASSIGN_ROLE")},title:C("staff_list"),onClose:d,instituteId:t,viewAs:"ADMISSION_ADMIN"}),"ASSIGN_ROLE"===P&&(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(g.Z,{onClose:z,children:(0,S.jsxs)("div",{className:x.Z.assign_role_container,children:[(0,S.jsxs)("section",{className:x.Z.assign_role_title,children:[(0,S.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:z,alt:"back icon"}),(0,S.jsx)("h6",{children:C("assign_role_to_moderator")})]}),(0,S.jsx)(u.Z,{customStyle:{width:"100%"}}),(0,S.jsxs)("section",{className:x.Z.selected_staff_container,children:[(0,S.jsx)("img",{src:null!==D&&void 0!==D&&D.staffProfilePhoto?"".concat(h.yI,"/").concat(null===D||void 0===D?void 0:D.staffProfilePhoto):"/images/demo_users/user1.svg",alt:"staff profile avatar"}),(0,S.jsxs)("div",{className:x.Z.selected_staff_text,children:[(0,S.jsx)("h6",{children:"".concat(null===D||void 0===D?void 0:D.staffFirstName," ").concat(null!==(i=null===D||void 0===D?void 0:D.staffMiddleName)&&void 0!==i?i:""," ").concat(null===D||void 0===D?void 0:D.staffLastName)}),(0,S.jsxs)("p",{children:[C("index_number"),null===D||void 0===D?void 0:D.staffROLLNO]})]})]}),(0,S.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,S.jsx)(_.Z,{selectLabel:C("select_role_of_moderator"),selectedValue:C("please_select_role"),options:["Fee receipt authority","Application Manager","Enquiries Section","Scholarship Manager","Excess Fee Refund","Pending Fee Manager","Tab Authority","Data Export Authority"],value:"ALL_FEE_ACCESS"===(null===M||void 0===M?void 0:M.mod_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===M||void 0===M?void 0:M.mod_role)?"Application Manager":"INQUIRY_ACCESS"===(null===M||void 0===M?void 0:M.mod_role)?"Enquiries Section":"SCHOLARSHIP_ACCESS"===(null===M||void 0===M?void 0:M.mod_role)?"Scholarship Manager":"REFUND_ACCESS"===(null===M||void 0===M?void 0:M.mod_role)?"Excess Fee Refund":"PENDING_FEE_ACCESS"===(null===M||void 0===M?void 0:M.mod_role)?"Pending Fee Manager":"ONE_TAB_ACCESS"===(null===M||void 0===M?void 0:M.mod_role)?"Tab Authority":"DATA_EXPORT_ACCESS"===(null===M||void 0===M?void 0:M.mod_role)?"Data Export Authority":"",onClick:Q}),"ONE_TAB_ACCESS"===M.mod_role&&(0,S.jsx)(_.Z,{selectLabel:C("select_tab_role"),selectedValue:C("please_select_role"),options:["Application","Selected","Confirmed","Allotted","Cancelled"],value:null===M||void 0===M?void 0:M.one_tab,onClick:function(e){L((function(n){return(0,v.Z)((0,v.Z)({},n),{},{one_tab:e})}))}}),"MULTI_APP_ACCESS"===M.mod_role?(0,S.jsxs)("button",{className:x.Z.select_application_btn,onClick:function(){return T("SELECT_APPLICATION")},children:[(0,S.jsx)("div",{children:C("moderator_select_application")}),(0,S.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}):(0,S.jsxs)("button",{className:x.Z.assign_btn,onClick:X,children:[C("assign")," "]})]})]})})}),"SELECT_APPLICATION"===P&&(0,S.jsx)(b,{admissionId:s,setActivePopup:T,setSelectedApplication:G,selectedApplication:q,setSelectedApplicationId:V,selectedApplicationId:$,openAs:Z,role:M.mod_role}),"MODERATOR_PREWVIEW"===P&&(0,S.jsx)(N,{setActivePopup:T,selectedApplication:q,selectedStaff:D,moderatorState:M,onAssignModerator:X}),"PREVIEW_FORM"===P&&(0,S.jsx)(A,{onCloseEdit:function(){d()},setActivePopup:T,selectedStaff:D,moderatorState:M,onSelectRole:Q,onUpdateModerator:function(){y(M,$),d()},selectedApplication:q}),"LOADING"===P&&(0,S.jsx)(f.Z,{})]})},I=i(12072),E=i(84489),P=i(87049),T=function(e){var n=e.onClose,i=e.admissionId,t=e.onRefetch,a=e.openModeratorMenu,s=e.instituteId,d=(0,o.useState)(!1),r=(0,l.Z)(d,2),u=r[0],v=r[1],p=(0,o.useState)(!1),m=(0,l.Z)(p,2),_=m[0],h=m[1],g=(0,c.vh)(),x=(0,l.Z)(g,1)[0],j=(0,c.Pn)(),Z=(0,l.Z)(j,1)[0];return(0,S.jsx)(S.Fragment,{children:_?(0,S.jsx)(C,{onClose:function(){return h(!1)},admissionId:i,instituteId:s,onRefetch:t,openAs:"EDIT",openModeratorMenu:a,onEdit:function(e,i){v((function(e){return!e})),h(!1),Z({modId:null===a||void 0===a?void 0:a._id,active_tab:null===e||void 0===e?void 0:e.one_tab,updateModerator:{role:null===e||void 0===e?void 0:e.mod_role,staffId:null===e||void 0===e?void 0:e.sid,app_array:"MULTI_APP_ACCESS"===(null===e||void 0===e?void 0:e.mod_role)||"MULTI_APP_ACCESS"===(null===e||void 0===e?void 0:e.mod_role)?i:[]}}).then((function(){t(),v((function(e){return!e})),n()})).catch({})}}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(E.Z,{onClose:n}),(0,S.jsxs)(I.Z,{customStyle:{zIndex:"1200"},children:[(0,S.jsxs)("div",{className:P.Z.edit_modal_container,style:{width:"200px"},children:[(0,S.jsx)("h6",{className:P.Z.edit,onClick:function(){return h((function(e){return!e}))},children:"Edit"}),(0,S.jsx)("h6",{className:P.Z.remove,onClick:function(){v((function(e){return!e})),x({aid:i,modId:null===a||void 0===a?void 0:a._id}).then((function(){t(),n(),v((function(e){return!e}))})).catch({})},children:"Delete"})]}),u&&(0,S.jsx)(f.Z,{})]})]})})},R=function(e){var n,i,t,l,o,s,d,c,r,u,v,p=e.moderator,m=e.setOpenModeratorMenu,_=(0,a.$G)().t;return(0,S.jsxs)("div",{className:x.Z.moderator_card,children:[(0,S.jsx)("img",{src:null!==p&&void 0!==p&&null!==(n=p.access_staff)&&void 0!==n&&n.staffProfilePhoto?"".concat(h.yI,"/").concat(null===p||void 0===p||null===(i=p.access_staff)||void 0===i?void 0:i.staffProfilePhoto):"/images/demo_users/user1.svg",alt:"moderator avatar"}),(0,S.jsxs)("section",{className:x.Z.moderator_card_text_container,children:[(0,S.jsx)("h6",{children:"".concat(null===p||void 0===p||null===(t=p.access_staff)||void 0===t?void 0:t.staffFirstName," ").concat(null!==(l=null===p||void 0===p||null===(o=p.access_staff)||void 0===o?void 0:o.staffMiddleName)&&void 0!==l?l:""," ").concat(null===p||void 0===p||null===(s=p.access_staff)||void 0===s?void 0:s.staffLastName)}),(0,S.jsxs)("p",{children:[_("index_number"),null===p||void 0===p||null===(d=p.access_staff)||void 0===d?void 0:d.staffROLLNO]}),(0,S.jsx)("p",{children:"ALL_FEE_ACCESS"===(null===p||void 0===p?void 0:p.access_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===p||void 0===p?void 0:p.access_role)?"Application Manager":"INQUIRY_ACCESS"===(null===p||void 0===p?void 0:p.access_role)?"Enquiries Section":"SCHOLARSHIP_ACCESS"===(null===p||void 0===p?void 0:p.access_role)?"Scholarship Manager":"REFUND_ACCESS"===(null===p||void 0===p?void 0:p.access_role)?"Access Fee Moderator":"PENDING_FEE_ACCESS"===(null===p||void 0===p?void 0:p.access_role)?"Pending Fee Manager":"ONE_TAB_ACCESS"===(null===p||void 0===p?void 0:p.access_role)?"Application"===(null===p||void 0===p||null===(c=p.active_tab)||void 0===c?void 0:c.role)?"Admission Application Tab":"Selected"===(null===p||void 0===p||null===(r=p.active_tab)||void 0===r?void 0:r.role)?"Admission Selected Tab":"Confirmed"===(null===p||void 0===p||null===(u=p.active_tab)||void 0===u?void 0:u.role)?"Admission Confirmed Tab":"Allotted"===(null===p||void 0===p||null===(v=p.active_tab)||void 0===v?void 0:v.role)?"Admission Allotted Tab":"Admission Cancelled Tab":"DATA_EXPORT_ACCESS"===(null===p||void 0===p?void 0:p.access_role)?"Data Export Authority":""})]}),(0,S.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(){return m(p)},className:x.Z.menu_icon,title:"Menu"})]})},O=i(65543),D=function(e){var n=e.instituteId,i=e.admissionId,v=(0,a.$G)().t,p=(0,d.s0)(),m=(0,o.useState)(!1),_=(0,l.Z)(m,2),f=_[0],h=_[1],g=(0,o.useState)(""),j=(0,l.Z)(g,2),Z=j[0],N=j[1],A=(0,s.YD)(),y=(0,l.Z)(A,2),b=y[0],I=y[1],E=(0,o.useState)(1),P=(0,l.Z)(E,2),D=P[0],w=P[1],k=(0,o.useState)(!0),F=(0,l.Z)(k,2),M=F[0],L=F[1],U=(0,o.useState)(!1),B=(0,l.Z)(U,2),q=B[0],G=B[1],J=(0,o.useState)(!0),W=(0,l.Z)(J,2),$=W[0],V=W[1],H=(0,o.useState)([]),Y=(0,l.Z)(H,2),z=Y[0],Q=Y[1],X=(0,c.fW)({data:{aid:i,page:D,limit:10},skip:!i}),K=X.getModeratorByAdmissionAdmin,ee=X.getModeratorByAdmissionAdminRefetch,ne=(0,O.u)().scrollToTop;(0,o.useEffect)((function(){ne()}),[]),(0,o.useEffect)((function(){i&&(V(!0),ee())}),[i,D,ee]),(0,o.useEffect)((function(){I&&M&&w((function(e){return e+1}))}),[I,M]),(0,o.useEffect)((function(){var e,n;q?(Q(null===K||void 0===K?void 0:K.all_mods),G(!1),V(!1)):null!==K&&void 0!==K&&K.all_mods?(Q((function(e){var n,i;return null===(n=(0,t.Z)(new Set(null===(i=[].concat((0,t.Z)(e),(0,t.Z)(null===K||void 0===K?void 0:K.all_mods)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),V(!1)):0===(null===K||void 0===K||null===(n=K.all_mods)||void 0===n?void 0:n.length)&&V(!1);10===(null===K||void 0===K||null===(e=K.all_mods)||void 0===e?void 0:e.length)?L(!0):L(!1)}),[null===K||void 0===K?void 0:K.all_mods]);var ie=function(){G(!0),w(1),V(!0),ee()};return(0,S.jsxs)("div",{className:x.Z.moderator_container,children:[(0,S.jsxs)("section",{className:x.Z.moderator_container_title,children:[(0,S.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){p(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,S.jsx)("h6",{children:v("admission_moderators")})]}),(0,S.jsx)(u.Z,{customStyle:{width:"100%"}}),(0,S.jsx)("h6",{className:x.Z.add_new_moderator,onClick:function(){return h(!0)},children:v("add_new_moderator")}),(0,S.jsxs)("div",{className:x.Z.refund_list,children:[null===z||void 0===z?void 0:z.map((function(e,n){return(null===z||void 0===z?void 0:z.length)===n+1?(0,S.jsx)("div",{ref:b,children:(0,S.jsx)(R,{moderator:e,setOpenModeratorMenu:N})},null===e||void 0===e?void 0:e._id):(0,S.jsx)(R,{moderator:e,setOpenModeratorMenu:N},null===e||void 0===e?void 0:e._id)})),f&&(0,S.jsx)(C,{onClose:function(){return h((function(e){return!e}))},instituteId:n,admissionId:i,onRefetchWhenAdd:ie}),Z&&(0,S.jsx)(T,{admissionId:i,instituteId:n,onRefetch:ie,onClose:function(){return N("")},openModeratorMenu:Z}),$&&(0,S.jsx)(r.Z,{})]})]})}},77308:function(e,n,i){i.d(n,{Z:function(){return O}});var t=i(72791),l=i(16871),o=i(93433),a=i(29439),s=i(29017),d=i(23441),c=i(78687),r=i(763),u=i(98094),v=i(15961),p=i(39230),m=i(1413),_=i(36665),f=i(33399),h=i(72952),g=i(98734),x=i(80184),j=function(e){var n=e.onClose,i=e.onRefetch,l=e.aid,o=(0,p.$G)().t,d=(0,t.useState)(!1),c=(0,a.Z)(d,2),r=c[0],v=c[1],j=(0,s.Rr)(),Z=(0,a.Z)(j,1)[0],S=(0,t.useState)({alarm_mode:"APP_NOTIFICATION",content:""}),N=(0,a.Z)(S,2),A=N[0],y=N[1];return(0,x.jsxs)(_.Z,{onClose:n,children:[(0,x.jsx)("div",{className:f.Z.add_category_modal,style:{width:"30rem",minHeight:"10rem",height:"fit-content"},children:(0,x.jsxs)("section",{className:f.Z.fee_middle_section_container,style:{marginBottom:"1.2rem"},children:[(0,x.jsx)("h6",{style:{fontSize:"20px",fontWeight:"600"},children:o("Notify_about_Outstanding_Dues")}),(0,x.jsx)(u.Z,{customStyle:{width:"100%",marginTop:"0.7rem",marginBottom:"1rem"}}),(0,x.jsxs)("section",{className:f.Z.notify_container,onClick:function(){return y((function(e){return(0,m.Z)((0,m.Z)({},e),{},{alarm_mode:"APP_NOTIFICATION"})}))},children:[(0,x.jsx)("img",{src:"APP_NOTIFICATION"===A.alarm_mode?"/images/department/radio-blue-icon.svg":"/images/department/radio-gray-icon.svg",alt:"icon"}),(0,x.jsxs)("div",{className:f.Z.notify_text,children:[(0,x.jsx)("h6",{children:o("Notify_with_In_app_Notification")}),(0,x.jsx)("p",{children:o("Notify_with_In_app_Notification_note")})]})]}),(0,x.jsxs)("section",{className:f.Z.notify_container,onClick:function(){return y((function(e){return(0,m.Z)((0,m.Z)({},e),{},{alarm_mode:"EMAIL_NOTIFICATION"})}))},children:[(0,x.jsx)("img",{src:"EMAIL_NOTIFICATION"===A.alarm_mode?"/images/department/radio-blue-icon.svg":"/images/department/radio-gray-icon.svg",alt:"icon"}),(0,x.jsxs)("div",{className:f.Z.notify_text,children:[(0,x.jsx)("h6",{children:o("Notify_On_Email_and_SMS")}),(0,x.jsx)("p",{children:o("Notify_On_Email_and_SMS_note")})]})]}),"EMAIL_NOTIFICATION"===A.alarm_mode&&(0,x.jsx)(h.Z,{labelText:o("email_content"),placeholder:o("email_content_placeholder"),name:"content",value:A.content,type:"text",onChange:function(e){return y((function(n){return(0,m.Z)((0,m.Z)({},n),{},{content:e.target.value})}))}}),(0,x.jsx)("button",{onClick:function(){l&&A.alarm_mode&&(v((function(e){return!e})),Z({aid:l,alarm_mode:A.alarm_mode,content:A.content}).then((function(){i(),v((function(e){return!e})),n()})).catch({}))},className:f.Z.fee_middle_confirm_button,style:{marginTop:"4rem"},children:o("confirm")})]})}),r&&(0,x.jsx)(g.Z,{})]})},Z=i(49807),S=i(84959),N=function(e){var n=e.aid,i=e.instituteId,o=e.isEnable,d=e.onRefetch,c=e.setApplyFilter,r=e.applyFilter,m=e.isApplicable,_=e.pageOpenAs,f=e.admissionId,h=e.children,N=(0,p.$G)().t,A=(0,t.useState)(!1),y=(0,a.Z)(A,2),b=y[0],C=y[1],I=(0,t.useState)(!1),E=(0,a.Z)(I,2),P=E[0],T=E[1],R=(0,l.s0)(),O=(0,t.useState)(!1),D=(0,a.Z)(O,2),w=D[0],k=D[1],F=(0,S.FL)(),M=(0,a.Z)(F,1)[0],L=(0,s._g)(),U=(0,a.Z)(L,1)[0];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("section",{className:v.Z.moderator_container_title,children:[(0,x.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){R(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,x.jsxs)("div",{className:v.Z.with_search,children:[(0,x.jsx)("h6",{children:N("admission_remaining_fees")}),(0,x.jsxs)("div",{className:v.Z.search_container_filter,children:[(0,x.jsx)("section",{className:v.Z.search_container,children:(0,x.jsxs)("div",{className:v.Z.search_container_input,children:[(0,x.jsx)("img",{className:v.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),h]})}),(0,x.jsxs)("div",{className:v.Z.os_filter_container,children:[m?"":(0,x.jsx)("img",{src:"/images/filter-blue-icon.svg",alt:"filter icon",onClick:function(){return T(!0)}}),"INSTITUTE"===_?(0,x.jsx)("label",{htmlFor:"uploadExcel",children:(0,x.jsx)("img",{src:"/images/member_tab/subject/subject-excel-icon.svg",alt:"excel icon",style:{cursor:"pointer",height:"1.5rem"}})}):null,(0,x.jsx)("button",{className:v.Z.os_reminder,onClick:function(){return C(!0)},disabled:!o,style:{opacity:o?"1":"0.5"},children:N("outstanding_reminder")})]})]})]})]}),(0,x.jsx)(u.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),b&&(0,x.jsx)(j,{onClose:function(){return C(!1)},aid:n,onRefetch:d}),P&&(0,x.jsx)(Z.Z,{onClose:function(){return T(!1)},instituteId:i,setApplyFilter:c,applyFilter:r}),(0,x.jsx)("input",{type:"file",id:"uploadExcel",accept:".xlsx",onChange:function(e){var n;if(null!==(n=e.target.files)&&void 0!==n&&n.length&&f){k(!0);var i=new FormData;i.append("file",e.target.files[0]),M({fileUpload:i}).then((function(e){var n,i;null!==(n=e.data)&&void 0!==n&&n.imageKey?U({aid:f,excelFile:{excel_file:null===(i=e.data)||void 0===i?void 0:i.imageKey}}).then((function(){k(!1)})).catch({}):k(!1)})).catch({})}},style:{display:"none"}}),w&&(0,x.jsx)(g.Z,{})]})},A=i(47167),y=function(e){var n,i=e.carryParentState,t=e.pageOpenAs,o=(0,p.$G)().t,a=(0,l.TH)(),s=[{name:o("os_fees"),id:0,url:"member/admission?a=pending"},{name:o("applicable_os"),id:1,url:"member/admission?a=pending&applicable"}],d=[{name:o("os_fees"),id:0,url:"admission?a=pending"},{name:o("applicable_os"),id:1,url:"admission?a=pending&applicable"}];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(A.Z,{tabList:"INSTITUTE"===t?d:s,activeIndexTab:"pending"===(null===(n=a.search)||void 0===n?void 0:n.substring(3))?0:1,showAs:!0,customStyleTab:{width:"100%"},customStyleLink:{width:"50%"},carryParentState:i}),(0,x.jsx)(u.Z,{customStyle:{width:"100%",marginBottom:"0.5rem"}})]})},b=i(69721),C=i(85161),I=function(e){var n,i,t,o=e.remainData,a=e.is_applicable,s=(0,p.$G)().t,d=(0,l.UO)(),c=(0,l.s0)();return(0,x.jsxs)("div",{className:C.Z.item,onClick:function(){c("/q/".concat(d.username,"/student/profile/admission"),{state:{sid:null===o||void 0===o?void 0:o._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,x.jsxs)("div",{className:C.Z.subItem,children:[(0,x.jsx)("img",{alt:"Student Avatar",src:null!==o&&void 0!==o&&o.studentProfilePhoto?"".concat(b.yI,"/").concat(null===o||void 0===o?void 0:o.studentProfilePhoto):"/images/demo_users/user1.svg",loading:"lazy"}),(0,x.jsxs)("div",{className:C.Z.text,children:[(0,x.jsx)("h6",{children:"".concat(o.studentFirstName," ").concat(o.studentMiddleName?o.studentMiddleName:""," ").concat(o.studentLastName)}),(0,x.jsxs)("p",{children:[s("gr_number"),null!==(n=null===o||void 0===o?void 0:o.studentGRNO)&&void 0!==n?n:""," ",", ",null!==(i=null===o||void 0===o||null===(t=o.department)||void 0===t?void 0:t.dName)&&void 0!==i?i:""]})]})]}),(0,x.jsxs)("div",{className:C.Z.text,children:[a?(0,x.jsxs)("h6",{children:["Rs. ",null===o||void 0===o?void 0:o.applicable_fees_pending]}):(0,x.jsxs)("h6",{children:["Rs. ",null===o||void 0===o?void 0:o.admissionRemainFeeCount]}),(0,x.jsx)("p",{children:s("pending_fees")})]})]})},E=i(65543),P=i(11105),T=function(e){var n=e.isEnable,i=e.instituteId,l=e.onRefetch,u=e.carryParentState,v=e.pageOpenAs,m=e.admissionId,_=(0,p.$G)().t,f=(0,c.useSelector)((function(e){return e.admissionChange})),h=(0,t.useState)(!0),g=(0,a.Z)(h,2),j=g[0],Z=g[1],S=(0,t.useState)(""),A=(0,a.Z)(S,2),b=A[0],C=A[1],T=(0,t.useState)(1),R=(0,a.Z)(T,2),O=R[0],D=R[1],w=(0,d.YD)(),k=(0,a.Z)(w,2),F=k[0],M=k[1],L=(0,t.useState)([]),U=(0,a.Z)(L,2),B=U[0],q=U[1],G=(0,t.useState)(!0),J=(0,a.Z)(G,2),W=J[0],$=J[1],V=(0,E.u)().scrollToTop,H=(0,s.ck)({data:{aid:null!==f&&void 0!==f&&f.aid?null===f||void 0===f?void 0:f.aid:m,page:O,limit:10,search:b,flow:"Applicable_Fees_Query"},skip:null!==f&&void 0!==f&&f.aid?!(null!==f&&void 0!==f&&f.aid):!m}),Y=H.allRemainingList,z=H.allRemainingListRefetch;(0,t.useEffect)((function(){M&&j&&D((function(e){return e+1}))}),[M,j]),(0,t.useEffect)((function(){(null!==f&&void 0!==f&&f.aid||m)&&($(!0),z())}),[O,null===f||void 0===f?void 0:f.aid,m,b,z]),(0,t.useEffect)((function(){var e,n;b?(q(null===Y||void 0===Y?void 0:Y.remain),$(!1)):null!==Y&&void 0!==Y&&Y.remain?(q(1===O?null===Y||void 0===Y?void 0:Y.remain:function(e){return(0,o.Z)(new Set([].concat((0,o.Z)(e),(0,o.Z)(null===Y||void 0===Y?void 0:Y.remain)).map(JSON.stringify))).map(JSON.parse)}),$(!1)):0===(null===Y||void 0===Y||null===(n=Y.remain)||void 0===n?void 0:n.length)&&$(!1);10===(null===Y||void 0===Y||null===(e=Y.remain)||void 0===e?void 0:e.length)?Z(!0):Z(!1)}),[null===Y||void 0===Y?void 0:Y.remain]);var Q=(0,t.useCallback)((0,r.debounce)((function(e){return C(e)}),500),[]);return(0,t.useEffect)((function(){V()}),[V]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(N,{aid:null!==f&&void 0!==f&&f.aid?null===f||void 0===f?void 0:f.aid:m,isEnable:n,onRefetch:l,instituteId:i,isApplicable:!0,pageOpenAs:v,admissionId:null!==f&&void 0!==f&&f.aid?null===f||void 0===f?void 0:f.aid:m,children:(0,x.jsx)("input",{type:"text",placeholder:_("search-label"),onChange:function(e){Q(e.target.value),e.target.value||(D(1),z(),$(!0))}})}),(0,x.jsx)(y,{carryParentState:u,pageOpenAs:v}),null===B||void 0===B?void 0:B.map((function(e,n){return(null===B||void 0===B?void 0:B.length)===n+1?(0,x.jsx)("div",{ref:F,children:(0,x.jsx)(I,{remainData:e,is_applicable:!0})},n):(0,x.jsx)(I,{remainData:e,is_applicable:!0},n)})),W&&(0,x.jsx)(P.Z,{status:"white"})]})},R=function(e){var n,i=e.isEnable,l=e.instituteId,u=e.onRefetch,v=e.carryParentState,_=e.pageOpenAs,f=e.admissionId,h=(0,p.$G)().t,g=(0,c.useSelector)((function(e){return e.admissionChange})),j=(0,t.useState)(!0),Z=(0,a.Z)(j,2),S=Z[0],A=Z[1],b=(0,t.useState)(""),C=(0,a.Z)(b,2),T=C[0],R=C[1],O=(0,t.useState)(1),D=(0,a.Z)(O,2),w=D[0],k=D[1],F=(0,d.YD)(),M=(0,a.Z)(F,2),L=M[0],U=M[1],B=(0,t.useState)([]),q=(0,a.Z)(B,2),G=q[0],J=q[1],W=(0,t.useState)(!0),$=(0,a.Z)(W,2),V=$[0],H=$[1],Y=(0,t.useState)({depart_arr:[],batch_arr:[],master_arr:[],gender:"",cast_category:"",filter_by:""}),z=(0,a.Z)(Y,2),Q=z[0],X=z[1],K=(0,t.useState)(!1),ee=(0,a.Z)(K,2),ne=ee[0],ie=ee[1],te=(0,E.u)().scrollToTop,le=(0,s.aG)(),oe=(0,a.Z)(le,1)[0],ae=(0,s.lR)({data:{aid:null!==g&&void 0!==g&&g.aid?null===g||void 0===g?void 0:g.aid:f,flow:"Admission_Filter"},skip:null!==g&&void 0!==g&&g.aid?!(null!==g&&void 0!==g&&g.aid):!f}),se=ae.getPendingCustomFilterByAdmission,de=ae.getPendingCustomFilterByAdmissionRefetch;(0,t.useEffect)((function(){(null!==g&&void 0!==g&&g.aid||f)&&de()}),[null===g||void 0===g?void 0:g.aid,f,de]);var ce=(0,t.useCallback)((function(){ne&&oe({aid:null!==g&&void 0!==g&&g.aid?null===g||void 0===g?void 0:g.aid:f,page:w,limit:10,search:T,flow:"All_Pending_Fees_Query",filter_by:Q.filter_by,filterData:(0,m.Z)({},Q)}).then((function(e){var n;if(null!==(n=e.data)&&void 0!==n&&n.remain){var i,t,l,a,s,d;if(T)J(null===(l=e.data)||void 0===l?void 0:l.remain),H(!1);else if(null!==(a=e.data)&&void 0!==a&&a.remain){var c;if(1===w)J(null===(c=e.data)||void 0===c?void 0:c.remain);else J((function(n){var i;return(0,o.Z)(new Set([].concat((0,o.Z)(n),(0,o.Z)(null===(i=e.data)||void 0===i?void 0:i.remain)).map(JSON.stringify))).map(JSON.parse)}));H(!1)}else 0===(null===(s=e.data)||void 0===s||null===(d=s.remain)||void 0===d?void 0:d.length)&&H(!1);10===(null===(i=e.data)||void 0===i||null===(t=i.remain)||void 0===t?void 0:t.length)?A(!0):A(!1)}})).catch({})}),[T,w,null===g||void 0===g?void 0:g.aid,f,Q,ne]);(0,t.useEffect)((function(){U&&S&&k((function(e){return e+1}))}),[U,S]),(0,t.useEffect)((function(){(null!==g&&void 0!==g&&g.aid||f)&&(H(!0),ce())}),[w,null===g||void 0===g?void 0:g.aid,f,T,ce]),(0,t.useEffect)((function(){k((function(e){return 1})),H(!0),ce()}),[Q,ce]),(0,t.useEffect)((function(){var e;if(null!==se&&void 0!==se&&null!==(e=se.ads_admin)&&void 0!==e&&e.pending_fee_custom_filter){var n,i=null===se||void 0===se||null===(n=se.ads_admin)||void 0===n?void 0:n.pending_fee_custom_filter;X({depart_arr:null===i||void 0===i?void 0:i.department,batch_arr:null===i||void 0===i?void 0:i.batch,master_arr:null===i||void 0===i?void 0:i.master,gender:null===i||void 0===i?void 0:i.gender,cast_category:null===i||void 0===i?void 0:i.cast_category,filter_by:""}),ie(!0)}}),[null===se||void 0===se||null===(n=se.ads_admin)||void 0===n?void 0:n.pending_fee_custom_filter]);var re=(0,t.useCallback)((0,r.debounce)((function(e){return R(e)}),500),[]);return(0,t.useEffect)((function(){te()}),[te]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(N,{aid:null!==g&&void 0!==g&&g.aid?null===g||void 0===g?void 0:g.aid:f,isEnable:i,onRefetch:u,instituteId:l,applyFilter:Q,setApplyFilter:X,pageOpenAs:_,admissionId:null!==g&&void 0!==g&&g.aid?null===g||void 0===g?void 0:g.aid:f,children:(0,x.jsx)("input",{type:"text",placeholder:h("search-label"),onChange:function(e){re(e.target.value),e.target.value||(k(1),ce(),H(!0))}})}),(0,x.jsx)(y,{carryParentState:v,pageOpenAs:_}),null===G||void 0===G?void 0:G.map((function(e,n){return(null===G||void 0===G?void 0:G.length)===n+1?(0,x.jsx)("div",{ref:L,children:(0,x.jsx)(I,{remainData:e})},n):(0,x.jsx)(I,{remainData:e},n)})),V&&(0,x.jsx)(P.Z,{status:"white"})]})};var O=function(e){var n,i=e.isEnable,t=e.instituteId,o=e.onRefetch,a=e.carryParentState,s=e.pageOpenAs,d=e.admissionId,c=(0,l.TH)();return(0,x.jsx)("div",{className:C.Z.remainingFees,children:"pending"===(null===(n=c.search)||void 0===n?void 0:n.substring(3))?(0,x.jsx)(R,{isEnable:i,carryParentState:a,onRefetch:o,instituteId:t,pageOpenAs:s,admissionId:d}):(0,x.jsx)(T,{isEnable:i,carryParentState:a,onRefetch:o,instituteId:t,pageOpenAs:s,admissionId:d})})}},45639:function(e,n){n.Z={universal_container:"UniversalTab_universal_container__uxTOR",universal_container_item:"UniversalTab_universal_container_item__M0pS7",universal_container_item_active:"UniversalTab_universal_container_item_active__3u3Wt"}},89792:function(e,n){n.Z={navbar:"AdmissionSiteInfo_navbar__3qPXl",bgContainer:"AdmissionSiteInfo_bgContainer__HnhyZ",container:"AdmissionSiteInfo_container__HIvsR",containercontent:"AdmissionSiteInfo_containercontent__waYaP",containerhead:"AdmissionSiteInfo_containerhead__iNq+5",site_tab_container:"AdmissionSiteInfo_site_tab_container__wjSD6",site_tab_container_h6:"AdmissionSiteInfo_site_tab_container_h6__qNLeR",site_tab_container_h6_active:"AdmissionSiteInfo_site_tab_container_h6_active__wXF-l",container_inner_content:"AdmissionSiteInfo_container_inner_content__+psu6",show_field:"AdmissionSiteInfo_show_field__KlpRB",leading_person_container:"AdmissionSiteInfo_leading_person_container__F193z",leading_person_text:"AdmissionSiteInfo_leading_person_text__ez8d8",update_btn:"AdmissionSiteInfo_update_btn__upn6L",add_contact_person:"AdmissionSiteInfo_add_contact_person__1g6EG",add_contact_person_btn:"AdmissionSiteInfo_add_contact_person_btn__Ltl0+",labelContainer:"AdmissionSiteInfo_labelContainer__5pjlx",label:"AdmissionSiteInfo_label__bXkjx",inputBox:"AdmissionSiteInfo_inputBox__TAj3q",add_supporting_member:"AdmissionSiteInfo_add_supporting_member__vHGpU",add_supporting_member_heading:"AdmissionSiteInfo_add_supporting_member_heading__Ssh+Y",flexItem50:"AdmissionSiteInfo_flexItem50__XAjqB",fileinputflexContainer:"AdmissionSiteInfo_fileinputflexContainer__eyo27",input_label:"AdmissionSiteInfo_input_label__qJwiD",labelspan:"AdmissionSiteInfo_labelspan__mHavW",formselect:"AdmissionSiteInfo_formselect__d7NSq",input_border_active:"AdmissionSiteInfo_input_border_active__zIRs+",genderh:"AdmissionSiteInfo_genderh__EG6HT",genderplaceholder:"AdmissionSiteInfo_genderplaceholder__a+Q8r",upIcon:"AdmissionSiteInfo_upIcon__w42RU",downIcon:"AdmissionSiteInfo_downIcon__9MVVe",site_theme:"AdmissionSiteInfo_site_theme__1-dJU",site_theme_header:"AdmissionSiteInfo_site_theme_header__x99NO",site_theme_container:"AdmissionSiteInfo_site_theme_container__2viTW",site_theme_icon:"AdmissionSiteInfo_site_theme_icon__eEXvZ"}},85161:function(e,n){n.Z={remainingFees:"RemainingFees_remainingFees__G74JQ",subItem:"RemainingFees_subItem__maJF6",item:"RemainingFees_item__2o1X9",text:"RemainingFees_text__JnUvj"}}}]);
//# sourceMappingURL=5722.fb908f70.chunk.js.map