"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[37641],{27302:(e,s,a)=>{a.d(s,{Z:()=>i});a(72791);var t=a(80272),l=a(80184);const i=e=>{let{message:s,customStyle:a}=e;return(0,l.jsx)("section",{style:{...a},className:t.Z.mark_container,children:s})}},57431:(e,s,a)=>{a.d(s,{Z:()=>i});a(72791);var t=a(80272),l=a(80184);const i=e=>{var s;let{valueLength:a,maxLength:i,customStyle:n}=e;return(0,l.jsxs)("section",{style:{...n},className:t.Z.string_container,children:[null!==(s=null===a||void 0===a?void 0:a.length)&&void 0!==s?s:0,"/",i]})}},50710:(e,s,a)=>{a.r(s),a.d(s,{default:()=>h});var t=a(72791);a(7135);const l={DModal:"CreateClass_DModal__pza9d",title:"CreateClass_title__CRjLH",input:"CreateClass_input__1Ym9U",mid:"CreateClass_mid__ti5ga",text:"CreateClass_text__ePxmn",btn:"CreateClass_btn__wnfka",notFound:"CreateClass_notFound__FilS6",item:"CreateClass_item__AXKu9",select:"CreateClass_select__E-7CD",tooltip:"CreateClass_tooltip__4Yui1",profileToolTip:"CreateClass_profileToolTip__dMV+T",triangle:"CreateClass_triangle__V7X33",triangleDisplay:"CreateClass_triangleDisplay__Rr4go",profilelist:"CreateClass_profilelist__5nZKb"};var i=a(5574),n=a(39230),c=a(33992),d=a(69721),o=a(49384),r=a(46876),u=a(57431),g=a(27302),v=a(80184);function _(e){let{options:s,switchOption:a,customStyle:t}=e;return(0,v.jsxs)("div",{className:l.profileToolTip,style:{...t},children:[(0,v.jsx)("div",{className:l.triangle}),(0,v.jsx)("div",{className:l.profilelist,children:null===s||void 0===s?void 0:s.map(((e,s)=>(0,v.jsx)("div",{value:e._id,onClick:()=>a(e),children:e.className},s)))})]})}const h=function(e){var s,a;let{departmentModal:h,hideModal:m,id:p,did:j,bid:C,edit:x,setEdit:T,editClass:f,onRefetch:b,isEditBy:N}=e;const{t:S}=(0,n.$G)(),[P,H]=(0,t.useState)(!1),[k,y]=(0,t.useState)(!0),[I,M]=(0,t.useState)(!1),[D,E]=(0,t.useState)(!1),[L,Z]=(0,t.useState)([]),[w,A]=(0,t.useState)(!1),[F,R]=(0,t.useState)(x&&(null===f||void 0===f?void 0:f.className)||S("select_standerd_")),[q,O]=(0,t.useState)({mcId:x&&(null===f||void 0===f?void 0:f.masterClassName)||"",classTitle:x&&(null===f||void 0===f?void 0:f.classTitle)||"",classHeadTitle:x&&(null===f||void 0===f?void 0:f.classHeadTitle)||"",sid:x&&(null===f||void 0===f||null===(s=f.classTeacher)||void 0===s?void 0:s._id)||"",aggregatePassingPercentage:x&&(null===f||void 0===f||null===(a=f.finalReportsSettings)||void 0===a?void 0:a.aggregatePassingPercentage)||"",optionalSubjectCount:x&&(null===f||void 0===f?void 0:f.optionalSubjectCount)||S("select_number_of_subject")}),[K,Y]=(0,t.useState)(!1),[B,Q]=(0,t.useState)(x&&(null===f||void 0===f?void 0:f.classTeacher)),{allClassMaster:U}=(0,c.tx)({data:{id:p,did:j},skip:p?!j:!p}),[V]=(0,c.u2)(),[X]=(0,c.pL)(),{oneDepartmentRefetch:z}=(0,c._C)({did:j,skip:!j});(0,t.useEffect)((()=>{var e,s;x&&f&&(O({mcId:(null===f||void 0===f?void 0:f.masterClassName)||"",classTitle:(null===f||void 0===f?void 0:f.classTitle)||"",classHeadTitle:(null===f||void 0===f?void 0:f.classHeadTitle)||"",sid:(null===f||void 0===f||null===(e=f.classTeacher)||void 0===e?void 0:e._id)||"",aggregatePassingPercentage:(null===f||void 0===f||null===(s=f.finalReportsSettings)||void 0===s?void 0:s.aggregatePassingPercentage)||0,optionalSubjectCount:(null===f||void 0===f?void 0:f.optionalSubjectCount)||S("select_number_of_subject")}),R((null===f||void 0===f?void 0:f.className)||"Please select standard"),Q(null===f||void 0===f?void 0:f.classTeacher))}),[x,f]),(0,t.useEffect)((()=>{null!==U&&void 0!==U&&U.classMaster&&Z(null===U||void 0===U?void 0:U.classMaster)}),[U]);const G=e=>{Q(e),O({...q,sid:e._id}),y(!0)};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(i.Z,{open:h,children:(0,v.jsxs)("div",{className:l.DModal,children:[(0,v.jsxs)("div",{className:l.title,children:[x?(0,v.jsx)("h5",{children:"Edit Class"}):(0,v.jsx)("h5",{children:S("add_class_n_place")}),(0,v.jsx)("img",{src:"/images/close-post-icon.svg",alt:"",onClick:()=>{m(!1),T(!1),R(S("select_standerd_")),O({mcId:"",classTitle:"",classHeadTitle:"",sid:"",aggregatePassingPercentage:0,optionalSubjectCount:S("select_number_of_subject")}),Q("")}})]}),(0,v.jsx)("div",{hidden:k,className:l.notFound,children:"Please Fill all details to create a Class"}),(0,v.jsxs)("div",{className:l.item,onClick:()=>M(!I),children:[(0,v.jsx)("h6",{children:S("select_standard_grade_place")}),(0,v.jsxs)("div",{className:l.select,children:[(0,v.jsx)("p",{children:F}),(0,v.jsx)("img",{src:"/images/select-icon.svg",alt:""})]}),I&&(0,v.jsx)("div",{className:l.tooltip,children:(0,v.jsx)(_,{options:L,switchOption:e=>{R(e.className),O({...q,mcId:e._id}),y(!0)}})})]}),(0,v.jsxs)("div",{className:l.input,children:[(0,v.jsx)("h6",{children:S("class_name")}),(0,v.jsx)("input",{type:"text",value:q.classTitle,onChange:e=>{var s;(null===(s=e.target.value)||void 0===s?void 0:s.length)<=45&&(O({...q,classTitle:e.target.value}),y(!0))},placeholder:"e.g. 6th A / FY BSC",required:!0}),(0,v.jsx)(u.Z,{maxLength:45,valueLength:q.classTitle})]}),(0,v.jsxs)("div",{className:l.mid,onClick:()=>Y(!0),children:[(0,v.jsx)("img",{src:null!==B&&void 0!==B&&B.staffProfilePhoto?"".concat(d.yI,"/").concat(B.staffProfilePhoto):"/images/avatar-icon.png",alt:""}),(0,v.jsxs)("div",{className:l.text,children:[(0,v.jsx)("h6",{children:B?"".concat(null===B||void 0===B?void 0:B.staffFirstName," ").concat((null===B||void 0===B?void 0:B.staffMiddleName)||""," ").concat(null===B||void 0===B?void 0:B.staffLastName):"".concat(S("assign_chead")," ").concat(S("optional"))}),(0,v.jsx)("p",{children:S("search_from_joined_list")})]})]}),(0,v.jsxs)("div",{className:l.input,children:[(0,v.jsx)("h6",{children:S("give_chead_title")}),(0,v.jsx)("input",{type:"text",value:q.classHeadTitle,onChange:e=>{var s;(null===(s=e.target.value)||void 0===s?void 0:s.length)<=40&&(O({...q,classHeadTitle:e.target.value}),y(!0))},required:!0,placeholder:S("class_head_example")}),(0,v.jsx)(u.Z,{maxLength:40,valueLength:q.classHeadTitle})]}),(0,v.jsxs)("div",{className:l.input,children:[(0,v.jsxs)("h6",{children:[S("pass_percentage")," ",S("optional")]}),(0,v.jsx)("input",{type:"text",value:q.aggregatePassingPercentage,onChange:e=>{+e.target.value<=100?(O({...q,aggregatePassingPercentage:+e.target.value}),y(!0)):A(!0)},placeholder:"E.g. 34"}),w&&(0,v.jsx)(g.Z,{message:"Mark is not greater than 100"})]}),(0,v.jsxs)("div",{className:l.item,onClick:()=>E((e=>!e)),children:[(0,v.jsx)("h6",{children:S("optional_subject")}),(0,v.jsxs)("div",{className:l.select,children:[(0,v.jsx)("p",{children:q.optionalSubjectCount}),(0,v.jsx)("img",{src:"/images/select-icon.svg",alt:""})]}),D&&(0,v.jsx)("div",{className:l.tooltip,children:(0,v.jsx)(_,{customStyle:{top:"561px",right:"-51px"},options:[{className:0},{className:1},{className:2},{className:3},{className:4},{className:5}],switchOption:e=>{O({...q,optionalSubjectCount:e.className}),y(!0)}})})]}),(0,v.jsxs)("button",{className:l.btn,onClick:()=>{if(q.mcId&&q.classTitle&&q.classHeadTitle)if(H(!0),x){var e;const s={mcId:q.mcId,classTitle:(null===f||void 0===f?void 0:f.classTitle)===q.classTitle?"":q.classTitle,classHeadTitle:(null===f||void 0===f?void 0:f.classHeadTitle)===q.classHeadTitle?"":q.classHeadTitle,classTeacher:(null===f||void 0===f||null===(e=f.classTeacher)||void 0===e?void 0:e._id)===q.sid?"":q.sid,aggregatePassingPercentage:+q.aggregatePassingPercentage,optionalSubjectCount:q.optionalSubjectCount===S("select_number_of_subject")?0:+q.optionalSubjectCount};X({classDetail:s,cid:null===f||void 0===f?void 0:f._id}).then((()=>{m(!1),H(!1),T(!1),z(),"DEPARTMENT_HEAD"===N&&b(),O({mcId:"",classTitle:"",classHeadTitle:"",sid:"",aggregatePassingPercentage:0,optionalSubjectCount:S("select_number_of_subject")}),Q("")})).catch({})}else V({classCreate:{mcId:q.mcId,classTitle:q.classTitle,classHeadTitle:q.classHeadTitle,sid:q.sid,aggregatePassingPercentage:q.aggregatePassingPercentage||0,optionalSubjectCount:q.optionalSubjectCount===S("select_number_of_subject")?0:+q.optionalSubjectCount},id:p,did:j,bid:C}).then((()=>{m(!1),H(!1),z(),O({mcId:"",classTitle:"",classHeadTitle:"",sid:"",aggregatePassingPercentage:0,optionalSubjectCount:"Please select no. of subjects one can choose"}),Q("")})).catch({});else y(!1)},disabled:P,children:[x?(0,v.jsx)("p",{children:"Update"}):(0,v.jsx)("p",{children:S("create")}),P&&(0,v.jsx)("div",{children:(0,v.jsx)(o.Z,{})})]})]})}),K&&("DEPARTMENT_HEAD"===N?(0,v.jsx)(r.default,{assignHead:K,headSelect:e=>{G(e),Y((e=>!e))},title:S("assign_chead"),onClose:()=>Y((e=>!e)),instituteId:p,viewAs:"ADMISSION_ADMIN"}):(0,v.jsx)(r.default,{assignHead:K,headSelect:G,title:S("assign_chead"),onClose:()=>Y((e=>!e))}))]})}},49384:(e,s,a)=>{a.d(s,{Z:()=>i});a(72791);var t=a(6307),l=a(80184);const i=()=>(0,l.jsx)(t.iT,{ariaLabel:"loading-indicator",height:20,width:20,color:"white",secondaryColor:"#1c023b"})},7135:()=>{},80272:(e,s,a)=>{a.d(s,{Z:()=>t});const t={string_container:"StringLength_string_container__v6b--",mark_container:"StringLength_mark_container__KQsQy"}}}]);
//# sourceMappingURL=37641.49cf1918.chunk.js.map