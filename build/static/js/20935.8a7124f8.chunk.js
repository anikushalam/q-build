"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[20935],{51317:(e,n,o)=>{o.d(n,{Z:()=>u});var l=o(72791),i=o(27331),t=o(39230),a=o(93638),d=o(80184);const s=e=>{let{title:n,subTitle:o,titleStyle:l,subTitleStyle:s,isCreate:u,onCreate:r,children:v}=e;const{t:c}=(0,t.$G)();return(0,d.jsxs)("div",{className:i.Z.auth_card_wrapper,children:[u?(0,d.jsxs)("div",{className:i.Z.auth_create_container,children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h6",{className:i.Z.auth_card_title,style:l,children:c(n||"hello")}),(0,d.jsx)("h6",{className:i.Z.auth_card_subtitle,style:s,children:o||c("welcome_to_qviple")})]}),(0,d.jsx)(a.Z,{label:"create_new_account",customStyle:{margin:"0"},onAction:r})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h6",{className:i.Z.auth_card_title,style:l,children:c(n||"hello")}),(0,d.jsx)("h6",{className:i.Z.auth_card_subtitle,style:s,children:o||c("welcome_to_qviple")})]}),v]})},u=(0,l.memo)(s)},61932:(e,n,o)=>{o.d(n,{Z:()=>s});var l=o(72791),i=o(39230),t=o(27331),a=o(80184);const d=e=>{let{onOtpResend:n}=e;const{t:o}=(0,i.$G)(),[d,s]=(0,l.useState)(""),u=(0,l.useRef)(null),r=e=>{let{total:n,seconds:o}=(e=>{const n=Date.parse(e)-Date.parse(new Date);return{total:n,seconds:Math.floor(n/1e3%60)}})(e);n>=0&&s(o)},v=e=>{s("40"),u.current&&clearInterval(u.current);const n=setInterval((()=>{r(e)}),1e3);u.current=n},c=()=>{let e=new Date;return e.setSeconds(e.getSeconds()+40),e};(0,l.useEffect)((()=>{v(c())}),[]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:t.Z.auth_otp_resend,onClick:()=>{d||(n(),v(c()))},children:[" ",o("resend")," "]}),(0,a.jsx)("span",{className:t.Z.auth_otp_resend,children:d})]})},s=(0,l.memo)(d)},20935:(e,n,o)=>{o.r(n),o.d(n,{default:()=>b});var l=o(72791),i=o(96873),t=o(51317),a=o(27331),d=o(61578),s=o(19335),u=o(85794),r=o(98684),v=o(39230),c=o(16871),_=o(61932),m=o(21625),h=o(79992),p=o(53141),g=o(59574),y=o(80184);const b=()=>{var e,n,o,b,f,N,x;const{t:j}=(0,v.$G)(),A=(0,c.TH)(),I=(0,c.s0)(),{existingAccountLogin:Z}=(0,g.f)(),[F,S]=(0,l.useState)(""),[k,C]=(0,l.useState)(!1),[P,T]=(0,l.useState)(""),[w,U]=(0,l.useState)({open:!1,msg:"",variant:"error"}),[D]=(0,m.d4)(),[q]=(0,m.Pv)();return(0,y.jsx)(i.Z,{children:(0,y.jsx)(t.Z,{title:"verification_code",subTitle:"".concat(j("verification_code_note")).concat(null!==(e=null===(n=A.state)||void 0===n?void 0:n.type)&&void 0!==e?e:"").concat(j("ending")," xxxx - ").concat(null===(o="".concat(null===A||void 0===A||null===(b=A.state)||void 0===b?void 0:b.phoneNumber))||void 0===o?void 0:o.substring((null===(f="".concat(null===A||void 0===A||null===(N=A.state)||void 0===N?void 0:N.phoneNumber))||void 0===f?void 0:f.length)-4)),subTitleStyle:{fontSize:"0.8rem"},children:(0,y.jsxs)("form",{onSubmit:e=>{var n,o;if(e.preventDefault(),F&&null!==A&&void 0!==A&&null!==(n=A.state)&&void 0!==n&&n.phoneNumber)if(C((e=>!e)),Array.isArray(null===A||void 0===A||null===(o=A.state)||void 0===o?void 0:o.phoneNumber)){var l;let e="";for(let n of null===A||void 0===A||null===(i=A.state)||void 0===i?void 0:i.phoneNumber){var i;if((null===n||void 0===n?void 0:n.code)===F){e=null===n||void 0===n?void 0:n.phone;break}}D({userOtpCode:F,userPhoneNumber:e,u_name:null===A||void 0===A||null===(l=A.state)||void 0===l?void 0:l.u_name}).then((e=>{var n;let o=(0,h.ZH)(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.encrypt);var l,i,t,a,d;(C((e=>!e)),"Invalid OTP"===(null===o||void 0===o?void 0:o.message))?U({msg:null===o||void 0===o?void 0:o.message,open:!0,variant:"error"}):1===(null===o||void 0===o||null===(l=o.accounts)||void 0===l?void 0:l.length)?Z(null===o||void 0===o||null===(i=o.accounts)||void 0===i?void 0:i[0],null===A||void 0===A||null===(t=A.state)||void 0===t?void 0:t.accessFrom):I("/existing-account",{state:{accounts:null===o||void 0===o?void 0:o.accounts,phoneNumber:null===A||void 0===A||null===(a=A.state)||void 0===a?void 0:a.phoneNumber,accessFrom:null===A||void 0===A||null===(d=A.state)||void 0===d?void 0:d.accessFrom}})})).catch((e=>{U({msg:"Time out of request with reason ".concat(e),open:!0,variant:"error"}),C((e=>!e))}))}else{var t;D({userOtpCode:F,userPhoneNumber:null===A||void 0===A||null===(t=A.state)||void 0===t?void 0:t.phoneNumber}).then((e=>{var n;let o=(0,h.ZH)(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.encrypt);var l,i,t,a,d,s,u,r,v,c,_,m,p,g,y,b,f,N,x,j,F,S,k,P,T,w,D,q,E,L,R,O,G,H,B,M,V,Q,Y,$,K;(C((e=>!e)),"Invalid OTP"===(null===o||void 0===o?void 0:o.message))?U({msg:null===o||void 0===o?void 0:o.message,open:!0,variant:"error"}):1===(null===o||void 0===o||null===(l=o.accounts)||void 0===l?void 0:l.length)?null!==(i=A.state)&&void 0!==i&&null!==(t=i.landingPage)&&void 0!==t&&t.appId?(Z(null===o||void 0===o||null===(a=o.accounts)||void 0===a?void 0:a[0],"LANDING_PAGE"),"hostel"===(null===(d=A.state)||void 0===d||null===(s=d.landingPage)||void 0===s?void 0:s.isHostel)?I("/q/hostel/joining",{state:{formAs:"STUDENT",openAs:"landing_page",appId:null===(u=A.state)||void 0===u||null===(r=u.landingPage)||void 0===r?void 0:r.appId,hostelId:null===(v=A.state)||void 0===v||null===(c=v.landingPage)||void 0===c?void 0:c.hostelId,verifyNumber:null===A||void 0===A||null===(_=A.state)||void 0===_?void 0:_.phoneNumber}}):I("/q/joining",{state:{formAs:"STUDENT",openAs:"landing_page",appId:null===(m=A.state)||void 0===m||null===(p=m.landingPage)||void 0===p?void 0:p.appId,instituteId:null===(g=A.state)||void 0===g||null===(y=g.landingPage)||void 0===y?void 0:y.instituteId,admissionId:null===(b=A.state)||void 0===b||null===(f=b.landingPage)||void 0===f?void 0:f.admissionId,whichFormShow:"DEPARTMENT",verifyNumber:null===A||void 0===A||null===(N=A.state)||void 0===N?void 0:N.phoneNumber}})):Z(null===o||void 0===o||null===(x=o.accounts)||void 0===x?void 0:x[0],null===A||void 0===A||null===(j=A.state)||void 0===j?void 0:j.accessFrom):null!==(F=A.state)&&void 0!==F&&null!==(S=F.landingPage)&&void 0!==S&&S.appId?null!==o&&void 0!==o&&null!==(k=o.accounts)&&void 0!==k&&k.length?I("/existing-account",{state:{accounts:null===o||void 0===o?void 0:o.accounts,phoneNumber:null===A||void 0===A||null===(P=A.state)||void 0===P?void 0:P.phoneNumber,landingPage:null===(T=A.state)||void 0===T?void 0:T.landingPage}}):"hostel"===(null===(w=A.state)||void 0===w||null===(D=w.landingPage)||void 0===D?void 0:D.isHostel)?I("/q/hostel/joining",{state:{formAs:"STUDENT",openAs:"landing_page",appId:null===(q=A.state)||void 0===q||null===(E=q.landingPage)||void 0===E?void 0:E.appId,hostelId:null===(L=A.state)||void 0===L||null===(R=L.landingPage)||void 0===R?void 0:R.hostelId,verifyNumber:null===A||void 0===A||null===(O=A.state)||void 0===O?void 0:O.phoneNumber}}):I("/q/joining",{state:{formAs:"STUDENT",openAs:"landing_page",appId:null===(G=A.state)||void 0===G||null===(H=G.landingPage)||void 0===H?void 0:H.appId,instituteId:null===(B=A.state)||void 0===B||null===(M=B.landingPage)||void 0===M?void 0:M.instituteId,admissionId:null===(V=A.state)||void 0===V||null===(Q=V.landingPage)||void 0===Q?void 0:Q.admissionId,whichFormShow:"DEPARTMENT",verifyNumber:null===A||void 0===A||null===(Y=A.state)||void 0===Y?void 0:Y.phoneNumber}}):I("/existing-account",{state:{accounts:null===o||void 0===o?void 0:o.accounts,phoneNumber:null===A||void 0===A||null===($=A.state)||void 0===$?void 0:$.phoneNumber,accessFrom:null===A||void 0===A||null===(K=A.state)||void 0===K?void 0:K.accessFrom}})})).catch((e=>{U({msg:"Time out of request with reason ".concat(e),open:!0,variant:"error"}),C((e=>!e))}))}else T({userOtpCode:"* required"})},className:a.Z.auth_login_form,children:[(0,y.jsx)(d.Z,{placeholder:j("verification_code"),fieldIconUrl:"".concat(r.nj,"/auth-otp.svg"),maxLength:"4",validate:P.userOtpCode,name:"userOtpCode",value:F,onChange:e=>{S(e.target.value)}}),(0,y.jsx)("div",{className:a.Z.auth_footer_container,children:Array.isArray(null===A||void 0===A||null===(x=A.state)||void 0===x?void 0:x.phoneNumber)?null:(0,y.jsxs)("p",{className:a.Z.auth_otp_text,children:[j("if_you_did_not_recieve_otp"),(0,y.jsx)(_.Z,{onOtpResend:()=>{var e,n;q({userPhoneNumber:"".concat(null===A||void 0===A||null===(e=A.state)||void 0===e?void 0:e.phoneNumber),status:"Not Verified",is_qid:(0,p.CG)("".concat(null===A||void 0===A||null===(n=A.state)||void 0===n?void 0:n.phoneNumber))}).then((e=>{var n;let o=(0,h.ZH)(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.encrypt);var l,i,t,a;null!==o&&void 0!==o&&o.userPhoneNumber&&U({open:!0,msg:"Code will be resent to xxxx- ".concat(null===(l="".concat(null===A||void 0===A||null===(i=A.state)||void 0===i?void 0:i.phoneNumber))||void 0===l?void 0:l.substring((null===(t="".concat(null===A||void 0===A||null===(a=A.state)||void 0===a?void 0:a.phoneNumber))||void 0===t?void 0:t.length)-4)),variant:"success"})})).catch((()=>{U({open:!0,msg:"Time out of request...",variant:"error"})}))}})]})}),(0,y.jsx)(s.Z,{type:"submit",buttonText:j("verify"),disabled:k}),(0,y.jsx)(u.Z,{eventState:w,eventStateHandler:U})]})})})}},59574:(e,n,o)=>{o.d(n,{f:()=>u});var l=o(95048),i=o(16871),t=o(53013),a=o(98990),d=o(28795),s=o(85243);const u=()=>{const e=(0,l.I0)(),n=(0,i.s0)(),o=o=>{localStorage.clear();let l=null===o||void 0===o?void 0:o.user;null!==o&&void 0!==o&&o.isUniversal?n("/verify",{state:{phoneNumber:null===o||void 0===o?void 0:o.phoneNumber,u_name:null===o||void 0===o?void 0:o.u_name}}):"DELETED_ACCOUNT"===(null===o||void 0===o?void 0:o.accessFrom)?(e(t.R.loginQuery({login:!0,token:o.token,id:null===l||void 0===l?void 0:l._id,status:!0,loggedinAs:"user",username:null===l||void 0===l?void 0:l.username})),n("/account/delete?type=confirm",{state:{id:null===l||void 0===l?void 0:l._id}})):"LANDING_PAGE"===(null===o||void 0===o?void 0:o.accessFrom)?(e(t.R.loginQuery({login:!0,token:o.token,id:null===l||void 0===l?void 0:l._id,status:!0,loggedinAs:"user",username:null===l||void 0===l?void 0:l.username,mods_id:"",loginRole:""})),e(a.S.addInstituteId({id:null===l||void 0===l?void 0:l._id,loggedinAs:"user"}))):(e(t.R.loginQuery({login:!0,token:o.token,id:null===l||void 0===l?void 0:l._id,status:!0,loggedinAs:"user",username:null===l||void 0===l?void 0:l.username,mods_id:"",loginRole:""})),e(a.S.addInstituteId({id:null===l||void 0===l?void 0:l._id,loggedinAs:"user"})),null!==o&&void 0!==o&&o.isMember||n("/q/".concat(null===l||void 0===l?void 0:l.username,"/feed")))};return{userDispatchAction:o,existingAccountLogin:(e,n)=>{o({token:null===e||void 0===e?void 0:e.token,user:null===e||void 0===e?void 0:e.user,accessFrom:n})},instituteDispatchAction:o=>{localStorage.clear();let l=null===o||void 0===o?void 0:o.institute;var i,u,r,v,c;null!==o&&void 0!==o&&o.isUniversal?n("/verify",{state:{phoneNumber:null===o||void 0===o?void 0:o.phoneNumber,u_name:null===o||void 0===o?void 0:o.u_name}}):(e(t.R.loginQuery({login:!0,token:o.token,id:null===l||void 0===l?void 0:l._id,status:!0,loggedinAs:"institute",username:null===l||void 0===l?void 0:l.name,mods_id:null!==(i=null===l||void 0===l?void 0:l.mods_id)&&void 0!==i?i:"",loginRole:"SOCIAL_MEDIA_HANDLER"===(null===o||void 0===o?void 0:o.main_role)?"_usr_rs":"_usr_ia"===(null===o||void 0===o?void 0:o.main_role)?"_usr_ia":""})),e(a.S.addInstituteId({id:null===l||void 0===l?void 0:l._id,loggedinAs:"institute"})),e(d.q.financeQuery({fid:null!==l&&void 0!==l&&null!==(u=l.financeDepart)&&void 0!==u&&u[0]?null===l||void 0===l||null===(r=l.financeDepart)||void 0===r?void 0:r[0]:""})),e(s.F.admissionQuery({aid:null!==l&&void 0!==l&&null!==(v=l.admissionDepart)&&void 0!==v&&v[0]?null===l||void 0===l||null===(c=l.admissionDepart)||void 0===c?void 0:c[0]:""})),null!==o&&void 0!==o&&o.isMember||n("/q/".concat(null===l||void 0===l?void 0:l.name,"/feed"),{state:{loginRole:"SOCIAL_MEDIA_HANDLER"===(null===o||void 0===o?void 0:o.main_role)?"_usr_rs":""}}))}}}},61578:(e,n,o)=>{o.d(n,{Z:()=>m});var l=o(72791);const i="AuthFormField_auth_input_container__4XCiB",t="AuthFormField_auth_input_container_error__ho7RI",a="AuthFormField_auth_input_container_inner__3YVnH",d="AuthFormField_auth_input_image_container__vkGgA",s="AuthFormField_auth_input_label__YhCLh",u="AuthFormField_auth_input_field__6VdCa",r="AuthFormField_auth_label_error__Wcuw8",v="AuthFormField_auth_passward_icon__VDFPG";var c=o(98684),_=o(80184);const m=e=>{let{label:n,type:o,name:m,placeholder:h,value:p,onChange:g,minLength:y,maxLength:b,validate:f,fieldIconUrl:N,isPassword:x}=e;const[j,A]=(0,l.useState)(!1);return(0,_.jsxs)(_.Fragment,{children:[n?(0,_.jsxs)("label",{htmlFor:m,className:s,children:[n,f?(0,_.jsx)("span",{className:r,children:" *"}):null]}):null,(0,_.jsx)("div",{className:f?t:i,children:(0,_.jsxs)("div",{className:a,children:[(0,_.jsx)("div",{className:d,children:(0,_.jsx)("img",{src:N,alt:"input icon"})}),"password"===o?(0,_.jsx)("input",{className:u,type:j?"text":"password",name:m,maxLength:b,minLength:y,placeholder:h,value:p,onChange:g}):(0,_.jsx)("input",{className:u,type:null!==o&&void 0!==o?o:"text",name:m,maxLength:b,minLength:y,placeholder:h,value:p,onChange:g}),x?(0,_.jsx)("img",{alt:"password icon",className:v,src:"".concat(c.nj,j?"/auth-close-password.svg":"/auth-open-password.svg"),onClick:()=>{A((e=>!e))}}):null]})})]})}},93638:(e,n,o)=>{o.d(n,{Z:()=>a});var l=o(39230),i=o(80476),t=o(80184);const a=e=>{let{label:n,count:o,onAction:a,customStyle:d,isTranslate:s}=e;const{t:u}=(0,l.$G)();return s?(0,t.jsxs)("div",{className:i.Z.create_btn_container,onClick:a,style:d,children:[o>0?(0,t.jsxs)("span",{children:[o," "]}):null,n]}):(0,t.jsxs)("div",{className:i.Z.create_btn_container,onClick:a,style:d,children:[o>0?(0,t.jsxs)("span",{children:[o," "]}):null,u(n)]})}},85794:(e,n,o)=>{o.d(n,{Z:()=>r});var l=o(72791),i=o(54164),t=o(15783),a=o(98684),d=o(80184);const s=e=>{let{onClose:n,isVariant:o,isHide:l,children:s}=e;return i.createPortal((0,d.jsx)("div",{children:(0,d.jsx)("div",{className:l?t.Z.notify_hide_overlay:t.Z.notify_overlay,children:(0,d.jsxs)("div",{className:t.Z.notify_container,style:{"--notify-bg-color":o},children:[s,(0,d.jsx)("img",{src:"".concat(a.Fk,"/close-white.svg"),alt:"close icon",onClick:n,className:t.Z.notify_close})]})})}),document.getElementById("notify-alert"))},u={success:"green",error:"#ed4a4a",warning:"orange"},r=e=>{var n;let{eventState:o,eventStateHandler:i}=e;const[a,r]=(0,l.useState)(!1);return null!==o&&void 0!==o&&o.open?(0,d.jsx)(s,{onClose:()=>{r(!0);let e=setTimeout((()=>{i((e=>({...e,open:!1,msg:"",variant:"success"}))),r(!1)}),500);return()=>clearTimeout(e)},isVariant:u[null===o||void 0===o?void 0:o.variant],isHide:a,children:(0,d.jsx)("h6",{className:t.Z.notify_message,children:null!==(n=null===o||void 0===o?void 0:o.msg)&&void 0!==n?n:""})}):null}},53141:(e,n,o)=>{o.d(n,{CG:()=>t,ZM:()=>a,jU:()=>i});const l=["!","@","#","$","%","^","&","*","(",")","+","~",".",",","/",":",";"],i=e=>!!l.includes(e),t=e=>(null===e||void 0===e||!e.includes("@"))&&8===(null===e||void 0===e?void 0:e.length),a=e=>null!==e&&void 0!==e&&e.includes("@")?"e-mail":8===(null===e||void 0===e?void 0:e.length)?"qviple id":"mobile number"},80476:(e,n,o)=>{o.d(n,{Z:()=>l});const l={btn_wrapper:"Button_btn_wrapper__ihT7O",btn_container:"Button_btn_container__OaH2t",create_btn_container:"Button_create_btn_container__JuZrx",upload_excel_file:"Button_upload_excel_file__a7d0K",set_btn_container:"Button_set_btn_container__RvfRG",ccb_button:"Button_ccb_button__Mjv4T"}},15783:(e,n,o)=>{o.d(n,{Z:()=>l});const l={notify_backdrop:"Utils_notify_backdrop__saL0O",notify_overlay:"Utils_notify_overlay__GtPc5",notify_hide_overlay:"Utils_notify_hide_overlay__MYvkC",notify_overlay_animation:"Utils_notify_overlay_animation__pcASm",notify_hide_overlay_animation:"Utils_notify_hide_overlay_animation__UKRcG",notify_container:"Utils_notify_container__O8DBA",notify_message:"Utils_notify_message__PHwKo",notify_close:"Utils_notify_close__IwjyA",modal_backdrop:"Utils_modal_backdrop__WBquw",modal_overlay:"Utils_modal_overlay__Yy-AV",modal_hide_overlay:"Utils_modal_hide_overlay__elt3A",navbar_modal_hide_overlay:"Utils_navbar_modal_hide_overlay__yqj5q",navbar_modal_overlay:"Utils_navbar_modal_overlay__6ub8g",modal_hide_overlay_animation:"Utils_modal_hide_overlay_animation__d3TNp",navbar_modal_overlay_animation:"Utils_navbar_modal_overlay_animation__Ypk9u",navbar_modal_hide_overlay_animation:"Utils_navbar_modal_hide_overlay_animation__QLEse",empty_container:"Utils_empty_container__-VyCI",modal_overlay_animation:"Utils_modal_overlay_animation__zkjsk"}}}]);
//# sourceMappingURL=20935.8a7124f8.chunk.js.map