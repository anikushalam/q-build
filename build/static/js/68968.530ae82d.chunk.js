"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[68968],{71949:(e,t,n)=>{n.d(t,{Z:()=>r});n(72791);var o=n(12072),l=n(84489),i=n(69721),a=n(46807),d=n(80184);const r=e=>{let{customContainerStyle:t,onClose:n,showContent:r,onClick:s}=e;const u=[];for(let o=1;o<31;o++)u.push(o);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.Z,{onClose:n}),(0,d.jsx)(o.Z,{customStyle:{zIndex:"1400"},children:(0,d.jsxs)("div",{className:a.Z.custom_avatar_container,style:{...t},children:[(0,d.jsx)("h5",{className:a.Z.custom_avatar_content,children:r}),null===u||void 0===u?void 0:u.map((e=>(0,d.jsx)("div",{className:a.Z.custom_avatar_one,onClick:()=>(e=>{s("3D".concat(e,".jpg")),n()})(e),children:(0,d.jsx)("img",{src:"".concat(i.qZ,"/3D").concat(e,".jpg"),alt:"3d avatar"})},e)))]})})]})}},91022:(e,t,n)=>{n.d(t,{Z:()=>d});var o=n(72791),l=n(39230),i=n(38733),a=n(80184);const d=e=>{let{selectLabel:t,value:n,onClick:d,selectedValue:r,options:s,errorShow:u,customStyleContainer:c,customLabelStyle:_,customListStyle:v,openAs:m,viewAs:h}=e;const{t:p}=(0,l.$G)(),[f,g]=(0,o.useState)(!1),S=()=>{"REFUND"===m||"BACKLOG"===m||"FINANCE_MANAGER"===h||g((e=>!e))};return(0,a.jsxs)("div",{className:i.Z.join_form_container,style:{...c},children:[(0,a.jsxs)("p",{className:i.Z.join_form_select_paragraph,style:{..._},children:[t," ",u&&(0,a.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",p("form_require_label")]})]}),(0,a.jsxs)("section",{className:i.Z.join_form_select_custom,onClick:S,children:[n?(0,a.jsx)("p",{className:i.Z.join_form_select_custom_paragraph,children:null!==n&&void 0!==n?n:""}):(0,a.jsx)("p",{className:i.Z.join_form_select_custom_paragraph,children:r}),(0,a.jsx)("img",{className:i.Z.join_form_select_custom_icon,src:"/images/down-icon.svg",alt:"categor icon"})]}),f&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("section",{className:i.Z.join_form_select_custom_list,style:v?{...v}:(null===s||void 0===s?void 0:s.length)>2?{overflowY:"scroll"}:{backgroundColor:"#ffffff"},children:[(0,a.jsx)("p",{className:i.Z.join_form_select_custom_paragraph_option,onClick:S,children:r}),null===s||void 0===s?void 0:s.map(((e,t)=>(0,a.jsx)("p",{onClick:()=>(d(e),void S()),className:i.Z.join_form_select_custom_paragraph_option,children:e},t)))]})})]})}},22357:(e,t,n)=>{n.d(t,{Z:()=>a});n(72791);var o=n(39230),l=n(38733),i=n(80184);const a=e=>{let{selectLabel:t,value:n,name:a,onChange:d,selectedValue:r,options:s,errorShow:u,customStyleContainer:c}=e;const{t:_}=(0,o.$G)();return(0,i.jsxs)("div",{className:l.Z.join_form_container,style:{...c},children:[(0,i.jsxs)("p",{className:l.Z.join_form_select_paragraph,children:[t," ",u&&(0,i.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",_("form_require_label")]})]}),(0,i.jsxs)("select",{className:l.Z.join_form_select,value:n,onChange:d,name:a,children:[(0,i.jsx)("option",{selected:!0,children:r}),null===s||void 0===s?void 0:s.map(((e,t)=>(0,i.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{children:null===e||void 0===e?void 0:e.userLegalName}),(0,i.jsx)("span",{children:" - (".concat(null===e||void 0===e?void 0:e.username,")")})]})},t)))]})]})}},35270:(e,t,n)=>{n.r(t),n.d(t,{default:()=>z});var o=n(72791),l=n(38733),i=n(39230),a=n(64540),d=n(95048),r=n(16871),s=n(16256),u=n(70966),c=n(5574),_=n(33992),v=n(97655),m=n(81693),h=n(72952),p=n(77121),f=(n(60332),n(98094)),g=n(83669),S=n(51561),x=n(96146),b=n(23509),y=n(84959),j=n(98734),N=n(59965),I=n(12953),F=n(71949),A=n(69721),C=n(29017),w=n(22357),D=n(87932),Z=n(80184);const k=e=>{var t;let{selectLabel:n,selectedValue:a,name:d,customStyleContainer:r,errorShow:s,departmentId:u,classMasterId:c,batchId:_,onFeeStructureSelect:v}=e;const{t:m}=(0,i.$G)(),{getAllFeesStructure:h,getAllFeesStructureRefetch:p}=(0,D.rU)({data:{did:u,filterBy:c,page:1,limit:1e3,batch_by:_},skip:!u});(0,o.useEffect)((()=>{u&&p()}),[u,p]);return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("div",{className:l.Z.join_form_container,style:{...r},children:[(0,Z.jsxs)("p",{className:l.Z.join_form_select_paragraph,children:[n," ",s&&(0,Z.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",m("form_require_label")]})]}),(0,Z.jsxs)("select",{className:l.Z.join_form_select,onChange:e=>{var t;null===h||void 0===h||null===(t=h.all_structures)||void 0===t||t.filter((t=>(null===t||void 0===t?void 0:t._id)===e.target.value?v(t):""))},name:d,children:[(0,Z.jsx)("option",{selected:!0,children:a}),null===h||void 0===h||null===(t=h.all_structures)||void 0===t?void 0:t.map(((e,t)=>{var n;return(0,Z.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null!==(n=null===e||void 0===e?void 0:e.unique_structure_name)&&void 0!==n?n:""},t)}))]})]})})};var P=n(76172);const T=e=>{var t;let{selectLabel:n,selectedValue:a,studentNewFieldIds:d,name:r,customStyleContainer:s,errorShow:u,admissionId:c,onApplicationSelect:_}=e;const{t:v}=(0,i.$G)(),{data:m,refetch:h}=(0,P.qH)({aid:c,page:1,limit:1e3});(0,o.useEffect)((()=>{c&&h()}),[c,h]);return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("div",{className:l.Z.join_form_container,style:{...s},children:[(0,Z.jsxs)("p",{className:l.Z.join_form_select_paragraph,children:[n," ",u&&(0,Z.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",v("form_require_label")]})]}),(0,Z.jsxs)("select",{className:l.Z.join_form_select,onChange:e=>{var t;null===m||void 0===m||null===(t=m.completed)||void 0===t||t.filter((t=>(null===t||void 0===t?void 0:t._id)===e.target.value?_(t):""))},name:r,children:[(0,Z.jsx)("option",{selected:!0,children:a}),null===m||void 0===m||null===(t=m.completed)||void 0===t?void 0:t.map(((e,t)=>(0,Z.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.applicationName},t)))]})]})})},M=e=>{var t,n;let{selectLabel:a,selectedValue:d,name:r,customStyleContainer:s,errorShow:u,departmentId:c,onBatchSelect:v}=e;const{t:m}=(0,i.$G)(),{oneDepartment:h,oneDepartmentRefetch:p}=(0,_._C)({did:c,skip:!c});(0,o.useEffect)((()=>{c&&p()}),[c,p]);return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("div",{className:l.Z.join_form_container,style:{...s},children:[(0,Z.jsxs)("p",{className:l.Z.join_form_select_paragraph,children:[a," ",u&&(0,Z.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",m("form_require_label")]})]}),(0,Z.jsxs)("select",{className:l.Z.join_form_select,onChange:e=>{var t,n;null===h||void 0===h||null===(t=h.department)||void 0===t||null===(n=t.batches)||void 0===n||n.filter((t=>(null===t||void 0===t?void 0:t._id)===e.target.value?v(t):""))},name:r,children:[(0,Z.jsx)("option",{selected:!0,children:d}),null===h||void 0===h||null===(t=h.department)||void 0===t||null===(n=t.batches)||void 0===n?void 0:n.map(((e,t)=>{var n;return(0,Z.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null!==(n=null===e||void 0===e?void 0:e.batchName)&&void 0!==n?n:""},t)}))]})]})})},E=e=>{let{admissionId:t,onNewFieldInputChange:n,index:l,classMasterId:a}=e;const{t:d}=(0,i.$G)(),[r,s]=(0,o.useState)(""),[u,c]=(0,o.useState)(""),[_,m]=(0,o.useState)({amount:"",appName:"",fee_struct_name_amount:"",batchName:""});return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(T,{selectLabel:d("form_select_application_label"),selectedValue:d("form_select_application_placeholder"),name:"application",onChange:()=>{},customStyleContainer:{width:"24%"},admissionId:t,setDepartmentId:s,onApplicationSelect:e=>{var t,o;m((t=>{var n;return{...t,appName:null!==(n=null===e||void 0===e?void 0:e.applicationName)&&void 0!==n?n:""}})),s(null!==(t=null===e||void 0===e||null===(o=e.applicationDepartment)||void 0===o?void 0:o._id)&&void 0!==t?t:""),n({name:"appId",value:null===e||void 0===e?void 0:e._id},l)}}),(0,Z.jsx)(M,{selectLabel:d("form_select_batch_label"),selectedValue:d("form_select_batch_placeholder"),name:"batch",customStyleContainer:{width:"24%"},departmentId:r,onBatchSelect:e=>{m((t=>({...t,batchName:null===e||void 0===e?void 0:e.batchName}))),n({name:"batchId",value:null===e||void 0===e?void 0:e._id},l),c(null===e||void 0===e?void 0:e._id)}}),(0,Z.jsx)(k,{selectLabel:d("form_select_fee_structure_label"),selectedValue:d("form_select_fee_structure_label"),value:_.fee_struct_name,name:"fees",customStyleContainer:{width:"24%"},departmentId:r,classMasterId:a,batchId:u,onFeeStructureSelect:e=>{m((t=>({...t,fee_struct_name_amount:null===e||void 0===e?void 0:e.total_admission_fees}))),n({name:"fee_struct",value:null===e||void 0===e?void 0:e._id},l)}}),(0,Z.jsx)(v.Z,{labelText:d("form_remaining_amount_label"),placeholder:d("form_remaining_amount_label_placeholder"),name:"amount",value:_.amount,type:"text",onChange:e=>{m((t=>({...t,amount:+e.target.value}))),n({name:"amount",value:_.fee_struct_name_amount-+e.target.value},l)},customStyleContainer:{width:"24%"}})]})},L=e=>{let{labelText:t,name:n,value:o,onChange:a,customStyleContainer:d,customStyleLabel:r}=e;const{t:s}=(0,i.$G)();return(0,Z.jsxs)("div",{className:l.Z.join_form_container,style:{...d},children:[(0,Z.jsx)("label",{className:l.Z.join_form_label,htmlFor:n,style:{...r},children:t}),(0,Z.jsxs)("div",{className:l.Z.join_form_file_container,children:[(0,Z.jsx)("label",{className:"".concat(l.Z.join_form_yes," ").concat(o&&l.Z.join_form_active_background),onClick:a,children:s("yes")}),(0,Z.jsx)("label",{className:"".concat(l.Z.join_form_no," ").concat(!o&&l.Z.join_form_active_background),onClick:a,children:s("no")})]})]})};var U=n(56112),O=n(36665),q=n(91022),V=n(15983);const B=e=>{var t,n;let{onClose:l,openFeesQuery:a,setStudentAdmission:d,onCloseFunction:r}=e;const{t:s}=(0,i.$G)(),[u,c]=(0,o.useState)(""),[_,m]=(0,o.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),[h,p]=(0,o.useState)({msg:"",run:!1}),f=e=>{m((t=>({...t,[e.target.name]:e.target.value})))};return(0,Z.jsxs)(O.Z,{onClose:l,children:[(0,Z.jsxs)("div",{className:V.Z.add_category_modal,style:{width:"30rem",minHeight:"10rem",maxHeight:"35rem",overflowY:"scroll",overflowX:"hidden",scrollBehavior:"smooth",padding:"1rem"},children:[(0,Z.jsxs)("section",{className:V.Z.admission_fees_amount,children:[(0,Z.jsx)("h6",{children:s("admission_fees")}),(0,Z.jsxs)("h6",{children:[s("rs"),".",null!==(t=null===a||void 0===a?void 0:a.total_admission_fees)&&void 0!==t?t:0]})]}),(0,Z.jsxs)("section",{className:V.Z.admission_fees_amount,children:[(0,Z.jsx)("h6",{children:s("applicable_amount")}),(0,Z.jsxs)("h6",{children:[s("rs"),".",null!==(n=null===a||void 0===a?void 0:a.applicable_fees)&&void 0!==n?n:0]})]}),(0,Z.jsx)(q.Z,{selectLabel:s("payment_type"),value:_.mode?"Online"===_.mode?"By Bank":"By Cash":"",onClick:e=>{m((t=>({...t,mode:"By Bank"===e?"Online":"Offline",fee_payment_mode:e})))},selectedValue:"Select Payment Type By Bank/By Cash",options:["By Bank","By Cash"],customLabelStyle:{marginTop:"7px",marginBottom:"7px",fontWeight:"400",fontSize:"12px",color:"rgba(18, 18, 18, 0.8)"},customListStyle:{maxHeight:"fit-content"},errorShow:u.fee_payment_mode}),(0,Z.jsx)(v.Z,{labelText:s("amount"),name:"fee_payment_amount",type:"tel",value:null===_||void 0===_?void 0:_.fee_payment_amount,onChange:e=>{m((t=>({...t,amount:+e.target.value,fee_payment_amount:+e.target.value})))},placeholder:s("please_enter_amount_paid"),errorShow:u.fee_payment_amount}),(0,Z.jsx)(N.Z,{labelText:s("select_date_of_transaction"),placeholder:s("please_select_date"),name:"transaction_date",value:_.transaction_date,onDateFunction:e=>{const t=null===e||void 0===e?void 0:e.split("/");m((e=>({...e,transaction_date:"".concat(t[2],"-").concat(t[1],"-").concat(t[0])})))},customStyleContainer:{position:"relative",marginTop:"0.5rem",marginBottom:"0.5rem"},datePickerPosition:{top:"-3rem"},customStyleLabel:{marginTop:"7px"},errorShow:u.transaction_date}),"By Cash"===_.fee_payment_mode||"Offline"===_.mode?"":(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(v.Z,{labelText:s("bank_name_collect"),name:"fee_bank_name",type:"text",value:_.fee_bank_name,onChange:f,placeholder:s("please_enter_bank_name"),customStyleLabel:{marginTop:"7px",marginBottom:"7px"}}),(0,Z.jsx)(v.Z,{labelText:s("banke_holder_name"),name:"fee_bank_holder",type:"text",value:_.fee_bank_holder,onChange:f,placeholder:s("please_enter_name_of_bank_holder"),customStyleLabel:{marginTop:"7px",marginBottom:"7px"}}),(0,Z.jsx)(v.Z,{labelText:s("cheque_dd_neft"),name:"fee_utr_reference",type:"tel",value:_.fee_utr_reference,onChange:f,placeholder:s("please_enter_utr_ref_number"),customStyleLabel:{marginTop:"7px",marginBottom:"7px"}})]}),(0,Z.jsx)("button",{className:V.Z.btn,style:{width:"100%",margin:"1rem 0"},onClick:()=>{const e=(e=>{const t={};for(let n in e)"fee_bank_name"===n||"fee_bank_holder"===n||"fee_utr_reference"===n||"amount"===n||"mode"===n||(e[n]?"fee_payment_amount"===n&&e[n]>(null===a||void 0===a?void 0:a.total_admission_fees)&&(p({msg:"You can not enter amount greater than total Admission fees",run:!0}),t.fee_payment_amount="".concat(n," is required!")):t[n]="".concat(n," is required!"));return t})(_);let t=!1;for(let n in e){t=!0;break}t?c(e):(d((e=>({...e,..._,fee_struct:null===a||void 0===a?void 0:a._id}))),r())},children:s("confirm")})]}),(0,Z.jsx)(S.Ch,{msg:h.msg,run:h.run,setRun:()=>p({msg:"",run:!1}),postiton:"bottom",type:"error"})]})},R=e=>{var t,n,a,r,D,P,T,M,O,q,V,R,H,G,Q,J,K,Y,W,X,$,z,ee,te,ne,oe,le,ie,ae,de,re,se,ue,ce,_e,ve,me;let{preview:he,setPreview:pe,location:fe,onApplyForm:ge}=e;const Se=(0,d.v9)((e=>e.idChange)),[xe,be]=(0,o.useState)(""),[ye,je]=(0,o.useState)({}),[Ne,Ie]=(0,o.useState)(""),[Fe,Ae]=(0,o.useState)([]),[Ce,we]=(0,o.useState)({studentFirstName:"",studentMiddleName:"",studentLastName:"",studentDOB:"",studentGender:"",studentMotherName:""}),[De,Ze]=(0,o.useState)([]),[ke,Pe]=(0,o.useState)([]),[Te,Me]=(0,o.useState)({}),[Ee,Le]=(0,o.useState)(!1),[Ue,Oe]=(0,o.useState)(""),[qe,Ve]=(0,o.useState)(!1),[Be,Re]=(0,o.useState)(""),[He,Ge]=(0,o.useState)(""),[Qe,Je]=(0,o.useState)({msg:"",run:!1}),[Ke,Ye]=(0,o.useState)({}),[We,Xe]=(0,o.useState)(""),[$e]=(0,y.FL)(),{t:ze}=(0,i.$G)(),[et,tt]=(0,o.useState)({sample_pic:"",mode:"",amount:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:"",fee_struct:""}),[nt,ot]=(0,o.useState)(""),[lt,it]=(0,o.useState)(!1),[at,dt]=(0,o.useState)(!1),[rt,st]=(0,o.useState)(!1),[ut,ct]=(0,o.useState)(""),[_t,vt]=(0,o.useState)({student_prn_enroll_number:"",fee_struct:"",is_remain:"",batch_set:[]}),[mt,ht]=(0,o.useState)(!1),{searchCodeForJoin:pt,searchCodeForJoinRefetch:ft}=(0,y.yz)({data:{code:null===fe||void 0===fe?void 0:fe.joinCode,joinAs:"Student"},skip:!(null!==fe&&void 0!==fe&&fe.joinCode)}),{getAccountWithNumber:gt,getAccountWithNumberRefetch:St}=(0,C.St)({phoneKey:Ne,skip:10!==(null===Ne||void 0===Ne?void 0:Ne.length)}),{instituteStudentForm:xt,instituteStudentFormRefetch:bt}=(0,_.$Z)({id:"INSTITUTE_SIDE"===(null===fe||void 0===fe?void 0:fe.openAs)?null===Se||void 0===Se?void 0:Se.id:"DIRECT"===(null===fe||void 0===fe?void 0:fe.openAs)?null===pt||void 0===pt||null===(t=pt.one_ins)||void 0===t?void 0:t._id:"ADMISSION_ADMIN_SIDE"===(null===fe||void 0===fe?void 0:fe.openAs)||"landing_page"===(null===fe||void 0===fe?void 0:fe.openAs)||"landing_page_and_existing"===(null===fe||void 0===fe?void 0:fe.openAs)?null===fe||void 0===fe?void 0:fe.instituteId:null===(n=Se.searchProfile)||void 0===n?void 0:n.id,skip:"INSTITUTE_SIDE"===(null===fe||void 0===fe?void 0:fe.openAs)?!(null!==Se&&void 0!==Se&&Se.id):"DIRECT"===(null===fe||void 0===fe?void 0:fe.openAs)?!(null!==pt&&void 0!==pt&&null!==(a=pt.one_ins)&&void 0!==a&&a._id):"ADMISSION_ADMIN_SIDE"===(null===fe||void 0===fe?void 0:fe.openAs)||"landing_page"===(null===fe||void 0===fe?void 0:fe.openAs)||"landing_page_and_existing"===(null===fe||void 0===fe?void 0:fe.openAs)?!(null!==fe&&void 0!==fe&&fe.instituteId):!(null!==(r=Se.searchProfile)&&void 0!==r&&r.id)});(0,o.useEffect)((()=>{null!==fe&&void 0!==fe&&fe.joinCode&&ft()}),[null===fe||void 0===fe?void 0:fe.joinCode,ft]),(0,o.useEffect)((()=>{var e,t;(null!==(e=Se.searchProfile)&&void 0!==e&&e.id||null!==Se&&void 0!==Se&&Se.id||null!==fe&&void 0!==fe&&fe.openAs||null!==pt&&void 0!==pt&&null!==(t=pt.one_ins)&&void 0!==t&&t._id)&&bt()}),[null===(D=Se.searchProfile)||void 0===D?void 0:D.id,null===Se||void 0===Se?void 0:Se.id,null===fe||void 0===fe?void 0:fe.openAs,bt,null===pt||void 0===pt||null===(P=pt.one_ins)||void 0===P?void 0:P._id]),(0,o.useEffect)((()=>{var e;if(null!==pt&&void 0!==pt&&null!==(e=pt.classes)&&void 0!==e&&e.optionalSubjectCount)for(let n of null===pt||void 0===pt||null===(t=pt.classes)||void 0===t?void 0:t.subject){var t;Ze((e=>({...e,[n._id]:""})))}}),[null===pt||void 0===pt||null===(T=pt.classes)||void 0===T?void 0:T.optionalSubjectCount,null===pt||void 0===pt||null===(M=pt.classes)||void 0===M?void 0:M.subject]),(0,o.useEffect)((()=>{if(null!==xt&&void 0!==xt&&xt.studentFormSetting){const t=[];for(let n in xt.studentFormSetting)if("previousSchoolAndDocument"===n){var e;let t=null===xt||void 0===xt||null===(e=xt.studentFormSetting)||void 0===e?void 0:e.previousSchoolAndDocument,n=[];for(let e in t)t[e]&&("aadharCard"===e?(Me((e=>({...e,addharFrontCard:"",addharBackCard:""}))),n.push("addharFrontCard","addharBackCard")):"previousSchoolDocument"===e?(Me((e=>({...e,studentPreviousSchool:"",previousSchoolDocument:""}))),n.push("previousSchoolDocument","studentPreviousSchool")):(Me((t=>({...t,[e]:""}))),n.push(e)));Pe([...n])}else xt.studentFormSetting[n]&&("otherPersonalInfo"===n?(je((e=>({...e,...null===s.Qc||void 0===s.Qc?void 0:s.Qc.withValue}))),t.push(...null===s.Qc||void 0===s.Qc?void 0:s.Qc.keys)):"identityDetails"===n?(je((e=>({...e,...null===s.Jg||void 0===s.Jg?void 0:s.Jg.withValue}))),t.push(...null===s.Jg||void 0===s.Jg?void 0:s.Jg.keys)):"addressInfo"===n?(je((e=>({...e,...null===s.f_||void 0===s.f_?void 0:s.f_.withValue}))),t.push(...null===s.f_||void 0===s.f_?void 0:s.f_.keys)):"parentsInfo"===n?(je((e=>({...e,...null===s.DS||void 0===s.DS?void 0:s.DS.withValue}))),t.push(...null===s.DS||void 0===s.DS?void 0:s.DS.keys)):"bankDetails"===n?(je((e=>({...e,...null===s.E1||void 0===s.E1?void 0:s.E1.withValue}))),t.push(...null===s.E1||void 0===s.E1?void 0:s.E1.keys)):"id_card"===n?(je((e=>({...e,...null===s.aT||void 0===s.aT?void 0:s.aT.withValue}))),t.push(...null===s.aT||void 0===s.aT?void 0:s.aT.keys)):"anti_ragging"===n&&(je((e=>({...e,...null===s.Py||void 0===s.Py?void 0:s.Py.withValue}))),t.push(...null===s.Py||void 0===s.Py?void 0:s.Py.keys)));Ae([...t])}}),[null===xt||void 0===xt?void 0:xt.studentFormSetting]),(0,o.useEffect)((()=>{if(xe){const e=xe.split(" ");e.length>=3?we((t=>({...t,studentFirstName:e[0],studentMiddleName:e[1],studentLastName:e.slice(2).toString().replaceAll(","," ")}))):we((t=>({...t,studentFirstName:e[0],studentMiddleName:"",studentLastName:void 0===e[1]?"":e[1]})))}}),[xe]);const yt=e=>{if("ADMISSION_ADMIN_SIDE"===(null===fe||void 0===fe?void 0:fe.openAs))it(!0);else{const t=URL.createObjectURL(e.target.files[0]);Oe(e.target.files[0]),Re(t),Ge(t),Ve(!0)}};(0,o.useEffect)((()=>{Ee&&Ct({target:{name:"file",files:[Ue]}})}),[Ee,Ue]);const jt=e=>{we((t=>({...t,[e.target.name]:e.target.value})))},Nt=e=>{"studentPhoneNumber"===e.target.name||"studentParentsPhoneNumber"===e.target.name?je((t=>{var n;return{...t,[e.target.name]:null===(n=e.target.value)||void 0===n?void 0:n.trim()}})):je((t=>({...t,[e.target.name]:e.target.value})))},It=e=>{"previousSchoolDocument"===e.target.name?e.target.value?Me((t=>({...t,[e.target.name]:e.target.value,studentPreviousSchool:"No"}))):Me((t=>({...t,[e.target.name]:e.target.value,studentPreviousSchool:""}))):"studentPreviousSchool"===e.target.name?Me((t=>({...t,[e.target.name]:e.target.value}))):Me((t=>({...t,[e.target.name]:e.target.files[0]})))},Ft=e=>{e.target.checked?je((t=>({...t,asSameAddress:e.target.checked,studentAddress:t.studentCurrentAddress,studentPincode:t.studentCurrentPincode}))):je((t=>({...t,asSameAddress:e.target.checked,studentAddress:"",studentPincode:""})))},At=e=>{e.target.checked?Ze((t=>({...t,[e.target.name]:e.target.name}))):Ze((t=>({...t,[e.target.name]:""})))},Ct=e=>{var t;if(null!==(t=e.target.files)&&void 0!==t&&t.length){Xe((e=>!e));const t=new FormData;t.append("file",e.target.files[0]),$e({fileUpload:t}).then((t=>{var n,o;"file"===e.target.name?(Le(!1),Oe({name:e.target.name,key:null===(n=t.data)||void 0===n?void 0:n.imageKey,type:null===(o=e.target.files[0])||void 0===o?void 0:o.type})):"bankPassbook"===e.target.name?je((n=>{var o,l,i;return{...n,[e.target.name]:{originalName:null===(o=e.target.files[0])||void 0===o?void 0:o.name,name:e.target.name,key:null===(l=t.data)||void 0===l?void 0:l.imageKey,type:null===(i=e.target.files[0])||void 0===i?void 0:i.type}}})):Me((n=>{var o,l,i;return{...n,[e.target.name]:{originalName:null===(o=e.target.files[0])||void 0===o?void 0:o.name,name:e.target.name,key:null===(l=t.data)||void 0===l?void 0:l.imageKey,type:null===(i=e.target.files[0])||void 0===i?void 0:i.type}}}));Xe((e=>!e))})).catch({})}},wt=(e,t)=>{const n={..._t};for(let l=0;l<(null===n||void 0===n||null===(o=n.batch_set)||void 0===o?void 0:o.length);l++){var o;l===t&&(n.batch_set[l][e.name]=e.value,n.is_remain="Yes")}vt(n)};return(0,Z.jsxs)(Z.Fragment,{children:[he?(0,Z.jsx)(b.Z,{studentForm:ye,dynamicForm:Fe,formData:Ce,dynamicFormDocument:ke,dynamicDocument:Te,fileUrl:"ADMISSION_ADMIN_SIDE"===(null===fe||void 0===fe?void 0:fe.openAs)?"".concat(A.qZ,"/").concat(Ue):He,formSetting:null===xt||void 0===xt?void 0:xt.studentFormSetting,onApplyStudentForm:()=>{ge({studentPhoneNumberAdd:Ne,file:Ue,formData:Ce,studentForm:ye,dynamicDocument:Te,optinalSubject:De,studentAdmission:et,selectedUser:nt,studentNewField:_t})},location:fe,studentPhoneNumber:Ne,subjects:null===pt||void 0===pt||null===(me=pt.classes)||void 0===me?void 0:me.subject,optinalSubject:De,studentAdmission:et,showingExistingUser:null===gt||void 0===gt?void 0:gt.all_account,selectedUser:nt,studentNewField:_t,openFeesQuery:ut}):(0,Z.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t="INSTITUTE_SIDE"===(null===fe||void 0===fe?void 0:fe.openAs)?((e,t)=>{const n={};Ue||(Je({msg:"Please Select Image",run:!0}),n.file="profile image is required!"),t||(n.studentPhoneNumberAdd="* required");for(let o in e)"studentMiddleName"===o||"studentMotherName"===o||e[o]||(n[o]="".concat(o," is required!"));return n})(Ce,Ne):"ADMISSION_ADMIN_SIDE"===(null===fe||void 0===fe?void 0:fe.openAs)?((e,t,n)=>{const o={};Ue||(Je({msg:"Please Select Image",run:!0}),o.file="profile image is required!"),t||(o.studentPhoneNumberAdd="* required");for(let l in e)"studentMiddleName"===l||"studentMotherName"===l||e[l]||(o[l]="".concat(l," is required!"));for(let l in n)"sample_pic"===l||"fee_bank_holder"===l||"fee_bank_name"===l||"fee_utr_reference"===l||n[l]||(o[l]="".concat(l," is required!"));return o})(Ce,Ne,et):((e,t,n,o)=>{var l,i;const a={};Ue||(Je({msg:ze("form_select_image_label"),run:!0}),a.file="profile image is required!"),t.studentBankAccount&&t.studentBankAccount!==t.studentBankReAccount&&(a.studentBankReAccount="".concat(ze("form_account_dose_not_match_label")));let d=0;for(let s in o)o[s]&&(d+=1);var r;d<(null===pt||void 0===pt||null===(l=pt.classes)||void 0===l?void 0:l.optionalSubjectCount)&&(a.optionalSubject="atleast ".concat(null===pt||void 0===pt||null===(r=pt.classes)||void 0===r?void 0:r.optionalSubjectCount," optional subject required"));for(let s in e)"studentMiddleName"===s||e[s]||(a[s]="".concat(s," is required!"));for(let s in t)"studentPhoneNumber"===s||"studentEmail"===s||"student_anti_ragging"===s||"student_id_card_front"===s||"student_id_card_back"===s||"studentFatherRationCardColor"===s||t[s]||(a[s]="".concat(s," is required!"));return null!==xt&&void 0!==xt&&null!==(i=xt.studentFormSetting)&&void 0!==i&&i.enrollmentPrn&&(null!==_t&&void 0!==_t&&_t.student_prn_enroll_number||(a.student_prn_enroll_number="student_prn_enroll_number is required!")),a})(Ce,ye,0,De);let n=!1;for(let o in t){n=!0;break}n?Ye(t):pe((e=>!e))},children:[(0,Z.jsxs)("div",{className:l.Z.form_container,children:[("ADMISSION_ADMIN_SIDE"===(null===fe||void 0===fe?void 0:fe.openAs)||"INSTITUTE_SIDE"===(null===fe||void 0===fe?void 0:fe.openAs))&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:l.Z.form_other_field,children:[(0,Z.jsx)(v.Z,{labelText:ze("form_mobile_no_label"),placeholder:ze("form_student_mobile_number_placeholder"),name:"mobileNumber",value:Ne,type:"text",onChange:e=>{var t,n,o;Ie(null===(t=e.target.value)||void 0===t?void 0:t.trim()),10!==(null===(n=e.target.value)||void 0===n||null===(o=n.trim())||void 0===o?void 0:o.length)||"ADMISSION_ADMIN_SIDE"!==(null===fe||void 0===fe?void 0:fe.openAs)&&"INSTITUTE_SIDE"!==(null===fe||void 0===fe?void 0:fe.openAs)||St()},customStyleContainer:{width:"49.5%"},errorShow:Ke.studentPhoneNumberAdd}),null!==gt&&void 0!==gt&&null!==(O=gt.all_account)&&void 0!==O&&O.length?(0,Z.jsx)(w.Z,{selectLabel:ze("existing_account"),selectedValue:ze("select_existing_account"),value:nt,name:"user",onChange:e=>{ot(e.target.value)},options:null===gt||void 0===gt?void 0:gt.all_account,customStyleContainer:{width:"49.5%"}}):""]}),(0,Z.jsx)(f.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(0,Z.jsxs)("h4",{children:[ze("form_personal_info_label"),":"]}),(0,Z.jsxs)("div",{className:l.Z.form_container_profile,children:[(0,Z.jsx)(v.Z,{labelText:ze("form_name_label"),placeholder:ze("form_name_placeholder"),name:"fullname",value:xe,type:"text",onChange:e=>be(e.target.value),customStyleContainer:"INSTITUTE_SIDE"===(null===fe||void 0===fe?void 0:fe.openAs)||null!==xt&&void 0!==xt&&null!==(q=xt.studentFormSetting)&&void 0!==q&&q.enrollmentPrn?{width:"56%"}:{width:"86%"},errorShow:Ke.studentFirstName||Ke.studentLastName}),("INSTITUTE_SIDE"===(null===fe||void 0===fe?void 0:fe.openAs)||(null===xt||void 0===xt||null===(V=xt.studentFormSetting)||void 0===V?void 0:V.enrollmentPrn))&&(0,Z.jsx)(v.Z,{labelText:ze("ADMISSION_ADMIN_SIDE"===(null===fe||void 0===fe?void 0:fe.openAs)||"INSTITUTE_SIDE"===(null===fe||void 0===fe?void 0:fe.openAs)?"form_prn_enr_label":"form_prn_enr_student_label"),placeholder:ze("form_prn_enr_placeholder"),name:"prn",value:_t.student_prn_enroll_number,type:"text",onChange:e=>vt((t=>({...t,student_prn_enroll_number:e.target.value}))),customStyleContainer:{width:"30%"},errorShow:Ke.student_prn_enroll_number}),(0,Z.jsxs)("div",{className:l.Z.form_container_profile_image,children:[(0,Z.jsxs)("label",{htmlFor:"profile",className:l.Z.form_container_profile_image_label,onClick:()=>"ADMISSION_ADMIN_SIDE"===(null===fe||void 0===fe?void 0:fe.openAs)?yt():{},children:["ADMISSION_ADMIN_SIDE"===(null===fe||void 0===fe?void 0:fe.openAs)?(0,Z.jsx)("img",{className:l.Z.form_container_profile_photo,src:Ue?"".concat(A.qZ,"/").concat(Ue):"/images/ins_default_profile.svg",alt:"student avatar"}):(0,Z.jsx)("img",{className:l.Z.form_container_profile_photo,src:He||"/images/ins_default_profile.svg",alt:"student avatar"}),(0,Z.jsx)("img",{src:"/images/user-pencil-edit-transparent.svg",alt:"edit icon",className:l.Z.form_edit_icon})]}),"ADMISSION_ADMIN_SIDE"!==(null===fe||void 0===fe?void 0:fe.openAs)&&(0,Z.jsx)("input",{type:"file",id:"profile",onChange:yt,style:{display:"none"}})]})]}),(0,Z.jsxs)("div",{className:l.Z.form_profile_info,children:[(0,Z.jsx)(m.Z,{selectLabel:ze("form_gender_label"),selectedValue:ze("form_gender_placeholder"),value:Ce.studentGender,name:"studentGender",onChange:jt,options:s.ce,optionsValue:s.Dj,errorShow:Ke.studentGender}),(0,Z.jsx)(N.Z,{labelText:ze("form_date_of_birth_label"),placeholder:ze("form_date_of_birth_placeholder"),name:"studentDOB",value:Ce.studentDOB,onDateFunction:e=>{if((0,I.A)(e)){let t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);we((e=>({...e,studentDOB:n})))}else Je({msg:"You cannot select upcoming date ".concat(e),run:!0})},errorShow:Ke.studentDOB,customStyleContainer:{position:"relative"}}),(0,Z.jsx)(v.Z,{labelText:ze("form_mother_name_label"),placeholder:ze("form_mother_name_placeholder"),name:"studentMotherName",value:Ce.studentMotherName,type:"text",onChange:jt,errorShow:Ke.studentMotherName})]}),(0,Z.jsx)(f.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}}),"INSTITUTE_SIDE"===(null===fe||void 0===fe?void 0:fe.openAs)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:l.Z.is_fee_remain,children:[(0,Z.jsxs)("div",{children:[(0,Z.jsx)("h6",{className:l.Z.add_batch_wise,children:ze("form_add_batch_wise")}),(0,Z.jsx)("p",{className:l.Z.only_admssion_fees,children:ze("form_only_admssion_fees")})]}),(0,Z.jsx)(L,{name:"remaintoggle",labelText:ze("is_ther_any_fee_remain"),value:mt,onChange:()=>{ht((e=>!e)),vt((e=>({...e,fee_struct:"",is_remain:"",batch_set:[]})))},customStyleContainer:{width:"50%"}})]}),mt&&(0,Z.jsxs)(Z.Fragment,{children:[null===(R=_t.batch_set)||void 0===R?void 0:R.map(((e,t)=>(0,Z.jsx)("div",{className:l.Z.form_other_field,children:(0,Z.jsx)(E,{batches:e,formErrors:Ke,admissionId:null===xt||void 0===xt?void 0:xt.admissionId[0],onNewFieldInputChange:wt,index:t,classMasterId:null===fe||void 0===fe?void 0:fe.classMasterId,batchId:null===fe||void 0===fe?void 0:fe.batchId})},t))),(0,Z.jsx)("div",{className:l.Z.form_other_field,children:(0,Z.jsx)("div",{className:l.Z.form_add_fee_btn,onClick:()=>{vt((e=>({...e,batch_set:[...e.batch_set,{appId:"",fee_struct:"",amount:"",batchId:""}]})))},children:ze("form_add_batch_wise_fees_data")})})]}),!mt&&(0,Z.jsx)(k,{selectLabel:ze("form_select_fee_structure_label"),selectedValue:ze("form_select_fee_structure_label"),name:"fees",customStyleContainer:{width:"60%"},departmentId:null!==(H=null===Se||void 0===Se?void 0:Se.did)&&void 0!==H?H:"",classMasterId:null===fe||void 0===fe?void 0:fe.classMasterId,batchId:null===fe||void 0===fe?void 0:fe.batchId,onFeeStructureSelect:e=>{vt((t=>({...t,fee_struct:null===e||void 0===e?void 0:e._id,is_remain:"No",batch_set:[]})))}}),(0,Z.jsx)(f.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),"ADMISSION_ADMIN_SIDE"===(null===fe||void 0===fe?void 0:fe.openAs)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("h4",{children:[ze("form_admission_fees_details"),":"]}),et.fee_struct&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:l.Z.form_other_field,children:[(0,Z.jsx)(v.Z,{labelText:ze("selected_fee_structure"),name:"selected_fee_structure",value:null!==(G=ut.unique_structure_name)&&void 0!==G?G:"",type:"text",onChange:()=>{},customStyleContainer:{width:"49.5%"}}),(0,Z.jsx)(v.Z,{labelText:ze("payment_type"),name:"payment_type",value:et.fee_payment_mode,type:"text",onChange:()=>{},customStyleContainer:{width:"49.5%"}})]}),(0,Z.jsxs)("div",{className:l.Z.form_other_field,children:[(0,Z.jsx)(v.Z,{labelText:ze("amount"),name:"fee_payment_amount",value:et.fee_payment_amount,type:"tel",onChange:()=>{},customStyleContainer:{width:"49.5%"}}),(0,Z.jsx)(N.Z,{labelText:ze("select_date_of_transaction"),name:"transaction_date",value:et.transaction_date,onDateFunction:()=>{},customStyleContainer:{position:"relative",marginTop:"0.5rem",marginBottom:"0.5rem",width:"49.5%"},datePickerPosition:{top:"-3rem"},customStyleLabel:{marginTop:"7px"}})]}),(0,Z.jsxs)("div",{className:l.Z.form_other_field,children:[et.fee_bank_name&&(0,Z.jsx)(v.Z,{labelText:ze("bank_name_collect"),name:"bank_name_collect",value:et.fee_bank_name,type:"text",onChange:()=>{},customStyleContainer:{width:"49.5%"}}),et.fee_bank_holder&&(0,Z.jsx)(v.Z,{labelText:ze("banke_holder_name"),name:"banke_holder_name",value:et.fee_bank_holder,type:"text",onChange:()=>{},customStyleContainer:{width:"49.5%"}})]}),(0,Z.jsx)("div",{className:l.Z.form_other_field,children:et.fee_utr_reference&&(0,Z.jsx)(v.Z,{labelText:ze("cheque_dd_neft"),name:"cheque_dd_neft",value:et.fee_utr_reference,type:"text",onChange:()=>{},customStyleContainer:{width:"49.5%"}})})]}),(0,Z.jsx)("div",{className:l.Z.form_other_field,children:(0,Z.jsx)("div",{className:l.Z.form_add_fee_btn,onClick:()=>dt(!0),children:ze(et.fee_struct?"edit_select_fee_structure":"select_fee_structure")})}),(0,Z.jsx)(f.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),null!==pt&&void 0!==pt&&null!==(Q=pt.classes)&&void 0!==Q&&null!==(J=Q.subject)&&void 0!==J&&J.length||null!==pt&&void 0!==pt&&null!==(K=pt.classes)&&void 0!==K&&K.optionalSubjectCount?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("h4",{children:[ze("form_optional_subjects_label"),":"]}),(0,Z.jsxs)("p",{className:l.Z.optional_subject,children:[ze("form_choose_minimum_label")," ".concat(null===pt||void 0===pt||null===(Y=pt.classes)||void 0===Y?void 0:Y.optionalSubjectCount)," or",ze("form_maximum_label")," ".concat(null!==pt&&void 0!==pt&&null!==(W=pt.classes)&&void 0!==W&&W.optionalSubjectCount?(null===pt||void 0===pt||null===(X=pt.classes)||void 0===X?void 0:X.optionalSubjectCount)>(null===pt||void 0===pt||null===($=pt.classes)||void 0===$||null===(z=$.subject)||void 0===z?void 0:z.length)?null===pt||void 0===pt||null===(ee=pt.classes)||void 0===ee?void 0:ee.optionalSubjectCount:null===pt||void 0===pt||null===(te=pt.classes)||void 0===te||null===(ne=te.subject)||void 0===ne?void 0:ne.length:""),(null===Ke||void 0===Ke?void 0:Ke.optionalSubject)&&(0,Z.jsx)("span",{style:{color:"red",marginLeft:"15px"},children:null===Ke||void 0===Ke?void 0:Ke.optionalSubject})]}),null===pt||void 0===pt||null===(oe=pt.classes)||void 0===oe||null===(le=oe.subject)||void 0===le?void 0:le.map((e=>(0,Z.jsx)(x.Z,{checkLabel:null===e||void 0===e?void 0:e.subjectName,checkedValue:!!De[null===e||void 0===e?void 0:e._id],name:null===e||void 0===e?void 0:e._id,onCheckboxAction:At,customStyle:{display:"block",width:"100%",marginLeft:"0"},customStyleLabel:{color:"rgba(18, 18, 18, 0.7)",fontSize:"12px"}},null===e||void 0===e?void 0:e._id)))]}):"",(null===xt||void 0===xt||null===(ie=xt.studentFormSetting)||void 0===ie?void 0:ie.otherPersonalInfo)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("h4",{children:[ze("form_other_personal_info_label"),":"]}),(0,Z.jsx)("div",{className:l.Z.form_other_field,children:null===Fe||void 0===Fe?void 0:Fe.map((e=>s.zA.map((t=>{var n;return(null===t||void 0===t||null===(n=t.lists)||void 0===n?void 0:n.includes(e))&&(null!==t&&void 0!==t&&t.type?(0,Z.jsx)(m.Z,{selectLabel:ze(null===t||void 0===t?void 0:t.label),selectedValue:ze(null===t||void 0===t?void 0:t.placeHolder),value:ye[e],name:e,onChange:Nt,options:null===t||void 0===t?void 0:t.chooseOptions,optionsValue:null===t||void 0===t?void 0:t.chooseOptionsValue,customStyleContainer:{width:"49.5%"},errorShow:Ke[e]},null===t||void 0===t?void 0:t.id):(0,Z.jsx)(v.Z,{labelText:ze(null===t||void 0===t?void 0:t.label),placeholder:ze(null===t||void 0===t?void 0:t.placeHolder),name:e,value:ye[e],type:["studentPhoneNumber","studentAadharNumber"].includes(e)?"tel":"text",inputLength:"studentPhoneNumber"===e?10:12,onChange:Nt,customStyleContainer:{width:"49.5%"},errorShow:Ke[e]},null===t||void 0===t?void 0:t.id))}))))}),(0,Z.jsx)(f.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===xt||void 0===xt||null===(ae=xt.studentFormSetting)||void 0===ae?void 0:ae.identityDetails)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("h4",{children:[ze("form_identity_details_label"),":"]}),(0,Z.jsx)("div",{className:l.Z.form_other_field,children:null===Fe||void 0===Fe?void 0:Fe.map((e=>s.vf.map((t=>{var n;return(null===t||void 0===t||null===(n=t.lists)||void 0===n?void 0:n.includes(e))&&(null!==t&&void 0!==t&&t.type?(0,Z.jsx)(m.Z,{selectLabel:ze(null===t||void 0===t?void 0:t.label),selectedValue:ze(null===t||void 0===t?void 0:t.placeHolder),value:ye[e],onChange:Nt,options:null===t||void 0===t?void 0:t.chooseOptions,optionsValue:null===t||void 0===t?void 0:t.chooseOptionsValue,name:e,customStyleContainer:{width:"49.5%"},errorShow:Ke[e]},null===t||void 0===t?void 0:t.id):(0,Z.jsx)(v.Z,{labelText:ze(null===t||void 0===t?void 0:t.label),placeholder:ze(null===t||void 0===t?void 0:t.placeHolder),name:e,value:ye[e],type:"text",onChange:Nt,customStyleContainer:{width:"49.5%"},errorShow:Ke[e]},null===t||void 0===t?void 0:t.id))}))))}),(0,Z.jsx)(f.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===xt||void 0===xt||null===(de=xt.studentFormSetting)||void 0===de?void 0:de.addressInfo)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("h4",{children:[ze("form_address_info_label"),":"]}),(0,Z.jsx)("div",{className:l.Z.form_other_field,children:null===Fe||void 0===Fe?void 0:Fe.map((e=>s.MI.map((t=>{var n;return(null===t||void 0===t||null===(n=t.lists)||void 0===n?void 0:n.includes(e))&&(null!==t&&void 0!==t&&t.type?(0,Z.jsx)(h.Z,{labelText:ze(null===t||void 0===t?void 0:t.label),placeholder:ze(null===t||void 0===t?void 0:t.placeHolder),name:e,value:ye[e],type:"text",onChange:Nt,customStyleContainer:{width:"49.5%"},errorShow:Ke[e]},null===t||void 0===t?void 0:t.id):null!==t&&void 0!==t&&t.checkbox?(0,Z.jsx)(x.Z,{checkLabel:ze(null===t||void 0===t?void 0:t.label),checkedValue:ye.asSameAddress,onCheckboxAction:Ft,customStyle:{display:"block",width:"100%",marginLeft:"0"}},null===t||void 0===t?void 0:t.id):(0,Z.jsx)(v.Z,{labelText:ze(null===t||void 0===t?void 0:t.label),placeholder:ze(null===t||void 0===t?void 0:t.placeHolder),name:e,value:ye[e],type:["studentCurrentPincode","studentPincode"].includes(e)?"tel":"text",inputLength:6,onChange:Nt,customStyleContainer:{width:"49.5%"},errorShow:Ke[e]},null===t||void 0===t?void 0:t.id))}))))}),(0,Z.jsx)(f.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===xt||void 0===xt||null===(re=xt.studentFormSetting)||void 0===re?void 0:re.parentsInfo)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("h4",{children:[ze("form_parent_guardian_info_label"),":"]}),(0,Z.jsx)("div",{className:l.Z.form_other_field,children:null===Fe||void 0===Fe?void 0:Fe.map((e=>s.Xu.map((t=>{var n;return(null===t||void 0===t||null===(n=t.lists)||void 0===n?void 0:n.includes(e))&&(null!==t&&void 0!==t&&t.type?(0,Z.jsx)(m.Z,{selectLabel:ze(null===t||void 0===t?void 0:t.label),selectedValue:ze(null===t||void 0===t?void 0:t.placeHolder),value:ye[e],onChange:Nt,options:null===t||void 0===t?void 0:t.chooseOptions,optionsValue:null===t||void 0===t?void 0:t.chooseOptionsValue,name:e,customStyleContainer:{width:"49.5%"},errorShow:Ke[e]},null===t||void 0===t?void 0:t.id):(0,Z.jsx)(v.Z,{labelText:ze(null===t||void 0===t?void 0:t.label),placeholder:ze(null===t||void 0===t?void 0:t.placeHolder),name:e,value:ye[e],type:["studentParentsPhoneNumber"].includes(e)?"tel":"text",inputLength:"studentParentsPhoneNumber"===e?10:30,onChange:Nt,customStyleContainer:{width:"49.5%"},errorShow:Ke[e]},null===t||void 0===t?void 0:t.id))}))))}),(0,Z.jsx)(f.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===xt||void 0===xt||null===(se=xt.studentFormSetting)||void 0===se||null===(ue=se.previousSchoolAndDocument)||void 0===ue?void 0:ue.previousSchoolDocument)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("h4",{children:[ze("form_previous_school_document_label"),":"]}),(0,Z.jsx)("div",{className:l.Z.form_other_field,children:null===ke||void 0===ke?void 0:ke.map((e=>s.Bq.map((t=>{var n;return(null===t||void 0===t||null===(n=t.lists)||void 0===n?void 0:n.includes(e))&&(null!==t&&void 0!==t&&t.fileType?(0,Z.jsx)(p.Z,{labelText:ze(null===t||void 0===t?void 0:t.label),name:e,value:Te[e],onChange:Ct,customStyleContainer:{width:"49.5%"},errorShow:Ke[e]},null===t||void 0===t?void 0:t.id):null!==t&&void 0!==t&&t.checkbox?"":!(null!==Te&&void 0!==Te&&Te.previousSchoolDocument)&&(0,Z.jsx)(v.Z,{labelText:ze(null===t||void 0===t?void 0:t.label),placeholder:ze(null===t||void 0===t?void 0:t.placeHolder),name:e,value:Te[e],type:"text",onChange:It,customStyleContainer:{width:"100%"},errorShow:Ke[e]},null===t||void 0===t?void 0:t.id))}))))}),(0,Z.jsx)(f.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===xt||void 0===xt||null===(ce=xt.studentFormSetting)||void 0===ce?void 0:ce.bankDetails)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("h4",{children:[ze("form_student_bank_details_label"),":"]}),(0,Z.jsx)("div",{className:l.Z.form_other_field,children:null===Fe||void 0===Fe?void 0:Fe.map((e=>s.Mi.map((t=>{var n;return(null===t||void 0===t||null===(n=t.lists)||void 0===n?void 0:n.includes(e))&&(null!==t&&void 0!==t&&t.fileType?(0,Z.jsx)(p.Z,{labelText:ze(null===t||void 0===t?void 0:t.label),name:e,value:ye[e],onChange:Ct,customStyleContainer:{width:"49.5%"},errorShow:Ke[e]},null===t||void 0===t?void 0:t.id):(0,Z.jsx)(v.Z,{labelText:ze(null===t||void 0===t?void 0:t.label),placeholder:ze(null===t||void 0===t?void 0:t.placeHolder),name:e,value:ye[e],type:["studentBankAccount","studentBankReAccount"].includes(e)?"tel":"text",reAccount:"studentBankReAccount"===e?Ke[e]:"",inputLength:50,onChange:Nt,customStyleContainer:{width:"49.5%"},errorShow:Ke[e]},null===t||void 0===t?void 0:t.id))}))))}),(0,Z.jsx)(f.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===xt||void 0===xt||null===(_e=xt.studentFormSetting)||void 0===_e?void 0:_e.id_card)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("h4",{children:[ze("form_student_idcard_details_label"),":"]}),(0,Z.jsx)("div",{className:l.Z.form_other_field,children:null===Fe||void 0===Fe?void 0:Fe.map((e=>s.D0.map((t=>{var n;return(null===t||void 0===t||null===(n=t.lists)||void 0===n?void 0:n.includes(e))&&(null!==t&&void 0!==t&&t.fileType?(0,Z.jsx)(p.Z,{labelText:ze(null===t||void 0===t?void 0:t.label),name:e,value:ye[e],onChange:Ct,customStyleContainer:{width:"49.5%"},errorShow:Ke[e]},null===t||void 0===t?void 0:t.id):null)}))))}),(0,Z.jsx)(f.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===xt||void 0===xt||null===(ve=xt.studentFormSetting)||void 0===ve?void 0:ve.anti_ragging)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("h4",{children:[ze("form_student_antiragging_details_label"),":"]}),(0,Z.jsx)("div",{className:l.Z.form_other_field,children:null===Fe||void 0===Fe?void 0:Fe.map((e=>s.MV.map((t=>{var n;return(null===t||void 0===t||null===(n=t.lists)||void 0===n?void 0:n.includes(e))&&(null!==t&&void 0!==t&&t.fileType?(0,Z.jsx)(p.Z,{labelText:ze(null===t||void 0===t?void 0:t.label),name:e,value:ye[e],onChange:Ct,customStyleContainer:{width:"49.5%"},errorShow:Ke[e]},null===t||void 0===t?void 0:t.id):null)}))))})]}),(0,Z.jsx)(g.Z,{type:"submit",buttonText:ze("form_preview"),customStyleButton:{marginTop:"1.5vw"}})]}),qe&&(0,Z.jsx)(c.Z,{open:qe,children:(0,Z.jsx)(u.Z,{setPhotoURL:Ge,photoURL:He,setFile:Oe,setOpenCrop:Ve,setProfilePhoto:Re,first:1,second:1,setUpload:Le})}),(0,Z.jsx)(S.Ch,{msg:Qe.msg,run:Qe.run,setRun:()=>Je({msg:"",run:!1}),postiton:"bottom",type:"error"})]}),We&&(0,Z.jsx)(j.Z,{}),lt&&(0,Z.jsx)(F.Z,{onClose:()=>it(!1),showContent:"Select Avatar",onClick:e=>{Oe(e),tt((t=>({...t,sample_pic:e})))}}),at&&(0,Z.jsx)(U.Z,{onClose:()=>dt(!1),departmentId:null===fe||void 0===fe?void 0:fe.applicationDepartment,classMasterId:null===fe||void 0===fe?void 0:fe.applicationMaster,batchId:null===fe||void 0===fe?void 0:fe.batchId,onSelectedStudent:e=>{ct(e),st(!0),tt((t=>({...t,fee_struct:null===e||void 0===e?void 0:e._id})))},asOpen:"STUDENT_JOINING_FORM"}),rt&&(0,Z.jsx)(B,{onClose:()=>{st(!1),tt((e=>({...e,mode:"",amount:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:"",fee_struct:""})))},onCloseFunction:()=>st(!1),openFeesQuery:ut,setStudentAdmission:tt})]})};var H=n(71287),G=n(28497),Q=n(80214),J=n(71439),K=n(64499),Y=n(39480);const W=e=>{var t,n,a,d,r,D,k,P,T,M,E,L,O,q,V,R;let{preview:H,setPreview:G,location:Q,onApplyForm:J}=e;const[K,Y]=(0,o.useState)(""),[W,X]=(0,o.useState)({}),[$,z]=(0,o.useState)(""),[ee,te]=(0,o.useState)([]),[ne,oe]=(0,o.useState)({studentFirstName:"",studentMiddleName:"",studentLastName:"",studentDOB:"",studentGender:"",studentMotherName:""}),[le,ie]=(0,o.useState)([]),[ae,de]=(0,o.useState)({}),[re,se]=(0,o.useState)(!1),[ue,ce]=(0,o.useState)(""),[_e,ve]=(0,o.useState)(!1),[me,he]=(0,o.useState)(""),[pe,fe]=(0,o.useState)(""),[ge,Se]=(0,o.useState)({msg:"",run:!1}),[xe,be]=(0,o.useState)({}),[ye,je]=(0,o.useState)(""),[Ne]=(0,y.FL)(),{t:Ie}=(0,i.$G)(),[Fe,Ae]=(0,o.useState)({sample_pic:"",mode:"",amount:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:"",fee_struct:""}),[Ce,we]=(0,o.useState)(""),[De,Ze]=(0,o.useState)(!1),[ke,Pe]=(0,o.useState)(!1),[Te,Me]=(0,o.useState)(!1),[Ee,Le]=(0,o.useState)(""),[Ue,Oe]=(0,o.useState)({student_prn_enroll_number:"",fee_struct:"",is_remain:"",batch_set:[]}),{getAccountWithNumber:qe,getAccountWithNumberRefetch:Ve}=(0,C.St)({phoneKey:$,skip:10!==(null===$||void 0===$?void 0:$.length)}),{departmentStudentForm:Be,departmentStudentFormRefetch:Re}=(0,_.OO)({did:null===Q||void 0===Q?void 0:Q.departmentId,skip:!(null!==Q&&void 0!==Q&&Q.departmentId)});(0,o.useEffect)((()=>{null!==Q&&void 0!==Q&&Q.departmentId&&Re()}),[Re,null===Q||void 0===Q?void 0:Q.departmentId]),(0,o.useEffect)((()=>{if(null!==Be&&void 0!==Be&&Be.studentFormSetting){const t=[];for(let n in Be.studentFormSetting)if("previousSchoolAndDocument"===n){var e;let t=null===Be||void 0===Be||null===(e=Be.studentFormSetting)||void 0===e?void 0:e.previousSchoolAndDocument,n=[];for(let e in t)t[e]&&("aadharCard"===e?(de((e=>({...e,addharFrontCard:"",addharBackCard:""}))),n.push("addharFrontCard","addharBackCard")):"previousSchoolDocument"===e?(de((e=>({...e,studentPreviousSchool:"",previousSchoolDocument:""}))),n.push("previousSchoolDocument","studentPreviousSchool")):(de((t=>({...t,[e]:""}))),n.push(e)));ie([...n])}else Be.studentFormSetting[n]&&("otherPersonalInfo"===n?(X((e=>({...e,...null===s.Qc||void 0===s.Qc?void 0:s.Qc.withValue}))),t.push(...null===s.Qc||void 0===s.Qc?void 0:s.Qc.keys)):"identityDetails"===n?(X((e=>({...e,...null===s.Jg||void 0===s.Jg?void 0:s.Jg.withValue}))),t.push(...null===s.Jg||void 0===s.Jg?void 0:s.Jg.keys)):"addressInfo"===n?(X((e=>({...e,...null===s.f_||void 0===s.f_?void 0:s.f_.withValue}))),t.push(...null===s.f_||void 0===s.f_?void 0:s.f_.keys)):"parentsInfo"===n?(X((e=>({...e,...null===s.DS||void 0===s.DS?void 0:s.DS.withValue}))),t.push(...null===s.DS||void 0===s.DS?void 0:s.DS.keys)):"bankDetails"===n?(X((e=>({...e,...null===s.E1||void 0===s.E1?void 0:s.E1.withValue}))),t.push(...null===s.E1||void 0===s.E1?void 0:s.E1.keys)):"gate_score"===n?(X((e=>({...e,...null===s.gt||void 0===s.gt?void 0:s.gt.withValue}))),t.push(...null===s.gt||void 0===s.gt?void 0:s.gt.keys)):"marks_and_degree_score"===n?(X((e=>({...e,...null===s.UX||void 0===s.UX?void 0:s.UX.withValue}))),t.push(...null===s.UX||void 0===s.UX?void 0:s.UX.keys)):"id_card"===n?(X((e=>({...e,...null===s.aT||void 0===s.aT?void 0:s.aT.withValue}))),t.push(...null===s.aT||void 0===s.aT?void 0:s.aT.keys)):"anti_ragging"===n&&(X((e=>({...e,...null===s.Py||void 0===s.Py?void 0:s.Py.withValue}))),t.push(...null===s.Py||void 0===s.Py?void 0:s.Py.keys)));te([...t])}}),[null===Be||void 0===Be?void 0:Be.studentFormSetting]),(0,o.useEffect)((()=>{if(K){const e=K.split(" ");e.length>=3?oe((t=>({...t,studentFirstName:e[0],studentMiddleName:e[1],studentLastName:e.slice(2).toString().replaceAll(","," ")}))):oe((t=>({...t,studentFirstName:e[0],studentMiddleName:"",studentLastName:void 0===e[1]?"":e[1]})))}}),[K]);const He=e=>{if("ADMISSION_ADMIN_SIDE"===(null===Q||void 0===Q?void 0:Q.openAs))Ze(!0);else{const t=URL.createObjectURL(e.target.files[0]);ce(e.target.files[0]),he(t),fe(t),ve(!0)}};(0,o.useEffect)((()=>{re&&We({target:{name:"file",files:[ue]}})}),[re,ue]);const Ge=e=>{oe((t=>({...t,[e.target.name]:e.target.value})))},Qe=e=>{"studentPhoneNumber"===e.target.name||"studentParentsPhoneNumber"===e.target.name?X((t=>{var n;return{...t,[e.target.name]:null===(n=e.target.value)||void 0===n?void 0:n.trim()}})):X((t=>({...t,[e.target.name]:e.target.value})))},Je=e=>{var t;null!==(t=["student_gate_score","student_degree_marks","student_percentage","student_class_cpi","student_pre_sem_points","student_final_sem_points"])&&void 0!==t&&t.includes(e.target.name)?X((t=>{var n;return{...t,[e.target.name]:null===(n=e.target.value)||void 0===n?void 0:n.trim()}})):X((t=>({...t,[e.target.name]:e.target.value})))},Ke=e=>{"previousSchoolDocument"===e.target.name?e.target.value?de((t=>({...t,[e.target.name]:e.target.value,studentPreviousSchool:"No"}))):de((t=>({...t,[e.target.name]:e.target.value,studentPreviousSchool:""}))):"studentPreviousSchool"===e.target.name?de((t=>({...t,[e.target.name]:e.target.value}))):de((t=>({...t,[e.target.name]:e.target.files[0]})))},Ye=e=>{e.target.checked?X((t=>({...t,asSameAddress:e.target.checked,studentAddress:t.studentCurrentAddress,studentPincode:t.studentCurrentPincode}))):X((t=>({...t,asSameAddress:e.target.checked,studentAddress:"",studentPincode:""})))},We=e=>{var t;if(null!==(t=e.target.files)&&void 0!==t&&t.length){je((e=>!e));const t=new FormData;t.append("file",e.target.files[0]),Ne({fileUpload:t}).then((t=>{var n,o,l;"file"===e.target.name?(se(!1),ce({name:e.target.name,key:null===(o=t.data)||void 0===o?void 0:o.imageKey,type:null===(l=e.target.files[0])||void 0===l?void 0:l.type})):null!==(n=["bankPassbook","student_id_card_front","student_id_card_back","student_anti_ragging"])&&void 0!==n&&n.includes(e.target.name)?X((n=>{var o,l,i;return{...n,[e.target.name]:{originalName:null===(o=e.target.files[0])||void 0===o?void 0:o.name,name:e.target.name,key:null===(l=t.data)||void 0===l?void 0:l.imageKey,type:null===(i=e.target.files[0])||void 0===i?void 0:i.type}}})):de((n=>{var o,l,i;return{...n,[e.target.name]:{originalName:null===(o=e.target.files[0])||void 0===o?void 0:o.name,name:e.target.name,key:null===(l=t.data)||void 0===l?void 0:l.imageKey,type:null===(i=e.target.files[0])||void 0===i?void 0:i.type}}}));je((e=>!e))})).catch({})}},Xe=e=>{let t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1]);X((e=>({...e,student_degree_year:n})))},$e=e=>{let t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2]);X((e=>({...e,student_gate_year:n})))};return(0,Z.jsxs)(Z.Fragment,{children:[H?(0,Z.jsx)(b.Z,{studentForm:W,dynamicForm:ee,formData:ne,dynamicFormDocument:le,dynamicDocument:ae,fileUrl:"ADMISSION_ADMIN_SIDE"===(null===Q||void 0===Q?void 0:Q.openAs)?"".concat(A.qZ,"/").concat(ue):pe,formSetting:null===Be||void 0===Be?void 0:Be.studentFormSetting,onApplyStudentForm:()=>{J({studentPhoneNumberAdd:$,file:ue,formData:ne,studentForm:W,dynamicDocument:ae,optinalSubject:null,studentAdmission:Fe,selectedUser:Ce,studentNewField:Ue,pdfUndertaking:null!==Be&&void 0!==Be&&Be.pg_undertakings_admission?"PG":null!==Be&&void 0!==Be&&Be.ug_undertakings_admission?"UG":"OFF"})},location:Q,studentPhoneNumber:$,studentAdmission:Fe,showingExistingUser:null===qe||void 0===qe?void 0:qe.all_account,selectedUser:Ce,studentNewField:Ue,openFeesQuery:Ee}):(0,Z.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t="ADMISSION_ADMIN_SIDE"===(null===Q||void 0===Q?void 0:Q.openAs)?((e,t,n)=>{const o={};ue||(Se({msg:"Please Select Image",run:!0}),o.file="profile image is required!"),t||(o.studentPhoneNumberAdd="* required");for(let l in e)"studentMiddleName"===l||"studentMotherName"===l||e[l]||(o[l]="".concat(l," is required!"));return o})(ne,$):((e,t,n)=>{var o;const l={};ue||(Se({msg:Ie("form_select_image_label"),run:!0}),l.file="profile image is required!"),t.studentBankAccount&&t.studentBankAccount!==t.studentBankReAccount&&(l.studentBankReAccount="".concat(Ie("form_account_dose_not_match_label")));for(let i in e)"studentMiddleName"===i||e[i]||(l[i]="".concat(i," is required!"));for(let i in t)"studentPhoneNumber"===i||"studentEmail"===i||"student_anti_ragging"===i||"student_id_card_front"===i||"student_id_card_back"===i||"studentFatherRationCardColor"===i||t[i]||(l[i]="".concat(i," is required!"));return null!==Be&&void 0!==Be&&null!==(o=Be.studentFormSetting)&&void 0!==o&&o.enrollmentPrn&&(null!==Ue&&void 0!==Ue&&Ue.student_prn_enroll_number||(l.student_prn_enroll_number="student_prn_enroll_number is required!")),l})(ne,W);let n=!1;for(let o in t){n=!0;break}n?be(t):G((e=>!e))},children:[(0,Z.jsxs)("div",{className:l.Z.form_container,children:["ADMISSION_ADMIN_SIDE"===(null===Q||void 0===Q?void 0:Q.openAs)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:l.Z.form_other_field,children:[(0,Z.jsx)(v.Z,{labelText:Ie("form_mobile_no_label"),placeholder:Ie("form_student_mobile_number_placeholder"),name:"mobileNumber",value:$,type:"text",onChange:e=>{var t,n,o;z(null===(t=e.target.value)||void 0===t?void 0:t.trim()),10===(null===(n=e.target.value)||void 0===n||null===(o=n.trim())||void 0===o?void 0:o.length)&&(null===Q||void 0===Q||Q.openAs)},customStyleContainer:{width:"49.5%"},errorShow:xe.studentPhoneNumberAdd}),null!==qe&&void 0!==qe&&null!==(t=qe.all_account)&&void 0!==t&&t.length?(0,Z.jsx)(w.Z,{selectLabel:Ie("existing_account"),selectedValue:Ie("select_existing_account"),value:Ce,name:"user",onChange:e=>{we(e.target.value)},options:null===qe||void 0===qe?void 0:qe.all_account,customStyleContainer:{width:"49.5%"}}):""]}),(0,Z.jsx)(f.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(0,Z.jsxs)("h4",{children:[Ie("form_personal_info_label"),":"]}),(0,Z.jsxs)("div",{className:l.Z.form_container_profile,children:[(0,Z.jsx)(v.Z,{labelText:Ie("form_name_label"),placeholder:Ie("form_name_placeholder"),name:"fullname",value:K,type:"text",onChange:e=>Y(e.target.value),customStyleContainer:null!==Be&&void 0!==Be&&null!==(n=Be.studentFormSetting)&&void 0!==n&&n.enrollmentPrn?{width:"56%"}:{width:"86%"},errorShow:xe.studentFirstName||xe.studentLastName}),(null===Be||void 0===Be||null===(a=Be.studentFormSetting)||void 0===a?void 0:a.enrollmentPrn)&&(0,Z.jsx)(v.Z,{labelText:Ie("ADMISSION_ADMIN_SIDE"===(null===Q||void 0===Q?void 0:Q.openAs)?"form_prn_enr_label":"form_prn_enr_student_label"),placeholder:Ie("form_prn_enr_placeholder"),name:"prn",value:Ue.student_prn_enroll_number,type:"text",onChange:e=>Oe((t=>({...t,student_prn_enroll_number:e.target.value}))),customStyleContainer:{width:"30%"},errorShow:xe.student_prn_enroll_number}),(0,Z.jsxs)("div",{className:l.Z.form_container_profile_image,children:[(0,Z.jsxs)("label",{htmlFor:"profile",className:l.Z.form_container_profile_image_label,onClick:()=>"ADMISSION_ADMIN_SIDE"===(null===Q||void 0===Q?void 0:Q.openAs)?He():{},children:["ADMISSION_ADMIN_SIDE"===(null===Q||void 0===Q?void 0:Q.openAs)?(0,Z.jsx)("img",{className:l.Z.form_container_profile_photo,src:ue?"".concat(A.qZ,"/").concat(ue):"/images/ins_default_profile.svg",alt:"student avatar"}):(0,Z.jsx)("img",{className:l.Z.form_container_profile_photo,src:pe||"/images/ins_default_profile.svg",alt:"student avatar"}),(0,Z.jsx)("img",{src:"/images/user-pencil-edit-transparent.svg",alt:"edit icon",className:l.Z.form_edit_icon})]}),"ADMISSION_ADMIN_SIDE"!==(null===Q||void 0===Q?void 0:Q.openAs)&&(0,Z.jsx)("input",{type:"file",id:"profile",onChange:He,style:{display:"none"}})]})]}),(0,Z.jsxs)("div",{className:l.Z.form_profile_info,children:[(0,Z.jsx)(m.Z,{selectLabel:Ie("form_gender_label"),selectedValue:Ie("form_gender_placeholder"),value:ne.studentGender,name:"studentGender",onChange:Ge,options:s.ce,optionsValue:s.Dj,errorShow:xe.studentGender}),(0,Z.jsx)(N.Z,{labelText:Ie("form_date_of_birth_label"),placeholder:Ie("form_date_of_birth_placeholder"),name:"studentDOB",value:ne.studentDOB,onDateFunction:e=>{if((0,I.A)(e)){let t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);oe((e=>({...e,studentDOB:n})))}else Se({msg:"You cannot select upcoming date ".concat(e),run:!0})},errorShow:xe.studentDOB,customStyleContainer:{position:"relative"}}),(0,Z.jsx)(v.Z,{labelText:Ie("form_mother_name_label"),placeholder:Ie("form_mother_name_placeholder"),name:"studentMotherName",value:ne.studentMotherName,type:"text",onChange:Ge,errorShow:xe.studentMotherName})]}),(0,Z.jsx)(f.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}}),(null===Be||void 0===Be||null===(d=Be.studentFormSetting)||void 0===d?void 0:d.otherPersonalInfo)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("h4",{children:[Ie("form_other_personal_info_label"),":"]}),(0,Z.jsx)("div",{className:l.Z.form_other_field,children:null===ee||void 0===ee?void 0:ee.map((e=>s.zA.map((t=>{var n;return(null===t||void 0===t||null===(n=t.lists)||void 0===n?void 0:n.includes(e))&&(null!==t&&void 0!==t&&t.type?(0,Z.jsx)(m.Z,{selectLabel:Ie(null===t||void 0===t?void 0:t.label),selectedValue:Ie(null===t||void 0===t?void 0:t.placeHolder),value:W[e],name:e,onChange:Qe,options:null===t||void 0===t?void 0:t.chooseOptions,optionsValue:null===t||void 0===t?void 0:t.chooseOptionsValue,customStyleContainer:{width:"49.5%"},errorShow:xe[e]},null===t||void 0===t?void 0:t.id):(0,Z.jsx)(v.Z,{labelText:Ie(null===t||void 0===t?void 0:t.label),placeholder:Ie(null===t||void 0===t?void 0:t.placeHolder),name:e,value:W[e],type:["studentPhoneNumber","studentAadharNumber"].includes(e)?"tel":"text",inputLength:"studentPhoneNumber"===e?10:12,onChange:Qe,customStyleContainer:{width:"49.5%"},errorShow:xe[e]},null===t||void 0===t?void 0:t.id))}))))}),(0,Z.jsx)(f.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===Be||void 0===Be||null===(r=Be.studentFormSetting)||void 0===r?void 0:r.identityDetails)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("h4",{children:[Ie("form_identity_details_label"),":"]}),(0,Z.jsx)("div",{className:l.Z.form_other_field,children:null===ee||void 0===ee?void 0:ee.map((e=>s.vf.map((t=>{var n;return(null===t||void 0===t||null===(n=t.lists)||void 0===n?void 0:n.includes(e))&&(null!==t&&void 0!==t&&t.type?(0,Z.jsx)(m.Z,{selectLabel:Ie(null===t||void 0===t?void 0:t.label),selectedValue:Ie(null===t||void 0===t?void 0:t.placeHolder),value:W[e],onChange:Qe,options:null===t||void 0===t?void 0:t.chooseOptions,optionsValue:null===t||void 0===t?void 0:t.chooseOptionsValue,name:e,customStyleContainer:{width:"49.5%"},errorShow:xe[e]},null===t||void 0===t?void 0:t.id):(0,Z.jsx)(v.Z,{labelText:Ie(null===t||void 0===t?void 0:t.label),placeholder:Ie(null===t||void 0===t?void 0:t.placeHolder),name:e,value:W[e],type:"text",onChange:Qe,customStyleContainer:{width:"49.5%"},errorShow:xe[e]},null===t||void 0===t?void 0:t.id))}))))}),(0,Z.jsx)(f.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===Be||void 0===Be||null===(D=Be.studentFormSetting)||void 0===D?void 0:D.addressInfo)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("h4",{children:[Ie("form_address_info_label"),":"]}),(0,Z.jsx)("div",{className:l.Z.form_other_field,children:null===ee||void 0===ee?void 0:ee.map((e=>s.MI.map((t=>{var n;return(null===t||void 0===t||null===(n=t.lists)||void 0===n?void 0:n.includes(e))&&(null!==t&&void 0!==t&&t.type?(0,Z.jsx)(h.Z,{labelText:Ie(null===t||void 0===t?void 0:t.label),placeholder:Ie(null===t||void 0===t?void 0:t.placeHolder),name:e,value:W[e],type:"text",onChange:Qe,customStyleContainer:{width:"49.5%"},errorShow:xe[e]},null===t||void 0===t?void 0:t.id):null!==t&&void 0!==t&&t.checkbox?(0,Z.jsx)(x.Z,{checkLabel:Ie(null===t||void 0===t?void 0:t.label),checkedValue:W.asSameAddress,onCheckboxAction:Ye,customStyle:{display:"block",width:"100%",marginLeft:"0"}},null===t||void 0===t?void 0:t.id):(0,Z.jsx)(v.Z,{labelText:Ie(null===t||void 0===t?void 0:t.label),placeholder:Ie(null===t||void 0===t?void 0:t.placeHolder),name:e,value:W[e],type:["studentCurrentPincode","studentPincode"].includes(e)?"tel":"text",inputLength:6,onChange:Qe,customStyleContainer:{width:"49.5%"},errorShow:xe[e]},null===t||void 0===t?void 0:t.id))}))))}),(0,Z.jsx)(f.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===Be||void 0===Be||null===(k=Be.studentFormSetting)||void 0===k?void 0:k.parentsInfo)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("h4",{children:[Ie("form_parent_guardian_info_label"),":"]}),(0,Z.jsx)("div",{className:l.Z.form_other_field,children:null===ee||void 0===ee?void 0:ee.map((e=>s.Xu.map((t=>{var n;return(null===t||void 0===t||null===(n=t.lists)||void 0===n?void 0:n.includes(e))&&(null!==t&&void 0!==t&&t.type?(0,Z.jsx)(m.Z,{selectLabel:Ie(null===t||void 0===t?void 0:t.label),selectedValue:Ie(null===t||void 0===t?void 0:t.placeHolder),value:W[e],onChange:Qe,options:null===t||void 0===t?void 0:t.chooseOptions,optionsValue:null===t||void 0===t?void 0:t.chooseOptionsValue,name:e,customStyleContainer:{width:"49.5%"},errorShow:xe[e]},null===t||void 0===t?void 0:t.id):(0,Z.jsx)(v.Z,{labelText:Ie(null===t||void 0===t?void 0:t.label),placeholder:Ie(null===t||void 0===t?void 0:t.placeHolder),name:e,value:W[e],type:["studentParentsPhoneNumber"].includes(e)?"tel":"text",inputLength:"studentParentsPhoneNumber"===e?10:30,onChange:Qe,customStyleContainer:{width:"49.5%"},errorShow:xe[e]},null===t||void 0===t?void 0:t.id))}))))}),(0,Z.jsx)(f.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===Be||void 0===Be||null===(P=Be.studentFormSetting)||void 0===P||null===(T=P.previousSchoolAndDocument)||void 0===T?void 0:T.previousSchoolDocument)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("h4",{children:[Ie("form_previous_school_document_label"),":"]}),(0,Z.jsx)("div",{className:l.Z.form_other_field,children:null===le||void 0===le?void 0:le.map((e=>s.Bq.map((t=>{var n;return(null===t||void 0===t||null===(n=t.lists)||void 0===n?void 0:n.includes(e))&&(null!==t&&void 0!==t&&t.fileType?(0,Z.jsx)(p.Z,{labelText:Ie(null===t||void 0===t?void 0:t.label),name:e,value:ae[e],onChange:We,customStyleContainer:{width:"49.5%"},errorShow:xe[e]},null===t||void 0===t?void 0:t.id):null!==t&&void 0!==t&&t.checkbox?null:!(null!==ae&&void 0!==ae&&ae.previousSchoolDocument)&&(0,Z.jsx)(v.Z,{labelText:Ie(null===t||void 0===t?void 0:t.label),placeholder:Ie(null===t||void 0===t?void 0:t.placeHolder),name:e,value:ae[e],type:"text",onChange:Ke,customStyleContainer:{width:"100%"},errorShow:xe[e]},null===t||void 0===t?void 0:t.id))}))))}),(0,Z.jsx)(f.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===Be||void 0===Be||null===(M=Be.studentFormSetting)||void 0===M?void 0:M.bankDetails)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("h4",{children:[Ie("form_student_bank_details_label"),":"]}),(0,Z.jsx)("div",{className:l.Z.form_other_field,children:null===ee||void 0===ee?void 0:ee.map((e=>s.Mi.map((t=>{var n;return(null===t||void 0===t||null===(n=t.lists)||void 0===n?void 0:n.includes(e))&&(null!==t&&void 0!==t&&t.fileType?(0,Z.jsx)(p.Z,{labelText:Ie(null===t||void 0===t?void 0:t.label),name:e,value:W[e],onChange:We,customStyleContainer:{width:"49.5%"},errorShow:xe[e]},null===t||void 0===t?void 0:t.id):(0,Z.jsx)(v.Z,{labelText:Ie(null===t||void 0===t?void 0:t.label),placeholder:Ie(null===t||void 0===t?void 0:t.placeHolder),name:e,value:W[e],type:["studentBankAccount","studentBankReAccount"].includes(e)?"tel":"text",reAccount:"studentBankReAccount"===e?xe[e]:"",inputLength:50,onChange:Qe,customStyleContainer:{width:"49.5%"},errorShow:xe[e]},null===t||void 0===t?void 0:t.id))}))))}),(0,Z.jsx)(f.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),((null===Be||void 0===Be||null===(E=Be.studentFormSetting)||void 0===E?void 0:E.gate_score)||(null===Be||void 0===Be||null===(L=Be.studentFormSetting)||void 0===L?void 0:L.marks_and_degree_score))&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("h4",{children:[Ie("form_student_pg_details_label"),":"]}),(null===Be||void 0===Be||null===(O=Be.studentFormSetting)||void 0===O?void 0:O.gate_score)&&(0,Z.jsx)("div",{className:l.Z.form_other_field,children:null===ee||void 0===ee?void 0:ee.map((e=>s.wu.map((t=>{var n;return(null===t||void 0===t||null===(n=t.lists)||void 0===n?void 0:n.includes(e))&&(null!==t&&void 0!==t&&t.isCalender?(0,Z.jsx)(N.Z,{labelText:Ie(null===t||void 0===t?void 0:t.label),placeholder:Ie(null===t||void 0===t?void 0:t.placeHolder),name:e,value:W[e],onDateFunction:$e,errorShow:xe[e],customStyleContainer:{position:"relative",width:"49.5%"}},null===t||void 0===t?void 0:t.id):(0,Z.jsx)(v.Z,{labelText:Ie(null===t||void 0===t?void 0:t.label),placeholder:Ie(null===t||void 0===t?void 0:t.placeHolder),name:e,value:W[e],type:"tel",onChange:Je,customStyleContainer:{width:"49.5%"},errorShow:xe[e]},null===t||void 0===t?void 0:t.id))}))))}),(null===Be||void 0===Be||null===(q=Be.studentFormSetting)||void 0===q?void 0:q.marks_and_degree_score)&&(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("div",{className:l.Z.form_other_field,children:null===ee||void 0===ee?void 0:ee.map((e=>s.fM.map((t=>{var n;return(null===t||void 0===t||null===(n=t.lists)||void 0===n?void 0:n.includes(e))&&(null!==t&&void 0!==t&&t.isCalender?(0,Z.jsx)(N.Z,{labelText:Ie(null===t||void 0===t?void 0:t.label),placeholder:Ie(null===t||void 0===t?void 0:t.placeHolder),name:e,value:W[e],onDateFunction:Xe,errorShow:xe[e],customStyleContainer:{position:"relative",width:"49.5%"}},null===t||void 0===t?void 0:t.id):"Heading"===(null===t||void 0===t?void 0:t.isPreheading)?(0,Z.jsxs)("h4",{children:[Ie(null===t||void 0===t?void 0:t.label),":"]}):"SUBHEADING"===(null===t||void 0===t?void 0:t.isPreheading)?(0,Z.jsxs)("h5",{children:[Ie(null===t||void 0===t?void 0:t.label),":"]}):(0,Z.jsx)(v.Z,{labelText:Ie(null===t||void 0===t?void 0:t.label),placeholder:Ie(null===t||void 0===t?void 0:t.placeHolder),name:e,value:W[e],type:["student_degree_marks","student_percentage","student_class_cpi","student_pre_sem_points","student_final_sem_points"].includes(e)?"tel":"text",onChange:Je,customStyleContainer:{width:"49.5%"},errorShow:xe[e]},null===t||void 0===t?void 0:t.id))}))))})}),(0,Z.jsx)(f.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===Be||void 0===Be||null===(V=Be.studentFormSetting)||void 0===V?void 0:V.id_card)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("h4",{children:[Ie("form_student_idcard_details_label"),":"]}),(0,Z.jsx)("div",{className:l.Z.form_other_field,children:null===ee||void 0===ee?void 0:ee.map((e=>s.D0.map((t=>{var n;return(null===t||void 0===t||null===(n=t.lists)||void 0===n?void 0:n.includes(e))&&(null!==t&&void 0!==t&&t.fileType?(0,Z.jsx)(p.Z,{labelText:Ie(null===t||void 0===t?void 0:t.label),name:e,value:W[e],onChange:We,customStyleContainer:{width:"49.5%"},errorShow:xe[e]},null===t||void 0===t?void 0:t.id):null)}))))}),(0,Z.jsx)(f.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===Be||void 0===Be||null===(R=Be.studentFormSetting)||void 0===R?void 0:R.anti_ragging)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("h4",{children:[Ie("form_student_antiragging_details_label"),":"]}),(0,Z.jsx)("div",{className:l.Z.form_other_field,children:null===ee||void 0===ee?void 0:ee.map((e=>s.MV.map((t=>{var n;return(null===t||void 0===t||null===(n=t.lists)||void 0===n?void 0:n.includes(e))&&(null!==t&&void 0!==t&&t.fileType?(0,Z.jsx)(p.Z,{labelText:Ie(null===t||void 0===t?void 0:t.label),name:e,value:W[e],onChange:We,customStyleContainer:{width:"49.5%"},errorShow:xe[e]},null===t||void 0===t?void 0:t.id):null)}))))})]}),(0,Z.jsx)(g.Z,{type:"submit",buttonText:Ie("form_preview"),customStyleButton:{marginTop:"1.5vw"}})]}),_e&&(0,Z.jsx)(c.Z,{open:_e,children:(0,Z.jsx)(u.Z,{setPhotoURL:fe,photoURL:pe,setFile:ce,setOpenCrop:ve,setProfilePhoto:he,first:1,second:1,setUpload:se})}),(0,Z.jsx)(S.Ch,{msg:ge.msg,run:ge.run,setRun:()=>Se({msg:"",run:!1}),postiton:"bottom",type:"error"})]}),ye&&(0,Z.jsx)(j.Z,{}),De&&(0,Z.jsx)(F.Z,{onClose:()=>Ze(!1),showContent:"Select Avatar",onClick:e=>{ce(e),Ae((t=>({...t,sample_pic:e})))}}),ke&&(0,Z.jsx)(U.Z,{onClose:()=>Pe(!1),departmentId:null===Q||void 0===Q?void 0:Q.applicationDepartment,classMasterId:null===Q||void 0===Q?void 0:Q.applicationMaster,batchId:null===Q||void 0===Q?void 0:Q.batchId,onSelectedStudent:e=>{Le(e),Me(!0),Ae((t=>({...t,fee_struct:null===e||void 0===e?void 0:e._id})))},asOpen:"STUDENT_JOINING_FORM"}),Te&&(0,Z.jsx)(B,{onClose:()=>{Me(!1),Ae((e=>({...e,mode:"",amount:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:"",fee_struct:""})))},onCloseFunction:()=>Me(!1),openFeesQuery:Ee,setStudentAdmission:Ae})]})};var X=n(37782),$=n(53982);const z=function(e){var t,s,u,c,v,m;let{location:h}=e;const p=(0,r.s0)(),g=(0,r.UO)(),S=(0,d.v9)((e=>e.idChange)),{t:x}=(0,i.$G)(),[b,N]=(0,o.useState)(!1),[I,F]=(0,o.useState)(!1),[A,w]=(0,o.useState)(!1),[k,P]=(0,o.useState)(null),[T]=(0,a.dR)(),[M]=(0,_.SD)(),[E]=(0,C.kQ)(),[L]=(0,y.x4)(),{existingAccountLogin:U}=(0,H.f)(),[O]=(0,y.mu)(),[q]=(0,y.ZR)(),{data:V}=(0,Q.Rg)(),[B]=(0,Q.gt)(),[z]=(0,$.KB)(),{merchantId:ee,merchantIdRefetch:te}=(0,D.Vc)({id:"INSTITUTE_SIDE"===(null===h||void 0===h?void 0:h.openAs)?null===S||void 0===S?void 0:S.id:"ADMISSION_ADMIN_SIDE"===(null===h||void 0===h?void 0:h.openAs)||"landing_page"===(null===h||void 0===h?void 0:h.openAs)||"landing_page_and_existing"===(null===h||void 0===h?void 0:h.openAs)?null===h||void 0===h?void 0:h.instituteId:null===(t=S.searchProfile)||void 0===t?void 0:t.id,skip:"INSTITUTE_SIDE"===(null===h||void 0===h?void 0:h.openAs)?!(null!==S&&void 0!==S&&S.id):"ADMISSION_ADMIN_SIDE"===(null===h||void 0===h?void 0:h.openAs)||"landing_page"===(null===h||void 0===h?void 0:h.openAs)||"landing_page_and_existing"===(null===h||void 0===h?void 0:h.openAs)?!(null!==h&&void 0!==h&&h.instituteId):!(null!==(s=S.searchProfile)&&void 0!==s&&s.id)}),{oneInstituteProfile:ne,oneInstituteProfileRefetch:oe}=(0,Y.p0)({data:{id:"INSTITUTE_SIDE"===(null===h||void 0===h?void 0:h.openAs)?null===S||void 0===S?void 0:S.id:"ADMISSION_ADMIN_SIDE"===(null===h||void 0===h?void 0:h.openAs)||"landing_page"===(null===h||void 0===h?void 0:h.openAs)||"landing_page_and_existing"===(null===h||void 0===h?void 0:h.openAs)?null===h||void 0===h?void 0:h.instituteId:null===(u=S.searchProfile)||void 0===u?void 0:u.id,type:"ID"},skip:"INSTITUTE_SIDE"===(null===h||void 0===h?void 0:h.openAs)?!(null!==S&&void 0!==S&&S.id):"ADMISSION_ADMIN_SIDE"===(null===h||void 0===h?void 0:h.openAs)||"landing_page"===(null===h||void 0===h?void 0:h.openAs)||"landing_page_and_existing"===(null===h||void 0===h?void 0:h.openAs)?!(null!==h&&void 0!==h&&h.instituteId):!(null!==(c=S.searchProfile)&&void 0!==c&&c.id)});(0,o.useEffect)((()=>{var e;null===(e=document.getElementById("scrollView"))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),[b]),(0,o.useEffect)((()=>{var e;(null!==(e=S.searchProfile)&&void 0!==e&&e.id||null!==S&&void 0!==S&&S.id||null!==h&&void 0!==h&&h.instituteId)&&oe()}),[null===(v=S.searchProfile)||void 0===v?void 0:v.id,null===S||void 0===S?void 0:S.id,null===h||void 0===h?void 0:h.instituteId,oe]),(0,o.useEffect)((()=>{var e;(null!==(e=S.searchProfile)&&void 0!==e&&e.id||null!==S&&void 0!==S&&S.id||null!==h&&void 0!==h&&h.instituteId)&&te()}),[null===(m=S.searchProfile)||void 0===m?void 0:m.id,null===S||void 0===S?void 0:S.id,null===h||void 0===h?void 0:h.instituteId,te]);const le=async function(e,t,o){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new Worker(new URL(n.p+n.u(26283),n.b)),{institute:d,studentInfo:r}=(0,X.aF)(null===ne||void 0===ne?void 0:ne.institute,e,{imageKey:t,isAdmission:i,applicationName:null===h||void 0===h?void 0:h.applicationName});a.postMessage({printFormType:"STUDENT_FORM",studentInfo:r,institute:d,pdfUndertaking:l}),a.onmessage=e=>{if(e&&o){window.open(URL.createObjectURL(e.data),"_blank");const t=new FormData;t.append("file",e.data),q({sid:o,pdf_file:t}).then((()=>{F((e=>!e))})).catch({})}}},ie=e=>{var t;F((e=>!e));const n={studentCode:null===h||void 0===h?void 0:h.joinCode,fileArray:[],optionalSubject:[]};"ADMISSION_ADMIN_SIDE"===(null===h||void 0===h?void 0:h.openAs)||n.fileArray.push(null===e||void 0===e?void 0:e.file);for(let a in null===e||void 0===e?void 0:e.formData)n[a]=null===e||void 0===e?void 0:e.formData[a];for(let a in null===e||void 0===e?void 0:e.studentForm)"asSameAddress"===a||(["bankPassbook","student_id_card_front","student_id_card_back","student_anti_ragging"].includes(a)?null!==e&&void 0!==e&&e.studentForm[a]&&n.fileArray.push(null===e||void 0===e?void 0:e.studentForm[a]):n[a]=null===e||void 0===e?void 0:e.studentForm[a]);for(let a in null===e||void 0===e?void 0:e.dynamicDocument)"previousSchoolDocument"===a||("studentPreviousSchool"===a?n[a]=null===e||void 0===e?void 0:e.dynamicDocument[a]:null!==e&&void 0!==e&&e.dynamicDocument[a]&&n.fileArray.push(null===e||void 0===e?void 0:e.dynamicDocument[a]));for(let a in null===e||void 0===e?void 0:e.optinalSubject)null!==e&&void 0!==e&&e.optinalSubject[a]&&n.optionalSubject.push(null===e||void 0===e?void 0:e.optinalSubject[a]);if("ADMISSION_ADMIN_SIDE"===(null===h||void 0===h?void 0:h.openAs))for(let a in null===e||void 0===e?void 0:e.studentAdmission)n[a]=null===e||void 0===e?void 0:e.studentAdmission[a];if("INSTITUTE_SIDE"===(null===h||void 0===h?void 0:h.openAs))for(let a in null===e||void 0===e?void 0:e.studentNewField)n[a]=null===e||void 0===e?void 0:e.studentNewField[a];if(n.student_prn_enroll_number=null===e||void 0===e?void 0:e.studentNewField.student_prn_enroll_number,"DIRECT"===(null===h||void 0===h?void 0:h.openAs)&&null!==h&&void 0!==h&&h.verifyNumber)L({phoneNumber:null===h||void 0===h?void 0:h.verifyNumber,direct_student:n}).then((async t=>{var o,l,i,a,d,r,s,u;await le(n,null===e||void 0===e||null===(o=e.file)||void 0===o?void 0:o.key,null===t||void 0===t||null===(l=t.data)||void 0===l||null===(i=l.user)||void 0===i||null===(a=i.student)||void 0===a?void 0:a._id),U({token:null===t||void 0===t||null===(d=t.data)||void 0===d?void 0:d.token,_id:null===t||void 0===t||null===(r=t.data)||void 0===r||null===(s=r.user)||void 0===s?void 0:s._id,username:null===t||void 0===t||null===(u=t.data)||void 0===u?void 0:u.student})})).catch({});else if("landing_page"===(null===h||void 0===h?void 0:h.openAs)&&null!==h&&void 0!==h&&h.verifyNumber)O({phoneNumber:null===h||void 0===h?void 0:h.verifyNumber,aid:h.appId,direct_student:n}).then((async t=>{var o,l,i,a,d,r,s;await le(n,null===e||void 0===e||null===(o=e.file)||void 0===o?void 0:o.key,null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.student,null===e||void 0===e?void 0:e.pdfUndertaking),U({token:null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.token,_id:null===t||void 0===t||null===(a=t.data)||void 0===a||null===(d=a.user)||void 0===d?void 0:d._id,username:null===t||void 0===t||null===(r=t.data)||void 0===r||null===(s=r.user)||void 0===s?void 0:s.username})})).catch({});else if("landing_page_and_existing"===(null===h||void 0===h?void 0:h.openAs)&&null!==h&&void 0!==h&&h.userId)E({uid:null===h||void 0===h?void 0:h.userId,aid:null===h||void 0===h?void 0:h.appId,apply_data:n}).then((async t=>{var o,l;await le(n,null===e||void 0===e||null===(o=e.file)||void 0===o?void 0:o.key,null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.student,null===e||void 0===e?void 0:e.pdfUndertaking),t.data.status&&(F((e=>!e)),p("/q/".concat(null===h||void 0===h?void 0:h.username,"/feed")))})).catch({});else if("INSTITUTE_SIDE"===(null===h||void 0===h?void 0:h.openAs)&&null!==h&&void 0!==h&&h.classId){var o;M({phoneNumber:null===e||void 0===e?void 0:e.studentPhoneNumberAdd,uid:null!==(o=null===e||void 0===e?void 0:e.selectedUser)&&void 0!==o?o:"",cid:null===h||void 0===h?void 0:h.classId,addStudent:n}).then((async t=>{var o,l;await le(n,null===e||void 0===e||null===(o=e.file)||void 0===o?void 0:o.key,null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.student),p(-1)})).catch({})}else if("ADMISSION_APPLY"===(null===h||void 0===h?void 0:h.openAs)&&null!==S&&void 0!==S&&S.id&&null!==h&&void 0!==h&&h.appId)E({uid:null===S||void 0===S?void 0:S.id,aid:null===h||void 0===h?void 0:h.appId,apply_data:n}).then((async t=>{var o,l;await le(n,null===e||void 0===e||null===(o=e.file)||void 0===o?void 0:o.key,null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.student,null===e||void 0===e?void 0:e.pdfUndertaking),t.data.status&&(F((e=>!e)),p("/q/".concat(null===h||void 0===h?void 0:h.urlUsername,"/membersTab")))})).catch({});else if("ADMISSION_DIRECT_APPLY"===(null===h||void 0===h?void 0:h.openAs)&&null!==S&&void 0!==S&&S.id&&null!==h&&void 0!==h&&h.appId)A||(w(!0),P(n),F((e=>!e)));else if("ADMISSION_ADMIN_SIDE"===(null===h||void 0===h?void 0:h.openAs)&&null!==h&&void 0!==h&&h.appId){var l;z({phoneNumber:null===e||void 0===e?void 0:e.studentPhoneNumberAdd,uid:null!==(l=null===e||void 0===e?void 0:e.selectedUser)&&void 0!==l?l:"",aid:null===h||void 0===h?void 0:h.appId,addStudent:n}).then((async t=>{var o;await le(n,null===e||void 0===e?void 0:e.file,null===t||void 0===t||null===(o=t.data)||void 0===o?void 0:o.student,null===e||void 0===e?void 0:e.pdfUndertaking,!(null===n||void 0===n||!n.sample_pic)),p(-1)})).catch({})}else if(null!==S&&void 0!==S&&null!==(t=S.searchProfile)&&void 0!==t&&t.id&&null!==S&&void 0!==S&&S.id&&null!==h&&void 0!==h&&h.joinCode){var i;T({insId:null===S||void 0===S||null===(i=S.searchProfile)||void 0===i?void 0:i.id,studentData:n,uid:null===S||void 0===S?void 0:S.id}).then((async t=>{var o,l;await le(n,null===e||void 0===e||null===(o=e.file)||void 0===o?void 0:o.key,null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.student),t.data.status&&(F((e=>!e)),p("/q/".concat(null===h||void 0===h?void 0:h.urlUsername,"/memberstab")))})).catch({})}else F((e=>!e))};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("div",{className:l.Z.goback_container,id:"scrollView",children:(0,Z.jsxs)("div",{className:l.Z.goback_container_text,onClick:()=>{b?N((e=>!e)):p(-1)},children:[(0,Z.jsx)("img",{src:"/images/arr-left-white.svg",alt:"go back icon"}),(0,Z.jsx)("h6",{className:l.Z.goback_container_text_go,children:x("go_back")})]})}),(0,Z.jsxs)("div",{className:l.Z.student_from_container,children:[(0,Z.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Z.jsx)("h6",{className:l.Z.student_from_fill,children:x("form_fill_student")}),b&&(0,Z.jsx)("h6",{className:l.Z.student_from_fill_edit,onClick:()=>N((e=>!e)),children:x("edit_")})]}),(0,Z.jsx)(f.Z,{customStyle:{width:"100%"}}),"DEPARTMENT"===(null===h||void 0===h?void 0:h.whichFormShow)?(0,Z.jsx)(W,{preview:b,setPreview:N,location:h,onApplyForm:ie}):(0,Z.jsx)(R,{preview:b,setPreview:N,location:h,onApplyForm:ie})]}),A&&(0,Z.jsx)(J.Z,{onClose:()=>w(!1),allContent:{type:"ADMISSION_DIRECT_APPLY",amount:null===h||void 0===h?void 0:h.first_install},checkoutAdmissionDirectHandler:function(e){let t=2.1*+(null===h||void 0===h?void 0:h.first_install)/100,n=+t+18*+t/100;const o=parseInt(null===h||void 0===h?void 0:h.first_install);var l,i={amount:Math.ceil(o+ +n.toFixed(2))};"PAYTM"===e?(0,K.Ex)({amount:+(null===h||void 0===h?void 0:h.first_install),amount_nocharges:+i.amount,type:"Direct_Admission",paidBy:"".concat(null===S||void 0===S?void 0:S.id),paidTo:"".concat(null===(l=S.searchProfile)||void 0===l?void 0:l.id),moduleId:"".concat(null===h||void 0===h?void 0:h.appId),ad_status_id:null,payment_installment:null,ad_install:null,month:null,payment_remain_1:null,payment_card_type:null,payment_book_id:null,name:g.username,isApk:"web",payment_card_id:null,student_data:k}).then((e=>{var t,n;window.onScriptLoad(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.body)||void 0===n?void 0:n.txnToken,null===e||void 0===e?void 0:e.order,null===e||void 0===e?void 0:e.amount)})).catch((e=>{console.info(e)})):null!==V&&void 0!==V&&V.Key&&null!==i&&void 0!==i&&i.amount&&B({amount:null===i||void 0===i?void 0:i.amount}).then((e=>{var t,n,o,l;null!==(t=e.data)&&void 0!==t&&t.success?(0,G.r)({key:null===V||void 0===V?void 0:V.Key,oid:null===(n=e.data)||void 0===n?void 0:n.order.id,amount_nocharge:100*(null===h||void 0===h?void 0:h.first_install),amount:null===(o=e.data)||void 0===o?void 0:o.order.amount,type:"Direct_Admission",pay_by:"".concat(null===S||void 0===S?void 0:S.id),pay_to:"".concat(null===(l=S.searchProfile)||void 0===l?void 0:l.id),mid:"".concat(null===h||void 0===h?void 0:h.appId),razor_key:null===ee||void 0===ee?void 0:ee.key,razor_author:null===ee||void 0===ee?void 0:ee.bool,status:null,installment_type:null,is_install:null,h_month:null,student_data:k}):console.log("data error")})).catch((e=>{console.log(e)}))}}),I&&(0,Z.jsx)(j.Z,{})]})}},53982:(e,t,n)=>{n.d(t,{KB:()=>X,Dv:()=>Y,rY:()=>W,bB:()=>J,J9:()=>K,xk:()=>O,Ne:()=>G,b5:()=>Q,OF:()=>B,Dr:()=>R,Pv:()=>q,d4:()=>V,gS:()=>H,FL:()=>U});var o=n(28328),l=n(94811);const i=e=>e.mutation({query:e=>({url:"/all-images/onefile/web",method:l.Q0,body:e.fileUpload})}),a=e=>e.query({query:e=>"/auth/username/search?u_name=".concat(e)}),d=e=>e.query({query:e=>"/auth/email/check/redundant?email=".concat(e)}),r=e=>e.mutation({query:e=>({url:"/auth/login",method:l.a4,body:e.login})}),s=e=>e.mutation({query:e=>({url:"/auth/user-detail",method:l.a4,body:e})}),u=e=>e.mutation({query:e=>{var t;return{url:"/auth/user-detail-verify/".concat(e.userPhoneNumber,"?u_name=").concat(null!==(t=null===e||void 0===e?void 0:e.u_name)&&void 0!==t?t:""),method:l.a4,body:e}}}),c=e=>e.mutation({query:e=>({url:"/auth/user/forgot",method:l.a4,body:e.forgot})}),_=e=>e.mutation({query:e=>({url:"/auth/user/forgot/".concat(e.uid),method:l.a4,body:e.otp})}),v=e=>e.mutation({query:e=>({url:"/auth/user/reset/password/".concat(e.uid),method:l.a4,body:e.password})}),m=(e,t)=>e.mutation({query:e=>({url:"/auth/profile-creation/".concat(e.userPhoneNumber),method:l.a4,body:e.profileCreation})}),h=(e,t)=>e.mutation({query:e=>({url:"/auth/create-user-password/".concat(e.uid),method:l.a4,body:e.password})}),p=(e,t)=>e.mutation({query:e=>({url:"/auth/ins-detail",method:l.a4,body:e.phone})}),f=(e,t)=>e.mutation({query:e=>({url:"/auth/ins-detail-verify/".concat(e.insPhoneNumber),method:l.a4,body:e.verify})}),g=(e,t)=>e.mutation({query:e=>({url:"/auth/ins/register",method:l.a4,body:e.profileCreation})}),S=(e,t)=>e.mutation({query:e=>({url:"/auth/ins/create-password/".concat(e.id),method:l.a4,body:e.password})}),x=e=>e.mutation({query:e=>({url:"/auth/direct/confirm/join/".concat(e.phoneNumber,"/apply/").concat(e.aid,"?existingUser=").concat(e.uid),method:l.a4,body:e.addStudent})}),b=o.i.injectEndpoints({endpoints:e=>({fileUpload:i(e),authUniqueUsername:a(e),authUniqueEmail:d(e),authLogin:r(e),authUserNumber:s(e),authUserNumberVerify:u(e),authUserForget:c(e),authUserForgetOtp:_(e),authUserSetPassword:v(e),authUserCreateAccount:m(e),authUserCreatePassword:h(e),authInstituteNumber:p(e),authInstituteNumberVerify:f(e),authInstituteCreateAccount:g(e),authInstituteCreatePassword:S(e),authDirectJoinFormAdmissionApplication:x(e)})}),{useFileUploadMutation:y,useAuthUniqueUsernameQuery:j,useAuthUniqueEmailQuery:N,useAuthLoginMutation:I,useAuthUserNumberMutation:F,useAuthUserNumberVerifyMutation:A,useAuthUserForgetMutation:C,useAuthUserForgetOtpMutation:w,useAuthUserSetPasswordMutation:D,useAuthUserCreateAccountMutation:Z,useAuthUserCreatePasswordMutation:k,useAuthInstituteNumberMutation:P,useAuthInstituteNumberVerifyMutation:T,useAuthInstituteCreateAccountMutation:M,useAuthInstituteCreatePasswordMutation:E,useAuthDirectJoinFormAdmissionApplicationMutation:L}=b,U=()=>{const[e]=y();return[e]},O=()=>{const[e]=I();return[e]},q=()=>{const[e]=F();return[e]},V=()=>{const[e]=A();return[e]},B=()=>{const[e]=C();return[e]},R=()=>{const[e]=w();return[e]},H=()=>{const[e]=D();return[e]},G=()=>{const[e]=Z();return[e]},Q=()=>{const[e]=k();return[e]},J=()=>{const[e]=P();return[e]},K=()=>{const[e]=T();return[e]},Y=()=>{const[e]=M();return[e]},W=()=>{const[e]=E();return[e]},X=()=>{const[e]=L();return[e]}},46807:(e,t,n)=>{n.d(t,{Z:()=>o});const o={avatar_image:"Avatar_avatar_image__orRwR",custom_avatar_container:"Avatar_custom_avatar_container__f4BAI",custom_avatar_one:"Avatar_custom_avatar_one__XYFtg",custom_avatar_content:"Avatar_custom_avatar_content__E1nUO"}},33399:(e,t,n)=>{n.d(t,{Z:()=>o});const o={fess_container:"FeesStructure_fess_container__KJfJA",category_header:"FeesStructure_category_header__0NZE9",category_header_title:"FeesStructure_category_header_title__a6uYK",fees_category:"FeesStructure_fees_category__B3Yax",fees_category_icon:"FeesStructure_fees_category_icon__JArrd",fees_category_text:"FeesStructure_fees_category_text__pt891",assignment_description_head:"FeesStructure_assignment_description_head__Qc3FE",assignment_description:"FeesStructure_assignment_description__qqF15",department_container:"FeesStructure_department_container__dpMM0",department_card_name:"FeesStructure_department_card_name__eWHf+",department_card_head:"FeesStructure_department_card_head__B2ZwA",department_card_title:"FeesStructure_department_card_title__eyEiT",add_new_category:"FeesStructure_add_new_category__3y9Qr",category_card:"FeesStructure_category_card__NVUgp",fees_card_text:"FeesStructure_fees_card_text__F3gSO",category_card_fee:"FeesStructure_category_card_fee__3w8Sb",fees_card_text_bottom:"FeesStructure_fees_card_text_bottom__7HBFH",department_card_container:"FeesStructure_department_card_container__4Otk6",department_card_image:"FeesStructure_department_card_image__+RQd-",fees_card:"FeesStructure_fees_card__WTgO6",add_category_modal:"FeesStructure_add_category_modal__a37mG",add_category_modal_title:"FeesStructure_add_category_modal_title__DxkYZ",structure_container_title:"FeesStructure_structure_container_title__EUdFM",add_category_modal_title_left:"FeesStructure_add_category_modal_title_left__2nPOT",set_fees_structure_btn:"FeesStructure_set_fees_structure_btn__V7NPc",installment_list:"FeesStructure_installment_list__wA45E",fees_head_title:"FeesStructure_fees_head_title__IxR06",fees_head_installment:"FeesStructure_fees_head_installment__IiGql",table_heading:"FeesStructure_table_heading__RNv9z",table_container:"FeesStructure_table_container__hJ+PK",table_body:"FeesStructure_table_body__O02ZC",table_body_list:"FeesStructure_table_body_list__F5n3s",fee_head_name_input:"FeesStructure_fee_head_name_input__mmPKk",fee_head_amount_input:"FeesStructure_fee_head_amount_input__9C2eU",add_fees_head_btn:"FeesStructure_add_fees_head_btn__YHLGM",fees_total:"FeesStructure_fees_total__-0grI",create_fees_structure_btn:"FeesStructure_create_fees_structure_btn__yySE7",fees_card_hover:"FeesStructure_fees_card_hover__3ulkW",fees_card_hover_active:"FeesStructure_fees_card_hover_active__ESF6D",fee_middle_section:"FeesStructure_fee_middle_section__INnVO",fee_middle_confirm_button:"FeesStructure_fee_middle_confirm_button__C0Q6g",fee_middle_section_container:"FeesStructure_fee_middle_section_container__1lMVJ",edit_icon:"FeesStructure_edit_icon__EhhnH",search_container:"FeesStructure_search_container__IDhvw",search_container_text:"FeesStructure_search_container_text__PWYPL",searchIcon:"FeesStructure_searchIcon__dKXPf",category_card_hover:"FeesStructure_category_card_hover__vDSbu",category_card_hover_active:"FeesStructure_category_card_hover_active__5bQ7H",menu_icon:"FeesStructure_menu_icon__Ns6lc",upload_excel_container:"FeesStructure_upload_excel_container__jommG",upload_excel_file:"FeesStructure_upload_excel_file__+csTW",add_employee_staff:"FeesStructure_add_employee_staff__Hrl+P",add_employee_staff_text:"FeesStructure_add_employee_staff_text__LgZOf",payroll_account_btn:"FeesStructure_payroll_account_btn__t3vSl",account_payment_row:"FeesStructure_account_payment_row__VO533",normal_select_btn:"FeesStructure_normal_select_btn__yU6K-",seating_modal:"FeesStructure_seating_modal__w52St",add_category_modal_title_active:"FeesStructure_add_category_modal_title_active__hFUaf",notify_container:"FeesStructure_notify_container__C+qTv",notify_text:"FeesStructure_notify_text__d3pZD",next_btn:"FeesStructure_next_btn__tR55q",btn_group:"FeesStructure_btn_group__NPo8U",leave_dates:"FeesStructure_leave_dates__2IQZS",letter_head_container:"FeesStructure_letter_head_container__+fkq5",all_leave_config:"FeesStructure_all_leave_config__yscHC"}},15983:(e,t,n)=>{n.d(t,{Z:()=>o});const o={addDisplay:"PaymentPendingFee_addDisplay__pQY61",title:"PaymentPendingFee_title__ifZJt",content:"PaymentPendingFee_content__WFcyd",contentRow:"PaymentPendingFee_contentRow__wV35D",inputlabel:"PaymentPendingFee_inputlabel__KgvIn",btn:"PaymentPendingFee_btn__+YFt1",confirmInput:"PaymentPendingFee_confirmInput__LvWK3",contentDiv:"PaymentPendingFee_contentDiv__ukkNx",cancelModal:"PaymentPendingFee_cancelModal__+A7Lo",titleFlex:"PaymentPendingFee_titleFlex__qIa8e",ClassCard:"PaymentPendingFee_ClassCard__3nxLJ",text:"PaymentPendingFee_text__kmsTF",textBottom:"PaymentPendingFee_textBottom__UTzCH",inputlabelsmall:"PaymentPendingFee_inputlabelsmall__8FZcl",inputlabelmarginbottom:"PaymentPendingFee_inputlabelmarginbottom__eWGC8",options:"PaymentPendingFee_options__qVURV",option:"PaymentPendingFee_option__YYZyP",inputt:"PaymentPendingFee_inputt__XPO-b",up:"PaymentPendingFee_up__4q7d1",down:"PaymentPendingFee_down__rD6mS",admission_fees_amount:"PaymentPendingFee_admission_fees_amount__fK8oA"}}}]);
//# sourceMappingURL=68968.530ae82d.chunk.js.map