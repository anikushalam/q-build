"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[87366],{46876:function(e,t,n){n.r(t);var i=n(93433),s=n(29439),a=n(72791),l=n(23441),o=n(95048),d=n(12923),c=n(763),r=n(69721),u=n(52124),v=n(5574),m=n(39230),f=n(80184),_=window.innerHeight;t.default=function(e){var t=e.onClose,n=e.title,h=e.headSelect,x=e.assignHead,g=e.disabledId,j=e.instituteId,Z=e.viewAs,p=e.isMultiSelect,b=e.selectList,S=e.onMultiSelect,N=e.onDone,k=(0,m.$G)().t,y=(0,a.useState)(1),I=(0,s.Z)(y,2),C=I[0],E=I[1],w=(0,a.useState)(!0),A=(0,s.Z)(w,2),T=A[0],D=A[1],M=(0,l.YD)(),O=(0,s.Z)(M,2),L=O[0],P=O[1],R=(0,a.useState)(""),F=(0,s.Z)(R,2),G=F[0],B=F[1],$=a.useState([]),q=(0,s.Z)($,2),V=q[0],U=q[1],Y=(0,o.v9)((function(e){return e.idChange})),H=(0,d.vI)({skip:"ADMISSION_ADMIN"===Z?!j:!(null!==Y&&void 0!==Y&&Y.id),search:{search:G,page:C,id:"ADMISSION_ADMIN"===Z?j:null===Y||void 0===Y?void 0:Y.id,limit:10}}),J=H.assignSearchStaff,W=H.assignSearchStaffRefetch;a.useEffect((function(){null!==Y&&void 0!==Y&&Y.id&&W()}),[null===Y||void 0===Y?void 0:Y.id,W,C]),(0,a.useEffect)((function(){P&&T&&E((function(e){return e+1}))}),[P,T]),a.useEffect((function(){null!==J&&void 0!==J&&J.staff&&U(G?null===J||void 0===J?void 0:J.staff:function(e){return function(e){for(var t=0;t<(null===e||void 0===e?void 0:e.length);t++)for(var n=t+1;n<(null===e||void 0===e?void 0:e.length);n++){var i,s;(null===(i=e[t])||void 0===i?void 0:i._id)===(null===(s=e[n])||void 0===s?void 0:s._id)&&(null===e||void 0===e||e.splice(n,1))}return e}([].concat((0,i.Z)(e),(0,i.Z)(null===J||void 0===J?void 0:J.staff)))}),10===(null===J||void 0===J?void 0:J.staff.length)?D(!0):D(!1)}),[null===J||void 0===J?void 0:J.staff]),(0,a.useEffect)((function(){G&&X()}),[G]);var X=function(){W()},K=(0,a.useCallback)((0,c.debounce)((function(e){return B(e)}),500),[]),z=function(e){g===(null===e||void 0===e?void 0:e._id)||(p?S(e):(h(e),"ADMISSION_ADMIN"===Z||t()))};return(0,f.jsx)(v.Z,{open:x,onClose:t,children:(0,f.jsxs)("div",{style:{backgroundColor:"#FAFAFA",width:"35rem",height:"".concat(_-20,"px"),overflowX:"hidden"},children:[(0,f.jsxs)("div",{className:u.Z.assign_title,style:{width:"100%"},children:[(0,f.jsx)("h5",{children:n}),p?(0,f.jsxs)("div",{className:u.Z.is_mulitselect_container,children:[(0,f.jsx)("h6",{style:{cursor:"pointer"},onClick:N,children:k("select")}),(0,f.jsx)("img",{src:"/images/close-post-icon.svg",onClick:t,alt:"staff assign pop close icon"})]}):(0,f.jsx)("img",{src:"/images/close-post-icon.svg",onClick:t,alt:"staff assign pop close icon"})]}),(0,f.jsxs)("div",{className:u.Z.assign_search_container,children:[(0,f.jsx)("input",{type:"text",placeholder:k("search"),className:u.Z.assign_search_input,onChange:function(e){return t=e.target.value,void K(t);var t}}),(0,f.jsx)("img",{src:"/images/search-dash-icon.svg",alt:"search icon"})]}),(0,f.jsx)("div",{className:u.Z.assign_show_list,children:null===V||void 0===V?void 0:V.map((function(e,t){return(null===V||void 0===V?void 0:V.length)===t+1?(0,f.jsxs)("div",{ref:L,children:[(0,f.jsxs)("div",{className:u.Z.assign_show_list_each,style:g===e._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:function(){return z(e)},children:[p?null!==b&&void 0!==b&&b.includes(null===e||void 0===e?void 0:e._id)?(0,f.jsx)("img",{src:"/images/checkbox-icon.svg",alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,f.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/box-icon.svg",alt:"icon"}):"",(0,f.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(r.yI,"/").concat(e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,f.jsxs)("div",{className:u.Z.assign_each_paragraph,children:[(0,f.jsx)("h6",{children:"".concat(e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(e.staffLastName)}),(0,f.jsxs)("p",{children:[" ",k("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]})]}),(0,f.jsx)("hr",{})]},e._id):(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:u.Z.assign_show_list_each,style:g===e._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:function(){return z(e)},children:[p?null!==b&&void 0!==b&&b.includes(null===e||void 0===e?void 0:e._id)?(0,f.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/checkbox-icon.svg",alt:"icon"}):(0,f.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/box-icon.svg",alt:"icon"}):"",(0,f.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(r.yI,"/").concat(e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,f.jsxs)("div",{className:u.Z.assign_each_paragraph,children:[(0,f.jsx)("h6",{children:"".concat(e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(e.staffLastName)}),(0,f.jsxs)("p",{children:[" ",k("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]})]}),(0,f.jsx)("hr",{})]},e._id)}))})]})})}},12953:function(e,t,n){n.d(t,{A:function(){return i},t:function(){return s}});var i=function(e){var t=new Date,n=null===e||void 0===e?void 0:e.split("/");return!(t<=new Date("".concat(n[2],"-").concat(n[1],"-").concat(n[0])))},s=function(e){var t=new Date,n=null===e||void 0===e?void 0:e.split("/");return t<=new Date("".concat(n[2],"-").concat(n[1],"-").concat(n[0]))?{status:!0,value:"".concat(n[2],"-").concat(n[1],"-").concat(n[0])}:{status:!1,value:""}}},91022:function(e,t,n){var i=n(1413),s=n(29439),a=n(72791),l=n(39230),o=n(38733),d=n(80184);t.Z=function(e){var t=e.selectLabel,n=e.value,c=e.onClick,r=e.selectedValue,u=e.options,v=e.errorShow,m=e.customStyleContainer,f=e.customLabelStyle,_=e.customListStyle,h=e.openAs,x=e.viewAs,g=(0,l.$G)().t,j=(0,a.useState)(!1),Z=(0,s.Z)(j,2),p=Z[0],b=Z[1],S=function(){"REFUND"===h||"BACKLOG"===h||"FINANCE_MANAGER"===x||b((function(e){return!e}))},N=function(e){c(e),S()};return(0,d.jsxs)("div",{className:o.Z.join_form_container,style:(0,i.Z)({},m),children:[(0,d.jsxs)("p",{className:o.Z.join_form_select_paragraph,style:(0,i.Z)({},f),children:[t," ",v&&(0,d.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",g("form_require_label")]})]}),(0,d.jsxs)("section",{className:o.Z.join_form_select_custom,onClick:S,children:[n?(0,d.jsx)("p",{className:o.Z.join_form_select_custom_paragraph,children:null!==n&&void 0!==n?n:""}):(0,d.jsx)("p",{className:o.Z.join_form_select_custom_paragraph,children:r}),(0,d.jsx)("img",{className:o.Z.join_form_select_custom_icon,src:"/images/down-icon.svg",alt:"categor icon"})]}),p&&(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("section",{className:o.Z.join_form_select_custom_list,style:_?(0,i.Z)({},_):(null===u||void 0===u?void 0:u.length)>2?{overflowY:"scroll"}:{backgroundColor:"#ffffff"},children:[(0,d.jsx)("p",{className:o.Z.join_form_select_custom_paragraph_option,onClick:S,children:r}),null===u||void 0===u?void 0:u.map((function(e,t){return(0,d.jsx)("p",{onClick:function(){return N(e)},className:o.Z.join_form_select_custom_paragraph_option,children:e},t)}))]})})]})}},85843:function(e,t,n){n.d(t,{Z:function(){return te}});var i=n(72791),s="Backlogs_backlogContainer__14wvM",a="Backlogs_backlog__aKmlT",l="Backlogs_students__gWiPx",o=n(29439),d={standerdItem:"Standerds_standerdItem__sk5mQ",standerdsleft:"Standerds_standerdsleft__iz3+D",standerdsheading:"Standerds_standerdsheading__OUmuc",standerdsImg:"Standerds_standerdsImg__Qu0rF",standerdsh6:"Standerds_standerdsh6__vADsT",standerdsp:"Standerds_standerdsp__g1fxt",BacklogStudentsbody:"Standerds_BacklogStudentsbody__eSHlj",studentImgcontainer:"Standerds_studentImgcontainer__vvUzK",studentImg:"Standerds_studentImg__1MTHE",studentp1:"Standerds_studentp1__iIsI-",studentRightp:"Standerds_studentRightp__WICOh",standerdsrright:"Standerds_standerdsrright__QmfIn",dotsImg:"Standerds_dotsImg__NvD0-",examItem:"Standerds_examItem__5bRO5",studentModal:"Standerds_studentModal__Ylwd7",backItem:"Standerds_backItem__lNacM",backItemRight:"Standerds_backItemRight__KrXyV",modalbody:"Standerds_modalbody__aaB+Z",confirmbutton:"Standerds_confirmbutton__MBrRW",standerdItemm:"Standerds_standerdItemm__iZFWH",back_fees_container:"Standerds_back_fees_container__3540D",back_fees_container_inner:"Standerds_back_fees_container_inner__mfdj4",back_fees_list:"Standerds_back_fees_list__Pz572",back_fees_list_inner:"Standerds_back_fees_list_inner__5D6oY",back_fees_list_text:"Standerds_back_fees_list_text__K10RD",fees_header:"Standerds_fees_header__lnUE0",fees_table_header:"Standerds_fees_table_header__rq-XT"},c="Tabs_mcqToptabs__yrqKN",r="Tabs_mcqTop__eTjbn",u="Tabs_mcqTopItem__5qwkI",v="Tabs_active__zps6f",m=n(39230),f=n(80184);var _=function(e){var t=e.activeIndex,n=e.setActiveIndex,i=(0,m.$G)().t;return(0,f.jsx)("div",{className:r,children:(0,f.jsxs)("div",{className:c,children:[(0,f.jsx)("div",{className:0===t?"".concat(u," ").concat(v):u,onClick:function(){return n(0)},children:i("current")}),(0,f.jsx)("div",{className:1===t?"".concat(u," ").concat(v):u,onClick:function(){return n(1)},children:i("dropouts")})]})})},h=n(93433),x=n(23441),g=n(74289),j=n(11105),Z=n(69721);var p=function(e){var t,n,i,s=e.onStudentOpen,a=e.student,l=e.clickable;return(0,f.jsxs)("div",{className:d.standerdItem,onClick:function(){l&&s(a)},children:[(0,f.jsxs)("div",{className:d.standerdsleft,children:[(0,f.jsx)("div",{className:d.studentImgcontainer,children:(0,f.jsx)("img",{className:d.studentImg,src:"1"!==(null===a||void 0===a?void 0:a.photoId)?"".concat(Z.yI,"/").concat(null===a||void 0===a?void 0:a.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"student icon"})}),(0,f.jsxs)("div",{className:d.standerdsright,children:[(0,f.jsx)("h6",{className:d.standerdsh6,children:"".concat(null===a||void 0===a?void 0:a.studentFirstName," ").concat((null===a||void 0===a?void 0:a.studentMiddleName)||""," ").concat(null===a||void 0===a?void 0:a.studentLastName)}),(0,f.jsx)("p",{className:d.studentp1,children:(null===a||void 0===a||null===(t=a.batches)||void 0===t?void 0:t.batchName)||""})]})]}),(0,f.jsxs)("p",{className:d.studentRightp,children:[null===a||void 0===a||null===(n=a.studentClass)||void 0===n?void 0:n.className," ",null===a||void 0===a||null===(i=a.studentClass)||void 0===i?void 0:i.classTitle]})]})},b=n(5574),S=n(98734);var N=function(e){var t,n,s,a=e.hideModal,l=e.open,c=e.studentId,r=e.subjectMasterId,u=e.onRefetchWhenConfirm,v=(0,m.$G)().t,_=(0,i.useState)(""),h=(0,o.Z)(_,2),x=h[0],j=h[1],p=(0,i.useState)(!1),N=(0,o.Z)(p,2),k=N[0],y=N[1],I=(0,g.p8)(),C=(0,o.Z)(I,1)[0];return(0,f.jsxs)(b.Z,{open:l,onClose:function(){return a(!1)},children:[(0,f.jsxs)("div",{className:d.studentModal,children:[(0,f.jsxs)("div",{className:d.standerdItem,style:{borderTopLeftRadius:"0",borderTopRightRadius:"0"},children:[(0,f.jsxs)("div",{className:d.standerdsleft,children:[(0,f.jsx)("div",{className:d.studentImgcontainer,children:(0,f.jsx)("img",{className:d.studentImg,src:"1"!==(null===c||void 0===c?void 0:c.photoId)?"".concat(Z.yI,"/").concat(null===c||void 0===c?void 0:c.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"student"})}),(0,f.jsxs)("div",{className:d.standerdsright,children:[(0,f.jsx)("h6",{className:d.standerdsh6,children:"".concat(null===c||void 0===c?void 0:c.studentFirstName," ").concat((null===c||void 0===c?void 0:c.studentMiddleName)||""," ").concat(null===c||void 0===c?void 0:c.studentLastName)}),(0,f.jsx)("p",{className:d.studentp1,children:(null===c||void 0===c||null===(t=c.batches)||void 0===t?void 0:t.batchName)||""})]})]}),(0,f.jsxs)("p",{className:d.studentRightp,children:[" ",null===c||void 0===c||null===(n=c.studentClass)||void 0===n?void 0:n.className," ",null===c||void 0===c||null===(s=c.studentClass)||void 0===s?void 0:s.classTitle]})]}),(0,f.jsxs)("div",{className:d.modalbody,children:[(0,f.jsxs)("div",{className:d.backItem,onClick:function(){return j("Clear")},children:[(0,f.jsx)("img",{src:"/images/department/clear_backlog.svg",alt:"clear backlog"}),(0,f.jsxs)("div",{className:d.backItemRight,children:[(0,f.jsx)("h6",{children:v("clr_backlog")}),(0,f.jsx)("p",{children:v("have_passed")})]})]}),(0,f.jsxs)("div",{className:d.backItem,onClick:function(){return j("Dropout")},children:[(0,f.jsx)("img",{src:"/images/department/dropout.svg",alt:"clear backlog"}),(0,f.jsxs)("div",{className:d.backItemRight,children:[(0,f.jsx)("h6",{children:v("dropout")}),(0,f.jsx)("p",{children:v("either")})]})]}),(0,f.jsx)("div",{className:d.confirmbutton,onClick:function(){x&&(y((function(e){return!e})),C({sid:null===c||void 0===c?void 0:c._id,smid:r,status:x}).then((function(){u(),y((function(e){return!e})),a(!1)})).catch({}))},children:v("confirm")})]})]}),k&&(0,f.jsx)(S.Z,{})]})},k=function(e){var t=e.subjectMasterId,n=(0,i.useState)(!0),s=(0,o.Z)(n,2),a=s[0],l=s[1],d=(0,i.useState)(1),c=(0,o.Z)(d,2),r=c[0],u=c[1],v=(0,x.YD)(),m=(0,o.Z)(v,2),_=m[0],Z=m[1],b=(0,i.useState)(!0),S=(0,o.Z)(b,2),k=S[0],y=S[1],I=(0,i.useState)([]),C=(0,o.Z)(I,2),E=C[0],w=C[1],A=(0,i.useState)(!1),T=(0,o.Z)(A,2),D=T[0],M=T[1],O=(0,i.useState)(""),L=(0,o.Z)(O,2),P=L[0],R=L[1],F=(0,i.useState)(!1),G=(0,o.Z)(F,2),B=G[0],$=G[1],q=(0,g.y_)({data:{smid:t,page:r,limit:10},skip:!t}),V=q.backlogSubjectAllStudent,U=q.backlogSubjectAllStudentRefetch;(0,i.useEffect)((function(){Z&&a&&u((function(e){return e+1}))}),[Z,a]),(0,i.useEffect)((function(){t&&(y(!0),U())}),[r,t,B,U]),(0,i.useEffect)((function(){var e,t;if(null!==V&&void 0!==V&&V.student_array)if(B){var n=(0,h.Z)(null===V||void 0===V?void 0:V.student_array),i=(0,h.Z)(new Set(n.map(JSON.stringify))).map(JSON.parse);w(i),$(!1),y(!1)}else{var s=[].concat((0,h.Z)(E),(0,h.Z)(null===V||void 0===V?void 0:V.student_array)),a=(0,h.Z)(new Set(s.map(JSON.stringify))).map(JSON.parse);w(a),y(!1)}else 0===(null===V||void 0===V||null===(e=V.student_array)||void 0===e?void 0:e.length)&&y(!1);10===(null===V||void 0===V||null===(t=V.student_array)||void 0===t?void 0:t.length)?l(!0):l(!1)}),[null===V||void 0===V?void 0:V.student_array]);var Y=function(e){R(e),M((function(e){return!e}))};return(0,f.jsxs)(f.Fragment,{children:[null===E||void 0===E?void 0:E.map((function(e,t){return(null===E||void 0===E?void 0:E.length)===t+1?(0,f.jsx)("div",{ref:_,children:(0,f.jsx)(p,{student:e,onStudentOpen:Y,clickable:!0})},null===e||void 0===e?void 0:e._id):(0,f.jsx)(p,{student:e,onStudentOpen:Y,clickable:!0},null===e||void 0===e?void 0:e._id)})),k&&(0,f.jsx)(j.Z,{}),D&&(0,f.jsx)(N,{open:D,hideModal:function(e){return M(e)},studentId:P,subjectMasterId:t,onRefetchWhenConfirm:function(){u(1),$(!0)}})]})},y=function(e){var t=e.subjectMasterId,n=(0,i.useState)(!0),s=(0,o.Z)(n,2),a=s[0],l=s[1],d=(0,i.useState)(1),c=(0,o.Z)(d,2),r=c[0],u=c[1],v=(0,x.YD)(),m=(0,o.Z)(v,2),_=m[0],Z=m[1],b=(0,i.useState)(!0),S=(0,o.Z)(b,2),N=S[0],k=S[1],y=(0,i.useState)([]),I=(0,o.Z)(y,2),C=I[0],E=I[1],w=(0,g.yD)({data:{smid:t,page:r,limit:10},skip:!t}),A=w.backlogSubjectAllStudentDropout,T=w.backlogSubjectAllStudentDropoutRefetch;return(0,i.useEffect)((function(){Z&&a&&u((function(e){return e+1}))}),[Z,a]),(0,i.useEffect)((function(){t&&(k(!0),T())}),[r,t,T]),(0,i.useEffect)((function(){var e,t;if(null!==A&&void 0!==A&&A.student_array){var n=[].concat((0,h.Z)(C),(0,h.Z)(null===A||void 0===A?void 0:A.student_array)),i=(0,h.Z)(new Set(n.map(JSON.stringify))).map(JSON.parse);E(i),k(!1)}else 0===(null===A||void 0===A||null===(e=A.student_array)||void 0===e?void 0:e.length)&&k(!1);10===(null===A||void 0===A||null===(t=A.student_array)||void 0===t?void 0:t.length)?l(!0):l(!1)}),[null===A||void 0===A?void 0:A.student_array]),(0,f.jsxs)(f.Fragment,{children:[null===C||void 0===C?void 0:C.map((function(e,t){return(null===C||void 0===C?void 0:C.length)===t+1?(0,f.jsx)("div",{ref:_,children:(0,f.jsx)(p,{student:e,clickable:!1})},null===e||void 0===e?void 0:e._id):(0,f.jsx)(p,{student:e,clickable:!1},null===e||void 0===e?void 0:e._id)})),N&&(0,f.jsx)(j.Z,{})]})},I=n(16871);var C=function(){var e,t,n=(0,I.TH)(),s=(0,i.useState)(0),a=(0,o.Z)(s,2),l=a[0],c=a[1];return(0,f.jsxs)("div",{children:[(0,f.jsx)(_,{activeIndex:l,setActiveIndex:c}),(0,f.jsxs)("div",{className:d.BacklogStudentsbody,children:[0===l&&(0,f.jsx)(k,{subjectMasterId:null===(e=n.state)||void 0===e?void 0:e.subId}),1===l&&(0,f.jsx)(y,{subjectMasterId:null===(t=n.state)||void 0===t?void 0:t.subId})]}),2===l&&(0,f.jsx)("div",{className:d.BacklogStudentsbody})]})},E=n(1413),w=n(8148),A=n(16796);var T=function(e){var t=e.classMaster,n=e.carryParentState,i=e.viewAs;return(0,f.jsx)(f.Fragment,{children:"EXAMINATION_SECTION"===i?(0,f.jsx)(A.Z,{carryParentState:(0,E.Z)((0,E.Z)({},n),{},{clsId:null===t||void 0===t?void 0:t._id}),activeTab:"department&n=backlog&subject",children:(0,f.jsxs)("div",{className:"".concat(d.standerdItem," ").concat(d.standerdItemm),children:[(0,f.jsx)("img",{className:d.standerdsImg,src:"/images/department/staffs.svg",alt:""}),(0,f.jsxs)("div",{className:d.standerdsright,children:[(0,f.jsx)("h6",{className:d.standerdsh6,children:(null===t||void 0===t?void 0:t.className)||""}),(0,f.jsxs)("p",{className:d.standerdsp,children:["Total Class: ",null===t||void 0===t?void 0:t.classCount]})]})]})}):(0,f.jsx)(w.Z,{carryParentState:(0,E.Z)((0,E.Z)({},n),{},{clsId:null===t||void 0===t?void 0:t._id}),activeTab:"backlog&subject",children:(0,f.jsxs)("div",{className:"".concat(d.standerdItem," ").concat(d.standerdItemm),children:[(0,f.jsx)("img",{className:d.standerdsImg,src:"/images/department/staffs.svg",alt:""}),(0,f.jsxs)("div",{className:d.standerdsright,children:[(0,f.jsx)("h6",{className:d.standerdsh6,children:(null===t||void 0===t?void 0:t.className)||""}),(0,f.jsxs)("p",{className:d.standerdsp,children:["Total Class: ",null===t||void 0===t?void 0:t.classCount]})]})]})})})},D=n(98094),M=n(47167),O=n(72426),L=n.n(O),P=function(e){var t,n,i,s,a,l,o,c=e.isFees,r=e.examFees,u=e.setAdd,v=e.setStudentList,_=(0,m.$G)().t;return(0,f.jsx)(f.Fragment,{children:c?(0,f.jsxs)("div",{className:d.back_fees_container,onClick:function(){return u(r)},style:{cursor:"pointer"},children:[(0,f.jsx)("img",{src:"/images/department/bank-icon.svg",alt:"bank icon"}),(0,f.jsxs)("div",{className:d.back_fees_container_inner,children:[(0,f.jsx)("h6",{children:_("backlog_exam_fee_structure")}),(0,f.jsxs)("p",{children:[_("rs"),".",null!==(t=null===r||void 0===r?void 0:r.exam_fee_amount)&&void 0!==t?t:0," / ",null!==(n=null===r||void 0===r?void 0:r.exam_fee_type)&&void 0!==n?n:""]})]})]}):(0,f.jsxs)("div",{className:d.back_fees_list,style:{cursor:"pointer"},onClick:function(){return v(r)},children:[(0,f.jsx)("img",{src:"/images/members/fees-icon.svg",alt:"fees icon"}),(0,f.jsxs)("div",{className:d.back_fees_list_inner,style:{width:"100%"},children:[(0,f.jsxs)("div",{className:d.back_fees_list_text,children:[(0,f.jsxs)("h6",{children:[null!==(i=null===r||void 0===r||null===(s=r.exam)||void 0===s?void 0:s.examName)&&void 0!==i?i:"",", ",_("rs"),". ",null!==(a=null===r||void 0===r?void 0:r.exam_fee_amount)&&void 0!==a?a:0," ",null===r||void 0===r?void 0:r.exam_fee_type]}),(0,f.jsxs)("p",{style:{fontSize:"10px"},children:[_("rs"),".",null!==(l=null===r||void 0===r?void 0:r.total_paid_collection)&&void 0!==l?l:0," ",_("received_of")," "," "," ",null!==(o=null===r||void 0===r?void 0:r.total_raised_collection)&&void 0!==o?o:0]})]}),(0,f.jsx)("div",{className:d.back_fees_list_text,children:(0,f.jsxs)("p",{children:[L()(null===r||void 0===r?void 0:r.created_at).format("DD MMMM yyyy"),","," ",L()(null===r||void 0===r?void 0:r.created_at).format("LT")]})})]})]})})},R=n(36665),F=n(91022),G=n(97655),B=n(60163),$=function(e){var t=e.onClose,n=e.examFees,s=e.onRefetch,a=(0,m.$G)().t,l=(0,i.useState)(""),d=(0,o.Z)(l,2),c=d[0],r=d[1],u=(0,i.useState)(!1),v=(0,o.Z)(u,2),_=v[0],h=v[1],x=(0,i.useState)({exam_fee_type:"",exam_fee_amount:0}),j=(0,o.Z)(x,2),Z=j[0],p=j[1],b=(0,g.bp)(),N=(0,o.Z)(b,1)[0];(0,i.useEffect)((function(){n&&p((function(e){var t,i;return(0,E.Z)((0,E.Z)({},e),{},{exam_fee_type:null!==(t=null===n||void 0===n?void 0:n.exam_fee_type)&&void 0!==t?t:"",exam_fee_amount:null!==(i=null===n||void 0===n?void 0:n.exam_fee_amount)&&void 0!==i?i:0})}))}),[n]);return(0,f.jsx)(R.Z,{onClose:t,children:(0,f.jsxs)("div",{className:B.Z.seating_modal,children:[(0,f.jsx)("section",{className:B.Z.seating_modal_title_left,style:{position:"relative"},children:(0,f.jsx)("h6",{children:a("exam_fees_update")})}),(0,f.jsx)(D.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),(0,f.jsx)(F.Z,{selectLabel:a("fees_type"),selectedValue:a("fees_type_placeholder"),options:["Per student","Per Backlog paper"],value:Z.exam_fee_type,onClick:function(e){p((function(t){return(0,E.Z)((0,E.Z)({},t),{},{exam_fee_type:e})}))},errorShow:c.examType}),(0,f.jsx)(G.Z,{labelText:a("fee_amount"),placeholder:a("fee_amount_placeholder"),name:"examWeight",value:Z.exam_fee_amount,type:"number",onChange:function(e){p((function(t){return(0,E.Z)((0,E.Z)({},t),{},{exam_fee_amount:+e.target.value})}))}}),(0,f.jsx)("button",{className:B.Z.update_btn,title:"update",onClick:function(){var e=function(e){var t={};for(var n in e)"exam_fee_amount"===n||e[n]||(t[n]="".concat(n," is required!"));return t}(Z),i=!1;for(var a in e)if(a){i=!0;break}i?r(e):(h((function(e){return!e})),N({efid:null===n||void 0===n?void 0:n._id,updateFee:Z}).then((function(){s(),t(),h((function(e){return!e}))})).catch({}))},children:a("update")}),_&&(0,f.jsx)(S.Z,{})]})})},q=function(e){var t,n,s=e.examFees,a=e.onClose,l=(0,m.$G)().t,c=(0,i.useState)(!0),r=(0,o.Z)(c,2),u=r[0],v=r[1],_=(0,g.j8)({efid:null===s||void 0===s?void 0:s._id,skip:!(null!==s&&void 0!==s&&s._id)}),h=_.examFeeStructureDetail,x=_.examFeeStructureDetailRefetch;return(0,i.useEffect)((function(){null!==s&&void 0!==s&&s._id&&(v(!0),x())}),[null===s||void 0===s?void 0:s._id,x]),(0,i.useEffect)((function(){null!==h&&void 0!==h&&h.all_fee&&v(!1)}),[null===h||void 0===h?void 0:h.all_fee]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:d.fees_header,children:[(0,f.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:a,alt:"go to previous",title:"Go Back",style:{cursor:"pointer"}}),(0,f.jsx)("h6",{children:l("total_collect_amount")})]}),(0,f.jsxs)("h6",{children:[l("rs"),". ",null!==(t=null===s||void 0===s?void 0:s.total_paid_collection)&&void 0!==t?t:0]})]}),(0,f.jsxs)("div",{className:d.fees_table_header,children:[(0,f.jsx)("h6",{style:{width:"20%"},children:l("roll_number")}),(0,f.jsx)("h6",{style:{width:"50%"},children:l("name")}),(0,f.jsx)("h6",{style:{width:"15%"},children:l("amount")}),(0,f.jsx)("h6",{style:{width:"15%"},children:l("status")})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%",marginTop:"0.8rem"}}),null===h||void 0===h||null===(n=h.all_fee)||void 0===n?void 0:n.map((function(e){var t,n,i,s,a,l,o,c,r,u;return(0,f.jsxs)("div",{className:d.fees_table_header,children:[(0,f.jsx)("p",{style:{width:"20%"},children:(null===e||void 0===e||null===(t=e.student)||void 0===t?void 0:t.studentROLLNO)>9?null===e||void 0===e||null===(n=e.student)||void 0===n?void 0:n.studentROLLNO:"0".concat(null===e||void 0===e||null===(i=e.student)||void 0===i?void 0:i.studentROLLNO)}),(0,f.jsx)("p",{style:{width:"50%"},children:"".concat(null!==(s=null===e||void 0===e||null===(a=e.student)||void 0===a?void 0:a.studentFirstName)&&void 0!==s?s:""," ").concat(null!==(l=null===e||void 0===e||null===(o=e.student)||void 0===o?void 0:o.studentMiddleName)&&void 0!==l?l:""," ").concat(null!==(c=null===e||void 0===e||null===(r=e.student)||void 0===r?void 0:r.studentLastName)&&void 0!==c?c:"")}),(0,f.jsx)("p",{style:{width:"15%"},children:null!==(u=null===e||void 0===e?void 0:e.amount)&&void 0!==u?u:0}),(0,f.jsx)("p",{style:{width:"15%"},children:(0,f.jsx)("img",{style:{marginLeft:"0.7rem"},src:"Not Paid"===(null===e||void 0===e?void 0:e.status)?"/images/department/radio-gray-icon.svg":"/images/department/radio-blue-icon.svg",alt:"radio icon"})})]})})),u&&(0,f.jsx)(j.Z,{})]})},V=function(e){var t=e.did,n=(0,i.useState)(""),s=(0,o.Z)(n,2),a=s[0],l=s[1],d=(0,x.YD)(),c=(0,o.Z)(d,2),r=c[0],u=c[1],v=(0,i.useState)(1),m=(0,o.Z)(v,2),_=m[0],Z=m[1],p=(0,i.useState)(!0),b=(0,o.Z)(p,2),S=b[0],N=b[1],k=(0,i.useState)(!0),y=(0,o.Z)(k,2),I=y[0],C=y[1],E=(0,i.useState)([]),w=(0,o.Z)(E,2),A=w[0],T=w[1],D=(0,i.useState)(!1),M=(0,o.Z)(D,2),O=M[0],L=M[1],R=(0,i.useState)(""),F=(0,o.Z)(R,2),G=F[0],B=F[1],V=(0,g.zk)({data:{did:t,page:_,limit:10},skip:!t}),U=V.getAllExamFeeStructure,Y=V.getAllExamFeeStructureRefetch;(0,i.useEffect)((function(){t&&(C(!0),Y())}),[t,_,Y]),(0,i.useEffect)((function(){u&&S&&Z((function(e){return e+1}))}),[u,S]),(0,i.useEffect)((function(){var e,t;O?(T(null===U||void 0===U?void 0:U.all_exam_fee),C(!1),L(!1)):null!==U&&void 0!==U&&U.all_exam_fee?(T((function(e){var t,n;return null===(t=(0,h.Z)(new Set(null===(n=[].concat((0,h.Z)(e),(0,h.Z)(null===U||void 0===U?void 0:U.all_exam_fee)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),C(!1)):0===(null===U||void 0===U||null===(t=U.all_exam_fee)||void 0===t?void 0:t.length)&&C(!1);10===(null===U||void 0===U||null===(e=U.all_exam_fee)||void 0===e?void 0:e.length)?N(!0):N(!1)}),[null===U||void 0===U?void 0:U.all_exam_fee]);return(0,f.jsxs)(f.Fragment,{children:[!G&&(null===A||void 0===A?void 0:A.map((function(e,t){return(null===A||void 0===A?void 0:A.length)===t+1?(0,f.jsx)("div",{ref:r,children:(0,f.jsx)(P,{examFees:e,isFees:"Static Department Linked"===(null===e||void 0===e?void 0:e.exam_fee_status),setAdd:l,setStudentList:B})},null===e||void 0===e?void 0:e._id):(0,f.jsx)(P,{examFees:e,isFees:"Static Department Linked"===(null===e||void 0===e?void 0:e.exam_fee_status),setAdd:l,setStudentList:B},null===e||void 0===e?void 0:e._id)}))),I&&(0,f.jsx)(j.Z,{}),a&&(0,f.jsx)($,{onClose:function(){return l("")},onRefetch:function(){Z(1),L(!0),C(!0),Y()},examFees:a}),G&&(0,f.jsx)(q,{examFees:G,onClose:function(){return B("")}})]})},U=n(34219),Y=n(8274),H=n(55691),J=n(90443),W=function(e){var t,n=e.did,s=e.carryParentState,a=e.viewAs,l=(0,m.$G)().t,d=(0,i.useState)(!0),c=(0,o.Z)(d,2),r=c[0],u=c[1],v=(0,i.useState)([]),_=(0,o.Z)(v,2),h=_[0],x=_[1],j=(0,i.useState)(!1),Z=(0,o.Z)(j,2),p=Z[0],b=Z[1],S=(0,g.Id)({did:n,skip:!n}),N=S.getBacklogExamList,k=S.getBacklogExamListRefetch;(0,i.useEffect)((function(){n&&(u(!0),k())}),[n,k]),(0,i.useEffect)((function(){var e,t;null!==N&&void 0!==N&&null!==(e=N.exam)&&void 0!==e&&e.length?(x(null===N||void 0===N?void 0:N.exam),u(!1)):0===(null===N||void 0===N||null===(t=N.exam)||void 0===t?void 0:t.length)&&u(!1)}),[null===N||void 0===N?void 0:N.exam]);var y=function(){b((function(e){return!e}))};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:J.Z.add_new_container,children:(0,f.jsx)("p",{className:J.Z.add_new_exam,onClick:y,children:l("create_new_exam")})}),null===h||void 0===h?void 0:h.map((function(e){return(0,f.jsx)(Y.Z,{exam:e,carryParentState:s,viewAs:a},e._id)})),!r&&!(null!==N&&void 0!==N&&null!==(t=N.exam)&&void 0!==t&&t.length)&&(0,f.jsx)(U.Z,{customStyleContainer:{marginTop:"5rem",height:"inherit"},title:"No any exams found",subtitle:"Please make sure you have created exam."}),p&&(0,f.jsx)(H.Z,{onClose:y,did:n,onRefetch:k,openAs:"BACKLOG"})]})};var X=function(e){var t,n,s,a,l,c,r,u,v,_,Z=e.did,p=e.carryParentState,b=e.viewAs,S=(0,m.$G)().t,N=(0,I.UO)(),k=(0,I.TH)(),y=[{name:S("stands"),id:0,url:"EXAMINATION_SECTION"===b?"member/exam?a=department&n=backlog&standard":"member/department/".concat(N.deptname,"?a=backlog&standard")},{name:S("exam_fees"),id:1,url:"EXAMINATION_SECTION"===b?"member/exam?a=department&n=backlog&fees":"member/department/".concat(N.deptname,"?a=backlog&fees")},{name:S("exams"),id:2,url:"EXAMINATION_SECTION"===b?"member/exam?a=department&n=backlog&exam":"member/department/".concat(N.deptname,"?a=backlog&exam")}],C=(0,i.useState)(!0),E=(0,o.Z)(C,2),w=E[0],A=E[1],O=(0,i.useState)(1),L=(0,o.Z)(O,2),P=L[0],R=L[1],F=(0,x.YD)(),G=(0,o.Z)(F,2),B=G[0],$=G[1],q=(0,i.useState)(!0),U=(0,o.Z)(q,2),Y=U[0],H=U[1],J=(0,i.useState)([]),X=(0,o.Z)(J,2),K=X[0],z=X[1],Q=(0,g.Gk)({data:{did:Z,page:P,limit:10},skip:!Z}),ee=Q.backlogClassMaster,te=Q.backlogClassMasterRefetch;return(0,i.useEffect)((function(){$&&w&&R((function(e){return e+1}))}),[$,w]),(0,i.useEffect)((function(){Z&&(H(!0),te())}),[P,Z,te]),(0,i.useEffect)((function(){var e,t;if(null!==ee&&void 0!==ee&&ee.masters){var n=[].concat((0,h.Z)(K),(0,h.Z)(null===ee||void 0===ee?void 0:ee.masters)),i=(0,h.Z)(new Set(n.map(JSON.stringify))).map(JSON.parse);z(i),H(!1)}else 0===(null===ee||void 0===ee||null===(e=ee.masters)||void 0===e?void 0:e.length)&&H(!1);10===(null===ee||void 0===ee||null===(t=ee.masters)||void 0===t?void 0:t.length)?A(!0):A(!1)}),[null===ee||void 0===ee?void 0:ee.masters]),(0,f.jsxs)("div",{className:d.standerds,children:[(0,f.jsx)("h6",{className:d.standerdsheading,children:S("stands")}),(0,f.jsx)(M.Z,{tabList:y,activeIndexTab:"backlog&standard"===(null===(t=k.search)||void 0===t?void 0:t.substring(3))||"department&n=backlog&standard"===(null===(n=k.search)||void 0===n?void 0:n.substring(3))?0:"backlog&fees"===(null===(s=k.search)||void 0===s?void 0:s.substring(3))||"department&n=backlog&fees"===(null===(a=k.search)||void 0===a?void 0:a.substring(3))?1:2,showAs:!0,customStyleLink:{width:"33.3%"},carryParentState:p}),(0,f.jsx)(D.Z,{customStyle:{width:"100%",marginBottom:"0.7rem"}}),("backlog&standard"===(null===(l=k.search)||void 0===l?void 0:l.substring(3))||"department&n=backlog&standard"===(null===(c=k.search)||void 0===c?void 0:c.substring(3)))&&(0,f.jsxs)(f.Fragment,{children:[null===K||void 0===K?void 0:K.map((function(e,t){return(null===K||void 0===K?void 0:K.length)===t+1?(0,f.jsx)("div",{ref:B,children:(0,f.jsx)(T,{classMaster:e,carryParentState:p,viewAs:b})},null===e||void 0===e?void 0:e._id):(0,f.jsx)(T,{classMaster:e,viewAs:b,carryParentState:p},null===e||void 0===e?void 0:e._id)})),Y&&(0,f.jsx)(j.Z,{})]}),("backlog&fees"===(null===(r=k.search)||void 0===r?void 0:r.substring(3))||"department&n=backlog&fees"===(null===(u=k.search)||void 0===u?void 0:u.substring(3)))&&(0,f.jsx)(V,{did:Z}),("backlog&exam"===(null===(v=k.search)||void 0===v?void 0:v.substring(3))||"department&n=backlog&exam"===(null===(_=k.search)||void 0===_?void 0:_.substring(3)))&&(0,f.jsx)(W,{did:Z,viewAs:b,carryParentState:p})]})};var K=function(e){var t=e.subMaster,n=e.carryParentState,i=e.viewAs;return(0,f.jsx)(f.Fragment,{children:"EXAMINATION_SECTION"===i?(0,f.jsx)(A.Z,{carryParentState:(0,E.Z)((0,E.Z)({},n),{},{subId:null===t||void 0===t?void 0:t._id}),activeTab:"department&n=backlog&student",children:(0,f.jsxs)("div",{className:"".concat(d.standerdItem," ").concat(d.standerdItemm),children:[(0,f.jsx)("img",{className:d.standerdsImg,src:"/images/department/subjectIcon.svg",alt:""}),(0,f.jsxs)("div",{className:d.standerdsright,children:[(0,f.jsx)("h6",{className:d.standerdsh6,children:null===t||void 0===t?void 0:t.subjectName}),(0,f.jsxs)("p",{className:d.standerdsp,children:["Total Student: ",null===t||void 0===t?void 0:t.backlogStudentCount]})]})]})}):(0,f.jsx)(w.Z,{carryParentState:(0,E.Z)((0,E.Z)({},n),{},{subId:null===t||void 0===t?void 0:t._id}),activeTab:"backlog&student",children:(0,f.jsxs)("div",{className:"".concat(d.standerdItem," ").concat(d.standerdItemm),children:[(0,f.jsx)("img",{className:d.standerdsImg,src:"/images/department/subjectIcon.svg",alt:""}),(0,f.jsxs)("div",{className:d.standerdsright,children:[(0,f.jsx)("h6",{className:d.standerdsh6,children:null===t||void 0===t?void 0:t.subjectName}),(0,f.jsxs)("p",{className:d.standerdsp,children:["Total Student: ",null===t||void 0===t?void 0:t.backlogStudentCount]})]})]})})})};var z=function(e){var t,n,s,a=e.carryParentState,l=e.viewAs,c=(0,m.$G)().t,r=(0,i.useState)(!0),u=(0,o.Z)(r,2),v=u[0],_=u[1],Z=(0,i.useState)(1),p=(0,o.Z)(Z,2),b=p[0],S=p[1],N=(0,x.YD)(),k=(0,o.Z)(N,2),y=k[0],C=k[1],E=(0,i.useState)(!0),w=(0,o.Z)(E,2),A=w[0],T=w[1],D=(0,i.useState)([]),M=(0,o.Z)(D,2),O=M[0],L=M[1],P=(0,I.TH)(),R=(0,g.F5)({data:{cmid:null===(t=P.state)||void 0===t?void 0:t.clsId,page:b,limit:10},skip:!(null!==(n=P.state)&&void 0!==n&&n.clsId)}),F=R.backlogSubjectMaster,G=R.backlogSubjectMasterRefetch;return(0,i.useEffect)((function(){C&&v&&S((function(e){return e+1}))}),[C,v]),(0,i.useEffect)((function(){var e;null!==(e=P.state)&&void 0!==e&&e.clsId&&(T(!0),G())}),[b,null===(s=P.state)||void 0===s?void 0:s.clsId,G]),(0,i.useEffect)((function(){var e,t;if(null!==F&&void 0!==F&&F.subjects){var n=[].concat((0,h.Z)(O),(0,h.Z)(null===F||void 0===F?void 0:F.subjects)),i=(0,h.Z)(new Set(n.map(JSON.stringify))).map(JSON.parse);L(i),T(!1)}else 0===(null===F||void 0===F||null===(e=F.subjects)||void 0===e?void 0:e.length)&&T(!1);10===(null===F||void 0===F||null===(t=F.subjects)||void 0===t?void 0:t.length)?_(!0):_(!1)}),[null===F||void 0===F?void 0:F.subjects]),(0,f.jsxs)("div",{className:d.standerds,children:[(0,f.jsx)("h6",{className:d.standerdsheading,children:c("subjects")}),null===O||void 0===O?void 0:O.map((function(e,t){return(null===O||void 0===O?void 0:O.length)===t+1?(0,f.jsx)("div",{ref:y,children:(0,f.jsx)(K,{carryParentState:a,subMaster:e,viewAs:l})},null===e||void 0===e?void 0:e._id):(0,f.jsx)(K,{carryParentState:a,subMaster:e,viewAs:l},null===e||void 0===e?void 0:e._id)})),A&&(0,f.jsx)(j.Z,{})]})},Q=n(93487),ee=["backlog&exam&detail","backlog&exam&detail&seating","backlog&exam&detail&subject","department&n=backlog&exam&detail","department&n=backlog&exam&detail&seating","department&n=backlog&exam&detail&subject"];var te=function(e){var t,n,i,o,d,c,r,u,v,m,_,h,x=e.did,g=e.carryParentState,j=e.instituteId,Z=e.viewAs,p=(0,I.TH)();return(0,f.jsxs)(f.Fragment,{children:[ee.includes(null===p||void 0===p||null===(t=p.search)||void 0===t?void 0:t.substring(3))&&(0,f.jsx)(Q.Z,{carryParentState:g,instituteId:j,viewAs:Z}),!ee.includes(null===p||void 0===p||null===(n=p.search)||void 0===n?void 0:n.substring(3))&&(0,f.jsxs)("div",{className:s,children:[("backlog&standard"===(null===(i=p.search)||void 0===i?void 0:i.substring(3))||"backlog&fees"===(null===(o=p.search)||void 0===o?void 0:o.substring(3))||"backlog&exam"===(null===(d=p.search)||void 0===d?void 0:d.substring(3))||"department&n=backlog&standard"===(null===(c=p.search)||void 0===c?void 0:c.substring(3))||"department&n=backlog&fees"===(null===(r=p.search)||void 0===r?void 0:r.substring(3))||"department&n=backlog&exam"===(null===(u=p.search)||void 0===u?void 0:u.substring(3)))&&(0,f.jsx)("div",{className:a,children:(0,f.jsx)(X,{carryParentState:g,did:x,instituteId:j,viewAs:Z})}),("backlog&subject"===(null===(v=p.search)||void 0===v?void 0:v.substring(3))||"department&n=backlog&subject"===(null===(m=p.search)||void 0===m?void 0:m.substring(3)))&&(0,f.jsx)("div",{className:a,children:(0,f.jsx)(z,{carryParentState:g,viewAs:Z})}),("backlog&student"===(null===(_=p.search)||void 0===_?void 0:_.substring(3))||"department&n=backlog&student"===(null===(h=p.search)||void 0===h?void 0:h.substring(3)))&&(0,f.jsx)("div",{className:"".concat(a," ").concat(l),children:(0,f.jsx)(C,{})})]})]})}},93487:function(e,t,n){n.d(t,{Z:function(){return J}});var i=n(1413),s=n(29439),a=n(72791),l=n(39230),o=n(16871),d=n(74289),c=n(67923),r=n(8148),u=n(93433),v=n(98094),m=n(4942),f=n(46876),_=n(91022),h=n(97655),x=n(69721),g=n(36665),j=n(60163),Z=n(69113),p=n(80184),b=function(e){var t=e.onClose,n=e.currentSubject,o=e.onAddSubjectSeating,d=(0,l.$G)().t,c=(0,a.useState)(""),r=(0,s.Z)(c,2),u=r[0],f=r[1],_=(0,a.useState)(0),x=(0,s.Z)(_,2),b=x[0],S=x[1],N=(0,a.useState)({from:"",to:""}),k=(0,s.Z)(N,2),y=k[0],I=k[1],C=function(e){I((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,m.Z)({},e.target.name,+e.target.value))}))};(0,a.useEffect)((function(){y.from&&y.to&&S(+y.to+1-+y.from)}),[y]);return(0,p.jsx)(g.Z,{onClose:t,children:(0,p.jsxs)("div",{className:j.Z.seating_modal,children:[(0,p.jsxs)("section",{className:j.Z.seating_modal_title_left,children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:t,alt:""}),(0,p.jsx)("h6",{children:d("select_exam")})]}),(0,p.jsx)(v.Z,{customStyle:{width:"100%",marginBottom:"1rem"}}),(0,p.jsx)(Z.Z,{examDetail:n,viewAs:"ADD_SEATING",studentCount:b}),(0,p.jsx)(h.Z,{labelText:d("student_from"),placeholder:d("student_from_placeholder"),name:"from",type:"number",errorShow:u.from,onChange:C,value:y.from}),(0,p.jsx)(h.Z,{labelText:d("student_to"),placeholder:d("student_to_placeholder"),name:"to",type:"number",errorShow:u.to,onChange:C,value:y.to}),u.greater_value&&(0,p.jsx)("span",{style:{color:"red",marginLeft:"15px"},children:"* Form field is less than To field"}),(0,p.jsx)("button",{className:j.Z.select_exam_btn,title:"Add",style:{justifyContent:"center"},onClick:function(){var e,t,s,a,l,d,c,r,u,v,m,_,h,x,g,j,Z=function(e){var t={};for(var n in e)e[n]||(t[n]="".concat(n," is required!"));return e.from<e.to||(t.greater_value="form is less than to"),t}(y),p=!1;for(var b in Z)if(b){p=!0;break}p?f(Z):o((0,i.Z)((0,i.Z)({},y),{},{subjectId:null===n||void 0===n||null===(e=n.currentSubject)||void 0===e||null===(t=e.subject)||void 0===t?void 0:t.subjectId,subjectName:null===n||void 0===n||null===(s=n.currentSubject)||void 0===s||null===(a=s.subject)||void 0===a?void 0:a.subjectName,totalMarks:null===n||void 0===n||null===(l=n.currentSubject)||void 0===l||null===(d=l.subject)||void 0===d?void 0:d.totalMarks,date:null===n||void 0===n||null===(c=n.currentSubject)||void 0===c||null===(r=c.subject)||void 0===r?void 0:r.date,startTime:null===n||void 0===n||null===(u=n.currentSubject)||void 0===u||null===(v=u.subject)||void 0===v?void 0:v.startTime,endTime:null===n||void 0===n||null===(m=n.currentSubject)||void 0===m||null===(_=m.subject)||void 0===_?void 0:_.endTime,duration:"",subjectMasterId:null===n||void 0===n||null===(h=n.currentSubject)||void 0===h||null===(x=h.subject)||void 0===x?void 0:x.subjectMasterId,paperId:null===n||void 0===n||null===(g=n.currentSubject)||void 0===g||null===(j=g.subject)||void 0===j?void 0:j._id}))},children:d("add")})]})})},S=n(40366),N=function(e){var t,n,i,c=e.onClose,r=e.onCurrentSubject,u=(0,l.$G)().t,m=a.useState([]),f=(0,s.Z)(m,2),_=f[0],h=f[1],x=(0,a.useState)(""),Z=(0,s.Z)(x,2),b=Z[0],N=Z[1],k=a.useState(!0),y=(0,s.Z)(k,2),I=(y[0],y[1]),C=(0,o.TH)(),E=(0,d.il)({eid:null===(t=C.state)||void 0===t?void 0:t.examId,skip:!(null!==(n=C.state)&&void 0!==n&&n.examId)}),w=E.departmentExamDetail,A=E.departmentExamDetailRefetch;(0,a.useEffect)((function(){var e;null!==(e=C.state)&&void 0!==e&&e.examId&&A()}),[null===(i=C.state)||void 0===i?void 0:i.examId]),(0,a.useEffect)((function(){var e,t;null!==w&&void 0!==w&&w.oneExamDetail?(h(null!==(t=null===w||void 0===w?void 0:w.oneExamDetail)&&void 0!==t?t:[]),I(!1)):0===(null===w||void 0===w||null===(e=w.oneExamDetail)||void 0===e?void 0:e.length)&&I(!1)}),[null===w||void 0===w?void 0:w.oneExamDetail]);return(0,p.jsx)(g.Z,{onClose:c,children:(0,p.jsxs)("div",{className:j.Z.seating_modal,children:[(0,p.jsxs)("section",{className:j.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:c,alt:""}),(0,p.jsx)("h6",{children:u("select_scheduled_exam")})]}),(0,p.jsx)(v.Z,{customStyle:{width:"100%",marginBottom:"1rem"}}),(0,p.jsx)("div",{className:j.Z.search_container,style:{marginBottom:"0.5rem"},children:(0,p.jsxs)("div",{className:j.Z.search_container_input,style:{width:"100%"},children:[(0,p.jsx)("img",{className:j.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,p.jsx)("input",{type:"text",placeholder:u("search-label"),style:{width:"100%"},onChange:function(e){N(e.target.value)}})]})}),null===_||void 0===_?void 0:_.map((function(e){var t;return null===e||void 0===e||null===(t=e.subject)||void 0===t?void 0:t.map((function(t){var n,i;return b?null!==t&&void 0!==t&&null!==(n=t.subjectName)&&void 0!==n&&null!==(i=n.toLowerCase())&&void 0!==i&&i.includes(null===b||void 0===b?void 0:b.toLowerCase())?(0,p.jsx)(S.Z,{classMaster:null===e||void 0===e?void 0:e.className,subject:t,customCardStyle:{width:"100%%",cursor:"pointer"},viewAs:"SEATING",onCurrentSubject:r},null===t||void 0===t?void 0:t._id):"":(0,p.jsx)(S.Z,{classMaster:null===e||void 0===e?void 0:e.className,subject:t,customCardStyle:{width:"100%%",cursor:"pointer"},viewAs:"SEATING",onCurrentSubject:r},null===t||void 0===t?void 0:t._id)}))}))]})})},k=n(23441),y=n(763),I=n(56206),C=n(11105),E=function(e){var t=e.onClose,n=e.examId,i=e.onSelect,o=(0,l.$G)().t,c=(0,k.YD)(),r=(0,s.Z)(c,2),m=r[0],f=r[1],_=(0,a.useState)(1),h=(0,s.Z)(_,2),x=h[0],Z=h[1],b=(0,a.useState)(!0),S=(0,s.Z)(b,2),N=S[0],E=S[1],w=(0,a.useState)(!0),A=(0,s.Z)(w,2),T=A[0],D=A[1],M=(0,a.useState)([]),O=(0,s.Z)(M,2),L=O[0],P=O[1],R=(0,a.useState)(""),F=(0,s.Z)(R,2),G=F[0],B=F[1],$=(0,d.hw)({data:{eid:n,page:x,limit:10,search:G},skip:!n}),q=$.getClassListExam,V=$.getClassListExamRefetch;(0,a.useEffect)((function(){n&&(D(!0),V())}),[n,x,G,V]),(0,a.useEffect)((function(){f&&N&&Z((function(e){return e+1}))}),[f,N]),(0,a.useEffect)((function(){var e,t;G?(P(null===q||void 0===q?void 0:q.all_classes),D(!1)):null!==q&&void 0!==q&&q.all_classes?(P((function(e){var t,n;return null===(t=(0,u.Z)(new Set(null===(n=[].concat((0,u.Z)(e),(0,u.Z)(null===q||void 0===q?void 0:q.all_classes)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),D(!1)):0===(null===q||void 0===q||null===(t=q.all_classes)||void 0===t?void 0:t.length)&&D(!1);10===(null===q||void 0===q||null===(e=q.all_classes)||void 0===e?void 0:e.length)?E(!0):E(!1)}),[null===q||void 0===q?void 0:q.all_classes]);var U=(0,a.useCallback)((0,y.debounce)((function(e){return B(e)}),500),[]);return(0,p.jsx)(g.Z,{onClose:t,children:(0,p.jsxs)("div",{className:j.Z.seating_modal,children:[(0,p.jsxs)("section",{className:j.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:t,alt:""}),(0,p.jsx)("h6",{children:o("select_class")})]}),(0,p.jsx)(v.Z,{customStyle:{width:"100%",marginBottom:"1rem"}}),(0,p.jsx)("div",{className:j.Z.search_container,style:{marginBottom:"0.5rem"},children:(0,p.jsxs)("div",{className:j.Z.search_container_input,style:{width:"100%"},children:[(0,p.jsx)("img",{className:j.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,p.jsx)("input",{type:"text",placeholder:o("search-label"),style:{width:"100%"},onChange:function(e){U(e.target.value)}})]})}),null===L||void 0===L?void 0:L.map((function(e,t){return(null===L||void 0===L?void 0:L.length)===t+1?(0,p.jsx)("div",{ref:m,children:(0,p.jsx)(I.Z,{cls:e,onSelect:i})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(I.Z,{cls:e,onSelect:i},null===e||void 0===e?void 0:e._id)})),T&&(0,p.jsx)(C.Z,{})]})})},w=n(98734),A=function(e){var t,n,o,c,r,S,k,y,I,C,A,T,D,M,O,L=e.onClose,P=e.instituteId,R=e.examId,F=e.examName,G=e.onRefetch,B=e.said,$=e.onEdit,q=e.openAs,V=e.viewAs,U=(0,l.$G)().t,Y=(0,a.useState)(""),H=(0,s.Z)(Y,2),J=H[0],W=H[1],X=(0,a.useState)(""),K=(0,s.Z)(X,2),z=K[0],Q=K[1],ee=(0,a.useState)(""),te=(0,s.Z)(ee,2),ne=te[0],ie=te[1],se=(0,a.useState)(""),ae=(0,s.Z)(se,2),le=ae[0],oe=ae[1],de=(0,a.useState)({seat_block_name:"EDIT"===q?null===B||void 0===B?void 0:B.seat_block_name:"",seat_block_class:"EDIT"===q?null===B||void 0===B||null===(t=B.seat_block_class)||void 0===t?void 0:t._id:"",seat_valid_staff:"EDIT"===q?null===B||void 0===B?void 0:B.seat_valid_staff:"",seat_block_staff:"EDIT"===q?null===B||void 0===B||null===(n=B.seat_block_staff)||void 0===n?void 0:n._id:"",seat_valid_staff_name:"EDIT"===q?null===B||void 0===B?void 0:B.seat_valid_staff_name:"",papers:"EDIT"===q?null===B||void 0===B?void 0:B.seat_exam_paper_array:[]}),ce=(0,s.Z)(de,2),re=ce[0],ue=ce[1],ve=(0,a.useState)([]),me=(0,s.Z)(ve,2),fe=me[0],_e=me[1],he=(0,a.useState)(""),xe=(0,s.Z)(he,2),ge=xe[0],je=xe[1],Ze=(0,a.useState)(!1),pe=(0,s.Z)(Ze,2),be=pe[0],Se=pe[1],Ne=(0,d.ig)(),ke=(0,s.Z)(Ne,1)[0],ye=(0,d.y6)(),Ie=(0,s.Z)(ye,1)[0];(0,a.useEffect)((function(){var e,t;"EDIT"===q&&(ue({seat_block_name:"EDIT"===q?null===B||void 0===B?void 0:B.seat_block_name:"",seat_block_class:"EDIT"===q?null===B||void 0===B||null===(e=B.seat_block_class)||void 0===e?void 0:e._id:"",seat_valid_staff:"EDIT"===q?null===B||void 0===B?void 0:B.seat_valid_staff:"",seat_block_staff:"EDIT"===q?null===B||void 0===B||null===(t=B.seat_block_staff)||void 0===t?void 0:t._id:"",seat_valid_staff_name:"EDIT"===q?null===B||void 0===B?void 0:B.seat_valid_staff_name:"",papers:null===B||void 0===B?void 0:B.seat_exam_paper_array}),W(null===B||void 0===B?void 0:B.seat_block_staff),Q(null===B||void 0===B?void 0:B.seat_block_class))}),[q]);var Ce=function(e){"EDIT"===q&&"SCHEDULE_EXAM_OPEN"!==e&&"SCHEDULE_OPEN"!==e||oe(e)},Ee=function(){oe("")},we=function(e){ue((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,m.Z)({},e.target.name,e.target.value))}))};return(0,p.jsxs)(p.Fragment,{children:[""===le&&(0,p.jsxs)(g.Z,{onClose:L,children:[(0,p.jsxs)("div",{className:j.Z.seating_modal,children:[(0,p.jsxs)("section",{className:j.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:L,alt:""}),(0,p.jsx)("h6",{children:U("add_block_for_seating_arrragements")}),(0,p.jsx)("button",{className:j.Z.select_select_btn,title:"Add seating arrangements",onClick:function(){var e=function(e){var t={};for(var n in e)if("seat_block_staff"===n)"Staff"===e.seat_valid_staff&&(e[n]||(t.seat_block_staff="seat_block_staff is required!"));else if("seat_valid_staff_name"===n)"External"===e.seat_valid_staff&&(e[n]||(t.seat_valid_staff_name="seat_valid_staff_name is required!"));else if("papers"===n){var i;null!==(i=e[n])&&void 0!==i&&i.length||(t.papers="papers is required!")}else e[n]||(t[n]="".concat(n," is required!"));return t}(re),t=!1;for(var n in e)if(n){t=!0;break}t?ie(e):"EDIT"===q?$(re,fe):(Se((function(e){return!e})),"BACKLOG"===V?Ie({eid:R,addSeating:re}).then((function(){G(),L(),Se((function(e){return!e}))})).catch({}):ke({eid:R,addSeating:re}).then((function(){G(),L(),Se((function(e){return!e}))})).catch({}))},children:U("EDIT"===q?"update":"Add")})]}),(0,p.jsx)(v.Z,{customStyle:{width:"100%"}}),(0,p.jsx)(h.Z,{labelText:U("block_hall_name"),placeholder:U("block_hall_name_placeholder"),name:"seat_block_name",value:null===re||void 0===re?void 0:re.seat_block_name,type:"text",onChange:we,errorShow:ne.seat_block_name}),(0,p.jsxs)("div",{className:j.Z.person_container,onClick:function(){return Ce("CLASS_OPEN")},children:[(0,p.jsx)("img",{src:null!==z&&void 0!==z&&null!==(o=z.classTeacher)&&void 0!==o&&o.staffProfilePhoto?"".concat(x.yI,"/").concat(null===z||void 0===z?void 0:z.classTeacher.staffProfilePhoto):"/images/user-icon.svg",alt:"avatar"}),(0,p.jsxs)("div",{className:j.Z.person_container_text,children:[(0,p.jsx)("h6",{children:z?"".concat(null!==(c=null===z||void 0===z?void 0:z.className)&&void 0!==c?c:""," - ").concat(null!==(r=null===z||void 0===z?void 0:z.classTitle)&&void 0!==r?r:""):U("select_original_class_of_block")}),(0,p.jsxs)("p",{children:[null!==z&&void 0!==z&&z.classTeacher?"".concat(null!==(S=null===z||void 0===z||null===(k=z.classTeacher)||void 0===k?void 0:k.staffFirstName)&&void 0!==S?S:""," ").concat(null!==(y=null===z||void 0===z||null===(I=z.classTeacher)||void 0===I?void 0:I.staffMiddleName)&&void 0!==y?y:""," ").concat(null!==(C=null===z||void 0===z||null===(A=z.classTeacher)||void 0===A?void 0:A.staffLastName)&&void 0!==C?C:""):U("select_from_list"),ne.seat_block_class&&(0,p.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",U("form_require_label")]})]})]})]}),(0,p.jsx)(_.Z,{selectLabel:U("is_supervisor_external_or_staff"),selectedValue:U("select_supervisor_type"),options:["External","Staff"],onClick:function(e){ue((function(t){return(0,i.Z)((0,i.Z)({},t),{},{seat_valid_staff:e})}))},errorShow:ne.seat_valid_staff,value:re.seat_valid_staff,openAs:"EDIT"===q?"REFUND":""}),"Staff"===re.seat_valid_staff?(0,p.jsxs)("div",{className:j.Z.person_container,onClick:function(){return Ce("SUPERVISOR_OPEN")},children:[(0,p.jsx)("img",{src:null!==J&&void 0!==J&&J.staffProfilePhoto?"".concat(x.yI,"/").concat(J.staffProfilePhoto):"/images/user-icon.svg",alt:"avatar"}),(0,p.jsxs)("div",{className:j.Z.person_container_text,children:[(0,p.jsx)("h6",{children:J?"".concat(null!==(T=null===J||void 0===J?void 0:J.staffFirstName)&&void 0!==T?T:""," ").concat(null!==(D=null===J||void 0===J?void 0:J.staffMiddleName)&&void 0!==D?D:""," ").concat(null!==(M=null===J||void 0===J?void 0:J.staffLastName)&&void 0!==M?M:""):U("assign_supervisor")}),(0,p.jsxs)("p",{children:[U("select_from_list")," ",ne.seat_block_staff&&(0,p.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",U("form_require_label")]})]})]})]}):(0,p.jsx)(h.Z,{labelText:U("external_supervisor"),placeholder:U("external_supervisor_placeholder"),name:"seat_valid_staff_name",value:null===re||void 0===re?void 0:re.seat_valid_staff_name,type:"text",onChange:we,errorShow:ne.seat_valid_staff_name}),(0,p.jsxs)("button",{className:j.Z.select_schedule_exam_btn,title:"Schedule Exam",onClick:function(){return Ce("SCHEDULE_EXAM_OPEN")},children:[(0,p.jsx)("div",{children:U("select_schedule_exam")}),(0,p.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),ne.papers&&(0,p.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* atleast one sechedule exam ",U("form_require_label")]}),null===(O=re.papers)||void 0===O?void 0:O.map((function(e){return(0,p.jsx)(Z.Z,{examDetail:(0,i.Z)((0,i.Z)({},e),{},{examName:F,selectClass:"".concat(null===z||void 0===z?void 0:z.className,", ").concat(null===z||void 0===z?void 0:z.classTitle)}),viewAs:"VIEW_SEATING"})})),null===fe||void 0===fe?void 0:fe.map((function(e){return(0,p.jsx)(Z.Z,{examDetail:(0,i.Z)((0,i.Z)({},e),{},{examName:F,selectClass:"".concat(null===z||void 0===z?void 0:z.className,", ").concat(null===z||void 0===z?void 0:z.classTitle)}),viewAs:"VIEW_SEATING"})}))]}),be&&(0,p.jsx)(w.Z,{})]}),"CLASS_OPEN"===le&&(0,p.jsx)(E,{examId:R,onClose:Ee,onSelect:function(e){ue((function(t){return(0,i.Z)((0,i.Z)({},t),{},{seat_block_class:null===e||void 0===e?void 0:e._id})})),Q(e),Ee()}}),"SCHEDULE_EXAM_OPEN"===le&&(0,p.jsx)(N,{onClose:Ee,onCurrentSubject:function(e){je(e),oe("SCHEDULE_OPEN")}}),"SCHEDULE_OPEN"===le&&(0,p.jsx)(b,{onClose:Ee,currentSubject:{currentSubject:ge,selectClass:null===z||void 0===z?void 0:z.classTitle,examName:F},onAddSubjectSeating:function(e){"EDIT"===q?(_e((function(t){return[].concat((0,u.Z)(t),[e])})),Ee()):(ue((function(t){return(0,i.Z)((0,i.Z)({},t),{},{papers:[].concat((0,u.Z)(t.papers),[e])})})),Ee())}}),"SUPERVISOR_OPEN"===le&&(0,p.jsx)(f.default,{assignHead:"SUPERVISOR_OPEN"===le,headSelect:function(e){W(e),Ee(),ue((function(t){return(0,i.Z)((0,i.Z)({},t),{},{seat_block_staff:null===e||void 0===e?void 0:e._id})}))},title:U("assign_supervisor"),onClose:Ee,instituteId:P,viewAs:"ADMISSION_ADMIN"})]})},T=n(84489),D=n(12072),M=n(87049),O=function(e){var t=e.onClose,n=e.onRefetch,i=e.examId,l=e.said,o=(0,a.useState)(!1),c=(0,s.Z)(o,2),r=c[0],u=c[1],v=(0,a.useState)(!1),m=(0,s.Z)(v,2),f=m[0],_=m[1],h=(0,d.YE)(),x=(0,s.Z)(h,1)[0],g=(0,d.mX)(),j=(0,s.Z)(g,1)[0];return(0,p.jsx)(p.Fragment,{children:f?(0,p.jsx)(A,{said:l,onEdit:function(e,s){_(!1),u((function(e){return!e})),j({eid:i,said:null===l||void 0===l?void 0:l._id,updateSeating:{seat_block_name:null===e||void 0===e?void 0:e.seat_block_name,seat_block_class:null===e||void 0===e?void 0:e.seat_block_class,seat_valid_staff:null===e||void 0===e?void 0:e.seat_valid_staff,seat_block_staff:null===e||void 0===e?void 0:e.seat_block_staff,seat_valid_staff_name:null===e||void 0===e?void 0:e.seat_valid_staff_name,papers:s}}).then((function(){n(),u((function(e){return!e})),t()})).catch({})},openAs:"EDIT",onClose:function(){return _(!1)}}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(T.Z,{onClose:t}),(0,p.jsxs)(D.Z,{customStyle:{zIndex:"1200"},children:[(0,p.jsxs)("div",{className:M.Z.edit_modal_container,style:{width:"200px"},children:[(0,p.jsx)("h6",{className:M.Z.edit,onClick:function(){return _((function(e){return!e}))},children:"Edit"}),(0,p.jsx)("h6",{className:M.Z.remove,onClick:function(){u((function(e){return!e})),x({eid:i,said:null===l||void 0===l?void 0:l._id}).then((function(){n(),t(),u((function(e){return!e}))})).catch({})},children:"Delete"})]}),r&&(0,p.jsx)(w.Z,{})]})]})})},L=function(e){var t,n,o,d,c,r,u,v,m,f,_=e.seating,h=e.examName,x=e.examId,g=e.onRefetch,b=(0,l.$G)().t,S=(0,a.useState)(""),N=(0,s.Z)(S,2),k=N[0],y=N[1];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:j.Z.seating_block_container,onClick:function(){return y(_)},children:[(0,p.jsxs)("div",{className:j.Z.seating_block_container_top,children:[(0,p.jsx)("h6",{children:null!==(t=null===_||void 0===_?void 0:_.seat_block_name)&&void 0!==t?t:""}),(0,p.jsx)("p",{children:"".concat(null===_||void 0===_||null===(n=_.seat_block_class)||void 0===n?void 0:n.className," - ").concat(null===_||void 0===_||null===(o=_.seat_block_class)||void 0===o?void 0:o.classTitle)}),(0,p.jsxs)("p",{children:[b("supervisor"),":"," ",null!==_&&void 0!==_&&_.seat_valid_staff_name?null===_||void 0===_?void 0:_.seat_valid_staff_name:"".concat(null!==(d=null===_||void 0===_||null===(c=_.seat_block_staff)||void 0===c?void 0:c.staffFirstName)&&void 0!==d?d:""," ").concat(null!==(r=null===_||void 0===_||null===(u=_.seat_block_staff)||void 0===u?void 0:u.staffMiddleName)&&void 0!==r?r:""," ").concat(null!==(v=null===_||void 0===_||null===(m=_.seat_block_staff)||void 0===m?void 0:m.staffLastName)&&void 0!==v?v:"")]})]}),null===_||void 0===_||null===(f=_.seat_exam_paper_array)||void 0===f?void 0:f.map((function(e){var t;return(0,p.jsx)(Z.Z,{examDetail:(0,i.Z)((0,i.Z)({},e),{},{examName:h,selectClass:null===_||void 0===_||null===(t=_.seat_block_class)||void 0===t?void 0:t.classTitle}),viewAs:"ARANGE_SEATING"},null===e||void 0===e?void 0:e._id)})),(0,p.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",className:j.Z.menu_icon,title:"Menu"})]}),k&&(0,p.jsx)(O,{said:k,examName:h,examId:x,onRefetch:g,onClose:function(){return y("")}})]})},P=n(37762),R=n(12923),F=function(e){var t=e.instituteId,n=e.onBack,i=e.onGrabStaff,o=e.staff_list,d=(0,l.$G)().t,c=(0,a.useState)(1),r=(0,s.Z)(c,2),m=r[0],f=r[1],_=(0,a.useState)(!0),h=(0,s.Z)(_,2),g=h[0],Z=h[1],b=(0,k.YD)(),S=(0,s.Z)(b,2),N=S[0],I=S[1],E=(0,a.useState)(""),w=(0,s.Z)(E,2),A=w[0],T=w[1],D=a.useState([]),M=(0,s.Z)(D,2),O=M[0],L=M[1],F=(0,a.useState)(!0),G=(0,s.Z)(F,2),B=G[0],$=G[1],q=(0,a.useState)(null!==o&&void 0!==o&&o.length?(0,u.Z)(o):[]),V=(0,s.Z)(q,2),U=V[0],Y=V[1],H=(0,a.useState)(!1),J=(0,s.Z)(H,2),W=J[0],X=J[1],K=(0,R.vI)({skip:!t,search:{search:A,page:m,id:t,limit:100}}),z=K.assignSearchStaff,Q=K.assignSearchStaffRefetch;a.useEffect((function(){null!==o&&void 0!==o&&o.length&&Y(null!==o&&void 0!==o&&o.length?(0,u.Z)(o):[])}),[o]),a.useEffect((function(){t&&Q()}),[t,A,Q,m]),(0,a.useEffect)((function(){I&&g&&f((function(e){return e+1}))}),[I,g]),a.useEffect((function(){var e;null!==z&&void 0!==z&&z.staff&&(A?(L(null===z||void 0===z?void 0:z.staff),$(!1)):null!==z&&void 0!==z&&z.staff?(L((function(e){var t,n;return null===(t=(0,u.Z)(new Set(null===(n=[].concat((0,u.Z)(e),(0,u.Z)(null===z||void 0===z?void 0:z.staff)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),$(!1)):0===(null===z||void 0===z||null===(e=z.staff)||void 0===e?void 0:e.length)&&$(!1));10===(null===z||void 0===z?void 0:z.staff.length)?Z(!0):Z(!1)}),[null===z||void 0===z?void 0:z.staff]);var ee=(0,a.useCallback)((0,y.debounce)((function(e){return T(e)}),500),[]),te=function(e){null!==U&&void 0!==U&&U.includes(e)?Y((function(t){return null===t||void 0===t?void 0:t.filter((function(t){return t!==e}))})):Y((function(t){return[].concat((0,u.Z)(t),[e])}))};return(0,p.jsxs)("div",{className:j.Z.seating_modal,children:[(0,p.jsxs)("section",{className:j.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:n,alt:""}),(0,p.jsx)("h6",{children:d("select_availbale_staff_for_supervision")}),(0,p.jsx)("button",{className:j.Z.next_btn,title:"Next",onClick:function(){i(U)},children:d("next")})]}),(0,p.jsx)(v.Z,{customStyle:{width:"100%"}}),(0,p.jsxs)("div",{className:j.Z.select_mutliple,children:[(0,p.jsxs)("p",{children:[null!==U&&void 0!==U&&U.length?null===U||void 0===U?void 0:U.length:""," "," ",d("selected")]}),W?(0,p.jsx)("button",{onClick:function(){Y([]),X(!1)},children:d("remove_all")}):(0,p.jsx)("button",{onClick:function(){var e,t=[],n=(0,P.Z)(O);try{for(n.s();!(e=n.n()).done;){var i=e.value;t.push(null===i||void 0===i?void 0:i._id)}}catch(s){n.e(s)}finally{n.f()}Y(t),X(!0)},children:d("select_all")})]}),(0,p.jsx)("div",{className:j.Z.search_container,style:{marginBottom:"0.5rem"},children:(0,p.jsxs)("div",{className:j.Z.search_container_input,style:{width:"100%"},children:[(0,p.jsx)("img",{className:j.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,p.jsx)("input",{type:"text",placeholder:d("search-label"),style:{width:"100%"},onChange:function(e){ee(e.target.value)}})]})}),null===O||void 0===O?void 0:O.map((function(e,t){var n,i,s,a,l,o;return(null===O||void 0===O?void 0:O.length)===t+1?(0,p.jsxs)("div",{className:j.Z.person_container,ref:N,onClick:function(){return te(null===e||void 0===e?void 0:e._id)},children:[(0,p.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(x.yI,"/").concat(e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,p.jsxs)("div",{className:j.Z.with_check_container,children:[(0,p.jsxs)("div",{className:j.Z.person_container_text,children:[(0,p.jsx)("h6",{children:"".concat(null!==(n=e.staffFirstName)&&void 0!==n?n:""," ").concat(null!==(i=null===e||void 0===e?void 0:e.staffMiddleName)&&void 0!==i?i:""," ").concat(null!==(s=e.staffLastName)&&void 0!==s?s:"")}),(0,p.jsxs)("p",{children:[d("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]}),null!==U&&void 0!==U&&U.includes(null===e||void 0===e?void 0:e._id)?(0,p.jsx)("img",{src:"/images/department/blue-check-icon.svg",alt:"checkbox icon",title:"Select staff"}):(0,p.jsx)("img",{src:"/images/department/uncheck-icon.svg",alt:"checkbox icon",title:"Unselect staff"})]})]},e._id):(0,p.jsxs)("div",{className:j.Z.person_container,onClick:function(){return te(null===e||void 0===e?void 0:e._id)},children:[(0,p.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(x.yI,"/").concat(e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,p.jsxs)("div",{className:j.Z.with_check_container,children:[(0,p.jsxs)("div",{className:j.Z.person_container_text,children:[(0,p.jsx)("h6",{children:"".concat(null!==(a=e.staffFirstName)&&void 0!==a?a:""," ").concat(null!==(l=null===e||void 0===e?void 0:e.staffMiddleName)&&void 0!==l?l:""," ").concat(null!==(o=e.staffLastName)&&void 0!==o?o:"")}),(0,p.jsxs)("p",{children:[d("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]}),null!==U&&void 0!==U&&U.includes(null===e||void 0===e?void 0:e._id)?(0,p.jsx)("img",{src:"/images/department/blue-check-icon.svg",alt:"checkbox icon",title:"Select staff"}):(0,p.jsx)("img",{src:"/images/department/uncheck-icon.svg",alt:"checkbox icon",title:"Unselect staff"})]})]},e._id)})),B&&(0,p.jsx)(C.Z,{})]})},G=function(e){var t=e.examId,n=e.onBack,i=e.onGrabClass,o=e.class_list,c=e.clsList,r=e.setStudentCount,m=(0,l.$G)().t,f=(0,k.YD)(),_=(0,s.Z)(f,2),h=_[0],x=_[1],g=(0,a.useState)(1),Z=(0,s.Z)(g,2),b=Z[0],S=Z[1],N=(0,a.useState)(!0),I=(0,s.Z)(N,2),E=I[0],w=I[1],A=(0,a.useState)(!0),T=(0,s.Z)(A,2),D=T[0],M=T[1],O=(0,a.useState)([]),L=(0,s.Z)(O,2),R=L[0],F=L[1],G=(0,a.useState)(""),B=(0,s.Z)(G,2),$=B[0],q=B[1],V=(0,a.useState)(null!==o&&void 0!==o&&o.length?(0,u.Z)(o):[]),U=(0,s.Z)(V,2),Y=U[0],H=U[1],J=(0,a.useState)(null!==c&&void 0!==c?c:[]),W=(0,s.Z)(J,2),X=W[0],K=W[1],z=(0,a.useState)(!1),Q=(0,s.Z)(z,2),ee=Q[0],te=Q[1],ne=(0,d.hw)({data:{eid:t,page:b,limit:10,search:$},skip:!t}),ie=ne.getClassListExam,se=ne.getClassListExamRefetch;a.useEffect((function(){null!==o&&void 0!==o&&o.length&&H(null!==o&&void 0!==o&&o.length?(0,u.Z)(o):[]),c&&K(c)}),[o,c]),(0,a.useEffect)((function(){t&&(M(!0),se())}),[t,b,$,se]),(0,a.useEffect)((function(){x&&E&&S((function(e){return e+1}))}),[x,E]),(0,a.useEffect)((function(){var e,t;$?(F(null===ie||void 0===ie?void 0:ie.all_classes),M(!1)):null!==ie&&void 0!==ie&&ie.all_classes?(F((function(e){var t,n;return null===(t=(0,u.Z)(new Set(null===(n=[].concat((0,u.Z)(e),(0,u.Z)(null===ie||void 0===ie?void 0:ie.all_classes)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),M(!1)):0===(null===ie||void 0===ie||null===(t=ie.all_classes)||void 0===t?void 0:t.length)&&M(!1);10===(null===ie||void 0===ie||null===(e=ie.all_classes)||void 0===e?void 0:e.length)?w(!0):w(!1)}),[null===ie||void 0===ie?void 0:ie.all_classes]);var ae=(0,a.useCallback)((0,y.debounce)((function(e){return q(e)}),500),[]),le=function(e){null!==Y&&void 0!==Y&&Y.includes(null===e||void 0===e?void 0:e._id)?(H((function(t){return null===t||void 0===t?void 0:t.filter((function(t){return t!==(null===e||void 0===e?void 0:e._id)}))})),K((function(t){return null===t||void 0===t?void 0:t.filter((function(t){return(null===t||void 0===t?void 0:t._id)!==(null===e||void 0===e?void 0:e._id)}))})),r((function(t){return t-(null===e||void 0===e?void 0:e.studentCount)}))):(H((function(t){return[].concat((0,u.Z)(t),[null===e||void 0===e?void 0:e._id])})),K((function(t){return[].concat((0,u.Z)(t),[e])})),r((function(t){return t+(null===e||void 0===e?void 0:e.studentCount)})))};return(0,p.jsxs)("div",{className:j.Z.seating_modal,children:[(0,p.jsxs)("section",{className:j.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:n,alt:""}),(0,p.jsx)("h6",{children:m("select_availbale_classroom")}),(0,p.jsx)("button",{className:j.Z.next_btn,title:"Next",onClick:function(){i(Y,X)},children:m("next")})]}),(0,p.jsx)(v.Z,{customStyle:{width:"100%"}}),(0,p.jsxs)("div",{className:j.Z.select_mutliple,children:[(0,p.jsxs)("p",{children:[null!==Y&&void 0!==Y&&Y.length?null===Y||void 0===Y?void 0:Y.length:""," "," ",m("selected")]}),ee?(0,p.jsx)("button",{onClick:function(){H([]),K([]),te(!1),r(0)},children:m("remove_all")}):(0,p.jsx)("button",{onClick:function(){var e,t=[],n=[],i=0,s=(0,P.Z)(R);try{for(s.s();!(e=s.n()).done;){var a=e.value;t.push(null===a||void 0===a?void 0:a._id),n.push(a),i+=a.studentCount}}catch(l){s.e(l)}finally{s.f()}H(t),K(n),r(i),te(!0)},children:m("select_all")})]}),(0,p.jsx)("div",{className:j.Z.search_container,style:{marginBottom:"0.5rem"},children:(0,p.jsxs)("div",{className:j.Z.search_container_input,style:{width:"100%"},children:[(0,p.jsx)("img",{className:j.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,p.jsx)("input",{type:"text",placeholder:m("search-label"),style:{width:"100%"},onChange:function(e){ae(e.target.value)}})]})}),null===R||void 0===R?void 0:R.map((function(e,t){var n,i,s,a;return(null===R||void 0===R?void 0:R.length)===t+1?(0,p.jsxs)("div",{className:j.Z.classes_main_container,ref:h,onClick:function(){return le(e)},children:[(0,p.jsx)("img",{src:"/images/master-24-grey-icon.svg",alt:"classes icon"}),(0,p.jsxs)("div",{className:j.Z.with_check_container,children:[(0,p.jsx)("div",{className:j.Z.person_container_text,children:(0,p.jsx)("h6",{children:"".concat(null!==(n=null===e||void 0===e?void 0:e.className)&&void 0!==n?n:""," ").concat(null!==(i=null===e||void 0===e?void 0:e.classTitle)&&void 0!==i?i:"")})}),(0,p.jsx)("div",{className:j.Z.classes_count_container,children:null!==Y&&void 0!==Y&&Y.includes(null===e||void 0===e?void 0:e._id)?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h6",{children:(null===Y||void 0===Y?void 0:Y.indexOf(null===e||void 0===e?void 0:e._id))+1}),(0,p.jsx)("img",{src:"/images/department/blue-check-icon.svg",alt:"checkbox icon",title:"Select staff"})]}):(0,p.jsx)("img",{src:"/images/department/uncheck-icon.svg",alt:"checkbox icon",title:"Unselect staff"})})]})]},e._id):(0,p.jsxs)("div",{className:j.Z.classes_main_container,onClick:function(){return le(e)},children:[(0,p.jsx)("img",{src:"/images/master-24-grey-icon.svg",alt:"classes icon"}),(0,p.jsxs)("div",{className:j.Z.with_check_container,children:[(0,p.jsx)("div",{className:j.Z.person_container_text,children:(0,p.jsx)("h6",{children:"".concat(null!==(s=null===e||void 0===e?void 0:e.className)&&void 0!==s?s:""," ").concat(null!==(a=null===e||void 0===e?void 0:e.classTitle)&&void 0!==a?a:"")})}),(0,p.jsx)("div",{className:j.Z.classes_count_container,children:null!==Y&&void 0!==Y&&Y.includes(null===e||void 0===e?void 0:e._id)?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h6",{children:(null===Y||void 0===Y?void 0:Y.indexOf(null===e||void 0===e?void 0:e._id))+1}),(0,p.jsx)("img",{src:"/images/department/blue-check-icon.svg",alt:"checkbox icon",title:"Select staff"})]}):(0,p.jsx)("img",{src:"/images/department/uncheck-icon.svg",alt:"checkbox icon",title:"Unselect staff"})})]})]},e._id)})),D&&(0,p.jsx)(C.Z,{})]})},B=function(e){var t=e.onBack,n=e.onGrabRearrangeClass,i=e.clsList,o=e.class_list,d=(0,l.$G)().t,c=(0,a.useState)(null!==o&&void 0!==o&&o.length?(0,u.Z)(o):[]),r=(0,s.Z)(c,2),m=r[0],f=r[1],_=(0,a.useState)(null!==i&&void 0!==i?i:[]),h=(0,s.Z)(_,2),x=h[0],g=h[1],Z=(0,a.useRef)(),b=(0,a.useRef)();a.useEffect((function(){null!==o&&void 0!==o&&o.length&&f(null!==o&&void 0!==o&&o.length?(0,u.Z)(o):[]),i&&g(i)}),[o,i]);var S=function(e){var t=(0,u.Z)(m),n=t[Z.current];t.splice(Z.current,1),t.splice(b.current,0,n);var i=(0,u.Z)(x),s=i[Z.current];i.splice(Z.current,1),i.splice(b.current,0,s),Z.current=null,b.current=null,g(i),f(t)};return(0,p.jsxs)("div",{className:j.Z.seating_modal,children:[(0,p.jsxs)("section",{className:j.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:t,alt:""}),(0,p.jsx)("h6",{children:d("rearranges_exam_halls")}),(0,p.jsx)("button",{className:j.Z.next_btn,title:"Next",onClick:function(){n(m,x)},children:d("next")})]}),(0,p.jsx)(v.Z,{customStyle:{width:"100%"}}),null===x||void 0===x?void 0:x.map((function(e,t){var n,i;return(0,p.jsxs)("div",{className:j.Z.classes_main_container,draggable:!0,onDragStart:function(e){return n=t,void(Z.current=n);var n},onDragEnter:function(e){return n=t,void(b.current=n);var n},onDragEnd:S,children:[(0,p.jsx)("img",{src:"/images/master-24-grey-icon.svg",alt:"classes icon"}),(0,p.jsxs)("div",{className:j.Z.with_check_container,children:[(0,p.jsx)("div",{className:j.Z.person_container_text,children:(0,p.jsx)("h6",{children:"".concat(null!==(n=null===e||void 0===e?void 0:e.className)&&void 0!==n?n:""," ").concat(null!==(i=null===e||void 0===e?void 0:e.classTitle)&&void 0!==i?i:"")})}),(0,p.jsxs)("div",{className:j.Z.classes_count_container,children:[(0,p.jsx)("h6",{children:(null===m||void 0===m?void 0:m.indexOf(null===e||void 0===e?void 0:e._id))+1}),(0,p.jsx)("img",{src:"/images/department/equal-rearrange-icon.svg",alt:"checkbox icon",title:"Select staff"})]})]})]},e._id)}))]})},$=function(e){var t=e.customExamStyle,n=e.examName,i=e.total_staff,s=e.total_classroom,a=e.student_count,o=(0,l.$G)().t;return(0,p.jsxs)("div",{className:j.Z.seating_examination_container,style:t,children:[(0,p.jsx)("h6",{children:null!==n&&void 0!==n?n:""}),(0,p.jsxs)("p",{children:[o("total_staffs")," "," : "," ",null!==i&&void 0!==i?i:0]}),(0,p.jsxs)("p",{children:[o("total_classrooms")," ",null!==s&&void 0!==s?s:0]}),(0,p.jsxs)("p",{children:[o("total_students")," "," : "," ",null!==a&&void 0!==a?a:0]})]})},q=function(e){var t,n,o,d,c=e.onBack,r=e.automateState,u=e.onAddAutoMateSeating,m=e.studentCount,f=e.examName,x=(0,l.$G)().t,g=(0,a.useState)(""),Z=(0,s.Z)(g,2),b=Z[0],S=Z[1],N=(0,a.useState)({hall_limit:"",sequence:""}),k=(0,s.Z)(N,2),y=k[0],I=k[1];return(0,p.jsxs)("div",{className:j.Z.seating_modal,children:[(0,p.jsxs)("section",{className:j.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:c,alt:""}),(0,p.jsx)("h6",{children:x("select_exams")})]}),(0,p.jsx)(v.Z,{customStyle:{width:"100%"}}),(0,p.jsx)($,{examName:f,total_staff:null!==(t=null===r||void 0===r||null===(n=r.staff_list)||void 0===n?void 0:n.length)&&void 0!==t?t:0,total_classroom:null!==(o=null===r||void 0===r||null===(d=r.class_list)||void 0===d?void 0:d.length)&&void 0!==o?o:0,student_count:m}),(0,p.jsx)(h.Z,{labelText:x("enter_exam_hall_student"),placeholder:x("enter_exam_hall_student_placeholder"),name:"hall_limit",type:"number",errorShow:b.hall_limit,onChange:function(e){I((function(t){return(0,i.Z)((0,i.Z)({},t),{},{hall_limit:+e.target.value})}))},value:y.hall_limit}),(0,p.jsx)(_.Z,{selectLabel:x("type_of_seating"),selectedValue:x("type_of_seating_placeholder"),options:["One Student / Bench","Two Student / Bench"],value:y.sequence,onClick:function(e){I((function(t){return(0,i.Z)((0,i.Z)({},t),{},{sequence:e})}))},errorShow:b.sequence}),(0,p.jsx)("button",{className:j.Z.start_arrangement_btn,title:"Start Arrangement",onClick:function(){var e=function(e){var t={};for(var n in e)e[n]||(t[n]="".concat(n," is required!"));return t}(y),t=!1;for(var n in e)if(n){t=!0;break}t?S(e):u(y)},children:x("start_arrangement")})]})},V=function(e){var t=e.onClose,n=e.instituteId,l=e.examId,o=e.examName,c=(0,a.useState)(1),r=(0,s.Z)(c,2),u=r[0],v=r[1],m=(0,a.useState)(!1),f=(0,s.Z)(m,2),_=f[0],h=f[1],x=(0,a.useState)({staff_list:[],class_list:[]}),j=(0,s.Z)(x,2),Z=j[0],b=j[1],S=(0,a.useState)([]),N=(0,s.Z)(S,2),k=N[0],y=N[1],I=(0,a.useState)(0),C=(0,s.Z)(I,2),E=C[0],A=C[1],T=(0,d.Oq)(),D=(0,s.Z)(T,1)[0];return(0,p.jsxs)(g.Z,{onClose:t,children:[1===u&&(0,p.jsx)(F,{instituteId:n,onGrabStaff:function(e){b((function(t){return(0,i.Z)((0,i.Z)({},t),{},{staff_list:e})})),v(2)},staff_list:Z.staff_list,onBack:t}),2===u&&(0,p.jsx)(G,{examId:l,onGrabClass:function(e,t){b((function(t){return(0,i.Z)((0,i.Z)({},t),{},{class_list:e})})),y(t),v(3)},class_list:Z.class_list,onBack:function(){return v(1)},clsList:k,setStudentCount:A}),3===u&&(0,p.jsx)(B,{onGrabRearrangeClass:function(e,t){b((function(t){return(0,i.Z)((0,i.Z)({},t),{},{class_list:e})})),y(t),v(4)},class_list:Z.class_list,onBack:function(){return v(2)},clsList:k}),4===u&&(0,p.jsx)(q,{automateState:Z,onBack:function(){return v(3)},onAddAutoMateSeating:function(e){h((function(e){return!e})),D({eid:l,createAutomate:(0,i.Z)((0,i.Z)({},Z),e)}).then((function(){h((function(e){return!e})),t()})).catch({})},examName:o,studentCount:E}),_&&(0,p.jsx)(w.Z,{})]})},U=function(e){var t,n,i,c,r,m,f,_,h,x,g,Z=e.instituteId,b=e.viewAs,S=(0,l.$G)().t,N=(0,o.TH)(),y=(0,a.useState)(!1),I=(0,s.Z)(y,2),E=I[0],w=I[1],T=(0,a.useState)(!1),D=(0,s.Z)(T,2),M=D[0],O=D[1],P=(0,k.YD)(),R=(0,s.Z)(P,2),F=R[0],G=R[1],B=(0,a.useState)(1),$=(0,s.Z)(B,2),q=$[0],U=$[1],Y=(0,a.useState)(!0),H=(0,s.Z)(Y,2),J=H[0],W=H[1],X=(0,a.useState)(!0),K=(0,s.Z)(X,2),z=K[0],Q=K[1],ee=(0,a.useState)([]),te=(0,s.Z)(ee,2),ne=te[0],ie=te[1],se=(0,a.useState)(!1),ae=(0,s.Z)(se,2),le=ae[0],oe=ae[1],de=(0,d.XB)({data:{eid:null===(t=N.state)||void 0===t?void 0:t.examId,page:q,limit:10,search:""},skip:!(null!==(n=N.state)&&void 0!==n&&n.examId)}),ce=de.getSeatingListExam,re=de.getSeatingListExamRefetch;(0,a.useEffect)((function(){var e;null!==(e=N.state)&&void 0!==e&&e.examId&&(Q(!0),re())}),[null===(i=N.state)||void 0===i?void 0:i.examId,q,re]),(0,a.useEffect)((function(){G&&J&&U((function(e){return e+1}))}),[G,J]),(0,a.useEffect)((function(){var e;null===(e=document.getElementById("scrollViewSeating"))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),[]),(0,a.useEffect)((function(){var e,t;le?(ie(null===ce||void 0===ce?void 0:ce.all_seating),Q(!1),oe(!1)):null!==ce&&void 0!==ce&&ce.all_seating?(ie((function(e){var t,n;return null===(t=(0,u.Z)(new Set(null===(n=[].concat((0,u.Z)(e),(0,u.Z)(null===ce||void 0===ce?void 0:ce.all_seating)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),Q(!1)):0===(null===ce||void 0===ce||null===(t=ce.all_seating)||void 0===t?void 0:t.length)&&Q(!1);10===(null===ce||void 0===ce||null===(e=ce.all_seating)||void 0===e?void 0:e.length)?W(!0):W(!1)}),[null===ce||void 0===ce?void 0:ce.all_seating]);var ue=function(){U(1),oe(!0),Q(!0),re()},ve=function(){w((function(e){return!e}))},me=function(){O((function(e){return!e}))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:j.Z.with_search,id:"scrollViewSeating",children:[(0,p.jsx)("h6",{children:S("seating_arrangements")}),(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem"},children:[(0,p.jsx)("img",{src:"/images/department/seat-automate-icon.svg",alt:"back arrow",className:j.Z.add_plus_icon,onClick:me,title:"Automate seating arrangements"}),(0,p.jsx)("img",{src:"/images/add-plus-blue-icon.svg",alt:"back arrow",className:j.Z.add_plus_icon,onClick:ve,title:"Add seating arrangements"})]})]}),(0,p.jsx)(v.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),null===ne||void 0===ne?void 0:ne.map((function(e,t){var n,i,s,a,l,o,d,c;return(null===ne||void 0===ne?void 0:ne.length)===t+1?(0,p.jsx)("div",{ref:F,children:(0,p.jsx)(L,{seating:e,examName:null!==(n=null===(i=N.state)||void 0===i?void 0:i.examName)&&void 0!==n?n:"",examId:null!==(s=null===(a=N.state)||void 0===a?void 0:a.examId)&&void 0!==s?s:"",onRefetch:ue})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(L,{seating:e,examName:null!==(l=null===(o=N.state)||void 0===o?void 0:o.examName)&&void 0!==l?l:"",examId:null!==(d=null===(c=N.state)||void 0===c?void 0:c.examId)&&void 0!==d?d:"",onRefetch:ue},null===e||void 0===e?void 0:e._id)})),z&&(0,p.jsx)(C.Z,{}),E&&(0,p.jsx)(A,{onClose:ve,instituteId:Z,examId:null!==(c=null===(r=N.state)||void 0===r?void 0:r.examId)&&void 0!==c?c:"",examName:null!==(m=null===(f=N.state)||void 0===f?void 0:f.examName)&&void 0!==m?m:"",onRefetch:ue,viewAs:b}),M&&(0,p.jsx)(V,{onClose:me,instituteId:Z,examId:null!==(_=null===(h=N.state)||void 0===h?void 0:h.examId)&&void 0!==_?_:"",examName:null!==(x=null===(g=N.state)||void 0===g?void 0:g.examName)&&void 0!==x?x:""})]})},Y=n(16796),H=function(e){var t=e.examSubject,n=(0,l.$G)().t,i=(0,a.useState)(!0),o=(0,s.Z)(i,2),d=o[0],c=o[1];return(0,a.useEffect)((function(){null!==t&&void 0!==t&&t.length&&c(!1)}),[t]),(0,a.useEffect)((function(){var e;null===(e=document.getElementById("scrollViewSubject"))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),[]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:j.Z.with_search,id:"scrollViewSubject",children:(0,p.jsx)("h6",{children:n("exam_schedule")})}),(0,p.jsx)(v.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),null===t||void 0===t?void 0:t.map((function(e){var t;return null===e||void 0===e||null===(t=e.subject)||void 0===t?void 0:t.map((function(t){return(0,p.jsx)(S.Z,{classMaster:null===e||void 0===e?void 0:e.className,subject:t,customCardStyle:{width:"49.5%"}},null===t||void 0===t?void 0:t._id)}))})),d&&(0,p.jsx)(C.Z,{})]})},J=function(e){var t,n,u,v,m,f,_,h,x,g,Z,b,S,N,k,y,I,C,E,A,T,D,M,O,L,P,R,F,G,B,$=e.instituteId,q=e.viewAs,V=(0,l.$G)().t,J=(0,o.TH)(),W=(0,a.useState)(!0),X=(0,s.Z)(W,2),K=X[0],z=X[1],Q=(0,a.useState)(!1),ee=(0,s.Z)(Q,2),te=ee[0],ne=ee[1],ie=(0,d.il)({eid:null===(t=J.state)||void 0===t?void 0:t.examId,skip:!(null!==(n=J.state)&&void 0!==n&&n.examId)}),se=ie.departmentExamDetail,ae=ie.departmentExamDetailRefetch,le=(0,d.fb)({eid:null===(u=J.state)||void 0===u?void 0:u.examId,skip:K}),oe=le.sendExamNotifyToSubject,de=le.sendExamNotifyToSubjectRefetch;(0,a.useEffect)((function(){var e;null!==(e=J.state)&&void 0!==e&&e.examId&&ae()}),[null===(v=J.state)||void 0===v?void 0:v.examId,ae]),(0,a.useEffect)((function(){null!==oe&&void 0!==oe&&oe.message&&"All designation of marks update is processing...\ud83d\ude0e"===oe.message&&ne(!1)}),[null===oe||void 0===oe?void 0:oe.message]);return console.info("departmentExamDetail",se),(0,p.jsxs)("div",{className:j.Z.view_container,children:[("exam&n=detail"===(null===J||void 0===J||null===(m=J.search)||void 0===m?void 0:m.substring(3))||"department&n=exam&n=detail"===(null===J||void 0===J||null===(f=J.search)||void 0===f?void 0:f.substring(3))||"backlog&exam&detail"===(null===J||void 0===J||null===(_=J.search)||void 0===_?void 0:_.substring(3))||"department&n=backlog&exam&detail"===(null===J||void 0===J||null===(h=J.search)||void 0===h?void 0:h.substring(3)))&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h6",{className:j.Z.exam_detail_h6,children:V("exam_detail")}),"DEPARTMENT_BACKLOG"===q&&"Not Send"===(null===se||void 0===se||null===(x=se.exam)||void 0===x?void 0:x.is_backlog_notify)&&!(null!==oe&&void 0!==oe&&oe.message)&&(0,p.jsx)("div",{style:{position:"relative"},children:(0,p.jsx)("button",{className:j.Z.next_btn,onClick:function(){ne((function(e){return!e})),z(!1),de()},style:{top:"-2rem",backgroundColor:"inherit"},title:"Send exam update notification",children:V("send_notification")})}),(0,p.jsxs)("section",{className:j.Z.exam_info_container,children:[(0,p.jsx)(c.Z,{labelText:"".concat(V("exam_name"),":"),value:null!==(g=null===se||void 0===se||null===(Z=se.exam)||void 0===Z?void 0:Z.examName)&&void 0!==g?g:"",customStyleValue:{fontWeight:"500"}}),(0,p.jsx)(c.Z,{labelText:"".concat(V("exam_type"),":"),value:null!==(b=null===se||void 0===se||null===(S=se.exam)||void 0===S?void 0:S.examType)&&void 0!==b?b:"",customStyleValue:{fontWeight:"500"}}),(0,p.jsx)(c.Z,{labelText:"".concat(V("exam_mode"),":"),value:null!==(N=null===se||void 0===se||null===(k=se.exam)||void 0===k?void 0:k.examMode)&&void 0!==N?N:"",customStyleValue:{fontWeight:"500"}}),"Other"===(null===se||void 0===se||null===(y=se.exam)||void 0===y?void 0:y.examType)&&(0,p.jsx)(c.Z,{labelText:"".concat(V("exam_weight"),":"),value:"".concat(null!==(I=null===se||void 0===se||null===(C=se.exam)||void 0===C?void 0:C.examWeight)&&void 0!==I?I:"","%"),customStyleValue:{fontWeight:"500"}})]}),(0,p.jsxs)("div",{className:j.Z.exam_schedule,children:[(0,p.jsx)("h6",{children:V("exam_schedule")}),"EXAMINATION_SECTION"===q?(0,p.jsx)(Y.Z,{carryParentState:(0,i.Z)((0,i.Z)({},J.state),{},{examName:null===se||void 0===se||null===(E=se.exam)||void 0===E?void 0:E.examName}),activeTab:"department&n=backlog&exam&detail&subject",children:(0,p.jsxs)("button",{className:j.Z.exam_schedule_btn,title:"See Exam Schedule",children:[(0,p.jsx)("div",{children:V("exam_schedule")}),(0,p.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]})}):(0,p.jsx)(r.Z,{carryParentState:(0,i.Z)((0,i.Z)({},J.state),{},{examName:null===se||void 0===se||null===(A=se.exam)||void 0===A?void 0:A.examName}),activeTab:"DEPARTMENT_BACKLOG"===q?"backlog&exam&detail&subject":"exam&n=detail&subject",children:(0,p.jsxs)("button",{className:j.Z.exam_schedule_btn,title:"See Exam Schedule",children:[(0,p.jsx)("div",{children:V("exam_schedule")}),(0,p.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]})})]}),(0,p.jsxs)("div",{className:j.Z.exam_schedule,children:[(0,p.jsx)("h6",{children:V("seating_arrangements")}),"EXAMINATION_SECTION"===q?(0,p.jsx)(Y.Z,{carryParentState:(0,i.Z)((0,i.Z)({},J.state),{},{examName:null===se||void 0===se||null===(T=se.exam)||void 0===T?void 0:T.examName}),activeTab:"department&n=exam&n=detail&seating",children:(0,p.jsxs)("button",{className:j.Z.exam_schedule_btn,title:"See Seating Arrangements",children:[(0,p.jsx)("div",{children:V("seating_arrangements")}),(0,p.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]})}):(0,p.jsx)(r.Z,{carryParentState:(0,i.Z)((0,i.Z)({},J.state),{},{examName:null===se||void 0===se||null===(D=se.exam)||void 0===D?void 0:D.examName}),activeTab:"DEPARTMENT_BACKLOG"===q?"backlog&exam&detail&seating":"exam&n=detail&seating",children:(0,p.jsxs)("button",{className:j.Z.exam_schedule_btn,title:"See Seating Arrangements",children:[(0,p.jsx)("div",{children:V("seating_arrangements")}),(0,p.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]})})]})]}),("exam&n=detail&seating"===(null===J||void 0===J||null===(M=J.search)||void 0===M?void 0:M.substring(3))||"department&n=exam&n=detail&seating"===(null===J||void 0===J||null===(O=J.search)||void 0===O?void 0:O.substring(3))||"backlog&exam&detail&seating"===(null===J||void 0===J||null===(L=J.search)||void 0===L?void 0:L.substring(3))||"department&n=backlog&exam&detail&seating"===(null===J||void 0===J||null===(P=J.search)||void 0===P?void 0:P.substring(3)))&&(0,p.jsx)(U,{instituteId:$,viewAs:"BACKLOG"}),("exam&n=detail&subject"===(null===J||void 0===J||null===(R=J.search)||void 0===R?void 0:R.substring(3))||"department&n=exam&n=detail&subject"===(null===J||void 0===J||null===(F=J.search)||void 0===F?void 0:F.substring(3))||"backlog&exam&detail&subject"===(null===J||void 0===J||null===(G=J.search)||void 0===G?void 0:G.substring(3))||"department&n=backlog&exam&detail&subject"===(null===J||void 0===J||null===(B=J.search)||void 0===B?void 0:B.substring(3)))&&(0,p.jsx)("section",{className:j.Z.schedule_subject_container,children:(0,p.jsx)(H,{examSubject:null===se||void 0===se?void 0:se.oneExamDetail})}),te&&(0,p.jsx)(w.Z,{})]})}},8274:function(e,t,n){var i=n(1413),s=(n(72791),n(72014)),a=n(72426),l=n.n(a),o=n(39230),d=n(8148),c=n(16796),r=n(80184);t.Z=function(e){var t=e.exam,n=e.carryParentState,a=e.viewAs,u=(e.seeUrl,(0,o.$G)().t);return(0,r.jsx)(r.Fragment,{children:"EXAMINATION_SECTION"===a?(0,r.jsx)(c.Z,{carryParentState:(0,i.Z)((0,i.Z)({},n),{},{examId:null===t||void 0===t?void 0:t._id}),activeTab:"department&n=exam&n=detail",children:(0,r.jsxs)("div",{className:s.Z.exam_card_container,title:"View exam detail",children:[(0,r.jsxs)("div",{className:s.Z.imagedot,children:[(0,r.jsx)("img",{src:"/images/members/exam-icon.svg",alt:""}),(0,r.jsx)("div",{className:(null===t||void 0===t?void 0:t.examMode)===u("Offline")?"".concat(s.Z.dot," ").concat(s.Z.blue):"".concat(s.Z.dot," ").concat(s.Z.red)})]}),(0,r.jsxs)("div",{className:s.Z.exam_inner_text,children:[(0,r.jsx)("h6",{children:null===t||void 0===t?void 0:t.examName}),"Final"===(null===t||void 0===t?void 0:t.examType)?"":(0,r.jsxs)("p",{children:[u("weightage"),": ",null===t||void 0===t?void 0:t.examWeight," %"]})]}),(0,r.jsxs)("div",{className:s.Z.exam_date,children:[(0,r.jsx)("h6",{children:l()(null===t||void 0===t?void 0:t.createdAt).format("DD MMMM YYYY")}),(0,r.jsx)("p",{children:u(null===t||void 0===t?void 0:t.examType)})]})]})}):"DEPARTMENT_BACKLOG"===a?(0,r.jsx)(d.Z,{carryParentState:(0,i.Z)((0,i.Z)({},n),{},{examId:null===t||void 0===t?void 0:t._id}),activeTab:"backlog&exam&detail",children:(0,r.jsxs)("div",{className:s.Z.exam_card_container,title:"View exam detail",children:[(0,r.jsxs)("div",{className:s.Z.imagedot,children:[(0,r.jsx)("img",{src:"/images/members/exam-icon.svg",alt:""}),(0,r.jsx)("div",{className:(null===t||void 0===t?void 0:t.examMode)===u("Offline")?"".concat(s.Z.dot," ").concat(s.Z.blue):"".concat(s.Z.dot," ").concat(s.Z.red)})]}),(0,r.jsxs)("div",{className:s.Z.exam_inner_text,children:[(0,r.jsx)("h6",{children:null===t||void 0===t?void 0:t.examName}),"Final"===(null===t||void 0===t?void 0:t.examType)?"":(0,r.jsxs)("p",{children:[u("weightage"),": ",null===t||void 0===t?void 0:t.examWeight," %"]})]}),(0,r.jsxs)("div",{className:s.Z.exam_date,children:[(0,r.jsx)("h6",{children:l()(null===t||void 0===t?void 0:t.createdAt).format("DD MMMM YYYY")}),(0,r.jsx)("p",{children:u(null===t||void 0===t?void 0:t.examType)})]})]})}):(0,r.jsx)(d.Z,{carryParentState:(0,i.Z)((0,i.Z)({},n),{},{examId:null===t||void 0===t?void 0:t._id}),activeTab:"exam&n=detail",children:(0,r.jsxs)("div",{className:s.Z.exam_card_container,title:"View exam detail",children:[(0,r.jsxs)("div",{className:s.Z.imagedot,children:[(0,r.jsx)("img",{src:"/images/members/exam-icon.svg",alt:""}),(0,r.jsx)("div",{className:(null===t||void 0===t?void 0:t.examMode)===u("Offline")?"".concat(s.Z.dot," ").concat(s.Z.blue):"".concat(s.Z.dot," ").concat(s.Z.red)})]}),(0,r.jsxs)("div",{className:s.Z.exam_inner_text,children:[(0,r.jsx)("h6",{children:null===t||void 0===t?void 0:t.examName}),"Final"===(null===t||void 0===t?void 0:t.examType)?"":(0,r.jsxs)("p",{children:[u("weightage"),": ",null===t||void 0===t?void 0:t.examWeight," %"]})]}),(0,r.jsxs)("div",{className:s.Z.exam_date,children:[(0,r.jsx)("h6",{children:l()(null===t||void 0===t?void 0:t.createdAt).format("DD MMMM YYYY")}),(0,r.jsx)("p",{children:u(null===t||void 0===t?void 0:t.examType)})]})]})})})}},10191:function(e,t,n){var i=n(29439),s=n(72791),a=n(90443),l=n(55691),o=n(74289),d=n(93487),c=n(16871),r=n(39230),u=n(98094),v=n(8274),m=n(11105),f=n(34219),_=n(80184);t.Z=function(e){var t,n,h,x,g,j=e.did,Z=e.bid,p=e.carryParentState,b=e.instituteId,S=e.viewAs,N=(0,r.$G)().t,k=(0,c.TH)(),y=(0,s.useState)(!1),I=(0,i.Z)(y,2),C=I[0],E=I[1],w=(0,s.useState)(!0),A=(0,i.Z)(w,2),T=A[0],D=A[1],M=(0,s.useState)([]),O=(0,i.Z)(M,2),L=O[0],P=O[1],R=(0,s.useState)(!1),F=(0,i.Z)(R,2),G=F[0],B=F[1],$=(0,o.v0)({data:{did:j,page:1,limit:20},skip:!j}),q=$.departmentAllExam,V=$.departmentAllExamRefetch;(0,s.useEffect)((function(){j&&V()}),[j,V]),(0,s.useEffect)((function(){var e,t;null!==q&&void 0!==q&&null!==(e=q.exam)&&void 0!==e&&e.length?(P(null===q||void 0===q?void 0:q.exam),D(!1)):0===(null===q||void 0===q||null===(t=q.exam)||void 0===t?void 0:t.length)&&D(!1)}),[null===q||void 0===q?void 0:q.exam]);var U=function(){E((function(e){return!e}))};return(0,_.jsxs)(_.Fragment,{children:[("exam"===(null===k||void 0===k||null===(t=k.search)||void 0===t?void 0:t.substring(3))||"department&n=exam"===(null===k||void 0===k||null===(n=k.search)||void 0===n?void 0:n.substring(3)))&&(0,_.jsxs)("div",{className:a.Z.exam_container,children:[(0,_.jsxs)("div",{className:a.Z.with_search,children:[(0,_.jsx)("h6",{children:N("previous_exam_list")}),(0,_.jsx)("section",{className:a.Z.search_container,children:(0,_.jsxs)("div",{className:a.Z.search_container_input,children:[(0,_.jsx)("img",{className:a.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,_.jsx)("input",{type:"text",placeholder:"Search exams...",onChange:function(e){if(e.target.value){var t,n=null===q||void 0===q||null===(t=q.exam)||void 0===t?void 0:t.filter((function(t){var n,i,s;return null!==t&&void 0!==t&&null!==(n=t.examName)&&void 0!==n&&null!==(i=n.toLowerCase())&&void 0!==i&&i.includes(null===(s=e.target.value)||void 0===s?void 0:s.toLowerCase())?t:null}));0===(null===n||void 0===n?void 0:n.length)?B(!0):B(!1),P(n)}else B(!1),P(null===q||void 0===q?void 0:q.exam)}})]})})]}),(0,_.jsx)(u.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,_.jsx)("div",{className:a.Z.add_new_container,children:(0,_.jsx)("p",{className:a.Z.add_new_exam,onClick:U,children:N("create_new_exam")})}),null===L||void 0===L?void 0:L.map((function(e){return(0,_.jsx)(v.Z,{exam:e,carryParentState:p,viewAs:S},e._id)})),!T&&!(null!==q&&void 0!==q&&null!==(h=q.exam)&&void 0!==h&&h.length)&&(0,_.jsx)(f.Z,{customStyleContainer:{marginTop:"9rem"},title:"No any exams found",subtitle:"Please make sure you have created exam."}),G&&(0,_.jsx)(f.Z,{customStyleContainer:{marginTop:"9rem"},title:"No any search found"}),T&&(0,_.jsx)(m.Z,{})]}),("exam&n=detail"===(null===k||void 0===k||null===(x=k.search)||void 0===x?void 0:x.substring(3,16))||"department&n=exam&n=detail"===(null===k||void 0===k||null===(g=k.search)||void 0===g?void 0:g.substring(3,29)))&&(0,_.jsx)(d.Z,{carryParentState:p,instituteId:b,viewAs:S}),C&&(0,_.jsx)(l.Z,{onClose:U,did:j,bid:Z,onRefetch:V})]})}},69113:function(e,t,n){n(72791);var i=n(39230),s=n(60163),a=n(72426),l=n.n(a),o=n(80184);t.Z=function(e){var t,n,a,d,c,r,u,v,m,f,_,h,x,g,j,Z,p,b,S,N,k,y,I=e.customExamStyle,C=e.examDetail,E=e.viewAs,w=e.studentCount,A=(0,i.$G)().t,T=null!==(t=null===C||void 0===C||null===(n=C.currentSubject)||void 0===n||null===(a=n.subject)||void 0===a||null===(d=a.date)||void 0===d?void 0:d.split("/"))&&void 0!==t?t:null===C||void 0===C||null===(c=C.date)||void 0===c?void 0:c.split("/");return(0,o.jsxs)("div",{className:s.Z.seating_examination_container,style:I,children:[(0,o.jsx)("h6",{children:null!==(r=null===C||void 0===C?void 0:C.examName)&&void 0!==r?r:""}),(0,o.jsxs)("p",{children:[null!==(u=null!==(v=null===C||void 0===C||null===(m=C.currentSubject)||void 0===m||null===(f=m.subject)||void 0===f?void 0:f.subjectName)&&void 0!==v?v:null===C||void 0===C?void 0:C.subjectName)&&void 0!==u?u:"",","," ","".concat(null!==C&&void 0!==C&&null!==(_=C.currentSubject)&&void 0!==_&&_.classMaster?"".concat(null===C||void 0===C||null===(h=C.currentSubject)||void 0===h?void 0:h.classMaster," ,"):""),null!==(x=null===C||void 0===C?void 0:C.selectClass)&&void 0!==x?x:""]}),(0,o.jsxs)("p",{children:[null===(g=l()("".concat(null===T||void 0===T?void 0:T[2],"-").concat(null===T||void 0===T?void 0:T[1],"-").concat(null===T||void 0===T?void 0:T[0])))||void 0===g?void 0:g.format("DD-MMM-yyyy"),","," ",null!==(j=null!==(Z=null===C||void 0===C||null===(p=C.currentSubject)||void 0===p||null===(b=p.subject)||void 0===b?void 0:b.startTime)&&void 0!==Z?Z:null===C||void 0===C?void 0:C.startTime)&&void 0!==j?j:""," ","to"," ",null!==(S=null!==(N=null===C||void 0===C||null===(k=C.currentSubject)||void 0===k||null===(y=k.subject)||void 0===y?void 0:y.endTime)&&void 0!==N?N:null===C||void 0===C?void 0:C.endTime)&&void 0!==S?S:""]}),"ADD_SEATING"===E?(0,o.jsxs)("p",{children:[A("students"),": ","(".concat(null!==w&&void 0!==w?w:0," ").concat(A("students"),")")]}):(0,o.jsxs)("p",{children:[A("students"),": From ",null===C||void 0===C?void 0:C.from," to ",null===C||void 0===C?void 0:C.to," ","(".concat(+(null===C||void 0===C?void 0:C.to)-+(null===C||void 0===C?void 0:C.from)," ").concat(A("students"),")")]})]})}},9972:function(e,t,n){n.d(t,{Z:function(){return O}});var i=n(29439),s=n(72791),a=n(74289),l=n(90443),o=n(1413),d=n(36665),c=n(4942),r=n(97655),u=n(39230),v=n(60163),m=n(98094),f=n(59965),_=n(12953),h=n(80184),x=function(e){var t=e.feesInfo,n=e.onGrabInfo,a=(0,u.$G)().t,l=(0,s.useState)({feeName:"",feeAmount:"",feeDate:""}),d=(0,i.Z)(l,2),x=d[0],g=d[1],j=(0,s.useState)(""),Z=(0,i.Z)(j,2),p=Z[0],b=Z[1];(0,s.useEffect)((function(){t&&g((function(e){return(0,o.Z)((0,o.Z)({},e),t)}))}),[t]);var S=function(e){"feeAmount"===e.target.name?g((function(t){return(0,o.Z)((0,o.Z)({},t),{},{feeAmount:+e.target.value})})):g((function(t){return(0,o.Z)((0,o.Z)({},t),{},(0,c.Z)({},e.target.name,e.target.value))}))};return(0,h.jsxs)("div",{className:v.Z.seating_modal,style:{minHeight:"23rem"},children:[(0,h.jsxs)("section",{className:v.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,h.jsx)("h6",{children:a("create_fees")}),(0,h.jsx)("button",{className:v.Z.next_btn,title:"Next",onClick:function(){var e=function(e){var t={};for(var n in e)e[n]||(t[n]="".concat(n," is required!"));return t}(x),t=!1;for(var i in e)if(i){t=!0;break}t?b(e):n(x)},children:a("next")})]}),(0,h.jsx)(m.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),(0,h.jsx)(r.Z,{labelText:a("department_fees_name"),placeholder:a("enter_fee_purpose"),name:"feeName",value:x.feeName,type:"text",onChange:S,errorShow:p.feeName}),(0,h.jsx)(r.Z,{labelText:a("amount"),placeholder:a("enter_fees_amount"),name:"feeAmount",value:x.feeAmount,type:"number",onChange:S,errorShow:p.feeAmount}),(0,h.jsx)(f.Z,{labelText:a("due_date"),placeholder:a("enter_fees_date"),name:"feeDate",value:x.feeDate,onDateFunction:function(e){if(!(0,_.A)(e)){var t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);g((function(e){return(0,o.Z)((0,o.Z)({},e),{},{feeDate:n})}))}},customStyleContainer:{position:"relative",width:"100%"},datePickerPosition:{top:"-13rem",left:"2rem"},errorShow:p.feeDate})]})},g=n(93433),j=n(11105),Z=n(34219),p=n(13355),b=n(98734),S=function(e){var t=e.onBack,n=e.bid,l=e.did,d=e.createFees,c=e.onResetAfterCreate,r=(0,u.$G)().t,f=(0,s.useState)(!0),_=(0,i.Z)(f,2),x=_[0],S=_[1],N=(0,s.useState)(!1),k=(0,i.Z)(N,2),y=k[0],I=k[1],C=(0,s.useState)([]),E=(0,i.Z)(C,2),w=E[0],A=E[1],T=(0,s.useState)([]),D=(0,i.Z)(T,2),M=D[0],O=D[1],L=(0,a.YQ)(),P=(0,i.Z)(L,1)[0],R=(0,a.lj)({data:{did:l,bid:n,page:1,limit:50},skip:!n||!l}),F=R.departmentAllClassMaster,G=R.departmentAllClassMasterRefetch;(0,s.useEffect)((function(){n&&l&&G()}),[n,l,G]),(0,s.useEffect)((function(){var e,t;null!==F&&void 0!==F&&null!==(e=F.classMaster)&&void 0!==e&&e.length?(A(null===F||void 0===F?void 0:F.classMaster),S(!1)):0===(null===F||void 0===F||null===(t=F.classMaster)||void 0===t?void 0:t.length)&&S(!1)}),[null===F||void 0===F?void 0:F.classMaster]);var B=function(e){null!==M&&void 0!==M&&M.includes(e)?O((function(t){return null===t||void 0===t?void 0:t.filter((function(t){return t!==e}))})):O((function(t){return[].concat((0,g.Z)(t),[e])}))};return(0,h.jsxs)("div",{className:v.Z.seating_modal,children:[(0,h.jsxs)("section",{className:v.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,h.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:t,alt:"back"}),(0,h.jsx)("h6",{children:r("select_classes")}),(0,h.jsx)("button",{className:v.Z.next_btn,title:"Save fees",onClick:function(){null!==M&&void 0!==M&&M.length&&(I((function(e){return!e})),P({did:l,fees:(0,o.Z)((0,o.Z)({},d),{},{ClassId:M})}).then((function(){c(),I((function(e){return!e}))})).catch((function(){I((function(e){return!e}))})))},children:r("save")})]}),(0,h.jsx)(m.Z,{customStyle:{width:"100%",marginTop:"0.5rem",marginBottom:"0.5rem"}}),null===w||void 0===w?void 0:w.map((function(e){var t;return null===e||void 0===e||null===(t=e.classDivision)||void 0===t?void 0:t.map((function(t){return(0,h.jsx)(p.Z,{cls:t,isMaster:!0,onSelect:B,classMaster:null===e||void 0===e?void 0:e.className,divisionId:M},t._id)}))})),!x&&!(null!==w&&void 0!==w&&w.length)&&(0,h.jsx)(Z.Z,{customStyleContainer:{marginTop:"4rem"},title:"No any class found",subtitle:"Please make sure you have created class."}),x&&(0,h.jsx)(j.Z,{}),y&&(0,h.jsx)(b.Z,{})]})};var N=function(e){var t=e.did,n=e.bid,a=e.onRefetch,l=e.onClose,c=(0,s.useState)("FEES_INFO"),r=(0,i.Z)(c,2),u=r[0],v=r[1],m=(0,s.useState)({feeName:"",feeAmount:"",feeDate:""}),f=(0,i.Z)(m,2),_=f[0],g=f[1];return(0,h.jsxs)(d.Z,{onClose:l,children:["FEES_INFO"===u&&(0,h.jsx)(x,{onClose:l,onGrabInfo:function(e){g((function(t){return(0,o.Z)((0,o.Z)({},t),e)})),v("SELECT_DIVISION")},feesInfo:{feeName:_.feeName,feeAmount:_.feeAmount,feeDate:_.feeDate}}),"SELECT_DIVISION"===u&&(0,h.jsx)(S,{onBack:function(){return v("EXAM_INFO")},did:t,bid:n,createFees:_,onResetAfterCreate:function(){a(),l(),g({feeName:"",feeAmount:"",feeDate:""}),v("FEES_INFO")}})]})},k=n(24582),y=n(12072),I=n(84489),C=n(87049),E=function(e){var t,n,a=e.onClose,l=e.did,d=e.onRefetch,c=e.openFeesMenu,v=(0,u.$G)().t,_=(0,s.useState)(!1),x=(0,i.Z)(_,2),g=x[0],j=x[1],Z=(0,s.useState)(!1),p=(0,i.Z)(Z,2),S=p[0],N=p[1],E=(0,k._6)(),w=(0,i.Z)(E,1)[0],A=(0,k.Em)(),T=(0,i.Z)(A,1)[0],D=(0,s.useState)({feeName:null!==(t=null===c||void 0===c?void 0:c.feeName)&&void 0!==t?t:"",feeDate:null!==(n=null===c||void 0===c?void 0:c.feeDate)&&void 0!==n?n:""}),M=(0,i.Z)(D,2),O=M[0],L=M[1],P=(0,s.useState)(""),R=(0,i.Z)(P,2),F=R[0],G=R[1];return(0,h.jsx)(h.Fragment,{children:S?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(I.Z,{onClose:function(){return N(!1)}}),(0,h.jsx)(y.Z,{customStyle:{zIndex:"1200"},children:(0,h.jsxs)("div",{className:C.Z.edit_modal_container,style:{width:"30rem",minHeight:"10rem",height:"auto"},children:[(0,h.jsx)("h6",{className:C.Z.edit,onClick:function(){return N((function(e){return!e}))},children:v("update_fees")}),(0,h.jsx)(m.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),(0,h.jsx)(r.Z,{labelText:v("fees_name_edit"),placeholder:v("fees_name_placeholder"),name:"feeName",value:O.feeName,type:"text",errorShow:F.feeName,onChange:function(e){L((function(t){return(0,o.Z)((0,o.Z)({},t),{},{feeName:e.target.value})}))},customStyleContainer:{width:"100%"}}),(0,h.jsx)(f.Z,{labelText:v("select_fees_date"),placeholder:v("select_fees_date_placeholder"),name:"feeDate",value:O.feeDate,onDateFunction:function(e){var t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);L((function(e){return(0,o.Z)((0,o.Z)({},e),{},{feeDate:n})}))},errorShow:F.feeDate,customStyleContainer:{position:"relative",width:"100%"},datePickerPosition:{top:"-1rem"}}),(0,h.jsx)("button",{className:C.Z.xlsx_update_btn,title:"Update",onClick:function(){var e=function(e){var t={};for(var n in e)e[n]||(t[n]=" ".concat(n," is required!"));return t}(O),t=!1;for(var n in e)if(n){t=!0;break}t?G(e):(j((function(e){return!e})),N(!1),T({fid:null===c||void 0===c?void 0:c._id,updateFees:O}).then((function(){d(),j((function(e){return!e})),a()})).catch({}))},style:{justifyContent:"center",marginTop:"1rem"},children:v("update")})]})})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(I.Z,{onClose:a}),(0,h.jsxs)(y.Z,{customStyle:{zIndex:"1200"},children:[(0,h.jsxs)("div",{className:C.Z.edit_modal_container,style:{width:"200px"},children:[(0,h.jsx)("h6",{className:C.Z.edit,onClick:function(){return N((function(e){return!e}))},children:"Edit"}),(0,h.jsx)("h6",{className:C.Z.remove,onClick:function(){j((function(e){return!e})),w({did:l,fid:null===c||void 0===c?void 0:c._id}).then((function(){d(),a(),j((function(e){return!e}))})).catch({})},children:"Delete"})]}),g&&(0,h.jsx)(b.Z,{})]})]})})},w="List_exam_card_container__Uviom",A="List_exam_inner_text__ViVMz",T="List_menu_icon__boy56",D="List_fees_image__ypsom",M=function(e){var t,n,a=e.fees,l=e.onRefetch,o=e.did,d=(0,s.useState)(""),c=(0,i.Z)(d,2),r=c[0],u=c[1];return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:w,children:[(0,h.jsx)("img",{src:"/images/members/fees-icon.svg",alt:"fees icon",className:D}),(0,h.jsxs)("div",{className:A,children:[(0,h.jsxs)("h6",{children:["Rs. ",null!==(t=null===a||void 0===a?void 0:a.feeAmount)&&void 0!==t?t:0,"/-"]}),(0,h.jsxs)("p",{children:[null!==(n=null===a||void 0===a?void 0:a.feeName)&&void 0!==n?n:""," "]})]}),(0,h.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(){return u(a)},className:T,title:"Menu"})]}),r&&(0,h.jsx)(E,{did:o,onRefetch:l,openFeesMenu:r,onClose:function(){return u("")}})]})};var O=function(e){var t,n,o,d=e.did,c=e.bid,r=(0,u.$G)().t,v=(0,s.useState)(!1),f=(0,i.Z)(v,2),_=f[0],x=f[1],g=(0,s.useState)(!0),p=(0,i.Z)(g,2),b=p[0],S=p[1],k=(0,s.useState)([]),y=(0,i.Z)(k,2),I=y[0],C=y[1],E=(0,s.useState)(!1),w=(0,i.Z)(E,2),A=w[0],T=w[1],D=(0,a.bP)({data:{did:d,page:1,limit:20},skip:!d}),O=D.departmentAllFees,L=D.departmentAllFeesRefetch;(0,s.useEffect)((function(){d&&L()}),[d,L]),(0,s.useEffect)((function(){var e,t,n,i,s;null!==O&&void 0!==O&&null!==(e=O.depart)&&void 0!==e&&null!==(t=e.fees)&&void 0!==t&&t.length?(C(null===O||void 0===O||null===(s=O.depart)||void 0===s?void 0:s.fees),S(!1)):0===(null===O||void 0===O||null===(n=O.depart)||void 0===n||null===(i=n.fees)||void 0===i?void 0:i.length)&&S(!1)}),[null===O||void 0===O||null===(t=O.depart)||void 0===t?void 0:t.fees]);var P=function(){x((function(e){return!e}))};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:l.Z.exam_container,children:[(0,h.jsxs)("div",{className:l.Z.with_search,children:[(0,h.jsx)("h6",{children:r("previous_fees_list")}),(0,h.jsx)("section",{className:l.Z.search_container,children:(0,h.jsxs)("div",{className:l.Z.search_container_input,children:[(0,h.jsx)("img",{className:l.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,h.jsx)("input",{type:"text",placeholder:"Search fees...",onChange:function(e){if(e.target.value){var t,n,i=null===O||void 0===O||null===(t=O.depart)||void 0===t||null===(n=t.fees)||void 0===n?void 0:n.filter((function(t){var n,i,s;return null!==t&&void 0!==t&&null!==(n=t.feeName)&&void 0!==n&&null!==(i=n.toLowerCase())&&void 0!==i&&i.includes(null===(s=e.target.value)||void 0===s?void 0:s.toLowerCase())?t:null}));0===(null===i||void 0===i?void 0:i.length)?T(!0):T(!1),C(i)}else{var s;T(!1),C(null===O||void 0===O||null===(s=O.depart)||void 0===s?void 0:s.fees)}}})]})})]}),(0,h.jsx)(m.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,h.jsx)("div",{className:l.Z.add_new_container,children:(0,h.jsx)("p",{className:l.Z.add_new_exam,onClick:P,children:r("create_new_fees")})}),null===I||void 0===I?void 0:I.map((function(e){return(0,h.jsx)(M,{fees:e,onRefetch:L,did:d},e._id)})),!b&&!(null!==O&&void 0!==O&&null!==(n=O.depart)&&void 0!==n&&null!==(o=n.fees)&&void 0!==o&&o.length)&&(0,h.jsx)(Z.Z,{customStyleContainer:{marginTop:"9rem"},title:"No any fees found",subtitle:"Please make sure you have created fees."}),A&&(0,h.jsx)(Z.Z,{customStyleContainer:{marginTop:"9rem"},title:"No any search found"}),b&&(0,h.jsx)(j.Z,{})]}),_&&(0,h.jsx)(N,{did:d,bid:c,onRefetch:L,onClose:P})]})}},13355:function(e,t,n){n(72791);var i=n(60163),s=n(80184);t.Z=function(e){var t,n=e.cls,a=e.classMaster,l=e.onSelect,o=e.divisionId;return(0,s.jsxs)("div",{className:null!==o&&void 0!==o&&o.includes(null===n||void 0===n?void 0:n._id)?"".concat(i.Z.class_container," ").concat(i.Z.class_container_active):i.Z.class_container,title:"Select class",onClick:function(){return l(null===n||void 0===n?void 0:n._id)},style:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"1rem"},children:[(0,s.jsx)("img",{src:"/images/master-24-grey-icon.svg",alt:"classes icon"}),(0,s.jsxs)("h6",{children:[null!==a&&void 0!==a?a:""," - ",null!==(t=null===n||void 0===n?void 0:n.classTitle)&&void 0!==t?t:""]})]})}},16796:function(e,t,n){var i=n(1413),s=(n(72791),n(16871)),a=n(43504),l=n(80184);t.Z=function(e){var t=e.carryParentState,n=e.activeTab,o=e.children,d=(0,s.UO)();return(0,l.jsx)(a.rU,{to:"/q/".concat(d.username,"/member/exam?a=").concat(n),state:(0,i.Z)({},t),children:o})}},12923:function(e,t,n){n.d(t,{Ec:function(){return Z},Em:function(){return S},JM:function(){return f},NS:function(){return l},Pg:function(){return _},Q_:function(){return j},RH:function(){return m},Tv:function(){return c},U_:function(){return g},VN:function(){return o},Wj:function(){return u},ZS:function(){return v},_8:function(){return p},d5:function(){return r},tB:function(){return x},vI:function(){return b},yx:function(){return d},zO:function(){return h}});var i=n(29439),s=n(91007),a=n(58208),l=function(e){var t=(0,a.YD)(e.search,{skip:e.skip});return{instituteAllSearch:t.data,instituteAllSearchRefetch:t.refetch}},o=function(){var e=(0,a.ak)();return[(0,i.Z)(e,1)[0]]},d=function(){var e=(0,a.WL)();return[(0,i.Z)(e,1)[0]]},c=function(e){var t=(0,a.pH)(e.list,{skip:e.skip});return{instituteFollowList:t.data,instituteFollowListRefetch:t.refetch}},r=function(e){var t=(0,a.MG)(e.data,{skip:e.skip});return{instituteOwnFollowingList:t.data,instituteOwnFollowingListRefetch:t.refetch}},u=function(){var e=(0,a.Ky)();return[(0,i.Z)(e,1)[0]]},v=function(e){var t=(0,a.p8)(e.list);return{userFollowList:t.data,userFollowListRefetch:t.refetch}},m=function(e){var t=(0,a.Wv)(e);return{userFollowingList:t.data,userFollowingListRefetch:t.refetch}},f=function(e){var t=(0,a.sz)(e.search,{skip:e.skip});return{userAllSearch:t.data,userAllSearchRefetch:t.refetch}},_=function(){var e=(0,a.Mk)();return[(0,i.Z)(e,1)[0]]},h=function(){var e=(0,a.$i)();return[(0,i.Z)(e,1)[0]]},x=function(){var e=(0,a.Do)();return[(0,i.Z)(e,1)[0]]},g=function(){var e=(0,a.He)();return[(0,i.Z)(e,1)[0]]},j=function(){var e=(0,a.vg)();return[(0,i.Z)(e,1)[0]]},Z=function(){var e=(0,a.OO)();return[(0,i.Z)(e,1)[0]]},p=function(e){var t=(0,a.N2)(e);return{userCircleList:t.data,userCircleListRefetch:t.refetch}},b=function(e){var t=(0,s.x6)(e.search,{skip:e.skip});return{assignSearchStaff:t.data,assignSearchStaffRefetch:t.refetch}},S=function(e){var t=(0,a.SJ)(e);return{universalUser:t.data,universalUserRefetch:t.refetch}}},52124:function(e,t){t.Z={assign_title:"AssignStaffModal_assign_title__4DGBV",assign_search_container:"AssignStaffModal_assign_search_container__3x6RD",assign_search_input:"AssignStaffModal_assign_search_input__rO3c7",assign_show_list:"AssignStaffModal_assign_show_list__yHhf7",assign_show_list_each:"AssignStaffModal_assign_show_list_each__ACUEw",assign_each_paragraph:"AssignStaffModal_assign_each_paragraph__pMHTq",universal_modal:"AssignStaffModal_universal_modal__czmpB",is_mulitselect_container:"AssignStaffModal_is_mulitselect_container__0cPQ2"}}}]);
//# sourceMappingURL=87366.3fdb8d1c.chunk.js.map