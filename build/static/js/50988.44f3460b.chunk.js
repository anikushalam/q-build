"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[50988],{41233:(e,l,o)=>{o.d(l,{Z:()=>a});var s=o(72791),i=o(39230),d=o(38733),n=o(80184);const a=e=>{let{selectLabel:l,onClick:o,selectedValue:a,options:t,customStyleContainer:c,customLabelStyle:r,customListStyle:v,openAs:u,errorShow:m,defalutValue:h,viewAs:_}=e;const{t:j}=(0,i.$G)(),[x,b]=(0,s.useState)(!1),[g,k]=(0,s.useState)(""),p=()=>{b((e=>!e))};(0,s.useEffect)((()=>{"EVENT_MANAGER"!==_&&"ADMISSION_APPLICATION"!==_&&"FINANCE_BANK"!==_&&"NORMAL_FILTER"!==_||k(h)}),[_,h]),(0,s.useEffect)((()=>{if("CUSTOM_FILTER"===_){let s="";for(let i of t)for(let d of h)if((null===i||void 0===i?void 0:i._id)===d){var e,l,o;let d=null!==(e=null!==(l=null!==(o=null===i||void 0===i?void 0:i.dName)&&void 0!==o?o:null===i||void 0===i?void 0:i.batchName)&&void 0!==l?l:null===i||void 0===i?void 0:i.className)&&void 0!==e?e:"";s=s?s+", "+d:d}k(s)}}),[_,h,t]);return(0,n.jsxs)("div",{className:d.Z.join_form_container,style:{...c},children:[(0,n.jsxs)("p",{className:d.Z.join_form_select_paragraph,style:{...r},children:[l,m&&(0,n.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",j("form_require_label")]})]}),(0,n.jsxs)("section",{className:d.Z.join_form_select_custom,onClick:p,children:[g?(0,n.jsx)("p",{className:d.Z.join_form_select_custom_paragraph,children:null!==g&&void 0!==g?g:""}):(0,n.jsx)("p",{className:d.Z.join_form_select_custom_paragraph,children:a}),(0,n.jsx)("img",{className:d.Z.join_form_select_custom_icon,src:"/images/down-icon.svg",alt:"categor icon"})]}),x&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("section",{className:d.Z.join_form_select_custom_list,style:v?{...v}:(null===t||void 0===t?void 0:t.length)>2?{overflowY:"scroll"}:{backgroundColor:"#ffffff"},children:null===t||void 0===t?void 0:t.map(((e,l)=>{var s,i,a,t,c,r,v,m,h,j,x,b;return(0,n.jsx)("p",{onClick:()=>{var l,s,i,d,n,a,t,c,r,v,m,h,j;(l="PROMOTE"===u?e:null!==e&&void 0!==e&&e._id?null===e||void 0===e?void 0:e._id:e,o(l),p(),"FINANCE_BANK"===_)||k(null!==(s=null!==(i=null!==(d=null!==(n=null!==(a=null!==(t=null!==(c=null!==(r=null!==(v=null!==(m=null!==(h=null===e||void 0===e?void 0:e.dName)&&void 0!==h?h:null===e||void 0===e?void 0:e.batchName)&&void 0!==m?m:null===e||void 0===e?void 0:e.className)&&void 0!==v?v:null===e||void 0===e?void 0:e.classTitle)&&void 0!==r?r:null===e||void 0===e?void 0:e.category_name)&&void 0!==c?c:null===e||void 0===e||null===(j=e.category_master)||void 0===j?void 0:j.category_name)&&void 0!==t?t:null===e||void 0===e?void 0:e.hostel_unit_name)&&void 0!==a?a:null===e||void 0===e?void 0:e.room_name)&&void 0!==n?n:null===e||void 0===e?void 0:e.subjectName)&&void 0!==d?d:null===e||void 0===e?void 0:e.vehicle_number)&&void 0!==i?i:null===e||void 0===e?void 0:e.finance_bank_account_name)&&void 0!==s?s:e)},className:d.Z.join_form_select_custom_paragraph_option,children:null!==(s=null!==(i=null!==(a=null!==(t=null!==(c=null!==(r=null!==(v=null!==(m=null!==(h=null!==(j=null!==(x=null===e||void 0===e?void 0:e.dName)&&void 0!==x?x:null===e||void 0===e?void 0:e.batchName)&&void 0!==j?j:null===e||void 0===e?void 0:e.className)&&void 0!==h?h:null===e||void 0===e?void 0:e.classTitle)&&void 0!==m?m:null===e||void 0===e?void 0:e.category_name)&&void 0!==v?v:null===e||void 0===e||null===(b=e.category_master)||void 0===b?void 0:b.category_name)&&void 0!==r?r:null===e||void 0===e?void 0:e.hostel_unit_name)&&void 0!==c?c:null===e||void 0===e?void 0:e.room_name)&&void 0!==t?t:null===e||void 0===e?void 0:e.subjectName)&&void 0!==a?a:null===e||void 0===e?void 0:e.vehicle_number)&&void 0!==i?i:null===e||void 0===e?void 0:e.finance_bank_account_name)&&void 0!==s?s:e},l)}))})})]})}},67923:(e,l,o)=>{o.d(l,{Z:()=>d});o(72791);var s=o(38733),i=o(80184);const d=e=>{let{labelText:l,value:o,customStyleContainer:d,customStyleLabel:n,customStyleValue:a}=e;return(0,i.jsxs)("div",{className:s.Z.join_form_container_view,style:{...d},children:[(0,i.jsx)("label",{className:s.Z.join_form_label_view,style:{...n},children:l}),(0,i.jsx)("h6",{className:s.Z.join_form_input_view,style:{...a},children:o})]})}},65082:(e,l,o)=>{o.d(l,{Z:()=>n});o(72791);var s=o(16871),i=o(43504),d=o(80184);const n=e=>{let{carryParentState:l,activeTab:o,customStyle:n,children:a}=e;const t=(0,s.UO)();return(0,d.jsx)(i.rU,{to:"/q/".concat(t.username,"/library").concat(o),state:{...l},style:n,children:a})}},90725:(e,l,o)=>{o.d(l,{Z:()=>le});var s=o(72791),i=o(80617),d=o(69721);const n="BookDetails_addbookcontainer__Lciwj",a="BookDetails_addbooktop__GIw5A",t="BookDetails_addbookbody__CTPQH",c="BookDetails_addbookbodyleft__bZ1rE",r="BookDetails_addbookbodyright__c364h",v="BookDetails_bookItemImgContainer__sCt7z",u="BookDetails_bookItemImg__GTcfq",m="BookDetails_bookTitle__hMHqt",h="BookDetails_bookby__EqGsP",_="BookDetails_booklang__nRf9x",j="BookDetails_bookstatus__YkG3V",x="BookDetails_bookstatusoffline__tTYRo",b="BookDetails_addbookbodybottom__oNg0i",g="BookDetails_viewRow__PUYL0",k="BookDetails_viewRowh6__WWWf9",p="BookDetails_desh6__5W4+W",N="BookDetails_viewRowp__stp+r",f="BookDetails_viewRowfull__RFbVh",y="BookDetails_pdfdiv__KtJk3",B="BookDetails_pdfh6__U7ywv",I="BookDetails_pdfdivcontainer__2wSWm";var C=o(39230),L=o(11237),Z=o(65082),w=o(89064),S=o(80184);const T=e=>{let{onClose:l,qr:o}=e;return(0,S.jsx)(w.Z,{onClose:l,children:(0,S.jsx)("img",{src:"".concat(o),alt:"book qr images",style:{width:"18rem",height:"18rem"},crossOrigin:"anonymous"})})};var D=o(23441),R=o(91427),M=o(21348),A=o(56959),F=o(1669),O=o(2651),P=o(90904),Y=o(49825),q=o(98684);const E="LibraryManager_brc_card__uG+0g",U="LibraryManager_brcc_inner__0plHh",G="LibraryManager_brcci_text__JHqyv",W="LibraryManager_gsf_star_container__4jgYs";var J=o(1095),z=o(55336);const K=(0,s.lazy)((()=>o.e(16386).then(o.bind(o,16386)))),V=e=>{var l,o,i,d,n,a,t,c,r,v;let{reivew:u,sid:m,onRefetch:h,bid:_}=e;const[j,x]=(0,s.useState)(["".concat(q.Jr,"/grey-star.svg"),"".concat(q.Jr,"/grey-star.svg"),"".concat(q.Jr,"/grey-star.svg"),"".concat(q.Jr,"/grey-star.svg"),"".concat(q.Jr,"/grey-star.svg")]),[b,g]=(0,s.useState)(!1);(0,s.useEffect)((()=>{if(null!==u&&void 0!==u&&u.rating){let e=[];for(let l=0;l<5;l++)l<(null===u||void 0===u?void 0:u.rating)?e.push("".concat(q.Jr,"/yellow-star.svg")):e.push("".concat(q.Jr,"/grey-star.svg"));x((()=>e))}}));const k=()=>{g((e=>!e))};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:E,children:[(0,S.jsxs)("div",{className:U,children:[(0,S.jsx)("img",{src:null!==u&&void 0!==u&&null!==(l=u.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(J.yI,"/").concat(null===u||void 0===u||null===(o=u.student)||void 0===o?void 0:o.studentProfilePhoto):"".concat(q.p3,"/feed-user-avatar.svg"),alt:"student profile"}),(0,S.jsxs)("div",{className:G,children:[(0,S.jsx)("h6",{children:"".concat(null!==(i=null===u||void 0===u||null===(d=u.student)||void 0===d?void 0:d.studentFirstName)&&void 0!==i?i:""," ").concat(null!==(n=null===u||void 0===u||null===(a=u.student)||void 0===a?void 0:a.studentMiddleName)&&void 0!==n?n:""," ").concat(null!==(t=null===u||void 0===u||null===(c=u.student)||void 0===c?void 0:c.studentLastName)&&void 0!==t?t:"")}),m===(null===u||void 0===u||null===(r=u.student)||void 0===r?void 0:r._id)?(0,S.jsx)("img",{src:"".concat(q.J7,"/menu.svg"),alt:"menu icon",onClick:k,style:{cursor:"pointer"}}):null]})]}),(0,S.jsx)("div",{className:W,children:null===j||void 0===j?void 0:j.map(((e,l)=>(0,S.jsx)("img",{src:e,alt:"star icon"},l)))}),(0,S.jsx)("h6",{children:null!==(v=null===u||void 0===u?void 0:u.description)&&void 0!==v?v:""})]}),b&&(0,S.jsx)(s.Suspense,{fallback:(0,S.jsx)(z.default,{}),children:(0,S.jsx)(K,{sid:m,onRefetch:h,bid:_,onClose:k})})]})};var Q=o(93638);const H=(0,s.lazy)((()=>o.e(26436).then(o.bind(o,26436)))),$=e=>{var l,o,i;let{bid:d,sid:n}=e;const{t:a}=(0,C.$G)(),[t,c]=(0,s.useState)(1),[r,v]=(0,s.useState)(!0),[u,m]=(0,D.YD)(),[h,_]=(0,s.useState)(!1),{libraryBookReviewList:j,libraryBookReviewListLoading:x,libraryBookReviewListRefetch:b}=(0,Y.Af)({data:{bid:d,page:t,limit:10},skip:!d});(0,s.useEffect)((()=>{m&&r&&c((e=>e+1))}),[m,r]),(0,s.useEffect)((()=>{var e;if(null!==j&&void 0!==j&&null!==(e=j.list)&&void 0!==e&&e.length){var l;let e=(0,R.f)(null===j||void 0===j||null===(l=j.list)||void 0===l?void 0:l.length);v((()=>e))}}),[null===j||void 0===j||null===(l=j.list)||void 0===l?void 0:l.length]);const g=(0,s.useCallback)((()=>{c((()=>1)),b()}),[b]),k=()=>{_((e=>!e))};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(P.Z,{}),(0,S.jsx)(M.default,{children:(0,S.jsxs)("div",{className:A.Z.fm_header_container,children:[(0,S.jsx)("h6",{children:a("all_book_review")}),n?(0,S.jsx)("div",{className:A.Z.fm_search,children:(0,S.jsx)(Q.Z,{label:"review",onAction:k,customStyle:{width:"fit-content",margin:"0",padding:"0.4rem 1rem"}})}):null]})}),(0,S.jsx)(P.Z,{}),(0,S.jsxs)(M.default,{children:[null===j||void 0===j||null===(o=j.list)||void 0===o?void 0:o.map(((e,l)=>{var o;return(null===j||void 0===j||null===(o=j.list)||void 0===o?void 0:o.length)===l+1?(0,S.jsx)("div",{ref:u,children:(0,S.jsx)(V,{reivew:e,sid:n,onRefetch:g,bid:d})},null===e||void 0===e?void 0:e._id):(0,S.jsx)(V,{reivew:e,sid:n,onRefetch:g,bid:d},null===e||void 0===e?void 0:e._id)})),x?(0,S.jsx)(F.Z,{}):0===(null===j||void 0===j||null===(i=j.list)||void 0===i?void 0:i.length)&&(0,S.jsx)(O.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No book review list."})]}),h&&(0,S.jsx)(s.Suspense,{fallback:(0,S.jsx)(z.default,{}),children:(0,S.jsx)(H,{onClose:k,onRefetch:g,bid:d,sid:n})})]})};const X=function(e){var l,o,i,w,D,R,M,A,F,O,P,Y,q,E,U,G,W,J,z,K,V,Q,H,X,ee,le,oe,se,ie,de,ne,ae,te,ce;let{book:re,onBackClick:ve,status:ue,onCollectBackClick:me,onStudentBackClick:he,carryParentState:_e,pageOpenAs:je,role:xe,sid:be}=e;const{t:ge}=(0,C.$G)(),[ke,pe]=(0,s.useState)(!1),Ne=()=>{pe((e=>!e))};return(0,S.jsxs)(S.Fragment,{children:["bookDetails"===ue?(0,S.jsxs)("div",{className:n,style:{marginBottom:"2rem",paddingBottom:"1.5rem"},children:[(0,S.jsxs)("div",{className:a,children:[(0,S.jsx)("img",{src:"/images/back.svg",onClick:ve}),(0,S.jsxs)("h6",{children:[ge("book_details"),(0,S.jsx)("img",{src:"/images/members/admission-qr.svg",alt:"qr",style:{marginLeft:"1rem",height:"1rem",cursor:"pointer"},onClick:Ne})]}),"INSTITUTE"===je?(0,S.jsx)(Z.Z,{carryParentState:{..._e,bid:null===re||void 0===re?void 0:re._id,book:re},activeTab:"?a=book&n=edit",children:(0,S.jsx)("img",{src:"/images/library/edit_.svg"})}):(0,S.jsx)(L.Z,{carryParentState:{..._e,bid:null===re||void 0===re?void 0:re._id,book:re},activeTab:"book&n=edit",role:xe,children:(0,S.jsx)("img",{src:"/images/library/edit_.svg"})})]}),(0,S.jsxs)("div",{className:t,children:[(0,S.jsx)("div",{className:r,children:(0,S.jsx)("div",{className:v,children:(0,S.jsx)("img",{className:u,src:null!==re&&void 0!==re&&re.photo?"".concat(d.yI,"/").concat(null===re||void 0===re?void 0:re.photo):"/images/defaultBook.png"})})}),(0,S.jsxs)("div",{className:c,children:[(0,S.jsx)("h3",{className:m,children:null===re||void 0===re?void 0:re.bookName}),(0,S.jsxs)("p",{className:h,children:[ge("by_")," \xa0",(0,S.jsx)("span",{children:null===re||void 0===re?void 0:re.author})]}),(0,S.jsx)("p",{className:_,children:null===re||void 0===re?void 0:re.language}),(0,S.jsx)("p",{className:"Online"===(null===re||void 0===re?void 0:re.bookStatus)?j:"".concat(j," ").concat(x),children:null===re||void 0===re?void 0:re.bookStatus})]})]}),(0,S.jsxs)("div",{className:b,children:[(0,S.jsxs)("div",{className:g,children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("ssn_number")}),(0,S.jsxs)("h6",{className:k,children:[" ",null!==(l=null===re||void 0===re?void 0:re.accession_number)&&void 0!==l?l:""]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("subject_only")}),(0,S.jsxs)("h6",{className:k,children:[" ",null!==(o=null===re||void 0===re?void 0:re.subject)&&void 0!==o?o:""]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("department")}),(0,S.jsxs)("h6",{className:k,children:[" ",null!==(i=null===re||void 0===re||null===(w=re.department)||void 0===w?void 0:w.dName)&&void 0!==i?i:""]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("total_page")}),(0,S.jsx)("h6",{className:k,children:null!==(D=null===re||void 0===re?void 0:re.totalPage)&&void 0!==D?D:""})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("price")}),(0,S.jsx)("h6",{className:k,children:null!==(R=null===re||void 0===re?void 0:re.price)&&void 0!==R?R:""})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("shell_number")}),(0,S.jsx)("h6",{className:k,children:null===re||void 0===re?void 0:re.shellNumber})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("date")}),(0,S.jsx)("h6",{className:k,children:null!==(M=null===re||void 0===re?void 0:re.date)&&void 0!==M?M:""})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("edition")}),(0,S.jsx)("h6",{className:k,children:null!==(A=null===re||void 0===re?void 0:re.edition)&&void 0!==A?A:""})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("class_number")}),(0,S.jsx)("h6",{className:k,children:null!==(F=null===re||void 0===re?void 0:re.class_number)&&void 0!==F?F:""})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("publication")}),(0,S.jsxs)("h6",{className:k,children:[" ",null!==(O=null===re||void 0===re?void 0:re.publication)&&void 0!==O?O:""]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("publisher")}),(0,S.jsx)("h6",{className:k,children:null!==(P=null===re||void 0===re?void 0:re.publisher)&&void 0!==P?P:""})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("publisher_place")}),(0,S.jsxs)("h6",{className:k,children:[" ",null===re||void 0===re?void 0:re.publisher_place]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("publisher_year")}),(0,S.jsxs)("h6",{className:k,children:[" ",null===re||void 0===re?void 0:re.publication_year]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("supplier")}),(0,S.jsx)("h6",{className:k,children:null!==(Y=null===re||void 0===re?void 0:re.supplier)&&void 0!==Y?Y:""})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("purchase_order_date")}),(0,S.jsx)("h6",{className:k,children:null!==(q=null===re||void 0===re?void 0:re.purchase_order_date)&&void 0!==q?q:""})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("purchase_order_number")}),(0,S.jsx)("h6",{className:k,children:null!==(E=null===re||void 0===re?void 0:re.purchase_order_number)&&void 0!==E?E:""})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("bill_date")}),(0,S.jsx)("h6",{className:k,children:null===re||void 0===re?void 0:re.bill_date})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("bill_number")}),(0,S.jsx)("h6",{className:k,children:null===re||void 0===re?void 0:re.bill_number})]}),(null===re||void 0===re||null===(U=re.attachment[0])||void 0===U?void 0:U.documentName)&&"Online"===(null===re||void 0===re?void 0:re.bookStatus)&&(0,S.jsx)("a",{href:"".concat(d.zQ,"/").concat(null===re||void 0===re||null===(G=re.attachment[0])||void 0===G?void 0:G.documentKey),target:"_blank",rel:"noopener noreferrer",children:(0,S.jsxs)("div",{className:I,children:[(0,S.jsx)("p",{className:N,children:ge("attachment")}),(0,S.jsxs)("div",{className:y,children:[(0,S.jsx)("img",{src:"/images/chat/pdf-icon.svg",alt:""}),(0,S.jsx)("h6",{className:"".concat(k," ").concat(B),children:"".concat(null===re||void 0===re||null===(W=re.attachment[0])||void 0===W?void 0:W.documentName)})]})]})})]}),(0,S.jsxs)("div",{className:f,children:[(0,S.jsx)("p",{className:N,children:ge("description")}),(0,S.jsxs)("h6",{className:p,children:[" ",null!==(J=null===re||void 0===re?void 0:re.description)&&void 0!==J?J:""]})]})]}),(0,S.jsx)($,{bid:null===re||void 0===re?void 0:re._id})]}):"student book details"===ue||"staff book details"===ue?(0,S.jsxs)("div",{className:n,style:{marginBottom:"2rem",paddingBottom:"1.5rem"},children:[(0,S.jsxs)("div",{className:a,children:[(0,S.jsx)("img",{src:"/images/back.svg",onClick:he}),(0,S.jsx)("h6",{children:ge("book_details")}),(0,S.jsx)("div",{})]}),(0,S.jsxs)("div",{className:t,children:[(0,S.jsx)("div",{className:r,children:(0,S.jsx)("div",{className:v,children:(0,S.jsx)("img",{className:u,src:null!==re&&void 0!==re&&re.photo?"".concat(d.yI,"/").concat(null===re||void 0===re?void 0:re.photo):"/images/defaultBook.png"})})}),(0,S.jsxs)("div",{className:c,children:[(0,S.jsx)("h3",{className:m,children:null===re||void 0===re?void 0:re.bookName}),(0,S.jsxs)("p",{className:h,children:[ge("by_")," \xa0",(0,S.jsx)("span",{children:null===re||void 0===re?void 0:re.author})]}),(0,S.jsx)("p",{className:_,children:null===re||void 0===re?void 0:re.language}),(0,S.jsx)("p",{className:"Online"===(null===re||void 0===re?void 0:re.bookStatus)?j:"".concat(j," ").concat(x),children:null===re||void 0===re?void 0:re.bookStatus})]})]}),(0,S.jsxs)("div",{className:b,children:[(0,S.jsxs)("div",{className:g,children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("ssn_number")}),(0,S.jsxs)("h6",{className:k,children:[" ",null!==(z=null===re||void 0===re?void 0:re.accession_number)&&void 0!==z?z:""]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("subject_only")}),(0,S.jsxs)("h6",{className:k,children:[" ",null!==(K=null===re||void 0===re?void 0:re.subject)&&void 0!==K?K:""]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("total_page")}),(0,S.jsx)("h6",{className:k,children:null!==(V=null===re||void 0===re?void 0:re.totalPage)&&void 0!==V?V:""})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("price")}),(0,S.jsx)("h6",{className:k,children:null!==(Q=null===re||void 0===re?void 0:re.price)&&void 0!==Q?Q:""})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("shell_number")}),(0,S.jsx)("h6",{className:k,children:null===re||void 0===re?void 0:re.shellNumber})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("date")}),(0,S.jsx)("h6",{className:k,children:null!==(H=null===re||void 0===re?void 0:re.date)&&void 0!==H?H:""})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("edition")}),(0,S.jsx)("h6",{className:k,children:null!==(X=null===re||void 0===re?void 0:re.edition)&&void 0!==X?X:""})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("class_number")}),(0,S.jsx)("h6",{className:k,children:null!==(ee=null===re||void 0===re?void 0:re.class_number)&&void 0!==ee?ee:""})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("publication")}),(0,S.jsxs)("h6",{className:k,children:[" ",null!==(le=null===re||void 0===re?void 0:re.publication)&&void 0!==le?le:""]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("publisher")}),(0,S.jsx)("h6",{className:k,children:null!==(oe=null===re||void 0===re?void 0:re.publisher)&&void 0!==oe?oe:""})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("publisher_place")}),(0,S.jsxs)("h6",{className:k,children:[" ",null===re||void 0===re?void 0:re.publisher_place]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("publisher_year")}),(0,S.jsxs)("h6",{className:k,children:[" ",null===re||void 0===re?void 0:re.publisher_year]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("supplier")}),(0,S.jsx)("h6",{className:k,children:null!==(se=null===re||void 0===re?void 0:re.supplier)&&void 0!==se?se:""})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("purchase_order_date")}),(0,S.jsx)("h6",{className:k,children:null!==(ie=null===re||void 0===re?void 0:re.purchase_order_date)&&void 0!==ie?ie:""})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("purchase_order_number")}),(0,S.jsx)("h6",{className:k,children:null!==(de=null===re||void 0===re?void 0:re.purchase_order_number)&&void 0!==de?de:""})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("bill_date")}),(0,S.jsx)("h6",{className:k,children:null===re||void 0===re?void 0:re.bill_date})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:N,children:ge("bill_number")}),(0,S.jsx)("h6",{className:k,children:null===re||void 0===re?void 0:re.bill_number})]}),(null===re||void 0===re||null===(ne=re.attachment[0])||void 0===ne?void 0:ne.documentName)&&"Online"===(null===re||void 0===re?void 0:re.bookStatus)&&(0,S.jsx)("a",{href:"".concat(d.zQ,"/").concat(null===re||void 0===re||null===(ae=re.attachment[0])||void 0===ae?void 0:ae.documentKey),target:"_blank",rel:"noopener noreferrer",children:(0,S.jsxs)("div",{className:I,children:[(0,S.jsx)("p",{className:N,children:ge("attachment")}),(0,S.jsxs)("div",{className:y,children:[(0,S.jsx)("img",{src:"/images/chat/pdf-icon.svg",alt:""}),(0,S.jsx)("h6",{className:"".concat(k," ").concat(B),children:"".concat(null===re||void 0===re||null===(te=re.attachment[0])||void 0===te?void 0:te.documentName)})]})]})})]}),(0,S.jsxs)("div",{className:f,children:[(0,S.jsx)("p",{className:N,children:ge("description")}),(0,S.jsxs)("h6",{className:p,children:[" ",null!==(ce=null===re||void 0===re?void 0:re.description)&&void 0!==ce?ce:""]})]})]}),"staff book details"===ue?null:(0,S.jsx)($,{bid:null===re||void 0===re?void 0:re._id,sid:be})]}):(0,S.jsxs)("div",{className:n,children:[(0,S.jsxs)("div",{className:a,children:[(0,S.jsx)("img",{src:"/images/back.svg",onClick:me}),(0,S.jsx)("h6",{children:ge("book_details")}),(0,S.jsx)("div",{})]}),(0,S.jsxs)("div",{className:t,children:[(0,S.jsx)("div",{className:r,children:(0,S.jsx)("div",{className:v,children:(0,S.jsx)("img",{className:u,src:"1"!==(null===re||void 0===re?void 0:re.photoId)&&""!==(null===re||void 0===re?void 0:re.photo)?"".concat(d.yI,"/").concat(null===re||void 0===re?void 0:re.photo):"/images/defaultBook.png"})})}),(0,S.jsxs)("div",{className:c,children:[(0,S.jsx)("h3",{className:m,children:null===re||void 0===re?void 0:re.bookName}),(0,S.jsxs)("p",{className:h,children:[ge("by_")," \xa0",(0,S.jsx)("span",{children:null===re||void 0===re?void 0:re.author})]}),(0,S.jsx)("p",{className:_,children:null===re||void 0===re?void 0:re.language}),(0,S.jsx)("p",{className:"Online"===(null===re||void 0===re?void 0:re.bookStatus)?j:"".concat(j," ").concat(x),children:null===re||void 0===re?void 0:re.bookStatus})]})]})]}),ke&&(null===re||void 0===re?void 0:re.book_qr_code)&&(0,S.jsx)(T,{onClose:Ne,qr:null===re||void 0===re?void 0:re.book_qr_code})]})};var ee=o(16871);const le=function(e){var l,o,d,n;let{bookId:a,desig:t,carryParentState:c,pageOpenAs:r,role:v,sid:u}=e;const m=(0,ee.s0)(),h=(0,ee.TH)(),{getBookDetail:_,getBookDetailRefetch:j}=(0,i.iJ)({bid:null===h||void 0===h||null===(l=h.state)||void 0===l?void 0:l.bid,skip:!(null!==h&&void 0!==h&&null!==(o=h.state)&&void 0!==o&&o.bid)}),{getCollectedBookDetail:x,getCollectedBookDetailRefetch:b}=(0,i.SN)({cid:a,skip:!a});(0,s.useEffect)((()=>{var e;null!==h&&void 0!==h&&null!==(e=h.state)&&void 0!==e&&e.bid&&j(),a&&b()}),[null===h||void 0===h||null===(d=h.state)||void 0===d?void 0:d.bid,a]);const g=()=>{m(-1)};return(0,S.jsx)(X,{status:null!==x&&void 0!==x&&x.collectedDetail?"collectBookDetails":t||"bookDetails",book:null!==_&&void 0!==_&&_.book?null===_||void 0===_?void 0:_.book:null===x||void 0===x||null===(n=x.collectedDetail)||void 0===n?void 0:n.book,onBackClick:g,onCollectBackClick:g,onStudentBackClick:g,carryParentState:c,pageOpenAs:r,role:v,sid:u})}},89652:(e,l,o)=>{o.d(l,{Z:()=>_});o(72791);const s="LibraryBookCard_book_card__XM9Z0",i="LibraryBookCard_book_header__OpRy+",d="LibraryBookCard_book_header_inner__+kREQ",n="LibraryBookCard_book_header_inner_text__YEikP";var a=o(39230),t=o(6642),c=o(65082),r=o(11237),v=o(69721),u=o(16871),m=o(43504),h=o(80184);const _=e=>{var l,o,_,j,x,b,g,k;let{book:p,carryParentState:N,viewAs:f}=e;const{t:y}=(0,a.$G)(),B=(0,u.TH)(),I=(0,u.UO)();return(0,h.jsx)(h.Fragment,{children:"STUDENT"===f?(0,h.jsx)(t.Z,{carryParentState:{...N,bid:null===p||void 0===p?void 0:p._id},activeTab:"library&n=books&n=detail",children:(0,h.jsx)("div",{className:s,children:(0,h.jsxs)("div",{className:i,children:[(0,h.jsxs)("div",{className:d,style:{width:"60%"},children:[(0,h.jsx)("img",{src:null!==p&&void 0!==p&&p.photo?"".concat(v.yI,"/").concat(null===p||void 0===p?void 0:p.photo):"/images/defaultBook.png",style:{height:"6.4rem",width:"6.4rem"}}),(0,h.jsxs)("div",{className:n,children:[(0,h.jsxs)("h6",{children:[y("book_name")," "," : ",null!==(l=null===p||void 0===p?void 0:p.bookName)&&void 0!==l?l:""]}),(0,h.jsxs)("div",{children:[y("author_label")," "," : ",null===p||void 0===p?void 0:p.author," "]}),(0,h.jsxs)("div",{children:[y("subject_only")," "," : ",null===p||void 0===p?void 0:p.subject," "]}),(0,h.jsxs)("div",{children:[y("ssn_number")," "," : ",null!==(o=null===p||void 0===p?void 0:p.accession_number)&&void 0!==o?o:""," "]}),(0,h.jsxs)("div",{children:[y("language")," "," : ",(0,h.jsxs)("span",{style:{color:"#f4900c"},children:[null===p||void 0===p?void 0:p.language," "]})]})]})]}),(0,h.jsx)("div",{style:{backgroundColor:"Online"===(null===p||void 0===p?void 0:p.bookStatus)?"#20b038":"#e95f28",width:"0.6rem",height:"0.6rem",borderRadius:"100%"}})]})})}):"STAFF"===f?(0,h.jsx)(m.rU,{to:"/q/".concat(I.username,"/member?a=stafflibrary&type=bookdetail"),state:{...B.state,bid:null===p||void 0===p?void 0:p._id},children:(0,h.jsx)("div",{className:s,children:(0,h.jsxs)("div",{className:i,children:[(0,h.jsxs)("div",{className:d,style:{width:"60%"},children:[(0,h.jsx)("img",{src:null!==p&&void 0!==p&&p.photo?"".concat(v.yI,"/").concat(null===p||void 0===p?void 0:p.photo):"/images/defaultBook.png",style:{height:"6.4rem",width:"6.4rem"}}),(0,h.jsxs)("div",{className:n,children:[(0,h.jsxs)("h6",{children:[y("book_name")," "," : ",null!==(_=null===p||void 0===p?void 0:p.bookName)&&void 0!==_?_:""]}),(0,h.jsxs)("div",{children:[y("author_label")," "," : ",null===p||void 0===p?void 0:p.author," "]}),(0,h.jsxs)("div",{children:[y("subject_only")," "," : ",null===p||void 0===p?void 0:p.subject," "]}),(0,h.jsxs)("div",{children:[y("ssn_number")," "," : ",null!==(j=null===p||void 0===p?void 0:p.accession_number)&&void 0!==j?j:""," "]}),(0,h.jsxs)("div",{children:[y("language")," "," : ",(0,h.jsxs)("span",{style:{color:"#f4900c"},children:[null===p||void 0===p?void 0:p.language," "]})]})]})]}),(0,h.jsx)("div",{style:{backgroundColor:"Online"===(null===p||void 0===p?void 0:p.bookStatus)?"#20b038":"#e95f28",width:"0.6rem",height:"0.6rem",borderRadius:"100%"}})]})})}):"INSTITUTE"===f?(0,h.jsx)(c.Z,{carryParentState:{...N,bid:null===p||void 0===p?void 0:p._id},activeTab:"?a=book&n=detail",children:(0,h.jsx)("div",{className:s,children:(0,h.jsxs)("div",{className:i,children:[(0,h.jsxs)("div",{className:d,style:{width:"60%"},children:[(0,h.jsx)("img",{src:null!==p&&void 0!==p&&p.photo?"".concat(v.yI,"/").concat(null===p||void 0===p?void 0:p.photo):"/images/defaultBook.png",style:{height:"6.4rem",width:"6.4rem"}}),(0,h.jsxs)("div",{className:n,children:[(0,h.jsxs)("h6",{children:[y("book_name")," "," : ",null!==(x=null===p||void 0===p?void 0:p.bookName)&&void 0!==x?x:""]}),(0,h.jsxs)("div",{children:[y("author_label")," "," : ",null===p||void 0===p?void 0:p.author," "]}),(0,h.jsxs)("div",{children:[y("subject_only")," "," : ",null===p||void 0===p?void 0:p.subject," "]}),(0,h.jsxs)("div",{children:[y("ssn_number")," "," : ",null!==(b=null===p||void 0===p?void 0:p.accession_number)&&void 0!==b?b:""," "]}),(0,h.jsxs)("div",{children:[y("language")," "," : ",(0,h.jsxs)("span",{style:{color:"#f4900c"},children:[null===p||void 0===p?void 0:p.language," "]})]})]})]}),(0,h.jsx)("div",{style:{backgroundColor:"Online"===(null===p||void 0===p?void 0:p.bookStatus)?"#20b038":"#e95f28",width:"0.6rem",height:"0.6rem",borderRadius:"100%"}})]})})}):(0,h.jsx)(r.Z,{carryParentState:{...N,bid:null===p||void 0===p?void 0:p._id},activeTab:"book&n=detail",children:(0,h.jsx)("div",{className:s,children:(0,h.jsxs)("div",{className:i,children:[(0,h.jsxs)("div",{className:d,style:{width:"60%"},children:[(0,h.jsx)("img",{src:null!==p&&void 0!==p&&p.photo?"".concat(v.yI,"/").concat(null===p||void 0===p?void 0:p.photo):"/images/defaultBook.png",style:{height:"6.4rem",width:"6.4rem"}}),(0,h.jsxs)("div",{className:n,children:[(0,h.jsxs)("h6",{children:[y("book_name")," "," : ",null!==(g=null===p||void 0===p?void 0:p.bookName)&&void 0!==g?g:""]}),(0,h.jsxs)("div",{children:[y("author_label")," "," : ",null===p||void 0===p?void 0:p.author," "]}),(0,h.jsxs)("div",{children:[y("subject_only")," "," : ",null===p||void 0===p?void 0:p.subject," "]}),(0,h.jsxs)("div",{children:[y("ssn_number")," "," : ",null!==(k=null===p||void 0===p?void 0:p.accession_number)&&void 0!==k?k:""," "]}),(0,h.jsxs)("div",{children:[y("language")," "," : ",(0,h.jsxs)("span",{style:{color:"#f4900c"},children:[null===p||void 0===p?void 0:p.language," "]})]})]})]}),(0,h.jsx)("div",{style:{backgroundColor:"Online"===(null===p||void 0===p?void 0:p.bookStatus)?"#20b038":"#e95f28",width:"0.6rem",height:"0.6rem",borderRadius:"100%"}})]})})})})}},11053:(e,l,o)=>{o.d(l,{Z:()=>c});o(72791);var s=o(47630),i=o(72426),d=o.n(i),n=o(39230),a=o(69721),t=o(80184);const c=function(e){var l,o,i,c,r,v,u,m;let{status:h,book:_}=e;const{t:j}=(0,n.$G)();return(0,t.jsx)("div",{className:"memberdetail"===h?"".concat(s.Z.collctLogItem," ").concat(s.Z.fullwidth):"memberStudentdetail"===h?"".concat(s.Z.collctLogItem," ").concat(s.Z.disabled):s.Z.collctLogItem,children:(0,t.jsxs)("div",{className:s.Z.collectLogItemTop,children:[(0,t.jsx)("img",{className:s.Z.bookItemImg,src:"1"!==(null===_||void 0===_||null===(l=_.book)||void 0===l?void 0:l.photoId)&&""!==(null===_||void 0===_||null===(o=_.book)||void 0===o?void 0:o.photo)?"".concat(a.yI,"/").concat(null===_||void 0===_||null===(i=_.book)||void 0===i?void 0:i.photo):"/images/defaultBook.png"}),(0,t.jsxs)("div",{className:s.Z.collectLogItemTopRight,children:[(0,t.jsxs)("h6",{children:[" ",(null===_||void 0===_||null===(c=_.book)||void 0===c||null===(r=c.bookName)||void 0===r?void 0:r.length)>=18?"".concat(null===_||void 0===_||null===(v=_.book)||void 0===v||null===(u=v.bookName)||void 0===u?void 0:u.match(/.{1,18}/g)[0]," ..."):null===_||void 0===_||null===(m=_.book)||void 0===m?void 0:m.bookName]}),(0,t.jsxs)("div",{className:s.Z.collectLogItemBottom,children:[(0,t.jsxs)("div",{className:s.Z.collectLogItemBottomleft,children:[(0,t.jsx)("p",{children:j("issue_date")}),(0,t.jsx)("h6",{children:d()(null===_||void 0===_?void 0:_.issuedDate).format("Do MMM YYYY")})]}),(0,t.jsxs)("div",{className:s.Z.collectLogItemBottomleft,children:[(0,t.jsx)("p",{children:j("rcv_date")}),(0,t.jsx)("h6",{children:d()(null===_||void 0===_?void 0:_.createdAt).format("Do MMM YYYY")})]})]})]})]})})}},25629:(e,l,o)=>{o.d(l,{Z:()=>I});var s=o(72791),i=o(86864),d=o(39230),n=o(69721),a=o(72426),t=o.n(a),c=o(5574);const r="CollectModal_collectModal__feATn",v="CollectModal_collectModaltop__-m3Ji",u="CollectModal_collectModalbody__ycqcA",m="CollectModal_swichRow__29Qj+",h="CollectModal_swichRowlabel__3RWpv",_="CollectModal_confirmbtn__gzWGT",j="CollectModal_errorspan__kz740";var x=o(89891),b=o(80617),g=o(98734),k=o(97655),p=o(41233),N=o(67923),f=o(80184);const y={inputProps:{"aria-label":"Switch demo"}};const B=function(e){let{open:l,hideModal:o,issueId:i,onRefetchWhenBookCollect:n,isStaff:a,dayCharge:B,forDays:I,issueDate:C}=e;const{t:L}=(0,d.$G)(),[Z,w]=(0,s.useState)(!1),[S]=(0,b.LN)(),[T]=(0,b.dH)(),[D,R]=(0,s.useState)({damaged:!1,lost:!1}),[M,A]=(0,s.useState)({enterAmount:!1,fineCharge:"",paymentType:"Online"}),[F,O]=(0,s.useState)({amount:0,type:""});(0,s.useEffect)((()=>{if(C||B||I){let e=new Date,l=new Date(C);l.setDate(l.getDate()+I);let o=t()(l),s=t()(e);const i=t().duration(s.diff(o)).days();B*i>0&&O((()=>{var e;return{amount:null!==(e=B*i)&&void 0!==e?e:0,type:"Overdue_Fines"}}))}}),[C,B,I]);const P=e=>{"Damaged"===e.name?R((l=>({...l,damaged:e.value,lost:!1}))):R((l=>({...l,damaged:!1,lost:e.value})))};return(0,f.jsxs)(c.Z,{open:l,onClose:()=>o(!1),children:[(0,f.jsxs)("div",{className:r,children:[(0,f.jsx)("div",{className:v,children:L("collect_book")}),(0,f.jsx)("div",{className:u,children:a?(0,f.jsx)("button",{disabled:Z,className:_,onClick:()=>{w((e=>!e)),T({lid:i,collectData:{chargeBy:"",paymentType:"",fineCharge:0,flow:"Normal"}}).then((()=>{n(),o(!1),w((e=>!e))})).catch((()=>{w((e=>!e))}))},children:L("confirm")}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:m,children:[(0,f.jsx)("p",{className:h,children:L("damaged")}),(0,f.jsx)(x.Z,{...y,checked:D.damaged,onClick:e=>P({name:"Damaged",value:e.target.checked})})]}),(0,f.jsxs)("div",{className:m,children:[(0,f.jsx)("p",{className:h,children:L("lost")}),(0,f.jsx)(x.Z,{...y,checked:D.lost,onClick:e=>P({name:"Lost",value:e.target.checked})})]}),M.enterAmount&&(0,f.jsx)("p",{className:j,children:L("charg_reason")}),(D.damaged||D.lost)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(k.Z,{labelText:L("enter_damage_fine"),placeholder:L("enter_damage_amount"),name:"scholar",value:M.fineCharge,type:"number",onChange:e=>A({...M,fineCharge:parseInt(e.target.value)})}),(0,f.jsx)(p.Z,{selectLabel:L("collection_type"),selectedValue:"Online"===M.paymentType?"Through Qviple":M.paymentType,options:["Offline","Through Qviple"],onClick:e=>{A("Offline"===e?l=>({...l,paymentType:e}):e=>({...e,paymentType:"Online"}))}})]}),"Overdue_Fines"===F.type?(0,f.jsx)(N.Z,{labelText:L("late_fees"),value:"".concat(L("rs_only")).concat(F.amount)}):null,(0,f.jsx)("button",{disabled:Z,className:_,onClick:()=>{!D.damaged&&!D.lost||M.fineCharge?(w((e=>!e)),S({lid:i,collectData:{chargeBy:D.damaged?"Damaged":D.lost?"Lost":F.amount>0?"Overdue_Fines":"",paymentType:M.fineCharge?M.paymentType:"",fineCharge:M.fineCharge?M.fineCharge:F.amount,flow:"Normal"}}).then((()=>{n(),o(!1),w((e=>!e))})).catch((()=>{w((e=>!e))}))):A((e=>({...e,enterAmount:!0})))},children:L("confirm")})]})})]}),Z&&(0,f.jsx)(g.Z,{})]})};const I=function(e){var l,o,a,c,r,v,u,m,h,_,j,x,b,g,k,p,N,y,I,C,L,Z,w,S,T,D,R,M,A;let{status:F,book:O,issueId:P,member:Y,onRefetchWhenBookCollect:q,isStaff:E}=e;const{t:U}=(0,d.$G)(),[G,W]=(0,s.useState)(!1),[J,z]=(0,s.useState)("");return(0,s.useEffect)((()=>{if(null!==O&&void 0!==O&&O.createdAt&&null!==O&&void 0!==O&&O.for_days){let e=new Date(null===O||void 0===O?void 0:O.createdAt);e.setDate(e.getDate()+ +(null===O||void 0===O?void 0:O.for_days)),z(e)}}),[null===O||void 0===O?void 0:O.createdAt,null===O||void 0===O?void 0:O.for_days]),(0,f.jsx)(f.Fragment,{children:E?(0,f.jsxs)(s.Fragment,{children:[(0,f.jsxs)("div",{className:i.Z.issuedBookItemTop,children:[(0,f.jsx)("div",{className:i.Z.issuedBookItemTopleft,children:(0,f.jsx)("img",{className:i.Z.bookItemImg,src:null!==O&&void 0!==O&&null!==(l=O.book)&&void 0!==l&&l.photo?"".concat(n.yI,"/").concat(null===O||void 0===O||null===(o=O.book)||void 0===o?void 0:o.photo):"/images/defaultBook.png"})}),(0,f.jsxs)("div",{className:i.Z.issuedBookItemTopright,children:[(0,f.jsx)("h6",{className:i.Z.title,children:(null===O||void 0===O||null===(a=O.book)||void 0===a||null===(c=a.bookName)||void 0===c?void 0:c.length)>=18?"".concat(null===O||void 0===O||null===(r=O.book)||void 0===r||null===(v=r.bookName)||void 0===v?void 0:v.match(/.{1,18}/g)[0]," ..."):null===O||void 0===O||null===(u=O.book)||void 0===u?void 0:u.bookName}),(0,f.jsxs)("p",{className:i.Z.author,children:[null===O||void 0===O||null===(m=O.book)||void 0===m?void 0:m.author," \xa0",(0,f.jsx)("span",{className:i.Z.authorLabel,children:U("author")})]}),(0,f.jsxs)("p",{className:i.Z.author,children:[U("accession_number")," "," : ",null!==(h=null===O||void 0===O||null===(_=O.book)||void 0===_?void 0:_.accession_number)&&void 0!==h?h:""," "]}),(0,f.jsxs)("p",{className:i.Z.booklang,children:[" ",null===O||void 0===O||null===(j=O.book)||void 0===j?void 0:j.language]})]})]}),(0,f.jsx)("div",{className:i.Z.issuedBookItemBottom,children:(0,f.jsx)("div",{className:i.Z.issuedBookItemBottomLeft,children:(0,f.jsxs)("h6",{style:{fontSize:"13px",fontWeight:"400"},children:[U("issue_date"),":"," ",t()(null===O||void 0===O?void 0:O.createdAt).format("Do MMM YYYY")]})})})]}):(0,f.jsxs)("div",{className:"memberdetail"===F?"".concat(i.Z.issuedBookItem," ").concat(i.Z.fullwidth):i.Z.issuedBookItem,children:[(0,f.jsxs)("div",{className:i.Z.issuedBookItemTop,children:[(0,f.jsx)("div",{className:i.Z.issuedBookItemTopleft,children:(0,f.jsx)("img",{className:i.Z.bookItemImg,src:null!==O&&void 0!==O&&null!==(x=O.book)&&void 0!==x&&x.photo?"".concat(n.yI,"/").concat(null===O||void 0===O||null===(b=O.book)||void 0===b?void 0:b.photo):"/images/defaultBook.png"})}),(0,f.jsxs)("div",{className:i.Z.issuedBookItemTopright,children:[(0,f.jsx)("h6",{className:i.Z.title,children:(null===O||void 0===O||null===(g=O.book)||void 0===g||null===(k=g.bookName)||void 0===k?void 0:k.length)>=18?"".concat(null===O||void 0===O||null===(p=O.book)||void 0===p||null===(N=p.bookName)||void 0===N?void 0:N.match(/.{1,18}/g)[0]," ..."):null===O||void 0===O||null===(y=O.book)||void 0===y?void 0:y.bookName}),(0,f.jsxs)("p",{className:i.Z.author,children:[null===O||void 0===O||null===(I=O.book)||void 0===I?void 0:I.author," \xa0",(0,f.jsx)("span",{className:i.Z.authorLabel,children:U("author")})]}),(0,f.jsxs)("p",{className:i.Z.author,children:[U("accession_number")," "," : ",null!==(C=null===O||void 0===O||null===(L=O.book)||void 0===L?void 0:L.accession_number)&&void 0!==C?C:""," "]}),(0,f.jsxs)("p",{className:i.Z.booklang,children:[" ",null===O||void 0===O||null===(Z=O.book)||void 0===Z?void 0:Z.language]})]})]}),(0,f.jsxs)("div",{className:i.Z.issuedBookItemMid,children:[(0,f.jsx)("div",{className:i.Z.issuedBookItemMidleft,children:(0,f.jsx)("div",{className:i.Z.imgcontainer,children:(0,f.jsx)("img",{src:null!==Y&&void 0!==Y&&Y.studentProfilePhoto||null!==Y&&void 0!==Y&&Y.staffProfilePhoto?"".concat(n.yI,"/").concat(null!==(w=null===Y||void 0===Y?void 0:Y.studentProfilePhoto)&&void 0!==w?w:null===Y||void 0===Y?void 0:Y.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""})})}),(0,f.jsx)("div",{className:i.Z.issuedBookItemMidright,children:null!==Y&&void 0!==Y&&Y.studentFirstName?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("h6",{children:[" ","".concat(null!==(S=null===Y||void 0===Y?void 0:Y.studentFirstName)&&void 0!==S?S:""," ").concat(null!==Y&&void 0!==Y&&Y.studentMiddleName?null===Y||void 0===Y?void 0:Y.studentMiddleName:""," ").concat(null!==(T=null===Y||void 0===Y?void 0:Y.studentLastName)&&void 0!==T?T:"")]}),(0,f.jsxs)("p",{children:[U("gr_no")," ",null!==(D=null===Y||void 0===Y?void 0:Y.studentGRNO)&&void 0!==D?D:""," "]})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("h6",{children:[" ","".concat(null!==(R=null===Y||void 0===Y?void 0:Y.staffFirstName)&&void 0!==R?R:""," ").concat(null!==Y&&void 0!==Y&&Y.staffMiddleName?null===Y||void 0===Y?void 0:Y.staffMiddleName:""," ").concat(null!==(M=null===Y||void 0===Y?void 0:Y.staffLastName)&&void 0!==M?M:"")]}),(0,f.jsxs)("p",{children:[U("index")," ",null!==(A=null===Y||void 0===Y?void 0:Y.staffROLLNO)&&void 0!==A?A:""," "]})]})})]}),(0,f.jsxs)("div",{className:i.Z.issuedBookItemBottom,children:[(0,f.jsxs)("div",{className:i.Z.issuedBookItemBottomLeft,children:[(0,f.jsxs)("h6",{style:{fontSize:"13px",fontWeight:"400"},children:[U("issue_date"),":"," ",t()(null===O||void 0===O?void 0:O.createdAt).format("Do MMM YYYY")]}),null!==Y&&void 0!==Y&&Y.studentFirstName?(0,f.jsxs)("h6",{style:{fontSize:"13px",fontWeight:"400"},children:[U("to_be_submitted"),": "," ",J&&t()(J).format("Do MMM YYYY")]}):null]}),"studentMemberDetail"!==F&&(0,f.jsx)("div",{className:i.Z.collectbtn,onClick:()=>W(!0),children:U("collect")})]}),G&&(0,f.jsx)(B,{open:G,hideModal:e=>{W(e)},issueId:P,onRefetchWhenBookCollect:q,isStaff:!(null===Y||void 0===Y||!Y.staffFirstName),issueDate:null===O||void 0===O?void 0:O.createdAt,dayCharge:null===O||void 0===O?void 0:O.day_overdue_charge,forDays:null!==O&&void 0!==O&&O.for_days?+(null===O||void 0===O?void 0:O.for_days):0})]})})}},11237:(e,l,o)=>{o.d(l,{Z:()=>n});o(72791);var s=o(16871),i=o(43504),d=o(80184);const n=e=>{let{carryParentState:l,activeTab:o,customStyle:n,role:c,children:r}=e;const v=(0,s.UO)();return(0,d.jsx)(d.Fragment,{children:"FULL_FUNCTIONALITY"===c?(0,d.jsx)(i.rU,{to:"/q/".concat(v.username,"/member/library?a=").concat(o),state:{...l},style:{...n},children:r}):"DEPARTMENT_WISE"===c?null!==t&&void 0!==t&&t.includes(o)?(0,d.jsx)(i.rU,{to:"/q/".concat(v.username,"/member/library?a=").concat(o),state:{...l},style:{...n},children:r}):(0,d.jsx)("div",{style:{opacity:"0.5"},children:r}):"FINE_CHARGE"===c?null!==a&&void 0!==a&&a.includes(o)?(0,d.jsx)(i.rU,{to:"/q/".concat(v.username,"/member/library?a=").concat(o),state:{...l},style:{...n},children:r}):(0,d.jsx)("div",{style:{opacity:"0.5"},children:r}):(0,d.jsx)(i.rU,{to:"/q/".concat(v.username,"/member/library?a=").concat(o),state:{...l},style:{...n},children:r})})},a=["book","charge","member"],t=["book","issue","collect","charge","member","export","logs","book&n=edit"]},6642:(e,l,o)=>{o.d(l,{Z:()=>n});o(72791);var s=o(16871),i=o(43504),d=o(80184);const n=e=>{let{carryParentState:l,activeTab:o,customStyleLink:n,children:a}=e;const t=(0,s.UO)();return(0,d.jsx)(d.Fragment,{children:""===o?(0,d.jsx)(i.rU,{to:"/q/".concat(t.username,"/member/student/class"),state:{...l},style:n,children:a}):(0,d.jsx)(i.rU,{to:"/q/".concat(t.username,"/member/student/class?a=").concat(o),state:{...l},style:n,children:a})})}},49825:(e,l,o)=>{o.d(l,{Af:()=>u,yb:()=>h,Te:()=>m});var s=o(4235),i=o(94811);const d=e=>e.query({query:e=>"/library/remark/book/".concat(e.bid,"/query?page=").concat(e.page,"&limit=").concat(e.limit),serializeQueryArgs:e=>{let{endpointName:l}=e;return l},transformResponse:(e,l,o)=>null!==o&&void 0!==o&&o.search?{search:!0,list:null===e||void 0===e?void 0:e.stocktake}:{page:null===o||void 0===o?void 0:o.page,list:null===e||void 0===e?void 0:e.stocktake},merge:(e,l)=>{var o;return null!==l&&void 0!==l&&l.search||1===(null===l||void 0===l?void 0:l.page)?l:void(null===e||void 0===e||null===(o=e.list)||void 0===o||o.push(...null===l||void 0===l?void 0:l.list))},forceRefetch(e){let{currentArg:l,previousArg:o}=e;return l!==o}}),n=e=>e.mutation({query:e=>({url:"/library/remark/book/".concat(e.bid,"/query"),method:i.Q0,body:e.reviewData})}),a=e=>e.mutation({query:e=>({url:"/library/remark/book/".concat(e.bid,"/query?sid=").concat(null===e||void 0===e?void 0:e.sid),method:i.yY})}),t=s.i.injectEndpoints({endpoints:e=>({libraryBookReviewList:d(e),libraryUpdateBookReview:n(e),libraryRemoveBookReview:a(e)})}),{useLibraryBookReviewListQuery:c,useLibraryUpdateBookReviewMutation:r,useLibraryRemoveBookReviewMutation:v}=t,u=e=>{const{data:l,refetch:o,isFetching:s}=c(e.data,{skip:e.skip});return{libraryBookReviewList:l,libraryBookReviewListRefetch:o,libraryBookReviewListLoading:s}},m=()=>{const[e]=r();return[e]},h=()=>{const[e]=v();return[e]}},47630:(e,l,o)=>{o.d(l,{Z:()=>s});const s={searchContainerr:"CollectedLogs_searchContainerr__hDVss",searchContainer:"CollectedLogs_searchContainer__2ySor",newBtn:"CollectedLogs_newBtn__di1cp",remainingFees:"CollectedLogs_remainingFees__PX4GF",remainingFeesBottom:"CollectedLogs_remainingFeesBottom__h9ap5",itemsContainer:"CollectedLogs_itemsContainer__uAdUa",collctLogItem:"CollectedLogs_collctLogItem__OCrFb",bookItemImg:"CollectedLogs_bookItemImg__hRiYC",collectLogItemTopRight:"CollectedLogs_collectLogItemTopRight__av1Sd",collectLogItemTop:"CollectedLogs_collectLogItemTop__jJ6lB",collectLogItemBottom:"CollectedLogs_collectLogItemBottom__g+kIO",collectLogItemBottomleft:"CollectedLogs_collectLogItemBottomleft__65MWS",fullwidth:"CollectedLogs_fullwidth__4bp6b",itemsRef:"CollectedLogs_itemsRef__TYXCu",loader:"CollectedLogs_loader__iRHU8",noData:"CollectedLogs_noData__pTBNJ",disabled:"CollectedLogs_disabled__l1aiz",clc_card:"CollectedLogs_clc_card__PuUFP",clc_card_inner:"CollectedLogs_clc_card_inner__7cmgp",clc_card_inner_text:"CollectedLogs_clc_card_inner_text__4Kqi4"}},86864:(e,l,o)=>{o.d(l,{Z:()=>s});const s={searchContainerr:"IssuedBooks_searchContainerr__A6bmv",searchContainer:"IssuedBooks_searchContainer__v7gCj",newBtn:"IssuedBooks_newBtn__4mJuw",remainingFees:"IssuedBooks_remainingFees__Bz61I",remainingFeesBottom:"IssuedBooks_remainingFeesBottom__yswBf",itemsContainer:"IssuedBooks_itemsContainer__sl3Kv",itemsRef:"IssuedBooks_itemsRef__ed81C",issuedBookItem:"IssuedBooks_issuedBookItem__ZsRv2",issuedBookItemTop:"IssuedBooks_issuedBookItemTop__WZB-K",issuedBookItemTopright:"IssuedBooks_issuedBookItemTopright__byizV",author:"IssuedBooks_author__K59c6",bookItemImg:"IssuedBooks_bookItemImg__77uVX",title:"IssuedBooks_title__VAjUp",authorLabel:"IssuedBooks_authorLabel__VSyG5",booklang:"IssuedBooks_booklang__wGHKm",issuedBookItemMid:"IssuedBooks_issuedBookItemMid__T4QDl",issuedBookItemMidleft:"IssuedBooks_issuedBookItemMidleft__EYCKf",imgcontainer:"IssuedBooks_imgcontainer__A2O5v",issuedBookItemMidright:"IssuedBooks_issuedBookItemMidright__EhJDf",issuedBookItemBottomLeft:"IssuedBooks_issuedBookItemBottomLeft__7KT4w",issuedBookItemBottom:"IssuedBooks_issuedBookItemBottom__7jWNG",collectbtn:"IssuedBooks_collectbtn__x7rZ2",fullwidth:"IssuedBooks_fullwidth__+d1i7",loader:"IssuedBooks_loader__aeA4o",noData:"IssuedBooks_noData__ScSZ4"}}}]);
//# sourceMappingURL=50988.44f3460b.chunk.js.map