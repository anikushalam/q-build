"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[41884,31250,28273,63687,10474,49984],{68190:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var s=a(39230),n=a(72791),i=a(23441),l=a(98684),d=a(56959),c=a(90904),o=a(21348),r=a(77302),u=a(91427),v=a(57588),m=a(2651),h=a(55336),_=a(1669),x=a(9228),p=a(89064),j=a(80184);const g=e=>{let{onClose:t,menuData:a,did:i}=e;const{t:l}=(0,s.$G)(),[d,c]=(0,n.useState)(!1),[o]=(0,r.vh)(),{instituteDepartmentDashboardRefetch:u}=(0,r.Id)({data:{did:i},skip:!i});return console.info("Asfdsfg",a),(0,j.jsx)(p.Z,{onClose:t,disabled:d,children:(0,j.jsx)("h6",{onClick:()=>{var e,s;null!==a&&void 0!==a&&null!==(e=a.u_batch)&&void 0!==e&&e._id&&i&&(c((e=>!e)),o({bid:null===a||void 0===a||null===(s=a.u_batch)||void 0===s?void 0:s._id,did:i}).then((()=>{u(),c((e=>!e)),t()})).catch({}))},children:l("select_batch")})})},f=e=>{var t,a,s;let{batch:i,did:d,selectBatchId:c}=e;const[o,r]=(0,n.useState)("");return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:c===(null===i||void 0===i||null===(t=i.u_batch)||void 0===t?void 0:t._id)?"".concat(x.Z.iadcc_card_hover," ").concat(x.Z.sf_card_active):x.Z.iadcc_card_hover,children:[(0,j.jsxs)("div",{className:x.Z.sf_card_contatiner,children:[(0,j.jsx)("img",{src:"".concat(l.J7,"/batch.svg"),loading:"lazy",alt:"avatar",style:{borderRadius:"0",height:"2rem",width:"2rem"}}),(0,j.jsx)("div",{className:x.Z.sf_card_contatiner_inner,children:(0,j.jsx)("h6",{children:null!==(a=null===i||void 0===i||null===(s=i.u_batch)||void 0===s?void 0:s.batchName)&&void 0!==a?a:""})})]}),(0,j.jsx)("img",{src:"".concat(l.J7,"/menu.svg"),alt:"menu icon",onClick:()=>{r(i)}})]}),o&&(0,j.jsx)(g,{onClose:()=>{r("")},menuData:o,did:d})]})},y=e=>{var t,a,x;let{did:p,openAs:g,selectBatchId:y}=e;const{t:Z}=(0,s.$G)(),[N,b]=(0,n.useState)(""),[S,I]=(0,n.useState)(1),[A,T]=(0,n.useState)(!0),[q,C]=(0,i.YD)({skip:N}),{academicDepartmentAllBatch:P,academicDepartmentAllBatchLoading:D}=(0,r.cm)({data:{did:p,page:S,limit:10,search:N},skip:!p});(0,n.useEffect)((()=>{C&&A&&I((e=>e+1))}),[C,A]),(0,n.useEffect)((()=>{var e;if(null!==P&&void 0!==P&&null!==(e=P.list)&&void 0!==e&&e.length){var t;let e=(0,u.f)(null===P||void 0===P||null===(t=P.list)||void 0===t?void 0:t.length);T((()=>e))}}),[null===P||void 0===P?void 0:P.list]);const E=(0,n.useCallback)((0,v.J)((e=>{I((()=>1)),b(e)}),1500),[]),R=e=>{e.target.value?E(e.target.value):(I((()=>1)),b(""))};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o.default,{children:"DEPARTMENT_HEAD"===g?(0,j.jsxs)("div",{className:d.Z.fm_header_container,children:[(0,j.jsx)("h6",{children:Z("batches")}),(0,j.jsx)("div",{className:d.Z.fm_search,children:(0,j.jsx)("section",{className:d.Z.fm_search_container,children:(0,j.jsxs)("div",{className:d.Z.fm_search_container_inner,children:[(0,j.jsx)("img",{className:d.Z.fm_search_icon,alt:"search icon",src:"".concat(l.dB,"/navbar-search.svg")}),(0,j.jsx)("input",{type:"text",placeholder:Z("search"),onChange:R})]})})})]}):(0,j.jsx)("div",{className:d.Z.fm_search_full,children:(0,j.jsx)("section",{className:d.Z.fm_search_full_container,children:(0,j.jsxs)("div",{className:d.Z.fm_search_full_container_inner,children:[(0,j.jsx)("img",{className:d.Z.fm_search_full_icon,alt:"search icon",src:"".concat(l.dB,"/navbar-search.svg")}),(0,j.jsx)("input",{type:"text",placeholder:Z("search"),onChange:R})]})})})}),(0,j.jsx)(c.Z,{}),(0,j.jsxs)(o.default,{customStyle:{paddingTop:"0.3rem",paddingBottom:"1rem"},children:[null===P||void 0===P||null===(t=P.list)||void 0===t?void 0:t.map(((e,t)=>{var a;return(null===P||void 0===P||null===(a=P.list)||void 0===a?void 0:a.length)===t+1?(0,j.jsx)("div",{ref:q,children:(0,j.jsx)(f,{batch:e,did:p,selectBatchId:y})},null===e||void 0===e?void 0:e._id):(0,j.jsx)(f,{batch:e,did:p,selectBatchId:y},null===e||void 0===e?void 0:e._id)})),D?N?(0,j.jsx)(h.default,{}):(0,j.jsx)(_.Z,{}):N?0===(null===P||void 0===P||null===(a=P.list)||void 0===a?void 0:a.length)&&(0,j.jsx)(m.Z,{title:"No batch found related this search."}):0===(null===P||void 0===P||null===(x=P.list)||void 0===x?void 0:x.length)&&(0,j.jsx)(m.Z,{title:"No batch."})]})]})}},49984:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var s=a(39230),n=a(72791),i=a(23441),l=a(98684),d=a(56959),c=a(90904),o=a(21348),r=a(77302),u=a(91427),v=a(57588),m=a(2651),h=a(55336),_=a(1669),x=a(16871),p=a(43504),j=a(9228),g=a(80184);const f=e=>{var t,a,s,n,i;let{cls:d,instituteId:c,openAs:o}=e;const r=(0,x.UO)(),u=(0,x.TH)();return(0,g.jsx)(p.rU,{to:"DEPARTMENT_HEAD"===o?"/q/".concat(r.username,"/member/staff/academic/department/").concat(r.name,"?type=cls-detail"):"/q/".concat(r.username,"/institute/member/academic/department/detail?type=cls-detail"),state:{...u.state,clsId:null===d||void 0===d?void 0:d._id,clsName:"".concat(null===d||void 0===d?void 0:d.className," (").concat(null!==(t=null===d||void 0===d||null===(a=d.department)||void 0===a?void 0:a.dName)&&void 0!==t?t:"",")"),instituteId:c},children:(0,g.jsx)("div",{className:j.Z.iadcc_card_hover,children:(0,g.jsxs)("div",{className:j.Z.sf_card_contatiner,children:[(0,g.jsx)("img",{src:"".concat(l.wP,"/cls-icon.svg"),loading:"lazy",alt:"avatar",style:{borderRadius:"0",height:"2rem",width:"2rem"}}),(0,g.jsx)("div",{className:j.Z.sf_card_contatiner_inner,children:(0,g.jsxs)("h6",{children:[null!==(s=null===d||void 0===d?void 0:d.className)&&void 0!==s?s:"",(0,g.jsxs)("span",{style:{fontSize:"12px"},children:[" ","(",null!==(n=null===d||void 0===d||null===(i=d.department)||void 0===i?void 0:i.dName)&&void 0!==n?n:"",")"]})]})})]})})})},y=e=>{var t,a,x;let{did:p,instituteId:j,openAs:y}=e;const{t:Z}=(0,s.$G)(),[N,b]=(0,n.useState)(""),[S,I]=(0,n.useState)(1),[A,T]=(0,n.useState)(!0),[q,C]=(0,i.YD)({skip:N}),{academicDepartmentAllClassMaster:P,academicDepartmentAllClassMasterLoading:D}=(0,r.fJ)({data:{did:p,page:S,limit:10,search:N},skip:!p});(0,n.useEffect)((()=>{C&&A&&I((e=>e+1))}),[C,A]),(0,n.useEffect)((()=>{var e;if(null!==P&&void 0!==P&&null!==(e=P.list)&&void 0!==e&&e.length){var t;let e=(0,u.f)(null===P||void 0===P||null===(t=P.list)||void 0===t?void 0:t.length);T((()=>e))}}),[null===P||void 0===P?void 0:P.list]);const E=(0,n.useCallback)((0,v.J)((e=>{I((()=>1)),b(e)}),1500),[]),R=e=>{e.target.value?E(e.target.value):(I((()=>1)),b(""))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(o.default,{children:"DEPARTMENT_HEAD"===y?(0,g.jsxs)("div",{className:d.Z.fm_header_container,children:[(0,g.jsx)("h6",{children:Z("classes")}),(0,g.jsx)("div",{className:d.Z.fm_search,children:(0,g.jsx)("section",{className:d.Z.fm_search_container,children:(0,g.jsxs)("div",{className:d.Z.fm_search_container_inner,children:[(0,g.jsx)("img",{className:d.Z.fm_search_icon,alt:"search icon",src:"".concat(l.dB,"/navbar-search.svg")}),(0,g.jsx)("input",{type:"text",placeholder:Z("search"),onChange:R})]})})})]}):(0,g.jsx)("div",{className:d.Z.fm_search_full,children:(0,g.jsx)("section",{className:d.Z.fm_search_full_container,children:(0,g.jsxs)("div",{className:d.Z.fm_search_full_container_inner,children:[(0,g.jsx)("img",{className:d.Z.fm_search_full_icon,alt:"search icon",src:"".concat(l.dB,"/navbar-search.svg")}),(0,g.jsx)("input",{type:"text",placeholder:Z("search"),onChange:R})]})})})}),(0,g.jsx)(c.Z,{}),(0,g.jsxs)(o.default,{customStyle:{paddingTop:"0.3rem",paddingBottom:"1rem"},children:[null===P||void 0===P||null===(t=P.list)||void 0===t?void 0:t.map(((e,t)=>{var a;return(null===P||void 0===P||null===(a=P.list)||void 0===a?void 0:a.length)===t+1?(0,g.jsx)("div",{ref:q,children:(0,g.jsx)(f,{cls:e,instituteId:j,openAs:y})},null===e||void 0===e?void 0:e._id):(0,g.jsx)(f,{cls:e,instituteId:j,openAs:y},null===e||void 0===e?void 0:e._id)})),D?N?(0,g.jsx)(h.default,{}):(0,g.jsx)(_.Z,{}):N?0===(null===P||void 0===P||null===(a=P.list)||void 0===a?void 0:a.length)&&(0,g.jsx)(m.Z,{title:"No class found related this search."}):0===(null===P||void 0===P||null===(x=P.list)||void 0===x?void 0:x.length)&&(0,g.jsx)(m.Z,{title:"No class."})]})]})}},94071:(e,t,a)=>{a.r(t),a.d(t,{default:()=>O});var s=a(20712),n=a(18725),i=a(2205),l=a(72156),d=a(63687),c=a(16871),o=a(43504),r=a(98684),u=a(39230),v=a(77302),m=a(72791),h=a(89064),_=a(33992),x=a(85794),p=a(16184),j=a(55369),g=a(80184);const f=e=>{let{onClose:t,menuData:a,onRefetch:s}=e;const{t:n}=(0,u.$G)(),[i,l]=(0,m.useState)(!1),[d,o]=(0,m.useState)(""),[r,v]=(0,m.useState)({open:!1,msg:"",variant:"error"}),f=(0,c.s0)(),[y]=(0,_.$1)(),[Z]=(0,_.MQ)(),[N]=(0,_.nr)(),b=()=>{o("")};return(0,g.jsxs)(g.Fragment,{children:[1===d?(0,g.jsx)(p.Z,{onClose:()=>o(""),onParentClose:t,instituteId:null===a||void 0===a?void 0:a.institute,departmentId:null===a||void 0===a?void 0:a._id,onReftech:s}):2===d?(0,g.jsx)(j.Z,{isEdit:!0,onEditAction:e=>{if(null!==a&&void 0!==a&&a._id){var n;b(),l((e=>!e));const i={dName:(null===a||void 0===a?void 0:a.dName)===e.dName?"":e.dName,dTitle:(null===a||void 0===a?void 0:a.dTitle)===e.dTitle?"":e.dTitle,sid:(null===a||void 0===a||null===(n=a.dHead)||void 0===n?void 0:n._id)===e.sid?"":e.sid,gr_initials:(null===a||void 0===a?void 0:a.gr_initials)===e.gr_initials?"":e.gr_initials};N({did:null===a||void 0===a?void 0:a._id,department:i}).then((()=>{s(),l((e=>!e)),t()})).catch({})}},menuData:a,onClose:b,instituteId:null===a||void 0===a?void 0:a.institute}):(0,g.jsxs)(h.Z,{onClose:t,disabled:i,customStyle:{width:"15rem"},children:["Pinned"===(null===a||void 0===a?void 0:a.pin_status)?(0,g.jsx)("h6",{onClick:()=>{null!==a&&void 0!==a&&a.institute&&null!==a&&void 0!==a&&a.pin_status_flow&&(l((e=>!e)),Z({id:null===a||void 0===a?void 0:a.institute,bodyParameter:{did:"DEPENDENT"===(null===a||void 0===a?void 0:a.pin_status_flow)?null===a||void 0===a?void 0:a.pin_status_id:null===a||void 0===a?void 0:a._id,flow:null===a||void 0===a?void 0:a.pin_status_flow}}).then((()=>{s(),l((e=>!e)),t()})).catch({}))},children:n("unpin_department")}):(0,g.jsx)("h6",{onClick:()=>o(1),children:n("pin_department")}),(0,g.jsx)("h6",{onClick:()=>o(2),children:n("edit")}),(0,g.jsx)("h6",{onClick:()=>{null!==a&&void 0!==a&&a._id&&(l((e=>!e)),y({did:null===a||void 0===a?void 0:a._id}).then((e=>{var a,s;null!==e&&void 0!==e&&null!==(a=e.data)&&void 0!==a&&a.error?(v({msg:null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.message,open:!0,variant:"error"}),l((e=>!e))):(l((e=>!e)),f(-1),t())})))},children:n("delete")})]}),(0,g.jsx)(x.Z,{eventState:r,eventStateHandler:v})]})},y=()=>{var e,t,a,s,n,i,d,h,_,x,p,j,y;const{t:Z}=(0,u.$G)(),N=(0,c.UO)(),[b,S]=(0,m.useState)(!1),I=(0,c.TH)(),{instituteDepartmentDashboard:A,instituteDepartmentDashboardRefetch:T}=(0,v.Id)({data:{did:null===(e=I.state)||void 0===e?void 0:e.departmentId},skip:!(null!==(t=I.state)&&void 0!==t&&t.departmentId)}),q=()=>{S((e=>!e))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:l.Z.iadds_continer,children:[(0,g.jsx)("img",{src:"".concat(r.wP,"/cover.svg"),alt:"department cover icon",className:l.Z.iads_cover}),(0,g.jsx)(o.rU,{to:"/q/".concat(N.username,"/institute/member/academic/department/detail?a=site"),state:I.state,style:{textDecoration:"none"},children:(0,g.jsx)("img",{className:l.Z.iaddsc_globe,src:"".concat(r.wP,"/globe.svg"),alt:"edit icon"})}),(0,g.jsx)("img",{className:l.Z.iaddsc_edit,src:"".concat(r.wP,"/edit.svg"),alt:"edit icon",onClick:q})]}),(0,g.jsx)("section",{className:l.Z.iads_card,style:{marginTop:"-1.5rem",borderTopLeftRadius:"1rem",borderTopRightRadius:"1rem",backgroundColor:"#ffffff",position:"relative",padding:"0"},children:(0,g.jsx)("section",{className:"".concat(l.Z.iads_card," ").concat(l.Z.iads_card_active),children:(0,g.jsxs)("div",{className:l.Z.iadsc_inner,children:[(0,g.jsx)("h6",{children:"".concat(null===A||void 0===A?void 0:A.dTitle,": ").concat(null!==(a=null===A||void 0===A||null===(s=A.dHead)||void 0===s?void 0:s.staffFirstName)&&void 0!==a?a:""," ").concat(null!==(n=null===A||void 0===A||null===(i=A.dHead)||void 0===i?void 0:i.staffMiddleName)&&void 0!==n?n:""," ").concat(null!==(d=null===A||void 0===A||null===(h=A.dHead)||void 0===h?void 0:h.staffLastName)&&void 0!==d?d:"")}),(0,g.jsx)("p",{style:{color:"#121212",fontSize:"12px"},children:(null===A||void 0===A||null===(_=A.active_academic_batch)||void 0===_?void 0:_.batchName)||Z("not_active_batch")})]})})}),(0,g.jsxs)("section",{className:l.Z.iads_card,children:[(0,g.jsxs)("div",{className:l.Z.iadsc_inner,children:[(0,g.jsx)("h6",{children:Z("classrooms")}),(0,g.jsx)("p",{children:Z("class_in_batch")})]}),(0,g.jsx)("h6",{children:(null===A||void 0===A||null===(x=A.departmentSelectBatch)||void 0===x||null===(p=x.classroom)||void 0===p?void 0:p.length)||0})]}),(0,g.jsxs)("section",{className:l.Z.iads_card,children:[(0,g.jsxs)("div",{className:l.Z.iadsc_inner,children:[(0,g.jsx)("h6",{children:Z("total_staffs")}),(0,g.jsx)("p",{children:Z("active_staff")})]}),(0,g.jsx)("h6",{children:(null===A||void 0===A?void 0:A.staffCount)||0})]}),(0,g.jsxs)("section",{className:l.Z.iads_card,style:{borderBottom:"0"},children:[(0,g.jsxs)("div",{className:l.Z.iadsc_inner,children:[(0,g.jsx)("h6",{children:Z("total_students")}),(0,g.jsx)("p",{children:Z("student_studying")})]}),(0,g.jsx)("h6",{children:(null===A||void 0===A||null===(j=A.departmentSelectBatch)||void 0===j||null===(y=j.ApproveStudent)||void 0===y?void 0:y.length)||0})]}),b&&(0,g.jsx)(f,{onClose:q,menuData:A,onRefetch:T})]})};var Z=a(55336);const N=()=>{const e=(0,c.UO)(),{t:t}=(0,u.$G)(),[a]=(0,o.lr)(),s=(0,c.TH)();return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("section",{className:l.Z.iadt_container,children:[(0,g.jsx)(o.rU,{to:"/q/".concat(e.username,"/institute/member/academic/department/detail?type=cls"),className:"cls"!==a.get("type")&&a.get("type")?l.Z.iadtc_card:"".concat(l.Z.iadtc_card," ").concat(l.Z.iadtc_card_active),style:{borderTopLeftRadius:"6px"},state:s.state,children:(0,g.jsx)("h6",{children:t("class")})}),(0,g.jsx)(o.rU,{to:"/q/".concat(e.username,"/institute/member/academic/department/detail?type=master"),className:"master"===a.get("type")?"".concat(l.Z.iadtc_card," ").concat(l.Z.iadtc_card_active):l.Z.iadtc_card,state:s.state,children:(0,g.jsx)("h6",{children:t("masters")})}),(0,g.jsx)(o.rU,{to:"/q/".concat(e.username,"/institute/member/academic/department/detail?type=batch"),className:"batch"===a.get("type")?"".concat(l.Z.iadtc_card," ").concat(l.Z.iadtc_card_active):l.Z.iadtc_card,state:s.state,children:(0,g.jsx)("h6",{children:t("batches")})}),(0,g.jsx)(o.rU,{to:"/q/".concat(e.username,"/institute/member/academic/department/detail?type=staff"),className:"staff"===a.get("type")?"".concat(l.Z.iadtc_card," ").concat(l.Z.iadtc_card_active):l.Z.iadtc_card,state:s.state,children:(0,g.jsx)("h6",{children:t("staffs")})}),(0,g.jsx)(o.rU,{to:"/q/".concat(e.username,"/institute/member/academic/department/detail?type=student"),className:"student"===a.get("type")?"".concat(l.Z.iadtc_card," ").concat(l.Z.iadtc_card_active):l.Z.iadtc_card,style:{borderTopRightRadius:"6px"},state:s.state,children:(0,g.jsx)("h6",{children:t("students")})})]})})};var b=a(15233),S=a(19910),I=a(68190),A=a(87732),T=a(49984);const q=e=>{var t,a,s,n,i;let{instituteId:l,selectBatchId:d}=e;const[r]=(0,o.lr)(),u=(0,c.TH)();return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(m.Suspense,{fallback:(0,g.jsx)(Z.default,{}),children:[(0,g.jsx)(N,{}),"staff"===r.get("type")?(0,g.jsx)(b.Z,{did:null===(t=u.state)||void 0===t?void 0:t.departmentId}):"student"===r.get("type")?(0,g.jsx)(S.Z,{did:null===(a=u.state)||void 0===a?void 0:a.departmentId}):"batch"===r.get("type")?(0,g.jsx)(I.default,{did:null===(s=u.state)||void 0===s?void 0:s.departmentId,selectBatchId:d}):"master"===r.get("type")?(0,g.jsx)(A.default,{did:null===(n=u.state)||void 0===n?void 0:n.departmentId,instituteId:l}):"cls"!==r.get("type")&&r.get("type")?null:(0,g.jsx)(T.default,{did:null===(i=u.state)||void 0===i?void 0:i.departmentId,instituteId:l})]})})};var C=a(44927);const P=()=>{var e,t,a,s,n,i,d;const{t:o}=(0,u.$G)(),m=(0,c.TH)(),{academicClassDetail:h}=(0,v.$3)({data:{cid:null===(e=m.state)||void 0===e?void 0:e.clsId,did:null===(t=m.state)||void 0===t?void 0:t.departmentId},skip:null!==(a=m.state)&&void 0!==a&&a.clsId?!(null!==(n=m.state)&&void 0!==n&&n.departmentId):!(null!==(s=m.state)&&void 0!==s&&s.clsId)});return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:l.Z.iadds_continer,children:(0,g.jsx)("img",{src:"".concat(r.wP,"/cls-cover.svg"),alt:"department cover icon",className:l.Z.iads_cover})}),(0,g.jsx)("section",{className:l.Z.iads_card,style:{marginTop:"-1.5rem",borderTopLeftRadius:"1rem",borderTopRightRadius:"1rem",backgroundColor:"#ffffff",position:"relative",padding:"0"},children:(0,g.jsx)("section",{className:"".concat(l.Z.iads_card," ").concat(l.Z.iads_card_active),children:(0,g.jsx)("div",{className:l.Z.iadsc_inner,children:(0,g.jsx)("h6",{children:null!==(i=null===(d=m.state)||void 0===d?void 0:d.clsName)&&void 0!==i?i:""})})})}),(0,g.jsxs)("section",{className:l.Z.iads_card,children:[(0,g.jsxs)("div",{className:l.Z.iadsc_inner,children:[(0,g.jsx)("h6",{children:o("total_students")}),(0,g.jsx)("p",{children:o("student_studying_in_class")})]}),(0,g.jsx)("h6",{children:(null===h||void 0===h?void 0:h.all_student)||0})]}),(0,g.jsxs)("section",{className:l.Z.iads_card,children:[(0,g.jsxs)("div",{className:l.Z.iadsc_inner,children:[(0,g.jsx)("h6",{children:o("total_theory_classes")}),(0,g.jsx)("p",{children:o("total_theory_classes_in")})]}),(0,g.jsx)("h6",{children:(null===h||void 0===h?void 0:h.theory_classes)||0})]}),(0,g.jsxs)("section",{className:l.Z.iads_card,style:{borderBottom:"0"},children:[(0,g.jsxs)("div",{className:l.Z.iadsc_inner,children:[(0,g.jsx)("h6",{children:o("total_practical_batches")}),(0,g.jsx)("p",{children:o("total_practical_batches_in")})]}),(0,g.jsx)("h6",{children:(null===h||void 0===h?void 0:h.practical_batch)||0})]})]})};var D=a(53277),E=a(23558);const R=()=>{const e=(0,c.UO)(),t=(0,c.TH)(),[a]=(0,o.lr)();return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(D.Z,{customStyle:{borderTopLeftRadius:"6px",borderTopRightRadius:"6px"},children:k.map((s=>(0,g.jsx)(E.Z,{label:s.label,isLink:!0,isActive:"student"===s.id&&!a.get("n")||a.get("n")===s.id,parentState:t.state,url:"/q/".concat(e.username,"/institute/member/academic/department/detail?type=cls-detail").concat(s.urlKey),isAuthorized:!0},null===s||void 0===s?void 0:s.id)))})})},k=[{label:"students",id:"student",urlKey:""},{label:"dse_student",id:"dse",urlKey:"&n=dse"},{label:"theory_classes",id:"theory",urlKey:"&n=theory"},{label:"practical_batches",id:"practical",urlKey:"&n=practical"}];var U=a(78911),w=a(14747),M=a(78378),G=a(17695);const L=()=>{var e,t,a,s;const n=(0,c.TH)(),[i]=(0,o.lr)();return(0,g.jsx)(g.Fragment,{children:i.get("n")?"dse"===i.get("n")?(0,g.jsx)(G.Z,{clsId:null===(t=n.state)||void 0===t?void 0:t.clsId}):"theory"===i.get("n")?(0,g.jsx)(M.Z,{clsId:null===(a=n.state)||void 0===a?void 0:a.clsId,instituteId:n.state.instituteId}):"practical"===i.get("n")?(0,g.jsx)(w.Z,{clsId:null===(s=n.state)||void 0===s?void 0:s.clsId,instituteId:n.state.instituteId}):null:(0,g.jsx)(U.Z,{clsId:null===(e=n.state)||void 0===e?void 0:e.clsId})})};var B=a(1844),F=a(36077);const H=()=>{var e,t;const[a]=(0,o.lr)(),r=(0,c.TH)();return(0,g.jsx)(s.Z,{children:(0,g.jsxs)(n.Z,{children:[(0,g.jsx)("div",{className:l.Z.iadc_side,children:(0,g.jsxs)(d.default,{customStyle:{minHeight:"fit-content",paddingBottom:"0"},children:[(0,g.jsx)(i.Z,{customStyle:{width:"100%",marginTop:"0"}}),(0,g.jsx)(P,{})]})}),(0,g.jsx)("div",{className:l.Z.iadc_main,children:(0,g.jsx)(d.default,{customStyle:{paddingBottom:"0"},children:"theory-detail"===a.get("n")?(0,g.jsx)(B.default,{clsId:null===(e=r.state)||void 0===e?void 0:e.clsId,instituteId:r.state.instituteId}):"practical-detail"===a.get("n")?(0,g.jsx)(F.default,{clsId:null===(t=r.state)||void 0===t?void 0:t.clsId,instituteId:r.state.instituteId}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(R,{}),(0,g.jsx)(L,{})]})})})]})})},O=()=>{var e,t,a,r;const[u]=(0,o.lr)(),m=(0,c.TH)(),{instituteDepartmentDashboard:h}=(0,v.Id)({data:{did:null===(e=m.state)||void 0===e?void 0:e.departmentId},skip:!(null!==(t=m.state)&&void 0!==t&&t.departmentId)});return(0,g.jsx)(g.Fragment,{children:"site"===u.get("a")?(0,g.jsx)(C.Z,{did:null===(a=m.state)||void 0===a?void 0:a.departmentId,viewAs:"INSTITUTE",isNavbar:!0}):"cls-detail"===u.get("type")?(0,g.jsx)(H,{}):(0,g.jsx)(s.Z,{children:(0,g.jsxs)(n.Z,{children:[(0,g.jsx)("div",{className:l.Z.iadc_side,children:(0,g.jsxs)(d.default,{customStyle:{minHeight:"fit-content",paddingBottom:"0"},children:[(0,g.jsx)(i.Z,{customStyle:{width:"100%",marginTop:"0"}}),(0,g.jsx)(y,{})]})}),(0,g.jsx)("div",{className:l.Z.iadc_main,children:(0,g.jsx)(d.default,{customStyle:{paddingBottom:"0"},children:(0,g.jsx)(q,{instituteId:null===h||void 0===h?void 0:h.institute,selectBatchId:null===h||void 0===h||null===(r=h.active_academic_batch)||void 0===r?void 0:r._id})})})]})})})}},87732:(e,t,a)=>{a.r(t),a.d(t,{default:()=>I});var s=a(39230),n=a(72791),i=a(23441),l=a(98684),d=a(56959),c=a(90904),o=a(21348),r=a(77302),u=a(91427),v=a(57588),m=a(2651),h=a(55336),_=a(1669),x=a(9228),p=a(16871),j=a(80184);const g=e=>{var t,a,s,n;let{master:i,departmentName:d}=e;(0,p.TH)();return(0,j.jsx)("div",{className:x.Z.iadcc_card_hover,children:(0,j.jsxs)("div",{className:x.Z.sf_card_contatiner,children:[(0,j.jsx)("img",{src:"".concat(l.wP,"/cls-icon.svg"),loading:"lazy",alt:"avatar",style:{borderRadius:"0",height:"2rem",width:"2rem"}}),(0,j.jsx)("div",{className:x.Z.sf_card_contatiner_inner,children:(0,j.jsxs)("h6",{children:[null!==(t=null===i||void 0===i?void 0:i.subjectName)&&void 0!==t?t:""," -> "," ",null!==(a=null===i||void 0===i?void 0:i.subjectName)&&void 0!==a?a:"",(0,j.jsxs)("span",{style:{fontSize:"12px"},children:[" ","(",null!==(s=null===i||void 0===i||null===(n=i.department)||void 0===n?void 0:n.dName)&&void 0!==s?s:"",")"]})]})})]})})};var f=a(93638),y=a(38857),Z=a(16925),N=a(48801),b=a(74125);const S=e=>{var t,a,i,d,u;let{onClose:v,onRefetch:m,did:_,instituteId:x}=e;const{t:p}=(0,s.$G)(),[g,S]=(0,n.useState)(!1),[I,A]=(0,n.useState)("DEPARTMENT"),[T,q]=(0,n.useState)({subId:"",mapId:"",selectedDepartment:""}),[C]=(0,r.RV)(),P=()=>{"DEPARTMENT"===I?v():A("MASTER"===I?"DEPARTMENT":"MASTER")};return(0,j.jsx)(j.Fragment,{children:"DEPARTMENT"===I?(0,j.jsx)(N.Z,{onSelectStaff:e=>{q((t=>({...t,selectedDepartment:e}))),A("MASTER")},title:p("select_department"),onClose:P,selectedId:null===(t=T.selectedDepartment)||void 0===t?void 0:t._id,instituteId:x,whichType:"Normal"}):"MASTER"===I?(0,j.jsx)(b.Z,{onSelectStaff:e=>{q((t=>({...t,subId:e}))),A("")},title:p("select_subject"),onClose:P,selectedId:null===(a=T.subId)||void 0===a?void 0:a._id,instituteId:null===(i=T.selectedDepartment)||void 0===i?void 0:i._id}):(0,j.jsx)(y.Z,{onClose:P,children:(0,j.jsxs)("div",{className:Z.Z.modal_container,children:[(0,j.jsx)(o.default,{children:(0,j.jsxs)("div",{className:Z.Z.modal_container_outer_header,children:[(0,j.jsx)("div",{className:Z.Z.modal_container_header,children:(0,j.jsx)("h6",{children:p("map_subject_master")})}),(0,j.jsx)("img",{src:"".concat(l.J7,"/close.svg"),alt:"close icon",onClick:v})]})}),(0,j.jsx)(c.Z,{}),(0,j.jsxs)(o.default,{customStyle:{paddingTop:"0"},children:[(0,j.jsx)("div",{className:Z.Z.modal_container_header,children:(0,j.jsxs)("h6",{children:[(0,j.jsx)("span",{style:{fontWeight:"600"},children:null===(d=T.subId)||void 0===d?void 0:d.subjectName})," ","("," ",(0,j.jsx)("span",{style:{fontWeight:"500"},children:null===T||void 0===T||null===(u=T.selectedDepartment)||void 0===u?void 0:u.dName}),")"]})}),(0,j.jsx)(f.Z,{label:"map",onAction:()=>{var e,t;_&&null!==T&&void 0!==T&&null!==(e=T.subId)&&void 0!==e&&e._id&&(S((e=>!e)),C({bodyParameter:{did:_,subId:null,mapId:null===(t=T.subId)||void 0===t?void 0:t._id}}).then((()=>{m(),S((e=>!e)),v()})).catch({}))}})]}),g&&(0,j.jsx)(h.default,{})]})})})},I=e=>{var t,a,x;let{did:p,instituteId:y,openAs:Z,departmentName:N}=e;const{t:b}=(0,s.$G)(),[I,A]=(0,n.useState)(""),[T,q]=(0,n.useState)(1),[C,P]=(0,n.useState)(!0),[D,E]=(0,i.YD)({skip:I}),[R,k]=(0,n.useState)(!1),{academicDepartmentAllSubjectMaster:U,academicDepartmentAllSubjectMasterLoading:w,academicDepartmentAllSubjectMasterRefetch:M}=(0,r.xq)({data:{did:p,page:T,limit:10,search:I},skip:!p});(0,n.useEffect)((()=>{E&&C&&q((e=>e+1))}),[E,C]),(0,n.useEffect)((()=>{var e;if(null!==U&&void 0!==U&&null!==(e=U.list)&&void 0!==e&&e.length){var t;let e=(0,u.f)(null===U||void 0===U||null===(t=U.list)||void 0===t?void 0:t.length);P((()=>e))}}),[null===U||void 0===U?void 0:U.list]);const G=(0,n.useCallback)((0,v.J)((e=>{q((()=>1)),A(e)}),1500),[]),L=e=>{e.target.value?G(e.target.value):(q((()=>1)),A(""))},B=(0,n.useCallback)((()=>{q((()=>1)),A(""),M()}),[M]),F=()=>{k((e=>!e))};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o.default,{children:"DEPARTMENT_HEAD"===Z?(0,j.jsxs)("div",{className:d.Z.fm_header_container,children:[(0,j.jsx)("h6",{children:b("masters")}),(0,j.jsxs)("div",{className:d.Z.fm_search,children:[(0,j.jsx)("section",{className:d.Z.fm_search_container,children:(0,j.jsxs)("div",{className:d.Z.fm_search_container_inner,children:[(0,j.jsx)("img",{className:d.Z.fm_search_icon,alt:"search icon",src:"".concat(l.dB,"/navbar-search.svg")}),(0,j.jsx)("input",{type:"text",placeholder:b("search"),onChange:L})]})}),(0,j.jsx)(f.Z,{label:b("map_master"),customStyle:{margin:"0",padding:"0.4rem 1rem",minWidth:"fit-content"},onAction:F})]})]}):(0,j.jsxs)("div",{className:d.Z.fm_search_full,children:[(0,j.jsx)("section",{className:d.Z.fm_search_full_container,children:(0,j.jsxs)("div",{className:d.Z.fm_search_full_container_inner,children:[(0,j.jsx)("img",{className:d.Z.fm_search_full_icon,alt:"search icon",src:"".concat(l.dB,"/navbar-search.svg")}),(0,j.jsx)("input",{type:"text",placeholder:b("search"),onChange:L})]})}),(0,j.jsx)(f.Z,{label:b("map_master"),customStyle:{margin:"0",padding:"0.4rem 1rem",minWidth:"fit-content"},onAction:F})]})}),(0,j.jsx)(c.Z,{}),(0,j.jsxs)(o.default,{customStyle:{paddingTop:"0.3rem",paddingBottom:"1rem"},children:[null===U||void 0===U||null===(t=U.list)||void 0===t?void 0:t.map(((e,t)=>{var a;return(null===U||void 0===U||null===(a=U.list)||void 0===a?void 0:a.length)===t+1?(0,j.jsx)("div",{ref:D,children:(0,j.jsx)(g,{master:e,departmentName:N})},null===e||void 0===e?void 0:e._id):(0,j.jsx)(g,{departmentName:N,master:e},null===e||void 0===e?void 0:e._id)})),w?I?(0,j.jsx)(h.default,{}):(0,j.jsx)(_.Z,{}):I?0===(null===U||void 0===U||null===(a=U.list)||void 0===a?void 0:a.length)&&(0,j.jsx)(m.Z,{title:"No master found related this search."}):0===(null===U||void 0===U||null===(x=U.list)||void 0===x?void 0:x.length)&&(0,j.jsx)(m.Z,{title:"No master."})]}),R&&(0,j.jsx)(S,{onClose:F,instituteId:y,onRefetch:B,did:p})]})}},55369:(e,t,a)=>{a.d(t,{Z:()=>g});var s=a(72791),n=a(39230),i=a(90702),l=a(38857),d=a(21348),c=a(90904),o=a(93638),r=a(55336),u=a(16925),v=a(98684),m=a(57431),h=a(1095),_=a(61055),x=a(99183),p=a(77302),j=a(80184);const g=e=>{var t,a,g,f;let{instituteId:y,onClose:Z,onRefetch:N,onEditAction:b,menuData:S,isEdit:I}=e;const{t:A}=(0,n.$G)(),[T,q]=(0,s.useState)({dName:"",dTitle:"",sid:"",gr_initials:""}),[C,P]=(0,s.useState)(""),[D,E]=(0,s.useState)(1),[R,k]=(0,s.useState)(""),[U,w]=(0,s.useState)(!1),[M]=(0,p.ef)();(0,s.useEffect)((()=>{var e,t,a,s,n;I&&S&&(q({dName:null!==(e=null===S||void 0===S?void 0:S.dName)&&void 0!==e?e:"",dTitle:null!==(t=null===S||void 0===S?void 0:S.dTitle)&&void 0!==t?t:"",sid:null!==(a=null===S||void 0===S||null===(s=S.dHead)||void 0===s?void 0:s._id)&&void 0!==a?a:"",gr_initials:null!==(n=null===S||void 0===S?void 0:S.gr_initials)&&void 0!==n?n:""}),P(null===S||void 0===S?void 0:S.dHead))}),[I,S]);const G=(e,t)=>{var a;(null===(a=e.target.value)||void 0===a?void 0:a.length)<=t&&q((t=>({...t,[e.target.name]:e.target.value})))};return(0,j.jsx)(j.Fragment,{children:3===D?(0,j.jsx)(i.Z,{onSelectStaff:e=>{P(e),q((t=>({...t,sid:null===e||void 0===e?void 0:e._id}))),E(2)},onClose:()=>E(2),instituteId:y}):(0,j.jsx)(l.Z,{onClose:Z,children:(0,j.jsxs)("div",{className:u.Z.modal_container,children:[(0,j.jsx)(d.default,{children:(0,j.jsxs)("div",{className:u.Z.modal_container_outer_header,children:[(0,j.jsx)("div",{className:u.Z.modal_container_header,children:(0,j.jsx)("h6",{children:A(I?"edit_department":"add_new_dept")})}),(0,j.jsx)("img",{src:"".concat(v.J7,"/close.svg"),alt:"close icon",onClick:Z})]})}),(0,j.jsx)(c.Z,{}),(0,j.jsxs)(d.default,{customStyle:{paddingTop:"0"},children:[(0,j.jsx)(_.Z,{label:A("department_name"),placeholder:A("dept_example"),name:"dName",value:T.dName,type:"text",onChange:e=>G(e,45),errorShow:R.dName}),(0,j.jsx)(m.Z,{maxLength:45,valueLength:T.dName}),(0,j.jsxs)("div",{className:u.Z.card_container_image,onClick:()=>E(3),style:{cursor:"pointer"},children:[(0,j.jsx)("img",{alt:"not found",src:null!==C&&void 0!==C&&C.staffProfilePhoto?"".concat(h.yI,"/").concat(C.staffProfilePhoto):"".concat(v.p3,"/feed-user-avatar.svg")}),(0,j.jsx)("div",{className:u.Z.card_container_inner,children:null!==C&&void 0!==C&&C.staffFirstName?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h6",{children:"".concat(null!==(t=null===C||void 0===C?void 0:C.staffFirstName)&&void 0!==t?t:""," \n                    ").concat(null!==(a=null===C||void 0===C?void 0:C.staffMiddleName)&&void 0!==a?a:"","\n                    ").concat(null!==(g=null===C||void 0===C?void 0:C.staffLastName)&&void 0!==g?g:"")}),(0,j.jsxs)("p",{children:[A("index_number_1")," ",null!==(f=null===C||void 0===C?void 0:C.staffROLLNO)&&void 0!==f?f:""]})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("h6",{children:[A("assign_dhead")," ",A("optional")]}),(0,j.jsx)("p",{children:A("search_from_joined_list")})]})})]}),(0,j.jsx)(_.Z,{label:A("give_dhead_title"),placeholder:A("dhead_example"),name:"dTitle",value:T.dTitle,type:"text",onChange:e=>G(e,40),errorShow:R.dTitle}),(0,j.jsx)(m.Z,{maxLength:40,valueLength:T.dTitle}),(0,j.jsx)(_.Z,{label:A("department_initials"),placeholder:A("department_initials_placeholder"),name:"gr_initials",value:T.gr_initials,type:"text",onChange:e=>G(e,10)}),(0,j.jsx)(m.Z,{maxLength:10,valueLength:T.gr_initials}),(0,j.jsx)(o.Z,{label:I?"update":"create",onAction:()=>{let e=(0,x.l)(T,["sid","gr_initials"]);(0,x.x)(e)?I?b(T):y&&(w((e=>!e)),M({id:y,bodyParameter:T}).then((()=>{N(),w((e=>!e)),Z()})).catch({})):k(e)}})]}),U&&(0,j.jsx)(r.default,{})]})})})}},1844:(e,t,a)=>{a.r(t),a.d(t,{default:()=>q});var s=a(39230),n=a(72791),i=a(98684),l=a(56959),d=a(90904),c=a(21348),o=a(77302),r=a(57588),u=a(2651),v=a(55336),m=a(1669),h=a(93638),_=a(89064),x=a(80184);const p=e=>{let{subjectId:t,onClose:a,menuData:i,onRefetch:l}=e;const{t:d}=(0,s.$G)(),[c,r]=(0,n.useState)(!1),[u]=(0,o.Og)();return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(_.Z,{onClose:a,disabled:c,children:(0,x.jsx)("h6",{onClick:()=>{null!==i&&void 0!==i&&i._id&&t&&(r((e=>!e)),u({sid:t,bodyParameter:{students:[null===i||void 0===i?void 0:i._id]}}).then((()=>{l(),r((e=>!e)),a()})))},children:d("remove")})})})};var j=a(9228),g=a(1095),f=a(16871),y=a(43504);const Z=e=>{var t,a,l,d;let{student:c,openAs:o,onRefetch:r,subjectId:u}=e;const[v,m]=(0,n.useState)(!1),h=(0,f.UO)(),{t:_}=(0,s.$G)(),Z=e=>{e&&e.preventDefault(),m((e=>!e))};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(y.rU,{to:"/q/".concat(h.username,"/student/profile"),state:{sid:null===c||void 0===c?void 0:c._id,viewAs:o?"SUBJECT_TEACHER":"INSTITUTE"},children:(0,x.jsxs)("div",{className:j.Z.iadcc_card_hover,children:[(0,x.jsxs)("div",{className:j.Z.sf_card_contatiner,children:[(0,x.jsx)("img",{src:null!==c&&void 0!==c&&c.studentProfilePhoto?"".concat(g.yI,"/").concat(c.studentProfilePhoto):"".concat(i.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar",style:{width:"2.5rem",height:"2.5rem"}}),(0,x.jsxs)("div",{className:j.Z.sf_card_contatiner_inner,children:[(0,x.jsx)("h6",{children:"".concat(null!==(t=null===c||void 0===c?void 0:c.studentFirstName)&&void 0!==t?t:""," ").concat(null!==(a=null===c||void 0===c?void 0:c.studentMiddleName)&&void 0!==a?a:""," ").concat(null!==(l=null===c||void 0===c?void 0:c.studentLastName)&&void 0!==l?l:"")}),(0,x.jsxs)("p",{children:[_("gr_number")," ",": ",null!==(d=null===c||void 0===c?void 0:c.studentGRNO)&&void 0!==d?d:""]})]})]}),(0,x.jsx)("img",{src:"".concat(i.J7,"/menu.svg"),alt:"menu icon",onClick:Z})]})}),v&&(0,x.jsx)(p,{onClose:Z,menuData:c,onRefetch:r,subjectId:u})]})};var N=a(59244),b=a(49806),S=a(38857);const I=e=>{var t,a,n,l;let{student:d}=e;const{t:c}=(0,s.$G)();return(0,x.jsx)("div",{className:j.Z.sf_card_hover,children:(0,x.jsxs)("div",{className:j.Z.sf_card_contatiner,children:[(0,x.jsx)("img",{src:null!==d&&void 0!==d&&d.studentProfilePhoto?"".concat(g.yI,"/").concat(d.studentProfilePhoto):"".concat(i.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,x.jsxs)("div",{className:j.Z.sf_card_contatiner_inner,children:[(0,x.jsx)("h6",{children:"".concat(null!==(t=null===d||void 0===d?void 0:d.studentFirstName)&&void 0!==t?t:""," ").concat(null!==(a=null===d||void 0===d?void 0:d.studentMiddleName)&&void 0!==a?a:""," ").concat(null!==(n=null===d||void 0===d?void 0:d.studentLastName)&&void 0!==n?n:"")}),(0,x.jsxs)("p",{children:[c("gr_number")," ",": ",null!==(l=null===d||void 0===d?void 0:d.studentGRNO)&&void 0!==l?l:""]})]})]})})},A=e=>{var t;let{clsId:a,onClose:l,onRefetch:r}=e;const{t:_}=(0,s.$G)(),[p,j]=(0,n.useState)([]),[g,f]=(0,n.useState)(!1),y=(0,n.useRef)(),Z=(0,n.useRef)(),{classMasterAllStudent:N,classMasterAllStudentLoading:A}=(0,o.BQ)({data:{cid:a,page:1,limit:1e3,search:""},skip:!a});(0,n.useEffect)((()=>{null!==N&&void 0!==N&&N.list&&j(null===N||void 0===N?void 0:N.list)}),[null===N||void 0===N?void 0:N.list]);const T=e=>{const t=[...p],a=t[y.current];t.splice(y.current,1),t.splice(Z.current,0,a),y.current=null,Z.current=null,j(t)};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(S.Z,{onClose:l,children:(0,x.jsxs)("div",{className:b.Z.modal_container,children:[(0,x.jsx)(c.default,{children:(0,x.jsxs)("div",{className:b.Z.modal_container_outer_header,children:[(0,x.jsx)("div",{className:b.Z.modal_container_header,children:(0,x.jsx)("h6",{children:_("reshuffle_student_list")})}),(0,x.jsxs)("div",{className:b.Z.modal_container_btn_container,children:[(0,x.jsx)(h.Z,{label:_("save_resuffle"),onAction:()=>{},customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,x.jsx)("img",{src:"".concat(i.J7,"/close.svg"),alt:"close icon",onClick:l})]})]})}),(0,x.jsx)(d.Z,{}),(0,x.jsxs)(c.default,{customStyle:{paddingBottom:"1rem"},children:[null===p||void 0===p?void 0:p.map(((e,t)=>(0,x.jsx)("div",{draggable:!0,onDragStart:e=>{return a=t,void(y.current=a);var a},onDragEnter:e=>{return a=t,void(Z.current=a);var a},onDragEnd:T,children:(0,x.jsx)(I,{student:e})},null===e||void 0===e?void 0:e._id))),A?(0,x.jsx)(m.Z,{}):0===(null===N||void 0===N||null===(t=N.list)||void 0===t?void 0:t.length)&&(0,x.jsx)(u.Z,{title:"No student.",customStyleContainer:{marginTop:"1.5rem"}})]})]})}),g&&(0,x.jsx)(v.default,{})]})};var T=a(48986);const q=e=>{var t,a,_,p,j,y,b,S,I;let{clsId:q,openAs:C}=e;const{t:P}=(0,s.$G)(),D=(0,f.TH)(),[E,R]=(0,n.useState)(""),[k,U]=(0,n.useState)(!1),[w,M]=(0,n.useState)(!1),[G,L]=(0,n.useState)(!1),[B,F]=(0,n.useState)(!1),[H]=(0,o.dP)(),[O]=(0,o._)(),{oneTheoryClasses:Q,oneTheoryClassesRefetch:$,oneTheoryClassesLoading:J}=(0,o.ci)({data:{sid:D.state.subId,search:E},skip:!D.state.subId}),z=(0,n.useCallback)((0,r.J)((e=>{R(e)}),1500),[]),W=()=>{U((e=>!e))},K=()=>{M((e=>!e))},Y=()=>{L((e=>!e))},V=e=>{(null===e||void 0===e?void 0:e.length)>0&&D.state.subId&&(F((e=>!e)),H({sid:D.state.subId,bodyParameter:{students:e}}).then((()=>{$(),F((e=>!e)),W()})).catch({}))};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(c.default,{children:(0,x.jsxs)("div",{className:l.Z.fm_header_container,children:[(0,x.jsx)("h6",{children:null!==(t=null===(a=D.state)||void 0===a?void 0:a.subjectName)&&void 0!==t?t:""}),(0,x.jsxs)("div",{className:l.Z.fm_search,children:[(0,x.jsx)(h.Z,{label:P("resuffle"),customStyle:{margin:"0",padding:"0.4rem 1rem",minWidth:"fit-content"},onAction:Y}),(0,x.jsx)(h.Z,{label:P("add_student"),customStyle:{margin:"0",padding:"0.4rem 1rem",minWidth:"fit-content"},onAction:W}),(0,x.jsx)(h.Z,{label:P("add_dse_student"),customStyle:{margin:"0",padding:"0.4rem 1rem",minWidth:"fit-content"},onAction:K}),(0,x.jsx)("img",{src:"".concat(i.J7,"/export.svg"),alt:"icon",title:"List Export",onClick:()=>{D.state.subId&&(F((e=>!e)),O({sid:D.state.subId}).then((e=>{var t;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.set?setTimeout((()=>{var t;F((e=>!e));const a=window.open("".concat(g.LS,"/").concat(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.set),"_blank","noopener,noreferrer");a&&(a.opener=null)}),2e3):F((e=>!e))})).catch({}))}})]})]})}),(0,x.jsx)(d.Z,{}),(0,x.jsx)(c.default,{customStyle:{paddingTop:"0"},children:(0,x.jsxs)("div",{className:l.Z.fm_search_full,children:[(0,x.jsxs)("h6",{className:l.Z.fm_title_heading,style:{width:"-webkit-fill-available"},children:[P("total_student"),null!==(_=null===Q||void 0===Q||null===(p=Q.theory_students)||void 0===p?void 0:p.length)&&void 0!==_?_:0]}),(0,x.jsx)("section",{className:l.Z.fm_search_full_container,children:(0,x.jsxs)("div",{className:l.Z.fm_search_full_container_inner,children:[(0,x.jsx)("img",{className:l.Z.fm_search_full_icon,alt:"search icon",src:"".concat(i.dB,"/navbar-search.svg")}),(0,x.jsx)("input",{type:"text",placeholder:P("search"),onChange:e=>{e.target.value?z(e.target.value):R("")}})]})})]})}),(0,x.jsx)(d.Z,{}),(0,x.jsxs)(c.default,{customStyle:{paddingTop:"0.3rem",paddingBottom:"1rem"},children:[null===Q||void 0===Q||null===(j=Q.theory_students)||void 0===j?void 0:j.map((e=>(0,x.jsx)(Z,{student:e,openAs:C,subjectId:D.state.subId,onRefetch:$},null===e||void 0===e?void 0:e._id))),J?E?(0,x.jsx)(v.default,{}):(0,x.jsx)(m.Z,{}):E?0===(null===Q||void 0===Q||null===(y=Q.theory_students)||void 0===y?void 0:y.length)&&(0,x.jsx)(u.Z,{title:"No student found related this search."}):0===(null===Q||void 0===Q||null===(b=Q.theory_students)||void 0===b?void 0:b.length)&&(0,x.jsx)(u.Z,{title:"No student."})]}),k&&(0,x.jsx)(N.Z,{onClose:W,clsId:q,onAdd:V,academicDepartmentId:null===(S=D.state)||void 0===S?void 0:S.departmentId}),w&&(0,x.jsx)(T.Z,{onClose:K,clsId:q,onAdd:V,academicDepartmentId:null===(I=D.state)||void 0===I?void 0:I.departmentId}),G&&(0,x.jsx)(A,{onClose:Y,clsId:q,onRefetch:$}),B&&(0,x.jsx)(v.default,{})]})}},16184:(e,t,a)=>{a.d(t,{Z:()=>j});var s=a(39230),n=a(16925),i=a(33992),l=a(72791),d=a(99183),c=a(38857),o=a(21348),r=a(90904),u=a(20659),v=a(26071),m=a(61055),h=a(93638),_=a(55336),x=a(98684),p=a(80184);const j=e=>{let{onClose:t,instituteId:a,departmentId:j,onParentClose:f,onReftech:y}=e;const{t:Z}=(0,s.$G)(),[N,b]=(0,l.useState)(""),[S,I]=(0,l.useState)(!1),[A,T]=(0,l.useState)({type:"",flow:""}),[q]=(0,i.Uu)(),C=e=>{T((t=>({...t,flow:e})))};return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(c.Z,{onClose:t,children:(0,p.jsxs)("div",{className:n.Z.modal_container,children:[(0,p.jsx)(o.default,{children:(0,p.jsxs)("div",{className:n.Z.modal_container_outer_header,children:[(0,p.jsx)("div",{className:n.Z.modal_container_header,children:(0,p.jsx)("h6",{children:Z("pin_department")})}),(0,p.jsx)("img",{src:"".concat(x.J7,"/close.svg"),alt:"close icon",onClick:t})]})}),(0,p.jsx)(r.Z,{}),(0,p.jsxs)(o.default,{customStyle:{paddingTop:"0"},children:[(0,p.jsx)(u.Z,{label:"dependency",children:null===g||void 0===g?void 0:g.map((e=>(0,p.jsx)(v.Z,{tile:e,onTile:C,activeTile:null===A||void 0===A?void 0:A.flow},null===e||void 0===e?void 0:e.key)))}),"DEPENDENT"===A.flow?(0,p.jsx)(m.Z,{label:Z("section_name"),placeholder:Z("section_name_placeholder"),name:"type",value:A.type,type:"text",onChange:e=>{T((t=>({...t,[e.target.name]:e.target.value})))}}):null,(0,p.jsx)(h.Z,{label:"save",onAction:()=>{let e=(0,d.l)(A,["type"]);(0,d.x)(e)&&j&&a?(I((e=>!e)),q({id:a,bodyParameter:{...A,did:j}}).then((()=>{y(),I((e=>!e)),f()})).catch({})):b(e)}})]}),S&&(0,p.jsx)(_.default,{})]})})})},g=[{key:"DEPENDENT",name:"dependent"},{key:"INDEPENDENT",name:"independent"}]},1669:(e,t,a)=>{a.d(t,{Z:()=>l});var s=a(98684),n=a(63244),i=a(80184);const l=e=>{let{isGrey:t}=e;return(0,i.jsx)("div",{className:n.Z.q_loading,children:(0,i.jsx)("img",{src:"".concat(s.Uw,t?"/loading-grey.gif":"/loading.gif"),alt:"loading icon"})})}},79992:(e,t,a)=>{a.d(t,{ZH:()=>n});var s=a(44816);const n=e=>{var t=s.AES.decrypt(e,"QVIPLESAASPLATFORM");return JSON.parse(t.toString(s.enc.Utf8))}},98684:(e,t,a)=>{a.d(t,{D3:()=>o,Fk:()=>u,HN:()=>s,IC:()=>h,Ii:()=>m,J7:()=>d,Jr:()=>v,U_:()=>c,Uw:()=>r,dB:()=>i,ix:()=>_,nj:()=>n,p3:()=>l,wP:()=>p,zr:()=>x});const s="/public/images/company_logo",n="/public/images/auth",i="/public/images/navbar",l="/public/images/feed",d="/public/images/finance",c="/public/images/admission",o="/public/images/lms",r="/public/images/loading",u="/public/images/utility",v="/public/images/feedback",m="/public/images/mentor",h="/public/images/staff",_="/public/images/automate",x="/public/images/store",p="/public/images/academic_department"},94811:(e,t,a)=>{a.d(t,{Q0:()=>n,a4:()=>s,yY:()=>i});const s="POST",n="PATCH",i="DELETE"},26071:(e,t,a)=>{a.d(t,{Z:()=>l});var s=a(51416),n=a(39230),i=a(80184);const l=e=>{let{tile:t,onTile:a,activeTile:l,customTileChild:d}=e;const{t:c}=(0,n.$G)();return(0,i.jsx)("div",{className:(null===t||void 0===t?void 0:t.key)===l?s.Z.tile_tile_active:s.Z.tile_tile,onClick:()=>a(null===t||void 0===t?void 0:t.key),style:d,children:c(null===t||void 0===t?void 0:t.name)})}},20659:(e,t,a)=>{a.d(t,{Z:()=>l});var s=a(51416),n=a(39230),i=a(80184);const l=e=>{let{label:t,customTileLabel:a,customTileContainer:l,customTileStyle:d,errorShow:c,children:o}=e;const{t:r}=(0,n.$G)();return(0,i.jsxs)("div",{className:s.Z.tile_container,style:d,children:[t&&(0,i.jsxs)("h6",{className:s.Z.tile_label,style:a,children:[r(t),c?(0,i.jsxs)("span",{style:{color:"rgb(231, 75, 75)"},children:["* ",r("form_require_label")]}):null]}),(0,i.jsx)("section",{className:s.Z.tile_tile_container,style:l,children:o})]})}},63687:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var s=a(59393),n=a(80184);const i=e=>{let{customStyle:t,children:a}=e;return(0,n.jsx)("div",{className:s.Z.user_member_container_wrapper,style:t,children:a})}},85794:(e,t,a)=>{a.d(t,{Z:()=>r});var s=a(72791),n=a(54164),i=a(15783),l=a(98684),d=a(80184);const c=e=>{let{onClose:t,isVariant:a,isHide:s,children:c}=e;return n.createPortal((0,d.jsx)("div",{children:(0,d.jsx)("div",{className:s?i.Z.notify_hide_overlay:i.Z.notify_overlay,children:(0,d.jsxs)("div",{className:i.Z.notify_container,style:{"--notify-bg-color":a},children:[c,(0,d.jsx)("img",{src:"".concat(l.Fk,"/close-white.svg"),alt:"close icon",onClick:t,className:i.Z.notify_close})]})})}),document.getElementById("notify-alert"))},o={success:"green",error:"#ed4a4a",warning:"orange"},r=e=>{var t;let{eventState:a,eventStateHandler:n}=e;const[l,r]=(0,s.useState)(!1);return null!==a&&void 0!==a&&a.open?(0,d.jsx)(c,{onClose:()=>{r(!0);let e=setTimeout((()=>{n((e=>({...e,open:!1,msg:"",variant:"success"}))),r(!1)}),500);return()=>clearTimeout(e)},isVariant:o[null===a||void 0===a?void 0:a.variant],isHide:l,children:(0,d.jsx)("h6",{className:i.Z.notify_message,children:null!==(t=null===a||void 0===a?void 0:a.msg)&&void 0!==t?t:""})}):null}},91007:(e,t,a)=>{a.d(t,{KU:()=>ue,cX:()=>re,Lr:()=>he,wB:()=>de,cn:()=>oe,pu:()=>W,QS:()=>K,W7:()=>Y,dj:()=>V,$J:()=>Se,Im:()=>ve,W3:()=>Q,Pm:()=>Ae,Md:()=>O,No:()=>J,dv:()=>z,mC:()=>Ie,OU:()=>le,x6:()=>xe});var s=localStorage.getItem("user");const n=e=>e.mutation({query:e=>({url:"/landing/get-touch",method:"POST",body:e})}),i=e=>e.mutation({query:e=>({url:"/ins/deactivate/info/".concat(s),method:"POST",body:e})}),l=e=>e.query({query:e=>"/ins/".concat(e.id?e.id:s,"/approve-staff/list?page=").concat(e.page,"&limit=").concat(e.limit,"&date=").concat(e.date?e.date:"")}),d=e=>e.query({query:e=>"/ins/".concat(e||s,"/pending-staff/list")}),c=e=>e.query({query:e=>"/ins/staff/".concat(e)}),o=e=>e.query({query:e=>"/ins/".concat(e.id?e.id:s,"/approve-student/list?page=").concat(e.page,"&limit=").concat(e.limit)}),r=e=>e.query({query:e=>"/ins/student/".concat(e)}),u=e=>e.query({query:e=>"/ins/".concat(s,"/followers-array?page=").concat(e,"&limit=10")}),v=e=>e.query({query:e=>"/ins/".concat(null===e||void 0===e?void 0:e.id,"/announcemnt?page=").concat(null===e||void 0===e?void 0:e.page,"&limit=").concat(e.limit)}),m=e=>e.query({query:e=>"/ins/".concat(s,"/all/star-announcement?page=").concat(e,"&limit=10")}),h=e=>e.query({query:e=>"/ins/one/announcement/".concat(e)}),_=e=>e.query({query:e=>"/ins/".concat(s||e,"/dash")}),x=e=>e.query({query:e=>"/ins/".concat(e||s,"/display/person-array")}),p=e=>e.mutation({query:e=>({url:"/ins/".concat(s,"/display-person"),method:"POST",body:e})}),j=e=>e.mutation({query:e=>({url:"/ins/".concat(e.did,"/display-person/update"),method:"PATCH",body:e})}),g=e=>e.mutation({query:e=>({url:"/ins/".concat(s,"/display-person/").concat(e.did,"/delete/").concat(e.uid),method:"DELETE",body:e})}),f=e=>e.query({query:e=>"/ins/dashboard/".concat(s,"/notify?page=").concat(e,"&limit=10")}),y=e=>e.mutation({query:e=>({url:"/ins/".concat(e,"/star-announcement"),method:"POST"})}),Z=e=>e.query({query:e=>({url:"/search/".concat(null!==e&&void 0!==e&&e.id?null===e||void 0===e?void 0:e.id:s,"/staff?search=").concat(e.search,"&page=").concat(e.page,"&limit=").concat(e.limit)})}),N=e=>e.query({query:e=>({url:"/search/".concat(s,"/student?search=").concat(e,"&page=",1,"&limit=",5)})}),b=e=>e.query({query:e=>({url:"/search/institute/".concat(s,"/allsearch?search=").concat(e,"&page=",1,"&limit=",5)})}),S=e=>e.mutation({query:e=>({url:"/ins/".concat(s,"/staff/approve/").concat(e.sid,"/user/").concat(e.uid),method:"POST",body:e})}),I=e=>e.mutation({query:e=>({url:"/ins".concat(s,"/staff/reject/").concat(e.sid,"/user/").concat(e.uid),method:"POST",body:e})}),A=e=>e.query({query:()=>({url:"/auth/login"})}),T=e=>e.mutation({query:e=>({url:"/ins/".concat(s,"/staff/code"),method:"POST",body:e})}),q=e=>e.query({query:()=>({url:"/ins/".concat(s,"/staff-code")})}),C=e=>e.query({query:()=>"/all/user/list/data/"}),P=e=>e.query({query:e=>"/user/".concat(e,"/profile")}),D=e=>e.query({query:e=>"/user/profile/".concat(e)}),E=e=>e.query({query:e=>"/user/".concat(null===e||void 0===e?void 0:e.id,"/ins-announcement?page=").concat(null===e||void 0===e?void 0:e.page,"&limit=").concat(null===e||void 0===e?void 0:e.limit)}),R=e=>e.query({query:e=>"/user/".concat(s||e,"/dash/query")}),k=e=>e.query({query:e=>"/user/dashboard/".concat(s,"/notify?page=").concat(e,"&limit=10")}),U=e=>e.mutation({query:e=>({url:"/user/".concat(s,"/recovery-mail"),method:"POST",body:e})}),w=e=>e.mutation({query:e=>({url:"/user/phone/info/".concat(s),method:"POST",body:e})}),M=e=>e.mutation({query:e=>({url:"/extra/age/".concat(s),method:"PATCH"})}),G=e=>e.query({query:e=>({url:"/extra/age/".concat(s,"/get"),method:"GET"})}),L=e=>e.query({query:e=>"/fees/student/".concat(e)}),B=e=>e.query({query:()=>"/extra/random/query"}),F=e=>e.mutation({query:e=>({url:"/ins/destroy/announcement/".concat(null===e||void 0===e?void 0:e.annId),method:"DELETE"})});const H=a(85064).K.injectEndpoints({endpoints:e=>({postGetInTouch:n(e),postUserRecoveryMail:U(e),postUserRecoveryPhoneNumber:w(e),postDeactivateAccount:i(e),getOneUserProfile:P(e),getOneUserProfileUsername:D(e),staffApproveArray:l(e),staffPendingArray:d(e),getOneStaffProfile:c(e),studentApproveArray:o(e),getOneStudentProfile:r(e),getInsFollowersArray:u(e),getAnnouncementArray:v(e),getUserAnnouncementArray:E(e),getStarAnnouncementArray:m(e),getOneAnnouncement:h(e),getSingleInsData:_(e),getSingleUserData:R(e),getDisplayPerson:x(e),addDisplayPerson:p(e),editDisplayPerson:j(e),deleteDisplayPerson:g(e),getAllNotifications:f(e),getAllUserNotifications:k(e),markStarAnnouncement:y(e),staffSearch:Z(e),studentSearch:N(e),universalSearch:b(e),markAsApprove:S(e),markAsReject:I(e),checkLoginUser:A(e),randomCode:T(e),instituteStaffCode:q(e),getAllUserArray:C(e),patchUserRestrictAge:M(e),getUsserAgeRestriction:G(e),getStudentFeesArray:L(e),randomIns:B(e),instituteRemoveAnnouncement:F(e)})}),{usePatchUserRestrictAgeMutation:O,useGetUsserAgeRestrictionQuery:Q,usePostGetInTouchMutation:$,usePostUserRecoveryMailMutation:J,usePostUserRecoveryPhoneNumberMutation:z,useGetOneUserProfileQuery:W,useGetOneUserProfileUsernameQuery:K,useGetSingleInsDataQuery:Y,useGetSingleUserDataQuery:V,useGetDisplayPersonQuery:X,useEditDisplayPersonMutation:ee,useAddDisplayPersonMutation:te,useDeleteDisplayPersonMutation:ae,useGetAllNotificationsQuery:se,useGetAllUserNotificationsQuery:ne,useStaffPendingArrayQuery:ie,useStaffApproveArrayQuery:le,useGetOneStaffProfileQuery:de,useStudentApproveArrayQuery:ce,useGetOneStudentProfileQuery:oe,useGetInsFollowersArrayQuery:re,useGetAnnouncementArrayQuery:ue,useGetUserAnnouncementArrayQuery:ve,useGetStarAnnouncementArrayQuery:me,useGetOneAnnouncementQuery:he,useMarkStarAnnouncementMutation:_e,useStaffSearchQuery:xe,useStudentSearchQuery:pe,useUniversalSearchQuery:je,useMarkAsApproveMutation:ge,useMarkAsRejectMutation:fe,useCheckLoginUserQuery:ye,useRandomCodeMutation:Ze,useInstituteStaffCodeQuery:Ne,useGetAllUserArrayQuery:be,useGetStudentFeesArrayQuery:Se,useRandomInsQuery:Ie,useInstituteRemoveAnnouncementMutation:Ae}=H},63244:(e,t,a)=>{a.d(t,{Z:()=>s});const s={qviple_loader_backdrop:"Loader_qviple_loader_backdrop__ScdYl",qviple_loader_container:"Loader_qviple_loader_container__SXQ9Y",qviple_loader_rotation:"Loader_qviple_loader_rotation__ltsgT",qviple_loader_rotation_animation:"Loader_qviple_loader_rotation_animation__gy3+j",q_loading:"Loader_q_loading__bwe2c",circle_loading:"Loader_circle_loading__m+ptB",rotate_animation:"Loader_rotate_animation__IV2sY"}}}]);
//# sourceMappingURL=41884.c81517e6.chunk.js.map