"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[11148],{60233:(e,n,t)=>{t.d(n,{Z:()=>v});var l=t(72791);const a=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],i=["January","February","March","April","May","June","July","August","September","October","November","December"],s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;const t=new Date,s="".concat(t.getDate(),"-").concat(t.getMonth()+1,"-").concat(t.getFullYear()),o=[1,2,3,4,5,6,0],[d,c]=(0,l.useState)(t),r=new Date(d.getFullYear(),d.getMonth()+1,0),u=new Date(d.getFullYear(),d.getMonth(),0),v=r.getDate(),h=new Date(d.getFullYear(),d.getMonth(),1).getDay(),_=o.indexOf(h)+1;let m=u.getDate()-o.indexOf(h)+1,p=1,f=1;const x={};for(let l=1;l<7;l++)for(let e=1;e<8;e++)x[l]||(x[l]=[]),1===l?e<_?(x[l]=[...x[l],{classes:"in-prev-month",date:"".concat(m,"-").concat(0===d.getMonth()?12:d.getMonth(),"-").concat(0===d.getMonth()?d.getFullYear()-1:d.getFullYear()),value:m}],m++):(x[l]=[...x[l],{classes:"",date:"".concat(p,"-").concat(d.getMonth()+1,"-").concat(d.getFullYear()),value:p}],p++):l>1&&p<v+1?(x[l]=[...x[l],{classes:"",date:"".concat(p,"-").concat(d.getMonth()+1,"-").concat(d.getFullYear()),value:p}],p++):(x[l]=[...x[l],{classes:"in-next-month",date:"".concat(f,"-").concat(d.getMonth()+2===13?1:d.getMonth()+2,"-").concat(d.getMonth()+2===13?d.getFullYear()+1:d.getFullYear()),value:f}],f++);return{daysShort:e,monthNames:n,todayFormatted:s,calendarRows:x,selectedDate:d,getPrevMonth:()=>{c((e=>new Date(e.getFullYear(),e.getMonth()-1,1)))},getNextMonth:()=>{c((e=>new Date(e.getFullYear(),e.getMonth()+1,1)))},getDesiredData:e=>{c(new Date("".concat(e.month," ").concat(e.year)))},setSelectedDate:c}};var o=t(80184);const d=function(e){let{handleClick:n}=e;return(0,o.jsx)("div",{children:(0,o.jsx)("img",{className:"arrowicon",src:"/images/Input/arrow-left.svg",alt:"",onClick:n})})};const c=function(e){let{handleClick:n}=e;return(0,o.jsx)("div",{children:(0,o.jsx)("img",{className:"arrowicon",src:"/images/Input/arrow-right.svg",alt:"",onClick:n})})};var r=t(39230);const u={position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10},v=e=>{let{range:n,onClose:t,dateInput:a,setDateInput:i,datePickerPosition:v,isClose:h,isMultiple:_}=e;const{t:m}=(0,r.$G)(),{calendarRows:p,selectedDate:f,todayFormatted:x,daysShort:g,monthNames:j,getNextMonth:y,getPrevMonth:w,setSelectedDate:N}=s(),[C,b]=(0,l.useState)([]),[Z,S]=(0,l.useState)(0),[M,k]=(0,l.useState)({date:"",month:j[f.getMonth()],year:f.getFullYear().toString()}),[D,F]=(0,l.useState)([]),I=new Date;"".concat(I.getDate()<10?"0".concat(I.getDate()):I.getDate(),"/").concat(I.getMonth()+1<10?"0".concat(I.getMonth()+1):I.getMonth()+1,"/").concat(I.getFullYear());const A=function(){for(var e=(new Date).getFullYear(),n=e-70,t=[],l=e+30;l>=n;l--)t.push(l);return t}(),R=e=>{if(n)if(D.length>0&&D.includes(e)){const n=D.filter((function(n){return n!==e}));(e=>{F(e)})(n),b(n)}else(e=>{F((n=>[...n,e]))})(e),b((n=>[...n,e]));else F(e),i(e),h||setTimeout((()=>{!n&&t()}),100)},E=(new Date).getFullYear(),T=Math.ceil(A.length/12),Y=A.indexOf(E),L=Math.ceil(Y/12),[O,P]=(0,l.useState)(L),H=12*O,q=H-12,B=A.slice(q,H);return(0,l.useEffect)((()=>{n&&i(D)}),[D]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{onClick:t,style:u}),(0,o.jsxs)("div",{className:"datepickercontainer",style:{...v},children:[(0,o.jsxs)("div",{className:"calenderheader",children:[(0,o.jsxs)("div",{className:"calenderheaderleft",children:[(0,o.jsx)("h6",{className:"month",onClick:()=>S(1),children:"".concat(j[f.getMonth()])}),(0,o.jsxs)("div",{className:"yearcontainer",onClick:()=>S(2),children:[(0,o.jsx)("h6",{className:"year",children:"".concat(f.getFullYear())}),(0,o.jsx)("img",{className:"arrow",src:"/images/Input/dropdown-icon.svg",alt:""})]})]}),0===Z&&(0,o.jsxs)("div",{className:"calenderheaderright",children:[(0,o.jsx)(d,{handleClick:w}),(0,o.jsx)(c,{handleClick:y})]}),2===Z&&(0,o.jsxs)("div",{className:"calenderheaderright",children:[(0,o.jsx)(d,{handleClick:()=>{O>1&&P(O-1)}}),(0,o.jsx)(c,{handleClick:()=>{O<T&&P(O+1)}})]})]}),1===Z&&(0,o.jsx)("div",{className:"monthscontainer",children:j.map(((e,n)=>(0,o.jsx)("div",{className:"monththh",onClick:()=>{k({...M,month:e}),N(new Date("".concat(e," ").concat(M.year))),S(0)},children:e},n)))}),0===Z&&(0,o.jsxs)("table",{className:"table",children:[(0,o.jsx)("thead",{children:(0,o.jsx)("tr",{children:g.map((e=>(0,o.jsx)("th",{className:"day",children:e},e)))})}),(0,o.jsx)("tbody",{children:Object.values(p).map((e=>(0,o.jsx)("tr",{children:e.map((e=>e.date===x?(0,o.jsx)("td",{className:"".concat(e.classes," date"),onClick:()=>{R("".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(f.getMonth()+1<10?"0".concat(f.getMonth()+1):f.getMonth()+1,"/").concat(f.getFullYear()))},children:(0,o.jsx)("div",{className:D.includes("".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(f.getMonth()+1<10?"0".concat(f.getMonth()+1):f.getMonth()+1,"/").concat(f.getFullYear()))||a==="".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(f.getMonth()+1<10?"0".concat(f.getMonth()+1):f.getMonth()+1,"/").concat(f.getFullYear())?"".concat(e.classes," datediv  active"):"".concat(e.classes," datediv aaji"),children:e.value})},e.date):"in-prev-month"===e.classes||"in-next-month"===e.classes?(0,o.jsx)("td",{className:"".concat(e.classes," date"),children:(0,o.jsx)("div",{className:"".concat(e.classes," datediv "),children:e.value})},e.date):(0,o.jsx)("td",{className:"".concat(e.classes," date"),onClick:()=>R("".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(f.getMonth()+1<10?"0".concat(f.getMonth()+1):f.getMonth()+1,"/").concat(f.getFullYear())),children:(0,o.jsx)("div",{className:D.includes("".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(f.getMonth()+1<10?"0".concat(f.getMonth()+1):f.getMonth()+1,"/").concat(f.getFullYear()))?"".concat(e.classes," datediv  active"):"".concat(e.classes," datediv "),children:e.value})},e.date)))},e[0].date)))})]}),2===Z&&(0,o.jsx)("div",{className:"monthscontainer",children:B.map(((e,n)=>(0,o.jsx)("div",{className:E===e?" monthactive":" monththh",onClick:()=>{k({...M,year:e}),N(new Date("".concat(e," ").concat(M.month))),S(0)},children:e},n)))}),_&&(0,o.jsx)("div",{className:"multiple_select_btn",onClick:t,children:m("select")})]})]})}},59965:(e,n,t)=>{t.d(n,{Z:()=>o});var l=t(72791),a=t(38733),i=t(60233),s=t(80184);const o=e=>{let{customStyleContainer:n,labelText:t,errorShow:o,value:d,name:c,placeholder:r,onDateFunction:u,datePickerPosition:v,customStyleLabel:h,customStyleCaledarIcon:_,customStyleInput:m,isMultiple:p}=e;const[f,x]=(0,l.useState)(!1),g=()=>{x(!0)};return(0,s.jsxs)("div",{className:a.Z.join_form_container,style:{...n},children:[(0,s.jsxs)("label",{className:a.Z.join_form_label,htmlFor:c,style:{...h},children:[t," ",o&&(0,s.jsx)("span",{style:{color:"red",marginLeft:"15px"},children:"* required"})]}),(0,s.jsx)("input",{className:a.Z.join_form_input,type:"text",value:d,name:c,placeholder:r||"dd/mm/yyyy",onFocus:g,style:{...m}}),(0,s.jsx)("img",{className:a.Z.arrowIcon,src:"/images/Input/calendar.svg",alt:"calender icon",onClick:g,style:{..._}}),f&&(0,s.jsx)(i.Z,{datePickerPosition:v?{...v}:{top:"-17rem",left:"1rem",borderRadius:"0.375rem",paddingBottom:"0"},range:p,onClose:()=>x(!1),dateInput:d,setDateInput:u,isMultiple:p})]})}},90777:(e,n,t)=>{t.d(n,{Z:()=>o});t(72791);var l=t(39230),a=t(98094),i=t(78910),s=t(80184);const o=e=>{let{setIndex:n,ConfirmOffline:t}=e;const{t:o}=(0,l.$G)();return(0,s.jsxs)("div",{className:i.Z.process_modal,children:[(0,s.jsxs)("section",{className:i.Z.add_process_modal_title_left,children:[(0,s.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{n(1)},alt:""}),(0,s.jsx)("h6",{children:o("pay_fees_in_cash")})]}),(0,s.jsx)(a.Z,{customStyle:{width:"100%"}}),(0,s.jsxs)("section",{className:i.Z.process_description,children:[(0,s.jsx)("h6",{children:o("procedure_for_paying_in_cash")}),(0,s.jsxs)("p",{children:["1. ",o("visit_school")," "]}),(0,s.jsxs)("p",{children:["2. ",o("contact_admission_department")]}),(0,s.jsxs)("p",{children:["3. ",o("pay_fees_in_cash")]}),(0,s.jsxs)("p",{children:["4. ",o("your_admission_will_be_confirmed_and_fee")]})]}),(0,s.jsx)("button",{className:i.Z.pay_in_cash_btn,onClick:t,children:o("pay_in_cash")})]})}},51376:(e,n,t)=>{t.d(n,{Z:()=>v});var l=t(72791),a=t(11932),i=t(65379),s=t(32804),o=t(11105),d=t(73032),c=t(51561),r=t(98734),u=t(80184);const v=e=>{var n;let{viewAs:t,sudentAdmissionFeesList:v,sudentAdmissionFeesListRefetch:h,feesQueryRefetch:_,showingDataLoading:m,isFeesEditable:p}=e;const[f,x]=(0,l.useState)(!1),[g,j]=(0,l.useState)(""),[y,w]=(0,l.useState)(!1),[N,C]=(0,l.useState)({msg:"",run:!1}),[b]=(0,d.fB)(),Z=e=>{var n;w((e=>!e)),b({fid:null===e||void 0===e?void 0:e.financeId,aid:null===e||void 0===e||null===(n=e.install)||void 0===n?void 0:n.appId,flow:"Department"===(null===e||void 0===e?void 0:e.collectFlow)?"BY_DEPARTMENT":"BY_HOSTEL"}).then((n=>{var l,a;(w((e=>!e)),null!==n&&void 0!==n&&null!==(l=n.data)&&void 0!==l&&l.denied)?C({msg:"Before initiating payment. you must have a valid bank account to receive payment.",run:!0}):"STUDENT"===t&&null!==e&&void 0!==e&&null!==(a=e.install)&&void 0!==a&&a.isEnable&&(x(!0),j(e))})).catch({})};return(0,u.jsxs)("div",{className:s.Z.student_admission_fees_container,children:[null===v||void 0===v||null===(n=v.array)||void 0===n?void 0:n.map((e=>(0,u.jsx)(a.Z,{admission:e,viewAs:t,onAdmissionPaid:Z,onAdmissionFeesRefetch:h,renderPageAs:"STUDENT_PROFILE",is_feesdata:!0}))),f&&(0,u.jsx)(i.Z,{installment:g,onAdmissionFeesRefetch:h,onFeesRefetch:_,hideModal:x,addDisplay:f,isFeesEditable:p}),m&&(0,u.jsx)(o.Z,{}),(0,u.jsx)(c.Ch,{msg:N.msg,run:N.run,setRun:()=>C({msg:"",run:!1}),postiton:"bottom",type:"error"}),y&&(0,u.jsx)(r.Z,{})]})}},4195:(e,n,t)=>{t.d(n,{Z:()=>s});t(72791);var l=t(32804),a=t(39230),i=t(80184);const s=e=>{let{label:n,value:t,currentValue:s,onClick:o,customStyleContainer:d}=e;const{t:c}=(0,a.$G)();return(0,i.jsxs)("div",{className:t===s?"".concat(l.Z.student_fees_btn_container," ").concat(l.Z.student_fees_btn_container_active):l.Z.student_fees_btn_container,onClick:()=>o(s),style:d,children:[(0,i.jsx)("h6",{children:c(n)}),(0,i.jsx)("img",{src:"/images/studentclass/fees/fees_arrow_right.svg",alt:"arrow"})]})}},20662:(e,n,t)=>{t.d(n,{Z:()=>P});var l=t(72791),a=t(39230),i=t(23441),s=t(87338),o=t(10406),d=t(98094),c=t(11105),r=t(72426),u=t.n(r),v=t(27117),h=t(89891),_=t(28497),m=t(80214),p=t(98734),f=t(87932),x=t(97655),g=t(90777),j=t(24426),y=t(8395),w=t(38732),N=t(43118),C=t(51561),b=t(34478),Z=t(71439),S=t(64499),M=t(16871),k=t(36665),D=t(80184);const F={inputPxrops:{"aria-label":"Switch demo"}};const I=function(e){var n,t,i,o,d,c,r,u,I,A,R,E,T,Y,L,O,P,H,q,B,W,G,$,J,z,Q,K,U,V,X,ee,ne,te,le,ae,ie,se,oe,de,ce,re,ue,ve,he,_e,me,pe,fe,xe,ge,je,ye,we,Ne,Ce,be,Ze,Se,Me,ke,De,Fe,Ie,Ae,Re,Ee,Te;let{hideModal:Ye,statusQuery:Le,onRefetchApplication:Oe}=e;const{t:Pe}=(0,a.$G)(),He=(0,M.UO)(),[qe,Be]=(0,l.useState)(!1),[We,Ge]=(0,l.useState)(0),[$e,Je]=(0,l.useState)(!1),[ze,Qe]=(0,l.useState)(!1),[Ke,Ue]=(0,l.useState)(""),[Ve,Xe]=(0,l.useState)({amount:0,feesId:"",insId:"",type:"",installmentType:""}),[en,nn]=(0,l.useState)({msg:"",run:!1}),[tn,ln]=(0,l.useState)({fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:"",fee_payment_acknowledge:"",month:""}),{data:an}=(0,m.Rg)(),[sn]=(0,m.gt)(),[on]=(0,s.qr)(),{merchantId:dn,merchantIdRefetch:cn}=(0,f.Vc)({id:null===Le||void 0===Le||null===(n=Le.renewal_hostel)||void 0===n||null===(t=n.institute)||void 0===t?void 0:t._id,skip:!(null!==Le&&void 0!==Le&&null!==(i=Le.renewal_hostel)&&void 0!==i&&null!==(o=i.institute)&&void 0!==o&&o._id)});(0,l.useEffect)((()=>{var e,n;null!==Le&&void 0!==Le&&null!==(e=Le.renewal_hostel)&&void 0!==e&&null!==(n=e.institute)&&void 0!==n&&n._id&&cn()}),[null===Le||void 0===Le||null===(d=Le.renewal_hostel)||void 0===d||null===(c=d.institute)||void 0===c?void 0:c._id,cn]),(0,l.useEffect)((()=>{Xe((e=>{var n,t,l;return{...e,amount:null===Le||void 0===Le||null===(n=Le.renewal_student)||void 0===n||null===(t=n.hostel_fee_structure)||void 0===t||null===(l=t.one_installments)||void 0===l?void 0:l.fees}}))}),[]);const rn=e=>{const n={};return e||(n.month_re="is required!"),n},un=()=>{const e=rn(tn.month);let n=!1;for(let i in e)if(i){n=!0;break}if(n)Ue(e);else{var t,l;Qe(!0);var a={sid:null===Le||void 0===Le||null===(t=Le.renewal_student)||void 0===t?void 0:t._id,rid:null===Le||void 0===Le?void 0:Le._id,selectRenewal:2!==We?tn:{fee_payment_mode:"By Cash",month:tn.month}};""!==(null===Le||void 0===Le||null===(l=Le.renewal_student)||void 0===l?void 0:l._id)&&""!==(null===Le||void 0===Le?void 0:Le._id)&&on(a).then((e=>{e.data.status&&(Oe(),Qe(!1),Ye(!1))})).catch({})}};return(0,D.jsxs)(D.Fragment,{children:[!$e&&(0,D.jsxs)(k.Z,{onClose:()=>Ye(!1),children:[(0===We||1===We)&&(0,D.jsxs)("div",{className:v.Z.addDisplay,children:[(0,D.jsxs)("div",{className:v.Z.title,children:[(0,D.jsx)("div",{}),(0,D.jsx)("h6",{children:Pe("confirm_renewal")}),(0,D.jsx)("img",{src:"/images/close-post-icon.svg",onClick:()=>Ye(!1),alt:""})]}),(0,D.jsxs)("div",{className:v.Z.content,children:[(0,D.jsx)(x.Z,{labelText:Pe("stay_for_month"),placeholder:Pe("total_months_placeholder"),name:"month_re",value:null===tn||void 0===tn?void 0:tn.month,type:"text",onChange:e=>ln((n=>({...n,month:e.target.value}))),errorShow:Ke.month_re}),(0,D.jsxs)("div",{className:v.Z.tabsss,children:[(0,D.jsx)("div",{className:0===We?"".concat(v.Z.singletab," ").concat(v.Z.singletabActive):v.Z.singletab,onClick:()=>Ge(0),children:Pe("pay_online")}),(0,D.jsx)("div",{className:1===We?"".concat(v.Z.singletab," ").concat(v.Z.singletabActive):v.Z.singletab,onClick:()=>Ge(1),children:Pe("pay_offline")})]}),0===We&&(0,D.jsxs)("div",{children:[(0,D.jsxs)("div",{className:v.Z.singlerow,children:[(0,D.jsx)("h6",{children:Pe("admission_fees")}),(0,D.jsxs)("h6",{children:["Rs."," ",null!==(r=null===Le||void 0===Le||null===(u=Le.renewal_student)||void 0===u||null===(I=u.hostel_fee_structure)||void 0===I?void 0:I.total_admission_fees)&&void 0!==r?r:0]})]}),(0,D.jsxs)("div",{className:v.Z.singlerow,style:{marginTop:"1rem"},children:[(0,D.jsx)("h6",{children:Pe("applicable_fees_only")}),(0,D.jsxs)("h6",{children:["Rs."," ",null!==(A=null===Le||void 0===Le||null===(R=Le.renewal_student)||void 0===R||null===(E=R.hostel_fee_structure)||void 0===E?void 0:E.applicable_fees)&&void 0!==A?A:0]})]}),(0,D.jsx)("div",{className:v.Z.singlerow,children:(0,D.jsxs)("h6",{children:[Pe("fees_category")," "," : ",null!==(T=null===Le||void 0===Le||null===(Y=Le.renewal_student)||void 0===Y||null===(L=Y.hostel_fee_structure)||void 0===L||null===(O=L.category_master)||void 0===O?void 0:O.category_name)&&void 0!==T?T:""]})}),(0,D.jsx)("h6",{className:v.Z.fee_structure_note,children:Pe("fee_structure_note")}),(0,D.jsxs)("div",{className:v.Z.singlerow1,children:[(0,D.jsx)("h6",{children:Pe("pay_in_installment")}),(0,D.jsx)(h.Z,{...F,onChange:()=>{Be((e=>!e))}})]}),qe&&(0,D.jsxs)("div",{children:[(0,D.jsx)("div",{className:v.Z.borderr}),(0,D.jsxs)("div",{className:v.Z.singlerow1,children:[(0,D.jsx)("h6",{children:Pe("first_install")}),(0,D.jsxs)("h6",{children:["Rs."," ",null!==(P=null===Le||void 0===Le||null===(H=Le.renewal_student)||void 0===H||null===(q=H.hostel_fee_structure)||void 0===q||null===(B=q.one_installments)||void 0===B?void 0:B.fees)&&void 0!==P?P:0]})]})]}),(0,D.jsx)(x.Z,{labelText:Pe("enter_amount_to_be_paid"),name:"amount",type:"tel",value:Ve.amount,onChange:e=>{Xe((n=>({...n,amount:e.target.value})))},placeholder:Pe("please_enter_amount_paid")}),(0,D.jsx)("div",{className:v.Z.payandconfirmContainer,children:(0,D.jsx)("p",{className:v.Z.payandconfirm,children:Pe("pay_and_confirm")})}),(0,D.jsx)("div",{className:v.Z.btn,style:{cursor:"pointer"},onClick:()=>{var e;return(e=>{const n=rn(tn.month);let t=!1;for(let i in n)if(i){t=!0;break}var l,a;t?Ue(n):+Ve.amount>=(null===e||void 0===e||null===(l=e.one_installments)||void 0===l?void 0:l.fees)&&+Ve.amount<=(null===e||void 0===e?void 0:e.total_admission_fees)?(Xe({...Ve,type:"Admission",installmentType:qe?"one_installments":""}),Je(!0)):nn({msg:"Enter amount is not less than ".concat(null===e||void 0===e||null===(a=e.one_installments)||void 0===a?void 0:a.fees," or greater than ").concat(null===e||void 0===e?void 0:e.total_admission_fees),run:!0})})(null===Le||void 0===Le||null===(e=Le.renewal_student)||void 0===e?void 0:e.hostel_fee_structure)},children:Pe("pay_confirm")})]}),1===We&&(0,D.jsxs)("div",{children:[(0,D.jsxs)("div",{className:v.Z.singlerow,children:[(0,D.jsx)("h6",{children:Pe("admission_fees")}),(0,D.jsxs)("h6",{children:["Rs."," ",null!==(W=null===Le||void 0===Le||null===(G=Le.renewal_student)||void 0===G||null===($=G.hostel_fee_structure)||void 0===$?void 0:$.total_admission_fees)&&void 0!==W?W:0]})]}),(0,D.jsxs)("div",{className:v.Z.singlerow,style:{marginTop:"1rem"},children:[(0,D.jsx)("h6",{children:Pe("applicable_fees_only")}),(0,D.jsxs)("h6",{children:["Rs."," ",null!==(J=null===Le||void 0===Le||null===(z=Le.renewal_student)||void 0===z||null===(Q=z.hostel_fee_structure)||void 0===Q?void 0:Q.applicable_fees)&&void 0!==J?J:0]})]}),(0,D.jsx)("div",{className:v.Z.singlerow,children:(0,D.jsxs)("h6",{children:[Pe("fees_category")," "," : ",null!==(K=null===Le||void 0===Le||null===(U=Le.renewal_student)||void 0===U||null===(V=U.hostel_fee_structure)||void 0===V||null===(X=V.category_master)||void 0===X?void 0:X.category_name)&&void 0!==K?K:""]})}),(0,D.jsx)("h6",{className:v.Z.fee_structure_note,children:Pe("fee_structure_note")}),(null===Le||void 0===Le||null===(ee=Le.renewal_student)||void 0===ee||null===(ne=ee.hostel_fee_structure)||void 0===ne||null===(te=ne.one_installments)||void 0===te?void 0:te.fees)&&(0,D.jsxs)("div",{className:v.Z.singlerow1,children:[(0,D.jsx)("h6",{children:Pe("first_install")}),(0,D.jsxs)("h6",{children:["Rs."," ",null!==(le=null===Le||void 0===Le||null===(ae=Le.renewal_student)||void 0===ae||null===(ie=ae.hostel_fee_structure)||void 0===ie||null===(se=ie.one_installments)||void 0===se?void 0:se.fees)&&void 0!==le?le:0]})]}),(0,D.jsx)("div",{className:v.Z.borderr}),(0,D.jsx)("div",{className:v.Z.adholdcontainer,children:(0,D.jsx)("p",{className:v.Z.payandconfirm,children:Pe("admission_hold")})}),(0,D.jsx)(b.Z,{financeId:null!==(oe=null===Le||void 0===Le||null===(de=Le.renewal_hostel)||void 0===de||null===(ce=de.institute)||void 0===ce||null===(re=ce.financeDepart)||void 0===re?void 0:re[0])&&void 0!==oe?oe:"",setIndex:e=>{const n=rn(tn.month);let t=!1;for(let l in n)if(l){t=!0;break}t?Ue(n):Ge(e)},departmentId:null!==(ue=null===Le||void 0===Le||null===(ve=Le.renewal_hostel)||void 0===ve?void 0:ve._id)&&void 0!==ue?ue:"",flowAs:"Hostel"})]})]})]}),2===We&&(0,D.jsx)(g.Z,{setIndex:Ge,ConfirmOffline:un}),3===We&&(0,D.jsx)(j.Z,{financeId:null!==(he=null===Le||void 0===Le||null===(_e=Le.renewal_hostel)||void 0===_e||null===(me=_e.institute)||void 0===me||null===(pe=me.financeDepart)||void 0===pe?void 0:pe[0])&&void 0!==he?he:"",setIndex:Ge,setPayData:ln,payData:tn,ConfirmOffline:un,departmentId:null!==(fe=null===Le||void 0===Le||null===(xe=Le.renewal_hostel)||void 0===xe?void 0:xe._id)&&void 0!==fe?fe:"",flowAs:"Hostel",viewAs:"HOSTEL_RENEWAL"}),4===We&&(0,D.jsx)(y.Z,{financeId:null!==(ge=null===Le||void 0===Le||null===(je=Le.renewal_hostel)||void 0===je||null===(ye=je.institute)||void 0===ye||null===(we=ye.financeDepart)||void 0===we?void 0:we[0])&&void 0!==ge?ge:"",setIndex:Ge,setPayData:ln,payData:tn,ConfirmOffline:un,departmentId:null!==(Ne=null===Le||void 0===Le||null===(Ce=Le.renewal_hostel)||void 0===Ce?void 0:Ce._id)&&void 0!==Ne?Ne:"",flowAs:"Hostel",viewAs:"HOSTEL_RENEWAL"}),5===We&&(0,D.jsx)(w.Z,{financeId:null!==(be=null===Le||void 0===Le||null===(Ze=Le.renewal_hostel)||void 0===Ze||null===(Se=Ze.institute)||void 0===Se||null===(Me=Se.financeDepart)||void 0===Me?void 0:Me[0])&&void 0!==be?be:"",setIndex:Ge,setPayData:ln,payData:tn,ConfirmOffline:un,departmentId:null!==(ke=null===Le||void 0===Le||null===(De=Le.renewal_hostel)||void 0===De?void 0:De._id)&&void 0!==ke?ke:"",flowAs:"Hostel",viewAs:"HOSTEL_RENEWAL"}),6===We&&(0,D.jsx)(N.Z,{financeId:null!==(Fe=null===Le||void 0===Le||null===(Ie=Le.renewal_hostel)||void 0===Ie||null===(Ae=Ie.institute)||void 0===Ae||null===(Re=Ae.financeDepart)||void 0===Re?void 0:Re[0])&&void 0!==Fe?Fe:"",setIndex:Ge,setPayData:ln,payData:tn,ConfirmOffline:un,departmentId:null!==(Ee=null===Le||void 0===Le||null===(Te=Le.renewal_hostel)||void 0===Te?void 0:Te._id)&&void 0!==Ee?Ee:"",flowAs:"Hostel",viewAs:"HOSTEL_RENEWAL"}),ze&&(0,D.jsx)(p.Z,{})]}),$e&&(0,D.jsx)(Z.Z,{onClose:()=>Je(!1),allContent:Ve,checkoutAdmissionHandler:e=>{let n=2.1*+(null===Ve||void 0===Ve?void 0:Ve.amount)/100,t=n+18*+n/100;const l=parseInt(null===Ve||void 0===Ve?void 0:Ve.amount);var a,i,s,o,d={amount:Math.ceil(l+ +t.toFixed(2))};"PAYTM"===e?(0,S.Ex)({amount:+(null===Ve||void 0===Ve?void 0:Ve.amount),amount_nocharges:+d.amount,type:"Hostel",paidBy:"".concat(null===Le||void 0===Le||null===(a=Le.renewal_student)||void 0===a?void 0:a._id),paidTo:"".concat(null===Le||void 0===Le||null===(i=Le.renewal_hostel)||void 0===i||null===(s=i.institute)||void 0===s?void 0:s._id),moduleId:"".concat(null===Le||void 0===Le||null===(o=Le.renewal_application)||void 0===o?void 0:o._id),ad_status_id:"".concat(null===Le||void 0===Le?void 0:Le._id),payment_installment:Ve.installmentType,ad_install:qe,month:tn.month,payment_remain_1:null,payment_card_type:null,payment_book_id:null,name:He.username,isApk:"web",payment_card_id:null}).then((e=>{var n,t;window.onScriptLoad(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(t=n.body)||void 0===t?void 0:t.txnToken,null===e||void 0===e?void 0:e.order,null===e||void 0===e?void 0:e.amount)})).catch((e=>{console.info(e)})):null!==an&&void 0!==an&&an.Key&&null!==d&&void 0!==d&&d.amount?sn({amount:null===d||void 0===d?void 0:d.amount}).then((e=>{var n,t,l,a,i,s,o;null!==(n=e.data)&&void 0!==n&&n.success?(0,_.r)({key:null===an||void 0===an?void 0:an.Key,oid:null===(t=e.data)||void 0===t?void 0:t.order.id,amount_nocharge:100*(null===Ve||void 0===Ve?void 0:Ve.amount),amount:null===(l=e.data)||void 0===l?void 0:l.order.amount,type:"Hostel",pay_by:"".concat(null===Le||void 0===Le||null===(a=Le.renewal_student)||void 0===a?void 0:a._id),pay_to:"".concat(null===Le||void 0===Le||null===(i=Le.renewal_hostel)||void 0===i||null===(s=i.institute)||void 0===s?void 0:s._id),mid:"".concat(null===Le||void 0===Le||null===(o=Le.renewal_application)||void 0===o?void 0:o._id),razor_key:null===dn||void 0===dn?void 0:dn.key,razor_author:null===dn||void 0===dn?void 0:dn.bool,status:"".concat(null===Le||void 0===Le?void 0:Le._id),installment_type:Ve.installmentType,is_install:qe,h_month:tn.month}):console.log("data error")})).catch((e=>{console.log(e)})):console.log("error")}}),en.run&&(0,D.jsx)(C.Ch,{msg:en.msg,run:en.run,setRun:()=>nn({msg:"",run:!1}),postiton:"bottom",type:"error"})]})},A={addDisplay:"CancelStudentAdmisionModal_addDisplay__F2Wy6",title:"CancelStudentAdmisionModal_title__olnIk",content:"CancelStudentAdmisionModal_content__yn5Kq",contentRow:"CancelStudentAdmisionModal_contentRow__x+xXy",payLabel:"CancelStudentAdmisionModal_payLabel__GaOXQ",payInput:"CancelStudentAdmisionModal_payInput__o+M5l",payCardTop:"CancelStudentAdmisionModal_payCardTop__zvIDT",payCardContent:"CancelStudentAdmisionModal_payCardContent__8AG31",btn:"CancelStudentAdmisionModal_btn__f8vxs",btn2:"CancelStudentAdmisionModal_btn2__w7gOx",contentstatus:"CancelStudentAdmisionModal_contentstatus__qsBSH",payConfirmbtn:"CancelStudentAdmisionModal_payConfirmbtn__r23C0"};var R=t(5574),E=t(73032);const T=function(e){let{cancelStatus:n,hideModal:t,cancelData:a,fetch:i,setCancelStatus:o,viewAs:d}=e;const[c,r]=(0,l.useState)(""),[u]=(0,E.x9)(),[v]=(0,s.hj)(),[h]=(0,s.LJ)(),[_,m]=(0,l.useState)(!1);return(0,D.jsxs)(D.Fragment,{children:[!_&&(0,D.jsx)(R.Z,{open:n,onClose:()=>t(!1),children:(0,D.jsxs)("div",{className:"".concat(A.addDisplay," ").concat(A.cancelModal),children:[(0,D.jsx)("div",{className:A.title,children:"Not Accept Application ?"}),(0,D.jsx)("div",{className:A.content,children:(0,D.jsxs)("div",{className:A.payCard,children:[(0,D.jsxs)("label",{htmlFor:"Cancel",className:A.payLabel,children:["Type ",(0,D.jsx)("i",{children:"Cancel"})," for cancel ?"]}),(0,D.jsx)("input",{type:"text",name:"cancel",className:A.payInput,required:!0,placeholder:"Type Cancel here...",id:"Cancel",onChange:e=>r(e.target.value)}),"Cancel"===c?(0,D.jsx)("div",{className:A.btn,onClick:()=>{var e,n,t;null!==a&&void 0!==a&&a._id&&null!==a&&void 0!==a&&a.applicationId&&null!==a&&void 0!==a&&a.studentId&&"Cancel"===c&&(m(!0),"RENEWAL"===d?h({rid:null===a||void 0===a?void 0:a._id,sid:null===a||void 0===a||null===(e=a.renewal_student)||void 0===e?void 0:e._id}).then((()=>{i(),o(!1),m(!1)})).catch({}):"Hostel Application"===(null===a||void 0===a?void 0:a.flow_status)?v({status:null===a||void 0===a?void 0:a._id,appId:null===a||void 0===a||null===(n=a.applicationId)||void 0===n?void 0:n._id,sid:null===a||void 0===a?void 0:a.studentId}).then((()=>{i(),o(!1),m(!1)})).catch({}):u({status:null===a||void 0===a?void 0:a._id,appId:null===a||void 0===a||null===(t=a.applicationId)||void 0===t?void 0:t._id,sid:null===a||void 0===a?void 0:a.studentId}).then((e=>{e.data.cancel_status&&(i(),o(!1),m(!1))})).catch({}))},children:"Cancel"}):(0,D.jsx)("div",{className:A.btn2,children:"Cancel"})]})})]})}),_&&(0,D.jsx)(p.Z,{})]})};var Y=t(98760);const L=e=>{let{receipt:n,onClose:t,onRefetch:a,sid:i}=e;const[o,d]=(0,l.useState)({fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:"",fee_payment_acknowledge:""}),[c,r]=(0,l.useState)(!1),{getFeeReceiptDetail:u,getFeeReceiptDetailRefetch:v}=(0,E.$d)({rid:n,skip:!n}),[h]=(0,s.iw)();(0,l.useEffect)((()=>{n&&v()}),[n,v]),(0,l.useEffect)((()=>{var e,n,t,l,a,i,s,o;null!==u&&void 0!==u&&u.receipt&&d({fee_payment_mode:null===u||void 0===u||null===(e=u.receipt)||void 0===e?void 0:e.fee_payment_mode,fee_payment_amount:null===u||void 0===u||null===(n=u.receipt)||void 0===n?void 0:n.fee_payment_amount,transaction_date:null===u||void 0===u||null===(t=u.receipt)||void 0===t||null===(l=t.fee_transaction_date)||void 0===l?void 0:l.substr(0,10),fee_bank_name:null===u||void 0===u||null===(a=u.receipt)||void 0===a?void 0:a.fee_bank_name,fee_bank_holder:null===u||void 0===u||null===(i=u.receipt)||void 0===i?void 0:i.fee_bank_holder,fee_utr_reference:null===u||void 0===u||null===(s=u.receipt)||void 0===s?void 0:s.fee_utr_reference,fee_payment_acknowledge:null===u||void 0===u||null===(o=u.receipt)||void 0===o?void 0:o.fee_payment_acknowledge})}),[null===u||void 0===u?void 0:u.receipt]);return(0,D.jsxs)(k.Z,{onClose:t,children:[(0,D.jsx)("div",{style:{width:"30rem",maxHeight:"35rem",padding:"0.9rem",overflowX:"hidden",scrollBehavior:"smooth",overflowY:"auto"},children:(0,D.jsx)(Y.Z,{payData:o,setPayData:d,ConfirmOffline:()=>{var e;r((e=>!e)),h({rid:null===u||void 0===u||null===(e=u.receipt)||void 0===e?void 0:e._id,sid:i,receiptReapply:o}).then((()=>{a(),t(),r((e=>!e))})).catch({})},setOpenForm:t})}),c&&(0,D.jsx)(p.Z,{})]})},O=e=>{var n,t,i,s,d,c;let{renewal:r,onRefetch:v}=e;const{t:h}=(0,a.$G)(),[_,m]=(0,l.useState)(!1),[p,f]=(0,l.useState)(!1),[x,g]=(0,l.useState)(!1);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("div",{className:o.Z.student_renewal_card,children:[(0,D.jsx)("h6",{children:h("current_stay")}),(0,D.jsxs)("div",{className:o.Z.student_renewal_date,children:[(0,D.jsx)("p",{children:h("start_on")}),(0,D.jsx)("p",{children:u()(null===r||void 0===r?void 0:r.renewal_start).format("DD MMM yyyy")})]}),(0,D.jsxs)("div",{className:o.Z.student_renewal_date,children:[(0,D.jsx)("p",{children:h("expire_on")}),(0,D.jsx)("p",{children:u()(null===r||void 0===r?void 0:r.renewal_end).format("DD MMM yyyy")})]}),(0,D.jsxs)("p",{children:["Stay for"," ",null===r||void 0===r||null===(n=r.renewal_student)||void 0===n||null===(t=n.hostel_fee_structure)||void 0===t?void 0:t.structure_month," ","Months for fees info click here"]}),"Current Stay Request"===(null===r||void 0===r?void 0:r.renewal_status)&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("h6",{children:h("renewal_requested")}),(0,D.jsxs)("div",{className:o.Z.student_renewal_btn_group,children:[(0,D.jsx)("button",{className:o.Z.student_renewal_cancel_btn,onClick:()=>f(!0),children:h("cancel")}),(0,D.jsx)("button",{className:o.Z.student_renewal_confirm_btn,onClick:()=>m(!0),children:h("confirm")})]})]}),"Requested"===(null===r||void 0===r?void 0:r.receipt_status)&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("h6",{children:h("renewal_requested")}),(0,D.jsx)("div",{className:o.Z.student_renewal_btn_group,children:(0,D.jsx)("button",{className:o.Z.student_renewal_confirm_btn,style:{backgroundColor:"#B8B83E",width:"100%"},children:h("requested")})})]}),"Rejected"===(null===r||void 0===r?void 0:r.receipt_status)&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("h6",{children:h("renewal_requested")}),(0,D.jsxs)("div",{className:o.Z.student_renewal_date,style:{justifyContent:"flex-start"},children:[(0,D.jsxs)("p",{children:[h("reason")," "]}),(0,D.jsx)("p",{children:" : ".concat(null!==(i=null===r||void 0===r||null===(s=r.receipt)||void 0===s?void 0:s.reason)&&void 0!==i?i:"")})]}),(0,D.jsx)("div",{className:o.Z.student_renewal_btn_group,children:(0,D.jsx)("button",{className:o.Z.student_renewal_confirm_btn,style:{width:"100%"},onClick:()=>g(!0),children:h("re_apply_for_receipt")})})]})]}),x&&(0,D.jsx)(L,{receipt:null===r||void 0===r||null===(d=r.receipt)||void 0===d?void 0:d._id,onClose:()=>g(!1),onRefetch:v,sid:null===r||void 0===r||null===(c=r.renewal_student)||void 0===c?void 0:c._id}),_&&(0,D.jsx)(I,{addDisplay:_,hideModal:e=>m(e),statusQuery:r,onRefetchApplication:v}),p&&(0,D.jsx)(T,{cancelStatus:p,hideModal:e=>f(e),cancelData:r,fetch:v,setCancel:f,viewAs:"RENEWAL"})]})},P=e=>{let{sid:n,isProfile:t,isOther:r}=e;const{t:u}=(0,a.$G)(),[v,h]=(0,i.YD)(),[_,m]=(0,l.useState)(1),[p,f]=(0,l.useState)(!0),[x,g]=(0,l.useState)(!0),[j,y]=(0,l.useState)([]),[w,N]=(0,l.useState)(!1),{getRenewalListByStudent:C,getRenewalListByStudentRefetch:b}=(0,s.L8)({data:{sid:n,page:_,limit:10},skip:!n});(0,l.useEffect)((()=>{n&&(g(!0),b())}),[n,_,b]),(0,l.useEffect)((()=>{h&&p&&m((e=>e+1))}),[h,p]),(0,l.useEffect)((()=>{var e,n;w?(y(null===C||void 0===C?void 0:C.all_renewals),g(!1),N(!1)):null!==C&&void 0!==C&&C.all_renewals?(y((e=>{var n,t;return null===(n=[...new Set(null===(t=[...e,...null===C||void 0===C?void 0:C.all_renewals])||void 0===t?void 0:t.map(JSON.stringify))])||void 0===n?void 0:n.map(JSON.parse)})),g(!1)):0===(null===C||void 0===C||null===(n=C.all_renewals)||void 0===n?void 0:n.length)&&g(!1);10===(null===C||void 0===C||null===(e=C.all_renewals)||void 0===e?void 0:e.length)?f(!0):f(!1)}),[null===C||void 0===C?void 0:C.all_renewals]);const Z=()=>{m(1),N(!0),g(!0),b()};return(0,D.jsxs)(D.Fragment,{children:["VIEW_PROFILE"===t||r?"":(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{className:o.Z.with_search,children:(0,D.jsx)("h6",{children:u("stay_renewal")})}),(0,D.jsx)(d.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}})]}),null===j||void 0===j?void 0:j.map(((e,n)=>(null===j||void 0===j?void 0:j.length)===n+1?(0,D.jsx)("div",{ref:v,children:(0,D.jsx)(O,{renewal:e,onRefetch:Z})},null===e||void 0===e?void 0:e._id):(0,D.jsx)(O,{renewal:e,onRefetch:Z},null===e||void 0===e?void 0:e._id))),x&&(0,D.jsx)(c.Z,{})]})}}}]);
//# sourceMappingURL=11148.63f8b586.chunk.js.map