"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[4203],{75717:(e,o,t)=>{t.d(o,{Z:()=>v});var i=t(72791),l=t(95048),n=t(47782),s=t(80184);const r=i.lazy((()=>Promise.all([t.e(5574),t.e(81296),t.e(89891),t.e(31510),t.e(11968),t.e(96710),t.e(79404)]).then(t.bind(t,79404)))),d=i.lazy((()=>t.e(70630).then(t.bind(t,70630)))),u=i.lazy((()=>t.e(46150).then(t.bind(t,46150)))),a=i.lazy((()=>t.e(73560).then(t.bind(t,73560)))),v=e=>{let{post:o,profilePost:t,allPosts:v}=e;const c=(0,l.v9)((e=>e.idChange)),[f,p]=(0,i.useState)(t&&(null===c||void 0===c?void 0:c.id)===(null===o||void 0===o?void 0:o.author)?"Poll"===(null===o||void 0===o?void 0:o.postType)||"Question"===(null===o||void 0===o?void 0:o.postType)?["post_delete","turn_off_comment"]:["post_visibility","post_delete","turn_off_comment"]:["post_unfollow"]);return(0,i.useEffect)((()=>{(null===c||void 0===c?void 0:c.id)===(null===o||void 0===o?void 0:o.author)&&("Poll"===(null===o||void 0===o?void 0:o.postType)||"Question"===(null===o||void 0===o?void 0:o.postType)?p(["post_delete","turn_off_comment"]):p(["post_visibility","post_delete","turn_off_comment"]))}),[null===o||void 0===o?void 0:o.author,null===c||void 0===c?void 0:c.id,null===o||void 0===o?void 0:o.postType]),(0,s.jsxs)(i.Suspense,{fallback:(0,s.jsx)(n.Z,{}),children:["Post"===(null===o||void 0===o?void 0:o.postType)&&(0,s.jsx)(r,{post:o,profilePost:t,allPosts:v,selectOptions:f}),"Poll"===(null===o||void 0===o?void 0:o.postType)&&(0,s.jsx)(d,{post:o,profilePost:t,allPosts:v,selectOptions:f}),"Question"===(null===o||void 0===o?void 0:o.postType)&&(0,s.jsx)(u,{post:o,profilePost:t,allPosts:v,selectOptions:f}),"Announcement"===(null===o||void 0===o?void 0:o.postType)&&(0,s.jsx)(a,{post:o,profilePost:t,allPosts:v,selectOptions:f})]})}},4203:(e,o,t)=>{t.r(o),t.d(o,{default:()=>c});var i=t(72791),l=t(9447),n=t(95048),s=t(23441),r=t(70092),d=t(16256),u=t(75717),a=t(47782),v=t(80184);const c=function(e){var o,t,c,f,p,h,P;let{profilePost:y}=e;const g=(0,n.v9)((e=>e.idChange)),b=(0,n.v9)((e=>e.postChange)),m=(0,n.I0)(),[w,_]=(0,i.useState)(!0),[j,k]=(0,s.YD)(),[x,V]=(0,i.useState)(!0),[S,O]=(0,i.useState)(1),{allProfilePost:T,allProfilePostRefetch:C}=(0,l.N0)({data:{id:null===g||void 0===g||null===(o=g.searchProfile)||void 0===o?void 0:o.id,page:S,limit:10,viewAs:d.UJ},skip:!y||!(null!==g&&void 0!==g&&null!==(t=g.searchProfile)&&void 0!==t&&t.id)});return(0,i.useEffect)((()=>{var e;null!==g&&void 0!==g&&null!==(e=g.searchProfile)&&void 0!==e&&e.id&&(m(r.p.removeSearchPost({search:[]})),O(1),V(!0))}),[m,null===g||void 0===g||null===(c=g.searchProfile)||void 0===c?void 0:c.id]),(0,i.useEffect)((()=>{k&&x&&y&&O((e=>e+1))}),[k,y,x]),(0,i.useEffect)((()=>{var e;null!==g&&void 0!==g&&null!==(e=g.searchProfile)&&void 0!==e&&e.id&&C()}),[S,null===g||void 0===g||null===(f=g.searchProfile)||void 0===f?void 0:f.id,y,C]),(0,i.useEffect)((()=>{var e,o;m(r.p.addPost({post:y&&(null===T||void 0===T||null===(e=T.post)||void 0===e||null===(o=e[0])||void 0===o?void 0:o.author)===(null===g||void 0===g?void 0:g.searchProfile.id)?null===T||void 0===T?void 0:T.post:[],profilePost:y?"search":"dash"})),10===(null===T||void 0===T?void 0:T.post.length)?V(!0):V(!1)}),[null===T||void 0===T?void 0:T.post,m,y,null===g||void 0===g||null===(p=g.searchProfile)||void 0===p?void 0:p.id]),(0,i.useEffect)((()=>{setTimeout((()=>{_(!1)}),3e3)}),[]),(0,v.jsx)("div",{children:null!==b&&void 0!==b&&null!==(h=b.searchPosts)&&void 0!==h&&h.length||!y||!w?null===b||void 0===b||null===(P=b.searchPosts)||void 0===P?void 0:P.map(((e,o)=>{var t;return(null===b||void 0===b||null===(t=b.searchPosts)||void 0===t?void 0:t.length)===o+1?(0,v.jsx)("div",{ref:j,children:(0,v.jsx)(u.Z,{post:e,profilePost:y,allPosts:[]})},o):(0,v.jsx)(u.Z,{post:e,profilePost:y,allPosts:[]},o)})):(0,v.jsx)(a.Z,{})})}},47782:(e,o,t)=>{t.d(o,{Z:()=>n});t(72791);var i=t(11575),l=t(80184);const n=()=>(0,l.jsx)("div",{className:i.Z.loaderGif,children:(0,l.jsx)("img",{src:"/images/loader/loader.gif",alt:"for load an items"})})},23441:(e,o,t)=>{t.d(o,{YD:()=>c});var i=t(72791),l=Object.defineProperty,n=(e,o,t)=>(((e,o,t)=>{o in e?l(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t})(e,"symbol"!==typeof o?o+"":o,t),t),s=new Map,r=new WeakMap,d=0,u=void 0;function a(e){return Object.keys(e).sort().filter((o=>void 0!==e[o])).map((o=>{return"".concat(o,"_").concat("root"===o?(t=e.root)?(r.has(t)||(d+=1,r.set(t,d.toString())),r.get(t)):"0":e[o]);var t})).toString()}function v(e,o){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u;if("undefined"===typeof window.IntersectionObserver&&void 0!==i){const l=e.getBoundingClientRect();return o(i,{isIntersecting:i,target:e,intersectionRatio:"number"===typeof t.threshold?t.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:l,observer:n,elements:r}=function(e){let o=a(e),t=s.get(o);if(!t){const i=new Map;let l;const n=new IntersectionObserver((o=>{o.forEach((o=>{var t;const n=o.isIntersecting&&l.some((e=>o.intersectionRatio>=e));e.trackVisibility&&"undefined"===typeof o.isVisible&&(o.isVisible=n),null==(t=i.get(o.target))||t.forEach((e=>{e(n,o)}))}))}),e);l=n.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),t={id:o,observer:n,elements:i},s.set(o,t)}return t}(t);let d=r.get(e)||[];return r.has(e)||r.set(e,d),d.push(o),n.observe(e),function(){d.splice(d.indexOf(o),1),0===d.length&&(r.delete(e),n.unobserve(e)),0===r.size&&(n.disconnect(),s.delete(l))}}i.Component;function c(){let{threshold:e,delay:o,trackVisibility:t,rootMargin:l,root:n,triggerOnce:s,skip:r,initialInView:d,fallbackInView:u,onChange:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var c;const[f,p]=i.useState(null),h=i.useRef(),[P,y]=i.useState({inView:!!d,entry:void 0});h.current=a,i.useEffect((()=>{if(r||!f)return;let i;return i=v(f,((e,o)=>{y({inView:e,entry:o}),h.current&&h.current(e,o),o.isIntersecting&&s&&i&&(i(),i=void 0)}),{root:n,rootMargin:l,threshold:e,trackVisibility:t,delay:o},u),()=>{i&&i()}}),[Array.isArray(e)?e.toString():e,f,n,l,s,r,t,u,o]);const g=null==(c=P.entry)?void 0:c.target,b=i.useRef();f||!g||s||r||b.current===g||(b.current=g,y({inView:!!d,entry:void 0}));const m=[p,P.inView,P.entry];return m.ref=m[0],m.inView=m[1],m.entry=m[2],m}}}]);
//# sourceMappingURL=4203.fe4afe71.chunk.js.map