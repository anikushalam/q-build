{"version":3,"file":"static/js/21723.6daee7da.chunk.js","mappings":"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","sources":["optimized/UserStaffMember/StaffLeave/StaffCOffLeave/StaffCOffLeave.jsx"],"sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\nimport style from \"../../FinanceManager/FinanceManager.module.css\";\nimport { useInView } from \"react-intersection-observer\";\nimport { nextPage } from \"../../../Utils/Functions/nextPage\";\nimport { customDebounce } from \"../../../Utils/Functions/debounce\";\nimport QvipleLoader from \"../../../Loader/QvipleLoader\";\nimport Loading from \"../../../Loader/Loading\";\nimport EmptyMessage from \"../../../Utils/EmptyMessage/EmptyMessage\";\nimport { useLmsStaffRequestLeaveList } from \"../../../Hooks/ApiHooks/LmsManager/lms-manager-api\";\nimport { useTranslation } from \"react-i18next\";\nimport { assestsNavbarUrl } from \"../../../Services/UrlConfig/AssestsBaseUrl\";\nimport CreateButton from \"../../../Ui/Button/CreateButton\";\nimport StaffLeaveRequestCard from \"../StaffLeaveRequest/StaffLeaveRequestCard\";\nimport StaffNewLeaveRequest from \"../StaffLeaveRequest/StaffNewLeaveRequest\";\n\nconst StaffCOffLeave = ({ sid }) => {\n  const { t } = useTranslation();\n  const [search, setSearch] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [state, setState] = useState(true);\n  const [ref, inView] = useInView({ skip: search });\n  const [addRequest, setAddRequest] = useState(false);\n\n  const {\n    lmsStaffRequestLeaveList,\n    lmsStaffRequestLeaveListLoading,\n    lmsStaffRequestLeaveListRefetch,\n  } = useLmsStaffRequestLeaveList({\n    data: {\n      sid: sid,\n      page: page,\n      limit: 10,\n      search: search,\n      category: \"Compensation Off Leave\",\n    },\n    skip: !sid,\n  });\n  useEffect(() => {\n    if (inView && state) setPage((page) => page + 1);\n  }, [inView, state]);\n  useEffect(() => {\n    if (lmsStaffRequestLeaveList?.list?.length) {\n      let obj = nextPage(lmsStaffRequestLeaveList?.list?.length);\n      setState(() => obj);\n    }\n  }, [lmsStaffRequestLeaveList?.list]);\n\n  const onDebounce = useCallback(\n    customDebounce((val) => {\n      setPage(() => 1);\n      setSearch(val);\n    }, 1500),\n    []\n  );\n\n  const onSearchEvent = (e) => {\n    if (e.target.value) onDebounce(e.target.value);\n    else {\n      setPage(() => 1);\n      setSearch(\"\");\n    }\n  };\n\n  const onToggle = () => {\n    setAddRequest((pre) => !pre);\n  };\n  const onRefetch = useCallback(() => {\n    setPage(() => 1);\n    setSearch(\"\");\n    lmsStaffRequestLeaveListRefetch();\n  }, [lmsStaffRequestLeaveListRefetch]);\n\n  return (\n    <>\n      <div\n        className={style.fm_search_full}\n        style={{\n          marginBottom: \"0.7rem\",\n        }}\n      >\n        <section\n          className={style.fm_search_full_container}\n          style={{\n            justifyContent: \"space-between\",\n            gap: \"1rem\",\n          }}\n        >\n          <div\n            className={style.fm_search_full_container_inner}\n            style={{\n              width: \"76%\",\n            }}\n          >\n            <img\n              className={style.fm_search_full_icon}\n              alt=\"search icon\"\n              src={`${assestsNavbarUrl}/navbar-search.svg`}\n            />\n            <input\n              type=\"text\"\n              placeholder={t(\"search\")}\n              onChange={onSearchEvent}\n            />\n          </div>\n          <CreateButton\n            label={t(\"request_c_off_leave\")}\n            customStyle={{\n              margin: \"0\",\n              padding: \"0.4rem 1rem\",\n            }}\n            onAction={onToggle}\n          />\n        </section>\n      </div>\n      {lmsStaffRequestLeaveList?.list?.map((leave, index) =>\n        lmsStaffRequestLeaveList?.list?.length === index + 1 ? (\n          <div key={leave?._id} ref={ref}>\n            <StaffLeaveRequestCard leave={leave} onRefetch={onRefetch} />\n          </div>\n        ) : (\n          <StaffLeaveRequestCard\n            leave={leave}\n            key={leave?._id}\n            onRefetch={onRefetch}\n          />\n        )\n      )}\n      {lmsStaffRequestLeaveListLoading ? (\n        search ? (\n          <QvipleLoader />\n        ) : (\n          <Loading />\n        )\n      ) : search ? (\n        lmsStaffRequestLeaveList?.list?.length === 0 && (\n          <EmptyMessage title=\"No manage c-off request found related this search.\" />\n        )\n      ) : (\n        lmsStaffRequestLeaveList?.list?.length === 0 && (\n          <EmptyMessage title=\"No manage c-off request.\" />\n        )\n      )}\n      {addRequest && (\n        <StaffNewLeaveRequest\n          onClose={onToggle}\n          sid={sid}\n          onRefetch={onRefetch}\n          createdBy=\"Coff\"\n        />\n      )}\n    </>\n  );\n};\n\nexport default StaffCOffLeave;\n"],"names":["_ref","_lmsStaffRequestLeave3","_lmsStaffRequestLeave5","_lmsStaffRequestLeave6","sid","t","useTranslation","search","setSearch","useState","page","setPage","state","setState","ref","inView","useInView","skip","addRequest","setAddRequest","lmsStaffRequestLeaveList","lmsStaffRequestLeaveListLoading","lmsStaffRequestLeaveListRefetch","useLmsStaffRequestLeaveList","data","limit","category","useEffect","_lmsStaffRequestLeave","list","length","_lmsStaffRequestLeave2","obj","nextPage","onDebounce","useCallback","customDebounce","val","onToggle","pre","onRefetch","_jsxs","_Fragment","children","_jsx","className","style","fm_search_full","marginBottom","fm_search_full_container","justifyContent","gap","fm_search_full_container_inner","width","fm_search_full_icon","alt","src","concat","assestsNavbarUrl","type","placeholder","onChange","e","target","value","CreateButton","label","customStyle","margin","padding","onAction","map","leave","index","_lmsStaffRequestLeave4","StaffLeaveRequestCard","_id","QvipleLoader","Loading","EmptyMessage","title","StaffNewLeaveRequest","onClose","createdBy"],"sourceRoot":""}