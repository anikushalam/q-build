"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[30659],{30659:function(t,e,i){i.r(e),i.d(e,{default:function(){return k}});var s=i(29439),n=i(72791),l="Complaints_complaints__zd0mi",a="Complaints_complaintList__Pq+6z",o="Complaints_complaintDetail__0vmvY",d="ComplaintList_complaintList__s9Lgh",c="ComplaintList_listHead__t2Q9h",u=i(39230),v=i(1413),m="UnsolvedList_list__lirzT",r="UnsolvedList_item__zWK-2",f="UnsolvedList_datetime__gJbcW",p="UnsolvedList_item_active__Rwnuz",h=i(6245),S=i(95048),_=i(72426),x=i.n(_),j=i(80184),C=function(t){var e,i,s,n,l=t.complaint,a=t.setComplaintId,o=t.setShowDetails,d=t.complaintId;return(0,j.jsxs)("div",{className:d===(null===l||void 0===l?void 0:l._id)?"".concat(r," ").concat(p):r,onClick:function(){return t=null===l||void 0===l?void 0:l._id,a(t),void o(!0);var t},children:[(0,j.jsx)("img",{src:"/images/complainIcon.svg",alt:"compalint avatar"}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h6",{children:"".concat(null===l||void 0===l||null===(e=l.student)||void 0===e?void 0:e.studentFirstName," ").concat(null!==l&&void 0!==l&&null!==(i=l.student)&&void 0!==i&&i.studentMiddleName?null===l||void 0===l||null===(s=l.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null===l||void 0===l||null===(n=l.student)||void 0===n?void 0:n.studentLastName)}),(0,j.jsxs)("div",{className:f,children:[(0,j.jsxs)("p",{children:[x()(null===l||void 0===l?void 0:l.createdAt).format("LL"),","]}),(0,j.jsx)("p",{children:x()(null===l||void 0===l?void 0:l.createdAt).format("LT")})]})]})]})},I=i(11105);var L=function(t){var e,i=t.setComplaintId,l=t.setShowDetails,a=t.complaintId,o=t.refetchStatus,d=t.setRefetchStatus,c=(0,S.v9)((function(t){return t.idChange.id})),u=(0,n.useState)(!0),r=(0,s.Z)(u,2),f=r[0],p=r[1],_=(0,h.bb)({data:{id:c,status:"Unsolved"},skip:!c}),x=_.studentComplaintList,L=_.studentComplaintListRefetch;return(0,n.useEffect)((function(){(c||o.unsolved)&&(p(!0),L(),d((function(t){return(0,v.Z)((0,v.Z)({},t),{},{unsolved:!1})})))}),[c,o.unsolved,L]),(0,n.useEffect)((function(){null!==x&&void 0!==x&&x.complaints&&p(!1)}),[null===x||void 0===x?void 0:x.complaints]),(0,n.useEffect)((function(){setTimeout((function(){return p(!1)}),2e3)}),[]),(0,j.jsxs)("div",{className:m,children:[null===x||void 0===x||null===(e=x.complaints)||void 0===e?void 0:e.map((function(t,e){return(0,j.jsx)(C,{setComplaintId:i,setShowDetails:l,complaint:t,complaintId:a},e)})),f&&(0,j.jsx)(I.Z,{})]})};var w=function(t){var e,i=t.setComplaintId,l=t.setShowDetails,a=t.complaintId,o=t.refetchStatus,d=t.setRefetchStatus,c=(0,S.v9)((function(t){return t.idChange.id})),u=(0,n.useState)(!0),r=(0,s.Z)(u,2),f=r[0],p=r[1],_=(0,h.bb)({data:{id:c,status:"Solved"},skip:!c}),x=_.studentComplaintList,L=_.studentComplaintListRefetch;return(0,n.useEffect)((function(){(c||o.solved)&&(p(!0),L(),d((function(t){return(0,v.Z)((0,v.Z)({},t),{},{solved:!1})})))}),[c,o.solved,L]),(0,n.useEffect)((function(){null!==x&&void 0!==x&&x.complaints&&p(!1)}),[null===x||void 0===x?void 0:x.complaints]),(0,n.useEffect)((function(){setTimeout((function(){return p(!1)}),2e3)}),[]),(0,j.jsxs)("div",{className:m,children:[null===x||void 0===x||null===(e=x.complaints)||void 0===e?void 0:e.map((function(t,e){return(0,j.jsx)(C,{setComplaintId:i,setShowDetails:l,complaint:t,complaintId:a},e)})),f&&(0,j.jsx)(I.Z,{})]})},Z=i(47167),N=i(98094);var b=function(t){var e=t.setComplaintId,i=t.setShowDetails,l=t.complaintId,a=t.refetchStatus,o=t.setRefetchStatus,v=(0,u.$G)().t,m=(0,n.useState)(0),r=(0,s.Z)(m,2),f=r[0],p=r[1],h=[{name:v("unsolved"),id:0},{name:v("solved"),id:1}];return(0,j.jsx)("div",{className:d,children:(0,j.jsxs)("div",{className:c,children:[(0,j.jsx)(Z.Z,{tabList:h,activeIndexTab:f,setActiveIndexTab:p,customStyleTab:{width:"100%"}}),(0,j.jsx)(N.Z,{customStyle:{width:"100%"}}),0===f&&(0,j.jsx)(L,{setShowDetails:i,setComplaintId:e,complaintId:l,setRefetchStatus:o,refetchStatus:a}),1===f&&(0,j.jsx)(w,{setShowDetails:i,setComplaintId:e,complaintId:l,setRefetchStatus:o,refetchStatus:a})]})})},D=i(35395),R=n.lazy((function(){return i.e(81380).then(i.bind(i,81380))}));var k=function(){var t=(0,n.useState)(""),e=(0,s.Z)(t,2),i=e[0],d=e[1],c=(0,n.useState)(!1),u=(0,s.Z)(c,2),v=u[0],m=u[1],r=(0,n.useState)(!1),f=(0,s.Z)(r,2),p=f[0],h=f[1];return(0,j.jsxs)("div",{className:l,children:[(0,j.jsx)("div",{className:a,children:(0,j.jsx)(b,{setShowDetails:m,setComplaintId:d,complaintId:i,setRefetchStatus:h,refetchStatus:p})}),(0,j.jsx)("div",{className:o,children:v&&(0,j.jsx)(D.Z,{children:(0,j.jsx)(R,{setShowDetails:m,complaintId:i,setRefetchStatus:h})})})]})}}}]);
//# sourceMappingURL=30659.d34fcdc6.chunk.js.map