(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[34446],{85303:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>D});var n=t(63687),s=t(21348),i=t(72791),a=t(39230),d=t(23441),o=t(56959),c=t(90904),r=t(98684),u=t(57588),v=t(91427),h=t(6758);const m="FinanceAllStudent_student_table__Y3uXE",_="FinanceAllStudent_student_table_header__4fuiU",x="FinanceAllStudent_student_table_header_label__4x6eY",f="FinanceAllStudent_student_table_content_card__3KWaE",j="FinanceAllStudent_student_table_profile__QUIFN",p="FinanceAllStudent_student_table_header_name__x4ZNJ",g="FinanceAllStudent_student_table_header_label_text__lny-H",N="FinanceAllStudent_student_table_contact__f4eB5",Z="FinanceAllStudent_student_table_contact_email__dV19L",S="FinanceAllStudent_student_table_contact_number__r7HNK";var y=t(80184);const b=e=>{let{studentAlias:l}=e;const{t:t}=(0,a.$G)();return(0,y.jsx)("div",{className:m,children:(0,y.jsxs)("div",{className:_,children:[(0,y.jsx)("p",{className:x,style:{flex:"1"},children:null!==l&&void 0!==l?l:t("gr_no")}),(0,y.jsx)("p",{className:x,style:{flex:"3"},children:t("name")}),(0,y.jsx)("p",{className:x,style:{flex:"2"},children:t("contact_number")}),(0,y.jsx)("p",{className:x,style:{flex:"1"},children:t("applicable_outs")}),(0,y.jsx)("p",{className:x,style:{flex:"0.7"},children:t("govt_oustanding")})]})})};var I=t(1095),A=t(16871),C=t(43504);const F=e=>{var l,t,n,s,i,a,d,o,u,v;let{student:h,messageId:m,headId:_,instituteId:b,allStudentControl:F}=e;const Y=(0,A.UO)(),k=(0,A.TH)();return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(C.rU,{to:"/q/".concat(Y.username,"/member/student/admission/profile"),state:{...k.state,sid:null===h||void 0===h?void 0:h._id,messageId:m,headId:_,instituteId:b,collectAccess:null===F||void 0===F?void 0:F.collectAccess,govtAccess:null===F||void 0===F?void 0:F.govtAccess,cancelAccess:null===F||void 0===F?void 0:F.cancelAccess,editStructureControl:null===F||void 0===F?void 0:F.editStructureControl,editGovtNumberContorl:null===F||void 0===F?void 0:F.editGovtNumberContorl,editInstallmentControl:null===F||void 0===F?void 0:F.editInstallmentControl,editGovtInstallmentControl:null===F||void 0===F?void 0:F.editGovtInstallmentControl,viewAs:"Institute"===(null===(l=k.state)||void 0===l?void 0:l.urlOffSet)?"INSTITUTE":null},children:[(0,y.jsxs)("div",{className:f,style:{cursor:"pointer"},children:[(0,y.jsx)("p",{className:x,style:{flex:"1"},children:null!==(t=null===h||void 0===h?void 0:h.studentGRNO)&&void 0!==t?t:""}),(0,y.jsxs)("div",{className:j,style:{flex:"3"},children:[(0,y.jsx)("img",{src:null!==h&&void 0!==h&&h.studentProfilePhoto?"".concat(I.yI,"/").concat(null===h||void 0===h?void 0:h.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,y.jsxs)("div",{children:[(0,y.jsxs)("p",{className:p,children:["".concat(null!==(n=null===h||void 0===h?void 0:h.studentFirstName)&&void 0!==n?n:""," ").concat(null!==(s=null===h||void 0===h?void 0:h.studentMiddleName)&&void 0!==s?s:""," ").concat(null!==(i=null===h||void 0===h?void 0:h.studentLastName)&&void 0!==i?i:""),"100"===(null===h||void 0===h?void 0:h.profile_percentage)||100===(null===h||void 0===h?void 0:h.profile_percentage)?(0,y.jsx)("img",{src:"".concat(r.Fk,"/complete.svg"),loading:"lazy",alt:"avatar",style:{marginLeft:"0.6rem",height:"1rem"}}):null]}),(0,y.jsx)("p",{className:g,children:null!==(a=null===h||void 0===h||null===(d=h.studentClass)||void 0===d?void 0:d.classTitle)&&void 0!==a?a:""})]})]}),(0,y.jsxs)("div",{className:x,style:{flex:"2"},children:[(0,y.jsxs)("div",{className:N,children:[(0,y.jsx)("img",{src:"".concat(r.Fk,"/gender.svg"),alt:"gender icon"}),(0,y.jsx)("p",{className:Z,children:null===h||void 0===h?void 0:h.studentGender})]}),(0,y.jsxs)("div",{className:N,style:{marginTop:"0.4rem"},children:[(0,y.jsx)("img",{src:"".concat(r.Fk,"/phone.svg"),alt:"phone icon"}),(0,y.jsx)("p",{className:S,children:null!==h&&void 0!==h&&h.user.userPhoneNumber?null===h||void 0===h?void 0:h.user.userPhoneNumber:null!==(o=null===h||void 0===h?void 0:h.user.userEmail)&&void 0!==o?o:""})]})]}),(0,y.jsx)("p",{className:x,style:{flex:"1",textAlign:"right"},children:null!==(u=null===h||void 0===h?void 0:h.applicable_fees_pending)&&void 0!==u?u:0}),(0,y.jsx)("p",{className:x,style:{flex:"0.7",textAlign:"right"},children:null!==(v=null===h||void 0===h?void 0:h.government_fees_pending)&&void 0!==v?v:0})]}),(0,y.jsx)(c.Z,{customStyleBorder:{margin:"0"}})]})})};var Y=t(55336),k=t(1669),M=t(2651);const D=e=>{var l,t,m,_,x;let{instituteId:f,studentAlias:j,headId:p,messageId:g,invalidateAccess:N,allStudentControl:Z}=e;const{t:S}=(0,a.$G)(),[I,A]=(0,i.useState)(""),[C,D]=(0,i.useState)(1),[L,E]=(0,i.useState)(!0),[G,J]=(0,d.YD)({skip:I}),{instituteAllStudent:B,instituteAllStudentLoading:w}=(0,h.Cp)({data:{id:f,page:C,limit:10,search:I},skip:!f});(0,i.useEffect)((()=>{J&&L&&D((e=>e+1))}),[J,L]),(0,i.useEffect)((()=>{if(null!==B&&void 0!==B&&B.list){var e;let l=(0,v.f)(null===B||void 0===B||null===(e=B.list)||void 0===e?void 0:e.length);E((()=>l))}}),[null===B||void 0===B?void 0:B.list]);const H=(0,i.useCallback)((0,u.J)((e=>{D((()=>1)),A(e)}),1500),[]),q=e=>{e.target.value?w||H(e.target.value):(D((()=>1)),A(""))};return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(n.Z,{customStyle:{border:T[N]?"none":"0.5px solid #cacaca"},children:[T[N]?(0,y.jsx)(s.Z,{children:(0,y.jsx)("div",{className:o.Z.fm_search_full,children:(0,y.jsx)("section",{className:o.Z.fm_search_full_container,children:(0,y.jsxs)("div",{className:o.Z.fm_search_full_container_inner,children:[(0,y.jsx)("img",{className:o.Z.fm_search_full_icon,alt:"search icon",src:"".concat(r.dB,"/navbar-search.svg")}),(0,y.jsx)("input",{type:"text",placeholder:S("search"),onChange:q,disabled:!(I||(null===B||void 0===B||null===(l=B.list)||void 0===l?void 0:l.length)>0)})]})})})}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(s.Z,{children:(0,y.jsxs)("div",{className:o.Z.fm_header_container,children:[(0,y.jsx)("h6",{children:S("all_students")}),(0,y.jsx)("div",{className:o.Z.fm_both_filter,children:(0,y.jsx)("div",{className:o.Z.fm_search,children:(0,y.jsx)("section",{className:o.Z.fm_search_container,children:(0,y.jsxs)("div",{className:o.Z.fm_search_container_inner,children:[(0,y.jsx)("img",{className:o.Z.fm_search_icon,alt:"search icon",src:"".concat(r.dB,"/navbar-search.svg")}),(0,y.jsx)("input",{type:"text",placeholder:S("search"),onChange:q,style:{minWidth:"300px"},disabled:!(I||(null===B||void 0===B||null===(t=B.list)||void 0===t?void 0:t.length)>0)})]})})})})]})}),(0,y.jsx)(c.Z,{})]}),(0,y.jsx)(s.Z,{children:(0,y.jsx)(b,{studentAlias:j})}),(0,y.jsx)(c.Z,{}),(0,y.jsxs)(s.Z,{children:[null===B||void 0===B||null===(m=B.list)||void 0===m?void 0:m.map(((e,l)=>{var t;return(null===B||void 0===B||null===(t=B.list)||void 0===t?void 0:t.length)===l+1?(0,y.jsx)("div",{ref:G,children:(0,y.jsx)(F,{student:e,instituteId:f,messageId:g,headId:p,allStudentControl:Z})},null===e||void 0===e?void 0:e._id):(0,y.jsx)(F,{student:e,instituteId:f,messageId:g,headId:p,allStudentControl:Z},null===e||void 0===e?void 0:e._id)})),w?I?(0,y.jsx)(Y.Z,{}):(0,y.jsx)(k.Z,{}):I?0===(null===B||void 0===B||null===(_=B.list)||void 0===_?void 0:_.length)&&(0,y.jsx)(M.Z,{title:"No student found related this search."}):0===(null===B||void 0===B||null===(x=B.list)||void 0===x?void 0:x.length)&&(0,y.jsx)(M.Z,{title:"No students added in institute."})]})]})})},T={unAuthorized:!0,govt:!0}},34446:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>te});var n=t(39230),s=t(56959),i=t(43504),a=t(16871),d=t(63687),o=t(21348),c=t(90904),r=t(98967),u=t(63162),v=t(72791),h=t(55336),m=t(43172),_=t(23441),x=t(91427),f=t(57588),j=t(1669),p=t(2651),g=t(6758),N=t(98684),Z=t(1095),S=t(97892),y=t.n(S);const b="Scholarship_candidate_card_container__vP99D",I="Scholarship_candidate_card_container_text__1iyok",A="Scholarship_candidate_card_row__gTdMF";var C=t(80184);const F=e=>{var l,t,s,i,a,d,o,c,r,u,v,h,m,_,x,f,j,p,g,S,F;let{candidate:Y}=e;const{t:k}=(0,n.$G)();return(0,C.jsxs)("div",{className:b,children:[(0,C.jsx)("img",{src:null!==Y&&void 0!==Y&&null!==(l=Y.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(Z.yI,"/").concat(null===Y||void 0===Y||null===(t=Y.student)||void 0===t?void 0:t.studentProfilePhoto):"".concat(N.p3,"/feed-user-avatar.svg"),alt:""}),(0,C.jsxs)("div",{className:I,children:[(0,C.jsxs)("div",{className:A,children:[(0,C.jsx)("h6",{children:"".concat(null!==(s=null===Y||void 0===Y||null===(i=Y.student)||void 0===i?void 0:i.studentFirstName)&&void 0!==s?s:""," ").concat(null!==(a=null===Y||void 0===Y||null===(d=Y.student)||void 0===d?void 0:d.studentMiddleName)&&void 0!==a?a:""," ").concat(null!==(o=null===Y||void 0===Y||null===(c=Y.student)||void 0===c?void 0:c.studentLastName)&&void 0!==o?o:"")}),(0,C.jsxs)("h6",{children:[k("rs_only")," ",null!==(r=null===Y||void 0===Y?void 0:Y.fee_payment_amount)&&void 0!==r?r:0]})]}),(0,C.jsxs)("div",{className:A,children:[(0,C.jsxs)("p",{children:[k("gr_number"),null!==(u=null===Y||void 0===Y||null===(v=Y.student)||void 0===v?void 0:v.studentGRNO)&&void 0!==u?u:""," ",", ","(".concat(null!==(h=null===Y||void 0===Y||null===(m=Y.student)||void 0===m||null===(_=m.batches)||void 0===_?void 0:_.batchName)&&void 0!==h?h:"",")")]}),(0,C.jsx)("p",{children:null===(x=y()(null===Y||void 0===Y?void 0:Y.fee_transaction_date))||void 0===x?void 0:x.format("DD MMM YYYY")})]}),(0,C.jsx)("div",{className:A,children:(0,C.jsxs)("p",{children:[k("class_candi")," ",null!==(f=null===Y||void 0===Y||null===(j=Y.student)||void 0===j||null===(p=j.studentClass)||void 0===p?void 0:p.className)&&void 0!==f?f:""," ",null!==(g=null===Y||void 0===Y||null===(S=Y.student)||void 0===S||null===(F=S.studentClass)||void 0===F?void 0:F.classTitle)&&void 0!==g?g:""]})})]})]})};var Y=t(44226),k=t(93638),M=t(84959),D=t(80476),T=t(18344);const L=[{name:"InstallmentValue",InstallmentValue:"InstallmentValue",isRequired:!0},{name:"TXNID",TXNID:"TXNID",isRequired:!1},{name:"Date",Date:"Date",isRequired:!0},{name:"Remark",Remark:"Remark",isRequired:!1},{name:"Name",Name:"Name",isRequired:!0},{name:"Amount",Amount:"Amount",isRequired:!0}],E=e=>{let{aid:l}=e;const{t:t}=(0,n.$G)(),[s,i]=(0,v.useState)(!1),[a,d]=(0,v.useState)(!1),[o]=(0,g.Hq)(),c=()=>{d((e=>!e))};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("label",{className:D.Z.upload_excel_file,onClick:c,children:[(0,C.jsx)("img",{src:"".concat(N.J7,"/upload-xslx.svg"),alt:"add student icon",title:"Scholarship Allottment Excel"}),(0,C.jsx)("h6",{children:t("Allottment Excel")})]}),s&&(0,C.jsx)(h.Z,{}),a&&(0,C.jsx)(T.Z,{onClose:c,onImportFileInSystem:(e,t,n)=>{l&&(null===e||void 0===e?void 0:e.length)>0&&t&&(c(),i(!0),o({aid:l,excelFile:{excel_file:e,excel_count:t,excel_sheet_name:null===n||void 0===n?void 0:n.excel_sheet_name}}).then((()=>{i(!1)})).catch({}))},requiredFormat:L,whichImportAccess:"SCHOLARSHIP"})]})},G=e=>{var l,t,i;let{fid:a,aid:d,instituteId:o,onToggle:c}=e;const{t:r}=(0,n.$G)(),[u,m]=(0,v.useState)(!1),[Z,S]=(0,v.useState)(""),[y,b]=(0,v.useState)(1),[I,A]=(0,v.useState)(!0),[D,T]=(0,_.YD)({skip:Z}),[L]=(0,M.FL)(),[G]=(0,g.qJ)(),{financeAllotScholarshipHistory:J,financeAllotScholarshipHistoryLoading:B}=(0,g.Dx)({data:{fid:a,page:y,limit:10,search:Z,flow:"BY_FINANCE"},skip:!a});(0,v.useEffect)((()=>{T&&I&&b((e=>e+1))}),[T,I]),(0,v.useEffect)((()=>{var e;if(null!==J&&void 0!==J&&null!==(e=J.list)&&void 0!==e&&e.length){var l;let e=(0,x.f)(null===J||void 0===J||null===(l=J.list)||void 0===l?void 0:l.length);A((()=>e))}}),[null===J||void 0===J?void 0:J.list]);const w=(0,v.useCallback)((0,f.J)((e=>{b((()=>1)),S(e)}),1500),[]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:s.Z.fm_search_full,style:{marginBlock:"0.6rem"},children:[(0,C.jsx)("section",{className:s.Z.fm_search_full_container,style:{width:"auto"},children:(0,C.jsxs)("div",{className:s.Z.fm_search_full_container_inner,style:{width:"auto"},children:[(0,C.jsx)("img",{className:s.Z.fm_search_full_icon,alt:"search icon",src:"".concat(N.dB,"/navbar-search.svg")}),(0,C.jsx)("input",{type:"text",placeholder:r("search"),onChange:e=>{e.target.value?w(e.target.value):(b((()=>1)),S(""))},style:{minWidth:"250px"}})]})}),(0,C.jsxs)("div",{className:s.Z.fm_search_full,style:{width:"auto"},children:[(0,C.jsx)(Y.Z,{onExcelFileUpload:e=>{var l,t;if(null!==(l=e.target)&&void 0!==l&&null!==(t=l.files)&&void 0!==t&&t.length&&o){m((e=>!e));const l=new FormData;l.append("file",e.target.files[0]),L({fileUpload:l}).then((e=>{var l,t;null!==(l=e.data)&&void 0!==l&&l.imageKey?G({id:o,excelFile:{excel_file:null===(t=e.data)||void 0===t?void 0:t.imageKey}}).then((()=>{m((e=>!e))})).catch({}):m((e=>!e))})).catch({})}},dynamicKey:"scholarshipNumber",title:"Scholarship Number Excel",label:"Number Excel"}),(0,C.jsx)(E,{aid:d}),(0,C.jsx)(k.Z,{label:"allot_scholarship",customStyle:{minWidth:"fit-content",paddingBlock:"0.4rem",margin:"0"},onAction:c})]})]}),null===J||void 0===J||null===(l=J.list)||void 0===l?void 0:l.map(((e,l)=>{var t;return(null===J||void 0===J||null===(t=J.list)||void 0===t?void 0:t.length)===l+1?(0,C.jsx)("div",{ref:D,children:(0,C.jsx)(F,{candidate:e})},null===e||void 0===e?void 0:e._id):(0,C.jsx)(F,{candidate:e},null===e||void 0===e?void 0:e._id)})),B?Z?(0,C.jsx)(h.Z,{}):(0,C.jsx)(j.Z,{}):Z?0===(null===J||void 0===J||null===(t=J.list)||void 0===t?void 0:t.length)&&(0,C.jsx)(p.Z,{title:"No allot scholarship students found related this search."}):0===(null===J||void 0===J||null===(i=J.list)||void 0===i?void 0:i.length)&&(0,C.jsx)(p.Z,{title:"No allot scholarship students."}),u&&(0,C.jsx)(h.Z,{})]})},J=e=>{let{aid:l,instituteId:t,fid:n}=e;const s=(0,a.s0)(),i=(0,a.UO)(),[d,o]=(0,v.useState)(!1),c=()=>{o((e=>!e))};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(G,{fid:n,aid:l,instituteId:t,onToggle:c}),d&&(0,C.jsx)(m.Z,{onClose:c,onSelectStudent:e=>{s("/q/".concat(i.username,"/member/student/admission/profile"),{state:{sid:null===e||void 0===e?void 0:e._id,collectAccess:"OTHER",instituteId:t,govtAccess:"Finance_scholarship",cancelAccess:!1,editStructureControl:"authorized",editGovtNumberContorl:"authorized",editInstallmentControl:"authorized",editGovtInstallmentControl:"authorized"}})},instituteId:t})]})};var B=t(82824),w=t(72888);const H=e=>{var l;let{excel:t}=e;return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("a",{className:w.Z.export_card,title:"Download File",href:"".concat(Z.LS,"/").concat(null===t||void 0===t?void 0:t.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,C.jsx)("img",{src:"".concat(N.J7,"/xsxl.svg"),className:w.Z.export_card_image,alt:"excel icon"}),(0,C.jsxs)("section",{className:w.Z.export_card_text,children:[(0,C.jsx)("h6",{children:null!==(l=null===t||void 0===t?void 0:t.excel_file_name)&&void 0!==l?l:""}),(0,C.jsxs)("div",{className:w.Z.export_card_date,children:[(0,C.jsx)("h6",{children:y()(null===t||void 0===t?void 0:t.created_at).format("DD MMM YYYY")}),(0,C.jsx)("h6",{children:(0,B.J)(null===t||void 0===t?void 0:t.created_at,"LT")})]})]})]},null===t||void 0===t?void 0:t._id)})},q=e=>{var l,t,i;let{fid:a}=e;const{t:d}=(0,n.$G)(),[o,c]=(0,v.useState)(""),[r,u]=(0,v.useState)(1),[m,Z]=(0,v.useState)(!0),[S,y]=(0,_.YD)({skip:o}),{financeMismatchScholarshipHistory:b,financeMismatchScholarshipHistoryLoading:I}=(0,g.i8)({data:{fid:a,page:r,limit:10,search:o,flow:"BY_FINANCE"},skip:!a});(0,v.useEffect)((()=>{y&&m&&u((e=>e+1))}),[y,m]),(0,v.useEffect)((()=>{var e;if(null!==b&&void 0!==b&&null!==(e=b.list)&&void 0!==e&&e.length){var l;let e=(0,x.f)(null===b||void 0===b||null===(l=b.list)||void 0===l?void 0:l.length);Z((()=>e))}}),[null===b||void 0===b?void 0:b.list]);const A=(0,v.useCallback)((0,f.J)((e=>{u((()=>1)),c(e)}),1500),[]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:s.Z.fm_search_full,style:{marginBlock:"0.6rem"},children:(0,C.jsx)("section",{className:s.Z.fm_search_full_container,children:(0,C.jsxs)("div",{className:s.Z.fm_search_full_container_inner,children:[(0,C.jsx)("img",{className:s.Z.fm_search_full_icon,alt:"search icon",src:"".concat(N.dB,"/navbar-search.svg")}),(0,C.jsx)("input",{type:"text",placeholder:d("search"),onChange:e=>{e.target.value?A(e.target.value):(u((()=>1)),c(""))}})]})})}),null===b||void 0===b||null===(l=b.list)||void 0===l?void 0:l.map(((e,l)=>{var t;return(null===b||void 0===b||null===(t=b.list)||void 0===t?void 0:t.length)===l+1?(0,C.jsx)("div",{ref:S,children:(0,C.jsx)(H,{excel:e})},null===e||void 0===e?void 0:e._id):(0,C.jsx)(H,{excel:e},null===e||void 0===e?void 0:e._id)})),I?o?(0,C.jsx)(h.Z,{}):(0,C.jsx)(j.Z,{}):o?0===(null===b||void 0===b||null===(t=b.list)||void 0===t?void 0:t.length)&&(0,C.jsx)(p.Z,{title:"No mismatch excel found related this search."}):0===(null===b||void 0===b||null===(i=b.list)||void 0===i?void 0:i.length)&&(0,C.jsx)(p.Z,{title:"No mismatch excel."})]})},O=e=>{var l;let{excel:t}=e;return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("a",{className:w.Z.export_card,title:"Download File",href:"".concat(Z.LS,"/").concat(null===t||void 0===t?void 0:t.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,C.jsx)("img",{src:"".concat(N.J7,"/xsxl.svg"),className:w.Z.export_card_image,alt:"excel icon"}),(0,C.jsxs)("section",{className:w.Z.export_card_text,children:[(0,C.jsx)("h6",{children:null!==(l=null===t||void 0===t?void 0:t.excel_file_name)&&void 0!==l?l:""}),(0,C.jsxs)("div",{className:w.Z.export_card_date,children:[(0,C.jsx)("h6",{children:y()(null===t||void 0===t?void 0:t.created_at).format("DD MMM YYYY")}),(0,C.jsx)("h6",{children:(0,B.J)(null===t||void 0===t?void 0:t.created_at,"LT")})]})]})]},null===t||void 0===t?void 0:t._id)})};var P=t(38857),R=t(16925),z=t(60924),K=t(43997);const $=e=>{let{onClose:l,instituteId:t}=e;const{t:s}=(0,n.$G)(),[i,a]=(0,v.useState)(!1),[d,r]=(0,v.useState)({from:"",to:""}),[u]=(0,g.CI)();return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(P.Z,{onClose:l,children:(0,C.jsxs)("div",{className:R.Z.modal_container,children:[(0,C.jsx)(o.Z,{children:(0,C.jsxs)("div",{className:R.Z.modal_container_outer_header,children:[(0,C.jsx)("div",{className:R.Z.modal_container_header,children:(0,C.jsx)("h6",{children:s("export_scholarship_excel")})}),(0,C.jsx)("img",{src:"".concat(N.J7,"/close.svg"),alt:"close icon",onClick:l})]})}),(0,C.jsx)(c.Z,{}),(0,C.jsxs)(o.Z,{customStyle:{paddingTop:"0"},children:[(0,C.jsx)(z.Z,{name:"from",label:s("o__from"),placeholder:s("o__please_select_date"),onChange:e=>{r((l=>({...l,from:(0,K.jh)(e)})))},value:d.from}),(0,C.jsx)(z.Z,{name:"to",label:s("o__to"),placeholder:s("o__please_select_date"),onChange:e=>{r((l=>({...l,to:(0,K.jh)(e)})))},value:d.to}),(0,C.jsx)(k.Z,{label:"export",onAction:()=>{t&&(a((e=>!e)),u({id:t,from:null!==d&&void 0!==d&&d.from?(0,K.O_)(d.from):"",to:null!==d&&void 0!==d&&d.to?(0,K.O_)(d.to):"",timeline:"false",timeline_content:""}).then((()=>{a((e=>!e)),l()})).catch({}))}})]}),i&&(0,C.jsx)(h.Z,{})]})})})},U=e=>{var l,t,i;let{instituteId:a}=e;const{t:d}=(0,n.$G)(),[o,c]=(0,v.useState)(!1),[r,u]=(0,v.useState)(""),[m,Z]=(0,v.useState)(1),[S,y]=(0,v.useState)(!0),[b,I]=(0,_.YD)({skip:r}),{financeAllotScholarshipExcelHistory:A,financeAllotScholarshipExcelHistoryLoading:F}=(0,g.OD)({data:{id:a,page:m,limit:10,search:r,flow:"BY_FINANCE"},skip:!a});(0,v.useEffect)((()=>{I&&S&&Z((e=>e+1))}),[I,S]),(0,v.useEffect)((()=>{var e;if(null!==A&&void 0!==A&&null!==(e=A.list)&&void 0!==e&&e.length){var l;let e=(0,x.f)(null===A||void 0===A||null===(l=A.list)||void 0===l?void 0:l.length);y((()=>e))}}),[null===A||void 0===A?void 0:A.list]);const Y=(0,v.useCallback)((0,f.J)((e=>{Z((()=>1)),u(e)}),1500),[]),k=(0,v.useCallback)((()=>{c((e=>!e))}),[]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:s.Z.fm_search_full,style:{marginBlock:"0.6rem"},children:[(0,C.jsx)("section",{className:s.Z.fm_search_full_container,children:(0,C.jsxs)("div",{className:s.Z.fm_search_full_container_inner,children:[(0,C.jsx)("img",{className:s.Z.fm_search_full_icon,alt:"search icon",src:"".concat(N.dB,"/navbar-search.svg")}),(0,C.jsx)("input",{type:"text",placeholder:d("search"),onChange:e=>{e.target.value?Y(e.target.value):(Z((()=>1)),u(""))}})]})}),(0,C.jsx)("img",{src:"".concat(N.J7,"/filter.svg"),alt:"filter icon",onClick:k})]}),null===A||void 0===A||null===(l=A.list)||void 0===l?void 0:l.map(((e,l)=>{var t;return(null===A||void 0===A||null===(t=A.list)||void 0===t?void 0:t.length)===l+1?(0,C.jsx)("div",{ref:b,children:(0,C.jsx)(O,{excel:e})},null===e||void 0===e?void 0:e._id):(0,C.jsx)(O,{excel:e},null===e||void 0===e?void 0:e._id)})),F?r?(0,C.jsx)(h.Z,{}):(0,C.jsx)(j.Z,{}):r?0===(null===A||void 0===A||null===(t=A.list)||void 0===t?void 0:t.length)&&(0,C.jsx)(p.Z,{title:"No export excel found related this search."}):0===(null===A||void 0===A||null===(i=A.list)||void 0===i?void 0:i.length)&&(0,C.jsx)(p.Z,{title:"No export excel."}),o&&(0,C.jsx)($,{onClose:k,instituteId:a})]})};var W=t(4007),V=t(43677);const X=e=>{let{fid:l,carryParentState:t}=e;const{t:s}=(0,n.$G)(),[i,a]=(0,v.useState)(""),[d,o]=(0,v.useState)([]),{instituteAllDepartment:c,instituteAllDepartmentLoading:r}=(0,g.Jv)({fid:l,skip:!l});(0,v.useEffect)((()=>{c&&o(c)}),[c]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:W.Z.fm_search_full,style:{marginBlock:"0.6rem"},children:(0,C.jsx)("section",{className:W.Z.fm_search_full_container,children:(0,C.jsxs)("div",{className:W.Z.fm_search_full_container_inner,children:[(0,C.jsx)("img",{className:W.Z.fm_search_full_icon,alt:"search icon",src:"".concat(N.dB,"/navbar-search.svg")}),(0,C.jsx)("input",{type:"text",placeholder:s("search"),onChange:e=>{if(e.target.value){let l=null===c||void 0===c?void 0:c.filter((l=>{var t,n,s;return null!==l&&void 0!==l&&null!==(t=l.dName)&&void 0!==t&&null!==(n=t.toLowerCase())&&void 0!==n&&n.includes(null===(s=e.target.value)||void 0===s?void 0:s.toLowerCase())?l:null}));o(l),a(e.target.value)}else a(""),o(c)}})]})})}),(0,C.jsx)("div",{className:W.Z.department_container,children:null===d||void 0===d?void 0:d.map((e=>(0,C.jsx)(V.Z,{parentState:{...t,did:null===e||void 0===e?void 0:e._id,dName:null===e||void 0===e?void 0:e.dName},activeUrl:"type=scholarship&n=fund&d=fund-detail",children:(0,C.jsxs)("div",{className:W.Z.department_card_container,children:[(0,C.jsx)("img",{src:"".concat(N.J7,"/department.svg"),alt:"department avatar",className:W.Z.department_card_image}),(0,C.jsx)("div",{children:(0,C.jsx)("h6",{className:W.Z.department_card_name,children:(null===e||void 0===e?void 0:e.dName)||""})})]})},null===e||void 0===e?void 0:e._id)))}),r?(0,C.jsx)(j.Z,{}):i?!(null!==d&&void 0!==d&&d.length)&&(0,C.jsx)(p.Z,{title:"No department found related this search."}):!(null!==d&&void 0!==d&&d.length)&&(0,C.jsx)(p.Z,{title:"No department list found."})]})};var Q=t(51136);const ee=()=>{var e,l,t,i,r;const{t:u}=(0,n.$G)(),m=(0,a.TH)(),[_,x]=(0,v.useState)(!1),[f]=(0,g.D2)(),{financeScholarshipDepartmentFund:j,financeScholarshipDepartmentFundRefetch:p}=(0,g.Tq)({data:{did:null===(e=m.state)||void 0===e?void 0:e.did},skip:!(null!==(l=m.state)&&void 0!==l&&l.did)});return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(d.Z,{children:[(0,C.jsx)(o.Z,{children:(0,C.jsx)("div",{className:s.Z.fm_header_container,children:(0,C.jsx)("h6",{children:null!==(t=null===(i=m.state)||void 0===i?void 0:i.dName)&&void 0!==t?t:""})})}),(0,C.jsx)(c.Z,{}),(0,C.jsxs)(o.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,C.jsx)("div",{className:s.Z.fm_fs_container,style:{justifyContent:"flex-end"},children:(0,C.jsx)("div",{className:s.Z.fm_fs_container_inner,children:(0,C.jsxs)("div",{className:s.Z.fm_fs_refetch_container,onClick:()=>{var e,l;null!==(e=m.state)&&void 0!==e&&e.did&&(x((e=>!e)),f({scholarship:{did:null===(l=m.state)||void 0===l?void 0:l.did}}).then((()=>{p(),x((e=>!e))})).catch({}))},children:[(0,C.jsx)("img",{src:"".concat(N.J7,"/refresh.svg"),alt:"refetch icon"}),(0,C.jsxs)("div",{className:s.Z.fm_fs_refetch_container_inner,children:[(0,C.jsx)("h6",{children:u("refetch_data")}),(0,C.jsxs)("p",{children:[u("last_updated")," : ",y()(null===j||void 0===j?void 0:j.last_update).format("DD MMM YYYY"),", ",(0,B.J)(null===j||void 0===j?void 0:j.last_update,"LT")]})]})]})})}),(0,C.jsx)("div",{className:Q.Z.osc_container_inner,style:{justifyContent:"flex-start",gap:"1rem",flexWrap:"wrap"},children:null===j||void 0===j||null===(r=j.custom_classes)||void 0===r?void 0:r.map((e=>{var l,t,n;return(0,C.jsxs)("div",{className:Q.Z.osc_card,children:[(0,C.jsx)("img",{src:"".concat(N.J7,"/total-collection.svg"),alt:"overal icon"}),(0,C.jsxs)("div",{className:Q.Z.osc_card_inner,children:[(0,C.jsxs)("p",{children:[u("batch")," ",":"," ",null!==(l=null===e||void 0===e?void 0:e.batch)&&void 0!==l?l:""]}),(0,C.jsxs)("h6",{children:[u("collect_from_gov")," ",": ",u("rs_only")," ",null!==(t=null===e||void 0===e?void 0:e.collect_by_government)&&void 0!==t?t:0]}),(0,C.jsxs)("h6",{children:[u("outstanding_from_gov")," ",": ",u("rs_only")," ",null!==(n=null===e||void 0===e?void 0:e.pending_from_government)&&void 0!==n?n:0]})]})]})}))})]})]}),_&&(0,C.jsx)(h.Z,{})]})};var le=t(85303);const te=e=>{let{fid:l,instituteId:t,aid:m,studentAlias:_}=e;const{t:x}=(0,n.$G)(),[f]=(0,i.lr)(),j=(0,a.TH)(),p=(0,a.UO)();return(0,C.jsxs)(d.Z,{children:[(0,C.jsx)(o.Z,{children:(0,C.jsx)("div",{className:s.Z.fm_header_container,children:(0,C.jsx)("h6",{children:x("scholarship_management")})})}),(0,C.jsx)(c.Z,{}),(0,C.jsxs)(o.Z,{customStyle:{paddingTop:"0"},children:[(0,C.jsx)(r.Z,{children:se.map((e=>{var l,t;return(0,C.jsx)(u.Z,{tab:e,isLink:!0,isActive:null===(l=e.groupIs)||void 0===l?void 0:l.includes(f.get("n")),parentState:j.state,url:"Institute"===(null===(t=j.state)||void 0===t?void 0:t.urlOffSet)?"/q/".concat(p.username,"/institute/member/finance?type=scholarship").concat(e.urlKey):"/q/".concat(p.username,"/member/staff/finance?type=scholarship").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,C.jsx)(c.Z,{customStyleBorder:{marginTop:"0"}})]}),(0,C.jsx)(v.Suspense,{fallback:(0,C.jsx)(h.Z,{}),children:"fund-detail"===f.get("d")?(0,C.jsx)(o.Z,{customStyle:{paddingTop:"0"},children:(0,C.jsx)(ee,{})}):"mismatch"===f.get("n")?(0,C.jsx)(o.Z,{customStyle:{paddingTop:"0"},children:(0,C.jsx)(q,{fid:l})}):"export"===f.get("n")?(0,C.jsx)(o.Z,{customStyle:{paddingTop:"0"},children:(0,C.jsx)(U,{instituteId:t})}):"fund"===f.get("n")?(0,C.jsx)(o.Z,{customStyle:{paddingTop:"0"},children:(0,C.jsx)(X,{fid:l,carryParentState:j.state})}):"allottment"===f.get("n")?(0,C.jsx)(o.Z,{customStyle:{paddingTop:"0"},children:(0,C.jsx)(J,{instituteId:t,aid:m,fid:l})}):(0,C.jsx)(le.default,{instituteId:t,studentAlias:_,invalidateAccess:"unAuthorized",allStudentControl:ne})})]})},ne={collectAccess:"Other",govtAccess:"Other",cancelAccess:!1,editStructureControl:"authorized",editGovtNumberContorl:"authorized",editInstallmentControl:"authorized",editGovtInstallmentControl:"authorized"},se=[{label:"all_students",id:"student",urlKey:"",groupIs:["",null]},{label:"allottment",id:"allottment",urlKey:"&n=allottment",groupIs:["allottment"]},{label:"fund",id:"fund",urlKey:"&n=fund",groupIs:["fund"]},{label:"mismatch",id:"mismatch",urlKey:"&n=mismatch",groupIs:["mismatch"]},{label:"export",id:"export",urlKey:"&n=export",groupIs:["export"]}]},82824:(e,l,t)=>{"use strict";t.d(l,{J:()=>d,Z:()=>o});var n=t(99893),s=t.n(n),i=t(97892),a=t.n(i);const d=(e,l)=>(a().extend(s()),a()(e).format(l)),o=(e,l,t)=>{var n;return a()()[e]("".concat(null===(n=a()(t))||void 0===n?void 0:n.format("YYYY-MM-DD")),l)}},99893:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(l,t,n){var s=t.prototype,i=s.format;n.en.formats=e,s.format=function(l){void 0===l&&(l="YYYY-MM-DDTHH:mm:ssZ");var t=this.$locale().formats,n=function(l,t){return l.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(l,n,s){var i=s&&s.toUpperCase();return n||t[s]||e[s]||t[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,l,t){return l||t.slice(1)}))}))}(l,void 0===t?{}:t);return i.call(this,n)}}}()},72888:(e,l,t)=>{"use strict";t.d(l,{Z:()=>n});const n={export_card:"FinanceExport_export_card__9AYtI",export_card_image:"FinanceExport_export_card_image__-1r1l",export_card_text:"FinanceExport_export_card_text__ZrB00",export_card_date:"FinanceExport_export_card_date__-dTOE",export_card_menu:"FinanceExport_export_card_menu__-xEgr"}}}]);
//# sourceMappingURL=34446.542355f2.chunk.js.map