"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[20157],{70352:(e,i,t)=>{t.r(i),t.d(i,{default:()=>Ce});var l=t(72791),n=t(16871),s=t(10406),o=t(87338),a=t(39230),d=t(98734),c=t(21640),r=t(89078),u=t(60594),v=t(62593),_=t(55271),h=t(80184);function m(e){let{bal:i,value:t}=e;return(0,h.jsxs)("div",{className:v.Z.balanceItem,children:[(0,h.jsxs)("p",{children:[i,":"]}),(0,h.jsxs)("p",{children:["Rs. ",t]})]})}const p=function(e){var i,t,n,s,c,r;let{onRefetch:u,carryParentState:p,accessRole:x,accessTpye:f,hostel:j,callApi:g}=e;const{t:b}=(0,a.$G)(),[y,N]=(0,l.useState)(!1),[Z]=(0,o.qn)();return(0,h.jsxs)("div",{className:v.Z.funds2,children:[(0,h.jsxs)("div",{className:v.Z.fundshead,children:[(0,h.jsxs)("h6",{children:[" ",b("hostel_fees")," "]}),(0,h.jsx)("img",{src:"/images/finance/filter-icon.svg",alt:""})]}),(0,h.jsxs)("div",{className:v.Z.fundscontent,children:[(0,h.jsxs)("div",{className:v.Z.sidebarbottomitem,children:[(0,h.jsx)("img",{alt:"not found",src:"/images/hostel/rupee-blue-icon.svg"}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("p",{className:v.Z.namee,children:["Rs."," ",(null!==j&&void 0!==j&&j.onlineFee?null===j||void 0===j?void 0:j.onlineFee:0+(null===j||void 0===j?void 0:j.offlineFee)?null===j||void 0===j?void 0:j.offlineFee:0).toFixed(2)]}),(0,h.jsxs)("p",{className:v.Z.desig,children:[" ",b("total_hostel_fees")," "]})]})]}),(0,h.jsx)(m,{check:"false",bal:b("online_fees"),value:null!==(i=null===j||void 0===j||null===(t=j.onlineFee)||void 0===t?void 0:t.toFixed(2))&&void 0!==i?i:0}),(0,h.jsx)(m,{check:"true",bal:b("offline_fees"),value:null!==(n=null===j||void 0===j||null===(s=j.offlineFee)||void 0===s?void 0:s.toFixed(2))&&void 0!==n?n:0}),(0,h.jsx)(m,{check:"true",bal:b("cash_with_me"),value:null!==(c=null===j||void 0===j||null===(r=j.collected_fee)||void 0===r?void 0:r.toFixed(2))&&void 0!==c?c:0}),(0,h.jsx)("div",{className:v.Z.fundbtn,onClick:()=>{!x&&!f&&(null===j||void 0===j?void 0:j.collected_fee)>0&&"Pending"===(null===j||void 0===j?void 0:j.requested_status)&&(N((e=>!e)),Z({hid:null===j||void 0===j?void 0:j._id,submitAmount:{amount:null===j||void 0===j?void 0:j.collected_fee}}).then((()=>{u(),N((e=>!e))})).catch({}))},style:{color:"#ffffff",backgroundColor:"#1c023b",opacity:x?"0.5":"1"},children:"Pending"===(null===j||void 0===j?void 0:j.requested_status)?"".concat(b("submit")," ").concat(b("submit_cash_to_finance_manager")):"".concat(b("requested")," ").concat(b("submit_cash_to_finance_manager"))}),(0,h.jsx)(_.Z,{carryParentState:p,activeTab:"remaining",accessRole:x,callApi:g,children:(0,h.jsxs)("div",{className:v.Z.fundbtn,children:[b("total_pending_fees")," : Rs. ",null===j||void 0===j?void 0:j.remainingFeeCount]})}),(0,h.jsxs)("div",{className:v.Z.fundbtn,children:[b("total_concession_fees")," : Rs. ",null===j||void 0===j?void 0:j.exemptAmount]})]}),y&&(0,h.jsx)(d.Z,{})]})};var x=t(42850);const f=function(e){var i,t,l,s,o,d,c,v,m,f,j,g,b,y;let{hostel:N,onRefetch:Z,carryParentState:S,accessRole:R,accessTpye:k,callApi:T}=e;const{t:w}=(0,a.$G)(),D=(0,n.TH)();return(0,h.jsx)("div",{className:r.Z.MiddleContent,style:"category"===(null===D||void 0===D||null===(i=D.search)||void 0===i?void 0:i.substring(9))||"structure"===(null===D||void 0===D||null===(t=D.search)||void 0===t?void 0:t.substring(9))?{marginTop:"0"}:{color:"inherit"},children:(0,h.jsxs)("div",{className:r.Z.MiddleContentLeft,children:[(0,h.jsx)("div",{className:r.Z.tabs,children:(0,h.jsx)(u.Z,{search:null===D||void 0===D?void 0:D.search,carryParentState:S})}),!(null!==D&&void 0!==D&&D.search)&&(0,h.jsxs)("div",{className:r.Z.item,children:[(0,h.jsx)(_.Z,{carryParentState:S,activeTab:"notice",accessRole:R,accessTpye:k,callApi:T,children:(0,h.jsxs)("div",{className:r.Z.itemIcon,children:[(0,h.jsx)("img",{src:"/images/member_tab/hostel/hostel-announcement-icon.svg",alt:"moderator icon"}),(0,h.jsx)("p",{children:w("announcement_notices")})]})}),(0,h.jsx)(_.Z,{carryParentState:S,activeTab:"unit",accessRole:R,accessTpye:k,callApi:T,children:(0,h.jsxs)("div",{className:r.Z.itemIcon,children:[(0,h.jsx)("img",{src:"/images/member_tab/hostel/hostel-unit-icon.svg",alt:"completed"}),(0,h.jsx)("p",{children:w("hostel_unit")})]})}),(0,h.jsx)(_.Z,{carryParentState:S,activeTab:"RENEWAL_UNIT_ACCESS"!==R?"request":"request&unit&renewal",accessRole:R,accessTpye:k,callApi:T,children:(0,h.jsxs)("div",{className:r.Z.itemIcon,children:[(0,h.jsx)("img",{src:"/images/member_tab/hostel/hostel-renewal-icon.svg",alt:"inquery"}),(0,h.jsx)("p",{children:w("admission_renewal")})]})}),(0,h.jsx)(_.Z,{carryParentState:S,activeTab:"hostelites",accessRole:R,accessTpye:k,callApi:T,children:(0,h.jsxs)("div",{className:r.Z.itemIcon,children:[(0,h.jsx)("img",{src:"/images/member_tab/hostel/hostel-hostelite-icon.svg",alt:"inquery"}),(0,h.jsx)("p",{children:w("total_hostelites")})]})}),(0,h.jsx)(_.Z,{carryParentState:S,activeTab:"warden",accessRole:R,accessTpye:k,callApi:T,children:(0,h.jsxs)("div",{className:r.Z.itemIcon,children:[(0,h.jsx)("img",{src:"/images/member_tab/hostel/hostel-warden-icon.svg",alt:"Class Catalog"}),(0,h.jsx)("p",{children:w("staff_room")})]})}),(0,h.jsx)(_.Z,{carryParentState:S,activeTab:"receipt&n=request",accessRole:R,accessTpye:k,callApi:T,children:(0,h.jsxs)("div",{className:r.Z.itemIcon,children:[(0,h.jsx)("img",{src:"/images/member_tab/admission/admission-receipt-icon.svg",alt:"refund"}),(0,h.jsx)("p",{children:w("admission_payment_verification")})]})}),(0,h.jsx)(_.Z,{carryParentState:S,activeTab:"pending",accessRole:R,accessTpye:k,callApi:T,children:(0,h.jsxs)("div",{className:r.Z.itemIcon,children:[(0,h.jsx)("img",{src:"/images/member_tab/finance/finance-pending-icon.svg",alt:"refund"}),(0,h.jsx)("p",{children:w("pending_fees")})]})}),(0,h.jsx)(_.Z,{activeTab:"deposit",carryParentState:S,accessRole:R,accessTpye:k,callApi:T,children:(0,h.jsxs)("div",{className:r.Z.itemIcon,children:[(0,h.jsx)("img",{src:"/images/member_tab/finance/finance-deposit-icon.svg",alt:"refund"}),(0,h.jsx)("p",{children:w("finance_deposit")})]})}),(0,h.jsx)(_.Z,{carryParentState:S,activeTab:"form",accessRole:R,accessTpye:k,callApi:T,children:(0,h.jsxs)("div",{className:r.Z.itemIcon,children:[(0,h.jsx)("img",{src:"/images/member_tab/hostel/hostel-form-icon.svg",alt:"inquery"}),(0,h.jsx)("p",{children:w("hostel_admission_form_details")})]})}),(0,h.jsx)(_.Z,{carryParentState:S,activeTab:"rule",accessRole:R,accessTpye:k,callApi:T,children:(0,h.jsxs)("div",{className:r.Z.itemIcon,children:[(0,h.jsx)("img",{src:"/images/member_tab/hostel/hostel-rule-icon.svg",alt:"moderator icon"}),(0,h.jsx)("p",{children:w("rules_and_regulation")})]})}),(0,h.jsx)(_.Z,{carryParentState:S,activeTab:"export",accessRole:R,accessTpye:k,callApi:T,children:(0,h.jsxs)("div",{className:r.Z.itemIcon,children:[(0,h.jsx)("img",{src:"/images/member_tab/finance/finance-export-icon.svg",alt:"refund"}),(0,h.jsx)("p",{children:w("data_exporting")})]})}),(0,h.jsx)(_.Z,{carryParentState:S,activeTab:"moderator",accessRole:R,accessTpye:k,callApi:T,children:(0,h.jsxs)("div",{className:r.Z.itemIcon,children:[(0,h.jsx)("img",{src:"/images/member_tab/admission/admission-moderator-icon.svg",alt:"moderator icon"}),(0,h.jsx)("p",{children:w("hostel_moderator")})]})}),(0,h.jsx)(_.Z,{carryParentState:S,activeTab:"batch",accessRole:R,accessTpye:k,callApi:T,children:(0,h.jsxs)("div",{className:r.Z.itemIcon,children:[(0,h.jsx)("img",{src:"/images/member_tab/hostel/hostel-batch-icon.svg",alt:"completed"}),(0,h.jsx)("p",{children:w("hostel_tab_batch")})]})}),(0,h.jsx)(_.Z,{carryParentState:S,activeTab:"linked",accessRole:R,accessTpye:k,callApi:T,children:(0,h.jsxs)("div",{className:r.Z.itemIcon,children:[(0,h.jsx)("img",{src:"/images/member_tab/transport/transport-institute-link-icon.svg",alt:"completed"}),(0,h.jsx)("p",{children:w("linked_institute")})]})})]}),"fund"===(null===D||void 0===D||null===(l=D.search)||void 0===l?void 0:l.substring(3))&&(0,h.jsx)("div",{className:r.Z.classList,children:(0,h.jsx)(p,{hostel:N,onRefetch:Z,carryParentState:S,accessRole:R,callApi:T})}),"fee"===(null===D||void 0===D||null===(s=D.search)||void 0===s?void 0:s.substring(3,6))&&(0,h.jsx)(x.Z,{financeId:null===N||void 0===N||null===(o=N.institute)||void 0===o||null===(d=o.financeDepart)||void 0===d||null===(c=d[0])||void 0===c?void 0:c._id,fees_category_count:null===N||void 0===N||null===(v=N.institute)||void 0===v||null===(m=v.financeDepart)||void 0===m||null===(f=m[0])||void 0===f?void 0:f.fees_category_count,fee_master_array_count:null===N||void 0===N||null===(j=N.institute)||void 0===j||null===(g=j.financeDepart)||void 0===g||null===(b=g[0])||void 0===b?void 0:b.fee_master_array_count,fee_structure_count:null===N||void 0===N?void 0:N.fees_structures_count,carryParentState:S,accessRole:R,hostelId:null===N||void 0===N?void 0:N._id,instituteId:null===N||void 0===N||null===(y=N.institute)||void 0===y?void 0:y._id,callApi:T})]})})},j=e=>{var i,t,s,r,u,v,_,m,p,x;let{hostel:j,onRefetch:g,carryParentState:b,activatedRole:y,hid:N,callApi:Z}=e;const{t:S}=(0,a.$G)(),R=(0,n.TH)(),k=(0,n.UO)(),[T,w]=(0,l.useState)(""),[D,F]=(0,l.useState)(""),[q,C]=(0,l.useState)(!1),[P,A]=(0,l.useState)(!1),[E,I]=(0,l.useState)(""),[L]=(0,o.b3)(),[B,M]=(0,l.useState)(!1);(0,l.useEffect)((()=>{if(P){M((e=>!e));let e=new FormData;e.append("file",D),L({uploadFile:e,hid:N}).then((()=>{M((e=>!e))})).catch({})}}),[P,D]);return(0,h.jsxs)(h.Fragment,{children:["category"!==(null===R||void 0===R||null===(i=R.search)||void 0===i?void 0:i.substring(9))&&"structure"!==(null===R||void 0===R||null===(t=R.search)||void 0===t?void 0:t.substring(9))&&(0,h.jsx)(c.Z,{coverKey:null===j||void 0===j?void 0:j.hostel_photo,coverId:null!==j&&void 0!==j&&j.hostel_photo?"0":"2",defaultCover:"/images/profileAndCover/hostel-cover.svg",textLarge:S("hostel_manager"),textSmall:"".concat(null!==(s=null===j||void 0===j||null===(r=j.hostel_manager)||void 0===r?void 0:r.staffFirstName)&&void 0!==s?s:""," ").concat(null!==(u=null===j||void 0===j||null===(v=j.hostel_manager)||void 0===v?void 0:v.staffMiddleName)&&void 0!==u?u:""," ").concat(null!==(_=null===j||void 0===j||null===(m=j.hostel_manager)||void 0===m?void 0:m.staffLastName)&&void 0!==_?_:""),count1:null===j||void 0===j?void 0:j.bed_count,count1label:S("hostel_beds"),count2:null===j||void 0===j?void 0:j.room_count,count2label:S("hostel_rooms"),profilePhoto:E,profileChange:e=>{const i=URL.createObjectURL(e.target.files[0]);F(e.target.files[0]),I(i),w(i),C(!0)},openCrop:q,setOpenCrop:C,setPhotoURL:w,photoURL:T,setFile:F,setUpload:A,setProfilePhoto:I,viewAs:null===y||void 0===y||!y.access_role,redirectUrl:"/q/".concat(k.username,"/member/hostel?a=site"),coverUpdate:!0,openAs:"HOSTEL_MANAGER",coverImageStyle:{height:"auto"},carryParentState:b}),(0,h.jsx)(f,{hostel:j,onRefetch:g,carryParentState:b,accessRole:null===y||void 0===y?void 0:y.access_role,accessTpye:null!==(p=null===y||void 0===y||null===(x=y.active_tab)||void 0===x?void 0:x.role)&&void 0!==p?p:"Application",callApi:Z}),B&&(0,h.jsx)(d.Z,{})]})};var g=t(49804),b=t(60080),y=t(28426),N=t(49802),Z=t(26515),S=t(83555),R=t(34791),k=t(79541);const T="FeeReceipts_receipt_container__wOxEC",w="FeeReceipts_receipt_container_title__vZlnk",D="FeeReceipts_all_request_container__CBcBl",F="FeeReceipts_total_request__D1omS",q="FeeReceipts_request_card_info_name__KtcJV",C="FeeReceipts_request_card_container__YqP+S",P="FeeReceipts_request_card_info__10PpK",A="FeeReceipts_request_card_info_date__qoaPh",E="FeeReceipts_request_card_utr__7ozf8",I="FeeReceipts_request_card_info_image__2y4+0",L="FeeReceipts_re_requested_btn__0KcbS",B="FeeReceipts_fee_request__oiC32",M="FeeReceipts_fee_request_tab__tyIJy",O="FeeReceipts_fee_request_tab_active__jn4Uu",G="FeeReceipts_fee_request_confirm__7r3Io",H="FeeReceipts_fee_request_detail__jkwRe",J="FeeReceipts_fee_request_detail_name__RguoA",U="FeeReceipts_fee_request_detail_amount__14zrE",$="FeeReceipts_fee_request_detail_date__6KAmb",V="FeeReceipts_reason_for_rejection__Rd3hZ",Y="FeeReceipts_search_container_filter__3EDAk",z="FeeReceipts_search_container__hBJAd",W="FeeReceipts_search_container_input__cH+3m",Q="FeeReceipts_searchIcon__vNs+q",K="FeeReceipts_payment_acknowledge_btn__lyshX";var X=t(763),ee=t(47167),ie=t(98094),te=t(23441),le=t(11105),ne=t(72426),se=t.n(ne),oe=t(36665),ae=t(97655),de=t(69721);const ce=e=>{var i,t,n,s,c;let{reqId:r,receipt:u,hid:v,onReceiptToggle:_,onRefetch:m,showAs:p}=e;const{t:x}=(0,a.$G)(),[f,j]=(0,l.useState)(""),[g,b]=(0,l.useState)(!0),[y,N]=(0,l.useState)(!1),Z=()=>{},[S]=(0,o.JM)();return(0,h.jsxs)(oe.Z,{onClose:_,children:[(0,h.jsxs)("div",{className:B,children:[(0,h.jsx)("h6",{children:x("fee_receipt_request")}),(0,h.jsx)(ie.Z,{customStyle:{width:"30rem",marginTop:"0.7rem"}}),(0,h.jsxs)("div",{className:M,children:[(0,h.jsx)("h6",{className:g?O:"",onClick:()=>b(!0),children:x("accept")}),(0,h.jsx)("h6",{className:g?"":O,onClick:()=>b(!1),children:x("reject")})]}),(0,h.jsxs)("section",{className:H,children:[(0,h.jsxs)("h6",{className:J,children:[x("name")," "," : "," ","".concat(null===u||void 0===u||null===(i=u.student)||void 0===i?void 0:i.studentFirstName," ").concat(null!==u&&void 0!==u&&null!==(t=u.student)&&void 0!==t&&t.studentMiddleName?null===u||void 0===u||null===(n=u.student)||void 0===n?void 0:n.studentMiddleName:""," ").concat(null===u||void 0===u||null===(s=u.student)||void 0===s?void 0:s.studentLastName)]}),(0,h.jsxs)("h6",{className:U,children:[x("amount")," "," : "," ",x("rs")," ",null!==(c=null===u||void 0===u?void 0:u.fee_payment_amount)&&void 0!==c?c:0]}),(0,h.jsx)("h6",{className:$,children:se()(null===u||void 0===u?void 0:u.created_at).format("DD MMM yyyy")})]}),g&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ae.Z,{labelText:x("bank_name_collect"),name:"fee_bank_name",type:"tel",value:null===u||void 0===u?void 0:u.fee_bank_name,onChange:Z,placeholder:x("please_enter_bank_name"),customStyleLabel:{marginTop:"6px",marginBottom:"7px"}}),(0,h.jsx)(ae.Z,{labelText:x("banke_holder_name"),name:"fee_bank_holder",type:"tel",value:null===u||void 0===u?void 0:u.fee_bank_holder,onChange:Z,placeholder:x("please_enter_name_of_bank_holder"),customStyleLabel:{marginTop:"6px",marginBottom:"7px"}}),(0,h.jsx)(ae.Z,{labelText:x("cheque_dd_neft"),name:"fee_utr_reference",type:"tel",value:null===u||void 0===u?void 0:u.fee_utr_reference,onChange:Z,placeholder:x("please_enter_utr_ref_number"),customStyleLabel:{marginTop:"6px",marginBottom:"7px"}}),null!==u&&void 0!==u&&u.fee_payment_acknowledge?(0,h.jsx)("button",{className:K,onClick:()=>(e=>{const i=window.open(e,"_blank","noopener,noreferrer");i&&(i.opener=null)})("".concat(de.r3,"/").concat(null===u||void 0===u?void 0:u.fee_payment_acknowledge)),children:x("payment_acknowledge")}):null]}),!g&&(0,h.jsx)(ae.Z,{labelText:x("reason_for_rejection_receipt"),name:"reason_for_rejection_receipt",type:"text",value:f,onChange:e=>j(e.target.value),placeholder:x("please_reason_for_rejection_receipt"),customStyleLabel:{marginTop:"6px",marginBottom:"7px"}}),(0,h.jsx)("button",{className:G,onClick:()=>{N((e=>!e)),S({hid:v,rid:null===u||void 0===u?void 0:u._id,reqId:r,status:"REJECTED"===p?g?"Over_Rejection":"Rejection_Notify":g?"Approved":"Rejected",receiptReason:{reason:f}}).then((()=>{m(),N((e=>!e)),_()})).catch((()=>{N((e=>!e))}))},children:x(g?"confirm":"confirm_reject")})]}),y&&(0,h.jsx)(d.Z,{})]})},re=e=>{var i,t,n,s,o,d,c,r,u,v,_,m,p,x,f,j,g;let{receipt:b,showAs:y,hid:N,onRefetch:Z}=e;const{t:S}=(0,a.$G)(),[R,k]=(0,l.useState)(!1),T=()=>{var e;("REQUEST"===y||null!==b&&void 0!==b&&null!==(e=b.receipt)&&void 0!==e&&e.re_apply&&"REJECTED"===y)&&k((e=>!e))};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("section",{className:C,onClick:T,children:[(0,h.jsxs)("div",{className:P,children:[(0,h.jsx)("img",{src:null!==b&&void 0!==b&&null!==(i=b.receipt)&&void 0!==i&&null!==(t=i.student)&&void 0!==t&&t.studentProfilePhoto?"".concat(de.yI,"/").concat(null===b||void 0===b||null===(n=b.receipt)||void 0===n||null===(s=n.student)||void 0===s?void 0:s.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"avatar",className:I}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h6",{className:q,children:"".concat(null===b||void 0===b||null===(o=b.receipt)||void 0===o||null===(d=o.student)||void 0===d?void 0:d.studentFirstName," ").concat(null!==b&&void 0!==b&&null!==(c=b.receipt)&&void 0!==c&&null!==(r=c.student)&&void 0!==r&&r.studentMiddleName?null===b||void 0===b||null===(u=b.receipt)||void 0===u||null===(v=u.student)||void 0===v?void 0:v.studentMiddleName:""," ").concat(null===b||void 0===b||null===(_=b.receipt)||void 0===_||null===(m=_.student)||void 0===m?void 0:m.studentLastName)}),(0,h.jsxs)("p",{className:q,children:[S("amount")," : ",S("rs")," ",(null===b||void 0===b||null===(p=b.receipt)||void 0===p?void 0:p.fee_payment_amount)||0]}),(0,h.jsx)("p",{className:A,children:se()(null===b||void 0===b?void 0:b.created_at).format("DD MMM yyyy")})]})]}),(0,h.jsxs)("h6",{className:E,children:[S("utr_number")," ",null===b||void 0===b||null===(x=b.receipt)||void 0===x?void 0:x.fee_utr_reference]}),"REJECTED"===y&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("h6",{className:V,children:[S("reason_for_rejection")," ",null!==(f=null===b||void 0===b||null===(j=b.receipt)||void 0===j?void 0:j.reason)&&void 0!==f?f:null===b||void 0===b?void 0:b.reason]}),(null===b||void 0===b||null===(g=b.receipt)||void 0===g?void 0:g.re_apply)&&(0,h.jsx)("button",{className:L,children:S("re_requested")})]})]}),R&&(0,h.jsx)(ce,{receipt:null===b||void 0===b?void 0:b.receipt,reqId:null===b||void 0===b?void 0:b._id,onReceiptToggle:T,hid:N,onRefetch:Z,showAs:y})]})},ue=e=>{var i;let{hid:t,search:n}=e;const{t:s}=(0,a.$G)(),[d,c]=(0,te.YD)(),[r,u]=(0,l.useState)(1),[v,_]=(0,l.useState)(!0),[m,p]=(0,l.useState)(!1),[x,f]=(0,l.useState)(!0),[j,g]=(0,l.useState)([]),{getReceiptListByHostel:b,getReceiptListByHostelRefetch:y}=(0,o.wz)({data:{hid:t,page:r,limit:10,filterBy:"ALL_REQUEST",search:null!==n&&void 0!==n?n:""},skip:!t});(0,l.useEffect)((()=>{t&&(f(!0),y())}),[t,r,n,y]),(0,l.useEffect)((()=>{c&&v&&u((e=>e+1))}),[c,v]),(0,l.useEffect)((()=>{var e,i;n?(g(null===b||void 0===b?void 0:b.all_requests),f(!1)):m?(g(null===b||void 0===b?void 0:b.all_requests),f(!1),p(!1)):null!==b&&void 0!==b&&b.all_requests?(g((e=>{var i;return[...new Set(null===(i=[...e,...null===b||void 0===b?void 0:b.all_requests])||void 0===i?void 0:i.map(JSON.stringify))].map(JSON.parse)})),f(!1)):0===(null===b||void 0===b||null===(i=b.all_requests)||void 0===i?void 0:i.length)&&f(!1);10===(null===b||void 0===b||null===(e=b.all_requests)||void 0===e?void 0:e.length)?_(!0):_(!1)}),[null===b||void 0===b?void 0:b.all_requests]);const N=()=>{p(!0),u(1),y()};return(0,h.jsxs)("div",{className:D,children:[(0,h.jsxs)("h6",{className:F,children:[s("total_request")," ",null!==(i=null===b||void 0===b?void 0:b.count)&&void 0!==i?i:0]}),null===j||void 0===j?void 0:j.map(((e,i)=>(null===j||void 0===j?void 0:j.length)===i+1?(0,h.jsx)("div",{ref:d,children:(0,h.jsx)(re,{receipt:e,showAs:"REQUEST",hid:t,onRefetch:N})},null===e||void 0===e?void 0:e._id):(0,h.jsx)(re,{receipt:e,showAs:"REQUEST",hid:t,onRefetch:N},null===e||void 0===e?void 0:e._id))),x&&(0,h.jsx)(le.Z,{})]})},ve=e=>{var i;let{hid:t,search:n}=e;const{t:s}=(0,a.$G)(),[d,c]=(0,te.YD)(),[r,u]=(0,l.useState)(1),[v,_]=(0,l.useState)(!0),[m,p]=(0,l.useState)(!0),[x,f]=(0,l.useState)([]),{getReceiptListByHostel:j,getReceiptListByHostelRefetch:g}=(0,o.wz)({data:{hid:t,page:r,limit:10,filterBy:"ALL_APPROVE",search:null!==n&&void 0!==n?n:""},skip:!t});return(0,l.useEffect)((()=>{t&&(p(!0),g())}),[t,r,n,g]),(0,l.useEffect)((()=>{c&&v&&u((e=>e+1))}),[c,v]),(0,l.useEffect)((()=>{var e,i;n?(f(null===j||void 0===j?void 0:j.all_requests),p(!1)):null!==j&&void 0!==j&&j.all_requests?(f((e=>{var i;return[...new Set(null===(i=[...e,...null===j||void 0===j?void 0:j.all_requests])||void 0===i?void 0:i.map(JSON.stringify))].map(JSON.parse)})),p(!1)):0===(null===j||void 0===j||null===(i=j.all_requests)||void 0===i?void 0:i.length)&&p(!1);10===(null===j||void 0===j||null===(e=j.all_requests)||void 0===e?void 0:e.length)?_(!0):_(!1)}),[null===j||void 0===j?void 0:j.all_requests]),(0,h.jsxs)("div",{className:D,children:[(0,h.jsxs)("h6",{className:F,children:[s("total_request")," ",null!==(i=null===j||void 0===j?void 0:j.count)&&void 0!==i?i:0]}),null===x||void 0===x?void 0:x.map(((e,i)=>(null===x||void 0===x?void 0:x.length)===i+1?(0,h.jsx)("div",{ref:d,children:(0,h.jsx)(re,{receipt:e})},null===e||void 0===e?void 0:e._id):(0,h.jsx)(re,{receipt:e},null===e||void 0===e?void 0:e._id))),m&&(0,h.jsx)(le.Z,{})]})},_e=e=>{var i;let{hid:t,search:n}=e;const{t:s}=(0,a.$G)(),[d,c]=(0,te.YD)(),[r,u]=(0,l.useState)(1),[v,_]=(0,l.useState)(!0),[m,p]=(0,l.useState)(!1),[x,f]=(0,l.useState)(!0),[j,g]=(0,l.useState)([]),{getReceiptListByHostel:b,getReceiptListByHostelRefetch:y}=(0,o.wz)({data:{hid:t,page:r,limit:10,filterBy:"ALL_REJECT",search:null!==n&&void 0!==n?n:""},skip:!t});(0,l.useEffect)((()=>{t&&(f(!0),y())}),[t,r,n,y]),(0,l.useEffect)((()=>{c&&v&&u((e=>e+1))}),[c,v]),(0,l.useEffect)((()=>{var e,i;n?(g(null===b||void 0===b?void 0:b.all_requests),f(!1)):m?(g(null===b||void 0===b?void 0:b.all_requests),f(!1),p(!1)):null!==b&&void 0!==b&&b.all_requests?(g((e=>{var i;return[...new Set(null===(i=[...e,...null===b||void 0===b?void 0:b.all_requests])||void 0===i?void 0:i.map(JSON.stringify))].map(JSON.parse)})),f(!1)):0===(null===b||void 0===b||null===(i=b.all_requests)||void 0===i?void 0:i.length)&&f(!1);10===(null===b||void 0===b||null===(e=b.all_requests)||void 0===e?void 0:e.length)?_(!0):_(!1)}),[null===b||void 0===b?void 0:b.all_requests]);const N=()=>{p(!0),u(1),y()};return(0,h.jsxs)("div",{className:D,children:[(0,h.jsxs)("h6",{className:F,children:[s("total_request")," ",null!==(i=null===b||void 0===b?void 0:b.count)&&void 0!==i?i:0]}),null===j||void 0===j?void 0:j.map(((e,i)=>(null===j||void 0===j?void 0:j.length)===i+1?(0,h.jsx)("div",{ref:d,children:(0,h.jsx)(re,{receipt:e,showAs:"REJECTED",hid:t,onRefetch:N})},null===e||void 0===e?void 0:e._id):(0,h.jsx)(re,{receipt:e,showAs:"REJECTED",hid:t,onRefetch:N},null===e||void 0===e?void 0:e._id))),x&&(0,h.jsx)(le.Z,{})]})},he=e=>{var i,t,s,o,d;let{hid:c,carryParentState:r}=e;const{t:u}=(0,a.$G)(),v=(0,n.s0)(),_=(0,n.TH)(),m=[{name:u("all_request"),id:0,url:"member/hostel?a=receipt&n=request"},{name:u("accepted"),id:1,url:"member/hostel?a=receipt&n=accept"},{name:u("rejected"),id:2,url:"member/hostel?a=receipt&n=reject"}],[p,x]=(0,l.useState)(""),[f,j]=(0,l.useState)("");(0,l.useEffect)((()=>{null!==_&&void 0!==_&&_.search&&(x(""),j(""))}),[null===_||void 0===_?void 0:_.search]);const g=(0,l.useCallback)((0,X.debounce)((e=>x(e)),500),[]);return(0,h.jsxs)("div",{className:T,style:{marginTop:"0"},children:[(0,h.jsxs)("section",{className:w,children:[(0,h.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{v(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,h.jsxs)("div",{className:w,style:{justifyContent:"space-between",width:"95%"},children:[(0,h.jsx)("h6",{children:u("fee_receipts_request")}),(0,h.jsx)("div",{className:Y,children:(0,h.jsx)("section",{className:z,style:{marginTop:"0"},children:(0,h.jsxs)("div",{className:W,children:[(0,h.jsx)("img",{className:Q,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,h.jsx)("input",{type:"text",placeholder:"Search receipts...",onChange:e=>{j(e.target.value),g(e.target.value)},value:f,style:{border:"0.029vw solid rgba(0, 0, 0, 0.15)",borderRadius:"6px"}})]})})})]})]}),(0,h.jsx)(ee.Z,{tabList:m,activeIndexTab:"request"===(null===_||void 0===_||null===(i=_.search)||void 0===i?void 0:i.substring(13))?0:"accept"===(null===_||void 0===_||null===(t=_.search)||void 0===t?void 0:t.substring(13))?1:2,showAs:!0,customStyleTab:{width:"100%"},customStyleLink:{width:"33.3%"},carryParentState:r}),(0,h.jsx)(ie.Z,{}),"request"===(null===_||void 0===_||null===(s=_.search)||void 0===s?void 0:s.substring(13))&&(0,h.jsx)(ue,{hid:c,search:p}),"accept"===(null===_||void 0===_||null===(o=_.search)||void 0===o?void 0:o.substring(13))&&(0,h.jsx)(ve,{hid:c,search:p}),"reject"===(null===_||void 0===_||null===(d=_.search)||void 0===d?void 0:d.substring(13))&&(0,h.jsx)(_e,{hid:c,search:p})]})};var me=t(85088),pe=t(48025),xe=t(49215),fe=t(69314);t(95048);const je=e=>{let{refund_amount:i,refund_student_count:t,hid:n}=e;const{t:s}=(0,a.$G)(),[d,c]=(0,l.useState)(!0),[r,u]=(0,l.useState)(""),[v,_]=(0,l.useState)(1),[m,p]=(0,te.YD)(),[x,f]=(0,l.useState)([]),[j,g]=(0,l.useState)(!0),[b,y]=(0,l.useState)(!1),{getAllDepositRefundByHostel:N,getAllDepositRefundByHostelRefetch:Z}=(0,o.yx)({data:{hid:n,page:v,limit:10,search:r},skip:!n});(0,l.useEffect)((()=>{p&&d&&_((e=>e+1))}),[p,d]),(0,l.useEffect)((()=>{n&&Z()}),[v,n,Z]),(0,l.useEffect)((()=>{var e,i;r?(f(null===N||void 0===N?void 0:N.all_receipts),g(!1)):b?(f(null===N||void 0===N?void 0:N.all_receipts),y(!1),g(!1)):null!==N&&void 0!==N&&N.all_receipts?(f((e=>{var i,t;return null===(i=[...new Set(null===(t=[...e,...null===N||void 0===N?void 0:N.all_receipts])||void 0===t?void 0:t.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),g(!1)):0===(null===N||void 0===N||null===(i=N.all_receipts)||void 0===i?void 0:i.length)&&g(!1);10===(null===N||void 0===N||null===(e=N.all_receipts)||void 0===e?void 0:e.length)?c(!0):c(!1)}),[null===N||void 0===N?void 0:N.all_receipts]);const S=(0,l.useCallback)((0,X.debounce)((e=>u(e)),500),[]);return(0,h.jsxs)("div",{children:[(0,h.jsxs)("section",{className:fe.Z.unused_container,children:[(0,h.jsx)("img",{src:"/images/rupee-symobl-icon.svg",alt:"rupee symobl"}),(0,h.jsxs)("div",{className:fe.Z.unused_container_text,children:[(0,h.jsxs)("div",{className:fe.Z.unused_container_text_inner,children:[(0,h.jsx)("h6",{children:s("total_refunded")}),(0,h.jsxs)("h6",{children:[s("rs")," ",null!==i&&void 0!==i?i:0]})]}),(0,h.jsx)("div",{className:fe.Z.unused_container_text_inner,children:(0,h.jsxs)("p",{children:[s("deposit_of")," ",null!==t&&void 0!==t?t:0," ",s("deposit_student")]})})]})]}),(0,h.jsxs)("div",{className:fe.Z.with_search,style:{marginBottom:"1rem"},children:[(0,h.jsx)("h6",{children:s("refunded_history")}),(0,h.jsx)("section",{className:fe.Z.search_container,children:(0,h.jsxs)("div",{className:fe.Z.search_container_input,children:[(0,h.jsx)("img",{className:fe.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,h.jsx)("input",{type:"text",placeholder:"Search",onChange:e=>{S(e.target.value)}})]})})]}),(0,h.jsxs)("div",{className:fe.Z.refund_list,children:[null===x||void 0===x?void 0:x.map(((e,i)=>{var t,l,n,o,a,d,c,r,u,v,_,p,f,j,g,b,y,N,Z,S;return(null===x||void 0===x?void 0:x.length)===i+1?(0,h.jsxs)("div",{className:fe.Z.corpus_card,ref:m,children:[(0,h.jsxs)("h6",{style:{textAlign:"center"},children:[s("invoice_number"),null!==(t=null===e||void 0===e?void 0:e.invoice_count)&&void 0!==t?t:""]}),(0,h.jsx)("p",{className:fe.Z.recieve_from,children:s("paid_to")}),(0,h.jsxs)("div",{className:fe.Z.unused_container_text_inner,children:[(0,h.jsx)("h6",{children:"".concat(null!==(l=null===e||void 0===e||null===(n=e.student)||void 0===n?void 0:n.studentFirstName)&&void 0!==l?l:""," ").concat(null!==(o=null===e||void 0===e||null===(a=e.student)||void 0===a?void 0:a.studentMiddleName)&&void 0!==o?o:""," ").concat(null!==(d=null===e||void 0===e||null===(c=e.student)||void 0===c?void 0:c.studentLastName)&&void 0!==d?d:"")}),(0,h.jsxs)("h6",{children:[s("rs")," ",null!==(r=null===e||void 0===e?void 0:e.fee_payment_amount)&&void 0!==r?r:0]})]}),(0,h.jsxs)("div",{className:fe.Z.unused_container_text_inner,children:[(0,h.jsxs)("p",{style:{color:"rgba(18, 18, 18, 0.8)"},children:[null===(u=se()(null===e||void 0===e?void 0:e.created_at))||void 0===u?void 0:u.format("DD MMM yyyy"),","," ",null===(v=se()(null===e||void 0===e?void 0:e.created_at))||void 0===v?void 0:v.format("LT")]}),(0,h.jsx)("p",{style:{color:"rgba(18, 18, 18, 0.8)"},children:"Online"===(null===e||void 0===e?void 0:e.fee_payment_mode)?"Bank":"Cash"})]})]},i):(0,h.jsxs)("div",{className:fe.Z.corpus_card,children:[(0,h.jsxs)("h6",{style:{textAlign:"center"},children:[s("invoice_number"),null!==(_=null===e||void 0===e?void 0:e.invoice_count)&&void 0!==_?_:""]}),(0,h.jsx)("p",{className:fe.Z.recieve_from,children:s("paid_to")}),(0,h.jsxs)("div",{className:fe.Z.unused_container_text_inner,children:[(0,h.jsx)("h6",{children:"".concat(null!==(p=null===e||void 0===e||null===(f=e.student)||void 0===f?void 0:f.studentFirstName)&&void 0!==p?p:""," ").concat(null!==(j=null===e||void 0===e||null===(g=e.student)||void 0===g?void 0:g.studentMiddleName)&&void 0!==j?j:""," ").concat(null!==(b=null===e||void 0===e||null===(y=e.student)||void 0===y?void 0:y.studentLastName)&&void 0!==b?b:"")}),(0,h.jsxs)("h6",{children:[s("rs")," ",null!==(N=null===e||void 0===e?void 0:e.fee_payment_amount)&&void 0!==N?N:0]})]}),(0,h.jsxs)("div",{className:fe.Z.unused_container_text_inner,children:[(0,h.jsxs)("p",{style:{color:"rgba(18, 18, 18, 0.8)"},children:[null===(Z=se()(null===e||void 0===e?void 0:e.created_at))||void 0===Z?void 0:Z.format("DD MMM yyyy"),","," ",null===(S=se()(null===e||void 0===e?void 0:e.created_at))||void 0===S?void 0:S.format("LT")]}),(0,h.jsx)("p",{style:{color:"rgba(18, 18, 18, 0.8)"},children:"Online"===(null===e||void 0===e?void 0:e.fee_payment_mode)?"Bank":"Cash"})]})]},i)})),j&&(0,h.jsx)(le.Z,{})]})]})};var ge=t(87932),be=t(51561),ye=t(49886);const Ne=e=>{var i;let{onClose:t,fmid:n,onRefecthParent:s}=e;const{t:o}=(0,a.$G)(),[c,r]=(0,te.YD)(),[u,v]=(0,l.useState)(1),[_,m]=(0,l.useState)(!0),[p,x]=(0,l.useState)(!0),[f,j]=(0,l.useState)([]),[g,b]=(0,l.useState)(""),[y,N]=(0,l.useState)(""),[Z,S]=(0,l.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),[R,k]=(0,l.useState)(""),[T,w]=(0,l.useState)(!1),[D,F]=(0,l.useState)({msg:"",run:!1}),[q,C]=(0,l.useState)(!1),[P]=(0,ge.bC)(),{getMasterDepositAllByFinance:A,getMasterDepositAllByFinanceRefetch:E}=(0,ge._7)({data:{search:g,page:u,limit:10,fmid:n},skip:!n});(0,l.useEffect)((()=>{n&&(x(!0),E())}),[n,u,g,E]),(0,l.useEffect)((()=>{r&&_&&v((e=>e+1))}),[r,_]),(0,l.useEffect)((()=>{var e,i;g?(j(null===A||void 0===A?void 0:A.all_students),x(!1)):T?(j(null===A||void 0===A?void 0:A.all_students),w(!1),x(!1)):null!==A&&void 0!==A&&A.all_students?(j((e=>{var i,t;return null===(i=[...new Set(null===(t=[...e,...null===A||void 0===A?void 0:A.all_students])||void 0===t?void 0:t.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),x(!1)):0===(null===A||void 0===A||null===(i=A.all_students)||void 0===i?void 0:i.length)&&x(!1);10===(null===A||void 0===A||null===(e=A.all_students)||void 0===e?void 0:e.length)?m(!0):m(!1)}),[null===A||void 0===A?void 0:A.all_students]);const I=(0,l.useCallback)((0,X.debounce)((e=>b(e)),500),[]),L=()=>{N("")};return(0,h.jsxs)(oe.Z,{onClose:t,children:[!y&&(0,h.jsxs)("div",{className:fe.Z.student_container_modal,style:{minWidth:"43rem",maxWidth:"50rem"},children:[(0,h.jsx)("div",{className:fe.Z.with_search,style:{marginTop:"1rem",width:"100%",border:"0.4px solid rgba(0, 0, 0, 0.15)",borderRadius:"6px",marginBottom:"0.3rem"},children:(0,h.jsxs)("div",{className:fe.Z.search_container_input,style:{width:"100%"},children:[(0,h.jsx)("img",{className:fe.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,h.jsx)("input",{type:"text",placeholder:"Search Student...",style:{width:"100%"},onChange:e=>{I(e.target.value)}})]})}),null===f||void 0===f?void 0:f.map(((e,i)=>{var t,l,n,s,a,d,r,u;return(null===f||void 0===f?void 0:f.length)===i+1?(0,h.jsxs)("section",{className:fe.Z.student_container,title:"Refund deposit",ref:c,onClick:()=>N(e),children:[(0,h.jsx)("img",{src:"1"!==e.photoId?"".concat(de.yI,"/").concat(null===e||void 0===e?void 0:e.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"student avatar"}),(0,h.jsxs)("div",{className:fe.Z.conainter_main,children:[(0,h.jsxs)("div",{className:fe.Z.student_container_name,children:[(0,h.jsx)("h6",{children:"".concat(null===e||void 0===e?void 0:e.studentFirstName," ").concat(null!==e&&void 0!==e&&e.studentMiddleName?null===e||void 0===e?void 0:e.studentMiddleName:""," ").concat(null===e||void 0===e?void 0:e.studentLastName)}),(0,h.jsxs)("h6",{className:fe.Z.student_container_gr,children:[o("rs"),". ",null!==(t=null===e||void 0===e?void 0:e.deposit_pending_amount)&&void 0!==t?t:0]})]}),(0,h.jsxs)("div",{className:fe.Z.student_container_name,children:[(0,h.jsxs)("h6",{children:[o("gr_number"),null!==(l=null===e||void 0===e?void 0:e.studentGRNO)&&void 0!==l?l:""," ",", ",null!==(n=null===e||void 0===e||null===(s=e.department)||void 0===s?void 0:s.dName)&&void 0!==n?n:""]}),(0,h.jsx)("p",{className:fe.Z.student_container_gr,children:o("pending_deposit")})]})]})]},null===e||void 0===e?void 0:e._id):(0,h.jsxs)("section",{className:fe.Z.student_container,title:"Refund deposit",onClick:()=>N(e),children:[(0,h.jsx)("img",{src:"1"!==e.photoId?"".concat(de.yI,"/").concat(null===e||void 0===e?void 0:e.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"student avatar"}),(0,h.jsxs)("div",{className:fe.Z.conainter_main,children:[(0,h.jsxs)("div",{className:fe.Z.student_container_name,children:[(0,h.jsx)("h6",{children:"".concat(null===e||void 0===e?void 0:e.studentFirstName," ").concat(null!==e&&void 0!==e&&e.studentMiddleName?null===e||void 0===e?void 0:e.studentMiddleName:""," ").concat(null===e||void 0===e?void 0:e.studentLastName)}),(0,h.jsxs)("h6",{className:fe.Z.student_container_gr,children:[o("rs"),". ",null!==(a=null===e||void 0===e?void 0:e.deposit_pending_amount)&&void 0!==a?a:0]})]}),(0,h.jsxs)("div",{className:fe.Z.student_container_name,children:[(0,h.jsxs)("h6",{children:[o("gr_number"),null!==(d=null===e||void 0===e?void 0:e.studentGRNO)&&void 0!==d?d:""," ",", ",null!==(r=null===e||void 0===e||null===(u=e.department)||void 0===u?void 0:u.dName)&&void 0!==r?r:""]}),(0,h.jsx)("p",{className:fe.Z.student_container_gr,children:o("pending_deposit")})]})]})]},null===e||void 0===e?void 0:e._id)})),p&&(0,h.jsx)(le.Z,{})]}),y&&(0,h.jsxs)("div",{className:fe.Z.student_container_modal,children:[(0,h.jsxs)("section",{className:fe.Z.moderator_container_title,children:[(0,h.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:L,alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,h.jsx)("div",{className:fe.Z.with_search,children:(0,h.jsx)("h6",{children:o("refund_deposit")})})]}),(0,h.jsx)(ie.Z,{customStyle:{width:"100%"}}),(0,h.jsxs)("div",{className:fe.Z.unused_container_text_inner,style:{marginTop:"1rem"},children:[(0,h.jsx)("h6",{children:o("pending_deposit")}),(0,h.jsxs)("h6",{children:[o("rs")," ",null!==(i=null===y||void 0===y?void 0:y.deposit_pending_amount)&&void 0!==i?i:0]})]}),(0,h.jsx)(ye.Z,{paymentHeading:o("payment_type_mode"),paymentHeadingPlaceholder:o("refund_cash_bank"),onInputChange:e=>{S((i=>({...i,mode:"By Bank"===e?"Online":"Offline",fee_payment_mode:e})))},errorShow:R.fee_payment_mode,openAs:"DEPOSIT_REFUND_LIST"}),(0,h.jsx)(ae.Z,{labelText:o("amount"),name:"fee_payment_amount",type:"tel",value:null===Z||void 0===Z?void 0:Z.fee_payment_amount,onChange:e=>{S((i=>({...i,amount:+e.target.value,fee_payment_amount:+e.target.value})))},placeholder:o("please_enter_amount_paid"),errorShow:R.fee_payment_amount}),(0,h.jsx)("button",{className:fe.Z.applicable_to_btn,style:{marginTop:"2rem",marginBottom:"1rem",justifyContent:"center"},onClick:()=>{const e=(e=>{const i={};for(let t in e)"fee_bank_name"===t||"fee_bank_holder"===t||"fee_utr_reference"===t||"amount"===t||"transaction_date"===t||"mode"===t||(e[t]?"fee_payment_amount"===t&&e[t]>(null===y||void 0===y?void 0:y.deposit_pending_amount)&&(F({msg:"You can not enter amount greater than Deposit amount",run:!0}),i.fee_payment_amount="".concat(t," is required!")):i[t]="".concat(t," is required!"));return i})(Z);let i=!1;for(let t in e){i=!0;break}i?k(e):(C((e=>!e)),P({fmid:n,sid:null===y||void 0===y?void 0:y._id,refundDeposit:Z}).then((()=>{v(1),w(!0),E(),s(),L(),C((e=>!e))})).catch({}))},children:o("confirm")}),q&&(0,h.jsx)(d.Z,{})]}),(0,h.jsx)(be.Ch,{msg:D.msg,run:D.run,setRun:()=>F({msg:"",run:!1}),postiton:"bottom",type:"error"})]})},Ze=e=>{var i,t,s,d,c,r,u;let{hid:v}=e;const{t:_}=(0,a.$G)(),m=(0,n.s0)(),[p,x]=(0,l.useState)(!1),f=[{name:_("deposit_collection"),id:0},{name:_("deposit_refund"),id:1},{name:_("deposit_data_file"),id:3}],[j,g]=(0,l.useState)(0),{getMasterDepositByHostel:b,getMasterDepositByHostelRefetch:y}=(0,o.hP)({hid:v,skip:!v});(0,l.useEffect)((()=>{v&&y()}),[v,y]);return(0,h.jsxs)("div",{className:fe.Z.moderator_container,style:{marginTop:"0"},children:[(0,h.jsxs)("section",{className:fe.Z.moderator_container_title,children:[(0,h.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{m(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,h.jsxs)("div",{className:fe.Z.with_search,children:[(0,h.jsx)("h6",{children:_("finance_deposit")}),(0,h.jsx)("div",{className:fe.Z.search_container_filter,children:(0,h.jsx)("img",{src:"/images/filter-blue-icon.svg",alt:"filter icon"})})]})]}),(0,h.jsx)(ie.Z,{customStyle:{width:"100%"}}),(0,h.jsx)(ee.Z,{tabList:f,activeIndexTab:j,setActiveIndexTab:g,showAs:!1,customStyleTab:{width:"33.33%"}}),(0,h.jsx)(ie.Z,{customStyle:{width:"100%",marginBottom:"0.5rem"}}),0===j&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("button",{className:fe.Z.applicable_to_btn,onClick:()=>x(!0),style:{width:"50%",marginTop:"2rem",marginBottom:"1rem"},children:[(0,h.jsxs)("div",{children:[_("deposit_fee_head_linking")," "]}),(0,h.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),(0,h.jsx)("div",{className:fe.Z.refund_list,children:(0,h.jsxs)("section",{className:fe.Z.unused_container,children:[(0,h.jsx)("img",{src:"/images/rupee-symobl-icon.svg",alt:"rupee symobl"}),(0,h.jsxs)("div",{className:fe.Z.unused_container_text,children:[(0,h.jsxs)("div",{className:fe.Z.unused_container_text_inner,children:[(0,h.jsx)("h6",{children:_("total_deposit")}),(0,h.jsxs)("h6",{children:[_("rs")," ",null!==(i=null===b||void 0===b||null===(t=b.master)||void 0===t?void 0:t.deposit_amount)&&void 0!==i?i:0]})]}),(0,h.jsx)("div",{className:fe.Z.unused_container_text_inner,children:(0,h.jsxs)("p",{children:[_("deposit_of")," ",null!==(s=null===b||void 0===b||null===(d=b.master)||void 0===d?void 0:d.paid_student_count)&&void 0!==s?s:0," ",_("deposit_student")]})})]})]})})]}),1===j&&(0,h.jsx)(je,{refund_amount:null===b||void 0===b||null===(c=b.master)||void 0===c?void 0:c.refund_amount,refund_student_count:null===b||void 0===b||null===(r=b.master)||void 0===r?void 0:r.refund_student_count,hid:v}),p&&(0,h.jsx)(Ne,{onClose:()=>x(!1),fmid:null===b||void 0===b||null===(u=b.master)||void 0===u?void 0:u._id,onRefecthParent:y})]})};var Se=t(44241),Re=t(82104),ke=t(73309);const Te=e=>{var i,t,n,c;let{institute:r,border:u,hid:v,onRefetch:_}=e;const{t:m}=(0,a.$G)(),[p]=(0,o.Lt)(),[x,f]=(0,l.useState)(!1);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:s.Z.transpotation_card,style:{justifyContent:"space-between"},children:[(0,h.jsxs)("div",{className:s.Z.transpotation_card_detail,children:[(0,h.jsx)("img",{src:null!==r&&void 0!==r&&r.insProfilePhoto?"".concat(de.yI,"/").concat(r.insProfilePhoto):"/images/user-icon.svg",alt:"avatar"}),(0,h.jsxs)("div",{className:s.Z.transpotation_card_detail_text,children:[(0,h.jsx)("h6",{children:null!==(i=null===r||void 0===r?void 0:r.insName)&&void 0!==i?i:""}),(0,h.jsx)("h6",{style:{fontSize:"12px"},children:null!==(t=null===r||void 0===r?void 0:r.name)&&void 0!==t?t:""})]})]}),(null===r||void 0===r||null===(n=r.hostelDepart)||void 0===n?void 0:n.length)>0?v===(null===r||void 0===r||null===(c=r.hostelDepart)||void 0===c?void 0:c[0])?(0,h.jsx)("div",{className:s.Z.linked_institute_btn,children:m("linked")}):null:(0,h.jsx)("div",{className:s.Z.linked_institute_btn,onClick:()=>{v&&null!==r&&void 0!==r&&r._id&&(f((e=>!e)),p({hid:v,id:null===r||void 0===r?void 0:r._id}).then((()=>{_(),f((e=>!e))})).catch({}))},children:m("linked_institute")})]}),u&&(0,h.jsx)(ie.Z,{customStyle:{width:"100%"}}),x&&(0,h.jsx)(d.Z,{})]})},we=e=>{let{hid:i}=e;const{t:t}=(0,a.$G)(),[n,d]=(0,l.useState)(""),[c,r]=(0,te.YD)({skip:n}),[u,v]=(0,l.useState)(1),[_,m]=(0,l.useState)(!0),[p,x]=(0,l.useState)(!0),[f,j]=(0,l.useState)([]),[g,b]=(0,l.useState)(!1),{getHostelLinkedList:y,getHostelLinkedListRefetch:N}=(0,o.Bt)({data:{hid:i,page:u,limit:10,search:n},skip:!i});(0,l.useEffect)((()=>{i&&(x(!0),N())}),[i,u,n,N]),(0,l.useEffect)((()=>{r&&_&&v((e=>e+1))}),[r,_]),(0,l.useEffect)((()=>{var e,i;g?(j(null===y||void 0===y?void 0:y.all_ins),x(!1),b(!1)):n?(j(null===y||void 0===y?void 0:y.all_ins),x(!1)):null!==y&&void 0!==y&&y.all_ins?(j((e=>{var i,t;return null===(i=[...new Set(null===(t=[...e,...null===y||void 0===y?void 0:y.all_ins])||void 0===t?void 0:t.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),x(!1)):0===(null===y||void 0===y||null===(i=y.all_ins)||void 0===i?void 0:i.length)&&x(!1);10===(null===y||void 0===y||null===(e=y.all_ins)||void 0===e?void 0:e.length)?m(!0):m(!1)}),[null===y||void 0===y?void 0:y.all_ins]);const Z=(0,l.useCallback)((0,X.debounce)((e=>d(e)),500),[]),S=()=>{v(1),b(!0),x(!0),N()};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:s.Z.with_search,children:[(0,h.jsx)("h6",{children:t("linked_institute")}),(0,h.jsx)("section",{className:s.Z.search_container,children:(0,h.jsxs)("div",{className:s.Z.search_container_input,children:[(0,h.jsx)("img",{className:s.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,h.jsx)("input",{type:"text",placeholder:"Search institutes...",onChange:e=>{e.target.value?Z(e.target.value):(Z(""),v((e=>1)))}})]})})]}),(0,h.jsx)(ie.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,h.jsx)("div",{className:s.Z.vehicle_list,children:null===f||void 0===f?void 0:f.map(((e,t)=>(null===f||void 0===f?void 0:f.length)===t+1?(0,h.jsx)("div",{ref:c,style:{width:"100%"},children:(0,h.jsx)(Te,{institute:e,hid:i,onRefetch:S})},null===e||void 0===e?void 0:e._id):(0,h.jsx)(Te,{institute:e,border:!0,hid:i,onRefetch:S},null===e||void 0===e?void 0:e._id)))}),p&&(0,h.jsx)(le.Z,{status:"white"})]})},De=e=>{var i,t,a,d,c,r,u,v,_,m,p,x,f,T,w,D,F,q,C,P,A,E,I,L,B,M,O,G,H,J,U,$,V,Y,z,W,Q,K,X,ee,ie,te,le,ne,se,oe,ae;let{onClickValue:de,carryParentState:ce,role:re,mid:ue}=e;const ve=(0,n.TH)(),[_e,fe]=(0,l.useState)(""),{hostelDetail:je,hostelDetailRefetch:ge}=(0,o.QP)({data:{hid:re?null===de||void 0===de?void 0:de.hostel:de,mod_id:re?ue:""},skip:de?!de:null===de||void 0===de?void 0:de.hostel});return(0,l.useEffect)((()=>{(de||null!==de&&void 0!==de&&de.hostel)&&ge()}),[de,null===de||void 0===de?void 0:de.hostel,ge]),(0,l.useEffect)((()=>{var e,i;if(null!==je&&void 0!==je&&null!==(e=je.roles)&&void 0!==e&&e.length){if(re){let e=null===de||void 0===de?void 0:de._id;for(let i of null===je||void 0===je?void 0:je.roles)if(e===(null===i||void 0===i?void 0:i._id)){fe(i);break}}}else 0===(null===je||void 0===je||null===(i=je.roles)||void 0===i?void 0:i.length)&&fe("")}),[null===je||void 0===je?void 0:je.roles]),(0,h.jsxs)("div",{style:{marginTop:"1rem"},children:[(!(null!==ve&&void 0!==ve&&ve.search)||"fee"===(null===ve||void 0===ve||null===(i=ve.search)||void 0===i?void 0:i.substring(3,6))||"fund"===(null===ve||void 0===ve||null===(t=ve.search)||void 0===t?void 0:t.substring(3)))&&(0,h.jsx)(j,{hid:re?null===de||void 0===de?void 0:de.hostel:de,hostel:null===je||void 0===je?void 0:je.one_hostel,carryParentState:ce,onRefetch:ge,activatedRole:_e,callApi:!(null===je||void 0===je||null===(a=je.one_hostel)||void 0===a||!a._id)}),"warden"===(null===ve||void 0===ve||null===(d=ve.search)||void 0===d?void 0:d.substring(3))&&(0,h.jsx)("div",{className:s.Z.hostel_container,children:(0,h.jsx)(g.Z,{hid:re?null===de||void 0===de?void 0:de.hostel:de})}),"unit"===(null===ve||void 0===ve||null===(c=ve.search)||void 0===c?void 0:c.substring(3))&&(0,h.jsx)("div",{className:s.Z.hostel_container,children:(0,h.jsx)(b.Z,{hid:re?null===de||void 0===de?void 0:de.hostel:de,carryParentState:ce,instituteId:null===je||void 0===je||null===(r=je.one_hostel)||void 0===r||null===(u=r.institute)||void 0===u?void 0:u._id,callApi:!(null===je||void 0===je||null===(v=je.one_hostel)||void 0===v||!v._id)})}),("unit&n=info"===(null===ve||void 0===ve||null===(_=ve.search)||void 0===_?void 0:_.substring(3))||"unit&n=hostelites"===(null===ve||void 0===ve||null===(m=ve.search)||void 0===m?void 0:m.substring(3))||"unit&n=menu&n=room"===(null===ve||void 0===ve||null===(p=ve.search)||void 0===p?void 0:p.substring(3)))&&(0,h.jsx)(Z.Z,{carryParentState:ce,callApi:!(null===je||void 0===je||null===(x=je.one_hostel)||void 0===x||!x._id),instituteId:null===je||void 0===je||null===(f=je.one_hostel)||void 0===f||null===(T=f.institute)||void 0===T?void 0:T._id}),"unit&n=room"===(null===ve||void 0===ve||null===(w=ve.search)||void 0===w?void 0:w.substring(3))&&(0,h.jsx)(S.Z,{carryParentState:ce}),"rule"===(null===ve||void 0===ve||null===(D=ve.search)||void 0===D?void 0:D.substring(3))&&(0,h.jsx)("div",{className:s.Z.hostel_container,children:(0,h.jsx)(y.Z,{hid:re?null===de||void 0===de?void 0:de.hostel:de})}),"form"===(null===ve||void 0===ve||null===(F=ve.search)||void 0===F?void 0:F.substring(3))&&(0,h.jsx)("div",{className:s.Z.hostel_container,children:(0,h.jsx)(N.Z,{hid:re?null===de||void 0===de?void 0:de.hostel:de})}),"request"===(null===ve||void 0===ve||null===(q=ve.search)||void 0===q?void 0:q.substring(3,10))&&(0,h.jsx)("div",{className:s.Z.hostel_container,children:(0,h.jsx)(R.Z,{hid:re?null===de||void 0===de?void 0:de.hostel:de,carryParentState:ce,accessRole:null===_e||void 0===_e?void 0:_e.access_role,accessApplication:null!==(C=null===_e||void 0===_e?void 0:_e.access_application)&&void 0!==C?C:[],accessTpye:null!==(P=null===_e||void 0===_e||null===(A=_e.active_tab)||void 0===A?void 0:A.role)&&void 0!==P?P:"Application",callApi:!(null===je||void 0===je||null===(E=je.one_hostel)||void 0===E||!E._id),instituteId:null===je||void 0===je||null===(I=je.one_hostel)||void 0===I||null===(L=I.institute)||void 0===L?void 0:L._id})}),"notice"===(null===ve||void 0===ve||null===(B=ve.search)||void 0===B?void 0:B.substring(3,10))&&(0,h.jsx)("div",{className:s.Z.hostel_container,children:(0,h.jsx)(k.Z,{hid:re?null===de||void 0===de?void 0:de.hostel:de,carryParentState:ce})}),"receipt"===(null===ve||void 0===ve||null===(M=ve.search)||void 0===M?void 0:M.substring(3,10))&&(0,h.jsx)("div",{className:s.Z.hostel_container,children:(0,h.jsx)(he,{hid:re?null===de||void 0===de?void 0:de.hostel:de,carryParentState:ce})}),"hostelites"===(null===ve||void 0===ve||null===(O=ve.search)||void 0===O?void 0:O.substring(3))&&(0,h.jsx)("div",{className:s.Z.hostel_container,children:(0,h.jsx)(me.Z,{hid:re?null===de||void 0===de?void 0:de.hostel:de,carryParentState:ce,filter_by:"",instituteId:null===je||void 0===je||null===(G=je.one_hostel)||void 0===G||null===(H=G.institute)||void 0===H?void 0:H._id})}),(null===ve||void 0===ve?void 0:ve.search)&&"pending"===(null===ve||void 0===ve||null===(J=ve.search)||void 0===J?void 0:J.substring(3))&&(0,h.jsx)("div",{className:s.Z.hostel_container,children:(0,h.jsx)(pe.Z,{hid:re?null===de||void 0===de?void 0:de.hostel:de,instituteId:null===je||void 0===je||null===(U=je.one_hostel)||void 0===U||null===($=U.institute)||void 0===$?void 0:$._id})}),(null===ve||void 0===ve?void 0:ve.search)&&"moderator"===(null===ve||void 0===ve||null===(V=ve.search)||void 0===V?void 0:V.substring(3))&&(0,h.jsx)("div",{className:s.Z.hostel_container,children:(0,h.jsx)(xe.Z,{hid:re?null===de||void 0===de?void 0:de.hostel:de,instituteId:null===je||void 0===je||null===(Y=je.one_hostel)||void 0===Y||null===(z=Y.institute)||void 0===z?void 0:z._id})}),"deposit"===(null===ve||void 0===ve||null===(W=ve.search)||void 0===W?void 0:W.substring(3))&&(0,h.jsx)("div",{className:s.Z.hostel_container,children:(0,h.jsx)(Ze,{hid:re?null===de||void 0===de?void 0:de.hostel:de})}),"export"===(null===ve||void 0===ve||null===(Q=ve.search)||void 0===Q?void 0:Q.substring(3))&&(0,h.jsx)("div",{className:s.Z.hostel_container,children:(0,h.jsx)(Se.Z,{hostelId:re?null===de||void 0===de?void 0:de.hostel:de,instituteId:null===je||void 0===je||null===(K=je.one_hostel)||void 0===K||null===(X=K.institute)||void 0===X||null===(ee=X.financeDepart)||void 0===ee||null===(ie=ee[0])||void 0===ie?void 0:ie._id})}),"batch"===(null===ve||void 0===ve||null===(te=ve.search)||void 0===te?void 0:te.substring(3))&&(0,h.jsx)("div",{className:s.Z.hostel_container,children:(0,h.jsx)(Re.Z,{hid:re?null===de||void 0===de?void 0:de.hostel:de,selectedBacthId:null===je||void 0===je||null===(le=je.one_hostel)||void 0===le?void 0:le.departmentSelectBatch,onMasterApiRefetch:ge,carryParentState:ce,instituteId:null===je||void 0===je||null===(ne=je.one_hostel)||void 0===ne||null===(se=ne.institute)||void 0===se?void 0:se._id})}),"standard"===(null===ve||void 0===ve||null===(oe=ve.search)||void 0===oe?void 0:oe.substring(3))&&(0,h.jsx)("div",{className:s.Z.hostel_container,children:(0,h.jsx)(ke.Z,{hid:re?null===de||void 0===de?void 0:de.hostel:de,carryParentState:ce})}),"linked"===(null===ve||void 0===ve||null===(ae=ve.search)||void 0===ae?void 0:ae.substring(3))&&(0,h.jsx)("div",{className:s.Z.hostel_container,children:(0,h.jsx)(we,{hid:re?null===de||void 0===de?void 0:de.hostel:de})})]})};var Fe=t(87087),qe=t(19765);const Ce=()=>{var e,i,t,l,s,o,a,d,c,r,u,v,_;const m=(0,n.TH)();return(0,h.jsx)(h.Fragment,{children:"site"===(null===m||void 0===m||null===(e=m.search)||void 0===e?void 0:e.substring(3))?(0,h.jsx)(qe.Z,{hid:null===m||void 0===m||null===(i=m.state)||void 0===i?void 0:i.onClickValue}):(0,h.jsx)(Fe.Z,{index:null!==m&&void 0!==m&&null!==(t=m.state)&&void 0!==t&&t.role?"31":"28",sid:null!==(l=null===m||void 0===m||null===(s=m.state)||void 0===s?void 0:s.sid)&&void 0!==l?l:"",onClickValue:null!==(o=null===m||void 0===m||null===(a=m.state)||void 0===a?void 0:a.onClickValue)&&void 0!==o?o:"",children:(0,h.jsx)(De,{onClickValue:null!==(d=null===m||void 0===m||null===(c=m.state)||void 0===c?void 0:c.onClickValue)&&void 0!==d?d:"",role:null===m||void 0===m||null===(r=m.state)||void 0===r?void 0:r.role,mid:null!==m&&void 0!==m&&null!==(u=m.state)&&void 0!==u&&u.role?null===m||void 0===m||null===(v=m.state)||void 0===v||null===(_=v.onClickValue)||void 0===_?void 0:_._id:"",carryParentState:null===m||void 0===m?void 0:m.state})})})}},69314:(e,i,t)=>{t.d(i,{Z:()=>l});const l={moderator_container:"Deposit_moderator_container__uYc+U",moderator_container_title:"Deposit_moderator_container_title__2drHz",add_new_moderator:"Deposit_add_new_moderator__24P1G",menu_icon:"Deposit_menu_icon__teeam",scholarship_card_container:"Deposit_scholarship_card_container__DhFaA",assign_role_container:"Deposit_assign_role_container__r-1pQ",assign_role_title:"Deposit_assign_role_title__lXinn",applicable_to_btn:"Deposit_applicable_to_btn__mWWfO",category_card:"Deposit_category_card__DFup3",category_card_hover_active:"Deposit_category_card_hover_active__TfGHF",scholar_preview_container:"Deposit_scholar_preview_container__SGhqf",candidate_card_container:"Deposit_candidate_card_container__+UBtq",candidate_card_container_text:"Deposit_candidate_card_container_text__rR493",candidate_card_row:"Deposit_candidate_card_row__HMz9f",student_container:"Deposit_student_container__lsw8R",conainter_main:"Deposit_conainter_main__TrWk+",student_container_name:"Deposit_student_container_name__mZ8HN",search_container:"Deposit_search_container__PtFNP",search_container_text:"Deposit_search_container_text__JnaM6",search_container_input:"Deposit_search_container_input__Iz1uP",searchIcon:"Deposit_searchIcon__-4uou",allot_container:"Deposit_allot_container__+1Brf",unused_container:"Deposit_unused_container__Lh4Xk",unused_container_text:"Deposit_unused_container_text__V764F",unused_container_text_inner:"Deposit_unused_container_text_inner__cyPQR",intake_history:"Deposit_intake_history__k+KcC",corpus_card:"Deposit_corpus_card__Dw2Gw",recieve_from:"Deposit_recieve_from__XY3mV",save_entry:"Deposit_save_entry__-3pcb",row_search:"Deposit_row_search__FrSt8",with_search:"Deposit_with_search__pybCG",search_container_filter:"Deposit_search_container_filter__sx4qD",student_container_modal:"Deposit_student_container_modal__l2laG"}},62593:(e,i,t)=>{t.d(i,{Z:()=>l});const l={funds:"Funds_funds__XXSmB",funds2:"Funds_funds2__5U4RF",fundshead:"Funds_fundshead__R-qoL",fundscontent:"Funds_fundscontent__zmihY",sidebarbottomitem:"Funds_sidebarbottomitem__gbNxT",namee:"Funds_namee__3aSte",desig:"Funds_desig__8wkw4",balanceItem:"Funds_balanceItem__p2auy",fundbtn:"Funds_fundbtn__e-s12",filter_container:"Funds_filter_container__WO0+k",next_btn:"Funds_next_btn__5U9tW"}}}]);
//# sourceMappingURL=20157.da2dcad0.chunk.js.map