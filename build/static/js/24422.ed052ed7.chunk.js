"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[24422,39832],{33030:(e,l,i)=>{i.d(l,{Z:()=>o});var n=i(39230),d=i(80476),t=i(80184);const o=e=>{let{label:l,onAction:i,customStyle:o}=e;const{t:s}=(0,n.$G)();return(0,t.jsx)("div",{className:d.Z.btn_container,onClick:()=>{i()},style:o,children:s(l)})}},23984:(e,l,i)=>{i.d(l,{Z:()=>t});var n=i(80476),d=i(80184);const t=e=>{let{customStyle:l,children:i}=e;return(0,d.jsx)("div",{className:n.Z.btn_wrapper,style:l,children:i})}},63687:(e,l,i)=>{i.d(l,{Z:()=>t});var n=i(59393),d=i(80184);const t=e=>{let{customStyle:l,children:i}=e;return(0,d.jsx)("div",{className:n.Z.user_member_container_wrapper,style:l,children:i})}},24422:(e,l,i)=>{i.r(l),i.d(l,{default:()=>g});var n=i(98684),d=i(90904),t=i(33030),o=i(23984),s=i(63687),u=i(21348),r=i(72791),a=i(39230),v=i(56959),c=i(1669),f=i(2651),m=i(55336),_=i(16871),x=i(6758),h=i(1721),y=i(80184);const j=e=>{var l,i,n,d,t,o;let{state:s,student:u,onMarkOffline:r,onMarkExempt:a}=e;return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{className:h.Z.ifdl_card,children:[(0,y.jsxs)("h6",{children:[null!==(l=null===u||void 0===u?void 0:u.studentROLLNO)&&void 0!==l?l:"","."]}),(0,y.jsxs)("h6",{children:[null!==(i=null===u||void 0===u?void 0:u.studentFirstName)&&void 0!==i?i:""," ",null!==u&&void 0!==u&&u.studentMiddleName?null===u||void 0===u?void 0:u.studentMiddleName:" "," ",null!==(n=null===u||void 0===u?void 0:u.studentLastName)&&void 0!==n?n:""]}),(0,y.jsx)("img",{src:null!==s&&void 0!==s&&null!==(d=s.exemptQuery)&&void 0!==d&&d.includes(null===u||void 0===u?void 0:u._id)?"/images/radio-active.svg":"/images/radio-disabled.svg",alt:"icon",onClick:()=>{a(null===u||void 0===u?void 0:u._id)}}),(0,y.jsx)("img",{src:null!==s&&void 0!==s&&null!==(t=s.onlineList)&&void 0!==t&&t.includes(null===u||void 0===u?void 0:u._id)?"/images/radio-active.svg":"/images/radio-disabled.svg",alt:"icon"}),(0,y.jsx)("img",{src:null!==s&&void 0!==s&&null!==(o=s.offlineQuery)&&void 0!==o&&o.includes(null===u||void 0===u?void 0:u._id)?"/images/radio-active.svg":"/images/radio-disabled.svg",alt:"icon",onClick:()=>{r(null===u||void 0===u?void 0:u._id)}})]})})},p=e=>{let{students:l,state:i,setState:n}=e;const{t:d}=(0,a.$G)(),t=e=>{n((l=>{var i,n,d,t;return{...l,offlineQuery:null!==l&&void 0!==l&&null!==(i=l.offlineQuery)&&void 0!==i&&i.includes(e)?null===l||void 0===l||null===(n=l.offlineQuery)||void 0===n?void 0:n.filter((l=>l!==e)):[...null===l||void 0===l?void 0:l.offlineQuery,e],exemptQuery:null!==l&&void 0!==l&&null!==(d=l.exemptQuery)&&void 0!==d&&d.includes(e)?null===l||void 0===l||null===(t=l.exemptQuery)||void 0===t?void 0:t.filter((l=>l!==e)):null===l||void 0===l?void 0:l.exemptQuery}}))},o=e=>{n((l=>{var i,n,d,t;return{...l,offlineQuery:null!==l&&void 0!==l&&null!==(i=l.offlineQuery)&&void 0!==i&&i.includes(e)?null===l||void 0===l||null===(n=l.offlineQuery)||void 0===n?void 0:n.filter((l=>l!==e)):null===l||void 0===l?void 0:l.offlineQuery,exemptQuery:null!==l&&void 0!==l&&null!==(d=l.exemptQuery)&&void 0!==d&&d.includes(e)?null===l||void 0===l||null===(t=l.exemptQuery)||void 0===t?void 0:t.filter((l=>l!==e)):[...null===l||void 0===l?void 0:l.exemptQuery,e]}}))};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:h.Z.ifdl_heading,children:[(0,y.jsx)("h6",{children:d("roll_no")}),(0,y.jsx)("h6",{children:d("name")}),(0,y.jsx)("h6",{children:d("exemted")}),(0,y.jsx)("h6",{children:d("online")}),(0,y.jsx)("h6",{children:d("offline")})]}),null===l||void 0===l?void 0:l.map((e=>(0,y.jsx)(j,{student:e,state:i,onMarkOffline:t,onMarkExempt:o})))]})},g=e=>{var l,i,h,j,g,Z,L,N,S;let{fid:k}=e;const{t:C}=(0,a.$G)(),F=(0,_.TH)(),[b,w]=(0,r.useState)(""),[I,M]=(0,r.useState)(!1),[q,O]=(0,r.useState)({offlineQuery:[],exemptQuery:[]}),[T,G]=(0,r.useState)({offlineQuery:[],exemptQuery:[],onlineList:[]}),[A,E]=(0,r.useState)([]),[$]=(0,x.Pj)(),{financeInternalFeesDetail:B,financeInternalFeesDetailLoading:D}=(0,x.Sx)({fsid:null===(l=F.state)||void 0===l?void 0:l.fsid,skip:!(null!==(i=F.state)&&void 0!==i&&i.fsid)});(0,r.useEffect)((()=>{var e,l;null!==B&&void 0!==B&&null!==(e=B.all_students)&&void 0!==e&&e.length&&E(null===B||void 0===B?void 0:B.all_students),null!==B&&void 0!==B&&null!==(l=B.one_fees)&&void 0!==l&&l._id&&(G((e=>{var l,i,n;return{...e,offlineQuery:null===B||void 0===B||null===(l=B.one_fees)||void 0===l?void 0:l.offlineStudentsList,exemptQuery:null===B||void 0===B||null===(i=B.one_fees)||void 0===i?void 0:i.exemptList,onlineList:null===B||void 0===B||null===(n=B.one_fees)||void 0===n?void 0:n.onlineList}})),E(null===B||void 0===B?void 0:B.all_students))}),[null===B||void 0===B?void 0:B.all_students,null===B||void 0===B||null===(h=B.one_fees)||void 0===h?void 0:h._id,null===B||void 0===B||null===(j=B.one_fees)||void 0===j?void 0:j.offlineStudentsList,null===B||void 0===B||null===(g=B.one_fees)||void 0===g?void 0:g.exemptList,null===B||void 0===B||null===(Z=B.one_fees)||void 0===Z?void 0:Z.onlineList]);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(s.Z,{children:[(0,y.jsx)(u.Z,{children:(0,y.jsxs)("div",{className:v.Z.fm_header_container,children:[(0,y.jsx)("h6",{children:null!==(L=null===(N=F.state)||void 0===N?void 0:N.feesName)&&void 0!==L?L:""}),(0,y.jsx)("div",{className:v.Z.fm_search,children:(0,y.jsx)("section",{className:v.Z.fm_search_container,children:(0,y.jsxs)("div",{className:v.Z.fm_search_container_inner,children:[(0,y.jsx)("img",{className:v.Z.fm_search_icon,alt:"search icon",src:"".concat(n.dB,"/navbar-search.svg")}),(0,y.jsx)("input",{type:"text",placeholder:C("search"),onChange:e=>{if(e.target.value){let l=Q(null===B||void 0===B?void 0:B.all_students,e.target.value);E((()=>l)),w(e.target.value)}else E(null===B||void 0===B?void 0:B.all_students),w("")}})]})})})]})}),(0,y.jsx)(d.Z,{}),(0,y.jsxs)(u.Z,{customStyle:{paddingTop:"0"},children:[(0,y.jsx)(o.Z,{children:(0,y.jsx)(t.Z,{label:"collect_fees",onAction:()=>{var e,l,i,n;k&&null!==(e=F.state)&&void 0!==e&&e.fsid&&((null===(l=q.exemptQuery)||void 0===l?void 0:l.length)>0||(null===(i=q.offlineQuery)||void 0===i?void 0:i.length)>0)&&(M((e=>!e)),$({fid:k,fsid:null===(n=F.state)||void 0===n?void 0:n.fsid,internalFees:q}).then((()=>{O({offlineQuery:[],exemptQuery:[]}),M((e=>!e))})).catch({}))}})}),(0,y.jsx)(p,{students:A,state:{offlineQuery:[...q.offlineQuery,...T.offlineQuery],exemptQuery:[...q.exemptQuery,...T.exemptQuery],onlineList:T.onlineList},setState:O}),D?b?(0,y.jsx)(m.Z,{}):(0,y.jsx)(c.Z,{}):b?!(null!==A&&void 0!==A&&A.length)&&(0,y.jsx)(f.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No student found related this search."}):!(null!==B&&void 0!==B&&null!==(S=B.all_students)&&void 0!==S&&S.length)&&(0,y.jsx)(f.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No student found."})]})]}),I&&(0,y.jsx)(m.Z,{})]})},Q=(e,l)=>null===e||void 0===e?void 0:e.filter((e=>{var i,n,d,t;return null!==e&&void 0!==e&&null!==(i=e.valid_full_name)&&void 0!==i&&null!==(n=i.toLowerCase())&&void 0!==n&&n.includes(null===l||void 0===l?void 0:l.toLowerCase())||null!==e&&void 0!==e&&null!==(d=e.studentGRNO)&&void 0!==d&&null!==(t=d.toLowerCase())&&void 0!==t&&t.includes(null===l||void 0===l?void 0:l.toLowerCase())?e:null}))},1721:(e,l,i)=>{i.d(l,{Z:()=>n});const n={ifc_container:"InternalFees_ifc_container__XhZX-",ifc_container_inner:"InternalFees_ifc_container_inner__FaBwZ",ifdl_heading:"InternalFees_ifdl_heading__gaTqK",ifdl_card:"InternalFees_ifdl_card__sAxqq"}}}]);
//# sourceMappingURL=24422.ed052ed7.chunk.js.map