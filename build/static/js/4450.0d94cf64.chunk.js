"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[4450],{81622:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(72791),a=n(38733),o=n(39230),s=n(93097),l=n(69721),d=n(1095),r=n(80184);const c=e=>{let{labelText:t,name:n,multiple:c,value:u,onChange:_,onClick:v,errorShow:m,acceptType:h,customStyleContainer:f}=e;const{t:g}=(0,o.$G)(),[p,x]=(0,i.useState)("");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:a.Z.join_form_container,style:{...f},children:[(0,r.jsxs)("label",{className:a.Z.join_form_label,children:[t,m&&(0,r.jsx)("span",{style:{color:"red",marginLeft:"15px"},children:"* required"})]}),(0,r.jsxs)("div",{className:a.Z.join_form_file_container,children:[(0,r.jsx)("label",{className:u?"".concat(a.Z.join_form_file_choose," ").concat(a.Z.join_form_active_background):a.Z.join_form_file_choose,htmlFor:n,children:g(""!==u?"file_chosen":"chose_file")}),(0,r.jsx)("label",{className:a.Z.join_form_file_choosen,onClick:()=>{if(null!==u&&void 0!==u&&u.originalName)if(null!==u&&void 0!==u&&u.isPdf){let e=null;e=null!==u&&void 0!==u&&u.isCdn?window.open("".concat(d.q2,"/").concat(null===u||void 0===u?void 0:u.key),"_blank","noopener,noreferrer"):window.open("".concat(l.zQ,"/").concat(null===u||void 0===u?void 0:u.key),"_blank","noopener,noreferrer"),e&&(e.opener=null)}else x(null===u||void 0===u?void 0:u.key);else x(u)},style:{color:"#002BBE",cursor:"pointer"},children:""!==u?null!==u&&void 0!==u&&u.originalName?null===u||void 0===u?void 0:u.originalName:"View":g("no_file_chosen")})]}),(0,r.jsx)("input",{type:"file",multiple:!!c,accept:h||"image/*, .doc,.docx, application/pdf,.csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",name:n,id:n,style:{display:"none"},onChange:_})]}),p&&(0,r.jsx)(s.Z,{onClose:()=>{x("")},keyValue:p})]})}},72952:(e,t,n)=>{n.d(t,{Z:()=>s});n(72791);var i=n(39230),a=n(38733),o=n(80184);const s=e=>{var t;let{labelText:n,name:s,type:l,value:d,onChange:r,placeholder:c,errorShow:u,customStyleContainer:_,disabled:v}=e;const{t:m}=(0,i.$G)();return(0,o.jsxs)("div",{className:a.Z.join_form_container,style:{..._},children:[(0,o.jsxs)("label",{className:a.Z.join_form_label,htmlFor:s,children:[n," ",u&&(0,o.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",m("form_require_label")]})]}),(0,o.jsx)("textarea",{className:a.Z.join_form_text_area,type:l,value:d,onChange:r,name:s,placeholder:c,rows:d?(null===d||void 0===d||null===(t=d.split("\n"))||void 0===t?void 0:t.length)+3:1,disabled:v})]})}},93097:(e,t,n)=>{n.d(t,{Z:()=>l});n(72791);var i=n(12072),a=n(84489),o=n(69721),s=n(80184);const l=e=>{let{onClose:t,keyValue:n}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.Z,{onClose:t}),(0,s.jsx)(i.Z,{customStyle:{zIndex:"1200",borderRadius:"0"},children:(0,s.jsx)("img",{src:"".concat(o.yI,"/").concat(n),alt:"view file",style:{maxWidth:"700px",maxHeight:"500px"}})})]})}},19206:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(72791),a=n(98094),o=n(36665),s=n(72952),l=n(98734),d=n(6245),r=n(33399),c=n(39230),u=n(39480),_=n(97655),v=n(37782),m=n(84959),h=n(74289),f=n(81622),g=n(5574),p=n(70966),x=n(16871),y=n(80184);const b=e=>{let{onClose:t,uniqueGr:b,instituteId:j,isViewBy:I,commingReason:w,certificateId:Z,onRefetch:S}=e;const{t:N}=(0,c.$G)(),k=(0,x.TH)(),[R,C]=(0,i.useState)(!1),[H,U]=(0,i.useState)(!1),[L,T]=(0,i.useState)(""),[B,D]=(0,i.useState)(""),[E,F]=(0,i.useState)(""),[A,G]=(0,i.useState)(!1),[O]=(0,d._)(),[q]=(0,m.FL)(),[P]=(0,h.H7)(),[Q]=(0,h.yW)(),[V,M]=(0,i.useState)(""),[z,W]=(0,i.useState)(!1),[$,J]=(0,i.useState)(!1),[K,Y]=(0,i.useState)(""),[X,ee]=(0,i.useState)(""),{oneInstituteProfile:te,oneInstituteProfileRefetch:ne}=(0,u.p0)({data:{id:j,type:"ID"},skip:!j});(0,i.useEffect)((()=>{j&&ne()}),[j,ne]),(0,i.useEffect)((()=>{"REQUEST_TAB"===I&&T(w||"")}),[w,I]);const ie=()=>{G((e=>!e))};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(o.Z,{onClose:()=>{R||t()},children:[(0,y.jsx)("div",{className:r.Z.add_category_modal,style:{width:"30rem",minHeight:"10rem",height:"fit-content"},children:(0,y.jsxs)("section",{className:r.Z.fee_middle_section_container,style:{marginBottom:"1.2rem"},children:[(0,y.jsx)("h6",{style:{fontSize:"20px",fontWeight:"600"},children:N("bonafide")}),(0,y.jsx)(a.Z,{customStyle:{width:"100%",marginTop:"0.7rem"}}),(0,y.jsx)(s.Z,{labelText:N("enter_reason"),placeholder:N("enter_reason"),name:"reason",value:L,type:"text",onChange:e=>{var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)<=75&&T(e.target.value)},errorShow:H}),(0,y.jsx)(s.Z,{labelText:N("bonafide_message_optional"),placeholder:N("bonafide_message_optional_placeholder"),name:"message",value:B,type:"text",onChange:e=>{var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)<=75&&D(e.target.value)}}),(0,y.jsx)(_.Z,{labelText:N("competent_authority"),placeholder:N("competent_authority_lable"),name:"authority",value:E,type:"text",onChange:e=>{var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)<=75&&F(e.target.value)}}),(0,y.jsx)(f.Z,{labelText:N("attachment"),name:"attachment",value:X,onChange:e=>{var t;if(null!==(t=e.target.files)&&void 0!==t&&t.length){const t=URL.createObjectURL(e.target.files[0]);M(e.target.files[0]),Y(t),ee(t),W(!0)}},customStyleContainer:{width:"100%"}}),(0,y.jsxs)("section",{className:r.Z.letter_head_container,children:[A?(0,y.jsx)("img",{src:"/images/checkbox-icon.svg",alt:"icon",onClick:ie}):(0,y.jsx)("img",{src:"/images/box-icon.svg",alt:"icon",onClick:ie}),(0,y.jsx)("h6",{children:N("printing_on_letter_head")})]}),(0,y.jsx)("button",{onClick:()=>{b&&L&&j?(C((e=>!e)),O({gr:b,id:j,bonafideReason:{reason:L,student_bona_message:B}}).then((e=>{var i,a;null!==e&&void 0!==e&&null!==(i=e.data)&&void 0!==i&&i.student&&(e=>{const{institute:i,studentInfo:a}=(0,v.hR)(null===te||void 0===te?void 0:te.institute,e,{reason:L,message:B,authority:E,uniqueGr:b,letterHead:A}),o=new Worker(new URL(n.p+n.u(4268),n.b));o.postMessage({printCertificateType:"BONAFIDE",studentInfo:a,institute:i,otherImageUrl:X}),o.onmessage=n=>{if(n&&null!==e&&void 0!==e&&e._id){if("REQUEST_TAB"===I){const e=new FormData;e.append("file",n.data),q({fileUpload:e}).then((e=>{var t;P({cid:Z,attach:null===(t=e.data)||void 0===t?void 0:t.imageKey,status:"Issued"}).then((()=>{S(),C((e=>!e)),window.open(URL.createObjectURL(n.data),"_blank")})).catch({})})).catch({})}else{const e=new FormData;e.append("file",n.data),q({fileUpload:e}).then((e=>{var t,i,o;Q({gr:b,id:null===te||void 0===te||null===(t=te.institute)||void 0===t?void 0:t._id,bodyParameter:{certificate_type:"BONAFIED",certificate_attachment:null===(i=e.data)||void 0===i?void 0:i.imageKey,is_dublicate:null===a||void 0===a?void 0:a.isOriginal,student_name:null===a||void 0===a?void 0:a.name,staffId:null===(o=k.state)||void 0===o?void 0:o.staffId}}).then((()=>{window.open(URL.createObjectURL(n.data),"_blank"),C((e=>!e))})).catch({})})).catch({})}t()}}})(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.student)})).catch({})):L||U(!0)},className:r.Z.fee_middle_confirm_button,style:{marginTop:"4rem"},children:N("confirm")})]})}),R&&(0,y.jsx)(l.Z,{})]}),(0,y.jsx)(g.Z,{open:z,children:(0,y.jsx)(p.Z,{setPhotoURL:ee,photoURL:X,setFile:M,setOpenCrop:W,setUpload:J,setProfilePhoto:Y,first:16,second:9})})]})}},13827:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(72791),a=n(15214),o=n(39230),s=n(72426),l=n.n(s),d=n(69721),r=n(19206),c=n(16871),u=n(98734),_=n(6245),v=n(80184);const m=e=>{var t,n,s,m,h,f,g,p,x,y;let{certificate:b,isViewBy:j,instituteId:I,onRefetch:w}=e;const{t:Z}=(0,o.$G)(),[S,N]=(0,i.useState)(!1),k=(0,c.s0)(),R=(0,c.UO)(),[C,H]=(0,i.useState)(!1),[U]=(0,_.vB)();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:a.Z.hostel_warden_card,style:{paddingBlock:"1rem"},children:[(0,v.jsx)("img",{alt:"not found",src:"/images/member_tab/student/student-certificate-icon.svg",style:{borderRadius:"0"}}),(0,v.jsxs)("div",{className:a.Z.student_cerfificate_container,children:[(0,v.jsxs)("div",{className:a.Z.warden_card_text,children:[(0,v.jsxs)("h6",{children:[Z("certificate_type")," "," : ",null!==(t=null===b||void 0===b?void 0:b.certificate_type)&&void 0!==t?t:""]}),(0,v.jsxs)("p",{children:[Z("reason")," "," : "," ",null!==(n=null===b||void 0===b?void 0:b.query_content)&&void 0!==n?n:""]}),"Bonafide"===(null===b||void 0===b?void 0:b.certificate_type)?null:(0,v.jsxs)("p",{children:[Z("certificate_copy")," "," : ",null!==b&&void 0!==b&&b.is_original?Z("original_copy"):Z("dublicate_copy")]}),(0,v.jsxs)("p",{children:[Z("raised_on")," "," : ",l()(null===b||void 0===b?void 0:b.created_at).format("DD-MM-yyyy"),", ",l()(null===b||void 0===b?void 0:b.created_at).format("LT")]}),null!==b&&void 0!==b&&null!==(s=b.fee_receipt)&&void 0!==s&&s.fee_payment_mode?(0,v.jsxs)("p",{children:[Z("invoice_no")," "," : ",null!==(m=null===b||void 0===b||null===(h=b.fee_receipt)||void 0===h?void 0:h.invoice_count)&&void 0!==m?m:"N/A",", ",Z("payment_mode")," "," : ",null!==(f=null===b||void 0===b||null===(g=b.fee_receipt)||void 0===g?void 0:g.fee_payment_mode)&&void 0!==f?f:"N/A"]}):null]}),"ISSUED"===j?(0,v.jsx)("div",{className:a.Z.student_issued_btn,onClick:()=>{var e,t;if("ISSUED"===j)if("Leaving"===(null===b||void 0===b?void 0:b.certificate_type))N((e=>!e)),U({id:I,gr:null===b||void 0===b||null===(e=b.student)||void 0===e?void 0:e.studentGRNO,leavingFeedback:{number:null===b||void 0===b||null===(t=b.student)||void 0===t?void 0:t.studentGRNO,studentCertificateNo:"",leaving_date:"",bookNo:"",studentUidaiNumber:"",studentPreviousSchool:"",studentLeavingBehaviour:"",studentLeavingStudy:"",studentLeavingReason:"",studentRemark:"",instituteJoinDate:"",instituteLeavingDate:"",leaving_degree:"",leaving_since_date:"",leaving_course_duration:"",elective_subject_one:"",elective_subject_second:"",leaving_project_work:"",leaving_guide_name:""}}).then((e=>{N((e=>!e)),k("/q/".concat(R.username,"/student/certificate/form"),{state:{student:e.data.student,download:e.data.download,instituteId:I,is_leaving:"leaving",isViewBy:"REQUEST_TAB",certificateId:null===b||void 0===b?void 0:b._id}})})).catch({});else if("Transfer"===(null===b||void 0===b?void 0:b.certificate_type)){var n,i;N((e=>!e)),U({id:I,gr:null===b||void 0===b||null===(n=b.student)||void 0===n?void 0:n.studentGRNO,leavingFeedback:{number:null===b||void 0===b||null===(i=b.student)||void 0===i?void 0:i.studentGRNO,studentCertificateNo:"",leaving_date:"",bookNo:"",studentUidaiNumber:"",studentPreviousSchool:"",studentLeavingBehaviour:"",studentLeavingStudy:"",studentLeavingReason:"",studentRemark:"",instituteJoinDate:"",instituteLeavingDate:"",leaving_degree:"",leaving_since_date:"",leaving_course_duration:"",elective_subject_one:"",elective_subject_second:"",leaving_project_work:"",leaving_guide_name:""}}).then((e=>{N((e=>!e)),k("/q/".concat(R.username,"/student/certificate/form"),{state:{student:e.data.student,download:e.data.download,instituteId:I,is_leaving:"transfer",isViewBy:"REQUEST_TAB",certificateId:null===b||void 0===b?void 0:b._id}})})).catch({})}else"Migration"===(null===b||void 0===b?void 0:b.certificate_type)||H(!0)},children:Z("issue_certificate")}):(0,v.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"1rem"},children:[(0,v.jsxs)("div",{className:a.Z.warden_card_text,style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:["ALREADY_ISSUED"===j?null:(0,v.jsxs)("p",{children:[Z("status")," "," : ",null!==(p=null===b||void 0===b?void 0:b.certificate_status)&&void 0!==p?p:""]}),null!==b&&void 0!==b&&b.certificate_issued_date?(0,v.jsxs)("p",{children:[Z("issued_on")," "," : ",l()(null===b||void 0===b?void 0:b.certificate_issued_date).format("DD-MM-yyyy"),", ",l()(null===b||void 0===b?void 0:b.certificate_issued_date).format("LT")]}):null]}),(null===b||void 0===b?void 0:b.certificate_attach)&&(0,v.jsx)("a",{href:"".concat(d.r3,"/").concat(null===b||void 0===b?void 0:b.certificate_attach),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,v.jsx)("img",{src:"/images/member_tab/student/student-certificate-download-icon.svg",alt:"receipt icon",style:{height:"1.5rem"}})})]})]})]}),C&&(0,v.jsx)(r.Z,{onClose:()=>H(!1),instituteId:I,isViewBy:"REQUEST_TAB",commingReason:null===b||void 0===b?void 0:b.query_content,certificateId:null===b||void 0===b?void 0:b._id,onRefetch:w,uniqueGr:null!==(x=null===b||void 0===b||null===(y=b.student)||void 0===y?void 0:y.studentGRNO)&&void 0!==x?x:""}),S&&(0,v.jsx)(u.Z,{})]})}},89064:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(55336),a=n(38857);const o="Modal_modal_menu_card__d0zzt";var s=n(90904),l=n(80184);const d=e=>{let{onClose:t,disabled:n,heading:d,customStyle:r,children:c}=e;return(0,l.jsx)(a.Z,{onClose:()=>{if(n)return null;t()},children:(0,l.jsxs)("div",{className:o,style:r,children:[d?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h5",{children:d}),(0,l.jsx)(s.Z,{})]}):null,c,n&&(0,l.jsx)(i.Z,{})]})})}},15214:(e,t,n)=>{n.d(t,{Z:()=>i});const i={navbarr:"InstituteHostel_navbarr__wZjxN",mainbody:"InstituteHostel_mainbody__bd1xS",sidebar:"InstituteHostel_sidebar__4a950",rightbody:"InstituteHostel_rightbody__uUUef",admission_tab_tabs:"InstituteHostel_admission_tab_tabs__Uu9aY",item:"InstituteHostel_item__9ZoQd",itemIcon:"InstituteHostel_itemIcon__NShBD",funds2:"InstituteHostel_funds2__BHTCi",fundscontent:"InstituteHostel_fundscontent__HeoyA",sidebarbottomitem:"InstituteHostel_sidebarbottomitem__+Xvnw",namee:"InstituteHostel_namee__Y5L8H",desig:"InstituteHostel_desig__gHfIt",balanceItem:"InstituteHostel_balanceItem__W2AJ1",fundbtn:"InstituteHostel_fundbtn__h4c6p",institute_hostel_container:"InstituteHostel_institute_hostel_container__QKng2",institute_hostel_container_border:"InstituteHostel_institute_hostel_container_border__XBL5F",institute_hostel_title:"InstituteHostel_institute_hostel_title__U31Id",hostel_warden_card:"InstituteHostel_hostel_warden_card__vs093",warden_card_text:"InstituteHostel_warden_card_text__kFeau",with_search:"InstituteHostel_with_search__shUwR",search_container:"InstituteHostel_search_container__s6aFf",search_container_input:"InstituteHostel_search_container_input__Z7rCU",searchIcon:"InstituteHostel_searchIcon__eabuR",student_cerfificate_container:"InstituteHostel_student_cerfificate_container__HGcvy",student_issued_btn:"InstituteHostel_student_issued_btn__hrgB6"}}}]);
//# sourceMappingURL=4450.0d94cf64.chunk.js.map