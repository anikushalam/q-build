(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[12451],{53982:function(e,n,t){"use strict";t.d(n,{KB:function(){return $},Dv:function(){return K},rY:function(){return V},bB:function(){return J},J9:function(){return z},xk:function(){return H},Ne:function(){return G},b5:function(){return P},OF:function(){return R},Dr:function(){return O},Pv:function(){return Y},d4:function(){return q},gS:function(){return L},FL:function(){return B}});var a=t(29439),l=t(28328),i=t(94811),o=function(e){return e.mutation({query:function(e){return{url:"/all-images/onefile/web",method:i.Q0,body:e.fileUpload}}})},r=function(e){return e.query({query:function(e){return"/auth/username/search?u_name=".concat(e)}})},s=function(e){return e.query({query:function(e){return"/auth/email/check/redundant?email=".concat(e)}})},c=function(e){return e.mutation({query:function(e){return{url:"/auth/login",method:i.a4,body:e.login}}})},d=function(e){return e.mutation({query:function(e){return{url:"/auth/user-detail",method:i.a4,body:e}}})},u=function(e){return e.mutation({query:function(e){var n;return{url:"/auth/user-detail-verify/".concat(e.userPhoneNumber,"?u_name=").concat(null!==(n=null===e||void 0===e?void 0:e.u_name)&&void 0!==n?n:""),method:i.a4,body:e}}})},_=function(e){return e.mutation({query:function(e){return{url:"/auth/user/forgot",method:i.a4,body:e.forgot}}})},v=function(e){return e.mutation({query:function(e){return{url:"/auth/user/forgot/".concat(e.uid),method:i.a4,body:e.otp}}})},m=function(e){return e.mutation({query:function(e){return{url:"/auth/user/reset/password/".concat(e.uid),method:i.a4,body:e.password}}})},f=function(e,n){return e.mutation({query:function(e){return{url:"/auth/profile-creation/".concat(e.userPhoneNumber),method:i.a4,body:e.profileCreation}}})},h=function(e,n){return e.mutation({query:function(e){return{url:"/auth/create-user-password/".concat(e.uid),method:i.a4,body:e.password}}})},p=function(e,n){return e.mutation({query:function(e){return{url:"/auth/ins-detail",method:i.a4,body:e.phone}}})},g=function(e,n){return e.mutation({query:function(e){return{url:"/auth/ins-detail-verify/".concat(e.insPhoneNumber),method:i.a4,body:e.verify}}})},x=function(e,n){return e.mutation({query:function(e){return{url:"/auth/ins/register",method:i.a4,body:e.profileCreation}}})},j=function(e,n){return e.mutation({query:function(e){return{url:"/auth/ins/create-password/".concat(e.id),method:i.a4,body:e.password}}})},Z=function(e){return e.mutation({query:function(e){return{url:"/auth/direct/confirm/join/".concat(e.phoneNumber,"/apply/").concat(e.aid,"?existingUser=").concat(e.uid),method:i.a4,body:e.addStudent}}})},b=l.i.injectEndpoints({endpoints:function(e){return{fileUpload:o(e),authUniqueUsername:r(e),authUniqueEmail:s(e),authLogin:c(e),authUserNumber:d(e),authUserNumberVerify:u(e),authUserForget:_(e),authUserForgetOtp:v(e),authUserSetPassword:m(e),authUserCreateAccount:f(e),authUserCreatePassword:h(e),authInstituteNumber:p(e),authInstituteNumberVerify:g(e),authInstituteCreateAccount:x(e),authInstituteCreatePassword:j(e),authDirectJoinFormAdmissionApplication:Z(e)}}}),y=b.useFileUploadMutation,S=(b.useAuthUniqueUsernameQuery,b.useAuthUniqueEmailQuery,b.useAuthLoginMutation),N=b.useAuthUserNumberMutation,F=b.useAuthUserNumberVerifyMutation,C=b.useAuthUserForgetMutation,w=b.useAuthUserForgetOtpMutation,A=b.useAuthUserSetPasswordMutation,D=b.useAuthUserCreateAccountMutation,M=b.useAuthUserCreatePasswordMutation,k=b.useAuthInstituteNumberMutation,T=b.useAuthInstituteNumberVerifyMutation,I=b.useAuthInstituteCreateAccountMutation,U=b.useAuthInstituteCreatePasswordMutation,E=b.useAuthDirectJoinFormAdmissionApplicationMutation,B=function(){var e=y();return[(0,a.Z)(e,1)[0]]},H=function(){var e=S();return[(0,a.Z)(e,1)[0]]},Y=function(){var e=N();return[(0,a.Z)(e,1)[0]]},q=function(){var e=F();return[(0,a.Z)(e,1)[0]]},R=function(){var e=C();return[(0,a.Z)(e,1)[0]]},O=function(){var e=w();return[(0,a.Z)(e,1)[0]]},L=function(){var e=A();return[(0,a.Z)(e,1)[0]]},G=function(){var e=D();return[(0,a.Z)(e,1)[0]]},P=function(){var e=M();return[(0,a.Z)(e,1)[0]]},J=function(){var e=k();return[(0,a.Z)(e,1)[0]]},z=function(){var e=T();return[(0,a.Z)(e,1)[0]]},K=function(){var e=I();return[(0,a.Z)(e,1)[0]]},V=function(){var e=U();return[(0,a.Z)(e,1)[0]]},$=function(){var e=E();return[(0,a.Z)(e,1)[0]]}},11163:function(e,n,t){"use strict";t.d(n,{BK:function(){return f},Ff:function(){return c},GX:function(){return j},S4:function(){return _},o:function(){return h},oz:function(){return d}});var a=t(29439),l=t(93433),i=t(72791),o=t(43997),r=t(97892),s=t.n(r),c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],d=["January","February","March","April","May","June","July","August","September","October","November","December"],u={0:4,1:3,2:4,3:3,4:4,5:3,6:4,7:4,8:3,9:4,10:3,11:4},_=function(){for(var e=(new Date).getFullYear(),n=e-70,t=[],a=e+30;a>=n;a--)t.push(a);return t.reverse()},v=[1,2,3,4,5,6,0],m=function(){return new Date},f=function(e,n){var t,a,l;l=n?null===(t=s()(e))||void 0===t?void 0:t.format("YYYY-MM-DD"):(0,o.O_)(e);var i=new Date,r=null===(a=s()(i))||void 0===a?void 0:a.format("YYYY-MM-DD"),c=new Date("".concat(l)),d=new Date("".concat(r));return c.getTime()===d.getTime()},h=function(e,n){return e===function(e){var n=null===e||void 0===e?void 0:e.split("-"),t=(null===n||void 0===n?void 0:n[0])>9?null===n||void 0===n?void 0:n[0]:"0".concat(null===n||void 0===n?void 0:n[0]),a=(null===n||void 0===n?void 0:n[1])>9?null===n||void 0===n?void 0:n[1]:"0".concat(null===n||void 0===n?void 0:n[1]);return"".concat(t,"/").concat(a,"/").concat(null===n||void 0===n?void 0:n[2])}(n)},p=function(e){return function(e){var n=new Date(e);return new Date(n.getFullYear(),n.getMonth()+1,0)}(e).getDate()},g=function(e){return function(e){var n=new Date(e);return new Date(n.getFullYear(),n.getMonth(),0)}(e).getDate()},x=function(e){return v.indexOf(function(e){var n=new Date(e);return new Date(n.getFullYear(),n.getMonth(),1).getDay()}(e))},j=function(e){var n=(0,i.useState)(m()),t=(0,a.Z)(n,2),r=t[0],s=t[1];(0,i.useEffect)((function(){e&&s(function(e){var n=(0,o.O_)(e);return new Date(n)}(e))}),[e]);var _,v=g(_=r)-x(_),f=(0,i.useMemo)((function(){return function(e,n){for(var t=1,a=1,i=new Date(e),o={},r=1;r<7;r++){o[r]=[];for(var s=1;s<8;s++)if(1===r)if(s<=x(e)+1){var d=i.getMonth()+1,u="".concat(i.getFullYear(),"-").concat(d>9?d:"0".concat(d),"-").concat(t>9?t:"0".concat(t)),_=new Date(u);o[r]=[].concat((0,l.Z)(o[r]),[{type:"PREVIOUS",date:"".concat(n,"-").concat(0===i.getMonth()?12:i.getMonth(),"-").concat(0===i.getMonth()?i.getFullYear()-1:i.getFullYear()),value:n,day:c[_.getDay()]}]),++n}else{var v=i.getMonth()+1,m="".concat(i.getFullYear(),"-").concat(v>9?v:"0".concat(v),"-").concat(t>9?t:"0".concat(t)),f=new Date(m);o[r]=[].concat((0,l.Z)(o[r]),[{type:"CURRENT",date:"".concat(t,"-").concat(i.getMonth()+1,"-").concat(i.getFullYear()),value:t,day:c[f.getDay()]}]),t++}else if(r>1&&t<p(e)+1){var h=i.getMonth()+1,g="".concat(i.getFullYear(),"-").concat(h>9?h:"0".concat(h),"-").concat(t>9?t:"0".concat(t)),j=new Date(g);o[r]=[].concat((0,l.Z)(o[r]),[{type:"CURRENT",date:"".concat(t,"-").concat(i.getMonth()+1,"-").concat(i.getFullYear()),value:t,day:c[j.getDay()]}]),t++}else{var Z=i.getMonth()+1,b="".concat(i.getFullYear(),"-").concat(Z>9?Z:"0".concat(Z),"-").concat(t>9?t:"0".concat(t)),y=new Date(b);o[r]=[].concat((0,l.Z)(o[r]),[{type:"NEXT_MONTH",date:"".concat(a,"-").concat(i.getMonth()+2===13?1:i.getMonth()+2,"-").concat(i.getMonth()+2===13?i.getFullYear()+1:i.getFullYear()),value:a,day:c[y.getDay()]}]),a++}}return o}(r,v)}),[r,v]),j=(0,i.useCallback)((function(){s((function(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}))}),[]),Z=(0,i.useCallback)((function(){s((function(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}))}),[]),b=(0,i.useCallback)((function(e){var n=null===e||void 0===e?void 0:e.split("-"),t=new Date("".concat(n[2],"-").concat(n[1],"-").concat(n[0]));s(t)}),[]);return{selectedDate:r,setSelectedDate:s,getPreviousMonth:j,getNextMonth:Z,getSelectedDate:b,generateCalendar:f,getToday:m,dayName:c,monthName:d,getCompareDate:h,monthPage:u}}},1669:function(e,n,t){"use strict";var a=t(98684),l=t(63244),i=t(80184);n.Z=function(e){var n=e.isGrey;return(0,i.jsx)("div",{className:l.Z.q_loading,children:(0,i.jsx)("img",{src:"".concat(a.Uw,n?"/loading-grey.gif":"/loading.gif"),alt:"loading icon"})})}},55336:function(e,n,t){"use strict";var a=t(63244),l=t(80184);n.Z=function(){return(0,l.jsx)("div",{className:a.Z.qviple_loader_backdrop,children:(0,l.jsx)("div",{className:a.Z.qviple_loader_container,children:(0,l.jsx)("div",{className:a.Z.qviple_loader_rotation})})})}},79992:function(e,n,t){"use strict";t.d(n,{ZH:function(){return l}});var a=t(89704),l=function(e){var n=a.AES.decrypt(e,"QVIPLESAASPLATFORM");return JSON.parse(n.toString(a.enc.Utf8))}},94811:function(e,n,t){"use strict";t.d(n,{Q0:function(){return l},a4:function(){return a},yY:function(){return i}});var a="POST",l="PATCH",i="DELETE"},90904:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var a="BorderBottom_split_content__RVPoh",l=t(80184),i=function(e){var n=e.customStyleBorder;return(0,l.jsx)("hr",{className:a,style:n})}},93638:function(e,n,t){"use strict";var a=t(39230),l=t(80476),i=t(80184);n.Z=function(e){var n=e.label,t=e.count,o=e.onAction,r=e.customStyle,s=e.isTranslate,c=(0,a.$G)().t;return s?(0,i.jsxs)("div",{className:l.Z.create_btn_container,onClick:o,style:r,children:[t>0?(0,i.jsxs)("span",{children:[t," "]}):null,n]}):(0,i.jsxs)("div",{className:l.Z.create_btn_container,onClick:o,style:r,children:[t>0?(0,i.jsxs)("span",{children:[t," "]}):null,c(n)]})}},66659:function(e,n,t){"use strict";var a=t(39230),l=t(80476),i=t(98684),o=t(80184);n.Z=function(e){var n=e.label,t=e.onAction,r=e.customStyle,s=(0,a.$G)().t;return(0,o.jsxs)("div",{className:l.Z.set_btn_container,onClick:t,style:r,children:[(0,o.jsx)("h6",{children:s(n)}),(0,o.jsx)("img",{src:"".concat(i.J7,"/forward.svg"),alt:"forward icon"})]})}},44226:function(e,n,t){"use strict";var a=t(39230),l=t(98684),i=t(80476),o=t(80184);n.Z=function(e){var n=e.onExcelFileUpload,t=e.acceptType,r=e.label,s=e.dynamicKey,c=e.title,d=e.assestUrl,u=e.customStyle,_=(0,a.$G)().t;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("label",{className:i.Z.upload_excel_file,htmlFor:null!==s&&void 0!==s?s:"uploadExcel",style:u,children:[(0,o.jsx)("img",{src:d||"".concat(l.J7,"/upload-xslx.svg"),alt:"add student icon",title:null!==c&&void 0!==c?c:"Upload excel file"}),r&&(0,o.jsx)("h6",{children:_(r)})]}),(0,o.jsx)("input",{type:"file",id:null!==s&&void 0!==s?s:"uploadExcel",accept:t,onChange:n,style:{display:"none"}})]})}},74771:function(e,n,t){"use strict";t.d(n,{Z:function(){return b}});var a=t(29439),l=t(39230),i=t(52245),o=t(72791),r=t(11163),s="Calendar_calendar__ZZaTt",c="Calendar_calendar_top__ADLui",d="Calendar_calendar_days__vUwsX",u="Calendar_calendar_days_label__VF+-3",_="Calendar_calendar_days_value__cY4KR",v="Calendar_calendar_month__iidgh",m="Calendar_calendar_month_value__nzPqp",f="Calendar_calendar_month_value_active__xUZQL",h=t(48293),p=t(98684),g=t(97892),x=t.n(g),j=t(80184),Z=function(e){var n,t=e.onClose,l=e.date,i=e.onDateSelect,g=(0,r.GX)(l),Z=g.selectedDate,b=g.setSelectedDate,y=g.getPreviousMonth,S=g.getNextMonth,N=g.getSelectedDate,F=g.generateCalendar,C=(0,o.useState)(""),w=(0,a.Z)(C,2),A=w[0],D=w[1],M=(0,r.S4)(),k=(0,o.useMemo)((function(){return M.indexOf(Z.getFullYear())}),[Z,M]),T=(0,o.useState)(0),I=(0,a.Z)(T,2),U=I[0],E=I[1],B=(0,o.useMemo)((function(){return M.slice(k+12*U,U?k+12*U+12:k+12)}),[M,U,k]),H=(0,o.useCallback)((function(){D(A?"":"MONTH")}),[A]),Y=(0,o.useCallback)((function(){D(A?"":"YEAR")}),[A]),q=(0,o.useCallback)((function(e){b((function(n){return new Date("".concat(e," ").concat(n.getDate()," ").concat(n.getFullYear()))})),H()}),[H]),R=(0,o.useCallback)((function(e){b((function(n){return new Date("".concat(n.getMonth()+1," ").concat(n.getDate()," ").concat(e))})),Y()}),[Y]);return(0,j.jsx)(h.Z,{onClose:t,customBackdropStyle:{zIndex:"2000"},customOverlayStyle:{zIndex:"2000"},children:(0,j.jsxs)("div",{className:s,children:[(0,j.jsxs)("div",{className:c,children:[(0,j.jsx)("img",{src:"".concat(p.Fk,"/next.svg"),alt:"previous icon",onClick:function(){A?"YEAR"===A&&E((function(e){return e-1})):y()},style:{rotate:"180deg"}}),(0,j.jsxs)("h6",{children:[(0,j.jsx)("span",{onClick:H,children:x()(Z).format("MMMM")})," ",(0,j.jsx)("span",{onClick:Y,children:x()(Z).format("YYYY")})]}),(0,j.jsx)("img",{src:"".concat(p.Fk,"/next.svg"),alt:"next icon",onClick:function(){A?"YEAR"===A&&E((function(e){return e+1})):S()}})]}),"MONTH"===A?(0,j.jsx)("div",{className:v,children:r.oz.map((function(e){return(0,j.jsx)("p",{className:x()(Z).format("MMMM")===e?"".concat(m," ").concat(f):m,onClick:function(){return q(e)},children:e},e)}))}):"YEAR"===A?(0,j.jsx)("div",{className:v,children:null===B||void 0===B?void 0:B.map((function(e){return(0,j.jsx)("p",{className:x()(Z).format("YYYY")==="".concat(e)?"".concat(m," ").concat(f):m,onClick:function(){return R(e)},children:e},e)}))}):(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:d,children:r.Ff.map((function(e){return(0,j.jsx)("p",{className:u,children:e},e)}))}),null===(n=Object.values(F))||void 0===n?void 0:n.map((function(e,n){return(0,j.jsx)("div",{className:d,children:e.map((function(e){return(0,j.jsx)("p",{className:_,style:{"--calendar-border":(0,r.BK)(null===e||void 0===e?void 0:e.date)?"#123456":(0,r.o)(Z,null===e||void 0===e?void 0:e.date)?"red":""},onClick:function(){return n=null===e||void 0===e?void 0:e.date,N(n),i(n),void t();var n},children:null===e||void 0===e?void 0:e.value},null===e||void 0===e?void 0:e.date)}))},n)}))]})]})})},b=function(e){var n=e.label,t=e.name,r=e.msg,s=e.value,c=e.onChange,d=e.placeholder,u=e.customFormInputContainer,_=e.customFormInputLabel,v=e.customFormInput,m=e.errorShow,f=e.disabled,h=(0,l.$G)().t,g=(0,o.useState)(!1),x=(0,a.Z)(g,2),b=x[0],y=x[1],S=function(){y((function(e){return!e}))};return(0,j.jsxs)("div",{className:i.Z.form_input_container,style:u,children:[n&&(0,j.jsxs)("label",{className:i.Z.form_input_label,style:_,htmlFor:t,children:[n,r?(0,j.jsx)("span",{className:i.Z.form_input_label_error,children:r}):m?(0,j.jsxs)("span",{className:i.Z.form_input_label_error,children:["* ",h("form_require_label")]}):null]}),(0,j.jsx)("input",{className:i.Z.form_input,type:"text",defaultValue:s,name:t,placeholder:d,disabled:f,style:v,onFocus:S}),(0,j.jsx)("img",{src:"".concat(p.Fk,"/calendar.svg"),alt:"calander-icon",className:i.Z.form_calendar_icon,onClick:S}),b&&(0,j.jsx)(Z,{onClose:S,onDateSelect:c,date:s})]})}},8959:function(e,n,t){"use strict";var a=t(52245),l=t(80184);n.Z=function(e){var n=e.label,t=e.value,i=e.customFormInputContainer,o=e.customFormInputLabel,r=e.customFormInput,s=e.children;return(0,l.jsxs)("div",{className:a.Z.form_read_input_container,style:i,children:[n?(0,l.jsx)("label",{className:a.Z.form_read_input_label,style:o,children:n}):null,s,(0,l.jsx)("h6",{className:a.Z.form_read_input,style:r,children:t})]})}},63162:function(e,n,t){"use strict";var a=t(39230),l=t(51416),i=t(43504),o=t(72791),r=t(80184),s=function(e){var n=e.tab,t=e.isActive,o=e.isLink,s=e.parentState,c=e.onAction,d=e.url,u=(0,a.$G)().t;return o?(0,r.jsx)(i.rU,{className:t?l.Z.horizontal_tab_card_active:l.Z.horizontal_tab_card,to:d,state:s,children:(0,r.jsx)("h6",{children:u(null===n||void 0===n?void 0:n.label)})}):(0,r.jsx)("div",{className:t?l.Z.horizontal_tab_card_active:l.Z.horizontal_tab_card,onClick:function(){c(null===n||void 0===n?void 0:n.id)},children:(0,r.jsx)("h6",{children:u(null===n||void 0===n?void 0:n.label)})})};n.Z=(0,o.memo)(s)},98967:function(e,n,t){"use strict";var a=t(51416),l=t(80184);n.Z=function(e){var n=e.children;return(0,l.jsx)("div",{className:a.Z.horizontal_tab_wrapper,children:n})}},23558:function(e,n,t){"use strict";var a=t(39230),l=t(51416),i=t(72791),o=t(43504),r=t(80184),s=function(e){var n=e.label,t=e.onClick,s=e.isActive,c=e.isLink,d=e.url,u=e.parentState,_=e.isAuthorized,v=(0,a.$G)().t,m=(0,i.useCallback)((function(){return t&&t(),null}),[t]);return(0,r.jsx)(r.Fragment,{children:c?(0,r.jsx)(r.Fragment,{children:_?(0,r.jsx)(o.rU,{className:s?l.Z.rectangle_tab_card_active:l.Z.rectangle_tab_card,to:d,state:u,children:v(n)}):(0,r.jsx)("div",{className:l.Z.rectangle_tab_card,style:{opacity:"0.5"},children:v(n)})}):(0,r.jsx)("div",{className:s?l.Z.rectangle_tab_card_active:l.Z.rectangle_tab_card,onClick:m,children:v(n)})})};n.Z=(0,i.memo)(s)},53277:function(e,n,t){"use strict";var a=t(51416),l=t(80184);n.Z=function(e){var n=e.children;return(0,l.jsx)("div",{className:a.Z.rectangle_tab_wrapper,children:n})}},60724:function(e,n,t){"use strict";var a=t(1413),l=t(39230),i=t(51416),o=t(43504),r=t(80184);n.Z=function(e){var n=e.label,t=e.iconUrl,s=e.url,c=e.state,d=e.isAuthorized,u=e.isVisible,_=e.authorizedKey,v=e.customStyleContainer,m=(0,l.$G)().t;return s?(0,r.jsx)(r.Fragment,{children:d?u&&u[_]&&(0,r.jsxs)(o.rU,{className:i.Z.square_tab_card,to:s,state:c,style:v,children:[(0,r.jsx)("img",{src:t,alt:"card icon"}),(0,r.jsx)("p",{children:m(n)})]}):u&&u[_]&&(0,r.jsxs)("div",{className:i.Z.square_tab_card,style:(0,a.Z)({opacity:"0.5"},v),children:[(0,r.jsx)("img",{src:t,alt:"card icon"}),(0,r.jsx)("p",{children:m(n)})]})}):(0,r.jsxs)("div",{className:i.Z.square_tab_card,style:v,children:[(0,r.jsx)("img",{src:t,alt:"card icon"}),(0,r.jsx)("p",{children:m(n)})]})}},98167:function(e,n,t){"use strict";var a=t(51416),l=t(80184);n.Z=function(e){var n=e.dynamicId,t=e.customStyle,i=e.children;return(0,l.jsx)("div",{className:a.Z.square_tab_wrapper,id:n,style:t,children:i})}},21348:function(e,n,t){"use strict";var a=t(59393),l=t(80184);n.Z=function(e){var n=e.customStyle,t=e.children;return(0,l.jsx)("div",{className:a.Z.user_member_content_wrapper,style:n,children:t})}},87979:function(e,n,t){"use strict";var a=t(59393),l=t(80184);n.Z=function(e){var n=e.children;return(0,l.jsx)("div",{className:a.Z.user_member_tabs_wrapper,children:n})}},29648:function(e,n,t){"use strict";t.d(n,{Z:function(){return Me}});var a=t(29439),l=t(43504),i=t(39230),o=t(1413),r=t(4007),s=t(43677),c=t(6758),d=t(98684),u=t(1669),_=t(80184),v=function(e){var n=e.fid,t=e.carryParentState,a=e.accessRole,l=e.callApi,v=(e.viewAs,(0,i.$G)().t),m=(0,c.Jv)({fid:n,skip:!n}),f=m.instituteAllDepartment,h=m.instituteAllDepartmentLoading;return(0,_.jsxs)("div",{className:r.Z.department_container,children:[h&&(0,_.jsx)(u.Z,{}),null===f||void 0===f?void 0:f.map((function(e){var n;return(0,_.jsx)(s.Z,{parentState:(0,o.Z)((0,o.Z)({},t),{},{did:null===e||void 0===e?void 0:e._id,dName:null===e||void 0===e?void 0:e.dName}),activeUrl:"type=fees&n=structure&u=batch",accessRole:a,callApi:l,children:(0,_.jsxs)("div",{className:r.Z.department_card_container,children:[(0,_.jsx)("img",{src:"".concat(d.J7,"/department.svg"),alt:"department avatar",className:r.Z.department_card_image}),(0,_.jsxs)("div",{children:[(0,_.jsx)("h6",{className:r.Z.department_card_name,children:(null===e||void 0===e?void 0:e.dName)||""}),(0,_.jsxs)("p",{className:r.Z.department_card_head,style:{fontSize:"13px",marginTop:"0.3rem"},children:[v("total_masters")," "," : "," ",null!==(n=null===e||void 0===e?void 0:e.classMasterCount)&&void 0!==n?n:0]})]})]})},null===e||void 0===e?void 0:e._id)}))]})},m=t(16871),f=function(e){var n=e.instituteId,t=e.categoryCount,a=e.masterCount,l=e.fid,o=(0,i.$G)().t,c=(0,m.TH)();return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(s.Z,{parentState:c.state,activeUrl:"type=fees&n=category",children:(0,_.jsxs)("div",{className:r.Z.fees_category,children:[(0,_.jsx)("div",{className:r.Z.fees_category_icon,children:(0,_.jsx)("img",{src:"".concat(d.J7,"/category.svg"),alt:"categor icon"})}),(0,_.jsxs)("div",{className:r.Z.fees_category_text,children:[(0,_.jsx)("h6",{children:o("fees_master")}),(0,_.jsxs)("p",{children:[o("fees_total")," "," : "," ",t+a]})]})]})}),(0,_.jsx)(v,{fid:l,instituteId:n,carryParentState:c.state})]})},h=t(56959),p=t(98967),g=t(63162),x=t(90904),j=t(44226),Z=t(93638),b=t(72791),y=t(53982),S=t(89064),N=t(48293),F=t(21348),C=function(e){var n=e.fid,t=e.selectedId,a=e.onSecondary,l=e.onClose,o=(0,i.$G)().t,s=(0,c.QD)({fid:n,skip:!n}),u=s.financeAllFeesCategory;s.financeAllFeesCategoryLoading;return(0,_.jsx)(N.Z,{onClose:l,children:(0,_.jsxs)("div",{className:r.Z.modal_container,children:[(0,_.jsx)(F.Z,{children:(0,_.jsxs)("div",{className:r.Z.modal_container_outer_header,children:[(0,_.jsx)("div",{className:r.Z.modal_container_header,children:(0,_.jsx)("h6",{children:o("select_secondary_category")})}),(0,_.jsx)("img",{src:"".concat(d.J7,"/close.svg"),alt:"close icon",onClick:l})]})}),(0,_.jsx)(x.Z,{}),(0,_.jsx)(F.Z,{customStyle:{paddingTop:"0"},children:null===u||void 0===u?void 0:u.map((function(e){var n;return(null===e||void 0===e?void 0:e._id)===t?"":(0,_.jsxs)("div",{className:"".concat(r.Z.category_card," ").concat(r.Z.add_category_modal_title_active),onClick:function(){return a(null===e||void 0===e?void 0:e._id)},children:[(0,_.jsx)("img",{src:"".concat(d.J7,"/category.svg"),alt:"categor icon"}),(0,_.jsx)("h6",{children:null!==(n=null===e||void 0===e?void 0:e.category_name)&&void 0!==n?n:""})]},null===e||void 0===e?void 0:e._id)}))})]})})},w=t(1095),A=function(e){var n=e.fid,t=e.openCategoryMenu,l=e.onClose,o=e.allowScholarship,r=(0,i.$G)().t,s=(0,b.useState)(!1),d=(0,a.Z)(s,2),u=d[0],v=d[1],m=(0,c.wJ)(),f=(0,a.Z)(m,1)[0],h=(0,c.Es)(),p=(0,a.Z)(h,1)[0],g=(0,c.ZE)(),x=(0,a.Z)(g,1)[0],j=(0,c.dP)(),Z=(0,a.Z)(j,1)[0],y=(0,b.useState)(!1),N=(0,a.Z)(y,2),F=N[0],A=N[1],D=function(e){var n="Yes"===e;t&&(v((function(e){return!e})),x({fcid:t,applicable:{scholarship_applicable:n}}).then((function(){l(),v((function(e){return!e}))})).catch({}))};return(0,_.jsx)(_.Fragment,{children:F?(0,_.jsx)(C,{selectedId:t,fid:n,onSecondary:function(e){n&&t&&(A(!1),v((function(e){return!e})),p({fid:n,secondaryData:{old_category:t,fee_category:e}}).then((function(){l(),v((function(e){return!e}))})).catch({}))},onClose:function(){return A(!1)}}):(0,_.jsxs)(S.Z,{onClose:l,disabled:u,customStyle:{width:"18rem"},children:[(0,_.jsx)("h6",{onClick:function(){A((function(e){return!e}))},children:r("mark_as_secondary")}),o?(0,_.jsx)("h6",{onClick:D,children:r("no_scholarship_freeship")}):(0,_.jsx)("h6",{onClick:function(){return D("Yes")},children:r("scholarship_freeship")}),(0,_.jsx)("h6",{onClick:function(){t&&(v((function(e){return!e})),Z({frid:t}).then((function(e){var n;if(null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.data){var t;v((function(e){return!e}));var a=window.open("".concat(w.q2,"/").concat(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data),"_blank","noopener,noreferrer");a&&(a.opener=null),l()}else v((function(e){return!e})),l()})).catch({}))},children:r("export")}),(0,_.jsx)("h6",{onClick:function(){t&&(v((function(e){return!e})),f({cid:t}).then((function(){l(),v((function(e){return!e}))})).catch({}))},children:r("delete")})]})})},D=function(e){var n,t,l,i,o=e.category,s=e.fid,c=(0,b.useState)(""),u=(0,a.Z)(c,2),v=u[0],m=u[1];return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:r.Z.category_card,children:[(0,_.jsx)("img",{src:"".concat(d.J7,"/category.svg"),alt:"categor icon"}),(0,_.jsxs)("h6",{children:[null!==(n=null===o||void 0===o?void 0:o.category_name)&&void 0!==n?n:""," ",null!==o&&void 0!==o&&null!==(t=o.secondary_category)&&void 0!==t&&t.category_name?(0,_.jsxs)("span",{style:{fontSize:"11px",fontWeight:"400"},children:["(",null!==(l=null===o||void 0===o||null===(i=o.secondary_category)||void 0===i?void 0:i.category_name)&&void 0!==l?l:"",")"]}):""]}),(0,_.jsx)("img",{src:"".concat(d.J7,"/menu.svg"),alt:"menu icon",onClick:function(){m(null===o||void 0===o?void 0:o._id)},className:r.Z.menu_icon,title:"Menu"})]}),v&&(0,_.jsx)(A,{fid:s,onClose:function(){m("")},openCategoryMenu:v,allowScholarship:null===o||void 0===o?void 0:o.scholarship_applicable})]})},M=t(55336),k=t(61055),T=function(e){var n=e.onClose,t=e.fid,l=(0,i.$G)().t,o=(0,b.useState)(""),s=(0,a.Z)(o,2),u=s[0],v=s[1],m=(0,b.useState)(!1),f=(0,a.Z)(m,2),h=f[0],p=f[1],g=(0,b.useState)(""),j=(0,a.Z)(g,2),y=j[0],S=j[1],C=(0,c.d5)(),w=(0,a.Z)(C,1)[0];return(0,_.jsx)(N.Z,{onClose:n,children:(0,_.jsxs)("div",{className:r.Z.modal_container,children:[(0,_.jsx)(F.Z,{children:(0,_.jsxs)("div",{className:r.Z.modal_container_outer_header,children:[(0,_.jsx)("div",{className:r.Z.modal_container_header,children:(0,_.jsx)("h6",{children:l("add_new_category")})}),(0,_.jsx)("img",{src:"".concat(d.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,_.jsx)(x.Z,{}),(0,_.jsxs)(F.Z,{customStyle:{paddingTop:"0"},children:[(0,_.jsx)(k.Z,{label:l("category_name"),placeholder:l("category_name_placeholder"),name:"category",value:u,type:"text",onChange:function(e){var n;(null===(n=e.target.value)||void 0===n?void 0:n.length)<=30&&v(e.target.value)},errorShow:y.categoryName}),(0,_.jsx)(Z.Z,{label:"create",onAction:function(){u&&t?(p((function(e){return!e})),w({fid:t,createCategory:{category_name:u}}).then((function(){n(),p((function(e){return!e}))})).catch((function(){p((function(e){return!e}))}))):S({categoryName:"* required"})}})]}),h&&(0,_.jsx)(M.Z,{})]})})},I=function(e){var n=e.fid,t=(0,b.useState)(!1),l=(0,a.Z)(t,2),i=l[0],o=l[1],s=(0,b.useState)(!1),d=(0,a.Z)(s,2),v=d[0],m=d[1],f=(0,y.FL)(),h=(0,a.Z)(f,1)[0],p=(0,c.M7)(),g=(0,a.Z)(p,1)[0],x=(0,c.QD)({fid:n,skip:!n}),S=x.financeAllFeesCategory,N=x.financeAllFeesCategoryLoading,F=function(){m((function(e){return!e}))};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:r.Z.upload_excel_container,children:[(0,_.jsx)(j.Z,{onExcelFileUpload:function(e){if(e.target.files[0]){o((function(e){return!e}));var t=new FormData;t.append("file",e.target.files[0]),h({fileUpload:t}).then((function(e){var t,a;null!==(t=e.data)&&void 0!==t&&t.imageKey?g({fid:n,excelFile:{excel_file:null===(a=e.data)||void 0===a?void 0:a.imageKey}}).then((function(){o((function(e){return!e}))})).catch({}):o((function(e){return!e}))})).catch({})}}}),(0,_.jsx)(Z.Z,{label:"add_new_category",customStyle:{paddingBlock:"0.4rem",margin:"0",marginBottom:"0.5rem"},onAction:F})]}),null===S||void 0===S?void 0:S.map((function(e){return(0,_.jsx)(D,{category:e,fid:n},null===e||void 0===e?void 0:e._id)})),N&&(0,_.jsx)(u.Z,{}),i&&(0,_.jsx)(M.Z,{}),v&&(0,_.jsx)(T,{onClose:F,fid:n})]})},U=t(4942),E=t(99183),B=function(e){var n=e.onClose,t=e.fid,l=e.openFeeHeadMenu,s=e.openAs,u=e.onEdit,v=e.onRefetch,m=(0,i.$G)().t,f=(0,b.useState)({master_name:"EDIT"===s?null===l||void 0===l?void 0:l.master_name:"",master_amount:"EDIT"===s?null===l||void 0===l?void 0:l.master_amount:""}),h=(0,a.Z)(f,2),p=h[0],g=h[1],j=(0,b.useState)(!1),y=(0,a.Z)(j,2),S=y[0],C=y[1],w=(0,b.useState)(""),A=(0,a.Z)(w,2),D=A[0],T=A[1],I=(0,c.bQ)(),B=(0,a.Z)(I,1)[0];(0,b.useEffect)((function(){"EDIT"===s&&g({master_name:null===l||void 0===l?void 0:l.master_name,master_amount:null===l||void 0===l?void 0:l.master_amount})}),[s]);var H=function(e){var n;"master_name"===e.target.name?(null===(n=e.target.value)||void 0===n?void 0:n.length)<=30&&g((function(n){return(0,o.Z)((0,o.Z)({},n),{},(0,U.Z)({},e.target.name,e.target.value))})):g((function(n){return(0,o.Z)((0,o.Z)({},n),{},(0,U.Z)({},e.target.name,+e.target.value))}))};return(0,_.jsx)(N.Z,{onClose:n,children:(0,_.jsxs)("div",{className:r.Z.modal_container,children:[(0,_.jsx)(F.Z,{children:(0,_.jsxs)("div",{className:r.Z.modal_container_outer_header,children:[(0,_.jsx)("div",{className:r.Z.modal_container_header,children:(0,_.jsx)("h6",{children:m("EDIT"===s?"edit_fee_head":"add_new_fee_head")})}),(0,_.jsx)("img",{src:"".concat(d.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,_.jsx)(x.Z,{}),(0,_.jsxs)(F.Z,{customStyle:{paddingTop:"0"},children:[(0,_.jsx)(k.Z,{label:m("head_name"),placeholder:m("head_name_placeholder"),name:"master_name",value:p.master_name,type:"text",onChange:H,errorShow:D.master_name}),(0,_.jsx)(k.Z,{label:m("amount"),placeholder:m("amount_placeholder"),name:"master_amount",value:p.master_amount,type:"tel",onChange:H}),(0,_.jsx)(Z.Z,{label:"EDIT"===s?"update":"create",onAction:function(){if(t){var e=(0,E.l)(p,["master_amount"]);(0,E.x)(e)?"EDIT"===s?u({master_name:null===p||void 0===p?void 0:p.master_name,master_amount:null!==p&&void 0!==p&&p.master_amount?null===p||void 0===p?void 0:p.master_amount:0}):(C((function(e){return!e})),B({fid:t,addFeeHead:{master_name:null===p||void 0===p?void 0:p.master_name,master_amount:null!==p&&void 0!==p&&p.master_amount?null===p||void 0===p?void 0:p.master_amount:0}}).then((function(){v(),C((function(e){return!e})),n()})).catch((function(){C((function(e){return!e}))}))):T(e)}}})]}),S&&(0,_.jsx)(M.Z,{})]})})},H=function(e){var n=e.fid,t=e.openFeeHeadMenu,l=e.onClose,o=e.onRefetch,r=(0,i.$G)().t,s=(0,b.useState)(!1),d=(0,a.Z)(s,2),u=d[0],v=d[1],m=(0,c.hx)(),f=(0,a.Z)(m,1)[0],h=(0,c.dA)(),p=(0,a.Z)(h,1)[0],g=(0,b.useState)(!1),x=(0,a.Z)(g,2),j=x[0],Z=x[1],y=function(){Z((function(e){return!e}))};return(0,_.jsx)(_.Fragment,{children:j?(0,_.jsx)(B,{onClose:y,openFeeHeadMenu:t,openAs:"EDIT",onEdit:function(e){null!==t&&void 0!==t&&t._id&&(v((function(e){return!e})),Z(!1),p({fmid:null===t||void 0===t?void 0:t._id,updateFeeHead:e}).then((function(){o(),v((function(e){return!e})),l()})).catch({}))},fid:n}):(0,_.jsxs)(S.Z,{onClose:l,disabled:u,children:[(0,_.jsx)("h6",{onClick:y,children:r("edit")}),(0,_.jsx)("h6",{onClick:function(){null!==t&&void 0!==t&&t._id&&n&&(v((function(e){return!e})),f({fhid:null===t||void 0===t?void 0:t._id,fid:n}).then((function(){o(),v((function(e){return!e})),l()})).catch({}))},children:r("delete")})]})})},Y=function(e){var n,t,l=e.feeHead,o=e.fid,s=e.onRefetch,c=(0,i.$G)().t,u=(0,b.useState)(""),v=(0,a.Z)(u,2),m=v[0],f=v[1];return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:r.Z.category_card,children:[(0,_.jsx)("img",{style:{height:"36px",width:"36px"},src:"".concat(d.J7,"/category.svg"),alt:"categor icon"}),(0,_.jsxs)("div",{className:r.Z.category_card_fee,children:[(0,_.jsx)("h6",{style:{marginBottom:"0.3rem"},children:null!==(n=null===l||void 0===l?void 0:l.master_name)&&void 0!==n?n:""}),(0,_.jsxs)("h6",{style:{color:"rgba(18, 18, 18, 0.5)"},children:[c("rs_only"),null!==(t=null===l||void 0===l?void 0:l.master_amount)&&void 0!==t?t:0]})]}),["Hostel Linked","Linked","Transport Linked"].includes(null===l||void 0===l?void 0:l.master_status)?"":(0,_.jsx)("img",{src:"".concat(d.J7,"/menu.svg"),alt:"menu icon",onClick:function(){f(l)},className:r.Z.menu_icon,title:"Menu"})]},null===l||void 0===l?void 0:l._id),m&&(0,_.jsx)(H,{fid:o,onClose:function(){f("")},openFeeHeadMenu:m,onRefetch:s})]})},q=t(23441),R=t(91427),O=t(57588),L=t(2651),G=function(e){var n,t,l,o,s=e.fid,v=(0,i.$G)().t,m=(0,b.useState)(!1),f=(0,a.Z)(m,2),p=f[0],g=f[1],x=(0,b.useState)(!1),S=(0,a.Z)(x,2),N=S[0],F=S[1],C=(0,b.useState)(""),w=(0,a.Z)(C,2),A=w[0],D=w[1],k=(0,b.useState)(1),T=(0,a.Z)(k,2),I=T[0],U=T[1],E=(0,b.useState)(!0),H=(0,a.Z)(E,2),G=H[0],P=H[1],J=(0,q.YD)({skip:A}),z=(0,a.Z)(J,2),K=z[0],V=z[1],$=(0,y.FL)(),W=(0,a.Z)($,1)[0],Q=(0,c.yJ)(),X=(0,a.Z)(Q,1)[0],ee=(0,c.an)({data:{fid:s,page:I,limit:10,search:A},skip:!s}),ne=ee.financeAllFeeHeadMaster,te=ee.financeAllFeeHeadMasterLoading,ae=ee.financeAllFeeHeadMasterRefetch;(0,b.useEffect)((function(){V&&G&&U((function(e){return e+1}))}),[V,G]),(0,b.useEffect)((function(){var e;if(null!==ne&&void 0!==ne&&null!==(e=ne.list)&&void 0!==e&&e.length){var n,t=(0,R.f)(null===ne||void 0===ne||null===(n=ne.list)||void 0===n?void 0:n.length);P((function(){return t}))}}),[null===ne||void 0===ne||null===(n=ne.list)||void 0===n?void 0:n.length]);var le=(0,b.useCallback)((0,O.J)((function(e){U((function(){return 1})),D(e)}),500),[]),ie=function(){F((function(e){return!e}))},oe=function(){U((function(){return 1})),D(""),ae()};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:h.Z.fm_search_full,style:{marginBottom:"0.5rem"},children:(0,_.jsxs)("section",{className:h.Z.fm_search_full_container,children:[(0,_.jsxs)("div",{className:h.Z.fm_search_full_container_inner,style:{flex:"1.5 1.5"},children:[(0,_.jsx)("img",{className:h.Z.fm_search_full_icon,alt:"search icon",src:"".concat(d.dB,"/navbar-search.svg")}),(0,_.jsx)("input",{type:"text",placeholder:v("search"),onChange:function(e){e.target.value?le(e.target.value):(U((function(){return 1})),D(""))}})]}),(0,_.jsxs)("div",{className:r.Z.upload_excel_container,style:{flex:"1 1"},children:[(0,_.jsx)(j.Z,{onExcelFileUpload:function(e){if(e.target.files[0]){g((function(e){return!e}));var n=new FormData;n.append("file",e.target.files[0]),W({fileUpload:n}).then((function(e){var n,t;null!==(n=e.data)&&void 0!==n&&n.imageKey?X({fid:s,excelFile:{excel_file:null===(t=e.data)||void 0===t?void 0:t.imageKey}}).then((function(){g((function(e){return!e}))})).catch({}):g((function(e){return!e}))})).catch({})}}}),(0,_.jsx)(Z.Z,{label:"add_new_fee_head",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:ie})]})]})}),null===ne||void 0===ne||null===(t=ne.list)||void 0===t?void 0:t.map((function(e,n){var t;return(null===ne||void 0===ne||null===(t=ne.list)||void 0===t?void 0:t.length)===n+1?(0,_.jsx)("div",{ref:K,children:(0,_.jsx)(Y,{feeHead:e,fid:s,onRefetch:oe})},null===e||void 0===e?void 0:e._id):(0,_.jsx)(Y,{feeHead:e,fid:s,onRefetch:oe},null===e||void 0===e?void 0:e._id)})),te?A?(0,_.jsx)(M.Z,{}):(0,_.jsx)(u.Z,{}):A?0===(null===ne||void 0===ne||null===(l=ne.list)||void 0===l?void 0:l.length)&&(0,_.jsx)(L.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No fee heads found related this search."}):0===(null===ne||void 0===ne||null===(o=ne.list)||void 0===o?void 0:o.length)&&(0,_.jsx)(L.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No fee heads added."}),p&&(0,_.jsx)(M.Z,{}),N&&(0,_.jsx)(B,{onClose:ie,fid:s,onRefetch:oe})]})},P=[{label:"category",id:"category",urlKey:"&n=category"},{label:"fees_heads",id:"head",urlKey:"&n=head"}],J=function(e){var n=e.fid,t=(0,i.$G)().t,o=(0,l.lr)(),r=(0,a.Z)(o,1)[0],s=(0,m.TH)(),c=(0,m.UO)();return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:h.Z.fm_header_container,children:(0,_.jsx)("h6",{children:t("fees_master")})}),(0,_.jsx)(p.Z,{children:P.map((function(e){var n;return(0,_.jsx)(g.Z,{tab:e,isLink:!0,isActive:r.get("n")===e.id,parentState:s.state,url:"Institute"===(null===(n=s.state)||void 0===n?void 0:n.urlOffSet)?"/q/".concat(c.username,"/institute/member/finance?type=fees").concat(e.urlKey):"/q/".concat(c.username,"/member/staff/finance?type=fees").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,_.jsx)(x.Z,{customStyleBorder:{marginTop:"0"}}),"category"===r.get("n")?(0,_.jsx)(I,{fid:n}):(0,_.jsx)(G,{fid:n})]})},z="FeesConfig_class_container__7EIlk",K="FeesConfig_class_container_text__BXhQD",V="FeesConfig_oneRowImage__GaV1n",$=t(97892),W=t.n($),Q=function(e){var n=e.departmentId,t=e.carryParentState,a=(0,i.$G)().t,l=(0,c._m)({did:n,skip:!n}),r=l.departmentAllBatch,v=l.departmentAllBatchLoading;return(0,_.jsxs)(_.Fragment,{children:[null===r||void 0===r?void 0:r.map((function(e){return(0,_.jsx)(s.Z,{parentState:(0,o.Z)((0,o.Z)({},t),{},{batchId:null===e||void 0===e?void 0:e._id,batchName:null===e||void 0===e?void 0:e.batchName}),activeUrl:"type=fees&n=structure&u=standard",children:(0,_.jsxs)("div",{className:z,children:[(0,_.jsx)("img",{className:V,src:"".concat(d.J7,"/class.svg"),alt:"batch icon"}),(0,_.jsxs)("div",{className:K,children:[(0,_.jsx)("h6",{children:null===e||void 0===e?void 0:e.batchName}),(0,_.jsxs)("p",{children:[a("created_on")," : ",W()(e.createdAt).format("DD MMM YYYY")]})]})]})},null===e||void 0===e?void 0:e._id)})),v&&(0,_.jsx)(u.Z,{})]})},X=function(e){var n=e.carryParentState,t=e.departmentId,a=e.instituteId,l=(0,c.lj)({data:{id:a,did:t},skip:t?!a:!t}),i=l.departmentAllClassMaster,r=l.departmentAllClassMasterLoading;return(0,_.jsxs)(_.Fragment,{children:[null===i||void 0===i?void 0:i.map((function(e){return(0,_.jsx)(s.Z,{parentState:(0,o.Z)((0,o.Z)({},n),{},{clsId:null===e||void 0===e?void 0:e._id,clsName:null===e||void 0===e?void 0:e.className}),activeUrl:"type=fees&n=structure",children:(0,_.jsxs)("div",{className:z,children:[(0,_.jsx)("img",{className:V,src:"".concat(d.J7,"/class.svg"),alt:"batch icon"}),(0,_.jsx)("div",{className:K,children:(0,_.jsx)("h6",{children:null===e||void 0===e?void 0:e.className})})]})},null===e||void 0===e?void 0:e._id)})),r&&(0,_.jsx)(u.Z,{})]})},ee=t(8959),ne=t(93433),te=t(37762),ae=t(33880),le=t(28457),ie=t(40739),oe=t(66659),re=t(85794),se=function(e){var n,t,l,s,u,v,m,f=e.onClose,h=e.did,p=e.instituteId,g=e.fid,j=e.structure,Z=e.setStructure,y=e.setStep,S=(0,i.$G)().t,C=(0,b.useState)({structure_name:null!==(n=null===j||void 0===j?void 0:j.structure_name)&&void 0!==n?n:"",category_master:null!==(t=null===j||void 0===j?void 0:j.category_master)&&void 0!==t?t:"",class_master:null!==(l=null===j||void 0===j?void 0:j.class_master)&&void 0!==l?l:"",batch_master:null!==(s=null===j||void 0===j?void 0:j.batch_master)&&void 0!==s?s:""}),w=(0,a.Z)(C,2),A=w[0],D=w[1],T=(0,b.useState)(!1),I=(0,a.Z)(T,2),U=I[0],B=I[1],H=(0,b.useState)(""),Y=(0,a.Z)(H,2),q=Y[0],R=Y[1],O=(0,b.useState)({open:!1,msg:"",variant:"error"}),L=(0,a.Z)(O,2),G=L[0],P=L[1],J=(0,c.rG)(),z=(0,a.Z)(J,1)[0];(0,b.useEffect)((function(){null!==j&&void 0!==j&&j.structure_name&&D((function(e){var n,t,a,l;return(0,o.Z)((0,o.Z)({},e),{},{structure_name:null!==(n=null===j||void 0===j?void 0:j.structure_name)&&void 0!==n?n:"",category_master:null!==(t=null===j||void 0===j?void 0:j.category_master)&&void 0!==t?t:"",class_master:null!==(a=null===j||void 0===j?void 0:j.class_master)&&void 0!==a?a:"",batch_master:null!==(l=null===j||void 0===j?void 0:j.batch_master)&&void 0!==l?l:""})}))}),[null===j||void 0===j?void 0:j.structure_name]);var K=(0,c._m)({did:h,skip:!h}).departmentAllBatch,V=(0,c.lj)({data:{did:h,id:p},skip:h?!p:!h}).departmentAllClassMaster,$=(0,c.QD)({fid:g,skip:!g}).financeAllFeesCategory;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(N.Z,{children:(0,_.jsxs)("div",{className:r.Z.modal_container,children:[(0,_.jsx)(F.Z,{children:(0,_.jsxs)("div",{className:r.Z.modal_container_outer_header,children:[(0,_.jsx)("div",{className:r.Z.modal_container_header,children:(0,_.jsx)("h6",{children:S("add_new_fees_structure")})}),(0,_.jsx)("img",{src:"".concat(d.J7,"/close.svg"),alt:"close icon",onClick:f})]})}),(0,_.jsx)(x.Z,{}),(0,_.jsxs)(F.Z,{customStyle:{paddingTop:"0"},children:[(0,_.jsx)(k.Z,{label:S("fee_structure_name"),placeholder:S("fee_structure_name_placeholder"),type:"text",name:"structure_name",value:A.structure_name,onChange:function(e){D((function(n){return(0,o.Z)((0,o.Z)({},n),{},{structure_name:e.target.value})}))},errorShow:q.structure_name}),(0,_.jsx)(ae.Z,{selectLabel:S("select_batch"),selectedValue:S("select_batch_placeholder"),options:(null===K||void 0===K?void 0:K.length)>0?K:[],onClick:function(e){D((function(n){return(0,o.Z)((0,o.Z)({},n),{},{batch_master:e})}))},viewAs:"NORMAL_FILTER",defalutValue:null===(u=A.batch_master)||void 0===u?void 0:u.batchName,errorShow:q.batch_master,isFull:!0}),(0,_.jsx)(le.Z,{selectLabel:S("select_fee_category_master"),selectedValue:S("please_select_fees_category"),options:(null===$||void 0===$?void 0:$.length)>0?$:[],onClick:function(e){D((function(n){return(0,o.Z)((0,o.Z)({},n),{},{category_master:e})}))},viewAs:"NORMAL_FILTER",defalutValue:null===(v=A.category_master)||void 0===v?void 0:v.category_name,errorShow:q.category_master,isFull:!0}),(0,_.jsx)(ie.Z,{selectLabel:S("select_standard"),selectedValue:S("please_select_the_standard_master"),defalutValue:null===(m=A.class_master)||void 0===m?void 0:m.className,onClick:function(e){D((function(n){return(0,o.Z)((0,o.Z)({},n),{},{class_master:e})}))},name:"class_master",options:(null===V||void 0===V?void 0:V.length)>0?V:[],errorShow:q.class_master,viewAs:"NORMAL_FILTER",isFull:!0}),(0,_.jsx)(oe.Z,{label:"set_fee_structure",onAction:function(){var e,n,t,a=(0,E.l)(A);(0,E.x)(a)?(B((function(e){return!e})),z({validate:{category_master:null===A||void 0===A||null===(e=A.category_master)||void 0===e?void 0:e._id,class_master:null===A||void 0===A||null===(n=A.class_master)||void 0===n?void 0:n._id,batch_master:null===A||void 0===A||null===(t=A.batch_master)||void 0===t?void 0:t._id}}).then((function(e){var n,t;(B((function(e){return!e})),null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.avail_struct)?(P({msg:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message,open:!0,variant:"error"}),setTimeout((function(){f()}),[3e3])):(Z((function(e){return(0,o.Z)((0,o.Z)({},e),A)})),y(1))})).catch({})):R(a)}})]}),(0,_.jsx)(re.Z,{eventState:G,eventStateHandler:P})]})}),U&&(0,_.jsx)(M.Z,{})]})},ce=t(19056),de=t(43997),ue=t(74771),_e=function(e){var n,t,l,s=e.structure,c=e.setStructure,u=e.setAllInstallment,v=e.allInstallment,m=e.setStep,f=(0,i.$G)().t,h=(0,b.useState)(null!==(n=null===s||void 0===s?void 0:s.total_installments)&&void 0!==n?n:""),p=(0,a.Z)(h,2),g=p[0],j=p[1],Z=(0,b.useState)(null!==v&&void 0!==v?v:[]),y=(0,a.Z)(Z,2),S=y[0],C=y[1],w=(0,b.useState)({total_admission_fees:null!==(t=null===s||void 0===s?void 0:s.total_admission_fees)&&void 0!==t?t:"",applicable_fees:null!==(l=null===s||void 0===s?void 0:s.applicable_fees)&&void 0!==l?l:""}),A=(0,a.Z)(w,2),D=A[0],M=A[1],T=(0,b.useState)(""),I=(0,a.Z)(T,2),E=I[0],B=I[1];(0,b.useEffect)((function(){var e,n,t;j(null!==(e=null===s||void 0===s?void 0:s.total_installments)&&void 0!==e?e:""),C(v),M({total_admission_fees:null!==(n=null===s||void 0===s?void 0:s.total_admission_fees)&&void 0!==n?n:"",applicable_fees:null!==(t=null===s||void 0===s?void 0:s.applicable_fees)&&void 0!==t?t:""})}),[s,v]);var H=(0,b.useCallback)((function(e){j(e);for(var n=[],t=1;t<=e;t++)n.push({fees:"",dueDate:""});C(n)}),[]);return(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(N.Z,{children:(0,_.jsxs)("div",{className:r.Z.modal_container,children:[(0,_.jsx)(F.Z,{children:(0,_.jsxs)("div",{className:r.Z.modal_container_outer_header,children:[(0,_.jsx)("div",{className:r.Z.modal_container_header,children:(0,_.jsx)("h6",{children:f("admission_fees")})}),(0,_.jsx)("img",{src:"".concat(d.J7,"/close.svg"),alt:"close icon",onClick:function(){return m(0)}})]})}),(0,_.jsx)(x.Z,{}),(0,_.jsxs)(F.Z,{customStyle:{paddingTop:"0"},children:[(0,_.jsx)(k.Z,{label:f("total_fees"),placeholder:f("enter_one_time_payment"),name:"total_admission_fees",value:null===D||void 0===D?void 0:D.total_admission_fees,type:"tel",onChange:function(e){M((function(n){return(0,o.Z)((0,o.Z)({},n),{},(0,U.Z)({},e.target.name,+e.target.value))}))}}),(0,_.jsx)(k.Z,{label:f("applicable_fees"),placeholder:f("applicable_fees_placeholder"),name:"applicable_fees",value:null===D||void 0===D?void 0:D.applicable_fees,type:"tel",onChange:function(e){M((function(n){return(0,o.Z)((0,o.Z)({},n),{},(0,U.Z)({},e.target.name,+e.target.value))})),g||j((function(e){return 1})),1===g&&C([{fees:+e.target.value,dueDate:""}])},msg:f(E.total_applicable_value)}),(null===D||void 0===D?void 0:D.applicable_fees)>0?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(ce.Z,{selectLabel:f("total_installment"),selectedValue:f("select_installment"),defalutValue:g,onClick:H,options:[1,2,3,4,5,6,7,8,9,10,11,12],errorShow:E.installmentCount}),null===S||void 0===S?void 0:S.map((function(e,n){return(0,_.jsxs)("div",{className:r.Z.afsi_container,children:[(0,_.jsx)(k.Z,{label:"".concat(f("installment")," ").concat(n+1),placeholder:f("Amount"),name:"amount".concat(n),value:e.fees,type:"tel",onChange:function(e){return function(e,n){for(var t=(0,ne.Z)(S),a=0;a<(null===t||void 0===t?void 0:t.length);a++)a===n&&(t[a].fees=+e.target.value);C(t)}(e,n)},errorShow:E["fees".concat(n)],customFormInputContainer:{width:"48%"}}),(0,_.jsx)(ue.Z,{label:f("due_last_date"),placeholder:f("please_select_the_date"),name:"dueDate".concat(n),value:e.dueDate?(0,de.jh)(e.dueDate):"",onChange:function(e){return function(e,n){for(var t=(0,ne.Z)(S),a=0;a<(null===t||void 0===t?void 0:t.length);a++)a===n&&(t[a].dueDate=(0,de.O_)(e));C(t)}(e,n)},customFormInputContainer:{width:"48%"}})]},n)}))]}):null,E.total_install_value&&(0,_.jsx)("p",{style:{marginTop:"1rem",color:"red"},children:f("total_installment_value_is_greater_than_or_equal_to_applicable_fees")}),(0,_.jsx)(oe.Z,{label:"set_fee_heads",onAction:function(){var e=ve(g,D,S),n=!1;for(var t in e){n=!0;break}if(n)B(e);else{if(null!==D&&void 0!==D&&D.applicable_fees){var a=me(S);c((function(e){var n,t;return(0,o.Z)((0,o.Z)({},e),{},{total_admission_fees:null!==(n=+D.total_admission_fees)&&void 0!==n?n:0,applicable_fees:null!==(t=+D.applicable_fees)&&void 0!==t?t:0,total_installments:+g},a)})),u(S)}else{var l=me([{fees:"",dueDate:""}]);c((function(e){var n,t;return(0,o.Z)((0,o.Z)({},e),{},{total_admission_fees:null!==(n=+D.total_admission_fees)&&void 0!==n?n:0,applicable_fees:null!==(t=+D.applicable_fees)&&void 0!==t?t:0,total_installments:1},l)})),u(S)}m(2)}}})]})]})})})},ve=function(e,n,t){var a={};for(var l in n.applicable_fees&&(e||(a.installmentCount="installmentCount is required!")),n)"applicable_fees"===l||"total_admission_fees"===l||n[l]||(a[l]="".concat(l," is required!"));if(n.applicable_fees)for(var i=0;i<(null===t||void 0===t?void 0:t.length);i++)for(var o in t[i])t[i][o]||(a["".concat(o).concat(i)]="".concat(o," is required!"));n.applicable_fees>n.total_admission_fees&&(a.total_applicable_value="applicable_fees_should_be_equal_to_or_less_than__total_tdmission_fees");for(var r=0,s=0;s<(null===t||void 0===t?void 0:t.length);s++)r+=t[s].fees;return(r<n.applicable_fees||r>n.applicable_fees)&&(a.total_install_value="* is required!"),a},me=function(e){for(var n={},t=0;t<(null===e||void 0===e?void 0:e.length);t++)0===t?n.one_installments=e[t]?e[t]:0:1===t?n.two_installments=e[t]?e[t]:0:2===t?n.three_installments=e[t]?e[t]:0:3===t?n.four_installments=e[t]?e[t]:0:4===t?n.five_installments=e[t]?e[t]:0:5===t?n.six_installments=e[t]?e[t]:0:6===t?n.seven_installments=e[t]?e[t]:0:7===t?n.eight_installments=e[t]?e[t]:0:8===t?n.nine_installments=e[t]?e[t]:0:9===t?n.ten_installments=e[t]?e[t]:0:10===t?n.eleven_installments=e[t]?e[t]:0:11===t&&(n.tweleve_installments=e[t]?e[t]:0);return n},fe=function(e){var n,t,a=e.feeHead,l=e.onSelect,o=e.selectedFeeId,s=(0,i.$G)().t;return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("div",{className:null!==o&&void 0!==o&&o.includes(null===a||void 0===a?void 0:a._id)?"".concat(r.Z.category_card," ").concat(r.Z.category_card_hover_active):"".concat(r.Z.category_card," ").concat(r.Z.category_card_hover),onClick:function(){l(a)},children:[(0,_.jsx)("img",{style:{height:"36px",width:"36px"},src:"".concat(d.J7,"/category.svg"),alt:"categor icon"}),(0,_.jsxs)("div",{className:r.Z.category_card_fee,children:[(0,_.jsx)("h6",{style:{marginBottom:"0.3rem"},children:null!==(n=null===a||void 0===a?void 0:a.master_name)&&void 0!==n?n:""}),(0,_.jsxs)("h6",{style:{color:"rgba(18, 18, 18, 0.5)"},children:[s("rs_only"),null!==(t=null===a||void 0===a?void 0:a.master_amount)&&void 0!==t?t:0]})]}),(null===o||void 0===o?void 0:o.indexOf(null===a||void 0===a?void 0:a._id))+1>0&&(0,_.jsx)("h6",{className:r.Z.category_card_order,style:{color:"var(--color-white)"},children:(null===o||void 0===o?void 0:o.indexOf(null===a||void 0===a?void 0:a._id))+1})]},null===a||void 0===a?void 0:a._id)})},he=function(e){var n,t,l,o,s=e.onClose,v=e.fid,m=e.setFeeHead,f=e.setFeeHeadId,h=e.feeHeadId,p=e.isSegment,g=(0,i.$G)().t,j=(0,b.useState)(""),y=(0,a.Z)(j,2),S=y[0],C=y[1],w=(0,b.useState)(1),A=(0,a.Z)(w,2),D=A[0],k=A[1],T=(0,b.useState)(!0),I=(0,a.Z)(T,2),U=I[0],E=I[1],B=(0,q.YD)({skip:S}),H=(0,a.Z)(B,2),Y=H[0],G=H[1],P=(0,b.useState)([]),J=(0,a.Z)(P,2),z=J[0],K=J[1],V=(0,b.useState)(null!==h&&void 0!==h?h:[]),$=(0,a.Z)(V,2),W=$[0],Q=$[1],X=(0,c.an)({data:{fid:v,page:D,limit:10,search:S},skip:!v}),ee=X.financeAllFeeHeadMaster,te=X.financeAllFeeHeadMasterLoading;(0,b.useEffect)((function(){Q(h)}),[h]),(0,b.useEffect)((function(){G&&U&&k((function(e){return e+1}))}),[G,U]),(0,b.useEffect)((function(){var e;if(null!==ee&&void 0!==ee&&null!==(e=ee.list)&&void 0!==e&&e.length){var n,t=(0,R.f)(null===ee||void 0===ee||null===(n=ee.list)||void 0===n?void 0:n.length);E((function(){return t}))}}),[null===ee||void 0===ee||null===(n=ee.list)||void 0===n?void 0:n.length]);var ae=(0,b.useCallback)((0,O.J)((function(e){k((function(){return 1})),C(e)}),500),[]),le=function(e){var n={head_name:null===e||void 0===e?void 0:e.master_name,head_amount:null===e||void 0===e?void 0:e.master_amount,master:null===e||void 0===e?void 0:e._id,head_type:p};if(null!==W&&void 0!==W&&W.includes(null===e||void 0===e?void 0:e._id)){for(var t=null===W||void 0===W?void 0:W.indexOf(null===e||void 0===e?void 0:e._id),a=[],l=0;l<(null===z||void 0===z?void 0:z.length);l++)l===t||a.push(z[l]);Q((function(n){return null===n||void 0===n?void 0:n.filter((function(n){return n!==(null===e||void 0===e?void 0:e._id)}))})),K(a)}else Q((function(n){return[].concat((0,ne.Z)(n),[null===e||void 0===e?void 0:e._id])})),K((function(e){return[].concat((0,ne.Z)(e),[n])}))};return(0,_.jsx)(N.Z,{children:(0,_.jsxs)("div",{className:r.Z.modal_container,children:[(0,_.jsx)(F.Z,{children:(0,_.jsxs)("div",{className:r.Z.modal_container_outer_header,children:[(0,_.jsxs)("div",{className:r.Z.modal_container_header,children:[(0,_.jsx)("img",{src:"".concat(d.J7,"/back-arrow.svg"),alt:"close icon",onClick:s}),(0,_.jsx)("h6",{children:g("select_fee_heads")})]}),(0,_.jsx)(Z.Z,{label:"select",customStyle:{margin:"0"},onAction:function(){m((function(e){return[].concat((0,ne.Z)(e),(0,ne.Z)(z))})),f(W),s()}})]})}),(0,_.jsx)(x.Z,{}),(0,_.jsxs)(F.Z,{customStyle:{paddingTop:"0"},children:[(0,_.jsx)("div",{className:r.Z.fm_search_full,style:{marginBottom:"0.5rem"},children:(0,_.jsx)("section",{className:r.Z.fm_search_full_container,children:(0,_.jsxs)("div",{className:r.Z.fm_search_full_container_inner,children:[(0,_.jsx)("img",{className:r.Z.fm_search_full_icon,alt:"search icon",src:"".concat(d.dB,"/navbar-search.svg")}),(0,_.jsx)("input",{type:"text",placeholder:g("search"),onChange:function(e){e.target.value?ae(e.target.value):(k((function(){return 1})),C(""))}})]})})}),null===ee||void 0===ee||null===(t=ee.list)||void 0===t?void 0:t.map((function(e,n){var t;return(null===ee||void 0===ee||null===(t=ee.list)||void 0===t?void 0:t.length)===n+1?(0,_.jsx)("div",{ref:Y,children:(0,_.jsx)(fe,{feeHead:e,fid:v,onSelect:le,selectedFeeId:W})},null===e||void 0===e?void 0:e._id):(0,_.jsx)(fe,{feeHead:e,fid:v,onSelect:le,selectedFeeId:W},null===e||void 0===e?void 0:e._id)})),te?S?(0,_.jsx)(M.Z,{}):(0,_.jsx)(u.Z,{}):S?0===(null===ee||void 0===ee||null===(l=ee.list)||void 0===l?void 0:l.length)&&(0,_.jsx)(L.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No fee master found related this search."}):0===(null===ee||void 0===ee||null===(o=ee.list)||void 0===o?void 0:o.length)&&(0,_.jsx)(L.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No fee master added."})]})]})})},pe=function(e){var n,t,l,o,s=e.structure,c=e.setStep,u=e.setFeeHeadAmount,v=e.feeHeadAmount,m=e.allInstallment,f=e.fid,h=e.applicableFeeHead,p=e.govtFeeHead,g=e.setApplicableFeeHead,j=e.setGovtFeeHead,Z=e.govtFeeHeadAmount,y=e.setGovtFeeHeadAmount,S=e.setApplicableFeeHeadId,C=e.applicableFeeHeadId,w=e.govtFeeHeadId,A=e.setGovtFeeHeadId,D=(0,i.$G)().t,M=(0,b.useState)({open:!1,msg:"",variant:"error"}),k=(0,a.Z)(M,2),T=k[0],I=k[1],U=(0,b.useState)(null!==v&&void 0!==v?v:0),E=(0,a.Z)(U,2),B=E[0],H=E[1],Y=(0,b.useState)(null!==h&&void 0!==h?h:[]),q=(0,a.Z)(Y,2),R=q[0],O=q[1],L=(0,b.useState)(null!==p&&void 0!==p?p:[]),G=(0,a.Z)(L,2),P=G[0],J=G[1],z=(0,b.useState)(null!==Z&&void 0!==Z?Z:0),K=(0,a.Z)(z,2),V=K[0],$=K[1],W=(0,b.useState)(""),Q=(0,a.Z)(W,2),X=Q[0],ee=Q[1];(0,b.useEffect)((function(){if(R){for(var e=0,n=0;n<(null===R||void 0===R?void 0:R.length);n++){var t;e+=+(null===(t=R[n])||void 0===t?void 0:t.head_amount)}H(e)}}),[R]),(0,b.useEffect)((function(){if(P){for(var e=0,n=0;n<(null===P||void 0===P?void 0:P.length);n++){var t;e+=+(null===(t=P[n])||void 0===t?void 0:t.head_amount)}$(e)}}),[P]);var te=function(){ee("")};return(0,_.jsxs)(_.Fragment,{children:["BY_APPLICABLE"===X?(0,_.jsx)(he,{fid:f,onClose:te,setFeeHead:O,setFeeHeadId:S,feeHeadId:C,isSegment:"BY_APPLICABLE"}):"BY_GOVERNMENT"===X?(0,_.jsx)(he,{fid:f,onClose:te,setFeeHead:J,setFeeHeadId:A,feeHeadId:w,isSegment:"BY_GOVERNMENT"}):(0,_.jsx)(N.Z,{children:(0,_.jsxs)("div",{className:r.Z.modal_container,children:[(0,_.jsx)(F.Z,{children:(0,_.jsxs)("div",{className:r.Z.modal_container_outer_header,children:[(0,_.jsx)("div",{className:r.Z.modal_container_header,children:(0,_.jsx)("h6",{children:D("fee_heads")})}),(0,_.jsx)("img",{src:"".concat(d.J7,"/close.svg"),alt:"close icon",onClick:function(){return c(1)}})]})}),(0,_.jsx)(x.Z,{}),(0,_.jsxs)(F.Z,{customStyle:{paddingTop:"0"},children:[(0,_.jsxs)("section",{className:r.Z.fees_head_title,children:[(0,_.jsx)("h6",{children:D("total_fees")}),(0,_.jsxs)("h6",{children:[D("rs_only")," ",null!==(n=null===s||void 0===s?void 0:s.total_admission_fees)&&void 0!==n?n:0]})]}),(0,_.jsxs)("section",{className:r.Z.fees_head_installment,children:[(0,_.jsx)("h6",{style:{color:"#002BBE"},children:D("applicable_fees_only")}),(0,_.jsxs)("h6",{style:{color:"#002BBE"},children:[D("rs_only")," ",null!==(t=null===s||void 0===s?void 0:s.applicable_fees)&&void 0!==t?t:0]})]}),(0,_.jsxs)("section",{className:r.Z.fees_head_installment,children:[(0,_.jsxs)("h6",{style:{color:"#002BBE"},children:[D("govt_scholarship")," "," : "]}),(0,_.jsxs)("h6",{style:{color:"#002BBE"},children:[D("rs_only")," ",(null!==(l=null===s||void 0===s?void 0:s.total_admission_fees)&&void 0!==l?l:0)-(null!==(o=null===s||void 0===s?void 0:s.applicable_fees)&&void 0!==o?o:0)]})]}),null===m||void 0===m?void 0:m.map((function(e,n){var t;return(0,_.jsxs)("section",{className:r.Z.fees_head_installment,children:[(0,_.jsxs)("h6",{style:{textTransform:"capitalize"},children:[D(ge(n))," ",D("installment"),null!==e&&void 0!==e&&e.dueDate?(0,_.jsxs)("span",{style:{fontWeight:"400",fontSize:"12px",marginLeft:"0.4rem"},children:["(","".concat((0,de.jh)(null===e||void 0===e?void 0:e.dueDate)),")"]}):""]}),(0,_.jsxs)("h6",{children:[D("rs_only")," ",null!==(t=null===e||void 0===e?void 0:e.fees)&&void 0!==t?t:0]})]},n)})),(0,_.jsxs)("section",{className:r.Z.table_container,style:{margin:"0"},children:[(0,_.jsxs)("div",{className:r.Z.table_heading,children:[(0,_.jsx)("h6",{children:D("applicable_fee_heads")}),(0,_.jsx)("h6",{children:D("amount")})]}),(0,_.jsx)("div",{className:r.Z.table_body,children:null===R||void 0===R?void 0:R.map((function(e,n){return(0,_.jsxs)("div",{className:r.Z.table_body_list,children:[(0,_.jsx)("input",{type:"text",value:null===e||void 0===e?void 0:e.head_name,onChange:function(e){return function(e,n){for(var t=(0,ne.Z)(R),a=0;a<(null===t||void 0===t?void 0:t.length);a++)a===n&&(t[a].head_name=e.target.value);O(t)}(e,n)},className:r.Z.fee_head_name_input}),(0,_.jsx)("input",{type:"number",value:null===e||void 0===e?void 0:e.head_amount,onChange:function(e){return function(e,n){for(var t=(0,ne.Z)(R),a=0;a<(null===t||void 0===t?void 0:t.length);a++)a===n&&(t[a].head_amount=+e.target.value);O(t)}(e,n)},className:r.Z.fee_head_amount_input})]},n)}))}),(0,_.jsxs)("button",{className:r.Z.add_fees_head_btn,title:"Add Fees",onClick:function(){return ee("BY_APPLICABLE")},style:{cursor:"pointer"},children:[D("add"),(0,_.jsx)("img",{src:"".concat(d.J7,"/plus.svg"),alt:"add"})]}),(0,_.jsx)("div",{className:r.Z.table_body,children:(0,_.jsxs)("div",{className:r.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.5)",borderTopWidth:"0.5px",borderTopStyle:"solid",borderBottom:"none"},children:[(0,_.jsx)("h6",{className:r.Z.fees_total,children:D("subtotal")}),(0,_.jsx)("h6",{className:r.Z.fees_total,children:B})]})})]}),(0,_.jsxs)("section",{className:r.Z.table_container,style:{margin:"0"},children:[(0,_.jsxs)("div",{className:r.Z.table_heading,children:[(0,_.jsx)("h6",{children:D("govt_fee_heads")}),(0,_.jsx)("h6",{children:D("amount")})]}),(0,_.jsx)("div",{className:r.Z.table_body,children:null===P||void 0===P?void 0:P.map((function(e,n){return(0,_.jsxs)("div",{className:r.Z.table_body_list,children:[(0,_.jsx)("input",{type:"text",value:null===e||void 0===e?void 0:e.head_name,onChange:function(e){return function(e,n){for(var t=(0,ne.Z)(P),a=0;a<(null===t||void 0===t?void 0:t.length);a++)a===n&&(t[a].head_name=e.target.value);J(t)}(e,n)},className:r.Z.fee_head_name_input}),(0,_.jsx)("input",{type:"number",value:null===e||void 0===e?void 0:e.head_amount,onChange:function(e){return function(e,n){for(var t=(0,ne.Z)(P),a=0;a<(null===t||void 0===t?void 0:t.length);a++)a===n&&(t[a].head_amount=+e.target.value);J(t)}(e,n)},className:r.Z.fee_head_amount_input})]},n)}))}),(0,_.jsxs)("button",{className:r.Z.add_fees_head_btn,title:"Add Fees",onClick:function(){return ee("BY_GOVERNMENT")},style:{cursor:"pointer"},children:[D("add"),(0,_.jsx)("img",{src:"".concat(d.J7,"/plus.svg"),alt:"add"})]}),(0,_.jsx)("div",{className:r.Z.table_body,children:(0,_.jsxs)("div",{className:r.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.5)",borderTopWidth:"0.5px",borderTopStyle:"solid",borderBottomColor:"rgba(18, 18, 18, 0.8)",borderBottomWidth:"2px"},children:[(0,_.jsx)("h6",{className:r.Z.fees_total,children:D("subtotal")}),(0,_.jsx)("h6",{className:r.Z.fees_total,children:V})]})})]}),(0,_.jsx)(oe.Z,{label:"preview",onAction:function(){var e,n,t=(null!==(e=null===s||void 0===s?void 0:s.total_admission_fees)&&void 0!==e?e:0)-(null!==(n=null===s||void 0===s?void 0:s.applicable_fees)&&void 0!==n?n:0);B>(null===s||void 0===s?void 0:s.applicable_fees)?I({msg:"You can't enter amount greater than applicable fees",open:!0,variant:"error"}):V>t?I({msg:"You can't enter amount greater than govt./scholarship fees",open:!0,variant:"error"}):(g(R),j(P),u(B),y(V),c(3))}})]})]})}),(0,_.jsx)(re.Z,{eventState:T,eventStateHandler:I})]})},ge=function(e){return 0===e?"first":1===e?"second":2===e?"third":3===e?"foutrh":4===e?"fivth":5===e?"sixth":6===e?"seventh":7===e?"eighth":8===e?"ninth":9===e?"ten":10===e?"eleven":"tweleve"},xe=function(e){var n,t,a,l,o,s,c,u=e.onClose,v=e.structure,m=e.applicableFeeHead,f=e.govtFeeHead,h=e.feeHeadAmount,p=e.govtFeeHeadAmount,g=e.allInstallment,j=e.openAs,b=e.onCreate,y=(0,i.$G)().t;return(0,_.jsx)(N.Z,{children:(0,_.jsxs)("div",{className:r.Z.modal_container,children:[(0,_.jsx)(F.Z,{children:(0,_.jsx)("div",{className:r.Z.modal_container_outer_header,children:(0,_.jsxs)("div",{className:r.Z.modal_container_header,children:[(0,_.jsx)("img",{src:"".concat(d.J7,"/back-arrow.svg"),alt:"close icon",onClick:u}),(0,_.jsx)("h6",{children:y("fee_structure_preview")})]})})}),(0,_.jsx)(x.Z,{}),(0,_.jsxs)(F.Z,{customStyle:{paddingTop:"0"},children:[(0,_.jsx)(ee.Z,{label:"".concat(y("fee_structure_name"),": "),value:null===v||void 0===v?void 0:v.structure_name}),(0,_.jsx)(ee.Z,{label:"".concat(y("batch"),": "),value:null===v||void 0===v||null===(n=v.batch_master)||void 0===n?void 0:n.batchName}),(0,_.jsx)(ee.Z,{label:y("fees_category_name"),value:null===v||void 0===v||null===(t=v.category_master)||void 0===t?void 0:t.category_name}),(0,_.jsx)(ee.Z,{label:y("standard_master"),value:null===v||void 0===v||null===(a=v.class_master)||void 0===a?void 0:a.className}),(0,_.jsxs)("section",{className:r.Z.fees_head_title,children:[(0,_.jsx)("h6",{children:y("total_fees")}),(0,_.jsxs)("h6",{children:[y("rs_only")," ",null!==(l=null===v||void 0===v?void 0:v.total_admission_fees)&&void 0!==l?l:0]})]}),(0,_.jsxs)("section",{className:r.Z.fees_head_installment,children:[(0,_.jsx)("h6",{style:{color:"#002BBE"},children:y("applicable_fees_only")}),(0,_.jsxs)("h6",{style:{color:"#002BBE"},children:[y("rs_only")," ",null!==(o=null===v||void 0===v?void 0:v.applicable_fees)&&void 0!==o?o:0]})]}),(0,_.jsxs)("section",{className:r.Z.fees_head_installment,children:[(0,_.jsxs)("h6",{style:{color:"#002BBE"},children:[y("govt_scholarship")," "," : "]}),(0,_.jsxs)("h6",{style:{color:"#002BBE"},children:[y("rs_only")," ",(null!==(s=null===v||void 0===v?void 0:v.total_admission_fees)&&void 0!==s?s:0)-(null!==(c=null===v||void 0===v?void 0:v.applicable_fees)&&void 0!==c?c:0)]})]}),null===g||void 0===g?void 0:g.map((function(e,n){var t;return(0,_.jsxs)("section",{className:r.Z.fees_head_installment,children:[(0,_.jsxs)("h6",{style:{textTransform:"capitalize"},children:[y(je(n))," ",y("installment"),null!==e&&void 0!==e&&e.dueDate?(0,_.jsxs)("span",{style:{fontWeight:"400",fontSize:"12px",marginLeft:"0.4rem"},children:["(","".concat((0,de.jh)(null===e||void 0===e?void 0:e.dueDate)),")"]}):""]}),(0,_.jsxs)("h6",{children:[y("rs_only")," ",null!==(t=null===e||void 0===e?void 0:e.fees)&&void 0!==t?t:0]})]},n)})),(0,_.jsxs)("section",{className:r.Z.table_container,style:{margin:"0"},children:[(0,_.jsxs)("div",{className:r.Z.table_heading,children:[(0,_.jsx)("h6",{children:y("applicable_fee_heads")}),(0,_.jsx)("h6",{children:y("amount")})]}),(0,_.jsx)("div",{className:r.Z.table_body,children:null===m||void 0===m?void 0:m.map((function(e,n){return(0,_.jsxs)("div",{className:r.Z.table_body_list,children:[(0,_.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_name}),(0,_.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_amount})]},n)}))}),(0,_.jsx)("div",{className:r.Z.table_body,children:(0,_.jsxs)("div",{className:r.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.8)",borderTopWidth:"2px",borderTopStyle:"solid",borderBottom:"none"},children:[(0,_.jsx)("h6",{className:r.Z.fees_total,children:y("subtotal")}),(0,_.jsx)("h6",{className:r.Z.fees_total,children:null!==h&&void 0!==h?h:0})]})})]}),p?(0,_.jsxs)("section",{className:r.Z.table_container,style:{margin:"0"},children:[(0,_.jsxs)("div",{className:r.Z.table_heading,children:[(0,_.jsx)("h6",{children:y("govt_fee_heads")}),(0,_.jsx)("h6",{children:y("amount")})]}),(0,_.jsx)("div",{className:r.Z.table_body,children:null===f||void 0===f?void 0:f.map((function(e,n){return(0,_.jsxs)("div",{className:r.Z.table_body_list,children:[(0,_.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_name}),(0,_.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_amount})]},n)}))}),(0,_.jsx)("div",{className:r.Z.table_body,children:(0,_.jsxs)("div",{className:r.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.8)",borderTopWidth:"2px",borderTopStyle:"solid",borderBottomColor:"rgba(18, 18, 18, 0.8)",borderBottomWidth:"2px"},children:[(0,_.jsx)("h6",{className:r.Z.fees_total,children:y("subtotal")}),(0,_.jsx)("h6",{className:r.Z.fees_total,children:null!==p&&void 0!==p?p:0})]})})]}):null,(0,_.jsx)(Z.Z,{label:"EDIT"===j?"update_fees_structure_as":"create_fees_structure",onAction:b})]})]})})},je=function(e){return 0===e?"first":1===e?"second":2===e?"third":3===e?"foutrh":4===e?"fivth":5===e?"sixth":6===e?"seventh":7===e?"eighth":8===e?"ninth":9===e?"ten":10===e?"eleven":"tweleve"},Ze=t(26192),be=function(e){var n=e.onEditActionAs,t=e.onClose,a=e.editType,l=e.setEditType,o=(0,i.$G)().t;return(0,_.jsx)(N.Z,{children:(0,_.jsxs)("div",{className:r.Z.modal_container,children:[(0,_.jsx)(F.Z,{children:(0,_.jsx)("div",{className:r.Z.modal_container_outer_header,children:(0,_.jsxs)("div",{className:r.Z.modal_container_header,children:[(0,_.jsx)("img",{src:"".concat(d.J7,"/back-arrow.svg"),alt:"close icon",onClick:t}),(0,_.jsx)("h6",{children:o("edit_fee_structure_type")})]})})}),(0,_.jsx)(x.Z,{}),(0,_.jsxs)(F.Z,{customStyle:{paddingTop:"0"},children:[(0,_.jsxs)("div",{className:"RETRO"===a?"".concat(Ze.Z.application_card," ").concat(Ze.Z.application_card_active):Ze.Z.application_card,onClick:function(){return l("RETRO")},children:[(0,_.jsxs)("div",{className:Ze.Z.application_card_title,children:[(0,_.jsx)("img",{src:"".concat(d.J7,"/category.svg"),alt:"staff profile avatar"}),(0,_.jsx)("h6",{children:o("retrospective_edit")})]}),(0,_.jsxs)("section",{className:Ze.Z.application_card_info,children:[(0,_.jsx)("div",{children:o("retrospective_edit_descrtiption")}),(0,_.jsx)("h6",{children:o("retrospective_edit_note")})]})]}),(0,_.jsxs)("div",{className:"PROSP"===a?"".concat(Ze.Z.application_card," ").concat(Ze.Z.application_card_active):Ze.Z.application_card,onClick:function(){return l("PROSP")},children:[(0,_.jsxs)("div",{className:Ze.Z.application_card_title,children:[(0,_.jsx)("img",{src:"".concat(d.J7,"/category.svg"),alt:"staff profile avatar"}),(0,_.jsx)("h6",{children:o("prospective_edit")})]}),(0,_.jsxs)("section",{className:Ze.Z.application_card_info,children:[(0,_.jsx)("div",{children:o("prospective_edit_description")}),(0,_.jsx)("h6",{children:o("prospective_edit_note")})]})]}),(0,_.jsx)(Z.Z,{label:"update_fees_structure",onAction:n})]})]})})},ye=function(e){var n=e.onClose,t=e.did,l=e.fid,i=e.instituteId,r=e.openAs,s=e.onEdit,d=e.openStructureMenu,u=e.onRefetch,v=e.isRefetch,m=(0,b.useState)(0),f=(0,a.Z)(m,2),h=f[0],p=f[1],g=(0,b.useState)({structure_name:"",category_master:"",class_master:"",batch_master:"",total_admission_fees:"",applicable_fees:"",total_installments:""}),x=(0,a.Z)(g,2),j=x[0],Z=x[1],y=(0,b.useState)([]),S=(0,a.Z)(y,2),N=S[0],F=S[1],C=(0,b.useState)(0),w=(0,a.Z)(C,2),A=w[0],D=w[1],k=(0,c.y0)(),T=(0,a.Z)(k,1)[0],I=(0,b.useState)(!1),U=(0,a.Z)(I,2),E=U[0],B=U[1],H=(0,b.useState)([]),Y=(0,a.Z)(H,2),q=Y[0],R=Y[1],O=(0,b.useState)([]),L=(0,a.Z)(O,2),G=L[0],P=L[1],J=(0,b.useState)(0),z=(0,a.Z)(J,2),K=z[0],V=z[1],$=(0,b.useState)([]),W=(0,a.Z)($,2),Q=W[0],X=W[1],ee=(0,b.useState)([]),ae=(0,a.Z)(ee,2),le=ae[0],ie=ae[1],oe=(0,b.useState)(""),re=(0,a.Z)(oe,2),ce=re[0],de=re[1];(0,b.useEffect)((function(){if("EDIT"===r){Z((function(e){var n,t,a,l,i,r,s;return(0,o.Z)((0,o.Z)({},e),{},{structure_name:null!==(n=null===d||void 0===d?void 0:d.structure_name)&&void 0!==n?n:"",category_master:null!==(t=null===d||void 0===d?void 0:d.category_master)&&void 0!==t?t:"",class_master:null!==(a=null===d||void 0===d?void 0:d.class_master)&&void 0!==a?a:"",batch_master:null!==(l=null===d||void 0===d?void 0:d.batch_master)&&void 0!==l?l:"",total_admission_fees:null!==(i=null===d||void 0===d?void 0:d.total_admission_fees)&&void 0!==i?i:"",applicable_fees:null!==(r=null===d||void 0===d?void 0:d.applicable_fees)&&void 0!==r?r:"",total_installments:null!==(s=null===d||void 0===d?void 0:d.total_installments)&&void 0!==s?s:""})}));var e,n=[],t=0,a=(0,te.Z)(null===d||void 0===d?void 0:d.applicable_fees_heads);try{for(a.s();!(e=a.n()).done;){var l=e.value,i={created_at:null===l||void 0===l?void 0:l.created_at,head_amount:null===l||void 0===l?void 0:l.head_amount,head_name:null===l||void 0===l?void 0:l.head_name,master:null===l||void 0===l?void 0:l.master,_id:null===l||void 0===l?void 0:l._id};n.push(i),t+=null===l||void 0===l?void 0:l.head_amount}}catch(f){a.e(f)}finally{a.f()}R(n),D(t);var s,c=[],u=(0,te.Z)(null===d||void 0===d?void 0:d.government_fees_heads);try{for(u.s();!(s=u.n()).done;){var _=s.value,v={created_at:null===_||void 0===_?void 0:_.created_at,head_amount:null===_||void 0===_?void 0:_.head_amount,head_name:null===_||void 0===_?void 0:_.head_name,master:null===_||void 0===_?void 0:_.master,_id:null===_||void 0===_?void 0:_._id};c.push(v),t+=null===_||void 0===_?void 0:_.head_amount}}catch(f){u.e(f)}finally{u.f()}P(c),V(0);var m=Se(d);F(m)}}),[d]);var ue=function(e){var a,i,c,d,_,m,f=[];((null===q||void 0===q?void 0:q.length)>0&&f.push.apply(f,(0,ne.Z)(q)),(null===G||void 0===G?void 0:G.length)>0&&f.push.apply(f,(0,ne.Z)(G)),"EDIT"===r)?s((0,o.Z)((0,o.Z)({},j),{},{structure_name:null===j||void 0===j?void 0:j.structure_name,category_master:null===j||void 0===j||null===(a=j.category_master)||void 0===a?void 0:a._id,class_master:null===j||void 0===j||null===(i=j.class_master)||void 0===i?void 0:i._id,batch_master:null===j||void 0===j||null===(c=j.batch_master)||void 0===c?void 0:c._id,total_admission_fees:null!==j&&void 0!==j&&j.total_admission_fees?null===j||void 0===j?void 0:j.total_admission_fees:0,applicable_fees:null!==j&&void 0!==j&&j.applicable_fees?null===j||void 0===j?void 0:j.applicable_fees:0,total_installments:null!==j&&void 0!==j&&j.total_installments?null===j||void 0===j?void 0:j.total_installments:0,heads:f}),e):l&&t&&(B((function(e){return!e})),T({fid:l,flow:"Finance_Manager",createFeesStructure:(0,o.Z)((0,o.Z)({},j),{},{structure_name:null===j||void 0===j?void 0:j.structure_name,category_master:null===j||void 0===j||null===(d=j.category_master)||void 0===d?void 0:d._id,class_master:null===j||void 0===j||null===(_=j.class_master)||void 0===_?void 0:_._id,batch_master:null===j||void 0===j||null===(m=j.batch_master)||void 0===m?void 0:m._id,total_admission_fees:null!==j&&void 0!==j&&j.total_admission_fees?null===j||void 0===j?void 0:j.total_admission_fees:0,applicable_fees:null!==j&&void 0!==j&&j.applicable_fees?null===j||void 0===j?void 0:j.applicable_fees:0,total_installments:null!==j&&void 0!==j&&j.total_installments?null===j||void 0===j?void 0:j.total_installments:0,heads:f,did:t})}).then((function(){v&&u(),B((function(e){return!e})),n()})).catch((function(){B((function(e){return!e}))})))};return(0,_.jsxs)(_.Fragment,{children:[0===h?(0,_.jsx)(se,{onClose:n,did:t,fid:l,instituteId:i,structure:j,setStructure:Z,setStep:p}):1===h?(0,_.jsx)(_e,{structure:j,setAllInstallment:F,setStructure:Z,setStep:p,allInstallment:N}):2===h?(0,_.jsx)(pe,{structure:j,setStep:p,setFeeHeadAmount:D,feeHeadAmount:A,allInstallment:N,fid:l,applicableFeeHead:q,govtFeeHead:G,setApplicableFeeHead:R,setGovtFeeHead:P,setGovtFeeHeadAmount:V,govtFeeHeadAmount:K,setApplicableFeeHeadId:X,applicableFeeHeadId:Q,govtFeeHeadId:le,setGovtFeeHeadId:ie}):3===h?(0,_.jsx)(xe,{structure:j,applicableFeeHead:q,govtFeeHead:G,feeHeadAmount:A,govtFeeHeadAmount:K,allInstallment:N,setStep:p,onClose:function(){return p(2)},onCreate:"EDIT"===r?function(){p(4)}:ue,openAs:r}):4===h?(0,_.jsx)(be,{onEditActionAs:function(e){e&&ue(e)},onClose:function(){return p(3)},setEditType:de,editType:ce}):null,E&&(0,_.jsx)(M.Z,{})]})},Se=function(e){var n,t,a,l,i,o,r,s,c,d,u,_,v,m,f,h,p,g,x,j,Z,b,y,S,N,F,C,w,A,D,M,k,T,I,U,E,B=[];null!==e&&void 0!==e&&null!==(n=e.one_installments)&&void 0!==n&&n.fees&&B.push({fees:null===e||void 0===e||null===(v=e.one_installments)||void 0===v?void 0:v.fees,dueDate:null===e||void 0===e||null===(m=e.one_installments)||void 0===m?void 0:m.dueDate});null!==e&&void 0!==e&&null!==(t=e.two_installments)&&void 0!==t&&t.fees&&B.push({fees:null===e||void 0===e||null===(f=e.two_installments)||void 0===f?void 0:f.fees,dueDate:null===e||void 0===e||null===(h=e.two_installments)||void 0===h?void 0:h.dueDate});null!==e&&void 0!==e&&null!==(a=e.three_installments)&&void 0!==a&&a.fees&&B.push({fees:null===e||void 0===e||null===(p=e.three_installments)||void 0===p?void 0:p.fees,dueDate:null===e||void 0===e||null===(g=e.three_installments)||void 0===g?void 0:g.dueDate});null!==e&&void 0!==e&&null!==(l=e.four_installments)&&void 0!==l&&l.fees&&B.push({fees:null===e||void 0===e||null===(x=e.four_installments)||void 0===x?void 0:x.fees,dueDate:null===e||void 0===e||null===(j=e.four_installments)||void 0===j?void 0:j.dueDate});null!==e&&void 0!==e&&null!==(i=e.five_installments)&&void 0!==i&&i.fees&&B.push({fees:null===e||void 0===e||null===(Z=e.five_installments)||void 0===Z?void 0:Z.fees,dueDate:null===e||void 0===e||null===(b=e.five_installments)||void 0===b?void 0:b.dueDate});null!==e&&void 0!==e&&null!==(o=e.six_installments)&&void 0!==o&&o.fees&&B.push({fees:null===e||void 0===e||null===(y=e.six_installments)||void 0===y?void 0:y.fees,dueDate:null===e||void 0===e||null===(S=e.six_installments)||void 0===S?void 0:S.dueDate});null!==e&&void 0!==e&&null!==(r=e.seven_installments)&&void 0!==r&&r.fees&&B.push({fees:null===e||void 0===e||null===(N=e.seven_installments)||void 0===N?void 0:N.fees,dueDate:null===e||void 0===e||null===(F=e.seven_installments)||void 0===F?void 0:F.dueDate});null!==e&&void 0!==e&&null!==(s=e.eight_installments)&&void 0!==s&&s.fees&&B.push({fees:null===e||void 0===e||null===(C=e.eight_installments)||void 0===C?void 0:C.fees,dueDate:null===e||void 0===e||null===(w=e.eight_installments)||void 0===w?void 0:w.dueDate});null!==e&&void 0!==e&&null!==(c=e.nine_installments)&&void 0!==c&&c.fees&&B.push({fees:null===e||void 0===e||null===(A=e.nine_installments)||void 0===A?void 0:A.fees,dueDate:null===e||void 0===e||null===(D=e.nine_installments)||void 0===D?void 0:D.dueDate});null!==e&&void 0!==e&&null!==(d=e.ten_installments)&&void 0!==d&&d.fees&&B.push({fees:null===e||void 0===e||null===(M=e.ten_installments)||void 0===M?void 0:M.fees,dueDate:null===e||void 0===e||null===(k=e.ten_installments)||void 0===k?void 0:k.dueDate});null!==e&&void 0!==e&&null!==(u=e.eleven_installments)&&void 0!==u&&u.fees&&B.push({fees:null===e||void 0===e||null===(T=e.eleven_installments)||void 0===T?void 0:T.fees,dueDate:null===e||void 0===e||null===(I=e.eleven_installments)||void 0===I?void 0:I.dueDate});null!==e&&void 0!==e&&null!==(_=e.tweleve_installments)&&void 0!==_&&_.fees&&B.push({fees:null===e||void 0===e||null===(U=e.tweleve_installments)||void 0===U?void 0:U.fees,dueDate:null===e||void 0===e||null===(E=e.tweleve_installments)||void 0===E?void 0:E.dueDate});return B},Ne=function(e){var n=e.fid,t=e.instituteId,l=e.did,r=e.openMenu,s=e.onClose,d=e.flowAs,u=e.onCloseParent,v=e.onRefetch,m=(0,i.$G)().t,f=(0,b.useState)(!1),h=(0,a.Z)(f,2),p=h[0],g=h[1],x=(0,c.sx)(),j=(0,a.Z)(x,1)[0],Z=(0,c.nr)(),y=(0,a.Z)(Z,1)[0],N=(0,c.oK)(),F=(0,a.Z)(N,1)[0],C=(0,b.useState)(!1),w=(0,a.Z)(C,2),A=w[0],D=w[1],k=function(){D((function(e){return!e}))};return(0,_.jsxs)(_.Fragment,{children:[A?(0,_.jsx)(ye,{onClose:k,fid:n,openAs:"EDIT",openStructureMenu:r,onEdit:function(e,n){null!==r&&void 0!==r&&r._id&&(g((function(e){return!e})),D(!1),"RETRO"===n?F({sid:null===r||void 0===r?void 0:r._id,flow:d,updateStructure:(0,o.Z)((0,o.Z)({},e),{},{department:l})}).then((function(){s(),g((function(e){return!e}))})).catch({}):y({sid:null===r||void 0===r?void 0:r._id,flow:"Finance_Manager",updateStructure:e}).then((function(){s(),g((function(e){return!e}))})).catch({}))},did:l,instituteId:t}):(0,_.jsxs)(S.Z,{onClose:s,disabled:p,children:[(0,_.jsx)("h6",{onClick:k,children:m("edit")}),(0,_.jsx)("h6",{onClick:function(){null!==r&&void 0!==r&&r._id&&d&&(g((function(e){return!e})),j({flow:"Finance_Manager",sid:null===r||void 0===r?void 0:r._id}).then((function(){v(),u(),g((function(e){return!e}))})).catch({}))},children:m("delete")})]}),p&&(0,_.jsx)(M.Z,{})]})},Fe=function(e){var n,t,l,o,s,u,v,m,f,h,p,g,j,Z,y,S,C,w,A,D,M,k,T,I,U,E,B,H,Y,q,R,O,L,G,P,J,z,K,V,$,W,Q,X,ne,te,ae,le,ie,oe,re,se,ce,de,ue,_e,ve,me,fe,he,pe,ge,xe,je,Ze,be,ye,Se,Fe,we,Ae,De,Me,ke,Te,Ie,Ue,Ee,Be,He,Ye,qe,Re,Oe,Le,Ge,Pe,Je,ze,Ke,Ve,$e,We,Qe,Xe,en,nn,tn,an,ln,on,rn,sn,cn=e.structureId,dn=e.onClose,un=e.instituteId,_n=e.fid,vn=e.did,mn=e.onRefetch,fn=(0,i.$G)().t,hn=(0,b.useState)(""),pn=(0,a.Z)(hn,2),gn=pn[0],xn=pn[1],jn=(0,c.eY)({fsid:cn,skip:!cn}).financeFeeStructureDetail,Zn=0,bn=0;(null===jn||void 0===jn||null===(n=jn.structure)||void 0===n||null===(t=n.applicable_fees_heads)||void 0===t?void 0:t.length)>0&&(null===jn||void 0===jn||null===(ln=jn.structure)||void 0===ln||null===(on=ln.applicable_fees_heads)||void 0===on||on.map((function(e){return Zn+=null===e||void 0===e?void 0:e.head_amount})));(null===jn||void 0===jn||null===(l=jn.structure)||void 0===l||null===(o=l.government_fees_heads)||void 0===o?void 0:o.length)>0&&(null===jn||void 0===jn||null===(rn=jn.structure)||void 0===rn||null===(sn=rn.government_fees_heads)||void 0===sn||sn.map((function(e){return bn+=null===e||void 0===e?void 0:e.head_amount})));return(0,_.jsx)(_.Fragment,{children:gn?(0,_.jsx)(Ne,{onClose:function(){xn("")},openMenu:gn,instituteId:un,fid:_n,did:vn,flowAs:"Finance_Manager",onCloseParent:dn,onRefetch:mn}):(0,_.jsx)(N.Z,{onClose:dn,children:(0,_.jsxs)("div",{className:r.Z.modal_container,children:[(0,_.jsx)(F.Z,{children:(0,_.jsxs)("div",{className:r.Z.modal_container_outer_header,children:[(0,_.jsx)("div",{className:r.Z.modal_container_header,children:(0,_.jsx)("h6",{children:fn("fee_structure")})}),(0,_.jsx)("img",{src:"".concat(d.J7,"/edit.svg"),alt:"close icon",onClick:function(){null!==jn&&void 0!==jn&&jn.structure&&xn((function(){return null===jn||void 0===jn?void 0:jn.structure}))}})]})}),(0,_.jsx)(x.Z,{}),(0,_.jsxs)(F.Z,{customStyle:{paddingTop:"0"},children:[(0,_.jsx)(ee.Z,{label:"".concat(fn("fee_structure_name"),": "),value:null!==(s=null===jn||void 0===jn||null===(u=jn.structure)||void 0===u?void 0:u.unique_structure_name)&&void 0!==s?s:""}),(0,_.jsx)(ee.Z,{label:"".concat(fn("batch"),": "),value:null===jn||void 0===jn||null===(v=jn.structure)||void 0===v||null===(m=v.batch_master)||void 0===m?void 0:m.batchName}),(0,_.jsx)(ee.Z,{label:"".concat(fn("fees_category_name")),value:null!==(f=null===jn||void 0===jn||null===(h=jn.structure)||void 0===h||null===(p=h.category_master)||void 0===p?void 0:p.category_name)&&void 0!==f?f:""}),(0,_.jsx)(ee.Z,{label:"".concat(fn("standard_master")),value:null!==(g=null===jn||void 0===jn||null===(j=jn.structure)||void 0===j||null===(Z=j.class_master)||void 0===Z?void 0:Z.className)&&void 0!==g?g:""}),(0,_.jsxs)("section",{className:r.Z.fees_head_title,children:[(0,_.jsx)("h6",{children:fn("total_fees")}),(0,_.jsxs)("h6",{children:[fn("rs_only")," ",null!==(y=null===jn||void 0===jn||null===(S=jn.structure)||void 0===S?void 0:S.total_admission_fees)&&void 0!==y?y:0]})]}),(0,_.jsxs)("section",{className:r.Z.fees_head_installment,children:[(0,_.jsxs)("h6",{style:{color:"#002BBE"},children:[fn("applicable_fees_only_payable")," "," : "]}),(0,_.jsxs)("h6",{style:{color:"#002BBE"},children:[fn("rs_only")," ",null!==(C=null===jn||void 0===jn||null===(w=jn.structure)||void 0===w?void 0:w.applicable_fees)&&void 0!==C?C:0]})]}),(0,_.jsxs)("section",{className:r.Z.fees_head_installment,children:[(0,_.jsxs)("h6",{style:{color:"#002BBE"},children:[fn("govt_scholarship")," "," : "]}),(0,_.jsxs)("h6",{style:{color:"#002BBE"},children:[fn("rs_only")," ",(null!==(A=null===jn||void 0===jn||null===(D=jn.structure)||void 0===D?void 0:D.total_admission_fees)&&void 0!==A?A:0)-(null!==(M=null===jn||void 0===jn||null===(k=jn.structure)||void 0===k?void 0:k.applicable_fees)&&void 0!==M?M:0)]})]}),null!==jn&&void 0!==jn&&null!==(T=jn.structure)&&void 0!==T&&null!==(I=T.one_installments)&&void 0!==I&&I.fees?(0,_.jsx)(Ce,{dueDate:null===jn||void 0===jn||null===(U=jn.structure)||void 0===U||null===(E=U.one_installments)||void 0===E?void 0:E.dueDate,label:"first",amount:null===jn||void 0===jn||null===(B=jn.structure)||void 0===B||null===(H=B.one_installments)||void 0===H?void 0:H.fees}):null,null!==jn&&void 0!==jn&&null!==(Y=jn.structure)&&void 0!==Y&&null!==(q=Y.two_installments)&&void 0!==q&&q.fees?(0,_.jsx)(Ce,{dueDate:null===jn||void 0===jn||null===(R=jn.structure)||void 0===R||null===(O=R.two_installments)||void 0===O?void 0:O.dueDate,label:"second",amount:null===jn||void 0===jn||null===(L=jn.structure)||void 0===L||null===(G=L.two_installments)||void 0===G?void 0:G.fees}):null,null!==jn&&void 0!==jn&&null!==(P=jn.structure)&&void 0!==P&&null!==(J=P.three_installments)&&void 0!==J&&J.fees?(0,_.jsx)(Ce,{dueDate:null===jn||void 0===jn||null===(z=jn.structure)||void 0===z||null===(K=z.three_installments)||void 0===K?void 0:K.dueDate,label:"third",amount:null===jn||void 0===jn||null===(V=jn.structure)||void 0===V||null===($=V.three_installments)||void 0===$?void 0:$.fees}):null,null!==jn&&void 0!==jn&&null!==(W=jn.structure)&&void 0!==W&&null!==(Q=W.four_installments)&&void 0!==Q&&Q.fees?(0,_.jsx)(Ce,{dueDate:null===jn||void 0===jn||null===(X=jn.structure)||void 0===X||null===(ne=X.four_installments)||void 0===ne?void 0:ne.dueDate,label:"fourth",amount:null===jn||void 0===jn||null===(te=jn.structure)||void 0===te||null===(ae=te.four_installments)||void 0===ae?void 0:ae.fees}):null,null!==jn&&void 0!==jn&&null!==(le=jn.structure)&&void 0!==le&&null!==(ie=le.five_installments)&&void 0!==ie&&ie.fees?(0,_.jsx)(Ce,{dueDate:null===jn||void 0===jn||null===(oe=jn.structure)||void 0===oe||null===(re=oe.five_installments)||void 0===re?void 0:re.dueDate,label:"fifth",amount:null===jn||void 0===jn||null===(se=jn.structure)||void 0===se||null===(ce=se.five_installments)||void 0===ce?void 0:ce.fees}):null,null!==jn&&void 0!==jn&&null!==(de=jn.structure)&&void 0!==de&&null!==(ue=de.six_installments)&&void 0!==ue&&ue.fees?(0,_.jsx)(Ce,{dueDate:null===jn||void 0===jn||null===(_e=jn.structure)||void 0===_e||null===(ve=_e.six_installments)||void 0===ve?void 0:ve.dueDate,label:"sixth",amount:null===jn||void 0===jn||null===(me=jn.structure)||void 0===me||null===(fe=me.six_installments)||void 0===fe?void 0:fe.fees}):null,null!==jn&&void 0!==jn&&null!==(he=jn.structure)&&void 0!==he&&null!==(pe=he.seven_installments)&&void 0!==pe&&pe.fees?(0,_.jsx)(Ce,{dueDate:null===jn||void 0===jn||null===(ge=jn.structure)||void 0===ge||null===(xe=ge.seven_installments)||void 0===xe?void 0:xe.dueDate,label:"seventh",amount:null===jn||void 0===jn||null===(je=jn.structure)||void 0===je||null===(Ze=je.seven_installments)||void 0===Ze?void 0:Ze.fees}):null,null!==jn&&void 0!==jn&&null!==(be=jn.structure)&&void 0!==be&&null!==(ye=be.eight_installments)&&void 0!==ye&&ye.fees?(0,_.jsx)(Ce,{dueDate:null===jn||void 0===jn||null===(Se=jn.structure)||void 0===Se||null===(Fe=Se.eight_installments)||void 0===Fe?void 0:Fe.dueDate,label:"eight",amount:null===jn||void 0===jn||null===(we=jn.structure)||void 0===we||null===(Ae=we.eight_installments)||void 0===Ae?void 0:Ae.fees}):null,null!==jn&&void 0!==jn&&null!==(De=jn.structure)&&void 0!==De&&null!==(Me=De.nine_installments)&&void 0!==Me&&Me.fees?(0,_.jsx)(Ce,{dueDate:null===jn||void 0===jn||null===(ke=jn.structure)||void 0===ke||null===(Te=ke.nine_installments)||void 0===Te?void 0:Te.dueDate,label:"ninth",amount:null===jn||void 0===jn||null===(Ie=jn.structure)||void 0===Ie||null===(Ue=Ie.nine_installments)||void 0===Ue?void 0:Ue.fees}):null,null!==jn&&void 0!==jn&&null!==(Ee=jn.structure)&&void 0!==Ee&&null!==(Be=Ee.ten_installments)&&void 0!==Be&&Be.fees?(0,_.jsx)(Ce,{dueDate:null===jn||void 0===jn||null===(He=jn.structure)||void 0===He||null===(Ye=He.ten_installments)||void 0===Ye?void 0:Ye.dueDate,label:"ten",amount:null===jn||void 0===jn||null===(qe=jn.structure)||void 0===qe||null===(Re=qe.ten_installments)||void 0===Re?void 0:Re.fees}):null,null!==jn&&void 0!==jn&&null!==(Oe=jn.structure)&&void 0!==Oe&&null!==(Le=Oe.eleven_installments)&&void 0!==Le&&Le.fees?(0,_.jsx)(Ce,{dueDate:null===jn||void 0===jn||null===(Ge=jn.structure)||void 0===Ge||null===(Pe=Ge.eleven_installments)||void 0===Pe?void 0:Pe.dueDate,label:"eleventh",amount:null===jn||void 0===jn||null===(Je=jn.structure)||void 0===Je||null===(ze=Je.eleven_installments)||void 0===ze?void 0:ze.fees}):null,null!==jn&&void 0!==jn&&null!==(Ke=jn.structure)&&void 0!==Ke&&null!==(Ve=Ke.tweleve_installments)&&void 0!==Ve&&Ve.fees?(0,_.jsx)(Ce,{dueDate:null===jn||void 0===jn||null===($e=jn.structure)||void 0===$e||null===(We=$e.tweleve_installments)||void 0===We?void 0:We.dueDate,label:"twelevth",amount:null===jn||void 0===jn||null===(Qe=jn.structure)||void 0===Qe||null===(Xe=Qe.tweleve_installments)||void 0===Xe?void 0:Xe.fees}):null,(0,_.jsxs)("section",{className:r.Z.table_container,style:{margin:"0"},children:[(0,_.jsxs)("div",{className:r.Z.table_heading,children:[(0,_.jsx)("h6",{children:fn("applicable_fee_heads")}),(0,_.jsx)("h6",{children:fn("amount")})]}),(0,_.jsx)("div",{className:r.Z.table_body,children:null===jn||void 0===jn||null===(en=jn.structure)||void 0===en||null===(nn=en.applicable_fees_heads)||void 0===nn?void 0:nn.map((function(e,n){return(0,_.jsxs)("div",{className:r.Z.table_body_list,children:[(0,_.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_name}),(0,_.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_amount})]},n)}))}),(0,_.jsx)("div",{className:r.Z.table_body,children:(0,_.jsxs)("div",{className:r.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.8)",borderTopWidth:"2px",borderTopStyle:"solid",borderBottom:"none"},children:[(0,_.jsx)("h6",{className:r.Z.fees_total,children:fn("subtotal")}),(0,_.jsx)("h6",{className:r.Z.fees_total,children:Zn})]})})]}),bn?(0,_.jsxs)("section",{className:r.Z.table_container,style:{margin:"0"},children:[(0,_.jsxs)("div",{className:r.Z.table_heading,children:[(0,_.jsx)("h6",{children:fn("govt_fee_heads")}),(0,_.jsx)("h6",{children:fn("amount")})]}),(0,_.jsx)("div",{className:r.Z.table_body,children:null===jn||void 0===jn||null===(tn=jn.structure)||void 0===tn||null===(an=tn.government_fees_heads)||void 0===an?void 0:an.map((function(e,n){return(0,_.jsxs)("div",{className:r.Z.table_body_list,children:[(0,_.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_name}),(0,_.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_amount})]},n)}))}),(0,_.jsx)("div",{className:r.Z.table_body,children:(0,_.jsxs)("div",{className:r.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.8)",borderTopWidth:"2px",borderTopStyle:"solid",borderBottomColor:"rgba(18, 18, 18, 0.8)",borderBottomWidth:"2px"},children:[(0,_.jsx)("h6",{className:r.Z.fees_total,children:fn("subtotal")}),(0,_.jsx)("h6",{className:r.Z.fees_total,children:bn})]})})]}):null]})]})})})},Ce=function(e){var n=e.label,t=e.amount,a=e.dueDate,l=(0,i.$G)().t;return(0,_.jsxs)("section",{className:r.Z.fees_head_installment,children:[(0,_.jsxs)("h6",{children:[l(n)," ",l("installment"),a?(0,_.jsxs)("span",{style:{fontWeight:"400",fontSize:"12px",marginLeft:"0.4rem"},children:["(","".concat((0,de.jh)(a)),")"]}):""]}),(0,_.jsxs)("h6",{children:[l("rs_only")," ",null!==t&&void 0!==t?t:0]})]})},we=function(e){var n,t,l,o,s,c=e.structure,u=e.instituteId,v=e.fid,m=e.did,f=e.onRefetch,h=(0,i.$G)().t,p=(0,b.useState)(""),g=(0,a.Z)(p,2),x=g[0],j=g[1];return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:r.Z.fees_card,onClick:function(){j(null===c||void 0===c?void 0:c._id)},style:{cursor:"pointer"},children:[(0,_.jsx)("img",{src:"".concat(d.J7,"/category.svg"),alt:"categor icon"}),(0,_.jsxs)("div",{className:r.Z.fees_card_text,children:[(0,_.jsxs)("div",{className:r.Z.fees_card_text_bottom,children:[(0,_.jsx)("h6",{children:null!==(n=null===c||void 0===c||null===(t=c.category_master)||void 0===t?void 0:t.category_name)&&void 0!==n?n:""}),(0,_.jsx)("h6",{children:"(".concat(h("rs_only")," ").concat(null!==(l=null===c||void 0===c?void 0:c.applicable_fees)&&void 0!==l?l:0,")")})]}),(0,_.jsxs)("div",{className:r.Z.fees_card_text_bottom,children:[(0,_.jsx)("h6",{children:null!==(o=null===c||void 0===c?void 0:c.structure_name)&&void 0!==o?o:""}),(0,_.jsxs)("h6",{children:[h("rs_only"),null!==(s=null===c||void 0===c?void 0:c.total_admission_fees)&&void 0!==s?s:0]})]})]})]}),x&&(0,_.jsx)(Fe,{onClose:function(){j("")},structureId:x,instituteId:u,fid:v,did:m,onRefetch:f})]})},Ae=function(e){var n,t,l,o,r,s,v,m=e.instituteId,f=e.financeId,p=e.getQuery,g=(0,i.$G)().t,x=(0,b.useState)(""),S=(0,a.Z)(x,2),N=S[0],F=S[1],C=(0,b.useState)(1),w=(0,a.Z)(C,2),A=w[0],D=w[1],k=(0,b.useState)(!0),T=(0,a.Z)(k,2),I=T[0],U=T[1],E=(0,q.YD)({skip:N}),B=(0,a.Z)(E,2),H=B[0],Y=B[1],G=(0,b.useState)(!1),P=(0,a.Z)(G,2),J=P[0],z=P[1],K=(0,b.useState)(!1),V=(0,a.Z)(K,2),$=V[0],W=V[1],Q=(0,y.FL)(),X=(0,a.Z)(Q,1)[0],ee=(0,c.dn)(),ne=(0,a.Z)(ee,1)[0],te=(0,c.P)({data:{did:null===p||void 0===p?void 0:p.did,page:A,limit:10,search:N,filterBy:null===p||void 0===p?void 0:p.clsId,batchBy:null===p||void 0===p?void 0:p.batchId},skip:!(null!==p&&void 0!==p&&p.did)}),ae=te.financeAllFeeStructure,le=te.financeAllFeeStructureLoading,ie=te.financeAllFeeStructureRefetch;(0,b.useEffect)((function(){Y&&I&&D((function(e){return e+1}))}),[Y,I]),(0,b.useEffect)((function(){var e;if(null!==ae&&void 0!==ae&&null!==(e=ae.list)&&void 0!==e&&e.length){var n,t=(0,R.f)(null===ae||void 0===ae||null===(n=ae.list)||void 0===n?void 0:n.length);U((function(){return t}))}}),[null===ae||void 0===ae||null===(n=ae.list)||void 0===n?void 0:n.length]);var oe=(0,b.useCallback)((0,O.J)((function(e){D((function(){return 1})),F(e)}),500),[]),re=function(){z((function(e){return!e}))},se=(0,b.useCallback)((function(){D((function(){return 1})),F(""),ie()}),[ie]);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:h.Z.fm_header_container,children:[(0,_.jsxs)("h6",{children:[null!==(t=null===p||void 0===p?void 0:p.dName)&&void 0!==t?t:"",null!==p&&void 0!==p&&p.batchName?(0,_.jsxs)("span",{style:{fontWeight:"400",fontSize:"13px"},children:[" ","(",null!==(l=null===p||void 0===p?void 0:p.batchName)&&void 0!==l?l:"",")"]}):null,null!==p&&void 0!==p&&p.clsName?(0,_.jsxs)("span",{style:{fontWeight:"400",fontSize:"13px"},children:[" - ","(",null!==(o=null===p||void 0===p?void 0:p.clsName)&&void 0!==o?o:"",")"]}):null]}),(0,_.jsxs)("div",{className:h.Z.fm_add_button,style:{alignItems:"center"},children:[(0,_.jsx)(j.Z,{onExcelFileUpload:function(e){var n;if(null!==(n=e.target.files)&&void 0!==n&&n.length&&null!==p&&void 0!==p&&p.did&&f){W((function(e){return!e}));var t=new FormData;t.append("file",e.target.files[0]),X({fileUpload:t}).then((function(e){var n,t;null!==(n=e.data)&&void 0!==n&&n.imageKey?ne({fid:f,did:null===p||void 0===p?void 0:p.did,excelFile:{excel_file:null===(t=e.data)||void 0===t?void 0:t.imageKey}}).then((function(){W((function(e){return!e}))})).catch({}):W((function(e){return!e}))})).catch({})}}}),(0,_.jsx)(Z.Z,{label:"add_new_fees_structure",customStyle:{marginBlock:"0.5rem"},onAction:re})]})]}),(0,_.jsx)("div",{className:h.Z.fm_search_full,style:{marginBottom:"0.7rem"},children:(0,_.jsx)("section",{className:h.Z.fm_search_full_container,children:(0,_.jsxs)("div",{className:h.Z.fm_search_full_container_inner,children:[(0,_.jsx)("img",{className:h.Z.fm_search_full_icon,alt:"search icon",src:"".concat(d.dB,"/navbar-search.svg")}),(0,_.jsx)("input",{type:"text",placeholder:g("search"),onChange:function(e){e.target.value?oe(e.target.value):(D((function(){return 1})),F(""))}})]})})}),null===ae||void 0===ae||null===(r=ae.list)||void 0===r?void 0:r.map((function(e,n){var t;return(null===ae||void 0===ae||null===(t=ae.list)||void 0===t?void 0:t.length)===n+1?(0,_.jsx)("div",{ref:H,children:(0,_.jsx)(we,{structure:e,instituteId:m,fid:f,did:null===p||void 0===p?void 0:p.did,onRefetch:se})},null===e||void 0===e?void 0:e._id):(0,_.jsx)(we,{structure:e,instituteId:m,fid:f,did:null===p||void 0===p?void 0:p.did,onRefetch:se},null===e||void 0===e?void 0:e._id)})),le?N?(0,_.jsx)(M.Z,{}):(0,_.jsx)(u.Z,{}):N?0===(null===ae||void 0===ae||null===(s=ae.list)||void 0===s?void 0:s.length)&&(0,_.jsx)(L.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No fee structure found related this search."}):0===(null===ae||void 0===ae||null===(v=ae.list)||void 0===v?void 0:v.length)&&(0,_.jsx)(L.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No fee structure added."}),J&&(0,_.jsx)(ye,{instituteId:m,fid:f,did:null===p||void 0===p?void 0:p.did,onClose:re,onRefetch:se,isRefetch:!0}),$&&(0,_.jsx)(M.Z,{})]})},De=function(e){var n,t,i,o,s,d,u,v,f,h,p,g,S,N=e.fid,F=e.instituteId,C=(0,m.TH)(),A=(0,l.lr)(),D=(0,a.Z)(A,1)[0],k=(0,b.useState)(!1),T=(0,a.Z)(k,2),I=T[0],U=T[1],E=(0,b.useState)(!1),B=(0,a.Z)(E,2),H=B[0],Y=B[1],q=(0,y.FL)(),R=(0,a.Z)(q,1)[0],O=(0,c.dn)(),L=(0,a.Z)(O,1)[0],G=(0,c.Is)(),P=(0,a.Z)(G,1)[0],J=function(){U((function(e){return!e}))};return(0,_.jsxs)(_.Fragment,{children:[D.get("u")?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:r.Z.structure_container_title,children:[(0,_.jsxs)("h6",{children:[null!==(n=null===(t=C.state)||void 0===t?void 0:t.dName)&&void 0!==n?n:"",null!==(i=C.state)&&void 0!==i&&i.batchName?(0,_.jsxs)("span",{style:{fontWeight:"400",fontSize:"13px"},children:[" ","(",null!==(o=null===(s=C.state)||void 0===s?void 0:s.batchName)&&void 0!==o?o:"",")"]}):null,null!==(d=C.state)&&void 0!==d&&d.clsName?(0,_.jsxs)("span",{style:{fontWeight:"400",fontSize:"13px"},children:[" - ","(",null!==(u=null===(v=C.state)||void 0===v?void 0:v.clsName)&&void 0!==u?u:"",")"]}):null]}),(0,_.jsxs)("div",{className:r.Z.upload_excel_container,children:[(0,_.jsx)(j.Z,{onExcelFileUpload:function(e){var n,t;if(null!==(n=e.target.files)&&void 0!==n&&n.length&&N&&null!==(t=C.state)&&void 0!==t&&t.did){Y((function(e){return!e}));var a=new FormData;a.append("file",e.target.files[0]),R({fileUpload:a}).then((function(e){var n,t,a;null!==(n=e.data)&&void 0!==n&&n.imageKey?L({fid:N,did:null===(t=C.state)||void 0===t?void 0:t.did,excelFile:{excel_file:null===(a=e.data)||void 0===a?void 0:a.imageKey}}).then((function(){Y((function(e){return!e}))})).catch({}):Y((function(e){return!e}))})).catch({})}}}),(0,_.jsx)(Z.Z,{label:"add_new_fees_structure",customStyle:{marginBlock:"0.5rem"},onAction:J}),(0,_.jsx)(Z.Z,{label:"export_structure",customStyle:{marginBlock:"0.5rem"},onAction:function(){var e,n;null!==C&&void 0!==C&&null!==(e=C.state)&&void 0!==e&&e.did&&(Y((function(e){return!e})),P({did:null===C||void 0===C||null===(n=C.state)||void 0===n?void 0:n.did}).then((function(e){var n;if(null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.data){var t;Y((function(e){return!e}));var a=window.open("".concat(w.q2,"/").concat(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data),"_blank","noopener,noreferrer");a&&(a.opener=null)}})).catch({}))}})]})]}),(0,_.jsx)(x.Z,{})]}):null,D.get("u")?"batch"===D.get("u")?(0,_.jsx)(Q,{departmentId:null!==(f=null===C||void 0===C||null===(h=C.state)||void 0===h?void 0:h.did)&&void 0!==f?f:"",carryParentState:null===C||void 0===C?void 0:C.state}):"standard"===D.get("u")?(0,_.jsx)(X,{departmentId:null!==(p=null===C||void 0===C||null===(g=C.state)||void 0===g?void 0:g.did)&&void 0!==p?p:"",instituteId:F,carryParentState:null===C||void 0===C?void 0:C.state}):null:(0,_.jsx)(Ae,{financeId:N,instituteId:F,getQuery:C.state}),H&&(0,_.jsx)(M.Z,{}),I&&(0,_.jsx)(ye,{instituteId:F,fid:N,did:null===C||void 0===C||null===(S=C.state)||void 0===S?void 0:S.did,onClose:J})]})},Me=function(e){var n=e.fid,t=e.instituteId,i=e.categoryCount,o=e.masterCount,s=(0,l.lr)(),c=(0,a.Z)(s,1)[0];return(0,_.jsx)("div",{className:r.Z.fess_container,children:["category","head"].includes(c.get("n"))?(0,_.jsx)(J,{fid:n}):"structure"===c.get("n")?(0,_.jsx)(De,{instituteId:t,fid:n}):"fees"===c.get("type")?(0,_.jsx)(f,{instituteId:t,masterCount:o,categoryCount:i,fid:n}):null})}},43677:function(e,n,t){"use strict";var a=t(16871),l=t(43504),i=t(80184);n.Z=function(e){var n,t=e.activeUrl,o=e.parentState,r=e.children,s=(0,a.UO)(),c=(0,a.TH)();return(0,i.jsx)(l.rU,{to:"Institute"===(null===(n=c.state)||void 0===n?void 0:n.urlOffSet)?"/q/".concat(s.username,"/institute/member/finance?").concat(t):"/q/".concat(s.username,"/member/staff/finance?").concat(t),state:o,children:r})}},43997:function(e,n,t){"use strict";t.d(n,{O_:function(){return i},_1:function(){return a},jh:function(){return l}});var a=function(e){var n=null===e||void 0===e?void 0:e.split("/");return"".concat(n[2],"-").concat(n[1],"-").concat(n[0])},l=function(e){var n,t=[];return(null===(n=(t=null!==e&&void 0!==e&&e.includes("-")?null===e||void 0===e?void 0:e.split("-"):null===e||void 0===e?void 0:e.split("/"))[2])||void 0===n?void 0:n.length)>2?"".concat(+t[0]>9?t[0]:"0".concat(+t[0]),"/").concat(+t[1]>9?t[1]:"0".concat(+t[1]),"/").concat(t[2]):"".concat(+t[2]>9?t[2]:"0".concat(+t[2]),"/").concat(+t[1]>9?t[1]:"0".concat(+t[1]),"/").concat(t[0])},i=function(e){var n,t=[];return(null===(n=(t=null!==e&&void 0!==e&&e.includes("-")?null===e||void 0===e?void 0:e.split("-"):null===e||void 0===e?void 0:e.split("/"))[2])||void 0===n?void 0:n.length)>2?"".concat(t[2],"-").concat(+t[1]>9?t[1]:"0".concat(+t[1]),"-").concat(+t[0]>9?t[0]:"0".concat(+t[0])):"".concat(t[0],"-").concat(+t[1]>9?t[1]:"0".concat(+t[1]),"-").concat(+t[2]>9?t[2]:"0".concat(+t[2]))}},85794:function(e,n,t){"use strict";t.d(n,{Z:function(){return _}});var a=t(1413),l=t(29439),i=t(72791),o=t(54164),r=t(15783),s=t(98684),c=t(80184),d=function(e){var n=e.onClose,t=e.isVariant,a=e.isHide,l=e.children;return o.createPortal((0,c.jsx)("div",{children:(0,c.jsx)("div",{className:a?r.Z.notify_hide_overlay:r.Z.notify_overlay,children:(0,c.jsxs)("div",{className:r.Z.notify_container,style:{"--notify-bg-color":t},children:[l,(0,c.jsx)("img",{src:"".concat(s.Fk,"/close-white.svg"),alt:"close icon",onClick:n,className:r.Z.notify_close})]})})}),document.getElementById("notify-alert"))},u={success:"green",error:"#ed4a4a",warning:"orange"},_=function(e){var n,t=e.eventState,o=e.eventStateHandler,s=(0,i.useState)(!1),_=(0,l.Z)(s,2),v=_[0],m=_[1];return null!==t&&void 0!==t&&t.open?(0,c.jsx)(d,{onClose:function(){m(!0);var e=setTimeout((function(){o((function(e){return(0,a.Z)((0,a.Z)({},e),{},{open:!1,msg:"",variant:"success"})})),m(!1)}),500);return function(){return clearTimeout(e)}},isVariant:u[null===t||void 0===t?void 0:t.variant],isHide:v,children:(0,c.jsx)("h6",{className:r.Z.notify_message,children:null!==(n=null===t||void 0===t?void 0:t.msg)&&void 0!==n?n:""})}):null}},99183:function(e,n,t){"use strict";t.d(n,{l:function(){return a},x:function(){return l}});var a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t={};for(var a in e)null!==n&&void 0!==n&&n.includes(a)||e[a]||(t[a]="* required");return t},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var n in e)return!1;return!0}},63244:function(e,n){"use strict";n.Z={qviple_loader_backdrop:"Loader_qviple_loader_backdrop__ScdYl",qviple_loader_container:"Loader_qviple_loader_container__SXQ9Y",qviple_loader_rotation:"Loader_qviple_loader_rotation__ltsgT",qviple_loader_rotation_animation:"Loader_qviple_loader_rotation_animation__gy3+j",q_loading:"Loader_q_loading__bwe2c",circle_loading:"Loader_circle_loading__m+ptB",rotate_animation:"Loader_rotate_animation__IV2sY"}},80476:function(e,n){"use strict";n.Z={btn_wrapper:"Button_btn_wrapper__ihT7O",btn_container:"Button_btn_container__OaH2t",create_btn_container:"Button_create_btn_container__JuZrx",upload_excel_file:"Button_upload_excel_file__a7d0K",set_btn_container:"Button_set_btn_container__RvfRG",ccb_button:"Button_ccb_button__Mjv4T"}},51416:function(e,n){"use strict";n.Z={square_tab_wrapper:"UiTab_square_tab_wrapper__Jxkmy",square_tab_card:"UiTab_square_tab_card__EYI-n",designation_tab_wrapper:"UiTab_designation_tab_wrapper__1YZQi",designation_tab_card:"UiTab_designation_tab_card__waJTM",rectangle_tab_wrapper:"UiTab_rectangle_tab_wrapper__a4CP7",rectangle_tab_card:"UiTab_rectangle_tab_card__xYxge",rectangle_tab_card_active:"UiTab_rectangle_tab_card_active__hSDaQ",horizontal_tab_wrapper:"UiTab_horizontal_tab_wrapper__BRXBX",horizontal_tab_card:"UiTab_horizontal_tab_card__pF03H",horizontal_tab_card_active:"UiTab_horizontal_tab_card_active__o32eJ",tile_container:"UiTab_tile_container__YqmHk",tile_tile_container:"UiTab_tile_tile_container__DlIa1",tile_tile:"UiTab_tile_tile__NcTNN",tile_tile_active:"UiTab_tile_tile_active__bo3c7",tile_label:"UiTab_tile_label__IV8Xu",attendance_card:"UiTab_attendance_card__kZvon",ac_heading:"UiTab_ac_heading__ayM90",attendance_contianer:"UiTab_attendance_contianer__m84gB",ac_image:"UiTab_ac_image__dgjML",ac_date:"UiTab_ac_date__7s3uk",ac_date_vale:"UiTab_ac_date_vale__oug6A",ac_date_active:"UiTab_ac_date_active__ifWqt",atb_btn:"UiTab_atb_btn__tav+0"}},59393:function(e,n){"use strict";n.Z={user_member_header_wrapper:"UserMember_user_member_header_wrapper__GbnRw",umhw_cover:"UserMember_umhw_cover__9nFBA",umhw_cover_photo:"UserMember_umhw_cover_photo__SlMdy",umhw_cover_label:"UserMember_umhw_cover_label__3yZV3",umhw_cover_camera:"UserMember_umhw_cover_camera__vKOnO",umhw_info_container:"UserMember_umhw_info_container__ce+81",umhw_info_container_header:"UserMember_umhw_info_container_header__FD+-b",umhw_info_container_footer:"UserMember_umhw_info_container_footer__lVzFw",user_member_tabs_wrapper:"UserMember_user_member_tabs_wrapper__mhpkS",user_member_container_wrapper:"UserMember_user_member_container_wrapper__xbfdC",user_member_content_wrapper:"UserMember_user_member_content_wrapper__PP2xI",uf_link:"UserMember_uf_link__usZfM"}},26192:function(e,n){"use strict";n.Z={ongoing_card:"OngoingAdmission_ongoing_card__5LO6X",ongoing_card_active:"OngoingAdmission_ongoing_card_active__eu1jj",ongoing_card_inner:"OngoingAdmission_ongoing_card_inner__DTYKz",ongoing_card_text:"OngoingAdmission_ongoing_card_text__cj0Qv",menu_icon:"OngoingAdmission_menu_icon__SwfUu",ongoing_card_count_date:"OngoingAdmission_ongoing_card_count_date__Tzlwe",ongoing_card_count_container:"OngoingAdmission_ongoing_card_count_container__Rj5uD",application_card:"OngoingAdmission_application_card__C2AOm",application_card_title:"OngoingAdmission_application_card_title__r3bxG",application_card_info:"OngoingAdmission_application_card_info__uq+PO",admission_confirm_class_card:"OngoingAdmission_admission_confirm_class_card__aRvXU",admission_confirm_class_card_active:"OngoingAdmission_admission_confirm_class_card_active__LHjy3",application_card_active:"OngoingAdmission_application_card_active__EcEKc",admission_collect_docs:"OngoingAdmission_admission_collect_docs__MmjG7",admission_confirm_class_count:"OngoingAdmission_admission_confirm_class_count__IsGih"}},4007:function(e,n){"use strict";n.Z={fess_container:"FeesStructure_fess_container__yP1Kr",category_header:"FeesStructure_category_header__kl9eu",category_header_title:"FeesStructure_category_header_title__Lc+5l",fees_category:"FeesStructure_fees_category__8u-dp",fees_category_icon:"FeesStructure_fees_category_icon__KjMF9",fees_category_text:"FeesStructure_fees_category_text__HnRZU",assignment_description_head:"FeesStructure_assignment_description_head__jqNtp",assignment_description:"FeesStructure_assignment_description__soumP",department_container:"FeesStructure_department_container__kCdPX",department_card_name:"FeesStructure_department_card_name__sYSOY",department_card_head:"FeesStructure_department_card_head__rVcZv",department_card_title:"FeesStructure_department_card_title__PF9km",add_new_category:"FeesStructure_add_new_category__Q1OpU",category_card:"FeesStructure_category_card__qYz0J",fees_card_text:"FeesStructure_fees_card_text__KB8GJ",category_card_fee:"FeesStructure_category_card_fee__sRR12",fees_card_text_bottom:"FeesStructure_fees_card_text_bottom__T45b7",department_card_container:"FeesStructure_department_card_container__a40wp",department_card_image:"FeesStructure_department_card_image__2FUDD",fees_card:"FeesStructure_fees_card__z+RwE",category_card_order:"FeesStructure_category_card_order__jBLeB",add_category_modal:"FeesStructure_add_category_modal__XFTGC",add_category_modal_title:"FeesStructure_add_category_modal_title__y9he4",structure_container_title:"FeesStructure_structure_container_title__Oa39N",add_category_modal_title_left:"FeesStructure_add_category_modal_title_left__JDH-M",set_fees_structure_btn:"FeesStructure_set_fees_structure_btn__NUJNj",installment_list:"FeesStructure_installment_list__b4tEe",fees_head_title:"FeesStructure_fees_head_title__aHn2H",fees_head_installment:"FeesStructure_fees_head_installment__G80fz",table_heading:"FeesStructure_table_heading__C+3Ou",table_container:"FeesStructure_table_container__GY9PB",table_body:"FeesStructure_table_body__d27RF",table_body_list:"FeesStructure_table_body_list__AIq19",fee_head_name_input:"FeesStructure_fee_head_name_input__XqDmq",fee_head_amount_input:"FeesStructure_fee_head_amount_input__IljkA",add_fees_head_btn:"FeesStructure_add_fees_head_btn__Me1Y3",fees_total:"FeesStructure_fees_total__cKFTc",fees_card_hover:"FeesStructure_fees_card_hover__Zk7go",fees_card_hover_active:"FeesStructure_fees_card_hover_active__UBnHh",fee_middle_section:"FeesStructure_fee_middle_section__gjhYY",fee_middle_confirm_button:"FeesStructure_fee_middle_confirm_button__8gUBE",fee_middle_section_container:"FeesStructure_fee_middle_section_container__9vxAB",edit_icon:"FeesStructure_edit_icon__iHti3",category_card_hover:"FeesStructure_category_card_hover__O3rP9",category_card_hover_active:"FeesStructure_category_card_hover_active__N2YXu",menu_icon:"FeesStructure_menu_icon__-c1NS",upload_excel_container:"FeesStructure_upload_excel_container__48yxn",upload_excel_file:"FeesStructure_upload_excel_file__1hxAU",seating_modal:"FeesStructure_seating_modal__cEUXs",add_category_modal_title_active:"FeesStructure_add_category_modal_title_active__bnkEx",notify_container:"FeesStructure_notify_container__f1n9o",notify_text:"FeesStructure_notify_text__Yqwka",next_btn:"FeesStructure_next_btn__Kc+CA",btn_group:"FeesStructure_btn_group__xycY6",leave_dates:"FeesStructure_leave_dates__nByRK",letter_head_container:"FeesStructure_letter_head_container__sRo4F",modal_container:"FeesStructure_modal_container__orQgp",modal_container_outer_header:"FeesStructure_modal_container_outer_header__RSzLS",modal_container_header:"FeesStructure_modal_container_header__F-XEd",fm_search_full:"FeesStructure_fm_search_full__wKV++",fm_search_full_container:"FeesStructure_fm_search_full_container__lYJ8u",fm_search_full_container_inner:"FeesStructure_fm_search_full_container_inner__pZb5S",fm_search_full_icon:"FeesStructure_fm_search_full_icon__wFTld",afsi_container:"FeesStructure_afsi_container__DBw6W"}},56959:function(e,n){"use strict";n.Z={fm_header_container:"FinanceManager_fm_header_container__4809h",fm_header_start_container:"FinanceManager_fm_header_start_container__MIMYE",fm_title_heading:"FinanceManager_fm_title_heading__K-4lB",fm_search:"FinanceManager_fm_search__42NnY",fm_search_container:"FinanceManager_fm_search_container__23+f8",fm_search_container_inner:"FinanceManager_fm_search_container_inner__YySAp",fm_search_icon:"FinanceManager_fm_search_icon__WftS9",fm_all_time_data_container:"FinanceManager_fm_all_time_data_container__jIgPj",fm_all_time_data:"FinanceManager_fm_all_time_data__Re+uG",fm_total_amount:"FinanceManager_fm_total_amount__wAS13",fm_both_filter:"FinanceManager_fm_both_filter__25sOi",fm_both_filter_with_name:"FinanceManager_fm_both_filter_with_name__-29YH",fm_add_button:"FinanceManager_fm_add_button__9h09Q",fm_search_full:"FinanceManager_fm_search_full__vDPwG",fm_search_full_container:"FinanceManager_fm_search_full_container__PVgHt",fm_search_full_container_inner:"FinanceManager_fm_search_full_container_inner__tmOa6",fm_search_full_icon:"FinanceManager_fm_search_full_icon__BaRMK",fm_fs_container:"FinanceManager_fm_fs_container__cQS8l",fm_fs_container_inner:"FinanceManager_fm_fs_container_inner__eLCO6",fm_fs_refetch_container:"FinanceManager_fm_fs_refetch_container__W3BMl",fm_fs_refetch_container_inner:"FinanceManager_fm_fs_refetch_container_inner__y6kWF",fm_fund_card:"FinanceManager_fm_fund_card__Xo-wt",fm_fund_total:"FinanceManager_fm_fund_total__Z-m5Y",fm_fund_total_inner:"FinanceManager_fm_fund_total_inner__WjTx9",fm_flex:"FinanceManager_fm_flex__KK95u",fm_other_admission:"FinanceManager_fm_other_admission__m7mDo",lms_rule_container:"FinanceManager_lms_rule_container__8hkCA",fm_header_paragraph:"FinanceManager_fm_header_paragraph__x9942"}},42480:function(){}}]);
//# sourceMappingURL=12451.01106c5d.chunk.js.map