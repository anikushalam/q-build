"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[37277,35202],{93638:(e,l,t)=>{t.d(l,{Z:()=>i});var s=t(39230),n=t(80476),a=t(80184);const i=e=>{let{label:l,count:t,onAction:i,customStyle:c,isTranslate:o}=e;const{t:d}=(0,s.$G)();return o?(0,a.jsxs)("div",{className:n.Z.create_btn_container,onClick:i,style:c,children:[t>0?(0,a.jsxs)("span",{children:[t," "]}):null,l]}):(0,a.jsxs)("div",{className:n.Z.create_btn_container,onClick:i,style:c,children:[t>0?(0,a.jsxs)("span",{children:[t," "]}):null,d(l)]})}},75238:(e,l,t)=>{t.r(l),t.d(l,{default:()=>R});var s=t(72791),n=t(56959),a=t(23441),i=t(91427),c=t(57588),o=t(63687),d=t(21348),r=t(90904),v=t(55336),u=t(1669),f=t(2651),h=t(36132),_=t(39230),m=t(98684),x=t(97892),j=t.n(x),p=t(82824),Z=t(1095),g=t(55050),b=t(93638),N=t(45445),k=t(80184);const y=e=>{var l,t,n,a,i,c,o,d;let{leave:r,onRefetch:u}=e;const{t:f}=(0,_.$G)(),[x]=(0,h.vg)(),[y,R]=(0,s.useState)(!1),[q,S]=(0,s.useState)(!1),w=()=>{S((e=>!e))};return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:g.Z.lmsr_card,children:[(0,k.jsxs)("div",{className:g.Z.lmsrc_card,children:[(0,k.jsxs)("div",{className:g.Z.lmsrc_card_inner,children:[(0,k.jsx)("img",{src:null!==r&&void 0!==r&&null!==(l=r.staff)&&void 0!==l&&l.staffProfilePhoto?"".concat(Z.yI,"/").concat(null===r||void 0===r||null===(t=r.staff)||void 0===t?void 0:t.staffProfilePhoto):"".concat(m.p3,"/feed-user-avatar.svg"),alt:"staff icon"}),(0,k.jsxs)("div",{className:g.Z.lmsrci_text,children:[(0,k.jsx)("h6",{children:"".concat(null!==(n=null===r||void 0===r||null===(a=r.staff)||void 0===a?void 0:a.staffFirstName)&&void 0!==n?n:""," ").concat(null!==r&&void 0!==r&&null!==(i=r.staff)&&void 0!==i&&i.staffMiddleName?null===r||void 0===r||null===(c=r.staff)||void 0===c?void 0:c.staffMiddleName:""," ").concat(null!==(o=null===r||void 0===r||null===(d=r.staff)||void 0===d?void 0:d.staffLastName)&&void 0!==o?o:"")}),(0,k.jsxs)("p",{children:[f("raised_on"),(0,p.J)(null===r||void 0===r?void 0:r.createdAt,"LT"),", ",j()(null===r||void 0===r?void 0:r.createdAt).format("DD MMM YYYY"),", ",(0,k.jsx)("span",{className:g.Z.lmsrc_date,onClick:w,children:f("for_dates")})]})]})]}),(0,k.jsx)("div",{className:g.Z.lmsrc_btn,children:(0,k.jsx)(b.Z,{label:f("approve"),onAction:()=>(()=>{var e,l;null!==r&&void 0!==r&&r._id&&null!==r&&void 0!==r&&null!==(e=r.staff)&&void 0!==e&&e._id&&(R((e=>!e)),x({lid:null===r||void 0===r?void 0:r._id,coffAction:{sid:null===r||void 0===r||null===(l=r.staff)||void 0===l?void 0:l._id}}).then((()=>{u(),R((e=>!e))})).catch({}))})(),customStyle:C})})]}),(0,k.jsx)("div",{className:g.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,k.jsxs)("h6",{style:{fontWeight:"400"},children:[f("leave_type")," "," : ",null===r||void 0===r?void 0:r.leave_type]})}),(0,k.jsx)("div",{className:g.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,k.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[f("reason")," "," : ",null===r||void 0===r?void 0:r.reason]})}),(null===r||void 0===r?void 0:r.attach)&&(0,k.jsx)("div",{className:g.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,k.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[f("attachment")," "," : ",(0,k.jsx)("a",{href:"".concat(Z.q2,"/").concat(null===r||void 0===r?void 0:r.attach),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,k.jsx)("span",{className:g.Z.lmsrc_date,children:f("view_attachment")})})]})})]}),q&&(0,k.jsx)(N.Z,{onClose:w,allDate:null===r||void 0===r?void 0:r.date}),y&&(0,k.jsx)(v.Z,{})]})},C={margin:"0",padding:"0.2rem 0.8rem"},R=e=>{var l,t,x;let{instituteId:j}=e;const{t:p}=(0,_.$G)(),[Z,g]=(0,s.useState)(""),[b,N]=(0,s.useState)(1),[C,R]=(0,s.useState)(!0),[q,S]=(0,a.YD)({skip:Z}),{lmsCOffRequestList:w,lmsCOffRequestListLoading:B,lmsCOffRequestListRefetch:T}=(0,h.og)({data:{id:j,page:b,limit:10,search:Z,flow:"Request"},skip:!j});(0,s.useEffect)((()=>{S&&C&&N((e=>e+1))}),[S,C]),(0,s.useEffect)((()=>{var e;if(null!==w&&void 0!==w&&null!==(e=w.list)&&void 0!==e&&e.length){var l;let e=(0,i.f)(null===w||void 0===w||null===(l=w.list)||void 0===l?void 0:l.length);R((()=>e))}}),[null===w||void 0===w?void 0:w.list]);const L=(0,s.useCallback)((0,c.J)((e=>{N((()=>1)),g(e)}),1500),[]),M=(0,s.useCallback)((()=>{N((()=>1)),g(""),T()}),[T]);return(0,k.jsxs)(o.default,{children:[(0,k.jsx)(d.Z,{children:(0,k.jsxs)("div",{className:n.Z.fm_header_container,children:[(0,k.jsx)("h6",{children:p("manage_c_off")}),(0,k.jsx)("div",{className:n.Z.fm_search,children:(0,k.jsx)("section",{className:n.Z.fm_search_container,children:(0,k.jsxs)("div",{className:n.Z.fm_search_container_inner,children:[(0,k.jsx)("img",{className:n.Z.fm_search_icon,alt:"search icon",src:"".concat(m.dB,"/navbar-search.svg")}),(0,k.jsx)("input",{type:"text",placeholder:p("search"),onChange:e=>{e.target.value?L(e.target.value):(N((()=>1)),g(""))}})]})})})]})}),(0,k.jsx)(r.Z,{}),(0,k.jsxs)(d.Z,{children:[null===w||void 0===w||null===(l=w.list)||void 0===l?void 0:l.map(((e,l)=>{var t;return(null===w||void 0===w||null===(t=w.list)||void 0===t?void 0:t.length)===l+1?(0,k.jsx)("div",{ref:q,children:(0,k.jsx)(y,{leave:e,onRefetch:M})},null===e||void 0===e?void 0:e._id):(0,k.jsx)(y,{leave:e,onRefetch:M},null===e||void 0===e?void 0:e._id)})),B?Z?(0,k.jsx)(v.Z,{}):(0,k.jsx)(u.Z,{}):Z?0===(null===w||void 0===w||null===(t=w.list)||void 0===t?void 0:t.length)&&(0,k.jsx)(f.Z,{title:"No staff manage-c-off leave request found related this search."}):0===(null===w||void 0===w||null===(x=w.list)||void 0===x?void 0:x.length)&&(0,k.jsx)(f.Z,{title:"No staff manage-c-off leave request."})]})]})}},80476:(e,l,t)=>{t.d(l,{Z:()=>s});const s={btn_wrapper:"Button_btn_wrapper__ihT7O",btn_container:"Button_btn_container__OaH2t",create_btn_container:"Button_create_btn_container__JuZrx",upload_excel_file:"Button_upload_excel_file__a7d0K",set_btn_container:"Button_set_btn_container__RvfRG",ccb_button:"Button_ccb_button__Mjv4T"}}}]);
//# sourceMappingURL=37277.b5835883.chunk.js.map