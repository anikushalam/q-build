(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[91297],{86500:(e,t,a)=>{"use strict";a.d(t,{wO:()=>W,Xl:()=>J,qm:()=>ne,Ml:()=>P,wH:()=>$,Cs:()=>ee,yz:()=>te,we:()=>ie,Kl:()=>K,AA:()=>B,Gs:()=>X,uA:()=>H,up:()=>w,vZ:()=>oe,FQ:()=>z,p4:()=>V,kR:()=>ae,YT:()=>U});var i=a(49614),n=a(94811);const o=e=>e.query({query:e=>"/feedback/institute/".concat(e.id,"?page=").concat(e.page,"&limit=").concat(e.limit,"&search=").concat(e.search),serializeQueryArgs:e=>{let{endpointName:t}=e;return t},transformResponse:(e,t,a)=>null!==a&&void 0!==a&&a.search?{search:!0,list:null===e||void 0===e?void 0:e.feedback}:{page:null===a||void 0===a?void 0:a.page,list:null===e||void 0===e?void 0:e.feedback},merge:(e,t)=>{var a;return null!==t&&void 0!==t&&t.search||1===(null===t||void 0===t?void 0:t.page)?t:void(null===e||void 0===e||null===(a=e.list)||void 0===a||a.push(...null===t||void 0===t?void 0:t.list))},forceRefetch(e){let{currentArg:t,previousArg:a}=e;return t!==a}}),d=e=>e.query({query:e=>"/feedback/subject/teacher/list/".concat(e.ifid,"?page=").concat(e.page,"&limit=").concat(e.limit,"&search=").concat(e.search),serializeQueryArgs:e=>{let{endpointName:t}=e;return t},transformResponse:(e,t,a)=>null!==a&&void 0!==a&&a.search?{search:!0,list:null===e||void 0===e?void 0:e.all_staff}:{page:null===a||void 0===a?void 0:a.page,list:null===e||void 0===e?void 0:e.all_staff},merge:(e,t)=>{var a;return null!==t&&void 0!==t&&t.search||1===(null===t||void 0===t?void 0:t.page)?t:void(null===e||void 0===e||null===(a=e.list)||void 0===a||a.push(...null===t||void 0===t?void 0:t.list))},forceRefetch(e){let{currentArg:t,previousArg:a}=e;return t!==a}}),c=e=>e.mutation({query:e=>({url:"/feedback/institute/".concat(e.id),method:n.a4,body:e.studentFeedback})}),s=e=>e.query({query:e=>"/feedback/institute/one/".concat(e.ifid),transformResponse:e=>null===e||void 0===e?void 0:e.feedback,serializeQueryArgs:e=>{let{endpointName:t}=e;return t},forceRefetch(e){let{currentArg:t,previousArg:a}=e;return t!==a}}),r=e=>e.mutation({query:e=>({url:"/feedback/institute/one/".concat(e.ifid),method:n.Q0,body:e.studentFeedback})}),u=e=>e.mutation({query:e=>({url:"/feedback/institute/one/".concat(e.ifid),method:n.yY})}),l=e=>e.mutation({query:e=>({url:"/feedback/student/give/staff/".concat(e.sid),method:n.a4,body:e.giveFeedback})}),f=e=>e.mutation({query:e=>({url:"/feedback/question/".concat(e.ifid,"/query"),method:n.a4,body:e.questionCreate})}),v=e=>e.mutation({query:e=>({url:"/feedback/question/".concat(e.ifid,"/query?questionId=").concat(null===e||void 0===e?void 0:e.questionId),method:n.Q0,body:e.questionCreate})}),k=e=>e.mutation({query:e=>({url:"/feedback/question/".concat(e.ifid,"/query?questionId=").concat(null===e||void 0===e?void 0:e.questionId),method:n.yY})}),b=e=>e.mutation({query:e=>({url:"/feedback/taken/".concat(e.ifid,"/by/institute/").concat(e.id,"/query"),method:n.a4,body:e.takeFeedback})}),p=e=>e.mutation({query:e=>({url:"/feedback/analytic/process/".concat(e.ifid,"/query"),method:n.a4})}),h=e=>e.query({query:e=>"/feedback/one/".concat(e.ifid,"/given/student/list/query?page=").concat(e.page,"&limit=").concat(e.limit,"&search=").concat(e.search),serializeQueryArgs:e=>{let{endpointName:t}=e;return t},transformResponse:(e,t,a)=>null!==a&&void 0!==a&&a.search?{search:!0,list:null===e||void 0===e?void 0:e.all_student}:{page:null===a||void 0===a?void 0:a.page,list:null===e||void 0===e?void 0:e.all_student},merge:(e,t)=>{var a;return null!==t&&void 0!==t&&t.search||1===(null===t||void 0===t?void 0:t.page)?t:void(null===e||void 0===e||null===(a=e.list)||void 0===a||a.push(...null===t||void 0===t?void 0:t.list))},forceRefetch(e){let{currentArg:t,previousArg:a}=e;return t!==a}}),m=e=>e.query({query:e=>"/feedback/one/staff/".concat(e.sid,"/analytic/").concat(e.ifid,"/query"),transformResponse:e=>null===e||void 0===e?void 0:e.staff_feedbaack,serializeQueryArgs:e=>{let{endpointName:t}=e;return t},forceRefetch(e){let{currentArg:t,previousArg:a}=e;return t!==a}}),y=e=>e.mutation({query:e=>({url:"/feedback/close/date/institute/one/".concat(e.ifid),method:n.Q0,body:e.feedbackUpdate})}),g=e=>e.query({query:e=>"/feedback/staff/one/info/".concat(e.sid),transformResponse:e=>null===e||void 0===e?void 0:e.staff_feedbaack,serializeQueryArgs:e=>{let{endpointName:t}=e;return t},forceRefetch(e){let{currentArg:t,previousArg:a}=e;return t!==a}}),q=e=>e.mutation({query:e=>({url:"/feedback/department/analytic/".concat(e.did,"/class/feedback/query?ifid=").concat(null===e||void 0===e?void 0:e.ifid),method:n.Q0,body:e.bodyParameter})}),F=e=>e.mutation({query:e=>({url:"/feedback/one/feedback/".concat(null===e||void 0===e?void 0:e.ifid,"/student/export/query"),method:n.Q0,body:e.bodyParameter})}),S=i.M.injectEndpoints({endpoints:e=>({feedbackStudentFeedbackList:o(e),feedbackSubjectTeacherList:d(e),feedbackCreateStudentFeedback:c(e),feedbackDetailStudentFeedback:s(e),feedbackUpdateStudentFeedback:r(e),feedbackRemoveStudentFeedback:u(e),feedbackGiveStudentFeedback:l(e),feedbackQuestionCreate:f(e),feedbackQuestionUpdate:v(e),feedbackQuestionRemove:k(e),feedbackTaken:b(e),feedbackAnalyticProcess:p(e),feedbackGivenStudentList:h(e),feedbackOneStaffAnalytic:m(e),feedbackUpdateCloseDate:y(e),feedbackOneStaffInfo:g(e),feedbackDepartmentAnalyticExcelExport:q(e),feedbackStudentNotifcationExcelExport:F(e)})}),{useFeedbackStudentFeedbackListQuery:_,useFeedbackSubjectTeacherListQuery:M,useFeedbackCreateStudentFeedbackMutation:L,useFeedbackDetailStudentFeedbackQuery:A,useFeedbackUpdateStudentFeedbackMutation:x,useFeedbackRemoveStudentFeedbackMutation:j,useFeedbackGiveStudentFeedbackMutation:Y,useFeedbackQuestionCreateMutation:Q,useFeedbackQuestionUpdateMutation:R,useFeedbackQuestionRemoveMutation:D,useFeedbackTakenMutation:N,useFeedbackAnalyticProcessMutation:I,useFeedbackGivenStudentListQuery:Z,useFeedbackOneStaffAnalyticQuery:C,useFeedbackUpdateCloseDateMutation:T,useFeedbackOneStaffInfoQuery:O,useFeedbackDepartmentAnalyticExcelExportMutation:E,useFeedbackStudentNotifcationExcelExportMutation:G}=S,w=e=>{const{data:t,refetch:a,isFetching:i}=_(e.data,{skip:e.skip});return{feedbackStudentFeedbackList:t,feedbackStudentFeedbackListRefetch:a,feedbackStudentFeedbackListLoading:i}},z=e=>{const{data:t,refetch:a,isFetching:i}=M(e.data,{skip:e.skip});return{feedbackSubjectTeacherList:t,feedbackSubjectTeacherListRefetch:a,feedbackSubjectTeacherListLoading:i}},J=()=>{const[e]=L();return[e]},P=e=>{const{data:t,refetch:a,isFetching:i}=A(e.data,{skip:e.skip});return{feedbackDetailStudentFeedback:t,feedbackDetailStudentFeedbackRefetch:a,feedbackDetailStudentFeedbackLoading:i}},U=()=>{const[e]=x();return[e]},H=()=>{const[e]=j();return[e]},$=()=>{const[e]=Y();return[e]},K=()=>{const[e]=Q();return[e]},X=()=>{const[e]=R();return[e]},B=()=>{const[e]=D();return[e]},V=()=>{const[e]=N();return[e]},W=()=>{const[e]=I();return[e]},ee=e=>{const{data:t,refetch:a,isFetching:i}=Z(e.data,{skip:e.skip});return{feedbackGivenStudentList:t,feedbackGivenStudentListRefetch:a,feedbackGivenStudentListLoading:i}},te=e=>{const{data:t,refetch:a,isFetching:i}=C(e.data,{skip:e.skip});return{feedbackOneStaffAnalytic:t,feedbackOneStaffAnalyticRefetch:a,feedbackOneStaffAnalyticLoading:i}},ae=()=>{const[e]=T();return[e]},ie=e=>{const{data:t,refetch:a,isFetching:i}=O(e.data,{skip:e.skip});return{feedbackOneStaffInfo:t,feedbackOneStaffInfoRefetch:a,feedbackOneStaffInfoLoading:i}},ne=()=>{const[e]=E();return[e]},oe=()=>{const[e]=G();return[e]}},91297:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var i=a(39230),n=a(16871),o=a(21348),d=a(63687),c=a(56959),s=a(90904),r=a(86500),u=a(1669),l=a(72791),f=a(93638),v=a(55336),k=a(9228),b=a(1095),p=a(98684),h=a(82824),m=a(80184);const y=()=>{var e,t,a,y,g,q,F,S;const{t:_}=(0,i.$G)(),M=(0,n.TH)(),L=(0,n.s0)(),[A,x]=(0,l.useState)([]),[j,Y]=(0,l.useState)(!1),[Q,R]=(0,l.useState)(["".concat(p.Jr,"/grey-star.svg"),"".concat(p.Jr,"/grey-star.svg"),"".concat(p.Jr,"/grey-star.svg"),"".concat(p.Jr,"/grey-star.svg"),"".concat(p.Jr,"/grey-star.svg")]),[D,N]=(0,l.useState)(0),[I]=(0,r.wH)(),{feedbackDetailStudentFeedback:Z,feedbackDetailStudentFeedbackLoading:C}=(0,r.Ml)({data:{ifid:null===(e=M.state)||void 0===e?void 0:e.ifid},skip:!(null!==(t=M.state)&&void 0!==t&&t.ifid)}),{feedbackOneStaffInfo:T}=(0,r.we)({data:{sid:null===(a=M.state)||void 0===a?void 0:a.staffId},skip:!(null!==(y=M.state)&&void 0!==y&&y.staffId)});(0,l.useEffect)((()=>{if(null!==Z&&void 0!==Z&&Z._id){let t=[];for(let a of null===Z||void 0===Z?void 0:Z.questions){let i={question_sno:null===a||void 0===a?void 0:a.question_sno,question_title:null===a||void 0===a?void 0:a.question_title,options:[]};for(let t of null===a||void 0===a?void 0:a.options){var e;null===(e=i.options)||void 0===e||e.push({option_sno:null===t||void 0===t?void 0:t.option_sno,option:null===t||void 0===t?void 0:t.option,selected:null===t||void 0===t?void 0:t.selected})}t.push(i)}x(t)}}),[null===Z||void 0===Z?void 0:Z._id]);return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(d.default,{children:[(0,m.jsx)(o.default,{children:(0,m.jsxs)("div",{className:c.Z.fm_header_container,children:[(0,m.jsxs)("h6",{children:[_("feedback_name"),": ",null!==(g=null===Z||void 0===Z?void 0:Z.feedback_name)&&void 0!==g?g:""]}),(0,m.jsxs)("div",{className:c.Z.fm_search,children:[null!==Z&&void 0!==Z&&Z.feedback_close_at&&(0,h.Z)("isAfter","day",null===Z||void 0===Z?void 0:Z.feedback_close_at)?null:(0,m.jsx)(f.Z,{label:_("save"),customStyle:{margin:"0",padding:"0.2rem 1rem"},onAction:()=>{var e,t,a,i,n,o,d,c;null!==(e=M.state)&&void 0!==e&&e.ifid&&null!==(t=M.state)&&void 0!==t&&t.staffId&&null!==(a=M.state)&&void 0!==a&&a.sid&&null!==(i=M.state)&&void 0!==i&&i.notifyId&&(Y((e=>!e)),I({sid:null===(n=M.state)||void 0===n?void 0:n.sid,giveFeedback:{ifid:null===(o=M.state)||void 0===o?void 0:o.ifid,staffId:null===(d=M.state)||void 0===d?void 0:d.staffId,notifyId:null===(c=M.state)||void 0===c?void 0:c.notifyId,questions:A,feedback_rating:D}}).then((()=>{Y((e=>!e)),L(-1)})).catch((()=>{Y((e=>!e))})))}}),(0,m.jsx)("img",{src:"/images/close-post-icon.svg",onClick:()=>{L(-1)},alt:"close",style:{height:"1.2rem",cursor:"pointer"}})]})]})}),(0,m.jsx)(s.Z,{}),(0,m.jsxs)(o.default,{children:[(0,m.jsxs)("section",{className:k.Z.gsf_contatiner,children:[(0,m.jsx)("img",{src:null!==T&&void 0!==T&&T.staffProfilePhoto?"".concat(b.yI,"/").concat(null===T||void 0===T?void 0:T.staffProfilePhoto):"".concat(p.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,m.jsxs)("div",{className:k.Z.sf_card_contatiner_inner,children:[(0,m.jsx)("h6",{children:"".concat(null!==(q=null===T||void 0===T?void 0:T.staffFirstName)&&void 0!==q?q:""," ").concat(null!==(F=null===T||void 0===T?void 0:T.staffMiddleName)&&void 0!==F?F:""," ").concat(null!==(S=null===T||void 0===T?void 0:T.staffLastName)&&void 0!==S?S:"")}),(0,m.jsx)("div",{className:k.Z.gsf_star_container,children:null===Q||void 0===Q?void 0:Q.map(((e,t)=>(0,m.jsx)("img",{src:e,alt:"star icon",onClick:()=>(e=>{let t=[];for(let a=0;a<5;a++)a<=e?t.push("".concat(p.Jr,"/yellow-star.svg")):t.push("".concat(p.Jr,"/grey-star.svg"));N(e+1),R((()=>t))})(t)},t)))})]})]}),null===A||void 0===A?void 0:A.map(((e,t)=>{var a,i;return(0,m.jsxs)("section",{className:k.Z.ifq_card,children:[(0,m.jsx)("div",{className:k.Z.ifq_card_inner,children:(0,m.jsxs)("h6",{children:[(0,m.jsx)("span",{style:{color:"var(--color-input-label)"},children:"".concat(_("question")," ").concat(null===e||void 0===e?void 0:e.question_sno,": ")}),null!==(a=null===e||void 0===e?void 0:e.question_title)&&void 0!==a?a:""]})}),(0,m.jsx)("div",{className:k.Z.ifqo_cantainer_student,children:null===e||void 0===e||null===(i=e.options)||void 0===i?void 0:i.map(((e,a)=>{var i;return(0,m.jsx)("h6",{onClick:()=>((e,t)=>{const a=[...A];for(let i of a[e].options)i.selected=!1;a[e].options[t].selected=!0,x((()=>a))})(t,a),className:null!==e&&void 0!==e&&e.selected?k.Z.ifqocs_active:"",children:null!==(i=null===e||void 0===e?void 0:e.option)&&void 0!==i?i:""},"option".concat(null===e||void 0===e?void 0:e.option_sno).concat(a))}))})]},"question".concat(null===e||void 0===e?void 0:e.question_sno))})),j&&(0,m.jsx)(v.default,{}),C&&(0,m.jsx)(u.Z,{})]})]})})}},82824:(e,t,a)=>{"use strict";a.d(t,{J:()=>c,Z:()=>s});var i=a(99893),n=a.n(i),o=a(97892),d=a.n(o);const c=(e,t)=>(d().extend(n()),d()(e).format(t)),s=(e,t,a)=>{var i;return d()()[e]("".concat(null===(i=d()(a))||void 0===i?void 0:i.format("YYYY-MM-DD")),t)}},99893:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,a,i){var n=a.prototype,o=n.format;i.en.formats=e,n.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var a=this.$locale().formats,i=function(t,a){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,i,n){var o=n&&n.toUpperCase();return i||a[n]||e[n]||a[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,a){return t||a.slice(1)}))}))}(t,void 0===a?{}:a);return o.call(this,i)}}}()}}]);
//# sourceMappingURL=91297.e8993282.chunk.js.map