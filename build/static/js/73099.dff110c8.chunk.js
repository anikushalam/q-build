"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[73099,51416],{76424:(e,a,t)=>{t.r(a),t.d(a,{default:()=>m});var i=t(35967),l=t(43623),n=t(86500),d=t(72791),o=t(63687),s=t(21348),r=t(90904),c=t(39230),_=t(56959),u=t(55336),v=t(93638),b=t(80184);const f=(0,d.lazy)((()=>t.e(87156).then(t.bind(t,87156)))),h=(0,d.lazy)((()=>Promise.all([t.e(33992),t.e(96511)]).then(t.bind(t,96511))));i.kL.register(i.uw,i.f$,i.ZL,i.Dx,i.u,i.De);const m=e=>{let{instituteId:a,ifid:t}=e;const{t:i}=(0,c.$G)(),m=(0,d.useRef)(),[p,j]=(0,d.useState)(""),[k,T]=(0,d.useState)(!1),[y,Z]=(0,d.useState)({labels:[],datasets:[{label:"Feedback %",data:[],barThickness:8,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)"],borderColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"],borderWidth:.5}]}),{feedbackSubjectTeacherList:q}=(0,n.FQ)({data:{ifid:t,page:1,limit:1e3,search:""},skip:!t});(0,d.useEffect)((()=>{var e;if((null===q||void 0===q||null===(e=q.list)||void 0===e?void 0:e.length)>0){let e=[],l={label:"Feedback %",data:[]};for(let n of null===q||void 0===q?void 0:q.list)if(null!==n&&void 0!==n&&n.staffROLLNO){var a,t,i;let d=x(null===n||void 0===n||null===(a=n.student_feedback)||void 0===a||null===(t=a[0])||void 0===t?void 0:t.subject_analytic);e.push(null===n||void 0===n?void 0:n.staffROLLNO),null===(i=l.data)||void 0===i||i.push(d)}Z({labels:e,datasets:[l]})}}),[null===q||void 0===q?void 0:q.list]);const U=()=>{T((e=>!e))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(o.default,{children:[(0,b.jsx)(s.default,{children:(0,b.jsxs)("div",{className:_.Z.fm_header_container,children:[(0,b.jsx)("h6",{children:i("feedback_analytics")}),(0,b.jsx)(v.Z,{label:"export",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:U})]})}),(0,b.jsx)(r.Z,{}),(0,b.jsx)(s.default,{children:(0,b.jsx)(l.$Q,{ref:m,data:y,options:g,onClick:e=>{let a=(0,l.cX)(null===m||void 0===m?void 0:m.current,e);for(let l=1;l<=(null===q||void 0===q||null===(t=q.list)||void 0===t?void 0:t.length);l++){var t,i,n;if((null===a||void 0===a||null===(i=a[0])||void 0===i?void 0:i.index)===l)j(null===q||void 0===q||null===(n=q.list)||void 0===n?void 0:n[l])}}})})]}),(0,b.jsxs)(d.Suspense,{fallback:(0,b.jsx)(u.default,{}),children:[p&&(0,b.jsx)(f,{onClose:()=>{j("")},ifid:t,sid:null===p||void 0===p?void 0:p._id,staff:p}),k&&(0,b.jsx)(h,{onClose:U,ifid:t,instituteId:a})]})]})},g={responsive:!0,scales:{x:{grid:{offset:!0}}}},x=e=>{if((null===e||void 0===e?void 0:e.length)>0){let a=0;for(let t of e)a+=null===t||void 0===t?void 0:t.feedback_percentage;return a=Math.floor(a/(null===e||void 0===e?void 0:e.length)),a}return 0}},72224:(e,a,t)=>{t.r(a),t.d(a,{default:()=>q});var i=t(63687),l=t(21348),n=t(43504),d=t(16871),o=t(98684),s=t(56959),r=t(90904),c=t(98967),_=t(63162),u=t(39230),v=t(93638),b=t(97892),f=t.n(b),h=t(82824),m=t(55336),g=t(72791),x=t(86500),p=t(80184);const j=(0,g.lazy)((()=>t.e(36282).then(t.bind(t,36282)))),k=(0,g.lazy)((()=>t.e(8915).then(t.bind(t,8915)))),T=(0,g.lazy)((()=>t.e(54881).then(t.bind(t,54881)))),y=(0,g.lazy)((()=>t.e(7635).then(t.bind(t,7635)))),Z=(0,g.lazy)((()=>Promise.all([t.e(33992),t.e(96511)]).then(t.bind(t,96511)))),q=e=>{var a,t,b,q,S,C,w,I,N,z,L;let{instituteId:F,isManager:M}=e;const{t:D}=(0,u.$G)(),[Y]=(0,n.lr)(),A=(0,d.TH)(),B=(0,d.s0)(),R=(0,d.UO)(),[H,V]=(0,g.useState)(!1),[J,O]=(0,g.useState)(!1),[P,$]=(0,g.useState)(!1),[K,Q]=(0,g.useState)(!1),{feedbackDetailStudentFeedback:X,feedbackDetailStudentFeedbackRefetch:E}=(0,x.Ml)({data:{ifid:null===(a=A.state)||void 0===a?void 0:a.ifid},skip:!(null!==(t=A.state)&&void 0!==t&&t.ifid)}),G=()=>{V((e=>!e))},W=()=>{O((e=>!e))},ee=()=>{$((e=>!e))},ae=()=>{Q((e=>!e))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(i.default,{children:[(0,p.jsx)(l.default,{children:(0,p.jsxs)("div",{className:s.Z.fm_header_container,children:[(0,p.jsxs)("div",{className:s.Z.fm_header_start_container,children:[(0,p.jsx)("img",{alt:"search icon",src:"".concat(o.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:()=>{B("/q/".concat(R.username,M?"/member/staff/feedback":"/institute/member/feedback"),{state:A.state})}}),(0,p.jsx)("h6",{children:null!==(b=null===(q=A.state)||void 0===q?void 0:q.feedbackName)&&void 0!==b?b:""})]}),(0,p.jsxs)("div",{className:s.Z.fm_header_container,style:{gap:"1rem"},children:[null!==X&&void 0!==X&&X.evaluation?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("p",{className:s.Z.fm_header_paragraph,children:[D("taken_on")," ",": "," ",f()(null===X||void 0===X?void 0:X.feedback_take_date).format("DD/MM/YYYY"),", "," ",(0,h.J)(null===X||void 0===X?void 0:X.feedback_take_date,"LT")]}),(0,p.jsx)(v.Z,{label:D("edit"),customStyle:{margin:"0",padding:"0.4rem 1rem"},onAction:W})]}):(0,p.jsx)(v.Z,{label:D("take_feedback"),customStyle:{margin:"0",padding:"0.4rem 1rem",width:"10rem"},onAction:G}),(0,p.jsx)(v.Z,{label:"export",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:ee}),(0,p.jsx)(v.Z,{label:"export_pdf",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:ae})]})]})}),(0,p.jsx)(r.Z,{}),(0,p.jsx)(c.Z,{children:U.map((e=>{var a;return(0,p.jsx)(_.Z,{tab:e,isLink:!0,isActive:null===(a=e.groupIs)||void 0===a?void 0:a.includes(Y.get("n")),parentState:A.state,url:M?"/q/".concat(R.username,"/member/staff/feedback?a=feedback-detail").concat(e.urlKey):"/q/".concat(R.username,"/institute/member/feedback?a=feedback-detail").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,p.jsx)(r.Z,{customStyleBorder:{marginBlock:"0"}}),(0,p.jsx)(l.default,{children:(0,p.jsx)(g.Suspense,{fallback:(0,p.jsx)(m.default,{}),children:Y.get("n")?"question"===Y.get("n")?(0,p.jsx)(k,{ifid:null===(w=A.state)||void 0===w?void 0:w.ifid,questionCount:null===X||void 0===X?void 0:X.question_count,optionCount:null===X||void 0===X?void 0:X.how_many_question_option,onRefetch:E,questionList:null===X||void 0===X?void 0:X.questions,isEvaluate:null===X||void 0===X?void 0:X.evaluation}):null:(0,p.jsx)(j,{instituteId:null===(S=A.state)||void 0===S?void 0:S.instituteId,ifid:null===(C=A.state)||void 0===C?void 0:C.ifid})})})]}),(0,p.jsxs)(g.Suspense,{fallback:(0,p.jsx)(m.default,{}),children:[H&&(0,p.jsx)(T,{onClose:G,optionCount:null===X||void 0===X?void 0:X.how_many_question_option,onRefetch:E,instituteId:F,ifid:null===(I=A.state)||void 0===I?void 0:I.ifid}),J&&(0,p.jsx)(y,{onClose:W,closeDate:null===X||void 0===X?void 0:X.feedback_close_at,onRefetch:E,ifid:null===(N=A.state)||void 0===N?void 0:N.ifid}),P&&(0,p.jsx)(Z,{onClose:ee,ifid:null===(z=A.state)||void 0===z?void 0:z.ifid,instituteId:F}),K&&(0,p.jsx)(Z,{onClose:ae,ifid:null===(L=A.state)||void 0===L?void 0:L.ifid,instituteId:F,isPdf:!0})]})]})},U=[{label:"staff",id:"staff",urlKey:"",groupIs:["",null]},{label:"question",id:"question",urlKey:"&n=question",groupIs:["question"]}]},5978:(e,a,t)=>{t.r(a),t.d(a,{default:()=>n});const i="UserMemberTab_um_main_wrapper__NwvJ9";var l=t(80184);const n=e=>{let{children:a}=e;return(0,l.jsx)("div",{className:i,children:a})}},55336:(e,a,t)=>{t.r(a),t.d(a,{default:()=>n});var i=t(63244),l=t(80184);const n=()=>(0,l.jsx)("div",{className:i.Z.qviple_loader_backdrop,children:(0,l.jsx)("div",{className:i.Z.qviple_loader_container,children:(0,l.jsx)("div",{className:i.Z.qviple_loader_rotation})})})},63162:(e,a,t)=>{t.d(a,{Z:()=>r});var i=t(39230),l=t(51416),n=t(43504),d=t(72791),o=t(80184);const s=e=>{let{tab:a,isActive:t,isLink:d,parentState:s,onAction:r,url:c,extraData:_,customStyle:u}=e;const{t:v}=(0,i.$G)();return d?(0,o.jsx)(n.rU,{className:t?l.Z.horizontal_tab_card_active:l.Z.horizontal_tab_card,to:c,state:s,style:u,children:(0,o.jsxs)("h6",{children:[v(null===a||void 0===a?void 0:a.label),(null===_||void 0===_?void 0:_.count)>=0?"(".concat(null===_||void 0===_?void 0:_.count,")"):""]})}):(0,o.jsx)("div",{className:t?l.Z.horizontal_tab_card_active:l.Z.horizontal_tab_card,onClick:()=>{r(null===a||void 0===a?void 0:a.id)},children:(0,o.jsx)("h6",{children:v(null===a||void 0===a?void 0:a.label)})})},r=(0,d.memo)(s)},98967:(e,a,t)=>{t.d(a,{Z:()=>n});var i=t(51416),l=t(80184);const n=e=>{let{customWrapperStyle:a,children:t}=e;return(0,l.jsx)("div",{className:i.Z.horizontal_tab_wrapper,style:a,children:t})}},73099:(e,a,t)=>{t.r(a),t.d(a,{default:()=>b});var i=t(16871),l=t(15686),n=t(72791),d=t(43504),o=t(55336),s=t(72224),r=t(76424),c=t(68779),_=t(5978),u=t(80184);const v=()=>{var e,a,t,l,v,b,f,h,m,g;const x=(0,i.TH)(),[p]=(0,d.lr)();return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(_.default,{children:(0,u.jsx)(n.Suspense,{fallback:(0,u.jsx)(o.default,{}),children:"feedback-detail"===p.get("a")?(0,u.jsx)(s.default,{instituteId:null===(e=x.state)||void 0===e||null===(a=e.onClickValue)||void 0===a||null===(t=a.institute)||void 0===t?void 0:t._id,isManager:!0}):"feedback-analytic"===p.get("a")?(0,u.jsx)(r.default,{instituteId:null===(l=x.state)||void 0===l||null===(v=l.onClickValue)||void 0===v||null===(b=v.institute)||void 0===b?void 0:b._id,ifid:null===(f=x.state)||void 0===f?void 0:f.ifid}):(0,u.jsx)(c.default,{instituteId:null===(h=x.state)||void 0===h||null===(m=h.onClickValue)||void 0===m||null===(g=m.institute)||void 0===g?void 0:g._id,isManager:!0})})})})},b=e=>{var a,t,n,d;let{instituteId:o,staffId:s}=e;const r=(0,i.TH)();return(0,u.jsx)(l.Z,{index:"90",sid:null!==(a=null===r||void 0===r||null===(t=r.state)||void 0===t?void 0:t.sid)&&void 0!==a?a:"",onClickValue:null!==(n=null===r||void 0===r||null===(d=r.state)||void 0===d?void 0:d.onClickValue)&&void 0!==n?n:"",children:(0,u.jsx)(v,{})})}},51416:(e,a,t)=>{t.d(a,{Z:()=>i});const i={square_tab_wrapper:"UiTab_square_tab_wrapper__Jxkmy",square_tab_card:"UiTab_square_tab_card__EYI-n",square_tab_card_icon:"UiTab_square_tab_card_icon__tPYT1",square_tab_card_menu:"UiTab_square_tab_card_menu__wHBYi",designation_tab_wrapper:"UiTab_designation_tab_wrapper__1YZQi",designation_tab_card:"UiTab_designation_tab_card__waJTM",rectangle_tab_wrapper:"UiTab_rectangle_tab_wrapper__a4CP7",rectangle_tab_card:"UiTab_rectangle_tab_card__xYxge",rectangle_tab_card_active:"UiTab_rectangle_tab_card_active__hSDaQ",horizontal_tab_wrapper:"UiTab_horizontal_tab_wrapper__BRXBX",horizontal_tab_card:"UiTab_horizontal_tab_card__pF03H",horizontal_tab_card_active:"UiTab_horizontal_tab_card_active__o32eJ",tile_container:"UiTab_tile_container__YqmHk",tile_tile_container:"UiTab_tile_tile_container__DlIa1",tile_tile:"UiTab_tile_tile__NcTNN",tile_tile_active:"UiTab_tile_tile_active__bo3c7",tile_label:"UiTab_tile_label__IV8Xu",attendance_card:"UiTab_attendance_card__kZvon",ac_heading:"UiTab_ac_heading__ayM90",attendance_contianer:"UiTab_attendance_contianer__m84gB",ac_image:"UiTab_ac_image__dgjML",ac_date:"UiTab_ac_date__7s3uk",ac_date_vale:"UiTab_ac_date_vale__oug6A",ac_date_active:"UiTab_ac_date_active__ifWqt",atb_btn:"UiTab_atb_btn__tav+0"}}}]);
//# sourceMappingURL=73099.dff110c8.chunk.js.map