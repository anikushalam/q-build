"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[81876],{81876:(e,t,i)=>{i.r(t),i.d(t,{default:()=>m});var s=i(72791),n=i(95048),a=i(35395),d=i(6245),l=i(49384),r=i(39230),u=i(94804),o=i(72310),c=i(16871),v=i(80184);const g=s.lazy((()=>Promise.resolve().then(i.bind(i,6181)))),m=e=>{var t;let{student:i,viewAs:m,instituteId:h,status:_}=e;const{t:b}=(0,r.$G)(),p=(0,n.v9)((e=>e.idChange.id)),[j,k]=(0,s.useState)(!1),[x,f]=(0,s.useState)(!1),w=(0,c.s0)(),N=(0,c.UO)(),[S,C]=(0,s.useState)({number:"",studentCertificateNo:"",leaving_date:"",bookNo:"",studentUidaiNumber:"",studentPreviousSchool:null!==(t=null===i||void 0===i?void 0:i.studentPreviousSchool)&&void 0!==t?t:"",studentLeavingBehaviour:"",studentLeavingStudy:"",studentLeavingReason:"",studentRemark:"",instituteJoinDate:"",instituteLeavingDate:"",leaving_degree:"",leaving_since_date:"",leaving_course_duration:"",elective_subject_one:"",elective_subject_second:"",leaving_project_work:"",leaving_guide_name:""}),[y,D]=(0,s.useState)({msg:"",run:!1}),[Z]=(0,d.vB)(),{getEditable:I,getEditableRefetch:E}=(0,d.A5)({id:h||p,skip:"DESIGNATION_SIDE"===m?!h:!p});(0,s.useEffect)((()=>{h&&E()}),[p,h,E]);return(0,v.jsxs)("div",{className:u.Z.complaintDetails,children:[(0,v.jsxs)("div",{className:u.Z.detailsHeader,children:["transfer"===_?(0,v.jsx)("p",{children:b("transfer_certificate")}):(0,v.jsx)("p",{children:b("leaving")}),(0,v.jsx)("img",{src:"/images/menu-dots-dark-icon.svg",alt:"",onClick:()=>k(!0)})]}),(0,v.jsxs)("div",{className:u.Z.detailsBody,children:[(0,v.jsx)("div",{className:u.Z.gr,children:(0,v.jsx)("input",{type:"tel",placeholder:b("enter_gr"),onChange:e=>C({...S,number:e.target.value}),required:!0})}),""!==(null===S||void 0===S?void 0:S.number)&&(0,v.jsxs)("button",{type:"submit",disabled:x,className:u.Z.getBtn,onClick:()=>{f((e=>!e)),Z({id:h||p,gr:S.number,leavingFeedback:S}).then((e=>{f((e=>!e)),w("/q/".concat(N.username,"/student/certificate/form"),{state:{student:e.data.student,download:e.data.download,instituteId:h,is_leaving:_}})})).catch((()=>{D({msg:"something went wrong",run:!0})}))},children:[(0,v.jsx)("p",{children:b("cer_preview")}),x&&(0,v.jsx)(l.Z,{})]})]}),j&&(0,v.jsx)(a.Z,{children:(0,v.jsx)(g,{hideModal:e=>k(e),addDisplay:j,editableData:null===I||void 0===I?void 0:I.detail,viewAs:m,instituteId:h,onRefetch:E})}),(0,v.jsx)(o.Ch,{msg:y.msg,run:y.run,setRun:()=>D({msg:"",run:!1}),postiton:"bottom",type:"error"})]})}}}]);
//# sourceMappingURL=81876.9208ac67.chunk.js.map