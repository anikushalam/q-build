"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[76390,99532],{11163:(e,l,t)=>{t.d(l,{BK:()=>v,Ff:()=>i,GX:()=>g,S4:()=>r,o:()=>m,oz:()=>d});var a=t(72791),n=t(43997),s=t(97892),o=t.n(s);const i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],d=["January","February","March","April","May","June","July","August","September","October","November","December"],c={0:4,1:3,2:4,3:3,4:4,5:3,6:4,7:4,8:3,9:4,10:3,11:4},r=()=>{let e=(new Date).getFullYear(),l=e-70,t=[];for(let a=e+30;a>=l;a--)t.push(a);return t.reverse()},_=[1,2,3,4,5,6,0],u=()=>new Date,v=(e,l)=>{var t,a;let s;s=l?null===(t=o()(e))||void 0===t?void 0:t.format("YYYY-MM-DD"):(0,n.O_)(e);let i=new Date,d=null===(a=o()(i))||void 0===a?void 0:a.format("YYYY-MM-DD"),c=new Date("".concat(s)),r=new Date("".concat(d));return c.getTime()===r.getTime()},m=(e,l)=>e===(e=>{let l=null===e||void 0===e?void 0:e.split("-"),t=(null===l||void 0===l?void 0:l[0])>9?null===l||void 0===l?void 0:l[0]:"0".concat(null===l||void 0===l?void 0:l[0]),a=(null===l||void 0===l?void 0:l[1])>9?null===l||void 0===l?void 0:l[1]:"0".concat(null===l||void 0===l?void 0:l[1]);return"".concat(t,"/").concat(a,"/").concat(null===l||void 0===l?void 0:l[2])})(l),h=e=>(e=>{let l=new Date(e);return new Date(l.getFullYear(),l.getMonth()+1,0)})(e).getDate(),f=e=>(e=>{let l=new Date(e);return new Date(l.getFullYear(),l.getMonth(),0)})(e).getDate(),p=e=>_.indexOf((e=>{let l=new Date(e);return new Date(l.getFullYear(),l.getMonth(),1).getDay()})(e)),g=e=>{const[l,t]=(0,a.useState)(u());(0,a.useEffect)((()=>{e&&t((e=>{let l=(0,n.O_)(e);return new Date(l)})(e))}),[e]);const s=f(o=l)-p(o);var o;const r=(0,a.useMemo)((()=>((e,l)=>{let t=1,a=1,n=new Date(e);const s={};for(let o=1;o<7;o++){s[o]=[];for(let d=1;d<8;d++)if(1===o)if(d<=p(e)+1){let e=n.getMonth()+1,a="".concat(n.getFullYear(),"-").concat(e>9?e:"0".concat(e),"-").concat(t>9?t:"0".concat(t)),d=new Date(a);s[o]=[...s[o],{type:"PREVIOUS",date:"".concat(l,"-").concat(0===n.getMonth()?12:n.getMonth(),"-").concat(0===n.getMonth()?n.getFullYear()-1:n.getFullYear()),value:l,day:i[d.getDay()]}],++l}else{let e=n.getMonth()+1,l="".concat(n.getFullYear(),"-").concat(e>9?e:"0".concat(e),"-").concat(t>9?t:"0".concat(t)),a=new Date(l);s[o]=[...s[o],{type:"CURRENT",date:"".concat(t,"-").concat(n.getMonth()+1,"-").concat(n.getFullYear()),value:t,day:i[a.getDay()]}],t++}else if(o>1&&t<h(e)+1){let e=n.getMonth()+1,l="".concat(n.getFullYear(),"-").concat(e>9?e:"0".concat(e),"-").concat(t>9?t:"0".concat(t)),a=new Date(l);s[o]=[...s[o],{type:"CURRENT",date:"".concat(t,"-").concat(n.getMonth()+1,"-").concat(n.getFullYear()),value:t,day:i[a.getDay()]}],t++}else{let e=n.getMonth()+1,l="".concat(n.getFullYear(),"-").concat(e>9?e:"0".concat(e),"-").concat(t>9?t:"0".concat(t)),d=new Date(l);s[o]=[...s[o],{type:"NEXT_MONTH",date:"".concat(a,"-").concat(n.getMonth()+2===13?1:n.getMonth()+2,"-").concat(n.getMonth()+2===13?n.getFullYear()+1:n.getFullYear()),value:a,day:i[d.getDay()]}],a++}}return s})(l,s)),[l,s]),_=(0,a.useCallback)((()=>{t((e=>new Date(e.getFullYear(),e.getMonth()-1,1)))}),[]),v=(0,a.useCallback)((()=>{t((e=>new Date(e.getFullYear(),e.getMonth()+1,1)))}),[]),g=(0,a.useCallback)((e=>{let l=null===e||void 0===e?void 0:e.split("-"),a=new Date("".concat(l[2],"-").concat(l[1],"-").concat(l[0]));t(a)}),[]);return{selectedDate:l,setSelectedDate:t,getPreviousMonth:_,getNextMonth:v,getSelectedDate:g,generateCalendar:r,getToday:u,dayName:i,monthName:d,getCompareDate:m,monthPage:c}}},66659:(e,l,t)=>{t.d(l,{Z:()=>i});var a=t(39230),n=t(80476),s=t(98684),o=t(80184);const i=e=>{let{label:l,count:t,onAction:i,customStyle:d}=e;const{t:c}=(0,a.$G)();return(0,o.jsxs)("div",{className:n.Z.set_btn_container,onClick:i,style:d,children:[(0,o.jsxs)("h6",{children:[t>0?(0,o.jsxs)("span",{children:[t," "," "]}):null,c(l)]}),(0,o.jsx)("img",{src:"".concat(s.J7,"/forward.svg"),alt:"forward icon"})]})}},60924:(e,l,t)=>{t.d(l,{Z:()=>m});var a=t(39230),n=t(52245),s=t(72791),o=t(11163),i=t(8728),d=t(38857),c=t(98684),r=t(97892),_=t.n(r),u=t(80184);const v=e=>{var l;let{onClose:t,date:a,onDateSelect:n}=e;const{selectedDate:r,setSelectedDate:v,getPreviousMonth:m,getNextMonth:h,getSelectedDate:f,generateCalendar:p}=(0,o.GX)(a),[g,x]=(0,s.useState)(""),j=(0,o.S4)(),b=(0,s.useMemo)((()=>j.indexOf(r.getFullYear())),[r,j]),[y,Z]=(0,s.useState)(0),S=(0,s.useMemo)((()=>j.slice(b+12*y,y?b+12*y+12:b+12)),[j,y,b]),N=(0,s.useCallback)((()=>{x(g?"":"MONTH")}),[g]),F=(0,s.useCallback)((()=>{x(g?"":"YEAR")}),[g]),C=(0,s.useCallback)((e=>{v((l=>new Date("".concat(e," ").concat(l.getDate()," ").concat(l.getFullYear())))),N()}),[N]),D=(0,s.useCallback)((e=>{v((l=>new Date("".concat(l.getMonth()+1," ").concat(l.getDate()," ").concat(e)))),F()}),[F]);return(0,u.jsx)(d.Z,{onClose:t,customBackdropStyle:{zIndex:"2000"},customOverlayStyle:{zIndex:"2000"},children:(0,u.jsxs)("div",{className:i.Z.calendar,children:[(0,u.jsxs)("div",{className:i.Z.calendar_top,children:[(0,u.jsx)("img",{src:"".concat(c.Fk,"/next.svg"),alt:"previous icon",onClick:()=>{g?"YEAR"===g&&Z((e=>e-1)):m()},style:{rotate:"180deg"}}),(0,u.jsxs)("h6",{children:[(0,u.jsx)("span",{onClick:N,children:_()(r).format("MMMM")})," ",(0,u.jsx)("span",{onClick:F,children:_()(r).format("YYYY")})]}),(0,u.jsx)("img",{src:"".concat(c.Fk,"/next.svg"),alt:"next icon",onClick:()=>{g?"YEAR"===g&&Z((e=>e+1)):h()}})]}),"MONTH"===g?(0,u.jsx)("div",{className:i.Z.calendar_month,children:o.oz.map((e=>(0,u.jsx)("p",{className:_()(r).format("MMMM")===e?"".concat(i.Z.calendar_month_value," ").concat(i.Z.calendar_month_value_active):i.Z.calendar_month_value,onClick:()=>C(e),children:e},e)))}):"YEAR"===g?(0,u.jsx)("div",{className:i.Z.calendar_month,children:null===S||void 0===S?void 0:S.map((e=>(0,u.jsx)("p",{className:_()(r).format("YYYY")==="".concat(e)?"".concat(i.Z.calendar_month_value," ").concat(i.Z.calendar_month_value_active):i.Z.calendar_month_value,onClick:()=>D(e),children:e},e)))}):(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:i.Z.calendar_days,children:o.Ff.map((e=>(0,u.jsx)("p",{className:i.Z.calendar_days_label,children:e},e)))}),null===(l=Object.values(p))||void 0===l?void 0:l.map(((e,l)=>(0,u.jsx)("div",{className:i.Z.calendar_days,children:e.map((e=>(0,u.jsx)("p",{className:i.Z.calendar_days_value,style:{"--calendar-border":(0,o.BK)(null===e||void 0===e?void 0:e.date)?"#123456":(0,o.o)(r,null===e||void 0===e?void 0:e.date)?"red":""},onClick:()=>{return l=null===e||void 0===e?void 0:e.date,f(l),n(l),void t();var l},children:null===e||void 0===e?void 0:e.value},null===e||void 0===e?void 0:e.date)))},l)))]})]})})},m=e=>{let{label:l,name:t,msg:o,value:i,onChange:d,placeholder:r,customFormInputContainer:_,customFormInputLabel:m,customFormInput:h,errorShow:f,disabled:p,isNotPassCurrentDate:g}=e;const{t:x}=(0,a.$G)(),[j,b]=(0,s.useState)(!1),y=()=>{b((e=>!e))};return(0,u.jsxs)("div",{className:n.Z.form_input_container,style:_,children:[l&&(0,u.jsxs)("label",{className:n.Z.form_input_label,style:m,htmlFor:t,children:[l,o?(0,u.jsx)("span",{className:n.Z.form_input_label_error,children:o}):f?(0,u.jsxs)("span",{className:n.Z.form_input_label_error,children:["* ",x("form_require_label")]}):null]}),(0,u.jsx)("input",{className:n.Z.form_input,type:"text",value:i,name:t,placeholder:r,disabled:p,style:h,onFocus:y}),(0,u.jsx)("img",{src:"".concat(c.Fk,"/calendar.svg"),alt:"calander-icon",className:n.Z.form_calendar_icon,onClick:y}),j&&(0,u.jsx)(u.Fragment,{children:g?(0,u.jsx)(v,{onClose:y,onDateSelect:d}):(0,u.jsx)(v,{onClose:y,onDateSelect:d,date:i})})]})}},89064:(e,l,t)=>{t.d(l,{Z:()=>d});var a=t(55336),n=t(38857);const s="Modal_modal_menu_card__d0zzt";var o=t(90904),i=t(80184);const d=e=>{let{onClose:l,disabled:t,heading:d,customStyle:c,customBackdropStyle:r,customOverlayStyle:_,children:u}=e;return(0,i.jsx)(n.Z,{onClose:()=>{if(t)return null;l()},customBackdropStyle:r,customOverlayStyle:_,children:(0,i.jsxs)("div",{className:s,style:c,children:[d?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h5",{children:d}),(0,i.jsx)(o.Z,{})]}):null,u,t&&(0,i.jsx)(a.default,{})]})})}},19056:(e,l,t)=>{t.d(l,{Z:()=>d});var a=t(72791),n=t(39230),s=t(52245),o=t(98684),i=t(80184);const d=e=>{let{selectLabel:l,onClick:t,selectedValue:d,options:c,customStyleContainer:r,customLabelStyle:_,customListStyle:u,errorShow:v,defalutValue:m,isDenied:h,customFormInput:f}=e;const{t:p}=(0,n.$G)(),[g,x]=(0,a.useState)(!1),[j,b]=(0,a.useState)(""),y=()=>{h||x((e=>!e))};(0,a.useEffect)((()=>{m&&b(m)}),[m]);return(0,i.jsxs)("div",{className:s.Z.form_input_container,style:{...r},children:[(0,i.jsxs)("p",{className:s.Z.join_form_select_paragraph,style:{..._},children:[l,v&&(0,i.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",p("form_require_label")]})]}),(0,i.jsxs)("section",{className:s.Z.join_form_select_custom,onClick:y,children:[j?(0,i.jsx)("p",{className:s.Z.join_form_select_custom_paragraph,style:f,children:null!==j&&void 0!==j?j:""}):(0,i.jsx)("p",{className:s.Z.join_form_select_custom_paragraph,style:f,children:d}),g?(0,i.jsx)("img",{className:s.Z.join_form_select_custom_rotate_icon,src:"".concat(o.J7,"/down.svg"),alt:"categor icon"}):(0,i.jsx)("img",{className:s.Z.join_form_select_custom_icon,src:"".concat(o.J7,"/down.svg"),alt:"categor icon"})]}),(0,i.jsx)("section",{children:g&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("section",{className:s.Z.join_form_select_custom_list,style:u,children:null===c||void 0===c?void 0:c.map(((e,l)=>(0,i.jsx)("p",{onClick:()=>{return t(l=e),y(),void b(l);var l},className:s.Z.join_form_select_custom_paragraph_option,children:e},l)))})})})]})}},33880:(e,l,t)=>{t.d(l,{Z:()=>d});var a=t(72791),n=t(39230),s=t(52245),o=t(98684),i=t(80184);const d=e=>{let{selectLabel:l,onClick:t,selectedValue:d,options:c,customStyleContainer:r,customLabelStyle:_,customListStyle:u,errorShow:v,defalutValue:m,isFull:h,isDenied:f}=e;const{t:p}=(0,n.$G)(),[g,x]=(0,a.useState)(!1),[j,b]=(0,a.useState)(""),y=()=>{f||x((e=>!e))};(0,a.useEffect)((()=>{m&&b(m)}),[m]);return(0,i.jsxs)("div",{className:s.Z.form_input_container,style:{...r},children:[(0,i.jsxs)("p",{className:s.Z.join_form_select_paragraph,style:{..._},children:[l,v&&(0,i.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",p("form_require_label")]})]}),(0,i.jsxs)("section",{className:s.Z.join_form_select_custom,onClick:y,children:[j?(0,i.jsx)("p",{className:s.Z.join_form_select_custom_paragraph,children:null!==j&&void 0!==j?j:""}):(0,i.jsx)("p",{className:s.Z.join_form_select_custom_paragraph,children:d}),g?(0,i.jsx)("img",{className:s.Z.join_form_select_custom_rotate_icon,src:"".concat(o.J7,"/down.svg"),alt:"categor icon"}):(0,i.jsx)("img",{className:s.Z.join_form_select_custom_icon,src:"".concat(o.J7,"/down.svg"),alt:"categor icon"})]}),g&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("section",{className:s.Z.join_form_select_custom_list,style:u,children:null===c||void 0===c?void 0:c.map(((e,l)=>{var a;return(0,i.jsx)("p",{onClick:()=>(e=>{var l;t(h?e:null===e||void 0===e?void 0:e._id),y(),b(null!==(l=null===e||void 0===e?void 0:e.batchName)&&void 0!==l?l:e)})(e),className:s.Z.join_form_select_custom_paragraph_option,children:null!==(a=null===e||void 0===e?void 0:e.batchName)&&void 0!==a?a:e},l)}))})})]})}},28457:(e,l,t)=>{t.d(l,{Z:()=>d});var a=t(72791),n=t(39230),s=t(52245),o=t(98684),i=t(80184);const d=e=>{let{selectLabel:l,onClick:t,selectedValue:d,options:c,customStyleContainer:r,customLabelStyle:_,customListStyle:u,errorShow:v,defalutValue:m,viewAs:h,isFull:f}=e;const{t:p}=(0,n.$G)(),[g,x]=(0,a.useState)(!1),[j,b]=(0,a.useState)(""),y=()=>{x((e=>!e))};(0,a.useEffect)((()=>{"NORMAL_FILTER"===h&&b(m)}),[h,m]);return(0,i.jsxs)("div",{className:s.Z.form_input_container,style:{...r},children:[(0,i.jsxs)("p",{className:s.Z.join_form_select_paragraph,style:{..._},children:[l,v&&(0,i.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",p("form_require_label")]})]}),(0,i.jsxs)("section",{className:s.Z.join_form_select_custom,onClick:y,children:[j?(0,i.jsx)("p",{className:s.Z.join_form_select_custom_paragraph,children:null!==j&&void 0!==j?j:""}):(0,i.jsx)("p",{className:s.Z.join_form_select_custom_paragraph,children:d}),g?(0,i.jsx)("img",{className:s.Z.join_form_select_custom_rotate_icon,src:"".concat(o.J7,"/down.svg"),alt:"categor icon"}):(0,i.jsx)("img",{className:s.Z.join_form_select_custom_icon,src:"".concat(o.J7,"/down.svg"),alt:"categor icon"})]}),g&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("section",{className:s.Z.join_form_select_custom_list,style:u,children:null===c||void 0===c?void 0:c.map(((e,l)=>{var a;return(0,i.jsx)("p",{onClick:()=>(e=>{var l;t(f?e:null===e||void 0===e?void 0:e._id),y(),b(null!==(l=null===e||void 0===e?void 0:e.category_name)&&void 0!==l?l:e)})(e),className:s.Z.join_form_select_custom_paragraph_option,children:null!==(a=null===e||void 0===e?void 0:e.category_name)&&void 0!==a?a:e},l)}))})})]})}},40739:(e,l,t)=>{t.d(l,{Z:()=>d});var a=t(72791),n=t(39230),s=t(52245),o=t(98684),i=t(80184);const d=e=>{let{selectLabel:l,onClick:t,selectedValue:d,options:c,customStyleContainer:r,customLabelStyle:_,customListStyle:u,errorShow:v,defalutValue:m,isFull:h,isDenied:f}=e;const{t:p}=(0,n.$G)(),[g,x]=(0,a.useState)(!1),[j,b]=(0,a.useState)(""),y=()=>{f||x((e=>!e))};(0,a.useEffect)((()=>{m&&b(m)}),[m]);return(0,i.jsxs)("div",{className:s.Z.form_input_container,style:{...r},children:[(0,i.jsxs)("p",{className:s.Z.join_form_select_paragraph,style:{..._},children:[l,v&&(0,i.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",p("form_require_label")]})]}),(0,i.jsxs)("section",{className:s.Z.join_form_select_custom,onClick:y,children:[j?(0,i.jsx)("p",{className:s.Z.join_form_select_custom_paragraph,children:null!==j&&void 0!==j?j:""}):(0,i.jsx)("p",{className:s.Z.join_form_select_custom_paragraph,children:d}),g?(0,i.jsx)("img",{className:s.Z.join_form_select_custom_rotate_icon,src:"".concat(o.J7,"/down.svg"),alt:"categor icon"}):(0,i.jsx)("img",{className:s.Z.join_form_select_custom_icon,src:"".concat(o.J7,"/down.svg"),alt:"categor icon"})]}),g&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("section",{className:s.Z.join_form_select_custom_list,style:u,children:null===c||void 0===c?void 0:c.map(((e,l)=>{var a;return(0,i.jsx)("p",{onClick:()=>(e=>{var l;t(h?e:null===e||void 0===e?void 0:e._id),y(),b(null!==(l=null===e||void 0===e?void 0:e.className)&&void 0!==l?l:e)})(e),className:s.Z.join_form_select_custom_paragraph_option,children:null!==(a=null===e||void 0===e?void 0:e.className)&&void 0!==a?a:e},l)}))})})]})}},14196:(e,l,t)=>{t.d(l,{Z:()=>i});var a=t(98684),n=t(4007),s=t(39230),o=t(80184);const i=e=>{var l,t;let{feeHead:i,onSelect:d,selectedFeeId:c}=e;const{t:r}=(0,s.$G)();return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:null!==c&&void 0!==c&&c.includes(null===i||void 0===i?void 0:i._id)?"".concat(n.Z.category_card," ").concat(n.Z.category_card_hover_active):"".concat(n.Z.category_card," ").concat(n.Z.category_card_hover),onClick:()=>{d(i)},children:[(0,o.jsx)("img",{style:{height:"36px",width:"36px"},src:"".concat(a.J7,"/category.svg"),alt:"categor icon"}),(0,o.jsxs)("div",{className:n.Z.category_card_fee,children:[(0,o.jsx)("h6",{style:{marginBottom:"0.3rem"},children:null!==(l=null===i||void 0===i?void 0:i.master_name)&&void 0!==l?l:""}),(0,o.jsxs)("h6",{style:{color:"rgba(18, 18, 18, 0.5)"},children:[r("rs_only"),null!==(t=null===i||void 0===i?void 0:i.master_amount)&&void 0!==t?t:0]})]}),(null===c||void 0===c?void 0:c.indexOf(null===i||void 0===i?void 0:i._id))+1>0&&(0,o.jsx)("h6",{className:n.Z.category_card_order,style:{color:"var(--color-white)"},children:(null===c||void 0===c?void 0:c.indexOf(null===i||void 0===i?void 0:i._id))+1})]},null===i||void 0===i?void 0:i._id)})}},90802:(e,l,t)=>{t.d(l,{Z:()=>Y});var a=t(72791),n=t(4007),s=t(61055),o=t(33880),i=t(28457),d=t(40739),c=t(6758),r=t(98684),_=t(21348),u=t(38857),v=t(90904),m=t(39230),h=t(66659),f=t(99183),p=t(55336),g=t(85794),x=t(80184);const j=e=>{var l,t,j,b,y,Z,S;let{onClose:N,did:F,instituteId:C,fid:D,structure:w,setStructure:A,setStep:k}=e;const{t:T}=(0,m.$G)(),[E,M]=(0,a.useState)({structure_name:null!==(l=null===w||void 0===w?void 0:w.structure_name)&&void 0!==l?l:"",category_master:null!==(t=null===w||void 0===w?void 0:w.category_master)&&void 0!==t?t:"",class_master:null!==(j=null===w||void 0===w?void 0:w.class_master)&&void 0!==j?j:"",batch_master:null!==(b=null===w||void 0===w?void 0:w.batch_master)&&void 0!==b?b:""}),[B,Y]=(0,a.useState)(!1),[I,H]=(0,a.useState)(""),[O,L]=(0,a.useState)({open:!1,msg:"",variant:"error"}),[R]=(0,c.rG)();(0,a.useEffect)((()=>{null!==w&&void 0!==w&&w.structure_name&&M((e=>{var l,t,a,n;return{...e,structure_name:null!==(l=null===w||void 0===w?void 0:w.structure_name)&&void 0!==l?l:"",category_master:null!==(t=null===w||void 0===w?void 0:w.category_master)&&void 0!==t?t:"",class_master:null!==(a=null===w||void 0===w?void 0:w.class_master)&&void 0!==a?a:"",batch_master:null!==(n=null===w||void 0===w?void 0:w.batch_master)&&void 0!==n?n:""}}))}),[null===w||void 0===w?void 0:w.structure_name]);const{departmentAllBatch:G}=(0,c._m)({did:F,skip:!F}),{departmentAllClassMaster:J}=(0,c.lj)({data:{did:F,id:C},skip:F?!C:!F}),{financeAllFeesCategory:P}=(0,c.QD)({fid:D,skip:!D});return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(u.Z,{children:(0,x.jsxs)("div",{className:n.Z.modal_container,children:[(0,x.jsx)(_.default,{children:(0,x.jsxs)("div",{className:n.Z.modal_container_outer_header,children:[(0,x.jsx)("div",{className:n.Z.modal_container_header,children:(0,x.jsx)("h6",{children:T("add_new_fees_structure")})}),(0,x.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:N})]})}),(0,x.jsx)(v.Z,{}),(0,x.jsxs)(_.default,{customStyle:{paddingTop:"0"},children:[(0,x.jsx)(s.Z,{label:T("fee_structure_name"),placeholder:T("fee_structure_name_placeholder"),type:"text",name:"structure_name",value:E.structure_name,onChange:e=>{M((l=>({...l,structure_name:e.target.value})))},errorShow:I.structure_name}),(0,x.jsx)(o.Z,{selectLabel:T("select_batch"),selectedValue:T("select_batch_placeholder"),options:(null===G||void 0===G?void 0:G.length)>0?G:[],onClick:e=>{M((l=>({...l,batch_master:e})))},viewAs:"NORMAL_FILTER",defalutValue:null===(y=E.batch_master)||void 0===y?void 0:y.batchName,errorShow:I.batch_master,isFull:!0}),(0,x.jsx)(i.Z,{selectLabel:T("select_fee_category_master"),selectedValue:T("please_select_fees_category"),options:(null===P||void 0===P?void 0:P.length)>0?P:[],onClick:e=>{M((l=>({...l,category_master:e})))},viewAs:"NORMAL_FILTER",defalutValue:null===(Z=E.category_master)||void 0===Z?void 0:Z.category_name,errorShow:I.category_master,isFull:!0}),(0,x.jsx)(d.Z,{selectLabel:T("select_standard"),selectedValue:T("please_select_the_standard_master"),defalutValue:null===(S=E.class_master)||void 0===S?void 0:S.className,onClick:e=>{M((l=>({...l,class_master:e})))},name:"class_master",options:(null===J||void 0===J?void 0:J.length)>0?J:[],errorShow:I.class_master,viewAs:"NORMAL_FILTER",isFull:!0}),(0,x.jsx)(h.Z,{label:"set_fee_structure",onAction:()=>{let e=(0,f.l)(E);var l,t,a;(0,f.x)(e)?(Y((e=>!e)),R({validate:{category_master:null===E||void 0===E||null===(l=E.category_master)||void 0===l?void 0:l._id,class_master:null===E||void 0===E||null===(t=E.class_master)||void 0===t?void 0:t._id,batch_master:null===E||void 0===E||null===(a=E.batch_master)||void 0===a?void 0:a._id}}).then((e=>{var l,t;(Y((e=>!e)),null!==e&&void 0!==e&&null!==(l=e.data)&&void 0!==l&&l.avail_struct)?(L({msg:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message,open:!0,variant:"error"}),setTimeout((()=>{N()}),[3e3])):(A((e=>({...e,...E}))),k(1))})).catch({})):H(e)}})]}),(0,x.jsx)(g.Z,{eventState:O,eventStateHandler:L})]})}),B&&(0,x.jsx)(p.default,{})]})};var b=t(19056),y=t(43997),Z=t(60924);const S=e=>{var l,t,o;let{structure:i,setStructure:d,setAllInstallment:c,allInstallment:f,setStep:p,openAs:g,onParentClose:j}=e;const{t:S}=(0,m.$G)(),[C,D]=(0,a.useState)(null!==(l=null===i||void 0===i?void 0:i.total_installments)&&void 0!==l?l:""),[w,A]=(0,a.useState)(null!==f&&void 0!==f?f:[]),[k,T]=(0,a.useState)({total_admission_fees:null!==(t=null===i||void 0===i?void 0:i.total_admission_fees)&&void 0!==t?t:"",applicable_fees:null!==(o=null===i||void 0===i?void 0:i.applicable_fees)&&void 0!==o?o:""}),[E,M]=(0,a.useState)("");(0,a.useEffect)((()=>{var e,l,t;D(null!==(e=null===i||void 0===i?void 0:i.total_installments)&&void 0!==e?e:""),A(f),T({total_admission_fees:null!==(l=null===i||void 0===i?void 0:i.total_admission_fees)&&void 0!==l?l:"",applicable_fees:null!==(t=null===i||void 0===i?void 0:i.applicable_fees)&&void 0!==t?t:""})}),[i,f]);const B=(0,a.useCallback)((e=>{D(e);const l=[];for(let t=1;t<=e;t++)l.push({fees:"",dueDate:""});A(l)}),[]);return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(u.Z,{children:(0,x.jsxs)("div",{className:n.Z.modal_container,children:[(0,x.jsx)(_.default,{children:(0,x.jsxs)("div",{className:n.Z.modal_container_outer_header,children:[(0,x.jsx)("div",{className:n.Z.modal_container_header,children:(0,x.jsx)("h6",{children:S("admission_fees")})}),(0,x.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:()=>"EDIT"===g?j():p(0)})]})}),(0,x.jsx)(v.Z,{}),(0,x.jsxs)(_.default,{customStyle:{paddingTop:"0"},children:[(0,x.jsx)(s.Z,{label:S("total_fees"),placeholder:S("enter_one_time_payment"),name:"total_admission_fees",value:null===k||void 0===k?void 0:k.total_admission_fees,type:"tel",onChange:e=>{T((l=>({...l,[e.target.name]:+e.target.value})))}}),(0,x.jsx)(s.Z,{label:S("applicable_fees"),placeholder:S("applicable_fees_placeholder"),name:"applicable_fees",value:null===k||void 0===k?void 0:k.applicable_fees,type:"tel",onChange:e=>{T((l=>({...l,[e.target.name]:+e.target.value}))),C||D((e=>1)),1===C&&A([{fees:+e.target.value,dueDate:""}])},msg:S(E.total_applicable_value)}),(null===k||void 0===k?void 0:k.applicable_fees)>0?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(b.Z,{selectLabel:S("total_installment"),selectedValue:S("select_installment"),defalutValue:C,onClick:B,options:[1,2,3,4,5,6,7,8,9,10,11,12],errorShow:E.installmentCount}),null===w||void 0===w?void 0:w.map(((e,l)=>(0,x.jsxs)("div",{className:n.Z.afsi_container,children:[(0,x.jsx)(s.Z,{label:"".concat(S("installment")," ").concat(l+1),placeholder:S("Amount"),name:"amount".concat(l),value:e.fees,type:"tel",onChange:e=>((e,l)=>{const t=[...w];for(let a=0;a<(null===t||void 0===t?void 0:t.length);a++)a===l&&(t[a].fees=+e.target.value);A(t)})(e,l),errorShow:E["fees".concat(l)],customFormInputContainer:{width:"48%"}}),(0,x.jsx)(Z.Z,{label:S("due_last_date"),placeholder:S("please_select_the_date"),name:"dueDate".concat(l),value:e.dueDate?(0,y.jh)(e.dueDate):"",onChange:e=>((e,l)=>{const t=[...w];for(let a=0;a<(null===t||void 0===t?void 0:t.length);a++)a===l&&(t[a].dueDate=(0,y.O_)(e));A(t)})(e,l),customFormInputContainer:{width:"48%"},errorShow:E["dueDate".concat(l)]})]},l)))]}):null,E.total_install_value&&(0,x.jsx)("p",{style:{marginTop:"1rem",color:"red"},children:S("total_installment_value_is_greater_than_or_equal_to_applicable_fees")}),(0,x.jsx)(h.Z,{label:"set_fee_heads",onAction:()=>{const e=N(C,k,w);let l=!1;for(let t in e){l=!0;break}if(l)M(e);else{if(null!==k&&void 0!==k&&k.applicable_fees){const e=F(w);d((l=>{var t,a;return{...l,total_admission_fees:null!==(t=+k.total_admission_fees)&&void 0!==t?t:0,applicable_fees:null!==(a=+k.applicable_fees)&&void 0!==a?a:0,total_installments:+C,...e}})),c(w)}else{const e=F([{fees:"",dueDate:""}]);d((l=>{var t,a;return{...l,total_admission_fees:null!==(t=+k.total_admission_fees)&&void 0!==t?t:0,applicable_fees:null!==(a=+k.applicable_fees)&&void 0!==a?a:0,total_installments:1,...e}})),c(w)}p(2)}}})]})]})})})},N=(e,l,t)=>{const a={};l.applicable_fees&&(e||(a.installmentCount="installmentCount is required!"));for(let s in l)"applicable_fees"===s||"total_admission_fees"===s||l[s]||(a[s]="".concat(s," is required!"));if(l.applicable_fees)for(let s=0;s<(null===t||void 0===t?void 0:t.length);s++)for(let e in t[s])"fees"===e&&(t[s][e]||(a["".concat(e).concat(s)]="".concat(e," is required!")));l.applicable_fees>l.total_admission_fees&&(a.total_applicable_value="applicable_fees_should_be_equal_to_or_less_than__total_tdmission_fees");let n=0;for(let s=0;s<(null===t||void 0===t?void 0:t.length);s++)n+=t[s].fees;return(n<l.applicable_fees||n>l.applicable_fees)&&(a.total_install_value="* is required!"),a},F=e=>{const l={};for(let t=0;t<(null===e||void 0===e?void 0:e.length);t++)0===t?l.one_installments=e[t]?e[t]:0:1===t?l.two_installments=e[t]?e[t]:0:2===t?l.three_installments=e[t]?e[t]:0:3===t?l.four_installments=e[t]?e[t]:0:4===t?l.five_installments=e[t]?e[t]:0:5===t?l.six_installments=e[t]?e[t]:0:6===t?l.seven_installments=e[t]?e[t]:0:7===t?l.eight_installments=e[t]?e[t]:0:8===t?l.nine_installments=e[t]?e[t]:0:9===t?l.ten_installments=e[t]?e[t]:0:10===t?l.eleven_installments=e[t]?e[t]:0:11===t&&(l.tweleve_installments=e[t]?e[t]:0);return l};var C=t(97800);const D=e=>{var l,t,s,o;let{structure:i,setStep:d,setFeeHeadAmount:c,feeHeadAmount:f,allInstallment:p,fid:j,applicableFeeHead:b,govtFeeHead:Z,setApplicableFeeHead:S,setGovtFeeHead:N,govtFeeHeadAmount:F,setGovtFeeHeadAmount:D,setApplicableFeeHeadId:A,applicableFeeHeadId:k,govtFeeHeadId:T,setGovtFeeHeadId:E}=e;const{t:M}=(0,m.$G)(),[B,Y]=(0,a.useState)({open:!1,msg:"",variant:"error"}),[I,H]=(0,a.useState)(null!==f&&void 0!==f?f:0),[O,L]=(0,a.useState)(null!==b&&void 0!==b?b:[]),[R,G]=(0,a.useState)(null!==Z&&void 0!==Z?Z:[]),[J,P]=(0,a.useState)(null!==F&&void 0!==F?F:0),[q,V]=(0,a.useState)("");(0,a.useEffect)((()=>{if(O){let l=0;for(let t=0;t<(null===O||void 0===O?void 0:O.length);t++){var e;l+=+(null===(e=O[t])||void 0===e?void 0:e.head_amount)}H(l)}}),[O]),(0,a.useEffect)((()=>{if(R){let l=0;for(let t=0;t<(null===R||void 0===R?void 0:R.length);t++){var e;l+=+(null===(e=R[t])||void 0===e?void 0:e.head_amount)}P(l)}}),[R]);const U=()=>{V("")};return(0,x.jsxs)(x.Fragment,{children:["BY_APPLICABLE"===q?(0,x.jsx)(C.Z,{fid:j,onClose:U,setFeeHead:L,setFeeHeadId:A,feeHeadId:k,isSegment:"BY_APPLICABLE"}):"BY_GOVERNMENT"===q?(0,x.jsx)(C.Z,{fid:j,onClose:U,setFeeHead:G,setFeeHeadId:E,feeHeadId:T,isSegment:"BY_GOVERNMENT"}):(0,x.jsx)(u.Z,{children:(0,x.jsxs)("div",{className:n.Z.modal_container,children:[(0,x.jsx)(_.default,{children:(0,x.jsxs)("div",{className:n.Z.modal_container_outer_header,children:[(0,x.jsx)("div",{className:n.Z.modal_container_header,children:(0,x.jsx)("h6",{children:M("fee_heads")})}),(0,x.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:()=>d(1)})]})}),(0,x.jsx)(v.Z,{}),(0,x.jsxs)(_.default,{customStyle:{paddingTop:"0"},children:[(0,x.jsxs)("section",{className:n.Z.fees_head_title,children:[(0,x.jsx)("h6",{children:M("total_fees")}),(0,x.jsxs)("h6",{children:[M("rs_only")," ",null!==(l=null===i||void 0===i?void 0:i.total_admission_fees)&&void 0!==l?l:0]})]}),(0,x.jsxs)("section",{className:n.Z.fees_head_installment,children:[(0,x.jsx)("h6",{style:{color:"#002BBE"},children:M("applicable_fees_only")}),(0,x.jsxs)("h6",{style:{color:"#002BBE"},children:[M("rs_only")," ",null!==(t=null===i||void 0===i?void 0:i.applicable_fees)&&void 0!==t?t:0]})]}),(0,x.jsxs)("section",{className:n.Z.fees_head_installment,children:[(0,x.jsxs)("h6",{style:{color:"#002BBE"},children:[M("govt_scholarship")," "," : "]}),(0,x.jsxs)("h6",{style:{color:"#002BBE"},children:[M("rs_only")," ",(null!==(s=null===i||void 0===i?void 0:i.total_admission_fees)&&void 0!==s?s:0)-(null!==(o=null===i||void 0===i?void 0:i.applicable_fees)&&void 0!==o?o:0)]})]}),null===p||void 0===p?void 0:p.map(((e,l)=>{var t;return(0,x.jsxs)("section",{className:n.Z.fees_head_installment,children:[(0,x.jsxs)("h6",{style:{textTransform:"capitalize"},children:[M(w(l))," ",M("installment"),null!==e&&void 0!==e&&e.dueDate?(0,x.jsxs)("span",{style:{fontWeight:"400",fontSize:"12px",marginLeft:"0.4rem"},children:["(","".concat((0,y.jh)(null===e||void 0===e?void 0:e.dueDate)),")"]}):""]}),(0,x.jsxs)("h6",{children:[M("rs_only")," ",null!==(t=null===e||void 0===e?void 0:e.fees)&&void 0!==t?t:0]})]},l)})),(0,x.jsxs)("section",{className:n.Z.table_container,style:{margin:"0"},children:[(0,x.jsxs)("div",{className:n.Z.table_heading,children:[(0,x.jsx)("h6",{children:M("applicable_fee_heads")}),(0,x.jsx)("h6",{children:M("amount")})]}),(0,x.jsx)("div",{className:n.Z.table_body,children:null===O||void 0===O?void 0:O.map(((e,l)=>(0,x.jsxs)("div",{className:n.Z.table_body_list,children:[(0,x.jsx)("input",{type:"text",value:null===e||void 0===e?void 0:e.head_name,onChange:e=>((e,l)=>{const t=[...O];for(let a=0;a<(null===t||void 0===t?void 0:t.length);a++)a===l&&(t[a].head_name=e.target.value);L(t)})(e,l),className:n.Z.fee_head_name_input}),(0,x.jsx)("input",{type:"number",value:null===e||void 0===e?void 0:e.head_amount,onChange:e=>((e,l)=>{const t=[...O];for(let a=0;a<(null===t||void 0===t?void 0:t.length);a++)a===l&&(t[a].head_amount=+e.target.value);L(t)})(e,l),className:n.Z.fee_head_amount_input})]},l)))}),(0,x.jsxs)("button",{className:n.Z.add_fees_head_btn,title:"Add Fees",onClick:()=>V("BY_APPLICABLE"),style:{cursor:"pointer"},children:[M("add"),(0,x.jsx)("img",{src:"".concat(r.J7,"/plus.svg"),alt:"add"})]}),(0,x.jsx)("div",{className:n.Z.table_body,children:(0,x.jsxs)("div",{className:n.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.5)",borderTopWidth:"0.5px",borderTopStyle:"solid",borderBottom:"none"},children:[(0,x.jsx)("h6",{className:n.Z.fees_total,children:M("subtotal")}),(0,x.jsx)("h6",{className:n.Z.fees_total,children:I})]})})]}),(0,x.jsxs)("section",{className:n.Z.table_container,style:{margin:"0"},children:[(0,x.jsxs)("div",{className:n.Z.table_heading,children:[(0,x.jsx)("h6",{children:M("govt_fee_heads")}),(0,x.jsx)("h6",{children:M("amount")})]}),(0,x.jsx)("div",{className:n.Z.table_body,children:null===R||void 0===R?void 0:R.map(((e,l)=>(0,x.jsxs)("div",{className:n.Z.table_body_list,children:[(0,x.jsx)("input",{type:"text",value:null===e||void 0===e?void 0:e.head_name,onChange:e=>((e,l)=>{const t=[...R];for(let a=0;a<(null===t||void 0===t?void 0:t.length);a++)a===l&&(t[a].head_name=e.target.value);G(t)})(e,l),className:n.Z.fee_head_name_input}),(0,x.jsx)("input",{type:"number",value:null===e||void 0===e?void 0:e.head_amount,onChange:e=>((e,l)=>{const t=[...R];for(let a=0;a<(null===t||void 0===t?void 0:t.length);a++)a===l&&(t[a].head_amount=+e.target.value);G(t)})(e,l),className:n.Z.fee_head_amount_input})]},l)))}),(0,x.jsxs)("button",{className:n.Z.add_fees_head_btn,title:"Add Fees",onClick:()=>V("BY_GOVERNMENT"),style:{cursor:"pointer"},children:[M("add"),(0,x.jsx)("img",{src:"".concat(r.J7,"/plus.svg"),alt:"add"})]}),(0,x.jsx)("div",{className:n.Z.table_body,children:(0,x.jsxs)("div",{className:n.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.5)",borderTopWidth:"0.5px",borderTopStyle:"solid",borderBottomColor:"rgba(18, 18, 18, 0.8)",borderBottomWidth:"2px"},children:[(0,x.jsx)("h6",{className:n.Z.fees_total,children:M("subtotal")}),(0,x.jsx)("h6",{className:n.Z.fees_total,children:J})]})})]}),(0,x.jsx)(h.Z,{label:"preview",onAction:()=>{var e,l;let t=(null!==(e=null===i||void 0===i?void 0:i.total_admission_fees)&&void 0!==e?e:0)-(null!==(l=null===i||void 0===i?void 0:i.applicable_fees)&&void 0!==l?l:0);I>(null===i||void 0===i?void 0:i.applicable_fees)?Y({msg:"You can't enter amount greater than applicable fees",open:!0,variant:"error"}):J>t?Y({msg:"You can't enter amount greater than govt./scholarship fees",open:!0,variant:"error"}):(S(O),N(R),c(I),D(J),d(3))}})]})]})}),(0,x.jsx)(g.Z,{eventState:B,eventStateHandler:Y})]})},w=e=>0===e?"first":1===e?"second":2===e?"third":3===e?"foutrh":4===e?"fivth":5===e?"sixth":6===e?"seventh":7===e?"eighth":8===e?"ninth":9===e?"ten":10===e?"eleven":"tweleve";var A=t(8959),k=t(93638);const T=e=>{var l,t,a,s,o,i,d;let{onClose:c,structure:h,applicableFeeHead:f,govtFeeHead:p,feeHeadAmount:g,govtFeeHeadAmount:j,allInstallment:b,openAs:Z,onCreate:S}=e;const{t:N}=(0,m.$G)();return(0,x.jsx)(u.Z,{children:(0,x.jsxs)("div",{className:n.Z.modal_container,children:[(0,x.jsx)(_.default,{children:(0,x.jsx)("div",{className:n.Z.modal_container_outer_header,children:(0,x.jsxs)("div",{className:n.Z.modal_container_header,children:[(0,x.jsx)("img",{src:"".concat(r.J7,"/back-arrow.svg"),alt:"close icon",onClick:c}),(0,x.jsx)("h6",{children:N("fee_structure_preview")})]})})}),(0,x.jsx)(v.Z,{}),(0,x.jsxs)(_.default,{customStyle:{paddingTop:"0"},children:[(0,x.jsx)(A.Z,{label:"".concat(N("fee_structure_name"),": "),value:null===h||void 0===h?void 0:h.structure_name}),(0,x.jsx)(A.Z,{label:"".concat(N("batch"),": "),value:null===h||void 0===h||null===(l=h.batch_master)||void 0===l?void 0:l.batchName}),(0,x.jsx)(A.Z,{label:N("fees_category_name"),value:null===h||void 0===h||null===(t=h.category_master)||void 0===t?void 0:t.category_name}),(0,x.jsx)(A.Z,{label:N("standard_master"),value:null===h||void 0===h||null===(a=h.class_master)||void 0===a?void 0:a.className}),(0,x.jsxs)("section",{className:n.Z.fees_head_title,children:[(0,x.jsx)("h6",{children:N("total_fees")}),(0,x.jsxs)("h6",{children:[N("rs_only")," ",null!==(s=null===h||void 0===h?void 0:h.total_admission_fees)&&void 0!==s?s:0]})]}),(0,x.jsxs)("section",{className:n.Z.fees_head_installment,children:[(0,x.jsx)("h6",{style:{color:"#002BBE"},children:N("applicable_fees_only")}),(0,x.jsxs)("h6",{style:{color:"#002BBE"},children:[N("rs_only")," ",null!==(o=null===h||void 0===h?void 0:h.applicable_fees)&&void 0!==o?o:0]})]}),(0,x.jsxs)("section",{className:n.Z.fees_head_installment,children:[(0,x.jsxs)("h6",{style:{color:"#002BBE"},children:[N("govt_scholarship")," "," : "]}),(0,x.jsxs)("h6",{style:{color:"#002BBE"},children:[N("rs_only")," ",(null!==(i=null===h||void 0===h?void 0:h.total_admission_fees)&&void 0!==i?i:0)-(null!==(d=null===h||void 0===h?void 0:h.applicable_fees)&&void 0!==d?d:0)]})]}),null===b||void 0===b?void 0:b.map(((e,l)=>{var t;return(0,x.jsxs)("section",{className:n.Z.fees_head_installment,children:[(0,x.jsxs)("h6",{style:{textTransform:"capitalize"},children:[N(E(l))," ",N("installment"),null!==e&&void 0!==e&&e.dueDate?(0,x.jsxs)("span",{style:{fontWeight:"400",fontSize:"12px",marginLeft:"0.4rem"},children:["(","".concat((0,y.jh)(null===e||void 0===e?void 0:e.dueDate)),")"]}):""]}),(0,x.jsxs)("h6",{children:[N("rs_only")," ",null!==(t=null===e||void 0===e?void 0:e.fees)&&void 0!==t?t:0]})]},l)})),(0,x.jsxs)("section",{className:n.Z.table_container,style:{margin:"0"},children:[(0,x.jsxs)("div",{className:n.Z.table_heading,children:[(0,x.jsx)("h6",{children:N("applicable_fee_heads")}),(0,x.jsx)("h6",{children:N("amount")})]}),(0,x.jsx)("div",{className:n.Z.table_body,children:null===f||void 0===f?void 0:f.map(((e,l)=>(0,x.jsxs)("div",{className:n.Z.table_body_list,children:[(0,x.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_name}),(0,x.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_amount})]},l)))}),(0,x.jsx)("div",{className:n.Z.table_body,children:(0,x.jsxs)("div",{className:n.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.8)",borderTopWidth:"2px",borderTopStyle:"solid",borderBottom:"none"},children:[(0,x.jsx)("h6",{className:n.Z.fees_total,children:N("subtotal")}),(0,x.jsx)("h6",{className:n.Z.fees_total,children:null!==g&&void 0!==g?g:0})]})})]}),j?(0,x.jsxs)("section",{className:n.Z.table_container,style:{margin:"0"},children:[(0,x.jsxs)("div",{className:n.Z.table_heading,children:[(0,x.jsx)("h6",{children:N("govt_fee_heads")}),(0,x.jsx)("h6",{children:N("amount")})]}),(0,x.jsx)("div",{className:n.Z.table_body,children:null===p||void 0===p?void 0:p.map(((e,l)=>(0,x.jsxs)("div",{className:n.Z.table_body_list,children:[(0,x.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_name}),(0,x.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_amount})]},l)))}),(0,x.jsx)("div",{className:n.Z.table_body,children:(0,x.jsxs)("div",{className:n.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.8)",borderTopWidth:"2px",borderTopStyle:"solid",borderBottomColor:"rgba(18, 18, 18, 0.8)",borderBottomWidth:"2px"},children:[(0,x.jsx)("h6",{className:n.Z.fees_total,children:N("subtotal")}),(0,x.jsx)("h6",{className:n.Z.fees_total,children:null!==j&&void 0!==j?j:0})]})})]}):null,(0,x.jsx)(k.Z,{label:"EDIT"===Z?"update_fees_structure_as":"create_fees_structure",onAction:S})]})]})})},E=e=>0===e?"first":1===e?"second":2===e?"third":3===e?"foutrh":4===e?"fivth":5===e?"sixth":6===e?"seventh":7===e?"eighth":8===e?"ninth":9===e?"ten":10===e?"eleven":"tweleve";var M=t(26192);const B=e=>{let{onEditActionAs:l,onClose:t,editType:a,setEditType:s}=e;const{t:o}=(0,m.$G)();return(0,x.jsx)(u.Z,{children:(0,x.jsxs)("div",{className:n.Z.modal_container,children:[(0,x.jsx)(_.default,{children:(0,x.jsx)("div",{className:n.Z.modal_container_outer_header,children:(0,x.jsxs)("div",{className:n.Z.modal_container_header,children:[(0,x.jsx)("img",{src:"".concat(r.J7,"/back-arrow.svg"),alt:"close icon",onClick:t}),(0,x.jsx)("h6",{children:o("edit_fee_structure_type")})]})})}),(0,x.jsx)(v.Z,{}),(0,x.jsxs)(_.default,{customStyle:{paddingTop:"0"},children:[(0,x.jsxs)("div",{className:"RETRO"===a?"".concat(M.Z.application_card," ").concat(M.Z.application_card_active):M.Z.application_card,onClick:()=>s("RETRO"),children:[(0,x.jsxs)("div",{className:M.Z.application_card_title,children:[(0,x.jsx)("img",{src:"".concat(r.J7,"/category.svg"),alt:"staff profile avatar"}),(0,x.jsx)("h6",{children:o("retrospective_edit")})]}),(0,x.jsxs)("section",{className:M.Z.application_card_info,children:[(0,x.jsx)("div",{children:o("retrospective_edit_descrtiption")}),(0,x.jsx)("h6",{children:o("retrospective_edit_note")})]})]}),(0,x.jsxs)("div",{className:"PROSP"===a?"".concat(M.Z.application_card," ").concat(M.Z.application_card_active):M.Z.application_card,onClick:()=>s("PROSP"),children:[(0,x.jsxs)("div",{className:M.Z.application_card_title,children:[(0,x.jsx)("img",{src:"".concat(r.J7,"/category.svg"),alt:"staff profile avatar"}),(0,x.jsx)("h6",{children:o("prospective_edit")})]}),(0,x.jsxs)("section",{className:M.Z.application_card_info,children:[(0,x.jsx)("div",{children:o("prospective_edit_description")}),(0,x.jsx)("h6",{children:o("prospective_edit_note")})]})]}),(0,x.jsx)(k.Z,{label:"update_fees_structure",onAction:l})]})]})})},Y=e=>{let{onClose:l,did:t,fid:n,instituteId:s,openAs:o,onEdit:i,openStructureMenu:d,onRefetch:r,isRefetch:_}=e;const[u,v]=(0,a.useState)(0),[m,h]=(0,a.useState)({structure_name:"",category_master:"",class_master:"",batch_master:"",total_admission_fees:"",applicable_fees:"",total_installments:""}),[f,g]=(0,a.useState)([]),[b,y]=(0,a.useState)(0),[Z]=(0,c.y0)(),[N,F]=(0,a.useState)(!1),[C,w]=(0,a.useState)([]),[A,k]=(0,a.useState)([]),[E,M]=(0,a.useState)(0),[Y,H]=(0,a.useState)([]),[O,L]=(0,a.useState)([]),[R,G]=(0,a.useState)("");(0,a.useEffect)((()=>{if("EDIT"===o){v(1),h((e=>{var l,t,a,n,s,o,i;return{...e,structure_name:null!==(l=null===d||void 0===d?void 0:d.structure_name)&&void 0!==l?l:"",category_master:null!==(t=null===d||void 0===d?void 0:d.category_master)&&void 0!==t?t:"",class_master:null!==(a=null===d||void 0===d?void 0:d.class_master)&&void 0!==a?a:"",batch_master:null!==(n=null===d||void 0===d?void 0:d.batch_master)&&void 0!==n?n:"",total_admission_fees:null!==(s=null===d||void 0===d?void 0:d.total_admission_fees)&&void 0!==s?s:"",applicable_fees:null!==(o=null===d||void 0===d?void 0:d.applicable_fees)&&void 0!==o?o:"",total_installments:null!==(i=null===d||void 0===d?void 0:d.total_installments)&&void 0!==i?i:""}}));let e=[],l=0;for(let s of null===d||void 0===d?void 0:d.applicable_fees_heads){let t={created_at:null===s||void 0===s?void 0:s.created_at,head_amount:null===s||void 0===s?void 0:s.head_amount,head_name:null===s||void 0===s?void 0:s.head_name,master:null===s||void 0===s?void 0:s.master,_id:null===s||void 0===s?void 0:s._id};e.push(t),l+=null===s||void 0===s?void 0:s.head_amount}w(e),y(l);let t=[],a=0;for(let s of null===d||void 0===d?void 0:d.government_fees_heads){let e={created_at:null===s||void 0===s?void 0:s.created_at,head_amount:null===s||void 0===s?void 0:s.head_amount,head_name:null===s||void 0===s?void 0:s.head_name,master:null===s||void 0===s?void 0:s.master,_id:null===s||void 0===s?void 0:s._id};t.push(e),l+=null===s||void 0===s?void 0:s.head_amount}k(t),M(a);let n=I(d);g(n)}}),[d]);const J=e=>{let a=[];if((null===C||void 0===C?void 0:C.length)>0)for(let l of C)a.push({...l,head_type:"BY_APPLICABLE"});if((null===A||void 0===A?void 0:A.length)>0)for(let l of A)a.push({...l,head_type:"BY_GOVERNMENT"});var s,d,c,u,v,h;"EDIT"===o?i({...m,structure_name:null===m||void 0===m?void 0:m.structure_name,category_master:null===m||void 0===m||null===(s=m.category_master)||void 0===s?void 0:s._id,class_master:null===m||void 0===m||null===(d=m.class_master)||void 0===d?void 0:d._id,batch_master:null===m||void 0===m||null===(c=m.batch_master)||void 0===c?void 0:c._id,total_admission_fees:null!==m&&void 0!==m&&m.total_admission_fees?null===m||void 0===m?void 0:m.total_admission_fees:0,applicable_fees:null!==m&&void 0!==m&&m.applicable_fees?null===m||void 0===m?void 0:m.applicable_fees:0,total_installments:null!==m&&void 0!==m&&m.total_installments?null===m||void 0===m?void 0:m.total_installments:0,heads:a},e):n&&t&&(F((e=>!e)),Z({fid:n,flow:"Finance_Manager",createFeesStructure:{...m,structure_name:null===m||void 0===m?void 0:m.structure_name,category_master:null===m||void 0===m||null===(u=m.category_master)||void 0===u?void 0:u._id,class_master:null===m||void 0===m||null===(v=m.class_master)||void 0===v?void 0:v._id,batch_master:null===m||void 0===m||null===(h=m.batch_master)||void 0===h?void 0:h._id,total_admission_fees:null!==m&&void 0!==m&&m.total_admission_fees?null===m||void 0===m?void 0:m.total_admission_fees:0,applicable_fees:null!==m&&void 0!==m&&m.applicable_fees?null===m||void 0===m?void 0:m.applicable_fees:0,total_installments:null!==m&&void 0!==m&&m.total_installments?null===m||void 0===m?void 0:m.total_installments:0,heads:a,did:t}}).then((()=>{_&&r(),F((e=>!e)),l()})).catch((()=>{F((e=>!e))})))};return(0,x.jsxs)(x.Fragment,{children:[0===u?(0,x.jsx)(j,{onClose:l,did:t,fid:n,instituteId:s,structure:m,setStructure:h,setStep:v}):1===u?(0,x.jsx)(S,{structure:m,setAllInstallment:g,setStructure:h,setStep:v,allInstallment:f,openAs:o,onParentClose:l}):2===u?(0,x.jsx)(D,{structure:m,setStep:v,setFeeHeadAmount:y,feeHeadAmount:b,allInstallment:f,fid:n,applicableFeeHead:C,govtFeeHead:A,setApplicableFeeHead:w,setGovtFeeHead:k,setGovtFeeHeadAmount:M,govtFeeHeadAmount:E,setApplicableFeeHeadId:H,applicableFeeHeadId:Y,govtFeeHeadId:O,setGovtFeeHeadId:L}):3===u?(0,x.jsx)(T,{structure:m,applicableFeeHead:C,govtFeeHead:A,feeHeadAmount:b,govtFeeHeadAmount:E,allInstallment:f,setStep:v,onClose:()=>v(2),onCreate:"EDIT"===o?()=>{v(4)}:J,openAs:o}):4===u?(0,x.jsx)(B,{onEditActionAs:e=>{e&&J(e)},onClose:()=>v(3),setEditType:G,editType:R}):null,N&&(0,x.jsx)(p.default,{})]})},I=e=>{var l,t,a,n,s,o,i,d,c,r,_,u;let v=[];var m,h,f,p,g,x,j,b,y,Z,S,N,F,C,D,w,A,k,T,E,M,B,Y,I;null!==e&&void 0!==e&&null!==(l=e.one_installments)&&void 0!==l&&l.fees&&v.push({fees:null===e||void 0===e||null===(m=e.one_installments)||void 0===m?void 0:m.fees,dueDate:null===e||void 0===e||null===(h=e.one_installments)||void 0===h?void 0:h.dueDate});null!==e&&void 0!==e&&null!==(t=e.two_installments)&&void 0!==t&&t.fees&&v.push({fees:null===e||void 0===e||null===(f=e.two_installments)||void 0===f?void 0:f.fees,dueDate:null===e||void 0===e||null===(p=e.two_installments)||void 0===p?void 0:p.dueDate});null!==e&&void 0!==e&&null!==(a=e.three_installments)&&void 0!==a&&a.fees&&v.push({fees:null===e||void 0===e||null===(g=e.three_installments)||void 0===g?void 0:g.fees,dueDate:null===e||void 0===e||null===(x=e.three_installments)||void 0===x?void 0:x.dueDate});null!==e&&void 0!==e&&null!==(n=e.four_installments)&&void 0!==n&&n.fees&&v.push({fees:null===e||void 0===e||null===(j=e.four_installments)||void 0===j?void 0:j.fees,dueDate:null===e||void 0===e||null===(b=e.four_installments)||void 0===b?void 0:b.dueDate});null!==e&&void 0!==e&&null!==(s=e.five_installments)&&void 0!==s&&s.fees&&v.push({fees:null===e||void 0===e||null===(y=e.five_installments)||void 0===y?void 0:y.fees,dueDate:null===e||void 0===e||null===(Z=e.five_installments)||void 0===Z?void 0:Z.dueDate});null!==e&&void 0!==e&&null!==(o=e.six_installments)&&void 0!==o&&o.fees&&v.push({fees:null===e||void 0===e||null===(S=e.six_installments)||void 0===S?void 0:S.fees,dueDate:null===e||void 0===e||null===(N=e.six_installments)||void 0===N?void 0:N.dueDate});null!==e&&void 0!==e&&null!==(i=e.seven_installments)&&void 0!==i&&i.fees&&v.push({fees:null===e||void 0===e||null===(F=e.seven_installments)||void 0===F?void 0:F.fees,dueDate:null===e||void 0===e||null===(C=e.seven_installments)||void 0===C?void 0:C.dueDate});null!==e&&void 0!==e&&null!==(d=e.eight_installments)&&void 0!==d&&d.fees&&v.push({fees:null===e||void 0===e||null===(D=e.eight_installments)||void 0===D?void 0:D.fees,dueDate:null===e||void 0===e||null===(w=e.eight_installments)||void 0===w?void 0:w.dueDate});null!==e&&void 0!==e&&null!==(c=e.nine_installments)&&void 0!==c&&c.fees&&v.push({fees:null===e||void 0===e||null===(A=e.nine_installments)||void 0===A?void 0:A.fees,dueDate:null===e||void 0===e||null===(k=e.nine_installments)||void 0===k?void 0:k.dueDate});null!==e&&void 0!==e&&null!==(r=e.ten_installments)&&void 0!==r&&r.fees&&v.push({fees:null===e||void 0===e||null===(T=e.ten_installments)||void 0===T?void 0:T.fees,dueDate:null===e||void 0===e||null===(E=e.ten_installments)||void 0===E?void 0:E.dueDate});null!==e&&void 0!==e&&null!==(_=e.eleven_installments)&&void 0!==_&&_.fees&&v.push({fees:null===e||void 0===e||null===(M=e.eleven_installments)||void 0===M?void 0:M.fees,dueDate:null===e||void 0===e||null===(B=e.eleven_installments)||void 0===B?void 0:B.dueDate});null!==e&&void 0!==e&&null!==(u=e.tweleve_installments)&&void 0!==u&&u.fees&&v.push({fees:null===e||void 0===e||null===(Y=e.tweleve_installments)||void 0===Y?void 0:Y.fees,dueDate:null===e||void 0===e||null===(I=e.tweleve_installments)||void 0===I?void 0:I.dueDate});return v}},76390:(e,l,t)=>{t.d(l,{Z:()=>y});var a=t(6758),n=t(98684),s=t(90904),o=t(8959),i=t(38857),d=t(39230),c=t(4007),r=t(21348),_=t(72791),u=t(55336),v=t(89064),m=t(90802),h=t(61055),f=t(93638),p=t(99183),g=t(16925),x=t(80184);const j=e=>{let{fid:l,instituteId:t,did:o,openMenu:c,onClose:j,flowAs:b,onCloseParent:y,onRefetch:Z}=e;const{t:S}=(0,d.$G)(),[N,F]=(0,_.useState)(!1),[C,D]=(0,_.useState)(""),[w,A]=(0,_.useState)({query:""}),[k]=(0,a.s2)(),[T]=(0,a.nr)(),[E]=(0,a.oK)(),[M,B]=(0,_.useState)(!1),[Y,I]=(0,_.useState)(!1),H=()=>{B((e=>!e))};return(0,x.jsxs)(x.Fragment,{children:[Y?(0,x.jsx)(i.Z,{onClose:()=>I(!1),children:(0,x.jsxs)("div",{className:g.Z.modal_container,children:[(0,x.jsx)(r.default,{children:(0,x.jsxs)("div",{className:g.Z.modal_container_outer_header,children:[(0,x.jsx)("div",{className:g.Z.modal_container_header,children:(0,x.jsx)("h6",{children:S("are_your_sure_to_delete_fee_structure")})}),(0,x.jsx)("img",{src:"".concat(n.J7,"/close.svg"),alt:"close icon",onClick:j})]})}),(0,x.jsx)(s.Z,{}),(0,x.jsxs)(r.default,{customStyle:{paddingTop:"0"},children:[(0,x.jsx)(h.Z,{label:S("type_confirm_to_continue"),placeholder:S("type_confirm_to_continue"),name:"query",value:w.query,type:"text",onChange:e=>{A((l=>({...l,[e.target.name]:e.target.value})))},errorShow:C.query}),(0,x.jsx)(f.Z,{label:"confirm",onAction:()=>{let e=(0,p.l)(w);(0,p.x)(e)?"Confirm"===w.query&&null!==c&&void 0!==c&&c._id&&b&&(F((e=>!e)),k({flow:"Finance_Manager",sid:null===c||void 0===c?void 0:c._id}).then((()=>{Z(),y(),F((e=>!e))})).catch({})):D(e)}})]})]})}):M?(0,x.jsx)(m.Z,{onClose:H,fid:l,openAs:"EDIT",openStructureMenu:c,onEdit:(e,l)=>{null!==c&&void 0!==c&&c._id&&(F((e=>!e)),B(!1),"RETRO"===l?E({sid:null===c||void 0===c?void 0:c._id,flow:b,updateStructure:{...e,department:o}}).then((()=>{j(),F((e=>!e))})).catch({}):T({sid:null===c||void 0===c?void 0:c._id,flow:"Finance_Manager",updateStructure:e}).then((()=>{j(),F((e=>!e))})).catch({}))},did:o,instituteId:t}):(0,x.jsxs)(v.Z,{onClose:j,disabled:N,children:[(0,x.jsx)("h6",{onClick:H,children:S("edit")}),(0,x.jsx)("h6",{onClick:()=>I(!0),children:S("delete")})]}),N&&(0,x.jsx)(u.default,{})]})};var b=t(43997);const y=e=>{var l,t,v,m,h,f,p,g,b,y,S,N,F,C,D,w,A,k,T,E,M,B,Y,I,H,O,L,R,G,J,P,q,V,U,z,$,W,K,X,Q,ee,le,te,ae,ne,se,oe,ie,de,ce,re,_e,ue,ve,me,he,fe,pe,ge,xe,je,be,ye,Ze,Se,Ne,Fe,Ce,De,we,Ae,ke,Te,Ee,Me,Be,Ye,Ie,He,Oe,Le,Re,Ge,Je,Pe,qe,Ve,Ue,ze,$e,We,Ke,Xe,Qe,el,ll,tl,al;let{structureId:nl,onClose:sl,instituteId:ol,fid:il,did:dl,onRefetch:cl,isView:rl}=e;const{t:_l}=(0,d.$G)(),[ul,vl]=(0,_.useState)(""),[ml,hl]=(0,_.useState)(!1),{financeFeeStructureDetail:fl,financeFeeStructureDetailRefetch:pl}=(0,a.eY)({fsid:nl,skip:!nl}),[gl]=(0,a.D8)();let xl=0,jl=0;var bl,yl,Zl,Sl;(null===fl||void 0===fl||null===(l=fl.structure)||void 0===l||null===(t=l.applicable_fees_heads)||void 0===t?void 0:t.length)>0&&(null===fl||void 0===fl||null===(bl=fl.structure)||void 0===bl||null===(yl=bl.applicable_fees_heads)||void 0===yl||yl.map((e=>xl+=null===e||void 0===e?void 0:e.head_amount)));(null===fl||void 0===fl||null===(v=fl.structure)||void 0===v||null===(m=v.government_fees_heads)||void 0===m?void 0:m.length)>0&&(null===fl||void 0===fl||null===(Zl=fl.structure)||void 0===Zl||null===(Sl=Zl.government_fees_heads)||void 0===Sl||Sl.map((e=>jl+=null===e||void 0===e?void 0:e.head_amount)));const Nl=(e,l)=>{nl&&null!==e&&void 0!==e&&e._id&&(hl((e=>!e)),gl({fsid:nl,bodyParameter:{flow:l,fhid:null===e||void 0===e?void 0:e._id,status:!(null!==e&&void 0!==e&&e.is_society)}}).then((()=>{pl(),hl((e=>!e))})).catch({}))};return(0,x.jsxs)(x.Fragment,{children:[ml&&(0,x.jsx)(u.default,{}),ul?(0,x.jsx)(j,{onClose:()=>{vl("")},openMenu:ul,instituteId:ol,fid:il,did:dl,flowAs:"Finance_Manager",onCloseParent:sl,onRefetch:cl}):(0,x.jsx)(i.Z,{onClose:sl,children:(0,x.jsxs)("div",{className:c.Z.modal_container,children:[(0,x.jsx)(r.default,{children:(0,x.jsxs)("div",{className:c.Z.modal_container_outer_header,children:[(0,x.jsx)("div",{className:c.Z.modal_container_header,children:(0,x.jsx)("h6",{children:_l("fee_structure")})}),"STUDENT"===rl?null:(0,x.jsx)("img",{src:"".concat(n.J7,"/edit.svg"),alt:"close icon",onClick:()=>{null!==fl&&void 0!==fl&&fl.structure&&vl((()=>null===fl||void 0===fl?void 0:fl.structure))}})]})}),(0,x.jsx)(s.Z,{}),(0,x.jsxs)(r.default,{customStyle:{paddingTop:"0"},children:[(0,x.jsx)(o.Z,{label:"".concat(_l("fee_structure_name"),": "),value:null!==(h=null===fl||void 0===fl||null===(f=fl.structure)||void 0===f?void 0:f.unique_structure_name)&&void 0!==h?h:""}),(0,x.jsx)(o.Z,{label:"".concat(_l("batch"),": "),value:null===fl||void 0===fl||null===(p=fl.structure)||void 0===p||null===(g=p.batch_master)||void 0===g?void 0:g.batchName}),(0,x.jsx)(o.Z,{label:"".concat(_l("fees_category_name")),value:null!==(b=null===fl||void 0===fl||null===(y=fl.structure)||void 0===y||null===(S=y.category_master)||void 0===S?void 0:S.category_name)&&void 0!==b?b:""}),(0,x.jsx)(o.Z,{label:"".concat(_l("standard_master")),value:null!==(N=null===fl||void 0===fl||null===(F=fl.structure)||void 0===F||null===(C=F.class_master)||void 0===C?void 0:C.className)&&void 0!==N?N:""}),(0,x.jsxs)("section",{className:c.Z.fees_head_title,children:[(0,x.jsx)("h6",{children:_l("total_fees")}),(0,x.jsxs)("h6",{children:[_l("rs_only")," ",null!==(D=null===fl||void 0===fl||null===(w=fl.structure)||void 0===w?void 0:w.total_admission_fees)&&void 0!==D?D:0]})]}),(0,x.jsxs)("section",{className:c.Z.fees_head_installment,children:[(0,x.jsxs)("h6",{style:{color:"#002BBE"},children:[_l("applicable_fees_only_payable")," "," : "]}),(0,x.jsxs)("h6",{style:{color:"#002BBE"},children:[_l("rs_only")," ",null!==(A=null===fl||void 0===fl||null===(k=fl.structure)||void 0===k?void 0:k.applicable_fees)&&void 0!==A?A:0]})]}),(0,x.jsxs)("section",{className:c.Z.fees_head_installment,children:[(0,x.jsxs)("h6",{style:{color:"#002BBE"},children:[_l("govt_scholarship")," "," : "]}),(0,x.jsxs)("h6",{style:{color:"#002BBE"},children:[_l("rs_only")," ",(null!==(T=null===fl||void 0===fl||null===(E=fl.structure)||void 0===E?void 0:E.total_admission_fees)&&void 0!==T?T:0)-(null!==(M=null===fl||void 0===fl||null===(B=fl.structure)||void 0===B?void 0:B.applicable_fees)&&void 0!==M?M:0)]})]}),null!==fl&&void 0!==fl&&null!==(Y=fl.structure)&&void 0!==Y&&null!==(I=Y.one_installments)&&void 0!==I&&I.fees?(0,x.jsx)(Z,{dueDate:null===fl||void 0===fl||null===(H=fl.structure)||void 0===H||null===(O=H.one_installments)||void 0===O?void 0:O.dueDate,label:"first",amount:null===fl||void 0===fl||null===(L=fl.structure)||void 0===L||null===(R=L.one_installments)||void 0===R?void 0:R.fees}):null,null!==fl&&void 0!==fl&&null!==(G=fl.structure)&&void 0!==G&&null!==(J=G.two_installments)&&void 0!==J&&J.fees?(0,x.jsx)(Z,{dueDate:null===fl||void 0===fl||null===(P=fl.structure)||void 0===P||null===(q=P.two_installments)||void 0===q?void 0:q.dueDate,label:"second",amount:null===fl||void 0===fl||null===(V=fl.structure)||void 0===V||null===(U=V.two_installments)||void 0===U?void 0:U.fees}):null,null!==fl&&void 0!==fl&&null!==(z=fl.structure)&&void 0!==z&&null!==($=z.three_installments)&&void 0!==$&&$.fees?(0,x.jsx)(Z,{dueDate:null===fl||void 0===fl||null===(W=fl.structure)||void 0===W||null===(K=W.three_installments)||void 0===K?void 0:K.dueDate,label:"third",amount:null===fl||void 0===fl||null===(X=fl.structure)||void 0===X||null===(Q=X.three_installments)||void 0===Q?void 0:Q.fees}):null,null!==fl&&void 0!==fl&&null!==(ee=fl.structure)&&void 0!==ee&&null!==(le=ee.four_installments)&&void 0!==le&&le.fees?(0,x.jsx)(Z,{dueDate:null===fl||void 0===fl||null===(te=fl.structure)||void 0===te||null===(ae=te.four_installments)||void 0===ae?void 0:ae.dueDate,label:"fourth",amount:null===fl||void 0===fl||null===(ne=fl.structure)||void 0===ne||null===(se=ne.four_installments)||void 0===se?void 0:se.fees}):null,null!==fl&&void 0!==fl&&null!==(oe=fl.structure)&&void 0!==oe&&null!==(ie=oe.five_installments)&&void 0!==ie&&ie.fees?(0,x.jsx)(Z,{dueDate:null===fl||void 0===fl||null===(de=fl.structure)||void 0===de||null===(ce=de.five_installments)||void 0===ce?void 0:ce.dueDate,label:"fifth",amount:null===fl||void 0===fl||null===(re=fl.structure)||void 0===re||null===(_e=re.five_installments)||void 0===_e?void 0:_e.fees}):null,null!==fl&&void 0!==fl&&null!==(ue=fl.structure)&&void 0!==ue&&null!==(ve=ue.six_installments)&&void 0!==ve&&ve.fees?(0,x.jsx)(Z,{dueDate:null===fl||void 0===fl||null===(me=fl.structure)||void 0===me||null===(he=me.six_installments)||void 0===he?void 0:he.dueDate,label:"sixth",amount:null===fl||void 0===fl||null===(fe=fl.structure)||void 0===fe||null===(pe=fe.six_installments)||void 0===pe?void 0:pe.fees}):null,null!==fl&&void 0!==fl&&null!==(ge=fl.structure)&&void 0!==ge&&null!==(xe=ge.seven_installments)&&void 0!==xe&&xe.fees?(0,x.jsx)(Z,{dueDate:null===fl||void 0===fl||null===(je=fl.structure)||void 0===je||null===(be=je.seven_installments)||void 0===be?void 0:be.dueDate,label:"seventh",amount:null===fl||void 0===fl||null===(ye=fl.structure)||void 0===ye||null===(Ze=ye.seven_installments)||void 0===Ze?void 0:Ze.fees}):null,null!==fl&&void 0!==fl&&null!==(Se=fl.structure)&&void 0!==Se&&null!==(Ne=Se.eight_installments)&&void 0!==Ne&&Ne.fees?(0,x.jsx)(Z,{dueDate:null===fl||void 0===fl||null===(Fe=fl.structure)||void 0===Fe||null===(Ce=Fe.eight_installments)||void 0===Ce?void 0:Ce.dueDate,label:"eight",amount:null===fl||void 0===fl||null===(De=fl.structure)||void 0===De||null===(we=De.eight_installments)||void 0===we?void 0:we.fees}):null,null!==fl&&void 0!==fl&&null!==(Ae=fl.structure)&&void 0!==Ae&&null!==(ke=Ae.nine_installments)&&void 0!==ke&&ke.fees?(0,x.jsx)(Z,{dueDate:null===fl||void 0===fl||null===(Te=fl.structure)||void 0===Te||null===(Ee=Te.nine_installments)||void 0===Ee?void 0:Ee.dueDate,label:"ninth",amount:null===fl||void 0===fl||null===(Me=fl.structure)||void 0===Me||null===(Be=Me.nine_installments)||void 0===Be?void 0:Be.fees}):null,null!==fl&&void 0!==fl&&null!==(Ye=fl.structure)&&void 0!==Ye&&null!==(Ie=Ye.ten_installments)&&void 0!==Ie&&Ie.fees?(0,x.jsx)(Z,{dueDate:null===fl||void 0===fl||null===(He=fl.structure)||void 0===He||null===(Oe=He.ten_installments)||void 0===Oe?void 0:Oe.dueDate,label:"ten",amount:null===fl||void 0===fl||null===(Le=fl.structure)||void 0===Le||null===(Re=Le.ten_installments)||void 0===Re?void 0:Re.fees}):null,null!==fl&&void 0!==fl&&null!==(Ge=fl.structure)&&void 0!==Ge&&null!==(Je=Ge.eleven_installments)&&void 0!==Je&&Je.fees?(0,x.jsx)(Z,{dueDate:null===fl||void 0===fl||null===(Pe=fl.structure)||void 0===Pe||null===(qe=Pe.eleven_installments)||void 0===qe?void 0:qe.dueDate,label:"eleventh",amount:null===fl||void 0===fl||null===(Ve=fl.structure)||void 0===Ve||null===(Ue=Ve.eleven_installments)||void 0===Ue?void 0:Ue.fees}):null,null!==fl&&void 0!==fl&&null!==(ze=fl.structure)&&void 0!==ze&&null!==($e=ze.tweleve_installments)&&void 0!==$e&&$e.fees?(0,x.jsx)(Z,{dueDate:null===fl||void 0===fl||null===(We=fl.structure)||void 0===We||null===(Ke=We.tweleve_installments)||void 0===Ke?void 0:Ke.dueDate,label:"twelevth",amount:null===fl||void 0===fl||null===(Xe=fl.structure)||void 0===Xe||null===(Qe=Xe.tweleve_installments)||void 0===Qe?void 0:Qe.fees}):null,(0,x.jsxs)("section",{className:c.Z.table_container,style:{margin:"0"},children:[(0,x.jsxs)("div",{className:c.Z.table_heading,children:[(0,x.jsx)("h6",{children:_l("applicable_fee_heads")}),(0,x.jsx)("h6",{children:_l("amount")})]}),(0,x.jsx)("div",{className:c.Z.table_body,children:null===fl||void 0===fl||null===(el=fl.structure)||void 0===el||null===(ll=el.applicable_fees_heads)||void 0===ll?void 0:ll.map(((e,l)=>(0,x.jsxs)("div",{className:c.Z.table_body_list,children:["STUDENT"===rl?(0,x.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_name}):(0,x.jsxs)("h6",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"1rem"},children:[null===e||void 0===e?void 0:e.head_name,(0,x.jsx)("img",{src:null!==e&&void 0!==e&&e.is_society?"".concat(n.U_,"/check.svg"):"".concat(n.U_,"/uncheck.svg"),alt:"check icon",onClick:()=>Nl(e,"APPLICABLE"),style:{cursor:"pointer"}})]}),(0,x.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_amount})]},l)))}),(0,x.jsx)("div",{className:c.Z.table_body,children:(0,x.jsxs)("div",{className:c.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.8)",borderTopWidth:"2px",borderTopStyle:"solid",borderBottom:"none"},children:[(0,x.jsx)("h6",{className:c.Z.fees_total,children:_l("subtotal")}),(0,x.jsx)("h6",{className:c.Z.fees_total,children:xl})]})})]}),jl?(0,x.jsxs)("section",{className:c.Z.table_container,style:{margin:"0"},children:[(0,x.jsxs)("div",{className:c.Z.table_heading,children:[(0,x.jsx)("h6",{children:_l("govt_fee_heads")}),(0,x.jsx)("h6",{children:_l("amount")})]}),(0,x.jsx)("div",{className:c.Z.table_body,children:null===fl||void 0===fl||null===(tl=fl.structure)||void 0===tl||null===(al=tl.government_fees_heads)||void 0===al?void 0:al.map(((e,l)=>(0,x.jsxs)("div",{className:c.Z.table_body_list,children:["STUDENT"===rl?(0,x.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_name}):(0,x.jsxs)("h6",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"1rem"},children:[null===e||void 0===e?void 0:e.head_name,(0,x.jsx)("img",{src:null!==e&&void 0!==e&&e.is_society?"".concat(n.U_,"/check.svg"):"".concat(n.U_,"/uncheck.svg"),alt:"check icon",onClick:()=>Nl(e,"GOVERNMENT"),style:{cursor:"pointer"}})]}),(0,x.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_amount})]},l)))}),(0,x.jsx)("div",{className:c.Z.table_body,children:(0,x.jsxs)("div",{className:c.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.8)",borderTopWidth:"2px",borderTopStyle:"solid",borderBottomColor:"rgba(18, 18, 18, 0.8)",borderBottomWidth:"2px"},children:[(0,x.jsx)("h6",{className:c.Z.fees_total,children:_l("subtotal")}),(0,x.jsx)("h6",{className:c.Z.fees_total,children:jl})]})})]}):null]})]})})]})},Z=e=>{let{label:l,amount:t,dueDate:a}=e;const{t:n}=(0,d.$G)();return(0,x.jsxs)("section",{className:c.Z.fees_head_installment,children:[(0,x.jsxs)("h6",{children:[n(l)," ",n("installment"),a?(0,x.jsxs)("span",{style:{fontWeight:"400",fontSize:"12px",marginLeft:"0.4rem"},children:["(","".concat((0,b.jh)(a)),")"]}):""]}),(0,x.jsxs)("h6",{children:[n("rs_only")," ",null!==t&&void 0!==t?t:0]})]})}},97800:(e,l,t)=>{t.d(l,{Z:()=>j});var a=t(39230),n=t(4007),s=t(93638),o=t(21348),i=t(90904),d=t(38857),c=t(23441),r=t(72791),_=t(6758),u=t(91427),v=t(57588),m=t(98684),h=t(14196),f=t(1669),p=t(55336),g=t(2651),x=t(80184);const j=e=>{var l,t,j,b;let{onClose:y,fid:Z,setFeeHead:S,setFeeHeadId:N,feeHeadId:F,isSegment:C,isOne:D}=e;const{t:w}=(0,a.$G)(),[A,k]=(0,r.useState)(""),[T,E]=(0,r.useState)(1),[M,B]=(0,r.useState)(!0),[Y,I]=(0,c.YD)({skip:A}),[H,O]=(0,r.useState)([]),[L,R]=(0,r.useState)(null!==F&&void 0!==F?F:[]),{financeAllFeeHeadMaster:G,financeAllFeeHeadMasterLoading:J}=(0,_.an)({data:{fid:Z,page:T,limit:10,search:A},skip:!Z});(0,r.useEffect)((()=>{R(F)}),[F]),(0,r.useEffect)((()=>{I&&M&&E((e=>e+1))}),[I,M]),(0,r.useEffect)((()=>{var e;if(null!==G&&void 0!==G&&null!==(e=G.list)&&void 0!==e&&e.length){var l;let e=(0,u.f)(null===G||void 0===G||null===(l=G.list)||void 0===l?void 0:l.length);B((()=>e))}}),[null===G||void 0===G||null===(l=G.list)||void 0===l?void 0:l.length]);const P=(0,r.useCallback)((0,v.J)((e=>{E((()=>1)),k(e)}),500),[]),q=e=>{const l={head_name:null===e||void 0===e?void 0:e.master_name,head_amount:null===e||void 0===e?void 0:e.master_amount,master:null===e||void 0===e?void 0:e._id,head_type:C};if(null!==L&&void 0!==L&&L.includes(null===e||void 0===e?void 0:e._id)){let l=null===L||void 0===L?void 0:L.indexOf(null===e||void 0===e?void 0:e._id),t=[];for(let e=0;e<(null===H||void 0===H?void 0:H.length);e++)e===l||t.push(H[e]);R((l=>null===l||void 0===l?void 0:l.filter((l=>l!==(null===e||void 0===e?void 0:e._id))))),O(t)}else R((l=>[...l,null===e||void 0===e?void 0:e._id])),O((e=>[...e,l]));D&&(S([l]),N([null===e||void 0===e?void 0:e._id]),y())};return(0,x.jsx)(d.Z,{children:(0,x.jsxs)("div",{className:n.Z.modal_container,children:[(0,x.jsx)(o.default,{children:(0,x.jsxs)("div",{className:n.Z.modal_container_outer_header,children:[(0,x.jsxs)("div",{className:n.Z.modal_container_header,children:[(0,x.jsx)("img",{src:"".concat(m.J7,"/back-arrow.svg"),alt:"close icon",onClick:y}),(0,x.jsx)("h6",{children:w("select_fee_heads")})]}),(0,x.jsx)(s.Z,{label:"select",customStyle:{margin:"0"},onAction:()=>{S((e=>[...e,...H])),N(L),y()}})]})}),(0,x.jsx)(i.Z,{}),(0,x.jsxs)(o.default,{customStyle:{paddingTop:"0"},children:[(0,x.jsx)("div",{className:n.Z.fm_search_full,style:{marginBottom:"0.5rem"},children:(0,x.jsx)("section",{className:n.Z.fm_search_full_container,children:(0,x.jsxs)("div",{className:n.Z.fm_search_full_container_inner,children:[(0,x.jsx)("img",{className:n.Z.fm_search_full_icon,alt:"search icon",src:"".concat(m.dB,"/navbar-search.svg")}),(0,x.jsx)("input",{type:"text",placeholder:w("search"),onChange:e=>{e.target.value?P(e.target.value):(E((()=>1)),k(""))}})]})})}),null===G||void 0===G||null===(t=G.list)||void 0===t?void 0:t.map(((e,l)=>{var t;return(null===G||void 0===G||null===(t=G.list)||void 0===t?void 0:t.length)===l+1?(0,x.jsx)("div",{ref:Y,children:(0,x.jsx)(h.Z,{feeHead:e,fid:Z,onSelect:q,selectedFeeId:L})},null===e||void 0===e?void 0:e._id):(0,x.jsx)(h.Z,{feeHead:e,fid:Z,onSelect:q,selectedFeeId:L},null===e||void 0===e?void 0:e._id)})),J?A?(0,x.jsx)(p.default,{}):(0,x.jsx)(f.Z,{}):A?0===(null===G||void 0===G||null===(j=G.list)||void 0===j?void 0:j.length)&&(0,x.jsx)(g.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No fee master found related this search."}):0===(null===G||void 0===G||null===(b=G.list)||void 0===b?void 0:b.length)&&(0,x.jsx)(g.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No fee master added."})]})]})})}},2651:(e,l,t)=>{t.d(l,{Z:()=>s});var a=t(15783),n=t(80184);const s=e=>{let{title:l,subtitle:t,customStyleContainer:s,costomTextTitleStyle:o,costomTextSubtitleStyle:i}=e;return(0,n.jsxs)("div",{className:a.Z.empty_container,style:s,children:[l&&(0,n.jsx)("h6",{style:o,children:l}),t&&(0,n.jsx)("p",{style:i,children:t})]})}},43997:(e,l,t)=>{t.d(l,{O_:()=>s,_1:()=>a,jh:()=>n});const a=e=>{let l=null===e||void 0===e?void 0:e.split("/");return"".concat(l[2],"-").concat(l[1],"-").concat(l[0])},n=e=>{var l;let t=[];return t=null!==e&&void 0!==e&&e.includes("-")?null===e||void 0===e?void 0:e.split("-"):null===e||void 0===e?void 0:e.split("/"),(null===(l=t[2])||void 0===l?void 0:l.length)>2?"".concat(+t[0]>9?t[0]:"0".concat(+t[0]),"/").concat(+t[1]>9?t[1]:"0".concat(+t[1]),"/").concat(t[2]):"".concat(+t[2]>9?t[2]:"0".concat(+t[2]),"/").concat(+t[1]>9?t[1]:"0".concat(+t[1]),"/").concat(t[0])},s=e=>{var l;let t=[];return t=null!==e&&void 0!==e&&e.includes("-")?null===e||void 0===e?void 0:e.split("-"):null===e||void 0===e?void 0:e.split("/"),(null===(l=t[2])||void 0===l?void 0:l.length)>2?"".concat(t[2],"-").concat(+t[1]>9?t[1]:"0".concat(+t[1]),"-").concat(+t[0]>9?t[0]:"0".concat(+t[0])):"".concat(t[0],"-").concat(+t[1]>9?t[1]:"0".concat(+t[1]),"-").concat(+t[2]>9?t[2]:"0".concat(+t[2]))}},57588:(e,l,t)=>{t.d(l,{J:()=>a});const a=(e,l)=>{let t;return function(){let a=this,n=arguments;clearTimeout(t),t=setTimeout((()=>{e.apply(a,n)}),l)}}},91427:(e,l,t)=>{t.d(l,{f:()=>a});const a=e=>e%10===0},26192:(e,l,t)=>{t.d(l,{Z:()=>a});const a={ongoing_card:"OngoingAdmission_ongoing_card__5LO6X",ongoing_card_active:"OngoingAdmission_ongoing_card_active__eu1jj",ongoing_card_inner:"OngoingAdmission_ongoing_card_inner__DTYKz",ongoing_card_text:"OngoingAdmission_ongoing_card_text__cj0Qv",menu_icon:"OngoingAdmission_menu_icon__SwfUu",ongoing_card_count_date:"OngoingAdmission_ongoing_card_count_date__Tzlwe",ongoing_card_count_container:"OngoingAdmission_ongoing_card_count_container__Rj5uD",ongoing_card_count_container_inner:"OngoingAdmission_ongoing_card_count_container_inner__vc5ZE",application_card:"OngoingAdmission_application_card__C2AOm",application_card_title:"OngoingAdmission_application_card_title__r3bxG",application_card_info:"OngoingAdmission_application_card_info__uq+PO",admission_confirm_class_card:"OngoingAdmission_admission_confirm_class_card__aRvXU",admission_confirm_class_card_active:"OngoingAdmission_admission_confirm_class_card_active__LHjy3",application_card_active:"OngoingAdmission_application_card_active__EcEKc",admission_collect_docs:"OngoingAdmission_admission_collect_docs__MmjG7",admission_confirm_class_count:"OngoingAdmission_admission_confirm_class_count__IsGih"}},4007:(e,l,t)=>{t.d(l,{Z:()=>a});const a={fess_container:"FeesStructure_fess_container__yP1Kr",category_header:"FeesStructure_category_header__kl9eu",category_header_title:"FeesStructure_category_header_title__Lc+5l",fees_category:"FeesStructure_fees_category__8u-dp",fees_category_icon:"FeesStructure_fees_category_icon__KjMF9",fees_category_text:"FeesStructure_fees_category_text__HnRZU",assignment_description_head:"FeesStructure_assignment_description_head__jqNtp",assignment_description:"FeesStructure_assignment_description__soumP",department_container:"FeesStructure_department_container__kCdPX",department_card_name:"FeesStructure_department_card_name__sYSOY",department_card_head:"FeesStructure_department_card_head__rVcZv",department_card_title:"FeesStructure_department_card_title__PF9km",add_new_category:"FeesStructure_add_new_category__Q1OpU",category_card:"FeesStructure_category_card__qYz0J",fees_card_text:"FeesStructure_fees_card_text__KB8GJ",category_card_fee:"FeesStructure_category_card_fee__sRR12",fees_card_text_bottom:"FeesStructure_fees_card_text_bottom__T45b7",department_card_container:"FeesStructure_department_card_container__a40wp",department_card_image:"FeesStructure_department_card_image__2FUDD",fees_card:"FeesStructure_fees_card__z+RwE",category_card_order:"FeesStructure_category_card_order__jBLeB",add_category_modal:"FeesStructure_add_category_modal__XFTGC",add_category_modal_title:"FeesStructure_add_category_modal_title__y9he4",structure_container_title:"FeesStructure_structure_container_title__Oa39N",add_category_modal_title_left:"FeesStructure_add_category_modal_title_left__JDH-M",set_fees_structure_btn:"FeesStructure_set_fees_structure_btn__NUJNj",installment_list:"FeesStructure_installment_list__b4tEe",fees_head_title:"FeesStructure_fees_head_title__aHn2H",fees_head_installment:"FeesStructure_fees_head_installment__G80fz",table_heading:"FeesStructure_table_heading__C+3Ou",table_container:"FeesStructure_table_container__GY9PB",table_body:"FeesStructure_table_body__d27RF",table_body_list:"FeesStructure_table_body_list__AIq19",fee_head_name_input:"FeesStructure_fee_head_name_input__XqDmq",fee_head_amount_input:"FeesStructure_fee_head_amount_input__IljkA",add_fees_head_btn:"FeesStructure_add_fees_head_btn__Me1Y3",fees_total:"FeesStructure_fees_total__cKFTc",fees_card_hover:"FeesStructure_fees_card_hover__Zk7go",fees_card_hover_active:"FeesStructure_fees_card_hover_active__UBnHh",fee_middle_section:"FeesStructure_fee_middle_section__gjhYY",fee_middle_confirm_button:"FeesStructure_fee_middle_confirm_button__8gUBE",fee_middle_section_container:"FeesStructure_fee_middle_section_container__9vxAB",edit_icon:"FeesStructure_edit_icon__iHti3",category_card_hover:"FeesStructure_category_card_hover__O3rP9",category_card_hover_active:"FeesStructure_category_card_hover_active__N2YXu",menu_icon:"FeesStructure_menu_icon__-c1NS",upload_excel_container:"FeesStructure_upload_excel_container__48yxn",upload_excel_file:"FeesStructure_upload_excel_file__1hxAU",seating_modal:"FeesStructure_seating_modal__cEUXs",add_category_modal_title_active:"FeesStructure_add_category_modal_title_active__bnkEx",notify_container:"FeesStructure_notify_container__f1n9o",notify_text:"FeesStructure_notify_text__Yqwka",next_btn:"FeesStructure_next_btn__Kc+CA",btn_group:"FeesStructure_btn_group__xycY6",leave_dates:"FeesStructure_leave_dates__nByRK",letter_head_container:"FeesStructure_letter_head_container__sRo4F",modal_container:"FeesStructure_modal_container__orQgp",modal_container_outer_header:"FeesStructure_modal_container_outer_header__RSzLS",modal_container_header:"FeesStructure_modal_container_header__F-XEd",fm_search_full:"FeesStructure_fm_search_full__wKV++",fm_search_full_container:"FeesStructure_fm_search_full_container__lYJ8u",fm_search_full_container_inner:"FeesStructure_fm_search_full_container_inner__pZb5S",fm_search_full_icon:"FeesStructure_fm_search_full_icon__wFTld",afsi_container:"FeesStructure_afsi_container__DBw6W"}},8728:(e,l,t)=>{t.d(l,{Z:()=>a});const a={calendar:"Calendar_calendar__ZZaTt",calendar_top:"Calendar_calendar_top__ADLui",calendar_days:"Calendar_calendar_days__vUwsX",calendar_days_label:"Calendar_calendar_days_label__VF+-3",calendar_days_value:"Calendar_calendar_days_value__cY4KR",calendar_days_value_active:"Calendar_calendar_days_value_active__CC8ZH",calendar_month:"Calendar_calendar_month__iidgh",calendar_month_value:"Calendar_calendar_month_value__nzPqp",calendar_month_value_active:"Calendar_calendar_month_value_active__xUZQL"}}}]);
//# sourceMappingURL=76390.aa7162b2.chunk.js.map