"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[98594],{11728:(e,l,n)=>{n.d(l,{F5:()=>a,TW:()=>s,Vf:()=>o,Wt:()=>t,XT:()=>d,sY:()=>i});const t=[{key:"ALL_BATCH",name:"all_batches"},{key:"ACTIVE_BATCH",name:"active_batches"}],i=[{key:"ALL",name:"all_departments"},{key:"PARTICULAR",name:"particular_department"}],s=[{key:"ALL_BATCH",name:"all_batches"},{key:"PARTICULAR_BATCH",name:"particular_batch"}],a=[{key:"All",name:"all_departments"},{key:"Particular",name:"particular_department"}],o=[{key:"All",name:"all_batches"},{key:"Current",name:"current"},{key:"Particular",name:"particular_batch"}],d=[{key:"All",name:"all_batches"},{key:"Current",name:"current"}]},33030:(e,l,n)=>{n.d(l,{Z:()=>a});var t=n(39230),i=n(80476),s=n(80184);const a=e=>{let{label:l,onAction:n,customStyle:a}=e;const{t:o}=(0,t.$G)();return(0,s.jsx)("div",{className:i.Z.btn_container,onClick:()=>{n()},style:a,children:o(l)})}},23984:(e,l,n)=>{n.d(l,{Z:()=>s});var t=n(80476),i=n(80184);const s=e=>{let{customStyle:l,children:n}=e;return(0,i.jsx)("div",{className:t.Z.btn_wrapper,style:l,children:n})}},26071:(e,l,n)=>{n.d(l,{Z:()=>a});var t=n(51416),i=n(39230),s=n(80184);const a=e=>{let{tile:l,onTile:n,activeTile:a,customTileChild:o}=e;const{t:d}=(0,i.$G)();return(0,s.jsx)("div",{className:(null===l||void 0===l?void 0:l.key)===a?t.Z.tile_tile_active:t.Z.tile_tile,onClick:()=>n(null===l||void 0===l?void 0:l.key),style:o,children:d(null===l||void 0===l?void 0:l.name)})}},20659:(e,l,n)=>{n.d(l,{Z:()=>a});var t=n(51416),i=n(39230),s=n(80184);const a=e=>{let{label:l,customTileLabel:n,customTileContainer:a,customTileStyle:o,errorShow:d,children:c}=e;const{t:r}=(0,i.$G)();return(0,s.jsxs)("div",{className:t.Z.tile_container,style:o,children:[l&&(0,s.jsxs)("h6",{className:t.Z.tile_label,style:n,children:[r(l),d?(0,s.jsxs)("span",{style:{color:"rgb(231, 75, 75)"},children:["* ",r("form_require_label")]}):null]}),(0,s.jsx)("section",{className:t.Z.tile_tile_container,style:a,children:c})]})}},35483:(e,l,n)=>{n.d(l,{Z:()=>g});var t=n(39230),i=n(49806),s=n(38857),a=n(21348),o=n(98684),d=n(90904),c=n(6758),r=n(80184);const v=e=>{var l;let{department:n,onSelect:t,selectedId:s}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:null!==s&&void 0!==s&&s.includes(null===n||void 0===n?void 0:n._id)?"".concat(i.Z.assign_show_list_each," ").concat(i.Z.assign_show_list_each_active):i.Z.assign_show_list_each,onClick:()=>{t(n)},children:[(0,r.jsx)("img",{src:"".concat(o.J7,"/department.svg"),alt:"department icon"}),(0,r.jsx)("div",{className:i.Z.assign_each_paragraph,children:(0,r.jsx)("h6",{children:null!==(l=null===n||void 0===n?void 0:n.dName)&&void 0!==l?l:""})})]}),(0,r.jsx)(d.Z,{customStyleBorder:{margin:"0"}})]})};var u=n(72791),m=n(20659),h=n(26071),_=n(11728),x=n(1669),j=n(55336),f=n(2651);const g=e=>{let{onClose:l,onSelect:n,fid:g,isType:p,isMultiple:S,selectedId:N,onDone:y}=e;const{t:C}=(0,t.$G)(),[b,A]=(0,u.useState)([]),[k,T]=(0,u.useState)(""),[I,L]=(0,u.useState)(""),{instituteAllDepartment:B,instituteAllDepartmentLoading:w}=(0,c.Jv)({fid:g,skip:!g});(0,u.useEffect)((()=>{null!==B&&void 0!==B&&B.length&&A(B)}),[null===B||void 0===B?void 0:B.length]);const E=e=>{n(e)},D=e=>{"ALL"===e&&n(e),T(e)};return(0,r.jsx)(s.Z,{onClose:l,children:(0,r.jsxs)("div",{className:i.Z.modal_container,children:[(0,r.jsx)(a.Z,{children:(0,r.jsxs)("div",{className:i.Z.modal_container_outer_header,children:[(0,r.jsx)("div",{className:i.Z.modal_container_header,children:(0,r.jsx)("h6",{children:C("select_department")})}),S?(0,r.jsxs)("div",{className:i.Z.modal_container_btn_container,children:[(0,r.jsxs)("div",{className:i.Z.modal_container_btn,onClick:()=>{y(),l()},children:[(null===N||void 0===N?void 0:N.length)>0?"".concat(null===N||void 0===N?void 0:N.length," "):"",C("select")]}),(0,r.jsx)("img",{src:"".concat(o.J7,"/close.svg"),alt:"close icon",onClick:l})]}):(0,r.jsx)("img",{src:"".concat(o.J7,"/close.svg"),alt:"close icon",onClick:l})]})}),(0,r.jsx)(d.Z,{}),(0,r.jsxs)(a.Z,{customStyle:{paddingTop:"0",paddingBottom:"1rem"},children:[(0,r.jsxs)("div",{className:i.Z.assign_search_container,style:{marginBottom:"0.8rem"},children:[(0,r.jsx)("input",{type:"text",placeholder:C("search"),className:i.Z.assign_search_input,onChange:e=>{if(e.target.value){let l=Z(B,e.target.value);A(l),L(e.target.value)}else A(B),L("")}}),(0,r.jsx)("img",{src:"".concat(o.dB,"/navbar-search.svg"),alt:"search icon"})]}),p&&(0,r.jsx)(m.Z,{label:"department_type",children:null===_.sY||void 0===_.sY?void 0:_.sY.map((e=>(0,r.jsx)(h.Z,{tile:e,onTile:D,activeTile:k},null===e||void 0===e?void 0:e.key)))}),null===b||void 0===b?void 0:b.map((e=>(0,r.jsx)(v,{department:e,onSelect:E,selectedId:N},null===e||void 0===e?void 0:e._id))),w?I?(0,r.jsx)(j.Z,{}):(0,r.jsx)(x.Z,{}):I?!(null!==b&&void 0!==b&&b.length)&&(0,r.jsx)(f.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No department found related this search."}):!(null!==B&&void 0!==B&&B.length)&&(0,r.jsx)(f.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No department found."})]})]})})},Z=(e,l)=>null===e||void 0===e?void 0:e.filter((e=>{var n;return null!==e&&void 0!==e&&null!==(n=e.dName)&&void 0!==n&&n.includes(l)?e:null}))},98594:(e,l,n)=>{n.r(l),n.d(l,{default:()=>w});var t=n(98684),i=n(90904),s=n(33030),a=n(23984),o=n(63687),d=n(21348),c=n(57588),r=n(91427),v=n(72791),u=n(39230),m=n(23441),h=n(56959),_=n(6758),x=n(55336),j=n(93638),f=n(61055),g=n(38857),Z=n(35483),p=n(16925),S=n(99183),N=n(49806),y=n(80184);const C=e=>{var l;let{cls:n,onSelect:s,selectedId:a}=e;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:null!==a&&void 0!==a&&a.includes(null===n||void 0===n?void 0:n._id)?"".concat(N.Z.assign_show_list_each," ").concat(N.Z.assign_show_list_each_active):N.Z.assign_show_list_each,onClick:()=>{s(n)},children:[(0,y.jsx)("img",{src:"".concat(t.J7,"/class.svg"),alt:"class icon",style:{borderRadius:"0"}}),(0,y.jsx)("div",{className:N.Z.assign_each_paragraph,children:(0,y.jsx)("h6",{children:null!==(l=null===n||void 0===n?void 0:n.className)&&void 0!==l?l:""})})]}),(0,y.jsx)(i.Z,{customStyleBorder:{margin:"0"}})]})};var b=n(1669),A=n(2651);const k=e=>{var l,n,a,o;let{onClose:h,did:j,bid:f,onSave:Z,clsListId:p,setClsListId:S}=e;const{t:k}=(0,u.$G)(),[T,I]=(0,v.useState)(""),[L,B]=(0,v.useState)(1),[w,E]=(0,v.useState)(!0),[D,F]=(0,m.YD)({skip:T}),[J,R]=(0,v.useState)(null!==p&&void 0!==p?p:[]),[q,G]=(0,v.useState)([]),{departmentBatchAllClassMaster:$,departmentBatchAllClassMasterLoading:P}=(0,_.Rb)({data:{did:j,bid:f,page:L,limit:10,search:T},skip:j?!j:!f});(0,v.useEffect)((()=>{null!==p&&void 0!==p&&p.length&&R(p)}),[null===p||void 0===p?void 0:p.length]),(0,v.useEffect)((()=>{F&&w&&B((e=>e+1))}),[F,w]),(0,v.useEffect)((()=>{var e;if(null!==$&&void 0!==$&&null!==(e=$.list)&&void 0!==e&&e.length){var l;let e=(0,r.f)(null===$||void 0===$||null===(l=$.list)||void 0===l?void 0:l.length);E((()=>e))}}),[null===$||void 0===$||null===(l=$.list)||void 0===l?void 0:l.length]);const M=(0,v.useCallback)((0,c.J)((e=>{B((()=>1)),I(e)}),1500),[]),Y=e=>{null!==J&&void 0!==J&&J.includes(null===e||void 0===e?void 0:e._id)?(R((l=>null===l||void 0===l?void 0:l.filter((l=>l!==(null===e||void 0===e?void 0:e._id))))),S((l=>null===l||void 0===l?void 0:l.filter((l=>l!==(null===e||void 0===e?void 0:e._id))))),G((l=>null===l||void 0===l?void 0:l.filter((l=>(null===l||void 0===l?void 0:l._id)!==(null===e||void 0===e?void 0:e._id)))))):(R((l=>[...l,null===e||void 0===e?void 0:e._id])),S((l=>[...l,null===e||void 0===e?void 0:e._id])),G((l=>[...l,e])))};return(0,y.jsx)(g.Z,{onClose:h,children:(0,y.jsxs)("div",{className:N.Z.modal_container,children:[(0,y.jsx)(d.Z,{children:(0,y.jsxs)("div",{className:N.Z.modal_container_outer_header,children:[(0,y.jsx)("div",{className:N.Z.modal_container_header,children:(0,y.jsx)("h6",{children:k("select_standard")})}),(0,y.jsxs)("div",{className:N.Z.modal_container_header_btn,children:[(0,y.jsx)(s.Z,{label:"select",onAction:()=>{let e=[];for(let l of q)for(let n of null===l||void 0===l?void 0:l.classDivision)e.push(null===n||void 0===n?void 0:n._id);Z(e)}}),(0,y.jsx)("img",{src:"".concat(t.J7,"/close.svg"),alt:"close icon",onClick:h})]})]})}),(0,y.jsx)(i.Z,{}),(0,y.jsxs)(d.Z,{customStyle:{paddingTop:"0",paddingBottom:"1rem"},children:[(0,y.jsxs)("div",{className:N.Z.assign_search_container,style:{marginBottom:"0.8rem"},children:[(0,y.jsx)("input",{type:"text",placeholder:k("search"),className:N.Z.assign_search_input,onChange:e=>{e.target.value?M(e.target.value):(B((()=>1)),I(""))}}),(0,y.jsx)("img",{src:"".concat(t.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===$||void 0===$||null===(n=$.list)||void 0===n?void 0:n.map(((e,l)=>{var n;return(null===$||void 0===$||null===(n=$.list)||void 0===n?void 0:n.length)===l+1?(0,y.jsx)("div",{ref:D,children:(0,y.jsx)(C,{cls:e,selectedId:J,onSelect:Y})},null===e||void 0===e?void 0:e._id):(0,y.jsx)(C,{cls:e,selectedId:J,onSelect:Y},null===e||void 0===e?void 0:e._id)})),P?T?(0,y.jsx)(x.Z,{}):(0,y.jsx)(b.Z,{}):T?0===(null===$||void 0===$||null===(a=$.list)||void 0===a?void 0:a.length)&&(0,y.jsx)(A.Z,{title:"No standard found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===$||void 0===$||null===(o=$.list)||void 0===o?void 0:o.length)&&(0,y.jsx)(A.Z,{title:"No standard.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})},T=e=>{let{fid:l,onClose:n}=e;const{t:s}=(0,u.$G)(),[a,o]=(0,v.useState)("DEPARTMENT"),[c,r]=(0,v.useState)({feeName:"",feeAmount:"",feeDate:""}),[m,h]=(0,v.useState)(""),[N,C]=(0,v.useState)(!1),[b,A]=(0,v.useState)(""),[T]=(0,_.yK)(),[I,L]=(0,v.useState)([]),[B,w]=(0,v.useState)([]),E=e=>{"feeAmount"===e.target.name?r((l=>({...l,feeAmount:+e.target.value}))):r((l=>({...l,[e.target.name]:e.target.value})))};return(0,y.jsx)(y.Fragment,{children:a?"DEPARTMENT"===a?(0,y.jsx)(Z.Z,{onClose:n,fid:l,onSelect:e=>{A(e),o("CLASSES")}}):(0,y.jsx)(k,{onClose:()=>o("DEPARTMENT"),did:null===b||void 0===b?void 0:b._id,bid:null===b||void 0===b?void 0:b.departmentSelectBatch,onSave:e=>{w(e),o("")},clsListId:I,setClsListId:L}):(0,y.jsx)(g.Z,{onClose:n,children:(0,y.jsxs)("div",{className:p.Z.modal_container,children:[(0,y.jsx)(d.Z,{children:(0,y.jsxs)("div",{className:p.Z.modal_container_outer_header,children:[(0,y.jsx)("div",{className:p.Z.modal_container_header,children:(0,y.jsx)("h6",{children:s("create_new_fees")})}),(0,y.jsx)("img",{src:"".concat(t.J7,"/close.svg"),alt:"close icon",onClick:()=>o("CLASSES")})]})}),(0,y.jsx)(i.Z,{}),(0,y.jsxs)(d.Z,{customStyle:{paddingTop:"0"},children:[(0,y.jsx)(f.Z,{label:s("fees_name"),placeholder:s("fees_name_placeholder"),name:"feeName",value:c.feeName,type:"text",onChange:E,errorShow:m.feeName}),(0,y.jsx)(f.Z,{label:s("amount"),placeholder:s("amount_placeholder"),name:"feeAmount",value:c.feeAmount,type:"text",onChange:E,errorShow:m.feeAmount}),(0,y.jsx)(j.Z,{label:"save",onAction:()=>{let e=(0,S.l)(c,["feeDate"]);(0,S.x)(e)?(()=>{if(l&&(null===B||void 0===B?void 0:B.length)>0){let e=(new Date).toISOString(),t="".concat(null===e||void 0===e?void 0:e.substring(0,4),"-").concat(null===e||void 0===e?void 0:e.substring(5,7),"-").concat(null===e||void 0===e?void 0:e.substring(8,10));C((e=>!e)),T({fid:l,inernalBody:{did:null===b||void 0===b?void 0:b._id,ClassId:B,feeName:c.feeName,feeAmount:c.feeAmount,feeDate:t}}).then((()=>{C((e=>!e)),n()})).catch((()=>{C((e=>!e))}))}})():h(e)}})]}),N&&(0,y.jsx)(x.Z,{})]})})})};var I=n(1721),L=n(16871);const B=e=>{var l,n;let{fees:i}=e;const{t:s}=(0,u.$G)(),a=(0,L.TH)(),o=(0,L.UO)(),d=(0,L.s0)();return(0,y.jsxs)("div",{className:I.Z.ifc_container,onClick:()=>{var e,l;let n="Institute"===(null===(e=a.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(o.username,"/institute/member/finance?type=internal-fee-detail"):"/q/".concat(o.username,"/member/staff/finance?type=internal-fee-detail");d(n,{state:{...a.state,fsid:null===i||void 0===i?void 0:i._id,feesName:null!==(l=null===i||void 0===i?void 0:i.feeName)&&void 0!==l?l:""}})},children:[(0,y.jsx)("img",{src:"".concat(t.J7,"/fees-card.svg"),alt:"fees icon"}),(0,y.jsxs)("div",{className:I.Z.ifc_container_inner,children:[(0,y.jsxs)("h6",{children:[s("rs_only")," ",null!==(l=null===i||void 0===i?void 0:i.feeAmount)&&void 0!==l?l:0,"/-"]}),(0,y.jsxs)("p",{children:[null!==(n=null===i||void 0===i?void 0:i.feeName)&&void 0!==n?n:""," "]})]})]})},w=e=>{var l,n,j,f;let{fid:g}=e;const{t:Z}=(0,u.$G)(),[p,S]=(0,v.useState)(""),[N,C]=(0,v.useState)(1),[k,I]=(0,v.useState)(!0),[L,w]=(0,v.useState)(!1),[E,D]=(0,m.YD)({skip:p}),{financeAllInternalFee:F,financeAllInternalFeeLoading:J}=(0,_.kD)({data:{fid:g,page:N,limit:10,search:p},skip:!g});(0,v.useEffect)((()=>{D&&k&&C((e=>e+1))}),[D,k]),(0,v.useEffect)((()=>{var e;if(null!==F&&void 0!==F&&null!==(e=F.list)&&void 0!==e&&e.length){var l;let e=(0,r.f)(null===F||void 0===F||null===(l=F.list)||void 0===l?void 0:l.length);I((()=>e))}}),[null===F||void 0===F||null===(l=F.list)||void 0===l?void 0:l.length]);const R=(0,v.useCallback)((0,c.J)((e=>{C((()=>1)),S(e)}),1500),[]),q=()=>{w((e=>!e))};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(o.Z,{children:[(0,y.jsx)(d.Z,{children:(0,y.jsxs)("div",{className:h.Z.fm_header_container,children:[(0,y.jsx)("h6",{children:Z("internal_fees")}),(0,y.jsx)("div",{className:h.Z.fm_search,children:(0,y.jsx)("section",{className:h.Z.fm_search_container,children:(0,y.jsxs)("div",{className:h.Z.fm_search_container_inner,children:[(0,y.jsx)("img",{className:h.Z.fm_search_icon,alt:"search icon",src:"".concat(t.dB,"/navbar-search.svg")}),(0,y.jsx)("input",{type:"text",placeholder:Z("search"),onChange:e=>{e.target.value?R(e.target.value):(C((()=>1)),S(""))}})]})})})]})}),(0,y.jsx)(i.Z,{}),(0,y.jsxs)(d.Z,{customStyle:{paddingTop:"0"},children:[(0,y.jsx)(a.Z,{children:(0,y.jsx)(s.Z,{label:"create_new_fees",onAction:q})}),null===F||void 0===F||null===(n=F.list)||void 0===n?void 0:n.map(((e,l)=>{var n;return(null===F||void 0===F||null===(n=F.list)||void 0===n?void 0:n.length)===l+1?(0,y.jsx)("div",{ref:E,children:(0,y.jsx)(B,{fees:e})},null===e||void 0===e?void 0:e._id):(0,y.jsx)(B,{fees:e},null===e||void 0===e?void 0:e._id)})),J?p?(0,y.jsx)(x.Z,{}):(0,y.jsx)(b.Z,{}):p?0===(null===F||void 0===F||null===(j=F.list)||void 0===j?void 0:j.length)&&(0,y.jsx)(A.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No internal fees found related this search."}):0===(null===F||void 0===F||null===(f=F.list)||void 0===f?void 0:f.length)&&(0,y.jsx)(A.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No internal fees added."})]})]}),L&&(0,y.jsx)(T,{onClose:q,fid:g})]})}},1721:(e,l,n)=>{n.d(l,{Z:()=>t});const t={ifc_container:"InternalFees_ifc_container__XhZX-",ifc_container_inner:"InternalFees_ifc_container_inner__FaBwZ",ifdl_heading:"InternalFees_ifdl_heading__gaTqK",ifdl_card:"InternalFees_ifdl_card__sAxqq"}}}]);
//# sourceMappingURL=98594.f8646f67.chunk.js.map