"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[7496],{91022:function(e,o,n){var t=n(1413),a=n(29439),i=n(72791),l=n(39230),r=n(38733),c=n(80184);o.Z=function(e){var o=e.selectLabel,n=e.value,s=e.onClick,d=e.selectedValue,u=e.options,_=e.errorShow,v=e.customStyleContainer,m=e.customLabelStyle,h=e.customListStyle,f=e.openAs,p=e.viewAs,b=(0,l.$G)().t,g=(0,i.useState)(!1),y=(0,a.Z)(g,2),x=y[0],k=y[1],j=function(){"REFUND"===f||"BACKLOG"===f||"FINANCE_MANAGER"===p||k((function(e){return!e}))},Z=function(e){s(e),j()};return(0,c.jsxs)("div",{className:r.Z.join_form_container,style:(0,t.Z)({},v),children:[(0,c.jsxs)("p",{className:r.Z.join_form_select_paragraph,style:(0,t.Z)({},m),children:[o," ",_&&(0,c.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",b("form_require_label")]})]}),(0,c.jsxs)("section",{className:r.Z.join_form_select_custom,onClick:j,children:[n?(0,c.jsx)("p",{className:r.Z.join_form_select_custom_paragraph,children:null!==n&&void 0!==n?n:""}):(0,c.jsx)("p",{className:r.Z.join_form_select_custom_paragraph,children:d}),(0,c.jsx)("img",{className:r.Z.join_form_select_custom_icon,src:"/images/down-icon.svg",alt:"categor icon"})]}),x&&(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("section",{className:r.Z.join_form_select_custom_list,style:h?(0,t.Z)({},h):(null===u||void 0===u?void 0:u.length)>2?{overflowY:"scroll"}:{backgroundColor:"#ffffff"},children:[(0,c.jsx)("p",{className:r.Z.join_form_select_custom_paragraph_option,onClick:j,children:d}),null===u||void 0===u?void 0:u.map((function(e,o){return(0,c.jsx)("p",{onClick:function(){return Z(e)},className:r.Z.join_form_select_custom_paragraph_option,children:e},o)}))]})})]})}},81622:function(e,o,n){var t=n(1413),a=n(29439),i=n(72791),l=n(38733),r=n(39230),c=n(93097),s=n(69721),d=n(80184);o.Z=function(e){var o=e.labelText,n=e.name,u=e.multiple,_=e.value,v=e.onChange,m=(e.onClick,e.errorShow),h=e.acceptType,f=e.customStyleContainer,p=(0,r.$G)().t,b=(0,i.useState)(""),g=(0,a.Z)(b,2),y=g[0],x=g[1];return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:l.Z.join_form_container,style:(0,t.Z)({},f),children:[(0,d.jsxs)("label",{className:l.Z.join_form_label,children:[o,m&&(0,d.jsx)("span",{style:{color:"red",marginLeft:"15px"},children:"* required"})]}),(0,d.jsxs)("div",{className:l.Z.join_form_file_container,children:[(0,d.jsx)("label",{className:_?"".concat(l.Z.join_form_file_choose," ").concat(l.Z.join_form_active_background):l.Z.join_form_file_choose,htmlFor:n,children:p(""!==_?"file_chosen":"chose_file")}),(0,d.jsx)("label",{className:l.Z.join_form_file_choosen,onClick:function(){if(null!==_&&void 0!==_&&_.originalName)if(null!==_&&void 0!==_&&_.isPdf){var e=window.open("".concat(s.zQ,"/").concat(null===_||void 0===_?void 0:_.key),"_blank","noopener,noreferrer");e&&(e.opener=null)}else x(null===_||void 0===_?void 0:_.key);else x(_)},style:{color:"#002BBE",cursor:"pointer"},children:""!==_?null!==_&&void 0!==_&&_.originalName?null===_||void 0===_?void 0:_.originalName:"View":p("no_file_chosen")})]}),(0,d.jsx)("input",{type:"file",multiple:!!u,accept:h||"image/*, .doc,.docx, application/pdf,.csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",name:n,id:n,style:{display:"none"},onChange:v})]}),y&&(0,d.jsx)(c.Z,{onClose:function(){x("")},keyValue:y})]})}},93097:function(e,o,n){n(72791);var t=n(12072),a=n(84489),i=n(69721),l=n(80184);o.Z=function(e){var o=e.onClose,n=e.keyValue;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.Z,{onClose:o}),(0,l.jsx)(t.Z,{customStyle:{zIndex:"1200",borderRadius:"0"},children:(0,l.jsx)("img",{src:"".concat(i.yI,"/").concat(n),alt:"view file",style:{maxWidth:"700px",maxHeight:"500px"}})})]})}},49384:function(e,o,n){n.d(o,{Z:function(){return i}});n(72791);var t=n(6307),a=n(80184),i=function(){return(0,a.jsx)(t.iT,{ariaLabel:"loading-indicator",height:20,width:20,color:"white",secondaryColor:"#1c023b"})}},37111:function(e,o,n){n.d(o,{Z:function(){return z}});var t=n(93433),a=n(29439),i=n(72791),l={remainingFees:"AllBooks_remainingFees__JAkqu",remainingFeesBottom:"AllBooks_remainingFeesBottom__wpvAQ",itemsContainer:"AllBooks_itemsContainer__3JOR5",bookItem:"AllBooks_bookItem__CuEBu",author:"AllBooks_author__Mn7HA",bookItemImg:"AllBooks_bookItemImg__T7EV9",title:"AllBooks_title__-Nt6G",authorLabel:"AllBooks_authorLabel__v2MfN",booklang:"AllBooks_booklang__EamZs",status:"AllBooks_status__HSM9T",online:"AllBooks_online__GYG+5",offline:"AllBooks_offline__Oe4nE",searchContainerr:"AllBooks_searchContainerr__uQNeV",searchContainer:"AllBooks_searchContainer__zH+GJ",newBtn:"AllBooks_newBtn__tjATi",loader:"AllBooks_loader__zlk25",noData:"AllBooks_noData__hRVeo",itemref:"AllBooks_itemref__TGFlp"},r=n(39230),c=n(55581),s=n(95048),d=n(23441),u=n(763),_=n(11105),v=n(11237),m=n(82418),h=n(16871),f=n(84959),p=n(98734),b=n(4942),g=n(1413),y="CreateBook_addbookcontainer__fwhHB",x="CreateBook_addbooktop__1vvzD",k="CreateBook_upload__HNRfX",j="CreateBook_profilephotocontainer__gxkdj",Z="CreateBook_userLogo2__aVz3Z",S="CreateBook_cloos2__lRybz",C="CreateBook_inputcontainerflex__SyFUm",N="CreateBook_button_main__Er++4",w="CreateBook_tabs__6Gcb1",T="Tabs_mcqToptabs__CZ3sE",B="Tabs_mcqTop__Tml1v",A="Tabs_mcqTopItem__oxZq2",I="Tabs_active__ohVkz",L=n(80184);var F=function(e){var o=e.bookAddType,n=e.onToggleType,t=(0,r.$G)().t;return(0,L.jsx)("div",{className:B,children:(0,L.jsxs)("div",{className:T,children:[(0,L.jsx)("div",{className:o?A:"".concat(A," ").concat(I),onClick:function(){return n("offline")},children:t("offline")}),(0,L.jsx)("div",{className:o?"".concat(A," ").concat(I):A,onClick:function(){return n("online")},children:t("online")})]})})},E=n(97655),P=n(66508),O=n(5574),G=n(91022),R=n(72952),H=n(69721),U=n(81622),q=["English","Hindi","Marathi","Assamese","Bengali","Bodo","Gujrati","Kannada","Kashmiri","Malayalam","Manipuri","Maithili","Nepali","Oriya","Panjabi","Sanskrit","Santhali","Sindhi","Tamil","Telugu","Urdu"],D=function(e){var o,n,t,l,s,d,u,_,v,m,T,B=e.status,A=e.onRefetchWhenBookCreate,I=e.lid,D=(0,r.$G)().t,K=(0,h.s0)(),V=(0,h.TH)(),z=(0,i.useState)(!1),J=(0,a.Z)(z,2),M=J[0],$=J[1],W=(0,i.useState)(!1),Y=(0,a.Z)(W,2),X=Y[0],Q=Y[1],ee=(0,i.useState)(""),oe=(0,a.Z)(ee,2),ne=oe[0],te=oe[1],ae=(0,i.useState)(!1),ie=(0,a.Z)(ae,2),le=ie[0],re=ie[1],ce=(0,i.useState)(""),se=(0,a.Z)(ce,2),de=se[0],ue=se[1],_e=(0,i.useState)(!1),ve=(0,a.Z)(_e,2),me=ve[0],he=ve[1],fe=(0,i.useState)(""),pe=(0,a.Z)(fe,2),be=(pe[0],pe[1]),ge=(0,i.useState)(""),ye=(0,a.Z)(ge,2),xe=ye[0],ke=ye[1],je=(0,i.useState)({bookName:"",bookStatus:"Offline",author:"",publication:"",language:"",totalPage:"",price:"",totalCopies:"",shellNumber:"",description:"",photo:"",attachment:[]}),Ze=(0,a.Z)(je,2),Se=Ze[0],Ce=Ze[1],Ne=(0,f.FL)(),we=(0,a.Z)(Ne,1)[0],Te=(0,c.nY)(),Be=(0,a.Z)(Te,1)[0],Ae=(0,c.CU)(),Ie=(0,a.Z)(Ae,1)[0],Le=(0,c.iJ)({bid:null===(o=V.state)||void 0===o?void 0:o.bid,skip:!(null!==(n=V.state)&&void 0!==n&&n.bid)}).getBookDetailRefetch;(0,i.useEffect)((function(){if("edit"===B){var e,o,n,t,a,i,l,r,c,s,d,u,_,v=null===(e=V.state)||void 0===e?void 0:e.book;"Online"===(null===v||void 0===v?void 0:v.bookStatus)&&Q(!0),Ce({bookName:null!==(o=null===v||void 0===v?void 0:v.bookName)&&void 0!==o?o:"",bookStatus:null!==(n=null===v||void 0===v?void 0:v.bookStatus)&&void 0!==n?n:"Offline",author:null!==(t=null===v||void 0===v?void 0:v.author)&&void 0!==t?t:"",publication:null!==(a=null===v||void 0===v?void 0:v.publication)&&void 0!==a?a:"",language:null!==(i=null===v||void 0===v?void 0:v.language)&&void 0!==i?i:"",totalPage:null!==(l=null===v||void 0===v?void 0:v.totalPage)&&void 0!==l?l:"",price:null!==(r=null===v||void 0===v?void 0:v.price)&&void 0!==r?r:"",totalCopies:null!==(c=null===v||void 0===v?void 0:v.totalCopies)&&void 0!==c?c:"",shellNumber:null!==(s=null===v||void 0===v?void 0:v.shellNumber)&&void 0!==s?s:"",description:null!==(d=null===v||void 0===v?void 0:v.description)&&void 0!==d?d:"",photo:null!==(u=null===v||void 0===v?void 0:v.photo)&&void 0!==u?u:"",attachment:null!==(_=null===v||void 0===v?void 0:v.attachment)&&void 0!==_?_:[]})}}),[B]);var Fe=function(e){Ce((function(o){return(0,g.Z)((0,g.Z)({},o),{},(0,b.Z)({},e.target.name,e.target.value))}))},Ee=function(e){Ce((function(o){return(0,g.Z)((0,g.Z)({},o),{},(0,b.Z)({},e.target.name,+e.target.value))}))},Pe=function(e,o){$((function(e){return!e}));var n=new FormData;n.append("file",e),we({fileUpload:n}).then((function(n){if("Thumbnail"===o)Ce((function(e){var o;return(0,g.Z)((0,g.Z)({},e),{},{photo:null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.imageKey})}));else{var t,a={documentType:"",documentName:"",documentSize:"",documentKey:""};a.documentType=e.type,a.documentName=e.name,a.documentSize=e.size,a.documentKey=null===(t=n.data)||void 0===t?void 0:t.imageKey,Ce((function(e){return(0,g.Z)((0,g.Z)({},e),{},{attachment:[a]})}))}$((function(e){return!e}))})).catch({})};(0,i.useEffect)((function(){le&&Pe(de,"Thumbnail")}),[le,de]);var Oe=function(e){Ce("offline"===e?function(e){return(0,g.Z)((0,g.Z)({},e),{},{bookStatus:"Offline",attachment:[]})}:"online"===e?function(e){return(0,g.Z)((0,g.Z)({},e),{},{bookStatus:"Online",totalCopies:"",shellNumber:""})}:{bookName:"",bookStatus:"Offline",author:"",publication:"",language:"",totalPage:"",price:"",totalCopies:"",shellNumber:"",description:"",photo:"",attachment:[]})};return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("div",{className:y,children:[(0,L.jsxs)("div",{className:x,children:[(0,L.jsx)("img",{src:"/images/back.svg",onClick:function(){K(-1)}}),(0,L.jsx)("h6",{children:D("add_books")}),(0,L.jsx)("div",{})]}),(0,L.jsxs)("div",{className:j,children:[(0,L.jsx)("img",{className:Z,src:xe||(null!==(t=V.state)&&void 0!==t&&null!==(l=t.book)&&void 0!==l&&l.photo?"".concat(H.yI,"/").concat(null===(s=V.state)||void 0===s||null===(d=s.book)||void 0===d?void 0:d.photo):"/images/library/addbook_upload.svg"),alt:"avatar"}),(0,L.jsx)("label",{htmlFor:"img",style:{cursor:"pointer"},children:(0,L.jsx)("img",{className:S,src:"/images/library/editicon.svg",alt:"Avatar"})}),(0,L.jsx)("input",{className:k,id:"img",name:"file",onChange:function(e){var o;if(null!==(o=e.target.files)&&void 0!==o&&o.length){var n=URL.createObjectURL(e.target.files[0]);ue(e.target.files[0]),be(n),ke(n),he(!0)}},type:"file",accept:"image/gif, image/jpeg, image/png"})]}),(0,L.jsx)("div",{className:w,children:(0,L.jsx)(F,{bookAddType:X,onToggleType:function(e){"edit"===B||(Oe(e),Q((function(e){return!e})))}})}),(0,L.jsxs)("div",{className:C,children:[(0,L.jsx)(E.Z,{labelText:D("enter_book_name"),placeholder:D("book_name"),name:"bookName",value:Se.bookName,type:"text",onChange:Fe,errorShow:ne.bookName,customStyleContainer:{width:"47%"}}),(0,L.jsx)(E.Z,{labelText:D("enter_book_author"),placeholder:D("book_author"),name:"author",value:Se.author,type:"text",onChange:Fe,errorShow:ne.author,customStyleContainer:{width:"47%"}}),X?(0,L.jsx)(U.Z,{labelText:D("add_book_attachment"),name:"book_attach",value:null!==(u=Se.attachment)&&void 0!==u&&u[0]?{originalName:null===(_=Se.attachment)||void 0===_||null===(v=_[0])||void 0===v?void 0:v.documentName,key:null===(m=Se.attachment)||void 0===m||null===(T=m[0])||void 0===T?void 0:T.documentKey,isPdf:!0}:"",onChange:function(e){var o;null!==(o=e.target.files)&&void 0!==o&&o.length&&Pe(e.target.files[0],"book_pdf")},customStyleContainer:{width:"96%"},errorShow:ne.book_attach}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(E.Z,{labelText:D("enter_book_copies"),placeholder:D("total_book_copies"),name:"totalCopies",value:Se.totalCopies,type:"tel",onChange:Ee,customStyleContainer:{width:"47%"}}),(0,L.jsx)(E.Z,{labelText:D("enter_shelf_no"),placeholder:D("shelf_no"),name:"shellNumber",value:Se.shellNumber,type:"text",onChange:Fe,customStyleContainer:{width:"47%"}})]}),(0,L.jsx)(E.Z,{labelText:D("enter_publication"),placeholder:D("publication"),name:"publication",value:Se.publication,type:"text",onChange:Fe,customStyleContainer:{width:"47%"}}),(0,L.jsx)(G.Z,{selectLabel:D("book_lang"),selectedValue:D("enter_book_lang"),options:q,value:Se.language,onClick:function(e){Ce((function(o){return(0,g.Z)((0,g.Z)({},o),{},{language:e})}))},errorShow:ne.language,customStyleContainer:{width:"47%"}}),(0,L.jsx)(E.Z,{labelText:D("enter_book_total_pages"),placeholder:D("book_total_pages"),name:"totalPage",value:Se.totalPage,type:"text",onChange:Ee,customStyleContainer:{width:"47%"}}),(0,L.jsx)(E.Z,{labelText:D("enter_book_pricce"),placeholder:D("book_pricce"),name:"price",value:Se.price,type:"text",onChange:Ee,customStyleContainer:{width:"47%"}}),(0,L.jsx)(R.Z,{labelText:D("book_desc"),placeholder:D("enter_book_desc"),name:"description",value:Se.description,type:"text",onChange:Fe,customStyleContainer:{width:"96%"}})]}),(0,L.jsx)("div",{className:N,onClick:function(){var e=!1,o="Offline"===Se.bookStatus?function(e){var o={};for(var n in e)e[n]||(o[n]="".concat(n," is required!"));return o}({bookName:Se.bookName,author:Se.author,language:Se.language}):function(e){var o={};for(var n in e){var t;"book_attach"===n?(null===(t=e[n])||void 0===t?void 0:t.length)>0||(o[n]="".concat(n," is required!")):e[n]||(o[n]="".concat(n," is required!"))}return o}({bookName:Se.bookName,author:Se.author,language:Se.language,book_attach:Se.attachment});for(var n in o)if(n){e=!0;break}if(e)te(o);else{var t;if($(!0),"edit"===B)Ie({bid:null===V||void 0===V||null===(t=V.state)||void 0===t?void 0:t.bid,editData:Se}).then((function(){Le(),A(),Oe(),$(!1),K(-1)})).catch((function(){}));"create"===B&&Be({lid:I,bookData:Se}).then((function(){A(),$(!1),Oe(),K(-1)})).catch((function(){}))}},children:D("edit"===B?"edit_book":"add_book_")})]}),me&&(0,L.jsx)(O.Z,{open:me,children:(0,L.jsx)(P.Z,{setPhotoURL:ke,photoURL:xe,setFile:ue,setOpenCrop:he,setProfilePhoto:be,setUpload:re,first:1,second:1})}),M&&(0,L.jsx)(p.Z,{})]})},K=n(65082),V=n(89652);var z=function(e){var o,n,b,g,y=e.carryParentState,x=e.libraryId,k=e.pageOpenAs,j=(0,r.$G)().t,Z=(0,h.TH)(),S=(0,d.YD)(),C=(0,a.Z)(S,2),N=C[0],w=C[1],T=(0,i.useState)(1),B=(0,a.Z)(T,2),A=B[0],I=B[1],F=(0,i.useState)(""),E=(0,a.Z)(F,2),P=E[0],O=E[1],G=(0,i.useState)(!0),R=(0,a.Z)(G,2),H=R[0],U=R[1],q=(0,i.useState)(!1),z=(0,a.Z)(q,2),J=z[0],M=z[1],$=(0,i.useState)(!0),W=(0,a.Z)($,2),Y=W[0],X=W[1],Q=(0,i.useState)([]),ee=(0,a.Z)(Q,2),oe=ee[0],ne=ee[1],te=(0,s.v9)((function(e){return e.libraryChange.lid})),ae=(0,i.useState)(!1),ie=(0,a.Z)(ae,2),le=ie[0],re=ie[1],ce=(0,f.FL)(),se=(0,a.Z)(ce,1)[0],de=(0,c.XJ)(),ue=(0,a.Z)(de,1)[0],_e=(0,c.O_)({data:{lid:te||x,page:P||J?1:A,limit:10,search:P,flow:""},skip:te?!te:!x}),ve=_e.getBooklist,me=_e.getBookListRefetch;(0,i.useEffect)((function(){w&&H&&I((function(e){return e+1}))}),[w,H]),(0,i.useEffect)((function(){(te||x)&&(X(!0),me())}),[A,te,x,P,me]),(0,i.useEffect)((function(){var e,o;P?(ne(null===ve||void 0===ve?void 0:ve.books),X(!1)):J?(ne((function(e){var o,n;return null===(o=(0,t.Z)(new Set(null===(n=[].concat((0,t.Z)(null===ve||void 0===ve?void 0:ve.books),(0,t.Z)(e)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===o?void 0:o.map(JSON.parse)})),X(!1),M(!1)):null!==ve&&void 0!==ve&&ve.books?(ne((function(e){var o,n;return null===(o=(0,t.Z)(new Set(null===(n=[].concat((0,t.Z)(e),(0,t.Z)(null===ve||void 0===ve?void 0:ve.books)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===o?void 0:o.map(JSON.parse)})),X(!1)):0===(null===ve||void 0===ve||null===(o=ve.books)||void 0===o?void 0:o.length)&&X(!1);10===(null===ve||void 0===ve||null===(e=ve.books)||void 0===e?void 0:e.length)?U(!0):U(!1)}),[null===ve||void 0===ve?void 0:ve.books]);var he=(0,i.useCallback)((0,u.debounce)((function(e){return O(e)}),500),[]),fe=function(){I(1),M(!0),X(!0),me()};return(0,L.jsxs)(L.Fragment,{children:["book"===(null===Z||void 0===Z||null===(o=Z.search)||void 0===o?void 0:o.substring(3))&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("div",{className:l.searchContainerr,children:[(0,L.jsxs)("div",{className:l.searchContainer,children:[(0,L.jsx)("img",{alt:"",src:"/images/search-dept-icon.svg"}),(0,L.jsx)("input",{type:"text",onChange:function(e){return o=e.target.value,void he(o);var o},placeholder:j("search-label"),required:!0})]}),(0,L.jsx)("label",{className:l.upload_excel_file,htmlFor:"uploadExcel",style:{cursor:"pointer"},children:(0,L.jsx)("img",{src:"/images/upload-xslx-icon.svg",alt:"add student icon",title:"Upload excel file"})}),(0,L.jsx)("input",{type:"file",id:"uploadExcel",accept:".xlsx",onChange:function(e){var o;if(null!==(o=e.target.files)&&void 0!==o&&o.length){re((function(e){return!e}));var n=new FormData;n.append("file",e.target.files[0]),se({fileUpload:n}).then((function(e){var o,n;null!==(o=e.data)&&void 0!==o&&o.imageKey?ue({lid:x||te,excelFile:{excel_file:null===(n=e.data)||void 0===n?void 0:n.imageKey}}).then((function(){re((function(e){return!e}))})).catch({}):re((function(e){return!e}))})).catch({})}},style:{display:"none"}}),"INSTITUTE"===k?(0,L.jsx)(K.Z,{carryParentState:y,activeTab:"?a=book&n=add",customStyle:{width:"19%"},children:(0,L.jsx)("div",{className:l.newBtn,style:{width:"100%"},children:j("add_new_book")})}):(0,L.jsx)(v.Z,{carryParentState:y,activeTab:"book&n=add",customStyle:{width:"19%"},children:(0,L.jsx)("div",{className:l.newBtn,style:{width:"100%"},children:j("add_new_book")})})]}),(0,L.jsx)("div",{className:l.remainingFees,children:(0,L.jsxs)("div",{className:l.remainingFeesBottom,children:[null===oe||void 0===oe?void 0:oe.map((function(e,o){return(null===oe||void 0===oe?void 0:oe.length)===o+1?(0,L.jsx)("div",{ref:N,children:(0,L.jsx)(V.Z,{book:e,carryParentState:y,viewAs:k})},null===e||void 0===e?void 0:e._id):(0,L.jsx)(V.Z,{book:e,carryParentState:y,viewAs:k},null===e||void 0===e?void 0:e._id)})),Y&&(0,L.jsx)(_.Z,{status:"white"})]})})]}),"add"===(null===Z||void 0===Z||null===(n=Z.search)||void 0===n?void 0:n.substring(10))&&(0,L.jsx)(D,{status:"create",lid:x||te,onRefetchWhenBookCreate:fe}),"edit"===(null===Z||void 0===Z||null===(b=Z.search)||void 0===b?void 0:b.substring(10))&&(0,L.jsx)(D,{status:"edit",onRefetchWhenBookCreate:fe}),"detail"===(null===Z||void 0===Z||null===(g=Z.search)||void 0===g?void 0:g.substring(10))&&(0,L.jsx)(m.Z,{carryParentState:y,pageOpenAs:k}),le&&(0,L.jsx)(p.Z,{})]})}},78068:function(e,o,n){n.d(o,{Z:function(){return I}});var t=n(4942),a=n(1413),i=n(93433),l=n(37762),r=n(29439),c=n(72791),s="LibrarySiteInfo_navbar__TGoYj",d="LibrarySiteInfo_bgContainer__EWPif",u="LibrarySiteInfo_container__MkD7-",_="LibrarySiteInfo_containercontent__VjZpG",v="LibrarySiteInfo_containerhead__37u0P",m="LibrarySiteInfo_container_inner_content__zJwhT",h="LibrarySiteInfo_show_field__wgqa-",f="LibrarySiteInfo_update_btn__6sDL+",p="LibrarySiteInfo_add_contact_person__gpVpu",b="LibrarySiteInfo_add_contact_person_btn__XtVml",g=n(39230),y=n(16871),x=n(72952),k=n(98734),j=n(84959),Z=n(98094),S=n(91007),C=n(97655),N=n(79872),w=n(81622),T=n(95048),B=n(55581),A=n(80184),I=function(e){var o,n,I,L,F=e.lid,E=e.viewAs,P=(0,g.$G)().t,O=(0,y.s0)(),G=(0,c.useState)(!1),R=(0,r.Z)(G,2),H=R[0],U=R[1],q=(0,c.useState)({library_message:"",library_rule:"",library_image:"",library_timing:""}),D=(0,r.Z)(q,2),K=D[0],V=D[1],z=(0,c.useState)([{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}]),J=(0,r.Z)(z,2),M=J[0],$=J[1],W=(0,T.v9)((function(e){return e.idChange.id})),Y=(0,S.pu)(W,{skip:"INSTITUTE"===E||!W}),X=Y.data,Q=Y.refetch;(0,c.useEffect)((function(){W&&Q()}),[W,Q]);var ee=(0,j.FL)(),oe=(0,r.Z)(ee,1)[0],ne=(0,B.H)({lid:F,skip:!F}),te=ne.libraryGetSiteInfo,ae=ne.libraryGetSiteInfoRefetch,ie=(0,B.qw)(),le=(0,r.Z)(ie,1)[0];(0,c.useEffect)((function(){F&&ae()}),[F,ae]),(0,c.useEffect)((function(){var e,o,n,t,a,i;if(null!==te&&void 0!==te&&te.library_site&&(V({library_message:null===te||void 0===te||null===(e=te.library_site)||void 0===e?void 0:e.library_message,library_rule:null===te||void 0===te||null===(o=te.library_site)||void 0===o?void 0:o.library_rule,library_image:null===te||void 0===te||null===(n=te.library_site)||void 0===n?void 0:n.library_image,library_timing:null===te||void 0===te||null===(t=te.library_site)||void 0===t?void 0:t.library_timing}),null!==te&&void 0!==te&&null!==(a=te.library_site)&&void 0!==a&&null!==(i=a.library_contact)&&void 0!==i&&i.length)){var r,c,s=[],d=(0,l.Z)(null===te||void 0===te||null===(r=te.library_site)||void 0===r?void 0:r.library_contact);try{for(d.s();!(c=d.n()).done;){var u=c.value,_={contact_department_name:null===u||void 0===u?void 0:u.contact_department_name,contact_person_name:null===u||void 0===u?void 0:u.contact_person_name,contact_person_mobile:null===u||void 0===u?void 0:u.contact_person_mobile,contact_person_email:null===u||void 0===u?void 0:u.contact_person_email,contactId:null===u||void 0===u?void 0:u._id};s.push(_)}}catch(v){d.e(v)}finally{d.f()}$(s)}}),[null===te||void 0===te?void 0:te.library_site]);var re=function(e,o){for(var n=(0,i.Z)(M),t=0;t<(null===n||void 0===n?void 0:n.length);t++)t===o&&(n[t][e.target.name]=e.target.value);$(n)},ce=function(e){V((function(o){return(0,a.Z)((0,a.Z)({},o),{},(0,t.Z)({},e.target.name,e.target.value))}))},se=function(e){U((function(e){return!e}));var o=new FormData;o.append("file",e.target.files[0]),oe({fileUpload:o}).then((function(o){var n;null!==(n=o.data)&&void 0!==n&&n.imageKey&&V((function(n){var i;return(0,a.Z)((0,a.Z)({},n),{},(0,t.Z)({},e.target.name,null===(i=o.data)||void 0===i?void 0:i.imageKey))})),U((function(e){return!e}))})).catch({})};return(0,A.jsxs)("div",{className:d,children:["INSTITUTE"===E?null:(0,A.jsx)("div",{className:s,children:(0,A.jsx)(N.default,{status:"members",profileData:null===X||void 0===X?void 0:X.user,username:null===X||void 0===X||null===(o=X.user)||void 0===o?void 0:o.username,name:null===X||void 0===X||null===(n=X.user)||void 0===n?void 0:n.userLegalName,photoId:null===X||void 0===X||null===(I=X.user)||void 0===I?void 0:I.photoId,profilePhoto:null===X||void 0===X||null===(L=X.user)||void 0===L?void 0:L.profilePhoto})}),(0,A.jsxs)("div",{className:u,children:[(0,A.jsxs)("div",{className:v,children:[(0,A.jsx)("h6",{children:P("update_library_site_info")}),(0,A.jsx)("img",{src:"/images/close-post-icon.svg",alt:"",onClick:function(){O(-1)}})]}),(0,A.jsx)(Z.Z,{customStyle:{width:"100%"}}),(0,A.jsx)("div",{className:_,children:(0,A.jsxs)("div",{className:m,children:[(0,A.jsx)(x.Z,{labelText:P("library_message"),placeholder:P("library_message_placeholder"),name:"library_message",value:K.library_message,type:"text",onChange:ce,customStyleContainer:{width:"100%"}}),(0,A.jsx)(x.Z,{labelText:P("library_rule_and_regulation"),placeholder:P("library_rule_and_regulation_placeholder"),name:"library_rule",value:K.library_rule,type:"text",onChange:ce,customStyleContainer:{width:"100%"}}),(0,A.jsxs)("div",{className:h,children:[(0,A.jsx)(w.Z,{labelText:P("library_image"),name:"library_image",value:K.library_image,onChange:se,customStyleContainer:{width:"49.5%"}}),(0,A.jsx)(w.Z,{labelText:P("library_timing"),name:"library_timing",value:K.library_timing,onChange:se,customStyleContainer:{width:"49.5%"}})]}),(0,A.jsxs)("div",{className:p,children:[(0,A.jsx)("h6",{children:P("add_contact_persons")}),null===M||void 0===M?void 0:M.map((function(e,o){return(0,A.jsxs)("div",{children:[(0,A.jsxs)("div",{className:h,children:[(0,A.jsx)(C.Z,{labelText:P("site_department_name"),placeholder:P("site_department_name_placeholder"),name:"contact_department_name",value:null===e||void 0===e?void 0:e.contact_department_name,type:"text",onChange:function(e){return re(e,o)},customStyleContainer:{width:"49.5%"}}),(0,A.jsx)(C.Z,{labelText:P("contact_person_name"),placeholder:P("contact_person_name_placeholder"),name:"contact_person_name",value:null===e||void 0===e?void 0:e.contact_person_name,type:"text",onChange:function(e){return re(e,o)},customStyleContainer:{width:"49.5%"}})]}),(0,A.jsxs)("div",{className:h,children:[(0,A.jsx)(C.Z,{labelText:P("contact_person_mobile"),placeholder:P("contact_person_mobile_placeholder"),name:"contact_person_mobile",value:null===e||void 0===e?void 0:e.contact_person_mobile,type:"text",onChange:function(e){return re(e,o)},customStyleContainer:{width:"49.5%"}}),(0,A.jsx)(C.Z,{labelText:P("contact_person_email"),placeholder:P("contact_person_email_placeholder"),name:"contact_person_email",value:null===e||void 0===e?void 0:e.contact_person_email,type:"email",onChange:function(e){return re(e,o)},customStyleContainer:{width:"49.5%"}})]})]},o)}))]}),(0,A.jsx)("button",{className:b,title:"Add Contact Person",onClick:function(){$((function(e){return[].concat((0,i.Z)(e),[{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}])}))},children:P("add_contact_person")}),H&&(0,A.jsx)(k.Z,{}),(0,A.jsx)("button",{className:f,onClick:function(){var e,o,n,t;U((function(e){return!e}));var i=[];(null===te||void 0===te||null===(e=te.library_site)||void 0===e?void 0:e.library_image)!==K.library_image&&i.push(null===te||void 0===te||null===(o=te.library_site)||void 0===o?void 0:o.library_image),(null===te||void 0===te||null===(n=te.library_site)||void 0===n?void 0:n.library_timing)!==K.library_timing&&i.push(null===te||void 0===te||null===(t=te.library_site)||void 0===t?void 0:t.library_timing),le({lid:F,updateSiteInfo:(0,a.Z)((0,a.Z)({},K),{},{library_contact:null===M||void 0===M?void 0:M.filter((function(e){return null!==e&&void 0!==e&&e.contactId?"":e})),edit_library_contact:null===M||void 0===M?void 0:M.filter((function(e){return null!==e&&void 0!==e&&e.contactId?e:""})),previousKey:i})}).then((function(){U((function(e){return!e}))})).catch({})},children:P("update")})]})})]})]})}},12072:function(e,o,n){n.d(o,{Z:function(){return r}});var t=n(1413),a=(n(72791),n(54164)),i="Overlay_overlay_card__PAr1h",l=n(80184),r=function(e){var o=e.children,n=e.customStyle;return(0,l.jsx)(l.Fragment,{children:a.createPortal((0,l.jsx)("div",{className:i,style:(0,t.Z)({},n),children:o}),document.getElementById("overlay"))})}},84489:function(e,o,n){var t=n(1413),a=(n(72791),n(51857)),i=n(80184);o.Z=function(e){var o=e.onClose,n=e.customStyleBackdrop;return(0,i.jsx)("div",{className:a.Z.search_backdrop,style:(0,t.Z)({},n),onClick:o})}},51857:function(e,o){o.Z={search_backdrop:"SearchHeader_search_backdrop__MsKpG",search_card:"SearchHeader_search_card__-jNcg",search_container:"SearchHeader_search_container__NS7Om",search_container_text:"SearchHeader_search_container_text__bkolR",searchIcon:"SearchHeader_searchIcon__J7cNp",search_container_back:"SearchHeader_search_container_back__ZoXdV"}}}]);
//# sourceMappingURL=7496.f1e6ea73.chunk.js.map