"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[87732],{87732:(e,l,s)=>{s.r(l),s.d(l,{default:()=>k});var i=s(39230),t=s(72791),n=s(23441),a=s(98684),d=s(56959),c=s(90904),o=s(21348),r=s(77302),u=s(91427),m=s(57588),v=s(2651),h=s(55336),x=s(1669),j=s(9228),g=s(16871),_=s(80184);const p=e=>{var l,s,i,t,n,d;let{master:c,departmentName:o}=e;const r=(0,g.TH)();return(0,_.jsx)("div",{className:j.Z.iadcc_card_hover,children:(0,_.jsxs)("div",{className:j.Z.sf_card_contatiner,children:[(0,_.jsx)("img",{src:"".concat(a.wP,"/cls-icon.svg"),loading:"lazy",alt:"avatar",style:{borderRadius:"0",height:"2rem",width:"2rem"}}),(0,_.jsx)("div",{className:j.Z.sf_card_contatiner_inner,children:(0,_.jsxs)("h6",{children:[null!==(l=null===c||void 0===c?void 0:c.subjectName)&&void 0!==l?l:"",(0,_.jsxs)("span",{style:{fontSize:"12px"},children:[" ","("," ",null!==(s=r.state)&&void 0!==s&&s.departmentName?null===(i=r.state)||void 0===i?void 0:i.departmentName:o,")"]})," -> "," ",null!==(t=null===c||void 0===c?void 0:c.subjectName)&&void 0!==t?t:"",(0,_.jsxs)("span",{style:{fontSize:"12px"},children:[" ","(",null!==(n=null===c||void 0===c||null===(d=c.department)||void 0===d?void 0:d.dName)&&void 0!==n?n:"",")"]})]})})]})})};var Z=s(93638),S=s(38857),N=s(16925),b=s(48801),f=s(74125);const y=e=>{var l,s,n,d,u;let{onClose:m,onRefetch:v,did:x,instituteId:j}=e;const{t:g}=(0,i.$G)(),[p,y]=(0,t.useState)(!1),[k,C]=(0,t.useState)("DEPARTMENT"),[I,M]=(0,t.useState)({subId:"",mapId:"",selectedDepartment:""}),[R]=(0,r.RV)(),A=()=>{"DEPARTMENT"===k?m():C("MASTER"===k?"DEPARTMENT":"MASTER")};return console.info("djhgbds",I),(0,_.jsx)(_.Fragment,{children:"DEPARTMENT"===k?(0,_.jsx)(b.Z,{onSelectStaff:e=>{M((l=>({...l,selectedDepartment:e}))),C("MASTER")},title:g("select_department"),onClose:A,selectedId:null===(l=I.selectedDepartment)||void 0===l?void 0:l._id,instituteId:j,whichType:"Normal"}):"MASTER"===k?(0,_.jsx)(f.Z,{onSelectStaff:e=>{M((l=>({...l,subId:e}))),C("")},title:g("select_subject"),onClose:A,selectedId:null===(s=I.subId)||void 0===s?void 0:s._id,instituteId:null===(n=I.selectedDepartment)||void 0===n?void 0:n._id}):(0,_.jsx)(S.Z,{onClose:A,children:(0,_.jsxs)("div",{className:N.Z.modal_container,children:[(0,_.jsx)(o.Z,{children:(0,_.jsxs)("div",{className:N.Z.modal_container_outer_header,children:[(0,_.jsx)("div",{className:N.Z.modal_container_header,children:(0,_.jsx)("h6",{children:g("map_subject_master")})}),(0,_.jsx)("img",{src:"".concat(a.J7,"/close.svg"),alt:"close icon",onClick:m})]})}),(0,_.jsx)(c.Z,{}),(0,_.jsxs)(o.Z,{customStyle:{paddingTop:"0"},children:[(0,_.jsx)("div",{className:N.Z.modal_container_header,children:(0,_.jsxs)("h6",{children:[(0,_.jsx)("span",{style:{fontWeight:"600"},children:null===(d=I.subId)||void 0===d?void 0:d.subjectName})," ","("," ",(0,_.jsx)("span",{style:{fontWeight:"500"},children:null===I||void 0===I||null===(u=I.selectedDepartment)||void 0===u?void 0:u.dName}),")"]})}),(0,_.jsx)(Z.Z,{label:"map",onAction:()=>{var e,l;x&&null!==I&&void 0!==I&&null!==(e=I.subId)&&void 0!==e&&e._id&&(y((e=>!e)),R({bodyParameter:{did:x,subId:null,mapId:null===(l=I.subId)||void 0===l?void 0:l._id}}).then((()=>{v(),y((e=>!e)),m()})).catch({}))}})]}),p&&(0,_.jsx)(h.Z,{})]})})})},k=e=>{var l,s,j;let{did:g,instituteId:S,openAs:N,departmentName:b}=e;const{t:f}=(0,i.$G)(),[k,C]=(0,t.useState)(""),[I,M]=(0,t.useState)(1),[R,A]=(0,t.useState)(!0),[T,D]=(0,n.YD)({skip:k}),[E,B]=(0,t.useState)(!1),{academicDepartmentAllSubjectMaster:w,academicDepartmentAllSubjectMasterLoading:L,academicDepartmentAllSubjectMasterRefetch:J}=(0,r.xq)({data:{did:g,page:I,limit:10,search:k},skip:!g});(0,t.useEffect)((()=>{D&&R&&M((e=>e+1))}),[D,R]),(0,t.useEffect)((()=>{var e;if(null!==w&&void 0!==w&&null!==(e=w.list)&&void 0!==e&&e.length){var l;let e=(0,u.f)(null===w||void 0===w||null===(l=w.list)||void 0===l?void 0:l.length);A((()=>e))}}),[null===w||void 0===w?void 0:w.list]);const P=(0,t.useCallback)((0,m.J)((e=>{M((()=>1)),C(e)}),1500),[]),F=e=>{e.target.value?P(e.target.value):(M((()=>1)),C(""))},G=(0,t.useCallback)((()=>{M((()=>1)),C(""),J()}),[J]),U=()=>{B((e=>!e))};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(o.Z,{children:"DEPARTMENT_HEAD"===N?(0,_.jsxs)("div",{className:d.Z.fm_header_container,children:[(0,_.jsx)("h6",{children:f("masters")}),(0,_.jsxs)("div",{className:d.Z.fm_search,children:[(0,_.jsx)("section",{className:d.Z.fm_search_container,children:(0,_.jsxs)("div",{className:d.Z.fm_search_container_inner,children:[(0,_.jsx)("img",{className:d.Z.fm_search_icon,alt:"search icon",src:"".concat(a.dB,"/navbar-search.svg")}),(0,_.jsx)("input",{type:"text",placeholder:f("search"),onChange:F})]})}),(0,_.jsx)(Z.Z,{label:f("map_master"),customStyle:{margin:"0",padding:"0.4rem 1rem",minWidth:"fit-content"},onAction:U})]})]}):(0,_.jsxs)("div",{className:d.Z.fm_search_full,children:[(0,_.jsx)("section",{className:d.Z.fm_search_full_container,children:(0,_.jsxs)("div",{className:d.Z.fm_search_full_container_inner,children:[(0,_.jsx)("img",{className:d.Z.fm_search_full_icon,alt:"search icon",src:"".concat(a.dB,"/navbar-search.svg")}),(0,_.jsx)("input",{type:"text",placeholder:f("search"),onChange:F})]})}),(0,_.jsx)(Z.Z,{label:f("map_master"),customStyle:{margin:"0",padding:"0.4rem 1rem",minWidth:"fit-content"},onAction:U})]})}),(0,_.jsx)(c.Z,{}),(0,_.jsxs)(o.Z,{customStyle:{paddingTop:"0.3rem",paddingBottom:"1rem"},children:[null===w||void 0===w||null===(l=w.list)||void 0===l?void 0:l.map(((e,l)=>{var s;return(null===w||void 0===w||null===(s=w.list)||void 0===s?void 0:s.length)===l+1?(0,_.jsx)("div",{ref:T,children:(0,_.jsx)(p,{master:e,departmentName:b})},null===e||void 0===e?void 0:e._id):(0,_.jsx)(p,{departmentName:b,master:e},null===e||void 0===e?void 0:e._id)})),L?k?(0,_.jsx)(h.Z,{}):(0,_.jsx)(x.Z,{}):k?0===(null===w||void 0===w||null===(s=w.list)||void 0===s?void 0:s.length)&&(0,_.jsx)(v.Z,{title:"No master found related this search."}):0===(null===w||void 0===w||null===(j=w.list)||void 0===j?void 0:j.length)&&(0,_.jsx)(v.Z,{title:"No master."})]}),E&&(0,_.jsx)(y,{onClose:U,instituteId:S,onRefetch:G,did:g})]})}},48801:(e,l,s)=>{s.d(l,{Z:()=>Z});var i=s(49806),t=s(38857),n=s(21348),a=s(90904),d=s(98684),c=s(39230),o=s(72791),r=s(23441),u=s(91427),m=s(57588),v=s(80184);const h=e=>{var l,s;let{cls:t,selectedId:n,onSelect:a,selectList:c,isMultiSelect:o,onMultiSelect:r}=e;return(0,v.jsx)(v.Fragment,{children:o?(0,v.jsxs)("div",{className:i.Z.assign_show_list_each,onClick:()=>{r(t)},style:{border:"0.5px solid #cacaca",marginBlock:"0.4rem",borderRadius:"6px",padding:"0.8rem 1rem"},children:[null!==c&&void 0!==c&&c.includes(null===t||void 0===t?void 0:t._id)?(0,v.jsx)("img",{src:"".concat(d.U_,"/check.svg"),alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,v.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"".concat(d.U_,"/uncheck.svg"),alt:"icon"}),(0,v.jsx)("div",{className:i.Z.assign_each_paragraph,children:(0,v.jsx)("h6",{children:null!==(l=null===t||void 0===t?void 0:t.dName)&&void 0!==l?l:""})})]}):(0,v.jsx)("div",{className:i.Z.assign_show_list_each,style:n===(null===t||void 0===t?void 0:t._id)?{backgroundColor:"rgba(75, 26, 133, 0.1)",border:"0.5px solid #cacaca",marginBlock:"0.4rem",borderRadius:"6px",padding:"0.8rem 1rem"}:{border:"0.5px solid #cacaca",marginBlock:"0.4rem",borderRadius:"6px",padding:"0.8rem 1rem"},onClick:()=>{a(t)},children:(0,v.jsx)("div",{className:i.Z.assign_each_paragraph,children:(0,v.jsx)("h6",{children:null!==(s=null===t||void 0===t?void 0:t.dName)&&void 0!==s?s:""})})})})};var x=s(55336),j=s(1669),g=s(2651),_=s(93638),p=s(32361);const Z=e=>{var l,s,Z,S;let{title:N,onClose:b,selectedId:f,onSelectStaff:y,instituteId:k,isMultiSelect:C,onMultiSelect:I,selectList:M,onDone:R,whichType:A}=e;const{t:T}=(0,c.$G)(),[D,E]=(0,o.useState)(""),[B,w]=(0,o.useState)(1),[L,J]=(0,o.useState)(!0),[P,F]=(0,r.YD)({skip:D}),{instituteAllDepartment:G,instituteAllDepartmentLoading:U}=(0,p.Jv)({data:{id:k,page:B,limit:10,search:D,which_type:null!==A&&void 0!==A?A:""},skip:!k});(0,o.useEffect)((()=>{F&&L&&w((e=>e+1))}),[F,L]),(0,o.useEffect)((()=>{var e;if(null!==G&&void 0!==G&&null!==(e=G.list)&&void 0!==e&&e.length){var l;let e=(0,u.f)(null===G||void 0===G||null===(l=G.list)||void 0===l?void 0:l.length);J((()=>e))}}),[null===G||void 0===G||null===(l=G.list)||void 0===l?void 0:l.length]);const W=(0,o.useCallback)((0,m.J)((e=>{w((()=>1)),E(e)}),1500),[]),$=e=>{f===(null===e||void 0===e?void 0:e._id)||y(e)};return(0,v.jsx)(t.Z,{onClose:b,children:(0,v.jsxs)("div",{className:i.Z.modal_container,children:[(0,v.jsx)(n.Z,{children:(0,v.jsxs)("div",{className:i.Z.modal_container_outer_header,children:[(0,v.jsx)("div",{className:i.Z.modal_container_header,children:(0,v.jsx)("h6",{children:T(null!==N&&void 0!==N?N:"department_list")})}),(0,v.jsxs)("div",{className:i.Z.modal_container_btn_container,children:[C&&(0,v.jsx)(_.Z,{label:T("select"),count:null===M||void 0===M?void 0:M.length,onAction:R,customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,v.jsx)("img",{src:"".concat(d.J7,"/close.svg"),alt:"close icon",onClick:b})]})]})}),(0,v.jsx)(a.Z,{}),(0,v.jsxs)(n.Z,{customStyle:{paddingBottom:"1rem"},children:[(0,v.jsxs)("div",{className:i.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,v.jsx)("input",{type:"text",placeholder:T("search"),className:i.Z.assign_search_input,onChange:e=>{e.target.value?W(e.target.value):(w((()=>1)),E(""))},style:{width:"100%"}}),(0,v.jsx)("img",{src:"".concat(d.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===G||void 0===G||null===(s=G.list)||void 0===s?void 0:s.map(((e,l)=>{var s;return(null===G||void 0===G||null===(s=G.list)||void 0===s?void 0:s.length)===l+1?(0,v.jsx)("div",{ref:P,children:(0,v.jsx)(h,{cls:e,selectedId:f,onSelect:$,selectList:M,isMultiSelect:C,onMultiSelect:I})},null===e||void 0===e?void 0:e._id):(0,v.jsx)(h,{cls:e,selectedId:f,onSelect:$,selectList:M,isMultiSelect:C,onMultiSelect:I},null===e||void 0===e?void 0:e._id)})),U?D?(0,v.jsx)(x.Z,{}):(0,v.jsx)(j.Z,{}):D?0===(null===G||void 0===G||null===(Z=G.list)||void 0===Z?void 0:Z.length)&&(0,v.jsx)(g.Z,{title:"No department found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===G||void 0===G||null===(S=G.list)||void 0===S?void 0:S.length)&&(0,v.jsx)(g.Z,{title:"No department.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})}},74125:(e,l,s)=>{s.d(l,{Z:()=>Z});var i=s(49806),t=s(38857),n=s(21348),a=s(90904),d=s(98684),c=s(39230),o=s(72791),r=s(23441),u=s(91427),m=s(57588),v=s(80184);const h=e=>{var l,s;let{cls:t,selectedId:n,onSelect:a,selectList:c,isMultiSelect:o,onMultiSelect:r}=e;return(0,v.jsx)(v.Fragment,{children:o?(0,v.jsxs)("div",{className:i.Z.assign_show_list_each,onClick:()=>{r(t)},style:{border:"0.5px solid #cacaca",marginBlock:"0.4rem",borderRadius:"6px",padding:"0.8rem 1rem"},children:[null!==c&&void 0!==c&&c.includes(null===t||void 0===t?void 0:t._id)?(0,v.jsx)("img",{src:"".concat(d.U_,"/check.svg"),alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,v.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"".concat(d.U_,"/uncheck.svg"),alt:"icon"}),(0,v.jsx)("div",{className:i.Z.assign_each_paragraph,children:(0,v.jsx)("h6",{children:null!==(l=null===t||void 0===t?void 0:t.subjectName)&&void 0!==l?l:""})})]}):(0,v.jsx)("div",{className:i.Z.assign_show_list_each,style:n===(null===t||void 0===t?void 0:t._id)?{backgroundColor:"rgba(75, 26, 133, 0.1)",border:"0.5px solid #cacaca",marginBlock:"0.4rem",borderRadius:"6px",padding:"0.8rem 1rem"}:{border:"0.5px solid #cacaca",marginBlock:"0.4rem",borderRadius:"6px",padding:"0.8rem 1rem"},onClick:()=>{a(t)},children:(0,v.jsx)("div",{className:i.Z.assign_each_paragraph,children:(0,v.jsx)("h6",{children:null!==(s=null===t||void 0===t?void 0:t.subjectName)&&void 0!==s?s:""})})})})};var x=s(55336),j=s(1669),g=s(2651),_=s(93638),p=s(43317);const Z=e=>{var l,s,Z,S;let{title:N,onClose:b,selectedId:f,onSelectStaff:y,instituteId:k,isMultiSelect:C,onMultiSelect:I,selectList:M,onDone:R}=e;const{t:A}=(0,c.$G)(),[T,D]=(0,o.useState)(""),[E,B]=(0,o.useState)(1),[w,L]=(0,o.useState)(!0),[J,P]=(0,r.YD)({skip:T}),{admissionInstituteAllSubjectList:F,admissionInstituteAllSubjectListLoading:G}=(0,p.ry)({data:{id:k,page:E,limit:10,search:T},skip:!k});(0,o.useEffect)((()=>{P&&w&&B((e=>e+1))}),[P,w]),(0,o.useEffect)((()=>{var e;if(null!==F&&void 0!==F&&null!==(e=F.list)&&void 0!==e&&e.length){var l;let e=(0,u.f)(null===F||void 0===F||null===(l=F.list)||void 0===l?void 0:l.length);L((()=>e))}}),[null===F||void 0===F||null===(l=F.list)||void 0===l?void 0:l.length]);const U=(0,o.useCallback)((0,m.J)((e=>{B((()=>1)),D(e)}),1500),[]),W=e=>{f===(null===e||void 0===e?void 0:e._id)||y(e)};return(0,v.jsx)(t.Z,{onClose:b,children:(0,v.jsxs)("div",{className:i.Z.modal_container,children:[(0,v.jsx)(n.Z,{children:(0,v.jsxs)("div",{className:i.Z.modal_container_outer_header,children:[(0,v.jsx)("div",{className:i.Z.modal_container_header,children:(0,v.jsx)("h6",{children:A(null!==N&&void 0!==N?N:"subject_list")})}),(0,v.jsxs)("div",{className:i.Z.modal_container_btn_container,children:[C&&(0,v.jsx)(_.Z,{label:A("select"),count:null===M||void 0===M?void 0:M.length,onAction:R,customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,v.jsx)("img",{src:"".concat(d.J7,"/close.svg"),alt:"close icon",onClick:b})]})]})}),(0,v.jsx)(a.Z,{}),(0,v.jsxs)(n.Z,{customStyle:{paddingBottom:"1rem"},children:[(0,v.jsxs)("div",{className:i.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,v.jsx)("input",{type:"text",placeholder:A("search"),className:i.Z.assign_search_input,onChange:e=>{e.target.value?U(e.target.value):(B((()=>1)),D(""))},style:{width:"100%"}}),(0,v.jsx)("img",{src:"".concat(d.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===F||void 0===F||null===(s=F.list)||void 0===s?void 0:s.map(((e,l)=>{var s;return(null===F||void 0===F||null===(s=F.list)||void 0===s?void 0:s.length)===l+1?(0,v.jsx)("div",{ref:J,children:(0,v.jsx)(h,{cls:e,selectedId:f,onSelect:W,selectList:M,isMultiSelect:C,onMultiSelect:I})},null===e||void 0===e?void 0:e._id):(0,v.jsx)(h,{cls:e,selectedId:f,onSelect:W,selectList:M,isMultiSelect:C,onMultiSelect:I},null===e||void 0===e?void 0:e._id)})),G?T?(0,v.jsx)(x.Z,{}):(0,v.jsx)(j.Z,{}):T?0===(null===F||void 0===F||null===(Z=F.list)||void 0===Z?void 0:Z.length)&&(0,v.jsx)(g.Z,{title:"No subject found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===F||void 0===F||null===(S=F.list)||void 0===S?void 0:S.length)&&(0,v.jsx)(g.Z,{title:"No subject.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})}}}]);
//# sourceMappingURL=87732.145ba17f.chunk.js.map