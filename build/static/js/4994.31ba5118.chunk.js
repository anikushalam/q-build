"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[4994,9990],{90777:function(e,n,l){l(72791);var i=l(39230),t=l(98094),o=l(78910),d=l(80184);n.Z=function(e){var n=e.setIndex,l=e.ConfirmOffline,a=(0,i.$G)().t;return(0,d.jsxs)("div",{className:o.Z.process_modal,children:[(0,d.jsxs)("section",{className:o.Z.add_process_modal_title_left,children:[(0,d.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){n(1)},alt:""}),(0,d.jsx)("h6",{children:a("pay_fees_in_cash")})]}),(0,d.jsx)(t.Z,{customStyle:{width:"100%"}}),(0,d.jsxs)("section",{className:o.Z.process_description,children:[(0,d.jsx)("h6",{children:a("procedure_for_paying_in_cash")}),(0,d.jsxs)("p",{children:["1. ",a("visit_school")," "]}),(0,d.jsxs)("p",{children:["2. ",a("contact_admission_department")]}),(0,d.jsxs)("p",{children:["3. ",a("pay_fees_in_cash")]}),(0,d.jsxs)("p",{children:["4. ",a("your_admission_will_be_confirmed_and_fee")]})]}),(0,d.jsx)("button",{className:o.Z.pay_in_cash_btn,onClick:l,children:a("pay_in_cash")})]})}},20662:function(e,n,l){l.d(n,{Z:function(){return W}});var i=l(93433),t=l(29439),o=l(72791),d=l(39230),a=l(23441),s=l(87338),r=l(10406),u=l(98094),c=l(11105),v=l(72426),_=l.n(v),h=l(1413),m=l(27117),f=l(89891),p=l(28497),x=l(80214),j=l(98734),y=l(87932),w=l(97655),Z=l(90777),g=l(24426),C=l(8395),b=l(38732),N=l(43118),S=l(51561),k=l(34478),A=l(71439),I=l(64499),R=l(16871),D=l(36665),E=l(80184),M={inputPxrops:{"aria-label":"Switch demo"}};var T=function(e){var n,l,i,a,r,u,c,v,_,T,L,O,F,H,q,B,P,W,G,$,z,J,K,Q,X,Y,V,U,ee,ne,le,ie,te,oe,de,ae,se,re,ue,ce,ve,_e,he,me,fe,pe,xe,je,ye,we,Ze,ge,Ce,be,Ne,Se,ke,Ae,Ie,Re,De,Ee,Me,Te,Le,Oe,Fe,He=e.hideModal,qe=e.statusQuery,Be=e.onRefetchApplication,Pe=(0,d.$G)().t,We=(0,R.UO)(),Ge=(0,o.useState)(!1),$e=(0,t.Z)(Ge,2),ze=$e[0],Je=$e[1],Ke=(0,o.useState)(0),Qe=(0,t.Z)(Ke,2),Xe=Qe[0],Ye=Qe[1],Ve=(0,o.useState)(!1),Ue=(0,t.Z)(Ve,2),en=Ue[0],nn=Ue[1],ln=(0,o.useState)(!1),tn=(0,t.Z)(ln,2),on=tn[0],dn=tn[1],an=(0,o.useState)(""),sn=(0,t.Z)(an,2),rn=sn[0],un=sn[1],cn=(0,o.useState)({amount:0,feesId:"",insId:"",type:"",installmentType:""}),vn=(0,t.Z)(cn,2),_n=vn[0],hn=vn[1],mn=(0,o.useState)({msg:"",run:!1}),fn=(0,t.Z)(mn,2),pn=fn[0],xn=fn[1],jn=(0,o.useState)({fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:"",fee_payment_acknowledge:"",month:""}),yn=(0,t.Z)(jn,2),wn=yn[0],Zn=yn[1],gn=(0,x.Rg)().data,Cn=(0,x.gt)(),bn=(0,t.Z)(Cn,1)[0],Nn=(0,s.qr)(),Sn=(0,t.Z)(Nn,1)[0],kn=(0,y.Vc)({id:null===qe||void 0===qe||null===(n=qe.renewal_hostel)||void 0===n||null===(l=n.institute)||void 0===l?void 0:l._id,skip:!(null!==qe&&void 0!==qe&&null!==(i=qe.renewal_hostel)&&void 0!==i&&null!==(a=i.institute)&&void 0!==a&&a._id)}),An=kn.merchantId,In=kn.merchantIdRefetch;(0,o.useEffect)((function(){var e,n;null!==qe&&void 0!==qe&&null!==(e=qe.renewal_hostel)&&void 0!==e&&null!==(n=e.institute)&&void 0!==n&&n._id&&In()}),[null===qe||void 0===qe||null===(r=qe.renewal_hostel)||void 0===r||null===(u=r.institute)||void 0===u?void 0:u._id,In]),(0,o.useEffect)((function(){hn((function(e){var n,l,i;return(0,h.Z)((0,h.Z)({},e),{},{amount:null===qe||void 0===qe||null===(n=qe.renewal_student)||void 0===n||null===(l=n.hostel_fee_structure)||void 0===l||null===(i=l.one_installments)||void 0===i?void 0:i.fees})}))}),[]);var Rn=function(e){var n={};return e||(n.month_re="is required!"),n},Dn=function(){var e=Rn(wn.month),n=!1;for(var l in e)if(l){n=!0;break}if(n)un(e);else{var i,t;dn(!0);var o={sid:null===qe||void 0===qe||null===(i=qe.renewal_student)||void 0===i?void 0:i._id,rid:null===qe||void 0===qe?void 0:qe._id,selectRenewal:2!==Xe?wn:{fee_payment_mode:"By Cash",month:wn.month}};""!==(null===qe||void 0===qe||null===(t=qe.renewal_student)||void 0===t?void 0:t._id)&&""!==(null===qe||void 0===qe?void 0:qe._id)&&Sn(o).then((function(e){e.data.status&&(Be(),dn(!1),He(!1))})).catch({})}};return(0,E.jsxs)(E.Fragment,{children:[!en&&(0,E.jsxs)(D.Z,{onClose:function(){return He(!1)},children:[(0===Xe||1===Xe)&&(0,E.jsxs)("div",{className:m.Z.addDisplay,children:[(0,E.jsxs)("div",{className:m.Z.title,children:[(0,E.jsx)("div",{}),(0,E.jsx)("h6",{children:Pe("confirm_renewal")}),(0,E.jsx)("img",{src:"/images/close-post-icon.svg",onClick:function(){return He(!1)},alt:""})]}),(0,E.jsxs)("div",{className:m.Z.content,children:[(0,E.jsx)(w.Z,{labelText:Pe("stay_for_month"),placeholder:Pe("total_months_placeholder"),name:"month_re",value:null===wn||void 0===wn?void 0:wn.month,type:"text",onChange:function(e){return Zn((function(n){return(0,h.Z)((0,h.Z)({},n),{},{month:e.target.value})}))},errorShow:rn.month_re}),(0,E.jsxs)("div",{className:m.Z.tabsss,children:[(0,E.jsx)("div",{className:0===Xe?"".concat(m.Z.singletab," ").concat(m.Z.singletabActive):m.Z.singletab,onClick:function(){return Ye(0)},children:Pe("pay_online")}),(0,E.jsx)("div",{className:1===Xe?"".concat(m.Z.singletab," ").concat(m.Z.singletabActive):m.Z.singletab,onClick:function(){return Ye(1)},children:Pe("pay_offline")})]}),0===Xe&&(0,E.jsxs)("div",{children:[(0,E.jsxs)("div",{className:m.Z.singlerow,children:[(0,E.jsx)("h6",{children:Pe("admission_fees")}),(0,E.jsxs)("h6",{children:["Rs."," ",null!==(c=null===qe||void 0===qe||null===(v=qe.renewal_student)||void 0===v||null===(_=v.hostel_fee_structure)||void 0===_?void 0:_.total_admission_fees)&&void 0!==c?c:0]})]}),(0,E.jsxs)("div",{className:m.Z.singlerow,style:{marginTop:"1rem"},children:[(0,E.jsx)("h6",{children:Pe("applicable_fees_only")}),(0,E.jsxs)("h6",{children:["Rs."," ",null!==(T=null===qe||void 0===qe||null===(L=qe.renewal_student)||void 0===L||null===(O=L.hostel_fee_structure)||void 0===O?void 0:O.applicable_fees)&&void 0!==T?T:0]})]}),(0,E.jsx)("div",{className:m.Z.singlerow,children:(0,E.jsxs)("h6",{children:[Pe("fees_category")," "," : ",null!==(F=null===qe||void 0===qe||null===(H=qe.renewal_student)||void 0===H||null===(q=H.hostel_fee_structure)||void 0===q||null===(B=q.category_master)||void 0===B?void 0:B.category_name)&&void 0!==F?F:""]})}),(0,E.jsx)("h6",{className:m.Z.fee_structure_note,children:Pe("fee_structure_note")}),(0,E.jsxs)("div",{className:m.Z.singlerow1,children:[(0,E.jsx)("h6",{children:Pe("pay_in_installment")}),(0,E.jsx)(f.Z,(0,h.Z)((0,h.Z)({},M),{},{onChange:function(){Je((function(e){return!e}))}}))]}),ze&&(0,E.jsxs)("div",{children:[(0,E.jsx)("div",{className:m.Z.borderr}),(0,E.jsxs)("div",{className:m.Z.singlerow1,children:[(0,E.jsx)("h6",{children:Pe("first_install")}),(0,E.jsxs)("h6",{children:["Rs."," ",null!==(P=null===qe||void 0===qe||null===(W=qe.renewal_student)||void 0===W||null===(G=W.hostel_fee_structure)||void 0===G||null===($=G.one_installments)||void 0===$?void 0:$.fees)&&void 0!==P?P:0]})]})]}),(0,E.jsx)(w.Z,{labelText:Pe("enter_amount_to_be_paid"),name:"amount",type:"tel",value:_n.amount,onChange:function(e){hn((function(n){return(0,h.Z)((0,h.Z)({},n),{},{amount:e.target.value})}))},placeholder:Pe("please_enter_amount_paid")}),(0,E.jsx)("div",{className:m.Z.payandconfirmContainer,children:(0,E.jsx)("p",{className:m.Z.payandconfirm,children:Pe("pay_and_confirm")})}),(0,E.jsx)("div",{className:m.Z.btn,style:{cursor:"pointer"},onClick:function(){var e;return function(e){var n,l,i=Rn(wn.month),t=!1;for(var o in i)if(o){t=!0;break}t?un(i):+_n.amount>=(null===e||void 0===e||null===(n=e.one_installments)||void 0===n?void 0:n.fees)&&+_n.amount<=(null===e||void 0===e?void 0:e.total_admission_fees)?(hn((0,h.Z)((0,h.Z)({},_n),{},{type:"Admission",installmentType:ze?"one_installments":""})),nn(!0)):xn({msg:"Enter amount is not less than ".concat(null===e||void 0===e||null===(l=e.one_installments)||void 0===l?void 0:l.fees," or greater than ").concat(null===e||void 0===e?void 0:e.total_admission_fees),run:!0})}(null===qe||void 0===qe||null===(e=qe.renewal_student)||void 0===e?void 0:e.hostel_fee_structure)},children:Pe("pay_confirm")})]}),1===Xe&&(0,E.jsxs)("div",{children:[(0,E.jsxs)("div",{className:m.Z.singlerow,children:[(0,E.jsx)("h6",{children:Pe("admission_fees")}),(0,E.jsxs)("h6",{children:["Rs."," ",null!==(z=null===qe||void 0===qe||null===(J=qe.renewal_student)||void 0===J||null===(K=J.hostel_fee_structure)||void 0===K?void 0:K.total_admission_fees)&&void 0!==z?z:0]})]}),(0,E.jsxs)("div",{className:m.Z.singlerow,style:{marginTop:"1rem"},children:[(0,E.jsx)("h6",{children:Pe("applicable_fees_only")}),(0,E.jsxs)("h6",{children:["Rs."," ",null!==(Q=null===qe||void 0===qe||null===(X=qe.renewal_student)||void 0===X||null===(Y=X.hostel_fee_structure)||void 0===Y?void 0:Y.applicable_fees)&&void 0!==Q?Q:0]})]}),(0,E.jsx)("div",{className:m.Z.singlerow,children:(0,E.jsxs)("h6",{children:[Pe("fees_category")," "," : ",null!==(V=null===qe||void 0===qe||null===(U=qe.renewal_student)||void 0===U||null===(ee=U.hostel_fee_structure)||void 0===ee||null===(ne=ee.category_master)||void 0===ne?void 0:ne.category_name)&&void 0!==V?V:""]})}),(0,E.jsx)("h6",{className:m.Z.fee_structure_note,children:Pe("fee_structure_note")}),(null===qe||void 0===qe||null===(le=qe.renewal_student)||void 0===le||null===(ie=le.hostel_fee_structure)||void 0===ie||null===(te=ie.one_installments)||void 0===te?void 0:te.fees)&&(0,E.jsxs)("div",{className:m.Z.singlerow1,children:[(0,E.jsx)("h6",{children:Pe("first_install")}),(0,E.jsxs)("h6",{children:["Rs."," ",null!==(oe=null===qe||void 0===qe||null===(de=qe.renewal_student)||void 0===de||null===(ae=de.hostel_fee_structure)||void 0===ae||null===(se=ae.one_installments)||void 0===se?void 0:se.fees)&&void 0!==oe?oe:0]})]}),(0,E.jsx)("div",{className:m.Z.borderr}),(0,E.jsx)("div",{className:m.Z.adholdcontainer,children:(0,E.jsx)("p",{className:m.Z.payandconfirm,children:Pe("admission_hold")})}),(0,E.jsx)(k.Z,{financeId:null!==(re=null===qe||void 0===qe||null===(ue=qe.renewal_hostel)||void 0===ue||null===(ce=ue.institute)||void 0===ce||null===(ve=ce.financeDepart)||void 0===ve?void 0:ve[0])&&void 0!==re?re:"",setIndex:function(e){var n=Rn(wn.month),l=!1;for(var i in n)if(i){l=!0;break}l?un(n):Ye(e)},departmentId:null!==(_e=null===qe||void 0===qe||null===(he=qe.renewal_hostel)||void 0===he?void 0:he._id)&&void 0!==_e?_e:"",flowAs:"Hostel"})]})]})]}),2===Xe&&(0,E.jsx)(Z.Z,{setIndex:Ye,ConfirmOffline:Dn}),3===Xe&&(0,E.jsx)(g.Z,{financeId:null!==(me=null===qe||void 0===qe||null===(fe=qe.renewal_hostel)||void 0===fe||null===(pe=fe.institute)||void 0===pe||null===(xe=pe.financeDepart)||void 0===xe?void 0:xe[0])&&void 0!==me?me:"",setIndex:Ye,setPayData:Zn,payData:wn,ConfirmOffline:Dn,departmentId:null!==(je=null===qe||void 0===qe||null===(ye=qe.renewal_hostel)||void 0===ye?void 0:ye._id)&&void 0!==je?je:"",flowAs:"Hostel",viewAs:"HOSTEL_RENEWAL"}),4===Xe&&(0,E.jsx)(C.Z,{financeId:null!==(we=null===qe||void 0===qe||null===(Ze=qe.renewal_hostel)||void 0===Ze||null===(ge=Ze.institute)||void 0===ge||null===(Ce=ge.financeDepart)||void 0===Ce?void 0:Ce[0])&&void 0!==we?we:"",setIndex:Ye,setPayData:Zn,payData:wn,ConfirmOffline:Dn,departmentId:null!==(be=null===qe||void 0===qe||null===(Ne=qe.renewal_hostel)||void 0===Ne?void 0:Ne._id)&&void 0!==be?be:"",flowAs:"Hostel",viewAs:"HOSTEL_RENEWAL"}),5===Xe&&(0,E.jsx)(b.Z,{financeId:null!==(Se=null===qe||void 0===qe||null===(ke=qe.renewal_hostel)||void 0===ke||null===(Ae=ke.institute)||void 0===Ae||null===(Ie=Ae.financeDepart)||void 0===Ie?void 0:Ie[0])&&void 0!==Se?Se:"",setIndex:Ye,setPayData:Zn,payData:wn,ConfirmOffline:Dn,departmentId:null!==(Re=null===qe||void 0===qe||null===(De=qe.renewal_hostel)||void 0===De?void 0:De._id)&&void 0!==Re?Re:"",flowAs:"Hostel",viewAs:"HOSTEL_RENEWAL"}),6===Xe&&(0,E.jsx)(N.Z,{financeId:null!==(Ee=null===qe||void 0===qe||null===(Me=qe.renewal_hostel)||void 0===Me||null===(Te=Me.institute)||void 0===Te||null===(Le=Te.financeDepart)||void 0===Le?void 0:Le[0])&&void 0!==Ee?Ee:"",setIndex:Ye,setPayData:Zn,payData:wn,ConfirmOffline:Dn,departmentId:null!==(Oe=null===qe||void 0===qe||null===(Fe=qe.renewal_hostel)||void 0===Fe?void 0:Fe._id)&&void 0!==Oe?Oe:"",flowAs:"Hostel",viewAs:"HOSTEL_RENEWAL"}),on&&(0,E.jsx)(j.Z,{})]}),en&&(0,E.jsx)(A.Z,{onClose:function(){return nn(!1)},allContent:_n,checkoutAdmissionHandler:function(e){var n,l,i,t,o=2.1*+(null===_n||void 0===_n?void 0:_n.amount)/100,d=o+18*+o/100,a=parseInt(null===_n||void 0===_n?void 0:_n.amount),s={amount:Math.ceil(a+ +d.toFixed(2))};"PAYTM"===e?(0,I.Ex)({amount:+(null===_n||void 0===_n?void 0:_n.amount),amount_nocharges:+s.amount,type:"Hostel",paidBy:"".concat(null===qe||void 0===qe||null===(n=qe.renewal_student)||void 0===n?void 0:n._id),paidTo:"".concat(null===qe||void 0===qe||null===(l=qe.renewal_hostel)||void 0===l||null===(i=l.institute)||void 0===i?void 0:i._id),moduleId:"".concat(null===qe||void 0===qe||null===(t=qe.renewal_application)||void 0===t?void 0:t._id),ad_status_id:"".concat(null===qe||void 0===qe?void 0:qe._id),payment_installment:_n.installmentType,ad_install:ze,month:wn.month,payment_remain_1:null,payment_card_type:null,payment_book_id:null,name:We.username,isApk:"web",payment_card_id:null}).then((function(e){var n,l;window.onScriptLoad(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(l=n.body)||void 0===l?void 0:l.txnToken,null===e||void 0===e?void 0:e.order,null===e||void 0===e?void 0:e.amount)})).catch((function(e){console.info(e)})):null!==gn&&void 0!==gn&&gn.Key&&null!==s&&void 0!==s&&s.amount?bn({amount:null===s||void 0===s?void 0:s.amount}).then((function(e){var n,l,i,t,o,d,a;null!==(n=e.data)&&void 0!==n&&n.success?(0,p.r)({key:null===gn||void 0===gn?void 0:gn.Key,oid:null===(l=e.data)||void 0===l?void 0:l.order.id,amount_nocharge:100*(null===_n||void 0===_n?void 0:_n.amount),amount:null===(i=e.data)||void 0===i?void 0:i.order.amount,type:"Hostel",pay_by:"".concat(null===qe||void 0===qe||null===(t=qe.renewal_student)||void 0===t?void 0:t._id),pay_to:"".concat(null===qe||void 0===qe||null===(o=qe.renewal_hostel)||void 0===o||null===(d=o.institute)||void 0===d?void 0:d._id),mid:"".concat(null===qe||void 0===qe||null===(a=qe.renewal_application)||void 0===a?void 0:a._id),razor_key:null===An||void 0===An?void 0:An.key,razor_author:null===An||void 0===An?void 0:An.bool,status:"".concat(null===qe||void 0===qe?void 0:qe._id),installment_type:_n.installmentType,is_install:ze,h_month:wn.month}):console.log("data error")})).catch((function(e){console.log(e)})):console.log("error")}}),pn.run&&(0,E.jsx)(S.Ch,{msg:pn.msg,run:pn.run,setRun:function(){return xn({msg:"",run:!1})},postiton:"bottom",type:"error"})]})},L={addDisplay:"CancelStudentAdmisionModal_addDisplay__F2Wy6",title:"CancelStudentAdmisionModal_title__olnIk",content:"CancelStudentAdmisionModal_content__yn5Kq",contentRow:"CancelStudentAdmisionModal_contentRow__x+xXy",payLabel:"CancelStudentAdmisionModal_payLabel__GaOXQ",payInput:"CancelStudentAdmisionModal_payInput__o+M5l",payCardTop:"CancelStudentAdmisionModal_payCardTop__zvIDT",payCardContent:"CancelStudentAdmisionModal_payCardContent__8AG31",btn:"CancelStudentAdmisionModal_btn__f8vxs",btn2:"CancelStudentAdmisionModal_btn2__w7gOx",contentstatus:"CancelStudentAdmisionModal_contentstatus__qsBSH",payConfirmbtn:"CancelStudentAdmisionModal_payConfirmbtn__r23C0"},O=l(5574),F=l(29017);var H=function(e){var n=e.cancelStatus,l=e.hideModal,i=e.cancelData,d=e.fetch,a=e.setCancelStatus,r=e.viewAs,u=(0,o.useState)(""),c=(0,t.Z)(u,2),v=c[0],_=c[1],h=(0,F.x9)(),m=(0,t.Z)(h,1)[0],f=(0,s.hj)(),p=(0,t.Z)(f,1)[0],x=(0,s.LJ)(),y=(0,t.Z)(x,1)[0],w=(0,o.useState)(!1),Z=(0,t.Z)(w,2),g=Z[0],C=Z[1];return(0,E.jsxs)(E.Fragment,{children:[!g&&(0,E.jsx)(O.Z,{open:n,onClose:function(){return l(!1)},children:(0,E.jsxs)("div",{className:"".concat(L.addDisplay," ").concat(L.cancelModal),children:[(0,E.jsx)("div",{className:L.title,children:"Not Accept Application ?"}),(0,E.jsx)("div",{className:L.content,children:(0,E.jsxs)("div",{className:L.payCard,children:[(0,E.jsxs)("label",{htmlFor:"Cancel",className:L.payLabel,children:["Type ",(0,E.jsx)("i",{children:"Cancel"})," for cancel ?"]}),(0,E.jsx)("input",{type:"text",name:"cancel",className:L.payInput,required:!0,placeholder:"Type Cancel here...",id:"Cancel",onChange:function(e){return _(e.target.value)}}),"Cancel"===v?(0,E.jsx)("div",{className:L.btn,onClick:function(){var e,n,l;null!==i&&void 0!==i&&i._id&&null!==i&&void 0!==i&&i.applicationId&&null!==i&&void 0!==i&&i.studentId&&"Cancel"===v&&(C(!0),"RENEWAL"===r?y({rid:null===i||void 0===i?void 0:i._id,sid:null===i||void 0===i||null===(e=i.renewal_student)||void 0===e?void 0:e._id}).then((function(){d(),a(!1),C(!1)})).catch({}):"Hostel Application"===(null===i||void 0===i?void 0:i.flow_status)?p({status:null===i||void 0===i?void 0:i._id,appId:null===i||void 0===i||null===(n=i.applicationId)||void 0===n?void 0:n._id,sid:null===i||void 0===i?void 0:i.studentId}).then((function(){d(),a(!1),C(!1)})).catch({}):m({status:null===i||void 0===i?void 0:i._id,appId:null===i||void 0===i||null===(l=i.applicationId)||void 0===l?void 0:l._id,sid:null===i||void 0===i?void 0:i.studentId}).then((function(e){e.data.cancel_status&&(d(),a(!1),C(!1))})).catch({}))},children:"Cancel"}):(0,E.jsx)("div",{className:L.btn2,children:"Cancel"})]})})]})}),g&&(0,E.jsx)(j.Z,{})]})},q=l(98760),B=function(e){var n=e.receipt,l=e.onClose,i=e.onRefetch,d=e.sid,a=(0,o.useState)({fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:"",fee_payment_acknowledge:""}),r=(0,t.Z)(a,2),u=r[0],c=r[1],v=(0,o.useState)(!1),_=(0,t.Z)(v,2),h=_[0],m=_[1],f=(0,F.$d)({rid:n,skip:!n}),p=f.getFeeReceiptDetail,x=f.getFeeReceiptDetailRefetch,y=(0,s.iw)(),w=(0,t.Z)(y,1)[0];(0,o.useEffect)((function(){n&&x()}),[n,x]),(0,o.useEffect)((function(){var e,n,l,i,t,o,d,a;null!==p&&void 0!==p&&p.receipt&&c({fee_payment_mode:null===p||void 0===p||null===(e=p.receipt)||void 0===e?void 0:e.fee_payment_mode,fee_payment_amount:null===p||void 0===p||null===(n=p.receipt)||void 0===n?void 0:n.fee_payment_amount,transaction_date:null===p||void 0===p||null===(l=p.receipt)||void 0===l||null===(i=l.fee_transaction_date)||void 0===i?void 0:i.substr(0,10),fee_bank_name:null===p||void 0===p||null===(t=p.receipt)||void 0===t?void 0:t.fee_bank_name,fee_bank_holder:null===p||void 0===p||null===(o=p.receipt)||void 0===o?void 0:o.fee_bank_holder,fee_utr_reference:null===p||void 0===p||null===(d=p.receipt)||void 0===d?void 0:d.fee_utr_reference,fee_payment_acknowledge:null===p||void 0===p||null===(a=p.receipt)||void 0===a?void 0:a.fee_payment_acknowledge})}),[null===p||void 0===p?void 0:p.receipt]);return(0,E.jsxs)(D.Z,{onClose:l,children:[(0,E.jsx)("div",{style:{width:"30rem",maxHeight:"35rem",padding:"0.9rem",overflowX:"hidden",scrollBehavior:"smooth",overflowY:"auto"},children:(0,E.jsx)(q.Z,{payData:u,setPayData:c,ConfirmOffline:function(){var e;m((function(e){return!e})),w({rid:null===p||void 0===p||null===(e=p.receipt)||void 0===e?void 0:e._id,sid:d,receiptReapply:u}).then((function(){i(),l(),m((function(e){return!e}))})).catch({})},setOpenForm:l})}),h&&(0,E.jsx)(j.Z,{})]})},P=function(e){var n,l,i,a,s,u,c=e.renewal,v=e.onRefetch,h=(0,d.$G)().t,m=(0,o.useState)(!1),f=(0,t.Z)(m,2),p=f[0],x=f[1],j=(0,o.useState)(!1),y=(0,t.Z)(j,2),w=y[0],Z=y[1],g=(0,o.useState)(!1),C=(0,t.Z)(g,2),b=C[0],N=C[1];return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{className:r.Z.student_renewal_card,children:[(0,E.jsx)("h6",{children:h("current_stay")}),(0,E.jsxs)("div",{className:r.Z.student_renewal_date,children:[(0,E.jsx)("p",{children:h("start_on")}),(0,E.jsx)("p",{children:_()(null===c||void 0===c?void 0:c.renewal_start).format("DD MMM yyyy")})]}),(0,E.jsxs)("div",{className:r.Z.student_renewal_date,children:[(0,E.jsx)("p",{children:h("expire_on")}),(0,E.jsx)("p",{children:_()(null===c||void 0===c?void 0:c.renewal_end).format("DD MMM yyyy")})]}),(0,E.jsxs)("p",{children:["Stay for"," ",null===c||void 0===c||null===(n=c.renewal_student)||void 0===n||null===(l=n.hostel_fee_structure)||void 0===l?void 0:l.structure_month," ","Months for fees info click here"]}),"Current Stay Request"===(null===c||void 0===c?void 0:c.renewal_status)&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("h6",{children:h("renewal_requested")}),(0,E.jsxs)("div",{className:r.Z.student_renewal_btn_group,children:[(0,E.jsx)("button",{className:r.Z.student_renewal_cancel_btn,onClick:function(){return Z(!0)},children:h("cancel")}),(0,E.jsx)("button",{className:r.Z.student_renewal_confirm_btn,onClick:function(){return x(!0)},children:h("confirm")})]})]}),"Requested"===(null===c||void 0===c?void 0:c.receipt_status)&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("h6",{children:h("renewal_requested")}),(0,E.jsx)("div",{className:r.Z.student_renewal_btn_group,children:(0,E.jsx)("button",{className:r.Z.student_renewal_confirm_btn,style:{backgroundColor:"#B8B83E",width:"100%"},children:h("requested")})})]}),"Rejected"===(null===c||void 0===c?void 0:c.receipt_status)&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("h6",{children:h("renewal_requested")}),(0,E.jsxs)("div",{className:r.Z.student_renewal_date,style:{justifyContent:"flex-start"},children:[(0,E.jsxs)("p",{children:[h("reason")," "]}),(0,E.jsx)("p",{children:" : ".concat(null!==(i=null===c||void 0===c||null===(a=c.receipt)||void 0===a?void 0:a.reason)&&void 0!==i?i:"")})]}),(0,E.jsx)("div",{className:r.Z.student_renewal_btn_group,children:(0,E.jsx)("button",{className:r.Z.student_renewal_confirm_btn,style:{width:"100%"},onClick:function(){return N(!0)},children:h("re_apply_for_receipt")})})]})]}),b&&(0,E.jsx)(B,{receipt:null===c||void 0===c||null===(s=c.receipt)||void 0===s?void 0:s._id,onClose:function(){return N(!1)},onRefetch:v,sid:null===c||void 0===c||null===(u=c.renewal_student)||void 0===u?void 0:u._id}),p&&(0,E.jsx)(T,{addDisplay:p,hideModal:function(e){return x(e)},statusQuery:c,onRefetchApplication:v}),w&&(0,E.jsx)(H,{cancelStatus:w,hideModal:function(e){return Z(e)},cancelData:c,fetch:v,setCancel:Z,viewAs:"RENEWAL"})]})},W=function(e){var n=e.sid,l=e.isProfile,v=e.isOther,_=(0,d.$G)().t,h=(0,a.YD)(),m=(0,t.Z)(h,2),f=m[0],p=m[1],x=(0,o.useState)(1),j=(0,t.Z)(x,2),y=j[0],w=j[1],Z=(0,o.useState)(!0),g=(0,t.Z)(Z,2),C=g[0],b=g[1],N=(0,o.useState)(!0),S=(0,t.Z)(N,2),k=S[0],A=S[1],I=(0,o.useState)([]),R=(0,t.Z)(I,2),D=R[0],M=R[1],T=(0,o.useState)(!1),L=(0,t.Z)(T,2),O=L[0],F=L[1],H=(0,s.L8)({data:{sid:n,page:y,limit:10},skip:!n}),q=H.getRenewalListByStudent,B=H.getRenewalListByStudentRefetch;(0,o.useEffect)((function(){n&&(A(!0),B())}),[n,y,B]),(0,o.useEffect)((function(){p&&C&&w((function(e){return e+1}))}),[p,C]),(0,o.useEffect)((function(){var e,n;O?(M(null===q||void 0===q?void 0:q.all_renewals),A(!1),F(!1)):null!==q&&void 0!==q&&q.all_renewals?(M((function(e){var n,l;return null===(n=(0,i.Z)(new Set(null===(l=[].concat((0,i.Z)(e),(0,i.Z)(null===q||void 0===q?void 0:q.all_renewals)))||void 0===l?void 0:l.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),A(!1)):0===(null===q||void 0===q||null===(n=q.all_renewals)||void 0===n?void 0:n.length)&&A(!1);10===(null===q||void 0===q||null===(e=q.all_renewals)||void 0===e?void 0:e.length)?b(!0):b(!1)}),[null===q||void 0===q?void 0:q.all_renewals]);var W=function(){w(1),F(!0),A(!0),B()};return(0,E.jsxs)(E.Fragment,{children:["VIEW_PROFILE"===l||v?"":(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("div",{className:r.Z.with_search,children:(0,E.jsx)("h6",{children:_("stay_renewal")})}),(0,E.jsx)(u.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}})]}),null===D||void 0===D?void 0:D.map((function(e,n){return(null===D||void 0===D?void 0:D.length)===n+1?(0,E.jsx)("div",{ref:f,children:(0,E.jsx)(P,{renewal:e,onRefetch:W})},null===e||void 0===e?void 0:e._id):(0,E.jsx)(P,{renewal:e,onRefetch:W},null===e||void 0===e?void 0:e._id)})),k&&(0,E.jsx)(c.Z,{})]})}}}]);
//# sourceMappingURL=4994.31ba5118.chunk.js.map