"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[65528],{91022:function(e,t,n){var o=n(1413),l=n(29439),i=n(72791),s=n(39230),a=n(38733),r=n(80184);t.Z=function(e){var t=e.selectLabel,n=e.value,c=e.onClick,d=e.selectedValue,u=e.options,v=e.errorShow,m=e.customStyleContainer,_=e.customLabelStyle,h=e.customListStyle,f=e.openAs,p=e.viewAs,x=(0,s.$G)().t,Z=(0,i.useState)(!1),j=(0,l.Z)(Z,2),g=j[0],S=j[1],b=function(){"REFUND"===f||"BACKLOG"===f||"FINANCE_MANAGER"===p||S((function(e){return!e}))},N=function(e){c(e),b()};return(0,r.jsxs)("div",{className:a.Z.join_form_container,style:(0,o.Z)({},m),children:[(0,r.jsxs)("p",{className:a.Z.join_form_select_paragraph,style:(0,o.Z)({},_),children:[t," ",v&&(0,r.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",x("form_require_label")]})]}),(0,r.jsxs)("section",{className:a.Z.join_form_select_custom,onClick:b,children:[n?(0,r.jsx)("p",{className:a.Z.join_form_select_custom_paragraph,children:null!==n&&void 0!==n?n:""}):(0,r.jsx)("p",{className:a.Z.join_form_select_custom_paragraph,children:d}),(0,r.jsx)("img",{className:a.Z.join_form_select_custom_icon,src:"/images/down-icon.svg",alt:"categor icon"})]}),g&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("section",{className:a.Z.join_form_select_custom_list,style:h?(0,o.Z)({},h):(null===u||void 0===u?void 0:u.length)>2?{overflowY:"scroll"}:{backgroundColor:"#ffffff"},children:[(0,r.jsx)("p",{className:a.Z.join_form_select_custom_paragraph_option,onClick:b,children:d}),null===u||void 0===u?void 0:u.map((function(e,t){return(0,r.jsx)("p",{onClick:function(){return N(e)},className:a.Z.join_form_select_custom_paragraph_option,children:e},t)}))]})})]})}},47167:function(e,t,n){var o=n(1413),l=(n(72791),n(16871)),i=n(43504),s=n(23769),a=n(45639),r=n(80184);t.Z=function(e){var t=e.tabList,n=e.activeIndexTab,c=e.setActiveIndexTab,d=e.customStyleTab,u=e.carryParentState,v=e.showAs,m=e.customStyleLink,_=(0,l.UO)();return(0,r.jsx)("div",{className:a.Z.universal_container,children:v?null===t||void 0===t?void 0:t.map((function(e,t){return"disabled"===(null===e||void 0===e?void 0:e.is_active)?(0,r.jsx)("div",{className:n===(null===e||void 0===e?void 0:e.id)?"".concat(a.Z.universal_container_item," ").concat(a.Z.universal_container_item_active):a.Z.universal_container_item,style:(0,o.Z)((0,o.Z)({},m),{},{opacity:"0.5"}),children:(0,r.jsx)(s.Z,{children:null===e||void 0===e?void 0:e.name})},t):(0,r.jsx)(i.rU,{to:"/q/".concat(_.username,"/").concat(null===e||void 0===e?void 0:e.url),state:(0,o.Z)({},u),style:(0,o.Z)({},m),children:(0,r.jsx)("div",{className:n===(null===e||void 0===e?void 0:e.id)?"".concat(a.Z.universal_container_item," ").concat(a.Z.universal_container_item_active):a.Z.universal_container_item,style:(0,o.Z)({},d),children:(0,r.jsx)(s.Z,{children:null===e||void 0===e?void 0:e.name})})},t)})):null===t||void 0===t?void 0:t.map((function(e,t){return(0,r.jsx)("div",{className:n===(null===e||void 0===e?void 0:e.id)?"".concat(a.Z.universal_container_item," ").concat(a.Z.universal_container_item_active):a.Z.universal_container_item,onClick:function(){return c(null===e||void 0===e?void 0:e.id)},style:(0,o.Z)({},d),children:(0,r.jsx)(s.Z,{children:null===e||void 0===e?void 0:e.name})},t)}))})}},23769:function(e,t,n){n.d(t,{Z:function(){return s}});var o=n(29439),l=n(72791),i=n(80184);var s=function(e){var t=e.children,n=e.onclick,s=(0,l.useState)(!1),a=(0,o.Z)(s,2),r=a[0],c=a[1],d=(0,l.useState)({x:-1,y:-1}),u=(0,o.Z)(d,2),v=u[0],m=u[1];return(0,l.useEffect)((function(){-1!==v.x&&-1!==v.y?(c(!0),setTimeout((function(){return c(!1)}),1e3)):c(!1)}),[v]),(0,l.useEffect)((function(){r||m({x:-1,y:-1})}),[r]),(0,i.jsxs)("div",{className:"ripple_btn",onClick:function(e){m({x:e.clientX-e.target.offsetLeft,y:e.clientY-e.target.offsetTop}),n&&n(e)},children:[r?(0,i.jsx)("span",{className:"ripple"}):"",(0,i.jsx)("span",{className:"content",children:t})]})}},74522:function(e,t,n){n.d(t,{Z:function(){return w}});var o=n(29439),l=n(72791),i=n(33148),s=n(39230),a=n(74067),r=n(74289),c=n(11105),d=n(1413),u=n(24582),v=n(41233),m=n(98094),_=n(36665),h=n(37762),f=n(93433),p=n(69721),x=n(80184),Z=function(e){var t,n,o,l,a,r,c,d,u=e.onSelectStudent,v=e.stu,m=e.promoteData,_=(0,s.$G)().t;return(0,x.jsx)("div",{className:null!==m&&void 0!==m&&null!==(t=m.students)&&void 0!==t&&t.includes(null===v||void 0===v?void 0:v._id)?" ".concat(i.Z.promote_student_card," ").concat(i.Z.promote_student_cardActive):i.Z.promote_student_card,onClick:function(){return u(null===v||void 0===v?void 0:v._id)},style:{width:"100%"},children:(0,x.jsxs)("div",{className:i.Z.promote_student_card_text,style:{width:"100%"},children:[(0,x.jsx)("img",{alt:"",src:null!==v&&void 0!==v&&v.studentProfilePhoto?"".concat(p.yI,"/").concat(null===v||void 0===v?void 0:v.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,x.jsxs)("div",{className:i.Z.promote_student_check_container,children:[(0,x.jsxs)("div",{className:i.Z.promote_student_name,children:[(0,x.jsxs)("p",{children:[null===v||void 0===v?void 0:v.studentFirstName," ",null!==v&&void 0!==v&&v.studentMiddleName?null===v||void 0===v?void 0:v.studentMiddleName:" "," ",null===v||void 0===v?void 0:v.studentLastName]}),(0,x.jsxs)("p",{children:[_("gr_number"),null===v||void 0===v?void 0:v.studentGRNO]})]}),(0,x.jsxs)("div",{className:i.Z.promote_student_check,children:[(0,x.jsxs)("div",{className:i.Z.promote_student_name,children:[null!==v&&void 0!==v&&null!==(n=v.fee_structure)&&void 0!==n&&n.applicable_fees?(0,x.jsxs)("p",{children:[_("applicable_fees_only")," ",_("rs"),".",null!==(o=null===v||void 0===v||null===(l=v.fee_structure)||void 0===l?void 0:l.applicable_fees)&&void 0!==o?o:0]}):"",(0,x.jsxs)("p",{children:[_("paid_fees")," ",": ",_("rs"),".",null!==(a=null===v||void 0===v||null===(r=v.remainingFeeList)||void 0===r||null===(c=r[0])||void 0===c?void 0:c.paid_fee)&&void 0!==a?a:0]})]}),(0,x.jsx)("div",{className:i.Z.promote_student_name,children:null!==m&&void 0!==m&&null!==(d=m.students)&&void 0!==d&&d.includes(null===v||void 0===v?void 0:v._id)?(0,x.jsx)("img",{className:i.Z.department_checkbox,src:"/images/checkbox-icon.svg",alt:"icon"}):(0,x.jsx)("img",{className:i.Z.department_checkbox,src:"/images/box-icon.svg",alt:"icon"})})]})]})]})})},j=n(98734),g=n(15961),S=function(e){var t=e.isWrapper,n=e.onClose,o=e.title,l=e.firstMessage,i=e.spanMessage,s=e.outerSpanMessage,a=e.lastMessage,r=e.buttonLabel,c=e.onHandler,d=e.buttonStyle,u=e.messageStyle;return(0,x.jsx)(x.Fragment,{children:t?(0,x.jsx)(_.Z,{onClose:n,children:(0,x.jsxs)("div",{className:g.Z.admission_modal,children:[(0,x.jsx)("h6",{className:g.Z.admission_modal_heading,children:o}),(0,x.jsx)(m.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),(0,x.jsxs)("div",{className:g.Z.admission_class_confirm,style:u,children:[l," ",(0,x.jsx)("span",{style:{fontWeight:"600"},children:i})," ",s,(0,x.jsx)("span",{style:{fontWeight:"600"},children:a})]}),(0,x.jsx)("div",{className:g.Z.confirm_btn,onClick:c,style:d,children:r})]})}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h6",{className:g.Z.admission_modal_heading,children:o}),(0,x.jsx)(m.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),(0,x.jsxs)("div",{className:g.Z.admission_class_confirm,style:u,children:[l," ",(0,x.jsx)("span",{style:{fontWeight:"600"},children:i})," ",s,(0,x.jsx)("span",{style:{fontWeight:"600"},children:a})]}),(0,x.jsx)("div",{className:g.Z.confirm_btn,onClick:c,style:d,children:r})]})})},b=function(e){var t,n,a,v,_,p,g=e.classId,b=e.promoteData,N=e.setPromoteData,y=e.onClose,C=e.onRefetchParent,I=(0,s.$G)().t,T=(0,l.useState)(!0),P=(0,o.Z)(T,2),w=P[0],k=P[1],L=(0,l.useState)([]),E=(0,o.Z)(L,2),A=E[0],R=E[1],M=(0,l.useState)(!1),O=(0,o.Z)(M,2),U=O[0],F=O[1],D=(0,l.useState)(!1),B=(0,o.Z)(D,2),G=B[0],W=B[1],V=(0,l.useState)(!1),Y=(0,o.Z)(V,2),$=Y[0],q=Y[1],H=(0,u.Ed)(),K=(0,o.Z)(H,1)[0],X=(0,r._3)({data:{cid:g,valid_app_fee:"Yes"===(null===b||void 0===b?void 0:b.applicable_with_fees)?"Yes":"No",is_backlog:null===b||void 0===b?void 0:b.is_backlog},skip:!g}),z=X.getNotPromoteStudentByPromote,J=X.getNotPromoteStudentByPromoteRefetch;(0,l.useEffect)((function(){g&&(k(!0),J())}),[g,J]),(0,l.useEffect)((function(){var e,t;(null!==z&&void 0!==z&&z.notPromoteStudent||0===(null===z||void 0===z||null===(e=z.notPromoteStudent)||void 0===e?void 0:e.length))&&(R(null!==(t=null===z||void 0===z?void 0:z.notPromoteStudent)&&void 0!==t?t:[]),k(!1))}),[null===z||void 0===z?void 0:z.notPromoteStudent]);var Q=function(e){var t;null!==b&&void 0!==b&&null!==(t=b.students)&&void 0!==t&&t.includes(e)?N((function(t){var n;return(0,d.Z)((0,d.Z)({},t),{},{students:null===(n=t.students)||void 0===n?void 0:n.filter((function(t){return t!==e}))})})):N((function(t){return(0,d.Z)((0,d.Z)({},t),{},{students:t.students?[].concat((0,f.Z)(t.students),[e]):[e]})}))};return(0,x.jsx)(x.Fragment,{children:G?(0,x.jsx)(S,{onClose:function(){return W(!1)},title:I("promote_select_student"),firstMessage:"".concat(I("promote")," "),spanMessage:null===b||void 0===b||null===(t=b.students)||void 0===t?void 0:t.length,outerSpanMessage:"".concat(I("students")," , ").concat(I("to")," "),lastMessage:"".concat(null===b||void 0===b||null===(n=b.classId)||void 0===n?void 0:n.classTitle,", ").concat(null===b||void 0===b||null===(a=b.batchId)||void 0===a?void 0:a.batchName,", ").concat(null===b||void 0===b||null===(v=b.departmentId)||void 0===v?void 0:v.dName),buttonLabel:I("confirm"),onHandler:function(){var e,t,n;g&&(W(!1),F((function(e){return!e})),K({cid:g,promote:{applicable_with_fees:null===b||void 0===b?void 0:b.applicable_with_fees,departmentId:null===b||void 0===b||null===(e=b.departmentId)||void 0===e?void 0:e._id,batchId:null===b||void 0===b||null===(t=b.batchId)||void 0===t?void 0:t._id,classId:null===b||void 0===b||null===(n=b.classId)||void 0===n?void 0:n._id,students:null===b||void 0===b?void 0:b.students},flow:"Yes"===(null===b||void 0===b?void 0:b.promot_with_fees)?"WITH_STRUCTURE":"WITH_OUT_STRUCTURE",re_ads:"Yes"===(null===b||void 0===b?void 0:b.re_ads)?"WITH_RE_ADMISSION":"No"}).then((function(){J(),C(),y(),F((function(e){return!e}))})).catch({}))},messageStyle:{marginTop:"3.7rem"},buttonStyle:{marginTop:"5.7rem"}}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:i.Z.select_header,children:[(0,x.jsxs)("h6",{children:[(null===b||void 0===b||null===(_=b.students)||void 0===_?void 0:_.length)>0?"".concat(null===b||void 0===b||null===(p=b.students)||void 0===p?void 0:p.length," "):"",I("select_student")]}),(0,x.jsxs)("div",{children:[$?(0,x.jsx)("button",{className:i.Z.select_all_btn,title:"Remove All Student",onClick:function(){N((function(e){return(0,d.Z)((0,d.Z)({},e),{},{students:[]})})),q(!1)},style:{marginRight:"0.7rem"},children:I("remove_all")}):(0,x.jsx)("button",{className:i.Z.select_all_btn,title:"Select All Student",onClick:function(){var e,t=[],n=(0,h.Z)(A);try{for(n.s();!(e=n.n()).done;){var o=e.value;t.push(null===o||void 0===o?void 0:o._id)}}catch(l){n.e(l)}finally{n.f()}N((function(e){return(0,d.Z)((0,d.Z)({},e),{},{students:t})})),q(!0)},style:{marginRight:"0.7rem"},children:I("select_all")}),(0,x.jsx)("button",{className:i.Z.promote_all_btn,title:"Promote Selected Student",onClick:function(){var e;return(null===b||void 0===b||null===(e=b.students)||void 0===e?void 0:e.length)>0?W(!0):null},children:I("promote")})]})]}),(0,x.jsx)(m.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),(0,x.jsx)("div",{className:i.Z.with_search,style:{marginTop:"1rem",width:"100%",border:"0.4px solid rgba(0, 0, 0, 0.15)",borderRadius:"6px",marginBottom:"0.3rem"},children:(0,x.jsxs)("div",{className:i.Z.search_container_input,style:{width:"100%"},children:[(0,x.jsx)("img",{className:i.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,x.jsx)("input",{type:"text",placeholder:"Search Student...",style:{width:"100%"},onChange:function(e){if(e.target.value){var t,n=null===z||void 0===z||null===(t=z.notPromoteStudent)||void 0===t?void 0:t.filter((function(t){var n,o,l;return null!==(n="".concat(null===t||void 0===t?void 0:t.studentFirstName," ").concat(null!==t&&void 0!==t&&t.studentMiddleName?(null===t||void 0===t?void 0:t.studentMiddleName)+" ":"").concat(null===t||void 0===t?void 0:t.studentLastName))&&void 0!==n&&null!==(o=n.toLowerCase())&&void 0!==o&&o.includes(null===(l=e.target.value)||void 0===l?void 0:l.toLowerCase())?t:null}));R(n)}else R(null===z||void 0===z?void 0:z.notPromoteStudent)}})]})}),null===A||void 0===A?void 0:A.map((function(e,t){return(0,x.jsx)(Z,{promoteData:b,stu:e,onSelectStudent:Q},t)})),w&&(0,x.jsx)(c.Z,{}),U&&(0,x.jsx)(j.Z,{})]})})},N=n(91022),y=function(e){var t,n,a,r,c,h,f,p=e.onClose,Z=e.classId,j=e.onRefetchParent,g=(0,s.$G)().t,S=(0,l.useState)("INITIAL_STEP"),y=(0,o.Z)(S,2),I=y[0],T=y[1],P=(0,l.useState)({promot_with_fees:"",applicable_with_fees:"",departmentId:"",batchId:"",classId:"",students:[],re_ads:"",is_backlog:""}),w=(0,o.Z)(P,2),k=w[0],L=w[1],E=(0,l.useState)(""),A=(0,o.Z)(E,2),R=A[0],M=A[1],O=(0,u.PS)({data:{cid:Z,page:1,limit:30},skip:!Z}),U=O.classAllDepartmentWithBatch,F=O.classAllDepartmentWithBatchRefetch,D=(0,u.j_)({data:{bid:null===(t=k.batchId)||void 0===t?void 0:t._id,page:1,limit:30},skip:!(null!==(n=k.batchId)&&void 0!==n&&n._id)}),B=D.classAllBatchWithClass,G=D.classAllBatchWithClassRefetch;l.useEffect((function(){Z&&F()}),[Z,F]),l.useEffect((function(){var e;null!==(e=k.batchId)&&void 0!==e&&e._id&&G()}),[null===(a=k.batchId)||void 0===a?void 0:a._id,G]);return(0,x.jsx)(_.Z,{onClose:"INITIAL_STEP"===I?p:function(){return T("INITIAL_STEP")},children:(0,x.jsxs)("div",{className:i.Z.promote_container,children:["INITIAL_STEP"===I&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h6",{style:{textAlign:"center"},children:g("promote_students")}),(0,x.jsx)(m.Z,{customStyle:{width:"100%"}}),(0,x.jsx)(N.Z,{selectLabel:g("promote_with_fees_structure"),selectedValue:g("select_yes_or_no"),options:["Yes","No"],value:k.promot_with_fees,errorShow:R.promot_with_fees,onClick:function(e){L((function(t){return(0,d.Z)((0,d.Z)({},t),{},{promot_with_fees:e})}))}}),(0,x.jsx)(v.Z,{selectLabel:g("select_department"),selectedValue:g("select_department"),options:null!==(r=null===U||void 0===U?void 0:U.departmets)&&void 0!==r?r:[],onClick:function(e){L((function(t){return(0,d.Z)((0,d.Z)({},t),{},{departmentId:e})}))},openAs:"PROMOTE",errorShow:R.departmentId}),(0,x.jsx)(v.Z,{selectLabel:g("select_batch"),selectedValue:g("select_batch"),options:null!==(c=null===(h=k.departmentId)||void 0===h?void 0:h.batches)&&void 0!==c?c:[],onClick:function(e){L((function(t){return(0,d.Z)((0,d.Z)({},t),{},{batchId:e})}))},openAs:"PROMOTE",errorShow:R.batchId}),(0,x.jsx)(v.Z,{selectLabel:g("select_class"),selectedValue:g("select_class"),options:null!==(f=null===B||void 0===B?void 0:B.classes)&&void 0!==f?f:[],onClick:function(e){L((function(t){return(0,d.Z)((0,d.Z)({},t),{},{classId:e})}))},openAs:"PROMOTE",errorShow:R.classId}),(0,x.jsx)(N.Z,{selectLabel:g("promote_applicable_fee"),selectedValue:g("select_yes_or_no"),options:["Yes","No"],value:k.applicable_with_fees,errorShow:R.applicable_with_fees,onClick:function(e){L((function(t){return(0,d.Z)((0,d.Z)({},t),{},{applicable_with_fees:e})}))}}),(0,x.jsx)(N.Z,{selectLabel:g("promote_with_re_admission"),selectedValue:g("select_yes_or_no"),options:["Yes","No"],value:k.re_ads,onClick:function(e){L((function(t){return(0,d.Z)((0,d.Z)({},t),{},{re_ads:e})}))}}),(0,x.jsx)(N.Z,{selectLabel:g("promote_with_result"),selectedValue:g("please_select_result_base"),options:["Backlog","Pass","All"],value:k.is_backlog?C[k.is_backlog]:k.is_backlog,onClick:function(e){L((function(t){return(0,d.Z)((0,d.Z)({},t),{},{is_backlog:"Backlog"===e?"BACKLOG_OF_MAXIMUM":"Pass"===e?"RESULT_OF_PASS":"ALL"})}))}}),(0,x.jsxs)("button",{className:i.Z.select_application_btn,onClick:function(){var e=function(e){var t={};for(var n in e)"students"===n||e[n]||(t[n]="".concat(n," is required!"));return t}(k),t=!1;for(var n in e){t=!0;break}t?M(e):T("SELECT_STUDENT")},style:{width:"100%"},title:"Select student",children:[(0,x.jsx)("div",{children:g("select_student")}),(0,x.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]})]}),"SELECT_STUDENT"===I&&(0,x.jsx)(b,{classId:Z,setPromoteData:L,promoteData:k,onClose:p,onRefetchParent:j})]})})},C={BACKLOG_OF_MAXIMUM:"Backlog",RESULT_OF_PASS:"Pass",ALL:"All"},I=function(e){var t,n,a,u=e.classId,v=e.promoteData,_=e.setPromoteData,p=e.onClose,g=e.onRefetchParent,b=(0,s.$G)().t,N=(0,l.useState)(!0),y=(0,o.Z)(N,2),C=y[0],I=y[1],T=(0,l.useState)([]),P=(0,o.Z)(T,2),w=P[0],k=P[1],L=(0,l.useState)(!1),E=(0,o.Z)(L,2),A=E[0],R=E[1],M=(0,l.useState)(!1),O=(0,o.Z)(M,2),U=O[0],F=O[1],D=(0,l.useState)(!1),B=(0,o.Z)(D,2),G=B[0],W=B[1],V=(0,r.V_)(),Y=(0,o.Z)(V,1)[0],$=(0,r.Rt)({cid:u,skip:!u}),q=$.getPromoteStudentByPromote,H=$.getPromoteStudentByPromoteRefetch;(0,l.useEffect)((function(){u&&(I(!0),H())}),[u,H]),(0,l.useEffect)((function(){var e,t;(null!==q&&void 0!==q&&q.promoteStudent||0===(null===q||void 0===q||null===(e=q.promoteStudent)||void 0===e?void 0:e.length))&&(k(null!==(t=null===q||void 0===q?void 0:q.promoteStudent)&&void 0!==t?t:[]),I(!1))}),[null===q||void 0===q?void 0:q.promoteStudent]);var K=function(e){var t;null!==v&&void 0!==v&&null!==(t=v.arr)&&void 0!==t&&t.includes(e)?_((function(t){var n;return(0,d.Z)((0,d.Z)({},t),{},{arr:null===(n=t.arr)||void 0===n?void 0:n.filter((function(t){return t!==e}))})})):_((function(t){return(0,d.Z)((0,d.Z)({},t),{},{arr:t.arr?[].concat((0,f.Z)(t.arr),[e]):[e]})}))};return(0,x.jsx)(x.Fragment,{children:U?(0,x.jsx)(S,{onClose:function(){return F(!1)},title:b("undo_select_student"),firstMessage:"".concat(b("undo")," "),spanMessage:null===v||void 0===v||null===(t=v.arr)||void 0===t?void 0:t.length,outerSpanMessage:"".concat(b("students")," , ").concat(b("to")," "),lastMessage:"".concat(b("previous_class")),buttonLabel:b("confirm"),onHandler:function(){F(!1),R((function(e){return!e})),Y({cid:u,flow:"PARTICULAR_STUDENT",undoPromote:{arr:null===v||void 0===v?void 0:v.arr}}).then((function(){g(),p(),R((function(e){return!e}))})).catch({})},messageStyle:{marginTop:"3.7rem"},buttonStyle:{marginTop:"5.7rem"}}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:i.Z.select_header,children:[(0,x.jsxs)("h6",{children:[(null===v||void 0===v||null===(n=v.arr)||void 0===n?void 0:n.length)>0?"".concat(null===v||void 0===v||null===(a=v.arr)||void 0===a?void 0:a.length," "):"",b("select_student")]}),(0,x.jsxs)("div",{children:[G?(0,x.jsx)("button",{className:i.Z.select_all_btn,title:"Remove All Student",onClick:function(){_((function(e){return(0,d.Z)((0,d.Z)({},e),{},{arr:[]})})),W(!1)},style:{marginRight:"0.7rem"},children:b("remove_all")}):(0,x.jsx)("button",{className:i.Z.select_all_btn,title:"Select All Student",onClick:function(){var e,t=[],n=(0,h.Z)(w);try{for(n.s();!(e=n.n()).done;){var o=e.value;t.push(null===o||void 0===o?void 0:o._id)}}catch(l){n.e(l)}finally{n.f()}_((function(e){return(0,d.Z)((0,d.Z)({},e),{},{arr:t})})),W(!0)},style:{marginRight:"0.7rem"},children:b("select_all")}),(0,x.jsx)("button",{className:i.Z.promote_all_btn,title:"Undo Selected Student",onClick:function(){var e;return(null===v||void 0===v||null===(e=v.arr)||void 0===e?void 0:e.length)>0?F(!0):null},children:b("undo")})]})]}),(0,x.jsx)(m.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),(0,x.jsx)("div",{className:i.Z.with_search,style:{marginTop:"1rem",width:"100%",border:"0.4px solid rgba(0, 0, 0, 0.15)",borderRadius:"6px",marginBottom:"0.3rem"},children:(0,x.jsxs)("div",{className:i.Z.search_container_input,style:{width:"100%"},children:[(0,x.jsx)("img",{className:i.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,x.jsx)("input",{type:"text",placeholder:"Search Student...",style:{width:"100%"},onChange:function(e){if(e.target.value){var t,n=null===q||void 0===q||null===(t=q.promoteStudent)||void 0===t?void 0:t.filter((function(t){var n,o,l;return null!==(n="".concat(null===t||void 0===t?void 0:t.studentFirstName," ").concat(null!==t&&void 0!==t&&t.studentMiddleName?(null===t||void 0===t?void 0:t.studentMiddleName)+" ":"").concat(null===t||void 0===t?void 0:t.studentLastName))&&void 0!==n&&null!==(o=n.toLowerCase())&&void 0!==o&&o.includes(null===(l=e.target.value)||void 0===l?void 0:l.toLowerCase())?t:null}));k(n)}else k(null===q||void 0===q?void 0:q.promoteStudent)}})]})}),null===w||void 0===w?void 0:w.map((function(e,t){return(0,x.jsx)(Z,{promoteData:{students:null===v||void 0===v?void 0:v.arr},stu:e,onSelectStudent:K},t)})),C&&(0,x.jsx)(c.Z,{}),A&&(0,x.jsx)(j.Z,{})]})})},T=function(e){var t=e.onClose,n=e.classId,a=e.onRefetchParent,c=(0,s.$G)().t,u=(0,l.useState)("INITIAL_STEP"),v=(0,o.Z)(u,2),h=v[0],f=v[1],p=(0,l.useState)({flow:"",arr:[]}),Z=(0,o.Z)(p,2),g=Z[0],S=Z[1],b=(0,l.useState)(""),y=(0,o.Z)(b,2),C=y[0],T=y[1],P=(0,l.useState)(!1),w=(0,o.Z)(P,2),k=w[0],L=w[1],E=(0,r.V_)(),A=(0,o.Z)(E,1)[0];return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(_.Z,{onClose:"INITIAL_STEP"===h?t:function(){return f("INITIAL_STEP")},children:(0,x.jsxs)("div",{className:i.Z.promote_container,children:["INITIAL_STEP"===h&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h6",{style:{textAlign:"center"},children:c("promote_students")}),(0,x.jsx)(m.Z,{customStyle:{width:"100%"}}),(0,x.jsx)(N.Z,{selectLabel:c("undo_promote_student"),selectedValue:c("select_full_or_particular"),options:["Full Class","Particular Student"],value:g.flow,errorShow:C.flow,onClick:function(e){S((function(t){return(0,d.Z)((0,d.Z)({},t),{},{flow:e})}))}}),(0,x.jsx)("button",{className:i.Z.select_application_btn,onClick:function(){var e=function(e){var t={};for(var n in e)"students"===n||e[n]||(t[n]="".concat(n," is required!"));return t}(g),o=!1;for(var l in e){o=!0;break}o?T(e):"Full Class"===g.flow?(L((function(e){return!e})),A({cid:n,flow:"FULL_CLASS",undoPromote:{arr:[]}}).then((function(){a(),t(),L((function(e){return!e}))})).catch({})):"Particular Student"===g.flow&&f("SELECT_STUDENT")},style:{width:"100%",justifyContent:"center",marginTop:"4rem"},children:(0,x.jsx)("div",{children:c("Particular Student"===g.flow?"next":"confirm")})})]}),"SELECT_STUDENT"===h&&(0,x.jsx)(I,{classId:n,setPromoteData:S,promoteData:g,onClose:t,onRefetchParent:a}),k&&(0,x.jsx)(j.Z,{})]})})})},P=function(e){var t=e.cid,n=e.onRefetch,a=(0,s.$G)().t,r=(0,l.useState)(!1),c=(0,o.Z)(r,2),d=c[0],u=c[1];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("button",{className:i.Z.select_application_btn,onClick:function(e){e.stopPropagation(),u((function(e){return!e}))},title:"Undo Promote Studens",style:{width:"25%"},children:[(0,x.jsx)("div",{children:a("undo_student")}),(0,x.jsx)("img",{src:"/images/member_tab/admission/admission-undo-icon.svg",alt:"undo icon",style:{cursor:"pointer",width:"30px"}})]}),d&&(0,x.jsx)(T,{onClose:function(){return u(!1)},classId:t,onRefetchParent:n})]})},w=function(e){var t,n,d,u,v,m,_,h=e.classId,f=(0,s.$G)().t,p=(0,l.useState)(!0),Z=(0,o.Z)(p,2),j=Z[0],g=Z[1],S=(0,l.useState)(!1),b=(0,o.Z)(S,2),N=b[0],C=b[1],I=(0,r.Rt)({cid:h,skip:!h}),T=I.getPromoteStudentByPromote,w=I.getPromoteStudentByPromoteRefetch;(0,l.useEffect)((function(){h&&(g(!0),w())}),[h,w]),(0,l.useEffect)((function(){var e;(null!==T&&void 0!==T&&T.promoteStudent||0===(null===T||void 0===T||null===(e=T.promoteStudent)||void 0===e?void 0:e.length))&&g(!1)}),[null===T||void 0===T?void 0:T.promoteStudent]);var k=function(){C((function(e){return!e}))};return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:i.Z.promote_undo_container,children:[(0,x.jsxs)("button",{className:i.Z.select_application_btn,onClick:k,children:[(0,x.jsx)("div",{children:f("promote_student")}),(0,x.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),(0,x.jsx)(P,{cid:h,onRefetch:w})]}),(0,x.jsxs)("h6",{className:i.Z.total_student_count,children:[f("total_student")," ",null!==(t=null===T||void 0===T||null===(n=T.count)||void 0===n?void 0:n.totalCount)&&void 0!==t?t:0]}),(0,x.jsxs)("div",{className:i.Z.total_other_count_container,children:[(0,x.jsxs)("p",{children:[f("boys_promote"),null!==(d=null===T||void 0===T||null===(u=T.count)||void 0===u?void 0:u.boyCount)&&void 0!==d?d:0]}),(0,x.jsxs)("p",{children:[f("girl_promote"),null!==(v=null===T||void 0===T||null===(m=T.count)||void 0===m?void 0:m.girlCount)&&void 0!==v?v:0]})]}),null===T||void 0===T||null===(_=T.promoteStudent)||void 0===_?void 0:_.map((function(e){return(0,x.jsx)(a.Z,{stu:e,viewAs:"PROMOTE"},null===e||void 0===e?void 0:e._id)})),j&&(0,x.jsx)(c.Z,{}),N&&(0,x.jsx)(y,{classId:h,onClose:k,onRefetchParent:w})]})}},74067:function(e,t,n){n(72791);var o=n(33148),l=n(39230),i=n(69721),s=n(16871),a=n(43504),r=n(80184);t.Z=function(e){var t,n,c,d,u,v,m,_=e.stu,h=e.viewAs,f=(0,l.$G)().t,p=(0,s.UO)();return(0,r.jsx)(a.rU,{to:"/q/".concat(p.username,"/student/profile"),state:{sid:null===_||void 0===_?void 0:_._id,viewAs:"SUBJECT_TEACHER"},children:(0,r.jsxs)("div",{className:o.Z.student_container,children:[(0,r.jsx)("img",{src:null!==_&&void 0!==_&&_.studentProfilePhoto?"".concat(i.yI,"/").concat(null===_||void 0===_?void 0:_.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy",alt:"avatar icon"}),(0,r.jsxs)("div",{className:o.Z.student_info_container,children:[(0,r.jsxs)("div",{className:o.Z.student_info_text,children:[(0,r.jsxs)("h6",{children:[null===_||void 0===_?void 0:_.studentFirstName," ",null!==_&&void 0!==_&&_.studentMiddleName?null===_||void 0===_?void 0:_.studentMiddleName:" "," ",null===_||void 0===_?void 0:_.studentLastName]}),"PROMOTE"===h?"":(0,r.jsxs)("p",{children:[null!==(t=null===_||void 0===_?void 0:_.studentGender)&&void 0!==t?t:""," "]})]}),(0,r.jsx)("div",{className:o.Z.student_info_text,children:"PROMOTE"===h?(0,r.jsxs)("p",{children:[f("classes"),": ","".concat(null!==(n=null===_||void 0===_||null===(c=_.studentClass)||void 0===c?void 0:c.className)&&void 0!==n?n:""," - ").concat(null!==(d=null===_||void 0===_||null===(u=_.studentClass)||void 0===u?void 0:u.classTitle)&&void 0!==d?d:"")]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{children:[f("roll_number")," ",null!==(v=null===_||void 0===_?void 0:_.studentROLLNO)&&void 0!==v?v:""]}),(0,r.jsxs)("p",{children:[f("gr_number"),null!==(m=null===_||void 0===_?void 0:_.studentGRNO)&&void 0!==m?m:""]})]})})]})]})})}},45639:function(e,t){t.Z={universal_container:"UniversalTab_universal_container__uxTOR",universal_container_item:"UniversalTab_universal_container_item__M0pS7",universal_container_item_active:"UniversalTab_universal_container_item_active__3u3Wt"}}}]);
//# sourceMappingURL=65528.dd3b8efb.chunk.js.map