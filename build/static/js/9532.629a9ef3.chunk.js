"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[9532],{72952:function(i,e,t){var n=t(1413),o=(t(72791),t(39230)),a=t(38733),l=t(80184);e.Z=function(i){var e,t=i.labelText,d=i.name,c=i.type,r=i.value,s=i.onChange,u=i.placeholder,v=i.errorShow,p=i.customStyleContainer,f=i.disabled,_=(0,o.$G)().t;return(0,l.jsxs)("div",{className:a.Z.join_form_container,style:(0,n.Z)({},p),children:[(0,l.jsxs)("label",{className:a.Z.join_form_label,htmlFor:d,children:[t," ",v&&(0,l.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",_("form_require_label")]})]}),(0,l.jsx)("textarea",{className:a.Z.join_form_text_area,type:c,value:r,onChange:s,name:d,placeholder:u,rows:r?(null===r||void 0===r||null===(e=r.split("\n"))||void 0===e?void 0:e.length)+3:1,disabled:f})]})}},10515:function(i,e,t){t.d(e,{Z:function(){return y}});var n=t(1413),o=t(93433),a=t(37762),l=t(29439),d=t(72791),c=t(36665),r=t(83401),s=t(39230),u=t(98094),v=t(61292),p=t(80184),f=function(i){var e=i.topic,t=i.topicId,n=(0,s.$G)().t;return(0,p.jsxs)("div",{className:r.Z.academic_card_container,children:[(0,p.jsxs)("div",{className:r.Z.academic_card_top,children:[(0,p.jsx)("img",{src:"/images/member_tab/subject/subject-topic-icon.svg",alt:"topic icon"}),(0,p.jsx)("h6",{children:n("selected_topics")})]}),null===e||void 0===e?void 0:e.map((function(i){return(0,p.jsx)(v.Z,{topic:i,topicId:t,isView:"SAVE_RECORD"},null===i||void 0===i?void 0:i._id)}))]})},_=t(72952),m=[{name:"tab_lecture",id:0,key:"Lecture"},{name:"tab_practical",id:1,key:"Practical"},{name:"tab_tutorial",id:2,key:"Tutorial"}],h=function(i){var e=i.topic,t=i.state,c=i.setState,u=i.isEdit,v=i.topicId,h=(0,s.$G)().t,j=(0,d.useState)([]),x=(0,l.Z)(j,2),Z=x[0],g=x[1];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:r.Z.record_tab_container,children:null===m||void 0===m?void 0:m.map((function(i){return(0,p.jsx)("div",{className:t.rec_status===(null===i||void 0===i?void 0:i.key)?"".concat(r.Z.record_tab," ").concat(r.Z.record_tab_active):r.Z.record_tab,onClick:function(){return e=null===i||void 0===i?void 0:i.key,void c((function(i){return(0,n.Z)((0,n.Z)({},i),{},{rec_status:e})}));var e},children:(0,p.jsx)("h6",{children:h(null===i||void 0===i?void 0:i.name)})},null===i||void 0===i?void 0:i.id)}))}),(0,p.jsx)(f,{topic:e,topicId:v}),(0,p.jsx)(_.Z,{labelText:h("additional_info_optional"),placeholder:h("additional_info_optional_placeholder"),name:"additiona_info",value:t.updateDescription,type:"text",onChange:function(i){return c((function(e){return(0,n.Z)((0,n.Z)({},e),{},{updateDescription:i.target.value})}))},customStyleContainer:{width:"100%"}}),u?null:(0,p.jsxs)("div",{className:r.Z.aditional_info_images,children:[null===Z||void 0===Z?void 0:Z.map((function(i,e){return(0,p.jsx)("img",{src:i,alt:"uploaded avatar"},e)})),(0,p.jsx)("label",{htmlFor:"upload",children:(0,p.jsx)("img",{src:"/images/member_tab/subject/subject-camera-icon.svg",alt:"camera icon",style:{cursor:"pointer"}})})]}),(0,p.jsx)("input",{multiple:!0,type:"file",name:"upload",id:"upload",style:{display:"none"},onChange:function(i){var e;if(null!==(e=i.target.files)&&void 0!==e&&e.length){var t,l=[],d=(0,a.Z)(i.target.files);try{for(d.s();!(t=d.n()).done;){var r=t.value;l.push(URL.createObjectURL(r))}}catch(s){d.e(s)}finally{d.f()}g(l),c((function(e){return(0,n.Z)((0,n.Z)({},e),{},{files:[].concat((0,o.Z)(e.files),(0,o.Z)(i.target.files))})}))}},accept:"image/gif, image/jpeg, image/png, image/*"})]})},j=t(34114),x=t(98734),Z=t(40444),g=t(60233),y=function(i){var e=i.onClose,t=i.sid,v=i.onRefetch,f=i.dailyMenu,_=(0,s.$G)().t,m=(0,d.useState)(2),y=(0,l.Z)(m,2),b=y[0],N=y[1],C=(0,d.useState)(!1),k=(0,l.Z)(C,2),D=k[0],S=k[1],w=(0,d.useState)({updateDescription:"",rec_status:"Lecture",files:[],date:""}),I=(0,l.Z)(w,2),T=I[0],E=I[1],M=(0,d.useState)([]),F=(0,l.Z)(M,2),L=F[0],R=F[1],A=(0,d.useState)([]),G=(0,l.Z)(A,2),U=G[0],V=G[1],$=(0,d.useState)([]),B=(0,l.Z)($,2),K=B[0],O=B[1],P=(0,d.useState)([]),q=(0,l.Z)(P,2),J=q[0],Y=q[1],z=(0,Z.s2)(),H=(0,l.Z)(z,1)[0],Q=(0,Z.yz)(),W=(0,l.Z)(Q,1)[0],X=(0,Z.NA)(),ii=(0,l.Z)(X,1)[0];(0,d.useEffect)((function(){if(null!==f&&void 0!==f&&f._id){var i,e,t,n=[],o=[],l=(0,a.Z)(null===f||void 0===f?void 0:f.daily_topic);try{for(l.s();!(t=l.n()).done;){var d,c=t.value;n.push({topicId:null===c||void 0===c||null===(d=c.topic)||void 0===d?void 0:d._id,current_status:null===c||void 0===c?void 0:c.current_status}),o.push(null===c||void 0===c?void 0:c.topic)}}catch(r){l.e(r)}finally{l.f()}E({updateDescription:null===f||void 0===f?void 0:f.updateDescription,rec_status:null===f||void 0===f||null===(i=f.daily_topic)||void 0===i||null===(e=i[0])||void 0===e?void 0:e.status,files:[]}),R((function(){return n})),V((function(){return o}))}}),[f]);var ei=function(){2===b?e():N(1===b?0:2)};return(0,p.jsxs)(c.Z,{onClose:ei,children:[2===b?(0,p.jsx)(g.Z,{datePickerPosition:{position:"rlative",top:"-5rem",left:"-10rem",borderRadius:"0.375rem",paddingBottom:"0"},range:!1,onClose:ei,dateInput:T.date,setDateInput:function(i){N(7),S((function(i){return!i}));var e=null===i||void 0===i?void 0:i.split("/"),o="".concat(e[2],"-").concat(e[1],"-").concat(e[0]);E((function(i){return(0,n.Z)((0,n.Z)({},i),{},{date:new Date(o)})})),ii({sid:t,extraBody:{date:i,flow:"Extra_Lecture"}}).then((function(i){var e,t,n;(null===i||void 0===i||null===(e=i.data)||void 0===e||null===(t=e.attendance_all)||void 0===t?void 0:t.length)>0?(O(null===i||void 0===i||null===(n=i.data)||void 0===n?void 0:n.attendance_all),N(3)):N(0);S((function(i){return!i}))})).catch({})},isClose:!0}):3===b?(0,p.jsxs)("div",{className:r.Z.add_academic_record,children:[(0,p.jsxs)("div",{className:r.Z.add_academic_record_title,children:[(0,p.jsxs)("div",{className:r.Z.add_academic_record_text,children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:ei,alt:"back icon",style:{cursor:"pointer"}}),(0,p.jsx)("h6",{children:_("select_extra_lecture")})]}),(0,p.jsx)("button",{onClick:function(){N(1)},children:_("next")})]}),(0,p.jsx)(u.Z,{customStyle:{width:"100%",marginBottom:"0.7rem"}}),(0,p.jsx)("section",{children:null===K||void 0===K?void 0:K.map((function(i,e){return(0,p.jsxs)("h6",{className:null!==J&&void 0!==J&&J.includes(null===i||void 0===i?void 0:i._id)?"".concat(r.Z.extra_lecture_container," ").concat(r.Z.extra_lecture_container_active):r.Z.extra_lecture_container,onClick:function(){return e=null===i||void 0===i?void 0:i._id,void(null!==J&&void 0!==J&&J.includes(e)?Y((function(i){return null===i||void 0===i?void 0:i.filter((function(i){return i!==e}))})):Y((function(i){return[].concat((0,o.Z)(i),[e])})));var e},children:[_("extra")," ",e+1]},null===i||void 0===i?void 0:i._id)}))})]}):(0,p.jsxs)("div",{className:r.Z.add_academic_record,children:[(0,p.jsxs)("div",{className:r.Z.add_academic_record_title,children:[(0,p.jsxs)("div",{className:r.Z.add_academic_record_text,children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:ei,alt:"back icon",style:{cursor:"pointer"}}),(0,p.jsx)("h6",{children:_(0===b?"select_topic":"save_record")})]}),0===b?(0,p.jsx)("button",{onClick:function(){(null===L||void 0===L?void 0:L.length)>0&&N(1)},children:_("next")}):(0,p.jsx)("button",{onClick:function(){if(t)if(S((function(i){return!i})),null!==f&&void 0!==f&&f._id)W({sid:t,did:null===f||void 0===f?void 0:f._id,dailyUpdate:{arr:L,rec_status:T.rec_status,updateDescription:T.updateDescription}}).then((function(){v(),e(),S((function(i){return!i}))})).catch({});else{var i=new FormData;i.append("date",T.date),i.append("updateDescription",T.updateDescription),(null===L||void 0===L?void 0:L.length)>0&&i.append("arr",JSON.stringify(L)),i.append("rec_status",T.rec_status),(null===J||void 0===J?void 0:J.length)>0&&i.append("extra_lecture",JSON.stringify(J));var n,o=(0,a.Z)(T.files);try{for(o.s();!(n=o.n()).done;){var l=n.value;i.append("file",l)}}catch(d){o.e(d)}finally{o.f()}H({sid:t,addDailyUpdate:i}).then((function(){v(),e(),S((function(i){return!i}))})).catch({})}},children:_("save")})]}),(0,p.jsx)(u.Z,{customStyle:{width:"100%"}}),0===b?(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(j.Z,{sid:t,isView:"SUBJECT_TEACHER",onGrabChapterId:function(i,e){(null===L||void 0===L?void 0:L.find((function(e){return(null===e||void 0===e?void 0:e.topicId)===(null===i||void 0===i?void 0:i._id)})))?(R((function(e){return null===e||void 0===e?void 0:e.filter((function(e){return(null===e||void 0===e?void 0:e.topicId)!==(null===i||void 0===i?void 0:i._id)}))})),V((function(e){return null===e||void 0===e?void 0:e.filter((function(e){return(null===e||void 0===e?void 0:e._id)!==(null===i||void 0===i?void 0:i._id)}))}))):(R((function(t){return[].concat((0,o.Z)(t),[{topicId:null===i||void 0===i?void 0:i._id,current_status:e}])})),V((function(e){return[].concat((0,o.Z)(e),[i])})))},topicId:L})}):(0,p.jsx)(h,{topic:U,setState:E,state:T,isEdit:null===f||void 0===f?void 0:f._id,topicId:L})]}),D&&(0,p.jsx)(x.Z,{})]})}},99532:function(i,e,t){t.d(e,{Z:function(){return _}});var n=t(29439),o=t(72791),a=t(83401),l=t(72426),d=t.n(l),c=t(39230),r=t(69721),s=t(10307),u=t(80184),v=function(i){var e,t,n,o,l,v,p,f=i.isView,_=i.updateDescription,m=i.upadateImage,h=i.createdAt,j=i.subject,x=(0,c.$G)().t;return(0,u.jsxs)("div",{className:a.Z.aditional_info_container,children:["STUDENT"===f?(0,u.jsxs)("div",{className:a.Z.aditional_info_dates,children:[(0,u.jsx)("h5",{children:null!==(e=null===j||void 0===j?void 0:j.subjectName)&&void 0!==e?e:""}),(0,u.jsx)("h6",{children:"".concat(null!==(t=null===j||void 0===j||null===(n=j.subjectTeacherName)||void 0===n?void 0:n.staffFirstName)&&void 0!==t?t:""," ").concat(null!==(o=null===j||void 0===j||null===(l=j.subjectTeacherName)||void 0===l?void 0:l.staffMiddleName)&&void 0!==o?o:""," ").concat(null!==(v=null===j||void 0===j||null===(p=j.subjectTeacherName)||void 0===p?void 0:p.staffLastName)&&void 0!==v?v:"")})]}):null,_||(null===m||void 0===m?void 0:m.length)>0?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h6",{children:x("additional_info")}),(0,u.jsx)("p",{children:_}),(null===m||void 0===m?void 0:m.length)>0?(0,u.jsx)("div",{className:a.Z.aditional_info_images,children:null===m||void 0===m?void 0:m.map((function(i){return(0,s.Y)(null===i||void 0===i?void 0:i.documentKey)?(0,u.jsx)("a",{title:"view File",href:"".concat(r.r3,"/").concat(null===i||void 0===i?void 0:i.documentKey),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,u.jsx)("img",{src:"".concat(r.yI,"/").concat(null===i||void 0===i?void 0:i.documentKey),alt:"files"},null===i||void 0===i?void 0:i.documentKey)}):null}))}):null]}):null,(0,u.jsxs)("div",{className:a.Z.aditional_info_dates,children:[(0,u.jsx)("p",{children:d()(h).format("DD MMM yyyy")}),(0,u.jsx)("p",{children:d()(h).format("LT")})]})]})},p=t(61292),f=t(10515),_=function(i){var e,t=i.daily,l=i.sid,r=i.onParentRefetch,s=i.isView,_=(0,c.$G)().t,m=(0,o.useState)(""),h=(0,n.Z)(m,2),j=h[0],x=h[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:a.Z.academic_card_container,children:[(0,u.jsxs)("div",{className:a.Z.academic_card_top,style:{justifyContent:"space-between"},children:[(0,u.jsxs)("div",{className:a.Z.academic_card_top_text,children:[(0,u.jsx)("img",{src:"/images/member_tab/subject/subject-topic-icon.svg",alt:"topic icon"}),(0,u.jsxs)("h6",{children:[d()(null===t||void 0===t?void 0:t.date).format("Do MMMM, yyyy"),": Topics Covered"]})]}),"STUDENT"===s?null:(0,u.jsxs)("h6",{onClick:function(){return x(t)},children:["(",_("edit_"),")"]})]}),null===t||void 0===t||null===(e=t.daily_topic)||void 0===e?void 0:e.map((function(i){return(0,u.jsx)(p.Z,{topic:null===i||void 0===i?void 0:i.topic,topicType:null===i||void 0===i?void 0:i.status,topicCurrentStatus:null===i||void 0===i?void 0:i.current_status,isView:"DAILY"},null===i||void 0===i?void 0:i._id)})),(0,u.jsx)(v,{updateDescription:null===t||void 0===t?void 0:t.updateDescription,upadateImage:null===t||void 0===t?void 0:t.upadateImage,createdAt:null===t||void 0===t?void 0:t.createdAt,isView:s,subject:null===t||void 0===t?void 0:t.subject})]}),j&&(0,u.jsx)(f.Z,{onClose:function(){return x("")},sid:l,onRefetch:r,dailyMenu:j})]})}},10307:function(i,e,t){t.d(e,{Y:function(){return o}});var n=[".jpg",".jpeg",".jpe",".pjpeg",".pjp",".apng",".jif",".jfif",".jfi",".png",".gif",".webp",".tiff",".tif",".psd",".heif",".heic",".svg",".svgz",".ai",".eps",".avif"],o=function(i){for(var e=!1,t=0,o=n;t<o.length;t++){var a=o[t];if(null!==i&&void 0!==i&&i.includes(a)){e=!0;break}}return e}}}]);
//# sourceMappingURL=9532.629a9ef3.chunk.js.map