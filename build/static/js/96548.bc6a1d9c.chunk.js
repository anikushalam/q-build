"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[96548],{21625:(e,t,a)=>{a.d(t,{Dr:()=>d,Dv:()=>v,FL:()=>i,J9:()=>p,KB:()=>b,Ne:()=>c,OF:()=>s,Pv:()=>r,b5:()=>h,bB:()=>m,d4:()=>u,gS:()=>l,rY:()=>y,vM:()=>f,xk:()=>o});var n=a(63950);const i=()=>{const[e]=(0,n.rk)();return[e]},o=()=>{const[e]=(0,n.Zz)();return[e]},r=()=>{const[e]=(0,n.Sm)();return[e]},u=()=>{const[e]=(0,n.G1)();return[e]},s=()=>{const[e]=(0,n.lI)();return[e]},d=()=>{const[e]=(0,n.CT)();return[e]},l=()=>{const[e]=(0,n.b)();return[e]},c=()=>{const[e]=(0,n.x0)();return[e]},h=()=>{const[e]=(0,n.kA)();return[e]},m=()=>{const[e]=(0,n.rz)();return[e]},p=()=>{const[e]=(0,n.Pi)();return[e]},v=()=>{const[e]=(0,n.qz)();return[e]},y=()=>{const[e]=(0,n._C)();return[e]},b=()=>{const[e]=(0,n.qG)();return[e]},f=e=>{const{data:t,refetch:a,isLoading:i}=(0,n.tz)(null===e||void 0===e?void 0:e.phoneKey,{skip:e.skip});return{authGetAccountWithMobileNumber:t,authGetAccountWithMobileNumberRefetch:a,authGetAccountWithMobileNumberLoading:i}}},63950:(e,t,a)=>{a.d(t,{qG:()=>T,tz:()=>R,qz:()=>P,_C:()=>G,rz:()=>I,Pi:()=>D,Zz:()=>S,YY:()=>z,x0:()=>E,kA:()=>F,lI:()=>Z,CT:()=>k,Sm:()=>q,G1:()=>w,b:()=>M,rk:()=>C});var n=a(28328),i=a(94811);const o=e=>e.mutation({query:e=>({url:"/all-images/onefile/web",method:i.Q0,body:e.fileUpload})}),r=e=>e.query({query:e=>"/auth/username/search?u_name=".concat(e)}),u=e=>e.query({query:e=>"/auth/email/check/redundant?email=".concat(e)}),s=e=>e.mutation({query:e=>({url:"/auth/login",method:i.a4,body:e.login})}),d=e=>e.mutation({query:e=>({url:"/auth/user-detail",method:i.a4,body:e})}),l=e=>e.mutation({query:e=>{var t;return{url:"/auth/user-detail-verify/".concat(e.userPhoneNumber,"?u_name=").concat(null!==(t=null===e||void 0===e?void 0:e.u_name)&&void 0!==t?t:""),method:i.a4,body:e}}}),c=e=>e.mutation({query:e=>({url:"/auth/user/forgot",method:i.a4,body:e.forgot})}),h=e=>e.mutation({query:e=>({url:"/auth/user/forgot/".concat(e.uid),method:i.a4,body:e.otp})}),m=e=>e.mutation({query:e=>({url:"/auth/user/reset/password/".concat(e.uid),method:i.a4,body:e.password})}),p=(e,t)=>e.mutation({query:e=>({url:"/auth/profile-creation/".concat(e.userPhoneNumber),method:i.a4,body:e.profileCreation})}),v=(e,t)=>e.mutation({query:e=>({url:"/auth/create-user-password/".concat(e.uid),method:i.a4,body:e.password})}),y=(e,t)=>e.mutation({query:e=>({url:"/auth/ins-detail",method:i.a4,body:e.phone})}),b=(e,t)=>e.mutation({query:e=>({url:"/auth/ins-detail-verify/".concat(e.insPhoneNumber),method:i.a4,body:e.verify})}),f=(e,t)=>e.mutation({query:e=>({url:"/auth/ins/register",method:i.a4,body:e.profileCreation})}),g=(e,t)=>e.mutation({query:e=>({url:"/auth/ins/create-password/".concat(e.id),method:i.a4,body:e.password})}),x=e=>e.mutation({query:e=>({url:"/auth/direct/confirm/join/".concat(e.phoneNumber,"/apply/").concat(e.aid,"?existingUser=").concat(e.uid),method:i.a4,body:e.addStudent})}),j=e=>e.query({query:e=>"/auth/select/account?phoneKey=".concat(e),transformResponse:e=>null===e||void 0===e?void 0:e.all_account,serializeQueryArgs:e=>{let{endpointName:t}=e;return t},forceRefetch(e){let{currentArg:t,previousArg:a}=e;return t!==a}}),A=e=>e.mutation({query:e=>({url:"/admission/".concat(e.uid,"/user/").concat(e.aid,"/apply"),method:"POST",body:e.apply_data})}),_=n.i.injectEndpoints({endpoints:e=>({fileUpload:o(e),authUniqueUsername:r(e),authUniqueEmail:u(e),authLogin:s(e),authUserNumber:d(e),authUserNumberVerify:l(e),authUserForget:c(e),authUserForgetOtp:h(e),authUserSetPassword:m(e),authUserCreateAccount:p(e),authUserCreatePassword:v(e),authInstituteNumber:y(e),authInstituteNumberVerify:b(e),authInstituteCreateAccount:f(e),authInstituteCreatePassword:g(e),authDirectJoinFormAdmissionApplication:x(e),authGetAccountWithMobileNumber:j(e),authUserApplyOneApplication:A(e)})}),{useFileUploadMutation:C,useAuthUniqueUsernameQuery:N,useAuthUniqueEmailQuery:U,useAuthLoginMutation:S,useAuthUserNumberMutation:q,useAuthUserNumberVerifyMutation:w,useAuthUserForgetMutation:Z,useAuthUserForgetOtpMutation:k,useAuthUserSetPasswordMutation:M,useAuthUserCreateAccountMutation:E,useAuthUserCreatePasswordMutation:F,useAuthInstituteNumberMutation:I,useAuthInstituteNumberVerifyMutation:D,useAuthInstituteCreateAccountMutation:P,useAuthInstituteCreatePasswordMutation:G,useAuthDirectJoinFormAdmissionApplicationMutation:T,useAuthGetAccountWithMobileNumberQuery:R,useAuthUserApplyOneApplicationMutation:z}=_},96548:(e,t,a)=>{a.r(t),a.d(t,{default:()=>k});var n=a(72791),i=a(32361),o=a(1669),r=a(90904),u=a(63687),s=a(21348),d=a(2651),l=a(99183),c=a(38857),h=a(61055),m=a(55336),p=a(98684),v=a(93638),y=a(39230),b=a(16925),f=a(11468),g=a(21625),x=a(5574),j=a(86095),A=a(38986),_=a(80184);const C=e=>{let{onClose:t,onRefetch:a,dsid:o,onEditAction:u,menuData:d,isEdit:C}=e;const{t:N}=(0,y.$G)(),[U,S]=(0,n.useState)(""),[q,w]=(0,n.useState)(!1),[Z,k]=(0,n.useState)({title:"",description:"",image:"",attach:""}),[M,E]=(0,n.useState)(!1),[F,I]=(0,n.useState)(""),[D]=(0,i.e9)();(0,n.useEffect)((()=>{var e,t,a,n;C&&d&&k({title:null!==(e=null===d||void 0===d?void 0:d.title)&&void 0!==e?e:"",description:null!==(t=null===d||void 0===d?void 0:d.description)&&void 0!==t?t:"",image:null!==(a=null===d||void 0===d?void 0:d.image)&&void 0!==a?a:"",attach:null!==(n=null===d||void 0===d?void 0:d.attach)&&void 0!==n?n:""})}),[C,d]);const P=e=>{k((t=>({...t,[e.target.name]:e.target.value})))},[G]=(0,g.FL)(),T=e=>{if(e){w((e=>!e));const t=new FormData;t.append("file",e),G({fileUpload:t}).then((e=>{k((t=>{var a;return{...t,image:null===(a=e.data)||void 0===a?void 0:a.imageKey}})),w((e=>!e))})).catch({})}};return(0,_.jsx)(_.Fragment,{children:M?(0,_.jsx)(x.Z,{open:M,children:(0,_.jsx)(j.Z,{setOpenCrop:E,fileUrl:F,first:1,second:1,onCrop:(e,t)=>{E(!1),T(e)}})}):(0,_.jsx)(c.Z,{onClose:t,children:(0,_.jsxs)("div",{className:b.Z.modal_container,children:[(0,_.jsx)(s.default,{children:(0,_.jsxs)("div",{className:b.Z.modal_container_outer_header,children:[(0,_.jsx)("div",{className:b.Z.modal_container_header,children:(0,_.jsx)("h6",{children:N(C?"update_student_achievement":"add_student_achievement")})}),(0,_.jsx)("img",{src:"".concat(p.J7,"/close.svg"),alt:"close icon",onClick:t})]})}),(0,_.jsx)(r.Z,{}),(0,_.jsxs)(s.default,{customStyle:{paddingTop:"0"},children:[(0,_.jsx)(h.Z,{label:N("title"),placeholder:N("title_placeholder"),name:"title",value:Z.title,type:"text",onChange:P,errorShow:U.title}),(0,_.jsx)(A.Z,{label:N("add_image"),name:"home-opener",value:Z.image?{key:Z.image,name:"View"}:"",onChange:e=>{if(e.target.files[0]){const t=URL.createObjectURL(e.target.files[0]);I(t),E(!0)}},errorShow:U.image}),(0,_.jsx)(A.Z,{label:N("add_attachment"),name:"add_attachment",value:Z.attach?{key:Z.attach,name:"View"}:"",onChange:e=>{if(e.target.files[0]){w((e=>!e));const t=new FormData;t.append("file",e.target.files[0]),G({fileUpload:t}).then((e=>{k((t=>{var a;return{...t,attach:null===(a=e.data)||void 0===a?void 0:a.imageKey}})),w((e=>!e))})).catch({})}},errorShow:U.attach}),(0,_.jsx)(f.Z,{label:N("description"),placeholder:N("description_placeholder"),name:"description",type:"text",value:Z.description,onChange:P,customFormInputContainer:{width:"100%"},errorShow:U.description}),(0,_.jsx)(v.Z,{label:C?"update":"add",onAction:()=>{let e=(0,l.l)(Z,["image","description","attach"]);(0,l.x)(e)&&o?C?u(Z):(w((e=>!e)),D({dsid:o,bodyParameter:{...Z,flow:"STUDENT_ACHIEVEMENTS"}}).then((()=>{a(),w((e=>!e)),t()})).catch({})):S(e)}})]}),q&&(0,_.jsx)(m.default,{})]})})})};var N=a(56959),U=a(2034),S=a(16917),q=a(89064);const w=e=>{let{dsid:t,onClose:a,menuData:o,onRefetch:r}=e;const{t:u}=(0,y.$G)(),[s,d]=(0,n.useState)(!1),[l,c]=(0,n.useState)(""),[h]=(0,i.MS)(),[m]=(0,i.fw)(),p=()=>{c("")};return(0,_.jsx)(_.Fragment,{children:1===l?(0,_.jsx)(C,{isEdit:!0,dsid:t,onEditAction:e=>{null!==o&&void 0!==o&&o._id&&t&&(p(),d((e=>!e)),m({dsid:t,bodyParameter:{...e,cid:null===o||void 0===o?void 0:o._id,flow:"STUDENT_ACHIEVEMENTS"}}).then((()=>{r(),d((e=>!e)),a()})).catch({}))},menuData:o,onClose:p}):(0,_.jsxs)(q.Z,{onClose:a,disabled:s,children:[(0,_.jsx)("h6",{onClick:()=>c(1),children:u("edit")}),(0,_.jsx)("h6",{onClick:()=>{null!==o&&void 0!==o&&o._id&&t&&(d((e=>!e)),h({dsid:t,bodyParameter:{cid:null===o||void 0===o?void 0:o._id,flow:"STUDENT_ACHIEVEMENTS"}}).then((()=>{r(),d((e=>!e)),a()})).catch({}))},children:u("delete")})]})})},Z=e=>{var t;let{pso:a,onRefetch:i,dsid:o}=e;const{t:r}=(0,y.$G)(),[u,s]=(0,n.useState)(!1),d=()=>{s((e=>!e))};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:U.Z.smc_card,style:{alignItems:"flex-start"},children:[(0,_.jsx)("div",{className:U.Z.smc_card_contatiner,children:(0,_.jsx)("div",{className:U.Z.smc_card_contatiner,children:(0,_.jsxs)("div",{className:U.Z.smc_card_contatiner_inner,children:[(0,_.jsxs)("h6",{children:[" ",r("name")," : ",null===a||void 0===a?void 0:a.title]}),(0,_.jsx)(S.Z,{label:"".concat(r("image"),": "),value:{key:null===a||void 0===a?void 0:a.image},customFormInputContainer:{margin:"0"}}),null!==a&&void 0!==a&&a.attach?(0,_.jsx)(S.Z,{label:"".concat(r("attachment")," :"),value:{key:null===a||void 0===a?void 0:a.attach},customFormInputContainer:{marginBlock:"0"}}):null,(0,_.jsx)("p",{children:null!==(t=null===a||void 0===a?void 0:a.description)&&void 0!==t?t:""})]})})}),(0,_.jsx)("img",{src:"".concat(p.J7,"/menu.svg"),alt:"menu icon",onClick:d})]}),u&&(0,_.jsx)(w,{onClose:d,dsid:o,menuData:a,onRefetch:i})]})},k=e=>{var t,a;let{did:l,dsid:c}=e;const{t:h}=(0,y.$G)(),[m,p]=(0,n.useState)(!1),{departmentDashboardSite:b,departmentDashboardSiteLoading:f,departmentDashboardSiteRefetch:g}=(0,i.tI)({data:{did:l},skip:!l}),x=()=>{p((e=>!e))};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(u.default,{children:[(0,_.jsx)(s.default,{children:(0,_.jsxs)("div",{className:N.Z.fm_header_container,children:[(0,_.jsx)("h6",{children:h("student_achievements")}),(0,_.jsx)(v.Z,{label:"add",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:x})]})}),(0,_.jsx)(r.Z,{}),(0,_.jsxs)(s.default,{children:[null===b||void 0===b||null===(t=b.student_achievements)||void 0===t?void 0:t.map((e=>(0,_.jsx)(Z,{pso:e,dsid:c,onRefetch:g},null===e||void 0===e?void 0:e._id))),f?(0,_.jsx)(o.Z,{}):0===(null===b||void 0===b||null===(a=b.student_achievements)||void 0===a?void 0:a.length)&&(0,_.jsx)(d.Z,{title:"No student achievements."})]})]}),m&&(0,_.jsx)(C,{onClose:x,dsid:c,onRefetch:g})]})}}}]);
//# sourceMappingURL=96548.bc6a1d9c.chunk.js.map