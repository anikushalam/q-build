"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[30050],{11105:(t,i,e)=>{e.d(i,{Z:()=>a});e(72791);var o=e(11575),n=e(80184);const a=t=>{let{status:i}=t;return(0,n.jsx)("div",{className:o.Z.loaderGif,children:(0,n.jsx)("img",{src:"white"===i?"/images/loader/loader-bg-white.gif":"/images/loader/loader.gif",alt:"for load an items"})})}},30050:(t,i,e)=>{e.r(i),e.d(i,{default:()=>V});var o=e(72791),n=e(35395);const a={body:"Notification_body__YVF+x"},s="Body_body__UG+Mb",l="Body_noData__s3Sns";var c=e(23441),r=e(80605),d=e(95048),u=e(11105);const v="Item_item__tNAlK",f="Item_text__7p9jA",h="Item_textlast__-oe0K",y="Item_eachItem__uSED1",m="Item_eachItemleft__6PJwo";var p=e(72426),g=e.n(p),x=e(80184);const j=function(t){let{admin:i,notification:e}=t;return i?(0,x.jsxs)("div",{className:y,children:[(0,x.jsxs)("div",{className:m,children:[(0,x.jsx)("img",{src:"/images/career/newLogo.svg",alt:""}),(0,x.jsxs)("p",{children:["Qviple ",null===e||void 0===e?void 0:e.notifyContent]})]}),(0,x.jsx)("div",{className:f,children:(0,x.jsx)("p",{children:g()(null===e||void 0===e?void 0:e.notifyTime).format("LT")})})]}):(0,x.jsxs)("div",{className:y,children:[(0,x.jsxs)("div",{className:m,children:[(0,x.jsx)("img",{src:"/images/avatar-icon.png",alt:""}),(0,x.jsx)("p",{className:h,children:null===e||void 0===e?void 0:e.notifyContent})]}),(0,x.jsx)("div",{className:"".concat(f," "),children:(0,x.jsx)("p",{children:g()(null===e||void 0===e?void 0:e.notifyTime).format("LT")})})]})};var N=e(69721);const _=t=>{var i,e;let{notification:o}=t;return(0,x.jsxs)("div",{className:y,children:[(0,x.jsxs)("div",{className:m,children:[(0,x.jsx)("img",{src:"1"!==(null===o||void 0===o||null===(i=o.notifyByInsPhoto)||void 0===i?void 0:i.photoId)?"".concat(N.yI,"/").concat(null===o||void 0===o||null===(e=o.notifyByInsPhoto)||void 0===e?void 0:e.insProfilePhoto):"/images/ins_default_profile.svg",alt:""}),(0,x.jsx)("p",{children:null===o||void 0===o?void 0:o.notifyContent})]}),(0,x.jsx)("div",{className:f,children:(0,x.jsx)("p",{children:g()(null===o||void 0===o?void 0:o.notifyTime).format("LT")})})]})};var A=e(43504);const w=t=>{var i,e;let{notification:o}=t;const n=(0,d.v9)((t=>t.idChange.loginProfile));return(0,x.jsx)(A.rU,{to:"/q/".concat(n.username,"/following"),style:{width:"100%"},children:(0,x.jsxs)("div",{className:y,children:[(0,x.jsxs)("div",{className:m,children:[(0,x.jsx)("img",{src:"1"!==(null===o||void 0===o||null===(i=o.notifyByInsPhoto)||void 0===i?void 0:i.photoId)?"".concat(N.yI,"/").concat(null===o||void 0===o||null===(e=o.notifyByInsPhoto)||void 0===e?void 0:e.insProfilePhoto):"/images/ins_default_profile.svg",alt:""}),(0,x.jsx)("p",{children:null===o||void 0===o?void 0:o.notifyContent})]}),(0,x.jsx)("div",{className:f,children:(0,x.jsx)("p",{children:g()(null===o||void 0===o?void 0:o.notifyTime).format("LT")})})]})})},b=t=>{var i,e;let{notification:o}=t;const n=(0,d.v9)((t=>t.idChange.loginProfile));return(0,x.jsx)(A.rU,{to:"/q/".concat(n.username,"/following"),style:{width:"100%"},children:(0,x.jsxs)("div",{className:y,children:[(0,x.jsxs)("div",{className:m,children:[(0,x.jsx)("img",{src:"1"!==(null===o||void 0===o||null===(i=o.notifyByPhoto)||void 0===i?void 0:i.photoId)?"".concat(N.yI,"/").concat(null===o||void 0===o||null===(e=o.notifyByPhoto)||void 0===e?void 0:e.profilePhoto):"/images/ins_default_profile.svg",alt:""}),(0,x.jsx)("p",{children:null===o||void 0===o?void 0:o.notifyContent})]}),(0,x.jsx)("div",{className:f,children:(0,x.jsx)("p",{children:g()(null===o||void 0===o?void 0:o.notifyTime).format("LT")})})]})})},S=t=>{var i,e,o;let{notification:n}=t;const a=(0,d.v9)((t=>t.idChange.loginProfile));return(0,x.jsx)(A.rU,{to:"/q/".concat(a.username,"/staff"),style:{width:"100%"},state:{openType:{openId:null===n||void 0===n||null===(i=n.notifyByStaffPhoto)||void 0===i?void 0:i._id,asOpen:"staff",activeTab:"Approve Staff"===(null===n||void 0===n?void 0:n.notifyCategory)?"Approve Staff":"Request Staff"}},children:(0,x.jsxs)("div",{className:y,children:[(0,x.jsxs)("div",{className:m,children:[(0,x.jsx)("img",{src:"1"!==(null===n||void 0===n||null===(e=n.notifyByStaffPhoto)||void 0===e?void 0:e.photoId)?"".concat(N.yI,"/").concat(null===n||void 0===n||null===(o=n.notifyByStaffPhoto)||void 0===o?void 0:o.staffProfilePhoto):"/images/ins_default_profile.svg",alt:""}),(0,x.jsx)("p",{children:null===n||void 0===n?void 0:n.notifyContent})]}),(0,x.jsx)("div",{className:f,children:(0,x.jsx)("p",{children:g()(null===n||void 0===n?void 0:n.notifyTime).format("LT")})})]})})},k=t=>{var i,e,o;let{notification:n}=t;const a=(0,d.v9)((t=>t.idChange.loginProfile));return(0,x.jsx)(A.rU,{to:"/q/".concat(a.username,"/student"),style:{width:"100%"},state:{openType:{openId:null===n||void 0===n||null===(i=n.notifyByStudentPhoto)||void 0===i?void 0:i._id,asOpen:"student"}},children:(0,x.jsxs)("div",{className:y,children:[(0,x.jsxs)("div",{className:m,children:[(0,x.jsx)("img",{src:"1"!==(null===n||void 0===n||null===(e=n.notifyByStudentPhoto)||void 0===e?void 0:e.photoId)?"".concat(N.yI,"/").concat(null===n||void 0===n||null===(o=n.notifyByStudentPhoto)||void 0===o?void 0:o.studentProfilePhoto):"/images/ins_default_profile.svg",alt:""}),(0,x.jsx)("p",{children:null===n||void 0===n?void 0:n.notifyContent})]}),(0,x.jsx)("div",{className:f,children:(0,x.jsx)("p",{children:g()(null===n||void 0===n?void 0:n.notifyTime).format("LT")})})]})})},I=t=>{let{notification:i}=t;return(0,x.jsx)("div",{className:v,children:null!==i&&void 0!==i&&i.notifyByStudentPhoto?(0,x.jsx)(k,{notification:i}):null!==i&&void 0!==i&&i.notifyByStaffPhoto?(0,x.jsx)(S,{notification:i}):null!==i&&void 0!==i&&i.notifyByPhoto?(0,x.jsx)(b,{notification:i}):null!==i&&void 0!==i&&i.notifyByInsPhoto?(0,x.jsx)(w,{notification:i}):null!==i&&void 0!==i&&i.notifyByDepartPhoto?(0,x.jsx)(_,{notification:i}):null!==i&&void 0!==i&&i.notifyBySuperAdminPhoto?(0,x.jsx)(j,{admin:!0,notification:i}):(0,x.jsx)(j,{admin:!1,notification:i})})};const P=function(){const t=(0,d.v9)((t=>t.idChange.id)),[i,e]=(0,o.useState)(!0),[n,a]=(0,o.useState)(1),[v,f]=(0,c.YD)(),[h,y]=(0,o.useState)([]),[m,p]=(0,o.useState)(!0),{instituteAllNotification:g,instituteAllNotificationRefetch:j}=(0,r.nF)({data:{id:t,page:n,limit:10},skip:!t});return(0,o.useEffect)((()=>{t&&(p(!0),j())}),[n,t,j]),(0,o.useEffect)((()=>{f&&i&&a((t=>t+1))}),[f,i]),(0,o.useEffect)((()=>{if(null!==g&&void 0!==g&&g.notify){const t=[...h,...null===g||void 0===g?void 0:g.notify],i=[...new Set(t.map(JSON.stringify))].map(JSON.parse);y(i),p(!1)}10===(null===g||void 0===g?void 0:g.notify.length)?e(!0):e(!1)}),[null===g||void 0===g?void 0:g.notify]),(0,x.jsxs)("div",{className:s,children:[0===(null===h||void 0===h?void 0:h.length)&&!1===m&&(0,x.jsx)("div",{className:l,children:(0,x.jsx)("img",{src:"/images/nodata.jpg",alt:""})}),null===h||void 0===h?void 0:h.map(((t,i)=>(null===h||void 0===h?void 0:h.length)===i+1?(0,x.jsx)("div",{ref:v,children:(0,x.jsx)(I,{notification:t})},i):(0,x.jsx)(I,{notification:t},i))),m&&(0,x.jsx)(u.Z,{})]})},q="Header_header__bou17",C="Header_text__1DhZA";var R=e(39230);const M=function(t){let{changeToNewFollowers:i,newFollowers:e}=t;const{t:o}=(0,R.$G)();return(0,x.jsx)("div",{className:q,onClick:()=>i(!0),children:(0,x.jsxs)("div",{className:C,children:[(0,x.jsx)("h6",{children:o("new_followerss")}),(0,x.jsx)("p",{children:o("follow_back")})]})})},B=(0,o.lazy)((()=>e.e(62063).then(e.bind(e,62063)))),T=(0,o.lazy)((()=>e.e(87034).then(e.bind(e,87034))));const V=function(){const[t,i]=(0,o.useState)(!1);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:a.header,children:!0===t?(0,x.jsx)(n.Z,{children:(0,x.jsx)(T,{newFollowers:t,changeToNewFollowers:t=>i(t)})}):(0,x.jsx)(M,{newFollowers:t,changeToNewFollowers:t=>i(t)})}),(0,x.jsx)("div",{className:a.body,children:!0===t?(0,x.jsx)(n.Z,{children:(0,x.jsx)(B,{})}):(0,x.jsx)(P,{})})]})}},80605:(t,i,e)=>{e.d(i,{Cr:()=>E,a3:()=>G,EC:()=>V,EG:()=>T,_p:()=>F,Wj:()=>B,vW:()=>Q,id:()=>L,nF:()=>R,iA:()=>O,mS:()=>M});var o=e(69721);const n="/api/v1",a="/api/v1/user",s="/api/v1/election/event",l=t=>t.query({query:t=>"".concat(n,"/ins/dashboard/").concat(t.id,"/notify?page=").concat(t.page,"&limit=").concat(t.limit)}),c=t=>t.query({query:t=>"".concat(n,"/user/dashboard/").concat(t.id,"/notify?page=").concat(t.page,"&limit=").concat(t.limit)}),r=t=>t.query({query:t=>{var i;return"".concat(a,"/").concat(t.id,"/activity?page=").concat(t.page,"&limit=").concat(t.limit,"&category=").concat(null!==(i=null===t||void 0===t?void 0:t.category)&&void 0!==i?i:"")}}),d=t=>t.query({query:t=>"".concat(a,"/").concat(t,"/activity/total/notify")}),u=(t,i)=>t.mutation({query:t=>({url:"".concat(a,"/").concat(t.id,"/mark/viewed?type=").concat(t.type),method:i})}),v=(t,i)=>t.mutation({query:t=>({url:"".concat(a,"/read/notify/user/").concat(t),method:i})}),f=(t,i)=>t.mutation({query:t=>({url:"".concat(s,"/").concat(t.eid,"/apply/").concat(t.sid),method:"".concat(i),body:t.appliedElection})}),h=(t,i)=>t.mutation({query:t=>({url:"".concat(s,"/").concat(t.eid,"/status/").concat(t.apid,"/candidate/").concat(t.sid,"/vote/").concat(t.aid),method:"".concat(i)})}),y=t=>t.query({query:t=>"".concat(s,"/").concat(t.did,"/one/institute?page=").concat(t.page,"&limit=").concat(t.limit,"&search=").concat(t.search)}),m=t=>t.query({query:t=>"".concat(n,"/extra/all/").concat(t.id,"/query?page=").concat(t.page,"&limit=").concat(t.limit)}),p=(t,i)=>t.mutation({query:t=>({url:"".concat(n,"/extra/status/").concat(t.qid,"/query?status=").concat(t.status),method:"".concat(i)})}),g=t=>t.query({query:t=>"".concat(n,"/user/").concat(t.uid,"/student/message?page=").concat(t.page,"&limit=").concat(t.limit)});const x=e(32015).v.injectEndpoints({endpoints:t=>({instituteAllNotification:l(t),userAllNotification:c(t),allActivity:r(t),activityNotifiationCount:d(t),activityMarkView:u(t,o.K7),activityMarkAsRead:v(t,o.K7),activityElectionApplied:f(t,o.lx),activityElectionVote:h(t,o.K7),activitySupportMember:y(t),instituteAllGRNotification:m(t),instituteGRNotificationAction:p(t,o.K7),getNotificationAllStudentMessage:g(t)})}),{useInstituteAllNotificationQuery:j,useUserAllNotificationQuery:N,useAllActivityQuery:_,useActivityNotifiationCountQuery:A,useActivityMarkViewMutation:w,useActivityMarkAsReadMutation:b,useActivityElectionAppliedMutation:S,useActivityElectionVoteMutation:k,useActivitySupportMemberQuery:I,useInstituteAllGRNotificationQuery:P,useInstituteGRNotificationActionMutation:q,useGetNotificationAllStudentMessageQuery:C}=x,R=t=>{const{data:i,refetch:e}=j(t.data,{skip:t.skip});return{instituteAllNotification:i,instituteAllNotificationRefetch:e}},M=t=>{const{data:i,refetch:e}=N(t.data,{skip:t.skip});return{userAllNotification:i,userAllNotificationRefetch:e}},B=t=>{const{data:i,refetch:e}=_(t.data,{skip:t.skip});return{allActivityList:i,allActivityListRefetch:e}},T=t=>{const{data:i,refetch:e}=A(t.id,{skip:t.skip});return{activityNotifiationCount:i,activityNotifiationCountRefetch:e}},V=()=>{const[t]=w();return[t]},E=()=>{const[t]=S();return[t]},G=()=>{const[t]=k();return[t]},F=t=>{const{data:i,refetch:e}=I(t.data,{skip:t.skip});return{activitySupportMember:i,activitySupportMemberRefetch:e}},L=t=>{const{data:i,refetch:e}=P(t.data,{skip:t.skip});return{instituteAllGRNotification:i,instituteAllGRNotificationRefetch:e}},O=()=>{const[t]=q();return[t]},Q=t=>{const{data:i,refetch:e}=C(t.data,{skip:t.skip});return{getNotificationAllStudentMessage:i,getNotificationAllStudentMessageRefetch:e}}},23441:(t,i,e)=>{e.d(i,{YD:()=>v});var o=e(72791),n=Object.defineProperty,a=(t,i,e)=>(((t,i,e)=>{i in t?n(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e})(t,"symbol"!==typeof i?i+"":i,e),e),s=new Map,l=new WeakMap,c=0,r=void 0;function d(t){return Object.keys(t).sort().filter((i=>void 0!==t[i])).map((i=>{return"".concat(i,"_").concat("root"===i?(e=t.root)?(l.has(e)||(c+=1,l.set(e,c.toString())),l.get(e)):"0":t[i]);var e})).toString()}function u(t,i){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;if("undefined"===typeof window.IntersectionObserver&&void 0!==o){const n=t.getBoundingClientRect();return i(o,{isIntersecting:o,target:t,intersectionRatio:"number"===typeof e.threshold?e.threshold:0,time:0,boundingClientRect:n,intersectionRect:n,rootBounds:n}),()=>{}}const{id:n,observer:a,elements:l}=function(t){let i=d(t),e=s.get(i);if(!e){const o=new Map;let n;const a=new IntersectionObserver((i=>{i.forEach((i=>{var e;const a=i.isIntersecting&&n.some((t=>i.intersectionRatio>=t));t.trackVisibility&&"undefined"===typeof i.isVisible&&(i.isVisible=a),null==(e=o.get(i.target))||e.forEach((t=>{t(a,i)}))}))}),t);n=a.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),e={id:i,observer:a,elements:o},s.set(i,e)}return e}(e);let c=l.get(t)||[];return l.has(t)||l.set(t,c),c.push(i),a.observe(t),function(){c.splice(c.indexOf(i),1),0===c.length&&(l.delete(t),a.unobserve(t)),0===l.size&&(a.disconnect(),s.delete(n))}}o.Component;function v(){let{threshold:t,delay:i,trackVisibility:e,rootMargin:n,root:a,triggerOnce:s,skip:l,initialInView:c,fallbackInView:r,onChange:d}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var v;const[f,h]=o.useState(null),y=o.useRef(),[m,p]=o.useState({inView:!!c,entry:void 0});y.current=d,o.useEffect((()=>{if(l||!f)return;let o;return o=u(f,((t,i)=>{p({inView:t,entry:i}),y.current&&y.current(t,i),i.isIntersecting&&s&&o&&(o(),o=void 0)}),{root:a,rootMargin:n,threshold:t,trackVisibility:e,delay:i},r),()=>{o&&o()}}),[Array.isArray(t)?t.toString():t,f,a,n,s,l,e,r,i]);const g=null==(v=m.entry)?void 0:v.target,x=o.useRef();f||!g||s||l||x.current===g||(x.current=g,p({inView:!!c,entry:void 0}));const j=[h,m.inView,m.entry];return j.ref=j[0],j.inView=j[1],j.entry=j[2],j}}}]);
//# sourceMappingURL=30050.19d518f0.chunk.js.map