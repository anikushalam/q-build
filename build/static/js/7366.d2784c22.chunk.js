"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[7366],{46876:function(e,t,n){n.r(t);var i=n(93433),a=n(29439),s=n(72791),l=n(23441),o=n(78687),d=n(12923),c=n(763),r=n(69721),u=n(52124),v=n(5574),m=n(39230),f=n(80184),_=window.innerHeight;t.default=function(e){var t=e.onClose,n=e.title,h=e.headSelect,x=e.assignHead,g=e.disabledId,j=e.instituteId,Z=e.viewAs,p=(0,m.$G)().t,b=(0,s.useState)(1),S=(0,a.Z)(b,2),N=S[0],k=S[1],y=(0,s.useState)(!0),C=(0,a.Z)(y,2),I=C[0],T=C[1],E=(0,l.YD)(),w=(0,a.Z)(E,2),A=w[0],M=w[1],O=(0,s.useState)(""),D=(0,a.Z)(O,2),L=D[0],P=D[1],R=s.useState([]),F=(0,a.Z)(R,2),B=F[0],G=F[1],H=(0,o.useSelector)((function(e){return e.idChange})),W=(0,d.vI)({skip:"ADMISSION_ADMIN"===Z?!j:!(null!==H&&void 0!==H&&H.id),search:{search:L,page:N,id:"ADMISSION_ADMIN"===Z?j:null===H||void 0===H?void 0:H.id,limit:10}}),U=W.assignSearchStaff,J=W.assignSearchStaffRefetch;s.useEffect((function(){null!==H&&void 0!==H&&H.id&&J()}),[null===H||void 0===H?void 0:H.id,J,N]),(0,s.useEffect)((function(){M&&I&&k((function(e){return e+1}))}),[M,I]),s.useEffect((function(){null!==U&&void 0!==U&&U.staff&&G(L?null===U||void 0===U?void 0:U.staff:function(e){return function(e){for(var t=0;t<(null===e||void 0===e?void 0:e.length);t++)for(var n=t+1;n<(null===e||void 0===e?void 0:e.length);n++){var i,a;(null===(i=e[t])||void 0===i?void 0:i._id)===(null===(a=e[n])||void 0===a?void 0:a._id)&&(null===e||void 0===e||e.splice(n,1))}return e}([].concat((0,i.Z)(e),(0,i.Z)(null===U||void 0===U?void 0:U.staff)))}),10===(null===U||void 0===U?void 0:U.staff.length)?T(!0):T(!1)}),[null===U||void 0===U?void 0:U.staff]),(0,s.useEffect)((function(){L&&$()}),[L]);var $=function(){J()},q=(0,s.useCallback)((0,c.debounce)((function(e){return P(e)}),500),[]),Y=function(e){g===(null===e||void 0===e?void 0:e._id)||(h(e),"ADMISSION_ADMIN"===Z||t())};return(0,f.jsx)(v.Z,{open:x,onClose:t,children:(0,f.jsxs)("div",{style:{backgroundColor:"#FAFAFA",width:"35rem",height:"".concat(_-20,"px"),overflowX:"hidden"},children:[(0,f.jsxs)("div",{className:u.Z.assign_title,style:{width:"100%"},children:[(0,f.jsx)("h5",{children:n}),(0,f.jsx)("img",{src:"/images/close-post-icon.svg",onClick:t,alt:"staff assign pop close icon"})]}),(0,f.jsxs)("div",{className:u.Z.assign_search_container,children:[(0,f.jsx)("input",{type:"text",placeholder:p("search"),className:u.Z.assign_search_input,onChange:function(e){return t=e.target.value,void q(t);var t}}),(0,f.jsx)("img",{src:"/images/search-dash-icon.svg",alt:"search icon"})]}),(0,f.jsx)("div",{className:u.Z.assign_show_list,children:null===B||void 0===B?void 0:B.map((function(e,t){return(null===B||void 0===B?void 0:B.length)===t+1?(0,f.jsxs)("div",{ref:A,children:[(0,f.jsxs)("div",{className:u.Z.assign_show_list_each,style:g===e._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:function(){return Y(e)},children:[(0,f.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(r.yI,"/").concat(e.staffProfilePhoto):"/images/demo_users/user1.svg",alt:"staff profile avatar"}),(0,f.jsxs)("div",{className:u.Z.assign_each_paragraph,children:[(0,f.jsx)("h6",{children:"".concat(e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(e.staffLastName)}),(0,f.jsxs)("p",{children:[" ",p("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]})]}),(0,f.jsx)("hr",{})]},e._id):(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:u.Z.assign_show_list_each,style:g===e._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:function(){return Y(e)},children:[(0,f.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(r.yI,"/").concat(e.staffProfilePhoto):"/images/demo_users/user1.svg",alt:"staff profile avatar"}),(0,f.jsxs)("div",{className:u.Z.assign_each_paragraph,children:[(0,f.jsx)("h6",{children:"".concat(e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(e.staffLastName)}),(0,f.jsxs)("p",{children:[" ",p("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]})]}),(0,f.jsx)("hr",{})]},e._id)}))})]})})}},12953:function(e,t,n){n.d(t,{A:function(){return i},t:function(){return a}});var i=function(e){var t=new Date,n=null===e||void 0===e?void 0:e.split("/");return!(t<=new Date("".concat(n[2],"-").concat(n[1],"-").concat(n[0])))},a=function(e){var t=new Date,n=null===e||void 0===e?void 0:e.split("/");return t<=new Date("".concat(n[2],"-").concat(n[1],"-").concat(n[0]))?{status:!0,value:"".concat(n[2],"-").concat(n[1],"-").concat(n[0])}:{status:!1,value:""}}},91022:function(e,t,n){var i=n(1413),a=n(29439),s=n(72791),l=n(39230),o=n(38733),d=n(80184);t.Z=function(e){var t=e.selectLabel,n=e.value,c=e.onClick,r=e.selectedValue,u=e.options,v=e.errorShow,m=e.customStyleContainer,f=e.customLabelStyle,_=e.customListStyle,h=e.openAs,x=e.viewAs,g=(0,l.$G)().t,j=(0,s.useState)(!1),Z=(0,a.Z)(j,2),p=Z[0],b=Z[1],S=function(){"REFUND"===h||"BACKLOG"===h||"FINANCE_MANAGER"===x||b((function(e){return!e}))},N=function(e){c(e),S()};return(0,d.jsxs)("div",{className:o.Z.join_form_container,style:(0,i.Z)({},m),children:[(0,d.jsxs)("p",{className:o.Z.join_form_select_paragraph,style:(0,i.Z)({},f),children:[t," ",v&&(0,d.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",g("form_require_label")]})]}),(0,d.jsxs)("section",{className:o.Z.join_form_select_custom,onClick:S,children:[n?(0,d.jsx)("p",{className:o.Z.join_form_select_custom_paragraph,children:null!==n&&void 0!==n?n:""}):(0,d.jsx)("p",{className:o.Z.join_form_select_custom_paragraph,children:r}),(0,d.jsx)("img",{className:o.Z.join_form_select_custom_icon,src:"/images/down-icon.svg",alt:"categor icon"})]}),p&&(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("section",{className:o.Z.join_form_select_custom_list,style:_?(0,i.Z)({},_):(null===u||void 0===u?void 0:u.length)>2?{overflowY:"scroll"}:{backgroundColor:"#ffffff"},children:[(0,d.jsx)("p",{className:o.Z.join_form_select_custom_paragraph_option,onClick:S,children:r}),null===u||void 0===u?void 0:u.map((function(e,t){return(0,d.jsx)("p",{onClick:function(){return N(e)},className:o.Z.join_form_select_custom_paragraph_option,children:e},t)}))]})})]})}},85843:function(e,t,n){n.d(t,{Z:function(){return te}});var i=n(72791),a="Backlogs_backlogContainer__14wvM",s="Backlogs_backlog__aKmlT",l="Backlogs_students__gWiPx",o=n(29439),d={standerdItem:"Standerds_standerdItem__sk5mQ",standerdsleft:"Standerds_standerdsleft__iz3+D",standerdsheading:"Standerds_standerdsheading__OUmuc",standerdsImg:"Standerds_standerdsImg__Qu0rF",standerdsh6:"Standerds_standerdsh6__vADsT",standerdsp:"Standerds_standerdsp__g1fxt",BacklogStudentsbody:"Standerds_BacklogStudentsbody__eSHlj",studentImgcontainer:"Standerds_studentImgcontainer__vvUzK",studentImg:"Standerds_studentImg__1MTHE",studentp1:"Standerds_studentp1__iIsI-",studentRightp:"Standerds_studentRightp__WICOh",standerdsrright:"Standerds_standerdsrright__QmfIn",dotsImg:"Standerds_dotsImg__NvD0-",examItem:"Standerds_examItem__5bRO5",studentModal:"Standerds_studentModal__Ylwd7",backItem:"Standerds_backItem__lNacM",backItemRight:"Standerds_backItemRight__KrXyV",modalbody:"Standerds_modalbody__aaB+Z",confirmbutton:"Standerds_confirmbutton__MBrRW",standerdItemm:"Standerds_standerdItemm__iZFWH",back_fees_container:"Standerds_back_fees_container__3540D",back_fees_container_inner:"Standerds_back_fees_container_inner__mfdj4",back_fees_list:"Standerds_back_fees_list__Pz572",back_fees_list_inner:"Standerds_back_fees_list_inner__5D6oY",back_fees_list_text:"Standerds_back_fees_list_text__K10RD",fees_header:"Standerds_fees_header__lnUE0",fees_table_header:"Standerds_fees_table_header__rq-XT"},c="Tabs_mcqToptabs__yrqKN",r="Tabs_mcqTop__eTjbn",u="Tabs_mcqTopItem__5qwkI",v="Tabs_active__zps6f",m=n(39230),f=n(80184);var _=function(e){var t=e.activeIndex,n=e.setActiveIndex,i=(0,m.$G)().t;return(0,f.jsx)("div",{className:r,children:(0,f.jsxs)("div",{className:c,children:[(0,f.jsx)("div",{className:0===t?"".concat(u," ").concat(v):u,onClick:function(){return n(0)},children:i("current")}),(0,f.jsx)("div",{className:1===t?"".concat(u," ").concat(v):u,onClick:function(){return n(1)},children:i("dropouts")})]})})},h=n(93433),x=n(23441),g=n(74289),j=n(11105),Z=n(69721);var p=function(e){var t,n,i,a=e.onStudentOpen,s=e.student,l=e.clickable;return(0,f.jsxs)("div",{className:d.standerdItem,onClick:function(){l&&a(s)},children:[(0,f.jsxs)("div",{className:d.standerdsleft,children:[(0,f.jsx)("div",{className:d.studentImgcontainer,children:(0,f.jsx)("img",{className:d.studentImg,src:"1"!==(null===s||void 0===s?void 0:s.photoId)?"".concat(Z.yI,"/").concat(null===s||void 0===s?void 0:s.studentProfilePhoto):"/images/user_default_img.svg",alt:"student icon"})}),(0,f.jsxs)("div",{className:d.standerdsright,children:[(0,f.jsx)("h6",{className:d.standerdsh6,children:"".concat(null===s||void 0===s?void 0:s.studentFirstName," ").concat((null===s||void 0===s?void 0:s.studentMiddleName)||""," ").concat(null===s||void 0===s?void 0:s.studentLastName)}),(0,f.jsx)("p",{className:d.studentp1,children:(null===s||void 0===s||null===(t=s.batches)||void 0===t?void 0:t.batchName)||""})]})]}),(0,f.jsxs)("p",{className:d.studentRightp,children:[null===s||void 0===s||null===(n=s.studentClass)||void 0===n?void 0:n.className," ",null===s||void 0===s||null===(i=s.studentClass)||void 0===i?void 0:i.classTitle]})]})},b=n(5574),S=n(98734);var N=function(e){var t,n,a,s=e.hideModal,l=e.open,c=e.studentId,r=e.subjectMasterId,u=e.onRefetchWhenConfirm,v=(0,m.$G)().t,_=(0,i.useState)(""),h=(0,o.Z)(_,2),x=h[0],j=h[1],p=(0,i.useState)(!1),N=(0,o.Z)(p,2),k=N[0],y=N[1],C=(0,g.p8)(),I=(0,o.Z)(C,1)[0];return(0,f.jsxs)(b.Z,{open:l,onClose:function(){return s(!1)},children:[(0,f.jsxs)("div",{className:d.studentModal,children:[(0,f.jsxs)("div",{className:d.standerdItem,style:{borderTopLeftRadius:"0",borderTopRightRadius:"0"},children:[(0,f.jsxs)("div",{className:d.standerdsleft,children:[(0,f.jsx)("div",{className:d.studentImgcontainer,children:(0,f.jsx)("img",{className:d.studentImg,src:"1"!==(null===c||void 0===c?void 0:c.photoId)?"".concat(Z.yI,"/").concat(null===c||void 0===c?void 0:c.studentProfilePhoto):"/images/user_default_img.svg",alt:"student"})}),(0,f.jsxs)("div",{className:d.standerdsright,children:[(0,f.jsx)("h6",{className:d.standerdsh6,children:"".concat(null===c||void 0===c?void 0:c.studentFirstName," ").concat((null===c||void 0===c?void 0:c.studentMiddleName)||""," ").concat(null===c||void 0===c?void 0:c.studentLastName)}),(0,f.jsx)("p",{className:d.studentp1,children:(null===c||void 0===c||null===(t=c.batches)||void 0===t?void 0:t.batchName)||""})]})]}),(0,f.jsxs)("p",{className:d.studentRightp,children:[" ",null===c||void 0===c||null===(n=c.studentClass)||void 0===n?void 0:n.className," ",null===c||void 0===c||null===(a=c.studentClass)||void 0===a?void 0:a.classTitle]})]}),(0,f.jsxs)("div",{className:d.modalbody,children:[(0,f.jsxs)("div",{className:d.backItem,onClick:function(){return j("Clear")},children:[(0,f.jsx)("img",{src:"/images/department/clear_backlog.svg",alt:"clear backlog"}),(0,f.jsxs)("div",{className:d.backItemRight,children:[(0,f.jsx)("h6",{children:v("clr_backlog")}),(0,f.jsx)("p",{children:v("have_passed")})]})]}),(0,f.jsxs)("div",{className:d.backItem,onClick:function(){return j("Dropout")},children:[(0,f.jsx)("img",{src:"/images/department/dropout.svg",alt:"clear backlog"}),(0,f.jsxs)("div",{className:d.backItemRight,children:[(0,f.jsx)("h6",{children:v("dropout")}),(0,f.jsx)("p",{children:v("either")})]})]}),(0,f.jsx)("div",{className:d.confirmbutton,onClick:function(){x&&(y((function(e){return!e})),I({sid:null===c||void 0===c?void 0:c._id,smid:r,status:x}).then((function(){u(),y((function(e){return!e})),s(!1)})).catch({}))},children:v("confirm")})]})]}),k&&(0,f.jsx)(S.Z,{})]})},k=function(e){var t=e.subjectMasterId,n=(0,i.useState)(!0),a=(0,o.Z)(n,2),s=a[0],l=a[1],d=(0,i.useState)(1),c=(0,o.Z)(d,2),r=c[0],u=c[1],v=(0,x.YD)(),m=(0,o.Z)(v,2),_=m[0],Z=m[1],b=(0,i.useState)(!0),S=(0,o.Z)(b,2),k=S[0],y=S[1],C=(0,i.useState)([]),I=(0,o.Z)(C,2),T=I[0],E=I[1],w=(0,i.useState)(!1),A=(0,o.Z)(w,2),M=A[0],O=A[1],D=(0,i.useState)(""),L=(0,o.Z)(D,2),P=L[0],R=L[1],F=(0,i.useState)(!1),B=(0,o.Z)(F,2),G=B[0],H=B[1],W=(0,g.y_)({data:{smid:t,page:r,limit:10},skip:!t}),U=W.backlogSubjectAllStudent,J=W.backlogSubjectAllStudentRefetch;(0,i.useEffect)((function(){Z&&s&&u((function(e){return e+1}))}),[Z,s]),(0,i.useEffect)((function(){t&&(y(!0),J())}),[r,t,G,J]),(0,i.useEffect)((function(){var e,t;if(null!==U&&void 0!==U&&U.student_array)if(G){var n=(0,h.Z)(null===U||void 0===U?void 0:U.student_array),i=(0,h.Z)(new Set(n.map(JSON.stringify))).map(JSON.parse);E(i),H(!1),y(!1)}else{var a=[].concat((0,h.Z)(T),(0,h.Z)(null===U||void 0===U?void 0:U.student_array)),s=(0,h.Z)(new Set(a.map(JSON.stringify))).map(JSON.parse);E(s),y(!1)}else 0===(null===U||void 0===U||null===(e=U.student_array)||void 0===e?void 0:e.length)&&y(!1);10===(null===U||void 0===U||null===(t=U.student_array)||void 0===t?void 0:t.length)?l(!0):l(!1)}),[null===U||void 0===U?void 0:U.student_array]);var $=function(e){R(e),O((function(e){return!e}))};return(0,f.jsxs)(f.Fragment,{children:[null===T||void 0===T?void 0:T.map((function(e,t){return(null===T||void 0===T?void 0:T.length)===t+1?(0,f.jsx)("div",{ref:_,children:(0,f.jsx)(p,{student:e,onStudentOpen:$,clickable:!0})},null===e||void 0===e?void 0:e._id):(0,f.jsx)(p,{student:e,onStudentOpen:$,clickable:!0},null===e||void 0===e?void 0:e._id)})),k&&(0,f.jsx)(j.Z,{}),M&&(0,f.jsx)(N,{open:M,hideModal:function(e){return O(e)},studentId:P,subjectMasterId:t,onRefetchWhenConfirm:function(){u(1),H(!0)}})]})},y=function(e){var t=e.subjectMasterId,n=(0,i.useState)(!0),a=(0,o.Z)(n,2),s=a[0],l=a[1],d=(0,i.useState)(1),c=(0,o.Z)(d,2),r=c[0],u=c[1],v=(0,x.YD)(),m=(0,o.Z)(v,2),_=m[0],Z=m[1],b=(0,i.useState)(!0),S=(0,o.Z)(b,2),N=S[0],k=S[1],y=(0,i.useState)([]),C=(0,o.Z)(y,2),I=C[0],T=C[1],E=(0,g.yD)({data:{smid:t,page:r,limit:10},skip:!t}),w=E.backlogSubjectAllStudentDropout,A=E.backlogSubjectAllStudentDropoutRefetch;return(0,i.useEffect)((function(){Z&&s&&u((function(e){return e+1}))}),[Z,s]),(0,i.useEffect)((function(){t&&(k(!0),A())}),[r,t,A]),(0,i.useEffect)((function(){var e,t;if(null!==w&&void 0!==w&&w.student_array){var n=[].concat((0,h.Z)(I),(0,h.Z)(null===w||void 0===w?void 0:w.student_array)),i=(0,h.Z)(new Set(n.map(JSON.stringify))).map(JSON.parse);T(i),k(!1)}else 0===(null===w||void 0===w||null===(e=w.student_array)||void 0===e?void 0:e.length)&&k(!1);10===(null===w||void 0===w||null===(t=w.student_array)||void 0===t?void 0:t.length)?l(!0):l(!1)}),[null===w||void 0===w?void 0:w.student_array]),(0,f.jsxs)(f.Fragment,{children:[null===I||void 0===I?void 0:I.map((function(e,t){return(null===I||void 0===I?void 0:I.length)===t+1?(0,f.jsx)("div",{ref:_,children:(0,f.jsx)(p,{student:e,clickable:!1})},null===e||void 0===e?void 0:e._id):(0,f.jsx)(p,{student:e,clickable:!1},null===e||void 0===e?void 0:e._id)})),N&&(0,f.jsx)(j.Z,{})]})},C=n(16871);var I=function(){var e,t,n=(0,C.TH)(),a=(0,i.useState)(0),s=(0,o.Z)(a,2),l=s[0],c=s[1];return(0,f.jsxs)("div",{children:[(0,f.jsx)(_,{activeIndex:l,setActiveIndex:c}),(0,f.jsxs)("div",{className:d.BacklogStudentsbody,children:[0===l&&(0,f.jsx)(k,{subjectMasterId:null===(e=n.state)||void 0===e?void 0:e.subId}),1===l&&(0,f.jsx)(y,{subjectMasterId:null===(t=n.state)||void 0===t?void 0:t.subId})]}),2===l&&(0,f.jsx)("div",{className:d.BacklogStudentsbody})]})},T=n(1413),E=n(8148),w=n(16796);var A=function(e){var t=e.classMaster,n=e.carryParentState,i=e.viewAs;return(0,f.jsx)(f.Fragment,{children:"EXAMINATION_SECTION"===i?(0,f.jsx)(w.Z,{carryParentState:(0,T.Z)((0,T.Z)({},n),{},{clsId:null===t||void 0===t?void 0:t._id}),activeTab:"department&n=backlog&subject",children:(0,f.jsxs)("div",{className:"".concat(d.standerdItem," ").concat(d.standerdItemm),children:[(0,f.jsx)("img",{className:d.standerdsImg,src:"/images/department/staffs.svg",alt:""}),(0,f.jsxs)("div",{className:d.standerdsright,children:[(0,f.jsx)("h6",{className:d.standerdsh6,children:(null===t||void 0===t?void 0:t.className)||""}),(0,f.jsxs)("p",{className:d.standerdsp,children:["Total Class: ",null===t||void 0===t?void 0:t.classCount]})]})]})}):(0,f.jsx)(E.Z,{carryParentState:(0,T.Z)((0,T.Z)({},n),{},{clsId:null===t||void 0===t?void 0:t._id}),activeTab:"backlog&subject",children:(0,f.jsxs)("div",{className:"".concat(d.standerdItem," ").concat(d.standerdItemm),children:[(0,f.jsx)("img",{className:d.standerdsImg,src:"/images/department/staffs.svg",alt:""}),(0,f.jsxs)("div",{className:d.standerdsright,children:[(0,f.jsx)("h6",{className:d.standerdsh6,children:(null===t||void 0===t?void 0:t.className)||""}),(0,f.jsxs)("p",{className:d.standerdsp,children:["Total Class: ",null===t||void 0===t?void 0:t.classCount]})]})]})})})},M=n(98094),O=n(47167),D=n(72426),L=n.n(D),P=function(e){var t,n,i,a,s,l,o,c=e.isFees,r=e.examFees,u=e.setAdd,v=e.setStudentList,_=(0,m.$G)().t;return(0,f.jsx)(f.Fragment,{children:c?(0,f.jsxs)("div",{className:d.back_fees_container,onClick:function(){return u(r)},style:{cursor:"pointer"},children:[(0,f.jsx)("img",{src:"/images/department/bank-icon.svg",alt:"bank icon"}),(0,f.jsxs)("div",{className:d.back_fees_container_inner,children:[(0,f.jsx)("h6",{children:_("backlog_exam_fee_structure")}),(0,f.jsxs)("p",{children:[_("rs"),".",null!==(t=null===r||void 0===r?void 0:r.exam_fee_amount)&&void 0!==t?t:0," / ",null!==(n=null===r||void 0===r?void 0:r.exam_fee_type)&&void 0!==n?n:""]})]})]}):(0,f.jsxs)("div",{className:d.back_fees_list,style:{cursor:"pointer"},onClick:function(){return v(r)},children:[(0,f.jsx)("img",{src:"/images/members/fees-icon.svg",alt:"fees icon"}),(0,f.jsxs)("div",{className:d.back_fees_list_inner,style:{width:"100%"},children:[(0,f.jsxs)("div",{className:d.back_fees_list_text,children:[(0,f.jsxs)("h6",{children:[null!==(i=null===r||void 0===r||null===(a=r.exam)||void 0===a?void 0:a.examName)&&void 0!==i?i:"",", ",_("rs"),". ",null!==(s=null===r||void 0===r?void 0:r.exam_fee_amount)&&void 0!==s?s:0," ",null===r||void 0===r?void 0:r.exam_fee_type]}),(0,f.jsxs)("p",{style:{fontSize:"10px"},children:[_("rs"),".",null!==(l=null===r||void 0===r?void 0:r.total_paid_collection)&&void 0!==l?l:0," ",_("received_of")," "," "," ",null!==(o=null===r||void 0===r?void 0:r.total_raised_collection)&&void 0!==o?o:0]})]}),(0,f.jsx)("div",{className:d.back_fees_list_text,children:(0,f.jsxs)("p",{children:[L()(null===r||void 0===r?void 0:r.created_at).format("DD MMMM yyyy"),","," ",L()(null===r||void 0===r?void 0:r.created_at).format("LT")]})})]})]})})},R=n(36665),F=n(91022),B=n(97655),G=n(60163),H=function(e){var t=e.onClose,n=e.examFees,a=e.onRefetch,s=(0,m.$G)().t,l=(0,i.useState)(""),d=(0,o.Z)(l,2),c=d[0],r=d[1],u=(0,i.useState)(!1),v=(0,o.Z)(u,2),_=v[0],h=v[1],x=(0,i.useState)({exam_fee_type:"",exam_fee_amount:0}),j=(0,o.Z)(x,2),Z=j[0],p=j[1],b=(0,g.bp)(),N=(0,o.Z)(b,1)[0];(0,i.useEffect)((function(){n&&p((function(e){var t,i;return(0,T.Z)((0,T.Z)({},e),{},{exam_fee_type:null!==(t=null===n||void 0===n?void 0:n.exam_fee_type)&&void 0!==t?t:"",exam_fee_amount:null!==(i=null===n||void 0===n?void 0:n.exam_fee_amount)&&void 0!==i?i:0})}))}),[n]);return(0,f.jsx)(R.Z,{onClose:t,children:(0,f.jsxs)("div",{className:G.Z.seating_modal,children:[(0,f.jsx)("section",{className:G.Z.seating_modal_title_left,style:{position:"relative"},children:(0,f.jsx)("h6",{children:s("exam_fees_update")})}),(0,f.jsx)(M.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),(0,f.jsx)(F.Z,{selectLabel:s("fees_type"),selectedValue:s("fees_type_placeholder"),options:["Per student","Per Backlog paper"],value:Z.exam_fee_type,onClick:function(e){p((function(t){return(0,T.Z)((0,T.Z)({},t),{},{exam_fee_type:e})}))},errorShow:c.examType}),(0,f.jsx)(B.Z,{labelText:s("fee_amount"),placeholder:s("fee_amount_placeholder"),name:"examWeight",value:Z.exam_fee_amount,type:"number",onChange:function(e){p((function(t){return(0,T.Z)((0,T.Z)({},t),{},{exam_fee_amount:+e.target.value})}))}}),(0,f.jsx)("button",{className:G.Z.update_btn,title:"update",onClick:function(){var e=function(e){var t={};for(var n in e)"exam_fee_amount"===n||e[n]||(t[n]="".concat(n," is required!"));return t}(Z),i=!1;for(var s in e)if(s){i=!0;break}i?r(e):(h((function(e){return!e})),N({efid:null===n||void 0===n?void 0:n._id,updateFee:Z}).then((function(){a(),t(),h((function(e){return!e}))})).catch({}))},children:s("update")}),_&&(0,f.jsx)(S.Z,{})]})})},W=function(e){var t,n,a=e.examFees,s=e.onClose,l=(0,m.$G)().t,c=(0,i.useState)(!0),r=(0,o.Z)(c,2),u=r[0],v=r[1],_=(0,g.j8)({efid:null===a||void 0===a?void 0:a._id,skip:!(null!==a&&void 0!==a&&a._id)}),h=_.examFeeStructureDetail,x=_.examFeeStructureDetailRefetch;return(0,i.useEffect)((function(){null!==a&&void 0!==a&&a._id&&(v(!0),x())}),[null===a||void 0===a?void 0:a._id,x]),(0,i.useEffect)((function(){null!==h&&void 0!==h&&h.all_fee&&v(!1)}),[null===h||void 0===h?void 0:h.all_fee]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:d.fees_header,children:[(0,f.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:s,alt:"go to previous",title:"Go Back",style:{cursor:"pointer"}}),(0,f.jsx)("h6",{children:l("total_collect_amount")})]}),(0,f.jsxs)("h6",{children:[l("rs"),". ",null!==(t=null===a||void 0===a?void 0:a.total_paid_collection)&&void 0!==t?t:0]})]}),(0,f.jsxs)("div",{className:d.fees_table_header,children:[(0,f.jsx)("h6",{style:{width:"20%"},children:l("roll_number")}),(0,f.jsx)("h6",{style:{width:"50%"},children:l("name")}),(0,f.jsx)("h6",{style:{width:"15%"},children:l("amount")}),(0,f.jsx)("h6",{style:{width:"15%"},children:l("status")})]}),(0,f.jsx)(M.Z,{customStyle:{width:"100%",marginTop:"0.8rem"}}),null===h||void 0===h||null===(n=h.all_fee)||void 0===n?void 0:n.map((function(e){var t,n,i,a,s,l,o,c,r,u;return(0,f.jsxs)("div",{className:d.fees_table_header,children:[(0,f.jsx)("p",{style:{width:"20%"},children:(null===e||void 0===e||null===(t=e.student)||void 0===t?void 0:t.studentROLLNO)>9?null===e||void 0===e||null===(n=e.student)||void 0===n?void 0:n.studentROLLNO:"0".concat(null===e||void 0===e||null===(i=e.student)||void 0===i?void 0:i.studentROLLNO)}),(0,f.jsx)("p",{style:{width:"50%"},children:"".concat(null!==(a=null===e||void 0===e||null===(s=e.student)||void 0===s?void 0:s.studentFirstName)&&void 0!==a?a:""," ").concat(null!==(l=null===e||void 0===e||null===(o=e.student)||void 0===o?void 0:o.studentMiddleName)&&void 0!==l?l:""," ").concat(null!==(c=null===e||void 0===e||null===(r=e.student)||void 0===r?void 0:r.studentLastName)&&void 0!==c?c:"")}),(0,f.jsx)("p",{style:{width:"15%"},children:null!==(u=null===e||void 0===e?void 0:e.amount)&&void 0!==u?u:0}),(0,f.jsx)("p",{style:{width:"15%"},children:(0,f.jsx)("img",{style:{marginLeft:"0.7rem"},src:"Not Paid"===(null===e||void 0===e?void 0:e.status)?"/images/department/radio-gray-icon.svg":"/images/department/radio-blue-icon.svg",alt:"radio icon"})})]})})),u&&(0,f.jsx)(j.Z,{})]})},U=function(e){var t=e.did,n=(0,i.useState)(""),a=(0,o.Z)(n,2),s=a[0],l=a[1],d=(0,x.YD)(),c=(0,o.Z)(d,2),r=c[0],u=c[1],v=(0,i.useState)(1),m=(0,o.Z)(v,2),_=m[0],Z=m[1],p=(0,i.useState)(!0),b=(0,o.Z)(p,2),S=b[0],N=b[1],k=(0,i.useState)(!0),y=(0,o.Z)(k,2),C=y[0],I=y[1],T=(0,i.useState)([]),E=(0,o.Z)(T,2),w=E[0],A=E[1],M=(0,i.useState)(!1),O=(0,o.Z)(M,2),D=O[0],L=O[1],R=(0,i.useState)(""),F=(0,o.Z)(R,2),B=F[0],G=F[1],U=(0,g.zk)({data:{did:t,page:_,limit:10},skip:!t}),J=U.getAllExamFeeStructure,$=U.getAllExamFeeStructureRefetch;(0,i.useEffect)((function(){t&&(I(!0),$())}),[t,_,$]),(0,i.useEffect)((function(){u&&S&&Z((function(e){return e+1}))}),[u,S]),(0,i.useEffect)((function(){var e,t;D?(A(null===J||void 0===J?void 0:J.all_exam_fee),I(!1),L(!1)):null!==J&&void 0!==J&&J.all_exam_fee?(A((function(e){var t,n;return null===(t=(0,h.Z)(new Set(null===(n=[].concat((0,h.Z)(e),(0,h.Z)(null===J||void 0===J?void 0:J.all_exam_fee)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),I(!1)):0===(null===J||void 0===J||null===(t=J.all_exam_fee)||void 0===t?void 0:t.length)&&I(!1);10===(null===J||void 0===J||null===(e=J.all_exam_fee)||void 0===e?void 0:e.length)?N(!0):N(!1)}),[null===J||void 0===J?void 0:J.all_exam_fee]);return(0,f.jsxs)(f.Fragment,{children:[!B&&(null===w||void 0===w?void 0:w.map((function(e,t){return(null===w||void 0===w?void 0:w.length)===t+1?(0,f.jsx)("div",{ref:r,children:(0,f.jsx)(P,{examFees:e,isFees:"Static Department Linked"===(null===e||void 0===e?void 0:e.exam_fee_status),setAdd:l,setStudentList:G})},null===e||void 0===e?void 0:e._id):(0,f.jsx)(P,{examFees:e,isFees:"Static Department Linked"===(null===e||void 0===e?void 0:e.exam_fee_status),setAdd:l,setStudentList:G},null===e||void 0===e?void 0:e._id)}))),C&&(0,f.jsx)(j.Z,{}),s&&(0,f.jsx)(H,{onClose:function(){return l("")},onRefetch:function(){Z(1),L(!0),I(!0),$()},examFees:s}),B&&(0,f.jsx)(W,{examFees:B,onClose:function(){return G("")}})]})},J=n(34219),$=n(12534),q=n(48401),Y=n(90443),V=function(e){var t,n=e.did,a=e.carryParentState,s=e.viewAs,l=(0,m.$G)().t,d=(0,i.useState)(!0),c=(0,o.Z)(d,2),r=c[0],u=c[1],v=(0,i.useState)([]),_=(0,o.Z)(v,2),h=_[0],x=_[1],j=(0,i.useState)(!1),Z=(0,o.Z)(j,2),p=Z[0],b=Z[1],S=(0,g.Id)({did:n,skip:!n}),N=S.getBacklogExamList,k=S.getBacklogExamListRefetch;(0,i.useEffect)((function(){n&&(u(!0),k())}),[n,k]),(0,i.useEffect)((function(){var e,t;null!==N&&void 0!==N&&null!==(e=N.exam)&&void 0!==e&&e.length?(x(null===N||void 0===N?void 0:N.exam),u(!1)):0===(null===N||void 0===N||null===(t=N.exam)||void 0===t?void 0:t.length)&&u(!1)}),[null===N||void 0===N?void 0:N.exam]);var y=function(){b((function(e){return!e}))};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:Y.Z.add_new_container,children:(0,f.jsx)("p",{className:Y.Z.add_new_exam,onClick:y,children:l("create_new_exam")})}),null===h||void 0===h?void 0:h.map((function(e){return(0,f.jsx)($.Z,{exam:e,carryParentState:a,viewAs:s},e._id)})),!r&&!(null!==N&&void 0!==N&&null!==(t=N.exam)&&void 0!==t&&t.length)&&(0,f.jsx)(J.Z,{customStyleContainer:{marginTop:"5rem",height:"inherit"},title:"No any exams found",subtitle:"Please make sure you have created exam."}),p&&(0,f.jsx)(q.Z,{onClose:y,did:n,onRefetch:k,openAs:"BACKLOG"})]})};var X=function(e){var t,n,a,s,l,c,r,u,v,_,Z=e.did,p=e.carryParentState,b=e.viewAs,S=(0,m.$G)().t,N=(0,C.UO)(),k=(0,C.TH)(),y=[{name:S("stands"),id:0,url:"EXAMINATION_SECTION"===b?"member/exam?a=department&n=backlog&standard":"member/department/".concat(N.deptname,"?a=backlog&standard")},{name:S("exam_fees"),id:1,url:"EXAMINATION_SECTION"===b?"member/exam?a=department&n=backlog&fees":"member/department/".concat(N.deptname,"?a=backlog&fees")},{name:S("exams"),id:2,url:"EXAMINATION_SECTION"===b?"member/exam?a=department&n=backlog&exam":"member/department/".concat(N.deptname,"?a=backlog&exam")}],I=(0,i.useState)(!0),T=(0,o.Z)(I,2),E=T[0],w=T[1],D=(0,i.useState)(1),L=(0,o.Z)(D,2),P=L[0],R=L[1],F=(0,x.YD)(),B=(0,o.Z)(F,2),G=B[0],H=B[1],W=(0,i.useState)(!0),J=(0,o.Z)(W,2),$=J[0],q=J[1],Y=(0,i.useState)([]),X=(0,o.Z)(Y,2),K=X[0],z=X[1],Q=(0,g.Gk)({data:{did:Z,page:P,limit:10},skip:!Z}),ee=Q.backlogClassMaster,te=Q.backlogClassMasterRefetch;return(0,i.useEffect)((function(){H&&E&&R((function(e){return e+1}))}),[H,E]),(0,i.useEffect)((function(){Z&&(q(!0),te())}),[P,Z,te]),(0,i.useEffect)((function(){var e,t;if(null!==ee&&void 0!==ee&&ee.masters){var n=[].concat((0,h.Z)(K),(0,h.Z)(null===ee||void 0===ee?void 0:ee.masters)),i=(0,h.Z)(new Set(n.map(JSON.stringify))).map(JSON.parse);z(i),q(!1)}else 0===(null===ee||void 0===ee||null===(e=ee.masters)||void 0===e?void 0:e.length)&&q(!1);10===(null===ee||void 0===ee||null===(t=ee.masters)||void 0===t?void 0:t.length)?w(!0):w(!1)}),[null===ee||void 0===ee?void 0:ee.masters]),(0,f.jsxs)("div",{className:d.standerds,children:[(0,f.jsx)("h6",{className:d.standerdsheading,children:S("stands")}),(0,f.jsx)(O.Z,{tabList:y,activeIndexTab:"backlog&standard"===(null===(t=k.search)||void 0===t?void 0:t.substring(3))||"department&n=backlog&standard"===(null===(n=k.search)||void 0===n?void 0:n.substring(3))?0:"backlog&fees"===(null===(a=k.search)||void 0===a?void 0:a.substring(3))||"department&n=backlog&fees"===(null===(s=k.search)||void 0===s?void 0:s.substring(3))?1:2,showAs:!0,customStyleLink:{width:"33.3%"},carryParentState:p}),(0,f.jsx)(M.Z,{customStyle:{width:"100%",marginBottom:"0.7rem"}}),("backlog&standard"===(null===(l=k.search)||void 0===l?void 0:l.substring(3))||"department&n=backlog&standard"===(null===(c=k.search)||void 0===c?void 0:c.substring(3)))&&(0,f.jsxs)(f.Fragment,{children:[null===K||void 0===K?void 0:K.map((function(e,t){return(null===K||void 0===K?void 0:K.length)===t+1?(0,f.jsx)("div",{ref:G,children:(0,f.jsx)(A,{classMaster:e,carryParentState:p,viewAs:b})},null===e||void 0===e?void 0:e._id):(0,f.jsx)(A,{classMaster:e,viewAs:b,carryParentState:p},null===e||void 0===e?void 0:e._id)})),$&&(0,f.jsx)(j.Z,{})]}),("backlog&fees"===(null===(r=k.search)||void 0===r?void 0:r.substring(3))||"department&n=backlog&fees"===(null===(u=k.search)||void 0===u?void 0:u.substring(3)))&&(0,f.jsx)(U,{did:Z}),("backlog&exam"===(null===(v=k.search)||void 0===v?void 0:v.substring(3))||"department&n=backlog&exam"===(null===(_=k.search)||void 0===_?void 0:_.substring(3)))&&(0,f.jsx)(V,{did:Z,viewAs:b,carryParentState:p})]})};var K=function(e){var t=e.subMaster,n=e.carryParentState,i=e.viewAs;return(0,f.jsx)(f.Fragment,{children:"EXAMINATION_SECTION"===i?(0,f.jsx)(w.Z,{carryParentState:(0,T.Z)((0,T.Z)({},n),{},{subId:null===t||void 0===t?void 0:t._id}),activeTab:"department&n=backlog&student",children:(0,f.jsxs)("div",{className:"".concat(d.standerdItem," ").concat(d.standerdItemm),children:[(0,f.jsx)("img",{className:d.standerdsImg,src:"/images/department/subjectIcon.svg",alt:""}),(0,f.jsxs)("div",{className:d.standerdsright,children:[(0,f.jsx)("h6",{className:d.standerdsh6,children:null===t||void 0===t?void 0:t.subjectName}),(0,f.jsxs)("p",{className:d.standerdsp,children:["Total Student: ",null===t||void 0===t?void 0:t.backlogStudentCount]})]})]})}):(0,f.jsx)(E.Z,{carryParentState:(0,T.Z)((0,T.Z)({},n),{},{subId:null===t||void 0===t?void 0:t._id}),activeTab:"backlog&student",children:(0,f.jsxs)("div",{className:"".concat(d.standerdItem," ").concat(d.standerdItemm),children:[(0,f.jsx)("img",{className:d.standerdsImg,src:"/images/department/subjectIcon.svg",alt:""}),(0,f.jsxs)("div",{className:d.standerdsright,children:[(0,f.jsx)("h6",{className:d.standerdsh6,children:null===t||void 0===t?void 0:t.subjectName}),(0,f.jsxs)("p",{className:d.standerdsp,children:["Total Student: ",null===t||void 0===t?void 0:t.backlogStudentCount]})]})]})})})};var z=function(e){var t,n,a,s=e.carryParentState,l=e.viewAs,c=(0,m.$G)().t,r=(0,i.useState)(!0),u=(0,o.Z)(r,2),v=u[0],_=u[1],Z=(0,i.useState)(1),p=(0,o.Z)(Z,2),b=p[0],S=p[1],N=(0,x.YD)(),k=(0,o.Z)(N,2),y=k[0],I=k[1],T=(0,i.useState)(!0),E=(0,o.Z)(T,2),w=E[0],A=E[1],M=(0,i.useState)([]),O=(0,o.Z)(M,2),D=O[0],L=O[1],P=(0,C.TH)(),R=(0,g.F5)({data:{cmid:null===(t=P.state)||void 0===t?void 0:t.clsId,page:b,limit:10},skip:!(null!==(n=P.state)&&void 0!==n&&n.clsId)}),F=R.backlogSubjectMaster,B=R.backlogSubjectMasterRefetch;return(0,i.useEffect)((function(){I&&v&&S((function(e){return e+1}))}),[I,v]),(0,i.useEffect)((function(){var e;null!==(e=P.state)&&void 0!==e&&e.clsId&&(A(!0),B())}),[b,null===(a=P.state)||void 0===a?void 0:a.clsId,B]),(0,i.useEffect)((function(){var e,t;if(null!==F&&void 0!==F&&F.subjects){var n=[].concat((0,h.Z)(D),(0,h.Z)(null===F||void 0===F?void 0:F.subjects)),i=(0,h.Z)(new Set(n.map(JSON.stringify))).map(JSON.parse);L(i),A(!1)}else 0===(null===F||void 0===F||null===(e=F.subjects)||void 0===e?void 0:e.length)&&A(!1);10===(null===F||void 0===F||null===(t=F.subjects)||void 0===t?void 0:t.length)?_(!0):_(!1)}),[null===F||void 0===F?void 0:F.subjects]),(0,f.jsxs)("div",{className:d.standerds,children:[(0,f.jsx)("h6",{className:d.standerdsheading,children:c("subjects")}),null===D||void 0===D?void 0:D.map((function(e,t){return(null===D||void 0===D?void 0:D.length)===t+1?(0,f.jsx)("div",{ref:y,children:(0,f.jsx)(K,{carryParentState:s,subMaster:e,viewAs:l})},null===e||void 0===e?void 0:e._id):(0,f.jsx)(K,{carryParentState:s,subMaster:e,viewAs:l},null===e||void 0===e?void 0:e._id)})),w&&(0,f.jsx)(j.Z,{})]})},Q=n(93487),ee=["backlog&exam&detail","backlog&exam&detail&seating","backlog&exam&detail&subject","department&n=backlog&exam&detail","department&n=backlog&exam&detail&seating","department&n=backlog&exam&detail&subject"];var te=function(e){var t,n,i,o,d,c,r,u,v,m,_,h,x=e.did,g=e.carryParentState,j=e.instituteId,Z=e.viewAs,p=(0,C.TH)();return(0,f.jsxs)(f.Fragment,{children:[ee.includes(null===p||void 0===p||null===(t=p.search)||void 0===t?void 0:t.substring(3))&&(0,f.jsx)(Q.Z,{carryParentState:g,instituteId:j,viewAs:Z}),!ee.includes(null===p||void 0===p||null===(n=p.search)||void 0===n?void 0:n.substring(3))&&(0,f.jsxs)("div",{className:a,children:[("backlog&standard"===(null===(i=p.search)||void 0===i?void 0:i.substring(3))||"backlog&fees"===(null===(o=p.search)||void 0===o?void 0:o.substring(3))||"backlog&exam"===(null===(d=p.search)||void 0===d?void 0:d.substring(3))||"department&n=backlog&standard"===(null===(c=p.search)||void 0===c?void 0:c.substring(3))||"department&n=backlog&fees"===(null===(r=p.search)||void 0===r?void 0:r.substring(3))||"department&n=backlog&exam"===(null===(u=p.search)||void 0===u?void 0:u.substring(3)))&&(0,f.jsx)("div",{className:s,children:(0,f.jsx)(X,{carryParentState:g,did:x,instituteId:j,viewAs:Z})}),("backlog&subject"===(null===(v=p.search)||void 0===v?void 0:v.substring(3))||"department&n=backlog&subject"===(null===(m=p.search)||void 0===m?void 0:m.substring(3)))&&(0,f.jsx)("div",{className:s,children:(0,f.jsx)(z,{carryParentState:g,viewAs:Z})}),("backlog&student"===(null===(_=p.search)||void 0===_?void 0:_.substring(3))||"department&n=backlog&student"===(null===(h=p.search)||void 0===h?void 0:h.substring(3)))&&(0,f.jsx)("div",{className:"".concat(s," ").concat(l),children:(0,f.jsx)(I,{})})]})]})}},48401:function(e,t,n){n.d(t,{Z:function(){return D}});var i=n(1413),a=n(29439),s=n(72791),l=n(36665),o=n(4942),d=n(97655),c=n(39230),r=n(60163),u=n(98094),v=n(72420),m=n(80184),f=function(e){var t=e.labelText,n=e.customTileLabel,i=e.customTileContainer,a=e.customTileChild,s=e.tileList,l=e.activeTile,o=e.onTile,d=(0,c.$G)().t;return(0,m.jsxs)("div",{className:v.Z.tile_container,children:[t&&(0,m.jsx)("h6",{className:v.Z.tile_label,style:n,children:d(t)}),(0,m.jsx)("section",{className:v.Z.tile_tile_container,style:i,children:null===s||void 0===s?void 0:s.map((function(e){return(0,m.jsx)("div",{className:(null===e||void 0===e?void 0:e.key)===l?v.Z.tile_tile_active:v.Z.tile_tile,onClick:function(){return o(null===e||void 0===e?void 0:e.key)},style:a,children:d(null===e||void 0===e?void 0:e.name)})}))})]})},_=[{name:"yes",key:"YES"},{name:"no",key:"NO"}],h=[{name:"internal",key:"INTERNAL"},{name:"external",key:"EXTERNAL"}],x=function(e){var t=e.onGrabInfo,n=e.examInfo,l=e.openAs,v=(0,c.$G)().t,x=(0,s.useState)({examName:"",examWeight:"",copo_attainment:"NO",copo_attainment_type:"INTERNAL"}),g=(0,a.Z)(x,2),j=g[0],Z=g[1],p=(0,s.useState)(""),b=(0,a.Z)(p,2),S=b[0],N=b[1];(0,s.useEffect)((function(){n&&Z((function(e){return(0,i.Z)((0,i.Z)({},e),n)})),"BACKLOG"===l&&Z((function(e){return(0,i.Z)((0,i.Z)({},e),{},{examType:"Final"})}))}),[n,l]);var k=function(e){"examWeight"===e.target.name?Z((function(t){return(0,i.Z)((0,i.Z)({},t),{},{examWeight:+e.target.value})})):Z((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,o.Z)({},e.target.name,e.target.value))}))};return(0,m.jsxs)("div",{className:r.Z.seating_modal,children:[(0,m.jsxs)("section",{className:r.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,m.jsx)("h6",{children:v("create_exam")}),(0,m.jsx)("button",{className:r.Z.next_btn,title:"Next",onClick:function(){var e=function(e){var t={};for(var n in e)"examWeight"===n||e[n]||(t[n]="".concat(n," is required!"));return t}(j),n=!1;for(var i in e)if(i){n=!0;break}n?N(e):t(j)},children:v("next")})]}),(0,m.jsx)(u.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),(0,m.jsx)(d.Z,{labelText:v("exam_name"),placeholder:v("enter_exam_name"),name:"examName",value:null===j||void 0===j?void 0:j.examName,type:"text",onChange:k,errorShow:S.examName}),(0,m.jsx)(d.Z,{labelText:v("exam_weight"),placeholder:v("enter_exam_weightage"),name:"examWeight",value:null===j||void 0===j?void 0:j.examWeight,type:"number",onChange:k,errorShow:S.examWeight}),(0,m.jsx)(f,{labelText:"copo_attainment",tileList:_,activeTile:j.copo_attainment,onTile:function(e){Z((function(t){return(0,i.Z)((0,i.Z)({},t),{},{copo_attainment:e})}))}}),"YES"===j.copo_attainment&&(0,m.jsx)(f,{labelText:"attainment_type",tileList:h,activeTile:j.copo_attainment_type,onTile:function(e){Z((function(t){return(0,i.Z)((0,i.Z)({},t),{},{copo_attainment_type:e})}))}})]})},g=n(93433),j=n(37762),Z=n(74289),p=n(11105),b=n(34219),S=n(56206),N=function(e){var t=e.onBack,n=e.did,i=e.bid,l=e.onStandardSelect,o=(0,c.$G)().t,d=(0,s.useState)(!0),v=(0,a.Z)(d,2),f=v[0],_=v[1],h=(0,s.useState)([]),x=(0,a.Z)(h,2),g=x[0],j=x[1],N=(0,Z.lj)({data:{did:n,bid:i,page:1,limit:50},skip:!i||!n}),k=N.departmentAllClassMaster,y=N.departmentAllClassMasterRefetch;return(0,s.useEffect)((function(){i&&n&&y()}),[i,n,y]),(0,s.useEffect)((function(){var e,t;null!==k&&void 0!==k&&null!==(e=k.classMaster)&&void 0!==e&&e.length?(j(null===k||void 0===k?void 0:k.classMaster),_(!1)):0===(null===k||void 0===k||null===(t=k.classMaster)||void 0===t?void 0:t.length)&&_(!1)}),[null===k||void 0===k?void 0:k.classMaster]),(0,m.jsxs)("div",{className:r.Z.seating_modal,children:[(0,m.jsxs)("section",{className:r.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,m.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:t,alt:"back"}),(0,m.jsx)("h6",{children:o("select_standard")})]}),(0,m.jsx)(u.Z,{customStyle:{width:"100%",marginTop:"0.5rem",marginBottom:"0.5rem"}}),null===g||void 0===g?void 0:g.map((function(e){return(0,m.jsx)(S.Z,{cls:e,isMaster:!0,onSelect:l},e._id)})),!f&&!(null!==g&&void 0!==g&&g.length)&&(0,m.jsx)(b.Z,{customStyleContainer:{marginTop:"4rem"},title:"No any standard found",subtitle:"Please make sure you have created standard."}),f&&(0,m.jsx)(p.Z,{})]})},k=function(e){var t=e.onBack,n=e.did,i=e.onStandardSelect,l=(0,c.$G)().t,o=(0,s.useState)(!0),d=(0,a.Z)(o,2),v=d[0],f=d[1],_=(0,s.useState)([]),h=(0,a.Z)(_,2),x=h[0],g=h[1],j=(0,Z.cq)({data:{did:n,page:1,limit:50},skip:!n}),N=j.departmentAllClassMasterBacklog,k=j.departmentAllClassMasterBacklogRefetch;return(0,s.useEffect)((function(){n&&k()}),[n,k]),(0,s.useEffect)((function(){var e,t;null!==N&&void 0!==N&&null!==(e=N.classMaster)&&void 0!==e&&e.length?(g(null===N||void 0===N?void 0:N.classMaster),f(!1)):0===(null===N||void 0===N||null===(t=N.classMaster)||void 0===t?void 0:t.length)&&f(!1)}),[null===N||void 0===N?void 0:N.classMaster]),(0,m.jsxs)("div",{className:r.Z.seating_modal,children:[(0,m.jsxs)("section",{className:r.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,m.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:t,alt:"back"}),(0,m.jsx)("h6",{children:l("select_standard")})]}),(0,m.jsx)(u.Z,{customStyle:{width:"100%",marginTop:"0.5rem",marginBottom:"0.5rem"}}),null===x||void 0===x?void 0:x.map((function(e){return(0,m.jsx)(S.Z,{cls:e,isMaster:!0,onSelect:i},e._id)})),!v&&!(null!==x&&void 0!==x&&x.length)&&(0,m.jsx)(b.Z,{customStyleContainer:{marginTop:"4rem"},title:"No any standard found",subtitle:"Please make sure you have created standard."}),v&&(0,m.jsx)(p.Z,{})]})},y=function(e){var t,n,i=e.subject,a=e.onSelect,s=e.isMaster;return(0,m.jsx)(m.Fragment,{children:s?(0,m.jsxs)("div",{className:r.Z.class_container,title:"Select subject",onClick:function(){return a(i)},style:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"1rem"},children:[(0,m.jsx)("img",{src:"/images/book-24-icon.svg",alt:"subject icon"}),(0,m.jsx)("h6",{children:null!==(t=null===i||void 0===i?void 0:i.subjectName)&&void 0!==t?t:""})]}):(0,m.jsx)("div",{className:r.Z.class_container,title:"Select subject",onClick:function(){return a(i)},children:(0,m.jsx)("h6",{children:null!==(n=null===i||void 0===i?void 0:i.subjectName)&&void 0!==n?n:""})})})},C=function(e){var t=e.cmid,n=e.onSubjectSelect,i=e.bid,l=e.onBack,o=(0,c.$G)().t,d=(0,s.useState)(!0),v=(0,a.Z)(d,2),f=v[0],_=v[1],h=(0,s.useState)([]),x=(0,a.Z)(h,2),g=x[0],j=x[1],S=(0,Z.xX)({data:{cmid:t,bid:i,page:1,limit:50},skip:!i||!t}),N=S.departmentAllSubjectMaster,k=S.departmentAllSubjectMasterRefetch;return(0,s.useEffect)((function(){i&&t&&k()}),[i,t,k]),(0,s.useEffect)((function(){var e,t;null!==N&&void 0!==N&&null!==(e=N.classMaster)&&void 0!==e&&e.length?(j(null===N||void 0===N?void 0:N.classMaster),_(!1)):0===(null===N||void 0===N||null===(t=N.classMaster)||void 0===t?void 0:t.length)&&_(!1)}),[null===N||void 0===N?void 0:N.classMaster]),(0,m.jsxs)("div",{className:r.Z.seating_modal,children:[(0,m.jsxs)("section",{className:r.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,m.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:l,alt:"back"}),(0,m.jsx)("h6",{children:o("select_subject")})]}),(0,m.jsx)(u.Z,{customStyle:{width:"100%",marginTop:"0.5rem",marginBottom:"0.5rem"}}),null===g||void 0===g?void 0:g.map((function(e){return(0,m.jsx)(y,{subject:e,isMaster:!0,onSelect:n},e._id)})),!f&&!(null!==g&&void 0!==g&&g.length)&&(0,m.jsx)(b.Z,{customStyleContainer:{marginTop:"9rem"},title:"No any subject found",subtitle:"Please make sure you have created subject master."}),f&&(0,m.jsx)(p.Z,{})]})},I=function(e){var t=e.cmid,n=e.onSubjectSelect,i=(e.bid,e.onBack),l=(0,c.$G)().t,o=(0,s.useState)(!0),d=(0,a.Z)(o,2),v=d[0],f=d[1],_=(0,s.useState)([]),h=(0,a.Z)(_,2),x=h[0],g=h[1],j=(0,Z.qh)({data:{cmid:t,page:1,limit:50},skip:!t}),S=j.departmentAllSubjectMasterBacklog,N=j.departmentAllSubjectMasterBacklogRefetch;return(0,s.useEffect)((function(){t&&N()}),[t,N]),(0,s.useEffect)((function(){var e,t;null!==S&&void 0!==S&&null!==(e=S.classMaster)&&void 0!==e&&e.length?(g(null===S||void 0===S?void 0:S.classMaster),f(!1)):0===(null===S||void 0===S||null===(t=S.classMaster)||void 0===t?void 0:t.length)&&f(!1)}),[null===S||void 0===S?void 0:S.classMaster]),(0,m.jsxs)("div",{className:r.Z.seating_modal,children:[(0,m.jsxs)("section",{className:r.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,m.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:i,alt:"back"}),(0,m.jsx)("h6",{children:l("select_subject")})]}),(0,m.jsx)(u.Z,{customStyle:{width:"100%",marginTop:"0.5rem",marginBottom:"0.5rem"}}),null===x||void 0===x?void 0:x.map((function(e){return(0,m.jsx)(y,{subject:e,isMaster:!0,onSelect:n},e._id)})),!v&&!(null!==x&&void 0!==x&&x.length)&&(0,m.jsx)(b.Z,{customStyleContainer:{marginTop:"9rem"},title:"No any subject found",subtitle:"Please make sure you have created subject master."}),v&&(0,m.jsx)(p.Z,{})]})},T=n(67923),E=n(59965),w=function(e){var t=e.onBack,n=e.clsName,l=e.subjectName,v=e.onGrabSubjectInfo,f=(0,c.$G)().t,_=(0,s.useState)({totalMarks:"",date:"",startTime:"",endTime:""}),h=(0,a.Z)(_,2),x=h[0],g=h[1],j=(0,s.useState)(""),Z=(0,a.Z)(j,2),p=Z[0],b=Z[1],S=function(e){g((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,o.Z)({},e.target.name,e.target.value))}))};return(0,m.jsxs)("div",{className:r.Z.seating_modal,children:[(0,m.jsxs)("section",{className:r.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,m.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:t,alt:"back"}),(0,m.jsx)("h6",{children:f("subject_details")}),(0,m.jsx)("button",{className:r.Z.next_btn,title:"Next",onClick:function(){var e=function(e){var t={};for(var n in e)e[n]||(t[n]="".concat(n," is required!"));return t}(x),t=!1;for(var n in e)if(n){t=!0;break}t?b(e):v(x)},children:f("next")})]}),(0,m.jsx)(u.Z,{customStyle:{width:"100%",marginTop:"0.5rem",marginBottom:"0.5rem"}}),(0,m.jsx)(T.Z,{labelText:f("standard"),value:n}),(0,m.jsx)(T.Z,{labelText:f("subject_exam"),value:l}),(0,m.jsx)(d.Z,{labelText:f("marks"),placeholder:f("enter_the_marks"),name:"totalMarks",value:null===x||void 0===x?void 0:x.totalMarks,type:"number",onChange:function(e){g((function(t){return(0,i.Z)((0,i.Z)({},t),{},{totalMarks:+e.target.value})}))},errorShow:p.totalMarks}),(0,m.jsx)(E.Z,{labelText:f("date"),placeholder:f("date"),name:"date",value:x.date,onDateFunction:function(e){g((function(t){return(0,i.Z)((0,i.Z)({},t),{},{date:e})}))},customStyleContainer:{position:"relative",width:"100%"},datePickerPosition:{top:"-5rem",left:"2rem"},errorShow:p.date}),(0,m.jsx)(d.Z,{labelText:f("start_time"),name:"startTime",value:null===x||void 0===x?void 0:x.startTime,type:"time",onChange:S,errorShow:p.startTime}),(0,m.jsx)(d.Z,{labelText:f("end_time"),name:"endTime",value:null===x||void 0===x?void 0:x.endTime,type:"time",onChange:S,errorShow:p.endTime})]})},A=n(40366),M=n(98734),O=function(e){var t=e.onClose,n=e.bid,o=e.did,d=e.createExam,v=e.onResetAfterCreate,f=e.openAs,_=(0,c.$G)().t,h=(0,s.useState)(""),x=(0,a.Z)(h,2),p=x[0],b=x[1],S=(0,s.useState)([]),y=(0,a.Z)(S,2),T=y[0],E=y[1],O=(0,s.useState)([]),D=(0,a.Z)(O,2),L=D[0],P=D[1],R=(0,s.useState)([]),F=(0,a.Z)(R,2),B=F[0],G=F[1],H=(0,s.useState)(""),W=(0,a.Z)(H,2),U=W[0],J=W[1],$=(0,s.useState)(""),q=(0,a.Z)($,2),Y=q[0],V=q[1],X=(0,s.useState)(!1),K=(0,a.Z)(X,2),z=K[0],Q=K[1],ee=(0,Z.ST)(),te=(0,a.Z)(ee,1)[0],ne=(0,Z.vr)(),ie=(0,a.Z)(ne,1)[0],ae=(0,s.useState)(null),se=(0,a.Z)(ae,2),le=se[0],oe=se[1],de=function(e){b(e)},ce=function(e){J(e),de("SHOW_SUBJECT")},re=function(e){V(e),de("SHOW_SUBJECT_INFO")};return(0,m.jsxs)(l.Z,{onClose:function(){""===p?t():"SHOW_STANDARD"===p?de(""):"SHOW_SUBJECT"===p?de("SHOW_STANDARD"):"SHOW_SUBJECT_INFO"===p&&de("SHOW_SUBJECT")},children:[!p&&(0,m.jsxs)("div",{className:r.Z.seating_modal,children:[(0,m.jsxs)("section",{className:r.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,m.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:t,alt:""}),(0,m.jsx)("h6",{children:_("create_exam")}),(0,m.jsx)("button",{className:r.Z.next_btn,title:"Save exam",onClick:function(){null!==T&&void 0!==T&&T.length&&null!==L&&void 0!==L&&L.length&&(Q((function(e){return!e})),"BACKLOG"===f?ie({did:o,exam:(0,i.Z)((0,i.Z)({},d),{},{allclasses:T,allsubject:L})}).then((function(){v(),Q((function(e){return!e}))})).catch((function(){Q((function(e){return!e}))})):te({bid:n,exam:(0,i.Z)((0,i.Z)({},d),{},{allclasses:T,allsubject:L})}).then((function(){v(),Q((function(e){return!e}))})).catch((function(){Q((function(e){return!e}))})))},children:_("save")})]}),(0,m.jsx)(u.Z,{customStyle:{width:"100%",marginTop:"0.5rem",marginBottom:"0.5rem"}}),(0,m.jsx)("div",{className:r.Z.add_container,children:(0,m.jsx)("p",{className:r.Z.add_aubject,onClick:function(){return de("SHOW_STANDARD")},children:_("add_subject")})}),null===B||void 0===B?void 0:B.map((function(e,t){return(0,m.jsx)(A.Z,{subject:e,classMaster:null===e||void 0===e?void 0:e.classMaster},t)})),z&&(0,m.jsx)(M.Z,{})]}),"SHOW_STANDARD"===p&&("BACKLOG"===f?(0,m.jsx)(k,{onBack:function(){return de("")},did:o,onStandardSelect:ce}):(0,m.jsx)(N,{onBack:function(){return de("")},did:o,bid:n,onStandardSelect:ce})),"SHOW_SUBJECT"===p&&("BACKLOG"===f?(0,m.jsx)(I,{onBack:function(){return de("SHOW_STANDARD")},cmid:null===U||void 0===U?void 0:U._id,onSubjectSelect:re}):(0,m.jsx)(C,{onBack:function(){return de("SHOW_STANDARD")},cmid:null===U||void 0===U?void 0:U._id,bid:n,onSubjectSelect:re})),"SHOW_SUBJECT_INFO"===p&&(0,m.jsx)(w,{onBack:function(){return de("SHOW_SUBJECT")},clsName:null===U||void 0===U?void 0:U.className,subjectName:null===Y||void 0===Y?void 0:Y.subjectName,onGrabSubjectInfo:function(e){var t="",n="";if(e.startTime>="12:00")if("12:00"===e.startTime){var i=+e.startTime.slice(0,2);t=i>9?"".concat(i,":").concat(e.startTime.slice(3)," Pm"):"0".concat(i,":").concat(e.startTime.slice(3)," Pm")}else{var a=+e.startTime.slice(0,2)-12;t=a>9?"".concat(a,":").concat(e.startTime.slice(3)," Pm"):"0".concat(a,":").concat(e.startTime.slice(3)," Pm")}else t="".concat(e.startTime," Am");if(e.endTime>="12:00")if("12:00"===e.endTime){var s=+e.endTime.slice(0,2);n=s>9?"".concat(s,":").concat(e.endTime.slice(3)," Pm"):"0".concat(s,":").concat(e.endTime.slice(3)," Pm")}else{var l=+e.endTime.slice(0,2)-12;n=l>9?"".concat(l,":").concat(e.endTime.slice(3)," Pm"):"0".concat(l,":").concat(e.endTime.slice(3)," Pm")}else n="".concat(e.endTime," Am");var o,c=[],r=(0,j.Z)(null===U||void 0===U?void 0:U.classDivision);try{for(r.s();!(o=r.n()).done;){var u=o.value;c.push(null===u||void 0===u?void 0:u._id)}}catch(v){r.e(v)}finally{r.f()}"YES"===d.copo_attainment?(de("SHOW_SUBJECT_CO"),oe({selectedSubject:{subjectIds:Y.ids,subjectName:null===Y||void 0===Y?void 0:Y.subjectName,totalMarks:null===e||void 0===e?void 0:e.totalMarks,date:null===e||void 0===e?void 0:e.date,startTime:t,endTime:n,_id:null===Y||void 0===Y?void 0:Y._id},newArray:c,showSubject:{subjectIds:Y.ids,subjectName:null===Y||void 0===Y?void 0:Y.subjectName,totalMarks:null===e||void 0===e?void 0:e.totalMarks,date:null===e||void 0===e?void 0:e.date,startTime:t,endTime:n,_id:null===Y||void 0===Y?void 0:Y._id,classMaster:null===U||void 0===U?void 0:U.className}})):(P((function(i){return[].concat((0,g.Z)(i),[{subjectIds:Y.ids,subjectName:null===Y||void 0===Y?void 0:Y.subjectName,totalMarks:null===e||void 0===e?void 0:e.totalMarks,date:null===e||void 0===e?void 0:e.date,startTime:t,endTime:n,_id:null===Y||void 0===Y?void 0:Y._id}])})),E((function(e){return(0,g.Z)(new Set([].concat((0,g.Z)(e),c).map(JSON.stringify))).map(JSON.parse)})),G((function(i){return[].concat((0,g.Z)(i),[{subjectIds:Y.ids,subjectName:null===Y||void 0===Y?void 0:Y.subjectName,totalMarks:null===e||void 0===e?void 0:e.totalMarks,date:null===e||void 0===e?void 0:e.date,startTime:t,endTime:n,_id:null===Y||void 0===Y?void 0:Y._id,classMaster:null===U||void 0===U?void 0:U.className}])})),V(""),J(""),de(""))}}),"SHOW_SUBJECT_CO"===p&&(0,m.jsx)(w,{onBack:function(){return de("SHOW_SUBJECT_INFO")},subjectName:null===Y||void 0===Y?void 0:Y.subjectName,onGrabAttainment:function(e){P((function(e){return[].concat((0,g.Z)(e),[null===le||void 0===le?void 0:le.selectedSubject])})),E((function(e){return(0,g.Z)(new Set([].concat((0,g.Z)(e),(0,g.Z)(null===le||void 0===le?void 0:le.newArray)).map(JSON.stringify))).map(JSON.parse)})),G((function(e){return[].concat((0,g.Z)(e),[null===le||void 0===le?void 0:le.showSubject])})),V(""),J(""),de(""),oe(null)},smid:null===Y||void 0===Y?void 0:Y._id})]})},D=function(e){var t=e.onClose,n=e.bid,o=e.did,d=e.onRefetch,c=e.openAs,r=(0,s.useState)("EXAM_INFO"),u=(0,a.Z)(r,2),v=u[0],f=u[1],_=(0,s.useState)({examName:"",examWeight:"",copo_attainment:"NO",copo_attainment_type:"INTERNAL"}),h=(0,a.Z)(_,2),g=h[0],j=h[1];return(0,m.jsxs)(m.Fragment,{children:["EXAM_INFO"===v&&(0,m.jsx)(l.Z,{onClose:function(){"EXAM_INFO"===v?t():"SCHEDULE_SUBJECT"===v&&f("EXAM_INFO")},children:(0,m.jsx)(x,{onClose:t,onGrabInfo:function(e){j((function(t){return(0,i.Z)((0,i.Z)({},t),e)})),f("SCHEDULE_SUBJECT")},examInfo:g,openAs:c})}),"SCHEDULE_SUBJECT"===v&&(0,m.jsx)(O,{onClose:function(){return f("EXAM_INFO")},did:o,bid:n,createExam:g,onResetAfterCreate:function(){d(),t(),j({examName:"",examWeight:0}),f("EXAM_INFO")},openAs:c})]})}},93487:function(e,t,n){n.d(t,{Z:function(){return Y}});var i=n(1413),a=n(29439),s=n(72791),l=n(39230),o=n(16871),d=n(74289),c=n(67923),r=n(8148),u=n(93433),v=n(98094),m=n(4942),f=n(46876),_=n(91022),h=n(97655),x=n(69721),g=n(36665),j=n(60163),Z=n(69113),p=n(80184),b=function(e){var t=e.onClose,n=e.currentSubject,o=e.onAddSubjectSeating,d=(0,l.$G)().t,c=(0,s.useState)(""),r=(0,a.Z)(c,2),u=r[0],f=r[1],_=(0,s.useState)(0),x=(0,a.Z)(_,2),b=x[0],S=x[1],N=(0,s.useState)({from:"",to:""}),k=(0,a.Z)(N,2),y=k[0],C=k[1],I=function(e){C((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,m.Z)({},e.target.name,+e.target.value))}))};(0,s.useEffect)((function(){y.from&&y.to&&S(+y.to+1-+y.from)}),[y]);return(0,p.jsx)(g.Z,{onClose:t,children:(0,p.jsxs)("div",{className:j.Z.seating_modal,children:[(0,p.jsxs)("section",{className:j.Z.seating_modal_title_left,children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:t,alt:""}),(0,p.jsx)("h6",{children:d("select_exam")})]}),(0,p.jsx)(v.Z,{customStyle:{width:"100%",marginBottom:"1rem"}}),(0,p.jsx)(Z.Z,{examDetail:n,viewAs:"ADD_SEATING",studentCount:b}),(0,p.jsx)(h.Z,{labelText:d("student_from"),placeholder:d("student_from_placeholder"),name:"from",type:"number",errorShow:u.from,onChange:I,value:y.from}),(0,p.jsx)(h.Z,{labelText:d("student_to"),placeholder:d("student_to_placeholder"),name:"to",type:"number",errorShow:u.to,onChange:I,value:y.to}),u.greater_value&&(0,p.jsx)("span",{style:{color:"red",marginLeft:"15px"},children:"* Form field is less than To field"}),(0,p.jsx)("button",{className:j.Z.select_exam_btn,title:"Add",style:{justifyContent:"center"},onClick:function(){var e,t,a,s,l,d,c,r,u,v,m,_,h,x,g,j,Z=function(e){var t={};for(var n in e)e[n]||(t[n]="".concat(n," is required!"));return e.from<e.to||(t.greater_value="form is less than to"),t}(y),p=!1;for(var b in Z)if(b){p=!0;break}p?f(Z):o((0,i.Z)((0,i.Z)({},y),{},{subjectId:null===n||void 0===n||null===(e=n.currentSubject)||void 0===e||null===(t=e.subject)||void 0===t?void 0:t.subjectId,subjectName:null===n||void 0===n||null===(a=n.currentSubject)||void 0===a||null===(s=a.subject)||void 0===s?void 0:s.subjectName,totalMarks:null===n||void 0===n||null===(l=n.currentSubject)||void 0===l||null===(d=l.subject)||void 0===d?void 0:d.totalMarks,date:null===n||void 0===n||null===(c=n.currentSubject)||void 0===c||null===(r=c.subject)||void 0===r?void 0:r.date,startTime:null===n||void 0===n||null===(u=n.currentSubject)||void 0===u||null===(v=u.subject)||void 0===v?void 0:v.startTime,endTime:null===n||void 0===n||null===(m=n.currentSubject)||void 0===m||null===(_=m.subject)||void 0===_?void 0:_.endTime,duration:"",subjectMasterId:null===n||void 0===n||null===(h=n.currentSubject)||void 0===h||null===(x=h.subject)||void 0===x?void 0:x.subjectMasterId,paperId:null===n||void 0===n||null===(g=n.currentSubject)||void 0===g||null===(j=g.subject)||void 0===j?void 0:j._id}))},children:d("add")})]})})},S=n(40366),N=function(e){var t,n,i,c=e.onClose,r=e.onCurrentSubject,u=(0,l.$G)().t,m=s.useState([]),f=(0,a.Z)(m,2),_=f[0],h=f[1],x=(0,s.useState)(""),Z=(0,a.Z)(x,2),b=Z[0],N=Z[1],k=s.useState(!0),y=(0,a.Z)(k,2),C=(y[0],y[1]),I=(0,o.TH)(),T=(0,d.il)({eid:null===(t=I.state)||void 0===t?void 0:t.examId,skip:!(null!==(n=I.state)&&void 0!==n&&n.examId)}),E=T.departmentExamDetail,w=T.departmentExamDetailRefetch;(0,s.useEffect)((function(){var e;null!==(e=I.state)&&void 0!==e&&e.examId&&w()}),[null===(i=I.state)||void 0===i?void 0:i.examId]),(0,s.useEffect)((function(){var e,t;null!==E&&void 0!==E&&E.oneExamDetail?(h(null!==(t=null===E||void 0===E?void 0:E.oneExamDetail)&&void 0!==t?t:[]),C(!1)):0===(null===E||void 0===E||null===(e=E.oneExamDetail)||void 0===e?void 0:e.length)&&C(!1)}),[null===E||void 0===E?void 0:E.oneExamDetail]);return(0,p.jsx)(g.Z,{onClose:c,children:(0,p.jsxs)("div",{className:j.Z.seating_modal,children:[(0,p.jsxs)("section",{className:j.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:c,alt:""}),(0,p.jsx)("h6",{children:u("select_scheduled_exam")})]}),(0,p.jsx)(v.Z,{customStyle:{width:"100%",marginBottom:"1rem"}}),(0,p.jsx)("div",{className:j.Z.search_container,style:{marginBottom:"0.5rem"},children:(0,p.jsxs)("div",{className:j.Z.search_container_input,style:{width:"100%"},children:[(0,p.jsx)("img",{className:j.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,p.jsx)("input",{type:"text",placeholder:u("search-label"),style:{width:"100%"},onChange:function(e){N(e.target.value)}})]})}),null===_||void 0===_?void 0:_.map((function(e){var t;return null===e||void 0===e||null===(t=e.subject)||void 0===t?void 0:t.map((function(t){var n,i;return b?null!==t&&void 0!==t&&null!==(n=t.subjectName)&&void 0!==n&&null!==(i=n.toLowerCase())&&void 0!==i&&i.includes(null===b||void 0===b?void 0:b.toLowerCase())?(0,p.jsx)(S.Z,{classMaster:null===e||void 0===e?void 0:e.className,subject:t,customCardStyle:{width:"100%%",cursor:"pointer"},viewAs:"SEATING",onCurrentSubject:r},null===t||void 0===t?void 0:t._id):"":(0,p.jsx)(S.Z,{classMaster:null===e||void 0===e?void 0:e.className,subject:t,customCardStyle:{width:"100%%",cursor:"pointer"},viewAs:"SEATING",onCurrentSubject:r},null===t||void 0===t?void 0:t._id)}))}))]})})},k=n(23441),y=n(763),C=n(56206),I=n(11105),T=function(e){var t=e.onClose,n=e.examId,i=e.onSelect,o=(0,l.$G)().t,c=(0,k.YD)(),r=(0,a.Z)(c,2),m=r[0],f=r[1],_=(0,s.useState)(1),h=(0,a.Z)(_,2),x=h[0],Z=h[1],b=(0,s.useState)(!0),S=(0,a.Z)(b,2),N=S[0],T=S[1],E=(0,s.useState)(!0),w=(0,a.Z)(E,2),A=w[0],M=w[1],O=(0,s.useState)([]),D=(0,a.Z)(O,2),L=D[0],P=D[1],R=(0,s.useState)(""),F=(0,a.Z)(R,2),B=F[0],G=F[1],H=(0,d.hw)({data:{eid:n,page:x,limit:10,search:B},skip:!n}),W=H.getClassListExam,U=H.getClassListExamRefetch;(0,s.useEffect)((function(){n&&(M(!0),U())}),[n,x,B,U]),(0,s.useEffect)((function(){f&&N&&Z((function(e){return e+1}))}),[f,N]),(0,s.useEffect)((function(){var e,t;B?(P(null===W||void 0===W?void 0:W.all_classes),M(!1)):null!==W&&void 0!==W&&W.all_classes?(P((function(e){var t,n;return null===(t=(0,u.Z)(new Set(null===(n=[].concat((0,u.Z)(e),(0,u.Z)(null===W||void 0===W?void 0:W.all_classes)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),M(!1)):0===(null===W||void 0===W||null===(t=W.all_classes)||void 0===t?void 0:t.length)&&M(!1);10===(null===W||void 0===W||null===(e=W.all_classes)||void 0===e?void 0:e.length)?T(!0):T(!1)}),[null===W||void 0===W?void 0:W.all_classes]);var J=(0,s.useCallback)((0,y.debounce)((function(e){return G(e)}),500),[]);return(0,p.jsx)(g.Z,{onClose:t,children:(0,p.jsxs)("div",{className:j.Z.seating_modal,children:[(0,p.jsxs)("section",{className:j.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:t,alt:""}),(0,p.jsx)("h6",{children:o("select_class")})]}),(0,p.jsx)(v.Z,{customStyle:{width:"100%",marginBottom:"1rem"}}),(0,p.jsx)("div",{className:j.Z.search_container,style:{marginBottom:"0.5rem"},children:(0,p.jsxs)("div",{className:j.Z.search_container_input,style:{width:"100%"},children:[(0,p.jsx)("img",{className:j.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,p.jsx)("input",{type:"text",placeholder:o("search-label"),style:{width:"100%"},onChange:function(e){J(e.target.value)}})]})}),null===L||void 0===L?void 0:L.map((function(e,t){return(null===L||void 0===L?void 0:L.length)===t+1?(0,p.jsx)("div",{ref:m,children:(0,p.jsx)(C.Z,{cls:e,onSelect:i})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(C.Z,{cls:e,onSelect:i},null===e||void 0===e?void 0:e._id)})),A&&(0,p.jsx)(I.Z,{})]})})},E=n(98734),w=function(e){var t,n,o,c,r,S,k,y,C,I,w,A,M,O,D,L=e.onClose,P=e.instituteId,R=e.examId,F=e.examName,B=e.onRefetch,G=e.said,H=e.onEdit,W=e.openAs,U=e.viewAs,J=(0,l.$G)().t,$=(0,s.useState)(""),q=(0,a.Z)($,2),Y=q[0],V=q[1],X=(0,s.useState)(""),K=(0,a.Z)(X,2),z=K[0],Q=K[1],ee=(0,s.useState)(""),te=(0,a.Z)(ee,2),ne=te[0],ie=te[1],ae=(0,s.useState)(""),se=(0,a.Z)(ae,2),le=se[0],oe=se[1],de=(0,s.useState)({seat_block_name:"EDIT"===W?null===G||void 0===G?void 0:G.seat_block_name:"",seat_block_class:"EDIT"===W?null===G||void 0===G||null===(t=G.seat_block_class)||void 0===t?void 0:t._id:"",seat_valid_staff:"EDIT"===W?null===G||void 0===G?void 0:G.seat_valid_staff:"",seat_block_staff:"EDIT"===W?null===G||void 0===G||null===(n=G.seat_block_staff)||void 0===n?void 0:n._id:"",seat_valid_staff_name:"EDIT"===W?null===G||void 0===G?void 0:G.seat_valid_staff_name:"",papers:"EDIT"===W?null===G||void 0===G?void 0:G.seat_exam_paper_array:[]}),ce=(0,a.Z)(de,2),re=ce[0],ue=ce[1],ve=(0,s.useState)([]),me=(0,a.Z)(ve,2),fe=me[0],_e=me[1],he=(0,s.useState)(""),xe=(0,a.Z)(he,2),ge=xe[0],je=xe[1],Ze=(0,s.useState)(!1),pe=(0,a.Z)(Ze,2),be=pe[0],Se=pe[1],Ne=(0,d.ig)(),ke=(0,a.Z)(Ne,1)[0],ye=(0,d.y6)(),Ce=(0,a.Z)(ye,1)[0];(0,s.useEffect)((function(){var e,t;"EDIT"===W&&(ue({seat_block_name:"EDIT"===W?null===G||void 0===G?void 0:G.seat_block_name:"",seat_block_class:"EDIT"===W?null===G||void 0===G||null===(e=G.seat_block_class)||void 0===e?void 0:e._id:"",seat_valid_staff:"EDIT"===W?null===G||void 0===G?void 0:G.seat_valid_staff:"",seat_block_staff:"EDIT"===W?null===G||void 0===G||null===(t=G.seat_block_staff)||void 0===t?void 0:t._id:"",seat_valid_staff_name:"EDIT"===W?null===G||void 0===G?void 0:G.seat_valid_staff_name:"",papers:null===G||void 0===G?void 0:G.seat_exam_paper_array}),V(null===G||void 0===G?void 0:G.seat_block_staff),Q(null===G||void 0===G?void 0:G.seat_block_class))}),[W]);var Ie=function(e){"EDIT"===W&&"SCHEDULE_EXAM_OPEN"!==e&&"SCHEDULE_OPEN"!==e||oe(e)},Te=function(){oe("")},Ee=function(e){ue((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,m.Z)({},e.target.name,e.target.value))}))};return(0,p.jsxs)(p.Fragment,{children:[""===le&&(0,p.jsxs)(g.Z,{onClose:L,children:[(0,p.jsxs)("div",{className:j.Z.seating_modal,children:[(0,p.jsxs)("section",{className:j.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:L,alt:""}),(0,p.jsx)("h6",{children:J("add_block_for_seating_arrragements")}),(0,p.jsx)("button",{className:j.Z.select_select_btn,title:"Add seating arrangements",onClick:function(){var e=function(e){var t={};for(var n in e)if("seat_block_staff"===n)"Staff"===e.seat_valid_staff&&(e[n]||(t.seat_block_staff="seat_block_staff is required!"));else if("seat_valid_staff_name"===n)"External"===e.seat_valid_staff&&(e[n]||(t.seat_valid_staff_name="seat_valid_staff_name is required!"));else if("papers"===n){var i;null!==(i=e[n])&&void 0!==i&&i.length||(t.papers="papers is required!")}else e[n]||(t[n]="".concat(n," is required!"));return t}(re),t=!1;for(var n in e)if(n){t=!0;break}t?ie(e):"EDIT"===W?H(re,fe):(Se((function(e){return!e})),"BACKLOG"===U?Ce({eid:R,addSeating:re}).then((function(){B(),L(),Se((function(e){return!e}))})).catch({}):ke({eid:R,addSeating:re}).then((function(){B(),L(),Se((function(e){return!e}))})).catch({}))},children:J("EDIT"===W?"update":"Add")})]}),(0,p.jsx)(v.Z,{customStyle:{width:"100%"}}),(0,p.jsx)(h.Z,{labelText:J("block_hall_name"),placeholder:J("block_hall_name_placeholder"),name:"seat_block_name",value:null===re||void 0===re?void 0:re.seat_block_name,type:"text",onChange:Ee,errorShow:ne.seat_block_name}),(0,p.jsxs)("div",{className:j.Z.person_container,onClick:function(){return Ie("CLASS_OPEN")},children:[(0,p.jsx)("img",{src:null!==z&&void 0!==z&&null!==(o=z.classTeacher)&&void 0!==o&&o.staffProfilePhoto?"".concat(x.yI,"/").concat(null===z||void 0===z?void 0:z.classTeacher.staffProfilePhoto):"/images/user-icon.svg",alt:"avatar"}),(0,p.jsxs)("div",{className:j.Z.person_container_text,children:[(0,p.jsx)("h6",{children:z?"".concat(null!==(c=null===z||void 0===z?void 0:z.className)&&void 0!==c?c:""," - ").concat(null!==(r=null===z||void 0===z?void 0:z.classTitle)&&void 0!==r?r:""):J("select_original_class_of_block")}),(0,p.jsxs)("p",{children:[null!==z&&void 0!==z&&z.classTeacher?"".concat(null!==(S=null===z||void 0===z||null===(k=z.classTeacher)||void 0===k?void 0:k.staffFirstName)&&void 0!==S?S:""," ").concat(null!==(y=null===z||void 0===z||null===(C=z.classTeacher)||void 0===C?void 0:C.staffMiddleName)&&void 0!==y?y:""," ").concat(null!==(I=null===z||void 0===z||null===(w=z.classTeacher)||void 0===w?void 0:w.staffLastName)&&void 0!==I?I:""):J("select_from_list"),ne.seat_block_class&&(0,p.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",J("form_require_label")]})]})]})]}),(0,p.jsx)(_.Z,{selectLabel:J("is_supervisor_external_or_staff"),selectedValue:J("select_supervisor_type"),options:["External","Staff"],onClick:function(e){ue((function(t){return(0,i.Z)((0,i.Z)({},t),{},{seat_valid_staff:e})}))},errorShow:ne.seat_valid_staff,value:re.seat_valid_staff,openAs:"EDIT"===W?"REFUND":""}),"Staff"===re.seat_valid_staff?(0,p.jsxs)("div",{className:j.Z.person_container,onClick:function(){return Ie("SUPERVISOR_OPEN")},children:[(0,p.jsx)("img",{src:null!==Y&&void 0!==Y&&Y.staffProfilePhoto?"".concat(x.yI,"/").concat(Y.staffProfilePhoto):"/images/user-icon.svg",alt:"avatar"}),(0,p.jsxs)("div",{className:j.Z.person_container_text,children:[(0,p.jsx)("h6",{children:Y?"".concat(null!==(A=null===Y||void 0===Y?void 0:Y.staffFirstName)&&void 0!==A?A:""," ").concat(null!==(M=null===Y||void 0===Y?void 0:Y.staffMiddleName)&&void 0!==M?M:""," ").concat(null!==(O=null===Y||void 0===Y?void 0:Y.staffLastName)&&void 0!==O?O:""):J("assign_supervisor")}),(0,p.jsxs)("p",{children:[J("select_from_list")," ",ne.seat_block_staff&&(0,p.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",J("form_require_label")]})]})]})]}):(0,p.jsx)(h.Z,{labelText:J("external_supervisor"),placeholder:J("external_supervisor_placeholder"),name:"seat_valid_staff_name",value:null===re||void 0===re?void 0:re.seat_valid_staff_name,type:"text",onChange:Ee,errorShow:ne.seat_valid_staff_name}),(0,p.jsxs)("button",{className:j.Z.select_schedule_exam_btn,title:"Schedule Exam",onClick:function(){return Ie("SCHEDULE_EXAM_OPEN")},children:[(0,p.jsx)("div",{children:J("select_schedule_exam")}),(0,p.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),ne.papers&&(0,p.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* atleast one sechedule exam ",J("form_require_label")]}),null===(D=re.papers)||void 0===D?void 0:D.map((function(e){return(0,p.jsx)(Z.Z,{examDetail:(0,i.Z)((0,i.Z)({},e),{},{examName:F,selectClass:"".concat(null===z||void 0===z?void 0:z.className,", ").concat(null===z||void 0===z?void 0:z.classTitle)}),viewAs:"VIEW_SEATING"})})),null===fe||void 0===fe?void 0:fe.map((function(e){return(0,p.jsx)(Z.Z,{examDetail:(0,i.Z)((0,i.Z)({},e),{},{examName:F,selectClass:"".concat(null===z||void 0===z?void 0:z.className,", ").concat(null===z||void 0===z?void 0:z.classTitle)}),viewAs:"VIEW_SEATING"})}))]}),be&&(0,p.jsx)(E.Z,{})]}),"CLASS_OPEN"===le&&(0,p.jsx)(T,{examId:R,onClose:Te,onSelect:function(e){ue((function(t){return(0,i.Z)((0,i.Z)({},t),{},{seat_block_class:null===e||void 0===e?void 0:e._id})})),Q(e),Te()}}),"SCHEDULE_EXAM_OPEN"===le&&(0,p.jsx)(N,{onClose:Te,onCurrentSubject:function(e){je(e),oe("SCHEDULE_OPEN")}}),"SCHEDULE_OPEN"===le&&(0,p.jsx)(b,{onClose:Te,currentSubject:{currentSubject:ge,selectClass:null===z||void 0===z?void 0:z.classTitle,examName:F},onAddSubjectSeating:function(e){"EDIT"===W?(_e((function(t){return[].concat((0,u.Z)(t),[e])})),Te()):(ue((function(t){return(0,i.Z)((0,i.Z)({},t),{},{papers:[].concat((0,u.Z)(t.papers),[e])})})),Te())}}),"SUPERVISOR_OPEN"===le&&(0,p.jsx)(f.default,{assignHead:"SUPERVISOR_OPEN"===le,headSelect:function(e){V(e),Te(),ue((function(t){return(0,i.Z)((0,i.Z)({},t),{},{seat_block_staff:null===e||void 0===e?void 0:e._id})}))},title:J("assign_supervisor"),onClose:Te,instituteId:P,viewAs:"ADMISSION_ADMIN"})]})},A=n(84489),M=n(12072),O=n(87049),D=function(e){var t=e.onClose,n=e.onRefetch,i=e.examId,l=e.said,o=(0,s.useState)(!1),c=(0,a.Z)(o,2),r=c[0],u=c[1],v=(0,s.useState)(!1),m=(0,a.Z)(v,2),f=m[0],_=m[1],h=(0,d.YE)(),x=(0,a.Z)(h,1)[0],g=(0,d.mX)(),j=(0,a.Z)(g,1)[0];return(0,p.jsx)(p.Fragment,{children:f?(0,p.jsx)(w,{said:l,onEdit:function(e,a){_(!1),u((function(e){return!e})),j({eid:i,said:null===l||void 0===l?void 0:l._id,updateSeating:{seat_block_name:null===e||void 0===e?void 0:e.seat_block_name,seat_block_class:null===e||void 0===e?void 0:e.seat_block_class,seat_valid_staff:null===e||void 0===e?void 0:e.seat_valid_staff,seat_block_staff:null===e||void 0===e?void 0:e.seat_block_staff,seat_valid_staff_name:null===e||void 0===e?void 0:e.seat_valid_staff_name,papers:a}}).then((function(){n(),u((function(e){return!e})),t()})).catch({})},openAs:"EDIT",onClose:function(){return _(!1)}}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(A.Z,{onClose:t}),(0,p.jsxs)(M.Z,{customStyle:{zIndex:"1200"},children:[(0,p.jsxs)("div",{className:O.Z.edit_modal_container,style:{width:"200px"},children:[(0,p.jsx)("h6",{className:O.Z.edit,onClick:function(){return _((function(e){return!e}))},children:"Edit"}),(0,p.jsx)("h6",{className:O.Z.remove,onClick:function(){u((function(e){return!e})),x({eid:i,said:null===l||void 0===l?void 0:l._id}).then((function(){n(),t(),u((function(e){return!e}))})).catch({})},children:"Delete"})]}),r&&(0,p.jsx)(E.Z,{})]})]})})},L=function(e){var t,n,o,d,c,r,u,v,m,f,_=e.seating,h=e.examName,x=e.examId,g=e.onRefetch,b=(0,l.$G)().t,S=(0,s.useState)(""),N=(0,a.Z)(S,2),k=N[0],y=N[1];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:j.Z.seating_block_container,onClick:function(){return y(_)},children:[(0,p.jsxs)("div",{className:j.Z.seating_block_container_top,children:[(0,p.jsx)("h6",{children:null!==(t=null===_||void 0===_?void 0:_.seat_block_name)&&void 0!==t?t:""}),(0,p.jsx)("p",{children:"".concat(null===_||void 0===_||null===(n=_.seat_block_class)||void 0===n?void 0:n.className," - ").concat(null===_||void 0===_||null===(o=_.seat_block_class)||void 0===o?void 0:o.classTitle)}),(0,p.jsxs)("p",{children:[b("supervisor"),":"," ",null!==_&&void 0!==_&&_.seat_valid_staff_name?null===_||void 0===_?void 0:_.seat_valid_staff_name:"".concat(null!==(d=null===_||void 0===_||null===(c=_.seat_block_staff)||void 0===c?void 0:c.staffFirstName)&&void 0!==d?d:""," ").concat(null!==(r=null===_||void 0===_||null===(u=_.seat_block_staff)||void 0===u?void 0:u.staffMiddleName)&&void 0!==r?r:""," ").concat(null!==(v=null===_||void 0===_||null===(m=_.seat_block_staff)||void 0===m?void 0:m.staffLastName)&&void 0!==v?v:"")]})]}),null===_||void 0===_||null===(f=_.seat_exam_paper_array)||void 0===f?void 0:f.map((function(e){var t;return(0,p.jsx)(Z.Z,{examDetail:(0,i.Z)((0,i.Z)({},e),{},{examName:h,selectClass:null===_||void 0===_||null===(t=_.seat_block_class)||void 0===t?void 0:t.classTitle}),viewAs:"ARANGE_SEATING"},null===e||void 0===e?void 0:e._id)})),(0,p.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",className:j.Z.menu_icon,title:"Menu"})]}),k&&(0,p.jsx)(D,{said:k,examName:h,examId:x,onRefetch:g,onClose:function(){return y("")}})]})},P=n(37762),R=n(12923),F=function(e){var t=e.instituteId,n=e.onBack,i=e.onGrabStaff,o=e.staff_list,d=(0,l.$G)().t,c=(0,s.useState)(1),r=(0,a.Z)(c,2),m=r[0],f=r[1],_=(0,s.useState)(!0),h=(0,a.Z)(_,2),g=h[0],Z=h[1],b=(0,k.YD)(),S=(0,a.Z)(b,2),N=S[0],C=S[1],T=(0,s.useState)(""),E=(0,a.Z)(T,2),w=E[0],A=E[1],M=s.useState([]),O=(0,a.Z)(M,2),D=O[0],L=O[1],F=(0,s.useState)(!0),B=(0,a.Z)(F,2),G=B[0],H=B[1],W=(0,s.useState)(null!==o&&void 0!==o&&o.length?(0,u.Z)(o):[]),U=(0,a.Z)(W,2),J=U[0],$=U[1],q=(0,s.useState)(!1),Y=(0,a.Z)(q,2),V=Y[0],X=Y[1],K=(0,R.vI)({skip:!t,search:{search:w,page:m,id:t,limit:100}}),z=K.assignSearchStaff,Q=K.assignSearchStaffRefetch;s.useEffect((function(){null!==o&&void 0!==o&&o.length&&$(null!==o&&void 0!==o&&o.length?(0,u.Z)(o):[])}),[o]),s.useEffect((function(){t&&Q()}),[t,w,Q,m]),(0,s.useEffect)((function(){C&&g&&f((function(e){return e+1}))}),[C,g]),s.useEffect((function(){var e;null!==z&&void 0!==z&&z.staff&&(w?(L(null===z||void 0===z?void 0:z.staff),H(!1)):null!==z&&void 0!==z&&z.staff?(L((function(e){var t,n;return null===(t=(0,u.Z)(new Set(null===(n=[].concat((0,u.Z)(e),(0,u.Z)(null===z||void 0===z?void 0:z.staff)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),H(!1)):0===(null===z||void 0===z||null===(e=z.staff)||void 0===e?void 0:e.length)&&H(!1));10===(null===z||void 0===z?void 0:z.staff.length)?Z(!0):Z(!1)}),[null===z||void 0===z?void 0:z.staff]);var ee=(0,s.useCallback)((0,y.debounce)((function(e){return A(e)}),500),[]),te=function(e){null!==J&&void 0!==J&&J.includes(e)?$((function(t){return null===t||void 0===t?void 0:t.filter((function(t){return t!==e}))})):$((function(t){return[].concat((0,u.Z)(t),[e])}))};return(0,p.jsxs)("div",{className:j.Z.seating_modal,children:[(0,p.jsxs)("section",{className:j.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:n,alt:""}),(0,p.jsx)("h6",{children:d("select_availbale_staff_for_supervision")}),(0,p.jsx)("button",{className:j.Z.next_btn,title:"Next",onClick:function(){i(J)},children:d("next")})]}),(0,p.jsx)(v.Z,{customStyle:{width:"100%"}}),(0,p.jsxs)("div",{className:j.Z.select_mutliple,children:[(0,p.jsxs)("p",{children:[null!==J&&void 0!==J&&J.length?null===J||void 0===J?void 0:J.length:""," "," ",d("selected")]}),V?(0,p.jsx)("button",{onClick:function(){$([]),X(!1)},children:d("remove_all")}):(0,p.jsx)("button",{onClick:function(){var e,t=[],n=(0,P.Z)(D);try{for(n.s();!(e=n.n()).done;){var i=e.value;t.push(null===i||void 0===i?void 0:i._id)}}catch(a){n.e(a)}finally{n.f()}$(t),X(!0)},children:d("select_all")})]}),(0,p.jsx)("div",{className:j.Z.search_container,style:{marginBottom:"0.5rem"},children:(0,p.jsxs)("div",{className:j.Z.search_container_input,style:{width:"100%"},children:[(0,p.jsx)("img",{className:j.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,p.jsx)("input",{type:"text",placeholder:d("search-label"),style:{width:"100%"},onChange:function(e){ee(e.target.value)}})]})}),null===D||void 0===D?void 0:D.map((function(e,t){var n,i,a,s,l,o;return(null===D||void 0===D?void 0:D.length)===t+1?(0,p.jsxs)("div",{className:j.Z.person_container,ref:N,onClick:function(){return te(null===e||void 0===e?void 0:e._id)},children:[(0,p.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(x.yI,"/").concat(e.staffProfilePhoto):"/images/demo_users/user1.svg",alt:"staff profile avatar"}),(0,p.jsxs)("div",{className:j.Z.with_check_container,children:[(0,p.jsxs)("div",{className:j.Z.person_container_text,children:[(0,p.jsx)("h6",{children:"".concat(null!==(n=e.staffFirstName)&&void 0!==n?n:""," ").concat(null!==(i=null===e||void 0===e?void 0:e.staffMiddleName)&&void 0!==i?i:""," ").concat(null!==(a=e.staffLastName)&&void 0!==a?a:"")}),(0,p.jsxs)("p",{children:[d("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]}),null!==J&&void 0!==J&&J.includes(null===e||void 0===e?void 0:e._id)?(0,p.jsx)("img",{src:"/images/department/blue-check-icon.svg",alt:"checkbox icon",title:"Select staff"}):(0,p.jsx)("img",{src:"/images/department/uncheck-icon.svg",alt:"checkbox icon",title:"Unselect staff"})]})]},e._id):(0,p.jsxs)("div",{className:j.Z.person_container,onClick:function(){return te(null===e||void 0===e?void 0:e._id)},children:[(0,p.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(x.yI,"/").concat(e.staffProfilePhoto):"/images/demo_users/user1.svg",alt:"staff profile avatar"}),(0,p.jsxs)("div",{className:j.Z.with_check_container,children:[(0,p.jsxs)("div",{className:j.Z.person_container_text,children:[(0,p.jsx)("h6",{children:"".concat(null!==(s=e.staffFirstName)&&void 0!==s?s:""," ").concat(null!==(l=null===e||void 0===e?void 0:e.staffMiddleName)&&void 0!==l?l:""," ").concat(null!==(o=e.staffLastName)&&void 0!==o?o:"")}),(0,p.jsxs)("p",{children:[d("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]}),null!==J&&void 0!==J&&J.includes(null===e||void 0===e?void 0:e._id)?(0,p.jsx)("img",{src:"/images/department/blue-check-icon.svg",alt:"checkbox icon",title:"Select staff"}):(0,p.jsx)("img",{src:"/images/department/uncheck-icon.svg",alt:"checkbox icon",title:"Unselect staff"})]})]},e._id)})),G&&(0,p.jsx)(I.Z,{})]})},B=function(e){var t=e.examId,n=e.onBack,i=e.onGrabClass,o=e.class_list,c=e.clsList,r=e.setStudentCount,m=(0,l.$G)().t,f=(0,k.YD)(),_=(0,a.Z)(f,2),h=_[0],x=_[1],g=(0,s.useState)(1),Z=(0,a.Z)(g,2),b=Z[0],S=Z[1],N=(0,s.useState)(!0),C=(0,a.Z)(N,2),T=C[0],E=C[1],w=(0,s.useState)(!0),A=(0,a.Z)(w,2),M=A[0],O=A[1],D=(0,s.useState)([]),L=(0,a.Z)(D,2),R=L[0],F=L[1],B=(0,s.useState)(""),G=(0,a.Z)(B,2),H=G[0],W=G[1],U=(0,s.useState)(null!==o&&void 0!==o&&o.length?(0,u.Z)(o):[]),J=(0,a.Z)(U,2),$=J[0],q=J[1],Y=(0,s.useState)(null!==c&&void 0!==c?c:[]),V=(0,a.Z)(Y,2),X=V[0],K=V[1],z=(0,s.useState)(!1),Q=(0,a.Z)(z,2),ee=Q[0],te=Q[1],ne=(0,d.hw)({data:{eid:t,page:b,limit:10,search:H},skip:!t}),ie=ne.getClassListExam,ae=ne.getClassListExamRefetch;s.useEffect((function(){null!==o&&void 0!==o&&o.length&&q(null!==o&&void 0!==o&&o.length?(0,u.Z)(o):[]),c&&K(c)}),[o,c]),(0,s.useEffect)((function(){t&&(O(!0),ae())}),[t,b,H,ae]),(0,s.useEffect)((function(){x&&T&&S((function(e){return e+1}))}),[x,T]),(0,s.useEffect)((function(){var e,t;H?(F(null===ie||void 0===ie?void 0:ie.all_classes),O(!1)):null!==ie&&void 0!==ie&&ie.all_classes?(F((function(e){var t,n;return null===(t=(0,u.Z)(new Set(null===(n=[].concat((0,u.Z)(e),(0,u.Z)(null===ie||void 0===ie?void 0:ie.all_classes)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),O(!1)):0===(null===ie||void 0===ie||null===(t=ie.all_classes)||void 0===t?void 0:t.length)&&O(!1);10===(null===ie||void 0===ie||null===(e=ie.all_classes)||void 0===e?void 0:e.length)?E(!0):E(!1)}),[null===ie||void 0===ie?void 0:ie.all_classes]);var se=(0,s.useCallback)((0,y.debounce)((function(e){return W(e)}),500),[]),le=function(e){null!==$&&void 0!==$&&$.includes(null===e||void 0===e?void 0:e._id)?(q((function(t){return null===t||void 0===t?void 0:t.filter((function(t){return t!==(null===e||void 0===e?void 0:e._id)}))})),K((function(t){return null===t||void 0===t?void 0:t.filter((function(t){return(null===t||void 0===t?void 0:t._id)!==(null===e||void 0===e?void 0:e._id)}))})),r((function(t){return t-(null===e||void 0===e?void 0:e.studentCount)}))):(q((function(t){return[].concat((0,u.Z)(t),[null===e||void 0===e?void 0:e._id])})),K((function(t){return[].concat((0,u.Z)(t),[e])})),r((function(t){return t+(null===e||void 0===e?void 0:e.studentCount)})))};return(0,p.jsxs)("div",{className:j.Z.seating_modal,children:[(0,p.jsxs)("section",{className:j.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:n,alt:""}),(0,p.jsx)("h6",{children:m("select_availbale_classroom")}),(0,p.jsx)("button",{className:j.Z.next_btn,title:"Next",onClick:function(){i($,X)},children:m("next")})]}),(0,p.jsx)(v.Z,{customStyle:{width:"100%"}}),(0,p.jsxs)("div",{className:j.Z.select_mutliple,children:[(0,p.jsxs)("p",{children:[null!==$&&void 0!==$&&$.length?null===$||void 0===$?void 0:$.length:""," "," ",m("selected")]}),ee?(0,p.jsx)("button",{onClick:function(){q([]),K([]),te(!1),r(0)},children:m("remove_all")}):(0,p.jsx)("button",{onClick:function(){var e,t=[],n=[],i=0,a=(0,P.Z)(R);try{for(a.s();!(e=a.n()).done;){var s=e.value;t.push(null===s||void 0===s?void 0:s._id),n.push(s),i+=s.studentCount}}catch(l){a.e(l)}finally{a.f()}q(t),K(n),r(i),te(!0)},children:m("select_all")})]}),(0,p.jsx)("div",{className:j.Z.search_container,style:{marginBottom:"0.5rem"},children:(0,p.jsxs)("div",{className:j.Z.search_container_input,style:{width:"100%"},children:[(0,p.jsx)("img",{className:j.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,p.jsx)("input",{type:"text",placeholder:m("search-label"),style:{width:"100%"},onChange:function(e){se(e.target.value)}})]})}),null===R||void 0===R?void 0:R.map((function(e,t){var n,i,a,s;return(null===R||void 0===R?void 0:R.length)===t+1?(0,p.jsxs)("div",{className:j.Z.classes_main_container,ref:h,onClick:function(){return le(e)},children:[(0,p.jsx)("img",{src:"/images/master-24-grey-icon.svg",alt:"classes icon"}),(0,p.jsxs)("div",{className:j.Z.with_check_container,children:[(0,p.jsx)("div",{className:j.Z.person_container_text,children:(0,p.jsx)("h6",{children:"".concat(null!==(n=null===e||void 0===e?void 0:e.className)&&void 0!==n?n:""," ").concat(null!==(i=null===e||void 0===e?void 0:e.classTitle)&&void 0!==i?i:"")})}),(0,p.jsx)("div",{className:j.Z.classes_count_container,children:null!==$&&void 0!==$&&$.includes(null===e||void 0===e?void 0:e._id)?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h6",{children:(null===$||void 0===$?void 0:$.indexOf(null===e||void 0===e?void 0:e._id))+1}),(0,p.jsx)("img",{src:"/images/department/blue-check-icon.svg",alt:"checkbox icon",title:"Select staff"})]}):(0,p.jsx)("img",{src:"/images/department/uncheck-icon.svg",alt:"checkbox icon",title:"Unselect staff"})})]})]},e._id):(0,p.jsxs)("div",{className:j.Z.classes_main_container,onClick:function(){return le(e)},children:[(0,p.jsx)("img",{src:"/images/master-24-grey-icon.svg",alt:"classes icon"}),(0,p.jsxs)("div",{className:j.Z.with_check_container,children:[(0,p.jsx)("div",{className:j.Z.person_container_text,children:(0,p.jsx)("h6",{children:"".concat(null!==(a=null===e||void 0===e?void 0:e.className)&&void 0!==a?a:""," ").concat(null!==(s=null===e||void 0===e?void 0:e.classTitle)&&void 0!==s?s:"")})}),(0,p.jsx)("div",{className:j.Z.classes_count_container,children:null!==$&&void 0!==$&&$.includes(null===e||void 0===e?void 0:e._id)?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h6",{children:(null===$||void 0===$?void 0:$.indexOf(null===e||void 0===e?void 0:e._id))+1}),(0,p.jsx)("img",{src:"/images/department/blue-check-icon.svg",alt:"checkbox icon",title:"Select staff"})]}):(0,p.jsx)("img",{src:"/images/department/uncheck-icon.svg",alt:"checkbox icon",title:"Unselect staff"})})]})]},e._id)})),M&&(0,p.jsx)(I.Z,{})]})},G=function(e){var t=e.onBack,n=e.onGrabRearrangeClass,i=e.clsList,o=e.class_list,d=(0,l.$G)().t,c=(0,s.useState)(null!==o&&void 0!==o&&o.length?(0,u.Z)(o):[]),r=(0,a.Z)(c,2),m=r[0],f=r[1],_=(0,s.useState)(null!==i&&void 0!==i?i:[]),h=(0,a.Z)(_,2),x=h[0],g=h[1],Z=(0,s.useRef)(),b=(0,s.useRef)();s.useEffect((function(){null!==o&&void 0!==o&&o.length&&f(null!==o&&void 0!==o&&o.length?(0,u.Z)(o):[]),i&&g(i)}),[o,i]);var S=function(e){var t=(0,u.Z)(m),n=t[Z.current];t.splice(Z.current,1),t.splice(b.current,0,n);var i=(0,u.Z)(x),a=i[Z.current];i.splice(Z.current,1),i.splice(b.current,0,a),Z.current=null,b.current=null,g(i),f(t)};return(0,p.jsxs)("div",{className:j.Z.seating_modal,children:[(0,p.jsxs)("section",{className:j.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:t,alt:""}),(0,p.jsx)("h6",{children:d("rearranges_exam_halls")}),(0,p.jsx)("button",{className:j.Z.next_btn,title:"Next",onClick:function(){n(m,x)},children:d("next")})]}),(0,p.jsx)(v.Z,{customStyle:{width:"100%"}}),null===x||void 0===x?void 0:x.map((function(e,t){var n,i;return(0,p.jsxs)("div",{className:j.Z.classes_main_container,draggable:!0,onDragStart:function(e){return n=t,void(Z.current=n);var n},onDragEnter:function(e){return n=t,void(b.current=n);var n},onDragEnd:S,children:[(0,p.jsx)("img",{src:"/images/master-24-grey-icon.svg",alt:"classes icon"}),(0,p.jsxs)("div",{className:j.Z.with_check_container,children:[(0,p.jsx)("div",{className:j.Z.person_container_text,children:(0,p.jsx)("h6",{children:"".concat(null!==(n=null===e||void 0===e?void 0:e.className)&&void 0!==n?n:""," ").concat(null!==(i=null===e||void 0===e?void 0:e.classTitle)&&void 0!==i?i:"")})}),(0,p.jsxs)("div",{className:j.Z.classes_count_container,children:[(0,p.jsx)("h6",{children:(null===m||void 0===m?void 0:m.indexOf(null===e||void 0===e?void 0:e._id))+1}),(0,p.jsx)("img",{src:"/images/department/equal-rearrange-icon.svg",alt:"checkbox icon",title:"Select staff"})]})]})]},e._id)}))]})},H=function(e){var t=e.customExamStyle,n=e.examName,i=e.total_staff,a=e.total_classroom,s=e.student_count,o=(0,l.$G)().t;return(0,p.jsxs)("div",{className:j.Z.seating_examination_container,style:t,children:[(0,p.jsx)("h6",{children:null!==n&&void 0!==n?n:""}),(0,p.jsxs)("p",{children:[o("total_staffs")," "," : "," ",null!==i&&void 0!==i?i:0]}),(0,p.jsxs)("p",{children:[o("total_classrooms")," ",null!==a&&void 0!==a?a:0]}),(0,p.jsxs)("p",{children:[o("total_students")," "," : "," ",null!==s&&void 0!==s?s:0]})]})},W=function(e){var t,n,o,d,c=e.onBack,r=e.automateState,u=e.onAddAutoMateSeating,m=e.studentCount,f=e.examName,x=(0,l.$G)().t,g=(0,s.useState)(""),Z=(0,a.Z)(g,2),b=Z[0],S=Z[1],N=(0,s.useState)({hall_limit:"",sequence:""}),k=(0,a.Z)(N,2),y=k[0],C=k[1];return(0,p.jsxs)("div",{className:j.Z.seating_modal,children:[(0,p.jsxs)("section",{className:j.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:c,alt:""}),(0,p.jsx)("h6",{children:x("select_exams")})]}),(0,p.jsx)(v.Z,{customStyle:{width:"100%"}}),(0,p.jsx)(H,{examName:f,total_staff:null!==(t=null===r||void 0===r||null===(n=r.staff_list)||void 0===n?void 0:n.length)&&void 0!==t?t:0,total_classroom:null!==(o=null===r||void 0===r||null===(d=r.class_list)||void 0===d?void 0:d.length)&&void 0!==o?o:0,student_count:m}),(0,p.jsx)(h.Z,{labelText:x("enter_exam_hall_student"),placeholder:x("enter_exam_hall_student_placeholder"),name:"hall_limit",type:"number",errorShow:b.hall_limit,onChange:function(e){C((function(t){return(0,i.Z)((0,i.Z)({},t),{},{hall_limit:+e.target.value})}))},value:y.hall_limit}),(0,p.jsx)(_.Z,{selectLabel:x("type_of_seating"),selectedValue:x("type_of_seating_placeholder"),options:["One Student / Bench","Two Student / Bench"],value:y.sequence,onClick:function(e){C((function(t){return(0,i.Z)((0,i.Z)({},t),{},{sequence:e})}))},errorShow:b.sequence}),(0,p.jsx)("button",{className:j.Z.start_arrangement_btn,title:"Start Arrangement",onClick:function(){var e=function(e){var t={};for(var n in e)e[n]||(t[n]="".concat(n," is required!"));return t}(y),t=!1;for(var n in e)if(n){t=!0;break}t?S(e):u(y)},children:x("start_arrangement")})]})},U=function(e){var t=e.onClose,n=e.instituteId,l=e.examId,o=e.examName,c=(0,s.useState)(1),r=(0,a.Z)(c,2),u=r[0],v=r[1],m=(0,s.useState)(!1),f=(0,a.Z)(m,2),_=f[0],h=f[1],x=(0,s.useState)({staff_list:[],class_list:[]}),j=(0,a.Z)(x,2),Z=j[0],b=j[1],S=(0,s.useState)([]),N=(0,a.Z)(S,2),k=N[0],y=N[1],C=(0,s.useState)(0),I=(0,a.Z)(C,2),T=I[0],w=I[1],A=(0,d.Oq)(),M=(0,a.Z)(A,1)[0];return(0,p.jsxs)(g.Z,{onClose:t,children:[1===u&&(0,p.jsx)(F,{instituteId:n,onGrabStaff:function(e){b((function(t){return(0,i.Z)((0,i.Z)({},t),{},{staff_list:e})})),v(2)},staff_list:Z.staff_list,onBack:t}),2===u&&(0,p.jsx)(B,{examId:l,onGrabClass:function(e,t){b((function(t){return(0,i.Z)((0,i.Z)({},t),{},{class_list:e})})),y(t),v(3)},class_list:Z.class_list,onBack:function(){return v(1)},clsList:k,setStudentCount:w}),3===u&&(0,p.jsx)(G,{onGrabRearrangeClass:function(e,t){b((function(t){return(0,i.Z)((0,i.Z)({},t),{},{class_list:e})})),y(t),v(4)},class_list:Z.class_list,onBack:function(){return v(2)},clsList:k}),4===u&&(0,p.jsx)(W,{automateState:Z,onBack:function(){return v(3)},onAddAutoMateSeating:function(e){h((function(e){return!e})),M({eid:l,createAutomate:(0,i.Z)((0,i.Z)({},Z),e)}).then((function(){h((function(e){return!e})),t()})).catch({})},examName:o,studentCount:T}),_&&(0,p.jsx)(E.Z,{})]})},J=function(e){var t,n,i,c,r,m,f,_,h,x,g,Z=e.instituteId,b=e.viewAs,S=(0,l.$G)().t,N=(0,o.TH)(),y=(0,s.useState)(!1),C=(0,a.Z)(y,2),T=C[0],E=C[1],A=(0,s.useState)(!1),M=(0,a.Z)(A,2),O=M[0],D=M[1],P=(0,k.YD)(),R=(0,a.Z)(P,2),F=R[0],B=R[1],G=(0,s.useState)(1),H=(0,a.Z)(G,2),W=H[0],J=H[1],$=(0,s.useState)(!0),q=(0,a.Z)($,2),Y=q[0],V=q[1],X=(0,s.useState)(!0),K=(0,a.Z)(X,2),z=K[0],Q=K[1],ee=(0,s.useState)([]),te=(0,a.Z)(ee,2),ne=te[0],ie=te[1],ae=(0,s.useState)(!1),se=(0,a.Z)(ae,2),le=se[0],oe=se[1],de=(0,d.XB)({data:{eid:null===(t=N.state)||void 0===t?void 0:t.examId,page:W,limit:10,search:""},skip:!(null!==(n=N.state)&&void 0!==n&&n.examId)}),ce=de.getSeatingListExam,re=de.getSeatingListExamRefetch;(0,s.useEffect)((function(){var e;null!==(e=N.state)&&void 0!==e&&e.examId&&(Q(!0),re())}),[null===(i=N.state)||void 0===i?void 0:i.examId,W,re]),(0,s.useEffect)((function(){B&&Y&&J((function(e){return e+1}))}),[B,Y]),(0,s.useEffect)((function(){var e;null===(e=document.getElementById("scrollViewSeating"))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),[]),(0,s.useEffect)((function(){var e,t;le?(ie(null===ce||void 0===ce?void 0:ce.all_seating),Q(!1),oe(!1)):null!==ce&&void 0!==ce&&ce.all_seating?(ie((function(e){var t,n;return null===(t=(0,u.Z)(new Set(null===(n=[].concat((0,u.Z)(e),(0,u.Z)(null===ce||void 0===ce?void 0:ce.all_seating)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),Q(!1)):0===(null===ce||void 0===ce||null===(t=ce.all_seating)||void 0===t?void 0:t.length)&&Q(!1);10===(null===ce||void 0===ce||null===(e=ce.all_seating)||void 0===e?void 0:e.length)?V(!0):V(!1)}),[null===ce||void 0===ce?void 0:ce.all_seating]);var ue=function(){J(1),oe(!0),Q(!0),re()},ve=function(){E((function(e){return!e}))},me=function(){D((function(e){return!e}))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:j.Z.with_search,id:"scrollViewSeating",children:[(0,p.jsx)("h6",{children:S("seating_arrangements")}),(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem"},children:[(0,p.jsx)("img",{src:"/images/department/seat-automate-icon.svg",alt:"back arrow",className:j.Z.add_plus_icon,onClick:me,title:"Automate seating arrangements"}),(0,p.jsx)("img",{src:"/images/add-plus-blue-icon.svg",alt:"back arrow",className:j.Z.add_plus_icon,onClick:ve,title:"Add seating arrangements"})]})]}),(0,p.jsx)(v.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),null===ne||void 0===ne?void 0:ne.map((function(e,t){var n,i,a,s,l,o,d,c;return(null===ne||void 0===ne?void 0:ne.length)===t+1?(0,p.jsx)("div",{ref:F,children:(0,p.jsx)(L,{seating:e,examName:null!==(n=null===(i=N.state)||void 0===i?void 0:i.examName)&&void 0!==n?n:"",examId:null!==(a=null===(s=N.state)||void 0===s?void 0:s.examId)&&void 0!==a?a:"",onRefetch:ue})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(L,{seating:e,examName:null!==(l=null===(o=N.state)||void 0===o?void 0:o.examName)&&void 0!==l?l:"",examId:null!==(d=null===(c=N.state)||void 0===c?void 0:c.examId)&&void 0!==d?d:"",onRefetch:ue},null===e||void 0===e?void 0:e._id)})),z&&(0,p.jsx)(I.Z,{}),T&&(0,p.jsx)(w,{onClose:ve,instituteId:Z,examId:null!==(c=null===(r=N.state)||void 0===r?void 0:r.examId)&&void 0!==c?c:"",examName:null!==(m=null===(f=N.state)||void 0===f?void 0:f.examName)&&void 0!==m?m:"",onRefetch:ue,viewAs:b}),O&&(0,p.jsx)(U,{onClose:me,instituteId:Z,examId:null!==(_=null===(h=N.state)||void 0===h?void 0:h.examId)&&void 0!==_?_:"",examName:null!==(x=null===(g=N.state)||void 0===g?void 0:g.examName)&&void 0!==x?x:""})]})},$=n(16796),q=function(e){var t=e.examSubject,n=(0,l.$G)().t,i=(0,s.useState)(!0),o=(0,a.Z)(i,2),d=o[0],c=o[1];return(0,s.useEffect)((function(){null!==t&&void 0!==t&&t.length&&c(!1)}),[t]),(0,s.useEffect)((function(){var e;null===(e=document.getElementById("scrollViewSubject"))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),[]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:j.Z.with_search,id:"scrollViewSubject",children:(0,p.jsx)("h6",{children:n("exam_schedule")})}),(0,p.jsx)(v.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),null===t||void 0===t?void 0:t.map((function(e){var t;return null===e||void 0===e||null===(t=e.subject)||void 0===t?void 0:t.map((function(t){return(0,p.jsx)(S.Z,{classMaster:null===e||void 0===e?void 0:e.className,subject:t,customCardStyle:{width:"49.5%"}},null===t||void 0===t?void 0:t._id)}))})),d&&(0,p.jsx)(I.Z,{})]})},Y=function(e){var t,n,u,v,m,f,_,h,x,g,Z,b,S,N,k,y,C,I,T,w,A,M,O,D,L,P,R,F,B,G,H=e.instituteId,W=e.viewAs,U=(0,l.$G)().t,Y=(0,o.TH)(),V=(0,s.useState)(!0),X=(0,a.Z)(V,2),K=X[0],z=X[1],Q=(0,s.useState)(!1),ee=(0,a.Z)(Q,2),te=ee[0],ne=ee[1],ie=(0,d.il)({eid:null===(t=Y.state)||void 0===t?void 0:t.examId,skip:!(null!==(n=Y.state)&&void 0!==n&&n.examId)}),ae=ie.departmentExamDetail,se=ie.departmentExamDetailRefetch,le=(0,d.fb)({eid:null===(u=Y.state)||void 0===u?void 0:u.examId,skip:K}),oe=le.sendExamNotifyToSubject,de=le.sendExamNotifyToSubjectRefetch;(0,s.useEffect)((function(){var e;null!==(e=Y.state)&&void 0!==e&&e.examId&&se()}),[null===(v=Y.state)||void 0===v?void 0:v.examId,se]),(0,s.useEffect)((function(){null!==oe&&void 0!==oe&&oe.message&&"All designation of marks update is processing...\ud83d\ude0e"===oe.message&&ne(!1)}),[null===oe||void 0===oe?void 0:oe.message]);return(0,p.jsxs)("div",{className:j.Z.view_container,children:[("exam&n=detail"===(null===Y||void 0===Y||null===(m=Y.search)||void 0===m?void 0:m.substring(3))||"department&n=exam&n=detail"===(null===Y||void 0===Y||null===(f=Y.search)||void 0===f?void 0:f.substring(3))||"backlog&exam&detail"===(null===Y||void 0===Y||null===(_=Y.search)||void 0===_?void 0:_.substring(3))||"department&n=backlog&exam&detail"===(null===Y||void 0===Y||null===(h=Y.search)||void 0===h?void 0:h.substring(3)))&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h6",{className:j.Z.exam_detail_h6,children:U("exam_detail")}),"DEPARTMENT_BACKLOG"===W&&"Not Send"===(null===ae||void 0===ae||null===(x=ae.exam)||void 0===x?void 0:x.is_backlog_notify)&&!(null!==oe&&void 0!==oe&&oe.message)&&(0,p.jsx)("div",{style:{position:"relative"},children:(0,p.jsx)("button",{className:j.Z.next_btn,onClick:function(){ne((function(e){return!e})),z(!1),de()},style:{top:"-2rem",backgroundColor:"inherit"},title:"Send exam update notification",children:U("send_notification")})}),(0,p.jsxs)("section",{className:j.Z.exam_info_container,children:[(0,p.jsx)(c.Z,{labelText:"".concat(U("exam_name"),":"),value:null!==(g=null===ae||void 0===ae||null===(Z=ae.exam)||void 0===Z?void 0:Z.examName)&&void 0!==g?g:"",customStyleValue:{fontWeight:"500"}}),(0,p.jsx)(c.Z,{labelText:"".concat(U("exam_type"),":"),value:null!==(b=null===ae||void 0===ae||null===(S=ae.exam)||void 0===S?void 0:S.examType)&&void 0!==b?b:"",customStyleValue:{fontWeight:"500"}}),(0,p.jsx)(c.Z,{labelText:"".concat(U("exam_mode"),":"),value:null!==(N=null===ae||void 0===ae||null===(k=ae.exam)||void 0===k?void 0:k.examMode)&&void 0!==N?N:"",customStyleValue:{fontWeight:"500"}}),"Other"===(null===ae||void 0===ae||null===(y=ae.exam)||void 0===y?void 0:y.examType)&&(0,p.jsx)(c.Z,{labelText:"".concat(U("exam_weight"),":"),value:"".concat(null!==(C=null===ae||void 0===ae||null===(I=ae.exam)||void 0===I?void 0:I.examWeight)&&void 0!==C?C:"","%"),customStyleValue:{fontWeight:"500"}})]}),(0,p.jsxs)("div",{className:j.Z.exam_schedule,children:[(0,p.jsx)("h6",{children:U("exam_schedule")}),"EXAMINATION_SECTION"===W?(0,p.jsx)($.Z,{carryParentState:(0,i.Z)((0,i.Z)({},Y.state),{},{examName:null===ae||void 0===ae||null===(T=ae.exam)||void 0===T?void 0:T.examName}),activeTab:"department&n=backlog&exam&detail&subject",children:(0,p.jsxs)("button",{className:j.Z.exam_schedule_btn,title:"See Exam Schedule",children:[(0,p.jsx)("div",{children:U("exam_schedule")}),(0,p.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]})}):(0,p.jsx)(r.Z,{carryParentState:(0,i.Z)((0,i.Z)({},Y.state),{},{examName:null===ae||void 0===ae||null===(w=ae.exam)||void 0===w?void 0:w.examName}),activeTab:"DEPARTMENT_BACKLOG"===W?"backlog&exam&detail&subject":"exam&n=detail&subject",children:(0,p.jsxs)("button",{className:j.Z.exam_schedule_btn,title:"See Exam Schedule",children:[(0,p.jsx)("div",{children:U("exam_schedule")}),(0,p.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]})})]}),(0,p.jsxs)("div",{className:j.Z.exam_schedule,children:[(0,p.jsx)("h6",{children:U("seating_arrangements")}),"EXAMINATION_SECTION"===W?(0,p.jsx)($.Z,{carryParentState:(0,i.Z)((0,i.Z)({},Y.state),{},{examName:null===ae||void 0===ae||null===(A=ae.exam)||void 0===A?void 0:A.examName}),activeTab:"department&n=exam&n=detail&seating",children:(0,p.jsxs)("button",{className:j.Z.exam_schedule_btn,title:"See Seating Arrangements",children:[(0,p.jsx)("div",{children:U("seating_arrangements")}),(0,p.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]})}):(0,p.jsx)(r.Z,{carryParentState:(0,i.Z)((0,i.Z)({},Y.state),{},{examName:null===ae||void 0===ae||null===(M=ae.exam)||void 0===M?void 0:M.examName}),activeTab:"DEPARTMENT_BACKLOG"===W?"backlog&exam&detail&seating":"exam&n=detail&seating",children:(0,p.jsxs)("button",{className:j.Z.exam_schedule_btn,title:"See Seating Arrangements",children:[(0,p.jsx)("div",{children:U("seating_arrangements")}),(0,p.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]})})]})]}),("exam&n=detail&seating"===(null===Y||void 0===Y||null===(O=Y.search)||void 0===O?void 0:O.substring(3))||"department&n=exam&n=detail&seating"===(null===Y||void 0===Y||null===(D=Y.search)||void 0===D?void 0:D.substring(3))||"backlog&exam&detail&seating"===(null===Y||void 0===Y||null===(L=Y.search)||void 0===L?void 0:L.substring(3))||"department&n=backlog&exam&detail&seating"===(null===Y||void 0===Y||null===(P=Y.search)||void 0===P?void 0:P.substring(3)))&&(0,p.jsx)(J,{instituteId:H,viewAs:"BACKLOG"}),("exam&n=detail&subject"===(null===Y||void 0===Y||null===(R=Y.search)||void 0===R?void 0:R.substring(3))||"department&n=exam&n=detail&subject"===(null===Y||void 0===Y||null===(F=Y.search)||void 0===F?void 0:F.substring(3))||"backlog&exam&detail&subject"===(null===Y||void 0===Y||null===(B=Y.search)||void 0===B?void 0:B.substring(3))||"department&n=backlog&exam&detail&subject"===(null===Y||void 0===Y||null===(G=Y.search)||void 0===G?void 0:G.substring(3)))&&(0,p.jsx)("section",{className:j.Z.schedule_subject_container,children:(0,p.jsx)(q,{examSubject:null===ae||void 0===ae?void 0:ae.oneExamDetail})}),te&&(0,p.jsx)(E.Z,{})]})}},12534:function(e,t,n){n.d(t,{Z:function(){return x}});var i=n(1413),a=(n(72791),"ExamList_exam_card_container__wI+wi"),s="ExamList_exam_inner_text__8YkCv",l="ExamList_exam_date__3rGwB",o="ExamList_imagedot__k-4TU",d="ExamList_dot__kyP9J",c="ExamList_blue__RH3kK",r="ExamList_red__QmtMz",u=n(72426),v=n.n(u),m=n(39230),f=n(8148),_=n(16796),h=n(80184);var x=function(e){var t=e.exam,n=e.carryParentState,u=e.viewAs,x=(e.seeUrl,(0,m.$G)().t);return(0,h.jsx)(h.Fragment,{children:"EXAMINATION_SECTION"===u?(0,h.jsx)(_.Z,{carryParentState:(0,i.Z)((0,i.Z)({},n),{},{examId:null===t||void 0===t?void 0:t._id}),activeTab:"department&n=exam&n=detail",children:(0,h.jsxs)("div",{className:a,title:"View exam detail",children:[(0,h.jsxs)("div",{className:o,children:[(0,h.jsx)("img",{src:"/images/members/exam-icon.svg",alt:""}),(0,h.jsx)("div",{className:(null===t||void 0===t?void 0:t.examMode)===x("Offline")?"".concat(d," ").concat(c):"".concat(d," ").concat(r)})]}),(0,h.jsxs)("div",{className:s,children:[(0,h.jsx)("h6",{children:null===t||void 0===t?void 0:t.examName}),"Final"===(null===t||void 0===t?void 0:t.examType)?"":(0,h.jsxs)("p",{children:[x("weightage"),": ",null===t||void 0===t?void 0:t.examWeight," %"]})]}),(0,h.jsxs)("div",{className:l,children:[(0,h.jsx)("h6",{children:v()(null===t||void 0===t?void 0:t.createdAt).format("DD MMMM YYYY")}),(0,h.jsx)("p",{children:x(null===t||void 0===t?void 0:t.examType)})]})]})}):"DEPARTMENT_BACKLOG"===u?(0,h.jsx)(f.Z,{carryParentState:(0,i.Z)((0,i.Z)({},n),{},{examId:null===t||void 0===t?void 0:t._id}),activeTab:"backlog&exam&detail",children:(0,h.jsxs)("div",{className:a,title:"View exam detail",children:[(0,h.jsxs)("div",{className:o,children:[(0,h.jsx)("img",{src:"/images/members/exam-icon.svg",alt:""}),(0,h.jsx)("div",{className:(null===t||void 0===t?void 0:t.examMode)===x("Offline")?"".concat(d," ").concat(c):"".concat(d," ").concat(r)})]}),(0,h.jsxs)("div",{className:s,children:[(0,h.jsx)("h6",{children:null===t||void 0===t?void 0:t.examName}),"Final"===(null===t||void 0===t?void 0:t.examType)?"":(0,h.jsxs)("p",{children:[x("weightage"),": ",null===t||void 0===t?void 0:t.examWeight," %"]})]}),(0,h.jsxs)("div",{className:l,children:[(0,h.jsx)("h6",{children:v()(null===t||void 0===t?void 0:t.createdAt).format("DD MMMM YYYY")}),(0,h.jsx)("p",{children:x(null===t||void 0===t?void 0:t.examType)})]})]})}):(0,h.jsx)(f.Z,{carryParentState:(0,i.Z)((0,i.Z)({},n),{},{examId:null===t||void 0===t?void 0:t._id}),activeTab:"exam&n=detail",children:(0,h.jsxs)("div",{className:a,title:"View exam detail",children:[(0,h.jsxs)("div",{className:o,children:[(0,h.jsx)("img",{src:"/images/members/exam-icon.svg",alt:""}),(0,h.jsx)("div",{className:(null===t||void 0===t?void 0:t.examMode)===x("Offline")?"".concat(d," ").concat(c):"".concat(d," ").concat(r)})]}),(0,h.jsxs)("div",{className:s,children:[(0,h.jsx)("h6",{children:null===t||void 0===t?void 0:t.examName}),"Final"===(null===t||void 0===t?void 0:t.examType)?"":(0,h.jsxs)("p",{children:[x("weightage"),": ",null===t||void 0===t?void 0:t.examWeight," %"]})]}),(0,h.jsxs)("div",{className:l,children:[(0,h.jsx)("h6",{children:v()(null===t||void 0===t?void 0:t.createdAt).format("DD MMMM YYYY")}),(0,h.jsx)("p",{children:x(null===t||void 0===t?void 0:t.examType)})]})]})})})}},10191:function(e,t,n){var i=n(29439),a=n(72791),s=n(90443),l=(n(39445),n(48401)),o=n(74289),d=n(93487),c=n(16871),r=n(39230),u=n(98094),v=n(12534),m=n(11105),f=n(34219),_=n(80184);t.Z=function(e){var t,n,h,x,g,j=e.did,Z=e.bid,p=e.carryParentState,b=e.instituteId,S=e.viewAs,N=(0,r.$G)().t,k=(0,c.TH)(),y=(0,a.useState)(!1),C=(0,i.Z)(y,2),I=C[0],T=C[1],E=(0,a.useState)(!0),w=(0,i.Z)(E,2),A=w[0],M=w[1],O=(0,a.useState)([]),D=(0,i.Z)(O,2),L=D[0],P=D[1],R=(0,a.useState)(!1),F=(0,i.Z)(R,2),B=F[0],G=F[1],H=(0,o.v0)({data:{did:j,page:1,limit:20},skip:!j}),W=H.departmentAllExam,U=H.departmentAllExamRefetch;(0,a.useEffect)((function(){j&&U()}),[j,U]),(0,a.useEffect)((function(){var e,t;null!==W&&void 0!==W&&null!==(e=W.exam)&&void 0!==e&&e.length?(P(null===W||void 0===W?void 0:W.exam),M(!1)):0===(null===W||void 0===W||null===(t=W.exam)||void 0===t?void 0:t.length)&&M(!1)}),[null===W||void 0===W?void 0:W.exam]);var J=function(){T((function(e){return!e}))};return(0,_.jsxs)(_.Fragment,{children:[("exam"===(null===k||void 0===k||null===(t=k.search)||void 0===t?void 0:t.substring(3))||"department&n=exam"===(null===k||void 0===k||null===(n=k.search)||void 0===n?void 0:n.substring(3)))&&(0,_.jsxs)("div",{className:s.Z.exam_container,children:[(0,_.jsxs)("div",{className:s.Z.with_search,children:[(0,_.jsx)("h6",{children:N("previous_exam_list")}),(0,_.jsx)("section",{className:s.Z.search_container,children:(0,_.jsxs)("div",{className:s.Z.search_container_input,children:[(0,_.jsx)("img",{className:s.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,_.jsx)("input",{type:"text",placeholder:"Search exams...",onChange:function(e){if(e.target.value){var t,n=null===W||void 0===W||null===(t=W.exam)||void 0===t?void 0:t.filter((function(t){var n,i,a;return null!==t&&void 0!==t&&null!==(n=t.examName)&&void 0!==n&&null!==(i=n.toLowerCase())&&void 0!==i&&i.includes(null===(a=e.target.value)||void 0===a?void 0:a.toLowerCase())?t:null}));0===(null===n||void 0===n?void 0:n.length)?G(!0):G(!1),P(n)}else G(!1),P(null===W||void 0===W?void 0:W.exam)}})]})})]}),(0,_.jsx)(u.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,_.jsx)("div",{className:s.Z.add_new_container,children:(0,_.jsx)("p",{className:s.Z.add_new_exam,onClick:J,children:N("create_new_exam")})}),null===L||void 0===L?void 0:L.map((function(e){return(0,_.jsx)(v.Z,{exam:e,carryParentState:p,viewAs:S},e._id)})),!A&&!(null!==W&&void 0!==W&&null!==(h=W.exam)&&void 0!==h&&h.length)&&(0,_.jsx)(f.Z,{customStyleContainer:{marginTop:"9rem"},title:"No any exams found",subtitle:"Please make sure you have created exam."}),B&&(0,_.jsx)(f.Z,{customStyleContainer:{marginTop:"9rem"},title:"No any search found"}),A&&(0,_.jsx)(m.Z,{})]}),("exam&n=detail"===(null===k||void 0===k||null===(x=k.search)||void 0===x?void 0:x.substring(3,16))||"department&n=exam&n=detail"===(null===k||void 0===k||null===(g=k.search)||void 0===g?void 0:g.substring(3,29)))&&(0,_.jsx)(d.Z,{carryParentState:p,instituteId:b,viewAs:S}),I&&(0,_.jsx)(l.Z,{onClose:J,did:j,bid:Z,onRefetch:U})]})}},56206:function(e,t,n){n(72791);var i=n(60163),a=n(80184);t.Z=function(e){var t,n,s,l=e.cls,o=e.onSelect,d=e.isMaster;return(0,a.jsx)(a.Fragment,{children:d?(0,a.jsxs)("div",{className:i.Z.class_container,title:"Select standard",onClick:function(){return o(l)},style:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"1rem"},children:[(0,a.jsx)("img",{src:"/images/master-24-grey-icon.svg",alt:"classes icon"}),(0,a.jsx)("h6",{children:null!==(t=null===l||void 0===l?void 0:l.className)&&void 0!==t?t:""})]}):(0,a.jsx)("div",{className:i.Z.class_container,title:"Select class",onClick:function(){return o(l)},children:(0,a.jsx)("h6",{children:"".concat(null!==(n=null===l||void 0===l?void 0:l.className)&&void 0!==n?n:""," - ").concat(null!==(s=null===l||void 0===l?void 0:l.classTitle)&&void 0!==s?s:"")})})})}},69113:function(e,t,n){n(72791);var i=n(39230),a=n(60163),s=n(72426),l=n.n(s),o=n(80184);t.Z=function(e){var t,n,s,d,c,r,u,v,m,f,_,h,x,g,j,Z,p,b,S,N,k,y,C=e.customExamStyle,I=e.examDetail,T=e.viewAs,E=e.studentCount,w=(0,i.$G)().t,A=null!==(t=null===I||void 0===I||null===(n=I.currentSubject)||void 0===n||null===(s=n.subject)||void 0===s||null===(d=s.date)||void 0===d?void 0:d.split("/"))&&void 0!==t?t:null===I||void 0===I||null===(c=I.date)||void 0===c?void 0:c.split("/");return(0,o.jsxs)("div",{className:a.Z.seating_examination_container,style:C,children:[(0,o.jsx)("h6",{children:null!==(r=null===I||void 0===I?void 0:I.examName)&&void 0!==r?r:""}),(0,o.jsxs)("p",{children:[null!==(u=null!==(v=null===I||void 0===I||null===(m=I.currentSubject)||void 0===m||null===(f=m.subject)||void 0===f?void 0:f.subjectName)&&void 0!==v?v:null===I||void 0===I?void 0:I.subjectName)&&void 0!==u?u:"",","," ","".concat(null!==I&&void 0!==I&&null!==(_=I.currentSubject)&&void 0!==_&&_.classMaster?"".concat(null===I||void 0===I||null===(h=I.currentSubject)||void 0===h?void 0:h.classMaster," ,"):""),null!==(x=null===I||void 0===I?void 0:I.selectClass)&&void 0!==x?x:""]}),(0,o.jsxs)("p",{children:[null===(g=l()("".concat(null===A||void 0===A?void 0:A[2],"-").concat(null===A||void 0===A?void 0:A[1],"-").concat(null===A||void 0===A?void 0:A[0])))||void 0===g?void 0:g.format("DD-MMM-yyyy"),","," ",null!==(j=null!==(Z=null===I||void 0===I||null===(p=I.currentSubject)||void 0===p||null===(b=p.subject)||void 0===b?void 0:b.startTime)&&void 0!==Z?Z:null===I||void 0===I?void 0:I.startTime)&&void 0!==j?j:""," ","to"," ",null!==(S=null!==(N=null===I||void 0===I||null===(k=I.currentSubject)||void 0===k||null===(y=k.subject)||void 0===y?void 0:y.endTime)&&void 0!==N?N:null===I||void 0===I?void 0:I.endTime)&&void 0!==S?S:""]}),"ADD_SEATING"===T?(0,o.jsxs)("p",{children:[w("students"),": ","(".concat(null!==E&&void 0!==E?E:0," ").concat(w("students"),")")]}):(0,o.jsxs)("p",{children:[w("students"),": From ",null===I||void 0===I?void 0:I.from," to ",null===I||void 0===I?void 0:I.to," ","(".concat(+(null===I||void 0===I?void 0:I.to)-+(null===I||void 0===I?void 0:I.from)," ").concat(w("students"),")")]})]})}},40366:function(e,t,n){n(72791);var i=n(39230),a=n(60163),s=n(80184);t.Z=function(e){var t,n,l,o,d,c=e.subject,r=e.classMaster,u=e.customCardStyle,v=e.onCurrentSubject,m=e.viewAs,f=(0,i.$G)().t;return(0,s.jsxs)("div",{className:"SEATING"===m?"".concat(a.Z.subject_container," ").concat(a.Z.subject_container_active):a.Z.subject_container,onClick:function(){"SEATING"===m&&v({classMaster:r,subject:c})},style:u,children:[(0,s.jsx)("h6",{children:null!==(t=null===c||void 0===c?void 0:c.subjectName)&&void 0!==t?t:""}),(0,s.jsx)("p",{className:a.Z.subject_standard,children:null!==r&&void 0!==r?r:""}),(0,s.jsxs)("p",{className:a.Z.subject_other,children:[f("date")," ",": ",null!==(n=null===c||void 0===c?void 0:c.date)&&void 0!==n?n:""]}),(0,s.jsxs)("p",{className:a.Z.subject_other,children:[f("time"),": ","".concat(null!==(l=null===c||void 0===c?void 0:c.startTime)&&void 0!==l?l:""," to ").concat(null!==(o=null===c||void 0===c?void 0:c.endTime)&&void 0!==o?o:"")]}),(0,s.jsxs)("p",{className:a.Z.subject_other,children:[f("marks"),": ",null!==(d=null===c||void 0===c?void 0:c.totalMarks)&&void 0!==d?d:0]})]})}},9972:function(e,t,n){n.d(t,{Z:function(){return D}});var i=n(29439),a=n(72791),s=n(74289),l=n(90443),o=n(1413),d=n(36665),c=n(4942),r=n(97655),u=n(39230),v=n(60163),m=n(98094),f=n(59965),_=n(12953),h=n(80184),x=function(e){var t=e.feesInfo,n=e.onGrabInfo,s=(0,u.$G)().t,l=(0,a.useState)({feeName:"",feeAmount:"",feeDate:""}),d=(0,i.Z)(l,2),x=d[0],g=d[1],j=(0,a.useState)(""),Z=(0,i.Z)(j,2),p=Z[0],b=Z[1];(0,a.useEffect)((function(){t&&g((function(e){return(0,o.Z)((0,o.Z)({},e),t)}))}),[t]);var S=function(e){"feeAmount"===e.target.name?g((function(t){return(0,o.Z)((0,o.Z)({},t),{},{feeAmount:+e.target.value})})):g((function(t){return(0,o.Z)((0,o.Z)({},t),{},(0,c.Z)({},e.target.name,e.target.value))}))};return(0,h.jsxs)("div",{className:v.Z.seating_modal,style:{minHeight:"23rem"},children:[(0,h.jsxs)("section",{className:v.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,h.jsx)("h6",{children:s("create_fees")}),(0,h.jsx)("button",{className:v.Z.next_btn,title:"Next",onClick:function(){var e=function(e){var t={};for(var n in e)e[n]||(t[n]="".concat(n," is required!"));return t}(x),t=!1;for(var i in e)if(i){t=!0;break}t?b(e):n(x)},children:s("next")})]}),(0,h.jsx)(m.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),(0,h.jsx)(r.Z,{labelText:s("department_fees_name"),placeholder:s("enter_fee_purpose"),name:"feeName",value:x.feeName,type:"text",onChange:S,errorShow:p.feeName}),(0,h.jsx)(r.Z,{labelText:s("amount"),placeholder:s("enter_fees_amount"),name:"feeAmount",value:x.feeAmount,type:"number",onChange:S,errorShow:p.feeAmount}),(0,h.jsx)(f.Z,{labelText:s("due_date"),placeholder:s("enter_fees_date"),name:"feeDate",value:x.feeDate,onDateFunction:function(e){if(!(0,_.A)(e)){var t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);g((function(e){return(0,o.Z)((0,o.Z)({},e),{},{feeDate:n})}))}},customStyleContainer:{position:"relative",width:"100%"},datePickerPosition:{top:"-13rem",left:"2rem"},errorShow:p.feeDate})]})},g=n(93433),j=n(11105),Z=n(34219),p=n(13355),b=n(98734),S=function(e){var t=e.onBack,n=e.bid,l=e.did,d=e.createFees,c=e.onResetAfterCreate,r=(0,u.$G)().t,f=(0,a.useState)(!0),_=(0,i.Z)(f,2),x=_[0],S=_[1],N=(0,a.useState)(!1),k=(0,i.Z)(N,2),y=k[0],C=k[1],I=(0,a.useState)([]),T=(0,i.Z)(I,2),E=T[0],w=T[1],A=(0,a.useState)([]),M=(0,i.Z)(A,2),O=M[0],D=M[1],L=(0,s.YQ)(),P=(0,i.Z)(L,1)[0],R=(0,s.lj)({data:{did:l,bid:n,page:1,limit:50},skip:!n||!l}),F=R.departmentAllClassMaster,B=R.departmentAllClassMasterRefetch;(0,a.useEffect)((function(){n&&l&&B()}),[n,l,B]),(0,a.useEffect)((function(){var e,t;null!==F&&void 0!==F&&null!==(e=F.classMaster)&&void 0!==e&&e.length?(w(null===F||void 0===F?void 0:F.classMaster),S(!1)):0===(null===F||void 0===F||null===(t=F.classMaster)||void 0===t?void 0:t.length)&&S(!1)}),[null===F||void 0===F?void 0:F.classMaster]);var G=function(e){null!==O&&void 0!==O&&O.includes(e)?D((function(t){return null===t||void 0===t?void 0:t.filter((function(t){return t!==e}))})):D((function(t){return[].concat((0,g.Z)(t),[e])}))};return(0,h.jsxs)("div",{className:v.Z.seating_modal,children:[(0,h.jsxs)("section",{className:v.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,h.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:t,alt:"back"}),(0,h.jsx)("h6",{children:r("select_classes")}),(0,h.jsx)("button",{className:v.Z.next_btn,title:"Save fees",onClick:function(){null!==O&&void 0!==O&&O.length&&(C((function(e){return!e})),P({did:l,fees:(0,o.Z)((0,o.Z)({},d),{},{ClassId:O})}).then((function(){c(),C((function(e){return!e}))})).catch((function(){C((function(e){return!e}))})))},children:r("save")})]}),(0,h.jsx)(m.Z,{customStyle:{width:"100%",marginTop:"0.5rem",marginBottom:"0.5rem"}}),null===E||void 0===E?void 0:E.map((function(e){var t;return null===e||void 0===e||null===(t=e.classDivision)||void 0===t?void 0:t.map((function(t){return(0,h.jsx)(p.Z,{cls:t,isMaster:!0,onSelect:G,classMaster:null===e||void 0===e?void 0:e.className,divisionId:O},t._id)}))})),!x&&!(null!==E&&void 0!==E&&E.length)&&(0,h.jsx)(Z.Z,{customStyleContainer:{marginTop:"4rem"},title:"No any class found",subtitle:"Please make sure you have created class."}),x&&(0,h.jsx)(j.Z,{}),y&&(0,h.jsx)(b.Z,{})]})};var N=function(e){var t=e.did,n=e.bid,s=e.onRefetch,l=e.onClose,c=(0,a.useState)("FEES_INFO"),r=(0,i.Z)(c,2),u=r[0],v=r[1],m=(0,a.useState)({feeName:"",feeAmount:"",feeDate:""}),f=(0,i.Z)(m,2),_=f[0],g=f[1];return(0,h.jsxs)(d.Z,{onClose:l,children:["FEES_INFO"===u&&(0,h.jsx)(x,{onClose:l,onGrabInfo:function(e){g((function(t){return(0,o.Z)((0,o.Z)({},t),e)})),v("SELECT_DIVISION")},feesInfo:{feeName:_.feeName,feeAmount:_.feeAmount,feeDate:_.feeDate}}),"SELECT_DIVISION"===u&&(0,h.jsx)(S,{onBack:function(){return v("EXAM_INFO")},did:t,bid:n,createFees:_,onResetAfterCreate:function(){s(),l(),g({feeName:"",feeAmount:"",feeDate:""}),v("FEES_INFO")}})]})},k=n(24582),y=n(12072),C=n(84489),I=n(87049),T=function(e){var t,n,s=e.onClose,l=e.did,d=e.onRefetch,c=e.openFeesMenu,v=(0,u.$G)().t,_=(0,a.useState)(!1),x=(0,i.Z)(_,2),g=x[0],j=x[1],Z=(0,a.useState)(!1),p=(0,i.Z)(Z,2),S=p[0],N=p[1],T=(0,k._6)(),E=(0,i.Z)(T,1)[0],w=(0,k.Em)(),A=(0,i.Z)(w,1)[0],M=(0,a.useState)({feeName:null!==(t=null===c||void 0===c?void 0:c.feeName)&&void 0!==t?t:"",feeDate:null!==(n=null===c||void 0===c?void 0:c.feeDate)&&void 0!==n?n:""}),O=(0,i.Z)(M,2),D=O[0],L=O[1],P=(0,a.useState)(""),R=(0,i.Z)(P,2),F=R[0],B=R[1];return(0,h.jsx)(h.Fragment,{children:S?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(C.Z,{onClose:function(){return N(!1)}}),(0,h.jsx)(y.Z,{customStyle:{zIndex:"1200"},children:(0,h.jsxs)("div",{className:I.Z.edit_modal_container,style:{width:"30rem",minHeight:"10rem",height:"auto"},children:[(0,h.jsx)("h6",{className:I.Z.edit,onClick:function(){return N((function(e){return!e}))},children:v("update_fees")}),(0,h.jsx)(m.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),(0,h.jsx)(r.Z,{labelText:v("fees_name_edit"),placeholder:v("fees_name_placeholder"),name:"feeName",value:D.feeName,type:"text",errorShow:F.feeName,onChange:function(e){L((function(t){return(0,o.Z)((0,o.Z)({},t),{},{feeName:e.target.value})}))},customStyleContainer:{width:"100%"}}),(0,h.jsx)(f.Z,{labelText:v("select_fees_date"),placeholder:v("select_fees_date_placeholder"),name:"feeDate",value:D.feeDate,onDateFunction:function(e){var t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);L((function(e){return(0,o.Z)((0,o.Z)({},e),{},{feeDate:n})}))},errorShow:F.feeDate,customStyleContainer:{position:"relative",width:"100%"},datePickerPosition:{top:"-1rem"}}),(0,h.jsx)("button",{className:I.Z.xlsx_update_btn,title:"Update",onClick:function(){var e=function(e){var t={};for(var n in e)e[n]||(t[n]=" ".concat(n," is required!"));return t}(D),t=!1;for(var n in e)if(n){t=!0;break}t?B(e):(j((function(e){return!e})),N(!1),A({fid:null===c||void 0===c?void 0:c._id,updateFees:D}).then((function(){d(),j((function(e){return!e})),s()})).catch({}))},style:{justifyContent:"center",marginTop:"1rem"},children:v("update")})]})})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(C.Z,{onClose:s}),(0,h.jsxs)(y.Z,{customStyle:{zIndex:"1200"},children:[(0,h.jsxs)("div",{className:I.Z.edit_modal_container,style:{width:"200px"},children:[(0,h.jsx)("h6",{className:I.Z.edit,onClick:function(){return N((function(e){return!e}))},children:"Edit"}),(0,h.jsx)("h6",{className:I.Z.remove,onClick:function(){j((function(e){return!e})),E({did:l,fid:null===c||void 0===c?void 0:c._id}).then((function(){d(),s(),j((function(e){return!e}))})).catch({})},children:"Delete"})]}),g&&(0,h.jsx)(b.Z,{})]})]})})},E="List_exam_card_container__Uviom",w="List_exam_inner_text__ViVMz",A="List_menu_icon__boy56",M="List_fees_image__ypsom",O=function(e){var t,n,s=e.fees,l=e.onRefetch,o=e.did,d=(0,a.useState)(""),c=(0,i.Z)(d,2),r=c[0],u=c[1];return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:E,children:[(0,h.jsx)("img",{src:"/images/members/fees-icon.svg",alt:"fees icon",className:M}),(0,h.jsxs)("div",{className:w,children:[(0,h.jsxs)("h6",{children:["Rs. ",null!==(t=null===s||void 0===s?void 0:s.feeAmount)&&void 0!==t?t:0,"/-"]}),(0,h.jsxs)("p",{children:[null!==(n=null===s||void 0===s?void 0:s.feeName)&&void 0!==n?n:""," "]})]}),(0,h.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(){return u(s)},className:A,title:"Menu"})]}),r&&(0,h.jsx)(T,{did:o,onRefetch:l,openFeesMenu:r,onClose:function(){return u("")}})]})};var D=function(e){var t,n,o,d=e.did,c=e.bid,r=(0,u.$G)().t,v=(0,a.useState)(!1),f=(0,i.Z)(v,2),_=f[0],x=f[1],g=(0,a.useState)(!0),p=(0,i.Z)(g,2),b=p[0],S=p[1],k=(0,a.useState)([]),y=(0,i.Z)(k,2),C=y[0],I=y[1],T=(0,a.useState)(!1),E=(0,i.Z)(T,2),w=E[0],A=E[1],M=(0,s.bP)({data:{did:d,page:1,limit:20},skip:!d}),D=M.departmentAllFees,L=M.departmentAllFeesRefetch;(0,a.useEffect)((function(){d&&L()}),[d,L]),(0,a.useEffect)((function(){var e,t,n,i,a;null!==D&&void 0!==D&&null!==(e=D.depart)&&void 0!==e&&null!==(t=e.fees)&&void 0!==t&&t.length?(I(null===D||void 0===D||null===(a=D.depart)||void 0===a?void 0:a.fees),S(!1)):0===(null===D||void 0===D||null===(n=D.depart)||void 0===n||null===(i=n.fees)||void 0===i?void 0:i.length)&&S(!1)}),[null===D||void 0===D||null===(t=D.depart)||void 0===t?void 0:t.fees]);var P=function(){x((function(e){return!e}))};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:l.Z.exam_container,children:[(0,h.jsxs)("div",{className:l.Z.with_search,children:[(0,h.jsx)("h6",{children:r("previous_fees_list")}),(0,h.jsx)("section",{className:l.Z.search_container,children:(0,h.jsxs)("div",{className:l.Z.search_container_input,children:[(0,h.jsx)("img",{className:l.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,h.jsx)("input",{type:"text",placeholder:"Search fees...",onChange:function(e){if(e.target.value){var t,n,i=null===D||void 0===D||null===(t=D.depart)||void 0===t||null===(n=t.fees)||void 0===n?void 0:n.filter((function(t){var n,i,a;return null!==t&&void 0!==t&&null!==(n=t.feeName)&&void 0!==n&&null!==(i=n.toLowerCase())&&void 0!==i&&i.includes(null===(a=e.target.value)||void 0===a?void 0:a.toLowerCase())?t:null}));0===(null===i||void 0===i?void 0:i.length)?A(!0):A(!1),I(i)}else{var a;A(!1),I(null===D||void 0===D||null===(a=D.depart)||void 0===a?void 0:a.fees)}}})]})})]}),(0,h.jsx)(m.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,h.jsx)("div",{className:l.Z.add_new_container,children:(0,h.jsx)("p",{className:l.Z.add_new_exam,onClick:P,children:r("create_new_fees")})}),null===C||void 0===C?void 0:C.map((function(e){return(0,h.jsx)(O,{fees:e,onRefetch:L,did:d},e._id)})),!b&&!(null!==D&&void 0!==D&&null!==(n=D.depart)&&void 0!==n&&null!==(o=n.fees)&&void 0!==o&&o.length)&&(0,h.jsx)(Z.Z,{customStyleContainer:{marginTop:"9rem"},title:"No any fees found",subtitle:"Please make sure you have created fees."}),w&&(0,h.jsx)(Z.Z,{customStyleContainer:{marginTop:"9rem"},title:"No any search found"}),b&&(0,h.jsx)(j.Z,{})]}),_&&(0,h.jsx)(N,{did:d,bid:c,onRefetch:L,onClose:P})]})}},13355:function(e,t,n){n(72791);var i=n(60163),a=n(80184);t.Z=function(e){var t,n=e.cls,s=e.classMaster,l=e.onSelect,o=e.divisionId;return(0,a.jsxs)("div",{className:null!==o&&void 0!==o&&o.includes(null===n||void 0===n?void 0:n._id)?"".concat(i.Z.class_container," ").concat(i.Z.class_container_active):i.Z.class_container,title:"Select class",onClick:function(){return l(null===n||void 0===n?void 0:n._id)},style:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"1rem"},children:[(0,a.jsx)("img",{src:"/images/master-24-grey-icon.svg",alt:"classes icon"}),(0,a.jsxs)("h6",{children:[null!==s&&void 0!==s?s:""," - ",null!==(t=null===n||void 0===n?void 0:n.classTitle)&&void 0!==t?t:""]})]})}},16796:function(e,t,n){var i=n(1413),a=(n(72791),n(16871)),s=n(43504),l=n(80184);t.Z=function(e){var t=e.carryParentState,n=e.activeTab,o=e.children,d=(0,a.UO)();return(0,l.jsx)(s.rU,{to:"/q/".concat(d.username,"/member/exam?a=").concat(n),state:(0,i.Z)({},t),children:o})}},12923:function(e,t,n){n.d(t,{Ec:function(){return Z},Em:function(){return S},JM:function(){return f},NS:function(){return l},Pg:function(){return _},Q_:function(){return j},RH:function(){return m},Tv:function(){return c},U_:function(){return g},VN:function(){return o},Wj:function(){return u},ZS:function(){return v},_8:function(){return p},d5:function(){return r},tB:function(){return x},vI:function(){return b},yx:function(){return d},zO:function(){return h}});var i=n(29439),a=n(91007),s=n(58208),l=function(e){var t=(0,s.YD)(e.search,{skip:e.skip});return{instituteAllSearch:t.data,instituteAllSearchRefetch:t.refetch}},o=function(){var e=(0,s.ak)();return[(0,i.Z)(e,1)[0]]},d=function(){var e=(0,s.WL)();return[(0,i.Z)(e,1)[0]]},c=function(e){var t=(0,s.pH)(e.list,{skip:e.skip});return{instituteFollowList:t.data,instituteFollowListRefetch:t.refetch}},r=function(e){var t=(0,s.MG)(e.data,{skip:e.skip});return{instituteOwnFollowingList:t.data,instituteOwnFollowingListRefetch:t.refetch}},u=function(){var e=(0,s.Ky)();return[(0,i.Z)(e,1)[0]]},v=function(e){var t=(0,s.p8)(e.list);return{userFollowList:t.data,userFollowListRefetch:t.refetch}},m=function(e){var t=(0,s.Wv)(e);return{userFollowingList:t.data,userFollowingListRefetch:t.refetch}},f=function(e){var t=(0,s.sz)(e.search,{skip:e.skip});return{userAllSearch:t.data,userAllSearchRefetch:t.refetch}},_=function(){var e=(0,s.Mk)();return[(0,i.Z)(e,1)[0]]},h=function(){var e=(0,s.$i)();return[(0,i.Z)(e,1)[0]]},x=function(){var e=(0,s.Do)();return[(0,i.Z)(e,1)[0]]},g=function(){var e=(0,s.He)();return[(0,i.Z)(e,1)[0]]},j=function(){var e=(0,s.vg)();return[(0,i.Z)(e,1)[0]]},Z=function(){var e=(0,s.OO)();return[(0,i.Z)(e,1)[0]]},p=function(e){var t=(0,s.N2)(e);return{userCircleList:t.data,userCircleListRefetch:t.refetch}},b=function(e){var t=(0,a.x6)(e.search,{skip:e.skip});return{assignSearchStaff:t.data,assignSearchStaffRefetch:t.refetch}},S=function(e){var t=(0,s.SJ)(e);return{universalUser:t.data,universalUserRefetch:t.refetch}}},39445:function(){},52124:function(e,t){t.Z={assign_title:"AssignStaffModal_assign_title__4DGBV",assign_search_container:"AssignStaffModal_assign_search_container__3x6RD",assign_search_input:"AssignStaffModal_assign_search_input__rO3c7",assign_show_list:"AssignStaffModal_assign_show_list__yHhf7",assign_show_list_each:"AssignStaffModal_assign_show_list_each__ACUEw",assign_each_paragraph:"AssignStaffModal_assign_each_paragraph__pMHTq",universal_modal:"AssignStaffModal_universal_modal__czmpB"}},90443:function(e,t){t.Z={exam_container:"Exminations_exam_container__Lk1vK",with_search:"Exminations_with_search__cbDzW",search_container:"Exminations_search_container__DGBI7",search_container_input:"Exminations_search_container_input__+OlPG",searchIcon:"Exminations_searchIcon__FnLbh",search_container_filter:"Exminations_search_container_filter__yh2Dh",add_new_container:"Exminations_add_new_container__kMc0R",add_new_exam:"Exminations_add_new_exam__BZrNw"}}}]);
//# sourceMappingURL=7366.d2784c22.chunk.js.map