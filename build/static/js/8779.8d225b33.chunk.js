"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[8779],{28779:function(e,t,n){n.r(t),n.d(t,{default:function(){return W}});var i=n(93433),l=n(29439),o=n(72791),c=n(39230),r=n(29407),a=n(16871),s=n(23441),d=n(11105),u=n(72426),f=n.n(u),_=n(87932),m=n(98734),v=n(12072),x=n(84489),h=n(87049),p=n(97655),Z=n(98094),j=n(80184),k=function(e){var t,n=e.onEdit,i=e.xlsxId,r=(0,c.$G)().t,a=(0,o.useState)(null!==(t=null===i||void 0===i?void 0:i.excel_file_name)&&void 0!==t?t:""),s=(0,l.Z)(a,2),d=s[0],u=s[1],f=(0,o.useState)(""),_=(0,l.Z)(f,2),m=_[0],v=_[1];(0,o.useEffect)((function(){var e;u(null!==(e=null===i||void 0===i?void 0:i.excel_file_name)&&void 0!==e?e:"")}),[null===i||void 0===i?void 0:i.excel_file_name]);return(0,j.jsxs)("div",{style:{width:"20rem",minHeight:"10rem",padding:"1rem"},children:[(0,j.jsx)("h6",{children:r("update_excel_name")}),(0,j.jsx)(Z.Z,{customStyle:{width:"100%"}}),(0,j.jsx)(p.Z,{labelText:r("excel_name"),placeholder:r("excel_name_plcaeholder"),value:d,name:"excelName",type:"text",onChange:function(e){return u(e.target.value)},errorShow:m.excelName}),(0,j.jsx)("button",{className:h.Z.xlsx_update_btn,title:"Update",onClick:function(){d?n(d):v({excelName:"excelName is required"})},style:{justifyContent:"center",marginTop:"1rem"},children:r("update")})]})},g=function(e){var t=e.onClose,n=e.xlsxId,i=e.onRefetch,c=e.instituteId,r=(0,o.useState)(!1),a=(0,l.Z)(r,2),s=a[0],d=a[1],u=(0,o.useState)(!1),f=(0,l.Z)(u,2),p=f[0],Z=f[1],g=(0,_.jd)(),b=(0,l.Z)(g,1)[0],S=(0,_.db)(),C=(0,l.Z)(S,1)[0];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(x.Z,{onClose:t}),(0,j.jsxs)(v.Z,{customStyle:{zIndex:"1200"},children:[p?(0,j.jsx)(k,{xlsxId:n,onEdit:function(e){d((function(e){return!e})),C({id:c,xlsxId:null===n||void 0===n?void 0:n._id,excelUpdate:{excel_file_name:e}}).then((function(){i(),d((function(e){return!e})),t()})).catch({})}}):(0,j.jsxs)("div",{className:h.Z.edit_modal_container,style:{width:"200px"},children:[(0,j.jsx)("h6",{className:h.Z.edit,onClick:function(){return Z((function(e){return!e}))},children:"Edit"}),(0,j.jsx)("h6",{className:h.Z.remove,onClick:function(){d((function(e){return!e})),b({id:c,xlsxId:null===n||void 0===n?void 0:n._id}).then((function(){i(),t(),d((function(e){return!e}))})).catch({})},children:"Delete"})]}),s&&(0,j.jsx)(m.Z,{})]})]})},b=n(1413),S=n(36665),C=n(91022),y=n(59965),N="TransactionFilter_transaction_container__DjvEs",w="TransactionFilter_filter_tab__ti7xV",F="TransactionFilter_filter_tab_active__lf5Tp",P="TransactionFilter_row_field__FD-ef",T="TransactionFilter_filter_or__AcPJJ",R="TransactionFilter_filter_data_btn__mVN8G",D=function(e){var t=e.onFilterData,n=(0,c.$G)().t,i=(0,o.useState)({tab_flow:"BY_DATE",timeline:"false",timeline_content:"",from:"",to:"",fee_type:"",fee_mode:""}),r=(0,l.Z)(i,2),a=r[0],s=r[1];return(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:P,children:[(0,j.jsx)(y.Z,{labelText:n("filter_from"),placeholder:n("select_date"),name:"from",value:a.from,onDateFunction:function(e){var t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);s((function(e){return(0,b.Z)((0,b.Z)({},e),{},{from:n})}))},customStyleContainer:{position:"relative",width:"48%"},datePickerPosition:{top:"-1rem"}}),(0,j.jsx)(y.Z,{labelText:n("filter_to"),placeholder:n("select_date"),name:"from",value:a.to,onDateFunction:function(e){var t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);s((function(e){return(0,b.Z)((0,b.Z)({},e),{},{to:n})}))},customStyleContainer:{position:"relative",width:"48%"},datePickerPosition:{top:"-1rem",left:"-7rem"}})]}),(0,j.jsx)(Z.Z,{customStyle:{width:"100%",marginTop:"1.5rem",marginBottom:"0.5rem"}}),(0,j.jsx)("h6",{className:T,children:n("filter_or")}),(0,j.jsx)(C.Z,{selectLabel:n("filter_select_timeline"),selectedValue:n("filter_select_timeline_placeholder"),options:["Past Week","Past Month","Past Year"],onClick:function(e){s((function(t){return(0,b.Z)((0,b.Z)({},t),{},{timeline:!0,timeline_content:e})}))},value:a.timeline_content}),(0,j.jsx)("button",{className:R,onClick:function(){t(a)},children:n("filter_data")})]})},I=function(e){var t=e.onFilterData,n=(0,c.$G)().t,i=(0,o.useState)({tab_flow:"BY_EXPENSES",timeline:"false",timeline_content:"",from:"",to:"",fee_type:"",fee_mode:""}),r=(0,l.Z)(i,2),a=r[0],s=r[1];return(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:P,children:[(0,j.jsx)(y.Z,{labelText:n("filter_from"),placeholder:n("select_date"),name:"from",value:a.from,onDateFunction:function(e){var t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);s((function(e){return(0,b.Z)((0,b.Z)({},e),{},{from:n})}))},customStyleContainer:{position:"relative",width:"48%"},datePickerPosition:{top:"-1rem"}}),(0,j.jsx)(y.Z,{labelText:n("filter_to"),placeholder:n("select_date"),name:"from",value:a.to,onDateFunction:function(e){var t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);s((function(e){return(0,b.Z)((0,b.Z)({},e),{},{to:n})}))},customStyleContainer:{position:"relative",width:"48%"},datePickerPosition:{top:"-1rem",left:"-7rem"}})]}),(0,j.jsx)(Z.Z,{customStyle:{width:"100%",marginTop:"1.5rem",marginBottom:"0.5rem"}}),(0,j.jsx)("h6",{className:T,children:n("filter_or")}),(0,j.jsx)(C.Z,{selectLabel:n("filter_select_timeline"),selectedValue:n("filter_select_timeline_placeholder"),options:["Past Week","Past Month","Past Year"],onClick:function(e){s((function(t){return(0,b.Z)((0,b.Z)({},t),{},{timeline:!0,timeline_content:e})}))},value:a.timeline_content}),(0,j.jsx)("button",{className:R,onClick:function(){t(a)},children:n("filter_data")})]})},E=function(e){var t=e.onFilterData,n=(0,c.$G)().t,i=(0,o.useState)({tab_flow:"BY_FEE_TYPE",timeline:"false",timeline_content:"",from:"",to:"",fee_type:"",fee_mode:""}),r=(0,l.Z)(i,2),a=r[0],s=r[1];return(0,j.jsxs)("div",{children:[(0,j.jsx)(C.Z,{selectLabel:n("filter_select_fee_mode"),selectedValue:n("filter_select_fee_mode_placeholder"),options:["Online","Offline","By Bank","By Cash"],onClick:function(e){s((function(t){return(0,b.Z)((0,b.Z)({},t),{},{timeline:!1,fee_mode:e})}))},value:a.fee_mode}),(0,j.jsx)(C.Z,{selectLabel:n("filter_select_fee_type"),selectedValue:n("filter_select_fee_type_placeholder"),options:["Admission Fees","Expense","Income","Internal Fees","Admission"],onClick:function(e){s((function(t){return(0,b.Z)((0,b.Z)({},t),{},{timeline:!1,fee_type:e})}))},value:a.fee_type}),(0,j.jsxs)("div",{className:P,children:[(0,j.jsx)(y.Z,{labelText:n("filter_from"),placeholder:n("select_date"),name:"from",value:a.from,onDateFunction:function(e){var t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);s((function(e){return(0,b.Z)((0,b.Z)({},e),{},{from:n})}))},customStyleContainer:{position:"relative",width:"48%"},datePickerPosition:{top:"-11rem"}}),(0,j.jsx)(y.Z,{labelText:n("filter_to"),placeholder:n("select_date"),name:"from",value:a.to,onDateFunction:function(e){var t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);s((function(e){return(0,b.Z)((0,b.Z)({},e),{},{to:n})}))},customStyleContainer:{position:"relative",width:"48%"},datePickerPosition:{top:"-11rem",left:"-7rem"}})]}),(0,j.jsx)("button",{className:R,onClick:function(){t(a)},children:n("filter_data")})]})},A=function(e){var t=e.onFilterData,n=(0,c.$G)().t,i=(0,o.useState)({tab_flow:"BY_INCOMES",timeline:"false",timeline_content:"",from:"",to:"",fee_type:"",fee_mode:""}),r=(0,l.Z)(i,2),a=r[0],s=r[1];return(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:P,children:[(0,j.jsx)(y.Z,{labelText:n("filter_from"),placeholder:n("select_date"),name:"from",value:a.from,onDateFunction:function(e){var t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);s((function(e){return(0,b.Z)((0,b.Z)({},e),{},{from:n})}))},customStyleContainer:{position:"relative",width:"48%"},datePickerPosition:{top:"-1rem"}}),(0,j.jsx)(y.Z,{labelText:n("filter_to"),placeholder:n("select_date"),name:"from",value:a.to,onDateFunction:function(e){var t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);s((function(e){return(0,b.Z)((0,b.Z)({},e),{},{to:n})}))},customStyleContainer:{position:"relative",width:"48%"},datePickerPosition:{top:"-1rem",left:"-7rem"}})]}),(0,j.jsx)(Z.Z,{customStyle:{width:"100%",marginTop:"1.5rem",marginBottom:"0.5rem"}}),(0,j.jsx)("h6",{className:T,children:n("filter_or")}),(0,j.jsx)(C.Z,{selectLabel:n("filter_select_timeline"),selectedValue:n("filter_select_timeline_placeholder"),options:["Past Week","Past Month","Past Year"],onClick:function(e){s((function(t){return(0,b.Z)((0,b.Z)({},t),{},{timeline:!0,timeline_content:e})}))},value:a.timeline_content}),(0,j.jsx)("button",{className:R,onClick:function(){t(a)},children:n("filter_data")})]})},B=function(e){var t=e.onClose,n=e.instituteId,i=e.viewAs,r=e.onRefetch,a=(0,c.$G)().t,s=(0,o.useState)(!0),d=(0,l.Z)(s,2),u=d[0],f=d[1],v=(0,o.useState)(!1),x=(0,l.Z)(v,2),h=x[0],p=x[1],Z=(0,o.useState)(0),k=(0,l.Z)(Z,2),g=k[0],C=k[1],y=(0,o.useState)({tab_flow:"",timeline:"false",timeline_content:"",from:"",to:"",fee_type:"",fee_mode:""}),P=(0,l.Z)(y,2),T=P[0],R=P[1],B=(0,_.SN)({data:(0,b.Z)({id:n},T),skip:u}),L=B.filterTransactionHistory,V=B.filterTransactionHistoryRefetch,M=function(e){p((function(e){return!e})),R(e),f(!1),V()};return(0,o.useEffect)((function(){null!==L&&void 0!==L&&L.message&&("EXPORT"===i&&r(),p((function(e){return!e})),t())}),[L]),(0,j.jsxs)(S.Z,{onClose:t,children:[(0,j.jsxs)("div",{className:N,children:[(0,j.jsx)("h6",{children:a("filter_transaction_data")}),(0,j.jsxs)("section",{className:w,children:[(0,j.jsx)("h6",{onClick:function(){return C(0)},className:0===g&&F,children:a("filter_date")}),(0,j.jsx)("h6",{onClick:function(){return C(1)},className:1===g&&F,children:a("filter_fee_type")}),(0,j.jsx)("h6",{onClick:function(){return C(2)},className:2===g&&F,children:a("filter_expense")}),(0,j.jsx)("h6",{onClick:function(){return C(3)},className:3===g&&F,children:a("filter_incomes")})]}),0===g&&(0,j.jsx)(D,{onFilterData:M}),1===g&&(0,j.jsx)(E,{onFilterData:M}),2===g&&(0,j.jsx)(I,{onFilterData:M}),3===g&&(0,j.jsx)(A,{onFilterData:M})]}),h&&(0,j.jsx)(m.Z,{})]})},L=n(78687),V=n(33992),M=n(41233),H=n(38733),G=function(e){var t=e.selectLabel,n=e.onClick,i=e.selectedValue,r=e.options,a=e.customStyleContainer,s=e.customLabelStyle,d=e.customListStyle,u=e.openAs,f=e.errorShow,_=(0,c.$G)().t,m=(0,o.useState)(!1),v=(0,l.Z)(m,2),x=v[0],h=v[1],p=(0,o.useState)(""),Z=(0,l.Z)(p,2),k=Z[0],g=Z[1],S=function(){h((function(e){return!e}))},C=function(e){n(e),S()};return(0,j.jsxs)("div",{className:H.Z.join_form_container,style:(0,b.Z)({},a),children:[(0,j.jsxs)("p",{className:H.Z.join_form_select_paragraph,style:(0,b.Z)({},s),children:[t,f&&(0,j.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",_("form_require_label")]})]}),(0,j.jsxs)("section",{className:H.Z.join_form_select_custom,onClick:S,children:[k?(0,j.jsx)("p",{className:H.Z.join_form_select_custom_paragraph,children:null!==k&&void 0!==k?k:""}):(0,j.jsx)("p",{className:H.Z.join_form_select_custom_paragraph,children:i}),(0,j.jsx)("img",{className:H.Z.join_form_select_custom_icon,src:"/images/down-icon.svg",alt:"categor icon"})]}),x&&(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("section",{className:H.Z.join_form_select_custom_list,style:d?(0,b.Z)({},d):(null===r||void 0===r?void 0:r.length)>2?{overflowY:"scroll"}:{backgroundColor:"#ffffff"},children:null===r||void 0===r?void 0:r.map((function(e,t){var n;return(0,j.jsx)("p",{onClick:function(){var t;C("PROMOTE"===u?e:null!==e&&void 0!==e&&e._id?null===e||void 0===e?void 0:e._id:e),g(null!==(t=null===e||void 0===e?void 0:e.unique_structure_name)&&void 0!==t?t:e)},className:H.Z.join_form_select_custom_paragraph_option,children:null!==(n=null===e||void 0===e?void 0:e.unique_structure_name)&&void 0!==n?n:e},t)}))})})]})},O=function(e){var t,n,i,r,a=e.onClose,s=e.financeId,d=e.instituteId,u=(0,c.$G)().t,f=(0,L.useSelector)((function(e){return e.financeChange})),v=(0,o.useState)(!1),x=(0,l.Z)(v,2),h=x[0],p=x[1],k=(0,o.useState)(!0),g=(0,l.Z)(k,2),w=g[0],F=g[1],D=(0,o.useState)({timeline:"false",timeline_content:"",from:"",to:"",fsid:"",depart:"",bank:""}),I=(0,l.Z)(D,2),E=I[0],A=I[1],B=(0,o.useState)(""),H=(0,l.Z)(B,2),O=H[0],Y=H[1],$=(0,_.mF)({data:(0,b.Z)({fid:f.fid?f.fid:s},E),skip:w}),q=$.filterFeeHeadReceipt,W=$.filterFeeHeadReceiptRefetch,U=(0,V.Zi)({id:f.insId?f.insId:d,skip:f.insId?!d:!f.insId}),J=U.allDepartment,z=U.allDepartmentRefetch,X=(0,_.o9)({data:{fid:f.fid,page:1,limit:1e3,search:""},skip:!f.fid}),K=X.getAllBankByFinance,Q=X.getAllBankByFinanceRefetch,ee=(0,_.rU)({data:{did:E.depart,filterBy:"",page:1,limit:1e3,batch_by:""},skip:!E.depart}),te=ee.getAllFeesStructure,ne=ee.getAllFeesStructureRefetch;o.useEffect((function(){f.fid&&Q()}),[f.fid,Q]),o.useEffect((function(){(f.insId||d)&&z()}),[f.insId,d,z]),(0,o.useEffect)((function(){E.depart&&ne()}),[E.depart,ne]);(0,o.useEffect)((function(){null!==q&&void 0!==q&&q.message&&(p((function(e){return!e})),a())}),[q]);return(0,j.jsxs)(S.Z,{onClose:a,children:[(0,j.jsxs)("div",{className:N,children:[(0,j.jsx)("h6",{children:u("filter_by_fee_head")}),(0,j.jsx)(M.Z,{selectLabel:"Select Bank",selectedValue:"Please select Bank",options:null!==(t=null===K||void 0===K?void 0:K.all_accounts)&&void 0!==t?t:[],value:"",onClick:function(e){A((function(t){return(0,b.Z)((0,b.Z)({},t),{},{bank:null===e||void 0===e?void 0:e._id})}))},openAs:"PROMOTE",errorShow:O.bank}),(0,j.jsx)(M.Z,{selectLabel:u("select_department"),selectedValue:u("select_department"),options:null!==(n=null===J||void 0===J||null===(i=J.institute)||void 0===i?void 0:i.depart)&&void 0!==n?n:[],onClick:function(e){A((function(t){return(0,b.Z)((0,b.Z)({},t),{},{depart:e})}))},value:E.depart}),(0,j.jsx)(G,{selectLabel:u("filter_select_fee_structure"),selectedValue:u("filter_select_fee_structure_placeholder"),options:null!==(r=null===te||void 0===te?void 0:te.all_structures)&&void 0!==r?r:[],onClick:function(e){A((function(t){return(0,b.Z)((0,b.Z)({},t),{},{fsid:e})}))},value:E.fsid}),(0,j.jsxs)("div",{className:P,children:[(0,j.jsx)(y.Z,{labelText:u("filter_from"),placeholder:u("select_date"),name:"from",value:E.from,onDateFunction:function(e){var t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);A((function(e){return(0,b.Z)((0,b.Z)({},e),{},{from:n})}))},customStyleContainer:{position:"relative",width:"48%"},datePickerPosition:{top:"-1rem"}}),(0,j.jsx)(y.Z,{labelText:u("filter_to"),placeholder:u("select_date"),name:"from",value:E.to,onDateFunction:function(e){var t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);A((function(e){return(0,b.Z)((0,b.Z)({},e),{},{to:n})}))},customStyleContainer:{position:"relative",width:"48%"},datePickerPosition:{top:"-1rem",left:"-7rem"}})]}),(0,j.jsx)(Z.Z,{customStyle:{width:"100%",marginTop:"1.5rem",marginBottom:"0.5rem"}}),(0,j.jsx)("h6",{className:T,children:u("filter_or")}),(0,j.jsx)(C.Z,{selectLabel:u("filter_select_timeline"),selectedValue:u("filter_select_timeline_placeholder"),options:["Past Week","Past Month","Past Year"],onClick:function(e){A((function(t){return(0,b.Z)((0,b.Z)({},t),{},{timeline:!0,timeline_content:e})}))},value:E.timeline_content}),(0,j.jsx)("button",{className:R,onClick:function(){var e=function(e){var t={};for(var n in e)e[n]||(t[n]="".concat(n," is required!"));return t}({bank:E.bank}),t=!1;for(var n in e)if(n){t=!0;break}t?Y(e):(p((function(e){return!e})),F(!1),W())},children:u("filter_data")})]}),h&&(0,j.jsx)(m.Z,{})]})},Y=n(65543),$=n(87338),q=function(e){var t,n,i=e.onClose,r=e.financeId,a=e.hostelId,s=(0,c.$G)().t,d=(0,L.useSelector)((function(e){return e.financeChange})),u=(0,o.useState)(!1),f=(0,l.Z)(u,2),v=f[0],x=f[1],h=(0,o.useState)(!0),p=(0,l.Z)(h,2),k=p[0],g=p[1],w=(0,o.useState)({timeline:"false",timeline_content:"",from:"",to:"",fsid:"",depart:""}),F=(0,l.Z)(w,2),D=F[0],I=F[1],E=(0,_.__)({data:(0,b.Z)({fid:d.fid?d.fid:r},D),skip:k}),A=E.filterHostelFeeHeadReceipt,B=E.filterHostelFeeHeadReceiptRefetch,V=(0,$.RO)({data:{hid:a,page:1,limit:1e3,search:""},skip:!a}),H=V.getHostelUnitList,O=V.getHostelUnitListRefetch,Y=(0,$.Sz)({data:{hid:a,page:1,limit:1e3,filter_by:"",master_by:""},skip:!a}),q=Y.getHostelFeeStructureList,W=Y.getHostelFeeStructureListRefetch;o.useEffect((function(){a&&(O(),W())}),[a,O]);(0,o.useEffect)((function(){null!==A&&void 0!==A&&A.message&&(x((function(e){return!e})),i())}),[A]);return(0,j.jsxs)(S.Z,{onClose:i,children:[(0,j.jsxs)("div",{className:N,children:[(0,j.jsx)("h6",{children:s("filter_by_fee_head")}),(0,j.jsx)(M.Z,{selectLabel:s("select_unit"),selectedValue:s("select_unit"),options:null!==(t=null===H||void 0===H?void 0:H.all_units)&&void 0!==t?t:[],onClick:function(e){I((function(t){return(0,b.Z)((0,b.Z)({},t),{},{depart:e})}))},value:D.depart}),(0,j.jsx)(G,{selectLabel:s("filter_select_fee_structure"),selectedValue:s("filter_select_fee_structure_placeholder"),options:null!==(n=null===q||void 0===q?void 0:q.all_structures)&&void 0!==n?n:[],onClick:function(e){I((function(t){return(0,b.Z)((0,b.Z)({},t),{},{fsid:e})}))},value:D.fsid}),(0,j.jsxs)("div",{className:P,children:[(0,j.jsx)(y.Z,{labelText:s("filter_from"),placeholder:s("select_date"),name:"from",value:D.from,onDateFunction:function(e){var t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);I((function(e){return(0,b.Z)((0,b.Z)({},e),{},{from:n})}))},customStyleContainer:{position:"relative",width:"48%"},datePickerPosition:{top:"-1rem"}}),(0,j.jsx)(y.Z,{labelText:s("filter_to"),placeholder:s("select_date"),name:"from",value:D.to,onDateFunction:function(e){var t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);I((function(e){return(0,b.Z)((0,b.Z)({},e),{},{to:n})}))},customStyleContainer:{position:"relative",width:"48%"},datePickerPosition:{top:"-1rem",left:"-7rem"}})]}),(0,j.jsx)(Z.Z,{customStyle:{width:"100%",marginTop:"1.5rem",marginBottom:"0.5rem"}}),(0,j.jsx)("h6",{className:T,children:s("filter_or")}),(0,j.jsx)(C.Z,{selectLabel:s("filter_select_timeline"),selectedValue:s("filter_select_timeline_placeholder"),options:["Past Week","Past Month","Past Year"],onClick:function(e){I((function(t){return(0,b.Z)((0,b.Z)({},t),{},{timeline:!0,timeline_content:e})}))},value:D.timeline_content}),(0,j.jsx)("button",{className:R,onClick:function(){x((function(e){return!e})),g(!1),B()},children:s("filter_data")})]}),v&&(0,j.jsx)(m.Z,{})]})},W=function(e){var t=e.insId,n=e.financeId,u=e.hostelId,m=(0,c.$G)().t,v=(0,L.useSelector)((function(e){return e.financeChange.insId})),x=(0,a.s0)(),h=(0,s.YD)(),p=(0,l.Z)(h,2),k=p[0],b=p[1],S=(0,o.useState)(1),C=(0,l.Z)(S,2),y=C[0],N=C[1],w=(0,o.useState)(!0),F=(0,l.Z)(w,2),P=F[0],T=F[1],R=(0,o.useState)(!1),D=(0,l.Z)(R,2),I=D[0],E=D[1],A=(0,o.useState)(!0),V=(0,l.Z)(A,2),M=V[0],H=V[1],G=(0,o.useState)([]),$=(0,l.Z)(G,2),W=$[0],U=$[1],J=(0,o.useState)(!1),z=(0,l.Z)(J,2),X=z[0],K=z[1],Q=(0,o.useState)(!1),ee=(0,l.Z)(Q,2),te=ee[0],ne=ee[1],ie=(0,o.useState)(!1),le=(0,l.Z)(ie,2),oe=le[0],ce=le[1],re=(0,o.useState)(!1),ae=(0,l.Z)(re,2),se=ae[0],de=ae[1],ue=(0,_.WV)({data:{id:v||t,page:y,limit:10},skip:v?!v:!t}),fe=ue.getAllExcelByFinance,_e=ue.getAllExcelByFinanceRefetch,me=(0,Y.u)().scrollToTop;(0,o.useEffect)((function(){me()}),[]),(0,o.useEffect)((function(){(v||t)&&(H(!0),_e())}),[v,t,y,_e]),(0,o.useEffect)((function(){b&&P&&N((function(e){return e+1}))}),[b,P]),(0,o.useEffect)((function(){var e,t;I?(U(null===fe||void 0===fe?void 0:fe.all_excel),E(!1),H(!1)):null!==fe&&void 0!==fe&&fe.all_excel?(U((function(e){var t,n;return null===(t=(0,i.Z)(new Set(null===(n=[].concat((0,i.Z)(e),(0,i.Z)(null===fe||void 0===fe?void 0:fe.all_excel)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),H(!1)):0===(null===fe||void 0===fe||null===(t=fe.all_excel)||void 0===t?void 0:t.length)&&H(!1);10===(null===fe||void 0===fe||null===(e=fe.all_excel)||void 0===e?void 0:e.length)?T(!0):T(!1)}),[null===fe||void 0===fe?void 0:fe.all_excel]);var ve=function(){K((function(e){return!e}))},xe=function(){N(1),_e(),E(!0)},he=function(){ne((function(e){return!e}))},pe=function(){ce((function(e){return!e}))};return(0,j.jsxs)("div",{className:r.Z.refund_container,children:[(0,j.jsxs)("section",{className:r.Z.refund_container_title,children:[(0,j.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){x(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,j.jsxs)("div",{className:r.Z.refund_container_title,style:{justifyContent:"space-between",width:"95%"},children:[(0,j.jsx)("h6",{children:m("data_export")}),(0,j.jsxs)("div",{className:r.Z.both_filter,children:[(0,j.jsxs)("div",{onClick:pe,className:r.Z.both_filter_with_name,children:[(0,j.jsx)("img",{src:"/images/export-filter-icon.svg",alt:"filter icon"}),(0,j.jsx)("h6",{children:m("hostel_fee_receipt_filter")})]}),(0,j.jsxs)("div",{onClick:he,className:r.Z.both_filter_with_name,children:[(0,j.jsx)("img",{src:"/images/export-filter-icon.svg",alt:"filter icon"}),(0,j.jsx)("h6",{children:m("fee_receipt_filter")})]}),(0,j.jsxs)("div",{onClick:ve,className:r.Z.both_filter_with_name,children:[(0,j.jsx)("img",{src:"/images/export-filter-icon.svg",alt:"filter icon"}),(0,j.jsx)("h6",{children:m("transaction_filter")})]})]})]})]}),(0,j.jsx)(Z.Z,{customStyle:{width:"100%"}}),(0,j.jsxs)("div",{className:r.Z.refund_list,children:[null===W||void 0===W?void 0:W.map((function(e,t){var n,i;return(null===W||void 0===W?void 0:W.length)===t+1?(0,j.jsxs)("a",{ref:k,className:r.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,j.jsx)("img",{src:"/images/export-xsxl-icon.svg",alt:""}),(0,j.jsxs)("section",{className:r.Z.export_card_text,children:[(0,j.jsx)("h6",{children:null!==(n=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==n?n:""}),(0,j.jsxs)("div",{className:r.Z.export_card_date,children:[(0,j.jsx)("h6",{children:f()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,j.jsx)("h6",{children:f()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]}),(0,j.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(t){t.preventDefault(),de(e)},className:r.Z.menu_icon,title:"Menu"})]},null===e||void 0===e?void 0:e._id):(0,j.jsxs)("a",{className:r.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,j.jsx)("img",{src:"/images/export-xsxl-icon.svg",alt:""}),(0,j.jsxs)("section",{className:r.Z.export_card_text,children:[(0,j.jsx)("h6",{children:null!==(i=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==i?i:""}),(0,j.jsxs)("div",{className:r.Z.export_card_date,children:[(0,j.jsx)("h6",{children:f()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,j.jsx)("h6",{children:f()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]}),(0,j.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(t){t.preventDefault(),de(e)},className:r.Z.menu_icon,title:"Menu"})]},null===e||void 0===e?void 0:e._id)})),M&&(0,j.jsx)(d.Z,{}),X&&(0,j.jsx)(B,{instituteId:v||t,onClose:ve,viewAs:"EXPORT",onRefetch:xe}),se&&(0,j.jsx)(g,{xlsxId:se,onClose:function(){return de("")},onRefetch:xe,instituteId:v||t}),te&&(0,j.jsx)(O,{onClose:he,financeId:n,instituteId:t}),oe&&(0,j.jsx)(q,{onClose:pe,financeId:n,hostelId:u})]})]})}},29407:function(e,t){t.Z={refund_container:"AdmisisonRefund_refund_container__BTIz6",refund_container_title:"AdmisisonRefund_refund_container_title__Rwwk9",refund_total:"AdmisisonRefund_refund_total__7rRiv",refund_card:"AdmisisonRefund_refund_card__M65Il",refund_card_text_container:"AdmisisonRefund_refund_card_text_container__jp-8T",refund_card_text:"AdmisisonRefund_refund_card_text__eVyEv",export_card:"AdmisisonRefund_export_card__xse7V",export_card_text:"AdmisisonRefund_export_card_text__4VVsl",export_card_date:"AdmisisonRefund_export_card_date__Wejoy",admission_filter_icon:"AdmisisonRefund_admission_filter_icon__5ncUR",menu_icon:"AdmisisonRefund_menu_icon__WdVbN",both_filter:"AdmisisonRefund_both_filter__k26Hu",both_filter_with_name:"AdmisisonRefund_both_filter_with_name__4eJUc"}}}]);
//# sourceMappingURL=8779.8d225b33.chunk.js.map