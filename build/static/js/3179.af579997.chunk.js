"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[3179],{51376:function(n,e,i){var l=i(29439),o=i(72791),t=i(11932),d=i(65379),u=i(32804),a=i(11105),s=i(29017),v=i(36721),r=i(98734),c=i(80184);e.Z=function(n){var e,i=n.viewAs,_=n.sudentAdmissionFeesList,m=n.sudentAdmissionFeesListRefetch,f=n.feesQueryRefetch,h=n.showingDataLoading,p=n.isFeesEditable,y=(0,o.useState)(!1),g=(0,l.Z)(y,2),b=g[0],k=g[1],x=(0,o.useState)(""),Z=(0,l.Z)(x,2),j=Z[0],F=Z[1],I=(0,o.useState)(!1),w=(0,l.Z)(I,2),C=w[0],A=w[1],S=(0,o.useState)({msg:"",run:!1}),T=(0,l.Z)(S,2),E=T[0],N=T[1],R=(0,s.fB)(),L=(0,l.Z)(R,1)[0],D=function(n){var e;A((function(n){return!n})),L({fid:null===n||void 0===n?void 0:n.financeId,aid:null===n||void 0===n||null===(e=n.install)||void 0===e?void 0:e.appId,flow:"Department"===(null===n||void 0===n?void 0:n.collectFlow)?"BY_DEPARTMENT":"BY_HOSTEL"}).then((function(e){var l,o;(A((function(n){return!n})),null!==e&&void 0!==e&&null!==(l=e.data)&&void 0!==l&&l.denied)?N({msg:"Before initiating payment. you must have a valid bank account to receive payment.",run:!0}):"STUDENT"===i&&null!==n&&void 0!==n&&null!==(o=n.install)&&void 0!==o&&o.isEnable&&(k(!0),F(n))})).catch({})};return(0,c.jsxs)("div",{className:u.Z.student_admission_fees_container,children:[null===_||void 0===_||null===(e=_.array)||void 0===e?void 0:e.map((function(n){return(0,c.jsx)(t.Z,{admission:n,viewAs:i,onAdmissionPaid:D,onAdmissionFeesRefetch:m,renderPageAs:"STUDENT_PROFILE",is_feesdata:!0})})),b&&(0,c.jsx)(d.Z,{installment:j,onAdmissionFeesRefetch:m,onFeesRefetch:f,hideModal:k,addDisplay:b,isFeesEditable:p}),h&&(0,c.jsx)(a.Z,{}),(0,c.jsx)(v.Ch,{msg:E.msg,run:E.run,setRun:function(){return N({msg:"",run:!1})},postiton:"bottom",type:"error"}),C&&(0,c.jsx)(r.Z,{})]})}},13179:function(n,e,i){i.r(e),i.d(e,{default:function(){return F}});var l=i(29439),o=i(72791),t=i(32804),d=i(39230),u=i(4195),a=i(80184),s=function(n){var e=n.value,i=n.onTabHandler,l=n.padiFees,o=n.remainingFees,s=n.applicableRemainingFees,v=n.scholarshipFees,r=(0,d.$G)().t;return(0,a.jsxs)("div",{className:t.Z.student_fees_header_container,children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:t.Z.student_fees_row_amount,children:[(0,a.jsxs)("h5",{children:[r("rs"),". ",null!==l&&void 0!==l?l:0]}),(0,a.jsx)("h6",{children:r("total_fees_paid")})]}),(0,a.jsxs)("div",{className:t.Z.student_fees_row_amount,style:{marginTop:"1rem"},children:[(0,a.jsxs)("h5",{children:[r("rs"),". ",null!==v&&void 0!==v?v:0]}),(0,a.jsx)("h6",{children:r("by_scholarship")})]})]}),(0,a.jsxs)("div",{className:t.Z.student_fees_header_column,children:[(0,a.jsx)(u.Z,{label:"admission_fees",currentValue:0,value:e,onClick:i,customStyleContainer:{marginRight:"2rem"}}),(0,a.jsx)(u.Z,{label:"department_fees",currentValue:1,value:e,onClick:i})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:t.Z.student_fees_row_amount,style:{alignItems:"flex-end"},children:[(0,a.jsxs)("h5",{style:{color:"#121212"},children:[r("rs"),". ",null!==o&&void 0!==o?o:0]}),(0,a.jsx)("h6",{children:r("remaining_fees")})]}),(0,a.jsxs)("div",{className:t.Z.student_fees_row_amount,style:{alignItems:"flex-end",marginTop:"1rem"},children:[(0,a.jsxs)("h5",{style:{color:"#121212"},children:[r("rs"),". ",null!==s&&void 0!==s?s:0]}),(0,a.jsx)("h6",{children:r("applicable_remaining")}),(0,a.jsx)("div",{children:r("to_be_paid_by_student")})]})]})]})},v=i(91007),r=i(80214),c=i(29017),_=i(87932),m=i(28497),f=i(51376),h=i(93433),p=i(59227),y=i(11105),g=i(34219),b=i(23441),k=function(n){var e=n.setAllContent,i=n.setCharges,d=n.sid,u=n.viewAs,s=(0,o.useState)(!0),v=(0,l.Z)(s,2),r=v[0],_=v[1],m=(0,o.useState)(1),f=(0,l.Z)(m,2),k=f[0],x=f[1],Z=(0,b.YD)(),j=(0,l.Z)(Z,2),F=j[0],I=j[1],w=(0,o.useState)([]),C=(0,l.Z)(w,2),A=C[0],S=C[1],T=(0,o.useState)(!1),E=(0,l.Z)(T,2),N=E[0],R=E[1],L=(0,o.useState)(!0),D=(0,l.Z)(L,2),P=D[0],B=D[1],M=(0,c.d9)({data:{sid:d,page:k,limit:10},skip:!d}),O=M.studentDepartmentFees,Y=M.studentDepartmentFeesRefetch;return(0,o.useEffect)((function(){I&&r&&x((function(n){return n+1}))}),[I,r]),(0,o.useEffect)((function(){d&&(Y(),B(!0))}),[k,d,Y]),(0,o.useEffect)((function(){var n,e;N?(S(null===O||void 0===O?void 0:O.all_internal),R(!1),B(!1)):null!==O&&void 0!==O&&O.all_internal?(S((function(n){return(0,h.Z)(new Set([].concat((0,h.Z)(n),(0,h.Z)(null===O||void 0===O?void 0:O.all_internal)).map(JSON.stringify))).map(JSON.parse)})),B(!1)):0===(null===O||void 0===O||null===(e=O.all_internal)||void 0===e?void 0:e.length)&&B(!1);10===(null===O||void 0===O||null===(n=O.all_internal)||void 0===n?void 0:n.length)?_(!0):_(!1)}),[null===O||void 0===O?void 0:O.all_internal]),(0,a.jsxs)("div",{className:t.Z.student_admission_fees_container,children:[null===A||void 0===A?void 0:A.map((function(n,l){var o,s,v,r,c,_,m,f,h,y,g,b,k,x,Z,j,I,w;return(null===A||void 0===A?void 0:A.length)===l+1?(0,a.jsx)("div",{className:t.Z.student_internal_card,ref:F,children:(0,a.jsx)(p.Z,{feesName:null===n||void 0===n?void 0:n.internal_fee_reason,amount:null===n||void 0===n?void 0:n.internal_fee_amount,dateOffCreation:null===n||void 0===n||null===(o=n.fees)||void 0===o?void 0:o.feeDate,is_paid:null===n||void 0===n?void 0:n.internal_fee_status,feesId:null===n||void 0===n?void 0:n._id,setAllContent:e,setCharges:i,is_checklist:"Checklist"===(null===n||void 0===n?void 0:n.internal_fee_type)||"Backlog"===(null===n||void 0===n?void 0:n.internal_fee_type)||"Library Fees"===(null===n||void 0===n?void 0:n.internal_fee_type),rid:null===n||void 0===n||null===(s=n.fee_receipt)||void 0===s?void 0:s._id,transactionDate:null===n||void 0===n||null===(v=n.fee_receipt)||void 0===v?void 0:v.created_at,transactionMode:null===n||void 0===n||null===(r=n.fee_receipt)||void 0===r?void 0:r.fee_payment_mode,moduleType:null===n||void 0===n?void 0:n.internal_fee_type,sid:d,viewAs:u,bookId:null!==(c=null===n||void 0===n?void 0:n.book)&&void 0!==c?c:"",validateId:null===n||void 0===n||null===(_=n.library)||void 0===_?void 0:_._id,financeId:null===n||void 0===n||null===(m=n.library)||void 0===m||null===(f=m.institute)||void 0===f||null===(h=f.financeDepart)||void 0===h?void 0:h[0]})},null===n||void 0===n?void 0:n._id):(0,a.jsx)("div",{className:t.Z.student_internal_card,children:(0,a.jsx)(p.Z,{feesName:null===n||void 0===n?void 0:n.internal_fee_reason,amount:null===n||void 0===n?void 0:n.internal_fee_amount,dateOffCreation:null===n||void 0===n||null===(y=n.fees)||void 0===y?void 0:y.feeDate,is_paid:null===n||void 0===n?void 0:n.internal_fee_status,feesId:null===n||void 0===n?void 0:n._id,setAllContent:e,setCharges:i,is_checklist:"Checklist"===(null===n||void 0===n?void 0:n.internal_fee_type)||"Backlog"===(null===n||void 0===n?void 0:n.internal_fee_type)||"Library Fees"===(null===n||void 0===n?void 0:n.internal_fee_type),rid:null===n||void 0===n||null===(g=n.fee_receipt)||void 0===g?void 0:g._id,transactionDate:null===n||void 0===n||null===(b=n.fee_receipt)||void 0===b?void 0:b.created_at,transactionMode:null===n||void 0===n||null===(k=n.fee_receipt)||void 0===k?void 0:k.fee_payment_mode,moduleType:null===n||void 0===n?void 0:n.internal_fee_type,sid:d,viewAs:u,bookId:null!==(x=null===n||void 0===n?void 0:n.book)&&void 0!==x?x:"",validateId:null===n||void 0===n||null===(Z=n.library)||void 0===Z?void 0:Z._id,financeId:null===n||void 0===n||null===(j=n.library)||void 0===j||null===(I=j.institute)||void 0===I||null===(w=I.financeDepart)||void 0===w?void 0:w[0]})},null===n||void 0===n?void 0:n._id)})),P&&(0,a.jsx)(y.Z,{}),!P&&0===(null===A||void 0===A?void 0:A.length)&&(0,a.jsx)(g.Z,{title:"No department fees created yet.",customStyleContainer:{height:"15rem"}})]})},x=i(71439),Z=i(64499),j=i(16871),F=function(n){var e,i,d,u,h,p,y,g,b,F,I,w,C,A,S=n.viewAs,T=n.sid,E=n.isFeesEditable,N=(0,j.UO)(),R=(0,o.useState)(0),L=(0,l.Z)(R,2),D=L[0],P=L[1],B=(0,o.useState)(!1),M=(0,l.Z)(B,2),O=M[0],Y=M[1],z=(0,o.useState)({amount:0,feesId:"",insId:"",type:"",bookId:""}),H=(0,l.Z)(z,2),K=H[0],V=H[1],$=(0,o.useState)(!0),J=(0,l.Z)($,2),U=J[0],q=J[1],G=(0,v.$J)("".concat(T),{skip:!T}),Q=G.data,W=G.refetch,X=(0,r.Rg)().data,nn=(0,r.gt)(),en=(0,l.Z)(nn,1)[0],ln=(0,c.Y$)({sid:T,skip:!T}),on=ln.sudentAdmissionFeesList,tn=ln.sudentAdmissionFeesListRefetch,dn=(0,_.Vc)({id:null===Q||void 0===Q||null===(e=Q.student)||void 0===e||null===(i=e.institute)||void 0===i?void 0:i._id,skip:!(null!==Q&&void 0!==Q&&null!==(d=Q.student)&&void 0!==d&&null!==(u=d.institute)&&void 0!==u&&u._id)}),un=dn.merchantId,an=dn.merchantIdRefetch;(0,o.useEffect)((function(){T&&(W(),tn(),q(!0))}),[T,tn,W]),(0,o.useEffect)((function(){var n,e;null!==Q&&void 0!==Q&&null!==(n=Q.student)&&void 0!==n&&null!==(e=n.institute)&&void 0!==e&&e._id&&an()}),[null===Q||void 0===Q||null===(h=Q.student)||void 0===h||null===(p=h.institute)||void 0===p?void 0:p._id,an]),(0,o.useEffect)((function(){var n;(null!==on&&void 0!==on&&on.array||0===(null===on||void 0===on||null===(n=on.array)||void 0===n?void 0:n.length))&&q(!1)}),[null===on||void 0===on?void 0:on.array]),(0,o.useEffect)((function(){var n;(null!==Q&&void 0!==Q&&Q.mergePay||0===(null===Q||void 0===Q||null===(n=Q.mergePay)||void 0===n?void 0:n.length))&&q(!1)}),[null===Q||void 0===Q?void 0:Q.mergePay]);var sn=function(n,e,i){return n+e+i};return(0,a.jsxs)("div",{className:t.Z.student_alll_fees_data,children:[(0,a.jsx)(s,{onTabHandler:function(n){P(n)},value:D,padiFees:sn((null===Q||void 0===Q||null===(y=Q.student)||void 0===y?void 0:y.studentPaidFeeCount)||0,(null===Q||void 0===Q||null===(g=Q.student)||void 0===g?void 0:g.admissionPaidFeeCount)||0,(null===Q||void 0===Q||null===(b=Q.student)||void 0===b?void 0:b.hostelPaidFeeCount)||0),remainingFees:sn((null===Q||void 0===Q||null===(F=Q.student)||void 0===F?void 0:F.studentRemainingFeeCount)||0,(null===Q||void 0===Q||null===(I=Q.student)||void 0===I?void 0:I.admissionRemainFeeCount)||0,(null===Q||void 0===Q||null===(w=Q.student)||void 0===w?void 0:w.hostelRemainFeeCount)||0),applicableRemainingFees:null===Q||void 0===Q||null===(C=Q.student)||void 0===C?void 0:C.applicable_fees_pending,scholarshipFees:null!==(A=null===Q||void 0===Q?void 0:Q.paid_by_government)&&void 0!==A?A:0}),0===D&&(0,a.jsx)(f.Z,{viewAs:S,sudentAdmissionFeesList:on,sudentAdmissionFeesListRefetch:tn,feesQueryRefetch:W,showingDataLoading:U,isFeesEditable:E}),1===D&&(0,a.jsx)(k,{setAllContent:V,setCharges:Y,showingDataLoading:U,sid:T,viewAs:S}),O&&(0,a.jsx)(x.Z,{onClose:function(){return Y(!1)},allContent:K,checkoutHandler:function(n){var e,i,l,o=2.1*+(null===K||void 0===K?void 0:K.amount)/100,t=o+18*+o/100,d=parseInt(null===K||void 0===K?void 0:K.amount),u={amount:Math.ceil(d+ +t.toFixed(2))};"PAYTM"===n?(0,Z.Ex)({amount:+(null===K||void 0===K?void 0:K.amount),amount_nocharges:+u.amount,type:"Fees",paidBy:"".concat(null===Q||void 0===Q||null===(e=Q.student)||void 0===e?void 0:e._id),paidTo:"".concat(null===Q||void 0===Q||null===(i=Q.student)||void 0===i||null===(l=i.institute)||void 0===l?void 0:l._id),moduleId:"".concat(null===K||void 0===K?void 0:K.feesId),ad_status_id:null,payment_installment:null,ad_install:null,month:null,payment_remain_1:null,payment_card_type:null,payment_book_id:null,name:N.username,isApk:"web",payment_card_id:null}).then((function(n){var e,i;window.onScriptLoad(null===n||void 0===n||null===(e=n.response)||void 0===e||null===(i=e.body)||void 0===i?void 0:i.txnToken,null===n||void 0===n?void 0:n.order,null===n||void 0===n?void 0:n.amount)})).catch((function(n){console.info(n)})):null!==X&&void 0!==X&&X.Key&&null!==u&&void 0!==u&&u.amount?en({amount:null===u||void 0===u?void 0:u.amount}).then((function(n){var e,i,l,o,t,d;null!==(e=n.data)&&void 0!==e&&e.success&&(0,m.r)({key:null===X||void 0===X?void 0:X.Key,oid:null===(i=n.data)||void 0===i?void 0:i.order.id,amount_nocharge:100*(null===K||void 0===K?void 0:K.amount),amount:null===(l=n.data)||void 0===l?void 0:l.order.amount,type:"Fees",pay_by:"".concat(null===Q||void 0===Q||null===(o=Q.student)||void 0===o?void 0:o._id),pay_to:"".concat(null===Q||void 0===Q||null===(t=Q.student)||void 0===t||null===(d=t.institute)||void 0===d?void 0:d._id),mid:"".concat(null===K||void 0===K?void 0:K.feesId),razor_key:null===un||void 0===un?void 0:un.key,razor_author:null===un||void 0===un?void 0:un.bool,status:null,installment_type:null,is_install:null,h_month:null})})).catch((function(n){})):console.log("error")},checkoutBacklogHandler:function(n){var e,i,l,o=2.1*+(null===K||void 0===K?void 0:K.amount)/100,t=o+18*+o/100,d=parseInt(null===K||void 0===K?void 0:K.amount),u={amount:Math.ceil(d+ +t.toFixed(2))};"PAYTM"===n?(0,Z.Ex)({amount:+(null===K||void 0===K?void 0:K.amount),amount_nocharges:+u.amount,type:"Backlog",paidBy:"".concat(null===Q||void 0===Q||null===(e=Q.student)||void 0===e?void 0:e._id),paidTo:"".concat(null===Q||void 0===Q||null===(i=Q.student)||void 0===i||null===(l=i.institute)||void 0===l?void 0:l._id),moduleId:"".concat(null===K||void 0===K?void 0:K.feesId),ad_status_id:null,payment_installment:null,ad_install:null,month:null,payment_remain_1:null,payment_card_type:null,payment_book_id:null,name:N.username,isApk:"web",payment_card_id:null}).then((function(n){var e,i;window.onScriptLoad(null===n||void 0===n||null===(e=n.response)||void 0===e||null===(i=e.body)||void 0===i?void 0:i.txnToken,null===n||void 0===n?void 0:n.order,null===n||void 0===n?void 0:n.amount)})).catch((function(n){console.info(n)})):null!==X&&void 0!==X&&X.Key&&null!==u&&void 0!==u&&u.amount?en({amount:null===u||void 0===u?void 0:u.amount}).then((function(n){var e,i,l,o,t,d;null!==(e=n.data)&&void 0!==e&&e.success&&(0,m.r)({key:null===X||void 0===X?void 0:X.Key,oid:null===(i=n.data)||void 0===i?void 0:i.order.id,amount_nocharge:100*(null===K||void 0===K?void 0:K.amount),amount:null===(l=n.data)||void 0===l?void 0:l.order.amount,type:"Backlog",pay_by:"".concat(null===Q||void 0===Q||null===(o=Q.student)||void 0===o?void 0:o._id),pay_to:"".concat(null===Q||void 0===Q||null===(t=Q.student)||void 0===t||null===(d=t.institute)||void 0===d?void 0:d._id),mid:"".concat(null===K||void 0===K?void 0:K.feesId),razor_key:null===un||void 0===un?void 0:un.key,razor_author:null===un||void 0===un?void 0:un.bool,status:null,installment_type:null,is_install:null,h_month:null})})).catch((function(n){})):console.log("error")},checkoutLibraryHandler:function(n){var e,i,l,o=2.1*+(null===K||void 0===K?void 0:K.amount)/100,t=o+18*+o/100,d=parseInt(null===K||void 0===K?void 0:K.amount),u={amount:Math.ceil(d+ +t.toFixed(2))};"PAYTM"===n?(0,Z.Ex)({amount:+(null===K||void 0===K?void 0:K.amount),amount_nocharges:+u.amount,type:"Library Fees",paidBy:"".concat(null===Q||void 0===Q||null===(e=Q.student)||void 0===e?void 0:e._id),paidTo:"".concat(null===Q||void 0===Q||null===(i=Q.student)||void 0===i||null===(l=i.institute)||void 0===l?void 0:l._id),moduleId:"".concat(null===K||void 0===K?void 0:K.feesId),ad_status_id:null,payment_installment:null,ad_install:null,month:null,payment_remain_1:null,payment_card_type:null,payment_book_id:null===K||void 0===K?void 0:K.bookId,name:N.username,isApk:"web",payment_card_id:null}).then((function(n){var e,i;window.onScriptLoad(null===n||void 0===n||null===(e=n.response)||void 0===e||null===(i=e.body)||void 0===i?void 0:i.txnToken,null===n||void 0===n?void 0:n.order,null===n||void 0===n?void 0:n.amount)})).catch((function(n){console.info(n)})):null!==X&&void 0!==X&&X.Key&&null!==u&&void 0!==u&&u.amount?en({amount:null===u||void 0===u?void 0:u.amount}).then((function(n){var e,i,l,o,t,d;null!==(e=n.data)&&void 0!==e&&e.success&&(0,m.r)({key:null===X||void 0===X?void 0:X.Key,oid:null===(i=n.data)||void 0===i?void 0:i.order.id,amount_nocharge:100*(null===K||void 0===K?void 0:K.amount),amount:null===(l=n.data)||void 0===l?void 0:l.order.amount,type:"Library Fees",pay_by:"".concat(null===Q||void 0===Q||null===(o=Q.student)||void 0===o?void 0:o._id),pay_to:"".concat(null===Q||void 0===Q||null===(t=Q.student)||void 0===t||null===(d=t.institute)||void 0===d?void 0:d._id),mid:"".concat(null===K||void 0===K?void 0:K.feesId),razor_key:null===un||void 0===un?void 0:un.key,razor_author:null===un||void 0===un?void 0:un.bool,status:null,installment_type:null,is_install:null,h_month:null,book_id:null===K||void 0===K?void 0:K.bookId})})).catch((function(n){})):console.log("error")}})]})}},4195:function(n,e,i){i(72791);var l=i(32804),o=i(39230),t=i(80184);e.Z=function(n){var e=n.label,i=n.value,d=n.currentValue,u=n.onClick,a=n.customStyleContainer,s=(0,o.$G)().t;return(0,t.jsxs)("div",{className:i===d?"".concat(l.Z.student_fees_btn_container," ").concat(l.Z.student_fees_btn_container_active):l.Z.student_fees_btn_container,onClick:function(){return u(d)},style:a,children:[(0,t.jsx)("h6",{children:s(e)}),(0,t.jsx)("img",{src:"/images/studentclass/fees/fees_arrow_right.svg",alt:"arrow"})]})}}}]);
//# sourceMappingURL=3179.af579997.chunk.js.map