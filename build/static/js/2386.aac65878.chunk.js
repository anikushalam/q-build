"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[2386],{34219:function(e,n,i){i(72791);var t=i(11575),s=i(80184);n.Z=function(e){var n=e.customStyleContainer,i=e.title,a=e.subtitle,l=e.costomTextTitleStyle,o=e.costomTextSubtitleStyle;return(0,s.jsxs)("div",{className:t.Z.empty_container,style:n,children:[i&&(0,s.jsx)("h6",{style:l,children:i}),a&&(0,s.jsx)("p",{style:o,children:a})]})}},92386:function(e,n,i){i.r(n),i.d(n,{default:function(){return w}});var t=i(29439),s=i(93433),a=i(72791),l="Body_body__h9R6y",o=i(1413),c="Item_item__UW4S0",d="Item_head__sq8Kp",r="Item_text__HYo44",u="Item_content__nvYu+",v="Item_bookmark__jKfDC",m=i(69721),h=i(72426),p=i.n(h),f=i(16871),g=i(43504),_=i(80184);var j=function(e){var n,i,t=e.data,s=(0,f.TH)(),a=(0,f.s0)(),l=(0,f.UO)();return(0,_.jsxs)("div",{className:c,onClick:function(){a("/q/".concat(l.username,"/notifications?a=announcement&n=detail"),{state:(0,o.Z)((0,o.Z)({},s.state),{},{annId:t._id})})},children:[(0,_.jsxs)("div",{className:d,children:[(0,_.jsx)(g.rU,{to:"/q/".concat(null===t||void 0===t||null===(n=t.institute)||void 0===n?void 0:n.name,"/profile"),onClick:function(e){e.stopPropagation()},children:(0,_.jsx)("img",{alt:"Announcement",src:null!==t&&void 0!==t&&t.institute.insProfilePhoto?"".concat(m.yI,"/").concat(null===t||void 0===t?void 0:t.institute.insProfilePhoto):"/images/ins_default_profile.svg"})}),(0,_.jsxs)("div",{className:r,children:[(0,_.jsx)("h6",{children:t&&(null===t||void 0===t?void 0:t.institute.name)}),(0,_.jsxs)("p",{children:[p()(null===t||void 0===t?void 0:t.createdAt).format("MMM Do YY")," |"," ",p()(null===t||void 0===t?void 0:t.createdAt).format("LT")]})]})]}),(0,_.jsx)("div",{className:u,children:(0,_.jsx)("p",{children:(0,_.jsx)("span",{children:null===t||void 0===t||null===(i=t.insAnnTitle)||void 0===i?void 0:i.substr(0,130)})})}),(0,_.jsx)("img",{className:v,src:"/images/bookmark-post.svg",alt:""})]})},x=i(23441),y=i(91007),N=i(95048),b=i(11105),D=i(34219);var k=function(){var e,n=(0,a.useState)([]),i=(0,t.Z)(n,2),o=i[0],c=i[1],d=(0,x.YD)(),r=(0,t.Z)(d,2),u=r[0],v=r[1],m=(0,a.useState)(!0),h=(0,t.Z)(m,2),p=h[0],f=h[1],g=(0,a.useState)(1),k=(0,t.Z)(g,2),I=k[0],T=k[1],C=(0,N.v9)((function(e){return e.idChange})),A=(0,a.useState)(!0),Z=(0,t.Z)(A,2),w=Z[0],S=Z[1],Y=(0,y.KU)({id:null===C||void 0===C?void 0:C.id,page:I,limit:10},{skip:!(null!==C&&void 0!==C&&C.id)}),P=Y.data,U=Y.refetch;return(0,a.useEffect)((function(){null!==C&&void 0!==C&&C.id&&(S(!0),U())}),[null===C||void 0===C?void 0:C.id,I,U]),(0,a.useEffect)((function(){v&&p&&T((function(e){return e+1}))}),[v,p]),(0,a.useEffect)((function(){var e;if(null!==P&&void 0!==P&&P.announcement){var n=[].concat((0,s.Z)(o),(0,s.Z)(null===P||void 0===P?void 0:P.announcement)),i=(0,s.Z)(new Set(n.map(JSON.stringify))).map(JSON.parse);c(i),S(!1)}else 0===(null===P||void 0===P||null===(e=P.announcement)||void 0===e?void 0:e.length)&&S(!1);10===(null===P||void 0===P?void 0:P.announcement.length)?f(!0):f(!1)}),[null===P||void 0===P?void 0:P.announcement]),(0,_.jsxs)("div",{className:l,children:[o.map((function(e,n){return(null===o||void 0===o?void 0:o.length)===n+1?(0,_.jsx)("div",{ref:u,children:(0,_.jsx)(j,{data:e||"",time:null===e||void 0===e?void 0:e.createdAt,date:null===e||void 0===e?void 0:e.createdAt,text:null===e||void 0===e?void 0:e.insAnnDescription})},n):(0,_.jsx)(j,{data:e||"",time:null===e||void 0===e?void 0:e.createdAt,date:null===e||void 0===e?void 0:e.createdAt,text:null===e||void 0===e?void 0:e.insAnnDescription},n)})),w&&(0,_.jsx)(b.Z,{}),!w&&!(null!==P&&void 0!==P&&null!==(e=P.announcement)&&void 0!==e&&e.length)&&(0,_.jsx)(D.Z,{customStyleContainer:{marginTop:"5rem",height:"inherit"},title:"No announcement created yet."})]})},I={imgcontainer:"Details_imgcontainer__YHc4d",eachposthead:"Details_eachposthead__z5d7p",eachpostUserName:"Details_eachpostUserName__qwO1B",eachpostUserTime:"Details_eachpostUserTime__1QeRg",public:"Details_public__639mJ",details:"Details_details__lOfOd",tille:"Details_tille__+k+M-",description:"Details_description__ydB9J",hashTag:"Details_hashTag__gz9yt",hashtag:"Details_hashtag__7ZdXz",loader:"Details_loader__bFFXC",anndoc:"Details_anndoc__CIk3a",documentContainer:"Details_documentContainer__86Tvx"},T=i(11968),C=i.n(T),A=i(10307);var Z=function(e){var n,i,t,s,l,o,c,d,r=e.annId,u=(0,f.s0)(),v=(0,y.Lr)(r,{skip:!r}),h=v.data,g=v.isFetching,j=v.refetch;return(0,a.useEffect)((function(){r&&j()}),[r,j]),(0,_.jsx)("div",{className:I.details,children:g?(0,_.jsx)(_.Fragment,{children:(0,_.jsx)("div",{className:I.loader,children:(0,_.jsx)("img",{src:"/images/loader/loader-bg-white.gif",alt:""})})}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:I.eachposthead,style:{width:"100%",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,_.jsxs)("div",{className:I.eachposthead,style:{alignItems:"flex-start"},children:[(0,_.jsx)("div",{className:I.imgcontainer,children:(0,_.jsx)("img",{alt:"not found",src:"1"!==(null===h||void 0===h||null===(n=h.announcement)||void 0===n?void 0:n.institute.photoId)?"".concat(m.yI,"/").concat(null===h||void 0===h||null===(i=h.announcement)||void 0===i||null===(t=i.institute)||void 0===t?void 0:t.insProfilePhoto):"/images/ins_default_profile.svg"})}),(0,_.jsxs)("div",{className:I.eachpostUserName,style:{marginTop:"0"},children:[(0,_.jsx)("h6",{children:h&&h.announcement&&(null===(s=h.announcement.institute)||void 0===s?void 0:s.insName)}),(0,_.jsxs)("div",{className:I.eachpostUserTime,style:{display:"flex",gap:"0.5vw",alignItems:"center"},children:[(0,_.jsx)("p",{children:h&&p()(null===(l=h.announcement)||void 0===l?void 0:l.createdAt).format("DD-M-YYYY")}),"Private"===(null===h||void 0===h||null===(o=h.announcement)||void 0===o?void 0:o.insAnnVisibility)?(0,_.jsx)("img",{className:I.public,src:"/images/post-private-icon.svg",alt:"Private"}):(0,_.jsx)("img",{className:I.public,src:"/images/privacy-icon.svg",alt:"Public"})]})]})]}),(0,_.jsx)("img",{src:"/images/close-post-icon.svg",onClick:function(){u(-1)},alt:"close",style:{cursor:"pointer"}})]}),(0,_.jsxs)("div",{className:I.Container,children:[(0,_.jsx)("p",{className:I.tille,children:h&&(null===(c=h.announcement)||void 0===c?void 0:c.insAnnTitle)}),(0,_.jsx)("hr",{}),(0,_.jsxs)("p",{className:I.description,style:{whiteSpace:"break-spaces"},children:[h&&(null===(d=h.announcement)||void 0===d?void 0:d.insAnnDescription)," "]}),(0,_.jsx)("p",{className:I.description}),(0,_.jsx)("div",{className:I.documentContainer,children:(0,_.jsx)(C(),{className:"Example",autoPlay:!1,indicators:!0,navButtonsAlwaysVisible:!1,navButtonsAlwaysInvisible:!1,next:function(e,n){},prev:function(e,n){},onChange:function(e,n){},children:null===h||void 0===h?void 0:h.announcement.announcementDocument.map((function(e){return"image/jpeg"===e.documentType||"image/png"===e.documentType||(0,A.Y)(null===e||void 0===e?void 0:e.documentKey)?(0,_.jsx)("div",{className:I.anndoc,children:(0,_.jsx)("img",{className:I.selectedImg,src:"".concat(m.yI,"/").concat(null===e||void 0===e?void 0:e.documentKey),alt:null===e||void 0===e?void 0:e.documentName,style:{width:"100%",height:"auto"}})}):(0,_.jsx)("div",{className:I.anndoc,children:(0,_.jsx)("a",{title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.documentKey),target:"_blank",rel:"noopener noreferrer",children:(0,_.jsx)("img",{className:I.selectedImg,src:"/images/pdf-icon.png",alt:null===e||void 0===e?void 0:e.documentName,style:{width:"100%",height:"auto"}})})})}))})})]})]})})};var w=function(){var e,n=(0,g.lr)(),i=(0,t.Z)(n,1)[0],s=(0,f.TH)();return(0,_.jsx)(_.Fragment,{children:i.get("n")?(0,_.jsx)(Z,{annId:null===(e=s.state)||void 0===e?void 0:e.annId}):(0,_.jsx)(k,{})})}},10307:function(e,n,i){i.d(n,{Y:function(){return s}});var t=[".jpg",".jpeg",".jpe",".pjpeg",".pjp",".apng",".jif",".jfif",".jfi",".png",".gif",".webp",".tiff",".tif",".psd",".heif",".heic",".svg",".svgz",".ai",".eps",".avif"],s=function(e){for(var n=!1,i=0,s=t;i<s.length;i++){var a=s[i];if(null!==e&&void 0!==e&&e.includes(a)){n=!0;break}}return n}}}]);
//# sourceMappingURL=2386.aac65878.chunk.js.map