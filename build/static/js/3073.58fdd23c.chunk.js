"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[3073,46876],{46876:(e,s,i)=>{i.r(s),i.d(s,{default:()=>f});var t=i(72791),a=i(23441),n=i(95048),o=i(12923),c=i(763),l=i(69721),r=i(52124),d=i(5574),_=i(39230),u=i(80184);const h=window.innerHeight,f=e=>{let{onClose:s,title:i,headSelect:f,assignHead:v,disabledId:m,instituteId:g,viewAs:p,isMultiSelect:x,selectList:j,onMultiSelect:S,onDone:I}=e;const{t:N}=(0,_.$G)(),[k,w]=(0,t.useState)(1),[M,b]=(0,t.useState)(!0),[C,Z]=(0,a.YD)(),[A,L]=(0,t.useState)(""),[y,R]=t.useState([]),F=(0,n.v9)((e=>e.idChange)),{assignSearchStaff:P,assignSearchStaffRefetch:O}=(0,o.vI)({skip:"ADMISSION_ADMIN"===p?!g:!(null!==F&&void 0!==F&&F.id),search:{search:A,page:k,id:"ADMISSION_ADMIN"===p?g:null===F||void 0===F?void 0:F.id,limit:5}});t.useEffect((()=>{null!==F&&void 0!==F&&F.id&&O()}),[null===F||void 0===F?void 0:F.id,O,k]),(0,t.useEffect)((()=>{Z&&M&&w((e=>e+1))}),[Z,M]),t.useEffect((()=>{null!==P&&void 0!==P&&P.staff&&R(A?null===P||void 0===P?void 0:P.staff:e=>(e=>{for(let t=0;t<(null===e||void 0===e?void 0:e.length);t++)for(let a=t+1;a<(null===e||void 0===e?void 0:e.length);a++){var s,i;(null===(s=e[t])||void 0===s?void 0:s._id)===(null===(i=e[a])||void 0===i?void 0:i._id)&&(null===e||void 0===e||e.splice(a,1))}return e})([...e,...null===P||void 0===P?void 0:P.staff])),5===(null===P||void 0===P?void 0:P.staff.length)?b(!0):b(!1)}),[null===P||void 0===P?void 0:P.staff]),(0,t.useEffect)((()=>{A&&D()}),[A]);const D=()=>{O()},H=(0,t.useCallback)((0,c.debounce)((e=>L(e)),500),[]),E=e=>{m===(null===e||void 0===e?void 0:e._id)||(x?S(e):(f(e),"ADMISSION_ADMIN"===p||s()))};return(0,u.jsx)(d.Z,{open:v,onClose:s,children:(0,u.jsxs)("div",{style:{backgroundColor:"#FAFAFA",width:"35rem",height:"".concat(h-20,"px"),overflowX:"hidden"},children:[(0,u.jsxs)("div",{className:r.Z.assign_title,style:{width:"100%"},children:[(0,u.jsx)("h5",{children:i}),x?(0,u.jsxs)("div",{className:r.Z.is_mulitselect_container,children:[(0,u.jsx)("h6",{style:{cursor:"pointer"},onClick:I,children:N("select")}),(0,u.jsx)("img",{src:"/images/close-post-icon.svg",onClick:s,alt:"staff assign pop close icon"})]}):(0,u.jsx)("img",{src:"/images/close-post-icon.svg",onClick:s,alt:"staff assign pop close icon"})]}),(0,u.jsxs)("div",{className:r.Z.assign_search_container,children:[(0,u.jsx)("input",{type:"text",placeholder:N("search"),className:r.Z.assign_search_input,onChange:e=>{return s=e.target.value,void H(s);var s}}),(0,u.jsx)("img",{src:"/images/search-dash-icon.svg",alt:"search icon"})]}),(0,u.jsx)("div",{className:r.Z.assign_show_list,children:null===y||void 0===y?void 0:y.map(((e,s)=>(null===y||void 0===y?void 0:y.length)===s+1?(0,u.jsxs)("div",{ref:C,children:[(0,u.jsxs)("div",{className:r.Z.assign_show_list_each,style:m===e._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:()=>E(e),children:[x?null!==j&&void 0!==j&&j.includes(null===e||void 0===e?void 0:e._id)?(0,u.jsx)("img",{src:"/images/checkbox-icon.svg",alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,u.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/box-icon.svg",alt:"icon"}):"",(0,u.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(l.yI,"/").concat(e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,u.jsxs)("div",{className:r.Z.assign_each_paragraph,children:[(0,u.jsx)("h6",{children:"".concat(e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(e.staffLastName)}),(0,u.jsxs)("p",{children:[" ",N("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]})]}),(0,u.jsx)("hr",{})]},e._id):(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:r.Z.assign_show_list_each,style:m===e._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:()=>E(e),children:[x?null!==j&&void 0!==j&&j.includes(null===e||void 0===e?void 0:e._id)?(0,u.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/checkbox-icon.svg",alt:"icon"}):(0,u.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/box-icon.svg",alt:"icon"}):"",(0,u.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(l.yI,"/").concat(e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,u.jsxs)("div",{className:r.Z.assign_each_paragraph,children:[(0,u.jsx)("h6",{children:"".concat(e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(e.staffLastName)}),(0,u.jsxs)("p",{children:[" ",N("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]})]}),(0,u.jsx)("hr",{})]},e._id)))})]})})}},12923:(e,s,i)=>{i.d(s,{Ec:()=>x,Em:()=>I,JM:()=>h,NS:()=>n,Pg:()=>f,Q_:()=>p,RH:()=>u,Tv:()=>l,U_:()=>g,VN:()=>o,Wj:()=>d,ZS:()=>_,_8:()=>j,d5:()=>r,tB:()=>m,vI:()=>S,yx:()=>c,zO:()=>v});var t=i(91007),a=i(58208);const n=e=>{const{data:s,refetch:i}=(0,a.YD)(e.search,{skip:e.skip});return{instituteAllSearch:s,instituteAllSearchRefetch:i}},o=()=>{const[e]=(0,a.ak)();return[e]},c=()=>{const[e]=(0,a.WL)();return[e]},l=e=>{const{data:s,refetch:i}=(0,a.pH)(e.list,{skip:e.skip});return{instituteFollowList:s,instituteFollowListRefetch:i}},r=e=>{const{data:s,refetch:i}=(0,a.MG)(e.data,{skip:e.skip});return{instituteOwnFollowingList:s,instituteOwnFollowingListRefetch:i}},d=()=>{const[e]=(0,a.Ky)();return[e]},_=e=>{const{data:s,refetch:i}=(0,a.p8)(e.list);return{userFollowList:s,userFollowListRefetch:i}},u=e=>{const{data:s,refetch:i}=(0,a.Wv)(e);return{userFollowingList:s,userFollowingListRefetch:i}},h=e=>{const{data:s,refetch:i}=(0,a.sz)(e.search,{skip:e.skip});return{userAllSearch:s,userAllSearchRefetch:i}},f=()=>{const[e]=(0,a.Mk)();return[e]},v=()=>{const[e]=(0,a.$i)();return[e]},m=()=>{const[e]=(0,a.Do)();return[e]},g=()=>{const[e]=(0,a.He)();return[e]},p=()=>{const[e]=(0,a.vg)();return[e]},x=()=>{const[e]=(0,a.OO)();return[e]},j=e=>{const{data:s,refetch:i}=(0,a.N2)(e);return{userCircleList:s,userCircleListRefetch:i}},S=e=>{const{data:s,refetch:i}=(0,t.x6)(e.search,{skip:e.skip});return{assignSearchStaff:s,assignSearchStaffRefetch:i}},I=e=>{const{data:s,refetch:i}=(0,a.SJ)(e);return{universalUser:s,universalUserRefetch:i}}},3073:(e,s,i)=>{i.r(s),i.d(s,{default:()=>m});var t=i(39230),a=i(98684),n=i(90904),o=i(93638),c=i(48293),l=i(21348),r=i(16925),d=i(55336),_=i(72791),u=i(1095),h=i(46876),f=i(6758),v=i(80184);const m=e=>{var s,i,m,g;let{onClose:p,financeHead:x}=e;const{t:j}=(0,t.$G)(),[S,I]=(0,_.useState)(""),[N,k]=(0,_.useState)(!1),[w,M]=(0,_.useState)(!1),[b]=(0,f.Me)();(0,_.useEffect)((()=>{I(x)}),[x]);return(0,v.jsx)(v.Fragment,{children:N?(0,v.jsx)(h.default,{assignHead:N,headSelect:e=>{I(e)},title:j("secect_finance_head"),onClose:()=>k((e=>!e)),disabledId:null===S||void 0===S?void 0:S._id}):(0,v.jsx)(c.Z,{onClose:p,children:(0,v.jsxs)("div",{className:r.Z.modal_container,children:[(0,v.jsx)(l.Z,{children:(0,v.jsxs)("div",{className:r.Z.modal_container_outer_header,children:[(0,v.jsx)("div",{className:r.Z.modal_container_header,children:(0,v.jsx)("h6",{children:j("update_finance_manager_head")})}),(0,v.jsx)("img",{src:"".concat(a.J7,"/close.svg"),alt:"close icon",onClick:p})]})}),(0,v.jsx)(n.Z,{}),(0,v.jsxs)(l.Z,{customStyle:{paddingTop:"0"},children:[(0,v.jsxs)("div",{className:r.Z.card_container_image,onClick:()=>k(!0),style:{cursor:"pointer"},children:[(0,v.jsx)("img",{alt:"not found",src:null!==S&&void 0!==S&&S.staffProfilePhoto?"".concat(u.yI,"/").concat(S.staffProfilePhoto):"".concat(a.p3,"/feed-user-avatar.svg")}),(0,v.jsxs)("div",{className:r.Z.card_container_inner,children:[(0,v.jsx)("h6",{className:r.Z.namee,children:"".concat(null!==(s=null===S||void 0===S?void 0:S.staffFirstName)&&void 0!==s?s:""," \n                    ").concat(null!==(i=null===S||void 0===S?void 0:S.staffMiddleName)&&void 0!==i?i:"","\n                    ").concat(null!==(m=null===S||void 0===S?void 0:S.staffLastName)&&void 0!==m?m:""," ")}),(0,v.jsxs)("p",{className:r.Z.desig,children:[j("index_number_1")," ",null!==(g=null===S||void 0===S?void 0:S.staffROLLNO)&&void 0!==g?g:""]})]})]}),(0,v.jsx)(o.Z,{label:"update",onAction:()=>{null!==x&&void 0!==x&&x._id&&null!==S&&void 0!==S&&S._id&&(M(!0),b({osid:null===x||void 0===x?void 0:x._id,nsid:null===S||void 0===S?void 0:S._id}).then((()=>{M(!1),p()})))}})]}),w&&(0,v.jsx)(d.Z,{})]})})})}},52124:(e,s,i)=>{i.d(s,{Z:()=>t});const t={assign_title:"AssignStaffModal_assign_title__4DGBV",assign_search_container:"AssignStaffModal_assign_search_container__3x6RD",assign_search_input:"AssignStaffModal_assign_search_input__rO3c7",assign_show_list:"AssignStaffModal_assign_show_list__yHhf7",assign_show_list_each:"AssignStaffModal_assign_show_list_each__ACUEw",assign_each_paragraph:"AssignStaffModal_assign_each_paragraph__pMHTq",universal_modal:"AssignStaffModal_universal_modal__czmpB",is_mulitselect_container:"AssignStaffModal_is_mulitselect_container__0cPQ2"}},16925:(e,s,i)=>{i.d(s,{Z:()=>t});const t={right:"Income_right__XnzYj",rightHead:"Income_rightHead__1rLc6",rightBody:"Income_rightBody__fGEC5",income_detail:"Income_income_detail__IWoJa",detailTop:"Income_detailTop__4JXuu",detailTopMid:"Income_detailTopMid__yc2yv",modal_container:"Income_modal_container__HiGr+",modal_container_outer_header:"Income_modal_container_outer_header__F9c7X",modal_container_header:"Income_modal_container_header__td-Fb",card_container:"Income_card_container__ewKhQ",card_container_image:"Income_card_container_image__5XloP",card_container_inner:"Income_card_container_inner__JBmxr",admission_fees_row:"Income_admission_fees_row__MPJCs",close_icon:"Income_close_icon__Ozq4u",student_message_container:"Income_student_message_container__8KnPc",student_message_container_inner:"Income_student_message_container_inner__mRYpD",usm_institute_container:"Income_usm_institute_container__4LkYt",usm_institute:"Income_usm_institute__hlzdF",date_select:"Income_date_select__D3VkU",gsf_star_container:"Income_gsf_star_container__7gdUs",afsi_container:"Income_afsi_container__7u06w"}}}]);
//# sourceMappingURL=3073.58fdd23c.chunk.js.map