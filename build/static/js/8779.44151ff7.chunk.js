"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[8779],{28779:function(e,t,n){n.r(t),n.d(t,{default:function(){return W}});var i=n(93433),l=n(29439),o=n(72791),a=n(39230),r=n(29407),c=n(16871),s=n(23441),d=n(11105),u=n(72426),f=n.n(u),_=n(87932),m=n(98734),v=n(12072),h=n(84489),x=n(87049),p=n(97655),Z=n(98094),j=n(80184),b=function(e){var t,n=e.onEdit,i=e.xlsxId,r=(0,a.$G)().t,c=(0,o.useState)(null!==(t=null===i||void 0===i?void 0:i.excel_file_name)&&void 0!==t?t:""),s=(0,l.Z)(c,2),d=s[0],u=s[1],f=(0,o.useState)(""),_=(0,l.Z)(f,2),m=_[0],v=_[1];(0,o.useEffect)((function(){var e;u(null!==(e=null===i||void 0===i?void 0:i.excel_file_name)&&void 0!==e?e:"")}),[null===i||void 0===i?void 0:i.excel_file_name]);return(0,j.jsxs)("div",{style:{width:"20rem",minHeight:"10rem",padding:"1rem"},children:[(0,j.jsx)("h6",{children:r("update_excel_name")}),(0,j.jsx)(Z.Z,{customStyle:{width:"100%"}}),(0,j.jsx)(p.Z,{labelText:r("excel_name"),placeholder:r("excel_name_plcaeholder"),value:d,name:"excelName",type:"text",onChange:function(e){return u(e.target.value)},errorShow:m.excelName}),(0,j.jsx)("button",{className:x.Z.xlsx_update_btn,title:"Update",onClick:function(){d?n(d):v({excelName:"excelName is required"})},style:{justifyContent:"center",marginTop:"1rem"},children:r("update")})]})},k=function(e){var t=e.onClose,n=e.xlsxId,i=e.onRefetch,a=e.instituteId,r=(0,o.useState)(!1),c=(0,l.Z)(r,2),s=c[0],d=c[1],u=(0,o.useState)(!1),f=(0,l.Z)(u,2),p=f[0],Z=f[1],k=(0,_.jd)(),g=(0,l.Z)(k,1)[0],C=(0,_.db)(),S=(0,l.Z)(C,1)[0];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(h.Z,{onClose:t}),(0,j.jsxs)(v.Z,{customStyle:{zIndex:"1200"},children:[p?(0,j.jsx)(b,{xlsxId:n,onEdit:function(e){d((function(e){return!e})),S({id:a,xlsxId:null===n||void 0===n?void 0:n._id,excelUpdate:{excel_file_name:e}}).then((function(){i(),d((function(e){return!e})),t()})).catch({})}}):(0,j.jsxs)("div",{className:x.Z.edit_modal_container,style:{width:"200px"},children:[(0,j.jsx)("h6",{className:x.Z.edit,onClick:function(){return Z((function(e){return!e}))},children:"Edit"}),(0,j.jsx)("h6",{className:x.Z.remove,onClick:function(){d((function(e){return!e})),g({id:a,xlsxId:null===n||void 0===n?void 0:n._id}).then((function(){i(),t(),d((function(e){return!e}))})).catch({})},children:"Delete"})]}),s&&(0,j.jsx)(m.Z,{})]})]})},g=n(1413),C=n(36665),S=n(91022),y=n(59965),N="TransactionFilter_transaction_container__DjvEs",w="TransactionFilter_filter_tab__ti7xV",P="TransactionFilter_filter_tab_active__lf5Tp",F="TransactionFilter_row_field__FD-ef",A="TransactionFilter_filter_or__AcPJJ",T="TransactionFilter_filter_data_btn__mVN8G",D=function(e){var t=e.onFilterData,n=(0,a.$G)().t,i=(0,o.useState)({tab_flow:"BY_DATE",timeline:"false",timeline_content:"",from:"",to:"",fee_type:"",fee_mode:""}),r=(0,l.Z)(i,2),c=r[0],s=r[1];return(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:F,children:[(0,j.jsx)(y.Z,{labelText:n("filter_from"),placeholder:n("select_date"),name:"from",value:c.from,onDateFunction:function(e){var t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);s((function(e){return(0,g.Z)((0,g.Z)({},e),{},{from:n})}))},customStyleContainer:{position:"relative",width:"48%"},datePickerPosition:{top:"-1rem"}}),(0,j.jsx)(y.Z,{labelText:n("filter_to"),placeholder:n("select_date"),name:"from",value:c.to,onDateFunction:function(e){var t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);s((function(e){return(0,g.Z)((0,g.Z)({},e),{},{to:n})}))},customStyleContainer:{position:"relative",width:"48%"},datePickerPosition:{top:"-1rem",left:"-7rem"}})]}),(0,j.jsx)(Z.Z,{customStyle:{width:"100%",marginTop:"1.5rem",marginBottom:"0.5rem"}}),(0,j.jsx)("h6",{className:A,children:n("filter_or")}),(0,j.jsx)(S.Z,{selectLabel:n("filter_select_timeline"),selectedValue:n("filter_select_timeline_placeholder"),options:["Past Week","Past Month","Past Year"],onClick:function(e){s((function(t){return(0,g.Z)((0,g.Z)({},t),{},{timeline:!0,timeline_content:e})}))},value:c.timeline_content}),(0,j.jsx)("button",{className:T,onClick:function(){t(c)},children:n("filter_data")})]})},R=function(e){var t=e.onFilterData,n=(0,a.$G)().t,i=(0,o.useState)({tab_flow:"BY_EXPENSES",timeline:"false",timeline_content:"",from:"",to:"",fee_type:"",fee_mode:""}),r=(0,l.Z)(i,2),c=r[0],s=r[1];return(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:F,children:[(0,j.jsx)(y.Z,{labelText:n("filter_from"),placeholder:n("select_date"),name:"from",value:c.from,onDateFunction:function(e){var t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);s((function(e){return(0,g.Z)((0,g.Z)({},e),{},{from:n})}))},customStyleContainer:{position:"relative",width:"48%"},datePickerPosition:{top:"-1rem"}}),(0,j.jsx)(y.Z,{labelText:n("filter_to"),placeholder:n("select_date"),name:"from",value:c.to,onDateFunction:function(e){var t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);s((function(e){return(0,g.Z)((0,g.Z)({},e),{},{to:n})}))},customStyleContainer:{position:"relative",width:"48%"},datePickerPosition:{top:"-1rem",left:"-7rem"}})]}),(0,j.jsx)(Z.Z,{customStyle:{width:"100%",marginTop:"1.5rem",marginBottom:"0.5rem"}}),(0,j.jsx)("h6",{className:A,children:n("filter_or")}),(0,j.jsx)(S.Z,{selectLabel:n("filter_select_timeline"),selectedValue:n("filter_select_timeline_placeholder"),options:["Past Week","Past Month","Past Year"],onClick:function(e){s((function(t){return(0,g.Z)((0,g.Z)({},t),{},{timeline:!0,timeline_content:e})}))},value:c.timeline_content}),(0,j.jsx)("button",{className:T,onClick:function(){t(c)},children:n("filter_data")})]})},I=function(e){var t=e.onFilterData,n=(0,a.$G)().t,i=(0,o.useState)({tab_flow:"BY_FEE_TYPE",timeline:"false",timeline_content:"",from:"",to:"",fee_type:"",fee_mode:""}),r=(0,l.Z)(i,2),c=r[0],s=r[1];return(0,j.jsxs)("div",{children:[(0,j.jsx)(S.Z,{selectLabel:n("filter_select_fee_mode"),selectedValue:n("filter_select_fee_mode_placeholder"),options:["Online","Offline","By Bank","By Cash"],onClick:function(e){s((function(t){return(0,g.Z)((0,g.Z)({},t),{},{timeline:!1,fee_mode:e})}))},value:c.fee_mode}),(0,j.jsx)(S.Z,{selectLabel:n("filter_select_fee_type"),selectedValue:n("filter_select_fee_type_placeholder"),options:["Admission Fees","Expense","Income","Internal Fees","Admission"],onClick:function(e){s((function(t){return(0,g.Z)((0,g.Z)({},t),{},{timeline:!1,fee_type:e})}))},value:c.fee_type}),(0,j.jsxs)("div",{className:F,children:[(0,j.jsx)(y.Z,{labelText:n("filter_from"),placeholder:n("select_date"),name:"from",value:c.from,onDateFunction:function(e){var t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);s((function(e){return(0,g.Z)((0,g.Z)({},e),{},{from:n})}))},customStyleContainer:{position:"relative",width:"48%"},datePickerPosition:{top:"-11rem"}}),(0,j.jsx)(y.Z,{labelText:n("filter_to"),placeholder:n("select_date"),name:"from",value:c.to,onDateFunction:function(e){var t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);s((function(e){return(0,g.Z)((0,g.Z)({},e),{},{to:n})}))},customStyleContainer:{position:"relative",width:"48%"},datePickerPosition:{top:"-11rem",left:"-7rem"}})]}),(0,j.jsx)("button",{className:T,onClick:function(){t(c)},children:n("filter_data")})]})},E=function(e){var t=e.onFilterData,n=(0,a.$G)().t,i=(0,o.useState)({tab_flow:"BY_INCOMES",timeline:"false",timeline_content:"",from:"",to:"",fee_type:"",fee_mode:""}),r=(0,l.Z)(i,2),c=r[0],s=r[1];return(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:F,children:[(0,j.jsx)(y.Z,{labelText:n("filter_from"),placeholder:n("select_date"),name:"from",value:c.from,onDateFunction:function(e){var t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);s((function(e){return(0,g.Z)((0,g.Z)({},e),{},{from:n})}))},customStyleContainer:{position:"relative",width:"48%"},datePickerPosition:{top:"-1rem"}}),(0,j.jsx)(y.Z,{labelText:n("filter_to"),placeholder:n("select_date"),name:"from",value:c.to,onDateFunction:function(e){var t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);s((function(e){return(0,g.Z)((0,g.Z)({},e),{},{to:n})}))},customStyleContainer:{position:"relative",width:"48%"},datePickerPosition:{top:"-1rem",left:"-7rem"}})]}),(0,j.jsx)(Z.Z,{customStyle:{width:"100%",marginTop:"1.5rem",marginBottom:"0.5rem"}}),(0,j.jsx)("h6",{className:A,children:n("filter_or")}),(0,j.jsx)(S.Z,{selectLabel:n("filter_select_timeline"),selectedValue:n("filter_select_timeline_placeholder"),options:["Past Week","Past Month","Past Year"],onClick:function(e){s((function(t){return(0,g.Z)((0,g.Z)({},t),{},{timeline:!0,timeline_content:e})}))},value:c.timeline_content}),(0,j.jsx)("button",{className:T,onClick:function(){t(c)},children:n("filter_data")})]})},L=function(e){var t=e.onClose,n=e.instituteId,i=e.viewAs,r=e.onRefetch,c=(0,a.$G)().t,s=(0,o.useState)(!0),d=(0,l.Z)(s,2),u=d[0],f=d[1],v=(0,o.useState)(!1),h=(0,l.Z)(v,2),x=h[0],p=h[1],Z=(0,o.useState)(0),b=(0,l.Z)(Z,2),k=b[0],S=b[1],y=(0,o.useState)({tab_flow:"",timeline:"false",timeline_content:"",from:"",to:"",fee_type:"",fee_mode:""}),F=(0,l.Z)(y,2),A=F[0],T=F[1],L=(0,_.SN)({data:(0,g.Z)({id:n},A),skip:u}),V=L.filterTransactionHistory,B=L.filterTransactionHistoryRefetch,M=function(e){p((function(e){return!e})),T(e),f(!1),B()};return(0,o.useEffect)((function(){null!==V&&void 0!==V&&V.message&&("EXPORT"===i&&r(),p((function(e){return!e})),t())}),[V]),(0,j.jsxs)(C.Z,{onClose:t,children:[(0,j.jsxs)("div",{className:N,children:[(0,j.jsx)("h6",{children:c("filter_transaction_data")}),(0,j.jsxs)("section",{className:w,children:[(0,j.jsx)("h6",{onClick:function(){return S(0)},className:0===k&&P,children:c("filter_date")}),(0,j.jsx)("h6",{onClick:function(){return S(1)},className:1===k&&P,children:c("filter_fee_type")}),(0,j.jsx)("h6",{onClick:function(){return S(2)},className:2===k&&P,children:c("filter_expense")}),(0,j.jsx)("h6",{onClick:function(){return S(3)},className:3===k&&P,children:c("filter_incomes")})]}),0===k&&(0,j.jsx)(D,{onFilterData:M}),1===k&&(0,j.jsx)(I,{onFilterData:M}),2===k&&(0,j.jsx)(R,{onFilterData:M}),3===k&&(0,j.jsx)(E,{onFilterData:M})]}),x&&(0,j.jsx)(m.Z,{})]})},V=n(78687),B=n(33992),M=n(41233),O=function(e){var t,n,r,c,s,d,u,f=e.onClose,v=e.financeId,h=e.instituteId,x=(0,a.$G)().t,p=(0,V.useSelector)((function(e){return e.financeChange})),b=(0,o.useState)(!1),k=(0,l.Z)(b,2),w=k[0],P=k[1],D=(0,o.useState)({timeline:"false",timeline_content:"",from:"",to:"",depart:"",batch:"",master:[],bank:""}),R=(0,l.Z)(D,2),I=R[0],E=R[1],L=(0,o.useState)(""),O=(0,l.Z)(L,2),G=O[0],H=O[1],Y=(0,_.mF)(),$=(0,l.Z)(Y,1)[0],q=(0,B.Zi)({id:p.insId?p.insId:h,skip:p.insId?!p.insId:!h}),W=q.allDepartment,U=q.allDepartmentRefetch,J=(0,B.tx)({data:{id:h,did:I.depart},skip:"All"===I.depart||!I.depart}),z=J.allClassMaster,X=J.allClassMasterRefetch,K=(0,B._C)({did:I.depart,skip:"All"===I.depart||!I.depart}),Q=K.oneDepartment,ee=K.oneDepartmentRefetch,te=(0,_.o9)({data:{fid:p.fid,page:1,limit:1e3,search:""},skip:!p.fid}),ne=te.getAllBankByFinance,ie=te.getAllBankByFinanceRefetch;o.useEffect((function(){p.fid&&ie()}),[p.fid,ie]),o.useEffect((function(){(p.insId||h)&&U()}),[p.insId,h,U]),(0,o.useEffect)((function(){I.depart&&"All"!==I.depart&&X()}),[I.depart,X]),(0,o.useEffect)((function(){I.depart&&"All"!==I.depart&&ee()}),[I.depart,ee]);return(0,j.jsxs)(C.Z,{onClose:f,children:[(0,j.jsxs)("div",{className:N,children:[(0,j.jsx)("h6",{children:x("filter_by_fee_head")}),(0,j.jsx)(M.Z,{selectLabel:x("select_department"),selectedValue:x("all_select_particular_department"),options:null!==W&&void 0!==W&&null!==(t=W.institute)&&void 0!==t&&t.depart?["All"].concat((0,i.Z)(null===W||void 0===W||null===(n=W.institute)||void 0===n?void 0:n.depart)):["All"],onClick:function(e){E((function(t){return(0,g.Z)((0,g.Z)({},t),{},{depart:e})}))},errorShow:G.depart}),(0,j.jsx)(M.Z,{selectLabel:"All"===I.depart?x("select_current_batch"):x("select_batch"),selectedValue:"All"===I.depart?x("select_pref"):x("all_time_select_batch"),options:"All"===I.depart?["Current","All"]:null!==Q&&void 0!==Q&&null!==(r=Q.department)&&void 0!==r&&r.batches?(0,i.Z)(null===Q||void 0===Q||null===(c=Q.department)||void 0===c?void 0:c.batches):[],onClick:function(e){E((function(t){return(0,g.Z)((0,g.Z)({},t),{},{batch:e})}))},errorShow:G.batch}),"All"===I.depart?"":(0,j.jsx)(M.Z,{selectLabel:x("select_standard_year"),selectedValue:x("select_standard_year_placeholder"),options:null!==z&&void 0!==z&&z.classMaster?(0,i.Z)(null===z||void 0===z?void 0:z.classMaster):[],onClick:function(e){E((function(t){return(0,g.Z)((0,g.Z)({},t),{},{master:[].concat((0,i.Z)(t.master),[e])})}))},viewAs:"NORMAL_FILTER",defalutValue:(null===(s=I.master)||void 0===s?void 0:s.length)<2?"":"".concat(null===(d=I.master)||void 0===d?void 0:d.length," standard")}),(0,j.jsx)(M.Z,{selectLabel:"Select Bank (Optional)",selectedValue:"Please select Bank",options:null!==(u=null===ne||void 0===ne?void 0:ne.all_accounts)&&void 0!==u?u:[],value:"",onClick:function(e){E((function(t){return(0,g.Z)((0,g.Z)({},t),{},{bank:null===e||void 0===e?void 0:e._id})}))},openAs:"PROMOTE"}),(0,j.jsxs)("div",{className:F,children:[(0,j.jsx)(y.Z,{labelText:x("filter_from"),placeholder:x("select_date"),name:"from",value:I.from,onDateFunction:function(e){var t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);E((function(e){return(0,g.Z)((0,g.Z)({},e),{},{from:n})}))},customStyleContainer:{position:"relative",width:"48%"},datePickerPosition:{top:"-1rem"}}),(0,j.jsx)(y.Z,{labelText:x("filter_to"),placeholder:x("select_date"),name:"from",value:I.to,onDateFunction:function(e){var t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);E((function(e){return(0,g.Z)((0,g.Z)({},e),{},{to:n})}))},customStyleContainer:{position:"relative",width:"48%"},datePickerPosition:{top:"-1rem",left:"-7rem"}})]}),(0,j.jsx)(Z.Z,{customStyle:{width:"100%",marginTop:"1.5rem",marginBottom:"0.5rem"}}),(0,j.jsx)("h6",{className:A,children:x("filter_or")}),(0,j.jsx)(S.Z,{selectLabel:x("filter_select_timeline"),selectedValue:x("filter_select_timeline_placeholder"),options:["Past Week","Past Month","Past Year"],onClick:function(e){E((function(t){return(0,g.Z)((0,g.Z)({},t),{},{timeline:!0,timeline_content:e})}))},value:I.timeline_content}),(0,j.jsx)("button",{className:T,onClick:function(){var e=function(e){var t={};for(var n in e)e[n]||(t[n]="".concat(n," is required!"));return t}({batch:I.batch,depart:I.depart}),t=!1;for(var n in e)if(n){t=!0;break}t?H(e):(P((function(e){return!e})),$((0,g.Z)((0,g.Z)({fid:v},I),{},{all_depart:"All"===I.depart?"All":"Particular",batch_status:I.batch,pendingData:{depart:"All"===I.depart?"":I.depart,batch:"All"===I.depart?"":I.batch,master:"All"===I.depart?[]:I.master}})).then((function(){P((function(e){return!e})),f()})).catch({}))},children:x("filter_data")})]}),w&&(0,j.jsx)(m.Z,{})]})},G=n(65543),H=n(38733),Y=function(e){var t=e.selectLabel,n=e.onClick,i=e.selectedValue,r=e.options,c=e.customStyleContainer,s=e.customLabelStyle,d=e.customListStyle,u=e.openAs,f=e.errorShow,_=(0,a.$G)().t,m=(0,o.useState)(!1),v=(0,l.Z)(m,2),h=v[0],x=v[1],p=(0,o.useState)(""),Z=(0,l.Z)(p,2),b=Z[0],k=Z[1],C=function(){x((function(e){return!e}))},S=function(e){n(e),C()};return(0,j.jsxs)("div",{className:H.Z.join_form_container,style:(0,g.Z)({},c),children:[(0,j.jsxs)("p",{className:H.Z.join_form_select_paragraph,style:(0,g.Z)({},s),children:[t,f&&(0,j.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",_("form_require_label")]})]}),(0,j.jsxs)("section",{className:H.Z.join_form_select_custom,onClick:C,children:[b?(0,j.jsx)("p",{className:H.Z.join_form_select_custom_paragraph,children:null!==b&&void 0!==b?b:""}):(0,j.jsx)("p",{className:H.Z.join_form_select_custom_paragraph,children:i}),(0,j.jsx)("img",{className:H.Z.join_form_select_custom_icon,src:"/images/down-icon.svg",alt:"categor icon"})]}),h&&(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("section",{className:H.Z.join_form_select_custom_list,style:d?(0,g.Z)({},d):(null===r||void 0===r?void 0:r.length)>2?{overflowY:"scroll"}:{backgroundColor:"#ffffff"},children:null===r||void 0===r?void 0:r.map((function(e,t){var n;return(0,j.jsx)("p",{onClick:function(){var t;S("PROMOTE"===u?e:null!==e&&void 0!==e&&e._id?null===e||void 0===e?void 0:e._id:e),k(null!==(t=null===e||void 0===e?void 0:e.unique_structure_name)&&void 0!==t?t:e)},className:H.Z.join_form_select_custom_paragraph_option,children:null!==(n=null===e||void 0===e?void 0:e.unique_structure_name)&&void 0!==n?n:e},t)}))})})]})},$=n(87338),q=function(e){var t,n,i=e.onClose,r=e.financeId,c=e.hostelId,s=(0,a.$G)().t,d=(0,V.useSelector)((function(e){return e.financeChange})),u=(0,o.useState)(!1),f=(0,l.Z)(u,2),v=f[0],h=f[1],x=(0,o.useState)(!0),p=(0,l.Z)(x,2),b=p[0],k=p[1],w=(0,o.useState)({timeline:"false",timeline_content:"",from:"",to:"",fsid:"",depart:""}),P=(0,l.Z)(w,2),D=P[0],R=P[1],I=(0,_.__)({data:(0,g.Z)({fid:d.fid?d.fid:r},D),skip:b}),E=I.filterHostelFeeHeadReceipt,L=I.filterHostelFeeHeadReceiptRefetch,B=(0,$.RO)({data:{hid:c,page:1,limit:1e3,search:""},skip:!c}),O=B.getHostelUnitList,G=B.getHostelUnitListRefetch,H=(0,$.Sz)({data:{hid:c,page:1,limit:1e3,filter_by:"",master_by:""},skip:!c}),q=H.getHostelFeeStructureList,W=H.getHostelFeeStructureListRefetch;o.useEffect((function(){c&&(G(),W())}),[c,G]);(0,o.useEffect)((function(){null!==E&&void 0!==E&&E.message&&(h((function(e){return!e})),i())}),[E]);return(0,j.jsxs)(C.Z,{onClose:i,children:[(0,j.jsxs)("div",{className:N,children:[(0,j.jsx)("h6",{children:s("filter_by_fee_head")}),(0,j.jsx)(M.Z,{selectLabel:s("select_unit"),selectedValue:s("select_unit"),options:null!==(t=null===O||void 0===O?void 0:O.all_units)&&void 0!==t?t:[],onClick:function(e){R((function(t){return(0,g.Z)((0,g.Z)({},t),{},{depart:e})}))},value:D.depart}),(0,j.jsx)(Y,{selectLabel:s("filter_select_fee_structure"),selectedValue:s("filter_select_fee_structure_placeholder"),options:null!==(n=null===q||void 0===q?void 0:q.all_structures)&&void 0!==n?n:[],onClick:function(e){R((function(t){return(0,g.Z)((0,g.Z)({},t),{},{fsid:e})}))},value:D.fsid}),(0,j.jsxs)("div",{className:F,children:[(0,j.jsx)(y.Z,{labelText:s("filter_from"),placeholder:s("select_date"),name:"from",value:D.from,onDateFunction:function(e){var t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);R((function(e){return(0,g.Z)((0,g.Z)({},e),{},{from:n})}))},customStyleContainer:{position:"relative",width:"48%"},datePickerPosition:{top:"-1rem"}}),(0,j.jsx)(y.Z,{labelText:s("filter_to"),placeholder:s("select_date"),name:"from",value:D.to,onDateFunction:function(e){var t=null===e||void 0===e?void 0:e.split("/"),n="".concat(t[2],"-").concat(t[1],"-").concat(t[0]);R((function(e){return(0,g.Z)((0,g.Z)({},e),{},{to:n})}))},customStyleContainer:{position:"relative",width:"48%"},datePickerPosition:{top:"-1rem",left:"-7rem"}})]}),(0,j.jsx)(Z.Z,{customStyle:{width:"100%",marginTop:"1.5rem",marginBottom:"0.5rem"}}),(0,j.jsx)("h6",{className:A,children:s("filter_or")}),(0,j.jsx)(S.Z,{selectLabel:s("filter_select_timeline"),selectedValue:s("filter_select_timeline_placeholder"),options:["Past Week","Past Month","Past Year"],onClick:function(e){R((function(t){return(0,g.Z)((0,g.Z)({},t),{},{timeline:!0,timeline_content:e})}))},value:D.timeline_content}),(0,j.jsx)("button",{className:T,onClick:function(){h((function(e){return!e})),k(!1),L()},children:s("filter_data")})]}),v&&(0,j.jsx)(m.Z,{})]})},W=function(e){var t=e.insId,n=e.financeId,u=e.hostelId,m=(0,a.$G)().t,v=(0,V.useSelector)((function(e){return e.financeChange.insId})),h=(0,c.s0)(),x=(0,s.YD)(),p=(0,l.Z)(x,2),b=p[0],g=p[1],C=(0,o.useState)(1),S=(0,l.Z)(C,2),y=S[0],N=S[1],w=(0,o.useState)(!0),P=(0,l.Z)(w,2),F=P[0],A=P[1],T=(0,o.useState)(!1),D=(0,l.Z)(T,2),R=D[0],I=D[1],E=(0,o.useState)(!0),B=(0,l.Z)(E,2),M=B[0],H=B[1],Y=(0,o.useState)([]),$=(0,l.Z)(Y,2),W=$[0],U=$[1],J=(0,o.useState)(!1),z=(0,l.Z)(J,2),X=z[0],K=z[1],Q=(0,o.useState)(!1),ee=(0,l.Z)(Q,2),te=ee[0],ne=ee[1],ie=(0,o.useState)(!1),le=(0,l.Z)(ie,2),oe=le[0],ae=le[1],re=(0,o.useState)(!1),ce=(0,l.Z)(re,2),se=ce[0],de=ce[1],ue=(0,_.WV)({data:{id:v||t,page:y,limit:10},skip:v?!v:!t}),fe=ue.getAllExcelByFinance,_e=ue.getAllExcelByFinanceRefetch,me=(0,G.u)().scrollToTop;(0,o.useEffect)((function(){me()}),[]),(0,o.useEffect)((function(){(v||t)&&(H(!0),_e())}),[v,t,y,_e]),(0,o.useEffect)((function(){g&&F&&N((function(e){return e+1}))}),[g,F]),(0,o.useEffect)((function(){var e,t;R?(U(null===fe||void 0===fe?void 0:fe.all_excel),I(!1),H(!1)):null!==fe&&void 0!==fe&&fe.all_excel?(U((function(e){var t,n;return null===(t=(0,i.Z)(new Set(null===(n=[].concat((0,i.Z)(e),(0,i.Z)(null===fe||void 0===fe?void 0:fe.all_excel)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),H(!1)):0===(null===fe||void 0===fe||null===(t=fe.all_excel)||void 0===t?void 0:t.length)&&H(!1);10===(null===fe||void 0===fe||null===(e=fe.all_excel)||void 0===e?void 0:e.length)?A(!0):A(!1)}),[null===fe||void 0===fe?void 0:fe.all_excel]);var ve=function(){K((function(e){return!e}))},he=function(){N(1),_e(),I(!0)},xe=function(){ne((function(e){return!e}))},pe=function(){ae((function(e){return!e}))};return(0,j.jsxs)("div",{className:r.Z.refund_container,children:[(0,j.jsxs)("section",{className:r.Z.refund_container_title,children:[(0,j.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){h(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,j.jsxs)("div",{className:r.Z.refund_container_title,style:{justifyContent:"space-between",width:"95%"},children:[(0,j.jsx)("h6",{children:m("data_export")}),(0,j.jsxs)("div",{className:r.Z.both_filter,children:[(0,j.jsxs)("div",{onClick:pe,className:r.Z.both_filter_with_name,children:[(0,j.jsx)("img",{src:"/images/export-filter-icon.svg",alt:"filter icon"}),(0,j.jsx)("h6",{children:m("hostel_fee_receipt_filter")})]}),(0,j.jsxs)("div",{onClick:xe,className:r.Z.both_filter_with_name,children:[(0,j.jsx)("img",{src:"/images/export-filter-icon.svg",alt:"filter icon"}),(0,j.jsx)("h6",{children:m("fee_receipt_filter")})]}),(0,j.jsxs)("div",{onClick:ve,className:r.Z.both_filter_with_name,children:[(0,j.jsx)("img",{src:"/images/export-filter-icon.svg",alt:"filter icon"}),(0,j.jsx)("h6",{children:m("transaction_filter")})]})]})]})]}),(0,j.jsx)(Z.Z,{customStyle:{width:"100%"}}),(0,j.jsxs)("div",{className:r.Z.refund_list,children:[null===W||void 0===W?void 0:W.map((function(e,t){var n,i;return(null===W||void 0===W?void 0:W.length)===t+1?(0,j.jsxs)("a",{ref:b,className:r.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,j.jsx)("img",{src:"/images/export-xsxl-icon.svg",alt:""}),(0,j.jsxs)("section",{className:r.Z.export_card_text,children:[(0,j.jsx)("h6",{children:null!==(n=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==n?n:""}),(0,j.jsxs)("div",{className:r.Z.export_card_date,children:[(0,j.jsx)("h6",{children:f()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,j.jsx)("h6",{children:f()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]}),(0,j.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(t){t.preventDefault(),de(e)},className:r.Z.menu_icon,title:"Menu"})]},null===e||void 0===e?void 0:e._id):(0,j.jsxs)("a",{className:r.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,j.jsx)("img",{src:"/images/export-xsxl-icon.svg",alt:""}),(0,j.jsxs)("section",{className:r.Z.export_card_text,children:[(0,j.jsx)("h6",{children:null!==(i=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==i?i:""}),(0,j.jsxs)("div",{className:r.Z.export_card_date,children:[(0,j.jsx)("h6",{children:f()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,j.jsx)("h6",{children:f()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]}),(0,j.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(t){t.preventDefault(),de(e)},className:r.Z.menu_icon,title:"Menu"})]},null===e||void 0===e?void 0:e._id)})),M&&(0,j.jsx)(d.Z,{}),X&&(0,j.jsx)(L,{instituteId:v||t,onClose:ve,viewAs:"EXPORT",onRefetch:he}),se&&(0,j.jsx)(k,{xlsxId:se,onClose:function(){return de("")},onRefetch:he,instituteId:v||t}),te&&(0,j.jsx)(O,{onClose:xe,financeId:n,instituteId:t}),oe&&(0,j.jsx)(q,{onClose:pe,financeId:n,hostelId:u})]})]})}},29407:function(e,t){t.Z={refund_container:"AdmisisonRefund_refund_container__BTIz6",refund_container_title:"AdmisisonRefund_refund_container_title__Rwwk9",refund_total:"AdmisisonRefund_refund_total__7rRiv",refund_card:"AdmisisonRefund_refund_card__M65Il",refund_card_text_container:"AdmisisonRefund_refund_card_text_container__jp-8T",refund_card_text:"AdmisisonRefund_refund_card_text__eVyEv",export_card:"AdmisisonRefund_export_card__xse7V",export_card_text:"AdmisisonRefund_export_card_text__4VVsl",export_card_date:"AdmisisonRefund_export_card_date__Wejoy",admission_filter_icon:"AdmisisonRefund_admission_filter_icon__5ncUR",menu_icon:"AdmisisonRefund_menu_icon__WdVbN",both_filter:"AdmisisonRefund_both_filter__k26Hu",both_filter_with_name:"AdmisisonRefund_both_filter_with_name__4eJUc"}}}]);
//# sourceMappingURL=8779.44151ff7.chunk.js.map