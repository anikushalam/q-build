"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[82321,85303],{82321:(e,n,l)=>{l.r(n),l.d(n,{default:()=>H});var t=l(43504),i=l(16871),d=l(63687),s=l(21348),a=l(90904),o=l(98967),r=l(63162),u=l(85303),c=l(56959),v=l(39230),m=l(72791),_=l(23441),h=l(43317),p=l(91427),f=l(57588),x=l(98684),g=l(55336),j=l(1669),N=l(2651),y=l(1095),b=l(75285),Z=l(31697),I=l(48293),S=l(16925),C=l(93638),A=l(61055),k=l(60924),P=l(43997),F=l(50518),R=l(99183),E=l(20659),w=l(26071),L=l(7562),G=l(80184);const M=e=>{var n,l,t,i,d,o,r;let{onClose:u,applicant:c,onRefetch:_,admissionId:p}=e;const{t:f}=(0,v.$G)(),[j,N]=(0,m.useState)(!1),[y,b]=(0,m.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:"",pay_remain:!1}),[Z,M]=(0,m.useState)(0),[T,D]=(0,m.useState)(""),[O]=(0,h.z6)(),U=e=>{b((n=>({...n,[e.target.name]:e.target.value})))},q=e=>{if(b((n=>({...n,pay_remain:e}))),e){let e=0;for(let l of null===c||void 0===c||null===(n=c.app_card)||void 0===n?void 0:n.remaining_array){var n;"Paid"!==(null===l||void 0===l?void 0:l.status)&&(e+=null===l||void 0===l?void 0:l.remainAmount)}M(e)}};return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(I.Z,{onClose:u,children:(0,G.jsxs)("div",{className:S.Z.modal_container,children:[(0,G.jsx)(s.Z,{children:(0,G.jsxs)("div",{className:S.Z.modal_container_outer_header,children:[(0,G.jsx)("div",{className:S.Z.modal_container_header,children:(0,G.jsx)("h6",{children:f("collect_readmission_fees")})}),(0,G.jsx)("img",{src:"".concat(x.J7,"/close.svg"),alt:"close icon",onClick:u})]})}),(0,G.jsx)(a.Z,{}),(0,G.jsxs)(s.Z,{customStyle:{paddingTop:"0"},children:[(0,G.jsxs)("div",{className:S.Z.admission_fees_row,children:[(0,G.jsxs)("h6",{children:[f("applicable_amount")," :"]}),(0,G.jsxs)("h6",{children:[f("rs_only")," ",null!==(n=null===c||void 0===c||null===(l=c.app_card)||void 0===l?void 0:l.applicable_fee)&&void 0!==n?n:0]})]}),null!==c&&void 0!==c&&null!==(t=c.fee_struct)&&void 0!==t&&t.total_installments&&+(null===c||void 0===c||null===(i=c.fee_struct)||void 0===i?void 0:i.total_installments)>1?(0,G.jsx)(E.Z,{label:"pay_rest_remaining_fees",children:null===L.nj||void 0===L.nj?void 0:L.nj.map((e=>(0,G.jsx)(w.Z,{tile:e,onTile:q,activeTile:y.pay_remain},null===e||void 0===e?void 0:e.id)))}):null,(0,G.jsx)(A.Z,{label:"".concat(f(y.pay_remain?"amount_remain_installment":"amount_first_installment")," ").concat(y.pay_remain?Z:null===c||void 0===c||null===(d=c.app_card)||void 0===d||null===(o=d.remaining_array)||void 0===o||null===(r=o[0])||void 0===r?void 0:r.remainAmount),placeholder:f("amoute_details_collect"),name:"amount",value:y.amount,type:"tel",onChange:e=>{b((n=>({...n,amount:+e.target.value,fee_payment_amount:+e.target.value})))},errorShow:T.amount,msg:T.rest_issue}),(0,G.jsx)(F.Z,{paymentHeading:f("payment_type_mode"),selectLabel:f("mode_placeholder"),onClick:e=>{b((n=>({...n,mode:"Online",fee_payment_mode:e})))},errorShow:T.fee_payment_mode,defalutValue:y.fee_payment_mode,selectedValue:f("please_select_payment_mode"),isAuthority:"admissionCollectMode",customLabelStyle:{marginTop:"0"}}),(0,G.jsx)(k.Z,{label:f("select_date_of_transaction"),placeholder:f("please_select_date"),name:"transaction_date",value:y.transaction_date,onChange:e=>{b((n=>({...n,transaction_date:(0,P.jh)(e)})))},errorShow:T.transaction_date}),"Cash"===y.fee_payment_mode?null:(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(A.Z,{label:f("bank_name_collect"),placeholder:f("please_enter_bank_name"),name:"fee_bank_name",value:y.fee_bank_name,type:"text",onChange:U}),(0,G.jsx)(A.Z,{label:f("banke_holder_name"),placeholder:f("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:y.fee_bank_holder,type:"text",onChange:U}),(0,G.jsx)(A.Z,{label:f("cheque_dd_neft"),placeholder:f("please_enter_utr_ref_number"),name:"fee_utr_reference",value:y.fee_utr_reference,type:"text",onChange:U})]}),(0,G.jsx)(C.Z,{label:"collect",onAction:()=>{let e=(0,R.l)(y,["mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference","pay_remain"]);var n,l,t,i,d,s,a,o,r,v,m,h,f,x,g,j,b,I,S,C,A,k,F,E,w,L,G,M,T;(0,R.x)(e)?y.pay_remain&&y.amount<Z?D({rest_issue:"Amount should not be less than total remaining fees"}):!y.pay_remain&&y.amount>(null===c||void 0===c||null===(n=c.app_card)||void 0===n||null===(l=n.remaining_array)||void 0===l||null===(t=l[0])||void 0===t?void 0:t.remainAmount)&&+(null===c||void 0===c||null===(i=c.fee_struct)||void 0===i?void 0:i.total_installments)>1?D({rest_issue:"Amount should not be greater than remaining fees"}):null!==c&&void 0!==c&&null!==(d=c.student)&&void 0!==d&&d._id&&p&&null!==c&&void 0!==c&&null!==(s=c.appId)&&void 0!==s&&s._id&&(N((e=>!e)),O({sid:null===c||void 0===c||null===(a=c.student)||void 0===a?void 0:a._id,aid:p,collect:{card_id:null===c||void 0===c||null===(o=c.app_card)||void 0===o?void 0:o._id,appId:null===c||void 0===c||null===(r=c.appId)||void 0===r?void 0:r._id,rid:null!==c&&void 0!==c&&null!==(v=c.app_card)&&void 0!==v&&v.parent_card?null===c||void 0===c||null===(m=c.app_card)||void 0===m?void 0:m.parent_card:null===c||void 0===c||null===(h=c.gov_card)||void 0===h?void 0:h.parent_card,raid:null===c||void 0===c||null===(f=c.app_card)||void 0===f||null===(x=f.remaining_array)||void 0===x||null===(g=x[0])||void 0===g?void 0:g._id,type:null===c||void 0===c||null===(j=c.app_card)||void 0===j||null===(b=j.remaining_array)||void 0===b||null===(I=b[0])||void 0===I?void 0:I.installmentValue,raid_1:null!==(S=null===c||void 0===c||null===(C=c.app_card)||void 0===C||null===(A=C.remaining_array)||void 0===A||null===(k=A[1])||void 0===k?void 0:k._id)&&void 0!==S?S:"",amount:null!==(F=null===y||void 0===y?void 0:y.amount)&&void 0!==F?F:"",mode:"Cash"===(null===y||void 0===y?void 0:y.fee_payment_mode)?"Offline":null!==(E=null===y||void 0===y?void 0:y.mode)&&void 0!==E?E:"",fee_payment_mode:"Cash"===(null===y||void 0===y?void 0:y.fee_payment_mode)?"By Cash":null===y||void 0===y?void 0:y.fee_payment_mode,fee_payment_amount:null!==(w=null===y||void 0===y?void 0:y.fee_payment_amount)&&void 0!==w?w:"",transaction_date:null!==(L=(0,P._1)(y.transaction_date))&&void 0!==L?L:"",fee_bank_name:null!==(G=null===y||void 0===y?void 0:y.fee_bank_name)&&void 0!==G?G:"",fee_bank_holder:null!==(M=null===y||void 0===y?void 0:y.fee_bank_holder)&&void 0!==M?M:"",fee_utr_reference:null!==(T=null===y||void 0===y?void 0:y.fee_utr_reference)&&void 0!==T?T:"",pay_remain:y.pay_remain,flow:"RE_ADMISSION"}}).then((()=>{_(),N((e=>!e)),u()})).catch({})):D(e)}})]})]})}),j&&(0,G.jsx)(g.Z,{})]})},T=e=>{var n,l,t,i,d,s,a,o,r,u,c,_,h,p,f,g,j,N,I,S,C,A,k,P,F,R,E,w,L;let{applicant:T,onRefetch:D,admissionId:O}=e;const{t:U}=(0,v.$G)(),[q,z]=(0,m.useState)(0);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("div",{className:b.Z.oac_container,title:"View Profile",children:[(0,G.jsxs)("div",{className:b.Z.oac_container_inner,children:[(0,G.jsx)("img",{alt:"Student Request Avatar",src:null!==T&&void 0!==T&&null!==(n=T.student)&&void 0!==n&&n.studentProfilePhoto?"".concat(y.yI,"/").concat(null===T||void 0===T||null===(l=T.student)||void 0===l?void 0:l.studentProfilePhoto):"".concat(x.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,G.jsxs)("div",{className:b.Z.oac_container_inner_info,children:[(0,G.jsx)("h6",{children:"".concat(null!==(t=null===T||void 0===T||null===(i=T.student)||void 0===i?void 0:i.studentFirstName)&&void 0!==t?t:""," ").concat(null!==T&&void 0!==T&&null!==(d=T.student)&&void 0!==d&&d.studentMiddleName?null===T||void 0===T||null===(s=T.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null!==(a=null===T||void 0===T||null===(o=T.student)||void 0===o?void 0:o.studentLastName)&&void 0!==a?a:"")}),(0,G.jsxs)("h6",{children:[U("fee_structure")," : ",null!==(r=null===T||void 0===T||null===(u=T.fee_struct)||void 0===u||null===(c=u.unique_structure_name)||void 0===c||null===(_=c.split(" - "))||void 0===_?void 0:_[0])&&void 0!==r?r:"",", ",U("rs_only")," ",null!==(h=null===T||void 0===T||null===(p=T.fee_struct)||void 0===p?void 0:p.applicable_fees)&&void 0!==h?h:""]})]})]}),(0,G.jsxs)("div",{className:b.Z.oac_container_contact,children:[(0,G.jsxs)("div",{className:b.Z.oac_container_contact_inner,children:[(0,G.jsx)("img",{src:"".concat(x.U_,"/gender.svg"),alt:"email icon"}),(0,G.jsx)("p",{children:null===T||void 0===T||null===(f=T.student)||void 0===f?void 0:f.studentGender})]}),(0,G.jsxs)("div",{className:b.Z.oac_container_contact_inner,children:[(0,G.jsx)("img",{src:"".concat(x.U_,"/phone.svg"),alt:"phone icon"}),(0,G.jsx)("p",{children:null!==T&&void 0!==T&&null!==(g=T.student)&&void 0!==g&&null!==(j=g.user)&&void 0!==j&&j.userPhoneNumber?null===T||void 0===T||null===(N=T.student)||void 0===N||null===(I=N.user)||void 0===I?void 0:I.userPhoneNumber:null!==T&&void 0!==T&&null!==(S=T.student)&&void 0!==S&&null!==(C=S.user)&&void 0!==C&&C.userEmail?null===T||void 0===T||null===(A=T.student)||void 0===A||null===(k=A.user)||void 0===k?void 0:k.userEmail:null!==T&&void 0!==T&&null!==(P=T.student)&&void 0!==P&&P.studentPhoneNumber?null===T||void 0===T||null===(F=T.student)||void 0===F?void 0:F.studentPhoneNumber:null!==T&&void 0!==T&&null!==(R=T.student)&&void 0!==R&&R.studentParentsPhoneNumber?null===T||void 0===T||null===(E=T.student)||void 0===E?void 0:E.studentParentsPhoneNumber:null!==(w=null===T||void 0===T||null===(L=T.student)||void 0===L?void 0:L.studentEmail)&&void 0!==w?w:""})]})]}),(0,G.jsx)("div",{className:b.Z.oac_container_stuff,children:(0,G.jsx)(Z.Z,{label:"collect_fees",onAction:()=>{z(1)},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}})})]}),1===q?(0,G.jsx)(M,{onClose:()=>{z("")},onRefetch:D,applicant:T,admissionId:O}):null]})},D=e=>{var n,l,t,i;let{aid:d,instituteId:s}=e;const{t:a}=(0,v.$G)(),[o,r]=(0,m.useState)(""),[u,y]=(0,m.useState)(1),[b,Z]=(0,m.useState)(!0),[I,S]=(0,_.YD)({skip:o}),{admissionReadmissionList:C,admissionReadmissionListLoading:A,admissionReadmissionListRefetch:k}=(0,h.gC)({data:{aid:d,page:u,limit:10,search:o},skip:!d});(0,m.useEffect)((()=>{S&&b&&y((e=>e+1))}),[S,b]),(0,m.useEffect)((()=>{var e;if(null!==C&&void 0!==C&&null!==(e=C.list)&&void 0!==e&&e.length){var n;let e=(0,p.f)(null===C||void 0===C||null===(n=C.list)||void 0===n?void 0:n.length);Z((()=>e))}}),[null===C||void 0===C||null===(n=C.list)||void 0===n?void 0:n.length]);const P=(0,m.useCallback)((0,f.J)((e=>{y((()=>1)),r(e)}),1500),[]),F=(0,m.useCallback)((()=>{y((()=>1)),r(""),k()}),[]);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("div",{className:c.Z.fm_search_full,style:{marginBottom:"0.7rem"},children:(0,G.jsx)("section",{className:c.Z.fm_search_full_container,children:(0,G.jsxs)("div",{className:c.Z.fm_search_full_container_inner,children:[(0,G.jsx)("img",{className:c.Z.fm_search_full_icon,alt:"search icon",src:"".concat(x.dB,"/navbar-search.svg")}),(0,G.jsx)("input",{type:"text",placeholder:a("search"),onChange:e=>{e.target.value?P(e.target.value):(y((()=>1)),r(""))},name:"search"})]})})}),null===C||void 0===C||null===(l=C.list)||void 0===l?void 0:l.map(((e,n)=>{var l;return(null===C||void 0===C||null===(l=C.list)||void 0===l?void 0:l.length)===n+1?(0,G.jsx)("div",{ref:I,children:(0,G.jsx)(T,{applicant:e,instituteId:s,onRefetch:F,admissionId:d})},null===e||void 0===e?void 0:e._id):(0,G.jsx)(T,{applicant:e,instituteId:s,onRefetch:F,admissionId:d},null===e||void 0===e?void 0:e._id)})),A?o?(0,G.jsx)(g.Z,{}):(0,G.jsx)(j.Z,{}):o?0===(null===C||void 0===C||null===(t=C.list)||void 0===t?void 0:t.length)&&(0,G.jsx)(N.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No internal admission found related this search."}):0===(null===C||void 0===C||null===(i=C.list)||void 0===i?void 0:i.length)&&(0,G.jsx)(N.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No internal admission list."})]})};var O=l(97892),U=l.n(O),q=l(66239);const z=e=>{var n,l,t,d,s,a,o,r,u,c,_,h,p,f,g,j,N,Z,I,S,C,A,k,P,F,R,E,w,L;let{applicant:M,instituteId:T}=e;const{t:D}=(0,v.$G)(),O=(0,i.UO)(),z=(0,i.s0)(),B=(0,m.useCallback)((()=>{var e;z("/q/".concat(O.username,"/student/profile"),{state:{sid:null===M||void 0===M||null===(e=M.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:T,collectAccess:"ADMISSION_ADMIN"}})}),[T,null===M||void 0===M||null===(n=M.student)||void 0===n?void 0:n._id]);return(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)("div",{className:b.Z.oac_container,onClick:B,title:"View Profile",children:[(0,G.jsxs)("div",{className:b.Z.oac_container_inner,children:[(0,G.jsx)("img",{alt:"Student Request Avatar",src:null!==M&&void 0!==M&&null!==(l=M.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(y.yI,"/").concat(null===M||void 0===M||null===(t=M.student)||void 0===t?void 0:t.studentProfilePhoto):"".concat(x.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,G.jsxs)("div",{className:b.Z.oac_container_inner_info,children:[(0,G.jsx)("h6",{children:"".concat(null!==(d=null===M||void 0===M||null===(s=M.student)||void 0===s?void 0:s.studentFirstName)&&void 0!==d?d:""," ").concat(null!==M&&void 0!==M&&null!==(a=M.student)&&void 0!==a&&a.studentMiddleName?null===M||void 0===M||null===(o=M.student)||void 0===o?void 0:o.studentMiddleName:""," ").concat(null!==(r=null===M||void 0===M||null===(u=M.student)||void 0===u?void 0:u.studentLastName)&&void 0!==r?r:"")}),(0,G.jsxs)("p",{children:[D("confirmed_on"),":"," ",U()(null===M||void 0===M?void 0:M.apply_on).format("DD MMM YYYY")]})]})]}),(0,G.jsxs)("div",{className:b.Z.oac_container_contact,children:[(0,G.jsxs)("div",{className:b.Z.oac_container_contact_inner,children:[(0,G.jsx)("img",{src:"".concat(x.U_,"/gender.svg"),alt:"email icon"}),(0,G.jsx)("p",{children:null===M||void 0===M||null===(c=M.student)||void 0===c?void 0:c.studentGender})]}),(0,G.jsxs)("div",{className:b.Z.oac_container_contact_inner,children:[(0,G.jsx)("img",{src:"".concat(x.U_,"/phone.svg"),alt:"phone icon"}),(0,G.jsx)("p",{children:null!==M&&void 0!==M&&null!==(_=M.student)&&void 0!==_&&null!==(h=_.user)&&void 0!==h&&h.userPhoneNumber?null===M||void 0===M||null===(p=M.student)||void 0===p||null===(f=p.user)||void 0===f?void 0:f.userPhoneNumber:null!==M&&void 0!==M&&null!==(g=M.student)&&void 0!==g&&null!==(j=g.user)&&void 0!==j&&j.userEmail?null===M||void 0===M||null===(N=M.student)||void 0===N||null===(Z=N.user)||void 0===Z?void 0:Z.userEmail:null!==M&&void 0!==M&&null!==(I=M.student)&&void 0!==I&&I.studentPhoneNumber?null===M||void 0===M||null===(S=M.student)||void 0===S?void 0:S.studentPhoneNumber:null!==M&&void 0!==M&&null!==(C=M.student)&&void 0!==C&&C.studentParentsPhoneNumber?null===M||void 0===M||null===(A=M.student)||void 0===A?void 0:A.studentParentsPhoneNumber:null!==(k=null===M||void 0===M||null===(P=M.student)||void 0===P?void 0:P.studentEmail)&&void 0!==k?k:""})]})]}),(0,G.jsxs)("div",{className:b.Z.oac_container_stuff,children:[(0,G.jsx)("a",{href:"".concat(y.q2,"/").concat(null===M||void 0===M||null===(F=M.student)||void 0===F||null===(R=F.application_print)||void 0===R||null===(E=R[0])||void 0===E?void 0:E.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,G.jsx)("img",{src:"".concat(x.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),null===M||void 0===M||null===(w=M.student)||void 0===w||null===(L=w.fee_receipt)||void 0===L?void 0:L.map(((e,n)=>n>2?"":(0,G.jsx)(q.Z,{rid:null===e||void 0===e?void 0:e._id,receiptFile:null===e||void 0===e?void 0:e.receipt_file},null===e||void 0===e?void 0:e._id)))]})]})})},B=e=>{var n,l,t,i;let{aid:d,instituteId:s}=e;const{t:a}=(0,v.$G)(),[o,r]=(0,m.useState)(""),[u,y]=(0,m.useState)(1),[b,Z]=(0,m.useState)(!0),[I,S]=(0,_.YD)({skip:o}),{admissionReadmissionConfirmedList:C,admissionReadmissionConfirmedListLoading:A}=(0,h.w_)({data:{aid:d,page:u,limit:10,search:o},skip:!d});(0,m.useEffect)((()=>{S&&b&&y((e=>e+1))}),[S,b]),(0,m.useEffect)((()=>{var e;if(null!==C&&void 0!==C&&null!==(e=C.list)&&void 0!==e&&e.length){var n;let e=(0,p.f)(null===C||void 0===C||null===(n=C.list)||void 0===n?void 0:n.length);Z((()=>e))}}),[null===C||void 0===C||null===(n=C.list)||void 0===n?void 0:n.length]);const k=(0,m.useCallback)((0,f.J)((e=>{y((()=>1)),r(e)}),1500),[]);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("div",{className:c.Z.fm_search_full,style:{marginBottom:"0.7rem"},children:(0,G.jsx)("section",{className:c.Z.fm_search_full_container,children:(0,G.jsxs)("div",{className:c.Z.fm_search_full_container_inner,children:[(0,G.jsx)("img",{className:c.Z.fm_search_full_icon,alt:"search icon",src:"".concat(x.dB,"/navbar-search.svg")}),(0,G.jsx)("input",{type:"text",placeholder:a("search"),onChange:e=>{e.target.value?k(e.target.value):(y((()=>1)),r(""))},name:"search"})]})})}),null===C||void 0===C||null===(l=C.list)||void 0===l?void 0:l.map(((e,n)=>{var l;return(null===C||void 0===C||null===(l=C.list)||void 0===l?void 0:l.length)===n+1?(0,G.jsx)("div",{ref:I,children:(0,G.jsx)(z,{applicant:e,instituteId:s})},null===e||void 0===e?void 0:e._id):(0,G.jsx)(z,{applicant:e,instituteId:s},null===e||void 0===e?void 0:e._id)})),A?o?(0,G.jsx)(g.Z,{}):(0,G.jsx)(j.Z,{}):o?0===(null===C||void 0===C||null===(t=C.list)||void 0===t?void 0:t.length)&&(0,G.jsx)(N.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No confirmed admission found related this search."}):0===(null===C||void 0===C||null===(i=C.list)||void 0===i?void 0:i.length)&&(0,G.jsx)(N.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No confirmed admission list."})]})},H=e=>{let{instituteId:n,studentAlias:l,aid:m}=e;const{t:_}=(0,v.$G)(),[h]=(0,t.lr)(),p=(0,i.TH)(),f=(0,i.UO)();return(0,G.jsxs)(d.Z,{children:[(0,G.jsx)(s.Z,{children:(0,G.jsx)("div",{className:c.Z.fm_header_container,children:(0,G.jsx)("h6",{children:_("re_admission_only")})})}),(0,G.jsx)(a.Z,{}),(0,G.jsx)(o.Z,{children:Y.map((e=>{var n,l;return(0,G.jsx)(r.Z,{tab:e,isLink:!0,isActive:null===(n=e.groupIs)||void 0===n?void 0:n.includes(h.get("n")),parentState:p.state,url:"Institute"===(null===(l=p.state)||void 0===l?void 0:l.urlOffSet)?"/q/".concat(f.username,"/institute/member/finance?type=admission-fee").concat(e.urlKey):"/q/".concat(f.username,"/member/staff/admission?type=internal").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,G.jsx)(a.Z,{customStyleBorder:{marginTop:"0"}}),h.get("n")?"re-admission"===h.get("n")?(0,G.jsx)(s.Z,{children:(0,G.jsx)(D,{aid:m,instituteId:n})}):"confirmed"===h.get("n")?(0,G.jsx)(s.Z,{children:(0,G.jsx)(B,{aid:m,instituteId:n})}):null:(0,G.jsx)(u.default,{instituteId:n,studentAlias:l,invalidateAccess:"unAuthorized",allStudentControl:$})]})},Y=[{label:"all_students",id:"student",urlKey:"",groupIs:["",null]},{label:"internal_admission",id:"re-admission",urlKey:"&n=re-admission",groupIs:["re-admission"]},{label:"confirm_admission",id:"confirmed",urlKey:"&n=confirmed",groupIs:["confirmed"]}],$={collectAccess:"Other",govtAccess:"Other",cancelAccess:!1,editStructureControl:"unauthorized",editGovtNumberContorl:"unauthorized",editInstallmentControl:"unauthorized",editGovtInstallmentControl:"unauthorized"}},85303:(e,n,l)=>{l.r(n),l.d(n,{default:()=>E});var t=l(63687),i=l(21348),d=l(72791),s=l(39230),a=l(23441),o=l(56959),r=l(90904),u=l(98684),c=l(57588),v=l(91427),m=l(6758);const _="FinanceAllStudent_student_table__Y3uXE",h="FinanceAllStudent_student_table_header__4fuiU",p="FinanceAllStudent_student_table_header_label__4x6eY",f="FinanceAllStudent_student_table_content_card__3KWaE",x="FinanceAllStudent_student_table_profile__QUIFN",g="FinanceAllStudent_student_table_header_name__x4ZNJ",j="FinanceAllStudent_student_table_header_label_text__lny-H",N="FinanceAllStudent_student_table_contact__f4eB5",y="FinanceAllStudent_student_table_contact_email__dV19L",b="FinanceAllStudent_student_table_contact_number__r7HNK";var Z=l(80184);const I=e=>{let{studentAlias:n}=e;const{t:l}=(0,s.$G)();return(0,Z.jsx)("div",{className:_,children:(0,Z.jsxs)("div",{className:h,children:[(0,Z.jsx)("p",{className:p,style:{flex:"1"},children:null!==n&&void 0!==n?n:l("gr_no")}),(0,Z.jsx)("p",{className:p,style:{flex:"3"},children:l("name")}),(0,Z.jsx)("p",{className:p,style:{flex:"2"},children:l("contact_number")}),(0,Z.jsx)("p",{className:p,style:{flex:"1"},children:l("applicable_outs")}),(0,Z.jsx)("p",{className:p,style:{flex:"0.7"},children:l("govt_oustanding")})]})})};var S=l(1095),C=l(16871),A=l(43504);const k=e=>{var n,l,t,i,d,s,a,o,c;let{student:v,messageId:m,headId:_,instituteId:h,allStudentControl:I}=e;const k=(0,C.UO)(),P=(0,C.TH)();return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)(A.rU,{to:"/q/".concat(k.username,"/member/student/admission/profile"),state:{...P.state,sid:null===v||void 0===v?void 0:v._id,messageId:m,headId:_,instituteId:h,collectAccess:null===I||void 0===I?void 0:I.collectAccess,govtAccess:null===I||void 0===I?void 0:I.govtAccess,cancelAccess:null===I||void 0===I?void 0:I.cancelAccess,editStructureControl:null===I||void 0===I?void 0:I.editStructureControl,editGovtNumberContorl:null===I||void 0===I?void 0:I.editGovtNumberContorl,editInstallmentControl:null===I||void 0===I?void 0:I.editInstallmentControl,editGovtInstallmentControl:null===I||void 0===I?void 0:I.editGovtInstallmentControl},children:[(0,Z.jsxs)("div",{className:f,style:{cursor:"pointer"},children:[(0,Z.jsx)("p",{className:p,style:{flex:"1"},children:null!==(n=null===v||void 0===v?void 0:v.studentGRNO)&&void 0!==n?n:""}),(0,Z.jsxs)("div",{className:x,style:{flex:"3"},children:[(0,Z.jsx)("img",{src:null!==v&&void 0!==v&&v.studentProfilePhoto?"".concat(S.yI,"/").concat(null===v||void 0===v?void 0:v.studentProfilePhoto):"".concat(u.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("p",{className:g,children:["".concat(null!==(l=null===v||void 0===v?void 0:v.studentFirstName)&&void 0!==l?l:""," ").concat(null!==(t=null===v||void 0===v?void 0:v.studentMiddleName)&&void 0!==t?t:""," ").concat(null!==(i=null===v||void 0===v?void 0:v.studentLastName)&&void 0!==i?i:""),"100"===(null===v||void 0===v?void 0:v.profile_percentage)||100===(null===v||void 0===v?void 0:v.profile_percentage)?(0,Z.jsx)("img",{src:"".concat(u.Fk,"/complete.svg"),loading:"lazy",alt:"avatar",style:{marginLeft:"0.6rem",height:"1rem"}}):null]}),(0,Z.jsx)("p",{className:j,children:null!==(d=null===v||void 0===v||null===(s=v.studentClass)||void 0===s?void 0:s.classTitle)&&void 0!==d?d:""})]})]}),(0,Z.jsxs)("div",{className:p,style:{flex:"2"},children:[(0,Z.jsxs)("div",{className:N,children:[(0,Z.jsx)("img",{src:"".concat(u.Fk,"/gender.svg"),alt:"gender icon"}),(0,Z.jsx)("p",{className:y,children:null===v||void 0===v?void 0:v.studentGender})]}),(0,Z.jsxs)("div",{className:N,style:{marginTop:"0.4rem"},children:[(0,Z.jsx)("img",{src:"".concat(u.Fk,"/phone.svg"),alt:"phone icon"}),(0,Z.jsx)("p",{className:b,children:null!==v&&void 0!==v&&v.user.userPhoneNumber?null===v||void 0===v?void 0:v.user.userPhoneNumber:null!==(a=null===v||void 0===v?void 0:v.user.userEmail)&&void 0!==a?a:""})]})]}),(0,Z.jsx)("p",{className:p,style:{flex:"1",textAlign:"right"},children:null!==(o=null===v||void 0===v?void 0:v.applicable_fees_pending)&&void 0!==o?o:0}),(0,Z.jsx)("p",{className:p,style:{flex:"0.7",textAlign:"right"},children:null!==(c=null===v||void 0===v?void 0:v.government_fees_pending)&&void 0!==c?c:0})]}),(0,Z.jsx)(r.Z,{customStyleBorder:{margin:"0"}})]})})};var P=l(55336),F=l(1669),R=l(2651);const E=e=>{var n,l,_,h,p;let{instituteId:f,studentAlias:x,headId:g,messageId:j,invalidateAccess:N,allStudentControl:y}=e;const{t:b}=(0,s.$G)(),[S,C]=(0,d.useState)(""),[A,E]=(0,d.useState)(1),[L,G]=(0,d.useState)(!0),[M,T]=(0,a.YD)({skip:S}),{instituteAllStudent:D,instituteAllStudentLoading:O}=(0,m.Cp)({data:{id:f,page:A,limit:10,search:S},skip:!f});(0,d.useEffect)((()=>{T&&L&&E((e=>e+1))}),[T,L]),(0,d.useEffect)((()=>{if(null!==D&&void 0!==D&&D.list){var e;let n=(0,v.f)(null===D||void 0===D||null===(e=D.list)||void 0===e?void 0:e.length);G((()=>n))}}),[null===D||void 0===D?void 0:D.list]);const U=(0,d.useCallback)((0,c.J)((e=>{E((()=>1)),C(e)}),1500),[]),q=e=>{e.target.value?O||U(e.target.value):(E((()=>1)),C(""))};return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)(t.Z,{customStyle:{border:w[N]?"none":"0.5px solid #cacaca"},children:[w[N]?(0,Z.jsx)(i.Z,{children:(0,Z.jsx)("div",{className:o.Z.fm_search_full,children:(0,Z.jsx)("section",{className:o.Z.fm_search_full_container,children:(0,Z.jsxs)("div",{className:o.Z.fm_search_full_container_inner,children:[(0,Z.jsx)("img",{className:o.Z.fm_search_full_icon,alt:"search icon",src:"".concat(u.dB,"/navbar-search.svg")}),(0,Z.jsx)("input",{type:"text",placeholder:b("search"),onChange:q,disabled:!(S||(null===D||void 0===D||null===(n=D.list)||void 0===n?void 0:n.length)>0)})]})})})}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(i.Z,{children:(0,Z.jsxs)("div",{className:o.Z.fm_header_container,children:[(0,Z.jsx)("h6",{children:b("all_students")}),(0,Z.jsx)("div",{className:o.Z.fm_both_filter,children:(0,Z.jsx)("div",{className:o.Z.fm_search,children:(0,Z.jsx)("section",{className:o.Z.fm_search_container,children:(0,Z.jsxs)("div",{className:o.Z.fm_search_container_inner,children:[(0,Z.jsx)("img",{className:o.Z.fm_search_icon,alt:"search icon",src:"".concat(u.dB,"/navbar-search.svg")}),(0,Z.jsx)("input",{type:"text",placeholder:b("search"),onChange:q,style:{minWidth:"300px"},disabled:!(S||(null===D||void 0===D||null===(l=D.list)||void 0===l?void 0:l.length)>0)})]})})})})]})}),(0,Z.jsx)(r.Z,{})]}),(0,Z.jsx)(i.Z,{children:(0,Z.jsx)(I,{studentAlias:x})}),(0,Z.jsx)(r.Z,{}),(0,Z.jsxs)(i.Z,{children:[null===D||void 0===D||null===(_=D.list)||void 0===_?void 0:_.map(((e,n)=>{var l;return(null===D||void 0===D||null===(l=D.list)||void 0===l?void 0:l.length)===n+1?(0,Z.jsx)("div",{ref:M,children:(0,Z.jsx)(k,{student:e,instituteId:f,messageId:j,headId:g,allStudentControl:y})},null===e||void 0===e?void 0:e._id):(0,Z.jsx)(k,{student:e,instituteId:f,messageId:j,headId:g,allStudentControl:y},null===e||void 0===e?void 0:e._id)})),O?S?(0,Z.jsx)(P.Z,{}):(0,Z.jsx)(F.Z,{}):S?0===(null===D||void 0===D||null===(h=D.list)||void 0===h?void 0:h.length)&&(0,Z.jsx)(R.Z,{title:"No student found related this search."}):0===(null===D||void 0===D||null===(p=D.list)||void 0===p?void 0:p.length)&&(0,Z.jsx)(R.Z,{title:"No students added in institute."})]})]})})},w={unAuthorized:!0,govt:!0}},66239:(e,n,l)=>{l.d(n,{Z:()=>u});var t=l(72791),i=l(98684),d=l(6758),s=l(37782),a=l(55336),o=l(1095),r=l(80184);const u=e=>{let{rid:n,receiptFile:u}=e;const[c,v]=(0,t.useState)(""),[m,_]=(0,t.useState)(!1),[h,p]=(0,t.useState)(""),{financeReceipt:f,financeReceiptRefetch:x}=(0,d.Nw)({rid:c,skip:!c});(0,t.useEffect)((()=>{c&&x()}),[c,x]),(0,t.useEffect)((()=>{null!==f&&void 0!==f&&f.receipt&&null!==f&&void 0!==f&&f.all_remain&&p(f)}),[f]),(0,t.useEffect)((()=>{if(h){var e;const n=new Worker(new URL(l.p+l.u(21124),l.b));if("Hostel Application"===(null===h||void 0===h||null===(e=h.all_remain)||void 0===e?void 0:e.remaining_flow)){const{institute:e,studentInfo:l,paymentReceiptInfo:t}=(0,s.sp)(null===h||void 0===h?void 0:h.all_remain,null===h||void 0===h?void 0:h.receipt);n.postMessage({institute:e,studentInfo:l,paymentReceiptInfo:t,printReceiptType:"Refunded"===(null===t||void 0===t?void 0:t.transactonRefund)?"HOSTEL_REFUND":"HOSTEL"})}else{const{institute:e,studentInfo:l,paymentReceiptInfo:t}=(0,s.Hs)(null===h||void 0===h?void 0:h.all_remain,null===h||void 0===h?void 0:h.receipt);n.postMessage({institute:e,studentInfo:l,paymentReceiptInfo:t,printReceiptType:"Refunded"===(null===t||void 0===t?void 0:t.transactonRefund)?"ADMISSION_REFUND":"ADMISSION"})}n.onmessage=e=>{e&&(window.open(e.data,"_blank"),_((e=>!e)),p(""),n.terminate())}}}),[h]);return(0,r.jsxs)(r.Fragment,{children:[u?(0,r.jsx)("a",{href:"".concat(o.q2,"/").concat(u),target:"_blank",rel:"noopener noreferrer",onClick:e=>{e.stopPropagation()},children:(0,r.jsx)("img",{src:"".concat(i.J7,"/receipt.svg"),alt:"receipt icon",title:"Download Fees Receipt"})}):(0,r.jsx)("img",{src:"".concat(i.J7,"/receipt.svg"),alt:"receipt icon",title:"Download Fees Receipt",onClick:e=>(e=>{e.stopPropagation(),_((e=>!e)),v(n),c===n&&p(f)})(e)}),m&&(0,r.jsx)(a.Z,{})]})}}}]);
//# sourceMappingURL=82321.93366d31.chunk.js.map