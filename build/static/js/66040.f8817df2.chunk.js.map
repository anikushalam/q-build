{"version":3,"file":"static/js/66040.f8817df2.chunk.js","mappings":"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","sources":["webpack://mithkal-qviple/./src/Dashboard/InsDashboard/Modals/Master/CreateMaster.module.css?01f1","Dashboard/InsDashboard/Modals/Master/CreatMaster.jsx","Loader/LoaderButton.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"DModal\":\"CreateMaster_DModal__eSmTR\",\"title\":\"CreateMaster_title__V5f28\",\"input\":\"CreateMaster_input__l7PgE\",\"mid\":\"CreateMaster_mid__yea0d\",\"text\":\"CreateMaster_text__dpn-0\",\"btn\":\"CreateMaster_btn__8XDZ1\",\"notFound\":\"CreateMaster_notFound__+NoeL\",\"item\":\"CreateMaster_item__MjBgP\",\"select\":\"CreateMaster_select__fALoO\",\"tooltip\":\"CreateMaster_tooltip__5QFkl\",\"profileToolTip\":\"CreateMaster_profileToolTip__3jLRO\",\"triangle\":\"CreateMaster_triangle__y4H3p\",\"triangleDisplay\":\"CreateMaster_triangleDisplay__BUJ62\",\"profilelist\":\"CreateMaster_profilelist__Heo3E\",\"subject_tile_container\":\"CreateMaster_subject_tile_container__FaUtF\",\"subject_tile\":\"CreateMaster_subject_tile__DIwTq\",\"subject_tile_active\":\"CreateMaster_subject_tile_active__m7kBe\"};","import React, { useState } from \"react\";\nimport style from \"./CreateMaster.module.css\";\nimport { Dialog } from \"@mui/material\";\nimport { useTranslation } from \"react-i18next\";\nimport \"../AddDisplay.css\";\nimport {\n  useOneDepartmentAddClassMaster,\n  useOneDepartmentAddSubjectMaster,\n  useOneDepartmentAllClassMaster,\n  useOneDepartmentAllSubjectMaster,\n} from \"../../../../Department/Institute/Components/DepartmentApi/depart-api\";\nimport LoaderButton from \"../../../../Loader/LoaderButton\";\nimport StringLength from \"../../../../Custom/Validation/StringLength\";\nimport JoinFormInput from \"../../../../JoiningForm/Student/Form/JoinFormInput\";\n\nfunction CreateMaster({ departmentModal, hideModal, id, did }) {\n  const { t } = useTranslation();\n  const [master, setMaster] = useState(\"Standard/Grade/Level Master\");\n  const [disabled, setDisabled] = useState(false);\n  const [fillAllDetail, setFillAllDetail] = useState(\"\");\n  // const [subjectType, setSubjectType] = useState(\"Mandatory\");\n  const [subjectName, setSubjectName] = useState(\"\");\n  const [courseCode, setCourseCode] = useState(\"\");\n  const [coCount, setCoCount] = useState(\"\");\n  const [coList, setCoList] = useState([]);\n  const switchMaster = (option) => {\n    setMaster(option);\n    setSubjectName(\"\");\n  };\n  // const switchSubjectType = (option) => {\n  //   setSubjectType(option);\n  // };\n\n  //for the subject Create\n  const [addSubjectMaster] = useOneDepartmentAddSubjectMaster();\n  const { allSubjectMasterRefetch } = useOneDepartmentAllSubjectMaster({\n    data: {\n      id: id,\n      did: did,\n    },\n    skip: !id ? !id : !did,\n  });\n\n  //for the master create\n  const [addClassMaster] = useOneDepartmentAddClassMaster();\n  const { allClassMasterRefetch } = useOneDepartmentAllClassMaster({\n    data: {\n      id: id,\n      did: did,\n    },\n    skip: !id ? !id : !did,\n  });\n\n  const masterSubmitHandler = () => {\n    if (master === \"Standard/Grade/Level Master\") {\n      if (subjectName) {\n        setDisabled(true);\n        addClassMaster({\n          className: { className: subjectName },\n          id: id,\n          did: did,\n        })\n          .then((res) => {\n            if (res?.data) {\n              hideModal(false);\n              setDisabled(false);\n              setSubjectName(\"\");\n              allClassMasterRefetch();\n            }\n          })\n          .catch({});\n      } else {\n        setFillAllDetail({ subjectName: \"* required\" });\n      }\n    } else if (master === \"Subject Master\") {\n      if (subjectName) {\n        setDisabled(true);\n        addSubjectMaster({\n          subject: {\n            subjectName: subjectName,\n            subjectType: \"Mandatory\",\n            co_attainment_count: coCount,\n            co_attainment_list: coList,\n            course_code: courseCode,\n            // subjectType: subjectType,\n          },\n          id: id,\n          did: did,\n        })\n          .then((res) => {\n            if (res?.data) {\n              hideModal(false);\n              setDisabled(false);\n              allSubjectMasterRefetch();\n              setSubjectName(\"\");\n            }\n          })\n          .catch({});\n      } else {\n        setFillAllDetail({ subjectName: \"* required\" });\n      }\n    } else {\n    }\n  };\n\n  const onCountChange = (e) => {\n    setCoCount(e.target.value);\n\n    let arr = [];\n    for (let i = 0; i < +e.target.value; i++) {\n      let obj = {\n        attainment_name: `CO${i + 1}`,\n        attainment_type: \"CO\",\n      };\n      arr.push(obj);\n    }\n    setCoList(arr);\n  };\n\n  const onCoInputChange = (e, index) => {\n    const inputarr = [...coList];\n    for (let inp = 0; inp < inputarr?.length; inp++) {\n      if (inp === index) {\n        inputarr[inp].attainment_name = e.target.value;\n      }\n    }\n    setCoList(inputarr);\n  };\n  return (\n    <Dialog open={departmentModal}>\n      <div className={style.DModal}>\n        <div className={style.title}>\n          <h5>{t(\"create_new_master\")}</h5>\n          <img\n            src=\"/images/close-post-icon.svg\"\n            onClick={() => hideModal(false)}\n            alt=\"\"\n          />\n        </div>\n        <div className={style.item}>\n          <h6>{t(\"create_master_header_1\")}</h6>\n          <section className={style.subject_tile_container}>\n            <div\n              className={\n                master === \"Standard/Grade/Level Master\"\n                  ? style.subject_tile_active\n                  : style.subject_tile\n              }\n              onClick={() => switchMaster(\"Standard/Grade/Level Master\")}\n            >\n              Standard/Grade/Level Master\n            </div>\n            <div\n              className={\n                master === \"Subject Master\"\n                  ? style.subject_tile_active\n                  : style.subject_tile\n              }\n              onClick={() => switchMaster(\"Subject Master\")}\n            >\n              Subject Master\n            </div>\n          </section>\n        </div>\n        <JoinFormInput\n          labelText={t(\"create_master_header_2\")}\n          placeholder={t(\"e.g. 6th Class/ FYJC\")}\n          name={\"subjectName\"}\n          value={subjectName}\n          type={\"text\"}\n          onChange={(e) => {\n            if (e.target.value?.length <= 40) {\n              setSubjectName(e.target.value);\n            }\n          }}\n          errorShow={fillAllDetail}\n        />\n        <StringLength maxLength={40} valueLength={subjectName} />\n        {master === \"Subject Master\" ? (\n          <>\n            <JoinFormInput\n              labelText={t(\"course_code\")}\n              placeholder={t(\"course_code_placeholder\")}\n              name={\"course\"}\n              value={courseCode}\n              type={\"text\"}\n              onChange={(e) => setCourseCode(e.target.value)}\n            />\n            <JoinFormInput\n              labelText={t(\"co_count\")}\n              placeholder={t(\"co_count_placeholder\")}\n              name={\"count\"}\n              value={coCount}\n              type={\"text\"}\n              onChange={onCountChange}\n            />\n\n            {coList?.map((co, index) => (\n              <JoinFormInput\n                key={index}\n                labelText={t(\"co_name\")}\n                placeholder={t(\"co_name_placeholder\")}\n                name={co[\"attainment_name\"]}\n                value={co[\"attainment_name\"]}\n                type={\"text\"}\n                onChange={(e) => onCoInputChange(e, index)}\n              />\n            ))}\n          </>\n        ) : null}\n\n        <button\n          className={style.btn}\n          onClick={masterSubmitHandler}\n          disabled={disabled}\n        >\n          <p>{t(\"create\")}</p>\n          {disabled && (\n            <div>\n              <LoaderButton />\n            </div>\n          )}\n        </button>\n      </div>\n    </Dialog>\n  );\n}\n\nexport default CreateMaster;\n","import React from \"react\";\nimport { Oval } from \"react-loader-spinner\";\nimport \"./LoaderButton.css\";\nconst LoaderButton = () => {\n  return (\n    <Oval\n      ariaLabel=\"loading-indicator\"\n      height={20}\n      width={20}\n      // strokeWidth={5}\n      color=\"white\"\n      secondaryColor=\"#1c023b\"\n    />\n  );\n};\n\nexport default LoaderButton;\n"],"names":["_ref","departmentModal","hideModal","id","did","t","useTranslation","master","setMaster","useState","disabled","setDisabled","fillAllDetail","setFillAllDetail","subjectName","setSubjectName","courseCode","setCourseCode","coCount","setCoCount","coList","setCoList","switchMaster","option","addSubjectMaster","useOneDepartmentAddSubjectMaster","allSubjectMasterRefetch","useOneDepartmentAllSubjectMaster","data","skip","addClassMaster","useOneDepartmentAddClassMaster","allClassMasterRefetch","useOneDepartmentAllClassMaster","_jsx","Dialog","open","children","_jsxs","className","style","src","onClick","alt","JoinFormInput","labelText","placeholder","name","value","type","onChange","e","_e$target$value","target","length","errorShow","StringLength","maxLength","valueLength","_Fragment","arr","i","obj","attainment_name","concat","attainment_type","push","map","co","index","onCoInputChange","inputarr","inp","masterSubmitHandler","then","res","catch","subject","subjectType","co_attainment_count","co_attainment_list","course_code","LoaderButton","Oval","ariaLabel","height","width","color","secondaryColor"],"sourceRoot":""}