"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[21245],{93037:(l,e,i)=>{i.r(e),i.d(e,{default:()=>g});var n=i(72791),o=i(56959),s=i(23441),a=i(91427),d=i(57588),t=i(63687),c=i(21348),r=i(90904),v=i(55336),m=i(1669),u=i(2651),h=i(36132),f=i(39230),x=i(98684),_=i(56986),j=i(80184);const g=l=>{var e,i,g;let{modId:p}=l;const{t:N}=(0,f.$G)(),[Z,y]=(0,n.useState)(""),[w,b]=(0,n.useState)(1),[M,k]=(0,n.useState)(!0),[Y,L]=(0,s.YD)({skip:Z}),{lmsModeratorAllHistoryList:D,lmsModeratorAllHistoryListLoading:F}=(0,h.EL)({data:{mid:p,page:w,limit:10,search:Z,flow:"Recommend_Section"},skip:!p});(0,n.useEffect)((()=>{L&&M&&b((l=>l+1))}),[L,M]),(0,n.useEffect)((()=>{var l;if(null!==D&&void 0!==D&&null!==(l=D.list)&&void 0!==l&&l.length){var e;let l=(0,a.f)(null===D||void 0===D||null===(e=D.list)||void 0===e?void 0:e.length);k((()=>l))}}),[null===D||void 0===D?void 0:D.list]);const S=(0,n.useCallback)((0,d.J)((l=>{b((()=>1)),y(l)}),1500),[]);return(0,j.jsxs)(t.Z,{children:[(0,j.jsx)(c.Z,{children:(0,j.jsxs)("div",{className:o.Z.fm_header_container,children:[(0,j.jsx)("h6",{children:N("leave_history")}),(0,j.jsx)("div",{className:o.Z.fm_search,children:(0,j.jsx)("section",{className:o.Z.fm_search_container,children:(0,j.jsxs)("div",{className:o.Z.fm_search_container_inner,children:[(0,j.jsx)("img",{className:o.Z.fm_search_icon,alt:"search icon",src:"".concat(x.dB,"/navbar-search.svg")}),(0,j.jsx)("input",{type:"text",placeholder:N("search"),onChange:l=>{l.target.value?S(l.target.value):(b((()=>1)),y(""))}})]})})})]})}),(0,j.jsx)(r.Z,{}),(0,j.jsxs)(c.Z,{children:[null===D||void 0===D||null===(e=D.list)||void 0===e?void 0:e.map(((l,e)=>{var i;return(null===D||void 0===D||null===(i=D.list)||void 0===i?void 0:i.length)===e+1?(0,j.jsx)("div",{ref:Y,children:(0,j.jsx)(_.Z,{leave:l})},null===l||void 0===l?void 0:l._id):(0,j.jsx)(_.Z,{leave:l},null===l||void 0===l?void 0:l._id)})),F?Z?(0,j.jsx)(v.Z,{}):(0,j.jsx)(m.Z,{}):Z?0===(null===D||void 0===D||null===(i=D.list)||void 0===i?void 0:i.length)&&(0,j.jsx)(u.Z,{title:"No staff leave history found related this search."}):0===(null===D||void 0===D||null===(g=D.list)||void 0===g?void 0:g.length)&&(0,j.jsx)(u.Z,{title:"No staff leave history."})]})]})}},56986:(l,e,i)=>{i.d(e,{Z:()=>u});var n=i(72791),o=i(98684),s=i(97892),a=i.n(s),d=i(82824),t=i(1095),c=i(55050),r=i(39230),v=i(45445),m=i(80184);const u=l=>{var e,i,s,u,h,f,x,_,j,g,p,N,Z,y,w,b,M,k,Y,L,D,F,S,C,T,J,P,q,A,E;let{leave:R,whichAccess:W}=l;const{t:G}=(0,r.$G)(),[H,I]=(0,n.useState)(!1),$=()=>{I((l=>!l))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:c.Z.lmsr_card,children:[(0,m.jsx)("div",{className:c.Z.lmsrc_card,children:(0,m.jsxs)("div",{className:c.Z.lmsrc_card_inner,children:[(0,m.jsx)("img",{src:null!==R&&void 0!==R&&null!==(e=R.staff)&&void 0!==e&&e.staffProfilePhoto?"".concat(t.yI,"/").concat(null===R||void 0===R||null===(i=R.staff)||void 0===i?void 0:i.staffProfilePhoto):"".concat(o.p3,"/feed-user-avatar.svg"),alt:"staff icon"}),(0,m.jsxs)("div",{className:c.Z.lmsrci_text,children:[(0,m.jsx)("h6",{children:"".concat(null===R||void 0===R||null===(s=R.staff)||void 0===s?void 0:s.staffFirstName," ").concat(null!==R&&void 0!==R&&null!==(u=R.staff)&&void 0!==u&&u.staffMiddleName?null===R||void 0===R||null===(h=R.staff)||void 0===h?void 0:h.staffMiddleName:""," ").concat(null===R||void 0===R||null===(f=R.staff)||void 0===f?void 0:f.staffLastName)}),(0,m.jsxs)("p",{children:["Sactioning"===W?(0,m.jsxs)(m.Fragment,{children:[G("sanction_on")," ",(0,d.J)(null===R||void 0===R||null===(x=R.sanction)||void 0===x?void 0:x.sanction_on,"LT"),","," ",a()(null===R||void 0===R||null===(_=R.sanction)||void 0===_?void 0:_.sanction_on).format("DD MMM YYYY")]}):"Reviewing"===W?(0,m.jsxs)(m.Fragment,{children:[G("reviewed_on"),(0,d.J)(null===R||void 0===R||null===(j=R.review)||void 0===j?void 0:j.review_on,"LT"),","," ",a()(null===R||void 0===R||null===(g=R.review)||void 0===g?void 0:g.review_on).format("DD MMM YYYY")]}):(0,m.jsxs)(m.Fragment,{children:[G("recomend_on")," ",(0,d.J)(null===R||void 0===R||null===(p=R.recommend)||void 0===p?void 0:p.recommend_ont,"LT"),", ",a()(null===R||void 0===R||null===(N=R.recommend)||void 0===N?void 0:N.recommend_ont).format("DD MMM YYYY"),", "]}),(0,m.jsx)("span",{className:c.Z.lmsrc_date,onClick:$,children:G("for_dates")})]}),(0,m.jsx)("p",{children:"Sactioning"===W?(0,m.jsxs)(m.Fragment,{children:[G("reviewing_by"),"".concat(null!==(Z=null===R||void 0===R||null===(y=R.review)||void 0===y||null===(w=y.review_by)||void 0===w?void 0:w.staffFirstName)&&void 0!==Z?Z:""," ").concat(null!==(b=null===R||void 0===R||null===(M=R.review)||void 0===M||null===(k=M.review_by)||void 0===k?void 0:k.staffMiddleName)&&void 0!==b?b:""," ").concat(null!==(Y=null===R||void 0===R||null===(L=R.review)||void 0===L||null===(D=L.review_by)||void 0===D?void 0:D.staffLastName)&&void 0!==Y?Y:"")]}):"Reviewing"===W?(0,m.jsxs)(m.Fragment,{children:[G("recomending_by"),"".concat(null!==(F=null===R||void 0===R||null===(S=R.recommend)||void 0===S||null===(C=S.recommend_by)||void 0===C?void 0:C.staffFirstName)&&void 0!==F?F:""," ").concat(null!==(T=null===R||void 0===R||null===(J=R.recommend)||void 0===J||null===(P=J.recommend_by)||void 0===P?void 0:P.staffMiddleName)&&void 0!==T?T:""," ").concat(null!==(q=null===R||void 0===R||null===(A=R.recommend)||void 0===A||null===(E=A.recommend_by)||void 0===E?void 0:E.staffLastName)&&void 0!==q?q:"")]}):null})]})]})}),(0,m.jsx)("div",{className:c.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,m.jsxs)("h6",{style:{fontWeight:"400"},children:[G("leave_type")," "," : ",null===R||void 0===R?void 0:R.leave_type]})}),(0,m.jsx)("div",{className:c.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,m.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[G("reason")," "," : ",null===R||void 0===R?void 0:R.reason]})}),(null===R||void 0===R?void 0:R.attach)&&(0,m.jsx)("div",{className:c.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,m.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[G("attachment")," "," : ",(0,m.jsx)("a",{href:"".concat(t.q2,"/").concat(null===R||void 0===R?void 0:R.attach),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,m.jsx)("span",{className:c.Z.lmsrc_date,children:G("view_attachment")})})]})})]}),H&&(0,m.jsx)(v.Z,{onClose:$,allDate:null===R||void 0===R?void 0:R.date})]})}}}]);
//# sourceMappingURL=21245.2442f3b6.chunk.js.map