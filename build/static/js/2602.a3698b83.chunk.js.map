{"version":3,"file":"static/js/2602.a3698b83.chunk.js","mappings":"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","sources":["webpack://mithkal-qviple/./src/Dashboard/InsDashboard/Components/Mainbody/Stats/Posts/EachPost/Menu.module.css?15e8","Dashboard/InsDashboard/Components/Mainbody/Stats/Posts/EachPost/Menu.jsx","Post/Institute/Components/search-api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"profileToolTip\":\"Menu_profileToolTip__syFxM\",\"profileToolTipPopup\":\"Menu_profileToolTipPopup__BnSgN\",\"triangle\":\"Menu_triangle__drjgu\",\"trianglePopup\":\"Menu_trianglePopup__CdR-r\",\"triangleNotPopup\":\"Menu_triangleNotPopup__FxBQr\",\"triangleDisplay\":\"Menu_triangleDisplay__o0OIb\",\"profilelist\":\"Menu_profilelist__gZkQm\"};","import React, { useEffect, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { instituteAs } from \"../../../../../../../constant/constant_value\";\nimport { useOneInstituteProfile } from \"../../../../../../../hooks/dashboard/dashboard-api\";\nimport {\n  useCommentOnOff,\n  usePostDelete,\n  usePostDeleteQuestion,\n  usePostVisibilityUpdate,\n} from \"../../../../../../../Post/Institute/Components/post-api\";\nimport { useInstituteUnfollow } from \"../../../../../../../Post/Institute/Components/search-api\";\nimport { postChangeAction } from \"../../../../../../../redux/store/post-slice\";\nimport style from \"./Menu.module.css\";\nimport { useTranslation } from \"react-i18next\";\nfunction Menu({\n  options,\n  authorId,\n  setDotsClicked,\n  pid,\n  postType,\n  status,\n  commentStatus,\n  allPosts,\n  popup,\n}) {\n  const { t } = useTranslation();\n  const ids = useSelector((state) => state.idChange);\n  const [state, setState] = React.useState(true);\n  const dispatch = useDispatch();\n  const [instituteUnfollow] = useInstituteUnfollow();\n  const [postVisibilityUpdate] = usePostVisibilityUpdate();\n  const [postDelete] = usePostDelete();\n  const [postDeleteQuestion] = usePostDeleteQuestion();\n  const [commentOnOff] = useCommentOnOff();\n  const { oneInstituteProfileRefetch } = useOneInstituteProfile({\n    data: {\n      id: ids?.id,\n      type: \"ID\",\n    },\n    skip: state,\n  });\n  const ref = useRef(null);\n\n  const unfollowDeleteHandler = (authorId) => {\n    const leftPost = [];\n    for (let i = 0; i < allPosts?.length; i++) {\n      if (allPosts[i].author !== authorId) {\n        leftPost.push(allPosts[i]);\n      }\n    }\n    return leftPost;\n  };\n\n  const clickHandler = (option) => {\n    if (option === \"post_unfollow\") {\n      const posts = unfollowDeleteHandler(authorId);\n      dispatch(\n        postChangeAction.unfollowPost({\n          posts: posts,\n        })\n      );\n      setDotsClicked(false);\n      instituteUnfollow({\n        followId: authorId,\n      })\n        .then(() => {})\n        .catch({});\n    } else if (option === \"post_visibility\") {\n      dispatch(\n        postChangeAction.changeVisibility({\n          pid: pid,\n          status: status === \"Anyone\" ? \"Private\" : \"Anyone\",\n        })\n      );\n      setDotsClicked(false);\n      postVisibilityUpdate({\n        pid: pid,\n        viewAs: instituteAs,\n        postUpdate: { postStatus: status === \"Anyone\" ? \"Private\" : \"Anyone\" },\n      })\n        .then(() => {})\n        .catch({});\n    } else if (option === \"post_delete\") {\n      dispatch(\n        postChangeAction.deletePost({\n          pid: pid,\n        })\n      );\n      setDotsClicked(false);\n      if (postType === \"Question\") {\n        postDeleteQuestion({\n          id: ids?.id,\n          viewAs: instituteAs,\n          pid: pid,\n        })\n          .then(() => {\n            // setState(false)\n            // oneInstituteProfileRefetch();\n          })\n          .catch({});\n      } else {\n        postDelete({\n          id: ids?.id,\n          viewAs: instituteAs,\n          pid: pid,\n        })\n          .then(() => {\n            setState(false);\n            oneInstituteProfileRefetch();\n          })\n          .catch({});\n      }\n    } else if (option === \"turn_off_comment\") {\n      dispatch(\n        postChangeAction.turnOffComment({\n          pid: pid,\n          status: commentStatus === \"On\" ? \"Off\" : \"On\",\n        })\n      );\n      setDotsClicked(false);\n      commentOnOff({\n        pid: pid,\n        commentFeature: {\n          comment_turned: commentStatus === \"On\" ? \"Off\" : \"On\",\n        },\n      })\n        .then(() => {\n          // console.info(\"this is ref\", res);\n        })\n        .catch({});\n    }\n  };\n\n  const handleClickOutside = (e) => {\n    if (!e.target.style.zIndex || e.target.style.zIndex !== \"50\") {\n      setDotsClicked(false);\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"click\", handleClickOutside, true);\n    return () => {\n      document.removeEventListener(\"click\", handleClickOutside, true);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div\n      className={\n        popup\n          ? `${style.profileToolTip} ${style.profileToolTipPopup}`\n          : style.profileToolTip\n      }\n      id=\"menuTooltip\"\n    >\n      <div\n        className={\n          popup\n            ? `${style.triangle} ${style.trianglePopup}`\n            : `${style.triangle} ${style.triangleNotPopup}`\n        }\n      ></div>\n\n      <div className={style.profilelist}>\n        {options.map((option, index) => (\n          <div\n            ref={ref}\n            style={{ zIndex: \"50\" }}\n            value={option}\n            onClick={() => clickHandler(option)}\n            key={index}\n          >\n            {t(option)}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default Menu;\n","import { useStaffSearchQuery } from \"../../../services/qvipleAPI\";\nimport {\n  useFollowInstituteListQuery,\n  useFollowingInstituteListQuery,\n  useFollowInstituteMutation,\n  useInstituteAllSearchQuery,\n  useInstituteCreateAnnouncementMutation,\n  useUnfollowInstituteMutation,\n  useFollowInstituteListIdQuery,\n  useFollowingInstituteListIdQuery,\n  useFollowUserListQuery,\n  useFollowingUserListQuery,\n  useUserAllSearchQuery,\n  useFollowUserMutation,\n  useUnfollowUserMutation,\n  useCircleUserMutation,\n  useUncircleUserMutation,\n  useFollowUserInsMutation,\n  useUnfollowUserInsMutation,\n  useCircleUserListQuery,\n  useUniversalUserQuery,\n} from \"../../../services/searchApi\";\n\nexport const useInstituteAllSearch = (args) => {\n  const { data, refetch } = useInstituteAllSearchQuery(args.search, {\n    skip: args.skip,\n  });\n  return { instituteAllSearch: data, instituteAllSearchRefetch: refetch };\n};\n\nexport const useInstituteFollow = () => {\n  const [instituteFollow] = useFollowInstituteMutation();\n  return [instituteFollow];\n};\n\nexport const useInstituteUnfollow = () => {\n  const [instituteUnfollow] = useUnfollowInstituteMutation();\n  return [instituteUnfollow];\n};\n\nexport const useInstituteFollowList = (args) => {\n  const { data, refetch } = useFollowInstituteListQuery(args.list, {\n    skip: args.skip,\n  });\n  return { instituteFollowList: data, instituteFollowListRefetch: refetch };\n};\n\nexport const useInstituteOwnFollowingList = (args) => {\n  const { data, refetch } = useFollowingInstituteListQuery(args.data, {\n    skip: args.skip,\n  });\n  return {\n    instituteOwnFollowingList: data,\n    instituteOwnFollowingListRefetch: refetch,\n  };\n};\n\nexport const useInstituteFollowListId = (args) => {\n  const { data, refetch } = useFollowInstituteListIdQuery(args.list);\n  return { instituteFollowListId: data, instituteFollowListIdRefetch: refetch };\n};\n\nexport const useInstituteOwnFollowingListId = (args) => {\n  const { data, refetch } = useFollowingInstituteListIdQuery(args);\n  return {\n    instituteOwnFollowingListId: data,\n    instituteOwnFollowingListIdRefetch: refetch,\n  };\n};\n\nexport const useInstituteCreateAnnouncement = () => {\n  const [instituteCreateAnnouncement] =\n    useInstituteCreateAnnouncementMutation();\n  return [instituteCreateAnnouncement];\n};\n\nexport const useUserFollowList = (args) => {\n  const { data, refetch } = useFollowUserListQuery(args.list);\n  return { userFollowList: data, userFollowListRefetch: refetch };\n};\nexport const useUserOwnFollowingList = (args) => {\n  const { data, refetch } = useFollowingUserListQuery(args);\n  return {\n    userFollowingList: data,\n    userFollowingListRefetch: refetch,\n  };\n};\n\nexport const useUserAllSearch = (args) => {\n  const { data, refetch } = useUserAllSearchQuery(args.search, {\n    skip: args.skip,\n  });\n  return { userAllSearch: data, userAllSearchRefetch: refetch };\n};\n\nexport const useUserFollow = () => {\n  const [userFollow] = useFollowUserMutation();\n  return [userFollow];\n};\n\nexport const useUserUnfollow = () => {\n  const [userUnfollow] = useUnfollowUserMutation();\n  return [userUnfollow];\n};\n\nexport const useUserCircle = () => {\n  const [userCircle] = useCircleUserMutation();\n  return [userCircle];\n};\n\nexport const useUserUncircle = () => {\n  const [userUncircle] = useUncircleUserMutation();\n  return [userUncircle];\n};\n\nexport const useUserFollowIns = () => {\n  const [userFollowIns] = useFollowUserInsMutation();\n  return [userFollowIns];\n};\n\nexport const useUserUnfollowIns = () => {\n  const [userUnfollowIns] = useUnfollowUserInsMutation();\n  return [userUnfollowIns];\n};\n\nexport const useUserCircleList = (args) => {\n  const { data, refetch } = useCircleUserListQuery(args);\n  return {\n    userCircleList: data,\n    userCircleListRefetch: refetch,\n  };\n};\n\n//for assign of staff head\n\nexport const useAssignSearchStaff = (args) => {\n  const { data: assignSearchStaff, refetch: assignSearchStaffRefetch } =\n    useStaffSearchQuery(args.search, { skip: args.skip });\n  return {\n    assignSearchStaff,\n    assignSearchStaffRefetch,\n  };\n};\n\n//for assign to all universal user\n\nexport const useUniversalUser = (args) => {\n  const { data: universalUser, refetch: universalUserRefetch } =\n    useUniversalUserQuery(args);\n  return {\n    universalUser,\n    universalUserRefetch,\n  };\n};\n"],"names":["_ref","options","authorId","setDotsClicked","pid","postType","status","commentStatus","allPosts","popup","t","useTranslation","ids","useSelector","state","idChange","setState","React","dispatch","useDispatch","instituteUnfollow","useInstituteUnfollow","postVisibilityUpdate","usePostVisibilityUpdate","postDelete","usePostDelete","postDeleteQuestion","usePostDeleteQuestion","commentOnOff","useCommentOnOff","oneInstituteProfileRefetch","useOneInstituteProfile","data","id","type","skip","ref","useRef","clickHandler","option","posts","leftPost","i","length","author","push","unfollowDeleteHandler","postChangeAction","unfollowPost","followId","then","catch","changeVisibility","viewAs","instituteAs","postUpdate","postStatus","deletePost","turnOffComment","commentFeature","comment_turned","handleClickOutside","e","target","style","zIndex","useEffect","document","addEventListener","removeEventListener","_jsxs","className","concat","children","_jsx","map","index","value","onClick","useInstituteAllSearch","args","refetch","useInstituteAllSearchQuery","search","instituteAllSearch","instituteAllSearchRefetch","useInstituteFollow","instituteFollow","useFollowInstituteMutation","useUnfollowInstituteMutation","useInstituteFollowList","useFollowInstituteListQuery","list","instituteFollowList","instituteFollowListRefetch","useInstituteOwnFollowingList","useFollowingInstituteListQuery","instituteOwnFollowingList","instituteOwnFollowingListRefetch","useInstituteCreateAnnouncement","instituteCreateAnnouncement","useInstituteCreateAnnouncementMutation","useUserFollowList","useFollowUserListQuery","userFollowList","userFollowListRefetch","useUserOwnFollowingList","useFollowingUserListQuery","userFollowingList","userFollowingListRefetch","useUserAllSearch","useUserAllSearchQuery","userAllSearch","userAllSearchRefetch","useUserFollow","userFollow","useFollowUserMutation","useUserUnfollow","userUnfollow","useUnfollowUserMutation","useUserCircle","userCircle","useCircleUserMutation","useUserUncircle","userUncircle","useUncircleUserMutation","useUserFollowIns","userFollowIns","useFollowUserInsMutation","useUserUnfollowIns","userUnfollowIns","useUnfollowUserInsMutation","useUserCircleList","useCircleUserListQuery","userCircleList","userCircleListRefetch","useAssignSearchStaff","assignSearchStaff","assignSearchStaffRefetch","useStaffSearchQuery","useUniversalUser","universalUser","universalUserRefetch","useUniversalUserQuery"],"sourceRoot":""}