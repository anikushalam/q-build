"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[65914],{35395:(i,e,n)=>{n.d(e,{Z:()=>d});var a=n(72791),l=n(98734),t=n(80184);const d=i=>{let{children:e}=i;return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)(l.Z,{}),children:e})}},5350:(i,e,n)=>{n.r(e),n.d(e,{default:()=>y});var a=n(72791),l=n(39230),t=n(16871),d=n(46500),o=n(55581),r=n(95048),s=n(46876),c=n(38857),u=n(21348),v=n(90904),_=n(98684),b=n(1095),m=n(93638),f=n(55336),h=n(16925),x=n(80184);const y=function(i){var e,n,y,j;let{hideModal:g,edit:p,librarian:Z,onParentRefetch:N}=i;const{t:k}=(0,l.$G)(),S=(0,r.v9)((i=>i.idChange)),F=(0,t.s0)(),I=(0,t.UO)(),[C,R]=(0,a.useState)(""),[M,L]=(0,a.useState)(!1),[P,T]=(0,a.useState)(!1),[H]=(0,o.IO)(),[q]=(0,o.qF)(),A=(0,r.I0)();return(0,x.jsx)(x.Fragment,{children:M?(0,x.jsx)(s.default,{assignHead:M,headSelect:i=>{R(i)},title:k("secect_library_head"),onClose:()=>L((i=>!i)),disabledId:null===C||void 0===C?void 0:C._id}):(0,x.jsx)(c.Z,{onClose:()=>g(!1),children:(0,x.jsxs)("div",{className:h.Z.modal_container,children:[(0,x.jsx)(u.Z,{children:(0,x.jsxs)("div",{className:h.Z.modal_container_outer_header,children:[(0,x.jsx)("div",{className:h.Z.modal_container_header,children:(0,x.jsx)("h6",{children:k(p?"edit_library":"activate_library")})}),(0,x.jsx)("img",{src:"".concat(_.J7,"/close.svg"),alt:"close icon",onClick:()=>g(!1)})]})}),(0,x.jsx)(v.Z,{}),(0,x.jsxs)(u.Z,{customStyle:{paddingTop:"0"},children:[(0,x.jsxs)("div",{className:h.Z.card_container_image,onClick:()=>L(!0),style:{cursor:"pointer"},children:[(0,x.jsx)("img",{alt:"not found",src:null!==C&&void 0!==C&&C.staffProfilePhoto?"".concat(b.yI,"/").concat(C.staffProfilePhoto):"".concat(_.p3,"/feed-user-avatar.svg")}),(0,x.jsx)("div",{className:h.Z.card_container_inner,children:null!==C&&void 0!==C&&C.staffFirstName?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h6",{children:"".concat(null!==(e=null===C||void 0===C?void 0:C.staffFirstName)&&void 0!==e?e:""," \n                    ").concat(null!==(n=null===C||void 0===C?void 0:C.staffMiddleName)&&void 0!==n?n:"","\n                    ").concat(null!==(y=null===C||void 0===C?void 0:C.staffLastName)&&void 0!==y?y:"")}),(0,x.jsxs)("p",{children:[k("index_number_1")," ",null!==(j=null===C||void 0===C?void 0:C.staffROLLNO)&&void 0!==j?j:""]})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h6",{children:k("assign_lib_head")}),(0,x.jsx)("p",{children:k("search_from_joined_list")})]})})]}),(0,x.jsx)(m.Z,{label:p?"edit_":"activate",onAction:p?()=>{null!==C&&void 0!==C&&C._id&&null!==Z&&void 0!==Z&&Z._id&&(T(!0),q({osid:null===Z||void 0===Z?void 0:Z._id,nsid:null===C||void 0===C?void 0:C._id}).then((i=>{var e;A(d.X.libraryQuery({lid:null===(e=i.data)||void 0===e?void 0:e.library,lhead:null===C||void 0===C?void 0:C._id})),N(),T(!1),g()})))}:()=>{var i;""!==(null===S||void 0===S?void 0:S.id)&&(T(!0),H({activate:{sid:null!==(i=null===C||void 0===C?void 0:C._id)&&void 0!==i?i:""},id:null===S||void 0===S?void 0:S.id}).then((i=>{var e;i.data.status&&(T(!1),A(d.X.libraryQuery({lid:null===(e=i.data)||void 0===e?void 0:e.library,lhead:null===C||void 0===C?void 0:C._id})),F("/q/".concat(null===I||void 0===I?void 0:I.username,"/library")))})))}})]}),P&&(0,x.jsx)(f.Z,{})]})})})}},65914:(i,e,n)=>{n.r(e),n.d(e,{default:()=>C});var a=n(72791),l=n(20772),t=n(97393),d=n(74737),o=n(16871),r=n(43504),s=n(95048),c=n(21093),u=n(35395),v=n(85050),_=n(69721),b=n(39230),m=n(93738),f=n(5350),h=n(80184);const x=function(i){var e,n,l,t;let{username:d,library:r,libraryRefetch:s}=i;const{t:x}=(0,b.$G)(),y=(0,o.UO)(),[j,g]=a.useState(!1);return(0,h.jsxs)("div",{style:{position:"sticky",top:"77px",height:"fit-content",width:"30%"},children:[(0,h.jsx)(c.Z,{linkType:!0,linkUrl:"/q/".concat(d,"/feed")}),(0,h.jsx)(v.Z,{dynamicImage:null!==r&&void 0!==r&&r.cover?"".concat(_.yI,"/").concat(null===r||void 0===r?void 0:r.cover):"/images/profileAndCover/library-cover.png",edit:!0,onEditAction:()=>g(!0),redirectUrl:"/q/".concat(y.username,"/library?a=site"),isSiteInfo:"LIBRARY",carryParentState:{lid:null===r||void 0===r?void 0:r._id}}),(0,h.jsx)(m.Z,{cardAsHead:!0,heading:" ".concat((null===r||void 0===r||null===(e=r.libraryHead)||void 0===e?void 0:e.staffFirstName)||""," ").concat(null!==r&&void 0!==r&&null!==(n=r.libraryHead)&&void 0!==n&&n.staffMiddleName?null===r||void 0===r||null===(l=r.libraryHead)||void 0===l?void 0:l.staffMiddleName:""," ").concat((null===r||void 0===r||null===(t=r.libraryHead)||void 0===t?void 0:t.staffLastName)||""),description:x("librarian"),customStyleCard:{borderRadius:"1rem 1rem 0 0",border:"none",marginTop:"-1.49vw"}}),(0,h.jsx)(m.Z,{cardAsHead:!1,heading:x("books"),description:x("total_books"),count:(null===r||void 0===r?void 0:r.bookCount)||0}),(0,h.jsx)(m.Z,{cardAsHead:!1,heading:x("members"),description:x("total_members"),count:(null===r||void 0===r?void 0:r.memberCount)||0,customStyleCard:{borderRadius:"0 0 12px 12px",borderBottom:"0.4px solid rgba(0, 0, 0, 0.15)"}}),(0,h.jsx)(u.Z,{children:(0,h.jsx)(f.default,{libraryModal:j,hideModal:()=>g(!1),edit:!0,librarian:null===r||void 0===r?void 0:r.libraryHead,onParentRefetch:s})})]})};var y=n(39480),j=n(55581),g=n(64783);const p={funds:"Funds_funds__zS-qH",funds2:"Funds_funds2__3x6b6",fundshead:"Funds_fundshead__SP1Pn",fundscontent:"Funds_fundscontent__4fKjX",sidebarbottomitem:"Funds_sidebarbottomitem__SqHXQ",namee:"Funds_namee__pAorP",dueActive:"Funds_dueActive__n4djD",desig:"Funds_desig__hmhD6",balanceItem:"Funds_balanceItem__VM1DB"};function Z(i){let{bal:e,value:n,check:a}=i;return(0,h.jsxs)("div",{className:p.balanceItem,children:[(0,h.jsxs)("p",{children:[e,":"]}),(0,h.jsxs)("p",{children:["Rs. ",n]})]})}const N=function(i){let{library:e}=i;const{t:n}=(0,b.$G)();return(0,h.jsxs)("div",{className:p.funds,children:[(0,h.jsxs)("div",{className:p.fundshead,children:[(0,h.jsxs)("h6",{children:[" ",n("library_fine")," "]}),(0,h.jsx)("img",{src:"/images/finance/filter-icon.svg",alt:""})]}),(0,h.jsxs)("div",{className:p.fundscontent,children:[(0,h.jsxs)("div",{className:p.sidebarbottomitem,children:[(0,h.jsx)("img",{alt:"not found",src:"/images/finance/doller-icon.svg"}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("p",{className:p.namee,children:["Rs. ",null===e||void 0===e?void 0:e.totalFine," "]}),(0,h.jsx)("p",{className:p.desig,children:n("total_fine")})]})]}),(0,h.jsx)(Z,{check:"false",bal:n("cash_fine"),value:null===e||void 0===e?void 0:e.offlineFine}),(0,h.jsx)(Z,{check:"false",bal:n("bank_fine"),value:null===e||void 0===e?void 0:e.onlineFine}),(0,h.jsx)(Z,{check:"true",bal:n("cash_lib"),value:null===e||void 0===e?void 0:e.collectedFine})]})]})},k=i=>{let{carryParentState:e,library:n}=i;const{t:a}=(0,b.$G)(),[l]=(0,r.lr)();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:d.Z.finance_tab_tabs,children:[(0,h.jsx)(g.Z,{tabLevel:a("all_books"),customStyleContainer:{width:"50%",marginRight:"2px",borderTopLeftRadius:"6px"},customStyleLevel:{borderTopLeftRadius:"6px"},tabValue:"book",currentValue:"book"===(null===l||void 0===l?void 0:l.get("a"))?"book":"other",carryParentState:e,activeUrl:"library?a=book"}),(0,h.jsx)(g.Z,{tabLevel:a("funds"),customStyleContainer:{width:"50%",borderTopRightRadius:"6px"},customStyleLevel:{borderTopLeftRadius:"6px"},tabValue:"fund",currentValue:"fund"===(null===l||void 0===l?void 0:l.get("a"))?"fund":"other",carryParentState:e,activeUrl:"library?a=fund"})]}),"fund"===(null===l||void 0===l?void 0:l.get("a"))?(0,h.jsx)(N,{library:n}):null]})};var S=n(37111);const F=function(){var i,e,n,l,t,c,u,v,_,b,m,f;const g=(0,o.UO)(),[p]=(0,r.lr)(),Z=(0,o.TH)(),N=(0,s.v9)((i=>i.idChange.id)),{oneInstituteDashboard:F,oneInstituteDashboardRefetch:I}=(0,y.gq)({id:N,skip:!N});(0,a.useEffect)((()=>{N&&I()}),[N,I]);const{getLibraryDetail:C,getLibraryDetailRefetch:R}=(0,j.yX)({lid:null===F||void 0===F||null===(i=F.institute)||void 0===i||null===(e=i.library)||void 0===e?void 0:e[0],skip:!(null!==F&&void 0!==F&&null!==(n=F.institute)&&void 0!==n&&null!==(l=n.library)&&void 0!==l&&l[0])});return(0,a.useEffect)((()=>{var i,e;null!==F&&void 0!==F&&null!==(i=F.institute)&&void 0!==i&&null!==(e=i.library)&&void 0!==e&&e[0]&&R()}),[null===F||void 0===F||null===(t=F.institute)||void 0===t||null===(c=t.library)||void 0===c?void 0:c[0],R]),(0,h.jsxs)("div",{className:d.Z.main,children:[(0,h.jsx)(x,{username:g.username,library:null===C||void 0===C?void 0:C.library,libraryRefetch:R}),(0,h.jsxs)("div",{className:d.Z.finance_container,children:[null!==p&&void 0!==p&&p.get("n")?null:("book"===(null===p||void 0===p?void 0:p.get("a"))||"fund"===(null===p||void 0===p?void 0:p.get("a")))&&(0,h.jsx)(k,{carryParentState:Z.state,library:null===C||void 0===C?void 0:C.library}),"book"===(null===p||void 0===p?void 0:p.get("a"))&&(0,h.jsx)(S.Z,{carryParentState:Z.state,libraryId:null===C||void 0===C||null===(u=C.library)||void 0===u?void 0:u._id,pageOpenAs:"INSTITUTE",fid:null===C||void 0===C||null===(v=C.library)||void 0===v||null===(_=v.institute)||void 0===_||null===(b=_.financeDepart)||void 0===b?void 0:b[0],filterBy:null===C||void 0===C||null===(m=C.library)||void 0===m||null===(f=m.filter_by)||void 0===f?void 0:f.department})]})]})};var I=n(78068);const C=function(){var i,e;const n=(0,o.TH)();return(0,h.jsxs)("div",{className:t.Z.bgContainer,children:[(0,h.jsx)("div",{className:t.Z.navbar,children:(0,h.jsx)(l.default,{status:"home"})}),"site"===(null===(i=n.search)||void 0===i?void 0:i.substring(3))?(0,h.jsx)(I.Z,{lid:null===(e=n.state)||void 0===e?void 0:e.lid,viewAs:"INSTITUTE"}):(0,h.jsx)("div",{className:t.Z.editContainer,children:(0,h.jsx)(F,{})})]})}},64783:(i,e,n)=>{n.d(e,{Z:()=>o});n(72791);var a=n(90788),l=n(16871),t=n(43504),d=n(80184);const o=i=>{let{tabLevel:e,customStyleContainer:n,customStyleLevel:o,currentValue:r,tabValue:s,carryParentState:c,activeUrl:u}=i;const v=(0,l.UO)();return(0,d.jsx)(t.rU,{to:"/q/".concat(v.username,"/").concat(u),state:c,className:r===s?a.Z.common_tab_container_active:a.Z.common_tab_container,style:n,children:(0,d.jsx)("h6",{className:r===s?a.Z.common_tab_text_active:a.Z.common_tab_text,style:o,children:e})})}},97393:(i,e,n)=>{n.d(e,{Z:()=>a});const a={navbar:"InsFinance_navbar__BwqhT",editContainer:"InsFinance_editContainer__JeVmy",bgContainer:"InsFinance_bgContainer__8oJKn"}},74737:(i,e,n)=>{n.d(e,{Z:()=>a});const a={main:"Main_main__4mpMH",stats:"Main_stats__05reL",stats1:"Main_stats1__WlbdF",finance_container:"Main_finance_container__2pMkG",finance_container_other:"Main_finance_container_other__+Fq3c",institute_finance_container_border:"Main_institute_finance_container_border__Jgqpr",finance_tab_tabs:"Main_finance_tab_tabs__ufRpi",item:"Main_item__RsX-U",itemIcon:"Main_itemIcon__MA5vy"}}}]);
//# sourceMappingURL=65914.c7e90bc8.chunk.js.map