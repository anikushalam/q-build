"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[9701],{34219:function(n,e,i){i(72791);var t=i(11575),s=i(80184);e.Z=function(n){var e=n.customStyleContainer,i=n.title,a=n.subtitle,l=n.costomTextTitleStyle,o=n.costomTextSubtitleStyle;return(0,s.jsxs)("div",{className:t.Z.empty_container,style:e,children:[i&&(0,s.jsx)("h6",{style:l,children:i}),a&&(0,s.jsx)("p",{style:o,children:a})]})}},49701:function(n,e,i){i.r(e),i.d(e,{default:function(){return Y}});var t=i(29439),s=i(93433),a=i(72791),l="Body_body__h9R6y",o=i(1413),c="Item_item__UW4S0",d="Item_head__sq8Kp",r="Item_text__HYo44",u="Item_content__nvYu+",v="Item_bookmark__jKfDC",m=i(69721),h=i(72426),f=i.n(h),p=i(16871),g=i(43504),_=i(89064),j=i(91007),x=i(39230),y=i(80184),N=function(n){var e=n.data,i=n.onClose,s=n.onRefetch,l=(0,x.$G)().t,o=(0,a.useState)(!1),c=(0,t.Z)(o,2),d=c[0],r=c[1],u=(0,j.Pm)(),v=(0,t.Z)(u,1)[0];return(0,y.jsx)(_.Z,{onClose:i,disabled:d,children:(0,y.jsx)("h6",{onClick:function(){null!==e&&void 0!==e&&e._id&&(r((function(n){return!n})),v({annId:null===e||void 0===e?void 0:e._id}).then((function(){s(),r((function(n){return!n})),i()})).catch({}))},children:l("delete")})})};var b=function(n){var e,i,s=n.data,l=n.onRefetch,h=(0,p.TH)(),_=(0,p.s0)(),j=(0,p.UO)(),x=(0,a.useState)(!1),b=(0,t.Z)(x,2),D=b[0],C=b[1];return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:c,onClick:function(){_("/q/".concat(j.username,"/notifications?a=announcement&n=detail"),{state:(0,o.Z)((0,o.Z)({},h.state),{},{annId:s._id})})},children:[(0,y.jsxs)("div",{className:d,children:[(0,y.jsx)(g.rU,{to:"/q/".concat(null===s||void 0===s||null===(e=s.institute)||void 0===e?void 0:e.name,"/profile"),onClick:function(n){n.stopPropagation()},children:(0,y.jsx)("img",{alt:"Announcement",src:null!==s&&void 0!==s&&s.institute.insProfilePhoto?"".concat(m.yI,"/").concat(null===s||void 0===s?void 0:s.institute.insProfilePhoto):"/images/ins_default_profile.svg"})}),(0,y.jsxs)("div",{className:r,children:[(0,y.jsx)("h6",{children:s&&(null===s||void 0===s?void 0:s.institute.name)}),(0,y.jsxs)("p",{children:[f()(null===s||void 0===s?void 0:s.createdAt).format("MMM Do YY")," |"," ",f()(null===s||void 0===s?void 0:s.createdAt).format("LT")]})]})]}),(0,y.jsx)("div",{className:u,children:(0,y.jsx)("p",{children:(0,y.jsx)("span",{children:null===s||void 0===s||null===(i=s.insAnnTitle)||void 0===i?void 0:i.substr(0,130)})})}),(0,y.jsx)("img",{src:"/images/menu-dots-icon.svg",alt:"icon",className:v,onClick:function(n){n.stopPropagation(),C((function(n){return!n}))}})]}),D&&(0,y.jsx)(N,{data:s,onClose:function(){return C(!1)},onRefetch:l})]})},D=i(23441),C=i(95048),I=i(11105),k=i(34219);var Z=function(){var n,e=(0,a.useState)([]),i=(0,t.Z)(e,2),o=i[0],c=i[1],d=(0,D.YD)(),r=(0,t.Z)(d,2),u=r[0],v=r[1],m=(0,a.useState)(!0),h=(0,t.Z)(m,2),f=h[0],p=h[1],g=(0,a.useState)(1),_=(0,t.Z)(g,2),x=_[0],N=_[1],Z=(0,C.v9)((function(n){return n.idChange})),T=(0,a.useState)(!0),A=(0,t.Z)(T,2),S=A[0],w=A[1],P=(0,j.KU)({id:null===Z||void 0===Z?void 0:Z.id,page:x,limit:10},{skip:!(null!==Z&&void 0!==Z&&Z.id)}),Y=P.data,U=P.refetch;(0,a.useEffect)((function(){null!==Z&&void 0!==Z&&Z.id&&(w(!0),U())}),[null===Z||void 0===Z?void 0:Z.id,x,U]),(0,a.useEffect)((function(){v&&f&&N((function(n){return n+1}))}),[v,f]),(0,a.useEffect)((function(){var n;if(null!==Y&&void 0!==Y&&Y.announcement){if(1===x)c(null===Y||void 0===Y?void 0:Y.announcement);else{var e=[].concat((0,s.Z)(o),(0,s.Z)(null===Y||void 0===Y?void 0:Y.announcement)),i=(0,s.Z)(new Set(e.map(JSON.stringify))).map(JSON.parse);c(i)}w(!1)}else 0===(null===Y||void 0===Y||null===(n=Y.announcement)||void 0===n?void 0:n.length)&&w(!1);10===(null===Y||void 0===Y?void 0:Y.announcement.length)?p(!0):p(!1)}),[null===Y||void 0===Y?void 0:Y.announcement]);var F=function(){N((function(n){return 1})),w(!0),U()};return(0,y.jsxs)("div",{className:l,children:[o.map((function(n,e){return(null===o||void 0===o?void 0:o.length)===e+1?(0,y.jsx)("div",{ref:u,children:(0,y.jsx)(b,{data:n||"",time:null===n||void 0===n?void 0:n.createdAt,date:null===n||void 0===n?void 0:n.createdAt,text:null===n||void 0===n?void 0:n.insAnnDescription,onRefetch:F})},null===n||void 0===n?void 0:n._id):(0,y.jsx)(b,{data:n||"",time:null===n||void 0===n?void 0:n.createdAt,date:null===n||void 0===n?void 0:n.createdAt,text:null===n||void 0===n?void 0:n.insAnnDescription,onRefetch:F},null===n||void 0===n?void 0:n._id)})),S&&(0,y.jsx)(I.Z,{}),!S&&!(null!==Y&&void 0!==Y&&null!==(n=Y.announcement)&&void 0!==n&&n.length)&&(0,y.jsx)(k.Z,{customStyleContainer:{marginTop:"5rem",height:"inherit"},title:"No announcement created yet."})]})},T={imgcontainer:"Details_imgcontainer__YHc4d",eachposthead:"Details_eachposthead__z5d7p",eachpostUserName:"Details_eachpostUserName__qwO1B",eachpostUserTime:"Details_eachpostUserTime__1QeRg",public:"Details_public__639mJ",details:"Details_details__lOfOd",tille:"Details_tille__+k+M-",description:"Details_description__ydB9J",hashTag:"Details_hashTag__gz9yt",hashtag:"Details_hashtag__7ZdXz",loader:"Details_loader__bFFXC",anndoc:"Details_anndoc__CIk3a",documentContainer:"Details_documentContainer__86Tvx"},A=i(11968),S=i.n(A),w=i(10307);var P=function(n){var e,i,t,s,l,o,c,d,r=n.annId,u=(0,p.s0)(),v=(0,j.Lr)(r,{skip:!r}),h=v.data,g=v.isFetching,_=v.refetch;return(0,a.useEffect)((function(){r&&_()}),[r,_]),(0,y.jsx)("div",{className:T.details,children:g?(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("div",{className:T.loader,children:(0,y.jsx)("img",{src:"/images/loader/loader-bg-white.gif",alt:""})})}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:T.eachposthead,style:{width:"100%",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,y.jsxs)("div",{className:T.eachposthead,style:{alignItems:"flex-start"},children:[(0,y.jsx)("div",{className:T.imgcontainer,children:(0,y.jsx)("img",{alt:"not found",src:"1"!==(null===h||void 0===h||null===(e=h.announcement)||void 0===e?void 0:e.institute.photoId)?"".concat(m.yI,"/").concat(null===h||void 0===h||null===(i=h.announcement)||void 0===i||null===(t=i.institute)||void 0===t?void 0:t.insProfilePhoto):"/images/ins_default_profile.svg"})}),(0,y.jsxs)("div",{className:T.eachpostUserName,style:{marginTop:"0"},children:[(0,y.jsx)("h6",{children:h&&h.announcement&&(null===(s=h.announcement.institute)||void 0===s?void 0:s.insName)}),(0,y.jsxs)("div",{className:T.eachpostUserTime,style:{display:"flex",gap:"0.5vw",alignItems:"center"},children:[(0,y.jsx)("p",{children:h&&f()(null===(l=h.announcement)||void 0===l?void 0:l.createdAt).format("DD-M-YYYY")}),"Private"===(null===h||void 0===h||null===(o=h.announcement)||void 0===o?void 0:o.insAnnVisibility)?(0,y.jsx)("img",{className:T.public,src:"/images/post-private-icon.svg",alt:"Private"}):(0,y.jsx)("img",{className:T.public,src:"/images/privacy-icon.svg",alt:"Public"})]})]})]}),(0,y.jsx)("img",{src:"/images/close-post-icon.svg",onClick:function(){u(-1)},alt:"close",style:{cursor:"pointer"}})]}),(0,y.jsxs)("div",{className:T.Container,children:[(0,y.jsx)("p",{className:T.tille,children:h&&(null===(c=h.announcement)||void 0===c?void 0:c.insAnnTitle)}),(0,y.jsx)("hr",{}),(0,y.jsxs)("p",{className:T.description,style:{whiteSpace:"break-spaces"},children:[h&&(null===(d=h.announcement)||void 0===d?void 0:d.insAnnDescription)," "]}),(0,y.jsx)("p",{className:T.description}),(0,y.jsx)("div",{className:T.documentContainer,children:(0,y.jsx)(S(),{className:"Example",autoPlay:!1,indicators:!0,navButtonsAlwaysVisible:!1,navButtonsAlwaysInvisible:!1,next:function(n,e){},prev:function(n,e){},onChange:function(n,e){},children:null===h||void 0===h?void 0:h.announcement.announcementDocument.map((function(n){return"image/jpeg"===n.documentType||"image/png"===n.documentType||(0,w.Y)(null===n||void 0===n?void 0:n.documentKey)?(0,y.jsx)("div",{className:T.anndoc,children:(0,y.jsx)("img",{className:T.selectedImg,src:"".concat(m.yI,"/").concat(null===n||void 0===n?void 0:n.documentKey),alt:null===n||void 0===n?void 0:n.documentName,style:{width:"100%",height:"auto"}})}):(0,y.jsx)("div",{className:T.anndoc,children:(0,y.jsx)("a",{title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===n||void 0===n?void 0:n.documentKey),target:"_blank",rel:"noopener noreferrer",children:(0,y.jsx)("img",{className:T.selectedImg,src:"/images/pdf-icon.png",alt:null===n||void 0===n?void 0:n.documentName,style:{width:"100%",height:"auto"}})})})}))})})]})]})})};var Y=function(){var n,e=(0,g.lr)(),i=(0,t.Z)(e,1)[0],s=(0,p.TH)();return(0,y.jsx)(y.Fragment,{children:i.get("n")?(0,y.jsx)(P,{annId:null===(n=s.state)||void 0===n?void 0:n.annId}):(0,y.jsx)(Z,{})})}},10307:function(n,e,i){i.d(e,{Y:function(){return s}});var t=[".jpg",".jpeg",".jpe",".pjpeg",".pjp",".apng",".jif",".jfif",".jfi",".png",".gif",".webp",".tiff",".tif",".psd",".heif",".heic",".svg",".svgz",".ai",".eps",".avif"],s=function(n){for(var e=!1,i=0,s=t;i<s.length;i++){var a=s[i];if(null!==n&&void 0!==n&&n.includes(a)){e=!0;break}}return e}}}]);
//# sourceMappingURL=9701.462e0750.chunk.js.map