"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[36077],{48986:(e,t,l)=>{l.d(t,{Z:()=>g});var s=l(49806),n=l(38857),d=l(21348),i=l(90904),a=l(98684),o=l(39230),c=l(72791),r=l(57588),u=l(55336),v=l(1669),m=l(2651),h=l(93638),j=l(77302),x=l(88905),_=l(80184);const g=e=>{var t,l,g;let{title:f,onClose:p,clsId:Z,onAdd:N,academicDepartmentId:S}=e;const{t:y}=(0,o.$G)(),[b,C]=(0,c.useState)(""),[I,A]=(0,c.useState)([]),[k,P]=(0,c.useState)(!1),{classMasterAllDseStudent:R,classMasterAllDseStudentLoading:B}=(0,j.A)({data:{cid:Z,page:1,limit:1e3,search:b,did:S},skip:!Z}),T=(0,c.useCallback)((0,r.J)((e=>{C(e)}),1500),[]),D=e=>{null!==I&&void 0!==I&&I.includes(null===e||void 0===e?void 0:e._id)?A((t=>null===t||void 0===t?void 0:t.filter((t=>t!==(null===e||void 0===e?void 0:e._id))))):A((t=>[...t,null===e||void 0===e?void 0:e._id]))};return(0,_.jsx)(n.Z,{onClose:p,children:(0,_.jsxs)("div",{className:s.Z.modal_container,children:[(0,_.jsx)(d.default,{children:(0,_.jsxs)("div",{className:s.Z.modal_container_outer_header,children:[(0,_.jsx)("div",{className:s.Z.modal_container_header,children:(0,_.jsx)("h6",{children:y(null!==f&&void 0!==f?f:"add_dse_students")})}),(0,_.jsxs)("div",{className:s.Z.modal_container_btn_container,children:[k?(0,_.jsx)(h.Z,{label:y("remove_all"),count:null===I||void 0===I?void 0:I.length,onAction:()=>{A([]),P(!1)},customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}):(0,_.jsx)(h.Z,{label:y("select_all"),count:null===I||void 0===I?void 0:I.length,onAction:()=>{let e=[];for(let t of null===R||void 0===R?void 0:R.list)e.push(null===t||void 0===t?void 0:t._id);A(e),P(!0)},customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,_.jsx)(h.Z,{label:y("add"),onAction:()=>{N(I)},customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,_.jsx)("img",{src:"".concat(a.J7,"/close.svg"),alt:"close icon",onClick:p})]})]})}),(0,_.jsx)(i.Z,{}),(0,_.jsxs)(d.default,{customStyle:{paddingBottom:"1rem"},children:[(0,_.jsxs)("div",{className:s.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,_.jsx)("input",{type:"text",placeholder:y("search"),className:s.Z.assign_search_input,onChange:e=>{e.target.value?T(e.target.value):C("")},style:{width:"100%"}}),(0,_.jsx)("img",{src:"".concat(a.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===R||void 0===R||null===(t=R.list)||void 0===t?void 0:t.map((e=>(0,_.jsx)(x.Z,{student:e,onSelect:D,selectedId:I},null===e||void 0===e?void 0:e._id))),B?b?(0,_.jsx)(u.default,{}):(0,_.jsx)(v.Z,{}):b?0===(null===R||void 0===R||null===(l=R.list)||void 0===l?void 0:l.length)&&(0,_.jsx)(m.Z,{title:"No dse student found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===R||void 0===R||null===(g=R.list)||void 0===g?void 0:g.length)&&(0,_.jsx)(m.Z,{title:"No dse student.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})}},59244:(e,t,l)=>{l.d(t,{Z:()=>g});var s=l(49806),n=l(38857),d=l(21348),i=l(90904),a=l(98684),o=l(39230),c=l(72791),r=l(57588),u=l(55336),v=l(1669),m=l(2651),h=l(93638),j=l(77302),x=l(88905),_=l(80184);const g=e=>{var t,l,g;let{title:f,onClose:p,clsId:Z,onAdd:N,academicDepartmentId:S}=e;const{t:y}=(0,o.$G)(),[b,C]=(0,c.useState)(""),[I,A]=(0,c.useState)([]),[k,P]=(0,c.useState)(!1),{classMasterAllStudent:R,classMasterAllStudentLoading:B}=(0,j.BQ)({data:{cid:Z,page:1,limit:1e3,search:b,did:S},skip:!Z}),T=(0,c.useCallback)((0,r.J)((e=>{C(e)}),1500),[]),D=e=>{null!==I&&void 0!==I&&I.includes(null===e||void 0===e?void 0:e._id)?A((t=>null===t||void 0===t?void 0:t.filter((t=>t!==(null===e||void 0===e?void 0:e._id))))):A((t=>[...t,null===e||void 0===e?void 0:e._id]))};return(0,_.jsx)(n.Z,{onClose:p,children:(0,_.jsxs)("div",{className:s.Z.modal_container,children:[(0,_.jsx)(d.default,{children:(0,_.jsxs)("div",{className:s.Z.modal_container_outer_header,children:[(0,_.jsx)("div",{className:s.Z.modal_container_header,children:(0,_.jsx)("h6",{children:y(null!==f&&void 0!==f?f:"add_students")})}),(0,_.jsxs)("div",{className:s.Z.modal_container_btn_container,children:[k?(0,_.jsx)(h.Z,{label:y("remove_all"),count:null===I||void 0===I?void 0:I.length,onAction:()=>{A([]),P(!1)},customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}):(0,_.jsx)(h.Z,{label:y("select_all"),count:null===I||void 0===I?void 0:I.length,onAction:()=>{let e=[];for(let t of null===R||void 0===R?void 0:R.list)e.push(null===t||void 0===t?void 0:t._id);A(e),P(!0)},customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,_.jsx)(h.Z,{label:y("add"),onAction:()=>{N(I)},customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,_.jsx)("img",{src:"".concat(a.J7,"/close.svg"),alt:"close icon",onClick:p})]})]})}),(0,_.jsx)(i.Z,{}),(0,_.jsxs)(d.default,{customStyle:{paddingBottom:"1rem"},children:[(0,_.jsxs)("div",{className:s.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,_.jsx)("input",{type:"text",placeholder:y("search"),className:s.Z.assign_search_input,onChange:e=>{e.target.value?T(e.target.value):C("")},style:{width:"100%"}}),(0,_.jsx)("img",{src:"".concat(a.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===R||void 0===R||null===(t=R.list)||void 0===t?void 0:t.map((e=>(0,_.jsx)(x.Z,{student:e,onSelect:D,selectedId:I},null===e||void 0===e?void 0:e._id))),B?b?(0,_.jsx)(u.default,{}):(0,_.jsx)(v.Z,{}):b?0===(null===R||void 0===R||null===(l=R.list)||void 0===l?void 0:l.length)&&(0,_.jsx)(m.Z,{title:"No student found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===R||void 0===R||null===(g=R.list)||void 0===g?void 0:g.length)&&(0,_.jsx)(m.Z,{title:"No student.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})}},88905:(e,t,l)=>{l.d(t,{Z:()=>o});var s=l(98684),n=l(9228),d=l(1095),i=l(39230),a=l(80184);const o=e=>{var t,l,o,c,r;let{student:u,onSelect:v,selectedId:m}=e;const{t:h}=(0,i.$G)();return(0,a.jsxs)("div",{className:n.Z.sf_card_hover,style:{justifyContent:"flex-start",gap:"1rem",alignItems:"center"},onClick:()=>{v(u)},children:[(0,a.jsx)("div",{className:n.Z.sf_card_contatiner_inner,children:(0,a.jsx)("h6",{children:null!==(t=null===u||void 0===u?void 0:u.studentROLLNO)&&void 0!==t?t:""})}),null!==m&&void 0!==m&&m.includes(null===u||void 0===u?void 0:u._id)?(0,a.jsx)("img",{src:"".concat(s.U_,"/check.svg"),alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,a.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"".concat(s.U_,"/uncheck.svg"),alt:"icon"}),(0,a.jsxs)("div",{className:n.Z.sf_card_contatiner,children:[(0,a.jsx)("img",{src:null!==u&&void 0!==u&&u.studentProfilePhoto?"".concat(d.yI,"/").concat(u.studentProfilePhoto):"".concat(s.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,a.jsxs)("div",{className:n.Z.sf_card_contatiner_inner,children:[(0,a.jsx)("h6",{children:"".concat(null!==(l=null===u||void 0===u?void 0:u.studentFirstName)&&void 0!==l?l:""," ").concat(null!==(o=null===u||void 0===u?void 0:u.studentMiddleName)&&void 0!==o?o:""," ").concat(null!==(c=null===u||void 0===u?void 0:u.studentLastName)&&void 0!==c?c:"")}),(0,a.jsxs)("p",{children:[h("gr_number")," ",": ",null!==(r=null===u||void 0===u?void 0:u.studentGRNO)&&void 0!==r?r:""]})]})]})]})}},36077:(e,t,l)=>{l.r(t),l.d(t,{default:()=>k});var s=l(39230),n=l(72791),d=l(98684),i=l(56959),a=l(90904),o=l(21348),c=l(77302),r=l(57588),u=l(2651),v=l(55336),m=l(1669),h=l(93638),j=l(89064),x=l(80184);const _=e=>{let{onClose:t,menuData:l,onRefetch:d,subjectId:i}=e;const{t:a}=(0,s.$G)(),[o,r]=(0,n.useState)(!1),[u]=(0,c.kK)();return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(j.Z,{onClose:t,disabled:o,children:(0,x.jsx)("h6",{onClick:()=>{null!==l&&void 0!==l&&l._id&&i&&(r((e=>!e)),u({sid:i,bodyParameter:{students:[null===l||void 0===l?void 0:l._id]}}).then((()=>{d(),r((e=>!e)),t()})))},children:a("remove")})})})};var g=l(9228),f=l(1095),p=l(16871),Z=l(43504);const N=e=>{var t,l,i,a;let{student:o,openAs:c,onRefetch:r,subjectId:u}=e;const[v,m]=(0,n.useState)(!1),h=(0,p.UO)(),{t:j}=(0,s.$G)(),N=e=>{e&&e.preventDefault(),m((e=>!e))};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Z.rU,{to:"/q/".concat(h.username,"/student/profile"),state:{sid:null===o||void 0===o?void 0:o._id,viewAs:c?"SUBJECT_TEACHER":"INSTITUTE"},children:(0,x.jsxs)("div",{className:g.Z.iadcc_card_hover,children:[(0,x.jsxs)("div",{className:g.Z.sf_card_contatiner,children:[(0,x.jsx)("img",{src:null!==o&&void 0!==o&&o.studentProfilePhoto?"".concat(f.yI,"/").concat(o.studentProfilePhoto):"".concat(d.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar",style:{width:"2.5rem",height:"2.5rem"}}),(0,x.jsxs)("div",{className:g.Z.sf_card_contatiner_inner,children:[(0,x.jsx)("h6",{children:"".concat(null!==(t=null===o||void 0===o?void 0:o.studentFirstName)&&void 0!==t?t:""," ").concat(null!==(l=null===o||void 0===o?void 0:o.studentMiddleName)&&void 0!==l?l:""," ").concat(null!==(i=null===o||void 0===o?void 0:o.studentLastName)&&void 0!==i?i:"")}),(0,x.jsxs)("p",{children:[j("gr_number")," ",": ",null!==(a=null===o||void 0===o?void 0:o.studentGRNO)&&void 0!==a?a:""]})]})]}),(0,x.jsx)("img",{src:"".concat(d.J7,"/menu.svg"),alt:"menu icon",onClick:N})]})}),v&&(0,x.jsx)(_,{onClose:N,menuData:o,onRefetch:r,subjectId:u})]})};var S=l(59244),y=l(49806),b=l(38857);const C=e=>{var t,l,n,i;let{student:a}=e;const{t:o}=(0,s.$G)();return(0,x.jsx)("div",{className:g.Z.sf_card_hover,children:(0,x.jsxs)("div",{className:g.Z.sf_card_contatiner,children:[(0,x.jsx)("img",{src:null!==a&&void 0!==a&&a.studentProfilePhoto?"".concat(f.yI,"/").concat(a.studentProfilePhoto):"".concat(d.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,x.jsxs)("div",{className:g.Z.sf_card_contatiner_inner,children:[(0,x.jsx)("h6",{children:"".concat(null!==(t=null===a||void 0===a?void 0:a.studentFirstName)&&void 0!==t?t:""," ").concat(null!==(l=null===a||void 0===a?void 0:a.studentMiddleName)&&void 0!==l?l:""," ").concat(null!==(n=null===a||void 0===a?void 0:a.studentLastName)&&void 0!==n?n:"")}),(0,x.jsxs)("p",{children:[o("gr_number")," ",": ",null!==(i=null===a||void 0===a?void 0:a.studentGRNO)&&void 0!==i?i:""]})]})]})})},I=e=>{var t;let{clsId:l,onClose:i,onRefetch:r}=e;const{t:j}=(0,s.$G)(),[_,g]=(0,n.useState)([]),[f,p]=(0,n.useState)(!1),Z=(0,n.useRef)(),N=(0,n.useRef)(),{classMasterAllStudent:S,classMasterAllStudentLoading:I}=(0,c.BQ)({data:{cid:l,page:1,limit:1e3,search:""},skip:!l});(0,n.useEffect)((()=>{null!==S&&void 0!==S&&S.list&&g(null===S||void 0===S?void 0:S.list)}),[null===S||void 0===S?void 0:S.list]);const A=e=>{const t=[..._],l=t[Z.current];t.splice(Z.current,1),t.splice(N.current,0,l),Z.current=null,N.current=null,g(t)};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(b.Z,{onClose:i,children:(0,x.jsxs)("div",{className:y.Z.modal_container,children:[(0,x.jsx)(o.default,{children:(0,x.jsxs)("div",{className:y.Z.modal_container_outer_header,children:[(0,x.jsx)("div",{className:y.Z.modal_container_header,children:(0,x.jsx)("h6",{children:j("reshuffle_student_list")})}),(0,x.jsxs)("div",{className:y.Z.modal_container_btn_container,children:[(0,x.jsx)(h.Z,{label:j("save_resuffle"),onAction:()=>{},customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,x.jsx)("img",{src:"".concat(d.J7,"/close.svg"),alt:"close icon",onClick:i})]})]})}),(0,x.jsx)(a.Z,{}),(0,x.jsxs)(o.default,{customStyle:{paddingBottom:"1rem"},children:[null===_||void 0===_?void 0:_.map(((e,t)=>(0,x.jsx)("div",{draggable:!0,onDragStart:e=>{return l=t,void(Z.current=l);var l},onDragEnter:e=>{return l=t,void(N.current=l);var l},onDragEnd:A,children:(0,x.jsx)(C,{student:e})},null===e||void 0===e?void 0:e._id))),I?(0,x.jsx)(m.Z,{}):0===(null===S||void 0===S||null===(t=S.list)||void 0===t?void 0:t.length)&&(0,x.jsx)(u.Z,{title:"No student.",customStyleContainer:{marginTop:"1.5rem"}})]})]})}),f&&(0,x.jsx)(v.default,{})]})};var A=l(48986);const k=e=>{var t,l,j,_,g,Z,y,b,C;let{clsId:k,openAs:P}=e;const{t:R}=(0,s.$G)(),B=(0,p.TH)(),[T,D]=(0,n.useState)(""),[G,L]=(0,n.useState)(!1),[w,J]=(0,n.useState)(!1),[M,$]=(0,n.useState)(!1),[E,F]=(0,n.useState)(!1),[U]=(0,c._)(),[O]=(0,c.KC)(),{onePracticalBatchClasses:q,onePracticalBatchClassesLoading:z,onePracticalBatchClassesRefetch:W}=(0,c.U$)({data:{sid:B.state.subId,search:T},skip:!k}),H=(0,n.useCallback)((0,r.J)((e=>{D(e)}),1500),[]),K=()=>{L((e=>!e))},Q=()=>{J((e=>!e))},V=()=>{$((e=>!e))},X=e=>{(null===e||void 0===e?void 0:e.length)>0&&B.state.subId&&(F((e=>!e)),O({sid:B.state.subId,bodyParameter:{students:e}}).then((()=>{W(),F((e=>!e)),K()})).catch({}))};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(o.default,{children:(0,x.jsxs)("div",{className:i.Z.fm_header_container,children:[(0,x.jsx)("h6",{children:null!==(t=null===(l=B.state)||void 0===l?void 0:l.subjectName)&&void 0!==t?t:""}),(0,x.jsxs)("div",{className:i.Z.fm_search,children:[(0,x.jsx)(h.Z,{label:R("resuffle"),customStyle:{margin:"0",padding:"0.4rem 1rem",minWidth:"fit-content"},onAction:V}),(0,x.jsx)(h.Z,{label:R("add_student"),customStyle:{margin:"0",padding:"0.4rem 1rem",minWidth:"fit-content"},onAction:K}),(0,x.jsx)(h.Z,{label:R("add_dse_student"),customStyle:{margin:"0",padding:"0.4rem 1rem",minWidth:"fit-content"},onAction:Q}),(0,x.jsx)("img",{src:"".concat(d.J7,"/export.svg"),alt:"icon",title:"List Export",onClick:()=>{B.state.subId&&(F((e=>!e)),U({sid:B.state.subId}).then((e=>{var t;if(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.set){var l;F((e=>!e));const t=window.open("".concat(f.LS,"/").concat(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.set),"_blank","noopener,noreferrer");t&&(t.opener=null)}else F((e=>!e))})).catch({}))}})]})]})}),(0,x.jsx)(a.Z,{}),(0,x.jsx)(o.default,{customStyle:{paddingTop:"0"},children:(0,x.jsxs)("div",{className:i.Z.fm_search_full,children:[(0,x.jsxs)("h6",{className:i.Z.fm_title_heading,style:{width:"-webkit-fill-available"},children:[R("total_student"),null!==(j=null===q||void 0===q||null===(_=q.theory_students)||void 0===_?void 0:_.length)&&void 0!==j?j:0]}),(0,x.jsx)("section",{className:i.Z.fm_search_full_container,children:(0,x.jsxs)("div",{className:i.Z.fm_search_full_container_inner,children:[(0,x.jsx)("img",{className:i.Z.fm_search_full_icon,alt:"search icon",src:"".concat(d.dB,"/navbar-search.svg")}),(0,x.jsx)("input",{type:"text",placeholder:R("search"),onChange:e=>{e.target.value?H(e.target.value):D("")}})]})})]})}),(0,x.jsx)(a.Z,{}),(0,x.jsxs)(o.default,{customStyle:{paddingTop:"0.3rem",paddingBottom:"1rem"},children:[null===q||void 0===q||null===(g=q.theory_students)||void 0===g?void 0:g.map((e=>(0,x.jsx)(N,{student:e,openAs:P,subjectId:B.state.subId,onRefetch:W},null===e||void 0===e?void 0:e._id))),z?T?(0,x.jsx)(v.default,{}):(0,x.jsx)(m.Z,{}):T?0===(null===q||void 0===q||null===(Z=q.theory_students)||void 0===Z?void 0:Z.length)&&(0,x.jsx)(u.Z,{title:"No student found related this search."}):0===(null===q||void 0===q||null===(y=q.theory_students)||void 0===y?void 0:y.length)&&(0,x.jsx)(u.Z,{title:"No student."})]}),G&&(0,x.jsx)(S.Z,{onClose:K,clsId:k,onAdd:X,academicDepartmentId:null===(b=B.state)||void 0===b?void 0:b.departmentId}),w&&(0,x.jsx)(A.Z,{onClose:Q,clsId:k,onAdd:X,academicDepartmentId:null===(C=B.state)||void 0===C?void 0:C.departmentId}),M&&(0,x.jsx)(I,{onClose:V,clsId:k,onRefetch:W}),E&&(0,x.jsx)(v.default,{})]})}}}]);
//# sourceMappingURL=36077.1e1e0cc6.chunk.js.map