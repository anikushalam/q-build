"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[93437,48821,30615,95946,53080,29733],{53967:(e,n,l)=>{l.d(n,{Z:()=>d});var t=l(72791);const i=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],o=["January","February","March","April","May","June","July","August","September","October","November","December"],d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;const l=new Date,d="".concat(l.getDate(),"-").concat(l.getMonth()+1,"-").concat(l.getFullYear()),[s,a]=(0,t.useState)(l),c=new Date(s.getFullYear(),s.getMonth()+1,0).getDate(),r=new Date(s.getFullYear(),s.getMonth(),1).getDay(),u=[1,2,3,4,5,6,0].indexOf(r)+1;let v=1;const p={},m=[];for(let t=1;t<7;t++){for(let e=1;e<8;e++)p[t]||(p[t]=[]),1===t?e<u||(p[t]=[...p[t],{classes:"",date:"".concat(v,"-").concat(s.getMonth()+1,"-").concat(s.getFullYear()),value:v}],v++):t>1&&v<c+1&&(p[t]=[...p[t],{classes:"",date:"".concat(v,"-").concat(s.getMonth()+1,"-").concat(s.getFullYear()),value:v}],v++);p[t].map((e=>{const n=e.date.split("-")[0],l=new Date(s.getFullYear(),s.getMonth(),n).getDay();return m.push({date:e.date,day:l}),""}))}return{daysShort:e,monthNames:n,todayFormatted:d,calendarData:m,selectedDate:s,getPrevMonth:()=>{a((e=>new Date(e.getFullYear(),e.getMonth()-1,1)))},getNextMonth:()=>{a((e=>new Date(e.getFullYear(),e.getMonth()+1,1)))},switchMonth:e=>{a((n=>new Date(n.getFullYear(),n.getMonth()+(e-s.getMonth()),1))),console.log(o[s.getMonth()])}}}},9490:(e,n,l)=>{l.d(n,{Z:()=>s});var t=l(72791),i=l(53967),o=l(16313),d=l(80184);const s=e=>{let{setValidDate:n}=e;const{calendarData:l,selectedDate:s,todayFormatted:a,switchMonth:c,monthNames:r,getNextMonth:u,getPrevMonth:v}=(0,i.Z)(),[p,m]=(0,t.useState)(a),[h,_]=(0,t.useState)(!1);(0,t.useEffect)((()=>{if(p){const e=p.split("-"),l=e[0]>9?e[0]:"0".concat(e[0]),t=e[1]>9?e[1]:"0".concat(e[1]),i=e[2];n("".concat(i,"-").concat(t,"-").concat(l))}}),[p]);const x=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],g=Math.floor(l.map((function(e){return e.date})).indexOf(p)/7),[j,f]=(0,t.useState)(g),Z=7*j,N=Math.ceil(l.length/7),I=l.slice(Z,Z+7).map(((e,n)=>(0,d.jsxs)("div",{className:e.date===p?"".concat(o.Z.date," ").concat(o.Z.clickedDate):o.Z.date,onClick:()=>m(e.date),children:[(0,d.jsx)("h6",{children:e.date.split("-")[0]}),(0,d.jsx)("p",{children:x[e.day]})]},n)));return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:o.Z.changemonth,children:[(0,d.jsxs)("h6",{onClick:()=>_(!h),children:[r[s.getMonth()]," ",s.getFullYear()]}),(0,d.jsx)("img",{alt:"not found",src:"/images/dropdown-icon.svg",onClick:()=>_(!h)}),h&&(0,d.jsx)("div",{className:o.Z.selectMonthList,children:["January","February","March","April","May","June","July","August","September","October","November","December"].map(((e,n)=>(0,d.jsx)("div",{className:o.Z.month,onClick:()=>{c(n),_(!1)},children:e},n)))})]}),(0,d.jsxs)("div",{className:o.Z.calender,children:[(0,d.jsx)("div",{className:o.Z.arrowbtn,onClick:()=>{j>0?f((e=>e-1)):(f(N-1),v())},children:(0,d.jsx)("img",{alt:"not found",src:"/images/members/left-icon.svg"})}),(0,d.jsx)("div",{className:o.Z.dates,children:I}),(0,d.jsx)("div",{className:o.Z.arrowbtn,onClick:()=>{j+1<N?f((e=>e+1)):(f(0),u())},children:(0,d.jsx)("img",{alt:"not found",src:"/images/members/right-icon.svg"})})]})]})}},12072:(e,n,l)=>{l.d(n,{Z:()=>d});l(72791);var t=l(54164);const i="Overlay_overlay_card__PAr1h";var o=l(80184);const d=e=>{let{children:n,customStyle:l}=e;return(0,o.jsx)(o.Fragment,{children:t.createPortal((0,o.jsx)("div",{className:i,style:{...l},children:n}),document.getElementById("overlay"))})}},84489:(e,n,l)=>{l.d(n,{Z:()=>o});l(72791);var t=l(51857),i=l(80184);const o=e=>{let{onClose:n,customStyleBackdrop:l}=e;return(0,i.jsx)("div",{className:t.Z.search_backdrop,style:{...l},onClick:n})}},65841:(e,n,l)=>{l.d(n,{IC:()=>o,kV:()=>i,xo:()=>s,zH:()=>t,zr:()=>d});const t={ALL_FEE_ACCESS:["students","message","fund","verification"],MULTI_APP_ACCESS:["students","message","ongoing","ongoing-detail","complete"],INQUIRY_ACCESS:["students","message"],REFUND_ACCESS:["students","message","excess"],PENDING_FEE_ACCESS:["students","message","pending","reminder-message"],ONE_TAB_ACCESS:["students","message","ongoing","ongoing-detail"],DATA_EXPORT_ACCESS:["students","message","export"],ONGOING_ACCESS:["ongoing","ongoing-detail"]},i={Application:"Application",Selected:"Selected",Confirmed:"Confirmed",Allotted:"Allotted",Cancelled:"Cancelled"},o={Application:[{label:"application",id:"application",urlKey:"",groupIs:["",null]}],Selected:"Selected",Confirmed:[{label:"confirmed",id:"confirmed",urlKey:"&n=confirmed",groupIs:["confirmed","confirmed-multi"]}],Allotted:[{label:"allottment",id:"allottment",urlKey:"&n=allottment",groupIs:["allottment"]}],Cancelled:[{label:"cancelled",id:"cancelled",urlKey:"&n=cancelled",groupIs:["cancelled"]}]},d=e=>{let n="";for(let l of e)n=n?"".concat(n," or ").concat(null===l||void 0===l?void 0:l.subjectName):"".concat(null===l||void 0===l?void 0:l.subjectName);return n},s={DATA_EXPORT_ACCESS:{subUrl:"export",authorizedKey:"data_export"},INQUIRY_ACCESS:{subUrl:"enq-application",authorizedKey:"admission_enquiry"},ONE_TAB_ACCESS:{subUrl:"ongoing",authorizedKey:"ongoing_admission"},MULTI_APP_ACCESS:{subUrl:"ongoing",nestedUrl:"ongoing-detail",authorizedKey:"ongoing_admission"},ONGOING_ACCESS:{subUrl:"ongoing",authorizedKey:"ongoing_admission"},ONGOING_VIEW_ACCESS:{subUrl:"ongoing",authorizedKey:"ongoing_admission"},COMBINED_APP_ACCESS:{subUrl:"combine-application",authorizedKey:"ongoing_admission"}}},45100:(e,n,l)=>{l.d(n,{Z:()=>d});var t=l(39230),i=l(80476),o=l(80184);const d=e=>{let{label:n,count:l,onAction:d,customStyle:s,isTranslate:a,showZero:c,children:r}=e;const{t:u}=(0,t.$G)();return a?(0,o.jsxs)("div",{className:i.Z.ccb_button,onClick:d,style:s,children:[r,c?(0,o.jsx)("span",{style:{marginRight:"0.3rem"},children:l}):l>0?(0,o.jsxs)("span",{style:{marginRight:"0.3rem"},children:[l," "]}):null,n]}):(0,o.jsxs)("div",{className:i.Z.ccb_button,onClick:d,style:s,children:[r,c?(0,o.jsx)("span",{style:{marginRight:"0.3rem"},children:l}):l>0?(0,o.jsxs)("span",{style:{marginRight:"0.3rem"},children:[l," "]}):null,u(n)]})}},8959:(e,n,l)=>{l.d(n,{Z:()=>o});var t=l(52245),i=l(80184);const o=e=>{let{label:n,value:l,customFormInputContainer:o,customFormInputLabel:d,customFormInput:s,children:a}=e;return(0,i.jsxs)("div",{className:t.Z.form_read_input_container,style:o,children:[n?(0,i.jsx)("label",{className:t.Z.form_read_input_label,style:d,children:n}):null,a,(0,i.jsx)("h6",{className:t.Z.form_read_input,style:s,children:l})]})}},99004:(e,n,l)=>{l.d(n,{Z:()=>_});var t=l(39230),i=l(38857),o=l(21348),d=l(16925),s=l(90904),a=l(72791),c=l(99183),r=l(98684),u=l(43317),v=l(55336),p=l(93638),m=l(11468),h=l(80184);const _=e=>{let{onClose:n,sid:l,appId:_,onRefetch:x,isProfile:g,setWhichSelect:j}=e;const{t:f}=(0,t.$G)(),[Z,N]=(0,a.useState)(!1),[I,b]=(0,a.useState)(""),[S,y]=(0,a.useState)({reason:""}),[C]=(0,u.nV)();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(i.Z,{onClose:n,children:(0,h.jsxs)("div",{className:d.Z.modal_container,children:[(0,h.jsx)(o.Z,{children:(0,h.jsxs)("div",{className:d.Z.modal_container_outer_header,children:[(0,h.jsx)("div",{className:d.Z.modal_container_header,children:(0,h.jsx)("h6",{children:f("cancel_admission_application_form_update")})}),(0,h.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,h.jsx)(s.Z,{}),(0,h.jsxs)(o.Z,{customStyle:{paddingTop:"0"},children:[(0,h.jsx)(m.Z,{label:f("reason"),placeholder:f("please_enter_reject_reason"),name:"reason",value:S.reason,type:"text",onChange:e=>{y((n=>({...n,[e.target.name]:e.target.value})))},errorShow:I.reason}),(0,h.jsx)(p.Z,{label:"confirm",onAction:()=>{let e=(0,c.l)(S);(0,c.x)(e)?_&&l&&(N((e=>!e)),C({sid:l,appId:_,bodyParameter:S}).then((()=>{g?j(!1):x(),N((e=>!e)),n()})).catch((()=>{N((e=>!e))}))):b(e)}})]})]})}),Z&&(0,h.jsx)(v.Z,{})]})}},70638:(e,n,l)=>{l.d(n,{Z:()=>u});var t=l(39230),i=l(38857),o=l(21348),d=l(16925),s=l(90904),a=l(98684),c=l(8959),r=l(80184);const u=e=>{let{onClose:n,reason:l}=e;const{t:u}=(0,t.$G)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.Z,{onClose:n,children:(0,r.jsxs)("div",{className:d.Z.modal_container,children:[(0,r.jsx)(o.Z,{children:(0,r.jsxs)("div",{className:d.Z.modal_container_outer_header,children:[(0,r.jsx)("div",{className:d.Z.modal_container_header,children:(0,r.jsx)("h6",{children:u("cancel_admission_application_rejected_reason")})}),(0,r.jsx)("img",{src:"".concat(a.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,r.jsx)(s.Z,{}),(0,r.jsx)(o.Z,{customStyle:{paddingTop:"0"},children:(0,r.jsx)(c.Z,{value:l})})]})})})}},66752:(e,n,l)=>{l.d(n,{Z:()=>_});var t=l(39230),i=l(38857),o=l(21348),d=l(16925),s=l(90904),a=l(72791),c=l(99183),r=l(98684),u=l(43317),v=l(55336),p=l(93638),m=l(11468),h=l(80184);const _=e=>{let{onClose:n,sid:l,appId:_,onRefetch:x,isProfile:g,setWhichSelect:j}=e;const{t:f}=(0,t.$G)(),[Z,N]=(0,a.useState)(!1),[I,b]=(0,a.useState)(""),[S,y]=(0,a.useState)({reason:""}),[C]=(0,u.u7)();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(i.Z,{onClose:n,children:(0,h.jsxs)("div",{className:d.Z.modal_container,children:[(0,h.jsx)(o.Z,{children:(0,h.jsxs)("div",{className:d.Z.modal_container_outer_header,children:[(0,h.jsx)("div",{className:d.Z.modal_container_header,children:(0,h.jsx)("h6",{children:f("cancel_admission_application")})}),(0,h.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,h.jsx)(s.Z,{}),(0,h.jsxs)(o.Z,{customStyle:{paddingTop:"0"},children:[(0,h.jsx)(m.Z,{label:f("reason"),placeholder:f("please_enter_reject_reason"),name:"reason",value:S.reason,type:"text",onChange:e=>{y((n=>({...n,[e.target.name]:e.target.value})))},errorShow:I.reason}),(0,h.jsx)(p.Z,{label:"confirm",onAction:()=>{let e=(0,c.l)(S);(0,c.x)(e)?_&&l&&(N((e=>!e)),C({sid:l,appId:_,bodyParameter:S}).then((()=>{g?j(!1):x(),N((e=>!e)),n()})).catch((()=>{N((e=>!e))}))):b(e)}})]})]})}),Z&&(0,h.jsx)(v.Z,{})]})}},79110:(e,n,l)=>{l.d(n,{Z:()=>r});var t=l(16871),i=l(75285),o=l(1095),d=l(98684),s=l(39230),a=l(66239),c=l(80184);const r=e=>{var n,l,r,u,v,p,m,h,_,x,g,j,f,Z,N,I,b,S,y,C,A,k,P,w,D,T,M,O,E,F;let{applicant:R,instituteId:U}=e;const{t:L}=(0,s.$G)(),q=(0,t.UO)(),z=(0,t.s0)(),G=(0,t.TH)();return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:i.Z.oac_container,onClick:()=>{var e,n;z("/q/".concat(q.username,"/student/profile"),{state:{sid:null===R||void 0===R||null===(e=R.student)||void 0===e?void 0:e._id,instituteId:U,viewAs:"ADMISSION_ADMIN",collectAccess:"Other",whichUrl:"Institute"===(null===(n=G.state)||void 0===n?void 0:n.urlOffSet)?"INSTITUTE":null}})},title:"View Profile",children:[(0,c.jsxs)("div",{className:i.Z.oac_container_inner,children:[(0,c.jsx)("img",{alt:"Student Request Avatar",src:null!==R&&void 0!==R&&null!==(n=R.student)&&void 0!==n&&n.studentProfilePhoto?"".concat(o.yI,"/").concat(null===R||void 0===R||null===(l=R.student)||void 0===l?void 0:l.studentProfilePhoto):"".concat(d.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,c.jsxs)("div",{className:i.Z.oac_container_inner_info,children:[(0,c.jsx)("h6",{children:"".concat(null!==(r=null===R||void 0===R||null===(u=R.student)||void 0===u?void 0:u.studentFirstName)&&void 0!==r?r:""," ").concat(null!==R&&void 0!==R&&null!==(v=R.student)&&void 0!==v&&v.studentMiddleName?null===R||void 0===R||null===(p=R.student)||void 0===p?void 0:p.studentMiddleName:""," ").concat(null!==(m=null===R||void 0===R||null===(h=R.student)||void 0===h?void 0:h.studentLastName)&&void 0!==m?m:"")}),(0,c.jsxs)("p",{children:[L("form_no_only"),": ",null!==(_=null===R||void 0===R||null===(x=R.student)||void 0===x?void 0:x.form_no)&&void 0!==_?_:""]}),(0,c.jsxs)("p",{children:[L("rs_only")," ",null===R||void 0===R?void 0:R.refund_amount," ","Refund"===(null===R||void 0===R?void 0:R.payment_status)&&"Refunded"]})]})]}),(0,c.jsxs)("div",{className:i.Z.oac_container_contact,children:[(0,c.jsxs)("div",{className:i.Z.oac_container_contact_inner,children:[(0,c.jsx)("img",{src:"".concat(d.U_,"/gender.svg"),alt:"email icon"}),(0,c.jsx)("p",{children:null===R||void 0===R||null===(g=R.student)||void 0===g?void 0:g.studentGender})]}),(0,c.jsxs)("div",{className:i.Z.oac_container_contact_inner,children:[(0,c.jsx)("img",{src:"".concat(d.U_,"/phone.svg"),alt:"phone icon"}),(0,c.jsx)("p",{children:null!==R&&void 0!==R&&null!==(j=R.student)&&void 0!==j&&null!==(f=j.user)&&void 0!==f&&f.userPhoneNumber?null===R||void 0===R||null===(Z=R.student)||void 0===Z||null===(N=Z.user)||void 0===N?void 0:N.userPhoneNumber:null!==R&&void 0!==R&&null!==(I=R.student)&&void 0!==I&&null!==(b=I.user)&&void 0!==b&&b.userEmail?null===R||void 0===R||null===(S=R.student)||void 0===S||null===(y=S.user)||void 0===y?void 0:y.userEmail:null!==R&&void 0!==R&&null!==(C=R.student)&&void 0!==C&&C.studentPhoneNumber?null===R||void 0===R||null===(A=R.student)||void 0===A?void 0:A.studentPhoneNumber:null!==R&&void 0!==R&&null!==(k=R.student)&&void 0!==k&&k.studentParentsPhoneNumber?null===R||void 0===R||null===(P=R.student)||void 0===P?void 0:P.studentParentsPhoneNumber:null!==(w=null===R||void 0===R||null===(D=R.student)||void 0===D?void 0:D.studentEmail)&&void 0!==w?w:""})]})]}),(0,c.jsxs)("div",{className:i.Z.oac_container_stuff,children:[(0,c.jsx)("a",{href:"".concat(o.q2,"/").concat(null===R||void 0===R||null===(T=R.student)||void 0===T||null===(M=T.application_print)||void 0===M||null===(O=M[0])||void 0===O?void 0:O.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,c.jsx)("img",{src:"".concat(d.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),null===R||void 0===R||null===(E=R.student)||void 0===E||null===(F=E.fee_receipt)||void 0===F?void 0:F.map(((e,n)=>n>2?"":(0,c.jsx)(a.Z,{rid:null===e||void 0===e?void 0:e._id,receiptFile:null===e||void 0===e?void 0:e.receipt_file},null===e||void 0===e?void 0:e._id)))]})]})})}},13419:(e,n,l)=>{l.r(n),l.d(n,{default:()=>Ye});var t=l(43504),i=l(16871),o=l(43317),d=l(72791),s=l(39230),a=l(23441),c=l(91427),r=l(57588),u=l(98684),v=l(56959),p=l(21348),m=l(90904),h=l(98967),_=l(63162),x=l(38857),g=l(16925),j=l(9490),f=l(75285),Z=l(85794),N=l(55336),I=l(93638),b=l(80184);const S=e=>{var n,l,t,a,c,r,v,h,_,S,C;let{applicationDetail:A,onClose:k,applicationDetailApplicablePending:P}=e;const w=(0,i.TH)(),D=(0,i.UO)(),T=(0,i.s0)(),{t:M}=(0,s.$G)(),O=new Date,[E,F]=(0,d.useState)(!1),[R,U]=(0,d.useState)(!1),[L,q]=(0,d.useState)(null===(n=O.toISOString())||void 0===n?void 0:n.substring(0,10)),[z,G]=(0,d.useState)({open:!1,msg:"",variant:"error"}),[Y]=(0,o.b6)(),{admissionOngoingApplicationDailyCollect:J}=(0,o.Be)({data:{appId:null===A||void 0===A?void 0:A._id,valid_date:L},skip:!(null!==A&&void 0!==A&&A._id)}),B=()=>{null!==A&&void 0!==A&&A._id&&(F((e=>!e)),Y({appId:null===A||void 0===A?void 0:A._id}).then((e=>{var n;if(null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.complete_status){var l;let e="Institute"===(null===(l=w.state)||void 0===l?void 0:l.urlOffSet)?"/q/".concat(D.username,"/institute/member/admission?type=ongoing-detail"):"/q/".concat(D.username,"/member/staff/admission?type=ongoing-detail");T(e,{state:w.state})}else G({msg:null===e||void 0===e?void 0:e.data.message,open:!0,variant:"error"});k(),F((e=>!e))})).catch({}))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.Z,{onClose:k,children:(0,b.jsxs)("div",{className:g.Z.modal_container,children:[(0,b.jsx)(p.Z,{children:(0,b.jsxs)("div",{className:g.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:g.Z.modal_container_header,children:(0,b.jsx)("h6",{style:{cursor:"pointer",color:"#436dfa"},onClick:()=>U((e=>!e)),children:null===A||void 0===A?void 0:A.applicationName})}),(0,b.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:k})]})}),(0,b.jsx)(m.Z,{}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0"},children:[(0,b.jsx)(j.Z,{setValidDate:q}),R?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:f.Z.content2,children:[(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:M("total_received_application")}),(0,b.jsx)("h6",{children:null===A||void 0===A?void 0:A.receievedCount})]}),(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:M("total_selected_application")}),(0,b.jsx)("h6",{children:null===A||void 0===A?void 0:A.selectCount})]}),(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:M("total_confirmed_application")}),(0,b.jsx)("h6",{children:null===A||void 0===A?void 0:A.confirmCount})]}),(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:M("total_alloted_application")}),(0,b.jsx)("h6",{children:null===A||void 0===A?void 0:A.allotCount})]}),(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:M("total_cancelled_application")}),(0,b.jsx)("h6",{children:null===A||void 0===A?void 0:A.cancelCount})]})]}),(0,b.jsxs)("div",{className:f.Z.content3,children:[(0,b.jsxs)("div",{className:f.Z.appinforow1,children:[(0,b.jsx)("h6",{children:M("total_fees_received")}),(0,b.jsxs)("h6",{children:["Rs. ",null===A||void 0===A?void 0:A.collectedFeeCount]})]}),(0,b.jsxs)("div",{className:"".concat(f.Z.appinforow2," ").concat(f.Z.appinforowred),children:[(0,b.jsx)("h6",{children:M("total_fees_pending")}),(0,b.jsxs)("h6",{children:["Rs. ",null===A||void 0===A?void 0:A.remainingFee]})]}),(0,b.jsxs)("div",{className:"".concat(f.Z.appinforow2," ").concat(f.Z.appinforowred),children:[(0,b.jsx)("h6",{children:M("total_applicable_fees_pending")}),(0,b.jsxs)("h6",{children:["Rs. ",null!==P&&void 0!==P?P:0]})]}),y[null===(C=w.state)||void 0===C?void 0:C.isAuthorization]?null:(0,b.jsx)(I.Z,{label:M("complete_application"),onAction:B})]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:f.Z.content2,children:[(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:M("total_received_application")}),(0,b.jsx)("h6",{children:null!==(l=null===J||void 0===J?void 0:J.request_count)&&void 0!==l?l:0})]}),(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:M("total_selected_application")}),(0,b.jsx)("h6",{children:null!==(t=null===J||void 0===J?void 0:J.select_count)&&void 0!==t?t:0})]}),(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:M("total_confirmed_application")}),(0,b.jsx)("h6",{children:null!==(a=null===J||void 0===J?void 0:J.confirm_count)&&void 0!==a?a:0})]}),(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:M("total_alloted_application")}),(0,b.jsx)("h6",{children:null!==(c=null===J||void 0===J?void 0:J.allot_count)&&void 0!==c?c:0})]}),(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:M("total_cancelled_application")}),(0,b.jsx)("h6",{children:null!==(r=null===J||void 0===J?void 0:J.cancel_count)&&void 0!==r?r:0})]})]}),(0,b.jsxs)("div",{className:f.Z.content3,children:[(0,b.jsxs)("div",{className:f.Z.appinforow1,children:[(0,b.jsx)("h6",{children:M("total_fees_received")}),(0,b.jsxs)("h6",{children:["Rs. ",null!==(v=null===J||void 0===J?void 0:J.paid)&&void 0!==v?v:0]})]}),(0,b.jsxs)("div",{className:"".concat(f.Z.appinforow2," ").concat(f.Z.appinforowred),children:[(0,b.jsx)("h6",{children:M("total_fees_pending")}),(0,b.jsxs)("h6",{children:["Rs. ",null!==(h=null===J||void 0===J?void 0:J.remain)&&void 0!==h?h:0]})]}),(0,b.jsxs)("div",{className:"".concat(f.Z.appinforow2," ").concat(f.Z.appinforowred),children:[(0,b.jsx)("h6",{children:M("total_applicable_fees_pending")}),(0,b.jsxs)("h6",{children:["Rs."," ",null!==(_=null===J||void 0===J?void 0:J.applicable_pending)&&void 0!==_?_:0]})]}),y[null===(S=w.state)||void 0===S?void 0:S.isAuthorization]?null:(0,b.jsx)(I.Z,{label:M("complete_application"),onAction:B})]})]})]})]})}),E&&(0,b.jsx)(N.Z,{}),(0,b.jsx)(Z.Z,{eventState:z,eventStateHandler:G})]})},y={isCompleted:!0};var C=l(65841),A=l(1669),k=l(2651),P=l(49806);const w=e=>{var n,l;let{sub:o,appId:d}=e;const s=(0,i.UO)(),a=(0,i.TH)();return(0,b.jsx)(t.rU,{to:"Institute"===(null===(n=a.state)||void 0===n?void 0:n.urlOffSet)?"/q/".concat(s.username,"/institute/member/admission?type=selected-subject"):"/q/".concat(s.username,"/member/staff/admission?type=selected-subject"),state:{...a.state,smid:null===o||void 0===o?void 0:o._id,appId:d,subjectName:null===o||void 0===o?void 0:o.subjectName},className:P.Z.assign_show_list_each,style:{border:"0.5px solid #cacaca",marginBlock:"0.4rem",borderRadius:"6px",padding:"0.8rem 1rem"},children:(0,b.jsx)("div",{className:P.Z.assign_each_paragraph,children:(0,b.jsx)("h6",{children:null!==(l=null===o||void 0===o?void 0:o.subjectName)&&void 0!==l?l:""})})})},D=e=>{let{appId:n,onClose:l}=e;const{t:t}=(0,s.$G)(),[i,a]=(0,d.useState)(""),{oneApplicationSubjectCountList:c,oneApplicationSubjectCountListLoading:v}=(0,o.ax)({data:{aid:n,search:i},skip:!n}),h=(0,d.useCallback)((0,r.J)((e=>{a(e)}),1500),[]);return(0,b.jsx)(x.Z,{onClose:l,children:(0,b.jsxs)("div",{className:P.Z.modal_container,children:[(0,b.jsx)(p.Z,{children:(0,b.jsxs)("div",{className:P.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:P.Z.modal_container_header,children:(0,b.jsx)("h6",{children:t("subject_list")})}),(0,b.jsx)("div",{className:P.Z.modal_container_btn_container,children:(0,b.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:l})})]})}),(0,b.jsx)(m.Z,{}),(0,b.jsxs)(p.Z,{customStyle:{paddingBottom:"1rem"},children:[(0,b.jsxs)("div",{className:P.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,b.jsx)("input",{type:"text",placeholder:t("search"),className:P.Z.assign_search_input,onChange:e=>{e.target.value?h(e.target.value):a("")},style:{width:"100%"}}),(0,b.jsx)("img",{src:"".concat(u.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===c||void 0===c?void 0:c.map(((e,l)=>(0,b.jsx)(w,{sub:e,appId:n},null===e||void 0===e?void 0:e._id))),v?i?(0,b.jsx)(N.Z,{}):(0,b.jsx)(A.Z,{}):i?0===(null===c||void 0===c?void 0:c.length)&&(0,b.jsx)(k.Z,{title:"No subject found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===c||void 0===c?void 0:c.length)&&(0,b.jsx)(k.Z,{title:"No subject.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})},T=e=>{var n,l,o,s;let{applicationDetail:a,children:c}=e;const r=(0,i.TH)(),x=(0,i.UO)(),g=(0,i.s0)(),[j]=(0,t.lr)(),[f,Z]=(0,d.useState)(""),N=()=>{Z("")},y=(0,d.useCallback)((()=>{var e,n,l;let t="";t=O[null===(e=r.state)||void 0===e?void 0:e.isAuthorization]?"Institute"===(null===(n=r.state)||void 0===n?void 0:n.urlOffSet)?"/q/".concat(x.username,"/institute/member/admission?type=complete"):"/q/".concat(x.username,"/member/staff/admission?type=complete"):"Institute"===(null===(l=r.state)||void 0===l?void 0:l.urlOffSet)?"/q/".concat(x.username,"/institute/member/admission?type=ongoing"):"/q/".concat(x.username,"/member/staff/admission?type=ongoing"),g(t,{state:r.state})}),[g,r.state,x.username]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p.Z,{children:(0,b.jsxs)("div",{className:v.Z.fm_header_container,children:[(0,b.jsxs)("div",{className:v.Z.fm_header_start_container,style:{gap:"0.2rem"},children:[(0,b.jsx)("img",{alt:"search icon",src:"".concat(u.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:y}),(0,b.jsx)("h6",{children:null!==(n=null===(l=r.state)||void 0===l?void 0:l.applicationName)&&void 0!==n?n:""})]}),(0,b.jsxs)("div",{className:v.Z.fm_search,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/application-detail.svg"),alt:"icon",title:"Application details",onClick:()=>{Z(1)}}),(0,b.jsx)(I.Z,{label:"subject_count",onAction:()=>{Z(2)},customStyle:{margin:"0",padding:"0.4rem 1rem"}}),c]})]})}),(0,b.jsx)(m.Z,{}),null!==(o=r.state)&&void 0!==o&&o.subRole?(0,b.jsx)(h.Z,{children:C.IC[null===(s=r.state)||void 0===s?void 0:s.subRole].map((e=>{var n,l;return(0,b.jsx)(_.Z,{tab:e,isLink:!0,isActive:null===(n=e.groupIs)||void 0===n?void 0:n.includes(j.get("n")),parentState:r.state,url:"Institute"===(null===(l=r.state)||void 0===l?void 0:l.urlOffSet)?"/q/".concat(x.username,"/institute/member/admission?type=ongoing-detail").concat(e.urlKey):"/q/".concat(x.username,"/member/staff/admission?type=ongoing-detail").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}):(0,b.jsx)(h.Z,{children:M.map((e=>{var n,l;return(0,b.jsx)(_.Z,{tab:e,isLink:!0,isActive:null===(n=e.groupIs)||void 0===n?void 0:n.includes(j.get("n")),parentState:r.state,url:"Institute"===(null===(l=r.state)||void 0===l?void 0:l.urlOffSet)?"/q/".concat(x.username,"/institute/member/admission?type=ongoing-detail").concat(e.urlKey):"/q/".concat(x.username,"/member/staff/admission?type=ongoing-detail").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,b.jsx)(m.Z,{customStyleBorder:{marginTop:"0"}}),1===f?(0,b.jsx)(S,{applicationDetail:a,onClose:N}):2===f?(0,b.jsx)(D,{appId:null===a||void 0===a?void 0:a._id,onClose:N}):null]})},M=[{label:"application",id:"application",urlKey:"",groupIs:["",null]},{label:"docs_collection",id:"document",urlKey:"&n=document",groupIs:["document"]},{label:"fees_collection",id:"fees",urlKey:"&n=fees",groupIs:["fees"]},{label:"confirmed",id:"confirmed",urlKey:"&n=confirmed",groupIs:["confirmed","confirmed-multi"]},{label:"review",id:"review",urlKey:"&n=review",groupIs:["review","review-multi"]},{label:"allottment",id:"allottment",urlKey:"&n=allottment",groupIs:["allottment"]},{label:"cancelled",id:"cancelled",urlKey:"&n=cancelled",groupIs:["cancelled"]}],O={isCompleted:!0};var E=l(63687),F=l(1095),R=l(97892),U=l.n(R),L=l(23984),q=l(75235),z=l(31697),G=l(66752),Y=l(99004),J=l(45100),B=l(70638);const H=e=>{var n,l,t,a,c,r,v,p,m,h,_,x,g,j,Z,I,S,y,C,A,k,P,w,D,T,M,O,E,R,H,$,K;let{instituteId:V,applicant:W,did:Q,bid:X,cmid:ee,appId:ne,onRefetch:le}=e;const{t:te}=(0,s.$G)(),ie=(0,i.UO)(),oe=(0,i.s0)(),de=(0,i.TH)(),[se,ae]=(0,d.useState)(""),[ce,re]=(0,d.useState)(!1),[ue]=(0,o.mW)(),ve=(0,d.useCallback)((()=>{var e,n,l;oe("/q/".concat(ie.username,"/student/profile"),{state:{sid:null===W||void 0===W||null===(e=W.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:V,isExtraInfo:"ONGOING_APPLICATION",isExtraData:{appId:ne,sid:null===W||void 0===W||null===(n=W.student)||void 0===n?void 0:n._id,did:Q,bid:X,cmid:ee,reject_status:null===W||void 0===W?void 0:W.reject_status},whichUrl:"Institute"===(null===(l=de.state)||void 0===l?void 0:l.urlOffSet)?"INSTITUTE":null}})}),[oe,ie.username,V,null===W||void 0===W||null===(n=W.student)||void 0===n?void 0:n._id,ne,Q,X,ee]),pe=e=>{e.stopPropagation(),ae(1)},me=()=>{ae("")},he=e=>{e.stopPropagation(),ae(2)};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:f.Z.oac_container,onClick:ve,title:"View Profile",children:[(0,b.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==W&&void 0!==W&&null!==(l=W.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(F.yI,"/").concat(null===W||void 0===W||null===(t=W.student)||void 0===t?void 0:t.studentProfilePhoto):"".concat(u.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,b.jsx)("h6",{children:"".concat(null!==(a=null===W||void 0===W||null===(c=W.student)||void 0===c?void 0:c.studentFirstName)&&void 0!==a?a:""," ").concat(null!==W&&void 0!==W&&null!==(r=W.student)&&void 0!==r&&r.studentMiddleName?null===W||void 0===W||null===(v=W.student)||void 0===v?void 0:v.studentMiddleName:""," ").concat(null!==(p=null===W||void 0===W||null===(m=W.student)||void 0===m?void 0:m.studentLastName)&&void 0!==p?p:"")}),(0,b.jsxs)("p",{children:[te("form_no_only"),": ",null!==(h=null===W||void 0===W||null===(_=W.student)||void 0===_?void 0:_.form_no)&&void 0!==h?h:""]}),(0,b.jsxs)("p",{children:[te("applied_on"),":"," ",U()(null===W||void 0===W?void 0:W.apply_on).format("DD MMM YYYY")]})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/gender.svg"),alt:"email icon"}),(0,b.jsx)("p",{children:null===W||void 0===W||null===(x=W.student)||void 0===x?void 0:x.studentGender})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{children:null!==W&&void 0!==W&&null!==(g=W.student)&&void 0!==g&&null!==(j=g.user)&&void 0!==j&&j.userPhoneNumber?null===W||void 0===W||null===(Z=W.student)||void 0===Z||null===(I=Z.user)||void 0===I?void 0:I.userPhoneNumber:null!==W&&void 0!==W&&null!==(S=W.student)&&void 0!==S&&null!==(y=S.user)&&void 0!==y&&y.userEmail?null===W||void 0===W||null===(C=W.student)||void 0===C||null===(A=C.user)||void 0===A?void 0:A.userEmail:null!==W&&void 0!==W&&null!==(k=W.student)&&void 0!==k&&k.studentPhoneNumber?null===W||void 0===W||null===(P=W.student)||void 0===P?void 0:P.studentPhoneNumber:null!==W&&void 0!==W&&null!==(w=W.student)&&void 0!==w&&w.studentParentsPhoneNumber?null===W||void 0===W||null===(D=W.student)||void 0===D?void 0:D.studentParentsPhoneNumber:null!==(T=null===W||void 0===W||null===(M=W.student)||void 0===M?void 0:M.studentEmail)&&void 0!==T?T:""})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_stuff,children:[(0,b.jsx)("a",{href:"".concat(F.q2,"/").concat(null===W||void 0===W||null===(O=W.student)||void 0===O||null===(E=O.application_print)||void 0===E||null===(R=E[0])||void 0===R?void 0:R.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,b.jsx)("img",{src:"".concat(u.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),null!==(H=["660bd1c7d5016c9947aef713"])&&void 0!==H&&H.includes(V)?(0,b.jsxs)(L.Z,{children:[(0,b.jsx)(z.Z,{label:"select",onAction:pe,customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}}),(0,b.jsx)(z.Z,{label:"reject",onAction:he,customStyle:{padding:"0.4rem 0.7rem",borderColor:"rgb(176 174 174)",fontSize:"13px",opacity:"0.9"}})]}):(0,b.jsx)(L.Z,{children:null!==W&&void 0!==W&&W.reject_status?(0,b.jsx)(J.Z,{label:"rejection_reason",onAction:e=>{e.stopPropagation(),ae(4)},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px","--ccb-bg":"#e6686830","--ccb-b":"#ed4a4a","--ccb-text":"#f00b0b","--ccb-bg-h":"#eb3232","--ccb-text-h":"#ffffff",minWidth:"max-content",justifyContent:"center"}}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(z.Z,{label:"select",onAction:pe,customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}}),(0,b.jsx)(z.Z,{label:"reject",onAction:he,customStyle:{padding:"0.4rem 0.7rem",borderColor:"rgb(176 174 174)",fontSize:"13px",opacity:"0.9"}}),(0,b.jsx)(z.Z,{label:"reject_insufficient",onAction:e=>{e.stopPropagation(),ae(3)},customStyle:{padding:"0.4rem 0.7rem",borderColor:"rgb(176 174 174)",fontSize:"13px",opacity:"0.9",minWidth:"max-content"}})]})})]})]}),1===se?(0,b.jsx)(q.Z,{title:"select_fee_structre_of_student",onClose:me,onSelectedStrucutre:e=>{var n,l;null!==W&&void 0!==W&&null!==(n=W.student)&&void 0!==n&&n._id&&ne&&null!==e&&void 0!==e&&e._id&&(re((e=>!e)),ue({sid:null===W||void 0===W||null===(l=W.student)||void 0===l?void 0:l._id,appId:ne,applicant:{fee_struct:null===e||void 0===e?void 0:e._id}}).then((()=>{le(),me(),re((e=>!e))})).catch((()=>{re((e=>!e))})))},did:Q,bid:X,cmid:ee}):2===se?(0,b.jsx)(G.Z,{onClose:me,appId:ne,sid:null===W||void 0===W||null===($=W.student)||void 0===$?void 0:$._id,onRefetch:le}):3===se?(0,b.jsx)(Y.Z,{onClose:me,appId:ne,sid:null===W||void 0===W||null===(K=W.student)||void 0===K?void 0:K._id,onRefetch:le}):4===se?(0,b.jsx)(B.Z,{onClose:me,reason:null===W||void 0===W?void 0:W.reject_status}):null,ce&&(0,b.jsx)(N.Z,{})]})},$=e=>{var n,l,t,i,o,d,s,a,c;let{applicant:r,onSelect:v,applicantId:p}=e;return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:f.Z.oac_container,style:{justifyContent:"flex-start"},children:[(0,b.jsx)("img",{className:f.Z.department_checkbox,src:null!==p&&void 0!==p&&p.includes(null===r||void 0===r||null===(n=r.student)||void 0===n?void 0:n._id)?"".concat(u.U_,"/check.svg"):"".concat(u.U_,"/uncheck.svg"),alt:"check icon",onClick:()=>v(null===r||void 0===r?void 0:r.student)}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner,style:{width:"100%"},children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==r&&void 0!==r&&null!==(l=r.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(F.yI,"/").concat(null===r||void 0===r||null===(t=r.student)||void 0===t?void 0:t.studentProfilePhoto):"".concat(u.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsx)("div",{className:f.Z.oac_container_inner_info,children:(0,b.jsx)("h6",{children:"".concat(null!==(i=null===r||void 0===r||null===(o=r.student)||void 0===o?void 0:o.studentFirstName)&&void 0!==i?i:""," ").concat(null!==r&&void 0!==r&&null!==(d=r.student)&&void 0!==d&&d.studentMiddleName?null===r||void 0===r||null===(s=r.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null!==(a=null===r||void 0===r||null===(c=r.student)||void 0===c?void 0:c.studentLastName)&&void 0!==a?a:"")})})]})]})})};var K=l(46194);const V=e=>{var n;let{transferStudentObj:l,application:t,appId:i,transferApplicantId:a,onClose:c,onParentClose:r}=e;const{t:v}=(0,s.$G)(),[h,_]=(0,d.useState)(!1),[j]=(0,o.We)();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.Z,{children:(0,b.jsxs)("div",{className:g.Z.modal_container,children:[(0,b.jsx)(p.Z,{children:(0,b.jsxs)("div",{className:g.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:g.Z.modal_container_header,children:(0,b.jsx)("h6",{children:v("select_confirm_student")})}),(0,b.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:c,className:g.Z.close_icon})]})}),(0,b.jsx)(m.Z,{}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0"},children:[(0,b.jsxs)("div",{className:f.Z.admission_class_confirm,children:[v("transfering")," ",(0,b.jsx)("span",{style:{fontWeight:"600"},children:null===l||void 0===l?void 0:l.length})," ",v("students")," "," ",",",v("to")," ",(0,b.jsx)("span",{style:{fontWeight:"600"},children:null!==(n=null===t||void 0===t?void 0:t.applicationName)&&void 0!==n?n:""})]}),(0,b.jsx)(I.Z,{label:"confirm",onAction:()=>{i&&null!==t&&void 0!==t&&t._id&&(null===l||void 0===l?void 0:l.length)>0&&(_((e=>!e)),j({appId:null===t||void 0===t?void 0:t._id,transferApplicantData:{app_array:a,oaid:i,student_array:l}}).then((()=>{_((e=>!e)),r()})).catch({}))}})]})]})}),h&&(0,b.jsx)(N.Z,{})]})},W=e=>{var n,l,t,i;let{onClose:v,appId:h,aid:_}=e;const{t:g}=(0,s.$G)(),[j,f]=(0,d.useState)([]),[Z,S]=(0,d.useState)([]),[y,C]=(0,d.useState)(1),[w,D]=(0,d.useState)(""),[T,M]=(0,d.useState)(""),[O,E]=(0,d.useState)(1),[F,R]=(0,d.useState)(!0),[U,L]=(0,a.YD)({skip:T}),{admissionOngoingApplicationReview:q,admissionOngoingApplicationReviewLoading:z}=(0,o._v)({data:{appId:h,page:O,limit:10,search:T},skip:!h});(0,d.useEffect)((()=>{L&&F&&E((e=>e+1))}),[L,F]),(0,d.useEffect)((()=>{var e;if(null!==q&&void 0!==q&&null!==(e=q.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===q||void 0===q||null===(n=q.list)||void 0===n?void 0:n.length);R((()=>e))}}),[null===q||void 0===q||null===(n=q.list)||void 0===n?void 0:n.length]);const G=(0,d.useCallback)((0,r.J)((e=>{E((()=>1)),M(e)}),1500),[]),Y=e=>{if(null!==j&&void 0!==j&&j.includes(null===e||void 0===e?void 0:e._id))f((n=>null===n||void 0===n?void 0:n.filter((n=>n!==(null===e||void 0===e?void 0:e._id))))),S((n=>null===n||void 0===n?void 0:n.filter((n=>{var l;return(null===n||void 0===n?void 0:n.studentId)!==(null===e||void 0===e||null===(l=e.student)||void 0===l?void 0:l._id)}))));else{var n;let l={studentId:null===e||void 0===e||null===(n=e.student)||void 0===n?void 0:n._id,mode:null===e||void 0===e?void 0:e.payment_status,type:null===e||void 0===e?void 0:e.install_type,price:null===e||void 0===e?void 0:e.fee_remain};S((e=>[...e,l])),f((n=>[...n,null===e||void 0===e?void 0:e._id]))}};return(0,b.jsx)(b.Fragment,{children:1===y?(0,b.jsx)(x.Z,{children:(0,b.jsxs)("div",{className:P.Z.modal_container,children:[(0,b.jsx)(p.Z,{children:(0,b.jsxs)("div",{className:P.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:P.Z.modal_container_header,children:(0,b.jsx)("h6",{children:g("select_confirm_student")})}),(0,b.jsxs)("div",{className:P.Z.modal_container_header,children:[(0,b.jsx)(I.Z,{customStyle:{margin:0,padding:"0.2rem 0.5rem"},onAction:()=>{(null===j||void 0===j?void 0:j.length)>0&&C(2)},label:"select",count:null===j||void 0===j?void 0:j.length}),(0,b.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:v,className:P.Z.close_icon})]})]})}),(0,b.jsx)(m.Z,{}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0",marginBottom:"1rem"},children:[(0,b.jsxs)("div",{className:P.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,b.jsx)("input",{type:"text",placeholder:g("search"),className:P.Z.assign_search_input,onChange:e=>{e.target.value?G(e.target.value):(E((()=>1)),M(""))},style:{width:"100%"}}),(0,b.jsx)("img",{src:"".concat(u.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===q||void 0===q||null===(l=q.list)||void 0===l?void 0:l.map(((e,n)=>{var l;return(null===q||void 0===q||null===(l=q.list)||void 0===l?void 0:l.length)===n+1?(0,b.jsx)("div",{ref:U,children:(0,b.jsx)($,{applicant:{student:e},applicantId:j,onSelect:Y})},null===e||void 0===e?void 0:e._id):(0,b.jsx)($,{applicant:{student:e},applicantId:j,onSelect:Y},null===e||void 0===e?void 0:e._id)})),z?T?(0,b.jsx)(N.Z,{}):(0,b.jsx)(A.Z,{}):T?0===(null===q||void 0===q||null===(t=q.list)||void 0===t?void 0:t.length)&&(0,b.jsx)(k.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===q||void 0===q||null===(i=q.list)||void 0===i?void 0:i.length)&&(0,b.jsx)(k.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]})}):2===y?(0,b.jsx)(K.Z,{onSelect:e=>{D(e),C(3)},aid:_,onClose:()=>C(1)}):3===y?(0,b.jsx)(V,{transferApplicantId:j,transferStudentObj:Z,appId:h,application:w,onClose:()=>C(2),onParentClose:v}):null})},Q=e=>{var n,l,t,s;let{applicationDetail:a,isExportAccess:c,isAddAccess:r,isTransferAccess:p,instituteId:m,aid:h,onMultipleSelect:_,onResuffleToggle:x,isFull:g,children:j}=e;const f=(0,i.TH)(),Z=(0,i.UO)(),S=(0,i.s0)(),[y,C]=(0,d.useState)(!1),[A,k]=(0,d.useState)(""),[P]=(0,o.Mo)();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(L.Z,{customStyle:{justifyContent:"space-between",marginBottom:"0.7rem"},children:g?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:v.Z.fm_search_full,children:(0,b.jsx)("section",{className:v.Z.fm_search_full_container,children:(0,b.jsxs)("div",{className:v.Z.fm_search_full_container_inner,children:[(0,b.jsx)("img",{className:v.Z.fm_search_full_icon,alt:"search icon",src:"".concat(u.dB,"/navbar-search.svg")}),j]})})})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("section",{className:v.Z.fm_search_container,children:(0,b.jsxs)("div",{className:v.Z.fm_search_container_inner,children:[(0,b.jsx)("img",{className:v.Z.fm_search_icon,alt:"search icon",src:"".concat(u.dB,"/navbar-search.svg")}),j]})}),(0,b.jsxs)("div",{className:v.Z.fm_other_admission,children:[X[r]&&!ee[null===(n=f.state)||void 0===n?void 0:n.isAuthorization]&&(0,b.jsx)("img",{src:"".concat(u.U_,"/add.svg"),alt:"icon",title:"Add student",onClick:()=>{var e,n,l,t,i,o,d,s,c,r;m&&null!==(e=f.state)&&void 0!==e&&e.appId&&null!==a&&void 0!==a&&a.applicationMaster&&null!==a&&void 0!==a&&null!==(n=a.applicationDepartment)&&void 0!==n&&n._id&&null!==a&&void 0!==a&&null!==(l=a.applicationBatch)&&void 0!==l&&l._id&&h&&S("/q/joining",{state:{formAs:"STUDENT",openAs:"ADMISSION_ADMIN_SIDE",instituteId:m,appId:null===(t=f.state)||void 0===t?void 0:t.appId,admissionId:h,admissionAmount:[null!==(i=null===a||void 0===a?void 0:a.admissionFee)&&void 0!==i?i:0,null!==(o=null===a||void 0===a||null===(d=a.one_installments)||void 0===d?void 0:d.fees)&&void 0!==o?o:0],applicationMaster:null===a||void 0===a?void 0:a.applicationMaster,applicationDepartment:null===a||void 0===a||null===(s=a.applicationDepartment)||void 0===s?void 0:s._id,batchId:null===a||void 0===a||null===(c=a.applicationBatch)||void 0===c?void 0:c._id,departmentId:null===a||void 0===a||null===(r=a.applicationDepartment)||void 0===r?void 0:r._id,whichFormShow:"DEPARTMENT"}})}}),X[c]&&(0,b.jsx)("img",{src:"".concat(u.J7,"/export.svg"),alt:"icon",title:"List Export",onClick:()=>{var e;null!==(e=f.state)&&void 0!==e&&e.appId&&X[c]&&(C((e=>!e)),P({appId:null===a||void 0===a?void 0:a._id,flow:c}).then((()=>{var e;let n="Institute"===(null===(e=f.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(Z.username,"/institute/member/admission?type=export"):"/q/".concat(Z.username,"/member/staff/admission?type=export");S(n,{state:f.state})})).catch({}))}}),X[p]&&!ee[null===(l=f.state)||void 0===l?void 0:l.isAuthorization]&&(0,b.jsx)("img",{src:"".concat(u.U_,"/transfer.svg"),alt:"icon",title:"Transfer student",onClick:()=>{k(2)}}),ne[c]&&!ee[null===(t=f.state)||void 0===t?void 0:t.isAuthorization]&&(0,b.jsx)("img",{src:"".concat(u.U_,"/mutliple.svg"),alt:"icon",title:"Multiple Select",onClick:_}),le[c]&&!ee[null===(s=f.state)||void 0===s?void 0:s.isAuthorization]&&(0,b.jsx)(I.Z,{label:"resuffle",customStyle:{margin:"0",padding:"0.35rem 0.5rem"},onAction:x})]})]})}),2===A?(0,b.jsx)(W,{onClose:()=>{k("")},instituteId:m,appId:null===a||void 0===a?void 0:a._id,aid:h}):null,y&&(0,b.jsx)(N.Z,{})]})},X={APPLICATION:!0,Review:!0,Request_Query:!0,Confirm_Query:!0,Review_Query:!0,Allot_Query:!0,Docs_Query:!0,Fees_Query:!0},ee={isCompleted:!0},ne={Confirm:!0,Confirm_Query:!0},le={Confirm_Query:!0},te=e=>{var n,l,t,u,v,m;let{applicationDetail:h,instituteId:_,aid:x}=e;const{t:g}=(0,s.$G)(),j=(0,i.TH)(),[f,Z]=(0,d.useState)(""),[I,S]=(0,d.useState)(1),[y,C]=(0,d.useState)(!0),[P,w]=(0,a.YD)({skip:f}),{admissionOngoingApplicationRequest:D,admissionOngoingApplicationRequestLoading:M,admissionOngoingApplicationRequestRefetch:O}=(0,o.ws)({data:{appId:null===(n=j.state)||void 0===n?void 0:n.appId,page:I,limit:10,search:f},skip:!(null!==(l=j.state)&&void 0!==l&&l.appId)});(0,d.useEffect)((()=>{w&&y&&S((e=>e+1))}),[w,y]),(0,d.useEffect)((()=>{var e;if(null!==D&&void 0!==D&&null!==(e=D.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===D||void 0===D||null===(n=D.list)||void 0===n?void 0:n.length);C((()=>e))}}),[null===D||void 0===D||null===(t=D.list)||void 0===t?void 0:t.length]);const F=(0,d.useCallback)((0,r.J)((e=>{S((()=>1)),Z(e)}),1500),[]),R=(0,d.useCallback)((()=>{S((()=>1)),O()}),[]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(E.Z,{children:[(0,b.jsx)(T,{applicationDetail:h,instituteId:_,isAddAccess:"APPLICATION",isExportAccess:"Request_Query"}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,b.jsx)(Q,{applicationDetail:h,instituteId:_,isAddAccess:"APPLICATION",isExportAccess:"Request_Query",aid:x,children:(0,b.jsx)("input",{type:"text",placeholder:g("search_applicants"),onChange:e=>{e.target.value?F(e.target.value):(S((()=>1)),Z(""))}})}),null===D||void 0===D||null===(u=D.list)||void 0===u?void 0:u.map(((e,n)=>{var l,t,i,o,d,s,a,c,r;return(null===D||void 0===D||null===(l=D.list)||void 0===l?void 0:l.length)===n+1?(0,b.jsx)("div",{ref:P,children:(0,b.jsx)(H,{applicant:e,instituteId:_,did:null===h||void 0===h||null===(t=h.applicationDepartment)||void 0===t?void 0:t._id,bid:null===h||void 0===h||null===(i=h.applicationBatch)||void 0===i?void 0:i._id,cmid:null===h||void 0===h||null===(o=h.applicationMaster)||void 0===o?void 0:o._id,onRefetch:R,appId:null===(d=j.state)||void 0===d?void 0:d.appId})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(H,{applicant:e,instituteId:_,did:null===h||void 0===h||null===(s=h.applicationDepartment)||void 0===s?void 0:s._id,bid:null===h||void 0===h||null===(a=h.applicationBatch)||void 0===a?void 0:a._id,cmid:null===h||void 0===h||null===(c=h.applicationMaster)||void 0===c?void 0:c._id,onRefetch:R,appId:null===(r=j.state)||void 0===r?void 0:r.appId},null===e||void 0===e?void 0:e._id)})),M?f?(0,b.jsx)(N.Z,{}):(0,b.jsx)(A.Z,{}):f?0===(null===D||void 0===D||null===(v=D.list)||void 0===v?void 0:v.length)&&(0,b.jsx)(k.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission requests found related this search."}):0===(null===D||void 0===D||null===(m=D.list)||void 0===m?void 0:m.length)&&(0,b.jsx)(k.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission request list."})]})]})})};var ie=l(66239),oe=l(61055),de=l(60924),se=l(43997),ae=l(50518),ce=l(99183);const re=e=>{var n;let{onClose:l,applicant:t,appId:i,onRefetch:a}=e;const{t:c}=(0,s.$G)(),[r,v]=(0,d.useState)(!1),[h,_]=(0,d.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),[j,f]=(0,d.useState)(""),[Z,S]=(0,d.useState)(0),[y]=(0,o.JC)();(0,d.useEffect)((()=>{var e,n;if((null===t||void 0===t||null===(e=t.student)||void 0===e||null===(n=e.paidFeeList)||void 0===n?void 0:n.length)>0){var l,o,d,s;const e=null===t||void 0===t||null===(l=t.student)||void 0===l||null===(o=l.paidFeeList)||void 0===o?void 0:o.filter((e=>(null===e||void 0===e?void 0:e.appId)===i));S(null!==(d=null===e||void 0===e||null===(s=e[0])||void 0===s?void 0:s.paidAmount)&&void 0!==d?d:0)}}),[null===t||void 0===t||null===(n=t.student)||void 0===n?void 0:n.paidFeeList]);const C=e=>{_((n=>({...n,[e.target.name]:e.target.value})))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.Z,{onClose:l,children:(0,b.jsxs)("div",{className:g.Z.modal_container,children:[(0,b.jsx)(p.Z,{children:(0,b.jsxs)("div",{className:g.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:g.Z.modal_container_header,children:(0,b.jsx)("h6",{children:c("cancel_addmission")})}),(0,b.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:l})]})}),(0,b.jsx)(m.Z,{}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0"},children:[(0,b.jsxs)("div",{className:g.Z.admission_fees_row,children:[(0,b.jsxs)("h6",{children:[c("fees_paid")," :"]}),(0,b.jsxs)("h6",{children:[c("rs_only")," ",Z]})]}),(0,b.jsx)(oe.Z,{label:"".concat(c("refund_amount")),placeholder:c("please_enter_refund_amount"),name:"amount",value:h.amount,type:"tel",onChange:e=>{_((n=>({...n,amount:+e.target.value,fee_payment_amount:+e.target.value})))},errorShow:j.amount}),(0,b.jsx)(ae.Z,{paymentHeading:c("refund_payment_type_mode"),selectLabel:c("mode_placeholder"),onClick:e=>{_((n=>({...n,mode:"Cash"===e?"Offline":"Online",fee_payment_mode:e})))},errorShow:j.fee_payment_mode,defalutValue:h.fee_payment_mode,selectedValue:c("please_select_payment_mode"),isAuthority:"admissionCollectMode"}),(0,b.jsx)(de.Z,{label:c("select_date_of_transaction"),placeholder:c("please_select_date"),name:"transaction_date",value:h.transaction_date,onChange:e=>{_((n=>({...n,transaction_date:(0,se.jh)(e)})))},errorShow:j.transaction_date}),"Cash"===h.fee_payment_mode?null:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:g.Z.admission_fees_row,style:{margin:0},children:(0,b.jsx)("h6",{style:{margin:0,marginTop:"1rem"},children:c("paid_to")})}),(0,b.jsx)(oe.Z,{label:c("bank_name_collect"),placeholder:c("please_enter_bank_name"),name:"fee_bank_name",value:h.fee_bank_name,type:"text",onChange:C}),(0,b.jsx)(oe.Z,{label:c("banke_holder_name"),placeholder:c("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:h.fee_bank_holder,type:"text",onChange:C}),(0,b.jsx)(oe.Z,{label:c("cheque_dd_neft"),placeholder:c("please_enter_utr_ref_number"),name:"fee_utr_reference",value:h.fee_utr_reference,type:"text",onChange:C})]}),(0,b.jsx)(I.Z,{label:"confirm",onAction:()=>{let e=(0,ce.l)(h,["mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference"]);var n,o,d,s,c,r,u,p,m,_,x,g,j,Z,N,I;(0,ce.x)(e)?t&&i&&null!==t&&void 0!==t&&null!==(n=t.student)&&void 0!==n&&null!==(o=n.fee_structure)&&void 0!==o&&o._id&&(v((e=>!e)),y({sid:null===t||void 0===t||null===(d=t.student)||void 0===d?void 0:d._id,appId:i,payment:{struct:null===t||void 0===t||null===(s=t.student)||void 0===s||null===(c=s.fee_structure)||void 0===c?void 0:c._id,amount:null!==(r=null===h||void 0===h?void 0:h.amount)&&void 0!==r?r:"",mode:null!==(u=null===h||void 0===h?void 0:h.mode)&&void 0!==u?u:"",fee_payment_mode:null!==(p=null===h||void 0===h?void 0:h.fee_payment_mode)&&void 0!==p?p:"",fee_payment_amount:null!==(m=null===h||void 0===h?void 0:h.fee_payment_amount)&&void 0!==m?m:"",transaction_date:null!==(_=(0,se._1)(h.transaction_date))&&void 0!==_?_:"",fee_bank_name:null!==(x=null===h||void 0===h?void 0:h.fee_bank_name)&&void 0!==x?x:"",fee_bank_holder:null!==(g=null===h||void 0===h?void 0:h.fee_bank_holder)&&void 0!==g?g:"",fee_utr_reference:null!==(j=null===h||void 0===h?void 0:h.fee_utr_reference)&&void 0!==j?j:"",remainAmount:null!==(Z=null===t||void 0===t?void 0:t.fee_remain)&&void 0!==Z?Z:0,classId:null!==(N=null===t||void 0===t||null===(I=t.student)||void 0===I?void 0:I.studentClass)&&void 0!==N?N:null}}).then((()=>{a(),v((e=>!e)),l()})).catch({})):f(e)}})]})]})}),r&&(0,b.jsx)(N.Z,{})]})},ue=e=>{var n,l,t,o,a,c,r,v,p,m,h,_,x,g,j,Z,N,I,S,y,C,A,k,P,w,D,T,M,O,E;let{applicant:R,instituteId:U,appId:L,onRefetch:q}=e;const{t:z}=(0,s.$G)(),G=(0,i.UO)(),Y=(0,i.s0)(),J=(0,i.TH)(),[B,H]=(0,d.useState)("");return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:f.Z.oac_container,onClick:()=>{var e,n;Y("/q/".concat(G.username,"/student/profile"),{state:{sid:null===R||void 0===R||null===(e=R.student)||void 0===e?void 0:e._id,instituteId:U,viewAs:"ADMISSION_ADMIN",collectAccess:"ADMISSION_ADMIN",editInstallmentControl:"authorized",govtAccess:"Other",cancelAccess:!1,editStructureControl:"authorized",editGovtNumberContorl:"authorized",editGovtInstallmentControl:"authorized",isSearchEnable:"authorized",whichUrl:"Institute"===(null===(n=J.state)||void 0===n?void 0:n.urlOffSet)?"INSTITUTE":null}})},title:"View Profile",children:[(0,b.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==R&&void 0!==R&&null!==(n=R.student)&&void 0!==n&&n.studentProfilePhoto?"".concat(F.yI,"/").concat(null===R||void 0===R||null===(l=R.student)||void 0===l?void 0:l.studentProfilePhoto):"".concat(u.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,b.jsx)("h6",{children:"".concat(null!==(t=null===R||void 0===R||null===(o=R.student)||void 0===o?void 0:o.studentFirstName)&&void 0!==t?t:""," ").concat(null!==R&&void 0!==R&&null!==(a=R.student)&&void 0!==a&&a.studentMiddleName?null===R||void 0===R||null===(c=R.student)||void 0===c?void 0:c.studentMiddleName:""," ").concat(null!==(r=null===R||void 0===R||null===(v=R.student)||void 0===v?void 0:v.studentLastName)&&void 0!==r?r:"")}),(0,b.jsx)("p",{children:(null===R||void 0===R?void 0:R.alloted_class)||""}),(0,b.jsxs)("p",{children:[z("form_no_only"),": ",null!==(p=null===R||void 0===R||null===(m=R.student)||void 0===m?void 0:m.form_no)&&void 0!==p?p:""]}),(0,b.jsx)("p",{onClick:e=>{e.stopPropagation(),H(1)},style:{color:"#436dfa"},children:z("cancel_admision")})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/gender.svg"),alt:"email icon"}),(0,b.jsx)("p",{children:null===R||void 0===R||null===(h=R.student)||void 0===h?void 0:h.studentGender})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{children:null!==R&&void 0!==R&&null!==(_=R.student)&&void 0!==_&&null!==(x=_.user)&&void 0!==x&&x.userPhoneNumber?null===R||void 0===R||null===(g=R.student)||void 0===g||null===(j=g.user)||void 0===j?void 0:j.userPhoneNumber:null!==R&&void 0!==R&&null!==(Z=R.student)&&void 0!==Z&&null!==(N=Z.user)&&void 0!==N&&N.userEmail?null===R||void 0===R||null===(I=R.student)||void 0===I||null===(S=I.user)||void 0===S?void 0:S.userEmail:null!==R&&void 0!==R&&null!==(y=R.student)&&void 0!==y&&y.studentPhoneNumber?null===R||void 0===R||null===(C=R.student)||void 0===C?void 0:C.studentPhoneNumber:null!==R&&void 0!==R&&null!==(A=R.student)&&void 0!==A&&A.studentParentsPhoneNumber?null===R||void 0===R||null===(k=R.student)||void 0===k?void 0:k.studentParentsPhoneNumber:null!==(P=null===R||void 0===R||null===(w=R.student)||void 0===w?void 0:w.studentEmail)&&void 0!==P?P:""})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_stuff,children:[(0,b.jsx)("a",{href:"".concat(F.q2,"/").concat(null===R||void 0===R||null===(D=R.student)||void 0===D||null===(T=D.application_print)||void 0===T||null===(M=T[0])||void 0===M?void 0:M.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,b.jsx)("img",{src:"".concat(u.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),null===R||void 0===R||null===(O=R.student)||void 0===O||null===(E=O.fee_receipt)||void 0===E?void 0:E.map(((e,n)=>n>2?"":(0,b.jsx)(ie.Z,{rid:null===e||void 0===e?void 0:e._id,receiptFile:null===e||void 0===e?void 0:e.receipt_file},null===e||void 0===e?void 0:e._id)))]})]}),1===B?(0,b.jsx)(re,{appId:L,applicant:R,onClose:()=>{H("")},onRefetch:q}):null]})},ve=e=>{var n,l,t,u,v,m;let{applicationDetail:h,instituteId:_}=e;const{t:x}=(0,s.$G)(),g=(0,i.TH)(),[j,f]=(0,d.useState)(""),[Z,I]=(0,d.useState)(1),[S,y]=(0,d.useState)(!0),[C,P]=(0,a.YD)({skip:j}),{admissionOngoingApplicationAllottment:w,admissionOngoingApplicationAllottmentLoading:D,admissionOngoingApplicationAllottmentRefetch:M}=(0,o.UX)({data:{appId:null===(n=g.state)||void 0===n?void 0:n.appId,page:Z,limit:10,search:j},skip:!(null!==(l=g.state)&&void 0!==l&&l.appId)});(0,d.useEffect)((()=>{P&&S&&I((e=>e+1))}),[P,S]),(0,d.useEffect)((()=>{var e;if(null!==w&&void 0!==w&&null!==(e=w.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===w||void 0===w||null===(n=w.list)||void 0===n?void 0:n.length);y((()=>e))}}),[null===w||void 0===w||null===(t=w.list)||void 0===t?void 0:t.length]);const O=(0,d.useCallback)((0,r.J)((e=>{I((()=>1)),f(e)}),1500),[]),F=(0,d.useCallback)((()=>{I((()=>1)),f(""),M()}),[M]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(E.Z,{children:[(0,b.jsx)(T,{applicationDetail:h,isExportAccess:"Allot_Query"}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,b.jsx)(Q,{applicationDetail:h,isExportAccess:"Allot_Query",children:(0,b.jsx)("input",{type:"text",placeholder:x("search_allotted_student"),onChange:e=>{e.target.value?O(e.target.value):(I((()=>1)),f(""))}})}),null===w||void 0===w||null===(u=w.list)||void 0===u?void 0:u.map(((e,n)=>{var l,t,i;return(null===w||void 0===w||null===(l=w.list)||void 0===l?void 0:l.length)===n+1?(0,b.jsx)("div",{ref:C,children:(0,b.jsx)(ue,{applicant:e,instituteId:_,appId:null===(t=g.state)||void 0===t?void 0:t.appId,onRefetch:F})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(ue,{applicant:e,instituteId:_,appId:null===(i=g.state)||void 0===i?void 0:i.appId,onRefetch:F},null===e||void 0===e?void 0:e._id)})),D?j?(0,b.jsx)(N.Z,{}):(0,b.jsx)(A.Z,{}):j?0===(null===w||void 0===w||null===(v=w.list)||void 0===v?void 0:v.length)&&(0,b.jsx)(k.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission allottment found related this search."}):0===(null===w||void 0===w||null===(m=w.list)||void 0===m?void 0:m.length)&&(0,b.jsx)(k.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission allottment list."})]})]})})};var pe=l(79110);const me=e=>{var n,l,t,u,v,m;let{applicationDetail:h,instituteId:_}=e;const{t:x}=(0,s.$G)(),g=(0,i.TH)(),[j,f]=(0,d.useState)(""),[Z,I]=(0,d.useState)(1),[S,y]=(0,d.useState)(!0),[C,P]=(0,a.YD)({skip:j}),{admissionOngoingApplicationCancelled:w,admissionOngoingApplicationCancelledLoading:D}=(0,o.aL)({data:{appId:null===(n=g.state)||void 0===n?void 0:n.appId,page:Z,limit:10,search:j},skip:!(null!==(l=g.state)&&void 0!==l&&l.appId)});(0,d.useEffect)((()=>{P&&S&&I((e=>e+1))}),[P,S]),(0,d.useEffect)((()=>{var e;if(null!==w&&void 0!==w&&null!==(e=w.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===w||void 0===w||null===(n=w.list)||void 0===n?void 0:n.length);y((()=>e))}}),[null===w||void 0===w||null===(t=w.list)||void 0===t?void 0:t.length]);const M=(0,d.useCallback)((0,r.J)((e=>{I((()=>1)),f(e)}),1500),[]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(E.Z,{children:[(0,b.jsx)(T,{applicationDetail:h}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,b.jsx)(Q,{applicationDetail:h,instituteId:_,isFull:!0,children:(0,b.jsx)("input",{type:"text",placeholder:x("search_cancelled_student"),onChange:e=>{e.target.value?M(e.target.value):(I((()=>1)),f(""))}})}),null===w||void 0===w||null===(u=w.list)||void 0===u?void 0:u.map(((e,n)=>{var l;return(null===w||void 0===w||null===(l=w.list)||void 0===l?void 0:l.length)===n+1?(0,b.jsx)("div",{ref:C,children:(0,b.jsx)(pe.Z,{applicant:e,instituteId:_})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(pe.Z,{applicant:e,instituteId:_},null===e||void 0===e?void 0:e._id)})),D?j?(0,b.jsx)(N.Z,{}):(0,b.jsx)(A.Z,{}):j?0===(null===w||void 0===w||null===(v=w.list)||void 0===v?void 0:v.length)&&(0,b.jsx)(k.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission cancelled found related this search."}):0===(null===w||void 0===w||null===(m=w.list)||void 0===m?void 0:m.length)&&(0,b.jsx)(k.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission cancelled list."})]})]})})};var he=l(83554);const _e=e=>{var n,l,t,a,c,r,v,p,m,h,_,x,g,j,Z,I,S,y,C,A,k,P,w,D,T,M,O,E,R,L,G,Y,J,B,H,$,K,V;let{instituteId:W,applicant:Q,did:X,bid:ee,cmid:ne,appId:le,onRefetch:te}=e;const{t:ie}=(0,s.$G)(),oe=(0,i.UO)(),de=(0,i.s0)(),se=(0,i.TH)(),[ae,ce]=(0,d.useState)(0),[re,ue]=(0,d.useState)(!1),[ve]=(0,o.ur)(),[pe]=(0,o.u8)(),me=(0,d.useCallback)((()=>{var e,n;de("/q/".concat(oe.username,"/student/profile"),{state:{sid:null===Q||void 0===Q||null===(e=Q.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:W,whichUrl:"Institute"===(null===(n=se.state)||void 0===n?void 0:n.urlOffSet)?"INSTITUTE":null}})}),[W,null===Q||void 0===Q||null===(n=Q.student)||void 0===n?void 0:n._id]),_e=()=>{ce("")};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:f.Z.oac_container,onClick:me,title:"View Profile",children:[(0,b.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==Q&&void 0!==Q&&null!==(l=Q.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(F.yI,"/").concat(null===Q||void 0===Q||null===(t=Q.student)||void 0===t?void 0:t.studentProfilePhoto):"".concat(u.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,b.jsx)("h6",{children:"".concat(null!==(a=null===Q||void 0===Q||null===(c=Q.student)||void 0===c?void 0:c.studentFirstName)&&void 0!==a?a:""," ").concat(null!==Q&&void 0!==Q&&null!==(r=Q.student)&&void 0!==r&&r.studentMiddleName?null===Q||void 0===Q||null===(v=Q.student)||void 0===v?void 0:v.studentMiddleName:""," ").concat(null!==(p=null===Q||void 0===Q||null===(m=Q.student)||void 0===m?void 0:m.studentLastName)&&void 0!==p?p:"")}),(0,b.jsxs)("h6",{children:[ie("fee_structure")," : ",null!==(h=null===Q||void 0===Q||null===(_=Q.student)||void 0===_||null===(x=_.fee_structure)||void 0===x||null===(g=x.category_master)||void 0===g?void 0:g.category_name)&&void 0!==h?h:"",", ",ie("rs_only")," ",null!==(j=null===Q||void 0===Q||null===(Z=Q.student)||void 0===Z||null===(I=Z.fee_structure)||void 0===I?void 0:I.applicable_fees)&&void 0!==j?j:""]}),(0,b.jsxs)("p",{children:[ie("form_no_only"),": ",null!==(S=null===Q||void 0===Q||null===(y=Q.student)||void 0===y?void 0:y.form_no)&&void 0!==S?S:""]}),(0,b.jsx)("p",{children:null!==Q&&void 0!==Q&&Q.install_type?null===Q||void 0===Q?void 0:Q.install_type:"\n          ".concat(ie("select_on"),":\n          ").concat(U()(null===Q||void 0===Q?void 0:Q.select_on).format("DD MMM YYYY"))})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/gender.svg"),alt:"email icon"}),(0,b.jsx)("p",{children:null===Q||void 0===Q||null===(C=Q.student)||void 0===C?void 0:C.studentGender})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{children:null!==Q&&void 0!==Q&&null!==(A=Q.student)&&void 0!==A&&null!==(k=A.user)&&void 0!==k&&k.userPhoneNumber?null===Q||void 0===Q||null===(P=Q.student)||void 0===P||null===(w=P.user)||void 0===w?void 0:w.userPhoneNumber:null!==Q&&void 0!==Q&&null!==(D=Q.student)&&void 0!==D&&null!==(T=D.user)&&void 0!==T&&T.userEmail?null===Q||void 0===Q||null===(M=Q.student)||void 0===M||null===(O=M.user)||void 0===O?void 0:O.userEmail:null!==Q&&void 0!==Q&&null!==(E=Q.student)&&void 0!==E&&E.studentPhoneNumber?null===Q||void 0===Q||null===(R=Q.student)||void 0===R?void 0:R.studentPhoneNumber:null!==Q&&void 0!==Q&&null!==(L=Q.student)&&void 0!==L&&L.studentParentsPhoneNumber?null===Q||void 0===Q||null===(G=Q.student)||void 0===G?void 0:G.studentParentsPhoneNumber:null!==(Y=null===Q||void 0===Q||null===(J=Q.student)||void 0===J?void 0:J.studentEmail)&&void 0!==Y?Y:""})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_stuff,style:{width:"24%"},children:[(0,b.jsx)("a",{href:"".concat(F.q2,"/").concat(null===Q||void 0===Q||null===(B=Q.student)||void 0===B||null===(H=B.application_print)||void 0===H||null===($=H[0])||void 0===$?void 0:$.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,b.jsx)("img",{src:"".concat(u.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),(0,b.jsx)("img",{src:"".concat(u.J7,"/edit.svg"),alt:"edit icon",onClick:e=>{e.stopPropagation(),ce(1)}}),(0,b.jsx)("img",{src:"".concat(u.U_,"/undo.svg"),alt:"undo icon",style:{width:"30px",height:"30px"},onClick:e=>{var n,l;(e.stopPropagation(),null!==Q&&void 0!==Q&&null!==(n=Q.student)&&void 0!==n&&n._id&&le&&null!==Q&&void 0!==Q&&Q.revert_request_status)&&(ue((e=>!e)),pe({sid:null===Q||void 0===Q||null===(l=Q.student)||void 0===l?void 0:l._id,appId:le,revert:{statusId:null===Q||void 0===Q?void 0:Q.revert_request_status}}).then((()=>{te(),ue((e=>!e))})).catch((()=>{ue((e=>!e))})))},title:"Undo Application"}),(0,b.jsx)(z.Z,{label:"collect_docs",onAction:e=>{e.stopPropagation(),ce(2)},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}})]})]}),1===ae?(0,b.jsx)(q.Z,{onClose:_e,onSelectedStrucutre:e=>{var n,l;null!==Q&&void 0!==Q&&null!==(n=Q.student)&&void 0!==n&&n._id&&le&&null!==e&&void 0!==e&&e._id&&(ue((e=>!e)),ve({sid:null===Q||void 0===Q||null===(l=Q.student)||void 0===l?void 0:l._id,appId:le,applicant:{fee_struct:null===e||void 0===e?void 0:e._id}}).then((()=>{te(),_e(),ue((e=>!e))})).catch((()=>{ue((e=>!e))})))},did:X,bid:ee,cmid:ne,selectedStructure:null===Q||void 0===Q||null===(K=Q.student)||void 0===K||null===(V=K.fee_structure)||void 0===V?void 0:V._id}):2===ae?(0,b.jsx)(he.Z,{onClose:_e,onRefetch:te,applicant:Q,appId:le}):null,re&&(0,b.jsx)(N.Z,{})]})},xe=e=>{var n,l,t,u,v,m;let{applicationDetail:h,instituteId:_,aid:x}=e;const{t:g}=(0,s.$G)(),j=(0,i.TH)(),[f,Z]=(0,d.useState)(""),[I,S]=(0,d.useState)(1),[y,C]=(0,d.useState)(!0),[P,w]=(0,a.YD)({skip:f}),{admissionOngoingApplicationDocument:D,admissionOngoingApplicationDocumentLoading:M,admissionOngoingApplicationDocumentRefetch:O}=(0,o.Zx)({data:{appId:null===(n=j.state)||void 0===n?void 0:n.appId,page:I,limit:10,search:f},skip:!(null!==(l=j.state)&&void 0!==l&&l.appId)});(0,d.useEffect)((()=>{w&&y&&S((e=>e+1))}),[w,y]),(0,d.useEffect)((()=>{var e;if(null!==D&&void 0!==D&&null!==(e=D.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===D||void 0===D||null===(n=D.list)||void 0===n?void 0:n.length);C((()=>e))}}),[null===D||void 0===D||null===(t=D.list)||void 0===t?void 0:t.length]);const F=(0,d.useCallback)((0,r.J)((e=>{S((()=>1)),Z(e)}),1500),[]),R=(0,d.useCallback)((()=>{S((()=>1)),O()}),[]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(E.Z,{children:[(0,b.jsx)(T,{applicationDetail:h,instituteId:_}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,b.jsx)(Q,{applicationDetail:h,instituteId:_,isExportAccess:"Docs_Query",aid:x,children:(0,b.jsx)("input",{type:"text",placeholder:g("search_applicants"),onChange:e=>{e.target.value?F(e.target.value):(S((()=>1)),Z(""))}})}),null===D||void 0===D||null===(u=D.list)||void 0===u?void 0:u.map(((e,n)=>{var l,t,i,o,d,s,a,c,r;return(null===D||void 0===D||null===(l=D.list)||void 0===l?void 0:l.length)===n+1?(0,b.jsx)("div",{ref:P,children:(0,b.jsx)(_e,{applicant:e,instituteId:_,did:null===h||void 0===h||null===(t=h.applicationDepartment)||void 0===t?void 0:t._id,bid:null===h||void 0===h||null===(i=h.applicationBatch)||void 0===i?void 0:i._id,cmid:null===h||void 0===h||null===(o=h.applicationMaster)||void 0===o?void 0:o._id,onRefetch:R,appId:null===(d=j.state)||void 0===d?void 0:d.appId})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(_e,{applicant:e,instituteId:_,did:null===h||void 0===h||null===(s=h.applicationDepartment)||void 0===s?void 0:s._id,bid:null===h||void 0===h||null===(a=h.applicationBatch)||void 0===a?void 0:a._id,cmid:null===h||void 0===h||null===(c=h.applicationMaster)||void 0===c?void 0:c._id,onRefetch:R,appId:null===(r=j.state)||void 0===r?void 0:r.appId},null===e||void 0===e?void 0:e._id)})),M?f?(0,b.jsx)(N.Z,{}):(0,b.jsx)(A.Z,{}):f?0===(null===D||void 0===D||null===(v=D.list)||void 0===v?void 0:v.length)&&(0,b.jsx)(k.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===D||void 0===D||null===(m=D.list)||void 0===m?void 0:m.length)&&(0,b.jsx)(k.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]})})};var ge=l(55917);const je=e=>{var n,l,t,a,c,r,v,p,m,h,_,x,g,j,Z,I,S,y,C,A,k,P,w,D,T,M,O,E,R,L,q,G,Y,J,B;let{instituteId:H,applicant:$,appId:K,onRefetch:V,financeId:W}=e;const{t:Q}=(0,s.$G)(),X=(0,i.UO)(),ee=(0,i.s0)(),ne=(0,i.TH)(),[le,te]=(0,d.useState)(0),[ie,oe]=(0,d.useState)(!1),[de]=(0,o.ZN)(),se=(0,d.useCallback)((()=>{var e,n;ee("/q/".concat(X.username,"/member/student/admission/profile"),{state:{sid:null===$||void 0===$||null===(e=$.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:H,collectAccess:"ADMISSION_ADMIN",editInstallmentControl:"authorized",whichUrl:"Institute"===(null===(n=ne.state)||void 0===n?void 0:n.urlOffSet)?"INSTITUTE":null}})}),[H,null===$||void 0===$||null===(n=$.student)||void 0===n?void 0:n._id]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:f.Z.oac_container,onClick:se,title:"View Profile",children:[(0,b.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==$&&void 0!==$&&null!==(l=$.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(F.yI,"/").concat(null===$||void 0===$||null===(t=$.student)||void 0===t?void 0:t.studentProfilePhoto):"".concat(u.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,b.jsx)("h6",{children:"".concat(null!==(a=null===$||void 0===$||null===(c=$.student)||void 0===c?void 0:c.studentFirstName)&&void 0!==a?a:""," ").concat(null!==$&&void 0!==$&&null!==(r=$.student)&&void 0!==r&&r.studentMiddleName?null===$||void 0===$||null===(v=$.student)||void 0===v?void 0:v.studentMiddleName:""," ").concat(null!==(p=null===$||void 0===$||null===(m=$.student)||void 0===m?void 0:m.studentLastName)&&void 0!==p?p:"")}),(0,b.jsxs)("h6",{children:[Q("fee_structure")," : ",null!==(h=null===$||void 0===$||null===(_=$.fee_struct)||void 0===_||null===(x=_.unique_structure_name)||void 0===x||null===(g=x.split(" - "))||void 0===g?void 0:g[0])&&void 0!==h?h:"",", ",Q("rs_only")," ",null!==(j=null===$||void 0===$||null===(Z=$.fee_struct)||void 0===Z?void 0:Z.applicable_fees)&&void 0!==j?j:""]}),(0,b.jsxs)("p",{children:[Q("form_no_only"),": ",null!==(I=null===$||void 0===$||null===(S=$.student)||void 0===S?void 0:S.form_no)&&void 0!==I?I:""]}),(0,b.jsxs)("p",{children:[Q("select_on"),":",U()(null===$||void 0===$?void 0:$.select_on).format("DD MMM YYYY")]})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/gender.svg"),alt:"email icon"}),(0,b.jsx)("p",{children:null===$||void 0===$||null===(y=$.student)||void 0===y?void 0:y.studentGender})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{children:null!==$&&void 0!==$&&null!==(C=$.student)&&void 0!==C&&null!==(A=C.user)&&void 0!==A&&A.userPhoneNumber?null===$||void 0===$||null===(k=$.student)||void 0===k||null===(P=k.user)||void 0===P?void 0:P.userPhoneNumber:null!==$&&void 0!==$&&null!==(w=$.student)&&void 0!==w&&null!==(D=w.user)&&void 0!==D&&D.userEmail?null===$||void 0===$||null===(T=$.student)||void 0===T||null===(M=T.user)||void 0===M?void 0:M.userEmail:null!==$&&void 0!==$&&null!==(O=$.student)&&void 0!==O&&O.studentPhoneNumber?null===$||void 0===$||null===(E=$.student)||void 0===E?void 0:E.studentPhoneNumber:null!==$&&void 0!==$&&null!==(R=$.student)&&void 0!==R&&R.studentParentsPhoneNumber?null===$||void 0===$||null===(L=$.student)||void 0===L?void 0:L.studentParentsPhoneNumber:null!==(q=null===$||void 0===$||null===(G=$.student)||void 0===G?void 0:G.studentEmail)&&void 0!==q?q:""})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_stuff,children:[(0,b.jsx)("a",{href:"".concat(F.q2,"/").concat(null===$||void 0===$||null===(Y=$.student)||void 0===Y||null===(J=Y.application_print)||void 0===J||null===(B=J[0])||void 0===B?void 0:B.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,b.jsx)("img",{src:"".concat(u.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),(0,b.jsx)("img",{src:"".concat(u.U_,"/undo.svg"),alt:"undo icon",style:{width:"30px",height:"30px"},onClick:e=>{var n,l,t,i;(e.stopPropagation(),null!==$&&void 0!==$&&null!==(n=$.student)&&void 0!==n&&n._id&&K&&null!==$&&void 0!==$&&$.status_id&&null!==$&&void 0!==$&&$.revert_request_status&&null!==$&&void 0!==$&&$._id&&null!==$&&void 0!==$&&null!==(l=$.payment_flow)&&void 0!==l&&l._id)&&(oe((e=>!e)),de({sid:null===$||void 0===$||null===(t=$.student)||void 0===t?void 0:t._id,appId:K,revert:{statusId:null===$||void 0===$?void 0:$.status_id,fcid:null===$||void 0===$?void 0:$._id,rid:null===$||void 0===$||null===(i=$.payment_flow)||void 0===i?void 0:i._id,revert_status:null===$||void 0===$?void 0:$.revert_request_status}}).then((()=>{V(),oe((e=>!e))})).catch((()=>{oe((e=>!e))})))},title:"Undo Application"}),(0,b.jsx)(z.Z,{label:"collect_fees",onAction:e=>{e.stopPropagation(),te(1)},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}})]})]}),1===le?(0,b.jsx)(ge.Z,{onClose:()=>{te("")},onRefetch:V,applicant:$,appId:K,financeId:W}):null,ie&&(0,b.jsx)(N.Z,{})]})},fe=e=>{var n,l,t,u,v,m;let{applicationDetail:h,instituteId:_,aid:x,financeId:g}=e;const{t:j}=(0,s.$G)(),f=(0,i.TH)(),[Z,I]=(0,d.useState)(""),[S,y]=(0,d.useState)(1),[C,P]=(0,d.useState)(!0),[w,D]=(0,a.YD)({skip:Z}),{admissionOngoingApplicationFees:M,admissionOngoingApplicationFeesLoading:O,admissionOngoingApplicationFeesRefetch:F}=(0,o.TM)({data:{appId:null===(n=f.state)||void 0===n?void 0:n.appId,page:S,limit:10,search:Z},skip:!(null!==(l=f.state)&&void 0!==l&&l.appId)});(0,d.useEffect)((()=>{D&&C&&y((e=>e+1))}),[D,C]),(0,d.useEffect)((()=>{var e;if(null!==M&&void 0!==M&&null!==(e=M.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===M||void 0===M||null===(n=M.list)||void 0===n?void 0:n.length);P((()=>e))}}),[null===M||void 0===M||null===(t=M.list)||void 0===t?void 0:t.length]);const R=(0,d.useCallback)((0,r.J)((e=>{y((()=>1)),I(e)}),1500),[]),U=(0,d.useCallback)((()=>{y((()=>1)),F()}),[]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(E.Z,{children:[(0,b.jsx)(T,{applicationDetail:h,instituteId:_}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,b.jsx)(Q,{applicationDetail:h,instituteId:_,isExportAccess:"Fees_Query",aid:x,children:(0,b.jsx)("input",{type:"text",placeholder:j("search_applicants"),onChange:e=>{e.target.value?R(e.target.value):(y((()=>1)),I(""))}})}),null===M||void 0===M||null===(u=M.list)||void 0===u?void 0:u.map(((e,n)=>{var l,t,i;return(null===M||void 0===M||null===(l=M.list)||void 0===l?void 0:l.length)===n+1?(0,b.jsx)("div",{ref:w,children:(0,b.jsx)(je,{applicant:e,instituteId:_,onRefetch:U,appId:null===(t=f.state)||void 0===t?void 0:t.appId,financeId:g})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(je,{applicant:e,instituteId:_,onRefetch:U,appId:null===(i=f.state)||void 0===i?void 0:i.appId,financeId:g},null===e||void 0===e?void 0:e._id)})),O?Z?(0,b.jsx)(N.Z,{}):(0,b.jsx)(A.Z,{}):Z?0===(null===M||void 0===M||null===(v=M.list)||void 0===v?void 0:v.length)&&(0,b.jsx)(k.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===M||void 0===M||null===(m=M.list)||void 0===m?void 0:m.length)&&(0,b.jsx)(k.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]})})},Ze=e=>{var n,l,t,i,o,d,a,c,r,v,p,m,h,_,x,g,j,Z,N,I,S,y,C,A,k,P;let{applicant:w,onSelect:D,applicantId:T}=e;const{t:M}=(0,s.$G)();return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:f.Z.oac_container,onClick:()=>{var e;return D(null===w||void 0===w||null===(e=w.student)||void 0===e?void 0:e._id,null===w||void 0===w?void 0:w._id)},style:{justifyContent:"flex-start"},children:[(0,b.jsx)("img",{className:f.Z.department_checkbox,src:null!==T&&void 0!==T&&T.includes(null===w||void 0===w||null===(n=w.student)||void 0===n?void 0:n._id)?"".concat(u.U_,"/check.svg"):"".concat(u.U_,"/uncheck.svg"),alt:"check icon"}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==w&&void 0!==w&&null!==(l=w.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(F.yI,"/").concat(null===w||void 0===w||null===(t=w.student)||void 0===t?void 0:t.studentProfilePhoto):"".concat(u.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,b.jsx)("h6",{children:"".concat(null!==(i=null===w||void 0===w||null===(o=w.student)||void 0===o?void 0:o.studentFirstName)&&void 0!==i?i:""," ").concat(null!==w&&void 0!==w&&null!==(d=w.student)&&void 0!==d&&d.studentMiddleName?null===w||void 0===w||null===(a=w.student)||void 0===a?void 0:a.studentMiddleName:""," ").concat(null!==(c=null===w||void 0===w||null===(r=w.student)||void 0===r?void 0:r.studentLastName)&&void 0!==c?c:"")}),(0,b.jsxs)("p",{children:[M("form_no_only"),": ",null!==(v=null===w||void 0===w||null===(p=w.student)||void 0===p?void 0:p.form_no)&&void 0!==v?v:""]}),(0,b.jsxs)("p",{children:[M("confirmed_on"),":"," ",U()(null===w||void 0===w?void 0:w.apply_on).format("DD MMM YYYY")]})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/gender.svg"),alt:"email icon"}),(0,b.jsx)("p",{children:null===w||void 0===w||null===(m=w.student)||void 0===m?void 0:m.studentGender})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{children:null!==w&&void 0!==w&&null!==(h=w.student)&&void 0!==h&&null!==(_=h.user)&&void 0!==_&&_.userPhoneNumber?null===w||void 0===w||null===(x=w.student)||void 0===x||null===(g=x.user)||void 0===g?void 0:g.userPhoneNumber:null!==w&&void 0!==w&&null!==(j=w.student)&&void 0!==j&&null!==(Z=j.user)&&void 0!==Z&&Z.userEmail?null===w||void 0===w||null===(N=w.student)||void 0===N||null===(I=N.user)||void 0===I?void 0:I.userEmail:null!==w&&void 0!==w&&null!==(S=w.student)&&void 0!==S&&S.studentPhoneNumber?null===w||void 0===w||null===(y=w.student)||void 0===y?void 0:y.studentPhoneNumber:null!==w&&void 0!==w&&null!==(C=w.student)&&void 0!==C&&C.studentParentsPhoneNumber?null===w||void 0===w||null===(A=w.student)||void 0===A?void 0:A.studentParentsPhoneNumber:null!==(k=null===w||void 0===w||null===(P=w.student)||void 0===P?void 0:P.studentEmail)&&void 0!==k?k:""})]})]})]})})},Ne=e=>{var n,l,t,a;let{applicationDetail:c,instituteId:r}=e;const{t:m}=(0,s.$G)(),h=(0,i.TH)(),_=(0,i.s0)(),[x,g]=(0,d.useState)(""),[j,f]=(0,d.useState)([]),[Z,I]=(0,d.useState)([]),[S,y]=(0,d.useState)(!1),[C,P]=(0,d.useState)([]),[w,D]=(0,d.useState)(!1),[M]=(0,o.Kv)(),{admissionOngoingApplicationAllConfirmList:O,admissionOngoingApplicationAllConfirmListLoading:F,admissionOngoingApplicationAllConfirmListRefetch:R}=(0,o.m2)({data:{appId:null===(n=h.state)||void 0===n?void 0:n.appId},skip:!(null!==(l=h.state)&&void 0!==l&&l.appId)});(0,d.useEffect)((()=>{null!==O&&void 0!==O&&O.length&&P(O)}),[null===O||void 0===O?void 0:O.length]);const U=()=>{_(-1)},q=(e,n)=>{null!==j&&void 0!==j&&j.includes(e)?(f((n=>null===n||void 0===n?void 0:n.filter((n=>n!==e)))),I((n=>null===n||void 0===n?void 0:n.filter((n=>(null===n||void 0===n?void 0:n.sid)!==e))))):(f((n=>[...n,e])),I((l=>[...l,{sid:e,cid:n}])))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(E.Z,{children:[(0,b.jsx)(T,{applicationDetail:c,instituteId:r}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,b.jsxs)(L.Z,{customStyle:{justifyContent:"space-between",marginBottom:"0.7rem"},children:[(0,b.jsx)("section",{className:v.Z.fm_search_container,children:(0,b.jsxs)("div",{className:v.Z.fm_search_container_inner,style:{minWidth:"500px"},children:[(0,b.jsx)("img",{className:v.Z.fm_search_icon,alt:"search icon",src:"".concat(u.dB,"/navbar-search.svg")}),(0,b.jsx)("input",{type:"text",placeholder:m("search_applicants"),onChange:e=>{if(e.target.value){let n=be(O,e.target.value);P(n)}else g(""),P(O)},style:{minWidth:"500px"}})]})}),(0,b.jsxs)("div",{className:v.Z.fm_flex,children:[!Ie[null===(t=h.state)||void 0===t?void 0:t.isAuthorization]&&(0,b.jsx)(z.Z,{label:w?"remove_all":"select_all",count:null===j||void 0===j?void 0:j.length,onAction:w?()=>{f([]),I([]),D(!1)}:()=>{let e=[],n=[];for(let i of O){var l,t;e.push(null===i||void 0===i||null===(l=i.student)||void 0===l?void 0:l._id),n.push({sid:null===i||void 0===i||null===(t=i.student)||void 0===t?void 0:t._id,cid:null===i||void 0===i?void 0:i._id})}f(e),I(n),D(!0)},customStyle:{padding:"0.5rem 1rem",fontSize:"13px"}}),!Ie[null===(a=h.state)||void 0===a?void 0:a.isAuthorization]&&(0,b.jsx)(z.Z,{label:"review",onAction:()=>{var e,n;(null===j||void 0===j?void 0:j.length)>0&&null!==(e=h.state)&&void 0!==e&&e.appId&&(y((e=>!e)),M({appId:null===(n=h.state)||void 0===n?void 0:n.appId,review:{student_arr:Z}}).then((()=>{R(),y((e=>!e)),f([]),I([]),D(!1),U()})).catch({}))},customStyle:{padding:"0.5rem 1rem",fontSize:"13px",opacity:(null===j||void 0===j?void 0:j.length)>0?"1":"0.5"}}),(0,b.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:U})]})]}),null===C||void 0===C?void 0:C.map((e=>(0,b.jsx)(Ze,{applicant:e,applicantId:j,onSelect:q},null===e||void 0===e?void 0:e._id))),F?x?(0,b.jsx)(N.Z,{}):(0,b.jsx)(A.Z,{}):x?0===(null===C||void 0===C?void 0:C.length)&&(0,b.jsx)(k.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===C||void 0===C?void 0:C.length)&&(0,b.jsx)(k.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]}),S&&(0,b.jsx)(N.Z,{})]})},Ie={isCompleted:!0},be=(e,n)=>null===e||void 0===e?void 0:e.filter((e=>{var l,t,i,o;let d="".concat(null===e||void 0===e||null===(l=e.student)||void 0===l?void 0:l.studentFirstName," ").concat(null===e||void 0===e||null===(t=e.student)||void 0===t?void 0:t.studentMiddleName," ").concat(null===e||void 0===e||null===(i=e.student)||void 0===i?void 0:i.studentLastName);return null!==d&&void 0!==d&&null!==(o=d.toLowerCase())&&void 0!==o&&o.includes(null===n||void 0===n?void 0:n.toLowerCase())?e:null})),Se=e=>{var n,l,t,a,c,r,v,p,m,h,_,x,g,j,Z,I,S,y,C,A,k,P,w,D,T,M,O,E,R,q,G,Y;let{instituteId:J,applicant:B,appId:H,onRefetch:$,isMultiple:K,onSelect:V,applicantId:W}=e;const{t:Q}=(0,s.$G)(),X=(0,i.UO)(),ee=(0,i.TH)(),ne=(0,i.s0)(),[le,te]=(0,d.useState)(!1),[oe]=(0,o.Kv)(),de=(0,d.useCallback)((()=>{var e,n;ne("/q/".concat(X.username,"/student/profile"),{state:{sid:null===B||void 0===B||null===(e=B.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:J,collectAccess:"ADMISSION_ADMIN",editInstallmentControl:"authorized",govtAccess:"Other",cancelAccess:!1,editStructureControl:"authorized",editGovtNumberContorl:"authorized",editGovtInstallmentControl:"authorized",isSearchEnable:"notauthorized",whichUrl:"Institute"===(null===(n=ee.state)||void 0===n?void 0:n.urlOffSet)?"INSTITUTE":null}})}),[J,null===B||void 0===B||null===(n=B.student)||void 0===n?void 0:n._id]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:f.Z.oac_container,onClick:de,title:"View Profile",children:[K?(0,b.jsx)("img",{className:f.Z.department_checkbox,src:null!==W&&void 0!==W&&W.includes(null===B||void 0===B||null===(l=B.student)||void 0===l?void 0:l._id)?"".concat(u.U_,"/check.svg"):"".concat(u.U_,"/uncheck.svg"),alt:"check icon",onClick:e=>{var n;return V(e,null===B||void 0===B||null===(n=B.student)||void 0===n?void 0:n._id,null===B||void 0===B?void 0:B._id)}}):null,(0,b.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==B&&void 0!==B&&null!==(t=B.student)&&void 0!==t&&t.studentProfilePhoto?"".concat(F.yI,"/").concat(null===B||void 0===B||null===(a=B.student)||void 0===a?void 0:a.studentProfilePhoto):"".concat(u.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,b.jsx)("h6",{children:"".concat(null!==(c=null===B||void 0===B||null===(r=B.student)||void 0===r?void 0:r.studentFirstName)&&void 0!==c?c:""," ").concat(null!==B&&void 0!==B&&null!==(v=B.student)&&void 0!==v&&v.studentMiddleName?null===B||void 0===B||null===(p=B.student)||void 0===p?void 0:p.studentMiddleName:""," ").concat(null!==(m=null===B||void 0===B||null===(h=B.student)||void 0===h?void 0:h.studentLastName)&&void 0!==m?m:"")}),(0,b.jsxs)("p",{children:[Q("form_no_only"),": ",null!==(_=null===B||void 0===B||null===(x=B.student)||void 0===x?void 0:x.form_no)&&void 0!==_?_:""]}),(0,b.jsxs)("p",{children:[Q("confirmed_on"),":"," ",U()(null===B||void 0===B?void 0:B.apply_on).format("DD MMM YYYY")]})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/gender.svg"),alt:"email icon"}),(0,b.jsx)("p",{children:null===B||void 0===B||null===(g=B.student)||void 0===g?void 0:g.studentGender})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{children:null!==B&&void 0!==B&&null!==(j=B.student)&&void 0!==j&&null!==(Z=j.user)&&void 0!==Z&&Z.userPhoneNumber?null===B||void 0===B||null===(I=B.student)||void 0===I||null===(S=I.user)||void 0===S?void 0:S.userPhoneNumber:null!==B&&void 0!==B&&null!==(y=B.student)&&void 0!==y&&null!==(C=y.user)&&void 0!==C&&C.userEmail?null===B||void 0===B||null===(A=B.student)||void 0===A||null===(k=A.user)||void 0===k?void 0:k.userEmail:null!==B&&void 0!==B&&null!==(P=B.student)&&void 0!==P&&P.studentPhoneNumber?null===B||void 0===B||null===(w=B.student)||void 0===w?void 0:w.studentPhoneNumber:null!==B&&void 0!==B&&null!==(D=B.student)&&void 0!==D&&D.studentParentsPhoneNumber?null===B||void 0===B||null===(T=B.student)||void 0===T?void 0:T.studentParentsPhoneNumber:null!==(M=null===B||void 0===B||null===(O=B.student)||void 0===O?void 0:O.studentEmail)&&void 0!==M?M:""})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_stuff,children:[(0,b.jsx)("a",{href:"".concat(F.q2,"/").concat(null===B||void 0===B||null===(E=B.student)||void 0===E||null===(R=E.application_print)||void 0===R||null===(q=R[0])||void 0===q?void 0:q.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,b.jsx)("img",{src:"".concat(u.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),null===B||void 0===B||null===(G=B.student)||void 0===G||null===(Y=G.fee_receipt)||void 0===Y?void 0:Y.map(((e,n)=>n>2?"":(0,b.jsx)(ie.Z,{rid:null===e||void 0===e?void 0:e._id,receiptFile:null===e||void 0===e?void 0:e.receipt_file},null===e||void 0===e?void 0:e._id))),K?null:(0,b.jsx)(L.Z,{children:(0,b.jsx)(z.Z,{label:"review",onAction:e=>{var n,l;(e.stopPropagation(),null!==B&&void 0!==B&&null!==(n=B.student)&&void 0!==n&&n._id&&H)&&(te((e=>!e)),oe({appId:H,review:{student_arr:[{sid:null===B||void 0===B||null===(l=B.student)||void 0===l?void 0:l._id,cid:null===B||void 0===B?void 0:B._id}]}}).then((()=>{$(),te((e=>!e))})).catch({}))},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}})})]})]}),le&&(0,b.jsx)(N.Z,{})]})},ye=e=>{var n,l,t,u,v,m,h;let{applicationDetail:_,instituteId:x}=e;const{t:g}=(0,s.$G)(),j=(0,i.TH)(),f=(0,i.s0)(),Z=(0,i.UO)(),[I,S]=(0,d.useState)(""),[y,C]=(0,d.useState)(1),[P,w]=(0,d.useState)(!0),[D,M]=(0,a.YD)({skip:I}),{admissionOngoingApplicationConfirm:O,admissionOngoingApplicationConfirmLoading:F,admissionOngoingApplicationConfirmRefetch:R}=(0,o.Hi)({data:{appId:null===(n=j.state)||void 0===n?void 0:n.appId,page:y,limit:10,search:I},skip:!(null!==(l=j.state)&&void 0!==l&&l.appId)});(0,d.useEffect)((()=>{M&&P&&C((e=>e+1))}),[M,P]),(0,d.useEffect)((()=>{var e;if(null!==O&&void 0!==O&&null!==(e=O.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===O||void 0===O||null===(n=O.list)||void 0===n?void 0:n.length);w((()=>e))}}),[null===O||void 0===O||null===(t=O.list)||void 0===t?void 0:t.length]);const U=(0,d.useCallback)((0,r.J)((e=>{C((()=>1)),S(e)}),1500),[]),L=(0,d.useCallback)((()=>{C((()=>1)),R()}),[R]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(E.Z,{children:[(0,b.jsx)(T,{applicationDetail:_,instituteId:x}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,b.jsx)(Q,{applicationDetail:_,instituteId:x,onMultipleSelect:()=>{var e;let n="Institute"===(null===(e=j.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(Z.username,"/institute/member/admission?type=ongoing-detail&n=confirmed-multi"):"/q/".concat(Z.username,"/member/staff/admission?type=ongoing-detail&n=confirmed-multi");f(n,{state:j.state})},isExportAccess:"Confirm",isFull:"isCompleted"===(null===(u=j.state)||void 0===u?void 0:u.isAuthorization),children:(0,b.jsx)("input",{type:"text",placeholder:g("search_applicants"),onChange:e=>{e.target.value?U(e.target.value):(C((()=>1)),S(""))}})}),null===O||void 0===O||null===(v=O.list)||void 0===v?void 0:v.map(((e,n)=>{var l,t,i;return(null===O||void 0===O||null===(l=O.list)||void 0===l?void 0:l.length)===n+1?(0,b.jsx)("div",{ref:D,children:(0,b.jsx)(Se,{applicant:e,instituteId:x,onRefetch:L,appId:null===(t=j.state)||void 0===t?void 0:t.appId})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(Se,{applicant:e,instituteId:x,onRefetch:L,appId:null===(i=j.state)||void 0===i?void 0:i.appId},null===e||void 0===e?void 0:e._id)})),F?I?(0,b.jsx)(N.Z,{}):(0,b.jsx)(A.Z,{}):I?0===(null===O||void 0===O||null===(m=O.list)||void 0===m?void 0:m.length)&&(0,b.jsx)(k.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===O||void 0===O||null===(h=O.list)||void 0===h?void 0:h.length)&&(0,b.jsx)(k.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]})})};var Ce=l(26192);const Ae=e=>{let{batch:n,onSelect:l,selectedBatch:t}=e;return(0,b.jsxs)("div",{className:t===(null===n||void 0===n?void 0:n._id)?"".concat(Ce.Z.admission_confirm_class_card," ").concat(Ce.Z.admission_confirm_class_card_active):Ce.Z.admission_confirm_class_card,onClick:()=>{l(n)},children:[(0,b.jsx)("img",{src:"".concat(u.J7,"/class.svg"),alt:"batch Avatar"}),(0,b.jsx)("div",{className:Ce.Z.admission_collect_docs,style:{marginTop:"0"},children:(0,b.jsx)("h6",{children:null===n||void 0===n?void 0:n.batchName})})]})},ke=e=>{let{onClose:n,appId:l,onSelect:t,selectedBatch:i}=e;const{t:a}=(0,s.$G)(),[c,r]=(0,d.useState)(""),[v,h]=(0,d.useState)([]),{admissionOngoingApplicationReviewBatch:_,admissionOngoingApplicationReviewBatchLoading:g}=(0,o.Hk)({appId:l,skip:!l});(0,d.useEffect)((()=>{(null===_||void 0===_?void 0:_.length)>0&&h(_)}),[_]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(x.Z,{onClose:n,children:(0,b.jsxs)("div",{className:P.Z.modal_container,children:[(0,b.jsx)(p.Z,{children:(0,b.jsxs)("div",{className:P.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:P.Z.modal_container_header,children:(0,b.jsx)("h6",{children:a("select_batch")})}),(0,b.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,b.jsx)(m.Z,{}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0.3rem"},children:[(0,b.jsxs)("div",{className:P.Z.assign_search_container,children:[(0,b.jsx)("input",{type:"text",placeholder:a("search"),className:P.Z.assign_search_input,onChange:e=>{if(e.target.value){r(e.target.value);let n=Pe(_,e.target.value);h(n)}else r(""),h(_)},style:{width:"100%"}}),(0,b.jsx)("img",{src:"".concat(u.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===v||void 0===v?void 0:v.map((e=>(0,b.jsx)(Ae,{batch:e,onSelect:t,selectedBatch:i}))),g?c?(0,b.jsx)(N.Z,{}):(0,b.jsx)(A.Z,{}):c?0===!(null!==v&&void 0!==v&&v.length)&&(0,b.jsx)(k.Z,{title:"No batch found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===!(null!==_&&void 0!==_&&_.length)&&(0,b.jsx)(k.Z,{title:"No batch.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})})},Pe=(e,n)=>null===e||void 0===e?void 0:e.filter((e=>{var l,t;return null!==e&&void 0!==e&&null!==(l=e.batchName)&&void 0!==l&&null!==(t=l.toLowerCase())&&void 0!==t&&t.includes(null===n||void 0===n?void 0:n.toLowerCase())?e:null}));var we=l(77357);const De=e=>{var n,l,t,i;let{onClose:v,appId:h,bid:_,onSelect:g,selectedId:j}=e;const{t:f}=(0,s.$G)(),[Z,I]=(0,d.useState)(""),[S,y]=(0,d.useState)(1),[C,w]=(0,d.useState)(!0),[D,T]=(0,a.YD)({skip:Z}),{admissionOngoingApplicationReviewClasses:M,admissionOngoingApplicationReviewClassesLoading:O}=(0,o.AY)({data:{page:S,limit:10,search:Z,appId:h,bid:_},skip:h?!_:!h});(0,d.useEffect)((()=>{T&&C&&y((e=>e+1))}),[T,C]),(0,d.useEffect)((()=>{var e;if(null!==M&&void 0!==M&&null!==(e=M.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===M||void 0===M||null===(n=M.list)||void 0===n?void 0:n.length);w((()=>e))}}),[null===M||void 0===M||null===(n=M.list)||void 0===n?void 0:n.length]);const E=(0,d.useCallback)((0,r.J)((e=>{y((()=>1)),I(e)}),1500),[]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(x.Z,{onClose:v,children:(0,b.jsxs)("div",{className:P.Z.modal_container,children:[(0,b.jsx)(p.Z,{children:(0,b.jsxs)("div",{className:P.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:P.Z.modal_container_header,children:(0,b.jsx)("h6",{children:f("allot_class")})}),(0,b.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:v})]})}),(0,b.jsx)(m.Z,{}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0.3rem"},children:[(0,b.jsxs)("div",{className:P.Z.assign_search_container,children:[(0,b.jsx)("input",{type:"text",placeholder:f("search"),className:P.Z.assign_search_input,onChange:e=>{e.target.value?E(e.target.value):(y((()=>1)),I(""))},style:{width:"100%"}}),(0,b.jsx)("img",{src:"".concat(u.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===M||void 0===M||null===(l=M.list)||void 0===l?void 0:l.map(((e,n)=>{var l;return(null===M||void 0===M||null===(l=M.list)||void 0===l?void 0:l.length)===n+1?(0,b.jsx)("div",{ref:D,children:(0,b.jsx)(we.Z,{cls:e,selectedCls:j,onSelect:g})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(we.Z,{cls:e,selectedCls:j,onSelect:g},null===e||void 0===e?void 0:e._id)})),O?Z?(0,b.jsx)(N.Z,{}):(0,b.jsx)(A.Z,{}):Z?0===(null===M||void 0===M||null===(t=M.list)||void 0===t?void 0:t.length)&&(0,b.jsx)(k.Z,{title:"No classes found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===M||void 0===M||null===(i=M.list)||void 0===i?void 0:i.length)&&(0,b.jsx)(k.Z,{title:"No classes.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})})},Te=e=>{var n,l,t,i,a,c,r,v;let{appId:h,onClose:_,onParentClose:g,state:j,applicant:Z,onRefetch:S,isMultiple:y}=e;const{t:C}=(0,s.$G)(),[A,k]=(0,d.useState)(!1),[w]=(0,o.Rq)();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.Z,{onClose:_,children:(0,b.jsxs)("div",{className:P.Z.modal_container,children:[(0,b.jsx)(p.Z,{children:(0,b.jsxs)("div",{className:P.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:P.Z.modal_container_header,children:(0,b.jsx)("h6",{children:C("allot_to_class")})}),(0,b.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:_})]})}),(0,b.jsx)(m.Z,{}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0.3rem"},children:[(0,b.jsxs)("div",{className:f.Z.admission_class_confirm,children:[y?(0,b.jsxs)(b.Fragment,{children:[C("alloting")," ",(0,b.jsx)("span",{style:{fontWeight:"600"},children:null===Z||void 0===Z?void 0:Z.length})," ",C("students")," "," "]}):(0,b.jsxs)(b.Fragment,{children:[C("lloting_student")," ",(0,b.jsx)("span",{style:{fontWeight:"600"},children:" ".concat(null!==(n=null===Z||void 0===Z||null===(l=Z.student)||void 0===l?void 0:l.studentFirstName)&&void 0!==n?n:""," ").concat(null!==Z&&void 0!==Z&&null!==(t=Z.student)&&void 0!==t&&t.studentMiddleName?null===Z||void 0===Z||null===(i=Z.student)||void 0===i?void 0:i.studentMiddleName:""," ").concat(null!==(a=null===Z||void 0===Z||null===(c=Z.student)||void 0===c?void 0:c.studentLastName)&&void 0!==a?a:""," ")})]}),",",C("to")," ",(0,b.jsx)("span",{style:{fontWeight:"600"},children:" ".concat(null===j||void 0===j||null===(r=j.cls)||void 0===r?void 0:r.className," - ").concat(null===j||void 0===j||null===(v=j.cls)||void 0===v?void 0:v.classTitle)})]}),(0,b.jsx)(I.Z,{label:"confirm",onAction:()=>{var e,n,l;h&&null!==j&&void 0!==j&&null!==(e=j.cls)&&void 0!==e&&e._id&&Z&&(k((e=>!e)),w({applicant:{dataList:y?Z:[null===Z||void 0===Z||null===(n=Z.student)||void 0===n?void 0:n._id]},appId:h,cid:null===j||void 0===j||null===(l=j.cls)||void 0===l?void 0:l._id}).then((()=>{S(),g(),k((e=>!e))})).catch({}))}})]})]})}),A&&(0,b.jsx)(N.Z,{})]})},Me=e=>{var n,l;let{appId:t,applicant:i,onClose:o,onRefetch:s,isMultiple:a}=e;const[c,r]=(0,d.useState)(1),[u,v]=(0,d.useState)({batch:"",cls:""});return 1===c?(0,b.jsx)(ke,{appId:t,selectedBatch:null===u||void 0===u||null===(n=u.batch)||void 0===n?void 0:n._id,onClose:o,onSelect:e=>{r(2),v((n=>({...n,batch:e})))}}):2===c?(0,b.jsx)(De,{appId:t,bid:null===(l=u.batch)||void 0===l?void 0:l._id,selectedId:null===u||void 0===u?void 0:u.cls,onClose:()=>r(1),onSelect:e=>{r(3),v((n=>({...n,cls:e})))}}):3===c?(0,b.jsx)(Te,{appId:t,state:u,onClose:()=>r(2),applicant:i,onRefetch:s,isMultiple:a,onParentClose:o}):null},Oe=e=>{var n,l,t,i,o,d,a,c,r;let{applicant:v,onSelect:p,applicantId:m}=e;const{t:h}=(0,s.$G)();return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:f.Z.oac_container,onClick:()=>p(null===v||void 0===v?void 0:v._id),style:{justifyContent:"flex-start"},children:[(0,b.jsx)("img",{className:f.Z.department_checkbox,src:null!==m&&void 0!==m&&m.includes(null===v||void 0===v?void 0:v._id)?"".concat(u.U_,"/check.svg"):"".concat(u.U_,"/uncheck.svg"),alt:"check icon"}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==v&&void 0!==v&&v.studentProfilePhoto?"".concat(F.yI,"/").concat(null===v||void 0===v?void 0:v.studentProfilePhoto):"".concat(u.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,b.jsx)("h6",{children:"".concat(null!==(n=null===v||void 0===v?void 0:v.studentFirstName)&&void 0!==n?n:""," ").concat(null!==v&&void 0!==v&&v.studentMiddleName?null===v||void 0===v?void 0:v.studentMiddleName:""," ").concat(null!==(l=null===v||void 0===v?void 0:v.studentLastName)&&void 0!==l?l:"")}),(0,b.jsxs)("p",{children:[h("form_no_only"),": ",null!==(t=null===v||void 0===v||null===(i=v.student)||void 0===i?void 0:i.form_no)&&void 0!==t?t:""]})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/gender.svg"),alt:"email icon"}),(0,b.jsx)("p",{children:null===v||void 0===v?void 0:v.studentGender})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{children:null!==v&&void 0!==v&&null!==(o=v.user)&&void 0!==o&&o.userPhoneNumber?null===v||void 0===v||null===(d=v.user)||void 0===d?void 0:d.userPhoneNumber:null!==v&&void 0!==v&&null!==(a=v.user)&&void 0!==a&&a.userEmail?null===v||void 0===v||null===(c=v.user)||void 0===c?void 0:c.userEmail:null!==v&&void 0!==v&&v.studentPhoneNumber?null===v||void 0===v?void 0:v.studentPhoneNumber:null!==v&&void 0!==v&&v.studentParentsPhoneNumber?null===v||void 0===v?void 0:v.studentParentsPhoneNumber:null!==(r=null===v||void 0===v?void 0:v.studentEmail)&&void 0!==r?r:""})]})]})]})})},Ee=e=>{var n,l,t,a,c;let{applicationDetail:r,instituteId:m,aid:h}=e;const{t:_}=(0,s.$G)(),x=(0,i.TH)(),g=(0,i.s0)(),[j,f]=(0,d.useState)(""),[Z,I]=(0,d.useState)([]),[S,y]=(0,d.useState)(""),[C,P]=(0,d.useState)([]),[w,D]=(0,d.useState)(!1),{admissionOngoingApplicationAllReviewList:M,admissionOngoingApplicationAllReviewListLoading:O,admissionOngoingApplicationAllReviewListRefetch:F}=(0,o.HU)({data:{appId:null===(n=x.state)||void 0===n?void 0:n.appId},skip:!(null!==(l=x.state)&&void 0!==l&&l.appId)});(0,d.useEffect)((()=>{null!==M&&void 0!==M&&M.length&&P(M)}),[null===M||void 0===M?void 0:M.length]);const R=()=>{g(-1)},U=e=>{null!==Z&&void 0!==Z&&Z.includes(e)?I((n=>null===n||void 0===n?void 0:n.filter((n=>n!==e)))):I((n=>[...n,e]))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(E.Z,{children:[(0,b.jsx)(T,{applicationDetail:r,instituteId:m,isExportAccess:"Confirm_Query",isTransferAccess:"Review",aid:h}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,b.jsxs)(L.Z,{customStyle:{justifyContent:"space-between",marginBottom:"0.7rem"},children:[(0,b.jsx)("section",{className:v.Z.fm_search_container,children:(0,b.jsxs)("div",{className:v.Z.fm_search_container_inner,style:{minWidth:"500px"},children:[(0,b.jsx)("img",{className:v.Z.fm_search_icon,alt:"search icon",src:"".concat(u.dB,"/navbar-search.svg")}),(0,b.jsx)("input",{type:"text",placeholder:_("search_applicants"),onChange:e=>{if(e.target.value){let n=Re(M,e.target.value);P(n)}else f(""),P(M)},style:{minWidth:"500px"}})]})}),(0,b.jsxs)("div",{className:v.Z.fm_flex,children:[!Fe[null===(t=x.state)||void 0===t?void 0:t.isAuthorization]&&(0,b.jsx)(z.Z,{label:w?"remove_all":"select_all",count:null===Z||void 0===Z?void 0:Z.length,onAction:w?()=>{I([]),D(!1)}:()=>{let e=[];for(let n of M)e.push(null===n||void 0===n?void 0:n._id);I(e),D(!0)},customStyle:{padding:"0.5rem 1rem",fontSize:"13px"}}),!Fe[null===(a=x.state)||void 0===a?void 0:a.isAuthorization]&&(0,b.jsx)(z.Z,{label:"allot_class",onAction:()=>{(null===Z||void 0===Z?void 0:Z.length)>0&&y(1)},customStyle:{padding:"0.5rem 1rem",fontSize:"13px",opacity:(null===Z||void 0===Z?void 0:Z.length)>0?"1":"0.5"}}),(0,b.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:R})]})]}),null===C||void 0===C?void 0:C.map((e=>(0,b.jsx)(Oe,{applicant:e,applicantId:Z,onSelect:U},null===e||void 0===e?void 0:e._id))),O?j?(0,b.jsx)(N.Z,{}):(0,b.jsx)(A.Z,{}):j?0===(null===C||void 0===C?void 0:C.length)&&(0,b.jsx)(k.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===C||void 0===C?void 0:C.length)&&(0,b.jsx)(k.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]}),1===S?(0,b.jsx)(Me,{appId:null===(c=x.state)||void 0===c?void 0:c.appId,applicant:Z,onClose:()=>{y("")},onRefetch:()=>{D(!1),D([]),I([]),F(),R()},isMultiple:!0}):null]})},Fe={isCompleted:!0},Re=(e,n)=>null===e||void 0===e?void 0:e.filter((e=>{var l,t,i,o;let d="".concat(null===e||void 0===e||null===(l=e.student)||void 0===l?void 0:l.studentFirstName," ").concat(null===e||void 0===e||null===(t=e.student)||void 0===t?void 0:t.studentMiddleName," ").concat(null===e||void 0===e||null===(i=e.student)||void 0===i?void 0:i.studentLastName);return null!==d&&void 0!==d&&null!==(o=d.toLowerCase())&&void 0!==o&&o.includes(null===n||void 0===n?void 0:n.toLowerCase())?e:null})),Ue=e=>{var n;let{onClose:l,applicant:t,appId:i,onRefetch:a}=e;const{t:c}=(0,s.$G)(),[r,v]=(0,d.useState)(!1),[h,_]=(0,d.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),[j,f]=(0,d.useState)(""),[Z,S]=(0,d.useState)(0),[y]=(0,o.D5)();(0,d.useEffect)((()=>{var e,n;if((null===t||void 0===t||null===(e=t.student)||void 0===e||null===(n=e.paidFeeList)||void 0===n?void 0:n.length)>0){var l,o,d,s;const e=null===t||void 0===t||null===(l=t.student)||void 0===l||null===(o=l.paidFeeList)||void 0===o?void 0:o.filter((e=>(null===e||void 0===e?void 0:e.appId)===i));S(null!==(d=null===e||void 0===e||null===(s=e[0])||void 0===s?void 0:s.paidAmount)&&void 0!==d?d:0)}}),[null===t||void 0===t||null===(n=t.student)||void 0===n?void 0:n.paidFeeList]);const C=e=>{_((n=>({...n,[e.target.name]:e.target.value})))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.Z,{onClose:l,children:(0,b.jsxs)("div",{className:g.Z.modal_container,children:[(0,b.jsx)(p.Z,{children:(0,b.jsxs)("div",{className:g.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:g.Z.modal_container_header,children:(0,b.jsx)("h6",{children:c("cancel_addmission")})}),(0,b.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:l})]})}),(0,b.jsx)(m.Z,{}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0"},children:[(0,b.jsxs)("div",{className:g.Z.admission_fees_row,children:[(0,b.jsxs)("h6",{children:[c("fees_paid")," :"]}),(0,b.jsxs)("h6",{children:[c("rs_only")," ",Z]})]}),(0,b.jsx)(oe.Z,{label:"".concat(c("refund_amount")),placeholder:c("please_enter_refund_amount"),name:"amount",value:h.amount,type:"tel",onChange:e=>{_((n=>({...n,amount:+e.target.value,fee_payment_amount:+e.target.value})))},errorShow:j.amount}),(0,b.jsx)(ae.Z,{paymentHeading:c("refund_payment_type_mode"),selectLabel:c("mode_placeholder"),onClick:e=>{_((n=>({...n,mode:"By Cash"===e?"Offline":"Online",fee_payment_mode:e})))},errorShow:j.fee_payment_mode,defalutValue:h.fee_payment_mode,selectedValue:c("please_select_payment_mode"),isAuthority:"admissionCollectMode"}),(0,b.jsx)(de.Z,{label:c("select_date_of_transaction"),placeholder:c("please_select_date"),name:"transaction_date",value:h.transaction_date,onChange:e=>{_((n=>({...n,transaction_date:(0,se.jh)(e)})))},errorShow:j.transaction_date}),"Cash"===h.fee_payment_mode?null:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:g.Z.admission_fees_row,style:{margin:0},children:(0,b.jsx)("h6",{style:{margin:0,marginTop:"1rem"},children:c("paid_to")})}),(0,b.jsx)(oe.Z,{label:c("bank_name_collect"),placeholder:c("please_enter_bank_name"),name:"fee_bank_name",value:h.fee_bank_name,type:"text",onChange:C}),(0,b.jsx)(oe.Z,{label:c("banke_holder_name"),placeholder:c("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:h.fee_bank_holder,type:"text",onChange:C}),(0,b.jsx)(oe.Z,{label:c("cheque_dd_neft"),placeholder:c("please_enter_utr_ref_number"),name:"fee_utr_reference",value:h.fee_utr_reference,type:"text",onChange:C})]}),(0,b.jsx)(I.Z,{label:"confirm",onAction:()=>{let e=(0,ce.l)(h,["mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference"]);var n,o,d,s,c,r,u,p,m,_,x,g,j,Z,N;(0,ce.x)(e)?null!==t&&void 0!==t&&null!==(n=t.student)&&void 0!==n&&n._id&&i&&null!==t&&void 0!==t&&null!==(o=t.student)&&void 0!==o&&null!==(d=o.fee_structure)&&void 0!==d&&d._id&&(v((e=>!e)),y({sid:null===t||void 0===t||null===(s=t.student)||void 0===s?void 0:s._id,appId:i,payment:{struct:null===t||void 0===t||null===(c=t.student)||void 0===c||null===(r=c.fee_structure)||void 0===r?void 0:r._id,amount:null!==(u=null===h||void 0===h?void 0:h.amount)&&void 0!==u?u:"",mode:null!==(p=null===h||void 0===h?void 0:h.mode)&&void 0!==p?p:"",fee_payment_mode:null!==(m=null===h||void 0===h?void 0:h.fee_payment_mode)&&void 0!==m?m:"",fee_payment_amount:null!==(_=null===h||void 0===h?void 0:h.fee_payment_amount)&&void 0!==_?_:"",transaction_date:null!==(x=(0,se._1)(h.transaction_date))&&void 0!==x?x:"",fee_bank_name:null!==(g=null===h||void 0===h?void 0:h.fee_bank_name)&&void 0!==g?g:"",fee_bank_holder:null!==(j=null===h||void 0===h?void 0:h.fee_bank_holder)&&void 0!==j?j:"",fee_utr_reference:null!==(Z=null===h||void 0===h?void 0:h.fee_utr_reference)&&void 0!==Z?Z:"",remainAmount:null!==(N=null===t||void 0===t?void 0:t.fee_remain)&&void 0!==N?N:0}}).then((()=>{a(),v((e=>!e)),l()})).catch({})):f(e)}})]})]})}),r&&(0,b.jsx)(N.Z,{})]})},Le=e=>{var n,l,t,o,a,c,r,v,p,m,h,_,x,g,j,Z,N,I,S,y,C,A,k,P,w,D,T,M,O,E,R,U;let{instituteId:q,applicant:G,appId:Y,onRefetch:J,isMultiple:B,onSelect:H,applicantId:$}=e;const{t:K}=(0,s.$G)(),V=(0,i.UO)(),W=(0,i.s0)(),Q=(0,i.TH)(),[X,ee]=(0,d.useState)(""),ne=(0,d.useCallback)((()=>{var e,n;W("/q/".concat(V.username,"/student/profile"),{state:{sid:null===G||void 0===G||null===(e=G.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:q,collectAccess:"ADMISSION_ADMIN",editInstallmentControl:"authorized",govtAccess:"Other",cancelAccess:!1,editStructureControl:"authorized",editGovtNumberContorl:"authorized",editGovtInstallmentControl:"authorized",isSearchEnable:"notauthorized",whichUrl:"Institute"===(null===(n=Q.state)||void 0===n?void 0:n.urlOffSet)?"INSTITUTE":null}})}),[q,null===G||void 0===G||null===(n=G.student)||void 0===n?void 0:n._id]),le=()=>{ee("")};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:f.Z.oac_container,onClick:ne,title:"View Profile",children:[B?(0,b.jsx)("img",{className:f.Z.department_checkbox,src:null!==$&&void 0!==$&&$.includes(null===G||void 0===G||null===(l=G.student)||void 0===l?void 0:l._id)?"".concat(u.U_,"/check.svg"):"".concat(u.U_,"/uncheck.svg"),alt:"check icon",onClick:e=>{var n;return H(e,null===G||void 0===G||null===(n=G.student)||void 0===n?void 0:n._id)}}):null,(0,b.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==G&&void 0!==G&&null!==(t=G.student)&&void 0!==t&&t.studentProfilePhoto?"".concat(F.yI,"/").concat(null===G||void 0===G||null===(o=G.student)||void 0===o?void 0:o.studentProfilePhoto):"".concat(u.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,b.jsx)("h6",{children:"".concat(null!==(a=null===G||void 0===G||null===(c=G.student)||void 0===c?void 0:c.studentFirstName)&&void 0!==a?a:""," ").concat(null!==G&&void 0!==G&&null!==(r=G.student)&&void 0!==r&&r.studentMiddleName?null===G||void 0===G||null===(v=G.student)||void 0===v?void 0:v.studentMiddleName:""," ").concat(null!==(p=null===G||void 0===G||null===(m=G.student)||void 0===m?void 0:m.studentLastName)&&void 0!==p?p:"")}),(0,b.jsxs)("p",{children:[K("form_no_only"),": ",null!==(h=null===G||void 0===G||null===(_=G.student)||void 0===_?void 0:_.form_no)&&void 0!==h?h:""]}),(0,b.jsx)("p",{onClick:e=>{e.stopPropagation(),ee(2)},style:{color:"#436dfa"},children:K("cancel_admision")})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/gender.svg"),alt:"email icon"}),(0,b.jsx)("p",{children:null===G||void 0===G||null===(x=G.student)||void 0===x?void 0:x.studentGender})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(u.U_,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{children:null!==G&&void 0!==G&&null!==(g=G.student)&&void 0!==g&&null!==(j=g.user)&&void 0!==j&&j.userPhoneNumber?null===G||void 0===G||null===(Z=G.student)||void 0===Z||null===(N=Z.user)||void 0===N?void 0:N.userPhoneNumber:null!==G&&void 0!==G&&null!==(I=G.student)&&void 0!==I&&null!==(S=I.user)&&void 0!==S&&S.userEmail?null===G||void 0===G||null===(y=G.student)||void 0===y||null===(C=y.user)||void 0===C?void 0:C.userEmail:null!==G&&void 0!==G&&null!==(A=G.student)&&void 0!==A&&A.studentPhoneNumber?null===G||void 0===G||null===(k=G.student)||void 0===k?void 0:k.studentPhoneNumber:null!==G&&void 0!==G&&null!==(P=G.student)&&void 0!==P&&P.studentParentsPhoneNumber?null===G||void 0===G||null===(w=G.student)||void 0===w?void 0:w.studentParentsPhoneNumber:null!==(D=null===G||void 0===G||null===(T=G.student)||void 0===T?void 0:T.studentEmail)&&void 0!==D?D:""})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_stuff,style:{width:"25%"},children:[(0,b.jsx)("a",{href:"".concat(F.q2,"/").concat(null===G||void 0===G||null===(M=G.student)||void 0===M||null===(O=M.application_print)||void 0===O||null===(E=O[0])||void 0===E?void 0:E.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,b.jsx)("img",{src:"".concat(u.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),null===G||void 0===G||null===(R=G.student)||void 0===R||null===(U=R.fee_receipt)||void 0===U?void 0:U.map(((e,n)=>n>2?"":(0,b.jsx)(ie.Z,{rid:null===e||void 0===e?void 0:e._id,receiptFile:null===e||void 0===e?void 0:e.receipt_file},null===e||void 0===e?void 0:e._id))),B?null:(0,b.jsx)(L.Z,{children:(0,b.jsx)(z.Z,{label:"allot_class",onAction:e=>{e.stopPropagation(),ee(1)},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}})})]})]}),2===X?(0,b.jsx)(Ue,{appId:Y,applicant:G,onClose:le,onRefetch:J}):1===X?(0,b.jsx)(Me,{appId:Y,applicant:G,onClose:le,onRefetch:J}):null]})};var qe=l(89064);const ze=e=>{let{onClose:n,appId:l,onRefetch:t}=e;const{t:i}=(0,s.$G)(),[a,c]=(0,d.useState)(!1),[r]=(0,o.LT)(),u=e=>{l&&(c((e=>!e)),r({appId:l,sort_query:e}).then((()=>{t(),c((e=>!e)),n()})).catch({}))};return(0,b.jsxs)(qe.Z,{onClose:n,disabled:a,customStyle:{width:"15rem"},children:[(0,b.jsx)("h6",{onClick:()=>u("Alpha"),children:i("alphabetical")}),(0,b.jsx)("h6",{onClick:()=>u("Gender"),children:i("gender")}),(0,b.jsx)("h6",{onClick:()=>u("Gender_Alpha"),children:i("both")})]})},Ge=e=>{var n,l,t,u,v,m;let{applicationDetail:h,instituteId:_,aid:x}=e;const{t:g}=(0,s.$G)(),j=(0,i.TH)(),f=(0,i.s0)(),Z=(0,i.UO)(),[I,S]=(0,d.useState)(""),[y,C]=(0,d.useState)(1),[P,w]=(0,d.useState)(!0),[D,M]=(0,a.YD)({skip:I}),[O,F]=(0,d.useState)(!1),{admissionOngoingApplicationReview:R,admissionOngoingApplicationReviewLoading:U,admissionOngoingApplicationReviewRefetch:L}=(0,o._v)({data:{appId:null===(n=j.state)||void 0===n?void 0:n.appId,page:y,limit:10,search:I},skip:!(null!==(l=j.state)&&void 0!==l&&l.appId)});(0,d.useEffect)((()=>{M&&P&&C((e=>e+1))}),[M,P]),(0,d.useEffect)((()=>{var e;if(null!==R&&void 0!==R&&null!==(e=R.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===R||void 0===R||null===(n=R.list)||void 0===n?void 0:n.length);w((()=>e))}}),[null===R||void 0===R||null===(t=R.list)||void 0===t?void 0:t.length]);const q=(0,d.useCallback)((0,r.J)((e=>{C((()=>1)),S(e)}),1500),[]),z=(0,d.useCallback)((()=>{C((()=>1)),L()}),[L]),G=(0,d.useCallback)((()=>{F((e=>!e))}),[]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(E.Z,{children:[(0,b.jsx)(T,{applicationDetail:h,instituteId:_,isExportAccess:"Confirm_Query",isTransferAccess:"Review",aid:x}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,b.jsx)(Q,{applicationDetail:h,instituteId:_,isExportAccess:"Review_Query",isTransferAccess:"Review",aid:x,onMultipleSelect:()=>{var e;let n="Institute"===(null===(e=j.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(Z.username,"/institute/member/admission?type=ongoing-detail&n=review-multi"):"/q/".concat(Z.username,"/member/staff/admission?type=ongoing-detail&n=review-multi");f(n,{state:j.state})},onResuffleToggle:G,children:(0,b.jsx)("input",{type:"text",placeholder:g("search_applicants"),onChange:e=>{e.target.value?q(e.target.value):(C((()=>1)),S(""))}})}),null===R||void 0===R||null===(u=R.list)||void 0===u?void 0:u.map(((e,n)=>{var l,t,i;return(null===R||void 0===R||null===(l=R.list)||void 0===l?void 0:l.length)===n+1?(0,b.jsx)("div",{ref:D,children:(0,b.jsx)(Le,{applicant:{student:e},instituteId:_,onRefetch:z,appId:null===(t=j.state)||void 0===t?void 0:t.appId})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(Le,{applicant:{student:e},instituteId:_,onRefetch:z,appId:null===(i=j.state)||void 0===i?void 0:i.appId},null===e||void 0===e?void 0:e._id)})),U?I?(0,b.jsx)(N.Z,{}):(0,b.jsx)(A.Z,{}):I?0===(null===R||void 0===R||null===(v=R.list)||void 0===v?void 0:v.length)&&(0,b.jsx)(k.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===R||void 0===R||null===(m=R.list)||void 0===m?void 0:m.length)&&(0,b.jsx)(k.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]}),O&&(0,b.jsx)(ze,{onClose:G,appId:null===h||void 0===h?void 0:h._id,onRefetch:z})]})},Ye=e=>{var n,l;let{instituteId:d,aid:s,financeId:a}=e;const[c]=(0,t.lr)(),r=(0,i.TH)(),{admissionOneOngoingApplication:u}=(0,o.nK)({appId:null===(n=r.state)||void 0===n?void 0:n.appId,skip:!(null!==(l=r.state)&&void 0!==l&&l.appId)});return(0,b.jsx)(b.Fragment,{children:c.get("n")?"document"===c.get("n")?(0,b.jsx)(xe,{applicationDetail:u,instituteId:d,aid:s}):"fees"===c.get("n")?(0,b.jsx)(fe,{applicationDetail:u,instituteId:d,aid:s,financeId:a}):"confirmed"===c.get("n")?(0,b.jsx)(ye,{applicationDetail:u,instituteId:d}):"confirmed-multi"===c.get("n")?(0,b.jsx)(Ne,{applicationDetail:u,instituteId:d}):"review"===c.get("n")?(0,b.jsx)(Ge,{applicationDetail:u,instituteId:d,aid:s}):"review-multi"===c.get("n")?(0,b.jsx)(Ee,{applicationDetail:u,instituteId:d,aid:s}):"allottment"===c.get("n")?(0,b.jsx)(ve,{applicationDetail:u,instituteId:d}):"cancelled"===c.get("n")?(0,b.jsx)(me,{applicationDetail:u,instituteId:d}):null:(0,b.jsx)(te,{applicationDetail:u,instituteId:d,aid:s})})}},46194:(e,n,l)=>{l.d(n,{Z:()=>f});var t=l(39230),i=l(90904),o=l(38857),d=l(21348),s=l(49806),a=l(98684),c=l(72791),r=l(23441),u=l(91427),v=l(57588),p=l(2651),m=l(1669),h=l(55336),_=l(43317),x=l(25056),g=l(93638),j=l(80184);const f=e=>{var n,l,f,Z;let{onClose:N,onSelect:I,aid:b,selectedId:S,isList:y,onDone:C,isMultiSelect:A}=e;const{t:k}=(0,t.$G)(),[P,w]=(0,c.useState)(""),[D,T]=(0,c.useState)(1),[M,O]=(0,c.useState)(!0),[E,F]=(0,r.YD)({skip:P}),{admissionOngoingApplication:R,admissionOngoingApplicationLoading:U}=(0,_.s5)({data:{aid:b,page:D,limit:A?1e3:10,search:P},skip:!b});(0,c.useEffect)((()=>{F&&M&&T((e=>e+1))}),[F,M]),(0,c.useEffect)((()=>{var e;if(null!==R&&void 0!==R&&null!==(e=R.list)&&void 0!==e&&e.length){var n;let e=(0,u.f)(null===R||void 0===R||null===(n=R.list)||void 0===n?void 0:n.length);O((()=>e))}}),[null===R||void 0===R||null===(n=R.list)||void 0===n?void 0:n.length]);const L=(0,c.useCallback)((0,v.J)((e=>{T((()=>1)),w(e)}),1500),[]);return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(o.Z,{children:(0,j.jsxs)("div",{className:s.Z.modal_container,children:[(0,j.jsx)(d.Z,{children:(0,j.jsxs)("div",{className:s.Z.modal_container_outer_header,children:[(0,j.jsx)("div",{className:s.Z.modal_container_header,children:(0,j.jsx)("h6",{children:k("ongoing_applications")})}),(0,j.jsxs)("div",{className:s.Z.modal_container_btn_container,children:[A&&(0,j.jsx)(g.Z,{label:k("select"),count:null===S||void 0===S?void 0:S.length,onAction:C,customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,j.jsx)("img",{src:"".concat(a.J7,"/close.svg"),alt:"close icon",onClick:N,className:s.Z.close_icon})]})]})}),(0,j.jsx)(i.Z,{}),(0,j.jsxs)(d.Z,{customStyle:{paddingTop:"0"},children:[(0,j.jsxs)("div",{className:s.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,j.jsx)("input",{type:"text",placeholder:k("search"),className:s.Z.assign_search_input,onChange:e=>{e.target.value?L(e.target.value):(T((()=>1)),w(""))},style:{width:"100%"}}),(0,j.jsx)("img",{src:"".concat(a.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===R||void 0===R||null===(l=R.list)||void 0===l?void 0:l.map(((e,n)=>{var l;return(null===R||void 0===R||null===(l=R.list)||void 0===l?void 0:l.length)===n+1?(0,j.jsx)("div",{ref:E,children:(0,j.jsx)(x.Z,{application:e,onSelect:I,isList:y,selectedId:S})},null===e||void 0===e?void 0:e._id):(0,j.jsx)(x.Z,{application:e,onSelect:I,isList:y,selectedId:S},null===e||void 0===e?void 0:e._id)})),U?P?(0,j.jsx)(h.Z,{}):(0,j.jsx)(m.Z,{}):P?0===(null===R||void 0===R||null===(f=R.list)||void 0===f?void 0:f.length)&&(0,j.jsx)(p.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No ongoing applications found related this search."}):0===(null===R||void 0===R||null===(Z=R.list)||void 0===Z?void 0:Z.length)&&(0,j.jsx)(p.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No ongoing applications list."})]})]})})})}},25056:(e,n,l)=>{l.d(n,{Z:()=>d});var t=l(98684),i=l(26192),o=l(80184);const d=e=>{var n,l,d,s,a,c;let{application:r,onSelect:u,selectedId:v,isList:p}=e;const m=()=>{u(r)};return(0,o.jsx)(o.Fragment,{children:p?(0,o.jsx)("div",{className:null!==v&&void 0!==v&&v.includes(null===r||void 0===r?void 0:r._id)?"".concat(i.Z.ongoing_card," ").concat(i.Z.ongoing_card_active):i.Z.ongoing_card,onClick:m,children:(0,o.jsxs)("div",{className:i.Z.ongoing_card_inner,children:[(0,o.jsx)("img",{alt:"Ongoing App",src:"".concat(t.U_,"/application.svg")}),(0,o.jsxs)("div",{className:i.Z.ongoing_card_text,children:[(0,o.jsx)("h6",{children:null!==(n=null===r||void 0===r?void 0:r.applicationName)&&void 0!==n?n:""}),(0,o.jsx)("p",{children:null!==(l=null===r||void 0===r||null===(d=r.applicationDepartment)||void 0===d?void 0:d.dName)&&void 0!==l?l:""})]})]})}):(0,o.jsx)("div",{className:v===(null===r||void 0===r?void 0:r._id)?"".concat(i.Z.ongoing_card," ").concat(i.Z.ongoing_card_active):i.Z.ongoing_card,onClick:m,children:(0,o.jsxs)("div",{className:i.Z.ongoing_card_inner,children:[(0,o.jsx)("img",{alt:"Ongoing App",src:"".concat(t.U_,"/application.svg")}),(0,o.jsxs)("div",{className:i.Z.ongoing_card_text,children:[(0,o.jsx)("h6",{children:null!==(s=null===r||void 0===r?void 0:r.applicationName)&&void 0!==s?s:""}),(0,o.jsx)("p",{children:null!==(a=null===r||void 0===r||null===(c=r.applicationDepartment)||void 0===c?void 0:c.dName)&&void 0!==a?a:""})]})]})})})}},16313:(e,n,l)=>{l.d(n,{Z:()=>t});const t={attendence:"Attendence_attendence__I1yeT",attendencehead:"Attendence_attendencehead__exMGX",attendenceBtns:"Attendence_attendenceBtns__NDLVN",changemonth:"Attendence_changemonth__tk0Uc",buttons:"Attendence_buttons__iJ4z9",leaves:"Attendence_leaves__nC9+y",save:"Attendence_save__Q1WxJ",time_slot_btn:"Attendence_time_slot_btn__ckJ9r",calender:"Attendence_calender__wZXxH",arrowbtn:"Attendence_arrowbtn__Gm18t",dates:"Attendence_dates__40mER",date:"Attendence_date__qlh8f",clickedDate:"Attendence_clickedDate__q347p",tabs:"Attendence_tabs__9GYC-",tab:"Attendence_tab__IXFzc",grey:"Attendence_grey__r-jIX",purple:"Attendence_purple__J8wxa",light:"Attendence_light__r4yiQ",tabgreen:"Attendence_tabgreen__uE2sT",red:"Attendence_red__v+w+y",rose:"Attendence_rose__uW+8p",list:"Attendence_list__R99VM",divider:"Attendence_divider__MjzEh",selectMonthList:"Attendence_selectMonthList__ItnM7",month:"Attendence_month__32s-8",time_slot:"Attendence_time_slot__uB3tR",time_slot_inner:"Attendence_time_slot_inner__LMrgE",al_container:"Attendence_al_container__WjTYJ",al_container_h6:"Attendence_al_container_h6__avjZi",al_container_active:"Attendence_al_container_active__mhWSf",al_container_img:"Attendence_al_container_img__CYG2U"}},51857:(e,n,l)=>{l.d(n,{Z:()=>t});const t={search_backdrop:"SearchHeader_search_backdrop__MsKpG",search_card:"SearchHeader_search_card__-jNcg",search_container:"SearchHeader_search_container__NS7Om",search_container_text:"SearchHeader_search_container_text__bkolR",searchIcon:"SearchHeader_searchIcon__J7cNp",search_container_back:"SearchHeader_search_container_back__ZoXdV"}}}]);
//# sourceMappingURL=93437.3e5dbcf0.chunk.js.map