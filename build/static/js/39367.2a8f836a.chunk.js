"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[39367],{47184:(e,o,i)=>{i.d(o,{Z:()=>l});i(72791);var n=i(46807),t=i(80184);const l=e=>{let{dynamicImage:o,customStyle:i}=e;return(0,t.jsx)("img",{src:o,alt:"Avatar icon",style:{...i},className:n.Z.avatar_image})}},83058:(e,o,i)=>{i.r(o),i.d(o,{default:()=>f});var n=i(72791),t=i(39230),l=i(95048),s=i(23441),d=i(9447),a=i(70092);const r={addComment:"AllComments_addComment__rGs-z",imgcontainer:"AllComments_imgcontainer__Klc4u",inputContainer:"AllComments_inputContainer__kbuUj",hr:"AllComments_hr__lGcA1",icons:"AllComments_icons__LaS0W",btn:"AllComments_btn__6H38+",comment_not_open:"AllComments_comment_not_open__EwMnj"};var v=i(69721);const u={eachComment:"EachComment_eachComment__tPduK",imgcontainer:"EachComment_imgcontainer__FiCLj",commentText:"EachComment_commentText__p-lso",likeReply:"EachComment_likeReply__yBW6e",eachCommentContainer:"EachComment_eachCommentContainer__Ed4yT",dots:"EachComment_dots__rL2SC",time:"EachComment_time__jOd3S"};var c=i(13688),m=i(16256),p=i(8793),h=i(80184);const _=n.lazy((()=>i.e(5407).then(i.bind(i,5407))));const x=function(e){let{comment:o,pid:i}=e;const[s,r]=(0,n.useState)(!1),[x,j]=n.useState(!0),{t:g}=(0,t.$G)(),C=(0,l.v9)((e=>e.idChange)),f=(0,l.I0)(),{commentLike:y,commentLikeRefetch:N}=(0,d.uD)({ids:{cid:null===o||void 0===o?void 0:o._id,id:null===C||void 0===C?void 0:C.id,viewAs:m.UJ},skip:x});return n.useEffect((()=>{y&&(j(!0),f(a.p.addCommentLike({postId:i,commentId:null===o||void 0===o?void 0:o._id,like:y.allLikeCount})))}),[y]),(0,h.jsxs)("div",{className:u.eachCommentContainer,children:[(0,h.jsxs)("div",{className:u.eachComment,children:[(0,h.jsx)("div",{className:u.imgcontainer,children:(0,h.jsx)("img",{src:"1"!==(null===o||void 0===o?void 0:o.authorPhotoId)?"".concat(v.yI,"/").concat(o.authorProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""})}),(0,h.jsxs)("div",{className:u.commentText,children:[(0,h.jsx)("h6",{children:null===o||void 0===o?void 0:o.authorUserName}),(0,h.jsx)("p",{children:null===o||void 0===o?void 0:o.commentDescription})]})]}),(0,h.jsxs)("div",{className:u.likeReply,children:[(0,h.jsxs)("p",{onClick:()=>{j(!1),N()},children:[g("Like")," ",(0,h.jsx)("span",{children:null===o||void 0===o?void 0:o.allLikeCount})]}),(0,h.jsxs)("p",{onClick:()=>r(!s),children:[g("reply")," ",(0,h.jsx)("span",{children:null===o||void 0===o?void 0:o.allChildCommentCount})," "]})]}),(0,h.jsx)("div",{className:u.nested,children:(0,h.jsx)(p.Z,{children:s&&(null===o||void 0===o?void 0:o._id)&&(0,h.jsx)(_,{pcid:null===o||void 0===o?void 0:o._id,pid:i,allChildCommentCount:null===o||void 0===o?void 0:o.allChildCommentCount})})}),(0,h.jsx)("div",{className:u.dots,children:(0,h.jsx)("p",{className:u.time,children:(0,c.WU)(null===o||void 0===o?void 0:o.createdAt)})})]})};var j=i(47184),g=i(39480);const C=e=>{var o,i;let{pid:u,commentCount:c,commentCountIncrement:p}=e;const[_,C]=(0,n.useState)(1),{t:f}=(0,t.$G)(),y=(0,n.useRef)(""),[N,w]=(0,s.YD)(),[I,A]=(0,n.useState)(!0),q=(0,l.I0)(),P=(0,l.v9)((e=>e.postChange.comments)),U=(0,l.v9)((e=>e.idChange.id)),{allPostComment:k,allPostCommentRefetch:S}=(0,d.RR)({data:{pid:u||"",viewAs:m.UJ,page:_,limit:10},skip:!1}),[R]=(0,d.es)(),{oneInstituteDashboard:b,oneInstituteDashboardRefetch:O}=(0,g.gq)({id:U,skip:!U});(0,n.useEffect)((()=>{U&&O()}),[U,O]),(0,n.useEffect)((()=>{w&&I&&C((e=>e+1))}),[w,I]),(0,n.useEffect)((()=>{S()}),[_,S]),(0,n.useEffect)((()=>{null!==k&&void 0!==k&&k.comment&&q(a.p.addComment({postId:u,comment:null===k||void 0===k?void 0:k.comment})),10===(null===k||void 0===k?void 0:k.comment.length)?A(!0):A(!1)}),[null===k||void 0===k?void 0:k.comment,q,u]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:r.addComment,children:[(0,h.jsx)("div",{className:r.imgcontainer,children:(0,h.jsx)(j.Z,{dynamicImage:"1"!==(null===b||void 0===b||null===(o=b.institute)||void 0===o?void 0:o.photoId)?"".concat(v.yI,"/").concat(null===b||void 0===b||null===(i=b.institute)||void 0===i?void 0:i.insProfilePhoto):"/images/ins_default_profile.svg"})}),(0,h.jsxs)("div",{className:r.inputContainer,children:[(0,h.jsx)("input",{type:"text",ref:y,placeholder:f("all_comment"),className:"form-control ".concat(r.searchinput)}),(0,h.jsxs)("div",{className:r.icons,children:[(0,h.jsx)("img",{src:"/images/img-icon.svg",alt:""}),(0,h.jsx)("img",{src:"/images/emoji-icon.svg",alt:""})]})]})]}),(0,h.jsx)("div",{className:r.btn,onClick:()=>{p(++c),R({comment:{commentDescription:y.current.value},pid:u,viewAs:m.UJ}).then((e=>{var o,i,n,t,l,s,d,r,v,c;q(a.p.addCreatedComment({postId:u,comment:{allChildCommentCount:null===(o=e.data)||void 0===o?void 0:o.comment.allChildCommentCount,allLikeCount:null===(i=e.data)||void 0===i?void 0:i.comment.allLikeCount,author:null===(n=e.data)||void 0===n?void 0:n.comment.author,authorName:null===(t=e.data)||void 0===t?void 0:t.comment.authorName,authorPhotoId:null===(l=e.data)||void 0===l?void 0:l.comment.authorPhotoId,authorProfilePhoto:null===(s=e.data)||void 0===s?void 0:s.comment.authorProfilePhoto,authorUserName:null===(d=e.data)||void 0===d?void 0:d.comment.authorUserName,commentDescription:null===(r=e.data)||void 0===r?void 0:r.comment.commentDescription,createdAt:null===(v=e.data)||void 0===v?void 0:v.comment.createdAt,_id:null===(c=e.data)||void 0===c?void 0:c.comment._id}}))})).catch({}),y.current.value=""},children:f("post")}),null===P||void 0===P?void 0:P.map((e=>{var o;return e.postId===u?null===e||void 0===e||null===(o=e.comment)||void 0===o?void 0:o.map(((o,i)=>{var n;return(null===e||void 0===e||null===(n=e.comment)||void 0===n?void 0:n.length)===i+1?(0,h.jsxs)("div",{className:r.eachComment,ref:N,children:[(0,h.jsx)(x,{comment:o,pid:u}),(0,h.jsx)("hr",{})]},i):(0,h.jsxs)("div",{className:r.eachComment,children:[(0,h.jsx)(x,{comment:o,pid:u}),(0,h.jsx)("hr",{})]},i)})):""}))]})};const f=function(e){let{pid:o,commentCount:i,commentOpen:l,comment_turned:s}=e;const[d,a]=(0,n.useState)(i),{t:v}=(0,t.$G)();return(0,h.jsx)(h.Fragment,{children:l&&("On"!==s?(0,h.jsx)("section",{className:r.comment_not_open,children:v("comment_is_not_open_for_this_post")}):(0,h.jsx)("div",{style:{padding:"1vw"},children:(0,h.jsx)(C,{pid:o,commentCount:d,commentCountIncrement:e=>{a(e)}})}))})}},39367:(e,o,i)=>{i.r(o),i.d(o,{default:()=>$});var n=i(72791);const t="RepostAnswer_mainContainer__1GSwj",l="RepostAnswer_backButton__NKRSn",s="RepostAnswer_backButton1__qnfr7",d="RepostAnswer_questionSection__9-UYi",a="RepostAnswer_eachposthead__5poGZ",r="RepostAnswer_imgcontainer__QAOMd",v="RepostAnswer_iimg__Afdb4",u="RepostAnswer_eachpostUserName__odoxk",c="RepostAnswer_eachpostUserTime__8baLI",m="RepostAnswer_menu__rXV77",p="RepostAnswer_questionTitle__q94Wy",h="RepostAnswer_questionMainContainer__FxueA",_="RepostAnswer_questionBottom__Zi4qo",x="RepostAnswer_questionBottomBorder__GV+yZ",j="RepostAnswer_needCount__5Moc4",g="RepostAnswer_questionBottomIcon__qe6DD",C="RepostAnswer_questionBottomIconOne__qkzhk",f="RepostAnswer_answerIcon__c-868",y="RepostAnswer_comment__NAWCh";var N=i(98990),w=i(95048),I=i(43504),A=i(69721),q=i(13688),P=i(30488),U=i(38697),k=i(43101),S=i(79797),R=i(4357),b=i(68676),O=i(71766),T=i(49384),Z=i(9447),E=i(70092);const D={mainContainer:"CreateAns_mainContainer__b5x19",answerTop:"CreateAns_answerTop__Xf5dD",questionSection:"CreateAns_questionSection__r-ock",postTextarea:"CreateAns_postTextarea__CHZji",questionTitle:"CreateAns_questionTitle__jmx0R",questionMainContainer:"CreateAns_questionMainContainer__m7e2y",upload:"CreateAns_upload__xSiWL",uplaodImage:"CreateAns_uplaodImage__hVvU0",postActive:"CreateAns_postActive__AHTCt"};var V=i(39230),Q=i(80184);const M=function(e){let{pid:o,setViewIns:i,answerPostType:t,questionTitle:l}=e;const{t:s}=(0,V.$G)(),[d,a]=(0,n.useState)("Repost"!==t?"Repost":"Answer"),[r,v]=(0,n.useState)([]),[u,c]=(0,n.useState)({text:"",img:""}),m=(0,w.I0)(),[p]=(0,Z.G4)(),[h]=(0,Z.jb)(),[_,x]=(0,n.useState)(!1),j=document.querySelector("textarea");return null===j||void 0===j||j.addEventListener("keyup",(e=>{j.style.height="auto";let o=e.target.scrollHeight;j.style.height="".concat(o,"px")})),(0,n.useEffect)((()=>{a("Repost"!==t?"Repost":"Answer")}),[t]),(0,n.useEffect)((()=>{document.getElementById("scrollView").scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),[]),(0,Q.jsx)("div",{className:D.mainContainer,children:(0,Q.jsxs)("div",{className:D.questionSection,id:"scrollView",children:[(0,Q.jsxs)("div",{className:D.answerTop,children:[(0,Q.jsx)("p",{children:s("answering")}),(0,Q.jsx)("img",{src:"/images/cross-icon.svg",alt:"close button",onClick:()=>i(!1)})]}),(0,Q.jsx)("div",{className:D.questionMainContainer,children:(0,Q.jsx)("h5",{className:D.questionTitle,children:l})}),(0,Q.jsx)("textarea",{className:D.postTextarea,type:"text",required:!0,name:"CreateAns",placeholder:s("type_a_answer"),rows:"3",value:u.text,onChange:e=>c({...u,text:e.target.value})}),(0,Q.jsxs)("div",{className:D.postContainer,children:[(0,Q.jsx)("label",{htmlFor:"img",style:{cursor:"pointer"},children:(0,Q.jsx)("img",{src:"/images/addImg-icon.svg",alt:""})}),(0,Q.jsx)("input",{className:D.upload,id:"img",name:"file",onChange:e=>{e.target.files&&e.target.files.length>0&&(c({...u,img:""}),c({...u,img:URL.createObjectURL(e.target.files[0])}),v(e.target.files[0]))},type:"file",accept:"image/gif, image/jpeg, image/png"})]}),u.img&&(0,Q.jsx)("img",{alt:"list",src:u.img,className:D.uplaodImage}),(0,Q.jsxs)("button",{className:D.postActive,onClick:()=>{x(!0);const e=new FormData;e.append("answerContent",u.text),e.append("file",r),"Answer"===d?p({pid:o,postType:"Only Answer",answer:e}).then((e=>{var i;m(E.p.addCreatedAnswer({answer:null===(i=e.data)||void 0===i?void 0:i.answers,postId:o})),c({text:"",img:""}),x(!1)})).catch({}):h({pid:o,postType:"Repost",rePostAnswer:e}).then((e=>{var n;i(!1),m(E.p.addCreatedPost({post:null===(n=e.data)||void 0===n?void 0:n.rePost,postType:"repost",pid:o})),c({text:"",img:""}),x(!1)})).catch({})},disabled:_,children:[(0,Q.jsx)("p",{children:s("post")}),_&&(0,Q.jsx)("div",{children:(0,Q.jsx)(T.Z,{})})]})]})})};var L=i(83058),G=i(43425);const B=e=>{var o,i,t,l,s,T,Z,E,D,B,F,$,W,H,z,J,K,X,Y,ee,oe,ie,ne,te;let{post:le,viewIns:se,setViewIns:de,allPosts:ae,type:re,backHandler:ve}=e;const ue=(0,w.v9)((e=>e.idChange)),ce=(0,w.I0)(),{t:me}=(0,V.$G)(),[pe,he]=(0,n.useState)(!1),[_e,xe]=(0,n.useState)(!1),[je,ge]=(0,n.useState)(!1),[Ce,fe]=(0,n.useState)(!1);(0,n.useEffect)((()=>{var e;se||(null===(e=document.getElementById("scrollView"))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"}))}),[se]);const ye=()=>{he(!1)},Ne=e=>{"Report"===(null===e||void 0===e?void 0:e.status)&&(fe(null===e||void 0===e?void 0:e.data),ge(!0))},we=()=>{xe((e=>!e)),de(!1)},Ie=()=>{xe(!1),de((e=>!e))};return(0,Q.jsxs)(Q.Fragment,{children:[!se&&"question"===re&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)("section",{className:d,children:[(0,Q.jsxs)("div",{className:a,id:"scrollView",children:[(0,Q.jsx)("div",{className:r,children:(null===le||void 0===le?void 0:le.author)===(null===ue||void 0===ue?void 0:ue.id)?(0,Q.jsx)(I.rU,{to:"/q/".concat(null===le||void 0===le?void 0:le.authorUserName,"/profile"),children:(0,Q.jsx)("img",{alt:"not found",src:"1"!==(null===le||void 0===le?void 0:le.authorPhotoId)?"".concat(A.yI,"/").concat(null===le||void 0===le?void 0:le.authorProfilePhoto):"/images/ins_default_profile.svg",className:"1"!==(null===le||void 0===le?void 0:le.authorPhotoId)?"":v})}):(0,Q.jsx)(I.rU,{to:"/q/".concat(null===le||void 0===le?void 0:le.authorUserName,"/profile"),onClick:()=>{ce(N.S.searchId({id:null===le||void 0===le?void 0:le.author}))},children:(0,Q.jsx)("img",{alt:"not found",src:"1"!==(null===le||void 0===le?void 0:le.authorPhotoId)?"".concat(A.yI,"/").concat(null===le||void 0===le?void 0:le.authorProfilePhoto):"/images/ins_default_profile.svg",className:"1"!==(null===le||void 0===le?void 0:le.authorPhotoId)?"":v})})}),(0,Q.jsxs)("div",{className:u,children:[(null===le||void 0===le?void 0:le.author)===(null===ue||void 0===ue?void 0:ue.id)?(0,Q.jsx)(I.rU,{to:"/q/".concat(null===le||void 0===le?void 0:le.authorUserName,"/profile"),children:(0,Q.jsx)("h6",{children:null===le||void 0===le?void 0:le.authorUserName})}):(0,Q.jsx)(I.rU,{to:"/q/".concat(null===le||void 0===le?void 0:le.authorUserName,"/profile"),onClick:()=>{ce(N.S.searchId({id:null===le||void 0===le?void 0:le.author}))},children:(0,Q.jsx)("h6",{children:null===le||void 0===le?void 0:le.authorUserName})}),(0,Q.jsx)("div",{className:c,style:{display:"flex",gap:"0.5vw",alignItems:"center"},children:(0,Q.jsx)("p",{children:(0,q.WU)(null===le||void 0===le?void 0:le.createdAt)})})]})]}),(0,Q.jsx)("img",{src:"/images/menu-dots-icon.svg",alt:"",className:m,onClick:()=>he((e=>!e))}),pe&&(0,Q.jsx)(P.Z,{closeMenu:ye,children:(0,Q.jsx)(U.Z,{setDotsClicked:he,options:null===ue||void 0===ue||null===(o=ue.repostQuestion)||void 0===o||null===(i=o.otherOption)||void 0===i?void 0:i.selectOptions,switchOption:Ne,pid:null===le||void 0===le?void 0:le._id,authorId:null===le||void 0===le?void 0:le.author,profilePost:null===ue||void 0===ue||null===(t=ue.repostQuestion)||void 0===t||null===(l=t.otherOption)||void 0===l?void 0:l.profilePost,status:null===le||void 0===le?void 0:le.postStatus,closeMenu:ye,allPosts:ae,popup:!1,postType:null===le||void 0===le?void 0:le.postType,reportType:(null===le||void 0===le?void 0:le.isInstitute)||(null===le||void 0===le?void 0:le.isUser)})}),(0,Q.jsx)("div",{className:h,children:(0,Q.jsx)("h5",{className:p,children:null===le||void 0===le?void 0:le.postQuestion})}),(0,Q.jsxs)("div",{className:_,children:[(0,Q.jsxs)("div",{className:x,children:[(0,Q.jsxs)("p",{className:j,children:[null===le||void 0===le?void 0:le.needCount," ",me("need_help")," "]}),(0,Q.jsxs)("p",{children:[null===le||void 0===le?void 0:le.commentCount," ",me("comments_")," | ",null===le||void 0===le?void 0:le.answerCount," ",me("Answers")]})]}),(0,Q.jsxs)("div",{className:g,children:["institute"!==(null===ue||void 0===ue?void 0:ue.loggedinAs)?(0,Q.jsx)("div",{className:C,children:(0,Q.jsx)(k.Z,{answerIcon:f,needUser:null===le||void 0===le?void 0:le.needUser,pid:null===le||void 0===le?void 0:le._id,parentStyle:C})}):"",(0,Q.jsxs)("div",{className:C,onClick:we,children:[(0,Q.jsx)("img",{src:"/images/comment-icon.svg",alt:""}),(0,Q.jsx)("p",{children:me("comment")})]}),"institute"!==(null===ue||void 0===ue?void 0:ue.loggedinAs)?(0,Q.jsxs)("div",{className:C,onClick:Ie,children:[(0,Q.jsx)("img",{src:"/images/repeat.svg",alt:""}),(0,Q.jsx)("p",{children:me("answer")})]}):"",(0,Q.jsx)("div",{className:C,children:"institute"!==(null===ue||void 0===ue?void 0:ue.loggedinAs)?(0,Q.jsx)(S.Z,{endUserSave:null===le||void 0===le?void 0:le.endUserSave,pid:null===le||void 0===le?void 0:le._id,status:"yes",parentStyle:C}):(0,Q.jsx)(G.Z,{endUserSave:null===le||void 0===le?void 0:le.endUserSave,pid:null===le||void 0===le?void 0:le._id,parentStyle:C})})]})]}),_e&&"institute"!==(null===ue||void 0===ue?void 0:ue.loggedinAs)?(0,Q.jsx)("div",{className:y,children:(0,Q.jsx)(R.Z,{pid:null===le||void 0===le?void 0:le._id,commentCount:null===le||void 0===le?void 0:le.commentCount,setCommentOpen:xe,commentOpen:_e})}):(0,Q.jsx)(L.default,{pid:null===le||void 0===le?void 0:le._id,commentCount:null===le||void 0===le?void 0:le.commentCount,setCommentOpen:xe,commentOpen:_e,type:"not repost",comment_turned:null===le||void 0===le?void 0:le.comment_turned})]}),(0,Q.jsx)(b.Z,{pid:null===le||void 0===le?void 0:le._id})]}),je&&(0,Q.jsx)(O.Z,{report:je,hideModal:e=>ge(e),id:null===ue||void 0===ue?void 0:ue.id,reportId:Ce}),se&&(0,Q.jsx)(M,{pid:null===le||void 0===le?void 0:le._id,setViewIns:de,answerPostType:"notRepost",questionTitle:null===le||void 0===le?void 0:le.postQuestion}),!se&&"repost"===re&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)("section",{className:d,children:[(0,Q.jsxs)("div",{className:a,id:"scrollView",children:[(0,Q.jsx)("div",{className:r,children:(null===le||void 0===le?void 0:le.author)===(null===ue||void 0===ue?void 0:ue.id)?(0,Q.jsx)(I.rU,{to:"/q/".concat(null===le||void 0===le?void 0:le.authorUserName,"/profile"),onClick:ve,children:(0,Q.jsx)("img",{alt:"not found",src:"1"!==(null===le||void 0===le?void 0:le.authorPhotoId)?"".concat(A.yI,"/").concat(null===le||void 0===le?void 0:le.authorProfilePhoto):"/images/ins_default_profile.svg",className:"1"!==(null===le||void 0===le?void 0:le.authorPhotoId)?"":v})}):(0,Q.jsx)(I.rU,{to:"/q/".concat(null===le||void 0===le?void 0:le.authorUserName,"/profile"),onClick:()=>{ce(N.S.searchId({id:null===le||void 0===le?void 0:le.author}))},children:(0,Q.jsx)("img",{alt:"not found",src:"1"!==(null===le||void 0===le||null===(s=le.rePostAnswer)||void 0===s||null===(T=s.post)||void 0===T?void 0:T.authorPhotoId)?"".concat(A.yI,"/").concat(null===le||void 0===le||null===(Z=le.rePostAnswer)||void 0===Z||null===(E=Z.post)||void 0===E?void 0:E.authorProfilePhoto):"/images/ins_default_profile.svg",className:"1"!==(null===le||void 0===le||null===(D=le.rePostAnswer)||void 0===D||null===(B=D.post)||void 0===B?void 0:B.authorPhotoId)?"":v})})}),(0,Q.jsxs)("div",{className:u,children:[(null===le||void 0===le?void 0:le.author)===(null===ue||void 0===ue?void 0:ue.id)?(0,Q.jsx)(I.rU,{to:"/q/".concat(null===le||void 0===le?void 0:le.authorUserName,"/profile"),onClick:ve,children:(0,Q.jsx)("h6",{children:null===le||void 0===le?void 0:le.authorUserName})}):(0,Q.jsx)(I.rU,{to:"/q/".concat(null===le||void 0===le||null===(F=le.rePostAnswer)||void 0===F||null===($=F.post)||void 0===$?void 0:$.authorUserName,"/profile"),children:(0,Q.jsx)("h6",{children:null===le||void 0===le||null===(W=le.rePostAnswer)||void 0===W||null===(H=W.post)||void 0===H?void 0:H.authorUserName})}),(0,Q.jsx)("div",{className:c,style:{display:"flex",gap:"0.5vw",alignItems:"center"},children:(0,Q.jsx)("p",{children:(0,q.WU)(null===le||void 0===le||null===(z=le.rePostAnswer)||void 0===z||null===(J=z.post)||void 0===J?void 0:J.createdAt)})})]})]}),(0,Q.jsx)("img",{src:"/images/menu-dots-icon.svg",alt:"",className:m,onClick:()=>he((e=>!e))}),pe&&(0,Q.jsx)(P.Z,{closeMenu:ye,children:(0,Q.jsx)(U.Z,{setDotsClicked:he,options:null===ue||void 0===ue||null===(K=ue.repostQuestion)||void 0===K||null===(X=K.otherOption)||void 0===X?void 0:X.selectOptions,switchOption:Ne,pid:null===le||void 0===le||null===(Y=le.rePostAnswer)||void 0===Y||null===(ee=Y.post)||void 0===ee?void 0:ee._id,authorId:null===le||void 0===le?void 0:le.author,profilePost:null===ue||void 0===ue||null===(oe=ue.repostQuestion)||void 0===oe||null===(ie=oe.otherOption)||void 0===ie?void 0:ie.profilePost,status:null===le||void 0===le?void 0:le.postStatus,closeMenu:ye,allPosts:ae,popup:!1,postType:null===le||void 0===le?void 0:le.postType,reportType:(null===le||void 0===le?void 0:le.isInstitute)||(null===le||void 0===le?void 0:le.isUser)})}),(0,Q.jsx)("div",{className:h,children:(0,Q.jsx)("h5",{className:p,children:null===le||void 0===le||null===(ne=le.rePostAnswer)||void 0===ne||null===(te=ne.post)||void 0===te?void 0:te.postQuestion})}),(0,Q.jsxs)("div",{className:_,children:[(0,Q.jsxs)("div",{className:x,children:[(0,Q.jsxs)("p",{className:j,children:[null===le||void 0===le?void 0:le.needCount," ",me("needs_help")," "]}),(0,Q.jsxs)("p",{children:[null===le||void 0===le?void 0:le.commentCount," ",me("comments_")," | ",null===le||void 0===le?void 0:le.answerCount," ",me("Answers")]})]}),(0,Q.jsxs)("div",{className:g,children:[(0,Q.jsx)("div",{className:C,children:(0,Q.jsx)(k.Z,{answerIcon:f,needUser:null===le||void 0===le?void 0:le.needUser,pid:null===le||void 0===le?void 0:le._id,parentStyle:C})}),(0,Q.jsxs)("div",{className:C,onClick:we,children:[(0,Q.jsx)("img",{src:"/images/comment-icon.svg",alt:"commnt icon"}),(0,Q.jsx)("p",{children:me("comment")})]}),(0,Q.jsxs)("div",{className:C,onClick:Ie,children:[(0,Q.jsx)("img",{src:"/images/repeat.svg",alt:""}),(0,Q.jsx)("p",{children:me("answer")})]}),(0,Q.jsx)("div",{className:C,children:(0,Q.jsx)(S.Z,{endUserSave:null===le||void 0===le?void 0:le.endUserSave,pid:null===le||void 0===le?void 0:le._id,status:"yes",parentStyle:C})})]})]}),_e&&(0,Q.jsx)("div",{className:y,children:(0,Q.jsx)(R.Z,{pid:null===le||void 0===le?void 0:le._id,commentCount:null===le||void 0===le?void 0:le.commentCount,setCommentOpen:xe,commentOpen:_e})})]}),(0,Q.jsx)(b.Z,{pid:null===le||void 0===le?void 0:le._id})]})]})},F=e=>{var o,i,t,l,s,T,E,D,L,G,B,F,$,W,H,z,J,K,X,Y,ee,oe,ie,ne,te,le,se,de,ae,re,ve,ue,ce,me,pe,he,_e,xe;let{viewIns:je,setViewIns:ge,type:Ce,backHandler:fe}=e;const ye=(0,w.v9)((e=>e.idChange)),Ne=(0,w.I0)(),[we,Ie]=(0,n.useState)(!1),[Ae,qe]=(0,n.useState)(!1),[Pe,Ue]=(0,n.useState)(!1),[ke,Se]=(0,n.useState)(!1),{oneQuestion:Re,oneQuestionReftech:be}=(0,Z.GD)({pid:ye.repostQuestion.post,skip:!ye.repostQuestion.post});(0,n.useEffect)((()=>{ye.repostQuestion.post&&be()}),[ye.repostQuestion.post,be]),(0,n.useEffect)((()=>{var e;je||(null===(e=document.getElementById("scrollView"))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"}))}),[je,ye.repostQuestion.post]);const Oe=()=>{Ie(!1)},{t:Te}=(0,V.$G)(),Ze=(e,o)=>{Ne(N.S.searchId({id:e,type:"ID",searchAs:o})),fe()};return(0,Q.jsxs)(Q.Fragment,{children:[!je&&"question"===Ce&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)("section",{className:d,children:[(0,Q.jsxs)("div",{className:a,id:"scrollView",children:[(0,Q.jsx)("div",{className:r,children:(null===Re||void 0===Re||null===(o=Re.one_query)||void 0===o?void 0:o.author)===(null===ye||void 0===ye?void 0:ye.id)?(0,Q.jsx)(I.rU,{to:"/q/".concat(null===Re||void 0===Re||null===(i=Re.one_query)||void 0===i?void 0:i.authorUserName,"/profile"),onClick:fe,children:(0,Q.jsx)("img",{alt:"not found",src:"1"!==(null===Re||void 0===Re||null===(t=Re.one_query)||void 0===t?void 0:t.authorPhotoId)?"".concat(A.yI,"/").concat(null===Re||void 0===Re||null===(l=Re.one_query)||void 0===l?void 0:l.authorProfilePhoto):"/images/ins_default_profile.svg",className:"1"!==(null===Re||void 0===Re||null===(s=Re.one_query)||void 0===s?void 0:s.authorPhotoId)?"":v})}):(0,Q.jsx)(I.rU,{to:"/q/".concat(null===Re||void 0===Re||null===(T=Re.one_query)||void 0===T?void 0:T.authorUserName,"/profile"),onClick:()=>{var e,o,i;return Ze(null===Re||void 0===Re||null===(e=Re.one_query)||void 0===e?void 0:e.author,(null===Re||void 0===Re||null===(o=Re.one_query)||void 0===o?void 0:o.isInstitute)||(null===Re||void 0===Re||null===(i=Re.one_query)||void 0===i?void 0:i.isUser))},children:(0,Q.jsx)("img",{alt:"not found",src:"1"!==(null===Re||void 0===Re||null===(E=Re.one_query)||void 0===E?void 0:E.authorPhotoId)?"".concat(A.yI,"/").concat(null===Re||void 0===Re||null===(D=Re.one_query)||void 0===D?void 0:D.authorProfilePhoto):"/images/ins_default_profile.svg",className:"1"!==(null===Re||void 0===Re||null===(L=Re.one_query)||void 0===L?void 0:L.authorPhotoId)?"":v})})}),(0,Q.jsxs)("div",{className:u,children:[(null===Re||void 0===Re||null===(G=Re.one_query)||void 0===G?void 0:G.author)===(null===ye||void 0===ye?void 0:ye.id)?(0,Q.jsx)(I.rU,{to:"/q/".concat(null===Re||void 0===Re||null===(B=Re.one_query)||void 0===B?void 0:B.authorUserName,"/profile"),onClick:fe,children:(0,Q.jsx)("h6",{children:null===Re||void 0===Re||null===(F=Re.one_query)||void 0===F?void 0:F.authorUserName})}):(0,Q.jsx)(I.rU,{to:"/q/".concat(null===Re||void 0===Re||null===($=Re.one_query)||void 0===$?void 0:$.authorUserName,"/profile"),onClick:()=>{var e,o,i;return Ze(null===Re||void 0===Re||null===(e=Re.one_query)||void 0===e?void 0:e.author,(null===Re||void 0===Re||null===(o=Re.one_query)||void 0===o?void 0:o.isInstitute)||(null===Re||void 0===Re||null===(i=Re.one_query)||void 0===i?void 0:i.isUser))},children:(0,Q.jsx)("h6",{children:null===Re||void 0===Re||null===(W=Re.one_query)||void 0===W?void 0:W.authorUserName})}),(0,Q.jsx)("div",{className:c,style:{display:"flex",gap:"0.5vw",alignItems:"center"},children:(0,Q.jsx)("p",{children:(0,q.WU)(null===Re||void 0===Re||null===(H=Re.one_query)||void 0===H?void 0:H.createdAt)})})]})]}),(0,Q.jsx)("img",{src:"/images/menu-dots-icon.svg",alt:"",className:m,onClick:()=>Ie((e=>!e))}),we&&(0,Q.jsx)(P.Z,{closeMenu:Oe,children:(0,Q.jsx)(U.Z,{setDotsClicked:Ie,options:null===ye||void 0===ye||null===(z=ye.repostQuestion)||void 0===z||null===(J=z.otherOption)||void 0===J?void 0:J.selectOptions,switchOption:e=>{"Report"===(null===e||void 0===e?void 0:e.status)&&(Se(null===e||void 0===e?void 0:e.data),Ue(!0))},pid:null===Re||void 0===Re||null===(K=Re.one_query)||void 0===K?void 0:K._id,authorId:null===Re||void 0===Re||null===(X=Re.one_query)||void 0===X?void 0:X.author,profilePost:null===ye||void 0===ye||null===(Y=ye.repostQuestion)||void 0===Y||null===(ee=Y.otherOption)||void 0===ee?void 0:ee.profilePost,status:null===Re||void 0===Re||null===(oe=Re.one_query)||void 0===oe?void 0:oe.postStatus,closeMenu:Oe,allPosts:[],popup:!1,postType:null===Re||void 0===Re||null===(ie=Re.one_query)||void 0===ie?void 0:ie.postType,reportType:(null===Re||void 0===Re||null===(ne=Re.one_query)||void 0===ne?void 0:ne.isInstitute)||(null===Re||void 0===Re||null===(te=Re.one_query)||void 0===te?void 0:te.isUser)})}),(0,Q.jsx)("div",{className:h,children:(0,Q.jsx)("h5",{className:p,children:null===Re||void 0===Re||null===(le=Re.one_query)||void 0===le?void 0:le.postQuestion})}),(0,Q.jsxs)("div",{className:_,children:[(0,Q.jsxs)("div",{className:x,children:[(0,Q.jsxs)("p",{className:j,children:[null===Re||void 0===Re||null===(se=Re.one_query)||void 0===se?void 0:se.needCount," ",Te("needs_help")]}),(0,Q.jsxs)("p",{children:[null===Re||void 0===Re||null===(de=Re.one_query)||void 0===de?void 0:de.commentCount," ",Te("comments_")," |"," ",null===Re||void 0===Re||null===(ae=Re.one_query)||void 0===ae?void 0:ae.answerCount," ",Te("Answers")]})]}),(0,Q.jsxs)("div",{className:g,children:[(0,Q.jsx)("div",{className:C,children:(0,Q.jsx)(k.Z,{answerIcon:f,needUser:null===Re||void 0===Re||null===(re=Re.one_query)||void 0===re?void 0:re.needUser,pid:null===Re||void 0===Re||null===(ve=Re.one_query)||void 0===ve?void 0:ve._id,parentStyle:C})}),(0,Q.jsxs)("div",{className:C,onClick:()=>{qe((e=>!e)),ge(!1)},children:[(0,Q.jsx)("img",{src:"/images/comment-icon.svg",alt:""}),(0,Q.jsx)("p",{children:Te("comment")})]}),(0,Q.jsxs)("div",{className:C,onClick:()=>{qe(!1),ge((e=>!e))},children:[(0,Q.jsx)("img",{src:"/images/repeat.svg",alt:""}),(0,Q.jsx)("p",{children:Te("answer")})]}),(0,Q.jsx)("div",{className:C,children:(0,Q.jsx)(S.Z,{endUserSave:null===Re||void 0===Re||null===(ue=Re.one_query)||void 0===ue?void 0:ue.endUserSave,pid:null===Re||void 0===Re||null===(ce=Re.one_query)||void 0===ce?void 0:ce._id,status:"yes",parentStyle:C})})]})]}),Ae&&(0,Q.jsx)("div",{className:y,children:(0,Q.jsx)(R.Z,{pid:null===Re||void 0===Re||null===(me=Re.one_query)||void 0===me?void 0:me._id,commentCount:null===Re||void 0===Re||null===(pe=Re.one_query)||void 0===pe?void 0:pe.commentCount,setCommentOpen:qe,commentOpen:Ae})})]}),(0,Q.jsx)(b.Z,{pid:null===Re||void 0===Re||null===(he=Re.one_query)||void 0===he?void 0:he._id})]}),Pe&&(0,Q.jsx)(O.Z,{report:Pe,hideModal:e=>Ue(e),id:null===ye||void 0===ye?void 0:ye.id,reportId:ke}),je&&(0,Q.jsx)(M,{pid:null===Re||void 0===Re||null===(_e=Re.one_query)||void 0===_e?void 0:_e._id,setViewIns:ge,answerPostType:"notRepost",questionTitle:null===Re||void 0===Re||null===(xe=Re.one_query)||void 0===xe?void 0:xe.postQuestion})]})},$=()=>{var e,o,i,d,a,r,v,u,c,m,p;const h=(0,w.I0)(),{t:_}=(0,V.$G)(),x=(0,w.v9)((e=>e.idChange.repostQuestion)),j=(0,w.v9)((e=>e.postChange)),[g,C]=(0,n.useState)(null===x||void 0===x||null===(e=x.otherOption)||void 0===e?void 0:e.directAnswer);(0,n.useEffect)((()=>{var e;C(null===x||void 0===x||null===(e=x.otherOption)||void 0===e?void 0:e.directAnswer)}),[null===x||void 0===x||null===(o=x.otherOption)||void 0===o?void 0:o.directAnswer]);const f=()=>{h(N.S.openQuestionWithAnswer({repost:"post",post:"",type:"",otherOption:{},search:""}))};return(0,Q.jsxs)("div",{className:t,children:[!g&&(0,Q.jsx)("div",{className:l,children:(0,Q.jsxs)("div",{className:s,onClick:f,children:[(0,Q.jsx)("img",{src:"/images/back-icon.svg",alt:"back button"}),_("go_to_home")]})}),!(null!==x&&void 0!==x&&null!==(i=x.otherOption)&&void 0!==i&&i.profilePost)&&!(null!==x&&void 0!==x&&null!==(d=x.otherOption)&&void 0!==d&&d.question)&&(null===j||void 0===j||null===(a=j.dashboardPosts)||void 0===a?void 0:a.map((e=>(null===e||void 0===e?void 0:e._id)===(null===x||void 0===x?void 0:x.post)?(0,Q.jsx)(B,{post:e,viewIns:g,setViewIns:C,allPosts:null===j||void 0===j?void 0:j.dashboardPosts,type:x.type,backHandler:f},null===e||void 0===e?void 0:e._id):""))),!(null!==x&&void 0!==x&&null!==(r=x.otherOption)&&void 0!==r&&r.profilePost)&&(null===x||void 0===x||null===(v=x.otherOption)||void 0===v?void 0:v.question)&&(0,Q.jsx)(F,{pid:null===x||void 0===x?void 0:x.post,viewIns:g,setViewIns:C,type:x.type,backHandler:f}),"not search"===x.search?(null===x||void 0===x||null===(u=x.otherOption)||void 0===u?void 0:u.profilePost)&&(null===j||void 0===j||null===(c=j.profilePosts)||void 0===c?void 0:c.map((e=>(null===e||void 0===e?void 0:e._id)===(null===x||void 0===x?void 0:x.post)?(0,Q.jsx)(B,{post:e,viewIns:g,setViewIns:C,allPosts:null===j||void 0===j?void 0:j.profilePosts,type:x.type,backHandler:f},null===e||void 0===e?void 0:e._id):""))):(null===x||void 0===x||null===(m=x.otherOption)||void 0===m?void 0:m.profilePost)&&(null===j||void 0===j||null===(p=j.searchPosts)||void 0===p?void 0:p.map((e=>(null===e||void 0===e?void 0:e._id)===(null===x||void 0===x?void 0:x.post)?(0,Q.jsx)(B,{post:e,viewIns:g,setViewIns:C,allPosts:null===j||void 0===j?void 0:j.searchPosts,type:x.type,backHandler:f},null===e||void 0===e?void 0:e._id):"")))]})}},13688:(e,o,i)=>{i.d(o,{WU:()=>r});var n=["second","minute","hour","day","week","month","year"];var t=["\u79d2","\u5206\u949f","\u5c0f\u65f6","\u5929","\u5468","\u4e2a\u6708","\u5e74"];var l={},s=function(e,o){l[e]=o},d=[60,60,24,7,365/7/12,12];function a(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}var r=function(e,o,i){var n=function(e,o){return(+(o?a(o):new Date)-+a(e))/1e3}(e,i&&i.relativeDate);return function(e,o){for(var i=e<0?1:0,n=e=Math.abs(e),t=0;e>=d[t]&&t<d.length;t++)e/=d[t];return(e=Math.floor(e))>(0===(t*=2)?9:1)&&(t+=1),o(e,t,n)[i].replace("%s",e.toString())}(n,function(e){return l[e]||l.en_US}(o))};s("en_US",(function(e,o){if(0===o)return["just now","right now"];var i=n[Math.floor(o/2)];return e>1&&(i+="s"),[e+" "+i+" ago","in "+e+" "+i]})),s("zh_CN",(function(e,o){if(0===o)return["\u521a\u521a","\u7247\u523b\u540e"];var i=t[~~(o/2)];return[e+" "+i+"\u524d",e+" "+i+"\u540e"]}))},46807:(e,o,i)=>{i.d(o,{Z:()=>n});const n={avatar_image:"Avatar_avatar_image__orRwR",custom_avatar_container:"Avatar_custom_avatar_container__f4BAI",custom_avatar_one:"Avatar_custom_avatar_one__XYFtg",custom_avatar_content:"Avatar_custom_avatar_content__E1nUO"}}}]);
//# sourceMappingURL=39367.2a8f836a.chunk.js.map