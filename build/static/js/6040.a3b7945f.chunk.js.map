{"version":3,"file":"static/js/6040.a3b7945f.chunk.js","mappings":"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","sources":["webpack://mithkal-qviple/./src/Dashboard/InsDashboard/Modals/Master/CreateMaster.module.css?01f1","Dashboard/InsDashboard/Modals/Master/CreatMaster.jsx","Loader/LoaderButton.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"DModal\":\"CreateMaster_DModal__eSmTR\",\"title\":\"CreateMaster_title__V5f28\",\"input\":\"CreateMaster_input__l7PgE\",\"mid\":\"CreateMaster_mid__yea0d\",\"text\":\"CreateMaster_text__dpn-0\",\"btn\":\"CreateMaster_btn__8XDZ1\",\"notFound\":\"CreateMaster_notFound__+NoeL\",\"item\":\"CreateMaster_item__MjBgP\",\"select\":\"CreateMaster_select__fALoO\",\"tooltip\":\"CreateMaster_tooltip__5QFkl\",\"profileToolTip\":\"CreateMaster_profileToolTip__3jLRO\",\"triangle\":\"CreateMaster_triangle__y4H3p\",\"triangleDisplay\":\"CreateMaster_triangleDisplay__BUJ62\",\"profilelist\":\"CreateMaster_profilelist__Heo3E\",\"subject_tile_container\":\"CreateMaster_subject_tile_container__FaUtF\",\"subject_tile\":\"CreateMaster_subject_tile__DIwTq\",\"subject_tile_active\":\"CreateMaster_subject_tile_active__m7kBe\"};","import React, { useState } from \"react\";\nimport style from \"./CreateMaster.module.css\";\nimport { Dialog } from \"@mui/material\";\nimport { useTranslation } from \"react-i18next\";\nimport \"../AddDisplay.css\";\nimport {\n  useOneDepartmentAddClassMaster,\n  useOneDepartmentAddSubjectMaster,\n  useOneDepartmentAllClassMaster,\n  useOneDepartmentAllSubjectMaster,\n} from \"../../../../Department/Institute/Components/DepartmentApi/depart-api\";\nimport LoaderButton from \"../../../../Loader/LoaderButton\";\nimport StringLength from \"../../../../Custom/Validation/StringLength\";\nimport JoinFormInput from \"../../../../JoiningForm/Student/Form/JoinFormInput\";\n\nfunction CreateMaster({ departmentModal, hideModal, id, did }) {\n  const { t } = useTranslation();\n  const [master, setMaster] = useState(\"Standard/Grade/Level Master\");\n  const [disabled, setDisabled] = useState(false);\n  const [fillAllDetail, setFillAllDetail] = useState(\"\");\n  // const [subjectType, setSubjectType] = useState(\"Mandatory\");\n  const [subjectName, setSubjectName] = useState(\"\");\n  const [coCount, setCoCount] = useState(\"\");\n  const [coList, setCoList] = useState([]);\n  const switchMaster = (option) => {\n    setMaster(option);\n    setSubjectName(\"\");\n  };\n  // const switchSubjectType = (option) => {\n  //   setSubjectType(option);\n  // };\n\n  //for the subject Create\n  const [addSubjectMaster] = useOneDepartmentAddSubjectMaster();\n  const { allSubjectMasterRefetch } = useOneDepartmentAllSubjectMaster({\n    data: {\n      id: id,\n      did: did,\n    },\n    skip: !id,\n  });\n\n  //for the master create\n  const [addClassMaster] = useOneDepartmentAddClassMaster();\n  const { allClassMasterRefetch } = useOneDepartmentAllClassMaster({\n    data: {\n      id: id,\n      did: did,\n    },\n    skip: !id,\n  });\n\n  const masterSubmitHandler = () => {\n    if (master === \"Standard/Grade/Level Master\") {\n      if (subjectName) {\n        setDisabled(true);\n        addClassMaster({\n          className: { className: subjectName },\n          id: id,\n          did: did,\n        })\n          .then((res) => {\n            if (res?.data) {\n              hideModal(false);\n              setDisabled(false);\n              setSubjectName(\"\");\n              allClassMasterRefetch();\n            }\n          })\n          .catch({});\n      } else {\n        setFillAllDetail({ subjectName: \"* required\" });\n      }\n    } else if (master === \"Subject Master\") {\n      if (subjectName) {\n        setDisabled(true);\n        addSubjectMaster({\n          subject: {\n            subjectName: subjectName,\n            subjectType: \"Mandatory\",\n            co_attainment_count: coCount,\n            co_attainment_list: coList,\n            // subjectType: subjectType,\n          },\n          id: id,\n          did: did,\n        })\n          .then((res) => {\n            if (res?.data) {\n              hideModal(false);\n              setDisabled(false);\n              allSubjectMasterRefetch();\n              setSubjectName(\"\");\n            }\n          })\n          .catch({});\n      } else {\n        setFillAllDetail({ subjectName: \"* required\" });\n      }\n    } else {\n    }\n  };\n\n  const onCountChange = (e) => {\n    setCoCount(e.target.value);\n\n    let arr = [];\n    for (let i = 0; i < +e.target.value; i++) {\n      let obj = {\n        attainment_name: `CO${i + 1}`,\n        attainment_type: \"CO\",\n      };\n      arr.push(obj);\n    }\n    setCoList(arr);\n  };\n\n  const onCoInputChange = (e, index) => {\n    const inputarr = [...coList];\n    for (let inp = 0; inp < inputarr?.length; inp++) {\n      if (inp === index) {\n        inputarr[inp].attainment_name = e.target.value;\n      }\n    }\n    setCoList(inputarr);\n  };\n  return (\n    <Dialog open={departmentModal}>\n      <div className={style.DModal}>\n        <div className={style.title}>\n          <h5>{t(\"create_new_master\")}</h5>\n          <img\n            src=\"/images/close-post-icon.svg\"\n            onClick={() => hideModal(false)}\n            alt=\"\"\n          />\n        </div>\n        <div className={style.item}>\n          <h6>{t(\"create_master_header_1\")}</h6>\n          <section className={style.subject_tile_container}>\n            <div\n              className={\n                master === \"Standard/Grade/Level Master\"\n                  ? style.subject_tile_active\n                  : style.subject_tile\n              }\n              onClick={() => switchMaster(\"Standard/Grade/Level Master\")}\n            >\n              Standard/Grade/Level Master\n            </div>\n            <div\n              className={\n                master === \"Subject Master\"\n                  ? style.subject_tile_active\n                  : style.subject_tile\n              }\n              onClick={() => switchMaster(\"Subject Master\")}\n            >\n              Subject Master\n            </div>\n          </section>\n        </div>\n        <JoinFormInput\n          labelText={t(\"create_master_header_2\")}\n          placeholder={t(\"e.g. 6th Class/ FYJC\")}\n          name={\"subjectName\"}\n          value={subjectName}\n          type={\"text\"}\n          onChange={(e) => {\n            if (e.target.value?.length <= 40) {\n              setSubjectName(e.target.value);\n            }\n          }}\n          errorShow={fillAllDetail}\n        />\n        <StringLength maxLength={40} valueLength={subjectName} />\n        {master === \"Subject Master\" ? (\n          <>\n            <JoinFormInput\n              labelText={t(\"co_count\")}\n              placeholder={t(\"co_count_placeholder\")}\n              name={\"count\"}\n              value={coCount}\n              type={\"text\"}\n              onChange={onCountChange}\n            />\n\n            {coList?.map((co, index) => (\n              <JoinFormInput\n                key={index}\n                labelText={t(\"co_name\")}\n                placeholder={t(\"co_name_placeholder\")}\n                name={co[\"attainment_name\"]}\n                value={co[\"attainment_name\"]}\n                type={\"text\"}\n                onChange={(e) => onCoInputChange(e, index)}\n              />\n            ))}\n          </>\n        ) : null}\n\n        <button\n          className={style.btn}\n          onClick={masterSubmitHandler}\n          disabled={disabled}\n        >\n          <p>{t(\"create\")}</p>\n          {disabled && (\n            <div>\n              <LoaderButton />\n            </div>\n          )}\n        </button>\n      </div>\n    </Dialog>\n  );\n}\n\nexport default CreateMaster;\n","import React from \"react\";\nimport { Oval } from \"react-loader-spinner\";\nimport \"./LoaderButton.css\";\nconst LoaderButton = () => {\n  return (\n    <Oval\n      ariaLabel=\"loading-indicator\"\n      height={20}\n      width={20}\n      // strokeWidth={5}\n      color=\"white\"\n      secondaryColor=\"#1c023b\"\n    />\n  );\n};\n\nexport default LoaderButton;\n"],"names":["_ref","departmentModal","hideModal","id","did","t","useTranslation","_useState","useState","_useState2","_slicedToArray","master","setMaster","_useState3","_useState4","disabled","setDisabled","_useState5","_useState6","fillAllDetail","setFillAllDetail","_useState7","_useState8","subjectName","setSubjectName","_useState9","_useState10","coCount","setCoCount","_useState11","_useState12","coList","setCoList","switchMaster","option","_useOneDepartmentAddS","useOneDepartmentAddSubjectMaster","addSubjectMaster","allSubjectMasterRefetch","useOneDepartmentAllSubjectMaster","data","skip","_useOneDepartmentAddC","useOneDepartmentAddClassMaster","addClassMaster","allClassMasterRefetch","useOneDepartmentAllClassMaster","_jsx","Dialog","open","children","_jsxs","className","style","src","onClick","alt","JoinFormInput","labelText","placeholder","name","value","type","onChange","e","_e$target$value","target","length","errorShow","StringLength","maxLength","valueLength","_Fragment","arr","i","obj","attainment_name","concat","attainment_type","push","map","co","index","inputarr","_toConsumableArray","inp","onCoInputChange","then","res","catch","subject","subjectType","co_attainment_count","co_attainment_list","LoaderButton","Oval","ariaLabel","height","width","color","secondaryColor"],"sourceRoot":""}