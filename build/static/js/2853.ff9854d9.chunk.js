(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[2853],{63687:function(e,t,n){"use strict";var i=n(59393),o=n(80184);t.Z=function(e){var t=e.customStyle,n=e.children;return(0,o.jsx)("div",{className:i.Z.user_member_container_wrapper,style:t,children:n})}},52853:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return q}});var i=n(29439),o=n(56959),l=n(63687),a=n(21348),d=n(39230),s=n(90904),r=n(43504),c=n(16871),u=n(63162),v=n(98967),f=n(6758),m=n(72791),_=n(23441),p=n(91427),h=n(57588),x=n(1413),y=n(76697),g=n(97892),j=n.n(g),Z=n(82824),N=n(1095),b=n(98684),F=n(55336),S=n(37782),T=n(29017),k=n(69721),L=n(62732),M=n(80184),w=function(e){var t,o,l,a,s,u,v,_,p,h,g,w,D,Y,C,z,I,R,A,H,E,P,O,W,q,B,G,J=e.history,U=(0,d.$G)().t,K=(0,c.UO)(),$=(0,c.TH)(),V=(0,m.useState)(""),Q=(0,i.Z)(V,2),X=Q[0],ee=Q[1],te=(0,m.useState)(!1),ne=(0,i.Z)(te,2),ie=ne[0],oe=ne[1],le=(0,m.useState)(""),ae=(0,i.Z)(le,2),de=ae[0],se=ae[1],re=(0,m.useState)(""),ce=(0,i.Z)(re,2),ue=ce[0],ve=ce[1],fe=(0,m.useState)(""),me=(0,i.Z)(fe,2),_e=me[0],pe=me[1],he=(0,f.Nw)({rid:X,skip:!X}),xe=he.financeReceipt,ye=he.financeReceiptRefetch;(0,m.useEffect)((function(){X&&ye()}),[X,ye]),(0,m.useEffect)((function(){null!==xe&&void 0!==xe&&xe.receipt&&null!==xe&&void 0!==xe&&xe.all_remain&&se(xe)}),[xe]),(0,m.useEffect)((function(){if(de){var e,t=new Worker(new URL(n.p+n.u(9889),n.b));if("Hostel Application"===(null===de||void 0===de||null===(e=de.all_remain)||void 0===e?void 0:e.remaining_flow)){var i=(0,S.sp)(null===de||void 0===de?void 0:de.all_remain,null===de||void 0===de?void 0:de.receipt),o=i.institute,l=i.studentInfo,a=i.paymentReceiptInfo;t.postMessage({institute:o,studentInfo:l,paymentReceiptInfo:a,printReceiptType:"Refunded"===(null===a||void 0===a?void 0:a.transactonRefund)?"HOSTEL_REFUND":"HOSTEL"})}else{var d=(0,S.Hs)(null===de||void 0===de?void 0:de.all_remain,null===de||void 0===de?void 0:de.receipt),s=d.institute,r=d.studentInfo,c=d.paymentReceiptInfo;t.postMessage({institute:s,studentInfo:r,paymentReceiptInfo:c,printReceiptType:"Refunded"===(null===c||void 0===c?void 0:c.transactonRefund)?"ADMISSION_REFUND":"ADMISSION"})}t.onmessage=function(e){e&&(window.open(e.data,"_blank"),oe((function(e){return!e})),se(""),t.terminate())}}}),[de]);var ge=(0,T.H0)({rid:ue,skip:!ue}),je=ge.internalFeeReceipt,Ze=ge.internalFeeReceiptRefetch;(0,m.useEffect)((function(){ue&&Ze()}),[ue,Ze]),(0,m.useEffect)((function(){null!==je&&void 0!==je&&je.receipt&&null!==je&&void 0!==je&&je.one_account&&pe(je)}),[je]),(0,m.useEffect)((function(){if(_e){var e,t,n,i,o,l,a,d;oe((function(e){return!e}));var s=null===_e||void 0===_e?void 0:_e.one_account,r=null===_e||void 0===_e?void 0:_e.receipt,c=null!==r&&void 0!==r&&null!==(e=r.finance)&&void 0!==e&&null!==(t=e.institute)&&void 0!==t&&t.insProfilePhoto?"".concat(k.Yz,"/").concat(null===r||void 0===r||null===(n=r.finance)||void 0===n||null===(i=n.institute)||void 0===i?void 0:i.insProfilePhoto):"/images/certificate/logodemo.jpg",u=null!==r&&void 0!==r&&null!==(o=r.finance)&&void 0!==o&&null!==(l=o.institute)&&void 0!==l&&l.affliatedLogo?"".concat(k.Yz,"/").concat(null===r||void 0===r||null===(a=r.finance)||void 0===a||null===(d=a.institute)||void 0===d?void 0:d.affliatedLogo):"/images/certificate/logodemo.jpg";s&&r&&((0,L.Z)(s,r,c,u),oe(!1)),pe(""),window.location.reload()}}),[_e]);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{className:y.Z.sidebarheader,style:{gap:"1%"},title:"Income"===(null===J||void 0===J?void 0:J.payment_module_type)?"":"View Receipt",children:[(0,M.jsxs)("div",{className:y.Z.history_image_container,style:{width:"50%"},children:[null!==J&&void 0!==J&&null!==(t=J.payment_student)&&void 0!==t&&t.studentProfilePhoto?(0,M.jsx)(r.rU,{to:"/q/".concat(K.username,"/student/profile"),state:(0,x.Z)((0,x.Z)({},$.state),{},{sid:null===J||void 0===J||null===(o=J.payment_student)||void 0===o?void 0:o._id}),children:(0,M.jsx)("img",{src:"".concat(N.yI,"/").concat(null===J||void 0===J||null===(l=J.payment_student)||void 0===l?void 0:l.studentProfilePhoto),alt:"qr code",style:{width:"60px",height:"60px",borderRadius:"12px"}})}):null,(0,M.jsxs)("div",{className:y.Z.text,children:[(0,M.jsx)("p",{className:y.Z.rcv,children:U("recived_from")}),(0,M.jsx)("h6",{children:null!==J&&void 0!==J&&J.payment_student?"".concat(null!==(a=null===J||void 0===J||null===(s=J.payment_student)||void 0===s?void 0:s.studentFirstName)&&void 0!==a?a:""," ").concat(null!==(u=null===J||void 0===J||null===(v=J.payment_student)||void 0===v?void 0:v.studentMiddleName)&&void 0!==u?u:""," ").concat(null!==(_=null===J||void 0===J||null===(p=J.payment_student)||void 0===p?void 0:p.studentLastName)&&void 0!==_?_:""):null!==(h=null===J||void 0===J||null===(g=J.payment_by_end_user_id)||void 0===g?void 0:g.userLegalName)&&void 0!==h?h:null===J||void 0===J?void 0:J.payment_by_end_user_id_name}),(0,M.jsxs)("p",{className:y.Z.rcv,children:[U("gr_number")," ",null!==(w=null===J||void 0===J||null===(D=J.payment_student)||void 0===D?void 0:D.studentGRNO)&&void 0!==w?w:""]}),(0,M.jsx)("p",{className:y.Z.rcv,children:null!==(Y=null===J||void 0===J||null===(C=J.payment_student)||void 0===C||null===(z=C.fee_structure)||void 0===z?void 0:z.unique_structure_name)&&void 0!==Y?Y:""})]})]}),(0,M.jsxs)("div",{className:y.Z.text,style:{width:"27%"},children:[(0,M.jsx)("p",{className:y.Z.rcv,style:{width:"100%"},children:U("transaction_id")}),(0,M.jsx)("h6",{style:{width:"100%",wordWrap:"break-word"},children:null!==J&&void 0!==J&&J.razorpay_payment_id?null===J||void 0===J?void 0:J.razorpay_payment_id:null!==J&&void 0!==J&&null!==(I=J.fee_receipt)&&void 0!==I&&I.fee_utr_reference?null===J||void 0===J||null===(R=J.fee_receipt)||void 0===R?void 0:R.fee_utr_reference:"N/A"}),(0,M.jsxs)("p",{className:y.Z.rcv,style:{width:"100%"},children:[j()(null===J||void 0===J?void 0:J.created_at).format("DD MMM YYYY"),", ",(0,Z.J)(null===J||void 0===J?void 0:J.created_at,"LT")]})]}),(0,M.jsxs)("div",{className:y.Z.text,style:{width:"20%"},children:[(0,M.jsxs)("p",{className:y.Z.rcv,style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[U("invoice_no")," ",null!==(A=null!==(H=null===J||void 0===J||null===(E=J.fee_receipt)||void 0===E?void 0:E.invoice_count)&&void 0!==H?H:null===J||void 0===J?void 0:J.payment_invoice_number)&&void 0!==A?A:"N/A",(0,M.jsx)("img",{src:"".concat(b.J7,"/receipt.svg"),alt:"receipt icon",title:"Download Fees Receipt",onClick:function(){var e,t,n;"Admission"===(null===J||void 0===J?void 0:J.payment_module_type)||"Admission Fees"===(null===J||void 0===J?void 0:J.payment_module_type)||"Hostel"===(null===J||void 0===J?void 0:J.payment_module_type)||"Hostel Fees"===(null===J||void 0===J?void 0:J.payment_module_type)?function(){var e,t,n;null!==J&&void 0!==J&&null!==(e=J.fee_receipt)&&void 0!==e&&e._id&&(oe((function(e){return!e})),ee(null===J||void 0===J||null===(t=J.fee_receipt)||void 0===t?void 0:t._id),X===(null===J||void 0===J||null===(n=J.fee_receipt)||void 0===n?void 0:n._id)&&se(xe))}(null===J||void 0===J||null===(e=J.fee_receipt)||void 0===e||e._id):"Income"===(null===J||void 0===J?void 0:J.payment_module_type)||(n=null===J||void 0===J||null===(t=J.fee_receipt)||void 0===t?void 0:t._id)&&(oe((function(e){return!e})),ve(n))}})]}),(0,M.jsxs)("h6",{style:{width:"100%"},children:[U("rs_only")," ",null===J||void 0===J?void 0:J.payment_amount]}),(0,M.jsx)("p",{className:y.Z.rcv,style:{width:"100%"},children:"offline"===(null===(P=J.payment_mode)||void 0===P?void 0:P.toLowerCase())?null!==J&&void 0!==J&&null!==(O=J.fee_receipt)&&void 0!==O&&O.fee_payment_mode?"".concat(null===J||void 0===J||null===(W=J.fee_receipt)||void 0===W?void 0:W.fee_payment_mode):"Offline - No Receipt":"online"===(null===(q=J.payment_mode)||void 0===q?void 0:q.toLowerCase())?null!==J&&void 0!==J&&null!==(B=J.fee_receipt)&&void 0!==B&&B.fee_payment_mode?"".concat(null===J||void 0===J||null===(G=J.fee_receipt)||void 0===G?void 0:G.fee_payment_mode):"Online - No Receipt":null===J||void 0===J?void 0:J.payment_mode})]})]}),ie&&(0,M.jsx)(F.Z,{})]})},D=n(1669),Y=n(2651),C=function(e){var t,n,l,a=e.instituteId,s=(0,d.$G)().t,r=(0,m.useState)(""),c=(0,i.Z)(r,2),u=c[0],v=c[1],x=(0,m.useState)(1),y=(0,i.Z)(x,2),g=y[0],j=y[1],Z=(0,m.useState)(!0),N=(0,i.Z)(Z,2),S=N[0],T=N[1],k=(0,_.YD)({skip:u}),L=(0,i.Z)(k,2),C=L[0],z=L[1],I=(0,f.XN)({data:{uid:a,page:g,limit:10,search:u,filter:""},skip:!a}),R=I.financeAllTransaction,A=I.financeAllTransactionLoading;(0,m.useEffect)((function(){z&&S&&j((function(e){return e+1}))}),[z,S]),(0,m.useEffect)((function(){var e;if(null!==R&&void 0!==R&&null!==(e=R.list)&&void 0!==e&&e.length){var t,n=(0,p.f)(null===R||void 0===R||null===(t=R.list)||void 0===t?void 0:t.length);T((function(){return n}))}}),[null===R||void 0===R?void 0:R.list]);var H=(0,m.useCallback)((0,h.J)((function(e){j((function(){return 1})),v(e)}),1500),[]);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("div",{className:o.Z.fm_search_full,children:(0,M.jsx)("section",{className:o.Z.fm_search_full_container,children:(0,M.jsxs)("div",{className:o.Z.fm_search_full_container_inner,children:[(0,M.jsx)("img",{className:o.Z.fm_search_full_icon,alt:"search icon",src:"".concat(b.dB,"/navbar-search.svg")}),(0,M.jsx)("input",{type:"text",placeholder:s("search"),onChange:function(e){e.target.value?H(e.target.value):(j((function(){return 1})),v(""))}})]})})}),null===R||void 0===R||null===(t=R.list)||void 0===t?void 0:t.map((function(e,t){var n;return(null===R||void 0===R||null===(n=R.list)||void 0===n?void 0:n.length)===t+1?(0,M.jsx)("div",{ref:C,children:(0,M.jsx)(w,{history:e})},null===e||void 0===e?void 0:e._id):(0,M.jsx)(w,{history:e},null===e||void 0===e?void 0:e._id)})),A?u?(0,M.jsx)(F.Z,{}):(0,M.jsx)(D.Z,{}):u?0===(null===R||void 0===R||null===(n=R.list)||void 0===n?void 0:n.length)&&(0,M.jsx)(Y.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No receipts found related this search."}):0===(null===R||void 0===R||null===(l=R.list)||void 0===l?void 0:l.length)&&(0,M.jsx)(Y.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No receipts added."})]})},z=function(e){var t,n,i=e.repay,o=(0,d.$G)().t;return(0,M.jsxs)("div",{className:y.Z.settle_card,children:[(0,M.jsxs)("div",{className:y.Z.settle_card_container,children:[(0,M.jsx)("img",{src:"".concat(b.HN,"/qviple-logo.svg"),alt:"qviple logo",style:{width:"60px",height:"60px",borderRadius:"12px"}}),(0,M.jsx)("div",{className:y.Z.settle_card_text,children:(0,M.jsxs)("h6",{children:[o("settlement_date")," "," : ",null!==(t=null===i||void 0===i?void 0:i.db_file_date)&&void 0!==t?t:""]})})]}),(0,M.jsxs)("div",{className:y.Z.settle_card_text,style:{alignItems:"flex-end"},children:[null!==i&&void 0!==i&&i.db_file?(0,M.jsx)("a",{title:"Download File",href:"".concat(N.yI,"/").concat(null===i||void 0===i?void 0:i.db_file),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,M.jsx)("img",{src:"".concat(b.J7,"/xsxl.svg"),alt:"excel icon"})}):null,(0,M.jsxs)("h6",{children:[o("rs_only")," ",null!==(n=null===i||void 0===i?void 0:i.db_amount)&&void 0!==n?n:""]}),(0,M.jsxs)("p",{className:y.Z.settle_paragraph,children:[(0,Z.J)(null===i||void 0===i?void 0:i.db_created,"L"),", ",(0,Z.J)(null===i||void 0===i?void 0:i.db_created,"LT")]})]})]})},I=function(e){var t,n,l,a=e.fid,s=(0,d.$G)().t,r=(0,m.useState)(""),c=(0,i.Z)(r,2),u=c[0],v=c[1],x=(0,m.useState)(1),y=(0,i.Z)(x,2),g=y[0],j=y[1],Z=(0,m.useState)(!0),N=(0,i.Z)(Z,2),S=N[0],T=N[1],k=(0,_.YD)({skip:u}),L=(0,i.Z)(k,2),w=L[0],C=L[1],I=(0,f.IG)({data:{fid:a,page:g,limit:10,search:u},skip:!a}),R=I.financeDayBookPaymentList,A=I.financeDayBookPaymentListLoading;(0,m.useEffect)((function(){C&&S&&j((function(e){return e+1}))}),[C,S]),(0,m.useEffect)((function(){var e;if(null!==R&&void 0!==R&&null!==(e=R.list)&&void 0!==e&&e.length){var t,n=(0,p.f)(null===R||void 0===R||null===(t=R.list)||void 0===t?void 0:t.length);T((function(){return n}))}}),[null===R||void 0===R?void 0:R.list]);var H=(0,m.useCallback)((0,h.J)((function(e){j((function(){return 1})),v(e)}),1500),[]);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("div",{className:o.Z.fm_search_full,children:(0,M.jsx)("section",{className:o.Z.fm_search_full_container,children:(0,M.jsxs)("div",{className:o.Z.fm_search_full_container_inner,children:[(0,M.jsx)("img",{className:o.Z.fm_search_full_icon,alt:"search icon",src:"".concat(b.dB,"/navbar-search.svg")}),(0,M.jsx)("input",{type:"text",placeholder:s("search"),onChange:function(e){e.target.value?H(e.target.value):(j((function(){return 1})),v(""))}})]})})}),null===R||void 0===R||null===(t=R.list)||void 0===t?void 0:t.map((function(e,t){var n;return(null===R||void 0===R||null===(n=R.list)||void 0===n?void 0:n.length)===t+1?(0,M.jsx)("div",{ref:w,children:(0,M.jsx)(z,{repay:e})},null===e||void 0===e?void 0:e._id):(0,M.jsx)(z,{repay:e},null===e||void 0===e?void 0:e._id)})),A?u?(0,M.jsx)(F.Z,{}):(0,M.jsx)(D.Z,{}):u?0===(null===R||void 0===R||null===(n=R.list)||void 0===n?void 0:n.length)&&(0,M.jsx)(Y.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No payment found related this search."}):0===(null===R||void 0===R||null===(l=R.list)||void 0===l?void 0:l.length)&&(0,M.jsx)(Y.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No payment added."})]})},R=function(e){var t,n,i=e.repay,o=(0,d.$G)().t;return(0,M.jsxs)("div",{className:y.Z.settle_card,children:[(0,M.jsxs)("div",{className:y.Z.settle_card_container,children:[(0,M.jsx)("img",{src:"".concat(b.HN,"/qviple-logo.svg"),alt:"qviple logo",style:{width:"60px",height:"60px",borderRadius:"12px"}}),(0,M.jsx)("div",{className:y.Z.settle_card_text,children:(0,M.jsxs)("h6",{children:[o("settlement_date")," "," : ",null!==(t=null===i||void 0===i?void 0:i.db_file_date)&&void 0!==t?t:""]})})]}),(0,M.jsxs)("div",{className:y.Z.settle_card_text,style:{alignItems:"flex-end"},children:[null!==i&&void 0!==i&&i.db_file?(0,M.jsx)("a",{title:"Download File",href:"".concat(N.yI,"/").concat(null===i||void 0===i?void 0:i.db_file),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,M.jsx)("img",{src:"".concat(b.J7,"/xsxl.svg"),alt:"excel icon"})}):null,(0,M.jsxs)("h6",{children:[o("rs_only")," ",null!==(n=null===i||void 0===i?void 0:i.db_amount)&&void 0!==n?n:""]}),(0,M.jsxs)("p",{className:y.Z.settle_paragraph,children:[(0,Z.J)(null===i||void 0===i?void 0:i.db_created,"L"),", ",(0,Z.J)(null===i||void 0===i?void 0:i.db_created,"LT")]})]})]})},A=function(e){var t,n,l,a=e.fid,s=(0,d.$G)().t,r=(0,m.useState)(""),c=(0,i.Z)(r,2),u=c[0],v=c[1],x=(0,m.useState)(1),y=(0,i.Z)(x,2),g=y[0],j=y[1],Z=(0,m.useState)(!0),N=(0,i.Z)(Z,2),S=N[0],T=N[1],k=(0,_.YD)({skip:u}),L=(0,i.Z)(k,2),w=L[0],C=L[1],z=(0,f.VG)({data:{fid:a,page:g,limit:10,search:u},skip:!a}),I=z.financeDayBookReceiptList,A=z.financeDayBookReceiptListLoading;(0,m.useEffect)((function(){C&&S&&j((function(e){return e+1}))}),[C,S]),(0,m.useEffect)((function(){var e;if(null!==I&&void 0!==I&&null!==(e=I.list)&&void 0!==e&&e.length){var t,n=(0,p.f)(null===I||void 0===I||null===(t=I.list)||void 0===t?void 0:t.length);T((function(){return n}))}}),[null===I||void 0===I?void 0:I.list]);var H=(0,m.useCallback)((0,h.J)((function(e){j((function(){return 1})),v(e)}),1500),[]);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("div",{className:o.Z.fm_search_full,children:(0,M.jsx)("section",{className:o.Z.fm_search_full_container,children:(0,M.jsxs)("div",{className:o.Z.fm_search_full_container_inner,children:[(0,M.jsx)("img",{className:o.Z.fm_search_full_icon,alt:"search icon",src:"".concat(b.dB,"/navbar-search.svg")}),(0,M.jsx)("input",{type:"text",placeholder:s("search"),onChange:function(e){e.target.value?H(e.target.value):(j((function(){return 1})),v(""))}})]})})}),null===I||void 0===I||null===(t=I.list)||void 0===t?void 0:t.map((function(e,t){var n;return(null===I||void 0===I||null===(n=I.list)||void 0===n?void 0:n.length)===t+1?(0,M.jsx)("div",{ref:w,children:(0,M.jsx)(R,{repay:e})},null===e||void 0===e?void 0:e._id):(0,M.jsx)(R,{repay:e},null===e||void 0===e?void 0:e._id)})),A?u?(0,M.jsx)(F.Z,{}):(0,M.jsx)(D.Z,{}):u?0===(null===I||void 0===I||null===(n=I.list)||void 0===n?void 0:n.length)&&(0,M.jsx)(Y.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No receipts found related this search."}):0===(null===I||void 0===I||null===(l=I.list)||void 0===l?void 0:l.length)&&(0,M.jsx)(Y.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No receipts added."})]})},H=[{label:"receipts",id:"receipt",urlKey:""},{label:"payments",id:"payment",urlKey:"&t=payment"}],E=function(e){var t=e.fid,n=(0,r.lr)(),o=(0,i.Z)(n,1)[0],l=(0,c.TH)(),a=(0,c.UO)();return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(v.Z,{children:H.map((function(e){var t;return(0,M.jsx)(u.Z,{tab:e,isLink:!0,isActive:"receipt"===e.id&&!o.get("t")||o.get("t")===e.id,parentState:l.state,url:"Institute"===(null===(t=l.state)||void 0===t?void 0:t.urlOffSet)?"/q/".concat(a.username,"/institute/member/finance?type=history&n=day-book").concat(e.urlKey):"/q/".concat(a.username,"/member/staff/finance?type=history&n=day-book").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,M.jsx)(s.Z,{customStyleBorder:{marginTop:"0"}}),o.get("t")?"payment"===o.get("t")?(0,M.jsx)(I,{fid:t}):null:(0,M.jsx)(A,{fid:t})]})},P=(0,m.lazy)((function(){return n.e(7868).then(n.bind(n,77868))})),O=(0,m.lazy)((function(){return n.e(301).then(n.bind(n,30301))})),W=[{label:"receipts",id:"receipt",urlKey:""},{label:"payments",id:"payment",urlKey:"&n=payment"},{label:"settlement_history",id:"settlement",urlKey:"&n=settlement"},{label:"day_book",id:"day-book",urlKey:"&n=day-book"}],q=function(e){var t=e.fid,n=e.instituteId,f=(0,d.$G)().t,_=(0,r.lr)(),p=(0,i.Z)(_,1)[0],h=(0,c.TH)(),x=(0,c.UO)();return(0,M.jsxs)(l.Z,{children:[(0,M.jsx)(a.Z,{children:(0,M.jsx)("div",{className:o.Z.fm_header_container,children:(0,M.jsx)("h6",{children:f("transaction_history")})})}),(0,M.jsx)(s.Z,{}),(0,M.jsxs)(a.Z,{customStyle:{paddingTop:"0"},children:[(0,M.jsx)(v.Z,{children:W.map((function(e){var t;return(0,M.jsx)(u.Z,{tab:e,isLink:!0,isActive:"receipt"===e.id&&!p.get("n")||p.get("n")===e.id,parentState:h.state,url:"Institute"===(null===(t=h.state)||void 0===t?void 0:t.urlOffSet)?"/q/".concat(x.username,"/institute/member/finance?type=history").concat(e.urlKey):"/q/".concat(x.username,"/member/staff/finance?type=history").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,M.jsx)(s.Z,{customStyleBorder:{marginTop:"0"}})]}),(0,M.jsx)(a.Z,{customStyle:{paddingTop:"0"},children:(0,M.jsx)(m.Suspense,{fallback:(0,M.jsx)(F.Z,{}),children:"payment"===p.get("n")?(0,M.jsx)(O,{instituteId:n}):"settlement"===p.get("n")?(0,M.jsx)(P,{instituteId:n}):"day-book"===p.get("n")?(0,M.jsx)(E,{fid:t}):(0,M.jsx)(C,{instituteId:n})})})]})}},82824:function(e,t,n){"use strict";n.d(t,{J:function(){return d},Z:function(){return s}});var i=n(99893),o=n.n(i),l=n(97892),a=n.n(l),d=function(e,t){return a().extend(o()),a()(e).format(t)},s=function(e,t,n){var i;return a()()[e]("".concat(null===(i=a()(n))||void 0===i?void 0:i.format("YYYY-MM-DD")),t)}},62732:function(e,t,n){"use strict";var i=n(35125),o=n(72426),l=n.n(o),a=n(62906),d=n.n(a),s=new i.ZP({format:[270,210]}),r=s.internal.pageSize.getWidth();t.Z=function(e,t,n,i){var o,a,c,u,v,f,m,_,p,h,x,y,g,j,Z,N,b,F=arguments.length>4&&void 0!==arguments[4]&&arguments[4],S=null===t||void 0===t||null===(o=t.finance)||void 0===o?void 0:o.institute,T=null===t||void 0===t||null===(a=t.finance)||void 0===a?void 0:a.financeHead,k=null===t||void 0===t?void 0:t.student,L=null===t||void 0===t?void 0:t.internal_fees,M=null===t||void 0===t?void 0:t.order_history;s.addImage(n,"JPEG",9,3,25,25),s.addImage(i,"JPEG",r-34,2.4,25,25),s.setLineWidth(8),s.setDrawColor(255,255,255),s.circle(21.4,15,16),s.setLineWidth(0),s.setLineWidth(8),s.setDrawColor(255,255,255),s.circle(r-21.4,15,16),s.setLineWidth(0);var w=s.splitTextToSize(null===S||void 0===S?void 0:S.insName,146);if(s.setFont(void 0,"normal"),w.length>1){var D=10;s.setFont("700"),s.setTextColor(18,18,18),s.setFontSize(16),s.text(107,D,w,"center"),D=w.length+145}else{var Y=10;s.setFont("700"),s.setTextColor(18,18,18),s.setFontSize(18),s.text(107,Y,w,"center"),Y=w.length+145}s.setFont("Arial","normal","400"),s.setTextColor(18,18,18),s.setFontSize(10),s.text(r/2,w.length>1?23:19,null===S||void 0===S?void 0:S.insAddress,"center"),s.setFont("WorkSans"),s.setTextColor(18,18,18),s.setFontSize(10),s.text(r/2,w.length>1?29:25,"Mob No : ".concat(null===S||void 0===S?void 0:S.insPhoneNumber," , Mail: ").concat(null===S||void 0===S?void 0:S.insEmail),"center"),s.setFont("WorkSans"),s.setTextColor(0,0,0),s.setFontSize(18),s.text(r/2,37,"Fee Receipt","center"),s.setLineWidth(.7),s.setDrawColor(18,18,18),s.line(0,46,r,46),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(9,54,"Invoice No :"),s.setFont(void 0,"normal"),s.setTextColor(0,0,0),s.setFontSize(10),s.text(32,54,null===t||void 0===t?void 0:t.invoice_count),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(r-32,54,"Dated:",{align:"right"}),s.setFont(void 0,"normal"),s.setTextColor(0,0,0),s.setFontSize(10),s.text(r-12,54,l()(null===t||void 0===t?void 0:t.created_at).format("DD-MMM-YYYY"),{align:"right"}),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(9,61,"Purpose:"),s.setFont(void 0,"normal"),s.setTextColor(0,0,0),s.setFontSize(10),s.text(32,61,"".concat(null!==(c=null===L||void 0===L?void 0:L.internal_fee_reason)&&void 0!==c?c:"N/A")),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(9,68,"Amount: "),s.setFont(void 0,"normal"),s.setTextColor(0,0,0),s.setFontSize(10),s.text(32,68,"Rs. ".concat(null===t||void 0===t?void 0:t.fee_payment_amount)),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(11),s.text(9,97," ".concat(F?"Received Through: ":"Paid Through: ")),s.setFont(void 0,"normal"),s.text(44,97,"".concat(null===e||void 0===e?void 0:e.finance_bank_name,", ").concat(null===e||void 0===e?void 0:e.finance_bank_account_name,", A/c No:  ").concat(null===e||void 0===e?void 0:e.finance_bank_account_number)),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.text(9,107," On Account of: ");var C="Being money ".concat(F?"received":"paid"," by ").concat(null===t||void 0===t?void 0:t.fee_payment_mode,", Transaction ID: ").concat(null!==(u=null===M||void 0===M?void 0:M.razorpay_order_id)&&void 0!==u?u:"N/A"," ,  Dated: ").concat(l()(null===t||void 0===t?void 0:t.created_at).format("DD-MMM-YYYY"),"  for Rs. ").concat(null===t||void 0===t?void 0:t.fee_payment_amount,".").concat(F?"From":"To"," ","".concat(null!==(v=null===k||void 0===k?void 0:k.studentFirstName)&&void 0!==v?v:""," ").concat(null!==(f=null===k||void 0===k?void 0:k.studentMiddleName)&&void 0!==f?f:""," ").concat(null!==(m=null===k||void 0===k?void 0:k.studentLastName)&&void 0!==m?m:""," "),", towards ").concat(null!==(_=null===L||void 0===L?void 0:L.internal_fee_reason)&&void 0!==_?_:"N/A","."),z=s.splitTextToSize(C,r-20);if(z.length>1){var I=113;s.setFont(void 0,"normal"),s.setFontSize(11),s.setTextColor(18,18,18),s.text(10,I,z,"left"),I=z.length+151}else{var R=113;s.setFontSize(11),s.setFont(void 0,"normal"),s.setTextColor(18,18,18),s.setFontSize(12),s.text(10,R,z,"left"),R=z.length+151}var A,H,E,P;(s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(11),s.text(9,131,"Bank Transaction Details: "),s.setFont(void 0,"normal"),s.text(9,138,"Payment Mode:  ".concat(null===t||void 0===t?void 0:t.fee_payment_mode)),null!==M&&void 0!==M&&M.razorpay_order_id)?s.text(9,144,"Transaction ID: ".concat(null!==(A=null===M||void 0===M?void 0:M.razorpay_order_id)&&void 0!==A?A:"N/A")):(s.text(9,144,"Bank Name: ".concat(null!==(H=null===e||void 0===e?void 0:e.fee_bank_name)&&void 0!==H?H:"N/A")),s.text(9,150,"Bank Holder Name: ".concat(null!==(E=null===e||void 0===e?void 0:e.finance_bank_account_name)&&void 0!==E?E:"N/A")),s.text(9,156,"UTR / Ref No.: ".concat(null!==(P=null===e||void 0===e?void 0:e.fee_utr_reference)&&void 0!==P?P:"N/A")),s.text(9,162,"Date: ".concat(l()(null===t||void 0===t?void 0:t.created_at).format("DD-MMM-YYYY"))),s.text(9,168,"Amount: ".concat(null===t||void 0===t?void 0:t.fee_payment_amount)),s.text(9,174,"Amount in Words: ".concat((d().toWords(t.fee_payment_amount.toString()).match(/[a-zA-Z0-9]+/g)||[]).map((function(e){return"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))})).join(" ")," only.")));s.setFontSize(9),s.text(40,240,"".concat(T.staffFirstName," ").concat(null!==(p=T.staffMiddleName)&&void 0!==p?p:""," ").concat(T.staffLastName),{align:"center"}),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(40,245,"Finance Manager",{align:"center"}),s.setFont(void 0,"normal"),s.setFontSize(9),s.text(153,240,"".concat(null!==(h=null===S||void 0===S||null===(x=S.displayPersonList)||void 0===x||null===(y=x[0])||void 0===y||null===(g=y.displayUser)||void 0===g?void 0:g.userLegalName)&&void 0!==h?h:"N/A"),{align:"center"}),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(153,245,"".concat(null!==(j=null===S||void 0===S||null===(Z=S.displayPersonList)||void 0===Z||null===(N=Z[0])||void 0===N?void 0:N.displayTitle)&&void 0!==j?j:"N/A"),{align:"center"}),s.setTextColor(0,0,255),s.setFontSize(7),s.text(r-20,243,"Online Automated",null,50),s.text(r-18,244,"Generated fee receipt",null,50),s.text(r-14,246,"Through Qviple",null,50),s.setLineWidth(.2),s.setDrawColor(18,18,18),s.line(0,251,r,251),s.setTextColor(18,18,18),s.setFontSize(8),s.setFont(void 0,"normal"),s.text(r/2,259,"Note : No one except one who is making this certificate should interfere with any details of this invoice, othewise students will be expelled and legal action will be taken.","center"),window.open(s.output("bloburl",{filename:"".concat(null===k||void 0===k?void 0:k.studentFirstName," ").concat(null!==(b=null===k||void 0===k?void 0:k.studentMiddleName)&&void 0!==b?b:""," ").concat(null===k||void 0===k?void 0:k.studentLastName," -Internal Fee Receipt.pdf")}),"_blank")}},99893:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,n,i){var o=n.prototype,l=o.format;i.en.formats=e,o.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var n=this.$locale().formats,i=function(t,n){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,i,o){var l=o&&o.toUpperCase();return i||n[o]||e[o]||n[l].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))}(t,void 0===n?{}:n);return l.call(this,i)}}}()},76697:function(e,t){"use strict";t.Z={settle_card:"TransactionHistory_settle_card__WjSwI",settle_card_container:"TransactionHistory_settle_card_container__EIw4W",settle_card_text:"TransactionHistory_settle_card_text__3j20S",settle_paragraph:"TransactionHistory_settle_paragraph__x3Ovt",sidebarheader:"TransactionHistory_sidebarheader__oEDm9",history_image_container:"TransactionHistory_history_image_container__ZBhq9",text:"TransactionHistory_text__yimnr",rcv:"TransactionHistory_rcv__kuGgZ"}}}]);
//# sourceMappingURL=2853.ff9854d9.chunk.js.map