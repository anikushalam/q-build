"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[68190],{68190:(e,a,l)=>{l.r(a),l.d(a,{default:()=>b});var s=l(39230),i=l(72791),t=l(23441),c=l(98684),d=l(56959),n=l(90904),r=l(21348),o=l(77302),h=l(91427),v=l(57588),u=l(2651),m=l(55336),_=l(1669),x=l(9228),f=l(89064),j=l(80184);const g=e=>{let{onClose:a,menuData:l,did:t}=e;const{t:c}=(0,s.$G)(),[d,n]=(0,i.useState)(!1),[r]=(0,o.vh)(),{instituteDepartmentDashboardRefetch:h}=(0,o.Id)({data:{did:t},skip:!t});return console.info("Asfdsfg",l),(0,j.jsx)(f.Z,{onClose:a,disabled:d,children:(0,j.jsx)("h6",{onClick:()=>{var e,s;null!==l&&void 0!==l&&null!==(e=l.u_batch)&&void 0!==e&&e._id&&t&&(n((e=>!e)),r({bid:null===l||void 0===l||null===(s=l.u_batch)||void 0===s?void 0:s._id,did:t}).then((()=>{h(),n((e=>!e)),a()})).catch({}))},children:c("select_batch")})})},p=e=>{var a,l,s;let{batch:t,did:d,selectBatchId:n}=e;const[r,o]=(0,i.useState)("");return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:n===(null===t||void 0===t||null===(a=t.u_batch)||void 0===a?void 0:a._id)?"".concat(x.Z.iadcc_card_hover," ").concat(x.Z.sf_card_active):x.Z.iadcc_card_hover,children:[(0,j.jsxs)("div",{className:x.Z.sf_card_contatiner,children:[(0,j.jsx)("img",{src:"".concat(c.J7,"/batch.svg"),loading:"lazy",alt:"avatar",style:{borderRadius:"0",height:"2rem",width:"2rem"}}),(0,j.jsx)("div",{className:x.Z.sf_card_contatiner_inner,children:(0,j.jsx)("h6",{children:null!==(l=null===t||void 0===t||null===(s=t.u_batch)||void 0===s?void 0:s.batchName)&&void 0!==l?l:""})})]}),(0,j.jsx)("img",{src:"".concat(c.J7,"/menu.svg"),alt:"menu icon",onClick:()=>{o(t)}})]}),r&&(0,j.jsx)(g,{onClose:()=>{o("")},menuData:r,did:d})]})},b=e=>{var a,l,x;let{did:f,openAs:g,selectBatchId:b}=e;const{t:Z}=(0,s.$G)(),[N,k]=(0,i.useState)(""),[C,B]=(0,i.useState)(1),[D,A]=(0,i.useState)(!0),[S,y]=(0,t.YD)({skip:N}),{academicDepartmentAllBatch:E,academicDepartmentAllBatchLoading:I}=(0,o.cm)({data:{did:f,page:C,limit:10,search:N},skip:!f});(0,i.useEffect)((()=>{y&&D&&B((e=>e+1))}),[y,D]),(0,i.useEffect)((()=>{var e;if(null!==E&&void 0!==E&&null!==(e=E.list)&&void 0!==e&&e.length){var a;let e=(0,h.f)(null===E||void 0===E||null===(a=E.list)||void 0===a?void 0:a.length);A((()=>e))}}),[null===E||void 0===E?void 0:E.list]);const w=(0,i.useCallback)((0,v.J)((e=>{B((()=>1)),k(e)}),1500),[]),J=e=>{e.target.value?w(e.target.value):(B((()=>1)),k(""))};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.default,{children:"DEPARTMENT_HEAD"===g?(0,j.jsxs)("div",{className:d.Z.fm_header_container,children:[(0,j.jsx)("h6",{children:Z("batches")}),(0,j.jsx)("div",{className:d.Z.fm_search,children:(0,j.jsx)("section",{className:d.Z.fm_search_container,children:(0,j.jsxs)("div",{className:d.Z.fm_search_container_inner,children:[(0,j.jsx)("img",{className:d.Z.fm_search_icon,alt:"search icon",src:"".concat(c.dB,"/navbar-search.svg")}),(0,j.jsx)("input",{type:"text",placeholder:Z("search"),onChange:J})]})})})]}):(0,j.jsx)("div",{className:d.Z.fm_search_full,children:(0,j.jsx)("section",{className:d.Z.fm_search_full_container,children:(0,j.jsxs)("div",{className:d.Z.fm_search_full_container_inner,children:[(0,j.jsx)("img",{className:d.Z.fm_search_full_icon,alt:"search icon",src:"".concat(c.dB,"/navbar-search.svg")}),(0,j.jsx)("input",{type:"text",placeholder:Z("search"),onChange:J})]})})})}),(0,j.jsx)(n.Z,{}),(0,j.jsxs)(r.default,{customStyle:{paddingTop:"0.3rem",paddingBottom:"1rem"},children:[null===E||void 0===E||null===(a=E.list)||void 0===a?void 0:a.map(((e,a)=>{var l;return(null===E||void 0===E||null===(l=E.list)||void 0===l?void 0:l.length)===a+1?(0,j.jsx)("div",{ref:S,children:(0,j.jsx)(p,{batch:e,did:f,selectBatchId:b})},null===e||void 0===e?void 0:e._id):(0,j.jsx)(p,{batch:e,did:f,selectBatchId:b},null===e||void 0===e?void 0:e._id)})),I?N?(0,j.jsx)(m.default,{}):(0,j.jsx)(_.Z,{}):N?0===(null===E||void 0===E||null===(l=E.list)||void 0===l?void 0:l.length)&&(0,j.jsx)(u.Z,{title:"No batch found related this search."}):0===(null===E||void 0===E||null===(x=E.list)||void 0===x?void 0:x.length)&&(0,j.jsx)(u.Z,{title:"No batch."})]})]})}}}]);
//# sourceMappingURL=68190.58feb093.chunk.js.map