"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[85060],{57431:(e,t,l)=>{l.d(t,{Z:()=>n});l(72791);var o=l(80272),s=l(80184);const n=e=>{var t;let{valueLength:l,maxLength:n,customStyle:a}=e;return(0,s.jsxs)("section",{style:{...a},className:o.Z.string_container,children:[null!==(t=null===l||void 0===l?void 0:l.length)&&void 0!==t?t:0,"/",n]})}},91022:(e,t,l)=>{l.d(t,{Z:()=>i});var o=l(72791),s=l(39230),n=l(38733),a=l(80184);const i=e=>{let{selectLabel:t,value:l,onClick:i,selectedValue:d,options:r,errorShow:c,customStyleContainer:_,customLabelStyle:u,customListStyle:v,openAs:m,viewAs:h}=e;const{t:p}=(0,s.$G)(),[g,x]=(0,o.useState)(!1),f=()=>{"REFUND"===m||"BACKLOG"===m||"FINANCE_MANAGER"===h||x((e=>!e))};return(0,a.jsxs)("div",{className:n.Z.join_form_container,style:{..._},children:[(0,a.jsxs)("p",{className:n.Z.join_form_select_paragraph,style:{...u},children:[t," ",c&&(0,a.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",p("form_require_label")]})]}),(0,a.jsxs)("section",{className:n.Z.join_form_select_custom,onClick:f,children:[l?(0,a.jsx)("p",{className:n.Z.join_form_select_custom_paragraph,children:null!==l&&void 0!==l?l:""}):(0,a.jsx)("p",{className:n.Z.join_form_select_custom_paragraph,children:d}),(0,a.jsx)("img",{className:n.Z.join_form_select_custom_icon,src:"/images/down-icon.svg",alt:"categor icon"})]}),g&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("section",{className:n.Z.join_form_select_custom_list,style:v?{...v}:(null===r||void 0===r?void 0:r.length)>2?{overflowY:"scroll"}:{backgroundColor:"#ffffff"},children:[(0,a.jsx)("p",{className:n.Z.join_form_select_custom_paragraph_option,onClick:f,children:d}),null===r||void 0===r?void 0:r.map(((e,t)=>(0,a.jsx)("p",{onClick:()=>(i(e),void f()),className:n.Z.join_form_select_custom_paragraph_option,children:e},t)))]})})]})}},47167:(e,t,l)=>{l.d(t,{Z:()=>d});l(72791);var o=l(16871),s=l(43504),n=l(23769),a=l(45639),i=l(80184);const d=e=>{let{tabList:t,activeIndexTab:l,setActiveIndexTab:d,customStyleTab:r,carryParentState:c,showAs:_,customStyleLink:u}=e;const v=(0,o.UO)();return(0,i.jsx)("div",{className:a.Z.universal_container,children:_?null===t||void 0===t?void 0:t.map(((e,t)=>"disabled"===(null===e||void 0===e?void 0:e.is_active)?(0,i.jsx)("div",{className:l===(null===e||void 0===e?void 0:e.id)?"".concat(a.Z.universal_container_item," ").concat(a.Z.universal_container_item_active):a.Z.universal_container_item,style:{...u,opacity:"0.5"},children:(0,i.jsx)(n.Z,{children:null===e||void 0===e?void 0:e.name})},t):(0,i.jsx)(s.rU,{to:"/q/".concat(v.username,"/").concat(null===e||void 0===e?void 0:e.url),state:{...c},style:{...u},children:(0,i.jsx)("div",{className:l===(null===e||void 0===e?void 0:e.id)?"".concat(a.Z.universal_container_item," ").concat(a.Z.universal_container_item_active):a.Z.universal_container_item,style:{...r},children:(0,i.jsx)(n.Z,{children:null===e||void 0===e?void 0:e.name})})},t))):null===t||void 0===t?void 0:t.map(((e,t)=>(0,i.jsx)("div",{className:l===(null===e||void 0===e?void 0:e.id)?"".concat(a.Z.universal_container_item," ").concat(a.Z.universal_container_item_active):a.Z.universal_container_item,onClick:()=>d(null===e||void 0===e?void 0:e.id),style:{...r},children:(0,i.jsx)(n.Z,{children:null===e||void 0===e?void 0:e.name})},t)))})}},23769:(e,t,l)=>{l.d(t,{Z:()=>n});var o=l(72791),s=l(80184);const n=function(e){let{children:t,onclick:l}=e;const[n,a]=(0,o.useState)(!1),[i,d]=(0,o.useState)({x:-1,y:-1});return(0,o.useEffect)((()=>{-1!==i.x&&-1!==i.y?(a(!0),setTimeout((()=>a(!1)),1e3)):a(!1)}),[i]),(0,o.useEffect)((()=>{n||d({x:-1,y:-1})}),[n]),(0,s.jsxs)("div",{className:"ripple_btn",onClick:e=>{d({x:e.clientX-e.target.offsetLeft,y:e.clientY-e.target.offsetTop}),l&&l(e)},children:[n?(0,s.jsx)("span",{className:"ripple"}):"",(0,s.jsx)("span",{className:"content",children:t})]})}},74522:(e,t,l)=>{l.d(t,{Z:()=>P});var o=l(72791),s=l(33148),n=l(39230),a=l(74067),i=l(74289),d=l(11105),r=l(24582),c=l(41233),_=l(98094),u=l(36665),v=l(69721),m=l(80184);const h=e=>{var t,l,o,a,i,d,r,c;let{onSelectStudent:_,stu:u,promoteData:h}=e;const{t:p}=(0,n.$G)();return(0,m.jsx)("div",{className:null!==h&&void 0!==h&&null!==(t=h.students)&&void 0!==t&&t.includes(null===u||void 0===u?void 0:u._id)?" ".concat(s.Z.promote_student_card," ").concat(s.Z.promote_student_cardActive):s.Z.promote_student_card,onClick:()=>_(null===u||void 0===u?void 0:u._id),style:{width:"100%"},children:(0,m.jsxs)("div",{className:s.Z.promote_student_card_text,style:{width:"100%"},children:[(0,m.jsx)("img",{alt:"",src:null!==u&&void 0!==u&&u.studentProfilePhoto?"".concat(v.yI,"/").concat(null===u||void 0===u?void 0:u.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,m.jsxs)("div",{className:s.Z.promote_student_check_container,children:[(0,m.jsxs)("div",{className:s.Z.promote_student_name,children:[(0,m.jsxs)("p",{children:[null===u||void 0===u?void 0:u.studentFirstName," ",null!==u&&void 0!==u&&u.studentMiddleName?null===u||void 0===u?void 0:u.studentMiddleName:" "," ",null===u||void 0===u?void 0:u.studentLastName]}),(0,m.jsxs)("p",{children:[p("gr_number"),null===u||void 0===u?void 0:u.studentGRNO]})]}),(0,m.jsxs)("div",{className:s.Z.promote_student_check,children:[(0,m.jsxs)("div",{className:s.Z.promote_student_name,children:[null!==u&&void 0!==u&&null!==(l=u.fee_structure)&&void 0!==l&&l.applicable_fees?(0,m.jsxs)("p",{children:[p("applicable_fees_only")," ",p("rs"),".",null!==(o=null===u||void 0===u||null===(a=u.fee_structure)||void 0===a?void 0:a.applicable_fees)&&void 0!==o?o:0]}):"",(0,m.jsxs)("p",{children:[p("paid_fees")," ",": ",p("rs"),".",null!==(i=null===u||void 0===u||null===(d=u.remainingFeeList)||void 0===d||null===(r=d[0])||void 0===r?void 0:r.paid_fee)&&void 0!==i?i:0]})]}),(0,m.jsx)("div",{className:s.Z.promote_student_name,children:null!==h&&void 0!==h&&null!==(c=h.students)&&void 0!==c&&c.includes(null===u||void 0===u?void 0:u._id)?(0,m.jsx)("img",{className:s.Z.department_checkbox,src:"/images/checkbox-icon.svg",alt:"icon"}):(0,m.jsx)("img",{className:s.Z.department_checkbox,src:"/images/box-icon.svg",alt:"icon"})})]})]})]})})};var p=l(98734),g=l(15961);const x=e=>{let{isWrapper:t,onClose:l,title:o,firstMessage:s,spanMessage:n,outerSpanMessage:a,lastMessage:i,buttonLabel:d,onHandler:r,buttonStyle:c,messageStyle:v}=e;return(0,m.jsx)(m.Fragment,{children:t?(0,m.jsx)(u.Z,{onClose:l,children:(0,m.jsxs)("div",{className:g.Z.admission_modal,children:[(0,m.jsx)("h6",{className:g.Z.admission_modal_heading,children:o}),(0,m.jsx)(_.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),(0,m.jsxs)("div",{className:g.Z.admission_class_confirm,style:v,children:[s," ",(0,m.jsx)("span",{style:{fontWeight:"600"},children:n})," ",a,(0,m.jsx)("span",{style:{fontWeight:"600"},children:i})]}),(0,m.jsx)("div",{className:g.Z.confirm_btn,onClick:r,style:c,children:d})]})}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h6",{className:g.Z.admission_modal_heading,children:o}),(0,m.jsx)(_.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),(0,m.jsxs)("div",{className:g.Z.admission_class_confirm,style:v,children:[s," ",(0,m.jsx)("span",{style:{fontWeight:"600"},children:n})," ",a,(0,m.jsx)("span",{style:{fontWeight:"600"},children:i})]}),(0,m.jsx)("div",{className:g.Z.confirm_btn,onClick:r,style:c,children:d})]})})},f=e=>{var t,l,a,c,u,v;let{classId:g,promoteData:f,setPromoteData:j,onClose:S,onRefetchParent:y}=e;const{t:b}=(0,n.$G)(),[N,Z]=(0,o.useState)(!0),[P,C]=(0,o.useState)([]),[k,w]=(0,o.useState)(!1),[I,T]=(0,o.useState)(!1),[L,U]=(0,o.useState)(!1),[A]=(0,r.Ed)(),{getNotPromoteStudentByPromote:E,getNotPromoteStudentByPromoteRefetch:R}=(0,i._3)({data:{cid:g,valid_app_fee:"Yes"===(null===f||void 0===f?void 0:f.applicable_with_fees)?"Yes":"No",is_backlog:null===f||void 0===f?void 0:f.is_backlog},skip:!g});(0,o.useEffect)((()=>{g&&(Z(!0),R())}),[g,R]),(0,o.useEffect)((()=>{var e,t;(null!==E&&void 0!==E&&E.notPromoteStudent||0===(null===E||void 0===E||null===(e=E.notPromoteStudent)||void 0===e?void 0:e.length))&&(C(null!==(t=null===E||void 0===E?void 0:E.notPromoteStudent)&&void 0!==t?t:[]),Z(!1))}),[null===E||void 0===E?void 0:E.notPromoteStudent]);const M=e=>{var t;null!==f&&void 0!==f&&null!==(t=f.students)&&void 0!==t&&t.includes(e)?j((t=>{var l;return{...t,students:null===(l=t.students)||void 0===l?void 0:l.filter((t=>t!==e))}})):j((t=>({...t,students:t.students?[...t.students,e]:[e]})))};return(0,m.jsx)(m.Fragment,{children:I?(0,m.jsx)(x,{onClose:()=>T(!1),title:b("promote_select_student"),firstMessage:"".concat(b("promote")," "),spanMessage:null===f||void 0===f||null===(t=f.students)||void 0===t?void 0:t.length,outerSpanMessage:"".concat(b("students")," , ").concat(b("to")," "),lastMessage:"".concat(null===f||void 0===f||null===(l=f.classId)||void 0===l?void 0:l.classTitle,", ").concat(null===f||void 0===f||null===(a=f.batchId)||void 0===a?void 0:a.batchName,", ").concat(null===f||void 0===f||null===(c=f.departmentId)||void 0===c?void 0:c.dName),buttonLabel:b("confirm"),onHandler:()=>{var e,t,l;g&&(T(!1),w((e=>!e)),A({cid:g,promote:{applicable_with_fees:null===f||void 0===f?void 0:f.applicable_with_fees,departmentId:null===f||void 0===f||null===(e=f.departmentId)||void 0===e?void 0:e._id,batchId:null===f||void 0===f||null===(t=f.batchId)||void 0===t?void 0:t._id,classId:null===f||void 0===f||null===(l=f.classId)||void 0===l?void 0:l._id,students:null===f||void 0===f?void 0:f.students},flow:"Yes"===(null===f||void 0===f?void 0:f.promot_with_fees)?"WITH_STRUCTURE":"WITH_OUT_STRUCTURE",re_ads:"Yes"===(null===f||void 0===f?void 0:f.re_ads)?"WITH_RE_ADMISSION":"No"}).then((()=>{R(),y(),S(),w((e=>!e))})).catch({}))},messageStyle:{marginTop:"3.7rem"},buttonStyle:{marginTop:"5.7rem"}}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:s.Z.select_header,children:[(0,m.jsxs)("h6",{children:[(null===f||void 0===f||null===(u=f.students)||void 0===u?void 0:u.length)>0?"".concat(null===f||void 0===f||null===(v=f.students)||void 0===v?void 0:v.length," "):"",b("select_student")]}),(0,m.jsxs)("div",{children:[L?(0,m.jsx)("button",{className:s.Z.select_all_btn,title:"Remove All Student",onClick:()=>{j((e=>({...e,students:[]}))),U(!1)},style:{marginRight:"0.7rem"},children:b("remove_all")}):(0,m.jsx)("button",{className:s.Z.select_all_btn,title:"Select All Student",onClick:()=>{let e=[];for(let t of P)e.push(null===t||void 0===t?void 0:t._id);j((t=>({...t,students:e}))),U(!0)},style:{marginRight:"0.7rem"},children:b("select_all")}),(0,m.jsx)("button",{className:s.Z.promote_all_btn,title:"Promote Selected Student",onClick:()=>{var e;return(null===f||void 0===f||null===(e=f.students)||void 0===e?void 0:e.length)>0?T(!0):null},children:b("promote")})]})]}),(0,m.jsx)(_.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),(0,m.jsx)("div",{className:s.Z.with_search,style:{marginTop:"1rem",width:"100%",border:"0.4px solid rgba(0, 0, 0, 0.15)",borderRadius:"6px",marginBottom:"0.3rem"},children:(0,m.jsxs)("div",{className:s.Z.search_container_input,style:{width:"100%"},children:[(0,m.jsx)("img",{className:s.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,m.jsx)("input",{type:"text",placeholder:"Search Student...",style:{width:"100%"},onChange:e=>{if(e.target.value){var t;const l=null===E||void 0===E||null===(t=E.notPromoteStudent)||void 0===t?void 0:t.filter((t=>{var l,o,s;return null!==(l="".concat(null===t||void 0===t?void 0:t.studentFirstName," ").concat(null!==t&&void 0!==t&&t.studentMiddleName?(null===t||void 0===t?void 0:t.studentMiddleName)+" ":"").concat(null===t||void 0===t?void 0:t.studentLastName))&&void 0!==l&&null!==(o=l.toLowerCase())&&void 0!==o&&o.includes(null===(s=e.target.value)||void 0===s?void 0:s.toLowerCase())?t:null}));C(l)}else C(null===E||void 0===E?void 0:E.notPromoteStudent)}})]})}),null===P||void 0===P?void 0:P.map(((e,t)=>(0,m.jsx)(h,{promoteData:f,stu:e,onSelectStudent:M},t))),N&&(0,m.jsx)(d.Z,{}),k&&(0,m.jsx)(p.Z,{})]})})};var j=l(91022);const S=e=>{var t,l,a,i,d,v,h;let{onClose:p,classId:g,onRefetchParent:x}=e;const{t:S}=(0,n.$G)(),[b,N]=(0,o.useState)("INITIAL_STEP"),[Z,P]=(0,o.useState)({promot_with_fees:"",applicable_with_fees:"",departmentId:"",batchId:"",classId:"",students:[],re_ads:"",is_backlog:""}),[C,k]=(0,o.useState)(""),{classAllDepartmentWithBatch:w,classAllDepartmentWithBatchRefetch:I}=(0,r.PS)({data:{cid:g,page:1,limit:30},skip:!g}),{classAllBatchWithClass:T,classAllBatchWithClassRefetch:L}=(0,r.j_)({data:{bid:null===(t=Z.batchId)||void 0===t?void 0:t._id,page:1,limit:30},skip:!(null!==(l=Z.batchId)&&void 0!==l&&l._id)});o.useEffect((()=>{g&&I()}),[g,I]),o.useEffect((()=>{var e;null!==(e=Z.batchId)&&void 0!==e&&e._id&&L()}),[null===(a=Z.batchId)||void 0===a?void 0:a._id,L]);return(0,m.jsx)(u.Z,{onClose:"INITIAL_STEP"===b?p:()=>N("INITIAL_STEP"),children:(0,m.jsxs)("div",{className:s.Z.promote_container,children:["INITIAL_STEP"===b&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h6",{style:{textAlign:"center"},children:S("promote_students")}),(0,m.jsx)(_.Z,{customStyle:{width:"100%"}}),(0,m.jsx)(j.Z,{selectLabel:S("promote_with_fees_structure"),selectedValue:S("select_yes_or_no"),options:["Yes","No"],value:Z.promot_with_fees,errorShow:C.promot_with_fees,onClick:e=>{P((t=>({...t,promot_with_fees:e})))}}),(0,m.jsx)(c.Z,{selectLabel:S("select_department"),selectedValue:S("select_department"),options:null!==(i=null===w||void 0===w?void 0:w.departmets)&&void 0!==i?i:[],onClick:e=>{P((t=>({...t,departmentId:e})))},openAs:"PROMOTE",errorShow:C.departmentId}),(0,m.jsx)(c.Z,{selectLabel:S("select_batch"),selectedValue:S("select_batch"),options:null!==(d=null===(v=Z.departmentId)||void 0===v?void 0:v.batches)&&void 0!==d?d:[],onClick:e=>{P((t=>({...t,batchId:e})))},openAs:"PROMOTE",errorShow:C.batchId}),(0,m.jsx)(c.Z,{selectLabel:S("select_class"),selectedValue:S("select_class"),options:null!==(h=null===T||void 0===T?void 0:T.classes)&&void 0!==h?h:[],onClick:e=>{P((t=>({...t,classId:e})))},openAs:"PROMOTE",errorShow:C.classId}),(0,m.jsx)(j.Z,{selectLabel:S("promote_applicable_fee"),selectedValue:S("select_yes_or_no"),options:["Yes","No"],value:Z.applicable_with_fees,errorShow:C.applicable_with_fees,onClick:e=>{P((t=>({...t,applicable_with_fees:e})))}}),(0,m.jsx)(j.Z,{selectLabel:S("promote_with_re_admission"),selectedValue:S("select_yes_or_no"),options:["Yes","No"],value:Z.re_ads,onClick:e=>{P((t=>({...t,re_ads:e})))}}),(0,m.jsx)(j.Z,{selectLabel:S("promote_with_result"),selectedValue:S("please_select_result_base"),options:["Backlog","Pass","All"],value:Z.is_backlog?y[Z.is_backlog]:Z.is_backlog,onClick:e=>{P((t=>({...t,is_backlog:"Backlog"===e?"BACKLOG_OF_MAXIMUM":"Pass"===e?"RESULT_OF_PASS":"ALL"})))}}),(0,m.jsxs)("button",{className:s.Z.select_application_btn,onClick:()=>{const e=(e=>{const t={};for(let l in e)"students"===l||e[l]||(t[l]="".concat(l," is required!"));return t})(Z);let t=!1;for(let l in e){t=!0;break}t?k(e):N("SELECT_STUDENT")},style:{width:"100%"},title:"Select student",children:[(0,m.jsx)("div",{children:S("select_student")}),(0,m.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]})]}),"SELECT_STUDENT"===b&&(0,m.jsx)(f,{classId:g,setPromoteData:P,promoteData:Z,onClose:p,onRefetchParent:x})]})})},y={BACKLOG_OF_MAXIMUM:"Backlog",RESULT_OF_PASS:"Pass",ALL:"All"},b=e=>{var t,l,a;let{classId:r,promoteData:c,setPromoteData:u,onClose:v,onRefetchParent:g}=e;const{t:f}=(0,n.$G)(),[j,S]=(0,o.useState)(!0),[y,b]=(0,o.useState)([]),[N,Z]=(0,o.useState)(!1),[P,C]=(0,o.useState)(!1),[k,w]=(0,o.useState)(!1),[I]=(0,i.V_)(),{getPromoteStudentByPromote:T,getPromoteStudentByPromoteRefetch:L}=(0,i.Rt)({cid:r,skip:!r});(0,o.useEffect)((()=>{r&&(S(!0),L())}),[r,L]),(0,o.useEffect)((()=>{var e,t;(null!==T&&void 0!==T&&T.promoteStudent||0===(null===T||void 0===T||null===(e=T.promoteStudent)||void 0===e?void 0:e.length))&&(b(null!==(t=null===T||void 0===T?void 0:T.promoteStudent)&&void 0!==t?t:[]),S(!1))}),[null===T||void 0===T?void 0:T.promoteStudent]);const U=e=>{var t;null!==c&&void 0!==c&&null!==(t=c.arr)&&void 0!==t&&t.includes(e)?u((t=>{var l;return{...t,arr:null===(l=t.arr)||void 0===l?void 0:l.filter((t=>t!==e))}})):u((t=>({...t,arr:t.arr?[...t.arr,e]:[e]})))};return(0,m.jsx)(m.Fragment,{children:P?(0,m.jsx)(x,{onClose:()=>C(!1),title:f("undo_select_student"),firstMessage:"".concat(f("undo")," "),spanMessage:null===c||void 0===c||null===(t=c.arr)||void 0===t?void 0:t.length,outerSpanMessage:"".concat(f("students")," , ").concat(f("to")," "),lastMessage:"".concat(f("previous_class")),buttonLabel:f("confirm"),onHandler:()=>{C(!1),Z((e=>!e)),I({cid:r,flow:"PARTICULAR_STUDENT",undoPromote:{arr:null===c||void 0===c?void 0:c.arr}}).then((()=>{g(),v(),Z((e=>!e))})).catch({})},messageStyle:{marginTop:"3.7rem"},buttonStyle:{marginTop:"5.7rem"}}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:s.Z.select_header,children:[(0,m.jsxs)("h6",{children:[(null===c||void 0===c||null===(l=c.arr)||void 0===l?void 0:l.length)>0?"".concat(null===c||void 0===c||null===(a=c.arr)||void 0===a?void 0:a.length," "):"",f("select_student")]}),(0,m.jsxs)("div",{children:[k?(0,m.jsx)("button",{className:s.Z.select_all_btn,title:"Remove All Student",onClick:()=>{u((e=>({...e,arr:[]}))),w(!1)},style:{marginRight:"0.7rem"},children:f("remove_all")}):(0,m.jsx)("button",{className:s.Z.select_all_btn,title:"Select All Student",onClick:()=>{let e=[];for(let t of y)e.push(null===t||void 0===t?void 0:t._id);u((t=>({...t,arr:e}))),w(!0)},style:{marginRight:"0.7rem"},children:f("select_all")}),(0,m.jsx)("button",{className:s.Z.promote_all_btn,title:"Undo Selected Student",onClick:()=>{var e;return(null===c||void 0===c||null===(e=c.arr)||void 0===e?void 0:e.length)>0?C(!0):null},children:f("undo")})]})]}),(0,m.jsx)(_.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),(0,m.jsx)("div",{className:s.Z.with_search,style:{marginTop:"1rem",width:"100%",border:"0.4px solid rgba(0, 0, 0, 0.15)",borderRadius:"6px",marginBottom:"0.3rem"},children:(0,m.jsxs)("div",{className:s.Z.search_container_input,style:{width:"100%"},children:[(0,m.jsx)("img",{className:s.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,m.jsx)("input",{type:"text",placeholder:"Search Student...",style:{width:"100%"},onChange:e=>{if(e.target.value){var t;const l=null===T||void 0===T||null===(t=T.promoteStudent)||void 0===t?void 0:t.filter((t=>{var l,o,s;return null!==(l="".concat(null===t||void 0===t?void 0:t.studentFirstName," ").concat(null!==t&&void 0!==t&&t.studentMiddleName?(null===t||void 0===t?void 0:t.studentMiddleName)+" ":"").concat(null===t||void 0===t?void 0:t.studentLastName))&&void 0!==l&&null!==(o=l.toLowerCase())&&void 0!==o&&o.includes(null===(s=e.target.value)||void 0===s?void 0:s.toLowerCase())?t:null}));b(l)}else b(null===T||void 0===T?void 0:T.promoteStudent)}})]})}),null===y||void 0===y?void 0:y.map(((e,t)=>(0,m.jsx)(h,{promoteData:{students:null===c||void 0===c?void 0:c.arr},stu:e,onSelectStudent:U},t))),j&&(0,m.jsx)(d.Z,{}),N&&(0,m.jsx)(p.Z,{})]})})},N=e=>{let{onClose:t,classId:l,onRefetchParent:a}=e;const{t:d}=(0,n.$G)(),[r,c]=(0,o.useState)("INITIAL_STEP"),[v,h]=(0,o.useState)({flow:"",arr:[]}),[g,x]=(0,o.useState)(""),[f,S]=(0,o.useState)(!1),[y]=(0,i.V_)();return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(u.Z,{onClose:"INITIAL_STEP"===r?t:()=>c("INITIAL_STEP"),children:(0,m.jsxs)("div",{className:s.Z.promote_container,children:["INITIAL_STEP"===r&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h6",{style:{textAlign:"center"},children:d("promote_students")}),(0,m.jsx)(_.Z,{customStyle:{width:"100%"}}),(0,m.jsx)(j.Z,{selectLabel:d("undo_promote_student"),selectedValue:d("select_full_or_particular"),options:["Full Class","Particular Student"],value:v.flow,errorShow:g.flow,onClick:e=>{h((t=>({...t,flow:e})))}}),(0,m.jsx)("button",{className:s.Z.select_application_btn,onClick:()=>{const e=(e=>{const t={};for(let l in e)"students"===l||e[l]||(t[l]="".concat(l," is required!"));return t})(v);let o=!1;for(let t in e){o=!0;break}o?x(e):"Full Class"===v.flow?(S((e=>!e)),y({cid:l,flow:"FULL_CLASS",undoPromote:{arr:[]}}).then((()=>{a(),t(),S((e=>!e))})).catch({})):"Particular Student"===v.flow&&c("SELECT_STUDENT")},style:{width:"100%",justifyContent:"center",marginTop:"4rem"},children:(0,m.jsx)("div",{children:d("Particular Student"===v.flow?"next":"confirm")})})]}),"SELECT_STUDENT"===r&&(0,m.jsx)(b,{classId:l,setPromoteData:h,promoteData:v,onClose:t,onRefetchParent:a}),f&&(0,m.jsx)(p.Z,{})]})})})},Z=e=>{let{cid:t,onRefetch:l}=e;const{t:a}=(0,n.$G)(),[i,d]=(0,o.useState)(!1);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("button",{className:s.Z.select_application_btn,onClick:e=>{e.stopPropagation(),d((e=>!e))},title:"Undo Promote Studens",style:{width:"25%"},children:[(0,m.jsx)("div",{children:a("undo_student")}),(0,m.jsx)("img",{src:"/images/member_tab/admission/admission-undo-icon.svg",alt:"undo icon",style:{cursor:"pointer",width:"30px"}})]}),i&&(0,m.jsx)(N,{onClose:()=>d(!1),classId:t,onRefetchParent:l})]})},P=e=>{var t,l,r,c,_,u,v;let{classId:h}=e;const{t:p}=(0,n.$G)(),[g,x]=(0,o.useState)(!0),[f,j]=(0,o.useState)(!1),{getPromoteStudentByPromote:y,getPromoteStudentByPromoteRefetch:b}=(0,i.Rt)({cid:h,skip:!h});(0,o.useEffect)((()=>{h&&(x(!0),b())}),[h,b]),(0,o.useEffect)((()=>{var e;(null!==y&&void 0!==y&&y.promoteStudent||0===(null===y||void 0===y||null===(e=y.promoteStudent)||void 0===e?void 0:e.length))&&x(!1)}),[null===y||void 0===y?void 0:y.promoteStudent]);const N=()=>{j((e=>!e))};return(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:s.Z.promote_undo_container,children:[(0,m.jsxs)("button",{className:s.Z.select_application_btn,onClick:N,children:[(0,m.jsx)("div",{children:p("promote_student")}),(0,m.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),(0,m.jsx)(Z,{cid:h,onRefetch:b})]}),(0,m.jsxs)("h6",{className:s.Z.total_student_count,children:[p("total_student")," ",null!==(t=null===y||void 0===y||null===(l=y.count)||void 0===l?void 0:l.totalCount)&&void 0!==t?t:0]}),(0,m.jsxs)("div",{className:s.Z.total_other_count_container,children:[(0,m.jsxs)("p",{children:[p("boys_promote"),null!==(r=null===y||void 0===y||null===(c=y.count)||void 0===c?void 0:c.boyCount)&&void 0!==r?r:0]}),(0,m.jsxs)("p",{children:[p("girl_promote"),null!==(_=null===y||void 0===y||null===(u=y.count)||void 0===u?void 0:u.girlCount)&&void 0!==_?_:0]})]}),null===y||void 0===y||null===(v=y.promoteStudent)||void 0===v?void 0:v.map((e=>(0,m.jsx)(a.Z,{stu:e,viewAs:"PROMOTE"},null===e||void 0===e?void 0:e._id))),g&&(0,m.jsx)(d.Z,{}),f&&(0,m.jsx)(S,{classId:h,onClose:N,onRefetchParent:b})]})}},74067:(e,t,l)=>{l.d(t,{Z:()=>r});l(72791);var o=l(33148),s=l(39230),n=l(69721),a=l(16871),i=l(43504),d=l(80184);const r=e=>{var t,l,r,c,_,u,v;let{stu:m,viewAs:h}=e;const{t:p}=(0,s.$G)(),g=(0,a.UO)();return(0,d.jsx)(i.rU,{to:"/q/".concat(g.username,"/student/profile"),state:{sid:null===m||void 0===m?void 0:m._id,viewAs:"SUBJECT_TEACHER"},children:(0,d.jsxs)("div",{className:o.Z.student_container,children:[(0,d.jsx)("img",{src:null!==m&&void 0!==m&&m.studentProfilePhoto?"".concat(n.yI,"/").concat(null===m||void 0===m?void 0:m.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy",alt:"avatar icon"}),(0,d.jsxs)("div",{className:o.Z.student_info_container,children:[(0,d.jsxs)("div",{className:o.Z.student_info_text,children:[(0,d.jsxs)("h6",{children:[null===m||void 0===m?void 0:m.studentFirstName," ",null!==m&&void 0!==m&&m.studentMiddleName?null===m||void 0===m?void 0:m.studentMiddleName:" "," ",null===m||void 0===m?void 0:m.studentLastName]}),"PROMOTE"===h?"":(0,d.jsxs)("p",{children:[null!==(t=null===m||void 0===m?void 0:m.studentGender)&&void 0!==t?t:""," "]})]}),(0,d.jsx)("div",{className:o.Z.student_info_text,children:"PROMOTE"===h?(0,d.jsxs)("p",{children:[p("classes"),": ","".concat(null!==(l=null===m||void 0===m||null===(r=m.studentClass)||void 0===r?void 0:r.className)&&void 0!==l?l:""," - ").concat(null!==(c=null===m||void 0===m||null===(_=m.studentClass)||void 0===_?void 0:_.classTitle)&&void 0!==c?c:"")]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("p",{children:[p("roll_number")," ",null!==(u=null===m||void 0===m?void 0:m.studentROLLNO)&&void 0!==u?u:""]}),(0,d.jsxs)("p",{children:[p("gr_number"),null!==(v=null===m||void 0===m?void 0:m.studentGRNO)&&void 0!==v?v:""]})]})})]})]})})}},1669:(e,t,l)=>{l.d(t,{Z:()=>a});var o=l(98684),s=l(63244),n=l(80184);const a=e=>{let{isGrey:t}=e;return(0,n.jsx)("div",{className:s.Z.q_loading,children:(0,n.jsx)("img",{src:"".concat(o.Uw,t?"/loading-grey.gif":"/loading.gif"),alt:"loading icon"})})}},55336:(e,t,l)=>{l.d(t,{Z:()=>n});var o=l(63244),s=l(80184);const n=()=>(0,s.jsx)("div",{className:o.Z.qviple_loader_backdrop,children:(0,s.jsx)("div",{className:o.Z.qviple_loader_container,children:(0,s.jsx)("div",{className:o.Z.qviple_loader_rotation})})})},90904:(e,t,l)=>{l.d(t,{Z:()=>n});const o="BorderBottom_split_content__RVPoh";var s=l(80184);const n=e=>{let{customStyleBorder:t}=e;return(0,s.jsx)("hr",{className:o,style:t})}},48293:(e,t,l)=>{l.d(t,{Z:()=>r});var o=l(72791),s=l(54164),n=l(15783),a=l(80184);const i=e=>{let{onBackdropClose:t,customBackdropStyle:l}=e;const i=(0,o.useCallback)((()=>{if(!t)return null;t()}),[t]);return s.createPortal((0,a.jsx)("div",{className:n.Z.modal_backdrop,onClick:i,style:l}),document.getElementById("backdrop"))},d=e=>{let{modalState:t,isHide:l,customOverlayStyle:o,children:i}=e;return s.createPortal((0,a.jsx)("div",{className:n.Z.modal_overlay,style:{...o},children:i}),document.getElementById("overlay"))},r=e=>{let{onClose:t,modalState:l,customBackdropStyle:o,customOverlayStyle:s,children:n}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i,{onBackdropClose:t,customBackdropStyle:o}),(0,a.jsx)(d,{customOverlayStyle:s,children:n})]})}},57588:(e,t,l)=>{l.d(t,{J:()=>o});const o=(e,t)=>{let l;return function(){let o=this,s=arguments;clearTimeout(l),l=setTimeout((()=>{e.apply(o,s)}),t)}}},91427:(e,t,l)=>{l.d(t,{f:()=>o});const o=e=>e%10===0},80272:(e,t,l)=>{l.d(t,{Z:()=>o});const o={string_container:"StringLength_string_container__v6b--",mark_container:"StringLength_mark_container__KQsQy"}},45639:(e,t,l)=>{l.d(t,{Z:()=>o});const o={universal_container:"UniversalTab_universal_container__uxTOR",universal_container_item:"UniversalTab_universal_container_item__M0pS7",universal_container_item_active:"UniversalTab_universal_container_item_active__3u3Wt"}},63244:(e,t,l)=>{l.d(t,{Z:()=>o});const o={qviple_loader_backdrop:"Loader_qviple_loader_backdrop__ScdYl",qviple_loader_container:"Loader_qviple_loader_container__SXQ9Y",qviple_loader_rotation:"Loader_qviple_loader_rotation__ltsgT",qviple_loader_rotation_animation:"Loader_qviple_loader_rotation_animation__gy3+j",q_loading:"Loader_q_loading__bwe2c",circle_loading:"Loader_circle_loading__m+ptB",rotate_animation:"Loader_rotate_animation__IV2sY"}},49806:(e,t,l)=>{l.d(t,{Z:()=>o});const o={modal_container:"PlateformUser_modal_container__tqwpY",modal_container_outer_header:"PlateformUser_modal_container_outer_header__HbF+9",modal_container_header:"PlateformUser_modal_container_header__QzyxM",modal_container_btn_container:"PlateformUser_modal_container_btn_container__3SJ8i",modal_container_header_btn:"PlateformUser_modal_container_header_btn__dWfwA",assign_search_container:"PlateformUser_assign_search_container__dJdYj",assign_search_input:"PlateformUser_assign_search_input__aFF28",assign_show_list_each:"PlateformUser_assign_show_list_each__co2b1",assign_show_list_each_active:"PlateformUser_assign_show_list_each_active__SWwFS",assign_each_paragraph:"PlateformUser_assign_each_paragraph__bDgq6",close_icon:"PlateformUser_close_icon__VXKXH",comfirm_box:"PlateformUser_comfirm_box__ntFD7",modal_container_btn:"PlateformUser_modal_container_btn__BWFB9"}},15783:(e,t,l)=>{l.d(t,{Z:()=>o});const o={notify_backdrop:"Utils_notify_backdrop__saL0O",notify_overlay:"Utils_notify_overlay__GtPc5",notify_hide_overlay:"Utils_notify_hide_overlay__MYvkC",notify_overlay_animation:"Utils_notify_overlay_animation__pcASm",notify_hide_overlay_animation:"Utils_notify_hide_overlay_animation__UKRcG",notify_container:"Utils_notify_container__O8DBA",notify_message:"Utils_notify_message__PHwKo",notify_close:"Utils_notify_close__IwjyA",modal_backdrop:"Utils_modal_backdrop__WBquw",modal_overlay:"Utils_modal_overlay__Yy-AV",modal_hide_overlay:"Utils_modal_hide_overlay__elt3A",navbar_modal_hide_overlay:"Utils_navbar_modal_hide_overlay__yqj5q",navbar_modal_overlay:"Utils_navbar_modal_overlay__6ub8g",modal_hide_overlay_animation:"Utils_modal_hide_overlay_animation__d3TNp",navbar_modal_overlay_animation:"Utils_navbar_modal_overlay_animation__Ypk9u",navbar_modal_hide_overlay_animation:"Utils_navbar_modal_hide_overlay_animation__QLEse",empty_container:"Utils_empty_container__-VyCI",modal_overlay_animation:"Utils_modal_overlay_animation__zkjsk"}}}]);
//# sourceMappingURL=85060.9c3b21c8.chunk.js.map