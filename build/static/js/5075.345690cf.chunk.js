"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[5075],{63162:(e,t,i)=>{i.d(t,{Z:()=>c});var l=i(39230),s=i(51416),a=i(43504),n=i(72791),o=i(80184);const r=e=>{let{tab:t,isActive:i,isLink:n,parentState:r,onAction:c,url:d,extraData:u,customStyle:_}=e;const{t:v}=(0,l.$G)();return n?(0,o.jsx)(a.rU,{className:i?s.Z.horizontal_tab_card_active:s.Z.horizontal_tab_card,to:d,state:r,style:_,children:(0,o.jsxs)("h6",{children:[v(null===t||void 0===t?void 0:t.label),(null===u||void 0===u?void 0:u.count)>=0?"(".concat(null===u||void 0===u?void 0:u.count,")"):""]})}):(0,o.jsx)("div",{className:i?s.Z.horizontal_tab_card_active:s.Z.horizontal_tab_card,onClick:()=>{c(null===t||void 0===t?void 0:t.id)},children:(0,o.jsx)("h6",{children:v(null===t||void 0===t?void 0:t.label)})})},c=(0,n.memo)(r)},98967:(e,t,i)=>{i.d(t,{Z:()=>a});var l=i(51416),s=i(80184);const a=e=>{let{customWrapperStyle:t,children:i}=e;return(0,s.jsx)("div",{className:l.Z.horizontal_tab_wrapper,style:t,children:i})}},5075:(e,t,i)=>{i.r(t),i.d(t,{default:()=>L});var l=i(16871),s=i(43504),a=i(98684),n=i(90904),o=i(63162),r=i(98967),c=i(63687),d=i(21348),u=i(72791),_=i(56959),v=i(39230),m=i(1095),h=i(97892),x=i.n(h),g=i(82824),f=i(72888),j=i(80184);const p=e=>{var t,i;let{excel:l,bankId:s,onRefetch:n}=e;const[o,r]=(0,u.useState)("");return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("a",{className:f.Z.export_card,title:"Download File",href:"".concat(m.LS,"/").concat(null===l||void 0===l?void 0:l.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,j.jsx)("img",{src:"".concat(a.J7,"/xsxl.svg"),className:f.Z.export_card_image,alt:"excel icon"}),(0,j.jsxs)("section",{className:f.Z.export_card_text,children:[(0,j.jsx)("h6",{children:null!==(t=null===l||void 0===l?void 0:l.excel_file_name)&&void 0!==t?t:""}),(0,j.jsxs)("div",{className:f.Z.export_card_date,children:[(0,j.jsx)("h6",{children:null!==(i=null===l||void 0===l?void 0:l.batch)&&void 0!==i?i:""}),(0,j.jsxs)("h6",{children:[x()(null===l||void 0===l?void 0:l.created_at).format("DD MMM YYYY"),","," ",(0,g.J)(null===l||void 0===l?void 0:l.created_at,"LT")]})]})]})]},null===l||void 0===l?void 0:l._id)})};var b=i(23441),S=i(91427),Z=i(55336),k=i(1669),y=i(2651),N=i(62209),U=i(93638),C=i(43317);const I=e=>{var t,i,l;let{aid:s,instituteId:o}=e;const{t:r}=(0,v.$G)(),[c,m]=(0,u.useState)(""),[h,x]=(0,u.useState)(""),[g,f]=(0,u.useState)(1),[I,w]=(0,u.useState)(!0),[L,P]=(0,b.YD)({skip:c}),[B,F]=(0,u.useState)(""),[M,R]=(0,u.useState)(!1),[D]=(0,C.c4)(),{admissionIntakeRecordList:T,admissionIntakeRecordListLoading:q,admissionIntakeRecordListRefetch:A}=(0,C.Ln)({data:{aid:s,page:g,limit:10,search:c},skip:!s});(0,u.useEffect)((()=>{P&&I&&f((e=>e+1))}),[P,I]),(0,u.useEffect)((()=>{var e;if(null!==T&&void 0!==T&&null!==(e=T.list)&&void 0!==e&&e.length){var t;let e=(0,S.f)(null===T||void 0===T||null===(t=T.list)||void 0===t?void 0:t.length);w((()=>e))}}),[null===T||void 0===T?void 0:T.list]);const Y=()=>{f((()=>1)),A()};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.default,{customStyle:{padding:"0"},children:(0,j.jsxs)("div",{className:_.Z.fm_search_full,children:[(0,j.jsx)("section",{className:_.Z.fm_search_full_container,children:(0,j.jsxs)("div",{className:_.Z.fm_search_full_container_inner,children:[(0,j.jsx)("img",{className:_.Z.fm_search_full_icon,alt:"search icon",src:"".concat(a.dB,"/navbar-search.svg")}),(0,j.jsx)("input",{type:"text",placeholder:r("search"),onChange:e=>{var t;!q&&(null===T||void 0===T||null===(t=T.list)||void 0===t?void 0:t.length)>=0&&x(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(f((()=>1)),m(h))},value:h})]})}),(0,j.jsx)(U.Z,{label:"export",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:()=>F(1)})]})}),(0,j.jsx)(n.Z,{}),null===T||void 0===T||null===(t=T.list)||void 0===t?void 0:t.map(((e,t)=>{var i;return(null===T||void 0===T||null===(i=T.list)||void 0===i?void 0:i.length)===t+1?(0,j.jsx)("div",{ref:L,children:(0,j.jsx)(p,{excel:e,aid:s,onRefetch:Y})},null===e||void 0===e?void 0:e._id):(0,j.jsx)(p,{excel:e,aid:s,onRefetch:Y},null===e||void 0===e?void 0:e._id)})),q?c?(0,j.jsx)(Z.default,{}):(0,j.jsx)(k.Z,{}):c?0===(null===T||void 0===T||null===(i=T.list)||void 0===i?void 0:i.length)&&(0,j.jsx)(y.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No intake records found related this search."}):0===(null===T||void 0===T||null===(l=T.list)||void 0===l?void 0:l.length)&&(0,j.jsx)(y.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No intake records added."}),1===B?(0,j.jsx)(N.Z,{onSelectStaff:e=>{null!==e&&void 0!==e&&e._id&&s&&(R((e=>!e)),D({aid:s,bodyParameter:{bid:null===e||void 0===e?void 0:e._id}}).then((()=>{F(""),R((e=>!e))})).catch({}))},onClose:()=>{F("")},instituteId:o}):null,M&&(0,j.jsx)(Z.default,{})]})},w=(0,u.lazy)((()=>Promise.all([i.e(6758),i.e(84395),i.e(66866)]).then(i.bind(i,84395)))),L=e=>{let{aid:t,instituteId:i,financeId:m}=e;const{t:h}=(0,v.$G)(),x=(0,l.TH)(),g=(0,l.UO)(),f=(0,l.s0)(),[p]=(0,s.lr)(),b=(0,u.useCallback)((()=>{var e;let t="";t="Institute"===(null===(e=x.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(g.username,"/institute/member/admission"):"/q/".concat(g.username,"/member/staff/admission"),f(t,{state:x.state})}),[f,x.state,g.username]);return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(c.default,{children:[(0,j.jsx)(d.default,{children:(0,j.jsx)("div",{className:_.Z.fm_header_container,children:(0,j.jsxs)("div",{className:_.Z.fm_header_start_container,style:{gap:"0.2rem"},children:[(0,j.jsx)("img",{alt:"search icon",src:"".concat(a.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:b}),(0,j.jsx)("h6",{children:h("admission_statitics")})]})})}),(0,j.jsx)(n.Z,{}),(0,j.jsx)(r.Z,{children:P.map((e=>{var t,i;return(0,j.jsx)(o.Z,{tab:e,isLink:!0,isActive:null===(t=e.groupIs)||void 0===t?void 0:t.includes(p.get("n")),parentState:x.state,url:"Institute"===(null===(i=x.state)||void 0===i?void 0:i.urlOffSet)?"/q/".concat(g.username,"/institute/member/admission?type=statistics").concat(e.urlKey):"/q/".concat(g.username,"/member/staff/admission?type=statistics").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,j.jsx)(n.Z,{customStyleBorder:{marginTop:"0"}}),(0,j.jsx)(d.default,{customStyle:{paddingTop:"0.2rem"},children:"student-statistics"===p.get("n")?(0,j.jsx)(w,{fid:m}):(0,j.jsx)(I,{aid:t,instituteId:i})})]})})},P=[{label:"intake_record",id:"intake_record",urlKey:"",groupIs:["",null]},{label:"student_statistics",id:"student-statistics",urlKey:"&n=student-statistics",groupIs:["student-statistics"]}]},62209:(e,t,i)=>{i.d(t,{Z:()=>p});var l=i(49806),s=i(38857),a=i(21348),n=i(90904),o=i(98684),r=i(39230),c=i(72791),d=i(23441),u=i(91427),_=i(57588),v=i(80184);const m=e=>{var t,i;let{cls:s,selectedId:a,onSelect:n,selectList:r,isMultiSelect:c,onMultiSelect:d}=e;return(0,v.jsx)(v.Fragment,{children:c?(0,v.jsxs)("div",{className:l.Z.assign_show_list_each,onClick:()=>{d(s)},style:{border:"0.5px solid #cacaca",marginBlock:"0.4rem",borderRadius:"6px",padding:"0.8rem 1rem"},children:[null!==r&&void 0!==r&&r.includes(null===s||void 0===s?void 0:s._id)?(0,v.jsx)("img",{src:"".concat(o.U_,"/check.svg"),alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,v.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"".concat(o.U_,"/uncheck.svg"),alt:"icon"}),(0,v.jsx)("div",{className:l.Z.assign_each_paragraph,children:(0,v.jsx)("h6",{children:null!==(t=null===s||void 0===s?void 0:s.batchName)&&void 0!==t?t:""})})]}):(0,v.jsx)("div",{className:l.Z.assign_show_list_each,style:a===(null===s||void 0===s?void 0:s._id)?{backgroundColor:"rgba(75, 26, 133, 0.1)",border:"0.5px solid #cacaca",marginBlock:"0.4rem",borderRadius:"6px",padding:"0.8rem 1rem"}:{border:"0.5px solid #cacaca",marginBlock:"0.4rem",borderRadius:"6px",padding:"0.8rem 1rem"},onClick:()=>{n(s)},children:(0,v.jsx)("div",{className:l.Z.assign_each_paragraph,children:(0,v.jsx)("h6",{children:null!==(i=null===s||void 0===s?void 0:s.batchName)&&void 0!==i?i:""})})})})};var h=i(55336),x=i(1669),g=i(2651),f=i(93638),j=i(93339);const p=e=>{var t,i,p,b;let{title:S,onClose:Z,selectedId:k,onSelectStaff:y,instituteId:N,isMultiSelect:U,onMultiSelect:C,selectList:I,onDone:w}=e;const{t:L}=(0,r.$G)(),[P,B]=(0,c.useState)(""),[F,M]=(0,c.useState)(1),[R,D]=(0,c.useState)(!0),[T,q]=(0,d.YD)({skip:P}),{instituteAllUniversalBatch:A,instituteAllUniversalBatchLoading:Y}=(0,j.DL)({data:{id:N,page:F,limit:10,search:P},skip:!N});(0,c.useEffect)((()=>{q&&R&&M((e=>e+1))}),[q,R]),(0,c.useEffect)((()=>{var e;if(null!==A&&void 0!==A&&null!==(e=A.list)&&void 0!==e&&e.length){var t;let e=(0,u.f)(null===A||void 0===A||null===(t=A.list)||void 0===t?void 0:t.length);D((()=>e))}}),[null===A||void 0===A||null===(t=A.list)||void 0===t?void 0:t.length]);const z=(0,c.useCallback)((0,_.J)((e=>{M((()=>1)),B(e)}),1500),[]),J=e=>{k===(null===e||void 0===e?void 0:e._id)||y(e)};return(0,v.jsx)(s.Z,{onClose:Z,children:(0,v.jsxs)("div",{className:l.Z.modal_container,children:[(0,v.jsx)(a.default,{children:(0,v.jsxs)("div",{className:l.Z.modal_container_outer_header,children:[(0,v.jsx)("div",{className:l.Z.modal_container_header,children:(0,v.jsx)("h6",{children:L(null!==S&&void 0!==S?S:"select_universal_batch")})}),(0,v.jsxs)("div",{className:l.Z.modal_container_btn_container,children:[U&&(0,v.jsx)(f.Z,{label:L("select"),count:null===I||void 0===I?void 0:I.length,onAction:w,customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,v.jsx)("img",{src:"".concat(o.J7,"/close.svg"),alt:"close icon",onClick:Z})]})]})}),(0,v.jsx)(n.Z,{}),(0,v.jsxs)(a.default,{customStyle:{paddingBottom:"1rem"},children:[(0,v.jsxs)("div",{className:l.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,v.jsx)("input",{type:"text",placeholder:L("search"),className:l.Z.assign_search_input,onChange:e=>{e.target.value?z(e.target.value):(M((()=>1)),B(""))},style:{width:"100%"}}),(0,v.jsx)("img",{src:"".concat(o.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===A||void 0===A||null===(i=A.list)||void 0===i?void 0:i.map(((e,t)=>{var i;return(null===A||void 0===A||null===(i=A.list)||void 0===i?void 0:i.length)===t+1?(0,v.jsx)("div",{ref:T,children:(0,v.jsx)(m,{cls:e,selectedId:k,onSelect:J,selectList:I,isMultiSelect:U,onMultiSelect:C})},null===e||void 0===e?void 0:e._id):(0,v.jsx)(m,{cls:e,selectedId:k,onSelect:J,selectList:I,isMultiSelect:U,onMultiSelect:C},null===e||void 0===e?void 0:e._id)})),Y?P?(0,v.jsx)(h.default,{}):(0,v.jsx)(x.Z,{}):P?0===(null===A||void 0===A||null===(p=A.list)||void 0===p?void 0:p.length)&&(0,v.jsx)(g.Z,{title:"No class found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===A||void 0===A||null===(b=A.list)||void 0===b?void 0:b.length)&&(0,v.jsx)(g.Z,{title:"No class.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})}},57588:(e,t,i)=>{i.d(t,{J:()=>l});const l=(e,t)=>{let i;return function(){let l=this,s=arguments;clearTimeout(i),i=setTimeout((()=>{e.apply(l,s)}),t)}}},49806:(e,t,i)=>{i.d(t,{Z:()=>l});const l={modal_container:"PlateformUser_modal_container__tqwpY",modal_container_outer_header:"PlateformUser_modal_container_outer_header__HbF+9",modal_container_header:"PlateformUser_modal_container_header__QzyxM",modal_container_btn_container:"PlateformUser_modal_container_btn_container__3SJ8i",modal_container_header_btn:"PlateformUser_modal_container_header_btn__dWfwA",assign_search_container:"PlateformUser_assign_search_container__dJdYj",assign_search_input:"PlateformUser_assign_search_input__aFF28",assign_show_list_each:"PlateformUser_assign_show_list_each__co2b1",assign_show_list_each_active:"PlateformUser_assign_show_list_each_active__SWwFS",assign_each_paragraph:"PlateformUser_assign_each_paragraph__bDgq6",close_icon:"PlateformUser_close_icon__VXKXH",comfirm_box:"PlateformUser_comfirm_box__ntFD7",modal_container_btn:"PlateformUser_modal_container_btn__BWFB9"}}}]);
//# sourceMappingURL=5075.345690cf.chunk.js.map