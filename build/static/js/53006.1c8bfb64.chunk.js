"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[53006,81221,58936,16825],{56986:(l,e,i)=>{i.d(e,{Z:()=>m});var n=i(72791),s=i(98684),o=i(97892),a=i.n(o),d=i(82824),t=i(1095),c=i(55050),r=i(39230),v=i(45445),u=i(80184);const m=l=>{var e,i,o,m,h,f,x,_,j,g,p,N,y,w,Z,b,M,k,Y,S,L,D,F,C,T,A,J,P,q,E;let{leave:W,whichAccess:G}=l;const{t:H}=(0,r.$G)(),[I,R]=(0,n.useState)(!1),$=()=>{R((l=>!l))};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:c.Z.lmsr_card,children:[(0,u.jsx)("div",{className:c.Z.lmsrc_card,children:(0,u.jsxs)("div",{className:c.Z.lmsrc_card_inner,children:[(0,u.jsx)("img",{src:null!==W&&void 0!==W&&null!==(e=W.staff)&&void 0!==e&&e.staffProfilePhoto?"".concat(t.yI,"/").concat(null===W||void 0===W||null===(i=W.staff)||void 0===i?void 0:i.staffProfilePhoto):"".concat(s.p3,"/feed-user-avatar.svg"),alt:"staff icon"}),(0,u.jsxs)("div",{className:c.Z.lmsrci_text,children:[(0,u.jsx)("h6",{children:"".concat(null===W||void 0===W||null===(o=W.staff)||void 0===o?void 0:o.staffFirstName," ").concat(null!==W&&void 0!==W&&null!==(m=W.staff)&&void 0!==m&&m.staffMiddleName?null===W||void 0===W||null===(h=W.staff)||void 0===h?void 0:h.staffMiddleName:""," ").concat(null===W||void 0===W||null===(f=W.staff)||void 0===f?void 0:f.staffLastName)}),(0,u.jsxs)("p",{children:["Sactioning"===G?(0,u.jsxs)(u.Fragment,{children:[H("sanction_on")," ",(0,d.J)(null===W||void 0===W||null===(x=W.sanction)||void 0===x?void 0:x.sanction_on,"LT"),","," ",a()(null===W||void 0===W||null===(_=W.sanction)||void 0===_?void 0:_.sanction_on).format("DD MMM YYYY")]}):"Reviewing"===G?(0,u.jsxs)(u.Fragment,{children:[H("reviewed_on"),(0,d.J)(null===W||void 0===W||null===(j=W.review)||void 0===j?void 0:j.review_on,"LT"),","," ",a()(null===W||void 0===W||null===(g=W.review)||void 0===g?void 0:g.review_on).format("DD MMM YYYY")]}):(0,u.jsxs)(u.Fragment,{children:[H("recomend_on")," ",(0,d.J)(null===W||void 0===W||null===(p=W.recommend)||void 0===p?void 0:p.recommend_ont,"LT"),", ",a()(null===W||void 0===W||null===(N=W.recommend)||void 0===N?void 0:N.recommend_ont).format("DD MMM YYYY"),", "]}),(0,u.jsx)("span",{className:c.Z.lmsrc_date,onClick:$,children:H("for_dates")})]}),(0,u.jsx)("p",{children:"Sactioning"===G?(0,u.jsxs)(u.Fragment,{children:[H("reviewing_by"),"".concat(null!==(y=null===W||void 0===W||null===(w=W.review)||void 0===w||null===(Z=w.review_by)||void 0===Z?void 0:Z.staffFirstName)&&void 0!==y?y:""," ").concat(null!==(b=null===W||void 0===W||null===(M=W.review)||void 0===M||null===(k=M.review_by)||void 0===k?void 0:k.staffMiddleName)&&void 0!==b?b:""," ").concat(null!==(Y=null===W||void 0===W||null===(S=W.review)||void 0===S||null===(L=S.review_by)||void 0===L?void 0:L.staffLastName)&&void 0!==Y?Y:"")]}):"Reviewing"===G?(0,u.jsxs)(u.Fragment,{children:[H("recomending_by"),"".concat(null!==(D=null===W||void 0===W||null===(F=W.recommend)||void 0===F||null===(C=F.recommend_by)||void 0===C?void 0:C.staffFirstName)&&void 0!==D?D:""," ").concat(null!==(T=null===W||void 0===W||null===(A=W.recommend)||void 0===A||null===(J=A.recommend_by)||void 0===J?void 0:J.staffMiddleName)&&void 0!==T?T:""," ").concat(null!==(P=null===W||void 0===W||null===(q=W.recommend)||void 0===q||null===(E=q.recommend_by)||void 0===E?void 0:E.staffLastName)&&void 0!==P?P:"")]}):null})]})]})}),(0,u.jsx)("div",{className:c.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,u.jsxs)("h6",{style:{fontWeight:"400"},children:[H("leave_type")," "," : ",null===W||void 0===W?void 0:W.leave_type]})}),(0,u.jsx)("div",{className:c.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,u.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[H("reason")," "," : ",null===W||void 0===W?void 0:W.reason]})}),(null===W||void 0===W?void 0:W.attach)&&(0,u.jsx)("div",{className:c.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,u.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[H("attachment")," "," : ",(0,u.jsx)("a",{href:"".concat(t.q2,"/").concat(null===W||void 0===W?void 0:W.attach),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,u.jsx)("span",{className:c.Z.lmsrc_date,children:H("view_attachment")})})]})})]}),I&&(0,u.jsx)(v.Z,{onClose:$,allDate:null===W||void 0===W?void 0:W.date})]})}},36415:(l,e,i)=>{i.r(e),i.d(e,{default:()=>g});var n=i(72791),s=i(56959),o=i(23441),a=i(91427),d=i(57588),t=i(63687),c=i(21348),r=i(90904),v=i(55336),u=i(1669),m=i(2651),h=i(36132),f=i(39230),x=i(98684),_=i(56986),j=i(80184);const g=l=>{var e,i,g;let{modId:p}=l;const{t:N}=(0,f.$G)(),[y,w]=(0,n.useState)(""),[Z,b]=(0,n.useState)(1),[M,k]=(0,n.useState)(!0),[Y,S]=(0,o.YD)({skip:y}),{lmsModeratorAllHistoryList:L,lmsModeratorAllHistoryListLoading:D}=(0,h.EL)({data:{mid:p,page:Z,limit:10,search:y,flow:"Sanction_Section"},skip:!p});(0,n.useEffect)((()=>{S&&M&&b((l=>l+1))}),[S,M]),(0,n.useEffect)((()=>{var l;if(null!==L&&void 0!==L&&null!==(l=L.list)&&void 0!==l&&l.length){var e;let l=(0,a.f)(null===L||void 0===L||null===(e=L.list)||void 0===e?void 0:e.length);k((()=>l))}}),[null===L||void 0===L?void 0:L.list]);const F=(0,n.useCallback)((0,d.J)((l=>{b((()=>1)),w(l)}),1500),[]);return(0,j.jsxs)(t.default,{children:[(0,j.jsx)(c.default,{children:(0,j.jsxs)("div",{className:s.Z.fm_header_container,children:[(0,j.jsx)("h6",{children:N("leave_history")}),(0,j.jsx)("div",{className:s.Z.fm_search,children:(0,j.jsx)("section",{className:s.Z.fm_search_container,children:(0,j.jsxs)("div",{className:s.Z.fm_search_container_inner,children:[(0,j.jsx)("img",{className:s.Z.fm_search_icon,alt:"search icon",src:"".concat(x.dB,"/navbar-search.svg")}),(0,j.jsx)("input",{type:"text",placeholder:N("search"),onChange:l=>{l.target.value?F(l.target.value):(b((()=>1)),w(""))}})]})})})]})}),(0,j.jsx)(r.Z,{}),(0,j.jsxs)(c.default,{children:[null===L||void 0===L||null===(e=L.list)||void 0===e?void 0:e.map(((l,e)=>{var i;return(null===L||void 0===L||null===(i=L.list)||void 0===i?void 0:i.length)===e+1?(0,j.jsx)("div",{ref:Y,children:(0,j.jsx)(_.Z,{leave:l,whichAccess:"Sactioning"})},null===l||void 0===l?void 0:l._id):(0,j.jsx)(_.Z,{leave:l,whichAccess:"Sactioning"},null===l||void 0===l?void 0:l._id)})),D?y?(0,j.jsx)(v.default,{}):(0,j.jsx)(u.Z,{}):y?0===(null===L||void 0===L||null===(i=L.list)||void 0===i?void 0:i.length)&&(0,j.jsx)(m.Z,{title:"No staff leave history found related this search."}):0===(null===L||void 0===L||null===(g=L.list)||void 0===g?void 0:g.length)&&(0,j.jsx)(m.Z,{title:"No staff leave history."})]})]})}}}]);
//# sourceMappingURL=53006.1c8bfb64.chunk.js.map