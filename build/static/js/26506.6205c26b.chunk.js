"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[26506],{26506:function(e,n,t){t.r(n),t.d(n,{default:function(){return R}});var i=t(93433),l=t(29439),s=t(72791),o=t(82041),a=t(98734),d=t(84959),u=t(33992),c=t(80184),r=function(e){var n=e.id,t=e.children,i=(0,s.useState)(!1),r=(0,l.Z)(i,2),v=r[0],m=r[1],h=(0,d.FL)(),x=(0,l.Z)(h,1)[0],p=(0,u.SO)(),f=(0,l.Z)(p,1)[0];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:o.Z.exploreParent,children:(0,c.jsxs)("div",{className:o.Z.exploreChild,style:{width:"100%"},children:[(0,c.jsxs)("div",{className:o.Z.searchbar,style:{width:"100%"},children:[t,(0,c.jsx)("img",{alt:"img",src:"/images/search-dash-icon.svg"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:o.Z.upload_excel_file,htmlFor:"uploadExcel",children:(0,c.jsx)("img",{src:"/images/upload-xslx-icon.svg",alt:"add student icon",title:"Upload unapproved excel file"})}),(0,c.jsx)("input",{type:"file",id:"uploadExcel",accept:".xlsx",onChange:function(e){var t,i;if(null!==(t=e.target)&&void 0!==t&&null!==(i=t.files)&&void 0!==i&&i.length&&n){m((function(e){return!e}));var l=new FormData;l.append("file",e.target.files[0]),x({fileUpload:l}).then((function(e){var t,i;null!==(t=e.data)&&void 0!==t&&t.imageKey?f({id:n,excelFile:{excel_file:null===(i=e.data)||void 0===i?void 0:i.imageKey}}).then((function(){m((function(e){return!e}))})).catch({}):m((function(e){return!e}))})).catch({})}},style:{display:"none"}})]})]})}),v&&(0,c.jsx)(a.Z,{})]})},v=t(39230),m=t(35395),h=t(77037),x=t(11105),p=t(69721),f=function(e){var n,t,i=e.student,l=e.onViewProfile;return(0,c.jsxs)("div",{onClick:function(){return l(null===i||void 0===i?void 0:i._id)},children:[(0,c.jsxs)("div",{className:h.Z.oneRow,children:[(0,c.jsx)("div",{className:"".concat(h.Z.oneRowIndex," ").concat(h.Z.oneRowwIndex),children:(0,c.jsx)("p",{className:h.Z.oneRowIndexValue,children:null===i||void 0===i?void 0:i.studentGRNO})}),(0,c.jsxs)("div",{className:h.Z.oneRowName,children:[(0,c.jsx)("div",{className:h.Z.oneRowNameImage,children:(0,c.jsx)("img",{src:null!==i&&void 0!==i&&i.studentProfilePhoto?"".concat(p.yI,"/").concat(null===i||void 0===i?void 0:i.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy",alt:""})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:h.Z.oneRowNameText,children:"".concat(null===i||void 0===i?void 0:i.studentFirstName," ").concat(null!==i&&void 0!==i&&i.studentMiddleName?null===i||void 0===i?void 0:i.studentMiddleName:""," ").concat(null===i||void 0===i?void 0:i.studentLastName)}),(0,c.jsx)("p",{className:h.Z.oneRowNamePlaceholder,children:null!==i&&void 0!==i&&i.studentClass?null===i||void 0===i?void 0:i.studentClass.classTitle:""})]})]}),(0,c.jsxs)("div",{className:h.Z.oneRowContact,children:[(0,c.jsxs)("div",{className:h.Z.oneRowContactEmailIcon,children:[(0,c.jsx)("img",{src:"/images/user_signup/gender.svg",alt:"gender icon"}),(0,c.jsx)("p",{className:h.Z.oneRowContactEmail,children:null===i||void 0===i?void 0:i.studentGender})]}),(0,c.jsxs)("div",{className:h.Z.oneRowContactEmailIcon,children:[(0,c.jsx)("img",{src:"/images/phone-white.svg",alt:""}),(0,c.jsx)("p",{className:h.Z.oneRowContactNumber,children:null!==i&&void 0!==i&&i.user.userPhoneNumber?null===i||void 0===i?void 0:i.user.userPhoneNumber:null!==(n=null===i||void 0===i?void 0:i.user.userEmail)&&void 0!==n?n:""})]})]}),(0,c.jsx)("div",{className:h.Z.oneRowDate,children:(0,c.jsx)("p",{className:h.Z.oneRowDateText,children:null!==(t=null===i||void 0===i?void 0:i.applicable_fees_pending)&&void 0!==t?t:0})})]}),(0,c.jsx)("p",{className:h.Z.oneRowBottomBorder})]})},j=t(34219),g=t(23441),Z=t(763),N=t(39480),w=s.lazy((function(){return Promise.resolve().then(t.bind(t,78766))})),R=function(e){var n,t,a,d,p,R=e.instituteId,I=(0,v.$G)().t,b=(0,s.useState)(""),y=(0,l.Z)(b,2),C=y[0],_=y[1],S=(0,s.useState)([]),P=(0,l.Z)(S,2),k=P[0],E=P[1],F=(0,s.useState)(""),D=(0,l.Z)(F,2),O=D[0],G=D[1],T=(0,g.YD)(),B=(0,l.Z)(T,2),U=B[0],V=B[1],q=(0,s.useState)(1),K=(0,l.Z)(q,2),z=K[0],J=K[1],L=(0,s.useState)(!0),M=(0,l.Z)(L,2),W=M[0],Y=M[1],$=(0,s.useState)(!0),A=(0,l.Z)($,2),H=A[0],Q=A[1],X=(0,u.KW)({data:{id:R,page:z,limit:10,search:O},skip:!R}),ee=X.getUnapprovedStudentByInstitute,ne=X.getUnapprovedStudentByInstituteRefetch,te=(0,N.gq)({id:R,skip:!R}),ie=te.oneInstituteDashboard,le=te.oneInstituteDashboardRefetch;s.useEffect((function(){R&&le()}),[R,le]),(0,s.useEffect)((function(){R&&(Q(!0),ne())}),[R,z,O,ne]),(0,s.useEffect)((function(){V&&W&&J((function(e){return e+1}))}),[V,W]),(0,s.useEffect)((function(){var e,n;O?(E(null===ee||void 0===ee?void 0:ee.studentIns),Q(!1)):null!==ee&&void 0!==ee&&ee.studentIns?(E((function(e){var n,t;return null===(n=(0,i.Z)(new Set(null===(t=[].concat((0,i.Z)(e),(0,i.Z)(null===ee||void 0===ee?void 0:ee.studentIns)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),Q(!1)):0===(null===ee||void 0===ee||null===(n=ee.studentIns)||void 0===n?void 0:n.length)&&Q(!1);10===(null===ee||void 0===ee||null===(e=ee.studentIns)||void 0===e?void 0:e.length)?Y(!0):Y(!1)}),[null===ee||void 0===ee?void 0:ee.studentIns]);var se=function(e){_(e)},oe=(0,s.useCallback)((0,Z.debounce)((function(e){return G(e)}),500),[]);return(0,c.jsx)(c.Fragment,{children:C?(0,c.jsx)(m.Z,{children:(0,c.jsx)(w,{sid:C,onClose:function(){_("")}})}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(r,{id:R,children:(0,c.jsx)("input",{type:"text",placeholder:I("search"),name:"search",className:"form-control ".concat(o.Z.searchinput),onChange:function(e){oe(e.target.value)},style:{width:"95%"}})}),(0,c.jsxs)("div",{className:h.Z.header,children:[(0,c.jsxs)("p",{className:h.Z.index,children:[" ",null!==(n=null===ie||void 0===ie||null===(t=ie.institute)||void 0===t||null===(a=t.alias_pronounciation)||void 0===a?void 0:a.student_alias)&&void 0!==n?n:I("gr_no")]}),(0,c.jsx)("p",{className:h.Z.name,children:I("name")}),(0,c.jsx)("p",{className:h.Z.contact,children:I("contact_number")}),(0,c.jsx)("p",{className:h.Z.joinigDate,children:I("applicable_outs")})]}),(0,c.jsxs)("div",{className:h.Z.container,children:[null===k||void 0===k?void 0:k.map((function(e,n){return(null===k||void 0===k?void 0:k.length)===n+1?(0,c.jsx)("div",{ref:U,children:(0,c.jsx)(f,{onViewProfile:se,student:e})},null===e||void 0===e?void 0:e.studentGRNO):(0,c.jsx)(f,{onViewProfile:se,student:e},null===e||void 0===e?void 0:e.studentGRNO)})),!H&&!(null!==ee&&void 0!==ee&&null!==(d=ee.studentIns)&&void 0!==d&&d.length)&&(0,c.jsx)(j.Z,{customStyleContainer:{marginTop:"5rem"},title:"No student found.",subtitle:"Please make sure you have added unappoved students."}),O&&!H&&!(null!==ee&&void 0!==ee&&null!==(p=ee.studentIns)&&void 0!==p&&p.length)&&(0,c.jsx)(j.Z,{customStyleContainer:{marginTop:"5rem"},title:"No search found!"}),H&&(0,c.jsx)(x.Z,{})]})]})})}}}]);
//# sourceMappingURL=26506.6205c26b.chunk.js.map