"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[3877],{74801:function(e,t,a){var n=a(1413),s=(a(72791),a(16871)),i=a(43504),c=a(80184);t.Z=function(e){var t=e.carryParentState,a=e.activeTab,l=e.children,d=(0,s.UO)();return(0,c.jsx)(i.rU,{to:"/q/".concat(d.username,"/member/administrator?a=").concat(a),state:(0,n.Z)({},t),children:l})}},65408:function(e,t,a){a.d(t,{Z:function(){return h}});var n=a(29439),s=a(72791),i=a(33992),c=a(11105),l=a(1413),d=a(33148),o=a(69721),r=a(74801),u=a(8148),m=a(80184),v=function(e){var t,a,n,s,i,c,v,_,h,j,x,b,p,Z,g,f,N,y,P,S,T,D,I,k,A,q,C,w,M,E=e.sub,F=e.carryParentState,R=e.isView;return(0,m.jsx)(m.Fragment,{children:"DEPARTMENT_HEAD"===R?(0,m.jsx)(u.Z,{carryParentState:(0,l.Z)((0,l.Z)({},F),{},{subjectId:null===E||void 0===E?void 0:E._id,subjectName:"".concat(null===E||void 0===E?void 0:E.subjectName," ").concat(null!==E&&void 0!==E&&E.subject_category?"(".concat(null===E||void 0===E?void 0:E.subject_category,")"):""," ").concat(null!==E&&void 0!==E&&null!==(t=E.selected_batch_query)&&void 0!==t&&t.batchName?"(".concat(null===E||void 0===E||null===(a=E.selected_batch_query)||void 0===a?void 0:a.batchName,")"):""," ").concat("Optional"===(null===E||void 0===E?void 0:E.subjectOptional)?"(".concat(null===E||void 0===E?void 0:E.subjectOptional,")"):""),batchId:null===E||void 0===E||null===(n=E.selected_batch_query)||void 0===n?void 0:n._id}),activeTab:"subject-detail",children:(0,m.jsxs)("div",{className:d.Z.class_container,children:[(0,m.jsx)("img",{className:d.Z.oneRowImage,src:null!==E&&void 0!==E&&null!==(s=E.subjectTeacherName)&&void 0!==s&&s.staffProfilePhoto?"".concat(o.yI,"/").concat(null===E||void 0===E||null===(i=E.subjectTeacherName)||void 0===i?void 0:i.staffProfilePhoto):"/images/demo_users/user1.svg",alt:"staff avatr"}),(0,m.jsxs)("div",{className:d.Z.class_container_text,children:[(0,m.jsxs)("h6",{children:[null!==(c=null===E||void 0===E?void 0:E.subjectName)&&void 0!==c?c:""," ",null!==E&&void 0!==E&&E.subject_category?"(".concat(null===E||void 0===E?void 0:E.subject_category,")"):"",null!==E&&void 0!==E&&null!==(v=E.selected_batch_query)&&void 0!==v&&v.batchName?(0,m.jsxs)("span",{style:{fontWeight:"400",fontSize:"12px"},children:[" ","(",null!==(_=null===E||void 0===E||null===(h=E.selected_batch_query)||void 0===h?void 0:h.batchName)&&void 0!==_?_:"",")"]}):null,"Optional"===(null===E||void 0===E?void 0:E.subjectOptional)&&"(".concat(null===E||void 0===E?void 0:E.subjectOptional,")")]}),(0,m.jsx)("p",{children:"".concat(null!==(j=null===E||void 0===E||null===(x=E.subjectTeacherName)||void 0===x?void 0:x.staffFirstName)&&void 0!==j?j:""," ").concat(null!==(b=null===E||void 0===E||null===(p=E.subjectTeacherName)||void 0===p?void 0:p.staffMiddleName)&&void 0!==b?b:""," ").concat(null!==(Z=null===E||void 0===E||null===(g=E.subjectTeacherName)||void 0===g?void 0:g.staffLastName)&&void 0!==Z?Z:"")})]})]})}):(0,m.jsx)(r.Z,{carryParentState:(0,l.Z)((0,l.Z)({},F),{},{subjectId:null===E||void 0===E?void 0:E._id,subjectName:"".concat(null===E||void 0===E?void 0:E.subjectName," ").concat(null!==E&&void 0!==E&&E.subject_category?"(".concat(null===E||void 0===E?void 0:E.subject_category,")"):""," ").concat(null!==E&&void 0!==E&&null!==(f=E.selected_batch_query)&&void 0!==f&&f.batchName?"(".concat(null===E||void 0===E||null===(N=E.selected_batch_query)||void 0===N?void 0:N.batchName,")"):""," ").concat("Optional"===(null===E||void 0===E?void 0:E.subjectOptional)&&"(".concat(null===E||void 0===E?void 0:E.subjectOptional,")")),isView:"ADMINISTRATOR"}),activeTab:"subject",children:(0,m.jsxs)("div",{className:d.Z.class_container,children:[(0,m.jsx)("img",{className:d.Z.oneRowImage,src:null!==E&&void 0!==E&&null!==(y=E.subjectTeacherName)&&void 0!==y&&y.staffProfilePhoto?"".concat(o.yI,"/").concat(null===E||void 0===E||null===(P=E.subjectTeacherName)||void 0===P?void 0:P.staffProfilePhoto):"/images/demo_users/user1.svg",alt:"staff avatr"}),(0,m.jsxs)("div",{className:d.Z.class_container_text,children:[(0,m.jsxs)("h6",{children:[null!==(S=null===E||void 0===E?void 0:E.subjectName)&&void 0!==S?S:""," ",null!==E&&void 0!==E&&E.subject_category?"(".concat(null===E||void 0===E?void 0:E.subject_category,")"):"",null!==E&&void 0!==E&&null!==(T=E.selected_batch_query)&&void 0!==T&&T.batchName?(0,m.jsxs)("span",{style:{fontWeight:"400",fontSize:"12px"},children:[" ","(",null!==(D=null===E||void 0===E||null===(I=E.selected_batch_query)||void 0===I?void 0:I.batchName)&&void 0!==D?D:"",")"]}):null,"Optional"===(null===E||void 0===E?void 0:E.subjectOptional)&&"(".concat(null===E||void 0===E?void 0:E.subjectOptional,")")]}),(0,m.jsx)("p",{children:"".concat(null!==(k=null===E||void 0===E||null===(A=E.subjectTeacherName)||void 0===A?void 0:A.staffFirstName)&&void 0!==k?k:""," ").concat(null!==(q=null===E||void 0===E||null===(C=E.subjectTeacherName)||void 0===C?void 0:C.staffMiddleName)&&void 0!==q?q:""," ").concat(null!==(w=null===E||void 0===E||null===(M=E.subjectTeacherName)||void 0===M?void 0:M.staffLastName)&&void 0!==w?w:"")})]})]})})})},_=function(e){var t=e.subjects,a=e.carryParentState,n=e.isView;return(0,m.jsx)(m.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e){return(0,m.jsx)(v,{sub:e,carryParentState:a,isView:n},null===e||void 0===e?void 0:e._id)}))})},h=function(e){var t,a,l,d=e.carryParentState,o=e.clsId,r=e.isView,u=(0,s.useState)(!0),v=(0,n.Z)(u,2),h=v[0],j=v[1],x=(0,i.fk)({cid:o,skip:!o}),b=x.oneClassAllSubject,p=x.oneClassAllSubjectRefetch;return(0,s.useEffect)((function(){var e;null!==b&&void 0!==b&&null!==(e=b.classes)&&void 0!==e&&e.subject&&j(!1)}),[null===b||void 0===b||null===(t=b.classes)||void 0===t?void 0:t.subject]),(0,s.useEffect)((function(){o&&p()}),[o,p]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(_,{subjects:null!==(a=null===b||void 0===b||null===(l=b.classes)||void 0===l?void 0:l.subject)&&void 0!==a?a:[],carryParentState:d,isView:r||"ADMINISTRATOR"}),h&&(0,m.jsx)(c.Z,{})]})}},893:function(e,t,a){a.d(t,{Z:function(){return f}});var n=a(93433),s=a(37762),i=a(29439),c=a(72791),l=a(16313),d=a(53967),o=a(94721),r=a(89261),u=a(62921),m=a(17758),v=a(39230),_=a(24582),h=a(98734),j=a(37570),x=a(78687),b=a(99376),p=a(36721),Z=a(80184),g=function(e){var t=e.today,a=e.alreadyMark,n=e.allIdsArray,d=e.clickedIndex,o=e.setClickedIndex,r=e.idPresentArray,u=e.idAbsentArray,m=e.setIdPresentArray,g=e.setIdAbsentArray,f=e.cid,N=e.isDepartment,y=e.className,P=e.setIsRefetch,S=c.useState(!1),T=(0,i.Z)(S,2),D=T[0],I=T[1],k=c.useState(!1),A=(0,i.Z)(k,2),q=A[0],C=A[1],w=(0,_.b6)(),M=(0,i.Z)(w,1)[0],E=(0,_.wf)(),F=(0,i.Z)(E,1)[0],R=(0,v.$G)().t,O=(0,c.useState)(!1),H=(0,i.Z)(O,2),L=H[0],V=H[1],G=(0,x.useDispatch)(),U=(0,c.useState)({msg:"",run:!1}),J=(0,i.Z)(U,2),Q=J[0],$=J[1];c.useEffect((function(){null!==r&&void 0!==r&&r.length||null!==u&&void 0!==u&&u.length?I(!0):I(!1)}),[r,u]);var B=function(){V((function(e){return!e}))};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:"1.5rem"},children:[(0,Z.jsx)("div",{className:l.Z.buttons,children:(0,Z.jsx)("div",{className:l.Z.save,onClick:B,children:R("export_zip_attendance")})}),(0,Z.jsx)("div",{className:l.Z.buttons,children:0!==d?D&&!N&&(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("div",{className:l.Z.save,onClick:function(){C((function(e){return!e}));var e=t.split("-"),i=e[0]>9?e[0]:"0".concat(e[0]),c=e[1]>9?e[1]:"0".concat(e[1]);if(null!==a&&void 0!==a&&a._id)G(b.R.updateClassAttendance({clsId:f,ldate:"".concat(i,"/").concat(c,"/").concat(e[2]),presentStudent:null!==r&&void 0!==r&&r.length?r:[],absentStudent:null!==u&&void 0!==u&&u.length?u:[],alreadyMark:null===a||void 0===a?void 0:a._id})),F({said:null===a||void 0===a?void 0:a._id,attendanceUpdate:{date:"".concat(i,"/").concat(c,"/").concat(e[2]),present:null!==r&&void 0!==r&&r.length?r:[],absent:null!==u&&void 0!==u&&u.length?u:[]}}).then((function(){P(!0),o(0),C((function(e){return!e})),m([]),g([])})).catch({});else{var l=[];null===n||void 0===n||n.map((function(e){return l.push(e._id)}));var d=[],v=[];if(null!==r&&void 0!==r&&r.length){var _,h=(0,s.Z)(l);try{for(h.s();!(_=h.n()).done;){var j=_.value;null!==r&&void 0!==r&&r.includes(j)||v.push(j),1}}catch(N){h.e(N)}finally{h.f()}}else{var x,p=(0,s.Z)(l);try{for(p.s();!(x=p.n()).done;){var Z=x.value;null!==u&&void 0!==u&&u.includes(Z)||d.push(Z),1}}catch(N){p.e(N)}finally{p.f()}}M({cid:f,attendance:{date:"".concat(i,"/").concat(c,"/").concat(e[2]),present:null!==r&&void 0!==r&&r.length?r:d,absent:null!==u&&void 0!==u&&u.length?u:v}}).then((function(t){var a,n;"Today will be holiday Provided by department Admin or already marked attendance"===(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)?$({msg:"Today will be holiday Provided by department Admin or already marked attendance",run:!0}):G(b.R.addClassAttendance({clsId:f,ldate:"".concat(i,"/").concat(c,"/").concat(e[2]),presentStudent:null!==r&&void 0!==r&&r.length?r:d,absentStudent:null!==u&&void 0!==u&&u.length?u:v,alreadyMark:null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.alreadyMark}));o(0),C((function(e){return!e})),m([]),g([])})).catch({})}},children:R("save")})}):""})]}),q&&(0,Z.jsx)(h.Z,{}),L&&(0,Z.jsx)(j.Z,{cid:f,onClose:B,className:y}),Q.run&&(0,Z.jsx)(p.Ch,{msg:Q.msg,run:Q.run,setRun:function(){return $({msg:"",run:!1})},postiton:"bottom",type:"error"})]})};var f=function(e){var t,a,h,j,b,p,f,N,y,P,S,T,D,I,k=e.cid,A=e.isDepartment,q=e.className,C=(0,d.Z)(),w=C.calendarData,M=C.selectedDate,E=C.todayFormatted,F=C.switchMonth,R=C.monthNames,O=C.getNextMonth,H=C.getPrevMonth,L=(0,c.useState)(E),V=(0,i.Z)(L,2),G=V[0],U=V[1],J=G.split("-"),Q=J[0]>9?J[0]:"0".concat(J[0]),$=J[1]>9?J[1]:"0".concat(J[1]),B=(0,v.$G)().t,Y=(0,x.useSelector)((function(e){return e.attendanceStore.classTeacher})),z=(0,c.useState)(""),W=(0,i.Z)(z,2),X=W[0],K=W[1],ee=(0,c.useState)(!1),te=(0,i.Z)(ee,2),ae=te[0],ne=te[1],se=(0,_.EY)({data:{cid:k,page:1,limit:30},skip:!k}),ie=se.classAllStudent,ce=se.classAllStudentRefetch,le=(0,_.Px)({cid:k,date:"".concat(Q,"/").concat($,"/").concat(J[2])}),de=le.classStudentCurrentAttendance,oe=le.classStudentCurrentAttendanceRefetch;(0,c.useEffect)((function(){if((null===Y||void 0===Y?void 0:Y.length)>0){var e,t=G.split("-"),a=t[0]>9?t[0]:"0".concat(t[0]),n=t[1]>9?t[1]:"0".concat(t[1]),i="",c=(0,s.Z)(Y);try{for(c.s();!(e=c.n()).done;){var l=e.value;if((null===l||void 0===l?void 0:l.ldate)==="".concat(a,"/").concat(n,"/").concat(t[2])){if((null===l||void 0===l?void 0:l.clsId)===k){i=l;break}ne(!1)}else ne(!1)}}catch(d){c.e(d)}finally{c.f()}K(i)}}),[Y,G,k,ae]),(0,c.useEffect)((function(){k&&(ce(),oe())}),[k,oe,ce]);var re=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ue=Math.floor(w.map((function(e){return e.date})).indexOf(G)/10),me=(0,c.useState)(ue),ve=(0,i.Z)(me,2),_e=ve[0],he=ve[1],je=10*_e,xe=Math.ceil(w.length/10),be=w.slice(je,je+10).map((function(e,t){return(0,Z.jsxs)("div",{className:e.date===G?"".concat(l.Z.date," ").concat(l.Z.clickedDate):l.Z.date,onClick:function(){return U(e.date)},children:[(0,Z.jsx)("h6",{children:e.date.split("-")[0]}),(0,Z.jsx)("p",{children:re[e.day]})]},t)})),pe=(0,c.useState)(0),Ze=(0,i.Z)(pe,2),ge=Ze[0],fe=Ze[1],Ne=(0,c.useState)([]),ye=(0,i.Z)(Ne,2),Pe=ye[0],Se=ye[1],Te=(0,c.useState)([]),De=(0,i.Z)(Te,2),Ie=De[0],ke=De[1],Ae=c.useState([]),qe=(0,i.Z)(Ae,2),Ce=qe[0],we=qe[1],Me=c.useState([]),Ee=(0,i.Z)(Me,2),Fe=Ee[0],Re=Ee[1],Oe=(0,c.useState)(!1),He=(0,i.Z)(Oe,2),Le=He[0],Ve=He[1];c.useEffect((function(){var e,t;Se(null===ie||void 0===ie||null===(e=ie.classes)||void 0===e?void 0:e.ApproveStudent),ke(null===ie||void 0===ie||null===(t=ie.classes)||void 0===t?void 0:t.ApproveStudent)}),[null===ie||void 0===ie||null===(t=ie.classes)||void 0===t?void 0:t.ApproveStudent]),c.useEffect((function(){we([]),Re([])}),[ge]);var Ge=function(e){var t=(0,n.Z)(Ce);if(null!==t&&void 0!==t&&t.includes(e)){var a=t.indexOf(e);t.splice(a,1),we((function(){return(0,n.Z)(t)}))}else we((function(t){return[].concat((0,n.Z)(t),[e])}))},Ue=function(e){var t=(0,n.Z)(Fe);if(null!==t&&void 0!==t&&t.includes(e)){var a=t.indexOf(e);t.splice(a,1),Re((function(){return(0,n.Z)(t)}))}else Re((function(t){return[].concat((0,n.Z)(t),[e])}))};return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("div",{className:l.Z.attendence,style:{border:A?"none":"0.5px solid #cacaca"},children:[(0,Z.jsxs)("div",{className:l.Z.attendencehead,children:[(0,Z.jsxs)("div",{className:l.Z.attendenceBtns,children:[(0,Z.jsxs)("div",{className:l.Z.changemonth,onClick:function(){return Ve(!Le)},children:[(0,Z.jsxs)("h6",{children:[R[M.getMonth()]," ",M.getFullYear()]}),(0,Z.jsx)("img",{alt:"not found",src:"/images/dropdown-icon.svg"}),Le&&(0,Z.jsx)("div",{className:l.Z.selectMonthList,children:["January","February","March","April","May","June","July","August","September","October","November","December"].map((function(e,t){return(0,Z.jsx)("div",{className:l.Z.month,onClick:function(){F(t),Ve(!1)},children:e},t)}))})]}),(0,Z.jsx)(g,{alreadyMark:X?{_id:null===X||void 0===X?void 0:X.alreadyMark}:null===de||void 0===de||null===(a=de.classes)||void 0===a||null===(h=a.attendenceDate)||void 0===h?void 0:h[0],today:G,allIdsArray:null===ie||void 0===ie||null===(j=ie.classes)||void 0===j?void 0:j.ApproveStudent,classStudentCurrentAttendanceRefetch:oe,clickedIndex:ge,setClickedIndex:fe,idPresentArray:Ce,idAbsentArray:Fe,setIdPresentArray:we,setIdAbsentArray:Re,cid:k,isDepartment:A,className:q,setIsRefetch:ne})]}),(0,Z.jsxs)("div",{className:l.Z.calender,children:[(0,Z.jsx)("div",{className:l.Z.arrowbtn,onClick:function(){_e>0?he((function(e){return e-1})):(he(xe-1),H())},children:(0,Z.jsx)("img",{alt:"not found",src:"/images/members/left-icon.svg"})}),(0,Z.jsx)("div",{className:l.Z.dates,children:be}),(0,Z.jsx)("div",{className:l.Z.arrowbtn,onClick:function(){_e+1<xe?he((function(e){return e+1})):(he(0),O())},children:(0,Z.jsx)("img",{alt:"not found",src:"/images/members/right-icon.svg"})})]})]}),(0,Z.jsx)(o.Z,{}),(0,Z.jsxs)("div",{className:l.Z.tabs,children:[(0,Z.jsxs)("div",{className:0===ge?"".concat(l.Z.tab," ").concat(l.Z.purple):"".concat(l.Z.tab," ").concat(l.Z.grey),onClick:function(){return fe(0)},children:[B("total")," ",null===ie||void 0===ie||null===(b=ie.classes)||void 0===b||null===(p=b.ApproveStudent)||void 0===p?void 0:p.length]}),(0,Z.jsxs)("div",{className:1===ge?"".concat(l.Z.tab," ").concat(l.Z.tabgreen):"".concat(l.Z.tab," ").concat(l.Z.light),onClick:function(){return fe(1)},children:[B("present")," ",X?null!==(f=null===X||void 0===X?void 0:X.presentCount)&&void 0!==f?f:0:null===de||void 0===de||null===(N=de.classes)||void 0===N||null===(y=N.attendenceDate[0])||void 0===y?void 0:y.presentTotal]}),(0,Z.jsxs)("div",{className:2===ge?"".concat(l.Z.tab," ").concat(l.Z.red):"".concat(l.Z.tab," ").concat(l.Z.rose),onClick:function(){return fe(2)},children:[B("absent")," ",X?null!==(P=null===X||void 0===X?void 0:X.absentCount)&&void 0!==P?P:0:null===de||void 0===de||null===(S=de.classes)||void 0===S||null===(T=S.attendenceDate[0])||void 0===T?void 0:T.absentTotal]})]}),(0,Z.jsxs)("div",{className:l.Z.list,children:[0===ge&&(null===ie||void 0===ie||null===(D=ie.classes)||void 0===D||null===(I=D.ApproveStudent)||void 0===I?void 0:I.map((function(e,t){var a,n,s,i,c,d,o,u;return X?null!==X&&void 0!==X&&null!==(a=X.presentStudent)&&void 0!==a&&a.includes(e._id)?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(r.Z,{student:e,status:"present"},t),(0,Z.jsx)("div",{className:l.Z.divider})]}):null!==X&&void 0!==X&&null!==(n=X.absentStudent)&&void 0!==n&&n.includes(e._id)?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(r.Z,{student:e,status:"absent"},t),(0,Z.jsx)("div",{className:l.Z.divider})]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(r.Z,{student:e,status:"initial"},t),(0,Z.jsx)("div",{className:l.Z.divider})]}):null!==de&&void 0!==de&&null!==(s=de.classes)&&void 0!==s&&null!==(i=s.attendenceDate[0])&&void 0!==i&&null!==(c=i.presentStudent)&&void 0!==c&&c.includes(e._id)?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(r.Z,{student:e,status:"present"},t),(0,Z.jsx)("div",{className:l.Z.divider})]}):null!==de&&void 0!==de&&null!==(d=de.classes)&&void 0!==d&&null!==(o=d.attendenceDate[0])&&void 0!==o&&null!==(u=o.absentStudent)&&void 0!==u&&u.includes(e._id)?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(r.Z,{student:e,status:"absent"},t),(0,Z.jsx)("div",{className:l.Z.divider})]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(r.Z,{student:e,status:"initial"},t),(0,Z.jsx)("div",{className:l.Z.divider})]})}))),1===ge&&(null===Pe||void 0===Pe?void 0:Pe.length)>0&&(null===Pe||void 0===Pe?void 0:Pe.map((function(e,t){var a,n,s,i;return X?null!==X&&void 0!==X&&null!==(a=X.presentStudent)&&void 0!==a&&a.includes(e._id)?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(u.Z,{student:e,status:"present",presentTabHandler:Ge},t),(0,Z.jsx)("div",{className:l.Z.divider})]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(u.Z,{student:e,presentTabHandler:Ge,status:"absent"},t),(0,Z.jsx)("div",{className:l.Z.divider})]}):null!==de&&void 0!==de&&null!==(n=de.classes)&&void 0!==n&&null!==(s=n.attendenceDate[0])&&void 0!==s&&null!==(i=s.presentStudent)&&void 0!==i&&i.includes(e._id)?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(u.Z,{student:e,status:"present",presentTabHandler:Ge},t),(0,Z.jsx)("div",{className:l.Z.divider})]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(u.Z,{student:e,presentTabHandler:Ge,status:"absent"},t),(0,Z.jsx)("div",{className:l.Z.divider})]})}))),2===ge&&(null===Ie||void 0===Ie?void 0:Ie.length)>0&&(null===Ie||void 0===Ie?void 0:Ie.map((function(e,t){var a,n,s,i;return X?null!==X&&void 0!==X&&null!==(a=X.absentStudent)&&void 0!==a&&a.includes(e._id)?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(m.Z,{student:e,status:"absent",absentTabHandler:Ue},t),(0,Z.jsx)("div",{className:l.Z.divider})]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(m.Z,{student:e,status:"present",absentTabHandler:Ue},t),(0,Z.jsx)("div",{className:l.Z.divider})]}):null!==de&&void 0!==de&&null!==(n=de.classes)&&void 0!==n&&null!==(s=n.attendenceDate[0])&&void 0!==s&&null!==(i=s.absentStudent)&&void 0!==i&&i.includes(e._id)?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(m.Z,{student:e,status:"absent",absentTabHandler:Ue},t),(0,Z.jsx)("div",{className:l.Z.divider})]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(m.Z,{student:e,status:"present",absentTabHandler:Ue},t),(0,Z.jsx)("div",{className:l.Z.divider})]})})))]})]})})}},13877:function(e,t,a){a.d(t,{Z:function(){return E}});var n=a(29439),s=a(72791),i=a(16871),c=a(43504),l=a(39230),d=a(22984),o=a(80184);var r=function(e){var t,a,n,s=e.carryParentState,r=(0,l.$G)().t,u=(0,i.TH)(),m=(0,i.UO)();return(0,o.jsx)("div",{className:d.Z.mcqTop,style:{padding:"0"},children:(0,o.jsxs)("div",{className:d.Z.mcqToptabs,children:[(0,o.jsx)(c.rU,{to:"/q/".concat(m.username,"/member/department/").concat(m.deptname,"?a=class-detail"),state:s,className:"class-detail"===(null===(t=u.search)||void 0===t?void 0:t.substring(3))?"".concat(d.Z.mcqTopItem," ").concat(d.Z.active):d.Z.mcqTopItem,children:(0,o.jsx)("div",{children:r("students")})}),(0,o.jsx)(c.rU,{to:"/q/".concat(m.username,"/member/department/").concat(m.deptname,"?a=class-attendance"),state:s,className:"class-attendance"===(null===(a=u.search)||void 0===a?void 0:a.substring(3))?"".concat(d.Z.mcqTopItem," ").concat(d.Z.active):d.Z.mcqTopItem,children:(0,o.jsx)("div",{children:r("attendance")})}),(0,o.jsx)(c.rU,{to:"/q/".concat(m.username,"/member/department/").concat(m.deptname,"?a=class-subject"),state:s,className:"class-subject"===(null===(n=u.search)||void 0===n?void 0:n.substring(3))?"".concat(d.Z.mcqTopItem," ").concat(d.Z.active):d.Z.mcqTopItem,children:(0,o.jsx)("div",{children:r("subjects")})})]})})},u=a(33148),m=a(23664),v=a(65408),_=a(60943),h=a(893),j=a(8148),x=a(11806),b=a(60726),p=function(e){var t=e.carryParentState,a=e.isDepartment,n=(0,l.$G)().t;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:x.Z.MiddleContentLeft,style:{border:"none"},children:"CLASS_TEACHER"===a?(0,o.jsxs)("div",{className:x.Z.item,style:{paddingLeft:"2vw"},children:[(0,o.jsx)(b.Z,{carryParentState:t,activeTab:"subject-catalog",children:(0,o.jsxs)("div",{className:x.Z.itemIcon,children:[(0,o.jsx)("img",{src:"/images/member_tab/class/class-catalog-icon.svg",alt:"Class Catalog"}),(0,o.jsx)("p",{children:n("catalog")})]})}),(0,o.jsx)(b.Z,{carryParentState:t,activeTab:"subject-attendance",children:(0,o.jsxs)("div",{className:x.Z.itemIcon,children:[(0,o.jsx)("img",{src:"/images/member_tab/class/class-attendance-icon.svg",alt:"attendence"}),(0,o.jsxs)("p",{children:[" ",n("attendance")," "]})]})}),(0,o.jsx)(b.Z,{carryParentState:t,activeTab:"subject-assignment",children:(0,o.jsxs)("div",{className:x.Z.itemIcon,children:[(0,o.jsx)("img",{src:"/images/member_tab/subject/subject-assignment-icon.svg",alt:"assignment"}),(0,o.jsx)("p",{children:n("assigmnent")})]})}),(0,o.jsx)(b.Z,{carryParentState:t,activeTab:"subject-exam",children:(0,o.jsxs)("div",{className:x.Z.itemIcon,children:[(0,o.jsx)("img",{src:"/images/member_tab/department/department-examination-icon.svg",alt:"attendence"}),(0,o.jsx)("p",{children:n("examinations")})]})}),(0,o.jsx)(b.Z,{carryParentState:t,activeTab:"subject-academic",children:(0,o.jsxs)("div",{className:x.Z.itemIcon,children:[(0,o.jsx)("img",{src:"/images/member_tab/subject/subject-daily-update-icon.svg",alt:"student Request"}),(0,o.jsx)("p",{style:{textAlign:"center"},children:n("academics_teachings")})]})})]}):(0,o.jsxs)("div",{className:x.Z.item,style:{paddingLeft:"2vw"},children:[(0,o.jsx)(j.Z,{carryParentState:t,activeTab:"subject-catalog",children:(0,o.jsxs)("div",{className:x.Z.itemIcon,children:[(0,o.jsx)("img",{src:"/images/member_tab/class/class-catalog-icon.svg",alt:"Class Catalog"}),(0,o.jsx)("p",{children:n("catalog")})]})}),(0,o.jsx)(j.Z,{carryParentState:t,activeTab:"subject-attendance",children:(0,o.jsxs)("div",{className:x.Z.itemIcon,children:[(0,o.jsx)("img",{src:"/images/member_tab/class/class-attendance-icon.svg",alt:"attendence"}),(0,o.jsxs)("p",{children:[" ",n("attendance")," "]})]})}),(0,o.jsx)(j.Z,{carryParentState:t,activeTab:"subject-assignment",children:(0,o.jsxs)("div",{className:x.Z.itemIcon,children:[(0,o.jsx)("img",{src:"/images/member_tab/subject/subject-assignment-icon.svg",alt:"assignment"}),(0,o.jsx)("p",{children:n("assigmnent")})]})}),(0,o.jsx)(j.Z,{carryParentState:t,activeTab:"subject-exam",children:(0,o.jsxs)("div",{className:x.Z.itemIcon,children:[(0,o.jsx)("img",{src:"/images/member_tab/department/department-examination-icon.svg",alt:"attendence"}),(0,o.jsx)("p",{children:n("examinations")})]})}),(0,o.jsx)(j.Z,{carryParentState:t,activeTab:"subject-academic",children:(0,o.jsxs)("div",{className:x.Z.itemIcon,children:[(0,o.jsx)("img",{src:"/images/member_tab/subject/subject-daily-update-icon.svg",alt:"student Request"}),(0,o.jsx)("p",{style:{textAlign:"center"},children:n("academics_teachings")})]})})]})})})},Z=a(81411),g=a(11457),f=a(40444),N=a(36721),y=a(99612),P=a(69721),S=a(71342);var T=function(e){var t,a=e.examView,n=(0,l.$G)().t,i=(0,f.dn)({data:{atsid:null===a||void 0===a?void 0:a._id,page:1,limit:50},skip:!(null!==a&&void 0!==a&&a._id)}),c=i.subjectMcqTestsetAlloted,d=i.subjectMcqTestsetAllotedRefetch;return(0,s.useEffect)((function(){null!==a&&void 0!==a&&a._id&&d()}),[null===a||void 0===a?void 0:a._id,d]),(0,o.jsxs)("div",{className:S.Z.markDetails,children:[(0,o.jsx)("div",{className:S.Z.markDetailsHeader,children:(0,o.jsxs)("h6",{children:[(0,o.jsxs)("span",{className:S.Z.span,children:[" ",n("exam")," : "]})," ",null===a||void 0===a?void 0:a.testExamName]})}),(0,o.jsx)("div",{className:S.Z.markDetailsHeader2,children:(0,o.jsxs)("h6",{children:[(0,o.jsxs)("span",{className:S.Z.span2,children:[" ",n("maximum_marks")," : "]})," ",null===a||void 0===a?void 0:a.testTotalNumber]})}),(0,o.jsx)("div",{className:S.Z.table,children:(0,o.jsxs)("table",{children:[(0,o.jsx)("thead",{className:S.Z.thead,children:(0,o.jsxs)("tr",{className:S.Z.tr,children:[(0,o.jsx)("th",{className:S.Z.th,children:n("roll_no")}),(0,o.jsx)("th",{className:S.Z.th,children:n("name")}),(0,o.jsx)("th",{className:"".concat(S.Z.th," ").concat(S.Z.thMargin),children:n("ob")})]})}),(0,o.jsx)("tbody",{className:S.Z.tbody,children:null===c||void 0===c||null===(t=c.studentList)||void 0===t?void 0:t.map((function(e){var t,a;return(0,o.jsxs)("tr",{className:S.Z.tr,children:[(0,o.jsx)("td",{className:S.Z.td,children:null===e||void 0===e?void 0:e.studentROLLNO}),(0,o.jsx)("td",{className:S.Z.td,children:(0,o.jsxs)("div",{className:S.Z.student,children:[(0,o.jsx)("img",{src:null!==e&&void 0!==e&&e.studentProfilePhoto?"".concat(P.yI,"/").concat(null===e||void 0===e?void 0:e.studentProfilePhoto):"/images/demo_users/user1.svg",alt:""}),(0,o.jsxs)("h6",{children:[null===e||void 0===e?void 0:e.studentFirstName," ",null!==e&&void 0!==e&&e.studentMiddleName?null===e||void 0===e?void 0:e.studentMiddleName:" "," ",null===e||void 0===e?void 0:e.studentLastName]})]})}),(0,o.jsx)("td",{className:S.Z.td,children:(0,o.jsx)("input",{type:"number",name:"student",defaultValue:null===e||void 0===e||null===(t=e.testSet)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.testObtainMarks,readOnly:!0,disabled:!0})})]},null===e||void 0===e?void 0:e._id)}))})]})})]})},D=a(53478),I=a(7280);var k=function(e){var t=e.exam,a=e.onExamView,n=(0,l.$G)().t;return(0,o.jsxs)("div",{className:D.Z.sidebarheader,onClick:function(){return a(t)},title:"See exam",children:[(0,o.jsx)("div",{className:D.Z.dot}),(0,o.jsx)("img",{src:"/images/members/exam-icon.svg",alt:""}),(0,o.jsxs)("div",{className:D.Z.text,children:[(0,o.jsx)("div",{className:D.Z.insName,children:(0,o.jsx)("h6",{children:null===t||void 0===t?void 0:t.examName})}),"Final"===(null===t||void 0===t?void 0:t.examType)?"":(0,o.jsx)("div",{className:D.Z.insUserName,children:(0,o.jsxs)("p",{children:[n("weightage"),": ",null===t||void 0===t?void 0:t.examWeight," %"]})})]}),(0,o.jsxs)("div",{className:D.Z.date,children:[(0,o.jsxs)("h6",{children:[" ",n("total_marks")," ",null===t||void 0===t?void 0:t.totalMarks]}),(0,o.jsx)("p",{children:null===t||void 0===t?void 0:t.examType})]})]})};var A=function(e){var t,a,i=e.sid,c=e.isDepartment,d=(0,l.$G)().t,r=s.useState(0),u=(0,n.Z)(r,2),m=u[0],v=u[1],_=(0,s.useState)(null),h=(0,n.Z)(_,2),j=h[0],x=h[1],b=(0,s.useState)(!1),p=(0,n.Z)(b,2),Z=p[0],g=p[1],P=(0,s.useState)(""),S=(0,n.Z)(P,2),A=S[0],q=(S[1],(0,f.vZ)({data:{sid:i,page:1,limit:50},skip:!i})),C=q.subjectAllExam,w=q.subjectAllExamRefetch,M=(0,f.LX)({data:{sid:i,page:1,limit:50},skip:!i}),E=M.subjectMcqTestsetTakenList,F=M.subjectMcqTestsetTakenListRefetch;(0,s.useEffect)((function(){i&&(w(),F())}),[i,w,F]);var R=function(e){v(1),x(e)};return(0,o.jsxs)(o.Fragment,{children:[0===m&&(0,o.jsx)("div",{className:D.Z.exam_tab_space,children:(0,o.jsx)(I.Z,{isDepartment:c,children:(0,o.jsxs)("div",{className:D.Z.all_exam_main_container,children:[(0,o.jsxs)("div",{className:D.Z.exam_container,children:[(0,o.jsx)("h4",{className:D.Z.exam_heading,children:d("exams")}),null===C||void 0===C||null===(t=C.subject)||void 0===t?void 0:t.map((function(e){return(0,o.jsx)(k,{exam:e,onExamView:R},null===e||void 0===e?void 0:e._id)}))]}),(0,o.jsxs)("div",{className:D.Z.exam_container,children:[(0,o.jsx)("h4",{className:D.Z.exam_heading,children:d("mcq_mock_test")}),null===E||void 0===E||null===(a=E.allotedTestSet)||void 0===a?void 0:a.map((function(e){var t,a,n,s;return(0,o.jsxs)("div",{className:D.Z.sidebarheader,onClick:function(){return t=e,v(2),void x(t);var t},children:[(0,o.jsx)("img",{src:"/images/members/mcq-exam-icon1.svg",alt:""}),(0,o.jsx)("div",{className:D.Z.text,children:(0,o.jsxs)("div",{className:D.Z.insName,children:[(0,o.jsx)("h6",{children:null===e||void 0===e?void 0:e.testExamName}),(0,o.jsx)("p",{className:D.Z.exam_mcq_date,style:{marginTop:"0.1vw"},children:null===e||void 0===e?void 0:e.testDate})]})}),(0,o.jsxs)("div",{className:D.Z.date,children:[(0,o.jsx)("h6",{children:null===e||void 0===e?void 0:e.testTotalNumber}),(0,o.jsxs)("p",{children:["".concat(null===e||void 0===e||null===(t=e.testStart)||void 0===t?void 0:t.substr(0,5)," ").concat(null===e||void 0===e||null===(a=e.testStart)||void 0===a?void 0:a.substr(9))," ","to"," ","".concat(null===e||void 0===e||null===(n=e.testEnd)||void 0===n?void 0:n.substr(0,5)," ").concat(null===e||void 0===e||null===(s=e.testEnd)||void 0===s?void 0:s.substr(9))]})]})]},null===e||void 0===e?void 0:e._id)}))]})]})})}),1===m&&(0,o.jsx)(y.Z,{examView:j,sid:i,isDepartment:c}),2===m&&(0,o.jsx)(T,{examView:j}),(0,o.jsx)(N.SY,{msg:A,run:Z,setRun:g})]})},q=a(60463),C=a(46480),w=a(6763),M=a(61587),E=function(e){var t,a,s,d,j,x,b,f,N,y,P,S,T,D,I,k,E,F,R,O,H,L,V=e.carryParentState,G=e.viewAs,U=(0,l.$G)().t,J=(0,i.TH)(),Q=(0,c.lr)(),$=(0,n.Z)(Q,1)[0];return(0,o.jsx)(o.Fragment,{children:"subject-academic-detail"===$.get("a")?(0,o.jsx)(C.Z,{}):"assignment-detail"===$.get("a")?(0,o.jsx)(w.Z,{isDepartment:G,carryParentState:V}):"assignment-student-detail"===$.get("a")?(0,o.jsx)(M.Z,{isDepartment:G}):(0,o.jsx)("div",{className:u.Z.departmenthead,children:(0,o.jsxs)("div",{className:u.Z.demaprtment_list,children:[(0,o.jsx)("div",{className:u.Z.with_search,style:{marginBottom:"0.7rem"},children:"subject"===(null===(t=$.get("a"))||void 0===t?void 0:t.substring(0,7))?(0,o.jsxs)("h6",{children:[U("subject_name")," : ",null!==(a=null===(s=J.state)||void 0===s?void 0:s.subjectName)&&void 0!==a?a:""]}):(0,o.jsxs)("h6",{children:[U("class_name")," : ",null!==(d=null===(j=J.state)||void 0===j?void 0:j.clsName)&&void 0!==d?d:""]})}),"subject-detail"===$.get("a")?(0,o.jsx)(p,{carryParentState:V,isDepartment:G}):"subject-catalog"===$.get("a")?(0,o.jsx)(_.Z,{cid:null===(x=J.state)||void 0===x?void 0:x.clsId,bid:null===(b=J.state)||void 0===b?void 0:b.batchId,isDepartment:G,sid:null===(f=J.state)||void 0===f?void 0:f.subjectId}):"subject-attendance"===$.get("a")?(0,o.jsx)(Z.Z,{sid:null===(N=J.state)||void 0===N?void 0:N.subjectId,bid:null===(y=J.state)||void 0===y?void 0:y.batchId,isDepartment:G,subjectName:null!==(P=null===(S=J.state)||void 0===S?void 0:S.subjectName)&&void 0!==P?P:""}):"subject-assignment"===$.get("a")?(0,o.jsx)(g.Z,{sid:null===(T=J.state)||void 0===T?void 0:T.subjectId,cid:null===(D=J.state)||void 0===D?void 0:D.clsId,carryParentState:V,bid:null===(I=J.state)||void 0===I?void 0:I.batchId,isDepartment:G}):"subject-exam"===$.get("a")?(0,o.jsx)(A,{sid:null===(k=J.state)||void 0===k?void 0:k.subjectId,cid:null===(E=J.state)||void 0===E?void 0:E.clsId,isDepartment:G}):"subject-academic"===$.get("a")?(0,o.jsx)(q.Z,{sid:null===(F=J.state)||void 0===F?void 0:F.subjectId,carryParentState:V,isDepartment:G}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r,{carryParentState:V}),"class-detail"===$.get("a")&&(0,o.jsx)(m.Z,{cid:J.state.clsId,openAs:"SUBJECT_TEACHER",isDepartment:!0}),"class-subject"===$.get("a")&&(0,o.jsx)(v.Z,{carryParentState:V,clsId:null===(R=J.state)||void 0===R?void 0:R.clsId,isView:"DEPARTMENT_HEAD"}),"class-attendance"===$.get("a")&&(0,o.jsx)(h.Z,{cid:null===(O=J.state)||void 0===O?void 0:O.clsId,isDepartment:!0,className:null!==(H=null===(L=J.state)||void 0===L?void 0:L.clsName)&&void 0!==H?H:""})]})]})})})}},33148:function(e,t){t.Z={departmenthead:"PromoteDepartment_departmenthead__NT0rQ",demaprtment_list:"PromoteDepartment_demaprtment_list__xRUQC",department_card_container:"PromoteDepartment_department_card_container__tEJF1",department_card_image:"PromoteDepartment_department_card_image__fqEm5",department_card_name:"PromoteDepartment_department_card_name__fsy26",department_card_head:"PromoteDepartment_department_card_head__p9hSI",moderator_container_title:"PromoteDepartment_moderator_container_title__s8dGS",with_search:"PromoteDepartment_with_search__iQ8M3",search_container_input:"PromoteDepartment_search_container_input__ef1S7",searchIcon:"PromoteDepartment_searchIcon__rhdfi",class_container:"PromoteDepartment_class_container__5IIQl",class_container_text:"PromoteDepartment_class_container_text__Z4upA",oneRowImage:"PromoteDepartment_oneRowImage__300XP",total_student_count:"PromoteDepartment_total_student_count__tMaik",total_other_count_container:"PromoteDepartment_total_other_count_container__B09Jg",student_container:"PromoteDepartment_student_container__II4m8",student_info_container:"PromoteDepartment_student_info_container__aVOf4",student_info_text:"PromoteDepartment_student_info_text__w1jdE",select_application_btn:"PromoteDepartment_select_application_btn__ydAfm",promote_container:"PromoteDepartment_promote_container__BLZ0j",promote_student_card:"PromoteDepartment_promote_student_card__euVJr",promote_student_cardActive:"PromoteDepartment_promote_student_cardActive__+x213",promote_student_card_text:"PromoteDepartment_promote_student_card_text__tnq3o",promote_student_name:"PromoteDepartment_promote_student_name__8I367",select_header:"PromoteDepartment_select_header__Pf+k3",select_all_btn:"PromoteDepartment_select_all_btn__wQlgs",promote_all_btn:"PromoteDepartment_promote_all_btn__Byy5c",promote_container_title:"PromoteDepartment_promote_container_title__z4Pmh",add_new_container:"PromoteDepartment_add_new_container__LEogI",add_new_exam:"PromoteDepartment_add_new_exam__3Kr+Z",menu_icon:"PromoteDepartment_menu_icon__TxY-a",items:"PromoteDepartment_items__PRx-q",itemm:"PromoteDepartment_itemm__wY1ST",checkbox:"PromoteDepartment_checkbox__HIzX-",counts:"PromoteDepartment_counts__6u4y4",promote_student_check_container:"PromoteDepartment_promote_student_check_container__cHvP7",promote_student_check:"PromoteDepartment_promote_student_check__EnbC1",department_checkbox:"PromoteDepartment_department_checkbox__7PqNV",promote_undo_container:"PromoteDepartment_promote_undo_container__I22Lh"}},22984:function(e,t){t.Z={studentMCQ:"Tabs_studentMCQ__JqqjO",mcqToptabs:"Tabs_mcqToptabs__YfEJB",mcqTop:"Tabs_mcqTop__eI5Gu",mcqTopItem:"Tabs_mcqTopItem__KkV+Q",active:"Tabs_active__j6mN9"}}}]);
//# sourceMappingURL=3877.beeecda3.chunk.js.map