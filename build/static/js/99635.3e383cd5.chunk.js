(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[99635],{38986:(e,n,l)=>{"use strict";l.d(n,{Z:()=>s});var a=l(72791),i=l(52245),o=l(39230),t=l(1095),d=l(80184);const s=e=>{let{label:n,name:l,value:s,onChange:c,errorShow:r,disabled:_,customFormFileContainer:u,customFormFileLabel:v,customFormFile:m,type:h,multiple:f}=e;const{t:p}=(0,o.$G)(),x=(0,a.useCallback)((()=>{const e=window.open("".concat(t.yI,"/").concat(null===s||void 0===s?void 0:s.key),"_blank","noopener,noreferrer");e&&(e.opener=null)}),[null===s||void 0===s?void 0:s.key]);return(0,d.jsxs)("div",{className:i.Z.form_input_container,style:{...u},children:[n&&(0,d.jsxs)("label",{className:i.Z.form_input_label,style:v,children:[n,r?(0,d.jsxs)("span",{className:i.Z.form_input_label_error,children:["* ",p("form_require_label")]}):null]}),(0,d.jsxs)("div",{className:i.Z.form_file_container,style:m,children:[(0,d.jsx)("label",{className:s?"".concat(i.Z.form_file_choose," ").concat(i.Z.form_file_choose_active):i.Z.form_file_choose,htmlFor:l,children:p(""!==s?"file_choosen":"choose_file")}),(0,d.jsx)("label",{className:i.Z.form_file_choosen,onClick:x,children:""!==s?null!==s&&void 0!==s&&s.name?null===s||void 0===s?void 0:s.name:p("view"):p("no_file_chosen")})]}),(0,d.jsx)("input",{type:"file",multiple:!!f,accept:h||"image/*, .doc,.docx, application/pdf,.csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",name:l,id:l,style:{display:"none"},onChange:c,disabled:_})]})}},31897:(e,n,l)=>{"use strict";l.d(n,{Z:()=>s});var a=l(72791),i=l(39230),o=l(52245),t=l(98684),d=l(80184);const s=e=>{let{selectLabel:n,onClick:l,selectedValue:s,options:c,customStyleContainer:r,customLabelStyle:_,customListStyle:u,errorShow:v,defalutValue:m,viewAs:h,isFull:f,isDenied:p}=e;const{t:x}=(0,i.$G)(),[b,j]=(0,a.useState)(!1),[k,g]=(0,a.useState)(""),y=()=>{p||j((e=>!e))};(0,a.useEffect)((()=>{"NORMAL_FILTER"===h&&g(m)}),[h,m]),(0,a.useEffect)((()=>{if("CUSTOM_FILTER"===h){let a="";for(let i of c)for(let o of m)if((null===i||void 0===i?void 0:i._id)===o){var e,n,l;let o=null!==(e=null!==(n=null!==(l=null===i||void 0===i?void 0:i.dName)&&void 0!==l?l:null===i||void 0===i?void 0:i.batchName)&&void 0!==n?n:null===i||void 0===i?void 0:i.className)&&void 0!==e?e:"";a=a?a+", "+o:o}g(a)}}),[h,m,c]);return(0,d.jsxs)("div",{className:o.Z.form_input_container,style:{...r},children:[(0,d.jsxs)("p",{className:o.Z.join_form_select_paragraph,style:{..._},children:[n,v&&(0,d.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",x("form_require_label")]})]}),(0,d.jsxs)("section",{className:o.Z.join_form_select_custom,onClick:y,children:[k?(0,d.jsx)("p",{className:o.Z.join_form_select_custom_paragraph,children:null!==k&&void 0!==k?k:""}):(0,d.jsx)("p",{className:o.Z.join_form_select_custom_paragraph,children:s}),b?(0,d.jsx)("img",{className:o.Z.join_form_select_custom_rotate_icon,src:"".concat(t.J7,"/down.svg"),alt:"categor icon"}):(0,d.jsx)("img",{className:o.Z.join_form_select_custom_icon,src:"".concat(t.J7,"/down.svg"),alt:"categor icon"})]}),b&&(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("section",{className:o.Z.join_form_select_custom_list,style:u,children:null===c||void 0===c?void 0:c.map(((e,n)=>{var a;return(0,d.jsx)("p",{onClick:()=>(e=>{var n;l(f?e:null===e||void 0===e?void 0:e._id),y(),g(null!==(n=null===e||void 0===e?void 0:e.dName)&&void 0!==n?n:e)})(e),className:o.Z.join_form_select_custom_paragraph_option,children:null!==(a=null===e||void 0===e?void 0:e.dName)&&void 0!==a?a:e},n)}))})})]})}},99635:(e,n,l)=>{"use strict";l.r(n),l.d(n,{default:()=>Te});var a=l(56959),i=l(39230),o=l(72791);const t="BankDetail_bank_detail_card__XlDeo",d="BankDetail_bank_detail_card_heading__mL+og",s="BankDetail_bank_detail_card_inner__WTrMU",c="BankDetail_bank_detail_applicable__o9ybT",r="BankDetail_bank_detail_card_upi__B4gIC",_="BankDetail_bank_detail_card_qr__1sjcI",u="BankDetail_bank_detail_list__pwEqa",v="BankDetail_applicable_btn_container__eJ1fc",m="BankDetail_applicable_btn__T+Xhu",h="BankDetail_applicable_text__-94Qt",f="BankDetail_applicable_text_error__N2w5n",p="BankDetail_bank_fund_container__7nWd7",x="BankDetail_bank_fund__mShX7",b="BankDetail_bank_details__-SkE-",j="BankDetail_bank_upi__a1q+v",k="BankDetail_bank_qr_code__PmB1G",g="BankDetail_bank_qr_code_text__R7pza",y="BankDetail_modal_container__lWae0";var Z=l(6758),S=l(8959),N=l(1095),I=l(98684),C=l(80184);let w={fontWeight:"400"};const F=e=>{var n,l,a,o,u,v,m,h,f,p;let{bank:x}=e;const{t:b}=(0,i.$G)();return(0,C.jsxs)("div",{className:t,children:[(0,C.jsxs)("div",{className:d,children:[(0,C.jsx)("img",{src:"".concat(I.J7,"/bank-card.svg"),alt:"bank icon"}),(0,C.jsxs)("div",{className:s,children:[(0,C.jsx)("h6",{children:null!==(n=null===x||void 0===x?void 0:x.finance_bank_name)&&void 0!==n?n:""}),(0,C.jsx)("p",{children:null!==x&&void 0!==x&&null!==(l=x.department)&&void 0!==l&&l.dName?null===x||void 0===x||null===(a=x.department)||void 0===a?void 0:a.dName:null!==x&&void 0!==x&&x.hostel?"Hostel":null!==x&&void 0!==x&&x.library?"Library":null!==x&&void 0!==x&&x.transport?"Transport":(null===x||void 0===x||null===(o=x.departments)||void 0===o?void 0:o.length)>0?null===x||void 0===x||null===(u=x.departments)||void 0===u?void 0:u.map(((e,n)=>{var l,a;return(0,C.jsxs)("span",{children:[null!==(l=null===e||void 0===e?void 0:e.dName)&&void 0!==l?l:"",n+1===(null===x||void 0===x||null===(a=x.departments)||void 0===a?void 0:a.length)?"":", "]},null===e||void 0===e?void 0:e._id)})):"Society"===(null===x||void 0===x?void 0:x.bank_account_type)?"Society":""})]})]}),(0,C.jsxs)("section",{className:c,children:[(0,C.jsxs)("h6",{children:[b("applicable_for")," "," : "," "]}),(0,C.jsx)(S.Z,{label:null!==x&&void 0!==x&&null!==(v=x.department)&&void 0!==v&&v.dName?null===x||void 0===x||null===(m=x.department)||void 0===m?void 0:m.dName:null!==x&&void 0!==x&&x.hostel?"Hostel":null!==x&&void 0!==x&&x.library?"Library":null!==x&&void 0!==x&&x.transport?"Transport":(null===x||void 0===x||null===(h=x.departments)||void 0===h?void 0:h.length)>0?null===x||void 0===x||null===(f=x.departments)||void 0===f?void 0:f.map(((e,n)=>{var l,a;return(0,C.jsxs)("span",{children:[null!==(l=null===e||void 0===e?void 0:e.dName)&&void 0!==l?l:"",n+1===(null===x||void 0===x||null===(a=x.departments)||void 0===a?void 0:a.length)?"":", "]},null===e||void 0===e?void 0:e._id)})):"Society"===(null===x||void 0===x?void 0:x.bank_account_type)?"Society":"",customFormInputLabel:w})]}),(0,C.jsxs)("section",{className:c,children:[(0,C.jsx)("h6",{children:b("bank_details")}),(0,C.jsx)(S.Z,{label:"".concat(b("bank_name")," :"),value:null===x||void 0===x?void 0:x.finance_bank_name,customFormInput:w}),(0,C.jsx)(S.Z,{label:"".concat(b("account_name")," :"),value:null===x||void 0===x?void 0:x.finance_bank_account_name,customFormInput:w}),(0,C.jsx)(S.Z,{label:"".concat(b("account_number")," :"),value:null===x||void 0===x?void 0:x.finance_bank_account_number,customFormInput:w}),(0,C.jsx)(S.Z,{label:"".concat(b("ifsc_code")," :"),value:null===x||void 0===x?void 0:x.finance_bank_ifsc_code,customFormInput:w}),(0,C.jsx)(S.Z,{label:"".concat(b("address")," :"),value:null===x||void 0===x?void 0:x.finance_bank_branch_address,customFormInput:w})]}),(0,C.jsx)(S.Z,{label:"".concat(b("upi_id")," :"),value:null===x||void 0===x?void 0:x.finance_bank_upi_id,customFormInput:w}),(0,C.jsxs)("section",{className:r,style:{width:"100%",alignItems:"flex-start"},children:[(0,C.jsxs)("div",{className:_,children:[(0,C.jsxs)("h6",{children:[b("qr_code"),":"]}),(0,C.jsx)("p",{children:null!==(p=null===x||void 0===x?void 0:x.finance_bank_upi_id)&&void 0!==p?p:""})]}),null!==x&&void 0!==x&&x.finance_bank_upi_qrcode?(0,C.jsx)("img",{src:"".concat(N.yI,"/").concat(null===x||void 0===x?void 0:x.finance_bank_upi_qrcode),alt:"qr code"}):""]})]})};var D=l(16871),L=l(43677),B=l(1669),T=l(23441),M=l(91427),A=l(2651);const q=e=>{var n,l;let{fid:a}=e;const i=(0,D.TH)(),[t,d]=(0,o.useState)(1),[s,c]=(0,o.useState)(!0),[r,_]=(0,T.YD)(),{financeAllBank:v,financeAllBankLoading:m}=(0,Z.iB)({data:{fid:a,page:t,limit:10,search:""},skip:!a});return(0,o.useEffect)((()=>{_&&s&&d((e=>e+1))}),[_,s]),(0,o.useEffect)((()=>{if(null!==v&&void 0!==v&&v.list){var e;let n=(0,M.f)(null===v||void 0===v||null===(e=v.list)||void 0===e?void 0:e.length);c((()=>n))}}),[null===v||void 0===v?void 0:v.list]),(0,C.jsxs)("div",{className:u,children:[null===v||void 0===v||null===(n=v.list)||void 0===n?void 0:n.map(((e,n)=>{var l;return(null===v||void 0===v||null===(l=v.list)||void 0===l?void 0:l.length)===n+1?(0,C.jsx)("div",{ref:r,style:{width:"49%"},children:(0,C.jsx)(L.Z,{parentState:{...i.state,bankId:null===e||void 0===e?void 0:e._id},activeUrl:"type=bank&n=detail",children:(0,C.jsx)(F,{bank:e})})},null===e||void 0===e?void 0:e._id):(0,C.jsx)("div",{style:{width:"49%"},children:(0,C.jsx)(L.Z,{parentState:{...i.state,bankId:null===e||void 0===e?void 0:e._id},activeUrl:"type=bank&n=detail",children:(0,C.jsx)(F,{bank:e})})},null===e||void 0===e?void 0:e._id)})),m?(0,C.jsx)(B.Z,{}):0===(null===v||void 0===v||null===(l=v.list)||void 0===l?void 0:l.length)&&(0,C.jsx)(A.Z,{title:"No banks added."})]})},E=(0,o.memo)(q);var Y=l(38857),G=l(21348),J=l(31897),O=l(93638),H=l(4007),R=l(90904),$=l(57588),K=l(14196),P=l(55336);const V=e=>{var n,l,a,t;let{onClose:d,fid:s,setFeeHead:c,setFeeHeadId:r,feeHeadId:_,isSegment:u,isOne:v,isIdOnly:m}=e;const{t:h}=(0,i.$G)(),[f,p]=(0,o.useState)(""),[x,b]=(0,o.useState)(1),[j,k]=(0,o.useState)(!0),[g,y]=(0,T.YD)({skip:f}),[S,N]=(0,o.useState)([]),[w,F]=(0,o.useState)(null!==_&&void 0!==_?_:[]),{financeAllOtherFeeHeadMaster:D,financeAllOtherFeeHeadMasterLoading:L}=(0,Z.sx)({data:{fid:s,page:x,limit:10,search:f},skip:!s});(0,o.useEffect)((()=>{F(_)}),[_]),(0,o.useEffect)((()=>{y&&j&&b((e=>e+1))}),[y,j]),(0,o.useEffect)((()=>{var e;if(null!==D&&void 0!==D&&null!==(e=D.list)&&void 0!==e&&e.length){var n;let e=(0,M.f)(null===D||void 0===D||null===(n=D.list)||void 0===n?void 0:n.length);k((()=>e))}}),[null===D||void 0===D||null===(n=D.list)||void 0===n?void 0:n.length]);const q=(0,o.useCallback)((0,$.J)((e=>{b((()=>1)),p(e)}),500),[]),E=e=>{const n={head_name:null===e||void 0===e?void 0:e.master_name,head_amount:null===e||void 0===e?void 0:e.master_amount,master:null===e||void 0===e?void 0:e._id,head_type:u};if(null!==w&&void 0!==w&&w.includes(null===e||void 0===e?void 0:e._id)){let n=null===w||void 0===w?void 0:w.indexOf(null===e||void 0===e?void 0:e._id),l=[];for(let e=0;e<(null===S||void 0===S?void 0:S.length);e++)e===n||l.push(S[e]);F((n=>null===n||void 0===n?void 0:n.filter((n=>n!==(null===e||void 0===e?void 0:e._id))))),N(l)}else F((n=>[...n,null===e||void 0===e?void 0:e._id])),N((e=>[...e,n]));v&&(c([n]),r([null===e||void 0===e?void 0:e._id]),d())};return(0,C.jsx)(Y.Z,{children:(0,C.jsxs)("div",{className:H.Z.modal_container,children:[(0,C.jsx)(G.default,{children:(0,C.jsxs)("div",{className:H.Z.modal_container_outer_header,children:[(0,C.jsxs)("div",{className:H.Z.modal_container_header,children:[(0,C.jsx)("img",{src:"".concat(I.J7,"/back-arrow.svg"),alt:"close icon",onClick:d}),(0,C.jsx)("h6",{children:h("select_other_fee_master")})]}),(0,C.jsx)(O.Z,{label:"select",customStyle:{margin:"0"},onAction:()=>{m?(r(w),d()):(c((e=>[...e,...S])),r(w),d())}})]})}),(0,C.jsx)(R.Z,{}),(0,C.jsxs)(G.default,{customStyle:{paddingTop:"0"},children:[(0,C.jsx)("div",{className:H.Z.fm_search_full,style:{marginBottom:"0.5rem"},children:(0,C.jsx)("section",{className:H.Z.fm_search_full_container,children:(0,C.jsxs)("div",{className:H.Z.fm_search_full_container_inner,children:[(0,C.jsx)("img",{className:H.Z.fm_search_full_icon,alt:"search icon",src:"".concat(I.dB,"/navbar-search.svg")}),(0,C.jsx)("input",{type:"text",placeholder:h("search"),onChange:e=>{e.target.value?q(e.target.value):(b((()=>1)),p(""))}})]})})}),null===D||void 0===D||null===(l=D.list)||void 0===l?void 0:l.map(((e,n)=>{var l;return(null===D||void 0===D||null===(l=D.list)||void 0===l?void 0:l.length)===n+1?(0,C.jsx)("div",{ref:g,children:(0,C.jsx)(K.Z,{feeHead:e,fid:s,onSelect:E,selectedFeeId:w})},null===e||void 0===e?void 0:e._id):(0,C.jsx)(K.Z,{feeHead:e,fid:s,onSelect:E,selectedFeeId:w},null===e||void 0===e?void 0:e._id)})),L?f?(0,C.jsx)(P.default,{}):(0,C.jsx)(B.Z,{}):f?0===(null===D||void 0===D||null===(a=D.list)||void 0===a?void 0:a.length)&&(0,C.jsx)(A.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No other fee master found related this search."}):0===(null===D||void 0===D||null===(t=D.list)||void 0===t?void 0:t.length)&&(0,C.jsx)(A.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No other fee master added."})]})]})})},W=e=>{var n,l,a;let{fid:t,onToggle:d,libraryId:s,transportId:c,hostelId:r,setApplicablFor:_}=e;const{t:u}=(0,i.$G)(),[v,h]=(0,o.useState)({flow:"",flow_id:"",flow_name:"",depart_arr:[],heads_list:[]}),[f,p]=(0,o.useState)(""),{instituteAllDepartment:x}=(0,Z.Jv)({fid:t,skip:!t});return(0,C.jsx)(C.Fragment,{children:1===f?(0,C.jsx)(V,{onClose:()=>{p("")},fid:t,feeHeadId:v.heads_list,setFeeHeadId:e=>{h((n=>({...n,heads_list:e})))},isIdOnly:!0}):(0,C.jsx)(Y.Z,{onClose:d,children:(0,C.jsx)("div",{className:y,children:(0,C.jsxs)(G.default,{customStyle:{paddingBottom:"1rem"},children:[(0,C.jsx)(J.Z,{selectLabel:u("applicable_for"),selectedValue:u("applicable_for_placeholder"),options:["Internal Department","Society","Transport","Library","Hostel","Miscellaneous"],onClick:e=>{"Hostel"===e?h({flow:"Hostel",flow_id:r,flow_name:"Hostel",depart_arr:[],heads_list:[]}):"Transport"===e?h({flow:"Transport",flow_id:c,flow_name:"Transport",depart_arr:[],heads_list:[]}):"Library"===e?h({flow:"Library",flow_id:s,flow_name:"Library",depart_arr:[],heads_list:[]}):"Society"===e?h({flow:"Society",flow_id:null,flow_name:"Society",depart_arr:[],heads_list:[]}):"Internal Department"===e?h({flow:"Department",flow_id:"",flow_name:"",depart_arr:[],heads_list:[]}):"Miscellaneous"===e&&h({flow:"Miscellaneous",flow_id:"",flow_name:"Miscellaneous",depart_arr:[],heads_list:[]})},isFull:!0,defalutValue:v.flow,viewAs:"NORMAL_FILTER"}),"Department"===v.flow&&(0,C.jsx)(J.Z,{selectLabel:u("select_internal_department"),selectedValue:u("select_internal_department_placeholder"),options:null!==x&&void 0!==x?x:[],onClick:e=>{h((n=>({...n,flow_id:null===e||void 0===e?void 0:e._id,flow_name:null===e||void 0===e?void 0:e.dName,depart_arr:[...new Set([...n.depart_arr,null===e||void 0===e?void 0:e._id])]})))},isFull:!0,viewAs:"NORMAL_FILTER",defalutValue:(null===(n=v.depart_arr)||void 0===n?void 0:n.length)>1?"".concat(null===(l=v.depart_arr)||void 0===l?void 0:l.length," department selected"):v.flow_name}),"Miscellaneous"===v.flow?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(S.Z,{label:"".concat(u("selected_fee_head")," : "),value:null===(a=v.heads_list)||void 0===a?void 0:a.length}),(0,C.jsx)(O.Z,{label:"select_other_fee_master",onAction:()=>p(1)})]}):null,(0,C.jsx)("button",{className:m,onClick:()=>{_(v),d()},style:{width:"100%",justifyContent:"center"},children:(0,C.jsx)("div",{children:u("select")})})]})})})})},U=e=>{var n,l,a,t;let{errorField:d,applicableFor:s,libraryId:c,transportId:r,hostelId:_,setApplicablFor:u,fid:p}=e;const{t:x}=(0,i.$G)(),[b,j]=(0,o.useState)(!1),k=(0,o.useCallback)((()=>{j((e=>!e))}),[]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:v,style:{marginTop:"1rem"},children:[(0,C.jsxs)("button",{className:m,onClick:k,style:{marginTop:"0"},children:[(0,C.jsx)("div",{children:x("account_applicable_for")}),(0,C.jsx)("img",{src:"".concat(I.J7,"/forward.svg"),alt:"next step"})]}),(null===s||void 0===s?void 0:s.flow_name)&&(0,C.jsx)("h6",{className:h,children:(null===s||void 0===s||null===(n=s.depart_arr)||void 0===n?void 0:n.length)>1?"".concat(null===s||void 0===s||null===(l=s.depart_arr)||void 0===l?void 0:l.length," department selected"):(null===s||void 0===s||null===(a=s.heads_list)||void 0===a?void 0:a.length)>1?"".concat(null===s||void 0===s||null===(t=s.heads_list)||void 0===t?void 0:t.length," Other Fee Master"):null===s||void 0===s?void 0:s.flow_name})]}),d.flow_id&&(0,C.jsxs)("p",{className:f,children:["* ",x("form_require_label")]}),b&&(0,C.jsx)(W,{fid:p,onToggle:k,libraryId:c,transportId:r,hostelId:_,setApplicablFor:u})]})},z=(0,o.memo)(U);var X=l(21625),Q=l(61055),ee=l(38986);const ne=e=>{let{onClose:n,fid:l,libraryId:t,transportId:d,hostelId:s,openAs:c,onEditAction:r,openBankMenu:_}=e;const{t:u}=(0,i.$G)(),[v]=(0,X.FL)(),[m]=(0,Z.WJ)(),[h,f]=(0,o.useState)(!1),[p,x]=(0,o.useState)(""),[b,j]=(0,o.useState)({finance_bank_name:"",finance_bank_account_number:"",finance_bank_account_name:"",finance_bank_ifsc_code:"",finance_bank_branch_address:"",finance_bank_upi_id:"",finance_bank_upi_qrcode:"",finance_bank_re_account_number:"",finance_bank_re_upi_id:""}),[k,g]=(0,o.useState)({flow:"",flow_id:"",flow_name:"",depart_arr:[],heads_list:[]}),[y,S]=(0,o.useState)("");(0,o.useEffect)((()=>{var e,n,l,a,i,o,t,d,s;"EDIT"===c&&j({finance_bank_name:null!==(e=null===_||void 0===_?void 0:_.finance_bank_name)&&void 0!==e?e:"",finance_bank_account_number:null!==(n=null===_||void 0===_?void 0:_.finance_bank_account_number)&&void 0!==n?n:"",finance_bank_account_name:null!==(l=null===_||void 0===_?void 0:_.finance_bank_account_name)&&void 0!==l?l:"",finance_bank_ifsc_code:null!==(a=null===_||void 0===_?void 0:_.finance_bank_ifsc_code)&&void 0!==a?a:"",finance_bank_branch_address:null!==(i=null===_||void 0===_?void 0:_.finance_bank_branch_address)&&void 0!==i?i:"",finance_bank_upi_id:null!==(o=null===_||void 0===_?void 0:_.finance_bank_upi_id)&&void 0!==o?o:"",finance_bank_upi_qrcode:null!==(t=null===_||void 0===_?void 0:_.finance_bank_upi_qrcode)&&void 0!==t?t:"",finance_bank_re_account_number:null!==(d=null===_||void 0===_?void 0:_.finance_bank_account_number)&&void 0!==d?d:"",finance_bank_re_upi_id:null!==(s=null===_||void 0===_?void 0:_.finance_bank_upi_id)&&void 0!==s?s:""})}),[c]);const N=e=>{j((n=>({...n,[e.target.name]:e.target.value})))},w=(0,o.useCallback)((e=>{f((e=>!e));const n=new FormData;S(e.target.files[0]),n.append("file",e.target.files[0]),v({fileUpload:n}).then((e=>{f((e=>!e)),j((n=>{var l;return{...n,finance_bank_upi_qrcode:null===(l=e.data)||void 0===l?void 0:l.imageKey}}))})).catch((()=>{f((e=>!e))}))}),[]),F=(0,o.useCallback)((()=>{if("EDIT"===c){const e=ae(b);let n=!1;for(let l in e){n=!0;break}n?x(e):r(b)}else{const e=le(b,k);let a=!1;for(let n in e){a=!0;break}a?x(e):(f((e=>!e)),m({fid:l,...k,bankDetails:{...b,depart_arr:k.depart_arr,heads_list:k.heads_list}}).then((()=>{n(),f((e=>!e))})).catch((()=>{f((e=>!e))})))}}),[b]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(G.default,{children:(0,C.jsxs)("div",{className:a.Z.fm_header_start_container,children:[(0,C.jsx)("img",{src:"".concat(I.J7,"/back-arrow.svg"),alt:"back arrow",title:"Add Bank",onClick:n}),(0,C.jsxs)("h6",{children:[" ",u("EDIT"===c?"update_bank_details":"add_bank_details")]})]})}),(0,C.jsx)(R.Z,{}),(0,C.jsxs)(G.default,{customStyle:{paddingTop:"0"},children:["EDIT"===c?null:(0,C.jsx)(z,{applicableFor:k,errorField:p,fid:l,libraryId:t,transportId:d,hostelId:s,setApplicablFor:g}),(0,C.jsx)(Q.Z,{label:u("bank_name"),placeholder:u("bank_name_placeholder"),name:"finance_bank_name",value:b.finance_bank_name,type:"text",onChange:N,errorShow:p.finance_bank_name}),(0,C.jsx)(Q.Z,{label:u("account_name"),placeholder:u("account_name_placeholder"),name:"finance_bank_account_name",value:b.finance_bank_account_name,type:"text",onChange:N,errorShow:p.finance_bank_account_name}),(0,C.jsx)(Q.Z,{label:u("account_number"),placeholder:u("account_number_placeholder"),name:"finance_bank_account_number",value:b.finance_bank_account_number,type:"tel",onChange:N,errorShow:p.finance_bank_name}),(0,C.jsx)(Q.Z,{label:u("confirm_account_number"),placeholder:u("confirm_account_number_placeholder"),name:"finance_bank_re_account_number",value:b.finance_bank_re_account_number,type:"tel",onChange:N,errorShow:p.finance_bank_re_account_number,msg:p.finance_bank_re_account_number}),(0,C.jsx)(Q.Z,{label:u("ifsc_code"),placeholder:u("ifsc_code_placeholder"),name:"finance_bank_ifsc_code",value:b.finance_bank_ifsc_code,type:"text",onChange:N,errorShow:p.finance_bank_ifsc_code}),(0,C.jsx)(Q.Z,{label:u("address_of_bank"),placeholder:u("address_of_bank_placeholder"),name:"finance_bank_branch_address",value:b.finance_bank_branch_address,type:"text",onChange:N,errorShow:p.finance_bank_branch_address}),(0,C.jsx)(Q.Z,{label:u("upi_id"),placeholder:u("upi_id_placeholder"),name:"finance_bank_upi_id",value:b.finance_bank_upi_id,type:"text",onChange:N,errorShow:p.finance_bank_upi_id}),(0,C.jsx)(Q.Z,{label:u("confirm_upi_id"),placeholder:u("finance_bank_re_upi_id"),name:"finance_bank_re_upi_id",value:b.finance_bank_re_upi_id,type:"text",onChange:N,errorShow:p.finance_bank_re_upi_id,msg:p.finance_bank_re_upi_id}),(0,C.jsx)(ee.Z,{label:u("qr_code_above_upi"),name:"finance_bank_upi_qrcode",value:null!==y&&void 0!==y&&y.name?{name:null===y||void 0===y?void 0:y.name}:"",onChange:w,errorShow:p.finance_bank_upi_qrcode}),(0,C.jsx)(O.Z,{label:"save",onAction:F})]}),h&&(0,C.jsx)(P.default,{})]})},le=(e,n)=>{var l;const a={};for(let i in e)"finance_bank_account_number"===i&&e.finance_bank_account_number!==e.finance_bank_re_account_number?a.finance_bank_re_account_number="form_account_dose_not_match_label":"finance_bank_upi_id"===i&&e.finance_bank_upi_id!==e.finance_bank_re_upi_id?a.finance_bank_re_upi_id="upi_id_dose_not_match_label":"finance_bank_upi_id"===i||"finance_bank_upi_qrcode"===i||"finance_bank_re_upi_id"===i||e[i]||(a[i]="* required");return null!==n&&void 0!==n&&n.flow_id||null!==(l=["Society","Miscellaneous"])&&void 0!==l&&l.includes(null===n||void 0===n?void 0:n.flow_name)||(a.flow_id="flow_id is required"),a},ae=e=>{const n={};for(let l in e)"finance_bank_account_number"===l&&e.finance_bank_account_number!==e.finance_bank_re_account_number?n.finance_bank_re_account_number="form_account_dose_not_match_label":"finance_bank_upi_id"===l&&e.finance_bank_upi_id!==e.finance_bank_re_upi_id?n.finance_bank_re_upi_id="upi_id_dose_not_match_label":"finance_bank_upi_id"===l||"finance_bank_upi_qrcode"===l||"finance_bank_re_upi_id"===l||e[l]||(n[l]="* required");return n};var ie=l(43504);const oe=e=>{let{totalRepay:n,collectOnline:l,dueRepay:a}=e;const{t:o}=(0,i.$G)();return(0,C.jsxs)("div",{className:p,children:[(0,C.jsxs)("div",{className:x,children:[(0,C.jsx)("h6",{children:o("total_due")}),(0,C.jsxs)("h5",{children:[o("rs_only")," ",null!==n&&void 0!==n?n:0]})]}),(0,C.jsxs)("div",{className:x,children:[(0,C.jsx)("h6",{children:o("online_fees")}),(0,C.jsxs)("h5",{children:[o("rs_only")," ",null!==l&&void 0!==l?l:0]})]}),(0,C.jsxs)("div",{className:x,children:[(0,C.jsx)("h6",{children:o("repayment_due")}),(0,C.jsxs)("h5",{children:[o("rs_only")," ",null!==a&&void 0!==a?a:0]})]})]})},te={fontWeight:"400",fontSize:"12px"},de=e=>{var n,l,a,o,t,d;let{oneBank:s}=e;const{t:c}=(0,i.$G)();return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("section",{className:b,children:[(0,C.jsxs)("h6",{children:[c("applicable_for")," "," : "," "]}),(0,C.jsx)(S.Z,{label:"",value:null!==s&&void 0!==s&&null!==(n=s.department)&&void 0!==n&&n.dName?null===s||void 0===s||null===(l=s.department)||void 0===l?void 0:l.dName:null!==s&&void 0!==s&&s.hostel?"Hostel":null!==s&&void 0!==s&&s.library?"Library":null!==s&&void 0!==s&&s.transport?"Transport":(null===s||void 0===s||null===(a=s.departments)||void 0===a?void 0:a.length)>0?null===s||void 0===s||null===(o=s.departments)||void 0===o?void 0:o.map(((e,n)=>{var l,a;return(0,C.jsxs)("span",{children:[null!==(l=null===e||void 0===e?void 0:e.dName)&&void 0!==l?l:"",n+1===(null===s||void 0===s||null===(a=s.departments)||void 0===a?void 0:a.length)?"":", "]},null===e||void 0===e?void 0:e._id)})):null!==(t=null===s||void 0===s?void 0:s.bank_account_type)&&void 0!==t?t:"",customFormInput:te,customFormInputLabel:{...te,marginLeft:"-0.8rem"}})]}),(0,C.jsxs)("section",{className:b,children:[(0,C.jsx)("h6",{children:c("bank_details")}),(0,C.jsx)(S.Z,{label:"".concat(c("bank_name")," :"),value:null===s||void 0===s?void 0:s.finance_bank_name,customFormInput:te,customFormInputLabel:te}),(0,C.jsx)(S.Z,{label:"".concat(c("account_name")," :"),value:null===s||void 0===s?void 0:s.finance_bank_account_name,customFormInput:te,customFormInputLabel:te}),(0,C.jsx)(S.Z,{label:"".concat(c("account_number")," :"),value:null===s||void 0===s?void 0:s.finance_bank_account_number,customFormInput:te,customFormInputLabel:te}),(0,C.jsx)(S.Z,{label:"".concat(c("ifsc_code")," :"),value:null===s||void 0===s?void 0:s.finance_bank_ifsc_code,customFormInput:te,customFormInputLabel:te}),(0,C.jsx)(S.Z,{label:"".concat(c("address")," :"),value:null===s||void 0===s?void 0:s.finance_bank_branch_address,customFormInput:te,customFormInputLabel:te})]}),(0,C.jsx)("section",{className:j,children:(0,C.jsx)(S.Z,{label:"".concat(c("upi_id")," :"),value:null===s||void 0===s?void 0:s.finance_bank_upi_id,customFormInput:te,customFormInputLabel:te})}),(0,C.jsxs)("section",{className:k,children:[(0,C.jsxs)("div",{className:g,children:[(0,C.jsxs)("h6",{children:[c("qr_code"),":"]}),(0,C.jsx)("p",{children:null!==(d=null===s||void 0===s?void 0:s.finance_bank_upi_id)&&void 0!==d?d:""})]}),null!==s&&void 0!==s&&s.finance_bank_upi_qrcode?(0,C.jsx)("img",{src:"".concat(N.yI,"/").concat(null===s||void 0===s?void 0:s.finance_bank_upi_qrcode),alt:"qr code"}):""]})]})};var se=l(89064),ce=l(99183),re=l(16925);const _e=e=>{let{onToggle:n,setBankEdit:l,openBankMenu:a}=e;const{t:t}=(0,i.$G)(),d=(0,D.s0)(),[s,c]=(0,o.useState)(!1),[r,_]=(0,o.useState)(!1),[u,v]=(0,o.useState)(""),[m,h]=(0,o.useState)({query:""}),[f,p]=(0,o.useState)(!1),[x]=(0,Z.D4)(),[b]=(0,Z.R9)(),j=()=>{l((e=>!e)),_((e=>!e))};return(0,C.jsx)(C.Fragment,{children:f?(0,C.jsx)(Y.Z,{onClose:()=>p(!1),children:(0,C.jsxs)("div",{className:re.Z.modal_container,children:[(0,C.jsx)(G.default,{children:(0,C.jsxs)("div",{className:re.Z.modal_container_outer_header,children:[(0,C.jsx)("div",{className:re.Z.modal_container_header,children:(0,C.jsx)("h6",{children:t("are_your_sure_to_delete_bank_account")})}),(0,C.jsx)("img",{src:"".concat(I.J7,"/close.svg"),alt:"close icon",onClick:()=>p(!1)})]})}),(0,C.jsx)(R.Z,{}),(0,C.jsxs)(G.default,{customStyle:{paddingTop:"0"},children:[(0,C.jsx)(Q.Z,{label:t("type_confirm_to_continue"),placeholder:t("type_confirm_to_continue"),name:"query",value:m.query,type:"text",onChange:e=>{h((n=>({...n,[e.target.name]:e.target.value})))},errorShow:u.query}),(0,C.jsx)(O.Z,{label:"confirm",onAction:()=>{let e=(0,ce.l)(m);(0,ce.x)(e)?"Confirm"===m.query&&null!==a&&void 0!==a&&a._id&&(p(!1),c((e=>!e)),x(null===a||void 0===a?void 0:a._id).then((()=>{n(),c((e=>!e)),d(-1)})).catch({})):v(e)}})]})]})}):r?(0,C.jsx)(ne,{onClose:j,openAs:"EDIT",onEditAction:e=>{null!==a&&void 0!==a&&a._id&&(c((e=>!e)),_(!1),b({bid:null===a||void 0===a?void 0:a._id,bankDetails:e}).then((()=>{c((e=>!e)),n(),l((e=>!e))})).catch({}))},openBankMenu:a}):(0,C.jsxs)(se.Z,{onClose:n,disabled:s,children:[(0,C.jsx)("h6",{onClick:j,children:t("edit")}),(0,C.jsx)("h6",{onClick:()=>p(!0),children:t("delete")})]})})};var ue=l(63162),ve=l(98967),me=l(60924),he=l(19056),fe=l(43997);const pe=e=>{let{onClose:n,bankId:l,fid:a}=e;const{t:t}=(0,i.$G)(),[d,s]=(0,o.useState)({from:"",to:"",payment_type:""}),[c,r]=(0,o.useState)(!1),[_,u]=(0,o.useState)(""),[v]=(0,Z._t)(),m=(e,n)=>{s((l=>({...l,[n]:(0,fe.O_)(e)})))};return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(Y.Z,{onClose:n,children:(0,C.jsxs)("div",{className:re.Z.modal_container,children:[(0,C.jsx)(G.default,{children:(0,C.jsxs)("div",{className:re.Z.modal_container_outer_header,children:[(0,C.jsx)("div",{className:re.Z.modal_container_header,children:(0,C.jsx)("h6",{children:t("filter_daybook")})}),(0,C.jsx)("img",{src:"".concat(I.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,C.jsx)(R.Z,{}),(0,C.jsxs)(G.default,{customStyle:{paddingTop:"0"},children:[(0,C.jsx)(me.Z,{label:t("from"),placeholder:t("please_select_from_date"),name:"from",value:d.from?(0,fe.jh)(d.from):"",onChange:e=>m(e,"from"),errorShow:_.from}),(0,C.jsx)(me.Z,{label:t("to_only"),placeholder:t("please_select_to_date"),name:"to",value:d.to?(0,fe.jh)(d.to):"",onChange:e=>m(e,"to"),errorShow:_.to}),(0,C.jsx)(he.Z,{selectLabel:t("payment_type"),selectedValue:t("please_select_payment_type"),options:["Payment Gateway / Online","By Cash","Cash / Bank","Total"],onClick:e=>{s((n=>({...n,payment_type:"Total"===e?"BOTH":"Cash / Bank"===e?"CASH_BANK":e})))},defalutValue:"BOTH"===d.payment_type?"Total":"CASH_BANK"===d.payment_type?"Cash / Bank":d.payment_type}),(0,C.jsx)(O.Z,{label:"filter",onAction:()=>{let e=(0,ce.l)(d,[]);(0,ce.x)(e)&&a&&l?(r((e=>!e)),v({fid:a,bank:l,from:d.from,to:d.to,payment_type:d.payment_type}).then((()=>{r((e=>!e)),n()})).catch({})):u(e)}})]}),c&&(0,C.jsx)(P.default,{})]})})})};var xe=l(82824),be=l(72888),je=l(97892),ke=l.n(je);const ge=e=>{var n;let{onEditAction:l,onClose:a,xlsxId:t}=e;const{t:d}=(0,i.$G)(),[s,c]=(0,o.useState)(null!==(n=null===t||void 0===t?void 0:t.excel_file_name)&&void 0!==n?n:""),[r,_]=(0,o.useState)("");(0,o.useEffect)((()=>{var e;c(null!==(e=null===t||void 0===t?void 0:t.excel_file_name)&&void 0!==e?e:"")}),[null===t||void 0===t?void 0:t.excel_file_name]);return(0,C.jsx)(Y.Z,{onClose:a,children:(0,C.jsxs)("div",{className:re.Z.modal_container,children:[(0,C.jsx)(G.default,{children:(0,C.jsxs)("div",{className:re.Z.modal_container_outer_header,children:[(0,C.jsx)("div",{className:re.Z.modal_container_header,children:(0,C.jsx)("h6",{children:d("update_excel_name")})}),(0,C.jsx)("img",{src:"".concat(I.J7,"/close.svg"),alt:"close icon",onClick:a})]})}),(0,C.jsx)(R.Z,{}),(0,C.jsxs)(G.default,{customStyle:{paddingTop:"0"},children:[(0,C.jsx)(Q.Z,{label:d("excel_name"),placeholder:d("excel_name_plcaeholder"),name:"excelName",value:s,type:"text",onChange:e=>{c(e.target.value)},errorShow:r.excelName}),(0,C.jsx)(O.Z,{label:"update",onAction:()=>{s?l(s):_({excelName:"excelName is required"})}})]})]})})},ye=e=>{let{onClose:n,xlsxId:l,bankId:a,onRefetch:t}=e;const{t:d}=(0,i.$G)(),[s,c]=(0,o.useState)(!1),[r,_]=(0,o.useState)(!1),[u]=(0,Z.JW)(),[v]=(0,Z.TM)(),m=()=>{_((e=>!e))};return r?(0,C.jsx)(ge,{onClose:m,onEditAction:e=>{a&&null!==l&&void 0!==l&&l._id&&(m(),c((e=>!e)),v({baid:a,bodyParameter:{dbid:null===l||void 0===l?void 0:l._id,excel_file_name:e}}).then((()=>{t(),c((e=>!e)),n()})).catch({}))},xlsxId:l}):(0,C.jsxs)(se.Z,{onClose:n,disabled:s,children:[(0,C.jsx)("h6",{onClick:m,children:d("edit")}),(0,C.jsx)("h6",{onClick:()=>{a&&null!==l&&void 0!==l&&l._id&&(c((e=>!e)),u({baid:a,bodyParameter:{dbid:null===l||void 0===l?void 0:l._id}}).then((()=>{t(),c((e=>!e)),n()})).catch({}))},children:d("delete")})]})},Ze=e=>{var n,l,a;let{excel:i,bankId:t,onRefetch:d}=e;const[s,c]=(0,o.useState)("");return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("a",{className:be.Z.export_card,title:"Download File",href:"".concat(N.LS,"/").concat(null===i||void 0===i?void 0:i.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,C.jsx)("img",{src:"".concat(I.J7,"/xsxl.svg"),className:be.Z.export_card_image,alt:"excel icon"}),(0,C.jsxs)("section",{className:be.Z.export_card_text,children:[(0,C.jsx)("h6",{children:null!==(n=null===i||void 0===i?void 0:i.excel_file_name)&&void 0!==n?n:""}),(0,C.jsxs)("div",{className:be.Z.export_card_date,children:[(0,C.jsx)("h6",{children:null!==(l=null===i||void 0===i||null===(a=i.bank)||void 0===a?void 0:a.finance_bank_account_name)&&void 0!==l?l:""}),(0,C.jsxs)("h6",{children:[ke()(null===i||void 0===i?void 0:i.created_at).format("DD MMM YYYY"),","," ",(0,xe.J)(null===i||void 0===i?void 0:i.created_at,"LT")]})]}),(0,C.jsxs)("div",{className:be.Z.export_card_date,children:[(0,C.jsxs)("h6",{children:["From : ",null===i||void 0===i?void 0:i.from," To ",null===i||void 0===i?void 0:i.to]}),(0,C.jsx)("h6",{children:"BOTH"===(null===i||void 0===i?void 0:i.payment_type)?"Total":"CASH_BANK"===(null===i||void 0===i?void 0:i.payment_type)?"Cash / Bank":null===i||void 0===i?void 0:i.payment_type})]})]}),(0,C.jsx)("img",{src:"".concat(I.J7,"/menu.svg"),alt:"menu icon",onClick:e=>{e.stopPropogation(),c(i)},title:"Menu",className:be.Z.export_card_menu})]},null===i||void 0===i?void 0:i._id),s&&(0,C.jsx)(ye,{onClose:()=>{c("")},xlsxId:s,bankId:t,onRefetch:d})]})},Se=e=>{var n,l,t;let{fid:d,bankId:s}=e;const{t:c}=(0,i.$G)(),[r,_]=(0,o.useState)(!1),[u,v]=(0,o.useState)(""),[m,h]=(0,o.useState)(1),[f,p]=(0,o.useState)(!0),[x,b]=(0,T.YD)({skip:u}),{financeBankDaybookGeneratList:j,financeBankDaybookGeneratListLoading:k,financeBankDaybookGeneratListRefetch:g}=(0,Z.sA)({data:{baid:s,page:m,limit:10,search:u},skip:!s});(0,o.useEffect)((()=>{b&&f&&h((e=>e+1))}),[b,f]),(0,o.useEffect)((()=>{var e;if(null!==j&&void 0!==j&&null!==(e=j.list)&&void 0!==e&&e.length){var n;let e=(0,M.f)(null===j||void 0===j||null===(n=j.list)||void 0===n?void 0:n.length);p((()=>e))}}),[null===j||void 0===j?void 0:j.list]);const y=(0,o.useCallback)((0,$.J)((e=>{h((()=>1)),v(e)}),1500),[]),S=()=>{_((e=>!e))},N=()=>{h((()=>1)),v(""),g()};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(G.default,{customStyle:{padding:"0"},children:(0,C.jsxs)("div",{className:a.Z.fm_search_full,children:[(0,C.jsx)("section",{className:a.Z.fm_search_full_container,children:(0,C.jsxs)("div",{className:a.Z.fm_search_full_container_inner,children:[(0,C.jsx)("img",{className:a.Z.fm_search_full_icon,alt:"search icon",src:"".concat(I.dB,"/navbar-search.svg")}),(0,C.jsx)("input",{type:"text",placeholder:c("search"),onChange:e=>{e.target.value?y(e.target.value):(h((()=>1)),v(""))}})]})}),(0,C.jsx)(O.Z,{label:"filter",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:S})]})}),(0,C.jsx)(R.Z,{}),null===j||void 0===j||null===(n=j.list)||void 0===n?void 0:n.map(((e,n)=>{var l;return(null===j||void 0===j||null===(l=j.list)||void 0===l?void 0:l.length)===n+1?(0,C.jsx)("div",{ref:x,children:(0,C.jsx)(Ze,{excel:e,bankId:s,onRefetch:N})},null===e||void 0===e?void 0:e._id):(0,C.jsx)(Ze,{excel:e,bankId:s,onRefetch:N},null===e||void 0===e?void 0:e._id)})),k?u?(0,C.jsx)(P.default,{}):(0,C.jsx)(B.Z,{}):u?0===(null===j||void 0===j||null===(l=j.list)||void 0===l?void 0:l.length)&&(0,C.jsx)(A.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No daybook found related this search."}):0===(null===j||void 0===j||null===(t=j.list)||void 0===t?void 0:t.length)&&(0,C.jsx)(A.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No daybook added."}),r&&(0,C.jsx)(pe,{onClose:S,bankId:s,fid:d})]})},Ne=e=>{let{onClose:n,bankId:l,fid:a}=e;const{t:t}=(0,i.$G)(),[d,s]=(0,o.useState)({from:"",to:"",payment_type:""}),[c,r]=(0,o.useState)(!1),[_,u]=(0,o.useState)(""),[v]=(0,Z.OR)(),m=(e,n)=>{s((l=>({...l,[n]:(0,fe.O_)(e)})))};return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(Y.Z,{onClose:n,children:(0,C.jsxs)("div",{className:re.Z.modal_container,children:[(0,C.jsx)(G.default,{children:(0,C.jsxs)("div",{className:re.Z.modal_container_outer_header,children:[(0,C.jsx)("div",{className:re.Z.modal_container_header,children:(0,C.jsx)("h6",{children:t("filter_daybook")})}),(0,C.jsx)("img",{src:"".concat(I.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,C.jsx)(R.Z,{}),(0,C.jsxs)(G.default,{customStyle:{paddingTop:"0"},children:[(0,C.jsx)(me.Z,{label:t("from"),placeholder:t("please_select_from_date"),name:"from",value:d.from?(0,fe.jh)(d.from):"",onChange:e=>m(e,"from"),errorShow:_.from}),(0,C.jsx)(me.Z,{label:t("to_only"),placeholder:t("please_select_to_date"),name:"to",value:d.to?(0,fe.jh)(d.to):"",onChange:e=>m(e,"to"),errorShow:_.to}),(0,C.jsx)(he.Z,{selectLabel:t("payment_type"),selectedValue:t("please_select_payment_type"),options:["Payment Gateway - PG","By Cash"],onClick:e=>{s((n=>({...n,payment_type:e})))},defalutValue:d.payment_type,errorShow:_.payment_type}),(0,C.jsx)(O.Z,{label:"filter",onAction:()=>{let e=(0,ce.l)(d,[]);(0,ce.x)(e)&&a&&l?(r((e=>!e)),v({fid:a,bodyParameter:{bank:l,from:d.from,to:d.to,payment_type:d.payment_type}}).then((()=>{r((e=>!e)),n()})).catch({})):u(e)}})]}),c&&(0,C.jsx)(P.default,{})]})})})},Ie=e=>{let{onClose:n,xlsxId:l,bankId:a,onRefetch:t}=e;const{t:d}=(0,i.$G)(),[s,c]=(0,o.useState)(!1),[r,_]=(0,o.useState)(!1),[u]=(0,Z.JW)(),[v]=(0,Z.TM)(),m=()=>{_((e=>!e))};return r?(0,C.jsx)(ge,{onClose:m,onEditAction:e=>{a&&null!==l&&void 0!==l&&l._id&&(m(),c((e=>!e)),v({baid:a,bodyParameter:{dbid:null===l||void 0===l?void 0:l._id,excel_file_name:e}}).then((()=>{t(),c((e=>!e)),n()})).catch({}))},xlsxId:l}):(0,C.jsxs)(se.Z,{onClose:n,disabled:s,children:[(0,C.jsx)("h6",{onClick:m,children:d("edit")}),(0,C.jsx)("h6",{onClick:()=>{a&&null!==l&&void 0!==l&&l._id&&(c((e=>!e)),u({baid:a,bodyParameter:{dbid:null===l||void 0===l?void 0:l._id}}).then((()=>{t(),c((e=>!e)),n()})).catch({}))},children:d("delete")})]})},Ce=e=>{var n,l,a;let{excel:i,bankId:t,onRefetch:d}=e;const[s,c]=(0,o.useState)("");return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("a",{className:be.Z.export_card,title:"Download File",href:"".concat(N.LS,"/").concat(null===i||void 0===i?void 0:i.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,C.jsx)("img",{src:"".concat(I.J7,"/xsxl.svg"),className:be.Z.export_card_image,alt:"excel icon"}),(0,C.jsxs)("section",{className:be.Z.export_card_text,children:[(0,C.jsx)("h6",{children:null!==(n=null===i||void 0===i?void 0:i.excel_file_name)&&void 0!==n?n:""}),(0,C.jsxs)("div",{className:be.Z.export_card_date,children:[(0,C.jsx)("h6",{children:null!==(l=null===i||void 0===i||null===(a=i.bank)||void 0===a?void 0:a.finance_bank_account_name)&&void 0!==l?l:""}),(0,C.jsxs)("h6",{children:[ke()(null===i||void 0===i?void 0:i.created_at).format("DD MMM YYYY"),","," ",(0,xe.J)(null===i||void 0===i?void 0:i.created_at,"LT")]})]}),(0,C.jsxs)("div",{className:be.Z.export_card_date,children:[(0,C.jsxs)("h6",{children:["From : ",null===i||void 0===i?void 0:i.from," To ",null===i||void 0===i?void 0:i.to]}),(0,C.jsxs)("h6",{children:[" ",null===i||void 0===i?void 0:i.payment_type]})]})]}),(0,C.jsx)("img",{src:"".concat(I.J7,"/menu.svg"),alt:"menu icon",onClick:e=>{e.preventDefault(),c(i)},title:"Menu",className:be.Z.export_card_menu})]},null===i||void 0===i?void 0:i._id),s&&(0,C.jsx)(Ie,{onClose:()=>{c("")},xlsxId:s,bankId:t,onRefetch:d})]})},we=e=>{var n,l,t;let{fid:d,bankId:s}=e;const{t:c}=(0,i.$G)(),[r,_]=(0,o.useState)(!1),[u,v]=(0,o.useState)(""),[m,h]=(0,o.useState)(1),[f,p]=(0,o.useState)(!0),[x,b]=(0,T.YD)({skip:u}),{financeBankDaybookGeneratList:j,financeBankDaybookGeneratListLoading:k,financeBankDaybookGeneratListRefetch:g}=(0,Z.sA)({data:{baid:s,page:m,limit:10,search:u,type:"Normal Other Fees"},skip:!s});(0,o.useEffect)((()=>{b&&f&&h((e=>e+1))}),[b,f]),(0,o.useEffect)((()=>{var e;if(null!==j&&void 0!==j&&null!==(e=j.list)&&void 0!==e&&e.length){var n;let e=(0,M.f)(null===j||void 0===j||null===(n=j.list)||void 0===n?void 0:n.length);p((()=>e))}}),[null===j||void 0===j?void 0:j.list]);const y=(0,o.useCallback)((0,$.J)((e=>{h((()=>1)),v(e)}),1500),[]),S=()=>{_((e=>!e))},N=()=>{h((()=>1)),v(""),g()};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(G.default,{customStyle:{padding:"0"},children:(0,C.jsxs)("div",{className:a.Z.fm_search_full,children:[(0,C.jsx)("section",{className:a.Z.fm_search_full_container,children:(0,C.jsxs)("div",{className:a.Z.fm_search_full_container_inner,children:[(0,C.jsx)("img",{className:a.Z.fm_search_full_icon,alt:"search icon",src:"".concat(I.dB,"/navbar-search.svg")}),(0,C.jsx)("input",{type:"text",placeholder:c("search"),onChange:e=>{e.target.value?y(e.target.value):(h((()=>1)),v(""))}})]})}),(0,C.jsx)(O.Z,{label:"filter",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:S})]})}),(0,C.jsx)(R.Z,{}),null===j||void 0===j||null===(n=j.list)||void 0===n?void 0:n.map(((e,n)=>{var l;return(null===j||void 0===j||null===(l=j.list)||void 0===l?void 0:l.length)===n+1?(0,C.jsx)("div",{ref:x,children:(0,C.jsx)(Ce,{excel:e,bankId:s,onRefetch:N})},null===e||void 0===e?void 0:e._id):(0,C.jsx)(Ce,{excel:e,bankId:s,onRefetch:N},null===e||void 0===e?void 0:e._id)})),k?u?(0,C.jsx)(P.default,{}):(0,C.jsx)(B.Z,{}):u?0===(null===j||void 0===j||null===(l=j.list)||void 0===l?void 0:l.length)&&(0,C.jsx)(A.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No daybook found related this search."}):0===(null===j||void 0===j||null===(t=j.list)||void 0===t?void 0:t.length)&&(0,C.jsx)(A.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No daybook added."}),r&&(0,C.jsx)(Ne,{onClose:S,bankId:s,fid:d})]})},Fe=e=>{var n,l,t;let{fid:d}=e;const{t:s}=(0,i.$G)(),c=(0,D.TH)(),r=(0,D.UO)(),[_]=(0,ie.lr)(),u=(0,D.s0)(),[v,m]=(0,o.useState)(!1),[h,f]=(0,o.useState)(!1),{financeOneBankDetail:p}=(0,Z.zO)({bid:c.state.bankId,skip:!c.state.bankId}),x=(0,o.useCallback)((()=>{m((e=>!e))}),[]),b=(0,o.useCallback)((()=>{var e;let n="";n="Institute"===(null===(e=c.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(r.username,"/institute/member/finance"):"/q/".concat(r.username,"/member/staff/finance"),u(n,{state:c.state})}),[u,c.state,r.username]);return(0,C.jsxs)(C.Fragment,{children:[!h&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(G.default,{children:[(0,C.jsxs)("div",{className:a.Z.fm_header_container,children:[(0,C.jsxs)("div",{className:a.Z.fm_header_start_container,style:{gap:"0.2rem"},children:[(0,C.jsx)("img",{alt:"search icon",src:"".concat(I.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:b}),(0,C.jsx)("h6",{children:s("bank_details")})]}),(0,C.jsx)("img",{src:"".concat(I.J7,"/edit.svg"),alt:"back arrow",title:"Edit Bank",onClick:x})]}),(0,C.jsx)(ve.Z,{children:De.map((e=>{var n,l;return(0,C.jsx)(ue.Z,{tab:e,isLink:!0,isActive:null===(n=e.groupIs)||void 0===n?void 0:n.includes(_.get("d")),parentState:c.state,url:"Institute"===(null===(l=c.state)||void 0===l?void 0:l.urlOffSet)?"/q/".concat(r.username,"/institute/member/finance?type=bank&n=detail").concat(e.urlKey):"/q/".concat(r.username,"/member/staff/finance?type=bank&n=detail").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,C.jsx)(R.Z,{customStyleBorder:{marginTop:"0"}})]}),(0,C.jsx)(G.default,{children:"info"===_.get("d")?(0,C.jsx)(de,{oneBank:null===p||void 0===p?void 0:p.one_bank}):"fund"===_.get("d")?(0,C.jsx)(oe,{totalRepay:null===p||void 0===p||null===(n=p.one_bank)||void 0===n?void 0:n.total_repay,collectOnline:null===p||void 0===p||null===(l=p.one_bank)||void 0===l?void 0:l.collect_online,dueRepay:null===p||void 0===p||null===(t=p.one_bank)||void 0===t?void 0:t.due_repay}):"miscellaneous"===_.get("d")?(0,C.jsx)(we,{fid:d,bankId:c.state.bankId}):(0,C.jsx)(Se,{fid:d,bankId:c.state.bankId})})]}),v&&(0,C.jsx)(_e,{onToggle:x,setBankEdit:f,openBankMenu:null===p||void 0===p?void 0:p.one_bank})]})},De=[{label:"admission_daybook",id:"admission",urlKey:"",groupIs:["",null]},{label:"miscellaneous_daybook",id:"miscellaneous",urlKey:"&d=miscellaneous",groupIs:["miscellaneous"]},{label:"bank_info",id:"info",urlKey:"&d=info",groupIs:["info"]},{label:"fund",id:"fund",urlKey:"&d=fund",groupIs:["fund"]}];var Le=l(63687);const Be=e=>{let{fid:n,libraryId:l,transportId:t,hostelId:d}=e;const{t:s}=(0,i.$G)(),[c]=(0,ie.lr)(),[r,_]=(0,o.useState)(!1),u=(0,o.useCallback)((()=>{_((e=>!e))}),[]);return(0,C.jsx)(Le.default,{children:r?(0,C.jsx)(ne,{fid:n,libraryId:l,transportId:t,hostelId:d,onClose:u}):c.get("n")?(0,C.jsx)(Fe,{fid:n,libraryId:l,transportId:t,hostelId:d}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(G.default,{children:(0,C.jsxs)("div",{className:a.Z.fm_header_container,children:[(0,C.jsx)("h6",{children:s("bank_account_detail")}),(0,C.jsx)("img",{src:"".concat(I.J7,"/plus-blue.svg"),alt:"back arrow",title:"Add Bank",onClick:u})]})}),(0,C.jsx)(R.Z,{}),(0,C.jsx)(G.default,{children:(0,C.jsx)(E,{fid:n})})]})})},Te=(0,o.memo)(Be)},82824:(e,n,l)=>{"use strict";l.d(n,{J:()=>d,Z:()=>s});var a=l(99893),i=l.n(a),o=l(97892),t=l.n(o);const d=(e,n)=>(t().extend(i()),t()(e).format(n)),s=(e,n,l)=>{var a;return t()()[e]("".concat(null===(a=t()(l))||void 0===a?void 0:a.format("YYYY-MM-DD")),n)}},99893:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,l,a){var i=l.prototype,o=i.format;a.en.formats=e,i.format=function(n){void 0===n&&(n="YYYY-MM-DDTHH:mm:ssZ");var l=this.$locale().formats,a=function(n,l){return n.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(n,a,i){var o=i&&i.toUpperCase();return a||l[i]||e[i]||l[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,n,l){return n||l.slice(1)}))}))}(n,void 0===l?{}:l);return o.call(this,a)}}}()},72888:(e,n,l)=>{"use strict";l.d(n,{Z:()=>a});const a={export_card:"FinanceExport_export_card__9AYtI",export_card_image:"FinanceExport_export_card_image__-1r1l",export_card_text:"FinanceExport_export_card_text__ZrB00",export_card_date:"FinanceExport_export_card_date__-dTOE",export_card_menu:"FinanceExport_export_card_menu__-xEgr"}}}]);
//# sourceMappingURL=99635.3e383cd5.chunk.js.map