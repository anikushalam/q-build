"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[93649],{49804:(e,t,n)=>{n.d(t,{Z:()=>m});var l=n(72791),i=n(39230),a=n(23441),o=n(87338),s=n(11105),d=n(69721),c=n(15214),r=n(80184);const u=e=>{var t,n,l,i;let{warden:a}=e;return(0,r.jsxs)("div",{className:c.Z.hostel_warden_card,children:[(0,r.jsx)("img",{src:null!==a&&void 0!==a&&a.staffProfilePhoto?"".concat(d.yI,"/").concat(null===a||void 0===a?void 0:a.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""}),(0,r.jsxs)("div",{className:c.Z.warden_card_text,children:[(0,r.jsx)("h6",{children:"".concat(null!==(t=null===a||void 0===a?void 0:a.staffFirstName)&&void 0!==t?t:""," ").concat(null!==(n=null===a||void 0===a?void 0:a.staffMiddleName)&&void 0!==n?n:""," ").concat(null!==(l=null===a||void 0===a?void 0:a.staffLastName)&&void 0!==l?l:"")}),(0,r.jsx)("p",{children:null===a||void 0===a||null===(i=a.hostelUnitDepartment)||void 0===i?void 0:i.map(((e,t)=>{var n;return(0,r.jsxs)("span",{children:[0===t?"":", ",null!==(n=null===e||void 0===e?void 0:e.hostel_unit_name)&&void 0!==n?n:""]},null===e||void 0===e?void 0:e._id)}))})]})]})};var v=n(98094),p=n(763);const m=e=>{let{hid:t}=e;const{t:n}=(0,i.$G)(),[d,m]=(0,a.YD)(),[h,_]=(0,l.useState)(1),[g,x]=(0,l.useState)(!0),[f,j]=(0,l.useState)(!0),[S,N]=(0,l.useState)([]),[A,y]=(0,l.useState)(""),{getHostelWardenList:b,getHostelWardenListRefetch:C}=(0,o.kd)({data:{hid:t,page:h,limit:10,search:A},skip:!t});(0,l.useEffect)((()=>{t&&(j(!0),C())}),[t,h,A,C]),(0,l.useEffect)((()=>{m&&g&&_((e=>e+1))}),[m,g]),(0,l.useEffect)((()=>{var e,t;A?(N(null===b||void 0===b?void 0:b.all_wardens),j(!1)):null!==b&&void 0!==b&&b.all_wardens?(N((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===b||void 0===b?void 0:b.all_wardens])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),j(!1)):0===(null===b||void 0===b||null===(t=b.all_wardens)||void 0===t?void 0:t.length)&&j(!1);10===(null===b||void 0===b||null===(e=b.all_wardens)||void 0===e?void 0:e.length)?x(!0):x(!1)}),[null===b||void 0===b?void 0:b.all_wardens]);const Z=(0,l.useCallback)((0,p.debounce)((e=>y(e)),500),[]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:c.Z.with_search,children:[(0,r.jsx)("h6",{children:n("staff_room")}),(0,r.jsx)("section",{className:c.Z.search_container,children:(0,r.jsxs)("div",{className:c.Z.search_container_input,children:[(0,r.jsx)("img",{className:c.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,r.jsx)("input",{type:"text",placeholder:"Search warden...",onChange:e=>{Z(e.target.value)}})]})})]}),(0,r.jsx)(v.Z,{customStyle:{marginTop:"0.5rem",width:"100%"}}),null===S||void 0===S?void 0:S.map(((e,t)=>(null===S||void 0===S?void 0:S.length)===t+1?(0,r.jsx)("div",{ref:d,children:(0,r.jsx)(u,{warden:e})},null===e||void 0===e?void 0:e._id):(0,r.jsx)(u,{warden:e},null===e||void 0===e?void 0:e._id))),f&&(0,r.jsx)(s.Z,{})]})}},44241:(e,t,n)=>{n.d(t,{Z:()=>E});var l=n(72791),i=n(39230),a=n(16871),o=n(23441),s=n(11105),d=n(72426),c=n.n(d),r=n(98734),u=n(12072),v=n(84489),p=n(87049),m=n(97655),h=n(98094),_=n(80184);const g=e=>{var t;let{onEdit:n,xlsxId:a}=e;const{t:o}=(0,i.$G)(),[s,d]=(0,l.useState)(null!==(t=null===a||void 0===a?void 0:a.excel_file_name)&&void 0!==t?t:""),[c,r]=(0,l.useState)("");(0,l.useEffect)((()=>{var e;d(null!==(e=null===a||void 0===a?void 0:a.excel_file_name)&&void 0!==e?e:"")}),[null===a||void 0===a?void 0:a.excel_file_name]);return(0,_.jsxs)("div",{style:{width:"30rem",minHeight:"10rem",padding:"1rem"},children:[(0,_.jsx)("h6",{children:o("update_excel_name")}),(0,_.jsx)(h.Z,{customStyle:{width:"100%"}}),(0,_.jsx)(m.Z,{labelText:o("excel_name"),placeholder:o("excel_name_plcaeholder"),value:s,name:"excelName",type:"text",onChange:e=>d(e.target.value),errorShow:c.excelName}),(0,_.jsx)("button",{className:p.Z.xlsx_update_btn,title:"Add fees head",onClick:()=>{s?n(s):r({excelName:"excelName is required"})},style:{justifyContent:"center",marginTop:"1rem"},children:o("update")})]})};var x=n(87338);const f=e=>{let{onClose:t,xlsxId:n,onRefetch:i,hostelId:a}=e;const[o,s]=(0,l.useState)(!1),[d,c]=(0,l.useState)(!1),[m]=(0,x.xX)(),[h]=(0,x.ix)();return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(v.Z,{onClose:t}),(0,_.jsxs)(u.Z,{customStyle:{zIndex:"1200"},children:[d?(0,_.jsx)(g,{xlsxId:n,onEdit:e=>{s((e=>!e)),m({hid:a,xlsxId:null===n||void 0===n?void 0:n._id,excelUpdate:{excel_file_name:e}}).then((()=>{i(),s((e=>!e)),t()})).catch({})}}):(0,_.jsxs)("div",{className:p.Z.edit_modal_container,style:{width:"200px"},children:[(0,_.jsx)("h6",{className:p.Z.edit,onClick:()=>c((e=>!e)),children:"Edit"}),(0,_.jsx)("h6",{className:p.Z.remove,onClick:()=>{s((e=>!e)),h({hid:a,xlsxId:null===n||void 0===n?void 0:n._id}).then((()=>{i(),t(),s((e=>!e))})).catch({})},children:"Delete"})]}),o&&(0,_.jsx)(r.Z,{})]})]})};var j=n(65543),S=n(29407),N=n(25313),A=n(36665),y=n(41233),b=n(87932),C=n(16256);const Z=e=>{let{hostelId:t,financeId:n,onClose:a,viewAs:o,onRefetch:s}=e;const{t:d}=(0,i.$G)(),[c,u]=(0,l.useState)(!1),[v,p]=(0,l.useState)({depart:"",fee_struct:""}),[m,h]=(0,l.useState)({gender:"",caste:"",is_all:""}),{getHostelUnitList:g,getHostelUnitListRefetch:f}=(0,x.RO)({data:{hid:t,page:1,limit:1e3,search:""},skip:!t}),{getAllFeesCategory:j,getAllFeesCategoryRefetch:S}=(0,b.Z)({fid:n,skip:!n}),[Z]=(0,x.V8)();(0,l.useEffect)((()=>{t&&f()}),[t,f]),(0,l.useEffect)((()=>{n&&S()}),[n,S]);return(0,_.jsxs)(A.Z,{onClose:a,children:[(0,_.jsxs)("div",{className:N.Z.filter_container,children:[(0,_.jsx)("h6",{className:N.Z.filter_title,children:d("filter_and_export_fees_data")}),(0,_.jsx)(y.Z,{selectLabel:d("select_unit"),selectedValue:d("all_select_particular_department"),options:null!==g&&void 0!==g&&g.all_units?["All",...null===g||void 0===g?void 0:g.all_units]:["All"],onClick:e=>{p((t=>({...t,depart:e})))}}),(0,_.jsx)(y.Z,{selectLabel:d("select_gender"),selectedValue:d("select_gender_placeholder"),options:["Male","Female","Other"],onClick:e=>{h((t=>({...t,gender:e})))}}),(0,_.jsx)(y.Z,{selectLabel:d("select_caste_catgory"),selectedValue:d("select_caste_catgory_placeholder"),options:C.De,onClick:e=>{h((t=>({...t,caste:e})))}}),(0,_.jsx)(y.Z,{selectLabel:d("select_fee_category"),selectedValue:d("select_fee_category_placeholder"),options:null!==j&&void 0!==j&&j.all_fees_format?[...null===j||void 0===j?void 0:j.all_fees_format]:[],onClick:e=>{p((t=>({...t,fee_struct:e})))}}),(0,_.jsx)(y.Z,{selectLabel:d("select_all_or_pending"),selectedValue:d("select_all_or_pending_placeholder"),options:["All Time Fees","Pending Fees"],onClick:e=>{h((t=>({...t,is_all:"All Time Fees"===e})))}}),(0,_.jsx)("button",{className:N.Z.next_btn,onClick:()=>{u((e=>!e)),Z({hid:t,...m,all_depart:"All"===v.depart?"All":"Particular",pendingData:{depart:"All"===v.depart?"":v.depart,fee_struct:"All"===v.depart?"":v.fee_struct}}).then((()=>{"EXPORT"===o&&(s(),a()),u((e=>!e))})).catch({})},children:d("export_data")})]}),c&&(0,_.jsx)(r.Z,{})]})},E=e=>{let{hostelId:t,instituteId:n}=e;const{t:d}=(0,i.$G)(),r=(0,a.s0)(),[u,v]=(0,o.YD)(),[p,m]=(0,l.useState)(1),[g,N]=(0,l.useState)(!0),[A,y]=(0,l.useState)(!1),[b,C]=(0,l.useState)(!0),[E,I]=(0,l.useState)([]),[T,P]=(0,l.useState)(!1),[w,R]=(0,l.useState)(!1),{getAllExcelByHostelManager:k,getAllExcelByHostelManagerRefetch:D}=(0,x.Xi)({data:{hid:t,page:p,limit:10},skip:!t}),{scrollToTop:L}=(0,j.u)();(0,l.useEffect)((()=>{L()}),[]),(0,l.useEffect)((()=>{t&&(C(!0),D())}),[t,p,D]),(0,l.useEffect)((()=>{v&&g&&m((e=>e+1))}),[v,g]),(0,l.useEffect)((()=>{var e,t;A?(I(null===k||void 0===k?void 0:k.all_excel),y(!1),C(!1)):null!==k&&void 0!==k&&k.all_excel?(I((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===k||void 0===k?void 0:k.all_excel])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),C(!1)):0===(null===k||void 0===k||null===(t=k.all_excel)||void 0===t?void 0:t.length)&&C(!1);10===(null===k||void 0===k||null===(e=k.all_excel)||void 0===e?void 0:e.length)?N(!0):N(!1)}),[null===k||void 0===k?void 0:k.all_excel]);const M=()=>{P((e=>!e))},O=()=>{m(1),D(),y(!0)};return(0,_.jsxs)("div",{className:S.Z.refund_container,style:{marginTop:"0"},children:[(0,_.jsxs)("section",{className:S.Z.refund_container_title,children:[(0,_.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{r(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,_.jsxs)("div",{className:S.Z.refund_container_title,style:{justifyContent:"space-between",width:"95%"},children:[(0,_.jsx)("h6",{children:d("data_export")}),(0,_.jsx)("img",{src:"/images/export-filter-icon.svg",alt:"",onClick:M,className:S.Z.admission_filter_icon})]})]}),(0,_.jsx)(h.Z,{customStyle:{width:"100%"}}),(0,_.jsxs)("div",{className:S.Z.refund_list,children:[null===E||void 0===E?void 0:E.map(((e,t)=>{var n,l;return(null===E||void 0===E?void 0:E.length)===t+1?(0,_.jsxs)("a",{ref:u,className:S.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,_.jsx)("img",{src:"/images/export-xsxl-icon.svg",alt:""}),(0,_.jsxs)("section",{className:S.Z.export_card_text,children:[(0,_.jsx)("h6",{children:null!==(n=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==n?n:""}),(0,_.jsxs)("div",{className:S.Z.export_card_date,children:[(0,_.jsx)("h6",{children:c()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,_.jsx)("h6",{children:c()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]}),(0,_.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:t=>{t.preventDefault(),R(e)},className:S.Z.menu_icon,title:"Menu"})]},null===e||void 0===e?void 0:e._id):(0,_.jsxs)("a",{className:S.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,_.jsx)("img",{src:"/images/export-xsxl-icon.svg",alt:""}),(0,_.jsxs)("section",{className:S.Z.export_card_text,children:[(0,_.jsx)("h6",{children:null!==(l=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==l?l:""}),(0,_.jsxs)("div",{className:S.Z.export_card_date,children:[(0,_.jsx)("h6",{children:c()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,_.jsx)("h6",{children:c()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]}),(0,_.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:t=>{t.preventDefault(),R(e)},className:S.Z.menu_icon,title:"Menu"})]},null===e||void 0===e?void 0:e._id)})),b&&(0,_.jsx)(s.Z,{}),T&&(0,_.jsx)(Z,{hostelId:t,financeId:n,onClose:M,viewAs:"EXPORT",onRefetch:O}),w&&(0,_.jsx)(f,{xlsxId:w,onClose:()=>R(""),onRefetch:O,hostelId:t})]})]})}},79541:(e,t,n)=>{n.d(t,{Z:()=>g});var l=n(72791),i=n(39230),a=n(23441),o=n(16871),s=n(87338),d=n(11105),c=n(98094),r=n(10406),u=n(80184);const v=e=>{var t,n;let{announcement:l}=e;return(0,u.jsxs)("div",{className:r.Z.announcement_card,children:[(0,u.jsx)("h6",{children:null!==(t=null===l||void 0===l?void 0:l.insAnnTitle)&&void 0!==t?t:""}),(0,u.jsx)("p",{children:null===l||void 0===l||null===(n=l.insAnnDescription)||void 0===n?void 0:n.substring(0,200)})]})};var p=n(1999),m=n(49384),h=n(90865);const _=e=>{let{hid:t,onRefetch:n,onClose:a}=e;const{t:o}=(0,i.$G)(),[d,r]=(0,l.useState)(),[v,_]=(0,l.useState)([]),[g,x]=(0,l.useState)([]),[f,j]=(0,l.useState)(!1),[S,N]=(0,l.useState)(!1),A=(0,l.useRef)(""),y=(0,l.useRef)(""),[b,C]=(0,l.useState)(""),[Z]=(0,s.zA)();(0,l.useEffect)((()=>{if(d){const e=[],t=[];for(let n in d)for(let l in d[n])"type"===l&&(d[n][l].includes("image/")?e.push(URL.createObjectURL(d[n])):t.push({name:d[n].name}));_(e),x(t)}}),[d]);const E=document.querySelector("textarea");null===E||void 0===E||E.addEventListener("keyup",(e=>{E.style.height="auto";let t=e.target.scrollHeight;E.style.height="".concat(t,"px")}));return(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,u.jsx)("h6",{children:o("new_announcement")}),(0,u.jsx)("img",{src:"/images/close-post-icon.svg",onClick:a,alt:"close icon",style:{cursor:"pointer"}})]}),(0,u.jsx)(c.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,u.jsx)(h.Z,{labelHeading:o("turn_announcement_private_only"),customContainer:{padding:"0"},customLabel:{fontWeight:"500"},checkedToggle:f,onToggleHandler:e=>{j(e.target.checked)}}),(0,u.jsxs)("div",{className:p.Z.postTitle,children:[(0,u.jsx)("input",{className:p.Z.input,type:"text",ref:A,required:!0,placeholder:o("title_announce")}),b.title_val&&(0,u.jsx)("div",{style:{color:"red"},children:"* announcement title required"})]}),(0,u.jsx)("div",{className:p.Z.postDesc,children:(0,u.jsx)("textarea",{className:p.Z.postTextarea,rows:"3",type:"text",required:!0,ref:y,name:"CreateInsPost",placeholder:o("description"),style:{border:"0.5px solid rgba(18, 18, 18, 0.3)",borderRadius:"6px"}})}),(0,u.jsxs)("div",{className:p.Z.listContainer,children:[v.length>0&&(0,u.jsx)("div",{className:p.Z.documentList,children:v.map(((e,t)=>(0,u.jsx)("img",{src:e,alt:""},t)))}),g.length>0&&(0,u.jsx)("div",{className:p.Z.pdfList,children:g.map(((e,t)=>(0,u.jsxs)("div",{className:p.Z.pdfPreview,children:[(0,u.jsx)("img",{src:"/images/pdf-icon.png",alt:""},t),(0,u.jsx)("p",{children:e.name})]})))})]}),(0,u.jsx)("label",{htmlFor:"document",style:{cursor:"pointer"},children:(0,u.jsx)("p",{className:p.Z.addfiles,children:o("add_files")})}),(0,u.jsx)("input",{className:p.Z.upload,multiple:!0,id:"document",name:"file",onChange:e=>{r(e.target.files)},type:"file",accept:"image/gif, image/jpeg, image/png,  application/pdf, application/msword"}),(0,u.jsxs)("button",{className:p.Z.btn,disabled:S,onClick:()=>{if(A.current.value){N(!0);const e=new FormData;e.append("insAnnTitle",A.current.value),e.append("insAnnDescription",y.current.value),e.append("insAnnVisibility",f?"Private":"Anyone");let l=0;for(let t in d)d[t].size&&(e.append("file".concat(l+1),d[t]),++l);e.append("announceCount",l),Z({hid:t,announcement:e}).then((()=>{n(),a(),A.current.value="",y.current.value="",N(!1)})).catch({})}else C({title_val:"*required"})},style:{marginTop:"0"},children:[(0,u.jsx)("p",{children:o("post")}),S&&(0,u.jsx)("div",{children:(0,u.jsx)(m.Z,{})})]})]})},g=e=>{var t,n,p,m;let{hid:h,carryParentState:g}=e;const{t:x}=(0,i.$G)(),f=(0,o.TH)(),[j,S]=(0,l.useState)(!1),[N,A]=(0,a.YD)(),[y,b]=(0,l.useState)(1),[C,Z]=(0,l.useState)(!0),[E,I]=(0,l.useState)(!0),[T,P]=(0,l.useState)([]),[w,R]=(0,l.useState)(!1),{getAnnouncementListByHostel:k,getAnnouncementListByHostelRefetch:D}=(0,s.Xc)({data:{hid:null!==h&&void 0!==h?h:null===(t=f.state)||void 0===t?void 0:t.hid,page:y,limit:10},skip:h?!h:!(null!==(n=f.state)&&void 0!==n&&n.hid)});(0,l.useEffect)((()=>{var e;(h||null!==(e=f.state)&&void 0!==e&&e.hid)&&(I(!0),D())}),[h,null===(p=f.state)||void 0===p?void 0:p.hid,y,D]),(0,l.useEffect)((()=>{A&&C&&b((e=>e+1))}),[A,C]),(0,l.useEffect)((()=>{var e,t;w?(P(null===k||void 0===k?void 0:k.announcement),I(!1),R(!1)):null!==k&&void 0!==k&&k.announcement?(P((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===k||void 0===k?void 0:k.announcement])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),I(!1)):0===(null===k||void 0===k||null===(t=k.announcement)||void 0===t?void 0:t.length)&&I(!1);10===(null===k||void 0===k||null===(e=k.announcement)||void 0===e?void 0:e.length)?Z(!0):Z(!1)}),[null===k||void 0===k?void 0:k.announcement]);const L=()=>{S((e=>!e))};return(0,u.jsxs)(u.Fragment,{children:[!j&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:r.Z.with_search,children:(0,u.jsx)("h6",{children:x("hostel_announcement")})}),(0,u.jsx)(c.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),"HOSTEL_UNIT_TAB"===(null===(m=f.state)||void 0===m?void 0:m.viewNotice)?"":(0,u.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,u.jsx)("p",{className:r.Z.add_new_category,onClick:L,children:x("create_new_announcement")})}),null===T||void 0===T?void 0:T.map(((e,t)=>(null===T||void 0===T?void 0:T.length)===t+1?(0,u.jsx)("div",{ref:N,children:(0,u.jsx)(v,{announcement:e})},null===e||void 0===e?void 0:e._id):(0,u.jsx)(v,{announcement:e},null===e||void 0===e?void 0:e._id))),E&&(0,u.jsx)(d.Z,{})]}),j&&(0,u.jsx)(_,{onClose:L,hid:h,onRefetch:()=>{b(1),R(!0),I(!0),D()}})]})}},72441:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var l=n(72791),i=n(39230),a=n(87338),o=n(98734),s=n(36665),d=n(87457),c=n(80184);const r=e=>{let{onClose:t,onRefetchWhenSelect:n,applicationId:r,studentId:u,viewAs:v}=e;const{t:p}=(0,i.$G)(),[m,h]=(0,l.useState)(!1),[_]=(0,a.QC)(),[g]=(0,a.xp)();return(0,c.jsx)(s.Z,{onClose:t,children:(0,c.jsxs)("div",{className:d.Z.add_category_modal,style:{width:"23rem",height:"10rem"},children:[(0,c.jsxs)("div",{className:d.Z.add_category_modal_title,children:[(0,c.jsx)("h6",{children:p("RENEWAL"===v?"cancl_student_renewal_request":"cancel_student_hostel_request")}),(0,c.jsx)("img",{src:"/images/close-post-icon.svg",onClick:t,alt:"close"})]}),(0,c.jsx)("button",{className:d.Z.set_fees_structure_btn,title:"Cancel Request",onClick:()=>{""!==u&&""!==r&&(h((e=>!e)),"RENEWAL"===v?g({sid:u,huid:r}).then((()=>{n(),t(),h((e=>!e))})).catch({}):_({sid:u,aid:r}).then((()=>{n(),t(),h((e=>!e))})).catch({}))},style:{justifyContent:"center",marginTop:"4rem"},children:p("confirm")}),m&&(0,c.jsx)(o.Z,{})]})})}},34791:(e,t,n)=>{n.d(t,{Z:()=>Ce});var l=n(72791),i=n(39230),a=n(16871),o=n(98094),s=n(47167),d=n(10406),c=n(23441),r=n(87338),u=n(11105);const v="CompletedApplication_remainingFeesBottom__i9hlV",p="CompletedApplication_itemsContainer__UgcIF",m="CompletedApplication_item__RNB9g",h="CompletedApplication_subItem__zVdCT",_="CompletedApplication_text__deTcX";var g=n(22492),x=n(55271),f=n(80184);const j=e=>{var t,n,l,a;let{carryParentState:o,accessRole:s,accessTpye:d,callApi:c,pageOpenAs:r,data:u}=e;const{t:v}=(0,i.$G)();return(0,f.jsx)(f.Fragment,{children:"INSTITUTE"===r?(0,f.jsx)(g.Z,{carryParentState:{...o,applicationId:null===u||void 0===u?void 0:u._id},activeTab:"request&ongoing&n=application",children:(0,f.jsxs)("div",{className:m,children:[(0,f.jsxs)("div",{className:h,children:[(0,f.jsx)("img",{alt:"Completed App",src:"/images/admision-application-icon.svg"}),(0,f.jsxs)("div",{className:_,children:[(0,f.jsx)("h6",{children:null===u||void 0===u?void 0:u.applicationName}),(0,f.jsx)("p",{style:{marginBottom:"0"},children:null!==(t=null===u||void 0===u||null===(n=u.applicationUnit)||void 0===n?void 0:n.hostel_unit_name)&&void 0!==t?t:""})]})]}),(0,f.jsx)("div",{className:_,children:(0,f.jsxs)("div",{className:_,children:[(0,f.jsx)("h6",{children:null===u||void 0===u?void 0:u.allotCount}),(0,f.jsx)("p",{style:{marginBottom:"0"},children:v("alloted")})]})})]})}):(0,f.jsx)(x.Z,{carryParentState:{...o,applicationId:null===u||void 0===u?void 0:u._id},activeTab:"request&ongoing&n=application",accessRole:s,accessTpye:d,callApi:c,children:(0,f.jsxs)("div",{className:m,children:[(0,f.jsxs)("div",{className:h,children:[(0,f.jsx)("img",{alt:"Completed App",src:"/images/admision-application-icon.svg"}),(0,f.jsxs)("div",{className:_,children:[(0,f.jsx)("h6",{children:null===u||void 0===u?void 0:u.applicationName}),(0,f.jsx)("p",{style:{marginBottom:"0"},children:null!==(l=null===u||void 0===u||null===(a=u.applicationUnit)||void 0===a?void 0:a.hostel_unit_name)&&void 0!==l?l:""})]})]}),(0,f.jsx)("div",{className:_,children:(0,f.jsxs)("div",{className:_,children:[(0,f.jsx)("h6",{children:null===u||void 0===u?void 0:u.allotCount}),(0,f.jsx)("p",{style:{marginBottom:"0"},children:v("alloted")})]})})]})})})};var S=n(65543);const N=e=>{let{hid:t,carryParentState:n,accessRole:i,accessApplication:a,accessTpye:o,callApi:s,pageOpenAs:d}=e;const[m,h]=(0,l.useState)(!0),[_,g]=(0,l.useState)(1),[x,N]=(0,c.YD)(),[A,y]=(0,l.useState)(!0),[b,C]=(0,l.useState)([]),{scrollToTop:Z}=(0,S.u)(),{getCompletedApplicationList:E,getCompletedApplicationListRefetch:I}=(0,r.KB)({data:{hid:t,page:_,limit:10},skip:!t});return(0,l.useEffect)((()=>{Z()}),[]),(0,l.useEffect)((()=>{N&&m&&g((e=>e+1))}),[N,m]),(0,l.useEffect)((()=>{t&&(y(!0),I())}),[_,t,I]),(0,l.useEffect)((()=>{var e,t;null!==E&&void 0!==E&&E.completed?(C((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===E||void 0===E?void 0:E.completed])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),y(!1)):0===(null===E||void 0===E||null===(e=E.completed)||void 0===e?void 0:e.length)&&y(!1),10===(null===E||void 0===E||null===(t=E.completed)||void 0===t?void 0:t.length)?h(!0):h(!1)}),[null===E||void 0===E?void 0:E.completed]),(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:v,children:(0,f.jsxs)("div",{className:p,children:[null===b||void 0===b?void 0:b.map(((e,t)=>(null===b||void 0===b?void 0:b.length)===t+1?(0,f.jsx)("div",{ref:x,children:(0,f.jsx)(j,{data:e,carryParentState:n,accessRole:i,accessTpye:o,callApi:s,accessApplication:a,pageOpenAs:d})},t):(0,f.jsx)(j,{data:e,carryParentState:n,accessRole:i,accessTpye:o,callApi:s,accessApplication:a,pageOpenAs:d},t))),A&&(0,f.jsx)(u.Z,{})]})})})};var A=n(73032),y=n(85753),b=n(5574),C=n(51561),Z=n(98734),E=n(9490);const I=function(e){var t,n,o,s,d,c,u,v,p,m,h,_,g,x,j,S,N;let{viewDetail:I,hideModal:T,applicationDetail:P,completeApplication:w,carryParentState:R,applicationDetailApplicablePending:k,pageOpenAs:D}=e;const{t:L}=(0,i.$G)(),M=new Date,O=(0,a.s0)(),F=(0,a.UO)(),[q,B]=(0,l.useState)(!1),[H,U]=(0,l.useState)({msg:"",run:!1}),[G,W]=(0,l.useState)(!1),[V,$]=(0,l.useState)(null===(t=M.toISOString())||void 0===t?void 0:t.substring(0,10)),[J]=(0,r.gv)(),{getDailyCollectionByAdmission:Y,getDailyCollectionByAdmissionRefetch:z}=(0,A.Ts)({data:{appId:null===P||void 0===P?void 0:P._id,valid_date:V},skip:!(null!==P&&void 0!==P&&P._id)});(0,l.useEffect)((()=>{null!==P&&void 0!==P&&P._id&&z()}),[null===P||void 0===P?void 0:P._id,z,V]);const X=()=>{B((e=>!e)),null!==P&&void 0!==P&&P._id?J({aid:null===P||void 0===P?void 0:P._id}).then((e=>{var t;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.complete_status?(B((e=>!e)),T(!1),O("/q/".concat(F.username,"INSTITUTE"===D?"/hostel":"/member/hostel"),{state:{...R}})):(U({msg:null===e||void 0===e?void 0:e.data.message,run:!0}),B((e=>!e)))})).catch({}):B((e=>!e))};return(0,f.jsxs)(b.Z,{open:I,onClose:()=>T(!1),children:[(0,f.jsxs)("div",{className:y.Z.addDisplay,children:[(0,f.jsxs)("div",{className:y.Z.title,children:[(0,f.jsx)("div",{}),(0,f.jsx)("h6",{style:{cursor:"pointer"},onClick:()=>W((e=>!e)),children:null===P||void 0===P?void 0:P.applicationName}),(0,f.jsx)("img",{src:"/images/close-post-icon.svg",onClick:()=>T(!1),alt:""})]}),(0,f.jsxs)("div",{className:y.Z.content,children:[(0,f.jsx)("div",{style:{padding:"1rem"},children:(0,f.jsx)(E.Z,{setValidDate:$})}),w&&!G&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:y.Z.content2,children:[(0,f.jsxs)("div",{className:y.Z.appinforow,children:[(0,f.jsx)("h6",{children:L("total_received_application")}),(0,f.jsx)("h6",{children:null!==(n=null===Y||void 0===Y||null===(o=Y.day_wise)||void 0===o?void 0:o.request_count)&&void 0!==n?n:0})]}),(0,f.jsxs)("div",{className:y.Z.appinforow,children:[(0,f.jsx)("h6",{children:L("total_selected_application")}),(0,f.jsx)("h6",{children:null!==(s=null===Y||void 0===Y||null===(d=Y.day_wise)||void 0===d?void 0:d.select_count)&&void 0!==s?s:0})]}),(0,f.jsxs)("div",{className:y.Z.appinforow,children:[(0,f.jsx)("h6",{children:L("total_confirmed_application")}),(0,f.jsx)("h6",{children:null!==(c=null===Y||void 0===Y||null===(u=Y.day_wise)||void 0===u?void 0:u.confirm_count)&&void 0!==c?c:0})]}),(0,f.jsxs)("div",{className:y.Z.appinforow,children:[(0,f.jsx)("h6",{children:L("total_alloted_application")}),(0,f.jsxs)("h6",{children:[" ",null!==(v=null===Y||void 0===Y||null===(p=Y.day_wise)||void 0===p?void 0:p.allot_count)&&void 0!==v?v:0]})]}),(0,f.jsxs)("div",{className:y.Z.appinforow,children:[(0,f.jsx)("h6",{children:L("total_cancelled_application")}),(0,f.jsxs)("h6",{children:[" ",null!==(m=null===Y||void 0===Y||null===(h=Y.day_wise)||void 0===h?void 0:h.cancel_count)&&void 0!==m?m:0]})]})]}),(0,f.jsxs)("div",{className:y.Z.content3,children:[(0,f.jsxs)("div",{className:y.Z.appinforow1,children:[(0,f.jsx)("h6",{children:L("total_fees_received")}),(0,f.jsxs)("h6",{children:["Rs. ",null!==(_=null===Y||void 0===Y||null===(g=Y.day_wise)||void 0===g?void 0:g.paid)&&void 0!==_?_:0]})]}),(0,f.jsxs)("div",{className:"".concat(y.Z.appinforow2," ").concat(y.Z.appinforowred),children:[(0,f.jsx)("h6",{children:L("total_fees_pending")}),(0,f.jsxs)("h6",{children:["Rs. ",null!==(x=null===Y||void 0===Y||null===(j=Y.day_wise)||void 0===j?void 0:j.remain)&&void 0!==x?x:0]})]}),(0,f.jsxs)("div",{className:"".concat(y.Z.appinforow2," ").concat(y.Z.appinforowred),children:[(0,f.jsx)("h6",{children:L("total_applicable_fees_pending")}),(0,f.jsxs)("h6",{children:["Rs."," ",null!==(S=null===Y||void 0===Y||null===(N=Y.day_wise)||void 0===N?void 0:N.applicable_pending)&&void 0!==S?S:0]})]}),(0,f.jsx)("div",{className:y.Z.completeApplicationcontainer,children:(0,f.jsx)("div",{className:y.Z.completeApplication,onClick:X,children:L("complete_application")})})]})]}),w&&G&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:y.Z.content2,children:[(0,f.jsxs)("div",{className:y.Z.appinforow,children:[(0,f.jsx)("h6",{children:L("total_received_application")}),(0,f.jsx)("h6",{children:null===P||void 0===P?void 0:P.receievedCount})]}),(0,f.jsxs)("div",{className:y.Z.appinforow,children:[(0,f.jsx)("h6",{children:L("total_selected_application")}),(0,f.jsx)("h6",{children:null===P||void 0===P?void 0:P.selectCount})]}),(0,f.jsxs)("div",{className:y.Z.appinforow,children:[(0,f.jsx)("h6",{children:L("total_confirmed_application")}),(0,f.jsx)("h6",{children:null===P||void 0===P?void 0:P.confirmCount})]}),(0,f.jsxs)("div",{className:y.Z.appinforow,children:[(0,f.jsx)("h6",{children:L("total_alloted_application")}),(0,f.jsx)("h6",{children:null===P||void 0===P?void 0:P.allotCount})]}),(0,f.jsxs)("div",{className:y.Z.appinforow,children:[(0,f.jsx)("h6",{children:L("total_cancelled_application")}),(0,f.jsx)("h6",{children:null===P||void 0===P?void 0:P.cancelCount})]})]}),(0,f.jsxs)("div",{className:y.Z.content3,children:[(0,f.jsxs)("div",{className:y.Z.appinforow1,children:[(0,f.jsx)("h6",{children:L("total_fees_received")}),(0,f.jsxs)("h6",{children:["Rs. ",null===P||void 0===P?void 0:P.collectedFeeCount]})]}),(0,f.jsxs)("div",{className:"".concat(y.Z.appinforow2," ").concat(y.Z.appinforowred),children:[(0,f.jsx)("h6",{children:L("total_fees_pending")}),(0,f.jsxs)("h6",{children:["Rs. ",null===P||void 0===P?void 0:P.remainingFee]})]}),(0,f.jsxs)("div",{className:"".concat(y.Z.appinforow2," ").concat(y.Z.appinforowred),children:[(0,f.jsx)("h6",{children:L("total_applicable_fees_pending")}),(0,f.jsxs)("h6",{children:["Rs. ",null!==k&&void 0!==k?k:0]})]}),(0,f.jsx)("div",{className:y.Z.completeApplicationcontainer,children:(0,f.jsx)("div",{className:y.Z.completeApplication,onClick:X,children:L("complete_application")})})]})]})]})]}),q&&(0,f.jsx)(Z.Z,{}),(0,f.jsx)(C.Ch,{msg:H.msg,run:H.run,setRun:()=>U({msg:"",run:!1}),postiton:"bottom",type:"error"})]})},T=["Request_Query","Confirm_Query","Allot_Query"],P=e=>{var t,n;let{applicationDetail:i,carryParentState:s,unitName:c,tabStatusFlow:u,applicationDetailApplicablePending:v,pageOpenAs:p,children:m}=e;const h=(0,a.s0)(),_=(0,a.UO)(),[g,x]=(0,l.useState)(!1),[j,S]=(0,l.useState)({msg:"",run:!1}),[N,A]=(0,l.useState)(!1),[y]=(0,r.Y$)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("section",{className:d.Z.moderator_container_title,children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{h("/q/".concat(_.username,"INSTITUTE"===p?"/hostel?a=request":"/member/hostel?a=request"),{state:{...s}})},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,f.jsxs)("div",{className:d.Z.with_search,children:[(0,f.jsx)("h6",{children:null!==(t=null!==(n=null===i||void 0===i?void 0:i.applicationName)&&void 0!==n?n:c)&&void 0!==t?t:""}),(0,f.jsxs)("div",{className:d.Z.search_container_filter,children:[(0,f.jsx)("section",{className:d.Z.search_container,children:(0,f.jsxs)("div",{className:d.Z.search_container_input,children:[(0,f.jsx)("img",{className:d.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),m]})}),!c&&(0,f.jsx)("img",{style:{height:"2.2rem",cursor:"pointer"},onClick:()=>x(!0),src:"/images/application_info.svg",alt:""}),T.includes(u)?(0,f.jsx)("img",{style:{height:"2.2rem",cursor:"pointer"},onClick:()=>{null!==i&&void 0!==i&&i._id&&u&&(A((e=>!e)),y({appId:null===i||void 0===i?void 0:i._id,flow:u}).then((e=>{var t;S({msg:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message,run:!0}),setTimeout((()=>{h("/q/".concat(_.username,"INSTITUTE"===p?"/hostel?a=export":"/member/hostel?a=export"),{state:s})}),1e3)})).catch({}))},src:"/images/member_tab/finance/finance-export-icon.svg",alt:""}):null]})]})]}),(0,f.jsx)(o.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),g&&(0,f.jsx)(I,{completeApplication:!0,viewDetail:g,applicationDetail:i,hideModal:x,carryParentState:s,applicationDetailApplicablePending:v,pageOpenAs:p}),N&&(0,f.jsx)(Z.Z,{}),(0,f.jsx)(C.Ch,{msg:j.msg,run:j.run,setRun:()=>S({msg:"",run:!1}),postiton:"bottom",type:"success"})]})};var w=n(763),R=n(15961),k=n(72426),D=n.n(k),L=n(69721),M=n(35395),O=n(82224);const F=l.lazy((()=>Promise.resolve().then(n.bind(n,72441)))),q=e=>{var t,n,o,s,d,c,u,v,p,m,h,_,g,x,j,S;let{applicant:N,onRefetchWhenSelect:A,applicationId:y,hostelId:b,batchId:C,classMasterId:E}=e;const{t:I}=(0,i.$G)(),T=(0,a.UO)(),P=(0,a.s0)(),[w,k]=(0,l.useState)(!1),[q,B]=(0,l.useState)(!1),[H,U]=(0,l.useState)(!1),[G]=(0,r.KR)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:R.Z.applicant_card_container,onClick:()=>{var e;P("/q/".concat(T.username,"/student/profile"),{state:{sid:null===N||void 0===N||null===(e=N.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,f.jsxs)("div",{className:R.Z.applicant_card_inner,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===N||void 0===N||null===(t=N.student)||void 0===t?void 0:t.photoId)?"".concat(L.yI,"/").concat(null===N||void 0===N||null===(n=N.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,f.jsxs)("div",{className:R.Z.applicant_card_inner_info,children:[(0,f.jsx)("h6",{children:"".concat(null===N||void 0===N||null===(o=N.student)||void 0===o?void 0:o.studentFirstName," ").concat(null!==N&&void 0!==N&&null!==(s=N.student)&&void 0!==s&&s.studentMiddleName?null===N||void 0===N||null===(d=N.student)||void 0===d?void 0:d.studentMiddleName:""," ").concat(null===N||void 0===N||null===(c=N.student)||void 0===c?void 0:c.studentLastName)}),(0,f.jsxs)("p",{children:[I("applied_on"),":"," ",D()(null===N||void 0===N?void 0:N.apply_on).format("DD MMM yyyy")]})]})]}),(0,f.jsxs)("div",{className:R.Z.applicant_card_contact,children:[(0,f.jsxs)("div",{className:R.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,f.jsx)("p",{children:null===N||void 0===N||null===(u=N.student)||void 0===u?void 0:u.studentGender})]}),((null===N||void 0===N||null===(v=N.student)||void 0===v?void 0:v.studentPhoneNumber)||(null===N||void 0===N||null===(p=N.student)||void 0===p?void 0:p.studentParentsPhoneNumber))&&(0,f.jsxs)("div",{className:R.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,f.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==N&&void 0!==N&&null!==(m=N.student)&&void 0!==m&&m.studentPhoneNumber?null===N||void 0===N||null===(h=N.student)||void 0===h?void 0:h.studentPhoneNumber:null===N||void 0===N||null===(_=N.student)||void 0===_?void 0:_.studentParentsPhoneNumber})]})]}),(0,f.jsx)("div",{className:R.Z.applicant_card_reciept,onClick:e=>{e.stopPropagation()},children:(0,f.jsx)("a",{href:"".concat(L.r3,"/").concat(null===N||void 0===N||null===(g=N.student)||void 0===g||null===(x=g.application_print)||void 0===x||null===(j=x[0])||void 0===j?void 0:j.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,f.jsxs)("div",{className:R.Z.application_button,children:[(0,f.jsx)("div",{className:R.Z.selectAppBtnContainer,onClick:e=>{e.stopPropagation(),B(!0)},children:(0,f.jsx)("div",{className:R.Z.selectBtn,children:I("select")})}),(0,f.jsx)("div",{className:R.Z.selectAppBtnContainer,onClick:e=>{e.stopPropagation(),k((e=>!e))},children:(0,f.jsx)("div",{className:R.Z.cancelledBtn,children:I("reject")})})]})]}),(0,f.jsx)(M.Z,{children:w&&(0,f.jsx)(F,{studentId:null===N||void 0===N||null===(S=N.student)||void 0===S?void 0:S._id,applicationId:y,onClose:()=>k((e=>!e)),onRefetchWhenSelect:A})}),q&&(0,f.jsx)(O.Z,{hostelId:b,onClose:()=>B((e=>!e)),onSelectedStudent:e=>{var t,n;""!==(null===N||void 0===N||null===(t=N.student)||void 0===t?void 0:t._id)&&""!==y&&(U((e=>!e)),G({sid:null===N||void 0===N||null===(n=N.student)||void 0===n?void 0:n._id,aid:y,selectApplicant:e}).then((()=>{A(),U((e=>!e))})).catch((()=>{U((e=>!e))})))},batchId:null!==C&&void 0!==C?C:"",classMasterId:null!==E&&void 0!==E?E:""}),H&&(0,f.jsx)(Z.Z,{})]})},B=e=>{var t,n,l,d;let{carryParentState:c,accessRole:r,accessTpye:u,pageOpenAs:v}=e;const{t:p}=(0,i.$G)(),m=(0,a.TH)(),h=[{name:p("application"),id:0,url:"member/hostel?a=request&ongoing&n=application",is_active:["MULTI_APP_ACCESS"].includes(r)||!r?"enabled":["ONE_TAB_ACCESS"].includes(r)?"Application"===u?"enabled":"disabled":"enabled"},{name:p("selected"),id:1,url:"member/hostel?a=request&ongoing&n=select",is_active:["MULTI_APP_ACCESS"].includes(r)||!r?"enabled":["ONE_TAB_ACCESS"].includes(r)?"Selected"===u?"enabled":"disabled":"enabled"},{name:p("confirmed"),id:2,url:"member/hostel?a=request&ongoing&n=confirm",is_active:["MULTI_APP_ACCESS"].includes(r)||!r?"enabled":["ONE_TAB_ACCESS"].includes(r)?"Confirmed"===u?"enabled":"disabled":"enabled"},{name:p("allotted"),id:3,url:"member/hostel?a=request&ongoing&n=allot",is_active:["MULTI_APP_ACCESS"].includes(r)||!r?"enabled":["ONE_TAB_ACCESS"].includes(r)?"Allotted"===u?"enabled":"disabled":"enabled"},{name:p("cancelled"),id:4,url:"member/hostel?a=request&ongoing&n=cancel",is_active:["MULTI_APP_ACCESS"].includes(r)||!r?"enabled":["ONE_TAB_ACCESS"].includes(r)?"Cancelled"===u?"enabled":"disabled":"enabled"}],_=[{name:p("application"),id:0,url:"hostel?a=request&ongoing&n=application",is_active:"enabled"},{name:p("selected"),id:1,url:"hostel?a=request&ongoing&n=select",is_active:"enabled"},{name:p("confirmed"),id:2,url:"hostel?a=request&ongoing&n=confirm",is_active:"enabled"},{name:p("allotted"),id:3,url:"hostel?a=request&ongoing&n=allot",is_active:"enabled"},{name:p("cancelled"),id:4,url:"hostel?a=request&ongoing&n=cancel",is_active:"enabled"}];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.Z,{tabList:"INSTITUTE"===v?_:h,activeIndexTab:"application"===(null===(t=m.search)||void 0===t?void 0:t.substring(21))?0:"select"===(null===(n=m.search)||void 0===n?void 0:n.substring(21))?1:"confirm"===(null===(l=m.search)||void 0===l?void 0:l.substring(21))?2:"allot"===(null===(d=m.search)||void 0===d?void 0:d.substring(21))?3:4,showAs:!0,customStyleTab:{width:"100%"},customStyleLink:{width:"20%"},carryParentState:c}),(0,f.jsx)(o.Z,{customStyle:{width:"100%"}})]})};const H=function(e){let{carryParentState:t,applicationId:n,hostelId:i,applicationDetail:a,accessRole:o,accessTpye:s,applicationDetailApplicablePending:d,pageOpenAs:r}=e;const[v,p]=(0,l.useState)(!0),[m,h]=(0,l.useState)(1),[_,g]=(0,l.useState)(""),[x,j]=(0,c.YD)(),[S,N]=(0,l.useState)([]),[y,b]=(0,l.useState)(!1),[C,Z]=(0,l.useState)(!0),{getAllRequestList:E,getAllRequestListRefetch:I}=(0,A.jG)({data:{id:n,page:m,limit:10,search:_||""},skip:!n});(0,l.useEffect)((()=>{j&&v&&h((e=>e+1))}),[j,v]),(0,l.useEffect)((()=>{n&&(Z(!0),I())}),[m,n,I,_]),(0,l.useEffect)((()=>{var e,t;_?(N(null===E||void 0===E?void 0:E.request),Z(!1)):y?(N(null===E||void 0===E?void 0:E.request),b(!1),Z(!1)):null!==E&&void 0!==E&&E.request?(N((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===E||void 0===E?void 0:E.request])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),Z(!1)):0===(null===E||void 0===E||null===(t=E.request)||void 0===t?void 0:t.length)&&Z(!1);10===(null===E||void 0===E||null===(e=E.request)||void 0===e?void 0:e.length)?p(!0):p(!1)}),[null===E||void 0===E?void 0:E.request]);const T=()=>{h(1),I(),b(!0)},R=(0,l.useCallback)((0,w.debounce)((e=>g(e)),500),[]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(P,{applicationDetail:a,carryParentState:t,tabStatusFlow:"Request_Query",applicationDetailApplicablePending:d,pageOpenAs:r,children:(0,f.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:e=>{R(e.target.value)}})}),(0,f.jsx)(B,{carryParentState:t,accessRole:o,accessTpye:s,pageOpenAs:r}),null===S||void 0===S?void 0:S.map(((e,t)=>{var l,o;return(null===S||void 0===S?void 0:S.length)===t+1?(0,f.jsx)("div",{ref:x,children:(0,f.jsx)(q,{applicant:e,onRefetchWhenSelect:T,applicationId:n,hostelId:i,batchId:null===a||void 0===a||null===(l=a.applicationBatch)||void 0===l?void 0:l._id,classMasterId:null===a||void 0===a?void 0:a.applicationMaster})},t):(0,f.jsx)(q,{applicant:e,onRefetchWhenSelect:T,applicationId:n,hostelId:i,batchId:null===a||void 0===a||null===(o=a.applicationBatch)||void 0===o?void 0:o._id,classMasterId:null===a||void 0===a?void 0:a.applicationMaster},t)})),C&&(0,f.jsx)(u.Z,{})]})},U=e=>{var t,n,l,o,s,d,c,r,u,v,p,m,h,_,g,x,j,S,N,A,y,b,C,Z;let{onSelectOffileFees:E,applicant:I}=e;const{t:T}=(0,i.$G)(),P=(0,a.UO)(),w=(0,a.s0)();return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:R.Z.applicant_card_container,onClick:()=>{var e;w("/q/".concat(P.username,"/student/profile"),{state:{sid:null===I||void 0===I||null===(e=I.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,f.jsxs)("div",{className:R.Z.applicant_card_inner,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===I||void 0===I||null===(t=I.student)||void 0===t?void 0:t.photoId)?"".concat(L.yI,"/").concat(null===I||void 0===I||null===(n=I.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,f.jsxs)("div",{className:R.Z.applicant_card_inner_info,children:[(0,f.jsx)("h6",{children:"".concat(null===I||void 0===I||null===(l=I.student)||void 0===l?void 0:l.studentFirstName," ").concat(null!==I&&void 0!==I&&null!==(o=I.student)&&void 0!==o&&o.studentMiddleName?null===I||void 0===I||null===(s=I.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null===I||void 0===I||null===(d=I.student)||void 0===d?void 0:d.studentLastName)}),(0,f.jsxs)("h6",{children:[T("fee_structure")," : ",null!==(c=null===I||void 0===I||null===(r=I.student)||void 0===r||null===(u=r.hostel_fee_structure)||void 0===u||null===(v=u.category_master)||void 0===v?void 0:v.category_name)&&void 0!==c?c:"",", ",T("rs")," ",null!==(p=null===I||void 0===I||null===(m=I.student)||void 0===m||null===(h=m.hostel_fee_structure)||void 0===h?void 0:h.total_admission_fees)&&void 0!==p?p:""]}),(0,f.jsx)("p",{children:null!==I&&void 0!==I&&I.install_type?null===I||void 0===I?void 0:I.install_type:"\n              ".concat(T("select_on"),":\n              ").concat(D()(null===I||void 0===I?void 0:I.select_on).format("DD MMM yyyy"))})]})]}),(0,f.jsxs)("div",{className:R.Z.applicant_card_contact,children:[(0,f.jsxs)("div",{className:R.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,f.jsx)("p",{children:null===I||void 0===I||null===(_=I.student)||void 0===_?void 0:_.studentGender})]}),((null===I||void 0===I||null===(g=I.student)||void 0===g?void 0:g.studentPhoneNumber)||(null===I||void 0===I||null===(x=I.student)||void 0===x?void 0:x.studentParentsPhoneNumber))&&(0,f.jsxs)("div",{className:R.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,f.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==I&&void 0!==I&&null!==(j=I.student)&&void 0!==j&&j.studentPhoneNumber?null===I||void 0===I||null===(S=I.student)||void 0===S?void 0:S.studentPhoneNumber:null===I||void 0===I||null===(N=I.student)||void 0===N?void 0:N.studentParentsPhoneNumber})]})]}),(0,f.jsx)("div",{className:R.Z.applicant_card_reciept,onClick:e=>{e.stopPropagation()},children:(0,f.jsx)("a",{href:"".concat(L.r3,"/").concat(null===I||void 0===I||null===(A=I.student)||void 0===A||null===(y=A.application_print)||void 0===y||null===(b=y[0])||void 0===b?void 0:b.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),"pending"===(null===I||void 0===I||null===(C=I.payment_status)||void 0===C?void 0:C.toLowerCase())?(0,f.jsx)("div",{className:R.Z.selectBtnContainer,style:{display:"flex",justifyContent:"space-evenly"},children:(0,f.jsx)("div",{className:R.Z.selectBtn,onClick:e=>{e.stopPropagation(),E(I)},children:T("collect_fee")})}):"receipt requested"===(null===I||void 0===I||null===(Z=I.payment_status)||void 0===Z?void 0:Z.toLowerCase())?(0,f.jsx)("div",{className:R.Z.selectBtnContainer,children:(0,f.jsx)("div",{className:R.Z.receipt_requested_btn,onClick:e=>{e.stopPropagation()},children:T("receipt_requested")})}):null]})})};var G=n(36665);const W=e=>{var t,n,a,s,d,c;let{currentApplicant:u,onClose:v,applicationId:p,onRefetchWhenConfirm:m}=e;const{t:h}=(0,i.$G)(),[_,g]=(0,l.useState)(!1),[x]=(0,r.Ik)(),[j]=(0,r.lA)();return(0,f.jsxs)(G.Z,{onClose:v,children:[(0,f.jsxs)("div",{className:R.Z.not_confirm_container,children:[(0,f.jsx)("h6",{children:h("hostel_status")}),(0,f.jsx)(o.Z,{customStyle:{marginLeft:"-2rem",width:"130%"}}),(0,f.jsxs)("section",{className:R.Z.applicant_profile,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===u||void 0===u||null===(t=u.student)||void 0===t?void 0:t.photoId)?"".concat(L.yI,"/").concat(null===u||void 0===u||null===(n=u.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,f.jsxs)("div",{className:R.Z.applicant_profile_text,children:[(0,f.jsx)("h6",{children:"".concat(null===u||void 0===u||null===(a=u.student)||void 0===a?void 0:a.studentFirstName," ").concat(null!==u&&void 0!==u&&null!==(s=u.student)&&void 0!==s&&s.studentMiddleName?null===u||void 0===u||null===(d=u.student)||void 0===d?void 0:d.studentMiddleName:""," ").concat(null===u||void 0===u||null===(c=u.student)||void 0===c?void 0:c.studentLastName)}),(0,f.jsxs)("p",{children:[h("applied")," ",D()(null===u||void 0===u?void 0:u.select_on).format("DD MMM yyyy")]})]})]}),(0,f.jsxs)("section",{className:R.Z.button_group,children:[(0,f.jsx)("button",{onClick:()=>{var e,t;p&&null!==u&&void 0!==u&&null!==(e=u.student)&&void 0!==e&&e._id&&(g((e=>!e)),x({aid:p,sid:null===u||void 0===u||null===(t=u.student)||void 0===t?void 0:t._id}).then((()=>{m(),v(),g((e=>!e))})).catch((()=>{g((e=>!e))})))},children:h("confirm")}),(0,f.jsx)("button",{onClick:()=>{var e,t;p&&null!==u&&void 0!==u&&null!==(e=u.student)&&void 0!==e&&e._id&&(g((e=>!e)),j({aid:p,sid:null===u||void 0===u||null===(t=u.student)||void 0===t?void 0:t._id}).then((()=>{m(),v(),g((e=>!e))})).catch((()=>{g((e=>!e))})))},children:h("reject")})]})]}),_&&(0,f.jsx)(Z.Z,{})]})};var V=n(97655),$=n(59965),J=n(49886);const Y=function(e){var t,n,a,s,d;let{onClose:c,applicant:u,applicationId:v,onRefetchWhenConfirm:p,huid:m,viewAs:h}=e;const[_,g]=(0,l.useState)(!1),{t:x}=(0,i.$G)(),[j,S]=(0,l.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),[N,A]=(0,l.useState)({msg:"",run:!1}),[y,b]=(0,l.useState)(""),[E]=(0,r.Jg)(),[I]=(0,r.fl)(),T=e=>{"fee_payment_mode"===e.target.name?S((t=>({...t,[e.target.name]:e.target.value,mode:"By Cash"===e.target.value?"Offline":"Online",fee_payment_mode:e.target.value}))):S((t=>({...t,[e.target.name]:e.target.value})))};return(0,f.jsxs)(G.Z,{onClose:c,children:[(0,f.jsxs)("div",{className:R.Z.admission_modal,children:[(0,f.jsx)("h6",{className:R.Z.admission_modal_heading,children:x("collect_fees")}),(0,f.jsx)(o.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}})," ",(0,f.jsxs)("div",{className:R.Z.admission_fees_row,children:[(0,f.jsxs)("h6",{children:[x("applicable_amount")," :"]}),(0,f.jsxs)("h6",{children:["Rs. ",null===u||void 0===u||null===(t=u.student)||void 0===t||null===(n=t.hostel_fee_structure)||void 0===n?void 0:n.total_admission_fees]})]}),(0,f.jsx)(V.Z,{labelText:"".concat(x("amount_first_installment")," ").concat(null===u||void 0===u||null===(a=u.student)||void 0===a||null===(s=a.hostel_fee_structure)||void 0===s||null===(d=s.one_installments)||void 0===d?void 0:d.fees),name:"amount",type:"tel",value:j.amount,onChange:e=>{S((t=>({...t,amount:+e.target.value,fee_payment_amount:+e.target.value})))},placeholder:x("amoute_details_collect"),errorShow:y.fee_payment_amount,customStyleLabel:{marginTop:"15px",marginBottom:"7px"},customStyleContainer:{marginBottom:"15px"}}),(0,f.jsx)(J.Z,{paymentHeading:x("payment_type_mode"),onInputChange:T,errorShow:y.payment_type_mode}),(0,f.jsx)($.Z,{labelText:x("select_date_of_transaction"),placeholder:x("please_select_date"),name:"transaction_date",value:j.transaction_date,onDateFunction:e=>{const t=null===e||void 0===e?void 0:e.split("/");S((e=>({...e,transaction_date:"".concat(t[2],"-").concat(t[1],"-").concat(t[0])})))},customStyleContainer:{position:"relative",marginTop:"0.5rem"},datePickerPosition:{position:"relative",top:"-15rem"},customStyleLabel:{marginTop:"15px"},errorShow:y.transaction_date}),"By Cash"===j.fee_payment_mode?"":(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(V.Z,{labelText:x("bank_name_collect"),name:"fee_bank_name",type:"tel",value:j.fee_bank_name,onChange:T,placeholder:x("please_enter_bank_name"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,f.jsx)(V.Z,{labelText:x("banke_holder_name"),name:"fee_bank_holder",type:"tel",value:j.fee_bank_holder,onChange:T,placeholder:x("please_enter_name_of_bank_holder"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,f.jsx)(V.Z,{labelText:x("cheque_dd_neft"),name:"fee_utr_reference",type:"tel",value:j.fee_utr_reference,onChange:T,placeholder:x("please_enter_utr_ref_number"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}})]}),(0,f.jsx)("div",{className:R.Z.confirm_btn,onClick:()=>{const e=(e=>{const t={};for(let i in e){var n,l;"fee_bank_name"===i||"fee_bank_holder"===i||"fee_utr_reference"===i||"amount"===i||"mode"===i||(e[i]?"fee_payment_amount"===i&&(e[i]<=(null===u||void 0===u||null===(n=u.student)||void 0===n||null===(l=n.hostel_fee_structure)||void 0===l?void 0:l.total_admission_fees)||(A({msg:"You can not enter amount greater than Admission fees",run:!0}),t.fee_payment_amount="".concat(i," is required!"))):t[i]="".concat(i," is required!"))}return t})(j);let t=!1;for(let d in e){t=!0;break}if(t)b(e);else if(g(!0),"RENEWAL"===h){var n,l,i;const e={sid:null===u||void 0===u||null===(n=u.student)||void 0===n?void 0:n._id,aid:v,huid:m,collectFee:j};""!==(null===e||void 0===e?void 0:e.sid)&&""!==(null===e||void 0===e?void 0:e.aid)&&""!==(null===e||void 0===e?void 0:e.huid)&&(null===e||void 0===e||null===(l=e.collectFee)||void 0===l?void 0:l.amount)>0&&""!==(null===e||void 0===e||null===(i=e.collectFee)||void 0===i?void 0:i.mode)?I(e).then((e=>{e.data.confirm_status&&(p(),c(),g(!1))})).catch({}):g(!1)}else{var a,o,s;const e={sid:null===u||void 0===u||null===(a=u.student)||void 0===a?void 0:a._id,aid:v,confirm_data:j,receipt_status:"Fee Receipt Not Generated"===j.fee_payment_mode?"Fee Receipt Not Generated":""};""!==(null===e||void 0===e?void 0:e.sid)&&""!==(null===e||void 0===e?void 0:e.aid)&&(null===e||void 0===e||null===(o=e.confirm_data)||void 0===o?void 0:o.amount)>0&&""!==(null===e||void 0===e||null===(s=e.confirm_data)||void 0===s?void 0:s.mode)?E(e).then((e=>{e.data.confirm_status&&(p(),c(),g(!1))})).catch({}):g(!1)}},children:x("collect")}),(0,f.jsx)(C.Ch,{msg:N.msg,run:N.run,setRun:()=>A({msg:"",run:!1}),postiton:"bottom",type:"error"})]}),_&&(0,f.jsx)(Z.Z,{})]})};const z=function(e){var t,n,a,s;let{onClose:d,applicationId:c,currentApplicant:r,onRefetchWhenConfirm:u}=e;const{t:v}=(0,i.$G)(),[p,m]=(0,l.useState)(!1),[h]=(0,A.K7)();return(0,f.jsxs)(G.Z,{onClose:d,children:[(0,f.jsxs)("div",{className:R.Z.not_confirm_container,children:[(0,f.jsx)("h6",{children:v("collect_required_document")}),(0,f.jsx)(o.Z,{customStyle:{width:"100%"}}),(0,f.jsxs)("section",{className:R.Z.admission_collect_docs,children:[(0,f.jsx)("p",{children:v("collecting_documents_of_student")}),(0,f.jsx)("h6",{children:"".concat(null===r||void 0===r||null===(t=r.student)||void 0===t?void 0:t.studentFirstName," ").concat(null!==r&&void 0!==r&&null!==(n=r.student)&&void 0!==n&&n.studentMiddleName?null===r||void 0===r||null===(a=r.student)||void 0===a?void 0:a.studentMiddleName:""," ").concat(null===r||void 0===r||null===(s=r.student)||void 0===s?void 0:s.studentLastName)})]}),(0,f.jsx)("button",{onClick:()=>{var e,t;m(!0),h({sid:null===r||void 0===r||null===(e=r.student)||void 0===e?void 0:e._id,aid:c,install_type:null===r||void 0===r?void 0:r.install_type,payment_status:null===r||void 0===r?void 0:r.payment_status,amount:null!==(t=+(null===r||void 0===r?void 0:r.fee_remain))&&void 0!==t?t:0}).then((()=>{d(),u(),m(!1)})).catch({})},className:R.Z.confirm_btn,children:v("confirm")})]}),p&&(0,f.jsx)(Z.Z,{})]})};const X=function(e){let{carryParentState:t,applicationId:n,hostelId:i,applicationDetail:a,accessRole:o,accessTpye:s,applicationDetailApplicablePending:d,pageOpenAs:r}=e;const[v,p]=(0,l.useState)(!0),[m,h]=(0,l.useState)(1),[_,g]=(0,l.useState)(""),[x,j]=(0,c.YD)(),[S,N]=(0,l.useState)([]),[y,b]=(0,l.useState)(!1),[C,Z]=(0,l.useState)(!0),[E,I]=(0,l.useState)(""),[T,R]=(0,l.useState)(""),{getAllSelectList:k,getAllSelectListRefetch:D}=(0,A.sR)({data:{id:n,page:m,limit:10,search:_||""},skip:!n});(0,l.useEffect)((()=>{j&&v&&h((e=>e+1))}),[j,v]),(0,l.useEffect)((()=>{n&&(Z(!0),D())}),[m,n,D,_]),(0,l.useEffect)((()=>{var e,t;_?(N(null===k||void 0===k?void 0:k.select),Z(!1)):y?(N(null===k||void 0===k?void 0:k.select),b(!1),Z(!1)):null!==k&&void 0!==k&&k.select?(N((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===k||void 0===k?void 0:k.select])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),Z(!1)):0===(null===k||void 0===k||null===(t=k.select)||void 0===t?void 0:t.length)&&Z(!1);10===(null===k||void 0===k||null===(e=k.select)||void 0===e?void 0:e.length)?p(!0):p(!1)}),[null===k||void 0===k?void 0:k.select]);const L=()=>{h(1),D(),b(!0)},M=(0,l.useCallback)((0,w.debounce)((e=>g(e)),500),[]),O=e=>{R(e),I("COLLECT_FEES")},F=e=>{R(e),I("COLLECT_DOCS")},q=e=>{R(e),I("MARK_CONFIRM")};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(P,{applicationDetail:a,carryParentState:t,applicationDetailApplicablePending:d,pageOpenAs:r,children:(0,f.jsx)("input",{type:"text",placeholder:"Search applications...",onChange:e=>{M(e.target.value)}})}),(0,f.jsx)(B,{carryParentState:t,accessRole:o,accessTpye:s,pageOpenAs:r}),null===S||void 0===S?void 0:S.map(((e,t)=>{var l,o;return(null===S||void 0===S?void 0:S.length)===t+1?(0,f.jsx)("div",{ref:x,children:(0,f.jsx)(U,{applicant:e,onRefetchWhenConfirm:L,applicationId:n,hostelId:i,onSelectOffileFees:O,onCollectDocs:F,onNotConfirm:q,batchId:null===a||void 0===a||null===(l=a.applicationBatch)||void 0===l?void 0:l._id})},t):(0,f.jsx)(U,{applicant:e,onRefetchWhenConfirm:L,applicationId:n,hostelId:i,onSelectOffileFees:O,onCollectDocs:F,onNotConfirm:q,batchId:null===a||void 0===a||null===(o=a.applicationBatch)||void 0===o?void 0:o._id},t)})),C&&(0,f.jsx)(u.Z,{}),"MARK_CONFIRM"===E&&(0,f.jsx)(W,{currentApplicant:T,applicationId:n,onRefetchWhenConfirm:L,onClose:()=>I("")}),"COLLECT_FEES"===E&&(0,f.jsx)(Y,{applicant:T,applicationId:n,onRefetchWhenConfirm:L,onClose:()=>I("")}),"COLLECT_DOCS"===E&&(0,f.jsx)(z,{applicant:T,applicationId:n,onRefetchWhenConfirm:L,onClose:()=>I("")})]})};var K=n(37782);const Q=e=>{var t,o,s,d,c,r,u,v,p,m,h,_,g,x,j,S,N;let{onCancelHostelApplication:y,onAllotBed:b,applicant:C}=e;const{t:E}=(0,i.$G)(),I=(0,a.UO)(),T=(0,a.s0)(),[P,w]=(0,l.useState)(""),[k,D]=(0,l.useState)(!1),[M,O]=(0,l.useState)(""),{getFeeReceiptDetail:F,getFeeReceiptDetailRefetch:q}=(0,A.$d)({rid:P,skip:!P});(0,l.useEffect)((()=>{P&&q()}),[P,q]),(0,l.useEffect)((()=>{null!==F&&void 0!==F&&F.receipt&&null!==F&&void 0!==F&&F.all_remain&&O(F)}),[F]),(0,l.useEffect)((()=>{if(M){const{institute:e,studentInfo:t,paymentReceiptInfo:l}=(0,K.sp)(null===M||void 0===M?void 0:M.all_remain,null===M||void 0===M?void 0:M.receipt),i=new Worker(new URL(n.p+n.u(24636),n.b));i.postMessage({institute:e,studentInfo:t,paymentReceiptInfo:l,printReceiptType:"Refunded"===(null===l||void 0===l?void 0:l.transactonRefund)?"HOSTEL_REFUND":"HOSTEL"}),i.onmessage=e=>{e&&(window.open(e.data,"_blank"),D((e=>!e)),O(""),i.terminate())}}}),[M]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:R.Z.applicant_card_container,onClick:()=>{var e;T("/q/".concat(I.username,"/student/profile"),{state:{sid:null===C||void 0===C||null===(e=C.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,f.jsxs)("div",{className:R.Z.applicant_card_inner,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===C||void 0===C||null===(t=C.student)||void 0===t?void 0:t.photoId)?"".concat(L.yI,"/").concat(null===C||void 0===C||null===(o=C.student)||void 0===o?void 0:o.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,f.jsxs)("div",{className:R.Z.applicant_card_inner_info,children:[(0,f.jsx)("h6",{children:"".concat(null===C||void 0===C||null===(s=C.student)||void 0===s?void 0:s.studentFirstName," ").concat(null!==C&&void 0!==C&&null!==(d=C.student)&&void 0!==d&&d.studentMiddleName?null===C||void 0===C||null===(c=C.student)||void 0===c?void 0:c.studentMiddleName:""," ").concat(null===C||void 0===C||null===(r=C.student)||void 0===r?void 0:r.studentLastName)}),(0,f.jsx)("p",{onClick:e=>{e.stopPropagation(),y(C)},className:R.Z.cancelStatus,children:E("cancel_admision")})]})]}),(0,f.jsxs)("div",{className:R.Z.applicant_card_contact,children:[(0,f.jsxs)("div",{className:R.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,f.jsx)("p",{children:null===C||void 0===C||null===(u=C.student)||void 0===u?void 0:u.studentGender})]}),((null===C||void 0===C||null===(v=C.student)||void 0===v?void 0:v.studentPhoneNumber)||(null===C||void 0===C||null===(p=C.student)||void 0===p?void 0:p.studentParentsPhoneNumber))&&(0,f.jsxs)("div",{className:R.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,f.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==C&&void 0!==C&&null!==(m=C.student)&&void 0!==m&&m.studentPhoneNumber?null===C||void 0===C||null===(h=C.student)||void 0===h?void 0:h.studentPhoneNumber:null===C||void 0===C||null===(_=C.student)||void 0===_?void 0:_.studentParentsPhoneNumber})]})]}),(0,f.jsx)("div",{className:R.Z.applicant_card_reciept,onClick:e=>{e.stopPropagation()},children:(0,f.jsx)("a",{href:"".concat(L.r3,"/").concat(null===C||void 0===C||null===(g=C.student)||void 0===g||null===(x=g.application_print)||void 0===x||null===(j=x[0])||void 0===j?void 0:j.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-4.5px"},children:(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,f.jsx)("div",{className:R.Z.applicant_card_reciept,children:null===C||void 0===C||null===(S=C.student)||void 0===S||null===(N=S.fee_receipt)||void 0===N?void 0:N.map(((e,t)=>t>2?"":(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-receipt-download.svg",onClick:t=>((e,t)=>{e.stopPropagation(),D((e=>!e)),w(t),P===t&&O(F)})(t,e),alt:"receipt icon",title:"Download Fees Receipt"})))}),(0,f.jsx)("div",{className:R.Z.selectBtnContainer,style:{width:"auto"},children:(0,f.jsx)("div",{className:R.Z.selectBtn,onClick:e=>{e.stopPropagation(),b(C)},children:E("allot_bed")})})]}),k&&(0,f.jsx)(Z.Z,{})]})};const ee=function(e){var t,n,a,s;let{currentApplicant:d,onClose:c,onRefetchWhenAction:u,applicationId:v,viewAs:p,huid:m}=e;const{t:h}=(0,i.$G)(),[_,g]=(0,l.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),[x,j]=(0,l.useState)(""),[S,N]=(0,l.useState)(0),[A,y]=(0,l.useState)({msg:"",run:!1}),[b,E]=(0,l.useState)(!1),[I]=(0,r.H$)(),[T]=(0,r.UV)();(0,l.useEffect)((()=>{var e,t;if(null!==d&&void 0!==d&&null!==(e=d.student)&&void 0!==e&&null!==(t=e.paidFeeList)&&void 0!==t&&t.length){var n,l,i,a;const e=null===d||void 0===d||null===(n=d.student)||void 0===n||null===(l=n.paidFeeList)||void 0===l?void 0:l.filter((e=>(null===e||void 0===e?void 0:e.appId)===v));N(null!==(i=null===e||void 0===e||null===(a=e[0])||void 0===a?void 0:a.paidAmount)&&void 0!==i?i:0)}}),[null===d||void 0===d||null===(t=d.student)||void 0===t?void 0:t.paidFeeList]);const P=e=>{"fee_payment_mode"===e.target.name?g((t=>({...t,[e.target.name]:e.target.value,mode:"By Cash"===e.target.value?"Offline":"Online",fee_payment_mode:e.target.value}))):g((t=>({...t,[e.target.name]:e.target.value})))};return(0,f.jsxs)(f.Fragment,{children:[!b&&(0,f.jsxs)(G.Z,{onClose:c,children:[(0,f.jsxs)("div",{className:R.Z.admission_modal,children:[(0,f.jsx)("h6",{className:R.Z.admission_modal_heading,children:h("RENEWAL"===p?"cancel_renewal_addmission":"cancel_addmission")}),(0,f.jsx)(o.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),(0,f.jsxs)("div",{className:R.Z.admission_fees_row,children:[(0,f.jsxs)("h6",{children:[h("total_admission_fees")," :"]}),(0,f.jsxs)("h6",{children:[h("rs"),"."," ",null!==(n=null===d||void 0===d||null===(a=d.student)||void 0===a||null===(s=a.hostel_fee_structure)||void 0===s?void 0:s.total_admission_fees)&&void 0!==n?n:0]})]}),(0,f.jsxs)("div",{className:R.Z.admission_fees_row,children:[(0,f.jsxs)("h6",{children:[h("fees_paid")," :"]}),(0,f.jsxs)("h6",{children:[h("rs"),". ",S]})]}),(0,f.jsx)(J.Z,{paymentHeading:h("refund_payment_type_mode"),onInputChange:P,errorShow:x.payment_type_mode}),(0,f.jsx)(V.Z,{labelText:h("refund_amount"),name:"amount",type:"tel",value:_.amount,onChange:e=>{g((t=>({...t,amount:+e.target.value,fee_payment_amount:+e.target.value})))},placeholder:h("please_enter_refund_amount"),errorShow:x.fee_payment_amount}),"RENEWAL"===p?null:(0,f.jsx)($.Z,{labelText:h("select_date_of_transaction"),placeholder:h("please_select_date"),name:"transaction_date",value:_.transaction_date,onDateFunction:e=>{const t=null===e||void 0===e?void 0:e.split("/");g((e=>({...e,transaction_date:"".concat(t[2],"-").concat(t[1],"-").concat(t[0])})))},customStyleContainer:{position:"relative",marginTop:"0.5rem"},datePickerPosition:{position:"relative",top:"-20rem"},customStyleLabel:{marginTop:"15px"},errorShow:x.transaction_date}),(0,f.jsx)("h6",{style:{marginTop:"0.5rem"},children:h("paid_to")}),(0,f.jsx)(V.Z,{labelText:h("bank_name_collect"),name:"fee_bank_name",type:"tel",value:_.fee_bank_name,onChange:P,placeholder:h("please_enter_bank_name"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,f.jsx)(V.Z,{labelText:h("banke_holder_name"),name:"fee_bank_holder",type:"tel",value:_.fee_bank_holder,onChange:P,placeholder:h("please_enter_name_of_bank_holder"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,f.jsx)(V.Z,{labelText:h("cheque_dd_neft"),name:"fee_utr_reference",type:"tel",value:_.fee_utr_reference,onChange:P,placeholder:h("please_enter_utr_ref_number"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,f.jsx)("div",{className:R.Z.confirm_btn,onClick:()=>{const e=(e=>{const t={};for(let n in e)"fee_bank_name"===n||"fee_bank_holder"===n||"fee_utr_reference"===n||"amount"===n||"mode"===n||(e[n]?"fee_payment_amount"===n&&(e[n]<=S||(y({msg:"You can not enter amount greater than fees paid",run:!0}),t.fee_payment_amount_issue="".concat(n," is required!"))):t[n]="".concat(n," is required!"));return t})(_);let t=!1;for(let d in e){t=!0;break}var n,l,i,a,o,s,r,h,g,x,f,N,A,b;t?j(e):(E(!0),"RENEWAL"===p?""!==(null===(i=b={sid:null===d||void 0===d||null===(n=d.student)||void 0===n?void 0:n._id,aid:v,huid:m,cancelRenewal:{..._,remainAmount:null!==(l=null===d||void 0===d?void 0:d.fee_remain)&&void 0!==l?l:0}})||void 0===i?void 0:i.sid)&&""!==(null===(a=b)||void 0===a?void 0:a.aid)&&""!==(null===(o=b)||void 0===o?void 0:o.huid)&&(null===(s=b)||void 0===s||null===(r=s.cancelRenewal)||void 0===r?void 0:r.amount)>0&&T(b).then((e=>{e.data.refund_status&&(u(),c(),E(!1))})).catch({}):""!==(null===(x=b={sid:null===d||void 0===d||null===(h=d.student)||void 0===h?void 0:h._id,aid:v,cancel_data:{..._,remainAmount:null!==(g=null===d||void 0===d?void 0:d.fee_remain)&&void 0!==g?g:0}})||void 0===x?void 0:x.sid)&&""!==(null===(f=b)||void 0===f?void 0:f.aid)&&(null===(N=b)||void 0===N||null===(A=N.cancel_data)||void 0===A?void 0:A.amount)>0&&I(b).then((e=>{e.data.refund_status&&(u(),c(),E(!1))})).catch({}))},children:h("confirm")})]}),(0,f.jsx)(C.Ch,{msg:A.msg,run:A.run,setRun:()=>y({msg:"",run:!1}),postiton:"bottom",type:"error"})]}),b&&(0,f.jsx)(Z.Z,{})]})};var te=n(41233),ne=n(87457),le=n(91022);const ie=e=>{var t,n;let{onClose:a,currentApplicant:s,applicationId:d,onRefetchWhenAction:c,unitId:u,viewAs:v,instituteId:p}=e;const{t:m}=(0,i.$G)(),[h,_]=(0,l.useState)(""),[g,x]=(0,l.useState)(!1),[j,S]=(0,l.useState)("RENEWAL"===v),[N,A]=(0,l.useState)(""),[y,b]=(0,l.useState)({hrid:""}),[C]=(0,r.An)(),[E]=(0,r.aZ)(),{getRoomListHostelUnit:I,getRoomListHostelUnitRefetch:T}=(0,r.CO)({data:{huid:u,page:1,limit:1e3,search:""},skip:!u});(0,l.useEffect)((()=>{u&&T()}),[u,T]);return(0,f.jsx)(G.Z,{onClose:a,children:(0,f.jsxs)("div",{className:ne.Z.add_category_modal,style:{width:"30rem",maxHeight:"35rem"},children:[(0,f.jsxs)("div",{className:ne.Z.add_category_modal_title,children:[(0,f.jsx)("h6",{children:m("allot_bed_to_hostelite")}),(0,f.jsx)("img",{src:"/images/close-post-icon.svg",onClick:a,alt:""})]}),(0,f.jsx)(o.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),"RENEWAL"===v&&(0,f.jsx)(le.Z,{selectLabel:m("allot_same_bed_as_previous"),selectedValue:m("select_yes_or_no"),options:["Yes","No"],value:N,errorShow:h.same_allot,onClick:e=>{S("Yes"===e),A(e)}}),!j&&(0,f.jsx)(te.Z,{selectLabel:m("select_unit_room"),onClick:e=>{b((t=>({...t,hrid:e})))},selectedValue:m("select_unit_room_placeholder"),options:null!==(t=null===I||void 0===I||null===(n=I.all_rooms)||void 0===n?void 0:n.filter((e=>(null===e||void 0===e?void 0:e.vacant_count)>0?e:null)))&&void 0!==t?t:[],errorShow:h.hrid}),(0,f.jsx)("button",{className:ne.Z.set_fees_structure_btn,title:"Allot Hostel",onClick:()=>{if(p){const n="RENEWAL"===v?((e,t)=>{const n={};if("No"===N)for(let l in e)e[l]||(n[l]="".concat(l," is required!"));return t||(n.same_allot="same_allot is required!"),n})(y,N):(e=>{const t={};for(let n in e)e[n]||(t[n]="".concat(n," is required!"));return t})(y);let l=!1;for(let e in n)if(e){l=!0;break}var e,t;if(l)_(n);else if(x((e=>!e)),"RENEWAL"===v)E({aid:d,huid:u,allotBed:{dataList:[null===s||void 0===s||null===(e=s.student)||void 0===e?void 0:e._id],hrid:y.hrid,bed_mode:"Yes"===N?"Same":"Different"}}).then((()=>{c(),a(),x((e=>!e))})).catch({});else C({aid:d,huid:u,...y,id:p,allot_bed:{dataList:[null===s||void 0===s||null===(t=s.student)||void 0===t?void 0:t._id]}}).then((()=>{c(),a(),x((e=>!e))})).catch({})}},style:{justifyContent:"center"},children:m("allot_bed")}),g&&(0,f.jsx)(Z.Z,{})]})})};const ae=function(e){let{carryParentState:t,applicationId:n,hostelId:i,applicationDetail:a,unitId:o,accessRole:s,accessTpye:d,applicationDetailApplicablePending:r,pageOpenAs:v,instituteId:p}=e;const[m,h]=(0,l.useState)(!0),[_,g]=(0,l.useState)(1),[x,j]=(0,l.useState)(""),[S,N]=(0,c.YD)(),[y,b]=(0,l.useState)([]),[C,Z]=(0,l.useState)(!1),[E,I]=(0,l.useState)(!0),[T,R]=(0,l.useState)(""),[k,D]=(0,l.useState)(""),{getAllConfirmList:L,getAllConfirmListRefetch:M}=(0,A.RR)({data:{id:n,page:_,limit:10,search:x||""},skip:!n});(0,l.useEffect)((()=>{N&&m&&g((e=>e+1))}),[N,m]),(0,l.useEffect)((()=>{n&&(I(!0),M())}),[_,n,M,x]),(0,l.useEffect)((()=>{var e,t;x?(b(null===L||void 0===L?void 0:L.confirm),I(!1)):C?(b(null===L||void 0===L?void 0:L.confirm),Z(!1),I(!1)):null!==L&&void 0!==L&&L.confirm?(b((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===L||void 0===L?void 0:L.confirm])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),I(!1)):0===(null===L||void 0===L||null===(t=L.confirm)||void 0===t?void 0:t.length)&&I(!1);10===(null===L||void 0===L||null===(e=L.confirm)||void 0===e?void 0:e.length)?h(!0):h(!1)}),[null===L||void 0===L?void 0:L.confirm]);const O=()=>{g(1),M(),Z(!0)},F=(0,l.useCallback)((0,w.debounce)((e=>j(e)),500),[]),q=e=>{D(e),R("CANCEL_APPLICANT")},H=e=>{D(e),R("ALLOT_BED")};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(P,{applicationDetail:a,carryParentState:t,tabStatusFlow:"Confirm_Query",applicationDetailApplicablePending:r,pageOpenAs:v,children:(0,f.jsx)("input",{type:"text",placeholder:"Search applications...",onChange:e=>{F(e.target.value)}})}),(0,f.jsx)(B,{carryParentState:t,accessRole:s,accessTpye:d,pageOpenAs:v}),null===y||void 0===y?void 0:y.map(((e,t)=>(null===y||void 0===y?void 0:y.length)===t+1?(0,f.jsx)("div",{ref:S,children:(0,f.jsx)(Q,{applicant:e,onCancelHostelApplication:q,onAllotBed:H})},t):(0,f.jsx)(Q,{applicant:e,onCancelHostelApplication:q,onAllotBed:H},t))),E&&(0,f.jsx)(u.Z,{}),"CANCEL_APPLICANT"===T&&(0,f.jsx)(ee,{currentApplicant:k,applicationId:n,onRefetchWhenAction:O,onClose:()=>R("")}),"ALLOT_BED"===T&&(0,f.jsx)(ie,{currentApplicant:k,applicationId:n,onRefetchWhenAction:O,onClose:()=>R(""),hostelId:i,unitId:o,instituteId:p})]})},oe=e=>{var t,o,s,d,c,r,u,v,p,m,h,_,g,x,j,S,N,y,b,C,E,I;let{applicant:T}=e;const{t:P}=(0,i.$G)(),w=(0,a.UO)(),k=(0,a.s0)(),[D,M]=(0,l.useState)(""),[O,F]=(0,l.useState)(!1),[q,B]=(0,l.useState)(""),{getFeeReceiptDetail:H,getFeeReceiptDetailRefetch:U}=(0,A.$d)({rid:D,skip:!D});(0,l.useEffect)((()=>{D&&U()}),[D,U]),(0,l.useEffect)((()=>{null!==H&&void 0!==H&&H.receipt&&null!==H&&void 0!==H&&H.all_remain&&B(H)}),[H]),(0,l.useEffect)((()=>{if(q){const{institute:e,studentInfo:t,paymentReceiptInfo:l}=(0,K.sp)(null===q||void 0===q?void 0:q.all_remain,null===q||void 0===q?void 0:q.receipt),i=new Worker(new URL(n.p+n.u(21692),n.b));i.postMessage({institute:e,studentInfo:t,paymentReceiptInfo:l,printReceiptType:"Refunded"===(null===l||void 0===l?void 0:l.transactonRefund)?"HOSTEL_REFUND":"HOSTEL"}),i.onmessage=e=>{e&&(window.open(e.data,"_blank"),F((e=>!e)),B(""),i.terminate())}}}),[q]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:R.Z.applicant_card_container,onClick:()=>{var e;k("/q/".concat(w.username,"/student/profile"),{state:{sid:null===T||void 0===T||null===(e=T.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,f.jsxs)("div",{className:R.Z.applicant_card_inner,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===T||void 0===T||null===(t=T.student)||void 0===t?void 0:t.photoId)?"".concat(L.yI,"/").concat(null===T||void 0===T||null===(o=T.student)||void 0===o?void 0:o.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,f.jsxs)("div",{className:R.Z.applicant_card_inner_info,children:[(0,f.jsx)("h6",{children:"".concat(null===T||void 0===T||null===(s=T.student)||void 0===s?void 0:s.studentFirstName," ").concat(null!==T&&void 0!==T&&null!==(d=T.student)&&void 0!==d&&d.studentMiddleName?null===T||void 0===T||null===(c=T.student)||void 0===c?void 0:c.studentMiddleName:""," ").concat(null===T||void 0===T||null===(r=T.student)||void 0===r?void 0:r.studentLastName)}),(0,f.jsxs)("p",{children:[P("room_name")," "," : ",(null===T||void 0===T||null===(u=T.student)||void 0===u||null===(v=u.student_bed_number)||void 0===v||null===(p=v.hostelRoom)||void 0===p?void 0:p.room_name)||""," / ",P("bed_name")," "," : ","".concat((null===T||void 0===T||null===(m=T.student)||void 0===m||null===(h=m.student_bed_number)||void 0===h?void 0:h.bed_number)||"")]})]})]}),(0,f.jsxs)("div",{className:R.Z.applicant_card_contact,children:[(0,f.jsxs)("div",{className:R.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,f.jsx)("p",{children:null===T||void 0===T||null===(_=T.student)||void 0===_?void 0:_.studentGender})]}),((null===T||void 0===T||null===(g=T.student)||void 0===g?void 0:g.studentPhoneNumber)||(null===T||void 0===T||null===(x=T.student)||void 0===x?void 0:x.studentParentsPhoneNumber))&&(0,f.jsxs)("div",{className:R.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,f.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==T&&void 0!==T&&null!==(j=T.student)&&void 0!==j&&j.studentPhoneNumber?null===T||void 0===T||null===(S=T.student)||void 0===S?void 0:S.studentPhoneNumber:null===T||void 0===T||null===(N=T.student)||void 0===N?void 0:N.studentParentsPhoneNumber})]})]}),(0,f.jsx)("div",{className:R.Z.applicant_card_reciept,onClick:e=>{e.stopPropagation()},children:(0,f.jsx)("a",{href:"".concat(L.r3,"/").concat(null===T||void 0===T||null===(y=T.student)||void 0===y||null===(b=y.application_print)||void 0===b||null===(C=b[0])||void 0===C?void 0:C.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,f.jsx)("div",{className:R.Z.applicant_card_reciept,children:null===T||void 0===T||null===(E=T.student)||void 0===E||null===(I=E.fee_receipt)||void 0===I?void 0:I.map(((e,t)=>t>2?"":(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-receipt-download.svg",onClick:t=>((e,t)=>{e.stopPropagation(),F((e=>!e)),M(t),D===t&&B(H)})(t,e),alt:"receipt icon",title:"Download Fees Receipt"})))})]}),O&&(0,f.jsx)(Z.Z,{})]})},se=e=>{let{carryParentState:t,applicationId:n,applicationDetail:i,viewAs:a,accessRole:o,accessTpye:s,applicationDetailApplicablePending:d,pageOpenAs:r}=e;const[v,p]=(0,l.useState)(!0),[m,h]=(0,l.useState)(1),[_,g]=(0,c.YD)(),[x,j]=(0,l.useState)([]),[S,N]=(0,l.useState)(!0),[y,b]=(0,l.useState)(""),{admissionAllottedList:C,admissionAllottedListRefetch:Z}=(0,A.k8)({data:{aid:n,page:m,limit:10,search:y||""},skip:!n});(0,l.useEffect)((()=>{g&&v&&h((e=>e+1))}),[g,v]),(0,l.useEffect)((()=>{n&&(N(!0),Z())}),[m,n,Z,y]),(0,l.useEffect)((()=>{var e,t;y?(j(null===C||void 0===C?void 0:C.allot),N(!1)):null!==C&&void 0!==C&&C.allot?(j((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===C||void 0===C?void 0:C.allot])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),N(!1)):0===(null===C||void 0===C||null===(t=C.allot)||void 0===t?void 0:t.length)&&N(!1);10===(null===C||void 0===C||null===(e=C.allot)||void 0===e?void 0:e.length)?p(!0):p(!1)}),[null===C||void 0===C?void 0:C.allot]);const E=(0,l.useCallback)((0,w.debounce)((e=>b(e)),500),[]);return(0,f.jsxs)(f.Fragment,{children:["COMPLETED_APPLICATION"===a?"":(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(P,{applicationDetail:i,carryParentState:t,tabStatusFlow:"Allot_Query",applicationDetailApplicablePending:d,pageOpenAs:r,children:(0,f.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:e=>{E(e.target.value)}})}),(0,f.jsx)(B,{carryParentState:t,accessRole:o,accessTpye:s,pageOpenAs:r})]}),null===x||void 0===x?void 0:x.map(((e,t)=>(null===x||void 0===x?void 0:x.length)===t+1?(0,f.jsx)("div",{ref:_,children:(0,f.jsx)(oe,{applicant:e})},t):(0,f.jsx)(oe,{applicant:e},t))),S&&(0,f.jsx)(u.Z,{})]})},de=e=>{var t,i,o,s,d,c,r,u,v,p,m,h,_,g,x,j,S;let{applicant:N}=e;const y=(0,a.UO)(),b=(0,a.s0)(),[C,E]=(0,l.useState)(""),[I,T]=(0,l.useState)(!1),[P,w]=(0,l.useState)(""),{getFeeReceiptDetail:k,getFeeReceiptDetailRefetch:D}=(0,A.$d)({rid:C,skip:!C});(0,l.useEffect)((()=>{C&&D()}),[C,D]),(0,l.useEffect)((()=>{null!==k&&void 0!==k&&k.receipt&&null!==k&&void 0!==k&&k.all_remain&&w(k)}),[k]),(0,l.useEffect)((()=>{if(P){const{institute:e,studentInfo:t,paymentReceiptInfo:l}=(0,K.sp)(null===P||void 0===P?void 0:P.all_remain,null===P||void 0===P?void 0:P.receipt),i=new Worker(new URL(n.p+n.u(5358),n.b));i.postMessage({institute:e,studentInfo:t,paymentReceiptInfo:l,printReceiptType:"Refunded"===(null===l||void 0===l?void 0:l.transactonRefund)?"HOSTEL_REFUND":"HOSTEL"}),i.onmessage=e=>{e&&(window.open(e.data,"_blank"),T((e=>!e)),w(""),i.terminate())}}}),[P]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:R.Z.applicant_card_container,onClick:()=>{var e;b("/q/".concat(y.username,"/student/profile"),{state:{sid:null===N||void 0===N||null===(e=N.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,f.jsxs)("div",{className:R.Z.applicant_card_inner,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===N||void 0===N||null===(t=N.student)||void 0===t?void 0:t.photoId)?"".concat(L.yI,"/").concat(null===N||void 0===N||null===(i=N.student)||void 0===i?void 0:i.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,f.jsxs)("div",{className:R.Z.applicant_card_inner_info,children:[(0,f.jsx)("h6",{children:"".concat(null===N||void 0===N||null===(o=N.student)||void 0===o?void 0:o.studentFirstName," ").concat(null!==N&&void 0!==N&&null!==(s=N.student)&&void 0!==s&&s.studentMiddleName?null===N||void 0===N||null===(d=N.student)||void 0===d?void 0:d.studentMiddleName:""," ").concat(null===N||void 0===N||null===(c=N.student)||void 0===c?void 0:c.studentLastName)}),(0,f.jsxs)("p",{children:["Rs. ",null===N||void 0===N?void 0:N.refund_amount," ","Refund"===(null===N||void 0===N?void 0:N.payment_status)&&"Refunded"]})]})]}),(0,f.jsxs)("div",{className:R.Z.applicant_card_contact,children:[(0,f.jsxs)("div",{className:R.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,f.jsx)("p",{children:null===N||void 0===N||null===(r=N.student)||void 0===r?void 0:r.studentGender})]}),((null===N||void 0===N||null===(u=N.student)||void 0===u?void 0:u.studentPhoneNumber)||(null===N||void 0===N||null===(v=N.student)||void 0===v?void 0:v.studentParentsPhoneNumber))&&(0,f.jsxs)("div",{className:R.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,f.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==N&&void 0!==N&&null!==(p=N.student)&&void 0!==p&&p.studentPhoneNumber?null===N||void 0===N||null===(m=N.student)||void 0===m?void 0:m.studentPhoneNumber:null===N||void 0===N||null===(h=N.student)||void 0===h?void 0:h.studentParentsPhoneNumber})]})]}),(0,f.jsx)("div",{className:R.Z.applicant_card_reciept,onClick:e=>{e.stopPropagation()},children:(0,f.jsx)("a",{href:"".concat(L.r3,"/").concat(null===N||void 0===N||null===(_=N.student)||void 0===_||null===(g=_.application_print)||void 0===g||null===(x=g[0])||void 0===x?void 0:x.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,f.jsx)("div",{className:R.Z.applicant_card_reciept,children:null===N||void 0===N||null===(j=N.student)||void 0===j||null===(S=j.fee_receipt)||void 0===S?void 0:S.map(((e,t)=>t>2?"":(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-receipt-download.svg",onClick:t=>((e,t)=>{e.stopPropagation(),T((e=>!e)),E(t),C===t&&w(k)})(t,e),alt:"receipt icon",title:"Download Fees Receipt"})))})]}),I&&(0,f.jsx)(Z.Z,{})]})},ce=e=>{let{carryParentState:t,applicationId:n,applicationDetail:i,viewAs:a,accessRole:o,accessTpye:s,applicationDetailApplicablePending:d,pageOpenAs:r}=e;const[v,p]=(0,l.useState)(!0),[m,h]=(0,l.useState)(1),[_,g]=(0,c.YD)(),[x,j]=(0,l.useState)([]),[S,N]=(0,l.useState)(""),[y,b]=(0,l.useState)(!0),{admissionCancelledList:C,admissionCancelledListRefetch:Z}=(0,A.wd)({data:{aid:n,page:m,limit:10,search:S||""},skip:!n});(0,l.useEffect)((()=>{g&&v&&h((e=>e+1))}),[g,v]),(0,l.useEffect)((()=>{n&&(b(!0),Z())}),[m,n,Z]),(0,l.useEffect)((()=>{var e,t;S?(j(null===C||void 0===C?void 0:C.cancel),b(!1)):null!==C&&void 0!==C&&C.cancel?(j((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===C||void 0===C?void 0:C.cancel])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),b(!1)):0===(null===C||void 0===C||null===(t=C.cancel)||void 0===t?void 0:t.length)&&b(!1);10===(null===C||void 0===C||null===(e=C.cancel)||void 0===e?void 0:e.length)?p(!0):p(!1)}),[null===C||void 0===C?void 0:C.cancel]);const E=(0,l.useCallback)((0,w.debounce)((e=>N(e)),500),[]);return(0,f.jsxs)(f.Fragment,{children:["COMPLETED_APPLICATION"===a?"":(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(P,{applicationDetail:i,carryParentState:t,applicationDetailApplicablePending:d,pageOpenAs:r,children:(0,f.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:e=>{E(e.target.value)}})}),(0,f.jsx)(B,{carryParentState:t,accessRole:o,accessTpye:s,pageOpenAs:r})]}),null===x||void 0===x?void 0:x.map(((e,t)=>(null===x||void 0===x?void 0:x.length)===t+1?(0,f.jsx)("div",{ref:_,children:(0,f.jsx)(de,{applicant:e})},t):(0,f.jsx)(de,{applicant:e},t))),y&&(0,f.jsx)(u.Z,{})]})},re=e=>{var t,n,i,o,s,d,c,u,v,p,m,h,_,g;let{carryParentState:x,hid:j,accessRole:S,accessTpye:N,pageOpenAs:A,instituteId:y}=e;const b=(0,a.TH)(),{getHostelAppliciontDetail:C,getHostelAppliciontDetailRefetch:Z}=(0,r.h4)({aid:null===(t=b.state)||void 0===t?void 0:t.applicationId,skip:!(null!==(n=b.state)&&void 0!==n&&n.applicationId)});return(0,l.useEffect)((()=>{var e;null!==(e=b.state)&&void 0!==e&&e.applicationId&&Z()}),[null===(i=b.state)||void 0===i?void 0:i.applicationId,Z]),(0,f.jsxs)(f.Fragment,{children:["application"===(null===(o=b.search)||void 0===o?void 0:o.substring(21))&&(0,f.jsx)(H,{applicationId:null===(s=b.state)||void 0===s?void 0:s.applicationId,hostelId:j,carryParentState:x,applicationDetail:null===C||void 0===C?void 0:C.oneApply,accessRole:S,accessTpye:N,applicationDetailApplicablePending:null===C||void 0===C?void 0:C.applicable_pending,pageOpenAs:A}),"select"===(null===(d=b.search)||void 0===d?void 0:d.substring(21))&&(0,f.jsx)(X,{applicationId:null===(c=b.state)||void 0===c?void 0:c.applicationId,hostelId:j,carryParentState:x,applicationDetail:null===C||void 0===C?void 0:C.oneApply,accessRole:S,accessTpye:N,applicationDetailApplicablePending:null===C||void 0===C?void 0:C.applicable_pending,pageOpenAs:A}),"confirm"===(null===(u=b.search)||void 0===u?void 0:u.substring(21))&&(0,f.jsx)(ae,{applicationId:null===(v=b.state)||void 0===v?void 0:v.applicationId,hostelId:j,carryParentState:x,applicationDetail:null===C||void 0===C?void 0:C.oneApply,unitId:null===(p=b.state)||void 0===p?void 0:p.unitId,accessRole:S,accessTpye:N,applicationDetailApplicablePending:null===C||void 0===C?void 0:C.applicable_pending,pageOpenAs:A,instituteId:y}),"allot"===(null===(m=b.search)||void 0===m?void 0:m.substring(21))&&(0,f.jsx)(se,{applicationId:null===(h=b.state)||void 0===h?void 0:h.applicationId,carryParentState:x,applicationDetail:null===C||void 0===C?void 0:C.oneApply,accessRole:S,accessTpye:N,applicationDetailApplicablePending:null===C||void 0===C?void 0:C.applicable_pending,pageOpenAs:A}),"cancel"===(null===(_=b.search)||void 0===_?void 0:_.substring(21))&&(0,f.jsx)(ce,{applicationId:null===(g=b.state)||void 0===g?void 0:g.applicationId,carryParentState:x,applicationDetail:null===C||void 0===C?void 0:C.oneApply,accessRole:S,accessTpye:N,applicationDetailApplicablePending:null===C||void 0===C?void 0:C.applicable_pending,pageOpenAs:A})]})};var ue=n(61503),ve=n(95290);function pe(e){var t,n,l,i,a,o,s,d,c,r,u,v,p,m,h,_,j,S,N,A,y,b,C,Z,E,I,T,P,w;let{data:k,carryParentState:D,accessRole:L,accessTpye:M,accessApplication:O,setOpenApplicationMenu:F,callApi:q,pageOpenAs:B}=e;const H=e=>{e.preventDefault(),F(k)};return(0,f.jsx)(f.Fragment,{children:L?M?(0,f.jsx)(x.Z,{carryParentState:{...D,applicationId:null===k||void 0===k?void 0:k._id,unitId:null===k||void 0===k||null===(t=k.applicationUnit)||void 0===t?void 0:t._id},activeTab:"request&ongoing&n=".concat("Application"===M?"application":"Selected"===M?"select":"Confirmed"===M?"confirm":"Allotted"===M?"allot":"cancel"),accessRole:L,accessTpye:M,callApi:q,children:(0,f.jsxs)("div",{className:R.Z.ongoing_card,children:[(0,f.jsxs)("div",{className:R.Z.ongoing_card_inner,children:[(0,f.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,f.jsxs)("div",{className:R.Z.ongoing_card_text,children:[(0,f.jsx)("h6",{children:null===k||void 0===k?void 0:k.applicationName}),(0,f.jsx)("p",{style:{marginBottom:"0"},children:null!==(n=null===k||void 0===k||null===(l=k.applicationUnit)||void 0===l?void 0:l.hostel_unit_name)&&void 0!==n?n:""})]})]}),(0,f.jsx)("div",{className:R.Z.ongoing_card_count_date,children:(0,f.jsxs)("div",{className:R.Z.ongoing_card_count_container,children:[(0,f.jsx)("h6",{children:null!==(i=null===k||void 0===k?void 0:k.receievedCount)&&void 0!==i?i:0}),(0,f.jsx)("h6",{children:null!==(a=null===k||void 0===k?void 0:k.selectCount)&&void 0!==a?a:0}),(0,f.jsx)("h6",{children:null!==(o=null===k||void 0===k?void 0:k.confirmCount)&&void 0!==o?o:0})]})})]})}):null!==O&&void 0!==O&&O.includes(null===k||void 0===k?void 0:k._id)?(0,f.jsx)(x.Z,{carryParentState:{...D,applicationId:null===k||void 0===k?void 0:k._id,unitId:null===k||void 0===k||null===(s=k.applicationUnit)||void 0===s?void 0:s._id},activeTab:"request&ongoing&n=application",accessRole:L,callApi:q,children:(0,f.jsxs)("div",{className:R.Z.ongoing_card,children:[(0,f.jsxs)("div",{className:R.Z.ongoing_card_inner,children:[(0,f.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,f.jsxs)("div",{className:R.Z.ongoing_card_text,children:[(0,f.jsx)("h6",{children:null===k||void 0===k?void 0:k.applicationName}),(0,f.jsx)("p",{style:{marginBottom:"0"},children:null!==(d=null===k||void 0===k||null===(c=k.applicationUnit)||void 0===c?void 0:c.hostel_unit_name)&&void 0!==d?d:""})]})]}),(0,f.jsx)("div",{className:R.Z.ongoing_card_count_date,children:(0,f.jsxs)("div",{className:R.Z.ongoing_card_count_container,children:[(0,f.jsx)("h6",{children:null!==(r=null===k||void 0===k?void 0:k.receievedCount)&&void 0!==r?r:0}),(0,f.jsx)("h6",{children:null!==(u=null===k||void 0===k?void 0:k.selectCount)&&void 0!==u?u:0}),(0,f.jsx)("h6",{children:null!==(v=null===k||void 0===k?void 0:k.confirmCount)&&void 0!==v?v:0})]})})]})}):(0,f.jsxs)("div",{className:R.Z.ongoing_card,style:{opacity:"0.5"},children:[(0,f.jsxs)("div",{className:R.Z.ongoing_card_inner,children:[(0,f.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,f.jsxs)("div",{className:R.Z.ongoing_card_text,children:[(0,f.jsx)("h6",{children:null===k||void 0===k?void 0:k.applicationName}),(0,f.jsxs)("p",{style:{marginBottom:"0"},children:[" ",null!==(p=null===k||void 0===k||null===(m=k.applicationUnit)||void 0===m?void 0:m.hostel_unit_name)&&void 0!==p?p:""]})]})]}),(0,f.jsx)("div",{className:R.Z.ongoing_card_count_date,children:(0,f.jsxs)("div",{className:R.Z.ongoing_card_count_container,children:[(0,f.jsx)("h6",{children:null!==(h=null===k||void 0===k?void 0:k.receievedCount)&&void 0!==h?h:0}),(0,f.jsx)("h6",{children:null!==(_=null===k||void 0===k?void 0:k.selectCount)&&void 0!==_?_:0}),(0,f.jsx)("h6",{children:null!==(j=null===k||void 0===k?void 0:k.confirmCount)&&void 0!==j?j:0})]})})]}):"INSTITUTE"===B?(0,f.jsx)(g.Z,{carryParentState:{...D,applicationId:null===k||void 0===k?void 0:k._id,unitId:null===k||void 0===k||null===(S=k.applicationUnit)||void 0===S?void 0:S._id},activeTab:"request&ongoing&n=application",children:(0,f.jsxs)("div",{className:R.Z.ongoing_card,children:[(0,f.jsxs)("div",{className:R.Z.ongoing_card_inner,children:[(0,f.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,f.jsxs)("div",{className:R.Z.ongoing_card_text,children:[(0,f.jsx)("h6",{children:null===k||void 0===k?void 0:k.applicationName}),(0,f.jsx)("p",{style:{marginBottom:"0"},children:null!==(N=null===k||void 0===k||null===(A=k.applicationUnit)||void 0===A?void 0:A.hostel_unit_name)&&void 0!==N?N:""})]})]}),(0,f.jsx)("div",{className:R.Z.ongoing_card_count_date,children:(0,f.jsxs)("div",{className:R.Z.ongoing_card_count_container,children:[(0,f.jsx)("h6",{children:null!==(y=null===k||void 0===k?void 0:k.receievedCount)&&void 0!==y?y:0}),(0,f.jsx)("h6",{children:null!==(b=null===k||void 0===k?void 0:k.selectCount)&&void 0!==b?b:0}),(0,f.jsx)("h6",{children:null!==(C=null===k||void 0===k?void 0:k.confirmCount)&&void 0!==C?C:0})]})}),(0,f.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:H,className:R.Z.menu_icon,title:"Menu"})]})}):(0,f.jsx)(x.Z,{carryParentState:{...D,applicationId:null===k||void 0===k?void 0:k._id,unitId:null===k||void 0===k||null===(Z=k.applicationUnit)||void 0===Z?void 0:Z._id},activeTab:"request&ongoing&n=application",accessRole:L,accessTpye:M,callApi:q,children:(0,f.jsxs)("div",{className:R.Z.ongoing_card,children:[(0,f.jsxs)("div",{className:R.Z.ongoing_card_inner,children:[(0,f.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,f.jsxs)("div",{className:R.Z.ongoing_card_text,children:[(0,f.jsx)("h6",{children:null===k||void 0===k?void 0:k.applicationName}),(0,f.jsx)("p",{style:{marginBottom:"0"},children:null!==(E=null===k||void 0===k||null===(I=k.applicationUnit)||void 0===I?void 0:I.hostel_unit_name)&&void 0!==E?E:""})]})]}),(0,f.jsx)("div",{className:R.Z.ongoing_card_count_date,children:(0,f.jsxs)("div",{className:R.Z.ongoing_card_count_container,children:[(0,f.jsx)("h6",{children:null!==(T=null===k||void 0===k?void 0:k.receievedCount)&&void 0!==T?T:0}),(0,f.jsx)("h6",{children:null!==(P=null===k||void 0===k?void 0:k.selectCount)&&void 0!==P?P:0}),(0,f.jsx)("h6",{children:null!==(w=null===k||void 0===k?void 0:k.confirmCount)&&void 0!==w?w:0})]})}),(0,f.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:H,className:R.Z.menu_icon,title:"Menu"})]})})})}const me=function(e){let{hid:t,accessRole:n,accessTpye:a,carryParentState:o,accessApplication:s,callApi:d,pageOpenAs:v}=e;const{t:p}=(0,i.$G)(),[m,h]=(0,l.useState)(!0),[_,g]=(0,l.useState)(1),[x,j]=(0,c.YD)(),[S,N]=(0,l.useState)([]),[A,y]=(0,l.useState)(!0),[b,C]=(0,l.useState)(""),[Z,E]=(0,l.useState)(!1),[I,T]=(0,l.useState)(!1),{getOngoingApplicationList:P,getOngoingApplicationListRefetch:w}=(0,r.Kj)({data:{hid:t,page:_,limit:10},skip:!t});(0,l.useEffect)((()=>{j&&m&&g((e=>e+1))}),[j,m]),(0,l.useEffect)((()=>{t&&(y(!0),w())}),[t,_,w]),(0,l.useEffect)((()=>{var e,t;Z?(N(null===P||void 0===P?void 0:P.ongoing),y(!1),E(!1)):null!==P&&void 0!==P&&P.ongoing?(N((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===P||void 0===P?void 0:P.ongoing])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),y(!1)):0===(null===P||void 0===P||null===(t=P.ongoing)||void 0===t?void 0:t.length)&&y(!1);10===(null===P||void 0===P||null===(e=P.ongoing)||void 0===e?void 0:e.length)?h(!0):h(!1)}),[null===P||void 0===P?void 0:P.ongoing]);const k=()=>{g(1),E(!0),y(!0),w()};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("p",{className:R.Z.add_new_category,onClick:()=>{n||T((e=>!e))},style:{opacity:n?"0.5":1},children:p("create_new_application")}),(0,f.jsxs)("div",{className:R.Z.remainingFees,children:[null===S||void 0===S?void 0:S.map(((e,t)=>(null===S||void 0===S?void 0:S.length)===t+1?(0,f.jsx)("div",{ref:x,children:(0,f.jsx)(pe,{data:e,carryParentState:o,accessRole:n,accessTpye:a,accessApplication:s,setOpenApplicationMenu:C,callApi:d,pageOpenAs:v})},t):(0,f.jsx)(pe,{data:e,carryParentState:o,accessRole:n,accessTpye:a,accessApplication:s,setOpenApplicationMenu:C,callApi:d,pageOpenAs:v},t))),A&&(0,f.jsx)(u.Z,{}),b&&(0,f.jsx)(ue.Z,{openApplicationMenu:b,onClose:()=>C(""),onRefetch:k,viewAs:"HOSTEL_MANAGER",hostelId:t})]}),I&&(0,f.jsx)(ve.Z,{setCreateApplication:T,createApplication:I,hostelId:t,setRefetchOngoining:k,viewAs:"HOSTEL_MANAGER"})]})},he=e=>{var t,n,l,d;let{carryParentState:c}=e;const{t:r}=(0,i.$G)(),u=(0,a.TH)(),v=[{name:r("application"),id:0,url:"member/hostel?a=request&renewal&application"},{name:r("selected"),id:1,url:"member/hostel?a=request&renewal&select"},{name:r("confirmed"),id:2,url:"member/hostel?a=request&renewal&renewed"},{name:r("allotted"),id:3,url:"member/hostel?a=request&renewal&allot"},{name:r("cancelled"),id:4,url:"member/hostel?a=request&renewal&cancel"}];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.Z,{tabList:v,activeIndexTab:"application"===(null===(t=u.search)||void 0===t?void 0:t.substring(19))?0:"select"===(null===(n=u.search)||void 0===n?void 0:n.substring(19))?1:"renewed"===(null===(l=u.search)||void 0===l?void 0:l.substring(19))?2:"allot"===(null===(d=u.search)||void 0===d?void 0:d.substring(19))?3:4,showAs:!0,customStyleTab:{width:"100%"},customStyleLink:{width:"20%"},carryParentState:c}),(0,f.jsx)(o.Z,{customStyle:{width:"100%"}})]})};var _e=n(72441);const ge=e=>{var t,n,o,s,d,c,u,v,p,m,h,_,g;let{applicant:x,onRefetchWhenSelect:j,hostelId:S,huid:N}=e;const{t:A}=(0,i.$G)(),y=(0,a.UO)(),b=(0,a.s0)(),[C,E]=(0,l.useState)(!1),[I,T]=(0,l.useState)(!1),[P,w]=(0,l.useState)(!1),[k]=(0,r._u)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:R.Z.applicant_card_container,onClick:()=>{var e;b("/q/".concat(y.username,"/student/profile"),{state:{sid:null===x||void 0===x||null===(e=x.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,f.jsxs)("div",{className:R.Z.applicant_card_inner,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===x||void 0===x||null===(t=x.student)||void 0===t?void 0:t.photoId)?"".concat(L.yI,"/").concat(null===x||void 0===x||null===(n=x.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,f.jsxs)("div",{className:R.Z.applicant_card_inner_info,children:[(0,f.jsx)("h6",{children:"".concat(null===x||void 0===x||null===(o=x.student)||void 0===o?void 0:o.studentFirstName," ").concat(null!==x&&void 0!==x&&null!==(s=x.student)&&void 0!==s&&s.studentMiddleName?null===x||void 0===x||null===(d=x.student)||void 0===d?void 0:d.studentMiddleName:""," ").concat(null===x||void 0===x||null===(c=x.student)||void 0===c?void 0:c.studentLastName)}),(0,f.jsxs)("p",{children:[A("applied_on"),":"," ",D()(null===x||void 0===x?void 0:x.apply_on).format("DD MMM yyyy")]})]})]}),(0,f.jsxs)("div",{className:R.Z.applicant_card_contact,children:[(0,f.jsxs)("div",{className:R.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,f.jsx)("p",{children:null===x||void 0===x||null===(u=x.student)||void 0===u?void 0:u.studentGender})]}),((null===x||void 0===x||null===(v=x.student)||void 0===v?void 0:v.studentPhoneNumber)||(null===x||void 0===x||null===(p=x.student)||void 0===p?void 0:p.studentParentsPhoneNumber))&&(0,f.jsxs)("div",{className:R.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,f.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==x&&void 0!==x&&null!==(m=x.student)&&void 0!==m&&m.studentPhoneNumber?null===x||void 0===x||null===(h=x.student)||void 0===h?void 0:h.studentPhoneNumber:null===x||void 0===x||null===(_=x.student)||void 0===_?void 0:_.studentParentsPhoneNumber})]})]}),(0,f.jsxs)("div",{className:R.Z.application_button,children:[(0,f.jsx)("div",{className:R.Z.selectAppBtnContainer,onClick:e=>{e.stopPropagation(),T(!0)},children:(0,f.jsx)("div",{className:R.Z.selectBtn,children:A("select")})}),(0,f.jsx)("div",{className:R.Z.selectAppBtnContainer,onClick:e=>{e.stopPropagation(),E((e=>!e))},children:(0,f.jsx)("div",{className:R.Z.cancelledBtn,children:A("reject")})})]})]}),(0,f.jsx)(M.Z,{children:C&&(0,f.jsx)(_e.default,{studentId:null===x||void 0===x||null===(g=x.student)||void 0===g?void 0:g._id,applicationId:N,onClose:()=>E((e=>!e)),onRefetchWhenSelect:j,viewAs:"RENEWAL"})}),I&&(0,f.jsx)(O.Z,{hostelId:S,onClose:()=>T((e=>!e)),onSelectedStudent:e=>{var t,n;""!==(null===x||void 0===x||null===(t=x.student)||void 0===t?void 0:t._id)&&""!==N&&(w((e=>!e)),k({sid:null===x||void 0===x||null===(n=x.student)||void 0===n?void 0:n._id,huid:N,selectRenewal:e}).then((()=>{j(),w((e=>!e))})).catch((()=>{w((e=>!e))})))},batchId:"",classMasterId:""}),P&&(0,f.jsx)(Z.Z,{})]})},xe=e=>{let{carryParentState:t,applicationDetail:n,huid:i,hostelId:a,unitName:o,accessRole:s}=e;const[d,v]=(0,l.useState)(!0),[p,m]=(0,l.useState)(1),[h,_]=(0,l.useState)(""),[g,x]=(0,c.YD)(),[j,S]=(0,l.useState)([]),[N,A]=(0,l.useState)(!1),[y,b]=(0,l.useState)(!0),{getRenewalApplicationListByHostel:C,getRenewalApplicationListByHostelRefetch:Z}=(0,r._9)({data:{huid:i,page:p,limit:10,search:h||""},skip:!i});(0,l.useEffect)((()=>{x&&d&&m((e=>e+1))}),[x,d]),(0,l.useEffect)((()=>{i&&(b(!0),Z())}),[p,i,Z,h]),(0,l.useEffect)((()=>{var e,t;h?(S(null===C||void 0===C?void 0:C.request),b(!1)):N?(S(null===C||void 0===C?void 0:C.request),A(!1),b(!1)):null!==C&&void 0!==C&&C.request?(S((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===C||void 0===C?void 0:C.request])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),b(!1)):0===(null===C||void 0===C||null===(t=C.request)||void 0===t?void 0:t.length)&&b(!1);10===(null===C||void 0===C||null===(e=C.request)||void 0===e?void 0:e.length)?v(!0):v(!1)}),[null===C||void 0===C?void 0:C.request]);const E=()=>{m(1),Z(),A(!0)},I=(0,l.useCallback)((0,w.debounce)((e=>_(e)),500),[]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(P,{unitName:o,carryParentState:t,children:(0,f.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:e=>{I(e.target.value)}})}),(0,f.jsx)(he,{carryParentState:t}),null===j||void 0===j?void 0:j.map(((e,t)=>(null===j||void 0===j?void 0:j.length)===t+1?(0,f.jsx)("div",{ref:g,children:(0,f.jsx)(ge,{applicant:e,onRefetchWhenSelect:E,hostelId:a,huid:i})},t):(0,f.jsx)(ge,{applicant:e,onRefetchWhenSelect:E,hostelId:a,huid:i},t))),y&&(0,f.jsx)(u.Z,{})]})},fe=e=>{var t,n,l,o,s,d,c,r,u,v,p,m,h,_,g,x,j,S,N,A,y;let{onSelectOffileFees:b,applicant:C}=e;const{t:Z}=(0,i.$G)(),E=(0,a.UO)(),I=(0,a.s0)();return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:R.Z.applicant_card_container,onClick:()=>{var e;I("/q/".concat(E.username,"/student/profile"),{state:{sid:null===C||void 0===C||null===(e=C.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,f.jsxs)("div",{className:R.Z.applicant_card_inner,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===C||void 0===C||null===(t=C.student)||void 0===t?void 0:t.photoId)?"".concat(L.yI,"/").concat(null===C||void 0===C||null===(n=C.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,f.jsxs)("div",{className:R.Z.applicant_card_inner_info,children:[(0,f.jsx)("h6",{children:"".concat(null===C||void 0===C||null===(l=C.student)||void 0===l?void 0:l.studentFirstName," ").concat(null!==C&&void 0!==C&&null!==(o=C.student)&&void 0!==o&&o.studentMiddleName?null===C||void 0===C||null===(s=C.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null===C||void 0===C||null===(d=C.student)||void 0===d?void 0:d.studentLastName)}),(0,f.jsxs)("h6",{children:[Z("fee_structure")," : ",null!==(c=null===C||void 0===C||null===(r=C.student)||void 0===r||null===(u=r.hostel_fee_structure)||void 0===u||null===(v=u.category_master)||void 0===v?void 0:v.category_name)&&void 0!==c?c:"",", ",Z("rs")," ",null!==(p=null===C||void 0===C||null===(m=C.student)||void 0===m||null===(h=m.hostel_fee_structure)||void 0===h?void 0:h.total_admission_fees)&&void 0!==p?p:""]}),(0,f.jsx)("p",{children:null!==C&&void 0!==C&&C.install_type?null===C||void 0===C?void 0:C.install_type:"\n              ".concat(Z("select_on"),":\n              ").concat(D()(null===C||void 0===C?void 0:C.select_on).format("DD MMM yyyy"))})]})]}),(0,f.jsxs)("div",{className:R.Z.applicant_card_contact,children:[(0,f.jsxs)("div",{className:R.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,f.jsx)("p",{children:null===C||void 0===C||null===(_=C.student)||void 0===_?void 0:_.studentGender})]}),((null===C||void 0===C||null===(g=C.student)||void 0===g?void 0:g.studentPhoneNumber)||(null===C||void 0===C||null===(x=C.student)||void 0===x?void 0:x.studentParentsPhoneNumber))&&(0,f.jsxs)("div",{className:R.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,f.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==C&&void 0!==C&&null!==(j=C.student)&&void 0!==j&&j.studentPhoneNumber?null===C||void 0===C||null===(S=C.student)||void 0===S?void 0:S.studentPhoneNumber:null===C||void 0===C||null===(N=C.student)||void 0===N?void 0:N.studentParentsPhoneNumber})]})]}),"receipt requested"===(null===C||void 0===C||null===(A=C.payment_status)||void 0===A?void 0:A.toLowerCase())?(0,f.jsx)("div",{className:R.Z.selectBtnContainer,children:(0,f.jsx)("div",{className:R.Z.receipt_requested_btn,onClick:e=>{e.stopPropagation()},children:Z("receipt_requested")})}):(0,f.jsx)("div",{className:R.Z.selectBtnContainer,children:"pending"===(null===C||void 0===C||null===(y=C.payment_status)||void 0===y?void 0:y.toLowerCase())&&(0,f.jsx)("div",{className:R.Z.selectBtn,onClick:e=>{e.stopPropagation(),b(C)},children:Z("collect_fee")})})]})})},je=e=>{let{carryParentState:t,huid:n,unitName:i}=e;const[a,o]=(0,l.useState)(!0),[s,d]=(0,l.useState)(1),[v,p]=(0,l.useState)(""),[m,h]=(0,c.YD)(),[_,g]=(0,l.useState)([]),[x,j]=(0,l.useState)(!1),[S,N]=(0,l.useState)(!0),[A,y]=(0,l.useState)(""),[b,C]=(0,l.useState)(""),{getRenewalSelectListByHostel:Z,getRenewalSelectListByHostelRefetch:E}=(0,r.y$)({data:{huid:n,page:s,limit:10,search:v||""},skip:!n});(0,l.useEffect)((()=>{h&&a&&d((e=>e+1))}),[h,a]),(0,l.useEffect)((()=>{n&&(N(!0),E())}),[s,n,E,v]),(0,l.useEffect)((()=>{var e,t;v?(g(null===Z||void 0===Z?void 0:Z.select),N(!1)):x?(g(null===Z||void 0===Z?void 0:Z.select),j(!1),N(!1)):null!==Z&&void 0!==Z&&Z.select?(g((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===Z||void 0===Z?void 0:Z.select])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),N(!1)):0===(null===Z||void 0===Z||null===(t=Z.select)||void 0===t?void 0:t.length)&&N(!1);10===(null===Z||void 0===Z||null===(e=Z.select)||void 0===e?void 0:e.length)?o(!0):o(!1)}),[null===Z||void 0===Z?void 0:Z.select]);const I=(0,l.useCallback)((0,w.debounce)((e=>p(e)),500),[]),T=e=>{C(e),y("COLLECT_FEES")};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(P,{unitName:i,carryParentState:t,children:(0,f.jsx)("input",{type:"text",placeholder:"Search applications...",onChange:e=>{I(e.target.value)}})}),(0,f.jsx)(he,{carryParentState:t}),null===_||void 0===_?void 0:_.map(((e,t)=>(null===_||void 0===_?void 0:_.length)===t+1?(0,f.jsx)("div",{ref:m,children:(0,f.jsx)(fe,{applicant:e,onSelectOffileFees:T})},t):(0,f.jsx)(fe,{applicant:e,onSelectOffileFees:T},t))),S&&(0,f.jsx)(u.Z,{}),"COLLECT_FEES"===A&&(0,f.jsx)(Y,{applicant:b,applicationId:null===b||void 0===b?void 0:b.appId,huid:n,onRefetchWhenConfirm:()=>{d(1),E(),j(!0)},onClose:()=>y(""),viewAs:"RENEWAL"})]})},Se=e=>{let{carryParentState:t,huid:n,unitName:i}=e;const[a,o]=(0,l.useState)(!0),[s,d]=(0,l.useState)(1),[v,p]=(0,l.useState)(""),[m,h]=(0,c.YD)(),[_,g]=(0,l.useState)([]),[x,j]=(0,l.useState)(!1),[S,N]=(0,l.useState)(!0),[A,y]=(0,l.useState)(""),[b,C]=(0,l.useState)(""),{getRenewalRenewedListByHostel:Z,getRenewalRenewedListByHostelRefetch:E}=(0,r.gK)({data:{huid:n,page:s,limit:10,search:v||""},skip:!n});(0,l.useEffect)((()=>{h&&a&&d((e=>e+1))}),[h,a]),(0,l.useEffect)((()=>{n&&(N(!0),E())}),[s,n,E,v]),(0,l.useEffect)((()=>{var e,t;v?(g(null===Z||void 0===Z?void 0:Z.confirm),N(!1)):x?(g(null===Z||void 0===Z?void 0:Z.confirm),j(!1),N(!1)):null!==Z&&void 0!==Z&&Z.confirm?(g((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===Z||void 0===Z?void 0:Z.confirm])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),N(!1)):0===(null===Z||void 0===Z||null===(t=Z.confirm)||void 0===t?void 0:t.length)&&N(!1);10===(null===Z||void 0===Z||null===(e=Z.confirm)||void 0===e?void 0:e.length)?o(!0):o(!1)}),[null===Z||void 0===Z?void 0:Z.confirm]);const I=()=>{d(1),E(),j(!0)},T=(0,l.useCallback)((0,w.debounce)((e=>p(e)),500),[]),R=e=>{C(e),y("CANCEL_APPLICANT")},k=e=>{C(e),y("ALLOT_BED")};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(P,{unitName:i,carryParentState:t,children:(0,f.jsx)("input",{type:"text",placeholder:"Search applications...",onChange:e=>{T(e.target.value)}})}),(0,f.jsx)(he,{carryParentState:t}),null===_||void 0===_?void 0:_.map(((e,t)=>(null===_||void 0===_?void 0:_.length)===t+1?(0,f.jsx)("div",{ref:m,children:(0,f.jsx)(Q,{applicant:e,onCancelHostelApplication:R,onAllotBed:k})},t):(0,f.jsx)(Q,{applicant:e,onCancelHostelApplication:R,onAllotBed:k},t))),S&&(0,f.jsx)(u.Z,{}),"CANCEL_APPLICANT"===A&&(0,f.jsx)(ee,{currentApplicant:b,applicationId:null===b||void 0===b?void 0:b.appId,onRefetchWhenAction:I,onClose:()=>y(""),viewAs:"RENEWAL",huid:n}),"ALLOT_BED"===A&&(0,f.jsx)(ie,{currentApplicant:b,applicationId:null===b||void 0===b?void 0:b.appId,onRefetchWhenAction:I,onClose:()=>y(""),unitId:n,viewAs:"RENEWAL"})]})},Ne=e=>{let{carryParentState:t,huid:n,unitName:i}=e;const[a,o]=(0,l.useState)(!0),[s,d]=(0,l.useState)(1),[v,p]=(0,c.YD)(),[m,h]=(0,l.useState)([]),[_,g]=(0,l.useState)(!0),[x,j]=(0,l.useState)(""),{getRenewalAllotListByHostel:S,getRenewalAllotListByHostelRefetch:N}=(0,r.cK)({data:{huid:n,page:s,limit:10,search:x||""},skip:!n});(0,l.useEffect)((()=>{p&&a&&d((e=>e+1))}),[p,a]),(0,l.useEffect)((()=>{n&&(g(!0),N())}),[s,n,N,x]),(0,l.useEffect)((()=>{var e,t;x?(h(null===S||void 0===S?void 0:S.allot),g(!1)):null!==S&&void 0!==S&&S.allot?(h((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===S||void 0===S?void 0:S.allot])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),g(!1)):0===(null===S||void 0===S||null===(t=S.allot)||void 0===t?void 0:t.length)&&g(!1);10===(null===S||void 0===S||null===(e=S.allot)||void 0===e?void 0:e.length)?o(!0):o(!1)}),[null===S||void 0===S?void 0:S.allot]);const A=(0,l.useCallback)((0,w.debounce)((e=>j(e)),500),[]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(P,{unitName:i,carryParentState:t,children:(0,f.jsx)("input",{type:"text",placeholder:"Search applications...",onChange:e=>{A(e.target.value)}})}),(0,f.jsx)(he,{carryParentState:t}),null===m||void 0===m?void 0:m.map(((e,t)=>(null===m||void 0===m?void 0:m.length)===t+1?(0,f.jsx)("div",{ref:v,children:(0,f.jsx)(oe,{applicant:e})},t):(0,f.jsx)(oe,{applicant:e},t))),_&&(0,f.jsx)(u.Z,{})]})},Ae=e=>{let{carryParentState:t,huid:n,unitName:i}=e;const[a,o]=(0,l.useState)(!0),[s,d]=(0,l.useState)(1),[v,p]=(0,c.YD)(),[m,h]=(0,l.useState)([]),[_,g]=(0,l.useState)(""),[x,j]=(0,l.useState)(!0),{getRenewalCancelListByHostel:S,getRenewalCancelListByHostelRefetch:N}=(0,r.R4)({data:{huid:n,page:s,limit:10,search:_||""},skip:!n});(0,l.useEffect)((()=>{p&&a&&d((e=>e+1))}),[p,a]),(0,l.useEffect)((()=>{n&&(j(!0),N())}),[s,n,N]),(0,l.useEffect)((()=>{var e,t;_?(h(null===S||void 0===S?void 0:S.cancel),j(!1)):null!==S&&void 0!==S&&S.cancel?(h((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===S||void 0===S?void 0:S.cancel])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),j(!1)):0===(null===S||void 0===S||null===(t=S.cancel)||void 0===t?void 0:t.length)&&j(!1);10===(null===S||void 0===S||null===(e=S.cancel)||void 0===e?void 0:e.length)?o(!0):o(!1)}),[null===S||void 0===S?void 0:S.cancel]);const A=(0,l.useCallback)((0,w.debounce)((e=>g(e)),500),[]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(P,{unitName:i,carryParentState:t,children:(0,f.jsx)("input",{type:"text",placeholder:"Search applications...",onChange:e=>{A(e.target.value)}})}),(0,f.jsx)(he,{carryParentState:t}),null===m||void 0===m?void 0:m.map(((e,t)=>(null===m||void 0===m?void 0:m.length)===t+1?(0,f.jsx)("div",{ref:v,children:(0,f.jsx)(de,{applicant:e})},t):(0,f.jsx)(de,{applicant:e},t))),x&&(0,f.jsx)(u.Z,{})]})},ye=e=>{var t,n,l,i,o,s,d,c,r,u,v,p,m,h,_;let{carryParentState:g,hid:x}=e;const j=(0,a.TH)();return(0,f.jsxs)(f.Fragment,{children:["application"===(null===(t=j.search)||void 0===t?void 0:t.substring(19))&&(0,f.jsx)(xe,{hostelId:x,carryParentState:g,huid:null===(n=j.state)||void 0===n?void 0:n.huid,unitName:null===(l=j.state)||void 0===l?void 0:l.unitName}),"select"===(null===(i=j.search)||void 0===i?void 0:i.substring(19))&&(0,f.jsx)(je,{hostelId:x,carryParentState:g,huid:null===(o=j.state)||void 0===o?void 0:o.huid,unitName:null===(s=j.state)||void 0===s?void 0:s.unitName}),"renewed"===(null===(d=j.search)||void 0===d?void 0:d.substring(19))&&(0,f.jsx)(Se,{carryParentState:g,huid:null===(c=j.state)||void 0===c?void 0:c.huid,unitName:null===(r=j.state)||void 0===r?void 0:r.unitName}),"allot"===(null===(u=j.search)||void 0===u?void 0:u.substring(19))&&(0,f.jsx)(Ne,{carryParentState:g,huid:null===(v=j.state)||void 0===v?void 0:v.huid,unitName:null===(p=j.state)||void 0===p?void 0:p.unitName}),"cancel"===(null===(m=j.search)||void 0===m?void 0:m.substring(19))&&(0,f.jsx)(Ae,{carryParentState:g,huid:null===(h=j.state)||void 0===h?void 0:h.huid,unitName:null===(_=j.state)||void 0===_?void 0:_.unitName})]})};var be=n(60080);const Ce=e=>{var t,n,l,c,r,u,v,p,m,h;let{hid:_,carryParentState:g,accessApplication:x,accessRole:j,accessTpye:S,callApi:A,pageOpenAs:y,instituteId:b}=e;const{t:C}=(0,i.$G)(),Z=(0,a.s0)(),E=(0,a.TH)(),I=(0,a.UO)(),T=[{name:C("application"),id:0,url:"member/hostel?a=request",is_active:"MULTI_APP_ACCESS"!==j&&j?"disabled":"enabled"},{name:C("completed"),id:1,url:"member/hostel?a=request&completed",is_active:j?"disabled":"enabled"},{name:C("renewals"),id:2,url:"member/hostel?a=request&unit&renewal",is_active:"RENEWAL_UNIT_ACCESS"!==j&&j?"disabled":"enabled"}],P=[{name:C("application"),id:0,url:"hostel?a=request",is_active:"enabled"},{name:C("completed"),id:1,url:"hostel?a=request&completed",is_active:"enabled"},{name:C("renewals"),id:2,url:"hostel?a=request&unit&renewal",is_active:"enabled"}];return(0,f.jsxs)(f.Fragment,{children:[("request"===(null===(t=E.search)||void 0===t?void 0:t.substring(3))||"request&completed"===(null===(n=E.search)||void 0===n?void 0:n.substring(3))||"request&unit&renewal"===(null===(l=E.search)||void 0===l?void 0:l.substring(3)))&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:d.Z.with_search,style:{justifyContent:"flex-start",gap:"1rem"},children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{Z("/q/".concat(I.username,"INSTITUTE"===y?"/hostel":"/member/hostel"),{state:{...g}})},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,f.jsx)("h6",{children:C("reuqests")})]}),(0,f.jsx)(s.Z,{tabList:"INSTITUTE"===y?P:T,activeIndexTab:"request"===(null===(c=E.search)||void 0===c?void 0:c.substring(3))?0:"request&completed"===(null===(r=E.search)||void 0===r?void 0:r.substring(3))?1:2,showAs:!0,customStyleLink:{width:"50%"},carryParentState:g}),(0,f.jsx)(o.Z,{customStyle:{width:"100%",marginBottom:"0.5rem"}})]}),"request"===(null===(u=E.search)||void 0===u?void 0:u.substring(3))&&(0,f.jsx)(me,{hid:_,carryParentState:g,accessRole:j,accessTpye:S,accessApplication:x,callApi:A,pageOpenAs:y}),"request&ongoing"===(null===(v=E.search)||void 0===v?void 0:v.substring(3,18))&&(0,f.jsx)(re,{hid:_,carryParentState:g,accessRole:j,accessTpye:S,callApi:A,pageOpenAs:y,instituteId:b}),"request&completed"===(null===(p=E.search)||void 0===p?void 0:p.substring(3,20))&&(0,f.jsx)(N,{hid:_,carryParentState:g,accessRole:j,accessTpye:S,callApi:A,pageOpenAs:y}),"request&unit&renewal"===(null===(m=E.search)||void 0===m?void 0:m.substring(3))&&(0,f.jsx)(be.Z,{hid:_,carryParentState:g,viewAs:"RENEWAL"}),"request&renewal"===(null===(h=E.search)||void 0===h?void 0:h.substring(3,18))&&(0,f.jsx)(ye,{hid:_,carryParentState:g})]})}},82104:(e,t,n)=>{n.d(t,{Z:()=>C});var l=n(72791),i=n(39230),a=n(23441),o=n(98094),s=n(10406),d=n(11105),c=n(87338),r=n(36665),u=n(87457),v=n(57431),p=n(98734),m=n(97655),h=n(80184);const _=e=>{let{onClose:t,onRefetch:n,openAs:a,batchMenu:s,onEdit:d,hostelId:_,instituteId:g}=e;const{t:x}=(0,i.$G)(),[f,j]=(0,l.useState)(""),[S,N]=(0,l.useState)(!1),[A,y]=(0,l.useState)({batchName:"EDIT"===a?null===s||void 0===s?void 0:s.batchName:""}),[b]=(0,c.yZ)();(0,l.useEffect)((()=>{"EDIT"===a&&y((e=>({...e,batchName:null===s||void 0===s?void 0:s.batchName})))}),[a]);return(0,h.jsx)(r.Z,{onClose:t,children:(0,h.jsxs)("div",{className:u.Z.add_category_modal,children:[(0,h.jsxs)("div",{className:u.Z.add_category_modal_title,children:[(0,h.jsx)("h6",{children:x("EDIT"===a?"edit_batch":"add_new_batch")}),(0,h.jsx)("img",{src:"/images/close-post-icon.svg",onClick:t,alt:""})]}),(0,h.jsx)(o.Z,{customStyle:{width:"100%",marginTop:"0.6rem",marginBottom:"0.6rem"}}),(0,h.jsx)(m.Z,{labelText:x("batch-name-place"),placeholder:"e.g. 2022-23",name:"batchName",value:null===A||void 0===A?void 0:A.batchName,type:"text",onChange:e=>{var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)<=30&&y((t=>({...t,batchName:e.target.value})))},errorShow:f}),(0,h.jsx)(v.Z,{maxLength:30,valueLength:A.batchName}),(0,h.jsx)("button",{className:u.Z.set_fees_structure_btn,title:"Create Batch",onClick:()=>{A.batchName?"EDIT"===a?d(A.batchName):_&&(N((e=>!e)),b({hid:_,id:g,hostelBatch:A}).then((()=>{n(),t(),N((e=>!e))})).catch({})):j(!0)},style:{justifyContent:"center"},children:x("EDIT"===a?"update":"create")}),S&&(0,h.jsx)(p.Z,{})]})})};var g=n(72426),x=n.n(g),f=n(12072),j=n(84489),S=n(87049);const N=e=>{let{onClose:t,batchMenu:n,onRefetch:i,hostelId:a,onMasterApiRefetch:o}=e;const[s,d]=(0,l.useState)(!1),[r,u]=(0,l.useState)(!1),[v]=(0,c.ML)(),[m]=(0,c.c2)(),[g]=(0,c.b7)();return(0,h.jsx)(h.Fragment,{children:r?(0,h.jsx)(_,{openAs:"EDIT",onEdit:e=>{null!==n&&void 0!==n&&n._id&&(u(!1),d((e=>!e)),v({bid:null===n||void 0===n?void 0:n._id,updateBatch:{batchName:e}}).then((()=>{i(),d((e=>!e)),t()})).catch({}))},batchMenu:n,onClose:()=>u((e=>!e)),onRefetch:i,hostelId:a}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(j.Z,{onClose:t}),(0,h.jsxs)(f.Z,{customStyle:{zIndex:"1200"},children:[(0,h.jsxs)("div",{className:S.Z.edit_modal_container,style:{width:"200px"},children:[(0,h.jsx)("h6",{className:S.Z.edit,onClick:()=>{null!==n&&void 0!==n&&n._id&&a&&(d((e=>!e)),g({hid:a,bid:null===n||void 0===n?void 0:n._id}).then((()=>{o(),d((e=>!e)),t()})).catch({}))},children:"Select Batch"})," ",(0,h.jsx)("h6",{className:S.Z.edit,onClick:()=>u((e=>!e)),children:"Edit"}),(0,h.jsx)("h6",{className:S.Z.remove,onClick:()=>{null!==n&&void 0!==n&&n._id&&(d((e=>!e)),m({bid:null===n||void 0===n?void 0:n._id}).then((()=>{i(),t(),d((e=>!e))})).catch({}))},children:"Delete"})]}),s&&(0,h.jsx)(p.Z,{})]})]})})},A=e=>{var t;let{batch:n,selectedId:a,hostelId:o,onRefetch:d,onMasterApiRefetch:c}=e;const{t:r}=(0,i.$G)(),[u,v]=(0,l.useState)("");return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:s.Z.hostel_batch_container,style:{backgroundColor:a===(null===n||void 0===n?void 0:n._id)?"rgb(226, 229, 232)":"inherit"},children:[(0,h.jsx)("img",{className:s.Z.hostel_batch_image,src:"/images/master-24-grey-icon.svg",alt:"batch icon",style:{borderRadius:"0"}}),(0,h.jsxs)("div",{className:s.Z.hostel_batch_container_text,children:[(0,h.jsx)("h6",{children:null!==(t=null===n||void 0===n?void 0:n.batchName)&&void 0!==t?t:""}),(0,h.jsxs)("p",{children:[r("created_on_")," ",x()(null===n||void 0===n?void 0:n.createdAt).format("DD MMM yyyy")]})]}),(0,h.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:()=>v(n),className:s.Z.hostel_batch_menu,title:"Menu"})]}),u&&(0,h.jsx)(N,{onClose:()=>v(""),hostelId:o,onRefetch:d,batchMenu:u,onMasterApiRefetch:c})]})};var y=n(47167),b=n(16871);const C=e=>{var t;let{hid:n,selectedBacthId:r,onMasterApiRefetch:u,carryParentState:v,pageOpenAs:p,instituteId:m}=e;const{t:g}=(0,i.$G)(),x=(0,b.TH)(),[f,j]=(0,l.useState)([{name:g("batch"),id:0,url:"member/hostel?a=batch"},{name:g("hostel_tab_standard"),id:1,url:"member/hostel?a=standard"}]),[S,N]=(0,l.useState)(!1),[C,Z]=(0,a.YD)(),[E,I]=(0,l.useState)(1),[T,P]=(0,l.useState)(!0),[w,R]=(0,l.useState)(!0),[k,D]=(0,l.useState)([]),[L,M]=(0,l.useState)(!1),{getHostelAllBatch:O,getHostelAllBatchRefetch:F}=(0,c.si)({data:{hid:n,id:m,page:E,limit:10},skip:!n});(0,l.useEffect)((()=>{p&&j([{name:g("batch"),id:0,url:"hostel?a=batch"},{name:g("hostel_tab_standard"),id:1,url:"hostel?a=standard"}])}),[p]),(0,l.useEffect)((()=>{n&&(R(!0),F())}),[n,E,F]),(0,l.useEffect)((()=>{Z&&T&&I((e=>e+1))}),[Z,T]),(0,l.useEffect)((()=>{var e,t;L?(D(null===O||void 0===O?void 0:O.all_batches),R(!1),M(!1)):null!==O&&void 0!==O&&O.all_batches?(D((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===O||void 0===O?void 0:O.all_batches])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),R(!1)):0===(null===O||void 0===O||null===(t=O.all_batches)||void 0===t?void 0:t.length)&&R(!1);10===(null===O||void 0===O||null===(e=O.all_batches)||void 0===e?void 0:e.length)?P(!0):P(!1)}),[null===O||void 0===O?void 0:O.all_batches]);const q=()=>{I(1),M(!0),R(!0),F()},B=()=>{N((e=>!e))};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(y.Z,{tabList:f,activeIndexTab:"batch"===(null===(t=x.search)||void 0===t?void 0:t.substring(3))?0:1,showAs:!0,customStyleTab:{width:"100%",marginTop:"-1rem"},customStyleLink:{width:"50%"},carryParentState:v}),(0,h.jsx)(o.Z,{customStyle:{marginBottom:"0.6rem",width:"100%"}}),(0,h.jsx)("div",{className:s.Z.with_search,children:(0,h.jsx)("h6",{children:g("hostel_batch")})}),(0,h.jsx)(o.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,h.jsx)("div",{className:s.Z.add_container,children:(0,h.jsx)("p",{className:s.Z.add_new_category,onClick:B,children:g("create_new_batch")})}),null===k||void 0===k?void 0:k.map(((e,t)=>(null===k||void 0===k?void 0:k.length)===t+1?(0,h.jsx)("div",{ref:C,children:(0,h.jsx)(A,{batch:e,hostelId:n,onRefetch:q,selectedId:r,onMasterApiRefetch:u})},null===e||void 0===e?void 0:e._id):(0,h.jsx)(A,{batch:e,hostelId:n,onRefetch:q,selectedId:r,onMasterApiRefetch:u},null===e||void 0===e?void 0:e._id))),w&&(0,h.jsx)(d.Z,{status:"white"}),S&&(0,h.jsx)(_,{onClose:B,hostelId:n,onRefetch:q,instituteId:m})]})}},42850:(e,t,n)=>{n.d(t,{Z:()=>v});n(72791);var l=n(16871),i=n(91104),a=n(35848),o=n(87457),s=n(39230),d=n(55271),c=n(22492),r=n(80184);const u=e=>{var t,n;let{fees_category_count:l,fee_master_array_count:i,fee_structure_count:a,carryParentState:u,accessRole:v,callApi:p,pageOpenAs:m}=e;const{t:h}=(0,s.$G)();return(0,r.jsx)(r.Fragment,{children:"INSTITUTE"===m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{carryParentState:u,activeTab:"fee&n=category",children:(0,r.jsxs)("div",{className:o.Z.fees_category,children:[(0,r.jsx)("div",{className:o.Z.fees_category_icon,children:(0,r.jsx)("img",{src:"/images/fees-category-icon.svg",alt:"categor icon"})}),(0,r.jsxs)("div",{className:o.Z.fees_category_text,children:[(0,r.jsx)("h6",{children:h("fees_master")}),(0,r.jsxs)("p",{children:[h("fees_total")," ",null!==(t=l+i)&&void 0!==t?t:0]})]})]})}),(0,r.jsx)(c.Z,{carryParentState:u,activeTab:"fee&n=structure",children:(0,r.jsxs)("div",{className:o.Z.department_card_container,style:{marginTop:"0.8rem"},children:[(0,r.jsx)("img",{src:"/images/profileAndCover/department-profile-img.svg",alt:"department avatar",className:o.Z.department_card_image}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h6",{className:o.Z.department_card_name,children:h("fees_structure")}),(0,r.jsxs)("p",{className:o.Z.department_card_head,children:[h("total_fees_structure")," ",null!==a&&void 0!==a?a:0]})]})]})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{carryParentState:u,activeTab:"fee&n=category",accessRole:v,callApi:p,children:(0,r.jsxs)("div",{className:o.Z.fees_category,children:[(0,r.jsx)("div",{className:o.Z.fees_category_icon,children:(0,r.jsx)("img",{src:"/images/fees-category-icon.svg",alt:"categor icon"})}),(0,r.jsxs)("div",{className:o.Z.fees_category_text,children:[(0,r.jsx)("h6",{children:h("fees_master")}),(0,r.jsxs)("p",{children:[h("fees_total")," ",null!==(n=l+i)&&void 0!==n?n:0]})]})]})}),(0,r.jsx)(d.Z,{carryParentState:u,activeTab:"fee&n=structure",accessRole:v,callApi:p,children:(0,r.jsxs)("div",{className:o.Z.department_card_container,style:{marginTop:"0.8rem"},children:[(0,r.jsx)("img",{src:"/images/profileAndCover/department-profile-img.svg",alt:"department avatar",className:o.Z.department_card_image}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h6",{className:o.Z.department_card_name,children:h("fees_structure")}),(0,r.jsxs)("p",{className:o.Z.department_card_head,children:[h("total_fees_structure")," ",null!==a&&void 0!==a?a:0]})]})]})})]})})},v=e=>{var t,n,s;let{financeId:d,instituteId:c,fees_category_count:v,fee_master_array_count:p,fee_structure_count:m,carryParentState:h,accessRole:_,hostelId:g,callApi:x,pageOpenAs:f}=e;const j=(0,l.TH)();return(0,r.jsxs)("div",{className:o.Z.fess_container,children:["fee"===(null===j||void 0===j||null===(t=j.search)||void 0===t?void 0:t.substring(3))&&(0,r.jsx)(u,{instituteId:c,fees_category_count:null!==v&&void 0!==v?v:0,carryParentState:h,fee_master_array_count:null!==p&&void 0!==p?p:0,fee_structure_count:m,accessRole:_,callApi:x,pageOpenAs:f}),"category"===(null===j||void 0===j||null===(n=j.search)||void 0===n?void 0:n.substring(9))&&(0,r.jsx)(i.Z,{financeId:d,openAs:"HOSTEL_MANAGER"}),"structure"===(null===j||void 0===j||null===(s=j.search)||void 0===s?void 0:s.substring(9))&&(0,r.jsx)(a.Z,{financeId:d,instituteId:c,hostelId:g})]})}},35848:(e,t,n)=>{n.d(t,{Z:()=>h});var l=n(72791),i=n(39230),a=n(23441),o=n(87338),s=n(98734),d=n(11105),c=n(98094),r=n(33302),u=n(66328),v=n(87457),p=n(16871),m=n(80184);const h=e=>{let{financeId:t,hostelId:n,instituteId:h,viewAs:_}=e;const{t:g}=(0,i.$G)(),x=(0,p.s0)(),[f,j]=(0,l.useState)(!1),[S,N]=(0,a.YD)(),[A,y]=(0,l.useState)(1),[b,C]=(0,l.useState)(!0),[Z,E]=(0,l.useState)(!1),[I,T]=(0,l.useState)(!0),[P,w]=(0,l.useState)([]),[R,k]=(0,l.useState)(""),[D,L]=(0,l.useState)(!1),{getHostelFeeStructureList:M,getHostelFeeStructureListRefetch:O}=(0,o.Sz)({data:{hid:n,page:A,limit:10},skip:!n});(0,l.useEffect)((()=>{n&&(T(!0),O())}),[n,A,O]),(0,l.useEffect)((()=>{N&&b&&y((e=>e+1))}),[N,b]),(0,l.useEffect)((()=>{var e,t;Z?(w(null===M||void 0===M?void 0:M.all_structures),T(!1),E(!1)):null!==M&&void 0!==M&&M.all_structures?(w((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===M||void 0===M?void 0:M.all_structures])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),T(!1)):0===(null===M||void 0===M||null===(t=M.all_structures)||void 0===t?void 0:t.length)&&T(!1);10===(null===M||void 0===M||null===(e=M.all_structures)||void 0===e?void 0:e.length)?C(!0):C(!1)}),[null===M||void 0===M?void 0:M.all_structures]);const F=()=>{j((e=>!e))},q=()=>{y(1),E(!0),T(!0),O()};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:v.Z.structure_container_title,style:{justifyContent:"HOSTEL_SEARCH"===_?"flex-start":"space-between",gap:"1rem"},children:["HOSTEL_SEARCH"===_&&(0,m.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{x(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,m.jsx)("h6",{children:g("fees_structure")}),(0,m.jsx)("div",{className:v.Z.upload_excel_container,children:"HOSTEL_SEARCH"===_?"":(0,m.jsx)("p",{className:v.Z.add_new_category,onClick:F,children:g("add_new_fees_structure")})})]}),(0,m.jsx)(c.Z,{customStyle:{marginBottom:"1rem"}}),null===P||void 0===P?void 0:P.map(((e,t)=>{var n,l,i,a,o,s,d,c,r,u,p,h;return(null===P||void 0===P?void 0:P.length)===t+1?(0,m.jsxs)("div",{className:v.Z.fees_card,ref:S,onClick:()=>k(null===e||void 0===e?void 0:e._id),style:{cursor:"pointer"},children:[(0,m.jsx)("img",{src:"/images/fees-category-icon.svg",alt:"categor icon"}),(0,m.jsxs)("div",{className:v.Z.fees_card_text,children:[(0,m.jsxs)("div",{className:v.Z.fees_card_text_bottom,children:[(0,m.jsx)("h6",{children:null!==(n=null===e||void 0===e||null===(l=e.category_master)||void 0===l?void 0:l.category_name)&&void 0!==n?n:""}),(0,m.jsx)("h6",{children:null!==(i=null===e||void 0===e||null===(a=e.class_master)||void 0===a?void 0:a.className)&&void 0!==i?i:""})]}),(0,m.jsxs)("div",{className:v.Z.fees_card_text_bottom,children:[(0,m.jsx)("h6",{children:null!==(o=null===e||void 0===e?void 0:e.structure_name)&&void 0!==o?o:""}),(0,m.jsx)("h6",{children:null!==(s=null===e||void 0===e?void 0:e.total_admission_fees)&&void 0!==s?s:0})]})]})]},null===e||void 0===e?void 0:e._id):(0,m.jsxs)("div",{className:v.Z.fees_card,onClick:()=>k(null===e||void 0===e?void 0:e._id),style:{cursor:"pointer"},children:[(0,m.jsx)("img",{src:"/images/fees-category-icon.svg",alt:"categor icon"}),(0,m.jsxs)("div",{className:v.Z.fees_card_text,children:[(0,m.jsxs)("div",{className:v.Z.fees_card_text_bottom,children:[(0,m.jsx)("h6",{children:null!==(d=null===e||void 0===e||null===(c=e.category_master)||void 0===c?void 0:c.category_name)&&void 0!==d?d:""}),(0,m.jsx)("h6",{children:null!==(r=null===e||void 0===e||null===(u=e.class_master)||void 0===u?void 0:u.className)&&void 0!==r?r:""})]}),(0,m.jsxs)("div",{className:v.Z.fees_card_text_bottom,children:[(0,m.jsx)("h6",{children:null!==(p=null===e||void 0===e?void 0:e.structure_name)&&void 0!==p?p:""}),(0,m.jsx)("h6",{children:null!==(h=null===e||void 0===e?void 0:e.total_admission_fees)&&void 0!==h?h:0})]})]})]},null===e||void 0===e?void 0:e._id)})),D&&(0,m.jsx)(s.Z,{}),I&&(0,m.jsx)(d.Z,{}),f&&(0,m.jsx)(r.Z,{onClose:F,financeId:t,departmentId:n,onRefetch:q,instituteId:h,flowAs:"Hostel_Manager"}),R&&(0,m.jsx)(u.Z,{structureId:R,setStructureId:k,onRefetch:q,departmentId:n,instituteId:h,financeId:t,flowAs:"Hostel_Manager",viewAs:_})]})}},48025:(e,t,n)=>{n.d(t,{Z:()=>_});var l=n(72791),i=n(39230),a=n(23441),o=n(763),s=n(10406),d=n(11105),c=n(98094),r=n(16871),u=n(43504),v=n(69721),p=n(80184);const m=e=>{var t,n,l;let{applicant:a}=e;const{t:o}=(0,i.$G)(),d=(0,r.UO)();return(0,p.jsx)(u.rU,{to:"/q/".concat(d.username,"/student/profile/hostel"),state:{sid:null===a||void 0===a?void 0:a._id,viewAs:"ADMISSION_ADMIN",openTab:"FEES_DATA"},children:(0,p.jsxs)("div",{className:s.Z.hostelite_container,title:"View Profile",children:[(0,p.jsx)("img",{alt:"Student Avatar",src:"1"!==a.photoId?"".concat(v.yI,"/").concat(null===a||void 0===a?void 0:a.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,p.jsxs)("div",{className:s.Z.hostelite_container_inner,children:[(0,p.jsxs)("div",{className:s.Z.hostelite_container_inner_text,children:[(0,p.jsx)("h6",{children:"".concat(a.studentFirstName," ").concat(a.studentMiddleName?a.studentMiddleName:""," ").concat(a.studentLastName)}),(0,p.jsx)("p",{children:null!==(t=null===a||void 0===a||null===(n=a.student_unit)||void 0===n?void 0:n.hostel_unit_name)&&void 0!==t?t:""})]}),(0,p.jsxs)("div",{className:s.Z.hostelite_container_inner_text,children:[(0,p.jsxs)("h6",{children:[o("rs")," ",". ",null!==(l=null===a||void 0===a?void 0:a.hostelRemainFeeCount)&&void 0!==l?l:0]}),(0,p.jsx)("p",{children:o("pending_fees")})]})]})]})})};var h=n(87338);const _=e=>{let{hid:t,instituteId:n}=e;const{t:r}=(0,i.$G)(),[u,v]=(0,a.YD)(),[_,g]=(0,l.useState)(1),[x,f]=(0,l.useState)(!0),[j,S]=(0,l.useState)(!0),[N,A]=(0,l.useState)([]),[y,b]=(0,l.useState)(""),{getPendingFeeByHostel:C,getPendingFeeByHostelRefetch:Z}=(0,h.ah)({data:{hid:t,page:_,limit:10,search:y,id:n},skip:!t});(0,l.useEffect)((()=>{t&&(S(!0),Z())}),[t,n,_,y,Z]),(0,l.useEffect)((()=>{v&&x&&g((e=>e+1))}),[v,x]),(0,l.useEffect)((()=>{var e,t;y?(A(null===C||void 0===C?void 0:C.remain),S(!1)):null!==C&&void 0!==C&&C.remain?(A((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===C||void 0===C?void 0:C.remain])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),S(!1)):0===(null===C||void 0===C||null===(t=C.remain)||void 0===t?void 0:t.length)&&S(!1);10===(null===C||void 0===C||null===(e=C.remain)||void 0===e?void 0:e.length)?f(!0):f(!1)}),[null===C||void 0===C?void 0:C.remain]);const E=(0,l.useCallback)((0,o.debounce)((e=>b(e)),500),[]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:s.Z.with_search,children:[(0,p.jsx)("h6",{children:r("remaining_fees")}),(0,p.jsx)("section",{className:s.Z.search_container,children:(0,p.jsxs)("div",{className:s.Z.search_container_input,children:[(0,p.jsx)("img",{className:s.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,p.jsx)("input",{type:"text",placeholder:"Search...",onChange:e=>{E(e.target.value)}})]})})]}),(0,p.jsx)(c.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),null===N||void 0===N?void 0:N.map(((e,t)=>(null===N||void 0===N?void 0:N.length)===t+1?(0,p.jsx)("div",{ref:u,children:(0,p.jsx)(m,{applicant:e})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(m,{applicant:e},null===e||void 0===e?void 0:e._id))),j&&(0,p.jsx)(d.Z,{})]})}},19765:(e,t,n)=>{n.d(t,{Z:()=>j});var l=n(72791),i=n(92994),a=n(39230),o=n(16871),s=n(72952),d=n(98734),c=n(98094),r=n(95048),u=n(91007),v=n(97655),p=n(87984),m=n(87338),h=n(84959),_=n(70966),g=n(5574),x=n(81622),f=n(80184);const j=e=>{var t,n,j,S;let{hid:N,viewAs:A}=e;const{t:y}=(0,a.$G)(),b=(0,o.s0)(),[C,Z]=(0,l.useState)(!1),[E,I]=(0,l.useState)({hostel_about:"",hostel_process:"",cashier_name:"",cashier_signature:""}),[T,P]=(0,l.useState)([{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}]),[w,R]=(0,l.useState)(""),[k,D]=(0,l.useState)(""),[L,M]=(0,l.useState)(!1),[O,F]=(0,l.useState)(!1),[q,B]=(0,l.useState)(""),H=(0,r.v9)((e=>e.idChange.id)),{data:U,refetch:G}=(0,u.pu)(H,{skip:"INSTITUTE"===A||!H});(0,l.useEffect)((()=>{H&&"INSTITUTE"!==A&&G()}),[H,A,G]);const{hostelGetSiteInfo:W,hostelGetSiteInfoRefetch:V}=(0,m.FA)({hid:N,skip:!N}),[$]=(0,m.wJ)(),[J]=(0,h.FL)();(0,l.useEffect)((()=>{N&&V()}),[N,V]),(0,l.useEffect)((()=>{var e,t,n,l,i,a;if(null!==W&&void 0!==W&&W.hostel_site&&(I({hostel_about:null===W||void 0===W||null===(e=W.hostel_site)||void 0===e?void 0:e.hostel_about,hostel_process:null===W||void 0===W||null===(t=W.hostel_site)||void 0===t?void 0:t.hostel_process,cashier_name:null===W||void 0===W||null===(n=W.hostel_site)||void 0===n?void 0:n.cashier_name,cashier_signature:null===W||void 0===W||null===(l=W.hostel_site)||void 0===l?void 0:l.cashier_signature}),null!==W&&void 0!==W&&null!==(i=W.hostel_site)&&void 0!==i&&null!==(a=i.hostel_contact)&&void 0!==a&&a.length)){let e=[];for(let t of null===W||void 0===W||null===(o=W.hostel_site)||void 0===o?void 0:o.hostel_contact){var o;let n={contact_department_name:null===t||void 0===t?void 0:t.contact_department_name,contact_person_name:null===t||void 0===t?void 0:t.contact_person_name,contact_person_mobile:null===t||void 0===t?void 0:t.contact_person_mobile,contact_person_email:null===t||void 0===t?void 0:t.contact_person_email,contactId:null===t||void 0===t?void 0:t._id};e.push(n)}P(e)}}),[null===W||void 0===W?void 0:W.hostel_site]);const Y=(e,t)=>{const n=[...T];for(let l=0;l<(null===n||void 0===n?void 0:n.length);l++)l===t&&(n[l][e.target.name]=e.target.value);P(n)},z=e=>{I((t=>({...t,[e.target.name]:e.target.value})))};(0,l.useEffect)((()=>{O&&(e=>{if(e){Z((e=>!e));const t=new FormData;t.append("file",e),J({fileUpload:t}).then((e=>{var t;null!==(t=e.data)&&void 0!==t&&t.imageKey&&I((t=>{var n;return{...t,cashier_signature:null===(n=e.data)||void 0===n?void 0:n.imageKey}})),Z((e=>!e))})).catch({})}})(k)}),[O,k]);return(0,f.jsxs)("div",{className:i.Z.bgContainer,children:["INSTITUTE"===A?null:(0,f.jsx)("div",{className:i.Z.navbar,children:(0,f.jsx)(p.default,{status:"members",profileData:null===U||void 0===U?void 0:U.user,username:null===U||void 0===U||null===(t=U.user)||void 0===t?void 0:t.username,name:null===U||void 0===U||null===(n=U.user)||void 0===n?void 0:n.userLegalName,photoId:null===U||void 0===U||null===(j=U.user)||void 0===j?void 0:j.photoId,profilePhoto:null===U||void 0===U||null===(S=U.user)||void 0===S?void 0:S.profilePhoto})}),(0,f.jsxs)("div",{className:i.Z.container,children:[(0,f.jsxs)("div",{className:i.Z.containerhead,children:[(0,f.jsx)("h6",{children:y("update_hostel_site_info")}),(0,f.jsx)("img",{src:"/images/close-post-icon.svg",alt:"",onClick:()=>{b(-1)}})]}),(0,f.jsx)(c.Z,{customStyle:{width:"100%"}}),(0,f.jsx)("div",{className:i.Z.containercontent,children:(0,f.jsxs)("div",{className:i.Z.container_inner_content,children:[(0,f.jsx)(s.Z,{labelText:y("about_hostel_department"),placeholder:y("about_hostel_department_placeholder"),name:"hostel_about",value:E.hostel_about,type:"text",onChange:z,customStyleContainer:{width:"100%"}}),(0,f.jsx)(s.Z,{labelText:y("hostel_process_site"),placeholder:y("hostel_process_site_placeholder"),name:"hostel_process",value:E.hostel_process,type:"text",onChange:z,customStyleContainer:{width:"100%"}}),(0,f.jsxs)("div",{className:i.Z.show_field,style:{alignItems:"flex-start"},children:[(0,f.jsx)(v.Z,{labelText:y("site_cashier_name"),placeholder:y("site_cashier_name_placeholder"),name:"cashier_name",value:null===E||void 0===E?void 0:E.cashier_name,type:"text",onChange:z,customStyleContainer:{width:"69.5%"}}),(0,f.jsx)(x.Z,{labelText:y("cashier_signature"),name:"cashier_signature",value:E.cashier_signature,onChange:e=>{if(e.target.files[0]){const t=URL.createObjectURL(e.target.files[0]);D(e.target.files[0]),B(t),R(t),M(!0)}},customStyleContainer:{width:"29.5%"}})]}),(0,f.jsxs)("div",{className:i.Z.add_contact_person,children:[(0,f.jsx)("h6",{children:y("add_contact_persons")}),null===T||void 0===T?void 0:T.map(((e,t)=>(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:i.Z.show_field,children:[(0,f.jsx)(v.Z,{labelText:y("site_department_name"),placeholder:y("site_department_name_placeholder"),name:"contact_department_name",value:null===e||void 0===e?void 0:e.contact_department_name,type:"text",onChange:e=>Y(e,t),customStyleContainer:{width:"49.5%"}}),(0,f.jsx)(v.Z,{labelText:y("contact_person_name"),placeholder:y("contact_person_name_placeholder"),name:"contact_person_name",value:null===e||void 0===e?void 0:e.contact_person_name,type:"text",onChange:e=>Y(e,t),customStyleContainer:{width:"49.5%"}})]}),(0,f.jsxs)("div",{className:i.Z.show_field,children:[(0,f.jsx)(v.Z,{labelText:y("contact_person_mobile"),placeholder:y("contact_person_mobile_placeholder"),name:"contact_person_mobile",value:null===e||void 0===e?void 0:e.contact_person_mobile,type:"text",onChange:e=>Y(e,t),customStyleContainer:{width:"49.5%"}}),(0,f.jsx)(v.Z,{labelText:y("contact_person_email"),placeholder:y("contact_person_email_placeholder"),name:"contact_person_email",value:null===e||void 0===e?void 0:e.contact_person_email,type:"email",onChange:e=>Y(e,t),customStyleContainer:{width:"49.5%"}})]})]},t)))]}),(0,f.jsx)("button",{className:i.Z.add_contact_person_btn,title:"Add Contact Person",onClick:()=>{P((e=>[...e,{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}]))},children:y("add_contact_person")}),C&&(0,f.jsx)(d.Z,{}),(0,f.jsx)("button",{className:i.Z.update_btn,onClick:()=>{Z((e=>!e)),$({hid:N,updateSiteInfo:{...E,hostel_contact:null===T||void 0===T?void 0:T.filter((e=>null!==e&&void 0!==e&&e.contactId?"":e)),edit_hostel_contact:null===T||void 0===T?void 0:T.filter((e=>null!==e&&void 0!==e&&e.contactId?e:""))}}).then((()=>{Z((e=>!e))})).catch({})},children:y("update")}),(0,f.jsx)(g.Z,{open:L,children:(0,f.jsx)(_.Z,{setPhotoURL:R,photoURL:w,setFile:D,setOpenCrop:M,setUpload:F,setProfilePhoto:B,first:1,second:1})})]})})]})]})}},73309:(e,t,n)=>{n.d(t,{Z:()=>S});var l=n(72791),i=n(39230),a=n(98094),o=n(10406),s=n(11105),d=n(36665),c=n(87457),r=n(57431),u=n(98734),v=n(87338),p=n(97655),m=n(80184);const h=e=>{let{onClose:t,onRefetch:n,hostelId:o}=e;const{t:s}=(0,i.$G)(),[h,_]=(0,l.useState)(""),[g,x]=(0,l.useState)(!1),[f,j]=(0,l.useState)({className:""}),[S]=(0,v.T4)();return(0,m.jsx)(d.Z,{onClose:t,children:(0,m.jsxs)("div",{className:c.Z.add_category_modal,children:[(0,m.jsxs)("div",{className:c.Z.add_category_modal_title,children:[(0,m.jsx)("h6",{children:s("create_new_master")}),(0,m.jsx)("img",{src:"/images/close-post-icon.svg",onClick:t,alt:""})]}),(0,m.jsx)(a.Z,{customStyle:{width:"100%",marginTop:"0.6rem",marginBottom:"0.6rem"}}),(0,m.jsx)(p.Z,{labelText:s("create_master_header_2"),placeholder:s("e.g. 6th Class/ FYJC"),name:"className",value:null===f||void 0===f?void 0:f.className,type:"text",onChange:e=>{var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)<=40&&j((t=>({...t,className:e.target.value})))},errorShow:h}),(0,m.jsx)(r.Z,{maxLength:40,valueLength:f.className}),(0,m.jsx)("button",{className:c.Z.set_fees_structure_btn,title:"Create Standard",onClick:()=>{f.className?o&&(x((e=>!e)),S({hid:o,hostelStandard:f}).then((()=>{n(),t(),x((e=>!e))})).catch({})):_(!0)},style:{justifyContent:"center"},children:s("create")}),g&&(0,m.jsx)(u.Z,{})]})})};var _=n(72426),g=n.n(_);const x=e=>{var t;let{standard:n}=e;const{t:l}=(0,i.$G)();return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:o.Z.hostel_batch_container,children:[(0,m.jsx)("img",{className:o.Z.hostel_batch_image,src:"/images/master-24-grey-icon.svg",alt:"batch icon",style:{borderRadius:"0"}}),(0,m.jsxs)("div",{className:o.Z.hostel_batch_container_text,children:[(0,m.jsx)("h6",{children:null!==(t=null===n||void 0===n?void 0:n.className)&&void 0!==t?t:""}),(0,m.jsxs)("p",{children:[l("created_on_")," ",g()(null===n||void 0===n?void 0:n.createdAt).format("DD MMM yyyy")]})]})]})})};var f=n(16871),j=n(47167);const S=e=>{var t,n;let{hid:d,carryParentState:c,pageOpenAs:r}=e;const{t:u}=(0,i.$G)(),p=(0,f.TH)(),[_,g]=(0,l.useState)([{name:u("batch"),id:0,url:"member/hostel?a=batch"},{name:u("hostel_tab_standard"),id:1,url:"member/hostel?a=standard"}]),[S,N]=(0,l.useState)(!1),[A,y]=(0,l.useState)(!0),{getHostelAllStandard:b,getHostelAllStandardRefetch:C}=(0,v.yg)({hid:d,skip:!d});(0,l.useEffect)((()=>{r&&g([{name:u("batch"),id:0,url:"hostel?a=batch"},{name:u("hostel_tab_standard"),id:1,url:"hostel?a=standard"}])}),[r]),(0,l.useEffect)((()=>{d&&(y(!0),C())}),[d,C]),(0,l.useEffect)((()=>{var e;(null!==b&&void 0!==b&&b.all_masters||0===(null===b||void 0===b||null===(e=b.all_masters)||void 0===e?void 0:e.length))&&y(!1)}),[null===b||void 0===b?void 0:b.all_masters]);const Z=()=>{N((e=>!e))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(j.Z,{tabList:_,activeIndexTab:"batch"===(null===(t=p.search)||void 0===t?void 0:t.substring(3))?0:1,showAs:!0,customStyleTab:{width:"100%",marginTop:"-1rem"},customStyleLink:{width:"50%"},carryParentState:c}),(0,m.jsx)(a.Z,{customStyle:{marginBottom:"0.6rem",width:"100%"}}),(0,m.jsx)("div",{className:o.Z.with_search,children:(0,m.jsx)("h6",{children:u("hostel_standard")})}),(0,m.jsx)(a.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,m.jsx)("div",{className:o.Z.add_container,children:(0,m.jsx)("p",{className:o.Z.add_new_category,onClick:Z,children:u("create_new_standard")})}),null===b||void 0===b||null===(n=b.all_masters)||void 0===n?void 0:n.map((e=>(0,m.jsx)(x,{standard:e},null===e||void 0===e?void 0:e._id))),A&&(0,m.jsx)(s.Z,{status:"white"}),S&&(0,m.jsx)(h,{onClose:Z,hostelId:d,onRefetch:()=>{y(!0),C()}})]})}},49802:(e,t,n)=>{n.d(t,{Z:()=>v});var l=n(72791),i=n(39230),a=n(87338),o=n(98094),s=n(96146),d=n(90865),c=n(51561),r=n(10406),u=n(80184);const v=e=>{var t;let{hid:n}=e;const[v,p]=(0,l.useState)(""),{t:m}=(0,i.$G)(),[h,_]=(0,l.useState)(!1),[g]=(0,a._M)(),{getHostelForm:x,getHostelFormRefetch:f}=(0,a.GC)({hid:n,skip:!n}),[j,S]=(0,l.useState)({otherPersonalInfo:!1,enrollmentPrn:!1,identityDetails:!1,addressInfo:!1,parentsInfo:!1,previousSchoolAndDocument:{previousSchoolDocument:!1,aadharCard:!1,identityDocument:!1,casteCertificate:!1,joiningTransferLetter:!1,leavingTransferCertificate:!1,incomeCertificate:!1,lastYearMarksheet:!1,nationalityCertificate:!1,domicileCertificate:!1,nonCreamyLayerCertificate:!1},bankDetails:!1,cpi:!1,ug_undertakings_hostel_admission:!1,pg_undertakings_hostel_admission:!1});(0,l.useEffect)((()=>{n&&f()}),[n,f]),(0,l.useEffect)((()=>{var e,t,n,l,i,a,o,s,d,c,r,u,v,p,m,h,_,g,f,j,N,A,y,b,C,Z,E,I,T,P,w,R,k,D,L,M,O,F,q,B,H,U,G,W,V,$,J,Y,z,X;null!==x&&void 0!==x&&null!==(e=x.one_hostel)&&void 0!==e&&e.student_form_query&&S({otherPersonalInfo:null===x||void 0===x||null===(t=x.one_hostel)||void 0===t||null===(n=t.student_form_query)||void 0===n?void 0:n.otherPersonalInfo,enrollmentPrn:null===x||void 0===x||null===(l=x.one_hostel)||void 0===l||null===(i=l.student_form_query)||void 0===i?void 0:i.enrollmentPrn,identityDetails:null===x||void 0===x||null===(a=x.one_hostel)||void 0===a||null===(o=a.student_form_query)||void 0===o?void 0:o.identityDetails,addressInfo:null===x||void 0===x||null===(s=x.one_hostel)||void 0===s||null===(d=s.student_form_query)||void 0===d?void 0:d.addressInfo,parentsInfo:null===x||void 0===x||null===(c=x.one_hostel)||void 0===c||null===(r=c.student_form_query)||void 0===r?void 0:r.parentsInfo,previousSchoolAndDocument:{previousSchoolDocument:null===x||void 0===x||null===(u=x.one_hostel)||void 0===u||null===(v=u.student_form_query)||void 0===v||null===(p=v.previousSchoolAndDocument)||void 0===p?void 0:p.previousSchoolDocument,aadharCard:null===x||void 0===x||null===(m=x.one_hostel)||void 0===m||null===(h=m.student_form_query)||void 0===h||null===(_=h.previousSchoolAndDocument)||void 0===_?void 0:_.aadharCard,identityDocument:null===x||void 0===x||null===(g=x.one_hostel)||void 0===g||null===(f=g.student_form_query)||void 0===f||null===(j=f.previousSchoolAndDocument)||void 0===j?void 0:j.identityDocument,casteCertificate:null===x||void 0===x||null===(N=x.one_hostel)||void 0===N||null===(A=N.student_form_query)||void 0===A||null===(y=A.previousSchoolAndDocument)||void 0===y?void 0:y.casteCertificate,joiningTransferLetter:null===x||void 0===x||null===(b=x.one_hostel)||void 0===b||null===(C=b.student_form_query)||void 0===C||null===(Z=C.previousSchoolAndDocument)||void 0===Z?void 0:Z.joiningTransferLetter,leavingTransferCertificate:null===x||void 0===x||null===(E=x.one_hostel)||void 0===E||null===(I=E.student_form_query)||void 0===I||null===(T=I.previousSchoolAndDocument)||void 0===T?void 0:T.leavingTransferCertificate,incomeCertificate:null===x||void 0===x||null===(P=x.one_hostel)||void 0===P||null===(w=P.student_form_query)||void 0===w||null===(R=w.previousSchoolAndDocument)||void 0===R?void 0:R.incomeCertificate,lastYearMarksheet:null===x||void 0===x||null===(k=x.one_hostel)||void 0===k||null===(D=k.student_form_query)||void 0===D||null===(L=D.previousSchoolAndDocument)||void 0===L?void 0:L.lastYearMarksheet,nationalityCertificate:null===x||void 0===x||null===(M=x.one_hostel)||void 0===M||null===(O=M.student_form_query)||void 0===O||null===(F=O.previousSchoolAndDocument)||void 0===F?void 0:F.nationalityCertificate,domicileCertificate:null===x||void 0===x||null===(q=x.one_hostel)||void 0===q||null===(B=q.student_form_query)||void 0===B||null===(H=B.previousSchoolAndDocument)||void 0===H?void 0:H.domicileCertificate,nonCreamyLayerCertificate:null===x||void 0===x||null===(U=x.one_hostel)||void 0===U||null===(G=U.student_form_query)||void 0===G||null===(W=G.previousSchoolAndDocument)||void 0===W?void 0:W.nonCreamyLayerCertificate},bankDetails:null===x||void 0===x||null===(V=x.one_hostel)||void 0===V||null===($=V.student_form_query)||void 0===$?void 0:$.bankDetails,cpi:null===x||void 0===x||null===(J=x.one_hostel)||void 0===J||null===(Y=J.student_form_query)||void 0===Y?void 0:Y.cpi,ug_undertakings_hostel_admission:null===x||void 0===x||null===(z=x.one_hostel)||void 0===z?void 0:z.ug_undertakings_hostel_admission,pg_undertakings_hostel_admission:null===x||void 0===x||null===(X=x.one_hostel)||void 0===X?void 0:X.pg_undertakings_hostel_admission})}),[null===x||void 0===x||null===(t=x.one_hostel)||void 0===t?void 0:t.student_form_query]);const N=(e,t)=>{const l={...j};for(let n in l)n===e&&(l[n]=t);g({hid:n,formSetting:{student_form_query:l,ug_undertakings_hostel_admission:l.ug_undertakings_hostel_admission,pg_undertakings_hostel_admission:l.pg_undertakings_hostel_admission}}).then((()=>{p("Add joining details updated"),_(!0)})).catch({}),S((n=>({...n,[e]:t})))},A=(e,t)=>{const l={...j};"previousSchoolDocument"!==e||t||(l.previousSchoolAndDocument.aadharCard=!1,l.previousSchoolAndDocument.casteCertificate=!1,l.previousSchoolAndDocument.domicileCertificate=!1,l.previousSchoolAndDocument.identityDocument=!1,l.previousSchoolAndDocument.incomeCertificate=!1,l.previousSchoolAndDocument.joiningTransferLetter=!1,l.previousSchoolAndDocument.lastYearMarksheet=!1,l.previousSchoolAndDocument.leavingTransferCertificate=!1,l.previousSchoolAndDocument.nationalityCertificate=!1,l.previousSchoolAndDocument.nonCreamyLayerCertificate=!1);for(let n in l.previousSchoolAndDocument)n===e&&(l.previousSchoolAndDocument[n]=t);g({hid:n,formSetting:{student_form_query:l}}).then((()=>{p("Add joining details updated"),_(!0)})).catch({}),S((n=>({...n,previousSchoolAndDocument:{...n.previousSchoolAndDocument,[e]:t}})))};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:r.Z.with_search,children:(0,u.jsx)("h6",{children:m("hostel_form_setting")})}),(0,u.jsx)(o.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,u.jsxs)("div",{className:r.Z.staff_form_container,children:[(0,u.jsx)(d.Z,{labelHeading:m("personal_info_"),labelDescription:m("name_"),defaultLabel:!0}),(0,u.jsx)(o.Z,{}),(0,u.jsx)(d.Z,{labelHeading:m("enrollment_number"),labelDescription:m("enrollment_label_text"),defaultLabel:!1,checkedToggle:j.enrollmentPrn,onToggleHandler:e=>N("enrollmentPrn",e.target.checked)}),(0,u.jsx)(o.Z,{}),(0,u.jsx)(d.Z,{labelHeading:m("other_info"),labelDescription:m("label_text"),defaultLabel:!1,checkedToggle:j.otherPersonalInfo,onToggleHandler:e=>N("otherPersonalInfo",e.target.checked)}),(0,u.jsx)(o.Z,{}),(0,u.jsx)(d.Z,{labelHeading:m("i_details"),labelDescription:m("labeltext2"),defaultLabel:!1,checkedToggle:j.identityDetails,onToggleHandler:e=>N("identityDetails",e.target.checked)}),(0,u.jsx)(o.Z,{}),(0,u.jsx)(d.Z,{labelHeading:m("add_info"),labelDescription:m("labeltext3"),defaultLabel:!1,checkedToggle:j.addressInfo,onToggleHandler:e=>N("addressInfo",e.target.checked)}),(0,u.jsx)(o.Z,{}),(0,u.jsx)(d.Z,{labelHeading:m("parent_info_"),labelDescription:m("label_text2"),defaultLabel:!1,checkedToggle:j.parentsInfo,onToggleHandler:e=>N("parentsInfo",e.target.checked)}),(0,u.jsx)(o.Z,{}),(0,u.jsxs)(d.Z,{labelHeading:m("prev_school_"),labelDescription:"",defaultLabel:!1,checkedToggle:j.previousSchoolAndDocument.previousSchoolDocument,onToggleHandler:e=>A("previousSchoolDocument",e.target.checked),children:[(0,u.jsx)(s.Z,{checkLabel:m("aadhar_card"),checkedValue:j.previousSchoolAndDocument.aadharCard,onCheckboxAction:e=>A("aadharCard",e.target.checked)}),(0,u.jsx)(s.Z,{checkLabel:m("labeltext4"),checkedValue:j.previousSchoolAndDocument.identityDocument,onCheckboxAction:e=>A("identityDocument",e.target.checked)}),(0,u.jsx)(s.Z,{checkLabel:m("castee_"),checkedValue:j.previousSchoolAndDocument.casteCertificate,onCheckboxAction:e=>A("casteCertificate",e.target.checked)}),(0,u.jsx)(s.Z,{checkLabel:m("joining_letter"),checkedValue:j.previousSchoolAndDocument.joiningTransferLetter,onCheckboxAction:e=>A("joiningTransferLetter",e.target.checked)}),(0,u.jsx)(s.Z,{checkLabel:m("certificates"),checkedValue:j.previousSchoolAndDocument.leavingTransferCertificate,onCheckboxAction:e=>A("leavingTransferCertificate",e.target.checked)}),(0,u.jsx)(s.Z,{checkLabel:m("i_certificate"),checkedValue:j.previousSchoolAndDocument.incomeCertificate,onCheckboxAction:e=>A("incomeCertificate",e.target.checked)}),(0,u.jsx)(s.Z,{checkLabel:m("marksheet"),checkedValue:j.previousSchoolAndDocument.lastYearMarksheet,onCheckboxAction:e=>A("lastYearMarksheet",e.target.checked)}),(0,u.jsx)(s.Z,{checkLabel:m("n_certificate"),checkedValue:j.previousSchoolAndDocument.nationalityCertificate,onCheckboxAction:e=>A("nationalityCertificate",e.target.checked)}),(0,u.jsx)(s.Z,{checkLabel:m("d_certificate"),checkedValue:j.previousSchoolAndDocument.domicileCertificate,onCheckboxAction:e=>A("domicileCertificate",e.target.checked)}),(0,u.jsx)(s.Z,{checkLabel:m("non_cremy"),checkedValue:j.previousSchoolAndDocument.nonCreamyLayerCertificate,onCheckboxAction:e=>A("nonCreamyLayerCertificate",e.target.checked)})]}),(0,u.jsx)(o.Z,{}),(0,u.jsx)(d.Z,{labelHeading:m("bank_details_"),labelDescription:m("labeltext5"),defaultLabel:!1,checkedToggle:j.bankDetails,onToggleHandler:e=>N("bankDetails",e.target.checked)}),(0,u.jsx)(o.Z,{}),(0,u.jsx)(d.Z,{labelHeading:m("hostel_cpi"),labelDescription:m("hostel_cpi_text"),defaultLabel:!1,checkedToggle:j.cpi,onToggleHandler:e=>N("cpi",e.target.checked)}),(0,u.jsx)(o.Z,{}),(0,u.jsx)(d.Z,{labelHeading:m("turn_off_on_ug_hostel_undertakings"),labelDescription:"",defaultLabel:!1,checkedToggle:j.ug_undertakings_hostel_admission,onToggleHandler:e=>N("ug_undertakings_hostel_admission",e.target.checked)}),(0,u.jsx)(o.Z,{}),(0,u.jsx)(d.Z,{labelHeading:m("turn_off_on_pg_hostel_undertakings"),labelDescription:"",defaultLabel:!1,checkedToggle:j.pg_undertakings_hostel_admission,onToggleHandler:e=>N("pg_undertakings_hostel_admission",e.target.checked)}),(0,u.jsx)(o.Z,{})]}),(0,u.jsx)(c.Ch,{run:h,setRun:_,msg:v,postiton:"bottom",type:"success"})]})}},49215:(e,t,n)=>{n.d(t,{Z:()=>E});var l=n(72791),i=n(39230),a=n(23441),o=n(16871),s=n(11105),d=n(98094),c=n(46876),r=n(91022),u=n(98734),v=n(69721),p=n(36665),m=n(70374),h=n(72426),_=n.n(h),g=n(80184);const x=e=>{var t;let{setActivePopup:n,selectedApplication:l,selectedStaff:a,moderatorState:o,onAssignModerator:s}=e;const{t:c}=(0,i.$G)();return(0,g.jsx)(p.Z,{children:(0,g.jsxs)("div",{className:m.Z.assign_role_container,children:[(0,g.jsxs)("section",{className:m.Z.assign_role_title,children:[(0,g.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{},alt:"back icon"}),(0,g.jsx)("h6",{children:c("preview")})]}),(0,g.jsx)(d.Z,{customStyle:{width:"100%"}}),(0,g.jsxs)("section",{className:m.Z.selected_staff_container,children:[(0,g.jsx)("img",{src:null!==a&&void 0!==a&&a.staffProfilePhoto?"".concat(v.yI,"/").concat(null===a||void 0===a?void 0:a.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,g.jsxs)("div",{className:m.Z.selected_staff_text,children:[(0,g.jsx)("h6",{children:"".concat(null===a||void 0===a?void 0:a.staffFirstName," ").concat(null!==(t=null===a||void 0===a?void 0:a.staffMiddleName)&&void 0!==t?t:""," ").concat(null===a||void 0===a?void 0:a.staffLastName)}),(0,g.jsxs)("p",{children:[c("index_number"),null===a||void 0===a?void 0:a.staffROLLNO]})]})]}),(0,g.jsx)("section",{style:{padding:"0.8rem"},children:(0,g.jsx)(r.Z,{selectLabel:c("select_role_of_moderator"),selectedValue:c("please_select_role"),value:"ALL_FEE_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Application Manager":"INQUIRY_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Enquiries Section":"FULL_ACCESS",openAs:"REFUND"})}),null===l||void 0===l?void 0:l.map((e=>{var t,n,l;return(0,g.jsxs)("div",{className:m.Z.application_card,children:[(0,g.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,g.jsxs)("section",{className:m.Z.application_card_text,children:[(0,g.jsx)("h6",{children:null!==(t=null===e||void 0===e?void 0:e.applicationName)&&void 0!==t?t:""}),(0,g.jsxs)("div",{className:m.Z.application_card_text_bottom,children:[(0,g.jsx)("p",{children:null!==(n=null===e||void 0===e||null===(l=e.applicationDepartment)||void 0===l?void 0:l.dName)&&void 0!==n?n:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,g.jsx)("p",{children:_()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id)})),(0,g.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,g.jsxs)("button",{className:m.Z.select_application_btn,onClick:()=>n("SELECT_APPLICATION"),children:[(0,g.jsx)("div",{children:c("add_more")}),(0,g.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),(0,g.jsxs)("button",{className:m.Z.assign_btn,onClick:s,children:[c("assign")," "]})]})]})})},f=e=>{var t;let{onCloseEdit:n,setActivePopup:l,selectedStaff:a,moderatorState:o,onSelectRole:s,onUpdateModerator:c,selectedApplication:u}=e;const{t:h}=(0,i.$G)();return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(p.Z,{onClose:n,children:(0,g.jsxs)("div",{className:m.Z.assign_role_container,children:[(0,g.jsxs)("section",{className:m.Z.assign_role_title,children:[(0,g.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:n,alt:"back icon",style:{cursor:"pointer"}}),(0,g.jsx)("h6",{children:h("update_role_to_moderator")})]}),(0,g.jsx)(d.Z,{customStyle:{width:"100%"}}),(0,g.jsxs)("section",{className:m.Z.selected_staff_container,onClick:()=>l("OPEN_STAFF_LIST"),children:[(0,g.jsx)("img",{src:null!==a&&void 0!==a&&a.staffProfilePhoto?"".concat(v.yI,"/").concat(null===a||void 0===a?void 0:a.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,g.jsxs)("div",{className:m.Z.selected_staff_text,children:[(0,g.jsx)("h6",{children:"".concat(null===a||void 0===a?void 0:a.staffFirstName," ").concat(null!==(t=null===a||void 0===a?void 0:a.staffMiddleName)&&void 0!==t?t:""," ").concat(null===a||void 0===a?void 0:a.staffLastName)}),(0,g.jsxs)("p",{children:[h("index_number"),null===a||void 0===a?void 0:a.staffROLLNO]})]})]}),(0,g.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,g.jsx)(r.Z,{selectLabel:h("select_role_of_moderator"),selectedValue:h("please_select_role"),options:["Fee receipt authority","Application Manager","Renewal Manager","Deposit Moderator","Pending Fee Manager","Complaint Moderator","Fee Structure Moderator","Rules and Announcement Moderator","Income and Expense Moderator","Tab Authority","Data Export Authority"],value:"ALL_FEE_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Application Manager":"RENEWAL_UNIT_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Renewal Manager":"DEPOSIT_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Deposit Moderator":"COMPAINT_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Complaint Moderator":"PENDING_FEE_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Pending Fee Manager":"FEE_MASTER_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Fee Structure Moderator":"RULES_AND_ANNOUNCEMENT_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Rules and Announcement Moderator":"INCOME_AND_EXPENSE_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Income and Expense Moderator":"ONE_TAB_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Tab Authority":"DATA_EXPORT_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Data Export Authority":"",onClick:s}),null===u||void 0===u?void 0:u.map((e=>{var t,n,l;return(0,g.jsxs)("div",{className:m.Z.application_card,style:{width:"100%",margin:"1rem 0 0"},children:[(0,g.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,g.jsxs)("section",{className:m.Z.application_card_text,children:[(0,g.jsx)("h6",{children:null!==(t=null===e||void 0===e?void 0:e.applicationName)&&void 0!==t?t:""}),(0,g.jsxs)("div",{className:m.Z.application_card_text_bottom,children:[(0,g.jsx)("p",{children:null!==(n=null===e||void 0===e||null===(l=e.applicationDepartment)||void 0===l?void 0:l.dName)&&void 0!==n?n:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,g.jsx)("p",{children:_()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id)})),"MULTI_APP_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)&&(0,g.jsxs)("button",{className:m.Z.select_application_btn,onClick:()=>l("SELECT_APPLICATION"),children:[(0,g.jsx)("div",{children:h("moderator_select_application")}),(0,g.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),(0,g.jsxs)("button",{className:m.Z.assign_btn,onClick:c,children:[h("update")," "]})]})]})})})};var j=n(87338);const S=e=>{var t;let{setActivePopup:n,setSelectedApplication:o,setSelectedApplicationId:c,selectedApplicationId:r,openAs:u,role:v,hid:h}=e;const{t:x}=(0,i.$G)(),[f,S]=(0,l.useState)(!0),[N,A]=(0,l.useState)(1),[y,b]=(0,a.YD)(),[C,Z]=(0,l.useState)([]),[E,I]=(0,l.useState)(!0),{getOngoingApplicationList:T,getOngoingApplicationListRefetch:P}=(0,j.Kj)({data:{hid:h,page:N,limit:10},skip:!h});(0,l.useEffect)((()=>{b&&f&&A((e=>e+1))}),[b,f]),(0,l.useEffect)((()=>{h&&(I(!0),P())}),[h,N,P]),(0,l.useEffect)((()=>{var e;null!==T&&void 0!==T&&T.ongoing&&(Z((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===T||void 0===T?void 0:T.ongoing])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),I(!1)),10===(null===T||void 0===T||null===(e=T.ongoing)||void 0===e?void 0:e.length)?S(!0):S(!1)}),[null===T||void 0===T?void 0:T.ongoing]);const w=()=>{n("EDIT"===u?"PREVIEW_FORM":"ASSIGN_ROLE")},R=e=>{null!==r&&void 0!==r&&r.includes(null===e||void 0===e?void 0:e._id)?(o((t=>null===t||void 0===t?void 0:t.filter((t=>(null===t||void 0===t?void 0:t._id)!==(null===e||void 0===e?void 0:e._id))))),c((t=>null===t||void 0===t?void 0:t.filter((t=>t!==(null===e||void 0===e?void 0:e._id)))))):(o((t=>t?[...t,e]:[e])),c((t=>t?[...t,null===e||void 0===e?void 0:e._id]:[null===e||void 0===e?void 0:e._id])))};return(0,g.jsx)(p.Z,{onClose:w,children:(0,g.jsxs)("div",{className:m.Z.assign_role_container,children:[(0,g.jsxs)("section",{className:m.Z.assign_role_title,style:{position:"relative"},children:[(0,g.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:w,alt:"back icon"}),(0,g.jsx)("h6",{children:x("assign_role_to_moderator")}),(0,g.jsxs)("button",{className:m.Z.select_btn,onClick:()=>{n("EDIT"===u?"PREVIEW_FORM":"ONE_TAB_ACCESS"===v?"ASSIGN_ROLE":"MODERATOR_PREWVIEW")},children:[null!==(t=null===r||void 0===r?void 0:r.length)&&void 0!==t?t:""," "," ",x("select")]})]}),(0,g.jsx)(d.Z,{customStyle:{width:"100%"}}),null===C||void 0===C?void 0:C.map(((e,t)=>{var n,l,i,a,o,s;return(null===C||void 0===C?void 0:C.length)===t+1?(0,g.jsxs)("div",{className:null!==r&&void 0!==r&&r.includes(null===e||void 0===e?void 0:e._id)?"".concat(m.Z.application_card," ").concat(m.Z.application_card_active):m.Z.application_card,ref:y,onClick:()=>R(e),children:[(0,g.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,g.jsxs)("section",{className:m.Z.application_card_text,children:[(0,g.jsx)("h6",{children:null!==(n=null===e||void 0===e?void 0:e.applicationName)&&void 0!==n?n:""}),(0,g.jsxs)("div",{className:m.Z.application_card_text_bottom,children:[(0,g.jsx)("p",{children:null!==(l=null===e||void 0===e||null===(i=e.applicationDepartment)||void 0===i?void 0:i.dName)&&void 0!==l?l:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,g.jsx)("p",{children:_()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id):(0,g.jsxs)("div",{className:null!==r&&void 0!==r&&r.includes(null===e||void 0===e?void 0:e._id)?"".concat(m.Z.application_card," ").concat(m.Z.application_card_active):m.Z.application_card,onClick:()=>R(e),children:[(0,g.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,g.jsxs)("section",{className:m.Z.application_card_text,children:[(0,g.jsx)("h6",{children:null!==(a=null===e||void 0===e?void 0:e.applicationName)&&void 0!==a?a:""}),(0,g.jsxs)("div",{className:m.Z.application_card_text_bottom,children:[(0,g.jsx)("p",{children:null!==(o=null===e||void 0===e||null===(s=e.applicationDepartment)||void 0===s?void 0:s.dName)&&void 0!==o?o:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,g.jsx)("p",{children:_()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id)})),E&&(0,g.jsx)(s.Z,{})]})})},N=e=>{var t,n;let{instituteId:a,hid:o,onClose:s,onRefetchWhenAdd:h,openModeratorMenu:_,openAs:N,onEdit:A}=e;const{t:y}=(0,i.$G)(),[b,C]=(0,l.useState)("EDIT"===N?"PREVIEW_FORM":"OPEN_STAFF_LIST"),[Z,E]=(0,l.useState)("EDIT"===N?null===_||void 0===_?void 0:_.access_staff:""),[I,T]=(0,l.useState)({mod_role:"EDIT"===N?null===_||void 0===_?void 0:_.access_role:"",sid:"EDIT"===N?null===_||void 0===_||null===(t=_.access_staff)||void 0===t?void 0:t._id:"",app_array:[],one_tab:""}),[P,w]=(0,l.useState)("EDIT"===N?null===_||void 0===_?void 0:_.access_application:[]),[R,k]=(0,l.useState)([]),[D]=(0,j.kE)();(0,l.useEffect)((()=>{if("EDIT"===N){var e;E(null===_||void 0===_?void 0:_.access_staff),w(null===_||void 0===_?void 0:_.access_application);let t=[];for(let e of null===_||void 0===_?void 0:_.access_application)t.push(null===e||void 0===e?void 0:e._id);k(t),T({mod_role:null===_||void 0===_?void 0:_.access_role,sid:null===_||void 0===_||null===(e=_.access_staff)||void 0===e?void 0:e._id,app_array:t}),C("PREVIEW_FORM")}}),[N]);const L=()=>{C("OPEN_STAFF_LIST")},M=e=>{T((t=>({...t,mod_role:"Fee receipt authority"===e?"ALL_FEE_ACCESS":"Application Manager"===e?"MULTI_APP_ACCESS":"Renewal Manager"===e?"RENEWAL_UNIT_ACCESS":"Deposit Moderator"===e?"DEPOSIT_ACCESS":"Pending Fee Manager"===e?"PENDING_FEE_ACCESS":"Complaint Moderator"===e?"COMPAINT_ACCESS":"Fee Structure Moderator"===e?"FEE_MASTER_ACCESS":"Rules and Announcement Moderator"===e?"RULES_AND_ANNOUNCEMENT_ACCESS":"Income and Expense Moderator"===e?"INCOME_AND_EXPENSE_ACCESS":"Tab Authority"===e?"ONE_TAB_ACCESS":"Data Export Authority"===e?"DATA_EXPORT_ACCESS":""})))},O=()=>{C("LOADING"),D({hid:o,active_tab:I.one_tab,addModerator:"MULTI_APP_ACCESS"===(null===I||void 0===I?void 0:I.mod_role)||"ONE_TAB_ACCESS"===(null===I||void 0===I?void 0:I.mod_role)?{mod_role:I.mod_role,sid:I.sid,app_array:R}:I}).then((()=>{h(),C(""),s()})).catch({})};return(0,g.jsxs)(g.Fragment,{children:["OPEN_STAFF_LIST"===b&&(0,g.jsx)(c.default,{assignHead:"OPEN_STAFF_LIST"===b,headSelect:e=>{E(e),T((t=>({...t,sid:null===e||void 0===e?void 0:e._id}))),C("EDIT"===N?"PREVIEW_FORM":"ASSIGN_ROLE")},title:y("staff_list"),onClose:s,instituteId:a,viewAs:"ADMISSION_ADMIN"}),"ASSIGN_ROLE"===b&&(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(p.Z,{onClose:L,children:(0,g.jsxs)("div",{className:m.Z.assign_role_container,children:[(0,g.jsxs)("section",{className:m.Z.assign_role_title,children:[(0,g.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:L,alt:"back icon"}),(0,g.jsx)("h6",{children:y("assign_role_to_moderator")})]}),(0,g.jsx)(d.Z,{customStyle:{width:"100%"}}),(0,g.jsxs)("section",{className:m.Z.selected_staff_container,children:[(0,g.jsx)("img",{src:null!==Z&&void 0!==Z&&Z.staffProfilePhoto?"".concat(v.yI,"/").concat(null===Z||void 0===Z?void 0:Z.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,g.jsxs)("div",{className:m.Z.selected_staff_text,children:[(0,g.jsx)("h6",{children:"".concat(null===Z||void 0===Z?void 0:Z.staffFirstName," ").concat(null!==(n=null===Z||void 0===Z?void 0:Z.staffMiddleName)&&void 0!==n?n:""," ").concat(null===Z||void 0===Z?void 0:Z.staffLastName)}),(0,g.jsxs)("p",{children:[y("index_number"),null===Z||void 0===Z?void 0:Z.staffROLLNO]})]})]}),(0,g.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,g.jsx)(r.Z,{selectLabel:y("select_role_of_moderator"),selectedValue:y("please_select_role"),options:["Fee receipt authority","Application Manager","Renewal Manager","Deposit Moderator","Pending Fee Manager","Complaint Moderator","Fee Structure Moderator","Rules and Announcement Moderator","Income and Expense Moderator","Tab Authority","Data Export Authority"],value:"ALL_FEE_ACCESS"===(null===I||void 0===I?void 0:I.mod_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===I||void 0===I?void 0:I.mod_role)?"Application Manager":"RENEWAL_UNIT_ACCESS"===(null===I||void 0===I?void 0:I.mod_role)?"Renewal Manager":"DEPOSIT_ACCESS"===(null===I||void 0===I?void 0:I.mod_role)?"Deposit Moderator":"COMPAINT_ACCESS"===(null===I||void 0===I?void 0:I.mod_role)?"Complaint Moderator":"PENDING_FEE_ACCESS"===(null===I||void 0===I?void 0:I.mod_role)?"Pending Fee Manager":"FEE_MASTER_ACCESS"===(null===I||void 0===I?void 0:I.mod_role)?"Fee Structure Moderator":"RULES_AND_ANNOUNCEMENT_ACCESS"===(null===I||void 0===I?void 0:I.mod_role)?"Rules and Announcement Moderator":"INCOME_AND_EXPENSE_ACCESS"===(null===I||void 0===I?void 0:I.mod_role)?"Income and Expense Moderator":"ONE_TAB_ACCESS"===(null===I||void 0===I?void 0:I.mod_role)?"Tab Authority":"DATA_EXPORT_ACCESS"===(null===I||void 0===I?void 0:I.mod_role)?"Data Export Authority":"",onClick:M}),"ONE_TAB_ACCESS"===I.mod_role&&(0,g.jsx)(r.Z,{selectLabel:y("select_tab_role"),selectedValue:y("please_select_role"),options:["Application","Selected","Confirmed","Allotted","Cancelled"],value:null===I||void 0===I?void 0:I.one_tab,onClick:e=>{T((t=>({...t,one_tab:e})))}}),"MULTI_APP_ACCESS"===I.mod_role?(0,g.jsxs)("button",{className:m.Z.select_application_btn,onClick:()=>C("SELECT_APPLICATION"),children:[(0,g.jsx)("div",{children:y("moderator_select_application")}),(0,g.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}):(0,g.jsxs)("button",{className:m.Z.assign_btn,onClick:O,children:[y("assign")," "]})]})]})})}),"SELECT_APPLICATION"===b&&(0,g.jsx)(S,{hid:o,setActivePopup:C,setSelectedApplication:w,selectedApplication:P,setSelectedApplicationId:k,selectedApplicationId:R,openAs:N,role:I.mod_role}),"MODERATOR_PREWVIEW"===b&&(0,g.jsx)(x,{setActivePopup:C,selectedApplication:P,selectedStaff:Z,moderatorState:I,onAssignModerator:O}),"PREVIEW_FORM"===b&&(0,g.jsx)(f,{onCloseEdit:()=>{s()},setActivePopup:C,selectedStaff:Z,moderatorState:I,onSelectRole:M,onUpdateModerator:()=>{A(I,R),s()},selectedApplication:P}),"LOADING"===b&&(0,g.jsx)(u.Z,{})]})};var A=n(12072),y=n(84489),b=n(87049);const C=e=>{let{onClose:t,hid:n,onRefetch:i,openModeratorMenu:a,instituteId:o}=e;const[s,d]=(0,l.useState)(!1),[c,r]=(0,l.useState)(!1),[v]=(0,j.UP)(),[p]=(0,j.DL)();return(0,g.jsx)(g.Fragment,{children:c?(0,g.jsx)(N,{onClose:()=>r(!1),hid:n,instituteId:o,onRefetch:i,openAs:"EDIT",openModeratorMenu:a,onEdit:(e,n)=>{d((e=>!e)),r(!1),p({modId:null===a||void 0===a?void 0:a._id,active_tab:null===e||void 0===e?void 0:e.one_tab,updateModerator:{role:null===e||void 0===e?void 0:e.mod_role,staffId:null===e||void 0===e?void 0:e.sid,app_array:"MULTI_APP_ACCESS"===(null===e||void 0===e?void 0:e.mod_role)||"MULTI_APP_ACCESS"===(null===e||void 0===e?void 0:e.mod_role)?n:[]}}).then((()=>{i(),d((e=>!e)),t()})).catch({})}}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(y.Z,{onClose:t}),(0,g.jsxs)(A.Z,{customStyle:{zIndex:"1200"},children:[(0,g.jsxs)("div",{className:b.Z.edit_modal_container,style:{width:"200px"},children:[(0,g.jsx)("h6",{className:b.Z.edit,onClick:()=>r((e=>!e)),children:"Edit"}),(0,g.jsx)("h6",{className:b.Z.remove,onClick:()=>{d((e=>!e)),v({hid:n,modId:null===a||void 0===a?void 0:a._id}).then((()=>{i(),t(),d((e=>!e))})).catch({})},children:"Delete"})]}),s&&(0,g.jsx)(u.Z,{})]})]})})},Z=e=>{var t,n,l,a,o,s,d,c,r,u,p;let{moderator:h,setOpenModeratorMenu:_}=e;const{t:x}=(0,i.$G)();return(0,g.jsxs)("div",{className:m.Z.moderator_card,children:[(0,g.jsx)("img",{src:null!==h&&void 0!==h&&null!==(t=h.access_staff)&&void 0!==t&&t.staffProfilePhoto?"".concat(v.yI,"/").concat(null===h||void 0===h||null===(n=h.access_staff)||void 0===n?void 0:n.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"moderator avatar"}),(0,g.jsxs)("section",{className:m.Z.moderator_card_text_container,children:[(0,g.jsx)("h6",{children:"".concat(null===h||void 0===h||null===(l=h.access_staff)||void 0===l?void 0:l.staffFirstName," ").concat(null!==(a=null===h||void 0===h||null===(o=h.access_staff)||void 0===o?void 0:o.staffMiddleName)&&void 0!==a?a:""," ").concat(null===h||void 0===h||null===(s=h.access_staff)||void 0===s?void 0:s.staffLastName)}),(0,g.jsxs)("p",{children:[x("index_number"),null===h||void 0===h||null===(d=h.access_staff)||void 0===d?void 0:d.staffROLLNO]}),(0,g.jsx)("p",{children:"ALL_FEE_ACCESS"===(null===h||void 0===h?void 0:h.access_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===h||void 0===h?void 0:h.access_role)?"Application Manager":"RENEWAL_UNIT_ACCESS"===(null===h||void 0===h?void 0:h.access_role)?"Renewal Manager":"DEPOSIT_ACCESS"===(null===h||void 0===h?void 0:h.access_role)?"Deposit Moderator":"PENDING_FEE_ACCESS"===(null===h||void 0===h?void 0:h.access_role)?"Pending Fee Manager":"COMPAINT_ACCESS"===(null===h||void 0===h?void 0:h.access_role)?"Complaint Moderator":"FEE_MASTER_ACCESS"===(null===h||void 0===h?void 0:h.access_role)?"Fee Structure Moderator":"RULES_AND_ANNOUNCEMENT_ACCESS"===(null===h||void 0===h?void 0:h.access_role)?"Rules and Announcement Moderator":"INCOME_AND_EXPENSE_ACCESS"===(null===h||void 0===h?void 0:h.access_role)?"Income and Expense Moderator":"ONE_TAB_ACCESS"===(null===h||void 0===h?void 0:h.access_role)?"Application"===(null===h||void 0===h||null===(c=h.active_tab)||void 0===c?void 0:c.role)?"Hostel Application Tab":"Selected"===(null===h||void 0===h||null===(r=h.active_tab)||void 0===r?void 0:r.role)?"Hostel Selected Tab":"Confirmed"===(null===h||void 0===h||null===(u=h.active_tab)||void 0===u?void 0:u.role)?"Hostel Confirmed Tab":"Allotted"===(null===h||void 0===h||null===(p=h.active_tab)||void 0===p?void 0:p.role)?"Hostel Allotted Tab":"Hostel Cancelled Tab":"DATA_EXPORT_ACCESS"===(null===h||void 0===h?void 0:h.access_role)?"Data Export Authority":""})]}),(0,g.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:()=>_(h),className:m.Z.menu_icon,title:"Menu"})]})},E=e=>{let{instituteId:t,hid:n}=e;const{t:c}=(0,i.$G)(),r=(0,o.s0)(),[u,v]=(0,l.useState)(!1),[p,h]=(0,l.useState)(""),[_,x]=(0,a.YD)(),[f,S]=(0,l.useState)(1),[A,y]=(0,l.useState)(!0),[b,E]=(0,l.useState)(!1),[I,T]=(0,l.useState)(!0),[P,w]=(0,l.useState)([]),{getModeratorByHostel:R,getModeratorByHostelRefetch:k}=(0,j.CB)({data:{hid:n,page:f,limit:10},skip:!n});(0,l.useEffect)((()=>{n&&(T(!0),k())}),[n,f,k]),(0,l.useEffect)((()=>{x&&A&&S((e=>e+1))}),[x,A]),(0,l.useEffect)((()=>{var e,t;b?(w(null===R||void 0===R?void 0:R.all_mods),E(!1),T(!1)):null!==R&&void 0!==R&&R.all_mods?(w((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===R||void 0===R?void 0:R.all_mods])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),T(!1)):0===(null===R||void 0===R||null===(t=R.all_mods)||void 0===t?void 0:t.length)&&T(!1);10===(null===R||void 0===R||null===(e=R.all_mods)||void 0===e?void 0:e.length)?y(!0):y(!1)}),[null===R||void 0===R?void 0:R.all_mods]);const D=()=>{E(!0),S(1),T(!0),k()};return(0,g.jsxs)("div",{className:m.Z.moderator_container,style:{marginTop:"0"},children:[(0,g.jsxs)("section",{className:m.Z.moderator_container_title,children:[(0,g.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{r(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,g.jsx)("h6",{children:c("hostel_moderators")})]}),(0,g.jsx)(d.Z,{customStyle:{width:"100%"}}),(0,g.jsx)("h6",{className:m.Z.add_new_moderator,onClick:()=>v(!0),children:c("add_new_moderator")}),(0,g.jsxs)("div",{className:m.Z.refund_list,children:[null===P||void 0===P?void 0:P.map(((e,t)=>(null===P||void 0===P?void 0:P.length)===t+1?(0,g.jsx)("div",{ref:_,children:(0,g.jsx)(Z,{moderator:e,setOpenModeratorMenu:h})},null===e||void 0===e?void 0:e._id):(0,g.jsx)(Z,{moderator:e,setOpenModeratorMenu:h},null===e||void 0===e?void 0:e._id))),u&&(0,g.jsx)(N,{onClose:()=>v((e=>!e)),instituteId:t,hid:n,onRefetchWhenAdd:D}),p&&(0,g.jsx)(C,{hid:n,instituteId:t,onRefetch:D,onClose:()=>h(""),openModeratorMenu:p}),I&&(0,g.jsx)(s.Z,{})]})]})}},1999:(e,t,n)=>{n.d(t,{Z:()=>l});const l={newPost:"NewAnnouncement_newPost__P0MSs",header:"NewAnnouncement_header__4FgoM",imgContainer:"NewAnnouncement_imgContainer__D-zZj",title:"NewAnnouncement_title__XZ99r",public:"NewAnnouncement_public__gr79X",privacyIcon:"NewAnnouncement_privacyIcon__pt718",select:"NewAnnouncement_select__viS+M",arrow:"NewAnnouncement_arrow__OBDH8",arrowIcon:"NewAnnouncement_arrowIcon__hAUsH",hr:"NewAnnouncement_hr__+nmR6",userName:"NewAnnouncement_userName__h9vNW",postTitle:"NewAnnouncement_postTitle__d5Uhn",postDesc:"NewAnnouncement_postDesc__rQu4i",postTextarea:"NewAnnouncement_postTextarea__6oAWU",hashTag:"NewAnnouncement_hashTag__GkP-m",btn:"NewAnnouncement_btn__WWbXt",upload:"NewAnnouncement_upload__U-vJ+",Container:"NewAnnouncement_Container__KAel7",selectedImg:"NewAnnouncement_selectedImg__UJO5z",addfiles:"NewAnnouncement_addfiles__u79vd",iconsContainer:"NewAnnouncement_iconsContainer__1h40Z",icons:"NewAnnouncement_icons__F82H4",tille:"NewAnnouncement_tille__8AF0K",description:"NewAnnouncement_description__Y-v3j",afterbtn:"NewAnnouncement_afterbtn__vZuPx",hashtag:"NewAnnouncement_hashtag__0v8Yo",listContainer:"NewAnnouncement_listContainer__1Tder",documentList:"NewAnnouncement_documentList__Da5La",pdfList:"NewAnnouncement_pdfList__lbuZn",pdfPreview:"NewAnnouncement_pdfPreview__yRLt2",border2:"NewAnnouncement_border2__b0wJ6",border1:"NewAnnouncement_border1__vzr9R",border3:"NewAnnouncement_border3__mH2cK",border4:"NewAnnouncement_border4__oF8nk",mainbody:"NewAnnouncement_mainbody__sq6d+"}}}]);
//# sourceMappingURL=93649.5c21e46f.chunk.js.map