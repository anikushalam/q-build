"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[5075,49806,86406],{93339:(e,t,i)=>{i.d(t,{nt:()=>U,jx:()=>N,gJ:()=>A,EI:()=>S,jU:()=>k,tm:()=>q,DL:()=>M,qd:()=>I,T5:()=>B});var a=i(2030),l=i(94811);const n=e=>e.query({query:e=>{var t;return"/v1/department/tab/manage/".concat(null===e||void 0===e?void 0:e.did,"/query?flow=").concat(null!==(t=null===e||void 0===e?void 0:e.flow)&&void 0!==t?t:"")},providesTags:["Tab_Manage"],serializeQueryArgs:e=>{let{endpointName:t}=e;return t},forceRefetch(e){let{currentArg:t,previousArg:i}=e;return t!==i}}),s=e=>e.mutation({query:e=>({url:"/v1/department/tab/manage/".concat(null===e||void 0===e?void 0:e.did,"/query"),method:l.Q0,body:e.tabManage}),invalidatesTags:["Tab_Manage"]}),r=e=>e.mutation({query:e=>({url:"/v1/attendance/department/".concat(e.did,"/holiday"),method:l.a4,body:e.holiday})}),o=e=>e.query({query:e=>"/v1/attendance/holiday/".concat(null===e||void 0===e?void 0:e.did,"?page=").concat(null===e||void 0===e?void 0:e.page,"&limit=").concat(null===e||void 0===e?void 0:e.limit),serializeQueryArgs:e=>{let{endpointName:t}=e;return t},transformResponse:(e,t,i)=>{var a,l;return null!==i&&void 0!==i&&i.search?{search:!0,list:null===e||void 0===e||null===(a=e.depart)||void 0===a?void 0:a.holiday}:{page:null===i||void 0===i?void 0:i.page,list:null===e||void 0===e||null===(l=e.depart)||void 0===l?void 0:l.holiday}},merge:(e,t)=>{var i;return null!==t&&void 0!==t&&t.search||1===(null===t||void 0===t?void 0:t.page)?t:void(null===e||void 0===e||null===(i=e.list)||void 0===i||i.push(...null===t||void 0===t?void 0:t.list))},forceRefetch(e){let{currentArg:t,previousArg:i}=e;return t!==i}}),d=e=>e.mutation({query:e=>({url:"/v1/attendance/holiday/".concat(e.hid,"/delete"),method:l.yY})}),c=e=>e.mutation({query:e=>({url:"/v2/ins/".concat(e.id,"/new/universal/batch/query"),method:l.Q0,body:e.bodyParameter})}),u=e=>e.query({query:e=>"/v2/ins/".concat(null===e||void 0===e?void 0:e.id,"/all/universal/batch/query?page=").concat(null===e||void 0===e?void 0:e.page,"&limit=").concat(null===e||void 0===e?void 0:e.limit,"&$search=").concat(e.search),serializeQueryArgs:e=>{let{endpointName:t}=e;return t},transformResponse:(e,t,i)=>null!==i&&void 0!==i&&i.search?{search:!0,list:null===e||void 0===e?void 0:e.all_batch}:{page:null===i||void 0===i?void 0:i.page,list:null===e||void 0===e?void 0:e.all_batch},merge:(e,t)=>{var i;return null!==t&&void 0!==t&&t.search||1===(null===t||void 0===t?void 0:t.page)?t:void(null===e||void 0===e||null===(i=e.list)||void 0===i||i.push(...null===t||void 0===t?void 0:t.list))},forceRefetch(e){let{currentArg:t,previousArg:i}=e;return t!==i}}),v=e=>e.mutation({query:e=>({url:"/v2/ins/".concat(e.id,"/select/universal/batch/query"),method:l.Q0,body:e.bodyParameter})}),h=e=>e.mutation({query:e=>({url:"/v2/ins/".concat(e.bid,"/link/universal/batch/query"),method:l.Q0,body:e.bodyParameter})}),m=a.z.injectEndpoints({endpoints:e=>({departmentTabManage:n(e),departmentTabController:s(e),departmentCreatedHoliday:r(e),departmentAllHoliday:o(e),departmentDeleteHoliday:d(e),instituteAddUniversalBatch:c(e),instituteAllUniversalBatch:u(e),instituteSelectUniversalBatch:v(e),instituteLinkUniversalBatch:h(e)})}),{useDepartmentTabManageQuery:_,useDepartmentTabControllerMutation:g,useDepartmentCreatedHolidayMutation:p,useDepartmentAllHolidayQuery:x,useDepartmentDeleteHolidayMutation:f,useInstituteAddUniversalBatchMutation:y,useInstituteAllUniversalBatchQuery:b,useInstituteSelectUniversalBatchMutation:j,useInstituteLinkUniversalBatchMutation:Z}=m,k=e=>{const{data:t,refetch:i,isFetching:a}=_(e.data,{skip:e.skip});return{departmentTabManage:t,departmentTabManageRefetch:i,departmentTabManageLoading:a}},S=()=>{const[e]=g();return[e]},N=()=>{const[e]=p();return[e]},U=e=>{const{data:t,refetch:i,isFetching:a}=x(e.data,{skip:e.skip});return{departmentAllHoliday:t,departmentAllHolidayRefetch:i,departmentAllHolidayLoading:a}},A=()=>{const[e]=f();return[e]},q=()=>{const[e]=y();return[e]},M=e=>{const{data:t,refetch:i,isFetching:a}=b(e.data,{skip:e.skip});return{instituteAllUniversalBatch:t,instituteAllUniversalBatchRefetch:i,instituteAllUniversalBatchLoading:a}},B=()=>{const[e]=j();return[e]},I=()=>{const[e]=Z();return[e]}},63162:(e,t,i)=>{i.d(t,{Z:()=>d});var a=i(39230),l=i(51416),n=i(43504),s=i(72791),r=i(80184);const o=e=>{let{tab:t,isActive:i,isLink:s,parentState:o,onAction:d,url:c,extraData:u,customStyle:v}=e;const{t:h}=(0,a.$G)();return s?(0,r.jsx)(n.rU,{className:i?l.Z.horizontal_tab_card_active:l.Z.horizontal_tab_card,to:c,state:o,style:v,children:(0,r.jsxs)("h6",{children:[h(null===t||void 0===t?void 0:t.label),(null===u||void 0===u?void 0:u.count)>=0?"(".concat(null===u||void 0===u?void 0:u.count,")"):""]})}):(0,r.jsx)("div",{className:i?l.Z.horizontal_tab_card_active:l.Z.horizontal_tab_card,onClick:()=>{d(null===t||void 0===t?void 0:t.id)},children:(0,r.jsx)("h6",{children:h(null===t||void 0===t?void 0:t.label)})})},d=(0,s.memo)(o)},98967:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(51416),l=i(80184);const n=e=>{let{customWrapperStyle:t,children:i}=e;return(0,l.jsx)("div",{className:a.Z.horizontal_tab_wrapper,style:t,children:i})}},5075:(e,t,i)=>{i.r(t),i.d(t,{default:()=>B});var a=i(16871),l=i(43504),n=i(98684),s=i(90904),r=i(63162),o=i(98967),d=i(63687),c=i(21348),u=i(72791),v=i(56959),h=i(39230),m=i(1095),_=i(97892),g=i.n(_),p=i(82824),x=i(72888),f=i(80184);const y=e=>{var t,i;let{excel:a,bankId:l,onRefetch:s}=e;const[r,o]=(0,u.useState)("");return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("a",{className:x.Z.export_card,title:"Download File",href:"".concat(m.LS,"/").concat(null===a||void 0===a?void 0:a.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,f.jsx)("img",{src:"".concat(n.J7,"/xsxl.svg"),className:x.Z.export_card_image,alt:"excel icon"}),(0,f.jsxs)("section",{className:x.Z.export_card_text,children:[(0,f.jsx)("h6",{children:null!==(t=null===a||void 0===a?void 0:a.excel_file_name)&&void 0!==t?t:""}),(0,f.jsxs)("div",{className:x.Z.export_card_date,children:[(0,f.jsx)("h6",{children:null!==(i=null===a||void 0===a?void 0:a.batch)&&void 0!==i?i:""}),(0,f.jsxs)("h6",{children:[g()(null===a||void 0===a?void 0:a.created_at).format("DD MMM YYYY"),","," ",(0,p.J)(null===a||void 0===a?void 0:a.created_at,"LT")]})]})]})]},null===a||void 0===a?void 0:a._id)})};var b=i(23441),j=i(91427),Z=i(55336),k=i(1669),S=i(2651),N=i(62209),U=i(93638),A=i(43317);const q=e=>{var t,i,a;let{aid:l,instituteId:r}=e;const{t:o}=(0,h.$G)(),[d,m]=(0,u.useState)(""),[_,g]=(0,u.useState)(""),[p,x]=(0,u.useState)(1),[q,M]=(0,u.useState)(!0),[B,I]=(0,b.YD)({skip:d}),[C,T]=(0,u.useState)(""),[L,R]=(0,u.useState)(!1),[w]=(0,A.c4)(),{admissionIntakeRecordList:D,admissionIntakeRecordListLoading:P,admissionIntakeRecordListRefetch:F}=(0,A.Ln)({data:{aid:l,page:p,limit:10,search:d},skip:!l});(0,u.useEffect)((()=>{I&&q&&x((e=>e+1))}),[I,q]),(0,u.useEffect)((()=>{var e;if(null!==D&&void 0!==D&&null!==(e=D.list)&&void 0!==e&&e.length){var t;let e=(0,j.f)(null===D||void 0===D||null===(t=D.list)||void 0===t?void 0:t.length);M((()=>e))}}),[null===D||void 0===D?void 0:D.list]);const H=()=>{x((()=>1)),F()};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.Z,{customStyle:{padding:"0"},children:(0,f.jsxs)("div",{className:v.Z.fm_search_full,children:[(0,f.jsx)("section",{className:v.Z.fm_search_full_container,children:(0,f.jsxs)("div",{className:v.Z.fm_search_full_container_inner,children:[(0,f.jsx)("img",{className:v.Z.fm_search_full_icon,alt:"search icon",src:"".concat(n.dB,"/navbar-search.svg")}),(0,f.jsx)("input",{type:"text",placeholder:o("search"),onChange:e=>{var t;!P&&(null===D||void 0===D||null===(t=D.list)||void 0===t?void 0:t.length)>=0&&g(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(x((()=>1)),m(_))},value:_})]})}),(0,f.jsx)(U.Z,{label:"export",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:()=>T(1)})]})}),(0,f.jsx)(s.Z,{}),null===D||void 0===D||null===(t=D.list)||void 0===t?void 0:t.map(((e,t)=>{var i;return(null===D||void 0===D||null===(i=D.list)||void 0===i?void 0:i.length)===t+1?(0,f.jsx)("div",{ref:B,children:(0,f.jsx)(y,{excel:e,aid:l,onRefetch:H})},null===e||void 0===e?void 0:e._id):(0,f.jsx)(y,{excel:e,aid:l,onRefetch:H},null===e||void 0===e?void 0:e._id)})),P?d?(0,f.jsx)(Z.Z,{}):(0,f.jsx)(k.Z,{}):d?0===(null===D||void 0===D||null===(i=D.list)||void 0===i?void 0:i.length)&&(0,f.jsx)(S.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No intake records found related this search."}):0===(null===D||void 0===D||null===(a=D.list)||void 0===a?void 0:a.length)&&(0,f.jsx)(S.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No intake records added."}),1===C?(0,f.jsx)(N.Z,{onSelectStaff:e=>{null!==e&&void 0!==e&&e._id&&l&&(R((e=>!e)),w({aid:l,bodyParameter:{bid:null===e||void 0===e?void 0:e._id}}).then((()=>{T(""),R((e=>!e))})).catch({}))},onClose:()=>{T("")},instituteId:r}):null,L&&(0,f.jsx)(Z.Z,{})]})},M=(0,u.lazy)((()=>Promise.all([i.e(6758),i.e(84395),i.e(66866)]).then(i.bind(i,84395)))),B=e=>{let{aid:t,instituteId:i,financeId:m}=e;const{t:_}=(0,h.$G)(),g=(0,a.TH)(),p=(0,a.UO)(),x=(0,a.s0)(),[y]=(0,l.lr)(),b=(0,u.useCallback)((()=>{var e;let t="";t="Institute"===(null===(e=g.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(p.username,"/institute/member/admission"):"/q/".concat(p.username,"/member/staff/admission"),x(t,{state:g.state})}),[x,g.state,p.username]);return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(d.default,{children:[(0,f.jsx)(c.Z,{children:(0,f.jsx)("div",{className:v.Z.fm_header_container,children:(0,f.jsxs)("div",{className:v.Z.fm_header_start_container,style:{gap:"0.2rem"},children:[(0,f.jsx)("img",{alt:"search icon",src:"".concat(n.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:b}),(0,f.jsx)("h6",{children:_("admission_statitics")})]})})}),(0,f.jsx)(s.Z,{}),(0,f.jsx)(o.Z,{children:I.map((e=>{var t,i;return(0,f.jsx)(r.Z,{tab:e,isLink:!0,isActive:null===(t=e.groupIs)||void 0===t?void 0:t.includes(y.get("n")),parentState:g.state,url:"Institute"===(null===(i=g.state)||void 0===i?void 0:i.urlOffSet)?"/q/".concat(p.username,"/institute/member/admission?type=statistics").concat(e.urlKey):"/q/".concat(p.username,"/member/staff/admission?type=statistics").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,f.jsx)(s.Z,{customStyleBorder:{marginTop:"0"}}),(0,f.jsx)(c.Z,{customStyle:{paddingTop:"0.2rem"},children:"student-statistics"===y.get("n")?(0,f.jsx)(M,{fid:m}):(0,f.jsx)(q,{aid:t,instituteId:i})})]})})},I=[{label:"intake_record",id:"intake_record",urlKey:"",groupIs:["",null]},{label:"student_statistics",id:"student-statistics",urlKey:"&n=student-statistics",groupIs:["student-statistics"]}]},62209:(e,t,i)=>{i.d(t,{Z:()=>y});var a=i(49806),l=i(38857),n=i(21348),s=i(90904),r=i(98684),o=i(39230),d=i(72791),c=i(23441),u=i(91427),v=i(57588),h=i(80184);const m=e=>{var t,i;let{cls:l,selectedId:n,onSelect:s,selectList:o,isMultiSelect:d,onMultiSelect:c}=e;return(0,h.jsx)(h.Fragment,{children:d?(0,h.jsxs)("div",{className:a.Z.assign_show_list_each,onClick:()=>{c(l)},style:{border:"0.5px solid #cacaca",marginBlock:"0.4rem",borderRadius:"6px",padding:"0.8rem 1rem"},children:[null!==o&&void 0!==o&&o.includes(null===l||void 0===l?void 0:l._id)?(0,h.jsx)("img",{src:"".concat(r.U_,"/check.svg"),alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,h.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"".concat(r.U_,"/uncheck.svg"),alt:"icon"}),(0,h.jsx)("div",{className:a.Z.assign_each_paragraph,children:(0,h.jsx)("h6",{children:null!==(t=null===l||void 0===l?void 0:l.batchName)&&void 0!==t?t:""})})]}):(0,h.jsx)("div",{className:a.Z.assign_show_list_each,style:n===(null===l||void 0===l?void 0:l._id)?{backgroundColor:"rgba(75, 26, 133, 0.1)",border:"0.5px solid #cacaca",marginBlock:"0.4rem",borderRadius:"6px",padding:"0.8rem 1rem"}:{border:"0.5px solid #cacaca",marginBlock:"0.4rem",borderRadius:"6px",padding:"0.8rem 1rem"},onClick:()=>{s(l)},children:(0,h.jsx)("div",{className:a.Z.assign_each_paragraph,children:(0,h.jsx)("h6",{children:null!==(i=null===l||void 0===l?void 0:l.batchName)&&void 0!==i?i:""})})})})};var _=i(55336),g=i(1669),p=i(2651),x=i(93638),f=i(93339);const y=e=>{var t,i,y,b;let{title:j,onClose:Z,selectedId:k,onSelectStaff:S,instituteId:N,isMultiSelect:U,onMultiSelect:A,selectList:q,onDone:M}=e;const{t:B}=(0,o.$G)(),[I,C]=(0,d.useState)(""),[T,L]=(0,d.useState)(1),[R,w]=(0,d.useState)(!0),[D,P]=(0,c.YD)({skip:I}),{instituteAllUniversalBatch:F,instituteAllUniversalBatchLoading:H}=(0,f.DL)({data:{id:N,page:T,limit:10,search:I},skip:!N});(0,d.useEffect)((()=>{P&&R&&L((e=>e+1))}),[P,R]),(0,d.useEffect)((()=>{var e;if(null!==F&&void 0!==F&&null!==(e=F.list)&&void 0!==e&&e.length){var t;let e=(0,u.f)(null===F||void 0===F||null===(t=F.list)||void 0===t?void 0:t.length);w((()=>e))}}),[null===F||void 0===F||null===(t=F.list)||void 0===t?void 0:t.length]);const z=(0,d.useCallback)((0,v.J)((e=>{L((()=>1)),C(e)}),1500),[]),Q=e=>{k===(null===e||void 0===e?void 0:e._id)||S(e)};return(0,h.jsx)(l.Z,{onClose:Z,children:(0,h.jsxs)("div",{className:a.Z.modal_container,children:[(0,h.jsx)(n.Z,{children:(0,h.jsxs)("div",{className:a.Z.modal_container_outer_header,children:[(0,h.jsx)("div",{className:a.Z.modal_container_header,children:(0,h.jsx)("h6",{children:B(null!==j&&void 0!==j?j:"select_universal_batch")})}),(0,h.jsxs)("div",{className:a.Z.modal_container_btn_container,children:[U&&(0,h.jsx)(x.Z,{label:B("select"),count:null===q||void 0===q?void 0:q.length,onAction:M,customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,h.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:Z})]})]})}),(0,h.jsx)(s.Z,{}),(0,h.jsxs)(n.Z,{customStyle:{paddingBottom:"1rem"},children:[(0,h.jsxs)("div",{className:a.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,h.jsx)("input",{type:"text",placeholder:B("search"),className:a.Z.assign_search_input,onChange:e=>{e.target.value?z(e.target.value):(L((()=>1)),C(""))},style:{width:"100%"}}),(0,h.jsx)("img",{src:"".concat(r.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===F||void 0===F||null===(i=F.list)||void 0===i?void 0:i.map(((e,t)=>{var i;return(null===F||void 0===F||null===(i=F.list)||void 0===i?void 0:i.length)===t+1?(0,h.jsx)("div",{ref:D,children:(0,h.jsx)(m,{cls:e,selectedId:k,onSelect:Q,selectList:q,isMultiSelect:U,onMultiSelect:A})},null===e||void 0===e?void 0:e._id):(0,h.jsx)(m,{cls:e,selectedId:k,onSelect:Q,selectList:q,isMultiSelect:U,onMultiSelect:A},null===e||void 0===e?void 0:e._id)})),H?I?(0,h.jsx)(_.Z,{}):(0,h.jsx)(g.Z,{}):I?0===(null===F||void 0===F||null===(y=F.list)||void 0===y?void 0:y.length)&&(0,h.jsx)(p.Z,{title:"No class found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===F||void 0===F||null===(b=F.list)||void 0===b?void 0:b.length)&&(0,h.jsx)(p.Z,{title:"No class.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})}},57588:(e,t,i)=>{i.d(t,{J:()=>a});const a=(e,t)=>{let i;return function(){let a=this,l=arguments;clearTimeout(i),i=setTimeout((()=>{e.apply(a,l)}),t)}}},49806:(e,t,i)=>{i.d(t,{Z:()=>a});const a={modal_container:"PlateformUser_modal_container__tqwpY",modal_container_outer_header:"PlateformUser_modal_container_outer_header__HbF+9",modal_container_header:"PlateformUser_modal_container_header__QzyxM",modal_container_btn_container:"PlateformUser_modal_container_btn_container__3SJ8i",modal_container_header_btn:"PlateformUser_modal_container_header_btn__dWfwA",assign_search_container:"PlateformUser_assign_search_container__dJdYj",assign_search_input:"PlateformUser_assign_search_input__aFF28",assign_show_list_each:"PlateformUser_assign_show_list_each__co2b1",assign_show_list_each_active:"PlateformUser_assign_show_list_each_active__SWwFS",assign_each_paragraph:"PlateformUser_assign_each_paragraph__bDgq6",close_icon:"PlateformUser_close_icon__VXKXH",comfirm_box:"PlateformUser_comfirm_box__ntFD7",modal_container_btn:"PlateformUser_modal_container_btn__BWFB9"}}}]);
//# sourceMappingURL=5075.ef8fe1f5.chunk.js.map