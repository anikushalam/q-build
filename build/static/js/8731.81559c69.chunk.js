"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[8731],{38668:function(e,a,t){t.d(a,{O_:function(){return i},Uo:function(){return n},bA:function(){return c}});var n=[{key:"Yes",name:"yes"},{key:"No",name:"no"}],i=[{key:!0,name:"yes"},{key:!1,name:"no"}],c=[{name:"all",key:"All Leave",isAvaiable:!0},{name:"casual_leave",key:"Casual Leave",isAvaiable:!0,count:0,isActive:"casual_leave"},{name:"medical_leave",key:"Medical Leave",isAvaiable:!0,count:0,isActive:"medical_leave"},{name:"sick_leave",key:"Sick Leave",isAvaiable:!0,count:0,isActive:"sick_leave"},{name:"compensation_off_leave",key:"Compensation Off Leave",isAvaiable:!0,count:0,isActive:"c_off_leave"},{name:"on_duty_leave",key:"On Duty Leave",isAvaiable:!0,count:0,isActive:"off_duty_leave"},{name:"leave_without_pay",key:"Leave Without Pay",isAvaiable:!0,count:0,isActive:"lwp_leave"},{name:"commuted_leave",key:"Commuted Leave",isAvaiable:!0,count:0,isActive:"commuted_leave"},{name:"maternity_leave",key:"Maternity Leave",isAvaiable:!0,count:0,isActive:"maternity_leave"},{name:"paternity_leave",key:"Paternity Leave",isAvaiable:!0,count:0,isActive:"paternity_leave"},{name:"quarantine_leave",key:"Quarantine Leave",isAvaiable:!0,count:0,isActive:"quarantine_leave"},{name:"half_pay_leave",key:"Half Pay Leave",isAvaiable:!0,count:0,isActive:"half_pay_leave"},{name:"study_leave",key:"Study Leave",isAvaiable:!0,count:0,isActive:"study_leave"},{name:"sabbatical_leave",key:"Sabbatical Leave",isAvaiable:!0,count:0,isActive:"sabbatical_leave"},{name:"special_disability_leave",key:"Special Disability Leave",isAvaiable:!0,count:0,isActive:"special_disability_leave"},{name:"winter_vacation_leave",key:"Winter Vacation Leave",isAvaiable:!0,count:0,isActive:"winter_vacation_leave"},{name:"summer_vacation_leave",key:"Summer Vacation Leave",isAvaiable:!0,count:0,isActive:"summer_vacation_leave"},{name:"child_adoption_leave",key:"Child Adoption Leave",isAvaiable:!0,count:0,isActive:"child_adoption_leave"},{name:"bereavement_leave",key:"Bereavement Leave",isAvaiable:!0,count:0,isActive:"bereavement_leave"}]},2350:function(e,a,t){var n=t(51416),i=t(80184);a.Z=function(e){var a=e.tile,t=e.onTile,c=e.activeTile,l=e.customTileChild,o=e.isLeaveCreate,r=e.children;return(0,i.jsx)("div",{className:(null===a||void 0===a?void 0:a.key)===c?n.Z.tile_tile_active:n.Z.tile_tile,onClick:function(){return t(o?a:null===a||void 0===a?void 0:a.key)},style:l,children:r})}},20659:function(e,a,t){var n=t(51416),i=t(39230),c=t(80184);a.Z=function(e){var a=e.label,t=e.customTileLabel,l=e.customTileContainer,o=e.customTileStyle,r=e.children,s=(0,i.$G)().t;return(0,c.jsxs)("div",{className:n.Z.tile_container,style:o,children:[a&&(0,c.jsx)("h6",{className:n.Z.tile_label,style:t,children:s(a)}),(0,c.jsx)("section",{className:n.Z.tile_tile_container,style:l,children:r})]})}},48731:function(e,a,t){t.r(a),t.d(a,{default:function(){return U}});var n=t(4942),i=t(1413),c=t(29439),l=t(72791),o=t(39230),r=t(84959),s=t(38668),u=t(93433),_=t(36665),d=t(33399),v=t(98094),m=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],h=["January","February","March","April","May","June","July","August","September","October","November","December"],g=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,t=new Date,n="".concat(t.getDate(),"-").concat(t.getMonth()+1,"-").concat(t.getFullYear()),i=[1,2,3,4,5,6,0],o=(0,l.useState)(t),r=(0,c.Z)(o,2),s=r[0],_=r[1],d=new Date(s.getFullYear(),s.getMonth()+1,0),v=new Date(s.getFullYear(),s.getMonth(),0),g=d.getDate(),f=new Date(s.getFullYear(),s.getMonth(),1).getDay(),y=i.indexOf(f)+1,b=v.getDate()-i.indexOf(f)+1,p=1,x=1,j={},Z=1;Z<7;Z++)for(var k=1;k<8;k++)j[Z]||(j[Z]=[]),1===Z?k<y?(j[Z]=[].concat((0,u.Z)(j[Z]),[{classes:"in-prev-month",date:"".concat(b,"-").concat(0===s.getMonth()?12:s.getMonth(),"-").concat(0===s.getMonth()?s.getFullYear()-1:s.getFullYear()),value:b}]),b++):(j[Z]=[].concat((0,u.Z)(j[Z]),[{classes:"",date:"".concat(p,"-").concat(s.getMonth()+1,"-").concat(s.getFullYear()),value:p}]),p++):Z>1&&p<g+1?(j[Z]=[].concat((0,u.Z)(j[Z]),[{classes:"",date:"".concat(p,"-").concat(s.getMonth()+1,"-").concat(s.getFullYear()),value:p}]),p++):(j[Z]=[].concat((0,u.Z)(j[Z]),[{classes:"in-next-month",date:"".concat(x,"-").concat(s.getMonth()+2===13?1:s.getMonth()+2,"-").concat(s.getMonth()+2===13?s.getFullYear()+1:s.getFullYear()),value:x}]),x++);return{daysShort:e,monthNames:a,todayFormatted:n,calendarRows:j,selectedDate:s,getPrevMonth:function(){_((function(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}))},getNextMonth:function(){_((function(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}))}}},f=t(80184),y=function(e){var a=e.dateSelected,t=(e.setSelectedDate,e.removeDateArray),n=e.addDateArray,i=g(),o=i.calendarRows,r=i.selectedDate,s=i.todayFormatted,_=i.daysShort,d=i.monthNames,v=i.getNextMonth,m=i.getPrevMonth,h=(0,l.useState)([]),y=(0,c.Z)(h,2),b=(y[0],y[1]),p=function(e){if(a.length>0&&a.includes(e)){var i=a.filter((function(a){return a!==e}));t(i),b(i)}else n(e),b((function(a){return[].concat((0,u.Z)(a),[e])}))};return(0,f.jsxs)(l.Fragment,{children:[(0,f.jsxs)("div",{className:"calenderheader",children:[(0,f.jsx)("div",{className:"monthbtn",onClick:m,children:(0,f.jsx)("img",{alt:"not found",src:"/images/members/arrow-left.svg"})}),(0,f.jsxs)("div",{className:"yearmonth",children:[(0,f.jsx)("h6",{children:"".concat(d[r.getMonth()])}),(0,f.jsx)("p",{children:"".concat(r.getFullYear())})]}),(0,f.jsx)("div",{className:"monthbtn",onClick:v,children:(0,f.jsx)("img",{alt:"not found",src:"/images/members/arrow-right.svg"})})]}),(0,f.jsxs)("table",{className:"table",children:[(0,f.jsx)("thead",{children:(0,f.jsx)("tr",{children:_.map((function(e){return(0,f.jsx)("th",{className:"day",children:e},e)}))})}),(0,f.jsx)("tbody",{children:Object.values(o).map((function(e){return(0,f.jsx)("tr",{children:e.map((function(e){return e.date===s?(0,f.jsx)("td",{className:"".concat(e.classes," date"),onClick:function(){return p("".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(r.getMonth()+1<10?"0".concat(r.getMonth()+1):r.getMonth()+1,"/").concat(r.getFullYear()))},children:(0,f.jsx)("div",{className:a.includes("".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(r.getMonth()+1<10?"0".concat(r.getMonth()+1):r.getMonth()+1,"/").concat(r.getFullYear()))?"".concat(e.classes," datediv aaji active"):"".concat(e.classes," datediv aaji"),children:e.value})},e.date):"in-prev-month"===e.classes||"in-next-month"===e.classes?(0,f.jsx)("td",{className:"".concat(e.classes," date"),children:(0,f.jsx)("div",{className:(a.includes("".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(r.getMonth()+1<10?"0".concat(r.getMonth()+1):r.getMonth()+1,"/").concat(r.getFullYear())),"".concat(e.classes," datediv ")),children:e.value})},e.date):(0,f.jsx)("td",{className:"".concat(e.classes," date"),onClick:function(){return p("".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(r.getMonth()+1<10?"0".concat(r.getMonth()+1):r.getMonth()+1,"/").concat(r.getFullYear()))},children:(0,f.jsx)("div",{className:a.includes("".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(r.getMonth()+1<10?"0".concat(r.getMonth()+1):r.getMonth()+1,"/").concat(r.getFullYear()))?"".concat(e.classes," datediv  active"):"".concat(e.classes," datediv "),children:e.value})},e.date)}))},e[0].date)}))})]})]})},b="NewLeave_calender__iV3pq",p="NewLeave_btncontainer__Rq76P",x="NewLeave_reasonbtn__-Qm42",j=t(51561),Z=function(e){var a=e.onClose,t=e.onGrabDates,n=e.alradyDates,i=e.currentTileActive,r=e.createdBy,s=(0,o.$G)().t,m=(0,l.useState)([]),h=(0,c.Z)(m,2),g=h[0],Z=h[1],k=(0,l.useState)({msg:"",run:!1}),A=(0,c.Z)(k,2),M=A[0],w=A[1],D=new Date,T="".concat(D.getDate()<10?"0".concat(D.getDate()):D.getDate(),"/").concat(D.getMonth()+1<10?"0".concat(D.getMonth()+1):D.getMonth()+1,"/").concat(D.getFullYear());function C(e){return new Date(e.split("/").reverse().join("/"))}(0,l.useEffect)((function(){(null===n||void 0===n?void 0:n.length)>0&&Z(n)}),[n]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(_.Z,{onClose:a,children:(0,f.jsx)("div",{className:d.Z.add_category_modal,style:{width:"35rem",minHeight:"10rem",height:"fit-content"},children:(0,f.jsxs)("section",{className:d.Z.fee_middle_section_container,style:{marginBottom:"1.2rem"},children:[(0,f.jsx)("h6",{style:{fontSize:"20px",fontWeight:"600"},children:s("choose_leave_dates")}),(0,f.jsx)(v.Z,{customStyle:{width:"100%",marginTop:"0.7rem"}}),(0,f.jsxs)("div",{className:b,children:[(0,f.jsx)(y,{dateSelected:g,setSelectedDate:Z,removeDateArray:function(e){Z(e)},addDateArray:function(e){+C(e)>=+C(T)&&Z((function(a){return[].concat((0,u.Z)(a),[e])}))}}),(0,f.jsx)("div",{className:p,children:(0,f.jsx)("div",{className:x,onClick:function(){var e;"OWN_PROFILE"===r?(t(g),a()):(null===i||void 0===i?void 0:i.count)<(null===g||void 0===g?void 0:g.length)&&(null===(e=["On Duty Leave","Leave Without Pay"])||void 0===e||!e.includes(null===i||void 0===i?void 0:i.key))?w({msg:"You have not sufficient ".concat(null===i||void 0===i?void 0:i.key,"."),run:!0}):(t(g),a())},children:s("select")})})]})]})})}),(0,f.jsx)(j.Ch,{msg:M.msg,run:M.run,setRun:function(){return w({msg:"",run:!1})},postiton:"bottom",type:"error"})]})},k=t(99183),A=t(36132),M=t(98684),w=t(21348),D=t(90904),T=t(11468),C=t(93638),L=t(38986),N=t(2350),F=t(20659),S=t(48293),Y=t(55336),I=t(16925),U=function(e){var a,t=e.leaveConfig,u=e.sid,_=e.createdBy,d=e.onRefetch,v=e.onClose,m=e.leaveTypeToggle,h=(0,o.$G)().t,g=(0,l.useState)({reason:"",dates:[],attach:"",leave_type:"Casual Leave"}),y=(0,c.Z)(g,2),b=y[0],p=y[1],x=(0,l.useState)(s.bA),j=(0,c.Z)(x,2),U=j[0],q=j[1],O=(0,l.useState)(!1),P=(0,c.Z)(O,2),B=P[0],J=P[1],W=(0,l.useState)(""),z=(0,c.Z)(W,2),R=z[0],G=z[1],H=(0,l.useState)(""),X=(0,c.Z)(H,2),E=X[0],Q=X[1],V=(0,l.useState)(""),K=(0,c.Z)(V,2),$=K[0],ee=K[1],ae=(0,l.useState)(!1),te=(0,c.Z)(ae,2),ne=te[0],ie=te[1],ce=(0,A.gh)(),le=(0,c.Z)(ce,1)[0],oe=(0,A.fu)(),re=(0,c.Z)(oe,1)[0],se=(0,r.FL)(),ue=(0,c.Z)(se,1)[0];(0,l.useEffect)((function(){if("Coff"===_)p((function(e){return(0,i.Z)((0,i.Z)({},e),{},{leave_type:"Compensation Off Leave"})}));else{var e=s.bA;e[1].count=null===t||void 0===t?void 0:t.casual_leave,e[2].count=null===t||void 0===t?void 0:t.medical_leave,e[3].count=null===t||void 0===t?void 0:t.sick_leave,e[4].count=null===t||void 0===t?void 0:t.c_off_leave,e[7].count=null===t||void 0===t?void 0:t.commuted_leave,e[8].count=null===t||void 0===t?void 0:t.maternity_leave,e[9].count=null===t||void 0===t?void 0:t.paternity_leave,e[10].count=null===t||void 0===t?void 0:t.quarantine_leave,e[11].count=null===t||void 0===t?void 0:t.half_pay_leave,e[12].count=null===t||void 0===t?void 0:t.study_leave,e[13].count=null===t||void 0===t?void 0:t.sabbatical_leave,e[14].count=null===t||void 0===t?void 0:t.special_disability_leave,e[15].count=null===t||void 0===t?void 0:t.winter_vacation_leave,e[16].count=null===t||void 0===t?void 0:t.summer_vacation_leave,e[17].count=null===t||void 0===t?void 0:t.child_adoption_leave,e[18].count=null===t||void 0===t?void 0:t.bereavement_leave,q(e),ee(e[1])}}),[t,_]);var _e=function(e){p((function(a){return(0,i.Z)((0,i.Z)({},a),{},{leave_type:null===e||void 0===e?void 0:e.key})})),ee(e)},de=function(){ie((function(e){return!e}))};return(0,f.jsxs)(f.Fragment,{children:[ne?(0,f.jsx)(Z,{onClose:de,alradyDates:b.dates,onGrabDates:function(e){p((function(a){return(0,i.Z)((0,i.Z)({},a),{},{dates:e})}))},currentTileActive:$,createdBy:_}):(0,f.jsx)(S.Z,{onClose:v,children:(0,f.jsxs)("div",{className:I.Z.modal_container,style:{maxWidth:"Coff"===_?"35rem":"40rem"},children:[(0,f.jsx)(w.Z,{children:(0,f.jsxs)("div",{className:I.Z.modal_container_outer_header,children:[(0,f.jsx)("div",{className:I.Z.modal_container_header,children:(0,f.jsxs)("h6",{children:[" ",h("Coff"===_?"request_c_off_leave":"create_new_leave")]})}),(0,f.jsx)("img",{src:"".concat(M.J7,"/close.svg"),alt:"close icon",onClick:v})]})}),(0,f.jsx)(D.Z,{}),(0,f.jsxs)(w.Z,{customStyle:{paddingTop:"0"},children:["Coff"===_?null:(0,f.jsx)(F.Z,{customTileContainer:{flexWrap:"wrap",marginBottom:"1rem"},children:null===U||void 0===U?void 0:U.map((function(e){var a,t;return"All Leave"!==e.key&&m[null===e||void 0===e?void 0:e.isActive]?(0,f.jsxs)(N.Z,{tile:e,onTile:_e,customTileChild:null!==(a=["On Duty Leave","Leave Without Pay"])&&void 0!==a&&a.includes(e.key)?{flexDirection:"row",alignItems:"center"}:{flexDirection:"column",alignItems:"flex-start"},activeTile:null===$||void 0===$?void 0:$.key,isLeaveCreate:!0,children:[(0,f.jsx)("h6",{children:h(null===e||void 0===e?void 0:e.name)}),(null===e||void 0===e?void 0:e.count)>=0&&(null===(t=["On Duty Leave","Leave Without Pay"])||void 0===t||!t.includes(e.key))?(0,f.jsxs)("p",{children:[h("available")," ",": "," ",null===e||void 0===e?void 0:e.count," "]}):null]}):null}))}),(0,f.jsx)(T.Z,{label:h("reason"),placeholder:h("leave_reason_placeholder"),name:"reason",value:b.reason,type:"text",onChange:function(e){p((function(a){return(0,i.Z)((0,i.Z)({},a),{},(0,n.Z)({},e.target.name,e.target.value))}))},errorShow:R.reason}),(0,f.jsx)(C.Z,{label:h("select_dates"),onAction:de,customStyle:{width:"10rem",margin:"0",marginTop:"1rem",padding:"0.4rem 1rem"}}),(0,f.jsx)("p",{className:I.Z.date_select,children:null===(a=b.dates)||void 0===a?void 0:a.map((function(e){return(0,f.jsxs)("span",{children:[e,", "]},e)}))}),(0,f.jsx)(L.Z,{label:h("leave_attachment"),name:"leave_attachment",value:E,onChange:function(e){if(e.target.files[0]){J((function(e){return!e}));var a=new FormData;a.append("file",e.target.files[0]),ue({fileUpload:a}).then((function(a){var t,n,c;Q({name:null===(t=e.target.files[0])||void 0===t?void 0:t.name,key:null===(n=a.data)||void 0===n?void 0:n.imageKey,type:null===(c=e.target.files[0])||void 0===c?void 0:c.type}),p((function(e){var t;return(0,i.Z)((0,i.Z)({},e),{},{attach:null===(t=a.data)||void 0===t?void 0:t.imageKey})})),J((function(e){return!e}))})).catch({})}}}),(0,f.jsx)(C.Z,{label:"create",onAction:function(){if(u){var e=(0,k.l)(b,["attach"]);(0,k.x)(e)?(J((function(e){return!e})),"Coff"===_?re({sid:u,leaveConfig:b}).then((function(){d(),J((function(e){return!e})),v()})).catch({}):le({sid:u,LeaveData:b}).then((function(){d(),J((function(e){return!e})),v()})).catch({})):G(e)}}})]})]})}),B&&(0,f.jsx)(Y.Z,{})]})}},51416:function(e,a){a.Z={square_tab_wrapper:"UiTab_square_tab_wrapper__Jxkmy",square_tab_card:"UiTab_square_tab_card__EYI-n",designation_tab_wrapper:"UiTab_designation_tab_wrapper__1YZQi",designation_tab_card:"UiTab_designation_tab_card__waJTM",rectangle_tab_wrapper:"UiTab_rectangle_tab_wrapper__a4CP7",rectangle_tab_card:"UiTab_rectangle_tab_card__xYxge",rectangle_tab_card_active:"UiTab_rectangle_tab_card_active__hSDaQ",horizontal_tab_wrapper:"UiTab_horizontal_tab_wrapper__BRXBX",horizontal_tab_card:"UiTab_horizontal_tab_card__pF03H",horizontal_tab_card_active:"UiTab_horizontal_tab_card_active__o32eJ",tile_container:"UiTab_tile_container__YqmHk",tile_tile_container:"UiTab_tile_tile_container__DlIa1",tile_tile:"UiTab_tile_tile__NcTNN",tile_tile_active:"UiTab_tile_tile_active__bo3c7",tile_label:"UiTab_tile_label__IV8Xu"}},16925:function(e,a){a.Z={right:"Income_right__XnzYj",rightHead:"Income_rightHead__1rLc6",rightBody:"Income_rightBody__fGEC5",income_detail:"Income_income_detail__IWoJa",detailTop:"Income_detailTop__4JXuu",detailTopMid:"Income_detailTopMid__yc2yv",modal_container:"Income_modal_container__HiGr+",modal_container_outer_header:"Income_modal_container_outer_header__F9c7X",modal_container_header:"Income_modal_container_header__td-Fb",card_container:"Income_card_container__ewKhQ",card_container_image:"Income_card_container_image__5XloP",card_container_inner:"Income_card_container_inner__JBmxr",admission_fees_row:"Income_admission_fees_row__MPJCs",close_icon:"Income_close_icon__Ozq4u",student_message_container:"Income_student_message_container__8KnPc",student_message_container_inner:"Income_student_message_container_inner__mRYpD",usm_institute_container:"Income_usm_institute_container__4LkYt",usm_institute:"Income_usm_institute__hlzdF",date_select:"Income_date_select__D3VkU"}}}]);
//# sourceMappingURL=8731.81559c69.chunk.js.map