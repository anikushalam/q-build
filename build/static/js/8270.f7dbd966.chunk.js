"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[8270],{76424:function(e,a,l){l.r(a);var i=l(37762),r=l(29439),t=l(35967),n=l(43623),d=l(86500),s=l(72791),o=l(63687),u=l(21348),c=l(90904),v=l(39230),f=l(56959),b=l(16871),g=l(80184);t.kL.register(t.uw,t.f$,t.ZL,t.Dx,t.u,t.De);a.default=function(e){e.instituteId;var a=e.ifid,l=(0,v.$G)().t,t=(0,s.useRef)(),p=(0,b.UO)(),j=(0,b.TH)(),m=(0,b.s0)(),x=(0,s.useState)({labels:[],datasets:[{label:"Feedback %",data:[],barThickness:50,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)"],borderColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"],borderWidth:1}]}),Z=(0,r.Z)(x,2),L=Z[0],_=Z[1],y=(0,d.FQ)({data:{ifid:a,page:1,limit:1e3,search:""},skip:!a}).feedbackSubjectTeacherList;(0,s.useEffect)((function(){var e;if((null===y||void 0===y||null===(e=y.list)||void 0===e?void 0:e.length)>0){var a,l=[],r={label:"Feedback %",data:[],backgroundColor:"rgba(255, 99, 132, 0.5)"},t=(0,i.Z)(null===y||void 0===y?void 0:y.list);try{for(t.s();!(a=t.n()).done;){var n=a.value;if(null!==n&&void 0!==n&&n.staffROLLNO){var d,s,o,u=k(null===n||void 0===n||null===(d=n.student_feedback)||void 0===d||null===(s=d[0])||void 0===s?void 0:s.subject_analytic);l.push(null===n||void 0===n?void 0:n.staffROLLNO),null===(o=r.data)||void 0===o||o.push(u)}}}catch(c){t.e(c)}finally{t.f()}_({labels:l,datasets:[r]})}}),[null===y||void 0===y?void 0:y.list]);return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(o.Z,{children:[(0,g.jsx)(u.Z,{children:(0,g.jsx)("div",{className:f.Z.fm_header_container,children:(0,g.jsx)("h6",{children:l("feedback_analytics")})})}),(0,g.jsx)(c.Z,{}),(0,g.jsx)(u.Z,{children:(0,g.jsx)(n.$Q,{ref:t,data:L,options:h,onClick:function(e){var a=(0,n.Lm)(null===t||void 0===t?void 0:t.current,e);(null===a||void 0===a?void 0:a.length)>0&&m("/q/".concat(p.username,"/institute/member/feedback?a=feedback-detail"),{state:j.state})}})})]})})};var h={responsive:!0,scales:{x:{grid:{offset:!0}}}},k=function(e){if((null===e||void 0===e?void 0:e.length)>0){var a,l=0,r=(0,i.Z)(e);try{for(r.s();!(a=r.n()).done;){var t=a.value;l+=null===t||void 0===t?void 0:t.feedback_percentage}}catch(n){r.e(n)}finally{r.f()}return l=Math.floor(l/(null===e||void 0===e?void 0:e.length))}return 0}}}]);
//# sourceMappingURL=8270.f7dbd966.chunk.js.map