"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[9663],{47184:function(e,t,a){var o=a(1413),n=(a(72791),a(46807)),s=a(80184);t.Z=function(e){var t=e.dynamicImage,a=e.customStyle;return(0,s.jsx)("img",{src:t,alt:"Avatar icon",style:(0,o.Z)({},a),className:n.Z.avatar_image})}},2072:function(e,t,a){a(72791);var o=a(75729),n=a(39230),s=a(80184);t.Z=function(e){var t=e.onEditIocn,a=e.activeIcon,i=e.onPostTypeChange,r=e.addFileToggle,l=e.onAddFile,c=e.acceptFormate,d=e.onVideoIcon,_=e.children,u=(0,n.$G)().t,v=function(e){i(e)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("hr",{className:o.Z.hr}),(0,s.jsxs)("div",{className:o.Z.iconsContainer,children:[(0,s.jsxs)("div",{className:o.Z.icons,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("img",{onClick:t,src:"/images/edit-icon.svg",alt:"eidt icon of post",title:"Create Text Post"}),1===a&&(0,s.jsx)("div",{className:o.Z.border1})]}),_,(0,s.jsxs)("div",{children:[(0,s.jsx)("img",{onClick:d,src:"/images/video-post-icon.svg",alt:"video icon of post",title:"Create Video Post"}),3===a&&(0,s.jsx)("div",{className:o.Z.border3})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("img",{onClick:function(){return v("newAnnouncement")},src:"/images/voice-post-icon.svg",alt:"announcement icon of post",title:"Create Announcement"}),4===a&&(0,s.jsx)("div",{className:o.Z.border4})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("img",{onClick:function(){return v("newPoll")},src:"/images/shorts-icon.svg",alt:"poll icon of post",title:"Create Poll Post"}),5===a&&(0,s.jsx)("div",{className:o.Z.border5})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("img",{onClick:function(){return v("newQuestion")},src:"/images/document-icon.svg",alt:"question icon of post",title:"Create Question Post"}),6===a&&(0,s.jsx)("div",{className:o.Z.border6})]})]}),r?(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"document",style:{cursor:"pointer"},children:(0,s.jsx)("p",{className:o.Z.addfiles,children:u("add_files")})}),(0,s.jsx)("input",{className:o.Z.upload,multiple:!0,id:"document",name:"file",onChange:l,type:"file",accept:c})]}):(0,s.jsx)("p",{children:u("add_files")})]})]})}},6599:function(e,t,a){a(72791);var o=a(47184),n=a(75729),s=a(39230),i=a(90865),r=a(80184);t.Z=function(e){var t=e.postTitle,a=e.onClose,l=e.name,c=e.privateImage,d=e.setPrivateImage,_=e.dynamicImage,u=e.postStatusRef,v=e.checkedToggle,m=e.onToggleHandler,p=e.announcement,g=e.children,f=(0,s.$G)().t;return(0,r.jsxs)("div",{className:n.Z.newPost,children:[(0,r.jsxs)("div",{className:n.Z.header,children:[(0,r.jsx)("h4",{children:t}),(0,r.jsx)("img",{src:"/images/close-post-icon.svg",onClick:a,alt:"close icon"})]}),(0,r.jsx)("hr",{className:n.Z.hr}),(0,r.jsxs)("div",{className:n.Z.content,children:[(0,r.jsxs)("div",{className:n.Z.title,children:[(0,r.jsx)("div",{className:n.Z.imgContainer,children:(0,r.jsx)(o.Z,{dynamicImage:_})}),(0,r.jsxs)("div",{className:n.Z.userName,children:[(0,r.jsx)("h6",{children:l}),(0,r.jsxs)("div",{className:n.Z.public,children:[(0,r.jsx)("img",{className:n.Z.privacyIcon,src:c?"/images/post-private-icon.svg":"/images/privacy-icon.svg",alt:""}),(0,r.jsxs)("div",{className:n.Z.select,children:[(0,r.jsx)("span",{className:n.Z.arrow}),(0,r.jsx)("img",{className:n.Z.arrowIcon,src:"/images/dropdown-icon.svg",alt:""}),(0,r.jsxs)("select",{name:"cars",id:"cars",ref:u,onChange:function(e){return"Anyone"===e.target.value?d(!1):d(!0)},children:[(0,r.jsx)("option",{value:"Anyone",children:f("public")}),(0,r.jsxs)("option",{value:"Private",children:[f("private")," "]})]})]})]})]}),!p&&(0,r.jsx)(i.Z,{labelHeading:f("turn_off_comment"),customContainer:{padding:"0"},customLabel:{fontWeight:"500"},checkedToggle:"On"!==v,onToggleHandler:m})]}),g]})]})}},89663:function(e,t,a){a.r(t),a.d(t,{default:function(){return P}});var o=a(37762),n=a(93433),s=a(29439),i=a(72791),r={postTitle:"NewPost_postTitle__mZ0gm",postDesc:"NewPost_postDesc__JHFMV",postTextarea:"NewPost_postTextarea__wpLXp",hashTag:"NewPost_hashTag__g+Ebe",btn:"NewPost_btn__qoAO4",upload:"NewPost_upload__9zgjK",Container:"NewPost_Container__QjHOc",selectedImg:"NewPost_selectedImg__5Vyan",upload_video:"NewPost_upload_video__gnKPZ",tille:"NewPost_tille__oOSHy",description:"NewPost_description__ZBNYj",afterbtn:"NewPost_afterbtn__ZD4w2",hashtag:"NewPost_hashtag__d-PPO",public:"NewPost_public__Gz7UN",privacyIcon:"NewPost_privacyIcon__YWpaD",userName:"NewPost_userName__NxtUo",select:"NewPost_select__jzOhf",imgContainer:"NewPost_imgContainer__bdx4W",arrowIcon:"NewPost_arrowIcon__iapHN",mainbody:"NewPost_mainbody__aAiXk",tagList:"NewPost_tagList__cC9OO",border2:"NewPost_border2__HG5MO",border3:"NewPost_border3__dOSt3"},l=a(39230),c=a(9447),d=a(78687),_=a(69721),u=a(49384),v=a(70092),m=a(16256),p=a(6599),g=a(2072),f=a(39480),h=a(35395),x=a(59507),j=a(51561),N=a(80184),Z=i.lazy((function(){return a.e(8732).then(a.bind(a,68732))}));var P=function(e){var t,a,P,b=e.postType,w=e.setPostType,C=e.onPostTypeChange,y=(0,l.$G)().t,I=(0,i.useState)([]),T=(0,s.Z)(I,2),S=T[0],H=T[1],F=(0,i.useState)(""),k=(0,s.Z)(F,2),U=k[0],O=k[1],A=(0,i.useState)(""),R=(0,s.Z)(A,2),D=R[0],L=R[1],M=(0,i.useState)(""),V=(0,s.Z)(M,2),E=V[0],z=V[1],q=(0,i.useState)("text"===b?1:"video"===b?3:2),Q=(0,s.Z)(q,2),Y=Q[0],G=Q[1],J=(0,i.useState)(""),K=(0,s.Z)(J,2),W=K[0],X=K[1],$=(0,i.useRef)(""),B=(0,i.useRef)(""),ee=(0,i.useRef)(""),te=(0,i.useRef)(""),ae=(0,d.useSelector)((function(e){return e.idChange})),oe=(0,d.useDispatch)(),ne=(0,c.AF)(),se=(0,s.Z)(ne,1)[0],ie=(0,c.eV)(),re=(0,s.Z)(ie,1)[0],le=(0,c.pp)(),ce=(0,s.Z)(le,1)[0],de=(0,i.useState)(!1),_e=(0,s.Z)(de,2),ue=_e[0],ve=_e[1],me=(0,i.useState)(!1),pe=(0,s.Z)(me,2),ge=pe[0],fe=pe[1],he=(0,i.useState)(!1),xe=(0,s.Z)(he,2),je=xe[0],Ne=xe[1],Ze=(0,i.useState)(""),Pe=(0,s.Z)(Ze,2),be=Pe[0],we=Pe[1],Ce=(0,i.useState)(""),ye=(0,s.Z)(Ce,2),Ie=ye[0],Te=ye[1],Se=(0,i.useState)([]),He=(0,s.Z)(Se,2),Fe=He[0],ke=He[1],Ue=(0,i.useState)(""),Oe=(0,s.Z)(Ue,2),Ae=Oe[0],Re=Oe[1],De=(0,i.useState)(""),Le=(0,s.Z)(De,2),Me=Le[0],Ve=Le[1],Ee=(0,i.useState)("On"),ze=(0,s.Z)(Ee,2),qe=ze[0],Qe=ze[1],Ye=(0,i.useState)({msg:"",run:!1}),Ge=(0,s.Z)(Ye,2),Je=Ge[0],Ke=Ge[1],We=(0,f.gq)({id:null===ae||void 0===ae?void 0:ae.id,skip:!(null!==ae&&void 0!==ae&&ae.id)}),Xe=We.oneInstituteDashboard,$e=We.oneInstituteDashboardRefetch;(0,i.useEffect)((function(){null!==ae&&void 0!==ae&&ae.id&&$e()}),[null===ae||void 0===ae?void 0:ae.id,$e]);var Be=function(e){var t,a=null===(t=e.target.value)||void 0===t?void 0:t.length;if("@"===e.target.value[a-1]){var o=Me.length;" "!==Me[o-1]&&""!==Me||(fe(!0),Ne("caption"))}if(ge){var n,s=null===(n=e.target.value)||void 0===n?void 0:n.split("@"),i=s.length;Te(s[i-1])}Ve(e.target.value)},et=function(e){if(e.target.files&&e.target.files.length>0){X(e.target.files),O(e.target.files[0]);var t=Array.from(e.target.files).map((function(e){return URL.createObjectURL(e)}));H((function(e){return e.concat(t)}))}},tt=function(){H([]),O(""),L(""),X([]),Ve(""),ke([]),Qe("On")};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(p.Z,{postTitle:y("create_post"),onClose:function(){return C("post")},dynamicImage:"1"!==(null===Xe||void 0===Xe||null===(t=Xe.institute)||void 0===t?void 0:t.photoId)?"".concat(_.yI,"/").concat(null===Xe||void 0===Xe||null===(a=Xe.institute)||void 0===a?void 0:a.insProfilePhoto):"/images/ins_default_profile.svg",name:null===Xe||void 0===Xe||null===(P=Xe.institute)||void 0===P?void 0:P.insName,privateImage:ue,setPrivateImage:ve,postStatusRef:ee,onToggleHandler:function(e){e.target.checked?Qe("Off"):Qe("On")},checkedToggle:qe,children:[ge&&(0,N.jsx)("div",{className:r.tagList,style:"description"===je?{marginTop:"7vw"}:{marginTop:"0"},children:(0,N.jsx)(h.Z,{children:(0,N.jsx)(Z,{open:ge,setOpen:fe,postTagSearch:Ie,setPostTagSearch:Te,taggedPeoplehandler:function(e){if(ke([].concat((0,n.Z)(Fe),[e])),"title"===je){var t=null===be||void 0===be?void 0:be.split("@");t[t.length-1]=e.tagUserName;var a,s=[""],i=0,r=(0,o.Z)(t);try{for(r.s();!(a=r.n()).done;){var l=a.value;if(0===i)s[0]=l;else{var c="".concat(s[0],"@").concat(l);s[0]=c}++i}}catch(b){r.e(b)}finally{r.f()}we(s[0])}else if("description"===je){var d=null===Ae||void 0===Ae?void 0:Ae.split("@");d[d.length-1]=e.tagUserName;var _,u=[""],v=0,m=(0,o.Z)(d);try{for(m.s();!(_=m.n()).done;){var p=_.value;if(0===v)u[0]=p;else{var g="".concat(u[0],"@").concat(p);u[0]=g}++v}}catch(b){m.e(b)}finally{m.f()}Re(u[0])}else{var f=null===Me||void 0===Me?void 0:Me.split("@");f[f.length-1]=e.tagUserName;var h,x=[""],j=0,N=(0,o.Z)(f);try{for(N.s();!(h=N.n()).done;){var Z=h.value;if(0===j)x[0]=Z;else{var P="".concat(x[0],"@").concat(Z);x[0]=P}++j}}catch(b){N.e(b)}finally{N.f()}Ve(x[0])}}})})}),"text"===b&&(0,N.jsx)("div",{className:r.postTitle,children:(0,N.jsx)("input",{className:r.input,type:"text",placeholder:y("title_post"),ref:$,onChange:function(e){var t,a=null===(t=e.target.value)||void 0===t?void 0:t.length;if("@"===e.target.value[a-1]){var o=be.length;" "!==be[o-1]&&""!==be||(fe(!0),Ne("title"))}if(ge){var n,s=null===(n=e.target.value)||void 0===n?void 0:n.split("@"),i=s.length;Te(s[i-1])}we(e.target.value)},value:be})}),"text"===b&&(0,N.jsx)("div",{className:r.postDesc,children:(0,N.jsx)("textarea",{className:r.postTextarea,rows:"3",type:"text",name:"CreateInsPost",ref:B,placeholder:y("desc_post"),onChange:function(e){var t,a=null===(t=e.target.value)||void 0===t?void 0:t.length;if("@"===e.target.value[a-1]){var o=Ae.length;" "!==Ae[o-1]&&""!==Ae||(fe(!0),Ne("description"))}if(ge){var n,s=null===(n=e.target.value)||void 0===n?void 0:n.split("@"),i=s.length;Te(s[i-1])}Re(e.target.value)},value:Ae})}),"image"===b&&(0,N.jsxs)("div",{className:r.Container,children:[(0,N.jsx)("p",{className:r.description,children:(0,N.jsx)("textarea",{className:r.postTextarea,rows:"3",type:"text",name:"CreateInsPost",ref:te,placeholder:y("caption_post"),onChange:Be,value:Me})}),(0,N.jsx)("div",{className:r.selectedImg,children:S.map((function(e,t){return(0,N.jsx)("img",{alt:"list",src:e},t)}))})]}),"video"===b&&(0,N.jsxs)("div",{className:r.Container,children:[(0,N.jsx)("p",{className:r.description,children:(0,N.jsx)("textarea",{className:r.postTextarea,rows:"3",type:"text",name:"CreateInsPost",ref:te,placeholder:y("caption_post"),onChange:Be,value:Me})}),D?(0,N.jsx)("div",{className:r.upload_video,children:(0,N.jsx)(x.Z,{video:D})}):""]}),(0,N.jsxs)("button",{className:U?"".concat(r.btn," ").concat(r.afterbtn):r.btn,onClick:function(){if(z(!0),U||D)if(D&&W){var e=new FormData,t=Fe;e.append("postTitle",te.current.value),e.append("postStatus",ee.current.value),e.append("people",JSON.stringify(t)),e.append("comment_turned",qe),e.append("file",W),ce({id:null===ae||void 0===ae?void 0:ae.id,viewAs:m.UJ,post:e}).then((function(e){var t;oe(v.p.addCreatedPost({post:null===(t=e.data)||void 0===t?void 0:t.post})),C("post"),z(!1),$e()})).catch({})}else{var a=new FormData,n=Fe;a.append("postTitle",te.current.value),a.append("postStatus",ee.current.value),a.append("people",JSON.stringify(n)),a.append("comment_turned",qe);var s,i=(0,o.Z)(W);try{for(i.s();!(s=i.n()).done;){var r=s.value;a.append("file",r)}}catch(l){i.e(l)}finally{i.f()}re({id:null===ae||void 0===ae?void 0:ae.id,viewAs:m.UJ,post:a}).then((function(e){var t;oe(v.p.addCreatedPost({post:null===(t=e.data)||void 0===t?void 0:t.post})),C("post"),z(!1),$e()})).catch({})}else""!==$.current.value&&""!==B.current.value?se({id:null===ae||void 0===ae?void 0:ae.id,viewAs:m.UJ,post:{postTitle:$.current.value,postDescription:B.current.value,postStatus:ee.current.value,people:Fe,comment_turned:qe}}).then((function(e){var t;oe(v.p.addCreatedPost({post:null===(t=e.data)||void 0===t?void 0:t.post})),C("post"),z(!1),$e()})).catch({}):z(!1)},disabled:E,children:[(0,N.jsx)("p",{children:y("post")}),E&&(0,N.jsx)("div",{children:(0,N.jsx)(u.Z,{})})]}),(0,N.jsxs)(g.Z,{onEditIocn:function(){G(1),w("text"),tt()},onVideoIcon:function(){G(3),w("video"),tt()},onPostTypeChange:C,activeIcon:Y,addFileToggle:!0,onAddFile:2===Y?et:function(e){var t;if(e.target.files.length>0)if((null===(t=e.target.files[0])||void 0===t?void 0:t.size)>5e7)Ke({msg:"Please upload file size less than or equal to 50mb",run:!0});else{X(e.target.files[0]);var a=URL.createObjectURL(e.target.files[0]);L(a)}},acceptFormate:2===Y?"image/*, image/gif, image/jpeg, image/png":"video/*",children:[(0,N.jsxs)("label",{htmlFor:"img",style:{cursor:"pointer"},children:[(0,N.jsx)("img",{src:"/images/img-post-icon.svg",onClick:function(){G(2),w("image"),tt()},alt:"icon upload for post"}),2===Y&&(0,N.jsx)("div",{className:r.border2})]}),(0,N.jsx)("input",{className:r.upload,id:"img",name:"file",multiple:!0,onChange:2===Y?et:function(){},type:"file",accept:"image/*, image/gif, image/jpeg, image/png"})]})]}),Je.run&&(0,N.jsx)(j.Ch,{msg:Je.msg,run:Je.run,setRun:function(){return Ke({msg:"",run:!1})},postiton:"bottom",type:"error"})]})}},59507:function(e,t,a){a.d(t,{Z:function(){return i}});var o="VideoPlayer_video__r0OQz",n=(a(72791),a(96710)),s=a(80184);var i=function(e){var t=e.video;return(0,s.jsx)("div",{className:o,children:(0,s.jsx)(n.Z,{controls:!0,url:t})})}},90865:function(e,t,a){var o=a(1413),n=(a(72791),a(89891)),s=a(39320),i=a(80184),r={inputProps:{"aria-label":"Switch demo"}};t.Z=function(e){var t=e.customContainer,a=e.customLabel,l=e.labelDescription,c=e.labelHeading,d=e.defaultLabel,_=e.checkedToggle,u=e.onToggleHandler,v=e.children;return(0,i.jsxs)("div",{className:s.Z.form_toggle_container,style:(0,o.Z)({},t),children:[(0,i.jsxs)("div",{className:s.Z.form_toggle_label,children:[d?(0,i.jsx)(n.Z,(0,o.Z)((0,o.Z)({},r),{},{defaultChecked:!0,disabled:!0})):(0,i.jsx)(n.Z,(0,o.Z)((0,o.Z)({},r),{},{checked:_,onChange:u})),(0,i.jsx)("span",{style:(0,o.Z)({},a),children:c})]}),(0,i.jsx)("div",{className:s.Z.form_toggle_description,children:l}),v]})}},46807:function(e,t){t.Z={avatar_image:"Avatar_avatar_image__orRwR",custom_avatar_container:"Avatar_custom_avatar_container__f4BAI",custom_avatar_one:"Avatar_custom_avatar_one__XYFtg",custom_avatar_content:"Avatar_custom_avatar_content__E1nUO"}},75729:function(e,t){t.Z={newPost:"PostHeader_newPost__6jEMR",header:"PostHeader_header__nAWVN",imgContainer:"PostHeader_imgContainer__cnIbK",title:"PostHeader_title__S3tct",public:"PostHeader_public__EImhy",privacyIcon:"PostHeader_privacyIcon__+2tue",select:"PostHeader_select__C-Piu",arrow:"PostHeader_arrow__oZsjY",arrowIcon:"PostHeader_arrowIcon__SawKs",content:"PostHeader_content__FsI2m",hr:"PostHeader_hr__mTrEp",userName:"PostHeader_userName__jfN4e",iconsContainer:"PostHeader_iconsContainer__2M-xr",icons:"PostHeader_icons__MqfoZ",border1:"PostHeader_border1__wMsIw",border4:"PostHeader_border4__UyCNk",border5:"PostHeader_border5__YtPZT",border6:"PostHeader_border6__-EvMl",border3:"PostHeader_border3__dMt41",upload:"PostHeader_upload__D9cRU"}},39320:function(e,t){t.Z={staff_form_container:"UniversalForm_staff_form_container__QRs6I",staff_form_header_container:"UniversalForm_staff_form_header_container__+cQn3",form_header_container:"UniversalForm_form_header_container__GVVNM",form_header_list:"UniversalForm_form_header_list__fHs8S",form_header_code:"UniversalForm_form_header_code__LsmbM",form_toggle_description:"UniversalForm_form_toggle_description__281dv",form_toggle_label:"UniversalForm_form_toggle_label__mbisD",form_header_content:"UniversalForm_form_header_content__Y3p2k",form_toggle_container:"UniversalForm_form_toggle_container__D0bu0",form_checkbox_container:"UniversalForm_form_checkbox_container__bxzuK",staff_form_header_container_actions:"UniversalForm_staff_form_header_container_actions__2Ynt9",staff_header_text:"UniversalForm_staff_header_text__dQvPP"}}}]);
//# sourceMappingURL=9663.90a7cdcf.chunk.js.map