"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[46974],{65408:function(e,t,n){n.d(t,{Z:function(){return b}});var a=n(29439),s=n(72791),i=n(33992),l=n(11105),c=n(1413),d=n(33148),o=n(69721),r=n(74801),u=n(8148),v=n(35395),m=n(80184),j=s.lazy((function(){return Promise.all([n.e(6307),n.e(85054),n.e(82555)]).then(n.bind(n,85054))})),h=function(e){var t,n,i,l,h,x,b,f,g,Z,p,_,N,y,S,T,I,A,C,D,P,E,k,w,M,R,q,F,U,O,H,V,B,K,L,G,J=e.sub,$=e.carryParentState,Y=e.isView,z=e.did,Q=e.cid,W=e.instituteId,X=e.onRefetch,ee=(0,s.useState)(""),te=(0,a.Z)(ee,2),ne=te[0],ae=te[1];return(0,m.jsxs)(m.Fragment,{children:["DEPARTMENT_HEAD"===Y?(0,m.jsx)(u.Z,{carryParentState:(0,c.Z)((0,c.Z)({},$),{},{subjectId:null===J||void 0===J?void 0:J._id,subjectName:"".concat(null===J||void 0===J?void 0:J.subjectName," ").concat(null!==J&&void 0!==J&&J.subject_category?"(".concat(null===J||void 0===J?void 0:J.subject_category,")"):""," ").concat(null!==J&&void 0!==J&&null!==(t=J.selected_batch_query)&&void 0!==t&&t.batchName?"(".concat(null===J||void 0===J||null===(n=J.selected_batch_query)||void 0===n?void 0:n.batchName,")"):""," ").concat("Optional"===(null===J||void 0===J?void 0:J.subjectOptional)?"(".concat(null===J||void 0===J?void 0:J.subjectOptional,")"):""),batchId:null===J||void 0===J||null===(i=J.selected_batch_query)||void 0===i?void 0:i._id,subjectTeacherName:"".concat(null!==(l=null===J||void 0===J||null===(h=J.subjectTeacherName)||void 0===h?void 0:h.staffFirstName)&&void 0!==l?l:""," ").concat(null!==(x=null===J||void 0===J||null===(b=J.subjectTeacherName)||void 0===b?void 0:b.staffMiddleName)&&void 0!==x?x:""," ").concat(null!==(f=null===J||void 0===J||null===(g=J.subjectTeacherName)||void 0===g?void 0:g.staffLastName)&&void 0!==f?f:"")}),activeTab:"subject-detail",children:(0,m.jsxs)("div",{className:d.Z.class_container,style:{justifyContent:"space-between"},children:[(0,m.jsxs)("div",{className:d.Z.moderator_container_title,children:[(0,m.jsx)("img",{className:d.Z.oneRowImage,src:null!==J&&void 0!==J&&null!==(Z=J.subjectTeacherName)&&void 0!==Z&&Z.staffProfilePhoto?"".concat(o.yI,"/").concat(null===J||void 0===J||null===(p=J.subjectTeacherName)||void 0===p?void 0:p.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff avatr"}),(0,m.jsxs)("div",{className:d.Z.class_container_text,children:[(0,m.jsxs)("h6",{children:[null!==(_=null===J||void 0===J?void 0:J.subjectName)&&void 0!==_?_:""," ",null!==J&&void 0!==J&&J.subject_category?"(".concat(null===J||void 0===J?void 0:J.subject_category,")"):"",null!==J&&void 0!==J&&null!==(N=J.selected_batch_query)&&void 0!==N&&N.batchName?(0,m.jsxs)("span",{style:{fontWeight:"400",fontSize:"12px"},children:[" ","(",null!==(y=null===J||void 0===J||null===(S=J.selected_batch_query)||void 0===S?void 0:S.batchName)&&void 0!==y?y:"",")"]}):null,"Optional"===(null===J||void 0===J?void 0:J.subjectOptional)&&"(".concat(null===J||void 0===J?void 0:J.subjectOptional,")")]}),(0,m.jsx)("p",{children:"".concat(null!==(T=null===J||void 0===J||null===(I=J.subjectTeacherName)||void 0===I?void 0:I.staffFirstName)&&void 0!==T?T:""," ").concat(null!==(A=null===J||void 0===J||null===(C=J.subjectTeacherName)||void 0===C?void 0:C.staffMiddleName)&&void 0!==A?A:""," ").concat(null!==(D=null===J||void 0===J||null===(P=J.subjectTeacherName)||void 0===P?void 0:P.staffLastName)&&void 0!==D?D:"")})]})]}),(0,m.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(e){e.preventDefault(),ae(null===J||void 0===J?void 0:J._id)},title:"Menu",style:{cursor:"pointer",height:"1.5rem"}})]})}):(0,m.jsx)(r.Z,{carryParentState:(0,c.Z)((0,c.Z)({},$),{},{subjectId:null===J||void 0===J?void 0:J._id,subjectName:"".concat(null===J||void 0===J?void 0:J.subjectName," ").concat(null!==J&&void 0!==J&&J.subject_category?"(".concat(null===J||void 0===J?void 0:J.subject_category,")"):""," ").concat(null!==J&&void 0!==J&&null!==(E=J.selected_batch_query)&&void 0!==E&&E.batchName?"(".concat(null===J||void 0===J||null===(k=J.selected_batch_query)||void 0===k?void 0:k.batchName,")"):""," ").concat("Optional"===(null===J||void 0===J?void 0:J.subjectOptional)?"(".concat(null===J||void 0===J?void 0:J.subjectOptional,")"):""),batchId:null===J||void 0===J||null===(w=J.selected_batch_query)||void 0===w?void 0:w._id,isView:"ADMINISTRATOR"}),activeTab:"subject-menu",children:(0,m.jsxs)("div",{className:d.Z.class_container,children:[(0,m.jsx)("img",{className:d.Z.oneRowImage,src:null!==J&&void 0!==J&&null!==(M=J.subjectTeacherName)&&void 0!==M&&M.staffProfilePhoto?"".concat(o.yI,"/").concat(null===J||void 0===J||null===(R=J.subjectTeacherName)||void 0===R?void 0:R.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff avatr"}),(0,m.jsxs)("div",{className:d.Z.class_container_text,children:[(0,m.jsxs)("h6",{children:[null!==(q=null===J||void 0===J?void 0:J.subjectName)&&void 0!==q?q:""," ",null!==J&&void 0!==J&&J.subject_category?"(".concat(null===J||void 0===J?void 0:J.subject_category,")"):"",null!==J&&void 0!==J&&null!==(F=J.selected_batch_query)&&void 0!==F&&F.batchName?(0,m.jsxs)("span",{style:{fontWeight:"400",fontSize:"12px"},children:[" ","(",null!==(U=null===J||void 0===J||null===(O=J.selected_batch_query)||void 0===O?void 0:O.batchName)&&void 0!==U?U:"",")"]}):null,"Optional"===(null===J||void 0===J?void 0:J.subjectOptional)&&"(".concat(null===J||void 0===J?void 0:J.subjectOptional,")")]}),(0,m.jsx)("p",{children:"".concat(null!==(H=null===J||void 0===J||null===(V=J.subjectTeacherName)||void 0===V?void 0:V.staffFirstName)&&void 0!==H?H:""," ").concat(null!==(B=null===J||void 0===J||null===(K=J.subjectTeacherName)||void 0===K?void 0:K.staffMiddleName)&&void 0!==B?B:""," ").concat(null!==(L=null===J||void 0===J||null===(G=J.subjectTeacherName)||void 0===G?void 0:G.staffLastName)&&void 0!==L?L:"")})]})]})}),(0,m.jsx)(v.Z,{children:ne&&(0,m.jsx)(j,{departmentModal:!!ne,hideModal:function(){return ae("")},id:W,did:z,cid:Q,edit:ne,setEdit:ae,editSubject:ne,isEditBy:"DEPARTMENT_HEAD",onRefetch:X})})]})},x=function(e){var t=e.subjects,n=e.carryParentState,a=e.isView,s=e.cid,i=e.instituteId,l=e.did,c=e.onRefetch;return(0,m.jsx)(m.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e){return(0,m.jsx)(h,{sub:e,carryParentState:n,isView:a,cid:s,instituteId:i,did:l,onRefetch:c},null===e||void 0===e?void 0:e._id)}))})},b=function(e){var t,n,c,d=e.carryParentState,o=e.clsId,r=e.isView,u=e.instituteId,v=e.did,j=(0,s.useState)(!0),h=(0,a.Z)(j,2),b=h[0],f=h[1],g=(0,i.fk)({cid:o,skip:!o}),Z=g.oneClassAllSubject,p=g.oneClassAllSubjectRefetch;return(0,s.useEffect)((function(){var e;null!==Z&&void 0!==Z&&null!==(e=Z.classes)&&void 0!==e&&e.subject&&f(!1)}),[null===Z||void 0===Z||null===(t=Z.classes)||void 0===t?void 0:t.subject]),(0,s.useEffect)((function(){o&&p()}),[o,p]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(x,{subjects:null!==(n=null===Z||void 0===Z||null===(c=Z.classes)||void 0===c?void 0:c.subject)&&void 0!==n?n:[],carryParentState:d,isView:r||"ADMINISTRATOR",cid:o,instituteId:u,did:v,onRefetch:p}),b&&(0,m.jsx)(l.Z,{})]})}},893:function(e,t,n){n.d(t,{Z:function(){return _}});var a=n(93433),s=n(37762),i=n(29439),l=n(72791),c=n(16313),d=n(53967),o=n(94721),r=n(89261),u=n(62921),v=n(17758),m=n(39230),j=n(24582),h=n(98734),x=n(37570),b=n(95048),f=n(99376),g=n(51561),Z=n(80184),p=function(e){var t=e.today,n=e.alreadyMark,a=e.allIdsArray,d=e.clickedIndex,o=e.setClickedIndex,r=e.idPresentArray,u=e.idAbsentArray,v=e.setIdPresentArray,p=e.setIdAbsentArray,_=e.cid,N=e.isDepartment,y=e.className,S=e.setIsRefetch,T=l.useState(!1),I=(0,i.Z)(T,2),A=I[0],C=I[1],D=l.useState(!1),P=(0,i.Z)(D,2),E=P[0],k=P[1],w=(0,j.b6)(),M=(0,i.Z)(w,1)[0],R=(0,j.wf)(),q=(0,i.Z)(R,1)[0],F=(0,m.$G)().t,U=(0,l.useState)(!1),O=(0,i.Z)(U,2),H=O[0],V=O[1],B=(0,b.I0)(),K=(0,l.useState)({msg:"",run:!1}),L=(0,i.Z)(K,2),G=L[0],J=L[1];l.useEffect((function(){null!==r&&void 0!==r&&r.length||null!==u&&void 0!==u&&u.length?C(!0):C(!1)}),[r,u]);var $=function(){V((function(e){return!e}))};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:"1.5rem"},children:[(0,Z.jsx)("div",{className:c.Z.buttons,children:(0,Z.jsx)("div",{className:c.Z.save,onClick:$,children:F("export_zip_attendance")})}),(0,Z.jsx)("div",{className:c.Z.buttons,children:0!==d?A&&!N&&(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("div",{className:c.Z.save,onClick:function(){k((function(e){return!e}));var e=t.split("-"),i=e[0]>9?e[0]:"0".concat(e[0]),l=e[1]>9?e[1]:"0".concat(e[1]);if(null!==n&&void 0!==n&&n._id)B(f.R.updateClassAttendance({clsId:_,ldate:"".concat(i,"/").concat(l,"/").concat(e[2]),presentStudent:null!==r&&void 0!==r&&r.length?r:[],absentStudent:null!==u&&void 0!==u&&u.length?u:[],alreadyMark:null===n||void 0===n?void 0:n._id})),q({said:null===n||void 0===n?void 0:n._id,attendanceUpdate:{date:"".concat(i,"/").concat(l,"/").concat(e[2]),present:null!==r&&void 0!==r&&r.length?r:[],absent:null!==u&&void 0!==u&&u.length?u:[]}}).then((function(){S(!0),o(0),k((function(e){return!e})),v([]),p([])})).catch({});else{var c=[];null===a||void 0===a||a.map((function(e){return c.push(e._id)}));var d=[],m=[];if(null!==r&&void 0!==r&&r.length){var j,h=(0,s.Z)(c);try{for(h.s();!(j=h.n()).done;){var x=j.value;null!==r&&void 0!==r&&r.includes(x)||m.push(x),1}}catch(N){h.e(N)}finally{h.f()}}else{var b,g=(0,s.Z)(c);try{for(g.s();!(b=g.n()).done;){var Z=b.value;null!==u&&void 0!==u&&u.includes(Z)||d.push(Z),1}}catch(N){g.e(N)}finally{g.f()}}M({cid:_,attendance:{date:"".concat(i,"/").concat(l,"/").concat(e[2]),present:null!==r&&void 0!==r&&r.length?r:d,absent:null!==u&&void 0!==u&&u.length?u:m}}).then((function(t){var n,a;"Today will be holiday Provided by department Admin or already marked attendance"===(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)?J({msg:"Today will be holiday Provided by department Admin or already marked attendance",run:!0}):B(f.R.addClassAttendance({clsId:_,ldate:"".concat(i,"/").concat(l,"/").concat(e[2]),presentStudent:null!==r&&void 0!==r&&r.length?r:d,absentStudent:null!==u&&void 0!==u&&u.length?u:m,alreadyMark:null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.alreadyMark}));o(0),k((function(e){return!e})),v([]),p([])})).catch({})}},children:F("save")})}):""})]}),E&&(0,Z.jsx)(h.Z,{}),H&&(0,Z.jsx)(x.Z,{cid:_,onClose:$,className:y}),G.run&&(0,Z.jsx)(g.Ch,{msg:G.msg,run:G.run,setRun:function(){return J({msg:"",run:!1})},postiton:"bottom",type:"error"})]})};var _=function(e){var t,n,h,x,f,g,_,N,y,S,T,I,A,C,D=e.cid,P=e.isDepartment,E=e.className,k=(0,d.Z)(),w=k.calendarData,M=k.selectedDate,R=k.todayFormatted,q=k.switchMonth,F=k.monthNames,U=k.getNextMonth,O=k.getPrevMonth,H=(0,l.useState)(R),V=(0,i.Z)(H,2),B=V[0],K=V[1],L=B.split("-"),G=L[0]>9?L[0]:"0".concat(L[0]),J=L[1]>9?L[1]:"0".concat(L[1]),$=(0,m.$G)().t,Y=(0,b.v9)((function(e){return e.attendanceStore.classTeacher})),z=(0,l.useState)(""),Q=(0,i.Z)(z,2),W=Q[0],X=Q[1],ee=(0,l.useState)(!1),te=(0,i.Z)(ee,2),ne=te[0],ae=te[1],se=(0,j.EY)({data:{cid:D,page:1,limit:30},skip:!D}),ie=se.classAllStudent,le=se.classAllStudentRefetch,ce=(0,j.Px)({data:{cid:D,date:"".concat(G,"/").concat(J,"/").concat(L[2])},skip:!D}),de=ce.classStudentCurrentAttendance,oe=ce.classStudentCurrentAttendanceRefetch;(0,l.useEffect)((function(){if((null===Y||void 0===Y?void 0:Y.length)>0){var e,t=B.split("-"),n=t[0]>9?t[0]:"0".concat(t[0]),a=t[1]>9?t[1]:"0".concat(t[1]),i="",l=(0,s.Z)(Y);try{for(l.s();!(e=l.n()).done;){var c=e.value;if((null===c||void 0===c?void 0:c.ldate)==="".concat(n,"/").concat(a,"/").concat(t[2])){if((null===c||void 0===c?void 0:c.clsId)===D){i=c;break}ae(!1)}else ae(!1)}}catch(d){l.e(d)}finally{l.f()}X(i)}}),[Y,B,D,ne]),(0,l.useEffect)((function(){D&&(le(),oe())}),[D,oe,le]);var re=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ue=Math.floor(w.map((function(e){return e.date})).indexOf(B)/10),ve=(0,l.useState)(ue),me=(0,i.Z)(ve,2),je=me[0],he=me[1],xe=10*je,be=Math.ceil(w.length/10),fe=w.slice(xe,xe+10).map((function(e,t){return(0,Z.jsxs)("div",{className:e.date===B?"".concat(c.Z.date," ").concat(c.Z.clickedDate):c.Z.date,onClick:function(){return K(e.date)},children:[(0,Z.jsx)("h6",{children:e.date.split("-")[0]}),(0,Z.jsx)("p",{children:re[e.day]})]},t)})),ge=(0,l.useState)(1),Ze=(0,i.Z)(ge,2),pe=Ze[0],_e=Ze[1],Ne=(0,l.useState)([]),ye=(0,i.Z)(Ne,2),Se=ye[0],Te=ye[1],Ie=(0,l.useState)([]),Ae=(0,i.Z)(Ie,2),Ce=Ae[0],De=Ae[1],Pe=l.useState([]),Ee=(0,i.Z)(Pe,2),ke=Ee[0],we=Ee[1],Me=l.useState([]),Re=(0,i.Z)(Me,2),qe=Re[0],Fe=Re[1],Ue=(0,l.useState)(!1),Oe=(0,i.Z)(Ue,2),He=Oe[0],Ve=Oe[1];l.useEffect((function(){var e,t;Te(null===ie||void 0===ie||null===(e=ie.classes)||void 0===e?void 0:e.ApproveStudent),De(null===ie||void 0===ie||null===(t=ie.classes)||void 0===t?void 0:t.ApproveStudent)}),[null===ie||void 0===ie||null===(t=ie.classes)||void 0===t?void 0:t.ApproveStudent]),l.useEffect((function(){we([]),Fe([])}),[pe]);var Be=function(e){var t=(0,a.Z)(ke);if(null!==t&&void 0!==t&&t.includes(e)){var n=t.indexOf(e);t.splice(n,1),we((function(){return(0,a.Z)(t)}))}else we((function(t){return[].concat((0,a.Z)(t),[e])}))},Ke=function(e){var t=(0,a.Z)(qe);if(null!==t&&void 0!==t&&t.includes(e)){var n=t.indexOf(e);t.splice(n,1),Fe((function(){return(0,a.Z)(t)}))}else Fe((function(t){return[].concat((0,a.Z)(t),[e])}))};return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("div",{className:c.Z.attendence,style:{border:P?"none":"0.5px solid #cacaca"},children:[(0,Z.jsxs)("div",{className:c.Z.attendencehead,children:[(0,Z.jsxs)("div",{className:c.Z.attendenceBtns,children:[(0,Z.jsxs)("div",{className:c.Z.changemonth,onClick:function(){return Ve(!He)},children:[(0,Z.jsxs)("h6",{children:[F[M.getMonth()]," ",M.getFullYear()]}),(0,Z.jsx)("img",{alt:"not found",src:"/images/dropdown-icon.svg"}),He&&(0,Z.jsx)("div",{className:c.Z.selectMonthList,children:["January","February","March","April","May","June","July","August","September","October","November","December"].map((function(e,t){return(0,Z.jsx)("div",{className:c.Z.month,onClick:function(){q(t),Ve(!1)},children:e},t)}))})]}),(0,Z.jsx)(p,{alreadyMark:W?{_id:null===W||void 0===W?void 0:W.alreadyMark}:null===de||void 0===de||null===(n=de.classes)||void 0===n||null===(h=n.attendenceDate)||void 0===h?void 0:h[0],today:B,allIdsArray:null===ie||void 0===ie||null===(x=ie.classes)||void 0===x?void 0:x.ApproveStudent,classStudentCurrentAttendanceRefetch:oe,clickedIndex:pe,setClickedIndex:_e,idPresentArray:ke,idAbsentArray:qe,setIdPresentArray:we,setIdAbsentArray:Fe,cid:D,isDepartment:P,className:E,setIsRefetch:ae})]}),(0,Z.jsxs)("div",{className:c.Z.calender,children:[(0,Z.jsx)("div",{className:c.Z.arrowbtn,onClick:function(){je>0?he((function(e){return e-1})):(he(be-1),O())},children:(0,Z.jsx)("img",{alt:"not found",src:"/images/members/left-icon.svg"})}),(0,Z.jsx)("div",{className:c.Z.dates,children:fe}),(0,Z.jsx)("div",{className:c.Z.arrowbtn,onClick:function(){je+1<be?he((function(e){return e+1})):(he(0),U())},children:(0,Z.jsx)("img",{alt:"not found",src:"/images/members/right-icon.svg"})})]})]}),(0,Z.jsx)(o.Z,{}),(0,Z.jsxs)("div",{className:c.Z.tabs,children:[(0,Z.jsxs)("div",{className:0===pe?"".concat(c.Z.tab," ").concat(c.Z.purple):"".concat(c.Z.tab," ").concat(c.Z.grey),onClick:function(){return _e(0)},children:[$("total")," ",null===ie||void 0===ie||null===(f=ie.classes)||void 0===f||null===(g=f.ApproveStudent)||void 0===g?void 0:g.length]}),(0,Z.jsxs)("div",{className:1===pe?"".concat(c.Z.tab," ").concat(c.Z.tabgreen):"".concat(c.Z.tab," ").concat(c.Z.light),onClick:function(){return _e(1)},children:[$("present")," ",W?null!==(_=null===W||void 0===W?void 0:W.presentCount)&&void 0!==_?_:0:null===de||void 0===de||null===(N=de.classes)||void 0===N||null===(y=N.attendenceDate[0])||void 0===y?void 0:y.presentTotal]}),(0,Z.jsxs)("div",{className:2===pe?"".concat(c.Z.tab," ").concat(c.Z.red):"".concat(c.Z.tab," ").concat(c.Z.rose),onClick:function(){return _e(2)},children:[$("absent")," ",W?null!==(S=null===W||void 0===W?void 0:W.absentCount)&&void 0!==S?S:0:null===de||void 0===de||null===(T=de.classes)||void 0===T||null===(I=T.attendenceDate[0])||void 0===I?void 0:I.absentTotal]})]}),(0,Z.jsxs)("div",{className:c.Z.list,children:[0===pe&&(null===ie||void 0===ie||null===(A=ie.classes)||void 0===A||null===(C=A.ApproveStudent)||void 0===C?void 0:C.map((function(e,t){var n,a,s,i,l,d,o,u;return W?null!==W&&void 0!==W&&null!==(n=W.presentStudent)&&void 0!==n&&n.includes(e._id)?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(r.Z,{student:e,status:"present"},t),(0,Z.jsx)("div",{className:c.Z.divider})]}):null!==W&&void 0!==W&&null!==(a=W.absentStudent)&&void 0!==a&&a.includes(e._id)?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(r.Z,{student:e,status:"absent"},t),(0,Z.jsx)("div",{className:c.Z.divider})]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(r.Z,{student:e,status:"initial"},t),(0,Z.jsx)("div",{className:c.Z.divider})]}):null!==de&&void 0!==de&&null!==(s=de.classes)&&void 0!==s&&null!==(i=s.attendenceDate[0])&&void 0!==i&&null!==(l=i.presentStudent)&&void 0!==l&&l.includes(e._id)?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(r.Z,{student:e,status:"present"},t),(0,Z.jsx)("div",{className:c.Z.divider})]}):null!==de&&void 0!==de&&null!==(d=de.classes)&&void 0!==d&&null!==(o=d.attendenceDate[0])&&void 0!==o&&null!==(u=o.absentStudent)&&void 0!==u&&u.includes(e._id)?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(r.Z,{student:e,status:"absent"},t),(0,Z.jsx)("div",{className:c.Z.divider})]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(r.Z,{student:e,status:"initial"},t),(0,Z.jsx)("div",{className:c.Z.divider})]})}))),1===pe&&(null===Se||void 0===Se?void 0:Se.length)>0&&(null===Se||void 0===Se?void 0:Se.map((function(e,t){var n,a,s,i;return W?null!==W&&void 0!==W&&null!==(n=W.presentStudent)&&void 0!==n&&n.includes(e._id)?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(u.Z,{student:e,status:"present",presentTabHandler:Be},t),(0,Z.jsx)("div",{className:c.Z.divider})]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(u.Z,{student:e,presentTabHandler:Be,status:"absent"},t),(0,Z.jsx)("div",{className:c.Z.divider})]}):null!==de&&void 0!==de&&null!==(a=de.classes)&&void 0!==a&&null!==(s=a.attendenceDate[0])&&void 0!==s&&null!==(i=s.presentStudent)&&void 0!==i&&i.includes(e._id)?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(u.Z,{student:e,status:"present",presentTabHandler:Be},t),(0,Z.jsx)("div",{className:c.Z.divider})]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(u.Z,{student:e,presentTabHandler:Be,status:"absent"},t),(0,Z.jsx)("div",{className:c.Z.divider})]})}))),2===pe&&(null===Ce||void 0===Ce?void 0:Ce.length)>0&&(null===Ce||void 0===Ce?void 0:Ce.map((function(e,t){var n,a,s,i;return W?null!==W&&void 0!==W&&null!==(n=W.absentStudent)&&void 0!==n&&n.includes(e._id)?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(v.Z,{student:e,status:"absent",absentTabHandler:Ke},t),(0,Z.jsx)("div",{className:c.Z.divider})]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(v.Z,{student:e,status:"present",absentTabHandler:Ke},t),(0,Z.jsx)("div",{className:c.Z.divider})]}):null!==de&&void 0!==de&&null!==(a=de.classes)&&void 0!==a&&null!==(s=a.attendenceDate[0])&&void 0!==s&&null!==(i=s.absentStudent)&&void 0!==i&&i.includes(e._id)?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(v.Z,{student:e,status:"absent",absentTabHandler:Ke},t),(0,Z.jsx)("div",{className:c.Z.divider})]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(v.Z,{student:e,status:"present",absentTabHandler:Ke},t),(0,Z.jsx)("div",{className:c.Z.divider})]})})))]})]})})}},76452:function(e,t,n){n.d(t,{Z:function(){return T}});var a=n(29439),s=(n(72791),n(16871)),i=n(43504),l=n(39230),c=n(22984),d=n(80184);var o=function(e){var t,n,a,o=e.carryParentState,r=(0,l.$G)().t,u=(0,s.TH)(),v=(0,s.UO)();return(0,d.jsx)("div",{className:c.Z.mcqTop,style:{padding:"0"},children:(0,d.jsxs)("div",{className:c.Z.mcqToptabs,children:[(0,d.jsx)(i.rU,{to:"/q/".concat(v.username,"/member/department/").concat(v.deptname,"?a=class-detail"),state:o,className:"class-detail"===(null===(t=u.search)||void 0===t?void 0:t.substring(3))?"".concat(c.Z.mcqTopItem," ").concat(c.Z.active):c.Z.mcqTopItem,children:(0,d.jsx)("div",{children:r("students")})}),(0,d.jsx)(i.rU,{to:"/q/".concat(v.username,"/member/department/").concat(v.deptname,"?a=class-attendance"),state:o,className:"class-attendance"===(null===(n=u.search)||void 0===n?void 0:n.substring(3))?"".concat(c.Z.mcqTopItem," ").concat(c.Z.active):c.Z.mcqTopItem,children:(0,d.jsx)("div",{children:r("attendance")})}),(0,d.jsx)(i.rU,{to:"/q/".concat(v.username,"/member/department/").concat(v.deptname,"?a=class-subject"),state:o,className:"class-subject"===(null===(a=u.search)||void 0===a?void 0:a.substring(3))?"".concat(c.Z.mcqTopItem," ").concat(c.Z.active):c.Z.mcqTopItem,children:(0,d.jsx)("div",{children:r("subjects")})})]})})},r=n(33148),u=n(23664),v=n(65408),m=n(60943),j=n(893),h=n(8148),x=n(11806),b=n(60726),f=function(e){var t=e.carryParentState,n=e.isDepartment,a=(0,l.$G)().t;return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:x.Z.MiddleContentLeft,style:{border:"none"},children:"CLASS_TEACHER"===n?(0,d.jsxs)("div",{className:x.Z.item,style:{paddingLeft:"2vw"},children:[(0,d.jsx)(b.Z,{carryParentState:t,activeTab:"subject-catalog",children:(0,d.jsxs)("div",{className:x.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/class/class-catalog-icon.svg",alt:"Class Catalog"}),(0,d.jsx)("p",{children:a("catalog")})]})}),(0,d.jsx)(b.Z,{carryParentState:t,activeTab:"subject-attendance",children:(0,d.jsxs)("div",{className:x.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/class/class-attendance-icon.svg",alt:"attendence"}),(0,d.jsxs)("p",{children:[" ",a("attendance")," "]})]})}),(0,d.jsx)(b.Z,{carryParentState:t,activeTab:"subject-assignment",children:(0,d.jsxs)("div",{className:x.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/subject/subject-assignment-icon.svg",alt:"assignment"}),(0,d.jsx)("p",{children:a("assigmnent")})]})}),(0,d.jsx)(b.Z,{carryParentState:t,activeTab:"subject-exam",children:(0,d.jsxs)("div",{className:x.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/department/department-examination-icon.svg",alt:"attendence"}),(0,d.jsx)("p",{children:a("examinations")})]})}),(0,d.jsx)(b.Z,{carryParentState:t,activeTab:"subject-academic",children:(0,d.jsxs)("div",{className:x.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/subject/subject-daily-update-icon.svg",alt:"student Request"}),(0,d.jsx)("p",{style:{textAlign:"center"},children:a("academics_teachings")})]})})]}):(0,d.jsxs)("div",{className:x.Z.item,style:{paddingLeft:"2vw"},children:[(0,d.jsx)(h.Z,{carryParentState:t,activeTab:"subject-catalog",children:(0,d.jsxs)("div",{className:x.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/class/class-catalog-icon.svg",alt:"Class Catalog"}),(0,d.jsx)("p",{children:a("catalog")})]})}),(0,d.jsx)(h.Z,{carryParentState:t,activeTab:"subject-attendance",children:(0,d.jsxs)("div",{className:x.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/class/class-attendance-icon.svg",alt:"attendence"}),(0,d.jsxs)("p",{children:[" ",a("attendance")," "]})]})}),(0,d.jsx)(h.Z,{carryParentState:t,activeTab:"subject-assignment",children:(0,d.jsxs)("div",{className:x.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/subject/subject-assignment-icon.svg",alt:"assignment"}),(0,d.jsx)("p",{children:a("assigmnent")})]})}),(0,d.jsx)(h.Z,{carryParentState:t,activeTab:"subject-exam",children:(0,d.jsxs)("div",{className:x.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/department/department-examination-icon.svg",alt:"attendence"}),(0,d.jsx)("p",{children:a("examinations")})]})}),(0,d.jsx)(h.Z,{carryParentState:t,activeTab:"subject-academic",children:(0,d.jsxs)("div",{className:x.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/subject/subject-daily-update-icon.svg",alt:"student Request"}),(0,d.jsx)("p",{style:{textAlign:"center"},children:a("academics_teachings")})]})})]})})})},g=n(17121),Z=n(11457),p=n(73453),_=n(60463),N=n(81551),y=n(6763),S=n(61587),T=function(e){var t,n,c,h,x,b,T,I,A,C,D,P,E,k,w,M,R,q,F,U,O,H,V,B,K,L,G=e.carryParentState,J=e.viewAs,$=e.did,Y=e.instituteId,z=(0,l.$G)().t,Q=(0,s.TH)(),W=(0,i.lr)(),X=(0,a.Z)(W,1)[0];return(0,d.jsx)(d.Fragment,{children:"subject-academic-detail"===X.get("a")?(0,d.jsx)(N.Z,{}):"assignment-detail"===X.get("a")?(0,d.jsx)(y.Z,{isDepartment:J,carryParentState:G}):"assignment-student-detail"===X.get("a")?(0,d.jsx)(S.Z,{isDepartment:J}):(0,d.jsx)("div",{className:r.Z.departmenthead,children:(0,d.jsxs)("div",{className:r.Z.demaprtment_list,children:[(0,d.jsx)("div",{className:r.Z.with_search,style:{marginBottom:"0.7rem",alignItems:"flex-start",flexDirection:"column"},children:"subject"===(null===(t=X.get("a"))||void 0===t?void 0:t.substring(0,7))?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("h6",{children:[z("subject_name")," : ",null!==(n=null===(c=Q.state)||void 0===c?void 0:c.subjectName)&&void 0!==n?n:""]}),(0,d.jsxs)("h6",{children:[z("subject_teacher")," : ",null!==(h=null===(x=Q.state)||void 0===x?void 0:x.subjectTeacherName)&&void 0!==h?h:""]})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("h6",{children:[z("class_name")," : ",null!==(b=null===(T=Q.state)||void 0===T?void 0:T.clsName)&&void 0!==b?b:""]}),(0,d.jsxs)("h6",{children:[z("class_teacher")," : ",null!==(I=null===(A=Q.state)||void 0===A?void 0:A.teacherName)&&void 0!==I?I:""]})]})}),"subject-detail"===X.get("a")?(0,d.jsx)(f,{carryParentState:G,isDepartment:J}):"subject-catalog"===X.get("a")?(0,d.jsx)(m.Z,{cid:null===(C=Q.state)||void 0===C?void 0:C.clsId,bid:null===(D=Q.state)||void 0===D?void 0:D.batchId,isDepartment:J,sid:null===(P=Q.state)||void 0===P?void 0:P.subjectId}):"subject-attendance"===X.get("a")?(0,d.jsx)(g.Z,{sid:null===(E=Q.state)||void 0===E?void 0:E.subjectId,bid:null===(k=Q.state)||void 0===k?void 0:k.batchId,isDepartment:J,subjectName:null!==(w=null===(M=Q.state)||void 0===M?void 0:M.subjectName)&&void 0!==w?w:""}):"subject-assignment"===X.get("a")?(0,d.jsx)(Z.Z,{sid:null===(R=Q.state)||void 0===R?void 0:R.subjectId,cid:null===(q=Q.state)||void 0===q?void 0:q.clsId,carryParentState:G,bid:null===(F=Q.state)||void 0===F?void 0:F.batchId,isDepartment:J}):"subject-exam"===X.get("a")?(0,d.jsx)(p.Z,{sid:null===(U=Q.state)||void 0===U?void 0:U.subjectId,cid:null===(O=Q.state)||void 0===O?void 0:O.clsId,isDepartment:J}):"subject-academic"===X.get("a")?(0,d.jsx)(_.Z,{sid:null===(H=Q.state)||void 0===H?void 0:H.subjectId,carryParentState:G,isDepartment:J}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o,{carryParentState:G}),"class-detail"===X.get("a")&&(0,d.jsx)(u.Z,{cid:Q.state.clsId,openAs:"SUBJECT_TEACHER",isDepartment:!0}),"class-subject"===X.get("a")&&(0,d.jsx)(v.Z,{carryParentState:G,clsId:null===(V=Q.state)||void 0===V?void 0:V.clsId,isView:"DEPARTMENT_HEAD",instituteId:Y,did:$}),"class-attendance"===X.get("a")&&(0,d.jsx)(j.Z,{cid:null===(B=Q.state)||void 0===B?void 0:B.clsId,isDepartment:!0,className:null!==(K=null===(L=Q.state)||void 0===L?void 0:L.clsName)&&void 0!==K?K:""})]})]})})})}},60463:function(e,t,n){n.d(t,{Z:function(){return _}});var a=n(1413),s=n(29439),i=n(72791),l=n(83401),c=n(39230),d=n(98094),o=n(93433),r=n(99532),u=n(23441),v=n(65543),m=n(40444),j=n(34219),h=n(11105),x=n(80184),b=function(e){var t,n=e.sid,a=e.reftechStatus,l=e.setReftechStatus,c=e.isDepartment,d=(0,i.useState)(!0),b=(0,s.Z)(d,2),f=b[0],g=b[1],Z=(0,i.useState)(1),p=(0,s.Z)(Z,2),_=p[0],N=p[1],y=(0,u.YD)(),S=(0,s.Z)(y,2),T=S[0],I=S[1],A=(0,i.useState)([]),C=(0,s.Z)(A,2),D=C[0],P=C[1],E=(0,i.useState)(!0),k=(0,s.Z)(E,2),w=k[0],M=k[1],R=(0,v.u)().scrollToTop,q=(0,m.RX)({data:{sid:n,page:a?1:_,limit:10},skip:!n}),F=q.getAllDailySubject,U=q.getAllDailySubjectRefetch;(0,i.useEffect)((function(){a&&(N((function(e){return 1})),l(!1),U())}),[a]),(0,i.useEffect)((function(){n&&(M(!0),U())}),[n,_,U]),(0,i.useEffect)((function(){R()}),[R]),(0,i.useEffect)((function(){I&&f&&N((function(e){return e+1}))}),[I,f]),(0,i.useEffect)((function(){var e,t;null!==F&&void 0!==F&&F.dailyUpdate?(P(1===_?null===F||void 0===F?void 0:F.dailyUpdate:function(e){return(0,o.Z)(new Set([].concat((0,o.Z)(e),(0,o.Z)(null===F||void 0===F?void 0:F.dailyUpdate)).map(JSON.stringify))).map(JSON.parse)}),M(!1)):0===(null===F||void 0===F||null===(e=F.dailyUpdate)||void 0===e?void 0:e.length)&&M(!1),10===(null===F||void 0===F||null===(t=F.dailyUpdate)||void 0===t?void 0:t.length)?g(!0):g(!1)}),[null===F||void 0===F?void 0:F.dailyUpdate]);var O=function(){N((function(e){return 1})),M(!0),U()};return(0,x.jsxs)(x.Fragment,{children:[null===D||void 0===D?void 0:D.map((function(e,t){return(null===D||void 0===D?void 0:D.length)===t+1?(0,x.jsx)("div",{ref:T,children:(0,x.jsx)(r.Z,{daily:e,sid:n,onParentRefetch:O,isView:c?"STUDENT":""})},null===e||void 0===e?void 0:e._id):(0,x.jsx)(r.Z,{daily:e,sid:n,onParentRefetch:O,isView:c?"STUDENT":""},null===e||void 0===e?void 0:e._id)})),!w&&!(null!==F&&void 0!==F&&null!==(t=F.dailyUpdate)&&void 0!==t&&t.length)&&(0,x.jsx)(j.Z,{customStyleContainer:{marginTop:"9rem"},title:"No academics found yet."}),w&&(0,x.jsx)(h.Z,{status:"white"})]})},f=n(10515),g=n(4213),Z=n(16871),p=n(43504),_=function(e){var t=e.sid,n=e.carryParentState,o=e.isDepartment,r=(0,c.$G)().t,u=(0,Z.UO)(),v=(0,i.useState)(!1),m=(0,s.Z)(v,2),j=m[0],h=m[1],_=(0,i.useState)(!1),N=(0,s.Z)(_,2),y=N[0],S=N[1],T=(0,i.useState)(!1),I=(0,s.Z)(T,2),A=I[0],C=I[1],D=function(){h((function(e){return!e}))};return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:l.Z.subject_academic_container,children:[(0,x.jsxs)("div",{className:l.Z.subject_academic_title,children:[(0,x.jsx)("h6",{children:r("academics_teachings")}),(0,x.jsx)("div",{className:l.Z.subject_academic_link,children:"CLASS_TEACHER"===o?(0,x.jsx)(p.rU,{to:"/q/".concat(u.username,"/member/class/").concat(u.cname,"?a=subject-academic-detail"),state:(0,a.Z)((0,a.Z)({},n),{},{subjectId:t,isView:"DEPARTMENT_HEAD"}),children:(0,x.jsx)("h6",{className:l.Z.add_record_lecture,style:{margin:"0"},children:r("view_academic_detail")})}):"DEPARTMENT_HEAD"===o?(0,x.jsx)(p.rU,{to:"/q/".concat(u.username,"/member/department/").concat(u.deptname,"?a=subject-academic-detail"),state:(0,a.Z)((0,a.Z)({},n),{},{subjectId:t,isView:"DEPARTMENT_HEAD"}),children:(0,x.jsx)("h6",{className:l.Z.add_record_lecture,style:{margin:"0"},children:r("view_academic_detail")})}):(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(p.rU,{to:"/q/".concat(u.username,"/member/subject/").concat(u.sname,"?a=subject-academic"),state:(0,a.Z)((0,a.Z)({},n),{},{subjectId:t,isView:o?"DEPARTMENT_HEAD":"SUBJECT_TEACHER",isSubType:"SUBJECT_TEACHER_INSTITUTE"}),children:(0,x.jsx)("h6",{className:l.Z.add_record_lecture,style:{margin:"0"},children:r("view_academic_detail")})})})})]}),(0,x.jsx)(d.Z,{customStyle:{width:"100%",marginTop:"0.7rem",marginBottom:"0.7rem"}}),o?null:(0,x.jsx)("div",{className:l.Z.record_lecture,children:(0,x.jsx)("h6",{className:l.Z.add_record_lecture,onClick:D,children:r("record_lecture_teachings")})}),j&&(0,x.jsx)(f.Z,{onClose:D,sid:t,onRefetch:function(){C(!0)}}),y&&(0,x.jsx)(g.Z,{onClose:function(){S((function(e){return!e}))},sid:t}),(0,x.jsx)(b,{sid:t,reftechStatus:A,setReftechStatus:C,isDepartment:o})]})})}},99532:function(e,t,n){n.d(t,{Z:function(){return h}});var a=n(29439),s=n(72791),i=n(83401),l=n(72426),c=n.n(l),d=n(39230),o=n(69721),r=n(10307),u=n(80184),v=function(e){var t,n,a,s,l,v,m,j=e.isView,h=e.updateDescription,x=e.upadateImage,b=e.createdAt,f=e.subject,g=(0,d.$G)().t;return(0,u.jsxs)("div",{className:i.Z.aditional_info_container,children:["STUDENT"===j?(0,u.jsxs)("div",{className:i.Z.aditional_info_dates,children:[(0,u.jsx)("h5",{children:null!==(t=null===f||void 0===f?void 0:f.subjectName)&&void 0!==t?t:""}),(0,u.jsx)("h6",{children:"".concat(null!==(n=null===f||void 0===f||null===(a=f.subjectTeacherName)||void 0===a?void 0:a.staffFirstName)&&void 0!==n?n:""," ").concat(null!==(s=null===f||void 0===f||null===(l=f.subjectTeacherName)||void 0===l?void 0:l.staffMiddleName)&&void 0!==s?s:""," ").concat(null!==(v=null===f||void 0===f||null===(m=f.subjectTeacherName)||void 0===m?void 0:m.staffLastName)&&void 0!==v?v:"")})]}):null,h||(null===x||void 0===x?void 0:x.length)>0?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h6",{children:g("additional_info")}),(0,u.jsx)("p",{children:h}),(null===x||void 0===x?void 0:x.length)>0?(0,u.jsx)("div",{className:i.Z.aditional_info_images,children:null===x||void 0===x?void 0:x.map((function(e){return(0,r.Y)(null===e||void 0===e?void 0:e.documentKey)?(0,u.jsx)("a",{title:"view File",href:"".concat(o.r3,"/").concat(null===e||void 0===e?void 0:e.documentKey),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,u.jsx)("img",{src:"".concat(o.yI,"/").concat(null===e||void 0===e?void 0:e.documentKey),alt:"files"},null===e||void 0===e?void 0:e.documentKey)}):null}))}):null]}):null,(0,u.jsxs)("div",{className:i.Z.aditional_info_dates,children:[(0,u.jsx)("p",{children:c()(b).format("DD MMM yyyy")}),(0,u.jsx)("p",{children:c()(b).format("LT")})]})]})},m=n(61292),j=n(10515),h=function(e){var t,n=e.daily,l=e.sid,o=e.onParentRefetch,r=e.isView,h=(0,d.$G)().t,x=(0,s.useState)(""),b=(0,a.Z)(x,2),f=b[0],g=b[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:i.Z.academic_card_container,children:[(0,u.jsxs)("div",{className:i.Z.academic_card_top,style:{justifyContent:"space-between"},children:[(0,u.jsxs)("div",{className:i.Z.academic_card_top_text,children:[(0,u.jsx)("img",{src:"/images/member_tab/subject/subject-topic-icon.svg",alt:"topic icon"}),(0,u.jsxs)("h6",{children:[c()(null===n||void 0===n?void 0:n.date).format("Do MMMM, yyyy"),": Topics Covered"]})]}),"STUDENT"===r?null:(0,u.jsxs)("h6",{onClick:function(){return g(n)},children:["(",h("edit_"),")"]})]}),null===n||void 0===n||null===(t=n.daily_topic)||void 0===t?void 0:t.map((function(e){return(0,u.jsx)(m.Z,{topic:null===e||void 0===e?void 0:e.topic,topicType:null===e||void 0===e?void 0:e.status,topicCurrentStatus:null===e||void 0===e?void 0:e.current_status,isView:"DAILY"},null===e||void 0===e?void 0:e._id)})),(0,u.jsx)(v,{updateDescription:null===n||void 0===n?void 0:n.updateDescription,upadateImage:null===n||void 0===n?void 0:n.upadateImage,createdAt:null===n||void 0===n?void 0:n.createdAt,isView:r,subject:null===n||void 0===n?void 0:n.subject})]}),f&&(0,u.jsx)(j.Z,{onClose:function(){return g("")},sid:l,onRefetch:o,dailyMenu:f})]})}},95078:function(e,t,n){n.d(t,{Z:function(){return g}});var a=n(1413),s=n(29439),i=n(72791),l=n(83638),c=n(92673),d=n(48293),o=n(21348),r=n(98684),u=n(90904),v=n(93638),m=n(15427),j=n(55336),h=n(16925),x=n(39230),b=n(80184),f=function(e){var t=e.onParentClose,n=e.state,a=e.onClose,l=e.mid,c=e.flow,f=e.onNavigate,g=(0,x.$G)().t,Z=(0,i.useState)(!1),p=(0,s.Z)(Z,2),_=p[0],N=p[1],y=(0,m._7)(),S=(0,s.Z)(y,1)[0];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.Z,{onClose:a,children:(0,b.jsxs)("div",{className:h.Z.modal_container,children:[(0,b.jsx)(o.Z,{children:(0,b.jsxs)("div",{className:h.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:h.Z.modal_container_header,children:(0,b.jsx)("h6",{children:g("confirm_to_request_stock")})}),(0,b.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:a})]})}),(0,b.jsx)(u.Z,{customStyleBorder:{marginBottom:"0"}}),(0,b.jsx)(o.Z,{customStyle:{paddingBottom:"1rem"},children:(0,b.jsx)(v.Z,{label:"request_stock",onAction:function(){var e;l&&null!==n&&void 0!==n&&null!==(e=n.arr)&&void 0!==e&&e.length&&c&&null!==n&&void 0!==n&&n.assignee&&(N((function(e){return!e})),S({stid:l,bodyParameter:{arr:null===n||void 0===n?void 0:n.arr,flow:c,assignee:null===n||void 0===n?void 0:n.assignee}}).then((function(){N((function(e){return!e})),f(),t()})).catch({}))}})})]})}),_&&(0,b.jsx)(j.Z,{})]})},g=function(e){var t=e.onClose,n=e.onNavigate,d=e.mid,o=e.stid,r=e.flow,u=(0,i.useState)(1),v=(0,s.Z)(u,2),m=v[0],j=v[1],h=(0,i.useState)({arr:[],assignee:"",goods:[],goodsId:[]}),x=(0,s.Z)(h,2),g=x[0],Z=x[1];return(0,b.jsx)(b.Fragment,{children:1===m?(0,b.jsx)(l.Z,{onClose:t,stid:o,onGoodsSelect:function(e){Z((function(t){return(0,a.Z)((0,a.Z)({},t),{},{goods:null===e||void 0===e?void 0:e.goods,goodsId:null===e||void 0===e?void 0:e.goodsId})})),j(2)},dataState:g}):2===m?(0,b.jsx)(c.Z,{onClose:function(){return j(1)},state:g,setStep:function(){return j(3)},setState:Z}):3===m?(0,b.jsx)(f,{onClose:function(){return j(2)},state:g,onParentClose:t,stid:o,onNavigate:n,flow:r,mid:d}):null})}},70179:function(e,t,n){var a=n(29439),s=n(43504),i=n(90904),l=n(98967),c=n(63162),d=n(80184);t.Z=function(e){var t=e.parentState,n=e.inititalUrl,r=(0,s.lr)(),u=(0,a.Z)(r,1)[0];return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.Z,{children:o.map((function(e){var a;return(0,d.jsx)(c.Z,{tab:e,isLink:!0,isActive:null===(a=e.groupIs)||void 0===a?void 0:a.includes(u.get("n")),parentState:t,url:"".concat(n).concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,d.jsx)(i.Z,{customStyleBorder:{marginBlock:"0"}})]})};var o=[{label:"register",id:"register",urlKey:"",groupIs:["",null]},{label:"request",id:"request",urlKey:"&n=request",groupIs:["request"]},{label:"issue",id:"issue",urlKey:"&n=issue",groupIs:["issue"]},{label:"stocktake",id:"stocktake",urlKey:"&n=stocktake",groupIs:["stocktake"]},{label:"consumption",id:"consumption",urlKey:"&n=consumption",groupIs:["consumption"]},{label:"return",id:"return",urlKey:"&n=return",groupIs:["return"]},{label:"maintenance",id:"maintenance",urlKey:"&n=maintenance",groupIs:["maintenance"]}]},22984:function(e,t){t.Z={studentMCQ:"Tabs_studentMCQ__JqqjO",mcqToptabs:"Tabs_mcqToptabs__YfEJB",mcqTop:"Tabs_mcqTop__eI5Gu",mcqTopItem:"Tabs_mcqTopItem__KkV+Q",active:"Tabs_active__j6mN9"}}}]);
//# sourceMappingURL=46974.9fff2d8b.chunk.js.map