"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[42525],{12554:(e,t,a)=>{a.d(t,{j:()=>d});var n=a(84959),i=a(95048),s=a(16871),o=a(53013),r=a(48673),l=a(72791);const d=()=>{const[e,t]=(0,l.useState)({email:"",username:""}),[a,d]=(0,l.useState)({username:"",email:""}),[_]=(0,n.Wr)(),[c]=(0,n.ml)(),[f]=(0,n.IM)(),[u]=(0,n.YS)(),m=(0,i.I0)(),h=(0,s.s0)(),{exitsingUsernameVerify:v,exitsingUsernameVerifyRefetch:g}=(0,n.s_)({username:e.username,skip:!e.username}),{exitsingEmailVerify:p,exitsingEmailVerifyRefetch:x}=(0,n.qo)({email:e.email,skip:!e.email});(0,l.useEffect)((()=>{e.email&&x(),e.username&&g()}),[e.email,e.username]),(0,l.useEffect)((()=>{v&&d((e=>{var t;return{...e,username:null!==v&&void 0!==v&&null!==(t=v.username)&&void 0!==t&&t._id?"invalid":"valid"}})),p&&d((e=>{var t;return{...e,email:null!==p&&void 0!==p&&null!==(t=p.valid_flag)&&void 0!==t&&t.emailId?"invalid":"valid"}}))}),[v,p]);return{mobileRegister:async e=>{try{const{data:t}=await _({userPhoneNumber:e.insPhoneNumber,status:e.status});if(t.message)return{phoneNumber:null===t||void 0===t?void 0:t.userPhoneNumber}}catch{return{msg:"Time out of request..."}}},numberVerification:async e=>{try{const{data:t}=await c({userOtpCode:e.otpCode,userPhoneNumber:e.phoneNumber});if("Invalid OTP"===t.message)return{msg:"Invalid OTP",run:!0};if(null!==t&&void 0!==t&&t.userStatus)return{mobileStatus:null===t||void 0===t?void 0:t.userStatus,data:t}}catch{return{msg:"Time out of request..."}}},registerAccount:async e=>{try{const a=new FormData;for(let t in e)a.append(t,e[t]);const{data:n}=await f({userPhoneNumber:e.id,profileCreation:a});if("Username already exists"===n.message)return{msg:"Username already exists",notify:!0};var t;if(n.user)return{_id:null===(t=n.user)||void 0===t?void 0:t._id}}catch{return{msg:"Time out of request..."}}},createPassword:async e=>{try{const{data:n}=await u({id:e.id,password:{userPassword:e.insPassword,userRePassword:e.insRePassword}});var t,a;if(n.login)m(o.R.loginQuery({login:!0,token:n.token,id:null===(t=n.user)||void 0===t?void 0:t._id,status:!0,loggedinAs:"user",username:n.user.username})),m(r.S.addInstituteId({id:n.user?null===(a=n.user)||void 0===a?void 0:a._id:"",loggedinAs:"user"})),h("/q/".concat(n.user.username,"/feed"))}catch{return{msg:"Time out or wrong request..."}}},verifyUsername:async e=>{t((()=>({email:"",username:e})))},verifyEmail:async e=>{t((()=>({email:e,username:""})))},validInput:a}}},42525:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Y});const n={navbar:"InsProfileSetting_navbar__20UJI"};var i=a(72791),s=a(20772);const o="MainBody_mainbody__rRT9r",r="MainBody_sidebar__JxQXG",l="MainBody_stats__bHTN-",d="Sidebar_sidebar__bzAYS",_="Sidebar_heading__FKVbZ",c="Sidebar_list__siFEj",f="Sidebar_options__0Co8i",u="Sidebar_imgDark__kNbTf",m="Sidebar_img__qRg4M",h="Sidebar_borderLeft__LOQVA";var v=a(39230),g=a(35395),p=a(80184);const x=i.lazy((()=>a.e(83098).then(a.bind(a,83098))));const j=function(e){let{clickItem:t,changeItem:a}=e;const[n,s]=(0,i.useState)(!1),{t:o}=(0,v.$G)();return(0,p.jsxs)("div",{className:d,children:[(0,p.jsx)("div",{className:_,children:"Settings"}),(0,p.jsxs)("div",{className:c,children:[(0,p.jsxs)("div",{className:1===t?"".concat(f," ").concat(h):f,onClick:()=>a(1),children:[(0,p.jsx)("img",{className:m,alt:"not found",src:"/images/account.svg"}),(0,p.jsx)("img",{className:u,alt:"not found",src:"/images/account-dark.svg"}),(0,p.jsx)("p",{children:o("acount")})]}),(0,p.jsxs)("div",{className:2===t?"".concat(f," ").concat(h):f,onClick:()=>a(2),children:[(0,p.jsx)("img",{className:m,alt:"not found",src:"/images/bell.svg"}),(0,p.jsx)("img",{className:u,alt:"not found",src:"/images/bell-dark.svg"}),(0,p.jsx)("p",{children:o("notification")})]}),(0,p.jsxs)("div",{className:3===t?"".concat(f," ").concat(h):f,onClick:()=>a(3),children:[(0,p.jsx)("img",{className:m,alt:"not found",src:"/images/wallet.svg"}),(0,p.jsx)("img",{className:u,alt:"not found",src:"/images/wallet-dark.svg"}),(0,p.jsx)("p",{children:o("payment_gateway")})]}),(0,p.jsxs)("div",{className:7===t?"".concat(f," ").concat(h):f,onClick:()=>a(7),children:[(0,p.jsx)("img",{className:m,alt:"not found",src:"/images/lock.svg"}),(0,p.jsx)("img",{className:u,alt:"not found",src:"/images/lock-dark.svg"}),(0,p.jsx)("p",{children:o("privacy")})]}),(0,p.jsx)("a",{href:"https://dashboard.qviple.com",target:"_blank",rel:"noopener noreferrer",children:(0,p.jsxs)("div",{className:8===t?"".concat(f," ").concat(h):f,children:[(0,p.jsx)("img",{className:m,alt:"not found",src:"/images/information.svg"}),(0,p.jsx)("img",{className:u,alt:"not found",src:"/images/information-dark.svg"}),(0,p.jsx)("p",{children:o("about_quviple")})]})}),(0,p.jsxs)("div",{className:9===t?"".concat(f," ").concat(h):f,onClick:()=>{s(!0),a(7)},children:[(0,p.jsx)("img",{className:m,alt:"not found",src:"/images/logout.svg"}),(0,p.jsx)("img",{className:u,alt:"not found",src:"/images/logout-dark.svg"}),(0,p.jsx)("p",{children:o("logout")})]})]}),(0,p.jsx)(g.Z,{children:n&&(0,p.jsx)(x,{changeLogout:()=>{s(!1)},logout:n})})]})};var b=a(69721);const y="Header_header__cbTIH",S="Header_imgContainer__rHdcX",N="Header_textContainer__QmV7v";var P=a(43504),k=a(39480),I=a(95048);const C=function(){var e,t,a,n,s;const o=(0,I.v9)((e=>e.idChange.id)),{oneInstituteDashboard:r,oneInstituteDashboardRefetch:l}=(0,k.gq)({id:o,skip:!o});return(0,i.useEffect)((()=>{o&&l()}),[o,l]),(0,p.jsx)(P.rU,{to:"/q/".concat(null===r||void 0===r||null===(e=r.institute)||void 0===e?void 0:e.name,"/profile"),children:(0,p.jsxs)("div",{className:y,children:[(0,p.jsx)("div",{className:S,children:(0,p.jsx)("img",{src:"1"!==(null===r||void 0===r||null===(t=r.institute)||void 0===t?void 0:t.photoId)?"".concat(b.yI,"/").concat(null===r||void 0===r||null===(a=r.institute)||void 0===a?void 0:a.insProfilePhoto):"/images/ins_default_profile.svg",alt:""})}),(0,p.jsxs)("div",{className:N,children:[(0,p.jsx)("h5",{children:null===r||void 0===r||null===(n=r.institute)||void 0===n?void 0:n.name}),(0,p.jsx)("p",{children:null===r||void 0===r||null===(s=r.institute)||void 0===s?void 0:s.insName})]})]})})},w={stats:"Stats_stats__WzyTO",body:"Stats_body__BwVN5"},Z="Recovery_recovery__wE+F5",F="Recovery_btn__ASeP1",R="Recovery_errorspan__ORzvS";var T=a(51561),U=a(29899),M=a(763),H=a(12554),q=a(84959),D=a(98734);const V=function(e){var t,a,n,s;let{switchh:o}=e;const{t:r}=(0,v.$G)(),l=(0,I.v9)((e=>e.authChange)),[d,_]=(0,i.useState)({recoveryMail:""}),[c,f]=(0,i.useState)({insPhoneNumber:""}),[u,m]=(0,i.useState)(""),[h,g]=(0,i.useState)(!1),[x,j]=(0,i.useState)({msg:"",run:!1}),[b,y]=(0,i.useState)(),[S,N]=(0,i.useState)(!1),[P]=(0,U.N)(),[C]=(0,U.$w)(),{validInput:w,verifyUsername:V}=(0,H.j)(),[E]=(0,q.tX)(),{oneInstituteDashboard:z,oneInstituteDashboardRefetch:L}=(0,k.gq)({id:null===l||void 0===l?void 0:l.id,skip:!(null!==l&&void 0!==l&&l.id)});(0,i.useEffect)((()=>{null!==l&&void 0!==l&&l.id&&L()}),[null===l||void 0===l?void 0:l.id,L]),(0,i.useEffect)((()=>{var e,t;null!==z&&void 0!==z&&null!==(e=z.institute)&&void 0!==e&&e.name&&m(null===z||void 0===z||null===(t=z.institute)||void 0===t?void 0:t.name)}),[null===z||void 0===z||null===(t=z.institute)||void 0===t?void 0:t.name]);const A=(0,i.useCallback)((0,M.debounce)((e=>V(e)),500),[]);return(0,p.jsxs)(p.Fragment,{children:[""!==b?(0,p.jsx)(T.qu,{run:S,setRun:N,msg:b}):"",(0,p.jsxs)("div",{className:Z,children:[(0,p.jsxs)("h6",{children:[r("add_recovery_email")," (",null===z||void 0===z||null===(a=z.institute)||void 0===a?void 0:a.recoveryMail,")"]}),(0,p.jsx)("input",{type:"email",name:"recoveryMail",value:d.recoveryMail,onChange:e=>_({...d,recoveryMail:e.target.value}),placeholder:r("add_recovery_details")}),""!==d.recoveryMail?(0,p.jsx)("button",{className:"".concat(F),type:"button",onClick:()=>{P({id:null===l||void 0===l?void 0:l.id,mail:d}).then((e=>{e.data.status&&(L(),y(e.data.message),N(!0),_({recoveryMail:""}))}))},children:r("update")}):(0,p.jsx)("button",{type:"button",className:"".concat(F),disabled:!0,children:r("update")}),(0,p.jsxs)("div",{style:{width:"100%",marginTop:"4vw"},children:[(0,p.jsxs)("h6",{children:[r("add_recovery_phone_no")," (",null===z||void 0===z||null===(n=z.institute)||void 0===n?void 0:n.insPhoneNumber,")"]}),(0,p.jsx)("input",{type:"tel",name:"insPhoneNumber",value:c.insPhoneNumber,maxLength:"10",minLength:"10",onChange:e=>f({...c,insPhoneNumber:e.target.value}),placeholder:r("add_recovery_phone_no")}),""!==c.insPhoneNumber?(0,p.jsx)("button",{className:"".concat(F),type:"button",onClick:()=>{C({id:null===l||void 0===l?void 0:l.id,phone:c}).then((e=>{e.data.status&&(L(),y(e.data.message),N(!0),f({insPhoneNumber:""}))}))},children:r("update")}):(0,p.jsx)("button",{type:"button",className:"".concat(F),disabled:!0,children:r("update")})]}),(0,p.jsxs)("div",{style:{width:"100%",marginTop:"4vw"},children:[(0,p.jsxs)("h6",{children:[r("edit_username"),!(null!==(s=["valid",""])&&void 0!==s&&s.includes(null===w||void 0===w?void 0:w.username))&&(0,p.jsxs)("span",{className:R,children:[" "," ",r("username_is_already_exits")]})]}),(0,p.jsx)("input",{type:"text",name:"username",value:u,maxLength:"10",minLength:"10",onChange:e=>{return t=e.target.value,A(t),void m(t);var t},placeholder:r("type_username")}),""!==u?(0,p.jsx)("button",{className:"".concat(F),type:"button",onClick:()=>{var e,t,a;u===(null===z||void 0===z||null===(e=z.institute)||void 0===e?void 0:e.name)||null!==(t=["valid",""])&&void 0!==t&&t.includes(null===w||void 0===w?void 0:w.username)&&(g((e=>!e)),E({o_name:null===z||void 0===z||null===(a=z.institute)||void 0===a?void 0:a.name,n_name:u}).then((e=>{e.data.flag?L():j({msg:e.data.message,run:!0}),g((e=>!e))})).catch({}))},children:r("update")}):(0,p.jsx)("button",{type:"button",className:"".concat(F),disabled:!0,children:r("update")})]})]}),x.run&&(0,p.jsx)(T.Ch,{msg:x.msg,run:x.run,setRun:()=>j({msg:"",run:!1}),postiton:"bottom",type:"error"}),h&&(0,p.jsx)(D.Z,{})]})},E=i.lazy((()=>a.e(2901).then(a.bind(a,2901))));const z=function(){const[e,t]=(0,i.useState)(!1);return(0,p.jsxs)(p.Fragment,{children:[!e&&(0,p.jsx)(V,{switchh:()=>{t(!0)}}),(0,p.jsx)(g.Z,{children:e&&(0,p.jsx)(E,{})})]})};var L=a(36033),A=a(88575),Q=a(98094),G=a(90865);const O=()=>{var e;const{t:t}=(0,v.$G)(),a=(0,I.v9)((e=>e.authChange)),[n,s]=(0,i.useState)(""),[o,r]=(0,i.useState)(!1),[l,d]=(0,i.useState)({razor:!1,paytm:!1}),[_]=(0,U.CO)(),{oneInstituteProfile:c,oneInstituteProfileRefetch:f}=(0,k.p0)({data:{id:null===a||void 0===a?void 0:a.id,type:"ID"},skip:!(null!==a&&void 0!==a&&a.id)});(0,i.useEffect)((()=>{null!==a&&void 0!==a&&a.id&&f()}),[null===a||void 0===a?void 0:a.id,f]),(0,i.useEffect)((()=>{var e,t,a,n,i;null!==c&&void 0!==c&&null!==(e=c.institute)&&void 0!==e&&e.merchant_options&&d({razor:null===c||void 0===c||null===(t=c.institute)||void 0===t||null===(a=t.merchant_options)||void 0===a?void 0:a.razor_pay,paytm:null===c||void 0===c||null===(n=c.institute)||void 0===n||null===(i=n.merchant_options)||void 0===i?void 0:i.paytm})}),[null===c||void 0===c||null===(e=c.institute)||void 0===e?void 0:e.merchant_options]);const u=(e,t)=>{if(null!==a&&void 0!==a&&a.id){const n={...l};for(let a in n)a===e&&(n[a]=t);_({id:null===a||void 0===a?void 0:a.id,formSetting:n}).then((()=>{s("Add joining details updated"),r(!0)})).catch({}),d((a=>({...a,[e]:t})))}};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:A.Z.notification,style:{minHeight:"fit-content",padding:"1rem",height:"30rem"},children:[(0,p.jsx)("h5",{children:t("payment_setting")}),(0,p.jsx)(G.Z,{labelHeading:t("turn_on_paytm"),labelDescription:"",defaultLabel:!1,checkedToggle:l.paytm,onToggleHandler:e=>u("paytm",e.target.checked)}),(0,p.jsx)(Q.Z,{customStyle:{width:"100%"}}),(0,p.jsx)(G.Z,{labelHeading:t("turn_on_razor"),labelDescription:"",defaultLabel:!1,checkedToggle:l.razor,onToggleHandler:e=>u("razor",e.target.checked)})]}),(0,p.jsx)(T.Ch,{run:o,setRun:r,msg:n,postiton:"bottom",type:"success"})]})},X=i.lazy((()=>a.e(20230).then(a.bind(a,20230)))),K=i.lazy((()=>a.e(80002).then(a.bind(a,80002))));const B=function(e){let{clickItem:t}=e;return(0,p.jsxs)(p.Fragment,{children:[1===t&&(0,p.jsx)(z,{}),(0,p.jsx)(g.Z,{children:2===t&&(0,p.jsx)(X,{})}),(0,p.jsx)(g.Z,{children:3===t&&(0,p.jsx)(O,{})}),6===t&&(0,p.jsx)(L.Z,{}),(0,p.jsx)(g.Z,{children:7===t&&(0,p.jsx)(K,{})})]})};const W=function(e){let{changeItem:t,clickItem:a}=e;return(0,p.jsxs)("div",{className:w.stats,children:[(0,p.jsx)("div",{className:w.header,children:(0,p.jsx)(C,{})}),(0,p.jsx)("div",{className:w.body,children:(0,p.jsx)(B,{changeItem:t,clickItem:a})})]})};const J=function(){const[e,t]=(0,i.useState)(1),a=e=>{t(e)};return(0,p.jsxs)("div",{className:o,children:[(0,p.jsx)("div",{className:r,children:(0,p.jsx)(j,{changeItem:a,clickItem:e})}),(0,p.jsx)("div",{className:l,children:(0,p.jsx)(W,{changeItem:a,clickItem:e})})]})};const Y=function(){return(0,p.jsxs)("div",{className:n.insprofilesetting,children:[(0,p.jsx)("div",{className:n.navbar,children:(0,p.jsx)(s.default,{status:"profile"})}),(0,p.jsx)(J,{})]})}},98094:(e,t,a)=>{a.d(t,{Z:()=>s});a(72791);var n=a(55136),i=a(80184);const s=e=>{let{customStyle:t}=e;return(0,i.jsx)("hr",{className:n.Z.universal_hr,style:{...t}})}},36033:(e,t,a)=>{a.d(t,{Z:()=>s});a(72791);const n="ComingSoon_comingSoon__rNF-A";var i=a(80184);const s=function(){return(0,i.jsx)("div",{className:n,children:(0,i.jsx)("img",{src:"/images/comingsoon.gif",alt:""})})}},90865:(e,t,a)=>{a.d(t,{Z:()=>r});a(72791);var n=a(89891),i=a(39320),s=a(80184);const o={inputProps:{"aria-label":"Switch demo"}},r=e=>{let{customContainer:t,customLabel:a,labelDescription:r,labelHeading:l,defaultLabel:d,checkedToggle:_,onToggleHandler:c,children:f}=e;return(0,s.jsxs)("div",{className:i.Z.form_toggle_container,style:{...t},children:[(0,s.jsxs)("div",{className:i.Z.form_toggle_label,children:[d?(0,s.jsx)(n.Z,{...o,defaultChecked:!0,disabled:!0}):(0,s.jsx)(n.Z,{...o,checked:_,onChange:c}),(0,s.jsx)("span",{style:{...a},children:l})]}),r&&(0,s.jsx)("div",{className:i.Z.form_toggle_description,children:r}),f]})}},88575:(e,t,a)=>{a.d(t,{Z:()=>n});const n={notification:"Notification_notification__Qpl1F",divider:"Notification_divider__DKVad",row:"Notification_row__RcmDA"}},55136:(e,t,a)=>{a.d(t,{Z:()=>n});const n={staff_profile_container:"StaffProfile_staff_profile_container__GG5AM",staff_header_container:"StaffProfile_staff_header_container__avRlK",staff_header_function:"StaffProfile_staff_header_function__l9cDM",staff_header_text:"StaffProfile_staff_header_text__XX8rQ",staff_header_prev:"StaffProfile_staff_header_prev__ImXKU",staff_header_next:"StaffProfile_staff_header_next__jjoJr",staff_header_close:"StaffProfile_staff_header_close__wXG-N",staff_profile_photo_name:"StaffProfile_staff_profile_photo_name__WWUV4",staff_profile_photo_index:"StaffProfile_staff_profile_photo_index__-yyx9",each_info_container:"StaffProfile_each_info_container__Mo3TB",each_field_text:"StaffProfile_each_field_text__vvAvg",each_field_text_value:"StaffProfile_each_field_text_value__k1OsE",universal_hr:"StaffProfile_universal_hr__w130J",staff_profile_photo_container:"StaffProfile_staff_profile_photo_container__rFPEV",staff_profile_photo_info:"StaffProfile_staff_profile_photo_info__CxVDi",staff_profile_photo_image:"StaffProfile_staff_profile_photo_image__5f2cC",staff_profile_photo_edit:"StaffProfile_staff_profile_photo_edit__y03dk",each_field_container:"StaffProfile_each_field_container__0qKjw",each_field:"StaffProfile_each_field__18G-9",student_attendane_container:"StaffProfile_student_attendane_container__64BII",student_attendance_heading:"StaffProfile_student_attendance_heading__0hW2K",colours:"StaffProfile_colours__-7mIV",monthColours:"StaffProfile_monthColours__A3asC",percentage:"StaffProfile_percentage__GO1RT",presentcount:"StaffProfile_presentcount__u30HH",absentcount:"StaffProfile_absentcount__d+utq",link_hold_container:"StaffProfile_link_hold_container__0dRjX",link_hold_container_hostel:"StaffProfile_link_hold_container_hostel__LcldT",card_hold_container:"StaffProfile_card_hold_container__HQQcE",admission_fees:"StaffProfile_admission_fees__MoZHM",certificate_btn_container:"StaffProfile_certificate_btn_container__jui9m",certificate_btn:"StaffProfile_certificate_btn__3NWfg",admission_actions:"StaffProfile_admission_actions__ayyJD",staff_designation_btn:"StaffProfile_staff_designation_btn__4C3h7",ospp_header:"StaffProfile_ospp_header__oteF5",ospph_img:"StaffProfile_ospph_img__gPivu"}},39320:(e,t,a)=>{a.d(t,{Z:()=>n});const n={staff_form_container:"UniversalForm_staff_form_container__QRs6I",staff_form_header_container:"UniversalForm_staff_form_header_container__+cQn3",form_header_container:"UniversalForm_form_header_container__GVVNM",form_header_list:"UniversalForm_form_header_list__fHs8S",form_header_code:"UniversalForm_form_header_code__LsmbM",form_toggle_description:"UniversalForm_form_toggle_description__281dv",form_toggle_label:"UniversalForm_form_toggle_label__mbisD",form_header_content:"UniversalForm_form_header_content__Y3p2k",form_toggle_container:"UniversalForm_form_toggle_container__D0bu0",form_checkbox_container:"UniversalForm_form_checkbox_container__bxzuK",staff_form_header_container_actions:"UniversalForm_staff_form_header_container_actions__2Ynt9",staff_header_text:"UniversalForm_staff_header_text__dQvPP"}}}]);
//# sourceMappingURL=42525.d3888896.chunk.js.map