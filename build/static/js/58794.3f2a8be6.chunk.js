"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[58794],{56986:(e,l,i)=>{i.d(l,{Z:()=>m});var n=i(72791),s=i(98684),o=i(97892),a=i.n(o),d=i(82824),t=i(1095),c=i(55050),r=i(39230),v=i(45445),u=i(80184);const m=e=>{var l,i,o,m,h,f,x,_,j,g,p,w,N,Z,y,b,M,k,Y,L,D,F,S,C,T,A,R,J,P,q;let{leave:E,whichAccess:W}=e;const{t:G}=(0,r.$G)(),[H,I]=(0,n.useState)(!1),$=()=>{I((e=>!e))};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:c.Z.lmsr_card,children:[(0,u.jsx)("div",{className:c.Z.lmsrc_card,children:(0,u.jsxs)("div",{className:c.Z.lmsrc_card_inner,children:[(0,u.jsx)("img",{src:null!==E&&void 0!==E&&null!==(l=E.staff)&&void 0!==l&&l.staffProfilePhoto?"".concat(t.yI,"/").concat(null===E||void 0===E||null===(i=E.staff)||void 0===i?void 0:i.staffProfilePhoto):"".concat(s.p3,"/feed-user-avatar.svg"),alt:"staff icon"}),(0,u.jsxs)("div",{className:c.Z.lmsrci_text,children:[(0,u.jsx)("h6",{children:"".concat(null===E||void 0===E||null===(o=E.staff)||void 0===o?void 0:o.staffFirstName," ").concat(null!==E&&void 0!==E&&null!==(m=E.staff)&&void 0!==m&&m.staffMiddleName?null===E||void 0===E||null===(h=E.staff)||void 0===h?void 0:h.staffMiddleName:""," ").concat(null===E||void 0===E||null===(f=E.staff)||void 0===f?void 0:f.staffLastName)}),(0,u.jsxs)("p",{children:["Sactioning"===W?(0,u.jsxs)(u.Fragment,{children:[G("sanction_on")," ",(0,d.J)(null===E||void 0===E||null===(x=E.sanction)||void 0===x?void 0:x.sanction_on,"LT"),","," ",a()(null===E||void 0===E||null===(_=E.sanction)||void 0===_?void 0:_.sanction_on).format("DD MMM YYYY")]}):"Reviewing"===W?(0,u.jsxs)(u.Fragment,{children:[G("reviewed_on"),(0,d.J)(null===E||void 0===E||null===(j=E.review)||void 0===j?void 0:j.review_on,"LT"),","," ",a()(null===E||void 0===E||null===(g=E.review)||void 0===g?void 0:g.review_on).format("DD MMM YYYY")]}):(0,u.jsxs)(u.Fragment,{children:[G("recomend_on")," ",(0,d.J)(null===E||void 0===E||null===(p=E.recommend)||void 0===p?void 0:p.recommend_ont,"LT"),", ",a()(null===E||void 0===E||null===(w=E.recommend)||void 0===w?void 0:w.recommend_ont).format("DD MMM YYYY"),", "]}),(0,u.jsx)("span",{className:c.Z.lmsrc_date,onClick:$,children:G("for_dates")})]}),(0,u.jsx)("p",{children:"Sactioning"===W?(0,u.jsxs)(u.Fragment,{children:[G("reviewing_by"),"".concat(null!==(N=null===E||void 0===E||null===(Z=E.review)||void 0===Z||null===(y=Z.review_by)||void 0===y?void 0:y.staffFirstName)&&void 0!==N?N:""," ").concat(null!==(b=null===E||void 0===E||null===(M=E.review)||void 0===M||null===(k=M.review_by)||void 0===k?void 0:k.staffMiddleName)&&void 0!==b?b:""," ").concat(null!==(Y=null===E||void 0===E||null===(L=E.review)||void 0===L||null===(D=L.review_by)||void 0===D?void 0:D.staffLastName)&&void 0!==Y?Y:"")]}):"Reviewing"===W?(0,u.jsxs)(u.Fragment,{children:[G("recomending_by"),"".concat(null!==(F=null===E||void 0===E||null===(S=E.recommend)||void 0===S||null===(C=S.recommend_by)||void 0===C?void 0:C.staffFirstName)&&void 0!==F?F:""," ").concat(null!==(T=null===E||void 0===E||null===(A=E.recommend)||void 0===A||null===(R=A.recommend_by)||void 0===R?void 0:R.staffMiddleName)&&void 0!==T?T:""," ").concat(null!==(J=null===E||void 0===E||null===(P=E.recommend)||void 0===P||null===(q=P.recommend_by)||void 0===q?void 0:q.staffLastName)&&void 0!==J?J:"")]}):null})]})]})}),(0,u.jsx)("div",{className:c.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,u.jsxs)("h6",{style:{fontWeight:"400"},children:[G("leave_type")," "," : ",null===E||void 0===E?void 0:E.leave_type]})}),(0,u.jsx)("div",{className:c.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,u.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[G("reason")," "," : ",null===E||void 0===E?void 0:E.reason]})}),(null===E||void 0===E?void 0:E.attach)&&(0,u.jsx)("div",{className:c.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,u.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[G("attachment")," "," : ",(0,u.jsx)("a",{href:"".concat(t.q2,"/").concat(null===E||void 0===E?void 0:E.attach),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,u.jsx)("span",{className:c.Z.lmsrc_date,children:G("view_attachment")})})]})})]}),H&&(0,u.jsx)(v.Z,{onClose:$,allDate:null===E||void 0===E?void 0:E.date})]})}},29105:(e,l,i)=>{i.r(l),i.d(l,{default:()=>g});var n=i(72791),s=i(56959),o=i(23441),a=i(91427),d=i(57588),t=i(63687),c=i(21348),r=i(90904),v=i(55336),u=i(1669),m=i(2651),h=i(36132),f=i(39230),x=i(98684),_=i(56986),j=i(80184);const g=e=>{var l,i,g;let{modId:p}=e;const{t:w}=(0,f.$G)(),[N,Z]=(0,n.useState)(""),[y,b]=(0,n.useState)(1),[M,k]=(0,n.useState)(!0),[Y,L]=(0,o.YD)({skip:N}),{lmsModeratorAllHistoryList:D,lmsModeratorAllHistoryListLoading:F}=(0,h.EL)({data:{mid:p,page:y,limit:10,search:N,flow:"Review_Section"},skip:!p});(0,n.useEffect)((()=>{L&&M&&b((e=>e+1))}),[L,M]),(0,n.useEffect)((()=>{var e;if(null!==D&&void 0!==D&&null!==(e=D.list)&&void 0!==e&&e.length){var l;let e=(0,a.f)(null===D||void 0===D||null===(l=D.list)||void 0===l?void 0:l.length);k((()=>e))}}),[null===D||void 0===D?void 0:D.list]);const S=(0,n.useCallback)((0,d.J)((e=>{b((()=>1)),Z(e)}),1500),[]);return(0,j.jsxs)(t.default,{children:[(0,j.jsx)(c.Z,{children:(0,j.jsxs)("div",{className:s.Z.fm_header_container,children:[(0,j.jsx)("h6",{children:w("leave_history")}),(0,j.jsx)("div",{className:s.Z.fm_search,children:(0,j.jsx)("section",{className:s.Z.fm_search_container,children:(0,j.jsxs)("div",{className:s.Z.fm_search_container_inner,children:[(0,j.jsx)("img",{className:s.Z.fm_search_icon,alt:"search icon",src:"".concat(x.dB,"/navbar-search.svg")}),(0,j.jsx)("input",{type:"text",placeholder:w("search"),onChange:e=>{e.target.value?S(e.target.value):(b((()=>1)),Z(""))}})]})})})]})}),(0,j.jsx)(r.Z,{}),(0,j.jsxs)(c.Z,{children:[null===D||void 0===D||null===(l=D.list)||void 0===l?void 0:l.map(((e,l)=>{var i;return(null===D||void 0===D||null===(i=D.list)||void 0===i?void 0:i.length)===l+1?(0,j.jsx)("div",{ref:Y,children:(0,j.jsx)(_.Z,{leave:e,whichAccess:"Reviewing"})},null===e||void 0===e?void 0:e._id):(0,j.jsx)(_.Z,{leave:e,whichAccess:"Reviewing"},null===e||void 0===e?void 0:e._id)})),F?N?(0,j.jsx)(v.Z,{}):(0,j.jsx)(u.Z,{}):N?0===(null===D||void 0===D||null===(i=D.list)||void 0===i?void 0:i.length)&&(0,j.jsx)(m.Z,{title:"No staff leave history found related this search."}):0===(null===D||void 0===D||null===(g=D.list)||void 0===g?void 0:g.length)&&(0,j.jsx)(m.Z,{title:"No staff leave history."})]})]})}}}]);
//# sourceMappingURL=58794.3f2a8be6.chunk.js.map