"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[89663],{47184:(e,t,s)=>{s.d(t,{Z:()=>n});s(72791);var a=s(46807),o=s(80184);const n=e=>{let{dynamicImage:t,customStyle:s}=e;return(0,o.jsx)("img",{src:t,alt:"Avatar icon",style:{...s},className:a.Z.avatar_image})}},2072:(e,t,s)=>{s.d(t,{Z:()=>i});s(72791);var a=s(75729),o=s(39230),n=s(80184);const i=e=>{let{onEditIocn:t,activeIcon:s,onPostTypeChange:i,addFileToggle:r,onAddFile:l,acceptFormate:c,onVideoIcon:d,children:_}=e;const{t:m}=(0,o.$G)(),v=e=>{i(e)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("hr",{className:a.Z.hr}),(0,n.jsxs)("div",{className:a.Z.iconsContainer,children:[(0,n.jsxs)("div",{className:a.Z.icons,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("img",{onClick:t,src:"/images/edit-icon.svg",alt:"eidt icon of post",title:"Create Text Post"}),1===s&&(0,n.jsx)("div",{className:a.Z.border1})]}),_,(0,n.jsxs)("div",{children:[(0,n.jsx)("img",{onClick:d,src:"/images/video-post-icon.svg",alt:"video icon of post",title:"Create Video Post"}),3===s&&(0,n.jsx)("div",{className:a.Z.border3})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("img",{onClick:()=>v("newAnnouncement"),src:"/images/voice-post-icon.svg",alt:"announcement icon of post",title:"Create Announcement"}),4===s&&(0,n.jsx)("div",{className:a.Z.border4})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("img",{onClick:()=>v("newPoll"),src:"/images/shorts-icon.svg",alt:"poll icon of post",title:"Create Poll Post"}),5===s&&(0,n.jsx)("div",{className:a.Z.border5})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("img",{onClick:()=>v("newQuestion"),src:"/images/document-icon.svg",alt:"question icon of post",title:"Create Question Post"}),6===s&&(0,n.jsx)("div",{className:a.Z.border6})]})]}),r?(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"document",style:{cursor:"pointer"},children:(0,n.jsx)("p",{className:a.Z.addfiles,children:m("add_files")})}),(0,n.jsx)("input",{className:a.Z.upload,multiple:!0,id:"document",name:"file",onChange:l,type:"file",accept:c})]}):(0,n.jsx)("p",{children:m("add_files")})]})]})}},6599:(e,t,s)=>{s.d(t,{Z:()=>l});s(72791);var a=s(47184),o=s(75729),n=s(39230),i=s(90865),r=s(80184);const l=e=>{let{postTitle:t,onClose:s,name:l,privateImage:c,setPrivateImage:d,dynamicImage:_,postStatusRef:m,checkedToggle:v,onToggleHandler:p,announcement:g,children:u}=e;const{t:h}=(0,n.$G)();return(0,r.jsxs)("div",{className:o.Z.newPost,children:[(0,r.jsxs)("div",{className:o.Z.header,children:[(0,r.jsx)("h4",{children:t}),(0,r.jsx)("img",{src:"/images/close-post-icon.svg",onClick:s,alt:"close icon"})]}),(0,r.jsx)("hr",{className:o.Z.hr}),(0,r.jsxs)("div",{className:o.Z.content,children:[(0,r.jsxs)("div",{className:o.Z.title,children:[(0,r.jsx)("div",{className:o.Z.imgContainer,children:(0,r.jsx)(a.Z,{dynamicImage:_})}),(0,r.jsxs)("div",{className:o.Z.userName,children:[(0,r.jsx)("h6",{children:l}),(0,r.jsxs)("div",{className:o.Z.public,children:[(0,r.jsx)("img",{className:o.Z.privacyIcon,src:c?"/images/post-private-icon.svg":"/images/privacy-icon.svg",alt:""}),(0,r.jsxs)("div",{className:o.Z.select,children:[(0,r.jsx)("span",{className:o.Z.arrow}),(0,r.jsx)("img",{className:o.Z.arrowIcon,src:"/images/dropdown-icon.svg",alt:""}),(0,r.jsxs)("select",{name:"cars",id:"cars",ref:m,onChange:e=>"Anyone"===e.target.value?d(!1):d(!0),children:[(0,r.jsx)("option",{value:"Anyone",children:h("public")}),(0,r.jsxs)("option",{value:"Private",children:[h("private")," "]})]})]})]})]}),!g&&(0,r.jsx)(i.Z,{labelHeading:h("turn_off_comment"),customContainer:{padding:"0"},customLabel:{fontWeight:"500"},checkedToggle:"On"!==v,onToggleHandler:p})]}),u]})]})}},89663:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var a=s(72791);const o={postTitle:"NewPost_postTitle__mZ0gm",postDesc:"NewPost_postDesc__JHFMV",postTextarea:"NewPost_postTextarea__wpLXp",hashTag:"NewPost_hashTag__g+Ebe",btn:"NewPost_btn__qoAO4",upload:"NewPost_upload__9zgjK",Container:"NewPost_Container__QjHOc",selectedImg:"NewPost_selectedImg__5Vyan",upload_video:"NewPost_upload_video__gnKPZ",tille:"NewPost_tille__oOSHy",description:"NewPost_description__ZBNYj",afterbtn:"NewPost_afterbtn__ZD4w2",hashtag:"NewPost_hashtag__d-PPO",public:"NewPost_public__Gz7UN",privacyIcon:"NewPost_privacyIcon__YWpaD",userName:"NewPost_userName__NxtUo",select:"NewPost_select__jzOhf",imgContainer:"NewPost_imgContainer__bdx4W",arrowIcon:"NewPost_arrowIcon__iapHN",mainbody:"NewPost_mainbody__aAiXk",tagList:"NewPost_tagList__cC9OO",border2:"NewPost_border2__HG5MO",border3:"NewPost_border3__dOSt3"};var n=s(39230),i=s(9447),r=s(95048),l=s(69721),c=s(49384),d=s(70092),_=s(16256),m=s(6599),v=s(2072),p=s(39480),g=s(35395),u=s(59507),h=s(51561),f=s(80184);const x=a.lazy((()=>s.e(68732).then(s.bind(s,68732))));const j=function(e){var t,s,j;let{postType:N,setPostType:P,onPostTypeChange:b}=e;const{t:w}=(0,n.$G)(),[C,Z]=(0,a.useState)([]),[y,I]=(0,a.useState)(""),[T,H]=(0,a.useState)(""),[S,F]=(0,a.useState)(""),[k,U]=(0,a.useState)("text"===N?1:"video"===N?3:2),[O,A]=(0,a.useState)(""),R=(0,a.useRef)(""),D=(0,a.useRef)(""),L=(0,a.useRef)(""),M=(0,a.useRef)(""),V=(0,r.v9)((e=>e.idChange)),E=(0,r.I0)(),[z]=(0,i.AF)(),[q]=(0,i.eV)(),[Q]=(0,i.pp)(),[Y,G]=(0,a.useState)(!1),[J,K]=(0,a.useState)(!1),[W,X]=(0,a.useState)(!1),[$,B]=(0,a.useState)(""),[ee,te]=(0,a.useState)(""),[se,ae]=(0,a.useState)([]),[oe,ne]=(0,a.useState)(""),[ie,re]=(0,a.useState)(""),[le,ce]=(0,a.useState)("On"),[de,_e]=(0,a.useState)({msg:"",run:!1}),{oneInstituteDashboard:me,oneInstituteDashboardRefetch:ve}=(0,p.gq)({id:null===V||void 0===V?void 0:V.id,skip:!(null!==V&&void 0!==V&&V.id)});(0,a.useEffect)((()=>{null!==V&&void 0!==V&&V.id&&ve()}),[null===V||void 0===V?void 0:V.id,ve]);const pe=e=>{var t;const s=null===(t=e.target.value)||void 0===t?void 0:t.length;if("@"===e.target.value[s-1]){const e=ie.length;" "!==ie[e-1]&&""!==ie||(K(!0),X("caption"))}if(J){var a;const t=null===(a=e.target.value)||void 0===a?void 0:a.split("@"),s=t.length;te(t[s-1])}re(e.target.value)},ge=e=>{if(e.target.files&&e.target.files.length>0){A((t=>[...t,...e.target.files])),I(e.target.files[0]);const t=Array.from(e.target.files).map((e=>URL.createObjectURL(e)));Z((e=>e.concat(t)))}},ue=()=>{Z([]),I(""),H(""),A([]),re(""),ae([]),ce("On")};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(m.Z,{postTitle:w("create_post"),onClose:()=>b("post"),dynamicImage:null!==me&&void 0!==me&&null!==(t=me.institute)&&void 0!==t&&t.insProfilePhoto?"".concat(l.yI,"/").concat(null===me||void 0===me||null===(s=me.institute)||void 0===s?void 0:s.insProfilePhoto):"/images/ins_default_profile.svg",name:null===me||void 0===me||null===(j=me.institute)||void 0===j?void 0:j.insName,privateImage:Y,setPrivateImage:G,postStatusRef:L,onToggleHandler:e=>{e.target.checked?ce("Off"):ce("On")},checkedToggle:le,children:[J&&(0,f.jsx)("div",{className:o.tagList,style:"description"===W?{marginTop:"7vw"}:{marginTop:"0"},children:(0,f.jsx)(g.Z,{children:(0,f.jsx)(x,{open:J,setOpen:K,postTagSearch:ee,setPostTagSearch:te,taggedPeoplehandler:e=>{if(ae([...se,e]),"title"===W){const t=null===$||void 0===$?void 0:$.split("@");t[t.length-1]=e.tagUserName;const s=[""];let a=0;for(let e of t){if(0===a)s[0]=e;else{const t="".concat(s[0],"@").concat(e);s[0]=t}++a}B(s[0])}else if("description"===W){const t=null===oe||void 0===oe?void 0:oe.split("@");t[t.length-1]=e.tagUserName;const s=[""];let a=0;for(let e of t){if(0===a)s[0]=e;else{const t="".concat(s[0],"@").concat(e);s[0]=t}++a}ne(s[0])}else{const t=null===ie||void 0===ie?void 0:ie.split("@");t[t.length-1]=e.tagUserName;const s=[""];let a=0;for(let e of t){if(0===a)s[0]=e;else{const t="".concat(s[0],"@").concat(e);s[0]=t}++a}re(s[0])}}})})}),"text"===N&&(0,f.jsx)("div",{className:o.postTitle,children:(0,f.jsx)("input",{className:o.input,type:"text",placeholder:w("title_post"),ref:R,onChange:e=>{var t;const s=null===(t=e.target.value)||void 0===t?void 0:t.length;if("@"===e.target.value[s-1]){const e=$.length;" "!==$[e-1]&&""!==$||(K(!0),X("title"))}if(J){var a;const t=null===(a=e.target.value)||void 0===a?void 0:a.split("@"),s=t.length;te(t[s-1])}B(e.target.value)},value:$})}),"text"===N&&(0,f.jsx)("div",{className:o.postDesc,children:(0,f.jsx)("textarea",{className:o.postTextarea,rows:"3",type:"text",name:"CreateInsPost",ref:D,placeholder:w("desc_post"),onChange:e=>{var t;const s=null===(t=e.target.value)||void 0===t?void 0:t.length;if("@"===e.target.value[s-1]){const e=oe.length;" "!==oe[e-1]&&""!==oe||(K(!0),X("description"))}if(J){var a;const t=null===(a=e.target.value)||void 0===a?void 0:a.split("@"),s=t.length;te(t[s-1])}ne(e.target.value)},value:oe})}),"image"===N&&(0,f.jsxs)("div",{className:o.Container,children:[(0,f.jsx)("p",{className:o.description,children:(0,f.jsx)("textarea",{className:o.postTextarea,rows:"3",type:"text",name:"CreateInsPost",ref:M,placeholder:w("caption_post"),onChange:pe,value:ie})}),(0,f.jsx)("div",{className:o.selectedImg,children:C.map(((e,t)=>(0,f.jsx)("img",{alt:"list",src:e},t)))})]}),"video"===N&&(0,f.jsxs)("div",{className:o.Container,children:[(0,f.jsx)("p",{className:o.description,children:(0,f.jsx)("textarea",{className:o.postTextarea,rows:"3",type:"text",name:"CreateInsPost",ref:M,placeholder:w("caption_post"),onChange:pe,value:ie})}),T?(0,f.jsx)("div",{className:o.upload_video,children:(0,f.jsx)(u.Z,{video:T})}):""]}),(0,f.jsxs)("button",{className:y?"".concat(o.btn," ").concat(o.afterbtn):o.btn,onClick:()=>{if(F(!0),y||T)if(T&&O){const e=new FormData,t=se;e.append("postTitle",M.current.value),e.append("postStatus",L.current.value),e.append("people",JSON.stringify(t)),e.append("comment_turned",le),e.append("file",O),Q({id:null===V||void 0===V?void 0:V.id,viewAs:_.UJ,post:e}).then((e=>{var t;E(d.p.addCreatedPost({post:null===(t=e.data)||void 0===t?void 0:t.post})),b("post"),F(!1),ve()})).catch({})}else{const e=new FormData,t=se;e.append("postTitle",M.current.value),e.append("postStatus",L.current.value),e.append("people",JSON.stringify(t)),e.append("comment_turned",le);for(let s of O)e.append("file",s);q({id:null===V||void 0===V?void 0:V.id,viewAs:_.UJ,post:e}).then((e=>{var t;E(d.p.addCreatedPost({post:null===(t=e.data)||void 0===t?void 0:t.post})),b("post"),F(!1),ve()})).catch({})}else""!==R.current.value&&""!==D.current.value?z({id:null===V||void 0===V?void 0:V.id,viewAs:_.UJ,post:{postTitle:R.current.value,postDescription:D.current.value,postStatus:L.current.value,people:se,comment_turned:le}}).then((e=>{var t;E(d.p.addCreatedPost({post:null===(t=e.data)||void 0===t?void 0:t.post})),b("post"),F(!1),ve()})).catch({}):F(!1)},disabled:S,children:[(0,f.jsx)("p",{children:w("post")}),S&&(0,f.jsx)("div",{children:(0,f.jsx)(c.Z,{})})]}),(0,f.jsxs)(v.Z,{onEditIocn:()=>{U(1),P("text"),ue()},onVideoIcon:()=>{U(3),P("video"),ue()},onPostTypeChange:b,activeIcon:k,addFileToggle:!0,onAddFile:2===k?ge:e=>{var t;if(e.target.files.length>0)if((null===(t=e.target.files[0])||void 0===t?void 0:t.size)>5e7)_e({msg:"Please upload file size less than or equal to 50mb",run:!0});else{A(e.target.files[0]);let t=URL.createObjectURL(e.target.files[0]);H(t)}},acceptFormate:2===k?"image/*, image/gif, image/jpeg, image/png":"video/*",children:[(0,f.jsxs)("label",{htmlFor:"img",style:{cursor:"pointer"},children:[(0,f.jsx)("img",{src:"/images/img-post-icon.svg",onClick:()=>{U(2),P("image"),ue()},alt:"icon upload for post"}),2===k&&(0,f.jsx)("div",{className:o.border2})]}),(0,f.jsx)("input",{className:o.upload,id:"img",name:"file",multiple:!0,onChange:2===k?ge:()=>{},type:"file",accept:"image/*, image/gif, image/jpeg, image/png"})]})]}),de.run&&(0,f.jsx)(h.Ch,{msg:de.msg,run:de.run,setRun:()=>_e({msg:"",run:!1}),postiton:"bottom",type:"error"})]})}},59507:(e,t,s)=>{s.d(t,{Z:()=>i});const a="VideoPlayer_video__r0OQz";s(72791);var o=s(96710),n=s(80184);const i=function(e){let{video:t}=e;return(0,n.jsx)("div",{className:a,children:(0,n.jsx)(o.Z,{controls:!0,url:t})})}},49384:(e,t,s)=>{s.d(t,{Z:()=>n});s(72791);var a=s(6307),o=s(80184);const n=()=>(0,o.jsx)(a.iT,{ariaLabel:"loading-indicator",height:20,width:20,color:"white",secondaryColor:"#1c023b"})},90865:(e,t,s)=>{s.d(t,{Z:()=>r});s(72791);var a=s(89891),o=s(39320),n=s(80184);const i={inputProps:{"aria-label":"Switch demo"}},r=e=>{let{customContainer:t,customLabel:s,labelDescription:r,labelHeading:l,defaultLabel:c,checkedToggle:d,onToggleHandler:_,children:m}=e;return(0,n.jsxs)("div",{className:o.Z.form_toggle_container,style:{...t},children:[(0,n.jsxs)("div",{className:o.Z.form_toggle_label,children:[c?(0,n.jsx)(a.Z,{...i,defaultChecked:!0,disabled:!0}):(0,n.jsx)(a.Z,{...i,checked:d,onChange:_}),(0,n.jsx)("span",{style:{...s},children:l})]}),r&&(0,n.jsx)("div",{className:o.Z.form_toggle_description,children:r}),m]})}},46807:(e,t,s)=>{s.d(t,{Z:()=>a});const a={avatar_image:"Avatar_avatar_image__orRwR",custom_avatar_container:"Avatar_custom_avatar_container__f4BAI",custom_avatar_one:"Avatar_custom_avatar_one__XYFtg",custom_avatar_content:"Avatar_custom_avatar_content__E1nUO"}},75729:(e,t,s)=>{s.d(t,{Z:()=>a});const a={newPost:"PostHeader_newPost__6jEMR",header:"PostHeader_header__nAWVN",imgContainer:"PostHeader_imgContainer__cnIbK",title:"PostHeader_title__S3tct",public:"PostHeader_public__EImhy",privacyIcon:"PostHeader_privacyIcon__+2tue",select:"PostHeader_select__C-Piu",arrow:"PostHeader_arrow__oZsjY",arrowIcon:"PostHeader_arrowIcon__SawKs",content:"PostHeader_content__FsI2m",hr:"PostHeader_hr__mTrEp",userName:"PostHeader_userName__jfN4e",iconsContainer:"PostHeader_iconsContainer__2M-xr",icons:"PostHeader_icons__MqfoZ",border1:"PostHeader_border1__wMsIw",border4:"PostHeader_border4__UyCNk",border5:"PostHeader_border5__YtPZT",border6:"PostHeader_border6__-EvMl",border3:"PostHeader_border3__dMt41",upload:"PostHeader_upload__D9cRU"}},39320:(e,t,s)=>{s.d(t,{Z:()=>a});const a={staff_form_container:"UniversalForm_staff_form_container__QRs6I",staff_form_header_container:"UniversalForm_staff_form_header_container__+cQn3",form_header_container:"UniversalForm_form_header_container__GVVNM",form_header_list:"UniversalForm_form_header_list__fHs8S",form_header_code:"UniversalForm_form_header_code__LsmbM",form_toggle_description:"UniversalForm_form_toggle_description__281dv",form_toggle_label:"UniversalForm_form_toggle_label__mbisD",form_header_content:"UniversalForm_form_header_content__Y3p2k",form_toggle_container:"UniversalForm_form_toggle_container__D0bu0",form_checkbox_container:"UniversalForm_form_checkbox_container__bxzuK",staff_form_header_container_actions:"UniversalForm_staff_form_header_container_actions__2Ynt9",staff_header_text:"UniversalForm_staff_header_text__dQvPP"}}}]);
//# sourceMappingURL=89663.436a44b3.chunk.js.map