"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[19540],{19540:(i,e,n)=>{n.r(e),n.d(e,{default:()=>F});var l=n(72791),t=n(1669),s=n(55336),o=n(98684),a=n(63687),c=n(21348),d=n(2651),r=n(56959),v=n(39230),u=n(90904),m=n(43317),_=n(53016),h=n(38857),p=n(16925),x=n(26192),j=n(80184);const g=i=>{let{onSelectType:e}=i;const{t:n}=(0,v.$G)(),l=i=>{e(i)};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:x.Z.application_card,onClick:()=>l("Direct_Admission"),children:[(0,j.jsxs)("div",{className:x.Z.application_card_title,children:[(0,j.jsx)("img",{src:"".concat(o.J7,"/category.svg"),alt:"staff profile avatar"}),(0,j.jsx)("h6",{children:n("direct_admission")})]}),(0,j.jsxs)("section",{className:x.Z.application_card_info,children:[(0,j.jsx)("div",{children:n("only_two_steps")}),(0,j.jsxs)("div",{children:["1. ",n("online_filling_form")]}),(0,j.jsxs)("div",{children:["2. ",n("online_admission_fees_payments")]}),(0,j.jsx)("h6",{children:n("online_note_suitable")})]})]}),(0,j.jsxs)("div",{className:x.Z.application_card,onClick:()=>l("Complete_Step_Wise_Admission"),children:[(0,j.jsxs)("div",{className:x.Z.application_card_title,children:[(0,j.jsx)("img",{src:"".concat(o.J7,"/category.svg"),alt:"staff profile avatar"}),(0,j.jsx)("h6",{children:n("complete_step_wise_admission")})]}),(0,j.jsxs)("section",{className:x.Z.application_card_info,children:[(0,j.jsx)("div",{children:n("steps_involved")}),(0,j.jsxs)("div",{children:["1. ",n("online_filling_form1")]}),(0,j.jsxs)("div",{children:["2. ",n("online_admission_fees_payments1")]}),(0,j.jsxs)("div",{children:["3. ",n("online_admission_fees_payments2")]}),(0,j.jsxs)("div",{children:["4. ",n("online_admission_fees_payments3")]}),(0,j.jsxs)("div",{children:["5. ",n("online_admission_fees_payments4")]}),(0,j.jsx)("h6",{children:n("offile_note_suitable")})]})]})]})};var f=n(38921),Z=n(29760);const C=i=>{let{onClose:e,onRefetch:n,aid:t,fid:s,instituteId:a}=i;const{t:d}=(0,v.$G)(),[r,m]=(0,l.useState)("");return(0,j.jsx)(j.Fragment,{children:r?"Complete_Step_Wise_Admission"===r?(0,j.jsx)(f.Z,{onClose:()=>m(""),aid:t,onRefetch:n,instituteId:a,fid:s,onParentClose:e}):"Direct_Admission"===r?(0,j.jsx)(Z.Z,{onClose:()=>m(""),aid:t,onRefetch:n,instituteId:a,fid:s,onParentClose:e}):null:(0,j.jsx)(h.Z,{children:(0,j.jsxs)("div",{className:p.Z.modal_container,children:[(0,j.jsx)(c.Z,{children:(0,j.jsxs)("div",{className:p.Z.modal_container_outer_header,children:[(0,j.jsx)("div",{className:p.Z.modal_container_header,children:(0,j.jsx)("h6",{children:d("select_admission_application_type")})}),(0,j.jsx)("img",{src:"".concat(o.J7,"/close.svg"),alt:"close icon",onClick:e})]})}),(0,j.jsx)(u.Z,{}),(0,j.jsx)(c.Z,{customStyle:{paddingTop:"0",marginBottom:"1rem"},children:(0,j.jsx)(g,{onSelectType:i=>{m(i)}})})]})})})};var y=n(16871),N=n(93638),b=n(44226),k=n(21625);const A=i=>{var e,n,t,a,c,d,r,u,_,h,p,g,f,Z;let{aid:C}=i;const{t:N}=(0,v.$G)(),b=(0,y.TH)(),k=(0,y.UO)(),A=(0,y.s0)(),[S,w]=(0,l.useState)(!1),[F]=(0,m.kX)(),{admissionMergedApplicationTotalCount:O}=(0,m.r_)({data:{aid:C},skip:!C}),R=i=>{C&&(w((i=>!i)),F({aid:C,flow:i}).then((()=>{var i;let e="Institute"===(null===(i=b.state)||void 0===i?void 0:i.urlOffSet)?"/q/".concat(k.username,"/institute/member/admission?type=export"):"/q/".concat(k.username,"/member/staff/admission?type=export");A(e,{state:b.state})})).catch({}))};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:x.Z.ongoing_card,style:{position:"relative",boxShadow:"0 4px 4px 1px rgba(0, 0, 0, 0.4)"},children:[(0,j.jsxs)("div",{className:x.Z.ongoing_card_inner,children:[(0,j.jsx)("img",{alt:"Ongoing App",src:"".concat(o.U_,"/application.svg")}),(0,j.jsx)("div",{className:x.Z.ongoing_card_text,children:(0,j.jsx)("h6",{children:N("total")})})]}),(0,j.jsxs)("div",{className:x.Z.ongoing_card_count_date,children:[(0,j.jsxs)("div",{className:x.Z.ongoing_card_count_container_inner,onClick:()=>R("Request_Query"),children:[(0,j.jsx)("p",{title:"Application",children:N("application")}),(0,j.jsx)("h6",{title:"Application",children:null!==(e=null===O||void 0===O||null===(n=O.custom_obj)||void 0===n?void 0:n.receievedCount)&&void 0!==e?e:0})]}),(0,j.jsxs)("div",{className:x.Z.ongoing_card_count_container_inner,onClick:()=>R("Docs_Query"),children:[(0,j.jsx)("p",{title:"Docs Collect",children:N("docs")}),(0,j.jsx)("h6",{title:"Docs Collect",children:null!==(t=null===O||void 0===O||null===(a=O.custom_obj)||void 0===a?void 0:a.selectCount)&&void 0!==t?t:0})]}),(0,j.jsxs)("div",{className:x.Z.ongoing_card_count_container_inner,onClick:()=>R("Fees_Query"),children:[(0,j.jsx)("p",{title:"Fees Collection",children:N("fees_")}),(0,j.jsx)("h6",{title:"Fees Collection",children:null!==(c=null===O||void 0===O||null===(d=O.custom_obj)||void 0===d?void 0:d.fee_collect_count)&&void 0!==c?c:0})]}),(0,j.jsxs)("div",{className:x.Z.ongoing_card_count_container_inner,onClick:()=>R("Confirm_Query"),children:[(0,j.jsx)("p",{title:"Confirmed",children:N("confirm")}),(0,j.jsx)("h6",{title:"Confirmed",children:null!==(r=null===O||void 0===O||null===(u=O.custom_obj)||void 0===u?void 0:u.confirmCount)&&void 0!==r?r:0})]}),(0,j.jsxs)("div",{className:x.Z.ongoing_card_count_container_inner,onClick:()=>R("Review_Query"),children:[(0,j.jsx)("p",{title:"Review",children:N("review")}),(0,j.jsx)("h6",{title:"Review",children:null!==(_=null===O||void 0===O||null===(h=O.custom_obj)||void 0===h?void 0:h.review_count)&&void 0!==_?_:0})]}),(0,j.jsxs)("div",{className:x.Z.ongoing_card_count_container_inner,onClick:()=>R("Allot_Query"),children:[(0,j.jsx)("p",{title:"Allottment",children:N("allotted")}),(0,j.jsx)("h6",{title:"Allottment",children:null!==(p=null===O||void 0===O||null===(g=O.custom_obj)||void 0===g?void 0:g.allotCount)&&void 0!==p?p:0})]}),(0,j.jsxs)("div",{className:x.Z.ongoing_card_count_container_inner,children:[(0,j.jsx)("p",{title:"Cancelled",children:N("cancel")}),(0,j.jsx)("h6",{title:"Cancelled",children:null!==(f=null===O||void 0===O||null===(Z=O.custom_obj)||void 0===Z?void 0:Z.cancelCount)&&void 0!==f?f:0})]})]})]}),S&&(0,j.jsx)(s.Z,{})]})};var S=n(43504);const w=()=>{var i;const{t:e}=(0,v.$G)(),n=(0,y.TH)(),l=(0,y.UO)();return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(S.rU,{to:"Institute"===(null===(i=n.state)||void 0===i?void 0:i.urlOffSet)?"/q/".concat(l.username,"/institute/member/admission?type=hostel-ongoing"):"/q/".concat(l.username,"/member/staff/admission?type=hostel-ongoing"),state:n.state,children:(0,j.jsx)("div",{className:x.Z.ongoing_card,style:{position:"relative",boxShadow:"0 4px 4px 1px rgba(0, 0, 0, 0.4)"},children:(0,j.jsxs)("div",{className:x.Z.ongoing_card_inner,children:[(0,j.jsx)("img",{alt:"Ongoing App",src:"".concat(o.U_,"/application.svg")}),(0,j.jsx)("div",{className:x.Z.ongoing_card_text,children:(0,j.jsx)("h6",{children:e("hostel_application")})})]})})})})},F=i=>{var e,n,h,p,x;let{aid:g,instituteId:f,fid:Z}=i;const{t:S}=(0,v.$G)(),F=(0,y.TH)(),R=(0,y.UO)(),q=(0,y.s0)(),[I,T]=(0,l.useState)(""),[U,D]=(0,l.useState)(!1),[Q]=(0,k.FL)(),[E,G]=(0,l.useState)(!1),[$,K]=(0,l.useState)([]),[L]=(0,m.q7)(),{admissionOngoingApplication:B,admissionOngoingApplicationLoading:H,admissionOngoingApplicationRefetch:J}=(0,m.s5)({data:{aid:g,page:1,limit:1e3,search:""},skip:!g});(0,l.useEffect)((()=>{var i;null!==B&&void 0!==B&&null!==(i=B.list)&&void 0!==i&&i.length&&K(null===B||void 0===B?void 0:B.list)}),[null===B||void 0===B?void 0:B.list]);const P=()=>{D((i=>!i))},W=()=>{J()},z=(0,l.useCallback)((()=>{var i;let e="Institute"===(null===(i=F.state)||void 0===i?void 0:i.urlOffSet)?"/q/".concat(R.username,"/institute/member/admission"):"/q/".concat(R.username,"/member/staff/admission");q(e,{state:F.state})}),[q,F.state,R.username]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(a.Z,{children:[(0,j.jsx)(c.Z,{children:(0,j.jsxs)("div",{className:r.Z.fm_header_container,children:[(0,j.jsxs)("div",{className:r.Z.fm_header_start_container,style:{gap:"0.5rem"},children:[(0,j.jsx)("img",{alt:"search icon",src:"".concat(o.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:z}),(0,j.jsx)("h6",{children:S("ongoing_applications")})]}),(0,j.jsxs)("div",{className:r.Z.fm_search,children:[(0,j.jsx)("section",{className:r.Z.fm_search_container,children:(0,j.jsxs)("div",{className:r.Z.fm_search_container_inner,children:[(0,j.jsx)("img",{className:r.Z.fm_search_icon,alt:"search icon",src:"".concat(o.dB,"/navbar-search.svg")}),(0,j.jsx)("input",{type:"text",placeholder:S("search"),onChange:i=>{var e;!H&&(null===B||void 0===B||null===(e=B.list)||void 0===e?void 0:e.length)>=0&&T(i.target.value)},style:{minWidth:"220px"},onKeyUp:i=>{if("Enter"===i.key){let i=O(null===B||void 0===B?void 0:B.list,I);K(i)}},value:I})]})}),null!==(e=F.state)&&void 0!==e&&e.role?null:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(b.Z,{onExcelFileUpload:i=>{var e,n;if(null!==(e=i.target)&&void 0!==e&&null!==(n=e.files)&&void 0!==n&&n.length&&g){G((i=>!i));const e=new FormData;e.append("file",i.target.files[0]),Q({fileUpload:e}).then((i=>{var e,n;null!==(e=i.data)&&void 0!==e&&e.imageKey?L({aid:g,bodyParameter:{excel_file:null===(n=i.data)||void 0===n?void 0:n.imageKey}}).then((()=>{G((i=>!i))})).catch({}):G((i=>!i))})).catch({})}},dynamicKey:"direct_application",title:"Direct Application Excel",label:"Direct Application Excel"}),(0,j.jsx)(N.Z,{label:"create_new_application",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:P})]})]})]})}),(0,j.jsx)(u.Z,{}),(0,j.jsxs)(c.Z,{customStyle:{paddingTop:"0.2rem",position:"relative"},children:[(0,j.jsx)(w,{}),(0,j.jsx)(A,{aid:g}),(null===(n=F.state)||void 0===n||null===(h=n.authorizedApplication)||void 0===h?void 0:h.length)>0?null===$||void 0===$?void 0:$.map((i=>{var e,n;return null!==(e=F.state)&&void 0!==e&&null!==(n=e.authorizedApplication)&&void 0!==n&&n.includes(null===i||void 0===i?void 0:i._id)?(0,j.jsx)(_.Z,{application:i,aid:g,instituteId:f,onRefetch:W},null===i||void 0===i?void 0:i._id):null})):null===$||void 0===$?void 0:$.map((i=>(0,j.jsx)(_.Z,{application:i,aid:g,instituteId:f,onRefetch:W},null===i||void 0===i?void 0:i._id))),H?I?(0,j.jsx)(s.Z,{}):(0,j.jsx)(t.Z,{}):I?0===(null===B||void 0===B||null===(p=B.list)||void 0===p?void 0:p.length)&&(0,j.jsx)(d.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No ongoing application found related this search."}):0===(null===B||void 0===B||null===(x=B.list)||void 0===x?void 0:x.length)&&(0,j.jsx)(d.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No application created."})]})]}),U&&(0,j.jsx)(C,{onClose:P,onRefetch:W,aid:g,instituteId:f,fid:Z}),E&&(0,j.jsx)(s.Z,{})]})},O=(i,e)=>(null===i||void 0===i?void 0:i.length)>0?null===i||void 0===i?void 0:i.filter((i=>{var n,l;return null!==i&&void 0!==i&&null!==(n=i.applicationName)&&void 0!==n&&null!==(l=n.toLowerCase())&&void 0!==l&&l.includes(null===e||void 0===e?void 0:e.toLowerCase())?i:null})):[]}}]);
//# sourceMappingURL=19540.cbc76b9b.chunk.js.map