"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[36282],{36282:(e,i,t)=>{t.r(i),t.d(i,{default:()=>g});var a=t(72791),n=t(98684),l=t(55336),_=t(1669),o=t(2651),s=t(23441),d=t(86500),c=t(91427),r=t(57588),v=t(39230),f=t(56959),u=t(9228),m=t(16871),h=t(1095),y=t(80184);const b=(0,a.lazy)((()=>t.e(19623).then(t.bind(t,87156)))),k=e=>{var i,t,_,o,s,d,c,r,f,k,g,x;let{staff:p}=e;const{t:Z}=(0,v.$G)(),N=(0,m.TH)(),[U,F]=(0,a.useState)(!1);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:u.Z.sf_card,onClick:()=>{var e,i;null!==p&&void 0!==p&&null!==(e=p.student_feedback)&&void 0!==e&&null!==(i=e[0])&&void 0!==i&&i.analytic_evaluation&&F((e=>!e))},children:(0,y.jsxs)("div",{className:u.Z.sf_card_contatiner,style:{justifyContent:"space-between",width:"100%"},children:[(0,y.jsxs)("div",{className:u.Z.sf_card_contatiner,children:[(0,y.jsx)("img",{src:null!==p&&void 0!==p&&p.staffProfilePhoto?"".concat(h.yI,"/").concat(null===p||void 0===p?void 0:p.staffProfilePhoto):"".concat(n.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,y.jsxs)("div",{className:u.Z.sf_card_contatiner_inner,children:[(0,y.jsx)("h6",{children:"".concat(null!==(i=null===p||void 0===p?void 0:p.staffFirstName)&&void 0!==i?i:""," ").concat(null!==(t=null===p||void 0===p?void 0:p.staffMiddleName)&&void 0!==t?t:""," ").concat(null!==(_=null===p||void 0===p?void 0:p.staffLastName)&&void 0!==_?_:"")}),(0,y.jsxs)("p",{children:[Z("employee_code"),": ",null!==(o=null===p||void 0===p?void 0:p.staffROLLNO)&&void 0!==o?o:""]})]})]}),null!==p&&void 0!==p&&null!==(s=p.student_feedback)&&void 0!==s&&null!==(d=s[0])&&void 0!==d&&d.analytic_evaluation?(0,y.jsxs)("div",{className:u.Z.sf_card_contatiner_inner,children:[(0,y.jsxs)("h6",{children:[(0,y.jsx)("span",{style:{fontWeight:"400"},children:Z("total_feedback")}),": ",j(null===p||void 0===p||null===(c=p.student_feedback)||void 0===c||null===(r=c[0])||void 0===r?void 0:r.subject_analytic),"%"]}),(0,y.jsxs)("p",{children:[Z("given_feedback"),": ",null!==(f=null===p||void 0===p||null===(k=p.student_feedback)||void 0===k||null===(g=k[0])||void 0===g?void 0:g.student_give_feedback_count)&&void 0!==f?f:0]})]}):null]})}),(0,y.jsx)(a.Suspense,{fallback:(0,y.jsx)(l.Z,{}),children:U&&(0,y.jsx)(b,{onClose:()=>{F((e=>!e))},ifid:null===(x=N.state)||void 0===x?void 0:x.ifid,sid:null===p||void 0===p?void 0:p._id,staff:p})})]})},j=e=>{if((null===e||void 0===e?void 0:e.length)>0){let i=0;for(let t of e)i+=null===t||void 0===t?void 0:t.feedback_percentage;return i=Math.floor(i/(null===e||void 0===e?void 0:e.length)),i}return 0},g=e=>{var i,t,u;let{instituteId:m,ifid:h}=e;const{t:b}=(0,v.$G)(),[j,g]=(0,a.useState)(""),[x,p]=(0,a.useState)(1),[Z,N]=(0,a.useState)(!0),[U,F]=(0,s.YD)({skip:j}),{feedbackSubjectTeacherList:q,feedbackSubjectTeacherListLoading:I}=(0,d.FQ)({data:{ifid:h,page:x,limit:10,search:j},skip:!h});(0,a.useEffect)((()=>{F&&Z&&p((e=>e+1))}),[F,Z]),(0,a.useEffect)((()=>{var e;if(null!==q&&void 0!==q&&null!==(e=q.list)&&void 0!==e&&e.length){var i;let e=(0,c.f)(null===q||void 0===q||null===(i=q.list)||void 0===i?void 0:i.length);N((()=>e))}}),[null===q||void 0===q?void 0:q.list]);const C=(0,a.useCallback)((0,r.J)((e=>{p((()=>1)),g(e)}),1500),[]);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:f.Z.fm_header_container,children:(0,y.jsx)("div",{className:f.Z.fm_search_full,children:(0,y.jsx)("section",{className:f.Z.fm_search_full_container,children:(0,y.jsxs)("div",{className:f.Z.fm_search_full_container_inner,children:[(0,y.jsx)("img",{className:f.Z.fm_search_full_icon,alt:"search icon",src:"".concat(n.dB,"/navbar-search.svg")}),(0,y.jsx)("input",{type:"text",placeholder:b("search"),onChange:e=>{e.target.value?C(e.target.value):(p((()=>1)),g(""))}})]})})})}),null===q||void 0===q||null===(i=q.list)||void 0===i?void 0:i.map(((e,i)=>{var t;return(null===q||void 0===q||null===(t=q.list)||void 0===t?void 0:t.length)===i+1?(0,y.jsx)("div",{ref:U,children:(0,y.jsx)(k,{staff:e})},null===e||void 0===e?void 0:e._id):(0,y.jsx)(k,{staff:e},null===e||void 0===e?void 0:e._id)})),I?j?(0,y.jsx)(l.Z,{}):(0,y.jsx)(_.Z,{}):j?0===(null===q||void 0===q||null===(t=q.list)||void 0===t?void 0:t.length)&&(0,y.jsx)(o.Z,{title:"No staff found related this search.",customStyleContainer:{marginTop:"10rem"}}):0===(null===q||void 0===q||null===(u=q.list)||void 0===u?void 0:u.length)&&(0,y.jsx)(o.Z,{title:"No staff.",customStyleContainer:{marginTop:"10rem"}})]})}},1669:(e,i,t)=>{t.d(i,{Z:()=>_});var a=t(98684),n=t(63244),l=t(80184);const _=e=>{let{isGrey:i}=e;return(0,l.jsx)("div",{className:n.Z.q_loading,children:(0,l.jsx)("img",{src:"".concat(a.Uw,i?"/loading-grey.gif":"/loading.gif"),alt:"loading icon"})})}},2651:(e,i,t)=>{t.d(i,{Z:()=>l});var a=t(15783),n=t(80184);const l=e=>{let{title:i,subtitle:t,customStyleContainer:l,costomTextTitleStyle:_,costomTextSubtitleStyle:o}=e;return(0,n.jsxs)("div",{className:a.Z.empty_container,style:l,children:[i&&(0,n.jsx)("h6",{style:_,children:i}),t&&(0,n.jsx)("p",{style:o,children:t})]})}},57588:(e,i,t)=>{t.d(i,{J:()=>a});const a=(e,i)=>{let t;return function(){let a=this,n=arguments;clearTimeout(t),t=setTimeout((()=>{e.apply(a,n)}),i)}}},91427:(e,i,t)=>{t.d(i,{f:()=>a});const a=e=>e%10===0},9228:(e,i,t)=>{t.d(i,{Z:()=>a});const a={sf_card:"InstituteFeedback_sf_card__dLh8P",sf_card_contatiner:"InstituteFeedback_sf_card_contatiner__2Zbiq",sf_card_contatiner_inner:"InstituteFeedback_sf_card_contatiner_inner__sjsCw",sf_card_active:"InstituteFeedback_sf_card_active__ujoaz",ifq_card:"InstituteFeedback_ifq_card__vFRNw",ifq_card_inner:"InstituteFeedback_ifq_card_inner__65kmp",ifqo_cantainer:"InstituteFeedback_ifqo_cantainer__YlkE-",ifqo_cantainer_student:"InstituteFeedback_ifqo_cantainer_student__WsWho",ifqocs_active:"InstituteFeedback_ifqocs_active__Wa3As",osa_card:"InstituteFeedback_osa_card__48+nw",gsf_contatiner:"InstituteFeedback_gsf_contatiner__x3ydz",gsf_star_container:"InstituteFeedback_gsf_star_container__0Mu56",igc_card:"InstituteFeedback_igc_card__cCB4r"}},15783:(e,i,t)=>{t.d(i,{Z:()=>a});const a={notify_backdrop:"Utils_notify_backdrop__saL0O",notify_overlay:"Utils_notify_overlay__GtPc5",notify_hide_overlay:"Utils_notify_hide_overlay__MYvkC",notify_overlay_animation:"Utils_notify_overlay_animation__pcASm",notify_hide_overlay_animation:"Utils_notify_hide_overlay_animation__UKRcG",notify_container:"Utils_notify_container__O8DBA",notify_message:"Utils_notify_message__PHwKo",notify_close:"Utils_notify_close__IwjyA",modal_backdrop:"Utils_modal_backdrop__WBquw",modal_overlay:"Utils_modal_overlay__Yy-AV",modal_hide_overlay:"Utils_modal_hide_overlay__elt3A",navbar_modal_hide_overlay:"Utils_navbar_modal_hide_overlay__yqj5q",navbar_modal_overlay:"Utils_navbar_modal_overlay__6ub8g",modal_hide_overlay_animation:"Utils_modal_hide_overlay_animation__d3TNp",navbar_modal_overlay_animation:"Utils_navbar_modal_overlay_animation__Ypk9u",navbar_modal_hide_overlay_animation:"Utils_navbar_modal_hide_overlay_animation__QLEse",empty_container:"Utils_empty_container__-VyCI",modal_overlay_animation:"Utils_modal_overlay_animation__zkjsk"}}}]);
//# sourceMappingURL=36282.61904e0b.chunk.js.map