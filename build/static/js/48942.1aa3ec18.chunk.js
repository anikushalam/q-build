"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[48942,63687,21348],{72952:(e,t,n)=>{n.d(t,{Z:()=>i});n(72791);var a=n(39230),o=n(38733),l=n(80184);const i=e=>{var t;let{labelText:n,name:i,type:d,value:r,onChange:s,placeholder:m,errorShow:_,customStyleContainer:c,disabled:p}=e;const{t:v}=(0,a.$G)();return(0,l.jsxs)("div",{className:o.Z.join_form_container,style:{...c},children:[(0,l.jsxs)("label",{className:o.Z.join_form_label,htmlFor:i,children:[n," ",_&&(0,l.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",v("form_require_label")]})]}),(0,l.jsx)("textarea",{className:o.Z.join_form_text_area,type:d,value:r,onChange:s,name:i,placeholder:m,rows:r?(null===r||void 0===r||null===(t=r.split("\n"))||void 0===t?void 0:t.length)+3:1,disabled:p})]})}},63687:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var a=n(59393),o=n(80184);const l=e=>{let{customStyle:t,children:n}=e;return(0,o.jsx)("div",{className:a.Z.user_member_container_wrapper,style:t,children:n})}},21348:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var a=n(59393),o=n(80184);const l=e=>{let{customStyle:t,children:n}=e;return(0,o.jsx)("div",{className:a.Z.user_member_content_wrapper,style:t,children:n})}},37514:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var a=n(72791),o=n(39230),l=n(95048),i=n(91727),d=n(84959),r=n(72952),s=n(81622),m=n(97655),_=n(98734);const c="DeaprtmentSiteInfo_containercontent__KltIz",p="DeaprtmentSiteInfo_container_inner_content__zqg3P",v="DeaprtmentSiteInfo_show_field__hawFC",u="DeaprtmentSiteInfo_update_btn__HU3oA",h="DeaprtmentSiteInfo_add_contact_person__9YxFJ",x="DeaprtmentSiteInfo_add_contact_person_btn__XSinB";var g=n(63687),b=n(21348),f=n(56959),j=n(90904),y=n(80184);const C=e=>{let{did:t}=e;const{t:n}=(0,o.$G)(),C=(0,l.v9)((e=>e.authChange.loginRole)),[S,w]=(0,a.useState)(!1),[Z,I]=(0,a.useState)({department_vission:"",department_mission:"",department_hod_message:"",department_about:"",department_image:""}),[N,T]=(0,a.useState)([{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}]),{departmentGetSiteInfo:k,departmentGetSiteInfoRefetch:D}=(0,i.I8)({did:t,skip:!t}),[F]=(0,d.FL)(),[q]=(0,i.l8)();(0,a.useEffect)((()=>{t&&D()}),[t,D]),(0,a.useEffect)((()=>{var e,t,n,a,o,l,i;if(null!==k&&void 0!==k&&k.department_site&&(I({department_vission:null===k||void 0===k||null===(e=k.department_site)||void 0===e?void 0:e.department_vission,department_mission:null===k||void 0===k||null===(t=k.department_site)||void 0===t?void 0:t.department_mission,department_hod_message:null===k||void 0===k||null===(n=k.department_site)||void 0===n?void 0:n.department_hod_message,department_about:null===k||void 0===k||null===(a=k.department_site)||void 0===a?void 0:a.department_about,department_image:null===k||void 0===k||null===(o=k.department_site)||void 0===o?void 0:o.department_image}),null!==k&&void 0!==k&&null!==(l=k.department_site)&&void 0!==l&&null!==(i=l.department_contact)&&void 0!==i&&i.length)){let e=[];for(let t of null===k||void 0===k||null===(d=k.department_site)||void 0===d?void 0:d.department_contact){var d;let n={contact_department_name:null===t||void 0===t?void 0:t.contact_department_name,contact_person_name:null===t||void 0===t?void 0:t.contact_person_name,contact_person_mobile:null===t||void 0===t?void 0:t.contact_person_mobile,contact_person_email:null===t||void 0===t?void 0:t.contact_person_email,contactId:null===t||void 0===t?void 0:t._id};e.push(n)}T(e)}}),[null===k||void 0===k?void 0:k.department_site]);const G=(e,t)=>{const n=[...N];for(let a=0;a<(null===n||void 0===n?void 0:n.length);a++)a===t&&(n[a][e.target.name]=e.target.value);T(n)},K=e=>{I((t=>({...t,[e.target.name]:e.target.value})))};return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(g.default,{children:(0,y.jsxs)(b.default,{children:[(0,y.jsx)("div",{className:f.Z.fm_header_container,children:(0,y.jsx)("h6",{children:n("overview")})}),(0,y.jsx)(j.Z,{customStyleBorder:{marginBottom:"0"}}),(0,y.jsx)("div",{className:c,children:(0,y.jsxs)("div",{className:p,style:{marginTop:"0"},children:[(0,y.jsx)(s.Z,{labelText:n("department_Image"),name:"department_image",value:Z.department_image,onChange:e=>{w((e=>!e));const t=new FormData;t.append("file",e.target.files[0]),F({fileUpload:t}).then((e=>{var t;null!==(t=e.data)&&void 0!==t&&t.imageKey&&I((t=>{var n;return{...t,department_image:null===(n=e.data)||void 0===n?void 0:n.imageKey}})),w((e=>!e))})).catch({})},customStyleContainer:{width:"100%"}}),(0,y.jsx)(r.Z,{labelText:n("vision"),placeholder:n("department_vision_placeholder"),name:"department_vission",value:Z.department_vission,type:"text",onChange:K,customStyleContainer:{width:"100%"}}),(0,y.jsx)(r.Z,{labelText:n("mission"),placeholder:n("department_mission_placeholder"),name:"department_mission",value:Z.department_mission,type:"text",onChange:K,customStyleContainer:{width:"100%"}}),(0,y.jsx)(r.Z,{labelText:n("about_department"),placeholder:n("about_department_placeholder"),name:"department_about",value:Z.department_about,type:"text",onChange:K,customStyleContainer:{width:"100%"}}),(0,y.jsx)(r.Z,{labelText:n("hod_message"),placeholder:n("hod_message_placeholder"),name:"department_hod_message",value:Z.department_hod_message,type:"text",onChange:K,customStyleContainer:{width:"100%"}}),(0,y.jsxs)("div",{className:h,children:[(0,y.jsx)("h6",{children:n("add_contact_persons")}),null===N||void 0===N?void 0:N.map(((e,t)=>(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:v,children:[(0,y.jsx)(m.Z,{labelText:n("site_department_name"),placeholder:n("site_department_name_placeholder"),name:"contact_department_name",value:null===e||void 0===e?void 0:e.contact_department_name,type:"text",onChange:e=>G(e,t),customStyleContainer:{width:"49.5%"}}),(0,y.jsx)(m.Z,{labelText:n("contact_person_name"),placeholder:n("contact_person_name_placeholder"),name:"contact_person_name",value:null===e||void 0===e?void 0:e.contact_person_name,type:"text",onChange:e=>G(e,t),customStyleContainer:{width:"49.5%"}})]}),(0,y.jsxs)("div",{className:v,children:[(0,y.jsx)(m.Z,{labelText:n("contact_person_mobile"),placeholder:n("contact_person_mobile_placeholder"),name:"contact_person_mobile",value:null===e||void 0===e?void 0:e.contact_person_mobile,type:"text",onChange:e=>G(e,t),customStyleContainer:{width:"49.5%"}}),(0,y.jsx)(m.Z,{labelText:n("contact_person_email"),placeholder:n("contact_person_email_placeholder"),name:"contact_person_email",value:null===e||void 0===e?void 0:e.contact_person_email,type:"email",onChange:e=>G(e,t),customStyleContainer:{width:"49.5%"}})]})]},t)))]}),(0,y.jsx)("button",{className:x,title:"Add Contact Person",onClick:()=>{T((e=>[...e,{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}]))},children:n("add_contact_person")}),S&&(0,y.jsx)(_.Z,{}),(0,y.jsx)("button",{className:u,onClick:()=>{var e,n;"_usr_ia"===C||(w((e=>!e)),q({did:t,updateSiteInfo:{...Z,department_contact:null===N||void 0===N?void 0:N.filter((e=>null!==e&&void 0!==e&&e.contactId?"":e)),edit_department_contact:null===N||void 0===N?void 0:N.filter((e=>null!==e&&void 0!==e&&e.contactId?e:"")),previousKey:(null===k||void 0===k||null===(e=k.department_site)||void 0===e?void 0:e.department_image)===Z.department_image?"":null===k||void 0===k||null===(n=k.department_site)||void 0===n?void 0:n.department_image}}).then((()=>{w((e=>!e))})).catch({}))},children:n("update")})]})})]})})})}}}]);
//# sourceMappingURL=48942.1aa3ec18.chunk.js.map