"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[26097],{11105:(i,e,t)=>{t.d(e,{Z:()=>n});t(72791);var l=t(11575),o=t(80184);const n=i=>{let{status:e}=i;return(0,o.jsx)("div",{className:l.Z.loaderGif,children:(0,o.jsx)("img",{src:"white"===e?"/images/loader/loader-bg-white.gif":"/images/loader/loader.gif",alt:"for load an items"})})}},26097:(i,e,t)=>{t.r(e),t.d(e,{default:()=>x});var l=t(72791);const o={complaints:"SwitchAccount_complaints__FOCV9",swichModal:"SwitchAccount_swichModal__nF+az",swichModalTop:"SwitchAccount_swichModalTop__04Wup",swichModalBody:"SwitchAccount_swichModalBody__UXEej",swichModalItem:"SwitchAccount_swichModalItem__2hXtK",swichModalText:"SwitchAccount_swichModalText__kn6r2",search_container:"SwitchAccount_search_container__U4FLB",search_container_text:"SwitchAccount_search_container_text__ifPi5",search_container_input:"SwitchAccount_search_container_input__Jrtnb",searchIcon:"SwitchAccount_searchIcon__wfOTB"};var n=t(5574),s=t(87232),d=t(69721),a=t(39230),c=t(95048),u=t(16871),r=t(98734),v=t(11105),h=t(98990),m=t(10777),_=t(80184);function f(i){var e,t,n,s,a,v,f,w,x,p,N,g;let{data:j}=i;const M=(0,u.s0)(),y=(0,u.UO)(),I=(0,c.v9)((i=>i.idChange.id)),[P,b]=(0,l.useState)(""),[S,A]=(0,l.useState)(!1),C=(0,c.I0)(),{userV1ActivatedMemberLoading:k,userV1ActivatedMemberRefetch:F}=(0,m.bn)({data:{uid:I,role:P},skip:!P}),L=i=>{b(i)};return(0,l.useEffect)((()=>{P&&(A((i=>!i)),F())}),[P,F]),(0,l.useEffect)((()=>{P&&!k&&(C(h.S.onUserMember({memberType:"",memberId:P,isCallable:!1})),M("/q/".concat(y.username,"/memberstab"),{state:{selectedAccount:P}}),A((i=>!i)))}),[k]),(0,_.jsxs)(_.Fragment,{children:[null!==j&&void 0!==j&&j.studentFirstName?(0,_.jsxs)("div",{className:o.swichModalItem,onClick:()=>L(null===j||void 0===j?void 0:j._id),children:[(0,_.jsx)("img",{id:"profileImg",alt:"",src:null!==j&&void 0!==j&&null!==(e=j.institute)&&void 0!==e&&e.insProfilePhoto?"".concat(d.yI,"/").concat(null===j||void 0===j||null===(t=j.institute)||void 0===t?void 0:t.insProfilePhoto):null!==j&&void 0!==j&&null!==(n=j.student_unit)&&void 0!==n&&n.hostel_unit_photo?"".concat(d.yI,"/").concat(null===j||void 0===j||null===(s=j.student_unit)||void 0===s?void 0:s.hostel_unit_photo):null!==j&&void 0!==j&&j.studentProfilePhoto?"".concat(d.yI,"/").concat(null===j||void 0===j?void 0:j.studentProfilePhoto):"/images/ins_default_profile.svg"}),(0,_.jsxs)("div",{className:o.swichModalText,children:[(0,_.jsx)("h6",{children:null!==(a=null!==(v=null===j||void 0===j||null===(f=j.institute)||void 0===f?void 0:f.insName)&&void 0!==v?v:"".concat(null!==j&&void 0!==j&&null!==(w=j.student_unit)&&void 0!==w&&w.hostel_unit_name?"".concat(null===j||void 0===j||null===(x=j.student_unit)||void 0===x?void 0:x.hostel_unit_name," (Hostel)"):""))&&void 0!==a?a:""}),(0,_.jsxs)("p",{children:[null===j||void 0===j?void 0:j.studentFirstName," ",null===j||void 0===j?void 0:j.studentMiddleName," ",null===j||void 0===j?void 0:j.studentLastName," ","(student)"]})]})]}):null!==j&&void 0!==j&&j.staffFirstName?(0,_.jsxs)("div",{className:o.swichModalItem,onClick:()=>L(null===j||void 0===j?void 0:j._id),children:[(0,_.jsx)("img",{id:"profileImg",alt:"",src:null!==j&&void 0!==j&&null!==(p=j.institute)&&void 0!==p&&p.insProfilePhoto?"".concat(d.yI,"/").concat(null===j||void 0===j||null===(N=j.institute)||void 0===N?void 0:N.insProfilePhoto):null!==j&&void 0!==j&&j.staffProfilePhoto?"".concat(d.yI,"/").concat(null===j||void 0===j?void 0:j.staffProfilePhoto):"/images/ins_default_profile.svg"}),(0,_.jsxs)("div",{className:o.swichModalText,children:[(0,_.jsx)("h6",{children:null===j||void 0===j||null===(g=j.institute)||void 0===g?void 0:g.insName}),(0,_.jsxs)("p",{children:[null===j||void 0===j?void 0:j.staffFirstName," ",null===j||void 0===j?void 0:j.staffMiddleName," ",null===j||void 0===j?void 0:j.staffLastName," ","(staff)"]})]})]}):"",S&&(0,_.jsx)(r.Z,{})]})}const w=function(){const{t:i}=(0,a.$G)(),e=(0,u.s0)(),t=(0,c.v9)((i=>i.idChange.id)),[d,r]=(0,l.useState)(!0),[h,m]=(0,l.useState)([]),{data:w,refetch:x}=(0,s.I)(t,{skip:!t});return(0,l.useEffect)((()=>{t&&(r(!0),x())}),[x,t]),(0,l.useEffect)((()=>{var i;null!==w&&void 0!==w&&w.role_query?(m(null===w||void 0===w?void 0:w.role_query),r(!1)):0===(null===w||void 0===w||null===(i=w.role_query)||void 0===i?void 0:i.length)&&r(!1)}),[null===w||void 0===w?void 0:w.role_query]),(0,_.jsx)(n.Z,{open:!0,onClose:()=>e(-1),children:(0,_.jsxs)("div",{className:o.swichModal,children:[(0,_.jsx)("div",{className:o.swichModalTop,onClick:()=>e(-1),children:i("switch_account")}),(0,_.jsxs)("div",{className:o.swichModalBody,children:[(0,_.jsx)("div",{className:o.search_container,style:{marginBottom:"0.6rem"},children:(0,_.jsxs)("div",{className:o.search_container_text,children:[(0,_.jsx)("img",{className:o.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,_.jsx)("input",{type:"text",placeholder:i("search-label"),onChange:i=>{if(i.target.value){var e;const t=null===w||void 0===w||null===(e=w.role_query)||void 0===e?void 0:e.filter((e=>((i,e)=>{var t;let l=null!==i&&void 0!==i&&i.studentFirstName?"".concat(null===i||void 0===i?void 0:i.studentFirstName," ").concat(null!==i&&void 0!==i&&i.studentMiddleName?"".concat(null===i||void 0===i?void 0:i.studentMiddleName," "):"").concat(null===i||void 0===i?void 0:i.studentLastName):"".concat(null===i||void 0===i?void 0:i.staffFirstName," ").concat(null!==i&&void 0!==i&&i.staffMiddleName?"".concat(null===i||void 0===i?void 0:i.staffMiddleName," "):"").concat(null===i||void 0===i?void 0:i.staffLastName);return null!==l&&void 0!==l&&null!==(t=l.toLocaleLowerCase())&&void 0!==t&&t.includes(null===e||void 0===e?void 0:e.toLocaleLowerCase())?i:null})(e,i.target.value)));m(t)}else m(null===w||void 0===w?void 0:w.role_query)},autoFocus:!0,style:{border:"0.029vw solid rgba(0, 0, 0, 0.15)",width:"370px",marginInline:"0.5rem"}})]})}),null===h||void 0===h?void 0:h.map(((i,e)=>(0,_.jsx)(f,{data:i},e))),d&&(0,_.jsx)(v.Z,{})]})]})})};const x=function(){return(0,_.jsx)("div",{className:o.complaints,children:(0,_.jsx)(w,{})})}}}]);
//# sourceMappingURL=26097.f15f30c9.chunk.js.map