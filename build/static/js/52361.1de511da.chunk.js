"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[52361],{95078:function(o,n,e){e.d(n,{Z:function(){return j}});var t=e(1413),i=e(29439),s=e(72791),l=e(83638),d=e(92673),r=e(48293),a=e(21348),c=e(98684),u=e(90904),v=e(93638),g=e(15427),m=e(55336),h=e(16925),f=e(39230),Z=e(80184),x=function(o){var n=o.onParentClose,e=o.state,t=o.onClose,l=o.mid,d=o.flow,x=o.onNavigate,j=o.stid,_=(0,f.$G)().t,p=(0,s.useState)(!1),S=(0,i.Z)(p,2),I=S[0],k=S[1],y=(0,g.sQ)(),C=(0,i.Z)(y,1)[0];return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(r.Z,{onClose:t,children:(0,Z.jsxs)("div",{className:h.Z.modal_container,children:[(0,Z.jsx)(a.Z,{children:(0,Z.jsxs)("div",{className:h.Z.modal_container_outer_header,children:[(0,Z.jsx)("div",{className:h.Z.modal_container_header,children:(0,Z.jsx)("h6",{children:_("confirm_to_request_stock")})}),(0,Z.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:t})]})}),(0,Z.jsx)(u.Z,{customStyleBorder:{marginBottom:"0"}}),(0,Z.jsx)(a.Z,{customStyle:{paddingBottom:"1rem"},children:(0,Z.jsx)(v.Z,{label:"request_stock",onAction:function(){var o;l&&null!==e&&void 0!==e&&null!==(o=e.arr)&&void 0!==o&&o.length&&d&&j&&(k((function(o){return!o})),C({stid:j,bodyParameter:{arr:null===e||void 0===e?void 0:e.arr,flow:d,request_by:l}}).then((function(){k((function(o){return!o})),x(),n()})).catch({}))}})})]})}),I&&(0,Z.jsx)(m.Z,{})]})},j=function(o){var n=o.onClose,e=o.onNavigate,r=o.mid,a=o.stid,c=o.flow,u=(0,s.useState)(1),v=(0,i.Z)(u,2),g=v[0],m=v[1],h=(0,s.useState)({arr:[],goods:[],goodsId:[]}),f=(0,i.Z)(h,2),j=f[0],_=f[1];return(0,Z.jsx)(Z.Fragment,{children:1===g?(0,Z.jsx)(l.Z,{onClose:n,stid:a,onGoodsSelect:function(o){_((function(n){return(0,t.Z)((0,t.Z)({},n),{},{goods:null===o||void 0===o?void 0:o.goods,goodsId:null===o||void 0===o?void 0:o.goodsId})})),m(2)},dataState:j}):2===g?(0,Z.jsx)(d.Z,{onClose:function(){return m(1)},state:j,setStep:function(){return m(3)},setState:_}):3===g?(0,Z.jsx)(x,{onClose:function(){return m(2)},state:j,onParentClose:n,stid:a,onNavigate:e,flow:c,mid:r}):null})}},98148:function(o,n,e){e.d(n,{Z:function(){return B}});var t=e(1413),i=e(29439),s=e(72791),l=e(48293),d=e(21348),r=e(98684),a=e(90904),c=e(93638),u=e(15427),v=e(55336),g=e(16925),m=e(39230),h=e(80184),f=function(o){var n=o.onParentClose,e=o.state,t=o.onClose,f=o.mid,Z=o.flow,x=o.onNavigate,j=o.stid,_=(0,m.$G)().t,p=(0,s.useState)(!1),S=(0,i.Z)(p,2),I=S[0],k=S[1],y=(0,u.uq)(),C=(0,i.Z)(y,1)[0];return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.Z,{onClose:t,children:(0,h.jsxs)("div",{className:g.Z.modal_container,children:[(0,h.jsx)(d.Z,{children:(0,h.jsxs)("div",{className:g.Z.modal_container_outer_header,children:[(0,h.jsx)("div",{className:g.Z.modal_container_header,children:(0,h.jsx)("h6",{children:_("confirm_to_return_stock")})}),(0,h.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:t})]})}),(0,h.jsx)(a.Z,{customStyleBorder:{marginBottom:"0"}}),(0,h.jsx)(d.Z,{customStyle:{paddingBottom:"1rem"},children:(0,h.jsx)(c.Z,{label:"return_stock",onAction:function(){var o;f&&null!==e&&void 0!==e&&null!==(o=e.arr)&&void 0!==o&&o.length&&Z&&j&&(k((function(o){return!o})),C({stid:j,bodyParameter:{arr:null===e||void 0===e?void 0:e.arr,flow:Z,request_by:f}}).then((function(){k((function(o){return!o})),x(),n()})).catch({}))}})})]})}),I&&(0,h.jsx)(v.Z,{})]})},Z=e(93433),x=e(1095),j=e(2034),_=function(o){var n,e,t,i=o.goods,s=o.onSelectGoods,l=o.selectedId,d=(0,m.$G)().t;return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{className:null!==l&&void 0!==l&&l.includes(null===i||void 0===i?void 0:i._id)?"".concat(j.Z.smc_card," ").concat(j.Z.smc_card_active):j.Z.smc_card,onClick:function(){s(i)},children:(0,h.jsxs)("div",{className:j.Z.smc_card_contatiner,children:[(0,h.jsx)("img",{src:null!==i&&void 0!==i&&i.good_icon?"".concat(x.yI,"/").concat(null===i||void 0===i?void 0:i.good_icon):"".concat(r.J7,"/category.svg"),alt:"categor good_icon"}),(0,h.jsxs)("div",{className:j.Z.smc_card_contatiner_inner,children:[(0,h.jsxs)("h6",{children:[d("name"),": ",null!==(n=null===i||void 0===i?void 0:i.goods_name)&&void 0!==n?n:""]}),(0,h.jsxs)("p",{children:[d("remaining_quantity")," ",": "," ",null!==(e=null===i||void 0===i?void 0:i.goods_volume)&&void 0!==e?e:""]}),(0,h.jsxs)("p",{children:[d("price_per_unit")," ",": "," ",null!==(t=null===i||void 0===i?void 0:i.goods_price)&&void 0!==t?t:""]})]})]})})})},p=e(23441),S=e(91427),I=e(57588),k=e(1669),y=e(2651),C=e(49806),N=function(o){var n,e,g,f,x=o.onClose,j=o.stid,N=o.dataState,b=o.onGoodsSelect,B=(0,m.$G)().t,q=(0,s.useState)(""),G=(0,i.Z)(q,2),w=G[0],K=G[1],A=(0,s.useState)(1),F=(0,i.Z)(A,2),P=F[0],J=F[1],L=(0,s.useState)(!0),$=(0,i.Z)(L,2),E=$[0],T=$[1],D=(0,p.YD)({skip:w}),Q=(0,i.Z)(D,2),U=Q[0],Y=Q[1],z=(0,s.useState)({goods:[],goodsId:[]}),H=(0,i.Z)(z,2),M=H[0],O=H[1],R=(0,u.ok)({data:{stid:j,page:P,limit:10,search:w},skip:!j}),V=R.storeAllGoodsList,W=R.storeAllGoodsListLoading;(0,s.useEffect)((function(){Y&&E&&J((function(o){return o+1}))}),[Y,E]),(0,s.useEffect)((function(){var o;if(null!==V&&void 0!==V&&null!==(o=V.list)&&void 0!==o&&o.length){var n,e=(0,S.f)(null===V||void 0===V||null===(n=V.list)||void 0===n?void 0:n.length);T((function(){return e}))}}),[null===V||void 0===V||null===(n=V.list)||void 0===n?void 0:n.length]),(0,s.useEffect)((function(){var o;null!==N&&void 0!==N&&null!==(o=N.goodsId)&&void 0!==o&&o.length&&O({goods:null===N||void 0===N?void 0:N.goods,goodsId:null===N||void 0===N?void 0:N.goodsId})}),[null===N||void 0===N?void 0:N.goodsId]);var X=(0,s.useCallback)((0,I.J)((function(o){J((function(){return 1})),K(o)}),1500),[]),oo=function(o){var n;null!==(n=M.goodsId)&&void 0!==n&&n.includes(null===o||void 0===o?void 0:o._id)?O((function(n){var e,i;return(0,t.Z)((0,t.Z)({},n),{},{goods:null===n||void 0===n||null===(e=n.goods)||void 0===e?void 0:e.filter((function(n){return(null===n||void 0===n?void 0:n._id)!==(null===o||void 0===o?void 0:o._id)})),goodsId:null===n||void 0===n||null===(i=n.goodsId)||void 0===i?void 0:i.filter((function(n){return n!==(null===o||void 0===o?void 0:o._id)}))})})):O((function(n){return(0,t.Z)((0,t.Z)({},n),{},{goods:[].concat((0,Z.Z)(null===n||void 0===n?void 0:n.goods),[o]),goodsId:[].concat((0,Z.Z)(null===n||void 0===n?void 0:n.goodsId),[null===o||void 0===o?void 0:o._id])})}))};return(0,h.jsx)(l.Z,{onClose:x,children:(0,h.jsxs)("div",{className:C.Z.modal_container,children:[(0,h.jsx)(d.Z,{children:(0,h.jsxs)("div",{className:C.Z.modal_container_outer_header,children:[(0,h.jsx)("div",{className:C.Z.modal_container_header,children:(0,h.jsx)("h6",{children:B("select_goods")})}),(0,h.jsxs)("div",{className:C.Z.modal_container_btn_container,children:[(0,h.jsx)(c.Z,{label:"next",onAction:function(){b(M)},customStyle:{margin:"0",padding:"0.1rem 0.5rem"}}),(0,h.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:x})]})]})}),(0,h.jsx)(a.Z,{customStyleBorder:{marginBottom:"0"}}),(0,h.jsxs)(d.Z,{customStyle:{paddingBottom:"1rem"},children:[(0,h.jsxs)("div",{className:C.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,h.jsx)("input",{type:"text",placeholder:B("search"),className:C.Z.assign_search_input,onChange:function(o){o.target.value?X(o.target.value):(J((function(){return 1})),K(""))},style:{width:"100%"}}),(0,h.jsx)("img",{src:"".concat(r.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===V||void 0===V||null===(e=V.list)||void 0===e?void 0:e.map((function(o,n){var e;return(null===V||void 0===V||null===(e=V.list)||void 0===e?void 0:e.length)===n+1?(0,h.jsx)("div",{ref:U,children:(0,h.jsx)(_,{goods:o,onSelectGoods:oo,selectedId:M.goodsId})},null===o||void 0===o?void 0:o._id):(0,h.jsx)(_,{goods:o,onSelectGoods:oo,selectedId:M.goodsId},null===o||void 0===o?void 0:o._id)})),W?w?(0,h.jsx)(v.Z,{}):(0,h.jsx)(k.Z,{}):w?0===(null===V||void 0===V||null===(g=V.list)||void 0===g?void 0:g.length)&&(0,h.jsx)(y.Z,{title:"No goods found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===V||void 0===V||null===(f=V.list)||void 0===f?void 0:f.length)&&(0,h.jsx)(y.Z,{title:"No goods.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})},b=e(92673),B=function(o){var n=o.onClose,e=o.onNavigate,l=o.mid,d=o.stid,r=o.flow,a=(0,s.useState)(1),c=(0,i.Z)(a,2),u=c[0],v=c[1],g=(0,s.useState)({arr:[],goods:[],goodsId:[]}),m=(0,i.Z)(g,2),Z=m[0],x=m[1];return(0,h.jsx)(h.Fragment,{children:1===u?(0,h.jsx)(N,{onClose:n,stid:d,onGoodsSelect:function(o){x((function(n){return(0,t.Z)((0,t.Z)({},n),{},{goods:null===o||void 0===o?void 0:o.goods,goodsId:null===o||void 0===o?void 0:o.goodsId})})),v(2)},dataState:Z}):2===u?(0,h.jsx)(b.Z,{onClose:function(){return v(1)},state:Z,setStep:function(){return v(3)},setState:x}):3===u?(0,h.jsx)(f,{onClose:function(){return v(2)},state:Z,onParentClose:n,stid:d,onNavigate:e,flow:r,mid:l}):null})}},70179:function(o,n,e){var t=e(29439),i=e(43504),s=e(90904),l=e(98967),d=e(63162),r=e(80184);n.Z=function(o){var n=o.parentState,e=o.inititalUrl,c=(0,i.lr)(),u=(0,t.Z)(c,1)[0];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Z,{children:a.map((function(o){var t;return(0,r.jsx)(d.Z,{tab:o,isLink:!0,isActive:null===(t=o.groupIs)||void 0===t?void 0:t.includes(u.get("n")),parentState:n,url:"".concat(e).concat(o.urlKey)},null===o||void 0===o?void 0:o.id)}))}),(0,r.jsx)(s.Z,{customStyleBorder:{marginBlock:"0"}})]})};var a=[{label:"register",id:"register",urlKey:"",groupIs:["",null]},{label:"request",id:"request",urlKey:"&n=request",groupIs:["request"]},{label:"issue",id:"issue",urlKey:"&n=issue",groupIs:["issue"]},{label:"stocktake",id:"stocktake",urlKey:"&n=stocktake",groupIs:["stocktake"]},{label:"consumption",id:"consumption",urlKey:"&n=consumption",groupIs:["consumption"]},{label:"return",id:"return",urlKey:"&n=return",groupIs:["return"]},{label:"maintenance",id:"maintenance",urlKey:"&n=maintenance",groupIs:["maintenance"]}]}}]);
//# sourceMappingURL=52361.1de511da.chunk.js.map