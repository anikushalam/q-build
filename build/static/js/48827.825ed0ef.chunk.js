"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[48827],{11163:(e,l,t)=>{t.d(l,{BK:()=>v,Ff:()=>o,GX:()=>b,S4:()=>c,o:()=>m,oz:()=>d});var a=t(72791),n=t(43997),s=t(97892),i=t.n(s);const o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],d=["January","February","March","April","May","June","July","August","September","October","November","December"],r={0:4,1:3,2:4,3:3,4:4,5:3,6:4,7:4,8:3,9:4,10:3,11:4},c=()=>{let e=(new Date).getFullYear(),l=e-70,t=[];for(let a=e+30;a>=l;a--)t.push(a);return t.reverse()},_=[1,2,3,4,5,6,0],u=()=>new Date,v=(e,l)=>{var t,a;let s;s=l?null===(t=i()(e))||void 0===t?void 0:t.format("YYYY-MM-DD"):(0,n.O_)(e);let o=new Date,d=null===(a=i()(o))||void 0===a?void 0:a.format("YYYY-MM-DD"),r=new Date("".concat(s)),c=new Date("".concat(d));return r.getTime()===c.getTime()},m=(e,l)=>e===(e=>{let l=null===e||void 0===e?void 0:e.split("-"),t=(null===l||void 0===l?void 0:l[0])>9?null===l||void 0===l?void 0:l[0]:"0".concat(null===l||void 0===l?void 0:l[0]),a=(null===l||void 0===l?void 0:l[1])>9?null===l||void 0===l?void 0:l[1]:"0".concat(null===l||void 0===l?void 0:l[1]);return"".concat(t,"/").concat(a,"/").concat(null===l||void 0===l?void 0:l[2])})(l),h=e=>(e=>{let l=new Date(e);return new Date(l.getFullYear(),l.getMonth()+1,0)})(e).getDate(),p=e=>(e=>{let l=new Date(e);return new Date(l.getFullYear(),l.getMonth(),0)})(e).getDate(),f=e=>_.indexOf((e=>{let l=new Date(e);return new Date(l.getFullYear(),l.getMonth(),1).getDay()})(e)),b=e=>{const[l,t]=(0,a.useState)(u());(0,a.useEffect)((()=>{e&&t((e=>{let l=(0,n.O_)(e);return new Date(l)})(e))}),[e]);const s=p(i=l)-f(i);var i;const c=(0,a.useMemo)((()=>((e,l)=>{let t=1,a=1,n=new Date(e);const s={};for(let i=1;i<7;i++){s[i]=[];for(let d=1;d<8;d++)if(1===i)if(d<=f(e)+1){let e=n.getMonth()+1,a="".concat(n.getFullYear(),"-").concat(e>9?e:"0".concat(e),"-").concat(t>9?t:"0".concat(t)),d=new Date(a);s[i]=[...s[i],{type:"PREVIOUS",date:"".concat(l,"-").concat(0===n.getMonth()?12:n.getMonth(),"-").concat(0===n.getMonth()?n.getFullYear()-1:n.getFullYear()),value:l,day:o[d.getDay()]}],++l}else{let e=n.getMonth()+1,l="".concat(n.getFullYear(),"-").concat(e>9?e:"0".concat(e),"-").concat(t>9?t:"0".concat(t)),a=new Date(l);s[i]=[...s[i],{type:"CURRENT",date:"".concat(t,"-").concat(n.getMonth()+1,"-").concat(n.getFullYear()),value:t,day:o[a.getDay()]}],t++}else if(i>1&&t<h(e)+1){let e=n.getMonth()+1,l="".concat(n.getFullYear(),"-").concat(e>9?e:"0".concat(e),"-").concat(t>9?t:"0".concat(t)),a=new Date(l);s[i]=[...s[i],{type:"CURRENT",date:"".concat(t,"-").concat(n.getMonth()+1,"-").concat(n.getFullYear()),value:t,day:o[a.getDay()]}],t++}else{let e=n.getMonth()+1,l="".concat(n.getFullYear(),"-").concat(e>9?e:"0".concat(e),"-").concat(t>9?t:"0".concat(t)),d=new Date(l);s[i]=[...s[i],{type:"NEXT_MONTH",date:"".concat(a,"-").concat(n.getMonth()+2===13?1:n.getMonth()+2,"-").concat(n.getMonth()+2===13?n.getFullYear()+1:n.getFullYear()),value:a,day:o[d.getDay()]}],a++}}return s})(l,s)),[l,s]),_=(0,a.useCallback)((()=>{t((e=>new Date(e.getFullYear(),e.getMonth()-1,1)))}),[]),v=(0,a.useCallback)((()=>{t((e=>new Date(e.getFullYear(),e.getMonth()+1,1)))}),[]),b=(0,a.useCallback)((e=>{let l=null===e||void 0===e?void 0:e.split("-"),a=new Date("".concat(l[2],"-").concat(l[1],"-").concat(l[0]));t(a)}),[]);return{selectedDate:l,setSelectedDate:t,getPreviousMonth:_,getNextMonth:v,getSelectedDate:b,generateCalendar:c,getToday:u,dayName:o,monthName:d,getCompareDate:m,monthPage:r}}},55336:(e,l,t)=>{t.d(l,{Z:()=>s});var a=t(63244),n=t(80184);const s=()=>(0,n.jsx)("div",{className:a.Z.qviple_loader_backdrop,children:(0,n.jsx)("div",{className:a.Z.qviple_loader_container,children:(0,n.jsx)("div",{className:a.Z.qviple_loader_rotation})})})},90904:(e,l,t)=>{t.d(l,{Z:()=>s});const a="BorderBottom_split_content__RVPoh";var n=t(80184);const s=e=>{let{customStyleBorder:l}=e;return(0,n.jsx)("hr",{className:a,style:l})}},93638:(e,l,t)=>{t.d(l,{Z:()=>i});var a=t(39230),n=t(80476),s=t(80184);const i=e=>{let{label:l,count:t,onAction:i,customStyle:o,isTranslate:d}=e;const{t:r}=(0,a.$G)();return d?(0,s.jsxs)("div",{className:n.Z.create_btn_container,onClick:i,style:o,children:[t>0?(0,s.jsxs)("span",{children:[t," "]}):null,l]}):(0,s.jsxs)("div",{className:n.Z.create_btn_container,onClick:i,style:o,children:[t>0?(0,s.jsxs)("span",{children:[t," "]}):null,r(l)]})}},66659:(e,l,t)=>{t.d(l,{Z:()=>o});var a=t(39230),n=t(80476),s=t(98684),i=t(80184);const o=e=>{let{label:l,count:t,onAction:o,customStyle:d}=e;const{t:r}=(0,a.$G)();return(0,i.jsxs)("div",{className:n.Z.set_btn_container,onClick:o,style:d,children:[(0,i.jsxs)("h6",{children:[t>0?(0,i.jsxs)("span",{children:[t," "," "]}):null,r(l)]}),(0,i.jsx)("img",{src:"".concat(s.J7,"/forward.svg"),alt:"forward icon"})]})}},60924:(e,l,t)=>{t.d(l,{Z:()=>m});var a=t(39230),n=t(52245),s=t(72791),i=t(11163),o=t(8728),d=t(38857),r=t(98684),c=t(97892),_=t.n(c),u=t(80184);const v=e=>{var l;let{onClose:t,date:a,onDateSelect:n}=e;const{selectedDate:c,setSelectedDate:v,getPreviousMonth:m,getNextMonth:h,getSelectedDate:p,generateCalendar:f}=(0,i.GX)(a),[b,x]=(0,s.useState)(""),g=(0,i.S4)(),j=(0,s.useMemo)((()=>g.indexOf(c.getFullYear())),[c,g]),[Z,y]=(0,s.useState)(0),N=(0,s.useMemo)((()=>g.slice(j+12*Z,Z?j+12*Z+12:j+12)),[g,Z,j]),D=(0,s.useCallback)((()=>{x(b?"":"MONTH")}),[b]),C=(0,s.useCallback)((()=>{x(b?"":"YEAR")}),[b]),S=(0,s.useCallback)((e=>{v((l=>new Date("".concat(e," ").concat(l.getDate()," ").concat(l.getFullYear())))),D()}),[D]),w=(0,s.useCallback)((e=>{v((l=>new Date("".concat(l.getMonth()+1," ").concat(l.getDate()," ").concat(e)))),C()}),[C]);return(0,u.jsx)(d.Z,{onClose:t,customBackdropStyle:{zIndex:"2000"},customOverlayStyle:{zIndex:"2000"},children:(0,u.jsxs)("div",{className:o.Z.calendar,children:[(0,u.jsxs)("div",{className:o.Z.calendar_top,children:[(0,u.jsx)("img",{src:"".concat(r.Fk,"/next.svg"),alt:"previous icon",onClick:()=>{b?"YEAR"===b&&y((e=>e-1)):m()},style:{rotate:"180deg"}}),(0,u.jsxs)("h6",{children:[(0,u.jsx)("span",{onClick:D,children:_()(c).format("MMMM")})," ",(0,u.jsx)("span",{onClick:C,children:_()(c).format("YYYY")})]}),(0,u.jsx)("img",{src:"".concat(r.Fk,"/next.svg"),alt:"next icon",onClick:()=>{b?"YEAR"===b&&y((e=>e+1)):h()}})]}),"MONTH"===b?(0,u.jsx)("div",{className:o.Z.calendar_month,children:i.oz.map((e=>(0,u.jsx)("p",{className:_()(c).format("MMMM")===e?"".concat(o.Z.calendar_month_value," ").concat(o.Z.calendar_month_value_active):o.Z.calendar_month_value,onClick:()=>S(e),children:e},e)))}):"YEAR"===b?(0,u.jsx)("div",{className:o.Z.calendar_month,children:null===N||void 0===N?void 0:N.map((e=>(0,u.jsx)("p",{className:_()(c).format("YYYY")==="".concat(e)?"".concat(o.Z.calendar_month_value," ").concat(o.Z.calendar_month_value_active):o.Z.calendar_month_value,onClick:()=>w(e),children:e},e)))}):(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:o.Z.calendar_days,children:i.Ff.map((e=>(0,u.jsx)("p",{className:o.Z.calendar_days_label,children:e},e)))}),null===(l=Object.values(f))||void 0===l?void 0:l.map(((e,l)=>(0,u.jsx)("div",{className:o.Z.calendar_days,children:e.map((e=>(0,u.jsx)("p",{className:o.Z.calendar_days_value,style:{"--calendar-border":(0,i.BK)(null===e||void 0===e?void 0:e.date)?"#123456":(0,i.o)(c,null===e||void 0===e?void 0:e.date)?"red":""},onClick:()=>{return l=null===e||void 0===e?void 0:e.date,p(l),n(l),void t();var l},children:null===e||void 0===e?void 0:e.value},null===e||void 0===e?void 0:e.date)))},l)))]})]})})},m=e=>{let{label:l,name:t,msg:i,value:o,onChange:d,placeholder:c,customFormInputContainer:_,customFormInputLabel:m,customFormInput:h,errorShow:p,disabled:f}=e;const{t:b}=(0,a.$G)(),[x,g]=(0,s.useState)(!1),j=()=>{g((e=>!e))};return(0,u.jsxs)("div",{className:n.Z.form_input_container,style:_,children:[l&&(0,u.jsxs)("label",{className:n.Z.form_input_label,style:m,htmlFor:t,children:[l,i?(0,u.jsx)("span",{className:n.Z.form_input_label_error,children:i}):p?(0,u.jsxs)("span",{className:n.Z.form_input_label_error,children:["* ",b("form_require_label")]}):null]}),(0,u.jsx)("input",{className:n.Z.form_input,type:"text",value:o,name:t,placeholder:c,disabled:f,style:h,onFocus:j}),(0,u.jsx)("img",{src:"".concat(r.Fk,"/calendar.svg"),alt:"calander-icon",className:n.Z.form_calendar_icon,onClick:j}),x&&(0,u.jsx)(v,{onClose:j,onDateSelect:d,date:o})]})}},8959:(e,l,t)=>{t.d(l,{Z:()=>s});var a=t(52245),n=t(80184);const s=e=>{let{label:l,value:t,customFormInputContainer:s,customFormInputLabel:i,customFormInput:o,children:d}=e;return(0,n.jsxs)("div",{className:a.Z.form_read_input_container,style:s,children:[l?(0,n.jsx)("label",{className:a.Z.form_read_input_label,style:i,children:l}):null,d,(0,n.jsx)("h6",{className:a.Z.form_read_input,style:o,children:t})]})}},21348:(e,l,t)=>{t.d(l,{Z:()=>s});var a=t(59393),n=t(80184);const s=e=>{let{customStyle:l,children:t}=e;return(0,n.jsx)("div",{className:a.Z.user_member_content_wrapper,style:l,children:t})}},90802:(e,l,t)=>{t.d(l,{Z:()=>I});var a=t(72791),n=t(4007),s=t(61055),i=t(33880),o=t(28457),d=t(40739),r=t(6758),c=t(98684),_=t(21348),u=t(38857),v=t(90904),m=t(39230),h=t(66659),p=t(99183),f=t(55336),b=t(85794),x=t(80184);const g=e=>{var l,t,g,j,Z,y,N;let{onClose:D,did:C,instituteId:S,fid:w,structure:F,setStructure:T,setStep:A}=e;const{t:M}=(0,m.$G)(),[k,E]=(0,a.useState)({structure_name:null!==(l=null===F||void 0===F?void 0:F.structure_name)&&void 0!==l?l:"",category_master:null!==(t=null===F||void 0===F?void 0:F.category_master)&&void 0!==t?t:"",class_master:null!==(g=null===F||void 0===F?void 0:F.class_master)&&void 0!==g?g:"",batch_master:null!==(j=null===F||void 0===F?void 0:F.batch_master)&&void 0!==j?j:""}),[B,I]=(0,a.useState)(!1),[H,Y]=(0,a.useState)(""),[O,U]=(0,a.useState)({open:!1,msg:"",variant:"error"}),[R]=(0,r.rG)();(0,a.useEffect)((()=>{null!==F&&void 0!==F&&F.structure_name&&E((e=>{var l,t,a,n;return{...e,structure_name:null!==(l=null===F||void 0===F?void 0:F.structure_name)&&void 0!==l?l:"",category_master:null!==(t=null===F||void 0===F?void 0:F.category_master)&&void 0!==t?t:"",class_master:null!==(a=null===F||void 0===F?void 0:F.class_master)&&void 0!==a?a:"",batch_master:null!==(n=null===F||void 0===F?void 0:F.batch_master)&&void 0!==n?n:""}}))}),[null===F||void 0===F?void 0:F.structure_name]);const{departmentAllBatch:G}=(0,r._m)({did:C,skip:!C}),{departmentAllClassMaster:L}=(0,r.lj)({data:{did:C,id:S},skip:C?!S:!C}),{financeAllFeesCategory:P}=(0,r.QD)({fid:w,skip:!w});return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(u.Z,{children:(0,x.jsxs)("div",{className:n.Z.modal_container,children:[(0,x.jsx)(_.Z,{children:(0,x.jsxs)("div",{className:n.Z.modal_container_outer_header,children:[(0,x.jsx)("div",{className:n.Z.modal_container_header,children:(0,x.jsx)("h6",{children:M("add_new_fees_structure")})}),(0,x.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:D})]})}),(0,x.jsx)(v.Z,{}),(0,x.jsxs)(_.Z,{customStyle:{paddingTop:"0"},children:[(0,x.jsx)(s.Z,{label:M("fee_structure_name"),placeholder:M("fee_structure_name_placeholder"),type:"text",name:"structure_name",value:k.structure_name,onChange:e=>{E((l=>({...l,structure_name:e.target.value})))},errorShow:H.structure_name}),(0,x.jsx)(i.Z,{selectLabel:M("select_batch"),selectedValue:M("select_batch_placeholder"),options:(null===G||void 0===G?void 0:G.length)>0?G:[],onClick:e=>{E((l=>({...l,batch_master:e})))},viewAs:"NORMAL_FILTER",defalutValue:null===(Z=k.batch_master)||void 0===Z?void 0:Z.batchName,errorShow:H.batch_master,isFull:!0}),(0,x.jsx)(o.Z,{selectLabel:M("select_fee_category_master"),selectedValue:M("please_select_fees_category"),options:(null===P||void 0===P?void 0:P.length)>0?P:[],onClick:e=>{E((l=>({...l,category_master:e})))},viewAs:"NORMAL_FILTER",defalutValue:null===(y=k.category_master)||void 0===y?void 0:y.category_name,errorShow:H.category_master,isFull:!0}),(0,x.jsx)(d.Z,{selectLabel:M("select_standard"),selectedValue:M("please_select_the_standard_master"),defalutValue:null===(N=k.class_master)||void 0===N?void 0:N.className,onClick:e=>{E((l=>({...l,class_master:e})))},name:"class_master",options:(null===L||void 0===L?void 0:L.length)>0?L:[],errorShow:H.class_master,viewAs:"NORMAL_FILTER",isFull:!0}),(0,x.jsx)(h.Z,{label:"set_fee_structure",onAction:()=>{let e=(0,p.l)(k);var l,t,a;(0,p.x)(e)?(I((e=>!e)),R({validate:{category_master:null===k||void 0===k||null===(l=k.category_master)||void 0===l?void 0:l._id,class_master:null===k||void 0===k||null===(t=k.class_master)||void 0===t?void 0:t._id,batch_master:null===k||void 0===k||null===(a=k.batch_master)||void 0===a?void 0:a._id}}).then((e=>{var l,t;(I((e=>!e)),null!==e&&void 0!==e&&null!==(l=e.data)&&void 0!==l&&l.avail_struct)?(U({msg:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message,open:!0,variant:"error"}),setTimeout((()=>{D()}),[3e3])):(T((e=>({...e,...k}))),A(1))})).catch({})):Y(e)}})]}),(0,x.jsx)(b.Z,{eventState:O,eventStateHandler:U})]})}),B&&(0,x.jsx)(f.Z,{})]})};var j=t(19056),Z=t(43997),y=t(60924);const N=e=>{var l,t,i;let{structure:o,setStructure:d,setAllInstallment:r,allInstallment:p,setStep:f,openAs:b,onParentClose:g}=e;const{t:N}=(0,m.$G)(),[S,w]=(0,a.useState)(null!==(l=null===o||void 0===o?void 0:o.total_installments)&&void 0!==l?l:""),[F,T]=(0,a.useState)(null!==p&&void 0!==p?p:[]),[A,M]=(0,a.useState)({total_admission_fees:null!==(t=null===o||void 0===o?void 0:o.total_admission_fees)&&void 0!==t?t:"",applicable_fees:null!==(i=null===o||void 0===o?void 0:o.applicable_fees)&&void 0!==i?i:""}),[k,E]=(0,a.useState)("");(0,a.useEffect)((()=>{var e,l,t;w(null!==(e=null===o||void 0===o?void 0:o.total_installments)&&void 0!==e?e:""),T(p),M({total_admission_fees:null!==(l=null===o||void 0===o?void 0:o.total_admission_fees)&&void 0!==l?l:"",applicable_fees:null!==(t=null===o||void 0===o?void 0:o.applicable_fees)&&void 0!==t?t:""})}),[o,p]);const B=(0,a.useCallback)((e=>{w(e);const l=[];for(let t=1;t<=e;t++)l.push({fees:"",dueDate:""});T(l)}),[]);return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(u.Z,{children:(0,x.jsxs)("div",{className:n.Z.modal_container,children:[(0,x.jsx)(_.Z,{children:(0,x.jsxs)("div",{className:n.Z.modal_container_outer_header,children:[(0,x.jsx)("div",{className:n.Z.modal_container_header,children:(0,x.jsx)("h6",{children:N("admission_fees")})}),(0,x.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:()=>"EDIT"===b?g():f(0)})]})}),(0,x.jsx)(v.Z,{}),(0,x.jsxs)(_.Z,{customStyle:{paddingTop:"0"},children:[(0,x.jsx)(s.Z,{label:N("total_fees"),placeholder:N("enter_one_time_payment"),name:"total_admission_fees",value:null===A||void 0===A?void 0:A.total_admission_fees,type:"tel",onChange:e=>{M((l=>({...l,[e.target.name]:+e.target.value})))}}),(0,x.jsx)(s.Z,{label:N("applicable_fees"),placeholder:N("applicable_fees_placeholder"),name:"applicable_fees",value:null===A||void 0===A?void 0:A.applicable_fees,type:"tel",onChange:e=>{M((l=>({...l,[e.target.name]:+e.target.value}))),S||w((e=>1)),1===S&&T([{fees:+e.target.value,dueDate:""}])},msg:N(k.total_applicable_value)}),(null===A||void 0===A?void 0:A.applicable_fees)>0?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(j.Z,{selectLabel:N("total_installment"),selectedValue:N("select_installment"),defalutValue:S,onClick:B,options:[1,2,3,4,5,6,7,8,9,10,11,12],errorShow:k.installmentCount}),null===F||void 0===F?void 0:F.map(((e,l)=>(0,x.jsxs)("div",{className:n.Z.afsi_container,children:[(0,x.jsx)(s.Z,{label:"".concat(N("installment")," ").concat(l+1),placeholder:N("Amount"),name:"amount".concat(l),value:e.fees,type:"tel",onChange:e=>((e,l)=>{const t=[...F];for(let a=0;a<(null===t||void 0===t?void 0:t.length);a++)a===l&&(t[a].fees=+e.target.value);T(t)})(e,l),errorShow:k["fees".concat(l)],customFormInputContainer:{width:"48%"}}),(0,x.jsx)(y.Z,{label:N("due_last_date"),placeholder:N("please_select_the_date"),name:"dueDate".concat(l),value:e.dueDate?(0,Z.jh)(e.dueDate):"",onChange:e=>((e,l)=>{const t=[...F];for(let a=0;a<(null===t||void 0===t?void 0:t.length);a++)a===l&&(t[a].dueDate=(0,Z.O_)(e));T(t)})(e,l),customFormInputContainer:{width:"48%"},errorShow:k["dueDate".concat(l)]})]},l)))]}):null,k.total_install_value&&(0,x.jsx)("p",{style:{marginTop:"1rem",color:"red"},children:N("total_installment_value_is_greater_than_or_equal_to_applicable_fees")}),(0,x.jsx)(h.Z,{label:"set_fee_heads",onAction:()=>{const e=D(S,A,F);let l=!1;for(let t in e){l=!0;break}if(l)E(e);else{if(null!==A&&void 0!==A&&A.applicable_fees){const e=C(F);d((l=>{var t,a;return{...l,total_admission_fees:null!==(t=+A.total_admission_fees)&&void 0!==t?t:0,applicable_fees:null!==(a=+A.applicable_fees)&&void 0!==a?a:0,total_installments:+S,...e}})),r(F)}else{const e=C([{fees:"",dueDate:""}]);d((l=>{var t,a;return{...l,total_admission_fees:null!==(t=+A.total_admission_fees)&&void 0!==t?t:0,applicable_fees:null!==(a=+A.applicable_fees)&&void 0!==a?a:0,total_installments:1,...e}})),r(F)}f(2)}}})]})]})})})},D=(e,l,t)=>{const a={};l.applicable_fees&&(e||(a.installmentCount="installmentCount is required!"));for(let s in l)"applicable_fees"===s||"total_admission_fees"===s||l[s]||(a[s]="".concat(s," is required!"));if(l.applicable_fees)for(let s=0;s<(null===t||void 0===t?void 0:t.length);s++)for(let e in t[s])"fees"===e&&(t[s][e]||(a["".concat(e).concat(s)]="".concat(e," is required!")));l.applicable_fees>l.total_admission_fees&&(a.total_applicable_value="applicable_fees_should_be_equal_to_or_less_than__total_tdmission_fees");let n=0;for(let s=0;s<(null===t||void 0===t?void 0:t.length);s++)n+=t[s].fees;return(n<l.applicable_fees||n>l.applicable_fees)&&(a.total_install_value="* is required!"),a},C=e=>{const l={};for(let t=0;t<(null===e||void 0===e?void 0:e.length);t++)0===t?l.one_installments=e[t]?e[t]:0:1===t?l.two_installments=e[t]?e[t]:0:2===t?l.three_installments=e[t]?e[t]:0:3===t?l.four_installments=e[t]?e[t]:0:4===t?l.five_installments=e[t]?e[t]:0:5===t?l.six_installments=e[t]?e[t]:0:6===t?l.seven_installments=e[t]?e[t]:0:7===t?l.eight_installments=e[t]?e[t]:0:8===t?l.nine_installments=e[t]?e[t]:0:9===t?l.ten_installments=e[t]?e[t]:0:10===t?l.eleven_installments=e[t]?e[t]:0:11===t&&(l.tweleve_installments=e[t]?e[t]:0);return l};var S=t(75810);const w=e=>{var l,t,s,i;let{structure:o,setStep:d,setFeeHeadAmount:r,feeHeadAmount:p,allInstallment:f,fid:g,applicableFeeHead:j,govtFeeHead:y,setApplicableFeeHead:N,setGovtFeeHead:D,govtFeeHeadAmount:C,setGovtFeeHeadAmount:w,setApplicableFeeHeadId:T,applicableFeeHeadId:A,govtFeeHeadId:M,setGovtFeeHeadId:k}=e;const{t:E}=(0,m.$G)(),[B,I]=(0,a.useState)({open:!1,msg:"",variant:"error"}),[H,Y]=(0,a.useState)(null!==p&&void 0!==p?p:0),[O,U]=(0,a.useState)(null!==j&&void 0!==j?j:[]),[R,G]=(0,a.useState)(null!==y&&void 0!==y?y:[]),[L,P]=(0,a.useState)(null!==C&&void 0!==C?C:0),[q,J]=(0,a.useState)("");(0,a.useEffect)((()=>{if(O){let l=0;for(let t=0;t<(null===O||void 0===O?void 0:O.length);t++){var e;l+=+(null===(e=O[t])||void 0===e?void 0:e.head_amount)}Y(l)}}),[O]),(0,a.useEffect)((()=>{if(R){let l=0;for(let t=0;t<(null===R||void 0===R?void 0:R.length);t++){var e;l+=+(null===(e=R[t])||void 0===e?void 0:e.head_amount)}P(l)}}),[R]);const z=()=>{J("")};return(0,x.jsxs)(x.Fragment,{children:["BY_APPLICABLE"===q?(0,x.jsx)(S.Z,{fid:g,onClose:z,setFeeHead:U,setFeeHeadId:T,feeHeadId:A,isSegment:"BY_APPLICABLE"}):"BY_GOVERNMENT"===q?(0,x.jsx)(S.Z,{fid:g,onClose:z,setFeeHead:G,setFeeHeadId:k,feeHeadId:M,isSegment:"BY_GOVERNMENT"}):(0,x.jsx)(u.Z,{children:(0,x.jsxs)("div",{className:n.Z.modal_container,children:[(0,x.jsx)(_.Z,{children:(0,x.jsxs)("div",{className:n.Z.modal_container_outer_header,children:[(0,x.jsx)("div",{className:n.Z.modal_container_header,children:(0,x.jsx)("h6",{children:E("fee_heads")})}),(0,x.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:()=>d(1)})]})}),(0,x.jsx)(v.Z,{}),(0,x.jsxs)(_.Z,{customStyle:{paddingTop:"0"},children:[(0,x.jsxs)("section",{className:n.Z.fees_head_title,children:[(0,x.jsx)("h6",{children:E("total_fees")}),(0,x.jsxs)("h6",{children:[E("rs_only")," ",null!==(l=null===o||void 0===o?void 0:o.total_admission_fees)&&void 0!==l?l:0]})]}),(0,x.jsxs)("section",{className:n.Z.fees_head_installment,children:[(0,x.jsx)("h6",{style:{color:"#002BBE"},children:E("applicable_fees_only")}),(0,x.jsxs)("h6",{style:{color:"#002BBE"},children:[E("rs_only")," ",null!==(t=null===o||void 0===o?void 0:o.applicable_fees)&&void 0!==t?t:0]})]}),(0,x.jsxs)("section",{className:n.Z.fees_head_installment,children:[(0,x.jsxs)("h6",{style:{color:"#002BBE"},children:[E("govt_scholarship")," "," : "]}),(0,x.jsxs)("h6",{style:{color:"#002BBE"},children:[E("rs_only")," ",(null!==(s=null===o||void 0===o?void 0:o.total_admission_fees)&&void 0!==s?s:0)-(null!==(i=null===o||void 0===o?void 0:o.applicable_fees)&&void 0!==i?i:0)]})]}),null===f||void 0===f?void 0:f.map(((e,l)=>{var t;return(0,x.jsxs)("section",{className:n.Z.fees_head_installment,children:[(0,x.jsxs)("h6",{style:{textTransform:"capitalize"},children:[E(F(l))," ",E("installment"),null!==e&&void 0!==e&&e.dueDate?(0,x.jsxs)("span",{style:{fontWeight:"400",fontSize:"12px",marginLeft:"0.4rem"},children:["(","".concat((0,Z.jh)(null===e||void 0===e?void 0:e.dueDate)),")"]}):""]}),(0,x.jsxs)("h6",{children:[E("rs_only")," ",null!==(t=null===e||void 0===e?void 0:e.fees)&&void 0!==t?t:0]})]},l)})),(0,x.jsxs)("section",{className:n.Z.table_container,style:{margin:"0"},children:[(0,x.jsxs)("div",{className:n.Z.table_heading,children:[(0,x.jsx)("h6",{children:E("applicable_fee_heads")}),(0,x.jsx)("h6",{children:E("amount")})]}),(0,x.jsx)("div",{className:n.Z.table_body,children:null===O||void 0===O?void 0:O.map(((e,l)=>(0,x.jsxs)("div",{className:n.Z.table_body_list,children:[(0,x.jsx)("input",{type:"text",value:null===e||void 0===e?void 0:e.head_name,onChange:e=>((e,l)=>{const t=[...O];for(let a=0;a<(null===t||void 0===t?void 0:t.length);a++)a===l&&(t[a].head_name=e.target.value);U(t)})(e,l),className:n.Z.fee_head_name_input}),(0,x.jsx)("input",{type:"number",value:null===e||void 0===e?void 0:e.head_amount,onChange:e=>((e,l)=>{const t=[...O];for(let a=0;a<(null===t||void 0===t?void 0:t.length);a++)a===l&&(t[a].head_amount=+e.target.value);U(t)})(e,l),className:n.Z.fee_head_amount_input})]},l)))}),(0,x.jsxs)("button",{className:n.Z.add_fees_head_btn,title:"Add Fees",onClick:()=>J("BY_APPLICABLE"),style:{cursor:"pointer"},children:[E("add"),(0,x.jsx)("img",{src:"".concat(c.J7,"/plus.svg"),alt:"add"})]}),(0,x.jsx)("div",{className:n.Z.table_body,children:(0,x.jsxs)("div",{className:n.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.5)",borderTopWidth:"0.5px",borderTopStyle:"solid",borderBottom:"none"},children:[(0,x.jsx)("h6",{className:n.Z.fees_total,children:E("subtotal")}),(0,x.jsx)("h6",{className:n.Z.fees_total,children:H})]})})]}),(0,x.jsxs)("section",{className:n.Z.table_container,style:{margin:"0"},children:[(0,x.jsxs)("div",{className:n.Z.table_heading,children:[(0,x.jsx)("h6",{children:E("govt_fee_heads")}),(0,x.jsx)("h6",{children:E("amount")})]}),(0,x.jsx)("div",{className:n.Z.table_body,children:null===R||void 0===R?void 0:R.map(((e,l)=>(0,x.jsxs)("div",{className:n.Z.table_body_list,children:[(0,x.jsx)("input",{type:"text",value:null===e||void 0===e?void 0:e.head_name,onChange:e=>((e,l)=>{const t=[...R];for(let a=0;a<(null===t||void 0===t?void 0:t.length);a++)a===l&&(t[a].head_name=e.target.value);G(t)})(e,l),className:n.Z.fee_head_name_input}),(0,x.jsx)("input",{type:"number",value:null===e||void 0===e?void 0:e.head_amount,onChange:e=>((e,l)=>{const t=[...R];for(let a=0;a<(null===t||void 0===t?void 0:t.length);a++)a===l&&(t[a].head_amount=+e.target.value);G(t)})(e,l),className:n.Z.fee_head_amount_input})]},l)))}),(0,x.jsxs)("button",{className:n.Z.add_fees_head_btn,title:"Add Fees",onClick:()=>J("BY_GOVERNMENT"),style:{cursor:"pointer"},children:[E("add"),(0,x.jsx)("img",{src:"".concat(c.J7,"/plus.svg"),alt:"add"})]}),(0,x.jsx)("div",{className:n.Z.table_body,children:(0,x.jsxs)("div",{className:n.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.5)",borderTopWidth:"0.5px",borderTopStyle:"solid",borderBottomColor:"rgba(18, 18, 18, 0.8)",borderBottomWidth:"2px"},children:[(0,x.jsx)("h6",{className:n.Z.fees_total,children:E("subtotal")}),(0,x.jsx)("h6",{className:n.Z.fees_total,children:L})]})})]}),(0,x.jsx)(h.Z,{label:"preview",onAction:()=>{var e,l;let t=(null!==(e=null===o||void 0===o?void 0:o.total_admission_fees)&&void 0!==e?e:0)-(null!==(l=null===o||void 0===o?void 0:o.applicable_fees)&&void 0!==l?l:0);H>(null===o||void 0===o?void 0:o.applicable_fees)?I({msg:"You can't enter amount greater than applicable fees",open:!0,variant:"error"}):L>t?I({msg:"You can't enter amount greater than govt./scholarship fees",open:!0,variant:"error"}):(N(O),D(R),r(H),w(L),d(3))}})]})]})}),(0,x.jsx)(b.Z,{eventState:B,eventStateHandler:I})]})},F=e=>0===e?"first":1===e?"second":2===e?"third":3===e?"foutrh":4===e?"fivth":5===e?"sixth":6===e?"seventh":7===e?"eighth":8===e?"ninth":9===e?"ten":10===e?"eleven":"tweleve";var T=t(8959),A=t(93638);const M=e=>{var l,t,a,s,i,o,d;let{onClose:r,structure:h,applicableFeeHead:p,govtFeeHead:f,feeHeadAmount:b,govtFeeHeadAmount:g,allInstallment:j,openAs:y,onCreate:N}=e;const{t:D}=(0,m.$G)();return(0,x.jsx)(u.Z,{children:(0,x.jsxs)("div",{className:n.Z.modal_container,children:[(0,x.jsx)(_.Z,{children:(0,x.jsx)("div",{className:n.Z.modal_container_outer_header,children:(0,x.jsxs)("div",{className:n.Z.modal_container_header,children:[(0,x.jsx)("img",{src:"".concat(c.J7,"/back-arrow.svg"),alt:"close icon",onClick:r}),(0,x.jsx)("h6",{children:D("fee_structure_preview")})]})})}),(0,x.jsx)(v.Z,{}),(0,x.jsxs)(_.Z,{customStyle:{paddingTop:"0"},children:[(0,x.jsx)(T.Z,{label:"".concat(D("fee_structure_name"),": "),value:null===h||void 0===h?void 0:h.structure_name}),(0,x.jsx)(T.Z,{label:"".concat(D("batch"),": "),value:null===h||void 0===h||null===(l=h.batch_master)||void 0===l?void 0:l.batchName}),(0,x.jsx)(T.Z,{label:D("fees_category_name"),value:null===h||void 0===h||null===(t=h.category_master)||void 0===t?void 0:t.category_name}),(0,x.jsx)(T.Z,{label:D("standard_master"),value:null===h||void 0===h||null===(a=h.class_master)||void 0===a?void 0:a.className}),(0,x.jsxs)("section",{className:n.Z.fees_head_title,children:[(0,x.jsx)("h6",{children:D("total_fees")}),(0,x.jsxs)("h6",{children:[D("rs_only")," ",null!==(s=null===h||void 0===h?void 0:h.total_admission_fees)&&void 0!==s?s:0]})]}),(0,x.jsxs)("section",{className:n.Z.fees_head_installment,children:[(0,x.jsx)("h6",{style:{color:"#002BBE"},children:D("applicable_fees_only")}),(0,x.jsxs)("h6",{style:{color:"#002BBE"},children:[D("rs_only")," ",null!==(i=null===h||void 0===h?void 0:h.applicable_fees)&&void 0!==i?i:0]})]}),(0,x.jsxs)("section",{className:n.Z.fees_head_installment,children:[(0,x.jsxs)("h6",{style:{color:"#002BBE"},children:[D("govt_scholarship")," "," : "]}),(0,x.jsxs)("h6",{style:{color:"#002BBE"},children:[D("rs_only")," ",(null!==(o=null===h||void 0===h?void 0:h.total_admission_fees)&&void 0!==o?o:0)-(null!==(d=null===h||void 0===h?void 0:h.applicable_fees)&&void 0!==d?d:0)]})]}),null===j||void 0===j?void 0:j.map(((e,l)=>{var t;return(0,x.jsxs)("section",{className:n.Z.fees_head_installment,children:[(0,x.jsxs)("h6",{style:{textTransform:"capitalize"},children:[D(k(l))," ",D("installment"),null!==e&&void 0!==e&&e.dueDate?(0,x.jsxs)("span",{style:{fontWeight:"400",fontSize:"12px",marginLeft:"0.4rem"},children:["(","".concat((0,Z.jh)(null===e||void 0===e?void 0:e.dueDate)),")"]}):""]}),(0,x.jsxs)("h6",{children:[D("rs_only")," ",null!==(t=null===e||void 0===e?void 0:e.fees)&&void 0!==t?t:0]})]},l)})),(0,x.jsxs)("section",{className:n.Z.table_container,style:{margin:"0"},children:[(0,x.jsxs)("div",{className:n.Z.table_heading,children:[(0,x.jsx)("h6",{children:D("applicable_fee_heads")}),(0,x.jsx)("h6",{children:D("amount")})]}),(0,x.jsx)("div",{className:n.Z.table_body,children:null===p||void 0===p?void 0:p.map(((e,l)=>(0,x.jsxs)("div",{className:n.Z.table_body_list,children:[(0,x.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_name}),(0,x.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_amount})]},l)))}),(0,x.jsx)("div",{className:n.Z.table_body,children:(0,x.jsxs)("div",{className:n.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.8)",borderTopWidth:"2px",borderTopStyle:"solid",borderBottom:"none"},children:[(0,x.jsx)("h6",{className:n.Z.fees_total,children:D("subtotal")}),(0,x.jsx)("h6",{className:n.Z.fees_total,children:null!==b&&void 0!==b?b:0})]})})]}),g?(0,x.jsxs)("section",{className:n.Z.table_container,style:{margin:"0"},children:[(0,x.jsxs)("div",{className:n.Z.table_heading,children:[(0,x.jsx)("h6",{children:D("govt_fee_heads")}),(0,x.jsx)("h6",{children:D("amount")})]}),(0,x.jsx)("div",{className:n.Z.table_body,children:null===f||void 0===f?void 0:f.map(((e,l)=>(0,x.jsxs)("div",{className:n.Z.table_body_list,children:[(0,x.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_name}),(0,x.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_amount})]},l)))}),(0,x.jsx)("div",{className:n.Z.table_body,children:(0,x.jsxs)("div",{className:n.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.8)",borderTopWidth:"2px",borderTopStyle:"solid",borderBottomColor:"rgba(18, 18, 18, 0.8)",borderBottomWidth:"2px"},children:[(0,x.jsx)("h6",{className:n.Z.fees_total,children:D("subtotal")}),(0,x.jsx)("h6",{className:n.Z.fees_total,children:null!==g&&void 0!==g?g:0})]})})]}):null,(0,x.jsx)(A.Z,{label:"EDIT"===y?"update_fees_structure_as":"create_fees_structure",onAction:N})]})]})})},k=e=>0===e?"first":1===e?"second":2===e?"third":3===e?"foutrh":4===e?"fivth":5===e?"sixth":6===e?"seventh":7===e?"eighth":8===e?"ninth":9===e?"ten":10===e?"eleven":"tweleve";var E=t(26192);const B=e=>{let{onEditActionAs:l,onClose:t,editType:a,setEditType:s}=e;const{t:i}=(0,m.$G)();return(0,x.jsx)(u.Z,{children:(0,x.jsxs)("div",{className:n.Z.modal_container,children:[(0,x.jsx)(_.Z,{children:(0,x.jsx)("div",{className:n.Z.modal_container_outer_header,children:(0,x.jsxs)("div",{className:n.Z.modal_container_header,children:[(0,x.jsx)("img",{src:"".concat(c.J7,"/back-arrow.svg"),alt:"close icon",onClick:t}),(0,x.jsx)("h6",{children:i("edit_fee_structure_type")})]})})}),(0,x.jsx)(v.Z,{}),(0,x.jsxs)(_.Z,{customStyle:{paddingTop:"0"},children:[(0,x.jsxs)("div",{className:"RETRO"===a?"".concat(E.Z.application_card," ").concat(E.Z.application_card_active):E.Z.application_card,onClick:()=>s("RETRO"),children:[(0,x.jsxs)("div",{className:E.Z.application_card_title,children:[(0,x.jsx)("img",{src:"".concat(c.J7,"/category.svg"),alt:"staff profile avatar"}),(0,x.jsx)("h6",{children:i("retrospective_edit")})]}),(0,x.jsxs)("section",{className:E.Z.application_card_info,children:[(0,x.jsx)("div",{children:i("retrospective_edit_descrtiption")}),(0,x.jsx)("h6",{children:i("retrospective_edit_note")})]})]}),(0,x.jsxs)("div",{className:"PROSP"===a?"".concat(E.Z.application_card," ").concat(E.Z.application_card_active):E.Z.application_card,onClick:()=>s("PROSP"),children:[(0,x.jsxs)("div",{className:E.Z.application_card_title,children:[(0,x.jsx)("img",{src:"".concat(c.J7,"/category.svg"),alt:"staff profile avatar"}),(0,x.jsx)("h6",{children:i("prospective_edit")})]}),(0,x.jsxs)("section",{className:E.Z.application_card_info,children:[(0,x.jsx)("div",{children:i("prospective_edit_description")}),(0,x.jsx)("h6",{children:i("prospective_edit_note")})]})]}),(0,x.jsx)(A.Z,{label:"update_fees_structure",onAction:l})]})]})})},I=e=>{let{onClose:l,did:t,fid:n,instituteId:s,openAs:i,onEdit:o,openStructureMenu:d,onRefetch:c,isRefetch:_}=e;const[u,v]=(0,a.useState)(0),[m,h]=(0,a.useState)({structure_name:"",category_master:"",class_master:"",batch_master:"",total_admission_fees:"",applicable_fees:"",total_installments:""}),[p,b]=(0,a.useState)([]),[j,Z]=(0,a.useState)(0),[y]=(0,r.y0)(),[D,C]=(0,a.useState)(!1),[S,F]=(0,a.useState)([]),[T,A]=(0,a.useState)([]),[k,E]=(0,a.useState)(0),[I,Y]=(0,a.useState)([]),[O,U]=(0,a.useState)([]),[R,G]=(0,a.useState)("");(0,a.useEffect)((()=>{if("EDIT"===i){v(1),h((e=>{var l,t,a,n,s,i,o;return{...e,structure_name:null!==(l=null===d||void 0===d?void 0:d.structure_name)&&void 0!==l?l:"",category_master:null!==(t=null===d||void 0===d?void 0:d.category_master)&&void 0!==t?t:"",class_master:null!==(a=null===d||void 0===d?void 0:d.class_master)&&void 0!==a?a:"",batch_master:null!==(n=null===d||void 0===d?void 0:d.batch_master)&&void 0!==n?n:"",total_admission_fees:null!==(s=null===d||void 0===d?void 0:d.total_admission_fees)&&void 0!==s?s:"",applicable_fees:null!==(i=null===d||void 0===d?void 0:d.applicable_fees)&&void 0!==i?i:"",total_installments:null!==(o=null===d||void 0===d?void 0:d.total_installments)&&void 0!==o?o:""}}));let e=[],l=0;for(let s of null===d||void 0===d?void 0:d.applicable_fees_heads){let t={created_at:null===s||void 0===s?void 0:s.created_at,head_amount:null===s||void 0===s?void 0:s.head_amount,head_name:null===s||void 0===s?void 0:s.head_name,master:null===s||void 0===s?void 0:s.master,_id:null===s||void 0===s?void 0:s._id};e.push(t),l+=null===s||void 0===s?void 0:s.head_amount}F(e),Z(l);let t=[],a=0;for(let s of null===d||void 0===d?void 0:d.government_fees_heads){let e={created_at:null===s||void 0===s?void 0:s.created_at,head_amount:null===s||void 0===s?void 0:s.head_amount,head_name:null===s||void 0===s?void 0:s.head_name,master:null===s||void 0===s?void 0:s.master,_id:null===s||void 0===s?void 0:s._id};t.push(e),l+=null===s||void 0===s?void 0:s.head_amount}A(t),E(a);let n=H(d);b(n)}}),[d]);const L=e=>{let a=[];var s,d,r,u,v,h;((null===S||void 0===S?void 0:S.length)>0&&a.push(...S),(null===T||void 0===T?void 0:T.length)>0&&a.push(...T),"EDIT"===i)?o({...m,structure_name:null===m||void 0===m?void 0:m.structure_name,category_master:null===m||void 0===m||null===(s=m.category_master)||void 0===s?void 0:s._id,class_master:null===m||void 0===m||null===(d=m.class_master)||void 0===d?void 0:d._id,batch_master:null===m||void 0===m||null===(r=m.batch_master)||void 0===r?void 0:r._id,total_admission_fees:null!==m&&void 0!==m&&m.total_admission_fees?null===m||void 0===m?void 0:m.total_admission_fees:0,applicable_fees:null!==m&&void 0!==m&&m.applicable_fees?null===m||void 0===m?void 0:m.applicable_fees:0,total_installments:null!==m&&void 0!==m&&m.total_installments?null===m||void 0===m?void 0:m.total_installments:0,heads:a},e):n&&t&&(C((e=>!e)),y({fid:n,flow:"Finance_Manager",createFeesStructure:{...m,structure_name:null===m||void 0===m?void 0:m.structure_name,category_master:null===m||void 0===m||null===(u=m.category_master)||void 0===u?void 0:u._id,class_master:null===m||void 0===m||null===(v=m.class_master)||void 0===v?void 0:v._id,batch_master:null===m||void 0===m||null===(h=m.batch_master)||void 0===h?void 0:h._id,total_admission_fees:null!==m&&void 0!==m&&m.total_admission_fees?null===m||void 0===m?void 0:m.total_admission_fees:0,applicable_fees:null!==m&&void 0!==m&&m.applicable_fees?null===m||void 0===m?void 0:m.applicable_fees:0,total_installments:null!==m&&void 0!==m&&m.total_installments?null===m||void 0===m?void 0:m.total_installments:0,heads:a,did:t}}).then((()=>{_&&c(),C((e=>!e)),l()})).catch((()=>{C((e=>!e))})))};return(0,x.jsxs)(x.Fragment,{children:[0===u?(0,x.jsx)(g,{onClose:l,did:t,fid:n,instituteId:s,structure:m,setStructure:h,setStep:v}):1===u?(0,x.jsx)(N,{structure:m,setAllInstallment:b,setStructure:h,setStep:v,allInstallment:p,openAs:i,onParentClose:l}):2===u?(0,x.jsx)(w,{structure:m,setStep:v,setFeeHeadAmount:Z,feeHeadAmount:j,allInstallment:p,fid:n,applicableFeeHead:S,govtFeeHead:T,setApplicableFeeHead:F,setGovtFeeHead:A,setGovtFeeHeadAmount:E,govtFeeHeadAmount:k,setApplicableFeeHeadId:Y,applicableFeeHeadId:I,govtFeeHeadId:O,setGovtFeeHeadId:U}):3===u?(0,x.jsx)(M,{structure:m,applicableFeeHead:S,govtFeeHead:T,feeHeadAmount:j,govtFeeHeadAmount:k,allInstallment:p,setStep:v,onClose:()=>v(2),onCreate:"EDIT"===i?()=>{v(4)}:L,openAs:i}):4===u?(0,x.jsx)(B,{onEditActionAs:e=>{e&&L(e)},onClose:()=>v(3),setEditType:G,editType:R}):null,D&&(0,x.jsx)(f.Z,{})]})},H=e=>{var l,t,a,n,s,i,o,d,r,c,_,u;let v=[];var m,h,p,f,b,x,g,j,Z,y,N,D,C,S,w,F,T,A,M,k,E,B,I,H;null!==e&&void 0!==e&&null!==(l=e.one_installments)&&void 0!==l&&l.fees&&v.push({fees:null===e||void 0===e||null===(m=e.one_installments)||void 0===m?void 0:m.fees,dueDate:null===e||void 0===e||null===(h=e.one_installments)||void 0===h?void 0:h.dueDate});null!==e&&void 0!==e&&null!==(t=e.two_installments)&&void 0!==t&&t.fees&&v.push({fees:null===e||void 0===e||null===(p=e.two_installments)||void 0===p?void 0:p.fees,dueDate:null===e||void 0===e||null===(f=e.two_installments)||void 0===f?void 0:f.dueDate});null!==e&&void 0!==e&&null!==(a=e.three_installments)&&void 0!==a&&a.fees&&v.push({fees:null===e||void 0===e||null===(b=e.three_installments)||void 0===b?void 0:b.fees,dueDate:null===e||void 0===e||null===(x=e.three_installments)||void 0===x?void 0:x.dueDate});null!==e&&void 0!==e&&null!==(n=e.four_installments)&&void 0!==n&&n.fees&&v.push({fees:null===e||void 0===e||null===(g=e.four_installments)||void 0===g?void 0:g.fees,dueDate:null===e||void 0===e||null===(j=e.four_installments)||void 0===j?void 0:j.dueDate});null!==e&&void 0!==e&&null!==(s=e.five_installments)&&void 0!==s&&s.fees&&v.push({fees:null===e||void 0===e||null===(Z=e.five_installments)||void 0===Z?void 0:Z.fees,dueDate:null===e||void 0===e||null===(y=e.five_installments)||void 0===y?void 0:y.dueDate});null!==e&&void 0!==e&&null!==(i=e.six_installments)&&void 0!==i&&i.fees&&v.push({fees:null===e||void 0===e||null===(N=e.six_installments)||void 0===N?void 0:N.fees,dueDate:null===e||void 0===e||null===(D=e.six_installments)||void 0===D?void 0:D.dueDate});null!==e&&void 0!==e&&null!==(o=e.seven_installments)&&void 0!==o&&o.fees&&v.push({fees:null===e||void 0===e||null===(C=e.seven_installments)||void 0===C?void 0:C.fees,dueDate:null===e||void 0===e||null===(S=e.seven_installments)||void 0===S?void 0:S.dueDate});null!==e&&void 0!==e&&null!==(d=e.eight_installments)&&void 0!==d&&d.fees&&v.push({fees:null===e||void 0===e||null===(w=e.eight_installments)||void 0===w?void 0:w.fees,dueDate:null===e||void 0===e||null===(F=e.eight_installments)||void 0===F?void 0:F.dueDate});null!==e&&void 0!==e&&null!==(r=e.nine_installments)&&void 0!==r&&r.fees&&v.push({fees:null===e||void 0===e||null===(T=e.nine_installments)||void 0===T?void 0:T.fees,dueDate:null===e||void 0===e||null===(A=e.nine_installments)||void 0===A?void 0:A.dueDate});null!==e&&void 0!==e&&null!==(c=e.ten_installments)&&void 0!==c&&c.fees&&v.push({fees:null===e||void 0===e||null===(M=e.ten_installments)||void 0===M?void 0:M.fees,dueDate:null===e||void 0===e||null===(k=e.ten_installments)||void 0===k?void 0:k.dueDate});null!==e&&void 0!==e&&null!==(_=e.eleven_installments)&&void 0!==_&&_.fees&&v.push({fees:null===e||void 0===e||null===(E=e.eleven_installments)||void 0===E?void 0:E.fees,dueDate:null===e||void 0===e||null===(B=e.eleven_installments)||void 0===B?void 0:B.dueDate});null!==e&&void 0!==e&&null!==(u=e.tweleve_installments)&&void 0!==u&&u.fees&&v.push({fees:null===e||void 0===e||null===(I=e.tweleve_installments)||void 0===I?void 0:I.fees,dueDate:null===e||void 0===e||null===(H=e.tweleve_installments)||void 0===H?void 0:H.dueDate});return v}},76390:(e,l,t)=>{t.d(l,{Z:()=>b});var a=t(6758),n=t(98684),s=t(90904),i=t(8959),o=t(38857),d=t(39230),r=t(4007),c=t(21348),_=t(72791),u=t(55336),v=t(89064),m=t(90802),h=t(80184);const p=e=>{let{fid:l,instituteId:t,did:n,openMenu:s,onClose:i,flowAs:o,onCloseParent:r,onRefetch:c}=e;const{t:p}=(0,d.$G)(),[f,b]=(0,_.useState)(!1),[x]=(0,a.sx)(),[g]=(0,a.nr)(),[j]=(0,a.oK)(),[Z,y]=(0,_.useState)(!1),N=()=>{y((e=>!e))};return(0,h.jsxs)(h.Fragment,{children:[Z?(0,h.jsx)(m.Z,{onClose:N,fid:l,openAs:"EDIT",openStructureMenu:s,onEdit:(e,l)=>{null!==s&&void 0!==s&&s._id&&(b((e=>!e)),y(!1),"RETRO"===l?j({sid:null===s||void 0===s?void 0:s._id,flow:o,updateStructure:{...e,department:n}}).then((()=>{i(),b((e=>!e))})).catch({}):g({sid:null===s||void 0===s?void 0:s._id,flow:"Finance_Manager",updateStructure:e}).then((()=>{i(),b((e=>!e))})).catch({}))},did:n,instituteId:t}):(0,h.jsxs)(v.Z,{onClose:i,disabled:f,children:[(0,h.jsx)("h6",{onClick:N,children:p("edit")}),(0,h.jsx)("h6",{onClick:()=>{null!==s&&void 0!==s&&s._id&&o&&(b((e=>!e)),x({flow:"Finance_Manager",sid:null===s||void 0===s?void 0:s._id}).then((()=>{c(),r(),b((e=>!e))})).catch({}))},children:p("delete")})]}),f&&(0,h.jsx)(u.Z,{})]})};var f=t(43997);t(93638);const b=e=>{var l,t,v,m,f,b,g,j,Z,y,N,D,C,S,w,F,T,A,M,k,E,B,I,H,Y,O,U,R,G,L,P,q,J,z,V,W,$,X,K,Q,ee,le,te,ae,ne,se,ie,oe,de,re,ce,_e,ue,ve,me,he,pe,fe,be,xe,ge,je,Ze,ye,Ne,De,Ce,Se,we,Fe,Te,Ae,Me,ke,Ee,Be,Ie,He,Ye,Oe,Ue,Re,Ge,Le,Pe,qe,Je,ze,Ve,We,$e,Xe,Ke,Qe,el,ll,tl,al;let{structureId:nl,onClose:sl,instituteId:il,fid:ol,did:dl,onRefetch:rl,isView:cl}=e;const{t:_l}=(0,d.$G)(),[ul,vl]=(0,_.useState)(""),[ml,hl]=(0,_.useState)(!1),{financeFeeStructureDetail:pl,financeFeeStructureDetailRefetch:fl}=(0,a.eY)({fsid:nl,skip:!nl}),[bl]=(0,a.D8)();let xl=0,gl=0;var jl,Zl,yl,Nl;(null===pl||void 0===pl||null===(l=pl.structure)||void 0===l||null===(t=l.applicable_fees_heads)||void 0===t?void 0:t.length)>0&&(null===pl||void 0===pl||null===(jl=pl.structure)||void 0===jl||null===(Zl=jl.applicable_fees_heads)||void 0===Zl||Zl.map((e=>xl+=null===e||void 0===e?void 0:e.head_amount)));(null===pl||void 0===pl||null===(v=pl.structure)||void 0===v||null===(m=v.government_fees_heads)||void 0===m?void 0:m.length)>0&&(null===pl||void 0===pl||null===(yl=pl.structure)||void 0===yl||null===(Nl=yl.government_fees_heads)||void 0===Nl||Nl.map((e=>gl+=null===e||void 0===e?void 0:e.head_amount)));const Dl=(e,l)=>{nl&&null!==e&&void 0!==e&&e._id&&(hl((e=>!e)),bl({fsid:nl,bodyParameter:{flow:l,fhid:null===e||void 0===e?void 0:e._id,status:!(null!==e&&void 0!==e&&e.is_society)}}).then((()=>{fl(),hl((e=>!e))})).catch({}))};return(0,h.jsxs)(h.Fragment,{children:[ml&&(0,h.jsx)(u.Z,{}),ul?(0,h.jsx)(p,{onClose:()=>{vl("")},openMenu:ul,instituteId:il,fid:ol,did:dl,flowAs:"Finance_Manager",onCloseParent:sl,onRefetch:rl}):(0,h.jsx)(o.Z,{onClose:sl,children:(0,h.jsxs)("div",{className:r.Z.modal_container,children:[(0,h.jsx)(c.Z,{children:(0,h.jsxs)("div",{className:r.Z.modal_container_outer_header,children:[(0,h.jsx)("div",{className:r.Z.modal_container_header,children:(0,h.jsx)("h6",{children:_l("fee_structure")})}),"STUDENT"===cl?null:(0,h.jsx)("img",{src:"".concat(n.J7,"/edit.svg"),alt:"close icon",onClick:()=>{null!==pl&&void 0!==pl&&pl.structure&&vl((()=>null===pl||void 0===pl?void 0:pl.structure))}})]})}),(0,h.jsx)(s.Z,{}),(0,h.jsxs)(c.Z,{customStyle:{paddingTop:"0"},children:[(0,h.jsx)(i.Z,{label:"".concat(_l("fee_structure_name"),": "),value:null!==(f=null===pl||void 0===pl||null===(b=pl.structure)||void 0===b?void 0:b.unique_structure_name)&&void 0!==f?f:""}),(0,h.jsx)(i.Z,{label:"".concat(_l("batch"),": "),value:null===pl||void 0===pl||null===(g=pl.structure)||void 0===g||null===(j=g.batch_master)||void 0===j?void 0:j.batchName}),(0,h.jsx)(i.Z,{label:"".concat(_l("fees_category_name")),value:null!==(Z=null===pl||void 0===pl||null===(y=pl.structure)||void 0===y||null===(N=y.category_master)||void 0===N?void 0:N.category_name)&&void 0!==Z?Z:""}),(0,h.jsx)(i.Z,{label:"".concat(_l("standard_master")),value:null!==(D=null===pl||void 0===pl||null===(C=pl.structure)||void 0===C||null===(S=C.class_master)||void 0===S?void 0:S.className)&&void 0!==D?D:""}),(0,h.jsxs)("section",{className:r.Z.fees_head_title,children:[(0,h.jsx)("h6",{children:_l("total_fees")}),(0,h.jsxs)("h6",{children:[_l("rs_only")," ",null!==(w=null===pl||void 0===pl||null===(F=pl.structure)||void 0===F?void 0:F.total_admission_fees)&&void 0!==w?w:0]})]}),(0,h.jsxs)("section",{className:r.Z.fees_head_installment,children:[(0,h.jsxs)("h6",{style:{color:"#002BBE"},children:[_l("applicable_fees_only_payable")," "," : "]}),(0,h.jsxs)("h6",{style:{color:"#002BBE"},children:[_l("rs_only")," ",null!==(T=null===pl||void 0===pl||null===(A=pl.structure)||void 0===A?void 0:A.applicable_fees)&&void 0!==T?T:0]})]}),(0,h.jsxs)("section",{className:r.Z.fees_head_installment,children:[(0,h.jsxs)("h6",{style:{color:"#002BBE"},children:[_l("govt_scholarship")," "," : "]}),(0,h.jsxs)("h6",{style:{color:"#002BBE"},children:[_l("rs_only")," ",(null!==(M=null===pl||void 0===pl||null===(k=pl.structure)||void 0===k?void 0:k.total_admission_fees)&&void 0!==M?M:0)-(null!==(E=null===pl||void 0===pl||null===(B=pl.structure)||void 0===B?void 0:B.applicable_fees)&&void 0!==E?E:0)]})]}),null!==pl&&void 0!==pl&&null!==(I=pl.structure)&&void 0!==I&&null!==(H=I.one_installments)&&void 0!==H&&H.fees?(0,h.jsx)(x,{dueDate:null===pl||void 0===pl||null===(Y=pl.structure)||void 0===Y||null===(O=Y.one_installments)||void 0===O?void 0:O.dueDate,label:"first",amount:null===pl||void 0===pl||null===(U=pl.structure)||void 0===U||null===(R=U.one_installments)||void 0===R?void 0:R.fees}):null,null!==pl&&void 0!==pl&&null!==(G=pl.structure)&&void 0!==G&&null!==(L=G.two_installments)&&void 0!==L&&L.fees?(0,h.jsx)(x,{dueDate:null===pl||void 0===pl||null===(P=pl.structure)||void 0===P||null===(q=P.two_installments)||void 0===q?void 0:q.dueDate,label:"second",amount:null===pl||void 0===pl||null===(J=pl.structure)||void 0===J||null===(z=J.two_installments)||void 0===z?void 0:z.fees}):null,null!==pl&&void 0!==pl&&null!==(V=pl.structure)&&void 0!==V&&null!==(W=V.three_installments)&&void 0!==W&&W.fees?(0,h.jsx)(x,{dueDate:null===pl||void 0===pl||null===($=pl.structure)||void 0===$||null===(X=$.three_installments)||void 0===X?void 0:X.dueDate,label:"third",amount:null===pl||void 0===pl||null===(K=pl.structure)||void 0===K||null===(Q=K.three_installments)||void 0===Q?void 0:Q.fees}):null,null!==pl&&void 0!==pl&&null!==(ee=pl.structure)&&void 0!==ee&&null!==(le=ee.four_installments)&&void 0!==le&&le.fees?(0,h.jsx)(x,{dueDate:null===pl||void 0===pl||null===(te=pl.structure)||void 0===te||null===(ae=te.four_installments)||void 0===ae?void 0:ae.dueDate,label:"fourth",amount:null===pl||void 0===pl||null===(ne=pl.structure)||void 0===ne||null===(se=ne.four_installments)||void 0===se?void 0:se.fees}):null,null!==pl&&void 0!==pl&&null!==(ie=pl.structure)&&void 0!==ie&&null!==(oe=ie.five_installments)&&void 0!==oe&&oe.fees?(0,h.jsx)(x,{dueDate:null===pl||void 0===pl||null===(de=pl.structure)||void 0===de||null===(re=de.five_installments)||void 0===re?void 0:re.dueDate,label:"fifth",amount:null===pl||void 0===pl||null===(ce=pl.structure)||void 0===ce||null===(_e=ce.five_installments)||void 0===_e?void 0:_e.fees}):null,null!==pl&&void 0!==pl&&null!==(ue=pl.structure)&&void 0!==ue&&null!==(ve=ue.six_installments)&&void 0!==ve&&ve.fees?(0,h.jsx)(x,{dueDate:null===pl||void 0===pl||null===(me=pl.structure)||void 0===me||null===(he=me.six_installments)||void 0===he?void 0:he.dueDate,label:"sixth",amount:null===pl||void 0===pl||null===(pe=pl.structure)||void 0===pe||null===(fe=pe.six_installments)||void 0===fe?void 0:fe.fees}):null,null!==pl&&void 0!==pl&&null!==(be=pl.structure)&&void 0!==be&&null!==(xe=be.seven_installments)&&void 0!==xe&&xe.fees?(0,h.jsx)(x,{dueDate:null===pl||void 0===pl||null===(ge=pl.structure)||void 0===ge||null===(je=ge.seven_installments)||void 0===je?void 0:je.dueDate,label:"seventh",amount:null===pl||void 0===pl||null===(Ze=pl.structure)||void 0===Ze||null===(ye=Ze.seven_installments)||void 0===ye?void 0:ye.fees}):null,null!==pl&&void 0!==pl&&null!==(Ne=pl.structure)&&void 0!==Ne&&null!==(De=Ne.eight_installments)&&void 0!==De&&De.fees?(0,h.jsx)(x,{dueDate:null===pl||void 0===pl||null===(Ce=pl.structure)||void 0===Ce||null===(Se=Ce.eight_installments)||void 0===Se?void 0:Se.dueDate,label:"eight",amount:null===pl||void 0===pl||null===(we=pl.structure)||void 0===we||null===(Fe=we.eight_installments)||void 0===Fe?void 0:Fe.fees}):null,null!==pl&&void 0!==pl&&null!==(Te=pl.structure)&&void 0!==Te&&null!==(Ae=Te.nine_installments)&&void 0!==Ae&&Ae.fees?(0,h.jsx)(x,{dueDate:null===pl||void 0===pl||null===(Me=pl.structure)||void 0===Me||null===(ke=Me.nine_installments)||void 0===ke?void 0:ke.dueDate,label:"ninth",amount:null===pl||void 0===pl||null===(Ee=pl.structure)||void 0===Ee||null===(Be=Ee.nine_installments)||void 0===Be?void 0:Be.fees}):null,null!==pl&&void 0!==pl&&null!==(Ie=pl.structure)&&void 0!==Ie&&null!==(He=Ie.ten_installments)&&void 0!==He&&He.fees?(0,h.jsx)(x,{dueDate:null===pl||void 0===pl||null===(Ye=pl.structure)||void 0===Ye||null===(Oe=Ye.ten_installments)||void 0===Oe?void 0:Oe.dueDate,label:"ten",amount:null===pl||void 0===pl||null===(Ue=pl.structure)||void 0===Ue||null===(Re=Ue.ten_installments)||void 0===Re?void 0:Re.fees}):null,null!==pl&&void 0!==pl&&null!==(Ge=pl.structure)&&void 0!==Ge&&null!==(Le=Ge.eleven_installments)&&void 0!==Le&&Le.fees?(0,h.jsx)(x,{dueDate:null===pl||void 0===pl||null===(Pe=pl.structure)||void 0===Pe||null===(qe=Pe.eleven_installments)||void 0===qe?void 0:qe.dueDate,label:"eleventh",amount:null===pl||void 0===pl||null===(Je=pl.structure)||void 0===Je||null===(ze=Je.eleven_installments)||void 0===ze?void 0:ze.fees}):null,null!==pl&&void 0!==pl&&null!==(Ve=pl.structure)&&void 0!==Ve&&null!==(We=Ve.tweleve_installments)&&void 0!==We&&We.fees?(0,h.jsx)(x,{dueDate:null===pl||void 0===pl||null===($e=pl.structure)||void 0===$e||null===(Xe=$e.tweleve_installments)||void 0===Xe?void 0:Xe.dueDate,label:"twelevth",amount:null===pl||void 0===pl||null===(Ke=pl.structure)||void 0===Ke||null===(Qe=Ke.tweleve_installments)||void 0===Qe?void 0:Qe.fees}):null,(0,h.jsxs)("section",{className:r.Z.table_container,style:{margin:"0"},children:[(0,h.jsxs)("div",{className:r.Z.table_heading,children:[(0,h.jsx)("h6",{children:_l("applicable_fee_heads")}),(0,h.jsx)("h6",{children:_l("amount")})]}),(0,h.jsx)("div",{className:r.Z.table_body,children:null===pl||void 0===pl||null===(el=pl.structure)||void 0===el||null===(ll=el.applicable_fees_heads)||void 0===ll?void 0:ll.map(((e,l)=>(0,h.jsxs)("div",{className:r.Z.table_body_list,children:["STUDENT"===cl?(0,h.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_name}):(0,h.jsxs)("h6",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"1rem"},children:[null===e||void 0===e?void 0:e.head_name,(0,h.jsx)("img",{src:null!==e&&void 0!==e&&e.is_society?"".concat(n.U_,"/check.svg"):"".concat(n.U_,"/uncheck.svg"),alt:"check icon",onClick:()=>Dl(e,"APPLICABLE"),style:{cursor:"pointer"}})]}),(0,h.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_amount})]},l)))}),(0,h.jsx)("div",{className:r.Z.table_body,children:(0,h.jsxs)("div",{className:r.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.8)",borderTopWidth:"2px",borderTopStyle:"solid",borderBottom:"none"},children:[(0,h.jsx)("h6",{className:r.Z.fees_total,children:_l("subtotal")}),(0,h.jsx)("h6",{className:r.Z.fees_total,children:xl})]})})]}),gl?(0,h.jsxs)("section",{className:r.Z.table_container,style:{margin:"0"},children:[(0,h.jsxs)("div",{className:r.Z.table_heading,children:[(0,h.jsx)("h6",{children:_l("govt_fee_heads")}),(0,h.jsx)("h6",{children:_l("amount")})]}),(0,h.jsx)("div",{className:r.Z.table_body,children:null===pl||void 0===pl||null===(tl=pl.structure)||void 0===tl||null===(al=tl.government_fees_heads)||void 0===al?void 0:al.map(((e,l)=>(0,h.jsxs)("div",{className:r.Z.table_body_list,children:["STUDENT"===cl?(0,h.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_name}):(0,h.jsxs)("h6",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"1rem"},children:[null===e||void 0===e?void 0:e.head_name,(0,h.jsx)("img",{src:null!==e&&void 0!==e&&e.is_society?"".concat(n.U_,"/check.svg"):"".concat(n.U_,"/uncheck.svg"),alt:"check icon",onClick:()=>Dl(e,"GOVERNMENT"),style:{cursor:"pointer"}})]}),(0,h.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_amount})]},l)))}),(0,h.jsx)("div",{className:r.Z.table_body,children:(0,h.jsxs)("div",{className:r.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.8)",borderTopWidth:"2px",borderTopStyle:"solid",borderBottomColor:"rgba(18, 18, 18, 0.8)",borderBottomWidth:"2px"},children:[(0,h.jsx)("h6",{className:r.Z.fees_total,children:_l("subtotal")}),(0,h.jsx)("h6",{className:r.Z.fees_total,children:gl})]})})]}):null]})]})})]})},x=e=>{let{label:l,amount:t,dueDate:a}=e;const{t:n}=(0,d.$G)();return(0,h.jsxs)("section",{className:r.Z.fees_head_installment,children:[(0,h.jsxs)("h6",{children:[n(l)," ",n("installment"),a?(0,h.jsxs)("span",{style:{fontWeight:"400",fontSize:"12px",marginLeft:"0.4rem"},children:["(","".concat((0,f.jh)(a)),")"]}):""]}),(0,h.jsxs)("h6",{children:[n("rs_only")," ",null!==t&&void 0!==t?t:0]})]})}},75810:(e,l,t)=>{t.d(l,{Z:()=>g});var a=t(39230),n=t(4007),s=t(93638),i=t(21348),o=t(90904),d=t(38857),r=t(23441),c=t(72791),_=t(6758),u=t(91427),v=t(57588),m=t(98684),h=t(80184);const p=e=>{var l,t;let{feeHead:s,onSelect:i,selectedFeeId:o}=e;const{t:d}=(0,a.$G)();return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:null!==o&&void 0!==o&&o.includes(null===s||void 0===s?void 0:s._id)?"".concat(n.Z.category_card," ").concat(n.Z.category_card_hover_active):"".concat(n.Z.category_card," ").concat(n.Z.category_card_hover),onClick:()=>{i(s)},children:[(0,h.jsx)("img",{style:{height:"36px",width:"36px"},src:"".concat(m.J7,"/category.svg"),alt:"categor icon"}),(0,h.jsxs)("div",{className:n.Z.category_card_fee,children:[(0,h.jsx)("h6",{style:{marginBottom:"0.3rem"},children:null!==(l=null===s||void 0===s?void 0:s.master_name)&&void 0!==l?l:""}),(0,h.jsxs)("h6",{style:{color:"rgba(18, 18, 18, 0.5)"},children:[d("rs_only"),null!==(t=null===s||void 0===s?void 0:s.master_amount)&&void 0!==t?t:0]})]}),(null===o||void 0===o?void 0:o.indexOf(null===s||void 0===s?void 0:s._id))+1>0&&(0,h.jsx)("h6",{className:n.Z.category_card_order,style:{color:"var(--color-white)"},children:(null===o||void 0===o?void 0:o.indexOf(null===s||void 0===s?void 0:s._id))+1})]},null===s||void 0===s?void 0:s._id)})};var f=t(1669),b=t(55336),x=t(2651);const g=e=>{var l,t,g,j;let{onClose:Z,fid:y,setFeeHead:N,setFeeHeadId:D,feeHeadId:C,isSegment:S,isOne:w}=e;const{t:F}=(0,a.$G)(),[T,A]=(0,c.useState)(""),[M,k]=(0,c.useState)(1),[E,B]=(0,c.useState)(!0),[I,H]=(0,r.YD)({skip:T}),[Y,O]=(0,c.useState)([]),[U,R]=(0,c.useState)(null!==C&&void 0!==C?C:[]),{financeAllFeeHeadMaster:G,financeAllFeeHeadMasterLoading:L}=(0,_.an)({data:{fid:y,page:M,limit:10,search:T},skip:!y});(0,c.useEffect)((()=>{R(C)}),[C]),(0,c.useEffect)((()=>{H&&E&&k((e=>e+1))}),[H,E]),(0,c.useEffect)((()=>{var e;if(null!==G&&void 0!==G&&null!==(e=G.list)&&void 0!==e&&e.length){var l;let e=(0,u.f)(null===G||void 0===G||null===(l=G.list)||void 0===l?void 0:l.length);B((()=>e))}}),[null===G||void 0===G||null===(l=G.list)||void 0===l?void 0:l.length]);const P=(0,c.useCallback)((0,v.J)((e=>{k((()=>1)),A(e)}),500),[]),q=e=>{const l={head_name:null===e||void 0===e?void 0:e.master_name,head_amount:null===e||void 0===e?void 0:e.master_amount,master:null===e||void 0===e?void 0:e._id,head_type:S};if(null!==U&&void 0!==U&&U.includes(null===e||void 0===e?void 0:e._id)){let l=null===U||void 0===U?void 0:U.indexOf(null===e||void 0===e?void 0:e._id),t=[];for(let e=0;e<(null===Y||void 0===Y?void 0:Y.length);e++)e===l||t.push(Y[e]);R((l=>null===l||void 0===l?void 0:l.filter((l=>l!==(null===e||void 0===e?void 0:e._id))))),O(t)}else R((l=>[...l,null===e||void 0===e?void 0:e._id])),O((e=>[...e,l]));w&&(N([l]),D([null===e||void 0===e?void 0:e._id]),Z())};return(0,h.jsx)(d.Z,{children:(0,h.jsxs)("div",{className:n.Z.modal_container,children:[(0,h.jsx)(i.Z,{children:(0,h.jsxs)("div",{className:n.Z.modal_container_outer_header,children:[(0,h.jsxs)("div",{className:n.Z.modal_container_header,children:[(0,h.jsx)("img",{src:"".concat(m.J7,"/back-arrow.svg"),alt:"close icon",onClick:Z}),(0,h.jsx)("h6",{children:F("select_fee_heads")})]}),(0,h.jsx)(s.Z,{label:"select",customStyle:{margin:"0"},onAction:()=>{N((e=>[...e,...Y])),D(U),Z()}})]})}),(0,h.jsx)(o.Z,{}),(0,h.jsxs)(i.Z,{customStyle:{paddingTop:"0"},children:[(0,h.jsx)("div",{className:n.Z.fm_search_full,style:{marginBottom:"0.5rem"},children:(0,h.jsx)("section",{className:n.Z.fm_search_full_container,children:(0,h.jsxs)("div",{className:n.Z.fm_search_full_container_inner,children:[(0,h.jsx)("img",{className:n.Z.fm_search_full_icon,alt:"search icon",src:"".concat(m.dB,"/navbar-search.svg")}),(0,h.jsx)("input",{type:"text",placeholder:F("search"),onChange:e=>{e.target.value?P(e.target.value):(k((()=>1)),A(""))}})]})})}),null===G||void 0===G||null===(t=G.list)||void 0===t?void 0:t.map(((e,l)=>{var t;return(null===G||void 0===G||null===(t=G.list)||void 0===t?void 0:t.length)===l+1?(0,h.jsx)("div",{ref:I,children:(0,h.jsx)(p,{feeHead:e,fid:y,onSelect:q,selectedFeeId:U})},null===e||void 0===e?void 0:e._id):(0,h.jsx)(p,{feeHead:e,fid:y,onSelect:q,selectedFeeId:U},null===e||void 0===e?void 0:e._id)})),L?T?(0,h.jsx)(b.Z,{}):(0,h.jsx)(f.Z,{}):T?0===(null===G||void 0===G||null===(g=G.list)||void 0===g?void 0:g.length)&&(0,h.jsx)(x.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No fee master found related this search."}):0===(null===G||void 0===G||null===(j=G.list)||void 0===j?void 0:j.length)&&(0,h.jsx)(x.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No fee master added."})]})]})})}},80476:(e,l,t)=>{t.d(l,{Z:()=>a});const a={btn_wrapper:"Button_btn_wrapper__ihT7O",btn_container:"Button_btn_container__OaH2t",create_btn_container:"Button_create_btn_container__JuZrx",upload_excel_file:"Button_upload_excel_file__a7d0K",set_btn_container:"Button_set_btn_container__RvfRG",ccb_button:"Button_ccb_button__Mjv4T"}},51416:(e,l,t)=>{t.d(l,{Z:()=>a});const a={square_tab_wrapper:"UiTab_square_tab_wrapper__Jxkmy",square_tab_card:"UiTab_square_tab_card__EYI-n",square_tab_card_icon:"UiTab_square_tab_card_icon__tPYT1",square_tab_card_menu:"UiTab_square_tab_card_menu__wHBYi",designation_tab_wrapper:"UiTab_designation_tab_wrapper__1YZQi",designation_tab_card:"UiTab_designation_tab_card__waJTM",rectangle_tab_wrapper:"UiTab_rectangle_tab_wrapper__a4CP7",rectangle_tab_card:"UiTab_rectangle_tab_card__xYxge",rectangle_tab_card_active:"UiTab_rectangle_tab_card_active__hSDaQ",horizontal_tab_wrapper:"UiTab_horizontal_tab_wrapper__BRXBX",horizontal_tab_card:"UiTab_horizontal_tab_card__pF03H",horizontal_tab_card_active:"UiTab_horizontal_tab_card_active__o32eJ",tile_container:"UiTab_tile_container__YqmHk",tile_tile_container:"UiTab_tile_tile_container__DlIa1",tile_tile:"UiTab_tile_tile__NcTNN",tile_tile_active:"UiTab_tile_tile_active__bo3c7",tile_label:"UiTab_tile_label__IV8Xu",attendance_card:"UiTab_attendance_card__kZvon",ac_heading:"UiTab_ac_heading__ayM90",attendance_contianer:"UiTab_attendance_contianer__m84gB",ac_image:"UiTab_ac_image__dgjML",ac_date:"UiTab_ac_date__7s3uk",ac_date_vale:"UiTab_ac_date_vale__oug6A",ac_date_active:"UiTab_ac_date_active__ifWqt",atb_btn:"UiTab_atb_btn__tav+0"}},59393:(e,l,t)=>{t.d(l,{Z:()=>a});const a={user_member_header_wrapper:"UserMember_user_member_header_wrapper__GbnRw",umhw_cover:"UserMember_umhw_cover__9nFBA",umhw_cover_photo:"UserMember_umhw_cover_photo__SlMdy",umhw_cover_label:"UserMember_umhw_cover_label__3yZV3",umhw_cover_camera:"UserMember_umhw_cover_camera__vKOnO",umhw_info_container:"UserMember_umhw_info_container__ce+81",umhw_info_container_header:"UserMember_umhw_info_container_header__FD+-b",umhw_info_container_footer:"UserMember_umhw_info_container_footer__lVzFw",user_member_tabs_wrapper:"UserMember_user_member_tabs_wrapper__mhpkS",user_member_container_wrapper:"UserMember_user_member_container_wrapper__xbfdC",user_member_content_wrapper:"UserMember_user_member_content_wrapper__PP2xI",uf_link:"UserMember_uf_link__usZfM"}},26192:(e,l,t)=>{t.d(l,{Z:()=>a});const a={ongoing_card:"OngoingAdmission_ongoing_card__5LO6X",ongoing_card_active:"OngoingAdmission_ongoing_card_active__eu1jj",ongoing_card_inner:"OngoingAdmission_ongoing_card_inner__DTYKz",ongoing_card_text:"OngoingAdmission_ongoing_card_text__cj0Qv",menu_icon:"OngoingAdmission_menu_icon__SwfUu",ongoing_card_count_date:"OngoingAdmission_ongoing_card_count_date__Tzlwe",ongoing_card_count_container:"OngoingAdmission_ongoing_card_count_container__Rj5uD",ongoing_card_count_container_inner:"OngoingAdmission_ongoing_card_count_container_inner__vc5ZE",application_card:"OngoingAdmission_application_card__C2AOm",application_card_title:"OngoingAdmission_application_card_title__r3bxG",application_card_info:"OngoingAdmission_application_card_info__uq+PO",admission_confirm_class_card:"OngoingAdmission_admission_confirm_class_card__aRvXU",admission_confirm_class_card_active:"OngoingAdmission_admission_confirm_class_card_active__LHjy3",application_card_active:"OngoingAdmission_application_card_active__EcEKc",admission_collect_docs:"OngoingAdmission_admission_collect_docs__MmjG7",admission_confirm_class_count:"OngoingAdmission_admission_confirm_class_count__IsGih"}},8728:(e,l,t)=>{t.d(l,{Z:()=>a});const a={calendar:"Calendar_calendar__ZZaTt",calendar_top:"Calendar_calendar_top__ADLui",calendar_days:"Calendar_calendar_days__vUwsX",calendar_days_label:"Calendar_calendar_days_label__VF+-3",calendar_days_value:"Calendar_calendar_days_value__cY4KR",calendar_days_value_active:"Calendar_calendar_days_value_active__CC8ZH",calendar_month:"Calendar_calendar_month__iidgh",calendar_month_value:"Calendar_calendar_month_value__nzPqp",calendar_month_value_active:"Calendar_calendar_month_value_active__xUZQL"}}}]);
//# sourceMappingURL=48827.825ed0ef.chunk.js.map