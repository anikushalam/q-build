"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[36077],{48986:(e,t,s)=>{s.d(t,{Z:()=>_});var n=s(49806),l=s(38857),d=s(21348),i=s(90904),a=s(98684),o=s(39230),c=s(72791),r=s(57588),u=s(55336),v=s(1669),m=s(2651),h=s(93638),j=s(77302),x=s(88905),g=s(80184);const _=e=>{var t,s,_;let{title:Z,onClose:p,clsId:f,onAdd:N,academicDepartmentId:S}=e;const{t:y}=(0,o.$G)(),[b,C]=(0,c.useState)(""),[I,A]=(0,c.useState)([]),[k,P]=(0,c.useState)(!1),{classMasterAllDseStudent:B,classMasterAllDseStudentLoading:R}=(0,j.A)({data:{cid:f,page:1,limit:1e3,search:b,did:S},skip:!f}),D=(0,c.useCallback)((0,r.J)((e=>{C(e)}),1500),[]),T=e=>{null!==I&&void 0!==I&&I.includes(null===e||void 0===e?void 0:e._id)?A((t=>null===t||void 0===t?void 0:t.filter((t=>t!==(null===e||void 0===e?void 0:e._id))))):A((t=>[...t,null===e||void 0===e?void 0:e._id]))};return(0,g.jsx)(l.Z,{onClose:p,children:(0,g.jsxs)("div",{className:n.Z.modal_container,children:[(0,g.jsx)(d.Z,{children:(0,g.jsxs)("div",{className:n.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:n.Z.modal_container_header,children:(0,g.jsx)("h6",{children:y(null!==Z&&void 0!==Z?Z:"add_dse_students")})}),(0,g.jsxs)("div",{className:n.Z.modal_container_btn_container,children:[k?(0,g.jsx)(h.Z,{label:y("remove_all"),count:null===I||void 0===I?void 0:I.length,onAction:()=>{A([]),P(!1)},customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}):(0,g.jsx)(h.Z,{label:y("select_all"),count:null===I||void 0===I?void 0:I.length,onAction:()=>{let e=[];for(let t of null===B||void 0===B?void 0:B.list)e.push(null===t||void 0===t?void 0:t._id);A(e),P(!0)},customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,g.jsx)(h.Z,{label:y("add"),onAction:()=>{N(I)},customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,g.jsx)("img",{src:"".concat(a.J7,"/close.svg"),alt:"close icon",onClick:p})]})]})}),(0,g.jsx)(i.Z,{}),(0,g.jsxs)(d.Z,{customStyle:{paddingBottom:"1rem"},children:[(0,g.jsxs)("div",{className:n.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,g.jsx)("input",{type:"text",placeholder:y("search"),className:n.Z.assign_search_input,onChange:e=>{e.target.value?D(e.target.value):C("")},style:{width:"100%"}}),(0,g.jsx)("img",{src:"".concat(a.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===B||void 0===B||null===(t=B.list)||void 0===t?void 0:t.map((e=>(0,g.jsx)(x.Z,{student:e,onSelect:T,selectedId:I},null===e||void 0===e?void 0:e._id))),R?b?(0,g.jsx)(u.Z,{}):(0,g.jsx)(v.Z,{}):b?0===(null===B||void 0===B||null===(s=B.list)||void 0===s?void 0:s.length)&&(0,g.jsx)(m.Z,{title:"No dse student found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===B||void 0===B||null===(_=B.list)||void 0===_?void 0:_.length)&&(0,g.jsx)(m.Z,{title:"No dse student.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})}},59244:(e,t,s)=>{s.d(t,{Z:()=>_});var n=s(49806),l=s(38857),d=s(21348),i=s(90904),a=s(98684),o=s(39230),c=s(72791),r=s(57588),u=s(55336),v=s(1669),m=s(2651),h=s(93638),j=s(77302),x=s(88905),g=s(80184);const _=e=>{var t,s,_;let{title:Z,onClose:p,clsId:f,onAdd:N,academicDepartmentId:S}=e;const{t:y}=(0,o.$G)(),[b,C]=(0,c.useState)(""),[I,A]=(0,c.useState)([]),[k,P]=(0,c.useState)(!1),{classMasterAllStudent:B,classMasterAllStudentLoading:R}=(0,j.BQ)({data:{cid:f,page:1,limit:1e3,search:b,did:S},skip:!f}),D=(0,c.useCallback)((0,r.J)((e=>{C(e)}),1500),[]),T=e=>{null!==I&&void 0!==I&&I.includes(null===e||void 0===e?void 0:e._id)?A((t=>null===t||void 0===t?void 0:t.filter((t=>t!==(null===e||void 0===e?void 0:e._id))))):A((t=>[...t,null===e||void 0===e?void 0:e._id]))};return(0,g.jsx)(l.Z,{onClose:p,children:(0,g.jsxs)("div",{className:n.Z.modal_container,children:[(0,g.jsx)(d.Z,{children:(0,g.jsxs)("div",{className:n.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:n.Z.modal_container_header,children:(0,g.jsx)("h6",{children:y(null!==Z&&void 0!==Z?Z:"add_students")})}),(0,g.jsxs)("div",{className:n.Z.modal_container_btn_container,children:[k?(0,g.jsx)(h.Z,{label:y("remove_all"),count:null===I||void 0===I?void 0:I.length,onAction:()=>{A([]),P(!1)},customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}):(0,g.jsx)(h.Z,{label:y("select_all"),count:null===I||void 0===I?void 0:I.length,onAction:()=>{let e=[];for(let t of null===B||void 0===B?void 0:B.list)e.push(null===t||void 0===t?void 0:t._id);A(e),P(!0)},customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,g.jsx)(h.Z,{label:y("add"),onAction:()=>{N(I)},customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,g.jsx)("img",{src:"".concat(a.J7,"/close.svg"),alt:"close icon",onClick:p})]})]})}),(0,g.jsx)(i.Z,{}),(0,g.jsxs)(d.Z,{customStyle:{paddingBottom:"1rem"},children:[(0,g.jsxs)("div",{className:n.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,g.jsx)("input",{type:"text",placeholder:y("search"),className:n.Z.assign_search_input,onChange:e=>{e.target.value?D(e.target.value):C("")},style:{width:"100%"}}),(0,g.jsx)("img",{src:"".concat(a.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===B||void 0===B||null===(t=B.list)||void 0===t?void 0:t.map((e=>(0,g.jsx)(x.Z,{student:e,onSelect:T,selectedId:I},null===e||void 0===e?void 0:e._id))),R?b?(0,g.jsx)(u.Z,{}):(0,g.jsx)(v.Z,{}):b?0===(null===B||void 0===B||null===(s=B.list)||void 0===s?void 0:s.length)&&(0,g.jsx)(m.Z,{title:"No student found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===B||void 0===B||null===(_=B.list)||void 0===_?void 0:_.length)&&(0,g.jsx)(m.Z,{title:"No student.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})}},88905:(e,t,s)=>{s.d(t,{Z:()=>o});var n=s(98684),l=s(9228),d=s(1095),i=s(39230),a=s(80184);const o=e=>{var t,s,o,c;let{student:r,onSelect:u,selectedId:v}=e;const{t:m}=(0,i.$G)();return(0,a.jsxs)("div",{className:l.Z.sf_card_hover,style:{justifyContent:"flex-start",gap:"1rem",alignItems:"center"},onClick:()=>{u(r)},children:[null!==v&&void 0!==v&&v.includes(null===r||void 0===r?void 0:r._id)?(0,a.jsx)("img",{src:"".concat(n.U_,"/check.svg"),alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,a.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"".concat(n.U_,"/uncheck.svg"),alt:"icon"}),(0,a.jsxs)("div",{className:l.Z.sf_card_contatiner,children:[(0,a.jsx)("img",{src:null!==r&&void 0!==r&&r.studentProfilePhoto?"".concat(d.yI,"/").concat(r.studentProfilePhoto):"".concat(n.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,a.jsxs)("div",{className:l.Z.sf_card_contatiner_inner,children:[(0,a.jsx)("h6",{children:"".concat(null!==(t=null===r||void 0===r?void 0:r.studentFirstName)&&void 0!==t?t:""," ").concat(null!==(s=null===r||void 0===r?void 0:r.studentMiddleName)&&void 0!==s?s:""," ").concat(null!==(o=null===r||void 0===r?void 0:r.studentLastName)&&void 0!==o?o:"")}),(0,a.jsxs)("p",{children:[m("gr_number")," ",": ",null!==(c=null===r||void 0===r?void 0:r.studentGRNO)&&void 0!==c?c:""]})]})]})]})}},36077:(e,t,s)=>{s.r(t),s.d(t,{default:()=>k});var n=s(39230),l=s(72791),d=s(98684),i=s(56959),a=s(90904),o=s(21348),c=s(77302),r=s(57588),u=s(2651),v=s(55336),m=s(1669),h=s(93638),j=s(89064),x=s(80184);const g=e=>{let{onClose:t,menuData:s,onRefetch:d,subjectId:i}=e;const{t:a}=(0,n.$G)(),[o,r]=(0,l.useState)(!1),[u]=(0,c.kK)();return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(j.Z,{onClose:t,disabled:o,children:(0,x.jsx)("h6",{onClick:()=>{null!==s&&void 0!==s&&s._id&&i&&(r((e=>!e)),u({sid:i,bodyParameter:{students:[null===s||void 0===s?void 0:s._id]}}).then((()=>{d(),r((e=>!e)),t()})))},children:a("remove")})})})};var _=s(9228),Z=s(1095),p=s(16871),f=s(43504);const N=e=>{var t,s,i,a;let{student:o,openAs:c,onRefetch:r,subjectId:u}=e;const[v,m]=(0,l.useState)(!1),h=(0,p.UO)(),{t:j}=(0,n.$G)(),N=e=>{e&&e.preventDefault(),m((e=>!e))};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(f.rU,{to:"/q/".concat(h.username,"/student/profile"),state:{sid:null===o||void 0===o?void 0:o._id,viewAs:c?"SUBJECT_TEACHER":"INSTITUTE"},children:(0,x.jsxs)("div",{className:_.Z.iadcc_card_hover,children:[(0,x.jsxs)("div",{className:_.Z.sf_card_contatiner,children:[(0,x.jsx)("img",{src:null!==o&&void 0!==o&&o.studentProfilePhoto?"".concat(Z.yI,"/").concat(o.studentProfilePhoto):"".concat(d.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar",style:{width:"2.5rem",height:"2.5rem"}}),(0,x.jsxs)("div",{className:_.Z.sf_card_contatiner_inner,children:[(0,x.jsx)("h6",{children:"".concat(null!==(t=null===o||void 0===o?void 0:o.studentFirstName)&&void 0!==t?t:""," ").concat(null!==(s=null===o||void 0===o?void 0:o.studentMiddleName)&&void 0!==s?s:""," ").concat(null!==(i=null===o||void 0===o?void 0:o.studentLastName)&&void 0!==i?i:"")}),(0,x.jsxs)("p",{children:[j("gr_number")," ",": ",null!==(a=null===o||void 0===o?void 0:o.studentGRNO)&&void 0!==a?a:""]})]})]}),(0,x.jsx)("img",{src:"".concat(d.J7,"/menu.svg"),alt:"menu icon",onClick:N})]})}),v&&(0,x.jsx)(g,{onClose:N,menuData:o,onRefetch:r,subjectId:u})]})};var S=s(59244),y=s(49806),b=s(38857);const C=e=>{var t,s,l,i;let{student:a}=e;const{t:o}=(0,n.$G)();return(0,x.jsx)("div",{className:_.Z.sf_card_hover,children:(0,x.jsxs)("div",{className:_.Z.sf_card_contatiner,children:[(0,x.jsx)("img",{src:null!==a&&void 0!==a&&a.studentProfilePhoto?"".concat(Z.yI,"/").concat(a.studentProfilePhoto):"".concat(d.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,x.jsxs)("div",{className:_.Z.sf_card_contatiner_inner,children:[(0,x.jsx)("h6",{children:"".concat(null!==(t=null===a||void 0===a?void 0:a.studentFirstName)&&void 0!==t?t:""," ").concat(null!==(s=null===a||void 0===a?void 0:a.studentMiddleName)&&void 0!==s?s:""," ").concat(null!==(l=null===a||void 0===a?void 0:a.studentLastName)&&void 0!==l?l:"")}),(0,x.jsxs)("p",{children:[o("gr_number")," ",": ",null!==(i=null===a||void 0===a?void 0:a.studentGRNO)&&void 0!==i?i:""]})]})]})})},I=e=>{var t;let{clsId:s,onClose:i,onRefetch:r}=e;const{t:j}=(0,n.$G)(),[g,_]=(0,l.useState)([]),[Z,p]=(0,l.useState)(!1),f=(0,l.useRef)(),N=(0,l.useRef)(),{classMasterAllStudent:S,classMasterAllStudentLoading:I}=(0,c.BQ)({data:{cid:s,page:1,limit:1e3,search:""},skip:!s});(0,l.useEffect)((()=>{null!==S&&void 0!==S&&S.list&&_(null===S||void 0===S?void 0:S.list)}),[null===S||void 0===S?void 0:S.list]);const A=e=>{const t=[...g],s=t[f.current];t.splice(f.current,1),t.splice(N.current,0,s),f.current=null,N.current=null,_(t)};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(b.Z,{onClose:i,children:(0,x.jsxs)("div",{className:y.Z.modal_container,children:[(0,x.jsx)(o.Z,{children:(0,x.jsxs)("div",{className:y.Z.modal_container_outer_header,children:[(0,x.jsx)("div",{className:y.Z.modal_container_header,children:(0,x.jsx)("h6",{children:j("reshuffle_student_list")})}),(0,x.jsxs)("div",{className:y.Z.modal_container_btn_container,children:[(0,x.jsx)(h.Z,{label:j("save_resuffle"),onAction:()=>{},customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,x.jsx)("img",{src:"".concat(d.J7,"/close.svg"),alt:"close icon",onClick:i})]})]})}),(0,x.jsx)(a.Z,{}),(0,x.jsxs)(o.Z,{customStyle:{paddingBottom:"1rem"},children:[null===g||void 0===g?void 0:g.map(((e,t)=>(0,x.jsx)("div",{draggable:!0,onDragStart:e=>{return s=t,void(f.current=s);var s},onDragEnter:e=>{return s=t,void(N.current=s);var s},onDragEnd:A,children:(0,x.jsx)(C,{student:e})},null===e||void 0===e?void 0:e._id))),I?(0,x.jsx)(m.Z,{}):0===(null===S||void 0===S||null===(t=S.list)||void 0===t?void 0:t.length)&&(0,x.jsx)(u.Z,{title:"No student.",customStyleContainer:{marginTop:"1.5rem"}})]})]})}),Z&&(0,x.jsx)(v.Z,{})]})};var A=s(48986);const k=e=>{var t,s,j,g,_,Z,f;let{clsId:y,openAs:b}=e;const{t:C}=(0,n.$G)(),k=(0,p.TH)(),[P,B]=(0,l.useState)(""),[R,D]=(0,l.useState)(!1),[T,G]=(0,l.useState)(!1),[M,$]=(0,l.useState)(!1),[J,E]=(0,l.useState)(!1),[F]=(0,c.KC)(),{onePracticalBatchClasses:L,onePracticalBatchClassesLoading:U,onePracticalBatchClassesRefetch:w}=(0,c.U$)({data:{sid:k.state.subId,search:P},skip:!y}),O=(0,l.useCallback)((0,r.J)((e=>{B(e)}),1500),[]),W=()=>{D((e=>!e))},q=()=>{G((e=>!e))},z=()=>{$((e=>!e))},H=e=>{(null===e||void 0===e?void 0:e.length)>0&&k.state.subId&&(E((e=>!e)),F({sid:k.state.subId,bodyParameter:{students:e}}).then((()=>{w(),E((e=>!e)),W()})).catch({}))};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(o.Z,{children:(0,x.jsxs)("div",{className:i.Z.fm_header_container,children:[(0,x.jsx)("h6",{children:null!==(t=null===(s=k.state)||void 0===s?void 0:s.subjectName)&&void 0!==t?t:""}),(0,x.jsxs)("div",{className:i.Z.fm_search,children:[(0,x.jsx)("section",{className:i.Z.fm_search_container,children:(0,x.jsxs)("div",{className:i.Z.fm_search_container_inner,children:[(0,x.jsx)("img",{className:i.Z.fm_search_icon,alt:"search icon",src:"".concat(d.dB,"/navbar-search.svg")}),(0,x.jsx)("input",{type:"text",placeholder:C("search"),onChange:e=>{e.target.value?O(e.target.value):B("")},style:{minWidth:"200px"}})]})}),(0,x.jsx)(h.Z,{label:C("resuffle"),customStyle:{margin:"0",padding:"0.4rem 1rem",minWidth:"fit-content"},onAction:z}),(0,x.jsx)(h.Z,{label:C("add_student"),customStyle:{margin:"0",padding:"0.4rem 1rem",minWidth:"fit-content"},onAction:W}),(0,x.jsx)(h.Z,{label:C("add_dse_student"),customStyle:{margin:"0",padding:"0.4rem 1rem",minWidth:"fit-content"},onAction:q})]})]})}),(0,x.jsx)(a.Z,{}),(0,x.jsxs)(o.Z,{customStyle:{paddingTop:"0.3rem",paddingBottom:"1rem"},children:[null===L||void 0===L||null===(j=L.theory_students)||void 0===j?void 0:j.map((e=>(0,x.jsx)(N,{student:e,openAs:b,subjectId:k.state.subId,onRefetch:w},null===e||void 0===e?void 0:e._id))),U?P?(0,x.jsx)(v.Z,{}):(0,x.jsx)(m.Z,{}):P?0===(null===L||void 0===L||null===(g=L.theory_students)||void 0===g?void 0:g.length)&&(0,x.jsx)(u.Z,{title:"No student found related this search."}):0===(null===L||void 0===L||null===(_=L.theory_students)||void 0===_?void 0:_.length)&&(0,x.jsx)(u.Z,{title:"No student."})]}),R&&(0,x.jsx)(S.Z,{onClose:W,clsId:y,onAdd:H,academicDepartmentId:null===(Z=k.state)||void 0===Z?void 0:Z.departmentId}),T&&(0,x.jsx)(A.Z,{onClose:q,clsId:y,onAdd:H,academicDepartmentId:null===(f=k.state)||void 0===f?void 0:f.departmentId}),M&&(0,x.jsx)(I,{onClose:z,clsId:y,onRefetch:w}),J&&(0,x.jsx)(v.Z,{})]})}}}]);
//# sourceMappingURL=36077.cde26b36.chunk.js.map