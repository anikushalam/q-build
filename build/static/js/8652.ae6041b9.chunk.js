"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[8652,599],{93097:function(e,t,a){a(72791);var n=a(12072),l=a(84489),i=a(69721),s=a(80184);t.Z=function(e){var t=e.onClose,a=e.keyValue;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{onClose:t}),(0,s.jsx)(n.Z,{customStyle:{zIndex:"1200",borderRadius:"0"},children:(0,s.jsx)("img",{src:"".concat(i.yI,"/").concat(a),alt:"view file",style:{maxWidth:"700px",maxHeight:"500px"}})})]})}},26097:function(e,t,a){a.d(t,{Z:function(){return p}});var n=a(72791),l={complaints:"SwitchAccount_complaints__FOCV9",swichModal:"SwitchAccount_swichModal__nF+az",swichModalTop:"SwitchAccount_swichModalTop__04Wup",swichModalBody:"SwitchAccount_swichModalBody__UXEej",swichModalItem:"SwitchAccount_swichModalItem__2hXtK",swichModalText:"SwitchAccount_swichModalText__kn6r2",search_container:"SwitchAccount_search_container__U4FLB",search_container_text:"SwitchAccount_search_container_text__ifPi5",search_container_input:"SwitchAccount_search_container_input__Jrtnb",searchIcon:"SwitchAccount_searchIcon__wfOTB"},i=a(29439),s=a(5574),o=a(87232),c=a(69721),d=a(39230),r=a(78687),u=a(16871),v=a(74289),f=a(98734),_=a(11105),h=a(80184);function m(e){var t,a,s,o,d,_,m,x,p,j,g,b,N=e.data,y=(0,u.s0)(),S=(0,u.UO)(),C=(0,r.useSelector)((function(e){return e.idChange.id})),w=(0,n.useState)(""),Z=(0,i.Z)(w,2),M=Z[0],D=Z[1],T=(0,n.useState)(!1),L=(0,i.Z)(T,2),F=L[0],P=L[1],k=(0,v.iH)({data:{id:C,active_member_role:M},skip:!M}).getActivatedMemberAccountRefetch,A=function(e){D(e)};return(0,n.useEffect)((function(){M&&(P((function(e){return!e})),k(),setTimeout((function(){y("/q/".concat(S.username,"/memberstab"),{state:{selectedAccount:M}}),P((function(e){return!e}))}),1e3))}),[M,k]),(0,h.jsxs)(h.Fragment,{children:[null!==N&&void 0!==N&&N.studentFirstName?(0,h.jsxs)("div",{className:l.swichModalItem,onClick:function(){return A(null===N||void 0===N?void 0:N._id)},children:[(0,h.jsx)("img",{id:"profileImg",alt:"",src:null!==N&&void 0!==N&&null!==(t=N.institute)&&void 0!==t&&t.insProfilePhoto?"".concat(c.yI,"/").concat(null===N||void 0===N||null===(a=N.institute)||void 0===a?void 0:a.insProfilePhoto):null!==N&&void 0!==N&&null!==(s=N.student_unit)&&void 0!==s&&s.hostel_unit_photo?"".concat(c.yI,"/").concat(null===N||void 0===N||null===(o=N.student_unit)||void 0===o?void 0:o.hostel_unit_photo):null!==N&&void 0!==N&&N.studentProfilePhoto?"".concat(c.yI,"/").concat(null===N||void 0===N?void 0:N.studentProfilePhoto):"/images/ins_default_profile.svg"}),(0,h.jsxs)("div",{className:l.swichModalText,children:[(0,h.jsx)("h6",{children:null!==(d=null!==(_=null===N||void 0===N||null===(m=N.institute)||void 0===m?void 0:m.insName)&&void 0!==_?_:"".concat(null!==N&&void 0!==N&&null!==(x=N.student_unit)&&void 0!==x&&x.hostel_unit_name?"".concat(null===N||void 0===N||null===(p=N.student_unit)||void 0===p?void 0:p.hostel_unit_name," (Hostel)"):""))&&void 0!==d?d:""}),(0,h.jsxs)("p",{children:[null===N||void 0===N?void 0:N.studentFirstName," ",null===N||void 0===N?void 0:N.studentMiddleName," ",null===N||void 0===N?void 0:N.studentLastName," ","(student)"]})]})]}):null!==N&&void 0!==N&&N.staffFirstName?(0,h.jsxs)("div",{className:l.swichModalItem,onClick:function(){return A(null===N||void 0===N?void 0:N._id)},children:[(0,h.jsx)("img",{id:"profileImg",alt:"",src:null!==N&&void 0!==N&&null!==(j=N.institute)&&void 0!==j&&j.insProfilePhoto?"".concat(c.yI,"/").concat(null===N||void 0===N||null===(g=N.institute)||void 0===g?void 0:g.insProfilePhoto):null!==N&&void 0!==N&&N.staffProfilePhoto?"".concat(c.yI,"/").concat(null===N||void 0===N?void 0:N.staffProfilePhoto):"/images/ins_default_profile.svg"}),(0,h.jsxs)("div",{className:l.swichModalText,children:[(0,h.jsx)("h6",{children:null===N||void 0===N||null===(b=N.institute)||void 0===b?void 0:b.insName}),(0,h.jsxs)("p",{children:[null===N||void 0===N?void 0:N.staffFirstName," ",null===N||void 0===N?void 0:N.staffMiddleName," ",null===N||void 0===N?void 0:N.staffLastName," ","(staff)"]})]})]}):"",F&&(0,h.jsx)(f.Z,{})]})}var x=function(){var e=(0,d.$G)().t,t=(0,u.s0)(),a=(0,r.useSelector)((function(e){return e.idChange.id})),c=(0,n.useState)(!0),v=(0,i.Z)(c,2),f=v[0],x=v[1],p=(0,n.useState)([]),j=(0,i.Z)(p,2),g=j[0],b=j[1],N=(0,o.I)(a,{skip:!a}),y=N.data,S=N.refetch;return(0,n.useEffect)((function(){a&&(x(!0),S())}),[S,a]),(0,n.useEffect)((function(){var e;null!==y&&void 0!==y&&y.role_query?(b(null===y||void 0===y?void 0:y.role_query),x(!1)):0===(null===y||void 0===y||null===(e=y.role_query)||void 0===e?void 0:e.length)&&x(!1)}),[null===y||void 0===y?void 0:y.role_query]),(0,h.jsx)(s.Z,{open:!0,onClose:function(){return t(-1)},children:(0,h.jsxs)("div",{className:l.swichModal,children:[(0,h.jsx)("div",{className:l.swichModalTop,onClick:function(){return t(-1)},children:e("switch_account")}),(0,h.jsxs)("div",{className:l.swichModalBody,children:[(0,h.jsx)("div",{className:l.search_container,style:{marginBottom:"0.6rem"},children:(0,h.jsxs)("div",{className:l.search_container_text,children:[(0,h.jsx)("img",{className:l.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,h.jsx)("input",{type:"text",placeholder:e("search-label"),onChange:function(e){if(e.target.value){var t,a=null===y||void 0===y||null===(t=y.role_query)||void 0===t?void 0:t.filter((function(t){return function(e,t){var a,n=null!==e&&void 0!==e&&e.studentFirstName?"".concat(null===e||void 0===e?void 0:e.studentFirstName," ").concat(null!==e&&void 0!==e&&e.studentMiddleName?"".concat(null===e||void 0===e?void 0:e.studentMiddleName," "):"").concat(null===e||void 0===e?void 0:e.studentLastName):"".concat(null===e||void 0===e?void 0:e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?"".concat(null===e||void 0===e?void 0:e.staffMiddleName," "):"").concat(null===e||void 0===e?void 0:e.staffLastName);return null!==n&&void 0!==n&&null!==(a=n.toLocaleLowerCase())&&void 0!==a&&a.includes(null===t||void 0===t?void 0:t.toLocaleLowerCase())?e:null}(t,e.target.value)}));b(a)}else b(null===y||void 0===y?void 0:y.role_query)},autoFocus:!0,style:{border:"0.029vw solid rgba(0, 0, 0, 0.15)",width:"370px",marginInline:"0.5rem"}})]})}),null===g||void 0===g?void 0:g.map((function(e,t){return(0,h.jsx)(m,{data:e},t)})),f&&(0,h.jsx)(_.Z,{})]})]})})};var p=function(){return(0,h.jsx)("div",{className:l.complaints,children:(0,h.jsx)(x,{})})}},68822:function(e,t,a){a.r(t),a.d(t,{default:function(){return Xe}});var n=a(72791),l=a(42817),i=a(16871),s=a(29439),o="ViewProfile_studentForm__M4oPB",c="ViewProfile_imgcontainer__Ky3y2",d="ViewProfile_toprow__u8jwV",r="ViewProfile_textcontainer__9VYCS",u="ViewProfile_tabs__6RgI4",v="ViewProfile_tophead__zQPOG",f={studentMCQ:"Tabs_studentMCQ__N1mHE",mcqTop:"Tabs_mcqTop__1qx9V",mcqTopItem:"Tabs_mcqTopItem__pZxtQ",active:"Tabs_active__FHx1C"},_=a(80184);var h=function(e){var t=e.children,a=e.onclick,l=(0,n.useState)(!1),i=(0,s.Z)(l,2),o=i[0],c=i[1],d=(0,n.useState)({x:-1,y:-1}),r=(0,s.Z)(d,2),u=r[0],v=r[1];return(0,n.useEffect)((function(){-1!==u.x&&-1!==u.y?(c(!0),setTimeout((function(){return c(!1)}),1e3)):c(!1)}),[u]),(0,n.useEffect)((function(){o||v({x:-1,y:-1})}),[o]),(0,_.jsxs)("div",{className:"ripple_btn",onClick:function(e){v({x:e.clientX-e.target.offsetLeft,y:e.clientY-e.target.offsetTop}),a&&a(e)},children:[o?(0,_.jsx)("span",{className:"ripple"}):"",(0,_.jsx)("span",{className:"content",children:t})]})},m=a(39230);var x=function(e){var t=e.activeIndex,a=e.setActiveIndex,n=(0,m.$G)().t;return(0,_.jsxs)("div",{className:f.mcqTop,children:[(0,_.jsx)("div",{className:0===t?"".concat(f.mcqTopItem," ").concat(f.active):f.mcqTopItem,onClick:function(){return a(0)},children:(0,_.jsx)(h,{children:n("about")})}),(0,_.jsx)("div",{className:1===t?"".concat(f.mcqTopItem," ").concat(f.active," "):"".concat(f.mcqTopItem," ").concat(f.ripple),onClick:function(){return a(1)},children:(0,_.jsx)(h,{children:n("attendance")})}),(0,_.jsx)("div",{className:2===t?"".concat(f.mcqTopItem," ").concat(f.active):f.mcqTopItem,onClick:function(){return a(2)},children:(0,_.jsx)(h,{children:n("payroll")})})]})},p=a(37762),j=a(93433),g="StaffAttendence_staffAttendence__rWbTN",b="StaffAttendence_calendar__5OmhR",N="StaffAttendence_arrColors__A6T2A",y="StaffAttendence_colours__5XUKi",S="StaffAttendence_clr__fLwuH",C="StaffAttendence_absent__7fbMH",w="StaffAttendence_holiday__qdLD1",Z="StaffAttendence_leave__qU7pf",M="StaffAttendence_percentage__y12l-",D="StaffAttendence_presentcount__fC598",T="StaffAttendence_absentcount__OBD4I",L=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],F=["January","February","March","April","May","June","July","August","September","October","November","December"],P=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F,a=new Date,l="".concat(a.getDate(),"-").concat(a.getMonth()+1,"-").concat(a.getFullYear()),i=[1,2,3,4,5,6,0],o=(0,n.useState)(a),c=(0,s.Z)(o,2),d=c[0],r=c[1],u=new Date(d.getFullYear(),d.getMonth()+1,0),v=new Date(d.getFullYear(),d.getMonth(),0),f=u.getDate(),_=new Date(d.getFullYear(),d.getMonth(),1).getDay(),h=i.indexOf(_)+1,m=v.getDate()-i.indexOf(_)+1,x=1,p=1,g={},b=1;b<7;b++)for(var N=1;N<8;N++)g[b]||(g[b]=[]),1===b?N<h?(g[b]=[].concat((0,j.Z)(g[b]),[{classes:"in-prev-month",date:"".concat(m,"-").concat(0===d.getMonth()?12:d.getMonth(),"-").concat(0===d.getMonth()?d.getFullYear()-1:d.getFullYear()),value:m}]),m++):(g[b]=[].concat((0,j.Z)(g[b]),[{classes:"",date:"".concat(x,"-").concat(d.getMonth()+1,"-").concat(d.getFullYear()),value:x}]),x++):b>1&&x<f+1?(g[b]=[].concat((0,j.Z)(g[b]),[{classes:"",date:"".concat(x,"-").concat(d.getMonth()+1,"-").concat(d.getFullYear()),value:x}]),x++):(g[b]=[].concat((0,j.Z)(g[b]),[{classes:"in-next-month",date:"".concat(p,"-").concat(d.getMonth()+2===13?1:d.getMonth()+2,"-").concat(d.getMonth()+2===13?d.getFullYear()+1:d.getFullYear()),value:p}]),p++);return{daysShort:e,monthNames:t,todayFormatted:l,calendarRows:g,selectedDate:d,getPrevMonth:function(){r((function(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}))},getNextMonth:function(){r((function(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}))}}},k=function(e){var t=e.presentArr,a=e.absentArr,l=e.holidayArr,i=e.leavesArr,s=P(),o=s.calendarRows,c=s.selectedDate,d=s.todayFormatted,r=s.daysShort,u=s.monthNames,v=s.getNextMonth,f=s.getPrevMonth,h=function(e){var t=e.split("-"),a=t[0]>9?t[0]:"0".concat(t[0]),n=t[1]>9?t[1]:"0".concat(t[1]),l=t[2];return"".concat(a,"/").concat(n,"/").concat(l)};return(0,_.jsxs)(n.Fragment,{children:[(0,_.jsxs)("div",{className:"calenderheader",children:[(0,_.jsx)("div",{className:"monthbtn",onClick:f,children:(0,_.jsx)("img",{alt:"not found",src:"/images/members/arrow-left.svg"})}),(0,_.jsxs)("div",{className:"yearmonth",children:[(0,_.jsx)("h6",{children:"".concat(u[c.getMonth()])}),(0,_.jsx)("p",{children:"".concat(c.getFullYear())})]}),(0,_.jsx)("div",{className:"monthbtn",onClick:v,children:(0,_.jsx)("img",{alt:"not found",src:"/images/members/arrow-right.svg"})})]}),(0,_.jsxs)("table",{className:"table",children:[(0,_.jsx)("thead",{children:(0,_.jsx)("tr",{children:r.map((function(e){return(0,_.jsx)("th",{className:"day",children:e},e)}))})}),(0,_.jsx)("tbody",{children:Object.values(o).map((function(e){return(0,_.jsx)("tr",{children:e.map((function(e){return e.date===d?null!==i&&void 0!==i&&i.includes(h(e.date))?(0,_.jsx)("td",{className:"".concat(e.classes," date "),children:(0,_.jsx)("div",{className:"datediv aaji leave",children:e.value})},e.date):null!==t&&void 0!==t&&t.includes(h(e.date))?(0,_.jsx)("td",{className:"".concat(e.classes," date "),children:(0,_.jsx)("div",{className:"datediv aaji",children:e.value})},e.date):null!==a&&void 0!==a&&a.includes(h(e.date))?(0,_.jsx)("td",{className:"".concat(e.classes," date "),children:(0,_.jsx)("div",{className:"datediv aaji absent",children:e.value})},e.date):null!==l&&void 0!==l&&l.includes(h(e.date))?(0,_.jsx)("td",{className:"".concat(e.classes," date "),children:(0,_.jsx)("div",{className:"datediv aaji holiday",children:e.value})},e.date):(0,_.jsx)("td",{className:"".concat(e.classes," date "),children:(0,_.jsx)("div",{className:"datediv aaji",children:e.value})},e.date):null!==t&&void 0!==t&&t.includes(h(e.date))?(0,_.jsx)("td",{className:"".concat(e.classes," date"),children:(0,_.jsx)("div",{className:"datediv present",children:e.value})},e.date):null!==a&&void 0!==a&&a.includes(h(e.date))?(0,_.jsx)("td",{className:"".concat(e.classes," date"),children:(0,_.jsx)("div",{className:"datediv absent",children:e.value})},e.date):null!==l&&void 0!==l&&l.includes(h(e.date))?(0,_.jsx)("td",{className:"".concat(e.classes," date"),children:(0,_.jsx)("div",{className:"datediv holiday",children:e.value})},e.date):null!==i&&void 0!==i&&i.includes(h(e.date))?(0,_.jsx)("td",{className:"".concat(e.classes," date"),children:(0,_.jsx)("div",{className:"datediv leave",children:e.value})},e.date):(0,_.jsx)("td",{className:"".concat(e.classes," date"),children:(0,_.jsx)("div",{className:"datediv",children:e.value})},e.date)}))},e[0].date)}))})]})]})},A=a(65313);var I=function(e){var t,a,l=e.sid,i=(new Date).toISOString().split("-"),o=+i[1]>9?+i[1]:"0".concat(+i[1]),c=n.useState("Month"),d=(0,s.Z)(c,2),r=d[0],u=d[1],v=(0,A.QW)({sid:l,month:"Month"===r?o:"",year:+i[0]}),f=v.staffCalenderAttendance,h=v.staffCalenderAttendanceRefetch,x=(0,m.$G)().t,L=n.useState([]),F=(0,s.Z)(L,2),P=F[0],I=F[1],R=n.useState([]),V=(0,s.Z)(R,2),q=V[0],Y=V[1],H=n.useState([]),O=(0,s.Z)(H,2),G=O[0],B=O[1];n.useEffect((function(){if(f&&(I((0,j.Z)(null===f||void 0===f?void 0:f.presentArray)),Y((0,j.Z)(null===f||void 0===f?void 0:f.absentArray)),null!==f&&void 0!==f&&f.leaves)){var e,t=[],a=(0,p.Z)(null===f||void 0===f?void 0:f.leaves);try{for(a.s();!(e=a.n()).done;){var n=e.value;t.push.apply(t,(0,j.Z)(n.date))}}catch(l){a.e(l)}finally{a.f()}B(t)}}),[f]),n.useEffect((function(){h()}),[r]);var E=function(e){u(e)};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:g,children:[(0,_.jsxs)("div",{className:b,children:[(0,_.jsx)(k,{presentArr:P,absentArr:q,holidayArr:[],leavesArr:G}),(0,_.jsxs)("div",{className:N,children:[(0,_.jsx)("div",{className:"".concat(S," ").concat(C),children:x("absent")}),(0,_.jsx)("div",{className:"".concat(S," ").concat(w),children:x("holiday_")}),(0,_.jsx)("div",{className:"".concat(S," ").concat(Z),children:"Leave"})]})]}),(0,_.jsxs)("div",{className:y,children:[(0,_.jsxs)("div",{class:"form-check",onClick:function(){return E("Month")},children:["Month"===r?(0,_.jsx)("img",{src:"/images/radio-active.svg "}):(0,_.jsx)("img",{src:"/images/radio-disabled.svg"}),(0,_.jsx)("p",{children:x("monthly")})]}),(0,_.jsxs)("div",{class:"form-check",onClick:function(){return E("Year")},children:["Year"===r?(0,_.jsx)("img",{src:"/images/radio-active.svg "}):(0,_.jsx)("img",{src:"/images/radio-disabled.svg"}),(0,_.jsx)("p",{children:x("yearly")})]})]})]}),(0,_.jsxs)("div",{className:M,children:[(0,_.jsxs)("div",{className:D,children:[(0,_.jsx)("p",{children:x("present_count")}),(0,_.jsxs)("p",{children:[null===f||void 0===f||null===(t=f.presentArray)||void 0===t?void 0:t.length,x("days")]}),(0,_.jsxs)("p",{children:[null===f||void 0===f?void 0:f.present,"%"]})]}),(0,_.jsxs)("div",{className:T,children:[(0,_.jsx)("p",{children:x("absent_count")}),(0,_.jsxs)("p",{children:[null===f||void 0===f||null===(a=f.absentArray)||void 0===a?void 0:a.length,x("days")]}),(0,_.jsxs)("p",{children:[null===f||void 0===f?void 0:f.absent,"%"]})]})]})]})},R=a(21588),V=a(91007),q=a(5574),Y=a(33992),H=a(21559),O=a(98734),G=a(69721),B="StaffFormPhoto_photoMain__AThMr",E="StaffFormPhoto_photoLabel__gxtsv",J=function(e){var t=e.sid,a=e.photoId,l=e.photoKey,i=(0,Y.ar)(),o=(0,s.Z)(i,1)[0],c=(0,n.useState)(""),d=(0,s.Z)(c,2),r=d[0],u=d[1],v=(0,n.useState)(""),f=(0,s.Z)(v,2),h=f[0],m=f[1],x=(0,n.useState)(!1),p=(0,s.Z)(x,2),j=p[0],g=p[1],b=(0,n.useState)(!1),N=(0,s.Z)(b,2),y=N[0],S=N[1],C=(0,n.useState)(!1),w=(0,s.Z)(C,2),Z=w[0],M=w[1],D=(0,n.useState)(""),T=(0,s.Z)(D,2),L=T[0],F=T[1];(0,n.useEffect)((function(){if(y){M((function(e){return!e}));var e=new FormData;e.append("file",h),o({profile:e,sid:t}).then((function(){M((function(e){return!e}))})).catch({})}}),[y,h]);return(0,_.jsxs)("div",{className:B,children:[L?(0,_.jsx)("img",{src:L,alt:"profile is not uploaded",style:{width:"100%",height:"100%"}}):(0,_.jsx)("img",{src:"1"!==a?"".concat(G.yI,"/").concat(l):"/images/user_default_img.svg",alt:"",style:{width:"100%",height:"100%"}}),(0,_.jsx)("label",{htmlFor:"photo",className:E,children:(0,_.jsx)("img",{alt:"not found",className:E,src:"/images/edit1-icon.svg"})}),(0,_.jsx)("input",{id:"photo",name:"file",onChange:function(e){var t=URL.createObjectURL(e.target.files[0]);m(e.target.files[0]),F(t),u(t),g(!0)},type:"file",style:{display:"none"},accept:"image/gif, image/jpeg, image/png",required:!0}),j&&(0,_.jsx)(q.Z,{open:j,children:(0,_.jsx)(H.Z,{setPhotoURL:u,photoURL:r,setFile:m,setOpenCrop:g,setUpload:S,setProfilePhoto:F,first:1,second:1})}),Z&&(0,_.jsx)(O.Z,{})]})},K=a(60600);var X=function(e){var t,a,l,i,f,h,p,j,g,b,N,y=e.staffData,S=(0,m.$G)().t,C=(0,n.useState)(0),w=(0,s.Z)(C,2),Z=w[0],M=w[1],D=(0,V.wB)("".concat(y&&y)).data;return(0,_.jsxs)("div",{className:o,children:[(0,_.jsx)("div",{className:v,children:"Profile In Institute"}),(0,_.jsxs)("div",{className:d,children:[(0,_.jsx)("div",{className:c,children:(0,_.jsx)(J,{photoKey:null===D||void 0===D||null===(t=D.staff)||void 0===t?void 0:t.staffProfilePhoto,photoId:null===D||void 0===D||null===(a=D.staff)||void 0===a?void 0:a.photoId,sid:null===D||void 0===D||null===(l=D.staff)||void 0===l?void 0:l._id})}),(0,_.jsxs)("div",{className:r,children:[(0,_.jsxs)("h6",{children:[null===D||void 0===D||null===(i=D.staff)||void 0===i?void 0:i.staffFirstName," ",null!==D&&void 0!==D&&null!==(f=D.staff)&&void 0!==f&&f.staffMiddleName?null===D||void 0===D||null===(h=D.staff)||void 0===h?void 0:h.staffMiddleName:""," ",null===D||void 0===D||null===(p=D.staff)||void 0===p?void 0:p.staffLastName]}),(0,_.jsxs)("p",{children:[" ",S("index_no"),". ",null===D||void 0===D||null===(j=D.staff)||void 0===j?void 0:j.staffROLLNO]}),(0,_.jsxs)("p",{children:[" ",S("designations"),": ",null===D||void 0===D||null===(g=D.staff)||void 0===g?void 0:g.staffDesignationCount]})]})]}),(0,_.jsx)("div",{className:u,children:(0,_.jsx)(x,{activeIndex:Z,setActiveIndex:M})}),0===Z&&(0,_.jsx)(K.Z,{staff:null===D||void 0===D?void 0:D.staff,viewAs:"STAFF_OWN"}),1===Z&&(0,_.jsx)(I,{sid:null===D||void 0===D||null===(b=D.staff)||void 0===b?void 0:b._id}),2===Z&&(0,_.jsx)(R.default,{sid:null===D||void 0===D||null===(N=D.staff)||void 0===N?void 0:N._id})]})},U="Complaints_complaints__zSm-J",W="Complaints_complaintDetail__FqKdQ",$="Complaints_complaintList__2pa3v",Q={complaintList:"ComplaintList_complaintList__AncqY",listcontainer:"ComplaintList_listcontainer__NnO-R",heading:"ComplaintList_heading__dffHT",listHead:"ComplaintList_listHead__ox7DD",tabs:"ComplaintList_tabs__f3YJH",item:"ComplaintList_item__Tw7T-",text:"ComplaintList_text__MQbnE",to:"ComplaintList_to__IEMdc",datetime:"ComplaintList_datetime__PK0+5",solved:"ComplaintList_solved__LTgHh",unsolved:"ComplaintList_unsolved__yztBr",dots:"ComplaintList_dots__XPKxQ",button:"ComplaintList_button__C1xWG",menu:"ComplaintList_menu__0wYna",menuItem:"ComplaintList_menuItem__vh9c6"},z=a(72426),ee=a.n(z),te=a(64540);function ae(e){var t=e.open,a=e.onClose,n=e.cid,l=e.refetch,i=(0,m.$G)().t,o=(0,te.bd)(),c=(0,s.Z)(o,1)[0];if(!t)return null;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{onClick:a,style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10}}),(0,_.jsx)("div",{className:Q.menu,style:{position:"absolute",zIndex:10},children:(0,_.jsx)("div",{className:Q.menuItem,onClick:function(){c(n).then((function(e){l(),a()})).catch({})},children:i("remove_complaint")})})]})}function ne(e){var t=e.setShowDetails,a=e.complaint,l=e.setCDetails,i=e.refetch,o=(0,n.useState)(!1),c=(0,s.Z)(o,2),d=c[0],r=c[1],u=(0,m.$G)().t;return(0,_.jsxs)("div",{className:Q.item,onClick:function(){t(!0),l(a)},children:[(0,_.jsx)("img",{src:"/images/members/staff-complain-icon.svg",alt:""}),(0,_.jsxs)("div",{className:Q.text,children:[(0,_.jsxs)("h6",{children:[null===a||void 0===a?void 0:a.complaintType," Complaint"]}),(0,_.jsxs)("div",{className:Q.datetime,children:[(0,_.jsxs)("p",{children:[" ",u("date"),": ",ee()(null===a||void 0===a?void 0:a.createdAt).format("LL")]}),"Unsolved"===(null===a||void 0===a?void 0:a.complaintStatus)?(0,_.jsx)("p",{className:Q.unsolved,children:null===a||void 0===a?void 0:a.complaintStatus}):(0,_.jsx)("p",{className:Q.solved,children:null===a||void 0===a?void 0:a.complaintStatus})]})]}),(0,_.jsx)("img",{className:Q.dots,src:"/images/menu-dots-icon.svg",alt:"",onClick:function(){return r(!0)}}),d&&(0,_.jsx)(ae,{open:d,onClose:function(){return r(!1)},cid:null===a||void 0===a?void 0:a._id,refetch:i})]})}var le=function(e){var t=e.setShowDetails,a=e.complaints,n=e.setCDetails,l=e.refetch,i=(0,m.$G)().t;return(0,_.jsxs)("div",{className:Q.complaintList,children:[(0,_.jsx)("h6",{className:Q.heading,children:i("complaint_list")}),(0,_.jsx)("div",{className:Q.listcontainer,children:null===a||void 0===a?void 0:a.map((function(e,a){return(0,_.jsx)(ne,{complaint:e,setShowDetails:t,setCDetails:n,refetch:l},a)}))}),(0,_.jsx)("div",{className:Q.button,onClick:function(){return t(!1)},children:i("make_new_complaint")})]})},ie="ComplaintDetails_complaintDetails__-WhJ2",se="ComplaintDetails_detailsheader__W0KOL",oe="ComplaintDetails_detailsbody__YEngl",ce="ComplaintDetails_footer__TiXAq",de="ComplaintDetails_red__oLLLm";var re=function(e){var t=e.cDetail,a=(0,m.$G)().t;return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("div",{className:ie,children:[(0,_.jsx)("div",{className:se,children:a("complaint")}),(0,_.jsx)("hr",{}),(0,_.jsxs)("div",{className:oe,children:[(0,_.jsxs)("h6",{children:[null===t||void 0===t?void 0:t.complaintType,a("complaint")]}),(0,_.jsx)("p",{children:null===t||void 0===t?void 0:t.complaintContent}),(0,_.jsx)("div",{className:ce,children:(0,_.jsx)("h6",{className:de,children:null===t||void 0===t?void 0:t.complaintStatus})})]})]})})},ue=a(1413),ve={newComplain:"NewComplain_newComplain__bmRXA",newComplainheader:"NewComplain_newComplainheader__lTktp",input:"NewComplain_input__2cFBM",down:"NewComplain_down__FeNuz",options:"NewComplain_options__Ql4m1",option:"NewComplain_option__bWUTa",postTextarea:"NewComplain_postTextarea__3iUB6",submitbtn:"NewComplain_submitbtn__y5E6Z",disablebtn:"NewComplain_disablebtn__bOFPG"},fe=a(36721),_e=(a(68825),{position:"relative",zIndex:1}),he={position:"absolute",left:"14.5vw",top:"9.5vw",zIndex:10},me={position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10};function xe(e){var t=e.setComplaintData,a=e.open,n=e.onClose,l=e.complaintData,i=e.setIsOpen,s=(0,m.$G)().t;return a?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{onClick:n,style:me}),(0,_.jsxs)("div",{style:he,className:ve.options,children:[(0,_.jsx)("div",{className:ve.option,onClick:function(){t((0,ue.Z)((0,ue.Z)({},l),{},{type:"Open"})),i(!1)},children:s("open_complaint")}),(0,_.jsx)("div",{className:ve.option,onClick:function(){t((0,ue.Z)((0,ue.Z)({},l),{},{type:"Anonymous"})),i(!1)},children:s("anonymous_complaint")})]})]}):null}var pe=function(e){var t=e.staffId,a=e.toast,l=e.setToast,i=(0,n.useState)(!1),o=(0,s.Z)(i,2),c=o[0],d=o[1],r=(0,n.useState)(!1),u=(0,s.Z)(r,2),v=u[0],f=u[1],h=(0,te.N)(),x=(0,s.Z)(h,1)[0],p=(0,m.$G)().t,j=(0,n.useState)(""),g=(0,s.Z)(j,2),b=g[0],N=g[1],y=(0,n.useState)({type:"",content:""}),S=(0,s.Z)(y,2),C=S[0],w=S[1],Z=document.querySelector("textarea");return null===Z||void 0===Z||Z.addEventListener("keyup",(function(e){Z.style.height="auto";var t=e.target.scrollHeight;Z.style.height="".concat(t,"px")})),(0,_.jsxs)("div",{className:ve.newComplain,children:[(0,_.jsx)(fe.qu,{msg:b,run:a,setRun:l}),(0,_.jsx)("h6",{className:ve.newComplainheader,children:p("make_complaint")}),(0,_.jsx)("div",{className:ve.input,style:_e,children:(0,_.jsxs)("div",{children:["Open"===(null===C||void 0===C?void 0:C.type)?(0,_.jsx)("h6",{onClick:function(){return d(!0)},children:p("open_complaint")}):"Anonymous"===(null===C||void 0===C?void 0:C.type)?(0,_.jsx)("h6",{onClick:function(){return d(!0)},children:p("anonymous_complaint")}):(0,_.jsx)("h6",{onClick:function(){return d(!0)},children:p("comp_type")}),(0,_.jsx)("img",{className:ve.down,src:"/images/downn-icon.svg",alt:""})]})}),(0,_.jsx)(xe,{open:c,onClose:function(){return d(!1)},setComplaintData:w,complaintData:C,setIsOpen:d}),(0,_.jsx)("textarea",{className:ve.postTextarea,type:"text",required:!0,name:"CreateInsPost",placeholder:p("comp_des"),value:C.content,onChange:function(e){return w((0,ue.Z)((0,ue.Z)({},C),{},{content:e.target.value}))}}),C.type&&C.content?(0,_.jsx)("div",{className:ve.submitbtn,onClick:function(){f((function(e){return!e}));var e=new FormData;e.append("complaintType",C.type),e.append("complaintContent",C.content),x({sid:t&&t,complaintData:{complaintType:C.type,complaintContent:C.content}}).then((function(e){e.data.message&&(N("Successfully Submitted"),l(!0),w((0,ue.Z)((0,ue.Z)({},C),{},{content:"",type:""})),f((function(e){return!e})))}))},children:p("send_complaint")}):(0,_.jsx)("div",{className:"".concat(ve.submitbtn," ").concat(ve.disablebtn),children:p("send_complaint")}),v&&(0,_.jsx)(O.Z,{})]})};var je=function(e){var t=e.staffId,a=(0,n.useState)(!1),l=(0,s.Z)(a,2),i=l[0],o=l[1],c=(0,n.useState)(),d=(0,s.Z)(c,2),r=d[0],u=d[1],v=(0,n.useState)(!1),f=(0,s.Z)(v,2),h=f[0],m=f[1],x=(0,te.AO)(t,{skip:!t}),p=x.data,j=x.refetch;return(0,n.useEffect)((function(){j()}),[h]),(0,_.jsxs)("div",{className:U,children:[(0,_.jsxs)("div",{className:W,children:[i&&(0,_.jsx)(re,{cDetail:r}),!i&&(0,_.jsx)(pe,{staffId:t,toast:h,setToast:m})]}),(0,_.jsx)("div",{className:$,children:(0,_.jsx)(le,{setShowDetails:o,complaints:null===p||void 0===p?void 0:p.complaints,setCDetails:u,refetch:j})})]})},ge="Leaves_complaints__BM0n2",be="Leaves_complaintDetail__iSTgs",Ne="Leaves_complaintList__PcaKz",ye={complaintList:"LeaveList_complaintList__ebCJG",heading:"LeaveList_heading__75Lgo",listHead:"LeaveList_listHead__1k-tF",tabs:"LeaveList_tabs__gwZ9d",item:"LeaveList_item__jTsOd",text:"LeaveList_text__uUXzi",to:"LeaveList_to__Ha1pk",datetime:"LeaveList_datetime__HftY0",solved:"LeaveList_solved__6q1aN",unsolved:"LeaveList_unsolved__bHVMy",dots:"LeaveList_dots__CmFij",button:"LeaveList_button__rrzgg",menu:"LeaveList_menu__giweP",menuItem:"LeaveList_menuItem__xKhuS",listcontainer:"LeaveList_listcontainer__tUdMa"};function Se(e){var t=e.open,a=e.onClose,n=e.lid,l=e.refetch,i=(0,te.li)(),o=(0,s.Z)(i,1)[0];if(!t)return null;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{onClick:a,style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10}}),(0,_.jsx)("div",{className:ye.menu,style:{position:"absolute",zIndex:10},children:(0,_.jsx)("div",{className:ye.menuItem,onClick:function(){o(n).then((function(e){l(),a()})).catch({})},children:"Remove Complaint"})})]})}function Ce(e){var t,a=e.setShowDetails,l=e.leave,i=e.setCDetails,o=e.cDetail,c=e.refetch,d=(0,m.$G)().t,r=(0,n.useState)(!1),u=(0,s.Z)(r,2),v=u[0],f=u[1],h=(null===l||void 0===l?void 0:l.reason.match(/[\s\S]{1,50}/g))||[],x=[],p=[],g=[],b=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return null===l||void 0===l||null===(t=l.date)||void 0===t||t.map((function(e){var t=e.split("/")[0],a="0"===e.split("/")[1].split("")[0]?b[parseInt(e.split("/")[1],10)]:b[e.split("/")[1]],n=e.split("/")[2];x.push(t),p.push(a),g.push(n)})),(0,_.jsxs)("div",{className:ye.item,onClick:function(){a(!0),i((0,ue.Z)((0,ue.Z)({},o),{},{dates:x,months:p,years:g,content:null===l||void 0===l?void 0:l.reason,status:null===l||void 0===l?void 0:l.status}))},children:[(0,_.jsx)("img",{src:"/images/members/transfer-icon.svg",alt:""}),(0,_.jsxs)("div",{className:ye.text,children:[(0,_.jsxs)("h6",{className:ye.to,children:[d("date"),": ",(0,j.Z)(new Set(x)).map((function(e){return"".concat(e," ")})),(0,_.jsxs)("span",{children:[(0,j.Z)(new Set(p)).map((function(e){return"".concat(e," ")}))," ",(0,j.Z)(new Set(g)).map((function(e){return"".concat(e," ")}))]})]}),(0,_.jsxs)("div",{className:ye.datetime,children:[(null===h||void 0===h?void 0:h.length)>1?(0,_.jsxs)("p",{children:[h[0],"..."]}):(0,_.jsx)("p",{children:h[0]}),"Request"===(null===l||void 0===l?void 0:l.status)?(0,_.jsx)("p",{className:ye.unsolved,children:null===l||void 0===l?void 0:l.status}):(0,_.jsx)("p",{className:ye.solved,children:null===l||void 0===l?void 0:l.status})]})]}),(0,_.jsx)("img",{className:ye.dots,src:"/images/menu-dots-icon.svg",alt:"",onClick:function(){return f(!0)}}),v&&(0,_.jsx)(Se,{open:v,onClose:function(){return f(!1)},lid:null===l||void 0===l?void 0:l._id,refetch:c})]})}var we=function(e){e.staffId;var t=e.setShowDetails,a=e.setCDetails,n=e.cDetail,l=e.staffLeaveData,i=e.refetch,s=(0,m.$G)().t;return(0,_.jsxs)("div",{className:ye.complaintList,children:[(0,_.jsx)("h6",{className:ye.heading,children:s("leaves")}),(0,_.jsx)("div",{className:ye.listcontainer,children:null===l||void 0===l?void 0:l.allLeave.map((function(e,l){return(0,_.jsx)(Ce,{leave:e,setShowDetails:t,setCDetails:a,cDetail:n,refetch:i},l)}))}),(0,_.jsx)("div",{className:ye.button,onClick:function(){return t(!1)},children:s("create_leave")})]})},Ze={newComplain:"NewLeave_newComplain__xCHtX",header:"NewLeave_header__RauW3",calender:"NewLeave_calender__iV3pq",btncontainer:"NewLeave_btncontainer__Rq76P",reasonbtn:"NewLeave_reasonbtn__-Qm42",disabled:"NewLeave_disabled__X4MPx"},Me=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],De=["January","February","March","April","May","June","July","August","September","October","November","December"],Te=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De,a=new Date,l="".concat(a.getDate(),"-").concat(a.getMonth()+1,"-").concat(a.getFullYear()),i=[1,2,3,4,5,6,0],o=(0,n.useState)(a),c=(0,s.Z)(o,2),d=c[0],r=c[1],u=new Date(d.getFullYear(),d.getMonth()+1,0),v=new Date(d.getFullYear(),d.getMonth(),0),f=u.getDate(),_=new Date(d.getFullYear(),d.getMonth(),1).getDay(),h=i.indexOf(_)+1,m=v.getDate()-i.indexOf(_)+1,x=1,p=1,g={},b=1;b<7;b++)for(var N=1;N<8;N++)g[b]||(g[b]=[]),1===b?N<h?(g[b]=[].concat((0,j.Z)(g[b]),[{classes:"in-prev-month",date:"".concat(m,"-").concat(0===d.getMonth()?12:d.getMonth(),"-").concat(0===d.getMonth()?d.getFullYear()-1:d.getFullYear()),value:m}]),m++):(g[b]=[].concat((0,j.Z)(g[b]),[{classes:"",date:"".concat(x,"-").concat(d.getMonth()+1,"-").concat(d.getFullYear()),value:x}]),x++):b>1&&x<f+1?(g[b]=[].concat((0,j.Z)(g[b]),[{classes:"",date:"".concat(x,"-").concat(d.getMonth()+1,"-").concat(d.getFullYear()),value:x}]),x++):(g[b]=[].concat((0,j.Z)(g[b]),[{classes:"in-next-month",date:"".concat(p,"-").concat(d.getMonth()+2===13?1:d.getMonth()+2,"-").concat(d.getMonth()+2===13?d.getFullYear()+1:d.getFullYear()),value:p}]),p++);return{daysShort:e,monthNames:t,todayFormatted:l,calendarRows:g,selectedDate:d,getPrevMonth:function(){r((function(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}))},getNextMonth:function(){r((function(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}))}}},Le=function(e){var t=e.dateSelected,a=(e.setSelectedDate,e.removeDateArray),l=e.addDateArray,i=Te(),o=i.calendarRows,c=i.selectedDate,d=i.todayFormatted,r=i.daysShort,u=i.monthNames,v=i.getNextMonth,f=i.getPrevMonth,h=(0,n.useState)([]),m=(0,s.Z)(h,2),x=(m[0],m[1]),p=function(e){if(t.length>0&&t.includes(e)){var n=t.filter((function(t){return t!==e}));a(n),x(n)}else l(e),x((function(t){return[].concat((0,j.Z)(t),[e])}))};return(0,_.jsxs)(n.Fragment,{children:[(0,_.jsxs)("div",{className:"calenderheader",children:[(0,_.jsx)("div",{className:"monthbtn",onClick:f,children:(0,_.jsx)("img",{alt:"not found",src:"/images/members/arrow-left.svg"})}),(0,_.jsxs)("div",{className:"yearmonth",children:[(0,_.jsx)("h6",{children:"".concat(u[c.getMonth()])}),(0,_.jsx)("p",{children:"".concat(c.getFullYear())})]}),(0,_.jsx)("div",{className:"monthbtn",onClick:v,children:(0,_.jsx)("img",{alt:"not found",src:"/images/members/arrow-right.svg"})})]}),(0,_.jsxs)("table",{className:"table",children:[(0,_.jsx)("thead",{children:(0,_.jsx)("tr",{children:r.map((function(e){return(0,_.jsx)("th",{className:"day",children:e},e)}))})}),(0,_.jsx)("tbody",{children:Object.values(o).map((function(e){return(0,_.jsx)("tr",{children:e.map((function(e){return e.date===d?(0,_.jsx)("td",{className:"".concat(e.classes," date"),onClick:function(){return p("".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(c.getMonth()+1<10?"0".concat(c.getMonth()+1):c.getMonth()+1,"/").concat(c.getFullYear()))},children:(0,_.jsx)("div",{className:t.includes("".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(c.getMonth()+1<10?"0".concat(c.getMonth()+1):c.getMonth()+1,"/").concat(c.getFullYear()))?"".concat(e.classes," datediv aaji active"):"".concat(e.classes," datediv aaji"),children:e.value})},e.date):"in-prev-month"===e.classes||"in-next-month"===e.classes?(0,_.jsx)("td",{className:"".concat(e.classes," date"),children:(0,_.jsx)("div",{className:(t.includes("".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(c.getMonth()+1<10?"0".concat(c.getMonth()+1):c.getMonth()+1,"/").concat(c.getFullYear())),"".concat(e.classes," datediv ")),children:e.value})},e.date):(0,_.jsx)("td",{className:"".concat(e.classes," date"),onClick:function(){return p("".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(c.getMonth()+1<10?"0".concat(c.getMonth()+1):c.getMonth()+1,"/").concat(c.getFullYear()))},children:(0,_.jsx)("div",{className:t.includes("".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(c.getMonth()+1<10?"0".concat(c.getMonth()+1):c.getMonth()+1,"/").concat(c.getFullYear()))?"".concat(e.classes," datediv  active"):"".concat(e.classes," datediv "),children:e.value})},e.date)}))},e[0].date)}))})]})]})},Fe={addDisplay:"ReasonModal_addDisplay__dPTt9",title:"ReasonModal_title__wT6Th",content:"ReasonModal_content__rNQi1",item:"ReasonModal_item__Y2Xhs",btn:"ReasonModal_btn__cYCHs",active:"ReasonModal_active__KphjL"};var Pe=function(e){var t=e.addDisplay,a=e.hideModal,n=e.selectedReason,l=e.setSelectedReason,i=e.sendRequest,s=(0,m.$G)().t,o=document.querySelector("textarea");return null===o||void 0===o||o.addEventListener("keyup",(function(e){o.style.height="auto";var t=e.target.scrollHeight;o.style.height="".concat(t,"px")})),(0,_.jsx)(q.Z,{open:t,onClose:function(){return a(!1)},children:(0,_.jsxs)("div",{className:Fe.addDisplay,children:[(0,_.jsx)("div",{className:Fe.title,children:(0,_.jsx)("h6",{children:s("add_leave_reason")})}),(0,_.jsxs)("div",{className:Fe.content,children:[(0,_.jsx)("div",{className:Fe.item,children:(0,_.jsx)("textarea",{className:Fe.postTextarea,type:"text",required:!0,name:"CreateInsPost",placeholder:s("enter_reason"),value:n,onChange:function(e){return l(e.target.value)}})}),n?(0,_.jsx)("div",{className:"".concat(Fe.btn," ").concat(Fe.active),onClick:i,children:s("send_request")}):(0,_.jsx)("div",{className:Fe.btn,children:s("send_request")})]})]})})};var ke=function(e){var t=e.staffId,a=e.refetch,l=(0,m.$G)().t,i=(0,te.hx)(),o=(0,s.Z)(i,1)[0],c=(0,n.useState)([]),d=(0,s.Z)(c,2),r=d[0],u=d[1],v=(0,n.useState)(""),f=(0,s.Z)(v,2),h=f[0],x=f[1],p=(0,n.useState)(!1),g=(0,s.Z)(p,2),b=g[0],N=g[1],y=(0,n.useState)(!1),S=(0,s.Z)(y,2),C=S[0],w=S[1],Z=(0,n.useState)(!1),M=(0,s.Z)(Z,2),D=M[0],T=M[1],L=(0,n.useState)(""),F=(0,s.Z)(L,2),P=F[0],k=F[1],A=new Date,I="".concat(A.getDate()<10?"0".concat(A.getDate()):A.getDate(),"/").concat(A.getMonth()+1<10?"0".concat(A.getMonth()+1):A.getMonth()+1,"/").concat(A.getFullYear());function R(e){return new Date(e.split("/").reverse().join("/"))}return(0,_.jsxs)("div",{className:Ze.newComplain,children:[(0,_.jsx)(fe.qu,{msg:P,run:D,setRun:T}),(0,_.jsx)("div",{className:Ze.header,children:(0,_.jsx)("h6",{className:Ze.newComplainheader,children:l("select_leave_date")})}),(0,_.jsxs)("div",{className:Ze.calender,children:[(0,_.jsx)(Le,{dateSelected:r,setSelectedDate:u,removeDateArray:function(e){u(e)},addDateArray:function(e){+R(e)>=+R(I)&&u((function(t){return[].concat((0,j.Z)(t),[e])}))}}),(0,_.jsx)("div",{className:Ze.btncontainer,children:r.length>0?(0,_.jsx)("div",{className:Ze.reasonbtn,onClick:function(){return N(!0)},children:l("reason")}):(0,_.jsx)("div",{className:"".concat(Ze.reasonbtn," ").concat(Ze.disabled),children:l("reason")})})]}),b&&(0,_.jsx)(Pe,{hideModal:function(e){return N(e)},addDisplay:b,selectedReason:h,setSelectedReason:x,sendRequest:function(){N(!1),w((function(e){return!e})),o({sid:t&&t,LeaveData:{reason:h,dates:r}}).then((function(e){e.data&&(k("Successfully Submitted Request"),T(!0),a(),u([]),x(""),w((function(e){return!e})))})).catch((function(){w((function(e){return!e}))}))}}),C&&(0,_.jsx)(O.Z,{})]})},Ae="LeaveDetails_complaintDetails__YhGqq",Ie="LeaveDetails_detailsheader__0gSD6",Re="LeaveDetails_detailsbody__9h1R-",Ve="LeaveDetails_footer__WjG5j",qe="LeaveDetails_red__ToXuQ";var Ye=function(e){var t,a,n,l=e.cDetail,i=(0,m.$G)().t;return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("div",{className:Ae,children:[(0,_.jsx)("div",{className:Ie,children:i("leave_details")}),(0,_.jsx)("hr",{}),(0,_.jsxs)("div",{className:Re,children:[(0,_.jsxs)("h6",{children:[null===(t=(0,j.Z)(new Set(null===l||void 0===l?void 0:l.dates)))||void 0===t?void 0:t.map((function(e){return"".concat(e," ")}))," ",null===(a=(0,j.Z)(new Set(null===l||void 0===l?void 0:l.months)))||void 0===a?void 0:a.map((function(e){return"".concat(e," ")}))," ",null===(n=(0,j.Z)(new Set(null===l||void 0===l?void 0:l.years)))||void 0===n?void 0:n.map((function(e){return"".concat(e," ")}))]}),(0,_.jsx)("p",{children:null===l||void 0===l?void 0:l.content}),(0,_.jsx)("div",{className:Ve,children:(0,_.jsx)("h6",{className:qe,children:null===l||void 0===l?void 0:l.status})})]})]})})};var He=function(e){var t=e.staffId,a=(0,te.dn)(t,{skip:!t}),l=a.data,i=a.refetch,o=(0,n.useState)(!1),c=(0,s.Z)(o,2),d=c[0],r=c[1],u=(0,n.useState)({dates:[],months:[],years:[],content:"",status:""}),v=(0,s.Z)(u,2),f=v[0],h=v[1];return(0,_.jsxs)("div",{className:ge,children:[(0,_.jsxs)("div",{className:be,children:[d&&(0,_.jsx)(Ye,{cDetail:f}),!d&&(0,_.jsx)(ke,{staffId:t,refetch:i})]}),(0,_.jsx)("div",{className:Ne,children:(0,_.jsx)(we,{staffId:t,setShowDetails:r,setCDetails:h,cDetail:f,staffLeaveData:l})})]})},Oe="Transfers_complaints__FOY0l",Ge="Transfers_complaintDetail__AZ60r",Be={addDisplay:"ReasonModal_addDisplay__yhKhM",title:"ReasonModal_title__fT5GM",content:"ReasonModal_content__hGRYZ",item:"ReasonModal_item__oKaXt",btn:"ReasonModal_btn__uecou",active:"ReasonModal_active__Jx-ns"};var Ee=function(e){var t=e.addDisplay,a=e.selectedReason,l=e.setSelectedReason,i=e.staffId,o=e.setToast,c=e.setvMessage,d=e.onCloseModal,r=(0,te.UG)(),u=(0,s.Z)(r,1)[0],v=document.querySelector("textarea"),f=(0,m.$G)().t,h=(0,n.useState)(!1),x=(0,s.Z)(h,2),p=x[0],j=x[1];return null===v||void 0===v||v.addEventListener("keyup",(function(e){v.style.height="auto";var t=e.target.scrollHeight;v.style.height="".concat(t,"px")})),(0,_.jsxs)(q.Z,{open:t,onClose:function(){return d()},children:[(0,_.jsxs)("div",{className:Be.addDisplay,children:[(0,_.jsx)("div",{className:Be.title,children:(0,_.jsx)("h6",{children:f("add_leave_reason")})}),(0,_.jsxs)("div",{className:Be.content,children:[(0,_.jsx)("div",{className:Be.item,children:(0,_.jsx)("textarea",{className:Be.postTextarea,type:"text",required:!0,name:"CreateInsPost",placeholder:f("enter_reason"),value:a,onChange:function(e){return l(e.target.value)}})}),a?(0,_.jsx)("div",{className:"".concat(Be.btn," ").concat(Be.active),onClick:function(){j((function(e){return!e})),u({sid:i&&i,transferData:{transferReason:a}}).then((function(e){e.data&&(c("Successfully Submitted Request"),o(!0),j((function(e){return!e})),d())})).catch((function(){j((function(e){return!e}))}))},children:f("send_request")}):(0,_.jsx)("div",{className:Be.btn,children:f("send_request")})]})]}),p&&(0,_.jsx)(O.Z,{})]})};var Je=function(e){var t=e.staffId,a=(0,i.s0)(),l=(0,n.useState)(!0),o=(0,s.Z)(l,2),c=o[0],d=o[1],r=(0,n.useState)(!1),u=(0,s.Z)(r,2),v=u[0],f=u[1],h=(0,n.useState)(""),m=(0,s.Z)(h,2),x=m[0],p=m[1],j=(0,n.useState)(""),g=(0,s.Z)(j,2),b=g[0],N=g[1];return(0,_.jsxs)("div",{className:Oe,children:[(0,_.jsx)(fe.qu,{msg:x,run:v,setRun:f}),(0,_.jsx)("div",{className:Ge,children:c&&(0,_.jsx)(Ee,{addDisplay:c,selectedReason:b,setSelectedReason:N,setToast:f,setvMessage:p,staffId:t,onCloseModal:function(){d(!1),a(-1)}})})]})},Ke=a(26097),Xe=function(){var e,t,a,n,s,o,c,d,r,u,v,f,h,m,x,p,j,g,b,N=(0,i.TH)();return(0,_.jsxs)(l.Z,{index:"profile"===(null===N||void 0===N||null===(e=N.search)||void 0===e?void 0:e.substring(3))?"20":"complaint"===(null===N||void 0===N||null===(t=N.search)||void 0===t?void 0:t.substring(3))?"21":"leave"===(null===N||void 0===N||null===(a=N.search)||void 0===a?void 0:a.substring(3))?"22":"transfer"===(null===N||void 0===N||null===(n=N.search)||void 0===n?void 0:n.substring(3))?"23":"24",sid:null!==(s=null===N||void 0===N||null===(o=N.state)||void 0===o?void 0:o.sid)&&void 0!==s?s:"",children:["profile"===(null===N||void 0===N||null===(c=N.search)||void 0===c?void 0:c.substring(3))&&(0,_.jsx)(X,{staffData:null!==(d=null===N||void 0===N||null===(r=N.state)||void 0===r?void 0:r.sid)&&void 0!==d?d:""}),"complaint"===(null===N||void 0===N||null===(u=N.search)||void 0===u?void 0:u.substring(3))&&(0,_.jsx)(je,{staffId:null!==(v=null===N||void 0===N||null===(f=N.state)||void 0===f?void 0:f.sid)&&void 0!==v?v:""}),"leave"===(null===N||void 0===N||null===(h=N.search)||void 0===h?void 0:h.substring(3))&&(0,_.jsx)(He,{staffId:null!==(m=null===N||void 0===N||null===(x=N.state)||void 0===x?void 0:x.sid)&&void 0!==m?m:""}),"transfer"===(null===N||void 0===N||null===(p=N.search)||void 0===p?void 0:p.substring(3))&&(0,_.jsx)(Je,{staffId:null!==(j=null===N||void 0===N||null===(g=N.state)||void 0===g?void 0:g.sid)&&void 0!==j?j:""}),"switch"===(null===N||void 0===N||null===(b=N.search)||void 0===b?void 0:b.substring(3))&&(0,_.jsx)(Ke.Z,{})]})}},12072:function(e,t,a){a.d(t,{Z:function(){return o}});var n=a(1413),l=(a(72791),a(54164)),i="Overlay_overlay_card__PAr1h",s=a(80184),o=function(e){var t=e.children,a=e.customStyle;return(0,s.jsx)(s.Fragment,{children:l.createPortal((0,s.jsx)("div",{className:i,style:(0,n.Z)({},a),children:t}),document.getElementById("overlay"))})}},84489:function(e,t,a){var n=a(1413),l=(a(72791),a(51857)),i=a(80184);t.Z=function(e){var t=e.onClose,a=e.customStyleBackdrop;return(0,i.jsx)("div",{className:l.Z.search_backdrop,style:(0,n.Z)({},a),onClick:t})}},98094:function(e,t,a){var n=a(1413),l=(a(72791),a(55136)),i=a(80184);t.Z=function(e){var t=e.customStyle;return(0,i.jsx)("hr",{className:l.Z.universal_hr,style:(0,n.Z)({},t)})}},32589:function(e,t,a){var n=a(1413),l=a(29439),i=a(72791),s=a(93097),o=a(55136),c=a(80184);t.Z=function(e){var t=e.labelText1,a=e.labelValue1,d=e.labelText2,r=e.labelValue2,u=e.labelFile1,v=e.labelFile2,f=e.howManyField,_=e.customStyleContainer,h=e.customStyleEachField,m=(0,i.useState)(""),x=(0,l.Z)(m,2),p=x[0],j=x[1],g=function(e){j(e)};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:o.Z.each_field_container,style:(0,n.Z)({},_),children:[(0,c.jsxs)("div",{className:o.Z.each_field,style:(0,n.Z)({},h),children:[(0,c.jsxs)("p",{className:o.Z.each_field_text,children:[t," : "]}),u?(0,c.jsx)("h6",{className:o.Z.each_field_text_value,style:{color:"#002BBE",cursor:"pointer"},onClick:function(){return g(a)},children:a?"View":"N/A"}):(0,c.jsx)("h6",{className:o.Z.each_field_text_value,children:a})]}),1!==f&&(0,c.jsxs)("div",{className:o.Z.each_field,style:(0,n.Z)({},h),children:[(0,c.jsxs)("p",{className:o.Z.each_field_text,children:[d," : "]}),v?(0,c.jsx)("h6",{className:o.Z.each_field_text_value,style:{color:"#002BBE",cursor:"pointer"},onClick:function(){return g(r)},children:r?"View":"N/A"}):(0,c.jsx)("h6",{className:o.Z.each_field_text_value,children:r})]})]}),p&&(0,c.jsx)(s.Z,{onClose:function(){j("")},keyValue:p})]})}},60600:function(e,t,a){var n=a(37762),l=a(29439),i=a(72791),s=a(98094),o=a(32589),c=a(52864),d=a(39230),r=a(80184);t.Z=function(e){var t=e.staff,a=e.viewAs,u=(0,d.$G)().t,v=(0,i.useState)(""),f=(0,l.Z)(v,2),_=f[0],h=f[1];return(0,i.useEffect)((function(){var e;if(null!==t&&void 0!==t&&null!==(e=t.staffDocuments)&&void 0!==e&&e.length){var a,l={},i=(0,n.Z)(null===t||void 0===t?void 0:t.staffDocuments);try{for(i.s();!(a=i.n()).done;){var s=a.value;l[null===s||void 0===s?void 0:s.documentName]=null===s||void 0===s?void 0:s.documentKey}}catch(o){i.e(o)}finally{i.f()}h(l)}}),[null===t||void 0===t?void 0:t.staffDocuments]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(c.Z,{labelTag:u("personal_info"),children:[(0,r.jsx)(o.Z,{labelText1:u("name"),labelValue1:"".concat((null===t||void 0===t?void 0:t.staffFirstName)||""," ").concat(null!==t&&void 0!==t&&t.staffMiddleName?null===t||void 0===t?void 0:t.staffMiddleName:""," ").concat((null===t||void 0===t?void 0:t.staffLastName)||""),labelText2:u("dob"),labelValue2:(null===t||void 0===t?void 0:t.staffDOB)||"",customStyleContainer:a?{width:"auto"}:""}),(0,r.jsx)(o.Z,{labelText1:u("gender"),labelValue1:(null===t||void 0===t?void 0:t.staffGender)||"",labelText2:u("mother_name"),labelValue2:(null===t||void 0===t?void 0:t.staffMotherName)||"",customStyleContainer:a?{width:"auto"}:""})]}),(0,r.jsx)(s.Z,{customStyle:a?{width:"100%"}:""}),(0,r.jsxs)(c.Z,{labelTag:u("other_personal"),children:[(0,r.jsx)(o.Z,{labelText1:u("dob"),labelValue1:(null===t||void 0===t?void 0:t.staffBirthPlace)||"",labelText2:u("mobile_bumber"),labelValue2:(null===t||void 0===t?void 0:t.staffPhoneNumber)||"",customStyleContainer:a?{width:"auto"}:""}),(0,r.jsx)(o.Z,{labelText1:u("adhar_number"),labelValue1:(null===t||void 0===t?void 0:t.staffAadharNumber)||"",labelText2:u("qualification"),labelValue2:(null===t||void 0===t?void 0:t.staffQualification)||"",customStyleContainer:a?{width:"auto"}:""})]}),(0,r.jsx)(s.Z,{customStyle:a?{width:"100%"}:""}),(0,r.jsxs)(c.Z,{labelTag:u("i_details"),children:[(0,r.jsx)(o.Z,{labelText1:u("nationality"),labelValue1:(null===t||void 0===t?void 0:t.staffNationality)||"",labelText2:u("cast_category"),labelValue2:(null===t||void 0===t?void 0:t.staffCastCategory)||"",customStyleContainer:a?{width:"auto"}:""}),(0,r.jsx)(o.Z,{labelText1:u("religion"),labelValue1:(null===t||void 0===t?void 0:t.staffReligion)||"",labelText2:u("mother_tongue"),labelValue2:(null===t||void 0===t?void 0:t.staffMTongue)||"",customStyleContainer:a?{width:"auto"}:""}),(0,r.jsx)(o.Z,{labelText1:u("cast"),labelValue1:(null===t||void 0===t?void 0:t.staffCast)||"",howManyField:1,customStyleContainer:a?{width:"auto"}:""})]}),(0,r.jsx)(s.Z,{customStyle:a?{width:"100%"}:""}),(0,r.jsx)(c.Z,{labelTag:u("address_"),children:(0,r.jsx)(o.Z,{labelText1:u("c_add"),labelValue1:(null===t||void 0===t?void 0:t.staffCurrentAddress)||"",labelText2:u("p_add"),labelValue2:(null===t||void 0===t?void 0:t.staffAddress)||"",customStyleContainer:a?{width:"auto"}:""})}),(0,r.jsx)(s.Z,{customStyle:a?{width:"100%"}:""}),(0,r.jsxs)(c.Z,{labelTag:u("prev_school_document"),children:[(0,r.jsx)(o.Z,{labelText1:u("prev_school"),labelValue1:(null===t||void 0===t?void 0:t.staffPreviousSchool)||"",labelText2:u("aadhar_back"),labelValue2:null===t||void 0===t?void 0:t.staffAadharBackCard,labelFile2:!0,customStyleContainer:a?{width:"auto"}:""}),(0,r.jsx)(o.Z,{labelText1:u("aadhar_front"),labelValue1:null===t||void 0===t?void 0:t.staffAadharFrontCard,labelFile1:!0,labelText2:u("caste_"),labelValue2:null===t||void 0===t?void 0:t.staffCasteCertificatePhoto,labelFile2:!0,customStyleContainer:a?{width:"auto"}:""}),(0,r.jsx)(o.Z,{labelText1:u("form_identity_view_label"),labelValue1:null===_||void 0===_?void 0:_.identityDocument,labelFile1:!0,labelText2:u("form_joining_transfer_letter_view_label"),labelValue2:null===_||void 0===_?void 0:_.joiningTransferLetter,labelFile2:!0,customStyleContainer:a?{width:"auto"}:""}),(0,r.jsx)(o.Z,{labelText1:u("form_leaving_transfer_letter_view_label"),labelValue1:null===_||void 0===_?void 0:_.leavingTransferCertificate,labelFile1:!0,labelText2:u("form_income_certificate_view_label"),labelValue2:null===_||void 0===_?void 0:_.incomeCertificate,labelFile2:!0,customStyleContainer:a?{width:"auto"}:""}),(0,r.jsx)(o.Z,{labelText1:u("form_last_year_marksheet_view_label"),labelValue1:null===_||void 0===_?void 0:_.lastYearMarksheet,labelFile1:!0,labelText2:u("form_nationality_certificate_view_label"),labelValue2:null===_||void 0===_?void 0:_.nationalityCertificate,labelFile2:!0,customStyleContainer:a?{width:"auto"}:""}),(0,r.jsx)(o.Z,{labelText1:u("form_domicile_certificate_view_label"),labelValue1:null===_||void 0===_?void 0:_.domicileCertificate,labelFile1:!0,labelText2:u("form_non_creamy_layer_view_label"),labelValue2:null===_||void 0===_?void 0:_.nonCreamyLayerCertificate,labelFile2:!0,customStyleContainer:a?{width:"auto"}:""})]}),(0,r.jsx)(s.Z,{customStyle:a?{width:"100%"}:""}),(0,r.jsxs)(c.Z,{labelTag:u("bank_details"),children:[(0,r.jsx)(o.Z,{labelText1:u("form_bank_name_label"),labelValue1:(null===t||void 0===t?void 0:t.staffBankName)||"",labelText2:u("form_ifsc_code_label"),labelValue2:(null===t||void 0===t?void 0:t.staffBankIfsc)||"",customStyleContainer:a?{width:"auto"}:""}),(0,r.jsx)(o.Z,{labelText1:u("acnt_holder"),labelValue1:(null===t||void 0===t?void 0:t.staffBankAccountHolderName)||"",labelText2:u("bank_passbook"),labelValue2:null===t||void 0===t?void 0:t.staffBankPassbook,labelFile2:!0,customStyleContainer:a?{width:"auto"}:""}),(0,r.jsx)(o.Z,{labelText1:u("account_holder"),labelValue1:(null===t||void 0===t?void 0:t.staffBankAccount)||"",howManyField:1,customStyleContainer:a?{width:"auto"}:""})]}),(0,r.jsx)(s.Z,{customStyle:a?{width:"100%"}:""})]})}},52864:function(e,t,a){a(72791);var n=a(55136),l=a(80184);t.Z=function(e){var t=e.labelTag,a=e.children;return(0,l.jsxs)("div",{className:n.Z.each_info_container,children:[(0,l.jsx)("h5",{children:t}),a]})}},65313:function(e,t,a){a.d(t,{J:function(){return o},QW:function(){return c},dh:function(){return i},eu:function(){return s}});var n=a(29439),l=a(6710),i=function(e){var t=(0,l.$1)(e);return{allAttendance:t.data,allAttendanceRefetch:t.refetch}},s=function(){var e=(0,l.sH)();return[(0,n.Z)(e,1)[0]]},o=function(){var e=(0,l.RH)();return[(0,n.Z)(e,1)[0]]},c=function(e){var t=(0,l.bd)(e);return{staffCalenderAttendance:t.data,staffCalenderAttendanceRefetch:t.refetch}}},51857:function(e,t){t.Z={search_backdrop:"SearchHeader_search_backdrop__MsKpG",search_card:"SearchHeader_search_card__-jNcg",search_container:"SearchHeader_search_container__NS7Om",search_container_text:"SearchHeader_search_container_text__bkolR",searchIcon:"SearchHeader_searchIcon__J7cNp",search_container_back:"SearchHeader_search_container_back__ZoXdV"}},55136:function(e,t){t.Z={staff_profile_container:"StaffProfile_staff_profile_container__GG5AM",staff_header_container:"StaffProfile_staff_header_container__avRlK",staff_header_function:"StaffProfile_staff_header_function__l9cDM",staff_header_text:"StaffProfile_staff_header_text__XX8rQ",staff_header_prev:"StaffProfile_staff_header_prev__ImXKU",staff_header_next:"StaffProfile_staff_header_next__jjoJr",staff_header_close:"StaffProfile_staff_header_close__wXG-N",staff_profile_photo_name:"StaffProfile_staff_profile_photo_name__WWUV4",staff_profile_photo_index:"StaffProfile_staff_profile_photo_index__-yyx9",each_info_container:"StaffProfile_each_info_container__Mo3TB",each_field_text:"StaffProfile_each_field_text__vvAvg",each_field_text_value:"StaffProfile_each_field_text_value__k1OsE",universal_hr:"StaffProfile_universal_hr__w130J",staff_profile_photo_container:"StaffProfile_staff_profile_photo_container__rFPEV",staff_profile_photo_info:"StaffProfile_staff_profile_photo_info__CxVDi",staff_profile_photo_image:"StaffProfile_staff_profile_photo_image__5f2cC",staff_profile_photo_edit:"StaffProfile_staff_profile_photo_edit__y03dk",each_field_container:"StaffProfile_each_field_container__0qKjw",each_field:"StaffProfile_each_field__18G-9",student_attendane_container:"StaffProfile_student_attendane_container__64BII",student_attendance_heading:"StaffProfile_student_attendance_heading__0hW2K",colours:"StaffProfile_colours__-7mIV",monthColours:"StaffProfile_monthColours__A3asC",percentage:"StaffProfile_percentage__GO1RT",presentcount:"StaffProfile_presentcount__u30HH",absentcount:"StaffProfile_absentcount__d+utq",link_hold_container:"StaffProfile_link_hold_container__0dRjX",link_hold_container_hostel:"StaffProfile_link_hold_container_hostel__LcldT",card_hold_container:"StaffProfile_card_hold_container__HQQcE",admission_fees:"StaffProfile_admission_fees__MoZHM",certificate_btn_container:"StaffProfile_certificate_btn_container__jui9m",certificate_btn:"StaffProfile_certificate_btn__3NWfg",admission_actions:"StaffProfile_admission_actions__ayyJD",staff_designation_btn:"StaffProfile_staff_designation_btn__4C3h7"}}}]);
//# sourceMappingURL=8652.ae6041b9.chunk.js.map