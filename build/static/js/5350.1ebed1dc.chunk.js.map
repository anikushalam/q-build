{"version":3,"file":"static/js/5350.1ebed1dc.chunk.js","mappings":"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","sources":["Dashboard/InsDashboard/Modals/library/LibraryModal.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { libraryChangeAction } from \"../../../../redux/store/library-slice\";\nimport {\n  useAssignLibraryHead,\n  useEditLibraryHead,\n} from \"../../../../hooks/member_tab/library-api\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport AssignStaffModal from \"../../../../Department/Institute/AssignStaff/AssignStaffModal\";\nimport Modal from \"../../../../optimized/Ui/Modal/Modal\";\nimport UserMemberContentWrapper from \"../../../../optimized/Ui/UserMember/UserMemberContentWrapper\";\nimport BorderBottom from \"../../../../optimized/Ui/Border/BorderBottom\";\nimport {\n  assestsFeedUrl,\n  assestsUserFinanceUrl,\n} from \"../../../../optimized/Services/UrlConfig/AssestsBaseUrl\";\nimport { imageShowUrl } from \"../../../../optimized/Services/UrlConfig/BaseUrl\";\nimport CreateButton from \"../../../../optimized/Ui/Button/CreateButton\";\nimport QvipleLoader from \"../../../../optimized/Loader/QvipleLoader\";\nimport style from \"../../../../optimized/UserStaffMember/FinanceManager/Income/Income.module.css\";\n\nfunction LibraryModal({ hideModal, edit, librarian, onParentRefetch }) {\n  const { t } = useTranslation();\n  const ids = useSelector((state) => state.idChange);\n  const navigate = useNavigate();\n  const params = useParams();\n  const [state, setState] = useState(\"\");\n  const [assignHead, setAssignHead] = useState(false);\n  const [disabled, setDisabled] = useState(false);\n\n  const [assignLibraryHead] = useAssignLibraryHead();\n  const [editLibraryHead] = useEditLibraryHead();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (edit) {\n      setState(librarian);\n    }\n  }, [edit]);\n  const libraryQuery = () => {\n    if (ids?.id !== \"\") {\n      setDisabled(true);\n      assignLibraryHead({\n        activate: {\n          sid: state?._id ?? \"\",\n        },\n        id: ids?.id,\n      }).then((res) => {\n        if (res.data.status) {\n          setDisabled(false);\n          dispatch(\n            libraryChangeAction.libraryQuery({\n              lid: res.data?.library,\n              lhead: state?._id,\n            })\n          );\n          navigate(`/q/${params?.username}/library`);\n        }\n      });\n    }\n  };\n\n  const editLibraryQuery = () => {\n    if (state?._id && librarian?._id) {\n      setDisabled(true);\n      editLibraryHead({\n        osid: librarian?._id,\n        nsid: state?._id,\n      }).then((res) => {\n        dispatch(\n          libraryChangeAction.libraryQuery({\n            lid: res.data?.library,\n            lhead: state?._id,\n          })\n        );\n        onParentRefetch();\n        setDisabled(false);\n        hideModal();\n      });\n    }\n  };\n\n  const onSelect = (val) => {\n    setState(val);\n  };\n\n  // console.info(\"librarian\", librarian);\n  //\n  return (\n    <>\n      {assignHead ? (\n        <AssignStaffModal\n          assignHead={assignHead}\n          headSelect={onSelect}\n          title={t(\"secect_library_head\")}\n          onClose={() => setAssignHead((pre) => !pre)}\n          disabledId={state?._id}\n        />\n      ) : (\n        <Modal onClose={() => hideModal(false)}>\n          <div className={style.modal_container}>\n            <UserMemberContentWrapper>\n              <div className={style.modal_container_outer_header}>\n                <div className={style.modal_container_header}>\n                  <h6>{edit ? t(\"edit_library\") : t(\"activate_library\")}</h6>\n                </div>\n                <img\n                  src={`${assestsUserFinanceUrl}/close.svg`}\n                  alt=\"close icon\"\n                  onClick={() => hideModal(false)}\n                />\n              </div>\n            </UserMemberContentWrapper>\n            <BorderBottom />\n            <UserMemberContentWrapper\n              customStyle={{\n                paddingTop: \"0\",\n              }}\n            >\n              <div\n                className={style.card_container_image}\n                onClick={() => setAssignHead(true)}\n                style={{\n                  cursor: \"pointer\",\n                }}\n              >\n                <img\n                  alt=\"not found\"\n                  src={\n                    state?.staffProfilePhoto\n                      ? `${imageShowUrl}/${state.staffProfilePhoto}`\n                      : `${assestsFeedUrl}/feed-user-avatar.svg`\n                  }\n                />\n                <div className={style.card_container_inner}>\n                  {!state?.staffFirstName ? (\n                    <>\n                      <h6>{t(\"assign_lib_head\")}</h6>\n                      <p>{t(\"search_from_joined_list\")}</p>\n                    </>\n                  ) : (\n                    <>\n                      <h6>{`${state?.staffFirstName ?? \"\"} \n                    ${state?.staffMiddleName ?? \"\"}\n                    ${state?.staffLastName ?? \"\"}`}</h6>\n                      <p>\n                        {t(\"index_number_1\")} {state?.staffROLLNO ?? \"\"}\n                      </p>\n                    </>\n                  )}\n                </div>\n              </div>\n              <CreateButton\n                label={edit ? \"update\" : \"activate\"}\n                onAction={edit ? editLibraryQuery : libraryQuery}\n              />\n            </UserMemberContentWrapper>\n            {disabled && <QvipleLoader />}\n          </div>\n        </Modal>\n      )}\n    </>\n  );\n}\n\nexport default LibraryModal;\n"],"names":["_ref","_state$staffFirstName","_state$staffMiddleNam","_state$staffLastName","_state$staffROLLNO","hideModal","edit","librarian","onParentRefetch","t","useTranslation","ids","useSelector","state","idChange","navigate","useNavigate","params","useParams","setState","useState","assignHead","setAssignHead","disabled","setDisabled","assignLibraryHead","useAssignLibraryHead","editLibraryHead","useEditLibraryHead","dispatch","useDispatch","useEffect","_jsx","_Fragment","children","AssignStaffModal","headSelect","val","title","onClose","pre","disabledId","_id","Modal","_jsxs","className","style","modal_container","UserMemberContentWrapper","modal_container_outer_header","modal_container_header","src","concat","assestsUserFinanceUrl","alt","onClick","BorderBottom","customStyle","paddingTop","card_container_image","cursor","staffProfilePhoto","imageShowUrl","assestsFeedUrl","card_container_inner","staffFirstName","staffMiddleName","staffLastName","staffROLLNO","CreateButton","label","onAction","editLibraryQuery","osid","nsid","then","res","_res$data2","libraryChangeAction","libraryQuery","lid","data","library","lhead","_state$_id","id","activate","sid","_res$data","status","username","QvipleLoader"],"sourceRoot":""}