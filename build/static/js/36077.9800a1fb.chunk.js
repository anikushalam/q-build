"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[36077],{48986:(e,t,n)=>{n.d(t,{Z:()=>_});var s=n(49806),l=n(38857),d=n(21348),i=n(90904),a=n(98684),o=n(39230),c=n(72791),r=n(57588),u=n(55336),v=n(1669),m=n(2651),h=n(93638),x=n(77302),j=n(88905),g=n(80184);const _=e=>{var t,n,_;let{title:Z,onClose:p,clsId:f,onAdd:N,academicDepartmentId:S}=e;const{t:y}=(0,o.$G)(),[b,C]=(0,c.useState)(""),[I,A]=(0,c.useState)([]),[k,P]=(0,c.useState)(!1),{classMasterAllDseStudent:B,classMasterAllDseStudentLoading:R}=(0,x.A)({data:{cid:f,page:1,limit:1e3,search:b,did:S},skip:!f}),D=(0,c.useCallback)((0,r.J)((e=>{C(e)}),1500),[]),T=e=>{null!==I&&void 0!==I&&I.includes(null===e||void 0===e?void 0:e._id)?A((t=>null===t||void 0===t?void 0:t.filter((t=>t!==(null===e||void 0===e?void 0:e._id))))):A((t=>[...t,null===e||void 0===e?void 0:e._id]))};return(0,g.jsx)(l.Z,{onClose:p,children:(0,g.jsxs)("div",{className:s.Z.modal_container,children:[(0,g.jsx)(d.Z,{children:(0,g.jsxs)("div",{className:s.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:s.Z.modal_container_header,children:(0,g.jsx)("h6",{children:y(null!==Z&&void 0!==Z?Z:"add_dse_students")})}),(0,g.jsxs)("div",{className:s.Z.modal_container_btn_container,children:[k?(0,g.jsx)(h.Z,{label:y("remove_all"),count:null===I||void 0===I?void 0:I.length,onAction:()=>{A([]),P(!1)},customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}):(0,g.jsx)(h.Z,{label:y("select_all"),count:null===I||void 0===I?void 0:I.length,onAction:()=>{let e=[];for(let t of null===B||void 0===B?void 0:B.list)e.push(null===t||void 0===t?void 0:t._id);A(e),P(!0)},customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,g.jsx)(h.Z,{label:y("add"),onAction:()=>{N(I)},customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,g.jsx)("img",{src:"".concat(a.J7,"/close.svg"),alt:"close icon",onClick:p})]})]})}),(0,g.jsx)(i.Z,{}),(0,g.jsxs)(d.Z,{customStyle:{paddingBottom:"1rem"},children:[(0,g.jsxs)("div",{className:s.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,g.jsx)("input",{type:"text",placeholder:y("search"),className:s.Z.assign_search_input,onChange:e=>{e.target.value?D(e.target.value):C("")},style:{width:"100%"}}),(0,g.jsx)("img",{src:"".concat(a.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===B||void 0===B||null===(t=B.list)||void 0===t?void 0:t.map((e=>(0,g.jsx)(j.Z,{student:e,onSelect:T,selectedId:I},null===e||void 0===e?void 0:e._id))),R?b?(0,g.jsx)(u.Z,{}):(0,g.jsx)(v.Z,{}):b?0===(null===B||void 0===B||null===(n=B.list)||void 0===n?void 0:n.length)&&(0,g.jsx)(m.Z,{title:"No dse student found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===B||void 0===B||null===(_=B.list)||void 0===_?void 0:_.length)&&(0,g.jsx)(m.Z,{title:"No dse student.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})}},59244:(e,t,n)=>{n.d(t,{Z:()=>_});var s=n(49806),l=n(38857),d=n(21348),i=n(90904),a=n(98684),o=n(39230),c=n(72791),r=n(57588),u=n(55336),v=n(1669),m=n(2651),h=n(93638),x=n(77302),j=n(88905),g=n(80184);const _=e=>{var t,n,_;let{title:Z,onClose:p,clsId:f,onAdd:N,academicDepartmentId:S}=e;const{t:y}=(0,o.$G)(),[b,C]=(0,c.useState)(""),[I,A]=(0,c.useState)([]),[k,P]=(0,c.useState)(!1),{classMasterAllStudent:B,classMasterAllStudentLoading:R}=(0,x.BQ)({data:{cid:f,page:1,limit:1e3,search:b,did:S},skip:!f}),D=(0,c.useCallback)((0,r.J)((e=>{C(e)}),1500),[]),T=e=>{null!==I&&void 0!==I&&I.includes(null===e||void 0===e?void 0:e._id)?A((t=>null===t||void 0===t?void 0:t.filter((t=>t!==(null===e||void 0===e?void 0:e._id))))):A((t=>[...t,null===e||void 0===e?void 0:e._id]))};return(0,g.jsx)(l.Z,{onClose:p,children:(0,g.jsxs)("div",{className:s.Z.modal_container,children:[(0,g.jsx)(d.Z,{children:(0,g.jsxs)("div",{className:s.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:s.Z.modal_container_header,children:(0,g.jsx)("h6",{children:y(null!==Z&&void 0!==Z?Z:"add_students")})}),(0,g.jsxs)("div",{className:s.Z.modal_container_btn_container,children:[k?(0,g.jsx)(h.Z,{label:y("remove_all"),count:null===I||void 0===I?void 0:I.length,onAction:()=>{A([]),P(!1)},customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}):(0,g.jsx)(h.Z,{label:y("select_all"),count:null===I||void 0===I?void 0:I.length,onAction:()=>{let e=[];for(let t of null===B||void 0===B?void 0:B.list)e.push(null===t||void 0===t?void 0:t._id);A(e),P(!0)},customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,g.jsx)(h.Z,{label:y("add"),onAction:()=>{N(I)},customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,g.jsx)("img",{src:"".concat(a.J7,"/close.svg"),alt:"close icon",onClick:p})]})]})}),(0,g.jsx)(i.Z,{}),(0,g.jsxs)(d.Z,{customStyle:{paddingBottom:"1rem"},children:[(0,g.jsxs)("div",{className:s.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,g.jsx)("input",{type:"text",placeholder:y("search"),className:s.Z.assign_search_input,onChange:e=>{e.target.value?D(e.target.value):C("")},style:{width:"100%"}}),(0,g.jsx)("img",{src:"".concat(a.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===B||void 0===B||null===(t=B.list)||void 0===t?void 0:t.map((e=>(0,g.jsx)(j.Z,{student:e,onSelect:T,selectedId:I},null===e||void 0===e?void 0:e._id))),R?b?(0,g.jsx)(u.Z,{}):(0,g.jsx)(v.Z,{}):b?0===(null===B||void 0===B||null===(n=B.list)||void 0===n?void 0:n.length)&&(0,g.jsx)(m.Z,{title:"No student found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===B||void 0===B||null===(_=B.list)||void 0===_?void 0:_.length)&&(0,g.jsx)(m.Z,{title:"No student.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})}},88905:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(98684),l=n(9228),d=n(1095),i=n(39230),a=n(80184);const o=e=>{var t,n,o,c;let{student:r,onSelect:u,selectedId:v}=e;const{t:m}=(0,i.$G)();return(0,a.jsxs)("div",{className:l.Z.sf_card_hover,style:{justifyContent:"flex-start",gap:"1rem",alignItems:"center"},onClick:()=>{u(r)},children:[null!==v&&void 0!==v&&v.includes(null===r||void 0===r?void 0:r._id)?(0,a.jsx)("img",{src:"".concat(s.U_,"/check.svg"),alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,a.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"".concat(s.U_,"/uncheck.svg"),alt:"icon"}),(0,a.jsxs)("div",{className:l.Z.sf_card_contatiner,children:[(0,a.jsx)("img",{src:null!==r&&void 0!==r&&r.studentProfilePhoto?"".concat(d.yI,"/").concat(r.studentProfilePhoto):"".concat(s.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,a.jsxs)("div",{className:l.Z.sf_card_contatiner_inner,children:[(0,a.jsx)("h6",{children:"".concat(null!==(t=null===r||void 0===r?void 0:r.studentFirstName)&&void 0!==t?t:""," ").concat(null!==(n=null===r||void 0===r?void 0:r.studentMiddleName)&&void 0!==n?n:""," ").concat(null!==(o=null===r||void 0===r?void 0:r.studentLastName)&&void 0!==o?o:"")}),(0,a.jsxs)("p",{children:[m("gr_number")," ",": ",null!==(c=null===r||void 0===r?void 0:r.studentGRNO)&&void 0!==c?c:""]})]})]})]})}},36077:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var s=n(39230),l=n(72791),d=n(98684),i=n(56959),a=n(90904),o=n(21348),c=n(77302),r=n(57588),u=n(2651),v=n(55336),m=n(1669),h=n(93638),x=n(89064),j=n(80184);const g=e=>{let{onClose:t,menuData:n,onRefetch:d,subjectId:i}=e;const{t:a}=(0,s.$G)(),[o,r]=(0,l.useState)(!1),[u]=(0,c.kK)();return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(x.Z,{onClose:t,disabled:o,children:(0,j.jsx)("h6",{onClick:()=>{null!==n&&void 0!==n&&n._id&&i&&(r((e=>!e)),u({sid:i,bodyParameter:{students:[null===n||void 0===n?void 0:n._id]}}).then((()=>{d(),r((e=>!e)),t()})))},children:a("remove")})})})};var _=n(9228),Z=n(1095),p=n(16871),f=n(43504);const N=e=>{var t,n,i,a;let{student:o,openAs:c,onRefetch:r,subjectId:u}=e;const[v,m]=(0,l.useState)(!1),h=(0,p.UO)(),{t:x}=(0,s.$G)(),N=e=>{e&&e.preventDefault(),m((e=>!e))};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(f.rU,{to:"/q/".concat(h.username,"/student/profile"),state:{sid:null===o||void 0===o?void 0:o._id,viewAs:c?"SUBJECT_TEACHER":"INSTITUTE"},children:(0,j.jsxs)("div",{className:_.Z.iadcc_card_hover,children:[(0,j.jsxs)("div",{className:_.Z.sf_card_contatiner,children:[(0,j.jsx)("img",{src:null!==o&&void 0!==o&&o.studentProfilePhoto?"".concat(Z.yI,"/").concat(o.studentProfilePhoto):"".concat(d.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar",style:{width:"2.5rem",height:"2.5rem"}}),(0,j.jsxs)("div",{className:_.Z.sf_card_contatiner_inner,children:[(0,j.jsx)("h6",{children:"".concat(null!==(t=null===o||void 0===o?void 0:o.studentFirstName)&&void 0!==t?t:""," ").concat(null!==(n=null===o||void 0===o?void 0:o.studentMiddleName)&&void 0!==n?n:""," ").concat(null!==(i=null===o||void 0===o?void 0:o.studentLastName)&&void 0!==i?i:"")}),(0,j.jsxs)("p",{children:[x("gr_number")," ",": ",null!==(a=null===o||void 0===o?void 0:o.studentGRNO)&&void 0!==a?a:""]})]})]}),(0,j.jsx)("img",{src:"".concat(d.J7,"/menu.svg"),alt:"menu icon",onClick:N})]})}),v&&(0,j.jsx)(g,{onClose:N,menuData:o,onRefetch:r,subjectId:u})]})};var S=n(59244),y=n(49806),b=n(38857);const C=e=>{var t,n,l,i;let{student:a}=e;const{t:o}=(0,s.$G)();return(0,j.jsx)("div",{className:_.Z.sf_card_hover,children:(0,j.jsxs)("div",{className:_.Z.sf_card_contatiner,children:[(0,j.jsx)("img",{src:null!==a&&void 0!==a&&a.studentProfilePhoto?"".concat(Z.yI,"/").concat(a.studentProfilePhoto):"".concat(d.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,j.jsxs)("div",{className:_.Z.sf_card_contatiner_inner,children:[(0,j.jsx)("h6",{children:"".concat(null!==(t=null===a||void 0===a?void 0:a.studentFirstName)&&void 0!==t?t:""," ").concat(null!==(n=null===a||void 0===a?void 0:a.studentMiddleName)&&void 0!==n?n:""," ").concat(null!==(l=null===a||void 0===a?void 0:a.studentLastName)&&void 0!==l?l:"")}),(0,j.jsxs)("p",{children:[o("gr_number")," ",": ",null!==(i=null===a||void 0===a?void 0:a.studentGRNO)&&void 0!==i?i:""]})]})]})})},I=e=>{var t;let{clsId:n,onClose:i,onRefetch:r}=e;const{t:x}=(0,s.$G)(),[g,_]=(0,l.useState)([]),[Z,p]=(0,l.useState)(!1),f=(0,l.useRef)(),N=(0,l.useRef)(),{classMasterAllStudent:S,classMasterAllStudentLoading:I}=(0,c.BQ)({data:{cid:n,page:1,limit:1e3,search:""},skip:!n});(0,l.useEffect)((()=>{null!==S&&void 0!==S&&S.list&&_(null===S||void 0===S?void 0:S.list)}),[null===S||void 0===S?void 0:S.list]);const A=e=>{const t=[...g],n=t[f.current];t.splice(f.current,1),t.splice(N.current,0,n),f.current=null,N.current=null,_(t)};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(b.Z,{onClose:i,children:(0,j.jsxs)("div",{className:y.Z.modal_container,children:[(0,j.jsx)(o.Z,{children:(0,j.jsxs)("div",{className:y.Z.modal_container_outer_header,children:[(0,j.jsx)("div",{className:y.Z.modal_container_header,children:(0,j.jsx)("h6",{children:x("reshuffle_student_list")})}),(0,j.jsxs)("div",{className:y.Z.modal_container_btn_container,children:[(0,j.jsx)(h.Z,{label:x("save_resuffle"),onAction:()=>{},customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,j.jsx)("img",{src:"".concat(d.J7,"/close.svg"),alt:"close icon",onClick:i})]})]})}),(0,j.jsx)(a.Z,{}),(0,j.jsxs)(o.Z,{customStyle:{paddingBottom:"1rem"},children:[null===g||void 0===g?void 0:g.map(((e,t)=>(0,j.jsx)("div",{draggable:!0,onDragStart:e=>{return n=t,void(f.current=n);var n},onDragEnter:e=>{return n=t,void(N.current=n);var n},onDragEnd:A,children:(0,j.jsx)(C,{student:e})},null===e||void 0===e?void 0:e._id))),I?(0,j.jsx)(m.Z,{}):0===(null===S||void 0===S||null===(t=S.list)||void 0===t?void 0:t.length)&&(0,j.jsx)(u.Z,{title:"No student.",customStyleContainer:{marginTop:"1.5rem"}})]})]})}),Z&&(0,j.jsx)(v.Z,{})]})};var A=n(48986);const k=e=>{var t,n,x,g,_,f,y;let{clsId:b,openAs:C}=e;const{t:k}=(0,s.$G)(),P=(0,p.TH)(),[B,R]=(0,l.useState)(""),[D,T]=(0,l.useState)(!1),[G,J]=(0,l.useState)(!1),[M,$]=(0,l.useState)(!1),[w,E]=(0,l.useState)(!1),[L]=(0,c._)(),[F]=(0,c.KC)(),{onePracticalBatchClasses:U,onePracticalBatchClassesLoading:q,onePracticalBatchClassesRefetch:O}=(0,c.U$)({data:{sid:P.state.subId,search:B},skip:!b}),W=(0,l.useCallback)((0,r.J)((e=>{R(e)}),1500),[]),z=()=>{T((e=>!e))},H=()=>{J((e=>!e))},K=()=>{$((e=>!e))},Q=e=>{(null===e||void 0===e?void 0:e.length)>0&&P.state.subId&&(E((e=>!e)),F({sid:P.state.subId,bodyParameter:{students:e}}).then((()=>{O(),E((e=>!e)),z()})).catch({}))};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o.Z,{children:(0,j.jsxs)("div",{className:i.Z.fm_header_container,children:[(0,j.jsx)("h6",{children:null!==(t=null===(n=P.state)||void 0===n?void 0:n.subjectName)&&void 0!==t?t:""}),(0,j.jsxs)("div",{className:i.Z.fm_search,children:[(0,j.jsx)("section",{className:i.Z.fm_search_container,children:(0,j.jsxs)("div",{className:i.Z.fm_search_container_inner,children:[(0,j.jsx)("img",{className:i.Z.fm_search_icon,alt:"search icon",src:"".concat(d.dB,"/navbar-search.svg")}),(0,j.jsx)("input",{type:"text",placeholder:k("search"),onChange:e=>{e.target.value?W(e.target.value):R("")},style:{minWidth:"200px"}})]})}),(0,j.jsx)(h.Z,{label:k("resuffle"),customStyle:{margin:"0",padding:"0.4rem 1rem",minWidth:"fit-content"},onAction:K}),(0,j.jsx)(h.Z,{label:k("add_student"),customStyle:{margin:"0",padding:"0.4rem 1rem",minWidth:"fit-content"},onAction:z}),(0,j.jsx)(h.Z,{label:k("add_dse_student"),customStyle:{margin:"0",padding:"0.4rem 1rem",minWidth:"fit-content"},onAction:H}),(0,j.jsx)("img",{src:"".concat(d.J7,"/export.svg"),alt:"icon",title:"List Export",onClick:()=>{P.state.subId&&(E((e=>!e)),L({sid:P.state.subId}).then((e=>{var t;if(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.set){var n;E((e=>!e));const t=window.open("".concat(Z.q2,"/").concat(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.set),"_blank","noopener,noreferrer");t&&(t.opener=null)}else E((e=>!e))})).catch({}))}})]})]})}),(0,j.jsx)(a.Z,{}),(0,j.jsxs)(o.Z,{customStyle:{paddingTop:"0.3rem",paddingBottom:"1rem"},children:[null===U||void 0===U||null===(x=U.theory_students)||void 0===x?void 0:x.map((e=>(0,j.jsx)(N,{student:e,openAs:C,subjectId:P.state.subId,onRefetch:O},null===e||void 0===e?void 0:e._id))),q?B?(0,j.jsx)(v.Z,{}):(0,j.jsx)(m.Z,{}):B?0===(null===U||void 0===U||null===(g=U.theory_students)||void 0===g?void 0:g.length)&&(0,j.jsx)(u.Z,{title:"No student found related this search."}):0===(null===U||void 0===U||null===(_=U.theory_students)||void 0===_?void 0:_.length)&&(0,j.jsx)(u.Z,{title:"No student."})]}),D&&(0,j.jsx)(S.Z,{onClose:z,clsId:b,onAdd:Q,academicDepartmentId:null===(f=P.state)||void 0===f?void 0:f.departmentId}),G&&(0,j.jsx)(A.Z,{onClose:H,clsId:b,onAdd:Q,academicDepartmentId:null===(y=P.state)||void 0===y?void 0:y.departmentId}),M&&(0,j.jsx)(I,{onClose:K,clsId:b,onRefetch:O}),w&&(0,j.jsx)(v.Z,{})]})}}}]);
//# sourceMappingURL=36077.9800a1fb.chunk.js.map