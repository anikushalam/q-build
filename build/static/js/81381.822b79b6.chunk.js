"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[81381],{53967:(e,n,l)=>{l.d(n,{Z:()=>d});var i=l(72791);const t=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],o=["January","February","March","April","May","June","July","August","September","October","November","December"],d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;const l=new Date,d="".concat(l.getDate(),"-").concat(l.getMonth()+1,"-").concat(l.getFullYear()),[a,s]=(0,i.useState)(l),c=new Date(a.getFullYear(),a.getMonth()+1,0).getDate(),u=new Date(a.getFullYear(),a.getMonth(),1).getDay(),r=[1,2,3,4,5,6,0].indexOf(u)+1;let v=1;const p={},m=[];for(let i=1;i<7;i++){for(let e=1;e<8;e++)p[i]||(p[i]=[]),1===i?e<r||(p[i]=[...p[i],{classes:"",date:"".concat(v,"-").concat(a.getMonth()+1,"-").concat(a.getFullYear()),value:v}],v++):i>1&&v<c+1&&(p[i]=[...p[i],{classes:"",date:"".concat(v,"-").concat(a.getMonth()+1,"-").concat(a.getFullYear()),value:v}],v++);p[i].map((e=>{const n=e.date.split("-")[0],l=new Date(a.getFullYear(),a.getMonth(),n).getDay();return m.push({date:e.date,day:l}),""}))}return{daysShort:e,monthNames:n,todayFormatted:d,calendarData:m,selectedDate:a,getPrevMonth:()=>{s((e=>new Date(e.getFullYear(),e.getMonth()-1,1)))},getNextMonth:()=>{s((e=>new Date(e.getFullYear(),e.getMonth()+1,1)))},switchMonth:e=>{s((n=>new Date(n.getFullYear(),n.getMonth()+(e-a.getMonth()),1))),console.log(o[a.getMonth()])}}}},9490:(e,n,l)=>{l.d(n,{Z:()=>a});var i=l(72791),t=l(53967),o=l(16313),d=l(80184);const a=e=>{let{setValidDate:n}=e;const{calendarData:l,selectedDate:a,todayFormatted:s,switchMonth:c,monthNames:u,getNextMonth:r,getPrevMonth:v}=(0,t.Z)(),[p,m]=(0,i.useState)(s),[_,h]=(0,i.useState)(!1);(0,i.useEffect)((()=>{if(p){const e=p.split("-"),l=e[0]>9?e[0]:"0".concat(e[0]),i=e[1]>9?e[1]:"0".concat(e[1]),t=e[2];n("".concat(t,"-").concat(i,"-").concat(l))}}),[p]);const x=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],g=Math.floor(l.map((function(e){return e.date})).indexOf(p)/7),[j,f]=(0,i.useState)(g),Z=7*j,N=Math.ceil(l.length/7),y=l.slice(Z,Z+7).map(((e,n)=>(0,d.jsxs)("div",{className:e.date===p?"".concat(o.Z.date," ").concat(o.Z.clickedDate):o.Z.date,onClick:()=>m(e.date),children:[(0,d.jsx)("h6",{children:e.date.split("-")[0]}),(0,d.jsx)("p",{children:x[e.day]})]},n)));return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:o.Z.changemonth,children:[(0,d.jsxs)("h6",{onClick:()=>h(!_),children:[u[a.getMonth()]," ",a.getFullYear()]}),(0,d.jsx)("img",{alt:"not found",src:"/images/dropdown-icon.svg",onClick:()=>h(!_)}),_&&(0,d.jsx)("div",{className:o.Z.selectMonthList,children:["January","February","March","April","May","June","July","August","September","October","November","December"].map(((e,n)=>(0,d.jsx)("div",{className:o.Z.month,onClick:()=>{c(n),h(!1)},children:e},n)))})]}),(0,d.jsxs)("div",{className:o.Z.calender,children:[(0,d.jsx)("div",{className:o.Z.arrowbtn,onClick:()=>{j>0?f((e=>e-1)):(f(N-1),v())},children:(0,d.jsx)("img",{alt:"not found",src:"/images/members/left-icon.svg"})}),(0,d.jsx)("div",{className:o.Z.dates,children:y}),(0,d.jsx)("div",{className:o.Z.arrowbtn,onClick:()=>{j+1<N?f((e=>e+1)):(f(0),r())},children:(0,d.jsx)("img",{alt:"not found",src:"/images/members/right-icon.svg"})})]})]})}},7562:(e,n,l)=>{l.d(n,{nj:()=>i});const i=[{id:"nskjdfs",key:!0,name:"yes"},{id:"snkjdfs",key:!1,name:"no"}]},31697:(e,n,l)=>{l.d(n,{Z:()=>d});var i=l(39230),t=l(80476),o=l(80184);const d=e=>{let{label:n,count:l,onAction:d,customStyle:a}=e;const{t:s}=(0,i.$G)();return(0,o.jsxs)("div",{className:t.Z.btn_container,onClick:e=>{d(e)},style:a,children:[l>0&&(0,o.jsx)("span",{style:{marginRight:"0.8rem"},children:l}),s(n)]})}},11468:(e,n,l)=>{l.d(n,{Z:()=>a});var i=l(39230),t=l(52245),o=l(80184);const d=e=>{var n;return e?null===e||void 0===e||null===(n=e.split("\n"))||void 0===n?void 0:n.length:2},a=e=>{let{label:n,name:l,type:a,value:s,onChange:c,placeholder:u,errorShow:r,disabled:v,customFormInputContainer:p,customFormInputLabel:m}=e;const{t:_}=(0,i.$G)();return(0,o.jsxs)("div",{className:t.Z.form_input_container,style:p,children:[n&&(0,o.jsxs)("label",{className:t.Z.form_input_label,htmlFor:l,style:m,children:[n,r&&(0,o.jsxs)("span",{className:t.Z.form_input_label_error,children:["* ",_("form_require_label")]})]}),(0,o.jsx)("textarea",{className:t.Z.form_textarea_input,type:a,value:s,onChange:c,name:l,placeholder:u,rows:d(s),disabled:v,style:{"--textarea-height":"".concat(20*d(s),"px")}})]})}},63162:(e,n,l)=>{l.d(n,{Z:()=>c});var i=l(39230),t=l(51416),o=l(43504),d=l(72791),a=l(80184);const s=e=>{let{tab:n,isActive:l,isLink:d,parentState:s,onAction:c,url:u}=e;const{t:r}=(0,i.$G)();return d?(0,a.jsx)(o.rU,{className:l?t.Z.horizontal_tab_card_active:t.Z.horizontal_tab_card,to:u,state:s,children:(0,a.jsx)("h6",{children:r(null===n||void 0===n?void 0:n.label)})}):(0,a.jsx)("div",{className:l?t.Z.horizontal_tab_card_active:t.Z.horizontal_tab_card,onClick:()=>{c(null===n||void 0===n?void 0:n.id)},children:(0,a.jsx)("h6",{children:r(null===n||void 0===n?void 0:n.label)})})},c=(0,d.memo)(s)},98967:(e,n,l)=>{l.d(n,{Z:()=>o});var i=l(51416),t=l(80184);const o=e=>{let{children:n}=e;return(0,t.jsx)("div",{className:i.Z.horizontal_tab_wrapper,children:n})}},26071:(e,n,l)=>{l.d(n,{Z:()=>d});var i=l(51416),t=l(39230),o=l(80184);const d=e=>{let{tile:n,onTile:l,activeTile:d,customTileChild:a}=e;const{t:s}=(0,t.$G)();return(0,o.jsx)("div",{className:(null===n||void 0===n?void 0:n.key)===d?i.Z.tile_tile_active:i.Z.tile_tile,onClick:()=>l(null===n||void 0===n?void 0:n.key),style:a,children:s(null===n||void 0===n?void 0:n.name)})}},20659:(e,n,l)=>{l.d(n,{Z:()=>d});var i=l(51416),t=l(39230),o=l(80184);const d=e=>{let{label:n,customTileLabel:l,customTileContainer:d,customTileStyle:a,children:s}=e;const{t:c}=(0,t.$G)();return(0,o.jsxs)("div",{className:i.Z.tile_container,style:a,children:[n&&(0,o.jsx)("h6",{className:i.Z.tile_label,style:l,children:c(n)}),(0,o.jsx)("section",{className:i.Z.tile_tile_container,style:d,children:s})]})}},79110:(e,n,l)=>{l.d(n,{Z:()=>u});var i=l(16871),t=l(75285),o=l(1095),d=l(98684),a=l(39230),s=l(66239),c=l(80184);const u=e=>{var n,l,u,r,v,p,m,_,h,x,g,j,f,Z,N,y,b,I,S,C,A,k,w,P,D,M,F,O;let{applicant:T,instituteId:R}=e;const{t:E}=(0,a.$G)(),q=(0,i.UO)(),L=(0,i.s0)();return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:t.Z.oac_container,onClick:()=>{var e;L("/q/".concat(q.username,"/student/profile"),{state:{sid:null===T||void 0===T||null===(e=T.student)||void 0===e?void 0:e._id,instituteId:R,viewAs:"ADMISSION_ADMIN",collectAccess:"Other"}})},title:"View Profile",children:[(0,c.jsxs)("div",{className:t.Z.oac_container_inner,children:[(0,c.jsx)("img",{alt:"Student Request Avatar",src:null!==T&&void 0!==T&&null!==(n=T.student)&&void 0!==n&&n.studentProfilePhoto?"".concat(o.yI,"/").concat(null===T||void 0===T||null===(l=T.student)||void 0===l?void 0:l.studentProfilePhoto):"".concat(d.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,c.jsxs)("div",{className:t.Z.oac_container_inner_info,children:[(0,c.jsx)("h6",{children:"".concat(null!==(u=null===T||void 0===T||null===(r=T.student)||void 0===r?void 0:r.studentFirstName)&&void 0!==u?u:""," ").concat(null!==T&&void 0!==T&&null!==(v=T.student)&&void 0!==v&&v.studentMiddleName?null===T||void 0===T||null===(p=T.student)||void 0===p?void 0:p.studentMiddleName:""," ").concat(null!==(m=null===T||void 0===T||null===(_=T.student)||void 0===_?void 0:_.studentLastName)&&void 0!==m?m:"")}),(0,c.jsxs)("p",{children:[E("rs_only")," ",null===T||void 0===T?void 0:T.refund_amount," ","Refund"===(null===T||void 0===T?void 0:T.payment_status)&&"Refunded"]})]})]}),(0,c.jsxs)("div",{className:t.Z.oac_container_contact,children:[(0,c.jsxs)("div",{className:t.Z.oac_container_contact_inner,children:[(0,c.jsx)("img",{src:"".concat(d.U_,"/gender.svg"),alt:"email icon"}),(0,c.jsx)("p",{children:null===T||void 0===T||null===(h=T.student)||void 0===h?void 0:h.studentGender})]}),(0,c.jsxs)("div",{className:t.Z.oac_container_contact_inner,children:[(0,c.jsx)("img",{src:"".concat(d.U_,"/phone.svg"),alt:"phone icon"}),(0,c.jsx)("p",{children:null!==T&&void 0!==T&&null!==(x=T.student)&&void 0!==x&&null!==(g=x.user)&&void 0!==g&&g.userPhoneNumber?null===T||void 0===T||null===(j=T.student)||void 0===j||null===(f=j.user)||void 0===f?void 0:f.userPhoneNumber:null!==T&&void 0!==T&&null!==(Z=T.student)&&void 0!==Z&&null!==(N=Z.user)&&void 0!==N&&N.userEmail?null===T||void 0===T||null===(y=T.student)||void 0===y||null===(b=y.user)||void 0===b?void 0:b.userEmail:null!==T&&void 0!==T&&null!==(I=T.student)&&void 0!==I&&I.studentPhoneNumber?null===T||void 0===T||null===(S=T.student)||void 0===S?void 0:S.studentPhoneNumber:null!==T&&void 0!==T&&null!==(C=T.student)&&void 0!==C&&C.studentParentsPhoneNumber?null===T||void 0===T||null===(A=T.student)||void 0===A?void 0:A.studentParentsPhoneNumber:null!==(k=null===T||void 0===T||null===(w=T.student)||void 0===w?void 0:w.studentEmail)&&void 0!==k?k:""})]})]}),(0,c.jsxs)("div",{className:t.Z.oac_container_stuff,children:[(0,c.jsx)("a",{href:"".concat(o.q2,"/").concat(null===T||void 0===T||null===(P=T.student)||void 0===P||null===(D=P.application_print)||void 0===D||null===(M=D[0])||void 0===M?void 0:M.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,c.jsx)("img",{src:"".concat(d.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),null===T||void 0===T||null===(F=T.student)||void 0===F||null===(O=F.fee_receipt)||void 0===O?void 0:O.map(((e,n)=>n>2?"":(0,c.jsx)(s.Z,{rid:null===e||void 0===e?void 0:e._id,receiptFile:null===e||void 0===e?void 0:e.receipt_file},null===e||void 0===e?void 0:e._id)))]})]})})}},45523:(e,n,l)=>{l.r(n),l.d(n,{default:()=>Ge});var i=l(43504),t=l(16871),o=l(43317),d=l(72791),a=l(39230),s=l(23441),c=l(91427),u=l(57588),r=l(98684),v=l(56959),p=l(21348),m=l(90904),_=l(98967),h=l(63162),x=l(48293),g=l(16925),j=l(9490),f=l(75285),Z=l(85794),N=l(55336),y=l(93638),b=l(80184);const I=e=>{var n,l,i,s,c,u,v,_,h,I,C;let{applicationDetail:A,onClose:k,applicationDetailApplicablePending:w}=e;const P=(0,t.TH)(),D=(0,t.UO)(),M=(0,t.s0)(),{t:F}=(0,a.$G)(),O=new Date,[T,R]=(0,d.useState)(!1),[E,q]=(0,d.useState)(!1),[L,U]=(0,d.useState)(null===(n=O.toISOString())||void 0===n?void 0:n.substring(0,10)),[G,Y]=(0,d.useState)({open:!1,msg:"",variant:"error"}),[z]=(0,o.b6)(),{admissionOngoingApplicationDailyCollect:J}=(0,o.Be)({data:{appId:null===A||void 0===A?void 0:A._id,valid_date:L},skip:!(null!==A&&void 0!==A&&A._id)}),B=()=>{null!==A&&void 0!==A&&A._id&&(R((e=>!e)),z({appId:null===A||void 0===A?void 0:A._id}).then((e=>{var n;if(null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.complete_status){var l;let e="Institute"===(null===(l=P.state)||void 0===l?void 0:l.urlOffSet)?"/q/".concat(D.username,"/institute/member/admission?type=ongoing-detail"):"/q/".concat(D.username,"/member/staff/admission?type=ongoing-detail");M(e,{state:P.state})}else Y({msg:null===e||void 0===e?void 0:e.data.message,open:!0,variant:"error"});k(),R((e=>!e))})).catch({}))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.Z,{onClose:k,children:(0,b.jsxs)("div",{className:g.Z.modal_container,children:[(0,b.jsx)(p.Z,{children:(0,b.jsxs)("div",{className:g.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:g.Z.modal_container_header,children:(0,b.jsx)("h6",{style:{cursor:"pointer",color:"#436dfa"},onClick:()=>q((e=>!e)),children:null===A||void 0===A?void 0:A.applicationName})}),(0,b.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:k})]})}),(0,b.jsx)(m.Z,{}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0"},children:[(0,b.jsx)(j.Z,{setValidDate:U}),E?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:f.Z.content2,children:[(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:F("total_received_application")}),(0,b.jsx)("h6",{children:null===A||void 0===A?void 0:A.receievedCount})]}),(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:F("total_selected_application")}),(0,b.jsx)("h6",{children:null===A||void 0===A?void 0:A.selectCount})]}),(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:F("total_confirmed_application")}),(0,b.jsx)("h6",{children:null===A||void 0===A?void 0:A.confirmCount})]}),(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:F("total_alloted_application")}),(0,b.jsx)("h6",{children:null===A||void 0===A?void 0:A.allotCount})]}),(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:F("total_cancelled_application")}),(0,b.jsx)("h6",{children:null===A||void 0===A?void 0:A.cancelCount})]})]}),(0,b.jsxs)("div",{className:f.Z.content3,children:[(0,b.jsxs)("div",{className:f.Z.appinforow1,children:[(0,b.jsx)("h6",{children:F("total_fees_received")}),(0,b.jsxs)("h6",{children:["Rs. ",null===A||void 0===A?void 0:A.collectedFeeCount]})]}),(0,b.jsxs)("div",{className:"".concat(f.Z.appinforow2," ").concat(f.Z.appinforowred),children:[(0,b.jsx)("h6",{children:F("total_fees_pending")}),(0,b.jsxs)("h6",{children:["Rs. ",null===A||void 0===A?void 0:A.remainingFee]})]}),(0,b.jsxs)("div",{className:"".concat(f.Z.appinforow2," ").concat(f.Z.appinforowred),children:[(0,b.jsx)("h6",{children:F("total_applicable_fees_pending")}),(0,b.jsxs)("h6",{children:["Rs. ",null!==w&&void 0!==w?w:0]})]}),S[null===(C=P.state)||void 0===C?void 0:C.isAuthorization]?null:(0,b.jsx)(y.Z,{label:F("complete_application"),onAction:B})]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:f.Z.content2,children:[(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:F("total_received_application")}),(0,b.jsx)("h6",{children:null!==(l=null===J||void 0===J?void 0:J.request_count)&&void 0!==l?l:0})]}),(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:F("total_selected_application")}),(0,b.jsx)("h6",{children:null!==(i=null===J||void 0===J?void 0:J.select_count)&&void 0!==i?i:0})]}),(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:F("total_confirmed_application")}),(0,b.jsx)("h6",{children:null!==(s=null===J||void 0===J?void 0:J.confirm_count)&&void 0!==s?s:0})]}),(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:F("total_alloted_application")}),(0,b.jsx)("h6",{children:null!==(c=null===J||void 0===J?void 0:J.allot_count)&&void 0!==c?c:0})]}),(0,b.jsxs)("div",{className:f.Z.appinforow,children:[(0,b.jsx)("h6",{children:F("total_cancelled_application")}),(0,b.jsx)("h6",{children:null!==(u=null===J||void 0===J?void 0:J.cancel_count)&&void 0!==u?u:0})]})]}),(0,b.jsxs)("div",{className:f.Z.content3,children:[(0,b.jsxs)("div",{className:f.Z.appinforow1,children:[(0,b.jsx)("h6",{children:F("total_fees_received")}),(0,b.jsxs)("h6",{children:["Rs. ",null!==(v=null===J||void 0===J?void 0:J.paid)&&void 0!==v?v:0]})]}),(0,b.jsxs)("div",{className:"".concat(f.Z.appinforow2," ").concat(f.Z.appinforowred),children:[(0,b.jsx)("h6",{children:F("total_fees_pending")}),(0,b.jsxs)("h6",{children:["Rs. ",null!==(_=null===J||void 0===J?void 0:J.remain)&&void 0!==_?_:0]})]}),(0,b.jsxs)("div",{className:"".concat(f.Z.appinforow2," ").concat(f.Z.appinforowred),children:[(0,b.jsx)("h6",{children:F("total_applicable_fees_pending")}),(0,b.jsxs)("h6",{children:["Rs."," ",null!==(h=null===J||void 0===J?void 0:J.applicable_pending)&&void 0!==h?h:0]})]}),S[null===(I=P.state)||void 0===I?void 0:I.isAuthorization]?null:(0,b.jsx)(y.Z,{label:F("complete_application"),onAction:B})]})]})]})]})}),T&&(0,b.jsx)(N.Z,{}),(0,b.jsx)(Z.Z,{eventState:G,eventStateHandler:Y})]})},S={isCompleted:!0},C=e=>{var n,l;let{applicationDetail:o,children:a}=e;const s=(0,t.TH)(),c=(0,t.UO)(),u=(0,t.s0)(),[x]=(0,i.lr)(),[g,j]=(0,d.useState)(""),f=(0,d.useCallback)((()=>{var e,n,l;let i="";i=k[null===(e=s.state)||void 0===e?void 0:e.isAuthorization]?"Institute"===(null===(n=s.state)||void 0===n?void 0:n.urlOffSet)?"/q/".concat(c.username,"/institute/member/admission?type=complete"):"/q/".concat(c.username,"/member/staff/admission?type=complete"):"Institute"===(null===(l=s.state)||void 0===l?void 0:l.urlOffSet)?"/q/".concat(c.username,"/institute/member/admission?type=ongoing"):"/q/".concat(c.username,"/member/staff/admission?type=ongoing"),u(i,{state:s.state})}),[u,s.state,c.username]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p.Z,{children:(0,b.jsxs)("div",{className:v.Z.fm_header_container,children:[(0,b.jsxs)("div",{className:v.Z.fm_header_start_container,style:{gap:"0.2rem"},children:[(0,b.jsx)("img",{alt:"search icon",src:"".concat(r.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:f}),(0,b.jsx)("h6",{children:null!==(n=null===(l=s.state)||void 0===l?void 0:l.applicationName)&&void 0!==n?n:""})]}),(0,b.jsxs)("div",{className:v.Z.fm_search,children:[(0,b.jsx)("img",{src:"".concat(r.U_,"/application-detail.svg"),alt:"icon",title:"Application details",onClick:()=>{j(1)}}),a]})]})}),(0,b.jsx)(m.Z,{}),(0,b.jsx)(_.Z,{children:A.map((e=>{var n,l;return(0,b.jsx)(h.Z,{tab:e,isLink:!0,isActive:null===(n=e.groupIs)||void 0===n?void 0:n.includes(x.get("n")),parentState:s.state,url:"Institute"===(null===(l=s.state)||void 0===l?void 0:l.urlOffSet)?"/q/".concat(c.username,"/institute/member/admission?type=ongoing-detail").concat(e.urlKey):"/q/".concat(c.username,"/member/staff/admission?type=ongoing-detail").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,b.jsx)(m.Z,{customStyleBorder:{marginTop:"0"}}),1===g?(0,b.jsx)(I,{applicationDetail:o,onClose:()=>{j("")}}):null]})},A=[{label:"application",id:"application",urlKey:"",groupIs:["",null]},{label:"docs_collection",id:"document",urlKey:"&n=document",groupIs:["document"]},{label:"fees_collection",id:"fees",urlKey:"&n=fees",groupIs:["fees"]},{label:"confirmed",id:"confirmed",urlKey:"&n=confirmed",groupIs:["confirmed","confirmed-multi"]},{label:"review",id:"review",urlKey:"&n=review",groupIs:["review","review-multi"]},{label:"allottment",id:"allottment",urlKey:"&n=allottment",groupIs:["allottment"]},{label:"cancelled",id:"cancelled",urlKey:"&n=cancelled",groupIs:["cancelled"]}],k={isCompleted:!0};var w=l(63687),P=l(2651),D=l(1669),M=l(1095),F=l(97892),O=l.n(F),T=l(23984),R=l(77123),E=l(31697),q=l(99183),L=l(61055),U=l(11468);const G=e=>{let{onClose:n,sid:l,appId:i,onRefetch:t}=e;const{t:s}=(0,a.$G)(),[c,u]=(0,d.useState)(!1),[v,_]=(0,d.useState)(""),[h,j]=(0,d.useState)({query:"",reason:""}),[f]=(0,o.u7)(),Z=e=>{j((n=>({...n,[e.target.name]:e.target.value})))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.Z,{onClose:n,children:(0,b.jsxs)("div",{className:g.Z.modal_container,children:[(0,b.jsx)(p.Z,{children:(0,b.jsxs)("div",{className:g.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:g.Z.modal_container_header,children:(0,b.jsx)("h6",{children:s("cancel_admission_application")})}),(0,b.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,b.jsx)(m.Z,{}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0"},children:[(0,b.jsx)(L.Z,{label:s("type_confirm_to_continue"),placeholder:s("type_confirm_to_continue"),name:"query",value:h.query,type:"text",onChange:Z,errorShow:v.query}),(0,b.jsx)(U.Z,{label:s("reason"),placeholder:s("please_enter_reject_reason"),name:"reason",value:h.reason,type:"text",onChange:Z,errorShow:v.reason}),(0,b.jsx)(y.Z,{label:"confirm",onAction:()=>{let e=(0,q.l)(h);(0,q.x)(e)?"Confirm"===h.query&&i&&l&&(u((e=>!e)),f({sid:l,appId:i,bodyParameter:h}).then((()=>{t(),u((e=>!e)),n()})).catch((()=>{u((e=>!e))}))):_(e)}})]})]})}),c&&(0,b.jsx)(N.Z,{})]})},Y=e=>{var n,l,i,s,c,u,v,p,m,_,h,x,g,j,Z,y,I,S,C,A,k,w,P,D,F,q,L,U;let{instituteId:Y,applicant:z,did:J,bid:B,cmid:V,appId:$,onRefetch:H}=e;const{t:W}=(0,a.$G)(),K=(0,t.UO)(),Q=(0,t.s0)(),[X,ee]=(0,d.useState)(""),[ne,le]=(0,d.useState)(!1),[ie]=(0,o.mW)(),te=(0,d.useCallback)((()=>{var e;Q("/q/".concat(K.username,"/student/profile"),{state:{sid:null===z||void 0===z||null===(e=z.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:Y}})}),[Y,null===z||void 0===z||null===(n=z.student)||void 0===n?void 0:n._id]),oe=()=>{ee("")};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:f.Z.oac_container,onClick:te,title:"View Profile",children:[(0,b.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==z&&void 0!==z&&null!==(l=z.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(M.yI,"/").concat(null===z||void 0===z||null===(i=z.student)||void 0===i?void 0:i.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,b.jsx)("h6",{children:"".concat(null!==(s=null===z||void 0===z||null===(c=z.student)||void 0===c?void 0:c.studentFirstName)&&void 0!==s?s:""," ").concat(null!==z&&void 0!==z&&null!==(u=z.student)&&void 0!==u&&u.studentMiddleName?null===z||void 0===z||null===(v=z.student)||void 0===v?void 0:v.studentMiddleName:""," ").concat(null!==(p=null===z||void 0===z||null===(m=z.student)||void 0===m?void 0:m.studentLastName)&&void 0!==p?p:"")}),(0,b.jsxs)("p",{children:[W("applied_on"),":"," ",O()(null===z||void 0===z?void 0:z.apply_on).format("DD MMM YYYY")]})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(r.U_,"/gender.svg"),alt:"email icon"}),(0,b.jsx)("p",{children:null===z||void 0===z||null===(_=z.student)||void 0===_?void 0:_.studentGender})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(r.U_,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{children:null!==z&&void 0!==z&&null!==(h=z.student)&&void 0!==h&&null!==(x=h.user)&&void 0!==x&&x.userPhoneNumber?null===z||void 0===z||null===(g=z.student)||void 0===g||null===(j=g.user)||void 0===j?void 0:j.userPhoneNumber:null!==z&&void 0!==z&&null!==(Z=z.student)&&void 0!==Z&&null!==(y=Z.user)&&void 0!==y&&y.userEmail?null===z||void 0===z||null===(I=z.student)||void 0===I||null===(S=I.user)||void 0===S?void 0:S.userEmail:null!==z&&void 0!==z&&null!==(C=z.student)&&void 0!==C&&C.studentPhoneNumber?null===z||void 0===z||null===(A=z.student)||void 0===A?void 0:A.studentPhoneNumber:null!==z&&void 0!==z&&null!==(k=z.student)&&void 0!==k&&k.studentParentsPhoneNumber?null===z||void 0===z||null===(w=z.student)||void 0===w?void 0:w.studentParentsPhoneNumber:null!==(P=null===z||void 0===z||null===(D=z.student)||void 0===D?void 0:D.studentEmail)&&void 0!==P?P:""})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_stuff,children:[(0,b.jsx)("a",{href:"".concat(M.q2,"/").concat(null===z||void 0===z||null===(F=z.student)||void 0===F||null===(q=F.application_print)||void 0===q||null===(L=q[0])||void 0===L?void 0:L.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,b.jsx)("img",{src:"".concat(r.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),(0,b.jsxs)(T.Z,{children:[(0,b.jsx)(E.Z,{label:"select",onAction:e=>{e.stopPropagation(),ee(1)},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}}),(0,b.jsx)(E.Z,{label:"reject",onAction:e=>{e.stopPropagation(),ee(2)},customStyle:{padding:"0.4rem 0.7rem",borderColor:"rgb(176 174 174)",fontSize:"13px",opacity:"0.9"}})]})]})]}),1===X?(0,b.jsx)(R.Z,{title:"select_fee_structre_of_student",onClose:oe,onSelectedStrucutre:e=>{var n,l;null!==z&&void 0!==z&&null!==(n=z.student)&&void 0!==n&&n._id&&$&&null!==e&&void 0!==e&&e._id&&(le((e=>!e)),ie({sid:null===z||void 0===z||null===(l=z.student)||void 0===l?void 0:l._id,appId:$,applicant:{fee_struct:null===e||void 0===e?void 0:e._id}}).then((()=>{H(),oe(),le((e=>!e))})).catch((()=>{le((e=>!e))})))},did:J,bid:B,cmid:V}):2===X?(0,b.jsx)(G,{onClose:oe,appId:$,sid:null===z||void 0===z||null===(U=z.student)||void 0===U?void 0:U._id,onRefetch:H}):null,ne&&(0,b.jsx)(N.Z,{})]})};var z=l(49806);const J=e=>{var n,l,i,t,o,d,a,s,c;let{applicant:u,onSelect:v,applicantId:p}=e;return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:f.Z.oac_container,style:{justifyContent:"flex-start"},children:[(0,b.jsx)("img",{className:f.Z.department_checkbox,src:null!==p&&void 0!==p&&p.includes(null===u||void 0===u||null===(n=u.student)||void 0===n?void 0:n._id)?"".concat(r.U_,"/check.svg"):"".concat(r.U_,"/uncheck.svg"),alt:"check icon",onClick:()=>v(null===u||void 0===u?void 0:u.student)}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner,style:{width:"100%"},children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==u&&void 0!==u&&null!==(l=u.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(M.yI,"/").concat(null===u||void 0===u||null===(i=u.student)||void 0===i?void 0:i.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsx)("div",{className:f.Z.oac_container_inner_info,children:(0,b.jsx)("h6",{children:"".concat(null!==(t=null===u||void 0===u||null===(o=u.student)||void 0===o?void 0:o.studentFirstName)&&void 0!==t?t:""," ").concat(null!==u&&void 0!==u&&null!==(d=u.student)&&void 0!==d&&d.studentMiddleName?null===u||void 0===u||null===(a=u.student)||void 0===a?void 0:a.studentMiddleName:""," ").concat(null!==(s=null===u||void 0===u||null===(c=u.student)||void 0===c?void 0:c.studentLastName)&&void 0!==s?s:"")})})]})]})})};var B=l(46194);const V=e=>{var n;let{transferStudentObj:l,application:i,appId:t,transferApplicantId:s,onClose:c,onParentClose:u}=e;const{t:v}=(0,a.$G)(),[_,h]=(0,d.useState)(!1),[j]=(0,o.We)();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.Z,{children:(0,b.jsxs)("div",{className:g.Z.modal_container,children:[(0,b.jsx)(p.Z,{children:(0,b.jsxs)("div",{className:g.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:g.Z.modal_container_header,children:(0,b.jsx)("h6",{children:v("select_confirm_student")})}),(0,b.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:c,className:g.Z.close_icon})]})}),(0,b.jsx)(m.Z,{}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0"},children:[(0,b.jsxs)("div",{className:f.Z.admission_class_confirm,children:[v("transfering")," ",(0,b.jsx)("span",{style:{fontWeight:"600"},children:null===l||void 0===l?void 0:l.length})," ",v("students")," "," ",",",v("to")," ",(0,b.jsx)("span",{style:{fontWeight:"600"},children:null!==(n=null===i||void 0===i?void 0:i.applicationName)&&void 0!==n?n:""})]}),(0,b.jsx)(y.Z,{label:"confirm",onAction:()=>{t&&null!==i&&void 0!==i&&i._id&&(null===l||void 0===l?void 0:l.length)>0&&(h((e=>!e)),j({appId:null===i||void 0===i?void 0:i._id,transferApplicantData:{app_array:s,oaid:t,student_array:l}}).then((()=>{h((e=>!e)),u()})).catch({}))}})]})]})}),_&&(0,b.jsx)(N.Z,{})]})},$=e=>{var n,l,i,t;let{onClose:v,appId:_,aid:h}=e;const{t:g}=(0,a.$G)(),[j,f]=(0,d.useState)([]),[Z,I]=(0,d.useState)([]),[S,C]=(0,d.useState)(1),[A,k]=(0,d.useState)(""),[w,M]=(0,d.useState)(""),[F,O]=(0,d.useState)(1),[T,R]=(0,d.useState)(!0),[E,q]=(0,s.YD)({skip:w}),{admissionOngoingApplicationReview:L,admissionOngoingApplicationReviewLoading:U}=(0,o._v)({data:{appId:_,page:F,limit:10,search:w},skip:!_});(0,d.useEffect)((()=>{q&&T&&O((e=>e+1))}),[q,T]),(0,d.useEffect)((()=>{var e;if(null!==L&&void 0!==L&&null!==(e=L.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===L||void 0===L||null===(n=L.list)||void 0===n?void 0:n.length);R((()=>e))}}),[null===L||void 0===L||null===(n=L.list)||void 0===n?void 0:n.length]);const G=(0,d.useCallback)((0,u.J)((e=>{O((()=>1)),M(e)}),1500),[]),Y=e=>{if(null!==j&&void 0!==j&&j.includes(null===e||void 0===e?void 0:e._id))f((n=>null===n||void 0===n?void 0:n.filter((n=>n!==(null===e||void 0===e?void 0:e._id))))),I((n=>null===n||void 0===n?void 0:n.filter((n=>{var l;return(null===n||void 0===n?void 0:n.studentId)!==(null===e||void 0===e||null===(l=e.student)||void 0===l?void 0:l._id)}))));else{var n;let l={studentId:null===e||void 0===e||null===(n=e.student)||void 0===n?void 0:n._id,mode:null===e||void 0===e?void 0:e.payment_status,type:null===e||void 0===e?void 0:e.install_type,price:null===e||void 0===e?void 0:e.fee_remain};I((e=>[...e,l])),f((n=>[...n,null===e||void 0===e?void 0:e._id]))}};return(0,b.jsx)(b.Fragment,{children:1===S?(0,b.jsx)(x.Z,{children:(0,b.jsxs)("div",{className:z.Z.modal_container,children:[(0,b.jsx)(p.Z,{children:(0,b.jsxs)("div",{className:z.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:z.Z.modal_container_header,children:(0,b.jsx)("h6",{children:g("select_confirm_student")})}),(0,b.jsxs)("div",{className:z.Z.modal_container_header,children:[(0,b.jsx)(y.Z,{customStyle:{margin:0,padding:"0.2rem 0.5rem"},onAction:()=>{(null===j||void 0===j?void 0:j.length)>0&&C(2)},label:"select",count:null===j||void 0===j?void 0:j.length}),(0,b.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:v,className:z.Z.close_icon})]})]})}),(0,b.jsx)(m.Z,{}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0",marginBottom:"1rem"},children:[(0,b.jsxs)("div",{className:z.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,b.jsx)("input",{type:"text",placeholder:g("search"),className:z.Z.assign_search_input,onChange:e=>{e.target.value?G(e.target.value):(O((()=>1)),M(""))},style:{width:"100%"}}),(0,b.jsx)("img",{src:"".concat(r.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===L||void 0===L||null===(l=L.list)||void 0===l?void 0:l.map(((e,n)=>{var l;return(null===L||void 0===L||null===(l=L.list)||void 0===l?void 0:l.length)===n+1?(0,b.jsx)("div",{ref:E,children:(0,b.jsx)(J,{applicant:{student:e},applicantId:j,onSelect:Y})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(J,{applicant:{student:e},applicantId:j,onSelect:Y},null===e||void 0===e?void 0:e._id)})),U?w?(0,b.jsx)(N.Z,{}):(0,b.jsx)(D.Z,{}):w?0===(null===L||void 0===L||null===(i=L.list)||void 0===i?void 0:i.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===L||void 0===L||null===(t=L.list)||void 0===t?void 0:t.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]})}):2===S?(0,b.jsx)(B.Z,{onSelect:e=>{k(e),C(3)},aid:h,onClose:()=>C(1)}):3===S?(0,b.jsx)(V,{transferApplicantId:j,transferStudentObj:Z,appId:_,application:A,onClose:()=>C(2),onParentClose:v}):null})},H=e=>{var n,l,i,a;let{applicationDetail:s,isExportAccess:c,isAddAccess:u,isTransferAccess:p,instituteId:m,aid:_,onMultipleSelect:h,onResuffleToggle:x,isFull:g,children:j}=e;const f=(0,t.TH)(),Z=(0,t.UO)(),I=(0,t.s0)(),[S,C]=(0,d.useState)(!1),[A,k]=(0,d.useState)(""),[w]=(0,o.Mo)();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(T.Z,{customStyle:{justifyContent:"space-between",marginBottom:"0.7rem"},children:g?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:v.Z.fm_search_full,children:(0,b.jsx)("section",{className:v.Z.fm_search_full_container,children:(0,b.jsxs)("div",{className:v.Z.fm_search_full_container_inner,children:[(0,b.jsx)("img",{className:v.Z.fm_search_full_icon,alt:"search icon",src:"".concat(r.dB,"/navbar-search.svg")}),j]})})})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("section",{className:v.Z.fm_search_container,children:(0,b.jsxs)("div",{className:v.Z.fm_search_container_inner,children:[(0,b.jsx)("img",{className:v.Z.fm_search_icon,alt:"search icon",src:"".concat(r.dB,"/navbar-search.svg")}),j]})}),(0,b.jsxs)("div",{className:v.Z.fm_other_admission,children:[W[u]&&!K[null===(n=f.state)||void 0===n?void 0:n.isAuthorization]&&(0,b.jsx)("img",{src:"".concat(r.U_,"/add.svg"),alt:"icon",title:"Add student",onClick:()=>{var e,n,l,i,t,o,d,a,c,u;m&&null!==(e=f.state)&&void 0!==e&&e.appId&&null!==s&&void 0!==s&&s.applicationMaster&&null!==s&&void 0!==s&&null!==(n=s.applicationDepartment)&&void 0!==n&&n._id&&null!==s&&void 0!==s&&null!==(l=s.applicationBatch)&&void 0!==l&&l._id&&_&&I("/q/joining",{state:{formAs:"STUDENT",openAs:"ADMISSION_ADMIN_SIDE",instituteId:m,appId:null===(i=f.state)||void 0===i?void 0:i.appId,admissionId:_,admissionAmount:[null!==(t=null===s||void 0===s?void 0:s.admissionFee)&&void 0!==t?t:0,null!==(o=null===s||void 0===s||null===(d=s.one_installments)||void 0===d?void 0:d.fees)&&void 0!==o?o:0],applicationMaster:null===s||void 0===s?void 0:s.applicationMaster,applicationDepartment:null===s||void 0===s||null===(a=s.applicationDepartment)||void 0===a?void 0:a._id,batchId:null===s||void 0===s||null===(c=s.applicationBatch)||void 0===c?void 0:c._id,departmentId:null===s||void 0===s||null===(u=s.applicationDepartment)||void 0===u?void 0:u._id,whichFormShow:"DEPARTMENT"}})}}),W[c]&&(0,b.jsx)("img",{src:"".concat(r.J7,"/export.svg"),alt:"icon",title:"List Export",onClick:()=>{var e;null!==(e=f.state)&&void 0!==e&&e.appId&&W[c]&&(C((e=>!e)),w({appId:null===s||void 0===s?void 0:s._id,flow:c}).then((()=>{var e;let n="Institute"===(null===(e=f.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(Z.username,"/institute/member/admission?type=export"):"/q/".concat(Z.username,"/member/staff/admission?type=export");I(n,{state:f.state})})).catch({}))}}),W[p]&&!K[null===(l=f.state)||void 0===l?void 0:l.isAuthorization]&&(0,b.jsx)("img",{src:"".concat(r.U_,"/transfer.svg"),alt:"icon",title:"Transfer student",onClick:()=>{k(2)}}),Q[c]&&!K[null===(i=f.state)||void 0===i?void 0:i.isAuthorization]&&(0,b.jsx)("img",{src:"".concat(r.U_,"/mutliple.svg"),alt:"icon",title:"Multiple Select",onClick:h}),X[c]&&!K[null===(a=f.state)||void 0===a?void 0:a.isAuthorization]&&(0,b.jsx)(y.Z,{label:"resuffle",customStyle:{margin:"0",padding:"0.35rem 0.5rem"},onAction:x})]})]})}),2===A?(0,b.jsx)($,{onClose:()=>{k("")},instituteId:m,appId:null===s||void 0===s?void 0:s._id,aid:_}):null,S&&(0,b.jsx)(N.Z,{})]})},W={APPLICATION:!0,Review:!0,Request_Query:!0,Confirm_Query:!0,Allot_Query:!0},K={isCompleted:!0},Q={Confirm:!0,Confirm_Query:!0},X={Confirm_Query:!0},ee=e=>{var n,l,i,r,v,m;let{applicationDetail:_,instituteId:h,aid:x}=e;const{t:g}=(0,a.$G)(),j=(0,t.TH)(),[f,Z]=(0,d.useState)(""),[y,I]=(0,d.useState)(1),[S,A]=(0,d.useState)(!0),[k,M]=(0,s.YD)({skip:f}),{admissionOngoingApplicationRequest:F,admissionOngoingApplicationRequestLoading:O,admissionOngoingApplicationRequestRefetch:T}=(0,o.ws)({data:{appId:null===(n=j.state)||void 0===n?void 0:n.appId,page:y,limit:10,search:f},skip:!(null!==(l=j.state)&&void 0!==l&&l.appId)});(0,d.useEffect)((()=>{M&&S&&I((e=>e+1))}),[M,S]),(0,d.useEffect)((()=>{var e;if(null!==F&&void 0!==F&&null!==(e=F.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===F||void 0===F||null===(n=F.list)||void 0===n?void 0:n.length);A((()=>e))}}),[null===F||void 0===F||null===(i=F.list)||void 0===i?void 0:i.length]);const R=(0,d.useCallback)((0,u.J)((e=>{I((()=>1)),Z(e)}),1500),[]),E=(0,d.useCallback)((()=>{I((()=>1)),T()}),[]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(w.Z,{children:[(0,b.jsx)(C,{applicationDetail:_,instituteId:h,isAddAccess:"APPLICATION",isExportAccess:"Request_Query"}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,b.jsx)(H,{applicationDetail:_,instituteId:h,isAddAccess:"APPLICATION",isExportAccess:"Request_Query",aid:x,children:(0,b.jsx)("input",{type:"text",placeholder:g("search_applicants"),onChange:e=>{e.target.value?R(e.target.value):(I((()=>1)),Z(""))}})}),null===F||void 0===F||null===(r=F.list)||void 0===r?void 0:r.map(((e,n)=>{var l,i,t,o,d,a,s,c,u;return(null===F||void 0===F||null===(l=F.list)||void 0===l?void 0:l.length)===n+1?(0,b.jsx)("div",{ref:k,children:(0,b.jsx)(Y,{applicant:e,instituteId:h,did:null===_||void 0===_||null===(i=_.applicationDepartment)||void 0===i?void 0:i._id,bid:null===_||void 0===_||null===(t=_.applicationBatch)||void 0===t?void 0:t._id,cmid:null===_||void 0===_||null===(o=_.applicationMaster)||void 0===o?void 0:o._id,onRefetch:E,appId:null===(d=j.state)||void 0===d?void 0:d.appId})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(Y,{applicant:e,instituteId:h,did:null===_||void 0===_||null===(a=_.applicationDepartment)||void 0===a?void 0:a._id,bid:null===_||void 0===_||null===(s=_.applicationBatch)||void 0===s?void 0:s._id,cmid:null===_||void 0===_||null===(c=_.applicationMaster)||void 0===c?void 0:c._id,onRefetch:E,appId:null===(u=j.state)||void 0===u?void 0:u.appId},null===e||void 0===e?void 0:e._id)})),O?f?(0,b.jsx)(N.Z,{}):(0,b.jsx)(D.Z,{}):f?0===(null===F||void 0===F||null===(v=F.list)||void 0===v?void 0:v.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission requests found related this search."}):0===(null===F||void 0===F||null===(m=F.list)||void 0===m?void 0:m.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission request list."})]})]})})};var ne=l(66239),le=l(60924),ie=l(43997),te=l(50518);const oe=e=>{var n;let{onClose:l,applicant:i,appId:t,onRefetch:s}=e;const{t:c}=(0,a.$G)(),[u,v]=(0,d.useState)(!1),[_,h]=(0,d.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),[j,f]=(0,d.useState)(""),[Z,I]=(0,d.useState)(0),[S]=(0,o.JC)();(0,d.useEffect)((()=>{var e,n;if((null===i||void 0===i||null===(e=i.student)||void 0===e||null===(n=e.paidFeeList)||void 0===n?void 0:n.length)>0){var l,o,d,a;const e=null===i||void 0===i||null===(l=i.student)||void 0===l||null===(o=l.paidFeeList)||void 0===o?void 0:o.filter((e=>(null===e||void 0===e?void 0:e.appId)===t));I(null!==(d=null===e||void 0===e||null===(a=e[0])||void 0===a?void 0:a.paidAmount)&&void 0!==d?d:0)}}),[null===i||void 0===i||null===(n=i.student)||void 0===n?void 0:n.paidFeeList]);const C=e=>{h((n=>({...n,[e.target.name]:e.target.value})))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.Z,{onClose:l,children:(0,b.jsxs)("div",{className:g.Z.modal_container,children:[(0,b.jsx)(p.Z,{children:(0,b.jsxs)("div",{className:g.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:g.Z.modal_container_header,children:(0,b.jsx)("h6",{children:c("cancel_addmission")})}),(0,b.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:l})]})}),(0,b.jsx)(m.Z,{}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0"},children:[(0,b.jsxs)("div",{className:g.Z.admission_fees_row,children:[(0,b.jsxs)("h6",{children:[c("fees_paid")," :"]}),(0,b.jsxs)("h6",{children:[c("rs_only")," ",Z]})]}),(0,b.jsx)(L.Z,{label:"".concat(c("refund_amount")),placeholder:c("please_enter_refund_amount"),name:"amount",value:_.amount,type:"tel",onChange:e=>{h((n=>({...n,amount:+e.target.value,fee_payment_amount:+e.target.value})))},errorShow:j.amount}),(0,b.jsx)(te.Z,{paymentHeading:c("refund_payment_type_mode"),selectLabel:c("mode_placeholder"),onClick:e=>{h((n=>({...n,mode:"Cash"===e?"Offline":"Online",fee_payment_mode:e})))},errorShow:j.fee_payment_mode,defalutValue:_.fee_payment_mode,selectedValue:c("please_select_payment_mode"),isAuthority:"admissionCollectMode"}),(0,b.jsx)(le.Z,{label:c("select_date_of_transaction"),placeholder:c("please_select_date"),name:"transaction_date",value:_.transaction_date,onChange:e=>{h((n=>({...n,transaction_date:(0,ie.jh)(e)})))},errorShow:j.transaction_date}),"Cash"===_.fee_payment_mode?null:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:g.Z.admission_fees_row,style:{margin:0},children:(0,b.jsx)("h6",{style:{margin:0,marginTop:"1rem"},children:c("paid_to")})}),(0,b.jsx)(L.Z,{label:c("bank_name_collect"),placeholder:c("please_enter_bank_name"),name:"fee_bank_name",value:_.fee_bank_name,type:"text",onChange:C}),(0,b.jsx)(L.Z,{label:c("banke_holder_name"),placeholder:c("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:_.fee_bank_holder,type:"text",onChange:C}),(0,b.jsx)(L.Z,{label:c("cheque_dd_neft"),placeholder:c("please_enter_utr_ref_number"),name:"fee_utr_reference",value:_.fee_utr_reference,type:"text",onChange:C})]}),(0,b.jsx)(y.Z,{label:"confirm",onAction:()=>{let e=(0,q.l)(_,["mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference"]);var n,o,d,a,c,u,r,p,m,h,x,g,j,Z,N,y;(0,q.x)(e)?i&&t&&null!==i&&void 0!==i&&null!==(n=i.student)&&void 0!==n&&null!==(o=n.fee_structure)&&void 0!==o&&o._id&&(v((e=>!e)),S({sid:null===i||void 0===i||null===(d=i.student)||void 0===d?void 0:d._id,appId:t,payment:{struct:null===i||void 0===i||null===(a=i.student)||void 0===a||null===(c=a.fee_structure)||void 0===c?void 0:c._id,amount:null!==(u=null===_||void 0===_?void 0:_.amount)&&void 0!==u?u:"",mode:null!==(r=null===_||void 0===_?void 0:_.mode)&&void 0!==r?r:"",fee_payment_mode:null!==(p=null===_||void 0===_?void 0:_.fee_payment_mode)&&void 0!==p?p:"",fee_payment_amount:null!==(m=null===_||void 0===_?void 0:_.fee_payment_amount)&&void 0!==m?m:"",transaction_date:null!==(h=(0,ie._1)(_.transaction_date))&&void 0!==h?h:"",fee_bank_name:null!==(x=null===_||void 0===_?void 0:_.fee_bank_name)&&void 0!==x?x:"",fee_bank_holder:null!==(g=null===_||void 0===_?void 0:_.fee_bank_holder)&&void 0!==g?g:"",fee_utr_reference:null!==(j=null===_||void 0===_?void 0:_.fee_utr_reference)&&void 0!==j?j:"",remainAmount:null!==(Z=null===i||void 0===i?void 0:i.fee_remain)&&void 0!==Z?Z:0,classId:null!==(N=null===i||void 0===i||null===(y=i.student)||void 0===y?void 0:y.studentClass)&&void 0!==N?N:null}}).then((()=>{s(),v((e=>!e)),l()})).catch({})):f(e)}})]})]})}),u&&(0,b.jsx)(N.Z,{})]})},de=e=>{var n,l,i,o,s,c,u,v,p,m,_,h,x,g,j,Z,N,y,I,S,C,A,k,w,P,D,F,O;let{applicant:T,instituteId:R,appId:E,onRefetch:q}=e;const{t:L}=(0,a.$G)(),U=(0,t.UO)(),G=(0,t.s0)(),[Y,z]=(0,d.useState)("");return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:f.Z.oac_container,onClick:()=>{var e;G("/q/".concat(U.username,"/student/profile"),{state:{sid:null===T||void 0===T||null===(e=T.student)||void 0===e?void 0:e._id,instituteId:R,viewAs:"ADMISSION_ADMIN",collectAccess:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,b.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==T&&void 0!==T&&null!==(n=T.student)&&void 0!==n&&n.studentProfilePhoto?"".concat(M.yI,"/").concat(null===T||void 0===T||null===(l=T.student)||void 0===l?void 0:l.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,b.jsx)("h6",{children:"".concat(null!==(i=null===T||void 0===T||null===(o=T.student)||void 0===o?void 0:o.studentFirstName)&&void 0!==i?i:""," ").concat(null!==T&&void 0!==T&&null!==(s=T.student)&&void 0!==s&&s.studentMiddleName?null===T||void 0===T||null===(c=T.student)||void 0===c?void 0:c.studentMiddleName:""," ").concat(null!==(u=null===T||void 0===T||null===(v=T.student)||void 0===v?void 0:v.studentLastName)&&void 0!==u?u:"")}),(0,b.jsx)("p",{children:(null===T||void 0===T?void 0:T.alloted_class)||""}),(0,b.jsx)("p",{onClick:e=>{e.stopPropagation(),z(1)},style:{color:"#436dfa"},children:L("cancel_admision")})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(r.U_,"/gender.svg"),alt:"email icon"}),(0,b.jsx)("p",{children:null===T||void 0===T||null===(p=T.student)||void 0===p?void 0:p.studentGender})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(r.U_,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{children:null!==T&&void 0!==T&&null!==(m=T.student)&&void 0!==m&&null!==(_=m.user)&&void 0!==_&&_.userPhoneNumber?null===T||void 0===T||null===(h=T.student)||void 0===h||null===(x=h.user)||void 0===x?void 0:x.userPhoneNumber:null!==T&&void 0!==T&&null!==(g=T.student)&&void 0!==g&&null!==(j=g.user)&&void 0!==j&&j.userEmail?null===T||void 0===T||null===(Z=T.student)||void 0===Z||null===(N=Z.user)||void 0===N?void 0:N.userEmail:null!==T&&void 0!==T&&null!==(y=T.student)&&void 0!==y&&y.studentPhoneNumber?null===T||void 0===T||null===(I=T.student)||void 0===I?void 0:I.studentPhoneNumber:null!==T&&void 0!==T&&null!==(S=T.student)&&void 0!==S&&S.studentParentsPhoneNumber?null===T||void 0===T||null===(C=T.student)||void 0===C?void 0:C.studentParentsPhoneNumber:null!==(A=null===T||void 0===T||null===(k=T.student)||void 0===k?void 0:k.studentEmail)&&void 0!==A?A:""})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_stuff,children:[(0,b.jsx)("a",{href:"".concat(M.q2,"/").concat(null===T||void 0===T||null===(w=T.student)||void 0===w||null===(P=w.application_print)||void 0===P||null===(D=P[0])||void 0===D?void 0:D.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,b.jsx)("img",{src:"".concat(r.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),null===T||void 0===T||null===(F=T.student)||void 0===F||null===(O=F.fee_receipt)||void 0===O?void 0:O.map(((e,n)=>n>2?"":(0,b.jsx)(ne.Z,{rid:null===e||void 0===e?void 0:e._id,receiptFile:null===e||void 0===e?void 0:e.receipt_file},null===e||void 0===e?void 0:e._id)))]})]}),1===Y?(0,b.jsx)(oe,{appId:E,applicant:T,onClose:()=>{z("")},onRefetch:q}):null]})},ae=e=>{var n,l,i,r,v,m;let{applicationDetail:_,instituteId:h}=e;const{t:x}=(0,a.$G)(),g=(0,t.TH)(),[j,f]=(0,d.useState)(""),[Z,y]=(0,d.useState)(1),[I,S]=(0,d.useState)(!0),[A,k]=(0,s.YD)({skip:j}),{admissionOngoingApplicationAllottment:M,admissionOngoingApplicationAllottmentLoading:F,admissionOngoingApplicationAllottmentRefetch:O}=(0,o.UX)({data:{appId:null===(n=g.state)||void 0===n?void 0:n.appId,page:Z,limit:10,search:j},skip:!(null!==(l=g.state)&&void 0!==l&&l.appId)});(0,d.useEffect)((()=>{k&&I&&y((e=>e+1))}),[k,I]),(0,d.useEffect)((()=>{var e;if(null!==M&&void 0!==M&&null!==(e=M.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===M||void 0===M||null===(n=M.list)||void 0===n?void 0:n.length);S((()=>e))}}),[null===M||void 0===M||null===(i=M.list)||void 0===i?void 0:i.length]);const T=(0,d.useCallback)((0,u.J)((e=>{y((()=>1)),f(e)}),1500),[]),R=(0,d.useCallback)((()=>{y((()=>1)),f(""),O()}),[O]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(w.Z,{children:[(0,b.jsx)(C,{applicationDetail:_,isExportAccess:"Allot_Query"}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,b.jsx)(H,{applicationDetail:_,isExportAccess:"Allot_Query",children:(0,b.jsx)("input",{type:"text",placeholder:x("search_allotted_student"),onChange:e=>{e.target.value?T(e.target.value):(y((()=>1)),f(""))}})}),null===M||void 0===M||null===(r=M.list)||void 0===r?void 0:r.map(((e,n)=>{var l,i,t;return(null===M||void 0===M||null===(l=M.list)||void 0===l?void 0:l.length)===n+1?(0,b.jsx)("div",{ref:A,children:(0,b.jsx)(de,{applicant:e,instituteId:h,appId:null===(i=g.state)||void 0===i?void 0:i.appId,onRefetch:R})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(de,{applicant:e,instituteId:h,appId:null===(t=g.state)||void 0===t?void 0:t.appId,onRefetch:R},null===e||void 0===e?void 0:e._id)})),F?j?(0,b.jsx)(N.Z,{}):(0,b.jsx)(D.Z,{}):j?0===(null===M||void 0===M||null===(v=M.list)||void 0===v?void 0:v.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission allottment found related this search."}):0===(null===M||void 0===M||null===(m=M.list)||void 0===m?void 0:m.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission allottment list."})]})]})})};var se=l(79110);const ce=e=>{var n,l,i,r,v,m;let{applicationDetail:_,instituteId:h}=e;const{t:x}=(0,a.$G)(),g=(0,t.TH)(),[j,f]=(0,d.useState)(""),[Z,y]=(0,d.useState)(1),[I,S]=(0,d.useState)(!0),[A,k]=(0,s.YD)({skip:j}),{admissionOngoingApplicationCancelled:M,admissionOngoingApplicationCancelledLoading:F}=(0,o.aL)({data:{appId:null===(n=g.state)||void 0===n?void 0:n.appId,page:Z,limit:10,search:j},skip:!(null!==(l=g.state)&&void 0!==l&&l.appId)});(0,d.useEffect)((()=>{k&&I&&y((e=>e+1))}),[k,I]),(0,d.useEffect)((()=>{var e;if(null!==M&&void 0!==M&&null!==(e=M.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===M||void 0===M||null===(n=M.list)||void 0===n?void 0:n.length);S((()=>e))}}),[null===M||void 0===M||null===(i=M.list)||void 0===i?void 0:i.length]);const O=(0,d.useCallback)((0,u.J)((e=>{y((()=>1)),f(e)}),1500),[]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(w.Z,{children:[(0,b.jsx)(C,{applicationDetail:_}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,b.jsx)(H,{applicationDetail:_,instituteId:h,isFull:!0,children:(0,b.jsx)("input",{type:"text",placeholder:x("search_cancelled_student"),onChange:e=>{e.target.value?O(e.target.value):(y((()=>1)),f(""))}})}),null===M||void 0===M||null===(r=M.list)||void 0===r?void 0:r.map(((e,n)=>{var l;return(null===M||void 0===M||null===(l=M.list)||void 0===l?void 0:l.length)===n+1?(0,b.jsx)("div",{ref:A,children:(0,b.jsx)(se.Z,{applicant:e,instituteId:h})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(se.Z,{applicant:e,instituteId:h},null===e||void 0===e?void 0:e._id)})),F?j?(0,b.jsx)(N.Z,{}):(0,b.jsx)(D.Z,{}):j?0===(null===M||void 0===M||null===(v=M.list)||void 0===v?void 0:v.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission cancelled found related this search."}):0===(null===M||void 0===M||null===(m=M.list)||void 0===m?void 0:m.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission cancelled list."})]})]})})},ue=e=>{var n,l,i,t,s,c;let{onClose:u,applicant:v,appId:_,onRefetch:h}=e;const{t:j}=(0,a.$G)(),[f,Z]=(0,d.useState)(!1),[I]=(0,o.O1)();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.Z,{onClose:u,children:(0,b.jsxs)("div",{className:g.Z.modal_container,children:[(0,b.jsx)(p.Z,{children:(0,b.jsxs)("div",{className:g.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:g.Z.modal_container_header,children:(0,b.jsx)("h6",{children:j("collect_required_document")})}),(0,b.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:u})]})}),(0,b.jsx)(m.Z,{}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0"},children:[(0,b.jsxs)("div",{className:g.Z.modal_container_header,style:{flexDirection:"column"},children:[(0,b.jsx)("p",{children:j("collecting_documents_of_student")}),(0,b.jsx)("h6",{children:"".concat(null!==(n=null===v||void 0===v||null===(l=v.student)||void 0===l?void 0:l.studentFirstName)&&void 0!==n?n:""," ").concat(null!==v&&void 0!==v&&null!==(i=v.student)&&void 0!==i&&i.studentMiddleName?null===v||void 0===v||null===(t=v.student)||void 0===t?void 0:t.studentMiddleName:""," ").concat(null!==(s=null===v||void 0===v||null===(c=v.student)||void 0===c?void 0:c.studentLastName)&&void 0!==s?s:"")})]}),(0,b.jsx)(y.Z,{label:"confirm",onAction:()=>{var e,n;null!==v&&void 0!==v&&null!==(e=v.student)&&void 0!==e&&e._id&&_&&null!==v&&void 0!==v&&v._id&&null!==v&&void 0!==v&&v.revert_request_status&&(Z((e=>!e)),I({sid:null===v||void 0===v||null===(n=v.student)||void 0===n?void 0:n._id,appId:_,document:{nest:null===v||void 0===v?void 0:v._id,revert_status:null===v||void 0===v?void 0:v.revert_request_status}}).then((()=>{h(),Z((e=>!e)),u()})).catch((()=>{Z((e=>!e))})))}})]})]})}),f&&(0,b.jsx)(N.Z,{})]})},re=e=>{var n,l,i,s,c,u,v,p,m,_,h,x,g,j,Z,y,I,S,C,A,k,w,P,D,F,T,q,L,U,G,Y,z,J,B,V,$;let{instituteId:H,applicant:W,did:K,bid:Q,cmid:X,appId:ee,onRefetch:ne}=e;const{t:le}=(0,a.$G)(),ie=(0,t.UO)(),te=(0,t.s0)(),[oe,de]=(0,d.useState)(0),[ae,se]=(0,d.useState)(!1),[ce]=(0,o.ur)(),[re]=(0,o.u8)(),ve=(0,d.useCallback)((()=>{var e;te("/q/".concat(ie.username,"/student/profile"),{state:{sid:null===W||void 0===W||null===(e=W.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:H}})}),[H,null===W||void 0===W||null===(n=W.student)||void 0===n?void 0:n._id]),pe=()=>{de("")};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:f.Z.oac_container,onClick:ve,title:"View Profile",children:[(0,b.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==W&&void 0!==W&&null!==(l=W.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(M.yI,"/").concat(null===W||void 0===W||null===(i=W.student)||void 0===i?void 0:i.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,b.jsx)("h6",{children:"".concat(null!==(s=null===W||void 0===W||null===(c=W.student)||void 0===c?void 0:c.studentFirstName)&&void 0!==s?s:""," ").concat(null!==W&&void 0!==W&&null!==(u=W.student)&&void 0!==u&&u.studentMiddleName?null===W||void 0===W||null===(v=W.student)||void 0===v?void 0:v.studentMiddleName:""," ").concat(null!==(p=null===W||void 0===W||null===(m=W.student)||void 0===m?void 0:m.studentLastName)&&void 0!==p?p:"")}),(0,b.jsxs)("h6",{children:[le("fee_structure")," : ",null!==(_=null===W||void 0===W||null===(h=W.student)||void 0===h||null===(x=h.fee_structure)||void 0===x||null===(g=x.category_master)||void 0===g?void 0:g.category_name)&&void 0!==_?_:"",", ",le("rs_only")," ",null!==(j=null===W||void 0===W||null===(Z=W.student)||void 0===Z||null===(y=Z.fee_structure)||void 0===y?void 0:y.applicable_fees)&&void 0!==j?j:""]}),(0,b.jsx)("p",{children:null!==W&&void 0!==W&&W.install_type?null===W||void 0===W?void 0:W.install_type:"\n          ".concat(le("select_on"),":\n          ").concat(O()(null===W||void 0===W?void 0:W.select_on).format("DD MMM YYYY"))})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(r.U_,"/gender.svg"),alt:"email icon"}),(0,b.jsx)("p",{children:null===W||void 0===W||null===(I=W.student)||void 0===I?void 0:I.studentGender})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(r.U_,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{children:null!==W&&void 0!==W&&null!==(S=W.student)&&void 0!==S&&null!==(C=S.user)&&void 0!==C&&C.userPhoneNumber?null===W||void 0===W||null===(A=W.student)||void 0===A||null===(k=A.user)||void 0===k?void 0:k.userPhoneNumber:null!==W&&void 0!==W&&null!==(w=W.student)&&void 0!==w&&null!==(P=w.user)&&void 0!==P&&P.userEmail?null===W||void 0===W||null===(D=W.student)||void 0===D||null===(F=D.user)||void 0===F?void 0:F.userEmail:null!==W&&void 0!==W&&null!==(T=W.student)&&void 0!==T&&T.studentPhoneNumber?null===W||void 0===W||null===(q=W.student)||void 0===q?void 0:q.studentPhoneNumber:null!==W&&void 0!==W&&null!==(L=W.student)&&void 0!==L&&L.studentParentsPhoneNumber?null===W||void 0===W||null===(U=W.student)||void 0===U?void 0:U.studentParentsPhoneNumber:null!==(G=null===W||void 0===W||null===(Y=W.student)||void 0===Y?void 0:Y.studentEmail)&&void 0!==G?G:""})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_stuff,style:{width:"24%"},children:[(0,b.jsx)("a",{href:"".concat(M.q2,"/").concat(null===W||void 0===W||null===(z=W.student)||void 0===z||null===(J=z.application_print)||void 0===J||null===(B=J[0])||void 0===B?void 0:B.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,b.jsx)("img",{src:"".concat(r.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),(0,b.jsx)("img",{src:"".concat(r.J7,"/edit.svg"),alt:"edit icon",onClick:e=>{e.stopPropagation(),de(1)}}),(0,b.jsx)("img",{src:"".concat(r.U_,"/undo.svg"),alt:"undo icon",style:{width:"30px",height:"30px"},onClick:e=>{var n,l;(e.stopPropagation(),null!==W&&void 0!==W&&null!==(n=W.student)&&void 0!==n&&n._id&&ee&&null!==W&&void 0!==W&&W.revert_request_status)&&(se((e=>!e)),re({sid:null===W||void 0===W||null===(l=W.student)||void 0===l?void 0:l._id,appId:ee,revert:{statusId:null===W||void 0===W?void 0:W.revert_request_status}}).then((()=>{ne(),se((e=>!e))})).catch((()=>{se((e=>!e))})))},title:"Undo Application"}),(0,b.jsx)(E.Z,{label:"collect_docs",onAction:e=>{e.stopPropagation(),de(2)},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}})]})]}),1===oe?(0,b.jsx)(R.Z,{onClose:pe,onSelectedStrucutre:e=>{var n,l;null!==W&&void 0!==W&&null!==(n=W.student)&&void 0!==n&&n._id&&ee&&null!==e&&void 0!==e&&e._id&&(se((e=>!e)),ce({sid:null===W||void 0===W||null===(l=W.student)||void 0===l?void 0:l._id,appId:ee,applicant:{fee_struct:null===e||void 0===e?void 0:e._id}}).then((()=>{ne(),pe(),se((e=>!e))})).catch((()=>{se((e=>!e))})))},did:K,bid:Q,cmid:X,selectedStructure:null===W||void 0===W||null===(V=W.student)||void 0===V||null===($=V.fee_structure)||void 0===$?void 0:$._id}):2===oe?(0,b.jsx)(ue,{onClose:pe,onRefetch:ne,applicant:W,appId:ee}):null,ae&&(0,b.jsx)(N.Z,{})]})},ve=e=>{var n,l,i,r,v,m;let{applicationDetail:_,instituteId:h}=e;const{t:x}=(0,a.$G)(),g=(0,t.TH)(),[j,f]=(0,d.useState)(""),[Z,y]=(0,d.useState)(1),[I,S]=(0,d.useState)(!0),[A,k]=(0,s.YD)({skip:j}),{admissionOngoingApplicationDocument:M,admissionOngoingApplicationDocumentLoading:F,admissionOngoingApplicationDocumentRefetch:O}=(0,o.Zx)({data:{appId:null===(n=g.state)||void 0===n?void 0:n.appId,page:Z,limit:10,search:j},skip:!(null!==(l=g.state)&&void 0!==l&&l.appId)});(0,d.useEffect)((()=>{k&&I&&y((e=>e+1))}),[k,I]),(0,d.useEffect)((()=>{var e;if(null!==M&&void 0!==M&&null!==(e=M.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===M||void 0===M||null===(n=M.list)||void 0===n?void 0:n.length);S((()=>e))}}),[null===M||void 0===M||null===(i=M.list)||void 0===i?void 0:i.length]);const T=(0,d.useCallback)((0,u.J)((e=>{y((()=>1)),f(e)}),1500),[]),R=(0,d.useCallback)((()=>{y((()=>1)),O()}),[]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(w.Z,{children:[(0,b.jsx)(C,{applicationDetail:_,instituteId:h}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,b.jsx)(H,{applicationDetail:_,instituteId:h,isFull:!0,children:(0,b.jsx)("input",{type:"text",placeholder:x("search_applicants"),onChange:e=>{e.target.value?T(e.target.value):(y((()=>1)),f(""))}})}),null===M||void 0===M||null===(r=M.list)||void 0===r?void 0:r.map(((e,n)=>{var l,i,t,o,d,a,s,c,u;return(null===M||void 0===M||null===(l=M.list)||void 0===l?void 0:l.length)===n+1?(0,b.jsx)("div",{ref:A,children:(0,b.jsx)(re,{applicant:e,instituteId:h,did:null===_||void 0===_||null===(i=_.applicationDepartment)||void 0===i?void 0:i._id,bid:null===_||void 0===_||null===(t=_.applicationBatch)||void 0===t?void 0:t._id,cmid:null===_||void 0===_||null===(o=_.applicationMaster)||void 0===o?void 0:o._id,onRefetch:R,appId:null===(d=g.state)||void 0===d?void 0:d.appId})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(re,{applicant:e,instituteId:h,did:null===_||void 0===_||null===(a=_.applicationDepartment)||void 0===a?void 0:a._id,bid:null===_||void 0===_||null===(s=_.applicationBatch)||void 0===s?void 0:s._id,cmid:null===_||void 0===_||null===(c=_.applicationMaster)||void 0===c?void 0:c._id,onRefetch:R,appId:null===(u=g.state)||void 0===u?void 0:u.appId},null===e||void 0===e?void 0:e._id)})),F?j?(0,b.jsx)(N.Z,{}):(0,b.jsx)(D.Z,{}):j?0===(null===M||void 0===M||null===(v=M.list)||void 0===v?void 0:v.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===M||void 0===M||null===(m=M.list)||void 0===m?void 0:m.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]})})};var pe=l(20659),me=l(26071),_e=l(7562);const he=e=>{var n,l,i,t,s,c,u;let{onClose:v,applicant:_,appId:h,onRefetch:j}=e;const{t:f}=(0,a.$G)(),[Z,I]=(0,d.useState)(!1),[S,C]=(0,d.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:"",pay_remain:!1}),[A,k]=(0,d.useState)(0),[w,P]=(0,d.useState)(""),[D]=(0,o.VO)(),M=e=>{C((n=>({...n,[e.target.name]:e.target.value})))},F=e=>{if(C((n=>({...n,pay_remain:e}))),e){let e=0;for(let l of null===_||void 0===_||null===(n=_.app_card)||void 0===n?void 0:n.remaining_array){var n;"Paid"!==(null===l||void 0===l?void 0:l.status)&&(e+=null===l||void 0===l?void 0:l.remainAmount)}k(e)}};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.Z,{onClose:v,children:(0,b.jsxs)("div",{className:g.Z.modal_container,children:[(0,b.jsx)(p.Z,{children:(0,b.jsxs)("div",{className:g.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:g.Z.modal_container_header,children:(0,b.jsx)("h6",{children:f("collect_fees")})}),(0,b.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:v})]})}),(0,b.jsx)(m.Z,{}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0"},children:[(0,b.jsxs)("div",{className:g.Z.admission_fees_row,children:[(0,b.jsxs)("h6",{children:[f("applicable_amount")," :"]}),(0,b.jsxs)("h6",{children:[f("rs_only")," ",null!==(n=null===_||void 0===_||null===(l=_.app_card)||void 0===l?void 0:l.applicable_fee)&&void 0!==n?n:0]})]}),null!==_&&void 0!==_&&null!==(i=_.fee_struct)&&void 0!==i&&i.total_installments&&+(null===_||void 0===_||null===(t=_.fee_struct)||void 0===t?void 0:t.total_installments)>1?(0,b.jsx)(pe.Z,{label:"pay_rest_remaining_fees",children:null===_e.nj||void 0===_e.nj?void 0:_e.nj.map((e=>(0,b.jsx)(me.Z,{tile:e,onTile:F,activeTile:S.pay_remain},null===e||void 0===e?void 0:e.id)))}):null,(0,b.jsx)(L.Z,{label:"".concat(f(S.pay_remain?"amount_remain_installment":"amount_first_installment")," ").concat(S.pay_remain?A:null===_||void 0===_||null===(s=_.app_card)||void 0===s||null===(c=s.remaining_array)||void 0===c||null===(u=c[0])||void 0===u?void 0:u.remainAmount),placeholder:f("amoute_details_collect"),name:"amount",value:S.amount,type:"tel",onChange:e=>{C((n=>({...n,amount:+e.target.value,fee_payment_amount:+e.target.value})))},errorShow:w.amount,msg:w.rest_issue}),(0,b.jsx)(te.Z,{paymentHeading:f("payment_type_mode"),selectLabel:f("mode_placeholder"),onClick:e=>{C((n=>({...n,mode:"Online",fee_payment_mode:e})))},errorShow:w.fee_payment_mode,defalutValue:S.fee_payment_mode,selectedValue:f("please_select_payment_mode"),isAuthority:"admissionCollectMode",customLabelStyle:{marginTop:"0"}}),(0,b.jsx)(le.Z,{label:f("select_date_of_transaction"),placeholder:f("please_select_date"),name:"transaction_date",value:S.transaction_date,onChange:e=>{C((n=>({...n,transaction_date:(0,ie.jh)(e)})))},errorShow:w.transaction_date}),"Cash"===S.fee_payment_mode?null:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(L.Z,{label:f("bank_name_collect"),placeholder:f("please_enter_bank_name"),name:"fee_bank_name",value:S.fee_bank_name,type:"text",onChange:M}),(0,b.jsx)(L.Z,{label:f("banke_holder_name"),placeholder:f("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:S.fee_bank_holder,type:"text",onChange:M}),(0,b.jsx)(L.Z,{label:f("cheque_dd_neft"),placeholder:f("please_enter_utr_ref_number"),name:"fee_utr_reference",value:S.fee_utr_reference,type:"text",onChange:M})]}),(0,b.jsx)(y.Z,{label:"collect",onAction:()=>{let e=(0,q.l)(S,["mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference","pay_remain"]);var n,l,i,t,o,d,a,s,c,u,r,p,m,x,g,f,Z,N,y,b,C,k,w,M,F;(0,q.x)(e)?S.pay_remain&&S.amount<A?P({rest_issue:"Amount should not be less than total remaining fees"}):!S.pay_remain&&S.amount>(null===_||void 0===_||null===(n=_.app_card)||void 0===n||null===(l=n.remaining_array)||void 0===l||null===(i=l[0])||void 0===i?void 0:i.remainAmount)&&+(null===_||void 0===_||null===(t=_.fee_struct)||void 0===t?void 0:t.total_installments)>1?P({rest_issue:"Amount should not be greater than remaining fees"}):null!==_&&void 0!==_&&null!==(o=_.student)&&void 0!==o&&o._id&&h&&(I((e=>!e)),D({sid:null===_||void 0===_||null===(d=_.student)||void 0===d?void 0:d._id,appId:h,collect:{card_id:null===_||void 0===_||null===(a=_.app_card)||void 0===a?void 0:a._id,rid:null===_||void 0===_||null===(s=_.payment_flow)||void 0===s?void 0:s._id,raid:null===_||void 0===_||null===(c=_.app_card)||void 0===c||null===(u=c.remaining_array)||void 0===u||null===(r=u[0])||void 0===r?void 0:r._id,type:null===_||void 0===_||null===(p=_.app_card)||void 0===p||null===(m=p.remaining_array)||void 0===m||null===(x=m[0])||void 0===x?void 0:x.installmentValue,raid_1:null!==(g=null===_||void 0===_||null===(f=_.app_card)||void 0===f||null===(Z=f.remaining_array)||void 0===Z||null===(N=Z[1])||void 0===N?void 0:N._id)&&void 0!==g?g:"",amount:null!==(y=null===S||void 0===S?void 0:S.amount)&&void 0!==y?y:"",mode:"Cash"===(null===S||void 0===S?void 0:S.fee_payment_mode)?"Offline":null!==(b=null===S||void 0===S?void 0:S.mode)&&void 0!==b?b:"",fee_payment_mode:"Cash"===(null===S||void 0===S?void 0:S.fee_payment_mode)?"By Cash":null===S||void 0===S?void 0:S.fee_payment_mode,fee_payment_amount:null!==(C=null===S||void 0===S?void 0:S.fee_payment_amount)&&void 0!==C?C:"",transaction_date:null!==(k=(0,ie._1)(S.transaction_date))&&void 0!==k?k:"",fee_bank_name:null!==(w=null===S||void 0===S?void 0:S.fee_bank_name)&&void 0!==w?w:"",fee_bank_holder:null!==(M=null===S||void 0===S?void 0:S.fee_bank_holder)&&void 0!==M?M:"",fee_utr_reference:null!==(F=null===S||void 0===S?void 0:S.fee_utr_reference)&&void 0!==F?F:"",pay_remain:S.pay_remain}}).then((()=>{j(),I((e=>!e)),v()})).catch({})):P(e)}})]})]})}),Z&&(0,b.jsx)(N.Z,{})]})},xe=e=>{var n,l,i,s,c,u,v,p,m,_,h,x,g,j,Z,y,I,S,C,A,k,w,P,D,F,T,R,q,L,U,G,Y,z;let{instituteId:J,applicant:B,appId:V,onRefetch:$}=e;const{t:H}=(0,a.$G)(),W=(0,t.UO)(),K=(0,t.s0)(),[Q,X]=(0,d.useState)(0),[ee,ne]=(0,d.useState)(!1),[le]=(0,o.ZN)(),ie=(0,d.useCallback)((()=>{var e;K("/q/".concat(W.username,"/member/student/admission/profile"),{state:{sid:null===B||void 0===B||null===(e=B.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:J,collectAccess:"ADMISSION_ADMIN"}})}),[J,null===B||void 0===B||null===(n=B.student)||void 0===n?void 0:n._id]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:f.Z.oac_container,onClick:ie,title:"View Profile",children:[(0,b.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==B&&void 0!==B&&null!==(l=B.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(M.yI,"/").concat(null===B||void 0===B||null===(i=B.student)||void 0===i?void 0:i.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,b.jsx)("h6",{children:"".concat(null!==(s=null===B||void 0===B||null===(c=B.student)||void 0===c?void 0:c.studentFirstName)&&void 0!==s?s:""," ").concat(null!==B&&void 0!==B&&null!==(u=B.student)&&void 0!==u&&u.studentMiddleName?null===B||void 0===B||null===(v=B.student)||void 0===v?void 0:v.studentMiddleName:""," ").concat(null!==(p=null===B||void 0===B||null===(m=B.student)||void 0===m?void 0:m.studentLastName)&&void 0!==p?p:"")}),(0,b.jsxs)("h6",{children:[H("fee_structure")," : ",null!==(_=null===B||void 0===B||null===(h=B.fee_struct)||void 0===h||null===(x=h.unique_structure_name)||void 0===x||null===(g=x.split(" - "))||void 0===g?void 0:g[0])&&void 0!==_?_:"",", ",H("rs_only")," ",null!==(j=null===B||void 0===B||null===(Z=B.fee_struct)||void 0===Z?void 0:Z.applicable_fees)&&void 0!==j?j:""]}),(0,b.jsxs)("p",{children:[H("select_on"),":",O()(null===B||void 0===B?void 0:B.select_on).format("DD MMM YYYY")]})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(r.U_,"/gender.svg"),alt:"email icon"}),(0,b.jsx)("p",{children:null===B||void 0===B||null===(y=B.student)||void 0===y?void 0:y.studentGender})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(r.U_,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{children:null!==B&&void 0!==B&&null!==(I=B.student)&&void 0!==I&&null!==(S=I.user)&&void 0!==S&&S.userPhoneNumber?null===B||void 0===B||null===(C=B.student)||void 0===C||null===(A=C.user)||void 0===A?void 0:A.userPhoneNumber:null!==B&&void 0!==B&&null!==(k=B.student)&&void 0!==k&&null!==(w=k.user)&&void 0!==w&&w.userEmail?null===B||void 0===B||null===(P=B.student)||void 0===P||null===(D=P.user)||void 0===D?void 0:D.userEmail:null!==B&&void 0!==B&&null!==(F=B.student)&&void 0!==F&&F.studentPhoneNumber?null===B||void 0===B||null===(T=B.student)||void 0===T?void 0:T.studentPhoneNumber:null!==B&&void 0!==B&&null!==(R=B.student)&&void 0!==R&&R.studentParentsPhoneNumber?null===B||void 0===B||null===(q=B.student)||void 0===q?void 0:q.studentParentsPhoneNumber:null!==(L=null===B||void 0===B||null===(U=B.student)||void 0===U?void 0:U.studentEmail)&&void 0!==L?L:""})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_stuff,children:[(0,b.jsx)("a",{href:"".concat(M.q2,"/").concat(null===B||void 0===B||null===(G=B.student)||void 0===G||null===(Y=G.application_print)||void 0===Y||null===(z=Y[0])||void 0===z?void 0:z.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,b.jsx)("img",{src:"".concat(r.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),(0,b.jsx)("img",{src:"".concat(r.U_,"/undo.svg"),alt:"undo icon",style:{width:"30px",height:"30px"},onClick:e=>{var n,l,i,t;(e.stopPropagation(),null!==B&&void 0!==B&&null!==(n=B.student)&&void 0!==n&&n._id&&V&&null!==B&&void 0!==B&&B.status_id&&null!==B&&void 0!==B&&B.revert_request_status&&null!==B&&void 0!==B&&B._id&&null!==B&&void 0!==B&&null!==(l=B.payment_flow)&&void 0!==l&&l._id)&&(ne((e=>!e)),le({sid:null===B||void 0===B||null===(i=B.student)||void 0===i?void 0:i._id,appId:V,revert:{statusId:null===B||void 0===B?void 0:B.status_id,fcid:null===B||void 0===B?void 0:B._id,rid:null===B||void 0===B||null===(t=B.payment_flow)||void 0===t?void 0:t._id,revert_status:null===B||void 0===B?void 0:B.revert_request_status}}).then((()=>{$(),ne((e=>!e))})).catch((()=>{ne((e=>!e))})))},title:"Undo Application"}),(0,b.jsx)(E.Z,{label:"collect_fees",onAction:e=>{e.stopPropagation(),X(1)},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}})]})]}),1===Q?(0,b.jsx)(he,{onClose:()=>{X("")},onRefetch:$,applicant:B,appId:V}):null,ee&&(0,b.jsx)(N.Z,{})]})},ge=e=>{var n,l,i,r,v,m;let{applicationDetail:_,instituteId:h}=e;const{t:x}=(0,a.$G)(),g=(0,t.TH)(),[j,f]=(0,d.useState)(""),[Z,y]=(0,d.useState)(1),[I,S]=(0,d.useState)(!0),[A,k]=(0,s.YD)({skip:j}),{admissionOngoingApplicationFees:M,admissionOngoingApplicationFeesLoading:F,admissionOngoingApplicationFeesRefetch:O}=(0,o.TM)({data:{appId:null===(n=g.state)||void 0===n?void 0:n.appId,page:Z,limit:10,search:j},skip:!(null!==(l=g.state)&&void 0!==l&&l.appId)});(0,d.useEffect)((()=>{k&&I&&y((e=>e+1))}),[k,I]),(0,d.useEffect)((()=>{var e;if(null!==M&&void 0!==M&&null!==(e=M.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===M||void 0===M||null===(n=M.list)||void 0===n?void 0:n.length);S((()=>e))}}),[null===M||void 0===M||null===(i=M.list)||void 0===i?void 0:i.length]);const T=(0,d.useCallback)((0,u.J)((e=>{y((()=>1)),f(e)}),1500),[]),R=(0,d.useCallback)((()=>{y((()=>1)),O()}),[]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(w.Z,{children:[(0,b.jsx)(C,{applicationDetail:_,instituteId:h}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,b.jsx)(H,{applicationDetail:_,instituteId:h,isFull:!0,children:(0,b.jsx)("input",{type:"text",placeholder:x("search_applicants"),onChange:e=>{e.target.value?T(e.target.value):(y((()=>1)),f(""))}})}),null===M||void 0===M||null===(r=M.list)||void 0===r?void 0:r.map(((e,n)=>{var l,i,t;return(null===M||void 0===M||null===(l=M.list)||void 0===l?void 0:l.length)===n+1?(0,b.jsx)("div",{ref:A,children:(0,b.jsx)(xe,{applicant:e,instituteId:h,onRefetch:R,appId:null===(i=g.state)||void 0===i?void 0:i.appId})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(xe,{applicant:e,instituteId:h,onRefetch:R,appId:null===(t=g.state)||void 0===t?void 0:t.appId},null===e||void 0===e?void 0:e._id)})),F?j?(0,b.jsx)(N.Z,{}):(0,b.jsx)(D.Z,{}):j?0===(null===M||void 0===M||null===(v=M.list)||void 0===v?void 0:v.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===M||void 0===M||null===(m=M.list)||void 0===m?void 0:m.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]})})},je=e=>{var n,l,i,t,o,d,s,c,u,v,p,m,_,h,x,g,j,Z,N,y,I,S,C,A;let{applicant:k,onSelect:w,applicantId:P}=e;const{t:D}=(0,a.$G)();return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:f.Z.oac_container,onClick:()=>{var e;return w(null===k||void 0===k||null===(e=k.student)||void 0===e?void 0:e._id,null===k||void 0===k?void 0:k._id)},style:{justifyContent:"flex-start"},children:[(0,b.jsx)("img",{className:f.Z.department_checkbox,src:null!==P&&void 0!==P&&P.includes(null===k||void 0===k||null===(n=k.student)||void 0===n?void 0:n._id)?"".concat(r.U_,"/check.svg"):"".concat(r.U_,"/uncheck.svg"),alt:"check icon"}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==k&&void 0!==k&&null!==(l=k.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(M.yI,"/").concat(null===k||void 0===k||null===(i=k.student)||void 0===i?void 0:i.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,b.jsx)("h6",{children:"".concat(null!==(t=null===k||void 0===k||null===(o=k.student)||void 0===o?void 0:o.studentFirstName)&&void 0!==t?t:""," ").concat(null!==k&&void 0!==k&&null!==(d=k.student)&&void 0!==d&&d.studentMiddleName?null===k||void 0===k||null===(s=k.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null!==(c=null===k||void 0===k||null===(u=k.student)||void 0===u?void 0:u.studentLastName)&&void 0!==c?c:"")}),(0,b.jsxs)("p",{children:[D("confirmed_on"),":"," ",O()(null===k||void 0===k?void 0:k.apply_on).format("DD MMM YYYY")]})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(r.U_,"/gender.svg"),alt:"email icon"}),(0,b.jsx)("p",{children:null===k||void 0===k||null===(v=k.student)||void 0===v?void 0:v.studentGender})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(r.U_,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{children:null!==k&&void 0!==k&&null!==(p=k.student)&&void 0!==p&&null!==(m=p.user)&&void 0!==m&&m.userPhoneNumber?null===k||void 0===k||null===(_=k.student)||void 0===_||null===(h=_.user)||void 0===h?void 0:h.userPhoneNumber:null!==k&&void 0!==k&&null!==(x=k.student)&&void 0!==x&&null!==(g=x.user)&&void 0!==g&&g.userEmail?null===k||void 0===k||null===(j=k.student)||void 0===j||null===(Z=j.user)||void 0===Z?void 0:Z.userEmail:null!==k&&void 0!==k&&null!==(N=k.student)&&void 0!==N&&N.studentPhoneNumber?null===k||void 0===k||null===(y=k.student)||void 0===y?void 0:y.studentPhoneNumber:null!==k&&void 0!==k&&null!==(I=k.student)&&void 0!==I&&I.studentParentsPhoneNumber?null===k||void 0===k||null===(S=k.student)||void 0===S?void 0:S.studentParentsPhoneNumber:null!==(C=null===k||void 0===k||null===(A=k.student)||void 0===A?void 0:A.studentEmail)&&void 0!==C?C:""})]})]})]})})},fe=e=>{var n,l,i,s;let{applicationDetail:c,instituteId:u}=e;const{t:m}=(0,a.$G)(),_=(0,t.TH)(),h=(0,t.s0)(),[x,g]=(0,d.useState)(""),[j,f]=(0,d.useState)([]),[Z,y]=(0,d.useState)([]),[I,S]=(0,d.useState)(!1),[A,k]=(0,d.useState)([]),[M,F]=(0,d.useState)(!1),[O]=(0,o.Kv)(),{admissionOngoingApplicationAllConfirmList:R,admissionOngoingApplicationAllConfirmListLoading:q,admissionOngoingApplicationAllConfirmListRefetch:L}=(0,o.m2)({data:{appId:null===(n=_.state)||void 0===n?void 0:n.appId},skip:!(null!==(l=_.state)&&void 0!==l&&l.appId)});(0,d.useEffect)((()=>{null!==R&&void 0!==R&&R.length&&k(R)}),[null===R||void 0===R?void 0:R.length]);const U=(e,n)=>{null!==j&&void 0!==j&&j.includes(e)?(f((n=>null===n||void 0===n?void 0:n.filter((n=>n!==e)))),y((n=>null===n||void 0===n?void 0:n.filter((n=>(null===n||void 0===n?void 0:n.sid)!==e))))):(f((n=>[...n,e])),y((l=>[...l,{sid:e,cid:n}])))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(w.Z,{children:[(0,b.jsx)(C,{applicationDetail:c,instituteId:u}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,b.jsxs)(T.Z,{customStyle:{justifyContent:"space-between",marginBottom:"0.7rem"},children:[(0,b.jsx)("section",{className:v.Z.fm_search_container,children:(0,b.jsxs)("div",{className:v.Z.fm_search_container_inner,style:{minWidth:"500px"},children:[(0,b.jsx)("img",{className:v.Z.fm_search_icon,alt:"search icon",src:"".concat(r.dB,"/navbar-search.svg")}),(0,b.jsx)("input",{type:"text",placeholder:m("search_applicants"),onChange:e=>{if(e.target.value){let n=Ne(R,e.target.value);k(n)}else g(""),k(R)},style:{minWidth:"500px"}})]})}),(0,b.jsxs)("div",{className:v.Z.fm_flex,children:[!Ze[null===(i=_.state)||void 0===i?void 0:i.isAuthorization]&&(0,b.jsx)(E.Z,{label:M?"remove_all":"select_all",count:null===j||void 0===j?void 0:j.length,onAction:M?()=>{f([]),y([]),F(!1)}:()=>{let e=[],n=[];for(let t of R){var l,i;e.push(null===t||void 0===t||null===(l=t.student)||void 0===l?void 0:l._id),n.push({sid:null===t||void 0===t||null===(i=t.student)||void 0===i?void 0:i._id,cid:null===t||void 0===t?void 0:t._id})}f(e),y(n),F(!0)},customStyle:{padding:"0.5rem 1rem",fontSize:"13px"}}),!Ze[null===(s=_.state)||void 0===s?void 0:s.isAuthorization]&&(0,b.jsx)(E.Z,{label:"review",onAction:()=>{var e,n;(null===j||void 0===j?void 0:j.length)>0&&null!==(e=_.state)&&void 0!==e&&e.appId&&(S((e=>!e)),O({appId:null===(n=_.state)||void 0===n?void 0:n.appId,review:{student_arr:Z}}).then((()=>{L(),S((e=>!e)),f([]),y([]),F(!1)})).catch({}))},customStyle:{padding:"0.5rem 1rem",fontSize:"13px",opacity:(null===j||void 0===j?void 0:j.length)>0?"1":"0.5"}}),(0,b.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:()=>{h(-1)}})]})]}),null===A||void 0===A?void 0:A.map((e=>(0,b.jsx)(je,{applicant:e,applicantId:j,onSelect:U},null===e||void 0===e?void 0:e._id))),q?x?(0,b.jsx)(N.Z,{}):(0,b.jsx)(D.Z,{}):x?0===(null===A||void 0===A?void 0:A.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===A||void 0===A?void 0:A.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]}),I&&(0,b.jsx)(N.Z,{})]})},Ze={isCompleted:!0},Ne=(e,n)=>null===e||void 0===e?void 0:e.filter((e=>{var l,i,t,o;let d="".concat(null===e||void 0===e||null===(l=e.student)||void 0===l?void 0:l.studentFirstName," ").concat(null===e||void 0===e||null===(i=e.student)||void 0===i?void 0:i.studentMiddleName," ").concat(null===e||void 0===e||null===(t=e.student)||void 0===t?void 0:t.studentLastName);return null!==d&&void 0!==d&&null!==(o=d.toLowerCase())&&void 0!==o&&o.includes(null===n||void 0===n?void 0:n.toLowerCase())?e:null})),ye=e=>{var n,l,i,s,c,u,v,p,m,_,h,x,g,j,Z,y,I,S,C,A,k,w,P,D,F,R,q,L,U,G;let{instituteId:Y,applicant:z,appId:J,onRefetch:B,isMultiple:V,onSelect:$,applicantId:H}=e;const{t:W}=(0,a.$G)(),K=(0,t.UO)(),Q=(0,t.s0)(),[X,ee]=(0,d.useState)(!1),[le]=(0,o.Kv)(),ie=(0,d.useCallback)((()=>{var e;Q("/q/".concat(K.username,"/student/profile"),{state:{sid:null===z||void 0===z||null===(e=z.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:Y,collectAccess:"ADMISSION_ADMIN"}})}),[Y,null===z||void 0===z||null===(n=z.student)||void 0===n?void 0:n._id]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:f.Z.oac_container,onClick:ie,title:"View Profile",children:[V?(0,b.jsx)("img",{className:f.Z.department_checkbox,src:null!==H&&void 0!==H&&H.includes(null===z||void 0===z||null===(l=z.student)||void 0===l?void 0:l._id)?"".concat(r.U_,"/check.svg"):"".concat(r.U_,"/uncheck.svg"),alt:"check icon",onClick:e=>{var n;return $(e,null===z||void 0===z||null===(n=z.student)||void 0===n?void 0:n._id,null===z||void 0===z?void 0:z._id)}}):null,(0,b.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==z&&void 0!==z&&null!==(i=z.student)&&void 0!==i&&i.studentProfilePhoto?"".concat(M.yI,"/").concat(null===z||void 0===z||null===(s=z.student)||void 0===s?void 0:s.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,b.jsx)("h6",{children:"".concat(null!==(c=null===z||void 0===z||null===(u=z.student)||void 0===u?void 0:u.studentFirstName)&&void 0!==c?c:""," ").concat(null!==z&&void 0!==z&&null!==(v=z.student)&&void 0!==v&&v.studentMiddleName?null===z||void 0===z||null===(p=z.student)||void 0===p?void 0:p.studentMiddleName:""," ").concat(null!==(m=null===z||void 0===z||null===(_=z.student)||void 0===_?void 0:_.studentLastName)&&void 0!==m?m:"")}),(0,b.jsxs)("p",{children:[W("confirmed_on"),":"," ",O()(null===z||void 0===z?void 0:z.apply_on).format("DD MMM YYYY")]})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(r.U_,"/gender.svg"),alt:"email icon"}),(0,b.jsx)("p",{children:null===z||void 0===z||null===(h=z.student)||void 0===h?void 0:h.studentGender})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(r.U_,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{children:null!==z&&void 0!==z&&null!==(x=z.student)&&void 0!==x&&null!==(g=x.user)&&void 0!==g&&g.userPhoneNumber?null===z||void 0===z||null===(j=z.student)||void 0===j||null===(Z=j.user)||void 0===Z?void 0:Z.userPhoneNumber:null!==z&&void 0!==z&&null!==(y=z.student)&&void 0!==y&&null!==(I=y.user)&&void 0!==I&&I.userEmail?null===z||void 0===z||null===(S=z.student)||void 0===S||null===(C=S.user)||void 0===C?void 0:C.userEmail:null!==z&&void 0!==z&&null!==(A=z.student)&&void 0!==A&&A.studentPhoneNumber?null===z||void 0===z||null===(k=z.student)||void 0===k?void 0:k.studentPhoneNumber:null!==z&&void 0!==z&&null!==(w=z.student)&&void 0!==w&&w.studentParentsPhoneNumber?null===z||void 0===z||null===(P=z.student)||void 0===P?void 0:P.studentParentsPhoneNumber:null!==(D=null===z||void 0===z||null===(F=z.student)||void 0===F?void 0:F.studentEmail)&&void 0!==D?D:""})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_stuff,children:[(0,b.jsx)("a",{href:"".concat(M.q2,"/").concat(null===z||void 0===z||null===(R=z.student)||void 0===R||null===(q=R.application_print)||void 0===q||null===(L=q[0])||void 0===L?void 0:L.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,b.jsx)("img",{src:"".concat(r.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),null===z||void 0===z||null===(U=z.student)||void 0===U||null===(G=U.fee_receipt)||void 0===G?void 0:G.map(((e,n)=>n>2?"":(0,b.jsx)(ne.Z,{rid:null===e||void 0===e?void 0:e._id,receiptFile:null===e||void 0===e?void 0:e.receipt_file},null===e||void 0===e?void 0:e._id))),V?null:(0,b.jsx)(T.Z,{children:(0,b.jsx)(E.Z,{label:"review",onAction:e=>{var n,l;(e.stopPropagation(),null!==z&&void 0!==z&&null!==(n=z.student)&&void 0!==n&&n._id&&J)&&(ee((e=>!e)),le({appId:J,review:{student_arr:[{sid:null===z||void 0===z||null===(l=z.student)||void 0===l?void 0:l._id,cid:null===z||void 0===z?void 0:z._id}]}}).then((()=>{B(),ee((e=>!e))})).catch({}))},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}})})]})]}),X&&(0,b.jsx)(N.Z,{})]})},be=e=>{var n,l,i,r,v,m,_;let{applicationDetail:h,instituteId:x}=e;const{t:g}=(0,a.$G)(),j=(0,t.TH)(),f=(0,t.s0)(),Z=(0,t.UO)(),[y,I]=(0,d.useState)(""),[S,A]=(0,d.useState)(1),[k,M]=(0,d.useState)(!0),[F,O]=(0,s.YD)({skip:y}),{admissionOngoingApplicationConfirm:T,admissionOngoingApplicationConfirmLoading:R,admissionOngoingApplicationConfirmRefetch:E}=(0,o.Hi)({data:{appId:null===(n=j.state)||void 0===n?void 0:n.appId,page:S,limit:10,search:y},skip:!(null!==(l=j.state)&&void 0!==l&&l.appId)});(0,d.useEffect)((()=>{O&&k&&A((e=>e+1))}),[O,k]),(0,d.useEffect)((()=>{var e;if(null!==T&&void 0!==T&&null!==(e=T.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===T||void 0===T||null===(n=T.list)||void 0===n?void 0:n.length);M((()=>e))}}),[null===T||void 0===T||null===(i=T.list)||void 0===i?void 0:i.length]);const q=(0,d.useCallback)((0,u.J)((e=>{A((()=>1)),I(e)}),1500),[]),L=(0,d.useCallback)((()=>{A((()=>1)),E()}),[E]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(w.Z,{children:[(0,b.jsx)(C,{applicationDetail:h,instituteId:x}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,b.jsx)(H,{applicationDetail:h,instituteId:x,onMultipleSelect:()=>{var e;let n="Institute"===(null===(e=j.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(Z.username,"/institute/member/admission?type=ongoing-detail&n=confirmed-multi"):"/q/".concat(Z.username,"/member/staff/admission?type=ongoing-detail&n=confirmed-multi");f(n,{state:j.state})},isExportAccess:"Confirm",isFull:"isCompleted"===(null===(r=j.state)||void 0===r?void 0:r.isAuthorization),children:(0,b.jsx)("input",{type:"text",placeholder:g("search_applicants"),onChange:e=>{e.target.value?q(e.target.value):(A((()=>1)),I(""))}})}),null===T||void 0===T||null===(v=T.list)||void 0===v?void 0:v.map(((e,n)=>{var l,i,t;return(null===T||void 0===T||null===(l=T.list)||void 0===l?void 0:l.length)===n+1?(0,b.jsx)("div",{ref:F,children:(0,b.jsx)(ye,{applicant:e,instituteId:x,onRefetch:L,appId:null===(i=j.state)||void 0===i?void 0:i.appId})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(ye,{applicant:e,instituteId:x,onRefetch:L,appId:null===(t=j.state)||void 0===t?void 0:t.appId},null===e||void 0===e?void 0:e._id)})),R?y?(0,b.jsx)(N.Z,{}):(0,b.jsx)(D.Z,{}):y?0===(null===T||void 0===T||null===(m=T.list)||void 0===m?void 0:m.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===T||void 0===T||null===(_=T.list)||void 0===_?void 0:_.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]})})};var Ie=l(26192);const Se=e=>{let{batch:n,onSelect:l,selectedBatch:i}=e;return(0,b.jsxs)("div",{className:i===(null===n||void 0===n?void 0:n._id)?"".concat(Ie.Z.admission_confirm_class_card," ").concat(Ie.Z.admission_confirm_class_card_active):Ie.Z.admission_confirm_class_card,onClick:()=>{l(n)},children:[(0,b.jsx)("img",{src:"".concat(r.J7,"/class.svg"),alt:"batch Avatar"}),(0,b.jsx)("div",{className:Ie.Z.admission_collect_docs,style:{marginTop:"0"},children:(0,b.jsx)("h6",{children:null===n||void 0===n?void 0:n.batchName})})]})},Ce=e=>{let{onClose:n,appId:l,onSelect:i,selectedBatch:t}=e;const{t:s}=(0,a.$G)(),[c,u]=(0,d.useState)(""),[v,_]=(0,d.useState)([]),{admissionOngoingApplicationReviewBatch:h,admissionOngoingApplicationReviewBatchLoading:g}=(0,o.Hk)({appId:l,skip:!l});(0,d.useEffect)((()=>{(null===h||void 0===h?void 0:h.length)>0&&_(h)}),[h]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(x.Z,{onClose:n,children:(0,b.jsxs)("div",{className:z.Z.modal_container,children:[(0,b.jsx)(p.Z,{children:(0,b.jsxs)("div",{className:z.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:z.Z.modal_container_header,children:(0,b.jsx)("h6",{children:s("select_batch")})}),(0,b.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,b.jsx)(m.Z,{}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0.3rem"},children:[(0,b.jsxs)("div",{className:z.Z.assign_search_container,children:[(0,b.jsx)("input",{type:"text",placeholder:s("search"),className:z.Z.assign_search_input,onChange:e=>{if(e.target.value){u(e.target.value);let n=Ae(h,e.target.value);_(n)}else u(""),_(h)},style:{width:"100%"}}),(0,b.jsx)("img",{src:"".concat(r.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===v||void 0===v?void 0:v.map((e=>(0,b.jsx)(Se,{batch:e,onSelect:i,selectedBatch:t}))),g?c?(0,b.jsx)(N.Z,{}):(0,b.jsx)(D.Z,{}):c?0===!(null!==v&&void 0!==v&&v.length)&&(0,b.jsx)(P.Z,{title:"No batch found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===!(null!==h&&void 0!==h&&h.length)&&(0,b.jsx)(P.Z,{title:"No batch.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})})},Ae=(e,n)=>null===e||void 0===e?void 0:e.filter((e=>{var l,i;return null!==e&&void 0!==e&&null!==(l=e.batchName)&&void 0!==l&&null!==(i=l.toLowerCase())&&void 0!==i&&i.includes(null===n||void 0===n?void 0:n.toLowerCase())?e:null}));var ke=l(77357);const we=e=>{var n,l,i,t;let{onClose:v,appId:_,bid:h,onSelect:g,selectedId:j}=e;const{t:f}=(0,a.$G)(),[Z,y]=(0,d.useState)(""),[I,S]=(0,d.useState)(1),[C,A]=(0,d.useState)(!0),[k,w]=(0,s.YD)({skip:Z}),{admissionOngoingApplicationReviewClasses:M,admissionOngoingApplicationReviewClassesLoading:F}=(0,o.AY)({data:{page:I,limit:10,search:Z,appId:_,bid:h},skip:_?!h:!_});(0,d.useEffect)((()=>{w&&C&&S((e=>e+1))}),[w,C]),(0,d.useEffect)((()=>{var e;if(null!==M&&void 0!==M&&null!==(e=M.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===M||void 0===M||null===(n=M.list)||void 0===n?void 0:n.length);A((()=>e))}}),[null===M||void 0===M||null===(n=M.list)||void 0===n?void 0:n.length]);const O=(0,d.useCallback)((0,u.J)((e=>{S((()=>1)),y(e)}),1500),[]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(x.Z,{onClose:v,children:(0,b.jsxs)("div",{className:z.Z.modal_container,children:[(0,b.jsx)(p.Z,{children:(0,b.jsxs)("div",{className:z.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:z.Z.modal_container_header,children:(0,b.jsx)("h6",{children:f("allot_class")})}),(0,b.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:v})]})}),(0,b.jsx)(m.Z,{}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0.3rem"},children:[(0,b.jsxs)("div",{className:z.Z.assign_search_container,children:[(0,b.jsx)("input",{type:"text",placeholder:f("search"),className:z.Z.assign_search_input,onChange:e=>{e.target.value?O(e.target.value):(S((()=>1)),y(""))},style:{width:"100%"}}),(0,b.jsx)("img",{src:"".concat(r.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===M||void 0===M||null===(l=M.list)||void 0===l?void 0:l.map(((e,n)=>{var l;return(null===M||void 0===M||null===(l=M.list)||void 0===l?void 0:l.length)===n+1?(0,b.jsx)("div",{ref:k,children:(0,b.jsx)(ke.Z,{cls:e,selectedCls:j,onSelect:g})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(ke.Z,{cls:e,selectedCls:j,onSelect:g},null===e||void 0===e?void 0:e._id)})),F?Z?(0,b.jsx)(N.Z,{}):(0,b.jsx)(D.Z,{}):Z?0===(null===M||void 0===M||null===(i=M.list)||void 0===i?void 0:i.length)&&(0,b.jsx)(P.Z,{title:"No classes found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===M||void 0===M||null===(t=M.list)||void 0===t?void 0:t.length)&&(0,b.jsx)(P.Z,{title:"No classes.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})})},Pe=e=>{var n,l,i,t,s,c,u,v;let{appId:_,onClose:h,onParentClose:g,state:j,applicant:Z,onRefetch:I,isMultiple:S}=e;const{t:C}=(0,a.$G)(),[A,k]=(0,d.useState)(!1),[w]=(0,o.Rq)();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.Z,{onClose:h,children:(0,b.jsxs)("div",{className:z.Z.modal_container,children:[(0,b.jsx)(p.Z,{children:(0,b.jsxs)("div",{className:z.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:z.Z.modal_container_header,children:(0,b.jsx)("h6",{children:C("allot_to_class")})}),(0,b.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:h})]})}),(0,b.jsx)(m.Z,{}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0.3rem"},children:[(0,b.jsxs)("div",{className:f.Z.admission_class_confirm,children:[S?(0,b.jsxs)(b.Fragment,{children:[C("alloting")," ",(0,b.jsx)("span",{style:{fontWeight:"600"},children:null===Z||void 0===Z?void 0:Z.length})," ",C("students")," "," "]}):(0,b.jsxs)(b.Fragment,{children:[C("lloting_student")," ",(0,b.jsx)("span",{style:{fontWeight:"600"},children:" ".concat(null!==(n=null===Z||void 0===Z||null===(l=Z.student)||void 0===l?void 0:l.studentFirstName)&&void 0!==n?n:""," ").concat(null!==Z&&void 0!==Z&&null!==(i=Z.student)&&void 0!==i&&i.studentMiddleName?null===Z||void 0===Z||null===(t=Z.student)||void 0===t?void 0:t.studentMiddleName:""," ").concat(null!==(s=null===Z||void 0===Z||null===(c=Z.student)||void 0===c?void 0:c.studentLastName)&&void 0!==s?s:""," ")})]}),",",C("to")," ",(0,b.jsx)("span",{style:{fontWeight:"600"},children:" ".concat(null===j||void 0===j||null===(u=j.cls)||void 0===u?void 0:u.className," - ").concat(null===j||void 0===j||null===(v=j.cls)||void 0===v?void 0:v.classTitle)})]}),(0,b.jsx)(y.Z,{label:"confirm",onAction:()=>{var e,n,l;_&&null!==j&&void 0!==j&&null!==(e=j.cls)&&void 0!==e&&e._id&&Z&&(k((e=>!e)),w({applicant:{dataList:S?Z:[null===Z||void 0===Z||null===(n=Z.student)||void 0===n?void 0:n._id]},appId:_,cid:null===j||void 0===j||null===(l=j.cls)||void 0===l?void 0:l._id}).then((()=>{I(),g(),k((e=>!e))})).catch({}))}})]})]})}),A&&(0,b.jsx)(N.Z,{})]})},De=e=>{var n,l;let{appId:i,applicant:t,onClose:o,onRefetch:a,isMultiple:s}=e;const[c,u]=(0,d.useState)(1),[r,v]=(0,d.useState)({batch:"",cls:""});return 1===c?(0,b.jsx)(Ce,{appId:i,selectedBatch:null===r||void 0===r||null===(n=r.batch)||void 0===n?void 0:n._id,onClose:o,onSelect:e=>{u(2),v((n=>({...n,batch:e})))}}):2===c?(0,b.jsx)(we,{appId:i,bid:null===(l=r.batch)||void 0===l?void 0:l._id,selectedId:null===r||void 0===r?void 0:r.cls,onClose:()=>u(1),onSelect:e=>{u(3),v((n=>({...n,cls:e})))}}):3===c?(0,b.jsx)(Pe,{appId:i,state:r,onClose:()=>u(2),applicant:t,onRefetch:a,isMultiple:s,onParentClose:o}):null},Me=e=>{var n,l,i,t,o,d,a;let{applicant:s,onSelect:c,applicantId:u}=e;return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:f.Z.oac_container,onClick:()=>c(null===s||void 0===s?void 0:s._id),style:{justifyContent:"flex-start"},children:[(0,b.jsx)("img",{className:f.Z.department_checkbox,src:null!==u&&void 0!==u&&u.includes(null===s||void 0===s?void 0:s._id)?"".concat(r.U_,"/check.svg"):"".concat(r.U_,"/uncheck.svg"),alt:"check icon"}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==s&&void 0!==s&&s.studentProfilePhoto?"".concat(M.yI,"/").concat(null===s||void 0===s?void 0:s.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsx)("div",{className:f.Z.oac_container_inner_info,children:(0,b.jsx)("h6",{children:"".concat(null!==(n=null===s||void 0===s?void 0:s.studentFirstName)&&void 0!==n?n:""," ").concat(null!==s&&void 0!==s&&s.studentMiddleName?null===s||void 0===s?void 0:s.studentMiddleName:""," ").concat(null!==(l=null===s||void 0===s?void 0:s.studentLastName)&&void 0!==l?l:"")})})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(r.U_,"/gender.svg"),alt:"email icon"}),(0,b.jsx)("p",{children:null===s||void 0===s?void 0:s.studentGender})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(r.U_,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{children:null!==s&&void 0!==s&&null!==(i=s.user)&&void 0!==i&&i.userPhoneNumber?null===s||void 0===s||null===(t=s.user)||void 0===t?void 0:t.userPhoneNumber:null!==s&&void 0!==s&&null!==(o=s.user)&&void 0!==o&&o.userEmail?null===s||void 0===s||null===(d=s.user)||void 0===d?void 0:d.userEmail:null!==s&&void 0!==s&&s.studentPhoneNumber?null===s||void 0===s?void 0:s.studentPhoneNumber:null!==s&&void 0!==s&&s.studentParentsPhoneNumber?null===s||void 0===s?void 0:s.studentParentsPhoneNumber:null!==(a=null===s||void 0===s?void 0:s.studentEmail)&&void 0!==a?a:""})]})]})]})})},Fe=e=>{var n,l,i,s,c;let{applicationDetail:u,instituteId:m,aid:_}=e;const{t:h}=(0,a.$G)(),x=(0,t.TH)(),g=(0,t.s0)(),[j,f]=(0,d.useState)(""),[Z,y]=(0,d.useState)([]),[I,S]=(0,d.useState)(""),[A,k]=(0,d.useState)([]),[M,F]=(0,d.useState)(!1),{admissionOngoingApplicationAllReviewList:O,admissionOngoingApplicationAllReviewListLoading:R,admissionOngoingApplicationAllReviewListRefetch:q}=(0,o.HU)({data:{appId:null===(n=x.state)||void 0===n?void 0:n.appId},skip:!(null!==(l=x.state)&&void 0!==l&&l.appId)});(0,d.useEffect)((()=>{null!==O&&void 0!==O&&O.length&&k(O)}),[null===O||void 0===O?void 0:O.length]);const L=e=>{null!==Z&&void 0!==Z&&Z.includes(e)?y((n=>null===n||void 0===n?void 0:n.filter((n=>n!==e)))):y((n=>[...n,e]))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(w.Z,{children:[(0,b.jsx)(C,{applicationDetail:u,instituteId:m,isExportAccess:"Confirm_Query",isTransferAccess:"Review",aid:_}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,b.jsxs)(T.Z,{customStyle:{justifyContent:"space-between",marginBottom:"0.7rem"},children:[(0,b.jsx)("section",{className:v.Z.fm_search_container,children:(0,b.jsxs)("div",{className:v.Z.fm_search_container_inner,style:{minWidth:"500px"},children:[(0,b.jsx)("img",{className:v.Z.fm_search_icon,alt:"search icon",src:"".concat(r.dB,"/navbar-search.svg")}),(0,b.jsx)("input",{type:"text",placeholder:h("search_applicants"),onChange:e=>{if(e.target.value){let n=Te(O,e.target.value);k(n)}else f(""),k(O)},style:{minWidth:"500px"}})]})}),(0,b.jsxs)("div",{className:v.Z.fm_flex,children:[!Oe[null===(i=x.state)||void 0===i?void 0:i.isAuthorization]&&(0,b.jsx)(E.Z,{label:M?"remove_all":"select_all",count:null===Z||void 0===Z?void 0:Z.length,onAction:M?()=>{y([]),F(!1)}:()=>{let e=[];for(let n of O)e.push(null===n||void 0===n?void 0:n._id);F(!1),F(!0)},customStyle:{padding:"0.5rem 1rem",fontSize:"13px"}}),!Oe[null===(s=x.state)||void 0===s?void 0:s.isAuthorization]&&(0,b.jsx)(E.Z,{label:"allot_class",onAction:()=>{(null===Z||void 0===Z?void 0:Z.length)>0&&S(1)},customStyle:{padding:"0.5rem 1rem",fontSize:"13px",opacity:(null===Z||void 0===Z?void 0:Z.length)>0?"1":"0.5"}}),(0,b.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:()=>{g(-1)}})]})]}),null===A||void 0===A?void 0:A.map((e=>(0,b.jsx)(Me,{applicant:e,applicantId:Z,onSelect:L},null===e||void 0===e?void 0:e._id))),R?j?(0,b.jsx)(N.Z,{}):(0,b.jsx)(D.Z,{}):j?0===(null===A||void 0===A?void 0:A.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===A||void 0===A?void 0:A.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]}),1===I?(0,b.jsx)(De,{appId:null===(c=x.state)||void 0===c?void 0:c.appId,applicant:Z,onClose:()=>{S("")},onRefetch:()=>{F(!1),F([]),y([]),q()},isMultiple:!0}):null]})},Oe={isCompleted:!0},Te=(e,n)=>null===e||void 0===e?void 0:e.filter((e=>{var l,i,t,o;let d="".concat(null===e||void 0===e||null===(l=e.student)||void 0===l?void 0:l.studentFirstName," ").concat(null===e||void 0===e||null===(i=e.student)||void 0===i?void 0:i.studentMiddleName," ").concat(null===e||void 0===e||null===(t=e.student)||void 0===t?void 0:t.studentLastName);return null!==d&&void 0!==d&&null!==(o=d.toLowerCase())&&void 0!==o&&o.includes(null===n||void 0===n?void 0:n.toLowerCase())?e:null})),Re=e=>{var n;let{onClose:l,applicant:i,appId:t,onRefetch:s}=e;const{t:c}=(0,a.$G)(),[u,v]=(0,d.useState)(!1),[_,h]=(0,d.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),[j,f]=(0,d.useState)(""),[Z,I]=(0,d.useState)(0),[S]=(0,o.D5)();(0,d.useEffect)((()=>{var e,n;if((null===i||void 0===i||null===(e=i.student)||void 0===e||null===(n=e.paidFeeList)||void 0===n?void 0:n.length)>0){var l,o,d,a;const e=null===i||void 0===i||null===(l=i.student)||void 0===l||null===(o=l.paidFeeList)||void 0===o?void 0:o.filter((e=>(null===e||void 0===e?void 0:e.appId)===t));I(null!==(d=null===e||void 0===e||null===(a=e[0])||void 0===a?void 0:a.paidAmount)&&void 0!==d?d:0)}}),[null===i||void 0===i||null===(n=i.student)||void 0===n?void 0:n.paidFeeList]);const C=e=>{h((n=>({...n,[e.target.name]:e.target.value})))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.Z,{onClose:l,children:(0,b.jsxs)("div",{className:g.Z.modal_container,children:[(0,b.jsx)(p.Z,{children:(0,b.jsxs)("div",{className:g.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:g.Z.modal_container_header,children:(0,b.jsx)("h6",{children:c("cancel_addmission")})}),(0,b.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:l})]})}),(0,b.jsx)(m.Z,{}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0"},children:[(0,b.jsxs)("div",{className:g.Z.admission_fees_row,children:[(0,b.jsxs)("h6",{children:[c("fees_paid")," :"]}),(0,b.jsxs)("h6",{children:[c("rs_only")," ",Z]})]}),(0,b.jsx)(L.Z,{label:"".concat(c("refund_amount")),placeholder:c("please_enter_refund_amount"),name:"amount",value:_.amount,type:"tel",onChange:e=>{h((n=>({...n,amount:+e.target.value,fee_payment_amount:+e.target.value})))},errorShow:j.amount}),(0,b.jsx)(te.Z,{paymentHeading:c("refund_payment_type_mode"),selectLabel:c("mode_placeholder"),onClick:e=>{h((n=>({...n,mode:"By Cash"===e?"Offline":"Online",fee_payment_mode:e})))},errorShow:j.fee_payment_mode,defalutValue:_.fee_payment_mode,selectedValue:c("please_select_payment_mode"),isAuthority:"admissionCollectMode"}),(0,b.jsx)(le.Z,{label:c("select_date_of_transaction"),placeholder:c("please_select_date"),name:"transaction_date",value:_.transaction_date,onChange:e=>{h((n=>({...n,transaction_date:(0,ie.jh)(e)})))},errorShow:j.transaction_date}),"Cash"===_.fee_payment_mode?null:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:g.Z.admission_fees_row,style:{margin:0},children:(0,b.jsx)("h6",{style:{margin:0,marginTop:"1rem"},children:c("paid_to")})}),(0,b.jsx)(L.Z,{label:c("bank_name_collect"),placeholder:c("please_enter_bank_name"),name:"fee_bank_name",value:_.fee_bank_name,type:"text",onChange:C}),(0,b.jsx)(L.Z,{label:c("banke_holder_name"),placeholder:c("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:_.fee_bank_holder,type:"text",onChange:C}),(0,b.jsx)(L.Z,{label:c("cheque_dd_neft"),placeholder:c("please_enter_utr_ref_number"),name:"fee_utr_reference",value:_.fee_utr_reference,type:"text",onChange:C})]}),(0,b.jsx)(y.Z,{label:"confirm",onAction:()=>{let e=(0,q.l)(_,["mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference"]);var n,o,d,a,c,u,r,p,m,h,x,g,j,Z,N;(0,q.x)(e)?null!==i&&void 0!==i&&null!==(n=i.student)&&void 0!==n&&n._id&&t&&null!==i&&void 0!==i&&null!==(o=i.student)&&void 0!==o&&null!==(d=o.fee_structure)&&void 0!==d&&d._id&&(v((e=>!e)),S({sid:null===i||void 0===i||null===(a=i.student)||void 0===a?void 0:a._id,appId:t,payment:{struct:null===i||void 0===i||null===(c=i.student)||void 0===c||null===(u=c.fee_structure)||void 0===u?void 0:u._id,amount:null!==(r=null===_||void 0===_?void 0:_.amount)&&void 0!==r?r:"",mode:null!==(p=null===_||void 0===_?void 0:_.mode)&&void 0!==p?p:"",fee_payment_mode:null!==(m=null===_||void 0===_?void 0:_.fee_payment_mode)&&void 0!==m?m:"",fee_payment_amount:null!==(h=null===_||void 0===_?void 0:_.fee_payment_amount)&&void 0!==h?h:"",transaction_date:null!==(x=(0,ie._1)(_.transaction_date))&&void 0!==x?x:"",fee_bank_name:null!==(g=null===_||void 0===_?void 0:_.fee_bank_name)&&void 0!==g?g:"",fee_bank_holder:null!==(j=null===_||void 0===_?void 0:_.fee_bank_holder)&&void 0!==j?j:"",fee_utr_reference:null!==(Z=null===_||void 0===_?void 0:_.fee_utr_reference)&&void 0!==Z?Z:"",remainAmount:null!==(N=null===i||void 0===i?void 0:i.fee_remain)&&void 0!==N?N:0}}).then((()=>{s(),v((e=>!e)),l()})).catch({})):f(e)}})]})]})}),u&&(0,b.jsx)(N.Z,{})]})},Ee=e=>{var n,l,i,o,s,c,u,v,p,m,_,h,x,g,j,Z,N,y,I,S,C,A,k,w,P,D,F,O,R,q;let{instituteId:L,applicant:U,appId:G,onRefetch:Y,isMultiple:z,onSelect:J,applicantId:B}=e;const{t:V}=(0,a.$G)(),$=(0,t.UO)(),H=(0,t.s0)(),[W,K]=(0,d.useState)(""),Q=(0,d.useCallback)((()=>{var e;H("/q/".concat($.username,"/student/profile"),{state:{sid:null===U||void 0===U||null===(e=U.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:L,collectAccess:"ADMISSION_ADMIN"}})}),[L,null===U||void 0===U||null===(n=U.student)||void 0===n?void 0:n._id]),X=()=>{K("")};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:f.Z.oac_container,onClick:Q,title:"View Profile",children:[z?(0,b.jsx)("img",{className:f.Z.department_checkbox,src:null!==B&&void 0!==B&&B.includes(null===U||void 0===U||null===(l=U.student)||void 0===l?void 0:l._id)?"".concat(r.U_,"/check.svg"):"".concat(r.U_,"/uncheck.svg"),alt:"check icon",onClick:e=>{var n;return J(e,null===U||void 0===U||null===(n=U.student)||void 0===n?void 0:n._id)}}):null,(0,b.jsxs)("div",{className:f.Z.oac_container_inner,children:[(0,b.jsx)("img",{alt:"Student Request Avatar",src:null!==U&&void 0!==U&&null!==(i=U.student)&&void 0!==i&&i.studentProfilePhoto?"".concat(M.yI,"/").concat(null===U||void 0===U||null===(o=U.student)||void 0===o?void 0:o.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,b.jsxs)("div",{className:f.Z.oac_container_inner_info,children:[(0,b.jsx)("h6",{children:"".concat(null!==(s=null===U||void 0===U||null===(c=U.student)||void 0===c?void 0:c.studentFirstName)&&void 0!==s?s:""," ").concat(null!==U&&void 0!==U&&null!==(u=U.student)&&void 0!==u&&u.studentMiddleName?null===U||void 0===U||null===(v=U.student)||void 0===v?void 0:v.studentMiddleName:""," ").concat(null!==(p=null===U||void 0===U||null===(m=U.student)||void 0===m?void 0:m.studentLastName)&&void 0!==p?p:"")}),(0,b.jsx)("p",{onClick:e=>{e.stopPropagation(),K(2)},style:{color:"#436dfa"},children:V("cancel_admision")})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact,children:[(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(r.U_,"/gender.svg"),alt:"email icon"}),(0,b.jsx)("p",{children:null===U||void 0===U||null===(_=U.student)||void 0===_?void 0:_.studentGender})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_contact_inner,children:[(0,b.jsx)("img",{src:"".concat(r.U_,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{children:null!==U&&void 0!==U&&null!==(h=U.student)&&void 0!==h&&null!==(x=h.user)&&void 0!==x&&x.userPhoneNumber?null===U||void 0===U||null===(g=U.student)||void 0===g||null===(j=g.user)||void 0===j?void 0:j.userPhoneNumber:null!==U&&void 0!==U&&null!==(Z=U.student)&&void 0!==Z&&null!==(N=Z.user)&&void 0!==N&&N.userEmail?null===U||void 0===U||null===(y=U.student)||void 0===y||null===(I=y.user)||void 0===I?void 0:I.userEmail:null!==U&&void 0!==U&&null!==(S=U.student)&&void 0!==S&&S.studentPhoneNumber?null===U||void 0===U||null===(C=U.student)||void 0===C?void 0:C.studentPhoneNumber:null!==U&&void 0!==U&&null!==(A=U.student)&&void 0!==A&&A.studentParentsPhoneNumber?null===U||void 0===U||null===(k=U.student)||void 0===k?void 0:k.studentParentsPhoneNumber:null!==(w=null===U||void 0===U||null===(P=U.student)||void 0===P?void 0:P.studentEmail)&&void 0!==w?w:""})]})]}),(0,b.jsxs)("div",{className:f.Z.oac_container_stuff,style:{width:"25%"},children:[(0,b.jsx)("a",{href:"".concat(M.q2,"/").concat(null===U||void 0===U||null===(D=U.student)||void 0===D||null===(F=D.application_print)||void 0===F||null===(O=F[0])||void 0===O?void 0:O.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,b.jsx)("img",{src:"".concat(r.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),null===U||void 0===U||null===(R=U.student)||void 0===R||null===(q=R.fee_receipt)||void 0===q?void 0:q.map(((e,n)=>n>2?"":(0,b.jsx)(ne.Z,{rid:null===e||void 0===e?void 0:e._id,receiptFile:null===e||void 0===e?void 0:e.receipt_file},null===e||void 0===e?void 0:e._id))),z?null:(0,b.jsx)(T.Z,{children:(0,b.jsx)(E.Z,{label:"allot_class",onAction:e=>{e.stopPropagation(),K(1)},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}})})]})]}),2===W?(0,b.jsx)(Re,{appId:G,applicant:U,onClose:X,onRefetch:Y}):1===W?(0,b.jsx)(De,{appId:G,applicant:U,onClose:X,onRefetch:Y}):null]})};var qe=l(89064);const Le=e=>{let{onClose:n,appId:l,onRefetch:i}=e;const{t:t}=(0,a.$G)(),[s,c]=(0,d.useState)(!1),[u]=(0,o.LT)(),r=e=>{l&&(c((e=>!e)),u({appId:l,sort_query:e}).then((()=>{i(),c((e=>!e)),n()})).catch({}))};return(0,b.jsxs)(qe.Z,{onClose:n,disabled:s,customStyle:{width:"15rem"},children:[(0,b.jsx)("h6",{onClick:()=>r("Alpha"),children:t("alphabetical")}),(0,b.jsx)("h6",{onClick:()=>r("Gender"),children:t("gender")}),(0,b.jsx)("h6",{onClick:()=>r("Gender_Alpha"),children:t("both")})]})},Ue=e=>{var n,l,i,r,v,m;let{applicationDetail:_,instituteId:h,aid:x}=e;const{t:g}=(0,a.$G)(),j=(0,t.TH)(),f=(0,t.s0)(),Z=(0,t.UO)(),[y,I]=(0,d.useState)(""),[S,A]=(0,d.useState)(1),[k,M]=(0,d.useState)(!0),[F,O]=(0,s.YD)({skip:y}),[T,R]=(0,d.useState)(!1),{admissionOngoingApplicationReview:E,admissionOngoingApplicationReviewLoading:q,admissionOngoingApplicationReviewRefetch:L}=(0,o._v)({data:{appId:null===(n=j.state)||void 0===n?void 0:n.appId,page:S,limit:10,search:y},skip:!(null!==(l=j.state)&&void 0!==l&&l.appId)});(0,d.useEffect)((()=>{O&&k&&A((e=>e+1))}),[O,k]),(0,d.useEffect)((()=>{var e;if(null!==E&&void 0!==E&&null!==(e=E.list)&&void 0!==e&&e.length){var n;let e=(0,c.f)(null===E||void 0===E||null===(n=E.list)||void 0===n?void 0:n.length);M((()=>e))}}),[null===E||void 0===E||null===(i=E.list)||void 0===i?void 0:i.length]);const U=(0,d.useCallback)((0,u.J)((e=>{A((()=>1)),I(e)}),1500),[]),G=(0,d.useCallback)((()=>{A((()=>1)),L()}),[L]),Y=(0,d.useCallback)((()=>{R((e=>!e))}),[]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(w.Z,{children:[(0,b.jsx)(C,{applicationDetail:_,instituteId:h,isExportAccess:"Confirm_Query",isTransferAccess:"Review",aid:x}),(0,b.jsxs)(p.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,b.jsx)(H,{applicationDetail:_,instituteId:h,isExportAccess:"Confirm_Query",isTransferAccess:"Review",aid:x,onMultipleSelect:()=>{var e;let n="Institute"===(null===(e=j.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(Z.username,"/institute/member/admission?type=ongoing-detail&n=review-multi"):"/q/".concat(Z.username,"/member/staff/admission?type=ongoing-detail&n=review-multi");f(n,{state:j.state})},onResuffleToggle:Y,children:(0,b.jsx)("input",{type:"text",placeholder:g("search_applicants"),onChange:e=>{e.target.value?U(e.target.value):(A((()=>1)),I(""))}})}),null===E||void 0===E||null===(r=E.list)||void 0===r?void 0:r.map(((e,n)=>{var l,i,t;return(null===E||void 0===E||null===(l=E.list)||void 0===l?void 0:l.length)===n+1?(0,b.jsx)("div",{ref:F,children:(0,b.jsx)(Ee,{applicant:{student:e},instituteId:h,onRefetch:G,appId:null===(i=j.state)||void 0===i?void 0:i.appId})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(Ee,{applicant:{student:e},instituteId:h,onRefetch:G,appId:null===(t=j.state)||void 0===t?void 0:t.appId},null===e||void 0===e?void 0:e._id)})),q?y?(0,b.jsx)(N.Z,{}):(0,b.jsx)(D.Z,{}):y?0===(null===E||void 0===E||null===(v=E.list)||void 0===v?void 0:v.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants found related this search."}):0===(null===E||void 0===E||null===(m=E.list)||void 0===m?void 0:m.length)&&(0,b.jsx)(P.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission applicants list."})]})]}),T&&(0,b.jsx)(Le,{onClose:Y,appId:null===_||void 0===_?void 0:_._id,onRefetch:G})]})},Ge=e=>{var n,l;let{instituteId:d,aid:a}=e;const[s]=(0,i.lr)(),c=(0,t.TH)(),{admissionOneOngoingApplication:u}=(0,o.nK)({appId:null===(n=c.state)||void 0===n?void 0:n.appId,skip:!(null!==(l=c.state)&&void 0!==l&&l.appId)});return(0,b.jsx)(b.Fragment,{children:s.get("n")?"document"===s.get("n")?(0,b.jsx)(ve,{applicationDetail:u,instituteId:d}):"fees"===s.get("n")?(0,b.jsx)(ge,{applicationDetail:u,instituteId:d}):"confirmed"===s.get("n")?(0,b.jsx)(be,{applicationDetail:u,instituteId:d}):"confirmed-multi"===s.get("n")?(0,b.jsx)(fe,{applicationDetail:u,instituteId:d}):"review"===s.get("n")?(0,b.jsx)(Ue,{applicationDetail:u,instituteId:d,aid:a}):"review-multi"===s.get("n")?(0,b.jsx)(Fe,{applicationDetail:u,instituteId:d,aid:a}):"allottment"===s.get("n")?(0,b.jsx)(ae,{applicationDetail:u,instituteId:d}):"cancelled"===s.get("n")?(0,b.jsx)(ce,{applicationDetail:u,instituteId:d}):null:(0,b.jsx)(ee,{applicationDetail:u,instituteId:d,aid:a})})}},77357:(e,n,l)=>{l.d(n,{Z:()=>a});var i=l(39230),t=l(98684),o=l(26192),d=l(80184);const a=e=>{var n,l;let{onSelect:a,cls:s,isView:c,selectedCls:u}=e;const{t:r}=(0,i.$G)();return(0,d.jsxs)("div",{className:u===(null===s||void 0===s?void 0:s._id)?"".concat(o.Z.admission_confirm_class_card," ").concat(o.Z.admission_confirm_class_card_active):o.Z.admission_confirm_class_card,onClick:()=>{a(s)},children:[(0,d.jsx)("img",{src:"".concat(t.J7,"/class.svg"),alt:"Class Avatar",loading:"lazy"}),(0,d.jsxs)("div",{className:o.Z.admission_collect_docs,children:[(0,d.jsx)("h6",{children:"".concat(null!==(n=null===s||void 0===s?void 0:s.className)&&void 0!==n?n:""," - ").concat(null!==(l=null===s||void 0===s?void 0:s.classTitle)&&void 0!==l?l:"")}),"CLASS_TEACHER"===c?null:(0,d.jsxs)("div",{className:o.Z.admission_confirm_class_count,children:[(0,d.jsxs)("p",{children:[r("boys")," : ",null===s||void 0===s?void 0:s.boyCount]}),(0,d.jsxs)("p",{children:[r("girls")," : ",null===s||void 0===s?void 0:s.girlCount]})]})]})]})}},50518:(e,n,l)=>{l.d(n,{Z:()=>d});var i=l(19056),t=l(52245),o=l(80184);const d=e=>{let{paymentHeading:n,selectLabel:l,onClick:d,selectedValue:s,customStyleContainer:c,customLabelStyle:u,customListStyle:r,errorShow:v,defalutValue:p,isAuthority:m,isDenied:_}=e;return(0,o.jsxs)(o.Fragment,{children:[n&&(0,o.jsx)("h6",{className:t.Z.payment_mode_heading,children:n}),(0,o.jsx)(i.Z,{selectLabel:l,onClick:d,selectedValue:s,options:a[m],customStyleContainer:c,customLabelStyle:u,customListStyle:r,errorShow:v,defalutValue:p,isDenied:_})]})};let a={admissionCollectMode:["Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft"],admissionStudentProfileCollectMode:["Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft","Unrecovered/Exemption"],depositRefundMode:["By Bank","By Cash"]}},66239:(e,n,l)=>{l.d(n,{Z:()=>u});var i=l(72791),t=l(98684),o=l(6758),d=l(37782),a=l(55336),s=l(1095),c=l(80184);const u=e=>{let{rid:n,receiptFile:u}=e;const[r,v]=(0,i.useState)(""),[p,m]=(0,i.useState)(!1),[_,h]=(0,i.useState)(""),{financeReceipt:x,financeReceiptRefetch:g}=(0,o.Nw)({rid:r,skip:!r});(0,i.useEffect)((()=>{r&&g()}),[r,g]),(0,i.useEffect)((()=>{null!==x&&void 0!==x&&x.receipt&&null!==x&&void 0!==x&&x.all_remain&&h(x)}),[x]),(0,i.useEffect)((()=>{if(_){var e;const n=new Worker(new URL(l.p+l.u(33649),l.b));if("Hostel Application"===(null===_||void 0===_||null===(e=_.all_remain)||void 0===e?void 0:e.remaining_flow)){const{institute:e,studentInfo:l,paymentReceiptInfo:i}=(0,d.sp)(null===_||void 0===_?void 0:_.all_remain,null===_||void 0===_?void 0:_.receipt);n.postMessage({institute:e,studentInfo:l,paymentReceiptInfo:i,printReceiptType:"Refunded"===(null===i||void 0===i?void 0:i.transactonRefund)?"HOSTEL_REFUND":"HOSTEL"})}else{const{institute:e,studentInfo:l,paymentReceiptInfo:i}=(0,d.Hs)(null===_||void 0===_?void 0:_.all_remain,null===_||void 0===_?void 0:_.receipt);n.postMessage({institute:e,studentInfo:l,paymentReceiptInfo:i,printReceiptType:"Refunded"===(null===i||void 0===i?void 0:i.transactonRefund)?"ADMISSION_REFUND":"ADMISSION"})}n.onmessage=e=>{e&&(window.open(e.data,"_blank"),m((e=>!e)),h(""),n.terminate())}}}),[_]);return(0,c.jsxs)(c.Fragment,{children:[u?(0,c.jsx)("a",{href:"".concat(s.q2,"/").concat(u),target:"_blank",rel:"noopener noreferrer",onClick:e=>{e.stopPropagation()},children:(0,c.jsx)("img",{src:"".concat(t.J7,"/receipt.svg"),alt:"receipt icon",title:"Download Fees Receipt"})}):(0,c.jsx)("img",{src:"".concat(t.J7,"/receipt.svg"),alt:"receipt icon",title:"Download Fees Receipt",onClick:e=>(e=>{e.stopPropagation(),m((e=>!e)),v(n),r===n&&h(x)})(e)}),p&&(0,c.jsx)(a.Z,{})]})}},85794:(e,n,l)=>{l.d(n,{Z:()=>u});var i=l(72791),t=l(54164),o=l(15783),d=l(98684),a=l(80184);const s=e=>{let{onClose:n,isVariant:l,isHide:i,children:s}=e;return t.createPortal((0,a.jsx)("div",{children:(0,a.jsx)("div",{className:i?o.Z.notify_hide_overlay:o.Z.notify_overlay,children:(0,a.jsxs)("div",{className:o.Z.notify_container,style:{"--notify-bg-color":l},children:[s,(0,a.jsx)("img",{src:"".concat(d.Fk,"/close-white.svg"),alt:"close icon",onClick:n,className:o.Z.notify_close})]})})}),document.getElementById("notify-alert"))},c={success:"green",error:"#ed4a4a",warning:"orange"},u=e=>{var n;let{eventState:l,eventStateHandler:t}=e;const[d,u]=(0,i.useState)(!1);return null!==l&&void 0!==l&&l.open?(0,a.jsx)(s,{onClose:()=>{u(!0);let e=setTimeout((()=>{t((e=>({...e,open:!1,msg:"",variant:"success"}))),u(!1)}),500);return()=>clearTimeout(e)},isVariant:c[null===l||void 0===l?void 0:l.variant],isHide:d,children:(0,a.jsx)("h6",{className:o.Z.notify_message,children:null!==(n=null===l||void 0===l?void 0:l.msg)&&void 0!==n?n:""})}):null}},16313:(e,n,l)=>{l.d(n,{Z:()=>i});const i={attendence:"Attendence_attendence__I1yeT",attendencehead:"Attendence_attendencehead__exMGX",attendenceBtns:"Attendence_attendenceBtns__NDLVN",changemonth:"Attendence_changemonth__tk0Uc",buttons:"Attendence_buttons__iJ4z9",leaves:"Attendence_leaves__nC9+y",save:"Attendence_save__Q1WxJ",time_slot_btn:"Attendence_time_slot_btn__ckJ9r",calender:"Attendence_calender__wZXxH",arrowbtn:"Attendence_arrowbtn__Gm18t",dates:"Attendence_dates__40mER",date:"Attendence_date__qlh8f",clickedDate:"Attendence_clickedDate__q347p",tabs:"Attendence_tabs__9GYC-",tab:"Attendence_tab__IXFzc",grey:"Attendence_grey__r-jIX",purple:"Attendence_purple__J8wxa",light:"Attendence_light__r4yiQ",tabgreen:"Attendence_tabgreen__uE2sT",red:"Attendence_red__v+w+y",rose:"Attendence_rose__uW+8p",list:"Attendence_list__R99VM",divider:"Attendence_divider__MjzEh",selectMonthList:"Attendence_selectMonthList__ItnM7",month:"Attendence_month__32s-8",time_slot:"Attendence_time_slot__uB3tR",time_slot_inner:"Attendence_time_slot_inner__LMrgE",al_container:"Attendence_al_container__WjTYJ",al_container_h6:"Attendence_al_container_h6__avjZi",al_container_active:"Attendence_al_container_active__mhWSf",al_container_img:"Attendence_al_container_img__CYG2U"}},75285:(e,n,l)=>{l.d(n,{Z:()=>i});const i={content2:"OneOngoingAdmission_content2__UrY-4",content3:"OneOngoingAdmission_content3__wmxHl",appinforow:"OneOngoingAdmission_appinforow__SS5D4",appinforow1:"OneOngoingAdmission_appinforow1__nwEXk",appinforow2:"OneOngoingAdmission_appinforow2__KSPRj",appinforowred:"OneOngoingAdmission_appinforowred__EJthG",oac_container:"OneOngoingAdmission_oac_container__oeabB",oac_container_inner:"OneOngoingAdmission_oac_container_inner__Ki5D9",oac_container_inner_info:"OneOngoingAdmission_oac_container_inner_info__cm-xm",oac_container_contact:"OneOngoingAdmission_oac_container_contact__swjup",oac_container_contact_inner:"OneOngoingAdmission_oac_container_contact_inner__Ppdbl",oac_container_stuff:"OneOngoingAdmission_oac_container_stuff__+CGpg",admission_confirm_batch_card:"OneOngoingAdmission_admission_confirm_batch_card__AtVzz",admission_confirm_batch_card_active:"OneOngoingAdmission_admission_confirm_batch_card_active__V8p66"}}}]);
//# sourceMappingURL=81381.822b79b6.chunk.js.map