"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[339],{97655:function(e,n,t){var i=t(1413),l=(t(72791),t(39230)),o=t(38733),s=t(80184);n.Z=function(e){var n=e.labelText,t=e.name,a=e.type,r=e.value,c=e.onChange,d=e.placeholder,u=e.errorShow,x=e.customStyleContainer,_=e.customStyleLabel,f=e.customStyleInput,m=e.inputLength,v=e.reAccount,h=e.disabled,p=(0,l.$G)().t;return(0,s.jsxs)("div",{className:o.Z.join_form_container,style:(0,i.Z)({},x),children:[(0,s.jsxs)("label",{className:o.Z.join_form_label,htmlFor:t,style:(0,i.Z)({},_),children:[n," ",!v&&u&&(0,s.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",p("form_require_label")]}),v&&(0,s.jsx)("span",{style:{color:"red",marginLeft:"15px"},children:v})]}),"tel"===a?(0,s.jsx)("input",{className:o.Z.join_form_input,type:a,value:r,onChange:c,name:t,placeholder:d,maxLength:null!==m&&void 0!==m?m:100,disabled:h,style:f}):(0,s.jsx)("input",{className:o.Z.join_form_input,type:a,value:r,onChange:c,name:t,placeholder:d,disabled:h,style:f})]})}},84565:function(e,n,t){t.r(n),t.d(n,{default:function(){return E}});var i=t(93433),l=t(29439),o=t(72791),s=t(39230),a=t(29407),r=t(16871),c=t(23441),d=t(11105),u=t(72426),x=t.n(u),_=t(87932),f=t(98734),m=t(12072),v=t(84489),h=t(87049),p=t(97655),j=t(98094),Z=t(80184),g=function(e){var n,t=e.onEdit,i=e.xlsxId,a=(0,s.$G)().t,r=(0,o.useState)(null!==(n=null===i||void 0===i?void 0:i.excel_file_name)&&void 0!==n?n:""),c=(0,l.Z)(r,2),d=c[0],u=c[1],x=(0,o.useState)(""),_=(0,l.Z)(x,2),f=_[0],m=_[1];(0,o.useEffect)((function(){var e;u(null!==(e=null===i||void 0===i?void 0:i.excel_file_name)&&void 0!==e?e:"")}),[null===i||void 0===i?void 0:i.excel_file_name]);return(0,Z.jsxs)("div",{style:{width:"20rem",minHeight:"10rem",padding:"1rem"},children:[(0,Z.jsx)("h6",{children:a("update_excel_name")}),(0,Z.jsx)(j.Z,{customStyle:{width:"100%"}}),(0,Z.jsx)(p.Z,{labelText:a("excel_name"),placeholder:a("excel_name_plcaeholder"),value:d,name:"excelName",type:"text",onChange:function(e){return u(e.target.value)},errorShow:f.excelName}),(0,Z.jsx)("button",{className:h.Z.xlsx_update_btn,title:"Update",onClick:function(){d?t(d):m({excelName:"excelName is required"})},style:{justifyContent:"center",marginTop:"1rem"},children:a("update")})]})},C=function(e){var n=e.onClose,t=e.xlsxId,i=e.onRefetch,s=e.instituteId,a=(0,o.useState)(!1),r=(0,l.Z)(a,2),c=r[0],d=r[1],u=(0,o.useState)(!1),x=(0,l.Z)(u,2),p=x[0],j=x[1],C=(0,_.jd)(),y=(0,l.Z)(C,1)[0],N=(0,_.db)(),b=(0,l.Z)(N,1)[0];return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(v.Z,{onClose:n}),(0,Z.jsxs)(m.Z,{customStyle:{zIndex:"1200"},children:[p?(0,Z.jsx)(g,{xlsxId:t,onEdit:function(e){d((function(e){return!e})),b({id:s,xlsxId:null===t||void 0===t?void 0:t._id,excelUpdate:{excel_file_name:e}}).then((function(){i(),d((function(e){return!e})),n()})).catch({})}}):(0,Z.jsxs)("div",{className:h.Z.edit_modal_container,style:{width:"200px"},children:[(0,Z.jsx)("h6",{className:h.Z.edit,onClick:function(){return j((function(e){return!e}))},children:"Edit"}),(0,Z.jsx)("h6",{className:h.Z.remove,onClick:function(){d((function(e){return!e})),y({id:s,xlsxId:null===t||void 0===t?void 0:t._id}).then((function(){i(),n(),d((function(e){return!e}))})).catch({})},children:"Delete"})]}),c&&(0,Z.jsx)(f.Z,{})]})]})},y=t(93245),N=t(95048),b=t(17978),S=t(65543),k=t(12096),E=function(e){var n=e.insId,t=e.financeId,u=e.hostelId,f=(0,s.$G)().t,m=(0,N.v9)((function(e){return e.financeChange.insId})),v=(0,r.s0)(),h=(0,c.YD)(),p=(0,l.Z)(h,2),g=p[0],E=p[1],I=(0,o.useState)(1),w=(0,l.Z)(I,2),D=w[0],M=w[1],T=(0,o.useState)(!0),q=(0,l.Z)(T,2),L=q[0],F=q[1],G=(0,o.useState)(!1),R=(0,l.Z)(G,2),A=R[0],J=R[1],B=(0,o.useState)(!0),O=(0,l.Z)(B,2),P=O[0],$=O[1],z=(0,o.useState)([]),H=(0,l.Z)(z,2),U=H[0],V=H[1],W=(0,o.useState)(!1),X=(0,l.Z)(W,2),Y=X[0],K=X[1],Q=(0,o.useState)(!1),ee=(0,l.Z)(Q,2),ne=ee[0],te=ee[1],ie=(0,o.useState)(!1),le=(0,l.Z)(ie,2),oe=le[0],se=le[1],ae=(0,o.useState)(!1),re=(0,l.Z)(ae,2),ce=re[0],de=re[1],ue=(0,_.WV)({data:{id:m||n,page:D,limit:10},skip:m?!m:!n}),xe=ue.getAllExcelByFinance,_e=ue.getAllExcelByFinanceRefetch,fe=(0,S.u)().scrollToTop;(0,o.useEffect)((function(){fe()}),[]),(0,o.useEffect)((function(){(m||n)&&($(!0),_e())}),[m,n,D,_e]),(0,o.useEffect)((function(){E&&L&&M((function(e){return e+1}))}),[E,L]),(0,o.useEffect)((function(){var e,n;A?(V(null===xe||void 0===xe?void 0:xe.all_excel),J(!1),$(!1)):null!==xe&&void 0!==xe&&xe.all_excel?(V((function(e){var n,t;return null===(n=(0,i.Z)(new Set(null===(t=[].concat((0,i.Z)(e),(0,i.Z)(null===xe||void 0===xe?void 0:xe.all_excel)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),$(!1)):0===(null===xe||void 0===xe||null===(n=xe.all_excel)||void 0===n?void 0:n.length)&&$(!1);10===(null===xe||void 0===xe||null===(e=xe.all_excel)||void 0===e?void 0:e.length)?F(!0):F(!1)}),[null===xe||void 0===xe?void 0:xe.all_excel]);var me=function(){K((function(e){return!e}))},ve=function(){M(1),_e(),J(!0)},he=function(){te((function(e){return!e}))},pe=function(){se((function(e){return!e}))};return(0,Z.jsxs)("div",{className:a.Z.refund_container,children:[(0,Z.jsxs)("section",{className:a.Z.refund_container_title,children:[(0,Z.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){v(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,Z.jsxs)("div",{className:a.Z.refund_container_title,style:{justifyContent:"space-between",width:"95%"},children:[(0,Z.jsx)("h6",{children:f("data_export")}),(0,Z.jsxs)("div",{className:a.Z.both_filter,children:[(0,Z.jsxs)("div",{onClick:pe,className:a.Z.both_filter_with_name,children:[(0,Z.jsx)("img",{src:"/images/export-filter-icon.svg",alt:"filter icon"}),(0,Z.jsx)("h6",{children:f("hostel_fee_receipt_filter")})]}),(0,Z.jsxs)("div",{onClick:he,className:a.Z.both_filter_with_name,children:[(0,Z.jsx)("img",{src:"/images/export-filter-icon.svg",alt:"filter icon"}),(0,Z.jsx)("h6",{children:f("fee_receipt_filter")})]}),(0,Z.jsxs)("div",{onClick:me,className:a.Z.both_filter_with_name,children:[(0,Z.jsx)("img",{src:"/images/export-filter-icon.svg",alt:"filter icon"}),(0,Z.jsx)("h6",{children:f("transaction_filter")})]})]})]})]}),(0,Z.jsx)(j.Z,{customStyle:{width:"100%"}}),(0,Z.jsxs)("div",{className:a.Z.refund_list,children:[null===U||void 0===U?void 0:U.map((function(e,n){var t,i;return(null===U||void 0===U?void 0:U.length)===n+1?(0,Z.jsxs)("a",{ref:g,className:a.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,Z.jsx)("img",{src:"/images/export-xsxl-icon.svg",alt:""}),(0,Z.jsxs)("section",{className:a.Z.export_card_text,children:[(0,Z.jsx)("h6",{children:null!==(t=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==t?t:""}),(0,Z.jsxs)("div",{className:a.Z.export_card_date,children:[(0,Z.jsx)("h6",{children:x()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,Z.jsx)("h6",{children:x()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]}),(0,Z.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(n){n.preventDefault(),de(e)},className:a.Z.menu_icon,title:"Menu"})]},null===e||void 0===e?void 0:e._id):(0,Z.jsxs)("a",{className:a.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,Z.jsx)("img",{src:"/images/export-xsxl-icon.svg",alt:""}),(0,Z.jsxs)("section",{className:a.Z.export_card_text,children:[(0,Z.jsx)("h6",{children:null!==(i=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==i?i:""}),(0,Z.jsxs)("div",{className:a.Z.export_card_date,children:[(0,Z.jsx)("h6",{children:x()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,Z.jsx)("h6",{children:x()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]}),(0,Z.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(n){n.preventDefault(),de(e)},className:a.Z.menu_icon,title:"Menu"})]},null===e||void 0===e?void 0:e._id)})),P&&(0,Z.jsx)(d.Z,{}),Y&&(0,Z.jsx)(y.Z,{instituteId:m||n,onClose:me,viewAs:"EXPORT",onRefetch:ve}),ce&&(0,Z.jsx)(C,{xlsxId:ce,onClose:function(){return de("")},onRefetch:ve,instituteId:m||n}),ne&&(0,Z.jsx)(b.Z,{onClose:he,financeId:t,instituteId:n}),oe&&(0,Z.jsx)(k.Z,{onClose:pe,financeId:t,hostelId:u})]})]})}},87049:function(e,n){n.Z={edit_modal_container:"EditConfirm_edit_modal_container__WfbTq",modal_header:"EditConfirm_modal_header__4sq5J",edit:"EditConfirm_edit__ziVGP",remove:"EditConfirm_remove__PCXLs",xlsx_update_btn:"EditConfirm_xlsx_update_btn__H3yM8",save_stop_btn:"EditConfirm_save_stop_btn__9NiZ5",update_to_btn:"EditConfirm_update_to_btn__ExCJv"}}}]);
//# sourceMappingURL=339.bf0bf074.chunk.js.map