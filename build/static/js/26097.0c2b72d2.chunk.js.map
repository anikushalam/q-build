{"version":3,"file":"static/js/26097.0c2b72d2.chunk.js","mappings":"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","sources":["webpack://mithkal-qviple/./src/MembersTab/staff/Mainbody/SwitchAccount/SwitchAccount.module.css?5dce","MembersTab/staff/Mainbody/SwitchAccount/SwitchModal.jsx","MembersTab/staff/Mainbody/SwitchAccount/SwitchAccount.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"complaints\":\"SwitchAccount_complaints__FOCV9\",\"swichModal\":\"SwitchAccount_swichModal__nF+az\",\"swichModalTop\":\"SwitchAccount_swichModalTop__04Wup\",\"swichModalBody\":\"SwitchAccount_swichModalBody__UXEej\",\"swichModalItem\":\"SwitchAccount_swichModalItem__2hXtK\",\"swichModalText\":\"SwitchAccount_swichModalText__kn6r2\",\"search_container\":\"SwitchAccount_search_container__U4FLB\",\"search_container_text\":\"SwitchAccount_search_container_text__ifPi5\",\"search_container_input\":\"SwitchAccount_search_container_input__Jrtnb\",\"searchIcon\":\"SwitchAccount_searchIcon__wfOTB\"};","import React, { useEffect } from \"react\";\nimport style from \"./SwitchAccount.module.css\";\nimport { Dialog } from \"@mui/material\";\nimport { useSwitchUserAccountQuery } from \"../../../../services/switchAccount/switchAccountApi\";\nimport { imageShowUrl } from \"../../../../services/BaseUrl\";\nimport { useTranslation } from \"react-i18next\";\nimport { useSelector } from \"react-redux\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { useGetActivatedMemberAccount } from \"../../../../hooks/member_tab/department-api\";\nimport { useState } from \"react\";\nimport QLoader from \"../../../../Loader/QLoader\";\nimport QvipleLoading from \"../../../../Loader/QvipleLoading\";\n\nfunction Item({ data }) {\n  const navigate = useNavigate();\n  const params = useParams();\n  const id = useSelector((state) => state.idChange.id);\n  const [selectedAccount, setSelectedAccount] = useState(\"\");\n  const [disabled, setDisabled] = useState(false);\n  const { getActivatedMemberAccountRefetch } = useGetActivatedMemberAccount({\n    data: {\n      id: id,\n      active_member_role: selectedAccount,\n    },\n    skip: !selectedAccount,\n  });\n  const onSwitchAccount = (val) => {\n    setSelectedAccount(val);\n  };\n  useEffect(() => {\n    if (selectedAccount) {\n      setDisabled((pre) => !pre);\n      getActivatedMemberAccountRefetch();\n      setTimeout(() => {\n        navigate(`/q/${params.username}/memberstab`, {\n          state: {\n            selectedAccount: selectedAccount,\n          },\n        });\n        setDisabled((pre) => !pre);\n      }, 1000);\n    }\n  }, [selectedAccount, getActivatedMemberAccountRefetch]);\n  return (\n    <>\n      {data?.studentFirstName ? (\n        <div\n          className={style.swichModalItem}\n          onClick={() => onSwitchAccount(data?._id)}\n        >\n          <img\n            id=\"profileImg\"\n            alt=\"\"\n            src={\n              data?.institute?.insProfilePhoto\n                ? `${imageShowUrl}/${data?.institute?.insProfilePhoto}`\n                : data?.student_unit?.hostel_unit_photo\n                ? `${imageShowUrl}/${data?.student_unit?.hostel_unit_photo}`\n                : data?.studentProfilePhoto\n                ? `${imageShowUrl}/${data?.studentProfilePhoto}`\n                : \"/images/ins_default_profile.svg\"\n            }\n          />\n          <div className={style.swichModalText}>\n            <h6>\n              {data?.institute?.insName ??\n                `${\n                  data?.student_unit?.hostel_unit_name\n                    ? `${data?.student_unit?.hostel_unit_name} (Hostel)`\n                    : \"\"\n                }` ??\n                \"\"}\n            </h6>\n            <p>\n              {data?.studentFirstName} {data?.studentMiddleName}{\" \"}\n              {data?.studentLastName} {`(student)`}\n            </p>\n          </div>\n        </div>\n      ) : data?.staffFirstName ? (\n        <div\n          className={style.swichModalItem}\n          onClick={() => onSwitchAccount(data?._id)}\n        >\n          <img\n            id=\"profileImg\"\n            alt=\"\"\n            src={\n              data?.institute?.insProfilePhoto\n                ? `${imageShowUrl}/${data?.institute?.insProfilePhoto}`\n                : data?.staffProfilePhoto\n                ? `${imageShowUrl}/${data?.staffProfilePhoto}`\n                : \"/images/ins_default_profile.svg\"\n            }\n          />\n          <div className={style.swichModalText}>\n            <h6>{data?.institute?.insName}</h6>\n            <p>\n              {data?.staffFirstName} {data?.staffMiddleName}{\" \"}\n              {data?.staffLastName} {`(staff)`}\n            </p>\n          </div>\n        </div>\n      ) : (\n        \"\"\n      )}\n      {disabled && <QLoader />}\n    </>\n  );\n}\n\nconst validateSearchCharacter = (account, event) => {\n  let accountFullName = account?.studentFirstName\n    ? `${account?.studentFirstName} ${\n        account?.studentMiddleName ? `${account?.studentMiddleName} ` : \"\"\n      }${account?.studentLastName}`\n    : `${account?.staffFirstName} ${\n        account?.staffMiddleName ? `${account?.staffMiddleName} ` : \"\"\n      }${account?.staffLastName}`;\n\n  if (\n    accountFullName?.toLocaleLowerCase()?.includes(event?.toLocaleLowerCase())\n  ) {\n    return account;\n  } else {\n    return null;\n  }\n};\nfunction SwitchModal() {\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n  const id = useSelector((state) => state.idChange.id);\n  const [showingDataLoading, setShowingDataLoading] = useState(true);\n  const [allAccount, setAllAccount] = useState([]);\n  const { data, refetch: switchAccountRefetch } = useSwitchUserAccountQuery(\n    id,\n    { skip: !id }\n  );\n\n  useEffect(() => {\n    if (id) {\n      setShowingDataLoading(true);\n      switchAccountRefetch();\n    }\n  }, [switchAccountRefetch, id]);\n\n  useEffect(() => {\n    if (data?.role_query) {\n      setAllAccount(data?.role_query);\n      setShowingDataLoading(false);\n    } else if (data?.role_query?.length === 0) setShowingDataLoading(false);\n    else {\n    }\n  }, [data?.role_query]);\n\n  const onSearchEvent = (e) => {\n    if (e.target.value) {\n      const filterAccount = data?.role_query?.filter((account) =>\n        validateSearchCharacter(account, e.target.value)\n      );\n      setAllAccount(filterAccount);\n    } else {\n      setAllAccount(data?.role_query);\n    }\n  };\n\n  //   `/q/${username}/memberstab`\n  // navigate(`/q/${res?.data?.user.username}/feed`);\n\n  return (\n    <Dialog open={true} onClose={() => navigate(-1)}>\n      <div className={style.swichModal}>\n        <div className={style.swichModalTop} onClick={() => navigate(-1)}>\n          {t(\"switch_account\")}\n        </div>\n        <div className={style.swichModalBody}>\n          <div\n            className={style.search_container}\n            style={{\n              marginBottom: \"0.6rem\",\n            }}\n          >\n            <div className={style.search_container_text}>\n              <img\n                className={style.searchIcon}\n                alt=\"search icon\"\n                src=\"/images/search-dash-icon.svg\"\n              />\n              <input\n                type=\"text\"\n                placeholder={t(\"search-label\")}\n                onChange={onSearchEvent}\n                autoFocus={true}\n                style={{\n                  border: \"0.029vw solid rgba(0, 0, 0, 0.15)\",\n                  width: \"370px\",\n                  marginInline: \"0.5rem\",\n                }}\n              />\n            </div>\n          </div>\n\n          {allAccount?.map((item, index) => (\n            <Item data={item} key={index} />\n          ))}\n          {showingDataLoading && <QvipleLoading />}\n        </div>\n      </div>\n    </Dialog>\n  );\n}\n\nexport default SwitchModal;\n","import React from \"react\";\nimport style from \"./SwitchAccount.module.css\";\nimport SwitchModal from \"./SwitchModal\";\n\nfunction SwitchAccount() {\n  return (\n    <div className={style.complaints}>\n      <SwitchModal />\n    </div>\n  );\n}\n\nexport default SwitchAccount;\n"],"names":["Item","_ref","_data$institute","_data$institute2","_data$student_unit","_data$student_unit2","_ref2","_data$institute$insNa","_data$institute3","_data$student_unit3","_data$student_unit4","_data$institute4","_data$institute5","_data$institute6","data","navigate","useNavigate","params","useParams","id","useSelector","state","idChange","selectedAccount","setSelectedAccount","useState","disabled","setDisabled","getActivatedMemberAccountRefetch","useGetActivatedMemberAccount","active_member_role","skip","onSwitchAccount","val","useEffect","pre","setTimeout","concat","username","_jsxs","_Fragment","children","studentFirstName","className","style","swichModalItem","onClick","_id","_jsx","alt","src","institute","insProfilePhoto","imageShowUrl","student_unit","hostel_unit_photo","studentProfilePhoto","swichModalText","insName","hostel_unit_name","studentMiddleName","studentLastName","staffFirstName","staffProfilePhoto","staffMiddleName","staffLastName","QLoader","t","useTranslation","showingDataLoading","setShowingDataLoading","allAccount","setAllAccount","refetch","switchAccountRefetch","useSwitchUserAccountQuery","_data$role_query","role_query","length","Dialog","open","onClose","swichModal","swichModalTop","swichModalBody","search_container","marginBottom","search_container_text","searchIcon","type","placeholder","onChange","e","target","value","_data$role_query2","filterAccount","filter","account","validateSearchCharacter","event","_accountFullName$toLo","accountFullName","toLocaleLowerCase","includes","autoFocus","border","width","marginInline","map","item","index","QvipleLoading","complaints","SwitchModal"],"sourceRoot":""}