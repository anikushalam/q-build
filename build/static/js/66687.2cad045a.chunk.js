"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[66687],{60307:(e,t,n)=>{n.d(t,{_x:()=>ye,um:()=>oe,Fi:()=>se,bJ:()=>Fe,d2:()=>ge,zJ:()=>pe,Wm:()=>le,vT:()=>be,D1:()=>de,LK:()=>me,Vt:()=>_e,WO:()=>ue,JA:()=>Ce,su:()=>qe,Hg:()=>ce,t6:()=>ve,$q:()=>re,YK:()=>ae,Ys:()=>ne,Wb:()=>te,NM:()=>he,xY:()=>Ae,G9:()=>ie,rY:()=>fe});var i=n(12975),s=n(79992),a=n(94811);const o=e=>e.query({query:e=>"/admission/".concat(e,"/fees"),providesTags:["Admission_Fees"],serializeQueryArgs:e=>{let{endpointName:t}=e;return t},transformResponse:e=>{let t=(0,s.ZH)(null===e||void 0===e?void 0:e.encrypt);return null===t||void 0===t?void 0:t.array},forceRefetch(e){let{currentArg:t,previousArg:n}=e;return t!==n}}),d=e=>e.query({query:e=>"/fees/student/".concat(e),providesTags:["Admission_Fees"],serializeQueryArgs:e=>{let{endpointName:t}=e;return t},transformResponse:e=>{var t;return null===e||void 0===e||null===(t=e.student)||void 0===t?void 0:t.admission_amount_stats},forceRefetch(e){let{currentArg:t,previousArg:n}=e;return t!==n}}),r=e=>e.query({query:e=>"/ins/student/".concat(e),providesTags:["Student_Profile"],serializeQueryArgs:e=>{let{endpointName:t}=e;return t},transformResponse:e=>null===e||void 0===e?void 0:e.student,forceRefetch(e){let{currentArg:t,previousArg:n}=e;return t!==n}}),u=e=>e.mutation({query:e=>({url:"/admission/".concat(e.rcid,"/add/scholar/number/query"),method:a.Q0,body:e.scholarData})}),l=e=>e.mutation({query:e=>({url:"/finance/valid/scholar/query?num=".concat(e.num),method:a.Q0})}),m=e=>e.mutation({query:e=>({url:"/admission/".concat(e.rcid,"/remark/query"),method:a.Q0,body:e.remark}),invalidatesTags:["Admission_Fees"]}),c=e=>e.mutation({query:e=>({url:"/admission/".concat(e.rid,"/drop/fees/").concat(e.sid,"/query"),method:a.Q0}),invalidatesTags:["Admission_Fees"]}),v=e=>e.mutation({query:e=>({url:"/admission/".concat(e.aid,"/retro/structure/").concat(e.appId,"/one/student/").concat(e.sid,"/query"),method:a.Q0,body:e.updateStrucutre}),invalidatesTags:["Admission_Fees"]}),p=e=>e.mutation({query:e=>({url:"/admission/".concat(e.rid,"/card/removal/query?raid=").concat(e.raid),method:a.Q0}),invalidatesTags:["Admission_Fees"]}),_=e=>e.mutation({query:e=>{var t;return{url:"/admission/".concat(e.aid,"/paid/remaining/fee/").concat(e.sid,"/student/").concat(e.appId,"?receipt_status=").concat(null!==(t=null===e||void 0===e?void 0:e.receipt_status)&&void 0!==t?t:""),method:a.a4,body:e.payment}},invalidatesTags:["Admission_Fees"]}),h=e=>e.mutation({query:e=>({url:"/admission/".concat(e.aid,"/paid/remaining/fee/").concat(e.sid,"/student/").concat(e.appId,"/refund/by"),method:a.Q0,body:e.payment}),invalidatesTags:["Admission_Fees"]}),y=e=>e.mutation({query:e=>({url:"/admission/paid/government/grant/fee/".concat(e.sid,"/student/").concat(e.appId),method:a.a4,body:e.payment}),invalidatesTags:["Admission_Fees"]}),A=e=>e.mutation({query:e=>({url:"admission/".concat(null===e||void 0===e?void 0:e.rid,"/shift/government/to/applicable/query"),method:a.Q0,body:e.applicableBody}),invalidatesTags:["Admission_Fees"]}),f=e=>e.mutation({query:e=>({url:"/finance/".concat(e.fid,"/valid/bank/query/").concat(e.aid,"?flow=").concat(null===e||void 0===e?void 0:e.flow),method:a.Q0})}),g=e=>e.mutation({query:e=>({url:"/extra/access/fees/editable/query?flow=".concat(e.flow),method:a.Q0,body:e.editAccess}),invalidatesTags:["Student_Profile"]}),F=e=>e.query({query:e=>{var t;return"/admission/filter/by/".concat(e.id,"/three/function/query?departId=").concat(e.did,"&masterId=").concat(e.cmid,"&batchId=").concat(null!==(t=null===e||void 0===e?void 0:e.bid)&&void 0!==t?t:"")},serializeQueryArgs:e=>{let{endpointName:t}=e;return t},transformResponse:e=>null===e||void 0===e?void 0:e.all_apps,forceRefetch(e){let{currentArg:t,previousArg:n}=e;return t!==n}}),C=e=>e.mutation({query:e=>({url:"/admission/".concat(e.sid,"/add/fees/card/query"),method:a.a4,body:e.addFees}),invalidatesTags:["Admission_Fees"]}),b=e=>e.query({query:e=>"/admission/one/institute/charges/".concat(e.id,"/query"),serializeQueryArgs:e=>{let{endpointName:t}=e;return t},transformResponse:e=>null===e||void 0===e?void 0:e.new_charges,forceRefetch(e){let{currentArg:t,previousArg:n}=e;return t!==n}}),q=e=>e.mutation({query:e=>({url:"/admission/".concat(null===e||void 0===e?void 0:e.fid,"/readmission/student/").concat(e.sid,"/query"),method:a.Q0})}),S=e=>e.mutation({query:e=>({url:"admission/".concat(null===e||void 0===e?void 0:e.rid,"/shift/applicable/to/government/query"),method:a.Q0,body:e.applicableBody}),invalidatesTags:["Admission_Fees"]}),x=e=>e.mutation({query:e=>({url:"/admission/".concat(e.sid,"/allotted/student/").concat(e.appId,"/pay/refund"),method:a.a4,body:e.payment}),invalidatesTags:["Admission_Fees"]}),T=e=>e.mutation({query:e=>({url:"/admission/".concat(e.pid,"/multiple/installment/query"),method:a.Q0,body:e.installmentFragment}),invalidatesTags:["Admission_Fees"]}),I=e=>e.mutation({query:e=>({url:"/admission/".concat(e.rcid,"/set/off/").concat(e.sid,"/query"),method:a.Q0,body:e.payment}),invalidatesTags:["Admission_Fees"]}),j=e=>e.mutation({query:e=>({url:"/admission/".concat(null===e||void 0===e?void 0:e.nid,"/delete/").concat(e.rid,"/installment/card/query"),method:a.Q0,body:e.bodyParameter}),invalidatesTags:["Admission_Fees"]}),k=i.r.injectEndpoints({endpoints:e=>({studentAdmissionFeeList:o(e),studentAdmissionFeeCount:d(e),studentOneProfile:r(e),studentAdmissionFeeCardAddScholarshipNumber:u(e),studentAdmissionFeeCardValidateScholarshipNumber:l(e),studentAdmissionFeeCardAddRemark:m(e),studentAdmissionFeeCardDrop:c(e),studentAdmissionFeeCardUpdateStructure:v(e),studentAdmissionFeeCardInstallmentRemove:p(e),studentAdmissionFeeCardCollect:_(e),studentAdmissionFeeCardExcessRefund:h(e),studentAdmissionFeeCardScholarshipCollect:y(e),studentAdmissionFeeCardScholarshipRevertToApplicable:A(e),studentAdmissionFeeCardBankValidate:f(e),studentAdmissionFeeCardInstallEditToggle:g(e),studentAdmissionNewCardApplicationList:F(e),studentAdmissionAddNewCard:C(e),studentInstituteCharges:b(e),studentReadmissionFee:q(e),studentAdmissionFeeCardApplicableRevertToScholarship:S(e),studentAdmissionFeeCardAdmissionCancelled:x(e),studentAdmissionFeeCardMultipleInstallment:T(e),studentAdmissionFeeCardCollectWithSetoff:I(e),studentAdmissionFeeCardPaidInstallmentRemove:j(e)})}),{useStudentAdmissionFeeListQuery:R,useStudentAdmissionFeeCountQuery:N,useStudentOneProfileQuery:Q,useStudentAdmissionFeeCardAddScholarshipNumberMutation:M,useStudentAdmissionFeeCardValidateScholarshipNumberMutation:Z,useStudentAdmissionFeeCardAddRemarkMutation:w,useStudentAdmissionFeeCardDropMutation:L,useStudentAdmissionFeeCardUpdateStructureMutation:P,useStudentAdmissionFeeCardInstallmentRemoveMutation:O,useStudentAdmissionFeeCardCollectMutation:z,useStudentAdmissionFeeCardExcessRefundMutation:E,useStudentAdmissionFeeCardScholarshipCollectMutation:V,useStudentAdmissionFeeCardScholarshipRevertToApplicableMutation:B,useStudentAdmissionFeeCardBankValidateMutation:W,useStudentAdmissionFeeCardInstallEditToggleMutation:Y,useStudentAdmissionNewCardApplicationListQuery:D,useStudentAdmissionAddNewCardMutation:J,useStudentInstituteChargesQuery:U,useStudentReadmissionFeeMutation:H,useStudentAdmissionFeeCardApplicableRevertToScholarshipMutation:G,useStudentAdmissionFeeCardAdmissionCancelledMutation:K,useStudentAdmissionFeeCardMultipleInstallmentMutation:$,useStudentAdmissionFeeCardCollectWithSetoffMutation:X,useStudentAdmissionFeeCardPaidInstallmentRemoveMutation:ee}=k,te=e=>{const{data:t,refetch:n,isFetching:i}=R(e.sid,{skip:e.skip});return{studentAdmissionFeeList:t,studentAdmissionFeeListRefetch:n,studentAdmissionFeeListLoading:i}},ne=e=>{const{data:t,refetch:n,isFetching:i}=N(e.sid,{skip:e.skip});return{studentAdmissionFeeCount:t,studentAdmissionFeeCountRefetch:n,studentAdmissionFeeCountLoading:i}},ie=e=>{const{data:t,refetch:n,isFetching:i}=Q(e.sid,{skip:e.skip});return{studentOneProfile:t,studentOneProfileRefetch:n,studentOneProfileLoading:i}},se=()=>{const[e]=M();return[e]},ae=()=>{const[e]=Z();return[e]},oe=()=>{const[e]=w();return[e]},de=()=>{const[e]=L();return[e]},re=()=>{const[e]=P();return[e]},ue=()=>{const[e]=O();return[e]},le=()=>{const[e]=z();return[e]},me=()=>{const[e]=E();return[e]},ce=()=>{const[e]=V();return[e]},ve=()=>{const[e]=B();return[e]},pe=()=>{const[e]=W();return[e]},_e=()=>{const[e]=Y();return[e]},he=e=>{const{data:t,refetch:n,isFetching:i}=D(e.data,{skip:e.skip});return{studentAdmissionNewCardApplicationList:t,studentAdmissionNewCardApplicationListRefetch:n,studentAdmissionNewCardApplicationListLoading:i}},ye=()=>{const[e]=J();return[e]},Ae=e=>{const{data:t,refetch:n,isFetching:i}=U(e.data,{skip:e.skip});return{studentInstituteCharges:t,studentInstituteChargesRefetch:n,studentInstituteChargesLoading:i}},fe=()=>{const[e]=H();return[e]},ge=()=>{const[e]=G();return[e]},Fe=()=>{const[e]=K();return[e]},Ce=()=>{const[e]=$();return[e]},be=()=>{const[e]=X();return[e]},qe=()=>{const[e]=ee();return[e]}},8959:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(52245),s=n(80184);const a=e=>{let{label:t,value:n,customFormInputContainer:a,customFormInputLabel:o,customFormInput:d,children:r}=e;return(0,s.jsxs)("div",{className:i.Z.form_read_input_container,style:a,children:[t?(0,s.jsx)("label",{className:i.Z.form_read_input_label,style:o,children:t}):null,r,(0,s.jsx)("h6",{className:i.Z.form_read_input,style:d,children:n})]})}},66687:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(39230),s=n(48293),a=n(21348),o=n(16925),d=n(90904),r=n(72791),u=n(98684),l=n(55336),m=n(93638),c=n(61055),v=n(99183),p=n(71439),_=n(64499),h=n(16871),y=n(20659),A=n(26071),f=n(7562),g=n(8959),F=n(60307),C=n(80184);const b=e=>{var t,n,b,q,S,x,T,I;let{onClose:j,install:k,admission:R,isEditable:N,statusId:Q}=e;const{t:M}=(0,i.$G)(),Z=(0,h.UO)(),[w,L]=(0,r.useState)(!1),[P,O]=(0,r.useState)({amount:0,type:"Admission",isTransaction:!1,pay_remain:!1}),[z,E]=(0,r.useState)(""),[V,B]=(0,r.useState)(0),{studentInstituteCharges:W}=(0,F.xY)({data:{id:null===k||void 0===k?void 0:k.instituteId},skip:!(null!==k&&void 0!==k&&k.instituteId)});(0,r.useEffect)((()=>{var e;null!==k&&void 0!==k&&k.remainAmount&&O({amount:null!==(e=null===k||void 0===k?void 0:k.remainAmount)&&void 0!==e?e:0,type:"Admission",isTransaction:!1,pay_remain:!1})}),[]);const Y=e=>{if(O((t=>({...t,pay_remain:e}))),e){let e=0;for(let n of null===R||void 0===R||null===(t=R.applicable_card)||void 0===t?void 0:t.remaining_array){var t;"Paid"!==(null===n||void 0===n?void 0:n.status)&&(e+=null===n||void 0===n?void 0:n.remainAmount)}B(e),O((t=>{var n;return{...t,amount:null!==(n=e)&&void 0!==n?n:0}}))}};return(0,C.jsxs)(C.Fragment,{children:[P.isTransaction?(0,C.jsx)(p.Z,{onClose:()=>{O((e=>({...e,isTransaction:!1})))},allContent:{...P,platform_charges:null===W||void 0===W||null===(t=W.platform_charges)||void 0===t?void 0:t.percentage},checkoutAdmissionHandler:()=>{var e,t,n,i,s,a,o,d,r,u,l,m,c;let v=2.1*+(null===P||void 0===P?void 0:P.amount)/100,p=v+18*+v/100;const h=parseInt(null===P||void 0===P?void 0:P.amount);var y=Math.ceil(h+ +p.toFixed(2));(0,_.oU)({amount:null!==(e=+(null===P||void 0===P?void 0:P.amount))&&void 0!==e?e:10,amount_nocharges:null!==(t=+y)&&void 0!==t?t:0,type:"Admission",paidBy:"".concat(Q?null===R||void 0===R?void 0:R.student:null===R||void 0===R||null===(n=R.student)||void 0===n?void 0:n._id),paidTo:"".concat(null===k||void 0===k?void 0:k.instituteId),moduleId:"".concat(null===k||void 0===k?void 0:k.appId),ad_status_id:Q||null,payment_installment:null===k||void 0===k?void 0:k.installmentValue,ad_install:null,month:null,payment_remain_1:null,payment_card_type:null,payment_book_id:null,name:Z.username,isApk:"web",payment_card_id:null!==(i=null===R||void 0===R?void 0:R._id)&&void 0!==i?i:null,payment_remain_fees:P.pay_remain,charge:{num_platform_percent:null!==(s=null===W||void 0===W||null===(a=W.platform_charges)||void 0===a?void 0:a.percentage)&&void 0!==s?s:0,num_platform_max:null!==(o=null===W||void 0===W||null===(d=W.platform_charges)||void 0===d?void 0:d.maximum)&&void 0!==o?o:0,num_trans_pecent:null!==(r=null===W||void 0===W||null===(u=W.transaction_charges)||void 0===u?void 0:u.percentage)&&void 0!==r?r:0,num_trans_max:null!==(l=null===W||void 0===W||null===(m=W.transaction_charges)||void 0===m?void 0:m.maximum)&&void 0!==l?l:0,num_app_max:null!==(c=null===W||void 0===W?void 0:W.application_charges)&&void 0!==c?c:0}}).then((e=>{var t,n;window.onScriptLoad(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.body)||void 0===n?void 0:n.txnToken,null===e||void 0===e?void 0:e.order,null===e||void 0===e?void 0:e.amount)})).catch((e=>{console.info(e)}))},isOptimzed:!0}):(0,C.jsx)(s.Z,{onClose:j,children:(0,C.jsxs)("div",{className:o.Z.modal_container,children:[(0,C.jsx)(a.Z,{children:(0,C.jsxs)("div",{className:o.Z.modal_container_outer_header,children:[(0,C.jsx)("div",{className:o.Z.modal_container_header,children:(0,C.jsx)("h6",{children:M("pay_admission_fees")})}),(0,C.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:j})]})}),(0,C.jsx)(d.Z,{}),(0,C.jsxs)(a.Z,{customStyle:{paddingTop:"0"},children:[(0,C.jsxs)("div",{className:o.Z.admission_fees_row,children:[(0,C.jsxs)("h6",{children:[M("applicable_pendig_fees_only")," :"]}),(0,C.jsxs)("h6",{children:[M("rs_only")," ",null!==(n=null===R||void 0===R||null===(b=R.applicable_card)||void 0===b?void 0:b.applicable_fee)&&void 0!==n?n:0]})]}),(0,C.jsx)("div",{className:o.Z.admission_fees_row,children:(0,C.jsxs)("h6",{children:[M("fees_category")," :"," ",null!==(q=null===R||void 0===R||null===(S=R.fee_structure)||void 0===S||null===(x=S.category_master)||void 0===x?void 0:x.category_name)&&void 0!==q?q:""]})}),null!==R&&void 0!==R&&null!==(T=R.fee_structure)&&void 0!==T&&T.total_installments&&+(null===R||void 0===R||null===(I=R.fee_structure)||void 0===I?void 0:I.total_installments)>1&&N?(0,C.jsx)(y.Z,{label:"pay_rest_remaining_fees",children:null===f.nj||void 0===f.nj?void 0:f.nj.map((e=>(0,C.jsx)(A.Z,{tile:e,onTile:Y,activeTile:P.pay_remain},null===e||void 0===e?void 0:e.id)))}):null,N?(0,C.jsx)(c.Z,{label:M(P.pay_remain?"amount_remain_installment":"enter_amount_to_be_paid"),placeholder:M("please_enter_amount_paid"),name:"amount",value:P.amount,type:"tel",onChange:e=>{O((t=>({...t,amount:+e.target.value})))},errorShow:z.amount,msg:z.rest_issue}):(0,C.jsx)(g.Z,{label:"".concat(M(P.pay_remain?"amount_remain_installment":"amount_to_be_paid")),value:P.pay_remain?V:P.amount}),(0,C.jsx)(m.Z,{label:"pay_admission_fees",onAction:()=>{let e=(0,v.l)({amount:P.amount});var t,n;(0,v.x)(e)?P.pay_remain&&P.amount<V&&+(null===R||void 0===R||null===(t=R.fee_structure)||void 0===t?void 0:t.total_installments)>1?E({rest_issue:"Amount should not be less than total remaining fees"}):!P.pay_remain&&P.amount<(null===k||void 0===k?void 0:k.remainAmount)&&+(null===R||void 0===R||null===(n=R.fee_structure)||void 0===n?void 0:n.total_installments)>1?E({rest_issue:"Amount should not be greater than remaining fees"}):O((e=>({...e,isTransaction:!0}))):E(e)}})]})]})}),w&&(0,C.jsx)(l.Z,{})]})}}}]);
//# sourceMappingURL=66687.2cad045a.chunk.js.map