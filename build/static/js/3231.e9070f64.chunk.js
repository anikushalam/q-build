"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[3231,4258],{56986:function(e,i,l){var n=l(29439),o=l(72791),s=l(98684),t=l(97892),a=l.n(t),d=l(82824),c=l(1095),r=l(55050),v=l(39230),u=l(45445),m=l(80184);i.Z=function(e){var i,l,t,f,h,x,_,j,g,Z,p,N,y,w,b,M,k,Y,S,L,D,F,C,T,A,J,P,q,E,W,G=e.leave,H=e.whichAccess,I=(0,v.$G)().t,R=(0,o.useState)(!1),$=(0,n.Z)(R,2),B=$[0],z=$[1],K=function(){z((function(e){return!e}))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:r.Z.lmsr_card,children:[(0,m.jsx)("div",{className:r.Z.lmsrc_card,children:(0,m.jsxs)("div",{className:r.Z.lmsrc_card_inner,children:[(0,m.jsx)("img",{src:null!==G&&void 0!==G&&null!==(i=G.staff)&&void 0!==i&&i.staffProfilePhoto?"".concat(c.yI,"/").concat(null===G||void 0===G||null===(l=G.staff)||void 0===l?void 0:l.staffProfilePhoto):"".concat(s.p3,"/feed-user-avatar.svg"),alt:"staff icon"}),(0,m.jsxs)("div",{className:r.Z.lmsrci_text,children:[(0,m.jsx)("h6",{children:"".concat(null===G||void 0===G||null===(t=G.staff)||void 0===t?void 0:t.staffFirstName," ").concat(null!==G&&void 0!==G&&null!==(f=G.staff)&&void 0!==f&&f.staffMiddleName?null===G||void 0===G||null===(h=G.staff)||void 0===h?void 0:h.staffMiddleName:""," ").concat(null===G||void 0===G||null===(x=G.staff)||void 0===x?void 0:x.staffLastName)}),(0,m.jsxs)("p",{children:["Sactioning"===H?(0,m.jsxs)(m.Fragment,{children:[I("sanction_on")," ",(0,d.J)(null===G||void 0===G||null===(_=G.sanction)||void 0===_?void 0:_.sanction_on,"LT"),","," ",a()(null===G||void 0===G||null===(j=G.sanction)||void 0===j?void 0:j.sanction_on).format("DD MMM YYYY")]}):"Reviewing"===H?(0,m.jsxs)(m.Fragment,{children:[I("reviewed_on"),(0,d.J)(null===G||void 0===G||null===(g=G.review)||void 0===g?void 0:g.review_on,"LT"),","," ",a()(null===G||void 0===G||null===(Z=G.review)||void 0===Z?void 0:Z.review_on).format("DD MMM YYYY")]}):(0,m.jsxs)(m.Fragment,{children:[I("recomend_on")," ",(0,d.J)(null===G||void 0===G||null===(p=G.recommend)||void 0===p?void 0:p.recommend_ont,"LT"),", ",a()(null===G||void 0===G||null===(N=G.recommend)||void 0===N?void 0:N.recommend_ont).format("DD MMM YYYY"),", "]}),(0,m.jsx)("span",{className:r.Z.lmsrc_date,onClick:K,children:I("for_dates")})]}),(0,m.jsx)("p",{children:"Sactioning"===H?(0,m.jsxs)(m.Fragment,{children:[I("reviewing_by"),"".concat(null!==(y=null===G||void 0===G||null===(w=G.review)||void 0===w||null===(b=w.review_by)||void 0===b?void 0:b.staffFirstName)&&void 0!==y?y:""," ").concat(null!==(M=null===G||void 0===G||null===(k=G.review)||void 0===k||null===(Y=k.review_by)||void 0===Y?void 0:Y.staffMiddleName)&&void 0!==M?M:""," ").concat(null!==(S=null===G||void 0===G||null===(L=G.review)||void 0===L||null===(D=L.review_by)||void 0===D?void 0:D.staffLastName)&&void 0!==S?S:"")]}):"Reviewing"===H?(0,m.jsxs)(m.Fragment,{children:[I("recomending_by"),"".concat(null!==(F=null===G||void 0===G||null===(C=G.recommend)||void 0===C||null===(T=C.recommend_by)||void 0===T?void 0:T.staffFirstName)&&void 0!==F?F:""," ").concat(null!==(A=null===G||void 0===G||null===(J=G.recommend)||void 0===J||null===(P=J.recommend_by)||void 0===P?void 0:P.staffMiddleName)&&void 0!==A?A:""," ").concat(null!==(q=null===G||void 0===G||null===(E=G.recommend)||void 0===E||null===(W=E.recommend_by)||void 0===W?void 0:W.staffLastName)&&void 0!==q?q:"")]}):null})]})]})}),(0,m.jsx)("div",{className:r.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,m.jsxs)("h6",{style:{fontWeight:"400"},children:[I("leave_type")," "," : ",null===G||void 0===G?void 0:G.leave_type]})}),(0,m.jsx)("div",{className:r.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,m.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[I("reason")," "," : ",null===G||void 0===G?void 0:G.reason]})}),(null===G||void 0===G?void 0:G.attach)&&(0,m.jsx)("div",{className:r.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,m.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[I("attachment")," "," : ",(0,m.jsx)("a",{href:"".concat(c.q2,"/").concat(null===G||void 0===G?void 0:G.attach),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,m.jsx)("span",{className:r.Z.lmsrc_date,children:I("view_attachment")})})]})})]}),B&&(0,m.jsx)(u.Z,{onClose:K,allDate:null===G||void 0===G?void 0:G.date})]})}},36415:function(e,i,l){l.r(i);var n=l(29439),o=l(72791),s=l(56959),t=l(23441),a=l(91427),d=l(57588),c=l(63687),r=l(21348),v=l(90904),u=l(55336),m=l(1669),f=l(2651),h=l(36132),x=l(39230),_=l(98684),j=l(56986),g=l(80184);i.default=function(e){var i,l,Z,p=e.modId,N=(0,x.$G)().t,y=(0,o.useState)(""),w=(0,n.Z)(y,2),b=w[0],M=w[1],k=(0,o.useState)(1),Y=(0,n.Z)(k,2),S=Y[0],L=Y[1],D=(0,o.useState)(!0),F=(0,n.Z)(D,2),C=F[0],T=F[1],A=(0,t.YD)({skip:b}),J=(0,n.Z)(A,2),P=J[0],q=J[1],E=(0,h.EL)({data:{mid:p,page:S,limit:10,search:b,flow:"Sanction_Section"},skip:!p}),W=E.lmsModeratorAllHistoryList,G=E.lmsModeratorAllHistoryListLoading;(0,o.useEffect)((function(){q&&C&&L((function(e){return e+1}))}),[q,C]),(0,o.useEffect)((function(){var e;if(null!==W&&void 0!==W&&null!==(e=W.list)&&void 0!==e&&e.length){var i,l=(0,a.f)(null===W||void 0===W||null===(i=W.list)||void 0===i?void 0:i.length);T((function(){return l}))}}),[null===W||void 0===W?void 0:W.list]);var H=(0,o.useCallback)((0,d.J)((function(e){L((function(){return 1})),M(e)}),1500),[]);return(0,g.jsxs)(c.Z,{children:[(0,g.jsx)(r.Z,{children:(0,g.jsxs)("div",{className:s.Z.fm_header_container,children:[(0,g.jsx)("h6",{children:N("leave_history")}),(0,g.jsx)("div",{className:s.Z.fm_search,children:(0,g.jsx)("section",{className:s.Z.fm_search_container,children:(0,g.jsxs)("div",{className:s.Z.fm_search_container_inner,children:[(0,g.jsx)("img",{className:s.Z.fm_search_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,g.jsx)("input",{type:"text",placeholder:N("search"),onChange:function(e){e.target.value?H(e.target.value):(L((function(){return 1})),M(""))}})]})})})]})}),(0,g.jsx)(v.Z,{}),(0,g.jsxs)(r.Z,{children:[null===W||void 0===W||null===(i=W.list)||void 0===i?void 0:i.map((function(e,i){var l;return(null===W||void 0===W||null===(l=W.list)||void 0===l?void 0:l.length)===i+1?(0,g.jsx)("div",{ref:P,children:(0,g.jsx)(j.Z,{leave:e,whichAccess:"Sactioning"})},null===e||void 0===e?void 0:e._id):(0,g.jsx)(j.Z,{leave:e,whichAccess:"Sactioning"},null===e||void 0===e?void 0:e._id)})),G?b?(0,g.jsx)(u.Z,{}):(0,g.jsx)(m.Z,{}):b?0===(null===W||void 0===W||null===(l=W.list)||void 0===l?void 0:l.length)&&(0,g.jsx)(f.Z,{title:"No staff leave history found related this search."}):0===(null===W||void 0===W||null===(Z=W.list)||void 0===Z?void 0:Z.length)&&(0,g.jsx)(f.Z,{title:"No staff leave history."})]})]})}}}]);
//# sourceMappingURL=3231.e9070f64.chunk.js.map