"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[70057],{61055:(e,l,t)=>{t.d(l,{Z:()=>o});var s=t(39230),n=t(52245),i=t(80184);const a=["tel","number"],o=e=>{let{label:l,name:t,msg:o,type:d,value:r,onChange:c,placeholder:u,maxLength:v,customFormInputContainer:_,customFormInputLabel:m,customFormInput:h,errorShow:f,disabled:p,children:x}=e;const{t:j}=(0,s.$G)();return(0,i.jsxs)("div",{className:n.Z.form_input_container,style:_,children:[l&&(0,i.jsxs)("label",{className:n.Z.form_input_label,style:m,htmlFor:t,children:[l,o?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("span",{className:n.Z.form_input_label_error,children:[" "," "," ",o]})}):f?(0,i.jsxs)("span",{className:n.Z.form_input_label_error,children:["* ",j("form_require_label")]}):null,x]}),a.includes(d)?(0,i.jsx)("input",{className:n.Z.form_input,type:d,value:r,onChange:c,name:t,placeholder:u,maxLength:null!==v&&void 0!==v?v:100,disabled:p,style:h}):(0,i.jsx)("input",{className:n.Z.form_input,type:d,value:r,onChange:c,name:t,placeholder:u,disabled:p,style:h})]})}},38857:(e,l,t)=>{t.d(l,{Z:()=>d});var s=t(79864),n=t(54164),i=t(15783),a=t(80184);const o=e=>{let{modalState:l,isHide:t,customOverlayStyle:s,children:o}=e;return n.createPortal((0,a.jsx)("div",{className:i.Z.modal_overlay,style:{...s},children:o}),document.getElementById("overlay"))},d=e=>{let{onClose:l,modalState:t,customBackdropStyle:n,customOverlayStyle:i,children:d}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{onBackdropClose:l,customBackdropStyle:n}),(0,a.jsx)(o,{customOverlayStyle:i,children:d})]})}},63162:(e,l,t)=>{t.d(l,{Z:()=>r});var s=t(39230),n=t(51416),i=t(43504),a=t(72791),o=t(80184);const d=e=>{let{tab:l,isActive:t,isLink:a,parentState:d,onAction:r,url:c,extraData:u,customStyle:v}=e;const{t:_}=(0,s.$G)();return a?(0,o.jsx)(i.rU,{className:t?n.Z.horizontal_tab_card_active:n.Z.horizontal_tab_card,to:c,state:d,style:v,children:(0,o.jsxs)("h6",{children:[_(null===l||void 0===l?void 0:l.label),(null===u||void 0===u?void 0:u.count)>=0?"(".concat(null===u||void 0===u?void 0:u.count,")"):""]})}):(0,o.jsx)("div",{className:t?n.Z.horizontal_tab_card_active:n.Z.horizontal_tab_card,onClick:()=>{r(null===l||void 0===l?void 0:l.id)},children:(0,o.jsx)("h6",{children:_(null===l||void 0===l?void 0:l.label)})})},r=(0,a.memo)(d)},98967:(e,l,t)=>{t.d(l,{Z:()=>i});var s=t(51416),n=t(80184);const i=e=>{let{customWrapperStyle:l,children:t}=e;return(0,n.jsx)("div",{className:s.Z.horizontal_tab_wrapper,style:l,children:t})}},28942:(e,l,t)=>{t.d(l,{Z:()=>Be});var s=t(43504),n=t(39230),i=t(4007),a=t(43677),o=t(6758),d=t(98684),r=t(1669),c=t(80184);const u=e=>{let{fid:l,carryParentState:t,accessRole:s,callApi:u,viewAs:v}=e;const{t:_}=(0,n.$G)(),{instituteAllDepartment:m,instituteAllDepartmentLoading:h}=(0,o.Jv)({fid:l,skip:!l});return(0,c.jsxs)("div",{className:i.Z.department_container,children:[h&&(0,c.jsx)(r.Z,{}),null===m||void 0===m?void 0:m.map((e=>{var l;return(0,c.jsx)(a.Z,{parentState:{...t,did:null===e||void 0===e?void 0:e._id,dName:null===e||void 0===e?void 0:e.dName},activeUrl:"type=fees&n=structure&u=batch",accessRole:s,callApi:u,children:(0,c.jsxs)("div",{className:i.Z.department_card_container,children:[(0,c.jsx)("img",{src:"".concat(d.J7,"/department.svg"),alt:"department avatar",className:i.Z.department_card_image}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h6",{className:i.Z.department_card_name,children:(null===e||void 0===e?void 0:e.dName)||""}),(0,c.jsxs)("p",{className:i.Z.department_card_head,style:{fontSize:"13px",marginTop:"0.3rem"},children:[_("total_masters")," "," : "," ",null!==(l=null===e||void 0===e?void 0:e.classMasterCount)&&void 0!==l?l:0]})]})]})},null===e||void 0===e?void 0:e._id)}))]})};var v=t(16871);const _=e=>{let{instituteId:l,categoryCount:t,masterCount:s,fid:o,hostelId:r}=e;const{t:_}=(0,n.$G)(),m=(0,v.TH)();return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a.Z,{parentState:m.state,activeUrl:"type=fees&n=category",children:(0,c.jsxs)("div",{className:i.Z.fees_category,children:[(0,c.jsx)("div",{className:i.Z.fees_category_icon,children:(0,c.jsx)("img",{src:"".concat(d.J7,"/category.svg"),alt:"categor icon"})}),(0,c.jsxs)("div",{className:i.Z.fees_category_text,children:[(0,c.jsx)("h6",{children:_("fees_master")}),(0,c.jsxs)("p",{children:[_("fees_total")," "," : "," ",t+s]})]})]})}),(0,c.jsx)(a.Z,{parentState:m.state,activeUrl:"type=fees&n=hostel&u=batch",children:(0,c.jsxs)("div",{className:i.Z.department_card_container,style:{marginTop:"1rem"},children:[(0,c.jsx)("img",{src:"".concat(d.J7,"/department.svg"),alt:"department avatar",className:i.Z.department_card_image}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h6",{className:i.Z.department_card_name,children:_("hostel_structure")}),(0,c.jsxs)("p",{className:i.Z.department_card_head,style:{fontSize:"13px",marginTop:"0.3rem"},children:[_("total_masters")," "," : "," ",0]})]})]})}),(0,c.jsx)(u,{fid:o,instituteId:l,carryParentState:m.state})]})};var m=t(56959),h=t(98967),f=t(63162),p=t(90904),x=t(44226),j=t(93638),g=t(72791),y=t(21625),b=t(89064),Z=t(38857),N=t(21348);const S=e=>{let{fid:l,selectedId:t,onSecondary:s,onClose:a}=e;const{t:r}=(0,n.$G)(),{financeAllFeesCategory:u,financeAllFeesCategoryLoading:v}=(0,o.QD)({fid:l,skip:!l});return(0,c.jsx)(Z.Z,{onClose:a,children:(0,c.jsxs)("div",{className:i.Z.modal_container,children:[(0,c.jsx)(N.Z,{children:(0,c.jsxs)("div",{className:i.Z.modal_container_outer_header,children:[(0,c.jsx)("div",{className:i.Z.modal_container_header,children:(0,c.jsx)("h6",{children:r("select_secondary_category")})}),(0,c.jsx)("img",{src:"".concat(d.J7,"/close.svg"),alt:"close icon",onClick:a})]})}),(0,c.jsx)(p.Z,{}),(0,c.jsx)(N.Z,{customStyle:{paddingTop:"0"},children:null===u||void 0===u?void 0:u.map((e=>{var l;return(null===e||void 0===e?void 0:e._id)===t?"":(0,c.jsxs)("div",{className:"".concat(i.Z.category_card," ").concat(i.Z.add_category_modal_title_active),onClick:()=>s(null===e||void 0===e?void 0:e._id),children:[(0,c.jsx)("img",{src:"".concat(d.J7,"/category.svg"),alt:"categor icon"}),(0,c.jsx)("h6",{children:null!==(l=null===e||void 0===e?void 0:e.category_name)&&void 0!==l?l:""})]},null===e||void 0===e?void 0:e._id)}))})]})})};var C=t(1095);const I=e=>{let{fid:l,openCategoryMenu:t,onClose:s,allowScholarship:i}=e;const{t:a}=(0,n.$G)(),[d,r]=(0,g.useState)(!1),[u]=(0,o.wJ)(),[v]=(0,o.Es)(),[_]=(0,o.ZE)(),[m]=(0,o.dP)(),[h,f]=(0,g.useState)(!1),p=e=>{let l="Yes"===e;t&&(r((e=>!e)),_({fcid:t,applicable:{scholarship_applicable:l}}).then((()=>{s(),r((e=>!e))})).catch({}))};return(0,c.jsx)(c.Fragment,{children:h?(0,c.jsx)(S,{selectedId:t,fid:l,onSecondary:e=>{l&&t&&(f(!1),r((e=>!e)),v({fid:l,secondaryData:{old_category:t,fee_category:e}}).then((()=>{s(),r((e=>!e))})).catch({}))},onClose:()=>f(!1)}):(0,c.jsxs)(b.Z,{onClose:s,disabled:d,customStyle:{width:"18rem"},children:[(0,c.jsx)("h6",{onClick:()=>{f((e=>!e))},children:a("mark_as_secondary")}),i?(0,c.jsx)("h6",{onClick:p,children:a("no_scholarship_freeship")}):(0,c.jsx)("h6",{onClick:()=>p("Yes"),children:a("scholarship_freeship")}),(0,c.jsx)("h6",{onClick:()=>{t&&(r((e=>!e)),m({frid:t}).then((e=>{var l;if(null!==e&&void 0!==e&&null!==(l=e.data)&&void 0!==l&&l.data){var t;r((e=>!e));const l=window.open("".concat(C.q2,"/").concat(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data),"_blank","noopener,noreferrer");l&&(l.opener=null),s()}else r((e=>!e)),s()})).catch({}))},children:a("export")}),(0,c.jsx)("h6",{onClick:()=>{t&&(r((e=>!e)),u({cid:t}).then((()=>{s(),r((e=>!e))})).catch({}))},children:a("delete")})]})})},F=e=>{var l,t,s,n;let{category:a,fid:o}=e;const[r,u]=(0,g.useState)("");return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:i.Z.category_card,children:[(0,c.jsx)("img",{src:"".concat(d.J7,"/category.svg"),alt:"categor icon"}),(0,c.jsxs)("h6",{children:[null!==(l=null===a||void 0===a?void 0:a.category_name)&&void 0!==l?l:""," ",null!==a&&void 0!==a&&null!==(t=a.secondary_category)&&void 0!==t&&t.category_name?(0,c.jsxs)("span",{style:{fontSize:"11px",fontWeight:"400"},children:["(",null!==(s=null===a||void 0===a||null===(n=a.secondary_category)||void 0===n?void 0:n.category_name)&&void 0!==s?s:"",")"]}):""]}),(0,c.jsx)("img",{src:"".concat(d.J7,"/menu.svg"),alt:"menu icon",onClick:()=>{u(null===a||void 0===a?void 0:a._id)},className:i.Z.menu_icon,title:"Menu"})]}),r&&(0,c.jsx)(I,{fid:o,onClose:()=>{u("")},openCategoryMenu:r,allowScholarship:null===a||void 0===a?void 0:a.scholarship_applicable})]})};var k=t(55336),D=t(61055);const A=e=>{let{onClose:l,fid:t}=e;const{t:s}=(0,n.$G)(),[a,r]=(0,g.useState)(""),[u,v]=(0,g.useState)(!1),[_,m]=(0,g.useState)(""),[h]=(0,o.d5)();return(0,c.jsx)(Z.Z,{onClose:l,children:(0,c.jsxs)("div",{className:i.Z.modal_container,children:[(0,c.jsx)(N.Z,{children:(0,c.jsxs)("div",{className:i.Z.modal_container_outer_header,children:[(0,c.jsx)("div",{className:i.Z.modal_container_header,children:(0,c.jsx)("h6",{children:s("add_new_category")})}),(0,c.jsx)("img",{src:"".concat(d.J7,"/close.svg"),alt:"close icon",onClick:l})]})}),(0,c.jsx)(p.Z,{}),(0,c.jsxs)(N.Z,{customStyle:{paddingTop:"0"},children:[(0,c.jsx)(D.Z,{label:s("category_name"),placeholder:s("category_name_placeholder"),name:"category",value:a,type:"text",onChange:e=>{var l;(null===(l=e.target.value)||void 0===l?void 0:l.length)<=30&&r(e.target.value)},errorShow:_.categoryName}),(0,c.jsx)(j.Z,{label:"create",onAction:()=>{a&&t?(v((e=>!e)),h({fid:t,createCategory:{category_name:a}}).then((()=>{l(),v((e=>!e))})).catch((()=>{v((e=>!e))}))):m({categoryName:"* required"})}})]}),u&&(0,c.jsx)(k.Z,{})]})})},w=e=>{let{fid:l}=e;const[t,s]=(0,g.useState)(!1),[n,a]=(0,g.useState)(!1),[d]=(0,y.FL)(),[u]=(0,o.M7)(),{financeAllFeesCategory:v,financeAllFeesCategoryLoading:_}=(0,o.QD)({fid:l,skip:!l}),m=()=>{a((e=>!e))};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:i.Z.upload_excel_container,children:[(0,c.jsx)(x.Z,{onExcelFileUpload:e=>{if(e.target.files[0]){s((e=>!e));const t=new FormData;t.append("file",e.target.files[0]),d({fileUpload:t}).then((e=>{var t,n;null!==(t=e.data)&&void 0!==t&&t.imageKey?u({fid:l,excelFile:{excel_file:null===(n=e.data)||void 0===n?void 0:n.imageKey}}).then((()=>{s((e=>!e))})).catch({}):s((e=>!e))})).catch({})}}}),(0,c.jsx)(j.Z,{label:"add_new_category",customStyle:{paddingBlock:"0.4rem",margin:"0",marginBottom:"0.5rem"},onAction:m})]}),null===v||void 0===v?void 0:v.map((e=>(0,c.jsx)(F,{category:e,fid:l},null===e||void 0===e?void 0:e._id))),_&&(0,c.jsx)(r.Z,{}),t&&(0,c.jsx)(k.Z,{}),n&&(0,c.jsx)(A,{onClose:m,fid:l})]})};var T=t(99183);const E=e=>{let{onClose:l,fid:t,openFeeHeadMenu:s,openAs:a,onEdit:r,onRefetch:u,isFlow:v}=e;const{t:_}=(0,n.$G)(),[m,h]=(0,g.useState)({master_name:"EDIT"===a?null===s||void 0===s?void 0:s.master_name:"",master_amount:"EDIT"===a?null===s||void 0===s?void 0:s.master_amount:""}),[f,x]=(0,g.useState)(!1),[y,b]=(0,g.useState)(""),[S]=(0,o.bQ)();(0,g.useEffect)((()=>{"EDIT"===a&&h({master_name:null===s||void 0===s?void 0:s.master_name,master_amount:null===s||void 0===s?void 0:s.master_amount})}),[a]);const C=e=>{var l;"master_name"===e.target.name?(null===(l=e.target.value)||void 0===l?void 0:l.length)<=30&&h((l=>({...l,[e.target.name]:e.target.value}))):h((l=>({...l,[e.target.name]:+e.target.value})))};return(0,c.jsx)(Z.Z,{onClose:l,children:(0,c.jsxs)("div",{className:i.Z.modal_container,children:[(0,c.jsx)(N.Z,{children:(0,c.jsxs)("div",{className:i.Z.modal_container_outer_header,children:[(0,c.jsx)("div",{className:i.Z.modal_container_header,children:v?(0,c.jsx)("h6",{children:_("EDIT"===a?"edit_other_fee_head":"add_other_fee_head")}):(0,c.jsx)("h6",{children:_("EDIT"===a?"edit_fee_head":"add_new_fee_head")})}),(0,c.jsx)("img",{src:"".concat(d.J7,"/close.svg"),alt:"close icon",onClick:l})]})}),(0,c.jsx)(p.Z,{}),(0,c.jsxs)(N.Z,{customStyle:{paddingTop:"0"},children:[(0,c.jsx)(D.Z,{label:_("head_name"),placeholder:_("head_name_placeholder"),name:"master_name",value:m.master_name,type:"text",onChange:C,errorShow:y.master_name}),(0,c.jsx)(D.Z,{label:_("amount"),placeholder:_("amount_placeholder"),name:"master_amount",value:m.master_amount,type:"tel",onChange:C}),(0,c.jsx)(j.Z,{label:"EDIT"===a?"update":"create",onAction:()=>{if(t){let e=(0,T.l)(m,["master_amount"]);(0,T.x)(e)?"EDIT"===a?r({master_name:null===m||void 0===m?void 0:m.master_name,master_amount:null!==m&&void 0!==m&&m.master_amount?null===m||void 0===m?void 0:m.master_amount:0}):(x((e=>!e)),S({fid:t,addFeeHead:{master_name:null===m||void 0===m?void 0:m.master_name,master_amount:null!==m&&void 0!==m&&m.master_amount?null===m||void 0===m?void 0:m.master_amount:0,flow:v||""}}).then((()=>{u(),x((e=>!e)),l()})).catch((()=>{x((e=>!e))}))):b(e)}}})]}),f&&(0,c.jsx)(k.Z,{})]})})},B=e=>{let{fid:l,openFeeHeadMenu:t,onClose:s,onRefetch:i,isFlow:a}=e;const{t:d}=(0,n.$G)(),[r,u]=(0,g.useState)(!1),[v]=(0,o.hx)(),[_]=(0,o.dA)(),[m,h]=(0,g.useState)(!1),f=()=>{h((e=>!e))};return(0,c.jsx)(c.Fragment,{children:m?(0,c.jsx)(E,{onClose:f,openFeeHeadMenu:t,openAs:"EDIT",onEdit:e=>{null!==t&&void 0!==t&&t._id&&(u((e=>!e)),h(!1),_({fmid:null===t||void 0===t?void 0:t._id,updateFeeHead:e}).then((()=>{i(),u((e=>!e)),s()})).catch({}))},fid:l,isFlow:a}):(0,c.jsxs)(b.Z,{onClose:s,disabled:r,children:[(0,c.jsx)("h6",{onClick:f,children:d("edit")}),(0,c.jsx)("h6",{onClick:()=>{null!==t&&void 0!==t&&t._id&&l&&(u((e=>!e)),v({fhid:null===t||void 0===t?void 0:t._id,fid:l,bodyParameter:{flow:a?"OTHER":""}}).then((()=>{i(),u((e=>!e)),s()})).catch({}))},children:d("delete")})]})})},H=e=>{var l,t;let{feeHead:s,fid:a,onRefetch:o}=e;const{t:r}=(0,n.$G)(),[u,v]=(0,g.useState)("");return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:i.Z.category_card,children:[(0,c.jsx)("img",{style:{height:"36px",width:"36px"},src:"".concat(d.J7,"/category.svg"),alt:"categor icon"}),(0,c.jsxs)("div",{className:i.Z.category_card_fee,children:[(0,c.jsx)("h6",{style:{marginBottom:"0.3rem"},children:null!==(l=null===s||void 0===s?void 0:s.master_name)&&void 0!==l?l:""}),(0,c.jsxs)("h6",{style:{color:"rgba(18, 18, 18, 0.5)"},children:[r("rs_only"),null!==(t=null===s||void 0===s?void 0:s.master_amount)&&void 0!==t?t:0]})]}),["Hostel Linked","Linked","Transport Linked"].includes(null===s||void 0===s?void 0:s.master_status)?"":(0,c.jsx)("img",{src:"".concat(d.J7,"/menu.svg"),alt:"menu icon",onClick:()=>{v(s)},className:i.Z.menu_icon,title:"Menu"})]},null===s||void 0===s?void 0:s._id),u&&(0,c.jsx)(B,{fid:a,onClose:()=>{v("")},openFeeHeadMenu:u,onRefetch:o})]})};var U=t(23441),R=t(91427),L=t(57588),M=t(2651);const G=e=>{var l,t,s,a;let{fid:u}=e;const{t:v}=(0,n.$G)(),[_,h]=(0,g.useState)(!1),[f,p]=(0,g.useState)(!1),[b,Z]=(0,g.useState)(""),[N,S]=(0,g.useState)(1),[C,I]=(0,g.useState)(!0),[F,D]=(0,U.YD)({skip:b}),[A]=(0,y.FL)(),[w]=(0,o.yJ)(),{financeAllFeeHeadMaster:T,financeAllFeeHeadMasterLoading:B,financeAllFeeHeadMasterRefetch:G}=(0,o.an)({data:{fid:u,page:N,limit:10,search:b},skip:!u});(0,g.useEffect)((()=>{D&&C&&S((e=>e+1))}),[D,C]),(0,g.useEffect)((()=>{var e;if(null!==T&&void 0!==T&&null!==(e=T.list)&&void 0!==e&&e.length){var l;let e=(0,R.f)(null===T||void 0===T||null===(l=T.list)||void 0===l?void 0:l.length);I((()=>e))}}),[null===T||void 0===T||null===(l=T.list)||void 0===l?void 0:l.length]);const P=(0,g.useCallback)((0,L.J)((e=>{S((()=>1)),Z(e)}),500),[]),J=()=>{p((e=>!e))},O=()=>{S((()=>1)),Z(""),G()};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:m.Z.fm_search_full,style:{marginBottom:"0.5rem"},children:(0,c.jsxs)("section",{className:m.Z.fm_search_full_container,children:[(0,c.jsxs)("div",{className:m.Z.fm_search_full_container_inner,style:{flex:"1.5 1.5"},children:[(0,c.jsx)("img",{className:m.Z.fm_search_full_icon,alt:"search icon",src:"".concat(d.dB,"/navbar-search.svg")}),(0,c.jsx)("input",{type:"text",placeholder:v("search"),onChange:e=>{e.target.value?P(e.target.value):(S((()=>1)),Z(""))}})]}),(0,c.jsxs)("div",{className:i.Z.upload_excel_container,style:{flex:"1 1"},children:[(0,c.jsx)(x.Z,{onExcelFileUpload:e=>{if(e.target.files[0]){h((e=>!e));const l=new FormData;l.append("file",e.target.files[0]),A({fileUpload:l}).then((e=>{var l,t;null!==(l=e.data)&&void 0!==l&&l.imageKey?w({fid:u,excelFile:{excel_file:null===(t=e.data)||void 0===t?void 0:t.imageKey}}).then((()=>{h((e=>!e))})).catch({}):h((e=>!e))})).catch({})}}}),(0,c.jsx)(j.Z,{label:"add_new_fee_head",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:J})]})]})}),null===T||void 0===T||null===(t=T.list)||void 0===t?void 0:t.map(((e,l)=>{var t;return(null===T||void 0===T||null===(t=T.list)||void 0===t?void 0:t.length)===l+1?(0,c.jsx)("div",{ref:F,children:(0,c.jsx)(H,{feeHead:e,fid:u,onRefetch:O})},null===e||void 0===e?void 0:e._id):(0,c.jsx)(H,{feeHead:e,fid:u,onRefetch:O},null===e||void 0===e?void 0:e._id)})),B?b?(0,c.jsx)(k.Z,{}):(0,c.jsx)(r.Z,{}):b?0===(null===T||void 0===T||null===(s=T.list)||void 0===s?void 0:s.length)&&(0,c.jsx)(M.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No fee heads found related this search."}):0===(null===T||void 0===T||null===(a=T.list)||void 0===a?void 0:a.length)&&(0,c.jsx)(M.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No fee heads added."}),_&&(0,c.jsx)(k.Z,{}),f&&(0,c.jsx)(E,{onClose:J,fid:u,onRefetch:O})]})},P=e=>{var l,t;let{feeHead:s,fid:a,onRefetch:o,isFlow:r}=e;const{t:u}=(0,n.$G)(),[v,_]=(0,g.useState)("");return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:i.Z.category_card,children:[(0,c.jsx)("img",{style:{height:"36px",width:"36px"},src:"".concat(d.J7,"/category.svg"),alt:"categor icon"}),(0,c.jsxs)("div",{className:i.Z.category_card_fee,children:[(0,c.jsx)("h6",{style:{marginBottom:"0.3rem"},children:null!==(l=null===s||void 0===s?void 0:s.master_name)&&void 0!==l?l:""}),(0,c.jsxs)("h6",{style:{color:"rgba(18, 18, 18, 0.5)"},children:[u("rs_only"),null!==(t=null===s||void 0===s?void 0:s.master_amount)&&void 0!==t?t:0]})]}),["Hostel Linked","Linked","Transport Linked"].includes(null===s||void 0===s?void 0:s.master_status)?"":(0,c.jsx)("img",{src:"".concat(d.J7,"/menu.svg"),alt:"menu icon",onClick:()=>{_(s)},className:i.Z.menu_icon,title:"Menu"})]},null===s||void 0===s?void 0:s._id),v&&(0,c.jsx)(B,{fid:a,onClose:()=>{_("")},openFeeHeadMenu:v,onRefetch:o,isFlow:r})]})},J=e=>{var l,t,s,a;let{fid:u}=e;const{t:v}=(0,n.$G)(),[_,h]=(0,g.useState)(!1),[f,p]=(0,g.useState)(!1),[x,y]=(0,g.useState)(""),[b,Z]=(0,g.useState)(1),[N,S]=(0,g.useState)(!0),[C,I]=(0,U.YD)({skip:x}),{financeAllOtherFeeHeadMaster:F,financeAllOtherFeeHeadMasterLoading:D,financeAllOtherFeeHeadMasterRefetch:A}=(0,o.sx)({data:{fid:u,page:b,limit:10,search:x},skip:!u});(0,g.useEffect)((()=>{I&&N&&Z((e=>e+1))}),[I,N]),(0,g.useEffect)((()=>{var e;if(null!==F&&void 0!==F&&null!==(e=F.list)&&void 0!==e&&e.length){var l;let e=(0,R.f)(null===F||void 0===F||null===(l=F.list)||void 0===l?void 0:l.length);S((()=>e))}}),[null===F||void 0===F||null===(l=F.list)||void 0===l?void 0:l.length]);const w=(0,g.useCallback)((0,L.J)((e=>{Z((()=>1)),y(e)}),500),[]),T=()=>{p((e=>!e))},B=()=>{Z((()=>1)),y(""),A()};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:m.Z.fm_search_full,style:{marginBottom:"0.5rem"},children:(0,c.jsxs)("section",{className:m.Z.fm_search_full_container,children:[(0,c.jsxs)("div",{className:m.Z.fm_search_full_container_inner,style:{flex:"1.5 1.5"},children:[(0,c.jsx)("img",{className:m.Z.fm_search_full_icon,alt:"search icon",src:"".concat(d.dB,"/navbar-search.svg")}),(0,c.jsx)("input",{type:"text",placeholder:v("search"),onChange:e=>{e.target.value?w(e.target.value):(Z((()=>1)),y(""))}})]}),(0,c.jsx)("div",{className:i.Z.upload_excel_container,style:{flex:"1 1"},children:(0,c.jsx)(j.Z,{label:"add_other_fee_head",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:T})})]})}),null===F||void 0===F||null===(t=F.list)||void 0===t?void 0:t.map(((e,l)=>{var t;return(null===F||void 0===F||null===(t=F.list)||void 0===t?void 0:t.length)===l+1?(0,c.jsx)("div",{ref:C,children:(0,c.jsx)(P,{feeHead:e,fid:u,onRefetch:B,isFlow:"OTHER"})},null===e||void 0===e?void 0:e._id):(0,c.jsx)(P,{feeHead:e,fid:u,onRefetch:B,isFlow:"OTHER"},null===e||void 0===e?void 0:e._id)})),D?x?(0,c.jsx)(k.Z,{}):(0,c.jsx)(r.Z,{}):x?0===(null===F||void 0===F||null===(s=F.list)||void 0===s?void 0:s.length)&&(0,c.jsx)(M.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No other fee master found related this search."}):0===(null===F||void 0===F||null===(a=F.list)||void 0===a?void 0:a.length)&&(0,c.jsx)(M.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No other fee master added."}),_&&(0,c.jsx)(k.Z,{}),f&&(0,c.jsx)(E,{onClose:T,fid:u,onRefetch:B,isFlow:"OTHER"})]})},O=[{label:"category",id:"category",urlKey:"&n=category"},{label:"fees_heads",id:"head",urlKey:"&n=head"},{label:"other_fee_master",id:"master",urlKey:"&n=master"}],$=e=>{let{fid:l}=e;const{t:t}=(0,n.$G)(),[i]=(0,s.lr)(),a=(0,v.TH)(),o=(0,v.UO)();return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:m.Z.fm_header_container,children:(0,c.jsx)("h6",{children:t("fees_master")})}),(0,c.jsx)(h.Z,{children:O.map((e=>{var l;return(0,c.jsx)(f.Z,{tab:e,isLink:!0,isActive:i.get("n")===e.id,parentState:a.state,url:"Institute"===(null===(l=a.state)||void 0===l?void 0:l.urlOffSet)?"/q/".concat(o.username,"/institute/member/finance?type=fees").concat(e.urlKey):"/q/".concat(o.username,"/member/staff/finance?type=fees").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,c.jsx)(p.Z,{customStyleBorder:{marginTop:"0"}}),"category"===i.get("n")?(0,c.jsx)(w,{fid:l}):"master"===i.get("n")?(0,c.jsx)(J,{fid:l}):(0,c.jsx)(G,{fid:l})]})},Y="FeesConfig_class_container__7EIlk",q="FeesConfig_class_container_text__BXhQD",z="FeesConfig_oneRowImage__GaV1n";var W=t(97892),V=t.n(W);const K=e=>{let{departmentId:l,carryParentState:t}=e;const{t:s}=(0,n.$G)(),{departmentAllBatch:i,departmentAllBatchLoading:u}=(0,o._m)({did:l,skip:!l});return(0,c.jsxs)(c.Fragment,{children:[null===i||void 0===i?void 0:i.map((e=>(0,c.jsx)(a.Z,{parentState:{...t,batchId:null===e||void 0===e?void 0:e._id,batchName:null===e||void 0===e?void 0:e.batchName},activeUrl:"type=fees&n=structure&u=standard",children:(0,c.jsxs)("div",{className:Y,children:[(0,c.jsx)("img",{className:z,src:"".concat(d.J7,"/class.svg"),alt:"batch icon"}),(0,c.jsxs)("div",{className:q,children:[(0,c.jsx)("h6",{children:null===e||void 0===e?void 0:e.batchName}),(0,c.jsxs)("p",{children:[s("created_on")," : ",V()(e.createdAt).format("DD MMM YYYY")]})]})]})},null===e||void 0===e?void 0:e._id))),u&&(0,c.jsx)(r.Z,{})]})},Q=e=>{let{carryParentState:l,departmentId:t,instituteId:s}=e;const{departmentAllClassMaster:n,departmentAllClassMasterLoading:i}=(0,o.lj)({data:{id:s,did:t},skip:t?!s:!t});return(0,c.jsxs)(c.Fragment,{children:[null===n||void 0===n?void 0:n.map((e=>(0,c.jsx)(a.Z,{parentState:{...l,clsId:null===e||void 0===e?void 0:e._id,clsName:null===e||void 0===e?void 0:e.className},activeUrl:"type=fees&n=structure",children:(0,c.jsxs)("div",{className:Y,children:[(0,c.jsx)("img",{className:z,src:"".concat(d.J7,"/class.svg"),alt:"batch icon"}),(0,c.jsx)("div",{className:q,children:(0,c.jsx)("h6",{children:null===e||void 0===e?void 0:e.className})})]})},null===e||void 0===e?void 0:e._id))),i&&(0,c.jsx)(r.Z,{})]})};var X=t(76390);const ee=e=>{var l,t,s,a,o;let{structure:r,instituteId:u,fid:v,did:_,onRefetch:m}=e;const{t:h}=(0,n.$G)(),[f,p]=(0,g.useState)("");return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:i.Z.fees_card,onClick:()=>{p(null===r||void 0===r?void 0:r._id)},style:{cursor:"pointer"},children:[(0,c.jsx)("img",{src:"".concat(d.J7,"/category.svg"),alt:"categor icon"}),(0,c.jsxs)("div",{className:i.Z.fees_card_text,children:[(0,c.jsxs)("div",{className:i.Z.fees_card_text_bottom,children:[(0,c.jsx)("h6",{children:null!==(l=null===r||void 0===r||null===(t=r.category_master)||void 0===t?void 0:t.category_name)&&void 0!==l?l:""}),(0,c.jsx)("h6",{children:"(".concat(h("rs_only")," ").concat(null!==(s=null===r||void 0===r?void 0:r.applicable_fees)&&void 0!==s?s:0,")")})]}),(0,c.jsxs)("div",{className:i.Z.fees_card_text_bottom,children:[(0,c.jsx)("h6",{children:null!==(a=null===r||void 0===r?void 0:r.structure_name)&&void 0!==a?a:""}),(0,c.jsxs)("h6",{children:[h("rs_only"),null!==(o=null===r||void 0===r?void 0:r.total_admission_fees)&&void 0!==o?o:0]})]})]})]}),f&&(0,c.jsx)(X.Z,{onClose:()=>{p("")},structureId:f,instituteId:u,fid:v,did:_,onRefetch:m})]})};var le=t(90802);const te=e=>{var l,t,s,i,a,u,v;let{instituteId:_,financeId:h,getQuery:f}=e;const{t:p}=(0,n.$G)(),[b,Z]=(0,g.useState)(""),[N,S]=(0,g.useState)(1),[C,I]=(0,g.useState)(!0),[F,D]=(0,U.YD)({skip:b}),[A,w]=(0,g.useState)(!1),[T,E]=(0,g.useState)(!1),[B]=(0,y.FL)(),[H]=(0,o.dn)(),{financeAllFeeStructure:G,financeAllFeeStructureLoading:P,financeAllFeeStructureRefetch:J}=(0,o.P)({data:{did:null===f||void 0===f?void 0:f.did,page:N,limit:10,search:b,filterBy:null===f||void 0===f?void 0:f.clsId,batchBy:null===f||void 0===f?void 0:f.batchId},skip:!(null!==f&&void 0!==f&&f.did)});(0,g.useEffect)((()=>{D&&C&&S((e=>e+1))}),[D,C]),(0,g.useEffect)((()=>{var e;if(null!==G&&void 0!==G&&null!==(e=G.list)&&void 0!==e&&e.length){var l;let e=(0,R.f)(null===G||void 0===G||null===(l=G.list)||void 0===l?void 0:l.length);I((()=>e))}}),[null===G||void 0===G||null===(l=G.list)||void 0===l?void 0:l.length]);const O=(0,g.useCallback)((0,L.J)((e=>{S((()=>1)),Z(e)}),500),[]),$=()=>{w((e=>!e))},Y=(0,g.useCallback)((()=>{S((()=>1)),Z(""),J()}),[J]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:m.Z.fm_header_container,children:[(0,c.jsxs)("h6",{children:[null!==(t=null===f||void 0===f?void 0:f.dName)&&void 0!==t?t:"",null!==f&&void 0!==f&&f.batchName?(0,c.jsxs)("span",{style:{fontWeight:"400",fontSize:"13px"},children:[" ","(",null!==(s=null===f||void 0===f?void 0:f.batchName)&&void 0!==s?s:"",")"]}):null,null!==f&&void 0!==f&&f.clsName?(0,c.jsxs)("span",{style:{fontWeight:"400",fontSize:"13px"},children:[" - ","(",null!==(i=null===f||void 0===f?void 0:f.clsName)&&void 0!==i?i:"",")"]}):null]}),(0,c.jsxs)("div",{className:m.Z.fm_add_button,style:{alignItems:"center"},children:[(0,c.jsx)(x.Z,{onExcelFileUpload:e=>{var l;if(null!==(l=e.target.files)&&void 0!==l&&l.length&&null!==f&&void 0!==f&&f.did&&h){E((e=>!e));const l=new FormData;l.append("file",e.target.files[0]),B({fileUpload:l}).then((e=>{var l,t;null!==(l=e.data)&&void 0!==l&&l.imageKey?H({fid:h,did:null===f||void 0===f?void 0:f.did,excelFile:{excel_file:null===(t=e.data)||void 0===t?void 0:t.imageKey}}).then((()=>{E((e=>!e))})).catch({}):E((e=>!e))})).catch({})}}}),(0,c.jsx)(j.Z,{label:"add_new_fees_structure",customStyle:{marginBlock:"0.5rem"},onAction:$})]})]}),(0,c.jsx)("div",{className:m.Z.fm_search_full,style:{marginBottom:"0.7rem"},children:(0,c.jsx)("section",{className:m.Z.fm_search_full_container,children:(0,c.jsxs)("div",{className:m.Z.fm_search_full_container_inner,children:[(0,c.jsx)("img",{className:m.Z.fm_search_full_icon,alt:"search icon",src:"".concat(d.dB,"/navbar-search.svg")}),(0,c.jsx)("input",{type:"text",placeholder:p("search"),onChange:e=>{e.target.value?O(e.target.value):(S((()=>1)),Z(""))}})]})})}),null===G||void 0===G||null===(a=G.list)||void 0===a?void 0:a.map(((e,l)=>{var t;return(null===G||void 0===G||null===(t=G.list)||void 0===t?void 0:t.length)===l+1?(0,c.jsx)("div",{ref:F,children:(0,c.jsx)(ee,{structure:e,instituteId:_,fid:h,did:null===f||void 0===f?void 0:f.did,onRefetch:Y})},null===e||void 0===e?void 0:e._id):(0,c.jsx)(ee,{structure:e,instituteId:_,fid:h,did:null===f||void 0===f?void 0:f.did,onRefetch:Y},null===e||void 0===e?void 0:e._id)})),P?b?(0,c.jsx)(k.Z,{}):(0,c.jsx)(r.Z,{}):b?0===(null===G||void 0===G||null===(u=G.list)||void 0===u?void 0:u.length)&&(0,c.jsx)(M.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No fee structure found related this search."}):0===(null===G||void 0===G||null===(v=G.list)||void 0===v?void 0:v.length)&&(0,c.jsx)(M.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No fee structure added."}),A&&(0,c.jsx)(le.Z,{instituteId:_,fid:h,did:null===f||void 0===f?void 0:f.did,onClose:$,onRefetch:Y,isRefetch:!0}),T&&(0,c.jsx)(k.Z,{})]})},se=e=>{var l,t,n,a,d,r,u,_,m,h,f,b,Z;let{fid:N,instituteId:S}=e;const I=(0,v.TH)(),[F]=(0,s.lr)(),[D,A]=(0,g.useState)(!1),[w,T]=(0,g.useState)(!1),[E]=(0,y.FL)(),[B]=(0,o.dn)(),[H]=(0,o.Is)(),U=()=>{A((e=>!e))};return(0,c.jsxs)(c.Fragment,{children:[F.get("u")?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:i.Z.structure_container_title,children:[(0,c.jsxs)("h6",{children:[null!==(l=null===(t=I.state)||void 0===t?void 0:t.dName)&&void 0!==l?l:"",null!==(n=I.state)&&void 0!==n&&n.batchName?(0,c.jsxs)("span",{style:{fontWeight:"400",fontSize:"13px"},children:[" ","(",null!==(a=null===(d=I.state)||void 0===d?void 0:d.batchName)&&void 0!==a?a:"",")"]}):null,null!==(r=I.state)&&void 0!==r&&r.clsName?(0,c.jsxs)("span",{style:{fontWeight:"400",fontSize:"13px"},children:[" - ","(",null!==(u=null===(_=I.state)||void 0===_?void 0:_.clsName)&&void 0!==u?u:"",")"]}):null]}),(0,c.jsxs)("div",{className:i.Z.upload_excel_container,children:[(0,c.jsx)(x.Z,{onExcelFileUpload:e=>{var l,t;if(null!==(l=e.target.files)&&void 0!==l&&l.length&&N&&null!==(t=I.state)&&void 0!==t&&t.did){T((e=>!e));const l=new FormData;l.append("file",e.target.files[0]),E({fileUpload:l}).then((e=>{var l,t,s;null!==(l=e.data)&&void 0!==l&&l.imageKey?B({fid:N,did:null===(t=I.state)||void 0===t?void 0:t.did,excelFile:{excel_file:null===(s=e.data)||void 0===s?void 0:s.imageKey}}).then((()=>{T((e=>!e))})).catch({}):T((e=>!e))})).catch({})}}}),(0,c.jsx)(j.Z,{label:"add_new_fees_structure",customStyle:{marginBlock:"0.5rem"},onAction:U}),(0,c.jsx)(j.Z,{label:"export_structure",customStyle:{marginBlock:"0.5rem"},onAction:()=>{var e,l;null!==I&&void 0!==I&&null!==(e=I.state)&&void 0!==e&&e.did&&(T((e=>!e)),H({did:null===I||void 0===I||null===(l=I.state)||void 0===l?void 0:l.did}).then((e=>{var l;if(null!==e&&void 0!==e&&null!==(l=e.data)&&void 0!==l&&l.data){var t;T((e=>!e));const l=window.open("".concat(C.q2,"/").concat(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data),"_blank","noopener,noreferrer");l&&(l.opener=null)}})).catch({}))}})]})]}),(0,c.jsx)(p.Z,{})]}):null,F.get("u")?"batch"===F.get("u")?(0,c.jsx)(K,{departmentId:null!==(m=null===I||void 0===I||null===(h=I.state)||void 0===h?void 0:h.did)&&void 0!==m?m:"",carryParentState:null===I||void 0===I?void 0:I.state}):"standard"===F.get("u")?(0,c.jsx)(Q,{departmentId:null!==(f=null===I||void 0===I||null===(b=I.state)||void 0===b?void 0:b.did)&&void 0!==f?f:"",instituteId:S,carryParentState:null===I||void 0===I?void 0:I.state}):null:(0,c.jsx)(te,{financeId:N,instituteId:S,getQuery:I.state}),w&&(0,c.jsx)(k.Z,{}),D&&(0,c.jsx)(le.Z,{instituteId:S,fid:N,did:null===I||void 0===I||null===(Z=I.state)||void 0===Z?void 0:Z.did,onClose:U})]})};var ne=t(20293);const ie=e=>{var l;let{hostelId:t,instituteId:s,carryParentState:i}=e;const{t:o}=(0,n.$G)(),{hostelBatchList:u,hostelBatchListLoading:v}=(0,ne.ww)({data:{hid:t,page:1,limit:1e3,search:"",id:s},skip:t?!s:!t});return(0,c.jsxs)(c.Fragment,{children:[null===u||void 0===u||null===(l=u.list)||void 0===l?void 0:l.map((e=>(0,c.jsx)(a.Z,{parentState:{...i,batchId:null===e||void 0===e?void 0:e._id,batchName:null===e||void 0===e?void 0:e.batchName},activeUrl:"type=fees&n=hostel",children:(0,c.jsxs)("div",{className:Y,children:[(0,c.jsx)("img",{className:z,src:"".concat(d.J7,"/class.svg"),alt:"batch icon"}),(0,c.jsxs)("div",{className:q,children:[(0,c.jsx)("h6",{children:null===e||void 0===e?void 0:e.batchName}),(0,c.jsxs)("p",{children:[o("created_on")," : ",V()(e.createdAt).format("DD MMM YYYY")]})]})]})},null===e||void 0===e?void 0:e._id))),v&&(0,c.jsx)(r.Z,{})]})};var ae=t(8959),oe=t(33880),de=t(28457),re=t(40739),ce=t(66659),ue=t(85794),ve=t(35984);const _e=e=>{var l,t,s,a,r,u,v,_,m,h,f,x;let{onClose:j,fid:y,structure:b,setStructure:S,setStep:C,hostelId:I,instituteId:F}=e;const{t:A}=(0,n.$G)(),[w,E]=(0,g.useState)({structure_name:null!==(l=null===b||void 0===b?void 0:b.structure_name)&&void 0!==l?l:"",category_master:null!==(t=null===b||void 0===b?void 0:b.category_master)&&void 0!==t?t:"",class_master:null!==(s=null===b||void 0===b?void 0:b.class_master)&&void 0!==s?s:"",batch_master:null!==(a=null===b||void 0===b?void 0:b.batch_master)&&void 0!==a?a:"",unit_master:null!==(r=null===b||void 0===b?void 0:b.unit_master)&&void 0!==r?r:""}),[B,H]=(0,g.useState)(!1),[U,R]=(0,g.useState)(""),[L,M]=(0,g.useState)({open:!1,msg:"",variant:"error"}),[G]=(0,o.rG)();(0,g.useEffect)((()=>{null!==b&&void 0!==b&&b.structure_name&&E((e=>{var l,t,s,n,i;return{...e,structure_name:null!==(l=null===b||void 0===b?void 0:b.structure_name)&&void 0!==l?l:"",category_master:null!==(t=null===b||void 0===b?void 0:b.category_master)&&void 0!==t?t:"",class_master:null!==(s=null===b||void 0===b?void 0:b.class_master)&&void 0!==s?s:"",batch_master:null!==(n=null===b||void 0===b?void 0:b.batch_master)&&void 0!==n?n:"",unit_master:null!==(i=null===b||void 0===b?void 0:b.unit_master)&&void 0!==i?i:""}}))}),[null===b||void 0===b?void 0:b.structure_name]);const{hostelBatchList:P}=(0,ne.ww)({data:{hid:I,page:1,limit:1e3,search:"",id:F},skip:I?!F:!I}),{hostelStandardList:J}=(0,ne.hc)({data:{hid:I,page:1,limit:1e3,search:""},skip:!I}),{financeAllFeesCategory:O}=(0,o.QD)({fid:y,skip:!y}),{hostelUnitList:$}=(0,ne.Im)({data:{hid:I,page:1,limit:1e3,search:""},skip:!I});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(Z.Z,{children:(0,c.jsxs)("div",{className:i.Z.modal_container,children:[(0,c.jsx)(N.Z,{children:(0,c.jsxs)("div",{className:i.Z.modal_container_outer_header,children:[(0,c.jsx)("div",{className:i.Z.modal_container_header,children:(0,c.jsx)("h6",{children:A("add_new_fees_structure")})}),(0,c.jsx)("img",{src:"".concat(d.J7,"/close.svg"),alt:"close icon",onClick:j})]})}),(0,c.jsx)(p.Z,{}),(0,c.jsxs)(N.Z,{customStyle:{paddingTop:"0"},children:[(0,c.jsx)(D.Z,{label:A("fee_structure_name"),placeholder:A("fee_structure_name_placeholder"),type:"text",name:"structure_name",value:w.structure_name,onChange:e=>{E((l=>({...l,structure_name:e.target.value})))},errorShow:U.structure_name}),(0,c.jsx)(oe.Z,{selectLabel:A("select_batch"),selectedValue:A("select_batch_placeholder"),options:(null===P||void 0===P||null===(u=P.list)||void 0===u?void 0:u.length)>0?null===P||void 0===P?void 0:P.list:[],onClick:e=>{E((l=>({...l,batch_master:e})))},viewAs:"NORMAL_FILTER",defalutValue:null===(v=w.batch_master)||void 0===v?void 0:v.batchName,errorShow:U.batch_master,isFull:!0}),(0,c.jsx)(de.Z,{selectLabel:A("select_fee_category_master"),selectedValue:A("please_select_fees_category"),options:(null===O||void 0===O?void 0:O.length)>0?O:[],onClick:e=>{E((l=>({...l,category_master:e})))},viewAs:"NORMAL_FILTER",defalutValue:null===(_=w.category_master)||void 0===_?void 0:_.category_name,errorShow:U.category_master,isFull:!0}),(0,c.jsx)(ve.Z,{selectLabel:A("select_unit"),selectedValue:A("select_unit_placeholder"),options:(null===$||void 0===$||null===(m=$.list)||void 0===m?void 0:m.length)>0?null===$||void 0===$?void 0:$.list:[],onClick:e=>{E((l=>({...l,unit_master:e})))},viewAs:"NORMAL_FILTER",defalutValue:null===(h=w.unit_master)||void 0===h?void 0:h.hostel_unit_name,errorShow:U.unit_master,isFull:!0}),(0,c.jsx)(re.Z,{selectLabel:A("select_standard"),selectedValue:A("please_select_the_standard_master"),defalutValue:null===(f=w.class_master)||void 0===f?void 0:f.className,onClick:e=>{E((l=>({...l,class_master:e})))},name:"class_master",options:(null===J||void 0===J||null===(x=J.list)||void 0===x?void 0:x.length)>0?null===J||void 0===J?void 0:J.list:[],errorShow:U.class_master,viewAs:"NORMAL_FILTER",isFull:!0}),(0,c.jsx)(ce.Z,{label:"set_fee_structure",onAction:()=>{let e=(0,T.l)(w);(0,T.x)(e)?(S((e=>({...e,...w}))),C(1)):R(e)}})]}),(0,c.jsx)(ue.Z,{eventState:L,eventStateHandler:M})]})}),B&&(0,c.jsx)(k.Z,{})]})};var me=t(19056),he=t(43997),fe=t(60924);const pe=e=>{var l,t,s;let{structure:a,setStructure:o,setAllInstallment:r,allInstallment:u,setStep:v,openAs:_,onParentClose:m}=e;const{t:h}=(0,n.$G)(),[f,x]=(0,g.useState)(null!==(l=null===a||void 0===a?void 0:a.total_installments)&&void 0!==l?l:""),[j,y]=(0,g.useState)(null!==u&&void 0!==u?u:[]),[b,S]=(0,g.useState)({total_admission_fees:null!==(t=null===a||void 0===a?void 0:a.total_admission_fees)&&void 0!==t?t:"",applicable_fees:null!==(s=null===a||void 0===a?void 0:a.applicable_fees)&&void 0!==s?s:""}),[C,I]=(0,g.useState)("");(0,g.useEffect)((()=>{var e,l,t;x(null!==(e=null===a||void 0===a?void 0:a.total_installments)&&void 0!==e?e:""),y(u),S({total_admission_fees:null!==(l=null===a||void 0===a?void 0:a.total_admission_fees)&&void 0!==l?l:"",applicable_fees:null!==(t=null===a||void 0===a?void 0:a.applicable_fees)&&void 0!==t?t:""})}),[a,u]);const F=(0,g.useCallback)((e=>{x(e);const l=[];for(let t=1;t<=e;t++)l.push({fees:"",dueDate:""});y(l)}),[]);return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(Z.Z,{children:(0,c.jsxs)("div",{className:i.Z.modal_container,children:[(0,c.jsx)(N.Z,{children:(0,c.jsxs)("div",{className:i.Z.modal_container_outer_header,children:[(0,c.jsx)("div",{className:i.Z.modal_container_header,children:(0,c.jsx)("h6",{children:h("admission_fees")})}),(0,c.jsx)("img",{src:"".concat(d.J7,"/close.svg"),alt:"close icon",onClick:()=>"EDIT"===_?m():v(0)})]})}),(0,c.jsx)(p.Z,{}),(0,c.jsxs)(N.Z,{customStyle:{paddingTop:"0"},children:[(0,c.jsx)(D.Z,{label:h("total_fees"),placeholder:h("enter_one_time_payment"),name:"total_admission_fees",value:null===b||void 0===b?void 0:b.total_admission_fees,type:"tel",onChange:e=>{S((l=>({...l,[e.target.name]:+e.target.value})))}}),(0,c.jsx)(D.Z,{label:h("applicable_fees"),placeholder:h("applicable_fees_placeholder"),name:"applicable_fees",value:null===b||void 0===b?void 0:b.applicable_fees,type:"tel",onChange:e=>{S((l=>({...l,[e.target.name]:+e.target.value}))),f||x((e=>1)),1===f&&y([{fees:+e.target.value,dueDate:""}])},msg:h(C.total_applicable_value)}),(null===b||void 0===b?void 0:b.applicable_fees)>0?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(me.Z,{selectLabel:h("total_installment"),selectedValue:h("select_installment"),defalutValue:f,onClick:F,options:[1,2,3,4,5,6,7,8,9,10,11,12],errorShow:C.installmentCount}),null===j||void 0===j?void 0:j.map(((e,l)=>(0,c.jsxs)("div",{className:i.Z.afsi_container,children:[(0,c.jsx)(D.Z,{label:"".concat(h("installment")," ").concat(l+1),placeholder:h("Amount"),name:"amount".concat(l),value:e.fees,type:"tel",onChange:e=>((e,l)=>{const t=[...j];for(let s=0;s<(null===t||void 0===t?void 0:t.length);s++)s===l&&(t[s].fees=+e.target.value);y(t)})(e,l),errorShow:C["fees".concat(l)],customFormInputContainer:{width:"48%"}}),(0,c.jsx)(fe.Z,{label:h("due_last_date"),placeholder:h("please_select_the_date"),name:"dueDate".concat(l),value:e.dueDate?(0,he.jh)(e.dueDate):"",onChange:e=>((e,l)=>{const t=[...j];for(let s=0;s<(null===t||void 0===t?void 0:t.length);s++)s===l&&(t[s].dueDate=(0,he.O_)(e));y(t)})(e,l),customFormInputContainer:{width:"48%"},errorShow:C["dueDate".concat(l)]})]},l)))]}):null,C.total_install_value&&(0,c.jsx)("p",{style:{marginTop:"1rem",color:"red"},children:h("total_installment_value_is_greater_than_or_equal_to_applicable_fees")}),(0,c.jsx)(ce.Z,{label:"set_fee_heads",onAction:()=>{const e=xe(f,b,j);let l=!1;for(let t in e){l=!0;break}if(l)I(e);else{if(null!==b&&void 0!==b&&b.applicable_fees){const e=je(j);o((l=>{var t,s;return{...l,total_admission_fees:null!==(t=+b.total_admission_fees)&&void 0!==t?t:0,applicable_fees:null!==(s=+b.applicable_fees)&&void 0!==s?s:0,total_installments:+f,...e}})),r(j)}else{const e=je([{fees:"",dueDate:""}]);o((l=>{var t,s;return{...l,total_admission_fees:null!==(t=+b.total_admission_fees)&&void 0!==t?t:0,applicable_fees:null!==(s=+b.applicable_fees)&&void 0!==s?s:0,total_installments:1,...e}})),r(j)}v(2)}}})]})]})})})},xe=(e,l,t)=>{const s={};l.applicable_fees&&(e||(s.installmentCount="installmentCount is required!"));for(let i in l)"applicable_fees"===i||"total_admission_fees"===i||l[i]||(s[i]="".concat(i," is required!"));if(l.applicable_fees)for(let i=0;i<(null===t||void 0===t?void 0:t.length);i++)for(let e in t[i])"fees"===e&&(t[i][e]||(s["".concat(e).concat(i)]="".concat(e," is required!")));l.applicable_fees>l.total_admission_fees&&(s.total_applicable_value="applicable_fees_should_be_equal_to_or_less_than__total_tdmission_fees");let n=0;for(let i=0;i<(null===t||void 0===t?void 0:t.length);i++)n+=t[i].fees;return(n<l.applicable_fees||n>l.applicable_fees)&&(s.total_install_value="* is required!"),s},je=e=>{const l={};for(let t=0;t<(null===e||void 0===e?void 0:e.length);t++)0===t?l.one_installments=e[t]?e[t]:0:1===t?l.two_installments=e[t]?e[t]:0:2===t?l.three_installments=e[t]?e[t]:0:3===t?l.four_installments=e[t]?e[t]:0:4===t?l.five_installments=e[t]?e[t]:0:5===t?l.six_installments=e[t]?e[t]:0:6===t?l.seven_installments=e[t]?e[t]:0:7===t?l.eight_installments=e[t]?e[t]:0:8===t?l.nine_installments=e[t]?e[t]:0:9===t?l.ten_installments=e[t]?e[t]:0:10===t?l.eleven_installments=e[t]?e[t]:0:11===t&&(l.tweleve_installments=e[t]?e[t]:0);return l};var ge=t(75810);const ye=e=>{var l,t,s,a;let{structure:o,setStep:r,setFeeHeadAmount:u,feeHeadAmount:v,allInstallment:_,fid:m,applicableFeeHead:h,govtFeeHead:f,setApplicableFeeHead:x,setGovtFeeHead:j,govtFeeHeadAmount:y,setGovtFeeHeadAmount:b,setApplicableFeeHeadId:S,applicableFeeHeadId:C,govtFeeHeadId:I,setGovtFeeHeadId:F}=e;const{t:k}=(0,n.$G)(),[D,A]=(0,g.useState)({open:!1,msg:"",variant:"error"}),[w,T]=(0,g.useState)(null!==v&&void 0!==v?v:0),[E,B]=(0,g.useState)(null!==h&&void 0!==h?h:[]),[H,U]=(0,g.useState)(null!==f&&void 0!==f?f:[]),[R,L]=(0,g.useState)(null!==y&&void 0!==y?y:0),[M,G]=(0,g.useState)("");(0,g.useEffect)((()=>{if(E){let l=0;for(let t=0;t<(null===E||void 0===E?void 0:E.length);t++){var e;l+=+(null===(e=E[t])||void 0===e?void 0:e.head_amount)}T(l)}}),[E]),(0,g.useEffect)((()=>{if(H){let l=0;for(let t=0;t<(null===H||void 0===H?void 0:H.length);t++){var e;l+=+(null===(e=H[t])||void 0===e?void 0:e.head_amount)}L(l)}}),[H]);const P=()=>{G("")};return(0,c.jsxs)(c.Fragment,{children:["BY_APPLICABLE"===M?(0,c.jsx)(ge.Z,{fid:m,onClose:P,setFeeHead:B,setFeeHeadId:S,feeHeadId:C,isSegment:"BY_APPLICABLE"}):"BY_GOVERNMENT"===M?(0,c.jsx)(ge.Z,{fid:m,onClose:P,setFeeHead:U,setFeeHeadId:F,feeHeadId:I,isSegment:"BY_GOVERNMENT"}):(0,c.jsx)(Z.Z,{children:(0,c.jsxs)("div",{className:i.Z.modal_container,children:[(0,c.jsx)(N.Z,{children:(0,c.jsxs)("div",{className:i.Z.modal_container_outer_header,children:[(0,c.jsx)("div",{className:i.Z.modal_container_header,children:(0,c.jsx)("h6",{children:k("fee_heads")})}),(0,c.jsx)("img",{src:"".concat(d.J7,"/close.svg"),alt:"close icon",onClick:()=>r(1)})]})}),(0,c.jsx)(p.Z,{}),(0,c.jsxs)(N.Z,{customStyle:{paddingTop:"0"},children:[(0,c.jsxs)("section",{className:i.Z.fees_head_title,children:[(0,c.jsx)("h6",{children:k("total_fees")}),(0,c.jsxs)("h6",{children:[k("rs_only")," ",null!==(l=null===o||void 0===o?void 0:o.total_admission_fees)&&void 0!==l?l:0]})]}),(0,c.jsxs)("section",{className:i.Z.fees_head_installment,children:[(0,c.jsx)("h6",{style:{color:"#002BBE"},children:k("applicable_fees_only")}),(0,c.jsxs)("h6",{style:{color:"#002BBE"},children:[k("rs_only")," ",null!==(t=null===o||void 0===o?void 0:o.applicable_fees)&&void 0!==t?t:0]})]}),(0,c.jsxs)("section",{className:i.Z.fees_head_installment,children:[(0,c.jsxs)("h6",{style:{color:"#002BBE"},children:[k("govt_scholarship")," "," : "]}),(0,c.jsxs)("h6",{style:{color:"#002BBE"},children:[k("rs_only")," ",(null!==(s=null===o||void 0===o?void 0:o.total_admission_fees)&&void 0!==s?s:0)-(null!==(a=null===o||void 0===o?void 0:o.applicable_fees)&&void 0!==a?a:0)]})]}),null===_||void 0===_?void 0:_.map(((e,l)=>{var t;return(0,c.jsxs)("section",{className:i.Z.fees_head_installment,children:[(0,c.jsxs)("h6",{style:{textTransform:"capitalize"},children:[k(be(l))," ",k("installment"),null!==e&&void 0!==e&&e.dueDate?(0,c.jsxs)("span",{style:{fontWeight:"400",fontSize:"12px",marginLeft:"0.4rem"},children:["(","".concat((0,he.jh)(null===e||void 0===e?void 0:e.dueDate)),")"]}):""]}),(0,c.jsxs)("h6",{children:[k("rs_only")," ",null!==(t=null===e||void 0===e?void 0:e.fees)&&void 0!==t?t:0]})]},l)})),(0,c.jsxs)("section",{className:i.Z.table_container,style:{margin:"0"},children:[(0,c.jsxs)("div",{className:i.Z.table_heading,children:[(0,c.jsx)("h6",{children:k("applicable_fee_heads")}),(0,c.jsx)("h6",{children:k("amount")})]}),(0,c.jsx)("div",{className:i.Z.table_body,children:null===E||void 0===E?void 0:E.map(((e,l)=>(0,c.jsxs)("div",{className:i.Z.table_body_list,children:[(0,c.jsx)("input",{type:"text",value:null===e||void 0===e?void 0:e.head_name,onChange:e=>((e,l)=>{const t=[...E];for(let s=0;s<(null===t||void 0===t?void 0:t.length);s++)s===l&&(t[s].head_name=e.target.value);B(t)})(e,l),className:i.Z.fee_head_name_input}),(0,c.jsx)("input",{type:"number",value:null===e||void 0===e?void 0:e.head_amount,onChange:e=>((e,l)=>{const t=[...E];for(let s=0;s<(null===t||void 0===t?void 0:t.length);s++)s===l&&(t[s].head_amount=+e.target.value);B(t)})(e,l),className:i.Z.fee_head_amount_input})]},l)))}),(0,c.jsxs)("button",{className:i.Z.add_fees_head_btn,title:"Add Fees",onClick:()=>G("BY_APPLICABLE"),style:{cursor:"pointer"},children:[k("add"),(0,c.jsx)("img",{src:"".concat(d.J7,"/plus.svg"),alt:"add"})]}),(0,c.jsx)("div",{className:i.Z.table_body,children:(0,c.jsxs)("div",{className:i.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.5)",borderTopWidth:"0.5px",borderTopStyle:"solid",borderBottom:"none"},children:[(0,c.jsx)("h6",{className:i.Z.fees_total,children:k("subtotal")}),(0,c.jsx)("h6",{className:i.Z.fees_total,children:w})]})})]}),(0,c.jsxs)("section",{className:i.Z.table_container,style:{margin:"0"},children:[(0,c.jsxs)("div",{className:i.Z.table_heading,children:[(0,c.jsx)("h6",{children:k("govt_fee_heads")}),(0,c.jsx)("h6",{children:k("amount")})]}),(0,c.jsx)("div",{className:i.Z.table_body,children:null===H||void 0===H?void 0:H.map(((e,l)=>(0,c.jsxs)("div",{className:i.Z.table_body_list,children:[(0,c.jsx)("input",{type:"text",value:null===e||void 0===e?void 0:e.head_name,onChange:e=>((e,l)=>{const t=[...H];for(let s=0;s<(null===t||void 0===t?void 0:t.length);s++)s===l&&(t[s].head_name=e.target.value);U(t)})(e,l),className:i.Z.fee_head_name_input}),(0,c.jsx)("input",{type:"number",value:null===e||void 0===e?void 0:e.head_amount,onChange:e=>((e,l)=>{const t=[...H];for(let s=0;s<(null===t||void 0===t?void 0:t.length);s++)s===l&&(t[s].head_amount=+e.target.value);U(t)})(e,l),className:i.Z.fee_head_amount_input})]},l)))}),(0,c.jsxs)("button",{className:i.Z.add_fees_head_btn,title:"Add Fees",onClick:()=>G("BY_GOVERNMENT"),style:{cursor:"pointer"},children:[k("add"),(0,c.jsx)("img",{src:"".concat(d.J7,"/plus.svg"),alt:"add"})]}),(0,c.jsx)("div",{className:i.Z.table_body,children:(0,c.jsxs)("div",{className:i.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.5)",borderTopWidth:"0.5px",borderTopStyle:"solid",borderBottomColor:"rgba(18, 18, 18, 0.8)",borderBottomWidth:"2px"},children:[(0,c.jsx)("h6",{className:i.Z.fees_total,children:k("subtotal")}),(0,c.jsx)("h6",{className:i.Z.fees_total,children:R})]})})]}),(0,c.jsx)(ce.Z,{label:"preview",onAction:()=>{var e,l;let t=(null!==(e=null===o||void 0===o?void 0:o.total_admission_fees)&&void 0!==e?e:0)-(null!==(l=null===o||void 0===o?void 0:o.applicable_fees)&&void 0!==l?l:0);w>(null===o||void 0===o?void 0:o.applicable_fees)?A({msg:"You can't enter amount greater than applicable fees",open:!0,variant:"error"}):R>t?A({msg:"You can't enter amount greater than govt./scholarship fees",open:!0,variant:"error"}):(x(E),j(H),u(w),b(R),r(3))}})]})]})}),(0,c.jsx)(ue.Z,{eventState:D,eventStateHandler:A})]})},be=e=>0===e?"first":1===e?"second":2===e?"third":3===e?"foutrh":4===e?"fivth":5===e?"sixth":6===e?"seventh":7===e?"eighth":8===e?"ninth":9===e?"ten":10===e?"eleven":"tweleve",Ze=e=>{var l,t,s,a,o,r,u;let{onClose:v,structure:_,applicableFeeHead:m,govtFeeHead:h,feeHeadAmount:f,govtFeeHeadAmount:x,allInstallment:g,openAs:y,onCreate:b}=e;const{t:S}=(0,n.$G)();return(0,c.jsx)(Z.Z,{children:(0,c.jsxs)("div",{className:i.Z.modal_container,children:[(0,c.jsx)(N.Z,{children:(0,c.jsx)("div",{className:i.Z.modal_container_outer_header,children:(0,c.jsxs)("div",{className:i.Z.modal_container_header,children:[(0,c.jsx)("img",{src:"".concat(d.J7,"/back-arrow.svg"),alt:"close icon",onClick:v}),(0,c.jsx)("h6",{children:S("fee_structure_preview")})]})})}),(0,c.jsx)(p.Z,{}),(0,c.jsxs)(N.Z,{customStyle:{paddingTop:"0"},children:[(0,c.jsx)(ae.Z,{label:"".concat(S("fee_structure_name"),": "),value:null===_||void 0===_?void 0:_.structure_name}),(0,c.jsx)(ae.Z,{label:"".concat(S("batch"),": "),value:null===_||void 0===_||null===(l=_.batch_master)||void 0===l?void 0:l.batchName}),(0,c.jsx)(ae.Z,{label:S("fees_category_name"),value:null===_||void 0===_||null===(t=_.category_master)||void 0===t?void 0:t.category_name}),(0,c.jsx)(ae.Z,{label:S("standard_master"),value:null===_||void 0===_||null===(s=_.class_master)||void 0===s?void 0:s.className}),(0,c.jsxs)("section",{className:i.Z.fees_head_title,children:[(0,c.jsx)("h6",{children:S("total_fees")}),(0,c.jsxs)("h6",{children:[S("rs_only")," ",null!==(a=null===_||void 0===_?void 0:_.total_admission_fees)&&void 0!==a?a:0]})]}),(0,c.jsxs)("section",{className:i.Z.fees_head_installment,children:[(0,c.jsx)("h6",{style:{color:"#002BBE"},children:S("applicable_fees_only")}),(0,c.jsxs)("h6",{style:{color:"#002BBE"},children:[S("rs_only")," ",null!==(o=null===_||void 0===_?void 0:_.applicable_fees)&&void 0!==o?o:0]})]}),(0,c.jsxs)("section",{className:i.Z.fees_head_installment,children:[(0,c.jsxs)("h6",{style:{color:"#002BBE"},children:[S("govt_scholarship")," "," : "]}),(0,c.jsxs)("h6",{style:{color:"#002BBE"},children:[S("rs_only")," ",(null!==(r=null===_||void 0===_?void 0:_.total_admission_fees)&&void 0!==r?r:0)-(null!==(u=null===_||void 0===_?void 0:_.applicable_fees)&&void 0!==u?u:0)]})]}),null===g||void 0===g?void 0:g.map(((e,l)=>{var t;return(0,c.jsxs)("section",{className:i.Z.fees_head_installment,children:[(0,c.jsxs)("h6",{style:{textTransform:"capitalize"},children:[S(Ne(l))," ",S("installment"),null!==e&&void 0!==e&&e.dueDate?(0,c.jsxs)("span",{style:{fontWeight:"400",fontSize:"12px",marginLeft:"0.4rem"},children:["(","".concat((0,he.jh)(null===e||void 0===e?void 0:e.dueDate)),")"]}):""]}),(0,c.jsxs)("h6",{children:[S("rs_only")," ",null!==(t=null===e||void 0===e?void 0:e.fees)&&void 0!==t?t:0]})]},l)})),(0,c.jsxs)("section",{className:i.Z.table_container,style:{margin:"0"},children:[(0,c.jsxs)("div",{className:i.Z.table_heading,children:[(0,c.jsx)("h6",{children:S("applicable_fee_heads")}),(0,c.jsx)("h6",{children:S("amount")})]}),(0,c.jsx)("div",{className:i.Z.table_body,children:null===m||void 0===m?void 0:m.map(((e,l)=>(0,c.jsxs)("div",{className:i.Z.table_body_list,children:[(0,c.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_name}),(0,c.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_amount})]},l)))}),(0,c.jsx)("div",{className:i.Z.table_body,children:(0,c.jsxs)("div",{className:i.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.8)",borderTopWidth:"2px",borderTopStyle:"solid",borderBottom:"none"},children:[(0,c.jsx)("h6",{className:i.Z.fees_total,children:S("subtotal")}),(0,c.jsx)("h6",{className:i.Z.fees_total,children:null!==f&&void 0!==f?f:0})]})})]}),x?(0,c.jsxs)("section",{className:i.Z.table_container,style:{margin:"0"},children:[(0,c.jsxs)("div",{className:i.Z.table_heading,children:[(0,c.jsx)("h6",{children:S("govt_fee_heads")}),(0,c.jsx)("h6",{children:S("amount")})]}),(0,c.jsx)("div",{className:i.Z.table_body,children:null===h||void 0===h?void 0:h.map(((e,l)=>(0,c.jsxs)("div",{className:i.Z.table_body_list,children:[(0,c.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_name}),(0,c.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_amount})]},l)))}),(0,c.jsx)("div",{className:i.Z.table_body,children:(0,c.jsxs)("div",{className:i.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.8)",borderTopWidth:"2px",borderTopStyle:"solid",borderBottomColor:"rgba(18, 18, 18, 0.8)",borderBottomWidth:"2px"},children:[(0,c.jsx)("h6",{className:i.Z.fees_total,children:S("subtotal")}),(0,c.jsx)("h6",{className:i.Z.fees_total,children:null!==x&&void 0!==x?x:0})]})})]}):null,(0,c.jsx)(j.Z,{label:"EDIT"===y?"update_fees_structure_as":"create_fees_structure",onAction:b})]})]})})},Ne=e=>0===e?"first":1===e?"second":2===e?"third":3===e?"foutrh":4===e?"fivth":5===e?"sixth":6===e?"seventh":7===e?"eighth":8===e?"ninth":9===e?"ten":10===e?"eleven":"tweleve";var Se=t(26192);const Ce=e=>{let{onEditActionAs:l,onClose:t,editType:s,setEditType:a}=e;const{t:o}=(0,n.$G)();return(0,c.jsx)(Z.Z,{children:(0,c.jsxs)("div",{className:i.Z.modal_container,children:[(0,c.jsx)(N.Z,{children:(0,c.jsx)("div",{className:i.Z.modal_container_outer_header,children:(0,c.jsxs)("div",{className:i.Z.modal_container_header,children:[(0,c.jsx)("img",{src:"".concat(d.J7,"/back-arrow.svg"),alt:"close icon",onClick:t}),(0,c.jsx)("h6",{children:o("edit_fee_structure_type")})]})})}),(0,c.jsx)(p.Z,{}),(0,c.jsxs)(N.Z,{customStyle:{paddingTop:"0"},children:[(0,c.jsxs)("div",{className:"RETRO"===s?"".concat(Se.Z.application_card," ").concat(Se.Z.application_card_active):Se.Z.application_card,onClick:()=>a("RETRO"),children:[(0,c.jsxs)("div",{className:Se.Z.application_card_title,children:[(0,c.jsx)("img",{src:"".concat(d.J7,"/category.svg"),alt:"staff profile avatar"}),(0,c.jsx)("h6",{children:o("retrospective_edit")})]}),(0,c.jsxs)("section",{className:Se.Z.application_card_info,children:[(0,c.jsx)("div",{children:o("retrospective_edit_descrtiption")}),(0,c.jsx)("h6",{children:o("retrospective_edit_note")})]})]}),(0,c.jsxs)("div",{className:"PROSP"===s?"".concat(Se.Z.application_card," ").concat(Se.Z.application_card_active):Se.Z.application_card,onClick:()=>a("PROSP"),children:[(0,c.jsxs)("div",{className:Se.Z.application_card_title,children:[(0,c.jsx)("img",{src:"".concat(d.J7,"/category.svg"),alt:"staff profile avatar"}),(0,c.jsx)("h6",{children:o("prospective_edit")})]}),(0,c.jsxs)("section",{className:Se.Z.application_card_info,children:[(0,c.jsx)("div",{children:o("prospective_edit_description")}),(0,c.jsx)("h6",{children:o("prospective_edit_note")})]})]}),(0,c.jsx)(j.Z,{label:"update_fees_structure",onAction:l})]})]})})},Ie=e=>{let{onClose:l,fid:t,instituteId:s,openAs:n,onEdit:i,openStructureMenu:a,onRefetch:o,isRefetch:d,hostelId:r}=e;const[u,v]=(0,g.useState)(0),[_,m]=(0,g.useState)({structure_name:"",category_master:"",class_master:"",batch_master:"",unit_master:"",total_admission_fees:"",applicable_fees:"",total_installments:""}),[h,f]=(0,g.useState)([]),[p,x]=(0,g.useState)(0),[j,y]=(0,g.useState)(!1),[b,Z]=(0,g.useState)([]),[N,S]=(0,g.useState)([]),[C,I]=(0,g.useState)(0),[F,D]=(0,g.useState)([]),[A,w]=(0,g.useState)([]),[T,E]=(0,g.useState)(""),[B]=(0,ne.lY)();(0,g.useEffect)((()=>{if("EDIT"===n){v(1),m((e=>{var l,t,s,n,i,o,d,r;return{...e,structure_name:null!==(l=null===a||void 0===a?void 0:a.structure_name)&&void 0!==l?l:"",category_master:null!==(t=null===a||void 0===a?void 0:a.category_master)&&void 0!==t?t:"",class_master:null!==(s=null===a||void 0===a?void 0:a.class_master)&&void 0!==s?s:"",batch_master:null!==(n=null===a||void 0===a?void 0:a.batch_master)&&void 0!==n?n:"",unit_master:null!==(i=null===a||void 0===a?void 0:a.unit_master)&&void 0!==i?i:"",total_admission_fees:null!==(o=null===a||void 0===a?void 0:a.total_admission_fees)&&void 0!==o?o:"",applicable_fees:null!==(d=null===a||void 0===a?void 0:a.applicable_fees)&&void 0!==d?d:"",total_installments:null!==(r=null===a||void 0===a?void 0:a.total_installments)&&void 0!==r?r:""}}));let e=[],l=0;for(let i of null===a||void 0===a?void 0:a.applicable_fees_heads){let t={created_at:null===i||void 0===i?void 0:i.created_at,head_amount:null===i||void 0===i?void 0:i.head_amount,head_name:null===i||void 0===i?void 0:i.head_name,master:null===i||void 0===i?void 0:i.master,_id:null===i||void 0===i?void 0:i._id};e.push(t),l+=null===i||void 0===i?void 0:i.head_amount}Z(e),x(l);let t=[],s=0;for(let i of null===a||void 0===a?void 0:a.government_fees_heads){let e={created_at:null===i||void 0===i?void 0:i.created_at,head_amount:null===i||void 0===i?void 0:i.head_amount,head_name:null===i||void 0===i?void 0:i.head_name,master:null===i||void 0===i?void 0:i.master,_id:null===i||void 0===i?void 0:i._id};t.push(e),l+=null===i||void 0===i?void 0:i.head_amount}S(t),I(s);let n=Fe(a);f(n)}}),[a]);const H=e=>{let s=[];var a,c,u,v,m,h,f,p;((null===b||void 0===b?void 0:b.length)>0&&s.push(...b),(null===N||void 0===N?void 0:N.length)>0&&s.push(...N),"EDIT"===n)?i({..._,structure_name:null===_||void 0===_?void 0:_.structure_name,category_master:null===_||void 0===_||null===(a=_.category_master)||void 0===a?void 0:a._id,class_master:null===_||void 0===_||null===(c=_.class_master)||void 0===c?void 0:c._id,batch_master:null===_||void 0===_||null===(u=_.batch_master)||void 0===u?void 0:u._id,unit_master:null===_||void 0===_||null===(v=_.unit_master)||void 0===v?void 0:v._id,total_admission_fees:null!==_&&void 0!==_&&_.total_admission_fees?null===_||void 0===_?void 0:_.total_admission_fees:0,applicable_fees:null!==_&&void 0!==_&&_.applicable_fees?null===_||void 0===_?void 0:_.applicable_fees:0,total_installments:null!==_&&void 0!==_&&_.total_installments?null===_||void 0===_?void 0:_.total_installments:0,heads:s},e):t&&r&&(y((e=>!e)),B({fid:t,flow:"Hostel_Manager",bodyParameter:{..._,structure_name:null===_||void 0===_?void 0:_.structure_name,category_master:null===_||void 0===_||null===(m=_.category_master)||void 0===m?void 0:m._id,class_master:null===_||void 0===_||null===(h=_.class_master)||void 0===h?void 0:h._id,batch_master:null===_||void 0===_||null===(f=_.batch_master)||void 0===f?void 0:f._id,unit_master:null===_||void 0===_||null===(p=_.unit_master)||void 0===p?void 0:p._id,total_admission_fees:null!==_&&void 0!==_&&_.total_admission_fees?null===_||void 0===_?void 0:_.total_admission_fees:0,applicable_fees:null!==_&&void 0!==_&&_.applicable_fees?null===_||void 0===_?void 0:_.applicable_fees:0,total_installments:null!==_&&void 0!==_&&_.total_installments?null===_||void 0===_?void 0:_.total_installments:0,heads:s,hid:r}}).then((()=>{d&&o(),y((e=>!e)),l()})).catch((()=>{y((e=>!e))})))};return(0,c.jsxs)(c.Fragment,{children:[0===u?(0,c.jsx)(_e,{onClose:l,hostelId:r,fid:t,instituteId:s,structure:_,setStructure:m,setStep:v}):1===u?(0,c.jsx)(pe,{structure:_,setAllInstallment:f,setStructure:m,setStep:v,allInstallment:h,openAs:n,onParentClose:l}):2===u?(0,c.jsx)(ye,{structure:_,setStep:v,setFeeHeadAmount:x,feeHeadAmount:p,allInstallment:h,fid:t,applicableFeeHead:b,govtFeeHead:N,setApplicableFeeHead:Z,setGovtFeeHead:S,setGovtFeeHeadAmount:I,govtFeeHeadAmount:C,setApplicableFeeHeadId:D,applicableFeeHeadId:F,govtFeeHeadId:A,setGovtFeeHeadId:w}):3===u?(0,c.jsx)(Ze,{structure:_,applicableFeeHead:b,govtFeeHead:N,feeHeadAmount:p,govtFeeHeadAmount:C,allInstallment:h,setStep:v,onClose:()=>v(2),onCreate:"EDIT"===n?()=>{v(4)}:H,openAs:n}):4===u?(0,c.jsx)(Ce,{onEditActionAs:e=>{e&&H(e)},onClose:()=>v(3),setEditType:E,editType:T}):null,j&&(0,c.jsx)(k.Z,{})]})},Fe=e=>{var l,t,s,n,i,a,o,d,r,c,u,v;let _=[];var m,h,f,p,x,j,g,y,b,Z,N,S,C,I,F,k,D,A,w,T,E,B,H,U;null!==e&&void 0!==e&&null!==(l=e.one_installments)&&void 0!==l&&l.fees&&_.push({fees:null===e||void 0===e||null===(m=e.one_installments)||void 0===m?void 0:m.fees,dueDate:null===e||void 0===e||null===(h=e.one_installments)||void 0===h?void 0:h.dueDate});null!==e&&void 0!==e&&null!==(t=e.two_installments)&&void 0!==t&&t.fees&&_.push({fees:null===e||void 0===e||null===(f=e.two_installments)||void 0===f?void 0:f.fees,dueDate:null===e||void 0===e||null===(p=e.two_installments)||void 0===p?void 0:p.dueDate});null!==e&&void 0!==e&&null!==(s=e.three_installments)&&void 0!==s&&s.fees&&_.push({fees:null===e||void 0===e||null===(x=e.three_installments)||void 0===x?void 0:x.fees,dueDate:null===e||void 0===e||null===(j=e.three_installments)||void 0===j?void 0:j.dueDate});null!==e&&void 0!==e&&null!==(n=e.four_installments)&&void 0!==n&&n.fees&&_.push({fees:null===e||void 0===e||null===(g=e.four_installments)||void 0===g?void 0:g.fees,dueDate:null===e||void 0===e||null===(y=e.four_installments)||void 0===y?void 0:y.dueDate});null!==e&&void 0!==e&&null!==(i=e.five_installments)&&void 0!==i&&i.fees&&_.push({fees:null===e||void 0===e||null===(b=e.five_installments)||void 0===b?void 0:b.fees,dueDate:null===e||void 0===e||null===(Z=e.five_installments)||void 0===Z?void 0:Z.dueDate});null!==e&&void 0!==e&&null!==(a=e.six_installments)&&void 0!==a&&a.fees&&_.push({fees:null===e||void 0===e||null===(N=e.six_installments)||void 0===N?void 0:N.fees,dueDate:null===e||void 0===e||null===(S=e.six_installments)||void 0===S?void 0:S.dueDate});null!==e&&void 0!==e&&null!==(o=e.seven_installments)&&void 0!==o&&o.fees&&_.push({fees:null===e||void 0===e||null===(C=e.seven_installments)||void 0===C?void 0:C.fees,dueDate:null===e||void 0===e||null===(I=e.seven_installments)||void 0===I?void 0:I.dueDate});null!==e&&void 0!==e&&null!==(d=e.eight_installments)&&void 0!==d&&d.fees&&_.push({fees:null===e||void 0===e||null===(F=e.eight_installments)||void 0===F?void 0:F.fees,dueDate:null===e||void 0===e||null===(k=e.eight_installments)||void 0===k?void 0:k.dueDate});null!==e&&void 0!==e&&null!==(r=e.nine_installments)&&void 0!==r&&r.fees&&_.push({fees:null===e||void 0===e||null===(D=e.nine_installments)||void 0===D?void 0:D.fees,dueDate:null===e||void 0===e||null===(A=e.nine_installments)||void 0===A?void 0:A.dueDate});null!==e&&void 0!==e&&null!==(c=e.ten_installments)&&void 0!==c&&c.fees&&_.push({fees:null===e||void 0===e||null===(w=e.ten_installments)||void 0===w?void 0:w.fees,dueDate:null===e||void 0===e||null===(T=e.ten_installments)||void 0===T?void 0:T.dueDate});null!==e&&void 0!==e&&null!==(u=e.eleven_installments)&&void 0!==u&&u.fees&&_.push({fees:null===e||void 0===e||null===(E=e.eleven_installments)||void 0===E?void 0:E.fees,dueDate:null===e||void 0===e||null===(B=e.eleven_installments)||void 0===B?void 0:B.dueDate});null!==e&&void 0!==e&&null!==(v=e.tweleve_installments)&&void 0!==v&&v.fees&&_.push({fees:null===e||void 0===e||null===(H=e.tweleve_installments)||void 0===H?void 0:H.fees,dueDate:null===e||void 0===e||null===(U=e.tweleve_installments)||void 0===U?void 0:U.dueDate});return _},ke=e=>{let{fid:l,instituteId:t,hostelId:s,openMenu:i,onClose:a,flowAs:o,onCloseParent:d,onRefetch:r}=e;const{t:u}=(0,n.$G)(),[v,_]=(0,g.useState)(!1),[m]=(0,ne.zw)(),[h]=(0,ne.jx)(),[f]=(0,ne.FH)(),[p,x]=(0,g.useState)(!1),j=()=>{x((e=>!e))};return(0,c.jsxs)(c.Fragment,{children:[p?(0,c.jsx)(Ie,{onClose:j,fid:l,openAs:"EDIT",openStructureMenu:i,onEdit:(e,l)=>{null!==i&&void 0!==i&&i._id&&(_((e=>!e)),x(!1),"RETRO"===l?f({sid:null===i||void 0===i?void 0:i._id,flow:"Hostel_Manager",bodyParameter:{...e,hostel:s}}).then((()=>{a(),_((e=>!e))})).catch({}):h({sid:null===i||void 0===i?void 0:i._id,flow:"Hostel_Manager",bodyParameter:e}).then((()=>{_((e=>!e)),a()})).catch({}))},hostelId:s,instituteId:t}):(0,c.jsxs)(b.Z,{onClose:a,disabled:v,children:[(0,c.jsx)("h6",{onClick:j,children:u("edit")}),(0,c.jsx)("h6",{onClick:()=>{null!==i&&void 0!==i&&i._id&&o&&(_((e=>!e)),m({flow:"Hostel_Manager",sid:null===i||void 0===i?void 0:i._id}).then((()=>{r(),_((e=>!e)),d()})).catch({}))},children:u("delete")})]}),v&&(0,c.jsx)(k.Z,{})]})},De=e=>{var l,t,s,a,r,u,v,_,m,h,f,x,j,y,b,S,C,I,F,D,A,w,T,E,B,H,U,R,L,M,G,P,J,O,$,Y,q,z,W,V,K,Q,X,ee,le,te,se,ne,ie,oe,de,re,ce,ue,ve,_e,me,he,fe,pe,xe,je,ge,ye,be,Ze,Ne,Se,Ce,Ie,Fe,De,we,Te,Ee,Be,He,Ue,Re,Le,Me,Ge,Pe,Je,Oe,$e,Ye,qe,ze,We,Ve,Ke,Qe,Xe,el,ll,tl,sl,nl,il,al;let{structureId:ol,onClose:dl,instituteId:rl,fid:cl,hostelId:ul,onRefetch:vl,isView:_l}=e;const{t:ml}=(0,n.$G)(),[hl,fl]=(0,g.useState)(""),[pl,xl]=(0,g.useState)(!1),{financeFeeStructureDetail:jl,financeFeeStructureDetailRefetch:gl}=(0,o.eY)({fsid:ol,skip:!ol}),[yl]=(0,o.D8)();let bl=0,Zl=0;var Nl,Sl,Cl,Il;(null===jl||void 0===jl||null===(l=jl.structure)||void 0===l||null===(t=l.applicable_fees_heads)||void 0===t?void 0:t.length)>0&&(null===jl||void 0===jl||null===(Nl=jl.structure)||void 0===Nl||null===(Sl=Nl.applicable_fees_heads)||void 0===Sl||Sl.map((e=>bl+=null===e||void 0===e?void 0:e.head_amount)));(null===jl||void 0===jl||null===(s=jl.structure)||void 0===s||null===(a=s.government_fees_heads)||void 0===a?void 0:a.length)>0&&(null===jl||void 0===jl||null===(Cl=jl.structure)||void 0===Cl||null===(Il=Cl.government_fees_heads)||void 0===Il||Il.map((e=>Zl+=null===e||void 0===e?void 0:e.head_amount)));const Fl=(e,l)=>{ol&&null!==e&&void 0!==e&&e._id&&(xl((e=>!e)),yl({fsid:ol,bodyParameter:{flow:l,fhid:null===e||void 0===e?void 0:e._id,status:!(null!==e&&void 0!==e&&e.is_society)}}).then((()=>{gl(),xl((e=>!e))})).catch({}))};return(0,c.jsxs)(c.Fragment,{children:[pl&&(0,c.jsx)(k.Z,{}),hl?(0,c.jsx)(ke,{onClose:()=>{fl("")},openMenu:hl,instituteId:rl,fid:cl,hostelId:ul,flowAs:"Hostel_Manager",onCloseParent:dl,onRefetch:vl}):(0,c.jsx)(Z.Z,{onClose:dl,children:(0,c.jsxs)("div",{className:i.Z.modal_container,children:[(0,c.jsx)(N.Z,{children:(0,c.jsxs)("div",{className:i.Z.modal_container_outer_header,children:[(0,c.jsx)("div",{className:i.Z.modal_container_header,children:(0,c.jsx)("h6",{children:ml("fee_structure")})}),"STUDENT"===_l?null:(0,c.jsx)("img",{src:"".concat(d.J7,"/edit.svg"),alt:"close icon",onClick:()=>{null!==jl&&void 0!==jl&&jl.structure&&fl((()=>null===jl||void 0===jl?void 0:jl.structure))}})]})}),(0,c.jsx)(p.Z,{}),(0,c.jsxs)(N.Z,{customStyle:{paddingTop:"0"},children:[(0,c.jsx)(ae.Z,{label:"".concat(ml("fee_structure_name"),": "),value:null!==(r=null===jl||void 0===jl||null===(u=jl.structure)||void 0===u?void 0:u.unique_structure_name)&&void 0!==r?r:""}),(0,c.jsx)(ae.Z,{label:"".concat(ml("batch")," : "),value:null===jl||void 0===jl||null===(v=jl.structure)||void 0===v||null===(_=v.batch_master)||void 0===_?void 0:_.batchName}),(0,c.jsx)(ae.Z,{label:"".concat(ml("fees_category_name")),value:null!==(m=null===jl||void 0===jl||null===(h=jl.structure)||void 0===h||null===(f=h.category_master)||void 0===f?void 0:f.category_name)&&void 0!==m?m:""}),(0,c.jsx)(ae.Z,{label:"".concat(ml("hostel_unit_only")," : "),value:null!==(x=null===jl||void 0===jl||null===(j=jl.structure)||void 0===j||null===(y=j.unit_master)||void 0===y?void 0:y.hostel_unit_name)&&void 0!==x?x:""}),(0,c.jsx)(ae.Z,{label:"".concat(ml("standard_master")),value:null!==(b=null===jl||void 0===jl||null===(S=jl.structure)||void 0===S||null===(C=S.class_master)||void 0===C?void 0:C.className)&&void 0!==b?b:""}),(0,c.jsxs)("section",{className:i.Z.fees_head_title,children:[(0,c.jsx)("h6",{children:ml("total_fees")}),(0,c.jsxs)("h6",{children:[ml("rs_only")," ",null!==(I=null===jl||void 0===jl||null===(F=jl.structure)||void 0===F?void 0:F.total_admission_fees)&&void 0!==I?I:0]})]}),(0,c.jsxs)("section",{className:i.Z.fees_head_installment,children:[(0,c.jsxs)("h6",{style:{color:"#002BBE"},children:[ml("applicable_fees_only_payable")," "," : "]}),(0,c.jsxs)("h6",{style:{color:"#002BBE"},children:[ml("rs_only")," ",null!==(D=null===jl||void 0===jl||null===(A=jl.structure)||void 0===A?void 0:A.applicable_fees)&&void 0!==D?D:0]})]}),(0,c.jsxs)("section",{className:i.Z.fees_head_installment,children:[(0,c.jsxs)("h6",{style:{color:"#002BBE"},children:[ml("govt_scholarship")," "," : "]}),(0,c.jsxs)("h6",{style:{color:"#002BBE"},children:[ml("rs_only")," ",(null!==(w=null===jl||void 0===jl||null===(T=jl.structure)||void 0===T?void 0:T.total_admission_fees)&&void 0!==w?w:0)-(null!==(E=null===jl||void 0===jl||null===(B=jl.structure)||void 0===B?void 0:B.applicable_fees)&&void 0!==E?E:0)]})]}),null!==jl&&void 0!==jl&&null!==(H=jl.structure)&&void 0!==H&&null!==(U=H.one_installments)&&void 0!==U&&U.fees?(0,c.jsx)(Ae,{dueDate:null===jl||void 0===jl||null===(R=jl.structure)||void 0===R||null===(L=R.one_installments)||void 0===L?void 0:L.dueDate,label:"first",amount:null===jl||void 0===jl||null===(M=jl.structure)||void 0===M||null===(G=M.one_installments)||void 0===G?void 0:G.fees}):null,null!==jl&&void 0!==jl&&null!==(P=jl.structure)&&void 0!==P&&null!==(J=P.two_installments)&&void 0!==J&&J.fees?(0,c.jsx)(Ae,{dueDate:null===jl||void 0===jl||null===(O=jl.structure)||void 0===O||null===($=O.two_installments)||void 0===$?void 0:$.dueDate,label:"second",amount:null===jl||void 0===jl||null===(Y=jl.structure)||void 0===Y||null===(q=Y.two_installments)||void 0===q?void 0:q.fees}):null,null!==jl&&void 0!==jl&&null!==(z=jl.structure)&&void 0!==z&&null!==(W=z.three_installments)&&void 0!==W&&W.fees?(0,c.jsx)(Ae,{dueDate:null===jl||void 0===jl||null===(V=jl.structure)||void 0===V||null===(K=V.three_installments)||void 0===K?void 0:K.dueDate,label:"third",amount:null===jl||void 0===jl||null===(Q=jl.structure)||void 0===Q||null===(X=Q.three_installments)||void 0===X?void 0:X.fees}):null,null!==jl&&void 0!==jl&&null!==(ee=jl.structure)&&void 0!==ee&&null!==(le=ee.four_installments)&&void 0!==le&&le.fees?(0,c.jsx)(Ae,{dueDate:null===jl||void 0===jl||null===(te=jl.structure)||void 0===te||null===(se=te.four_installments)||void 0===se?void 0:se.dueDate,label:"fourth",amount:null===jl||void 0===jl||null===(ne=jl.structure)||void 0===ne||null===(ie=ne.four_installments)||void 0===ie?void 0:ie.fees}):null,null!==jl&&void 0!==jl&&null!==(oe=jl.structure)&&void 0!==oe&&null!==(de=oe.five_installments)&&void 0!==de&&de.fees?(0,c.jsx)(Ae,{dueDate:null===jl||void 0===jl||null===(re=jl.structure)||void 0===re||null===(ce=re.five_installments)||void 0===ce?void 0:ce.dueDate,label:"fifth",amount:null===jl||void 0===jl||null===(ue=jl.structure)||void 0===ue||null===(ve=ue.five_installments)||void 0===ve?void 0:ve.fees}):null,null!==jl&&void 0!==jl&&null!==(_e=jl.structure)&&void 0!==_e&&null!==(me=_e.six_installments)&&void 0!==me&&me.fees?(0,c.jsx)(Ae,{dueDate:null===jl||void 0===jl||null===(he=jl.structure)||void 0===he||null===(fe=he.six_installments)||void 0===fe?void 0:fe.dueDate,label:"sixth",amount:null===jl||void 0===jl||null===(pe=jl.structure)||void 0===pe||null===(xe=pe.six_installments)||void 0===xe?void 0:xe.fees}):null,null!==jl&&void 0!==jl&&null!==(je=jl.structure)&&void 0!==je&&null!==(ge=je.seven_installments)&&void 0!==ge&&ge.fees?(0,c.jsx)(Ae,{dueDate:null===jl||void 0===jl||null===(ye=jl.structure)||void 0===ye||null===(be=ye.seven_installments)||void 0===be?void 0:be.dueDate,label:"seventh",amount:null===jl||void 0===jl||null===(Ze=jl.structure)||void 0===Ze||null===(Ne=Ze.seven_installments)||void 0===Ne?void 0:Ne.fees}):null,null!==jl&&void 0!==jl&&null!==(Se=jl.structure)&&void 0!==Se&&null!==(Ce=Se.eight_installments)&&void 0!==Ce&&Ce.fees?(0,c.jsx)(Ae,{dueDate:null===jl||void 0===jl||null===(Ie=jl.structure)||void 0===Ie||null===(Fe=Ie.eight_installments)||void 0===Fe?void 0:Fe.dueDate,label:"eight",amount:null===jl||void 0===jl||null===(De=jl.structure)||void 0===De||null===(we=De.eight_installments)||void 0===we?void 0:we.fees}):null,null!==jl&&void 0!==jl&&null!==(Te=jl.structure)&&void 0!==Te&&null!==(Ee=Te.nine_installments)&&void 0!==Ee&&Ee.fees?(0,c.jsx)(Ae,{dueDate:null===jl||void 0===jl||null===(Be=jl.structure)||void 0===Be||null===(He=Be.nine_installments)||void 0===He?void 0:He.dueDate,label:"ninth",amount:null===jl||void 0===jl||null===(Ue=jl.structure)||void 0===Ue||null===(Re=Ue.nine_installments)||void 0===Re?void 0:Re.fees}):null,null!==jl&&void 0!==jl&&null!==(Le=jl.structure)&&void 0!==Le&&null!==(Me=Le.ten_installments)&&void 0!==Me&&Me.fees?(0,c.jsx)(Ae,{dueDate:null===jl||void 0===jl||null===(Ge=jl.structure)||void 0===Ge||null===(Pe=Ge.ten_installments)||void 0===Pe?void 0:Pe.dueDate,label:"ten",amount:null===jl||void 0===jl||null===(Je=jl.structure)||void 0===Je||null===(Oe=Je.ten_installments)||void 0===Oe?void 0:Oe.fees}):null,null!==jl&&void 0!==jl&&null!==($e=jl.structure)&&void 0!==$e&&null!==(Ye=$e.eleven_installments)&&void 0!==Ye&&Ye.fees?(0,c.jsx)(Ae,{dueDate:null===jl||void 0===jl||null===(qe=jl.structure)||void 0===qe||null===(ze=qe.eleven_installments)||void 0===ze?void 0:ze.dueDate,label:"eleventh",amount:null===jl||void 0===jl||null===(We=jl.structure)||void 0===We||null===(Ve=We.eleven_installments)||void 0===Ve?void 0:Ve.fees}):null,null!==jl&&void 0!==jl&&null!==(Ke=jl.structure)&&void 0!==Ke&&null!==(Qe=Ke.tweleve_installments)&&void 0!==Qe&&Qe.fees?(0,c.jsx)(Ae,{dueDate:null===jl||void 0===jl||null===(Xe=jl.structure)||void 0===Xe||null===(el=Xe.tweleve_installments)||void 0===el?void 0:el.dueDate,label:"twelevth",amount:null===jl||void 0===jl||null===(ll=jl.structure)||void 0===ll||null===(tl=ll.tweleve_installments)||void 0===tl?void 0:tl.fees}):null,(0,c.jsxs)("section",{className:i.Z.table_container,style:{margin:"0"},children:[(0,c.jsxs)("div",{className:i.Z.table_heading,children:[(0,c.jsx)("h6",{children:ml("applicable_fee_heads")}),(0,c.jsx)("h6",{children:ml("amount")})]}),(0,c.jsx)("div",{className:i.Z.table_body,children:null===jl||void 0===jl||null===(sl=jl.structure)||void 0===sl||null===(nl=sl.applicable_fees_heads)||void 0===nl?void 0:nl.map(((e,l)=>(0,c.jsxs)("div",{className:i.Z.table_body_list,children:["STUDENT"===_l?(0,c.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_name}):(0,c.jsxs)("h6",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"1rem"},children:[null===e||void 0===e?void 0:e.head_name,(0,c.jsx)("img",{src:null!==e&&void 0!==e&&e.is_society?"".concat(d.U_,"/check.svg"):"".concat(d.U_,"/uncheck.svg"),alt:"check icon",onClick:()=>Fl(e,"APPLICABLE"),style:{cursor:"pointer"}})]}),(0,c.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_amount})]},l)))}),(0,c.jsx)("div",{className:i.Z.table_body,children:(0,c.jsxs)("div",{className:i.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.8)",borderTopWidth:"2px",borderTopStyle:"solid",borderBottom:"none"},children:[(0,c.jsx)("h6",{className:i.Z.fees_total,children:ml("subtotal")}),(0,c.jsx)("h6",{className:i.Z.fees_total,children:bl})]})})]}),Zl?(0,c.jsxs)("section",{className:i.Z.table_container,style:{margin:"0"},children:[(0,c.jsxs)("div",{className:i.Z.table_heading,children:[(0,c.jsx)("h6",{children:ml("govt_fee_heads")}),(0,c.jsx)("h6",{children:ml("amount")})]}),(0,c.jsx)("div",{className:i.Z.table_body,children:null===jl||void 0===jl||null===(il=jl.structure)||void 0===il||null===(al=il.government_fees_heads)||void 0===al?void 0:al.map(((e,l)=>(0,c.jsxs)("div",{className:i.Z.table_body_list,children:["STUDENT"===_l?(0,c.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_name}):(0,c.jsxs)("h6",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"1rem"},children:[null===e||void 0===e?void 0:e.head_name,(0,c.jsx)("img",{src:null!==e&&void 0!==e&&e.is_society?"".concat(d.U_,"/check.svg"):"".concat(d.U_,"/uncheck.svg"),alt:"check icon",onClick:()=>Fl(e,"GOVERNMENT"),style:{cursor:"pointer"}})]}),(0,c.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_amount})]},l)))}),(0,c.jsx)("div",{className:i.Z.table_body,children:(0,c.jsxs)("div",{className:i.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.8)",borderTopWidth:"2px",borderTopStyle:"solid",borderBottomColor:"rgba(18, 18, 18, 0.8)",borderBottomWidth:"2px"},children:[(0,c.jsx)("h6",{className:i.Z.fees_total,children:ml("subtotal")}),(0,c.jsx)("h6",{className:i.Z.fees_total,children:Zl})]})})]}):null]})]})})]})},Ae=e=>{let{label:l,amount:t,dueDate:s}=e;const{t:a}=(0,n.$G)();return(0,c.jsxs)("section",{className:i.Z.fees_head_installment,children:[(0,c.jsxs)("h6",{children:[a(l)," ",a("installment"),s?(0,c.jsxs)("span",{style:{fontWeight:"400",fontSize:"12px",marginLeft:"0.4rem"},children:["(","".concat((0,he.jh)(s)),")"]}):""]}),(0,c.jsxs)("h6",{children:[a("rs_only")," ",null!==t&&void 0!==t?t:0]})]})},we=e=>{var l,t,s,a,o;let{structure:r,instituteId:u,fid:v,hostelId:_,onRefetch:m}=e;const{t:h}=(0,n.$G)(),[f,p]=(0,g.useState)("");return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:i.Z.fees_card,onClick:()=>{p(null===r||void 0===r?void 0:r._id)},style:{cursor:"pointer"},children:[(0,c.jsx)("img",{src:"".concat(d.J7,"/category.svg"),alt:"categor icon"}),(0,c.jsxs)("div",{className:i.Z.fees_card_text,children:[(0,c.jsxs)("div",{className:i.Z.fees_card_text_bottom,children:[(0,c.jsx)("h6",{children:null!==(l=null===r||void 0===r||null===(t=r.category_master)||void 0===t?void 0:t.category_name)&&void 0!==l?l:""}),(0,c.jsx)("h6",{children:"(".concat(h("rs_only")," ").concat(null!==(s=null===r||void 0===r?void 0:r.applicable_fees)&&void 0!==s?s:0,")")})]}),(0,c.jsxs)("div",{className:i.Z.fees_card_text_bottom,children:[(0,c.jsx)("h6",{children:null!==(a=null===r||void 0===r?void 0:r.structure_name)&&void 0!==a?a:""}),(0,c.jsxs)("h6",{children:[h("rs_only"),null!==(o=null===r||void 0===r?void 0:r.total_admission_fees)&&void 0!==o?o:0]})]})]})]}),f&&(0,c.jsx)(De,{onClose:()=>{p("")},structureId:f,instituteId:u,fid:v,hostelId:_,onRefetch:m})]})},Te=e=>{var l,t,s,i,a,o,u;let{instituteId:_,fid:h,hostelId:f}=e;const{t:p}=(0,n.$G)(),x=(0,v.TH)(),[y,b]=(0,g.useState)(""),[Z,N]=(0,g.useState)(""),[S,C]=(0,g.useState)(1),[I,F]=(0,g.useState)(!0),[D,A]=(0,U.YD)({skip:y}),[w,T]=(0,g.useState)(!1),{hostelFeeStructureList:E,hostelFeeStructureListLoading:B,hostelFeeStructureListRefetch:H}=(0,ne.x4)({data:{hid:f,page:S,limit:10,search:y,filterBy:"",batchBy:null===(l=x.state)||void 0===l?void 0:l.batchId},skip:!f});(0,g.useEffect)((()=>{A&&I&&C((e=>e+1))}),[A,I]),(0,g.useEffect)((()=>{var e;if(null!==E&&void 0!==E&&null!==(e=E.list)&&void 0!==e&&e.length){var l;let e=(0,R.f)(null===E||void 0===E||null===(l=E.list)||void 0===l?void 0:l.length);F((()=>e))}}),[null===E||void 0===E||null===(t=E.list)||void 0===t?void 0:t.length]);const L=()=>{T((e=>!e))},G=(0,g.useCallback)((()=>{C((()=>1)),H()}),[]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:m.Z.fm_header_container,children:[(0,c.jsx)("h6",{children:null!==(s=null===(i=x.state)||void 0===i?void 0:i.batchName)&&void 0!==s?s:""}),(0,c.jsx)("div",{className:m.Z.fm_add_button,style:{alignItems:"center"},children:(0,c.jsx)(j.Z,{label:"add_new_fees_structure",customStyle:{marginBlock:"0.5rem",padding:"0.4rem 1rem"},onAction:L})})]}),(0,c.jsx)("div",{className:m.Z.fm_search_full,style:{marginBottom:"0.7rem"},children:(0,c.jsx)("section",{className:m.Z.fm_search_full_container,children:(0,c.jsxs)("div",{className:m.Z.fm_search_full_container_inner,children:[(0,c.jsx)("img",{className:m.Z.fm_search_full_icon,alt:"search icon",src:"".concat(d.dB,"/navbar-search.svg")}),(0,c.jsx)("input",{type:"text",placeholder:p("search"),onChange:e=>{var l;!B&&(null===E||void 0===E||null===(l=E.list)||void 0===l?void 0:l.length)>=0&&N(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(C((()=>1)),b(Z))},value:Z})]})})}),null===E||void 0===E||null===(a=E.list)||void 0===a?void 0:a.map(((e,l)=>{var t;return(null===E||void 0===E||null===(t=E.list)||void 0===t?void 0:t.length)===l+1?(0,c.jsx)("div",{ref:D,children:(0,c.jsx)(we,{structure:e,instituteId:_,fid:h,hostelId:f,onRefetch:G})},null===e||void 0===e?void 0:e._id):(0,c.jsx)(we,{structure:e,instituteId:_,fid:h,hostelId:f,onRefetch:G},null===e||void 0===e?void 0:e._id)})),B?y?(0,c.jsx)(k.Z,{}):(0,c.jsx)(c.Fragment,{children:1===S?(0,c.jsx)(k.Z,{}):(0,c.jsx)(r.Z,{})}):y?0===(null===E||void 0===E||null===(o=E.list)||void 0===o?void 0:o.length)&&(0,c.jsx)(M.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No fee structure found related this search."}):0===(null===E||void 0===E||null===(u=E.list)||void 0===u?void 0:u.length)&&(0,c.jsx)(M.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No fee structure added."}),w&&(0,c.jsx)(Ie,{instituteId:_,fid:h,onClose:L,onRefetch:G,hostelId:f,isRefetch:!0})]})},Ee=e=>{let{instituteId:l,hostelId:t,fid:a}=e;const{t:o}=(0,n.$G)(),d=(0,v.TH)(),[r]=(0,s.lr)(),[u,_]=(0,g.useState)(!1),m=()=>{_((e=>!e))};return(0,c.jsxs)(c.Fragment,{children:[r.get("u")?(0,c.jsxs)("div",{className:i.Z.structure_container_title,style:{paddingInline:"0"},children:[(0,c.jsx)("h6",{children:o("hostel_batch")}),(0,c.jsx)("div",{className:i.Z.upload_excel_container,children:(0,c.jsx)(j.Z,{label:"add_new_fees_structure",customStyle:{marginBlock:"0.5rem",padding:"0.4rem 1rem"},onAction:m})})]}):null,(0,c.jsx)(p.Z,{}),r.get("u")?"batch"===r.get("u")?(0,c.jsx)(ie,{carryParentState:null===d||void 0===d?void 0:d.state,hostelId:t,instituteId:l}):null:(0,c.jsx)(Te,{fid:a,instituteId:l,hostelId:t}),u&&(0,c.jsx)(Ie,{instituteId:l,fid:a,hostelId:t,onClose:m})]})},Be=e=>{let{fid:l,instituteId:t,categoryCount:n,masterCount:a,hostelId:o}=e;const[d]=(0,s.lr)();return(0,c.jsx)("div",{className:i.Z.fess_container,children:["category","head","master"].includes(d.get("n"))?(0,c.jsx)($,{fid:l}):"structure"===d.get("n")?(0,c.jsx)(se,{instituteId:t,fid:l}):"hostel"===d.get("n")?(0,c.jsx)(Ee,{instituteId:t,fid:l,hostelId:o}):"fees"===d.get("type")?(0,c.jsx)(_,{instituteId:t,masterCount:a,categoryCount:n,fid:l}):null})}},43677:(e,l,t)=>{t.d(l,{Z:()=>a});var s=t(16871),n=t(43504),i=t(80184);const a=e=>{var l;let{activeUrl:t,parentState:a,children:o}=e;const d=(0,s.UO)(),r=(0,s.TH)();return(0,i.jsx)(n.rU,{to:"Institute"===(null===(l=r.state)||void 0===l?void 0:l.urlOffSet)?"/q/".concat(d.username,"/institute/member/finance?").concat(t):"/q/".concat(d.username,"/member/staff/finance?").concat(t),state:a,children:o})}},79864:(e,l,t)=>{t.d(l,{Z:()=>o});var s=t(72791),n=t(54164),i=t(15783),a=t(80184);const o=e=>{let{onBackdropClose:l,customBackdropStyle:t}=e;const o=(0,s.useCallback)((()=>{if(!l)return null;l()}),[l]);return n.createPortal((0,a.jsx)("div",{className:i.Z.modal_backdrop,onClick:o,style:t}),document.getElementById("backdrop"))}},99183:(e,l,t)=>{t.d(l,{l:()=>s,x:()=>n});const s=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t={};for(let s in e)null!==l&&void 0!==l&&l.includes(s)||e[s]||(t[s]="* required");return t},n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(let l in e)return!1;return!0}},52245:(e,l,t)=>{t.d(l,{Z:()=>s});const s={form_input_container:"UiInput_form_input_container__HtVPV",form_read_input_container:"UiInput_form_read_input_container__iILPu",form_file_container:"UiInput_form_file_container__33Bsr",form_input_label:"UiInput_form_input_label__XH6ki",form_input_label_error:"UiInput_form_input_label_error__EUef-",form_input:"UiInput_form_input__zl3Bt",form_textarea_input:"UiInput_form_textarea_input__fps0U",form_read_input_label:"UiInput_form_read_input_label__JDOsH",form_read_input:"UiInput_form_read_input__E8qX5",form_read_input_file:"UiInput_form_read_input_file__NqG3A",form_file_choose:"UiInput_form_file_choose__jxsyJ",form_file_choosen:"UiInput_form_file_choosen__8OI09",form_file_choose_active:"UiInput_form_file_choose_active__7e8B5",form_input_search:"UiInput_form_input_search__RLSi+",form_input_search_image:"UiInput_form_input_search_image__iV4xv",join_form_select_paragraph:"UiInput_join_form_select_paragraph__CSWSG",join_form_select_custom:"UiInput_join_form_select_custom__qemxS",join_form_select_custom_paragraph:"UiInput_join_form_select_custom_paragraph__3g7zT",join_form_select_custom_icon:"UiInput_join_form_select_custom_icon__Of6Sb",join_form_select_custom_rotate_icon:"UiInput_join_form_select_custom_rotate_icon__zANaN",join_form_select_custom_list:"UiInput_join_form_select_custom_list__MWLZM",join_form_select_custom_paragraph_option:"UiInput_join_form_select_custom_paragraph_option__Mh24f",form_calendar_icon:"UiInput_form_calendar_icon__KyFQA",payment_mode_heading:"UiInput_payment_mode_heading__v1Ek0",jfscl_option_list:"UiInput_jfscl_option_list__+Bigu",jfsclol_search_container:"UiInput_jfsclol_search_container__C19t-",jfsclolsc_input:"UiInput_jfsclolsc_input__ZNDZW"}},15783:(e,l,t)=>{t.d(l,{Z:()=>s});const s={notify_backdrop:"Utils_notify_backdrop__saL0O",notify_overlay:"Utils_notify_overlay__GtPc5",notify_hide_overlay:"Utils_notify_hide_overlay__MYvkC",notify_overlay_animation:"Utils_notify_overlay_animation__pcASm",notify_hide_overlay_animation:"Utils_notify_hide_overlay_animation__UKRcG",notify_container:"Utils_notify_container__O8DBA",notify_message:"Utils_notify_message__PHwKo",notify_close:"Utils_notify_close__IwjyA",modal_backdrop:"Utils_modal_backdrop__WBquw",modal_overlay:"Utils_modal_overlay__Yy-AV",modal_hide_overlay:"Utils_modal_hide_overlay__elt3A",navbar_modal_hide_overlay:"Utils_navbar_modal_hide_overlay__yqj5q",navbar_modal_overlay:"Utils_navbar_modal_overlay__6ub8g",modal_hide_overlay_animation:"Utils_modal_hide_overlay_animation__d3TNp",navbar_modal_overlay_animation:"Utils_navbar_modal_overlay_animation__Ypk9u",navbar_modal_hide_overlay_animation:"Utils_navbar_modal_hide_overlay_animation__QLEse",empty_container:"Utils_empty_container__-VyCI",modal_overlay_animation:"Utils_modal_overlay_animation__zkjsk"}}}]);
//# sourceMappingURL=70057.69b30197.chunk.js.map