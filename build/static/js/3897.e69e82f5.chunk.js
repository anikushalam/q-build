"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[3897],{51317:function(e,t,n){var o=n(72791),i=n(27331),a=n(39230),s=n(93638),r=n(80184),l=function(e){var t=e.title,n=e.subTitle,o=e.titleStyle,l=e.subTitleStyle,c=e.isCreate,u=e.onCreate,d=e.children,v=(0,a.$G)().t;return(0,r.jsxs)("div",{className:i.Z.auth_card_wrapper,children:[c?(0,r.jsxs)("div",{className:i.Z.auth_create_container,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h6",{className:i.Z.auth_card_title,style:o,children:v(t||"hello")}),(0,r.jsx)("h6",{className:i.Z.auth_card_subtitle,style:l,children:n||v("welcome_to_qviple")})]}),(0,r.jsx)(s.Z,{label:"create_new_account",customStyle:{margin:"0"},onAction:u})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h6",{className:i.Z.auth_card_title,style:o,children:v(t||"hello")}),(0,r.jsx)("h6",{className:i.Z.auth_card_subtitle,style:l,children:n||v("welcome_to_qviple")})]}),d]})};t.Z=(0,o.memo)(l)},75926:function(e,t,n){n.r(t);var o=n(29439),i=n(72791),a=n(96873),s=n(51317),r=n(27331),l=n(61578),c=n(19335),u=n(85794),d=n(98684),v=n(39230),h=n(61932),m=n(53982),f=n(79992),p=n(16871),_=n(80184);t.default=function(){var e,t,n,b,x=(0,v.$G)().t,Z=(0,p.TH)(),N=(0,p.s0)(),j=(0,i.useState)(""),g=(0,o.Z)(j,2),S=g[0],y=g[1],C=(0,i.useState)(!1),w=(0,o.Z)(C,2),T=w[0],k=w[1],q=(0,i.useState)(""),O=(0,o.Z)(q,2),D=O[0],P=O[1],I=(0,i.useState)({open:!1,msg:"",variant:"error"}),G=(0,o.Z)(I,2),H=G[0],M=G[1],R=(0,m.J9)(),$=(0,o.Z)(R,1)[0],F=(0,m.bB)(),z=(0,o.Z)(F,1)[0];return(0,_.jsx)(a.Z,{children:(0,_.jsx)(s.Z,{title:"verification_code",subTitle:"".concat(x("verification_code_note"),"mobile number").concat(x("ending")," xxxx - ").concat(null===(e="".concat(null===(t=Z.state)||void 0===t?void 0:t.phoneNumber))||void 0===e?void 0:e.substring((null===(n="".concat(null===(b=Z.state)||void 0===b?void 0:b.phoneNumber))||void 0===n?void 0:n.length)-4)),subTitleStyle:{fontSize:"0.8rem"},children:(0,_.jsxs)("form",{onSubmit:function(e){var t,n,o;(e.preventDefault(),S&&null!==(t=Z.state)&&void 0!==t&&t.phoneNumber)?(k((function(e){return!e})),$({insPhoneNumber:"".concat(null===(n=Z.state)||void 0===n?void 0:n.phoneNumber),verify:{insOtpCode:S,insPhoneNumber:"".concat(null===(o=Z.state)||void 0===o?void 0:o.phoneNumber)}}).then((function(e){var t=null===e||void 0===e?void 0:e.data;k((function(e){return!e})),"Invalid OTP"===(null===t||void 0===t?void 0:t.message)?M({msg:null===t||void 0===t?void 0:t.message,open:!0,variant:"error"}):N("/institute/create/account",{state:{phoneNumber:null===t||void 0===t?void 0:t.id,insMobileStatus:null===t||void 0===t?void 0:t.insMobileStatus}})})).catch((function(e){M({msg:"Time out of request with reason ".concat(e),open:!0,variant:"error"}),k((function(e){return!e}))}))):P({insOtpCode:"* required"})},className:r.Z.auth_login_form,children:[(0,_.jsx)(l.Z,{placeholder:x("verification_code"),fieldIconUrl:"".concat(d.nj,"/auth-otp.svg"),maxLength:"4",validate:D.userOtpCode,name:"userOtpCode",value:S,onChange:function(e){y(e.target.value)}}),(0,_.jsx)("div",{className:r.Z.auth_footer_container,children:(0,_.jsxs)("p",{className:r.Z.auth_otp_text,children:[x("if_you_did_not_recieve_otp"),(0,_.jsx)(h.Z,{onOtpResend:function(){var e,t;"".concat(null===(e=Z.state)||void 0===e?void 0:e.phoneNumber)&&z({phone:{insPhoneNumber:"".concat(null===(t=Z.state)||void 0===t?void 0:t.phoneNumber),status:"Not Verified"}}).then((function(e){var t,n,o,i,a,s=(0,f.ZH)(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.encrypt);null!==s&&void 0!==s&&s.insPhoneNumber&&M({open:!0,msg:"Code will be resent to xxxx- ".concat(null===(n="".concat(null===(o=Z.state)||void 0===o?void 0:o.phoneNumber))||void 0===n?void 0:n.substring((null===(i="".concat(null===(a=Z.state)||void 0===a?void 0:a.phoneNumber))||void 0===i?void 0:i.length)-4)),variant:"success"})})).catch((function(){M({open:!0,msg:"Time out of request...",variant:"error"})}))}})]})}),(0,_.jsx)(c.Z,{type:"submit",buttonText:x("verify"),disabled:T}),(0,_.jsx)(u.Z,{eventState:H,eventStateHandler:M})]})})})}},61932:function(e,t,n){var o=n(29439),i=n(72791),a=n(39230),s=n(27331),r=n(80184),l=function(e){var t=e.onOtpResend,n=(0,a.$G)().t,l=(0,i.useState)(""),c=(0,o.Z)(l,2),u=c[0],d=c[1],v=(0,i.useRef)(null),h=function(e){var t=function(e){var t=Date.parse(e)-Date.parse(new Date);return{total:t,seconds:Math.floor(t/1e3%60)}}(e),n=t.total,o=t.seconds;n>=0&&d(o)},m=function(e){d("40"),v.current&&clearInterval(v.current);var t=setInterval((function(){h(e)}),1e3);v.current=t},f=function(){var e=new Date;return e.setSeconds(e.getSeconds()+40),e};(0,i.useEffect)((function(){m(f())}),[]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("span",{className:s.Z.auth_otp_resend,onClick:function(){u||(t(),m(f()))},children:[" ",n("resend")," "]}),(0,r.jsx)("span",{className:s.Z.auth_otp_resend,children:u})]})};t.Z=(0,i.memo)(l)}}]);
//# sourceMappingURL=3897.e69e82f5.chunk.js.map