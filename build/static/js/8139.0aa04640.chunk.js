(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[8139],{11728:function(e,t,n){"use strict";n.d(t,{TW:function(){return s},Wt:function(){return l},sY:function(){return i}});var l=[{key:"ALL_BATCH",name:"all_batches"},{key:"ACTIVE_BATCH",name:"active_batches"}],i=[{key:"ALL",name:"all_departments"},{key:"PARTICULAR",name:"particular_department"}],s=[{key:"ALL_BATCH",name:"all_batches"},{key:"PARTICULAR_BATCH",name:"particular_batch"}]},31897:function(e,t,n){"use strict";var l=n(1413),i=n(37762),s=n(29439),a=n(72791),o=n(39230),c=n(52245),r=n(98684),d=n(80184);t.Z=function(e){var t=e.selectLabel,n=e.onClick,_=e.selectedValue,u=e.options,v=e.customStyleContainer,f=e.customLabelStyle,h=e.customListStyle,m=e.errorShow,b=e.defalutValue,x=e.viewAs,p=e.isFull,j=(0,o.$G)().t,Z=(0,a.useState)(!1),g=(0,s.Z)(Z,2),y=g[0],N=g[1],L=(0,a.useState)(""),S=(0,s.Z)(L,2),A=S[0],k=S[1],C=function(){N((function(e){return!e}))};(0,a.useEffect)((function(){"NORMAL_FILTER"===x&&k(b)}),[x,b]),(0,a.useEffect)((function(){if("CUSTOM_FILTER"===x){var e,t="",n=(0,i.Z)(u);try{for(n.s();!(e=n.n()).done;){var l,s=e.value,a=(0,i.Z)(b);try{for(a.s();!(l=a.n()).done;){var o=l.value;if((null===s||void 0===s?void 0:s._id)===o){var c,r,d,_=null!==(c=null!==(r=null!==(d=null===s||void 0===s?void 0:s.dName)&&void 0!==d?d:null===s||void 0===s?void 0:s.batchName)&&void 0!==r?r:null===s||void 0===s?void 0:s.className)&&void 0!==c?c:"";t=t?t+", "+_:_}}}catch(v){a.e(v)}finally{a.f()}}}catch(v){n.e(v)}finally{n.f()}k(t)}}),[x,b,u]);var T=function(e){var t;n(p?e:null===e||void 0===e?void 0:e._id),C(),k(null!==(t=null===e||void 0===e?void 0:e.dName)&&void 0!==t?t:e)};return(0,d.jsxs)("div",{className:c.Z.form_input_container,style:(0,l.Z)({},v),children:[(0,d.jsxs)("p",{className:c.Z.join_form_select_paragraph,style:(0,l.Z)({},f),children:[t,m&&(0,d.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",j("form_require_label")]})]}),(0,d.jsxs)("section",{className:c.Z.join_form_select_custom,onClick:C,children:[A?(0,d.jsx)("p",{className:c.Z.join_form_select_custom_paragraph,children:null!==A&&void 0!==A?A:""}):(0,d.jsx)("p",{className:c.Z.join_form_select_custom_paragraph,children:_}),y?(0,d.jsx)("img",{className:c.Z.join_form_select_custom_rotate_icon,src:"".concat(r.J7,"/down.svg"),alt:"categor icon"}):(0,d.jsx)("img",{className:c.Z.join_form_select_custom_icon,src:"".concat(r.J7,"/down.svg"),alt:"categor icon"})]}),y&&(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("section",{className:c.Z.join_form_select_custom_list,style:h,children:null===u||void 0===u?void 0:u.map((function(e,t){var n;return(0,d.jsx)("p",{onClick:function(){return T(e)},className:c.Z.join_form_select_custom_paragraph_option,children:null!==(n=null===e||void 0===e?void 0:e.dName)&&void 0!==n?n:e},t)}))})})]})}},26071:function(e,t,n){"use strict";var l=n(51416),i=n(39230),s=n(80184);t.Z=function(e){var t=e.tile,n=e.onTile,a=e.activeTile,o=e.customTileChild,c=(0,i.$G)().t;return(0,s.jsx)("div",{className:(null===t||void 0===t?void 0:t.key)===a?l.Z.tile_tile_active:l.Z.tile_tile,onClick:function(){return n(null===t||void 0===t?void 0:t.key)},style:o,children:c(null===t||void 0===t?void 0:t.name)})}},20659:function(e,t,n){"use strict";var l=n(51416),i=n(39230),s=n(80184);t.Z=function(e){var t=e.label,n=e.customTileLabel,a=e.customTileContainer,o=e.children,c=(0,i.$G)().t;return(0,s.jsxs)("div",{className:l.Z.tile_container,children:[t&&(0,s.jsx)("h6",{className:l.Z.tile_label,style:n,children:c(t)}),(0,s.jsx)("section",{className:l.Z.tile_tile_container,style:a,children:o})]})}},8139:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return G}});var l=n(29439),i=n(43504),s=n(72791),a=n(39230),o=n(93405),c=n(63687),r=n(21348),d=n(90904),_=n(1413),u=n(55336),v=n(98684),f=n(93638),h=n(32963),m=n(47334),b=n(93433),x=n(84975),p=n(31897),j=n(80184),Z=function(e){var t=e.fid,n=e.onSelect,l=e.onlyDepartment,i=(0,a.$G)().t,s=(0,x.Jv)({fid:t,skip:!t}).instituteAllDepartment;return(0,j.jsx)(j.Fragment,{children:l?(0,j.jsx)(p.Z,{selectLabel:i("select_department"),selectedValue:i("select_department_placeholder"),options:(null===s||void 0===s?void 0:s.length)>0?s:[],onClick:n,isFull:!0}):(0,j.jsx)(p.Z,{selectLabel:i("select_department"),selectedValue:i("select_department_placeholder"),options:(null===s||void 0===s?void 0:s.length)>0?["ALL","By Bank","Particular Student"].concat((0,b.Z)(s)):["ALL","By Bank","Particular Student"],onClick:n,isFull:!0})})},g=n(33880),y=function(e){var t=e.did,n=e.onSelect,l=e.onlyBatch,i=(0,a.$G)().t,s=(0,x._m)({did:t,skip:!t}).departmentAllBatch;return(0,j.jsx)(j.Fragment,{children:l?(0,j.jsx)(g.Z,{selectLabel:i("select_batch"),selectedValue:i("select_batch_placeholder"),options:(null===s||void 0===s?void 0:s.length)>0?s:[],onClick:n,isFull:!0}):(0,j.jsx)(g.Z,{selectLabel:i("select_batch"),selectedValue:i("select_batch_placeholder"),options:(null===s||void 0===s?void 0:s.length)>0?["ALL"].concat((0,b.Z)(s)):["ALL"],onClick:n,isFull:!0})})},N=n(40739),L=function(e){var t=e.instituteId,n=e.did,l=e.onSelect,i=(0,a.$G)().t,s=(0,x.lj)({data:{id:t,did:n},skip:t?!n:!t}).departmentAllClassMaster;return(0,j.jsx)(N.Z,{selectLabel:i("select_standard"),selectedValue:i("select_standard_placeholder"),options:(null===s||void 0===s?void 0:s.length)>0?(0,b.Z)(s):[],onClick:l,isFull:!0})},S=n(37762),A=n(52245),k=function(e){var t=e.selectLabel,n=e.onClick,i=e.selectedValue,o=e.options,c=e.customStyleContainer,r=e.customLabelStyle,d=e.customListStyle,u=e.errorShow,f=e.defalutValue,h=e.viewAs,m=e.isFull,b=(0,a.$G)().t,x=(0,s.useState)(!1),p=(0,l.Z)(x,2),Z=p[0],g=p[1],y=(0,s.useState)(""),N=(0,l.Z)(y,2),L=N[0],k=N[1],C=function(){g((function(e){return!e}))};(0,s.useEffect)((function(){"NORMAL_FILTER"===h&&k(f)}),[h,f]),(0,s.useEffect)((function(){if("CUSTOM_FILTER"===h){var e,t="",n=(0,S.Z)(o);try{for(n.s();!(e=n.n()).done;){var l,i=e.value,s=(0,S.Z)(f);try{for(s.s();!(l=s.n()).done;){var a=l.value;if((null===i||void 0===i?void 0:i._id)===a){var c,r,d,_=null!==(c=null!==(r=null!==(d=null===i||void 0===i?void 0:i.dName)&&void 0!==d?d:null===i||void 0===i?void 0:i.batchName)&&void 0!==r?r:null===i||void 0===i?void 0:i.className)&&void 0!==c?c:"";t=t?t+", "+_:_}}}catch(u){s.e(u)}finally{s.f()}}}catch(u){n.e(u)}finally{n.f()}k(t)}}),[h,f,o]);var T=function(e){var t;n(m?e:null===e||void 0===e?void 0:e._id),C(),k(null!==(t=null===e||void 0===e?void 0:e.finance_bank_account_name)&&void 0!==t?t:e)};return(0,j.jsxs)("div",{className:A.Z.form_input_container,style:(0,_.Z)({},c),children:[(0,j.jsxs)("p",{className:A.Z.join_form_select_paragraph,style:(0,_.Z)({},r),children:[t,u&&(0,j.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",b("form_require_label")]})]}),(0,j.jsxs)("section",{className:A.Z.join_form_select_custom,onClick:C,children:[L?(0,j.jsx)("p",{className:A.Z.join_form_select_custom_paragraph,children:null!==L&&void 0!==L?L:""}):(0,j.jsx)("p",{className:A.Z.join_form_select_custom_paragraph,children:i}),Z?(0,j.jsx)("img",{className:A.Z.join_form_select_custom_rotate_icon,src:"".concat(v.J7,"/down.svg"),alt:"categor icon"}):(0,j.jsx)("img",{className:A.Z.join_form_select_custom_icon,src:"".concat(v.J7,"/down.svg"),alt:"categor icon"})]}),Z&&(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("section",{className:A.Z.join_form_select_custom_list,style:d,children:null===o||void 0===o?void 0:o.map((function(e,t){var n;return(0,j.jsx)("p",{onClick:function(){return T(e)},className:A.Z.join_form_select_custom_paragraph_option,children:null!==(n=null===e||void 0===e?void 0:e.finance_bank_account_name)&&void 0!==n?n:e},t)}))})})]})},C=function(e){var t,n=e.fid,l=e.onSelect,i=(0,a.$G)().t,s=(0,x.iB)({data:{fid:n,page:1,limit:1e3,search:""},skip:!n}).financeAllBank;return(0,j.jsx)(k,{selectLabel:i("bank_account"),selectedValue:i("bank_account_placeholder"),options:(null===s||void 0===s||null===(t=s.all_accounts)||void 0===t?void 0:t.length)>0?(0,b.Z)(null===s||void 0===s?void 0:s.all_accounts):[],onClick:l,isFull:!0})},T=n(20659),I=n(26071),U=n(11728),R=function(e){var t=e.onClose,n=e.fid,i=e.instituteId,o=e.onRefetch,c=(0,a.$G)().t,b=(0,s.useState)({activity_status:"",all_depart:"",batch_status:"",master:[],batch:"",depart:"",bank:"",single_student:""}),p=(0,l.Z)(b,2),g=p[0],N=p[1],S=(0,s.useState)(!1),A=(0,l.Z)(S,2),k=A[0],R=A[1],M=(0,x.wL)(),Y=(0,l.Z)(M,1)[0],F=(0,s.useCallback)((function(e){null!==e&&void 0!==e&&e._id&&N((function(t){return(0,_.Z)((0,_.Z)({},t),{},{all_depart:"PARTICULAR",depart:null===e||void 0===e?void 0:e._id})}))}),[]),J=(0,s.useCallback)((function(e){null!==e&&void 0!==e&&e._id?N((function(t){return(0,_.Z)((0,_.Z)({},t),{},{batch_status:"PARTICULAR_BATCH",batch:null===e||void 0===e?void 0:e._id})})):N((function(e){return(0,_.Z)((0,_.Z)({},e),{},{batch_status:"ALL_BATCH",batch:""})}))}),[]),B=(0,s.useCallback)((function(e){N((function(t){return(0,_.Z)((0,_.Z)({},t),{},{master:[null===e||void 0===e?void 0:e._id]})}))}),[]),E=(0,s.useCallback)((function(e){N((function(t){return(0,_.Z)((0,_.Z)({},t),{},{bank:null===e||void 0===e?void 0:e._id})}))}),[]),w=function(e){e===g.activity_status?N((function(e){return(0,_.Z)((0,_.Z)({},e),{},{activity_status:"",batch:""})})):N((function(t){return(0,_.Z)((0,_.Z)({},t),{},{activity_status:e,batch:""})}))},V=function(e){N((function(t){return(0,_.Z)((0,_.Z)({},t),{},{all_depart:e,depart:""})}))},D=function(e){N((function(t){return(0,_.Z)((0,_.Z)({},t),{},{batch_status:e,batch:""})}))};return(0,j.jsx)(h.Z,{onClose:t,children:(0,j.jsxs)("div",{className:m.Z.modal_container,children:[(0,j.jsx)(r.Z,{children:(0,j.jsxs)("div",{className:m.Z.modal_container_outer_header,children:[(0,j.jsx)("div",{className:m.Z.modal_container_header,children:(0,j.jsx)("h6",{children:c("overall_fee_statistics_filter")})}),(0,j.jsx)("img",{src:"".concat(v.J7,"/close.svg"),alt:"close icon",onClick:t})]})}),(0,j.jsx)(d.Z,{}),(0,j.jsxs)(r.Z,{customStyle:{paddingTop:"0"},children:[(0,j.jsx)(T.Z,{label:"activity_type",children:null===U.Wt||void 0===U.Wt?void 0:U.Wt.map((function(e){return(0,j.jsx)(I.Z,{tile:e,onTile:w,activeTile:g.activity_status},null===e||void 0===e?void 0:e.key)}))}),g.activity_status?null:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(T.Z,{label:"department_type",children:null===U.sY||void 0===U.sY?void 0:U.sY.map((function(e){return(0,j.jsx)(I.Z,{tile:e,onTile:V,activeTile:g.all_depart},null===e||void 0===e?void 0:e.key)}))}),"PARTICULAR"===g.all_depart?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Z,{fid:n,onSelect:F,onlyDepartment:!0}),(0,j.jsx)(T.Z,{label:"batch_type",children:null===U.TW||void 0===U.TW?void 0:U.TW.map((function(e){return(0,j.jsx)(I.Z,{tile:e,onTile:D,activeTile:g.batch_status},null===e||void 0===e?void 0:e.key)}))}),"PARTICULAR_BATCH"===g.batch_status?(0,j.jsx)(y,{did:g.depart,onSelect:J,onlyBatch:!0}):null,(0,j.jsx)(L,{did:g.depart,onSelect:B,instituteId:i})]}):null,(0,j.jsx)(C,{fid:n,onSelect:E})]}),(0,j.jsx)(f.Z,{label:"filter",onAction:function(){n&&(R((function(e){return!e})),Y({fid:n,moduleType:"OVERALL_VIEW",statisticsBody:g}).then((function(){t(),o&&o(),R((function(e){return!e}))})).catch({}))}})]}),k&&(0,j.jsx)(u.Z,{})]})})},M=n(51723),Y=function(e){var t=e.label,n=e.amount,l=e.iconUrl,i=e.onAction,s=e.arr,o=(0,a.$G)().t;return(0,j.jsxs)("div",{className:M.Z.osc_card,onClick:function(){i(s)},children:[(0,j.jsx)("img",{src:l,alt:"overal icon"}),(0,j.jsxs)("div",{className:M.Z.osc_card_inner,children:[(0,j.jsxs)("h6",{children:[o("rs")," ",null!==n&&void 0!==n?n:0]}),(0,j.jsx)("p",{children:o(t)})]})]})},F=n(16871),J=function(e){var t,n,l,i,a,o,c,r,d,u,h,m=e.fnanceOverallFeeStatistics,b=(0,F.s0)(),x=(0,F.UO)(),p=(0,F.TH)(),Z=(0,s.useCallback)((function(){b("/q/".concat(x.username,"/member/staff/finance?type=fees-statistics&n=admission"),{state:p.state})}),[b,x,p.state]),g=(0,s.useCallback)((function(e){(null===e||void 0===e?void 0:e.length)>0&&b("/q/".concat(x.username,"/member/staff/finance?type=statistics-detail"),{state:(0,_.Z)((0,_.Z)({},p.state),{},{studentList:e,openAs:"OVERVIEW"})})}),[b,x]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:M.Z.osc_container,children:[(0,j.jsxs)("div",{className:M.Z.osc_container_inner,children:[(0,j.jsx)(Y,{iconUrl:"".concat(v.J7,"/total-fees.svg"),amount:null!==(t=null===m||void 0===m?void 0:m.total_fees)&&void 0!==t?t:0,label:"total_fees_to_be_collected",onAction:g,arr:null===m||void 0===m?void 0:m.total_fees_arr}),(0,j.jsx)(Y,{iconUrl:"".concat(v.J7,"/total-collection.svg"),amount:null!==(n=null===m||void 0===m?void 0:m.total_collect)&&void 0!==n?n:0,label:"total_collection",onAction:g,arr:null===m||void 0===m?void 0:m.total_collect_arr}),(0,j.jsx)(Y,{iconUrl:"".concat(v.J7,"/total-collected.svg"),amount:null!==(l=null===m||void 0===m?void 0:m.total_pending)&&void 0!==l?l:0,label:"total_outstanding",onAction:g,arr:null===m||void 0===m?void 0:m.total_pending_arr})]}),(0,j.jsxs)("div",{className:M.Z.osc_container_inner,children:[(0,j.jsx)(Y,{iconUrl:"".concat(v.J7,"/student-collection.svg"),amount:0,label:"fees_to_be_collected_from_student",onAction:function(){}}),(0,j.jsx)(Y,{iconUrl:"".concat(v.J7,"/student-collection.svg"),amount:null!==(i=null===m||void 0===m?void 0:m.collect_by_student)&&void 0!==i?i:0,label:"collection_from_student",onAction:g,arr:null===m||void 0===m?void 0:m.collect_by_student_arr}),(0,j.jsx)(Y,{iconUrl:"".concat(v.J7,"/student-pending.svg"),amount:null!==(a=null===m||void 0===m?void 0:m.pending_by_student)&&void 0!==a?a:0,label:"outstanding_from_student",onAction:g,arr:null===m||void 0===m?void 0:m.pending_by_student_arr})]}),(0,j.jsxs)("div",{className:M.Z.osc_container_inner,children:[(0,j.jsx)(Y,{iconUrl:"".concat(v.J7,"/gov-recieve.svg"),amount:0,label:"fees_to_be_receive_as_scholarship",onAction:function(){}}),(0,j.jsx)(Y,{iconUrl:"".concat(v.J7,"/gov-recieve.svg"),amount:null!==(o=null===m||void 0===m?void 0:m.collect_by_government)&&void 0!==o?o:0,label:"collection_as_scholarship",onAction:g,arr:null===m||void 0===m?void 0:m.collect_by_government_arr}),(0,j.jsx)(Y,{iconUrl:"".concat(v.J7,"/gov-pending.svg"),amount:null!==(c=null===m||void 0===m?void 0:m.pending_from_government)&&void 0!==c?c:0,label:"outstanding_as_scholarship",onAction:g,arr:null===m||void 0===m?void 0:m.pending_from_government_arr})]}),(0,j.jsxs)("div",{className:M.Z.osc_container_inner,children:[(0,j.jsx)(Y,{iconUrl:"".concat(v.J7,"/excess-fee.svg"),amount:0,label:"other_internal_fees_to_be_collected",onAction:function(){}}),(0,j.jsx)(Y,{iconUrl:"".concat(v.J7,"/excess-fee.svg"),amount:0,label:"outstanding_internal_fees",onAction:function(){}}),(0,j.jsx)(Y,{iconUrl:"".concat(v.J7,"/excess-fee.svg"),amount:null!==(r=null===m||void 0===m?void 0:m.excess_fees)&&void 0!==r?r:0,label:"excess_fees_paid_by_student",onAction:function(){}})]}),(0,j.jsxs)("div",{className:M.Z.osc_container_inner,children:[(0,j.jsx)(Y,{iconUrl:"".concat(v.J7,"/total-deposit.svg"),amount:null!==(d=null===m||void 0===m?void 0:m.total_deposits)&&void 0!==d?d:0,label:"deposits_to_be_refunded",onAction:function(){}}),(0,j.jsx)(Y,{iconUrl:"".concat(v.J7,"/total-income.svg"),amount:null!==(u=null===m||void 0===m?void 0:m.incomes)&&void 0!==u?u:0,label:"other_incomes",onAction:function(){}}),(0,j.jsx)(Y,{iconUrl:"".concat(v.J7,"/total-expense.svg"),amount:null!==(h=null===m||void 0===m?void 0:m.expenses)&&void 0!==h?h:0,label:"other_expenses",onAction:function(){}})]})]}),(0,j.jsx)(f.Z,{label:"admission_fees_statitics",onAction:Z,customStyle:{width:"fit-content"}})]})},B=n(97892),E=n.n(B),w=n(82824),V=function(e){var t,n,i,_,h=e.fid,m=e.instituteId,b=(0,a.$G)().t,p=(0,s.useState)(""),Z=(0,l.Z)(p,2),g=Z[0],y=Z[1],N=(0,s.useState)(!1),L=(0,l.Z)(N,2),S=L[0],A=L[1],k=(0,x.wL)(),C=(0,l.Z)(k,1)[0],T=(0,x.Z2)({fid:h,skip:!h}),I=T.fnanceOverallFeeStatistics,U=T.fnanceOverallFeeStatisticsRefetch,M=(0,s.useCallback)((function(){y("")}),[]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(c.Z,{children:[(0,j.jsx)(r.Z,{children:(0,j.jsx)("div",{className:o.Z.fm_header_container,children:(0,j.jsx)("h6",{children:b("overall_fees_statitics")})})}),(0,j.jsx)(d.Z,{}),(0,j.jsxs)(r.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,j.jsxs)("div",{className:o.Z.fm_fs_container,children:[(0,j.jsxs)("h6",{className:o.Z.fm_title_heading,style:{flex:"2 2"},children:[b("applied_filter")," "," : ",null!==I&&void 0!==I&&null!==(t=I.fees_statistics_filter)&&void 0!==t&&t.department_all?null===I||void 0===I||null===(n=I.fees_statistics_filter)||void 0===n?void 0:n.department_all:null!==I&&void 0!==I&&null!==(i=I.fees_statistics_filter)&&void 0!==i&&i.batch_all?null===I||void 0===I||null===(_=I.fees_statistics_filter)||void 0===_?void 0:_.batch_all:""]}),(0,j.jsxs)("div",{className:o.Z.fm_fs_container_inner,style:{flex:"1 1"},children:[(0,j.jsx)(f.Z,{label:"filter",onAction:function(){y("FILTER")},customStyle:{margin:"0"}}),(0,j.jsxs)("div",{className:o.Z.fm_fs_refetch_container,onClick:function(){var e,t,n,l,i,s,a,o,c,r,d,_,u,v,f,m,b,x,p;!h||null!==C&&void 0!==C&&C.loading_status||(A((function(e){return!e})),C({fid:h,moduleType:"OVERALL_VIEW",statisticsBody:{activity_status:null!==(e=null===I||void 0===I||null===(t=I.fees_statistics_filter)||void 0===t||null===(n=t.bank_level)||void 0===n?void 0:n[0])&&void 0!==e?e:"",all_depart:null!==(l=null===I||void 0===I||null===(i=I.fees_statistics_filter)||void 0===i?void 0:i.department_all)&&void 0!==l?l:"",batch_status:null!==(s=null===I||void 0===I||null===(a=I.fees_statistics_filter)||void 0===a?void 0:a.batch_all)&&void 0!==s?s:"",master:null!==(o=null===I||void 0===I||null===(c=I.fees_statistics_filter)||void 0===c||null===(r=c.master_level)||void 0===r?void 0:r[0])&&void 0!==o?o:[],batch:null!==(d=null===I||void 0===I||null===(_=I.fees_statistics_filter)||void 0===_||null===(u=_.batch_level)||void 0===u?void 0:u[0])&&void 0!==d?d:"",depart:null!==(v=null===I||void 0===I||null===(f=I.fees_statistics_filter)||void 0===f||null===(m=f.department_level)||void 0===m?void 0:m[0])&&void 0!==v?v:"",bank:null!==(b=null===I||void 0===I||null===(x=I.fees_statistics_filter)||void 0===x||null===(p=x.bank_level)||void 0===p?void 0:p[0])&&void 0!==b?b:""}}).then((function(){U(),A((function(e){return!e}))})).catch({}))},children:[null!==C&&void 0!==C&&C.loading_status?(0,j.jsx)("img",{src:"".concat(v.Uw,"/loading.gif"),alt:"refetch icon"}):(0,j.jsx)("img",{src:"".concat(v.J7,"/refresh.svg"),alt:"refetch icon"}),(0,j.jsxs)("div",{className:o.Z.fm_fs_refetch_container_inner,children:[(0,j.jsx)("h6",{children:b("refetch_data")}),(0,j.jsxs)("p",{children:[b("last_updated")," : ",E()(null===I||void 0===I?void 0:I.last_update).format("DD MMM YYYY"),", ",(0,w.J)(null===I||void 0===I?void 0:I.last_update,"LT")]})]})]})]})]}),(0,j.jsx)(J,{fnanceOverallFeeStatistics:I})]})]}),"FILTER"===g?(0,j.jsx)(R,{onClose:M,fid:h,instituteId:m,onRefetch:U}):null,S&&(0,j.jsx)(u.Z,{})]})},D=function(e){var t,n=e.statitics,l=e.batchId,i=e.depart,o=(0,a.$G)().t,c=(0,F.s0)(),r=(0,F.UO)(),d=(0,F.TH)(),u=(0,s.useCallback)((function(e){(null===e||void 0===e?void 0:e.length)>0&&c("/q/".concat(r.username,"/member/staff/finance?type=statistics-detail"),{state:(0,_.Z)((0,_.Z)({},d.state),{},{studentList:e,openAs:"ADMISSION_OVERVIEW",batchId:l,departmentId:i})})}),[c,r]);return(0,j.jsx)("div",{className:M.Z.ss_table,children:(0,j.jsxs)("div",{className:M.Z.fs_table_header,children:[(0,j.jsx)("div",{className:M.Z.fs_table_col,style:{borderRight:"none"},children:null===P||void 0===P?void 0:P.map((function(e){return(0,j.jsx)("div",{className:M.Z.fs_table_header_inner,children:(0,j.jsx)("h6",{className:M.Z.fs_table_header_inner_h6,style:{width:"10rem"},children:o(null===e||void 0===e?void 0:e.name)})},null===e||void 0===e?void 0:e.name)}))}),null===n||void 0===n||null===(t=n.departs)||void 0===t?void 0:t.map((function(e,t){var l,i;return(0,j.jsxs)("div",{className:M.Z.fs_table_col,children:[(0,j.jsx)("div",{className:M.Z.fs_table_header_inner,children:(0,j.jsx)("h6",{className:M.Z.fs_table_header_inner_h6,children:e["dp".concat(t+1)]})}),(0,j.jsx)("div",{className:M.Z.fs_table_col_inner,children:null===(l=n["dp".concat(t+1)])||void 0===l||null===(i=l.batches)||void 0===i?void 0:i.map((function(e){var l,i;return(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:M.Z.fs_table_header_inner,children:(0,j.jsx)("h6",{className:M.Z.fs_table_header_inner_h6,children:null===e||void 0===e?void 0:e.batchName})}),(0,j.jsx)("div",{className:M.Z.fs_table_col_inner,style:{alignItems:"flex-start"},children:null===(l=n["dp".concat(t+1)])||void 0===l||null===(i=l.masters)||void 0===i?void 0:i.map((function(l){var i,s,a,o,c;return(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:M.Z.fs_table_header_inner,children:(0,j.jsx)("h6",{className:M.Z.fs_table_header_inner_h6,style:{width:"10rem"},children:null!==(i=null===l||void 0===l?void 0:l.masterName)&&void 0!==i?i:"NULL"})},null===l||void 0===l?void 0:l._id),(0,j.jsx)("div",{className:M.Z.fs_table_col_inner,children:null===(s=H(null===(c=n["dp".concat(t+1)])||void 0===c?void 0:c.nest_classes,null===e||void 0===e?void 0:e._id))||void 0===s||null===(a=s[null===e||void 0===e?void 0:e._id])||void 0===a||null===(o=a.classes)||void 0===o?void 0:o.map((function(e){var t,n,i,s,a,o,c,r;return(null===e||void 0===e?void 0:e.classMaster)===(null===l||void 0===l?void 0:l._id)?(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:M.Z.fs_table_header_inner,children:(0,j.jsx)("h6",{className:M.Z.fs_table_header_inner_h6,style:{width:"10rem"},children:null!==(t=null===e||void 0===e?void 0:e.className)&&void 0!==t?t:"NULL"})}),(0,j.jsx)("div",{className:M.Z.fs_table_header_inner,children:(0,j.jsx)("h6",{className:M.Z.fs_table_header_inner_h6,onClick:function(){return u(null===e||void 0===e?void 0:e.total_fees_arr)},style:{cursor:"pointer",color:"#00f"},children:null!==(n=null===e||void 0===e?void 0:e.total_fees)&&void 0!==n?n:"NULL"})}),(0,j.jsx)("div",{className:M.Z.fs_table_header_inner,children:(0,j.jsx)("h6",{className:M.Z.fs_table_header_inner_h6,onClick:function(){return u(null===e||void 0===e?void 0:e.total_collect_arr)},style:{cursor:"pointer",color:"#00f"},children:null!==(i=null===e||void 0===e?void 0:e.total_collect)&&void 0!==i?i:"NULL"})}),(0,j.jsx)("div",{className:M.Z.fs_table_header_inner,children:(0,j.jsx)("h6",{className:M.Z.fs_table_header_inner_h6,onClick:function(){return u(null===e||void 0===e?void 0:e.total_pending_arr)},style:{cursor:"pointer",color:"#00f"},children:null!==(s=null===e||void 0===e?void 0:e.total_pending)&&void 0!==s?s:"NULL"})}),(0,j.jsx)("div",{className:M.Z.fs_table_header_inner,children:(0,j.jsx)("h6",{className:M.Z.fs_table_header_inner_h6,onClick:function(){return u(null===e||void 0===e?void 0:e.collect_by_student_arr)},style:{cursor:"pointer",color:"#00f"},children:null!==(a=null===e||void 0===e?void 0:e.collect_by_student)&&void 0!==a?a:"NULL"})}),(0,j.jsx)("div",{className:M.Z.fs_table_header_inner,children:(0,j.jsx)("h6",{className:M.Z.fs_table_header_inner_h6,onClick:function(){return u(null===e||void 0===e?void 0:e.pending_by_student_arr)},style:{cursor:"pointer",color:"#00f"},children:null!==(o=null===e||void 0===e?void 0:e.pending_by_student)&&void 0!==o?o:"NULL"})}),(0,j.jsx)("div",{className:M.Z.fs_table_header_inner,children:(0,j.jsx)("h6",{className:M.Z.fs_table_header_inner_h6,onClick:function(){return u(null===e||void 0===e?void 0:e.collect_by_government_arr)},style:{cursor:"pointer",color:"#00f"},children:null!==(c=null===e||void 0===e?void 0:e.collect_by_government)&&void 0!==c?c:"NULL"})}),(0,j.jsx)("div",{className:M.Z.fs_table_header_inner,children:(0,j.jsx)("h6",{className:M.Z.fs_table_header_inner_h6,onClick:function(){return u(null===e||void 0===e?void 0:e.pending_from_government_arr)},style:{cursor:"pointer",color:"#00f"},children:null!==(r=null===e||void 0===e?void 0:e.pending_from_government)&&void 0!==r?r:"NULL"})})]},null===e||void 0===e?void 0:e._id):null}))})]})}))})]},null===e||void 0===e?void 0:e._id)}))})]},t)}))]})})},P=[{name:"department"},{name:"batch"},{name:"standard"},{name:"class"},{name:"total_fees"},{name:"total_collect"},{name:"total_pending"},{name:"collect_from_student"},{name:"ot_from_student"},{name:"collect_from_gov"},{name:"ot_from_gov"}],H=function(e,t){var n,l=(0,S.Z)(e);try{for(l.s();!(n=l.n()).done;){var i=n.value;for(var s in i)if(s===t)return i}}catch(a){l.e(a)}finally{l.f()}},O=function(e){var t=e.onClose,n=e.fid,i=(e.instituteId,e.onRefetch),o=(0,a.$G)().t,c=(0,s.useState)({activity_status:"",all_depart:"",batch_status:"",master:[],batch:"",depart:"",bank:"",single_student:""}),b=(0,l.Z)(c,2),p=b[0],g=b[1],N=(0,s.useState)(!1),L=(0,l.Z)(N,2),S=L[0],A=L[1],k=(0,x.wL)(),T=(0,l.Z)(k,1)[0],I=(0,s.useCallback)((function(e){null!==e&&void 0!==e&&e._id&&g((function(t){return(0,_.Z)((0,_.Z)({},t),{},{all_depart:"PARTICULAR",depart:null===e||void 0===e?void 0:e._id})}))}),[]),U=(0,s.useCallback)((function(e){null!==e&&void 0!==e&&e._id?g((function(t){return(0,_.Z)((0,_.Z)({},t),{},{batch_status:"PARTICULAR_BATCH",batch:null===e||void 0===e?void 0:e._id})})):g((function(e){return(0,_.Z)((0,_.Z)({},e),{},{batch_status:"ALL_BATCH",batch:""})}))}),[]),R=(0,s.useCallback)((function(e){g((function(t){return(0,_.Z)((0,_.Z)({},t),{},{bank:null===e||void 0===e?void 0:e._id})}))}),[]);return(0,j.jsx)(h.Z,{onClose:t,children:(0,j.jsxs)("div",{className:m.Z.modal_container,children:[(0,j.jsx)(r.Z,{children:(0,j.jsxs)("div",{className:m.Z.modal_container_outer_header,children:[(0,j.jsx)("div",{className:m.Z.modal_container_header,children:(0,j.jsx)("h6",{children:o("admission_fee_statistics_filter")})}),(0,j.jsx)("img",{src:"".concat(v.J7,"/close.svg"),alt:"close icon",onClick:t})]})}),(0,j.jsx)(d.Z,{}),(0,j.jsxs)(r.Z,{customStyle:{paddingTop:"0"},children:[p.activity_status?null:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Z,{fid:n,onSelect:I,onlyDepartment:!0}),(0,j.jsx)(y,{did:p.depart,onSelect:U,onlyBatch:!0})]}),(0,j.jsx)(C,{fid:n,onSelect:R})]}),(0,j.jsx)(f.Z,{label:"filter",onAction:function(){n&&(A((function(e){return!e})),T({fid:n,moduleType:"ADMISSION_VIEW",statisticsBody:p}).then((function(e){i(),t(),A((function(e){return!e}))})).catch({}))}})]}),S&&(0,j.jsx)(u.Z,{})]})})},W=n(1669),$=function(e){var t,n,i,_,h,m,b,p,Z,g,y,N,L=e.fid,S=e.instituteId,A=(0,a.$G)().t,k=(0,s.useState)(""),C=(0,l.Z)(k,2),T=C[0],I=C[1],U=(0,s.useState)([]),R=(0,l.Z)(U,2),M=R[0],Y=R[1],F=(0,x.wL)(),J=(0,l.Z)(F,1)[0],B=(0,s.useState)(!1),V=(0,l.Z)(B,2),P=V[0],H=V[1],$=(0,s.useCallback)((function(){I("")}),[]),G=(0,x.VP)({fid:L,skip:!L}),q=G.financeAdmissionStatics,z=G.financeAdmissionStaticsRefetch,K=G.financeAdmissionStaticsLoading;(0,s.useEffect)((function(){null!==q&&void 0!==q&&q.excel_list&&Y(null===q||void 0===q?void 0:q.excel_list)}),[null===q||void 0===q?void 0:q.excel_list]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(c.Z,{children:[(0,j.jsx)(r.Z,{children:(0,j.jsx)("div",{className:o.Z.fm_header_container,children:(0,j.jsx)("h6",{children:A("admission_fees_statitics")})})}),(0,j.jsx)(d.Z,{}),(0,j.jsxs)(r.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,j.jsxs)("div",{className:o.Z.fm_fs_container,children:[(0,j.jsxs)("h6",{className:o.Z.fm_title_heading,style:{flex:"2 2"},children:[A("apply_filter")," "," : ",null!==q&&void 0!==q&&null!==(t=q.fees_statistics_filter)&&void 0!==t&&null!==(n=t.department_level)&&void 0!==n&&n[0]?"Particular Department, ":"",null!==q&&void 0!==q&&null!==(i=q.fees_statistics_filter)&&void 0!==i&&null!==(_=i.batch_level)&&void 0!==_&&_[0]?"Particular Batch, ":"",null!==q&&void 0!==q&&null!==(h=q.fees_statistics_filter)&&void 0!==h&&null!==(m=h.bank_level)&&void 0!==m&&m[0]?"Particular Bank":""]}),(0,j.jsxs)("div",{className:o.Z.fm_fs_container_inner,style:{flex:"1 1"},children:[(0,j.jsx)(f.Z,{label:"filter",onAction:function(){I("FILTER")},customStyle:{margin:"0"}}),(0,j.jsxs)("div",{className:o.Z.fm_fs_refetch_container,onClick:function(){var e,t,n,l,i,s,a,o,c;!L||null!==q&&void 0!==q&&q.loading_status||(H((function(e){return!e})),J({fid:L,moduleType:"ADMISSION_VIEW",statisticsBody:{activity_status:"",all_depart:"PARTICULAR",batch_status:"PARTICULAR_BATCH",master:[],batch:null!==(e=null===q||void 0===q||null===(t=q.fees_statistics_filter)||void 0===t||null===(n=t.batch_level)||void 0===n?void 0:n[0])&&void 0!==e?e:"",depart:null!==(l=null===q||void 0===q||null===(i=q.fees_statistics_filter)||void 0===i||null===(s=i.department_level)||void 0===s?void 0:s[0])&&void 0!==l?l:"",bank:null!==(a=null===q||void 0===q||null===(o=q.fees_statistics_filter)||void 0===o||null===(c=o.bank_level)||void 0===c?void 0:c[0])&&void 0!==a?a:""}}).then((function(){z(),H((function(e){return!e}))})).catch({}))},children:[null!==q&&void 0!==q&&q.loading_status?(0,j.jsx)("img",{src:"".concat(v.Uw,"/loading.gif"),alt:"refetch icon"}):(0,j.jsx)("img",{src:"".concat(v.J7,"/refresh.svg"),alt:"refetch icon"}),(0,j.jsxs)("div",{className:o.Z.fm_fs_refetch_container_inner,children:[(0,j.jsx)("h6",{children:A("refetch_data")}),(0,j.jsxs)("p",{children:[A("last_updated")," : ",E()().format("DD MMM YYYY"),", ",(0,w.J)(null===q||void 0===q?void 0:q.last_update,"LT")]})]})]})]})]}),K&&(0,j.jsx)(W.Z,{}),(null===M||void 0===M?void 0:M[0])&&(0,j.jsx)(D,{statitics:null===M||void 0===M?void 0:M[0],batchId:null!==(b=null===q||void 0===q||null===(p=q.fees_statistics_filter)||void 0===p||null===(Z=p.batch_level)||void 0===Z?void 0:Z[0])&&void 0!==b?b:"",depart:null!==(g=null===q||void 0===q||null===(y=q.fees_statistics_filter)||void 0===y||null===(N=y.department_level)||void 0===N?void 0:N[0])&&void 0!==g?g:""})]})]}),"FILTER"===T?(0,j.jsx)(O,{onClose:$,fid:L,instituteId:S,onRefetch:z}):null,P&&(0,j.jsx)(u.Z,{})]})},G=function(e){var t=e.fid,n=e.instituteId,s=(0,i.lr)();return"admission"===(0,l.Z)(s,1)[0].get("n")?(0,j.jsx)($,{instituteId:n,fid:t}):(0,j.jsx)(V,{instituteId:n,fid:t})}},82824:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var l=n(99893),i=n.n(l),s=n(97892),a=n.n(s),o=function(e,t){return a().extend(i()),a()(e).format(t)}},99893:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,n,l){var i=n.prototype,s=i.format;l.en.formats=e,i.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var n=this.$locale().formats,l=function(t,n){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,l,i){var s=i&&i.toUpperCase();return l||n[i]||e[i]||n[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))}(t,void 0===n?{}:n);return s.call(this,l)}}}()},47334:function(e,t){"use strict";t.Z={right:"Income_right__0wUUc",rightHead:"Income_rightHead__D2Mxh",rightBody:"Income_rightBody__49F1m",card_container:"Income_card_container__SLQif",invoice_number:"Income_invoice_number__MYawd",sidebarheader:"Income_sidebarheader__tpmpC",student_message_container:"Income_student_message_container__K8cXM",text:"Income_text__m0yK+",rcv:"Income_rcv__j-f3R",income_detail:"Income_income_detail__9CpSg",detailTop:"Income_detailTop__Z-ZzL",detailTopMid:"Income_detailTopMid__+7JtJ",modal_container:"Income_modal_container__li0dw",modal_container_outer_header:"Income_modal_container_outer_header__Y6g6B",modal_container_header:"Income_modal_container_header__bh4sB"}},51723:function(e,t){"use strict";t.Z={ss_table:"StudentStatitics_ss_table__vKxx0",ss_table_header:"StudentStatitics_ss_table_header__6iXFq",ss_table_header_inner:"StudentStatitics_ss_table_header_inner__6P4b-",ss_table_header_inner_height:"StudentStatitics_ss_table_header_inner_height__1b7wh",ss_table_header_inner_fr_center:"StudentStatitics_ss_table_header_inner_fr_center__rPFJe",ss_table_header_h6:"StudentStatitics_ss_table_header_h6__Qybz4",ss_table_header_inner_fr:"StudentStatitics_ss_table_header_inner_fr__MctCS",ss_table_header_inner_fr_inner:"StudentStatitics_ss_table_header_inner_fr_inner__bo0sn",ss_table_header_inner_fr_inner_h6:"StudentStatitics_ss_table_header_inner_fr_inner_h6__yhFoQ",ss_table_header_inner_fr_inner_h6_right:"StudentStatitics_ss_table_header_inner_fr_inner_h6_right__by689",ss_table_minority:"StudentStatitics_ss_table_minority__9YkLT",ss_table_minority_inner:"StudentStatitics_ss_table_minority_inner__1JEN2",fs_table_header:"StudentStatitics_fs_table_header__9Aodh",fs_table_col:"StudentStatitics_fs_table_col__bWz5C",fs_table_header_inner:"StudentStatitics_fs_table_header_inner__U7ViY",fs_table_header_inner_h6:"StudentStatitics_fs_table_header_inner_h6__F9u1p",fs_table_col_inner:"StudentStatitics_fs_table_col_inner__RvbIR",osc_container:"StudentStatitics_osc_container__gHvYi",osc_card:"StudentStatitics_osc_card__-g02L",osc_card_inner:"StudentStatitics_osc_card_inner__0yC2L",osc_container_inner:"StudentStatitics_osc_container_inner__TgksC"}}}]);
//# sourceMappingURL=8139.0aa04640.chunk.js.map