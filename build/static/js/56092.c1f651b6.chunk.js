"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[56092],{70966:(e,s,t)=>{t.d(s,{Z:()=>p});var a=t(97893),l=t(54155),n=t(4899),i=t(77386),d=t(64554),o=t(4567),r=t(59256),c=t(5849),u=t(72791),m=t(97005),v=t(17107),h=(t(91711),t(80184));const p=e=>{let{setPhotoURL:s,photoURL:t,setFile:p,setOpenCrop:x,setUpload:j,setProfilePhoto:g,first:C,second:N}=e;const[b,f]=(0,u.useState)({x:0,y:0}),[S,M]=(0,u.useState)(1),[y,I]=(0,u.useState)(0),[Z,T]=(0,u.useState)(null);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(n.Z,{dividers:!0,sx:{background:"#333",position:"relative",height:400,minWidth:580},children:(0,h.jsx)(m.Z,{image:t,crop:b,zoom:S,rotation:y,aspect:C/N,onZoomChange:M,onRotationChange:I,onCropChange:f,onCropComplete:(e,s)=>{T(s)}})}),(0,h.jsxs)(i.Z,{sx:{flexDirection:"column",mx:3,my:2,width:531},children:[(0,h.jsxs)(d.Z,{sx:{width:"100%",mb:1},children:[(0,h.jsxs)(d.Z,{children:[(0,h.jsxs)(o.Z,{children:["Zoom: ",_(S)]}),(0,h.jsx)(r.ZP,{valueLabelDisplay:"auto",valueLabelFormat:_,min:1,max:3,step:.1,value:S,onChange:(e,s)=>M(s)})]}),(0,h.jsxs)(d.Z,{children:[(0,h.jsxs)(o.Z,{children:["Rotation: ",y+"\xb0"]}),(0,h.jsx)(r.ZP,{valueLabelDisplay:"auto",min:0,max:360,value:y,onChange:(e,s)=>I(s)})]})]}),(0,h.jsxs)(d.Z,{sx:{display:"flex",gap:34,flexWrap:"wrap"},children:[(0,h.jsx)(c.Z,{variant:"outlined",startIcon:(0,h.jsx)(a.Z,{}),onClick:()=>x(!1),children:"Cancel"}),(0,h.jsx)(c.Z,{variant:"contained",startIcon:(0,h.jsx)(l.Z,{}),onClick:async()=>{try{const{file:e,url:a}=await(0,v.ZP)(t,Z,y);s(a),p(e),x(!1),j(!0),g(a)}catch(e){console.log(e)}},children:"Upload"})]})]})]})},_=e=>"".concat(Math.round(100*e),"%")},17107:(e,s,t)=>{t.d(s,{ZP:()=>n});const a=e=>new Promise(((s,t)=>{const a=new Image;a.addEventListener("load",(()=>s(a))),a.addEventListener("error",(e=>t(e))),a.setAttribute("crossOrigin","anonymous"),a.src=e}));function l(e){return e*Math.PI/180}async function n(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{horizontal:!1,vertical:!1};const i=await a(e),d=document.createElement("canvas"),o=d.getContext("2d");if(!o)return null;const r=l(t),{width:c,height:u}=function(e,s,t){const a=l(t);return{width:Math.abs(Math.cos(a)*e)+Math.abs(Math.sin(a)*s),height:Math.abs(Math.sin(a)*e)+Math.abs(Math.cos(a)*s)}}(i.width,i.height,t);d.width=c,d.height=u,o.translate(c/2,u/2),o.rotate(r),o.scale(n.horizontal?-1:1,n.vertical?-1:1),o.translate(-i.width/2,-i.height/2),o.drawImage(i,0,0);const m=o.getImageData(s.x,s.y,s.width,s.height);return d.width=s.width,d.height=s.height,o.putImageData(m,0,0),new Promise(((e,s)=>{d.toBlob((s=>{s.name="cropped.jpeg",e({file:s,url:URL.createObjectURL(s)})}),"image/jpeg")}))}},49384:(e,s,t)=>{t.d(s,{Z:()=>n});t(72791);var a=t(6307),l=t(80184);const n=()=>(0,l.jsx)(a.iT,{ariaLabel:"loading-indicator",height:20,width:20,color:"white",secondaryColor:"#1c023b"})},11105:(e,s,t)=>{t.d(s,{Z:()=>n});t(72791);var a=t(11575),l=t(80184);const n=e=>{let{status:s}=e;return(0,l.jsx)("div",{className:a.Z.loaderGif,children:(0,l.jsx)("img",{src:"white"===s?"/images/loader/loader-bg-white.gif":"/images/loader/loader.gif",alt:"for load an items"})})}},21640:(e,s,t)=>{t.d(s,{Z:()=>c});t(72791);var a=t(29102),l=t(69721),n=t(39230),i=t(70966),d=t(5574),o=t(43504),r=t(80184);const c=function(e){let{coverKey:s,coverId:t,defaultCover:c,textLarge:u,textSmall:m,batchStatus:v,count1:h,count1label:p,count3:_,count2label:x,count2:j,count3label:g,status:C,profilePhoto:N,profileChange:b,openCrop:f,setOpenCrop:S,setPhotoURL:M,photoURL:y,setFile:I,setUpload:Z,setProfilePhoto:T,rollNoStatus:w,rollNo:k,coverUpdate:D,redirectUrl:L,viewAs:P,carryParentState:U,enableLock:q,setPassword:O,openAs:E,coverImageStyle:A,conductor:R,driver:H,pendingFees:F,onOpenFunction:G,isTransport:J}=e;const{t:B}=(0,n.$G)();return(0,r.jsxs)("div",{className:a.Z.unideptmiddlehead,children:[(0,r.jsxs)("div",{className:a.Z.unideptmiddleheadleft,children:[N?(0,r.jsx)("img",{className:a.Z.coverImgg,src:N,alt:""}):t?(0,r.jsx)("img",{className:"2"!==t?a.Z.coverImgg:a.Z.coverImg,src:"2"!==t?"".concat(l.yI,"/").concat(s):c,alt:"",style:A}):(0,r.jsx)("img",{className:a.Z.coverImg,src:c,alt:""}),D&&(0,r.jsx)("label",{htmlFor:"cover",children:(0,r.jsx)("img",{className:a.Z.deptedit,src:"/images/profileAndCover/dept-edit.svg",alt:""})}),(0,r.jsx)("input",{id:"cover",name:"file",onChange:b,type:"file",style:{display:"none"},accept:"image/gif, image/jpeg, image/png",required:!0})]}),(0,r.jsxs)("div",{className:a.Z.unideptmiddleheadright,children:[(0,r.jsxs)("div",{children:["TRANSPORT_MANAGER"===J?(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h6",{className:a.Z.textLarge,children:u}),(0,r.jsxs)("p",{className:a.Z.textSmall,children:[" ",m]})]}),(0,r.jsx)(o.rU,{to:"".concat(L),state:{...U},style:{textDecoration:"none",color:"#fff"},children:(0,r.jsxs)("div",{title:"Update Site Info",children:[(0,r.jsx)("img",{src:"/images/profile/site-globe-icon.svg",alt:"site logo",style:{height:"1.3rem"}}),(0,r.jsx)("span",{style:{marginLeft:"0.6rem"},children:B("site_info")})]})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h6",{className:a.Z.textLarge,children:u}),v&&"true"===v?(0,r.jsxs)("p",{className:a.Z.textSmall,children:[" ",B("batch")," \xa0 ",m]}):(0,r.jsxs)("p",{className:a.Z.textSmall,children:[" ",m]})]}),w&&(0,r.jsxs)("p",{className:a.Z.textSmall,children:[" ",B("roll_no")," \xa0 ",k]}),"VEHICLE_DETAIL"===E&&(0,r.jsx)("div",{className:a.Z.vehicle_info,children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:a.Z.textSmall,style:{marginBottom:"0.1rem"},children:[" ",H]}),(0,r.jsxs)("p",{className:a.Z.textSmall,style:{marginBottom:"0.7rem"},children:[" ",R]}),(0,r.jsxs)("p",{className:a.Z.textSmall,children:[" ",F]})]})})]}),"VEHICLE_DETAIL"===E&&(0,r.jsx)("div",{}),(0,r.jsxs)("div",{className:"insCareer"===C?a.Z.countss:a.Z.counts,style:{justifyContent:"FINANCE_MANAGER"===E?"flex-end":"HOSTEL_MANAGER"===E?"flex-start":"space-between"},children:["STUDENT_HOSTEL"===E?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"insCareer"===C?"".concat(a.Z.countsItem," ").concat(a.Z.countssItem):a.Z.countsItem,children:[(0,r.jsx)("p",{className:a.Z.countlabel,children:p}),(0,r.jsx)("p",{className:a.Z.count,children:h})]}),(0,r.jsxs)("div",{className:"insCareer"===C?"".concat(a.Z.countsItem," ").concat(a.Z.countssItem):a.Z.countsItem,children:[(0,r.jsx)("p",{className:a.Z.countlabel,children:x}),(0,r.jsx)("p",{className:a.Z.count,children:j})]})]}):(0,r.jsxs)(r.Fragment,{children:[h?(0,r.jsxs)("div",{className:"insCareer"===C?"".concat(a.Z.countsItem," ").concat(a.Z.countssItem):a.Z.countsItem,children:[(0,r.jsx)("p",{className:a.Z.count,children:h}),(0,r.jsx)("p",{className:a.Z.countlabel,children:p})]}):null,j?(0,r.jsxs)("div",{className:"insCareer"===C?"".concat(a.Z.countsItem," ").concat(a.Z.countssItem):a.Z.countsItem,children:[(0,r.jsx)("p",{className:a.Z.count,children:j}),(0,r.jsx)("p",{className:a.Z.countlabel,children:x})]}):null]}),_?(0,r.jsxs)("div",{className:"insCareer"===C?"".concat(a.Z.countsItem," ").concat(a.Z.countssItem):a.Z.countsItem,children:[(0,r.jsx)("p",{className:a.Z.count,children:_}),(0,r.jsx)("p",{className:a.Z.countlabel,children:g})]}):null,P&&"FINANCE_MANAGER"!==E&&(0,r.jsx)(o.rU,{to:"".concat(L),state:{...U},style:{textDecoration:"none",color:"#fff"},children:(0,r.jsxs)("div",{title:"Update Site Info",children:[(0,r.jsx)("img",{src:"/images/profile/site-globe-icon.svg",alt:"site logo",style:{height:"1.3rem"}}),(0,r.jsx)("span",{style:{marginLeft:"0.6rem"},children:B("site_info")})]})}),P&&("FINANCE_MANAGER"===E||"ADMISSION_ADMIN"===E)&&(0,r.jsx)("div",{children:(0,r.jsx)("img",{title:"Enable or disable password protection",src:q?"/images/lock-white-icon.svg":"/images/lock-grey-slate-icon.svg",style:{cursor:"pointer"},onClick:()=>O(!0),alt:"lock icon"})})]})]}),f&&(0,r.jsx)(d.Z,{open:f,children:(0,r.jsx)(i.Z,{setPhotoURL:M,photoURL:y,setFile:I,setOpenCrop:S,setUpload:Z,setProfilePhoto:T,first:16,second:9})})]})}},56092:(e,s,t)=>{t.r(s),t.d(s,{default:()=>F});var a=t(72791),l=t(87087),n=t(16871),i=t(69782);const d="SportsClassHeadMiddleContent_MiddleContent__yBStQ",o="SportsClassHeadMiddleContent_MiddleContentLeft__eDozR",r="SportsClassHeadMiddleContent_tabs__yZWoq",c="Tabs_mcqToptabs__i3BvL",u="Tabs_mcqTop__ozPiS",m="Tabs_mcqTopItem__+U3du",v="Tabs_active__kJlby";var h=t(39230),p=t(43504),_=t(80184);const x=e=>{let{carryParentState:s,activeTab:t,customStyleOfLink:a,children:l}=e;const i=(0,n.UO)();return(0,_.jsx)(p.rU,{to:"/q/".concat(i.username,"/member/sport/class/").concat(i.cname).concat(t?"?a=".concat(t):""),state:{...s},style:{...a},children:l})};const j=function(e){let{carryParentState:s,activeUrl:t}=e;const{t:a}=(0,h.$G)();return(0,_.jsx)("div",{className:u,children:(0,_.jsxs)("div",{className:c,children:[(0,_.jsx)(x,{carryParentState:s,customStyleOfLink:{width:"50%"},children:(0,_.jsx)("div",{className:"teams"!==(null===t||void 0===t?void 0:t.substring(3))?"".concat(m," ").concat(v):m,children:a("members")})}),(0,_.jsx)(x,{carryParentState:s,activeTab:"teams",customStyleOfLink:{width:"50%"},children:(0,_.jsx)("div",{className:"teams"===(null===t||void 0===t?void 0:t.substring(3))?"".concat(m," ").concat(v):m,children:a("teams")})})]})})},g={addDisplay:"CreateSoprtClassMemberNew_addDisplay__xbbzT",title:"CreateSoprtClassMemberNew_title__UONxl",content:"CreateSoprtClassMemberNew_content__d6Iac",contentTop:"CreateSoprtClassMemberNew_contentTop__lXVVr",studentItem:"CreateSoprtClassMemberNew_studentItem__-5h3O",studentItemContainer:"CreateSoprtClassMemberNew_studentItemContainer__IeXNQ",stext:"CreateSoprtClassMemberNew_stext__bWPu4",checkbox:"CreateSoprtClassMemberNew_checkbox__q8pGH",footer:"CreateSoprtClassMemberNew_footer__nw3-t",btn:"CreateSoprtClassMemberNew_btn__6E4mm",btnActive:"CreateSoprtClassMemberNew_btnActive__kit1Z",searchContainer:"CreateSoprtClassMemberNew_searchContainer__bVqyY"};var C=t(5574),N=t(69721),b=t(70675),f=t(49384);function S(e){let{student:s,studentData:t,setStudentData:a}=e;const{t:l}=(0,h.$G)();return(0,_.jsxs)("div",{className:g.studentItemContainer,children:[(0,_.jsxs)("div",{className:g.studentItem,children:[(0,_.jsx)("img",{alt:"",src:"1"!==(null===s||void 0===s?void 0:s.photoId)?"".concat(N.yI,"/").concat(null===s||void 0===s?void 0:s.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,_.jsxs)("div",{className:g.stext,children:[(0,_.jsxs)("h6",{children:[null===s||void 0===s?void 0:s.studentFirstName," ",null===s||void 0===s?void 0:s.studentMiddleName,null===s||void 0===s?void 0:s.studentLastName]}),(0,_.jsxs)("p",{children:[l("gr_no")," : ",null===s||void 0===s?void 0:s.studentGRNO]})]})]}),t.students.includes(null===s||void 0===s?void 0:s._id)?(0,_.jsx)("img",{id:"check",className:g.checkbox,src:"/images/checkbox-icon.svg",alt:"",onClick:()=>(e=>{let s=t.students;const l=s.indexOf(e);l>-1&&s.splice(l,1),a({...t,students:s})})(null===s||void 0===s?void 0:s._id)}):(0,_.jsx)("img",{id:"check",className:g.checkbox,src:"/images/box-icon.svg",alt:"",onClick:()=>(e=>{const s=t.students;s.push(e),a({...t,students:s})})(null===s||void 0===s?void 0:s._id)})]})}const M=function(e){var s,t,l;let{openModal:n,hideModal:i,insId:d,cid:o,classMembers:r,refetch:c,studentIDs:u}=e;const{studentApprovedArray:m}=(0,b.rW)({insId:d,skip:!d}),[v,p]=(0,a.useState)([]),{t:x}=(0,h.$G)(),[j,N]=(0,a.useState)(""),[M,y]=(0,a.useState)({students:[]}),[I]=(0,b.zw)(),[Z,T]=(0,a.useState)(!1);return console.info(m),(0,_.jsx)(C.Z,{open:n,children:(0,_.jsxs)("div",{className:g.addDisplay,children:[(0,_.jsxs)("div",{className:g.title,children:[(0,_.jsx)("h6",{children:x("add_members")}),(0,_.jsx)("img",{src:"/images/close-post-icon.svg",onClick:()=>i(!1)})]}),(0,_.jsxs)("div",{className:g.content,children:[(0,_.jsxs)("div",{className:g.contentTop,children:[(0,_.jsxs)("div",{className:g.searchContainer,children:[(0,_.jsx)("img",{alt:"",src:"/images/search-dept-icon.svg"}),(0,_.jsx)("input",{value:j,onChange:e=>N(e.target.value),type:"text",placeholder:x("search-label"),required:!0})]}),(0,_.jsxs)("p",{children:[null===(s=M.students)||void 0===s?void 0:s.length," ",x("selected_")," "]})]}),null===m||void 0===m||null===(t=m.studentIns)||void 0===t||null===(l=t.filter((e=>{var s,t;return""!==j||null!==u&&void 0!==u&&u.includes(null===e||void 0===e?void 0:e._id)?null!==e&&void 0!==e&&null!==(s=e.studentFirstName)&&void 0!==s&&s.toLowerCase().includes(j.toLocaleLowerCase())&&(null===u||void 0===u||!u.includes(null===e||void 0===e?void 0:e._id))||(null===u||void 0===u||!u.includes(null===e||void 0===e?void 0:e._id))&&null!==e&&void 0!==e&&null!==(t=e.studentGRNO)&&void 0!==t&&t.toLowerCase().includes(j.toLocaleLowerCase())?e:void 0:e})))||void 0===l?void 0:l.map(((e,s)=>(0,_.jsx)(S,{student:e,studentData:M,setStudentData:y},s)))]}),(0,_.jsx)("div",{className:g.footer,children:M.students.length>0?(0,_.jsxs)("button",{disabled:!!Z,className:"".concat(g.btn," ").concat(g.btnActive),onClick:()=>{T(!0),I({cid:o,request:M.students}).then((e=>{T(!1),console.info(e.data),i(!1),c()}))},children:[(0,_.jsx)("p",{children:x("add_")}),Z&&(0,_.jsx)(f.Z,{})]}):(0,_.jsxs)("div",{className:g.btn,children:[" ",(0,_.jsx)("p",{children:x("add_")})," "]})})]})})},y={eventstop:"SportsClassMembers_eventstop__KxNCC",sportsHeadEvents:"SportsClassMembers_sportsHeadEvents__JzTrv",eventstopTab:"SportsClassMembers_eventstopTab__MsUjv",eventBlue:"SportsClassMembers_eventBlue__FD2UQ",activeTab:"SportsClassMembers_activeTab__jtvwX",eventsbody:"SportsClassMembers_eventsbody__L2sEX",ongoingEvents:"SportsClassMembers_ongoingEvents__2V+EM",card:"SportsClassMembers_card__ipjGD",texttt:"SportsClassMembers_texttt__WCSBf",span1:"SportsClassMembers_span1__ei1nY",span2:"SportsClassMembers_span2__i6QG-",memberItemContainer:"SportsClassMembers_memberItemContainer__J8LPe",remove:"SportsClassMembers_remove__vTp-3",memberItem:"SportsClassMembers_memberItem__OYuZ+",memberItemText:"SportsClassMembers_memberItemText__l7HhN",searchbarContainer:"SportsClassMembers_searchbarContainer__+1a-0",searchbar:"SportsClassMembers_searchbar__cFkYr",searchinput:"SportsClassMembers_searchinput__SNfJu",loader:"SportsClassMembers_loader__67JLq",noData:"SportsClassMembers_noData__XoIsI"};var I=t(23441),Z=t(11105);function T(e){let{member:s,cid:t,refetch:l}=e;const[n,i]=(0,a.useState)(!1),{t:d}=(0,h.$G)(),[o]=(0,b.Vj)();return(0,_.jsx)(_.Fragment,{children:n?(0,_.jsx)(Z.Z,{}):(0,_.jsxs)("div",{className:y.memberItemContainer,children:[(0,_.jsxs)("div",{className:y.memberItem,children:[(0,_.jsx)("img",{src:"1"!==(null===s||void 0===s?void 0:s.photoId)?"".concat(N.yI,"/").concat(null===s||void 0===s?void 0:s.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""}),(0,_.jsx)("div",{className:y.memberItemText,children:(0,_.jsxs)("h6",{children:[null===s||void 0===s?void 0:s.studentFirstName," ",null===s||void 0===s?void 0:s.studentMiddleName," ",null===s||void 0===s?void 0:s.studentLastName]})})]}),(0,_.jsx)("p",{className:y.remove,onClick:()=>{i(!0),o({cid:t,remove:[null===s||void 0===s?void 0:s._id]}).then((e=>{i(!1),l()}))},children:d("remove")})]})})}const w=function(e){var s;let{cid:t,insId:l}=e;const[n,i]=(0,a.useState)(!1),[d,o]=(0,a.useState)([]),{t:r}=(0,h.$G)(),[c,u]=(0,a.useState)(1),[m,v]=(0,I.YD)(),[p,x]=(0,a.useState)(!0),[j,g]=(0,a.useState)(!1),[C,N]=(0,a.useState)(!1),[f,S]=(0,a.useState)(!0),{SportClassStudentList:w,SportClassStudentListRefetch:k}=(0,b.TS)({data:{cid:t,page:c},skip:!t});let D=null===d||void 0===d?void 0:d.map((e=>null===e||void 0===e?void 0:e._id));(0,a.useEffect)((()=>{v&&p&&u((e=>e+1))}),[v,p]),(0,a.useEffect)((()=>{t&&(S(!0),k())}),[c,t,k]),(0,a.useEffect)((()=>{var e;if(j)o((e=>{var s,t;return null===(s=[...new Set(null===(t=[...null===w||void 0===w?void 0:w.student_query,...e])||void 0===t?void 0:t.map(JSON.stringify))])||void 0===s?void 0:s.map(JSON.parse)})),S(!1),g(!1);else if(C)o((e=>{var s,t;return null===(s=[...new Set(null===(t=[...null===w||void 0===w?void 0:w.student_query])||void 0===t?void 0:t.map(JSON.stringify))])||void 0===s?void 0:s.map(JSON.parse)})),S(!1),N(!1);else{var s;null!==w&&void 0!==w&&w.student_query?(o((e=>{var s,t;return null===(s=[...new Set(null===(t=[...e,...null===w||void 0===w?void 0:w.student_query])||void 0===t?void 0:t.map(JSON.stringify))])||void 0===s?void 0:s.map(JSON.parse)})),S(!1)):0===(null===w||void 0===w||null===(s=w.student_query)||void 0===s?void 0:s.length)&&S(!1)}10===(null===w||void 0===w||null===(e=w.student_query)||void 0===e?void 0:e.length)?x(!0):x(!1)}),[null===w||void 0===w?void 0:w.student_query]);const L=()=>{u(1),N(!0),S(!0),k()};return(0,_.jsxs)("div",{className:y.sportsHeadEvents,children:[(0,_.jsxs)("div",{className:y.eventstop,children:[(0,_.jsx)("div",{className:y.searchbarContainer,children:(0,_.jsxs)("div",{className:y.searchbar,children:[(0,_.jsx)("input",{type:"text",placeholder:r("search-label"),name:"search",className:"form-control ".concat(y.searchinput)}),(0,_.jsx)("img",{alt:"img",src:"/images/search-dash-icon.svg"})]})}),(0,_.jsx)("div",{className:"".concat(y.eventstopTab," ").concat(y.eventBlue),onClick:()=>i(!0),children:r("add_members")})]}),(0,_.jsxs)("div",{className:y.eventsbody,children:[null===d||void 0===d?void 0:d.map(((e,s)=>(null===d||void 0===d||d.length,(0,_.jsx)("div",{ref:m,children:(0,_.jsx)(T,{member:e,cid:t,refetch:L})},s)))),f&&(0,_.jsx)(Z.Z,{}),!f&&0===(null===w||void 0===w||null===(s=w.student_query)||void 0===s?void 0:s.length)&&(0,_.jsx)("div",{className:y.noData,children:r("no_student")})]}),n&&(0,_.jsx)(M,{openModal:n,hideModal:e=>i(e),insId:l,cid:t,classMembers:d,refetch:L,studentIDs:D})]})},k={sports:"SportsClassTeams_sports__Vx+bn",item:"SportsClassTeams_item__Xpxnq",eventstop:"SportsClassTeams_eventstop__TOQp1",eventBlue:"SportsClassTeams_eventBlue__3aZ3A",card:"SportsClassTeams_card__6GL4r",texttt:"SportsClassTeams_texttt__lzICR",span1:"SportsClassTeams_span1__E-9X2",span2:"SportsClassTeams_span2__lsUQ0",eventsMid:"SportsClassTeams_eventsMid__NfGRs",loader:"SportsClassTeams_loader__f2BBg",noData:"SportsClassTeams_noData__G2esz"},D={addDisplay:"CreateTeamModal_addDisplay__8hiOt",title:"CreateTeamModal_title__BGL6r",content:"CreateTeamModal_content__HN32d",input:"CreateTeamModal_input__Um7hC",selectCount:"CreateTeamModal_selectCount__oFCW0",selectCount2:"CreateTeamModal_selectCount2__BVstU",blueCount:"CreateTeamModal_blueCount__XnG+B",item:"CreateTeamModal_item__-Sgjn",subItem:"CreateTeamModal_subItem__9lVOb",itemtext:"CreateTeamModal_itemtext__t+b9J",items:"CreateTeamModal_items__BXJXu",itemsrow:"CreateTeamModal_itemsrow__-jY-F",counts:"CreateTeamModal_counts__vI6lr",checkbox:"CreateTeamModal_checkbox__YCpE-",addDisplayTop:"CreateTeamModal_addDisplayTop__WtZZn",footer:"CreateTeamModal_footer__hCXt+",btn:"CreateTeamModal_btn__5VUnb",upload:"CreateTeamModal_upload__vtc-I",btnActive:"CreateTeamModal_btnActive__nptB8",blobImg:"CreateTeamModal_blobImg__scGgE"};var L=t(94721);function P(e){let{student:s,teamdata:t,setTeamData:a}=e;const{t:l}=(0,h.$G)();return(0,_.jsxs)("div",{className:D.item,children:[(0,_.jsxs)("div",{className:D.subItem,children:[(0,_.jsx)("img",{alt:"",src:null!==s&&void 0!==s&&s.studentProfilePhoto?"".concat(N.yI,"/").concat(null===s||void 0===s?void 0:s.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,_.jsxs)("div",{className:D.itemtext,children:[(0,_.jsx)("div",{className:D.insName,children:(0,_.jsxs)("h6",{children:[null===s||void 0===s?void 0:s.studentFirstName," ",null!==s&&void 0!==s&&s.studentMiddleName?null===s||void 0===s?void 0:s.studentMiddleName:" "," ",null===s||void 0===s?void 0:s.studentLastName]})}),(0,_.jsxs)("p",{className:D.insUserName,children:["GR No. ",null===s||void 0===s?void 0:s.studentGRNO]})]})]}),t.request.includes(null===s||void 0===s?void 0:s._id)?(0,_.jsx)("img",{id:"check",className:D.checkbox,src:"/images/checkbox-icon.svg",alt:"",onClick:()=>{const e=t.request,l=t.players.filter((e=>(null===e||void 0===e?void 0:e._id)!==(null===s||void 0===s?void 0:s._id))),n=e.indexOf(null===s||void 0===s?void 0:s._id);n>-1&&e.splice(n,1),a({...t,request:e,players:l})}}):(0,_.jsx)("img",{id:"check",className:D.checkbox,src:"/images/box-icon.svg",alt:"",onClick:()=>{const e=t.request,l=t.players;e.push(null===s||void 0===s?void 0:s._id),l.push(s),a({...t,request:e,players:l})}})]})}const U=function(e){var s,t,l,n,i,d,o,r,c;let{openModal:u,hideModal:m,insId:v,cid:p,teamrefetch:x}=e;const{t:j}=(0,h.$G)(),[g,S]=(0,a.useState)([]),[M,y]=(0,a.useState)(1),[T,w]=(0,I.YD)(),[k,U]=(0,a.useState)(!0),[q,O]=(0,a.useState)(!1),[E,A]=(0,a.useState)(!1),[R,H]=(0,a.useState)(!0),[F,G]=(0,a.useState)(""),[J,B]=(0,a.useState)(0),[V]=(0,b.wV)(),[X,Y]=(0,a.useState)(!1),[$,z]=a.useState(!1),[Q,W]=(0,a.useState)({file:{},sportClassTeamName:"",captain:"",captainn:{},request:[],players:[]}),{SportClassStudentList:K,SportClassStudentListRefetch:ee}=(0,b.TS)({data:{cid:p,page:M},skip:!p});return(0,a.useEffect)((()=>{w&&k&&y((e=>e+1))}),[w,k]),(0,a.useEffect)((()=>{p&&(H(!0),ee())}),[M,p,ee]),(0,a.useEffect)((()=>{var e;if(q)S((e=>{var s,t;return null===(s=[...new Set(null===(t=[...null===K||void 0===K?void 0:K.student_query,...e])||void 0===t?void 0:t.map(JSON.stringify))])||void 0===s?void 0:s.map(JSON.parse)})),H(!1),O(!1);else if(E)S((e=>{var s,t;return null===(s=[...new Set(null===(t=[...null===K||void 0===K?void 0:K.student_query])||void 0===t?void 0:t.map(JSON.stringify))])||void 0===s?void 0:s.map(JSON.parse)})),H(!1),A(!1);else{var s;null!==K&&void 0!==K&&K.student_query?(S((e=>{var s,t;return null===(s=[...new Set(null===(t=[...e,...null===K||void 0===K?void 0:K.student_query])||void 0===t?void 0:t.map(JSON.stringify))])||void 0===s?void 0:s.map(JSON.parse)})),H(!1)):0===(null===K||void 0===K||null===(s=K.student_query)||void 0===s?void 0:s.length)&&H(!1)}10===(null===K||void 0===K||null===(e=K.student_query)||void 0===e?void 0:e.length)?U(!0):U(!1)}),[null===K||void 0===K?void 0:K.student_query]),(0,_.jsx)(C.Z,{open:u,children:(0,_.jsxs)("div",{className:D.addDisplay,children:[1===J&&(0,_.jsxs)("div",{children:[(0,_.jsxs)("div",{className:D.title,children:[(0,_.jsx)("img",{src:"/images/left-nav-icon.svg",onClick:()=>B(0)}),(0,_.jsx)("h6",{children:j("add_members")}),(0,_.jsx)("div",{})]}),(0,_.jsxs)("div",{className:D.content,children:[(0,_.jsxs)("div",{className:D.counts,children:[(0,_.jsxs)("p",{children:[Q.request.length," selected"]}),(0,_.jsx)("p",{style:{cursor:"pointer"},onClick:()=>{const e=[],s=[];for(var t=0;t<g.length;t++)e.push(g[t]._id),s.push(g[t]);W({...Q,request:e,players:s}),z(!0)},children:j("select_all")})]}),(0,_.jsxs)("div",{className:D.items,children:[null===g||void 0===g?void 0:g.map(((e,s)=>(null===g||void 0===g?void 0:g.length)===s+1?(0,_.jsxs)("div",{children:[(0,_.jsx)(P,{student:e,teamdata:Q,setTeamData:W,selectAll:$,setSelectAll:z}),(0,_.jsx)(L.Z,{})]},s):(0,_.jsxs)("div",{ref:T,children:[(0,_.jsx)(P,{student:e,teamdata:Q,setTeamData:W,selectAll:$,setSelectAll:z}),(0,_.jsx)(L.Z,{})]},s))),R&&(0,_.jsx)(Z.Z,{})]})]})]}),2===J&&(0,_.jsxs)("div",{children:[(0,_.jsxs)("div",{className:D.title,children:[(0,_.jsx)("img",{src:"/images/left-nav-icon.svg",onClick:()=>B(0)}),(0,_.jsx)("h6",{children:j("select_captain")}),(0,_.jsx)("div",{})]}),(0,_.jsx)("div",{className:D.content,children:(0,_.jsx)("div",{className:D.items,children:null===Q||void 0===Q||null===(s=Q.players)||void 0===s?void 0:s.map(((e,s)=>(0,_.jsxs)("div",{onClick:()=>{W({...Q,captain:null===e||void 0===e?void 0:e._id,captainn:e}),B(0)},children:[(0,_.jsx)("div",{className:D.item,children:(0,_.jsxs)("div",{className:D.subItem,children:[(0,_.jsx)("img",{alt:"",src:null!==e&&void 0!==e&&e.studentProfilePhoto?"".concat(N.yI,"/").concat(null===e||void 0===e?void 0:e.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,_.jsxs)("div",{className:D.itemtext,children:[(0,_.jsx)("div",{className:D.insName,children:(0,_.jsxs)("h6",{children:[null===e||void 0===e?void 0:e.studentFirstName," ",null!==e&&void 0!==e&&e.studentMiddleName?null===e||void 0===e?void 0:e.studentMiddleName:" "," ",null===e||void 0===e?void 0:e.studentLastName]})}),(0,_.jsxs)("p",{className:D.insUserName,children:[j("gr_no")," ",null===e||void 0===e?void 0:e.studentGRNO]})]})]})}),(0,_.jsx)(L.Z,{})]},s)))})})]}),0===J&&(0,_.jsxs)("div",{children:[(0,_.jsxs)("div",{className:D.title,children:[(0,_.jsx)("div",{}),(0,_.jsx)("h6",{children:j("create_new_team")}),(0,_.jsx)("img",{src:"/images/close-post-icon.svg",onClick:()=>m(!1)})]}),(0,_.jsxs)("div",{className:D.content,children:[(0,_.jsxs)("div",{className:D.input,children:[(0,_.jsx)("h6",{children:j("team_name")}),(0,_.jsx)("input",{type:"text",value:Q.sportClassTeamName,onChange:e=>{W({...Q,sportClassTeamName:e.target.value})},required:!0,placeholder:j("please_enter_team_name")})]}),(0,_.jsxs)("div",{className:D.selectCount,children:[(0,_.jsxs)("p",{children:[Q.request.length," Selected"]}),(0,_.jsx)("p",{className:D.blueCount,onClick:()=>B(1),children:j("add_members")})]}),""!==Q.captain?(0,_.jsxs)("div",{className:D.selectCount,children:[(0,_.jsxs)("div",{className:D.subItem,children:[(0,_.jsx)("img",{alt:"",src:null!==Q&&void 0!==Q&&null!==(t=Q.captainn)&&void 0!==t&&t.studentProfilePhoto?"".concat(N.yI,"/").concat(null===Q||void 0===Q||null===(l=Q.captainn)||void 0===l?void 0:l.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,_.jsxs)("div",{className:D.itemtext,children:[(0,_.jsx)("div",{className:D.insName,children:(0,_.jsxs)("h6",{children:[null===Q||void 0===Q||null===(n=Q.captainn)||void 0===n?void 0:n.studentFirstName," ",null!==Q&&void 0!==Q&&null!==(i=Q.captainn)&&void 0!==i&&i.studentMiddleName?null===Q||void 0===Q||null===(d=Q.captainn)||void 0===d?void 0:d.studentMiddleName:" "," ",null===Q||void 0===Q||null===(o=Q.captainn)||void 0===o?void 0:o.studentLastName]})}),(0,_.jsxs)("p",{className:D.insUserName,children:[j("gr_no")," ",null===Q||void 0===Q||null===(r=Q.captainn)||void 0===r?void 0:r.studentGRNO]})]})]}),(0,_.jsx)("p",{className:D.blueCount,children:j("captain")})]}):Q.request.length>0?(0,_.jsx)("div",{className:D.selectCount2,onClick:()=>B(2),children:(0,_.jsx)("p",{className:D.blueCount,children:j("select_captain")})}):"",(0,_.jsxs)("div",{className:D.selectCount,children:[(0,_.jsx)("p",{children:j("add_team_photo")}),(0,_.jsx)("label",{htmlFor:"document",style:{cursor:"pointer"},children:(0,_.jsx)("p",{className:D.blueCount,children:"Select File"})}),(0,_.jsx)("input",{className:D.upload,multiple:!0,id:"document",name:"file",onChange:e=>{W({...Q,file:e.target.files[0]}),G(URL.createObjectURL(e.target.files[0]))},type:"file",accept:"image/jpeg, image/png"})]}),""!==F&&(0,_.jsx)("img",{className:D.blobImg,src:F})]}),(0,_.jsx)("div",{className:D.footer,children:null!==(c=Q.file)&&void 0!==c&&c.name&&Q.sportClassTeamName&&(null===Q||void 0===Q?void 0:Q.request.length)>0?(0,_.jsxs)("button",{disabled:!!X,className:"".concat(D.btn," ").concat(D.btnActive),onClick:()=>{Y(!0);const e=new FormData;e.append("file",Q.file),e.append("sportClassTeamName",Q.sportClassTeamName),e.append("captain",Q.captain),e.append("request",JSON.stringify(Q.request)),e.append("cid",p),V(e).then((e=>{e.data.status&&(m(!1),x())})).catch((e=>{}))},children:[(0,_.jsx)("p",{children:j("create")}),X&&(0,_.jsx)(f.Z,{})]}):(0,_.jsxs)("div",{className:D.btn,children:[" ",(0,_.jsx)("p",{children:j("create")})," "]})})]})]})})};function q(e){let{team:s,setClickEvent:t,sport:a}=e;const{t:l}=(0,h.$G)();return(0,_.jsxs)("div",{className:k.card,onClick:()=>{},children:[(0,_.jsx)("img",{src:"1"===(null===s||void 0===s?void 0:s.photoId)?"".concat(N.yI,"/").concat(null===s||void 0===s?void 0:s.sportTeamPhoto):"/images/ins-image.jpg",alt:""}),(0,_.jsxs)("div",{className:k.texttt,children:[(0,_.jsx)("p",{children:(0,_.jsx)("span",{className:k.span1,children:null===s||void 0===s?void 0:s.sportClassTeamName})}),(0,_.jsxs)("p",{children:[" ",l("total_team_member")," : ",null===s||void 0===s?void 0:s.sportTeamStudentCount]}),(0,_.jsxs)("p",{children:[" ",l("total_team_points")," : ",null===s||void 0===s?void 0:s.teamPoints]})]})]})}const O=function(e){var s;let{cid:t,classMembers:l,insId:n}=e;const[i,d]=(0,a.useState)(!1),{t:o}=(0,h.$G)(),[r,c]=(0,a.useState)([]),[u,m]=(0,a.useState)(1),[v,p]=(0,I.YD)(),[x,j]=(0,a.useState)(!0),[g,C]=(0,a.useState)(!1),[N,f]=(0,a.useState)(!1),[S,M]=(0,a.useState)(!0),{SportClassTeamList:y,SportClassTeamListRefetch:T}=(0,b.nE)({data:{cid:t,page:u},skip:!t});(0,a.useEffect)((()=>{p&&x&&m((e=>e+1))}),[p,x]),(0,a.useEffect)((()=>{t&&(M(!0),T())}),[u,t,T]),(0,a.useEffect)((()=>{var e;if(g)c((e=>{var s,t;return null===(s=[...new Set(null===(t=[...null===y||void 0===y?void 0:y.team_query,...e])||void 0===t?void 0:t.map(JSON.stringify))])||void 0===s?void 0:s.map(JSON.parse)})),M(!1),C(!1);else if(N)c((e=>{var s,t;return null===(s=[...new Set(null===(t=[...null===y||void 0===y?void 0:y.team_query])||void 0===t?void 0:t.map(JSON.stringify))])||void 0===s?void 0:s.map(JSON.parse)})),M(!1),f(!1);else{var s;null!==y&&void 0!==y&&y.team_query?(c((e=>{var s,t;return null===(s=[...new Set(null===(t=[...e,...null===y||void 0===y?void 0:y.team_query])||void 0===t?void 0:t.map(JSON.stringify))])||void 0===s?void 0:s.map(JSON.parse)})),M(!1)):0===(null===y||void 0===y||null===(s=y.team_query)||void 0===s?void 0:s.length)&&M(!1)}10===(null===y||void 0===y||null===(e=y.team_query)||void 0===e?void 0:e.length)?j(!0):j(!1)}),[null===y||void 0===y?void 0:y.team_query]);const w=()=>{m(1),f(!0),M(!0),T()};return(0,_.jsxs)("div",{className:k.sports,children:[(0,_.jsxs)("div",{className:k.eventstop,children:[(0,_.jsxs)("h6",{className:"".concat(k.eventstopTab," "),children:[o("total_teams"),": ",null===r||void 0===r?void 0:r.length]}),(0,_.jsx)("h6",{className:"".concat(k.eventstopTab," ").concat(k.eventBlue),onClick:()=>d(!0),children:o("create_new_team")})]}),(0,_.jsxs)("div",{className:k.eventsMid,children:[null===r||void 0===r?void 0:r.map(((e,s)=>(null===r||void 0===r?void 0:r.length)===s+1?(0,_.jsx)("div",{ref:v,children:(0,_.jsx)(q,{team:e,refetch:w})},s):(0,_.jsx)("div",{children:(0,_.jsx)(q,{team:e,refetch:w})},s))),S&&(0,_.jsx)(Z.Z,{}),!S&&0===(null===y||void 0===y||null===(s=y.team_query)||void 0===s?void 0:s.length)&&(0,_.jsx)("div",{className:k.noData,children:o("no_team_found")})]}),i&&(0,_.jsx)(U,{insId:n,openModal:i,hideModal:e=>d(e),classMembers:l,cid:t,teamrefetch:w})]})};const E=function(e){let{cid:s,classTeams:t,insId:a,classProfileRefetch:l,carryParentState:i}=e;const c=(0,n.TH)();return(0,_.jsx)("div",{className:d,children:(0,_.jsxs)("div",{className:o,children:[(0,_.jsx)("div",{className:r,children:(0,_.jsx)(j,{activeUrl:null===c||void 0===c?void 0:c.search,carryParentState:i})}),!(null!==c&&void 0!==c&&c.search)&&(0,_.jsx)(w,{cid:s,insId:a,classProfileRefetch:l}),(null===c||void 0===c?void 0:c.search)&&(0,_.jsx)(O,{cid:s,classTeams:t,insId:a})]})})};var A=t(21640),R=t(85006);const H=function(e){var s,t,l,n,i,d,o,r,c,u,m,v,p,x,j,g,C,N;let{sportClassId:f,carryParentState:S}=e;const{t:M}=(0,h.$G)(),{sportsClassDetails:y,sportsClassDetailsRefetch:I}=(0,b.o8)({sportClassId:f,skip:!f}),[Z,T]=(0,a.useState)(""),[w,k]=(0,a.useState)(""),[D,L]=(0,a.useState)(!1),[P,U]=(0,a.useState)(!1),[q,O]=(0,a.useState)(""),[H]=(0,R.mY)();return(0,a.useEffect)((()=>{f&&I()}),[f,I]),(0,a.useEffect)((()=>{if(P){let e=new FormData;e.append("file",w),H({cover:e,sid:f}).then((e=>{})).catch({})}}),[P,w]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(A.Z,{coverKey:null===y||void 0===y||null===(s=y.classes)||void 0===s?void 0:s.cover,coverId:null===y||void 0===y||null===(t=y.classes)||void 0===t?void 0:t.coverId,defaultCover:"/images/profileAndCover/sports-class-cover.png",textLarge:null===y||void 0===y||null===(l=y.classes)||void 0===l?void 0:l.sportClassName,textSmall:"".concat(null===y||void 0===y||null===(n=y.classes)||void 0===n||null===(i=n.sportClassHead)||void 0===i?void 0:i.staffFirstName," \n        ").concat(null!==y&&void 0!==y&&null!==(d=y.classes)&&void 0!==d&&null!==(o=d.sportClassHead)&&void 0!==o&&o.staffMiddleName?null===y||void 0===y||null===(r=y.classes)||void 0===r||null===(c=r.sportClassHead)||void 0===c?void 0:c.staffMiddleName:""," \n        ").concat(null===y||void 0===y||null===(u=y.classes)||void 0===u||null===(m=u.sportClassHead)||void 0===m?void 0:m.staffLastName),count1:null===y||void 0===y||null===(v=y.classes)||void 0===v?void 0:v.sportStudentCount,count1label:M("members"),count2:null===y||void 0===y||null===(p=y.classes)||void 0===p?void 0:p.sportTeamCount,count2label:M("teams"),profilePhoto:q,profileChange:e=>{const s=URL.createObjectURL(e.target.files[0]);k(e.target.files[0]),O(s),T(s),L(!0)},openCrop:D,setOpenCrop:L,setPhotoURL:T,photoURL:Z,setFile:k,setUpload:U,setProfilePhoto:O}),(0,_.jsx)(E,{cid:null===y||void 0===y||null===(x=y.classes)||void 0===x?void 0:x._id,classMembers:null===y||void 0===y||null===(j=y.classes)||void 0===j?void 0:j.sportStudent,classTeams:null===y||void 0===y||null===(g=y.classes)||void 0===g?void 0:g.sportTeam,insId:null===y||void 0===y||null===(C=y.classes)||void 0===C||null===(N=C.institute)||void 0===N?void 0:N._id,classProfileRefetch:I,carryParentState:S})]})},F=()=>{var e,s,t,a,d,o,r;const c=(0,n.TH)();return(0,_.jsx)(l.Z,{index:"7",sid:null!==(e=null===c||void 0===c||null===(s=c.state)||void 0===s?void 0:s.sid)&&void 0!==e?e:"",onClickValue:null!==(t=null===c||void 0===c||null===(a=c.state)||void 0===a?void 0:a.onClickValue)&&void 0!==t?t:"",children:(0,_.jsx)("div",{className:i.Z.departmenthead,children:(0,_.jsx)(H,{sportClassId:null!==(d=null===c||void 0===c||null===(o=c.state)||void 0===o||null===(r=o.onClickValue)||void 0===r?void 0:r._id)&&void 0!==d?d:"",carryParentState:null===c||void 0===c?void 0:c.state})})})}},85006:(e,s,t)=>{t.d(s,{Gf:()=>n,mY:()=>l});var a=t(95229);const l=()=>{const[e]=(0,a.CY)();return[e]},n=()=>{const[e]=(0,a.pj)();return[e]}},91711:()=>{},29102:(e,s,t)=>{t.d(s,{Z:()=>a});const a={unideptmiddlehead:"UniversalDepartmentMiddleHead_unideptmiddlehead__CSQZG",unideptmiddleheadleft:"UniversalDepartmentMiddleHead_unideptmiddleheadleft__VaSQ3",coverImg:"UniversalDepartmentMiddleHead_coverImg__brAXH",coverImgg:"UniversalDepartmentMiddleHead_coverImgg__9s74I",unideptmiddleheadright:"UniversalDepartmentMiddleHead_unideptmiddleheadright__K9L-S",textLarge:"UniversalDepartmentMiddleHead_textLarge__FNwZE",textSmall:"UniversalDepartmentMiddleHead_textSmall__S2RT-",counts:"UniversalDepartmentMiddleHead_counts__-hBmu",countsItem:"UniversalDepartmentMiddleHead_countsItem__xSC5v",countssItem:"UniversalDepartmentMiddleHead_countssItem__ltSKJ",count:"UniversalDepartmentMiddleHead_count__7K9DI",countlabel:"UniversalDepartmentMiddleHead_countlabel__PVFOc",deptedit:"UniversalDepartmentMiddleHead_deptedit__vo8Ck",vehicle_info:"UniversalDepartmentMiddleHead_vehicle_info__1ubEQ",vehicle_icon_container:"UniversalDepartmentMiddleHead_vehicle_icon_container__ovJex",vehicle_icon_container_inner:"UniversalDepartmentMiddleHead_vehicle_icon_container_inner__DK9xA",uf_link:"UniversalDepartmentMiddleHead_uf_link__uIrVH"}},69782:(e,s,t)=>{t.d(s,{Z:()=>a});const a={departmenthead:"SportsAndArtsHead_departmenthead__Ebg7n"}}}]);
//# sourceMappingURL=56092.c1f651b6.chunk.js.map