"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[46876],{46876:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var s=n(72791),i=n(23441),r=n(95048),a=n(12923),o=n(763),c=n(69721),u=n(52124),l=n(5574),d=n(39230),f=n(80184);const h=window.innerHeight,y=e=>{let{onClose:t,title:n,headSelect:y,assignHead:g,disabledId:v,instituteId:m,viewAs:p,isMultiSelect:_,selectList:A,onMultiSelect:S,onDone:q}=e;const{t:b}=(0,d.$G)(),[k,M]=(0,s.useState)(1),[P,x]=(0,s.useState)(!0),[w,O]=(0,i.YD)(),[R,j]=(0,s.useState)(""),[I,N]=s.useState([]),C=(0,r.v9)((e=>e.idChange)),{assignSearchStaff:U,assignSearchStaffRefetch:D}=(0,a.vI)({skip:"ADMISSION_ADMIN"===p?!m:!(null!==C&&void 0!==C&&C.id),search:{search:R,page:k,id:"ADMISSION_ADMIN"===p?m:null===C||void 0===C?void 0:C.id,limit:10}});s.useEffect((()=>{null!==C&&void 0!==C&&C.id&&D()}),[null===C||void 0===C?void 0:C.id,D,k]),(0,s.useEffect)((()=>{O&&P&&M((e=>e+1))}),[O,P]),s.useEffect((()=>{null!==U&&void 0!==U&&U.staff&&N(R?null===U||void 0===U?void 0:U.staff:e=>(e=>{for(let s=0;s<(null===e||void 0===e?void 0:e.length);s++)for(let i=s+1;i<(null===e||void 0===e?void 0:e.length);i++){var t,n;(null===(t=e[s])||void 0===t?void 0:t._id)===(null===(n=e[i])||void 0===n?void 0:n._id)&&(null===e||void 0===e||e.splice(i,1))}return e})([...e,...null===U||void 0===U?void 0:U.staff])),10===(null===U||void 0===U?void 0:U.staff.length)?x(!0):x(!1)}),[null===U||void 0===U?void 0:U.staff]),(0,s.useEffect)((()=>{R&&Q()}),[R]);const Q=()=>{D()},G=(0,s.useCallback)((0,o.debounce)((e=>j(e)),500),[]),L=e=>{v===(null===e||void 0===e?void 0:e._id)||(_?S(e):(y(e),"ADMISSION_ADMIN"===p||t()))};return(0,f.jsx)(l.Z,{open:g,onClose:t,children:(0,f.jsxs)("div",{style:{backgroundColor:"#FAFAFA",width:"35rem",height:"".concat(h-20,"px"),overflowX:"hidden"},children:[(0,f.jsxs)("div",{className:u.Z.assign_title,style:{width:"100%"},children:[(0,f.jsx)("h5",{children:n}),_?(0,f.jsxs)("div",{className:u.Z.is_mulitselect_container,children:[(0,f.jsx)("h6",{style:{cursor:"pointer"},onClick:q,children:b("select")}),(0,f.jsx)("img",{src:"/images/close-post-icon.svg",onClick:t,alt:"staff assign pop close icon"})]}):(0,f.jsx)("img",{src:"/images/close-post-icon.svg",onClick:t,alt:"staff assign pop close icon"})]}),(0,f.jsxs)("div",{className:u.Z.assign_search_container,children:[(0,f.jsx)("input",{type:"text",placeholder:b("search"),className:u.Z.assign_search_input,onChange:e=>{return t=e.target.value,void G(t);var t}}),(0,f.jsx)("img",{src:"/images/search-dash-icon.svg",alt:"search icon"})]}),(0,f.jsx)("div",{className:u.Z.assign_show_list,children:null===I||void 0===I?void 0:I.map(((e,t)=>(null===I||void 0===I?void 0:I.length)===t+1?(0,f.jsxs)("div",{ref:w,children:[(0,f.jsxs)("div",{className:u.Z.assign_show_list_each,style:v===e._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:()=>L(e),children:[_?null!==A&&void 0!==A&&A.includes(null===e||void 0===e?void 0:e._id)?(0,f.jsx)("img",{src:"/images/checkbox-icon.svg",alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,f.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/box-icon.svg",alt:"icon"}):"",(0,f.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(c.yI,"/").concat(e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,f.jsxs)("div",{className:u.Z.assign_each_paragraph,children:[(0,f.jsx)("h6",{children:"".concat(e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(e.staffLastName)}),(0,f.jsxs)("p",{children:[" ",b("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]})]}),(0,f.jsx)("hr",{})]},e._id):(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:u.Z.assign_show_list_each,style:v===e._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:()=>L(e),children:[_?null!==A&&void 0!==A&&A.includes(null===e||void 0===e?void 0:e._id)?(0,f.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/checkbox-icon.svg",alt:"icon"}):(0,f.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/box-icon.svg",alt:"icon"}):"",(0,f.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(c.yI,"/").concat(e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,f.jsxs)("div",{className:u.Z.assign_each_paragraph,children:[(0,f.jsx)("h6",{children:"".concat(e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(e.staffLastName)}),(0,f.jsxs)("p",{children:[" ",b("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]})]}),(0,f.jsx)("hr",{})]},e._id)))})]})})}},12923:(e,t,n)=>{n.d(t,{Ec:()=>_,Em:()=>q,JM:()=>h,NS:()=>r,Pg:()=>y,Q_:()=>p,RH:()=>f,Tv:()=>c,U_:()=>m,VN:()=>a,Wj:()=>l,ZS:()=>d,_8:()=>A,d5:()=>u,tB:()=>v,vI:()=>S,yx:()=>o,zO:()=>g});var s=n(91007),i=n(58208);const r=e=>{const{data:t,refetch:n}=(0,i.YD)(e.search,{skip:e.skip});return{instituteAllSearch:t,instituteAllSearchRefetch:n}},a=()=>{const[e]=(0,i.ak)();return[e]},o=()=>{const[e]=(0,i.WL)();return[e]},c=e=>{const{data:t,refetch:n}=(0,i.pH)(e.list,{skip:e.skip});return{instituteFollowList:t,instituteFollowListRefetch:n}},u=e=>{const{data:t,refetch:n}=(0,i.MG)(e.data,{skip:e.skip});return{instituteOwnFollowingList:t,instituteOwnFollowingListRefetch:n}},l=()=>{const[e]=(0,i.Ky)();return[e]},d=e=>{const{data:t,refetch:n}=(0,i.p8)(e.list);return{userFollowList:t,userFollowListRefetch:n}},f=e=>{const{data:t,refetch:n}=(0,i.Wv)(e);return{userFollowingList:t,userFollowingListRefetch:n}},h=e=>{const{data:t,refetch:n}=(0,i.sz)(e.search,{skip:e.skip});return{userAllSearch:t,userAllSearchRefetch:n}},y=()=>{const[e]=(0,i.Mk)();return[e]},g=()=>{const[e]=(0,i.$i)();return[e]},v=()=>{const[e]=(0,i.Do)();return[e]},m=()=>{const[e]=(0,i.He)();return[e]},p=()=>{const[e]=(0,i.vg)();return[e]},_=()=>{const[e]=(0,i.OO)();return[e]},A=e=>{const{data:t,refetch:n}=(0,i.N2)(e);return{userCircleList:t,userCircleListRefetch:n}},S=e=>{const{data:t,refetch:n}=(0,s.x6)(e.search,{skip:e.skip});return{assignSearchStaff:t,assignSearchStaffRefetch:n}},q=e=>{const{data:t,refetch:n}=(0,i.SJ)(e);return{universalUser:t,universalUserRefetch:n}}},91007:(e,t,n)=>{n.d(t,{KU:()=>de,cX:()=>le,Lr:()=>ye,wB:()=>oe,cn:()=>ue,pu:()=>J,QS:()=>K,W7:()=>Y,dj:()=>$,$J:()=>Me,Im:()=>fe,W3:()=>H,Pm:()=>xe,Md:()=>Z,No:()=>W,dv:()=>z,mC:()=>Pe,OU:()=>ae,x6:()=>ve});var s=localStorage.getItem("user");const i=e=>e.mutation({query:e=>({url:"/landing/get-touch",method:"POST",body:e})}),r=e=>e.mutation({query:e=>({url:"/ins/deactivate/info/".concat(s),method:"POST",body:e})}),a=e=>e.query({query:e=>"/ins/".concat(e.id?e.id:s,"/approve-staff/list?page=").concat(e.page,"&limit=").concat(e.limit,"&date=").concat(e.date?e.date:"")}),o=e=>e.query({query:e=>"/ins/".concat(e||s,"/pending-staff/list")}),c=e=>e.query({query:e=>"/ins/staff/".concat(e)}),u=e=>e.query({query:e=>"/ins/".concat(e.id?e.id:s,"/approve-student/list?page=").concat(e.page,"&limit=").concat(e.limit)}),l=e=>e.query({query:e=>"/ins/student/".concat(e)}),d=e=>e.query({query:e=>"/ins/".concat(s,"/followers-array?page=").concat(e,"&limit=10")}),f=e=>e.query({query:e=>"/ins/".concat(null===e||void 0===e?void 0:e.id,"/announcemnt?page=").concat(null===e||void 0===e?void 0:e.page,"&limit=").concat(e.limit)}),h=e=>e.query({query:e=>"/ins/".concat(s,"/all/star-announcement?page=").concat(e,"&limit=10")}),y=e=>e.query({query:e=>"/ins/one/announcement/".concat(e)}),g=e=>e.query({query:e=>"/ins/".concat(s||e,"/dash")}),v=e=>e.query({query:e=>"/ins/".concat(e||s,"/display/person-array")}),m=e=>e.mutation({query:e=>({url:"/ins/".concat(s,"/display-person"),method:"POST",body:e})}),p=e=>e.mutation({query:e=>({url:"/ins/".concat(e.did,"/display-person/update"),method:"PATCH",body:e})}),_=e=>e.mutation({query:e=>({url:"/ins/".concat(s,"/display-person/").concat(e.did,"/delete/").concat(e.uid),method:"DELETE",body:e})}),A=e=>e.query({query:e=>"/ins/dashboard/".concat(s,"/notify?page=").concat(e,"&limit=10")}),S=e=>e.mutation({query:e=>({url:"/ins/".concat(e,"/star-announcement"),method:"POST"})}),q=e=>e.query({query:e=>({url:"/search/".concat(null!==e&&void 0!==e&&e.id?null===e||void 0===e?void 0:e.id:s,"/staff?search=").concat(e.search,"&page=").concat(e.page,"&limit=").concat(e.limit)})}),b=e=>e.query({query:e=>({url:"/search/".concat(s,"/student?search=").concat(e,"&page=",1,"&limit=",5)})}),k=e=>e.query({query:e=>({url:"/search/institute/".concat(s,"/allsearch?search=").concat(e,"&page=",1,"&limit=",5)})}),M=e=>e.mutation({query:e=>({url:"/ins/".concat(s,"/staff/approve/").concat(e.sid,"/user/").concat(e.uid),method:"POST",body:e})}),P=e=>e.mutation({query:e=>({url:"/ins".concat(s,"/staff/reject/").concat(e.sid,"/user/").concat(e.uid),method:"POST",body:e})}),x=e=>e.query({query:()=>({url:"/auth/login"})}),w=e=>e.mutation({query:e=>({url:"/ins/".concat(s,"/staff/code"),method:"POST",body:e})}),O=e=>e.query({query:()=>({url:"/ins/".concat(s,"/staff-code")})}),R=e=>e.query({query:()=>"/all/user/list/data/"}),j=e=>e.query({query:e=>"/user/".concat(e,"/profile")}),I=e=>e.query({query:e=>"/user/profile/".concat(e)}),N=e=>e.query({query:e=>"/user/".concat(null===e||void 0===e?void 0:e.id,"/ins-announcement?page=").concat(null===e||void 0===e?void 0:e.page,"&limit=").concat(null===e||void 0===e?void 0:e.limit)}),C=e=>e.query({query:e=>"/user/".concat(s||e,"/dash/query")}),U=e=>e.query({query:e=>"/user/dashboard/".concat(s,"/notify?page=").concat(e,"&limit=10")}),D=e=>e.mutation({query:e=>({url:"/user/".concat(s,"/recovery-mail"),method:"POST",body:e})}),Q=e=>e.mutation({query:e=>({url:"/user/phone/info/".concat(s),method:"POST",body:e})}),G=e=>e.mutation({query:e=>({url:"/extra/age/".concat(s),method:"PATCH"})}),L=e=>e.query({query:e=>({url:"/extra/age/".concat(s,"/get"),method:"GET"})}),E=e=>e.query({query:e=>"/fees/student/".concat(e)}),T=e=>e.query({query:()=>"/extra/random/query"}),F=e=>e.mutation({query:e=>({url:"/ins/destroy/announcement/".concat(null===e||void 0===e?void 0:e.annId),method:"DELETE"})});const V=n(85064).K.injectEndpoints({endpoints:e=>({postGetInTouch:i(e),postUserRecoveryMail:D(e),postUserRecoveryPhoneNumber:Q(e),postDeactivateAccount:r(e),getOneUserProfile:j(e),getOneUserProfileUsername:I(e),staffApproveArray:a(e),staffPendingArray:o(e),getOneStaffProfile:c(e),studentApproveArray:u(e),getOneStudentProfile:l(e),getInsFollowersArray:d(e),getAnnouncementArray:f(e),getUserAnnouncementArray:N(e),getStarAnnouncementArray:h(e),getOneAnnouncement:y(e),getSingleInsData:g(e),getSingleUserData:C(e),getDisplayPerson:v(e),addDisplayPerson:m(e),editDisplayPerson:p(e),deleteDisplayPerson:_(e),getAllNotifications:A(e),getAllUserNotifications:U(e),markStarAnnouncement:S(e),staffSearch:q(e),studentSearch:b(e),universalSearch:k(e),markAsApprove:M(e),markAsReject:P(e),checkLoginUser:x(e),randomCode:w(e),instituteStaffCode:O(e),getAllUserArray:R(e),patchUserRestrictAge:G(e),getUsserAgeRestriction:L(e),getStudentFeesArray:E(e),randomIns:T(e),instituteRemoveAnnouncement:F(e)})}),{usePatchUserRestrictAgeMutation:Z,useGetUsserAgeRestrictionQuery:H,usePostGetInTouchMutation:B,usePostUserRecoveryMailMutation:W,usePostUserRecoveryPhoneNumberMutation:z,useGetOneUserProfileQuery:J,useGetOneUserProfileUsernameQuery:K,useGetSingleInsDataQuery:Y,useGetSingleUserDataQuery:$,useGetDisplayPersonQuery:X,useEditDisplayPersonMutation:ee,useAddDisplayPersonMutation:te,useDeleteDisplayPersonMutation:ne,useGetAllNotificationsQuery:se,useGetAllUserNotificationsQuery:ie,useStaffPendingArrayQuery:re,useStaffApproveArrayQuery:ae,useGetOneStaffProfileQuery:oe,useStudentApproveArrayQuery:ce,useGetOneStudentProfileQuery:ue,useGetInsFollowersArrayQuery:le,useGetAnnouncementArrayQuery:de,useGetUserAnnouncementArrayQuery:fe,useGetStarAnnouncementArrayQuery:he,useGetOneAnnouncementQuery:ye,useMarkStarAnnouncementMutation:ge,useStaffSearchQuery:ve,useStudentSearchQuery:me,useUniversalSearchQuery:pe,useMarkAsApproveMutation:_e,useMarkAsRejectMutation:Ae,useCheckLoginUserQuery:Se,useRandomCodeMutation:qe,useInstituteStaffCodeQuery:be,useGetAllUserArrayQuery:ke,useGetStudentFeesArrayQuery:Me,useRandomInsQuery:Pe,useInstituteRemoveAnnouncementMutation:xe}=V},52124:(e,t,n)=>{n.d(t,{Z:()=>s});const s={assign_title:"AssignStaffModal_assign_title__4DGBV",assign_search_container:"AssignStaffModal_assign_search_container__3x6RD",assign_search_input:"AssignStaffModal_assign_search_input__rO3c7",assign_show_list:"AssignStaffModal_assign_show_list__yHhf7",assign_show_list_each:"AssignStaffModal_assign_show_list_each__ACUEw",assign_each_paragraph:"AssignStaffModal_assign_each_paragraph__pMHTq",universal_modal:"AssignStaffModal_universal_modal__czmpB",is_mulitselect_container:"AssignStaffModal_is_mulitselect_container__0cPQ2"}},23441:(e,t,n)=>{n.d(t,{YD:()=>f});var s=n(72791),i=Object.defineProperty,r=(e,t,n)=>(((e,t,n)=>{t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!==typeof t?t+"":t,n),n),a=new Map,o=new WeakMap,c=0,u=void 0;function l(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>{return"".concat(t,"_").concat("root"===t?(n=e.root)?(o.has(n)||(c+=1,o.set(n,c.toString())),o.get(n)):"0":e[t]);var n})).toString()}function d(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u;if("undefined"===typeof window.IntersectionObserver&&void 0!==s){const i=e.getBoundingClientRect();return t(s,{isIntersecting:s,target:e,intersectionRatio:"number"===typeof n.threshold?n.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),()=>{}}const{id:i,observer:r,elements:o}=function(e){let t=l(e),n=a.get(t);if(!n){const s=new Map;let i;const r=new IntersectionObserver((t=>{t.forEach((t=>{var n;const r=t.isIntersecting&&i.some((e=>t.intersectionRatio>=e));e.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=r),null==(n=s.get(t.target))||n.forEach((e=>{e(r,t)}))}))}),e);i=r.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:r,elements:s},a.set(t,n)}return n}(n);let c=o.get(e)||[];return o.has(e)||o.set(e,c),c.push(t),r.observe(e),function(){c.splice(c.indexOf(t),1),0===c.length&&(o.delete(e),r.unobserve(e)),0===o.size&&(r.disconnect(),a.delete(i))}}s.Component;function f(){let{threshold:e,delay:t,trackVisibility:n,rootMargin:i,root:r,triggerOnce:a,skip:o,initialInView:c,fallbackInView:u,onChange:l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var f;const[h,y]=s.useState(null),g=s.useRef(),[v,m]=s.useState({inView:!!c,entry:void 0});g.current=l,s.useEffect((()=>{if(o||!h)return;let s;return s=d(h,((e,t)=>{m({inView:e,entry:t}),g.current&&g.current(e,t),t.isIntersecting&&a&&s&&(s(),s=void 0)}),{root:r,rootMargin:i,threshold:e,trackVisibility:n,delay:t},u),()=>{s&&s()}}),[Array.isArray(e)?e.toString():e,h,r,i,a,o,n,u,t]);const p=null==(f=v.entry)?void 0:f.target,_=s.useRef();h||!p||a||o||_.current===p||(_.current=p,m({inView:!!c,entry:void 0}));const A=[y,v.inView,v.entry];return A.ref=A[0],A.inView=A[1],A.entry=A[2],A}}}]);
//# sourceMappingURL=46876.e0a2f9c0.chunk.js.map