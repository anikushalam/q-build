"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[6270],{26511:function(e,l,t){t.r(l),t.d(l,{default:function(){return k}});var a=t(29439),n=t(39230),i=t(63687),s=t(21348),o=t(90904),c=t(98684),r=t(55336),d=t(1669),u=t(2651),v=t(56959),_=t(1095),h=t(48215),m=t(72791),f=t(48293),j=t(49806),x=t(80184),g=function(e){var l,t,a,n,i,s,o,r,d,u=e.subject;return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:h.Z.staclc_card,children:[(0,x.jsx)("img",{src:null!==u&&void 0!==u&&null!==(l=u.subjectTeacherName)&&void 0!==l&&l.staffProfilePhoto?"".concat(_.yI,"/").concat(null===u||void 0===u||null===(t=u.subjectTeacherName)||void 0===t?void 0:t.staffProfilePhoto):"".concat(c.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,x.jsxs)("div",{className:h.Z.staclc_card_inner,children:[(0,x.jsx)("h6",{children:null!==(a=null===u||void 0===u?void 0:u.subjectName)&&void 0!==a?a:""}),(0,x.jsx)("p",{children:"".concat(null!==(n=null===u||void 0===u||null===(i=u.subjectTeacherName)||void 0===i?void 0:i.staffFirstName)&&void 0!==n?n:""," ").concat(null!==(s=null===u||void 0===u||null===(o=u.subjectTeacherName)||void 0===o?void 0:o.staffMiddleName)&&void 0!==s?s:""," ").concat(null!==(r=null===u||void 0===u||null===(d=u.subjectTeacherName)||void 0===d?void 0:d.staffLastName)&&void 0!==r?r:"")})]})]})})},p=t(23441),b=t(60234),Z=t(91427),N=t(57588),y=function(e){var l,t,i,v,_=e.label,h=e.onClose,y=e.clsId,S=e.category,k=(0,n.$G)().t,P=(0,m.useState)(""),C=(0,a.Z)(P,2),T=C[0],w=C[1],U=(0,m.useState)(1),B=(0,a.Z)(U,2),F=B[0],I=B[1],E=(0,m.useState)(!0),L=(0,a.Z)(E,2),J=L[0],Y=L[1],q=(0,p.YD)({skip:T}),D=(0,a.Z)(q,2),H=D[0],M=D[1],O=(0,b.TM)({data:{cid:y,page:F,limit:10,search:T,flow:S},skip:y?!S:!y}),W=O.staffTimetableSubjectListStats,z=O.staffTimetableSubjectListStatsLoading;(0,m.useEffect)((function(){M&&J&&I((function(e){return e+1}))}),[M,J]),(0,m.useEffect)((function(){var e;if(null!==W&&void 0!==W&&null!==(e=W.list)&&void 0!==e&&e.length){var l,t=(0,Z.f)(null===W||void 0===W||null===(l=W.list)||void 0===l?void 0:l.length);Y((function(){return t}))}}),[null===W||void 0===W||null===(l=W.list)||void 0===l?void 0:l.length]);var G=(0,m.useCallback)((0,N.J)((function(e){I((function(){return 1})),w(e)}),1500),[]);return(0,x.jsx)(f.Z,{onClose:h,customOverlayStyle:{width:"70%"},children:(0,x.jsxs)("div",{className:j.Z.modal_container,style:{maxWidth:"100%",maxHeight:"calc(100dvh - 100px)"},children:[(0,x.jsx)(s.Z,{children:(0,x.jsxs)("div",{className:j.Z.modal_container_outer_header,children:[(0,x.jsx)("div",{className:j.Z.modal_container_header,children:(0,x.jsx)("h6",{children:k(_)})}),(0,x.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:h})]})}),(0,x.jsx)(o.Z,{}),(0,x.jsxs)(s.Z,{customStyle:{paddingTop:"0.3rem",paddingBottom:"1rem"},children:[(0,x.jsxs)("div",{className:j.Z.assign_search_container,children:[(0,x.jsx)("input",{type:"text",placeholder:k("search"),className:j.Z.assign_search_input,style:{width:"100%"},onChange:function(e){e.target.value?z||G(e.target.value):(I((function(){return 1})),w(""))}}),(0,x.jsx)("img",{src:"".concat(c.dB,"/navbar-search.svg"),alt:"search icon",style:{left:"1%"}})]}),null===W||void 0===W||null===(t=W.list)||void 0===t?void 0:t.map((function(e,l){var t;return(null===W||void 0===W||null===(t=W.list)||void 0===t?void 0:t.length)===l+1?(0,x.jsx)("div",{ref:H,children:(0,x.jsx)(g,{subject:e})},null===e||void 0===e?void 0:e._id):(0,x.jsx)(g,{subject:e},null===e||void 0===e?void 0:e._id)})),z?T?(0,x.jsx)(r.Z,{}):(0,x.jsx)(d.Z,{}):T?0===(null===W||void 0===W||null===(i=W.list)||void 0===i?void 0:i.length)&&(0,x.jsx)(u.Z,{title:"No subject found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===W||void 0===W||null===(v=W.list)||void 0===v?void 0:v.length)&&(0,x.jsx)(u.Z,{title:"No subject.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})},S=function(e){var l,t,n,i,s,o,r,d,u,v,f,j,g=e.cls,p=(0,m.useState)(""),b=(0,a.Z)(p,2),Z=b[0],N=b[1],S=function(){N("")};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:h.Z.staclc_card,style:{justifyContent:"space-between"},children:[(0,x.jsxs)("div",{className:h.Z.staclc_card_container,children:[(0,x.jsx)("img",{src:null!==g&&void 0!==g&&null!==(l=g.classTeacher)&&void 0!==l&&l.staffProfilePhoto?"".concat(_.yI,"/").concat(null===g||void 0===g||null===(t=g.classTeacher)||void 0===t?void 0:t.staffProfilePhoto):"".concat(c.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,x.jsxs)("div",{className:h.Z.staclc_card_inner,children:[(0,x.jsxs)("h6",{children:[null!==(n=null===g||void 0===g?void 0:g.className)&&void 0!==n?n:""," - ",null!==(i=null===g||void 0===g?void 0:g.classTitle)&&void 0!==i?i:""]}),(0,x.jsx)("p",{children:"".concat(null!==(s=null===g||void 0===g||null===(o=g.classTeacher)||void 0===o?void 0:o.staffFirstName)&&void 0!==s?s:""," ").concat(null!==(r=null===g||void 0===g||null===(d=g.classTeacher)||void 0===d?void 0:d.staffMiddleName)&&void 0!==r?r:""," ").concat(null!==(u=null===g||void 0===g||null===(v=g.classTeacher)||void 0===v?void 0:v.staffLastName)&&void 0!==u?u:"")})]})]}),(0,x.jsxs)("div",{className:h.Z.stc_stats,children:[(0,x.jsx)("span",{onClick:function(){return(null===g||void 0===g?void 0:g.updated_timetable_count)>0?N(1):null},children:null!==(f=null===g||void 0===g?void 0:g.updated_timetable_count)&&void 0!==f?f:0})," ","/"," ",(0,x.jsx)("span",{onClick:function(){return(null===g||void 0===g?void 0:g.not_updated_timetable_count)>0?N(2):null},children:null!==(j=null===g||void 0===g?void 0:g.not_updated_timetable_count)&&void 0!==j?j:0})]})]}),1===Z?(0,x.jsx)(y,{label:"timetable_updated_subject",onClose:S,clsId:null===g||void 0===g?void 0:g._id,category:"Yes"}):2===Z?(0,x.jsx)(y,{label:"timetable_not_updated_subject",onClose:S,clsId:null===g||void 0===g?void 0:g._id,category:"No"}):null]})},k=function(e){var l,t,_,h=e.instituteId,f=(0,n.$G)().t,j=(0,m.useState)(""),g=(0,a.Z)(j,2),y=g[0],k=g[1],P=(0,m.useState)(1),C=(0,a.Z)(P,2),T=C[0],w=C[1],U=(0,m.useState)(!0),B=(0,a.Z)(U,2),F=B[0],I=B[1],E=(0,p.YD)({skip:y}),L=(0,a.Z)(E,2),J=L[0],Y=L[1],q=(0,b.pG)({data:{id:h,page:T,limit:10,search:y},skip:!h}),D=q.staffTimetableStats,H=q.staffTimetableStatsLoading;(0,m.useEffect)((function(){Y&&F&&w((function(e){return e+1}))}),[Y,F]),(0,m.useEffect)((function(){var e;if(null!==D&&void 0!==D&&null!==(e=D.list)&&void 0!==e&&e.length){var l,t=(0,Z.f)(null===D||void 0===D||null===(l=D.list)||void 0===l?void 0:l.length);I((function(){return t}))}}),[null===D||void 0===D?void 0:D.list]);var M=(0,m.useCallback)((0,N.J)((function(e){w((function(){return 1})),k(e)}),1500),[]);return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(i.Z,{children:[(0,x.jsx)(s.Z,{children:(0,x.jsxs)("div",{className:v.Z.fm_header_container,children:[(0,x.jsx)("h6",{children:f("timetable_stats")}),(0,x.jsx)("div",{className:v.Z.fm_search,children:(0,x.jsx)("section",{className:v.Z.fm_search_container,children:(0,x.jsxs)("div",{className:v.Z.fm_search_container_inner,children:[(0,x.jsx)("img",{className:v.Z.fm_search_icon,alt:"search icon",src:"".concat(c.dB,"/navbar-search.svg")}),(0,x.jsx)("input",{type:"text",placeholder:f("search"),onChange:function(e){e.target.value?H||M(e.target.value):(w((function(){return 1})),k(""))}})]})})})]})}),(0,x.jsx)(o.Z,{}),(0,x.jsxs)(s.Z,{children:[null===D||void 0===D||null===(l=D.list)||void 0===l?void 0:l.map((function(e,l){var t;return(null===D||void 0===D||null===(t=D.list)||void 0===t?void 0:t.length)===l+1?(0,x.jsx)("div",{ref:J,children:(0,x.jsx)(S,{cls:e})},null===e||void 0===e?void 0:e._id):(0,x.jsx)(S,{cls:e},null===e||void 0===e?void 0:e._id)})),H?y?(0,x.jsx)(r.Z,{}):(0,x.jsx)(d.Z,{}):y?0===(null===D||void 0===D||null===(t=D.list)||void 0===t?void 0:t.length)&&(0,x.jsx)(u.Z,{title:"No classes found related this search."}):0===(null===D||void 0===D||null===(_=D.list)||void 0===_?void 0:_.length)&&(0,x.jsx)(u.Z,{title:"No classes."})]})]})})}},48293:function(e,l,t){t.d(l,{Z:function(){return d}});var a=t(72791),n=t(54164),i=t(15783),s=t(80184),o=function(e){var l=e.onBackdropClose,t=e.customBackdropStyle,o=(0,a.useCallback)((function(){if(!l)return null;l()}),[l]);return n.createPortal((0,s.jsx)("div",{className:i.Z.modal_backdrop,onClick:o,style:t}),document.getElementById("backdrop"))},c=t(1413),r=function(e){e.modalState,e.isHide;var l=e.customOverlayStyle,t=e.children;return n.createPortal((0,s.jsx)("div",{className:i.Z.modal_overlay,style:(0,c.Z)({},l),children:t}),document.getElementById("overlay"))},d=function(e){var l=e.onClose,t=(e.modalState,e.customBackdropStyle),a=e.customOverlayStyle,n=e.children;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o,{onBackdropClose:l,customBackdropStyle:t}),(0,s.jsx)(r,{customOverlayStyle:a,children:n})]})}},49806:function(e,l){l.Z={modal_container:"PlateformUser_modal_container__tqwpY",modal_container_outer_header:"PlateformUser_modal_container_outer_header__HbF+9",modal_container_header:"PlateformUser_modal_container_header__QzyxM",modal_container_btn_container:"PlateformUser_modal_container_btn_container__3SJ8i",modal_container_header_btn:"PlateformUser_modal_container_header_btn__dWfwA",assign_search_container:"PlateformUser_assign_search_container__dJdYj",assign_search_input:"PlateformUser_assign_search_input__aFF28",assign_show_list_each:"PlateformUser_assign_show_list_each__co2b1",assign_show_list_each_active:"PlateformUser_assign_show_list_each_active__SWwFS",assign_each_paragraph:"PlateformUser_assign_each_paragraph__bDgq6",close_icon:"PlateformUser_close_icon__VXKXH",comfirm_box:"PlateformUser_comfirm_box__ntFD7",modal_container_btn:"PlateformUser_modal_container_btn__BWFB9"}}}]);
//# sourceMappingURL=6270.901de71c.chunk.js.map