"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[6989],{11930:function(t,i,l){l.r(i),l.d(i,{default:function(){return b}});var s=l(29439),e=l(72791),a=l(56959),n=l(23441),o=l(91427),d=l(57588),c=l(63687),f=l(21348),r=l(90904),u=l(55336),v=l(1669),h=l(2651),m=l(1413),x=l(93638),_=l(55050),j=l(39230),Z=l(1095),g=l(98684),N=l(16871),p=l(43504),k=l(80184),A=function(t){var i,l,s,e,a,n,o,d=t.staff,c=t.staffAlias,f=t.isInstitute,r=(0,j.$G)().t,u=(0,N.UO)(),v=(0,N.TH)();return(0,k.jsx)(p.rU,{to:"/q/".concat(u.username,f?"/institute/member/lms?type=staff-overview&category=All Leave":"/member/staff/lms?type=staff-overview&category=All Leave"),state:(0,m.Z)((0,m.Z)({},v.state),{},{staffId:null===d||void 0===d?void 0:d._id,staffName:"".concat(null!==(i=null===d||void 0===d?void 0:d.staffFirstName)&&void 0!==i?i:""," ").concat(null!==(l=null===d||void 0===d?void 0:d.staffMiddleName)&&void 0!==l?l:""," ").concat(null!==(s=null===d||void 0===d?void 0:d.staffLastName)&&void 0!==s?s:""),urlOffSet:f?"Institute":""}),children:(0,k.jsxs)("div",{className:_.Z.lms_staff_card,children:[(0,k.jsxs)("div",{className:_.Z.lms_staff_card_contatiner,children:[(0,k.jsx)("img",{src:null!==d&&void 0!==d&&d.staffProfilePhoto?"".concat(Z.yI,"/").concat(null===d||void 0===d?void 0:d.staffProfilePhoto):"".concat(g.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,k.jsxs)("div",{className:_.Z.lms_staff_card_contatiner_inner,children:[(0,k.jsx)("h6",{children:"".concat(null!==(e=null===d||void 0===d?void 0:d.staffFirstName)&&void 0!==e?e:""," ").concat(null!==(a=null===d||void 0===d?void 0:d.staffMiddleName)&&void 0!==a?a:""," ").concat(null!==(n=null===d||void 0===d?void 0:d.staffLastName)&&void 0!==n?n:"")}),(0,k.jsxs)("p",{children:[c||r("index_number"),": ",null!==(o=null===d||void 0===d?void 0:d.staffROLLNO)&&void 0!==o?o:""]})]})]}),(0,k.jsx)(x.Z,{label:r("leave_overview"),customStyle:{margin:"0"}})]})})},S=l(36132),b=function(t){var i,l,m,x=t.instituteId,_=t.staffAlias,Z=t.isInstitute,N=(0,j.$G)().t,p=(0,e.useState)(""),b=(0,s.Z)(p,2),y=b[0],I=b[1],L=(0,e.useState)(1),w=(0,s.Z)(L,2),C=w[0],O=w[1],P=(0,e.useState)(!0),q=(0,s.Z)(P,2),E=q[0],F=q[1],G=(0,n.YD)({skip:y}),M=(0,s.Z)(G,2),U=M[0],$=M[1],z=(0,S.As)({data:{id:x,page:C,limit:10,search:y},skip:!x}),B=z.instituteSearchAllStaff,D=z.instituteSearchAllStaffLoading;(0,e.useEffect)((function(){$&&E&&O((function(t){return t+1}))}),[$,E]),(0,e.useEffect)((function(){var t;if(null!==B&&void 0!==B&&null!==(t=B.list)&&void 0!==t&&t.length){var i,l=(0,o.f)(null===B||void 0===B||null===(i=B.list)||void 0===i?void 0:i.length);F((function(){return l}))}}),[null===B||void 0===B?void 0:B.list]);var H=(0,e.useCallback)((0,d.J)((function(t){O((function(){return 1})),I(t)}),1500),[]);return(0,k.jsxs)(c.Z,{children:[(0,k.jsx)(f.Z,{children:(0,k.jsxs)("div",{className:a.Z.fm_header_container,children:[(0,k.jsx)("h6",{children:N("all_staff")}),(0,k.jsx)("div",{className:a.Z.fm_search,children:(0,k.jsx)("section",{className:a.Z.fm_search_container,children:(0,k.jsxs)("div",{className:a.Z.fm_search_container_inner,children:[(0,k.jsx)("img",{className:a.Z.fm_search_icon,alt:"search icon",src:"".concat(g.dB,"/navbar-search.svg")}),(0,k.jsx)("input",{type:"text",placeholder:N("search"),onChange:function(t){t.target.value?H(t.target.value):(O((function(){return 1})),I(""))}})]})})})]})}),(0,k.jsx)(r.Z,{}),(0,k.jsxs)(f.Z,{children:[null===B||void 0===B||null===(i=B.list)||void 0===i?void 0:i.map((function(t,i){var l;return(null===B||void 0===B||null===(l=B.list)||void 0===l?void 0:l.length)===i+1?(0,k.jsx)("div",{ref:U,children:(0,k.jsx)(A,{staff:t,staffAlias:_,isInstitute:Z})},null===t||void 0===t?void 0:t._id):(0,k.jsx)(A,{staff:t,staffAlias:_,isInstitute:Z},null===t||void 0===t?void 0:t._id)})),D?y?(0,k.jsx)(u.Z,{}):(0,k.jsx)(v.Z,{}):y?0===(null===B||void 0===B||null===(l=B.list)||void 0===l?void 0:l.length)&&(0,k.jsx)(h.Z,{title:"No staff fuond related this search."}):0===(null===B||void 0===B||null===(m=B.list)||void 0===m?void 0:m.length)&&(0,k.jsx)(h.Z,{title:"No staff."})]})]})}}}]);
//# sourceMappingURL=6989.d54b424d.chunk.js.map