{"version":3,"file":"static/js/5051.f8dee8e0.chunk.js","mappings":"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","sources":["optimized/UserStaffMember/AdmissionManager/CompleteApplication/CompleteApplication.jsx"],"sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\nimport Loading from \"../../../Loader/Loading\";\nimport QvipleLoader from \"../../../Loader/QvipleLoader\";\nimport {\n  assestsNavbarUrl,\n  assestsUtilityUrl,\n} from \"../../../Services/UrlConfig/AssestsBaseUrl\";\nimport UserMemberContainerWrapper from \"../../../Ui/UserMember/UserMemberContainerWrapper\";\nimport UserMemberContentWrapper from \"../../../Ui/UserMember/UserMemberContentWrapper\";\nimport EmptyMessage from \"../../../Utils/EmptyMessage/EmptyMessage\";\nimport style from \"../../FinanceManager/FinanceManager.module.css\";\nimport { useTranslation } from \"react-i18next\";\nimport { useInView } from \"react-intersection-observer\";\nimport { nextPage } from \"../../../Utils/Functions/nextPage\";\nimport { customDebounce } from \"../../../Utils/Functions/debounce\";\nimport BorderBottom from \"../../../Ui/Border/BorderBottom\";\nimport { useAdmissionCompletedApplicationList } from \"../../../Hooks/ApiHooks/AdmissionManager/admission-manager-api\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport OngoingAdmissionCard from \"../OngoingAdmission/OngoingAdmissionCard\";\n\nconst CompleteApplication = ({ aid, instituteId }) => {\n  const { t } = useTranslation();\n  const getQuery = useLocation();\n  const params = useParams();\n  const navigate = useNavigate();\n  const [search, setSearch] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [state, setState] = useState(true);\n  const [ref, inView] = useInView({ skip: search });\n\n  const {\n    admissionCompletedApplicationList,\n    admissionCompletedApplicationListLoading,\n    admissionCompletedApplicationListRefetch,\n  } = useAdmissionCompletedApplicationList({\n    data: {\n      aid: aid,\n      page: page,\n      limit: 10,\n      search: search,\n    },\n    skip: !aid,\n  });\n  useEffect(() => {\n    if (inView && state) setPage((page) => page + 1);\n  }, [inView, state]);\n  useEffect(() => {\n    if (admissionCompletedApplicationList?.list?.length) {\n      let obj = nextPage(admissionCompletedApplicationList?.list?.length);\n      setState(() => obj);\n    }\n  }, [admissionCompletedApplicationList?.list?.length]);\n\n  const onDebounce = useCallback(\n    customDebounce((val) => {\n      setPage(() => 1);\n      setSearch(val);\n    }, 1500),\n    []\n  );\n\n  const onSearchEvent = (e) => {\n    if (e.target.value) onDebounce(e.target.value);\n    else {\n      setPage(() => 1);\n      setSearch(\"\");\n    }\n  };\n\n  const onRefetch = () => {\n    setPage(() => 1);\n    setSearch(\"\");\n    admissionCompletedApplicationListRefetch();\n  };\n\n  const onNavigate = useCallback(() => {\n    let url =\n      getQuery.state?.urlOffSet === \"Institute\"\n        ? `/q/${params.username}/institute/member/admission`\n        : `/q/${params.username}/member/staff/admission`;\n    navigate(url, {\n      state: getQuery.state,\n    });\n  }, [navigate, getQuery.state, params.username]);\n\n  // console.info(\"s;lkfjdnjshk\");\n  return (\n    <>\n      <UserMemberContainerWrapper>\n        <UserMemberContentWrapper>\n          <div className={style.fm_header_container}>\n            <div className={style.fm_header_start_container}>\n              <img\n                alt=\"search icon\"\n                src={`${assestsUtilityUrl}/back.svg`}\n                style={{\n                  height: \"2rem\",\n                  width: \"2rem\",\n                }}\n                onClick={onNavigate}\n              />\n              <h6>{t(\"completed_applications\")}</h6>\n            </div>\n\n            <div className={style.fm_search}>\n              <section className={style.fm_search_container}>\n                <div className={style.fm_search_container_inner}>\n                  <img\n                    className={style.fm_search_icon}\n                    alt=\"search icon\"\n                    src={`${assestsNavbarUrl}/navbar-search.svg`}\n                  />\n                  <input\n                    type=\"text\"\n                    placeholder={t(\"search\")}\n                    onChange={onSearchEvent}\n                  />\n                </div>\n              </section>\n            </div>\n          </div>\n        </UserMemberContentWrapper>\n        <BorderBottom />\n\n        <UserMemberContentWrapper\n          customStyle={{\n            paddingTop: \"0.2rem\",\n          }}\n        >\n          {admissionCompletedApplicationList?.list?.map((application, index) =>\n            admissionCompletedApplicationList?.list?.length === index + 1 ? (\n              <div key={application?._id} ref={ref}>\n                <OngoingAdmissionCard\n                  application={application}\n                  aid={aid}\n                  instituteId={instituteId}\n                  onRefetch={onRefetch}\n                  isAuthorization=\"isCompleted\"\n                />\n              </div>\n            ) : (\n              <OngoingAdmissionCard\n                application={application}\n                key={application?._id}\n                aid={aid}\n                instituteId={instituteId}\n                onRefetch={onRefetch}\n                isAuthorization=\"isCompleted\"\n              />\n            )\n          )}\n          {admissionCompletedApplicationListLoading ? (\n            search ? (\n              <QvipleLoader />\n            ) : (\n              <Loading />\n            )\n          ) : search ? (\n            admissionCompletedApplicationList?.list?.length === 0 && (\n              <EmptyMessage\n                customStyleContainer={{\n                  marginTop: \"1.5rem\",\n                }}\n                title=\"No application fuond related this search.\"\n              />\n            )\n          ) : (\n            admissionCompletedApplicationList?.list?.length === 0 && (\n              <EmptyMessage\n                customStyleContainer={{\n                  marginTop: \"1.5rem\",\n                }}\n                title=\"No application created.\"\n              />\n            )\n          )}\n        </UserMemberContentWrapper>\n      </UserMemberContainerWrapper>\n    </>\n  );\n};\n\nexport default CompleteApplication;\n"],"names":["_ref","_admissionCompletedAp3","_admissionCompletedAp4","_admissionCompletedAp6","_admissionCompletedAp7","aid","instituteId","t","useTranslation","getQuery","useLocation","params","useParams","navigate","useNavigate","_useState","useState","_useState2","_slicedToArray","search","setSearch","_useState3","_useState4","page","setPage","_useState5","_useState6","state","setState","_useInView","useInView","skip","_useInView2","ref","inView","_useAdmissionComplete","useAdmissionCompletedApplicationList","data","limit","admissionCompletedApplicationList","admissionCompletedApplicationListLoading","admissionCompletedApplicationListRefetch","useEffect","_admissionCompletedAp","list","length","_admissionCompletedAp2","obj","nextPage","onDebounce","useCallback","customDebounce","val","onRefetch","onNavigate","_getQuery$state","url","urlOffSet","concat","username","_jsx","_Fragment","children","_jsxs","UserMemberContainerWrapper","UserMemberContentWrapper","className","style","fm_header_container","fm_header_start_container","alt","src","assestsUtilityUrl","height","width","onClick","fm_search","fm_search_container","fm_search_container_inner","fm_search_icon","assestsNavbarUrl","type","placeholder","onChange","e","target","value","BorderBottom","customStyle","paddingTop","map","application","index","_admissionCompletedAp5","OngoingAdmissionCard","isAuthorization","_id","QvipleLoader","Loading","EmptyMessage","customStyleContainer","marginTop","title"],"sourceRoot":""}