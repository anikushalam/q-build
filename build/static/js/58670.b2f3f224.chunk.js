"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[58670],{41233:(o,e,l)=>{l.d(e,{Z:()=>n});var s=l(72791),t=l(39230),i=l(38733),d=l(80184);const n=o=>{let{selectLabel:e,onClick:l,selectedValue:n,options:a,customStyleContainer:c,customLabelStyle:u,customListStyle:r,openAs:m,errorShow:v,defalutValue:_,viewAs:h}=o;const{t:g}=(0,t.$G)(),[f,k]=(0,s.useState)(!1),[p,I]=(0,s.useState)(""),N=()=>{k((o=>!o))};(0,s.useEffect)((()=>{"EVENT_MANAGER"!==h&&"ADMISSION_APPLICATION"!==h&&"FINANCE_BANK"!==h&&"NORMAL_FILTER"!==h||I(_)}),[h,_]),(0,s.useEffect)((()=>{if("CUSTOM_FILTER"===h){let s="";for(let t of a)for(let i of _)if((null===t||void 0===t?void 0:t._id)===i){var o,e,l;let i=null!==(o=null!==(e=null!==(l=null===t||void 0===t?void 0:t.dName)&&void 0!==l?l:null===t||void 0===t?void 0:t.batchName)&&void 0!==e?e:null===t||void 0===t?void 0:t.className)&&void 0!==o?o:"";s=s?s+", "+i:i}I(s)}}),[h,_,a]);return(0,d.jsxs)("div",{className:i.Z.join_form_container,style:{...c},children:[(0,d.jsxs)("p",{className:i.Z.join_form_select_paragraph,style:{...u},children:[e,v&&(0,d.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",g("form_require_label")]})]}),(0,d.jsxs)("section",{className:i.Z.join_form_select_custom,onClick:N,children:[p?(0,d.jsx)("p",{className:i.Z.join_form_select_custom_paragraph,children:null!==p&&void 0!==p?p:""}):(0,d.jsx)("p",{className:i.Z.join_form_select_custom_paragraph,children:n}),(0,d.jsx)("img",{className:i.Z.join_form_select_custom_icon,src:"/images/down-icon.svg",alt:"categor icon"})]}),f&&(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("section",{className:i.Z.join_form_select_custom_list,style:r?{...r}:(null===a||void 0===a?void 0:a.length)>2?{overflowY:"scroll"}:{backgroundColor:"#ffffff"},children:null===a||void 0===a?void 0:a.map(((o,e)=>{var s,t,n,a,c,u,r,v,_,g,f,k;return(0,d.jsx)("p",{onClick:()=>{var e,s,t,i,d,n,a,c,u,r,v,_,g;(e="PROMOTE"===m?o:null!==o&&void 0!==o&&o._id?null===o||void 0===o?void 0:o._id:o,l(e),N(),"FINANCE_BANK"===h)||I(null!==(s=null!==(t=null!==(i=null!==(d=null!==(n=null!==(a=null!==(c=null!==(u=null!==(r=null!==(v=null!==(_=null===o||void 0===o?void 0:o.dName)&&void 0!==_?_:null===o||void 0===o?void 0:o.batchName)&&void 0!==v?v:null===o||void 0===o?void 0:o.className)&&void 0!==r?r:null===o||void 0===o?void 0:o.classTitle)&&void 0!==u?u:null===o||void 0===o?void 0:o.category_name)&&void 0!==c?c:null===o||void 0===o||null===(g=o.category_master)||void 0===g?void 0:g.category_name)&&void 0!==a?a:null===o||void 0===o?void 0:o.hostel_unit_name)&&void 0!==n?n:null===o||void 0===o?void 0:o.room_name)&&void 0!==d?d:null===o||void 0===o?void 0:o.subjectName)&&void 0!==i?i:null===o||void 0===o?void 0:o.vehicle_number)&&void 0!==t?t:null===o||void 0===o?void 0:o.finance_bank_account_name)&&void 0!==s?s:o)},className:i.Z.join_form_select_custom_paragraph_option,children:null!==(s=null!==(t=null!==(n=null!==(a=null!==(c=null!==(u=null!==(r=null!==(v=null!==(_=null!==(g=null!==(f=null===o||void 0===o?void 0:o.dName)&&void 0!==f?f:null===o||void 0===o?void 0:o.batchName)&&void 0!==g?g:null===o||void 0===o?void 0:o.className)&&void 0!==_?_:null===o||void 0===o?void 0:o.classTitle)&&void 0!==v?v:null===o||void 0===o?void 0:o.category_name)&&void 0!==r?r:null===o||void 0===o||null===(k=o.category_master)||void 0===k?void 0:k.category_name)&&void 0!==u?u:null===o||void 0===o?void 0:o.hostel_unit_name)&&void 0!==c?c:null===o||void 0===o?void 0:o.room_name)&&void 0!==a?a:null===o||void 0===o?void 0:o.subjectName)&&void 0!==n?n:null===o||void 0===o?void 0:o.vehicle_number)&&void 0!==t?t:null===o||void 0===o?void 0:o.finance_bank_account_name)&&void 0!==s?s:o},e)}))})})]})}},67923:(o,e,l)=>{l.d(e,{Z:()=>i});l(72791);var s=l(38733),t=l(80184);const i=o=>{let{labelText:e,value:l,customStyleContainer:i,customStyleLabel:d,customStyleValue:n}=o;return(0,t.jsxs)("div",{className:s.Z.join_form_container_view,style:{...i},children:[(0,t.jsx)("label",{className:s.Z.join_form_label_view,style:{...d},children:e}),(0,t.jsx)("h6",{className:s.Z.join_form_input_view,style:{...n},children:l})]})}},11053:(o,e,l)=>{l.d(e,{Z:()=>c});l(72791);var s=l(47630),t=l(72426),i=l.n(t),d=l(39230),n=l(69721),a=l(80184);const c=function(o){var e,l,t,c,u,r,m,v;let{status:_,book:h}=o;const{t:g}=(0,d.$G)();return(0,a.jsx)("div",{className:"memberdetail"===_?"".concat(s.Z.collctLogItem," ").concat(s.Z.fullwidth):"memberStudentdetail"===_?"".concat(s.Z.collctLogItem," ").concat(s.Z.disabled):s.Z.collctLogItem,children:(0,a.jsxs)("div",{className:s.Z.collectLogItemTop,children:[(0,a.jsx)("img",{className:s.Z.bookItemImg,src:"1"!==(null===h||void 0===h||null===(e=h.book)||void 0===e?void 0:e.photoId)&&""!==(null===h||void 0===h||null===(l=h.book)||void 0===l?void 0:l.photo)?"".concat(n.yI,"/").concat(null===h||void 0===h||null===(t=h.book)||void 0===t?void 0:t.photo):"/images/defaultBook.png"}),(0,a.jsxs)("div",{className:s.Z.collectLogItemTopRight,children:[(0,a.jsxs)("h6",{children:[" ",(null===h||void 0===h||null===(c=h.book)||void 0===c||null===(u=c.bookName)||void 0===u?void 0:u.length)>=18?"".concat(null===h||void 0===h||null===(r=h.book)||void 0===r||null===(m=r.bookName)||void 0===m?void 0:m.match(/.{1,18}/g)[0]," ..."):null===h||void 0===h||null===(v=h.book)||void 0===v?void 0:v.bookName]}),(0,a.jsxs)("div",{className:s.Z.collectLogItemBottom,children:[(0,a.jsxs)("div",{className:s.Z.collectLogItemBottomleft,children:[(0,a.jsx)("p",{children:g("issue_date")}),(0,a.jsx)("h6",{children:i()(null===h||void 0===h?void 0:h.issuedDate).format("Do MMM YYYY")})]}),(0,a.jsxs)("div",{className:s.Z.collectLogItemBottomleft,children:[(0,a.jsx)("p",{children:g("rcv_date")}),(0,a.jsx)("h6",{children:i()(null===h||void 0===h?void 0:h.createdAt).format("Do MMM YYYY")})]})]})]})]})})}},25629:(o,e,l)=>{l.d(e,{Z:()=>C});var s=l(72791),t=l(86864),i=l(39230),d=l(69721),n=l(72426),a=l.n(n),c=l(5574);const u="CollectModal_collectModal__feATn",r="CollectModal_collectModaltop__-m3Ji",m="CollectModal_collectModalbody__ycqcA",v="CollectModal_swichRow__29Qj+",_="CollectModal_swichRowlabel__3RWpv",h="CollectModal_confirmbtn__gzWGT",g="CollectModal_errorspan__kz740";var f=l(89891),k=l(80617),p=l(98734),I=l(97655),N=l(41233),b=l(67923),j=l(80184);const x={inputProps:{"aria-label":"Switch demo"}};const B=function(o){let{open:e,hideModal:l,issueId:t,onRefetchWhenBookCollect:d,isStaff:n,dayCharge:B,forDays:C,issueDate:Z}=o;const{t:y}=(0,i.$G)(),[L,M]=(0,s.useState)(!1),[T]=(0,k.LN)(),[w]=(0,k.dH)(),[S,D]=(0,s.useState)({damaged:!1,lost:!1}),[F,A]=(0,s.useState)({enterAmount:!1,fineCharge:"",paymentType:"Online"}),[Y,R]=(0,s.useState)({amount:0,type:""});(0,s.useEffect)((()=>{if(Z||B||C){let o=new Date,e=new Date(Z);e.setDate(e.getDate()+C);let l=a()(e),s=a()(o);const t=a().duration(s.diff(l)).days();B*t>0&&R((()=>{var o;return{amount:null!==(o=B*t)&&void 0!==o?o:0,type:"Overdue_Fines"}}))}}),[Z,B,C]);const O=o=>{"Damaged"===o.name?D((e=>({...e,damaged:o.value,lost:!1}))):D((e=>({...e,damaged:!1,lost:o.value})))};return(0,j.jsxs)(c.Z,{open:e,onClose:()=>l(!1),children:[(0,j.jsxs)("div",{className:u,children:[(0,j.jsx)("div",{className:r,children:y("collect_book")}),(0,j.jsx)("div",{className:m,children:n?(0,j.jsx)("button",{disabled:L,className:h,onClick:()=>{M((o=>!o)),w({lid:t,collectData:{chargeBy:"",paymentType:"",fineCharge:0,flow:"Normal"}}).then((()=>{d(),l(!1),M((o=>!o))})).catch((()=>{M((o=>!o))}))},children:y("confirm")}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:v,children:[(0,j.jsx)("p",{className:_,children:y("damaged")}),(0,j.jsx)(f.Z,{...x,checked:S.damaged,onClick:o=>O({name:"Damaged",value:o.target.checked})})]}),(0,j.jsxs)("div",{className:v,children:[(0,j.jsx)("p",{className:_,children:y("lost")}),(0,j.jsx)(f.Z,{...x,checked:S.lost,onClick:o=>O({name:"Lost",value:o.target.checked})})]}),F.enterAmount&&(0,j.jsx)("p",{className:g,children:y("charg_reason")}),(S.damaged||S.lost)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(I.Z,{labelText:y("enter_damage_fine"),placeholder:y("enter_damage_amount"),name:"scholar",value:F.fineCharge,type:"number",onChange:o=>A({...F,fineCharge:parseInt(o.target.value)})}),(0,j.jsx)(N.Z,{selectLabel:y("collection_type"),selectedValue:"Online"===F.paymentType?"Through Qviple":F.paymentType,options:["Offline","Through Qviple"],onClick:o=>{A("Offline"===o?e=>({...e,paymentType:o}):o=>({...o,paymentType:"Online"}))}})]}),"Overdue_Fines"===Y.type?(0,j.jsx)(b.Z,{labelText:y("late_fees"),value:"".concat(y("rs_only")).concat(Y.amount)}):null,(0,j.jsx)("button",{disabled:L,className:h,onClick:()=>{!S.damaged&&!S.lost||F.fineCharge?(M((o=>!o)),T({lid:t,collectData:{chargeBy:S.damaged?"Damaged":S.lost?"Lost":Y.amount>0?"Overdue_Fines":"",paymentType:F.fineCharge?F.paymentType:"",fineCharge:F.fineCharge?F.fineCharge:Y.amount,flow:"Normal"}}).then((()=>{d(),l(!1),M((o=>!o))})).catch((()=>{M((o=>!o))}))):A((o=>({...o,enterAmount:!0})))},children:y("confirm")})]})})]}),L&&(0,j.jsx)(p.Z,{})]})};const C=function(o){var e,l,n,c,u,r,m,v,_,h,g,f,k,p,I,N,b,x,C,Z,y,L,M,T,w,S,D,F,A;let{status:Y,book:R,issueId:O,member:P,onRefetchWhenBookCollect:E,isStaff:G}=o;const{t:W}=(0,i.$G)(),[V,K]=(0,s.useState)(!1),[z,q]=(0,s.useState)("");return(0,s.useEffect)((()=>{if(null!==R&&void 0!==R&&R.createdAt&&null!==R&&void 0!==R&&R.for_days){let o=new Date(null===R||void 0===R?void 0:R.createdAt);o.setDate(o.getDate()+ +(null===R||void 0===R?void 0:R.for_days)),q(o)}}),[null===R||void 0===R?void 0:R.createdAt,null===R||void 0===R?void 0:R.for_days]),(0,j.jsx)(j.Fragment,{children:G?(0,j.jsxs)(s.Fragment,{children:[(0,j.jsxs)("div",{className:t.Z.issuedBookItemTop,children:[(0,j.jsx)("div",{className:t.Z.issuedBookItemTopleft,children:(0,j.jsx)("img",{className:t.Z.bookItemImg,src:null!==R&&void 0!==R&&null!==(e=R.book)&&void 0!==e&&e.photo?"".concat(d.yI,"/").concat(null===R||void 0===R||null===(l=R.book)||void 0===l?void 0:l.photo):"/images/defaultBook.png"})}),(0,j.jsxs)("div",{className:t.Z.issuedBookItemTopright,children:[(0,j.jsx)("h6",{className:t.Z.title,children:(null===R||void 0===R||null===(n=R.book)||void 0===n||null===(c=n.bookName)||void 0===c?void 0:c.length)>=18?"".concat(null===R||void 0===R||null===(u=R.book)||void 0===u||null===(r=u.bookName)||void 0===r?void 0:r.match(/.{1,18}/g)[0]," ..."):null===R||void 0===R||null===(m=R.book)||void 0===m?void 0:m.bookName}),(0,j.jsxs)("p",{className:t.Z.author,children:[null===R||void 0===R||null===(v=R.book)||void 0===v?void 0:v.author," \xa0",(0,j.jsx)("span",{className:t.Z.authorLabel,children:W("author")})]}),(0,j.jsxs)("p",{className:t.Z.author,children:[W("accession_number")," "," : ",null!==(_=null===R||void 0===R||null===(h=R.book)||void 0===h?void 0:h.accession_number)&&void 0!==_?_:""," "]}),(0,j.jsxs)("p",{className:t.Z.booklang,children:[" ",null===R||void 0===R||null===(g=R.book)||void 0===g?void 0:g.language]})]})]}),(0,j.jsx)("div",{className:t.Z.issuedBookItemBottom,children:(0,j.jsx)("div",{className:t.Z.issuedBookItemBottomLeft,children:(0,j.jsxs)("h6",{style:{fontSize:"13px",fontWeight:"400"},children:[W("issue_date"),":"," ",a()(null===R||void 0===R?void 0:R.createdAt).format("Do MMM YYYY")]})})})]}):(0,j.jsxs)("div",{className:"memberdetail"===Y?"".concat(t.Z.issuedBookItem," ").concat(t.Z.fullwidth):t.Z.issuedBookItem,children:[(0,j.jsxs)("div",{className:t.Z.issuedBookItemTop,children:[(0,j.jsx)("div",{className:t.Z.issuedBookItemTopleft,children:(0,j.jsx)("img",{className:t.Z.bookItemImg,src:null!==R&&void 0!==R&&null!==(f=R.book)&&void 0!==f&&f.photo?"".concat(d.yI,"/").concat(null===R||void 0===R||null===(k=R.book)||void 0===k?void 0:k.photo):"/images/defaultBook.png"})}),(0,j.jsxs)("div",{className:t.Z.issuedBookItemTopright,children:[(0,j.jsx)("h6",{className:t.Z.title,children:(null===R||void 0===R||null===(p=R.book)||void 0===p||null===(I=p.bookName)||void 0===I?void 0:I.length)>=18?"".concat(null===R||void 0===R||null===(N=R.book)||void 0===N||null===(b=N.bookName)||void 0===b?void 0:b.match(/.{1,18}/g)[0]," ..."):null===R||void 0===R||null===(x=R.book)||void 0===x?void 0:x.bookName}),(0,j.jsxs)("p",{className:t.Z.author,children:[null===R||void 0===R||null===(C=R.book)||void 0===C?void 0:C.author," \xa0",(0,j.jsx)("span",{className:t.Z.authorLabel,children:W("author")})]}),(0,j.jsxs)("p",{className:t.Z.author,children:[W("accession_number")," "," : ",null!==(Z=null===R||void 0===R||null===(y=R.book)||void 0===y?void 0:y.accession_number)&&void 0!==Z?Z:""," "]}),(0,j.jsxs)("p",{className:t.Z.booklang,children:[" ",null===R||void 0===R||null===(L=R.book)||void 0===L?void 0:L.language]})]})]}),(0,j.jsxs)("div",{className:t.Z.issuedBookItemMid,children:[(0,j.jsx)("div",{className:t.Z.issuedBookItemMidleft,children:(0,j.jsx)("div",{className:t.Z.imgcontainer,children:(0,j.jsx)("img",{src:null!==P&&void 0!==P&&P.studentProfilePhoto||null!==P&&void 0!==P&&P.staffProfilePhoto?"".concat(d.yI,"/").concat(null!==(M=null===P||void 0===P?void 0:P.studentProfilePhoto)&&void 0!==M?M:null===P||void 0===P?void 0:P.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""})})}),(0,j.jsx)("div",{className:t.Z.issuedBookItemMidright,children:null!==P&&void 0!==P&&P.studentFirstName?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("h6",{children:[" ","".concat(null!==(T=null===P||void 0===P?void 0:P.studentFirstName)&&void 0!==T?T:""," ").concat(null!==P&&void 0!==P&&P.studentMiddleName?null===P||void 0===P?void 0:P.studentMiddleName:""," ").concat(null!==(w=null===P||void 0===P?void 0:P.studentLastName)&&void 0!==w?w:"")]}),(0,j.jsxs)("p",{children:[W("gr_no")," ",null!==(S=null===P||void 0===P?void 0:P.studentGRNO)&&void 0!==S?S:""," "]})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("h6",{children:[" ","".concat(null!==(D=null===P||void 0===P?void 0:P.staffFirstName)&&void 0!==D?D:""," ").concat(null!==P&&void 0!==P&&P.staffMiddleName?null===P||void 0===P?void 0:P.staffMiddleName:""," ").concat(null!==(F=null===P||void 0===P?void 0:P.staffLastName)&&void 0!==F?F:"")]}),(0,j.jsxs)("p",{children:[W("index")," ",null!==(A=null===P||void 0===P?void 0:P.staffROLLNO)&&void 0!==A?A:""," "]})]})})]}),(0,j.jsxs)("div",{className:t.Z.issuedBookItemBottom,children:[(0,j.jsxs)("div",{className:t.Z.issuedBookItemBottomLeft,children:[(0,j.jsxs)("h6",{style:{fontSize:"13px",fontWeight:"400"},children:[W("issue_date"),":"," ",a()(null===R||void 0===R?void 0:R.createdAt).format("Do MMM YYYY")]}),null!==P&&void 0!==P&&P.studentFirstName?(0,j.jsxs)("h6",{style:{fontSize:"13px",fontWeight:"400"},children:[W("to_be_submitted"),": "," ",z&&a()(z).format("Do MMM YYYY")]}):null]}),"studentMemberDetail"!==Y&&(0,j.jsx)("div",{className:t.Z.collectbtn,onClick:()=>K(!0),children:W("collect")})]}),V&&(0,j.jsx)(B,{open:V,hideModal:o=>{K(o)},issueId:O,onRefetchWhenBookCollect:E,isStaff:!(null===P||void 0===P||!P.staffFirstName),issueDate:null===R||void 0===R?void 0:R.createdAt,dayCharge:null===R||void 0===R?void 0:R.day_overdue_charge,forDays:null!==R&&void 0!==R&&R.for_days?+(null===R||void 0===R?void 0:R.for_days):0})]})})}},47630:(o,e,l)=>{l.d(e,{Z:()=>s});const s={searchContainerr:"CollectedLogs_searchContainerr__hDVss",searchContainer:"CollectedLogs_searchContainer__2ySor",newBtn:"CollectedLogs_newBtn__di1cp",remainingFees:"CollectedLogs_remainingFees__PX4GF",remainingFeesBottom:"CollectedLogs_remainingFeesBottom__h9ap5",itemsContainer:"CollectedLogs_itemsContainer__uAdUa",collctLogItem:"CollectedLogs_collctLogItem__OCrFb",bookItemImg:"CollectedLogs_bookItemImg__hRiYC",collectLogItemTopRight:"CollectedLogs_collectLogItemTopRight__av1Sd",collectLogItemTop:"CollectedLogs_collectLogItemTop__jJ6lB",collectLogItemBottom:"CollectedLogs_collectLogItemBottom__g+kIO",collectLogItemBottomleft:"CollectedLogs_collectLogItemBottomleft__65MWS",fullwidth:"CollectedLogs_fullwidth__4bp6b",itemsRef:"CollectedLogs_itemsRef__TYXCu",loader:"CollectedLogs_loader__iRHU8",noData:"CollectedLogs_noData__pTBNJ",disabled:"CollectedLogs_disabled__l1aiz",clc_card:"CollectedLogs_clc_card__PuUFP",clc_card_inner:"CollectedLogs_clc_card_inner__7cmgp",clc_card_inner_text:"CollectedLogs_clc_card_inner_text__4Kqi4"}},86864:(o,e,l)=>{l.d(e,{Z:()=>s});const s={searchContainerr:"IssuedBooks_searchContainerr__A6bmv",searchContainer:"IssuedBooks_searchContainer__v7gCj",newBtn:"IssuedBooks_newBtn__4mJuw",remainingFees:"IssuedBooks_remainingFees__Bz61I",remainingFeesBottom:"IssuedBooks_remainingFeesBottom__yswBf",itemsContainer:"IssuedBooks_itemsContainer__sl3Kv",itemsRef:"IssuedBooks_itemsRef__ed81C",issuedBookItem:"IssuedBooks_issuedBookItem__ZsRv2",issuedBookItemTop:"IssuedBooks_issuedBookItemTop__WZB-K",issuedBookItemTopright:"IssuedBooks_issuedBookItemTopright__byizV",author:"IssuedBooks_author__K59c6",bookItemImg:"IssuedBooks_bookItemImg__77uVX",title:"IssuedBooks_title__VAjUp",authorLabel:"IssuedBooks_authorLabel__VSyG5",booklang:"IssuedBooks_booklang__wGHKm",issuedBookItemMid:"IssuedBooks_issuedBookItemMid__T4QDl",issuedBookItemMidleft:"IssuedBooks_issuedBookItemMidleft__EYCKf",imgcontainer:"IssuedBooks_imgcontainer__A2O5v",issuedBookItemMidright:"IssuedBooks_issuedBookItemMidright__EhJDf",issuedBookItemBottomLeft:"IssuedBooks_issuedBookItemBottomLeft__7KT4w",issuedBookItemBottom:"IssuedBooks_issuedBookItemBottom__7jWNG",collectbtn:"IssuedBooks_collectbtn__x7rZ2",fullwidth:"IssuedBooks_fullwidth__+d1i7",loader:"IssuedBooks_loader__aeA4o",noData:"IssuedBooks_noData__ScSZ4"}}}]);
//# sourceMappingURL=58670.b2f3f224.chunk.js.map