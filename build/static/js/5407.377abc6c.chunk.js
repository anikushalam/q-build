"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[5407],{5407:function(e,n,t){t.r(n),t.d(n,{default:function(){return E}});var i=t(29439),o=t(72791),s=t(9447),l=t(13688),d=t(69721),m="EachNestedComment_eachComment__Yp1ET",a="EachNestedComment_imgcontainer__GalK4",c="EachNestedComment_commentText__7zNCO",r="EachNestedComment_eachCommentContainer__eeCVJ",u="EachNestedComment_dots__bR3MT",v="EachNestedComment_time__u9Zlo",h=t(98684),p=t(80184);var C=function(e){var n=e.comment;return(0,p.jsxs)("div",{className:r,children:[(0,p.jsxs)("div",{className:m,children:[(0,p.jsx)("div",{className:a,children:(0,p.jsx)("img",{src:"1"!==(null===n||void 0===n?void 0:n.authorPhotoId)?"".concat(d.yI,"/").concat(n.authorProfilePhoto):"".concat(h.p3,"/feed-user-avatar.svg"),alt:""})}),(0,p.jsxs)("div",{className:c,children:[(0,p.jsx)("h6",{children:null===n||void 0===n?void 0:n.authorUserName}),(0,p.jsx)("p",{children:null===n||void 0===n?void 0:n.repliedComment})]})]}),(0,p.jsx)("div",{className:u,children:(0,p.jsx)("p",{className:v,children:(0,l.WU)(null===n||void 0===n?void 0:n.createdAt)})})]})},_={eachComment:"NestedComments_eachComment__pANlV",addComment:"NestedComments_addComment__t172M",imgcontainer:"NestedComments_imgcontainer__t7PYl",inputContainer:"NestedComments_inputContainer__xy2lD",hr:"NestedComments_hr__uf04W",icons:"NestedComments_icons__pg5T8",btn:"NestedComments_btn__-gMA2"},f=t(95048),N=t(70092),x=t(23441),j=t(39230),g=t(16256),y=t(47184),I=t(39480);var E=function(e){var n,t,l=e.pcid,m=e.pid,a=(0,o.useState)(1),c=(0,i.Z)(a,2),r=c[0],u=c[1],v=(0,j.$G)().t,h=(0,x.YD)(),E=(0,i.Z)(h,2),R=E[0],k=E[1],b=(0,o.useState)(!0),P=(0,i.Z)(b,2),Z=P[0],A=P[1],w=(0,o.useRef)(""),D=(0,f.v9)((function(e){return e.idChange})),T=(0,f.v9)((function(e){return e.postChange.replyComments})),U=(0,f.I0)(),q=(0,s._X)({data:{pcid:l||"",page:r,limit:10,viewAs:g.UJ},skip:!1}),J=q.allReplyComment,M=q.allReplyCommentRefetch,Y=(0,s.ro)(),G=(0,i.Z)(Y,1)[0],S=(0,I.gq)({id:null===D||void 0===D?void 0:D.id,skip:!(null!==D&&void 0!==D&&D.id)}),V=S.oneInstituteDashboard,W=S.oneInstituteDashboardRefetch;return(0,o.useEffect)((function(){null!==D&&void 0!==D&&D.id&&W()}),[null===D||void 0===D?void 0:D.id,W]),(0,o.useEffect)((function(){k&&Z&&u((function(e){return e+1}))}),[k,Z]),(0,o.useEffect)((function(){M()}),[r,M,Z]),(0,o.useEffect)((function(){var e;null!==J&&void 0!==J&&J.replyComment&&U(N.p.addReplyComment({commentId:l,reply:null===J||void 0===J?void 0:J.replyComment})),10===(null===J||void 0===J||null===(e=J.replyComment)||void 0===e?void 0:e.length)?A(!0):A(!1)}),[null===J||void 0===J?void 0:J.replyComment,U,l]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:_.eachComment,children:[(0,p.jsxs)("div",{className:_.addComment,children:[(0,p.jsxs)("div",{className:_.imgcontainer,children:[(0,p.jsx)(y.Z,{dynamicImage:"1"!==(null===V||void 0===V||null===(n=V.institute)||void 0===n?void 0:n.photoId)?"".concat(d.yI,"/").concat(null===V||void 0===V||null===(t=V.institute)||void 0===t?void 0:t.insProfilePhoto):"/images/ins_default_profile.svg"})," "]}),(0,p.jsxs)("div",{className:_.inputContainer,children:[(0,p.jsx)("input",{type:"text",ref:w,placeholder:v("add_a_reply"),className:"form-control ".concat(_.searchinput)}),(0,p.jsxs)("div",{className:_.icons,children:[(0,p.jsx)("img",{src:"/images/img-icon.svg",alt:""}),(0,p.jsx)("img",{src:"/images/emoji-icon.svg",alt:""})]})]})]}),(0,p.jsx)("div",{className:_.btn,onClick:function(){U(N.p.addReplyCommentCount({commentId:l,postId:m})),G({replyComment:{comment:w.current.value,uid:D.id},pcid:l,viewAs:g.UJ}).then((function(e){var n;U(N.p.addReplyCreatedComment({commentId:l,reply:null===(n=e.data)||void 0===n?void 0:n.childReplyComment}))})).catch({}),w.current.value=""},children:v("reply")})]}),null===T||void 0===T?void 0:T.map((function(e){var n;return e.commentId===l?null===e||void 0===e||null===(n=e.reply)||void 0===n?void 0:n.map((function(n,t){var i;return(null===e||void 0===e||null===(i=e.reply)||void 0===i?void 0:i.length)===t+1?(0,p.jsxs)("div",{className:_.eachComment,ref:R,children:[(0,p.jsx)(C,{comment:n}),(0,p.jsx)("hr",{})]},t):(0,p.jsxs)("div",{className:_.eachComment,children:[(0,p.jsx)(C,{comment:n}),(0,p.jsx)("hr",{})]},t)})):""}))]})}}}]);
//# sourceMappingURL=5407.377abc6c.chunk.js.map