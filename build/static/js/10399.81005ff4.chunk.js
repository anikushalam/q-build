"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[10399,46876],{60233:(e,t,a)=>{a.d(t,{Z:()=>u});var o=a(72791);const l=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],n=["January","February","March","April","May","June","July","August","September","October","November","December"],i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;const a=new Date,i="".concat(a.getDate(),"-").concat(a.getMonth()+1,"-").concat(a.getFullYear()),s=[1,2,3,4,5,6,0],[r,d]=(0,o.useState)(a),c=new Date(r.getFullYear(),r.getMonth()+1,0),_=new Date(r.getFullYear(),r.getMonth(),0),u=c.getDate(),m=new Date(r.getFullYear(),r.getMonth(),1).getDay(),v=s.indexOf(m)+1;let f=_.getDate()-s.indexOf(m)+1,h=1,p=1;const g={};for(let o=1;o<7;o++)for(let e=1;e<8;e++)g[o]||(g[o]=[]),1===o?e<v?(g[o]=[...g[o],{classes:"in-prev-month",date:"".concat(f,"-").concat(0===r.getMonth()?12:r.getMonth(),"-").concat(0===r.getMonth()?r.getFullYear()-1:r.getFullYear()),value:f}],f++):(g[o]=[...g[o],{classes:"",date:"".concat(h,"-").concat(r.getMonth()+1,"-").concat(r.getFullYear()),value:h}],h++):o>1&&h<u+1?(g[o]=[...g[o],{classes:"",date:"".concat(h,"-").concat(r.getMonth()+1,"-").concat(r.getFullYear()),value:h}],h++):(g[o]=[...g[o],{classes:"in-next-month",date:"".concat(p,"-").concat(r.getMonth()+2===13?1:r.getMonth()+2,"-").concat(r.getMonth()+2===13?r.getFullYear()+1:r.getFullYear()),value:p}],p++);return{daysShort:e,monthNames:t,todayFormatted:i,calendarRows:g,selectedDate:r,getPrevMonth:()=>{d((e=>new Date(e.getFullYear(),e.getMonth()-1,1)))},getNextMonth:()=>{d((e=>new Date(e.getFullYear(),e.getMonth()+1,1)))},getDesiredData:e=>{d(new Date("".concat(e.month," ").concat(e.year)))},setSelectedDate:d}};var s=a(80184);const r=function(e){let{handleClick:t}=e;return(0,s.jsx)("div",{children:(0,s.jsx)("img",{className:"arrowicon",src:"/images/Input/arrow-left.svg",alt:"",onClick:t})})};const d=function(e){let{handleClick:t}=e;return(0,s.jsx)("div",{children:(0,s.jsx)("img",{className:"arrowicon",src:"/images/Input/arrow-right.svg",alt:"",onClick:t})})};var c=a(39230);const _={position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10},u=e=>{let{range:t,onClose:a,dateInput:l,setDateInput:n,datePickerPosition:u,isClose:m,isMultiple:v}=e;const{t:f}=(0,c.$G)(),{calendarRows:h,selectedDate:p,todayFormatted:g,daysShort:y,monthNames:x,getNextMonth:j,getPrevMonth:S,setSelectedDate:b}=i(),[N,F]=(0,o.useState)([]),[Z,k]=(0,o.useState)(0),[C,w]=(0,o.useState)({date:"",month:x[p.getMonth()],year:p.getFullYear().toString()}),[P,M]=(0,o.useState)([]),D=new Date;"".concat(D.getDate()<10?"0".concat(D.getDate()):D.getDate(),"/").concat(D.getMonth()+1<10?"0".concat(D.getMonth()+1):D.getMonth()+1,"/").concat(D.getFullYear());const I=function(){for(var e=(new Date).getFullYear(),t=e-70,a=[],o=e+30;o>=t;o--)a.push(o);return a}(),H=e=>{if(t)if(P.length>0&&P.includes(e)){const t=P.filter((function(t){return t!==e}));(e=>{M(e)})(t),F(t)}else(e=>{M((t=>[...t,e]))})(e),F((t=>[...t,e]));else M(e),n(e),m||setTimeout((()=>{!t&&a()}),100)},T=(new Date).getFullYear(),R=Math.ceil(I.length/12),A=I.indexOf(T),O=Math.ceil(A/12),[E,J]=(0,o.useState)(O),L=12*E,B=L-12,Y=I.slice(B,L);return(0,o.useEffect)((()=>{t&&n(P)}),[P]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{onClick:a,style:_}),(0,s.jsxs)("div",{className:"datepickercontainer",style:{...u},children:[(0,s.jsxs)("div",{className:"calenderheader",children:[(0,s.jsxs)("div",{className:"calenderheaderleft",children:[(0,s.jsx)("h6",{className:"month",onClick:()=>k(1),children:"".concat(x[p.getMonth()])}),(0,s.jsxs)("div",{className:"yearcontainer",onClick:()=>k(2),children:[(0,s.jsx)("h6",{className:"year",children:"".concat(p.getFullYear())}),(0,s.jsx)("img",{className:"arrow",src:"/images/Input/dropdown-icon.svg",alt:""})]})]}),0===Z&&(0,s.jsxs)("div",{className:"calenderheaderright",children:[(0,s.jsx)(r,{handleClick:S}),(0,s.jsx)(d,{handleClick:j})]}),2===Z&&(0,s.jsxs)("div",{className:"calenderheaderright",children:[(0,s.jsx)(r,{handleClick:()=>{E>1&&J(E-1)}}),(0,s.jsx)(d,{handleClick:()=>{E<R&&J(E+1)}})]})]}),1===Z&&(0,s.jsx)("div",{className:"monthscontainer",children:x.map(((e,t)=>(0,s.jsx)("div",{className:"monththh",onClick:()=>{w({...C,month:e}),b(new Date("".concat(e," ").concat(C.year))),k(0)},children:e},t)))}),0===Z&&(0,s.jsxs)("table",{className:"table",children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{children:y.map((e=>(0,s.jsx)("th",{className:"day",children:e},e)))})}),(0,s.jsx)("tbody",{children:Object.values(h).map((e=>(0,s.jsx)("tr",{children:e.map((e=>e.date===g?(0,s.jsx)("td",{className:"".concat(e.classes," date"),onClick:()=>{H("".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(p.getMonth()+1<10?"0".concat(p.getMonth()+1):p.getMonth()+1,"/").concat(p.getFullYear()))},children:(0,s.jsx)("div",{className:P.includes("".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(p.getMonth()+1<10?"0".concat(p.getMonth()+1):p.getMonth()+1,"/").concat(p.getFullYear()))||l==="".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(p.getMonth()+1<10?"0".concat(p.getMonth()+1):p.getMonth()+1,"/").concat(p.getFullYear())?"".concat(e.classes," datediv  active"):"".concat(e.classes," datediv aaji"),children:e.value})},e.date):"in-prev-month"===e.classes||"in-next-month"===e.classes?(0,s.jsx)("td",{className:"".concat(e.classes," date"),children:(0,s.jsx)("div",{className:"".concat(e.classes," datediv "),children:e.value})},e.date):(0,s.jsx)("td",{className:"".concat(e.classes," date"),onClick:()=>H("".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(p.getMonth()+1<10?"0".concat(p.getMonth()+1):p.getMonth()+1,"/").concat(p.getFullYear())),children:(0,s.jsx)("div",{className:P.includes("".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(p.getMonth()+1<10?"0".concat(p.getMonth()+1):p.getMonth()+1,"/").concat(p.getFullYear()))?"".concat(e.classes," datediv  active"):"".concat(e.classes," datediv "),children:e.value})},e.date)))},e[0].date)))})]}),2===Z&&(0,s.jsx)("div",{className:"monthscontainer",children:Y.map(((e,t)=>(0,s.jsx)("div",{className:T===e?" monthactive":" monththh",onClick:()=>{w({...C,year:e}),b(new Date("".concat(e," ").concat(C.month))),k(0)},children:e},t)))}),v&&(0,s.jsx)("div",{className:"multiple_select_btn",onClick:a,children:f("select")})]})]})}},46876:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var o=a(72791),l=a(23441),n=a(95048),i=a(12923),s=a(763),r=a(69721),d=a(52124),c=a(5574),_=a(39230),u=a(80184);const m=window.innerHeight,v=e=>{let{onClose:t,title:a,headSelect:v,assignHead:f,disabledId:h,instituteId:p,viewAs:g,isMultiSelect:y,selectList:x,onMultiSelect:j,onDone:S}=e;const{t:b}=(0,_.$G)(),[N,F]=(0,o.useState)(1),[Z,k]=(0,o.useState)(!0),[C,w]=(0,l.YD)(),[P,M]=(0,o.useState)(""),[D,I]=o.useState([]),H=(0,n.v9)((e=>e.idChange)),{assignSearchStaff:T,assignSearchStaffRefetch:R}=(0,i.vI)({skip:"ADMISSION_ADMIN"===g?!p:!(null!==H&&void 0!==H&&H.id),search:{search:P,page:N,id:"ADMISSION_ADMIN"===g?p:null===H||void 0===H?void 0:H.id,limit:10}});o.useEffect((()=>{null!==H&&void 0!==H&&H.id&&R()}),[null===H||void 0===H?void 0:H.id,R,N]),(0,o.useEffect)((()=>{w&&Z&&F((e=>e+1))}),[w,Z]),o.useEffect((()=>{null!==T&&void 0!==T&&T.staff&&I(P?null===T||void 0===T?void 0:T.staff:e=>(e=>{for(let o=0;o<(null===e||void 0===e?void 0:e.length);o++)for(let l=o+1;l<(null===e||void 0===e?void 0:e.length);l++){var t,a;(null===(t=e[o])||void 0===t?void 0:t._id)===(null===(a=e[l])||void 0===a?void 0:a._id)&&(null===e||void 0===e||e.splice(l,1))}return e})([...e,...null===T||void 0===T?void 0:T.staff])),10===(null===T||void 0===T?void 0:T.staff.length)?k(!0):k(!1)}),[null===T||void 0===T?void 0:T.staff]),(0,o.useEffect)((()=>{P&&A()}),[P]);const A=()=>{R()},O=(0,o.useCallback)((0,s.debounce)((e=>M(e)),500),[]),E=e=>{h===(null===e||void 0===e?void 0:e._id)||(y?j(e):(v(e),"ADMISSION_ADMIN"===g||t()))};return(0,u.jsx)(c.Z,{open:f,onClose:t,children:(0,u.jsxs)("div",{style:{backgroundColor:"#FAFAFA",width:"35rem",height:"".concat(m-20,"px"),overflowX:"hidden"},children:[(0,u.jsxs)("div",{className:d.Z.assign_title,style:{width:"100%"},children:[(0,u.jsx)("h5",{children:a}),y?(0,u.jsxs)("div",{className:d.Z.is_mulitselect_container,children:[(0,u.jsx)("h6",{style:{cursor:"pointer"},onClick:S,children:b("select")}),(0,u.jsx)("img",{src:"/images/close-post-icon.svg",onClick:t,alt:"staff assign pop close icon"})]}):(0,u.jsx)("img",{src:"/images/close-post-icon.svg",onClick:t,alt:"staff assign pop close icon"})]}),(0,u.jsxs)("div",{className:d.Z.assign_search_container,children:[(0,u.jsx)("input",{type:"text",placeholder:b("search"),className:d.Z.assign_search_input,onChange:e=>{return t=e.target.value,void O(t);var t}}),(0,u.jsx)("img",{src:"/images/search-dash-icon.svg",alt:"search icon"})]}),(0,u.jsx)("div",{className:d.Z.assign_show_list,children:null===D||void 0===D?void 0:D.map(((e,t)=>(null===D||void 0===D?void 0:D.length)===t+1?(0,u.jsxs)("div",{ref:C,children:[(0,u.jsxs)("div",{className:d.Z.assign_show_list_each,style:h===e._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:()=>E(e),children:[y?null!==x&&void 0!==x&&x.includes(null===e||void 0===e?void 0:e._id)?(0,u.jsx)("img",{src:"/images/checkbox-icon.svg",alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,u.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/box-icon.svg",alt:"icon"}):"",(0,u.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(r.yI,"/").concat(e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,u.jsxs)("div",{className:d.Z.assign_each_paragraph,children:[(0,u.jsx)("h6",{children:"".concat(e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(e.staffLastName)}),(0,u.jsxs)("p",{children:[" ",b("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]})]}),(0,u.jsx)("hr",{})]},e._id):(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:d.Z.assign_show_list_each,style:h===e._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:()=>E(e),children:[y?null!==x&&void 0!==x&&x.includes(null===e||void 0===e?void 0:e._id)?(0,u.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/checkbox-icon.svg",alt:"icon"}):(0,u.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/box-icon.svg",alt:"icon"}):"",(0,u.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(r.yI,"/").concat(e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,u.jsxs)("div",{className:d.Z.assign_each_paragraph,children:[(0,u.jsx)("h6",{children:"".concat(e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(e.staffLastName)}),(0,u.jsxs)("p",{children:[" ",b("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]})]}),(0,u.jsx)("hr",{})]},e._id)))})]})})}},91022:(e,t,a)=>{a.d(t,{Z:()=>s});var o=a(72791),l=a(39230),n=a(38733),i=a(80184);const s=e=>{let{selectLabel:t,value:a,onClick:s,selectedValue:r,options:d,errorShow:c,customStyleContainer:_,customLabelStyle:u,customListStyle:m,openAs:v,viewAs:f}=e;const{t:h}=(0,l.$G)(),[p,g]=(0,o.useState)(!1),y=()=>{"REFUND"===v||"BACKLOG"===v||"FINANCE_MANAGER"===f||g((e=>!e))};return(0,i.jsxs)("div",{className:n.Z.join_form_container,style:{..._},children:[(0,i.jsxs)("p",{className:n.Z.join_form_select_paragraph,style:{...u},children:[t," ",c&&(0,i.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",h("form_require_label")]})]}),(0,i.jsxs)("section",{className:n.Z.join_form_select_custom,onClick:y,children:[a?(0,i.jsx)("p",{className:n.Z.join_form_select_custom_paragraph,children:null!==a&&void 0!==a?a:""}):(0,i.jsx)("p",{className:n.Z.join_form_select_custom_paragraph,children:r}),(0,i.jsx)("img",{className:n.Z.join_form_select_custom_icon,src:"/images/down-icon.svg",alt:"categor icon"})]}),p&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("section",{className:n.Z.join_form_select_custom_list,style:m?{...m}:(null===d||void 0===d?void 0:d.length)>2?{overflowY:"scroll"}:{backgroundColor:"#ffffff"},children:[(0,i.jsx)("p",{className:n.Z.join_form_select_custom_paragraph_option,onClick:y,children:r}),null===d||void 0===d?void 0:d.map(((e,t)=>(0,i.jsx)("p",{onClick:()=>(s(e),void y()),className:n.Z.join_form_select_custom_paragraph_option,children:e},t)))]})})]})}},59965:(e,t,a)=>{a.d(t,{Z:()=>s});var o=a(72791),l=a(38733),n=a(60233),i=a(80184);const s=e=>{let{customStyleContainer:t,labelText:a,errorShow:s,value:r,name:d,placeholder:c,onDateFunction:_,datePickerPosition:u,customStyleLabel:m,customStyleCaledarIcon:v,customStyleInput:f,isMultiple:h}=e;const[p,g]=(0,o.useState)(!1),y=()=>{g(!0)};return(0,i.jsxs)("div",{className:l.Z.join_form_container,style:{...t},children:[(0,i.jsxs)("label",{className:l.Z.join_form_label,htmlFor:d,style:{...m},children:[a," ",s&&(0,i.jsx)("span",{style:{color:"red",marginLeft:"15px"},children:"* required"})]}),(0,i.jsx)("input",{className:l.Z.join_form_input,type:"text",value:r,name:d,placeholder:c||"dd/mm/yyyy",onFocus:y,style:{...f}}),(0,i.jsx)("img",{className:l.Z.arrowIcon,src:"/images/Input/calendar.svg",alt:"calender icon",onClick:y,style:{...v}}),p&&(0,i.jsx)(n.Z,{datePickerPosition:u?{...u}:{top:"-17rem",left:"1rem",borderRadius:"0.375rem",paddingBottom:"0"},range:h,onClose:()=>g(!1),dateInput:r,setDateInput:_,isMultiple:h})]})}},97655:(e,t,a)=>{a.d(t,{Z:()=>i});a(72791);var o=a(39230),l=a(38733),n=a(80184);const i=e=>{let{labelText:t,name:a,type:i,value:s,onChange:r,placeholder:d,errorShow:c,customStyleContainer:_,customStyleLabel:u,customStyleInput:m,inputLength:v,reAccount:f,disabled:h}=e;const{t:p}=(0,o.$G)();return(0,n.jsxs)("div",{className:l.Z.join_form_container,style:{..._},children:[(0,n.jsxs)("label",{className:l.Z.join_form_label,htmlFor:a,style:{...u},children:[t," ",!f&&c&&(0,n.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",p("form_require_label")]}),f&&(0,n.jsx)("span",{style:{color:"red",marginLeft:"15px"},children:f})]}),"tel"===i?(0,n.jsx)("input",{className:l.Z.join_form_input,type:i,value:s,onChange:r,name:a,placeholder:d,maxLength:null!==v&&void 0!==v?v:100,disabled:h,style:m}):(0,n.jsx)("input",{className:l.Z.join_form_input,type:i,value:s,onChange:r,name:a,placeholder:d,disabled:h,style:m})]})}},47167:(e,t,a)=>{a.d(t,{Z:()=>r});a(72791);var o=a(16871),l=a(43504),n=a(23769),i=a(45639),s=a(80184);const r=e=>{let{tabList:t,activeIndexTab:a,setActiveIndexTab:r,customStyleTab:d,carryParentState:c,showAs:_,customStyleLink:u}=e;const m=(0,o.UO)();return(0,s.jsx)("div",{className:i.Z.universal_container,children:_?null===t||void 0===t?void 0:t.map(((e,t)=>"disabled"===(null===e||void 0===e?void 0:e.is_active)?(0,s.jsx)("div",{className:a===(null===e||void 0===e?void 0:e.id)?"".concat(i.Z.universal_container_item," ").concat(i.Z.universal_container_item_active):i.Z.universal_container_item,style:{...u,opacity:"0.5"},children:(0,s.jsx)(n.Z,{children:null===e||void 0===e?void 0:e.name})},t):(0,s.jsx)(l.rU,{to:"/q/".concat(m.username,"/").concat(null===e||void 0===e?void 0:e.url),state:{...c},style:{...u},children:(0,s.jsx)("div",{className:a===(null===e||void 0===e?void 0:e.id)?"".concat(i.Z.universal_container_item," ").concat(i.Z.universal_container_item_active):i.Z.universal_container_item,style:{...d},children:(0,s.jsx)(n.Z,{children:null===e||void 0===e?void 0:e.name})})},t))):null===t||void 0===t?void 0:t.map(((e,t)=>(0,s.jsx)("div",{className:a===(null===e||void 0===e?void 0:e.id)?"".concat(i.Z.universal_container_item," ").concat(i.Z.universal_container_item_active):i.Z.universal_container_item,onClick:()=>r(null===e||void 0===e?void 0:e.id),style:{...d},children:(0,s.jsx)(n.Z,{children:null===e||void 0===e?void 0:e.name})},t)))})}},23769:(e,t,a)=>{a.d(t,{Z:()=>n});var o=a(72791),l=a(80184);const n=function(e){let{children:t,onclick:a}=e;const[n,i]=(0,o.useState)(!1),[s,r]=(0,o.useState)({x:-1,y:-1});return(0,o.useEffect)((()=>{-1!==s.x&&-1!==s.y?(i(!0),setTimeout((()=>i(!1)),1e3)):i(!1)}),[s]),(0,o.useEffect)((()=>{n||r({x:-1,y:-1})}),[n]),(0,l.jsxs)("div",{className:"ripple_btn",onClick:e=>{r({x:e.clientX-e.target.offsetLeft,y:e.clientY-e.target.offsetTop}),a&&a(e)},children:[n?(0,l.jsx)("span",{className:"ripple"}):"",(0,l.jsx)("span",{className:"content",children:t})]})}},33710:(e,t,a)=>{a.d(t,{Z:()=>i});var o=a(72791);const l=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],n=["January","February","March","April","May","June","July","August","September","October","November","December"],i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;const a=new Date,i="".concat(a.getDate(),"-").concat(a.getMonth()+1,"-").concat(a.getFullYear()),s=[1,2,3,4,5,6,0],[r,d]=(0,o.useState)(a),c=new Date(r.getFullYear(),r.getMonth()+1,0),_=new Date(r.getFullYear(),r.getMonth(),0),u=c.getDate(),m=new Date(r.getFullYear(),r.getMonth(),1).getDay(),v=s.indexOf(m)+1;let f=_.getDate()-s.indexOf(m)+1,h=1,p=1;const g={};for(let o=1;o<7;o++)for(let e=1;e<8;e++)g[o]||(g[o]=[]),1===o?e<v?(g[o]=[...g[o],{classes:"in-prev-month",date:"".concat(f,"-").concat(0===r.getMonth()?12:r.getMonth(),"-").concat(0===r.getMonth()?r.getFullYear()-1:r.getFullYear()),value:f}],f++):(g[o]=[...g[o],{classes:"",date:"".concat(h,"-").concat(r.getMonth()+1,"-").concat(r.getFullYear()),value:h}],h++):o>1&&h<u+1?(g[o]=[...g[o],{classes:"",date:"".concat(h,"-").concat(r.getMonth()+1,"-").concat(r.getFullYear()),value:h}],h++):(g[o]=[...g[o],{classes:"in-next-month",date:"".concat(p,"-").concat(r.getMonth()+2===13?1:r.getMonth()+2,"-").concat(r.getMonth()+2===13?r.getFullYear()+1:r.getFullYear()),value:p}],p++);return{daysShort:e,monthNames:t,todayFormatted:i,calendarRows:g,selectedDate:r,getPrevMonth:()=>{d((e=>new Date(e.getFullYear(),e.getMonth()-1,1)))},getNextMonth:()=>{d((e=>new Date(e.getFullYear(),e.getMonth()+1,1)))},daysInMonth:u}}},10399:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ie});var o=a(72791);const l="Payroll_payroll_container__QoA9i",n="Payroll_add_new_payroll__biVX1",i="Payroll_salary_head_card__loJO0",s="Payroll_pay_card__fqfuA",r="Payroll_pay_card_content__x3YQl",d="Payroll_pay_card_text__Zv1HR",c="Payroll_pay_btn__Pz0xt",_="Payroll_receipt_btn__7d1D3",u="Payroll_head_history_card__TXxJJ",m="Payroll_add_employee_staff__svVRM",v="Payroll_head_history_card_text__Etvu8",f="Payroll_add_employee_staff_text__nGZN5",h="Payroll_row2__UuP6J";var p=a(39230),g=a(98094),y=a(47167),x=a(16871),j=a(43504),S=a(23441),b=a(87932),N=a(11105),F=a(91022),Z=a(97655),k=a(98734),C=a(36665),w=a(33399),P=a(80184);const M=e=>{let{onClose:t,onRefetch:a,fid:l}=e;const{t:n}=(0,p.$G)(),[i,s]=(0,o.useState)({payroll_head_name:"",payroll_head_type:""}),[r,d]=(0,o.useState)(""),[c,_]=(0,o.useState)(!1),[u]=(0,b.Kd)();return(0,P.jsx)(C.Z,{onClose:t,children:(0,P.jsxs)("div",{className:w.Z.add_category_modal,children:[(0,P.jsxs)("div",{className:w.Z.add_category_modal_title,children:[(0,P.jsx)("h6",{children:n("salary_heads")}),(0,P.jsx)("img",{src:"/images/close-post-icon.svg",onClick:t,alt:""})]}),(0,P.jsx)(Z.Z,{labelText:n("head_name"),placeholder:n("salary_head_name_placeholder"),name:"payroll_head_name",value:null===i||void 0===i?void 0:i.payroll_head_name,type:"text",onChange:e=>{s((t=>({...t,payroll_head_name:e.target.value})))},errorShow:r.payroll_head_name}),(0,P.jsx)(F.Z,{selectLabel:n("head_type"),selectedValue:n("head_type_placeholder"),value:null===i||void 0===i?void 0:i.payroll_head_type,onClick:e=>{s((t=>({...t,payroll_head_type:e})))},errorShow:r.payroll_head_type,options:["Particular","Deduction"]}),(0,P.jsx)("button",{className:w.Z.set_fees_structure_btn,title:"Add fees head",onClick:()=>{const e=(e=>{const t={};for(let a in e)e[a]||(t[a]="".concat(a," is required!"));return t})(i);let o=!1;for(let t in e)if(t){o=!0;break}o?d(e):(_((e=>!e)),u({fid:l,addPayroll:i}).then((()=>{a(),t(),_((e=>!e))})).catch({}))},style:{justifyContent:"center"},children:n("create")}),c&&(0,P.jsx)(k.Z,{})]})})},D=e=>{var t;let{head:a,carryParentState:o}=e;const l=(0,x.UO)();return(0,P.jsx)(j.rU,{to:"/q/".concat(l.username,"/member/staff/finance?type=payroll&n=head&d=info"),state:{...o,pmid:null===a||void 0===a?void 0:a._id,salaryHead:null===a||void 0===a?void 0:a.payroll_head_name,salaryType:null===a||void 0===a?void 0:a.payroll_head_type},children:(0,P.jsxs)("div",{className:i,children:[(0,P.jsx)("img",{src:"/images/fees-category-icon.svg",alt:"categor icon"}),(0,P.jsx)("h6",{children:null!==(t=null===a||void 0===a?void 0:a.payroll_head_name)&&void 0!==t?t:""})]},null===a||void 0===a?void 0:a._id)})},I=e=>{let{carryParentState:t,fid:a}=e;const{t:l}=(0,p.$G)(),[i,s]=(0,o.useState)(!1),[r,d]=(0,S.YD)(),[c,_]=(0,o.useState)(1),[u,m]=(0,o.useState)(!0),[v,f]=(0,o.useState)(!1),[h,g]=(0,o.useState)(!0),[y,x]=(0,o.useState)([]),{getPayrollHeadList:j,getPayrollHeadListRefetch:F}=(0,b.vp)({data:{fid:a,page:c,limit:10,search:"",filter:""},skip:!a});(0,o.useEffect)((()=>{a&&(g(!0),F())}),[a,c,F]),(0,o.useEffect)((()=>{d&&u&&_((e=>e+1))}),[d,u]),(0,o.useEffect)((()=>{var e,t;v?(x(null===j||void 0===j?void 0:j.all_masters),f(!1),g(!1)):null!==j&&void 0!==j&&j.all_masters?(x((e=>{var t,a;return null===(t=[...new Set(null===(a=[...e,...null===j||void 0===j?void 0:j.all_masters])||void 0===a?void 0:a.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),g(!1)):0===(null===j||void 0===j||null===(t=j.all_masters)||void 0===t?void 0:t.length)&&g(!1);10===(null===j||void 0===j||null===(e=j.all_masters)||void 0===e?void 0:e.length)?m(!0):m(!1)}),[null===j||void 0===j?void 0:j.all_masters]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,P.jsx)("h6",{className:n,onClick:()=>s(!0),children:l("add_new_employess")})}),null===y||void 0===y?void 0:y.map(((e,a)=>(null===y||void 0===y?void 0:y.length)===a+1?(0,P.jsx)("div",{ref:r,children:(0,P.jsx)(D,{head:e,carryParentState:t})},null===e||void 0===e?void 0:e._id):(0,P.jsx)(D,{head:e,carryParentState:t},null===e||void 0===e?void 0:e._id))),h&&(0,P.jsx)(N.Z,{}),i&&(0,P.jsx)(M,{onClose:()=>s(!1),onRefetch:()=>{f(!0),_(1),g(!0),F()},fid:a})]})};var H=a(14304),T=(a(95048),a(46876)),R=a(69721),A=a(51561);const O=e=>{let{setActivePopupIndex:t,setFilterBy:a,addFeeHead:l,setAddFeeHead:n,addFeeHeadDeduction:i,setAddFeeHeadDecution:s,setBasicSalary:r,basickSalary:d,setTotalValidation:c,activePopupIndex:_}=e;const{t:u}=(0,p.$G)(),[m,v]=(0,o.useState)(0),[f,h]=(0,o.useState)(0),g=e=>{a(e),t(2)};(0,o.useEffect)((()=>{if(1===_){let e=0,t=0;const a=[...l];for(let l=0;l<(null===a||void 0===a?void 0:a.length);l++)e+=+a[l].master_amount,t+=+a[l].master_amount;const o=[...i];for(let l=0;l<(null===o||void 0===o?void 0:o.length);l++)t-=+o[l].master_amount;v(e),h(t),c(t)}}),[_]);return(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)("section",{className:w.Z.table_container,style:{marginTop:"1rem"},children:[(0,P.jsxs)("div",{className:w.Z.table_heading,children:[(0,P.jsx)("h6",{children:u("particular")}),(0,P.jsx)("h6",{children:u("amount")})]}),(0,P.jsxs)("div",{className:w.Z.table_body,children:[(0,P.jsxs)("div",{className:w.Z.table_body_list,children:[(0,P.jsx)("h6",{children:"Basic Salary"}),(0,P.jsx)("input",{type:"tel",value:d,onChange:e=>r(+e.target.value),className:w.Z.fee_head_amount_input,placeholder:"0"})]}),null===l||void 0===l?void 0:l.map(((e,t)=>(0,P.jsxs)("div",{className:w.Z.table_body_list,children:[(0,P.jsx)("h6",{children:null===e||void 0===e?void 0:e.master_name}),(0,P.jsx)("input",{type:"tel",value:null===e||void 0===e?void 0:e.master_amount,onChange:e=>((e,t)=>{let a=0,o=0;const s=[...l];for(let l=0;l<(null===s||void 0===s?void 0:s.length);l++)l===t&&(s[l].master_amount=+e.target.value);for(let l=0;l<(null===s||void 0===s?void 0:s.length);l++)a+=+s[l].master_amount,o+=+s[l].master_amount;const r=[...i];for(let l=0;l<(null===r||void 0===r?void 0:r.length);l++)o-=+r[l].master_amount;n(s),v(a),h(o),c(o)})(e,t),className:w.Z.fee_head_amount_input})]},t)))]}),(0,P.jsxs)("button",{className:w.Z.add_fees_head_btn,title:"Add Fees",onClick:()=>g("Particular"),children:[u("add"),(0,P.jsx)("img",{src:"/images/add-plus-icon.svg",alt:"add"})]}),(0,P.jsx)("div",{className:w.Z.table_body,children:(0,P.jsxs)("div",{className:w.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.5)",borderTopWidth:"0.5px",borderTopStyle:"solid",borderBottomColor:"rgba(18, 18, 18, 0.8)",borderBottomWidth:"2px"},children:[(0,P.jsx)("h6",{className:w.Z.fees_total,children:u("gross_total")}),(0,P.jsx)("h6",{className:w.Z.fees_total,children:m+d})]})}),(0,P.jsx)("div",{className:w.Z.table_body,children:null===i||void 0===i?void 0:i.map(((e,t)=>(0,P.jsxs)("div",{className:w.Z.table_body_list,children:[(0,P.jsx)("h6",{children:null===e||void 0===e?void 0:e.master_name}),(0,P.jsx)("input",{type:"tel",value:null===e||void 0===e?void 0:e.master_amount,onChange:e=>((e,t)=>{let a=m;const o=[...i];for(let l=0;l<(null===o||void 0===o?void 0:o.length);l++)l===t&&(o[l].master_amount=+e.target.value);for(let l=0;l<(null===o||void 0===o?void 0:o.length);l++)a-=+o[l].master_amount;s(o),h(a),c(a)})(e,t),className:w.Z.fee_head_amount_input})]},t)))}),(0,P.jsxs)("button",{className:w.Z.add_fees_head_btn,title:"Add Fees",onClick:()=>g("Deduction"),children:[u("add"),(0,P.jsx)("img",{src:"/images/add-plus-icon.svg",alt:"add"})]}),(0,P.jsx)("div",{className:w.Z.table_body,children:(0,P.jsxs)("div",{className:w.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.5)",borderTopWidth:"0.5px",borderTopStyle:"solid",borderBottomColor:"rgba(18, 18, 18, 0.8)",borderBottomWidth:"2px"},children:[(0,P.jsx)("h6",{className:w.Z.fees_total,children:u("net_total")}),(0,P.jsx)("h6",{className:w.Z.fees_total,children:f+d})]})})]})})};var E=a(763);const J=e=>{let{onClose:t,financeId:a,setAddFeeHead:l,filterBy:n,setAddFeeHeadDecution:i}=e;const{t:s}=(0,p.$G)(),[r,d]=(0,S.YD)(),[c,_]=(0,o.useState)(1),[u,m]=(0,o.useState)(!0),[v,f]=(0,o.useState)(""),[h,y]=(0,o.useState)(!0),[x,j]=(0,o.useState)([]),[F,Z]=(0,o.useState)([]),[k,C]=(0,o.useState)([]),{getPayrollHeadList:M,getPayrollHeadListRefetch:D}=(0,b.vp)({data:{fid:a,page:c,limit:10,search:v,filter:n},skip:!a});(0,o.useEffect)((()=>{a&&(y(!0),D())}),[a,c,v,D]),(0,o.useEffect)((()=>{d&&u&&_((e=>e+1))}),[d,u]),(0,o.useEffect)((()=>{var e,t;v?(j(null===M||void 0===M?void 0:M.all_masters),y(!1)):null!==M&&void 0!==M&&M.all_masters?(j((e=>{var t,a;return null===(t=[...new Set(null===(a=[...e,...null===M||void 0===M?void 0:M.all_masters])||void 0===a?void 0:a.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),y(!1)):0===(null===M||void 0===M||null===(t=M.all_masters)||void 0===t?void 0:t.length)&&y(!1);10===(null===M||void 0===M||null===(e=M.all_masters)||void 0===e?void 0:e.length)?m(!0):m(!1)}),[null===M||void 0===M?void 0:M.all_masters]);const I=(0,o.useCallback)((0,E.debounce)((e=>f(e)),500),[]),H=e=>{const t={master_name:null===e||void 0===e?void 0:e.payroll_head_name,master_amount:0,master_status:null===e||void 0===e?void 0:e.payroll_head_type,master_id:null===e||void 0===e?void 0:e._id};if(null!==k&&void 0!==k&&k.includes(null===e||void 0===e?void 0:e._id)){let t=null===k||void 0===k?void 0:k.indexOf(null===e||void 0===e?void 0:e._id),a=[];for(let e=0;e<(null===F||void 0===F?void 0:F.length);e++)e===t||a.push(F[e]);C((t=>null===t||void 0===t?void 0:t.filter((t=>t!==(null===e||void 0===e?void 0:e._id))))),Z(a)}else C((t=>[...t,null===e||void 0===e?void 0:e._id])),Z((e=>[...e,t]))};return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:w.Z.add_category_modal_title,children:[(0,P.jsxs)("section",{className:w.Z.add_category_modal_title_left,children:[(0,P.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:t,alt:""}),(0,P.jsx)("h6",{children:s("select_salary_head")})]}),(0,P.jsx)("h6",{style:{color:"#002BBE",cursor:"pointer"},onClick:()=>{"Deduction"===n?i((e=>[...e,...F])):l((e=>[...e,...F])),t()},children:s("select")})]}),(0,P.jsx)(g.Z,{customStyle:{width:"100%"}}),(0,P.jsx)("div",{className:w.Z.search_container,children:(0,P.jsxs)("div",{className:w.Z.search_container_text,children:[(0,P.jsx)("img",{className:w.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,P.jsx)("input",{type:"text",placeholder:s("search-label"),onChange:e=>{I(e.target.value)}})]})}),null===x||void 0===x?void 0:x.map(((e,t)=>{var a,o,l,n;return(null===x||void 0===x?void 0:x.length)===t+1?(0,P.jsxs)("div",{className:null!==k&&void 0!==k&&k.includes(null===e||void 0===e?void 0:e._id)?"".concat(w.Z.category_card," ").concat(w.Z.category_card_hover_active):"".concat(w.Z.category_card," ").concat(w.Z.category_card_hover),ref:r,style:{height:"74px"},onClick:()=>H(e),children:[(0,P.jsx)("img",{style:{height:"36px",width:"36px"},src:"/images/fees-category-icon.svg",alt:"categor icon"}),(0,P.jsxs)("div",{className:w.Z.category_card_fee,children:[(0,P.jsx)("h6",{style:{marginBottom:"0.3rem"},children:null!==(a=null===e||void 0===e?void 0:e.payroll_head_name)&&void 0!==a?a:""}),(0,P.jsx)("h6",{style:{color:"rgba(18, 18, 18, 0.5)"},children:null!==(o=null===e||void 0===e?void 0:e.payroll_head_type)&&void 0!==o?o:""})]})]},null===e||void 0===e?void 0:e._id):(0,P.jsxs)("div",{className:null!==k&&void 0!==k&&k.includes(null===e||void 0===e?void 0:e._id)?"".concat(w.Z.category_card," ").concat(w.Z.category_card_hover_active):"".concat(w.Z.category_card," ").concat(w.Z.category_card_hover),style:{height:"74px"},onClick:()=>H(e),children:[(0,P.jsx)("img",{style:{height:"36px",width:"36px"},src:"/images/fees-category-icon.svg",alt:"categor icon"}),(0,P.jsxs)("div",{className:w.Z.category_card_fee,children:[(0,P.jsx)("h6",{style:{marginBottom:"0.3rem"},children:null!==(l=null===e||void 0===e?void 0:e.payroll_head_name)&&void 0!==l?l:""}),(0,P.jsx)("h6",{style:{color:"rgba(18, 18, 18, 0.5)"},children:null!==(n=null===e||void 0===e?void 0:e.payroll_head_type)&&void 0!==n?n:""})]})]},null===e||void 0===e?void 0:e._id)})),h&&(0,P.jsx)(N.Z,{})]})},L=e=>{var t,a,l,n;let{onClose:i,financeId:s,onRefetch:r,instituteId:d}=e;const{t:c}=(0,p.$G)(),[_,u]=(0,o.useState)(0),[m,v]=(0,o.useState)(!1),[f,h]=(0,o.useState)(""),[y,x]=(0,o.useState)({staff_salary_month:"",staff_total_paid_leaves:""}),[j,S]=(0,o.useState)(""),[N,F]=(0,o.useState)([]),[M,D]=(0,o.useState)([]),[I,H]=(0,o.useState)(""),[E,L]=(0,o.useState)(""),[B]=(0,b.iN)(),[Y,G]=(0,o.useState)(0),[W,U]=(0,o.useState)({msg:"",run:!1});return(0,P.jsxs)(P.Fragment,{children:[0===_&&(0,P.jsx)(T.default,{assignHead:0===_,headSelect:e=>{S(e),u(1)},title:c("staff_list"),onClose:i,viewAs:"ADMISSION_ADMIN",instituteId:d}),(1===_||2===_)&&(0,P.jsx)(C.Z,{onClose:()=>{},children:(0,P.jsxs)("div",{className:w.Z.add_category_modal,style:{width:"30rem",minHeight:"10rem",maxHeight:"35rem",overflowY:"scroll",overflowX:"hidden"},children:[1===_&&(0,P.jsxs)(P.Fragment,{children:[" ",(0,P.jsxs)("div",{className:w.Z.add_category_modal_title,children:[(0,P.jsxs)("section",{className:w.Z.add_category_modal_title_left,children:[(0,P.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:i,alt:""}),(0,P.jsx)("h6",{children:c("add_employee")})]}),(0,P.jsx)("h6",{onClick:()=>{const e=((e,t)=>{const a={};for(let o in e)"staff_total_paid_leaves"===o||e[o]||(a[o]="".concat(o," is required!"));return+t<+e.staff_salary_month?(a.less_amount=" is required!",U({msg:"Net total is not less than salary per month",run:!0})):+t>+e.staff_salary_month&&(a.greater_amount=" is required!",U({msg:"Net total is not greater than salary per month",run:!0})),a})(y,Y+E);let t=!1;for(let a in e)if(a){t=!0;break}t?h(e):(v((e=>!e)),B({employeePayroll:{...y,heads:[...N,...M],basic_pay:E},sid:null===j||void 0===j?void 0:j._id,fid:s}).then((e=>{e.data.status&&(r(),i(),v((e=>!e)))})).catch({}))},style:{cursor:"pointer"},children:c("add")})]}),(0,P.jsx)(g.Z,{customStyle:{width:"100%"}}),(0,P.jsxs)("section",{className:w.Z.add_employee_staff,children:[(0,P.jsx)("img",{src:null!==j&&void 0!==j&&j.staffProfilePhoto?"".concat(R.yI,"/").concat(null===j||void 0===j?void 0:j.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff avatar"}),(0,P.jsxs)("div",{className:w.Z.add_employee_staff_text,children:[(0,P.jsx)("h6",{children:"".concat(null!==(t=null===j||void 0===j?void 0:j.staffFirstName)&&void 0!==t?t:""," \n                  ").concat(null!==(a=null===j||void 0===j?void 0:j.staffMiddleName)&&void 0!==a?a:"","\n                  ").concat(null!==(l=null===j||void 0===j?void 0:j.staffLastName)&&void 0!==l?l:""," ")}),(0,P.jsxs)("p",{children:[c("index_number")," : ",null!==(n=null===j||void 0===j?void 0:j.staffROLLNO)&&void 0!==n?n:""]})]})]}),(0,P.jsx)(Z.Z,{labelText:c("salary_per_months"),placeholder:c("salary_per_months_placeholder"),name:"staff_salary_month",value:null===y||void 0===y?void 0:y.staff_salary_month,type:"text",onChange:e=>x((t=>({...t,staff_salary_month:+e.target.value}))),errorShow:f.staff_salary_month}),(0,P.jsx)(Z.Z,{labelText:c("paid_per_months"),placeholder:c("paid_per_months_placeholder"),name:"staff_total_paid_leaves",value:null===y||void 0===y?void 0:y.staff_total_paid_leaves,type:"text",onChange:e=>x((t=>({...t,staff_total_paid_leaves:+e.target.value})))}),(0,P.jsx)(O,{setFilterBy:H,setActivePopupIndex:u,addFeeHead:N,setAddFeeHead:F,setAddFeeHeadDecution:D,addFeeHeadDeduction:M,addEmployeeState:y,setBasicSalary:L,basickSalary:E,setTotalValidation:G,activePopupIndex:_})]}),2===_&&(0,P.jsx)(J,{onClose:()=>u(1),setAddFeeHead:F,financeId:s,filterBy:I,setAddFeeHeadDecution:D}),m&&(0,P.jsx)(k.Z,{})]})}),W.run&&(0,P.jsx)(A.Ch,{msg:W.msg,run:W.run,setRun:()=>U({msg:"",run:!1}),postiton:"bottom",type:"error"})]})};var B=a(33710);const Y=e=>{var t,a;let{salaryData:l,attendanceDay:n,onAttendance:i,leaveTaken:s,setYears:r,setMonths:d,viewAs:c,salaryFilter:_}=e;const{t:u}=(0,p.$G)(),{selectedDate:m,monthNames:v,getNextMonth:f,getPrevMonth:h}=(0,B.Z)();(0,o.useEffect)((()=>{"HISTORY"!==c&&(d(v[m.getMonth()]),r(m.getFullYear()))}),[m,c]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("section",{className:w.Z.fees_head_title,style:{justifyContent:"HISTORY"==c?"center":"space-between"},children:["HISTORY"!==c&&(0,P.jsx)("img",{src:"/images/members/back-icon-white.svg",style:{cursor:"pointer"},onClick:()=>{h()}}),(0,P.jsxs)("h6",{className:"".concat(w.Z.yearmonth),children:["".concat(v[m.getMonth()])," ","".concat(m.getFullYear())]}),"HISTORY"!==c&&(0,P.jsx)("img",{src:"/images/members/forward-icon-white.svg",style:{cursor:"pointer"},onClick:()=>{f()}})]}),(0,P.jsxs)("section",{className:w.Z.fees_head_installment,children:[(0,P.jsx)("h6",{children:u("account_salary_per_day")}),(0,P.jsxs)("h6",{children:[u("rs"),". ",null!==(t=null===l||void 0===l?void 0:l.staff_salary_month)&&void 0!==t?t:""]})]}),(0,P.jsxs)("section",{className:w.Z.fees_head_installment,children:[(0,P.jsx)("h6",{children:u("account_attendance")}),(0,P.jsxs)("h6",{style:{display:"flex",alignItems:"center"},children:["HISTORY"===c?(0,P.jsx)("span",{style:{marginRight:"0.3rem"},children:null===_||void 0===_?void 0:_.attendence}):(0,P.jsx)("input",{type:"tel",value:n,onChange:i,className:w.Z.fee_head_amount_input,style:{width:"auto",marginRight:"0.3rem"}}),(0,P.jsx)("span",{children:u("account_days")})]})]}),(0,P.jsx)(g.Z,{customStyle:{width:"100%",marginBottom:"1rem"}}),(0,P.jsxs)("section",{className:w.Z.fees_head_installment,children:[(0,P.jsx)("h6",{children:u("account_paid_leaves")}),(0,P.jsxs)("h6",{children:[u("account_total")," ",null!==(a=null===l||void 0===l?void 0:l.staff_total_paid_leaves)&&void 0!==a?a:""," ",u("account_days")]})]}),(0,P.jsxs)("section",{className:w.Z.fees_head_installment,children:[(0,P.jsx)("h6",{children:u("account_paid_leaves_taken")}),(0,P.jsxs)("h6",{children:[u("account_total")," ","HISTORY"===c?(null===_||void 0===_?void 0:_.paid_leaves)>(null===l||void 0===l?void 0:l.staff_total_paid_leaves)?null===l||void 0===l?void 0:l.staff_total_paid_leaves:null===_||void 0===_?void 0:_.paid_leaves:s>(null===l||void 0===l?void 0:l.staff_total_paid_leaves)?null===l||void 0===l?void 0:l.staff_total_paid_leaves:0," ",u("account_days")]})]})]})},G=e=>{let{netTotal:t,onClose:a,name:l,month:n,year:i,onAccount:s}=e;const{t:r}=(0,p.$G)(),[d,c]=(0,o.useState)({payment_mode:""}),[_,u]=(0,o.useState)("");return(0,P.jsx)(C.Z,{onClose:()=>{},children:(0,P.jsxs)("div",{className:w.Z.add_category_modal,style:{width:"35rem",minHeight:"10rem",maxHeight:"35rem",overflowY:"scroll",overflowX:"hidden"},children:[(0,P.jsx)("div",{className:w.Z.add_category_modal_title,children:(0,P.jsxs)("section",{className:w.Z.add_category_modal_title_left,children:[(0,P.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:a,alt:""}),(0,P.jsx)("h6",{children:r("record_payment_entry")})]})}),(0,P.jsx)(g.Z,{customStyle:{width:"100%"}}),(0,P.jsx)(F.Z,{selectLabel:r("select_transaction_mode"),selectedValue:r("select_transaction_mode_placeholder"),options:["By Cash","By Bank"],errorShow:_.payment_mode,value:d.payment_mode,onClick:e=>{c({payment_mode:e})}}),(0,P.jsxs)("div",{className:h,style:{marginTop:"1rem"},children:[(0,P.jsx)("p",{children:"Purpose"}),(0,P.jsx)("h6",{children:"Monthly Salary"})]}),(0,P.jsxs)("div",{className:h,children:[(0,P.jsx)("p",{children:"Amount"}),(0,P.jsxs)("h6",{children:["Rs. ",t," /-"]})]}),(0,P.jsxs)("div",{className:h,children:[(0,P.jsx)("p",{children:"Paid to"}),(0,P.jsxs)("h6",{children:["Mr. ",l]})]}),(0,P.jsxs)("div",{className:h,children:[(0,P.jsx)("p",{children:"Description"}),(0,P.jsxs)("h6",{children:["Salary for the month of ",n," ",i]})]}),(0,P.jsx)("button",{className:w.Z.payroll_account_btn,onClick:()=>{d.payment_mode?s({payment_mode:d.payment_mode,purpose:"Monthly Salary",message:"Salary for the month of ".concat(n," ").concat(i),paid_to:l}):u({payment_mode:"* required"})},children:r("account")})]})})},W=e=>{var t,a,l,n,i,s,r,d,c,_,u,m,v,f,h,y,x,j,S,N,F,Z,M,D;let{selectedEmployee:I,onClose:H,financeId:T}=e;const{t:O}=(0,p.$G)(),E=(new Date).toISOString(),[J,L]=(0,o.useState)(!1),[W,U]=(0,o.useState)([]),[q,K]=(0,o.useState)([]),[V,Q]=(0,o.useState)(0),[$,X]=(0,o.useState)(0),[z,ee]=(0,o.useState)(0),[te,ae]=(0,o.useState)(0),[oe,le]=(0,o.useState)(""),[ne,ie]=(0,o.useState)(""),{daysInMonth:se}=(0,B.Z)(),[re,de]=(0,o.useState)(!1),[ce]=(0,b.s0)(),[_e,ue]=(0,o.useState)(!1),[me,ve]=(0,o.useState)({msg:"",run:!1}),{financeOneEmployeeDetailHistory:fe,financeOneEmployeeDetailHistoryRefetch:he}=(0,b.lr)({data:{type:"Detail",eid:null===I||void 0===I?void 0:I._id,month:""},skip:!(null!==I&&void 0!==I&&I._id)}),{oneStaffAttendance:pe,oneStaffAttendanceRefetch:ge}=(0,b.n5)({data:{sid:null===I||void 0===I||null===(t=I.staff)||void 0===t?void 0:t._id,month:"".concat(E.substring(5,7)),year:"".concat(E.substring(0,4))},skip:!(null!==I&&void 0!==I&&null!==(a=I.staff)&&void 0!==a&&a._id)});(0,o.useEffect)((()=>{null!==I&&void 0!==I&&I._id&&he()}),[null===I||void 0===I?void 0:I._id,he]),o.useEffect((()=>{var e;null!==I&&void 0!==I&&null!==(e=I.staff)&&void 0!==e&&e._id&&ge()}),[null===I||void 0===I||null===(l=I.staff)||void 0===l?void 0:l._id,ge]),(0,o.useEffect)((()=>{if(null!==fe&&void 0!==fe&&fe.detail){var e,t,a,o;let v=0,f=0;if(null!==(e=fe.detail)&&void 0!==e&&e.pay_master_heads_particular){var l;let e=null===(l=fe.detail)||void 0===l?void 0:l.pay_master_heads_particular,t=[];for(let a=0;a<(null===e||void 0===e?void 0:e.length);a++){var n,i,s,r;t.push({month_master_name:null===(n=e[a])||void 0===n?void 0:n.master_name,month_master_amount:null===(i=e[a])||void 0===i?void 0:i.master_amount,month_master_status:null===(s=e[a])||void 0===s?void 0:s.master_status,month_master_id:null===(r=e[a])||void 0===r?void 0:r.master_id}),v+=+e[a].master_amount,f+=+e[a].master_amount}U(t)}if(null!==(t=fe.detail)&&void 0!==t&&t.pay_master_heads_deduction){var d;let e=null===(d=fe.detail)||void 0===d?void 0:d.pay_master_heads_deduction,t=[];for(let a=0;a<(null===e||void 0===e?void 0:e.length);a++){var c,_,u,m;t.push({month_master_name:null===(c=e[a])||void 0===c?void 0:c.master_name,month_master_amount:null===(_=e[a])||void 0===_?void 0:_.master_amount,month_master_status:null===(u=e[a])||void 0===u?void 0:u.master_status,month_master_id:null===(m=e[a])||void 0===m?void 0:m.master_id}),f-=+e[a].master_amount}K(t)}Q(v),X(f),ee(null!==(a=null===(o=fe.detail)||void 0===o?void 0:o.basic_pay)&&void 0!==a?a:0),ue(!0)}}),[null===fe||void 0===fe||null===(n=fe.detail)||void 0===n?void 0:n.pay_master_heads_particular,null===fe||void 0===fe||null===(i=fe.detail)||void 0===i?void 0:i.pay_master_heads_deduction,null===fe||void 0===fe?void 0:fe.detail]),(0,o.useEffect)((()=>{if(pe&&_e){var e,t;let l=se-((null===pe||void 0===pe?void 0:pe.absentCount)+(null===pe||void 0===pe?void 0:pe.leaveCount)),n=0,i=0;ae(l);let s=(null===pe||void 0===pe?void 0:pe.absentCount)+(null===pe||void 0===pe?void 0:pe.leaveCount),r=+(null===fe||void 0===fe||null===(e=fe.detail)||void 0===e?void 0:e.staff_total_paid_leaves)-s,d=se+r;d>se&&(d=se);let c=+(null===fe||void 0===fe||null===(t=fe.detail)||void 0===t?void 0:t.basic_pay)/se*d;const _=[...W];for(let e=0;e<(null===_||void 0===_?void 0:_.length);e++){var a;_[e].month_master_amount=+(null===(a=_[e].month_master_amount/se*d)||void 0===a?void 0:a.toFixed(0))}for(let e=0;e<(null===_||void 0===_?void 0:_.length);e++)n+=+_[e].month_master_amount,i+=+_[e].month_master_amount;const u=[...q];for(let e=0;e<(null===u||void 0===u?void 0:u.length);e++){var o;u[e].month_master_amount=+(null===(o=u[e].month_master_amount/se*d)||void 0===o?void 0:o.toFixed(0))}for(let e=0;e<(null===u||void 0===u?void 0:u.length);e++)i-=+u[e].month_master_amount;U(_),K(u),Q(n),X(i),ee(c),ue(!1)}}),[pe,null===fe||void 0===fe?void 0:fe.detail,_e]);(0,o.useEffect)((()=>{if(te){var e,t,a;let y=+te,x=(null===fe||void 0===fe||null===(e=fe.detail)||void 0===e?void 0:e.basic_pay)/se*y,j=0,S=0;if(null!==(t=fe.detail)&&void 0!==t&&t.pay_master_heads_particular){var o;let e=null===(o=fe.detail)||void 0===o?void 0:o.pay_master_heads_particular,t=[];for(let a=0;a<(null===e||void 0===e?void 0:e.length);a++){var l,n,i,s,r,d,c,_,u;t.push({month_master_name:null===(l=e[a])||void 0===l?void 0:l.master_name,month_master_amount:+(null===(n=(null===(i=e[a])||void 0===i?void 0:i.master_amount)/se*y)||void 0===n?void 0:n.toFixed(0)),month_master_status:null===(s=e[a])||void 0===s?void 0:s.master_status,month_master_id:null===(r=e[a])||void 0===r?void 0:r.master_id}),j+=+(null===(d=(null===(c=e[a])||void 0===c?void 0:c.master_amount)/se*y)||void 0===d?void 0:d.toFixed(0)),S+=+(null===(_=(null===(u=e[a])||void 0===u?void 0:u.master_amount)/se*y)||void 0===_?void 0:_.toFixed(0))}U(t)}if(null!==(a=fe.detail)&&void 0!==a&&a.pay_master_heads_deduction){var m;let e=null===(m=fe.detail)||void 0===m?void 0:m.pay_master_heads_deduction,t=[];for(let a=0;a<(null===e||void 0===e?void 0:e.length);a++){var v,f,h,p,g;t.push({month_master_name:null===(v=e[a])||void 0===v?void 0:v.master_name,month_master_amount:+(null===(f=e[a].master_amount/se*y)||void 0===f?void 0:f.toFixed(0)),month_master_status:null===(h=e[a])||void 0===h?void 0:h.master_status,month_master_id:null===(p=e[a])||void 0===p?void 0:p.master_id}),S-=+(null===(g=e[a].master_amount/se*y)||void 0===g?void 0:g.toFixed(0))}K(t)}Q(j),X(S),ee(x)}}),[te,null===fe||void 0===fe||null===(s=fe.detail)||void 0===s?void 0:s.pay_master_heads_particular,null===fe||void 0===fe||null===(r=fe.detail)||void 0===r?void 0:r.pay_master_heads_deduction]);return(0,P.jsxs)(P.Fragment,{children:[!J&&(0,P.jsxs)(C.Z,{onClose:()=>{},children:[(0,P.jsxs)("div",{className:w.Z.add_category_modal,style:{width:"35rem",minHeight:"10rem",maxHeight:"35rem",overflowY:"scroll",overflowX:"hidden"},children:[(0,P.jsx)("div",{className:w.Z.add_category_modal_title,children:(0,P.jsxs)("section",{className:w.Z.add_category_modal_title_left,children:[(0,P.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:H,alt:""}),(0,P.jsxs)("section",{className:w.Z.add_employee_staff,children:[(0,P.jsx)("img",{src:null!==I&&void 0!==I&&null!==(d=I.staff)&&void 0!==d&&d.staffProfilePhoto?"".concat(R.yI,"/").concat(null===I||void 0===I||null===(c=I.staff)||void 0===c?void 0:c.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff avatar"}),(0,P.jsxs)("div",{className:w.Z.add_employee_staff_text,children:[(0,P.jsx)("h6",{children:"".concat(null!==(_=null===I||void 0===I||null===(u=I.staff)||void 0===u?void 0:u.staffFirstName)&&void 0!==_?_:""," \n            ").concat(null!==(m=null===I||void 0===I||null===(v=I.staff)||void 0===v?void 0:v.staffMiddleName)&&void 0!==m?m:"","\n            ").concat(null!==(f=null===I||void 0===I||null===(h=I.staff)||void 0===h?void 0:h.staffLastName)&&void 0!==f?f:""," ")}),(0,P.jsxs)("p",{children:[O("index_number")," :"," ",null!==(y=null===I||void 0===I||null===(x=I.staff)||void 0===x?void 0:x.staffROLLNO)&&void 0!==y?y:""]})]})]})]})}),(0,P.jsx)(g.Z,{customStyle:{width:"100%"}}),(0,P.jsx)(Y,{salaryData:null===fe||void 0===fe?void 0:fe.detail,attendanceDay:te,leaveTaken:(null===pe||void 0===pe?void 0:pe.leaveCount)+(null===pe||void 0===pe?void 0:pe.absentCount),onAttendance:e=>{ae(+e.target.value)},setMonths:le,setYears:ie}),(0,P.jsxs)("section",{className:w.Z.table_container,children:[(0,P.jsxs)("div",{className:w.Z.table_heading,children:[(0,P.jsx)("h6",{children:O("particular")}),(0,P.jsx)("h6",{children:O("amount")})]}),(0,P.jsxs)("div",{className:w.Z.table_body_list,children:[(0,P.jsx)("h6",{children:"Basic Salary"}),(0,P.jsx)("input",{type:"number",value:null===z||void 0===z?void 0:z.toFixed(0),className:w.Z.fee_head_amount_input,onChange:e=>ee(+e.target.value)})]}),(0,P.jsx)("div",{className:w.Z.table_body,children:null===W||void 0===W?void 0:W.map(((e,t)=>(0,P.jsxs)("div",{className:w.Z.table_body_list,children:[(0,P.jsx)("h6",{children:null===e||void 0===e?void 0:e.month_master_name}),(0,P.jsx)("input",{type:"tel",value:null===e||void 0===e?void 0:e.month_master_amount,onChange:e=>((e,t)=>{let a=0,o=0;const l=[...W];for(let i=0;i<(null===l||void 0===l?void 0:l.length);i++)i===t&&(l[i].month_master_amount=+e.target.value);for(let i=0;i<(null===l||void 0===l?void 0:l.length);i++)a+=l[i].month_master_amount,o+=l[i].month_master_amount;const n=[...q];for(let i=0;i<(null===n||void 0===n?void 0:n.length);i++)o-=n[i].month_master_amount;U(l),Q(a),X(o)})(e,t),className:w.Z.fee_head_amount_input})]},t)))}),(0,P.jsx)("div",{className:w.Z.table_body,children:(0,P.jsxs)("div",{className:w.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.8)",borderTopWidth:"2px",borderTopStyle:"solid",borderBottomColor:"rgba(18, 18, 18, 0.8)",borderBottomWidth:"2px"},children:[(0,P.jsx)("h6",{className:w.Z.fees_total,children:O("gross_total")}),(0,P.jsx)("h6",{className:w.Z.fees_total,children:(V+z).toFixed(0)})]})}),(0,P.jsx)("div",{className:w.Z.table_body,children:null===q||void 0===q?void 0:q.map(((e,t)=>(0,P.jsxs)("div",{className:w.Z.table_body_list,children:[(0,P.jsx)("h6",{children:null===e||void 0===e?void 0:e.month_master_name}),(0,P.jsx)("input",{type:"tel",value:null===e||void 0===e?void 0:e.month_master_amount,onChange:e=>((e,t)=>{let a=V;const o=[...q];for(let l=0;l<(null===o||void 0===o?void 0:o.length);l++)l===t&&(o[l].month_master_amount=+e.target.value);for(let l=0;l<(null===o||void 0===o?void 0:o.length);l++)a-=o[l].month_master_amount;K(o),X(a)})(e,t),className:w.Z.fee_head_amount_input})]},t)))}),(0,P.jsx)("div",{className:w.Z.table_body,children:(0,P.jsxs)("div",{className:w.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.8)",borderTopWidth:"2px",borderTopStyle:"solid",borderBottomColor:"rgba(18, 18, 18, 0.8)",borderBottomWidth:"2px"},children:[(0,P.jsx)("h6",{className:w.Z.fees_total,children:O("net_total")}),(0,P.jsx)("h6",{className:w.Z.fees_total,children:($+z).toFixed(0)})]})})]}),(0,P.jsx)("button",{className:w.Z.payroll_account_btn,onClick:()=>{var e,t;let a=$+z;+a<(null===fe||void 0===fe||null===(e=fe.detail)||void 0===e?void 0:e.staff_salary_month)?ve({msg:"Net total is not less than salary per month",run:!0}):+a>(null===fe||void 0===fe||null===(t=fe.detail)||void 0===t?void 0:t.staff_salary_month)?ve({msg:"Net total is not greater than salary per month",run:!0}):L(!0)},children:O("account")})]}),re&&(0,P.jsx)(k.Z,{})]}),J&&(0,P.jsx)(G,{onClose:()=>L(!1),name:"".concat(null!==(j=null===I||void 0===I||null===(S=I.staff)||void 0===S?void 0:S.staffFirstName)&&void 0!==j?j:""," \n        ").concat(null!==(N=null===I||void 0===I||null===(F=I.staff)||void 0===F?void 0:F.staffMiddleName)&&void 0!==N?N:"","\n        ").concat(null!==(Z=null===I||void 0===I||null===(M=I.staff)||void 0===M?void 0:M.staffLastName)&&void 0!==Z?Z:""," "),netTotal:null===(D=$+z)||void 0===D?void 0:D.toFixed(2),month:oe,year:ne,onAccount:e=>{var t,a;de((e=>!e)),L(!1),ce({fid:T,eid:null===I||void 0===I?void 0:I._id,addPayroll:{month:E.substring(0,10),attendence:te,paid_leaves:(null===pe||void 0===pe?void 0:pe.leaveCount)+(null===pe||void 0===pe?void 0:pe.absentCount),...e,amount:z,basic_pay:z,gross_salary:null===(t=V+z)||void 0===t?void 0:t.toFixed(2),net_total:null===(a=$+z)||void 0===a?void 0:a.toFixed(2),master:[...W,...q]}}).then((()=>{H(),de((e=>!e))})).catch({})}}),me.run&&(0,P.jsx)(A.Ch,{msg:me.msg,run:me.run,setRun:()=>ve({msg:"",run:!1}),postiton:"bottom",type:"error"})]})},U=e=>{var t,a,o,l,n,i,s,r,d,c;let{staff:_,setSelectedEmployee:u}=e;const{t:v}=(0,p.$G)();return(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)("section",{className:m,onClick:()=>u(_),title:"Open staff Account",children:[(0,P.jsx)("img",{src:null!==_&&void 0!==_&&null!==(t=_.staff)&&void 0!==t&&t.staffProfilePhoto?"".concat(R.yI,"/").concat(null===_||void 0===_||null===(a=_.staff)||void 0===a?void 0:a.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff avatar"}),(0,P.jsxs)("div",{className:f,children:[(0,P.jsx)("h6",{children:"".concat(null!==(o=null===_||void 0===_||null===(l=_.staff)||void 0===l?void 0:l.staffFirstName)&&void 0!==o?o:""," \n  ").concat(null!==(n=null===_||void 0===_||null===(i=_.staff)||void 0===i?void 0:i.staffMiddleName)&&void 0!==n?n:"","\n  ").concat(null!==(s=null===_||void 0===_||null===(r=_.staff)||void 0===r?void 0:r.staffLastName)&&void 0!==s?s:""," ")}),(0,P.jsxs)("p",{children:[v("index_number")," : ",null!==(d=null===_||void 0===_||null===(c=_.staff)||void 0===c?void 0:c.staffROLLNO)&&void 0!==d?d:""]})]})]})})},q=e=>{let{fid:t,instituteId:a}=e;const{t:l}=(0,p.$G)(),[i,s]=(0,o.useState)(!1),[r,d]=(0,S.YD)(),[c,_]=(0,o.useState)(1),[u,m]=(0,o.useState)(!0),[v,f]=(0,o.useState)(!1),[h,g]=(0,o.useState)(!0),[y,x]=(0,o.useState)([]),[j,b]=(0,o.useState)(""),{data:F,refetch:Z}=(0,H.nP)({fid:t,page:c,limit:10},{skip:!t});(0,o.useEffect)((()=>{t&&(g(!0),Z())}),[t,c,Z]),(0,o.useEffect)((()=>{d&&u&&_((e=>e+1))}),[d,u]),(0,o.useEffect)((()=>{var e,t;v?(x(null===F||void 0===F?void 0:F.allEmp),f(!1),g(!1)):null!==F&&void 0!==F&&F.allEmp?(x((e=>{var t,a;return null===(t=[...new Set(null===(a=[...e,...null===F||void 0===F?void 0:F.allEmp])||void 0===a?void 0:a.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),g(!1)):0===(null===F||void 0===F||null===(t=F.allEmp)||void 0===t?void 0:t.length)&&g(!1);10===(null===F||void 0===F||null===(e=F.allEmp)||void 0===e?void 0:e.length)?m(!0):m(!1)}),[null===F||void 0===F?void 0:F.allEmp]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,P.jsx)("h6",{className:n,onClick:()=>s(!0),children:l("add_new_employess")})}),null===y||void 0===y?void 0:y.map(((e,t)=>{var a,o;return(null===y||void 0===y?void 0:y.length)===t+1?(0,P.jsx)("div",{ref:r,children:(0,P.jsx)(U,{staff:e,setSelectedEmployee:b})},null===e||void 0===e||null===(a=e.staff)||void 0===a?void 0:a._id):(0,P.jsx)(U,{staff:e,setSelectedEmployee:b},null===e||void 0===e||null===(o=e.staff)||void 0===o?void 0:o._id)})),i&&(0,P.jsx)(L,{onRefetch:()=>{f(!0),_(1),g(!0),Z()},onClose:()=>s(!1),financeId:t,instituteId:a}),j&&(0,P.jsx)(W,{selectedEmployee:j,onClose:()=>b(""),financeId:t}),h&&(0,P.jsx)(N.Z,{})]})},K=e=>{var t,a,l,n,i,s,r,d,c,_,u,m,v,f,h,y,x,j,S,N,F,Z,k,M,D,I,H,T,A,O,E,J,L,B,G,W;let{openEmployeeHistory:U,onClose:q,headMonth:K}=e;const{t:V}=(0,p.$G)(),{financeOneEmployeeDetailHistory:Q,financeOneEmployeeDetailHistoryRefetch:$}=(0,b.lr)({data:{type:"History",eid:null===U||void 0===U||null===(t=U.emp_pay)||void 0===t?void 0:t._id,month:K||(null===(a=new Date("".concat(null===U||void 0===U?void 0:U.month)).toISOString())||void 0===a?void 0:a.substring(0,7))},skip:!(null!==U&&void 0!==U&&null!==(l=U.emp_pay)&&void 0!==l&&l._id)});return(0,o.useEffect)((()=>{var e;null!==U&&void 0!==U&&null!==(e=U.emp_pay)&&void 0!==e&&e._id&&$()}),[null===U||void 0===U||null===(n=U.emp_pay)||void 0===n?void 0:n._id,$]),(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(C.Z,{onClose:q,children:(0,P.jsxs)("div",{className:w.Z.add_category_modal,style:{width:"35rem",minHeight:"10rem",maxHeight:"35rem",overflowY:"scroll",overflowX:"hidden"},children:[(0,P.jsx)("div",{className:w.Z.add_category_modal_title,children:(0,P.jsxs)("section",{className:w.Z.add_category_modal_title_left,children:[(0,P.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:q,alt:""}),(0,P.jsxs)("section",{className:w.Z.add_employee_staff,children:[(0,P.jsx)("img",{src:null!==U&&void 0!==U&&null!==(i=U.emp_pay)&&void 0!==i&&null!==(s=i.staff)&&void 0!==s&&s.staffProfilePhoto?"".concat(R.yI,"/").concat(null===U||void 0===U||null===(r=U.emp_pay)||void 0===r||null===(d=r.staff)||void 0===d?void 0:d.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff avatar"}),(0,P.jsxs)("div",{className:w.Z.add_employee_staff_text,children:[(0,P.jsx)("h6",{children:"".concat(null!==(c=null===U||void 0===U||null===(_=U.emp_pay)||void 0===_||null===(u=_.staff)||void 0===u?void 0:u.staffFirstName)&&void 0!==c?c:""," \n            ").concat(null!==(m=null===U||void 0===U||null===(v=U.emp_pay)||void 0===v||null===(f=v.staff)||void 0===f?void 0:f.staffMiddleName)&&void 0!==m?m:"","\n            ").concat(null!==(h=null===U||void 0===U||null===(y=U.emp_pay)||void 0===y||null===(x=y.staff)||void 0===x?void 0:x.staffLastName)&&void 0!==h?h:""," ")}),(0,P.jsxs)("p",{children:[V("index_number")," :"," ",null!==(j=null===Q||void 0===Q||null===(S=Q.detail)||void 0===S||null===(N=S.staff)||void 0===N?void 0:N.staffROLLNO)&&void 0!==j?j:""]})]})]})]})}),(0,P.jsx)(g.Z,{customStyle:{width:"100%"}}),(0,P.jsx)(Y,{salaryData:null===Q||void 0===Q?void 0:Q.detail,salaryFilter:null===Q||void 0===Q||null===(F=Q.filter)||void 0===F?void 0:F[0],viewAs:"HISTORY"}),(0,P.jsxs)("section",{className:w.Z.table_container,children:[(0,P.jsxs)("div",{className:w.Z.table_heading,children:[(0,P.jsx)("h6",{children:V("particular")}),(0,P.jsx)("h6",{children:V("amount")})]}),(0,P.jsxs)("div",{className:w.Z.table_body_list,children:[(0,P.jsx)("h6",{children:"Basic Salary"}),(0,P.jsx)("h6",{children:null===Q||void 0===Q||null===(Z=Q.filter)||void 0===Z||null===(k=Z[0])||void 0===k||null===(M=k.amount)||void 0===M?void 0:M.toFixed(2)})]}),(0,P.jsx)("div",{className:w.Z.table_body,children:null===Q||void 0===Q||null===(D=Q.filter)||void 0===D||null===(I=D[0])||void 0===I||null===(H=I.month_master)||void 0===H?void 0:H.map(((e,t)=>"Deduction"!==(null===e||void 0===e?void 0:e.month_master_status)?(0,P.jsxs)("div",{className:w.Z.table_body_list,children:[(0,P.jsx)("h6",{children:null===e||void 0===e?void 0:e.month_master_name}),(0,P.jsx)("h6",{children:null===e||void 0===e?void 0:e.month_master_amount})]},t):""))}),(0,P.jsx)("div",{className:w.Z.table_body,children:(0,P.jsxs)("div",{className:w.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.8)",borderTopWidth:"2px",borderTopStyle:"solid",borderBottomColor:"rgba(18, 18, 18, 0.8)",borderBottomWidth:"2px"},children:[(0,P.jsx)("h6",{className:w.Z.fees_total,children:V("gross_total")}),(0,P.jsx)("h6",{className:w.Z.fees_total,children:null===Q||void 0===Q||null===(T=Q.filter)||void 0===T||null===(A=T[0])||void 0===A||null===(O=A.gross_salary)||void 0===O?void 0:O.toFixed(2)})]})}),(0,P.jsx)("div",{className:w.Z.table_body,children:null===Q||void 0===Q||null===(E=Q.filter)||void 0===E||null===(J=E[0])||void 0===J||null===(L=J.month_master)||void 0===L?void 0:L.map(((e,t)=>"Deduction"===(null===e||void 0===e?void 0:e.month_master_status)?(0,P.jsxs)("div",{className:w.Z.table_body_list,children:[(0,P.jsx)("h6",{children:null===e||void 0===e?void 0:e.month_master_name}),(0,P.jsx)("h6",{children:null===e||void 0===e?void 0:e.month_master_amount})]},t):""))}),(0,P.jsx)("div",{className:w.Z.table_body,children:(0,P.jsxs)("div",{className:w.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.8)",borderTopWidth:"2px",borderTopStyle:"solid",borderBottomColor:"rgba(18, 18, 18, 0.8)",borderBottomWidth:"2px"},children:[(0,P.jsx)("h6",{className:w.Z.fees_total,children:V("net_total")}),(0,P.jsx)("h6",{className:w.Z.fees_total,children:null===Q||void 0===Q||null===(B=Q.filter)||void 0===B||null===(G=B[0])||void 0===G||null===(W=G.net_total)||void 0===W?void 0:W.toFixed(2)})]})})]})]})})})},V=e=>{var t,a,o,l,n,i,s,r,d,c,_,u,v,h,g;let{staff:y,setOpenEmployeeHistory:x}=e;const{t:j}=(0,p.$G)();return(0,P.jsxs)("section",{className:m,onClick:()=>x(y),title:"View Payroll info",children:[(0,P.jsx)("img",{src:null!==y&&void 0!==y&&null!==(t=y.emp_pay)&&void 0!==t&&null!==(a=t.staff)&&void 0!==a&&a.staffProfilePhoto?"".concat(R.yI,"/").concat(null===y||void 0===y||null===(o=y.emp_pay)||void 0===o||null===(l=o.staff)||void 0===l?void 0:l.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff avatar"}),(0,P.jsxs)("div",{className:f,children:[(0,P.jsx)("h6",{children:"".concat(null!==(n=null===y||void 0===y||null===(i=y.emp_pay)||void 0===i||null===(s=i.staff)||void 0===s?void 0:s.staffFirstName)&&void 0!==n?n:""," \n").concat(null!==(r=null===y||void 0===y||null===(d=y.emp_pay)||void 0===d||null===(c=d.staff)||void 0===c?void 0:c.staffMiddleName)&&void 0!==r?r:"","\n").concat(null!==(_=null===y||void 0===y||null===(u=y.emp_pay)||void 0===u||null===(v=u.staff)||void 0===v?void 0:v.staffLastName)&&void 0!==_?_:""," ")}),(0,P.jsxs)("p",{children:[j("salary")," : ",j("rs")," ",(0,P.jsx)("span",{style:{fontWeight:"600"},children:null!==(h=null===y||void 0===y?void 0:y.salary)&&void 0!==h?h:""})," ","/- ",null!==(g=null===y||void 0===y?void 0:y.pay_mode)&&void 0!==g?g:""]})]})]})},Q=e=>{var t;let{fid:a}=e;const{t:l}=(0,p.$G)(),[n,i]=(0,o.useState)(!0),[s,r]=(0,o.useState)(""),{getPayrollSalaryHistoryList:d,getPayrollSalaryHistoryListRefetch:c}=(0,b.Vl)({fid:a,skip:!a});return(0,o.useEffect)((()=>{a&&c()}),[a,c]),(0,o.useEffect)((()=>{var e;(null!==d&&void 0!==d&&d.salary||0===(null===d||void 0===d||null===(e=d.salary)||void 0===e?void 0:e.length))&&i(!1)}),[null===d||void 0===d?void 0:d.salary]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("h6",{style:{margin:"0.7rem 0"},children:l("payment_record_history")}),null===d||void 0===d||null===(t=d.salary)||void 0===t?void 0:t.map((e=>(0,P.jsx)(V,{staff:e,setOpenEmployeeHistory:r}))),s&&(0,P.jsx)(K,{openEmployeeHistory:s,onClose:()=>r("")}),n&&(0,P.jsx)(N.Z,{})]})};var $=a(72426),X=a.n($),z=a(59965),ee=a(49886);const te=e=>{var t;let{onClose:a,fid:l,onRefetchWhenConfirm:n,openAccountPayment:i}=e;const{t:s}=(0,p.$G)(),[r,d]=(0,o.useState)(!1),[c,_]=(0,o.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),[u,m]=(0,o.useState)({msg:"",run:!1}),[v,f]=(0,o.useState)(""),[h]=(0,b.dR)(),y=e=>{"fee_payment_mode"===e.target.name?_((t=>({...t,[e.target.name]:e.target.value,mode:"By Cash"===e.target.value?"Offline":"Online",fee_payment_mode:e.target.value}))):_((t=>({...t,[e.target.name]:e.target.value})))};return(0,P.jsx)(C.Z,{onClose:a,children:(0,P.jsxs)("div",{className:w.Z.add_category_modal,style:{width:"35rem",minHeight:"10rem",maxHeight:"35rem",overflowY:"scroll",overflowX:"hidden"},children:[(0,P.jsxs)("div",{className:w.Z.add_category_modal_title,children:[(0,P.jsxs)("h6",{children:[s("account")," TDS ",s("payment")]}),(0,P.jsx)("img",{src:"/images/close-post-icon.svg",onClick:a,alt:""})]}),(0,P.jsx)(g.Z,{customStyle:{width:"100%",marginTop:"0.7rem"}}),(0,P.jsxs)("div",{className:w.Z.account_payment_row,children:[(0,P.jsxs)("h6",{children:[s("payable")," :"]}),(0,P.jsxs)("h6",{children:[s("rs"),". ",null!==(t=null===i||void 0===i?void 0:i.pay_amount)&&void 0!==t?t:0]})]}),(0,P.jsx)(ee.Z,{paymentHeading:s("payment_type_mode"),onInputChange:y,errorShow:v.payment_type_mode}),(0,P.jsx)(Z.Z,{labelText:"".concat(s("amount")," "),name:"amount",type:"tel",value:c.amount,onChange:e=>{_((t=>({...t,amount:+e.target.value,fee_payment_amount:+e.target.value})))},placeholder:s("amoute_placeholder"),errorShow:v.fee_payment_amount}),(0,P.jsx)(z.Z,{labelText:s("select_date_of_transaction"),placeholder:s("please_select_date"),name:"transaction_date",value:c.transaction_date,onDateFunction:e=>{const t=null===e||void 0===e?void 0:e.split("/");_((e=>({...e,transaction_date:"".concat(t[2],"-").concat(t[1],"-").concat(t[0])})))},customStyleContainer:{position:"relative",marginTop:"0.5rem"},datePickerPosition:{position:"relative",top:"-20rem"},customStyleLabel:{marginTop:"7px"},errorShow:v.transaction_date}),"By Cash"===c.fee_payment_mode?"":(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Z.Z,{labelText:s("bank_name_collect"),name:"fee_bank_name",type:"tel",value:c.fee_bank_name,onChange:y,placeholder:s("please_enter_bank_name"),customStyleLabel:{marginTop:"7px",marginBottom:"7px"}}),(0,P.jsx)(Z.Z,{labelText:s("banke_holder_name"),name:"fee_bank_holder",type:"tel",value:c.fee_bank_holder,onChange:y,placeholder:s("please_enter_name_of_bank_holder"),customStyleLabel:{marginTop:"7px",marginBottom:"7px"}}),(0,P.jsx)(Z.Z,{labelText:s("cheque_dd_neft"),name:"fee_utr_reference",type:"tel",value:c.fee_utr_reference,onChange:y,placeholder:s("please_enter_utr_ref_number"),customStyleLabel:{marginTop:"7px",marginBottom:"7px"}})]}),(0,P.jsx)("button",{className:w.Z.set_fees_structure_btn,onClick:()=>{const e=(e=>{const t={};for(let a in e)"fee_bank_name"===a||"fee_bank_holder"===a||"fee_utr_reference"===a||"amount"===a||"mode"===a||(e[a]?"fee_payment_amount"===a&&(e[a]<=(null===i||void 0===i?void 0:i.pay_amount)||(m({msg:"You can not enter amount greater than payable amount",run:!0}),t.remain="".concat(a," is required!"))):t[a]="".concat(a," is required!"));return t})(c);let t=!1;for(let a in e){t=!0;break}t?f(e):(d(!0),""!==l?h({fid:l,mwid:null===i||void 0===i?void 0:i._id,accountHead:c}).then((e=>{n(),a(),d(!1)})).catch({}):d(!1))},style:{justifyContent:"center"},children:s("confirm")}),r&&(0,P.jsx)(k.Z,{})]})})},ae=e=>{var t,a,n,i,u;let{carryParentState:m,fid:v}=e;const{t:f}=(0,p.$G)(),h=(0,x.TH)(),y=(0,x.UO)(),[F,Z]=(0,S.YD)(),[k,C]=(0,o.useState)(1),[w,M]=(0,o.useState)(!0),[D,I]=(0,o.useState)(!0),[H,T]=(0,o.useState)(),[R,A]=(0,o.useState)([]),[O,E]=(0,o.useState)(!1),{getOnePayrollHeadMonth:J,getOnePayrollHeadMonthRefetch:L}=(0,b.bG)({data:{pmid:null===(t=h.state)||void 0===t?void 0:t.pmid,page:k,limit:10},skip:!(null!==(a=h.state)&&void 0!==a&&a.pmid)});(0,o.useEffect)((()=>{var e;null!==(e=h.state)&&void 0!==e&&e.pmid&&(I(!0),L())}),[null===(n=h.state)||void 0===n?void 0:n.pmid,k,L]),(0,o.useEffect)((()=>{Z&&w&&C((e=>e+1))}),[Z,w]),(0,o.useEffect)((()=>{var e,t;O?(A(null===J||void 0===J?void 0:J.all_month_wise),E(!1),I(!1)):null!==J&&void 0!==J&&J.all_month_wise?(A((e=>{var t,a;return null===(t=[...new Set(null===(a=[...e,...null===J||void 0===J?void 0:J.all_month_wise])||void 0===a?void 0:a.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),I(!1)):0===(null===J||void 0===J||null===(t=J.all_month_wise)||void 0===t?void 0:t.length)&&I(!1);10===(null===J||void 0===J||null===(e=J.all_month_wise)||void 0===e?void 0:e.length)?M(!0):M(!1)}),[null===J||void 0===J?void 0:J.all_month_wise]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:l,children:[(0,P.jsx)("h6",{children:null!==(i=null===(u=h.state)||void 0===u?void 0:u.salaryHead)&&void 0!==i?i:""}),(0,P.jsx)(g.Z,{customStyle:{width:"100%",marginBottom:"1rem"}}),null===R||void 0===R?void 0:R.map(((e,t)=>{var a,o,l,n,i,u,v,p;return(null===R||void 0===R?void 0:R.length)===t+1?(0,P.jsx)(j.rU,{to:"/q/".concat(y.username,"/member/staff/finance?type=payroll&n=head&d=info&f=staff"),state:{...m,mwid:null===e||void 0===e?void 0:e._id,salaryHead:null!==(a=null===(o=h.state)||void 0===o?void 0:o.salaryHead)&&void 0!==a?a:"",monthDate:null===e||void 0===e||null===(l=e.pay_month)||void 0===l?void 0:l.substring(0,7)},children:(0,P.jsxs)("section",{className:s,ref:F,children:[(0,P.jsx)("img",{src:"/images/finance/calender-payroll-icon.svg",alt:"payroll"}),(0,P.jsxs)("div",{className:r,children:[(0,P.jsxs)("div",{className:d,children:[(0,P.jsx)("h6",{children:X()(null===e||void 0===e?void 0:e.pay_month).format("MMMM yyyy")}),(0,P.jsxs)("p",{children:[f("rs"),". ",null===e||void 0===e?void 0:e.pay_amount]})]}),"Deduction"===(null===(n=h.state)||void 0===n?void 0:n.salaryType)&&("Not Paid"===(null===e||void 0===e?void 0:e.pay_status)?(0,P.jsx)("button",{className:c,onClick:t=>{t.preventDefault(),T(e)},children:f("pay")}):(0,P.jsx)("button",{className:_,children:f("receipt")}))]})]})},null===e||void 0===e?void 0:e._id):(0,P.jsx)(j.rU,{to:"/q/".concat(y.username,"/member/staff/finance?type=payroll&n=head&d=info&f=staff"),state:{...m,mwid:null===e||void 0===e?void 0:e._id,salaryHead:null!==(i=null===(u=h.state)||void 0===u?void 0:u.salaryHead)&&void 0!==i?i:"",monthDate:null===e||void 0===e||null===(v=e.pay_month)||void 0===v?void 0:v.substring(0,7)},children:(0,P.jsxs)("section",{className:s,children:[(0,P.jsx)("img",{src:"/images/finance/calender-payroll-icon.svg",alt:"payroll"}),(0,P.jsxs)("div",{className:r,children:[(0,P.jsxs)("div",{className:d,children:[(0,P.jsx)("h6",{children:X()(null===e||void 0===e?void 0:e.pay_month).format("MMMM yyyy")}),(0,P.jsxs)("p",{children:[f("rs"),". ",null===e||void 0===e?void 0:e.pay_amount]})]}),"Deduction"===(null===(p=h.state)||void 0===p?void 0:p.salaryType)&&("Not Paid"===(null===e||void 0===e?void 0:e.pay_status)?(0,P.jsx)("button",{className:c,onClick:t=>{t.preventDefault(),T(e)},children:f("pay")}):(0,P.jsx)("button",{className:_,children:f("receipt")}))]})]})},null===e||void 0===e?void 0:e._id)})),D&&(0,P.jsx)(N.Z,{})]}),H&&(0,P.jsx)(te,{onClose:()=>T(""),fid:v,openAccountPayment:H,onRefetchWhenConfirm:()=>{E(!0),C(1),I(!0),L()}})]})},oe=e=>{var t,a,n,i,s,r;let{fid:d}=e;const{t:c}=(0,p.$G)(),_=(0,x.TH)(),[m,f]=(0,S.YD)(),[h,y]=(0,o.useState)(1),[j,F]=(0,o.useState)(!0),[Z,k]=(0,o.useState)(!0),[C,w]=(0,o.useState)(""),[M,D]=(0,o.useState)([]),{getOnePayrollHeadEmployee:I,getOnePayrollHeadEmployeeRefetch:H}=(0,b.tu)({data:{mwid:null===(t=_.state)||void 0===t?void 0:t.mwid,page:h,limit:10},skip:!(null!==(a=_.state)&&void 0!==a&&a.mwid)});return(0,o.useEffect)((()=>{var e;null!==(e=_.state)&&void 0!==e&&e.mwid&&(k(!0),H())}),[null===(n=_.state)||void 0===n?void 0:n.mwid,h,H]),(0,o.useEffect)((()=>{f&&j&&y((e=>e+1))}),[f,j]),(0,o.useEffect)((()=>{var e,t;null!==I&&void 0!==I&&I.all_emp?(D((e=>{var t,a;return null===(t=[...new Set(null===(a=[...e,...null===I||void 0===I?void 0:I.all_emp])||void 0===a?void 0:a.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),k(!1)):0===(null===I||void 0===I||null===(e=I.all_emp)||void 0===e?void 0:e.length)&&k(!1),10===(null===I||void 0===I||null===(t=I.all_emp)||void 0===t?void 0:t.length)?F(!0):F(!1)}),[null===I||void 0===I?void 0:I.all_emp]),(0,P.jsxs)("div",{className:l,children:[(0,P.jsx)("h6",{children:null!==(i=null===(s=_.state)||void 0===s?void 0:s.salaryHead)&&void 0!==i?i:""}),(0,P.jsx)(g.Z,{customStyle:{width:"100%",marginBottom:"1rem"}}),null===M||void 0===M?void 0:M.map(((e,t)=>{var a,o,l,n,i,s,r,d,_,f,h,p,g,y,x,j,S,b,N,F,Z,k,C,D,I,H;return(null===M||void 0===M?void 0:M.length)===t+1?(0,P.jsxs)("section",{className:u,ref:m,style:{marginBottom:"0.7rem",cursor:"pointer"},onClick:()=>w({emp_pay:null===e||void 0===e?void 0:e.emp}),title:"View Payroll History",children:[(0,P.jsx)("img",{src:null!==e&&void 0!==e&&null!==(a=e.emp)&&void 0!==a&&null!==(o=a.staff)&&void 0!==o&&o.staffProfilePhoto?"".concat(R.yI,"/").concat(null===e||void 0===e||null===(l=e.emp)||void 0===l||null===(n=l.staff)||void 0===n?void 0:n.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff"}),(0,P.jsxs)("div",{className:v,children:[(0,P.jsx)("h6",{children:"".concat(null!==(i=null===e||void 0===e||null===(s=e.emp)||void 0===s||null===(r=s.staff)||void 0===r?void 0:r.staffFirstName)&&void 0!==i?i:""," \n            ").concat(null!==(d=null===e||void 0===e||null===(_=e.emp)||void 0===_||null===(f=_.staff)||void 0===f?void 0:f.staffMiddleName)&&void 0!==d?d:"","\n            ").concat(null!==(h=null===e||void 0===e||null===(p=e.emp)||void 0===p||null===(g=p.staff)||void 0===g?void 0:g.staffLastName)&&void 0!==h?h:""," ")}),(0,P.jsxs)("p",{children:[c("rs"),". ",null===e||void 0===e?void 0:e.amount]})]})]},null===e||void 0===e?void 0:e._id):(0,P.jsxs)("section",{className:u,style:{marginBottom:"0.7rem",cursor:"pointer"},onClick:()=>w({emp_pay:null===e||void 0===e?void 0:e.emp}),title:"View Payroll History",children:[(0,P.jsx)("img",{src:null!==e&&void 0!==e&&null!==(y=e.emp)&&void 0!==y&&null!==(x=y.staff)&&void 0!==x&&x.staffProfilePhoto?"".concat(R.yI,"/").concat(null===e||void 0===e||null===(j=e.emp)||void 0===j||null===(S=j.staff)||void 0===S?void 0:S.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff"}),(0,P.jsxs)("div",{className:v,children:[(0,P.jsx)("h6",{children:"".concat(null!==(b=null===e||void 0===e||null===(N=e.emp)||void 0===N||null===(F=N.staff)||void 0===F?void 0:F.staffFirstName)&&void 0!==b?b:""," \n            ").concat(null!==(Z=null===e||void 0===e||null===(k=e.emp)||void 0===k||null===(C=k.staff)||void 0===C?void 0:C.staffMiddleName)&&void 0!==Z?Z:"","\n            ").concat(null!==(D=null===e||void 0===e||null===(I=e.emp)||void 0===I||null===(H=I.staff)||void 0===H?void 0:H.staffLastName)&&void 0!==D?D:""," ")}),(0,P.jsxs)("p",{children:[c("rs"),". ",null===e||void 0===e?void 0:e.amount]})]})]},null===e||void 0===e?void 0:e._id)})),Z&&(0,P.jsx)(N.Z,{}),C&&(0,P.jsx)(K,{openEmployeeHistory:C,onClose:()=>w(""),headMonth:null===(r=_.state)||void 0===r?void 0:r.monthDate})]})};var le=a(65543),ne=a(21348);const ie=function(e){let{fid:t,instituteId:a}=e;const{t:n}=(0,p.$G)(),i=(0,x.TH)(),[s]=(0,j.lr)(),r=[{name:n("payroll_staffs"),id:0,url:"member/staff/finance?type=payroll"},{name:n("salary_heads"),id:1,url:"member/staff/finance?type=payroll&n=head"},{name:n("history"),id:2,url:"member/staff/finance?type=payroll&n=history"}],{scrollToTop:d}=(0,le.u)();return(0,o.useEffect)((()=>{d()}),[]),(0,P.jsxs)(P.Fragment,{children:["info"===s.get("d")||"staff"===s.get("f")?"":(0,P.jsx)(ne.Z,{children:(0,P.jsxs)("div",{className:l,children:[(0,P.jsx)("h6",{children:n("payroll")}),(0,P.jsx)(y.Z,{tabList:r,activeIndexTab:"head"===s.get("n")?1:"history"===s.get("n")?2:"payroll"===s.get("type")?0:3,showAs:!0,customStyleTab:{width:"100%"},carryParentState:i.state,customStyleLink:{width:"33.3%"}}),(0,P.jsx)(g.Z,{customStyle:{width:"100%"}})]})}),"staff"===s.get("f")?(0,P.jsx)(ne.Z,{children:(0,P.jsx)(oe,{carryParentState:i.state,fid:t,instituteId:a})}):"info"===s.get("d")?(0,P.jsx)(ne.Z,{children:(0,P.jsx)(ae,{carryParentState:i.state,fid:t,instituteId:a})}):"history"===s.get("n")?(0,P.jsx)(ne.Z,{children:(0,P.jsx)(Q,{fid:t,instituteId:a})}):"head"===s.get("n")?(0,P.jsx)(ne.Z,{children:(0,P.jsx)(I,{carryParentState:i.state,fid:t,instituteId:a})}):"payroll"===s.get("type")?(0,P.jsx)(ne.Z,{children:(0,P.jsx)(q,{fid:t,instituteId:a})}):null]})}},49886:(e,t,a)=>{a.d(t,{Z:()=>_});var o=a(72791),l=a(39230),n=a(91022);const i="PaymentModeType_payment_mode_heading__RpGh8";var s=a(80184);const r=["Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft","Fee Receipt Not Generated"],d=["Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft","Unrecovered/Exemption","Fee Receipt Not Generated"],c=["By Bank","By Cash"],_=e=>{let{paymentHeading:t,paymentHeadingPlaceholder:a,onInputChange:_,errorShow:u,openAs:m,viewAs:v}=e;const{t:f}=(0,l.$G)(),[h,p]=(0,o.useState)("");(0,o.useEffect)((()=>{"REFUND"===m&&p("Refunded"),"FINANCE_MANAGER"===v&&p("Govt. Grant/Scholarship")}),[m]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("h6",{className:i,children:[" ",t," "]}),(0,s.jsx)(n.Z,{selectLabel:a||f("mode_placeholder"),value:h,onClick:"DEPOSIT_REFUND_LIST"===m?e=>{p(e),_(e)}:e=>{p(e),_({target:{name:"fee_payment_mode",value:"Cash"===e?"By Cash":"Unrecovered/Exemption"===e?"Exempted/Unrecovered":"Govt. Grant/Scholarship"===e?"Government/Scholarship":e}})},selectedValue:f("please_select_payment_mode"),options:"DEPOSIT_REFUND_LIST"===m?c:a?d:r,customLabelStyle:{marginTop:"0",marginBottom:"7px",fontWeight:"400",fontSize:"12px",color:"rgba(18, 18, 18, 0.8)"},customListStyle:{maxHeight:"fit-content"},errorShow:u,openAs:m,viewAs:v})]})}},12923:(e,t,a)=>{a.d(t,{Ec:()=>y,Em:()=>S,JM:()=>m,NS:()=>n,Pg:()=>v,Q_:()=>g,RH:()=>u,Tv:()=>r,U_:()=>p,VN:()=>i,Wj:()=>c,ZS:()=>_,_8:()=>x,d5:()=>d,tB:()=>h,vI:()=>j,yx:()=>s,zO:()=>f});var o=a(91007),l=a(58208);const n=e=>{const{data:t,refetch:a}=(0,l.YD)(e.search,{skip:e.skip});return{instituteAllSearch:t,instituteAllSearchRefetch:a}},i=()=>{const[e]=(0,l.ak)();return[e]},s=()=>{const[e]=(0,l.WL)();return[e]},r=e=>{const{data:t,refetch:a}=(0,l.pH)(e.list,{skip:e.skip});return{instituteFollowList:t,instituteFollowListRefetch:a}},d=e=>{const{data:t,refetch:a}=(0,l.MG)(e.data,{skip:e.skip});return{instituteOwnFollowingList:t,instituteOwnFollowingListRefetch:a}},c=()=>{const[e]=(0,l.Ky)();return[e]},_=e=>{const{data:t,refetch:a}=(0,l.p8)(e.list);return{userFollowList:t,userFollowListRefetch:a}},u=e=>{const{data:t,refetch:a}=(0,l.Wv)(e);return{userFollowingList:t,userFollowingListRefetch:a}},m=e=>{const{data:t,refetch:a}=(0,l.sz)(e.search,{skip:e.skip});return{userAllSearch:t,userAllSearchRefetch:a}},v=()=>{const[e]=(0,l.Mk)();return[e]},f=()=>{const[e]=(0,l.$i)();return[e]},h=()=>{const[e]=(0,l.Do)();return[e]},p=()=>{const[e]=(0,l.He)();return[e]},g=()=>{const[e]=(0,l.vg)();return[e]},y=()=>{const[e]=(0,l.OO)();return[e]},x=e=>{const{data:t,refetch:a}=(0,l.N2)(e);return{userCircleList:t,userCircleListRefetch:a}},j=e=>{const{data:t,refetch:a}=(0,o.x6)(e.search,{skip:e.skip});return{assignSearchStaff:t,assignSearchStaffRefetch:a}},S=e=>{const{data:t,refetch:a}=(0,l.SJ)(e);return{universalUser:t,universalUserRefetch:a}}},98094:(e,t,a)=>{a.d(t,{Z:()=>n});a(72791);var o=a(55136),l=a(80184);const n=e=>{let{customStyle:t}=e;return(0,l.jsx)("hr",{className:o.Z.universal_hr,style:{...t}})}},87932:(e,t,a)=>{a.d(t,{ES:()=>p,FT:()=>f,G1:()=>j,HL:()=>_,Iv:()=>N,JL:()=>k,Jb:()=>y,Kd:()=>K,Ls:()=>A,OS:()=>l,PY:()=>w,SN:()=>M,Ud:()=>Z,Vc:()=>c,Vl:()=>X,W4:()=>F,WB:()=>Y,WV:()=>D,Xf:()=>m,Z:()=>v,_$:()=>G,_7:()=>E,__:()=>ee,bC:()=>J,bG:()=>V,dR:()=>$,db:()=>I,do:()=>u,f3:()=>b,fF:()=>x,fZ:()=>z,hu:()=>te,iN:()=>i,j2:()=>n,j7:()=>B,jd:()=>H,lV:()=>S,lr:()=>r,mF:()=>W,n5:()=>d,o9:()=>T,oM:()=>O,rU:()=>h,s0:()=>s,sR:()=>g,sv:()=>R,tu:()=>Q,uD:()=>P,vJ:()=>U,vp:()=>q,wB:()=>C,yR:()=>L});var o=a(14304);const l=e=>{const{data:t,refetch:a}=(0,o.x$)(e.data,{skip:e.skip});return{financeDetailManager:t,financeDetailManagerRefetch:a}},n=e=>{const{data:t,refetch:a}=(0,o.Qm)(e.data,{skip:e.skip});return{financeAllHistory:t,financeAllHistoryRefetch:a}},i=()=>{const[e]=(0,o.FM)();return[e]},s=()=>{const[e]=(0,o.PJ)();return[e]},r=e=>{const{data:t,refetch:a}=(0,o.AG)(e.data,{skip:e.skip});return{financeOneEmployeeDetailHistory:t,financeOneEmployeeDetailHistoryRefetch:a}},d=e=>{const{data:t,refetch:a}=(0,o.yO)(e.data,{skip:e.skip});return{oneStaffAttendance:t,oneStaffAttendanceRefetch:a}},c=e=>{const{data:t,refetch:a}=(0,o.cP)(e.id,{skip:e.skip});return{merchantId:t,merchantIdRefetch:a}},_=e=>{const{data:t,refetch:a}=(0,o.iQ)(e.data,{skip:e.skip});return{getBankByFinance:t,getBankByFinanceRefetch:a}},u=()=>{const[e]=(0,o.rT)();return[e]},m=()=>{const[e]=(0,o.Uz)();return[e]},v=e=>{const{data:t,refetch:a}=(0,o.Nm)(e.fid,{skip:e.skip});return{getAllFeesCategory:t,getAllFeesCategoryRefetch:a}},f=()=>{const[e]=(0,o.aJ)();return[e]},h=e=>{const{data:t,refetch:a}=(0,o.jy)(e.data,{skip:e.skip});return{getAllFeesStructure:t,getAllFeesStructureRefetch:a}},p=()=>{const[e]=(0,o.Tw)();return[e]},g=e=>{const{data:t,refetch:a}=(0,o.EK)(e.fsid,{skip:e.skip});return{oneFeeStructureDetail:t,oneFeeStructureDetailRefetch:a}},y=()=>{const[e]=(0,o.hR)();return[e]},x=e=>{const{data:t,refetch:a}=(0,o.tj)(e.data,{skip:e.skip});return{getAllFeeHeadMaster:t,getAllFeeHeadMasterRefetch:a}},j=()=>{const[e]=(0,o.CM)();return[e]},S=()=>{const[e]=(0,o.tM)();return[e]},b=()=>{const[e]=(0,o.Z1)();return[e]},N=()=>{const[e]=(0,o.QF)();return[e]},F=()=>{const[e]=(0,o.Zy)();return[e]},Z=()=>{const[e]=(0,o.wt)();return[e]},k=()=>{const[e]=(0,o.Tz)();return[e]},C=()=>{const[e]=(0,o.QH)();return[e]},w=()=>{const[e]=(0,o.ko)();return[e]},P=()=>{const[e]=(0,o.a2)();return[e]},M=e=>{const{data:t,refetch:a}=(0,o.HH)(e.data,{skip:e.skip});return{filterTransactionHistory:t,filterTransactionHistoryRefetch:a}},D=e=>{const{data:t,refetch:a}=(0,o.jq)(e.data,{skip:e.skip});return{getAllExcelByFinance:t,getAllExcelByFinanceRefetch:a}},I=()=>{const[e]=(0,o.EP)();return[e]},H=()=>{const[e]=(0,o.xY)();return[e]},T=e=>{const{data:t,refetch:a}=(0,o.Dg)(e.data,{skip:e.skip});return{getAllBankByFinance:t,getAllBankByFinanceRefetch:a}},R=e=>{const{data:t,refetch:a}=(0,o.pB)(e.bid,{skip:e.skip});return{getOneBankByFinance:t,getOneBankByFinanceRefetch:a}},A=()=>{const[e]=(0,o.Cr)();return[e]},O=()=>{const[e]=(0,o.xT)();return[e]},E=e=>{const{data:t,refetch:a}=(0,o.F9)(e.data,{skip:e.skip});return{getMasterDepositAllByFinance:t,getMasterDepositAllByFinanceRefetch:a}},J=()=>{const[e]=(0,o.ie)();return[e]},L=e=>{const{data:t,refetch:a}=(0,o.dh)(e.data,{skip:e.skip});return{getModeratorByFinance:t,getModeratorByFinanceRefetch:a}},B=()=>{const[e]=(0,o.jX)();return[e]},Y=()=>{const[e]=(0,o.it)();return[e]},G=()=>{const[e]=(0,o.NA)();return[e]},W=()=>{const[e]=(0,o.V7)();return[e]},U=e=>{const{data:t,refetch:a}=(0,o.XE)(e.id,{skip:e.skip});return{getAllStandardInstitute:t,getAllStandardInstituteRefetch:a}},q=e=>{const{data:t,refetch:a}=(0,o.db)(e.data,{skip:e.skip});return{getPayrollHeadList:t,getPayrollHeadListRefetch:a}},K=()=>{const[e]=(0,o.h_)();return[e]},V=e=>{const{data:t,refetch:a}=(0,o.fi)(e.data,{skip:e.skip});return{getOnePayrollHeadMonth:t,getOnePayrollHeadMonthRefetch:a}},Q=e=>{const{data:t,refetch:a}=(0,o.Ih)(e.data,{skip:e.skip});return{getOnePayrollHeadEmployee:t,getOnePayrollHeadEmployeeRefetch:a}},$=()=>{const[e]=(0,o.bj)();return[e]},X=e=>{const{data:t,refetch:a}=(0,o.wr)(e.fid,{skip:e.skip});return{getPayrollSalaryHistoryList:t,getPayrollSalaryHistoryListRefetch:a}},z=()=>{const[e]=(0,o.JO)();return[e]},ee=e=>{const{data:t,refetch:a}=(0,o.mi)(e.data,{skip:e.skip});return{filterHostelFeeHeadReceipt:t,filterHostelFeeHeadReceiptRefetch:a}},te=e=>{const{data:t,refetch:a}=(0,o.DN)(e.rid,{skip:e.skip});return{financeTransportReceipt:t,financeTransportReceiptRefetch:a}}},52124:(e,t,a)=>{a.d(t,{Z:()=>o});const o={assign_title:"AssignStaffModal_assign_title__4DGBV",assign_search_container:"AssignStaffModal_assign_search_container__3x6RD",assign_search_input:"AssignStaffModal_assign_search_input__rO3c7",assign_show_list:"AssignStaffModal_assign_show_list__yHhf7",assign_show_list_each:"AssignStaffModal_assign_show_list_each__ACUEw",assign_each_paragraph:"AssignStaffModal_assign_each_paragraph__pMHTq",universal_modal:"AssignStaffModal_universal_modal__czmpB",is_mulitselect_container:"AssignStaffModal_is_mulitselect_container__0cPQ2"}},38733:(e,t,a)=>{a.d(t,{Z:()=>o});const o={navbar:"JoinForm_navbar__npU1d",join_form_container:"JoinForm_join_form_container__6Q37N",join_form_container_view:"JoinForm_join_form_container_view__WTHSM",join_form_label_view:"JoinForm_join_form_label_view__S0UQR",join_form_label:"JoinForm_join_form_label__+f6Zt",join_form_input_view:"JoinForm_join_form_input_view__IQBh3",join_form_input:"JoinForm_join_form_input__9NwMx",join_form_select:"JoinForm_join_form_select__ZKKC0",join_form_text_area:"JoinForm_join_form_text_area__LO4QP",join_form_select_paragraph:"JoinForm_join_form_select_paragraph__I7OdI",goback_container:"JoinForm_goback_container__QOvvd",goback_container_text:"JoinForm_goback_container_text__ypd18",goback_container_text_go:"JoinForm_goback_container_text_go__1LHHZ",student_from_container:"JoinForm_student_from_container__nqW9v",student_from_fill:"JoinForm_student_from_fill__wK3o3",student_from_fill_edit:"JoinForm_student_from_fill_edit__KnMCY",form_container:"JoinForm_form_container__zv+j1",form_other_field:"JoinForm_form_other_field__KTI7H",form_container_profile:"JoinForm_form_container_profile__mhlA2",form_container_profile_image:"JoinForm_form_container_profile_image__3MM9C",form_container_profile_photo:"JoinForm_form_container_profile_photo__rEoTw",form_container_profile_image_label:"JoinForm_form_container_profile_image_label__b3SWJ",form_edit_icon:"JoinForm_form_edit_icon__-KIJI",form_profile_info:"JoinForm_form_profile_info__lWv7z",join_form_file_container:"JoinForm_join_form_file_container__48w3c",join_form_file_choose:"JoinForm_join_form_file_choose__wRgT3",join_form_file_choosen:"JoinForm_join_form_file_choosen__H3gUQ",join_form_yes:"JoinForm_join_form_yes__uvOsh",join_form_no:"JoinForm_join_form_no__DOdmt",join_form_active_background:"JoinForm_join_form_active_background__g8OsI",student_detail_name:"JoinForm_student_detail_name__jhziI",student_detail_gender:"JoinForm_student_detail_gender__WLAnI",optional_subject:"JoinForm_optional_subject__8yMbd",arrowIcon:"JoinForm_arrowIcon__zjTO0",join_form_select_custom:"JoinForm_join_form_select_custom__l0lyn",join_form_select_custom_paragraph:"JoinForm_join_form_select_custom_paragraph__h6oDm",join_form_select_custom_icon:"JoinForm_join_form_select_custom_icon__K+ezK",join_form_select_custom_list:"JoinForm_join_form_select_custom_list__Zq-RM",join_form_select_custom_paragraph_option:"JoinForm_join_form_select_custom_paragraph_option__dfz95",add_batch_wise:"JoinForm_add_batch_wise__12tq5",only_admssion_fees:"JoinForm_only_admssion_fees__jjmRd",form_add_fee_btn:"JoinForm_form_add_fee_btn__9gdSc",is_fee_remain:"JoinForm_is_fee_remain__7hNMX",search_container:"JoinForm_search_container__N1K46",search_container_text:"JoinForm_search_container_text__rMKzy",searchIcon:"JoinForm_searchIcon__07z4t",skip_i_do:"JoinForm_skip_i_do__Sri7h",login_details_modal:"JoinForm_login_details_modal__jhsQQ",login_details_modal_title:"JoinForm_login_details_modal_title__JDkZp",login_details_btn:"JoinForm_login_details_btn__2kYn2",profilephotocontainer:"JoinForm_profilephotocontainer__-5H5K",profilephotoins:"JoinForm_profilephotoins__-LFGo",certidyheading:"JoinForm_certidyheading__NJO+i",buttoncontainer:"JoinForm_buttoncontainer__S+iaM",buttonInner:"JoinForm_buttonInner__jv-6K",button_main:"JoinForm_button_main__7JKyK",duplicateCopy:"JoinForm_duplicateCopy__AfcNi",letter_head_container:"JoinForm_letter_head_container__AMFGH"}},45639:(e,t,a)=>{a.d(t,{Z:()=>o});const o={universal_container:"UniversalTab_universal_container__uxTOR",universal_container_item:"UniversalTab_universal_container_item__M0pS7",universal_container_item_active:"UniversalTab_universal_container_item_active__3u3Wt"}},33399:(e,t,a)=>{a.d(t,{Z:()=>o});const o={fess_container:"FeesStructure_fess_container__KJfJA",category_header:"FeesStructure_category_header__0NZE9",category_header_title:"FeesStructure_category_header_title__a6uYK",fees_category:"FeesStructure_fees_category__B3Yax",fees_category_icon:"FeesStructure_fees_category_icon__JArrd",fees_category_text:"FeesStructure_fees_category_text__pt891",assignment_description_head:"FeesStructure_assignment_description_head__Qc3FE",assignment_description:"FeesStructure_assignment_description__qqF15",department_container:"FeesStructure_department_container__dpMM0",department_card_name:"FeesStructure_department_card_name__eWHf+",department_card_head:"FeesStructure_department_card_head__B2ZwA",department_card_title:"FeesStructure_department_card_title__eyEiT",add_new_category:"FeesStructure_add_new_category__3y9Qr",category_card:"FeesStructure_category_card__NVUgp",fees_card_text:"FeesStructure_fees_card_text__F3gSO",category_card_fee:"FeesStructure_category_card_fee__3w8Sb",fees_card_text_bottom:"FeesStructure_fees_card_text_bottom__7HBFH",department_card_container:"FeesStructure_department_card_container__4Otk6",department_card_image:"FeesStructure_department_card_image__+RQd-",fees_card:"FeesStructure_fees_card__WTgO6",add_category_modal:"FeesStructure_add_category_modal__a37mG",add_category_modal_title:"FeesStructure_add_category_modal_title__DxkYZ",structure_container_title:"FeesStructure_structure_container_title__EUdFM",add_category_modal_title_left:"FeesStructure_add_category_modal_title_left__2nPOT",set_fees_structure_btn:"FeesStructure_set_fees_structure_btn__V7NPc",installment_list:"FeesStructure_installment_list__wA45E",fees_head_title:"FeesStructure_fees_head_title__IxR06",fees_head_installment:"FeesStructure_fees_head_installment__IiGql",table_heading:"FeesStructure_table_heading__RNv9z",table_container:"FeesStructure_table_container__hJ+PK",table_body:"FeesStructure_table_body__O02ZC",table_body_list:"FeesStructure_table_body_list__F5n3s",fee_head_name_input:"FeesStructure_fee_head_name_input__mmPKk",fee_head_amount_input:"FeesStructure_fee_head_amount_input__9C2eU",add_fees_head_btn:"FeesStructure_add_fees_head_btn__YHLGM",fees_total:"FeesStructure_fees_total__-0grI",create_fees_structure_btn:"FeesStructure_create_fees_structure_btn__yySE7",fees_card_hover:"FeesStructure_fees_card_hover__3ulkW",fees_card_hover_active:"FeesStructure_fees_card_hover_active__ESF6D",fee_middle_section:"FeesStructure_fee_middle_section__INnVO",fee_middle_confirm_button:"FeesStructure_fee_middle_confirm_button__C0Q6g",fee_middle_section_container:"FeesStructure_fee_middle_section_container__1lMVJ",edit_icon:"FeesStructure_edit_icon__EhhnH",search_container:"FeesStructure_search_container__IDhvw",search_container_text:"FeesStructure_search_container_text__PWYPL",searchIcon:"FeesStructure_searchIcon__dKXPf",category_card_hover:"FeesStructure_category_card_hover__vDSbu",category_card_hover_active:"FeesStructure_category_card_hover_active__5bQ7H",menu_icon:"FeesStructure_menu_icon__Ns6lc",upload_excel_container:"FeesStructure_upload_excel_container__jommG",upload_excel_file:"FeesStructure_upload_excel_file__+csTW",add_employee_staff:"FeesStructure_add_employee_staff__Hrl+P",add_employee_staff_text:"FeesStructure_add_employee_staff_text__LgZOf",payroll_account_btn:"FeesStructure_payroll_account_btn__t3vSl",account_payment_row:"FeesStructure_account_payment_row__VO533",normal_select_btn:"FeesStructure_normal_select_btn__yU6K-",seating_modal:"FeesStructure_seating_modal__w52St",add_category_modal_title_active:"FeesStructure_add_category_modal_title_active__hFUaf",notify_container:"FeesStructure_notify_container__C+qTv",notify_text:"FeesStructure_notify_text__d3pZD",next_btn:"FeesStructure_next_btn__tR55q",btn_group:"FeesStructure_btn_group__NPo8U",leave_dates:"FeesStructure_leave_dates__2IQZS",letter_head_container:"FeesStructure_letter_head_container__+fkq5",all_leave_config:"FeesStructure_all_leave_config__yscHC"}},55136:(e,t,a)=>{a.d(t,{Z:()=>o});const o={staff_profile_container:"StaffProfile_staff_profile_container__GG5AM",staff_header_container:"StaffProfile_staff_header_container__avRlK",staff_header_function:"StaffProfile_staff_header_function__l9cDM",staff_header_text:"StaffProfile_staff_header_text__XX8rQ",staff_header_prev:"StaffProfile_staff_header_prev__ImXKU",staff_header_next:"StaffProfile_staff_header_next__jjoJr",staff_header_close:"StaffProfile_staff_header_close__wXG-N",staff_profile_photo_name:"StaffProfile_staff_profile_photo_name__WWUV4",staff_profile_photo_index:"StaffProfile_staff_profile_photo_index__-yyx9",each_info_container:"StaffProfile_each_info_container__Mo3TB",each_field_text:"StaffProfile_each_field_text__vvAvg",each_field_text_value:"StaffProfile_each_field_text_value__k1OsE",universal_hr:"StaffProfile_universal_hr__w130J",staff_profile_photo_container:"StaffProfile_staff_profile_photo_container__rFPEV",staff_profile_photo_info:"StaffProfile_staff_profile_photo_info__CxVDi",staff_profile_photo_image:"StaffProfile_staff_profile_photo_image__5f2cC",staff_profile_photo_edit:"StaffProfile_staff_profile_photo_edit__y03dk",each_field_container:"StaffProfile_each_field_container__0qKjw",each_field:"StaffProfile_each_field__18G-9",student_attendane_container:"StaffProfile_student_attendane_container__64BII",student_attendance_heading:"StaffProfile_student_attendance_heading__0hW2K",colours:"StaffProfile_colours__-7mIV",monthColours:"StaffProfile_monthColours__A3asC",percentage:"StaffProfile_percentage__GO1RT",presentcount:"StaffProfile_presentcount__u30HH",absentcount:"StaffProfile_absentcount__d+utq",link_hold_container:"StaffProfile_link_hold_container__0dRjX",link_hold_container_hostel:"StaffProfile_link_hold_container_hostel__LcldT",card_hold_container:"StaffProfile_card_hold_container__HQQcE",admission_fees:"StaffProfile_admission_fees__MoZHM",certificate_btn_container:"StaffProfile_certificate_btn_container__jui9m",admission_actions:"StaffProfile_admission_actions__ayyJD",staff_designation_btn:"StaffProfile_staff_designation_btn__4C3h7",ospp_header:"StaffProfile_ospp_header__oteF5",ospph_img:"StaffProfile_ospph_img__gPivu",cbc_row:"StaffProfile_cbc_row__rm60T",certificate_btn:"StaffProfile_certificate_btn__3NWfg"}}}]);
//# sourceMappingURL=10399.81005ff4.chunk.js.map