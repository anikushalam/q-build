{"version":3,"file":"static/js/1723.77b3020c.chunk.js","mappings":"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","sources":["optimized/UserStaffMember/StaffLeave/StaffCOffLeave/StaffCOffLeave.jsx"],"sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\nimport style from \"../../FinanceManager/FinanceManager.module.css\";\nimport { useInView } from \"react-intersection-observer\";\nimport { nextPage } from \"../../../Utils/Functions/nextPage\";\nimport { customDebounce } from \"../../../Utils/Functions/debounce\";\nimport QvipleLoader from \"../../../Loader/QvipleLoader\";\nimport Loading from \"../../../Loader/Loading\";\nimport EmptyMessage from \"../../../Utils/EmptyMessage/EmptyMessage\";\nimport { useLmsStaffRequestLeaveList } from \"../../../Hooks/ApiHooks/LmsManager/lms-manager-api\";\nimport { useTranslation } from \"react-i18next\";\nimport { assestsNavbarUrl } from \"../../../Services/UrlConfig/AssestsBaseUrl\";\nimport CreateButton from \"../../../Ui/Button/CreateButton\";\nimport StaffLeaveRequestCard from \"../StaffLeaveRequest/StaffLeaveRequestCard\";\nimport StaffNewLeaveRequest from \"../StaffLeaveRequest/StaffNewLeaveRequest\";\n\nconst StaffCOffLeave = ({ sid }) => {\n  const { t } = useTranslation();\n  const [search, setSearch] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [state, setState] = useState(true);\n  const [ref, inView] = useInView({ skip: search });\n  const [addRequest, setAddRequest] = useState(false);\n\n  const {\n    lmsStaffRequestLeaveList,\n    lmsStaffRequestLeaveListLoading,\n    lmsStaffRequestLeaveListRefetch,\n  } = useLmsStaffRequestLeaveList({\n    data: {\n      sid: sid,\n      page: page,\n      limit: 10,\n      search: search,\n      category: \"Compensation Off Leave\",\n    },\n    skip: !sid,\n  });\n  useEffect(() => {\n    if (inView && state) setPage((page) => page + 1);\n  }, [inView, state]);\n  useEffect(() => {\n    if (lmsStaffRequestLeaveList?.list?.length) {\n      let obj = nextPage(lmsStaffRequestLeaveList?.list?.length);\n      setState(() => obj);\n    }\n  }, [lmsStaffRequestLeaveList?.list]);\n\n  const onDebounce = useCallback(\n    customDebounce((val) => {\n      setPage(() => 1);\n      setSearch(val);\n    }, 1500),\n    []\n  );\n\n  const onSearchEvent = (e) => {\n    if (e.target.value) onDebounce(e.target.value);\n    else {\n      setPage(() => 1);\n      setSearch(\"\");\n    }\n  };\n\n  const onToggle = () => {\n    setAddRequest((pre) => !pre);\n  };\n  const onRefetch = useCallback(() => {\n    setPage(() => 1);\n    setSearch(\"\");\n    lmsStaffRequestLeaveListRefetch();\n  }, [lmsStaffRequestLeaveListRefetch]);\n\n  return (\n    <>\n      <div\n        className={style.fm_search_full}\n        style={{\n          marginBottom: \"0.7rem\",\n        }}\n      >\n        <section\n          className={style.fm_search_full_container}\n          style={{\n            justifyContent: \"space-between\",\n            gap: \"1rem\",\n          }}\n        >\n          <div\n            className={style.fm_search_full_container_inner}\n            style={{\n              width: \"76%\",\n            }}\n          >\n            <img\n              className={style.fm_search_full_icon}\n              alt=\"search icon\"\n              src={`${assestsNavbarUrl}/navbar-search.svg`}\n            />\n            <input\n              type=\"text\"\n              placeholder={t(\"search\")}\n              onChange={onSearchEvent}\n            />\n          </div>\n          <CreateButton\n            label={t(\"request_c_off_leave\")}\n            customStyle={{\n              margin: \"0\",\n              padding: \"0.4rem 1rem\",\n            }}\n            onAction={onToggle}\n          />\n        </section>\n      </div>\n      {lmsStaffRequestLeaveList?.list?.map((leave, index) =>\n        lmsStaffRequestLeaveList?.list?.length === index + 1 ? (\n          <div key={leave?._id} ref={ref}>\n            <StaffLeaveRequestCard leave={leave} onRefetch={onRefetch} />\n          </div>\n        ) : (\n          <StaffLeaveRequestCard\n            leave={leave}\n            key={leave?._id}\n            onRefetch={onRefetch}\n          />\n        )\n      )}\n      {lmsStaffRequestLeaveListLoading ? (\n        search ? (\n          <QvipleLoader />\n        ) : (\n          <Loading />\n        )\n      ) : search ? (\n        lmsStaffRequestLeaveList?.list?.length === 0 && (\n          <EmptyMessage title=\"No manage c-off request fuond related this search.\" />\n        )\n      ) : (\n        lmsStaffRequestLeaveList?.list?.length === 0 && (\n          <EmptyMessage title=\"No manage c-off request.\" />\n        )\n      )}\n      {addRequest && (\n        <StaffNewLeaveRequest\n          onClose={onToggle}\n          sid={sid}\n          onRefetch={onRefetch}\n          createdBy=\"Coff\"\n        />\n      )}\n    </>\n  );\n};\n\nexport default StaffCOffLeave;\n"],"names":["_ref","_lmsStaffRequestLeave3","_lmsStaffRequestLeave5","_lmsStaffRequestLeave6","sid","t","useTranslation","_useState","useState","_useState2","_slicedToArray","search","setSearch","_useState3","_useState4","page","setPage","_useState5","_useState6","state","setState","_useInView","useInView","skip","_useInView2","ref","inView","_useState7","_useState8","addRequest","setAddRequest","_useLmsStaffRequestLe","useLmsStaffRequestLeaveList","data","limit","category","lmsStaffRequestLeaveList","lmsStaffRequestLeaveListLoading","lmsStaffRequestLeaveListRefetch","useEffect","_lmsStaffRequestLeave","list","length","_lmsStaffRequestLeave2","obj","nextPage","onDebounce","useCallback","customDebounce","val","onToggle","pre","onRefetch","_jsxs","_Fragment","children","_jsx","className","style","fm_search_full","marginBottom","fm_search_full_container","justifyContent","gap","fm_search_full_container_inner","width","fm_search_full_icon","alt","src","concat","assestsNavbarUrl","type","placeholder","onChange","e","target","value","CreateButton","label","customStyle","margin","padding","onAction","map","leave","index","_lmsStaffRequestLeave4","StaffLeaveRequestCard","_id","QvipleLoader","Loading","EmptyMessage","title","StaffNewLeaveRequest","onClose","createdBy"],"sourceRoot":""}