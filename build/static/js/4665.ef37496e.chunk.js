"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[4665],{47167:function(i,e,n){var t=n(1413),a=(n(72791),n(16871)),o=n(43504),c=n(23769),l=n(45639),d=n(80184);e.Z=function(i){var e=i.tabList,n=i.activeIndexTab,r=i.setActiveIndexTab,s=i.customStyleTab,u=i.carryParentState,v=i.showAs,_=i.customStyleLink,m=(0,a.UO)();return(0,d.jsx)("div",{className:l.Z.universal_container,children:v?null===e||void 0===e?void 0:e.map((function(i,e){return"disabled"===(null===i||void 0===i?void 0:i.is_active)?(0,d.jsx)("div",{className:n===(null===i||void 0===i?void 0:i.id)?"".concat(l.Z.universal_container_item," ").concat(l.Z.universal_container_item_active):l.Z.universal_container_item,style:(0,t.Z)((0,t.Z)({},_),{},{opacity:"0.5"}),children:(0,d.jsx)(c.Z,{children:null===i||void 0===i?void 0:i.name})},e):(0,d.jsx)(o.rU,{to:"/q/".concat(m.username,"/").concat(null===i||void 0===i?void 0:i.url),state:(0,t.Z)({},u),style:(0,t.Z)({},_),children:(0,d.jsx)("div",{className:n===(null===i||void 0===i?void 0:i.id)?"".concat(l.Z.universal_container_item," ").concat(l.Z.universal_container_item_active):l.Z.universal_container_item,style:(0,t.Z)({},s),children:(0,d.jsx)(c.Z,{children:null===i||void 0===i?void 0:i.name})})},e)})):null===e||void 0===e?void 0:e.map((function(i,e){return(0,d.jsx)("div",{className:n===(null===i||void 0===i?void 0:i.id)?"".concat(l.Z.universal_container_item," ").concat(l.Z.universal_container_item_active):l.Z.universal_container_item,onClick:function(){return r(null===i||void 0===i?void 0:i.id)},style:(0,t.Z)({},s),children:(0,d.jsx)(c.Z,{children:null===i||void 0===i?void 0:i.name})},e)}))})}},23769:function(i,e,n){n.d(e,{Z:function(){return c}});var t=n(29439),a=n(72791),o=n(80184);var c=function(i){var e=i.children,n=i.onclick,c=(0,a.useState)(!1),l=(0,t.Z)(c,2),d=l[0],r=l[1],s=(0,a.useState)({x:-1,y:-1}),u=(0,t.Z)(s,2),v=u[0],_=u[1];return(0,a.useEffect)((function(){-1!==v.x&&-1!==v.y?(r(!0),setTimeout((function(){return r(!1)}),1e3)):r(!1)}),[v]),(0,a.useEffect)((function(){d||_({x:-1,y:-1})}),[d]),(0,o.jsxs)("div",{className:"ripple_btn",onClick:function(i){_({x:i.clientX-i.target.offsetLeft,y:i.clientY-i.target.offsetTop}),n&&n(i)},children:[d?(0,o.jsx)("span",{className:"ripple"}):"",(0,o.jsx)("span",{className:"content",children:e})]})}},10515:function(i,e,n){n.d(e,{Z:function(){return b}});var t=n(1413),a=n(93433),o=n(37762),c=n(29439),l=n(72791),d=n(36665),r=n(83401),s=n(39230),u=n(98094),v=n(61292),_=n(80184),m=function(i){var e=i.topic,n=i.topicId,t=(0,s.$G)().t;return(0,_.jsxs)("div",{className:r.Z.academic_card_container,children:[(0,_.jsxs)("div",{className:r.Z.academic_card_top,children:[(0,_.jsx)("img",{src:"/images/member_tab/subject/subject-topic-icon.svg",alt:"topic icon"}),(0,_.jsx)("h6",{children:t("selected_topics")})]}),null===e||void 0===e?void 0:e.map((function(i){return(0,_.jsx)(v.Z,{topic:i,topicId:n,isView:"SAVE_RECORD"},null===i||void 0===i?void 0:i._id)}))]})},f=n(72952),p=[{name:"tab_lecture",id:0,key:"Lecture"},{name:"tab_practical",id:1,key:"Practical"},{name:"tab_tutorial",id:2,key:"Tutorial"}],h=function(i){var e=i.topic,n=i.state,d=i.setState,u=i.isEdit,v=i.topicId,h=(0,s.$G)().t,x=(0,l.useState)([]),j=(0,c.Z)(x,2),Z=j[0],y=j[1];return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:r.Z.record_tab_container,children:null===p||void 0===p?void 0:p.map((function(i){return(0,_.jsx)("div",{className:n.rec_status===(null===i||void 0===i?void 0:i.key)?"".concat(r.Z.record_tab," ").concat(r.Z.record_tab_active):r.Z.record_tab,onClick:function(){return e=null===i||void 0===i?void 0:i.key,void d((function(i){return(0,t.Z)((0,t.Z)({},i),{},{rec_status:e})}));var e},children:(0,_.jsx)("h6",{children:h(null===i||void 0===i?void 0:i.name)})},null===i||void 0===i?void 0:i.id)}))}),(0,_.jsx)(m,{topic:e,topicId:v}),(0,_.jsx)(f.Z,{labelText:h("additional_info_optional"),placeholder:h("additional_info_optional_placeholder"),name:"additiona_info",value:n.updateDescription,type:"text",onChange:function(i){return d((function(e){return(0,t.Z)((0,t.Z)({},e),{},{updateDescription:i.target.value})}))},customStyleContainer:{width:"100%"}}),u?null:(0,_.jsxs)("div",{className:r.Z.aditional_info_images,children:[null===Z||void 0===Z?void 0:Z.map((function(i,e){return(0,_.jsx)("img",{src:i,alt:"uploaded avatar"},e)})),(0,_.jsx)("label",{htmlFor:"upload",children:(0,_.jsx)("img",{src:"/images/member_tab/subject/subject-camera-icon.svg",alt:"camera icon",style:{cursor:"pointer"}})})]}),(0,_.jsx)("input",{multiple:!0,type:"file",name:"upload",id:"upload",style:{display:"none"},onChange:function(i){var e;if(null!==(e=i.target.files)&&void 0!==e&&e.length){var n,c=[],l=(0,o.Z)(i.target.files);try{for(l.s();!(n=l.n()).done;){var r=n.value;c.push(URL.createObjectURL(r))}}catch(s){l.e(s)}finally{l.f()}y(c),d((function(e){return(0,t.Z)((0,t.Z)({},e),{},{files:[].concat((0,a.Z)(e.files),(0,a.Z)(i.target.files))})}))}},accept:"image/gif, image/jpeg, image/png, image/*"})]})},x=n(44564),j=n(98734),Z=n(40444),y=n(60233),g=n(51561),b=function(i){var e=i.onClose,n=i.sid,v=i.onRefetch,m=i.dailyMenu,f=(0,s.$G)().t,p=(0,l.useState)(2),b=(0,c.Z)(p,2),N=b[0],k=b[1],C=(0,l.useState)(!1),S=(0,c.Z)(C,2),D=S[0],T=S[1],I=(0,l.useState)({updateDescription:"",rec_status:"Lecture",files:[],date:""}),w=(0,c.Z)(I,2),E=w[0],L=w[1],U=(0,l.useState)({msg:"",run:!1}),M=(0,c.Z)(U,2),R=M[0],A=M[1],F=(0,l.useState)([]),V=(0,c.Z)(F,2),G=V[0],O=V[1],P=(0,l.useState)([]),$=(0,c.Z)(P,2),B=$[0],K=$[1],q=(0,l.useState)([]),J=(0,c.Z)(q,2),Y=J[0],z=J[1],H=(0,l.useState)([]),W=(0,c.Z)(H,2),X=W[0],Q=W[1],ii=(0,Z.s2)(),ei=(0,c.Z)(ii,1)[0],ni=(0,Z.yz)(),ti=(0,c.Z)(ni,1)[0],ai=(0,Z.NA)(),oi=(0,c.Z)(ai,1)[0];(0,l.useEffect)((function(){if(null!==m&&void 0!==m&&m._id){var i,e,n,t=[],a=[],c=(0,o.Z)(null===m||void 0===m?void 0:m.daily_topic);try{for(c.s();!(n=c.n()).done;){var l,d=n.value;t.push({topicId:null===d||void 0===d||null===(l=d.topic)||void 0===l?void 0:l._id,current_status:null===d||void 0===d?void 0:d.current_status}),a.push(null===d||void 0===d?void 0:d.topic)}}catch(r){c.e(r)}finally{c.f()}L({updateDescription:null===m||void 0===m?void 0:m.updateDescription,rec_status:null===m||void 0===m||null===(i=m.daily_topic)||void 0===i||null===(e=i[0])||void 0===e?void 0:e.status,files:[]}),O((function(){return t})),K((function(){return a}))}}),[m]);var ci=function(){2===N?e():k(1===N?0:2)};return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(d.Z,{onClose:ci,children:[2===N?(0,_.jsx)(y.Z,{datePickerPosition:{position:"rlative",top:"-5rem",left:"-10rem",borderRadius:"0.375rem",paddingBottom:"0"},range:!1,onClose:ci,dateInput:E.date,setDateInput:function(i){k(7),T((function(i){return!i}));var a=null===i||void 0===i?void 0:i.split("/"),o="".concat(a[2],"-").concat(a[1],"-").concat(a[0]);L((function(i){return(0,t.Z)((0,t.Z)({},i),{},{date:new Date(o)})})),oi({sid:n,extraBody:{date:i,flow:"Extra_Lecture"}}).then((function(i){var n,t,a,o;(null===i||void 0===i||null===(n=i.data)||void 0===n||null===(t=n.attendance_all)||void 0===t?void 0:t.length)>0?(z(null===i||void 0===i||null===(o=i.data)||void 0===o?void 0:o.attendance_all),k(3)):null!==i&&void 0!==i&&null!==(a=i.data)&&void 0!==a&&a.count?k(0):(k(10),A({msg:"Selected Date attendace is not mark then you cannot record lecture.",run:!0}),setTimeout((function(){e()}),1e3));T((function(i){return!i}))})).catch({})},isClose:!0}):3===N?(0,_.jsxs)("div",{className:r.Z.add_academic_record,children:[(0,_.jsxs)("div",{className:r.Z.add_academic_record_title,children:[(0,_.jsxs)("div",{className:r.Z.add_academic_record_text,children:[(0,_.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:ci,alt:"back icon",style:{cursor:"pointer"}}),(0,_.jsx)("h6",{children:f("select_extra_lecture")})]}),(0,_.jsx)("button",{onClick:function(){k(0)},children:f("next")})]}),(0,_.jsx)(u.Z,{customStyle:{width:"100%",marginBottom:"0.7rem"}}),(0,_.jsx)("h6",{className:r.Z.extra_lecture_container,onClick:function(){k(0)},children:f("regular")}),null===Y||void 0===Y?void 0:Y.map((function(i,e){return(0,_.jsxs)("h6",{className:null!==X&&void 0!==X&&X.includes(null===i||void 0===i?void 0:i._id)?"".concat(r.Z.extra_lecture_container," ").concat(r.Z.extra_lecture_container_active):r.Z.extra_lecture_container,onClick:function(){return e=null===i||void 0===i?void 0:i._id,void(null!==X&&void 0!==X&&X.includes(e)?Q((function(i){return null===i||void 0===i?void 0:i.filter((function(i){return i!==e}))})):Q((function(i){return[].concat((0,a.Z)(i),[e])})));var e},children:[f("extra")," ",e+1]},null===i||void 0===i?void 0:i._id)}))]}):(0,_.jsxs)("div",{className:r.Z.add_academic_record,children:[(0,_.jsxs)("div",{className:r.Z.add_academic_record_title,children:[(0,_.jsxs)("div",{className:r.Z.add_academic_record_text,children:[(0,_.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:ci,alt:"back icon",style:{cursor:"pointer"}}),(0,_.jsx)("h6",{children:f(0===N?"select_topic":"save_record")})]}),0===N?(0,_.jsx)("button",{onClick:function(){k(1)},children:f("next")}):10===N?null:(0,_.jsx)("button",{onClick:function(){if(n)if(T((function(i){return!i})),null!==m&&void 0!==m&&m._id)ti({sid:n,did:null===m||void 0===m?void 0:m._id,dailyUpdate:{arr:G,rec_status:E.rec_status,updateDescription:E.updateDescription}}).then((function(){v(),e(),T((function(i){return!i}))})).catch({});else{var i=new FormData;i.append("date",E.date),i.append("updateDescription",E.updateDescription),(null===G||void 0===G?void 0:G.length)>0&&i.append("arr",JSON.stringify(G)),i.append("rec_status",E.rec_status),(null===X||void 0===X?void 0:X.length)>0&&i.append("extra_lecture",JSON.stringify(X));var t,a=(0,o.Z)(E.files);try{for(a.s();!(t=a.n()).done;){var c=t.value;i.append("file",c)}}catch(l){a.e(l)}finally{a.f()}ei({sid:n,addDailyUpdate:i}).then((function(){v(),e(),T((function(i){return!i}))})).catch({})}},children:f("save")})]}),(0,_.jsx)(u.Z,{customStyle:{width:"100%"}}),0===N?(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(x.Z,{sid:n,isView:"SUBJECT_TEACHER",onGrabChapterId:function(i,e){(null===G||void 0===G?void 0:G.find((function(e){return(null===e||void 0===e?void 0:e.topicId)===(null===i||void 0===i?void 0:i._id)})))?(O((function(e){return null===e||void 0===e?void 0:e.filter((function(e){return(null===e||void 0===e?void 0:e.topicId)!==(null===i||void 0===i?void 0:i._id)}))})),K((function(e){return null===e||void 0===e?void 0:e.filter((function(e){return(null===e||void 0===e?void 0:e._id)!==(null===i||void 0===i?void 0:i._id)}))}))):(O((function(n){return[].concat((0,a.Z)(n),[{topicId:null===i||void 0===i?void 0:i._id,current_status:e}])})),K((function(e){return[].concat((0,a.Z)(e),[i])})))},topicId:G,recordLecture:!0})}):10===N?null:(0,_.jsx)(h,{topic:B,setState:L,state:E,isEdit:null===m||void 0===m?void 0:m._id,topicId:G})]}),D&&(0,_.jsx)(j.Z,{}),(0,_.jsx)(g.Ch,{msg:R.msg,run:R.run,setRun:function(){return A({msg:"",run:!1})},postiton:"bottom",type:"error"})]})})}},99532:function(i,e,n){n.d(e,{Z:function(){return f}});var t=n(29439),a=n(72791),o=n(83401),c=n(72426),l=n.n(c),d=n(39230),r=n(69721),s=n(10307),u=n(80184),v=function(i){var e,n,t,a,c,v,_,m=i.isView,f=i.updateDescription,p=i.upadateImage,h=i.createdAt,x=i.subject,j=(0,d.$G)().t;return(0,u.jsxs)("div",{className:o.Z.aditional_info_container,children:["STUDENT"===m?(0,u.jsxs)("div",{className:o.Z.aditional_info_dates,children:[(0,u.jsx)("h5",{children:null!==(e=null===x||void 0===x?void 0:x.subjectName)&&void 0!==e?e:""}),(0,u.jsx)("h6",{children:"".concat(null!==(n=null===x||void 0===x||null===(t=x.subjectTeacherName)||void 0===t?void 0:t.staffFirstName)&&void 0!==n?n:""," ").concat(null!==(a=null===x||void 0===x||null===(c=x.subjectTeacherName)||void 0===c?void 0:c.staffMiddleName)&&void 0!==a?a:""," ").concat(null!==(v=null===x||void 0===x||null===(_=x.subjectTeacherName)||void 0===_?void 0:_.staffLastName)&&void 0!==v?v:"")})]}):null,f||(null===p||void 0===p?void 0:p.length)>0?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h6",{children:j("additional_info")}),(0,u.jsx)("p",{children:f}),(null===p||void 0===p?void 0:p.length)>0?(0,u.jsx)("div",{className:o.Z.aditional_info_images,children:null===p||void 0===p?void 0:p.map((function(i){return(0,s.Y)(null===i||void 0===i?void 0:i.documentKey)?(0,u.jsx)("a",{title:"view File",href:"".concat(r.r3,"/").concat(null===i||void 0===i?void 0:i.documentKey),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,u.jsx)("img",{src:"".concat(r.yI,"/").concat(null===i||void 0===i?void 0:i.documentKey),alt:"files"},null===i||void 0===i?void 0:i.documentKey)}):null}))}):null]}):null,(0,u.jsxs)("div",{className:o.Z.aditional_info_dates,children:[(0,u.jsx)("p",{children:l()(h).format("DD MMM yyyy")}),(0,u.jsx)("p",{children:l()(h).format("LT")})]})]})},_=n(61292),m=n(10515),f=function(i){var e,n=i.daily,c=i.sid,r=i.onParentRefetch,s=i.isView,f=(0,d.$G)().t,p=(0,a.useState)(""),h=(0,t.Z)(p,2),x=h[0],j=h[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:o.Z.academic_card_container,children:[(0,u.jsxs)("div",{className:o.Z.academic_card_top,style:{justifyContent:"space-between"},children:[(0,u.jsxs)("div",{className:o.Z.academic_card_top_text,children:[(0,u.jsx)("img",{src:"/images/member_tab/subject/subject-topic-icon.svg",alt:"topic icon"}),(0,u.jsxs)("h6",{children:[l()(null===n||void 0===n?void 0:n.date).format("Do MMMM, yyyy"),": Topics Covered"]})]}),"STUDENT"===s?null:(0,u.jsxs)("h6",{onClick:function(){return j(n)},children:["(",f("edit_"),")"]})]}),null===n||void 0===n||null===(e=n.daily_topic)||void 0===e?void 0:e.map((function(i){return(0,u.jsx)(_.Z,{topic:null===i||void 0===i?void 0:i.topic,topicType:null===i||void 0===i?void 0:i.status,topicCurrentStatus:null===i||void 0===i?void 0:i.current_status,isView:"DAILY"},null===i||void 0===i?void 0:i._id)})),(0,u.jsx)(v,{updateDescription:null===n||void 0===n?void 0:n.updateDescription,upadateImage:null===n||void 0===n?void 0:n.upadateImage,createdAt:null===n||void 0===n?void 0:n.createdAt,isView:s,subject:null===n||void 0===n?void 0:n.subject})]}),x&&(0,u.jsx)(m.Z,{onClose:function(){return j("")},sid:c,onRefetch:r,dailyMenu:x})]})}},45639:function(i,e){e.Z={universal_container:"UniversalTab_universal_container__uxTOR",universal_container_item:"UniversalTab_universal_container_item__M0pS7",universal_container_item_active:"UniversalTab_universal_container_item_active__3u3Wt"}}}]);
//# sourceMappingURL=4665.ef37496e.chunk.js.map