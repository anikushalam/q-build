"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[6135],{47167:function(e,t,i){var a=i(1413),n=(i(72791),i(16871)),s=i(43504),l=i(23769),c=i(45639),r=i(80184);t.Z=function(e){var t=e.tabList,i=e.activeIndexTab,d=e.setActiveIndexTab,o=e.customStyleTab,v=e.carryParentState,f=e.showAs,u=e.customStyleLink,_=(0,n.UO)();return(0,r.jsx)("div",{className:c.Z.universal_container,children:f?null===t||void 0===t?void 0:t.map((function(e,t){return"disabled"===(null===e||void 0===e?void 0:e.is_active)?(0,r.jsx)("div",{className:i===(null===e||void 0===e?void 0:e.id)?"".concat(c.Z.universal_container_item," ").concat(c.Z.universal_container_item_active):c.Z.universal_container_item,style:(0,a.Z)((0,a.Z)({},u),{},{opacity:"0.5"}),children:(0,r.jsx)(l.Z,{children:null===e||void 0===e?void 0:e.name})},t):(0,r.jsx)(s.rU,{to:"/q/".concat(_.username,"/").concat(null===e||void 0===e?void 0:e.url),state:(0,a.Z)({},v),style:(0,a.Z)({},u),children:(0,r.jsx)("div",{className:i===(null===e||void 0===e?void 0:e.id)?"".concat(c.Z.universal_container_item," ").concat(c.Z.universal_container_item_active):c.Z.universal_container_item,style:(0,a.Z)({},o),children:(0,r.jsx)(l.Z,{children:null===e||void 0===e?void 0:e.name})})},t)})):null===t||void 0===t?void 0:t.map((function(e,t){return(0,r.jsx)("div",{className:i===(null===e||void 0===e?void 0:e.id)?"".concat(c.Z.universal_container_item," ").concat(c.Z.universal_container_item_active):c.Z.universal_container_item,onClick:function(){return d(null===e||void 0===e?void 0:e.id)},style:(0,a.Z)({},o),children:(0,r.jsx)(l.Z,{children:null===e||void 0===e?void 0:e.name})},t)}))})}},23769:function(e,t,i){i.d(t,{Z:function(){return l}});var a=i(29439),n=i(72791),s=i(80184);var l=function(e){var t=e.children,i=e.onclick,l=(0,n.useState)(!1),c=(0,a.Z)(l,2),r=c[0],d=c[1],o=(0,n.useState)({x:-1,y:-1}),v=(0,a.Z)(o,2),f=v[0],u=v[1];return(0,n.useEffect)((function(){-1!==f.x&&-1!==f.y?(d(!0),setTimeout((function(){return d(!1)}),1e3)):d(!1)}),[f]),(0,n.useEffect)((function(){r||u({x:-1,y:-1})}),[r]),(0,s.jsxs)("div",{className:"ripple_btn",onClick:function(e){u({x:e.clientX-e.target.offsetLeft,y:e.clientY-e.target.offsetTop}),i&&i(e)},children:[r?(0,s.jsx)("span",{className:"ripple"}):"",(0,s.jsx)("span",{className:"content",children:t})]})}},45390:function(e,t,i){var a=i(29439),n=i(72791),s=i(35395),l=i(6245),c=i(69721),r=i(54656),d=i(39230),o=i(98734),v=i(80184),f=n.lazy((function(){return i.e(2520).then(i.bind(i,92520))}));t.Z=function(e){var t,i,u,_,m,h,x=e.leave,p=e.onStaffLeaveListRefetch,j=(0,l.Gh)(),Z=(0,a.Z)(j,1)[0],L=(0,n.useState)(!1),S=(0,a.Z)(L,2),N=S[0],b=S[1],g=(0,n.useState)(!1),T=(0,a.Z)(g,2),k=T[0],y=T[1],I=(0,d.$G)().t,R=function(e){b((function(e){return!e})),Z({id:null===x||void 0===x?void 0:x._id,leaveAction:{status:e}}).then((function(){p(),b((function(e){return!e}))}))};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:r.Z.item,children:[(0,v.jsxs)("div",{className:r.Z.itemHead,children:[(0,v.jsxs)("div",{className:r.Z.left,children:[(0,v.jsx)("img",{src:"1"!==(null===x||void 0===x||null===(t=x.staff)||void 0===t?void 0:t.photoId)?"".concat(c.yI,"/").concat(null===x||void 0===x||null===(i=x.staff)||void 0===i?void 0:i.staffProfilePhoto):"/images/demo_users/user5.svg",alt:""}),(0,v.jsxs)("div",{className:r.Z.text,children:[(0,v.jsx)("h6",{children:"".concat(null===x||void 0===x||null===(u=x.staff)||void 0===u?void 0:u.staffFirstName," ").concat(null!==x&&void 0!==x&&null!==(_=x.staff)&&void 0!==_&&_.staffMiddleName?null===x||void 0===x||null===(m=x.staff)||void 0===m?void 0:m.staffMiddleName:""," ").concat(null===x||void 0===x||null===(h=x.staff)||void 0===h?void 0:h.staffLastName)}),1===(null===x||void 0===x?void 0:x.date.length)?(0,v.jsx)("p",{children:null===x||void 0===x?void 0:x.date[0]}):(0,v.jsxs)("p",{children:[null===x||void 0===x?void 0:x.date[0]," ",!k&&(0,v.jsxs)("span",{className:r.Z.viewAll,onClick:function(){return y(!0)},children:["..",I("view_all_")]})]}),k&&(0,v.jsx)(s.Z,{children:(0,v.jsx)(f,{open:k,hideModal:function(e){return y(e)},dates:null===x||void 0===x?void 0:x.date})})]})]}),(0,v.jsxs)("div",{className:r.Z.right,children:[(null===x||void 0===x?void 0:x.attach)&&(0,v.jsx)("a",{href:"".concat(c.r3,"/").concat(null===x||void 0===x?void 0:x.attach),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,v.jsx)("img",{src:"/images/members/receipt-icon.svg",alt:"receipt icon",style:{height:"1.5rem"}})}),"Request"===(null===x||void 0===x?void 0:x.status)?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:r.Z.activeBtn,onClick:function(){R("Rejected")},children:I("reject")}),(0,v.jsx)("div",{className:"".concat(r.Z.activeBtn),onClick:function(){R("Accepted")},children:I("approve")})]}):(0,v.jsx)("div",{className:r.Z.btn,style:"Rejected"===(null===x||void 0===x?void 0:x.status)?{color:"red"}:{color:"#14ab50"},children:null===x||void 0===x?void 0:x.status})]})]}),(0,v.jsxs)("div",{className:r.Z.reason,children:[" ",I("reason")," "," : ",null===x||void 0===x?void 0:x.reason]})]}),(0,v.jsx)("div",{className:r.Z.divider}),N&&(0,v.jsx)(o.Z,{})]})}},66135:function(e,t,i){i.r(t),i.d(t,{default:function(){return R}});var a=i(29439),n=i(72791),s="LeavesTransfer_complaints__d-Y+H",l="LeavesTransfer_complaintList__LIquD",c="LeavesTransfer_complaintDetail__Budn8",r="LeavesTab_complaintList__sDWs8",d="LeavesTab_listHead__UwvVn",o=i(39230),v=i(54656),f=i(78687),u=i(6245),_=i(11105),m=i(45390),h=i(80184);var x=function(){var e,t=(0,f.useSelector)((function(e){return e.idChange.id})),i=(0,n.useState)(!0),s=(0,a.Z)(i,2),l=s[0],c=s[1],r=(0,u.eJ)({data:{id:t,page:1,limit:10},skip:!t}),d=r.staffLeaveList,o=r.staffLeaveListRefetch;return(0,n.useEffect)((function(){t&&(c(!0),o())}),[t,o]),(0,n.useEffect)((function(){null!==d&&void 0!==d&&d.allLeave&&c(!1)}),[null===d||void 0===d?void 0:d.allLeave]),(0,h.jsxs)("div",{className:v.Z.leaves,children:[null===d||void 0===d||null===(e=d.allLeave)||void 0===e?void 0:e.map((function(e,t){return(0,h.jsx)(m.Z,{leave:e,onStaffLeaveListRefetch:o},t)})),l&&(0,h.jsx)(_.Z,{})]})},p=i(69721),j={item:"Transfer_item__7r6ls",leaves:"Transfer_leaves__S0GpB",itemHead:"Transfer_itemHead__-fdF9",left:"Transfer_left__KgdOP",text:"Transfer_text__7ylZm",right:"Transfer_right__PyVy+",btn:"Transfer_btn__cs49i",activeBtn:"Transfer_activeBtn__V4uUp",reason:"Transfer_reason__W1Xj3",divider:"Transfer_divider__SOUhC",replacebtn:"Transfer_replacebtn__BGVcp",replacedbtn:"Transfer_replacedbtn__mZxCb"},Z=i(72426),L=i.n(Z),S=i(98734);function N(e){var t=e.img,i=e.photoId,a=e.name,n=e.from,s=(e.replacedBy,e.reason),l=e.index,c=(e.replaced,e.setStaffListView),r=e.replacedStaff,d=e.setReplaceStaffId,v=e.setClickedIndex,f=e.clickedIndex,u=e.status,_=e.pid,m=e.aid,x=e.transId,Z=e.MarkApprove,L=e.MarkReject,S=(0,o.$G)().t;return(0,h.jsxs)("div",{className:j.item,children:[(0,h.jsxs)("div",{className:j.itemHead,children:[(0,h.jsxs)("div",{className:j.left,children:[(0,h.jsx)("img",{src:"1"!==i?"".concat(p.yI,"/").concat(t):"/images/demo_users/user5.svg",alt:""}),(0,h.jsxs)("div",{className:j.text,children:[(0,h.jsx)("h6",{children:a}),(0,h.jsx)("p",{children:n})]})]}),"Requested"===u?(0,h.jsxs)("div",{className:j.right,children:[(!r||f!==l)&&(0,h.jsx)("div",{className:"".concat(j.btn),children:S("reject")}),(!r||f!==l)&&(0,h.jsx)("div",{className:"".concat(j.btn),children:S("approve")}),r&&f===l&&(0,h.jsx)("div",{onClick:function(){L("Rejected",x)},className:"".concat(j.activeBtn),children:S("reject")}),r&&f===l&&(0,h.jsx)("div",{onClick:function(){Z("Approved",_,m,x)},className:"".concat(j.activeBtn),children:S("approve")})]}):""]}),(0,h.jsx)("div",{className:j.reason,children:s}),"Requested"===u&&(0,h.jsx)("div",{onClick:function(){c(!0),d(_),v(l)},className:j.replacebtn,children:S("replacement")}),"Requested"!==u&&(0,h.jsxs)("div",{className:j.replacedbtn,children:[S("replacement")," ",u]})]})}var b=function(e){e.staffListView;var t=e.setStaffListView,i=e.replacedStaff,s=e.setReplaceStaffId,l=e.transferData,c=e.fetch,r=(0,n.useState)(),d=(0,a.Z)(r,2),o=d[0],v=d[1],f=(0,u.rp)(),_=(0,a.Z)(f,1)[0],m=(0,u.qz)(),x=(0,a.Z)(m,1)[0],p=(0,n.useState)(!1),Z=(0,a.Z)(p,2),b=Z[0],g=Z[1],T=function(e,i,a,n){""!==e&&""!==i&&""!==a&&""!==n&&(g((function(e){return!e})),_({tid:n&&n,status:e&&e,previousStaff:i&&i,assignedStaff:a&&a}).then((function(){c(),t(!1),g((function(e){return!e}))})).catch((function(e){g((function(e){return!e}))})))},k=function(e,i){""!==e&&""!==i&&(g((function(e){return!e})),x({tid:i&&i,status:e&&e}).then((function(e){c(),t(!1),g((function(e){return!e}))})).catch((function(e){g((function(e){return!e}))})))};return(0,h.jsxs)("div",{className:j.leaves,children:[null===l||void 0===l?void 0:l.map((function(e,a){var n,l,c,r,d,f,u;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(N,{index:a,img:null===e||void 0===e||null===(n=e.staff)||void 0===n?void 0:n.staffProfilePhoto,photoId:null===e||void 0===e||null===(l=e.staff)||void 0===l?void 0:l.photoId,from:L()(null===e||void 0===e?void 0:e.createdAt).format("LL"),replaced:e.replaced,replacedBy:e.replacedBy,name:"".concat(null===e||void 0===e||null===(c=e.staff)||void 0===c?void 0:c.staffFirstName," ").concat(null!==e&&void 0!==e&&null!==(r=e.staff)&&void 0!==r&&r.staffMiddleName?null===e||void 0===e||null===(d=e.staff)||void 0===d?void 0:d.staffMiddleName:""," ").concat(null===e||void 0===e||null===(f=e.staff)||void 0===f?void 0:f.staffLastName),reason:null===e||void 0===e?void 0:e.transferReason,setStaffListView:t,replacedStaff:i,setReplaceStaffId:s,clickedIndex:o,setClickedIndex:v,status:null===e||void 0===e?void 0:e.transferStatus,pid:null===e||void 0===e||null===(u=e.staff)||void 0===u?void 0:u._id,aid:null===i||void 0===i?void 0:i._id,transId:null===e||void 0===e?void 0:e._id,MarkApprove:T,MarkReject:k},a),(0,h.jsx)("div",{className:j.divider})]})})),b&&(0,h.jsx)(S.Z,{})]})},g=i(98094),T=i(47167);var k=function(e){var t=e.staffListView,i=e.setStaffListView,s=e.replacedStaff,l=e.setReplaceStaffId,c=(0,f.useSelector)((function(e){return e.idChange.id})),v=(0,o.$G)().t,_=(0,u.X_)({id:c,skip:!c}),m=_.transferList,p=_.transferListRefetch;(0,n.useEffect)((function(){c&&p()}),[c]);var j=(0,n.useState)(0),Z=(0,a.Z)(j,2),L=Z[0],S=Z[1],N=[{name:v("leaves"),id:0},{name:v("transfer"),id:1}];return(0,h.jsx)("div",{className:r,children:(0,h.jsxs)("div",{className:d,children:[(0,h.jsx)(T.Z,{tabList:N,activeIndexTab:L,setActiveIndexTab:S,customStyleTab:{width:"100%"}}),(0,h.jsx)(g.Z,{customStyle:{width:"100%"}}),0===L&&(0,h.jsx)(x,{}),1===L&&(0,h.jsx)(b,{staffListView:t,setStaffListView:i,replacedStaff:s,setReplaceStaffId:l,transferData:m&&(null===m||void 0===m?void 0:m.transfers),fetch:p})]})})},y=i(35395),I=n.lazy((function(){return i.e(5493).then(i.bind(i,75493))}));var R=function(){var e=(0,n.useState)(!1),t=(0,a.Z)(e,2),i=t[0],r=t[1],d=(0,n.useState)(),o=(0,a.Z)(d,2),v=o[0],f=o[1],u=(0,n.useState)(""),_=(0,a.Z)(u,2),m=_[0],x=_[1];return(0,h.jsxs)("div",{className:s,children:[(0,h.jsx)("div",{className:l,children:(0,h.jsx)(k,{staffListView:i,setStaffListView:r,replacedStaff:v,setReplaceStaffId:x})}),(0,h.jsx)("div",{className:c,children:i&&(0,h.jsx)(y.Z,{children:(0,h.jsx)(I,{staffListView:i,setStaffListView:r,setReplacedStaff:f,replaceStaffId:m,replacedStaff:v})})})]})}},45639:function(e,t){t.Z={universal_container:"UniversalTab_universal_container__uxTOR",universal_container_item:"UniversalTab_universal_container_item__M0pS7",universal_container_item_active:"UniversalTab_universal_container_item_active__3u3Wt"}},54656:function(e,t){t.Z={item:"Leaves_item__NgSvu",leaves:"Leaves_leaves__tHjre",itemHead:"Leaves_itemHead__wF5RS",left:"Leaves_left__zckTY",text:"Leaves_text__WivxN",right:"Leaves_right__uAQzd",btn:"Leaves_btn__paNmR",activeBtn:"Leaves_activeBtn__lDdeV",reason:"Leaves_reason__29vz2",divider:"Leaves_divider__6JQy3",viewAll:"Leaves_viewAll__ZHrmb"}}}]);
//# sourceMappingURL=6135.176c663c.chunk.js.map