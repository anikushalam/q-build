"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[1288],{61516:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var a=n(4942),r=n(1413),o=n(29439),c=n(96873),l=n(72791),i=n(39230),u=n(27331),s=n(98684),d=n(61055),m=n(16871),h=n(19335),f=n(52245),v=n(80184),p=function(e){var t=e.selectLabel,n=e.onClick,a=e.selectedValue,c=e.options,u=e.customStyleContainer,d=e.customLabelStyle,m=e.customListStyle,h=e.errorShow,p=e.defalutValue,_=(0,i.$G)().t,g=(0,l.useState)(!1),x=(0,o.Z)(g,2),j=x[0],Z=x[1],b=(0,l.useState)(""),C=(0,o.Z)(b,2),y=C[0],w=C[1],N=function(){Z((function(e){return!e}))};(0,l.useEffect)((function(){p&&w(p)}),[p]);var D=function(e){n(e),N(),w(e)};return(0,v.jsxs)("div",{className:f.Z.form_input_container,style:(0,r.Z)({},u),children:[(0,v.jsxs)("p",{className:f.Z.join_form_select_paragraph,style:(0,r.Z)({},d),children:[t,h&&(0,v.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",_("form_require_label")]})]}),(0,v.jsxs)("section",{className:f.Z.join_form_select_custom,onClick:N,children:[y?(0,v.jsx)("p",{className:f.Z.join_form_select_custom_paragraph,children:null!==y&&void 0!==y?y:""}):(0,v.jsx)("p",{className:f.Z.join_form_select_custom_paragraph,style:{color:"rgba(18, 18, 18, 0.5)"},children:a}),j?(0,v.jsx)("img",{className:f.Z.join_form_select_custom_rotate_icon,src:"".concat(s.J7,"/down.svg"),alt:"categor icon"}):(0,v.jsx)("img",{className:f.Z.join_form_select_custom_icon,src:"".concat(s.J7,"/down.svg"),alt:"categor icon"})]}),j&&(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("section",{className:f.Z.join_form_select_custom_list,style:m,children:null===c||void 0===c?void 0:c.map((function(e,t){return(0,v.jsx)("p",{onClick:function(){return D(null===e||void 0===e?void 0:e.key)},className:f.Z.join_form_select_custom_paragraph_option,children:_(null===e||void 0===e?void 0:e.name)},t)}))})})]})},_=[{name:"male",key:"Male"},{name:"female",key:"Female"},{name:"other",key:"Other"}],g=n(47570),x=n(74165),j=n(15861),Z=n(97005),b=function(e){return new Promise((function(t,n){var a=new Image;a.addEventListener("load",(function(){return t(a)})),a.addEventListener("error",(function(e){return n(e)})),a.setAttribute("crossOrigin","anonymous"),a.src=e}))};function C(e){return e*Math.PI/180}function y(e,t,n){var a=C(n);return{width:Math.abs(Math.cos(a)*e)+Math.abs(Math.sin(a)*t),height:Math.abs(Math.sin(a)*e)+Math.abs(Math.cos(a)*t)}}function w(e,t){return N.apply(this,arguments)}function N(){return N=(0,j.Z)((0,x.Z)().mark((function e(t,n){var a,r,o,c,l,i,u,s,d,m,h=arguments;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>2&&void 0!==h[2]?h[2]:0,r=h.length>3&&void 0!==h[3]?h[3]:{horizontal:!1,vertical:!1},e.next=4,b(t);case 4:if(o=e.sent,c=document.createElement("canvas"),l=c.getContext("2d")){e.next=9;break}return e.abrupt("return",null);case 9:return i=C(a),u=y(o.width,o.height,a),s=u.width,d=u.height,c.width=s,c.height=d,l.translate(s/2,d/2),l.rotate(i),l.scale(r.horizontal?-1:1,r.vertical?-1:1),l.translate(-o.width/2,-o.height/2),l.drawImage(o,0,0),m=l.getImageData(n.x,n.y,n.width,n.height),c.width=n.width,c.height=n.height,l.putImageData(m,0,0),e.abrupt("return",new Promise((function(e,t){c.toBlob((function(t){t.name="cropped.jpeg",e({file:t,url:URL.createObjectURL(t)})}),"image/jpeg")})));case 23:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}var D=n(48293),M="ImageCrop_image_crop__v3hLt",S="ImageCrop_crop_container__LXwYr",k="ImageCrop_crop_action__Bj2qe",F="ImageCrop_crop_action_cancel__t3KDp",Y="ImageCrop_crop_action_crop__uNFId",O=function(e){var t=e.widthRatio,n=e.heightRatio,a=e.fileUrl,r=e.setFileUrl,c=e.onFileBlob,i=e.onClose,u=(0,l.useState)({x:0,y:0}),s=(0,o.Z)(u,2),d=s[0],m=s[1],h=(0,l.useState)(1),f=(0,o.Z)(h,2),p=f[0],_=f[1],g=(0,l.useState)(0),b=(0,o.Z)(g,2),C=b[0],y=b[1],N=(0,l.useState)(null),O=(0,o.Z)(N,2),T=O[0],L=O[1],R=function(){var e=(0,j.Z)((0,x.Z)().mark((function e(){var t,n,o;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(a,T,C);case 3:t=e.sent,n=t.file,o=t.url,r(o),c(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return(0,v.jsx)(D.Z,{customOverlayStyle:{border:"none",borderRadius:"0"},children:(0,v.jsxs)("div",{className:M,children:[(0,v.jsx)("div",{className:S,children:(0,v.jsx)(Z.Z,{image:a,crop:d,zoom:p,rotation:C,aspect:t/n,onZoomChange:_,onRotationChange:y,onCropChange:m,onCropComplete:function(e,t){L(t)}})}),(0,v.jsxs)("div",{className:k,children:[(0,v.jsx)("h6",{onClick:function(){return i("")},className:F,children:"cancel"}),(0,v.jsx)("h6",{onClick:R,className:Y,children:"crop"})]})]})})},T=n(99183),L=n(53141),R=n(53982),I=n(43997),U=n(85794),B=n(79992),E=function(){var e=(0,i.$G)().t,t=(0,m.TH)(),n=(0,m.s0)(),f=(0,l.useState)({username:"",userLegalName:"",userDateOfBirth:"",userGender:""}),x=(0,o.Z)(f,2),j=x[0],Z=x[1],b=(0,l.useState)(""),C=(0,o.Z)(b,2),y=C[0],w=C[1],N=(0,l.useState)(""),D=(0,o.Z)(N,2),M=D[0],S=D[1],k=(0,l.useState)(!1),F=(0,o.Z)(k,2),Y=F[0],E=F[1],G=(0,l.useState)(!1),q=(0,o.Z)(G,2),z=q[0],A=q[1],P=(0,l.useState)(""),V=(0,o.Z)(P,2),H=V[0],J=V[1],$=(0,l.useState)({open:!1,msg:"",variant:"error"}),X=(0,o.Z)($,2),K=X[0],Q=X[1],W=(0,R.Ne)(),ee=(0,o.Z)(W,1)[0],te=function(e){Z((function(t){return(0,r.Z)((0,r.Z)({},t),{},(0,a.Z)({},e.target.name,e.target.value))}))};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c.Z,{children:(0,v.jsxs)("div",{className:u.Z.auth_card_wrapper,children:[(0,v.jsxs)("div",{className:u.Z.auth_create_container,children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h6",{className:u.Z.auth_card_title,style:{fontSize:"1rem"},children:e("create_profile")}),(0,v.jsx)("h6",{className:u.Z.auth_card_subtitle,style:{fontSize:"0.7rem"},children:e("create_profile_note")})]}),(0,v.jsx)("label",{htmlFor:"profile",className:u.Z.create_profile_label,children:(0,v.jsx)("img",{src:M||"".concat(s.p3,"/feed-user-avatar.svg"),alt:"profile icon"})}),(0,v.jsx)("input",{type:"file",accept:"image/*",id:"profile",style:{display:"none"},onChange:function(e){var t;if((null===(t=e.target.files)||void 0===t?void 0:t.length)>0){var n=URL.createObjectURL(e.target.files[0]);w(e.target.files[0]),S(n),E(!0)}}})]}),(0,v.jsxs)("div",{className:u.Z.auth_login_form,style:{marginTop:"0"},children:[" ",(0,v.jsxs)("form",{onSubmit:function(e){var a;e.preventDefault();var r=(0,T.l)(j,["userDateOfBirth"]);if((0,T.x)(r)&&null!==(a=t.state)&&void 0!==a&&a.phoneNumber)if(A((function(e){return!e})),(0,L.jU)(null===j||void 0===j?void 0:j.username))Q({msg:"Special Character not allowed in username.",open:!0,variant:"error"});else{var o,c=new FormData;for(var l in j)"userDateOfBirth"===l?c.append(l,(0,I._1)(j[l])):c.append(l,j[l]);y&&c.append("file",y),ee({userPhoneNumber:null===(o=t.state)||void 0===o?void 0:o.phoneNumber,profileCreation:c}).then((function(e){var t,a,r,o=(0,B.ZH)(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.encrypt);null!==o&&void 0!==o&&null!==(a=o.user)&&void 0!==a&&a._id?n("/user/create/account/password",{state:{uid:null===o||void 0===o||null===(r=o.user)||void 0===r?void 0:r._id}}):Q({msg:"user profile is not created",open:!0,variant:"error"});A((function(e){return!e}))})).catch((function(e){Q({msg:"Time out of request with reason ".concat(e),open:!0,variant:"error"}),A((function(e){return!e}))}))}else J(r)},children:[(0,v.jsx)(d.Z,{label:e("name"),placeholder:e("name_placeholder"),name:"userLegalName",value:j.userLegalName,type:"text",onChange:te,errorShow:H.userLegalName}),(0,v.jsx)(d.Z,{label:e("username"),placeholder:e("username_placeholder"),name:"username",value:j.username,type:"text",onChange:te,errorShow:H.username}),(0,v.jsx)(g.Z,{label:e("date_of_birth"),placeholder:"dd/mm/yyyy",name:"userDateOfBirth",value:j.userDateOfBirth,onChange:function(e){!function(e){var t=new Date,n=null===e||void 0===e?void 0:e.split("-");return!(t<=new Date("".concat(n[2],"-").concat(n[1],"-").concat(n[0])))}(e)?Q({msg:"Date of birth is not for upcoming date",open:!0,variant:"error"}):Z((function(t){return(0,r.Z)((0,r.Z)({},t),{},{userDateOfBirth:(0,I.jh)(e)})}))}}),(0,v.jsx)(p,{selectLabel:e("gender"),name:"userGender",selectedValue:e("please_select_your_gender"),options:_,defalutValue:j.userGender,onClick:function(e){Z((function(t){return(0,r.Z)((0,r.Z)({},t),{},{userGender:e})}))},errorShow:H.userGender}),(0,v.jsx)(h.Z,{type:"submit",buttonText:e("continue_to_proceed"),disabled:z,customStyleButton:{marginTop:"1.5rem"}})]})]})]})}),Y&&(0,v.jsx)(O,{widthRatio:1,heightRatio:1,fileUrl:M,setFileUrl:S,onFileBlob:function(e){w(e),E(!1)},onClose:E}),(0,v.jsx)(U.Z,{eventState:K,eventStateHandler:Q})]})}},47570:function(e,t,n){n.d(t,{Z:function(){return Y}});var a=n(29439),r=n(39230),o=n(52245),c=n(72791),l=n(93433),i=n(43997),u=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],s=["January","February","March","April","May","June","July","August","September","October","November","December"],d=[1,2,3,4,5,6,0],m=function(e){var t=null===e||void 0===e?void 0:e.split("-"),n=new Date("".concat(t[2],"-").concat(t[1],"-").concat(t[0])),a=new Date;return!(n.getTime()<a.getTime())&&!(n.getTime()>a.getTime())},h=function(e,t){var n=new Date(e),a=null===t||void 0===t?void 0:t.split("-"),r=new Date("".concat(a[2],"-").concat(a[1],"-").concat(a[0]));return!(n.getTime()<r.getTime())&&!(n.getTime()>r.getTime())},f=function(e){return function(e){var t=new Date(e);return new Date(t.getFullYear(),t.getMonth()+1,0)}(e).getDate()},v=function(e){return function(e){var t=new Date(e);return new Date(t.getFullYear(),t.getMonth(),0)}(e).getDate()},p=function(e){return d.indexOf(function(e){var t=new Date(e);return new Date(t.getFullYear(),t.getMonth(),1).getDay()}(e))+1},_=function(e){var t=(0,c.useState)(new Date),n=(0,a.Z)(t,2),r=n[0],o=n[1];(0,c.useEffect)((function(){e&&o(function(e){var t=(0,i.O_)(e);return new Date(t)}(e))}),[e]);var u,s=v(u=r)-p(u),d=(0,c.useMemo)((function(){return function(e,t){for(var n=1,a=1,r=new Date(e),o={},c=1;c<7;c++)for(var i=1;i<8;i++)o[c]||(o[c]=[]),1===c?i<p(e)?(o[c]=[].concat((0,l.Z)(o[c]),[{type:"PREVIOUS",date:"".concat(t,"-").concat(0===r.getMonth()?12:r.getMonth(),"-").concat(0===r.getMonth()?r.getFullYear()-1:r.getFullYear()),value:t}]),t++):(o[c]=[].concat((0,l.Z)(o[c]),[{classes:"",date:"".concat(n,"-").concat(r.getMonth()+1,"-").concat(r.getFullYear()),value:n}]),n++):c>1&&n<f(e)+1?(o[c]=[].concat((0,l.Z)(o[c]),[{type:"CURRENT",date:"".concat(n,"-").concat(r.getMonth()+1,"-").concat(r.getFullYear()),value:n}]),n++):(o[c]=[].concat((0,l.Z)(o[c]),[{type:"NEXT_MONTH",date:"".concat(a,"-").concat(r.getMonth()+2===13?1:r.getMonth()+2,"-").concat(r.getMonth()+2===13?r.getFullYear()+1:r.getFullYear()),value:a}]),a++);return o}(r,s)}),[r,s]),m=(0,c.useCallback)((function(){o((function(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}))}),[]),h=(0,c.useCallback)((function(){o((function(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}))}),[]),_=(0,c.useCallback)((function(e){var t=null===e||void 0===e?void 0:e.split("-"),n=new Date("".concat(t[2],"-").concat(t[1],"-").concat(t[0]));o(n)}),[]);return{selectedDate:r,setSelectedDate:o,getPreviousMonth:m,getNextMonth:h,getSelectedDate:_,generateCalendar:d}},g="Calendar_calendar__ZZaTt",x="Calendar_calendar_top__ADLui",j="Calendar_calendar_days__vUwsX",Z="Calendar_calendar_days_label__VF+-3",b="Calendar_calendar_days_value__cY4KR",C="Calendar_calendar_month__iidgh",y="Calendar_calendar_month_value__nzPqp",w="Calendar_calendar_month_value_active__xUZQL",N=n(48293),D=n(98684),M=n(97892),S=n.n(M),k=n(80184),F=function(e){var t,n=e.onClose,r=e.date,o=e.onDateSelect,l=_(r),i=l.selectedDate,d=l.setSelectedDate,f=l.getPreviousMonth,v=l.getNextMonth,p=l.getSelectedDate,M=l.generateCalendar,F=(0,c.useState)(""),Y=(0,a.Z)(F,2),O=Y[0],T=Y[1],L=function(){for(var e=(new Date).getFullYear(),t=e-70,n=[],a=e+30;a>=t;a--)n.push(a);return n.reverse()}(),R=(0,c.useMemo)((function(){return L.indexOf(i.getFullYear())}),[i,L]),I=(0,c.useState)(0),U=(0,a.Z)(I,2),B=U[0],E=U[1],G=(0,c.useMemo)((function(){return L.slice(R+12*B,B?R+12*B+12:R+12)}),[L,B,R]),q=(0,c.useCallback)((function(){T(O?"":"MONTH")}),[O]),z=(0,c.useCallback)((function(){T(O?"":"YEAR")}),[O]),A=(0,c.useCallback)((function(e){d((function(t){return new Date("".concat(e," ").concat(t.getDate()," ").concat(t.getFullYear()))})),q()}),[q]),P=(0,c.useCallback)((function(e){d((function(t){return new Date("".concat(t.getMonth()+1," ").concat(t.getDate()," ").concat(e))})),z()}),[z]);return(0,k.jsx)(N.Z,{onClose:n,customBackdropStyle:{zIndex:"2000"},customOverlayStyle:{zIndex:"2000"},children:(0,k.jsxs)("div",{className:g,children:[(0,k.jsxs)("div",{className:x,children:[(0,k.jsx)("img",{src:"".concat(D.Fk,"/next.svg"),alt:"previous icon",onClick:function(){O?"YEAR"===O&&E((function(e){return e-1})):f()},style:{rotate:"180deg"}}),(0,k.jsxs)("h6",{children:[(0,k.jsx)("span",{onClick:q,children:S()(i).format("MMMM")})," ",(0,k.jsx)("span",{onClick:z,children:S()(i).format("YYYY")})]}),(0,k.jsx)("img",{src:"".concat(D.Fk,"/next.svg"),alt:"next icon",onClick:function(){O?"YEAR"===O&&E((function(e){return e+1})):v()}})]}),"MONTH"===O?(0,k.jsx)("div",{className:C,children:s.map((function(e){return(0,k.jsx)("p",{className:S()(i).format("MMMM")===e?"".concat(y," ").concat(w):y,onClick:function(){return A(e)},children:e},e)}))}):"YEAR"===O?(0,k.jsx)("div",{className:C,children:null===G||void 0===G?void 0:G.map((function(e){return(0,k.jsx)("p",{className:S()(i).format("YYYY")==="".concat(e)?"".concat(y," ").concat(w):y,onClick:function(){return P(e)},children:e},e)}))}):(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:j,children:u.map((function(e){return(0,k.jsx)("p",{className:Z,children:e},e)}))}),null===(t=Object.values(M))||void 0===t?void 0:t.map((function(e){return(0,k.jsx)("div",{className:j,children:e.map((function(e){return(0,k.jsx)("p",{className:b,style:{"--calendar-border":m(null===e||void 0===e?void 0:e.date)?"#123456":h(i,null===e||void 0===e?void 0:e.date)?"red":""},onClick:function(){return t=null===e||void 0===e?void 0:e.date,p(t),o(t),void n();var t},children:null===e||void 0===e?void 0:e.value},null===e||void 0===e?void 0:e.date)}))})}))]})]})})},Y=function(e){var t=e.label,n=e.name,l=e.msg,i=e.value,u=e.onChange,s=e.placeholder,d=e.customFormInputContainer,m=e.customFormInputLabel,h=e.customFormInput,f=e.errorShow,v=e.disabled,p=(0,r.$G)().t,_=(0,c.useState)(!1),g=(0,a.Z)(_,2),x=g[0],j=g[1],Z=function(){j((function(e){return!e}))};return(0,k.jsxs)("div",{className:o.Z.form_input_container,style:d,children:[t&&(0,k.jsxs)("label",{className:o.Z.form_input_label,style:m,htmlFor:n,children:[t,l?(0,k.jsx)("span",{className:o.Z.form_input_label_error,children:l}):f?(0,k.jsxs)("span",{className:o.Z.form_input_label_error,children:["* ",p("form_require_label")]}):null]}),(0,k.jsx)("input",{className:o.Z.form_input,type:"text",defaultValue:i,name:n,placeholder:s,disabled:v,style:h,onFocus:Z}),(0,k.jsx)("img",{src:"".concat(D.Fk,"/calendar.svg"),alt:"calander-icon",className:o.Z.form_calendar_icon}),x&&(0,k.jsx)(F,{onClose:Z,onDateSelect:u,date:i})]})}},43997:function(e,t,n){n.d(t,{O_:function(){return o},_1:function(){return a},jh:function(){return r}});var a=function(e){var t=null===e||void 0===e?void 0:e.split("/");return"".concat(t[2],"-").concat(t[1],"-").concat(t[0])},r=function(e){var t,n=[];return(null===(t=(n=null!==e&&void 0!==e&&e.includes("-")?null===e||void 0===e?void 0:e.split("-"):null===e||void 0===e?void 0:e.split("/"))[2])||void 0===t?void 0:t.length)>2?"".concat(+n[0]>9?n[0]:"0".concat(n[0]),"/").concat(+n[1]>9?n[1]:"0".concat(n[1]),"/").concat(n[2]):"".concat(+n[2]>9?n[2]:"0".concat(n[2]),"/").concat(+n[1]>9?n[1]:"0".concat(n[1]),"/").concat(n[0])},o=function(e){var t,n=[];return(null===(t=(n=null!==e&&void 0!==e&&e.includes("-")?null===e||void 0===e?void 0:e.split("-"):null===e||void 0===e?void 0:e.split("/"))[2])||void 0===t?void 0:t.length)>2?"".concat(n[2],"-").concat(+n[1]>9?n[1]:"0".concat(+n[1]),"-").concat(+n[0]>9?n[0]:"0".concat(+n[0])):"".concat(n[0],"-").concat(+n[1]>9?n[1]:"0".concat(+n[1]),"-").concat(+n[2]>9?n[2]:"0".concat(+n[2]))}},53141:function(e,t,n){n.d(t,{CG:function(){return o},ZM:function(){return c},jU:function(){return r}});var a=["!","@","#","$","%","^","&","*","(",")","+","~",".",",","/",":",";"],r=function(e){return!!a.includes(e)},o=function(e){return(null===e||void 0===e||!e.includes("@"))&&8===(null===e||void 0===e?void 0:e.length)},c=function(e){return null!==e&&void 0!==e&&e.includes("@")?"e-mail":8===(null===e||void 0===e?void 0:e.length)?"qviple id":"mobile number"}}}]);
//# sourceMappingURL=1288.075cf621.chunk.js.map