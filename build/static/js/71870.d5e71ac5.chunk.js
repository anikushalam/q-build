"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[71870],{71870:(e,n,i)=>{i.r(n),i.d(n,{default:()=>X});var t=i(56959),l=i(63687),a=i(21348),o=i(39230),s=i(90904),d=i(43504),r=i(16871),c=i(98967),_=i(63162),u=i(72791),v=i(55336),m=i(23441),h=i(91427),p=i(98684),f=i(1669),j=i(2651),x=i(43317);const g="PaymentVerification_request_card_info_name__F217G",y="PaymentVerification_request_card_container__kdJMq",N="PaymentVerification_request_card_info__4dTd3",C="PaymentVerification_request_card_info_date__kvaK6",Z="PaymentVerification_request_card_utr__PDrya",k="PaymentVerification_request_card_info_image__SzKv7",S="PaymentVerification_fee_request_detail__XPezI",b="PaymentVerification_fee_request_detail_name__9jdBC",E="PaymentVerification_fee_request_detail_amount__-SBvM",q="PaymentVerification_fee_request_detail_date__0hGfn",P="PaymentVerification_reason_for_rejection__xoM3S",T="PaymentVerification_payment_acknowledge_btn__quTx1";var I=i(1095),L=i(97892),R=i.n(L),V=i(93638),A=i(38857),D=i(16925),B=i(53277),M=i(23558),w=i(61055),F=i(99183),Y=i(80184);const J=e=>{var n,i,t,l,d,r,c,_,m,h,f,j,g,y,N,C;let{onClose:Z,aid:k,onRefetch:P,receipt:L,isAccess:J}=e;const{t:K}=(0,o.$G)(),[U,G]=(0,u.useState)(!1),[Q,X]=(0,u.useState)(1),[$,z]=(0,u.useState)(""),[O,H]=(0,u.useState)(""),[W]=(0,x.Wl)(),ee=()=>{},ne=(0,u.useCallback)((()=>{var e;const n=window.open("".concat(I.LS,"/").concat(null===L||void 0===L||null===(e=L.receipt)||void 0===e?void 0:e.fee_payment_acknowledge),"_blank","noopener,noreferrer");n&&(n.opener=null)}),[I.LS,null===L||void 0===L||null===(n=L.receipt)||void 0===n?void 0:n.fee_payment_acknowledge]);return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(A.Z,{onClose:Z,children:(0,Y.jsxs)("div",{className:D.Z.modal_container,children:[(0,Y.jsx)(a.default,{children:(0,Y.jsxs)("div",{className:D.Z.modal_container_outer_header,children:[(0,Y.jsx)("div",{className:D.Z.modal_container_header,children:(0,Y.jsxs)("h6",{children:[" ",K("fee_receipt_request")]})}),(0,Y.jsx)("img",{src:"".concat(p.J7,"/close.svg"),alt:"close icon",onClick:Z})]})}),(0,Y.jsx)(s.Z,{}),(0,Y.jsxs)(a.default,{customStyle:{paddingTop:"0",marginBottom:"1rem"},children:[(0,Y.jsxs)(B.Z,{children:[(0,Y.jsx)(M.Z,{label:"accept",onClick:()=>{X(1)},isActive:1===Q}),(0,Y.jsx)(M.Z,{label:"reject",onClick:()=>{X(2)},isActive:2===Q})]}),(0,Y.jsxs)("section",{className:S,children:[(0,Y.jsxs)("h6",{className:b,children:[K("name")," "," : "," ","".concat(null===L||void 0===L||null===(i=L.receipt)||void 0===i||null===(t=i.student)||void 0===t?void 0:t.studentFirstName," ").concat(null!==L&&void 0!==L&&null!==(l=L.receipt)&&void 0!==l&&null!==(d=l.student)&&void 0!==d&&d.studentMiddleName?null===L||void 0===L||null===(r=L.receipt)||void 0===r||null===(c=r.student)||void 0===c?void 0:c.studentMiddleName:""," ").concat(null===L||void 0===L||null===(_=L.receipt)||void 0===_||null===(m=_.student)||void 0===m?void 0:m.studentLastName)]}),(0,Y.jsxs)("h6",{className:E,children:[K("amount")," "," : "," ",K("rs")," ",null!==(h=null===L||void 0===L||null===(f=L.receipt)||void 0===f?void 0:f.fee_payment_amount)&&void 0!==h?h:0]}),(0,Y.jsx)("h6",{className:q,children:R()(null===L||void 0===L||null===(j=L.receipt)||void 0===j?void 0:j.created_at).format("DD MMM YYYY")})]}),1===Q?(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(w.Z,{label:K("bank_name_collect"),name:"fee_bank_name",type:"tel",value:null===L||void 0===L||null===(g=L.receipt)||void 0===g?void 0:g.fee_bank_name,onChange:ee,placeholder:K("please_enter_bank_name"),customStyleLabel:{marginTop:"6px",marginBottom:"7px"}}),(0,Y.jsx)(w.Z,{label:K("banke_holder_name"),name:"fee_bank_holder",type:"tel",value:null===L||void 0===L||null===(y=L.receipt)||void 0===y?void 0:y.fee_bank_holder,onChange:ee,placeholder:K("please_enter_name_of_bank_holder"),customStyleLabel:{marginTop:"6px",marginBottom:"7px"}}),(0,Y.jsx)(w.Z,{label:K("cheque_dd_neft"),name:"fee_utr_reference",type:"tel",value:null===L||void 0===L||null===(N=L.receipt)||void 0===N?void 0:N.fee_utr_reference,onChange:ee,placeholder:K("please_enter_utr_ref_number"),customStyleLabel:{marginTop:"6px",marginBottom:"7px"}}),null!==L&&void 0!==L&&null!==(C=L.receipt)&&void 0!==C&&C.fee_payment_acknowledge?(0,Y.jsx)("button",{className:T,onClick:ne,children:K("payment_acknowledge")}):null]}):(0,Y.jsx)(w.Z,{label:K("reason_for_rejection_receipt"),name:"reason",type:"text",value:$,onChange:e=>z(e.target.value),placeholder:K("please_reason_for_rejection_receipt"),errorShow:O.reason}),(0,Y.jsx)(V.Z,{label:1===Q?"confirm":"confirm_reject",onAction:()=>{let e=!0;var n,i;(2===Q&&(e=(0,F.l)({reason:$},[])),(0,F.x)(e))?k&&null!==L&&void 0!==L&&null!==(n=L.receipt)&&void 0!==n&&n._id&&null!==L&&void 0!==L&&L._id&&(G((e=>!e)),W({aid:k,rid:null===L||void 0===L||null===(i=L.receipt)||void 0===i?void 0:i._id,reqId:null===L||void 0===L?void 0:L._id,status:"REJECTED"===J?1===Q?"Over_Rejection":"Rejection_Notify":1===Q?"Approved":"Rejected",receiptAction:{reason:$}}).then((()=>{P(),G((e=>!e)),Z()})).catch({})):H(e)}})]})]})}),U&&(0,Y.jsx)(v.default,{})]})},K=e=>{var n,i,t,l,a,s,d,r,c,_,v,m,h,f,j,x,S,b,E,q,T;let{receipt:L,isAccess:A,aid:D,onRefetch:B}=e;const{t:M}=(0,o.$G)(),[w,F]=(0,u.useState)(!1),K=(0,u.useCallback)((()=>{var e;("REQUEST"===A||"REJECTED"===A&&null!==L&&void 0!==L&&null!==(e=L.receipt)&&void 0!==e&&e.re_apply)&&F((e=>!e))}),[A,null===L||void 0===L||null===(n=L.receipt)||void 0===n?void 0:n.re_apply]);return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsxs)("section",{className:y,onClick:null!==L&&void 0!==L&&null!==(i=L.receipt)&&void 0!==i&&i.re_apply?()=>{}:K,style:{cursor:"REQUEST"===A?"pointer":"default"},children:[(0,Y.jsxs)("div",{className:N,children:[(0,Y.jsx)("img",{src:null!==L&&void 0!==L&&null!==(t=L.receipt)&&void 0!==t&&null!==(l=t.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(I.yI,"/").concat(null===L||void 0===L||null===(a=L.receipt)||void 0===a||null===(s=a.student)||void 0===s?void 0:s.studentProfilePhoto):"".concat(p.p3,"/feed-user-avatar.svg"),alt:"avatar",className:k}),(0,Y.jsxs)("div",{children:[(0,Y.jsx)("h6",{className:g,children:"".concat(null!==(d=null===L||void 0===L||null===(r=L.receipt)||void 0===r||null===(c=r.student)||void 0===c?void 0:c.studentFirstName)&&void 0!==d?d:""," ").concat(null!==L&&void 0!==L&&null!==(_=L.receipt)&&void 0!==_&&null!==(v=_.student)&&void 0!==v&&v.studentMiddleName?null===L||void 0===L||null===(m=L.receipt)||void 0===m||null===(h=m.student)||void 0===h?void 0:h.studentMiddleName:""," ").concat(null!==(f=null===L||void 0===L||null===(j=L.receipt)||void 0===j||null===(x=j.student)||void 0===x?void 0:x.studentLastName)&&void 0!==f?f:"")}),(0,Y.jsxs)("p",{className:g,children:[M("amount")," : ",M("rs_only")," ",(null===L||void 0===L||null===(S=L.receipt)||void 0===S?void 0:S.fee_payment_amount)||0]}),(0,Y.jsx)("p",{className:C,children:R()(null===L||void 0===L?void 0:L.created_at).format("DD MMM YYYY")})]})]}),(0,Y.jsxs)("h6",{className:Z,children:[M("utr_number")," ",null===L||void 0===L||null===(b=L.receipt)||void 0===b?void 0:b.fee_utr_reference]}),"REJECTED"===A&&(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsxs)("h6",{className:P,children:[M("reason_for_rejection")," ",null!==(E=null===L||void 0===L||null===(q=L.receipt)||void 0===q?void 0:q.reason)&&void 0!==E?E:null===L||void 0===L?void 0:L.reason]}),(null===L||void 0===L||null===(T=L.receipt)||void 0===T?void 0:T.re_apply)&&(0,Y.jsx)(V.Z,{label:"re_requested",onAction:K})]})]}),w&&(0,Y.jsx)(J,{onClose:K,aid:D,receipt:L,onRefetch:B,isAccess:A})]})},U=e=>{var n,i,l;let{aid:a,requestedCount:s}=e;const{t:d}=(0,o.$G)(),[r,c]=(0,u.useState)(""),[_,g]=(0,u.useState)(""),[y,N]=(0,u.useState)(1),[C,Z]=(0,u.useState)(!0),[k,S]=(0,m.YD)({skip:r}),{admissionPaymentVerifyList:b,admissionPaymentVerifyListLoading:E,admissionPaymentVerifyListRefetch:q}=(0,x.jD)({data:{aid:a,page:y,limit:10,search:r,filterBy:"ALL_REQUEST",over_filter:""},skip:!a});(0,u.useEffect)((()=>{S&&C&&N((e=>e+1))}),[S,C]),(0,u.useEffect)((()=>{var e;if(null!==b&&void 0!==b&&null!==(e=b.list)&&void 0!==e&&e.length){var n;let e=(0,h.f)(null===b||void 0===b||null===(n=b.list)||void 0===n?void 0:n.length);Z((()=>e))}}),[null===b||void 0===b?void 0:b.list]);const P=(0,u.useCallback)((()=>{N((()=>1)),q()}),[q]);return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsxs)("div",{className:t.Z.fm_header_container,children:[(0,Y.jsxs)("h6",{children:[d("total_request")," : "," ",null!==s&&void 0!==s?s:0]}),(0,Y.jsx)("div",{className:t.Z.fm_search,children:(0,Y.jsx)("section",{className:t.Z.fm_search_container,children:(0,Y.jsxs)("div",{className:t.Z.fm_search_container_inner,children:[(0,Y.jsx)("img",{className:t.Z.fm_search_icon,alt:"search icon",src:"".concat(p.dB,"/navbar-search.svg")}),(0,Y.jsx)("input",{type:"text",placeholder:d("search"),onChange:e=>{var n;!E&&(null===b||void 0===b||null===(n=b.list)||void 0===n?void 0:n.length)>=0&&g(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(N((()=>1)),c(_))},value:_})]})})})]}),null===b||void 0===b||null===(n=b.list)||void 0===n?void 0:n.map(((e,n)=>{var i;return(null===b||void 0===b||null===(i=b.list)||void 0===i?void 0:i.length)===n+1?(0,Y.jsx)("div",{ref:k,children:(0,Y.jsx)(K,{receipt:e,isAccess:"REQUEST",aid:a,onRefetch:P})},null===e||void 0===e?void 0:e._id):(0,Y.jsx)(K,{receipt:e,isAccess:"REQUEST",aid:a,onRefetch:P},null===e||void 0===e?void 0:e._id)})),E?r?(0,Y.jsx)(v.default,{}):(0,Y.jsx)(f.Z,{}):r?0===(null===b||void 0===b||null===(i=b.list)||void 0===i?void 0:i.length)&&(0,Y.jsx)(j.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No request found related this search."}):0===(null===b||void 0===b||null===(l=b.list)||void 0===l?void 0:l.length)&&(0,Y.jsx)(j.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No request found."})]})},G=e=>{var n,i,l;let{aid:a,rejectCount:s}=e;const{t:d}=(0,o.$G)(),[r,c]=(0,u.useState)(""),[_,g]=(0,u.useState)(""),[y,N]=(0,u.useState)(1),[C,Z]=(0,u.useState)(!0),[k,S]=(0,m.YD)({skip:r}),{admissionPaymentVerifyList:b,admissionPaymentVerifyListLoading:E,admissionPaymentVerifyListRefetch:q}=(0,x.jD)({data:{aid:a,page:y,limit:10,search:r,filterBy:"ALL_REJECT",over_filter:""},skip:!a});(0,u.useEffect)((()=>{S&&C&&N((e=>e+1))}),[S,C]),(0,u.useEffect)((()=>{var e;if(null!==b&&void 0!==b&&null!==(e=b.list)&&void 0!==e&&e.length){var n;let e=(0,h.f)(null===b||void 0===b||null===(n=b.list)||void 0===n?void 0:n.length);Z((()=>e))}}),[null===b||void 0===b?void 0:b.list]);const P=(0,u.useCallback)((()=>{N((()=>1)),q()}),[q]);return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsxs)("div",{className:t.Z.fm_header_container,children:[(0,Y.jsxs)("h6",{children:[d("total_rejected")," : "," ",null!==s&&void 0!==s?s:0]}),(0,Y.jsx)("div",{className:t.Z.fm_search,children:(0,Y.jsx)("section",{className:t.Z.fm_search_container,children:(0,Y.jsxs)("div",{className:t.Z.fm_search_container_inner,children:[(0,Y.jsx)("img",{className:t.Z.fm_search_icon,alt:"search icon",src:"".concat(p.dB,"/navbar-search.svg")}),(0,Y.jsx)("input",{type:"text",placeholder:d("search"),onChange:e=>{var n;!E&&(null===b||void 0===b||null===(n=b.list)||void 0===n?void 0:n.length)>=0&&g(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(N((()=>1)),c(_))},value:_})]})})})]}),null===b||void 0===b||null===(n=b.list)||void 0===n?void 0:n.map(((e,n)=>{var i;return(null===b||void 0===b||null===(i=b.list)||void 0===i?void 0:i.length)===n+1?(0,Y.jsx)("div",{ref:k,children:(0,Y.jsx)(K,{receipt:e,isAccess:"REJECTED",aid:a,onRefetch:P})},null===e||void 0===e?void 0:e._id):(0,Y.jsx)(K,{receipt:e,isAccess:"REJECTED",aid:a,onRefetch:P},null===e||void 0===e?void 0:e._id)})),E?r?(0,Y.jsx)(v.default,{}):(0,Y.jsx)(f.Z,{}):r?0===(null===b||void 0===b||null===(i=b.list)||void 0===i?void 0:i.length)&&(0,Y.jsx)(j.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No receipts found related this search."}):0===(null===b||void 0===b||null===(l=b.list)||void 0===l?void 0:l.length)&&(0,Y.jsx)(j.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No receipts found."})]})},Q=e=>{var n,i,l;let{aid:a,approvedCount:s}=e;const{t:d}=(0,o.$G)(),[r,c]=(0,u.useState)(""),[_,g]=(0,u.useState)(""),[y,N]=(0,u.useState)(1),[C,Z]=(0,u.useState)(!0),[k,S]=(0,m.YD)({skip:r}),{admissionPaymentVerifyList:b,admissionPaymentVerifyListLoading:E}=(0,x.jD)({data:{aid:a,page:y,limit:10,search:r,filterBy:"ALL_APPROVE",over_filter:""},skip:!a});(0,u.useEffect)((()=>{S&&C&&N((e=>e+1))}),[S,C]),(0,u.useEffect)((()=>{var e;if(null!==b&&void 0!==b&&null!==(e=b.list)&&void 0!==e&&e.length){var n;let e=(0,h.f)(null===b||void 0===b||null===(n=b.list)||void 0===n?void 0:n.length);Z((()=>e))}}),[null===b||void 0===b?void 0:b.list]);return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsxs)("div",{className:t.Z.fm_header_container,children:[(0,Y.jsxs)("h6",{children:[d("total_accepted")," "," : "," ",null!==s&&void 0!==s?s:0]}),(0,Y.jsx)("div",{className:t.Z.fm_search,children:(0,Y.jsx)("section",{className:t.Z.fm_search_container,children:(0,Y.jsxs)("div",{className:t.Z.fm_search_container_inner,children:[(0,Y.jsx)("img",{className:t.Z.fm_search_icon,alt:"search icon",src:"".concat(p.dB,"/navbar-search.svg")}),(0,Y.jsx)("input",{type:"text",placeholder:d("search"),onChange:e=>{var n;!E&&(null===b||void 0===b||null===(n=b.list)||void 0===n?void 0:n.length)>=0&&g(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(N((()=>1)),c(_))},value:_})]})})})]}),null===b||void 0===b||null===(n=b.list)||void 0===n?void 0:n.map(((e,n)=>{var i;return(null===b||void 0===b||null===(i=b.list)||void 0===i?void 0:i.length)===n+1?(0,Y.jsx)("div",{ref:k,children:(0,Y.jsx)(K,{receipt:e})},null===e||void 0===e?void 0:e._id):(0,Y.jsx)(K,{receipt:e},null===e||void 0===e?void 0:e._id)})),E?r?(0,Y.jsx)(v.default,{}):(0,Y.jsx)(f.Z,{}):r?0===(null===b||void 0===b||null===(i=b.list)||void 0===i?void 0:i.length)&&(0,Y.jsx)(j.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No receipts found related this search."}):0===(null===b||void 0===b||null===(l=b.list)||void 0===l?void 0:l.length)&&(0,Y.jsx)(j.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No receipts found."})]})},X=e=>{let{aid:n,requestedCount:i,approvedCount:m,rejectCount:h}=e;const{t:f}=(0,o.$G)(),[j]=(0,d.lr)(),x=(0,r.TH)(),g=(0,r.UO)();return(0,Y.jsx)(Y.Fragment,{children:(0,Y.jsxs)(l.default,{children:[(0,Y.jsx)(a.default,{children:(0,Y.jsxs)("div",{className:t.Z.fm_header_container,children:[(0,Y.jsx)("h6",{children:f("fee_receipts_request")}),(0,Y.jsx)("img",{src:"".concat(p.J7,"/filter.svg"),alt:"filter icon"})]})}),(0,Y.jsx)(s.Z,{}),(0,Y.jsxs)(a.default,{customStyle:{paddingTop:"0"},children:[(0,Y.jsx)(c.Z,{children:$.map((e=>{var n;return(0,Y.jsx)(_.Z,{tab:e,isLink:!0,isActive:"requested"===e.id&&!j.get("n")||j.get("n")===e.id,parentState:x.state,url:"Institute"===(null===(n=x.state)||void 0===n?void 0:n.urlOffSet)?"/q/".concat(g.username,"/institute/member/finance?type=verification").concat(e.urlKey):"/q/".concat(g.username,"/member/staff/finance?type=verification").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,Y.jsx)(s.Z,{customStyleBorder:{marginTop:"0"}})]}),(0,Y.jsx)(a.default,{customStyle:{paddingTop:"0"},children:(0,Y.jsx)(u.Suspense,{fallback:(0,Y.jsx)(v.default,{}),children:"accepted"===j.get("n")?(0,Y.jsx)(Q,{aid:n,approvedCount:m}):"rejected"===j.get("n")?(0,Y.jsx)(G,{aid:n,rejectCount:h}):(0,Y.jsx)(U,{aid:n,requestedCount:i})})})]})})},$=[{label:"all_request",id:"requested",urlKey:""},{label:"accepted",id:"accepted",urlKey:"&n=accepted"},{label:"rejected",id:"rejected",urlKey:"&n=rejected"}]},16925:(e,n,i)=>{i.d(n,{Z:()=>t});const t={right:"Income_right__XnzYj",rightHead:"Income_rightHead__1rLc6",rightBody:"Income_rightBody__fGEC5",income_detail:"Income_income_detail__IWoJa",detailTop:"Income_detailTop__4JXuu",detailTopMid:"Income_detailTopMid__yc2yv",modal_container:"Income_modal_container__HiGr+",modal_container_outer_header:"Income_modal_container_outer_header__F9c7X",modal_container_header:"Income_modal_container_header__td-Fb",card_container:"Income_card_container__ewKhQ",card_container_image:"Income_card_container_image__5XloP",card_container_inner:"Income_card_container_inner__JBmxr",admission_fees_row:"Income_admission_fees_row__MPJCs",close_icon:"Income_close_icon__Ozq4u",student_message_container:"Income_student_message_container__8KnPc",student_message_container_inner:"Income_student_message_container_inner__mRYpD",usm_institute_container:"Income_usm_institute_container__4LkYt",usm_institute:"Income_usm_institute__hlzdF",date_select:"Income_date_select__D3VkU",gsf_star_container:"Income_gsf_star_container__7gdUs",afsi_container:"Income_afsi_container__7u06w",days_container:"Income_days_container__xq2RX",days_container_child:"Income_days_container_child__E30h2",days_container_child_active:"Income_days_container_child_active__y6eWZ",spsc_student:"Income_spsc_student__2-qo4"}}}]);
//# sourceMappingURL=71870.d5e71ac5.chunk.js.map