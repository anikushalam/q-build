"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[82321],{82321:(e,l,n)=>{n.r(l),n.d(l,{default:()=>K});var t=n(43504),i=n(16871),d=n(63687),s=n(21348),a=n(90904),o=n(98967),u=n(63162),r=n(85303),c=n(56959),v=n(39230),m=n(72791),_=n(23441),h=n(43317),p=n(91427),f=n(98684),x=n(55336),j=n(1669),g=n(2651),N=n(1095),y=n(75285),b=n(31697),Z=n(38857),S=n(16925),I=n(93638),A=n(61055),C=n(60924),k=n(43997),P=n(50518),F=n(99183),E=n(20659),T=n(26071),G=n(7562),U=n(80184);const L=e=>{var l,n,t,i,d,o,u;let{onClose:r,applicant:c,onRefetch:_,admissionId:p}=e;const{t:j}=(0,v.$G)(),[g,N]=(0,m.useState)(!1),[y,b]=(0,m.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:"",pay_remain:!1}),[L,w]=(0,m.useState)(0),[R,M]=(0,m.useState)(""),[O]=(0,h.z6)(),z=e=>{b((l=>({...l,[e.target.name]:e.target.value})))},q=e=>{if(b((l=>({...l,pay_remain:e}))),e){let e=0;for(let n of null===c||void 0===c||null===(l=c.app_card)||void 0===l?void 0:l.remaining_array){var l;"Paid"!==(null===n||void 0===n?void 0:n.status)&&(e+=null===n||void 0===n?void 0:n.remainAmount)}w(e)}};return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(Z.Z,{onClose:r,children:(0,U.jsxs)("div",{className:S.Z.modal_container,children:[(0,U.jsx)(s.Z,{children:(0,U.jsxs)("div",{className:S.Z.modal_container_outer_header,children:[(0,U.jsx)("div",{className:S.Z.modal_container_header,children:(0,U.jsx)("h6",{children:j("collect_readmission_fees")})}),(0,U.jsx)("img",{src:"".concat(f.J7,"/close.svg"),alt:"close icon",onClick:r})]})}),(0,U.jsx)(a.Z,{}),(0,U.jsxs)(s.Z,{customStyle:{paddingTop:"0"},children:[(0,U.jsxs)("div",{className:S.Z.admission_fees_row,children:[(0,U.jsxs)("h6",{children:[j("applicable_amount")," :"]}),(0,U.jsxs)("h6",{children:[j("rs_only")," ",null!==(l=null===c||void 0===c||null===(n=c.app_card)||void 0===n?void 0:n.applicable_fee)&&void 0!==l?l:0]})]}),null!==c&&void 0!==c&&null!==(t=c.fee_struct)&&void 0!==t&&t.total_installments&&+(null===c||void 0===c||null===(i=c.fee_struct)||void 0===i?void 0:i.total_installments)>1?(0,U.jsx)(E.Z,{label:"pay_rest_remaining_fees",children:null===G.nj||void 0===G.nj?void 0:G.nj.map((e=>(0,U.jsx)(T.Z,{tile:e,onTile:q,activeTile:y.pay_remain},null===e||void 0===e?void 0:e.id)))}):null,(0,U.jsx)(A.Z,{label:"".concat(j(y.pay_remain?"amount_remain_installment":"amount_first_installment")," ").concat(y.pay_remain?L:null===c||void 0===c||null===(d=c.app_card)||void 0===d||null===(o=d.remaining_array)||void 0===o||null===(u=o[0])||void 0===u?void 0:u.remainAmount),placeholder:j("amoute_details_collect"),name:"amount",value:y.amount,type:"tel",onChange:e=>{b((l=>({...l,amount:+e.target.value,fee_payment_amount:+e.target.value})))},errorShow:R.amount,msg:R.rest_issue}),(0,U.jsx)(P.Z,{paymentHeading:j("payment_type_mode"),selectLabel:j("mode_placeholder"),onClick:e=>{b((l=>({...l,mode:"Online",fee_payment_mode:e})))},errorShow:R.fee_payment_mode,defalutValue:y.fee_payment_mode,selectedValue:j("please_select_payment_mode"),isAuthority:"admissionCollectMode",customLabelStyle:{marginTop:"0"}}),(0,U.jsx)(C.Z,{label:j("select_date_of_transaction"),placeholder:j("please_select_date"),name:"transaction_date",value:y.transaction_date,onChange:e=>{b((l=>({...l,transaction_date:(0,k.jh)(e)})))},errorShow:R.transaction_date}),"Cash"===y.fee_payment_mode?null:(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(A.Z,{label:j("bank_name_collect"),placeholder:j("please_enter_bank_name"),name:"fee_bank_name",value:y.fee_bank_name,type:"text",onChange:z}),(0,U.jsx)(A.Z,{label:j("banke_holder_name"),placeholder:j("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:y.fee_bank_holder,type:"text",onChange:z}),(0,U.jsx)(A.Z,{label:j("cheque_dd_neft"),placeholder:j("please_enter_utr_ref_number"),name:"fee_utr_reference",value:y.fee_utr_reference,type:"text",onChange:z})]}),(0,U.jsx)(I.Z,{label:"collect",onAction:()=>{let e=(0,F.l)(y,["mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference","pay_remain"]);var l,n,t,i,d,s,a,o,u,v,m,h,f,x,j,g,b,Z,S,I,A,C,P,E,T,G,U,w,R;(0,F.x)(e)?y.pay_remain&&y.amount<L?M({rest_issue:"Amount should not be less than total remaining fees"}):!y.pay_remain&&y.amount>(null===c||void 0===c||null===(l=c.app_card)||void 0===l||null===(n=l.remaining_array)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.remainAmount)&&+(null===c||void 0===c||null===(i=c.fee_struct)||void 0===i?void 0:i.total_installments)>1?M({rest_issue:"Amount should not be greater than remaining fees"}):null!==c&&void 0!==c&&null!==(d=c.student)&&void 0!==d&&d._id&&p&&null!==c&&void 0!==c&&null!==(s=c.appId)&&void 0!==s&&s._id&&(N((e=>!e)),O({sid:null===c||void 0===c||null===(a=c.student)||void 0===a?void 0:a._id,aid:p,collect:{card_id:null===c||void 0===c||null===(o=c.app_card)||void 0===o?void 0:o._id,appId:null===c||void 0===c||null===(u=c.appId)||void 0===u?void 0:u._id,rid:null!==c&&void 0!==c&&null!==(v=c.app_card)&&void 0!==v&&v.parent_card?null===c||void 0===c||null===(m=c.app_card)||void 0===m?void 0:m.parent_card:null===c||void 0===c||null===(h=c.gov_card)||void 0===h?void 0:h.parent_card,raid:null===c||void 0===c||null===(f=c.app_card)||void 0===f||null===(x=f.remaining_array)||void 0===x||null===(j=x[0])||void 0===j?void 0:j._id,type:null===c||void 0===c||null===(g=c.app_card)||void 0===g||null===(b=g.remaining_array)||void 0===b||null===(Z=b[0])||void 0===Z?void 0:Z.installmentValue,raid_1:null!==(S=null===c||void 0===c||null===(I=c.app_card)||void 0===I||null===(A=I.remaining_array)||void 0===A||null===(C=A[1])||void 0===C?void 0:C._id)&&void 0!==S?S:"",amount:null!==(P=null===y||void 0===y?void 0:y.amount)&&void 0!==P?P:"",mode:"Cash"===(null===y||void 0===y?void 0:y.fee_payment_mode)?"Offline":null!==(E=null===y||void 0===y?void 0:y.mode)&&void 0!==E?E:"",fee_payment_mode:"Cash"===(null===y||void 0===y?void 0:y.fee_payment_mode)?"By Cash":null===y||void 0===y?void 0:y.fee_payment_mode,fee_payment_amount:null!==(T=null===y||void 0===y?void 0:y.fee_payment_amount)&&void 0!==T?T:"",transaction_date:null!==(G=(0,k._1)(y.transaction_date))&&void 0!==G?G:"",fee_bank_name:null!==(U=null===y||void 0===y?void 0:y.fee_bank_name)&&void 0!==U?U:"",fee_bank_holder:null!==(w=null===y||void 0===y?void 0:y.fee_bank_holder)&&void 0!==w?w:"",fee_utr_reference:null!==(R=null===y||void 0===y?void 0:y.fee_utr_reference)&&void 0!==R?R:"",pay_remain:y.pay_remain,flow:"RE_ADMISSION"}}).then((()=>{_(),N((e=>!e)),r()})).catch({})):M(e)}})]})]})}),g&&(0,U.jsx)(x.Z,{})]})},w=e=>{var l,n,t,i,d,s,a,o,u,r,c,_,h,p,x,j,g,Z,S,I,A,C,k,P,F,E,T,G,w;let{applicant:R,onRefetch:M,admissionId:O}=e;const{t:z}=(0,v.$G)(),[q,D]=(0,m.useState)(0);return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)("div",{className:y.Z.oac_container,title:"View Profile",children:[(0,U.jsxs)("div",{className:y.Z.oac_container_inner,children:[(0,U.jsx)("img",{alt:"Student Request Avatar",src:null!==R&&void 0!==R&&null!==(l=R.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(N.yI,"/").concat(null===R||void 0===R||null===(n=R.student)||void 0===n?void 0:n.studentProfilePhoto):"".concat(f.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,U.jsxs)("div",{className:y.Z.oac_container_inner_info,children:[(0,U.jsx)("h6",{children:"".concat(null!==(t=null===R||void 0===R||null===(i=R.student)||void 0===i?void 0:i.studentFirstName)&&void 0!==t?t:""," ").concat(null!==R&&void 0!==R&&null!==(d=R.student)&&void 0!==d&&d.studentMiddleName?null===R||void 0===R||null===(s=R.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null!==(a=null===R||void 0===R||null===(o=R.student)||void 0===o?void 0:o.studentLastName)&&void 0!==a?a:"")}),(0,U.jsxs)("h6",{children:[z("fee_structure")," : ",null!==(u=null===R||void 0===R||null===(r=R.fee_struct)||void 0===r||null===(c=r.unique_structure_name)||void 0===c||null===(_=c.split(" - "))||void 0===_?void 0:_[0])&&void 0!==u?u:"",", ",z("rs_only")," ",null!==(h=null===R||void 0===R||null===(p=R.fee_struct)||void 0===p?void 0:p.applicable_fees)&&void 0!==h?h:""]})]})]}),(0,U.jsxs)("div",{className:y.Z.oac_container_contact,children:[(0,U.jsxs)("div",{className:y.Z.oac_container_contact_inner,children:[(0,U.jsx)("img",{src:"".concat(f.U_,"/gender.svg"),alt:"email icon"}),(0,U.jsx)("p",{children:null===R||void 0===R||null===(x=R.student)||void 0===x?void 0:x.studentGender})]}),(0,U.jsxs)("div",{className:y.Z.oac_container_contact_inner,children:[(0,U.jsx)("img",{src:"".concat(f.U_,"/phone.svg"),alt:"phone icon"}),(0,U.jsx)("p",{children:null!==R&&void 0!==R&&null!==(j=R.student)&&void 0!==j&&null!==(g=j.user)&&void 0!==g&&g.userPhoneNumber?null===R||void 0===R||null===(Z=R.student)||void 0===Z||null===(S=Z.user)||void 0===S?void 0:S.userPhoneNumber:null!==R&&void 0!==R&&null!==(I=R.student)&&void 0!==I&&null!==(A=I.user)&&void 0!==A&&A.userEmail?null===R||void 0===R||null===(C=R.student)||void 0===C||null===(k=C.user)||void 0===k?void 0:k.userEmail:null!==R&&void 0!==R&&null!==(P=R.student)&&void 0!==P&&P.studentPhoneNumber?null===R||void 0===R||null===(F=R.student)||void 0===F?void 0:F.studentPhoneNumber:null!==R&&void 0!==R&&null!==(E=R.student)&&void 0!==E&&E.studentParentsPhoneNumber?null===R||void 0===R||null===(T=R.student)||void 0===T?void 0:T.studentParentsPhoneNumber:null!==(G=null===R||void 0===R||null===(w=R.student)||void 0===w?void 0:w.studentEmail)&&void 0!==G?G:""})]})]}),(0,U.jsx)("div",{className:y.Z.oac_container_stuff,children:(0,U.jsx)(b.Z,{label:"collect_fees",onAction:()=>{D(1)},customStyle:{padding:"0.4rem 0.7rem",fontSize:"13px"}})})]}),1===q?(0,U.jsx)(L,{onClose:()=>{D("")},onRefetch:M,applicant:R,admissionId:O}):null]})},R=e=>{var l,n,t,i;let{aid:d,instituteId:s}=e;const{t:a}=(0,v.$G)(),[o,u]=(0,m.useState)(""),[r,N]=(0,m.useState)(""),[y,b]=(0,m.useState)(1),[Z,S]=(0,m.useState)(!0),[I,A]=(0,_.YD)({skip:o}),{admissionReadmissionList:C,admissionReadmissionListLoading:k,admissionReadmissionListRefetch:P}=(0,h.gC)({data:{aid:d,page:y,limit:10,search:o},skip:!d});(0,m.useEffect)((()=>{A&&Z&&b((e=>e+1))}),[A,Z]),(0,m.useEffect)((()=>{var e;if(null!==C&&void 0!==C&&null!==(e=C.list)&&void 0!==e&&e.length){var l;let e=(0,p.f)(null===C||void 0===C||null===(l=C.list)||void 0===l?void 0:l.length);S((()=>e))}}),[null===C||void 0===C||null===(l=C.list)||void 0===l?void 0:l.length]);const F=(0,m.useCallback)((()=>{b((()=>1)),u(""),P()}),[]);return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{className:c.Z.fm_search_full,style:{marginBottom:"0.7rem"},children:(0,U.jsx)("section",{className:c.Z.fm_search_full_container,children:(0,U.jsxs)("div",{className:c.Z.fm_search_full_container_inner,children:[(0,U.jsx)("img",{className:c.Z.fm_search_full_icon,alt:"search icon",src:"".concat(f.dB,"/navbar-search.svg")}),(0,U.jsx)("input",{type:"text",placeholder:a("search"),onChange:e=>{var l;!k&&(null===C||void 0===C||null===(l=C.list)||void 0===l?void 0:l.length)>=0&&N(e.target.value)},name:"search",onKeyUp:e=>{"Enter"===e.key&&(b((()=>1)),u(r))},value:r})]})})}),null===C||void 0===C||null===(n=C.list)||void 0===n?void 0:n.map(((e,l)=>{var n;return(null===C||void 0===C||null===(n=C.list)||void 0===n?void 0:n.length)===l+1?(0,U.jsx)("div",{ref:I,children:(0,U.jsx)(w,{applicant:e,instituteId:s,onRefetch:F,admissionId:d})},null===e||void 0===e?void 0:e._id):(0,U.jsx)(w,{applicant:e,instituteId:s,onRefetch:F,admissionId:d},null===e||void 0===e?void 0:e._id)})),k?o?(0,U.jsx)(x.Z,{}):(0,U.jsx)(U.Fragment,{children:1===y?(0,U.jsx)(x.Z,{}):(0,U.jsx)(j.Z,{})}):o?0===(null===C||void 0===C||null===(t=C.list)||void 0===t?void 0:t.length)&&(0,U.jsx)(g.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No internal admission found related this search."}):0===(null===C||void 0===C||null===(i=C.list)||void 0===i?void 0:i.length)&&(0,U.jsx)(g.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No internal admission list."})]})};var M=n(97892),O=n.n(M),z=n(66239);const q=e=>{var l,n,t,d,s,a,o,u,r,c,_,h,p,x,j,g,b,Z,S,I,A,C,k,P,F,E,T,G,L;let{applicant:w,instituteId:R}=e;const{t:M}=(0,v.$G)(),q=(0,i.UO)(),D=(0,i.s0)(),K=(0,i.TH)(),B=(0,m.useCallback)((()=>{var e,l;D("/q/".concat(q.username,"/student/profile"),{state:{sid:null===w||void 0===w||null===(e=w.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:R,collectAccess:"ADMISSION_ADMIN",whichUrl:"Institute"===(null===(l=K.state)||void 0===l?void 0:l.urlOffSet)?"INSTITUTE":null}})}),[R,null===w||void 0===w||null===(l=w.student)||void 0===l?void 0:l._id]);return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)("div",{className:y.Z.oac_container,onClick:B,title:"View Profile",children:[(0,U.jsxs)("div",{className:y.Z.oac_container_inner,children:[(0,U.jsx)("img",{alt:"Student Request Avatar",src:null!==w&&void 0!==w&&null!==(n=w.student)&&void 0!==n&&n.studentProfilePhoto?"".concat(N.yI,"/").concat(null===w||void 0===w||null===(t=w.student)||void 0===t?void 0:t.studentProfilePhoto):"".concat(f.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,U.jsxs)("div",{className:y.Z.oac_container_inner_info,children:[(0,U.jsx)("h6",{children:"".concat(null!==(d=null===w||void 0===w||null===(s=w.student)||void 0===s?void 0:s.studentFirstName)&&void 0!==d?d:""," ").concat(null!==w&&void 0!==w&&null!==(a=w.student)&&void 0!==a&&a.studentMiddleName?null===w||void 0===w||null===(o=w.student)||void 0===o?void 0:o.studentMiddleName:""," ").concat(null!==(u=null===w||void 0===w||null===(r=w.student)||void 0===r?void 0:r.studentLastName)&&void 0!==u?u:"")}),(0,U.jsxs)("p",{children:[M("confirmed_on"),":"," ",O()(null===w||void 0===w?void 0:w.apply_on).format("DD MMM YYYY")]})]})]}),(0,U.jsxs)("div",{className:y.Z.oac_container_contact,children:[(0,U.jsxs)("div",{className:y.Z.oac_container_contact_inner,children:[(0,U.jsx)("img",{src:"".concat(f.U_,"/gender.svg"),alt:"email icon"}),(0,U.jsx)("p",{children:null===w||void 0===w||null===(c=w.student)||void 0===c?void 0:c.studentGender})]}),(0,U.jsxs)("div",{className:y.Z.oac_container_contact_inner,children:[(0,U.jsx)("img",{src:"".concat(f.U_,"/phone.svg"),alt:"phone icon"}),(0,U.jsx)("p",{children:null!==w&&void 0!==w&&null!==(_=w.student)&&void 0!==_&&null!==(h=_.user)&&void 0!==h&&h.userPhoneNumber?null===w||void 0===w||null===(p=w.student)||void 0===p||null===(x=p.user)||void 0===x?void 0:x.userPhoneNumber:null!==w&&void 0!==w&&null!==(j=w.student)&&void 0!==j&&null!==(g=j.user)&&void 0!==g&&g.userEmail?null===w||void 0===w||null===(b=w.student)||void 0===b||null===(Z=b.user)||void 0===Z?void 0:Z.userEmail:null!==w&&void 0!==w&&null!==(S=w.student)&&void 0!==S&&S.studentPhoneNumber?null===w||void 0===w||null===(I=w.student)||void 0===I?void 0:I.studentPhoneNumber:null!==w&&void 0!==w&&null!==(A=w.student)&&void 0!==A&&A.studentParentsPhoneNumber?null===w||void 0===w||null===(C=w.student)||void 0===C?void 0:C.studentParentsPhoneNumber:null!==(k=null===w||void 0===w||null===(P=w.student)||void 0===P?void 0:P.studentEmail)&&void 0!==k?k:""})]})]}),(0,U.jsxs)("div",{className:y.Z.oac_container_stuff,children:[(0,U.jsx)("a",{href:"".concat(N.q2,"/").concat(null===w||void 0===w||null===(F=w.student)||void 0===F||null===(E=F.application_print)||void 0===E||null===(T=E[0])||void 0===T?void 0:T.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-3px"},onClick:e=>{e.stopPropagation()},children:(0,U.jsx)("img",{src:"".concat(f.U_,"/download.svg"),alt:"receipt icon",title:"View Application Form"})}),null===w||void 0===w||null===(G=w.student)||void 0===G||null===(L=G.fee_receipt)||void 0===L?void 0:L.map(((e,l)=>l>2?"":(0,U.jsx)(z.Z,{rid:null===e||void 0===e?void 0:e._id,receiptFile:null===e||void 0===e?void 0:e.receipt_file},null===e||void 0===e?void 0:e._id)))]})]})})},D=e=>{var l,n,t,i;let{aid:d,instituteId:s}=e;const{t:a}=(0,v.$G)(),[o,u]=(0,m.useState)(""),[r,N]=(0,m.useState)(""),[y,b]=(0,m.useState)(1),[Z,S]=(0,m.useState)(!0),[I,A]=(0,_.YD)({skip:o}),{admissionReadmissionConfirmedList:C,admissionReadmissionConfirmedListLoading:k}=(0,h.w_)({data:{aid:d,page:y,limit:10,search:o},skip:!d});(0,m.useEffect)((()=>{A&&Z&&b((e=>e+1))}),[A,Z]),(0,m.useEffect)((()=>{var e;if(null!==C&&void 0!==C&&null!==(e=C.list)&&void 0!==e&&e.length){var l;let e=(0,p.f)(null===C||void 0===C||null===(l=C.list)||void 0===l?void 0:l.length);S((()=>e))}}),[null===C||void 0===C||null===(l=C.list)||void 0===l?void 0:l.length]);return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{className:c.Z.fm_search_full,style:{marginBottom:"0.7rem"},children:(0,U.jsx)("section",{className:c.Z.fm_search_full_container,children:(0,U.jsxs)("div",{className:c.Z.fm_search_full_container_inner,children:[(0,U.jsx)("img",{className:c.Z.fm_search_full_icon,alt:"search icon",src:"".concat(f.dB,"/navbar-search.svg")}),(0,U.jsx)("input",{type:"text",placeholder:a("search"),onChange:e=>{var l;!k&&(null===C||void 0===C||null===(l=C.list)||void 0===l?void 0:l.length)>=0&&N(e.target.value)},name:"search",onKeyUp:e=>{"Enter"===e.key&&(b((()=>1)),u(r))},value:r})]})})}),null===C||void 0===C||null===(n=C.list)||void 0===n?void 0:n.map(((e,l)=>{var n;return(null===C||void 0===C||null===(n=C.list)||void 0===n?void 0:n.length)===l+1?(0,U.jsx)("div",{ref:I,children:(0,U.jsx)(q,{applicant:e,instituteId:s})},null===e||void 0===e?void 0:e._id):(0,U.jsx)(q,{applicant:e,instituteId:s},null===e||void 0===e?void 0:e._id)})),k?o?(0,U.jsx)(x.Z,{}):(0,U.jsx)(U.Fragment,{children:1===y?(0,U.jsx)(x.Z,{}):(0,U.jsx)(j.Z,{})}):o?0===(null===C||void 0===C||null===(t=C.list)||void 0===t?void 0:t.length)&&(0,U.jsx)(g.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No confirmed admission found related this search."}):0===(null===C||void 0===C||null===(i=C.list)||void 0===i?void 0:i.length)&&(0,U.jsx)(g.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No confirmed admission list."})]})},K=e=>{let{instituteId:l,studentAlias:n,aid:m}=e;const{t:_}=(0,v.$G)(),[h]=(0,t.lr)(),p=(0,i.TH)(),f=(0,i.UO)();return(0,U.jsxs)(d.default,{children:[(0,U.jsx)(s.Z,{children:(0,U.jsx)("div",{className:c.Z.fm_header_container,children:(0,U.jsx)("h6",{children:_("re_admission_only")})})}),(0,U.jsx)(a.Z,{}),(0,U.jsx)(o.Z,{children:B.map((e=>{var l,n;return(0,U.jsx)(u.Z,{tab:e,isLink:!0,isActive:null===(l=e.groupIs)||void 0===l?void 0:l.includes(h.get("n")),parentState:p.state,url:"Institute"===(null===(n=p.state)||void 0===n?void 0:n.urlOffSet)?"/q/".concat(f.username,"/institute/member/admission?type=internal").concat(e.urlKey):"/q/".concat(f.username,"/member/staff/admission?type=internal").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,U.jsx)(a.Z,{customStyleBorder:{marginTop:"0"}}),h.get("n")?"re-admission"===h.get("n")?(0,U.jsx)(s.Z,{children:(0,U.jsx)(R,{aid:m,instituteId:l})}):"confirmed"===h.get("n")?(0,U.jsx)(s.Z,{children:(0,U.jsx)(D,{aid:m,instituteId:l})}):null:(0,U.jsx)(r.default,{instituteId:l,studentAlias:n,invalidateAccess:"unAuthorized",allStudentControl:Y})]})},B=[{label:"all_students",id:"student",urlKey:"",groupIs:["",null]},{label:"internal_admission",id:"re-admission",urlKey:"&n=re-admission",groupIs:["re-admission"]},{label:"confirm_admission",id:"confirmed",urlKey:"&n=confirmed",groupIs:["confirmed"]}],Y={collectAccess:"Other",govtAccess:"Other",cancelAccess:!1,editStructureControl:"unauthorized",editGovtNumberContorl:"unauthorized",editInstallmentControl:"unauthorized",editGovtInstallmentControl:"unauthorized"}},85303:(e,l,n)=>{n.r(l),n.d(l,{default:()=>E});var t=n(63687),i=n(21348),d=n(72791),s=n(39230),a=n(23441),o=n(56959),u=n(90904),r=n(98684),c=n(91427),v=n(6758);const m="FinanceAllStudent_student_table__Y3uXE",_="FinanceAllStudent_student_table_header__4fuiU",h="FinanceAllStudent_student_table_header_label__4x6eY",p="FinanceAllStudent_student_table_content_card__3KWaE",f="FinanceAllStudent_student_table_profile__QUIFN",x="FinanceAllStudent_student_table_header_name__x4ZNJ",j="FinanceAllStudent_student_table_header_label_text__lny-H",g="FinanceAllStudent_student_table_contact__f4eB5",N="FinanceAllStudent_student_table_contact_email__dV19L",y="FinanceAllStudent_student_table_contact_number__r7HNK";var b=n(80184);const Z=e=>{let{studentAlias:l}=e;const{t:n}=(0,s.$G)();return(0,b.jsx)("div",{className:m,children:(0,b.jsxs)("div",{className:_,children:[(0,b.jsx)("p",{className:h,style:{flex:"1"},children:null!==l&&void 0!==l?l:n("gr_no")}),(0,b.jsx)("p",{className:h,style:{flex:"3"},children:n("name")}),(0,b.jsx)("p",{className:h,style:{flex:"2"},children:n("contact_number")}),(0,b.jsx)("p",{className:h,style:{flex:"1"},children:n("applicable_outs")}),(0,b.jsx)("p",{className:h,style:{flex:"0.7"},children:n("govt_oustanding")})]})})};var S=n(1095),I=n(16871),A=n(43504);const C=e=>{var l,n,t,i,d,s,a,o,c,v;let{student:m,messageId:_,headId:Z,instituteId:C,allStudentControl:k}=e;const P=(0,I.UO)(),F=(0,I.TH)();return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(A.rU,{to:"/q/".concat(P.username,"/member/student/admission/profile"),state:{...F.state,sid:null===m||void 0===m?void 0:m._id,messageId:_,headId:Z,instituteId:C,collectAccess:null===k||void 0===k?void 0:k.collectAccess,govtAccess:null===k||void 0===k?void 0:k.govtAccess,cancelAccess:null===k||void 0===k?void 0:k.cancelAccess,editStructureControl:null===k||void 0===k?void 0:k.editStructureControl,editGovtNumberContorl:null===k||void 0===k?void 0:k.editGovtNumberContorl,editInstallmentControl:null===k||void 0===k?void 0:k.editInstallmentControl,editGovtInstallmentControl:null===k||void 0===k?void 0:k.editGovtInstallmentControl,viewAs:"Institute"===(null===(l=F.state)||void 0===l?void 0:l.urlOffSet)?"INSTITUTE":null},children:[(0,b.jsxs)("div",{className:p,style:{cursor:"pointer"},children:[(0,b.jsx)("p",{className:h,style:{flex:"1"},children:null!==(n=null===m||void 0===m?void 0:m.studentGRNO)&&void 0!==n?n:""}),(0,b.jsxs)("div",{className:f,style:{flex:"3"},children:[(0,b.jsx)("img",{src:null!==m&&void 0!==m&&m.studentProfilePhoto?"".concat(S.yI,"/").concat(null===m||void 0===m?void 0:m.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:x,children:["".concat(null!==(t=null===m||void 0===m?void 0:m.studentFirstName)&&void 0!==t?t:""," ").concat(null!==(i=null===m||void 0===m?void 0:m.studentMiddleName)&&void 0!==i?i:""," ").concat(null!==(d=null===m||void 0===m?void 0:m.studentLastName)&&void 0!==d?d:""),"100"===(null===m||void 0===m?void 0:m.profile_percentage)||100===(null===m||void 0===m?void 0:m.profile_percentage)?(0,b.jsx)("img",{src:"".concat(r.Fk,"/complete.svg"),loading:"lazy",alt:"avatar",style:{marginLeft:"0.6rem",height:"1rem"}}):null]}),(0,b.jsx)("p",{className:j,children:null!==(s=null===m||void 0===m||null===(a=m.studentClass)||void 0===a?void 0:a.classTitle)&&void 0!==s?s:""})]})]}),(0,b.jsxs)("div",{className:h,style:{flex:"2"},children:[(0,b.jsxs)("div",{className:g,children:[(0,b.jsx)("img",{src:"".concat(r.Fk,"/gender.svg"),alt:"gender icon"}),(0,b.jsx)("p",{className:N,children:null===m||void 0===m?void 0:m.studentGender})]}),(0,b.jsxs)("div",{className:g,style:{marginTop:"0.4rem"},children:[(0,b.jsx)("img",{src:"".concat(r.Fk,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{className:y,children:null!==m&&void 0!==m&&m.user.userPhoneNumber?null===m||void 0===m?void 0:m.user.userPhoneNumber:null!==(o=null===m||void 0===m?void 0:m.user.userEmail)&&void 0!==o?o:""})]})]}),(0,b.jsx)("p",{className:h,style:{flex:"1",textAlign:"right"},children:null!==(c=null===m||void 0===m?void 0:m.applicable_fees_pending)&&void 0!==c?c:0}),(0,b.jsx)("p",{className:h,style:{flex:"0.7",textAlign:"right"},children:null!==(v=null===m||void 0===m?void 0:m.government_fees_pending)&&void 0!==v?v:0})]}),(0,b.jsx)(u.Z,{customStyleBorder:{margin:"0"}})]})})};var k=n(55336),P=n(1669),F=n(2651);const E=e=>{var l,n,m;let{instituteId:_,studentAlias:h,headId:p,messageId:f,invalidateAccess:x,allStudentControl:j}=e;const{t:g}=(0,s.$G)(),[N,y]=(0,d.useState)(""),[S,I]=(0,d.useState)(""),[A,E]=(0,d.useState)(1),[G,U]=(0,d.useState)(!0),[L,w]=(0,a.YD)({skip:N}),{instituteAllStudent:R,instituteAllStudentLoading:M}=(0,v.Cp)({data:{id:_,page:A,limit:10,search:N},skip:!_});(0,d.useEffect)((()=>{w&&G&&E((e=>e+1))}),[w,G]),(0,d.useEffect)((()=>{if(null!==R&&void 0!==R&&R.list){var e;let l=(0,c.f)(null===R||void 0===R||null===(e=R.list)||void 0===e?void 0:e.length);U((()=>l))}}),[null===R||void 0===R?void 0:R.list]);const O=e=>{var l;!M&&(null===R||void 0===R||null===(l=R.list)||void 0===l?void 0:l.length)>=0&&I(e.target.value)},z=e=>{"Enter"===e.key&&(E((()=>1)),y(S))};return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(t.default,{customStyle:{border:T[x]?"none":"0.5px solid #cacaca"},children:[T[x]?(0,b.jsx)(i.Z,{children:(0,b.jsx)("div",{className:o.Z.fm_search_full,children:(0,b.jsx)("section",{className:o.Z.fm_search_full_container,children:(0,b.jsxs)("div",{className:o.Z.fm_search_full_container_inner,children:[(0,b.jsx)("img",{className:o.Z.fm_search_full_icon,alt:"search icon",src:"".concat(r.dB,"/navbar-search.svg")}),(0,b.jsx)("input",{type:"text",placeholder:g("search"),onChange:O,onKeyUp:z,value:S})]})})})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.Z,{children:(0,b.jsxs)("div",{className:o.Z.fm_header_container,children:[(0,b.jsx)("h6",{children:g("all_students")}),(0,b.jsx)("div",{className:o.Z.fm_both_filter,children:(0,b.jsx)("div",{className:o.Z.fm_search,children:(0,b.jsx)("section",{className:o.Z.fm_search_container,children:(0,b.jsxs)("div",{className:o.Z.fm_search_container_inner,children:[(0,b.jsx)("img",{className:o.Z.fm_search_icon,alt:"search icon",src:"".concat(r.dB,"/navbar-search.svg")}),(0,b.jsx)("input",{type:"text",placeholder:g("search"),onChange:O,style:{minWidth:"300px"},onKeyUp:z,value:S})]})})})})]})}),(0,b.jsx)(u.Z,{})]}),(0,b.jsx)(i.Z,{children:(0,b.jsx)(Z,{studentAlias:h})}),(0,b.jsx)(u.Z,{}),(0,b.jsxs)(i.Z,{children:[null===R||void 0===R||null===(l=R.list)||void 0===l?void 0:l.map(((e,l)=>{var n;return(null===R||void 0===R||null===(n=R.list)||void 0===n?void 0:n.length)===l+1?(0,b.jsx)("div",{ref:L,children:(0,b.jsx)(C,{student:e,instituteId:_,messageId:f,headId:p,allStudentControl:j})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(C,{student:e,instituteId:_,messageId:f,headId:p,allStudentControl:j},null===e||void 0===e?void 0:e._id)})),M?N?(0,b.jsx)(k.Z,{}):(0,b.jsx)(b.Fragment,{children:1===A?(0,b.jsx)(k.Z,{}):(0,b.jsx)(P.Z,{})}):N?0===(null===R||void 0===R||null===(n=R.list)||void 0===n?void 0:n.length)&&(0,b.jsx)(F.Z,{title:"No student found related this search."}):0===(null===R||void 0===R||null===(m=R.list)||void 0===m?void 0:m.length)&&(0,b.jsx)(F.Z,{title:"No students added in institute."})]})]})})},T={unAuthorized:!0,govt:!0}}}]);
//# sourceMappingURL=82321.51e9331c.chunk.js.map