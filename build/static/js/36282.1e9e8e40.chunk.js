"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[36282],{36282:(e,t,i)=>{i.r(t),i.d(t,{default:()=>p});var n=i(72791),a=i(98684),l=i(55336),o=i(1669),s=i(2651),r=i(23441),_=i(86500),d=i(91427),c=i(57588),u=i(39230),v=i(56959),f=i(9228),h=i(16871),y=i(1095),m=i(80184);const b=(0,n.lazy)((()=>i.e(19623).then(i.bind(i,87156)))),g=e=>{var t,i,o,s,r,_,d,c,v,g,p,j;let{staff:x}=e;const{t:I}=(0,u.$G)(),w=(0,h.TH)(),[F,N]=(0,n.useState)(!1);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:f.Z.sf_card,onClick:()=>{var e,t;null!==x&&void 0!==x&&null!==(e=x.student_feedback)&&void 0!==e&&null!==(t=e[0])&&void 0!==t&&t.analytic_evaluation&&N((e=>!e))},children:(0,m.jsxs)("div",{className:f.Z.sf_card_contatiner,style:{justifyContent:"space-between",width:"100%"},children:[(0,m.jsxs)("div",{className:f.Z.sf_card_contatiner,children:[(0,m.jsx)("img",{src:null!==x&&void 0!==x&&x.staffProfilePhoto?"".concat(y.yI,"/").concat(null===x||void 0===x?void 0:x.staffProfilePhoto):"".concat(a.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,m.jsxs)("div",{className:f.Z.sf_card_contatiner_inner,children:[(0,m.jsx)("h6",{children:"".concat(null!==(t=null===x||void 0===x?void 0:x.staffFirstName)&&void 0!==t?t:""," ").concat(null!==(i=null===x||void 0===x?void 0:x.staffMiddleName)&&void 0!==i?i:""," ").concat(null!==(o=null===x||void 0===x?void 0:x.staffLastName)&&void 0!==o?o:"")}),(0,m.jsxs)("p",{children:[I("employee_code"),": ",null!==(s=null===x||void 0===x?void 0:x.staffROLLNO)&&void 0!==s?s:""]})]})]}),null!==x&&void 0!==x&&null!==(r=x.student_feedback)&&void 0!==r&&null!==(_=r[0])&&void 0!==_&&_.analytic_evaluation?(0,m.jsxs)("div",{className:f.Z.sf_card_contatiner_inner,children:[(0,m.jsxs)("h6",{children:[(0,m.jsx)("span",{style:{fontWeight:"400"},children:I("total_feedback")}),": ",k(null===x||void 0===x||null===(d=x.student_feedback)||void 0===d||null===(c=d[0])||void 0===c?void 0:c.subject_analytic),"%"]}),(0,m.jsxs)("p",{children:[I("given_feedback"),": ",null!==(v=null===x||void 0===x||null===(g=x.student_feedback)||void 0===g||null===(p=g[0])||void 0===p?void 0:p.student_give_feedback_count)&&void 0!==v?v:0]})]}):null]})}),(0,m.jsx)(n.Suspense,{fallback:(0,m.jsx)(l.default,{}),children:F&&(0,m.jsx)(b,{onClose:()=>{N((e=>!e))},ifid:null===(j=w.state)||void 0===j?void 0:j.ifid,sid:null===x||void 0===x?void 0:x._id,staff:x})})]})},k=e=>{if((null===e||void 0===e?void 0:e.length)>0){let t=0;for(let i of e)t+=null===i||void 0===i?void 0:i.feedback_percentage;return t=Math.floor(t/(null===e||void 0===e?void 0:e.length)),t}return 0},p=e=>{var t,i,f;let{instituteId:h,ifid:y}=e;const{t:b}=(0,u.$G)(),[k,p]=(0,n.useState)(""),[j,x]=(0,n.useState)(1),[I,w]=(0,n.useState)(!0),[F,N]=(0,r.YD)({skip:k}),{feedbackSubjectTeacherList:U,feedbackSubjectTeacherListLoading:Z}=(0,_.FQ)({data:{ifid:y,page:j,limit:10,search:k},skip:!y});(0,n.useEffect)((()=>{N&&I&&x((e=>e+1))}),[N,I]),(0,n.useEffect)((()=>{var e;if(null!==U&&void 0!==U&&null!==(e=U.list)&&void 0!==e&&e.length){var t;let e=(0,d.f)(null===U||void 0===U||null===(t=U.list)||void 0===t?void 0:t.length);w((()=>e))}}),[null===U||void 0===U?void 0:U.list]);const q=(0,n.useCallback)((0,c.J)((e=>{x((()=>1)),p(e)}),1500),[]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:v.Z.fm_header_container,children:(0,m.jsx)("div",{className:v.Z.fm_search_full,children:(0,m.jsx)("section",{className:v.Z.fm_search_full_container,children:(0,m.jsxs)("div",{className:v.Z.fm_search_full_container_inner,children:[(0,m.jsx)("img",{className:v.Z.fm_search_full_icon,alt:"search icon",src:"".concat(a.dB,"/navbar-search.svg")}),(0,m.jsx)("input",{type:"text",placeholder:b("search"),onChange:e=>{e.target.value?q(e.target.value):(x((()=>1)),p(""))}})]})})})}),null===U||void 0===U||null===(t=U.list)||void 0===t?void 0:t.map(((e,t)=>{var i;return(null===U||void 0===U||null===(i=U.list)||void 0===i?void 0:i.length)===t+1?(0,m.jsx)("div",{ref:F,children:(0,m.jsx)(g,{staff:e})},null===e||void 0===e?void 0:e._id):(0,m.jsx)(g,{staff:e},null===e||void 0===e?void 0:e._id)})),Z?k?(0,m.jsx)(l.default,{}):(0,m.jsx)(o.Z,{}):k?0===(null===U||void 0===U||null===(i=U.list)||void 0===i?void 0:i.length)&&(0,m.jsx)(s.Z,{title:"No staff found related this search.",customStyleContainer:{marginTop:"10rem"}}):0===(null===U||void 0===U||null===(f=U.list)||void 0===f?void 0:f.length)&&(0,m.jsx)(s.Z,{title:"No staff.",customStyleContainer:{marginTop:"10rem"}})]})}},1669:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(98684),a=i(63244),l=i(80184);const o=e=>{let{isGrey:t}=e;return(0,l.jsx)("div",{className:a.Z.q_loading,children:(0,l.jsx)("img",{src:"".concat(n.Uw,t?"/loading-grey.gif":"/loading.gif"),alt:"loading icon"})})}},2651:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(15783),a=i(80184);const l=e=>{let{title:t,subtitle:i,customStyleContainer:l,costomTextTitleStyle:o,costomTextSubtitleStyle:s}=e;return(0,a.jsxs)("div",{className:n.Z.empty_container,style:l,children:[t&&(0,a.jsx)("h6",{style:o,children:t}),i&&(0,a.jsx)("p",{style:s,children:i})]})}},57588:(e,t,i)=>{i.d(t,{J:()=>n});const n=(e,t)=>{let i;return function(){let n=this,a=arguments;clearTimeout(i),i=setTimeout((()=>{e.apply(n,a)}),t)}}},91427:(e,t,i)=>{i.d(t,{f:()=>n});const n=e=>e%10===0},9228:(e,t,i)=>{i.d(t,{Z:()=>n});const n={sf_card:"InstituteFeedback_sf_card__dLh8P",sf_card_hover:"InstituteFeedback_sf_card_hover__BqLqV",iadcc_card_hover:"InstituteFeedback_iadcc_card_hover__wMuhW",sf_card_contatiner:"InstituteFeedback_sf_card_contatiner__2Zbiq",sf_card_contatiner_inner:"InstituteFeedback_sf_card_contatiner_inner__sjsCw",sf_card_active:"InstituteFeedback_sf_card_active__ujoaz",ifq_card:"InstituteFeedback_ifq_card__vFRNw",ifq_card_inner:"InstituteFeedback_ifq_card_inner__65kmp",ifqo_cantainer:"InstituteFeedback_ifqo_cantainer__YlkE-",ifqo_cantainer_student:"InstituteFeedback_ifqo_cantainer_student__WsWho",ifqocs_active:"InstituteFeedback_ifqocs_active__Wa3As",osa_card:"InstituteFeedback_osa_card__48+nw",gsf_contatiner:"InstituteFeedback_gsf_contatiner__x3ydz",gsf_star_container:"InstituteFeedback_gsf_star_container__0Mu56",igc_card:"InstituteFeedback_igc_card__cCB4r",sfcc_input:"InstituteFeedback_sfcc_input__VxOy3"}},15783:(e,t,i)=>{i.d(t,{Z:()=>n});const n={notify_backdrop:"Utils_notify_backdrop__saL0O",notify_overlay:"Utils_notify_overlay__GtPc5",notify_hide_overlay:"Utils_notify_hide_overlay__MYvkC",notify_overlay_animation:"Utils_notify_overlay_animation__pcASm",notify_hide_overlay_animation:"Utils_notify_hide_overlay_animation__UKRcG",notify_container:"Utils_notify_container__O8DBA",notify_message:"Utils_notify_message__PHwKo",notify_close:"Utils_notify_close__IwjyA",modal_backdrop:"Utils_modal_backdrop__WBquw",modal_overlay:"Utils_modal_overlay__Yy-AV",modal_hide_overlay:"Utils_modal_hide_overlay__elt3A",navbar_modal_hide_overlay:"Utils_navbar_modal_hide_overlay__yqj5q",navbar_modal_overlay:"Utils_navbar_modal_overlay__6ub8g",modal_hide_overlay_animation:"Utils_modal_hide_overlay_animation__d3TNp",navbar_modal_overlay_animation:"Utils_navbar_modal_overlay_animation__Ypk9u",navbar_modal_hide_overlay_animation:"Utils_navbar_modal_hide_overlay_animation__QLEse",empty_container:"Utils_empty_container__-VyCI",modal_overlay_animation:"Utils_modal_overlay_animation__zkjsk"}},23441:(e,t,i)=>{i.d(t,{YD:()=>u});var n=i(72791),a=Object.defineProperty,l=(e,t,i)=>(((e,t,i)=>{t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i})(e,"symbol"!==typeof t?t+"":t,i),i),o=new Map,s=new WeakMap,r=0,_=void 0;function d(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>{return"".concat(t,"_").concat("root"===t?(i=e.root)?(s.has(i)||(r+=1,s.set(i,r.toString())),s.get(i)):"0":e[t]);var i})).toString()}function c(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_;if("undefined"===typeof window.IntersectionObserver&&void 0!==n){const a=e.getBoundingClientRect();return t(n,{isIntersecting:n,target:e,intersectionRatio:"number"===typeof i.threshold?i.threshold:0,time:0,boundingClientRect:a,intersectionRect:a,rootBounds:a}),()=>{}}const{id:a,observer:l,elements:s}=function(e){let t=d(e),i=o.get(t);if(!i){const n=new Map;let a;const l=new IntersectionObserver((t=>{t.forEach((t=>{var i;const l=t.isIntersecting&&a.some((e=>t.intersectionRatio>=e));e.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=l),null==(i=n.get(t.target))||i.forEach((e=>{e(l,t)}))}))}),e);a=l.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),i={id:t,observer:l,elements:n},o.set(t,i)}return i}(i);let r=s.get(e)||[];return s.has(e)||s.set(e,r),r.push(t),l.observe(e),function(){r.splice(r.indexOf(t),1),0===r.length&&(s.delete(e),l.unobserve(e)),0===s.size&&(l.disconnect(),o.delete(a))}}n.Component;function u(){let{threshold:e,delay:t,trackVisibility:i,rootMargin:a,root:l,triggerOnce:o,skip:s,initialInView:r,fallbackInView:_,onChange:d}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var u;const[v,f]=n.useState(null),h=n.useRef(),[y,m]=n.useState({inView:!!r,entry:void 0});h.current=d,n.useEffect((()=>{if(s||!v)return;let n;return n=c(v,((e,t)=>{m({inView:e,entry:t}),h.current&&h.current(e,t),t.isIntersecting&&o&&n&&(n(),n=void 0)}),{root:l,rootMargin:a,threshold:e,trackVisibility:i,delay:t},_),()=>{n&&n()}}),[Array.isArray(e)?e.toString():e,v,l,a,o,s,i,_,t]);const b=null==(u=y.entry)?void 0:u.target,g=n.useRef();v||!b||o||s||g.current===b||(g.current=b,m({inView:!!r,entry:void 0}));const k=[f,y.inView,y.entry];return k.ref=k[0],k.inView=k[1],k.entry=k[2],k}}}]);
//# sourceMappingURL=36282.1e9e8e40.chunk.js.map