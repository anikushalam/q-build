"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[36282],{36282:(e,a,t)=>{t.r(a),t.d(a,{default:()=>g});var i=t(72791),n=t(98684),l=t(55336),_=t(1669),o=t(2651),s=t(23441),d=t(86500),c=t(91427),r=t(57588),v=t(39230),u=t(56959),f=t(9228),h=t(16871),m=t(1095),y=t(80184);const b=(0,i.lazy)((()=>t.e(19623).then(t.bind(t,87156)))),k=e=>{var a,t,_,o,s,d,c,r,u,k,g,x;let{staff:p}=e;const{t:Z}=(0,v.$G)(),F=(0,h.TH)(),[N,U]=(0,i.useState)(!1);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:f.Z.sf_card,onClick:()=>{var e,a;null!==p&&void 0!==p&&null!==(e=p.student_feedback)&&void 0!==e&&null!==(a=e[0])&&void 0!==a&&a.analytic_evaluation&&U((e=>!e))},children:(0,y.jsxs)("div",{className:f.Z.sf_card_contatiner,style:{justifyContent:"space-between",width:"100%"},children:[(0,y.jsxs)("div",{className:f.Z.sf_card_contatiner,children:[(0,y.jsx)("img",{src:null!==p&&void 0!==p&&p.staffProfilePhoto?"".concat(m.yI,"/").concat(null===p||void 0===p?void 0:p.staffProfilePhoto):"".concat(n.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,y.jsxs)("div",{className:f.Z.sf_card_contatiner_inner,children:[(0,y.jsx)("h6",{children:"".concat(null!==(a=null===p||void 0===p?void 0:p.staffFirstName)&&void 0!==a?a:""," ").concat(null!==(t=null===p||void 0===p?void 0:p.staffMiddleName)&&void 0!==t?t:""," ").concat(null!==(_=null===p||void 0===p?void 0:p.staffLastName)&&void 0!==_?_:"")}),(0,y.jsxs)("p",{children:[Z("employee_code"),": ",null!==(o=null===p||void 0===p?void 0:p.staffROLLNO)&&void 0!==o?o:""]})]})]}),null!==p&&void 0!==p&&null!==(s=p.student_feedback)&&void 0!==s&&null!==(d=s[0])&&void 0!==d&&d.analytic_evaluation?(0,y.jsxs)("div",{className:f.Z.sf_card_contatiner_inner,children:[(0,y.jsxs)("h6",{children:[(0,y.jsx)("span",{style:{fontWeight:"400"},children:Z("total_feedback")}),": ",j(null===p||void 0===p||null===(c=p.student_feedback)||void 0===c||null===(r=c[0])||void 0===r?void 0:r.subject_analytic),"%"]}),(0,y.jsxs)("p",{children:[Z("given_feedback"),": ",null!==(u=null===p||void 0===p||null===(k=p.student_feedback)||void 0===k||null===(g=k[0])||void 0===g?void 0:g.student_give_feedback_count)&&void 0!==u?u:0]})]}):null]})}),(0,y.jsx)(i.Suspense,{fallback:(0,y.jsx)(l.Z,{}),children:N&&(0,y.jsx)(b,{onClose:()=>{U((e=>!e))},ifid:null===(x=F.state)||void 0===x?void 0:x.ifid,sid:null===p||void 0===p?void 0:p._id,staff:p})})]})},j=e=>{if((null===e||void 0===e?void 0:e.length)>0){let a=0;for(let t of e)a+=null===t||void 0===t?void 0:t.feedback_percentage;return a=Math.floor(a/(null===e||void 0===e?void 0:e.length)),a}return 0},g=e=>{var a,t,f;let{instituteId:h,ifid:m}=e;const{t:b}=(0,v.$G)(),[j,g]=(0,i.useState)(""),[x,p]=(0,i.useState)(1),[Z,F]=(0,i.useState)(!0),[N,U]=(0,s.YD)({skip:j}),{feedbackSubjectTeacherList:q,feedbackSubjectTeacherListLoading:I}=(0,d.FQ)({data:{ifid:m,page:x,limit:10,search:j},skip:!m});(0,i.useEffect)((()=>{U&&Z&&p((e=>e+1))}),[U,Z]),(0,i.useEffect)((()=>{var e;if(null!==q&&void 0!==q&&null!==(e=q.list)&&void 0!==e&&e.length){var a;let e=(0,c.f)(null===q||void 0===q||null===(a=q.list)||void 0===a?void 0:a.length);F((()=>e))}}),[null===q||void 0===q?void 0:q.list]);const C=(0,i.useCallback)((0,r.J)((e=>{p((()=>1)),g(e)}),1500),[]);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:u.Z.fm_header_container,children:(0,y.jsx)("div",{className:u.Z.fm_search_full,children:(0,y.jsx)("section",{className:u.Z.fm_search_full_container,children:(0,y.jsxs)("div",{className:u.Z.fm_search_full_container_inner,children:[(0,y.jsx)("img",{className:u.Z.fm_search_full_icon,alt:"search icon",src:"".concat(n.dB,"/navbar-search.svg")}),(0,y.jsx)("input",{type:"text",placeholder:b("search"),onChange:e=>{e.target.value?C(e.target.value):(p((()=>1)),g(""))}})]})})})}),null===q||void 0===q||null===(a=q.list)||void 0===a?void 0:a.map(((e,a)=>{var t;return(null===q||void 0===q||null===(t=q.list)||void 0===t?void 0:t.length)===a+1?(0,y.jsx)("div",{ref:N,children:(0,y.jsx)(k,{staff:e})},null===e||void 0===e?void 0:e._id):(0,y.jsx)(k,{staff:e},null===e||void 0===e?void 0:e._id)})),I?j?(0,y.jsx)(l.Z,{}):(0,y.jsx)(_.Z,{}):j?0===(null===q||void 0===q||null===(t=q.list)||void 0===t?void 0:t.length)&&(0,y.jsx)(o.Z,{title:"No staff found related this search.",customStyleContainer:{marginTop:"10rem"}}):0===(null===q||void 0===q||null===(f=q.list)||void 0===f?void 0:f.length)&&(0,y.jsx)(o.Z,{title:"No staff.",customStyleContainer:{marginTop:"10rem"}})]})}},1669:(e,a,t)=>{t.d(a,{Z:()=>_});var i=t(98684),n=t(63244),l=t(80184);const _=e=>{let{isGrey:a}=e;return(0,l.jsx)("div",{className:n.Z.q_loading,children:(0,l.jsx)("img",{src:"".concat(i.Uw,a?"/loading-grey.gif":"/loading.gif"),alt:"loading icon"})})}},2651:(e,a,t)=>{t.d(a,{Z:()=>l});var i=t(15783),n=t(80184);const l=e=>{let{title:a,subtitle:t,customStyleContainer:l,costomTextTitleStyle:_,costomTextSubtitleStyle:o}=e;return(0,n.jsxs)("div",{className:i.Z.empty_container,style:l,children:[a&&(0,n.jsx)("h6",{style:_,children:a}),t&&(0,n.jsx)("p",{style:o,children:t})]})}},57588:(e,a,t)=>{t.d(a,{J:()=>i});const i=(e,a)=>{let t;return function(){let i=this,n=arguments;clearTimeout(t),t=setTimeout((()=>{e.apply(i,n)}),a)}}},91427:(e,a,t)=>{t.d(a,{f:()=>i});const i=e=>e%10===0},9228:(e,a,t)=>{t.d(a,{Z:()=>i});const i={sf_card:"InstituteFeedback_sf_card__dLh8P",sf_card_hover:"InstituteFeedback_sf_card_hover__BqLqV",iadcc_card_hover:"InstituteFeedback_iadcc_card_hover__wMuhW",sf_card_contatiner:"InstituteFeedback_sf_card_contatiner__2Zbiq",sf_card_contatiner_inner:"InstituteFeedback_sf_card_contatiner_inner__sjsCw",sf_card_active:"InstituteFeedback_sf_card_active__ujoaz",ifq_card:"InstituteFeedback_ifq_card__vFRNw",ifq_card_inner:"InstituteFeedback_ifq_card_inner__65kmp",ifqo_cantainer:"InstituteFeedback_ifqo_cantainer__YlkE-",ifqo_cantainer_student:"InstituteFeedback_ifqo_cantainer_student__WsWho",ifqocs_active:"InstituteFeedback_ifqocs_active__Wa3As",osa_card:"InstituteFeedback_osa_card__48+nw",gsf_contatiner:"InstituteFeedback_gsf_contatiner__x3ydz",gsf_star_container:"InstituteFeedback_gsf_star_container__0Mu56",igc_card:"InstituteFeedback_igc_card__cCB4r"}},15783:(e,a,t)=>{t.d(a,{Z:()=>i});const i={notify_backdrop:"Utils_notify_backdrop__saL0O",notify_overlay:"Utils_notify_overlay__GtPc5",notify_hide_overlay:"Utils_notify_hide_overlay__MYvkC",notify_overlay_animation:"Utils_notify_overlay_animation__pcASm",notify_hide_overlay_animation:"Utils_notify_hide_overlay_animation__UKRcG",notify_container:"Utils_notify_container__O8DBA",notify_message:"Utils_notify_message__PHwKo",notify_close:"Utils_notify_close__IwjyA",modal_backdrop:"Utils_modal_backdrop__WBquw",modal_overlay:"Utils_modal_overlay__Yy-AV",modal_hide_overlay:"Utils_modal_hide_overlay__elt3A",navbar_modal_hide_overlay:"Utils_navbar_modal_hide_overlay__yqj5q",navbar_modal_overlay:"Utils_navbar_modal_overlay__6ub8g",modal_hide_overlay_animation:"Utils_modal_hide_overlay_animation__d3TNp",navbar_modal_overlay_animation:"Utils_navbar_modal_overlay_animation__Ypk9u",navbar_modal_hide_overlay_animation:"Utils_navbar_modal_hide_overlay_animation__QLEse",empty_container:"Utils_empty_container__-VyCI",modal_overlay_animation:"Utils_modal_overlay_animation__zkjsk"}}}]);
//# sourceMappingURL=36282.19a64b28.chunk.js.map