"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[7597],{51317:function(e,n,t){var o=t(72791),i=t(27331),l=t(39230),u=t(93638),a=t(80184),r=function(e){var n=e.title,t=e.subTitle,o=e.titleStyle,r=e.subTitleStyle,s=e.isCreate,c=e.onCreate,d=e.children,v=(0,l.$G)().t;return(0,a.jsxs)("div",{className:i.Z.auth_card_wrapper,children:[s?(0,a.jsxs)("div",{className:i.Z.auth_create_container,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h6",{className:i.Z.auth_card_title,style:o,children:v(n||"hello")}),(0,a.jsx)("h6",{className:i.Z.auth_card_subtitle,style:r,children:t||v("welcome_to_qviple")})]}),(0,a.jsx)(u.Z,{label:"create_new_account",customStyle:{margin:"0"},onAction:c})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h6",{className:i.Z.auth_card_title,style:o,children:v(n||"hello")}),(0,a.jsx)("h6",{className:i.Z.auth_card_subtitle,style:r,children:t||v("welcome_to_qviple")})]}),d]})};n.Z=(0,o.memo)(r)},61932:function(e,n,t){var o=t(29439),i=t(72791),l=t(39230),u=t(27331),a=t(80184),r=function(e){var n=e.onOtpResend,t=(0,l.$G)().t,r=(0,i.useState)(""),s=(0,o.Z)(r,2),c=s[0],d=s[1],v=(0,i.useRef)(null),h=function(e){var n=function(e){var n=Date.parse(e)-Date.parse(new Date);return{total:n,seconds:Math.floor(n/1e3%60)}}(e),t=n.total,o=n.seconds;t>=0&&d(o)},m=function(e){d("40"),v.current&&clearInterval(v.current);var n=setInterval((function(){h(e)}),1e3);v.current=n},f=function(){var e=new Date;return e.setSeconds(e.getSeconds()+40),e};(0,i.useEffect)((function(){m(f())}),[]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:u.Z.auth_otp_resend,onClick:function(){c||(n(),m(f()))},children:[" ",t("resend")," "]}),(0,a.jsx)("span",{className:u.Z.auth_otp_resend,children:c})]})};n.Z=(0,i.memo)(r)},20935:function(e,n,t){t.r(n);var o=t(37762),i=t(29439),l=t(72791),u=t(96873),a=t(51317),r=t(27331),s=t(61578),c=t(19335),d=t(85794),v=t(98684),h=t(39230),m=t(16871),f=t(61932),p=t(53982),_=t(79992),b=t(53141),x=t(59574),g=t(80184);n.default=function(){var e,n,t,Z,N,j,y,S=(0,h.$G)().t,C=(0,m.TH)(),w=(0,m.s0)(),T=(0,x.f)().existingAccountLogin,q=(0,l.useState)(""),O=(0,i.Z)(q,2),k=O[0],F=O[1],P=(0,l.useState)(!1),A=(0,i.Z)(P,2),D=A[0],G=A[1],H=(0,l.useState)(""),I=(0,i.Z)(H,2),$=I[0],R=I[1],L=(0,l.useState)({open:!1,msg:"",variant:"error"}),M=(0,i.Z)(L,2),U=M[0],z=M[1],E=(0,p.d4)(),V=(0,i.Z)(E,1)[0],B=(0,p.Pv)(),J=(0,i.Z)(B,1)[0];return(0,g.jsx)(u.Z,{children:(0,g.jsx)(a.Z,{title:"verification_code",subTitle:"".concat(S("verification_code_note")).concat(null!==(e=null===(n=C.state)||void 0===n?void 0:n.type)&&void 0!==e?e:"").concat(S("ending")," xxxx - ").concat(null===(t="".concat(null===C||void 0===C||null===(Z=C.state)||void 0===Z?void 0:Z.phoneNumber))||void 0===t?void 0:t.substring((null===(N="".concat(null===C||void 0===C||null===(j=C.state)||void 0===j?void 0:j.phoneNumber))||void 0===N?void 0:N.length)-4)),subTitleStyle:{fontSize:"0.8rem"},children:(0,g.jsxs)("form",{onSubmit:function(e){var n,t;if(e.preventDefault(),k&&null!==C&&void 0!==C&&null!==(n=C.state)&&void 0!==n&&n.phoneNumber)if(G((function(e){return!e})),Array.isArray(null===C||void 0===C||null===(t=C.state)||void 0===t?void 0:t.phoneNumber)){var i,l,u,a="",r=(0,o.Z)(null===C||void 0===C||null===(l=C.state)||void 0===l?void 0:l.phoneNumber);try{for(r.s();!(u=r.n()).done;){var s=u.value;if((null===s||void 0===s?void 0:s.code)===k){a=null===s||void 0===s?void 0:s.phone;break}}}catch(d){r.e(d)}finally{r.f()}V({userOtpCode:k,userPhoneNumber:a,u_name:null===C||void 0===C||null===(i=C.state)||void 0===i?void 0:i.u_name}).then((function(e){var n,t,o,i,l,u,a=(0,_.ZH)(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.encrypt);(G((function(e){return!e})),"Invalid OTP"===(null===a||void 0===a?void 0:a.message))?z({msg:null===a||void 0===a?void 0:a.message,open:!0,variant:"error"}):1===(null===a||void 0===a||null===(t=a.accounts)||void 0===t?void 0:t.length)?T(null===a||void 0===a||null===(o=a.accounts)||void 0===o?void 0:o[0],null===C||void 0===C||null===(i=C.state)||void 0===i?void 0:i.accessFrom):w("/existing-account",{state:{accounts:null===a||void 0===a?void 0:a.accounts,phoneNumber:null===C||void 0===C||null===(l=C.state)||void 0===l?void 0:l.phoneNumber,accessFrom:null===C||void 0===C||null===(u=C.state)||void 0===u?void 0:u.accessFrom}})})).catch((function(e){z({msg:"Time out of request with reason ".concat(e),open:!0,variant:"error"}),G((function(e){return!e}))}))}else{var c;V({userOtpCode:k,userPhoneNumber:null===C||void 0===C||null===(c=C.state)||void 0===c?void 0:c.phoneNumber}).then((function(e){var n,t,o,i,l,u,a=(0,_.ZH)(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.encrypt);(G((function(e){return!e})),"Invalid OTP"===(null===a||void 0===a?void 0:a.message))?z({msg:null===a||void 0===a?void 0:a.message,open:!0,variant:"error"}):1===(null===a||void 0===a||null===(t=a.accounts)||void 0===t?void 0:t.length)?T(null===a||void 0===a||null===(o=a.accounts)||void 0===o?void 0:o[0],null===C||void 0===C||null===(i=C.state)||void 0===i?void 0:i.accessFrom):w("/existing-account",{state:{accounts:null===a||void 0===a?void 0:a.accounts,phoneNumber:null===C||void 0===C||null===(l=C.state)||void 0===l?void 0:l.phoneNumber,accessFrom:null===C||void 0===C||null===(u=C.state)||void 0===u?void 0:u.accessFrom}})})).catch((function(e){z({msg:"Time out of request with reason ".concat(e),open:!0,variant:"error"}),G((function(e){return!e}))}))}else R({userOtpCode:"* required"})},className:r.Z.auth_login_form,children:[(0,g.jsx)(s.Z,{placeholder:S("verification_code"),fieldIconUrl:"".concat(v.nj,"/auth-otp.svg"),maxLength:"4",validate:$.userOtpCode,name:"userOtpCode",value:k,onChange:function(e){F(e.target.value)}}),(0,g.jsx)("div",{className:r.Z.auth_footer_container,children:Array.isArray(null===C||void 0===C||null===(y=C.state)||void 0===y?void 0:y.phoneNumber)?null:(0,g.jsxs)("p",{className:r.Z.auth_otp_text,children:[S("if_you_did_not_recieve_otp"),(0,g.jsx)(f.Z,{onOtpResend:function(){var e,n;J({userPhoneNumber:"".concat(null===C||void 0===C||null===(e=C.state)||void 0===e?void 0:e.phoneNumber),status:"Not Verified",is_qid:(0,b.CG)("".concat(null===C||void 0===C||null===(n=C.state)||void 0===n?void 0:n.phoneNumber))}).then((function(e){var n,t,o,i,l,u=(0,_.ZH)(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.encrypt);null!==u&&void 0!==u&&u.userPhoneNumber&&z({open:!0,msg:"Code will be resent to xxxx- ".concat(null===(t="".concat(null===C||void 0===C||null===(o=C.state)||void 0===o?void 0:o.phoneNumber))||void 0===t?void 0:t.substring((null===(i="".concat(null===C||void 0===C||null===(l=C.state)||void 0===l?void 0:l.phoneNumber))||void 0===i?void 0:i.length)-4)),variant:"success"})})).catch((function(){z({open:!0,msg:"Time out of request...",variant:"error"})}))}})]})}),(0,g.jsx)(c.Z,{type:"submit",buttonText:S("verify"),disabled:D}),(0,g.jsx)(d.Z,{eventState:U,eventStateHandler:z})]})})})}},53141:function(e,n,t){t.d(n,{CG:function(){return l},ZM:function(){return u},jU:function(){return i}});var o=["!","@","#","$","%","^","&","*","(",")","+","~",".",",","/",":",";"],i=function(e){return!!o.includes(e)},l=function(e){return(null===e||void 0===e||!e.includes("@"))&&8===(null===e||void 0===e?void 0:e.length)},u=function(e){return null!==e&&void 0!==e&&e.includes("@")?"e-mail":8===(null===e||void 0===e?void 0:e.length)?"qviple id":"mobile number"}}}]);
//# sourceMappingURL=7597.a42dc810.chunk.js.map