"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[5350],{5350:(t,e,i)=>{i.r(e),i.d(e,{default:()=>x});var s=i(72791),o=i(5574),a=i(94721),d=i(27301),n=i(91007),l=i(39230),r=i(69721),c=i(16871),u=i(46500),v=i(55581),f=i(95048),h=i(23441),m=i(57387),p=i(39480),k=i(80184);function g(t){let{img:e,photoId:i,name:s,index:o,setIndex:a,assignAdmissionHead:n}=t;return(0,k.jsxs)("div",{className:d.Z.sidebarbottomitem,onClick:()=>{n(),a(o)},children:[(0,k.jsx)("img",{alt:"not found",src:"1"!==i?"".concat(r.yI,"/").concat(e):"/images/member_tab/class/default_avatar.svg"}),(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:d.Z.namee,children:s}),(0,k.jsx)("p",{className:d.Z.desig,children:o})]})]})}const x=function(t){let{libraryModal:e,hideModal:i,edit:x,librarian:b,onParentRefetch:y}=t;const{t:N}=(0,l.$G)(),[j,I]=(0,s.useState)(!1),L=(0,f.v9)((t=>t.idChange)),[M,R]=(0,s.useState)(!1),[Z,_]=(0,s.useState)(!1),[S,O]=(0,s.useState)(1),[B,H]=(0,s.useState)([]),[C,P]=(0,h.YD)(),[F]=(0,v.IO)(),[G]=(0,v.qF)(),A=(0,f.I0)(),{data:E,refetch:D}=(0,n.OU)({id:null===L||void 0===L?void 0:L.id,page:S,limit:10},{skip:!(null!==L&&void 0!==L&&L.id)});(0,s.useEffect)((()=>{null!==L&&void 0!==L&&L.id&&D()}),[null===L||void 0===L?void 0:L.id,D]);const{oneInstituteDashboard:q,oneInstituteDashboardRefetch:w}=(0,p.gq)({id:null===L||void 0===L?void 0:L.id},{skip:!(null!==L&&void 0!==L&&L.id)});(0,s.useEffect)((()=>{null!==L&&void 0!==L&&L.id&&w()}),[null===L||void 0===L?void 0:L.id,w]),(0,s.useEffect)((()=>{E&&(E.staffIns?H([...B,...E.staffIns]):S>1&&R(!0))}),[E]),(0,s.useEffect)((()=>{P&&(M||O(S+1))}),[P]),(0,s.useEffect)((()=>{setTimeout((()=>{_(!Z)}),3e3)}),[]);const U=(0,c.s0)(),[X,T]=(0,s.useState)(!1),[W,z]=(0,s.useState)(!1),[Q,Y]=(0,s.useState)({sid:"",name:"",index:"",photoId:"",profilePhoto:""}),J=null===B||void 0===B?void 0:B.filter((t=>(null===t||void 0===t?void 0:t._id)!==(null===b||void 0===b?void 0:b._id)));return(0,k.jsx)(o.Z,{open:e,onClose:()=>i(!1),children:(0,k.jsxs)("div",{className:d.Z.admissionModal,children:[(0,k.jsxs)("div",{className:d.Z.admissionModalhead,children:[(0,k.jsx)("h6",{children:N(x?"edit_library":"activate_library")}),(0,k.jsx)("img",{onClick:()=>i(!1),src:"/images/close-post-icon.svg",alt:""})]}),(0,k.jsx)(a.Z,{}),(0,k.jsxs)("div",{className:d.Z.admissionModalbody,children:[!X&&!x&&(0,k.jsxs)("div",{className:d.Z.assignDesignation,onClick:()=>T(!0),children:[(0,k.jsx)("img",{className:d.Z.assignManager,src:"/images/sports/avatar-circle.svg",alt:""}),(0,k.jsxs)("div",{children:[(0,k.jsx)("h6",{children:N("assign_lib_head")}),(0,k.jsx)("p",{children:N("search_from_joined_list")})]})]}),!X&&x&&(0,k.jsxs)("div",{className:d.Z.sidebarbottomitem,onClick:()=>T(!0),children:[(0,k.jsx)("img",{alt:"not found",src:"1"!==(null===b||void 0===b?void 0:b.photoId)?"".concat(r.yI,"/").concat(null===b||void 0===b?void 0:b.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:d.Z.namee,children:"".concat((null===b||void 0===b?void 0:b.staffFirstName)||""," ").concat(null!==b&&void 0!==b&&b.staffMiddleName?null===b||void 0===b?void 0:b.staffMiddleName:""," ").concat((null===b||void 0===b?void 0:b.staffLastName)||"")}),(0,k.jsxs)("p",{className:d.Z.desig,children:[" ",N("index_no")," ",null===b||void 0===b?void 0:b.index]})]})]}),X&&!W&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:d.Z.searchbar,children:[(0,k.jsx)("input",{type:"text",placeholder:N("search"),className:"form-control ".concat(d.Z.searchinput)}),(0,k.jsx)("img",{className:d.Z.searchIcon,alt:"img",src:"/images/search-dash-icon.svg"})]}),(0,k.jsx)("div",{className:d.Z.items,children:x?null===J||void 0===J?void 0:J.map((t=>(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(g,{img:t.staffProfilePhoto,photoId:t.photoId,name:"".concat(t.staffFirstName," ").concat(t.staffMiddleName?t.staffMiddleName:""," ").concat(t.staffLastName),index:t.staffROLLNO,setIndex:t=>z(!0),assignAdmissionHead:()=>{Y({...Q,sid:null===t||void 0===t?void 0:t._id,name:"".concat(null===t||void 0===t?void 0:t.staffFirstName," ").concat(null!==t&&void 0!==t&&t.staffMiddleName?null===t||void 0===t?void 0:t.staffMiddleName:""," ").concat(null===t||void 0===t?void 0:t.staffLastName),index:null===t||void 0===t?void 0:t.staffROLLNO,photoId:null===t||void 0===t?void 0:t.photoId,profilePhoto:null===t||void 0===t?void 0:t.staffProfilePhoto})}}),(0,k.jsx)(a.Z,{})]}))):null===B||void 0===B?void 0:B.map((t=>(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(g,{img:t.staffProfilePhoto,photoId:t.photoId,name:"".concat(t.staffFirstName," ").concat(t.staffMiddleName?t.staffMiddleName:""," ").concat(t.staffLastName),index:t.staffROLLNO,setIndex:t=>z(!0),assignAdmissionHead:()=>{Y({...Q,sid:null===t||void 0===t?void 0:t._id,name:"".concat(null===t||void 0===t?void 0:t.staffFirstName," ").concat(null!==t&&void 0!==t&&t.staffMiddleName?null===t||void 0===t?void 0:t.staffMiddleName:""," ").concat(null===t||void 0===t?void 0:t.staffLastName),index:null===t||void 0===t?void 0:t.staffROLLNO,photoId:null===t||void 0===t?void 0:t.photoId,profilePhoto:null===t||void 0===t?void 0:t.staffProfilePhoto})}}),(0,k.jsx)(a.Z,{})]})))})]}),X&&W&&(0,k.jsxs)("div",{className:d.Z.sidebarbottomitem,children:[(0,k.jsx)("img",{alt:"not found",src:"1"!==Q.photoId?"".concat(r.yI,"/").concat(Q.profilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:d.Z.namee,children:Q.name}),(0,k.jsxs)("p",{className:d.Z.desig,children:["Index No. ",Q.index]})]})]})]}),(0,k.jsx)("div",{className:d.Z.admissionModalfooter,children:(0,k.jsx)("div",{children:(0,k.jsx)(m.Z,{disabled:j,shwoLoader:!0,buttonText:N(x?"edit_":"activate"),customStyleButton:{minHeight:"2rem",marginTop:"0rem"},onAction:x?()=>{Q.sid&&null!==b&&void 0!==b&&b._id&&(I(!0),G({osid:null===b||void 0===b?void 0:b._id,nsid:Q.sid}).then((t=>{var e;A(u.X.libraryQuery({lid:null===(e=t.data)||void 0===e?void 0:e.library,lhead:Q.sid})),y(),Y({...Q,sid:""}),z(!W),T(!X),I(!1),i()})))}:()=>{var t;""!==(null===L||void 0===L?void 0:L.id)&&(I(!0),F({activate:{sid:null!==(t=null===Q||void 0===Q?void 0:Q.sid)&&void 0!==t?t:""},id:null===L||void 0===L?void 0:L.id}).then((t=>{var e,i;t.data.status&&(I(!1),A(u.X.libraryQuery({lid:null===(e=t.data)||void 0===e?void 0:e.library,lhead:Q.sid})),U("/q/".concat(null===q||void 0===q||null===(i=q.institute)||void 0===i?void 0:i.name,"/library")))})))}})})})]})})}},55581:(t,e,i)=>{i.d(e,{B6:()=>F,CU:()=>g,EI:()=>u,Ef:()=>k,Fy:()=>P,H:()=>N,I4:()=>m,IO:()=>o,JH:()=>D,LN:()=>h,M_:()=>q,N6:()=>H,Nd:()=>B,O_:()=>n,QJ:()=>p,R3:()=>A,Rr:()=>Q,SN:()=>b,Se:()=>x,Uc:()=>T,XJ:()=>M,Y:()=>z,Yv:()=>O,Zd:()=>E,Zj:()=>_,_s:()=>Z,a8:()=>S,aA:()=>c,ar:()=>G,bi:()=>W,dH:()=>C,eQ:()=>y,iJ:()=>r,mU:()=>f,n9:()=>v,nY:()=>l,oW:()=>R,pV:()=>U,qF:()=>a,qw:()=>j,sN:()=>X,sl:()=>L,x5:()=>Y,xK:()=>I,yX:()=>d,z2:()=>w,zz:()=>J});var s=i(41311);const o=()=>{const[t]=(0,s.CW)();return[t]},a=()=>{const[t]=(0,s.UO)();return[t]},d=t=>{const{data:e,refetch:i}=(0,s.dA)(null===t||void 0===t?void 0:t.lid,{skip:null===t||void 0===t?void 0:t.skip});return{getLibraryDetail:e,getLibraryDetailRefetch:i}},n=t=>{const{data:e,refetch:i}=(0,s.Zo)(t.data,{skip:null===t||void 0===t?void 0:t.skip});return{getBooklist:e,getBookListRefetch:i}},l=()=>{const[t]=(0,s.i9)();return[t]},r=t=>{const{data:e,refetch:i}=(0,s.wT)(null===t||void 0===t?void 0:t.bid,{skip:null===t||void 0===t?void 0:t.skip});return{getBookDetail:e,getBookDetailRefetch:i}},c=t=>{const{data:e,refetch:i}=(0,s.z2)(t.data,{skip:null===t||void 0===t?void 0:t.skip});return{getIssuedBooklist:e,getIssuedBookListRefetch:i}},u=()=>{const[t]=(0,s.pM)();return[t]},v=()=>{const[t]=(0,s.nv)();return[t]},f=t=>{const{data:e,refetch:i}=(0,s.jX)(t.data,{skip:null===t||void 0===t?void 0:t.skip});return{getCollectedBooklist:e,getCollectedBookListRefetch:i}},h=()=>{const[t]=(0,s.Gh)();return[t]},m=t=>{const{data:e,refetch:i}=(0,s.NM)(t.data,{skip:null===t||void 0===t?void 0:t.skip});return{getMemberslist:e,getMembersListRefetch:i}},p=t=>{const{data:e,refetch:i}=(0,s.yp)(t.data,{skip:null===t||void 0===t?void 0:t.skip});return{getMemberBooklist:e,getMemberBookListRefetch:i}},k=t=>{const{data:e,refetch:i}=(0,s.A8)(t.data,{skip:null===t||void 0===t?void 0:t.skip});return{getMemberHistorylist:e,getMemberHistoryListRefetch:i}},g=()=>{const[t]=(0,s.YG)();return[t]},x=()=>{const[t]=(0,s.Rn)();return[t]},b=t=>{const{data:e,refetch:i}=(0,s.du)(null===t||void 0===t?void 0:t.cid,{skip:null===t||void 0===t?void 0:t.skip});return{getCollectedBookDetail:e,getCollectedBookDetailRefetch:i}},y=()=>{const[t]=(0,s.I1)();return[t]},N=t=>{const{data:e,refetch:i}=(0,s.ZS)(t.lid,{skip:null===t||void 0===t?void 0:t.skip});return{libraryGetSiteInfo:e,libraryGetSiteInfoRefetch:i}},j=()=>{const[t]=(0,s.Xr)();return[t]},I=t=>{const{data:e,refetch:i}=(0,s.Gw)(t.data,{skip:null===t||void 0===t?void 0:t.skip});return{libraryFineCharge:e,libraryFineChargeRefetch:i}},L=()=>{const[t]=(0,s.UV)();return[t]},M=()=>{const[t]=(0,s.Mb)();return[t]},R=t=>{const{data:e,refetch:i}=(0,s.BF)(t.data,{skip:null===t||void 0===t?void 0:t.skip});return{libraryAllExcelExport:e,libraryAllExcelExportRefetch:i}},Z=()=>{const[t]=(0,s.Ww)();return[t]},_=()=>{const[t]=(0,s.NQ)();return[t]},S=()=>{const[t]=(0,s.WK)();return[t]},O=()=>{const[t]=(0,s.aA)();return[t]},B=()=>{const[t]=(0,s.$8)();return[t]},H=()=>{const[t]=(0,s.nb)();return[t]},C=()=>{const[t]=(0,s.V8)();return[t]},P=()=>{const[t]=(0,s.d6)();return[t]},F=()=>{const[t]=(0,s.iL)();return[t]},G=()=>{const[t]=(0,s.aU)();return[t]},A=t=>{const{data:e,refetch:i}=(0,s.dB)(t.data,{skip:null===t||void 0===t?void 0:t.skip});return{libraryGetStudentInOutHistory:e,libraryGetStudentInOutHistoryRefetch:i}},E=t=>{const{data:e,refetch:i}=(0,s.O6)(t.data,{skip:null===t||void 0===t?void 0:t.skip});return{libraryGetInOutHistory:e,libraryGetInOutHistoryRefetch:i}},D=t=>{const{data:e,refetch:i}=(0,s.$A)(t.data,{skip:null===t||void 0===t?void 0:t.skip});return{libraryGetStocktakeHistory:e,libraryGetStocktakeHistoryRefetch:i}},q=t=>{const{data:e,refetch:i}=(0,s.X_)(t.data,{skip:null===t||void 0===t?void 0:t.skip});return{libraryGetStocktakeOneHistory:e,libraryGetStocktakeOneHistoryRefetch:i}},w=t=>{const{data:e,refetch:i}=(0,s.Az)(t.data,{skip:t.skip});return{getModeratorByLibrary:e,getModeratorByLibraryRefetch:i}},U=()=>{const[t]=(0,s.a6)();return[t]},X=()=>{const[t]=(0,s.WE)();return[t]},T=()=>{const[t]=(0,s.LO)();return[t]},W=()=>{const[t]=(0,s.yW)();return[t]},z=()=>{const[t]=(0,s.p3)();return[t]},Q=t=>{const{data:e,refetch:i}=(0,s.SK)(t.data,{skip:t.skip});return{getStudentLibraryTime:e,getStudentLibraryTimeRefetch:i}},Y=()=>{const[t]=(0,s.R)();return[t]},J=()=>{const[t]=(0,s.VA)();return[t]}}}]);
//# sourceMappingURL=5350.1499ab5c.chunk.js.map