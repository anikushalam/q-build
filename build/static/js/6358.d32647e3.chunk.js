"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[6358,4626],{89064:function(n,t,e){e.d(t,{Z:function(){return a}});var i=e(55336),l=e(48293),o="Modal_modal_menu_card__d0zzt",s=e(90904),d=e(80184),a=function(n){var t=n.onClose,e=n.disabled,a=n.heading,c=n.customStyle,r=n.children;return(0,d.jsx)(l.Z,{onClose:function(){if(e)return null;t()},children:(0,d.jsxs)("div",{className:o,style:c,children:[a?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h5",{children:a}),(0,d.jsx)(s.Z,{})]}):null,r,e&&(0,d.jsx)(i.Z,{})]})})}},96358:function(n,t,e){e.r(t),e.d(t,{default:function(){return N}});var i=e(29439),l=e(72791),o=e(56959),s=e(23441),d=e(91427),a=e(57588),c=e(63687),r=e(21348),u=e(90904),f=e(55336),v=e(1669),h=e(2651),m=e(36132),_=e(39230),x=e(98684),Z=e(59303),j=e(93433),g=e(90702),S=e(80184),p=function(n){var t=n.instituteId,e=n.modId,o=n.onRefetch,s=n.onClose,d=(0,l.useState)([]),a=(0,i.Z)(d,2),c=a[0],r=a[1],u=(0,l.useState)([]),v=(0,i.Z)(u,2),h=v[0],_=(v[1],(0,l.useState)(!1)),x=(0,i.Z)(_,2),Z=x[0],p=x[1],C=(0,m.J$)(),N=(0,i.Z)(C,1)[0];return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(g.Z,{title:"add_staff",onClose:s,instituteId:t,isMultiSelect:!0,onMultiSelect:function(n){null!==c&&void 0!==c&&c.includes(null===n||void 0===n?void 0:n._id)?r((function(t){return null===t||void 0===t?void 0:t.filter((function(t){return t!==(null===n||void 0===n?void 0:n._id)}))})):r((function(t){return[].concat((0,j.Z)(t),[null===n||void 0===n?void 0:n._id])}))},selectList:[].concat((0,j.Z)(c),(0,j.Z)(h)),onDone:function(){e&&(null===c||void 0===c?void 0:c.length)>0&&(p((function(n){return!n})),N({mid:e,addStaff:{flow:"Recommend_Section",staff_arr:c}}).then((function(){o(),p((function(n){return!n})),s()})).catch({}))}}),Z&&(0,S.jsx)(f.Z,{})]})},C=e(93638),N=function(n){var t,e,j,g=n.modId,N=n.instituteId,I=(0,_.$G)().t,R=(0,l.useState)(""),k=(0,i.Z)(R,2),w=k[0],b=k[1],y=(0,l.useState)(1),L=(0,i.Z)(y,2),M=L[0],F=L[1],$=(0,l.useState)(!0),A=(0,i.Z)($,2),P=A[0],z=A[1],G=(0,s.YD)({skip:w}),J=(0,i.Z)(G,2),O=J[0],q=J[1],D=(0,l.useState)(!1),E=(0,i.Z)(D,2),B=E[0],X=E[1],Y=(0,m.Ob)({data:{mid:g,page:M,limit:10,search:w,flow:"Recommend_Section"},skip:!g}),H=Y.lmsModeratorAllStaffList,K=Y.lmsModeratorAllStaffListLoading,Q=Y.lmsModeratorAllStaffListRefetch;(0,l.useEffect)((function(){q&&P&&F((function(n){return n+1}))}),[q,P]),(0,l.useEffect)((function(){var n;if(null!==H&&void 0!==H&&null!==(n=H.list)&&void 0!==n&&n.length){var t,e=(0,d.f)(null===H||void 0===H||null===(t=H.list)||void 0===t?void 0:t.length);z((function(){return e}))}}),[null===H||void 0===H?void 0:H.list]);var T=(0,l.useCallback)((0,a.J)((function(n){F((function(){return 1})),b(n)}),1500),[]),U=(0,l.useCallback)((function(){F((function(){return 1})),b(""),Q()}),[Q]),V=function(){X((function(n){return!n}))};return(0,S.jsxs)(c.Z,{children:[(0,S.jsx)(r.Z,{children:(0,S.jsxs)("div",{className:o.Z.fm_header_container,children:[(0,S.jsx)("h6",{children:I("all_staffs")}),(0,S.jsxs)("div",{className:o.Z.fm_search,children:[(0,S.jsx)("section",{className:o.Z.fm_search_container,children:(0,S.jsxs)("div",{className:o.Z.fm_search_container_inner,children:[(0,S.jsx)("img",{className:o.Z.fm_search_icon,alt:"search icon",src:"".concat(x.dB,"/navbar-search.svg")}),(0,S.jsx)("input",{type:"text",placeholder:I("search"),onChange:function(n){n.target.value?T(n.target.value):(F((function(){return 1})),b(""))}})]})}),(0,S.jsx)(C.Z,{label:I("add_new_staff"),customStyle:{margin:"0",padding:"0.4rem 1rem"},onAction:V})]})]})}),(0,S.jsx)(u.Z,{}),(0,S.jsxs)(r.Z,{children:[null===H||void 0===H||null===(t=H.list)||void 0===t?void 0:t.map((function(n,t){var e;return(null===H||void 0===H||null===(e=H.list)||void 0===e?void 0:e.length)===t+1?(0,S.jsx)("div",{ref:O,children:(0,S.jsx)(Z.Z,{staff:n,onRefetch:U,flow:"Recommend_Section",modId:g})},null===n||void 0===n?void 0:n._id):(0,S.jsx)(Z.Z,{staff:n,onRefetch:U,flow:"Recommend_Section",modId:g},null===n||void 0===n?void 0:n._id)})),K?w?(0,S.jsx)(f.Z,{}):(0,S.jsx)(v.Z,{}):w?0===(null===H||void 0===H||null===(e=H.list)||void 0===e?void 0:e.length)&&(0,S.jsx)(h.Z,{title:"No staff leave history found related this search."}):0===(null===H||void 0===H||null===(j=H.list)||void 0===j?void 0:j.length)&&(0,S.jsx)(h.Z,{title:"No staff leave history."}),B&&(0,S.jsx)(p,{instituteId:N,modId:g,onRefetch:U,onClose:V})]})]})}},59303:function(n,t,e){e.d(t,{Z:function(){return v}});var i=e(29439),l=e(55050),o=e(39230),s=e(1095),d=e(98684),a=e(89064),c=e(72791),r=e(36132),u=e(80184),f=function(n){var t=n.onClose,e=n.modId,l=n.onRefetch,s=n.flow,d=n.staff,f=(0,o.$G)().t,v=(0,c.useState)(!1),h=(0,i.Z)(v,2),m=h[0],_=h[1],x=(0,r.X$)(),Z=(0,i.Z)(x,1)[0];return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(a.Z,{onClose:t,disabled:m,children:(0,u.jsx)("h6",{onClick:function(){null!==d&&void 0!==d&&d._id&&e&&s&&(_((function(n){return!n})),Z({mid:e,removeStaff:{flow:s,staff_arr:[null===d||void 0===d?void 0:d._id]}}).then((function(){l(),_((function(n){return!n})),t()})).catch({}))},children:f("remove")})})})},v=function(n){var t,e,a,r,v=n.staff,h=n.onRefetch,m=n.modId,_=n.flow,x=(0,o.$G)().t,Z=(0,c.useState)(!1),j=(0,i.Z)(Z,2),g=j[0],S=j[1],p=function(){S((function(n){return!n}))};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:l.Z.lms_staff_card,children:[(0,u.jsxs)("div",{className:l.Z.lms_staff_card_contatiner,children:[(0,u.jsx)("img",{src:null!==v&&void 0!==v&&v.staffProfilePhoto?"".concat(s.yI,"/").concat(null===v||void 0===v?void 0:v.staffProfilePhoto):"".concat(d.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,u.jsxs)("div",{className:l.Z.lms_staff_card_contatiner_inner,children:[(0,u.jsx)("h6",{children:"".concat(null!==(t=null===v||void 0===v?void 0:v.staffFirstName)&&void 0!==t?t:""," ").concat(null!==(e=null===v||void 0===v?void 0:v.staffMiddleName)&&void 0!==e?e:""," ").concat(null!==(a=null===v||void 0===v?void 0:v.staffLastName)&&void 0!==a?a:"")}),(0,u.jsxs)("p",{children:[x("index_number"),": ",null!==(r=null===v||void 0===v?void 0:v.staffROLLNO)&&void 0!==r?r:""]})]})]}),(0,u.jsx)("img",{src:"".concat(d.J7,"/menu.svg"),alt:"menu icon",onClick:p,title:"Menu",style:{cursor:"pointer",height:"1.5rem"}})]}),g&&(0,u.jsx)(f,{onClose:p,onRefetch:h,staff:v,flow:_,modId:m})]})}}}]);
//# sourceMappingURL=6358.d32647e3.chunk.js.map