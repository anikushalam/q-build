"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[35199],{21625:(e,t,i)=>{i.d(t,{Dr:()=>c,Dv:()=>v,FL:()=>o,J9:()=>p,KB:()=>x,Ne:()=>u,OF:()=>r,Pv:()=>s,b5:()=>h,bB:()=>m,d4:()=>a,gS:()=>d,rY:()=>_,vM:()=>g,xk:()=>l});var n=i(63950);const o=()=>{const[e]=(0,n.rk)();return[e]},l=()=>{const[e]=(0,n.Zz)();return[e]},s=()=>{const[e]=(0,n.Sm)();return[e]},a=()=>{const[e]=(0,n.G1)();return[e]},r=()=>{const[e]=(0,n.lI)();return[e]},c=()=>{const[e]=(0,n.CT)();return[e]},d=()=>{const[e]=(0,n.b)();return[e]},u=()=>{const[e]=(0,n.x0)();return[e]},h=()=>{const[e]=(0,n.kA)();return[e]},m=()=>{const[e]=(0,n.rz)();return[e]},p=()=>{const[e]=(0,n.Pi)();return[e]},v=()=>{const[e]=(0,n.qz)();return[e]},_=()=>{const[e]=(0,n._C)();return[e]},x=()=>{const[e]=(0,n.qG)();return[e]},g=e=>{const{data:t,refetch:i,isLoading:o}=(0,n.tz)(null===e||void 0===e?void 0:e.phoneKey,{skip:e.skip});return{authGetAccountWithMobileNumber:t,authGetAccountWithMobileNumberRefetch:i,authGetAccountWithMobileNumberLoading:o}}},63950:(e,t,i)=>{i.d(t,{qG:()=>P,tz:()=>T,qz:()=>R,_C:()=>G,rz:()=>I,Pi:()=>Q,Zz:()=>q,YY:()=>D,x0:()=>M,kA:()=>O,lI:()=>w,CT:()=>S,Sm:()=>U,G1:()=>k,b:()=>F,rk:()=>C});var n=i(28328),o=i(94811);const l=e=>e.mutation({query:e=>({url:"/all-images/onefile/web",method:o.Q0,body:e.fileUpload})}),s=e=>e.query({query:e=>"/auth/username/search?u_name=".concat(e)}),a=e=>e.query({query:e=>"/auth/email/check/redundant?email=".concat(e)}),r=e=>e.mutation({query:e=>({url:"/auth/login",method:o.a4,body:e.login})}),c=e=>e.mutation({query:e=>({url:"/auth/user-detail",method:o.a4,body:e})}),d=e=>e.mutation({query:e=>{var t;return{url:"/auth/user-detail-verify/".concat(e.userPhoneNumber,"?u_name=").concat(null!==(t=null===e||void 0===e?void 0:e.u_name)&&void 0!==t?t:""),method:o.a4,body:e}}}),u=e=>e.mutation({query:e=>({url:"/auth/user/forgot",method:o.a4,body:e.forgot})}),h=e=>e.mutation({query:e=>({url:"/auth/user/forgot/".concat(e.uid),method:o.a4,body:e.otp})}),m=e=>e.mutation({query:e=>({url:"/auth/user/reset/password/".concat(e.uid),method:o.a4,body:e.password})}),p=(e,t)=>e.mutation({query:e=>({url:"/auth/profile-creation/".concat(e.userPhoneNumber),method:o.a4,body:e.profileCreation})}),v=(e,t)=>e.mutation({query:e=>({url:"/auth/create-user-password/".concat(e.uid),method:o.a4,body:e.password})}),_=(e,t)=>e.mutation({query:e=>({url:"/auth/ins-detail",method:o.a4,body:e.phone})}),x=(e,t)=>e.mutation({query:e=>({url:"/auth/ins-detail-verify/".concat(e.insPhoneNumber),method:o.a4,body:e.verify})}),g=(e,t)=>e.mutation({query:e=>({url:"/auth/ins/register",method:o.a4,body:e.profileCreation})}),j=(e,t)=>e.mutation({query:e=>({url:"/auth/ins/create-password/".concat(e.id),method:o.a4,body:e.password})}),y=e=>e.mutation({query:e=>({url:"/auth/direct/confirm/join/".concat(e.phoneNumber,"/apply/").concat(e.aid,"?existingUser=").concat(e.uid),method:o.a4,body:e.addStudent})}),f=e=>e.query({query:e=>"/auth/select/account?phoneKey=".concat(e),transformResponse:e=>null===e||void 0===e?void 0:e.all_account,serializeQueryArgs:e=>{let{endpointName:t}=e;return t},forceRefetch(e){let{currentArg:t,previousArg:i}=e;return t!==i}}),b=e=>e.mutation({query:e=>({url:"/admission/".concat(e.uid,"/user/").concat(e.aid,"/apply"),method:"POST",body:e.apply_data})}),A=n.i.injectEndpoints({endpoints:e=>({fileUpload:l(e),authUniqueUsername:s(e),authUniqueEmail:a(e),authLogin:r(e),authUserNumber:c(e),authUserNumberVerify:d(e),authUserForget:u(e),authUserForgetOtp:h(e),authUserSetPassword:m(e),authUserCreateAccount:p(e),authUserCreatePassword:v(e),authInstituteNumber:_(e),authInstituteNumberVerify:x(e),authInstituteCreateAccount:g(e),authInstituteCreatePassword:j(e),authDirectJoinFormAdmissionApplication:y(e),authGetAccountWithMobileNumber:f(e),authUserApplyOneApplication:b(e)})}),{useFileUploadMutation:C,useAuthUniqueUsernameQuery:N,useAuthUniqueEmailQuery:Z,useAuthLoginMutation:q,useAuthUserNumberMutation:U,useAuthUserNumberVerifyMutation:k,useAuthUserForgetMutation:w,useAuthUserForgetOtpMutation:S,useAuthUserSetPasswordMutation:F,useAuthUserCreateAccountMutation:M,useAuthUserCreatePasswordMutation:O,useAuthInstituteNumberMutation:I,useAuthInstituteNumberVerifyMutation:Q,useAuthInstituteCreateAccountMutation:R,useAuthInstituteCreatePasswordMutation:G,useAuthDirectJoinFormAdmissionApplicationMutation:P,useAuthGetAccountWithMobileNumberQuery:T,useAuthUserApplyOneApplicationMutation:D}=A},44226:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(39230),o=i(98684),l=i(80476),s=i(80184);const a=e=>{let{onExcelFileUpload:t,acceptType:i,label:a,dynamicKey:r,title:c,assestUrl:d,customStyle:u,customStyleLabel:h,dummyExcel:m}=e;const{t:p}=(0,n.$G)();return(0,s.jsxs)(s.Fragment,{children:[m?(0,s.jsxs)("label",{className:l.Z.upload_excel_file,style:u,children:[(0,s.jsx)("img",{src:d||"".concat(o.J7,"/upload-xslx.svg"),alt:"add student icon",title:null!==c&&void 0!==c?c:"Upload excel file"}),a&&(0,s.jsx)("h6",{style:h,children:p(a)})]}):(0,s.jsxs)("label",{className:l.Z.upload_excel_file,htmlFor:null!==r&&void 0!==r?r:"uploadExcel",style:u,children:[(0,s.jsx)("img",{src:d||"".concat(o.J7,"/upload-xslx.svg"),alt:"add student icon",title:null!==c&&void 0!==c?c:"Upload excel file"}),a&&(0,s.jsx)("h6",{style:h,children:p(a)})]}),(0,s.jsx)("input",{type:"file",id:null!==r&&void 0!==r?r:"uploadExcel",accept:i,onChange:t,style:{display:"none"}})]})}},35199:(e,t,i)=>{i.r(t),i.d(t,{default:()=>F});var n=i(72791),o=i(1669),l=i(55336),s=i(98684),a=i(63687),r=i(21348),c=i(2651),d=i(56959),u=i(39230),h=i(90904),m=i(43317),p=i(91389),v=i(38857),_=i(16925),x=i(26192),g=i(80184);const j=e=>{let{onSelectType:t}=e;const{t:i}=(0,u.$G)(),n=e=>{t(e)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:x.Z.application_card,onClick:()=>n("Direct_Admission"),children:[(0,g.jsxs)("div",{className:x.Z.application_card_title,children:[(0,g.jsx)("img",{src:"".concat(s.J7,"/category.svg"),alt:"staff profile avatar"}),(0,g.jsx)("h6",{children:i("direct_admission")})]}),(0,g.jsxs)("section",{className:x.Z.application_card_info,children:[(0,g.jsx)("div",{children:i("only_two_steps")}),(0,g.jsxs)("div",{children:["1. ",i("online_filling_form")]}),(0,g.jsxs)("div",{children:["2. ",i("online_admission_fees_payments")]}),(0,g.jsx)("h6",{children:i("online_note_suitable")})]})]}),(0,g.jsxs)("div",{className:x.Z.application_card,onClick:()=>n("Complete_Step_Wise_Admission"),children:[(0,g.jsxs)("div",{className:x.Z.application_card_title,children:[(0,g.jsx)("img",{src:"".concat(s.J7,"/category.svg"),alt:"staff profile avatar"}),(0,g.jsx)("h6",{children:i("complete_step_wise_admission")})]}),(0,g.jsxs)("section",{className:x.Z.application_card_info,children:[(0,g.jsx)("div",{children:i("steps_involved")}),(0,g.jsxs)("div",{children:["1. ",i("online_filling_form1")]}),(0,g.jsxs)("div",{children:["2. ",i("online_admission_fees_payments1")]}),(0,g.jsxs)("div",{children:["3. ",i("online_admission_fees_payments2")]}),(0,g.jsxs)("div",{children:["4. ",i("online_admission_fees_payments3")]}),(0,g.jsxs)("div",{children:["5. ",i("online_admission_fees_payments4")]}),(0,g.jsx)("h6",{children:i("offile_note_suitable")})]})]})]})};var y=i(38921),f=i(29760);const b=e=>{let{onClose:t,onRefetch:i,aid:o,fid:l,instituteId:a}=e;const{t:c}=(0,u.$G)(),[d,m]=(0,n.useState)("");return(0,g.jsx)(g.Fragment,{children:d?"Complete_Step_Wise_Admission"===d?(0,g.jsx)(y.Z,{onClose:()=>m(""),aid:o,onRefetch:i,instituteId:a,fid:l,onParentClose:t}):"Direct_Admission"===d?(0,g.jsx)(f.Z,{onClose:()=>m(""),aid:o,onRefetch:i,instituteId:a,fid:l,onParentClose:t}):null:(0,g.jsx)(v.Z,{children:(0,g.jsxs)("div",{className:_.Z.modal_container,children:[(0,g.jsx)(r.default,{children:(0,g.jsxs)("div",{className:_.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:_.Z.modal_container_header,children:(0,g.jsx)("h6",{children:c("select_admission_application_type")})}),(0,g.jsx)("img",{src:"".concat(s.J7,"/close.svg"),alt:"close icon",onClick:t})]})}),(0,g.jsx)(h.Z,{}),(0,g.jsx)(r.default,{customStyle:{paddingTop:"0",marginBottom:"1rem"},children:(0,g.jsx)(j,{onSelectType:e=>{m(e)}})})]})})})};var A=i(16871),C=i(93638),N=i(44226),Z=i(21625);const q=e=>{let{onClose:t,onExport:i,label:n}=e;const{t:o}=(0,u.$G)();return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(v.Z,{onClose:t,children:(0,g.jsxs)("div",{className:_.Z.modal_container,children:[(0,g.jsx)(r.default,{children:(0,g.jsxs)("div",{className:_.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:_.Z.modal_container_header,children:(0,g.jsxs)("h6",{children:[o("export")," ",U[n]," ",o("list_of_all_ongoing_application")]})}),(0,g.jsx)("img",{src:"".concat(s.J7,"/close.svg"),alt:"close icon",onClick:t})]})}),(0,g.jsx)(h.Z,{}),(0,g.jsx)(r.default,{customStyle:{paddingTop:"0"},children:(0,g.jsx)(C.Z,{label:"export",onAction:i})})]})})})},U={Request_Query:"Application",Docs_Query:"Document",Fees_Query:"Fees",Confirm_Query:"Confirmed",Review_Query:"Review",Allot_Query:"Allotted"},k=e=>{var t,i,o,a,r,c,d,h,p,v,_,j,y,f;let{aid:b}=e;const{t:C}=(0,u.$G)(),N=(0,A.TH)(),Z=(0,A.UO)(),U=(0,A.s0)(),[k,w]=(0,n.useState)(!1),[S,F]=(0,n.useState)({isOpen:!1,value:""}),[M]=(0,m.kX)(),{admissionMergedApplicationTotalCount:O}=(0,m.r_)({data:{aid:b},skip:!b}),I=e=>{F((()=>({isOpen:!0,value:e})))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:x.Z.ongoing_card,style:{position:"relative",boxShadow:"0 4px 4px 1px rgba(0, 0, 0, 0.4)"},children:[(0,g.jsxs)("div",{className:x.Z.ongoing_card_inner,children:[(0,g.jsx)("img",{alt:"Ongoing App",src:"".concat(s.U_,"/application.svg")}),(0,g.jsx)("div",{className:x.Z.ongoing_card_text,children:(0,g.jsx)("h6",{children:C("total")})})]}),(0,g.jsxs)("div",{className:x.Z.ongoing_card_count_date,children:[(0,g.jsxs)("div",{className:x.Z.ongoing_card_count_container_inner,onClick:()=>I("Request_Query"),children:[(0,g.jsx)("p",{title:"Application",children:C("application")}),(0,g.jsx)("h6",{title:"Application",children:null!==(t=null===O||void 0===O||null===(i=O.custom_obj)||void 0===i?void 0:i.receievedCount)&&void 0!==t?t:0})]}),(0,g.jsxs)("div",{className:x.Z.ongoing_card_count_container_inner,onClick:()=>I("Docs_Query"),children:[(0,g.jsx)("p",{title:"Docs Collect",children:C("docs")}),(0,g.jsx)("h6",{title:"Docs Collect",children:null!==(o=null===O||void 0===O||null===(a=O.custom_obj)||void 0===a?void 0:a.selectCount)&&void 0!==o?o:0})]}),(0,g.jsxs)("div",{className:x.Z.ongoing_card_count_container_inner,onClick:()=>I("Fees_Query"),children:[(0,g.jsx)("p",{title:"Fees Collection",children:C("fees_")}),(0,g.jsx)("h6",{title:"Fees Collection",children:null!==(r=null===O||void 0===O||null===(c=O.custom_obj)||void 0===c?void 0:c.fee_collect_count)&&void 0!==r?r:0})]}),(0,g.jsxs)("div",{className:x.Z.ongoing_card_count_container_inner,onClick:()=>I("Confirm_Query"),children:[(0,g.jsx)("p",{title:"Confirmed",children:C("confirm")}),(0,g.jsx)("h6",{title:"Confirmed",children:null!==(d=null===O||void 0===O||null===(h=O.custom_obj)||void 0===h?void 0:h.confirmCount)&&void 0!==d?d:0})]}),(0,g.jsxs)("div",{className:x.Z.ongoing_card_count_container_inner,onClick:()=>I("Review_Query"),children:[(0,g.jsx)("p",{title:"Review",children:C("review")}),(0,g.jsx)("h6",{title:"Review",children:null!==(p=null===O||void 0===O||null===(v=O.custom_obj)||void 0===v?void 0:v.review_count)&&void 0!==p?p:0})]}),(0,g.jsxs)("div",{className:x.Z.ongoing_card_count_container_inner,onClick:()=>I("Allot_Query"),children:[(0,g.jsx)("p",{title:"Allottment",children:C("allotted")}),(0,g.jsx)("h6",{title:"Allottment",children:null!==(_=null===O||void 0===O||null===(j=O.custom_obj)||void 0===j?void 0:j.allotCount)&&void 0!==_?_:0})]}),(0,g.jsxs)("div",{className:x.Z.ongoing_card_count_container_inner,children:[(0,g.jsx)("p",{title:"Cancelled",children:C("cancel")}),(0,g.jsx)("h6",{title:"Cancelled",children:null!==(y=null===O||void 0===O||null===(f=O.custom_obj)||void 0===f?void 0:f.cancelCount)&&void 0!==y?y:0})]})]})]}),k&&(0,g.jsx)(l.default,{}),S.isOpen&&(0,g.jsx)(q,{onExport:()=>{b&&(w((e=>!e)),M({aid:b,flow:S.value}).then((()=>{var e;let t="Institute"===(null===(e=N.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(Z.username,"/institute/member/admission?type=export"):"/q/".concat(Z.username,"/member/staff/admission?type=export");U(t,{state:N.state})})).catch({}))},onClose:()=>{F((()=>({isOpen:!1,value:""})))},label:S.value})]})};var w=i(43504);const S=()=>{var e;const{t:t}=(0,u.$G)(),i=(0,A.TH)(),n=(0,A.UO)();return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(w.rU,{to:"Institute"===(null===(e=i.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(n.username,"/institute/member/admission?type=hostel-ongoing"):"/q/".concat(n.username,"/member/staff/admission?type=hostel-ongoing"),state:i.state,children:(0,g.jsx)("div",{className:x.Z.ongoing_card,style:{position:"relative",boxShadow:"0 4px 4px 1px rgba(0, 0, 0, 0.4)"},children:(0,g.jsxs)("div",{className:x.Z.ongoing_card_inner,children:[(0,g.jsx)("img",{alt:"Ongoing App",src:"".concat(s.U_,"/application.svg")}),(0,g.jsx)("div",{className:x.Z.ongoing_card_text,children:(0,g.jsx)("h6",{children:t("hostel_application")})})]})})})})},F=e=>{var t,i,v,_,x;let{aid:j,instituteId:y,fid:f}=e;const{t:q}=(0,u.$G)(),U=(0,A.TH)(),w=(0,A.UO)(),F=(0,A.s0)(),[O,I]=(0,n.useState)(""),[Q,R]=(0,n.useState)(!1),[G]=(0,Z.FL)(),[P,T]=(0,n.useState)(!1),[D,E]=(0,n.useState)([]),[z]=(0,m.q7)(),{admissionOngoingApplication:L,admissionOngoingApplicationLoading:J,admissionOngoingApplicationRefetch:K}=(0,m.s5)({data:{aid:j,page:1,limit:1e3,search:""},skip:!j});(0,n.useEffect)((()=>{var e;null!==L&&void 0!==L&&null!==(e=L.list)&&void 0!==e&&e.length&&E(null===L||void 0===L?void 0:L.list)}),[null===L||void 0===L?void 0:L.list]);const W=()=>{R((e=>!e))},$=()=>{K()},B=(0,n.useCallback)((()=>{var e;let t="Institute"===(null===(e=U.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(w.username,"/institute/member/admission"):"/q/".concat(w.username,"/member/staff/admission");F(t,{state:U.state})}),[F,U.state,w.username]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(a.default,{children:[(0,g.jsx)(r.default,{children:(0,g.jsxs)("div",{className:d.Z.fm_header_container,children:[(0,g.jsxs)("div",{className:d.Z.fm_header_start_container,style:{gap:"0.5rem"},children:[(0,g.jsx)("img",{alt:"search icon",src:"".concat(s.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:B}),(0,g.jsx)("h6",{children:q("ongoing_applications")})]}),(0,g.jsxs)("div",{className:d.Z.fm_search,children:[(0,g.jsx)("section",{className:d.Z.fm_search_container,children:(0,g.jsxs)("div",{className:d.Z.fm_search_container_inner,children:[(0,g.jsx)("img",{className:d.Z.fm_search_icon,alt:"search icon",src:"".concat(s.dB,"/navbar-search.svg")}),(0,g.jsx)("input",{type:"text",placeholder:q("search"),onChange:e=>{var t;!J&&(null===L||void 0===L||null===(t=L.list)||void 0===t?void 0:t.length)>=0&&I(e.target.value)},style:{minWidth:"220px"},onKeyUp:e=>{if("Enter"===e.key){let e=M(null===L||void 0===L?void 0:L.list,O);E(e)}},value:O})]})}),null!==(t=U.state)&&void 0!==t&&t.role?null:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(N.Z,{onExcelFileUpload:e=>{var t,i;if(null!==(t=e.target)&&void 0!==t&&null!==(i=t.files)&&void 0!==i&&i.length&&j){T((e=>!e));const t=new FormData;t.append("file",e.target.files[0]),G({fileUpload:t}).then((e=>{var t,i;null!==(t=e.data)&&void 0!==t&&t.imageKey?z({aid:j,bodyParameter:{excel_file:null===(i=e.data)||void 0===i?void 0:i.imageKey}}).then((()=>{T((e=>!e))})).catch({}):T((e=>!e))})).catch({})}},dynamicKey:"direct_application",title:"Direct Application Excel",label:"Direct Application Excel"}),(0,g.jsx)(C.Z,{label:"create_new_application",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:W})]})]})]})}),(0,g.jsx)(h.Z,{}),(0,g.jsxs)(r.default,{customStyle:{paddingTop:"0.2rem",position:"relative"},children:[(0,g.jsx)(S,{}),(0,g.jsx)(k,{aid:j}),(null===(i=U.state)||void 0===i||null===(v=i.authorizedApplication)||void 0===v?void 0:v.length)>0?null===D||void 0===D?void 0:D.map((e=>{var t,i;return null!==(t=U.state)&&void 0!==t&&null!==(i=t.authorizedApplication)&&void 0!==i&&i.includes(null===e||void 0===e?void 0:e._id)?(0,g.jsx)(p.Z,{application:e,aid:j,instituteId:y,onRefetch:$},null===e||void 0===e?void 0:e._id):null})):null===D||void 0===D?void 0:D.map((e=>(0,g.jsx)(p.Z,{application:e,aid:j,instituteId:y,onRefetch:$},null===e||void 0===e?void 0:e._id))),J?O?(0,g.jsx)(l.default,{}):(0,g.jsx)(o.Z,{}):O?0===(null===L||void 0===L||null===(_=L.list)||void 0===_?void 0:_.length)&&(0,g.jsx)(c.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No ongoing application found related this search."}):0===(null===L||void 0===L||null===(x=L.list)||void 0===x?void 0:x.length)&&(0,g.jsx)(c.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No application created."})]})]}),Q&&(0,g.jsx)(b,{onClose:W,onRefetch:$,aid:j,instituteId:y,fid:f}),P&&(0,g.jsx)(l.default,{})]})},M=(e,t)=>(null===e||void 0===e?void 0:e.length)>0?null===e||void 0===e?void 0:e.filter((e=>{var i,n;return null!==e&&void 0!==e&&null!==(i=e.applicationName)&&void 0!==i&&null!==(n=i.toLowerCase())&&void 0!==n&&n.includes(null===t||void 0===t?void 0:t.toLowerCase())?e:null})):[]}}]);
//# sourceMappingURL=35199.6f6f18ec.chunk.js.map