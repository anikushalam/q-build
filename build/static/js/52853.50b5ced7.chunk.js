/*! For license information please see 52853.50b5ced7.chunk.js.LICENSE.txt */
(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[52853],{52853:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>q});var i=n(56959),o=n(63687),l=n(21348),a=n(39230),d=n(90904),s=n(43504),r=n(16871),c=n(63162),u=n(98967),v=n(6758),m=n(72791),f=n(23441),_=n(91427),h=n(57588),p=n(76697),x=n(97892),y=n.n(x),g=n(82824),j=n(1095),b=n(98684),N=n(55336),F=n(37782),S=n(73032),T=n(69721),Z=n(62732),w=n(80184);const M=e=>{var t,i,o,l,d,c,u,f,_,h,x,M,k,L,D,Y,z,C,I,R,A,P,E,H,W,q,O,J,B;let{history:G}=e;const{t:$}=(0,a.$G)(),K=(0,r.UO)(),U=(0,r.TH)(),[V,Q]=(0,m.useState)(""),[X,ee]=(0,m.useState)(!1),[te,ne]=(0,m.useState)(""),[ie,oe]=(0,m.useState)(""),[le,ae]=(0,m.useState)(""),{financeReceipt:de,financeReceiptRefetch:se}=(0,v.Nw)({rid:V,skip:!V});(0,m.useEffect)((()=>{V&&se()}),[V,se]),(0,m.useEffect)((()=>{null!==de&&void 0!==de&&de.receipt&&null!==de&&void 0!==de&&de.all_remain&&ne(de)}),[de]),(0,m.useEffect)((()=>{if(te){var e;const t=new Worker(new URL(n.p+n.u(29889),n.b));if("Hostel Application"===(null===te||void 0===te||null===(e=te.all_remain)||void 0===e?void 0:e.remaining_flow)){const{institute:e,studentInfo:n,paymentReceiptInfo:i}=(0,F.sp)(null===te||void 0===te?void 0:te.all_remain,null===te||void 0===te?void 0:te.receipt);t.postMessage({institute:e,studentInfo:n,paymentReceiptInfo:i,printReceiptType:"Refunded"===(null===i||void 0===i?void 0:i.transactonRefund)?"HOSTEL_REFUND":"HOSTEL"})}else{const{institute:e,studentInfo:n,paymentReceiptInfo:i}=(0,F.Hs)(null===te||void 0===te?void 0:te.all_remain,null===te||void 0===te?void 0:te.receipt);t.postMessage({institute:e,studentInfo:n,paymentReceiptInfo:i,printReceiptType:"Refunded"===(null===i||void 0===i?void 0:i.transactonRefund)?"ADMISSION_REFUND":"ADMISSION"})}t.onmessage=e=>{e&&(window.open(e.data,"_blank"),ee((e=>!e)),ne(""),t.terminate())}}}),[te]);const{internalFeeReceipt:re,internalFeeReceiptRefetch:ce}=(0,S.H0)({rid:ie,skip:!ie});(0,m.useEffect)((()=>{ie&&ce()}),[ie,ce]),(0,m.useEffect)((()=>{null!==re&&void 0!==re&&re.receipt&&null!==re&&void 0!==re&&re.one_account&&ae(re)}),[re]),(0,m.useEffect)((()=>{if(le){var e,t,n,i,o,l,a,d;ee((e=>!e));let s=null===le||void 0===le?void 0:le.one_account,r=null===le||void 0===le?void 0:le.receipt;const c=null!==r&&void 0!==r&&null!==(e=r.finance)&&void 0!==e&&null!==(t=e.institute)&&void 0!==t&&t.insProfilePhoto?"".concat(T.Yz,"/").concat(null===r||void 0===r||null===(n=r.finance)||void 0===n||null===(i=n.institute)||void 0===i?void 0:i.insProfilePhoto):"/images/certificate/logodemo.jpg",u=null!==r&&void 0!==r&&null!==(o=r.finance)&&void 0!==o&&null!==(l=o.institute)&&void 0!==l&&l.affliatedLogo?"".concat(T.Yz,"/").concat(null===r||void 0===r||null===(a=r.finance)||void 0===a||null===(d=a.institute)||void 0===d?void 0:d.affliatedLogo):"/images/certificate/logodemo.jpg";s&&r&&((0,Z.Z)(s,r,c,u),ee(!1)),ae(""),window.location.reload()}}),[le]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:p.Z.sidebarheader,style:{gap:"1%"},title:"Income"===(null===G||void 0===G?void 0:G.payment_module_type)?"":"View Receipt",children:[(0,w.jsxs)("div",{className:p.Z.history_image_container,style:{width:"50%"},children:[null!==G&&void 0!==G&&null!==(t=G.payment_student)&&void 0!==t&&t.studentProfilePhoto?(0,w.jsx)(s.rU,{to:"/q/".concat(K.username,"/student/profile"),state:{...U.state,sid:null===G||void 0===G||null===(i=G.payment_student)||void 0===i?void 0:i._id},children:(0,w.jsx)("img",{src:"".concat(j.yI,"/").concat(null===G||void 0===G||null===(o=G.payment_student)||void 0===o?void 0:o.studentProfilePhoto),alt:"qr code",style:{width:"60px",height:"60px",borderRadius:"12px"}})}):null,(0,w.jsxs)("div",{className:p.Z.text,children:[(0,w.jsx)("p",{className:p.Z.rcv,children:$("recived_from")}),(0,w.jsx)("h6",{children:null!==G&&void 0!==G&&G.payment_student?"".concat(null!==(l=null===G||void 0===G||null===(d=G.payment_student)||void 0===d?void 0:d.studentFirstName)&&void 0!==l?l:""," ").concat(null!==(c=null===G||void 0===G||null===(u=G.payment_student)||void 0===u?void 0:u.studentMiddleName)&&void 0!==c?c:""," ").concat(null!==(f=null===G||void 0===G||null===(_=G.payment_student)||void 0===_?void 0:_.studentLastName)&&void 0!==f?f:""):null!==(h=null===G||void 0===G||null===(x=G.payment_by_end_user_id)||void 0===x?void 0:x.userLegalName)&&void 0!==h?h:null===G||void 0===G?void 0:G.payment_by_end_user_id_name}),(0,w.jsxs)("p",{className:p.Z.rcv,children:[$("gr_number")," ",null!==(M=null===G||void 0===G||null===(k=G.payment_student)||void 0===k?void 0:k.studentGRNO)&&void 0!==M?M:""]}),(0,w.jsx)("p",{className:p.Z.rcv,children:null!==(L=null===G||void 0===G||null===(D=G.payment_student)||void 0===D||null===(Y=D.fee_structure)||void 0===Y?void 0:Y.unique_structure_name)&&void 0!==L?L:""})]})]}),(0,w.jsxs)("div",{className:p.Z.text,style:{width:"27%"},children:[(0,w.jsx)("p",{className:p.Z.rcv,style:{width:"100%"},children:$("transaction_id")}),(0,w.jsx)("h6",{style:{width:"100%",wordWrap:"break-word"},children:null!==G&&void 0!==G&&G.razorpay_payment_id?null===G||void 0===G?void 0:G.razorpay_payment_id:null!==G&&void 0!==G&&null!==(z=G.fee_receipt)&&void 0!==z&&z.fee_utr_reference?null===G||void 0===G||null===(C=G.fee_receipt)||void 0===C?void 0:C.fee_utr_reference:"N/A"}),(0,w.jsxs)("p",{className:p.Z.rcv,style:{width:"100%"},children:[y()(null===G||void 0===G?void 0:G.created_at).format("DD MMM YYYY"),", ",(0,g.J)(null===G||void 0===G?void 0:G.created_at,"LT")]})]}),(0,w.jsxs)("div",{className:p.Z.text,style:{width:"20%"},children:[(0,w.jsxs)("p",{className:p.Z.rcv,style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[$("invoice_no")," ",null!==(I=null!==(R=null===G||void 0===G||null===(A=G.fee_receipt)||void 0===A?void 0:A.invoice_count)&&void 0!==R?R:null===G||void 0===G?void 0:G.payment_invoice_number)&&void 0!==I?I:"N/A",null!==G&&void 0!==G&&null!==(P=G.fee_receipt)&&void 0!==P&&P.receipt_file?(0,w.jsx)("a",{href:"".concat(j.q2,"/").concat(null===G||void 0===G||null===(E=G.fee_receipt)||void 0===E?void 0:E.receipt_file),target:"_blank",rel:"noopener noreferrer",children:(0,w.jsx)("img",{src:"".concat(b.J7,"/receipt.svg"),alt:"receipt icon",title:"Download Fees Receipt"})}):(0,w.jsx)("img",{src:"".concat(b.J7,"/receipt.svg"),alt:"receipt icon",title:"Download Fees Receipt",onClick:()=>{var e,t,n;"Admission"===(null===G||void 0===G?void 0:G.payment_module_type)||"Admission Fees"===(null===G||void 0===G?void 0:G.payment_module_type)||"Hostel"===(null===G||void 0===G?void 0:G.payment_module_type)||"Hostel Fees"===(null===G||void 0===G?void 0:G.payment_module_type)?(()=>{var e,t,n;null!==G&&void 0!==G&&null!==(e=G.fee_receipt)&&void 0!==e&&e._id&&(ee((e=>!e)),Q(null===G||void 0===G||null===(t=G.fee_receipt)||void 0===t?void 0:t._id),V===(null===G||void 0===G||null===(n=G.fee_receipt)||void 0===n?void 0:n._id)&&ne(de))})(null===G||void 0===G||null===(e=G.fee_receipt)||void 0===e||e._id):"Income"===(null===G||void 0===G?void 0:G.payment_module_type)||(n=null===G||void 0===G||null===(t=G.fee_receipt)||void 0===t?void 0:t._id)&&(ee((e=>!e)),oe(n))}})]}),(0,w.jsxs)("h6",{style:{width:"100%"},children:[$("rs_only")," ",null===G||void 0===G?void 0:G.payment_amount]}),(0,w.jsx)("p",{className:p.Z.rcv,style:{width:"100%"},children:"offline"===(null===(H=G.payment_mode)||void 0===H?void 0:H.toLowerCase())?null!==G&&void 0!==G&&null!==(W=G.fee_receipt)&&void 0!==W&&W.fee_payment_mode?"".concat(null===G||void 0===G||null===(q=G.fee_receipt)||void 0===q?void 0:q.fee_payment_mode):"Offline - No Receipt":"online"===(null===(O=G.payment_mode)||void 0===O?void 0:O.toLowerCase())?null!==G&&void 0!==G&&null!==(J=G.fee_receipt)&&void 0!==J&&J.fee_payment_mode?"".concat(null===G||void 0===G||null===(B=G.fee_receipt)||void 0===B?void 0:B.fee_payment_mode):"Online - No Receipt":null===G||void 0===G?void 0:G.payment_mode})]})]}),X&&(0,w.jsx)(N.Z,{})]})};var k=n(1669),L=n(2651);const D=e=>{var t,n,o;let{instituteId:l}=e;const{t:d}=(0,a.$G)(),[s,r]=(0,m.useState)(""),[c,u]=(0,m.useState)(1),[p,x]=(0,m.useState)(!0),[y,g]=(0,f.YD)({skip:s}),{financeAllTransaction:j,financeAllTransactionLoading:F}=(0,v.XN)({data:{uid:l,page:c,limit:10,search:s,filter:""},skip:!l});(0,m.useEffect)((()=>{g&&p&&u((e=>e+1))}),[g,p]),(0,m.useEffect)((()=>{var e;if(null!==j&&void 0!==j&&null!==(e=j.list)&&void 0!==e&&e.length){var t;let e=(0,_.f)(null===j||void 0===j||null===(t=j.list)||void 0===t?void 0:t.length);x((()=>e))}}),[null===j||void 0===j?void 0:j.list]);const S=(0,m.useCallback)((0,h.J)((e=>{u((()=>1)),r(e)}),1500),[]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:i.Z.fm_search_full,children:(0,w.jsx)("section",{className:i.Z.fm_search_full_container,children:(0,w.jsxs)("div",{className:i.Z.fm_search_full_container_inner,children:[(0,w.jsx)("img",{className:i.Z.fm_search_full_icon,alt:"search icon",src:"".concat(b.dB,"/navbar-search.svg")}),(0,w.jsx)("input",{type:"text",placeholder:d("search"),onChange:e=>{e.target.value?S(e.target.value):(u((()=>1)),r(""))}})]})})}),null===j||void 0===j||null===(t=j.list)||void 0===t?void 0:t.map(((e,t)=>{var n;return(null===j||void 0===j||null===(n=j.list)||void 0===n?void 0:n.length)===t+1?(0,w.jsx)("div",{ref:y,children:(0,w.jsx)(M,{history:e})},null===e||void 0===e?void 0:e._id):(0,w.jsx)(M,{history:e},null===e||void 0===e?void 0:e._id)})),F?s?(0,w.jsx)(N.Z,{}):(0,w.jsx)(k.Z,{}):s?0===(null===j||void 0===j||null===(n=j.list)||void 0===n?void 0:n.length)&&(0,w.jsx)(L.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No receipts found related this search."}):0===(null===j||void 0===j||null===(o=j.list)||void 0===o?void 0:o.length)&&(0,w.jsx)(L.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No receipts added."})]})},Y=e=>{var t,n,i,o,l,d;let{repay:s}=e;const{t:r}=(0,a.$G)();return(0,w.jsxs)("div",{className:p.Z.settle_card,children:[(0,w.jsxs)("div",{className:p.Z.settle_card_container,children:[(0,w.jsx)("img",{src:null!==s&&void 0!==s&&null!==(t=s.finance)&&void 0!==t&&null!==(n=t.institute)&&void 0!==n&&n.insProfilePhoto?"".concat(j.yI,"/").concat(null===s||void 0===s||null===(i=s.finance)||void 0===i||null===(o=i.institute)||void 0===o?void 0:o.insProfilePhoto):"".concat(b.HN,"/qviple-logo.svg"),alt:"qviple logo",style:{width:"60px",height:"60px",borderRadius:"12px"}}),(0,w.jsxs)("div",{className:p.Z.settle_card_text,children:[(0,w.jsxs)("h6",{children:[r("day_book_date")," "," : ",null!==(l=null===s||void 0===s?void 0:s.db_file_date)&&void 0!==l?l:""]}),(0,w.jsxs)("h6",{children:[r("rs_only")," ",null!==(d=null===s||void 0===s?void 0:s.db_amount)&&void 0!==d?d:""]})]})]}),(0,w.jsxs)("div",{className:p.Z.settle_card_text,style:{alignItems:"flex-end"},children:[null!==s&&void 0!==s&&s.db_file?(0,w.jsx)("a",{title:"Download File",href:"".concat(j.yI,"/").concat(null===s||void 0===s?void 0:s.db_file),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,w.jsx)("img",{src:"".concat(b.J7,"/xsxl.svg"),alt:"excel icon"})}):null,(0,w.jsxs)("p",{className:p.Z.settle_paragraph,children:[(0,g.J)(null===s||void 0===s?void 0:s.db_created,"L"),", ",(0,g.J)(null===s||void 0===s?void 0:s.db_created,"LT")]})]})]})},z=e=>{var t,n,o;let{fid:l}=e;const{t:d}=(0,a.$G)(),[s,r]=(0,m.useState)(""),[c,u]=(0,m.useState)(1),[p,x]=(0,m.useState)(!0),[y,g]=(0,f.YD)({skip:s}),{financeDayBookPaymentList:j,financeDayBookPaymentListLoading:F}=(0,v.IG)({data:{fid:l,page:c,limit:10,search:s},skip:!l});(0,m.useEffect)((()=>{g&&p&&u((e=>e+1))}),[g,p]),(0,m.useEffect)((()=>{var e;if(null!==j&&void 0!==j&&null!==(e=j.list)&&void 0!==e&&e.length){var t;let e=(0,_.f)(null===j||void 0===j||null===(t=j.list)||void 0===t?void 0:t.length);x((()=>e))}}),[null===j||void 0===j?void 0:j.list]);const S=(0,m.useCallback)((0,h.J)((e=>{u((()=>1)),r(e)}),1500),[]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:i.Z.fm_search_full,children:(0,w.jsx)("section",{className:i.Z.fm_search_full_container,children:(0,w.jsxs)("div",{className:i.Z.fm_search_full_container_inner,children:[(0,w.jsx)("img",{className:i.Z.fm_search_full_icon,alt:"search icon",src:"".concat(b.dB,"/navbar-search.svg")}),(0,w.jsx)("input",{type:"text",placeholder:d("search"),onChange:e=>{e.target.value?S(e.target.value):(u((()=>1)),r(""))}})]})})}),null===j||void 0===j||null===(t=j.list)||void 0===t?void 0:t.map(((e,t)=>{var n;return(null===j||void 0===j||null===(n=j.list)||void 0===n?void 0:n.length)===t+1?(0,w.jsx)("div",{ref:y,children:(0,w.jsx)(Y,{repay:e})},null===e||void 0===e?void 0:e._id):(0,w.jsx)(Y,{repay:e},null===e||void 0===e?void 0:e._id)})),F?s?(0,w.jsx)(N.Z,{}):(0,w.jsx)(k.Z,{}):s?0===(null===j||void 0===j||null===(n=j.list)||void 0===n?void 0:n.length)&&(0,w.jsx)(L.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No payment found related this search."}):0===(null===j||void 0===j||null===(o=j.list)||void 0===o?void 0:o.length)&&(0,w.jsx)(L.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No payment added."})]})},C=e=>{var t,n,i,o,l,d;let{repay:s}=e;const{t:r}=(0,a.$G)();return(0,w.jsxs)("div",{className:p.Z.settle_card,children:[(0,w.jsxs)("div",{className:p.Z.settle_card_container,children:[(0,w.jsx)("img",{src:null!==s&&void 0!==s&&null!==(t=s.finance)&&void 0!==t&&null!==(n=t.institute)&&void 0!==n&&n.insProfilePhoto?"".concat(j.yI,"/").concat(null===s||void 0===s||null===(i=s.finance)||void 0===i||null===(o=i.institute)||void 0===o?void 0:o.insProfilePhoto):"".concat(b.HN,"/qviple-logo.svg"),alt:"qviple logo",style:{width:"60px",height:"60px",borderRadius:"12px"}}),(0,w.jsxs)("div",{className:p.Z.settle_card_text,children:[(0,w.jsxs)("h6",{children:[r("day_book_date")," "," : ",null!==(l=null===s||void 0===s?void 0:s.db_file_date)&&void 0!==l?l:""]}),(0,w.jsxs)("h6",{children:[r("rs_only")," ",null!==(d=null===s||void 0===s?void 0:s.db_amount)&&void 0!==d?d:""]})]})]}),(0,w.jsxs)("div",{className:p.Z.settle_card_text,style:{alignItems:"flex-end"},children:[null!==s&&void 0!==s&&s.db_file?(0,w.jsx)("a",{title:"Download File",href:"".concat(j.yI,"/").concat(null===s||void 0===s?void 0:s.db_file),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,w.jsx)("img",{src:"".concat(b.J7,"/xsxl.svg"),alt:"excel icon"})}):null,(0,w.jsxs)("p",{className:p.Z.settle_paragraph,children:[(0,g.J)(null===s||void 0===s?void 0:s.db_created,"L"),", ",(0,g.J)(null===s||void 0===s?void 0:s.db_created,"LT")]})]})]})},I=e=>{var t,n,o;let{fid:l}=e;const{t:d}=(0,a.$G)(),[s,r]=(0,m.useState)(""),[c,u]=(0,m.useState)(1),[p,x]=(0,m.useState)(!0),[y,g]=(0,f.YD)({skip:s}),{financeDayBookReceiptList:j,financeDayBookReceiptListLoading:F}=(0,v.VG)({data:{fid:l,page:c,limit:10,search:s},skip:!l});(0,m.useEffect)((()=>{g&&p&&u((e=>e+1))}),[g,p]),(0,m.useEffect)((()=>{var e;if(null!==j&&void 0!==j&&null!==(e=j.list)&&void 0!==e&&e.length){var t;let e=(0,_.f)(null===j||void 0===j||null===(t=j.list)||void 0===t?void 0:t.length);x((()=>e))}}),[null===j||void 0===j?void 0:j.list]);const S=(0,m.useCallback)((0,h.J)((e=>{u((()=>1)),r(e)}),1500),[]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:i.Z.fm_search_full,children:(0,w.jsx)("section",{className:i.Z.fm_search_full_container,children:(0,w.jsxs)("div",{className:i.Z.fm_search_full_container_inner,children:[(0,w.jsx)("img",{className:i.Z.fm_search_full_icon,alt:"search icon",src:"".concat(b.dB,"/navbar-search.svg")}),(0,w.jsx)("input",{type:"text",placeholder:d("search"),onChange:e=>{e.target.value?S(e.target.value):(u((()=>1)),r(""))}})]})})}),null===j||void 0===j||null===(t=j.list)||void 0===t?void 0:t.map(((e,t)=>{var n;return(null===j||void 0===j||null===(n=j.list)||void 0===n?void 0:n.length)===t+1?(0,w.jsx)("div",{ref:y,children:(0,w.jsx)(C,{repay:e})},null===e||void 0===e?void 0:e._id):(0,w.jsx)(C,{repay:e},null===e||void 0===e?void 0:e._id)})),F?s?(0,w.jsx)(N.Z,{}):(0,w.jsx)(k.Z,{}):s?0===(null===j||void 0===j||null===(n=j.list)||void 0===n?void 0:n.length)&&(0,w.jsx)(L.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No receipts found related this search."}):0===(null===j||void 0===j||null===(o=j.list)||void 0===o?void 0:o.length)&&(0,w.jsx)(L.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No receipts added."})]})},R=[{label:"receipts",id:"receipt",urlKey:""},{label:"payments",id:"payment",urlKey:"&t=payment"}],A=e=>{let{fid:t}=e;const[n]=(0,s.lr)(),i=(0,r.TH)(),o=(0,r.UO)();return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(u.Z,{children:R.map((e=>{var t;return(0,w.jsx)(c.Z,{tab:e,isLink:!0,isActive:"receipt"===e.id&&!n.get("t")||n.get("t")===e.id,parentState:i.state,url:"Institute"===(null===(t=i.state)||void 0===t?void 0:t.urlOffSet)?"/q/".concat(o.username,"/institute/member/finance?type=history&n=day-book").concat(e.urlKey):"/q/".concat(o.username,"/member/staff/finance?type=history&n=day-book").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,w.jsx)(d.Z,{customStyleBorder:{marginTop:"0"}}),n.get("t")?"payment"===n.get("t")?(0,w.jsx)(z,{fid:t}):null:(0,w.jsx)(I,{fid:t})]})},P=(0,m.lazy)((()=>n.e(77868).then(n.bind(n,77868)))),E=(0,m.lazy)((()=>n.e(30301).then(n.bind(n,30301)))),H=(0,m.lazy)((()=>n.e(53346).then(n.bind(n,53346)))),W=[{label:"receipts",id:"receipt",urlKey:""},{label:"payments",id:"payment",urlKey:"&n=payment"},{label:"settlement_history",id:"settlement",urlKey:"&n=settlement"},{label:"day_book",id:"day-book",urlKey:"&n=day-book"},{label:"activity_logs",id:"logs",urlKey:"&n=logs"}],q=e=>{let{fid:t,instituteId:n}=e;const{t:v}=(0,a.$G)(),[f]=(0,s.lr)(),_=(0,r.TH)(),h=(0,r.UO)();return(0,w.jsxs)(o.Z,{children:[(0,w.jsx)(l.Z,{children:(0,w.jsx)("div",{className:i.Z.fm_header_container,children:(0,w.jsx)("h6",{children:v("transaction_history")})})}),(0,w.jsx)(d.Z,{}),(0,w.jsxs)(l.Z,{customStyle:{paddingTop:"0"},children:[(0,w.jsx)(u.Z,{children:W.map((e=>{var t;return(0,w.jsx)(c.Z,{tab:e,isLink:!0,isActive:"receipt"===e.id&&!f.get("n")||f.get("n")===e.id,parentState:_.state,url:"Institute"===(null===(t=_.state)||void 0===t?void 0:t.urlOffSet)?"/q/".concat(h.username,"/institute/member/finance?type=history").concat(e.urlKey):"/q/".concat(h.username,"/member/staff/finance?type=history").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,w.jsx)(d.Z,{customStyleBorder:{marginTop:"0"}})]}),(0,w.jsx)(l.Z,{customStyle:{paddingTop:"0"},children:(0,w.jsx)(m.Suspense,{fallback:(0,w.jsx)(N.Z,{}),children:"payment"===f.get("n")?(0,w.jsx)(E,{instituteId:n}):"settlement"===f.get("n")?(0,w.jsx)(P,{instituteId:n}):"day-book"===f.get("n")?(0,w.jsx)(A,{fid:t}):"logs"===f.get("n")?(0,w.jsx)(H,{fid:t}):(0,w.jsx)(D,{instituteId:n})})})]})}},82824:(e,t,n)=>{"use strict";n.d(t,{J:()=>d,Z:()=>s});var i=n(99893),o=n.n(i),l=n(97892),a=n.n(l);const d=(e,t)=>(a().extend(o()),a()(e).format(t)),s=(e,t,n)=>{var i;return a()()[e]("".concat(null===(i=a()(n))||void 0===i?void 0:i.format("YYYY-MM-DD")),t)}},62732:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(35125),o=n(72426),l=n.n(o),a=n(62906),d=n.n(a),s=new i.ZP({format:[270,210]}),r=s.internal.pageSize.getWidth();const c=function(e,t,n,i){var o,a,c,u,v,m,f,_,h,p,x,y,g,j,b,N,F;let S=arguments.length>4&&void 0!==arguments[4]&&arguments[4],T=null===t||void 0===t||null===(o=t.finance)||void 0===o?void 0:o.institute,Z=null===t||void 0===t||null===(a=t.finance)||void 0===a?void 0:a.financeHead,w=null===t||void 0===t?void 0:t.student,M=null===t||void 0===t?void 0:t.internal_fees,k=null===t||void 0===t?void 0:t.order_history;s.addImage(n,"JPEG",9,3,25,25),s.addImage(i,"JPEG",r-34,2.4,25,25),s.setLineWidth(8),s.setDrawColor(255,255,255),s.circle(21.4,15,16),s.setLineWidth(0),s.setLineWidth(8),s.setDrawColor(255,255,255),s.circle(r-21.4,15,16),s.setLineWidth(0);const L=s.splitTextToSize(null===T||void 0===T?void 0:T.insName,146);if(s.setFont(void 0,"normal"),L.length>1){let e=10;s.setFont("700"),s.setTextColor(18,18,18),s.setFontSize(16),s.text(107,e,L,"center"),e=L.length+145}else{let e=10;s.setFont("700"),s.setTextColor(18,18,18),s.setFontSize(18),s.text(107,e,L,"center"),e=L.length+145}s.setFont("Arial","normal","400"),s.setTextColor(18,18,18),s.setFontSize(10),s.text(r/2,L.length>1?23:19,null===T||void 0===T?void 0:T.insAddress,"center"),s.setFont("WorkSans"),s.setTextColor(18,18,18),s.setFontSize(10),s.text(r/2,L.length>1?29:25,"Mob No : ".concat(null===T||void 0===T?void 0:T.insPhoneNumber," , Mail: ").concat(null===T||void 0===T?void 0:T.insEmail),"center"),s.setFont("WorkSans"),s.setTextColor(0,0,0),s.setFontSize(18),s.text(r/2,37,"Fee Receipt","center"),s.setLineWidth(.7),s.setDrawColor(18,18,18),s.line(0,46,r,46),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(9,54,"Invoice No :"),s.setFont(void 0,"normal"),s.setTextColor(0,0,0),s.setFontSize(10),s.text(32,54,null===t||void 0===t?void 0:t.invoice_count),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(r-32,54,"Dated:",{align:"right"}),s.setFont(void 0,"normal"),s.setTextColor(0,0,0),s.setFontSize(10),s.text(r-12,54,l()(null===t||void 0===t?void 0:t.created_at).format("DD-MMM-YYYY"),{align:"right"}),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(9,61,"Purpose:"),s.setFont(void 0,"normal"),s.setTextColor(0,0,0),s.setFontSize(10),s.text(32,61,"".concat(null!==(c=null===M||void 0===M?void 0:M.internal_fee_reason)&&void 0!==c?c:"N/A")),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(9,68,"Amount: "),s.setFont(void 0,"normal"),s.setTextColor(0,0,0),s.setFontSize(10),s.text(32,68,"Rs. ".concat(null===t||void 0===t?void 0:t.fee_payment_amount)),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(11),s.text(9,97," ".concat(S?"Received Through: ":"Paid Through: ")),s.setFont(void 0,"normal"),s.text(44,97,"".concat(null===e||void 0===e?void 0:e.finance_bank_name,", ").concat(null===e||void 0===e?void 0:e.finance_bank_account_name,", A/c No:  ").concat(null===e||void 0===e?void 0:e.finance_bank_account_number)),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.text(9,107," On Account of: ");const D="Being money ".concat(S?"received":"paid"," by ").concat(null===t||void 0===t?void 0:t.fee_payment_mode,", Transaction ID: ").concat(null!==(u=null===k||void 0===k?void 0:k.razorpay_order_id)&&void 0!==u?u:"N/A"," ,  Dated: ").concat(l()(null===t||void 0===t?void 0:t.created_at).format("DD-MMM-YYYY"),"  for Rs. ").concat(null===t||void 0===t?void 0:t.fee_payment_amount,".").concat(S?"From":"To"," ","".concat(null!==(v=null===w||void 0===w?void 0:w.studentFirstName)&&void 0!==v?v:""," ").concat(null!==(m=null===w||void 0===w?void 0:w.studentMiddleName)&&void 0!==m?m:""," ").concat(null!==(f=null===w||void 0===w?void 0:w.studentLastName)&&void 0!==f?f:""," "),", towards ").concat(null!==(_=null===M||void 0===M?void 0:M.internal_fee_reason)&&void 0!==_?_:"N/A","."),Y=s.splitTextToSize(D,r-20);if(Y.length>1){let e=113,t=10;s.setFont(void 0,"normal"),s.setFontSize(11),s.setTextColor(18,18,18),s.text(t,e,Y,"left"),e=Y.length+151}else{let e=113,t=10;s.setFontSize(11),s.setFont(void 0,"normal"),s.setTextColor(18,18,18),s.setFontSize(12),s.text(t,e,Y,"left"),e=Y.length+151}var z,C,I,R;(s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(11),s.text(9,131,"Bank Transaction Details: "),s.setFont(void 0,"normal"),s.text(9,138,"Payment Mode:  ".concat(null===t||void 0===t?void 0:t.fee_payment_mode)),null!==k&&void 0!==k&&k.razorpay_order_id)?s.text(9,144,"Transaction ID: ".concat(null!==(z=null===k||void 0===k?void 0:k.razorpay_order_id)&&void 0!==z?z:"N/A")):(s.text(9,144,"Bank Name: ".concat(null!==(C=null===e||void 0===e?void 0:e.fee_bank_name)&&void 0!==C?C:"N/A")),s.text(9,150,"Bank Holder Name: ".concat(null!==(I=null===e||void 0===e?void 0:e.finance_bank_account_name)&&void 0!==I?I:"N/A")),s.text(9,156,"UTR / Ref No.: ".concat(null!==(R=null===e||void 0===e?void 0:e.fee_utr_reference)&&void 0!==R?R:"N/A")),s.text(9,162,"Date: ".concat(l()(null===t||void 0===t?void 0:t.created_at).format("DD-MMM-YYYY"))),s.text(9,168,"Amount: ".concat(null===t||void 0===t?void 0:t.fee_payment_amount)),s.text(9,174,"Amount in Words: ".concat((d().toWords(t.fee_payment_amount.toString()).match(/[a-zA-Z0-9]+/g)||[]).map((e=>"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)))).join(" ")," only.")));s.setFontSize(9),s.text(40,240,"".concat(Z.staffFirstName," ").concat(null!==(h=Z.staffMiddleName)&&void 0!==h?h:""," ").concat(Z.staffLastName),{align:"center"}),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(40,245,"Finance Manager",{align:"center"}),s.setFont(void 0,"normal"),s.setFontSize(9),s.text(153,240,"".concat(null!==(p=null===T||void 0===T||null===(x=T.displayPersonList)||void 0===x||null===(y=x[0])||void 0===y||null===(g=y.displayUser)||void 0===g?void 0:g.userLegalName)&&void 0!==p?p:"N/A"),{align:"center"}),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(153,245,"".concat(null!==(j=null===T||void 0===T||null===(b=T.displayPersonList)||void 0===b||null===(N=b[0])||void 0===N?void 0:N.displayTitle)&&void 0!==j?j:"N/A"),{align:"center"}),s.setTextColor(0,0,255),s.setFontSize(7),s.text(r-20,243,"Online Automated",null,50),s.text(r-18,244,"Generated fee receipt",null,50),s.text(r-14,246,"Through Qviple",null,50),s.setLineWidth(.2),s.setDrawColor(18,18,18),s.line(0,251,r,251),s.setTextColor(18,18,18),s.setFontSize(8),s.setFont(void 0,"normal"),s.text(r/2,259,"Note : No one except one who is making this certificate should interfere with any details of this invoice, othewise students will be expelled and legal action will be taken.","center"),window.open(s.output("bloburl",{filename:"".concat(null===w||void 0===w?void 0:w.studentFirstName," ").concat(null!==(F=null===w||void 0===w?void 0:w.studentMiddleName)&&void 0!==F?F:""," ").concat(null===w||void 0===w?void 0:w.studentLastName," -Internal Fee Receipt.pdf")}),"_blank")}},99893:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,n,i){var o=n.prototype,l=o.format;i.en.formats=e,o.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var n=this.$locale().formats,i=function(t,n){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,i,o){var l=o&&o.toUpperCase();return i||n[o]||e[o]||n[l].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))}(t,void 0===n?{}:n);return l.call(this,i)}}}()},62906:(e,t,n)=>{!function(){"use strict";"object"==typeof self&&self.self===self&&self||"object"==typeof n.g&&n.g.global===n.g&&n.g;var i=9007199254740991;function o(e){return!("number"!=typeof e||e!=e||e===1/0||e===-1/0)}function l(e){return"number"==typeof e&&Math.abs(e)<=i}var a=/(hundred|thousand|(m|b|tr|quadr)illion)$/,d=/teen$/,s=/y$/,r=/(zero|one|two|three|four|five|six|seven|eight|nine|ten|eleven|twelve)$/,c={zero:"zeroth",one:"first",two:"second",three:"third",four:"fourth",five:"fifth",six:"sixth",seven:"seventh",eight:"eighth",nine:"ninth",ten:"tenth",eleven:"eleventh",twelve:"twelfth"};function u(e){return a.test(e)||d.test(e)?e+"th":s.test(e)?e.replace(s,"ieth"):r.test(e)?e.replace(r,v):e}function v(e,t){return c[t]}var m=1e3,f=1e6,_=1e9,h=1e12,p=1e15,x=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],y=["zero","ten","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"];function g(e,t){var n,i=parseInt(e,10);if(!o(i))throw new TypeError("Not a finite number: "+e+" ("+typeof e+")");if(!l(i))throw new RangeError("Input is not a safe number, it\u2019s either too large or too small.");return n=function e(t){var n,i,o=arguments[1];return 0===t?o?o.join(" ").replace(/,$/,""):"zero":(o||(o=[]),t<0&&(o.push("minus"),t=Math.abs(t)),t<20?(n=0,i=x[t]):t<100?(n=t%10,i=y[Math.floor(t/10)],n&&(i+="-"+x[n],n=0)):t<m?(n=t%100,i=e(Math.floor(t/100))+" hundred"):t<f?(n=t%m,i=e(Math.floor(t/m))+" thousand,"):t<_?(n=t%f,i=e(Math.floor(t/f))+" million,"):t<h?(n=t%_,i=e(Math.floor(t/_))+" billion,"):t<p?(n=t%h,i=e(Math.floor(t/h))+" trillion,"):t<=9007199254740992&&(n=t%p,i=e(Math.floor(t/p))+" quadrillion,"),o.push(i),e(n,o))}(i),t?u(n):n}var j={toOrdinal:function(e){var t=parseInt(e,10);if(!o(t))throw new TypeError("Not a finite number: "+e+" ("+typeof e+")");if(!l(t))throw new RangeError("Input is not a safe number, it\u2019s either too large or too small.");var n=String(t),i=Math.abs(t%100),a=11<=i&&i<=13,d=n.charAt(n.length-1);return n+(a?"th":"1"===d?"st":"2"===d?"nd":"3"===d?"rd":"th")},toWords:g,toWordsOrdinal:function(e){return u(g(e))}};e.exports&&(t=e.exports=j),t.numberToWords=j}()},76697:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={settle_card:"TransactionHistory_settle_card__WjSwI",settle_card_container:"TransactionHistory_settle_card_container__EIw4W",settle_card_text:"TransactionHistory_settle_card_text__3j20S",settle_paragraph:"TransactionHistory_settle_paragraph__x3Ovt",sidebarheader:"TransactionHistory_sidebarheader__oEDm9",history_image_container:"TransactionHistory_history_image_container__ZBhq9",text:"TransactionHistory_text__yimnr",rcv:"TransactionHistory_rcv__kuGgZ"}}}]);
//# sourceMappingURL=52853.50b5ced7.chunk.js.map