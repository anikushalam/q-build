"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[70630],{70630:(e,o,t)=>{t.r(o),t.d(o,{default:()=>k});var n=t(72791);const i="EachPoll_bars__WBpSh",s="EachPoll_postText__4GeL8",l="EachPoll_text__v7RUl",a="EachPoll_barContainer__lEEeJ",d="EachPoll_bar__tNVNQ",r="EachPoll_pollQuestion__E131+";var c=t(94302),m=t(40385),u=t(51760),v=t(39230),p=t(35395),h=t(47782),_=t(80184);const x=n.lazy((()=>t.e(83058).then(t.bind(t,83058)))),j=n.lazy((()=>t.e(2602).then(t.bind(t,2602))));const k=function(e){var o,t,k,g;let{post:N,profilePost:C,allPosts:f,selectOptions:P}=e;const[I,S]=(0,n.useState)(!1),[U,y]=(0,n.useState)(!1),{t:q}=(0,v.$G)();return(0,_.jsxs)(u.Z,{author:null===N||void 0===N?void 0:N.author,authorPhotoId:null===N||void 0===N?void 0:N.authorPhotoId,authorProfilePhoto:null===N||void 0===N?void 0:N.authorProfilePhoto,postStatus:null===N||void 0===N?void 0:N.postStatus,authorUserName:null===N||void 0===N?void 0:N.authorUserName,createdAt:null===N||void 0===N?void 0:N.createdAt,setDotsClicked:y,children:[(0,_.jsx)("p",{className:r,children:q("poll_question")}),(0,_.jsx)("div",{className:s,children:(0,_.jsx)("p",{className:l,children:null===N||void 0===N||null===(o=N.poll_query)||void 0===o?void 0:o.poll_question})}),(0,_.jsx)("div",{className:i,children:null===N||void 0===N||null===(t=N.poll_query)||void 0===t||null===(k=t.poll_answer)||void 0===k?void 0:k.map((e=>{var o;return(0,_.jsxs)("div",{className:a,children:[(0,_.jsx)("h6",{children:null===e||void 0===e?void 0:e.content}),(0,_.jsxs)("p",{children:[null===e||void 0===e||null===(o=e.percent_vote)||void 0===o?void 0:o.toFixed(0),"%"]}),(0,_.jsx)("div",{className:d,style:{width:"".concat(null===e||void 0===e?void 0:e.percent_vote,"%"),backgroundColor:null!==e&&void 0!==e&&e.color_type?"".concat(null===e||void 0===e?void 0:e.color_type):"#F2F2F2"}})]},null===e||void 0===e?void 0:e._id)}))}),(0,_.jsx)(m.Z,{likeCount:null===N||void 0===N?void 0:N.likeCount,endUserLike:null===N||void 0===N?void 0:N.endUserLike,endUserSave:null===N||void 0===N?void 0:N.endUserSave,pid:null===N||void 0===N?void 0:N._id,setCommentOpen:S,commentOpen:I,commentCount:null===N||void 0===N?void 0:N.commentCount,type:"Poll",total_votes:null===N||void 0===N||null===(g=N.poll_query)||void 0===g?void 0:g.total_votes}),(0,_.jsx)(n.Suspense,{fallback:(0,_.jsx)(h.Z,{}),children:(0,_.jsx)(x,{pid:null===N||void 0===N?void 0:N._id,commentCount:null===N||void 0===N?void 0:N.commentCount,setCommentOpen:S,commentOpen:I,comment_turned:null===N||void 0===N?void 0:N.comment_turned})}),U&&(0,_.jsx)(c.Z,{closeMenu:()=>{y(!1)},children:(0,_.jsx)(p.Z,{children:(0,_.jsx)(j,{setDotsClicked:y,options:P,pid:null===N||void 0===N?void 0:N._id,authorId:null===N||void 0===N?void 0:N.author,profilePost:C,status:null===N||void 0===N?void 0:N.postStatus,allPosts:f,popup:!1,postType:null===N||void 0===N?void 0:N.postType,commentStatus:null===N||void 0===N?void 0:N.comment_turned})})})]})}},94302:(e,o,t)=>{t.d(o,{Z:()=>s});var n=t(72791),i=t(80184);const s=function(e){let{children:o}=e;const t=(0,n.useRef)(null),s=e=>{};return(0,n.useEffect)((()=>(document.addEventListener("click",s,!0),()=>{document.removeEventListener("click",s,!0)})),[]),(0,i.jsx)("div",{ref:t,children:o})}},51760:(e,o,t)=>{t.d(o,{Z:()=>c});t(72791);var n=t(95048),i=t(43504),s=t(13688),l=t(48673),a=t(69721),d=t(79436),r=t(80184);const c=e=>{let{author:o,authorPhotoId:t,authorProfilePhoto:c,postStatus:m,authorUserName:u,createdAt:v,setDotsClicked:p,whichType:h,children:_}=e;const x=(0,n.I0)();return(0,r.jsxs)("div",{className:d.Z.eachpost,children:[(0,r.jsxs)("div",{className:d.Z.eachposthead,children:[(0,r.jsx)("div",{className:d.Z.imgcontainer,children:(0,r.jsx)(i.rU,{to:"/q/".concat(u,"/profile"),onClick:()=>{x(l.S.searchId({id:o,type:"ID"}))},children:(0,r.jsx)("img",{alt:"not found",src:c?"".concat(a.yI,"/").concat(c):"/images/ins_default_profile.svg",className:c?"":d.Z.iimg,style:"Anyone"===m?{offset:"none"}:{outline:"2px solid #010447",outlineOffset:"1px"}})})}),(0,r.jsxs)("div",{className:d.Z.eachpostUserName,children:[(0,r.jsx)(i.rU,{to:"/q/".concat(u,"/profile"),onClick:()=>{x(l.S.searchId({id:o,type:"ID"}))},children:(0,r.jsx)("h6",{children:u})}),(0,r.jsx)("div",{className:d.Z.eachpostUserTime,style:{display:"flex",gap:"0.5vw",alignItems:"center"},children:(0,r.jsx)("p",{children:(0,s.WU)(v)})})]})]}),"ANNOUNCEMENT"===h?null:(0,r.jsx)("img",{src:"/images/menu-dots-icon.svg",alt:"",className:d.Z.menu,onClick:()=>p((e=>!e))}),_]})}},43425:(e,o,t)=>{t.d(o,{Z:()=>m});var n=t(72791),i=t(9447),s=t(92950),l=t(95048),a=t(70092),d=t(16256),r=t(39230),c=t(80184);const m=e=>{let{endUserSave:o,pid:t,parentStyle:m}=e;const[u,v]=n.useState(!0),{t:p}=(0,r.$G)(),h=(0,l.v9)((e=>e.idChange)),_=(0,l.I0)(),[x,j]=n.useState(null===o||void 0===o?void 0:o.some((e=>e===(null===h||void 0===h?void 0:h.id)))),{postSaveRefetch:k}=(0,i.rq)({data:{pid:t,viewAs:d.UJ},skip:u});return(0,c.jsx)(c.Fragment,{children:x?(0,c.jsxs)("div",{className:m,onClick:()=>{_(a.p.removeSave({pid:t,id:null===h||void 0===h?void 0:h.id})),v(!1),j(!1),k()},children:[(0,c.jsx)("img",{src:"/images/unbookmark-icon.svg",alt:"",className:s.Z.bookmarkImage}),(0,c.jsx)("p",{children:p("save")})]}):(0,c.jsxs)("div",{className:m,onClick:()=>{_(a.p.addSave({pid:t,id:null===h||void 0===h?void 0:h.id})),v(!1),j(!0),k()},children:[(0,c.jsx)("img",{src:"/images/bookmark-icon.svg",alt:"",className:s.Z.bookmarkImage}),(0,c.jsx)("p",{children:p("save")})]})})}},40385:(e,o,t)=>{t.d(o,{Z:()=>p});var n=t(72791);const i={questionBottom:"Reactions_questionBottom__njIVp",questionBottomBorder:"Reactions_questionBottomBorder__i5RpE",pollVote:"Reactions_pollVote__ihF0t",questionBottomIcon:"Reactions_questionBottomIcon__UeG0b",questionBottomIconOne:"Reactions_questionBottomIconOne__bDy9u"};var s=t(95048),l=t(16256),a=t(9447),d=t(39230),r=t(70092),c=t(92950),m=t(80184);const u=e=>{let{parentStyle:o,endUserLike:t,pid:i,type:u}=e;const{t:v}=(0,d.$G)(),p=(0,s.I0)(),[h,_]=n.useState(!0),x=(0,s.v9)((e=>e.idChange)),[j,k]=n.useState(null===t||void 0===t?void 0:t.some((e=>e===(null===x||void 0===x?void 0:x.id)))),{postLikeRefetch:g}=(0,a.gM)({data:{pid:i,viewAs:l.UJ},skip:h});return(0,m.jsx)(m.Fragment,{children:j?(0,m.jsxs)("div",{className:o,onClick:()=>{p(r.p.removeLike({pid:i,id:null===x||void 0===x?void 0:x.id})),k(!1),_(!1),g()},children:[(0,m.jsx)("img",{src:"Poll"!==u?"/images/unlike-icon.svg":"/images/poll-recommended.svg",alt:"unlike",className:c.Z.likeImage}),(0,m.jsx)("p",{children:v("Poll"!==u?"like":"recommend")})]}):(0,m.jsxs)("div",{className:o,onClick:()=>{p(r.p.addLike({pid:i,id:null===x||void 0===x?void 0:x.id})),k(!0),_(!1),g()},children:[(0,m.jsx)("img",{src:"Poll"!==u?"/images/like-icon.svg":"/images/poll-recommend.svg",alt:"like",className:c.Z.likeImage}),(0,m.jsx)("p",{children:v("Poll"!==u?"like":"recommend")})]})})};var v=t(43425);const p=function(e){let{likeCount:o,endUserLike:t,endUserSave:n,pid:s,setCommentOpen:l,commentOpen:a,commentCount:r,type:c,total_votes:p,postPopupOpen:h}=e;const{t:_}=(0,d.$G)();return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:i.questionBottom,children:["Poll"!==c?(0,m.jsxs)("div",{className:i.questionBottomBorder,children:[(0,m.jsxs)("p",{className:i.needCount,children:[o," ",_("likes")," "]}),(0,m.jsxs)("p",{children:[r," ",_("comments_")," "]})]}):(0,m.jsxs)("div",{className:i.questionBottomBorder,children:[(0,m.jsxs)("p",{className:i.pollVote,children:[p," Votes"]}),(0,m.jsxs)("p",{children:[o," ",_("recommend")," | ",r," ",_("comments_")]})]}),(0,m.jsxs)("div",{className:i.questionBottomIcon,children:[(0,m.jsx)("div",{className:i.questionBottomIconOne,children:(0,m.jsx)(u,{endUserLike:t,pid:s,parentStyle:i.questionBottomIconOne,type:c})}),(0,m.jsxs)("div",{className:i.questionBottomIconOne,onClick:()=>{h||l(!a)},children:[(0,m.jsx)("img",{src:"/images/comment-icon.svg",alt:""}),(0,m.jsx)("p",{children:_("comment")})]}),(0,m.jsx)("div",{className:i.questionBottomIconOne,children:(0,m.jsx)(v.Z,{endUserSave:n,pid:s,parentStyle:i.questionBottomIconOne})})]})]})})}},13688:(e,o,t)=>{t.d(o,{WU:()=>r});var n=["second","minute","hour","day","week","month","year"];var i=["\u79d2","\u5206\u949f","\u5c0f\u65f6","\u5929","\u5468","\u4e2a\u6708","\u5e74"];var s={},l=function(e,o){s[e]=o},a=[60,60,24,7,365/7/12,12];function d(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}var r=function(e,o,t){var n=function(e,o){return(+(o?d(o):new Date)-+d(e))/1e3}(e,t&&t.relativeDate);return function(e,o){for(var t=e<0?1:0,n=e=Math.abs(e),i=0;e>=a[i]&&i<a.length;i++)e/=a[i];return(e=Math.floor(e))>(0===(i*=2)?9:1)&&(i+=1),o(e,i,n)[t].replace("%s",e.toString())}(n,function(e){return s[e]||s.en_US}(o))};l("en_US",(function(e,o){if(0===o)return["just now","right now"];var t=n[Math.floor(o/2)];return e>1&&(t+="s"),[e+" "+t+" ago","in "+e+" "+t]})),l("zh_CN",(function(e,o){if(0===o)return["\u521a\u521a","\u7247\u523b\u540e"];var t=i[~~(o/2)];return[e+" "+t+"\u524d",e+" "+t+"\u540e"]}))},79436:(e,o,t)=>{t.d(o,{Z:()=>n});const n={eachpost:"PostContainer_eachpost__4Ihag",reactions:"PostContainer_reactions__iW+XA",eachposthead:"PostContainer_eachposthead__g0OCh",imgcontainer:"PostContainer_imgcontainer__hbVj9",iimg:"PostContainer_iimg__j+Wkk",eachpostUserName:"PostContainer_eachpostUserName__4reNe",eachpostUserTime:"PostContainer_eachpostUserTime__naeRX",menu:"PostContainer_menu__Cp0Zi",showMore:"PostContainer_showMore__xHh4T"}},92950:(e,o,t)=>{t.d(o,{Z:()=>n});const n={likeImage:"Like_likeImage__Foz5V",bookmarkImage:"Like_bookmarkImage__SPKG5"}}}]);
//# sourceMappingURL=70630.39d9ec82.chunk.js.map