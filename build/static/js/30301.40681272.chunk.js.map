{"version":3,"file":"static/js/30301.40681272.chunk.js","mappings":"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","sources":["optimized/UserStaffMember/FinanceManager/TransactionHistory/FinanceHistoryCard.jsx","optimized/UserStaffMember/FinanceManager/TransactionHistory/FinanceHistory.jsx"],"sourcesContent":["import { useTranslation } from \"react-i18next\";\nimport style from \"./TransactionHistory.module.css\";\nimport dayjs from \"dayjs\";\nimport { localTimeFormat } from \"../../../Utils/Functions/localTime\";\n\nconst FinanceHistoryCard = ({ history }) => {\n  const { t } = useTranslation();\n  return (\n    <div\n      className={style.sidebarheader}\n      //   onClick={() => {\n      //     setOnClickValue(history);\n      //     setDetailView(true);\n      //   }}\n    >\n      <div className={style.text}>\n        <p className={style.rcv}>{t(\"paid_to\")}</p>\n        <h6>\n          {history?.payment_by_end_user_id?.userLegalName ??\n            history?.payment_by_end_user_id_name}\n        </h6>\n        <p className={style.rcv}>\n          {dayjs(history?.created_at).format(\"DD MMM YYYY\")}\n          {\", \"}\n          {localTimeFormat(history?.created_at, \"LT\")}\n        </p>\n      </div>\n\n      <div className={style.text} style={{ marginTop: \"0.9rem\" }}>\n        <p className={style.rcv}>\n          {/* {t(\"invoice_no\")} {history?.payment_invoice_number} */}\n        </p>\n\n        <h6>\n          {t(\"rs_only\")} {history?.payment_amount}\n        </h6>\n        <p className={style.rcv}>\n          {/* {history?.payment_mode} */}\n          {history.payment_mode?.toLowerCase() === \"offline\"\n            ? history?.fee_receipt?.fee_payment_mode\n              ? `${history?.fee_receipt?.fee_payment_mode}`\n              : \"Offline - No Receipt\"\n            : history.payment_mode?.toLowerCase() === \"online\"\n            ? history?.fee_receipt?.fee_payment_mode\n              ? `${history?.fee_receipt?.fee_payment_mode}`\n              : \"Online - No Receipt\"\n            : history?.payment_mode}\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default FinanceHistoryCard;\n","import { useFinanceAllTransaction } from \"../../../Hooks/ApiHooks/FinanceManager/finance-manager-api\";\nimport { customDebounce } from \"../../../Utils/Functions/debounce\";\nimport { nextPage } from \"../../../Utils/Functions/nextPage\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useInView } from \"react-intersection-observer\";\nimport style from \"../FinanceManager.module.css\";\nimport FinanceHistoryCard from \"./FinanceHistoryCard\";\nimport { assestsNavbarUrl } from \"../../../Services/UrlConfig/AssestsBaseUrl\";\nimport Loading from \"../../../Loader/Loading\";\nimport QvipleLoader from \"../../../Loader/QvipleLoader\";\nimport EmptyMessage from \"../../../Utils/EmptyMessage/EmptyMessage\";\n\nconst FinanceHistory = ({ instituteId }) => {\n  const { t } = useTranslation();\n  const [search, setSearch] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [state, setState] = useState(true);\n  const [ref, inView] = useInView({ skip: search });\n  const { financeAllTransaction, financeAllTransactionLoading } =\n    useFinanceAllTransaction({\n      data: {\n        uid: instituteId,\n        page: page,\n        limit: 10,\n        search: search,\n        filter: \"Expense\",\n      },\n      skip: !instituteId,\n    });\n  useEffect(() => {\n    if (inView && state) setPage((page) => page + 1);\n  }, [inView, state]);\n  useEffect(() => {\n    if (financeAllTransaction?.list?.length) {\n      let obj = nextPage(financeAllTransaction?.list?.length);\n      setState(() => obj);\n    }\n  }, [financeAllTransaction?.list]);\n  const onDebounce = useCallback(\n    customDebounce((val) => {\n      setPage(() => 1);\n      setSearch(val);\n    }, 1500),\n    []\n  );\n\n  const onSearchEvent = (e) => {\n    if (e.target.value) onDebounce(e.target.value);\n    else {\n      setPage(() => 1);\n      setSearch(\"\");\n    }\n  };\n  return (\n    <>\n      <div className={style.fm_search_full}>\n        <section className={style.fm_search_full_container}>\n          <div className={style.fm_search_full_container_inner}>\n            <img\n              className={style.fm_search_full_icon}\n              alt=\"search icon\"\n              src={`${assestsNavbarUrl}/navbar-search.svg`}\n            />\n            <input\n              type=\"text\"\n              placeholder={t(\"search\")}\n              onChange={onSearchEvent}\n            />\n          </div>\n        </section>\n      </div>\n\n      {financeAllTransaction?.list?.map((history, index) =>\n        financeAllTransaction?.list?.length === index + 1 ? (\n          <div key={history?._id} ref={ref}>\n            <FinanceHistoryCard history={history} />\n          </div>\n        ) : (\n          <FinanceHistoryCard history={history} key={history?._id} />\n        )\n      )}\n      {financeAllTransactionLoading ? (\n        search ? (\n          <QvipleLoader />\n        ) : (\n          <Loading />\n        )\n      ) : search ? (\n        financeAllTransaction?.list?.length === 0 && (\n          <EmptyMessage\n            customStyleContainer={{\n              marginTop: \"1.5rem\",\n            }}\n            title=\"No history found related this search.\"\n          />\n        )\n      ) : (\n        financeAllTransaction?.list?.length === 0 && (\n          <EmptyMessage\n            customStyleContainer={{\n              marginTop: \"1.5rem\",\n            }}\n            title=\"No history added.\"\n          />\n        )\n      )}\n    </>\n  );\n};\n\nexport default FinanceHistory;\n"],"names":["_ref","_history$payment_by_e","_history$payment_by_e2","_history$payment_mode","_history$fee_receipt","_history$fee_receipt2","_history$payment_mode2","_history$fee_receipt3","_history$fee_receipt4","history","t","useTranslation","_jsxs","className","style","sidebarheader","children","text","_jsx","rcv","payment_by_end_user_id","userLegalName","payment_by_end_user_id_name","dayjs","created_at","format","localTimeFormat","marginTop","payment_amount","payment_mode","toLowerCase","fee_receipt","fee_payment_mode","concat","_financeAllTransactio3","_financeAllTransactio5","_financeAllTransactio6","instituteId","search","setSearch","useState","page","setPage","state","setState","ref","inView","useInView","skip","financeAllTransaction","financeAllTransactionLoading","useFinanceAllTransaction","data","uid","limit","filter","useEffect","_financeAllTransactio","list","length","_financeAllTransactio2","obj","nextPage","onDebounce","useCallback","customDebounce","val","_Fragment","fm_search_full","fm_search_full_container","fm_search_full_container_inner","fm_search_full_icon","alt","src","assestsNavbarUrl","type","placeholder","onChange","e","target","value","map","index","_financeAllTransactio4","FinanceHistoryCard","_id","QvipleLoader","Loading","EmptyMessage","customStyleContainer","title"],"sourceRoot":""}