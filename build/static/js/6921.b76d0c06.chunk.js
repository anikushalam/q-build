"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[6921],{91022:function(e,o,t){var n=t(1413),a=t(29439),i=t(72791),l=t(39230),r=t(38733),s=t(80184);o.Z=function(e){var o=e.selectLabel,t=e.value,c=e.onClick,_=e.selectedValue,d=e.options,u=e.errorShow,f=e.customStyleContainer,v=e.customLabelStyle,h=e.customListStyle,m=e.openAs,p=e.viewAs,b=(0,l.$G)().t,g=(0,i.useState)(!1),x=(0,a.Z)(g,2),y=x[0],k=x[1],j=function(){"REFUND"===m||"BACKLOG"===m||"FINANCE_MANAGER"===p||k((function(e){return!e}))},S=function(e){c(e),j()};return(0,s.jsxs)("div",{className:r.Z.join_form_container,style:(0,n.Z)({},f),children:[(0,s.jsxs)("p",{className:r.Z.join_form_select_paragraph,style:(0,n.Z)({},v),children:[o," ",u&&(0,s.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",b("form_require_label")]})]}),(0,s.jsxs)("section",{className:r.Z.join_form_select_custom,onClick:j,children:[t?(0,s.jsx)("p",{className:r.Z.join_form_select_custom_paragraph,children:null!==t&&void 0!==t?t:""}):(0,s.jsx)("p",{className:r.Z.join_form_select_custom_paragraph,children:_}),(0,s.jsx)("img",{className:r.Z.join_form_select_custom_icon,src:"/images/down-icon.svg",alt:"categor icon"})]}),y&&(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("section",{className:r.Z.join_form_select_custom_list,style:h?(0,n.Z)({},h):(null===d||void 0===d?void 0:d.length)>2?{overflowY:"scroll"}:{backgroundColor:"#ffffff"},children:[(0,s.jsx)("p",{className:r.Z.join_form_select_custom_paragraph_option,onClick:j,children:_}),null===d||void 0===d?void 0:d.map((function(e,o){return(0,s.jsx)("p",{onClick:function(){return S(e)},className:r.Z.join_form_select_custom_paragraph_option,children:e},o)}))]})})]})}},81622:function(e,o,t){var n=t(1413),a=t(29439),i=t(72791),l=t(38733),r=t(39230),s=t(93097),c=t(69721),_=t(80184);o.Z=function(e){var o=e.labelText,t=e.name,d=e.multiple,u=e.value,f=e.onChange,v=(e.onClick,e.errorShow),h=e.acceptType,m=e.customStyleContainer,p=(0,r.$G)().t,b=(0,i.useState)(""),g=(0,a.Z)(b,2),x=g[0],y=g[1];return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:l.Z.join_form_container,style:(0,n.Z)({},m),children:[(0,_.jsxs)("label",{className:l.Z.join_form_label,children:[o,v&&(0,_.jsx)("span",{style:{color:"red",marginLeft:"15px"},children:"* required"})]}),(0,_.jsxs)("div",{className:l.Z.join_form_file_container,children:[(0,_.jsx)("label",{className:u?"".concat(l.Z.join_form_file_choose," ").concat(l.Z.join_form_active_background):l.Z.join_form_file_choose,htmlFor:t,children:p(""!==u?"file_chosen":"chose_file")}),(0,_.jsx)("label",{className:l.Z.join_form_file_choosen,onClick:function(){if(null!==u&&void 0!==u&&u.originalName)if(null!==u&&void 0!==u&&u.isPdf){var e=window.open("".concat(c.zQ,"/").concat(null===u||void 0===u?void 0:u.key),"_blank","noopener,noreferrer");e&&(e.opener=null)}else y(null===u||void 0===u?void 0:u.key);else y(u)},style:{color:"#002BBE",cursor:"pointer"},children:""!==u?null!==u&&void 0!==u&&u.originalName?null===u||void 0===u?void 0:u.originalName:"View":p("no_file_chosen")})]}),(0,_.jsx)("input",{type:"file",multiple:!!d,accept:h||"image/*, .doc,.docx, application/pdf,.csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",name:t,id:t,style:{display:"none"},onChange:f})]}),x&&(0,_.jsx)(s.Z,{onClose:function(){y("")},keyValue:x})]})}},72952:function(e,o,t){var n=t(1413),a=(t(72791),t(39230)),i=t(38733),l=t(80184);o.Z=function(e){var o,t=e.labelText,r=e.name,s=e.type,c=e.value,_=e.onChange,d=e.placeholder,u=e.errorShow,f=e.customStyleContainer,v=e.disabled,h=(0,a.$G)().t;return(0,l.jsxs)("div",{className:i.Z.join_form_container,style:(0,n.Z)({},f),children:[(0,l.jsxs)("label",{className:i.Z.join_form_label,htmlFor:r,children:[t," ",u&&(0,l.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",h("form_require_label")]})]}),(0,l.jsx)("textarea",{className:i.Z.join_form_text_area,type:s,value:c,onChange:_,name:r,placeholder:d,rows:c?(null===c||void 0===c||null===(o=c.split("\n"))||void 0===o?void 0:o.length)+3:1,disabled:v})]})}},93097:function(e,o,t){t(72791);var n=t(12072),a=t(84489),i=t(69721),l=t(80184);o.Z=function(e){var o=e.onClose,t=e.keyValue;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.Z,{onClose:o}),(0,l.jsx)(n.Z,{customStyle:{zIndex:"1200",borderRadius:"0"},children:(0,l.jsx)("img",{src:"".concat(i.yI,"/").concat(t),alt:"view file",style:{maxWidth:"700px",maxHeight:"500px"}})})]})}},49384:function(e,o,t){t.d(o,{Z:function(){return i}});t(72791);var n=t(6307),a=t(80184),i=function(){return(0,a.jsx)(n.iT,{ariaLabel:"loading-indicator",height:20,width:20,color:"white",secondaryColor:"#1c023b"})}},37111:function(e,o,t){t.d(o,{Z:function(){return M}});var n=t(93433),a=t(29439),i=t(72791),l={remainingFees:"AllBooks_remainingFees__JAkqu",remainingFeesBottom:"AllBooks_remainingFeesBottom__wpvAQ",itemsContainer:"AllBooks_itemsContainer__3JOR5",bookItem:"AllBooks_bookItem__CuEBu",author:"AllBooks_author__Mn7HA",bookItemImg:"AllBooks_bookItemImg__T7EV9",title:"AllBooks_title__-Nt6G",authorLabel:"AllBooks_authorLabel__v2MfN",booklang:"AllBooks_booklang__EamZs",status:"AllBooks_status__HSM9T",online:"AllBooks_online__GYG+5",offline:"AllBooks_offline__Oe4nE",searchContainerr:"AllBooks_searchContainerr__uQNeV",searchContainer:"AllBooks_searchContainer__zH+GJ",newBtn:"AllBooks_newBtn__tjATi",loader:"AllBooks_loader__zlk25",noData:"AllBooks_noData__hRVeo",itemref:"AllBooks_itemref__TGFlp"},r=t(39230),s=t(55581),c=t(78687),_=t(23441),d=t(763),u=t(11105),f=t(11237),v=t(82418),h=t(16871),m=t(84959),p=t(98734),b=t(4942),g=t(1413),x="CreateBook_addbookcontainer__fwhHB",y="CreateBook_addbooktop__1vvzD",k="CreateBook_upload__HNRfX",j="CreateBook_profilephotocontainer__gxkdj",S="CreateBook_userLogo2__aVz3Z",Z="CreateBook_cloos2__lRybz",C="CreateBook_inputcontainerflex__SyFUm",N="CreateBook_button_main__Er++4",w="CreateBook_tabs__6Gcb1",T="Tabs_mcqToptabs__CZ3sE",P="Tabs_mcqTop__Tml1v",B="Tabs_mcqTopItem__oxZq2",I="Tabs_active__ohVkz",A=t(80184);var L=function(e){var o=e.bookAddType,t=e.onToggleType,n=(0,r.$G)().t;return(0,A.jsx)("div",{className:P,children:(0,A.jsxs)("div",{className:T,children:[(0,A.jsx)("div",{className:o?B:"".concat(B," ").concat(I),onClick:function(){return t("offline")},children:n("offline")}),(0,A.jsx)("div",{className:o?"".concat(B," ").concat(I):B,onClick:function(){return t("online")},children:n("online")})]})})},F=t(97655),E=t(21559),G=t(5574),O=t(91022),R=t(72952),H=t(69721),q=t(81622),K=["English","Hindi","Marathi","Assamese","Bengali","Bodo","Gujrati","Kannada","Kashmiri","Malayalam","Manipuri","Maithili","Nepali","Oriya","Panjabi","Sanskrit","Santhali","Sindhi","Tamil","Telugu","Urdu"],U=function(e){var o,t,n,l,c,_,d,u,f,v,T,P=e.status,B=e.onRefetchWhenBookCreate,I=e.lid,U=(0,r.$G)().t,V=(0,h.s0)(),D=(0,h.TH)(),M=(0,i.useState)(!1),J=(0,a.Z)(M,2),z=J[0],W=J[1],X=(0,i.useState)(!1),$=(0,a.Z)(X,2),Q=$[0],Y=$[1],ee=(0,i.useState)(""),oe=(0,a.Z)(ee,2),te=oe[0],ne=oe[1],ae=(0,i.useState)(!1),ie=(0,a.Z)(ae,2),le=ie[0],re=ie[1],se=(0,i.useState)(""),ce=(0,a.Z)(se,2),_e=ce[0],de=ce[1],ue=(0,i.useState)(!1),fe=(0,a.Z)(ue,2),ve=fe[0],he=fe[1],me=(0,i.useState)(""),pe=(0,a.Z)(me,2),be=(pe[0],pe[1]),ge=(0,i.useState)(""),xe=(0,a.Z)(ge,2),ye=xe[0],ke=xe[1],je=(0,i.useState)({bookName:"",bookStatus:"Offline",author:"",publication:"",language:"",totalPage:"",price:"",totalCopies:"",shellNumber:"",description:"",photo:"",attachment:[]}),Se=(0,a.Z)(je,2),Ze=Se[0],Ce=Se[1],Ne=(0,m.FL)(),we=(0,a.Z)(Ne,1)[0],Te=(0,s.nY)(),Pe=(0,a.Z)(Te,1)[0],Be=(0,s.CU)(),Ie=(0,a.Z)(Be,1)[0],Ae=(0,s.iJ)({bid:null===(o=D.state)||void 0===o?void 0:o.bid,skip:!(null!==(t=D.state)&&void 0!==t&&t.bid)}).getBookDetailRefetch;(0,i.useEffect)((function(){if("edit"===P){var e,o,t,n,a,i,l,r,s,c,_,d,u,f=null===(e=D.state)||void 0===e?void 0:e.book;"Online"===(null===f||void 0===f?void 0:f.bookStatus)&&Y(!0),Ce({bookName:null!==(o=null===f||void 0===f?void 0:f.bookName)&&void 0!==o?o:"",bookStatus:null!==(t=null===f||void 0===f?void 0:f.bookStatus)&&void 0!==t?t:"Offline",author:null!==(n=null===f||void 0===f?void 0:f.author)&&void 0!==n?n:"",publication:null!==(a=null===f||void 0===f?void 0:f.publication)&&void 0!==a?a:"",language:null!==(i=null===f||void 0===f?void 0:f.language)&&void 0!==i?i:"",totalPage:null!==(l=null===f||void 0===f?void 0:f.totalPage)&&void 0!==l?l:"",price:null!==(r=null===f||void 0===f?void 0:f.price)&&void 0!==r?r:"",totalCopies:null!==(s=null===f||void 0===f?void 0:f.totalCopies)&&void 0!==s?s:"",shellNumber:null!==(c=null===f||void 0===f?void 0:f.shellNumber)&&void 0!==c?c:"",description:null!==(_=null===f||void 0===f?void 0:f.description)&&void 0!==_?_:"",photo:null!==(d=null===f||void 0===f?void 0:f.photo)&&void 0!==d?d:"",attachment:null!==(u=null===f||void 0===f?void 0:f.attachment)&&void 0!==u?u:[]})}}),[P]);var Le=function(e){Ce((function(o){return(0,g.Z)((0,g.Z)({},o),{},(0,b.Z)({},e.target.name,e.target.value))}))},Fe=function(e){Ce((function(o){return(0,g.Z)((0,g.Z)({},o),{},(0,b.Z)({},e.target.name,+e.target.value))}))},Ee=function(e,o){W((function(e){return!e}));var t=new FormData;t.append("file",e),we({fileUpload:t}).then((function(t){if("Thumbnail"===o)Ce((function(e){var o;return(0,g.Z)((0,g.Z)({},e),{},{photo:null===t||void 0===t||null===(o=t.data)||void 0===o?void 0:o.imageKey})}));else{var n,a={documentType:"",documentName:"",documentSize:"",documentKey:""};a.documentType=e.type,a.documentName=e.name,a.documentSize=e.size,a.documentKey=null===(n=t.data)||void 0===n?void 0:n.imageKey,Ce((function(e){return(0,g.Z)((0,g.Z)({},e),{},{attachment:[a]})}))}W((function(e){return!e}))})).catch({})};(0,i.useEffect)((function(){le&&Ee(_e,"Thumbnail")}),[le,_e]);var Ge=function(e){Ce("offline"===e?function(e){return(0,g.Z)((0,g.Z)({},e),{},{bookStatus:"Offline",attachment:[]})}:"online"===e?function(e){return(0,g.Z)((0,g.Z)({},e),{},{bookStatus:"Online",totalCopies:"",shellNumber:""})}:{bookName:"",bookStatus:"Offline",author:"",publication:"",language:"",totalPage:"",price:"",totalCopies:"",shellNumber:"",description:"",photo:"",attachment:[]})};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{className:x,children:[(0,A.jsxs)("div",{className:y,children:[(0,A.jsx)("img",{src:"/images/back.svg",onClick:function(){V(-1)}}),(0,A.jsx)("h6",{children:U("add_books")}),(0,A.jsx)("div",{})]}),(0,A.jsxs)("div",{className:j,children:[(0,A.jsx)("img",{className:S,src:ye||(null!==(n=D.state)&&void 0!==n&&null!==(l=n.book)&&void 0!==l&&l.photo?"".concat(H.yI,"/").concat(null===(c=D.state)||void 0===c||null===(_=c.book)||void 0===_?void 0:_.photo):"/images/library/addbook_upload.svg"),alt:"avatar"}),(0,A.jsx)("label",{htmlFor:"img",style:{cursor:"pointer"},children:(0,A.jsx)("img",{className:Z,src:"/images/library/editicon.svg",alt:"Avatar"})}),(0,A.jsx)("input",{className:k,id:"img",name:"file",onChange:function(e){var o;if(null!==(o=e.target.files)&&void 0!==o&&o.length){var t=URL.createObjectURL(e.target.files[0]);de(e.target.files[0]),be(t),ke(t),he(!0)}},type:"file",accept:"image/gif, image/jpeg, image/png"})]}),(0,A.jsx)("div",{className:w,children:(0,A.jsx)(L,{bookAddType:Q,onToggleType:function(e){"edit"===P||(Ge(e),Y((function(e){return!e})))}})}),(0,A.jsxs)("div",{className:C,children:[(0,A.jsx)(F.Z,{labelText:U("enter_book_name"),placeholder:U("book_name"),name:"bookName",value:Ze.bookName,type:"text",onChange:Le,errorShow:te.bookName,customStyleContainer:{width:"47%"}}),(0,A.jsx)(F.Z,{labelText:U("enter_book_author"),placeholder:U("book_author"),name:"author",value:Ze.author,type:"text",onChange:Le,errorShow:te.author,customStyleContainer:{width:"47%"}}),Q?(0,A.jsx)(q.Z,{labelText:U("add_book_attachment"),name:"book_attach",value:null!==(d=Ze.attachment)&&void 0!==d&&d[0]?{originalName:null===(u=Ze.attachment)||void 0===u||null===(f=u[0])||void 0===f?void 0:f.documentName,key:null===(v=Ze.attachment)||void 0===v||null===(T=v[0])||void 0===T?void 0:T.documentKey,isPdf:!0}:"",onChange:function(e){var o;null!==(o=e.target.files)&&void 0!==o&&o.length&&Ee(e.target.files[0],"book_pdf")},customStyleContainer:{width:"96%"},errorShow:te.book_attach}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(F.Z,{labelText:U("enter_book_copies"),placeholder:U("total_book_copies"),name:"totalCopies",value:Ze.totalCopies,type:"tel",onChange:Fe,customStyleContainer:{width:"47%"}}),(0,A.jsx)(F.Z,{labelText:U("enter_shelf_no"),placeholder:U("shelf_no"),name:"shellNumber",value:Ze.shellNumber,type:"text",onChange:Le,customStyleContainer:{width:"47%"}})]}),(0,A.jsx)(F.Z,{labelText:U("enter_publication"),placeholder:U("publication"),name:"publication",value:Ze.publication,type:"text",onChange:Le,customStyleContainer:{width:"47%"}}),(0,A.jsx)(O.Z,{selectLabel:U("book_lang"),selectedValue:U("enter_book_lang"),options:K,value:Ze.language,onClick:function(e){Ce((function(o){return(0,g.Z)((0,g.Z)({},o),{},{language:e})}))},errorShow:te.language,customStyleContainer:{width:"47%"}}),(0,A.jsx)(F.Z,{labelText:U("enter_book_total_pages"),placeholder:U("book_total_pages"),name:"totalPage",value:Ze.totalPage,type:"text",onChange:Fe,customStyleContainer:{width:"47%"}}),(0,A.jsx)(F.Z,{labelText:U("enter_book_pricce"),placeholder:U("book_pricce"),name:"price",value:Ze.price,type:"text",onChange:Fe,customStyleContainer:{width:"47%"}}),(0,A.jsx)(R.Z,{labelText:U("book_desc"),placeholder:U("enter_book_desc"),name:"description",value:Ze.description,type:"text",onChange:Le,customStyleContainer:{width:"96%"}})]}),(0,A.jsx)("div",{className:N,onClick:function(){var e=!1,o="Offline"===Ze.bookStatus?function(e){var o={};for(var t in e)e[t]||(o[t]="".concat(t," is required!"));return o}({bookName:Ze.bookName,author:Ze.author,language:Ze.language}):function(e){var o={};for(var t in e){var n;"book_attach"===t?(null===(n=e[t])||void 0===n?void 0:n.length)>0||(o[t]="".concat(t," is required!")):e[t]||(o[t]="".concat(t," is required!"))}return o}({bookName:Ze.bookName,author:Ze.author,language:Ze.language,book_attach:Ze.attachment});for(var t in o)if(t){e=!0;break}if(e)ne(o);else{var n;if(W(!0),"edit"===P)Ie({bid:null===D||void 0===D||null===(n=D.state)||void 0===n?void 0:n.bid,editData:Ze}).then((function(){Ae(),B(),Ge(),W(!1),V(-1)})).catch((function(){}));"create"===P&&Pe({lid:I,bookData:Ze}).then((function(){B(),W(!1),Ge(),V(-1)})).catch((function(){}))}},children:U("edit"===P?"edit_book":"add_book_")})]}),ve&&(0,A.jsx)(G.Z,{open:ve,children:(0,A.jsx)(E.Z,{setPhotoURL:ke,photoURL:ye,setFile:de,setOpenCrop:he,setProfilePhoto:be,setUpload:re,first:1,second:1})}),z&&(0,A.jsx)(p.Z,{})]})},V=t(65082),D=t(89652);var M=function(e){var o,t,b,g,x=e.carryParentState,y=e.libraryId,k=e.pageOpenAs,j=(0,r.$G)().t,S=(0,h.TH)(),Z=(0,_.YD)(),C=(0,a.Z)(Z,2),N=C[0],w=C[1],T=(0,i.useState)(1),P=(0,a.Z)(T,2),B=P[0],I=P[1],L=(0,i.useState)(""),F=(0,a.Z)(L,2),E=F[0],G=F[1],O=(0,i.useState)(!0),R=(0,a.Z)(O,2),H=R[0],q=R[1],K=(0,i.useState)(!1),M=(0,a.Z)(K,2),J=M[0],z=M[1],W=(0,i.useState)(!0),X=(0,a.Z)(W,2),$=X[0],Q=X[1],Y=(0,i.useState)([]),ee=(0,a.Z)(Y,2),oe=ee[0],te=ee[1],ne=(0,c.useSelector)((function(e){return e.libraryChange.lid})),ae=(0,i.useState)(!1),ie=(0,a.Z)(ae,2),le=ie[0],re=ie[1],se=(0,m.FL)(),ce=(0,a.Z)(se,1)[0],_e=(0,s.XJ)(),de=(0,a.Z)(_e,1)[0],ue=(0,s.O_)({data:{lid:ne||y,page:E||J?1:B,limit:10,search:E,flow:""},skip:ne?!ne:!y}),fe=ue.getBooklist,ve=ue.getBookListRefetch;(0,i.useEffect)((function(){w&&H&&I((function(e){return e+1}))}),[w,H]),(0,i.useEffect)((function(){(ne||y)&&(Q(!0),ve())}),[B,ne,y,E,ve]),(0,i.useEffect)((function(){var e,o;E?(te(null===fe||void 0===fe?void 0:fe.books),Q(!1)):J?(te((function(e){var o,t;return null===(o=(0,n.Z)(new Set(null===(t=[].concat((0,n.Z)(null===fe||void 0===fe?void 0:fe.books),(0,n.Z)(e)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===o?void 0:o.map(JSON.parse)})),Q(!1),z(!1)):null!==fe&&void 0!==fe&&fe.books?(te((function(e){var o,t;return null===(o=(0,n.Z)(new Set(null===(t=[].concat((0,n.Z)(e),(0,n.Z)(null===fe||void 0===fe?void 0:fe.books)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===o?void 0:o.map(JSON.parse)})),Q(!1)):0===(null===fe||void 0===fe||null===(o=fe.books)||void 0===o?void 0:o.length)&&Q(!1);10===(null===fe||void 0===fe||null===(e=fe.books)||void 0===e?void 0:e.length)?q(!0):q(!1)}),[null===fe||void 0===fe?void 0:fe.books]);var he=(0,i.useCallback)((0,d.debounce)((function(e){return G(e)}),500),[]),me=function(){I(1),z(!0),Q(!0),ve()};return(0,A.jsxs)(A.Fragment,{children:["book"===(null===S||void 0===S||null===(o=S.search)||void 0===o?void 0:o.substring(3))&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{className:l.searchContainerr,children:[(0,A.jsxs)("div",{className:l.searchContainer,children:[(0,A.jsx)("img",{alt:"",src:"/images/search-dept-icon.svg"}),(0,A.jsx)("input",{type:"text",onChange:function(e){return o=e.target.value,void he(o);var o},placeholder:j("search-label"),required:!0})]}),(0,A.jsx)("label",{className:l.upload_excel_file,htmlFor:"uploadExcel",style:{cursor:"pointer"},children:(0,A.jsx)("img",{src:"/images/upload-xslx-icon.svg",alt:"add student icon",title:"Upload excel file"})}),(0,A.jsx)("input",{type:"file",id:"uploadExcel",accept:".xlsx",onChange:function(e){var o;if(null!==(o=e.target.files)&&void 0!==o&&o.length){re((function(e){return!e}));var t=new FormData;t.append("file",e.target.files[0]),ce({fileUpload:t}).then((function(e){var o,t;null!==(o=e.data)&&void 0!==o&&o.imageKey?de({lid:y||ne,excelFile:{excel_file:null===(t=e.data)||void 0===t?void 0:t.imageKey}}).then((function(){re((function(e){return!e}))})).catch({}):re((function(e){return!e}))})).catch({})}},style:{display:"none"}}),"INSTITUTE"===k?(0,A.jsx)(V.Z,{carryParentState:x,activeTab:"?a=book&n=add",customStyle:{width:"19%"},children:(0,A.jsx)("div",{className:l.newBtn,style:{width:"100%"},children:j("add_new_book")})}):(0,A.jsx)(f.Z,{carryParentState:x,activeTab:"book&n=add",customStyle:{width:"19%"},children:(0,A.jsx)("div",{className:l.newBtn,style:{width:"100%"},children:j("add_new_book")})})]}),(0,A.jsx)("div",{className:l.remainingFees,children:(0,A.jsxs)("div",{className:l.remainingFeesBottom,children:[null===oe||void 0===oe?void 0:oe.map((function(e,o){return(null===oe||void 0===oe?void 0:oe.length)===o+1?(0,A.jsx)("div",{ref:N,children:(0,A.jsx)(D.Z,{book:e,carryParentState:x,viewAs:k})},null===e||void 0===e?void 0:e._id):(0,A.jsx)(D.Z,{book:e,carryParentState:x,viewAs:k},null===e||void 0===e?void 0:e._id)})),$&&(0,A.jsx)(u.Z,{status:"white"})]})})]}),"add"===(null===S||void 0===S||null===(t=S.search)||void 0===t?void 0:t.substring(10))&&(0,A.jsx)(U,{status:"create",lid:y||ne,onRefetchWhenBookCreate:me}),"edit"===(null===S||void 0===S||null===(b=S.search)||void 0===b?void 0:b.substring(10))&&(0,A.jsx)(U,{status:"edit",onRefetchWhenBookCreate:me}),"detail"===(null===S||void 0===S||null===(g=S.search)||void 0===g?void 0:g.substring(10))&&(0,A.jsx)(v.Z,{carryParentState:x,pageOpenAs:k}),le&&(0,A.jsx)(p.Z,{})]})}},78068:function(e,o,t){t.d(o,{Z:function(){return I}});var n=t(4942),a=t(1413),i=t(93433),l=t(37762),r=t(29439),s=t(72791),c="LibrarySiteInfo_navbar__TGoYj",_="LibrarySiteInfo_bgContainer__EWPif",d="LibrarySiteInfo_container__MkD7-",u="LibrarySiteInfo_containercontent__VjZpG",f="LibrarySiteInfo_containerhead__37u0P",v="LibrarySiteInfo_container_inner_content__zJwhT",h="LibrarySiteInfo_show_field__wgqa-",m="LibrarySiteInfo_update_btn__6sDL+",p="LibrarySiteInfo_add_contact_person__gpVpu",b="LibrarySiteInfo_add_contact_person_btn__XtVml",g=t(39230),x=t(16871),y=t(72952),k=t(98734),j=t(84959),S=t(98094),Z=t(91007),C=t(97655),N=t(39601),w=t(81622),T=t(78687),P=t(55581),B=t(80184),I=function(e){var o,t,I,A,L=e.lid,F=e.viewAs,E=(0,g.$G)().t,G=(0,x.s0)(),O=(0,s.useState)(!1),R=(0,r.Z)(O,2),H=R[0],q=R[1],K=(0,s.useState)({library_message:"",library_rule:"",library_image:"",library_timing:""}),U=(0,r.Z)(K,2),V=U[0],D=U[1],M=(0,s.useState)([{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}]),J=(0,r.Z)(M,2),z=J[0],W=J[1],X=(0,T.useSelector)((function(e){return e.idChange.id})),$=(0,Z.pu)(X,{skip:"INSTITUTE"===F||!X}),Q=$.data,Y=$.refetch;(0,s.useEffect)((function(){X&&Y()}),[X,Y]);var ee=(0,j.FL)(),oe=(0,r.Z)(ee,1)[0],te=(0,P.H)({lid:L,skip:!L}),ne=te.libraryGetSiteInfo,ae=te.libraryGetSiteInfoRefetch,ie=(0,P.qw)(),le=(0,r.Z)(ie,1)[0];(0,s.useEffect)((function(){L&&ae()}),[L,ae]),(0,s.useEffect)((function(){var e,o,t,n,a,i;if(null!==ne&&void 0!==ne&&ne.library_site&&(D({library_message:null===ne||void 0===ne||null===(e=ne.library_site)||void 0===e?void 0:e.library_message,library_rule:null===ne||void 0===ne||null===(o=ne.library_site)||void 0===o?void 0:o.library_rule,library_image:null===ne||void 0===ne||null===(t=ne.library_site)||void 0===t?void 0:t.library_image,library_timing:null===ne||void 0===ne||null===(n=ne.library_site)||void 0===n?void 0:n.library_timing}),null!==ne&&void 0!==ne&&null!==(a=ne.library_site)&&void 0!==a&&null!==(i=a.library_contact)&&void 0!==i&&i.length)){var r,s,c=[],_=(0,l.Z)(null===ne||void 0===ne||null===(r=ne.library_site)||void 0===r?void 0:r.library_contact);try{for(_.s();!(s=_.n()).done;){var d=s.value,u={contact_department_name:null===d||void 0===d?void 0:d.contact_department_name,contact_person_name:null===d||void 0===d?void 0:d.contact_person_name,contact_person_mobile:null===d||void 0===d?void 0:d.contact_person_mobile,contact_person_email:null===d||void 0===d?void 0:d.contact_person_email,contactId:null===d||void 0===d?void 0:d._id};c.push(u)}}catch(f){_.e(f)}finally{_.f()}W(c)}}),[null===ne||void 0===ne?void 0:ne.library_site]);var re=function(e,o){for(var t=(0,i.Z)(z),n=0;n<(null===t||void 0===t?void 0:t.length);n++)n===o&&(t[n][e.target.name]=e.target.value);W(t)},se=function(e){D((function(o){return(0,a.Z)((0,a.Z)({},o),{},(0,n.Z)({},e.target.name,e.target.value))}))},ce=function(e){q((function(e){return!e}));var o=new FormData;o.append("file",e.target.files[0]),oe({fileUpload:o}).then((function(o){var t;null!==(t=o.data)&&void 0!==t&&t.imageKey&&D((function(t){var i;return(0,a.Z)((0,a.Z)({},t),{},(0,n.Z)({},e.target.name,null===(i=o.data)||void 0===i?void 0:i.imageKey))})),q((function(e){return!e}))})).catch({})};return(0,B.jsxs)("div",{className:_,children:["INSTITUTE"===F?null:(0,B.jsx)("div",{className:c,children:(0,B.jsx)(N.default,{status:"members",profileData:null===Q||void 0===Q?void 0:Q.user,username:null===Q||void 0===Q||null===(o=Q.user)||void 0===o?void 0:o.username,name:null===Q||void 0===Q||null===(t=Q.user)||void 0===t?void 0:t.userLegalName,photoId:null===Q||void 0===Q||null===(I=Q.user)||void 0===I?void 0:I.photoId,profilePhoto:null===Q||void 0===Q||null===(A=Q.user)||void 0===A?void 0:A.profilePhoto})}),(0,B.jsxs)("div",{className:d,children:[(0,B.jsxs)("div",{className:f,children:[(0,B.jsx)("h6",{children:E("update_library_site_info")}),(0,B.jsx)("img",{src:"/images/close-post-icon.svg",alt:"",onClick:function(){G(-1)}})]}),(0,B.jsx)(S.Z,{customStyle:{width:"100%"}}),(0,B.jsx)("div",{className:u,children:(0,B.jsxs)("div",{className:v,children:[(0,B.jsx)(y.Z,{labelText:E("library_message"),placeholder:E("library_message_placeholder"),name:"library_message",value:V.library_message,type:"text",onChange:se,customStyleContainer:{width:"100%"}}),(0,B.jsx)(y.Z,{labelText:E("library_rule_and_regulation"),placeholder:E("library_rule_and_regulation_placeholder"),name:"library_rule",value:V.library_rule,type:"text",onChange:se,customStyleContainer:{width:"100%"}}),(0,B.jsxs)("div",{className:h,children:[(0,B.jsx)(w.Z,{labelText:E("library_image"),name:"library_image",value:V.library_image,onChange:ce,customStyleContainer:{width:"49.5%"}}),(0,B.jsx)(w.Z,{labelText:E("library_timing"),name:"library_timing",value:V.library_timing,onChange:ce,customStyleContainer:{width:"49.5%"}})]}),(0,B.jsxs)("div",{className:p,children:[(0,B.jsx)("h6",{children:E("add_contact_persons")}),null===z||void 0===z?void 0:z.map((function(e,o){return(0,B.jsxs)("div",{children:[(0,B.jsxs)("div",{className:h,children:[(0,B.jsx)(C.Z,{labelText:E("site_department_name"),placeholder:E("site_department_name_placeholder"),name:"contact_department_name",value:null===e||void 0===e?void 0:e.contact_department_name,type:"text",onChange:function(e){return re(e,o)},customStyleContainer:{width:"49.5%"}}),(0,B.jsx)(C.Z,{labelText:E("contact_person_name"),placeholder:E("contact_person_name_placeholder"),name:"contact_person_name",value:null===e||void 0===e?void 0:e.contact_person_name,type:"text",onChange:function(e){return re(e,o)},customStyleContainer:{width:"49.5%"}})]}),(0,B.jsxs)("div",{className:h,children:[(0,B.jsx)(C.Z,{labelText:E("contact_person_mobile"),placeholder:E("contact_person_mobile_placeholder"),name:"contact_person_mobile",value:null===e||void 0===e?void 0:e.contact_person_mobile,type:"text",onChange:function(e){return re(e,o)},customStyleContainer:{width:"49.5%"}}),(0,B.jsx)(C.Z,{labelText:E("contact_person_email"),placeholder:E("contact_person_email_placeholder"),name:"contact_person_email",value:null===e||void 0===e?void 0:e.contact_person_email,type:"email",onChange:function(e){return re(e,o)},customStyleContainer:{width:"49.5%"}})]})]},o)}))]}),(0,B.jsx)("button",{className:b,title:"Add Contact Person",onClick:function(){W((function(e){return[].concat((0,i.Z)(e),[{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}])}))},children:E("add_contact_person")}),H&&(0,B.jsx)(k.Z,{}),(0,B.jsx)("button",{className:m,onClick:function(){var e,o,t,n;q((function(e){return!e}));var i=[];(null===ne||void 0===ne||null===(e=ne.library_site)||void 0===e?void 0:e.library_image)!==V.library_image&&i.push(null===ne||void 0===ne||null===(o=ne.library_site)||void 0===o?void 0:o.library_image),(null===ne||void 0===ne||null===(t=ne.library_site)||void 0===t?void 0:t.library_timing)!==V.library_timing&&i.push(null===ne||void 0===ne||null===(n=ne.library_site)||void 0===n?void 0:n.library_timing),le({lid:L,updateSiteInfo:(0,a.Z)((0,a.Z)({},V),{},{library_contact:null===z||void 0===z?void 0:z.filter((function(e){return null!==e&&void 0!==e&&e.contactId?"":e})),edit_library_contact:null===z||void 0===z?void 0:z.filter((function(e){return null!==e&&void 0!==e&&e.contactId?e:""})),previousKey:i})}).then((function(){q((function(e){return!e}))})).catch({})},children:E("update")})]})})]})]})}},12072:function(e,o,t){t.d(o,{Z:function(){return r}});var n=t(1413),a=(t(72791),t(54164)),i="Overlay_overlay_card__PAr1h",l=t(80184),r=function(e){var o=e.children,t=e.customStyle;return(0,l.jsx)(l.Fragment,{children:a.createPortal((0,l.jsx)("div",{className:i,style:(0,n.Z)({},t),children:o}),document.getElementById("overlay"))})}},84489:function(e,o,t){var n=t(1413),a=(t(72791),t(51857)),i=t(80184);o.Z=function(e){var o=e.onClose,t=e.customStyleBackdrop;return(0,i.jsx)("div",{className:a.Z.search_backdrop,style:(0,n.Z)({},t),onClick:o})}},98094:function(e,o,t){var n=t(1413),a=(t(72791),t(55136)),i=t(80184);o.Z=function(e){var o=e.customStyle;return(0,i.jsx)("hr",{className:a.Z.universal_hr,style:(0,n.Z)({},o)})}},51857:function(e,o){o.Z={search_backdrop:"SearchHeader_search_backdrop__MsKpG",search_card:"SearchHeader_search_card__-jNcg",search_container:"SearchHeader_search_container__NS7Om",search_container_text:"SearchHeader_search_container_text__bkolR",searchIcon:"SearchHeader_searchIcon__J7cNp",search_container_back:"SearchHeader_search_container_back__ZoXdV"}},55136:function(e,o){o.Z={staff_profile_container:"StaffProfile_staff_profile_container__GG5AM",staff_header_container:"StaffProfile_staff_header_container__avRlK",staff_header_function:"StaffProfile_staff_header_function__l9cDM",staff_header_text:"StaffProfile_staff_header_text__XX8rQ",staff_header_prev:"StaffProfile_staff_header_prev__ImXKU",staff_header_next:"StaffProfile_staff_header_next__jjoJr",staff_header_close:"StaffProfile_staff_header_close__wXG-N",staff_profile_photo_name:"StaffProfile_staff_profile_photo_name__WWUV4",staff_profile_photo_index:"StaffProfile_staff_profile_photo_index__-yyx9",each_info_container:"StaffProfile_each_info_container__Mo3TB",each_field_text:"StaffProfile_each_field_text__vvAvg",each_field_text_value:"StaffProfile_each_field_text_value__k1OsE",universal_hr:"StaffProfile_universal_hr__w130J",staff_profile_photo_container:"StaffProfile_staff_profile_photo_container__rFPEV",staff_profile_photo_info:"StaffProfile_staff_profile_photo_info__CxVDi",staff_profile_photo_image:"StaffProfile_staff_profile_photo_image__5f2cC",staff_profile_photo_edit:"StaffProfile_staff_profile_photo_edit__y03dk",each_field_container:"StaffProfile_each_field_container__0qKjw",each_field:"StaffProfile_each_field__18G-9",student_attendane_container:"StaffProfile_student_attendane_container__64BII",student_attendance_heading:"StaffProfile_student_attendance_heading__0hW2K",colours:"StaffProfile_colours__-7mIV",monthColours:"StaffProfile_monthColours__A3asC",percentage:"StaffProfile_percentage__GO1RT",presentcount:"StaffProfile_presentcount__u30HH",absentcount:"StaffProfile_absentcount__d+utq",link_hold_container:"StaffProfile_link_hold_container__0dRjX",link_hold_container_hostel:"StaffProfile_link_hold_container_hostel__LcldT",card_hold_container:"StaffProfile_card_hold_container__HQQcE",admission_fees:"StaffProfile_admission_fees__MoZHM",certificate_btn_container:"StaffProfile_certificate_btn_container__jui9m",certificate_btn:"StaffProfile_certificate_btn__3NWfg",admission_actions:"StaffProfile_admission_actions__ayyJD",staff_designation_btn:"StaffProfile_staff_designation_btn__4C3h7"}}}]);
//# sourceMappingURL=6921.b76d0c06.chunk.js.map