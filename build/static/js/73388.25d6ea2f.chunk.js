(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[73388,54035,20420,31743,46876],{46876:function(e,t,n){"use strict";n.r(t);var i=n(93433),o=n(29439),l=n(72791),s=n(23441),a=n(95048),d=n(12923),r=n(763),c=n(69721),u=n(52124),v=n(5574),m=n(39230),f=n(80184),_=window.innerHeight;t.default=function(e){var t=e.onClose,n=e.title,h=e.headSelect,g=e.assignHead,x=e.disabledId,b=e.instituteId,j=e.viewAs,p=e.isMultiSelect,Z=e.selectList,k=e.onMultiSelect,y=e.onDone,N=(0,m.$G)().t,S=(0,l.useState)(1),M=(0,o.Z)(S,2),C=M[0],F=M[1],I=(0,l.useState)(!0),w=(0,o.Z)(I,2),D=w[0],L=w[1],T=(0,s.YD)(),A=(0,o.Z)(T,2),E=A[0],O=A[1],R=(0,l.useState)(""),B=(0,o.Z)(R,2),P=B[0],Y=B[1],$=l.useState([]),G=(0,o.Z)($,2),W=G[0],H=G[1],J=(0,a.v9)((function(e){return e.idChange})),z=(0,d.vI)({skip:"ADMISSION_ADMIN"===j?!b:!(null!==J&&void 0!==J&&J.id),search:{search:P,page:C,id:"ADMISSION_ADMIN"===j?b:null===J||void 0===J?void 0:J.id,limit:10}}),V=z.assignSearchStaff,U=z.assignSearchStaffRefetch;l.useEffect((function(){null!==J&&void 0!==J&&J.id&&U()}),[null===J||void 0===J?void 0:J.id,U,C]),(0,l.useEffect)((function(){O&&D&&F((function(e){return e+1}))}),[O,D]),l.useEffect((function(){null!==V&&void 0!==V&&V.staff&&H(P?null===V||void 0===V?void 0:V.staff:function(e){return function(e){for(var t=0;t<(null===e||void 0===e?void 0:e.length);t++)for(var n=t+1;n<(null===e||void 0===e?void 0:e.length);n++){var i,o;(null===(i=e[t])||void 0===i?void 0:i._id)===(null===(o=e[n])||void 0===o?void 0:o._id)&&(null===e||void 0===e||e.splice(n,1))}return e}([].concat((0,i.Z)(e),(0,i.Z)(null===V||void 0===V?void 0:V.staff)))}),10===(null===V||void 0===V?void 0:V.staff.length)?L(!0):L(!1)}),[null===V||void 0===V?void 0:V.staff]),(0,l.useEffect)((function(){P&&q()}),[P]);var q=function(){U()},K=(0,l.useCallback)((0,r.debounce)((function(e){return Y(e)}),500),[]),Q=function(e){x===(null===e||void 0===e?void 0:e._id)||(p?k(e):(h(e),"ADMISSION_ADMIN"===j||t()))};return(0,f.jsx)(v.Z,{open:g,onClose:t,children:(0,f.jsxs)("div",{style:{backgroundColor:"#FAFAFA",width:"35rem",height:"".concat(_-20,"px"),overflowX:"hidden"},children:[(0,f.jsxs)("div",{className:u.Z.assign_title,style:{width:"100%"},children:[(0,f.jsx)("h5",{children:n}),p?(0,f.jsxs)("div",{className:u.Z.is_mulitselect_container,children:[(0,f.jsx)("h6",{style:{cursor:"pointer"},onClick:y,children:N("select")}),(0,f.jsx)("img",{src:"/images/close-post-icon.svg",onClick:t,alt:"staff assign pop close icon"})]}):(0,f.jsx)("img",{src:"/images/close-post-icon.svg",onClick:t,alt:"staff assign pop close icon"})]}),(0,f.jsxs)("div",{className:u.Z.assign_search_container,children:[(0,f.jsx)("input",{type:"text",placeholder:N("search"),className:u.Z.assign_search_input,onChange:function(e){return t=e.target.value,void K(t);var t}}),(0,f.jsx)("img",{src:"/images/search-dash-icon.svg",alt:"search icon"})]}),(0,f.jsx)("div",{className:u.Z.assign_show_list,children:null===W||void 0===W?void 0:W.map((function(e,t){return(null===W||void 0===W?void 0:W.length)===t+1?(0,f.jsxs)("div",{ref:E,children:[(0,f.jsxs)("div",{className:u.Z.assign_show_list_each,style:x===e._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:function(){return Q(e)},children:[p?null!==Z&&void 0!==Z&&Z.includes(null===e||void 0===e?void 0:e._id)?(0,f.jsx)("img",{src:"/images/checkbox-icon.svg",alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,f.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/box-icon.svg",alt:"icon"}):"",(0,f.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(c.yI,"/").concat(e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,f.jsxs)("div",{className:u.Z.assign_each_paragraph,children:[(0,f.jsx)("h6",{children:"".concat(e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(e.staffLastName)}),(0,f.jsxs)("p",{children:[" ",N("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]})]}),(0,f.jsx)("hr",{})]},e._id):(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:u.Z.assign_show_list_each,style:x===e._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:function(){return Q(e)},children:[p?null!==Z&&void 0!==Z&&Z.includes(null===e||void 0===e?void 0:e._id)?(0,f.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/checkbox-icon.svg",alt:"icon"}):(0,f.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/box-icon.svg",alt:"icon"}):"",(0,f.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(c.yI,"/").concat(e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,f.jsxs)("div",{className:u.Z.assign_each_paragraph,children:[(0,f.jsx)("h6",{children:"".concat(e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(e.staffLastName)}),(0,f.jsxs)("p",{children:[" ",N("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]})]}),(0,f.jsx)("hr",{})]},e._id)}))})]})})}},67923:function(e,t,n){"use strict";var i=n(1413),o=(n(72791),n(38733)),l=n(80184);t.Z=function(e){var t=e.labelText,n=e.value,s=e.customStyleContainer,a=e.customStyleLabel,d=e.customStyleValue;return(0,l.jsxs)("div",{className:o.Z.join_form_container_view,style:(0,i.Z)({},s),children:[(0,l.jsx)("label",{className:o.Z.join_form_label_view,style:(0,i.Z)({},a),children:t}),(0,l.jsx)("h6",{className:o.Z.join_form_input_view,style:(0,i.Z)({},d),children:n})]})}},34219:function(e,t,n){"use strict";n(72791);var i=n(11575),o=n(80184);t.Z=function(e){var t=e.customStyleContainer,n=e.title,l=e.subtitle,s=e.costomTextTitleStyle,a=e.costomTextSubtitleStyle;return(0,o.jsxs)("div",{className:i.Z.empty_container,style:t,children:[n&&(0,o.jsx)("h6",{style:s,children:n}),l&&(0,o.jsx)("p",{style:a,children:l})]})}},66233:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return It}});var i=n(72791),o=n(11464),l=n(16871),s=n(95048),a="LibraryHead_departmenthead__Cbrn7",d=n(37111),r=n(93433),c=n(29439),u=n(47630),v=n(39230),m=n(23441),f=n(55581),_=n(11105),h=n(72426),g=n.n(h),x=n(69721),b=n(80184);var j=function(e){var t,n,i,o,l,s,a,d,r,c,m,f,_,h,j,p,Z,k,y,N,S,M,C,F,I,w=e.book,D=(0,v.$G)().t;return(0,b.jsxs)("div",{className:u.Z.clc_card,children:[(0,b.jsxs)("div",{className:u.Z.clc_card_inner,children:[(0,b.jsx)("img",{className:u.Z.bookItemImg,src:null!==w&&void 0!==w&&null!==(t=w.book)&&void 0!==t&&t.photo?"".concat(x.yI,"/").concat(null===w||void 0===w||null===(n=w.book)||void 0===n?void 0:n.photo):"/images/defaultBook.png"}),(0,b.jsxs)("div",{className:u.Z.clc_card_inner_text,children:[(0,b.jsxs)("h6",{children:[" ",(null===w||void 0===w||null===(i=w.book)||void 0===i||null===(o=i.bookName)||void 0===o?void 0:o.length)>=18?"".concat(null===w||void 0===w||null===(l=w.book)||void 0===l||null===(s=l.bookName)||void 0===s?void 0:s.match(/.{1,18}/g)[0]," ..."):null===w||void 0===w||null===(a=w.book)||void 0===a?void 0:a.bookName]}),(0,b.jsxs)("p",{children:[D("accession_number")," ",": ",null!==(d=null===w||void 0===w||null===(r=w.book)||void 0===r?void 0:r.accession_number)&&void 0!==d?d:""]}),(0,b.jsxs)("p",{children:[D("issue_date"),": ",g()(null===w||void 0===w?void 0:w.issuedDate).format("Do MMM YYYY")," ",", ",g()(null===w||void 0===w?void 0:w.issuedDate).format("LT")]})]})]}),null!==w&&void 0!==w&&w.staff_member?(0,b.jsxs)("div",{className:u.Z.clc_card_inner,children:[(0,b.jsx)("img",{className:u.Z.bookItemImg,src:null!==w&&void 0!==w&&null!==(c=w.staff_member)&&void 0!==c&&c.staffProfilePhoto?"".concat(x.yI,"/").concat(null===w||void 0===w||null===(m=w.staff_member)||void 0===m?void 0:m.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,b.jsxs)("div",{className:u.Z.clc_card_inner_text,children:[(0,b.jsx)("h6",{children:"".concat(null===w||void 0===w||null===(f=w.staff_member)||void 0===f?void 0:f.staffFirstName," ").concat(null!==w&&void 0!==w&&null!==(_=w.staff_member)&&void 0!==_&&_.staffMiddleName?null===w||void 0===w||null===(h=w.staff_member)||void 0===h?void 0:h.staffMiddleName:""," ").concat(null===w||void 0===w||null===(j=w.staff_member)||void 0===j?void 0:j.staffLastName)}),(0,b.jsxs)("p",{children:[D("index_number")," ",": ",null!==(p=null===w||void 0===w||null===(Z=w.staff_member)||void 0===Z?void 0:Z.staffROLLNO)&&void 0!==p?p:""]}),(0,b.jsxs)("p",{children:[D("rcv_date"),": ",g()(null===w||void 0===w?void 0:w.createdAt).format("Do MMM YYYY")," ",", ",g()(null===w||void 0===w?void 0:w.createdAt).format("LT")]})]})]}):(0,b.jsxs)("div",{className:u.Z.clc_card_inner,children:[(0,b.jsx)("img",{className:u.Z.bookItemImg,src:null!==w&&void 0!==w&&null!==(k=w.member)&&void 0!==k&&k.studentProfilePhoto?"".concat(x.yI,"/").concat(null===w||void 0===w||null===(y=w.member)||void 0===y?void 0:y.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,b.jsxs)("div",{className:u.Z.clc_card_inner_text,children:[(0,b.jsx)("h6",{children:"".concat(null===w||void 0===w||null===(N=w.member)||void 0===N?void 0:N.studentFirstName," ").concat(null!==w&&void 0!==w&&null!==(S=w.member)&&void 0!==S&&S.studentMiddleName?null===w||void 0===w||null===(M=w.member)||void 0===M?void 0:M.studentMiddleName:""," ").concat(null===w||void 0===w||null===(C=w.member)||void 0===C?void 0:C.studentLastName)}),(0,b.jsxs)("p",{children:[D("gr_number")," ",": ",null!==(F=null===w||void 0===w||null===(I=w.member)||void 0===I?void 0:I.studentGRNO)&&void 0!==F?F:""]}),(0,b.jsxs)("p",{children:[D("rcv_date"),": ",g()(null===w||void 0===w?void 0:w.createdAt).format("Do MMM YYYY")," ",", ",g()(null===w||void 0===w?void 0:w.createdAt).format("LT")]})]})]})]})},p=n(763);var Z=function(){var e=(0,v.$G)().t,t=(0,s.v9)((function(e){return e.libraryChange.lid})),n=(0,i.useState)(""),o=(0,c.Z)(n,2),l=o[0],a=o[1],d=(0,m.YD)({skip:!l}),h=(0,c.Z)(d,2),g=h[0],x=h[1],Z=(0,i.useState)(1),k=(0,c.Z)(Z,2),y=k[0],N=k[1],S=(0,i.useState)([]),M=(0,c.Z)(S,2),C=M[0],F=M[1],I=(0,i.useState)(!0),w=(0,c.Z)(I,2),D=w[0],L=w[1],T=(0,i.useState)(!0),A=(0,c.Z)(T,2),E=A[0],O=A[1],R=(0,f.mU)({data:{lid:t,page:y,limit:10,search:l},skip:!t}),B=R.getCollectedBooklist,P=R.getCollectedBookListRefetch;(0,i.useEffect)((function(){x&&D&&N((function(e){return e+1}))}),[x,D]),(0,i.useEffect)((function(){t&&(O(!0),P())}),[y,t,l,P]),(0,i.useEffect)((function(){var e,t;null!==B&&void 0!==B&&B.collected?l?(F(null===B||void 0===B?void 0:B.collected),O(!1)):(F((function(e){var t,n;return null===(t=(0,r.Z)(new Set(null===(n=[].concat((0,r.Z)(e),(0,r.Z)(null===B||void 0===B?void 0:B.collected)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),O(!1)):0===(null===B||void 0===B||null===(e=B.collected)||void 0===e?void 0:e.length)&&O(!1),10===(null===B||void 0===B||null===(t=B.collected)||void 0===t?void 0:t.length)?L(!0):L(!1)}),[null===B||void 0===B?void 0:B.collected]);var Y=(0,i.useCallback)((0,p.debounce)((function(e){return a(e)}),500),[]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:u.Z.searchContainerr,children:(0,b.jsxs)("div",{className:u.Z.searchContainer,children:[(0,b.jsx)("img",{alt:"",src:"/images/search-dept-icon.svg"}),(0,b.jsx)("input",{type:"text",placeholder:e("search-label"),onChange:function(e){return t=e.target.value,void Y(t);var t}})]})}),(0,b.jsx)("div",{className:u.Z.remainingFees,children:(0,b.jsx)("div",{className:u.Z.remainingFeesBottom,children:(0,b.jsxs)("div",{className:u.Z.itemsContainer,children:[null===C||void 0===C?void 0:C.map((function(e,t){return(null===C||void 0===C?void 0:C.length)===t+1?(0,b.jsx)("div",{ref:g,style:{width:"100%"},children:(0,b.jsx)(j,{book:e,status:"memberdetail"})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(j,{book:e,status:"memberdetail"},null===e||void 0===e?void 0:e._id)})),E&&(0,b.jsx)(_.Z,{}),!E&&0===(null===C||void 0===C?void 0:C.length)&&(0,b.jsx)("div",{className:u.Z.noData,children:(0,b.jsx)("img",{src:"/images/nodata.jpg",alt:""})})]})})})]})},k=n(86864),y=n(25629),N=n(1413),S={issue_modal:"AssignBookMember_issue_modal__CsMlG",issueModalbody:"AssignBookMember_issueModalbody__zmjXk",issueModaltop:"AssignBookMember_issueModaltop__FEn0H",issuedBookItem:"AssignBookMember_issuedBookItem__O6ige",imgcontainer:"AssignBookMember_imgcontainer__SNcot",issuedBookItemMidright:"AssignBookMember_issuedBookItemMidright__rHLh0",issuedBookItemBottomLeft:"AssignBookMember_issuedBookItemBottomLeft__iGaQa",textt:"AssignBookMember_textt__asvMa",issueModaltopback:"AssignBookMember_issueModaltopback__mSNrr",issueModaltopsearch:"AssignBookMember_issueModaltopsearch__LOzxC",dash:"AssignBookMember_dash__93bg2",selectedText:"AssignBookMember_selectedText__ClVj+",itembookcontainer:"AssignBookMember_itembookcontainer__p1Vvj",itembookk:"AssignBookMember_itembookk__peZln",itembookcursor:"AssignBookMember_itembookcursor__tmbUD",issueBookk:"AssignBookMember_issueBookk__XKvQd",bookmargin:"AssignBookMember_bookmargin__vGsHh",bluetick:"AssignBookMember_bluetick__MsUzs",issuedDate:"AssignBookMember_issuedDate__lwPu+",issuebtn:"AssignBookMember_issuebtn__Dojwp",searchContainerr:"AssignBookMember_searchContainerr__yC1ub",searchContainer:"AssignBookMember_searchContainer__yk8R1",closeIconContainer:"AssignBookMember_closeIconContainer__ZHAU4",closeIcon:"AssignBookMember_closeIcon__pv9rs",author:"AssignBookMember_author__d7utn",authorLabel:"AssignBookMember_authorLabel__iKeFN"},M=n(36665),C=n(98734),F=n(6245),I=function(e){var t=e.onSearch,n=e.onBack,o=e.step,l=(0,v.$G)().t,s=(0,i.useState)(!1),a=(0,c.Z)(s,2),d=a[0],r=a[1],u=(0,i.useCallback)((0,p.debounce)((function(e){return t(e)}),500),[]);return(0,b.jsx)("div",{className:S.issueModaltop,children:d?(0,b.jsxs)("div",{className:S.searchContainerr,children:[(0,b.jsxs)("div",{className:S.searchContainer,children:[(0,b.jsx)("img",{alt:"",src:"/images/search-dept-icon.svg"}),(0,b.jsx)("input",{type:"text",placeholder:l("search-label"),onChange:function(e){u(e.target.value)}})]}),(0,b.jsx)("div",{className:S.closeIconContainer,children:(0,b.jsx)("img",{onClick:function(){t(""),r((function(e){return!e}))},className:S.closeIcon,src:"/images/user_signup/close.svg",alt:""})})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("img",{className:S.issueModaltopback,src:"/images/back.svg",alt:"",onClick:n}),(0,b.jsx)("h6",{className:S.issueModaltoph6,children:l(0===o?"select_member":1===o?"select_book":"issued_preview")}),2!==o&&(0,b.jsx)("img",{onClick:function(){r((function(e){return!e}))},className:S.issueModaltopsearch,src:"/images/search-icon.svg",alt:""})]})})};var w=function(e){var t=e.student,n=e.onAddMember,i=e.isStaff,o=(0,v.$G)().t;return(0,b.jsxs)("div",{className:S.issuedBookItem,onClick:function(){return n(t)},children:[(0,b.jsx)("div",{className:S.issuedBookItemMidleft,children:(0,b.jsx)("div",{className:S.imgcontainer,children:i?(0,b.jsx)("img",{src:null!==t&&void 0!==t&&t.staffProfilePhoto?"".concat(x.yI,"/").concat(null===t||void 0===t?void 0:t.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""}):(0,b.jsx)("img",{src:null!==t&&void 0!==t&&t.studentProfilePhoto?"".concat(x.yI,"/").concat(null===t||void 0===t?void 0:t.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""})})}),(0,b.jsx)("div",{className:S.issuedBookItemMidright,children:i?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h6",{children:"".concat(null===t||void 0===t?void 0:t.staffFirstName," ").concat(null!==t&&void 0!==t&&t.staffMiddleName?null===t||void 0===t?void 0:t.staffMiddleName:""," ").concat(null===t||void 0===t?void 0:t.staffLastName)}),(0,b.jsxs)("p",{children:[o("index")," ",null===t||void 0===t?void 0:t.staffROLLNO]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h6",{children:"".concat(null===t||void 0===t?void 0:t.studentFirstName," ").concat(null!==t&&void 0!==t&&t.studentMiddleName?null===t||void 0===t?void 0:t.studentMiddleName:""," ").concat(null===t||void 0===t?void 0:t.studentLastName)}),(0,b.jsxs)("p",{children:[o("gr_no")," ",null===t||void 0===t?void 0:t.studentGRNO]})]})})]})},D=function(e){var t=e.instituteId,n=e.onAddMember,o=e.onBack,l=e.step,s=(0,i.useState)(""),a=(0,c.Z)(s,2),d=a[0],u=a[1],v=(0,m.YD)({skip:d}),f=(0,c.Z)(v,2),h=f[0],g=f[1],x=(0,i.useState)([]),j=(0,c.Z)(x,2),p=j[0],Z=j[1],k=(0,i.useState)(1),y=(0,c.Z)(k,2),N=y[0],S=y[1],M=(0,i.useState)(!0),C=(0,c.Z)(M,2),D=C[0],L=C[1],T=(0,i.useState)(!0),A=(0,c.Z)(T,2),E=A[0],O=A[1],R=(0,F.Mu)({data:{id:t,page:N,limit:10},skip:!t}),B=R.approveStudentList,P=R.approveStudentListRefetch,Y=(0,F.iR)({data:{search:d,page:1,limit:10,id:t},skip:!d}),$=Y.searchStudent,G=Y.searchStudentRefetch;(0,i.useEffect)((function(){g&&D&&S((function(e){return e+1}))}),[g,D]),(0,i.useEffect)((function(){d&&t&&(O(!0),G())}),[d,t,N,G]),(0,i.useEffect)((function(){t&&(O(!0),P())}),[t,N,P]),(0,i.useEffect)((function(){var e,t,n;d?null!==$&&void 0!==$&&$.student?(Z(1===N?null===$||void 0===$?void 0:$.student:function(e){var t,n;return null===(t=(0,r.Z)(new Set(null===(n=[].concat((0,r.Z)(e),(0,r.Z)(null===$||void 0===$?void 0:$.student)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)}),O(!1)):0===(null===$||void 0===$||null===(t=$.student)||void 0===t?void 0:t.length)&&O(!1):null!==B&&void 0!==B&&B.studentIns?(Z(1===N?null===B||void 0===B?void 0:B.studentIns:function(e){var t,n;return null===(t=(0,r.Z)(new Set(null===(n=[].concat((0,r.Z)(e),(0,r.Z)(null===B||void 0===B?void 0:B.studentIns)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)}),O(!1)):0===(null===B||void 0===B||null===(n=B.studentIns)||void 0===n?void 0:n.length)&&O(!1);10===(null===B||void 0===B||null===(e=B.studentIns)||void 0===e?void 0:e.length)?L(!0):L(!1)}),[null===B||void 0===B?void 0:B.studentIns,null===$||void 0===$?void 0:$.student]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(I,{onBack:o,step:l,onSearch:function(e){S((function(e){return 1})),u(e)}}),null===p||void 0===p?void 0:p.map((function(e,t){return(null===p||void 0===p?void 0:p.length)===t+1?(0,b.jsx)("div",{ref:h,children:(0,b.jsx)(w,{student:e,onAddMember:n})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(w,{student:e,onAddMember:n},null===e||void 0===e?void 0:e._id)})),E&&(0,b.jsx)(_.Z,{status:"white"})]})};var L=function(e){var t,n=e.book,i=e.status,o=e.onAddBook,l=(0,v.$G)().t;return(0,b.jsxs)("div",{className:"issueBook"!==i?"".concat(S.itembookk," ").concat(S.itembookcursor):S.itembookk,onClick:function(){"selectbook"===i&&o(n)},children:["issueBook"===i&&(0,b.jsx)("img",{className:S.bluetick,src:"/images/library/bluetick.svg",alt:"verified"}),(0,b.jsx)("p",{className:S.selectedText,children:null===n||void 0===n?void 0:n.language}),(0,b.jsx)("img",{src:null!==n&&void 0!==n&&n.photo?"".concat(x.yI,"/").concat(null===n||void 0===n?void 0:n.photo):"/images/defaultBook.png",alt:""}),(0,b.jsxs)("div",{className:S.textt,children:[(0,b.jsx)("h6",{children:null===n||void 0===n?void 0:n.bookName}),(0,b.jsxs)("p",{className:S.author,children:[null===n||void 0===n?void 0:n.author," \xa0",(0,b.jsx)("span",{className:S.authorLabel,children:l("author")})]}),(0,b.jsxs)("p",{className:S.author,children:[l("accession_number")," "," : ",null!==(t=null===n||void 0===n?void 0:n.accession_number)&&void 0!==t?t:""," "]})]})]})},T=function(e){var t=e.member,n=e.onAddBook,o=e.onBack,l=e.step,a=e.isView,d=e.role,u=e.mid,h=(0,v.$G)().t,g=(0,m.YD)(),j=(0,c.Z)(g,2),p=j[0],Z=j[1],k=(0,i.useState)(1),y=(0,c.Z)(k,2),N=y[0],M=y[1],C=(0,i.useState)(!0),F=(0,c.Z)(C,2),w=F[0],D=F[1],T=(0,i.useState)(!0),A=(0,c.Z)(T,2),E=A[0],O=A[1],R=(0,i.useState)([]),B=(0,c.Z)(R,2),P=B[0],Y=B[1],$=(0,i.useState)(""),G=(0,c.Z)($,2),W=G[0],H=G[1],J=(0,s.v9)((function(e){return e.libraryChange})),z=(0,f.O_)({data:{lid:null===J||void 0===J?void 0:J.lid,page:N,limit:10,search:W,flow:"ISSUE_BOOK",role:d,mid:u},skip:null!==J&&void 0!==J&&J.lid?!(null!==J&&void 0!==J&&J.lid):!u}),V=z.getBooklist,U=z.getBookListRefetch;(0,i.useEffect)((function(){(null!==J&&void 0!==J&&J.lid||u||d)&&(O(!0),U())}),[null===J||void 0===J?void 0:J.lid,u,d,N,W,U]),(0,i.useEffect)((function(){Z&&w&&M((function(e){return e+1}))}),[Z,w]),(0,i.useEffect)((function(){var e,t;W?(Y(null===V||void 0===V?void 0:V.books),O(!1)):null!==V&&void 0!==V&&V.books?(Y(1===N?null===V||void 0===V?void 0:V.books:function(e){var t,n;return null===(t=(0,r.Z)(new Set(null===(n=[].concat((0,r.Z)(e),(0,r.Z)(null===V||void 0===V?void 0:V.books)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)}),O(!1)):0===(null===V||void 0===V||null===(t=V.books)||void 0===t?void 0:t.length)&&O(!1);10===(null===V||void 0===V||null===(e=V.books)||void 0===e?void 0:e.length)?D(!0):D(!1)}),[null===V||void 0===V?void 0:V.books]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(I,{onBack:o,step:l,onSearch:function(e){M((function(e){return 1})),H(e)}}),(0,b.jsxs)("div",{className:S.selectbook,children:[(0,b.jsxs)("div",{className:S.issuedBookItem,children:[(0,b.jsx)("p",{className:S.selectedText,children:h("selected")}),(0,b.jsx)("div",{className:S.issuedBookItemMidleft,children:(0,b.jsx)("div",{className:S.imgcontainer,children:"STAFF"===a?(0,b.jsx)("img",{src:null!==t&&void 0!==t&&t.staffProfilePhoto?"".concat(x.yI,"/").concat(null===t||void 0===t?void 0:t.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""}):(0,b.jsx)("img",{src:null!==t&&void 0!==t&&t.studentProfilePhoto?"".concat(x.yI,"/").concat(null===t||void 0===t?void 0:t.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""})})}),(0,b.jsx)("div",{className:S.issuedBookItemMidright,children:"STAFF"===a?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h6",{children:"".concat(null===t||void 0===t?void 0:t.staffFirstName," ").concat(null!==t&&void 0!==t&&t.staffMiddleName?null===t||void 0===t?void 0:t.staffMiddleName:""," ").concat(null===t||void 0===t?void 0:t.staffLastName)}),(0,b.jsxs)("p",{children:[h("index")," ",null===t||void 0===t?void 0:t.staffROLLNO]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h6",{children:"".concat(null===t||void 0===t?void 0:t.studentFirstName," ").concat(null!==t&&void 0!==t&&t.studentMiddleName?null===t||void 0===t?void 0:t.studentMiddleName:""," ").concat(null===t||void 0===t?void 0:t.studentLastName)}),(0,b.jsxs)("p",{children:[h("gr_no")," ",null===t||void 0===t?void 0:t.studentGRNO]})]})})]}),(0,b.jsx)("div",{className:S.dash}),(0,b.jsxs)("div",{className:S.itembookcontainer,children:[null===P||void 0===P?void 0:P.map((function(e,t){return(null===P||void 0===P?void 0:P.length)===t+1?(0,b.jsx)("div",{ref:p,children:(0,b.jsx)(L,{status:"selectbook",book:e,onAddBook:n})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(L,{status:"selectbook",book:e,onAddBook:n},null===e||void 0===e?void 0:e._id)})),E&&(0,b.jsx)(_.Z,{status:"white"})]})]})]})},A=n(4942),E=n(26071),O=n(20659),R=n(61055),B=function(e){var t=e.member,n=e.book,o=e.onBack,l=e.step,s=e.onIssueBook,a=e.isView,d=(0,v.$G)().t,r=(0,i.useState)({for_days:7,day_overdue_charge:""}),u=(0,c.Z)(r,2),m=u[0],f=u[1],_=(0,i.useState)("ONE_WEEK"),h=(0,c.Z)(_,2),j=h[0],p=h[1],Z=function(e){f((function(t){return(0,N.Z)((0,N.Z)({},t),{},(0,A.Z)({},e.target.name,e.target.value))}))},k=function(e){p(e),f((function(t){return(0,N.Z)((0,N.Z)({},t),{},{for_days:"ONE_WEEK"===e?7:"ONE_MONTH"===e?30:""})}))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(I,{onBack:o,step:l}),(0,b.jsxs)("div",{className:S.issueBookk,children:[(0,b.jsx)("h6",{children:d("member")}),(0,b.jsxs)("div",{className:"".concat(S.itembookk," ").concat(S.bookmargin),children:[(0,b.jsx)("img",{className:S.bluetick,src:"/images/library/bluetick.svg",alt:"verified"}),(0,b.jsx)("div",{className:S.issuedBookItemMidleft,children:(0,b.jsx)("div",{className:S.imgcontainer,children:"STAFF"===a?(0,b.jsx)("img",{src:null!==t&&void 0!==t&&t.staffProfilePhoto?"".concat(x.yI,"/").concat(null===t||void 0===t?void 0:t.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""}):(0,b.jsx)("img",{src:null!==t&&void 0!==t&&t.studentProfilePhoto?"".concat(x.yI,"/").concat(null===t||void 0===t?void 0:t.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""})})}),(0,b.jsx)("div",{className:S.issuedBookItemMidright,children:"STAFF"===a?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h6",{children:"".concat(null===t||void 0===t?void 0:t.staffFirstName," ").concat(null!==t&&void 0!==t&&t.staffMiddleName?null===t||void 0===t?void 0:t.staffMiddleName:""," ").concat(null===t||void 0===t?void 0:t.staffLastName)}),(0,b.jsxs)("p",{children:[d("index")," ",null===t||void 0===t?void 0:t.staffROLLNO]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h6",{children:"".concat(null===t||void 0===t?void 0:t.studentFirstName," ").concat(null!==t&&void 0!==t&&t.studentMiddleName?null===t||void 0===t?void 0:t.studentMiddleName:""," ").concat(null===t||void 0===t?void 0:t.studentLastName)}),(0,b.jsxs)("p",{children:[d("gr_no")," ",null===t||void 0===t?void 0:t.studentGRNO]})]})})]}),(0,b.jsx)("h6",{children:d("book")}),(0,b.jsx)(L,{book:n,status:"issueBook"}),(0,b.jsxs)("h6",{className:S.issuedDate,children:[d("issue_date")," : ",(0,b.jsx)("span",{children:g()().format("Do MMM YYYY")})]}),"STAFF"!==a?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(O.Z,{label:"duration",children:null===P||void 0===P?void 0:P.map((function(e){return(0,b.jsx)(E.Z,{tile:e,onTile:k,activeTile:j},null===e||void 0===e?void 0:e.key)}))}),"OTHER"===j?(0,b.jsx)(R.Z,{label:d("how_many_days"),placeholder:d("how_many_days_placeholder"),name:"for_days",value:m.for_days,type:"text",onChange:Z}):null,(0,b.jsx)(R.Z,{label:d("late_fees_per_day"),placeholder:d("late_fees_per_day_placeholder"),name:"day_overdue_charge",value:m.day_overdue_charge,type:"text",onChange:Z,customFormInputContainer:{marginBottom:"1rem"}})]}):null,"STAFF"===a?(0,b.jsx)("button",{className:S.issuebtn,onClick:s,children:d("issue_book")}):(0,b.jsx)("button",{className:S.issuebtn,onClick:function(){s((0,N.Z)({},m))},children:d("issue_book")})]})]})},P=[{key:"ONE_WEEK",name:"one_week"},{key:"ONE_MONTH",name:"one_months"},{key:"OTHER",name:"other"}],Y=n(12923),$=function(e){var t=e.instituteId,n=e.onAddMember,o=e.onBack,l=e.step,s=(0,i.useState)(""),a=(0,c.Z)(s,2),d=a[0],u=a[1],v=(0,m.YD)({skip:d}),f=(0,c.Z)(v,2),h=f[0],g=f[1],x=(0,i.useState)([]),j=(0,c.Z)(x,2),p=j[0],Z=j[1],k=(0,i.useState)(1),y=(0,c.Z)(k,2),N=y[0],S=y[1],M=(0,i.useState)(!0),C=(0,c.Z)(M,2),F=C[0],D=C[1],L=(0,i.useState)(!0),T=(0,c.Z)(L,2),A=T[0],E=T[1],O=(0,Y.vI)({skip:!t,search:{search:d,page:N,id:t,limit:10}}),R=O.assignSearchStaff,B=O.assignSearchStaffRefetch;(0,i.useEffect)((function(){g&&F&&S((function(e){return e+1}))}),[g,F]),(0,i.useEffect)((function(){t&&(E(!0),B())}),[d,t,N,B]),(0,i.useEffect)((function(){var e,t,n;d?null!==R&&void 0!==R&&R.staff?(Z(null===R||void 0===R?void 0:R.staff),E(!1)):0===(null===R||void 0===R||null===(t=R.staff)||void 0===t?void 0:t.length)&&E(!1):null!==R&&void 0!==R&&R.staff?(Z(1===N?null===R||void 0===R?void 0:R.staff:function(e){var t,n;return null===(t=(0,r.Z)(new Set(null===(n=[].concat((0,r.Z)(e),(0,r.Z)(null===R||void 0===R?void 0:R.staff)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)}),E(!1)):0===(null===R||void 0===R||null===(n=R.staff)||void 0===n?void 0:n.length)&&E(!1);10===(null===R||void 0===R||null===(e=R.staff)||void 0===e?void 0:e.length)?D(!0):D(!1)}),[null===R||void 0===R?void 0:R.staff]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(I,{onBack:o,step:l,onSearch:function(e){S((function(e){return 1})),u(e)}}),null===p||void 0===p?void 0:p.map((function(e,t){return(null===p||void 0===p?void 0:p.length)===t+1?(0,b.jsx)("div",{ref:h,children:(0,b.jsx)(w,{student:e,onAddMember:n,isStaff:!0})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(w,{student:e,onAddMember:n,isStaff:!0},null===e||void 0===e?void 0:e._id)})),A&&(0,b.jsx)(_.Z,{status:"white"})]})},G=function(e){var t=e.onClose,n=e.instituteId,o=e.onRefetchWhenBookIssue,l=e.isView,a=e.role,d=e.mid,r=(0,s.v9)((function(e){return e.libraryChange})),u=(0,i.useState)(0),v=(0,c.Z)(u,2),m=v[0],_=v[1],h=(0,i.useState)(!1),g=(0,c.Z)(h,2),x=g[0],j=g[1],p=(0,i.useState)(""),Z=(0,c.Z)(p,2),k=Z[0],y=Z[1],F=(0,i.useState)(""),I=(0,c.Z)(F,2),w=I[0],L=I[1],A=(0,f.EI)(),E=(0,c.Z)(A,1)[0],O=(0,f.n9)(),R=(0,c.Z)(O,1)[0],P=function(){0===m?t():_(1===m?0:1)},Y=function(e){y(e),_(1)};return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(M.Z,{onClose:P,children:[(0,b.jsxs)("div",{className:S.issue_modal,children:[0===m&&("STAFF"===l?(0,b.jsx)($,{instituteId:n,onAddMember:Y,step:m,onBack:P}):(0,b.jsx)(D,{instituteId:n,onAddMember:Y,step:m,onBack:P})),1===m&&(0,b.jsx)(T,{onAddBook:function(e){L(e),_(2)},step:m,onBack:P,member:k,isView:l,role:a,mid:d}),2===m&&(0,b.jsx)(B,{step:m,onBack:P,book:w,member:k,onIssueBook:function(e){null!==r&&void 0!==r&&r.lid&&null!==k&&void 0!==k&&k._id&&null!==w&&void 0!==w&&w._id&&(j(!0),"STAFF"===l?R({lid:null===r||void 0===r?void 0:r.lid,issueData:{memberId:null===k||void 0===k?void 0:k._id,bookId:null===w||void 0===w?void 0:w._id,flow:"Normal"}}).then((function(){o(),t(!1),j(!1)})).catch((function(){})):E({lid:null===r||void 0===r?void 0:r.lid,issueData:(0,N.Z)({memberId:null===k||void 0===k?void 0:k._id,bookId:null===w||void 0===w?void 0:w._id,flow:"Normal"},e)}).then((function(){o(),t(!1),j(!1)})).catch((function(){})))},isView:l})]}),x&&(0,b.jsx)(C.Z,{})]})})};var W=function(e){var t=e.insId,n=e.role,o=e.mid,l=(0,v.$G)().t,a=(0,i.useState)(""),d=(0,c.Z)(a,2),u=d[0],h=d[1],g=(0,m.YD)({skip:!u}),x=(0,c.Z)(g,2),j=x[0],Z=x[1],N=(0,i.useState)(1),S=(0,c.Z)(N,2),M=S[0],C=S[1],F=(0,i.useState)([]),I=(0,c.Z)(F,2),w=I[0],D=I[1],L=(0,i.useState)(!0),T=(0,c.Z)(L,2),A=T[0],E=T[1],O=(0,i.useState)(!0),R=(0,c.Z)(O,2),B=R[0],P=R[1],Y=(0,i.useState)(!1),$=(0,c.Z)(Y,2),W=$[0],H=$[1],J=(0,i.useState)(!1),z=(0,c.Z)(J,2),V=z[0],U=z[1],q=(0,i.useState)(!1),K=(0,c.Z)(q,2),Q=K[0],X=K[1],ee=(0,s.v9)((function(e){return e.libraryChange.lid})),te=(0,f.aA)({data:{lid:ee,page:M,limit:10,search:u},skip:!ee}),ne=te.getIssuedBooklist,ie=te.getIssuedBookListRefetch;(0,i.useEffect)((function(){Z&&A&&C((function(e){return e+1}))}),[Z,A]),(0,i.useEffect)((function(){ee&&(P(!0),ie())}),[M,ee,u,ie]),(0,i.useEffect)((function(){var e;if(null!==ne&&void 0!==ne&&ne.issues)if(u)D(null===ne||void 0===ne?void 0:ne.issues),P(!1);else if(W)D(null===ne||void 0===ne?void 0:ne.issues),P(!1),H(!1);else{var t;null!==ne&&void 0!==ne&&ne.issues?(D((function(e){var t,n;return null===(t=(0,r.Z)(new Set(null===(n=[].concat((0,r.Z)(e),(0,r.Z)(null===ne||void 0===ne?void 0:ne.issues)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),P(!1)):0===(null===ne||void 0===ne||null===(t=ne.issues)||void 0===t?void 0:t.length)&&P(!1)}10===(null===ne||void 0===ne||null===(e=ne.issues)||void 0===e?void 0:e.length)?E(!0):E(!1)}),[null===ne||void 0===ne?void 0:ne.issues]);var oe=(0,i.useCallback)((0,p.debounce)((function(e){return h(e)}),500),[]),le=function(){C(1),H(!0),P(!0),ie()};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:k.Z.searchContainerr,children:[(0,b.jsxs)("div",{className:k.Z.searchContainer,children:[(0,b.jsx)("img",{alt:"",src:"/images/search-dept-icon.svg"}),(0,b.jsx)("input",{type:"text",placeholder:l("search-label"),onChange:function(e){return t=e.target.value,void oe(t);var t}})]}),(0,b.jsx)("div",{className:k.Z.newBtn,onClick:function(){return U(!0)},children:l("issue_book")}),(0,b.jsx)("div",{className:k.Z.newBtn,onClick:function(){return X(!0)},children:l("issue_staff_book")})]}),(0,b.jsx)("div",{className:k.Z.remainingFees,children:(0,b.jsx)("div",{className:k.Z.remainingFeesBottom,children:(0,b.jsxs)("div",{className:k.Z.itemsContainer,children:[null===w||void 0===w?void 0:w.map((function(e,t){var n,i;return(null===w||void 0===w?void 0:w.length)===t+1?(0,b.jsx)("div",{ref:j,className:k.Z.itemsRef,children:(0,b.jsx)(y.Z,{book:e,member:null!==(n=null===e||void 0===e?void 0:e.member)&&void 0!==n?n:null===e||void 0===e?void 0:e.staff_member,issueId:null===e||void 0===e?void 0:e._id,onRefetchWhenBookCollect:le})},t):(0,b.jsx)("div",{className:k.Z.itemsRef,children:(0,b.jsx)(y.Z,{book:e,member:null!==(i=null===e||void 0===e?void 0:e.member)&&void 0!==i?i:null===e||void 0===e?void 0:e.staff_member,issueId:null===e||void 0===e?void 0:e._id,onRefetchWhenBookCollect:le})},t)})),B&&(0,b.jsx)(_.Z,{}),!B&&0===(null===w||void 0===w?void 0:w.length)&&(0,b.jsx)("div",{className:k.Z.noData,children:(0,b.jsx)("img",{src:"/images/nodata.jpg",alt:""})})]})})}),V&&(0,b.jsx)(G,{instituteId:t,onClose:function(){return U(!1)},onRefetchWhenBookIssue:le,role:n,mid:o}),Q&&(0,b.jsx)(G,{instituteId:t,onClose:function(){return X(!1)},onRefetchWhenBookIssue:le,isView:"STAFF",role:n,mid:o})]})},H=n(52398),J=n(61969);var z=function(e){var t=e.index,n=e.member,i=e.setMid,o=e.mid,l=(0,v.$G)().t;return(0,b.jsxs)("div",{className:(null===n||void 0===n?void 0:n._id)===o?"".concat(J.Z.memberItem," ").concat(J.Z.memberItemactive):J.Z.memberItem,onClick:function(){return i(null===n||void 0===n?void 0:n._id)},children:[(0,b.jsx)("div",{className:J.Z.issuedBookItemMidleft,children:(0,b.jsx)("div",{className:J.Z.imgcontainer,children:(0,b.jsx)("img",{src:"1"!==(null===n||void 0===n?void 0:n.photoId)?"".concat(x.yI,"/").concat(null===n||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""})})}),(0,b.jsxs)("div",{className:J.Z.issuedBookItemMidright,children:[(0,b.jsx)("h6",{children:"".concat(null===n||void 0===n?void 0:n.studentFirstName," ").concat(null!==n&&void 0!==n&&n.studentMiddleName?null===n||void 0===n?void 0:n.studentMiddleName:""," ").concat(null===n||void 0===n?void 0:n.studentLastName)}),(0,b.jsxs)("p",{children:[l("index_no")," : ",t," "]})]})]})},V="Tabs_mcqToptabs__ccG7U",U="Tabs_mcqTop__20iW4",q="Tabs_mcqTopItem__oghuj",K="Tabs_active__6c5Pg";var Q=function(e){var t=e.activeIndex,n=e.setActiveIndex,i=(0,v.$G)().t;return(0,b.jsx)("div",{className:U,children:(0,b.jsxs)("div",{className:V,children:[(0,b.jsx)("div",{className:0===t?"".concat(q," ").concat(K):q,onClick:function(){return n(0)},children:i("issued")}),(0,b.jsx)("div",{className:1===t?"".concat(q," ").concat(K):q,onClick:function(){return n(1)},children:i("history")}),(0,b.jsx)("div",{className:2===t?"".concat(q," ").concat(K):q,onClick:function(){return n(2)},children:i("in_out_history")})]})})},X=i.forwardRef((function(e,t){var n,i;return(0,b.jsxs)("div",{className:J.Z.membersContainer,children:[null===e||void 0===e||null===(n=e.borrowList)||void 0===n?void 0:n.map((function(n,i){var o;return(null===e||void 0===e||null===(o=e.borrowList)||void 0===o?void 0:o.length)===i+1?(0,b.jsx)("div",{ref:t,className:J.Z.limember,children:(0,b.jsx)(y.Z,{book:n,member:null===e||void 0===e?void 0:e.member,issueId:null===n||void 0===n?void 0:n._id,onRefetchWhenBookCollect:null===e||void 0===e?void 0:e.onRefetchWhenBookCollect})},i):(0,b.jsx)("div",{className:J.Z.limember,children:(0,b.jsx)(y.Z,{book:n,member:null===e||void 0===e?void 0:e.member,issueId:null===n||void 0===n?void 0:n._id,onRefetchWhenBookCollect:null===e||void 0===e?void 0:e.onRefetchWhenBookCollect})},i)})),(null===e||void 0===e?void 0:e.showingDataLoading)&&(0,b.jsx)(_.Z,{}),!(null!==e&&void 0!==e&&e.showingDataLoading)&&0===(null===e||void 0===e||null===(i=e.borrowList)||void 0===i?void 0:i.length)&&(0,b.jsx)("div",{className:J.Z.noData,children:(0,b.jsx)("img",{src:"/images/nodata.jpg",alt:""})})]})})),ee=n(11053);var te=function(e){var t,n,o=e.mid,l=(0,m.YD)(),s=(0,c.Z)(l,2),a=s[0],d=s[1],u=(0,i.useState)(1),v=(0,c.Z)(u,2),h=v[0],g=v[1],x=(0,i.useState)(!0),j=(0,c.Z)(x,2),p=j[0],Z=j[1],k=(0,i.useState)(!0),y=(0,c.Z)(k,2),S=y[0],M=y[1],C=(0,i.useState)({memberId:"",historyList:[]}),F=(0,c.Z)(C,2),I=F[0],w=F[1],D=(0,f.Ef)({data:{sid:o,page:I.memberId!==o?1:h,limit:10},skip:!o}),L=D.getMemberHistorylist,T=D.getMemberHistoryListRefetch;return(0,i.useEffect)((function(){d&&p&&g((function(e){return e+1}))}),[d,p]),(0,i.useEffect)((function(){o&&(M(!0),T())}),[h,o,T]),(0,i.useEffect)((function(){var e,t;null!==L&&void 0!==L&&L.history?I.memberId===o?(w((function(e){var t,n;return(0,N.Z)((0,N.Z)({},e),{},{historyList:null===(t=(0,r.Z)(new Set(null===(n=[].concat((0,r.Z)(e.historyList),(0,r.Z)(null===L||void 0===L?void 0:L.history)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})})),M(!1)):(w({memberId:o,historyList:(0,r.Z)(null===L||void 0===L?void 0:L.history)}),M(!1)):0===(null===L||void 0===L||null===(e=L.history)||void 0===e?void 0:e.length)&&M(!1),10===(null===L||void 0===L||null===(t=L.history)||void 0===t?void 0:t.length)?Z(!0):Z(!1)}),[null===L||void 0===L?void 0:L.history]),(0,b.jsxs)("div",{className:J.Z.membersContainer,children:[null===(t=I.historyList)||void 0===t?void 0:t.map((function(e,t){var n;return(null===(n=I.historyList)||void 0===n?void 0:n.length)===t+1?(0,b.jsx)("div",{ref:a,className:J.Z.limember,children:(0,b.jsx)(ee.Z,{status:"memberdetail",book:e})},t):(0,b.jsx)("div",{className:J.Z.limember,children:(0,b.jsx)(ee.Z,{status:"memberdetail",book:e})},t)})),S&&(0,b.jsx)(_.Z,{}),!S&&0===(null===(n=I.historyList)||void 0===n?void 0:n.length)&&(0,b.jsx)("div",{className:J.Z.noData,children:(0,b.jsx)("img",{src:"/images/nodata.jpg",alt:""})})]})},ne=n(20224);var ie=function(e){var t,n,o,l,s,a,d,u,_,h,g,j,p,Z,k,y=e.mid,S=(0,v.$G)().t,M=(0,i.useState)(0),C=(0,c.Z)(M,2),F=C[0],I=C[1],w=(0,m.YD)(),D=(0,c.Z)(w,2),L=D[0],T=D[1],A=(0,i.useState)(1),E=(0,c.Z)(A,2),O=E[0],R=E[1],B=(0,i.useState)(!0),P=(0,c.Z)(B,2),Y=P[0],$=P[1],G=(0,i.useState)(!1),W=(0,c.Z)(G,2),H=W[0],z=W[1],V=(0,i.useState)(!0),U=(0,c.Z)(V,2),q=U[0],K=U[1],ee=(0,i.useState)({student:"",issueList:[]}),ie=(0,c.Z)(ee,2),oe=ie[0],le=ie[1],se=(0,f.QJ)({data:{sid:y,page:oe.student!==y?1:O,limit:10},skip:!y}),ae=se.getMemberBooklist,de=se.getMemberBookListRefetch;return(0,i.useEffect)((function(){T&&Y&&R((function(e){return e+1}))}),[T,Y]),(0,i.useEffect)((function(){y&&(K(!0),de())}),[O,y,de]),(0,i.useEffect)((function(){var e,t,n,i,o;if(null!==ae&&void 0!==ae&&null!==(e=ae.student)&&void 0!==e&&e.borrow){var l,s,a;if(oe.student===(null===ae||void 0===ae||null===(l=ae.student)||void 0===l?void 0:l._id))H?(le((function(e){var t;return(0,N.Z)((0,N.Z)({},e),{},{issueList:(0,r.Z)(null===ae||void 0===ae||null===(t=ae.student)||void 0===t?void 0:t.borrow)})})),z(!1)):le((function(e){var t,n,i;return(0,N.Z)((0,N.Z)({},e),{},{issueList:null===(t=(0,r.Z)(new Set(null===(n=[].concat((0,r.Z)(e.issueList),(0,r.Z)(null===ae||void 0===ae||null===(i=ae.student)||void 0===i?void 0:i.borrow)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})}));else le({student:null===ae||void 0===ae||null===(s=ae.student)||void 0===s?void 0:s._id,issueList:(0,r.Z)(null===ae||void 0===ae||null===(a=ae.student)||void 0===a?void 0:a.borrow)});K(!1)}else 0===(null===ae||void 0===ae||null===(t=ae.student)||void 0===t||null===(n=t.borrow)||void 0===n?void 0:n.length)&&K(!1);10===(null===ae||void 0===ae||null===(i=ae.student)||void 0===i||null===(o=i.borrow)||void 0===o?void 0:o.length)?$(!0):$(!1)}),[null===ae||void 0===ae||null===(t=ae.student)||void 0===t?void 0:t.borrow]),(0,b.jsxs)("div",{className:J.Z.memberdetails,children:[(0,b.jsxs)("div",{className:J.Z.memberdetailstop,children:[(0,b.jsx)("div",{className:J.Z.issuedBookItemMidleft,children:(0,b.jsx)("div",{className:J.Z.imgcontainer,children:(0,b.jsx)("img",{src:"1"!==(null===ae||void 0===ae||null===(n=ae.student)||void 0===n?void 0:n.photoId)?"".concat(x.yI,"/").concat(null===ae||void 0===ae||null===(o=ae.student)||void 0===o?void 0:o.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""})})}),(0,b.jsxs)("div",{className:J.Z.issuedBookItemMidright,children:[(0,b.jsx)("h6",{children:"".concat(null===ae||void 0===ae||null===(l=ae.student)||void 0===l?void 0:l.studentFirstName," ").concat(null!==ae&&void 0!==ae&&null!==(s=ae.student)&&void 0!==s&&s.studentMiddleName?null===ae||void 0===ae||null===(a=ae.student)||void 0===a?void 0:a.studentMiddleName:""," ").concat(null===ae||void 0===ae||null===(d=ae.student)||void 0===d?void 0:d.studentLastName)}),(0,b.jsxs)("p",{children:[S("index_no")," : ",null===ae||void 0===ae||null===(u=ae.student)||void 0===u?void 0:u.studentGRNO]})]})]}),(0,b.jsx)("div",{className:J.Z.tabs,children:(0,b.jsx)(Q,{activeIndex:F,setActiveIndex:I})}),0===F&&(0,b.jsx)(X,{showingDataLoading:q,ref:L,borrowList:oe.issueList,member:{photoId:null===ae||void 0===ae||null===(_=ae.student)||void 0===_?void 0:_.photoId,studentFirstName:null===ae||void 0===ae||null===(h=ae.student)||void 0===h?void 0:h.studentFirstName,studentGRNO:null===ae||void 0===ae||null===(g=ae.student)||void 0===g?void 0:g.studentGRNO,studentLastName:null===ae||void 0===ae||null===(j=ae.student)||void 0===j?void 0:j.studentLastName,studentMiddleName:null===ae||void 0===ae||null===(p=ae.student)||void 0===p?void 0:p.studentMiddleName,studentProfilePhoto:null===ae||void 0===ae||null===(Z=ae.student)||void 0===Z?void 0:Z.studentProfilePhoto,_id:null===ae||void 0===ae||null===(k=ae.student)||void 0===k?void 0:k._id},onRefetchWhenBookCollect:function(){R(1),z(!0),K(!0),de()}}),1===F&&(0,b.jsx)(te,{mid:y}),2===F&&(0,b.jsx)(ne.Z,{mid:y})]})};var oe=function(){var e=(0,v.$G)().t,t=(0,s.v9)((function(e){return e.libraryChange.lid})),n=(0,i.useState)(""),o=(0,c.Z)(n,2),l=o[0],a=o[1],d=(0,m.YD)({skip:!l}),u=(0,c.Z)(d,2),h=u[0],g=u[1],x=(0,i.useState)([]),j=(0,c.Z)(x,2),Z=j[0],k=j[1],y=(0,i.useState)(1),N=(0,c.Z)(y,2),S=N[0],M=N[1],C=(0,i.useState)(!0),F=(0,c.Z)(C,2),I=F[0],w=F[1],D=(0,i.useState)(!0),L=(0,c.Z)(D,2),T=L[0],A=L[1],E=(0,i.useState)(""),O=(0,c.Z)(E,2),R=O[0],B=O[1],P=(0,f.I4)({data:{lid:t,page:S,limit:10,search:l},skip:!t}),Y=P.getMemberslist,$=P.getMembersListRefetch;(0,i.useEffect)((function(){g&&I&&M((function(e){return e+1}))}),[g,I]),(0,i.useEffect)((function(){t&&(A(!0),$())}),[S,t,l,$]),(0,i.useEffect)((function(){var e,t;null!==Y&&void 0!==Y&&Y.members?(k(l?null===Y||void 0===Y?void 0:Y.members:function(e){var t,n;return null===(t=(0,r.Z)(new Set(null===(n=[].concat((0,r.Z)(e),(0,r.Z)(null===Y||void 0===Y?void 0:Y.members)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)}),A(!1)):0===(null===Y||void 0===Y||null===(e=Y.members)||void 0===e?void 0:e.length)&&A(!1),10===(null===Y||void 0===Y||null===(t=Y.members)||void 0===t?void 0:t.length)?w(!0):w(!1)}),[null===Y||void 0===Y?void 0:Y.members]);var G=(0,i.useCallback)((0,p.debounce)((function(e){return a(e)}),500),[]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:J.Z.searchContainerr,children:(0,b.jsxs)("div",{className:J.Z.searchContainer,children:[(0,b.jsx)("img",{alt:"",src:"/images/search-dept-icon.svg"}),(0,b.jsx)("input",{type:"text",placeholder:e("search-label"),onChange:function(e){return t=e.target.value,void G(t);var t}})]})}),(0,b.jsx)("div",{className:J.Z.remainingFees,children:(0,b.jsxs)("div",{className:R?"".concat(J.Z.completeApplicationSplit):"",children:[(0,b.jsx)("div",{className:R?"".concat(J.Z.remainingFeesBottom," ").concat(J.Z.half):J.Z.remainingFeesBottom,children:(0,b.jsxs)("div",{className:J.Z.itemsContainer,children:[null===Z||void 0===Z?void 0:Z.map((function(e,t){return(null===Z||void 0===Z?void 0:Z.length)===t+1?(0,b.jsx)("div",{ref:h,className:J.Z.limember,children:(0,b.jsx)(z,{member:e,setMid:B,mid:R,index:t+1})},t):(0,b.jsx)("div",{className:J.Z.limember,children:(0,b.jsx)(z,{member:e,setMid:B,mid:R,index:t+1})},t)})),T&&(0,b.jsx)(_.Z,{}),!T&&0===(null===Z||void 0===Z?void 0:Z.length)&&(0,b.jsx)("div",{className:J.Z.noData,children:(0,b.jsx)("img",{src:"/images/nodata.jpg",alt:""})})]})}),R&&(0,b.jsx)("div",{className:J.Z.itemsDetails,children:(0,b.jsx)(ie,{mid:R})})]})})]})},le=n(47167),se=n(98094),ae=n(34219),de=n(47735),re=function(e){var t=e.title,n=e.onClose,i=e.onCollect,o=e.amount,l=(0,v.$G)().t;return(0,b.jsx)(M.Z,{onClose:n,children:(0,b.jsx)("div",{className:S.issue_modal,children:(0,b.jsxs)("div",{className:S.issueBookk,children:[(0,b.jsxs)("h6",{style:{textAlign:"center"},children:[null!==t&&void 0!==t?t:"",", "," ",l("rs"),". ",null!==o&&void 0!==o?o:0," "]}),(0,b.jsx)("button",{className:S.issuebtn,onClick:i,style:{marginTop:"8rem"},children:l("collect_fine")})]})})})},ce=function(e){var t,n,o,l,s,a,d,r,u,m,_,h,g,j,p,Z,y,N,S,M,F,I,w,D=e.studentFine,L=e.is_last,T=e.lid,A=e.onRefetch,E=(0,v.$G)().t,O=(0,i.useState)(!1),R=(0,c.Z)(O,2),B=R[0],P=R[1],Y=(0,i.useState)(!1),$=(0,c.Z)(Y,2),G=$[0],W=$[1],H=(0,f.sl)(),J=(0,c.Z)(H,1)[0],z=function(){W((function(e){return!e}))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:k.Z.issuedBookItem,style:{width:L?"100%":"49%",marginBottom:L?"0":"1rem"},children:[(0,b.jsxs)("div",{className:k.Z.issuedBookItemTop,children:[(0,b.jsx)("div",{className:k.Z.issuedBookItemTopleft,children:(0,b.jsx)("img",{className:k.Z.bookItemImg,src:null!==D&&void 0!==D&&null!==(t=D.book)&&void 0!==t&&t.photo?"".concat(x.yI,"/").concat(null===D||void 0===D||null===(n=D.book)||void 0===n?void 0:n.photo):"/images/defaultBook.png",alt:"book avatar",loading:"lazy"})}),(0,b.jsxs)("div",{className:k.Z.issuedBookItemTopright,children:[(0,b.jsx)("h6",{className:k.Z.title,children:(null===D||void 0===D||null===(o=D.book)||void 0===o||null===(l=o.bookName)||void 0===l?void 0:l.length)>=18?"".concat(null===D||void 0===D||null===(s=D.book)||void 0===s||null===(a=s.bookName)||void 0===a?void 0:a.match(/.{1,18}/g)[0]," ..."):null===D||void 0===D||null===(d=D.book)||void 0===d?void 0:d.bookName}),(0,b.jsxs)("p",{className:k.Z.author,children:[null===D||void 0===D||null===(r=D.book)||void 0===r?void 0:r.author," \xa0",(0,b.jsx)("span",{className:k.Z.authorLabel,children:E("author")})]}),(0,b.jsxs)("p",{className:k.Z.booklang,children:[" ",null===D||void 0===D||null===(u=D.book)||void 0===u?void 0:u.language]})]})]}),(0,b.jsxs)("div",{className:k.Z.issuedBookItemMid,children:[(0,b.jsx)("div",{className:k.Z.issuedBookItemMidleft,children:(0,b.jsx)("div",{className:k.Z.imgcontainer,children:(0,b.jsx)("img",{src:null!==D&&void 0!==D&&null!==(m=D.student)&&void 0!==m&&m.studentProfilePhoto?"".concat(x.yI,"/").concat(null===D||void 0===D||null===(_=D.student)||void 0===_?void 0:_.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"book avatar",loading:"lazy"})})}),(0,b.jsxs)("div",{className:k.Z.issuedBookItemMidright,children:[(0,b.jsxs)("h6",{children:[" ","".concat(null!==(h=null===D||void 0===D||null===(g=D.student)||void 0===g?void 0:g.studentFirstName)&&void 0!==h?h:""," ").concat(null!==(j=null===D||void 0===D||null===(p=D.student)||void 0===p?void 0:p.studentMiddleName)&&void 0!==j?j:""," ").concat(null!==(Z=null===D||void 0===D||null===(y=D.student)||void 0===y?void 0:y.studentLastName)&&void 0!==Z?Z:"")]}),(0,b.jsxs)("p",{children:[E("gr_no")," ",null!==(N=null===D||void 0===D||null===(S=D.student)||void 0===S?void 0:S.studentGRNO)&&void 0!==N?N:""," "]})]})]}),(0,b.jsxs)("div",{className:k.Z.issuedBookItemBottom,children:[(0,b.jsxs)("div",{className:k.Z.issuedBookItemBottomLeft,children:[(0,b.jsxs)("p",{children:[null!==(M=null===D||void 0===D?void 0:D.fine_type)&&void 0!==M?M:""," Book Fine Amount"]}),(0,b.jsxs)("h6",{children:[E("rs"),". ",null!==(F=null===D||void 0===D?void 0:D.fine_charge)&&void 0!==F?F:0]})]}),"Paid"===(null===D||void 0===D?void 0:D.status)?(0,b.jsx)("div",{className:k.Z.issuedBookItemBottomLeft,children:(0,b.jsx)(de.Z,{rid:null===D||void 0===D||null===(I=D.fee_receipt)||void 0===I?void 0:I._id})}):(0,b.jsx)("div",{className:k.Z.collectbtn,onClick:z,children:E("collect_fine")})]}),B&&(0,b.jsx)(C.Z,{})]}),G&&(0,b.jsx)(re,{onCollect:function(){var e,t,n,i,o;null!==D&&void 0!==D&&null!==(e=D.book)&&void 0!==e&&e._id&&null!==D&&void 0!==D&&null!==(t=D.student)&&void 0!==t&&t._id&&T&&(z(),P((function(e){return!e})),J({lid:T,sid:null===D||void 0===D||null===(n=D.student)||void 0===n?void 0:n._id,bid:null===D||void 0===D||null===(i=D.book)||void 0===i?void 0:i._id,collectData:{amount:null!==(o=null===D||void 0===D?void 0:D.fine_charge)&&void 0!==o?o:0,prid:null===D||void 0===D?void 0:D._id}}).then((function(){A(),P((function(e){return!e}))})).catch({}))},onClose:z,title:"".concat(null!==(w=null===D||void 0===D?void 0:D.fine_type)&&void 0!==w?w:""," Book Fine Amount"),amount:null===D||void 0===D?void 0:D.fine_charge})]})},ue=function(e){var t=e.lid,n=(0,i.useState)(!0),o=(0,c.Z)(n,2),l=o[0],s=o[1],a=(0,i.useState)(1),d=(0,c.Z)(a,2),u=d[0],v=d[1],h=(0,m.YD)(),g=(0,c.Z)(h,2),x=g[0],j=g[1],p=(0,i.useState)([]),Z=(0,c.Z)(p,2),k=Z[0],y=Z[1],N=(0,i.useState)(!0),S=(0,c.Z)(N,2),M=S[0],C=S[1],F=(0,i.useState)(!1),I=(0,c.Z)(F,2),w=I[0],D=I[1],L=(0,f.xK)({data:{lid:t,page:u,limit:10,flow:"Remaining"},skip:!t}),T=L.libraryFineCharge,A=L.libraryFineChargeRefetch;(0,i.useEffect)((function(){t&&(C(!0),A())}),[u,t,A]),(0,i.useEffect)((function(){j&&l&&v((function(e){return e+1}))}),[j,l]),(0,i.useEffect)((function(){var e,t;w?(y(null===T||void 0===T?void 0:T.all_student),D(!1),C(!1)):null!==T&&void 0!==T&&T.all_student?(y((function(e){return(0,r.Z)(new Set([].concat((0,r.Z)(e),(0,r.Z)(null===T||void 0===T?void 0:T.all_student)).map(JSON.stringify))).map(JSON.parse)})),C(!1)):0===(null===T||void 0===T||null===(t=T.all_student)||void 0===t?void 0:t.length)&&C(!1);10===(null===T||void 0===T||null===(e=T.all_student)||void 0===e?void 0:e.length)?s(!0):s(!1)}),[null===T||void 0===T?void 0:T.all_student]);var E=function(){v(1),D(!0),A()};return(0,b.jsx)("div",{className:H.Z.library_out_container,children:(0,b.jsxs)("div",{className:H.Z.data_container,children:[null===k||void 0===k?void 0:k.map((function(e,n){return(null===k||void 0===k?void 0:k.length)===n+1?(0,b.jsx)("div",{ref:x,style:{width:"49%",marginBottom:"1rem"},children:(0,b.jsx)(ce,{studentFine:e,is_last:!0,lid:t,onRefetch:E})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(ce,{studentFine:e,lid:t,onRefetch:E},null===e||void 0===e?void 0:e._id)})),!M&&!k.length&&(0,b.jsx)(ae.Z,{customStyleContainer:{marginTop:"9rem"},title:"No outstanding records found."}),M&&(0,b.jsx)(_.Z,{status:"white"})]})})},ve=function(e){var t=e.lid,n=(0,i.useState)(!0),o=(0,c.Z)(n,2),l=o[0],s=o[1],a=(0,i.useState)(1),d=(0,c.Z)(a,2),u=d[0],v=d[1],h=(0,m.YD)(),g=(0,c.Z)(h,2),x=g[0],j=g[1],p=(0,i.useState)([]),Z=(0,c.Z)(p,2),k=Z[0],y=Z[1],N=(0,i.useState)(!0),S=(0,c.Z)(N,2),M=S[0],C=S[1],F=(0,f.xK)({data:{lid:t,page:u,limit:10,flow:"Paid"},skip:!t}),I=F.libraryFineCharge,w=F.libraryFineChargeRefetch;return(0,i.useEffect)((function(){t&&(C(!0),w())}),[u,t,w]),(0,i.useEffect)((function(){j&&l&&v((function(e){return e+1}))}),[j,l]),(0,i.useEffect)((function(){var e,t;null!==I&&void 0!==I&&I.all_student?(y(1===u?null===I||void 0===I?void 0:I.all_student:function(e){return(0,r.Z)(new Set([].concat((0,r.Z)(e),(0,r.Z)(null===I||void 0===I?void 0:I.all_student)).map(JSON.stringify))).map(JSON.parse)}),C(!1)):0===(null===I||void 0===I||null===(e=I.all_student)||void 0===e?void 0:e.length)&&C(!1),10===(null===I||void 0===I||null===(t=I.all_student)||void 0===t?void 0:t.length)?s(!0):s(!1)}),[null===I||void 0===I?void 0:I.all_student]),(0,b.jsx)("div",{className:H.Z.library_out_container,children:(0,b.jsxs)("div",{className:H.Z.data_container,children:[null===k||void 0===k?void 0:k.map((function(e,t){return(null===k||void 0===k?void 0:k.length)===t+1?(0,b.jsx)("div",{ref:x,style:{width:"49%"},children:(0,b.jsx)(ce,{studentFine:e,is_last:!0})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(ce,{studentFine:e},null===e||void 0===e?void 0:e._id)})),!M&&!k.length&&(0,b.jsx)(ae.Z,{customStyleContainer:{marginTop:"9rem"},title:"No received records found."}),M&&(0,b.jsx)(_.Z,{status:"white"})]})})},me=function(e){var t,n,i,o,s,a,d=e.carryParentState,r=(0,v.$G)().t,c=(0,l.TH)(),u=[{name:r("outstanding"),id:0,url:"member/library?a=charge"},{name:r("received"),id:1,url:"member/library?a=charge&collect"}];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h6",{className:H.Z.fine_heading,children:r("fine_history")}),(0,b.jsx)(se.Z,{customStyle:{width:"100%",marginTop:"0.2rem"}}),(0,b.jsx)(le.Z,{tabList:u,showAs:!0,carryParentState:d,activeIndexTab:"charge"===(null===(t=c.search)||void 0===t?void 0:t.substring(3))?0:1,customStyleLink:{width:"50%"},customStyleTab:{width:"100%"}}),(0,b.jsx)(se.Z,{customStyle:{width:"100%",marginBottom:"1rem"}}),"charge"===(null===(n=c.search)||void 0===n?void 0:n.substring(3))?(0,b.jsx)(ue,{lid:null===(i=c.state)||void 0===i||null===(o=i.onClickValue)||void 0===o?void 0:o._id}):(0,b.jsx)(ve,{lid:null===(s=c.state)||void 0===s||null===(a=s.onClickValue)||void 0===a?void 0:a._id})]})},fe=n(29407),_e=n(98684),he=n(21348),ge=n(65543),xe=n(48293),be=n(16925),je=n(90904),pe=n(60924),Ze=n(93638),ke=n(55336),ye=n(43997),Ne=function(e){var t=e.onClose,n=e.openFilter,o=e.lid,l=(0,v.$G)().t,s=(0,i.useState)(!1),a=(0,c.Z)(s,2),d=a[0],r=a[1],u=(0,i.useState)({from:"",to:""}),m=(0,c.Z)(u,2),_=m[0],h=m[1],g=(0,f._s)(),x=(0,c.Z)(g,1)[0],j=(0,f.Zj)(),p=(0,c.Z)(j,1)[0],Z=(0,f.a8)(),k=(0,c.Z)(Z,1)[0],y=(0,f.Nd)(),S=(0,c.Z)(y,1)[0],M=(0,f.N6)(),C=(0,c.Z)(M,1)[0];return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(xe.Z,{onClose:t,children:(0,b.jsxs)("div",{className:be.Z.modal_container,children:[(0,b.jsx)(he.Z,{children:(0,b.jsxs)("div",{className:be.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:be.Z.modal_container_header,children:(0,b.jsx)("h6",{children:l("export_library_excel")})}),(0,b.jsx)("img",{src:"".concat(_e.J7,"/close.svg"),alt:"close icon",onClick:t})]})}),(0,b.jsx)(je.Z,{}),(0,b.jsxs)(he.Z,{customStyle:{paddingTop:"0"},children:[(0,b.jsx)(pe.Z,{name:"from",label:l("o__from"),placeholder:l("o__please_select_date"),onChange:function(e){h((function(t){return(0,N.Z)((0,N.Z)({},t),{},{from:(0,ye.jh)(e)})}))},value:_.from}),(0,b.jsx)(pe.Z,{name:"to",label:l("o__to"),placeholder:l("o__please_select_date"),onChange:function(e){h((function(t){return(0,N.Z)((0,N.Z)({},t),{},{to:(0,ye.jh)(e)})}))},value:_.to}),(0,b.jsx)(Ze.Z,{label:"export",onAction:function(){if(o)if("BOOK"===n)o&&(r((function(e){return!e})),x({lid:o,from:null!==_&&void 0!==_&&_.from?(0,ye.O_)(_.from):"",to:null!==_&&void 0!==_&&_.to?(0,ye.O_)(_.to):""}).then((function(){r((function(e){return!e})),t()})).catch({}));else if("ISSUE"===n)o&&null!==_&&void 0!==_&&_.from&&null!==_&&void 0!==_&&_.to&&(r((function(e){return!e})),k({lid:o,from:null!==_&&void 0!==_&&_.from?(0,ye.O_)(_.from):"",to:null!==_&&void 0!==_&&_.to?(0,ye.O_)(_.to):""}).then((function(){r((function(e){return!e})),t()})).catch({}));else if("COLLECT"===n)o&&null!==_&&void 0!==_&&_.from&&null!==_&&void 0!==_&&_.to&&(r((function(e){return!e})),p({lid:o,from:null!==_&&void 0!==_&&_.from?(0,ye.O_)(_.from):"",to:null!==_&&void 0!==_&&_.to?(0,ye.O_)(_.to):""}).then((function(){r((function(e){return!e})),t()})).catch({}));else if("ENTRY_LOG"===n)o&&null!==_&&void 0!==_&&_.from&&null!==_&&void 0!==_&&_.to&&(r((function(e){return!e})),S({lid:o,from:null!==_&&void 0!==_&&_.from?(0,ye.O_)(_.from):"",to:null!==_&&void 0!==_&&_.to?(0,ye.O_)(_.to):""}).then((function(){r((function(e){return!e})),t()})).catch({}));else{if("REVIEW"!==n)return null;o&&null!==_&&void 0!==_&&_.from&&null!==_&&void 0!==_&&_.to&&(r((function(e){return!e})),C({lid:o,from:null!==_&&void 0!==_&&_.from?(0,ye.O_)(_.from):"",to:null!==_&&void 0!==_&&_.to?(0,ye.O_)(_.to):""}).then((function(){r((function(e){return!e})),t()})).catch({}))}}})]}),d&&(0,b.jsx)(ke.Z,{})]})})})},Se=function(e){var t=e.lid,n=(0,v.$G)().t,o=(0,i.useState)(""),l=(0,c.Z)(o,2),s=l[0],a=l[1],d=(0,i.useState)(!1),u=(0,c.Z)(d,2),h=u[0],x=u[1],j=(0,m.YD)(),p=(0,c.Z)(j,2),Z=p[0],k=p[1],y=(0,i.useState)(1),N=(0,c.Z)(y,2),S=N[0],M=N[1],F=(0,i.useState)(!0),I=(0,c.Z)(F,2),w=I[0],D=I[1],L=(0,i.useState)(!0),T=(0,c.Z)(L,2),A=T[0],E=T[1],O=(0,i.useState)([]),R=(0,c.Z)(O,2),B=R[0],P=R[1],Y=(0,f.Yv)(),$=(0,c.Z)(Y,1)[0],G=(0,f.oW)({data:{lid:t,page:S,limit:10},skip:!t}),W=G.libraryAllExcelExport,H=G.libraryAllExcelExportRefetch,J=(0,ge.u)().scrollToTop;(0,i.useEffect)((function(){J()}),[]),(0,i.useEffect)((function(){t&&(E(!0),H())}),[t,S,H]),(0,i.useEffect)((function(){k&&w&&M((function(e){return e+1}))}),[k,w]),(0,i.useEffect)((function(){var e,t;null!==W&&void 0!==W&&W.excel_arr?(P((function(e){var t,n;return null===(t=(0,r.Z)(new Set(null===(n=[].concat((0,r.Z)(e),(0,r.Z)(null===W||void 0===W?void 0:W.excel_arr)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),E(!1)):0===(null===W||void 0===W||null===(e=W.excel_arr)||void 0===e?void 0:e.length)&&E(!1),10===(null===W||void 0===W||null===(t=W.excel_arr)||void 0===t?void 0:t.length)?D(!0):D(!1)}),[null===W||void 0===W?void 0:W.excel_arr]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(he.Z,{children:[(0,b.jsxs)("div",{className:fe.Z.refund_container_title,style:{justifyContent:"space-between"},children:[(0,b.jsx)("h6",{children:n("data_export")}),(0,b.jsxs)("div",{className:fe.Z.both_filter,children:[(0,b.jsxs)("div",{onClick:function(){a("BOOK")},className:fe.Z.both_filter_with_name,children:[(0,b.jsx)("img",{src:"".concat(_e.J7,"/filter.svg"),alt:"filter icon"}),(0,b.jsx)("h6",{children:n("books")})]}),(0,b.jsxs)("div",{onClick:function(){a("COLLECT")},className:fe.Z.both_filter_with_name,children:[(0,b.jsx)("img",{src:"".concat(_e.J7,"/filter.svg"),alt:"filter icon"}),(0,b.jsx)("h6",{children:n("collected")})]}),(0,b.jsxs)("div",{onClick:function(){a("ISSUE")},className:fe.Z.both_filter_with_name,children:[(0,b.jsx)("img",{src:"".concat(_e.J7,"/filter.svg"),alt:"filter icon"}),(0,b.jsx)("h6",{children:n("issued")})]}),(0,b.jsxs)("div",{onClick:function(){t&&(x((function(e){return!e})),$({lid:t}).then((function(){x((function(e){return!e}))})).catch({}))},className:fe.Z.both_filter_with_name,children:[(0,b.jsx)("img",{src:"".concat(_e.J7,"/filter.svg"),alt:"filter icon"}),(0,b.jsx)("h6",{children:n("members")})]}),(0,b.jsxs)("div",{onClick:function(){a("ENTRY_LOG")},className:fe.Z.both_filter_with_name,children:[(0,b.jsx)("img",{src:"".concat(_e.J7,"/filter.svg"),alt:"filter icon"}),(0,b.jsx)("h6",{children:n("entry_logs")})]}),(0,b.jsxs)("div",{onClick:function(){a("REVIEW")},className:fe.Z.both_filter_with_name,children:[(0,b.jsx)("img",{src:"".concat(_e.J7,"/filter.svg"),alt:"filter icon"}),(0,b.jsx)("h6",{children:n("book_review")})]})]})]}),(0,b.jsx)(se.Z,{customStyle:{width:"100%",marginTop:"0.2rem"}}),(0,b.jsxs)("div",{className:fe.Z.refund_list,children:[null===B||void 0===B?void 0:B.map((function(e,t){var n,i;return(null===B||void 0===B?void 0:B.length)===t+1?(0,b.jsxs)("a",{ref:Z,className:fe.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,b.jsx)("img",{src:"".concat(_e.J7,"/xsxl.svg"),alt:"excel icon"}),(0,b.jsxs)("section",{className:fe.Z.export_card_text,children:[(0,b.jsx)("h6",{children:null!==(n=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==n?n:""}),(0,b.jsxs)("div",{className:fe.Z.export_card_date,children:[(0,b.jsx)("h6",{children:g()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,b.jsx)("h6",{children:g()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]})]},null===e||void 0===e?void 0:e._id):(0,b.jsxs)("a",{className:fe.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,b.jsx)("img",{src:"".concat(_e.J7,"/xsxl.svg"),alt:"excel icon"}),(0,b.jsxs)("section",{className:fe.Z.export_card_text,children:[(0,b.jsx)("h6",{children:null!==(i=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==i?i:""}),(0,b.jsxs)("div",{className:fe.Z.export_card_date,children:[(0,b.jsx)("h6",{children:g()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,b.jsx)("h6",{children:g()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]})]},null===e||void 0===e?void 0:e._id)})),A&&(0,b.jsx)(_.Z,{})]})]}),s?(0,b.jsx)(Ne,{onClose:function(){a("")},openFilter:s,lid:t}):null,h&&(0,b.jsx)(C.Z,{})]})},Me=n(51561),Ce=n(97655),Fe=function(e){var t=e.lid,n=e.timing,o=(0,v.$G)().t,l=(0,i.useState)({from:"",to:""}),s=(0,c.Z)(l,2),a=s[0],d=s[1],r=(0,i.useState)(!1),u=(0,c.Z)(r,2),m=u[0],_=u[1],h=(0,f.bi)(),g=(0,c.Z)(h,1)[0];(0,i.useEffect)((function(){n&&d((function(e){var t,i;return(0,N.Z)((0,N.Z)({},e),{},{from:null!==(t=null===n||void 0===n?void 0:n.from)&&void 0!==t?t:"",to:null!==(i=null===n||void 0===n?void 0:n.to)&&void 0!==i?i:""})}))}),[n]);var x=function(e){d((function(t){return(0,N.Z)((0,N.Z)({},t),{},(0,A.Z)({},e.target.name,e.target.value))}))};return(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"2rem",padding:"1rem"},children:[(0,b.jsx)(Ce.Z,{labelText:o("from"),placeholder:"00:00",name:"from",value:we(null===a||void 0===a?void 0:a.from),type:"time",onChange:x,customStyleContainer:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:"1rem"}}),(0,b.jsx)(Ce.Z,{labelText:o("to"),placeholder:"00:00",name:"to",value:we(null===a||void 0===a?void 0:a.to),type:"time",onChange:x,customStyleContainer:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:"1rem"}}),(0,b.jsx)(Ze.Z,{onAction:function(){t&&(_((function(e){return!e})),g({lid:t,libraryTime:{timing:{from:Ie(null===a||void 0===a?void 0:a.from),to:Ie(null===a||void 0===a?void 0:a.to)}}}).then((function(){_((function(e){return!e}))})).catch({}))},label:o("update"),customStyle:{margin:"0"}}),m&&(0,b.jsx)(C.Z,{})]})},Ie=function(e){var t=null===e||void 0===e?void 0:e.split(":"),n="";t[0]>12?(n="pm",t[0]-=12):t[0]<12?(n="am",0===t[0]&&(t[0]=12)):n="pm";var i=t[0]>9?t[0]:"0".concat(+t[0]),o="".concat(i,":").concat(t[1]," ").concat(n);return null===o||void 0===o?void 0:o.substring(0,8)},we=function(e){var t,n=null===e||void 0===e?void 0:e.split(" "),i=null===n||void 0===n||null===(t=n[0])||void 0===t?void 0:t.split(":"),o="";return o="Pm"===(null===n||void 0===n?void 0:n[1])?12===+(null===i||void 0===i?void 0:i[0])?null===i||void 0===i?void 0:i[0]:+(null===i||void 0===i?void 0:i[0])+12:null===i||void 0===i?void 0:i[0],"".concat(o,":").concat(null===i||void 0===i?void 0:i[1])},De=function(e){var t,o,l,s=e.lid,a=(0,v.$G)().t,d=(0,i.useState)(!1),r=(0,c.Z)(d,2),u=r[0],m=r[1],_=(0,i.useState)({msg:"",run:!1}),h=(0,c.Z)(_,2),g=h[0],x=h[1],j=(0,f.Fy)(),p=(0,c.Z)(j,1)[0],Z=(0,f.B6)(),k=(0,c.Z)(Z,1)[0],y=(0,f.x5)(),N=(0,c.Z)(y,1)[0],S=(0,f.zz)(),M=(0,c.Z)(S,1)[0],F=(0,f.ar)(),I=(0,c.Z)(F,1)[0],w=(0,f.yX)({lid:s,skip:!s}),D=w.getLibraryDetail,L=w.getLibraryDetailRefetch;(0,i.useEffect)((function(){s&&L()}),[s,L]);var T=function(e){s&&(m((function(e){return!e})),p({lid:s,flow:e}).then((function(e){var t;x({msg:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message,run:!0}),m((function(e){return!e}))})))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h6",{className:H.Z.fine_heading,children:a("qr_code")}),(0,b.jsx)(se.Z,{customStyle:{width:"100%",marginTop:"0.2rem"}}),(0,b.jsxs)("div",{className:H.Z.edn,children:[(0,b.jsx)("div",{className:H.Z.newBtn,onClick:function(){return T("STUDENT")},children:a("student_qr")}),(0,b.jsx)("div",{className:H.Z.newBtn,onClick:function(){return T("STAFF")},children:a("staff_qr")}),(0,b.jsx)("div",{className:H.Z.newBtn,onClick:function(){s&&(m((function(e){return!e})),k({lid:s}).then((function(e){var t;x({msg:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message,run:!0}),m((function(e){return!e}))})))},children:a("book_qr")}),(0,b.jsx)("div",{className:H.Z.newBtn,onClick:function(){s&&(m((function(e){return!e})),I({lid:s}).then((function(e){var t,i;if(m((function(e){return!e})),(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(i=t.book_qr)||void 0===i?void 0:i.length)>0){var o;x({msg:"All Book Qr code pdf in process. It will take some time.",run:!0});var l=new Worker(new URL(n.p+n.u(81813),n.b));l.postMessage({book_qr:null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.book_qr}),l.onmessage=function(e){e&&(window.open(e.data,"_blank"),l.terminate())},x({msg:"All Book Qr code pdf  is complete",run:!0})}})).catch({}))},children:a("download_book_qr")})]}),(0,b.jsxs)("div",{style:{marginBlock:"1rem"},children:[(0,b.jsxs)("div",{className:H.Z.iohc_card_inner,children:[(0,b.jsxs)("div",{className:H.Z.iohc_card_inner,style:{flexDirection:"column",alignItems:"flex-start"},children:[(0,b.jsx)("h6",{className:H.Z.fine_heading,style:{marginBottom:"1rem"},children:a("library_qr_code")}),null!==D&&void 0!==D&&null!==(t=D.library)&&void 0!==t&&t.qr_code?(0,b.jsx)("img",{src:"".concat(null===D||void 0===D||null===(o=D.library)||void 0===o?void 0:o.qr_code),alt:"qr icon",className:H.Z.qr_image}):null]}),(0,b.jsxs)("div",{className:H.Z.iohc_card_inner,style:{marginRight:"1rem"},children:[(0,b.jsx)("div",{className:H.Z.newBtn,onClick:function(){s&&(m((function(e){return!e})),N({lid:s}).then((function(e){var t,i;if(m((function(e){return!e})),(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(i=t.all_staff)||void 0===i?void 0:i.length)>0){var o;x({msg:"All Staff Qr code pdf in process. It will take some time.",run:!0});var l=new Worker(new URL(n.p+n.u(70861),n.b));l.postMessage({all_staff:null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.all_staff,isType:"STAFF"}),l.onmessage=function(e){e&&(window.open(e.data,"_blank"),l.terminate())},x({msg:"All Staff Qr code pdf  is complete",run:!0})}})))},style:{width:"auto"},children:a("download_staff_qr")}),(0,b.jsx)("div",{className:H.Z.newBtn,onClick:function(){s&&(m((function(e){return!e})),M({lid:s}).then((function(e){var t,i;if(m((function(e){return!e})),(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(i=t.all_student)||void 0===i?void 0:i.length)>0){var o;x({msg:"All Student Qr code pdf in process. It will take some time.",run:!0});var l=new Worker(new URL(n.p+n.u(63756),n.b));l.postMessage({all_student:null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.all_student,isType:"STUDENT"}),l.onmessage=function(e){e&&(window.open(e.data,"_blank"),l.terminate())},x({msg:"All Student Qr code pdf  is complete",run:!0})}})))},style:{width:"auto"},children:a("download_student_qr")})]})]}),(0,b.jsx)(Fe,{lid:s,timing:null===D||void 0===D||null===(l=D.library)||void 0===l?void 0:l.timing})]}),g.run&&(0,b.jsx)(Me.Ch,{msg:g.msg,run:g.run,setRun:function(){return x({msg:"",run:!1})},postiton:"bottom",type:"success"}),u&&(0,b.jsx)(C.Z,{})]})},Le=function(e){var t,n,i,o,l,s,a,d,r,c,u,m=e.history,f=(0,v.$G)().t;return(0,b.jsxs)("div",{className:H.Z.iohc_card,children:[(0,b.jsx)("img",{src:null!==m&&void 0!==m&&null!==(t=m.student)&&void 0!==t&&t.studentProfilePhoto?"".concat(x.yI,"/").concat(null===m||void 0===m||null===(n=m.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy",alt:"icons",style:{width:"3.5rem",height:"3.5rem",borderRadius:"6px"}}),(0,b.jsxs)("div",{className:H.Z.iohc_card_container,children:[(0,b.jsxs)("div",{className:H.Z.iohc_card_inner,children:[(0,b.jsx)("h6",{style:{fontWeight:"500"},children:"".concat(null!==(i=null===m||void 0===m||null===(o=m.student)||void 0===o?void 0:o.studentFirstName)&&void 0!==i?i:""," ").concat(null!==(l=null===m||void 0===m||null===(s=m.student)||void 0===s?void 0:s.studentMiddleName)&&void 0!==l?l:""," ").concat(null!==(a=null===m||void 0===m||null===(d=m.student)||void 0===d?void 0:d.studentLastName)&&void 0!==a?a:"")}),(0,b.jsxs)("p",{children:[f("in_time")," "," ",g()(null===m||void 0===m?void 0:m.created_at).format("DD/MM/YYYY"),", ",null===m||void 0===m?void 0:m.in_time]})]}),(0,b.jsxs)("div",{className:H.Z.iohc_card_inner,children:[(0,b.jsxs)("h6",{style:{fontWeight:"500"},children:[(0,b.jsxs)("span",{style:{fontWeight:"400"},children:[f("gr_number")," "," "]}),null!==(r=null===m||void 0===m||null===(c=m.student)||void 0===c?void 0:c.studentGRNO)&&void 0!==r?r:""]}),"Yes"===(null===m||void 0===m?void 0:m.is_valid)?(0,b.jsxs)("p",{children:[f("out_time")," "," ",g()(null===m||void 0===m?void 0:m.created_at).format("DD/MM/YYYY"),", ",null===m||void 0===m?void 0:m.out_time]}):null]}),"Yes"===(null===m||void 0===m?void 0:m.is_valid)?(0,b.jsxs)("div",{className:H.Z.iohc_card_inner,children:[(0,b.jsx)("h6",{}),(0,b.jsxs)("p",{children:[f("total_time")," "," "," ",null!==(u=null===m||void 0===m?void 0:m.total_spent_time)&&void 0!==u?u:""," "," hr"]})]}):null]})]})},Te=function(e){var t,n=e.lid,o=(0,v.$G)().t,l=(0,m.YD)(),s=(0,c.Z)(l,2),a=s[0],d=s[1],u=(0,i.useState)(1),h=(0,c.Z)(u,2),g=h[0],x=h[1],j=(0,i.useState)(!0),p=(0,c.Z)(j,2),Z=p[0],k=p[1],y=(0,i.useState)(!0),N=(0,c.Z)(y,2),S=N[0],M=N[1],C=(0,i.useState)([]),F=(0,c.Z)(C,2),I=F[0],w=F[1],D=(0,f.Zd)({data:{lid:n,page:g,limit:10},skip:!n}),L=D.libraryGetInOutHistory,T=D.libraryGetInOutHistoryRefetch;return(0,i.useEffect)((function(){d&&Z&&x((function(e){return e+1}))}),[d,Z]),(0,i.useEffect)((function(){n&&(M(!0),T())}),[g,n,T]),(0,i.useEffect)((function(){var e,t;null!==L&&void 0!==L&&L.history?g>1?(w((function(e){var t,n;return null===(t=(0,r.Z)(new Set(null===(n=[].concat((0,r.Z)(e),(0,r.Z)(null===L||void 0===L?void 0:L.history)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),M(!1)):(w(null===L||void 0===L?void 0:L.history),M(!1)):0===(null===L||void 0===L||null===(e=L.history)||void 0===e?void 0:e.length)&&M(!1),10===(null===L||void 0===L||null===(t=L.history)||void 0===t?void 0:t.length)?k(!0):k(!1)}),[null===L||void 0===L?void 0:L.history]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h6",{className:H.Z.fine_heading,children:o("logs")}),(0,b.jsx)(se.Z,{customStyle:{width:"100%",marginTop:"0.2rem"}}),(0,b.jsxs)("div",{style:{padding:"1rem"},children:[null===I||void 0===I?void 0:I.map((function(e,t){return(null===I||void 0===I?void 0:I.length)===t+1?(0,b.jsx)("div",{ref:a,style:{width:"100%"},children:(0,b.jsx)(Le,{history:e})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(Le,{history:e},null===e||void 0===e?void 0:e._id)})),S&&(0,b.jsx)(_.Z,{}),!S&&0===(null===L||void 0===L||null===(t=L.history)||void 0===t?void 0:t.length)&&(0,b.jsx)("div",{className:H.Z.noData,children:(0,b.jsx)("img",{src:"/images/nodata.jpg",style:{width:"100%"},alt:""})})]})]})},Ae=function(e){var t,n,i,o,s=e.history,a=(0,v.$G)().t,d=(0,l.s0)(),r=(0,l.TH)(),c=(0,l.UO)(),u=function(e,t){d("/q/".concat(c.username,"/member/library?a=stocktake-detail"),{state:(0,N.Z)((0,N.Z)({},r.state),{},{stid:null===s||void 0===s?void 0:s._id,flow:null!==e&&void 0!==e?e:"",count:t})})};return(0,b.jsxs)("div",{className:H.Z.iohc_card,children:[(0,b.jsx)("img",{src:"/images/member_tab/subject/subject-daily-update-icon.svg",alt:"icons"}),(0,b.jsxs)("div",{className:H.Z.iohc_card_container,children:[(0,b.jsx)("div",{className:H.Z.iohc_card_inner,children:(0,b.jsxs)("h6",{style:{fontWeight:"500"},children:[g()(null===s||void 0===s?void 0:s.created_at).format("DD/MM/YYYY"),", ",g()(null===s||void 0===s?void 0:s.created_at).format("LT")]})}),(0,b.jsxs)("div",{className:H.Z.iohc_btn,children:[(0,b.jsxs)("h6",{onClick:function(){return u("book_isssue",null===s||void 0===s?void 0:s.book_isssue_count)},children:[a("book_issue"),null!==(t=null===s||void 0===s?void 0:s.book_isssue_count)&&void 0!==t?t:0]}),(0,b.jsxs)("h6",{onClick:function(){return u("book_lost",null===s||void 0===s?void 0:s.book_lost_count)},children:[a("book_lost"),null!==(n=null===s||void 0===s?void 0:s.book_lost_count)&&void 0!==n?n:0]}),(0,b.jsxs)("h6",{onClick:function(){return u("book_at_library",null===s||void 0===s?void 0:s.book_at_library_count)},children:[a("book_at_library"),null!==(i=null===s||void 0===s?void 0:s.book_at_library_count)&&void 0!==i?i:0]}),(0,b.jsxs)("h6",{onClick:function(){return u("book_missing",null===s||void 0===s?void 0:s.book_missing_count)},children:[a("book_missing"),null!==(o=null===s||void 0===s?void 0:s.book_missing_count)&&void 0!==o?o:0]})]})]})]})},Ee=function(e){var t,n=e.lid,o=(0,v.$G)().t,l=(0,m.YD)(),s=(0,c.Z)(l,2),a=s[0],d=s[1],u=(0,i.useState)(1),h=(0,c.Z)(u,2),g=h[0],x=h[1],j=(0,i.useState)(!0),p=(0,c.Z)(j,2),Z=p[0],k=p[1],y=(0,i.useState)(!0),N=(0,c.Z)(y,2),S=N[0],M=N[1],C=(0,i.useState)([]),F=(0,c.Z)(C,2),I=F[0],w=F[1],D=(0,f.JH)({data:{lid:n,page:g,limit:10},skip:!n}),L=D.libraryGetStocktakeHistory,T=D.libraryGetStocktakeHistoryRefetch;return(0,i.useEffect)((function(){d&&Z&&x((function(e){return e+1}))}),[d,Z]),(0,i.useEffect)((function(){n&&(M(!0),T())}),[g,n,T]),(0,i.useEffect)((function(){var e,t;null!==L&&void 0!==L&&L.stocktake?g>1?(w((function(e){var t,n;return null===(t=(0,r.Z)(new Set(null===(n=[].concat((0,r.Z)(e),(0,r.Z)(null===L||void 0===L?void 0:L.stocktake)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),M(!1)):(w(null===L||void 0===L?void 0:L.stocktake),M(!1)):0===(null===L||void 0===L||null===(e=L.stocktake)||void 0===e?void 0:e.length)&&M(!1),10===(null===L||void 0===L||null===(t=L.stocktake)||void 0===t?void 0:t.length)?k(!0):k(!1)}),[null===L||void 0===L?void 0:L.stocktake]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h6",{className:H.Z.fine_heading,children:o("stocktake")}),(0,b.jsx)(se.Z,{customStyle:{width:"100%",marginTop:"0.2rem"}}),(0,b.jsxs)("div",{style:{padding:"1rem"},children:[null===I||void 0===I?void 0:I.map((function(e,t){return(null===I||void 0===I?void 0:I.length)===t+1?(0,b.jsx)("div",{ref:a,style:{width:"100%"},children:(0,b.jsx)(Ae,{history:e})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(Ae,{history:e},null===e||void 0===e?void 0:e._id)})),S&&(0,b.jsx)(_.Z,{}),!S&&0===(null===L||void 0===L||null===(t=L.stocktake)||void 0===t?void 0:t.length)&&(0,b.jsx)("div",{className:H.Z.noData,children:(0,b.jsx)("img",{src:"/images/nodata.jpg",style:{width:"100%"},alt:""})})]})]})},Oe=n(37762),Re=n(46876),Be=n(91022),Pe={moderator_container:"LibraryModerator_moderator_container__98n6P",moderator_container_title:"LibraryModerator_moderator_container_title__lH0sy",add_new_moderator:"LibraryModerator_add_new_moderator__E7l5M",moderator_card:"LibraryModerator_moderator_card__ZCXKl",moderator_card_text_container:"LibraryModerator_moderator_card_text_container__HXBN1",menu_icon:"LibraryModerator_menu_icon__fN48K",assign_role_container:"LibraryModerator_assign_role_container__BiowP",assign_role_title:"LibraryModerator_assign_role_title__AYVXl",selected_staff_container:"LibraryModerator_selected_staff_container__v59BT",selected_staff_text:"LibraryModerator_selected_staff_text__JEkG3",assign_btn:"LibraryModerator_assign_btn__7gxuj",select_application_btn:"LibraryModerator_select_application_btn__wMVuF",select_btn:"LibraryModerator_select_btn__jPgoo",application_card:"LibraryModerator_application_card__k25bg",application_card_active:"LibraryModerator_application_card_active__DEaUj",application_card_text:"LibraryModerator_application_card_text__zT33Q",application_card_text_bottom:"LibraryModerator_application_card_text_bottom__De6s5"},Ye=function(e){var t,n=e.onCloseEdit,i=e.setActivePopup,o=e.selectedStaff,l=e.moderatorState,s=e.onSelectRole,a=e.onUpdateModerator,d=(0,v.$G)().t;return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(M.Z,{onClose:n,children:(0,b.jsxs)("div",{className:Pe.assign_role_container,children:[(0,b.jsxs)("section",{className:Pe.assign_role_title,children:[(0,b.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:n,alt:"back icon",style:{cursor:"pointer"}}),(0,b.jsx)("h6",{children:d("update_role_to_moderator")})]}),(0,b.jsx)(se.Z,{customStyle:{width:"100%"}}),(0,b.jsxs)("section",{className:Pe.selected_staff_container,onClick:function(){return i("OPEN_STAFF_LIST")},children:[(0,b.jsx)("img",{src:null!==o&&void 0!==o&&o.staffProfilePhoto?"".concat(x.yI,"/").concat(null===o||void 0===o?void 0:o.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,b.jsxs)("div",{className:Pe.selected_staff_text,children:[(0,b.jsx)("h6",{children:"".concat(null===o||void 0===o?void 0:o.staffFirstName," ").concat(null!==(t=null===o||void 0===o?void 0:o.staffMiddleName)&&void 0!==t?t:""," ").concat(null===o||void 0===o?void 0:o.staffLastName)}),(0,b.jsxs)("p",{children:[d("index_number")," ",": ",null===o||void 0===o?void 0:o.staffROLLNO]})]})]}),(0,b.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,b.jsx)(Be.Z,{selectLabel:d("select_role_of_moderator"),selectedValue:d("please_select_role"),options:["As Librarian","Department Wise Librarian","Library Fines"],value:"FULL_FUNCTIONALITY"===(null===l||void 0===l?void 0:l.mod_role)?"As Librarian":"DEPARTMENT_WISE"===(null===l||void 0===l?void 0:l.mod_role)?"Department Wise Librarian":"FINE_CHARGE"===(null===l||void 0===l?void 0:l.mod_role)?"Library Fines":"",onClick:s}),(0,b.jsxs)("button",{className:Pe.assign_btn,onClick:a,children:[d("update")," "]})]})]})})})},$e=n(39896),Ge=function(e){var t,n,o,l,s,a=e.instituteId,d=e.lid,u=e.onClose,m=e.onRefetchWhenAdd,_=e.openModeratorMenu,h=e.openAs,g=e.onEdit,j=e.fid,p=(0,v.$G)().t,Z=(0,i.useState)("EDIT"===h?"PREVIEW_FORM":"OPEN_STAFF_LIST"),k=(0,c.Z)(Z,2),y=k[0],S=k[1],F=(0,i.useState)("EDIT"===h?null===_||void 0===_?void 0:_.access_staff:""),I=(0,c.Z)(F,2),w=I[0],D=I[1],L=(0,i.useState)({mod_role:"EDIT"===h?null===_||void 0===_?void 0:_.access_role:"",sid:"EDIT"===h?null===_||void 0===_||null===(t=_.access_staff)||void 0===t?void 0:t._id:""}),T=(0,c.Z)(L,2),A=T[0],E=T[1],O=(0,i.useState)({id:[],depart:[]}),R=(0,c.Z)(O,2),B=R[0],P=R[1],Y=(0,f.pV)(),$=(0,c.Z)(Y,1)[0];(0,i.useEffect)((function(){if("EDIT"===h){var e;D(null===_||void 0===_?void 0:_.access_staff),E({mod_role:null===_||void 0===_?void 0:_.access_role,sid:null===_||void 0===_||null===(e=_.access_staff)||void 0===e?void 0:e._id});var t,n=[],i=[],o=(0,Oe.Z)(null===_||void 0===_?void 0:_.department);try{for(o.s();!(t=o.n()).done;){var l=t.value;n.push(null===l||void 0===l?void 0:l._id),i.push(l)}}catch(s){o.e(s)}finally{o.f()}P({id:n,depart:i}),S("PREVIEW_FORM")}}),[h]);var G=function(){S("OPEN_STAFF_LIST")},W=function(e){E((function(t){return(0,N.Z)((0,N.Z)({},t),{},{mod_role:"As Librarian"===e?"FULL_FUNCTIONALITY":"Department Wise Librarian"===e?"DEPARTMENT_WISE":"Library Fines"===e?"FINE_CHARGE":""})}))};return(0,b.jsxs)(b.Fragment,{children:["OPEN_STAFF_LIST"===y&&(0,b.jsx)(Re.default,{assignHead:"OPEN_STAFF_LIST"===y,headSelect:function(e){D(e),E((function(t){return(0,N.Z)((0,N.Z)({},t),{},{sid:null===e||void 0===e?void 0:e._id})})),S("EDIT"===h?"PREVIEW_FORM":"ASSIGN_ROLE")},title:p("staff_list"),onClose:u,instituteId:a,viewAs:"ADMISSION_ADMIN"}),"ASSIGN_ROLE"===y&&(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(M.Z,{onClose:G,children:(0,b.jsxs)("div",{className:Pe.assign_role_container,children:[(0,b.jsxs)("section",{className:Pe.assign_role_title,children:[(0,b.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:G,alt:"back icon",style:{cursor:"pointer"}}),(0,b.jsx)("h6",{children:p("assign_role_to_moderator")})]}),(0,b.jsx)(se.Z,{customStyle:{width:"100%"}}),(0,b.jsxs)("section",{className:Pe.selected_staff_container,children:[(0,b.jsx)("img",{src:null!==w&&void 0!==w&&w.staffProfilePhoto?"".concat(x.yI,"/").concat(null===w||void 0===w?void 0:w.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,b.jsxs)("div",{className:Pe.selected_staff_text,children:[(0,b.jsx)("h6",{children:"".concat(null===w||void 0===w?void 0:w.staffFirstName," ").concat(null!==(n=null===w||void 0===w?void 0:w.staffMiddleName)&&void 0!==n?n:""," ").concat(null===w||void 0===w?void 0:w.staffLastName)}),(0,b.jsxs)("p",{children:[p("index_number")," ",": ",null===w||void 0===w?void 0:w.staffROLLNO]})]})]}),(0,b.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,b.jsx)(Be.Z,{selectLabel:p("select_role_of_moderator"),selectedValue:p("please_select_role"),options:["As Librarian","Department Wise Librarian","Library Fines"],value:"FULL_FUNCTIONALITY"===(null===A||void 0===A?void 0:A.mod_role)?"As Librarian":"DEPARTMENT_WISE"===(null===A||void 0===A?void 0:A.mod_role)?"Department Wise Librarian":"FINE_CHARGE"===(null===A||void 0===A?void 0:A.mod_role)?"Library Fines":"",onClick:W}),"DEPARTMENT_WISE"===A.mod_role?(0,b.jsx)($e.Z,{fid:j,onSelect:function(e){var t,n;null!==B&&void 0!==B&&null!==(t=B.id)&&void 0!==t&&t.includes(null===e||void 0===e?void 0:e._id)?P((function(t){var n,i;return{id:null===t||void 0===t||null===(n=t.id)||void 0===n?void 0:n.filter((function(t){return t!==(null===e||void 0===e?void 0:e._id)})),data:null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.filter((function(t){return(null===t||void 0===t?void 0:t._id)!==(null===e||void 0===e?void 0:e._id)}))}})):(null===(n=B.id)||void 0===n?void 0:n.length)>0?P((function(t){return{id:[].concat((0,r.Z)(null===t||void 0===t?void 0:t.id),[null===e||void 0===e?void 0:e._id]),data:[].concat((0,r.Z)(null===t||void 0===t?void 0:t.data),[e])}})):P((function(){return{id:[null===e||void 0===e?void 0:e._id],data:[e]}}))},onlyDepartment:!0,defalutValue:(null===B||void 0===B||null===(o=B.id)||void 0===o?void 0:o.length)>1?"".concat(null===B||void 0===B||null===(l=B.id)||void 0===l?void 0:l.length," selected"):null!==(s=null===B||void 0===B?void 0:B.dName)&&void 0!==s?s:""}):null,(0,b.jsxs)("button",{className:Pe.assign_btn,onClick:function(){d&&A.mod_role&&A.sid&&(S("LOADING"),$({lid:d,addModerator:(0,N.Z)((0,N.Z)({},A),{},{depart:B.id})}).then((function(){m(),S(""),u()})).catch({}))},children:[p("assign")," "]})]})]})})}),"PREVIEW_FORM"===y&&(0,b.jsx)(Ye,{onCloseEdit:function(){u()},setActivePopup:S,selectedStaff:w,moderatorState:A,onSelectRole:W,onUpdateModerator:function(){g((0,N.Z)((0,N.Z)({},A),{},{depart:B.id})),u()}}),"LOADING"===y&&(0,b.jsx)(C.Z,{})]})},We=n(12072),He=n(84489),Je=n(87049),ze=function(e){var t=e.onClose,n=e.lid,o=e.onRefetch,l=e.openModeratorMenu,s=e.instituteId,a=(0,i.useState)(!1),d=(0,c.Z)(a,2),r=d[0],u=d[1],v=(0,i.useState)(!1),m=(0,c.Z)(v,2),_=m[0],h=m[1],g=(0,f.Uc)(),x=(0,c.Z)(g,1)[0],j=(0,f.sN)(),p=(0,c.Z)(j,1)[0];return(0,b.jsx)(b.Fragment,{children:_?(0,b.jsx)(Ge,{onClose:function(){return h(!1)},fid:n,instituteId:s,onRefetch:o,openAs:"EDIT",openModeratorMenu:l,onEdit:function(e){u((function(e){return!e})),h(!1),p({modId:null===l||void 0===l?void 0:l._id,updateModerator:{role:null===e||void 0===e?void 0:e.mod_role,staffId:null===e||void 0===e?void 0:e.sid}}).then((function(){o(),u((function(e){return!e})),t()})).catch({})}}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(He.Z,{onClose:t}),(0,b.jsxs)(We.Z,{customStyle:{zIndex:"1200"},children:[(0,b.jsxs)("div",{className:Je.Z.edit_modal_container,style:{width:"200px"},children:[(0,b.jsx)("h6",{className:Je.Z.edit,onClick:function(){return h((function(e){return!e}))},children:"Edit"}),(0,b.jsx)("h6",{className:Je.Z.remove,onClick:function(){u((function(e){return!e})),x({modId:null===l||void 0===l?void 0:l._id}).then((function(){o(),t(),u((function(e){return!e}))})).catch({})},children:"Delete"})]}),r&&(0,b.jsx)(C.Z,{})]})]})})},Ve=function(e){var t,n,i,o,l,s,a,d=e.moderator,r=e.setOpenModeratorMenu,c=(0,v.$G)().t;return(0,b.jsxs)("div",{className:Pe.moderator_card,children:[(0,b.jsx)("img",{src:null!==d&&void 0!==d&&null!==(t=d.access_staff)&&void 0!==t&&t.staffProfilePhoto?"".concat(x.yI,"/").concat(null===d||void 0===d||null===(n=d.access_staff)||void 0===n?void 0:n.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"moderator avatar"}),(0,b.jsxs)("section",{className:Pe.moderator_card_text_container,children:[(0,b.jsx)("h6",{children:"".concat(null===d||void 0===d||null===(i=d.access_staff)||void 0===i?void 0:i.staffFirstName," ").concat(null!==(o=null===d||void 0===d||null===(l=d.access_staff)||void 0===l?void 0:l.staffMiddleName)&&void 0!==o?o:""," ").concat(null===d||void 0===d||null===(s=d.access_staff)||void 0===s?void 0:s.staffLastName)}),(0,b.jsxs)("p",{children:[c("index_number")," ",": ",null===d||void 0===d||null===(a=d.access_staff)||void 0===a?void 0:a.staffROLLNO]}),(0,b.jsx)("p",{children:"FULL_FUNCTIONALITY"===(null===d||void 0===d?void 0:d.access_role)?"As Librarian":"DEPARTMENT_WISE"===(null===d||void 0===d?void 0:d.access_role)?"Department Wise Librarian":"FINE_CHARGE"===(null===d||void 0===d?void 0:d.access_role)?"Library Fines":""})]}),(0,b.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(){return r(d)},className:Pe.menu_icon,title:"Menu"})]})},Ue=function(e){var t=e.lid,n=e.instituteId,o=e.fid,s=(0,v.$G)().t,a=(0,l.s0)(),d=(0,i.useState)(!1),u=(0,c.Z)(d,2),h=u[0],g=u[1],x=(0,i.useState)(""),j=(0,c.Z)(x,2),p=j[0],Z=j[1],k=(0,m.YD)(),y=(0,c.Z)(k,2),N=y[0],S=y[1],M=(0,i.useState)(1),C=(0,c.Z)(M,2),F=C[0],I=C[1],w=(0,i.useState)(!0),D=(0,c.Z)(w,2),L=D[0],T=D[1],A=(0,i.useState)(!1),E=(0,c.Z)(A,2),O=E[0],R=E[1],B=(0,i.useState)(!0),P=(0,c.Z)(B,2),Y=P[0],$=P[1],G=(0,i.useState)([]),W=(0,c.Z)(G,2),H=W[0],J=W[1],z=(0,f.z2)({data:{lid:t,page:F,limit:10},skip:!t}),V=z.getModeratorByLibrary,U=z.getModeratorByLibraryRefetch,q=(0,ge.u)().scrollToTop;(0,i.useEffect)((function(){q()}),[]),(0,i.useEffect)((function(){t&&($(!0),U())}),[t,F,U]),(0,i.useEffect)((function(){S&&L&&I((function(e){return e+1}))}),[S,L]),(0,i.useEffect)((function(){var e,t;O?(J(null===V||void 0===V?void 0:V.moderator),R(!1),$(!1)):null!==V&&void 0!==V&&V.moderator?(J((function(e){var t,n;return null===(t=(0,r.Z)(new Set(null===(n=[].concat((0,r.Z)(e),(0,r.Z)(null===V||void 0===V?void 0:V.moderator)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),$(!1)):0===(null===V||void 0===V||null===(t=V.moderator)||void 0===t?void 0:t.length)&&$(!1);10===(null===V||void 0===V||null===(e=V.moderator)||void 0===e?void 0:e.length)?T(!0):T(!1)}),[null===V||void 0===V?void 0:V.moderator]);var K=function(){R(!0),I(1),$(!0),U()};return(0,b.jsxs)("div",{className:Pe.moderator_container,children:[(0,b.jsxs)("section",{className:Pe.moderator_container_title,children:[(0,b.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){a(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,b.jsx)("h6",{children:s("library_moderator")})]}),(0,b.jsx)(se.Z,{customStyle:{width:"100%"}}),(0,b.jsx)("h6",{className:Pe.add_new_moderator,onClick:function(){return g(!0)},children:s("add_new_moderator")}),(0,b.jsxs)("div",{className:Pe.refund_list,children:[null===H||void 0===H?void 0:H.map((function(e,t){return(null===H||void 0===H?void 0:H.length)===t+1?(0,b.jsx)("div",{ref:N,children:(0,b.jsx)(Ve,{moderator:e,setOpenModeratorMenu:Z})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(Ve,{moderator:e,setOpenModeratorMenu:Z},null===e||void 0===e?void 0:e._id)})),h&&(0,b.jsx)(Ge,{onClose:function(){return g((function(e){return!e}))},instituteId:n,lid:t,onRefetchWhenAdd:K,fid:o}),p&&(0,b.jsx)(ze,{lid:t,instituteId:n,onRefetch:K,onClose:function(){return Z("")},openModeratorMenu:p,fid:o}),Y&&(0,b.jsx)(_.Z,{})]})]})},qe=function(e){var t,n,o,l,s,a,d,r,u,m,_,h=e.book,g=e.isType,j=e.stid,p=e.onRefetch,Z=(0,v.$G)().t,k=(0,i.useState)(!1),y=(0,c.Z)(k,2),N=y[0],S=y[1],M=(0,f.Y)(),F=(0,c.Z)(M,1)[0],I=function(e){var t;j&&null!==h&&void 0!==h&&h._id&&(S((function(e){return!e})),F({stid:j,missingBook:{bookId:null===h||void 0===h||null===(t=h.book)||void 0===t?void 0:t._id,card_id:null===h||void 0===h?void 0:h._id,status:e}}).then((function(){p(),S((function(e){return!e}))})).catch({}))};return(0,b.jsxs)(b.Fragment,{children:["MISSING"===g?(0,b.jsxs)("div",{className:H.Z.iohc_card,style:{justifyContent:"space-between"},children:[(0,b.jsxs)("div",{className:H.Z.iohcc_missing,children:[(0,b.jsx)("img",{src:null!==h&&void 0!==h&&null!==(t=h.book)&&void 0!==t&&t.photo?"".concat(x.yI,"/").concat(null===h||void 0===h||null===(n=h.book)||void 0===n?void 0:n.photo):"/images/defaultBook.png",alt:"icons",style:{width:"3rem",height:"3rem"}}),(0,b.jsxs)("div",{className:H.Z.iohc_card_inner,style:{alignItems:"flex-start",flexDirection:"column",gap:"0"},children:[(0,b.jsxs)("h6",{style:{fontWeight:"500"},children:[Z("book_name")," ",": ",null!==(o=null===h||void 0===h||null===(l=h.book)||void 0===l?void 0:l.bookName)&&void 0!==o?o:""]}),(0,b.jsxs)("p",{style:{margin:"0"},children:[Z("author_only")," ",": ",null!==(s=null===h||void 0===h||null===(a=h.book)||void 0===a?void 0:a.author)&&void 0!==s?s:""]}),(0,b.jsxs)("p",{style:{margin:"0"},children:[Z("accession_number")," ",": ",null!==(d=null===h||void 0===h||null===(r=h.book)||void 0===r?void 0:r.accession_number)&&void 0!==d?d:""]})]})]}),(0,b.jsxs)("div",{className:H.Z.iohcb_missing,children:[(0,b.jsx)("h6",{onClick:function(){return I("book_isssue")},children:Z("book_issue_only")}),(0,b.jsx)("h6",{onClick:function(){return I("book_lost")},children:Z("book_lost_only")}),(0,b.jsx)("h6",{onClick:function(){return I("book_at_library")},children:Z("book_at_library_only")})]})]}):(0,b.jsxs)("div",{className:H.Z.iohc_card,children:[(0,b.jsx)("img",{src:null!==h&&void 0!==h&&h.photo?"".concat(x.yI,"/").concat(null===h||void 0===h?void 0:h.photo):"/images/defaultBook.png",alt:"icons",style:{width:"3rem",height:"3rem"}}),(0,b.jsxs)("div",{className:H.Z.iohc_card_inner,style:{alignItems:"flex-start",flexDirection:"column",gap:"0"},children:[(0,b.jsxs)("h6",{style:{fontWeight:"500"},children:[Z("book_name")," ",": ",null!==(u=null===h||void 0===h?void 0:h.bookName)&&void 0!==u?u:""]}),(0,b.jsxs)("p",{style:{margin:"0"},children:[Z("author_only")," ",": ",null!==(m=null===h||void 0===h?void 0:h.author)&&void 0!==m?m:""]}),(0,b.jsxs)("p",{style:{margin:"0"},children:[Z("accession_number")," ",": ",null!==(_=null===h||void 0===h?void 0:h.accession_number)&&void 0!==_?_:""]})]})]}),N&&(0,b.jsx)(C.Z,{})]})},Ke=function(){var e,t,n,o,s,a,d,u,h,g,x,j,p=(0,v.$G)().t,Z=(0,l.TH)(),k=(0,m.YD)(),y=(0,c.Z)(k,2),N=y[0],S=y[1],M=(0,i.useState)(1),C=(0,c.Z)(M,2),F=C[0],I=C[1],w=(0,i.useState)(!0),D=(0,c.Z)(w,2),L=D[0],T=D[1],A=(0,i.useState)(!0),E=(0,c.Z)(A,2),O=E[0],R=E[1],B=(0,i.useState)([]),P=(0,c.Z)(B,2),Y=P[0],$=P[1],G=(0,f.M_)({data:{stid:null===(e=Z.state)||void 0===e?void 0:e.stid,page:F,limit:10,flow:null===(t=Z.state)||void 0===t?void 0:t.flow},skip:!(null!==(n=Z.state)&&void 0!==n&&n.stid)}),W=G.libraryGetStocktakeOneHistory,J=G.libraryGetStocktakeOneHistoryRefetch;(0,i.useEffect)((function(){S&&L&&I((function(e){return e+1}))}),[S,L]),(0,i.useEffect)((function(){var e;null!==(e=Z.state)&&void 0!==e&&e.stid&&(R(!0),J())}),[F,null===(o=Z.state)||void 0===o?void 0:o.stid,J]),(0,i.useEffect)((function(){var e,t;null!==W&&void 0!==W&&W.stocktake_list?F>1?($((function(e){var t,n;return null===(t=(0,r.Z)(new Set(null===(n=[].concat((0,r.Z)(e),(0,r.Z)(null===W||void 0===W?void 0:W.stocktake_list)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),R(!1)):($(null===W||void 0===W?void 0:W.stocktake_list),R(!1)):0===(null===W||void 0===W||null===(e=W.stocktake_list)||void 0===e?void 0:e.length)&&R(!1),10===(null===W||void 0===W||null===(t=W.stocktake_list)||void 0===t?void 0:t.length)?T(!0):T(!1)}),[null===W||void 0===W?void 0:W.stocktake_list]);var z=function(){I((function(e){return 1})),J()};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("h6",{className:H.Z.fine_heading,children:[p("stocktake_detail")," (",p(null===(s=Z.state)||void 0===s?void 0:s.flow)," ",null!==(a=null===(d=Z.state)||void 0===d?void 0:d.count)&&void 0!==a?a:0,")"]}),(0,b.jsx)(se.Z,{customStyle:{width:"100%",marginTop:"0.2rem"}}),(0,b.jsxs)("div",{style:{padding:"1rem"},children:["book_at_library"===(null===(u=Z.state)||void 0===u?void 0:u.flow)||"book_lost"===(null===(h=Z.state)||void 0===h?void 0:h.flow)?(0,b.jsx)(b.Fragment,{children:null===Y||void 0===Y?void 0:Y.map((function(e,t){return(null===Y||void 0===Y?void 0:Y.length)===t+1?(0,b.jsx)("div",{ref:N,style:{width:"100%"},children:(0,b.jsx)(qe,{book:e})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(qe,{book:e},null===e||void 0===e?void 0:e._id)}))}):"book_missing"===(null===(g=Z.state)||void 0===g?void 0:g.flow)?(0,b.jsx)(b.Fragment,{children:null===Y||void 0===Y?void 0:Y.map((function(e,t){var n,i;return(null===Y||void 0===Y?void 0:Y.length)===t+1?(0,b.jsx)("div",{ref:N,style:{width:"100%"},children:(0,b.jsx)(qe,{book:e,isType:"MISSING",stid:null===(n=Z.state)||void 0===n?void 0:n.stid,onRefetch:z})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(qe,{book:e,isType:"MISSING",stid:null===(i=Z.state)||void 0===i?void 0:i.stid,onRefetch:z},null===e||void 0===e?void 0:e._id)}))}):"book_isssue"===(null===(x=Z.state)||void 0===x?void 0:x.flow)?(0,b.jsx)(b.Fragment,{children:null===Y||void 0===Y?void 0:Y.map((function(e,t){return(null===Y||void 0===Y?void 0:Y.length)===t+1?(0,b.jsx)("div",{ref:N,style:{width:"100%"},children:(0,b.jsx)(qe,{book:e,isType:"ISSUE"})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(qe,{book:e,isType:"ISSUE"},null===e||void 0===e?void 0:e._id)}))}):null,O&&(0,b.jsx)(_.Z,{}),!O&&0===(null===W||void 0===W||null===(j=W.stocktake_list)||void 0===j?void 0:j.length)&&(0,b.jsx)("div",{className:H.Z.noData,children:(0,b.jsx)("img",{src:"/images/nodata.jpg",alt:"",style:{width:"100%"}})})]})]})};var Qe=function(e){var t,n,o,s,a,r,c,u,v,m,_,h,g,x,j,p,k,y,N,S,M,C,F,I,w,D,L,T,A,E,O,R,B=e.carryParentState,P=e.role,Y=e.mid,$=(0,l.TH)(),G=(0,f.yX)({lid:null===B||void 0===B||null===(t=B.onClickValue)||void 0===t?void 0:t._id,skip:!(null!==B&&void 0!==B&&null!==(n=B.onClickValue)&&void 0!==n&&n._id)}),J=G.getLibraryDetail,z=G.getLibraryDetailRefetch;return(0,i.useEffect)((function(){var e;null!==B&&void 0!==B&&null!==(e=B.onClickValue)&&void 0!==e&&e._id&&z()}),[null===B||void 0===B||null===(o=B.onClickValue)||void 0===o?void 0:o._id]),(0,b.jsx)("div",{className:H.Z.admisionApplication,children:(0,b.jsxs)("div",{className:H.Z.applicationBody,children:["book"===(null===(s=$.search)||void 0===s?void 0:s.substring(3,7))&&(0,b.jsx)(d.Z,{getQuery:$,carryParentState:B,fid:null===J||void 0===J||null===(a=J.library)||void 0===a||null===(r=a.institute)||void 0===r||null===(c=r.financeDepart)||void 0===c?void 0:c[0],filterBy:null===J||void 0===J||null===(u=J.library)||void 0===u||null===(v=u.filter_by)||void 0===v?void 0:v.department,role:P,mid:Y}),"issue"===(null===(m=$.search)||void 0===m?void 0:m.substring(3))&&(0,b.jsx)(W,{insId:null===J||void 0===J||null===(_=J.library)||void 0===_||null===(h=_.institute)||void 0===h?void 0:h._id,role:P,mid:Y}),"collect"===(null===(g=$.search)||void 0===g?void 0:g.substring(3))&&(0,b.jsx)(Z,{}),"member"===(null===(x=$.search)||void 0===x?void 0:x.substring(3))&&(0,b.jsx)(oe,{}),"charge"===(null===(j=$.search)||void 0===j?void 0:j.substring(3,9))&&(0,b.jsx)(me,{carryParentState:B}),"export"===(null===(p=$.search)||void 0===p?void 0:p.substring(3,9))&&(0,b.jsx)(Se,{carryParentState:B,lid:null===B||void 0===B||null===(k=B.onClickValue)||void 0===k?void 0:k._id}),"qr"===(null===(y=$.search)||void 0===y?void 0:y.substring(3))&&(0,b.jsx)(De,{carryParentState:B,lid:null===B||void 0===B||null===(N=B.onClickValue)||void 0===N?void 0:N._id}),"logs"===(null===(S=$.search)||void 0===S?void 0:S.substring(3))&&(0,b.jsx)(Te,{carryParentState:B,lid:null===B||void 0===B||null===(M=B.onClickValue)||void 0===M?void 0:M._id}),"stocktake"===(null===(C=$.search)||void 0===C?void 0:C.substring(3))&&(0,b.jsx)(Ee,{carryParentState:B,lid:null===B||void 0===B||null===(F=B.onClickValue)||void 0===F?void 0:F._id}),"stocktake-detail"===(null===(I=$.search)||void 0===I?void 0:I.substring(3))&&(0,b.jsx)(Ke,{carryParentState:B,lid:null===B||void 0===B||null===(w=B.onClickValue)||void 0===w?void 0:w._id}),"moderator"===(null===(D=$.search)||void 0===D?void 0:D.substring(3))&&(0,b.jsx)(Ue,{lid:null===B||void 0===B||null===(L=B.onClickValue)||void 0===L?void 0:L._id,instituteId:null===J||void 0===J||null===(T=J.library)||void 0===T||null===(A=T.institute)||void 0===A?void 0:A._id,fid:null===J||void 0===J||null===(E=J.library)||void 0===E||null===(O=E.institute)||void 0===O||null===(R=O.financeDepart)||void 0===R?void 0:R[0]})]})})},Xe=n(21640),et="MiddleContent_MiddleContent__WKHNs",tt="MiddleContent_MiddleContentLeft__+wl3w",nt="MiddleContent_tabs__rNsOO",it="MiddleContent_item__HkkSz",ot="MiddleContent_itemIcon__yR7dj",lt="MiddleContent_classList__0STf8",st="Tabs_mcqToptabs__TZyM2",at="Tabs_mcqTop__DeSKD",dt="Tabs_mcqTopItem__Okqo0",rt="Tabs_active__GRYqn";var ct=function(e){var t=e.activeIndex,n=e.setActiveIndex,i=(0,v.$G)().t;return(0,b.jsx)("div",{className:at,children:(0,b.jsxs)("div",{className:st,children:[(0,b.jsx)("div",{className:0===t?"".concat(dt," ").concat(rt):dt,onClick:function(){return n(0)},children:i("menu")}),(0,b.jsx)("div",{className:1===t?"".concat(dt," ").concat(rt):dt,onClick:function(){return n(1)},children:i("funds")})]})})},ut="Funds_funds__A1w1z",vt="Funds_fundshead__L-ikp",mt="Funds_fundscontent__60rTr",ft="Funds_sidebarbottomitem__HxeQl",_t="Funds_namee__F4I2F",ht="Funds_desig__tgpDW",gt="Funds_balanceItem__wygKQ",xt="Funds_recover_btn__AJWzV",bt="Funds_submitbtn__+nZSz",jt="Funds_disabled__NcqJ-";var pt=function(e){var t=e.bal,n=e.value;return(0,b.jsxs)("div",{className:gt,children:[(0,b.jsxs)("p",{children:[t,":"]}),(0,b.jsxs)("p",{children:["Rs. ",n]})]})},Zt=n(49384),kt=n(11237);var yt=function(e){var t,n=e.carryParentState,o=e.library,l=e.getLibraryDetailRefetch,a=e.role,d=(0,v.$G)().t,r=(0,s.v9)((function(e){return e.libraryChange})),u=(0,f.eQ)(),m=(0,c.Z)(u,1)[0],_=i.useState(!1),h=(0,c.Z)(_,2),g=h[0],x=h[1];return(0,b.jsxs)("div",{className:ut,children:[(0,b.jsxs)("div",{className:vt,children:[(0,b.jsxs)("h6",{children:[" ",d("lib_fines")," "]}),(0,b.jsx)("img",{src:"/images/finance/filter-icon.svg",alt:""})]}),(0,b.jsxs)("div",{className:mt,children:[(0,b.jsxs)("div",{className:ft,children:[(0,b.jsx)("img",{alt:"not found",src:"/images/finance/doller-icon.svg"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:_t,children:"Rs. ".concat(null===o||void 0===o?void 0:o.totalFine)}),(0,b.jsx)("p",{className:ht,children:d("total_fine_collected")})]})]}),(0,b.jsx)(pt,{check:"false",bal:d("cash_fine"),value:null===o||void 0===o?void 0:o.offlineFine}),(0,b.jsx)(pt,{check:"false",bal:d("bank_fine"),value:null===o||void 0===o?void 0:o.onlineFine}),(0,b.jsx)(pt,{check:"true",bal:d("cash_with_me"),value:null===o||void 0===o?void 0:o.collectedFine}),a?(0,b.jsx)(b.Fragment,{children:"Pending"===(null===o||void 0===o?void 0:o.requestStatus)&&(null===o||void 0===o?void 0:o.collectedFine)>0?(0,b.jsxs)("button",{className:bt,disabled:g,onClick:function(){x((function(e){return!e})),m({lid:null===r||void 0===r?void 0:r.lid,fine:{amount:null===o||void 0===o?void 0:o.collectedFine}}).then((function(){l(),x((function(e){return!e}))})).catch((function(){x((function(e){return!e}))}))},children:[d("sublit_to_finance"),g&&(0,b.jsx)("div",{style:{marginTop:"0.7vw"},children:(0,b.jsx)(Zt.Z,{})})]}):"Requested"===(null===o||void 0===o?void 0:o.requestStatus)?(0,b.jsx)("button",{className:"".concat(bt," ").concat(jt),children:d("request_to_finance")}):(0,b.jsx)("button",{className:"".concat(bt," ").concat(jt),children:d("sublit_to_finance")})}):null,(0,b.jsx)(kt.Z,{carryParentState:n,activeTab:"charge",role:a,children:(0,b.jsxs)("div",{className:xt,children:[d("total_pending_fees"),": ",d("rs"),". ",null!==(t=null===o||void 0===o?void 0:o.remainFine)&&void 0!==t?t:0]})})]}),g&&(0,b.jsx)(C.Z,{})]})};var Nt=function(e){var t=e.library,n=e.getLibraryDetailRefetch,o=e.carryParentState,l=e.role,s=(0,i.useState)(0),a=(0,c.Z)(s,2),d=a[0],r=a[1],u=(0,v.$G)().t;return(0,b.jsx)("div",{className:et,children:(0,b.jsxs)("div",{className:tt,children:[(0,b.jsx)("div",{className:nt,children:(0,b.jsx)(ct,{activeIndex:d,setActiveIndex:r})}),0===d&&(0,b.jsxs)("div",{className:it,children:[(0,b.jsx)(kt.Z,{carryParentState:o,activeTab:"book",role:l,children:(0,b.jsxs)("div",{className:ot,children:[(0,b.jsx)("img",{src:"/images/member_tab/library/library-allbook-icon.svg",alt:"Class Catalog"}),(0,b.jsx)("p",{children:u("all_books")})]})}),(0,b.jsx)(kt.Z,{carryParentState:o,activeTab:"issue",role:l,children:(0,b.jsxs)("div",{className:ot,children:[(0,b.jsx)("img",{src:"/images/member_tab/library/library-issue-icon.svg",alt:"issued books"}),(0,b.jsx)("p",{children:u("issued_books")})]})}),(0,b.jsx)(kt.Z,{carryParentState:o,activeTab:"collect",role:l,children:(0,b.jsxs)("div",{className:ot,children:[(0,b.jsx)("img",{src:"/images/member_tab/library/library-collect-icon.svg",alt:"collected logs"}),(0,b.jsx)("p",{children:u("collected_logs")})]})}),(0,b.jsx)(kt.Z,{carryParentState:o,activeTab:"charge",role:l,children:(0,b.jsxs)("div",{className:ot,children:[(0,b.jsx)("img",{src:"/images/member_tab/library/library-fine-icon.svg",alt:"members"}),(0,b.jsx)("p",{children:u("library_fine")})]})}),(0,b.jsx)(kt.Z,{carryParentState:o,activeTab:"member",role:l,children:(0,b.jsxs)("div",{className:ot,children:[(0,b.jsx)("img",{src:"/images/member_tab/library/library-member-icon.svg",alt:"members"}),(0,b.jsx)("p",{children:u("members")})]})}),(0,b.jsx)(kt.Z,{carryParentState:o,activeTab:"export",role:l,children:(0,b.jsxs)("div",{className:ot,children:[(0,b.jsx)("img",{src:"/images/member_tab/finance/finance-export-icon.svg",alt:"refund"}),(0,b.jsx)("p",{children:u("data_export")})]})}),(0,b.jsx)(kt.Z,{carryParentState:o,activeTab:"qr",role:l,children:(0,b.jsxs)("div",{className:ot,children:[(0,b.jsx)("img",{src:"/images/member_tab/class/class-setting-icon.svg",alt:"refund"}),(0,b.jsx)("p",{children:u("setting")})]})}),(0,b.jsx)(kt.Z,{carryParentState:o,activeTab:"logs",role:l,children:(0,b.jsxs)("div",{className:ot,children:[(0,b.jsx)("img",{src:"/images/member_tab/subject/subject-daily-update-icon.svg",alt:"refund"}),(0,b.jsx)("p",{children:u("logs")})]})}),(0,b.jsx)(kt.Z,{carryParentState:o,activeTab:"moderator",role:l,children:(0,b.jsxs)("div",{className:ot,children:[(0,b.jsx)("img",{src:"/images/member_tab/admission/admission-moderator-icon.svg",alt:"refund"}),(0,b.jsx)("p",{children:u("library_moderators")})]})}),(0,b.jsx)(kt.Z,{carryParentState:o,activeTab:"stocktake",role:l,children:(0,b.jsxs)("div",{className:ot,children:[(0,b.jsx)("img",{src:"/images/member_tab/subject/subject-daily-update-icon.svg",alt:"refund"}),(0,b.jsx)("p",{children:u("stocktake")})]})})]}),1===d&&(0,b.jsx)("div",{className:lt,children:(0,b.jsx)(yt,{library:t,carryParentState:o,getLibraryDetailRefetch:n,role:l})})]})})},St=function(e){var t,n,o,a,d,r,u,m,_,h,g,x,j=e.carryParentState,p=e.role,Z=(0,v.$G)().t,k=(0,l.UO)(),y=(0,s.v9)((function(e){return e.libraryChange})),N=(0,i.useState)(""),S=(0,c.Z)(N,2),M=S[0],C=S[1],F=(0,i.useState)(""),I=(0,c.Z)(F,2),w=I[0],D=I[1],L=(0,i.useState)(!1),T=(0,c.Z)(L,2),A=T[0],E=T[1],O=(0,i.useState)(!1),R=(0,c.Z)(O,2),B=R[0],P=R[1],Y=(0,i.useState)(""),$=(0,c.Z)(Y,2),G=$[0],W=$[1],H=(0,f.Se)(),J=(0,c.Z)(H,1)[0];(0,i.useEffect)((function(){if(B){var e=new FormData;e.append("file",w),J({file:e,lid:null===y||void 0===y?void 0:y.lid}).then((function(e){})).catch({})}}),[B,w]);var z=(0,f.yX)({lid:null===y||void 0===y?void 0:y.lid,skip:!(null!==y&&void 0!==y&&y.lid)}),V=z.getLibraryDetail,U=z.getLibraryDetailRefetch;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Xe.Z,{coverKey:null===V||void 0===V||null===(t=V.library)||void 0===t?void 0:t.cover,coverId:null===V||void 0===V||null===(n=V.library)||void 0===n?void 0:n.coverId,defaultCover:"/images/profileAndCover/library-cover.png",textLarge:Z("librarian"),textSmall:"".concat(null===V||void 0===V||null===(o=V.library)||void 0===o||null===(a=o.libraryHead)||void 0===a?void 0:a.staffFirstName," ").concat(null!==V&&void 0!==V&&null!==(d=V.library)&&void 0!==d&&null!==(r=d.libraryHead)&&void 0!==r&&r.staffMiddleName?null===V||void 0===V||null===(u=V.library)||void 0===u||null===(m=u.libraryHead)||void 0===m?void 0:m.staffMiddleName:""," ").concat(null===V||void 0===V||null===(_=V.library)||void 0===_||null===(h=_.libraryHead)||void 0===h?void 0:h.staffLastName),count1:null===V||void 0===V||null===(g=V.library)||void 0===g?void 0:g.bookCount,count1label:Z("books"),count2:null===V||void 0===V||null===(x=V.library)||void 0===x?void 0:x.memberCount,count2label:Z("members"),profilePhoto:G,profileChange:function(e){var t=URL.createObjectURL(e.target.files[0]);D(e.target.files[0]),W(t),C(t),E(!0)},openCrop:A,setOpenCrop:E,setPhotoURL:C,photoURL:M,setFile:D,setUpload:P,setProfilePhoto:W,viewAs:!0,redirectUrl:"/q/".concat(k.username,"/member/library?a=site"),carryParentState:j}),(0,b.jsx)(Nt,{library:null===V||void 0===V?void 0:V.library,getLibraryDetailRefetch:U,carryParentState:j,role:p})]})};var Mt=function(e){var t=e.onClickValue,n=e.carryParentState,i=e.role,o=e.mid,s=(0,l.TH)();return(0,b.jsxs)("div",{className:a,children:[!s.search&&(0,b.jsx)(St,{carryParentState:n,role:i}),s.search&&(0,b.jsx)(Qe,{carryParentState:n,insId:null===t||void 0===t?void 0:t.institute,role:i,mid:o})]})},Ct=n(46500),Ft=n(78068),It=function(){var e,t,n,a,d,r,c,u,v,m,f,_,h,g,x,j,p,Z=(0,l.TH)(),k=(0,s.I0)();return(0,i.useEffect)((function(){var e,t,n,i,o;k(Ct.X.libraryQuery({lid:null===Z||void 0===Z||null===(e=Z.state)||void 0===e||null===(t=e.onClickValue)||void 0===t?void 0:t._id,lhead:null===Z||void 0===Z||null===(n=Z.state)||void 0===n||null===(i=n.onClickValue)||void 0===i||null===(o=i.libraryHead)||void 0===o?void 0:o._id}))}),[]),(0,b.jsx)(b.Fragment,{children:"site"===(null===Z||void 0===Z||null===(e=Z.search)||void 0===e?void 0:e.substring(3))?(0,b.jsx)(Ft.Z,{lid:null===Z||void 0===Z||null===(t=Z.state)||void 0===t||null===(n=t.onClickValue)||void 0===n?void 0:n._id}):(0,b.jsx)(o.Z,{index:null!==Z&&void 0!==Z&&null!==(a=Z.state)&&void 0!==a&&null!==(d=a.onClickValue)&&void 0!==d&&d.role?"58":"8",sid:null!==(r=null===Z||void 0===Z||null===(c=Z.state)||void 0===c?void 0:c.sid)&&void 0!==r?r:"",onClickValue:null!==(u=null===Z||void 0===Z||null===(v=Z.state)||void 0===v?void 0:v.onClickValue)&&void 0!==u?u:"",children:(0,b.jsx)(Mt,{onClickValue:null!==(m=null===Z||void 0===Z||null===(f=Z.state)||void 0===f?void 0:f.onClickValue)&&void 0!==m?m:"",carryParentState:null===Z||void 0===Z?void 0:Z.state,role:null!==(_=null===(h=Z.state)||void 0===h||null===(g=h.onClickValue)||void 0===g?void 0:g.role)&&void 0!==_?_:"",mid:null!==(x=null===(j=Z.state)||void 0===j||null===(p=j.onClickValue)||void 0===p?void 0:p.mid)&&void 0!==x?x:""})})})}},47735:function(e,t,n){"use strict";var i=n(29439),o=n(72791),l=(n(32804),n(29017)),s=n(98734),a=n(62732),d=n(69721),r=n(80184);t.Z=function(e){var t=e.rid,n=(0,o.useState)(!1),c=(0,i.Z)(n,2),u=c[0],v=c[1],m=(0,o.useState)(""),f=(0,i.Z)(m,2),_=f[0],h=f[1],g=(0,o.useState)(""),x=(0,i.Z)(g,2),b=x[0],j=x[1],p=(0,l.H0)({rid:_,skip:!_}),Z=p.internalFeeReceipt,k=p.internalFeeReceiptRefetch;(0,o.useEffect)((function(){_&&k()}),[_,k]);return(0,o.useEffect)((function(){null!==Z&&void 0!==Z&&Z.receipt&&null!==Z&&void 0!==Z&&Z.one_account&&j(Z)}),[Z]),(0,o.useEffect)((function(){if(b){var e,t,n,i,o,l,s,r;v((function(e){return!e}));var c=null===b||void 0===b?void 0:b.one_account,u=null===b||void 0===b?void 0:b.receipt,m=null!==u&&void 0!==u&&null!==(e=u.finance)&&void 0!==e&&null!==(t=e.institute)&&void 0!==t&&t.insProfilePhoto?"".concat(d.Yz,"/").concat(null===u||void 0===u||null===(n=u.finance)||void 0===n||null===(i=n.institute)||void 0===i?void 0:i.insProfilePhoto):"/images/certificate/logodemo.jpg",f=null!==u&&void 0!==u&&null!==(o=u.finance)&&void 0!==o&&null!==(l=o.institute)&&void 0!==l&&l.affliatedLogo?"".concat(d.Yz,"/").concat(null===u||void 0===u||null===(s=u.finance)||void 0===s||null===(r=s.institute)||void 0===r?void 0:r.affliatedLogo):"/images/certificate/logodemo.jpg";c&&u&&((0,a.Z)(c,u,m,f),v(!1)),j(""),window.location.reload()}}),[b]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{src:"/images/members/receipt-icon.svg",onClick:function(){var e;(e=t)&&(v((function(e){return!e})),h(e))},alt:"receipt icon"}),u&&(0,r.jsx)(s.Z,{})]})}},12923:function(e,t,n){"use strict";n.d(t,{Ec:function(){return j},Em:function(){return k},JM:function(){return f},NS:function(){return s},Pg:function(){return _},Q_:function(){return b},RH:function(){return m},Tv:function(){return r},U_:function(){return x},VN:function(){return a},Wj:function(){return u},ZS:function(){return v},_8:function(){return p},d5:function(){return c},tB:function(){return g},vI:function(){return Z},yx:function(){return d},zO:function(){return h}});var i=n(29439),o=n(91007),l=n(58208),s=function(e){var t=(0,l.YD)(e.search,{skip:e.skip});return{instituteAllSearch:t.data,instituteAllSearchRefetch:t.refetch}},a=function(){var e=(0,l.ak)();return[(0,i.Z)(e,1)[0]]},d=function(){var e=(0,l.WL)();return[(0,i.Z)(e,1)[0]]},r=function(e){var t=(0,l.pH)(e.list,{skip:e.skip});return{instituteFollowList:t.data,instituteFollowListRefetch:t.refetch}},c=function(e){var t=(0,l.MG)(e.data,{skip:e.skip});return{instituteOwnFollowingList:t.data,instituteOwnFollowingListRefetch:t.refetch}},u=function(){var e=(0,l.Ky)();return[(0,i.Z)(e,1)[0]]},v=function(e){var t=(0,l.p8)(e.list);return{userFollowList:t.data,userFollowListRefetch:t.refetch}},m=function(e){var t=(0,l.Wv)(e);return{userFollowingList:t.data,userFollowingListRefetch:t.refetch}},f=function(e){var t=(0,l.sz)(e.search,{skip:e.skip});return{userAllSearch:t.data,userAllSearchRefetch:t.refetch}},_=function(){var e=(0,l.Mk)();return[(0,i.Z)(e,1)[0]]},h=function(){var e=(0,l.$i)();return[(0,i.Z)(e,1)[0]]},g=function(){var e=(0,l.Do)();return[(0,i.Z)(e,1)[0]]},x=function(){var e=(0,l.He)();return[(0,i.Z)(e,1)[0]]},b=function(){var e=(0,l.vg)();return[(0,i.Z)(e,1)[0]]},j=function(){var e=(0,l.OO)();return[(0,i.Z)(e,1)[0]]},p=function(e){var t=(0,l.N2)(e);return{userCircleList:t.data,userCircleListRefetch:t.refetch}},Z=function(e){var t=(0,o.x6)(e.search,{skip:e.skip});return{assignSearchStaff:t.data,assignSearchStaffRefetch:t.refetch}},k=function(e){var t=(0,l.SJ)(e);return{universalUser:t.data,universalUserRefetch:t.refetch}}},11163:function(e,t,n){"use strict";n.d(t,{BK:function(){return _},Ff:function(){return r},GX:function(){return j},S4:function(){return v},o:function(){return h},oz:function(){return c}});var i=n(29439),o=n(93433),l=n(72791),s=n(43997),a=n(97892),d=n.n(a),r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],c=["January","February","March","April","May","June","July","August","September","October","November","December"],u={0:4,1:3,2:4,3:3,4:4,5:3,6:4,7:4,8:3,9:4,10:3,11:4},v=function(){for(var e=(new Date).getFullYear(),t=e-70,n=[],i=e+30;i>=t;i--)n.push(i);return n.reverse()},m=[1,2,3,4,5,6,0],f=function(){return new Date},_=function(e,t){var n,i,o;o=t?null===(n=d()(e))||void 0===n?void 0:n.format("YYYY-MM-DD"):(0,s.O_)(e);var l=new Date,a=null===(i=d()(l))||void 0===i?void 0:i.format("YYYY-MM-DD"),r=new Date("".concat(o)),c=new Date("".concat(a));return r.getTime()===c.getTime()},h=function(e,t){return e===function(e){var t=null===e||void 0===e?void 0:e.split("-"),n=(null===t||void 0===t?void 0:t[0])>9?null===t||void 0===t?void 0:t[0]:"0".concat(null===t||void 0===t?void 0:t[0]),i=(null===t||void 0===t?void 0:t[1])>9?null===t||void 0===t?void 0:t[1]:"0".concat(null===t||void 0===t?void 0:t[1]);return"".concat(n,"/").concat(i,"/").concat(null===t||void 0===t?void 0:t[2])}(t)},g=function(e){return function(e){var t=new Date(e);return new Date(t.getFullYear(),t.getMonth()+1,0)}(e).getDate()},x=function(e){return function(e){var t=new Date(e);return new Date(t.getFullYear(),t.getMonth(),0)}(e).getDate()},b=function(e){return m.indexOf(function(e){var t=new Date(e);return new Date(t.getFullYear(),t.getMonth(),1).getDay()}(e))},j=function(e){var t=(0,l.useState)(f()),n=(0,i.Z)(t,2),a=n[0],d=n[1];(0,l.useEffect)((function(){e&&d(function(e){var t=(0,s.O_)(e);return new Date(t)}(e))}),[e]);var v,m=x(v=a)-b(v),_=(0,l.useMemo)((function(){return function(e,t){for(var n=1,i=1,l=new Date(e),s={},a=1;a<7;a++){s[a]=[];for(var d=1;d<8;d++)if(1===a)if(d<=b(e)+1){var c=l.getMonth()+1,u="".concat(l.getFullYear(),"-").concat(c>9?c:"0".concat(c),"-").concat(n>9?n:"0".concat(n)),v=new Date(u);s[a]=[].concat((0,o.Z)(s[a]),[{type:"PREVIOUS",date:"".concat(t,"-").concat(0===l.getMonth()?12:l.getMonth(),"-").concat(0===l.getMonth()?l.getFullYear()-1:l.getFullYear()),value:t,day:r[v.getDay()]}]),++t}else{var m=l.getMonth()+1,f="".concat(l.getFullYear(),"-").concat(m>9?m:"0".concat(m),"-").concat(n>9?n:"0".concat(n)),_=new Date(f);s[a]=[].concat((0,o.Z)(s[a]),[{type:"CURRENT",date:"".concat(n,"-").concat(l.getMonth()+1,"-").concat(l.getFullYear()),value:n,day:r[_.getDay()]}]),n++}else if(a>1&&n<g(e)+1){var h=l.getMonth()+1,x="".concat(l.getFullYear(),"-").concat(h>9?h:"0".concat(h),"-").concat(n>9?n:"0".concat(n)),j=new Date(x);s[a]=[].concat((0,o.Z)(s[a]),[{type:"CURRENT",date:"".concat(n,"-").concat(l.getMonth()+1,"-").concat(l.getFullYear()),value:n,day:r[j.getDay()]}]),n++}else{var p=l.getMonth()+1,Z="".concat(l.getFullYear(),"-").concat(p>9?p:"0".concat(p),"-").concat(n>9?n:"0".concat(n)),k=new Date(Z);s[a]=[].concat((0,o.Z)(s[a]),[{type:"NEXT_MONTH",date:"".concat(i,"-").concat(l.getMonth()+2===13?1:l.getMonth()+2,"-").concat(l.getMonth()+2===13?l.getFullYear()+1:l.getFullYear()),value:i,day:r[k.getDay()]}]),i++}}return s}(a,m)}),[a,m]),j=(0,l.useCallback)((function(){d((function(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}))}),[]),p=(0,l.useCallback)((function(){d((function(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}))}),[]),Z=(0,l.useCallback)((function(e){var t=null===e||void 0===e?void 0:e.split("-"),n=new Date("".concat(t[2],"-").concat(t[1],"-").concat(t[0]));d(n)}),[]);return{selectedDate:a,setSelectedDate:d,getPreviousMonth:j,getNextMonth:p,getSelectedDate:Z,generateCalendar:_,getToday:f,dayName:r,monthName:c,getCompareDate:h,monthPage:u}}},60924:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var i=n(29439),o=n(39230),l=n(52245),s=n(72791),a=n(11163),d=n(8728),r=n(48293),c=n(98684),u=n(97892),v=n.n(u),m=n(80184),f=function(e){var t,n=e.onClose,o=e.date,l=e.onDateSelect,u=(0,a.GX)(o),f=u.selectedDate,_=u.setSelectedDate,h=u.getPreviousMonth,g=u.getNextMonth,x=u.getSelectedDate,b=u.generateCalendar,j=(0,s.useState)(""),p=(0,i.Z)(j,2),Z=p[0],k=p[1],y=(0,a.S4)(),N=(0,s.useMemo)((function(){return y.indexOf(f.getFullYear())}),[f,y]),S=(0,s.useState)(0),M=(0,i.Z)(S,2),C=M[0],F=M[1],I=(0,s.useMemo)((function(){return y.slice(N+12*C,C?N+12*C+12:N+12)}),[y,C,N]),w=(0,s.useCallback)((function(){k(Z?"":"MONTH")}),[Z]),D=(0,s.useCallback)((function(){k(Z?"":"YEAR")}),[Z]),L=(0,s.useCallback)((function(e){_((function(t){return new Date("".concat(e," ").concat(t.getDate()," ").concat(t.getFullYear()))})),w()}),[w]),T=(0,s.useCallback)((function(e){_((function(t){return new Date("".concat(t.getMonth()+1," ").concat(t.getDate()," ").concat(e))})),D()}),[D]);return(0,m.jsx)(r.Z,{onClose:n,customBackdropStyle:{zIndex:"2000"},customOverlayStyle:{zIndex:"2000"},children:(0,m.jsxs)("div",{className:d.Z.calendar,children:[(0,m.jsxs)("div",{className:d.Z.calendar_top,children:[(0,m.jsx)("img",{src:"".concat(c.Fk,"/next.svg"),alt:"previous icon",onClick:function(){Z?"YEAR"===Z&&F((function(e){return e-1})):h()},style:{rotate:"180deg"}}),(0,m.jsxs)("h6",{children:[(0,m.jsx)("span",{onClick:w,children:v()(f).format("MMMM")})," ",(0,m.jsx)("span",{onClick:D,children:v()(f).format("YYYY")})]}),(0,m.jsx)("img",{src:"".concat(c.Fk,"/next.svg"),alt:"next icon",onClick:function(){Z?"YEAR"===Z&&F((function(e){return e+1})):g()}})]}),"MONTH"===Z?(0,m.jsx)("div",{className:d.Z.calendar_month,children:a.oz.map((function(e){return(0,m.jsx)("p",{className:v()(f).format("MMMM")===e?"".concat(d.Z.calendar_month_value," ").concat(d.Z.calendar_month_value_active):d.Z.calendar_month_value,onClick:function(){return L(e)},children:e},e)}))}):"YEAR"===Z?(0,m.jsx)("div",{className:d.Z.calendar_month,children:null===I||void 0===I?void 0:I.map((function(e){return(0,m.jsx)("p",{className:v()(f).format("YYYY")==="".concat(e)?"".concat(d.Z.calendar_month_value," ").concat(d.Z.calendar_month_value_active):d.Z.calendar_month_value,onClick:function(){return T(e)},children:e},e)}))}):(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:d.Z.calendar_days,children:a.Ff.map((function(e){return(0,m.jsx)("p",{className:d.Z.calendar_days_label,children:e},e)}))}),null===(t=Object.values(b))||void 0===t?void 0:t.map((function(e,t){return(0,m.jsx)("div",{className:d.Z.calendar_days,children:e.map((function(e){return(0,m.jsx)("p",{className:d.Z.calendar_days_value,style:{"--calendar-border":(0,a.BK)(null===e||void 0===e?void 0:e.date)?"#123456":(0,a.o)(f,null===e||void 0===e?void 0:e.date)?"red":""},onClick:function(){return t=null===e||void 0===e?void 0:e.date,x(t),l(t),void n();var t},children:null===e||void 0===e?void 0:e.value},null===e||void 0===e?void 0:e.date)}))},t)}))]})]})})},_=function(e){var t=e.label,n=e.name,a=e.msg,d=e.value,r=e.onChange,u=e.placeholder,v=e.customFormInputContainer,_=e.customFormInputLabel,h=e.customFormInput,g=e.errorShow,x=e.disabled,b=(0,o.$G)().t,j=(0,s.useState)(!1),p=(0,i.Z)(j,2),Z=p[0],k=p[1],y=function(){k((function(e){return!e}))};return(0,m.jsxs)("div",{className:l.Z.form_input_container,style:v,children:[t&&(0,m.jsxs)("label",{className:l.Z.form_input_label,style:_,htmlFor:n,children:[t,a?(0,m.jsx)("span",{className:l.Z.form_input_label_error,children:a}):g?(0,m.jsxs)("span",{className:l.Z.form_input_label_error,children:["* ",b("form_require_label")]}):null]}),(0,m.jsx)("input",{className:l.Z.form_input,type:"text",defaultValue:d,name:n,placeholder:u,disabled:x,style:h,onFocus:y}),(0,m.jsx)("img",{src:"".concat(c.Fk,"/calendar.svg"),alt:"calander-icon",className:l.Z.form_calendar_icon,onClick:y}),Z&&(0,m.jsx)(f,{onClose:y,onDateSelect:r,date:d})]})}},61055:function(e,t,n){"use strict";var i=n(39230),o=n(52245),l=n(80184),s=["tel","number"];t.Z=function(e){var t=e.label,n=e.name,a=e.msg,d=e.type,r=e.value,c=e.onChange,u=e.placeholder,v=e.maxLength,m=e.customFormInputContainer,f=e.customFormInputLabel,_=e.customFormInput,h=e.errorShow,g=e.disabled,x=e.children,b=(0,i.$G)().t;return(0,l.jsxs)("div",{className:o.Z.form_input_container,style:m,children:[t&&(0,l.jsxs)("label",{className:o.Z.form_input_label,style:f,htmlFor:n,children:[t,a?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("span",{className:o.Z.form_input_label_error,children:[" "," "," ",a]})}):h?(0,l.jsxs)("span",{className:o.Z.form_input_label_error,children:["* ",b("form_require_label")]}):null,x]}),s.includes(d)?(0,l.jsx)("input",{className:o.Z.form_input,type:d,value:r,onChange:c,name:n,placeholder:u,maxLength:null!==v&&void 0!==v?v:100,disabled:g,style:_}):(0,l.jsx)("input",{className:o.Z.form_input,type:d,value:r,onChange:c,name:n,placeholder:u,disabled:g,style:_})]})}},43997:function(e,t,n){"use strict";n.d(t,{O_:function(){return l},_1:function(){return i},jh:function(){return o}});var i=function(e){var t=null===e||void 0===e?void 0:e.split("/");return"".concat(t[2],"-").concat(t[1],"-").concat(t[0])},o=function(e){var t,n=[];return(null===(t=(n=null!==e&&void 0!==e&&e.includes("-")?null===e||void 0===e?void 0:e.split("-"):null===e||void 0===e?void 0:e.split("/"))[2])||void 0===t?void 0:t.length)>2?"".concat(+n[0]>9?n[0]:"0".concat(+n[0]),"/").concat(+n[1]>9?n[1]:"0".concat(+n[1]),"/").concat(n[2]):"".concat(+n[2]>9?n[2]:"0".concat(+n[2]),"/").concat(+n[1]>9?n[1]:"0".concat(+n[1]),"/").concat(n[0])},l=function(e){var t,n=[];return(null===(t=(n=null!==e&&void 0!==e&&e.includes("-")?null===e||void 0===e?void 0:e.split("-"):null===e||void 0===e?void 0:e.split("/"))[2])||void 0===t?void 0:t.length)>2?"".concat(n[2],"-").concat(+n[1]>9?n[1]:"0".concat(+n[1]),"-").concat(+n[0]>9?n[0]:"0".concat(+n[0])):"".concat(n[0],"-").concat(+n[1]>9?n[1]:"0".concat(+n[1]),"-").concat(+n[2]>9?n[2]:"0".concat(+n[2]))}},62732:function(e,t,n){"use strict";var i=n(35125),o=n(72426),l=n.n(o),s=n(62906),a=n.n(s),d=new i.ZP({format:[270,210]}),r=d.internal.pageSize.getWidth();t.Z=function(e,t,n,i){var o,s,c,u,v,m,f,_,h,g,x,b,j,p,Z,k,y,N=arguments.length>4&&void 0!==arguments[4]&&arguments[4],S=null===t||void 0===t||null===(o=t.finance)||void 0===o?void 0:o.institute,M=null===t||void 0===t||null===(s=t.finance)||void 0===s?void 0:s.financeHead,C=null===t||void 0===t?void 0:t.student,F=null===t||void 0===t?void 0:t.internal_fees,I=null===t||void 0===t?void 0:t.order_history;d.addImage(n,"JPEG",9,3,25,25),d.addImage(i,"JPEG",r-34,2.4,25,25),d.setLineWidth(8),d.setDrawColor(255,255,255),d.circle(21.4,15,16),d.setLineWidth(0),d.setLineWidth(8),d.setDrawColor(255,255,255),d.circle(r-21.4,15,16),d.setLineWidth(0);var w=d.splitTextToSize(null===S||void 0===S?void 0:S.insName,146);if(d.setFont(void 0,"normal"),w.length>1){var D=10;d.setFont("700"),d.setTextColor(18,18,18),d.setFontSize(16),d.text(107,D,w,"center"),D=w.length+145}else{var L=10;d.setFont("700"),d.setTextColor(18,18,18),d.setFontSize(18),d.text(107,L,w,"center"),L=w.length+145}d.setFont("Arial","normal","400"),d.setTextColor(18,18,18),d.setFontSize(10),d.text(r/2,w.length>1?23:19,null===S||void 0===S?void 0:S.insAddress,"center"),d.setFont("WorkSans"),d.setTextColor(18,18,18),d.setFontSize(10),d.text(r/2,w.length>1?29:25,"Mob No : ".concat(null===S||void 0===S?void 0:S.insPhoneNumber," , Mail: ").concat(null===S||void 0===S?void 0:S.insEmail),"center"),d.setFont("WorkSans"),d.setTextColor(0,0,0),d.setFontSize(18),d.text(r/2,37,"Fee Receipt","center"),d.setLineWidth(.7),d.setDrawColor(18,18,18),d.line(0,46,r,46),d.setTextColor(0,0,0),d.setFont(void 0,"bold"),d.setFontSize(10),d.text(9,54,"Invoice No :"),d.setFont(void 0,"normal"),d.setTextColor(0,0,0),d.setFontSize(10),d.text(32,54,null===t||void 0===t?void 0:t.invoice_count),d.setTextColor(0,0,0),d.setFont(void 0,"bold"),d.setFontSize(10),d.text(r-32,54,"Dated:",{align:"right"}),d.setFont(void 0,"normal"),d.setTextColor(0,0,0),d.setFontSize(10),d.text(r-12,54,l()(null===t||void 0===t?void 0:t.created_at).format("DD-MMM-YYYY"),{align:"right"}),d.setTextColor(0,0,0),d.setFont(void 0,"bold"),d.setFontSize(10),d.text(9,61,"Purpose:"),d.setFont(void 0,"normal"),d.setTextColor(0,0,0),d.setFontSize(10),d.text(32,61,"".concat(null!==(c=null===F||void 0===F?void 0:F.internal_fee_reason)&&void 0!==c?c:"N/A")),d.setTextColor(0,0,0),d.setFont(void 0,"bold"),d.setFontSize(10),d.text(9,68,"Amount: "),d.setFont(void 0,"normal"),d.setTextColor(0,0,0),d.setFontSize(10),d.text(32,68,"Rs. ".concat(null===t||void 0===t?void 0:t.fee_payment_amount)),d.setTextColor(0,0,0),d.setFont(void 0,"bold"),d.setFontSize(11),d.text(9,97," ".concat(N?"Received Through: ":"Paid Through: ")),d.setFont(void 0,"normal"),d.text(44,97,"".concat(null===e||void 0===e?void 0:e.finance_bank_name,", ").concat(null===e||void 0===e?void 0:e.finance_bank_account_name,", A/c No:  ").concat(null===e||void 0===e?void 0:e.finance_bank_account_number)),d.setTextColor(0,0,0),d.setFont(void 0,"bold"),d.text(9,107," On Account of: ");var T="Being money ".concat(N?"received":"paid"," by ").concat(null===t||void 0===t?void 0:t.fee_payment_mode,", Transaction ID: ").concat(null!==(u=null===I||void 0===I?void 0:I.razorpay_order_id)&&void 0!==u?u:"N/A"," ,  Dated: ").concat(l()(null===t||void 0===t?void 0:t.created_at).format("DD-MMM-YYYY"),"  for Rs. ").concat(null===t||void 0===t?void 0:t.fee_payment_amount,".").concat(N?"From":"To"," ","".concat(null!==(v=null===C||void 0===C?void 0:C.studentFirstName)&&void 0!==v?v:""," ").concat(null!==(m=null===C||void 0===C?void 0:C.studentMiddleName)&&void 0!==m?m:""," ").concat(null!==(f=null===C||void 0===C?void 0:C.studentLastName)&&void 0!==f?f:""," "),", towards ").concat(null!==(_=null===F||void 0===F?void 0:F.internal_fee_reason)&&void 0!==_?_:"N/A","."),A=d.splitTextToSize(T,r-20);if(A.length>1){var E=113;d.setFont(void 0,"normal"),d.setFontSize(11),d.setTextColor(18,18,18),d.text(10,E,A,"left"),E=A.length+151}else{var O=113;d.setFontSize(11),d.setFont(void 0,"normal"),d.setTextColor(18,18,18),d.setFontSize(12),d.text(10,O,A,"left"),O=A.length+151}var R,B,P,Y;(d.setTextColor(0,0,0),d.setFont(void 0,"bold"),d.setFontSize(11),d.text(9,131,"Bank Transaction Details: "),d.setFont(void 0,"normal"),d.text(9,138,"Payment Mode:  ".concat(null===t||void 0===t?void 0:t.fee_payment_mode)),null!==I&&void 0!==I&&I.razorpay_order_id)?d.text(9,144,"Transaction ID: ".concat(null!==(R=null===I||void 0===I?void 0:I.razorpay_order_id)&&void 0!==R?R:"N/A")):(d.text(9,144,"Bank Name: ".concat(null!==(B=null===e||void 0===e?void 0:e.fee_bank_name)&&void 0!==B?B:"N/A")),d.text(9,150,"Bank Holder Name: ".concat(null!==(P=null===e||void 0===e?void 0:e.finance_bank_account_name)&&void 0!==P?P:"N/A")),d.text(9,156,"UTR / Ref No.: ".concat(null!==(Y=null===e||void 0===e?void 0:e.fee_utr_reference)&&void 0!==Y?Y:"N/A")),d.text(9,162,"Date: ".concat(l()(null===t||void 0===t?void 0:t.created_at).format("DD-MMM-YYYY"))),d.text(9,168,"Amount: ".concat(null===t||void 0===t?void 0:t.fee_payment_amount)),d.text(9,174,"Amount in Words: ".concat((a().toWords(t.fee_payment_amount.toString()).match(/[a-zA-Z0-9]+/g)||[]).map((function(e){return"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))})).join(" ")," only.")));d.setFontSize(9),d.text(40,240,"".concat(M.staffFirstName," ").concat(null!==(h=M.staffMiddleName)&&void 0!==h?h:""," ").concat(M.staffLastName),{align:"center"}),d.setFont(void 0,"bold"),d.setFontSize(10),d.text(40,245,"Finance Manager",{align:"center"}),d.setFont(void 0,"normal"),d.setFontSize(9),d.text(153,240,"".concat(null!==(g=null===S||void 0===S||null===(x=S.displayPersonList)||void 0===x||null===(b=x[0])||void 0===b||null===(j=b.displayUser)||void 0===j?void 0:j.userLegalName)&&void 0!==g?g:"N/A"),{align:"center"}),d.setFont(void 0,"bold"),d.setFontSize(10),d.text(153,245,"".concat(null!==(p=null===S||void 0===S||null===(Z=S.displayPersonList)||void 0===Z||null===(k=Z[0])||void 0===k?void 0:k.displayTitle)&&void 0!==p?p:"N/A"),{align:"center"}),d.setTextColor(0,0,255),d.setFontSize(7),d.text(r-20,243,"Online Automated",null,50),d.text(r-18,244,"Generated fee receipt",null,50),d.text(r-14,246,"Through Qviple",null,50),d.setLineWidth(.2),d.setDrawColor(18,18,18),d.line(0,251,r,251),d.setTextColor(18,18,18),d.setFontSize(8),d.setFont(void 0,"normal"),d.text(r/2,259,"Note : No one except one who is making this certificate should interfere with any details of this invoice, othewise students will be expelled and legal action will be taken.","center"),window.open(d.output("bloburl",{filename:"".concat(null===C||void 0===C?void 0:C.studentFirstName," ").concat(null!==(y=null===C||void 0===C?void 0:C.studentMiddleName)&&void 0!==y?y:""," ").concat(null===C||void 0===C?void 0:C.studentLastName," -Internal Fee Receipt.pdf")}),"_blank")}},97892:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,i="millisecond",o="second",l="minute",s="hour",a="day",d="week",r="month",c="quarter",u="year",v="date",m="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},g=function(e,t,n){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(n)+e},x={s:g,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),i=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+g(i,2,"0")+":"+g(o,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var i=12*(n.year()-t.year())+(n.month()-t.month()),o=t.clone().add(i,r),l=n-o<0,s=t.clone().add(i+(l?-1:1),r);return+(-(i+(n-o)/(l?o-s:s-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:r,y:u,w:d,d:a,D:v,h:s,m:l,s:o,ms:i,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",j={};j[b]=h;var p="$isDayjsObject",Z=function(e){return e instanceof S||!(!e||!e[p])},k=function e(t,n,i){var o;if(!t)return b;if("string"==typeof t){var l=t.toLowerCase();j[l]&&(o=l),n&&(j[l]=n,o=l);var s=t.split("-");if(!o&&s.length>1)return e(s[0])}else{var a=t.name;j[a]=t,o=a}return!i&&o&&(b=o),o||!i&&b},y=function(e,t){if(Z(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new S(n)},N=x;N.l=k,N.i=Z,N.w=function(e,t){return y(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var S=function(){function h(e){this.$L=k(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[p]=!0}var g=h.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(N.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var i=t.match(f);if(i){var o=i[2]-1||0,l=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],o,i[3]||1,i[4]||0,i[5]||0,i[6]||0,l)):new Date(i[1],o,i[3]||1,i[4]||0,i[5]||0,i[6]||0,l)}}return new Date(t)}(e),this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return N},g.isValid=function(){return!(this.$d.toString()===m)},g.isSame=function(e,t){var n=y(e);return this.startOf(t)<=n&&n<=this.endOf(t)},g.isAfter=function(e,t){return y(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<y(e)},g.$g=function(e,t,n){return N.u(e)?this[t]:this.set(n,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var n=this,i=!!N.u(t)||t,c=N.p(e),m=function(e,t){var o=N.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return i?o:o.endOf(a)},f=function(e,t){return N.w(n.toDate()[e].apply(n.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},_=this.$W,h=this.$M,g=this.$D,x="set"+(this.$u?"UTC":"");switch(c){case u:return i?m(1,0):m(31,11);case r:return i?m(1,h):m(0,h+1);case d:var b=this.$locale().weekStart||0,j=(_<b?_+7:_)-b;return m(i?g-j:g+(6-j),h);case a:case v:return f(x+"Hours",0);case s:return f(x+"Minutes",1);case l:return f(x+"Seconds",2);case o:return f(x+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var n,d=N.p(e),c="set"+(this.$u?"UTC":""),m=(n={},n[a]=c+"Date",n[v]=c+"Date",n[r]=c+"Month",n[u]=c+"FullYear",n[s]=c+"Hours",n[l]=c+"Minutes",n[o]=c+"Seconds",n[i]=c+"Milliseconds",n)[d],f=d===a?this.$D+(t-this.$W):t;if(d===r||d===u){var _=this.clone().set(v,1);_.$d[m](f),_.init(),this.$d=_.set(v,Math.min(this.$D,_.daysInMonth())).$d}else m&&this.$d[m](f);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[N.p(e)]()},g.add=function(i,c){var v,m=this;i=Number(i);var f=N.p(c),_=function(e){var t=y(m);return N.w(t.date(t.date()+Math.round(e*i)),m)};if(f===r)return this.set(r,this.$M+i);if(f===u)return this.set(u,this.$y+i);if(f===a)return _(1);if(f===d)return _(7);var h=(v={},v[l]=t,v[s]=n,v[o]=e,v)[f]||1,g=this.$d.getTime()+i*h;return N.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||m;var i=e||"YYYY-MM-DDTHH:mm:ssZ",o=N.z(this),l=this.$H,s=this.$m,a=this.$M,d=n.weekdays,r=n.months,c=n.meridiem,u=function(e,n,o,l){return e&&(e[n]||e(t,i))||o[n].slice(0,l)},v=function(e){return N.s(l%12||12,e,"0")},f=c||function(e,t,n){var i=e<12?"AM":"PM";return n?i.toLowerCase():i};return i.replace(_,(function(e,i){return i||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return N.s(t.$y,4,"0");case"M":return a+1;case"MM":return N.s(a+1,2,"0");case"MMM":return u(n.monthsShort,a,r,3);case"MMMM":return u(r,a);case"D":return t.$D;case"DD":return N.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return u(n.weekdaysMin,t.$W,d,2);case"ddd":return u(n.weekdaysShort,t.$W,d,3);case"dddd":return d[t.$W];case"H":return String(l);case"HH":return N.s(l,2,"0");case"h":return v(1);case"hh":return v(2);case"a":return f(l,s,!0);case"A":return f(l,s,!1);case"m":return String(s);case"mm":return N.s(s,2,"0");case"s":return String(t.$s);case"ss":return N.s(t.$s,2,"0");case"SSS":return N.s(t.$ms,3,"0");case"Z":return o}return null}(e)||o.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(i,v,m){var f,_=this,h=N.p(v),g=y(i),x=(g.utcOffset()-this.utcOffset())*t,b=this-g,j=function(){return N.m(_,g)};switch(h){case u:f=j()/12;break;case r:f=j();break;case c:f=j()/3;break;case d:f=(b-x)/6048e5;break;case a:f=(b-x)/864e5;break;case s:f=b/n;break;case l:f=b/t;break;case o:f=b/e;break;default:f=b}return m?f:N.a(f)},g.daysInMonth=function(){return this.endOf(r).$D},g.$locale=function(){return j[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),i=k(e,t,!0);return i&&(n.$L=i),n},g.clone=function(){return N.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},h}(),M=S.prototype;return y.prototype=M,[["$ms",i],["$s",o],["$m",l],["$H",s],["$W",a],["$M",r],["$y",u],["$D",v]].forEach((function(e){M[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),y.extend=function(e,t){return e.$i||(e(t,S,y),e.$i=!0),y},y.locale=k,y.isDayjs=Z,y.unix=function(e){return y(1e3*e)},y.en=j[b],y.Ls=j,y.p={},y}()},52124:function(e,t){"use strict";t.Z={assign_title:"AssignStaffModal_assign_title__4DGBV",assign_search_container:"AssignStaffModal_assign_search_container__3x6RD",assign_search_input:"AssignStaffModal_assign_search_input__rO3c7",assign_show_list:"AssignStaffModal_assign_show_list__yHhf7",assign_show_list_each:"AssignStaffModal_assign_show_list_each__ACUEw",assign_each_paragraph:"AssignStaffModal_assign_each_paragraph__pMHTq",universal_modal:"AssignStaffModal_universal_modal__czmpB",is_mulitselect_container:"AssignStaffModal_is_mulitselect_container__0cPQ2"}},87049:function(e,t){"use strict";t.Z={edit_modal_container:"EditConfirm_edit_modal_container__WfbTq",modal_header:"EditConfirm_modal_header__4sq5J",edit:"EditConfirm_edit__ziVGP",remove:"EditConfirm_remove__PCXLs",xlsx_update_btn:"EditConfirm_xlsx_update_btn__H3yM8",save_stop_btn:"EditConfirm_save_stop_btn__9NiZ5",update_to_btn:"EditConfirm_update_to_btn__ExCJv"}},29407:function(e,t){"use strict";t.Z={refund_container:"AdmisisonRefund_refund_container__BTIz6",refund_container_title:"AdmisisonRefund_refund_container_title__Rwwk9",refund_total:"AdmisisonRefund_refund_total__7rRiv",refund_card:"AdmisisonRefund_refund_card__M65Il",refund_card_text_container:"AdmisisonRefund_refund_card_text_container__jp-8T",refund_card_text:"AdmisisonRefund_refund_card_text__eVyEv",export_card:"AdmisisonRefund_export_card__xse7V",export_card_text:"AdmisisonRefund_export_card_text__4VVsl",export_card_date:"AdmisisonRefund_export_card_date__Wejoy",admission_filter_icon:"AdmisisonRefund_admission_filter_icon__5ncUR",menu_icon:"AdmisisonRefund_menu_icon__WdVbN",both_filter:"AdmisisonRefund_both_filter__k26Hu",both_filter_with_name:"AdmisisonRefund_both_filter_with_name__4eJUc",tab_manage:"AdmisisonRefund_tab_manage__G7dJo"}},32804:function(e,t){"use strict";t.Z={student_fees_header_container:"StudentAllFeesData_student_fees_header_container__06J8F",student_fees_header_column:"StudentAllFeesData_student_fees_header_column__7WxL2",student_fees_row_amount:"StudentAllFeesData_student_fees_row_amount__2QSk8",student_fees_btn_container:"StudentAllFeesData_student_fees_btn_container__rcsyt",student_fees_btn_container_active:"StudentAllFeesData_student_fees_btn_container_active__LiRxa",student_alll_fees_data:"StudentAllFeesData_student_alll_fees_data__CBPmP",student_admission_fees_container:"StudentAllFeesData_student_admission_fees_container__Fs6dX",student_internal_card:"StudentAllFeesData_student_internal_card__QP2oz",student_internal_card_btn_pay:"StudentAllFeesData_student_internal_card_btn_pay__CzvCh",student_internal_card_btn_paid:"StudentAllFeesData_student_internal_card_btn_paid__KP8Jd"}},16925:function(e,t){"use strict";t.Z={right:"Income_right__XnzYj",rightHead:"Income_rightHead__1rLc6",rightBody:"Income_rightBody__fGEC5",income_detail:"Income_income_detail__IWoJa",detailTop:"Income_detailTop__4JXuu",detailTopMid:"Income_detailTopMid__yc2yv",modal_container:"Income_modal_container__HiGr+",modal_container_outer_header:"Income_modal_container_outer_header__F9c7X",modal_container_header:"Income_modal_container_header__td-Fb",card_container:"Income_card_container__ewKhQ",card_container_image:"Income_card_container_image__5XloP",card_container_inner:"Income_card_container_inner__JBmxr",admission_fees_row:"Income_admission_fees_row__MPJCs",close_icon:"Income_close_icon__Ozq4u",student_message_container:"Income_student_message_container__8KnPc",student_message_container_inner:"Income_student_message_container_inner__mRYpD",usm_institute_container:"Income_usm_institute_container__4LkYt",usm_institute:"Income_usm_institute__hlzdF",date_select:"Income_date_select__D3VkU",gsf_star_container:"Income_gsf_star_container__7gdUs"}},8728:function(e,t){"use strict";t.Z={calendar:"Calendar_calendar__ZZaTt",calendar_top:"Calendar_calendar_top__ADLui",calendar_days:"Calendar_calendar_days__vUwsX",calendar_days_label:"Calendar_calendar_days_label__VF+-3",calendar_days_value:"Calendar_calendar_days_value__cY4KR",calendar_days_value_active:"Calendar_calendar_days_value_active__CC8ZH",calendar_month:"Calendar_calendar_month__iidgh",calendar_month_value:"Calendar_calendar_month_value__nzPqp",calendar_month_value_active:"Calendar_calendar_month_value_active__xUZQL"}}}]);
//# sourceMappingURL=73388.25d6ea2f.chunk.js.map