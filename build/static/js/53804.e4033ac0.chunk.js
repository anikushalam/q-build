"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[53804],{97655:(e,l,i)=>{i.d(l,{Z:()=>n});i(72791);var s=i(39230),o=i(38733),d=i(80184);const n=e=>{let{labelText:l,name:i,type:n,value:a,onChange:t,placeholder:r,errorShow:c,customStyleContainer:v,customStyleLabel:u,customStyleInput:h,inputLength:m,reAccount:j,disabled:x}=e;const{t:b}=(0,s.$G)();return(0,d.jsxs)("div",{className:o.Z.join_form_container,style:{...v},children:[(0,d.jsxs)("label",{className:o.Z.join_form_label,htmlFor:i,style:{...u},children:[l," ",!j&&c&&(0,d.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",b("form_require_label")]}),j&&(0,d.jsx)("span",{style:{color:"red",marginLeft:"15px"},children:j})]}),"tel"===n?(0,d.jsx)("input",{className:o.Z.join_form_input,type:n,value:a,onChange:t,name:i,placeholder:r,maxLength:null!==m&&void 0!==m?m:100,disabled:x,style:h}):(0,d.jsx)("input",{className:o.Z.join_form_input,type:n,value:a,onChange:t,name:i,placeholder:r,disabled:x,style:h})]})}},65082:(e,l,i)=>{i.d(l,{Z:()=>n});i(72791);var s=i(16871),o=i(43504),d=i(80184);const n=e=>{let{carryParentState:l,activeTab:i,customStyle:n,children:a}=e;const t=(0,s.UO)();return(0,d.jsx)(o.rU,{to:"/q/".concat(t.username,"/library").concat(i),state:{...l},style:n,children:a})}},90725:(e,l,i)=>{i.d(l,{Z:()=>le});var s=i(72791),o=i(55581),d=i(69721);const n="BookDetails_addbookcontainer__Lciwj",a="BookDetails_addbooktop__GIw5A",t="BookDetails_addbookbody__CTPQH",r="BookDetails_addbookbodyleft__bZ1rE",c="BookDetails_addbookbodyright__c364h",v="BookDetails_bookItemImgContainer__sCt7z",u="BookDetails_bookItemImg__GTcfq",h="BookDetails_bookTitle__hMHqt",m="BookDetails_bookby__EqGsP",j="BookDetails_booklang__nRf9x",x="BookDetails_bookstatus__YkG3V",b="BookDetails_bookstatusoffline__tTYRo",p="BookDetails_addbookbodybottom__oNg0i",k="BookDetails_viewRow__PUYL0",_="BookDetails_viewRowh6__WWWf9",g="BookDetails_desh6__5W4+W",y="BookDetails_viewRowp__stp+r",N="BookDetails_viewRowfull__RFbVh",f="BookDetails_pdfdiv__KtJk3",B="BookDetails_pdfh6__U7ywv",S="BookDetails_pdfdivcontainer__2wSWm";var R=i(39230),w=i(11237),C=i(65082),L=i(89064),D=i(80184);const I=e=>{let{onClose:l,qr:i}=e;return(0,D.jsx)(L.Z,{onClose:l,children:(0,D.jsx)("img",{src:"".concat(i),alt:"book qr images",style:{width:"18rem",height:"18rem"},crossOrigin:"anonymous"})})};var T=i(23441),q=i(91427),O=i(21348),Z=i(56959),U=i(1669),A=i(2651),E=i(90904),G=i(49825),P=i(98684);const M="LibraryManager_brc_card__uG+0g",F="LibraryManager_brcc_inner__0plHh",H="LibraryManager_brcci_text__JHqyv",J="LibraryManager_gsf_star_container__4jgYs";var W=i(1095),Y=i(55336);const z=(0,s.lazy)((()=>i.e(16386).then(i.bind(i,16386)))),Q=e=>{var l,i,o,d,n,a,t,r,c,v;let{reivew:u,sid:h,onRefetch:m,bid:j}=e;const[x,b]=(0,s.useState)(["".concat(P.Jr,"/grey-star.svg"),"".concat(P.Jr,"/grey-star.svg"),"".concat(P.Jr,"/grey-star.svg"),"".concat(P.Jr,"/grey-star.svg"),"".concat(P.Jr,"/grey-star.svg")]),[p,k]=(0,s.useState)(!1);(0,s.useEffect)((()=>{if(null!==u&&void 0!==u&&u.rating){let e=[];for(let l=0;l<5;l++)l<(null===u||void 0===u?void 0:u.rating)?e.push("".concat(P.Jr,"/yellow-star.svg")):e.push("".concat(P.Jr,"/grey-star.svg"));b((()=>e))}}));const _=()=>{k((e=>!e))};return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("div",{className:M,children:[(0,D.jsxs)("div",{className:F,children:[(0,D.jsx)("img",{src:null!==u&&void 0!==u&&null!==(l=u.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(W.yI,"/").concat(null===u||void 0===u||null===(i=u.student)||void 0===i?void 0:i.studentProfilePhoto):"".concat(P.p3,"/feed-user-avatar.svg"),alt:"student profile"}),(0,D.jsxs)("div",{className:H,children:[(0,D.jsx)("h6",{children:"".concat(null!==(o=null===u||void 0===u||null===(d=u.student)||void 0===d?void 0:d.studentFirstName)&&void 0!==o?o:""," ").concat(null!==(n=null===u||void 0===u||null===(a=u.student)||void 0===a?void 0:a.studentMiddleName)&&void 0!==n?n:""," ").concat(null!==(t=null===u||void 0===u||null===(r=u.student)||void 0===r?void 0:r.studentLastName)&&void 0!==t?t:"")}),h===(null===u||void 0===u||null===(c=u.student)||void 0===c?void 0:c._id)?(0,D.jsx)("img",{src:"".concat(P.J7,"/menu.svg"),alt:"menu icon",onClick:_,style:{cursor:"pointer"}}):null]})]}),(0,D.jsx)("div",{className:J,children:null===x||void 0===x?void 0:x.map(((e,l)=>(0,D.jsx)("img",{src:e,alt:"star icon"},l)))}),(0,D.jsx)("h6",{children:null!==(v=null===u||void 0===u?void 0:u.description)&&void 0!==v?v:""})]}),p&&(0,D.jsx)(s.Suspense,{fallback:(0,D.jsx)(Y.default,{}),children:(0,D.jsx)(z,{sid:h,onRefetch:m,bid:j,onClose:_})})]})};var K=i(93638);const V=(0,s.lazy)((()=>i.e(26436).then(i.bind(i,26436)))),X=e=>{var l,i,o;let{bid:d,sid:n}=e;const{t:a}=(0,R.$G)(),[t,r]=(0,s.useState)(1),[c,v]=(0,s.useState)(!0),[u,h]=(0,T.YD)(),[m,j]=(0,s.useState)(!1),{libraryBookReviewList:x,libraryBookReviewListLoading:b,libraryBookReviewListRefetch:p}=(0,G.Af)({data:{bid:d,page:t,limit:10},skip:!d});(0,s.useEffect)((()=>{h&&c&&r((e=>e+1))}),[h,c]),(0,s.useEffect)((()=>{var e;if(null!==x&&void 0!==x&&null!==(e=x.list)&&void 0!==e&&e.length){var l;let e=(0,q.f)(null===x||void 0===x||null===(l=x.list)||void 0===l?void 0:l.length);v((()=>e))}}),[null===x||void 0===x||null===(l=x.list)||void 0===l?void 0:l.length]);const k=(0,s.useCallback)((()=>{r((()=>1)),p()}),[p]),_=()=>{j((e=>!e))};return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(E.Z,{}),(0,D.jsx)(O.default,{children:(0,D.jsxs)("div",{className:Z.Z.fm_header_container,children:[(0,D.jsx)("h6",{children:a("all_book_review")}),n?(0,D.jsx)("div",{className:Z.Z.fm_search,children:(0,D.jsx)(K.Z,{label:"review",onAction:_,customStyle:{width:"fit-content",margin:"0",padding:"0.4rem 1rem"}})}):null]})}),(0,D.jsx)(E.Z,{}),(0,D.jsxs)(O.default,{children:[null===x||void 0===x||null===(i=x.list)||void 0===i?void 0:i.map(((e,l)=>{var i;return(null===x||void 0===x||null===(i=x.list)||void 0===i?void 0:i.length)===l+1?(0,D.jsx)("div",{ref:u,children:(0,D.jsx)(Q,{reivew:e,sid:n,onRefetch:k,bid:d})},null===e||void 0===e?void 0:e._id):(0,D.jsx)(Q,{reivew:e,sid:n,onRefetch:k,bid:d},null===e||void 0===e?void 0:e._id)})),b?(0,D.jsx)(U.Z,{}):0===(null===x||void 0===x||null===(o=x.list)||void 0===o?void 0:o.length)&&(0,D.jsx)(A.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No book review list."})]}),m&&(0,D.jsx)(s.Suspense,{fallback:(0,D.jsx)(Y.default,{}),children:(0,D.jsx)(V,{onClose:_,onRefetch:k,bid:d,sid:n})})]})};const $=function(e){var l,i,o,L,T,q,O,Z,U,A,E,G,P,M,F,H,J,W,Y,z,Q,K,V,$,ee,le,ie,se,oe,de,ne,ae,te,re;let{book:ce,onBackClick:ve,status:ue,onCollectBackClick:he,onStudentBackClick:me,carryParentState:je,pageOpenAs:xe,role:be,sid:pe}=e;const{t:ke}=(0,R.$G)(),[_e,ge]=(0,s.useState)(!1),ye=()=>{ge((e=>!e))};return(0,D.jsxs)(D.Fragment,{children:["bookDetails"===ue?(0,D.jsxs)("div",{className:n,style:{marginBottom:"2rem",paddingBottom:"1.5rem"},children:[(0,D.jsxs)("div",{className:a,children:[(0,D.jsx)("img",{src:"/images/back.svg",onClick:ve}),(0,D.jsxs)("h6",{children:[ke("book_details"),(0,D.jsx)("img",{src:"/images/members/admission-qr.svg",alt:"qr",style:{marginLeft:"1rem",height:"1rem",cursor:"pointer"},onClick:ye})]}),"INSTITUTE"===xe?(0,D.jsx)(C.Z,{carryParentState:{...je,bid:null===ce||void 0===ce?void 0:ce._id,book:ce},activeTab:"?a=book&n=edit",children:(0,D.jsx)("img",{src:"/images/library/edit_.svg"})}):(0,D.jsx)(w.Z,{carryParentState:{...je,bid:null===ce||void 0===ce?void 0:ce._id,book:ce},activeTab:"book&n=edit",role:be,children:(0,D.jsx)("img",{src:"/images/library/edit_.svg"})})]}),(0,D.jsxs)("div",{className:t,children:[(0,D.jsx)("div",{className:c,children:(0,D.jsx)("div",{className:v,children:(0,D.jsx)("img",{className:u,src:null!==ce&&void 0!==ce&&ce.photo?"".concat(d.yI,"/").concat(null===ce||void 0===ce?void 0:ce.photo):"/images/defaultBook.png"})})}),(0,D.jsxs)("div",{className:r,children:[(0,D.jsx)("h3",{className:h,children:null===ce||void 0===ce?void 0:ce.bookName}),(0,D.jsxs)("p",{className:m,children:[ke("by_")," \xa0",(0,D.jsx)("span",{children:null===ce||void 0===ce?void 0:ce.author})]}),(0,D.jsx)("p",{className:j,children:null===ce||void 0===ce?void 0:ce.language}),(0,D.jsx)("p",{className:"Online"===(null===ce||void 0===ce?void 0:ce.bookStatus)?x:"".concat(x," ").concat(b),children:null===ce||void 0===ce?void 0:ce.bookStatus})]})]}),(0,D.jsxs)("div",{className:p,children:[(0,D.jsxs)("div",{className:k,children:[(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("ssn_number")}),(0,D.jsxs)("h6",{className:_,children:[" ",null!==(l=null===ce||void 0===ce?void 0:ce.accession_number)&&void 0!==l?l:""]})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("subject_only")}),(0,D.jsxs)("h6",{className:_,children:[" ",null!==(i=null===ce||void 0===ce?void 0:ce.subject)&&void 0!==i?i:""]})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("department")}),(0,D.jsxs)("h6",{className:_,children:[" ",null!==(o=null===ce||void 0===ce||null===(L=ce.department)||void 0===L?void 0:L.dName)&&void 0!==o?o:""]})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("total_page")}),(0,D.jsx)("h6",{className:_,children:null!==(T=null===ce||void 0===ce?void 0:ce.totalPage)&&void 0!==T?T:""})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("price")}),(0,D.jsx)("h6",{className:_,children:null!==(q=null===ce||void 0===ce?void 0:ce.price)&&void 0!==q?q:""})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("shell_number")}),(0,D.jsx)("h6",{className:_,children:null===ce||void 0===ce?void 0:ce.shellNumber})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("date")}),(0,D.jsx)("h6",{className:_,children:null!==(O=null===ce||void 0===ce?void 0:ce.date)&&void 0!==O?O:""})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("edition")}),(0,D.jsx)("h6",{className:_,children:null!==(Z=null===ce||void 0===ce?void 0:ce.edition)&&void 0!==Z?Z:""})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("class_number")}),(0,D.jsx)("h6",{className:_,children:null!==(U=null===ce||void 0===ce?void 0:ce.class_number)&&void 0!==U?U:""})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("publication")}),(0,D.jsxs)("h6",{className:_,children:[" ",null!==(A=null===ce||void 0===ce?void 0:ce.publication)&&void 0!==A?A:""]})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("publisher")}),(0,D.jsx)("h6",{className:_,children:null!==(E=null===ce||void 0===ce?void 0:ce.publisher)&&void 0!==E?E:""})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("publisher_place")}),(0,D.jsxs)("h6",{className:_,children:[" ",null===ce||void 0===ce?void 0:ce.publisher_place]})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("publisher_year")}),(0,D.jsxs)("h6",{className:_,children:[" ",null===ce||void 0===ce?void 0:ce.publication_year]})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("supplier")}),(0,D.jsx)("h6",{className:_,children:null!==(G=null===ce||void 0===ce?void 0:ce.supplier)&&void 0!==G?G:""})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("purchase_order_date")}),(0,D.jsx)("h6",{className:_,children:null!==(P=null===ce||void 0===ce?void 0:ce.purchase_order_date)&&void 0!==P?P:""})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("purchase_order_number")}),(0,D.jsx)("h6",{className:_,children:null!==(M=null===ce||void 0===ce?void 0:ce.purchase_order_number)&&void 0!==M?M:""})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("bill_date")}),(0,D.jsx)("h6",{className:_,children:null===ce||void 0===ce?void 0:ce.bill_date})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("bill_number")}),(0,D.jsx)("h6",{className:_,children:null===ce||void 0===ce?void 0:ce.bill_number})]}),(null===ce||void 0===ce||null===(F=ce.attachment[0])||void 0===F?void 0:F.documentName)&&"Online"===(null===ce||void 0===ce?void 0:ce.bookStatus)&&(0,D.jsx)("a",{href:"".concat(d.zQ,"/").concat(null===ce||void 0===ce||null===(H=ce.attachment[0])||void 0===H?void 0:H.documentKey),target:"_blank",rel:"noopener noreferrer",children:(0,D.jsxs)("div",{className:S,children:[(0,D.jsx)("p",{className:y,children:ke("attachment")}),(0,D.jsxs)("div",{className:f,children:[(0,D.jsx)("img",{src:"/images/chat/pdf-icon.svg",alt:""}),(0,D.jsx)("h6",{className:"".concat(_," ").concat(B),children:"".concat(null===ce||void 0===ce||null===(J=ce.attachment[0])||void 0===J?void 0:J.documentName)})]})]})})]}),(0,D.jsxs)("div",{className:N,children:[(0,D.jsx)("p",{className:y,children:ke("description")}),(0,D.jsxs)("h6",{className:g,children:[" ",null!==(W=null===ce||void 0===ce?void 0:ce.description)&&void 0!==W?W:""]})]})]}),(0,D.jsx)(X,{bid:null===ce||void 0===ce?void 0:ce._id})]}):"student book details"===ue||"staff book details"===ue?(0,D.jsxs)("div",{className:n,style:{marginBottom:"2rem",paddingBottom:"1.5rem"},children:[(0,D.jsxs)("div",{className:a,children:[(0,D.jsx)("img",{src:"/images/back.svg",onClick:me}),(0,D.jsx)("h6",{children:ke("book_details")}),(0,D.jsx)("div",{})]}),(0,D.jsxs)("div",{className:t,children:[(0,D.jsx)("div",{className:c,children:(0,D.jsx)("div",{className:v,children:(0,D.jsx)("img",{className:u,src:null!==ce&&void 0!==ce&&ce.photo?"".concat(d.yI,"/").concat(null===ce||void 0===ce?void 0:ce.photo):"/images/defaultBook.png"})})}),(0,D.jsxs)("div",{className:r,children:[(0,D.jsx)("h3",{className:h,children:null===ce||void 0===ce?void 0:ce.bookName}),(0,D.jsxs)("p",{className:m,children:[ke("by_")," \xa0",(0,D.jsx)("span",{children:null===ce||void 0===ce?void 0:ce.author})]}),(0,D.jsx)("p",{className:j,children:null===ce||void 0===ce?void 0:ce.language}),(0,D.jsx)("p",{className:"Online"===(null===ce||void 0===ce?void 0:ce.bookStatus)?x:"".concat(x," ").concat(b),children:null===ce||void 0===ce?void 0:ce.bookStatus})]})]}),(0,D.jsxs)("div",{className:p,children:[(0,D.jsxs)("div",{className:k,children:[(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("ssn_number")}),(0,D.jsxs)("h6",{className:_,children:[" ",null!==(Y=null===ce||void 0===ce?void 0:ce.accession_number)&&void 0!==Y?Y:""]})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("subject_only")}),(0,D.jsxs)("h6",{className:_,children:[" ",null!==(z=null===ce||void 0===ce?void 0:ce.subject)&&void 0!==z?z:""]})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("total_page")}),(0,D.jsx)("h6",{className:_,children:null!==(Q=null===ce||void 0===ce?void 0:ce.totalPage)&&void 0!==Q?Q:""})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("price")}),(0,D.jsx)("h6",{className:_,children:null!==(K=null===ce||void 0===ce?void 0:ce.price)&&void 0!==K?K:""})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("shell_number")}),(0,D.jsx)("h6",{className:_,children:null===ce||void 0===ce?void 0:ce.shellNumber})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("date")}),(0,D.jsx)("h6",{className:_,children:null!==(V=null===ce||void 0===ce?void 0:ce.date)&&void 0!==V?V:""})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("edition")}),(0,D.jsx)("h6",{className:_,children:null!==($=null===ce||void 0===ce?void 0:ce.edition)&&void 0!==$?$:""})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("class_number")}),(0,D.jsx)("h6",{className:_,children:null!==(ee=null===ce||void 0===ce?void 0:ce.class_number)&&void 0!==ee?ee:""})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("publication")}),(0,D.jsxs)("h6",{className:_,children:[" ",null!==(le=null===ce||void 0===ce?void 0:ce.publication)&&void 0!==le?le:""]})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("publisher")}),(0,D.jsx)("h6",{className:_,children:null!==(ie=null===ce||void 0===ce?void 0:ce.publisher)&&void 0!==ie?ie:""})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("publisher_place")}),(0,D.jsxs)("h6",{className:_,children:[" ",null===ce||void 0===ce?void 0:ce.publisher_place]})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("publisher_year")}),(0,D.jsxs)("h6",{className:_,children:[" ",null===ce||void 0===ce?void 0:ce.publisher_year]})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("supplier")}),(0,D.jsx)("h6",{className:_,children:null!==(se=null===ce||void 0===ce?void 0:ce.supplier)&&void 0!==se?se:""})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("purchase_order_date")}),(0,D.jsx)("h6",{className:_,children:null!==(oe=null===ce||void 0===ce?void 0:ce.purchase_order_date)&&void 0!==oe?oe:""})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("purchase_order_number")}),(0,D.jsx)("h6",{className:_,children:null!==(de=null===ce||void 0===ce?void 0:ce.purchase_order_number)&&void 0!==de?de:""})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("bill_date")}),(0,D.jsx)("h6",{className:_,children:null===ce||void 0===ce?void 0:ce.bill_date})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:y,children:ke("bill_number")}),(0,D.jsx)("h6",{className:_,children:null===ce||void 0===ce?void 0:ce.bill_number})]}),(null===ce||void 0===ce||null===(ne=ce.attachment[0])||void 0===ne?void 0:ne.documentName)&&"Online"===(null===ce||void 0===ce?void 0:ce.bookStatus)&&(0,D.jsx)("a",{href:"".concat(d.zQ,"/").concat(null===ce||void 0===ce||null===(ae=ce.attachment[0])||void 0===ae?void 0:ae.documentKey),target:"_blank",rel:"noopener noreferrer",children:(0,D.jsxs)("div",{className:S,children:[(0,D.jsx)("p",{className:y,children:ke("attachment")}),(0,D.jsxs)("div",{className:f,children:[(0,D.jsx)("img",{src:"/images/chat/pdf-icon.svg",alt:""}),(0,D.jsx)("h6",{className:"".concat(_," ").concat(B),children:"".concat(null===ce||void 0===ce||null===(te=ce.attachment[0])||void 0===te?void 0:te.documentName)})]})]})})]}),(0,D.jsxs)("div",{className:N,children:[(0,D.jsx)("p",{className:y,children:ke("description")}),(0,D.jsxs)("h6",{className:g,children:[" ",null!==(re=null===ce||void 0===ce?void 0:ce.description)&&void 0!==re?re:""]})]})]}),"staff book details"===ue?null:(0,D.jsx)(X,{bid:null===ce||void 0===ce?void 0:ce._id,sid:pe})]}):(0,D.jsxs)("div",{className:n,children:[(0,D.jsxs)("div",{className:a,children:[(0,D.jsx)("img",{src:"/images/back.svg",onClick:he}),(0,D.jsx)("h6",{children:ke("book_details")}),(0,D.jsx)("div",{})]}),(0,D.jsxs)("div",{className:t,children:[(0,D.jsx)("div",{className:c,children:(0,D.jsx)("div",{className:v,children:(0,D.jsx)("img",{className:u,src:"1"!==(null===ce||void 0===ce?void 0:ce.photoId)&&""!==(null===ce||void 0===ce?void 0:ce.photo)?"".concat(d.yI,"/").concat(null===ce||void 0===ce?void 0:ce.photo):"/images/defaultBook.png"})})}),(0,D.jsxs)("div",{className:r,children:[(0,D.jsx)("h3",{className:h,children:null===ce||void 0===ce?void 0:ce.bookName}),(0,D.jsxs)("p",{className:m,children:[ke("by_")," \xa0",(0,D.jsx)("span",{children:null===ce||void 0===ce?void 0:ce.author})]}),(0,D.jsx)("p",{className:j,children:null===ce||void 0===ce?void 0:ce.language}),(0,D.jsx)("p",{className:"Online"===(null===ce||void 0===ce?void 0:ce.bookStatus)?x:"".concat(x," ").concat(b),children:null===ce||void 0===ce?void 0:ce.bookStatus})]})]})]}),_e&&(null===ce||void 0===ce?void 0:ce.book_qr_code)&&(0,D.jsx)(I,{onClose:ye,qr:null===ce||void 0===ce?void 0:ce.book_qr_code})]})};var ee=i(16871);const le=function(e){var l,i,d,n;let{bookId:a,desig:t,carryParentState:r,pageOpenAs:c,role:v,sid:u}=e;const h=(0,ee.s0)(),m=(0,ee.TH)(),{getBookDetail:j,getBookDetailRefetch:x}=(0,o.iJ)({bid:null===m||void 0===m||null===(l=m.state)||void 0===l?void 0:l.bid,skip:!(null!==m&&void 0!==m&&null!==(i=m.state)&&void 0!==i&&i.bid)}),{getCollectedBookDetail:b,getCollectedBookDetailRefetch:p}=(0,o.SN)({cid:a,skip:!a});(0,s.useEffect)((()=>{var e;null!==m&&void 0!==m&&null!==(e=m.state)&&void 0!==e&&e.bid&&x(),a&&p()}),[null===m||void 0===m||null===(d=m.state)||void 0===d?void 0:d.bid,a]);const k=()=>{h(-1)};return(0,D.jsx)($,{status:null!==b&&void 0!==b&&b.collectedDetail?"collectBookDetails":t||"bookDetails",book:null!==j&&void 0!==j&&j.book?null===j||void 0===j?void 0:j.book:null===b||void 0===b||null===(n=b.collectedDetail)||void 0===n?void 0:n.book,onBackClick:k,onCollectBackClick:k,onStudentBackClick:k,carryParentState:r,pageOpenAs:c,role:v,sid:u})}},89652:(e,l,i)=>{i.d(l,{Z:()=>j});i(72791);const s="LibraryBookCard_book_card__XM9Z0",o="LibraryBookCard_book_header__OpRy+",d="LibraryBookCard_book_header_inner__+kREQ",n="LibraryBookCard_book_header_inner_text__YEikP";var a=i(39230),t=i(6642),r=i(65082),c=i(11237),v=i(69721),u=i(16871),h=i(43504),m=i(80184);const j=e=>{var l,i,j,x,b,p,k,_;let{book:g,carryParentState:y,viewAs:N}=e;const{t:f}=(0,a.$G)(),B=(0,u.TH)(),S=(0,u.UO)();return(0,m.jsx)(m.Fragment,{children:"STUDENT"===N?(0,m.jsx)(t.Z,{carryParentState:{...y,bid:null===g||void 0===g?void 0:g._id},activeTab:"library&n=books&n=detail",children:(0,m.jsx)("div",{className:s,children:(0,m.jsxs)("div",{className:o,children:[(0,m.jsxs)("div",{className:d,style:{width:"60%"},children:[(0,m.jsx)("img",{src:null!==g&&void 0!==g&&g.photo?"".concat(v.yI,"/").concat(null===g||void 0===g?void 0:g.photo):"/images/defaultBook.png",style:{height:"6.4rem",width:"6.4rem"}}),(0,m.jsxs)("div",{className:n,children:[(0,m.jsxs)("h6",{children:[f("book_name")," "," : ",null!==(l=null===g||void 0===g?void 0:g.bookName)&&void 0!==l?l:""]}),(0,m.jsxs)("div",{children:[f("author_label")," "," : ",null===g||void 0===g?void 0:g.author," "]}),(0,m.jsxs)("div",{children:[f("subject_only")," "," : ",null===g||void 0===g?void 0:g.subject," "]}),(0,m.jsxs)("div",{children:[f("ssn_number")," "," : ",null!==(i=null===g||void 0===g?void 0:g.accession_number)&&void 0!==i?i:""," "]}),(0,m.jsxs)("div",{children:[f("language")," "," : ",(0,m.jsxs)("span",{style:{color:"#f4900c"},children:[null===g||void 0===g?void 0:g.language," "]})]})]})]}),(0,m.jsx)("div",{style:{backgroundColor:"Online"===(null===g||void 0===g?void 0:g.bookStatus)?"#20b038":"#e95f28",width:"0.6rem",height:"0.6rem",borderRadius:"100%"}})]})})}):"STAFF"===N?(0,m.jsx)(h.rU,{to:"/q/".concat(S.username,"/member?a=stafflibrary&type=bookdetail"),state:{...B.state,bid:null===g||void 0===g?void 0:g._id},children:(0,m.jsx)("div",{className:s,children:(0,m.jsxs)("div",{className:o,children:[(0,m.jsxs)("div",{className:d,style:{width:"60%"},children:[(0,m.jsx)("img",{src:null!==g&&void 0!==g&&g.photo?"".concat(v.yI,"/").concat(null===g||void 0===g?void 0:g.photo):"/images/defaultBook.png",style:{height:"6.4rem",width:"6.4rem"}}),(0,m.jsxs)("div",{className:n,children:[(0,m.jsxs)("h6",{children:[f("book_name")," "," : ",null!==(j=null===g||void 0===g?void 0:g.bookName)&&void 0!==j?j:""]}),(0,m.jsxs)("div",{children:[f("author_label")," "," : ",null===g||void 0===g?void 0:g.author," "]}),(0,m.jsxs)("div",{children:[f("subject_only")," "," : ",null===g||void 0===g?void 0:g.subject," "]}),(0,m.jsxs)("div",{children:[f("ssn_number")," "," : ",null!==(x=null===g||void 0===g?void 0:g.accession_number)&&void 0!==x?x:""," "]}),(0,m.jsxs)("div",{children:[f("language")," "," : ",(0,m.jsxs)("span",{style:{color:"#f4900c"},children:[null===g||void 0===g?void 0:g.language," "]})]})]})]}),(0,m.jsx)("div",{style:{backgroundColor:"Online"===(null===g||void 0===g?void 0:g.bookStatus)?"#20b038":"#e95f28",width:"0.6rem",height:"0.6rem",borderRadius:"100%"}})]})})}):"INSTITUTE"===N?(0,m.jsx)(r.Z,{carryParentState:{...y,bid:null===g||void 0===g?void 0:g._id},activeTab:"?a=book&n=detail",children:(0,m.jsx)("div",{className:s,children:(0,m.jsxs)("div",{className:o,children:[(0,m.jsxs)("div",{className:d,style:{width:"60%"},children:[(0,m.jsx)("img",{src:null!==g&&void 0!==g&&g.photo?"".concat(v.yI,"/").concat(null===g||void 0===g?void 0:g.photo):"/images/defaultBook.png",style:{height:"6.4rem",width:"6.4rem"}}),(0,m.jsxs)("div",{className:n,children:[(0,m.jsxs)("h6",{children:[f("book_name")," "," : ",null!==(b=null===g||void 0===g?void 0:g.bookName)&&void 0!==b?b:""]}),(0,m.jsxs)("div",{children:[f("author_label")," "," : ",null===g||void 0===g?void 0:g.author," "]}),(0,m.jsxs)("div",{children:[f("subject_only")," "," : ",null===g||void 0===g?void 0:g.subject," "]}),(0,m.jsxs)("div",{children:[f("ssn_number")," "," : ",null!==(p=null===g||void 0===g?void 0:g.accession_number)&&void 0!==p?p:""," "]}),(0,m.jsxs)("div",{children:[f("language")," "," : ",(0,m.jsxs)("span",{style:{color:"#f4900c"},children:[null===g||void 0===g?void 0:g.language," "]})]})]})]}),(0,m.jsx)("div",{style:{backgroundColor:"Online"===(null===g||void 0===g?void 0:g.bookStatus)?"#20b038":"#e95f28",width:"0.6rem",height:"0.6rem",borderRadius:"100%"}})]})})}):(0,m.jsx)(c.Z,{carryParentState:{...y,bid:null===g||void 0===g?void 0:g._id},activeTab:"book&n=detail",children:(0,m.jsx)("div",{className:s,children:(0,m.jsxs)("div",{className:o,children:[(0,m.jsxs)("div",{className:d,style:{width:"60%"},children:[(0,m.jsx)("img",{src:null!==g&&void 0!==g&&g.photo?"".concat(v.yI,"/").concat(null===g||void 0===g?void 0:g.photo):"/images/defaultBook.png",style:{height:"6.4rem",width:"6.4rem"}}),(0,m.jsxs)("div",{className:n,children:[(0,m.jsxs)("h6",{children:[f("book_name")," "," : ",null!==(k=null===g||void 0===g?void 0:g.bookName)&&void 0!==k?k:""]}),(0,m.jsxs)("div",{children:[f("author_label")," "," : ",null===g||void 0===g?void 0:g.author," "]}),(0,m.jsxs)("div",{children:[f("subject_only")," "," : ",null===g||void 0===g?void 0:g.subject," "]}),(0,m.jsxs)("div",{children:[f("ssn_number")," "," : ",null!==(_=null===g||void 0===g?void 0:g.accession_number)&&void 0!==_?_:""," "]}),(0,m.jsxs)("div",{children:[f("language")," "," : ",(0,m.jsxs)("span",{style:{color:"#f4900c"},children:[null===g||void 0===g?void 0:g.language," "]})]})]})]}),(0,m.jsx)("div",{style:{backgroundColor:"Online"===(null===g||void 0===g?void 0:g.bookStatus)?"#20b038":"#e95f28",width:"0.6rem",height:"0.6rem",borderRadius:"100%"}})]})})})})}},11237:(e,l,i)=>{i.d(l,{Z:()=>n});i(72791);var s=i(16871),o=i(43504),d=i(80184);const n=e=>{let{carryParentState:l,activeTab:i,customStyle:n,role:r,children:c}=e;const v=(0,s.UO)();return(0,d.jsx)(d.Fragment,{children:"FULL_FUNCTIONALITY"===r?(0,d.jsx)(o.rU,{to:"/q/".concat(v.username,"/member/library?a=").concat(i),state:{...l},style:{...n},children:c}):"DEPARTMENT_WISE"===r?null!==t&&void 0!==t&&t.includes(i)?(0,d.jsx)(o.rU,{to:"/q/".concat(v.username,"/member/library?a=").concat(i),state:{...l},style:{...n},children:c}):(0,d.jsx)("div",{style:{opacity:"0.5"},children:c}):"FINE_CHARGE"===r?null!==a&&void 0!==a&&a.includes(i)?(0,d.jsx)(o.rU,{to:"/q/".concat(v.username,"/member/library?a=").concat(i),state:{...l},style:{...n},children:c}):(0,d.jsx)("div",{style:{opacity:"0.5"},children:c}):(0,d.jsx)(o.rU,{to:"/q/".concat(v.username,"/member/library?a=").concat(i),state:{...l},style:{...n},children:c})})},a=["book","charge","member"],t=["book","issue","collect","charge","member","export","logs","book&n=edit"]},6642:(e,l,i)=>{i.d(l,{Z:()=>n});i(72791);var s=i(16871),o=i(43504),d=i(80184);const n=e=>{let{carryParentState:l,activeTab:i,customStyleLink:n,children:a}=e;const t=(0,s.UO)();return(0,d.jsx)(d.Fragment,{children:""===i?(0,d.jsx)(o.rU,{to:"/q/".concat(t.username,"/member/student/class"),state:{...l},style:n,children:a}):(0,d.jsx)(o.rU,{to:"/q/".concat(t.username,"/member/student/class?a=").concat(i),state:{...l},style:n,children:a})})}},55581:(e,l,i)=>{i.d(l,{B6:()=>Z,CU:()=>p,EI:()=>v,Ef:()=>b,Fy:()=>O,H:()=>y,I4:()=>j,IO:()=>o,JH:()=>G,LN:()=>m,M_:()=>P,N6:()=>T,Nd:()=>I,O_:()=>a,QJ:()=>x,R3:()=>A,Rr:()=>z,SN:()=>_,Se:()=>k,Uc:()=>J,XJ:()=>S,Y:()=>Y,Yv:()=>D,Zd:()=>E,Zj:()=>C,_s:()=>w,a8:()=>L,aA:()=>c,ar:()=>U,bi:()=>W,dH:()=>q,eQ:()=>g,iJ:()=>r,mU:()=>h,n9:()=>u,nY:()=>t,oW:()=>R,pV:()=>F,qF:()=>d,qw:()=>N,sN:()=>H,sl:()=>B,x5:()=>Q,xK:()=>f,yX:()=>n,z2:()=>M,zz:()=>K});var s=i(41311);const o=()=>{const[e]=(0,s.CW)();return[e]},d=()=>{const[e]=(0,s.UO)();return[e]},n=e=>{const{data:l,refetch:i}=(0,s.dA)(null===e||void 0===e?void 0:e.lid,{skip:null===e||void 0===e?void 0:e.skip});return{getLibraryDetail:l,getLibraryDetailRefetch:i}},a=e=>{const{data:l,refetch:i}=(0,s.Zo)(e.data,{skip:null===e||void 0===e?void 0:e.skip});return{getBooklist:l,getBookListRefetch:i}},t=()=>{const[e]=(0,s.i9)();return[e]},r=e=>{const{data:l,refetch:i}=(0,s.wT)(null===e||void 0===e?void 0:e.bid,{skip:null===e||void 0===e?void 0:e.skip});return{getBookDetail:l,getBookDetailRefetch:i}},c=e=>{const{data:l,refetch:i}=(0,s.z2)(e.data,{skip:null===e||void 0===e?void 0:e.skip});return{getIssuedBooklist:l,getIssuedBookListRefetch:i}},v=()=>{const[e]=(0,s.pM)();return[e]},u=()=>{const[e]=(0,s.nv)();return[e]},h=e=>{const{data:l,refetch:i}=(0,s.jX)(e.data,{skip:null===e||void 0===e?void 0:e.skip});return{getCollectedBooklist:l,getCollectedBookListRefetch:i}},m=()=>{const[e]=(0,s.Gh)();return[e]},j=e=>{const{data:l,refetch:i}=(0,s.NM)(e.data,{skip:null===e||void 0===e?void 0:e.skip});return{getMemberslist:l,getMembersListRefetch:i}},x=e=>{const{data:l,refetch:i}=(0,s.yp)(e.data,{skip:null===e||void 0===e?void 0:e.skip});return{getMemberBooklist:l,getMemberBookListRefetch:i}},b=e=>{const{data:l,refetch:i}=(0,s.A8)(e.data,{skip:null===e||void 0===e?void 0:e.skip});return{getMemberHistorylist:l,getMemberHistoryListRefetch:i}},p=()=>{const[e]=(0,s.YG)();return[e]},k=()=>{const[e]=(0,s.Rn)();return[e]},_=e=>{const{data:l,refetch:i}=(0,s.du)(null===e||void 0===e?void 0:e.cid,{skip:null===e||void 0===e?void 0:e.skip});return{getCollectedBookDetail:l,getCollectedBookDetailRefetch:i}},g=()=>{const[e]=(0,s.I1)();return[e]},y=e=>{const{data:l,refetch:i}=(0,s.ZS)(e.lid,{skip:null===e||void 0===e?void 0:e.skip});return{libraryGetSiteInfo:l,libraryGetSiteInfoRefetch:i}},N=()=>{const[e]=(0,s.Xr)();return[e]},f=e=>{const{data:l,refetch:i}=(0,s.Gw)(e.data,{skip:null===e||void 0===e?void 0:e.skip});return{libraryFineCharge:l,libraryFineChargeRefetch:i}},B=()=>{const[e]=(0,s.UV)();return[e]},S=()=>{const[e]=(0,s.Mb)();return[e]},R=e=>{const{data:l,refetch:i}=(0,s.BF)(e.data,{skip:null===e||void 0===e?void 0:e.skip});return{libraryAllExcelExport:l,libraryAllExcelExportRefetch:i}},w=()=>{const[e]=(0,s.Ww)();return[e]},C=()=>{const[e]=(0,s.NQ)();return[e]},L=()=>{const[e]=(0,s.WK)();return[e]},D=()=>{const[e]=(0,s.aA)();return[e]},I=()=>{const[e]=(0,s.$8)();return[e]},T=()=>{const[e]=(0,s.nb)();return[e]},q=()=>{const[e]=(0,s.V8)();return[e]},O=()=>{const[e]=(0,s.d6)();return[e]},Z=()=>{const[e]=(0,s.iL)();return[e]},U=()=>{const[e]=(0,s.aU)();return[e]},A=e=>{const{data:l,refetch:i}=(0,s.dB)(e.data,{skip:null===e||void 0===e?void 0:e.skip});return{libraryGetStudentInOutHistory:l,libraryGetStudentInOutHistoryRefetch:i}},E=e=>{const{data:l,refetch:i}=(0,s.O6)(e.data,{skip:null===e||void 0===e?void 0:e.skip});return{libraryGetInOutHistory:l,libraryGetInOutHistoryRefetch:i}},G=e=>{const{data:l,refetch:i}=(0,s.$A)(e.data,{skip:null===e||void 0===e?void 0:e.skip});return{libraryGetStocktakeHistory:l,libraryGetStocktakeHistoryRefetch:i}},P=e=>{const{data:l,refetch:i}=(0,s.X_)(e.data,{skip:null===e||void 0===e?void 0:e.skip});return{libraryGetStocktakeOneHistory:l,libraryGetStocktakeOneHistoryRefetch:i}},M=e=>{const{data:l,refetch:i}=(0,s.Az)(e.data,{skip:e.skip});return{getModeratorByLibrary:l,getModeratorByLibraryRefetch:i}},F=()=>{const[e]=(0,s.a6)();return[e]},H=()=>{const[e]=(0,s.WE)();return[e]},J=()=>{const[e]=(0,s.LO)();return[e]},W=()=>{const[e]=(0,s.yW)();return[e]},Y=()=>{const[e]=(0,s.p3)();return[e]},z=e=>{const{data:l,refetch:i}=(0,s.SK)(e.data,{skip:e.skip});return{getStudentLibraryTime:l,getStudentLibraryTimeRefetch:i}},Q=()=>{const[e]=(0,s.R)();return[e]},K=()=>{const[e]=(0,s.VA)();return[e]}},49825:(e,l,i)=>{i.d(l,{Af:()=>u,yb:()=>m,Te:()=>h});var s=i(4235),o=i(94811);const d=e=>e.query({query:e=>"/library/remark/book/".concat(e.bid,"/query?page=").concat(e.page,"&limit=").concat(e.limit),serializeQueryArgs:e=>{let{endpointName:l}=e;return l},transformResponse:(e,l,i)=>null!==i&&void 0!==i&&i.search?{search:!0,list:null===e||void 0===e?void 0:e.stocktake}:{page:null===i||void 0===i?void 0:i.page,list:null===e||void 0===e?void 0:e.stocktake},merge:(e,l)=>{var i;return null!==l&&void 0!==l&&l.search||1===(null===l||void 0===l?void 0:l.page)?l:void(null===e||void 0===e||null===(i=e.list)||void 0===i||i.push(...null===l||void 0===l?void 0:l.list))},forceRefetch(e){let{currentArg:l,previousArg:i}=e;return l!==i}}),n=e=>e.mutation({query:e=>({url:"/library/remark/book/".concat(e.bid,"/query"),method:o.Q0,body:e.reviewData})}),a=e=>e.mutation({query:e=>({url:"/library/remark/book/".concat(e.bid,"/query?sid=").concat(null===e||void 0===e?void 0:e.sid),method:o.yY})}),t=s.i.injectEndpoints({endpoints:e=>({libraryBookReviewList:d(e),libraryUpdateBookReview:n(e),libraryRemoveBookReview:a(e)})}),{useLibraryBookReviewListQuery:r,useLibraryUpdateBookReviewMutation:c,useLibraryRemoveBookReviewMutation:v}=t,u=e=>{const{data:l,refetch:i,isFetching:s}=r(e.data,{skip:e.skip});return{libraryBookReviewList:l,libraryBookReviewListRefetch:i,libraryBookReviewListLoading:s}},h=()=>{const[e]=c();return[e]},m=()=>{const[e]=v();return[e]}}}]);
//# sourceMappingURL=53804.e4033ac0.chunk.js.map