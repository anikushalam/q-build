"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[50864],{50864:(e,t,i)=>{i.r(t),i.d(t,{default:()=>q});var _=i(72791);const a="GrQuery_grquery_container__OxXAR",o="GrQuery_with_search__GL3dh",n="GrQuery_query_card__mD8nJ",r="GrQuery_query_card_head__1Zhr8",l="GrQuery_query_card_text__xOfj5",f="GrQuery_query_card_content__SpWhF",s="GrQuery_button_container__dlxWH",d="GrQuery_reject_btn__tiUEx",c="GrQuery_approve_btn__GMn3H",u="GrQuery_query_date__bWPkc";var h=i(39230),v=i(23441),p=i(96065),y=i(95048),m=i(11105),S=i(98094),P=i(69721),x=i(72426),j=i.n(x),g=i(98734),k=i(80184);const N=e=>{var t,i,a,o,v,y,m,S,x,N;let{query:q,onRefetch:b}=e;const{t:G}=(0,h.$G)(),[R,A]=(0,_.useState)(!1),[C]=(0,p.iA)(),M=e=>{null!==q&&void 0!==q&&q._id&&e&&(A((e=>!e)),C({qid:null===q||void 0===q?void 0:q._id,status:"".concat(e)}).then((()=>{b(),A((e=>!e))})).catch({}))};return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:n,children:[(0,k.jsxs)("div",{className:r,children:[(0,k.jsx)("img",{src:null!==q&&void 0!==q&&null!==(t=q.query_by_student)&&void 0!==t&&t.studentProfilePhoto?"".concat(P.yI,"/").concat(null===q||void 0===q||null===(i=q.query_by_student)||void 0===i?void 0:i.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""}),(0,k.jsxs)("div",{className:l,children:[(0,k.jsx)("h6",{children:"".concat(null!==(a=null===q||void 0===q||null===(o=q.query_by_student)||void 0===o?void 0:o.studentFirstName)&&void 0!==a?a:""," ").concat(null!==(v=null===q||void 0===q||null===(y=q.query_by_student)||void 0===y?void 0:y.studentMiddleName)&&void 0!==v?v:""," ").concat(null!==(m=null===q||void 0===q||null===(S=q.query_by_student)||void 0===S?void 0:S.studentLastName)&&void 0!==m?m:"")}),(0,k.jsxs)("h6",{children:[(0,k.jsx)("span",{style:{fontWeight:"400"},children:G("gr_number")})," ",null!==(x=null===q||void 0===q?void 0:q.query_gr)&&void 0!==x?x:""]})]})]}),(0,k.jsx)("p",{className:f,children:null!==(N=null===q||void 0===q?void 0:q.query_content)&&void 0!==N?N:""}),"Pending"===(null===q||void 0===q?void 0:q.query_status)?(0,k.jsxs)("div",{className:s,children:[(0,k.jsx)("button",{className:d,onClick:()=>M("Rejected"),children:G("reject")}),(0,k.jsx)("button",{className:c,onClick:()=>M("Approved"),children:G("approve")})]}):null,(0,k.jsxs)("div",{className:u,children:[(0,k.jsx)("p",{children:j()(null===q||void 0===q?void 0:q.created_at).format("DD MMMM, yyyy")}),(0,k.jsx)("p",{children:j()(null===q||void 0===q?void 0:q.created_at).format("LT")})]})]}),R&&(0,k.jsx)(g.Z,{})]})},q=()=>{const{t:e}=(0,h.$G)(),t=(0,y.v9)((e=>e.idChange.id)),[i,n]=(0,v.YD)(),[r,l]=(0,_.useState)(1),[f,s]=(0,_.useState)(!0),[d,c]=(0,_.useState)(!0),[u,P]=(0,_.useState)([]),[x,j]=(0,_.useState)(!1),{instituteAllGRNotification:g,instituteAllGRNotificationRefetch:q}=(0,p.id)({data:{id:t,page:r,limit:10},skip:!t});(0,_.useEffect)((()=>{t&&(c(!0),q())}),[t,r,q]),(0,_.useEffect)((()=>{n&&f&&l((e=>e+1))}),[n,f]),(0,_.useEffect)((()=>{var e,t;x?(P(null===g||void 0===g?void 0:g.all_query),c(!1),j(!1)):null!==g&&void 0!==g&&g.all_query?(P((e=>{var t,i;return null===(t=[...new Set(null===(i=[...e,...null===g||void 0===g?void 0:g.all_query])||void 0===i?void 0:i.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),c(!1)):0===(null===g||void 0===g||null===(t=g.all_query)||void 0===t?void 0:t.length)&&c(!1);10===(null===g||void 0===g||null===(e=g.all_query)||void 0===e?void 0:e.length)?s(!0):s(!1)}),[null===g||void 0===g?void 0:g.all_query]);const b=()=>{l(1),j(!0),c(!0),q()};return(0,k.jsxs)("div",{className:a,children:[(0,k.jsx)("div",{className:o,children:(0,k.jsx)("h6",{children:e("gr_internal_query")})}),(0,k.jsx)(S.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),null===u||void 0===u?void 0:u.map(((e,t)=>(null===u||void 0===u?void 0:u.length)===t+1?(0,k.jsx)("div",{ref:i,children:(0,k.jsx)(N,{query:e,onRefetch:b})},null===e||void 0===e?void 0:e._id):(0,k.jsx)(N,{query:e,onRefetch:b},null===e||void 0===e?void 0:e._id))),d&&(0,k.jsx)(m.Z,{status:"white"})]})}},98094:(e,t,i)=>{i.d(t,{Z:()=>o});i(72791);var _=i(55136),a=i(80184);const o=e=>{let{customStyle:t}=e;return(0,a.jsx)("hr",{className:_.Z.universal_hr,style:{...t}})}},96065:(e,t,i)=>{i.d(t,{Cr:()=>f,EC:()=>l,EG:()=>r,Wj:()=>n,_p:()=>d,a3:()=>s,iA:()=>u,id:()=>c,mS:()=>o,nF:()=>a,vW:()=>h});var _=i(40896);const a=e=>{const{data:t,refetch:i}=(0,_.TU)(e.data,{skip:e.skip});return{instituteAllNotification:t,instituteAllNotificationRefetch:i}},o=e=>{const{data:t,refetch:i}=(0,_.dQ)(e.data,{skip:e.skip});return{userAllNotification:t,userAllNotificationRefetch:i}},n=e=>{const{data:t,refetch:i}=(0,_.Pw)(e.data,{skip:e.skip});return{allActivityList:t,allActivityListRefetch:i}},r=e=>{const{data:t,refetch:i}=(0,_.hE)(e.id,{skip:e.skip});return{activityNotifiationCount:t,activityNotifiationCountRefetch:i}},l=()=>{const[e]=(0,_.Lh)();return[e]},f=()=>{const[e]=(0,_.LO)();return[e]},s=()=>{const[e]=(0,_.xL)();return[e]},d=e=>{const{data:t,refetch:i}=(0,_.sj)(e.data,{skip:e.skip});return{activitySupportMember:t,activitySupportMemberRefetch:i}},c=e=>{const{data:t,refetch:i}=(0,_.lI)(e.data,{skip:e.skip});return{instituteAllGRNotification:t,instituteAllGRNotificationRefetch:i}},u=()=>{const[e]=(0,_.wU)();return[e]},h=e=>{const{data:t,refetch:i}=(0,_.YS)(e.data,{skip:e.skip});return{getNotificationAllStudentMessage:t,getNotificationAllStudentMessageRefetch:i}}},55136:(e,t,i)=>{i.d(t,{Z:()=>_});const _={staff_profile_container:"StaffProfile_staff_profile_container__GG5AM",staff_header_container:"StaffProfile_staff_header_container__avRlK",staff_header_function:"StaffProfile_staff_header_function__l9cDM",staff_header_text:"StaffProfile_staff_header_text__XX8rQ",staff_header_prev:"StaffProfile_staff_header_prev__ImXKU",staff_header_next:"StaffProfile_staff_header_next__jjoJr",staff_header_close:"StaffProfile_staff_header_close__wXG-N",staff_profile_photo_name:"StaffProfile_staff_profile_photo_name__WWUV4",staff_profile_photo_index:"StaffProfile_staff_profile_photo_index__-yyx9",each_info_container:"StaffProfile_each_info_container__Mo3TB",each_field_text:"StaffProfile_each_field_text__vvAvg",each_field_text_value:"StaffProfile_each_field_text_value__k1OsE",universal_hr:"StaffProfile_universal_hr__w130J",staff_profile_photo_container:"StaffProfile_staff_profile_photo_container__rFPEV",staff_profile_photo_info:"StaffProfile_staff_profile_photo_info__CxVDi",staff_profile_photo_image:"StaffProfile_staff_profile_photo_image__5f2cC",staff_profile_photo_edit:"StaffProfile_staff_profile_photo_edit__y03dk",each_field_container:"StaffProfile_each_field_container__0qKjw",each_field:"StaffProfile_each_field__18G-9",student_attendane_container:"StaffProfile_student_attendane_container__64BII",student_attendance_heading:"StaffProfile_student_attendance_heading__0hW2K",colours:"StaffProfile_colours__-7mIV",monthColours:"StaffProfile_monthColours__A3asC",percentage:"StaffProfile_percentage__GO1RT",presentcount:"StaffProfile_presentcount__u30HH",absentcount:"StaffProfile_absentcount__d+utq",link_hold_container:"StaffProfile_link_hold_container__0dRjX",link_hold_container_hostel:"StaffProfile_link_hold_container_hostel__LcldT",card_hold_container:"StaffProfile_card_hold_container__HQQcE",admission_fees:"StaffProfile_admission_fees__MoZHM",certificate_btn_container:"StaffProfile_certificate_btn_container__jui9m",admission_actions:"StaffProfile_admission_actions__ayyJD",staff_designation_btn:"StaffProfile_staff_designation_btn__4C3h7",ospp_header:"StaffProfile_ospp_header__oteF5",ospph_img:"StaffProfile_ospph_img__gPivu",cbc_row:"StaffProfile_cbc_row__rm60T",certificate_btn:"StaffProfile_certificate_btn__3NWfg"}}}]);
//# sourceMappingURL=50864.d66ada7c.chunk.js.map