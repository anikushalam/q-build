"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[26506],{26506:(e,s,l)=>{l.r(s),l.d(s,{default:()=>Z});var n=l(72791),t=l(82041),i=l(98734),a=l(84959),d=l(33992),o=l(80184);const c=e=>{let{id:s,children:l}=e;const[c,u]=(0,n.useState)(!1),[r]=(0,a.FL)(),[v]=(0,d.SO)();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:t.Z.exploreParent,children:(0,o.jsxs)("div",{className:t.Z.exploreChild,style:{width:"100%"},children:[(0,o.jsxs)("div",{className:t.Z.searchbar,style:{width:"100%"},children:[l,(0,o.jsx)("img",{alt:"img",src:"/images/search-dash-icon.svg"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:t.Z.upload_excel_file,htmlFor:"uploadExcel",children:(0,o.jsx)("img",{src:"/images/upload-xslx-icon.svg",alt:"add student icon",title:"Upload unapproved excel file"})}),(0,o.jsx)("input",{type:"file",id:"uploadExcel",accept:".xlsx",onChange:e=>{var l,n;if(null!==(l=e.target)&&void 0!==l&&null!==(n=l.files)&&void 0!==n&&n.length&&s){u((e=>!e));const l=new FormData;l.append("file",e.target.files[0]),r({fileUpload:l}).then((e=>{var l,n;null!==(l=e.data)&&void 0!==l&&l.imageKey?v({id:s,excelFile:{excel_file:null===(n=e.data)||void 0===n?void 0:n.imageKey}}).then((()=>{u((e=>!e))})).catch({}):u((e=>!e))})).catch({})}},style:{display:"none"}})]})]})}),c&&(0,o.jsx)(i.Z,{})]})};var u=l(39230),r=l(35395),v=l(77037),m=l(11105),h=l(69721);const x=e=>{var s,l;let{student:n,onViewProfile:t}=e;return(0,o.jsxs)("div",{onClick:()=>t(null===n||void 0===n?void 0:n._id),children:[(0,o.jsxs)("div",{className:v.Z.oneRow,children:[(0,o.jsx)("div",{className:"".concat(v.Z.oneRowIndex," ").concat(v.Z.oneRowwIndex),children:(0,o.jsx)("p",{className:v.Z.oneRowIndexValue,children:null===n||void 0===n?void 0:n.studentGRNO})}),(0,o.jsxs)("div",{className:v.Z.oneRowName,children:[(0,o.jsx)("div",{className:v.Z.oneRowNameImage,children:(0,o.jsx)("img",{src:null!==n&&void 0!==n&&n.studentProfilePhoto?"".concat(h.yI,"/").concat(null===n||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy",alt:""})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:v.Z.oneRowNameText,children:"".concat(null===n||void 0===n?void 0:n.studentFirstName," ").concat(null!==n&&void 0!==n&&n.studentMiddleName?null===n||void 0===n?void 0:n.studentMiddleName:""," ").concat(null===n||void 0===n?void 0:n.studentLastName)}),(0,o.jsx)("p",{className:v.Z.oneRowNamePlaceholder,children:null!==n&&void 0!==n&&n.studentClass?null===n||void 0===n?void 0:n.studentClass.classTitle:""})]})]}),(0,o.jsxs)("div",{className:v.Z.oneRowContact,children:[(0,o.jsxs)("div",{className:v.Z.oneRowContactEmailIcon,children:[(0,o.jsx)("img",{src:"/images/user_signup/gender.svg",alt:"gender icon"}),(0,o.jsx)("p",{className:v.Z.oneRowContactEmail,children:null===n||void 0===n?void 0:n.studentGender})]}),(0,o.jsxs)("div",{className:v.Z.oneRowContactEmailIcon,children:[(0,o.jsx)("img",{src:"/images/phone-white.svg",alt:""}),(0,o.jsx)("p",{className:v.Z.oneRowContactNumber,children:null!==n&&void 0!==n&&n.user.userPhoneNumber?null===n||void 0===n?void 0:n.user.userPhoneNumber:null!==(s=null===n||void 0===n?void 0:n.user.userEmail)&&void 0!==s?s:""})]})]}),(0,o.jsx)("div",{className:v.Z.oneRowDate,children:(0,o.jsx)("p",{className:v.Z.oneRowDateText,children:null!==(l=null===n||void 0===n?void 0:n.applicable_fees_pending)&&void 0!==l?l:0})})]}),(0,o.jsx)("p",{className:v.Z.oneRowBottomBorder})]})};var p=l(34219),j=l(23441),g=l(763),N=l(39480);const f=n.lazy((()=>Promise.resolve().then(l.bind(l,78766)))),Z=e=>{var s,l,i,a,h;let{instituteId:Z}=e;const{t:w}=(0,u.$G)(),[R,I]=(0,n.useState)(""),[b,y]=(0,n.useState)([]),[C,_]=(0,n.useState)(""),[S,P]=(0,j.YD)(),[k,E]=(0,n.useState)(1),[F,D]=(0,n.useState)(!0),[O,G]=(0,n.useState)(!0),{getUnapprovedStudentByInstitute:T,getUnapprovedStudentByInstituteRefetch:B}=(0,d.KW)({data:{id:Z,page:k,limit:10,search:C},skip:!Z}),{oneInstituteDashboard:U,oneInstituteDashboardRefetch:V}=(0,N.gq)({id:Z,skip:!Z});n.useEffect((()=>{Z&&V()}),[Z,V]),(0,n.useEffect)((()=>{Z&&(G(!0),B())}),[Z,k,C,B]),(0,n.useEffect)((()=>{P&&F&&E((e=>e+1))}),[P,F]),(0,n.useEffect)((()=>{var e,s;C?(y(null===T||void 0===T?void 0:T.studentIns),G(!1)):null!==T&&void 0!==T&&T.studentIns?(y((e=>{var s,l;return null===(s=[...new Set(null===(l=[...e,...null===T||void 0===T?void 0:T.studentIns])||void 0===l?void 0:l.map(JSON.stringify))])||void 0===s?void 0:s.map(JSON.parse)})),G(!1)):0===(null===T||void 0===T||null===(s=T.studentIns)||void 0===s?void 0:s.length)&&G(!1);10===(null===T||void 0===T||null===(e=T.studentIns)||void 0===e?void 0:e.length)?D(!0):D(!1)}),[null===T||void 0===T?void 0:T.studentIns]);const q=e=>{I(e)},K=(0,n.useCallback)((0,g.debounce)((e=>_(e)),500),[]);return(0,o.jsx)(o.Fragment,{children:R?(0,o.jsx)(r.Z,{children:(0,o.jsx)(f,{sid:R,onClose:()=>{I("")}})}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c,{id:Z,children:(0,o.jsx)("input",{type:"text",placeholder:w("search"),name:"search",className:"form-control ".concat(t.Z.searchinput),onChange:e=>{K(e.target.value)},style:{width:"95%"}})}),(0,o.jsxs)("div",{className:v.Z.header,children:[(0,o.jsxs)("p",{className:v.Z.index,children:[" ",null!==(s=null===U||void 0===U||null===(l=U.institute)||void 0===l||null===(i=l.alias_pronounciation)||void 0===i?void 0:i.student_alias)&&void 0!==s?s:w("gr_no")]}),(0,o.jsx)("p",{className:v.Z.name,children:w("name")}),(0,o.jsx)("p",{className:v.Z.contact,children:w("contact_number")}),(0,o.jsx)("p",{className:v.Z.joinigDate,children:w("applicable_outs")})]}),(0,o.jsxs)("div",{className:v.Z.container,children:[null===b||void 0===b?void 0:b.map(((e,s)=>(null===b||void 0===b?void 0:b.length)===s+1?(0,o.jsx)("div",{ref:S,children:(0,o.jsx)(x,{onViewProfile:q,student:e})},null===e||void 0===e?void 0:e.studentGRNO):(0,o.jsx)(x,{onViewProfile:q,student:e},null===e||void 0===e?void 0:e.studentGRNO))),!O&&!(null!==T&&void 0!==T&&null!==(a=T.studentIns)&&void 0!==a&&a.length)&&(0,o.jsx)(p.Z,{customStyleContainer:{marginTop:"5rem"},title:"No student found.",subtitle:"Please make sure you have added unappoved students."}),C&&!O&&!(null!==T&&void 0!==T&&null!==(h=T.studentIns)&&void 0!==h&&h.length)&&(0,o.jsx)(p.Z,{customStyleContainer:{marginTop:"5rem"},title:"No search found!"}),O&&(0,o.jsx)(m.Z,{})]})]})})}}}]);
//# sourceMappingURL=26506.5d0fa235.chunk.js.map