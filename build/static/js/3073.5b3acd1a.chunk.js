"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[3073,46876],{46876:(s,e,i)=>{i.r(e),i.d(e,{default:()=>v});var a=i(72791),t=i(23441),n=i(95048),l=i(12923),o=i(763),c=i(69721),r=i(52124),d=i(5574),u=i(39230),h=i(80184);const f=window.innerHeight,v=s=>{let{onClose:e,title:i,headSelect:v,assignHead:_,disabledId:g,instituteId:m,viewAs:p,isMultiSelect:x,selectList:j,onMultiSelect:S,onDone:N}=s;const{t:k}=(0,u.$G)(),[b,w]=(0,a.useState)(1),[M,C]=(0,a.useState)(!0),[A,Z]=(0,t.YD)(),[L,R]=(0,a.useState)(""),[y,I]=a.useState([]),F=(0,n.v9)((s=>s.idChange)),{assignSearchStaff:O,assignSearchStaffRefetch:P}=(0,l.vI)({skip:"ADMISSION_ADMIN"===p?!m:!(null!==F&&void 0!==F&&F.id),search:{search:L,page:b,id:"ADMISSION_ADMIN"===p?m:null===F||void 0===F?void 0:F.id,limit:10}});a.useEffect((()=>{null!==F&&void 0!==F&&F.id&&P()}),[null===F||void 0===F?void 0:F.id,P,b]),(0,a.useEffect)((()=>{Z&&M&&w((s=>s+1))}),[Z,M]),a.useEffect((()=>{null!==O&&void 0!==O&&O.staff&&I(L?null===O||void 0===O?void 0:O.staff:s=>(s=>{for(let a=0;a<(null===s||void 0===s?void 0:s.length);a++)for(let t=a+1;t<(null===s||void 0===s?void 0:s.length);t++){var e,i;(null===(e=s[a])||void 0===e?void 0:e._id)===(null===(i=s[t])||void 0===i?void 0:i._id)&&(null===s||void 0===s||s.splice(t,1))}return s})([...s,...null===O||void 0===O?void 0:O.staff])),10===(null===O||void 0===O?void 0:O.staff.length)?C(!0):C(!1)}),[null===O||void 0===O?void 0:O.staff]),(0,a.useEffect)((()=>{L&&D()}),[L]);const D=()=>{P()},H=(0,a.useCallback)((0,o.debounce)((s=>R(s)),500),[]),E=s=>{g===(null===s||void 0===s?void 0:s._id)||(x?S(s):(v(s),"ADMISSION_ADMIN"===p||e()))};return(0,h.jsx)(d.Z,{open:_,onClose:e,children:(0,h.jsxs)("div",{style:{backgroundColor:"#FAFAFA",width:"35rem",height:"".concat(f-20,"px"),overflowX:"hidden"},children:[(0,h.jsxs)("div",{className:r.Z.assign_title,style:{width:"100%"},children:[(0,h.jsx)("h5",{children:i}),x?(0,h.jsxs)("div",{className:r.Z.is_mulitselect_container,children:[(0,h.jsx)("h6",{style:{cursor:"pointer"},onClick:N,children:k("select")}),(0,h.jsx)("img",{src:"/images/close-post-icon.svg",onClick:e,alt:"staff assign pop close icon"})]}):(0,h.jsx)("img",{src:"/images/close-post-icon.svg",onClick:e,alt:"staff assign pop close icon"})]}),(0,h.jsxs)("div",{className:r.Z.assign_search_container,children:[(0,h.jsx)("input",{type:"text",placeholder:k("search"),className:r.Z.assign_search_input,onChange:s=>{return e=s.target.value,void H(e);var e}}),(0,h.jsx)("img",{src:"/images/search-dash-icon.svg",alt:"search icon"})]}),(0,h.jsx)("div",{className:r.Z.assign_show_list,children:null===y||void 0===y?void 0:y.map(((s,e)=>(null===y||void 0===y?void 0:y.length)===e+1?(0,h.jsxs)("div",{ref:A,children:[(0,h.jsxs)("div",{className:r.Z.assign_show_list_each,style:g===s._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:()=>E(s),children:[x?null!==j&&void 0!==j&&j.includes(null===s||void 0===s?void 0:s._id)?(0,h.jsx)("img",{src:"/images/checkbox-icon.svg",alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,h.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/box-icon.svg",alt:"icon"}):"",(0,h.jsx)("img",{src:null!==s&&void 0!==s&&s.staffProfilePhoto?"".concat(c.yI,"/").concat(s.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,h.jsxs)("div",{className:r.Z.assign_each_paragraph,children:[(0,h.jsx)("h6",{children:"".concat(s.staffFirstName," ").concat(null!==s&&void 0!==s&&s.staffMiddleName?null===s||void 0===s?void 0:s.staffMiddleName:""," ").concat(s.staffLastName)}),(0,h.jsxs)("p",{children:[" ",k("index")," ",null===s||void 0===s?void 0:s.staffROLLNO]})]})]}),(0,h.jsx)("hr",{})]},s._id):(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:r.Z.assign_show_list_each,style:g===s._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:()=>E(s),children:[x?null!==j&&void 0!==j&&j.includes(null===s||void 0===s?void 0:s._id)?(0,h.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/checkbox-icon.svg",alt:"icon"}):(0,h.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/box-icon.svg",alt:"icon"}):"",(0,h.jsx)("img",{src:null!==s&&void 0!==s&&s.staffProfilePhoto?"".concat(c.yI,"/").concat(s.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,h.jsxs)("div",{className:r.Z.assign_each_paragraph,children:[(0,h.jsx)("h6",{children:"".concat(s.staffFirstName," ").concat(null!==s&&void 0!==s&&s.staffMiddleName?null===s||void 0===s?void 0:s.staffMiddleName:""," ").concat(s.staffLastName)}),(0,h.jsxs)("p",{children:[" ",k("index")," ",null===s||void 0===s?void 0:s.staffROLLNO]})]})]}),(0,h.jsx)("hr",{})]},s._id)))})]})})}},12923:(s,e,i)=>{i.d(e,{Ec:()=>x,Em:()=>N,JM:()=>f,NS:()=>n,Pg:()=>v,Q_:()=>p,RH:()=>h,Tv:()=>c,U_:()=>m,VN:()=>l,Wj:()=>d,ZS:()=>u,_8:()=>j,d5:()=>r,tB:()=>g,vI:()=>S,yx:()=>o,zO:()=>_});var a=i(91007),t=i(58208);const n=s=>{const{data:e,refetch:i}=(0,t.YD)(s.search,{skip:s.skip});return{instituteAllSearch:e,instituteAllSearchRefetch:i}},l=()=>{const[s]=(0,t.ak)();return[s]},o=()=>{const[s]=(0,t.WL)();return[s]},c=s=>{const{data:e,refetch:i}=(0,t.pH)(s.list,{skip:s.skip});return{instituteFollowList:e,instituteFollowListRefetch:i}},r=s=>{const{data:e,refetch:i}=(0,t.MG)(s.data,{skip:s.skip});return{instituteOwnFollowingList:e,instituteOwnFollowingListRefetch:i}},d=()=>{const[s]=(0,t.Ky)();return[s]},u=s=>{const{data:e,refetch:i}=(0,t.p8)(s.list);return{userFollowList:e,userFollowListRefetch:i}},h=s=>{const{data:e,refetch:i}=(0,t.Wv)(s);return{userFollowingList:e,userFollowingListRefetch:i}},f=s=>{const{data:e,refetch:i}=(0,t.sz)(s.search,{skip:s.skip});return{userAllSearch:e,userAllSearchRefetch:i}},v=()=>{const[s]=(0,t.Mk)();return[s]},_=()=>{const[s]=(0,t.$i)();return[s]},g=()=>{const[s]=(0,t.Do)();return[s]},m=()=>{const[s]=(0,t.He)();return[s]},p=()=>{const[s]=(0,t.vg)();return[s]},x=()=>{const[s]=(0,t.OO)();return[s]},j=s=>{const{data:e,refetch:i}=(0,t.N2)(s);return{userCircleList:e,userCircleListRefetch:i}},S=s=>{const{data:e,refetch:i}=(0,a.x6)(s.search,{skip:s.skip});return{assignSearchStaff:e,assignSearchStaffRefetch:i}},N=s=>{const{data:e,refetch:i}=(0,t.SJ)(s);return{universalUser:e,universalUserRefetch:i}}},3073:(s,e,i)=>{i.r(e),i.d(e,{default:()=>g});var a=i(39230),t=i(98684),n=i(90904),l=i(93638),o=i(38857),c=i(21348),r=i(16925),d=i(55336),u=i(72791),h=i(1095),f=i(46876),v=i(6758),_=i(80184);const g=s=>{var e,i,g,m;let{onClose:p,financeHead:x}=s;const{t:j}=(0,a.$G)(),[S,N]=(0,u.useState)(""),[k,b]=(0,u.useState)(!1),[w,M]=(0,u.useState)(!1),[C]=(0,v.Me)();(0,u.useEffect)((()=>{N(x)}),[x]);return(0,_.jsx)(_.Fragment,{children:k?(0,_.jsx)(f.default,{assignHead:k,headSelect:s=>{N(s)},title:j("secect_finance_head"),onClose:()=>b((s=>!s)),disabledId:null===S||void 0===S?void 0:S._id}):(0,_.jsx)(o.Z,{onClose:p,children:(0,_.jsxs)("div",{className:r.Z.modal_container,children:[(0,_.jsx)(c.default,{children:(0,_.jsxs)("div",{className:r.Z.modal_container_outer_header,children:[(0,_.jsx)("div",{className:r.Z.modal_container_header,children:(0,_.jsx)("h6",{children:j("update_finance_manager_head")})}),(0,_.jsx)("img",{src:"".concat(t.J7,"/close.svg"),alt:"close icon",onClick:p})]})}),(0,_.jsx)(n.Z,{}),(0,_.jsxs)(c.default,{customStyle:{paddingTop:"0"},children:[(0,_.jsxs)("div",{className:r.Z.card_container_image,onClick:()=>b(!0),style:{cursor:"pointer"},children:[(0,_.jsx)("img",{alt:"not found",src:null!==S&&void 0!==S&&S.staffProfilePhoto?"".concat(h.yI,"/").concat(S.staffProfilePhoto):"".concat(t.p3,"/feed-user-avatar.svg")}),(0,_.jsxs)("div",{className:r.Z.card_container_inner,children:[(0,_.jsx)("h6",{className:r.Z.namee,children:"".concat(null!==(e=null===S||void 0===S?void 0:S.staffFirstName)&&void 0!==e?e:""," \n                    ").concat(null!==(i=null===S||void 0===S?void 0:S.staffMiddleName)&&void 0!==i?i:"","\n                    ").concat(null!==(g=null===S||void 0===S?void 0:S.staffLastName)&&void 0!==g?g:""," ")}),(0,_.jsxs)("p",{className:r.Z.desig,children:[j("index_number_1")," ",null!==(m=null===S||void 0===S?void 0:S.staffROLLNO)&&void 0!==m?m:""]})]})]}),(0,_.jsx)(l.Z,{label:"update",onAction:()=>{null!==x&&void 0!==x&&x._id&&null!==S&&void 0!==S&&S._id&&(M(!0),C({osid:null===x||void 0===x?void 0:x._id,nsid:null===S||void 0===S?void 0:S._id}).then((()=>{M(!1),p()})))}})]}),w&&(0,_.jsx)(d.default,{})]})})})}},52124:(s,e,i)=>{i.d(e,{Z:()=>a});const a={assign_title:"AssignStaffModal_assign_title__4DGBV",assign_search_container:"AssignStaffModal_assign_search_container__3x6RD",assign_search_input:"AssignStaffModal_assign_search_input__rO3c7",assign_show_list:"AssignStaffModal_assign_show_list__yHhf7",assign_show_list_each:"AssignStaffModal_assign_show_list_each__ACUEw",assign_each_paragraph:"AssignStaffModal_assign_each_paragraph__pMHTq",universal_modal:"AssignStaffModal_universal_modal__czmpB",is_mulitselect_container:"AssignStaffModal_is_mulitselect_container__0cPQ2"}}}]);
//# sourceMappingURL=3073.5b3acd1a.chunk.js.map