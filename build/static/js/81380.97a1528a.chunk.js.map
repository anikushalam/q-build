{"version":3,"file":"static/js/81380.97a1528a.chunk.js","mappings":"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","sources":["webpack://mithkal-qviple/./src/StaffTab/StudentTab/MainContent/Complaints/ComplaintDetails/ComplaintDetails.module.css?a3f3","StaffTab/StudentTab/MainContent/Complaints/ComplaintDetails/ComplaintDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"complaintDetails\":\"ComplaintDetails_complaintDetails__-jmT4\",\"detailsheader\":\"ComplaintDetails_detailsheader__Fvgt7\",\"item\":\"ComplaintDetails_item__9JP9U\",\"datetime\":\"ComplaintDetails_datetime__GvDX5\",\"detailsbody\":\"ComplaintDetails_detailsbody__otbA6\",\"footer\":\"ComplaintDetails_footer__h1d-Y\",\"solvedbtn\":\"ComplaintDetails_solvedbtn__kEvgC\"};","import React from \"react\";\nimport style from \"./ComplaintDetails.module.css\";\nimport {\n  useStudentComplaintAction,\n  useStudentComplaintDetail,\n} from \"../../../../../hooks/institute/institute-staff-student-api\";\nimport { useTranslation } from \"react-i18next\";\nimport moment from \"moment\";\nimport { useState } from \"react\";\nimport QLoader from \"../../../../../Loader/QLoader\";\n\nfunction ComplaintDetails({ setShowDetails, complaintId, setRefetchStatus }) {\n  const { t } = useTranslation();\n  const [disabled, setDisabled] = useState(false);\n  const [solvedByInstitute] = useStudentComplaintAction();\n  const { studentComplaintDetail, studentComplaintDetailRefetch } =\n    useStudentComplaintDetail({\n      cid: complaintId,\n      skip: !complaintId,\n    });\n  React.useEffect(() => {\n    if (complaintId) studentComplaintDetailRefetch();\n  }, [complaintId, studentComplaintDetailRefetch]);\n  const solvedHandler = () => {\n    setDisabled((pre) => !pre);\n\n    solvedByInstitute({\n      cid: complaintId,\n      status: {\n        status: \"Solved\",\n      },\n    })\n      .then(() => {\n        studentComplaintDetailRefetch();\n        setShowDetails(false);\n        setRefetchStatus({\n          solved: true,\n          unsolved: true,\n        });\n        setDisabled((pre) => !pre);\n      })\n      .catch({});\n  };\n  return (\n    <div className={style.complaintDetails}>\n      <div className={style.detailsheader}>\n        <div className={style.item}>\n          <img src=\"/images/complainIconDark.svg\" alt=\"\" />\n          <div>\n            <h6>{`${\n              studentComplaintDetail?.complaint?.student?.studentFirstName\n            } ${\n              studentComplaintDetail?.complaint?.student?.studentMiddleName\n                ? studentComplaintDetail?.complaint?.student?.studentMiddleName\n                : \"\"\n            } ${\n              studentComplaintDetail?.complaint?.student.studentLastName\n            }`}</h6>\n\n            <div className={style.datetime}>\n              <p>\n                {moment(studentComplaintDetail?.complaint?.createdAt).format(\n                  \"LL\"\n                )}\n              </p>\n              <p>\n                {moment(studentComplaintDetail?.complaint?.createdAt).format(\n                  \"LT\"\n                )}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className={style.detailsbody}>\n        <p>{studentComplaintDetail?.complaint?.complaintContent}</p>\n      </div>\n      <div className={style.footer}>\n        {studentComplaintDetail?.complaint?.complaintInsStatus === \"Solved\" ? (\n          <div className={style.solvedbtn}>\n            {t(\"problem\")}{\" \"}\n            {studentComplaintDetail?.complaint?.complaintInsStatus}\n          </div>\n        ) : (\n          <div className={style.solvedbtn} onClick={solvedHandler}>\n            {t(\"problem\")}{\" \"}\n            {studentComplaintDetail?.complaint?.complaintInsStatus}\n          </div>\n        )}\n      </div>\n      {disabled && <QLoader />}\n    </div>\n  );\n}\n\nexport default ComplaintDetails;\n"],"names":["_ref","_studentComplaintDeta","_studentComplaintDeta2","_studentComplaintDeta3","_studentComplaintDeta4","_studentComplaintDeta5","_studentComplaintDeta6","_studentComplaintDeta7","_studentComplaintDeta8","_studentComplaintDeta9","_studentComplaintDeta10","_studentComplaintDeta11","_studentComplaintDeta12","_studentComplaintDeta13","setShowDetails","complaintId","setRefetchStatus","t","useTranslation","disabled","setDisabled","useState","solvedByInstitute","useStudentComplaintAction","studentComplaintDetail","studentComplaintDetailRefetch","useStudentComplaintDetail","cid","skip","React","_jsxs","className","style","children","_jsx","src","alt","concat","complaint","student","studentFirstName","studentMiddleName","studentLastName","moment","createdAt","format","complaintContent","complaintInsStatus","onClick","solvedHandler","pre","status","then","solved","unsolved","catch","QLoader"],"sourceRoot":""}