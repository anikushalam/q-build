"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[312,6876],{57431:function(e,i,t){var n=t(1413),a=(t(72791),t(80272)),s=t(80184);i.Z=function(e){var i,t=e.valueLength,r=e.maxLength,l=e.customStyle;return(0,s.jsxs)("section",{style:(0,n.Z)({},l),className:a.Z.string_container,children:[null!==(i=null===t||void 0===t?void 0:t.length)&&void 0!==i?i:0,"/",r]})}},20312:function(e,i,t){t.r(i),t.d(i,{default:function(){return S}});var n=t(1413),a=t(29439),s=t(72791),r="CreateDepartment_DModal__3QHry",l="CreateDepartment_title__K2VUT",d="CreateDepartment_input__F08Y4",o="CreateDepartment_mid__pRfdT",c="CreateDepartment_text__qomYt",u="CreateDepartment_btn__bzFPY",f="CreateDepartment_notFound__ac5c5",v=t(5574),h=t(39230),_=(t(7135),t(69721)),g=t(33992),m=t(49384),p=t(78687),x=t(48673),N=t(46876),j=t(57431),Z=t(80184);var S=function(e){var i,t=e.departmentModal,S=e.hideModal,C=e.edit,k=e.setEdit,L=e.editDepartment,M=e.onReftech,w=(0,p.useSelector)((function(e){return e.idChange.id})),D=(0,s.useState)(!1),A=(0,a.Z)(D,2),T=A[0],b=A[1],y=(0,s.useState)(C&&(null===L||void 0===L?void 0:L.dHead)),F=(0,a.Z)(y,2),R=F[0],I=F[1],O=(0,s.useState)(!1),H=(0,a.Z)(O,2),P=H[0],E=H[1],q=(0,s.useState)(!0),G=(0,a.Z)(q,2),U=G[0],Y=G[1],z=(0,h.$G)().t,J=(0,s.useState)({dName:C&&(null===L||void 0===L?void 0:L.dName)||"",dTitle:C&&(null===L||void 0===L?void 0:L.dTitle)||"",sid:C&&(null===L||void 0===L||null===(i=L.dHead)||void 0===i?void 0:i._id)||"",gr_initials:C&&(null===L||void 0===L?void 0:L.gr_initials)||""}),Q=(0,a.Z)(J,2),B=Q[0],K=Q[1],V=(0,g.SM)({id:w,skip:!w}).allDepartmentRefetch,W=(0,g.Gg)(),$=(0,a.Z)(W,1)[0],X=(0,g.nr)(),ee=(0,a.Z)(X,1)[0],ie=(0,p.useDispatch)();return(0,s.useEffect)((function(){var e;C&&L&&(K({dName:(null===L||void 0===L?void 0:L.dName)||"",dTitle:(null===L||void 0===L?void 0:L.dTitle)||"",sid:(null===L||void 0===L||null===(e=L.dHead)||void 0===e?void 0:e._id)||"",gr_initials:(null===L||void 0===L?void 0:L.gr_initials)||""}),I(null===L||void 0===L?void 0:L.dHead))}),[C,L]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(v.Z,{open:t,children:(0,Z.jsxs)("div",{className:r,children:[(0,Z.jsxs)("div",{className:l,children:[C?(0,Z.jsx)("h5",{children:z("edit_department")}):(0,Z.jsx)("h5",{children:z("add_new_dept")}),(0,Z.jsx)("img",{src:"/images/close-post-icon.svg",onClick:function(){S(!1),k(!1),K({dName:"",dTitle:"",sid:"",gr_initials:""}),I("")},alt:""})]}),(0,Z.jsx)("div",{hidden:U,className:f,children:z("fill_all_the_details")}),(0,Z.jsxs)("div",{className:d,children:[(0,Z.jsx)("h6",{children:z("department_name")}),(0,Z.jsx)("input",{type:"text",value:B.dName,onChange:function(e){var i;(null===(i=e.target.value)||void 0===i?void 0:i.length)<=45&&(K((0,n.Z)((0,n.Z)({},B),{},{dName:e.target.value})),Y(!0))},required:!0,placeholder:z("dept_example")}),(0,Z.jsx)(j.Z,{maxLength:45,valueLength:B.dName})]}),(0,Z.jsxs)("div",{className:o,onClick:function(){return b(!0)},children:[(0,Z.jsx)("img",{src:null!==R&&void 0!==R&&R.staffProfilePhoto?"".concat(_.yI,"/").concat(R.staffProfilePhoto):"/images/avatar-icon.png",alt:""}),(0,Z.jsxs)("div",{className:c,children:[(0,Z.jsx)("h6",{children:R?"".concat(null===R||void 0===R?void 0:R.staffFirstName," ").concat(R.staffMiddleName?R.staffMiddleName:""," ").concat(null===R||void 0===R?void 0:R.staffLastName):"".concat(z("assign_dhead")," ").concat(z("optional"))}),(0,Z.jsx)("p",{children:z("search_from_joined_list")})]})]}),(0,Z.jsxs)("div",{className:d,children:[(0,Z.jsx)("h6",{children:z("give_dhead_title")}),(0,Z.jsx)("input",{type:"text",value:B.dTitle,onChange:function(e){var i;(null===(i=e.target.value)||void 0===i?void 0:i.length)<=40&&(K((0,n.Z)((0,n.Z)({},B),{},{dTitle:e.target.value})),Y(!0))},placeholder:z("dhead_example"),required:!0}),(0,Z.jsx)(j.Z,{maxLength:40,valueLength:B.dTitle})]}),(0,Z.jsxs)("div",{className:d,children:[(0,Z.jsx)("h6",{children:z("department_initials")}),(0,Z.jsx)("input",{type:"text",value:B.gr_initials,onChange:function(e){var i;(null===(i=e.target.value)||void 0===i?void 0:i.length)<=10&&(K((0,n.Z)((0,n.Z)({},B),{},{gr_initials:e.target.value})),Y(!0))},placeholder:z("department_initials_placeholder"),required:!0}),(0,Z.jsx)(j.Z,{maxLength:10,valueLength:B.gr_initials})]}),(0,Z.jsxs)("button",{className:u,onClick:function(){if(B.dName&&B.dTitle)if(E(!0),C){var e,i={dName:(null===L||void 0===L?void 0:L.dName)===B.dName?"":B.dName,dTitle:(null===L||void 0===L?void 0:L.dTitle)===B.dTitle?"":B.dTitle,sid:(null===L||void 0===L||null===(e=L.dHead)||void 0===e?void 0:e._id)===B.sid?"":B.sid,gr_initials:(null===L||void 0===L?void 0:L.gr_initials)===B.gr_initials?"":B.gr_initials};ee({department:i,did:null===L||void 0===L?void 0:L._id}).then((function(e){e&&(ie(x.S.editOneDepartment({did:null===L||void 0===L?void 0:L._id,dName:B.dName,dTitle:B.dTitle,dHead:R})),M(),S(!1),E(!1),K({dName:"",dTitle:"",sid:"",gr_initials:""}),I(""))})).catch({})}else $({departmentCreate:B,id:w}).then((function(e){e&&(S(!1),V(),E(!1),K({dName:"",dTitle:"",sid:"",gr_initials:""}),I(""))})).catch({});else Y(!1)},disabled:P,children:[C?(0,Z.jsx)("p",{children:z("update")}):(0,Z.jsx)("p",{children:z("create")}),P&&(0,Z.jsx)("div",{children:(0,Z.jsx)(m.Z,{})})]})]})}),T&&(0,Z.jsx)(N.default,{assignHead:T,headSelect:function(e){I(e),K((0,n.Z)((0,n.Z)({},B),{},{sid:e._id})),Y(!0)},title:z("assign-d-head"),onClose:function(){return b((function(e){return!e}))}})]})}},46876:function(e,i,t){t.r(i);var n=t(93433),a=t(29439),s=t(72791),r=t(23441),l=t(78687),d=t(12923),o=t(763),c=t(69721),u=t(52124),f=t(5574),v=t(39230),h=t(80184);i.default=function(e){var i=e.onClose,t=e.title,_=e.headSelect,g=e.assignHead,m=e.disabledId,p=e.instituteId,x=e.viewAs,N=(0,v.$G)().t,j=(0,s.useState)(1),Z=(0,a.Z)(j,2),S=Z[0],C=Z[1],k=(0,s.useState)(!0),L=(0,a.Z)(k,2),M=L[0],w=L[1],D=(0,r.YD)(),A=(0,a.Z)(D,2),T=A[0],b=A[1],y=(0,s.useState)(""),F=(0,a.Z)(y,2),R=F[0],I=F[1],O=s.useState([]),H=(0,a.Z)(O,2),P=H[0],E=H[1],q=(0,l.useSelector)((function(e){return e.idChange})),G=(0,d.vI)({skip:"ADMISSION_ADMIN"===x?!p:!(null!==q&&void 0!==q&&q.id),search:{search:R,page:S,id:"ADMISSION_ADMIN"===x?p:null===q||void 0===q?void 0:q.id,limit:10}}),U=G.assignSearchStaff,Y=G.assignSearchStaffRefetch;s.useEffect((function(){null!==q&&void 0!==q&&q.id&&Y()}),[null===q||void 0===q?void 0:q.id,Y,S]),(0,s.useEffect)((function(){b&&M&&C((function(e){return e+1}))}),[b,M]),s.useEffect((function(){null!==U&&void 0!==U&&U.staff&&E(R?null===U||void 0===U?void 0:U.staff:function(e){var i,t;return null===(i=(0,n.Z)(new Set(null===(t=[].concat((0,n.Z)(e),(0,n.Z)(null===U||void 0===U?void 0:U.staff)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===i?void 0:i.map(JSON.parse)}),10===(null===U||void 0===U?void 0:U.staff.length)?w(!0):w(!1)}),[null===U||void 0===U?void 0:U.staff]),(0,s.useEffect)((function(){R&&z()}),[R]);var z=function(){Y()},J=(0,s.useCallback)((0,o.debounce)((function(e){return I(e)}),500),[]),Q=function(e){m===(null===e||void 0===e?void 0:e._id)||(_(e),"ADMISSION_ADMIN"===x||i())};return(0,h.jsx)(f.Z,{open:g,onClose:i,children:(0,h.jsxs)("div",{style:{backgroundColor:"#FAFAFA"},children:[(0,h.jsxs)("div",{className:u.Z.assign_title,children:[(0,h.jsx)("h5",{children:t}),(0,h.jsx)("img",{src:"/images/close-post-icon.svg",onClick:i,alt:"staff assign pop close icon"})]}),(0,h.jsxs)("div",{className:u.Z.assign_search_container,children:[(0,h.jsx)("input",{type:"text",placeholder:N("search"),className:u.Z.assign_search_input,onChange:function(e){return i=e.target.value,void J(i);var i}}),(0,h.jsx)("img",{src:"/images/search-dash-icon.svg",alt:"search icon"})]}),(0,h.jsx)("div",{className:u.Z.assign_show_list,children:null===P||void 0===P?void 0:P.map((function(e,i){return(null===P||void 0===P?void 0:P.length)===i+1?(0,h.jsxs)("div",{ref:T,children:[(0,h.jsxs)("div",{className:u.Z.assign_show_list_each,style:m===e._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:function(){return Q(e)},children:[(0,h.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(c.yI,"/").concat(e.staffProfilePhoto):"/images/demo_users/user1.svg",alt:"staff profile avatar"}),(0,h.jsxs)("div",{className:u.Z.assign_each_paragraph,children:[(0,h.jsx)("h6",{children:"".concat(e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(e.staffLastName)}),(0,h.jsxs)("p",{children:[" ",N("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]})]}),(0,h.jsx)("hr",{})]},e._id):(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:u.Z.assign_show_list_each,style:m===e._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:function(){return Q(e)},children:[(0,h.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(c.yI,"/").concat(e.staffProfilePhoto):"/images/demo_users/user1.svg",alt:"staff profile avatar"}),(0,h.jsxs)("div",{className:u.Z.assign_each_paragraph,children:[(0,h.jsx)("h6",{children:"".concat(e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(e.staffLastName)}),(0,h.jsxs)("p",{children:[" ",N("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]})]}),(0,h.jsx)("hr",{})]},e._id)}))})]})})}},49384:function(e,i,t){t.d(i,{Z:function(){return s}});t(72791);var n=t(6307),a=t(80184),s=function(){return(0,a.jsx)(n.iT,{ariaLabel:"loading-indicator",height:20,width:20,color:"white",secondaryColor:"#1c023b"})}},12923:function(e,i,t){t.d(i,{Ec:function(){return N},Em:function(){return S},JM:function(){return h},NS:function(){return r},Pg:function(){return _},Q_:function(){return x},RH:function(){return v},Tv:function(){return o},U_:function(){return p},VN:function(){return l},Wj:function(){return u},ZS:function(){return f},_8:function(){return j},d5:function(){return c},tB:function(){return m},vI:function(){return Z},yx:function(){return d},zO:function(){return g}});var n=t(29439),a=t(91007),s=t(58208),r=function(e){var i=(0,s.YD)(e.search,{skip:e.skip});return{instituteAllSearch:i.data,instituteAllSearchRefetch:i.refetch}},l=function(){var e=(0,s.ak)();return[(0,n.Z)(e,1)[0]]},d=function(){var e=(0,s.WL)();return[(0,n.Z)(e,1)[0]]},o=function(e){var i=(0,s.pH)(e.list,{skip:e.skip});return{instituteFollowList:i.data,instituteFollowListRefetch:i.refetch}},c=function(e){var i=(0,s.MG)(e.data,{skip:e.skip});return{instituteOwnFollowingList:i.data,instituteOwnFollowingListRefetch:i.refetch}},u=function(){var e=(0,s.Ky)();return[(0,n.Z)(e,1)[0]]},f=function(e){var i=(0,s.p8)(e.list);return{userFollowList:i.data,userFollowListRefetch:i.refetch}},v=function(e){var i=(0,s.Wv)(e);return{userFollowingList:i.data,userFollowingListRefetch:i.refetch}},h=function(e){var i=(0,s.sz)(e.search,{skip:e.skip});return{userAllSearch:i.data,userAllSearchRefetch:i.refetch}},_=function(){var e=(0,s.Mk)();return[(0,n.Z)(e,1)[0]]},g=function(){var e=(0,s.$i)();return[(0,n.Z)(e,1)[0]]},m=function(){var e=(0,s.Do)();return[(0,n.Z)(e,1)[0]]},p=function(){var e=(0,s.He)();return[(0,n.Z)(e,1)[0]]},x=function(){var e=(0,s.vg)();return[(0,n.Z)(e,1)[0]]},N=function(){var e=(0,s.OO)();return[(0,n.Z)(e,1)[0]]},j=function(e){var i=(0,s.N2)(e);return{userCircleList:i.data,userCircleListRefetch:i.refetch}},Z=function(e){var i=(0,a.x6)(e.search,{skip:e.skip});return{assignSearchStaff:i.data,assignSearchStaffRefetch:i.refetch}},S=function(e){var i=(0,s.SJ)(e);return{universalUser:i.data,universalUserRefetch:i.refetch}}},7135:function(){},80272:function(e,i){i.Z={string_container:"StringLength_string_container__v6b--",mark_container:"StringLength_mark_container__KQsQy"}},52124:function(e,i){i.Z={assign_title:"AssignStaffModal_assign_title__4DGBV",assign_search_container:"AssignStaffModal_assign_search_container__3x6RD",assign_search_input:"AssignStaffModal_assign_search_input__rO3c7",assign_show_list:"AssignStaffModal_assign_show_list__yHhf7",assign_show_list_each:"AssignStaffModal_assign_show_list_each__ACUEw",assign_each_paragraph:"AssignStaffModal_assign_each_paragraph__pMHTq",universal_modal:"AssignStaffModal_universal_modal__czmpB"}}}]);
//# sourceMappingURL=312.eedb6cdc.chunk.js.map