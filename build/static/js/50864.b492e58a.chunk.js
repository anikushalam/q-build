"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[50864],{11105:(t,e,i)=>{i.d(e,{Z:()=>a});i(72791);var n=i(11575),o=i(80184);const a=t=>{let{status:e}=t;return(0,o.jsx)("div",{className:n.Z.loaderGif,children:(0,o.jsx)("img",{src:"white"===e?"/images/loader/loader-bg-white.gif":"/images/loader/loader.gif",alt:"for load an items"})})}},50864:(t,e,i)=>{i.r(e),i.d(e,{default:()=>N});var n=i(72791);const o="GrQuery_grquery_container__OxXAR",a="GrQuery_with_search__GL3dh",r="GrQuery_query_card__mD8nJ",c="GrQuery_query_card_head__1Zhr8",l="GrQuery_query_card_text__xOfj5",s="GrQuery_query_card_content__SpWhF",_="GrQuery_button_container__dlxWH",f="GrQuery_reject_btn__tiUEx",d="GrQuery_approve_btn__GMn3H",u="GrQuery_query_date__bWPkc";var h=i(39230),v=i(23441),y=i(80605),p=i(95048),m=i(11105),g=i(98094),S=i(69721),b=i(72426),q=i.n(b),x=i(98734),A=i(80184);const P=t=>{var e,i,o,a,v,p,m,g,b,P;let{query:N,onRefetch:k}=t;const{t:j}=(0,h.$G)(),[M,R]=(0,n.useState)(!1),[w]=(0,y.iA)(),G=t=>{null!==N&&void 0!==N&&N._id&&t&&(R((t=>!t)),w({qid:null===N||void 0===N?void 0:N._id,status:"".concat(t)}).then((()=>{k(),R((t=>!t))})).catch({}))};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{className:r,children:[(0,A.jsxs)("div",{className:c,children:[(0,A.jsx)("img",{src:null!==N&&void 0!==N&&null!==(e=N.query_by_student)&&void 0!==e&&e.studentProfilePhoto?"".concat(S.yI,"/").concat(null===N||void 0===N||null===(i=N.query_by_student)||void 0===i?void 0:i.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""}),(0,A.jsxs)("div",{className:l,children:[(0,A.jsx)("h6",{children:"".concat(null!==(o=null===N||void 0===N||null===(a=N.query_by_student)||void 0===a?void 0:a.studentFirstName)&&void 0!==o?o:""," ").concat(null!==(v=null===N||void 0===N||null===(p=N.query_by_student)||void 0===p?void 0:p.studentMiddleName)&&void 0!==v?v:""," ").concat(null!==(m=null===N||void 0===N||null===(g=N.query_by_student)||void 0===g?void 0:g.studentLastName)&&void 0!==m?m:"")}),(0,A.jsxs)("h6",{children:[(0,A.jsx)("span",{style:{fontWeight:"400"},children:j("gr_number")})," ",null!==(b=null===N||void 0===N?void 0:N.query_gr)&&void 0!==b?b:""]})]})]}),(0,A.jsx)("p",{className:s,children:null!==(P=null===N||void 0===N?void 0:N.query_content)&&void 0!==P?P:""}),"Pending"===(null===N||void 0===N?void 0:N.query_status)?(0,A.jsxs)("div",{className:_,children:[(0,A.jsx)("button",{className:f,onClick:()=>G("Rejected"),children:j("reject")}),(0,A.jsx)("button",{className:d,onClick:()=>G("Approved"),children:j("approve")})]}):null,(0,A.jsxs)("div",{className:u,children:[(0,A.jsx)("p",{children:q()(null===N||void 0===N?void 0:N.created_at).format("DD MMMM, yyyy")}),(0,A.jsx)("p",{children:q()(null===N||void 0===N?void 0:N.created_at).format("LT")})]})]}),M&&(0,A.jsx)(x.Z,{})]})},N=()=>{const{t:t}=(0,h.$G)(),e=(0,p.v9)((t=>t.idChange.id)),[i,r]=(0,v.YD)(),[c,l]=(0,n.useState)(1),[s,_]=(0,n.useState)(!0),[f,d]=(0,n.useState)(!0),[u,S]=(0,n.useState)([]),[b,q]=(0,n.useState)(!1),{instituteAllGRNotification:x,instituteAllGRNotificationRefetch:N}=(0,y.id)({data:{id:e,page:c,limit:10},skip:!e});(0,n.useEffect)((()=>{e&&(d(!0),N())}),[e,c,N]),(0,n.useEffect)((()=>{r&&s&&l((t=>t+1))}),[r,s]),(0,n.useEffect)((()=>{var t,e;b?(S(null===x||void 0===x?void 0:x.all_query),d(!1),q(!1)):null!==x&&void 0!==x&&x.all_query?(S((t=>{var e,i;return null===(e=[...new Set(null===(i=[...t,...null===x||void 0===x?void 0:x.all_query])||void 0===i?void 0:i.map(JSON.stringify))])||void 0===e?void 0:e.map(JSON.parse)})),d(!1)):0===(null===x||void 0===x||null===(e=x.all_query)||void 0===e?void 0:e.length)&&d(!1);10===(null===x||void 0===x||null===(t=x.all_query)||void 0===t?void 0:t.length)?_(!0):_(!1)}),[null===x||void 0===x?void 0:x.all_query]);const k=()=>{l(1),q(!0),d(!0),N()};return(0,A.jsxs)("div",{className:o,children:[(0,A.jsx)("div",{className:a,children:(0,A.jsx)("h6",{children:t("gr_internal_query")})}),(0,A.jsx)(g.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),null===u||void 0===u?void 0:u.map(((t,e)=>(null===u||void 0===u?void 0:u.length)===e+1?(0,A.jsx)("div",{ref:i,children:(0,A.jsx)(P,{query:t,onRefetch:k})},null===t||void 0===t?void 0:t._id):(0,A.jsx)(P,{query:t,onRefetch:k},null===t||void 0===t?void 0:t._id))),f&&(0,A.jsx)(m.Z,{status:"white"})]})}},98094:(t,e,i)=>{i.d(e,{Z:()=>a});i(72791);var n=i(55136),o=i(80184);const a=t=>{let{customStyle:e}=t;return(0,o.jsx)("hr",{className:n.Z.universal_hr,style:{...e}})}},80605:(t,e,i)=>{i.d(e,{Cr:()=>I,a3:()=>O,EC:()=>E,EG:()=>V,_p:()=>W,Wj:()=>Q,vW:()=>K,id:()=>Z,nF:()=>G,iA:()=>D,mS:()=>C});var n=i(69721);const o="/api/v1",a="/api/v1/user",r="/api/v1/election/event",c=t=>t.query({query:t=>"".concat(o,"/ins/dashboard/").concat(t.id,"/notify?page=").concat(t.page,"&limit=").concat(t.limit)}),l=t=>t.query({query:t=>"".concat(o,"/user/dashboard/").concat(t.id,"/notify?page=").concat(t.page,"&limit=").concat(t.limit)}),s=t=>t.query({query:t=>{var e;return"".concat(a,"/").concat(t.id,"/activity?page=").concat(t.page,"&limit=").concat(t.limit,"&category=").concat(null!==(e=null===t||void 0===t?void 0:t.category)&&void 0!==e?e:"")}}),_=t=>t.query({query:t=>"".concat(a,"/").concat(t,"/activity/total/notify")}),f=(t,e)=>t.mutation({query:t=>({url:"".concat(a,"/").concat(t.id,"/mark/viewed?type=").concat(t.type),method:e})}),d=(t,e)=>t.mutation({query:t=>({url:"".concat(a,"/read/notify/user/").concat(t),method:e})}),u=(t,e)=>t.mutation({query:t=>({url:"".concat(r,"/").concat(t.eid,"/apply/").concat(t.sid),method:"".concat(e),body:t.appliedElection})}),h=(t,e)=>t.mutation({query:t=>({url:"".concat(r,"/").concat(t.eid,"/status/").concat(t.apid,"/candidate/").concat(t.sid,"/vote/").concat(t.aid),method:"".concat(e)})}),v=t=>t.query({query:t=>"".concat(r,"/").concat(t.did,"/one/institute?page=").concat(t.page,"&limit=").concat(t.limit,"&search=").concat(t.search)}),y=t=>t.query({query:t=>"".concat(o,"/extra/all/").concat(t.id,"/query?page=").concat(t.page,"&limit=").concat(t.limit)}),p=(t,e)=>t.mutation({query:t=>({url:"".concat(o,"/extra/status/").concat(t.qid,"/query?status=").concat(t.status),method:"".concat(e)})}),m=t=>t.query({query:t=>"".concat(o,"/user/").concat(t.uid,"/student/message?page=").concat(t.page,"&limit=").concat(t.limit)});const g=i(32015).v.injectEndpoints({endpoints:t=>({instituteAllNotification:c(t),userAllNotification:l(t),allActivity:s(t),activityNotifiationCount:_(t),activityMarkView:f(t,n.K7),activityMarkAsRead:d(t,n.K7),activityElectionApplied:u(t,n.lx),activityElectionVote:h(t,n.K7),activitySupportMember:v(t),instituteAllGRNotification:y(t),instituteGRNotificationAction:p(t,n.K7),getNotificationAllStudentMessage:m(t)})}),{useInstituteAllNotificationQuery:S,useUserAllNotificationQuery:b,useAllActivityQuery:q,useActivityNotifiationCountQuery:x,useActivityMarkViewMutation:A,useActivityMarkAsReadMutation:P,useActivityElectionAppliedMutation:N,useActivityElectionVoteMutation:k,useActivitySupportMemberQuery:j,useInstituteAllGRNotificationQuery:M,useInstituteGRNotificationActionMutation:R,useGetNotificationAllStudentMessageQuery:w}=g,G=t=>{const{data:e,refetch:i}=S(t.data,{skip:t.skip});return{instituteAllNotification:e,instituteAllNotificationRefetch:i}},C=t=>{const{data:e,refetch:i}=b(t.data,{skip:t.skip});return{userAllNotification:e,userAllNotificationRefetch:i}},Q=t=>{const{data:e,refetch:i}=q(t.data,{skip:t.skip});return{allActivityList:e,allActivityListRefetch:i}},V=t=>{const{data:e,refetch:i}=x(t.id,{skip:t.skip});return{activityNotifiationCount:e,activityNotifiationCountRefetch:i}},E=()=>{const[t]=A();return[t]},I=()=>{const[t]=N();return[t]},O=()=>{const[t]=k();return[t]},W=t=>{const{data:e,refetch:i}=j(t.data,{skip:t.skip});return{activitySupportMember:e,activitySupportMemberRefetch:i}},Z=t=>{const{data:e,refetch:i}=M(t.data,{skip:t.skip});return{instituteAllGRNotification:e,instituteAllGRNotificationRefetch:i}},D=()=>{const[t]=R();return[t]},K=t=>{const{data:e,refetch:i}=w(t.data,{skip:t.skip});return{getNotificationAllStudentMessage:e,getNotificationAllStudentMessageRefetch:i}}},55136:(t,e,i)=>{i.d(e,{Z:()=>n});const n={staff_profile_container:"StaffProfile_staff_profile_container__GG5AM",staff_header_container:"StaffProfile_staff_header_container__avRlK",staff_header_function:"StaffProfile_staff_header_function__l9cDM",staff_header_text:"StaffProfile_staff_header_text__XX8rQ",staff_header_prev:"StaffProfile_staff_header_prev__ImXKU",staff_header_next:"StaffProfile_staff_header_next__jjoJr",staff_header_close:"StaffProfile_staff_header_close__wXG-N",staff_profile_photo_name:"StaffProfile_staff_profile_photo_name__WWUV4",staff_profile_photo_index:"StaffProfile_staff_profile_photo_index__-yyx9",each_info_container:"StaffProfile_each_info_container__Mo3TB",each_field_text:"StaffProfile_each_field_text__vvAvg",each_field_text_value:"StaffProfile_each_field_text_value__k1OsE",universal_hr:"StaffProfile_universal_hr__w130J",staff_profile_photo_container:"StaffProfile_staff_profile_photo_container__rFPEV",staff_profile_photo_info:"StaffProfile_staff_profile_photo_info__CxVDi",staff_profile_photo_image:"StaffProfile_staff_profile_photo_image__5f2cC",staff_profile_photo_edit:"StaffProfile_staff_profile_photo_edit__y03dk",each_field_container:"StaffProfile_each_field_container__0qKjw",each_field:"StaffProfile_each_field__18G-9",student_attendane_container:"StaffProfile_student_attendane_container__64BII",student_attendance_heading:"StaffProfile_student_attendance_heading__0hW2K",colours:"StaffProfile_colours__-7mIV",monthColours:"StaffProfile_monthColours__A3asC",percentage:"StaffProfile_percentage__GO1RT",presentcount:"StaffProfile_presentcount__u30HH",absentcount:"StaffProfile_absentcount__d+utq",link_hold_container:"StaffProfile_link_hold_container__0dRjX",link_hold_container_hostel:"StaffProfile_link_hold_container_hostel__LcldT",card_hold_container:"StaffProfile_card_hold_container__HQQcE",admission_fees:"StaffProfile_admission_fees__MoZHM",certificate_btn_container:"StaffProfile_certificate_btn_container__jui9m",admission_actions:"StaffProfile_admission_actions__ayyJD",staff_designation_btn:"StaffProfile_staff_designation_btn__4C3h7",ospp_header:"StaffProfile_ospp_header__oteF5",ospph_img:"StaffProfile_ospph_img__gPivu",cbc_row:"StaffProfile_cbc_row__rm60T",certificate_btn:"StaffProfile_certificate_btn__3NWfg"}},23441:(t,e,i)=>{i.d(e,{YD:()=>d});var n=i(72791),o=Object.defineProperty,a=(t,e,i)=>(((t,e,i)=>{e in t?o(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i})(t,"symbol"!==typeof e?e+"":e,i),i),r=new Map,c=new WeakMap,l=0,s=void 0;function _(t){return Object.keys(t).sort().filter((e=>void 0!==t[e])).map((e=>{return"".concat(e,"_").concat("root"===e?(i=t.root)?(c.has(i)||(l+=1,c.set(i,l.toString())),c.get(i)):"0":t[e]);var i})).toString()}function f(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s;if("undefined"===typeof window.IntersectionObserver&&void 0!==n){const o=t.getBoundingClientRect();return e(n,{isIntersecting:n,target:t,intersectionRatio:"number"===typeof i.threshold?i.threshold:0,time:0,boundingClientRect:o,intersectionRect:o,rootBounds:o}),()=>{}}const{id:o,observer:a,elements:c}=function(t){let e=_(t),i=r.get(e);if(!i){const n=new Map;let o;const a=new IntersectionObserver((e=>{e.forEach((e=>{var i;const a=e.isIntersecting&&o.some((t=>e.intersectionRatio>=t));t.trackVisibility&&"undefined"===typeof e.isVisible&&(e.isVisible=a),null==(i=n.get(e.target))||i.forEach((t=>{t(a,e)}))}))}),t);o=a.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),i={id:e,observer:a,elements:n},r.set(e,i)}return i}(i);let l=c.get(t)||[];return c.has(t)||c.set(t,l),l.push(e),a.observe(t),function(){l.splice(l.indexOf(e),1),0===l.length&&(c.delete(t),a.unobserve(t)),0===c.size&&(a.disconnect(),r.delete(o))}}n.Component;function d(){let{threshold:t,delay:e,trackVisibility:i,rootMargin:o,root:a,triggerOnce:r,skip:c,initialInView:l,fallbackInView:s,onChange:_}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var d;const[u,h]=n.useState(null),v=n.useRef(),[y,p]=n.useState({inView:!!l,entry:void 0});v.current=_,n.useEffect((()=>{if(c||!u)return;let n;return n=f(u,((t,e)=>{p({inView:t,entry:e}),v.current&&v.current(t,e),e.isIntersecting&&r&&n&&(n(),n=void 0)}),{root:a,rootMargin:o,threshold:t,trackVisibility:i,delay:e},s),()=>{n&&n()}}),[Array.isArray(t)?t.toString():t,u,a,o,r,c,i,s,e]);const m=null==(d=y.entry)?void 0:d.target,g=n.useRef();u||!m||r||c||g.current===m||(g.current=m,p({inView:!!l,entry:void 0}));const S=[h,y.inView,y.entry];return S.ref=S[0],S.inView=S[1],S.entry=S[2],S}}}]);
//# sourceMappingURL=50864.b492e58a.chunk.js.map