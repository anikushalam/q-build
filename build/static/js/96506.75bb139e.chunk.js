"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[96506],{96506:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var c=a(1413),i=a(29439),n=a(72791),l=(a(7135),{DModal:"CreateBatch_DModal__2iMTy",title:"CreateBatch_title__LulDN",input:"CreateBatch_input__RdV9d",mid:"CreateBatch_mid__yU8C5",text:"CreateBatch_text__euMit",btn:"CreateBatch_btn__eYOMg",notFound:"CreateBatch_notFound__OncWH",item:"CreateBatch_item__wsJYa",select:"CreateBatch_select__Q0Pd6",tooltip:"CreateBatch_tooltip__96AjT",tooltip2:"CreateBatch_tooltip2__zIHQM",profileToolTip:"CreateBatch_profileToolTip__LWyun",triangle:"CreateBatch_triangle__L5VAj",triangleDisplay:"CreateBatch_triangleDisplay__cJ+Vf",profilelist:"CreateBatch_profilelist__b+Ejh",subject_tile_container:"CreateBatch_subject_tile_container__Ne1cL",subject_tile:"CreateBatch_subject_tile__8SHbA",subject_tile_active:"CreateBatch_subject_tile_active__3H4Uz"}),s=a(5574),r=a(39230),o=a(33992),h=a(49384),d=a(57431),u=a(80184);function _(e){var t=e.options,a=e.switchOption;return(0,u.jsxs)("div",{className:l.profileToolTip,children:[(0,u.jsx)("div",{className:l.triangle}),(0,u.jsx)("div",{className:l.profilelist,children:null===t||void 0===t?void 0:t.map((function(e,t){return(0,u.jsx)("div",{value:e,onClick:function(){return a(e)},children:e.batchName},t)}))})]})}var p=function(e){var t=e.departmentModal,a=e.hideModal,p=e.id,j=e.did,v=e.data,b=e.edit,m=e.setEdit,f=e.editBatch,x=e.onDepartmentRefetch,C=e.is_promote,N=(0,r.$G)().t,B=(0,n.useState)(N("batch-type-2")),g=(0,i.Z)(B,2),Z=g[0],y=g[1],k=(0,n.useRef)(""),w=(0,n.useState)(""),S=(0,i.Z)(w,2),M=S[0],T=S[1],L=(0,n.useState)({batch:!1,pastBatch:!1}),D=(0,i.Z)(L,2),Y=D[0],E=D[1],F=(N("batch-type-1"),N("batch-type-2"),(0,n.useState)(!0)),H=(0,i.Z)(F,2),O=H[0],R=H[1],V=(0,n.useState)("2020-21"),q=(0,i.Z)(V,2),A=q[0],P=q[1],Q=(0,n.useState)(""),U=(0,i.Z)(Q,2),z=U[0],I=U[1],J=(0,n.useState)("No"),W=(0,i.Z)(J,2),G=W[0],$=W[1],K=(0,n.useState)(!1),X=(0,i.Z)(K,2),ee=X[0],te=X[1],ae=(0,n.useState)(!0),ce=(0,i.Z)(ae,2),ie=ce[0],ne=ce[1],le=(0,n.useState)(v),se=(0,i.Z)(le,2),re=se[0],oe=se[1];(0,n.useEffect)((function(){v&&oe(v)}),[v]),(0,n.useEffect)((function(){b&&T(null===f||void 0===f?void 0:f.batchName)}),[b]);var he=function(e){y(e),R("Completely New Batch"!==e)},de=(0,o.Q6)(),ue=(0,i.Z)(de,1)[0],_e=(0,o.sR)(),pe=(0,i.Z)(_e,1)[0],je=(0,o.tf)(),ve=(0,i.Z)(je,1)[0],be=(0,o.i5)(),me=(0,i.Z)(be,1)[0];return(0,u.jsx)(s.Z,{open:t,children:(0,u.jsxs)("div",{className:l.DModal,children:[(0,u.jsxs)("div",{className:l.title,children:[b?(0,u.jsxs)("h5",{children:[" ",N("edit_batch")," "]}):(0,u.jsx)("h5",{children:N("create-n-batch-place")}),(0,u.jsx)("img",{src:"/images/close-post-icon.svg",onClick:function(){a(!1),k.current.value="",m(!1)},alt:""})]}),(0,u.jsx)("div",{hidden:ie,className:l.notFound,children:N(b?"fill_details_to_edit_batch":"fill_details_to_create_batch")}),!b&&(0,u.jsxs)("div",{className:l.item,children:[(0,u.jsx)("h6",{children:N("batch-type-place")}),(0,u.jsxs)("section",{className:l.subject_tile_container,children:[(0,u.jsx)("div",{className:"Preformed Structured Batch"===Z?l.subject_tile_active:l.subject_tile,onClick:function(){return he("Preformed Structured Batch")},children:N("batch-type-2")}),(0,u.jsx)("div",{className:"Completely New Batch"===Z?l.subject_tile_active:l.subject_tile,onClick:function(){return he("Completely New Batch")},children:N("batch-type-1")})]})]}),O&&!b&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:l.item,onClick:function(){return E((0,c.Z)((0,c.Z)({},Y),{},{pastBatch:!Y.pastBatch}))},children:[(0,u.jsx)("h6",{children:N("select-past-batch-place")}),(0,u.jsxs)("div",{className:l.select,children:[(0,u.jsx)("p",{children:A}),(0,u.jsx)("img",{src:"/images/select-icon.svg",alt:"select icon"})]}),Y.pastBatch&&(0,u.jsx)("div",{className:l.tooltip2,children:(0,u.jsx)(_,{options:re,switchOption:function(e){P(e.batchName),I(e._id)}})})]}),(0,u.jsxs)("div",{className:l.item,children:[(0,u.jsx)("h6",{children:N("without_designation")}),(0,u.jsxs)("section",{className:l.subject_tile_container,children:[(0,u.jsx)("div",{className:"Yes"===G?l.subject_tile_active:l.subject_tile,onClick:function(){return $("Yes")},children:"Yes"}),(0,u.jsx)("div",{className:"No"===G?l.subject_tile_active:l.subject_tile,onClick:function(){return $("No")},children:"No"})]})]})]}),(0,u.jsxs)("div",{className:l.input,children:[(0,u.jsx)("h6",{children:N("batch-name-place")}),(0,u.jsx)("input",{type:"text",placeholder:"e.g. 2022-23",required:!0,ref:k,maxLength:30,onChange:function(e){var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)<=30&&(T(e.target.value),ne(!0))},defaultValue:M}),(0,u.jsx)(d.Z,{maxLength:30,valueLength:M})]}),(0,u.jsxs)("button",{className:l.btn,onClick:function(){k.current.value?(te(!0),b?pe({batch:{batchName:k.current.value},bid:C||(null===f||void 0===f?void 0:f.bid)}).then((function(){a(!1),te(!1),m(!1),k.current.value="",x()})).catch({}):"Completely New Batch"===Z?ue({batch:{batchName:k.current.value},id:p,did:j}).then((function(e){var t;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.batch&&(a(!1),te(!1),k.current.value="",x())})).catch({}):ve({batch:{batchName:k.current.value,with_designation:G},bid:z}).then((function(e){e&&me({did:j,bid:e.data.batchId,batch:""}).then((function(){x(),a(!1),te(!1),k.current.value=""})).catch({})})).catch({})):ne(!1)},disabled:ee,children:[b?(0,u.jsx)("p",{children:"Update"}):(0,u.jsx)("p",{children:N("create")}),ee&&(0,u.jsx)("div",{children:(0,u.jsx)(h.Z,{})})]})]})})}},49384:function(e,t,a){a.d(t,{Z:function(){return n}});a(72791);var c=a(6307),i=a(80184),n=function(){return(0,i.jsx)(c.iT,{ariaLabel:"loading-indicator",height:20,width:20,color:"white",secondaryColor:"#1c023b"})}},7135:function(){}}]);
//# sourceMappingURL=96506.75bb139e.chunk.js.map