(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[45041],{61899:(e,t,l)=>{"use strict";l.d(t,{Z:()=>u});var o=l(93638),a=l(16925),n=l(1095),i=l(38857),s=l(21348),r=l(98684),d=l(90904),c=l(80184);const u=e=>{let{documentUrl:t,subUrl:l,fileName:u,onClose:m}=e;return(0,c.jsx)(i.Z,{onClose:m,children:(0,c.jsxs)("div",{className:a.Z.pdf_modal_container,children:[(0,c.jsx)(s.default,{children:(0,c.jsxs)("div",{className:a.Z.modal_container_outer_header,children:[(0,c.jsx)("div",{className:a.Z.modal_container_header,children:(0,c.jsx)("h6",{children:null!==u&&void 0!==u?u:""})}),(0,c.jsxs)("div",{className:a.Z.modal_container_header,children:[(0,c.jsx)("a",{href:"".concat(n.LS,"/").concat(t),target:"_blank",rel:"noopener noreferrer",children:(0,c.jsx)(o.Z,{label:"save",customStyle:{margin:"0",padding:"0.2rem 1rem"},onAction:()=>{}})}),(0,c.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:m})]})]})}),(0,c.jsx)(d.Z,{}),(0,c.jsx)(s.default,{children:(0,c.jsx)("iframe",{src:"".concat(l,"/").concat(t),style:{width:"55rem",height:"calc(100dvh - 80px)"}})})]})})}},17502:(e,t,l)=>{"use strict";l.d(t,{Z:()=>c});var o=l(6758),a=l(72791),n=l(39230),i=l(52245),s=l(98684),r=l(80184);const d=e=>{let{selectLabel:t,onClick:l,selectedValue:o,options:d,customStyleContainer:c,customLabelStyle:u,customListStyle:m,errorShow:_,defalutValue:v,viewAs:p,isFull:h}=e;const{t:f}=(0,n.$G)(),[y,x]=(0,a.useState)(!1),[j,k]=(0,a.useState)(""),b=()=>{x((e=>!e))};(0,a.useEffect)((()=>{"NORMAL_FILTER"===p&&k(v)}),[p,v]),(0,a.useEffect)((()=>{if("CUSTOM_FILTER"===p){let o="";for(let a of d)for(let n of v)if((null===a||void 0===a?void 0:a._id)===n){var e,t,l;let n=null!==(e=null!==(t=null!==(l=null===a||void 0===a?void 0:a.dName)&&void 0!==l?l:null===a||void 0===a?void 0:a.batchName)&&void 0!==t?t:null===a||void 0===a?void 0:a.className)&&void 0!==e?e:"";o=o?o+", "+n:n}k(o)}}),[p,v,d]);return(0,r.jsxs)("div",{className:i.Z.form_input_container,style:{...c},children:[(0,r.jsxs)("p",{className:i.Z.join_form_select_paragraph,style:{...u},children:[t,_&&(0,r.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",f("form_require_label")]})]}),(0,r.jsxs)("section",{className:i.Z.join_form_select_custom,onClick:b,children:[j?(0,r.jsx)("p",{className:i.Z.join_form_select_custom_paragraph,children:null!==j&&void 0!==j?j:""}):(0,r.jsx)("p",{className:i.Z.join_form_select_custom_paragraph,children:o}),y?(0,r.jsx)("img",{className:i.Z.join_form_select_custom_rotate_icon,src:"".concat(s.J7,"/down.svg"),alt:"categor icon"}):(0,r.jsx)("img",{className:i.Z.join_form_select_custom_icon,src:"".concat(s.J7,"/down.svg"),alt:"categor icon"})]}),y&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("section",{className:i.Z.join_form_select_custom_list,style:m,children:null===d||void 0===d?void 0:d.map(((e,t)=>{var o;return(0,r.jsx)("p",{onClick:()=>(e=>{var t;l(h?e:null===e||void 0===e?void 0:e._id),b(),k(null!==(t=null===e||void 0===e?void 0:e.finance_bank_account_name)&&void 0!==t?t:e)})(e),className:i.Z.join_form_select_custom_paragraph_option,children:null!==(o=null===e||void 0===e?void 0:e.finance_bank_account_name)&&void 0!==o?o:e},t)}))})})]})},c=e=>{var t;let{fid:l,onSelect:a,errorShow:i,viewAs:s,defalutValue:c,customStyleContainer:u,customListStyle:m}=e;const{t:_}=(0,n.$G)(),{financeAllBank:v}=(0,o.iB)({data:{fid:l,page:1,limit:1e3,search:""},skip:!l});return(0,r.jsx)(d,{selectLabel:_("bank_account"),selectedValue:_("bank_account_placeholder"),options:(null===v||void 0===v||null===(t=v.list)||void 0===t?void 0:t.length)>0?[...null===v||void 0===v?void 0:v.list]:[],onClick:a,isFull:!0,errorShow:i,defalutValue:c,viewAs:s,customStyleContainer:u,customListStyle:m})}},45041:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>I});var o=l(72791),a=l(39230),n=l(16871),i=l(43504),s=l(98684),r=l(63687),d=l(21348),c=l(90904),u=l(63162),m=l(56959),_=l(98967),v=l(60924),p=l(19056),h=l(17502),f=l(43997),y=l(99183),x=l(93638),j=l(6758),k=l(55336),b=l(61899),S=l(1095),g=l(80184);const Z=e=>{var t,l;let{fid:n}=e;const{t:i}=(0,a.$G)(),[s,r]=(0,o.useState)({bank:"",from:"",to:"",payment_type:"",daybook_type:""}),[d,c]=(0,o.useState)(!1),[u,_]=(0,o.useState)(""),[Z,C]=(0,o.useState)(""),[N]=(0,j.zh)(),[L]=(0,j.Qk)(),w=(e,t)=>{r((l=>({...l,[t]:(0,f.O_)(e)})))},M=e=>{r((t=>({...t,payment_type:"Total"===e?"BOTH":"Cash / Bank"===e?"CASH_BANK":e})))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:m.Z.fm_header_start_container,style:{gap:"2%",flexWrap:"wrap"},children:[(0,g.jsx)(h.Z,{fid:n,onSelect:e=>{r((t=>({...t,bank:e})))},errorShow:u.bank,viewAs:"NORMAL_FILTER",defalutValue:null!==(t=null===s||void 0===s||null===(l=s.bank)||void 0===l?void 0:l.finance_bank_account_name)&&void 0!==t?t:"",customStyleContainer:{width:"49%"},customListStyle:{position:"absolute",width:"100%",zIndex:"13",top:"5.4rem"}}),(0,g.jsx)(p.Z,{selectLabel:i("daybook_type"),selectedValue:i("daybook_type_placeholder"),options:["Admission","Miscellaneous","Combined"],onClick:e=>{r((t=>({...t,daybook_type:e})))},defalutValue:s.daybook_type,customStyleContainer:{width:"49%"},customListStyle:{position:"absolute",width:"100%",zIndex:"13",top:"5.4rem"},errorShow:u.daybook_type}),(0,g.jsx)(v.Z,{label:i("from"),placeholder:i("please_select_from_date"),name:"from",value:s.from?(0,f.jh)(s.from):"",onChange:e=>w(e,"from"),errorShow:u.from,customFormInputContainer:{width:"32%"}}),(0,g.jsx)(v.Z,{label:i("to_only"),placeholder:i("please_select_to_date"),name:"to",value:s.to?(0,f.jh)(s.to):"",onChange:e=>w(e,"to"),errorShow:u.to,customFormInputContainer:{width:"32%"}}),"Miscellaneous"===s.daybook_type?(0,g.jsx)(p.Z,{selectLabel:i("payment_type"),selectedValue:i("please_select_payment_type"),options:["Payment Gateway - PG","By Cash"],onClick:M,defalutValue:s.payment_type,customStyleContainer:{width:"32%"},customListStyle:{position:"absolute",width:"100%",zIndex:"13",top:"5.4rem"},errorShow:u.payment_type}):(0,g.jsx)(p.Z,{selectLabel:i("payment_type"),selectedValue:i("please_select_payment_type"),options:["Payment Gateway / Online","By Cash","Cash / Bank","Total"],onClick:M,defalutValue:"BOTH"===s.payment_type?"Total":"CASH_BANK"===s.payment_type?"Cash / Bank":s.payment_type,customStyleContainer:{width:"32%"},customListStyle:{position:"absolute",width:"100%",zIndex:"13",top:"5.4rem"},errorShow:u.payment_type})]}),(0,g.jsx)(x.Z,{label:"view_report",onAction:()=>{var e;let t=(0,y.l)(s,[]);if((0,y.x)(t)&&n&&null!==(e=s.bank)&&void 0!==e&&e._id){var l,o;c((e=>!e));let e="MISCELLENOUS",t=null;var a,i,r,d;if(null!==(l=s.bank)&&void 0!==l&&null!==(o=l.hostel)&&void 0!==o&&o._id)e="HOSTEL",t=null===(a=s.bank)||void 0===a||null===(i=a.hostel)||void 0===i?void 0:i._id;else"Admission"===s.daybook_type&&(e="ADMISSION");if("Combined"===s.daybook_type)L({fid:n,bodyParameter:{bank:null===(r=s.bank)||void 0===r?void 0:r._id,from:s.from,to:s.to,payment_type:"BOTH"===s.payment_type?"Total":"CASH_BANK"===s.payment_type?"Cash / Bank":s.payment_type}}).then((e=>{var t;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.key&&setTimeout((()=>{var t;C(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.key),c((e=>!e))}),3e3)})).catch({});else N({fid:n,bank:null===(d=s.bank)||void 0===d?void 0:d._id,from:s.from,to:s.to,payment_type:s.payment_type,flow:e,hid:t}).then((e=>{var t;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.key&&setTimeout((()=>{var t;C(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.key),c((e=>!e))}),3e3)})).catch({})}else _(t)}}),d&&(0,g.jsx)(k.default,{}),Z&&(0,g.jsx)(b.Z,{subUrl:S.Sd,documentUrl:Z,fileName:Z,onClose:()=>C("")})]})};var C=l(1669),N=l(2651),L=l(82824),w=l(97892),M=l.n(w),Y=l(72888);const A=e=>{var t,l,a;let{excel:n}=e;const[i,r]=(0,o.useState)(""),[d,c]=(0,o.useState)(!1),u=()=>{c((e=>!e))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:Y.Z.export_card,onClick:u,children:[(0,g.jsx)("img",{src:"".concat(s.J7,"/xsxl.svg"),className:Y.Z.export_card_image,alt:"excel icon"}),(0,g.jsxs)("section",{className:Y.Z.export_card_text,children:[(0,g.jsx)("h6",{children:null!==(t=null===n||void 0===n?void 0:n.excel_file_name)&&void 0!==t?t:""}),(0,g.jsxs)("div",{className:Y.Z.export_card_date,children:[(0,g.jsx)("h6",{children:null!==(l=null===n||void 0===n||null===(a=n.bank)||void 0===a?void 0:a.finance_bank_account_name)&&void 0!==l?l:""}),(0,g.jsxs)("h6",{children:[M()(null===n||void 0===n?void 0:n.created_at).format("DD MMM YYYY"),","," ",(0,L.J)(null===n||void 0===n?void 0:n.created_at,"LT")]})]}),(0,g.jsxs)("div",{className:Y.Z.export_card_date,children:[(0,g.jsxs)("h6",{children:["From : ",null===n||void 0===n?void 0:n.from," To ",null===n||void 0===n?void 0:n.to]}),(0,g.jsx)("h6",{children:"BOTH"===(null===n||void 0===n?void 0:n.payment_type)?"Total":"CASH_BANK"===(null===n||void 0===n?void 0:n.payment_type)?"Cash / Bank":null===n||void 0===n?void 0:n.payment_type})]})]})]}),d&&(0,g.jsx)(b.Z,{subUrl:S.Sd,documentUrl:null===n||void 0===n?void 0:n.excel_file,fileName:null===n||void 0===n?void 0:n.excel_file_name,onClose:u})]})};var T=l(23441),F=l(91427);const B=e=>{var t,l,n;let{fid:i}=e;const{t:r}=(0,a.$G)(),[d,c]=(0,o.useState)(""),[u,_]=(0,o.useState)(""),[v,p]=(0,o.useState)(1),[h,f]=(0,o.useState)(!0),[y,x]=(0,T.YD)({skip:d}),{financeAllDaybookFilterGenerated:b,financeAllDaybookFilterGeneratedLoading:S}=(0,j.$U)({data:{fid:i,page:v,limit:10,search:d},skip:!i});(0,o.useEffect)((()=>{x&&h&&p((e=>e+1))}),[x,h]),(0,o.useEffect)((()=>{var e;if(null!==b&&void 0!==b&&null!==(e=b.list)&&void 0!==e&&e.length){var t;let e=(0,F.f)(null===b||void 0===b||null===(t=b.list)||void 0===t?void 0:t.length);f((()=>e))}}),[null===b||void 0===b?void 0:b.list]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:m.Z.fm_search_full,children:(0,g.jsx)("section",{className:m.Z.fm_search_full_container,children:(0,g.jsxs)("div",{className:m.Z.fm_search_full_container_inner,children:[(0,g.jsx)("img",{className:m.Z.fm_search_full_icon,alt:"search icon",src:"".concat(s.dB,"/navbar-search.svg")}),(0,g.jsx)("input",{type:"text",placeholder:r("search"),onChange:e=>{var t;!S&&(null===b||void 0===b||null===(t=b.list)||void 0===t?void 0:t.length)>=0&&_(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(p((()=>1)),c(u))},value:u})]})})}),null===b||void 0===b||null===(t=b.list)||void 0===t?void 0:t.map(((e,t)=>{var l;return(null===b||void 0===b||null===(l=b.list)||void 0===l?void 0:l.length)===t+1?(0,g.jsx)("div",{ref:y,children:(0,g.jsx)(A,{excel:e})},null===e||void 0===e?void 0:e._id):(0,g.jsx)(A,{excel:e},null===e||void 0===e?void 0:e._id)})),S?d?(0,g.jsx)(k.default,{}):(0,g.jsx)(C.Z,{}):d?0===(null===b||void 0===b||null===(l=b.list)||void 0===l?void 0:l.length)&&(0,g.jsx)(N.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No daybook found related this search."}):0===(null===b||void 0===b||null===(n=b.list)||void 0===n?void 0:n.length)&&(0,g.jsx)(N.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No daybook added."})]})},I=e=>{let{fid:t,instituteId:l}=e;const{t:v}=(0,a.$G)(),p=(0,n.TH)(),h=(0,n.UO)(),f=(0,n.s0)(),[y]=(0,i.lr)(),x=(0,o.useCallback)((()=>{var e;let t="";t="Institute"===(null===(e=p.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(h.username,"/institute/member/finance"):"/q/".concat(h.username,"/member/staff/finance"),f(t,{state:p.state})}),[f,p.state,h.username]);return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(r.default,{children:[(0,g.jsx)(d.default,{children:(0,g.jsx)("div",{className:m.Z.fm_header_container,children:(0,g.jsxs)("div",{className:m.Z.fm_header_start_container,style:{gap:"0.2rem"},children:[(0,g.jsx)("img",{alt:"search icon",src:"".concat(s.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:x}),(0,g.jsx)("h6",{children:v("daybook")})]})})}),(0,g.jsx)(c.Z,{}),(0,g.jsx)(_.Z,{children:E.map((e=>{var t,l;return(0,g.jsx)(u.Z,{tab:e,isLink:!0,isActive:null===(t=e.groupIs)||void 0===t?void 0:t.includes(y.get("n")),parentState:p.state,url:"Institute"===(null===(l=p.state)||void 0===l?void 0:l.urlOffSet)?"/q/".concat(h.username,"/institute/member/finance?type=daybook").concat(e.urlKey):"/q/".concat(h.username,"/member/staff/finance?type=daybook").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,g.jsx)(c.Z,{customStyleBorder:{marginTop:"0"}}),(0,g.jsx)(d.default,{customStyle:{paddingTop:"0.2rem"},children:"history"===y.get("n")?(0,g.jsx)(B,{fid:t}):(0,g.jsx)(Z,{fid:t,instituteId:l})})]})})},E=[{label:"daybook_filter",id:"daybook_filter",urlKey:"",groupIs:["",null]},{label:"daybook_history",id:"history",urlKey:"&n=history",groupIs:["history"]}]},82824:(e,t,l)=>{"use strict";l.d(t,{J:()=>s,Z:()=>r});var o=l(99893),a=l.n(o),n=l(97892),i=l.n(n);const s=(e,t)=>(i().extend(a()),i()(e).format(t)),r=(e,t,l)=>{var o;return i()()[e]("".concat(null===(o=i()(l))||void 0===o?void 0:o.format("YYYY-MM-DD")),t)}},99893:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,l,o){var a=l.prototype,n=a.format;o.en.formats=e,a.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var l=this.$locale().formats,o=function(t,l){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,o,a){var n=a&&a.toUpperCase();return o||l[a]||e[a]||l[n].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,l){return t||l.slice(1)}))}))}(t,void 0===l?{}:l);return n.call(this,o)}}}()},72888:(e,t,l)=>{"use strict";l.d(t,{Z:()=>o});const o={export_card:"FinanceExport_export_card__9AYtI",export_card_image:"FinanceExport_export_card_image__-1r1l",export_card_text:"FinanceExport_export_card_text__ZrB00",export_card_date:"FinanceExport_export_card_date__-dTOE",export_card_menu:"FinanceExport_export_card_menu__-xEgr"}}}]);
//# sourceMappingURL=45041.55947e6e.chunk.js.map