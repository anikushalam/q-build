"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[80695],{80695:(t,e,a)=>{a.r(e),a.d(e,{default:()=>h});var l=a(72791),i=a(91727),d=a(69721);const o="StaffRoom_staffRoom__lF860",n="StaffRoom_backFlex__8hajZ",s="StaffRoom_searchContainer__u3cfP",r="StaffRoom_itemsContainer__nSzH2",v="StaffRoom_item__Hqrg3";var u=a(39230),f=a(11105),c=a(16871),m=a(43504),p=a(80184);const h=function(t){var e;let{did:a}=t;const{t:h}=(0,u.$G)(),_=(0,c.UO)(),[N,x]=l.useState([]),[g,j]=(0,l.useState)(!0),{departmentAllStaff:C,departmentAllStaffRefetch:S}=(0,i.sX)({data:{did:a,page:1,limit:20},skip:!a});return l.useEffect((()=>{a&&(j(!0),S())}),[a,S]),l.useEffect((()=>{var t,e,a;null!==C&&void 0!==C&&null!==(t=C.department)&&void 0!==t&&t.departmentChatGroup?(x((t=>{var e;return[...new Set([...t,...null===C||void 0===C||null===(e=C.department)||void 0===e?void 0:e.departmentChatGroup].map(JSON.stringify))].map(JSON.parse)})),j(!1)):0===(null===C||void 0===C||null===(e=C.department)||void 0===e||null===(a=e.departmentChatGroup)||void 0===a?void 0:a.length)&&j(!1)}),[null===C||void 0===C||null===(e=C.department)||void 0===e?void 0:e.departmentChatGroup]),(0,p.jsxs)("div",{className:o,children:[(0,p.jsx)("div",{className:n,children:(0,p.jsxs)("div",{className:s,children:[(0,p.jsx)("img",{src:"/images/search-dept-icon.svg",alt:""}),(0,p.jsx)("input",{type:"text",placeholder:h("search"),onChange:t=>{if(t.target.value){var e,a;const l=null===C||void 0===C||null===(e=C.department)||void 0===e||null===(a=e.departmentChatGroup)||void 0===a?void 0:a.filter((e=>{var a,l,i;return null!==(a="".concat(null===e||void 0===e?void 0:e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?(null===e||void 0===e?void 0:e.staffMiddleName)+" ":"").concat(null===e||void 0===e?void 0:e.staffLastName))&&void 0!==a&&null!==(l=a.toLowerCase())&&void 0!==l&&l.includes(null===(i=t.target.value)||void 0===i?void 0:i.toLowerCase())?e:null}));x(l)}else{var l;x(null===C||void 0===C||null===(l=C.department)||void 0===l?void 0:l.departmentChatGroup)}}})]})}),(0,p.jsxs)("div",{className:r,children:[null===N||void 0===N?void 0:N.map((t=>(0,p.jsx)(m.rU,{to:"/q/".concat(_.username,"/staff/profile"),state:{sid:null===t||void 0===t?void 0:t._id,viewAs:"DEPARTMENT_HEAD"},children:(0,p.jsxs)("div",{className:v,children:[(0,p.jsx)("p",{children:null===t||void 0===t?void 0:t.staffROLLNO}),(0,p.jsx)("img",{src:null!==t&&void 0!==t&&t.staffProfilePhoto?"".concat(d.yI,"/").concat(null===t||void 0===t?void 0:t.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,p.jsx)("p",{children:"".concat(null===t||void 0===t?void 0:t.staffFirstName," ").concat(null!==t&&void 0!==t&&t.staffMiddleName?null===t||void 0===t?void 0:t.staffMiddleName:""," ").concat(null===t||void 0===t?void 0:t.staffLastName)})]})},null===t||void 0===t?void 0:t._id))),g&&(0,p.jsx)(f.Z,{})]})]})}}}]);
//# sourceMappingURL=80695.5a172e5c.chunk.js.map