"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[36282],{36282:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var i=a(72791),n=a(98684),l=a(55336),_=a(1669),o=a(2651),s=a(23441),d=a(86500),c=a(91427),r=a(57588),v=a(39230),f=a(56959),u=a(9228),m=a(16871),h=a(1095),y=a(80184);const b=(0,i.lazy)((()=>a.e(19623).then(a.bind(a,87156)))),k=e=>{var t,a,_,o,s,d,c,r,f,k,g,x;let{staff:p}=e;const{t:Z}=(0,v.$G)(),N=(0,m.TH)(),[U,q]=(0,i.useState)(!1);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:u.Z.sf_card,onClick:()=>{var e,t;null!==p&&void 0!==p&&null!==(e=p.student_feedback)&&void 0!==e&&null!==(t=e[0])&&void 0!==t&&t.analytic_evaluation&&q((e=>!e))},children:(0,y.jsxs)("div",{className:u.Z.sf_card_contatiner,style:{justifyContent:"space-between",width:"100%"},children:[(0,y.jsxs)("div",{className:u.Z.sf_card_contatiner,children:[(0,y.jsx)("img",{src:null!==p&&void 0!==p&&p.staffProfilePhoto?"".concat(h.yI,"/").concat(null===p||void 0===p?void 0:p.staffProfilePhoto):"".concat(n.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,y.jsxs)("div",{className:u.Z.sf_card_contatiner_inner,children:[(0,y.jsx)("h6",{children:"".concat(null!==(t=null===p||void 0===p?void 0:p.staffFirstName)&&void 0!==t?t:""," ").concat(null!==(a=null===p||void 0===p?void 0:p.staffMiddleName)&&void 0!==a?a:""," ").concat(null!==(_=null===p||void 0===p?void 0:p.staffLastName)&&void 0!==_?_:"")}),(0,y.jsxs)("p",{children:[Z("employee_code"),": ",null!==(o=null===p||void 0===p?void 0:p.staffROLLNO)&&void 0!==o?o:""]})]})]}),null!==p&&void 0!==p&&null!==(s=p.student_feedback)&&void 0!==s&&null!==(d=s[0])&&void 0!==d&&d.analytic_evaluation?(0,y.jsxs)("div",{className:u.Z.sf_card_contatiner_inner,children:[(0,y.jsxs)("h6",{children:[(0,y.jsx)("span",{style:{fontWeight:"400"},children:Z("total_feedback")}),": ",j(null===p||void 0===p||null===(c=p.student_feedback)||void 0===c||null===(r=c[0])||void 0===r?void 0:r.subject_analytic),"%"]}),(0,y.jsxs)("p",{children:[Z("given_feedback"),": ",null!==(f=null===p||void 0===p||null===(k=p.student_feedback)||void 0===k||null===(g=k[0])||void 0===g?void 0:g.student_give_feedback_count)&&void 0!==f?f:0]})]}):null]})}),(0,y.jsx)(i.Suspense,{fallback:(0,y.jsx)(l.Z,{}),children:U&&(0,y.jsx)(b,{onClose:()=>{q((e=>!e))},ifid:null===(x=N.state)||void 0===x?void 0:x.ifid,sid:null===p||void 0===p?void 0:p._id,staff:p})})]})},j=e=>{if((null===e||void 0===e?void 0:e.length)>0){let t=0;for(let a of e)t+=null===a||void 0===a?void 0:a.feedback_percentage;return t=Math.floor(t/(null===e||void 0===e?void 0:e.length)),t}return 0},g=e=>{var t,a,u;let{instituteId:m,ifid:h}=e;const{t:b}=(0,v.$G)(),[j,g]=(0,i.useState)(""),[x,p]=(0,i.useState)(1),[Z,N]=(0,i.useState)(!0),[U,q]=(0,s.YD)({skip:j}),{feedbackSubjectTeacherList:F,feedbackSubjectTeacherListLoading:I}=(0,d.FQ)({data:{ifid:h,page:x,limit:10,search:j},skip:!h});(0,i.useEffect)((()=>{q&&Z&&p((e=>e+1))}),[q,Z]),(0,i.useEffect)((()=>{var e;if(null!==F&&void 0!==F&&null!==(e=F.list)&&void 0!==e&&e.length){var t;let e=(0,c.f)(null===F||void 0===F||null===(t=F.list)||void 0===t?void 0:t.length);N((()=>e))}}),[null===F||void 0===F?void 0:F.list]);const C=(0,i.useCallback)((0,r.J)((e=>{p((()=>1)),g(e)}),1500),[]);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:f.Z.fm_header_container,children:(0,y.jsx)("div",{className:f.Z.fm_search_full,children:(0,y.jsx)("section",{className:f.Z.fm_search_full_container,children:(0,y.jsxs)("div",{className:f.Z.fm_search_full_container_inner,children:[(0,y.jsx)("img",{className:f.Z.fm_search_full_icon,alt:"search icon",src:"".concat(n.dB,"/navbar-search.svg")}),(0,y.jsx)("input",{type:"text",placeholder:b("search"),onChange:e=>{e.target.value?C(e.target.value):(p((()=>1)),g(""))}})]})})})}),null===F||void 0===F||null===(t=F.list)||void 0===t?void 0:t.map(((e,t)=>{var a;return(null===F||void 0===F||null===(a=F.list)||void 0===a?void 0:a.length)===t+1?(0,y.jsx)("div",{ref:U,children:(0,y.jsx)(k,{staff:e})},null===e||void 0===e?void 0:e._id):(0,y.jsx)(k,{staff:e},null===e||void 0===e?void 0:e._id)})),I?j?(0,y.jsx)(l.Z,{}):(0,y.jsx)(_.Z,{}):j?0===(null===F||void 0===F||null===(a=F.list)||void 0===a?void 0:a.length)&&(0,y.jsx)(o.Z,{title:"No staff found related this search.",customStyleContainer:{marginTop:"10rem"}}):0===(null===F||void 0===F||null===(u=F.list)||void 0===u?void 0:u.length)&&(0,y.jsx)(o.Z,{title:"No staff.",customStyleContainer:{marginTop:"10rem"}})]})}},1669:(e,t,a)=>{a.d(t,{Z:()=>_});var i=a(98684),n=a(63244),l=a(80184);const _=e=>{let{isGrey:t}=e;return(0,l.jsx)("div",{className:n.Z.q_loading,children:(0,l.jsx)("img",{src:"".concat(i.Uw,t?"/loading-grey.gif":"/loading.gif"),alt:"loading icon"})})}},2651:(e,t,a)=>{a.d(t,{Z:()=>l});var i=a(15783),n=a(80184);const l=e=>{let{title:t,subtitle:a,customStyleContainer:l,costomTextTitleStyle:_,costomTextSubtitleStyle:o}=e;return(0,n.jsxs)("div",{className:i.Z.empty_container,style:l,children:[t&&(0,n.jsx)("h6",{style:_,children:t}),a&&(0,n.jsx)("p",{style:o,children:a})]})}},57588:(e,t,a)=>{a.d(t,{J:()=>i});const i=(e,t)=>{let a;return function(){let i=this,n=arguments;clearTimeout(a),a=setTimeout((()=>{e.apply(i,n)}),t)}}},91427:(e,t,a)=>{a.d(t,{f:()=>i});const i=e=>e%10===0},9228:(e,t,a)=>{a.d(t,{Z:()=>i});const i={sf_card:"InstituteFeedback_sf_card__dLh8P",sf_card_hover:"InstituteFeedback_sf_card_hover__BqLqV",sf_card_contatiner:"InstituteFeedback_sf_card_contatiner__2Zbiq",sf_card_contatiner_inner:"InstituteFeedback_sf_card_contatiner_inner__sjsCw",sf_card_active:"InstituteFeedback_sf_card_active__ujoaz",ifq_card:"InstituteFeedback_ifq_card__vFRNw",ifq_card_inner:"InstituteFeedback_ifq_card_inner__65kmp",ifqo_cantainer:"InstituteFeedback_ifqo_cantainer__YlkE-",ifqo_cantainer_student:"InstituteFeedback_ifqo_cantainer_student__WsWho",ifqocs_active:"InstituteFeedback_ifqocs_active__Wa3As",osa_card:"InstituteFeedback_osa_card__48+nw",gsf_contatiner:"InstituteFeedback_gsf_contatiner__x3ydz",gsf_star_container:"InstituteFeedback_gsf_star_container__0Mu56",igc_card:"InstituteFeedback_igc_card__cCB4r"}},15783:(e,t,a)=>{a.d(t,{Z:()=>i});const i={notify_backdrop:"Utils_notify_backdrop__saL0O",notify_overlay:"Utils_notify_overlay__GtPc5",notify_hide_overlay:"Utils_notify_hide_overlay__MYvkC",notify_overlay_animation:"Utils_notify_overlay_animation__pcASm",notify_hide_overlay_animation:"Utils_notify_hide_overlay_animation__UKRcG",notify_container:"Utils_notify_container__O8DBA",notify_message:"Utils_notify_message__PHwKo",notify_close:"Utils_notify_close__IwjyA",modal_backdrop:"Utils_modal_backdrop__WBquw",modal_overlay:"Utils_modal_overlay__Yy-AV",modal_hide_overlay:"Utils_modal_hide_overlay__elt3A",navbar_modal_hide_overlay:"Utils_navbar_modal_hide_overlay__yqj5q",navbar_modal_overlay:"Utils_navbar_modal_overlay__6ub8g",modal_hide_overlay_animation:"Utils_modal_hide_overlay_animation__d3TNp",navbar_modal_overlay_animation:"Utils_navbar_modal_overlay_animation__Ypk9u",navbar_modal_hide_overlay_animation:"Utils_navbar_modal_hide_overlay_animation__QLEse",empty_container:"Utils_empty_container__-VyCI",modal_overlay_animation:"Utils_modal_overlay_animation__zkjsk"}}}]);
//# sourceMappingURL=36282.fb2f1b32.chunk.js.map