"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[70546],{46876:(e,s,t)=>{t.r(s),t.d(s,{default:()=>_});var l=t(72791),a=t(23441),i=t(95048),n=t(12923),d=t(763),o=t(69721),c=t(52124),r=t(5574),u=t(39230),v=t(80184);const m=window.innerHeight,_=e=>{let{onClose:s,title:t,headSelect:_,assignHead:h,disabledId:x,instituteId:f,viewAs:g,isMultiSelect:j,selectList:p,onMultiSelect:b,onDone:S}=e;const{t:N}=(0,u.$G)(),[k,Z]=(0,l.useState)(1),[y,I]=(0,l.useState)(!0),[C,E]=(0,a.YD)(),[w,T]=(0,l.useState)(""),[A,M]=l.useState([]),D=(0,i.v9)((e=>e.idChange)),{assignSearchStaff:O,assignSearchStaffRefetch:L}=(0,n.vI)({skip:"ADMISSION_ADMIN"===g?!f:!(null!==D&&void 0!==D&&D.id),search:{search:w,page:k,id:"ADMISSION_ADMIN"===g?f:null===D||void 0===D?void 0:D.id,limit:10}});l.useEffect((()=>{null!==D&&void 0!==D&&D.id&&L()}),[null===D||void 0===D?void 0:D.id,L,k]),(0,l.useEffect)((()=>{E&&y&&Z((e=>e+1))}),[E,y]),l.useEffect((()=>{null!==O&&void 0!==O&&O.staff&&M(w?null===O||void 0===O?void 0:O.staff:e=>(e=>{for(let l=0;l<(null===e||void 0===e?void 0:e.length);l++)for(let a=l+1;a<(null===e||void 0===e?void 0:e.length);a++){var s,t;(null===(s=e[l])||void 0===s?void 0:s._id)===(null===(t=e[a])||void 0===t?void 0:t._id)&&(null===e||void 0===e||e.splice(a,1))}return e})([...e,...null===O||void 0===O?void 0:O.staff])),10===(null===O||void 0===O?void 0:O.staff.length)?I(!0):I(!1)}),[null===O||void 0===O?void 0:O.staff]),(0,l.useEffect)((()=>{w&&P()}),[w]);const P=()=>{L()},R=(0,l.useCallback)((0,d.debounce)((e=>T(e)),500),[]),F=e=>{x===(null===e||void 0===e?void 0:e._id)||(j?b(e):(_(e),"ADMISSION_ADMIN"===g||s()))};return(0,v.jsx)(r.Z,{open:h,onClose:s,children:(0,v.jsxs)("div",{style:{backgroundColor:"#FAFAFA",width:"35rem",height:"".concat(m-20,"px"),overflowX:"hidden"},children:[(0,v.jsxs)("div",{className:c.Z.assign_title,style:{width:"100%"},children:[(0,v.jsx)("h5",{children:t}),j?(0,v.jsxs)("div",{className:c.Z.is_mulitselect_container,children:[(0,v.jsx)("h6",{style:{cursor:"pointer"},onClick:S,children:N("select")}),(0,v.jsx)("img",{src:"/images/close-post-icon.svg",onClick:s,alt:"staff assign pop close icon"})]}):(0,v.jsx)("img",{src:"/images/close-post-icon.svg",onClick:s,alt:"staff assign pop close icon"})]}),(0,v.jsxs)("div",{className:c.Z.assign_search_container,children:[(0,v.jsx)("input",{type:"text",placeholder:N("search"),className:c.Z.assign_search_input,onChange:e=>{return s=e.target.value,void R(s);var s}}),(0,v.jsx)("img",{src:"/images/search-dash-icon.svg",alt:"search icon"})]}),(0,v.jsx)("div",{className:c.Z.assign_show_list,children:null===A||void 0===A?void 0:A.map(((e,s)=>(null===A||void 0===A?void 0:A.length)===s+1?(0,v.jsxs)("div",{ref:C,children:[(0,v.jsxs)("div",{className:c.Z.assign_show_list_each,style:x===e._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:()=>F(e),children:[j?null!==p&&void 0!==p&&p.includes(null===e||void 0===e?void 0:e._id)?(0,v.jsx)("img",{src:"/images/checkbox-icon.svg",alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,v.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/box-icon.svg",alt:"icon"}):"",(0,v.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(o.yI,"/").concat(e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,v.jsxs)("div",{className:c.Z.assign_each_paragraph,children:[(0,v.jsx)("h6",{children:"".concat(e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(e.staffLastName)}),(0,v.jsxs)("p",{children:[" ",N("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]})]}),(0,v.jsx)("hr",{})]},e._id):(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:c.Z.assign_show_list_each,style:x===e._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:()=>F(e),children:[j?null!==p&&void 0!==p&&p.includes(null===e||void 0===e?void 0:e._id)?(0,v.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/checkbox-icon.svg",alt:"icon"}):(0,v.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/box-icon.svg",alt:"icon"}):"",(0,v.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(o.yI,"/").concat(e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,v.jsxs)("div",{className:c.Z.assign_each_paragraph,children:[(0,v.jsx)("h6",{children:"".concat(e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(e.staffLastName)}),(0,v.jsxs)("p",{children:[" ",N("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]})]}),(0,v.jsx)("hr",{})]},e._id)))})]})})}},91022:(e,s,t)=>{t.d(s,{Z:()=>d});var l=t(72791),a=t(39230),i=t(38733),n=t(80184);const d=e=>{let{selectLabel:s,value:t,onClick:d,selectedValue:o,options:c,errorShow:r,customStyleContainer:u,customLabelStyle:v,customListStyle:m,openAs:_,viewAs:h}=e;const{t:x}=(0,a.$G)(),[f,g]=(0,l.useState)(!1),j=()=>{"REFUND"===_||"BACKLOG"===_||"FINANCE_MANAGER"===h||g((e=>!e))};return(0,n.jsxs)("div",{className:i.Z.join_form_container,style:{...u},children:[(0,n.jsxs)("p",{className:i.Z.join_form_select_paragraph,style:{...v},children:[s," ",r&&(0,n.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",x("form_require_label")]})]}),(0,n.jsxs)("section",{className:i.Z.join_form_select_custom,onClick:j,children:[t?(0,n.jsx)("p",{className:i.Z.join_form_select_custom_paragraph,children:null!==t&&void 0!==t?t:""}):(0,n.jsx)("p",{className:i.Z.join_form_select_custom_paragraph,children:o}),(0,n.jsx)("img",{className:i.Z.join_form_select_custom_icon,src:"/images/down-icon.svg",alt:"categor icon"})]}),f&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("section",{className:i.Z.join_form_select_custom_list,style:m?{...m}:(null===c||void 0===c?void 0:c.length)>2?{overflowY:"scroll"}:{backgroundColor:"#ffffff"},children:[(0,n.jsx)("p",{className:i.Z.join_form_select_custom_paragraph_option,onClick:j,children:o}),null===c||void 0===c?void 0:c.map(((e,s)=>(0,n.jsx)("p",{onClick:()=>(d(e),void j()),className:i.Z.join_form_select_custom_paragraph_option,children:e},s)))]})})]})}},85843:(e,s,t)=>{t.d(s,{Z:()=>z});var l=t(72791);const a="Backlogs_backlogContainer__14wvM",i="Backlogs_backlog__aKmlT",n="Backlogs_students__gWiPx",d={standerdItem:"Standerds_standerdItem__sk5mQ",standerdsleft:"Standerds_standerdsleft__iz3+D",standerdsheading:"Standerds_standerdsheading__OUmuc",standerdsImg:"Standerds_standerdsImg__Qu0rF",standerdsh6:"Standerds_standerdsh6__vADsT",standerdsp:"Standerds_standerdsp__g1fxt",BacklogStudentsbody:"Standerds_BacklogStudentsbody__eSHlj",studentImgcontainer:"Standerds_studentImgcontainer__vvUzK",studentImg:"Standerds_studentImg__1MTHE",studentp1:"Standerds_studentp1__iIsI-",studentRightp:"Standerds_studentRightp__WICOh",standerdsrright:"Standerds_standerdsrright__QmfIn",dotsImg:"Standerds_dotsImg__NvD0-",examItem:"Standerds_examItem__5bRO5",studentModal:"Standerds_studentModal__Ylwd7",backItem:"Standerds_backItem__lNacM",backItemRight:"Standerds_backItemRight__KrXyV",modalbody:"Standerds_modalbody__aaB+Z",confirmbutton:"Standerds_confirmbutton__MBrRW",standerdItemm:"Standerds_standerdItemm__iZFWH",back_fees_container:"Standerds_back_fees_container__3540D",back_fees_container_inner:"Standerds_back_fees_container_inner__mfdj4",back_fees_list:"Standerds_back_fees_list__Pz572",back_fees_list_inner:"Standerds_back_fees_list_inner__5D6oY",back_fees_list_text:"Standerds_back_fees_list_text__K10RD",fees_header:"Standerds_fees_header__lnUE0",fees_table_header:"Standerds_fees_table_header__rq-XT"},o="Tabs_mcqToptabs__yrqKN",c="Tabs_mcqTop__eTjbn",r="Tabs_mcqTopItem__5qwkI",u="Tabs_active__zps6f";var v=t(39230),m=t(80184);const _=function(e){let{activeIndex:s,setActiveIndex:t}=e;const{t:l}=(0,v.$G)();return(0,m.jsx)("div",{className:c,children:(0,m.jsxs)("div",{className:o,children:[(0,m.jsx)("div",{className:0===s?"".concat(r," ").concat(u):r,onClick:()=>t(0),children:l("current")}),(0,m.jsx)("div",{className:1===s?"".concat(r," ").concat(u):r,onClick:()=>t(1),children:l("dropouts")})]})})};var h=t(23441),x=t(74289),f=t(11105),g=t(69721);const j=function(e){var s,t,l;let{onStudentOpen:a,student:i,clickable:n}=e;return(0,m.jsxs)("div",{className:d.standerdItem,onClick:()=>{n&&a(i)},children:[(0,m.jsxs)("div",{className:d.standerdsleft,children:[(0,m.jsx)("div",{className:d.studentImgcontainer,children:(0,m.jsx)("img",{className:d.studentImg,src:"1"!==(null===i||void 0===i?void 0:i.photoId)?"".concat(g.yI,"/").concat(null===i||void 0===i?void 0:i.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"student icon"})}),(0,m.jsxs)("div",{className:d.standerdsright,children:[(0,m.jsx)("h6",{className:d.standerdsh6,children:"".concat(null===i||void 0===i?void 0:i.studentFirstName," ").concat((null===i||void 0===i?void 0:i.studentMiddleName)||""," ").concat(null===i||void 0===i?void 0:i.studentLastName)}),(0,m.jsx)("p",{className:d.studentp1,children:(null===i||void 0===i||null===(s=i.batches)||void 0===s?void 0:s.batchName)||""})]})]}),(0,m.jsxs)("p",{className:d.studentRightp,children:[null===i||void 0===i||null===(t=i.studentClass)||void 0===t?void 0:t.className," ",null===i||void 0===i||null===(l=i.studentClass)||void 0===l?void 0:l.classTitle]})]})};var p=t(5574),b=t(98734);const S=function(e){var s,t,a;let{hideModal:i,open:n,studentId:o,subjectMasterId:c,onRefetchWhenConfirm:r}=e;const{t:u}=(0,v.$G)(),[_,h]=(0,l.useState)(""),[f,j]=(0,l.useState)(!1),[S]=(0,x.p8)();return(0,m.jsxs)(p.Z,{open:n,onClose:()=>i(!1),children:[(0,m.jsxs)("div",{className:d.studentModal,children:[(0,m.jsxs)("div",{className:d.standerdItem,style:{borderTopLeftRadius:"0",borderTopRightRadius:"0"},children:[(0,m.jsxs)("div",{className:d.standerdsleft,children:[(0,m.jsx)("div",{className:d.studentImgcontainer,children:(0,m.jsx)("img",{className:d.studentImg,src:"1"!==(null===o||void 0===o?void 0:o.photoId)?"".concat(g.yI,"/").concat(null===o||void 0===o?void 0:o.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"student"})}),(0,m.jsxs)("div",{className:d.standerdsright,children:[(0,m.jsx)("h6",{className:d.standerdsh6,children:"".concat(null===o||void 0===o?void 0:o.studentFirstName," ").concat((null===o||void 0===o?void 0:o.studentMiddleName)||""," ").concat(null===o||void 0===o?void 0:o.studentLastName)}),(0,m.jsx)("p",{className:d.studentp1,children:(null===o||void 0===o||null===(s=o.batches)||void 0===s?void 0:s.batchName)||""})]})]}),(0,m.jsxs)("p",{className:d.studentRightp,children:[" ",null===o||void 0===o||null===(t=o.studentClass)||void 0===t?void 0:t.className," ",null===o||void 0===o||null===(a=o.studentClass)||void 0===a?void 0:a.classTitle]})]}),(0,m.jsxs)("div",{className:d.modalbody,children:[(0,m.jsxs)("div",{className:d.backItem,onClick:()=>h("Clear"),children:[(0,m.jsx)("img",{src:"/images/department/clear_backlog.svg",alt:"clear backlog"}),(0,m.jsxs)("div",{className:d.backItemRight,children:[(0,m.jsx)("h6",{children:u("clr_backlog")}),(0,m.jsx)("p",{children:u("have_passed")})]})]}),(0,m.jsxs)("div",{className:d.backItem,onClick:()=>h("Dropout"),children:[(0,m.jsx)("img",{src:"/images/department/dropout.svg",alt:"clear backlog"}),(0,m.jsxs)("div",{className:d.backItemRight,children:[(0,m.jsx)("h6",{children:u("dropout")}),(0,m.jsx)("p",{children:u("either")})]})]}),(0,m.jsx)("div",{className:d.confirmbutton,onClick:()=>{_&&(j((e=>!e)),S({sid:null===o||void 0===o?void 0:o._id,smid:c,status:_}).then((()=>{r(),j((e=>!e)),i(!1)})).catch({}))},children:u("confirm")})]})]}),f&&(0,m.jsx)(b.Z,{})]})},N=e=>{let{subjectMasterId:s}=e;const[t,a]=(0,l.useState)(!0),[i,n]=(0,l.useState)(1),[d,o]=(0,h.YD)(),[c,r]=(0,l.useState)(!0),[u,v]=(0,l.useState)([]),[_,g]=(0,l.useState)(!1),[p,b]=(0,l.useState)(""),[N,k]=(0,l.useState)(!1),{backlogSubjectAllStudent:Z,backlogSubjectAllStudentRefetch:y}=(0,x.y_)({data:{smid:s,page:i,limit:10},skip:!s});(0,l.useEffect)((()=>{o&&t&&n((e=>e+1))}),[o,t]),(0,l.useEffect)((()=>{s&&(r(!0),y())}),[i,s,N,y]),(0,l.useEffect)((()=>{var e,s;if(null!==Z&&void 0!==Z&&Z.student_array)if(N){const e=[...null===Z||void 0===Z?void 0:Z.student_array],s=[...new Set(e.map(JSON.stringify))].map(JSON.parse);v(s),k(!1),r(!1)}else{const e=[...u,...null===Z||void 0===Z?void 0:Z.student_array],s=[...new Set(e.map(JSON.stringify))].map(JSON.parse);v(s),r(!1)}else 0===(null===Z||void 0===Z||null===(e=Z.student_array)||void 0===e?void 0:e.length)&&r(!1);10===(null===Z||void 0===Z||null===(s=Z.student_array)||void 0===s?void 0:s.length)?a(!0):a(!1)}),[null===Z||void 0===Z?void 0:Z.student_array]);const I=e=>{b(e),g((e=>!e))};return(0,m.jsxs)(m.Fragment,{children:[null===u||void 0===u?void 0:u.map(((e,s)=>(null===u||void 0===u?void 0:u.length)===s+1?(0,m.jsx)("div",{ref:d,children:(0,m.jsx)(j,{student:e,onStudentOpen:I,clickable:!0})},null===e||void 0===e?void 0:e._id):(0,m.jsx)(j,{student:e,onStudentOpen:I,clickable:!0},null===e||void 0===e?void 0:e._id))),c&&(0,m.jsx)(f.Z,{}),_&&(0,m.jsx)(S,{open:_,hideModal:e=>g(e),studentId:p,subjectMasterId:s,onRefetchWhenConfirm:()=>{n(1),k(!0)}})]})},k=e=>{let{subjectMasterId:s}=e;const[t,a]=(0,l.useState)(!0),[i,n]=(0,l.useState)(1),[d,o]=(0,h.YD)(),[c,r]=(0,l.useState)(!0),[u,v]=(0,l.useState)([]),{backlogSubjectAllStudentDropout:_,backlogSubjectAllStudentDropoutRefetch:g}=(0,x.yD)({data:{smid:s,page:i,limit:10},skip:!s});return(0,l.useEffect)((()=>{o&&t&&n((e=>e+1))}),[o,t]),(0,l.useEffect)((()=>{s&&(r(!0),g())}),[i,s,g]),(0,l.useEffect)((()=>{var e,s;if(null!==_&&void 0!==_&&_.student_array){const e=[...u,...null===_||void 0===_?void 0:_.student_array],s=[...new Set(e.map(JSON.stringify))].map(JSON.parse);v(s),r(!1)}else 0===(null===_||void 0===_||null===(e=_.student_array)||void 0===e?void 0:e.length)&&r(!1);10===(null===_||void 0===_||null===(s=_.student_array)||void 0===s?void 0:s.length)?a(!0):a(!1)}),[null===_||void 0===_?void 0:_.student_array]),(0,m.jsxs)(m.Fragment,{children:[null===u||void 0===u?void 0:u.map(((e,s)=>(null===u||void 0===u?void 0:u.length)===s+1?(0,m.jsx)("div",{ref:d,children:(0,m.jsx)(j,{student:e,clickable:!1})},null===e||void 0===e?void 0:e._id):(0,m.jsx)(j,{student:e,clickable:!1},null===e||void 0===e?void 0:e._id))),c&&(0,m.jsx)(f.Z,{})]})};var Z=t(16871);const y=function(){var e,s;const t=(0,Z.TH)(),[a,i]=(0,l.useState)(0);return(0,m.jsxs)("div",{children:[(0,m.jsx)(_,{activeIndex:a,setActiveIndex:i}),(0,m.jsxs)("div",{className:d.BacklogStudentsbody,children:[0===a&&(0,m.jsx)(N,{subjectMasterId:null===(e=t.state)||void 0===e?void 0:e.subId}),1===a&&(0,m.jsx)(k,{subjectMasterId:null===(s=t.state)||void 0===s?void 0:s.subId})]}),2===a&&(0,m.jsx)("div",{className:d.BacklogStudentsbody})]})};var I=t(8148),C=t(16796);const E=function(e){let{classMaster:s,carryParentState:t,viewAs:l}=e;return(0,m.jsx)(m.Fragment,{children:"EXAMINATION_SECTION"===l?(0,m.jsx)(C.Z,{carryParentState:{...t,clsId:null===s||void 0===s?void 0:s._id},activeTab:"department&n=backlog&subject",children:(0,m.jsxs)("div",{className:"".concat(d.standerdItem," ").concat(d.standerdItemm),children:[(0,m.jsx)("img",{className:d.standerdsImg,src:"/images/department/staffs.svg",alt:""}),(0,m.jsxs)("div",{className:d.standerdsright,children:[(0,m.jsx)("h6",{className:d.standerdsh6,children:(null===s||void 0===s?void 0:s.className)||""}),(0,m.jsxs)("p",{className:d.standerdsp,children:["Total Class: ",null===s||void 0===s?void 0:s.classCount]})]})]})}):(0,m.jsx)(I.Z,{carryParentState:{...t,clsId:null===s||void 0===s?void 0:s._id},activeTab:"backlog&subject",children:(0,m.jsxs)("div",{className:"".concat(d.standerdItem," ").concat(d.standerdItemm),children:[(0,m.jsx)("img",{className:d.standerdsImg,src:"/images/department/staffs.svg",alt:""}),(0,m.jsxs)("div",{className:d.standerdsright,children:[(0,m.jsx)("h6",{className:d.standerdsh6,children:(null===s||void 0===s?void 0:s.className)||""}),(0,m.jsxs)("p",{className:d.standerdsp,children:["Total Class: ",null===s||void 0===s?void 0:s.classCount]})]})]})})})};var w=t(98094),T=t(47167),A=t(72426),M=t.n(A);const D=e=>{var s,t,l,a,i,n,o;let{isFees:c,examFees:r,setAdd:u,setStudentList:_}=e;const{t:h}=(0,v.$G)();return(0,m.jsx)(m.Fragment,{children:c?(0,m.jsxs)("div",{className:d.back_fees_container,onClick:()=>u(r),style:{cursor:"pointer"},children:[(0,m.jsx)("img",{src:"/images/department/bank-icon.svg",alt:"bank icon"}),(0,m.jsxs)("div",{className:d.back_fees_container_inner,children:[(0,m.jsx)("h6",{children:h("backlog_exam_fee_structure")}),(0,m.jsxs)("p",{children:[h("rs"),".",null!==(s=null===r||void 0===r?void 0:r.exam_fee_amount)&&void 0!==s?s:0," / ",null!==(t=null===r||void 0===r?void 0:r.exam_fee_type)&&void 0!==t?t:""]})]})]}):(0,m.jsxs)("div",{className:d.back_fees_list,style:{cursor:"pointer"},onClick:()=>_(r),children:[(0,m.jsx)("img",{src:"/images/members/fees-icon.svg",alt:"fees icon"}),(0,m.jsxs)("div",{className:d.back_fees_list_inner,style:{width:"100%"},children:[(0,m.jsxs)("div",{className:d.back_fees_list_text,children:[(0,m.jsxs)("h6",{children:[null!==(l=null===r||void 0===r||null===(a=r.exam)||void 0===a?void 0:a.examName)&&void 0!==l?l:"",", ",h("rs"),". ",null!==(i=null===r||void 0===r?void 0:r.exam_fee_amount)&&void 0!==i?i:0," ",null===r||void 0===r?void 0:r.exam_fee_type]}),(0,m.jsxs)("p",{style:{fontSize:"10px"},children:[h("rs"),".",null!==(n=null===r||void 0===r?void 0:r.total_paid_collection)&&void 0!==n?n:0," ",h("received_of")," "," "," ",null!==(o=null===r||void 0===r?void 0:r.total_raised_collection)&&void 0!==o?o:0]})]}),(0,m.jsx)("div",{className:d.back_fees_list_text,children:(0,m.jsxs)("p",{children:[M()(null===r||void 0===r?void 0:r.created_at).format("DD MMMM yyyy"),","," ",M()(null===r||void 0===r?void 0:r.created_at).format("LT")]})})]})]})})};var O=t(36665),L=t(91022),P=t(97655),R=t(60163);const F=e=>{let{onClose:s,examFees:t,onRefetch:a}=e;const{t:i}=(0,v.$G)(),[n,d]=(0,l.useState)(""),[o,c]=(0,l.useState)(!1),[r,u]=(0,l.useState)({exam_fee_type:"",exam_fee_amount:0}),[_]=(0,x.bp)();(0,l.useEffect)((()=>{t&&u((e=>{var s,l;return{...e,exam_fee_type:null!==(s=null===t||void 0===t?void 0:t.exam_fee_type)&&void 0!==s?s:"",exam_fee_amount:null!==(l=null===t||void 0===t?void 0:t.exam_fee_amount)&&void 0!==l?l:0}}))}),[t]);return(0,m.jsx)(O.Z,{onClose:s,children:(0,m.jsxs)("div",{className:R.Z.seating_modal,children:[(0,m.jsx)("section",{className:R.Z.seating_modal_title_left,style:{position:"relative"},children:(0,m.jsx)("h6",{children:i("exam_fees_update")})}),(0,m.jsx)(w.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),(0,m.jsx)(L.Z,{selectLabel:i("fees_type"),selectedValue:i("fees_type_placeholder"),options:["Per student","Per Backlog paper"],value:r.exam_fee_type,onClick:e=>{u((s=>({...s,exam_fee_type:e})))},errorShow:n.examType}),(0,m.jsx)(P.Z,{labelText:i("fee_amount"),placeholder:i("fee_amount_placeholder"),name:"examWeight",value:r.exam_fee_amount,type:"number",onChange:e=>{u((s=>({...s,exam_fee_amount:+e.target.value})))}}),(0,m.jsx)("button",{className:R.Z.update_btn,title:"update",onClick:()=>{const e=(e=>{const s={};for(let t in e)"exam_fee_amount"===t||e[t]||(s[t]="".concat(t," is required!"));return s})(r);let l=!1;for(let s in e)if(s){l=!0;break}l?d(e):(c((e=>!e)),_({efid:null===t||void 0===t?void 0:t._id,updateFee:r}).then((()=>{a(),s(),c((e=>!e))})).catch({}))},children:i("update")}),o&&(0,m.jsx)(b.Z,{})]})})},G=e=>{var s,t;let{examFees:a,onClose:i}=e;const{t:n}=(0,v.$G)(),[o,c]=(0,l.useState)(!0),{examFeeStructureDetail:r,examFeeStructureDetailRefetch:u}=(0,x.j8)({efid:null===a||void 0===a?void 0:a._id,skip:!(null!==a&&void 0!==a&&a._id)});return(0,l.useEffect)((()=>{null!==a&&void 0!==a&&a._id&&(c(!0),u())}),[null===a||void 0===a?void 0:a._id,u]),(0,l.useEffect)((()=>{null!==r&&void 0!==r&&r.all_fee&&c(!1)}),[null===r||void 0===r?void 0:r.all_fee]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:d.fees_header,children:[(0,m.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,m.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:i,alt:"go to previous",title:"Go Back",style:{cursor:"pointer"}}),(0,m.jsx)("h6",{children:n("total_collect_amount")})]}),(0,m.jsxs)("h6",{children:[n("rs"),". ",null!==(s=null===a||void 0===a?void 0:a.total_paid_collection)&&void 0!==s?s:0]})]}),(0,m.jsxs)("div",{className:d.fees_table_header,children:[(0,m.jsx)("h6",{style:{width:"20%"},children:n("roll_number")}),(0,m.jsx)("h6",{style:{width:"50%"},children:n("name")}),(0,m.jsx)("h6",{style:{width:"15%"},children:n("amount")}),(0,m.jsx)("h6",{style:{width:"15%"},children:n("status")})]}),(0,m.jsx)(w.Z,{customStyle:{width:"100%",marginTop:"0.8rem"}}),null===r||void 0===r||null===(t=r.all_fee)||void 0===t?void 0:t.map((e=>{var s,t,l,a,i,n,o,c,r,u;return(0,m.jsxs)("div",{className:d.fees_table_header,children:[(0,m.jsx)("p",{style:{width:"20%"},children:(null===e||void 0===e||null===(s=e.student)||void 0===s?void 0:s.studentROLLNO)>9?null===e||void 0===e||null===(t=e.student)||void 0===t?void 0:t.studentROLLNO:"0".concat(null===e||void 0===e||null===(l=e.student)||void 0===l?void 0:l.studentROLLNO)}),(0,m.jsx)("p",{style:{width:"50%"},children:"".concat(null!==(a=null===e||void 0===e||null===(i=e.student)||void 0===i?void 0:i.studentFirstName)&&void 0!==a?a:""," ").concat(null!==(n=null===e||void 0===e||null===(o=e.student)||void 0===o?void 0:o.studentMiddleName)&&void 0!==n?n:""," ").concat(null!==(c=null===e||void 0===e||null===(r=e.student)||void 0===r?void 0:r.studentLastName)&&void 0!==c?c:"")}),(0,m.jsx)("p",{style:{width:"15%"},children:null!==(u=null===e||void 0===e?void 0:e.amount)&&void 0!==u?u:0}),(0,m.jsx)("p",{style:{width:"15%"},children:(0,m.jsx)("img",{style:{marginLeft:"0.7rem"},src:"Not Paid"===(null===e||void 0===e?void 0:e.status)?"/images/department/radio-gray-icon.svg":"/images/department/radio-blue-icon.svg",alt:"radio icon"})})]})})),o&&(0,m.jsx)(f.Z,{})]})},B=e=>{let{did:s}=e;const[t,a]=(0,l.useState)(""),[i,n]=(0,h.YD)(),[d,o]=(0,l.useState)(1),[c,r]=(0,l.useState)(!0),[u,v]=(0,l.useState)(!0),[_,g]=(0,l.useState)([]),[j,p]=(0,l.useState)(!1),[b,S]=(0,l.useState)(""),{getAllExamFeeStructure:N,getAllExamFeeStructureRefetch:k}=(0,x.zk)({data:{did:s,page:d,limit:10},skip:!s});(0,l.useEffect)((()=>{s&&(v(!0),k())}),[s,d,k]),(0,l.useEffect)((()=>{n&&c&&o((e=>e+1))}),[n,c]),(0,l.useEffect)((()=>{var e,s;j?(g(null===N||void 0===N?void 0:N.all_exam_fee),v(!1),p(!1)):null!==N&&void 0!==N&&N.all_exam_fee?(g((e=>{var s,t;return null===(s=[...new Set(null===(t=[...e,...null===N||void 0===N?void 0:N.all_exam_fee])||void 0===t?void 0:t.map(JSON.stringify))])||void 0===s?void 0:s.map(JSON.parse)})),v(!1)):0===(null===N||void 0===N||null===(s=N.all_exam_fee)||void 0===s?void 0:s.length)&&v(!1);10===(null===N||void 0===N||null===(e=N.all_exam_fee)||void 0===e?void 0:e.length)?r(!0):r(!1)}),[null===N||void 0===N?void 0:N.all_exam_fee]);return(0,m.jsxs)(m.Fragment,{children:[!b&&(null===_||void 0===_?void 0:_.map(((e,s)=>(null===_||void 0===_?void 0:_.length)===s+1?(0,m.jsx)("div",{ref:i,children:(0,m.jsx)(D,{examFees:e,isFees:"Static Department Linked"===(null===e||void 0===e?void 0:e.exam_fee_status),setAdd:a,setStudentList:S})},null===e||void 0===e?void 0:e._id):(0,m.jsx)(D,{examFees:e,isFees:"Static Department Linked"===(null===e||void 0===e?void 0:e.exam_fee_status),setAdd:a,setStudentList:S},null===e||void 0===e?void 0:e._id)))),u&&(0,m.jsx)(f.Z,{}),t&&(0,m.jsx)(F,{onClose:()=>a(""),onRefetch:()=>{o(1),p(!0),v(!0),k()},examFees:t}),b&&(0,m.jsx)(G,{examFees:b,onClose:()=>S("")})]})};var q=t(34219),Y=t(8274),$=t(55691),U=t(90443);const H=e=>{var s;let{did:t,carryParentState:a,viewAs:i}=e;const{t:n}=(0,v.$G)(),[d,o]=(0,l.useState)(!0),[c,r]=(0,l.useState)([]),[u,_]=(0,l.useState)(!1),{getBacklogExamList:h,getBacklogExamListRefetch:f}=(0,x.Id)({did:t,skip:!t});(0,l.useEffect)((()=>{t&&(o(!0),f())}),[t,f]),(0,l.useEffect)((()=>{var e,s;null!==h&&void 0!==h&&null!==(e=h.exam)&&void 0!==e&&e.length?(r(null===h||void 0===h?void 0:h.exam),o(!1)):0===(null===h||void 0===h||null===(s=h.exam)||void 0===s?void 0:s.length)&&o(!1)}),[null===h||void 0===h?void 0:h.exam]);const g=()=>{_((e=>!e))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:U.Z.add_new_container,children:(0,m.jsx)("p",{className:U.Z.add_new_exam,onClick:g,children:n("create_new_exam")})}),null===c||void 0===c?void 0:c.map((e=>(0,m.jsx)(Y.Z,{exam:e,carryParentState:a,viewAs:i},e._id))),!d&&!(null!==h&&void 0!==h&&null!==(s=h.exam)&&void 0!==s&&s.length)&&(0,m.jsx)(q.Z,{customStyleContainer:{marginTop:"5rem",height:"inherit"},title:"No any exams found",subtitle:"Please make sure you have created exam."}),u&&(0,m.jsx)($.Z,{onClose:g,did:t,onRefetch:f,openAs:"BACKLOG"})]})};const V=function(e){var s,t,a,i,n,o,c,r,u,_;let{did:g,carryParentState:j,viewAs:p}=e;const{t:b}=(0,v.$G)(),S=(0,Z.UO)(),N=(0,Z.TH)(),k=[{name:b("stands"),id:0,url:"EXAMINATION_SECTION"===p?"member/exam?a=department&n=backlog&standard":"member/department/".concat(S.deptname,"?a=backlog&standard")},{name:b("exam_fees"),id:1,url:"EXAMINATION_SECTION"===p?"member/exam?a=department&n=backlog&fees":"member/department/".concat(S.deptname,"?a=backlog&fees")},{name:b("exams"),id:2,url:"EXAMINATION_SECTION"===p?"member/exam?a=department&n=backlog&exam":"member/department/".concat(S.deptname,"?a=backlog&exam")}],[y,I]=(0,l.useState)(!0),[C,A]=(0,l.useState)(1),[M,D]=(0,h.YD)(),[O,L]=(0,l.useState)(!0),[P,R]=(0,l.useState)([]),{backlogClassMaster:F,backlogClassMasterRefetch:G}=(0,x.Gk)({data:{did:g,page:C,limit:10},skip:!g});return(0,l.useEffect)((()=>{D&&y&&A((e=>e+1))}),[D,y]),(0,l.useEffect)((()=>{g&&(L(!0),G())}),[C,g,G]),(0,l.useEffect)((()=>{var e,s;if(null!==F&&void 0!==F&&F.masters){const e=[...P,...null===F||void 0===F?void 0:F.masters],s=[...new Set(e.map(JSON.stringify))].map(JSON.parse);R(s),L(!1)}else 0===(null===F||void 0===F||null===(e=F.masters)||void 0===e?void 0:e.length)&&L(!1);10===(null===F||void 0===F||null===(s=F.masters)||void 0===s?void 0:s.length)?I(!0):I(!1)}),[null===F||void 0===F?void 0:F.masters]),(0,m.jsxs)("div",{className:d.standerds,children:[(0,m.jsx)("h6",{className:d.standerdsheading,children:b("stands")}),(0,m.jsx)(T.Z,{tabList:k,activeIndexTab:"backlog&standard"===(null===(s=N.search)||void 0===s?void 0:s.substring(3))||"department&n=backlog&standard"===(null===(t=N.search)||void 0===t?void 0:t.substring(3))?0:"backlog&fees"===(null===(a=N.search)||void 0===a?void 0:a.substring(3))||"department&n=backlog&fees"===(null===(i=N.search)||void 0===i?void 0:i.substring(3))?1:2,showAs:!0,customStyleLink:{width:"33.3%"},carryParentState:j}),(0,m.jsx)(w.Z,{customStyle:{width:"100%",marginBottom:"0.7rem"}}),("backlog&standard"===(null===(n=N.search)||void 0===n?void 0:n.substring(3))||"department&n=backlog&standard"===(null===(o=N.search)||void 0===o?void 0:o.substring(3)))&&(0,m.jsxs)(m.Fragment,{children:[null===P||void 0===P?void 0:P.map(((e,s)=>(null===P||void 0===P?void 0:P.length)===s+1?(0,m.jsx)("div",{ref:M,children:(0,m.jsx)(E,{classMaster:e,carryParentState:j,viewAs:p})},null===e||void 0===e?void 0:e._id):(0,m.jsx)(E,{classMaster:e,viewAs:p,carryParentState:j},null===e||void 0===e?void 0:e._id))),O&&(0,m.jsx)(f.Z,{})]}),("backlog&fees"===(null===(c=N.search)||void 0===c?void 0:c.substring(3))||"department&n=backlog&fees"===(null===(r=N.search)||void 0===r?void 0:r.substring(3)))&&(0,m.jsx)(B,{did:g}),("backlog&exam"===(null===(u=N.search)||void 0===u?void 0:u.substring(3))||"department&n=backlog&exam"===(null===(_=N.search)||void 0===_?void 0:_.substring(3)))&&(0,m.jsx)(H,{did:g,viewAs:p,carryParentState:j})]})};const J=function(e){let{subMaster:s,carryParentState:t,viewAs:l}=e;return(0,m.jsx)(m.Fragment,{children:"EXAMINATION_SECTION"===l?(0,m.jsx)(C.Z,{carryParentState:{...t,subId:null===s||void 0===s?void 0:s._id},activeTab:"department&n=backlog&student",children:(0,m.jsxs)("div",{className:"".concat(d.standerdItem," ").concat(d.standerdItemm),children:[(0,m.jsx)("img",{className:d.standerdsImg,src:"/images/department/subjectIcon.svg",alt:""}),(0,m.jsxs)("div",{className:d.standerdsright,children:[(0,m.jsx)("h6",{className:d.standerdsh6,children:null===s||void 0===s?void 0:s.subjectName}),(0,m.jsxs)("p",{className:d.standerdsp,children:["Total Student: ",null===s||void 0===s?void 0:s.backlogStudentCount]})]})]})}):(0,m.jsx)(I.Z,{carryParentState:{...t,subId:null===s||void 0===s?void 0:s._id},activeTab:"backlog&student",children:(0,m.jsxs)("div",{className:"".concat(d.standerdItem," ").concat(d.standerdItemm),children:[(0,m.jsx)("img",{className:d.standerdsImg,src:"/images/department/subjectIcon.svg",alt:""}),(0,m.jsxs)("div",{className:d.standerdsright,children:[(0,m.jsx)("h6",{className:d.standerdsh6,children:null===s||void 0===s?void 0:s.subjectName}),(0,m.jsxs)("p",{className:d.standerdsp,children:["Total Student: ",null===s||void 0===s?void 0:s.backlogStudentCount]})]})]})})})};const W=function(e){var s,t,a;let{carryParentState:i,viewAs:n}=e;const{t:o}=(0,v.$G)(),[c,r]=(0,l.useState)(!0),[u,_]=(0,l.useState)(1),[g,j]=(0,h.YD)(),[p,b]=(0,l.useState)(!0),[S,N]=(0,l.useState)([]),k=(0,Z.TH)(),{backlogSubjectMaster:y,backlogSubjectMasterRefetch:I}=(0,x.F5)({data:{cmid:null===(s=k.state)||void 0===s?void 0:s.clsId,page:u,limit:10},skip:!(null!==(t=k.state)&&void 0!==t&&t.clsId)});return(0,l.useEffect)((()=>{j&&c&&_((e=>e+1))}),[j,c]),(0,l.useEffect)((()=>{var e;null!==(e=k.state)&&void 0!==e&&e.clsId&&(b(!0),I())}),[u,null===(a=k.state)||void 0===a?void 0:a.clsId,I]),(0,l.useEffect)((()=>{var e,s;if(null!==y&&void 0!==y&&y.subjects){const e=[...S,...null===y||void 0===y?void 0:y.subjects],s=[...new Set(e.map(JSON.stringify))].map(JSON.parse);N(s),b(!1)}else 0===(null===y||void 0===y||null===(e=y.subjects)||void 0===e?void 0:e.length)&&b(!1);10===(null===y||void 0===y||null===(s=y.subjects)||void 0===s?void 0:s.length)?r(!0):r(!1)}),[null===y||void 0===y?void 0:y.subjects]),(0,m.jsxs)("div",{className:d.standerds,children:[(0,m.jsx)("h6",{className:d.standerdsheading,children:o("subjects")}),null===S||void 0===S?void 0:S.map(((e,s)=>(null===S||void 0===S?void 0:S.length)===s+1?(0,m.jsx)("div",{ref:g,children:(0,m.jsx)(J,{carryParentState:i,subMaster:e,viewAs:n})},null===e||void 0===e?void 0:e._id):(0,m.jsx)(J,{carryParentState:i,subMaster:e,viewAs:n},null===e||void 0===e?void 0:e._id))),p&&(0,m.jsx)(f.Z,{})]})};var X=t(93487);const K=["backlog&exam&detail","backlog&exam&detail&seating","backlog&exam&detail&subject","department&n=backlog&exam&detail","department&n=backlog&exam&detail&seating","department&n=backlog&exam&detail&subject"];const z=function(e){var s,t,l,d,o,c,r,u,v,_,h,x;let{did:f,carryParentState:g,instituteId:j,viewAs:p}=e;const b=(0,Z.TH)();return(0,m.jsxs)(m.Fragment,{children:[K.includes(null===b||void 0===b||null===(s=b.search)||void 0===s?void 0:s.substring(3))&&(0,m.jsx)(X.Z,{carryParentState:g,instituteId:j,viewAs:p}),!K.includes(null===b||void 0===b||null===(t=b.search)||void 0===t?void 0:t.substring(3))&&(0,m.jsxs)("div",{className:a,children:[("backlog&standard"===(null===(l=b.search)||void 0===l?void 0:l.substring(3))||"backlog&fees"===(null===(d=b.search)||void 0===d?void 0:d.substring(3))||"backlog&exam"===(null===(o=b.search)||void 0===o?void 0:o.substring(3))||"department&n=backlog&standard"===(null===(c=b.search)||void 0===c?void 0:c.substring(3))||"department&n=backlog&fees"===(null===(r=b.search)||void 0===r?void 0:r.substring(3))||"department&n=backlog&exam"===(null===(u=b.search)||void 0===u?void 0:u.substring(3)))&&(0,m.jsx)("div",{className:i,children:(0,m.jsx)(V,{carryParentState:g,did:f,instituteId:j,viewAs:p})}),("backlog&subject"===(null===(v=b.search)||void 0===v?void 0:v.substring(3))||"department&n=backlog&subject"===(null===(_=b.search)||void 0===_?void 0:_.substring(3)))&&(0,m.jsx)("div",{className:i,children:(0,m.jsx)(W,{carryParentState:g,viewAs:p})}),("backlog&student"===(null===(h=b.search)||void 0===h?void 0:h.substring(3))||"department&n=backlog&student"===(null===(x=b.search)||void 0===x?void 0:x.substring(3)))&&(0,m.jsx)("div",{className:"".concat(i," ").concat(n),children:(0,m.jsx)(y,{})})]})]})}},93487:(e,s,t)=>{t.d(s,{Z:()=>Y});var l=t(72791),a=t(39230),i=t(16871),n=t(74289),d=t(67923),o=t(8148),c=t(98094),r=t(46876),u=t(91022),v=t(97655),m=t(69721),_=t(36665),h=t(60163),x=t(69113),f=t(80184);const g=e=>{let{onClose:s,currentSubject:t,onAddSubjectSeating:i}=e;const{t:n}=(0,a.$G)(),[d,o]=(0,l.useState)(""),[r,u]=(0,l.useState)(0),[m,g]=(0,l.useState)({from:"",to:""}),j=e=>{g((s=>({...s,[e.target.name]:+e.target.value})))};(0,l.useEffect)((()=>{m.from&&m.to&&u(+m.to+1-+m.from)}),[m]);return(0,f.jsx)(_.Z,{onClose:s,children:(0,f.jsxs)("div",{className:h.Z.seating_modal,children:[(0,f.jsxs)("section",{className:h.Z.seating_modal_title_left,children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:s,alt:""}),(0,f.jsx)("h6",{children:n("select_exam")})]}),(0,f.jsx)(c.Z,{customStyle:{width:"100%",marginBottom:"1rem"}}),(0,f.jsx)(x.Z,{examDetail:t,viewAs:"ADD_SEATING",studentCount:r}),(0,f.jsx)(v.Z,{labelText:n("student_from"),placeholder:n("student_from_placeholder"),name:"from",type:"number",errorShow:d.from,onChange:j,value:m.from}),(0,f.jsx)(v.Z,{labelText:n("student_to"),placeholder:n("student_to_placeholder"),name:"to",type:"number",errorShow:d.to,onChange:j,value:m.to}),d.greater_value&&(0,f.jsx)("span",{style:{color:"red",marginLeft:"15px"},children:"* Form field is less than To field"}),(0,f.jsx)("button",{className:h.Z.select_exam_btn,title:"Add",style:{justifyContent:"center"},onClick:()=>{const e=(e=>{const s={};for(let t in e)e[t]||(s[t]="".concat(t," is required!"));return e.from<e.to||(s.greater_value="form is less than to"),s})(m);let s=!1;for(let t in e)if(t){s=!0;break}var l,a,n,d,c,r,u,v,_,h,x,f,g,j,p,b;s?o(e):i({...m,subjectId:null===t||void 0===t||null===(l=t.currentSubject)||void 0===l||null===(a=l.subject)||void 0===a?void 0:a.subjectId,subjectName:null===t||void 0===t||null===(n=t.currentSubject)||void 0===n||null===(d=n.subject)||void 0===d?void 0:d.subjectName,totalMarks:null===t||void 0===t||null===(c=t.currentSubject)||void 0===c||null===(r=c.subject)||void 0===r?void 0:r.totalMarks,date:null===t||void 0===t||null===(u=t.currentSubject)||void 0===u||null===(v=u.subject)||void 0===v?void 0:v.date,startTime:null===t||void 0===t||null===(_=t.currentSubject)||void 0===_||null===(h=_.subject)||void 0===h?void 0:h.startTime,endTime:null===t||void 0===t||null===(x=t.currentSubject)||void 0===x||null===(f=x.subject)||void 0===f?void 0:f.endTime,duration:"",subjectMasterId:null===t||void 0===t||null===(g=t.currentSubject)||void 0===g||null===(j=g.subject)||void 0===j?void 0:j.subjectMasterId,paperId:null===t||void 0===t||null===(p=t.currentSubject)||void 0===p||null===(b=p.subject)||void 0===b?void 0:b._id})},children:n("add")})]})})};var j=t(40366);const p=e=>{var s,t,d;let{onClose:o,onCurrentSubject:r}=e;const{t:u}=(0,a.$G)(),[v,m]=l.useState([]),[x,g]=(0,l.useState)(""),[p,b]=l.useState(!0),S=(0,i.TH)(),{departmentExamDetail:N,departmentExamDetailRefetch:k}=(0,n.il)({eid:null===(s=S.state)||void 0===s?void 0:s.examId,skip:!(null!==(t=S.state)&&void 0!==t&&t.examId)});(0,l.useEffect)((()=>{var e;null!==(e=S.state)&&void 0!==e&&e.examId&&k()}),[null===(d=S.state)||void 0===d?void 0:d.examId]),(0,l.useEffect)((()=>{var e,s;null!==N&&void 0!==N&&N.oneExamDetail?(m(null!==(s=null===N||void 0===N?void 0:N.oneExamDetail)&&void 0!==s?s:[]),b(!1)):0===(null===N||void 0===N||null===(e=N.oneExamDetail)||void 0===e?void 0:e.length)&&b(!1)}),[null===N||void 0===N?void 0:N.oneExamDetail]);return(0,f.jsx)(_.Z,{onClose:o,children:(0,f.jsxs)("div",{className:h.Z.seating_modal,children:[(0,f.jsxs)("section",{className:h.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:o,alt:""}),(0,f.jsx)("h6",{children:u("select_scheduled_exam")})]}),(0,f.jsx)(c.Z,{customStyle:{width:"100%",marginBottom:"1rem"}}),(0,f.jsx)("div",{className:h.Z.search_container,style:{marginBottom:"0.5rem"},children:(0,f.jsxs)("div",{className:h.Z.search_container_input,style:{width:"100%"},children:[(0,f.jsx)("img",{className:h.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,f.jsx)("input",{type:"text",placeholder:u("search-label"),style:{width:"100%"},onChange:e=>{g(e.target.value)}})]})}),null===v||void 0===v?void 0:v.map((e=>{var s;return null===e||void 0===e||null===(s=e.subject)||void 0===s?void 0:s.map((s=>{var t,l;return x?null!==s&&void 0!==s&&null!==(t=s.subjectName)&&void 0!==t&&null!==(l=t.toLowerCase())&&void 0!==l&&l.includes(null===x||void 0===x?void 0:x.toLowerCase())?(0,f.jsx)(j.Z,{classMaster:null===e||void 0===e?void 0:e.className,subject:s,customCardStyle:{width:"100%%",cursor:"pointer"},viewAs:"SEATING",onCurrentSubject:r},null===s||void 0===s?void 0:s._id):"":(0,f.jsx)(j.Z,{classMaster:null===e||void 0===e?void 0:e.className,subject:s,customCardStyle:{width:"100%%",cursor:"pointer"},viewAs:"SEATING",onCurrentSubject:r},null===s||void 0===s?void 0:s._id)}))}))]})})};var b=t(23441),S=t(763),N=t(56206),k=t(11105);const Z=e=>{let{onClose:s,examId:t,onSelect:i}=e;const{t:d}=(0,a.$G)(),[o,r]=(0,b.YD)(),[u,v]=(0,l.useState)(1),[m,x]=(0,l.useState)(!0),[g,j]=(0,l.useState)(!0),[p,Z]=(0,l.useState)([]),[y,I]=(0,l.useState)(""),{getClassListExam:C,getClassListExamRefetch:E}=(0,n.hw)({data:{eid:t,page:u,limit:10,search:y},skip:!t});(0,l.useEffect)((()=>{t&&(j(!0),E())}),[t,u,y,E]),(0,l.useEffect)((()=>{r&&m&&v((e=>e+1))}),[r,m]),(0,l.useEffect)((()=>{var e,s;y?(Z(null===C||void 0===C?void 0:C.all_classes),j(!1)):null!==C&&void 0!==C&&C.all_classes?(Z((e=>{var s,t;return null===(s=[...new Set(null===(t=[...e,...null===C||void 0===C?void 0:C.all_classes])||void 0===t?void 0:t.map(JSON.stringify))])||void 0===s?void 0:s.map(JSON.parse)})),j(!1)):0===(null===C||void 0===C||null===(s=C.all_classes)||void 0===s?void 0:s.length)&&j(!1);10===(null===C||void 0===C||null===(e=C.all_classes)||void 0===e?void 0:e.length)?x(!0):x(!1)}),[null===C||void 0===C?void 0:C.all_classes]);const w=(0,l.useCallback)((0,S.debounce)((e=>I(e)),500),[]);return(0,f.jsx)(_.Z,{onClose:s,children:(0,f.jsxs)("div",{className:h.Z.seating_modal,children:[(0,f.jsxs)("section",{className:h.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:s,alt:""}),(0,f.jsx)("h6",{children:d("select_class")})]}),(0,f.jsx)(c.Z,{customStyle:{width:"100%",marginBottom:"1rem"}}),(0,f.jsx)("div",{className:h.Z.search_container,style:{marginBottom:"0.5rem"},children:(0,f.jsxs)("div",{className:h.Z.search_container_input,style:{width:"100%"},children:[(0,f.jsx)("img",{className:h.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,f.jsx)("input",{type:"text",placeholder:d("search-label"),style:{width:"100%"},onChange:e=>{w(e.target.value)}})]})}),null===p||void 0===p?void 0:p.map(((e,s)=>(null===p||void 0===p?void 0:p.length)===s+1?(0,f.jsx)("div",{ref:o,children:(0,f.jsx)(N.Z,{cls:e,onSelect:i})},null===e||void 0===e?void 0:e._id):(0,f.jsx)(N.Z,{cls:e,onSelect:i},null===e||void 0===e?void 0:e._id))),g&&(0,f.jsx)(k.Z,{})]})})};var y=t(98734);const I=e=>{var s,t,i,d,o,j,b,S,N,k,I,C,E,w,T;let{onClose:A,instituteId:M,examId:D,examName:O,onRefetch:L,said:P,onEdit:R,openAs:F,viewAs:G}=e;const{t:B}=(0,a.$G)(),[q,Y]=(0,l.useState)(""),[$,U]=(0,l.useState)(""),[H,V]=(0,l.useState)(""),[J,W]=(0,l.useState)(""),[X,K]=(0,l.useState)({seat_block_name:"EDIT"===F?null===P||void 0===P?void 0:P.seat_block_name:"",seat_block_class:"EDIT"===F?null===P||void 0===P||null===(s=P.seat_block_class)||void 0===s?void 0:s._id:"",seat_valid_staff:"EDIT"===F?null===P||void 0===P?void 0:P.seat_valid_staff:"",seat_block_staff:"EDIT"===F?null===P||void 0===P||null===(t=P.seat_block_staff)||void 0===t?void 0:t._id:"",seat_valid_staff_name:"EDIT"===F?null===P||void 0===P?void 0:P.seat_valid_staff_name:"",papers:"EDIT"===F?null===P||void 0===P?void 0:P.seat_exam_paper_array:[]}),[z,Q]=(0,l.useState)([]),[ee,se]=(0,l.useState)(""),[te,le]=(0,l.useState)(!1),[ae]=(0,n.ig)(),[ie]=(0,n.y6)();(0,l.useEffect)((()=>{var e,s;"EDIT"===F&&(K({seat_block_name:"EDIT"===F?null===P||void 0===P?void 0:P.seat_block_name:"",seat_block_class:"EDIT"===F?null===P||void 0===P||null===(e=P.seat_block_class)||void 0===e?void 0:e._id:"",seat_valid_staff:"EDIT"===F?null===P||void 0===P?void 0:P.seat_valid_staff:"",seat_block_staff:"EDIT"===F?null===P||void 0===P||null===(s=P.seat_block_staff)||void 0===s?void 0:s._id:"",seat_valid_staff_name:"EDIT"===F?null===P||void 0===P?void 0:P.seat_valid_staff_name:"",papers:null===P||void 0===P?void 0:P.seat_exam_paper_array}),Y(null===P||void 0===P?void 0:P.seat_block_staff),U(null===P||void 0===P?void 0:P.seat_block_class))}),[F]);const ne=e=>{"EDIT"===F&&"SCHEDULE_EXAM_OPEN"!==e&&"SCHEDULE_OPEN"!==e||W(e)},de=()=>{W("")},oe=e=>{K((s=>({...s,[e.target.name]:e.target.value})))};return(0,f.jsxs)(f.Fragment,{children:[""===J&&(0,f.jsxs)(_.Z,{onClose:A,children:[(0,f.jsxs)("div",{className:h.Z.seating_modal,children:[(0,f.jsxs)("section",{className:h.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:A,alt:""}),(0,f.jsx)("h6",{children:B("add_block_for_seating_arrragements")}),(0,f.jsx)("button",{className:h.Z.select_select_btn,title:"Add seating arrangements",onClick:()=>{const e=(e=>{const s={};for(let l in e)if("seat_block_staff"===l)"Staff"===e.seat_valid_staff&&(e[l]||(s.seat_block_staff="seat_block_staff is required!"));else if("seat_valid_staff_name"===l)"External"===e.seat_valid_staff&&(e[l]||(s.seat_valid_staff_name="seat_valid_staff_name is required!"));else if("papers"===l){var t;null!==(t=e[l])&&void 0!==t&&t.length||(s.papers="papers is required!")}else e[l]||(s[l]="".concat(l," is required!"));return s})(X);let s=!1;for(let t in e)if(t){s=!0;break}s?V(e):"EDIT"===F?R(X,z):(le((e=>!e)),"BACKLOG"===G?ie({eid:D,addSeating:X}).then((()=>{L(),A(),le((e=>!e))})).catch({}):ae({eid:D,addSeating:X}).then((()=>{L(),A(),le((e=>!e))})).catch({}))},children:B("EDIT"===F?"update":"Add")})]}),(0,f.jsx)(c.Z,{customStyle:{width:"100%"}}),(0,f.jsx)(v.Z,{labelText:B("block_hall_name"),placeholder:B("block_hall_name_placeholder"),name:"seat_block_name",value:null===X||void 0===X?void 0:X.seat_block_name,type:"text",onChange:oe,errorShow:H.seat_block_name}),(0,f.jsxs)("div",{className:h.Z.person_container,onClick:()=>ne("CLASS_OPEN"),children:[(0,f.jsx)("img",{src:null!==$&&void 0!==$&&null!==(i=$.classTeacher)&&void 0!==i&&i.staffProfilePhoto?"".concat(m.yI,"/").concat(null===$||void 0===$?void 0:$.classTeacher.staffProfilePhoto):"/images/user-icon.svg",alt:"avatar"}),(0,f.jsxs)("div",{className:h.Z.person_container_text,children:[(0,f.jsx)("h6",{children:$?"".concat(null!==(d=null===$||void 0===$?void 0:$.className)&&void 0!==d?d:""," - ").concat(null!==(o=null===$||void 0===$?void 0:$.classTitle)&&void 0!==o?o:""):B("select_original_class_of_block")}),(0,f.jsxs)("p",{children:[null!==$&&void 0!==$&&$.classTeacher?"".concat(null!==(j=null===$||void 0===$||null===(b=$.classTeacher)||void 0===b?void 0:b.staffFirstName)&&void 0!==j?j:""," ").concat(null!==(S=null===$||void 0===$||null===(N=$.classTeacher)||void 0===N?void 0:N.staffMiddleName)&&void 0!==S?S:""," ").concat(null!==(k=null===$||void 0===$||null===(I=$.classTeacher)||void 0===I?void 0:I.staffLastName)&&void 0!==k?k:""):B("select_from_list"),H.seat_block_class&&(0,f.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",B("form_require_label")]})]})]})]}),(0,f.jsx)(u.Z,{selectLabel:B("is_supervisor_external_or_staff"),selectedValue:B("select_supervisor_type"),options:["External","Staff"],onClick:e=>{K((s=>({...s,seat_valid_staff:e})))},errorShow:H.seat_valid_staff,value:X.seat_valid_staff,openAs:"EDIT"===F?"REFUND":""}),"Staff"===X.seat_valid_staff?(0,f.jsxs)("div",{className:h.Z.person_container,onClick:()=>ne("SUPERVISOR_OPEN"),children:[(0,f.jsx)("img",{src:null!==q&&void 0!==q&&q.staffProfilePhoto?"".concat(m.yI,"/").concat(q.staffProfilePhoto):"/images/user-icon.svg",alt:"avatar"}),(0,f.jsxs)("div",{className:h.Z.person_container_text,children:[(0,f.jsx)("h6",{children:q?"".concat(null!==(C=null===q||void 0===q?void 0:q.staffFirstName)&&void 0!==C?C:""," ").concat(null!==(E=null===q||void 0===q?void 0:q.staffMiddleName)&&void 0!==E?E:""," ").concat(null!==(w=null===q||void 0===q?void 0:q.staffLastName)&&void 0!==w?w:""):B("assign_supervisor")}),(0,f.jsxs)("p",{children:[B("select_from_list")," ",H.seat_block_staff&&(0,f.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",B("form_require_label")]})]})]})]}):(0,f.jsx)(v.Z,{labelText:B("external_supervisor"),placeholder:B("external_supervisor_placeholder"),name:"seat_valid_staff_name",value:null===X||void 0===X?void 0:X.seat_valid_staff_name,type:"text",onChange:oe,errorShow:H.seat_valid_staff_name}),(0,f.jsxs)("button",{className:h.Z.select_schedule_exam_btn,title:"Schedule Exam",onClick:()=>ne("SCHEDULE_EXAM_OPEN"),children:[(0,f.jsx)("div",{children:B("select_schedule_exam")}),(0,f.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),H.papers&&(0,f.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* atleast one sechedule exam ",B("form_require_label")]}),null===(T=X.papers)||void 0===T?void 0:T.map((e=>(0,f.jsx)(x.Z,{examDetail:{...e,examName:O,selectClass:"".concat(null===$||void 0===$?void 0:$.className,", ").concat(null===$||void 0===$?void 0:$.classTitle)},viewAs:"VIEW_SEATING"}))),null===z||void 0===z?void 0:z.map((e=>(0,f.jsx)(x.Z,{examDetail:{...e,examName:O,selectClass:"".concat(null===$||void 0===$?void 0:$.className,", ").concat(null===$||void 0===$?void 0:$.classTitle)},viewAs:"VIEW_SEATING"})))]}),te&&(0,f.jsx)(y.Z,{})]}),"CLASS_OPEN"===J&&(0,f.jsx)(Z,{examId:D,onClose:de,onSelect:e=>{K((s=>({...s,seat_block_class:null===e||void 0===e?void 0:e._id}))),U(e),de()}}),"SCHEDULE_EXAM_OPEN"===J&&(0,f.jsx)(p,{onClose:de,onCurrentSubject:e=>{se(e),W("SCHEDULE_OPEN")}}),"SCHEDULE_OPEN"===J&&(0,f.jsx)(g,{onClose:de,currentSubject:{currentSubject:ee,selectClass:null===$||void 0===$?void 0:$.classTitle,examName:O},onAddSubjectSeating:e=>{"EDIT"===F?(Q((s=>[...s,e])),de()):(K((s=>({...s,papers:[...s.papers,e]}))),de())}}),"SUPERVISOR_OPEN"===J&&(0,f.jsx)(r.default,{assignHead:"SUPERVISOR_OPEN"===J,headSelect:e=>{Y(e),de(),K((s=>({...s,seat_block_staff:null===e||void 0===e?void 0:e._id})))},title:B("assign_supervisor"),onClose:de,instituteId:M,viewAs:"ADMISSION_ADMIN"})]})};var C=t(84489),E=t(12072),w=t(87049);const T=e=>{let{onClose:s,onRefetch:t,examId:a,said:i}=e;const[d,o]=(0,l.useState)(!1),[c,r]=(0,l.useState)(!1),[u]=(0,n.YE)(),[v]=(0,n.mX)();return(0,f.jsx)(f.Fragment,{children:c?(0,f.jsx)(I,{said:i,onEdit:(e,l)=>{r(!1),o((e=>!e)),v({eid:a,said:null===i||void 0===i?void 0:i._id,updateSeating:{seat_block_name:null===e||void 0===e?void 0:e.seat_block_name,seat_block_class:null===e||void 0===e?void 0:e.seat_block_class,seat_valid_staff:null===e||void 0===e?void 0:e.seat_valid_staff,seat_block_staff:null===e||void 0===e?void 0:e.seat_block_staff,seat_valid_staff_name:null===e||void 0===e?void 0:e.seat_valid_staff_name,papers:l}}).then((()=>{t(),o((e=>!e)),s()})).catch({})},openAs:"EDIT",onClose:()=>r(!1)}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(C.Z,{onClose:s}),(0,f.jsxs)(E.Z,{customStyle:{zIndex:"1200"},children:[(0,f.jsxs)("div",{className:w.Z.edit_modal_container,style:{width:"200px"},children:[(0,f.jsx)("h6",{className:w.Z.edit,onClick:()=>r((e=>!e)),children:"Edit"}),(0,f.jsx)("h6",{className:w.Z.remove,onClick:()=>{o((e=>!e)),u({eid:a,said:null===i||void 0===i?void 0:i._id}).then((()=>{t(),s(),o((e=>!e))})).catch({})},children:"Delete"})]}),d&&(0,f.jsx)(y.Z,{})]})]})})},A=e=>{var s,t,i,n,d,o,c,r,u,v;let{seating:m,examName:_,examId:g,onRefetch:j}=e;const{t:p}=(0,a.$G)(),[b,S]=(0,l.useState)("");return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:h.Z.seating_block_container,onClick:()=>S(m),children:[(0,f.jsxs)("div",{className:h.Z.seating_block_container_top,children:[(0,f.jsx)("h6",{children:null!==(s=null===m||void 0===m?void 0:m.seat_block_name)&&void 0!==s?s:""}),(0,f.jsx)("p",{children:"".concat(null===m||void 0===m||null===(t=m.seat_block_class)||void 0===t?void 0:t.className," - ").concat(null===m||void 0===m||null===(i=m.seat_block_class)||void 0===i?void 0:i.classTitle)}),(0,f.jsxs)("p",{children:[p("supervisor"),":"," ",null!==m&&void 0!==m&&m.seat_valid_staff_name?null===m||void 0===m?void 0:m.seat_valid_staff_name:"".concat(null!==(n=null===m||void 0===m||null===(d=m.seat_block_staff)||void 0===d?void 0:d.staffFirstName)&&void 0!==n?n:""," ").concat(null!==(o=null===m||void 0===m||null===(c=m.seat_block_staff)||void 0===c?void 0:c.staffMiddleName)&&void 0!==o?o:""," ").concat(null!==(r=null===m||void 0===m||null===(u=m.seat_block_staff)||void 0===u?void 0:u.staffLastName)&&void 0!==r?r:"")]})]}),null===m||void 0===m||null===(v=m.seat_exam_paper_array)||void 0===v?void 0:v.map((e=>{var s;return(0,f.jsx)(x.Z,{examDetail:{...e,examName:_,selectClass:null===m||void 0===m||null===(s=m.seat_block_class)||void 0===s?void 0:s.classTitle},viewAs:"ARANGE_SEATING"},null===e||void 0===e?void 0:e._id)})),(0,f.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",className:h.Z.menu_icon,title:"Menu"})]}),b&&(0,f.jsx)(T,{said:b,examName:_,examId:g,onRefetch:j,onClose:()=>S("")})]})};var M=t(12923);const D=e=>{let{instituteId:s,onBack:t,onGrabStaff:i,staff_list:n}=e;const{t:d}=(0,a.$G)(),[o,r]=(0,l.useState)(1),[u,v]=(0,l.useState)(!0),[_,x]=(0,b.YD)(),[g,j]=(0,l.useState)(""),[p,N]=l.useState([]),[Z,y]=(0,l.useState)(!0),[I,C]=(0,l.useState)(null!==n&&void 0!==n&&n.length?[...n]:[]),[E,w]=(0,l.useState)(!1),{assignSearchStaff:T,assignSearchStaffRefetch:A}=(0,M.vI)({skip:!s,search:{search:g,page:o,id:s,limit:100}});l.useEffect((()=>{null!==n&&void 0!==n&&n.length&&C(null!==n&&void 0!==n&&n.length?[...n]:[])}),[n]),l.useEffect((()=>{s&&A()}),[s,g,A,o]),(0,l.useEffect)((()=>{x&&u&&r((e=>e+1))}),[x,u]),l.useEffect((()=>{var e;null!==T&&void 0!==T&&T.staff&&(g?(N(null===T||void 0===T?void 0:T.staff),y(!1)):null!==T&&void 0!==T&&T.staff?(N((e=>{var s,t;return null===(s=[...new Set(null===(t=[...e,...null===T||void 0===T?void 0:T.staff])||void 0===t?void 0:t.map(JSON.stringify))])||void 0===s?void 0:s.map(JSON.parse)})),y(!1)):0===(null===T||void 0===T||null===(e=T.staff)||void 0===e?void 0:e.length)&&y(!1));10===(null===T||void 0===T?void 0:T.staff.length)?v(!0):v(!1)}),[null===T||void 0===T?void 0:T.staff]);const D=(0,l.useCallback)((0,S.debounce)((e=>j(e)),500),[]),O=e=>{null!==I&&void 0!==I&&I.includes(e)?C((s=>null===s||void 0===s?void 0:s.filter((s=>s!==e)))):C((s=>[...s,e]))};return(0,f.jsxs)("div",{className:h.Z.seating_modal,children:[(0,f.jsxs)("section",{className:h.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:t,alt:""}),(0,f.jsx)("h6",{children:d("select_availbale_staff_for_supervision")}),(0,f.jsx)("button",{className:h.Z.next_btn,title:"Next",onClick:()=>{i(I)},children:d("next")})]}),(0,f.jsx)(c.Z,{customStyle:{width:"100%"}}),(0,f.jsxs)("div",{className:h.Z.select_mutliple,children:[(0,f.jsxs)("p",{children:[null!==I&&void 0!==I&&I.length?null===I||void 0===I?void 0:I.length:""," "," ",d("selected")]}),E?(0,f.jsx)("button",{onClick:()=>{C([]),w(!1)},children:d("remove_all")}):(0,f.jsx)("button",{onClick:()=>{let e=[];for(let s of p)e.push(null===s||void 0===s?void 0:s._id);C(e),w(!0)},children:d("select_all")})]}),(0,f.jsx)("div",{className:h.Z.search_container,style:{marginBottom:"0.5rem"},children:(0,f.jsxs)("div",{className:h.Z.search_container_input,style:{width:"100%"},children:[(0,f.jsx)("img",{className:h.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,f.jsx)("input",{type:"text",placeholder:d("search-label"),style:{width:"100%"},onChange:e=>{D(e.target.value)}})]})}),null===p||void 0===p?void 0:p.map(((e,s)=>{var t,l,a,i,n,o;return(null===p||void 0===p?void 0:p.length)===s+1?(0,f.jsxs)("div",{className:h.Z.person_container,ref:_,onClick:()=>O(null===e||void 0===e?void 0:e._id),children:[(0,f.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(m.yI,"/").concat(e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,f.jsxs)("div",{className:h.Z.with_check_container,children:[(0,f.jsxs)("div",{className:h.Z.person_container_text,children:[(0,f.jsx)("h6",{children:"".concat(null!==(t=e.staffFirstName)&&void 0!==t?t:""," ").concat(null!==(l=null===e||void 0===e?void 0:e.staffMiddleName)&&void 0!==l?l:""," ").concat(null!==(a=e.staffLastName)&&void 0!==a?a:"")}),(0,f.jsxs)("p",{children:[d("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]}),null!==I&&void 0!==I&&I.includes(null===e||void 0===e?void 0:e._id)?(0,f.jsx)("img",{src:"/images/department/blue-check-icon.svg",alt:"checkbox icon",title:"Select staff"}):(0,f.jsx)("img",{src:"/images/department/uncheck-icon.svg",alt:"checkbox icon",title:"Unselect staff"})]})]},e._id):(0,f.jsxs)("div",{className:h.Z.person_container,onClick:()=>O(null===e||void 0===e?void 0:e._id),children:[(0,f.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(m.yI,"/").concat(e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,f.jsxs)("div",{className:h.Z.with_check_container,children:[(0,f.jsxs)("div",{className:h.Z.person_container_text,children:[(0,f.jsx)("h6",{children:"".concat(null!==(i=e.staffFirstName)&&void 0!==i?i:""," ").concat(null!==(n=null===e||void 0===e?void 0:e.staffMiddleName)&&void 0!==n?n:""," ").concat(null!==(o=e.staffLastName)&&void 0!==o?o:"")}),(0,f.jsxs)("p",{children:[d("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]}),null!==I&&void 0!==I&&I.includes(null===e||void 0===e?void 0:e._id)?(0,f.jsx)("img",{src:"/images/department/blue-check-icon.svg",alt:"checkbox icon",title:"Select staff"}):(0,f.jsx)("img",{src:"/images/department/uncheck-icon.svg",alt:"checkbox icon",title:"Unselect staff"})]})]},e._id)})),Z&&(0,f.jsx)(k.Z,{})]})},O=e=>{let{examId:s,onBack:t,onGrabClass:i,class_list:d,clsList:o,setStudentCount:r}=e;const{t:u}=(0,a.$G)(),[v,m]=(0,b.YD)(),[_,x]=(0,l.useState)(1),[g,j]=(0,l.useState)(!0),[p,N]=(0,l.useState)(!0),[Z,y]=(0,l.useState)([]),[I,C]=(0,l.useState)(""),[E,w]=(0,l.useState)(null!==d&&void 0!==d&&d.length?[...d]:[]),[T,A]=(0,l.useState)(null!==o&&void 0!==o?o:[]),[M,D]=(0,l.useState)(!1),{getClassListExam:O,getClassListExamRefetch:L}=(0,n.hw)({data:{eid:s,page:_,limit:10,search:I},skip:!s});l.useEffect((()=>{null!==d&&void 0!==d&&d.length&&w(null!==d&&void 0!==d&&d.length?[...d]:[]),o&&A(o)}),[d,o]),(0,l.useEffect)((()=>{s&&(N(!0),L())}),[s,_,I,L]),(0,l.useEffect)((()=>{m&&g&&x((e=>e+1))}),[m,g]),(0,l.useEffect)((()=>{var e,s;I?(y(null===O||void 0===O?void 0:O.all_classes),N(!1)):null!==O&&void 0!==O&&O.all_classes?(y((e=>{var s,t;return null===(s=[...new Set(null===(t=[...e,...null===O||void 0===O?void 0:O.all_classes])||void 0===t?void 0:t.map(JSON.stringify))])||void 0===s?void 0:s.map(JSON.parse)})),N(!1)):0===(null===O||void 0===O||null===(s=O.all_classes)||void 0===s?void 0:s.length)&&N(!1);10===(null===O||void 0===O||null===(e=O.all_classes)||void 0===e?void 0:e.length)?j(!0):j(!1)}),[null===O||void 0===O?void 0:O.all_classes]);const P=(0,l.useCallback)((0,S.debounce)((e=>C(e)),500),[]),R=e=>{null!==E&&void 0!==E&&E.includes(null===e||void 0===e?void 0:e._id)?(w((s=>null===s||void 0===s?void 0:s.filter((s=>s!==(null===e||void 0===e?void 0:e._id))))),A((s=>null===s||void 0===s?void 0:s.filter((s=>(null===s||void 0===s?void 0:s._id)!==(null===e||void 0===e?void 0:e._id))))),r((s=>s-(null===e||void 0===e?void 0:e.studentCount)))):(w((s=>[...s,null===e||void 0===e?void 0:e._id])),A((s=>[...s,e])),r((s=>s+(null===e||void 0===e?void 0:e.studentCount))))};return(0,f.jsxs)("div",{className:h.Z.seating_modal,children:[(0,f.jsxs)("section",{className:h.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:t,alt:""}),(0,f.jsx)("h6",{children:u("select_availbale_classroom")}),(0,f.jsx)("button",{className:h.Z.next_btn,title:"Next",onClick:()=>{i(E,T)},children:u("next")})]}),(0,f.jsx)(c.Z,{customStyle:{width:"100%"}}),(0,f.jsxs)("div",{className:h.Z.select_mutliple,children:[(0,f.jsxs)("p",{children:[null!==E&&void 0!==E&&E.length?null===E||void 0===E?void 0:E.length:""," "," ",u("selected")]}),M?(0,f.jsx)("button",{onClick:()=>{w([]),A([]),D(!1),r(0)},children:u("remove_all")}):(0,f.jsx)("button",{onClick:()=>{let e=[],s=[],t=0;for(let l of Z)e.push(null===l||void 0===l?void 0:l._id),s.push(l),t+=l.studentCount;w(e),A(s),r(t),D(!0)},children:u("select_all")})]}),(0,f.jsx)("div",{className:h.Z.search_container,style:{marginBottom:"0.5rem"},children:(0,f.jsxs)("div",{className:h.Z.search_container_input,style:{width:"100%"},children:[(0,f.jsx)("img",{className:h.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,f.jsx)("input",{type:"text",placeholder:u("search-label"),style:{width:"100%"},onChange:e=>{P(e.target.value)}})]})}),null===Z||void 0===Z?void 0:Z.map(((e,s)=>{var t,l,a,i;return(null===Z||void 0===Z?void 0:Z.length)===s+1?(0,f.jsxs)("div",{className:h.Z.classes_main_container,ref:v,onClick:()=>R(e),children:[(0,f.jsx)("img",{src:"/images/master-24-grey-icon.svg",alt:"classes icon"}),(0,f.jsxs)("div",{className:h.Z.with_check_container,children:[(0,f.jsx)("div",{className:h.Z.person_container_text,children:(0,f.jsx)("h6",{children:"".concat(null!==(t=null===e||void 0===e?void 0:e.className)&&void 0!==t?t:""," ").concat(null!==(l=null===e||void 0===e?void 0:e.classTitle)&&void 0!==l?l:"")})}),(0,f.jsx)("div",{className:h.Z.classes_count_container,children:null!==E&&void 0!==E&&E.includes(null===e||void 0===e?void 0:e._id)?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h6",{children:(null===E||void 0===E?void 0:E.indexOf(null===e||void 0===e?void 0:e._id))+1}),(0,f.jsx)("img",{src:"/images/department/blue-check-icon.svg",alt:"checkbox icon",title:"Select staff"})]}):(0,f.jsx)("img",{src:"/images/department/uncheck-icon.svg",alt:"checkbox icon",title:"Unselect staff"})})]})]},e._id):(0,f.jsxs)("div",{className:h.Z.classes_main_container,onClick:()=>R(e),children:[(0,f.jsx)("img",{src:"/images/master-24-grey-icon.svg",alt:"classes icon"}),(0,f.jsxs)("div",{className:h.Z.with_check_container,children:[(0,f.jsx)("div",{className:h.Z.person_container_text,children:(0,f.jsx)("h6",{children:"".concat(null!==(a=null===e||void 0===e?void 0:e.className)&&void 0!==a?a:""," ").concat(null!==(i=null===e||void 0===e?void 0:e.classTitle)&&void 0!==i?i:"")})}),(0,f.jsx)("div",{className:h.Z.classes_count_container,children:null!==E&&void 0!==E&&E.includes(null===e||void 0===e?void 0:e._id)?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h6",{children:(null===E||void 0===E?void 0:E.indexOf(null===e||void 0===e?void 0:e._id))+1}),(0,f.jsx)("img",{src:"/images/department/blue-check-icon.svg",alt:"checkbox icon",title:"Select staff"})]}):(0,f.jsx)("img",{src:"/images/department/uncheck-icon.svg",alt:"checkbox icon",title:"Unselect staff"})})]})]},e._id)})),p&&(0,f.jsx)(k.Z,{})]})},L=e=>{let{onBack:s,onGrabRearrangeClass:t,clsList:i,class_list:n}=e;const{t:d}=(0,a.$G)(),[o,r]=(0,l.useState)(null!==n&&void 0!==n&&n.length?[...n]:[]),[u,v]=(0,l.useState)(null!==i&&void 0!==i?i:[]),m=(0,l.useRef)(),_=(0,l.useRef)();l.useEffect((()=>{null!==n&&void 0!==n&&n.length&&r(null!==n&&void 0!==n&&n.length?[...n]:[]),i&&v(i)}),[n,i]);const x=e=>{const s=[...o],t=s[m.current];s.splice(m.current,1),s.splice(_.current,0,t);const l=[...u],a=l[m.current];l.splice(m.current,1),l.splice(_.current,0,a),m.current=null,_.current=null,v(l),r(s)};return(0,f.jsxs)("div",{className:h.Z.seating_modal,children:[(0,f.jsxs)("section",{className:h.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:s,alt:""}),(0,f.jsx)("h6",{children:d("rearranges_exam_halls")}),(0,f.jsx)("button",{className:h.Z.next_btn,title:"Next",onClick:()=>{t(o,u)},children:d("next")})]}),(0,f.jsx)(c.Z,{customStyle:{width:"100%"}}),null===u||void 0===u?void 0:u.map(((e,s)=>{var t,l;return(0,f.jsxs)("div",{className:h.Z.classes_main_container,draggable:!0,onDragStart:e=>{return t=s,void(m.current=t);var t},onDragEnter:e=>{return t=s,void(_.current=t);var t},onDragEnd:x,children:[(0,f.jsx)("img",{src:"/images/master-24-grey-icon.svg",alt:"classes icon"}),(0,f.jsxs)("div",{className:h.Z.with_check_container,children:[(0,f.jsx)("div",{className:h.Z.person_container_text,children:(0,f.jsx)("h6",{children:"".concat(null!==(t=null===e||void 0===e?void 0:e.className)&&void 0!==t?t:""," ").concat(null!==(l=null===e||void 0===e?void 0:e.classTitle)&&void 0!==l?l:"")})}),(0,f.jsxs)("div",{className:h.Z.classes_count_container,children:[(0,f.jsx)("h6",{children:(null===o||void 0===o?void 0:o.indexOf(null===e||void 0===e?void 0:e._id))+1}),(0,f.jsx)("img",{src:"/images/department/equal-rearrange-icon.svg",alt:"checkbox icon",title:"Select staff"})]})]})]},e._id)}))]})},P=e=>{let{customExamStyle:s,examName:t,total_staff:l,total_classroom:i,student_count:n}=e;const{t:d}=(0,a.$G)();return(0,f.jsxs)("div",{className:h.Z.seating_examination_container,style:s,children:[(0,f.jsx)("h6",{children:null!==t&&void 0!==t?t:""}),(0,f.jsxs)("p",{children:[d("total_staffs")," "," : "," ",null!==l&&void 0!==l?l:0]}),(0,f.jsxs)("p",{children:[d("total_classrooms")," ",null!==i&&void 0!==i?i:0]}),(0,f.jsxs)("p",{children:[d("total_students")," "," : "," ",null!==n&&void 0!==n?n:0]})]})},R=e=>{var s,t,i,n;let{onBack:d,automateState:o,onAddAutoMateSeating:r,studentCount:m,examName:_}=e;const{t:x}=(0,a.$G)(),[g,j]=(0,l.useState)(""),[p,b]=(0,l.useState)({hall_limit:"",sequence:""});return(0,f.jsxs)("div",{className:h.Z.seating_modal,children:[(0,f.jsxs)("section",{className:h.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:d,alt:""}),(0,f.jsx)("h6",{children:x("select_exams")})]}),(0,f.jsx)(c.Z,{customStyle:{width:"100%"}}),(0,f.jsx)(P,{examName:_,total_staff:null!==(s=null===o||void 0===o||null===(t=o.staff_list)||void 0===t?void 0:t.length)&&void 0!==s?s:0,total_classroom:null!==(i=null===o||void 0===o||null===(n=o.class_list)||void 0===n?void 0:n.length)&&void 0!==i?i:0,student_count:m}),(0,f.jsx)(v.Z,{labelText:x("enter_exam_hall_student"),placeholder:x("enter_exam_hall_student_placeholder"),name:"hall_limit",type:"number",errorShow:g.hall_limit,onChange:e=>{b((s=>({...s,hall_limit:+e.target.value})))},value:p.hall_limit}),(0,f.jsx)(u.Z,{selectLabel:x("type_of_seating"),selectedValue:x("type_of_seating_placeholder"),options:["One Student / Bench","Two Student / Bench"],value:p.sequence,onClick:e=>{b((s=>({...s,sequence:e})))},errorShow:g.sequence}),(0,f.jsx)("button",{className:h.Z.start_arrangement_btn,title:"Start Arrangement",onClick:()=>{const e=(e=>{const s={};for(let t in e)e[t]||(s[t]="".concat(t," is required!"));return s})(p);let s=!1;for(let t in e)if(t){s=!0;break}s?j(e):r(p)},children:x("start_arrangement")})]})},F=e=>{let{onClose:s,instituteId:t,examId:a,examName:i}=e;const[d,o]=(0,l.useState)(1),[c,r]=(0,l.useState)(!1),[u,v]=(0,l.useState)({staff_list:[],class_list:[]}),[m,h]=(0,l.useState)([]),[x,g]=(0,l.useState)(0),[j]=(0,n.Oq)();return(0,f.jsxs)(_.Z,{onClose:s,children:[1===d&&(0,f.jsx)(D,{instituteId:t,onGrabStaff:e=>{v((s=>({...s,staff_list:e}))),o(2)},staff_list:u.staff_list,onBack:s}),2===d&&(0,f.jsx)(O,{examId:a,onGrabClass:(e,s)=>{v((s=>({...s,class_list:e}))),h(s),o(3)},class_list:u.class_list,onBack:()=>o(1),clsList:m,setStudentCount:g}),3===d&&(0,f.jsx)(L,{onGrabRearrangeClass:(e,s)=>{v((s=>({...s,class_list:e}))),h(s),o(4)},class_list:u.class_list,onBack:()=>o(2),clsList:m}),4===d&&(0,f.jsx)(R,{automateState:u,onBack:()=>o(3),onAddAutoMateSeating:e=>{r((e=>!e)),j({eid:a,createAutomate:{...u,...e}}).then((()=>{r((e=>!e)),s()})).catch({})},examName:i,studentCount:x}),c&&(0,f.jsx)(y.Z,{})]})},G=e=>{var s,t,d,o,r,u,v,m,_,x,g;let{instituteId:j,viewAs:p}=e;const{t:S}=(0,a.$G)(),N=(0,i.TH)(),[Z,y]=(0,l.useState)(!1),[C,E]=(0,l.useState)(!1),[w,T]=(0,b.YD)(),[M,D]=(0,l.useState)(1),[O,L]=(0,l.useState)(!0),[P,R]=(0,l.useState)(!0),[G,B]=(0,l.useState)([]),[q,Y]=(0,l.useState)(!1),{getSeatingListExam:$,getSeatingListExamRefetch:U}=(0,n.XB)({data:{eid:null===(s=N.state)||void 0===s?void 0:s.examId,page:M,limit:10,search:""},skip:!(null!==(t=N.state)&&void 0!==t&&t.examId)});(0,l.useEffect)((()=>{var e;null!==(e=N.state)&&void 0!==e&&e.examId&&(R(!0),U())}),[null===(d=N.state)||void 0===d?void 0:d.examId,M,U]),(0,l.useEffect)((()=>{T&&O&&D((e=>e+1))}),[T,O]),(0,l.useEffect)((()=>{var e;null===(e=document.getElementById("scrollViewSeating"))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),[]),(0,l.useEffect)((()=>{var e,s;q?(B(null===$||void 0===$?void 0:$.all_seating),R(!1),Y(!1)):null!==$&&void 0!==$&&$.all_seating?(B((e=>{var s,t;return null===(s=[...new Set(null===(t=[...e,...null===$||void 0===$?void 0:$.all_seating])||void 0===t?void 0:t.map(JSON.stringify))])||void 0===s?void 0:s.map(JSON.parse)})),R(!1)):0===(null===$||void 0===$||null===(s=$.all_seating)||void 0===s?void 0:s.length)&&R(!1);10===(null===$||void 0===$||null===(e=$.all_seating)||void 0===e?void 0:e.length)?L(!0):L(!1)}),[null===$||void 0===$?void 0:$.all_seating]);const H=()=>{D(1),Y(!0),R(!0),U()},V=()=>{y((e=>!e))},J=()=>{E((e=>!e))};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:h.Z.with_search,id:"scrollViewSeating",children:[(0,f.jsx)("h6",{children:S("seating_arrangements")}),(0,f.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem"},children:[(0,f.jsx)("img",{src:"/images/department/seat-automate-icon.svg",alt:"back arrow",className:h.Z.add_plus_icon,onClick:J,title:"Automate seating arrangements"}),(0,f.jsx)("img",{src:"/images/add-plus-blue-icon.svg",alt:"back arrow",className:h.Z.add_plus_icon,onClick:V,title:"Add seating arrangements"})]})]}),(0,f.jsx)(c.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),null===G||void 0===G?void 0:G.map(((e,s)=>{var t,l,a,i,n,d,o,c;return(null===G||void 0===G?void 0:G.length)===s+1?(0,f.jsx)("div",{ref:w,children:(0,f.jsx)(A,{seating:e,examName:null!==(t=null===(l=N.state)||void 0===l?void 0:l.examName)&&void 0!==t?t:"",examId:null!==(a=null===(i=N.state)||void 0===i?void 0:i.examId)&&void 0!==a?a:"",onRefetch:H})},null===e||void 0===e?void 0:e._id):(0,f.jsx)(A,{seating:e,examName:null!==(n=null===(d=N.state)||void 0===d?void 0:d.examName)&&void 0!==n?n:"",examId:null!==(o=null===(c=N.state)||void 0===c?void 0:c.examId)&&void 0!==o?o:"",onRefetch:H},null===e||void 0===e?void 0:e._id)})),P&&(0,f.jsx)(k.Z,{}),Z&&(0,f.jsx)(I,{onClose:V,instituteId:j,examId:null!==(o=null===(r=N.state)||void 0===r?void 0:r.examId)&&void 0!==o?o:"",examName:null!==(u=null===(v=N.state)||void 0===v?void 0:v.examName)&&void 0!==u?u:"",onRefetch:H,viewAs:p}),C&&(0,f.jsx)(F,{onClose:J,instituteId:j,examId:null!==(m=null===(_=N.state)||void 0===_?void 0:_.examId)&&void 0!==m?m:"",examName:null!==(x=null===(g=N.state)||void 0===g?void 0:g.examName)&&void 0!==x?x:""})]})};var B=t(16796);const q=e=>{let{examSubject:s}=e;const{t:t}=(0,a.$G)(),[i,n]=(0,l.useState)(!0);return(0,l.useEffect)((()=>{null!==s&&void 0!==s&&s.length&&n(!1)}),[s]),(0,l.useEffect)((()=>{var e;null===(e=document.getElementById("scrollViewSubject"))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),[]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:h.Z.with_search,id:"scrollViewSubject",children:(0,f.jsx)("h6",{children:t("exam_schedule")})}),(0,f.jsx)(c.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),null===s||void 0===s?void 0:s.map((e=>{var s;return null===e||void 0===e||null===(s=e.subject)||void 0===s?void 0:s.map((s=>(0,f.jsx)(j.Z,{classMaster:null===e||void 0===e?void 0:e.className,subject:s,customCardStyle:{width:"49.5%"}},null===s||void 0===s?void 0:s._id)))})),i&&(0,f.jsx)(k.Z,{})]})},Y=e=>{var s,t,c,r,u,v,m,_,x,g,j,p,b,S,N,k,Z,I,C,E,w,T,A,M,D,O,L,P,R,F;let{instituteId:Y,viewAs:$}=e;const{t:U}=(0,a.$G)(),H=(0,i.TH)(),[V,J]=(0,l.useState)(!0),[W,X]=(0,l.useState)(!1),{departmentExamDetail:K,departmentExamDetailRefetch:z}=(0,n.il)({eid:null===(s=H.state)||void 0===s?void 0:s.examId,skip:!(null!==(t=H.state)&&void 0!==t&&t.examId)}),{sendExamNotifyToSubject:Q,sendExamNotifyToSubjectRefetch:ee}=(0,n.fb)({eid:null===(c=H.state)||void 0===c?void 0:c.examId,skip:V});(0,l.useEffect)((()=>{var e;null!==(e=H.state)&&void 0!==e&&e.examId&&z()}),[null===(r=H.state)||void 0===r?void 0:r.examId,z]),(0,l.useEffect)((()=>{null!==Q&&void 0!==Q&&Q.message&&"All designation of marks update is processing...\ud83d\ude0e"===Q.message&&X(!1)}),[null===Q||void 0===Q?void 0:Q.message]);return console.info("departmentExamDetail",K),(0,f.jsxs)("div",{className:h.Z.view_container,children:[("exam&n=detail"===(null===H||void 0===H||null===(u=H.search)||void 0===u?void 0:u.substring(3))||"department&n=exam&n=detail"===(null===H||void 0===H||null===(v=H.search)||void 0===v?void 0:v.substring(3))||"backlog&exam&detail"===(null===H||void 0===H||null===(m=H.search)||void 0===m?void 0:m.substring(3))||"department&n=backlog&exam&detail"===(null===H||void 0===H||null===(_=H.search)||void 0===_?void 0:_.substring(3)))&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h6",{className:h.Z.exam_detail_h6,children:U("exam_detail")}),"DEPARTMENT_BACKLOG"===$&&"Not Send"===(null===K||void 0===K||null===(x=K.exam)||void 0===x?void 0:x.is_backlog_notify)&&!(null!==Q&&void 0!==Q&&Q.message)&&(0,f.jsx)("div",{style:{position:"relative"},children:(0,f.jsx)("button",{className:h.Z.next_btn,onClick:()=>{X((e=>!e)),J(!1),ee()},style:{top:"-2rem",backgroundColor:"inherit"},title:"Send exam update notification",children:U("send_notification")})}),(0,f.jsxs)("section",{className:h.Z.exam_info_container,children:[(0,f.jsx)(d.Z,{labelText:"".concat(U("exam_name"),":"),value:null!==(g=null===K||void 0===K||null===(j=K.exam)||void 0===j?void 0:j.examName)&&void 0!==g?g:"",customStyleValue:{fontWeight:"500"}}),(0,f.jsx)(d.Z,{labelText:"".concat(U("exam_type"),":"),value:null!==(p=null===K||void 0===K||null===(b=K.exam)||void 0===b?void 0:b.examType)&&void 0!==p?p:"",customStyleValue:{fontWeight:"500"}}),(0,f.jsx)(d.Z,{labelText:"".concat(U("exam_mode"),":"),value:null!==(S=null===K||void 0===K||null===(N=K.exam)||void 0===N?void 0:N.examMode)&&void 0!==S?S:"",customStyleValue:{fontWeight:"500"}}),"Other"===(null===K||void 0===K||null===(k=K.exam)||void 0===k?void 0:k.examType)&&(0,f.jsx)(d.Z,{labelText:"".concat(U("exam_weight"),":"),value:"".concat(null!==(Z=null===K||void 0===K||null===(I=K.exam)||void 0===I?void 0:I.examWeight)&&void 0!==Z?Z:"","%"),customStyleValue:{fontWeight:"500"}})]}),(0,f.jsxs)("div",{className:h.Z.exam_schedule,children:[(0,f.jsx)("h6",{children:U("exam_schedule")}),"EXAMINATION_SECTION"===$?(0,f.jsx)(B.Z,{carryParentState:{...H.state,examName:null===K||void 0===K||null===(C=K.exam)||void 0===C?void 0:C.examName},activeTab:"department&n=backlog&exam&detail&subject",children:(0,f.jsxs)("button",{className:h.Z.exam_schedule_btn,title:"See Exam Schedule",children:[(0,f.jsx)("div",{children:U("exam_schedule")}),(0,f.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]})}):(0,f.jsx)(o.Z,{carryParentState:{...H.state,examName:null===K||void 0===K||null===(E=K.exam)||void 0===E?void 0:E.examName},activeTab:"DEPARTMENT_BACKLOG"===$?"backlog&exam&detail&subject":"exam&n=detail&subject",children:(0,f.jsxs)("button",{className:h.Z.exam_schedule_btn,title:"See Exam Schedule",children:[(0,f.jsx)("div",{children:U("exam_schedule")}),(0,f.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]})})]}),(0,f.jsxs)("div",{className:h.Z.exam_schedule,children:[(0,f.jsx)("h6",{children:U("seating_arrangements")}),"EXAMINATION_SECTION"===$?(0,f.jsx)(B.Z,{carryParentState:{...H.state,examName:null===K||void 0===K||null===(w=K.exam)||void 0===w?void 0:w.examName},activeTab:"department&n=exam&n=detail&seating",children:(0,f.jsxs)("button",{className:h.Z.exam_schedule_btn,title:"See Seating Arrangements",children:[(0,f.jsx)("div",{children:U("seating_arrangements")}),(0,f.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]})}):(0,f.jsx)(o.Z,{carryParentState:{...H.state,examName:null===K||void 0===K||null===(T=K.exam)||void 0===T?void 0:T.examName},activeTab:"DEPARTMENT_BACKLOG"===$?"backlog&exam&detail&seating":"exam&n=detail&seating",children:(0,f.jsxs)("button",{className:h.Z.exam_schedule_btn,title:"See Seating Arrangements",children:[(0,f.jsx)("div",{children:U("seating_arrangements")}),(0,f.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]})})]})]}),("exam&n=detail&seating"===(null===H||void 0===H||null===(A=H.search)||void 0===A?void 0:A.substring(3))||"department&n=exam&n=detail&seating"===(null===H||void 0===H||null===(M=H.search)||void 0===M?void 0:M.substring(3))||"backlog&exam&detail&seating"===(null===H||void 0===H||null===(D=H.search)||void 0===D?void 0:D.substring(3))||"department&n=backlog&exam&detail&seating"===(null===H||void 0===H||null===(O=H.search)||void 0===O?void 0:O.substring(3)))&&(0,f.jsx)(G,{instituteId:Y,viewAs:"BACKLOG"}),("exam&n=detail&subject"===(null===H||void 0===H||null===(L=H.search)||void 0===L?void 0:L.substring(3))||"department&n=exam&n=detail&subject"===(null===H||void 0===H||null===(P=H.search)||void 0===P?void 0:P.substring(3))||"backlog&exam&detail&subject"===(null===H||void 0===H||null===(R=H.search)||void 0===R?void 0:R.substring(3))||"department&n=backlog&exam&detail&subject"===(null===H||void 0===H||null===(F=H.search)||void 0===F?void 0:F.substring(3)))&&(0,f.jsx)("section",{className:h.Z.schedule_subject_container,children:(0,f.jsx)(q,{examSubject:null===K||void 0===K?void 0:K.oneExamDetail})}),W&&(0,f.jsx)(y.Z,{})]})}},8274:(e,s,t)=>{t.d(s,{Z:()=>r});t(72791);var l=t(72014),a=t(72426),i=t.n(a),n=t(39230),d=t(8148),o=t(16796),c=t(80184);const r=function(e){let{exam:s,carryParentState:t,viewAs:a,seeUrl:r}=e;const{t:u}=(0,n.$G)();return(0,c.jsx)(c.Fragment,{children:"EXAMINATION_SECTION"===a?(0,c.jsx)(o.Z,{carryParentState:{...t,examId:null===s||void 0===s?void 0:s._id},activeTab:"department&n=exam&n=detail",children:(0,c.jsxs)("div",{className:l.Z.exam_card_container,title:"View exam detail",children:[(0,c.jsxs)("div",{className:l.Z.imagedot,children:[(0,c.jsx)("img",{src:"/images/members/exam-icon.svg",alt:""}),(0,c.jsx)("div",{className:(null===s||void 0===s?void 0:s.examMode)===u("Offline")?"".concat(l.Z.dot," ").concat(l.Z.blue):"".concat(l.Z.dot," ").concat(l.Z.red)})]}),(0,c.jsxs)("div",{className:l.Z.exam_inner_text,children:[(0,c.jsx)("h6",{children:null===s||void 0===s?void 0:s.examName}),"Final"===(null===s||void 0===s?void 0:s.examType)?"":(0,c.jsxs)("p",{children:[u("weightage"),": ",null===s||void 0===s?void 0:s.examWeight," %"]})]}),(0,c.jsxs)("div",{className:l.Z.exam_date,children:[(0,c.jsx)("h6",{children:i()(null===s||void 0===s?void 0:s.createdAt).format("DD MMMM YYYY")}),(0,c.jsx)("p",{children:u(null===s||void 0===s?void 0:s.examType)})]})]})}):"DEPARTMENT_BACKLOG"===a?(0,c.jsx)(d.Z,{carryParentState:{...t,examId:null===s||void 0===s?void 0:s._id},activeTab:"backlog&exam&detail",children:(0,c.jsxs)("div",{className:l.Z.exam_card_container,title:"View exam detail",children:[(0,c.jsxs)("div",{className:l.Z.imagedot,children:[(0,c.jsx)("img",{src:"/images/members/exam-icon.svg",alt:""}),(0,c.jsx)("div",{className:(null===s||void 0===s?void 0:s.examMode)===u("Offline")?"".concat(l.Z.dot," ").concat(l.Z.blue):"".concat(l.Z.dot," ").concat(l.Z.red)})]}),(0,c.jsxs)("div",{className:l.Z.exam_inner_text,children:[(0,c.jsx)("h6",{children:null===s||void 0===s?void 0:s.examName}),"Final"===(null===s||void 0===s?void 0:s.examType)?"":(0,c.jsxs)("p",{children:[u("weightage"),": ",null===s||void 0===s?void 0:s.examWeight," %"]})]}),(0,c.jsxs)("div",{className:l.Z.exam_date,children:[(0,c.jsx)("h6",{children:i()(null===s||void 0===s?void 0:s.createdAt).format("DD MMMM YYYY")}),(0,c.jsx)("p",{children:u(null===s||void 0===s?void 0:s.examType)})]})]})}):(0,c.jsx)(d.Z,{carryParentState:{...t,examId:null===s||void 0===s?void 0:s._id},activeTab:"exam&n=detail",children:(0,c.jsxs)("div",{className:l.Z.exam_card_container,title:"View exam detail",children:[(0,c.jsxs)("div",{className:l.Z.imagedot,children:[(0,c.jsx)("img",{src:"/images/members/exam-icon.svg",alt:""}),(0,c.jsx)("div",{className:(null===s||void 0===s?void 0:s.examMode)===u("Offline")?"".concat(l.Z.dot," ").concat(l.Z.blue):"".concat(l.Z.dot," ").concat(l.Z.red)})]}),(0,c.jsxs)("div",{className:l.Z.exam_inner_text,children:[(0,c.jsx)("h6",{children:null===s||void 0===s?void 0:s.examName}),"Final"===(null===s||void 0===s?void 0:s.examType)?"":(0,c.jsxs)("p",{children:[u("weightage"),": ",null===s||void 0===s?void 0:s.examWeight," %"]})]}),(0,c.jsxs)("div",{className:l.Z.exam_date,children:[(0,c.jsx)("h6",{children:i()(null===s||void 0===s?void 0:s.createdAt).format("DD MMMM YYYY")}),(0,c.jsx)("p",{children:u(null===s||void 0===s?void 0:s.examType)})]})]})})})}},10191:(e,s,t)=>{t.d(s,{Z:()=>h});var l=t(72791),a=t(90443),i=t(55691),n=t(74289),d=t(93487),o=t(16871),c=t(39230),r=t(98094),u=t(8274),v=t(11105),m=t(34219),_=t(80184);const h=function(e){var s,t,h,x,f;let{did:g,bid:j,carryParentState:p,instituteId:b,viewAs:S}=e;const{t:N}=(0,c.$G)(),k=(0,o.TH)(),[Z,y]=(0,l.useState)(!1),[I,C]=(0,l.useState)(!0),[E,w]=(0,l.useState)([]),[T,A]=(0,l.useState)(!1),{departmentAllExam:M,departmentAllExamRefetch:D}=(0,n.v0)({data:{did:g,page:1,limit:20},skip:!g});(0,l.useEffect)((()=>{g&&D()}),[g,D]),(0,l.useEffect)((()=>{var e,s;null!==M&&void 0!==M&&null!==(e=M.exam)&&void 0!==e&&e.length?(w(null===M||void 0===M?void 0:M.exam),C(!1)):0===(null===M||void 0===M||null===(s=M.exam)||void 0===s?void 0:s.length)&&C(!1)}),[null===M||void 0===M?void 0:M.exam]);const O=()=>{y((e=>!e))};return(0,_.jsxs)(_.Fragment,{children:[("exam"===(null===k||void 0===k||null===(s=k.search)||void 0===s?void 0:s.substring(3))||"department&n=exam"===(null===k||void 0===k||null===(t=k.search)||void 0===t?void 0:t.substring(3)))&&(0,_.jsxs)("div",{className:a.Z.exam_container,children:[(0,_.jsxs)("div",{className:a.Z.with_search,children:[(0,_.jsx)("h6",{children:N("previous_exam_list")}),(0,_.jsx)("section",{className:a.Z.search_container,children:(0,_.jsxs)("div",{className:a.Z.search_container_input,children:[(0,_.jsx)("img",{className:a.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,_.jsx)("input",{type:"text",placeholder:"Search exams...",onChange:e=>{if(e.target.value){var s;const t=null===M||void 0===M||null===(s=M.exam)||void 0===s?void 0:s.filter((s=>{var t,l,a;return null!==s&&void 0!==s&&null!==(t=s.examName)&&void 0!==t&&null!==(l=t.toLowerCase())&&void 0!==l&&l.includes(null===(a=e.target.value)||void 0===a?void 0:a.toLowerCase())?s:null}));0===(null===t||void 0===t?void 0:t.length)?A(!0):A(!1),w(t)}else A(!1),w(null===M||void 0===M?void 0:M.exam)}})]})})]}),(0,_.jsx)(r.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,_.jsx)("div",{className:a.Z.add_new_container,children:(0,_.jsx)("p",{className:a.Z.add_new_exam,onClick:O,children:N("create_new_exam")})}),null===E||void 0===E?void 0:E.map((e=>(0,_.jsx)(u.Z,{exam:e,carryParentState:p,viewAs:S},e._id))),!I&&!(null!==M&&void 0!==M&&null!==(h=M.exam)&&void 0!==h&&h.length)&&(0,_.jsx)(m.Z,{customStyleContainer:{marginTop:"9rem"},title:"No any exams found",subtitle:"Please make sure you have created exam."}),T&&(0,_.jsx)(m.Z,{customStyleContainer:{marginTop:"9rem"},title:"No any search found"}),I&&(0,_.jsx)(v.Z,{})]}),("exam&n=detail"===(null===k||void 0===k||null===(x=k.search)||void 0===x?void 0:x.substring(3,16))||"department&n=exam&n=detail"===(null===k||void 0===k||null===(f=k.search)||void 0===f?void 0:f.substring(3,29)))&&(0,_.jsx)(d.Z,{carryParentState:p,instituteId:b,viewAs:S}),Z&&(0,_.jsx)(i.Z,{onClose:O,did:g,bid:j,onRefetch:D})]})}},69113:(e,s,t)=>{t.d(s,{Z:()=>o});t(72791);var l=t(39230),a=t(60163),i=t(72426),n=t.n(i),d=t(80184);const o=e=>{var s,t,i,o,c,r,u,v,m,_,h,x,f,g,j,p,b,S,N,k,Z,y;let{customExamStyle:I,examDetail:C,viewAs:E,studentCount:w}=e;const{t:T}=(0,l.$G)();let A=null!==(s=null===C||void 0===C||null===(t=C.currentSubject)||void 0===t||null===(i=t.subject)||void 0===i||null===(o=i.date)||void 0===o?void 0:o.split("/"))&&void 0!==s?s:null===C||void 0===C||null===(c=C.date)||void 0===c?void 0:c.split("/");return(0,d.jsxs)("div",{className:a.Z.seating_examination_container,style:I,children:[(0,d.jsx)("h6",{children:null!==(r=null===C||void 0===C?void 0:C.examName)&&void 0!==r?r:""}),(0,d.jsxs)("p",{children:[null!==(u=null!==(v=null===C||void 0===C||null===(m=C.currentSubject)||void 0===m||null===(_=m.subject)||void 0===_?void 0:_.subjectName)&&void 0!==v?v:null===C||void 0===C?void 0:C.subjectName)&&void 0!==u?u:"",","," ","".concat(null!==C&&void 0!==C&&null!==(h=C.currentSubject)&&void 0!==h&&h.classMaster?"".concat(null===C||void 0===C||null===(x=C.currentSubject)||void 0===x?void 0:x.classMaster," ,"):""),null!==(f=null===C||void 0===C?void 0:C.selectClass)&&void 0!==f?f:""]}),(0,d.jsxs)("p",{children:[null===(g=n()("".concat(null===A||void 0===A?void 0:A[2],"-").concat(null===A||void 0===A?void 0:A[1],"-").concat(null===A||void 0===A?void 0:A[0])))||void 0===g?void 0:g.format("DD-MMM-yyyy"),","," ",null!==(j=null!==(p=null===C||void 0===C||null===(b=C.currentSubject)||void 0===b||null===(S=b.subject)||void 0===S?void 0:S.startTime)&&void 0!==p?p:null===C||void 0===C?void 0:C.startTime)&&void 0!==j?j:""," ","to"," ",null!==(N=null!==(k=null===C||void 0===C||null===(Z=C.currentSubject)||void 0===Z||null===(y=Z.subject)||void 0===y?void 0:y.endTime)&&void 0!==k?k:null===C||void 0===C?void 0:C.endTime)&&void 0!==N?N:""]}),"ADD_SEATING"===E?(0,d.jsxs)("p",{children:[T("students"),": ","(".concat(null!==w&&void 0!==w?w:0," ").concat(T("students"),")")]}):(0,d.jsxs)("p",{children:[T("students"),": From ",null===C||void 0===C?void 0:C.from," to ",null===C||void 0===C?void 0:C.to," ","(".concat(+(null===C||void 0===C?void 0:C.to)-+(null===C||void 0===C?void 0:C.from)," ").concat(T("students"),")")]})]})}},16796:(e,s,t)=>{t.d(s,{Z:()=>n});t(72791);var l=t(16871),a=t(43504),i=t(80184);const n=e=>{let{carryParentState:s,activeTab:t,children:n}=e;const d=(0,l.UO)();return(0,i.jsx)(a.rU,{to:"/q/".concat(d.username,"/member/exam?a=").concat(t),state:{...s},children:n})}},12923:(e,s,t)=>{t.d(s,{Ec:()=>j,Em:()=>S,JM:()=>m,NS:()=>i,Pg:()=>_,Q_:()=>g,RH:()=>v,Tv:()=>o,U_:()=>f,VN:()=>n,Wj:()=>r,ZS:()=>u,_8:()=>p,d5:()=>c,tB:()=>x,vI:()=>b,yx:()=>d,zO:()=>h});var l=t(91007),a=t(58208);const i=e=>{const{data:s,refetch:t}=(0,a.YD)(e.search,{skip:e.skip});return{instituteAllSearch:s,instituteAllSearchRefetch:t}},n=()=>{const[e]=(0,a.ak)();return[e]},d=()=>{const[e]=(0,a.WL)();return[e]},o=e=>{const{data:s,refetch:t}=(0,a.pH)(e.list,{skip:e.skip});return{instituteFollowList:s,instituteFollowListRefetch:t}},c=e=>{const{data:s,refetch:t}=(0,a.MG)(e.data,{skip:e.skip});return{instituteOwnFollowingList:s,instituteOwnFollowingListRefetch:t}},r=()=>{const[e]=(0,a.Ky)();return[e]},u=e=>{const{data:s,refetch:t}=(0,a.p8)(e.list);return{userFollowList:s,userFollowListRefetch:t}},v=e=>{const{data:s,refetch:t}=(0,a.Wv)(e);return{userFollowingList:s,userFollowingListRefetch:t}},m=e=>{const{data:s,refetch:t}=(0,a.sz)(e.search,{skip:e.skip});return{userAllSearch:s,userAllSearchRefetch:t}},_=()=>{const[e]=(0,a.Mk)();return[e]},h=()=>{const[e]=(0,a.$i)();return[e]},x=()=>{const[e]=(0,a.Do)();return[e]},f=()=>{const[e]=(0,a.He)();return[e]},g=()=>{const[e]=(0,a.vg)();return[e]},j=()=>{const[e]=(0,a.OO)();return[e]},p=e=>{const{data:s,refetch:t}=(0,a.N2)(e);return{userCircleList:s,userCircleListRefetch:t}},b=e=>{const{data:s,refetch:t}=(0,l.x6)(e.search,{skip:e.skip});return{assignSearchStaff:s,assignSearchStaffRefetch:t}},S=e=>{const{data:s,refetch:t}=(0,a.SJ)(e);return{universalUser:s,universalUserRefetch:t}}},52124:(e,s,t)=>{t.d(s,{Z:()=>l});const l={assign_title:"AssignStaffModal_assign_title__4DGBV",assign_search_container:"AssignStaffModal_assign_search_container__3x6RD",assign_search_input:"AssignStaffModal_assign_search_input__rO3c7",assign_show_list:"AssignStaffModal_assign_show_list__yHhf7",assign_show_list_each:"AssignStaffModal_assign_show_list_each__ACUEw",assign_each_paragraph:"AssignStaffModal_assign_each_paragraph__pMHTq",universal_modal:"AssignStaffModal_universal_modal__czmpB",is_mulitselect_container:"AssignStaffModal_is_mulitselect_container__0cPQ2"}}}]);
//# sourceMappingURL=70546.6f9f71cc.chunk.js.map