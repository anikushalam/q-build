{"version":3,"file":"static/js/91755.5307e52b.chunk.js","mappings":"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","sources":["webpack://mithkal-qviple/./src/Profile/Institute/Pages/Following.module.css?4995","Profile/Institute/Pages/Following.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Following_container__E9SM7\",\"card\":\"Following_card__3FqQT\",\"cardImage\":\"Following_cardImage__zxZD4\",\"username\":\"Following_username__AfnkF\",\"name\":\"Following_name__gQs4s\",\"unfollow\":\"Following_unfollow__-4yPM\",\"unfollowText\":\"Following_unfollowText__NnusE\"};","import React, { useState, useEffect } from \"react\";\nimport style from \"./Following.module.css\";\nimport { useInView } from \"react-intersection-observer\";\nimport { imageShowUrl } from \"../../../services/BaseUrl\";\nimport {\n  useInstituteFollowingAction,\n  useInstituteFollowingArray,\n} from \"../../../hooks/dashboard/dashboard-api\";\nimport { useSelector } from \"react-redux\";\n\nconst Following = () => {\n  const id = useSelector((state) => state.idChange.id);\n  const [allFollowing, setAllFollowing] = useState([]);\n  const [ref, inView] = useInView();\n  const [state, setState] = useState(true);\n  const [page, setPage] = useState(1);\n\n  const [instituteFollowingAction] = useInstituteFollowingAction();\n  const { instituteFollowingArray, instituteFollowingArrayRefetch } =\n    useInstituteFollowingArray({\n      data: {\n        id: id,\n        page: page,\n        limit: 10,\n      },\n      skip: !id,\n    });\n\n  useEffect(() => {\n    if (id) instituteFollowingArrayRefetch();\n  }, [id, page, instituteFollowingArrayRefetch]);\n  useEffect(() => {\n    if (inView && state) setPage((page) => page + 1);\n  }, [inView, state]);\n\n  useEffect(() => {\n    if (instituteFollowingArray?.following?.length) {\n      const dublicates = [\n        ...allFollowing,\n        ...instituteFollowingArray?.following,\n      ];\n      const uniqueRefind = [...new Set(dublicates.map(JSON.stringify))].map(\n        JSON.parse\n      );\n      setAllFollowing(uniqueRefind);\n    }\n    //for next api is call or not dashboard\n    // if (subjectMcqQuestion?.questions.length === 10) setState(true);\n    // else setState(false);\n  }, [instituteFollowingArray?.following]);\n\n  const UnfollowHandler = (id) => {\n    var data = {\n      followId: id && id,\n    };\n    instituteFollowingAction(data).then((res) => {\n      if (res.data.message) {\n        instituteFollowingArrayRefetch();\n      }\n    });\n  };\n\n  return (\n    <div className={`${style.container}`}>\n      {allFollowing?.map((ft, index) =>\n        allFollowing?.length === index + 1 ? (\n          <div className={style.card} key={index} ref={ref}>\n            <img\n              className={style.cardImage}\n              src={\n                ft?.photoId !== \"1\"\n                  ? `${imageShowUrl}/${ft?.insProfilePhoto || ft?.profilePhoto}`\n                  : \"/images/avatar-icon.png\"\n              }\n              alt=\"\"\n            />\n            <p className={style.username}>{ft && ft.name}</p>\n            <p className={style.name}>{ft && ft.insName}</p>\n            <div className={style.unfollow}>\n              <p\n                className={style.unfollowText}\n                onClick={() => UnfollowHandler(ft && ft._id)}\n              >\n                Unfollow\n              </p>\n            </div>\n          </div>\n        ) : (\n          <div className={style.card} key={index}>\n            <img\n              className={style.cardImage}\n              src={\n                ft?.photoId !== \"1\"\n                  ? `${imageShowUrl}/${ft?.insProfilePhoto || ft?.profilePhoto}`\n                  : \"/images/avatar-icon.png\"\n              }\n              alt=\"\"\n            />\n            <p className={style.username}>{ft && ft.name}</p>\n            <p className={style.name}>{ft && ft.insName}</p>\n            <div className={style.unfollow}>\n              <p\n                className={style.unfollowText}\n                onClick={() => UnfollowHandler(ft && ft._id)}\n              >\n                Unfollow\n              </p>\n            </div>\n          </div>\n        )\n      )}\n    </div>\n  );\n};\n\nexport default Following;\n"],"names":["id","useSelector","state","idChange","_useState","useState","_useState2","_slicedToArray","allFollowing","setAllFollowing","_useInView","useInView","_useInView2","ref","inView","_useState3","_useState4","_useState5","_useState6","page","setPage","_useInstituteFollowin","useInstituteFollowingAction","instituteFollowingAction","_useInstituteFollowin3","useInstituteFollowingArray","data","limit","skip","instituteFollowingArray","instituteFollowingArrayRefetch","useEffect","_instituteFollowingAr","following","length","dublicates","concat","_toConsumableArray","uniqueRefind","Set","map","JSON","stringify","parse","UnfollowHandler","followId","then","res","message","_jsx","className","style","children","ft","index","_jsxs","src","photoId","imageShowUrl","insProfilePhoto","profilePhoto","alt","name","insName","onClick","_id"],"sourceRoot":""}