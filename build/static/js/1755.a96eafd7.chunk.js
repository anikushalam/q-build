"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[1755],{91755:function(n,l,i){i.r(l),i.d(l,{default:function(){return p}});var o=i(93433),e=i(29439),a=i(72791),s="Following_container__E9SM7",t="Following_card__3FqQT",c="Following_cardImage__zxZD4",d="Following_username__AfnkF",r="Following_name__gQs4s",u="Following_unfollow__-4yPM",f="Following_unfollowText__NnusE",v=i(23441),m=i(69721),h=i(39480),g=i(78687),_=i(80184),p=function(){var n=(0,g.useSelector)((function(n){return n.idChange.id})),l=(0,a.useState)([]),i=(0,e.Z)(l,2),p=i[0],w=i[1],N=(0,v.YD)(),x=(0,e.Z)(N,2),j=x[0],F=x[1],k=(0,a.useState)(!0),Z=(0,e.Z)(k,2),S=Z[0],P=(Z[1],(0,a.useState)(1)),y=(0,e.Z)(P,2),I=y[0],C=y[1],E=(0,h.xK)(),q=(0,e.Z)(E,1)[0],A=(0,h.sl)({data:{id:n,page:I,limit:10},skip:!n}),b=A.instituteFollowingArray,D=A.instituteFollowingArrayRefetch;(0,a.useEffect)((function(){n&&D()}),[n,I,D]),(0,a.useEffect)((function(){F&&S&&C((function(n){return n+1}))}),[F,S]),(0,a.useEffect)((function(){var n;if(null!==b&&void 0!==b&&null!==(n=b.following)&&void 0!==n&&n.length){var l=[].concat((0,o.Z)(p),(0,o.Z)(null===b||void 0===b?void 0:b.following)),i=(0,o.Z)(new Set(l.map(JSON.stringify))).map(JSON.parse);w(i)}}),[null===b||void 0===b?void 0:b.following]);var J=function(n){q({followId:n&&n}).then((function(n){n.data.message&&D()}))};return(0,_.jsx)("div",{className:"".concat(s),children:null===p||void 0===p?void 0:p.map((function(n,l){return(null===p||void 0===p?void 0:p.length)===l+1?(0,_.jsxs)("div",{className:t,ref:j,children:[(0,_.jsx)("img",{className:c,src:"1"!==(null===n||void 0===n?void 0:n.photoId)?"".concat(m.yI,"/").concat((null===n||void 0===n?void 0:n.insProfilePhoto)||(null===n||void 0===n?void 0:n.profilePhoto)):"/images/avatar-icon.png",alt:""}),(0,_.jsx)("p",{className:d,children:n&&n.name}),(0,_.jsx)("p",{className:r,children:n&&n.insName}),(0,_.jsx)("div",{className:u,children:(0,_.jsx)("p",{className:f,onClick:function(){return J(n&&n._id)},children:"Unfollow"})})]},l):(0,_.jsxs)("div",{className:t,children:[(0,_.jsx)("img",{className:c,src:"1"!==(null===n||void 0===n?void 0:n.photoId)?"".concat(m.yI,"/").concat((null===n||void 0===n?void 0:n.insProfilePhoto)||(null===n||void 0===n?void 0:n.profilePhoto)):"/images/avatar-icon.png",alt:""}),(0,_.jsx)("p",{className:d,children:n&&n.name}),(0,_.jsx)("p",{className:r,children:n&&n.insName}),(0,_.jsx)("div",{className:u,children:(0,_.jsx)("p",{className:f,onClick:function(){return J(n&&n._id)},children:"Unfollow"})})]},l)}))})}}}]);
//# sourceMappingURL=1755.a96eafd7.chunk.js.map