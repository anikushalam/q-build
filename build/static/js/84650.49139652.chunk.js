"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[84650],{12155:(e,i,n)=>{n.r(i),n.d(i,{default:()=>wi});var l=n(72791),t=n(42190),a=n(20772);const s="Mainbody_institute_admission_body__HWANt",o="Mainbody_institute_ads_container__pGqua",d="Mainbody_institute_ads_container_other__kLAuL",c="Mainbody_institute_ads_container_border__4MsZ1";var r=n(95048),u=n(35395),v=n(73032),m=n(69721),p=n(39230),_=n(85050),h=n(93738),g=n(21093),x=n(16871),f=n(80184);const j=l.lazy((()=>n.e(76035).then(n.bind(n,76035)))),S=e=>{var i,n,t,a,s,o,d,c,S,N,b,A,y,C,Z;let{username:I,admissionId:E}=e;const{t:T}=(0,p.$G)(),P=(0,x.UO)(),R=(0,r.v9)((e=>e.admissionChange)),[k,D]=l.useState(!1),{getAdmissionDetail:O,getAdmissionDetailRefetch:w}=(0,v.vV)({data:{aid:"".concat(null!==R&&void 0!==R&&R.aid?null===R||void 0===R?void 0:R.aid:E),sid:""},skip:null!==R&&void 0!==R&&R.aid?!(null!==R&&void 0!==R&&R.aid):!E});(0,l.useEffect)((()=>{(null!==R&&void 0!==R&&R.aid||E)&&w()}),[null===R||void 0===R?void 0:R.aid,E,w]);const M=()=>{D((e=>!e))};return(0,f.jsxs)("div",{style:{position:"sticky",top:"77px",height:"fit-content",width:"30%"},children:[(0,f.jsx)(g.Z,{whichType:"PREVIOUS_GO"}),(0,f.jsx)(_.Z,{dynamicImage:null!==O&&void 0!==O&&null!==(i=O.admission)&&void 0!==i&&i.cover?"".concat(m.yI,"/").concat(null===O||void 0===O||null===(n=O.admission)||void 0===n?void 0:n.cover):"/images/profileAndCover/admission-cover.svg",edit:!0,onEditAction:M,redirectUrl:"/q/".concat(P.username,"/admission?a=site"),isSiteInfo:"ADMISSION",carryParentState:{aid:null===O||void 0===O||null===(t=O.admission)||void 0===t?void 0:t._id}}),(0,f.jsx)(h.Z,{cardAsHead:!0,heading:" ".concat((null===O||void 0===O||null===(a=O.admission)||void 0===a||null===(s=a.admissionAdminHead)||void 0===s?void 0:s.staffFirstName)||""," ").concat(null!==O&&void 0!==O&&null!==(o=O.admission)&&void 0!==o&&null!==(d=o.admissionAdminHead)&&void 0!==d&&d.staffMiddleName?null===O||void 0===O||null===(c=O.admission)||void 0===c||null===(S=c.admissionAdminHead)||void 0===S?void 0:S.staffMiddleName:""," ").concat((null===O||void 0===O||null===(N=O.admission)||void 0===N||null===(b=N.admissionAdminHead)||void 0===b?void 0:b.staffLastName)||""),description:T("admission_admin"),customStyleCard:{borderRadius:"18px 18px 0px 0px",border:"none",marginTop:"-1.49vw"}}),(0,f.jsx)(h.Z,{cardAsHead:!1,heading:T("ongoing_add"),description:T("admissions"),count:(null===O||void 0===O||null===(A=O.admission)||void 0===A?void 0:A.newAppCount)||0}),(0,f.jsx)(h.Z,{cardAsHead:!1,heading:T("application"),description:T("received_from_students"),count:(null===O||void 0===O||null===(y=O.admission)||void 0===y?void 0:y.newAppCount)+(null===O||void 0===O||null===(C=O.admission)||void 0===C?void 0:C.completedCount)||0,customStyleCard:{borderRadius:"0 0 12px 12px",borderBottom:"0.4px solid rgba(0, 0, 0, 0.15)"}}),(0,f.jsx)(u.Z,{children:(0,f.jsx)(j,{admissionModal:k,hideModal:M,edit:!0,admissionManagerName:null===O||void 0===O||null===(Z=O.admission)||void 0===Z?void 0:Z.admissionAdminHead,onParentRefetch:w})})]})};var N=n(43504),b=n(39480),A=n(74737);const y=e=>{let{carryParentState:i,activeTab:n,children:l}=e;const t=(0,x.UO)();return(0,f.jsx)(N.rU,{to:"/q/".concat(t.username,"/admission").concat(n),state:{...i},children:l})},C={funds2:"Funds_funds2__4QC2s",fundscontent:"Funds_fundscontent__uE4Dh",sidebarbottomitem:"Funds_sidebarbottomitem__N9G-h",namee:"Funds_namee__udwpf",desig:"Funds_desig__id4Ah",balanceItem:"Funds_balanceItem__YpuFS",fundbtn:"Funds_fundbtn__DUCOL"};function Z(e){let{bal:i,value:n}=e;return(0,f.jsxs)("div",{className:C.balanceItem,children:[(0,f.jsxs)("p",{children:[i,":"]}),(0,f.jsxs)("p",{children:["Rs. ",n]})]})}const I=function(e){var i,n,t,a,s,o,d,c,u,m;let{carryParentState:_}=e;const{t:h}=(0,p.$G)(),g=(0,r.v9)((e=>e.admissionChange)),x=(0,r.v9)((e=>e.idChange.id)),{oneInstituteDashboard:j,oneInstituteDashboardRefetch:S}=(0,b.gq)({id:x,skip:!x}),{getAdmissionDetail:N,getAdmissionDetailRefetch:A}=(0,v.vV)({data:{aid:"".concat(null!==g&&void 0!==g&&g.aid?null===g||void 0===g?void 0:g.aid:null===j||void 0===j||null===(i=j.institute)||void 0===i?void 0:i.admissionDepart[0]),sid:""},skip:null!==g&&void 0!==g&&g.aid?!(null!==g&&void 0!==g&&g.aid):!(null!==j&&void 0!==j&&null!==(n=j.institute)&&void 0!==n&&n.admissionDepart[0])});return(0,l.useEffect)((()=>{x&&S()}),[x,S]),(0,l.useEffect)((()=>{var e;(null!==g&&void 0!==g&&g.aid||null!==j&&void 0!==j&&null!==(e=j.institute)&&void 0!==e&&e.admissionDepart[0])&&A()}),[null===g||void 0===g?void 0:g.aid,null===j||void 0===j||null===(t=j.institute)||void 0===t?void 0:t.admissionDepart[0],A]),(0,f.jsx)("div",{className:C.funds2,children:(0,f.jsxs)("div",{className:C.fundscontent,children:[(0,f.jsxs)("div",{className:C.sidebarbottomitem,children:[(0,f.jsx)("img",{alt:"not found",src:"/images/finance/doller-icon.svg"}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("p",{className:C.namee,children:["Rs."," ",((null===N||void 0===N||null===(a=N.admission)||void 0===a?void 0:a.onlineFee)+(null===N||void 0===N||null===(s=N.admission)||void 0===s?void 0:s.offlineFee)).toFixed(2)]}),(0,f.jsx)("p",{className:C.desig,children:h("total_admission_fees")})]})]}),(0,f.jsx)(Z,{bal:h("online_fees"),value:null===N||void 0===N||null===(o=N.admission)||void 0===o||null===(d=o.onlineFee)||void 0===d?void 0:d.toFixed(2)}),(0,f.jsx)(Z,{bal:h("offline_fees"),value:null===N||void 0===N||null===(c=N.admission)||void 0===c||null===(u=c.offlineFee)||void 0===u?void 0:u.toFixed(2)}),(0,f.jsx)(y,{carryParentState:_,activeTab:"?a=pending",children:(0,f.jsxs)("div",{className:C.fundbtn,children:[h("remaining_fees")," : Rs."," ",null===N||void 0===N||null===(m=N.admission)||void 0===m?void 0:m.remainingFeeCount]})})]})})};var E=n(64783),T=n(98684);const P=e=>{let{carryParentState:i}=e;const{t:n}=(0,p.$G)(),[l]=(0,N.lr)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:A.Z.finance_tab_tabs,children:[(0,f.jsx)(E.Z,{tabLevel:n("menu"),customStyleContainer:{width:"50%",marginRight:"2px",borderTopLeftRadius:"6px"},customStyleLevel:{borderTopLeftRadius:"6px"},tabValue:"menu",currentValue:null!==l&&void 0!==l&&l.get("a")?"other":"menu",carryParentState:i,activeUrl:"admission"}),(0,f.jsx)(E.Z,{tabLevel:n("fund"),customStyleContainer:{width:"50%",borderTopRightRadius:"6px"},customStyleLevel:{borderTopLeftRadius:"6px"},tabValue:"fund",currentValue:"fund"===(null===l||void 0===l?void 0:l.get("a"))?"fund":"other",carryParentState:i,activeUrl:"admission?a=fund"})]}),null!==l&&void 0!==l&&l.get("a")?"fund"===(null===l||void 0===l?void 0:l.get("a"))?(0,f.jsx)(I,{carryParentState:i}):null:(0,f.jsxs)("div",{className:A.Z.item,children:[(0,f.jsx)(y,{carryParentState:i,activeTab:"?a=ongoing",children:(0,f.jsxs)("div",{className:A.Z.itemIcon,children:[(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-ongoing-icon.svg",alt:"Class Catalog"}),(0,f.jsx)("p",{children:n("admission_ongoing")})]})}),(0,f.jsx)(y,{carryParentState:i,activeTab:"?a=pending",children:(0,f.jsxs)("div",{className:A.Z.itemIcon,children:[(0,f.jsx)("img",{src:"/images/member_tab/finance/finance-pending-icon.svg",alt:"inquery"}),(0,f.jsx)("p",{children:n("pending_fees")})]})}),(0,f.jsx)(y,{carryParentState:i,activeTab:"?a=completed",children:(0,f.jsxs)("div",{className:A.Z.itemIcon,children:[(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-complete-icon.svg",alt:"completed"}),(0,f.jsx)("p",{children:n("admission_complete")})]})}),(0,f.jsx)(y,{carryParentState:i,activeTab:"?a=export",children:(0,f.jsxs)("div",{className:A.Z.itemIcon,children:[(0,f.jsx)("img",{src:"/images/member_tab/finance/finance-export-icon.svg",alt:"refund"}),(0,f.jsx)("p",{children:n("data_exporting")})]})}),(0,f.jsx)(y,{carryParentState:i,activeTab:"?a=moderator",children:(0,f.jsxs)("div",{className:A.Z.itemIcon,children:[(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-moderator-icon.svg",alt:"moderator icon"}),(0,f.jsx)("p",{children:n("admission_moderators")})]})}),(0,f.jsx)(y,{carryParentState:i,activeTab:"?a=tab",children:(0,f.jsxs)("div",{className:A.Z.itemIcon,children:[(0,f.jsx)("img",{src:"".concat(T.J7,"/controller.svg"),alt:"moderator icon"}),(0,f.jsx)("p",{children:n("tab_controller")})]})})]})]})};var R=n(23441),k=n(11105),D=n(98094),O=n(46876),w=n(91022),M=n(98734),F=n(36665),L=n(70374),U=n(72426),q=n.n(U);const B=e=>{var i;let{setActivePopup:n,selectedApplication:l,selectedStaff:t,moderatorState:a,onAssignModerator:s}=e;const{t:o}=(0,p.$G)();return(0,f.jsx)(F.Z,{children:(0,f.jsxs)("div",{className:L.Z.assign_role_container,children:[(0,f.jsxs)("section",{className:L.Z.assign_role_title,children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{},alt:"back icon"}),(0,f.jsx)("h6",{children:o("preview")})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,f.jsxs)("section",{className:L.Z.selected_staff_container,children:[(0,f.jsx)("img",{src:null!==t&&void 0!==t&&t.staffProfilePhoto?"".concat(m.yI,"/").concat(null===t||void 0===t?void 0:t.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,f.jsxs)("div",{className:L.Z.selected_staff_text,children:[(0,f.jsx)("h6",{children:"".concat(null===t||void 0===t?void 0:t.staffFirstName," ").concat(null!==(i=null===t||void 0===t?void 0:t.staffMiddleName)&&void 0!==i?i:""," ").concat(null===t||void 0===t?void 0:t.staffLastName)}),(0,f.jsxs)("p",{children:[o("index_number"),null===t||void 0===t?void 0:t.staffROLLNO]})]})]}),(0,f.jsx)("section",{style:{padding:"0.8rem"},children:(0,f.jsx)(w.Z,{selectLabel:o("select_role_of_moderator"),selectedValue:o("please_select_role"),value:"ALL_FEE_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Application Manager":"INQUIRY_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Enquiries Section":"FULL_ACCESS",openAs:"REFUND"})}),null===l||void 0===l?void 0:l.map((e=>{var i,n,l;return(0,f.jsxs)("div",{className:L.Z.application_card,children:[(0,f.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,f.jsxs)("section",{className:L.Z.application_card_text,children:[(0,f.jsx)("h6",{children:null!==(i=null===e||void 0===e?void 0:e.applicationName)&&void 0!==i?i:""}),(0,f.jsxs)("div",{className:L.Z.application_card_text_bottom,children:[(0,f.jsx)("p",{children:null!==(n=null===e||void 0===e||null===(l=e.applicationDepartment)||void 0===l?void 0:l.dName)&&void 0!==n?n:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,f.jsx)("p",{children:q()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id)})),(0,f.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,f.jsxs)("button",{className:L.Z.select_application_btn,onClick:()=>n("SELECT_APPLICATION"),children:[(0,f.jsx)("div",{children:o("add_more")}),(0,f.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),(0,f.jsxs)("button",{className:L.Z.assign_btn,onClick:s,children:[o("assign")," "]})]})]})})},G=e=>{var i;let{onCloseEdit:n,setActivePopup:l,selectedStaff:t,moderatorState:a,onSelectRole:s,onUpdateModerator:o,selectedApplication:d}=e;const{t:c}=(0,p.$G)();return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(F.Z,{onClose:n,children:(0,f.jsxs)("div",{className:L.Z.assign_role_container,children:[(0,f.jsxs)("section",{className:L.Z.assign_role_title,children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:n,alt:"back icon",style:{cursor:"pointer"}}),(0,f.jsx)("h6",{children:c("update_role_to_moderator")})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,f.jsxs)("section",{className:L.Z.selected_staff_container,onClick:()=>l("OPEN_STAFF_LIST"),children:[(0,f.jsx)("img",{src:null!==t&&void 0!==t&&t.staffProfilePhoto?"".concat(m.yI,"/").concat(null===t||void 0===t?void 0:t.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,f.jsxs)("div",{className:L.Z.selected_staff_text,children:[(0,f.jsx)("h6",{children:"".concat(null===t||void 0===t?void 0:t.staffFirstName," ").concat(null!==(i=null===t||void 0===t?void 0:t.staffMiddleName)&&void 0!==i?i:""," ").concat(null===t||void 0===t?void 0:t.staffLastName)}),(0,f.jsxs)("p",{children:[c("index_number"),null===t||void 0===t?void 0:t.staffROLLNO]})]})]}),(0,f.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,f.jsx)(w.Z,{selectLabel:c("select_role_of_moderator"),selectedValue:c("please_select_role"),options:["Fee receipt authority","Application Manager","Enquiries Section","Scholarship Manager","Excess Fee Refund","Pending Fee Manager","Tab Authority","Data Export Authority"],value:"ALL_FEE_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Application Manager":"INQUIRY_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Enquiries Section":"SCHOLARSHIP_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Scholarship Manager":"REFUND_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Access Fee Moderator":"PENDING_FEE_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Pending Fee Manager":"ONE_TAB_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Tab Authority":"DATA_EXPORT_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Data Export Authority":"",onClick:s}),null===d||void 0===d?void 0:d.map((e=>{var i,n,l;return(0,f.jsxs)("div",{className:L.Z.application_card,style:{width:"100%",margin:"1rem 0 0"},children:[(0,f.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,f.jsxs)("section",{className:L.Z.application_card_text,children:[(0,f.jsx)("h6",{children:null!==(i=null===e||void 0===e?void 0:e.applicationName)&&void 0!==i?i:""}),(0,f.jsxs)("div",{className:L.Z.application_card_text_bottom,children:[(0,f.jsx)("p",{children:null!==(n=null===e||void 0===e||null===(l=e.applicationDepartment)||void 0===l?void 0:l.dName)&&void 0!==n?n:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,f.jsx)("p",{children:q()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id)})),"MULTI_APP_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)&&(0,f.jsxs)("button",{className:L.Z.select_application_btn,onClick:()=>l("SELECT_APPLICATION"),children:[(0,f.jsx)("div",{children:c("moderator_select_application")}),(0,f.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),(0,f.jsxs)("button",{className:L.Z.assign_btn,onClick:o,children:[c("update")," "]})]})]})})})},H=e=>{var i;let{setActivePopup:n,setSelectedApplication:t,setSelectedApplicationId:a,selectedApplicationId:s,openAs:o,role:d}=e;const{t:c}=(0,p.$G)(),[u,m]=(0,l.useState)(!0),[_,h]=(0,l.useState)(1),[g,x]=(0,R.YD)(),[j,S]=(0,l.useState)([]),[N,b]=(0,l.useState)(!0),A=(0,r.v9)((e=>e.admissionChange)),{allOngoingApp:y,allOngoingAppRefetch:C}=(0,v.JG)({data:{aid:null===A||void 0===A?void 0:A.aid,page:_,limit:10},skip:!(null!==A&&void 0!==A&&A.aid)});(0,l.useEffect)((()=>{x&&u&&h((e=>e+1))}),[x,u]),(0,l.useEffect)((()=>{null!==A&&void 0!==A&&A.aid&&(b(!0),C())}),[null===A||void 0===A?void 0:A.aid,_,C]),(0,l.useEffect)((()=>{null!==A&&void 0!==A&&A.aid&&(b(!0),C())}),[null===A||void 0===A?void 0:A.aid,C]),(0,l.useEffect)((()=>{var e;null!==y&&void 0!==y&&y.ongoing&&(S((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===y||void 0===y?void 0:y.ongoing])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),b(!1)),10===(null===y||void 0===y||null===(e=y.ongoing)||void 0===e?void 0:e.length)?m(!0):m(!1)}),[null===y||void 0===y?void 0:y.ongoing]);const Z=()=>{n("EDIT"===o?"PREVIEW_FORM":"ASSIGN_ROLE")},I=e=>{null!==s&&void 0!==s&&s.includes(null===e||void 0===e?void 0:e._id)?(t((i=>null===i||void 0===i?void 0:i.filter((i=>(null===i||void 0===i?void 0:i._id)!==(null===e||void 0===e?void 0:e._id))))),a((i=>null===i||void 0===i?void 0:i.filter((i=>i!==(null===e||void 0===e?void 0:e._id)))))):(t((i=>i?[...i,e]:[e])),a((i=>i?[...i,null===e||void 0===e?void 0:e._id]:[null===e||void 0===e?void 0:e._id])))};return(0,f.jsx)(F.Z,{onClose:Z,children:(0,f.jsxs)("div",{className:L.Z.assign_role_container,children:[(0,f.jsxs)("section",{className:L.Z.assign_role_title,style:{position:"relative"},children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:Z,alt:"back icon"}),(0,f.jsx)("h6",{children:c("assign_role_to_moderator")}),(0,f.jsxs)("button",{className:L.Z.select_btn,onClick:()=>{n("EDIT"===o?"PREVIEW_FORM":"ONE_TAB_ACCESS"===d?"ASSIGN_ROLE":"MODERATOR_PREWVIEW")},children:[null!==(i=null===s||void 0===s?void 0:s.length)&&void 0!==i?i:""," "," ",c("select")]})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%"}}),null===j||void 0===j?void 0:j.map(((e,i)=>{var n,l,t,a,o,d;return(null===j||void 0===j?void 0:j.length)===i+1?(0,f.jsxs)("div",{className:null!==s&&void 0!==s&&s.includes(null===e||void 0===e?void 0:e._id)?"".concat(L.Z.application_card," ").concat(L.Z.application_card_active):L.Z.application_card,ref:g,onClick:()=>I(e),children:[(0,f.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,f.jsxs)("section",{className:L.Z.application_card_text,children:[(0,f.jsx)("h6",{children:null!==(n=null===e||void 0===e?void 0:e.applicationName)&&void 0!==n?n:""}),(0,f.jsxs)("div",{className:L.Z.application_card_text_bottom,children:[(0,f.jsx)("p",{children:null!==(l=null===e||void 0===e||null===(t=e.applicationDepartment)||void 0===t?void 0:t.dName)&&void 0!==l?l:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,f.jsx)("p",{children:q()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id):(0,f.jsxs)("div",{className:null!==s&&void 0!==s&&s.includes(null===e||void 0===e?void 0:e._id)?"".concat(L.Z.application_card," ").concat(L.Z.application_card_active):L.Z.application_card,onClick:()=>I(e),children:[(0,f.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,f.jsxs)("section",{className:L.Z.application_card_text,children:[(0,f.jsx)("h6",{children:null!==(a=null===e||void 0===e?void 0:e.applicationName)&&void 0!==a?a:""}),(0,f.jsxs)("div",{className:L.Z.application_card_text_bottom,children:[(0,f.jsx)("p",{children:null!==(o=null===e||void 0===e||null===(d=e.applicationDepartment)||void 0===d?void 0:d.dName)&&void 0!==o?o:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,f.jsx)("p",{children:q()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id)})),N&&(0,f.jsx)(k.Z,{})]})})},V=e=>{var i,n,t,a,s;let{instituteId:o,admissionId:d,onClose:c,onRefetchWhenAdd:r,openModeratorMenu:u,openAs:_,onEdit:h}=e;const{t:g}=(0,p.$G)(),[x,j]=(0,l.useState)("EDIT"===_?"PREVIEW_FORM":"OPEN_STAFF_LIST"),[S,N]=(0,l.useState)("EDIT"===_?null===u||void 0===u?void 0:u.access_staff:""),[b,A]=(0,l.useState)({mod_role:"EDIT"===_?null===u||void 0===u?void 0:u.access_role:"",sid:"EDIT"===_?null===u||void 0===u||null===(i=u.access_staff)||void 0===i?void 0:i._id:"",app_array:[],one_tab:""}),[y,C]=(0,l.useState)("EDIT"===_?null===u||void 0===u?void 0:u.access_application:[]),[Z,I]=(0,l.useState)([]),[E]=(0,v.z_)();(0,l.useEffect)((()=>{if("EDIT"===_){var e;N(null===u||void 0===u?void 0:u.access_staff),C(null===u||void 0===u?void 0:u.access_application);let i=[];for(let e of null===u||void 0===u?void 0:u.access_application)i.push(null===e||void 0===e?void 0:e._id);I(i),A({mod_role:null===u||void 0===u?void 0:u.access_role,sid:null===u||void 0===u||null===(e=u.access_staff)||void 0===e?void 0:e._id,app_array:i}),j("PREVIEW_FORM")}}),[_]);const T=()=>{j("OPEN_STAFF_LIST")},P=e=>{A((i=>({...i,mod_role:"Fee receipt authority"===e?"ALL_FEE_ACCESS":"Application Manager"===e?"MULTI_APP_ACCESS":"Enquiries Section"===e?"INQUIRY_ACCESS":"Scholarship Manager"===e?"SCHOLARSHIP_ACCESS":"Excess Fee Refund"===e?"REFUND_ACCESS":"Pending Fee Manager"===e?"PENDING_FEE_ACCESS":"Tab Authority"===e?"ONE_TAB_ACCESS":"Data Export Authority"===e?"DATA_EXPORT_ACCESS":""})))},R=()=>{j("LOADING"),E({aid:d,active_tab:b.one_tab,addModerator:"MULTI_APP_ACCESS"===(null===b||void 0===b?void 0:b.mod_role)||"ONE_TAB_ACCESS"===(null===b||void 0===b?void 0:b.mod_role)?{mod_role:b.mod_role,sid:b.sid,app_array:Z}:b}).then((()=>{r(),j(""),c()})).catch({})};return(0,f.jsxs)(f.Fragment,{children:["OPEN_STAFF_LIST"===x&&(0,f.jsx)(O.default,{assignHead:"OPEN_STAFF_LIST"===x,headSelect:e=>{N(e),A((i=>({...i,sid:null===e||void 0===e?void 0:e._id}))),j("EDIT"===_?"PREVIEW_FORM":"ASSIGN_ROLE")},title:g("staff_list"),onClose:c,instituteId:o,viewAs:"ADMISSION_ADMIN"}),"ASSIGN_ROLE"===x&&(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(F.Z,{onClose:T,children:(0,f.jsxs)("div",{className:L.Z.assign_role_container,children:[(0,f.jsxs)("section",{className:L.Z.assign_role_title,children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:T,alt:"back icon"}),(0,f.jsx)("h6",{children:g("assign_role_to_moderator")})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,f.jsxs)("section",{className:L.Z.selected_staff_container,children:[(0,f.jsx)("img",{src:null!==S&&void 0!==S&&S.staffProfilePhoto?"".concat(m.yI,"/").concat(null===S||void 0===S?void 0:S.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,f.jsxs)("div",{className:L.Z.selected_staff_text,children:[(0,f.jsx)("h6",{children:"".concat(null!==(n=null===S||void 0===S?void 0:S.staffFirstName)&&void 0!==n?n:""," ").concat(null!==(t=null===S||void 0===S?void 0:S.staffMiddleName)&&void 0!==t?t:""," ").concat(null!==(a=null===S||void 0===S?void 0:S.staffLastName)&&void 0!==a?a:"")}),(0,f.jsxs)("p",{children:[g("index_number"),null!==(s=null===S||void 0===S?void 0:S.staffROLLNO)&&void 0!==s?s:""]})]})]}),(0,f.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,f.jsx)(w.Z,{selectLabel:g("select_role_of_moderator"),selectedValue:g("please_select_role"),options:["Fee receipt authority","Application Manager","Enquiries Section","Scholarship Manager","Excess Fee Refund","Pending Fee Manager","Tab Authority","Data Export Authority"],value:"ALL_FEE_ACCESS"===(null===b||void 0===b?void 0:b.mod_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===b||void 0===b?void 0:b.mod_role)?"Application Manager":"INQUIRY_ACCESS"===(null===b||void 0===b?void 0:b.mod_role)?"Enquiries Section":"SCHOLARSHIP_ACCESS"===(null===b||void 0===b?void 0:b.mod_role)?"Scholarship Manager":"REFUND_ACCESS"===(null===b||void 0===b?void 0:b.mod_role)?"Excess Fee Refund":"PENDING_FEE_ACCESS"===(null===b||void 0===b?void 0:b.mod_role)?"Pending Fee Manager":"ONE_TAB_ACCESS"===(null===b||void 0===b?void 0:b.mod_role)?"Tab Authority":"DATA_EXPORT_ACCESS"===(null===b||void 0===b?void 0:b.mod_role)?"Data Export Authority":"",onClick:P}),"ONE_TAB_ACCESS"===b.mod_role&&(0,f.jsx)(w.Z,{selectLabel:g("select_tab_role"),selectedValue:g("please_select_role"),options:["Application","Selected","Confirmed","Allotted","Cancelled"],value:null===b||void 0===b?void 0:b.one_tab,onClick:e=>{A((i=>({...i,one_tab:e})))}}),"MULTI_APP_ACCESS"===b.mod_role?(0,f.jsxs)("button",{className:L.Z.select_application_btn,onClick:()=>j("SELECT_APPLICATION"),children:[(0,f.jsx)("div",{children:g("moderator_select_application")}),(0,f.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}):(0,f.jsxs)("button",{className:L.Z.assign_btn,onClick:R,children:[g("assign")," "]})]})]})})}),"SELECT_APPLICATION"===x&&(0,f.jsx)(H,{admissionId:d,setActivePopup:j,setSelectedApplication:C,selectedApplication:y,setSelectedApplicationId:I,selectedApplicationId:Z,openAs:_,role:b.mod_role}),"MODERATOR_PREWVIEW"===x&&(0,f.jsx)(B,{setActivePopup:j,selectedApplication:y,selectedStaff:S,moderatorState:b,onAssignModerator:R}),"PREVIEW_FORM"===x&&(0,f.jsx)(G,{onCloseEdit:()=>{c()},setActivePopup:j,selectedStaff:S,moderatorState:b,onSelectRole:P,onUpdateModerator:()=>{h(b,Z),c()},selectedApplication:y}),"LOADING"===x&&(0,f.jsx)(M.Z,{})]})};var J=n(12072),W=n(84489),$=n(87049);const Y=e=>{let{onClose:i,admissionId:n,onRefetch:t,openModeratorMenu:a,instituteId:s}=e;const[o,d]=(0,l.useState)(!1),[c,r]=(0,l.useState)(!1),[u]=(0,v.vh)(),[m]=(0,v.Pn)();return(0,f.jsx)(f.Fragment,{children:c?(0,f.jsx)(V,{onClose:()=>r(!1),admissionId:n,instituteId:s,onRefetch:t,openAs:"EDIT",openModeratorMenu:a,onEdit:(e,n)=>{d((e=>!e)),r(!1),m({modId:null===a||void 0===a?void 0:a._id,active_tab:null===e||void 0===e?void 0:e.one_tab,updateModerator:{role:null===e||void 0===e?void 0:e.mod_role,staffId:null===e||void 0===e?void 0:e.sid,app_array:"MULTI_APP_ACCESS"===(null===e||void 0===e?void 0:e.mod_role)||"MULTI_APP_ACCESS"===(null===e||void 0===e?void 0:e.mod_role)?n:[]}}).then((()=>{t(),d((e=>!e)),i()})).catch({})}}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(W.Z,{onClose:i}),(0,f.jsxs)(J.Z,{customStyle:{zIndex:"1200"},children:[(0,f.jsxs)("div",{className:$.Z.edit_modal_container,style:{width:"200px"},children:[(0,f.jsx)("h6",{className:$.Z.edit,onClick:()=>r((e=>!e)),children:"Edit"}),(0,f.jsx)("h6",{className:$.Z.remove,onClick:()=>{d((e=>!e)),u({aid:n,modId:null===a||void 0===a?void 0:a._id}).then((()=>{t(),i(),d((e=>!e))})).catch({})},children:"Delete"})]}),o&&(0,f.jsx)(M.Z,{})]})]})})},Q=e=>{var i,n,l,t,a,s,o,d,c,r,u;let{moderator:v,setOpenModeratorMenu:_}=e;const{t:h}=(0,p.$G)();return(0,f.jsxs)("div",{className:L.Z.moderator_card,children:[(0,f.jsx)("img",{src:null!==v&&void 0!==v&&null!==(i=v.access_staff)&&void 0!==i&&i.staffProfilePhoto?"".concat(m.yI,"/").concat(null===v||void 0===v||null===(n=v.access_staff)||void 0===n?void 0:n.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"moderator avatar"}),(0,f.jsxs)("section",{className:L.Z.moderator_card_text_container,children:[(0,f.jsx)("h6",{children:"".concat(null===v||void 0===v||null===(l=v.access_staff)||void 0===l?void 0:l.staffFirstName," ").concat(null!==(t=null===v||void 0===v||null===(a=v.access_staff)||void 0===a?void 0:a.staffMiddleName)&&void 0!==t?t:""," ").concat(null===v||void 0===v||null===(s=v.access_staff)||void 0===s?void 0:s.staffLastName)}),(0,f.jsxs)("p",{children:[h("index_number"),null===v||void 0===v||null===(o=v.access_staff)||void 0===o?void 0:o.staffROLLNO]}),(0,f.jsx)("p",{children:"ALL_FEE_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Application Manager":"INQUIRY_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Enquiries Section":"SCHOLARSHIP_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Scholarship Manager":"REFUND_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Access Fee Moderator":"PENDING_FEE_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Pending Fee Manager":"ONE_TAB_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Application"===(null===v||void 0===v||null===(d=v.active_tab)||void 0===d?void 0:d.role)?"Admission Application Tab":"Selected"===(null===v||void 0===v||null===(c=v.active_tab)||void 0===c?void 0:c.role)?"Admission Selected Tab":"Confirmed"===(null===v||void 0===v||null===(r=v.active_tab)||void 0===r?void 0:r.role)?"Admission Confirmed Tab":"Allotted"===(null===v||void 0===v||null===(u=v.active_tab)||void 0===u?void 0:u.role)?"Admission Allotted Tab":"Admission Cancelled Tab":"DATA_EXPORT_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Data Export Authority":""})]}),(0,f.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:()=>_(v),className:L.Z.menu_icon,title:"Menu"})]})};var z=n(65543);const X=e=>{let{instituteId:i,admissionId:n}=e;const{t:t}=(0,p.$G)(),a=(0,x.s0)(),[s,o]=(0,l.useState)(!1),[d,c]=(0,l.useState)(""),[r,u]=(0,R.YD)(),[m,_]=(0,l.useState)(1),[h,g]=(0,l.useState)(!0),[j,S]=(0,l.useState)(!1),[N,b]=(0,l.useState)(!0),[A,y]=(0,l.useState)([]),{getModeratorByAdmissionAdmin:C,getModeratorByAdmissionAdminRefetch:Z}=(0,v.fW)({data:{aid:n,page:m,limit:10},skip:!n}),{scrollToTop:I}=(0,z.u)();(0,l.useEffect)((()=>{I()}),[]),(0,l.useEffect)((()=>{n&&(b(!0),Z())}),[n,m,Z]),(0,l.useEffect)((()=>{u&&h&&_((e=>e+1))}),[u,h]),(0,l.useEffect)((()=>{var e,i;j?(y(null===C||void 0===C?void 0:C.all_mods),S(!1),b(!1)):null!==C&&void 0!==C&&C.all_mods?(y((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===C||void 0===C?void 0:C.all_mods])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),b(!1)):0===(null===C||void 0===C||null===(i=C.all_mods)||void 0===i?void 0:i.length)&&b(!1);10===(null===C||void 0===C||null===(e=C.all_mods)||void 0===e?void 0:e.length)?g(!0):g(!1)}),[null===C||void 0===C?void 0:C.all_mods]);const E=()=>{S(!0),_(1),b(!0),Z()};return(0,f.jsxs)("div",{className:L.Z.moderator_container,children:[(0,f.jsxs)("section",{className:L.Z.moderator_container_title,children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{a(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,f.jsx)("h6",{children:t("admission_moderators")})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,f.jsx)("h6",{className:L.Z.add_new_moderator,onClick:()=>o(!0),children:t("add_new_moderator")}),(0,f.jsxs)("div",{className:L.Z.refund_list,children:[null===A||void 0===A?void 0:A.map(((e,i)=>(null===A||void 0===A?void 0:A.length)===i+1?(0,f.jsx)("div",{ref:r,children:(0,f.jsx)(Q,{moderator:e,setOpenModeratorMenu:c})},null===e||void 0===e?void 0:e._id):(0,f.jsx)(Q,{moderator:e,setOpenModeratorMenu:c},null===e||void 0===e?void 0:e._id))),s&&(0,f.jsx)(V,{onClose:()=>o((e=>!e)),instituteId:i,admissionId:n,onRefetchWhenAdd:E}),d&&(0,f.jsx)(Y,{admissionId:n,instituteId:i,onRefetch:E,onClose:()=>c(""),openModeratorMenu:d}),N&&(0,f.jsx)(k.Z,{})]})]})};var K=n(29407),ee=n(25313),ie=n(41233),ne=n(33992),le=n(16256),te=n(87932);const ae=e=>{var i,n;let{admissionId:t,instituteId:a,financeId:s,carryParentState:o,onClose:d,viewAs:c,onRefetch:r}=e;const{t:u}=(0,p.$G)(),m=(0,x.s0)(),_=(0,x.UO)(),[h,g]=(0,l.useState)(!1),[j,S]=(0,l.useState)(!1),[N,b]=(0,l.useState)({depart:"",batch:"",master:"",fee_struct:""}),[A,y]=(0,l.useState)({gender:"",caste:"",is_all:""}),{allDepartmentList:C,allDepartmentListRefetch:Z}=(0,v.nJ)({aid:t,skip:!t}),{allClassMaster:I,allClassMasterRefetch:E}=(0,ne.tx)({data:{id:a,did:N.depart},skip:"All"===N.depart||!N.depart}),{oneDepartment:T,oneDepartmentRefetch:P}=(0,ne._C)({did:N.depart,skip:"All"===N.depart||!N.depart}),{getAllFeesCategory:R,getAllFeesCategoryRefetch:k}=(0,te.Z)({fid:s,skip:!s}),[D]=(0,v.rJ)();(0,l.useEffect)((()=>{t&&Z()}),[t,Z]),(0,l.useEffect)((()=>{N.depart&&"All"!==N.depart&&E()}),[N.depart,E]),(0,l.useEffect)((()=>{N.depart&&"All"!==N.depart&&P()}),[N.depart,P]),(0,l.useEffect)((()=>{s&&k()}),[s,k]);return(0,f.jsxs)(F.Z,{onClose:d,children:[(0,f.jsxs)("div",{className:ee.Z.filter_container,children:[(0,f.jsx)("h6",{className:ee.Z.filter_title,children:u("filter_and_export_fees_data")}),!h&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ie.Z,{selectLabel:u("select_department"),selectedValue:u("all_select_particular_department"),options:null!==C&&void 0!==C&&C.allDB?["All",...null===C||void 0===C?void 0:C.allDB]:["All"],onClick:e=>{b((i=>({...i,depart:e})))}}),(0,f.jsx)(ie.Z,{selectLabel:"All"===N.depart?u("select_current_batch"):u("select_batch_optional"),selectedValue:"All"===N.depart?u("select_pref"):u("all_time_select_batch"),options:"All"===N.depart?["Current","All"]:null!==T&&void 0!==T&&null!==(i=T.department)&&void 0!==i&&i.batches?[...null===T||void 0===T||null===(n=T.department)||void 0===n?void 0:n.batches]:[],onClick:e=>{b((i=>({...i,batch:e})))}}),"All"===N.depart?"":(0,f.jsx)(ie.Z,{selectLabel:u("select_standard_year"),selectedValue:u("select_standard_year_placeholder"),options:null!==I&&void 0!==I&&I.classMaster?[...null===I||void 0===I?void 0:I.classMaster]:[],onClick:e=>{b((i=>({...i,master:e})))}}),(0,f.jsx)("button",{className:ee.Z.next_btn,onClick:()=>g((e=>!e)),children:u("next")})]}),h&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ie.Z,{selectLabel:u("select_gender"),selectedValue:u("select_gender_placeholder"),options:["Male","Female","Other"],onClick:e=>{y((i=>({...i,gender:e})))}}),(0,f.jsx)(ie.Z,{selectLabel:u("select_caste_catgory"),selectedValue:u("select_caste_catgory_placeholder"),options:le.De,onClick:e=>{y((i=>({...i,caste:e})))}}),(0,f.jsx)(ie.Z,{selectLabel:u("select_fee_category"),selectedValue:u("select_fee_category_placeholder"),options:null!==R&&void 0!==R&&R.all_fees_format?[...null===R||void 0===R?void 0:R.all_fees_format]:[],onClick:e=>{b((i=>({...i,fee_struct:e})))}}),(0,f.jsx)(ie.Z,{selectLabel:u("select_all_or_pending"),selectedValue:u("select_all_or_pending_placeholder"),options:["All Time Fees","Pending Fees"],onClick:e=>{y((i=>({...i,is_all:"All Time Fees"===e})))}}),(0,f.jsx)("button",{className:ee.Z.next_btn,onClick:()=>{S((e=>!e)),D({aid:t,...A,all_depart:"All"===N.depart?"All":"Particular",batch_status:N.batch,pendingData:{depart:"All"===N.depart?"":N.depart,batch:"All"===N.depart?"":N.batch,master:"All"===N.depart?[]:[N.master],fee_struct:"All"===N.depart?"":N.fee_struct}}).then((()=>{"EXPORT"===c?(r(),d()):m("/q/".concat(_.username,"/member/admission?a=export"),{state:{...o}}),S((e=>!e))})).catch({})},children:u("export_data")})]})]}),j&&(0,f.jsx)(M.Z,{})]})};var se=n(85162);const oe=e=>{let{onClose:i,xlsxId:n,onRefetch:t,admissionId:a}=e;const[s,o]=(0,l.useState)(!1),[d,c]=(0,l.useState)(!1),[r]=(0,v.f_)(),[u]=(0,v.JD)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(W.Z,{onClose:i}),(0,f.jsxs)(J.Z,{customStyle:{zIndex:"1200"},children:[d?(0,f.jsx)(se.Z,{xlsxId:n,onEdit:e=>{o((e=>!e)),u({aid:a,xlsxId:null===n||void 0===n?void 0:n._id,excelUpdate:{excel_file_name:e}}).then((()=>{t(),o((e=>!e)),i()})).catch({})}}):(0,f.jsxs)("div",{className:$.Z.edit_modal_container,style:{width:"200px"},children:[(0,f.jsx)("h6",{className:$.Z.edit,onClick:()=>c((e=>!e)),children:"Edit"}),(0,f.jsx)("h6",{className:$.Z.remove,onClick:()=>{o((e=>!e)),r({aid:a,xlsxId:null===n||void 0===n?void 0:n._id}).then((()=>{t(),i(),o((e=>!e))})).catch({})},children:"Delete"})]}),s&&(0,f.jsx)(M.Z,{})]})]})},de=e=>{var i,n;let{admissionId:t,funds:a,carryParentState:s}=e;const{t:o}=(0,p.$G)(),d=(0,x.s0)(),[c,r]=(0,R.YD)(),[u,m]=(0,l.useState)(1),[_,h]=(0,l.useState)(!0),[g,j]=(0,l.useState)(!1),[S,N]=(0,l.useState)(!0),[b,A]=(0,l.useState)([]),[y,C]=(0,l.useState)(!1),[Z,I]=(0,l.useState)(!1),{getAllExcelByAdmissionAdmin:E,getAllExcelByAdmissionAdminRefetch:T}=(0,v.Ke)({data:{aid:t,page:u,limit:10},skip:!t}),{scrollToTop:P}=(0,z.u)();(0,l.useEffect)((()=>{P()}),[]),(0,l.useEffect)((()=>{t&&(N(!0),T())}),[t,u,T]),(0,l.useEffect)((()=>{r&&_&&m((e=>e+1))}),[r,_]),(0,l.useEffect)((()=>{var e,i;g?(A(null===E||void 0===E?void 0:E.all_excel),j(!1),N(!1)):null!==E&&void 0!==E&&E.all_excel?(A((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===E||void 0===E?void 0:E.all_excel])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),N(!1)):0===(null===E||void 0===E||null===(i=E.all_excel)||void 0===i?void 0:i.length)&&N(!1);10===(null===E||void 0===E||null===(e=E.all_excel)||void 0===e?void 0:e.length)?h(!0):h(!1)}),[null===E||void 0===E?void 0:E.all_excel]);const O=()=>{C((e=>!e))},w=()=>{m(1),T(),j(!0)};return(0,f.jsxs)("div",{className:K.Z.refund_container,children:[(0,f.jsxs)("section",{className:K.Z.refund_container_title,children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{d(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,f.jsxs)("div",{className:K.Z.refund_container_title,style:{justifyContent:"space-between",width:"95%"},children:[(0,f.jsx)("h6",{children:o("data_export")}),(0,f.jsx)("img",{src:"/images/export-filter-icon.svg",alt:"",onClick:O,className:K.Z.admission_filter_icon})]})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,f.jsxs)("div",{className:K.Z.refund_list,children:[null===b||void 0===b?void 0:b.map(((e,i)=>{var n,l;return(null===b||void 0===b?void 0:b.length)===i+1?(0,f.jsxs)("a",{ref:c,className:K.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,f.jsx)("img",{src:"/images/export-xsxl-icon.svg",alt:""}),(0,f.jsxs)("section",{className:K.Z.export_card_text,children:[(0,f.jsx)("h6",{children:null!==(n=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==n?n:""}),(0,f.jsxs)("div",{className:K.Z.export_card_date,children:[(0,f.jsx)("h6",{children:q()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,f.jsx)("h6",{children:q()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]}),(0,f.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:i=>{i.preventDefault(),I(e)},className:K.Z.menu_icon,title:"Menu"})]},null===e||void 0===e?void 0:e._id):(0,f.jsxs)("a",{className:K.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,f.jsx)("img",{src:"/images/export-xsxl-icon.svg",alt:""}),(0,f.jsxs)("section",{className:K.Z.export_card_text,children:[(0,f.jsx)("h6",{children:null!==(l=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==l?l:""}),(0,f.jsxs)("div",{className:K.Z.export_card_date,children:[(0,f.jsx)("h6",{children:q()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,f.jsx)("h6",{children:q()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]}),(0,f.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:i=>{i.preventDefault(),I(e)},className:K.Z.menu_icon,title:"Menu"})]},null===e||void 0===e?void 0:e._id)})),S&&(0,f.jsx)(k.Z,{}),y&&(0,f.jsx)(ae,{admissionId:t,instituteId:null===a||void 0===a||null===(i=a.institute)||void 0===i?void 0:i._id,financeId:null===a||void 0===a||null===(n=a.institute)||void 0===n?void 0:n.financeDepart[0],carryParentState:s,onClose:O,viewAs:"EXPORT",onRefetch:w}),Z&&(0,f.jsx)(oe,{xlsxId:Z,onClose:()=>I(""),onRefetch:w,admissionId:t})]})]})};var ce=n(15961);const re=["enquiry","student"],ue=["receipt&n=request","receipt&n=accept","receipt&n=reject","student"],ve=["ongoing","ongoing&n=application","ongoing&n=select","ongoing&n=confirm","ongoing&n=allot","ongoing&n=cancel","ongoing&n=mulitple","student"],me=["scholarship","scholarship&n","student"],pe=["refund","student"],_e=["pending","student"],he=["ongoing","ongoing&n=application","student"],ge=["ongoing","ongoing&n=select","student"],xe=["ongoing","ongoing&n=confirm","ongoing&n=mulitple","student"],fe=["ongoing","ongoing&n=allot","student"],je=["ongoing","ongoing&n=cancel","student"],Se=["export","student"],Ne=e=>{let{carryParentState:i,activeTab:n,accessRole:l,accessTpye:t,callApi:a,children:s}=e;const o=(0,x.UO)();return(0,f.jsx)(f.Fragment,{children:"INQUIRY_ACCESS"===l?null!==re&&void 0!==re&&re.includes(n)?(0,f.jsx)(N.rU,{to:"/q/".concat(o.username,"/member/admission?a=").concat(n),state:{...i},children:s}):(0,f.jsx)("div",{style:{opacity:"0.5"},children:s}):"ALL_FEE_ACCESS"===l?null!==ue&&void 0!==ue&&ue.includes(n)?(0,f.jsx)(N.rU,{to:"/q/".concat(o.username,"/member/admission?a=").concat(n),state:{...i},children:s}):(0,f.jsx)("div",{style:{opacity:"0.5"},children:s}):"MULTI_APP_ACCESS"===l?null!==ve&&void 0!==ve&&ve.includes(n)?(0,f.jsx)(N.rU,{to:"/q/".concat(o.username,"/member/admission?a=").concat(n),state:{...i},children:s}):(0,f.jsx)("div",{style:{opacity:"0.5"},children:s}):"SCHOLARSHIP_ACCESS"===l?null!==me&&void 0!==me&&me.includes(null===n||void 0===n?void 0:n.substring(0,11))?(0,f.jsx)(N.rU,{to:"/q/".concat(o.username,"/member/admission?a=").concat(n),state:{...i},children:s}):(0,f.jsx)("div",{style:{opacity:"0.5"},children:s}):"REFUND_ACCESS"===l?null!==pe&&void 0!==pe&&pe.includes(n)?(0,f.jsx)(N.rU,{to:"/q/".concat(o.username,"/member/admission?a=").concat(n),state:{...i},children:s}):(0,f.jsx)("div",{style:{opacity:"0.5"},children:s}):"PENDING_FEE_ACCESS"===l?null!==_e&&void 0!==_e&&_e.includes(n)?(0,f.jsx)(N.rU,{to:"/q/".concat(o.username,"/member/admission?a=").concat(n),state:{...i},children:s}):(0,f.jsx)("div",{style:{opacity:"0.5"},children:s}):"ONE_TAB_ACCESS"===l?"Application"===t?null!==he&&void 0!==he&&he.includes(n)?(0,f.jsx)(N.rU,{to:"/q/".concat(o.username,"/member/admission?a=").concat(n),state:{...i},children:s}):(0,f.jsx)("div",{style:{opacity:"0.5"},children:s}):"Selected"===t?null!==ge&&void 0!==ge&&ge.includes(n)?(0,f.jsx)(N.rU,{to:"/q/".concat(o.username,"/member/admission?a=").concat(n),state:{...i},children:s}):(0,f.jsx)("div",{style:{opacity:"0.5"},children:s}):"Confirmed"===t?null!==xe&&void 0!==xe&&xe.includes(n)?(0,f.jsx)(N.rU,{to:"/q/".concat(o.username,"/member/admission?a=").concat(n),state:{...i},children:s}):(0,f.jsx)("div",{style:{opacity:"0.5"},children:s}):"Allotted"===t?null!==fe&&void 0!==fe&&fe.includes(n)?(0,f.jsx)(N.rU,{to:"/q/".concat(o.username,"/member/admission?a=").concat(n),state:{...i},children:s}):(0,f.jsx)("div",{style:{opacity:"0.5"},children:s}):null!==je&&void 0!==je&&je.includes(n)?(0,f.jsx)(N.rU,{to:"/q/".concat(o.username,"/member/admission?a=").concat(n),state:{...i},children:s}):(0,f.jsx)("div",{style:{opacity:"0.5"},children:s}):"DATA_EXPORT_ACCESS"===l?null!==Se&&void 0!==Se&&Se.includes(n)?(0,f.jsx)(N.rU,{to:"/q/".concat(o.username,"/member/admission?a=").concat(n),state:{...i},children:s}):(0,f.jsx)("div",{style:{opacity:"0.5"},children:s}):a?(0,f.jsx)(N.rU,{to:"/q/".concat(o.username,"/member/admission?a=").concat(n),state:{...i},children:s}):(0,f.jsx)("div",{style:{opacity:"0.5"},children:s})})},be=e=>{var i,n,l,t,a,s,o,d,c,r,u,v,m,p,_,h,g,x,j,S;let{data:N,carryParentState:b,accessRole:A,accessApplication:C,setOpenApplicationMenu:Z,accessTpye:I,callApi:E,pageOpenAs:T}=e;const P=e=>{e.preventDefault(),Z(N)};return(0,f.jsx)(f.Fragment,{children:"INSTITUTE"===T?(0,f.jsx)(y,{carryParentState:{...b,applicationId:null===N||void 0===N?void 0:N._id},activeTab:"?a=ongoing&n=application",children:(0,f.jsxs)("div",{className:ce.Z.ongoing_card,children:[(0,f.jsxs)("div",{className:ce.Z.ongoing_card_inner,children:[(0,f.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,f.jsxs)("div",{className:ce.Z.ongoing_card_text,children:[(0,f.jsx)("h6",{children:null===N||void 0===N?void 0:N.applicationName}),(0,f.jsx)("p",{children:null===N||void 0===N||null===(i=N.applicationDepartment)||void 0===i?void 0:i.dName})]})]}),(0,f.jsx)("div",{className:ce.Z.ongoing_card_count_date,children:(0,f.jsxs)("div",{className:ce.Z.ongoing_card_count_container,children:[(0,f.jsx)("h6",{children:null!==(n=null===N||void 0===N?void 0:N.receievedCount)&&void 0!==n?n:0}),(0,f.jsx)("h6",{children:null!==(l=null===N||void 0===N?void 0:N.selectCount)&&void 0!==l?l:0}),(0,f.jsx)("h6",{children:null!==(t=null===N||void 0===N?void 0:N.confirmCount)&&void 0!==t?t:0})]})}),(0,f.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:P,className:ce.Z.menu_icon,title:"Menu"})]})}):A?I?(0,f.jsx)(Ne,{carryParentState:{...b,applicationId:null===N||void 0===N?void 0:N._id},activeTab:"ongoing&n=".concat("Application"===I?"application":"Selected"===I?"select":"Confirmed"===I?"confirm":"Allotted"===I?"allot":"cancel"),accessRole:A,accessTpye:I,callApi:E,children:(0,f.jsxs)("div",{className:ce.Z.ongoing_card,children:[(0,f.jsxs)("div",{className:ce.Z.ongoing_card_inner,children:[(0,f.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,f.jsxs)("div",{className:ce.Z.ongoing_card_text,children:[(0,f.jsx)("h6",{children:null===N||void 0===N?void 0:N.applicationName}),(0,f.jsx)("p",{children:null===N||void 0===N||null===(a=N.applicationDepartment)||void 0===a?void 0:a.dName})]})]}),(0,f.jsx)("div",{className:ce.Z.ongoing_card_count_date,children:(0,f.jsxs)("div",{className:ce.Z.ongoing_card_count_container,children:[(0,f.jsx)("h6",{children:null!==(s=null===N||void 0===N?void 0:N.receievedCount)&&void 0!==s?s:0}),(0,f.jsx)("h6",{children:null!==(o=null===N||void 0===N?void 0:N.selectCount)&&void 0!==o?o:0}),(0,f.jsx)("h6",{children:null!==(d=null===N||void 0===N?void 0:N.confirmCount)&&void 0!==d?d:0})]})})]})}):null!==C&&void 0!==C&&C.includes(null===N||void 0===N?void 0:N._id)?(0,f.jsx)(Ne,{carryParentState:{...b,applicationId:null===N||void 0===N?void 0:N._id},activeTab:"ongoing&n=application",accessRole:A,callApi:E,children:(0,f.jsxs)("div",{className:ce.Z.ongoing_card,children:[(0,f.jsxs)("div",{className:ce.Z.ongoing_card_inner,children:[(0,f.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,f.jsxs)("div",{className:ce.Z.ongoing_card_text,children:[(0,f.jsx)("h6",{children:null===N||void 0===N?void 0:N.applicationName}),(0,f.jsx)("p",{children:null===N||void 0===N||null===(c=N.applicationDepartment)||void 0===c?void 0:c.dName})]})]}),(0,f.jsx)("div",{className:ce.Z.ongoing_card_count_date,children:(0,f.jsxs)("div",{className:ce.Z.ongoing_card_count_container,children:[(0,f.jsx)("h6",{children:null!==(r=null===N||void 0===N?void 0:N.receievedCount)&&void 0!==r?r:0}),(0,f.jsx)("h6",{children:null!==(u=null===N||void 0===N?void 0:N.selectCount)&&void 0!==u?u:0}),(0,f.jsx)("h6",{children:null!==(v=null===N||void 0===N?void 0:N.confirmCount)&&void 0!==v?v:0})]})})]})}):(0,f.jsxs)("div",{className:ce.Z.ongoing_card,style:{opacity:"0.5"},children:[(0,f.jsxs)("div",{className:ce.Z.ongoing_card_inner,children:[(0,f.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,f.jsxs)("div",{className:ce.Z.ongoing_card_text,children:[(0,f.jsx)("h6",{children:null===N||void 0===N?void 0:N.applicationName}),(0,f.jsx)("p",{children:null===N||void 0===N||null===(m=N.applicationDepartment)||void 0===m?void 0:m.dName})]})]}),(0,f.jsx)("div",{className:ce.Z.ongoing_card_count_date,children:(0,f.jsxs)("div",{className:ce.Z.ongoing_card_count_container,children:[(0,f.jsx)("h6",{children:null!==(p=null===N||void 0===N?void 0:N.receievedCount)&&void 0!==p?p:0}),(0,f.jsx)("h6",{children:null!==(_=null===N||void 0===N?void 0:N.selectCount)&&void 0!==_?_:0}),(0,f.jsx)("h6",{children:null!==(h=null===N||void 0===N?void 0:N.confirmCount)&&void 0!==h?h:0})]})})]}):(0,f.jsx)(Ne,{carryParentState:{...b,applicationId:null===N||void 0===N?void 0:N._id},activeTab:"ongoing&n=application",accessRole:A,accessTpye:I,callApi:E,children:(0,f.jsxs)("div",{className:ce.Z.ongoing_card,children:[(0,f.jsxs)("div",{className:ce.Z.ongoing_card_inner,children:[(0,f.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,f.jsxs)("div",{className:ce.Z.ongoing_card_text,children:[(0,f.jsx)("h6",{children:null===N||void 0===N?void 0:N.applicationName}),(0,f.jsx)("p",{children:null===N||void 0===N||null===(g=N.applicationDepartment)||void 0===g?void 0:g.dName})]})]}),(0,f.jsx)("div",{className:ce.Z.ongoing_card_count_date,children:(0,f.jsxs)("div",{className:ce.Z.ongoing_card_count_container,children:[(0,f.jsx)("h6",{children:null!==(x=null===N||void 0===N?void 0:N.receievedCount)&&void 0!==x?x:0}),(0,f.jsx)("h6",{children:null!==(j=null===N||void 0===N?void 0:N.selectCount)&&void 0!==j?j:0}),(0,f.jsx)("h6",{children:null!==(S=null===N||void 0===N?void 0:N.confirmCount)&&void 0!==S?S:0})]})}),(0,f.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:P,className:ce.Z.menu_icon,title:"Menu"})]})})})};var Ae=n(61503),ye=n(95290);const Ce=e=>{var i;let{carryParentState:n,accessRole:t,accessApplication:a,accessTpye:s,callApi:o,admissionId:d,pageOpenAs:c}=e;const{t:u}=(0,p.$G)(),m=(0,r.v9)((e=>e.admissionChange)),[_,h]=(0,l.useState)(!0),[g,x]=(0,l.useState)(1),[j,S]=(0,R.YD)(),[N,b]=(0,l.useState)([]),[A,y]=(0,l.useState)(!0),[C,Z]=(0,l.useState)(""),[I,E]=(0,l.useState)(!1),[T,P]=(0,l.useState)(!1),{allOngoingApp:D,allOngoingAppRefetch:O}=(0,v.JG)({data:{aid:d||(null===m||void 0===m?void 0:m.aid),page:g,limit:10},skip:d?!d:!(null!==m&&void 0!==m&&m.aid)}),{scrollToTop:w}=(0,z.u)();(0,l.useEffect)((()=>{w()}),[]),(0,l.useEffect)((()=>{S&&_&&x((e=>e+1))}),[S,_]),(0,l.useEffect)((()=>{(null!==m&&void 0!==m&&m.aid||d)&&(y(!0),O())}),[null===m||void 0===m?void 0:m.aid,d,g,O]),(0,l.useEffect)((()=>{var e,i;I?(b(null===D||void 0===D?void 0:D.ongoing),y(!1),E(!1)):null!==D&&void 0!==D&&D.ongoing?(b((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===D||void 0===D?void 0:D.ongoing])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),y(!1)):0===(null===D||void 0===D||null===(i=D.ongoing)||void 0===i?void 0:i.length)&&y(!1);10===(null===D||void 0===D||null===(e=D.ongoing)||void 0===e?void 0:e.length)?h(!0):h(!1)}),[null===D||void 0===D?void 0:D.ongoing]);const M=()=>{x(1),E(!0),y(!0),O()};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("p",{className:ce.Z.add_new_category,onClick:()=>{t||P((e=>!e))},style:{opacity:t?"0.5":1},children:u("create_new_application")}),(0,f.jsxs)("div",{className:ce.Z.remainingFees,children:[null===N||void 0===N?void 0:N.map(((e,i)=>(null===N||void 0===N?void 0:N.length)===i+1?(0,f.jsx)("div",{ref:j,children:(0,f.jsx)(be,{data:e,carryParentState:n,accessRole:t,accessTpye:s,callApi:o,accessApplication:a,setOpenApplicationMenu:Z,pageOpenAs:c})},i):(0,f.jsx)(be,{data:e,carryParentState:n,accessRole:t,accessTpye:s,callApi:o,accessApplication:a,setOpenApplicationMenu:Z,pageOpenAs:c},i))),A&&(0,f.jsx)(k.Z,{status:"white"})]}),C&&(0,f.jsx)(Ae.Z,{openApplicationMenu:C,onClose:()=>Z(""),onRefetch:M,insAdmissionId:d}),T&&(0,f.jsx)(ye.Z,{setCreateApplication:P,createApplication:T,admissionId:null!==(i=null===m||void 0===m?void 0:m.aid)&&void 0!==i?i:d,setRefetchOngoining:M})]})};var Ze=n(763),Ie=n(20132),Ee=n(87338),Te=n(51561);const Pe=e=>{var i,n,l,t,a,s,o,d,c,r,u,v,p,_,h,g,x,j,S,N,b,A,y,C;let{applicant:Z,onSelectApplicant:I,transferApplicat:E}=e;return(0,f.jsxs)("div",{className:null!==E&&void 0!==E&&E.includes(null===Z||void 0===Z?void 0:Z._id)?"".concat(ce.Z.applicant_card_container," ").concat(ce.Z.applicant_card_container_active):"".concat(ce.Z.applicant_card_container," ").concat(ce.Z.applicant_card_container_hover),onClick:()=>{I(Z)},children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_inner,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===Z||void 0===Z||null===(i=Z.student)||void 0===i?void 0:i.photoId)?"".concat(m.yI,"/").concat(null===Z||void 0===Z||null===(n=Z.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,f.jsx)("div",{className:ce.Z.applicant_card_inner_info,children:(0,f.jsx)("h6",{children:"".concat(null===Z||void 0===Z||null===(l=Z.student)||void 0===l?void 0:l.studentFirstName," ").concat(null!==Z&&void 0!==Z&&null!==(t=Z.student)&&void 0!==t&&t.studentMiddleName?null===Z||void 0===Z||null===(a=Z.student)||void 0===a?void 0:a.studentMiddleName:""," ").concat(null===Z||void 0===Z||null===(s=Z.student)||void 0===s?void 0:s.studentLastName)})})]}),(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact,children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,f.jsx)("p",{children:null===Z||void 0===Z||null===(o=Z.student)||void 0===o?void 0:o.studentGender})]}),((null===Z||void 0===Z||null===(d=Z.student)||void 0===d?void 0:d.studentPhoneNumber)||(null===Z||void 0===Z||null===(c=Z.student)||void 0===c||null===(r=c.user)||void 0===r?void 0:r.userPhoneNumber)||(null===Z||void 0===Z||null===(u=Z.student)||void 0===u||null===(v=u.user)||void 0===v?void 0:v.userEmail)||(null===Z||void 0===Z||null===(p=Z.student)||void 0===p?void 0:p.studentParentsPhoneNumber))&&(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,f.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==Z&&void 0!==Z&&null!==(_=Z.student)&&void 0!==_&&null!==(h=_.user)&&void 0!==h&&h.userPhoneNumber?null===Z||void 0===Z||null===(g=Z.student)||void 0===g||null===(x=g.user)||void 0===x?void 0:x.userPhoneNumber:null!==Z&&void 0!==Z&&null!==(j=Z.student)&&void 0!==j&&null!==(S=j.user)&&void 0!==S&&S.userEmail?null===Z||void 0===Z||null===(N=Z.student)||void 0===N||null===(b=N.user)||void 0===b?void 0:b.userEmail:null!==Z&&void 0!==Z&&null!==(A=Z.student)&&void 0!==A&&A.studentPhoneNumber?null===Z||void 0===Z||null===(y=Z.student)||void 0===y?void 0:y.studentPhoneNumber:null===Z||void 0===Z||null===(C=Z.student)||void 0===C?void 0:C.studentParentsPhoneNumber})]})]})]})},Re=e=>{let{onBack:i,onSelectApp:n,transferApplication:t}=e;const a=(0,r.v9)((e=>e.admissionChange)),{t:s}=(0,p.$G)(),[o,d]=(0,l.useState)(!0),[c,u]=(0,l.useState)(1),[m,_]=(0,R.YD)(),[h,g]=(0,l.useState)([]),[x,j]=(0,l.useState)(!0),{allOngoingApp:S,allOngoingAppRefetch:N}=(0,v.JG)({data:{aid:null===a||void 0===a?void 0:a.aid,page:c,limit:10},skip:!(null!==a&&void 0!==a&&a.aid)});(0,l.useEffect)((()=>{_&&o&&u((e=>e+1))}),[_,o]),(0,l.useEffect)((()=>{null!==a&&void 0!==a&&a.aid&&(j(!0),N())}),[null===a||void 0===a?void 0:a.aid,c,N]),(0,l.useEffect)((()=>{null!==a&&void 0!==a&&a.aid&&(j(!0),N())}),[null===a||void 0===a?void 0:a.aid,N]),(0,l.useEffect)((()=>{var e;null!==S&&void 0!==S&&S.ongoing&&(g((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===S||void 0===S?void 0:S.ongoing])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),j(!1)),10===(null===S||void 0===S||null===(e=S.ongoing)||void 0===e?void 0:e.length)?d(!0):d(!1)}),[null===S||void 0===S?void 0:S.ongoing]);const b=e=>{n(e)};return(0,f.jsx)(F.Z,{onClose:i,children:(0,f.jsxs)("div",{className:L.Z.assign_role_container,children:[(0,f.jsxs)("section",{className:L.Z.assign_role_title,style:{position:"relative"},children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:i,alt:"back icon",style:{cursor:"pointer"}}),(0,f.jsx)("h6",{children:s("select_application")})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%"}}),null===h||void 0===h?void 0:h.map(((e,i)=>{var n,l,a,s,o,d;return(null===h||void 0===h?void 0:h.length)===i+1?(0,f.jsxs)("div",{className:(null===t||void 0===t?void 0:t._id)===(null===e||void 0===e?void 0:e._id)?"".concat(L.Z.application_card," ").concat(L.Z.application_card_active):L.Z.application_card,ref:m,onClick:()=>b(e),children:[(0,f.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,f.jsxs)("section",{className:L.Z.application_card_text,children:[(0,f.jsx)("h6",{children:null!==(n=null===e||void 0===e?void 0:e.applicationName)&&void 0!==n?n:""}),(0,f.jsx)("div",{className:L.Z.application_card_text_bottom,children:(0,f.jsx)("p",{children:null!==(l=null===e||void 0===e||null===(a=e.applicationDepartment)||void 0===a?void 0:a.dName)&&void 0!==l?l:""})})]})]},null===e||void 0===e?void 0:e._id):(0,f.jsxs)("div",{className:(null===t||void 0===t?void 0:t._id)===(null===e||void 0===e?void 0:e._id)?"".concat(L.Z.application_card," ").concat(L.Z.application_card_active):L.Z.application_card,onClick:()=>b(e),children:[(0,f.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,f.jsxs)("section",{className:L.Z.application_card_text,children:[(0,f.jsx)("h6",{children:null!==(s=null===e||void 0===e?void 0:e.applicationName)&&void 0!==s?s:""}),(0,f.jsx)("div",{className:L.Z.application_card_text_bottom,children:(0,f.jsx)("p",{children:null!==(o=null===e||void 0===e||null===(d=e.applicationDepartment)||void 0===d?void 0:d.dName)&&void 0!==o?o:""})})]})]},null===e||void 0===e?void 0:e._id)})),x&&(0,f.jsx)(k.Z,{status:"white"})]})})},ke=e=>{var i,n;let{onClose:t,applicationId:a,onRefetchConfirmTab:s}=e;const{t:o}=(0,p.$G)(),[d,c]=(0,l.useState)(0),[r,u]=(0,l.useState)(!0),[m,_]=(0,l.useState)(1),[h,g]=(0,l.useState)(""),[x,j]=(0,R.YD)(),[S,N]=(0,l.useState)([]),[b,A]=(0,l.useState)(!1),[y,C]=(0,l.useState)(!0),[Z,I]=(0,l.useState)(""),[E,T]=(0,l.useState)([]),[P,O]=(0,l.useState)([]),[w,L]=(0,l.useState)(!1),[U]=(0,v.hE)(),{getAllConfirmList:q,getAllConfirmListRefetch:B}=(0,v.RR)({data:{id:a,page:m,limit:10,search:h||""},skip:!a});(0,l.useEffect)((()=>{j&&r&&_((e=>e+1))}),[j,r]),(0,l.useEffect)((()=>{a&&(C(!0),B())}),[m,a,B,h]),(0,l.useEffect)((()=>{var e,i;h?(N(null===q||void 0===q?void 0:q.confirm),C(!1)):b?(N(null===q||void 0===q?void 0:q.confirm),A(!1),C(!1)):null!==q&&void 0!==q&&q.confirm?(N((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===q||void 0===q?void 0:q.confirm])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),C(!1)):0===(null===q||void 0===q||null===(i=q.confirm)||void 0===i?void 0:i.length)&&C(!1);10===(null===q||void 0===q||null===(e=q.confirm)||void 0===e?void 0:e.length)?u(!0):u(!1)}),[null===q||void 0===q?void 0:q.confirm]);const G=(0,l.useCallback)((0,Ze.debounce)((e=>g(e)),500),[]),H=()=>{w||(0===d?t():c(1===d?0:1))},V=e=>{if(null!==E&&void 0!==E&&E.includes(null===e||void 0===e?void 0:e._id))T((i=>null===i||void 0===i?void 0:i.filter((i=>i!==(null===e||void 0===e?void 0:e._id))))),O((i=>null===i||void 0===i?void 0:i.filter((i=>{var n;return(null===i||void 0===i?void 0:i.studentId)!==(null===e||void 0===e||null===(n=e.student)||void 0===n?void 0:n._id)}))));else{var i;let n={studentId:null===e||void 0===e||null===(i=e.student)||void 0===i?void 0:i._id,mode:null===e||void 0===e?void 0:e.payment_status,type:null===e||void 0===e?void 0:e.install_type,price:null===e||void 0===e?void 0:e.fee_remain};O((e=>null!==e&&void 0!==e&&e.length?[...e,n]:[n])),T((i=>null!==i&&void 0!==i&&i.length?[...i,null===e||void 0===e?void 0:e._id]:[null===e||void 0===e?void 0:e._id]))}};return(0,f.jsx)(f.Fragment,{children:0===d||2===d?(0,f.jsx)(F.Z,{onClose:H,children:(0,f.jsxs)("div",{className:ce.Z.admission_modal,children:[0===d?(0,f.jsxs)("div",{className:ce.Z.transfer_container,children:[(0,f.jsx)("h6",{className:ce.Z.admission_modal_heading,children:o("select_confirm_student")}),(0,f.jsxs)("button",{className:ce.Z.transfer_select_btn,onClick:()=>{c(1)},children:[null!==(i=null===E||void 0===E?void 0:E.length)&&void 0!==i?i:""," "," ",o("select")]})]}):(0,f.jsx)("h6",{className:ce.Z.admission_modal_heading,children:o("transfer_select_student")}),(0,f.jsx)(D.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),0===d?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:ce.Z.with_search,style:{marginBottom:"0.7rem"},children:(0,f.jsx)("div",{className:ce.Z.search_container_filter,style:{width:"100%"},children:(0,f.jsx)("section",{className:ce.Z.search_container,style:{width:"100%"},children:(0,f.jsxs)("div",{className:ce.Z.search_container_input,style:{width:"100%"},children:[(0,f.jsx)("img",{className:ce.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,f.jsx)("input",{type:"text",placeholder:"Search classes...",onChange:e=>{G(e.target.value)},style:{width:"100%"}})]})})})}),null===S||void 0===S?void 0:S.map(((e,i)=>(null===S||void 0===S?void 0:S.length)===i+1?(0,f.jsx)("div",{ref:x,children:(0,f.jsx)(Pe,{applicant:e,onSelectApplicant:V,transferApplicat:E})},i):(0,f.jsx)(Pe,{applicant:e,onSelectApplicant:V,transferApplicat:E},i))),y&&(0,f.jsx)(k.Z,{status:"white"})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:ce.Z.admission_class_confirm,children:[o("transfering")," ",(0,f.jsx)("span",{style:{fontWeight:"600"},children:null===E||void 0===E?void 0:E.length})," ",o("students")," "," ",",",o("to")," ",(0,f.jsx)("span",{style:{fontWeight:"600"},children:null!==(n=null===Z||void 0===Z?void 0:Z.applicationName)&&void 0!==n?n:""})]}),(0,f.jsx)("div",{className:ce.Z.confirm_btn,onClick:()=>{null!==Z&&void 0!==Z&&Z._id&&a&&null!==E&&void 0!==E&&E.length&&(L((e=>!e)),U({aid:null===Z||void 0===Z?void 0:Z._id,transferApplicantData:{app_array:E,oaid:a,student_array:P}}).then((()=>{s(),L((e=>!e)),t()})).catch({}))},children:o("confirm")})]}),w&&(0,f.jsx)(M.Z,{})]})}):(0,f.jsx)(Re,{onBack:H,onSelectApp:e=>{I(e),c(2)},transferApplication:Z})})},De=["Request_Query","Confirm_Query","Allot_Query"],Oe=e=>{var i,n,t,a,s,o,d;let{applicationDetail:c,carryParentState:r,instituteId:u,tabStatusFlow:v,applicationDetailApplicablePending:m,onRefetchConfirmTab:p,pageOpenAs:_,children:h}=e;const g=(0,x.s0)(),j=(0,x.UO)(),[S,b]=(0,l.useState)({msg:"",run:!1}),[A,y]=(0,l.useState)(!1),[C,Z]=(0,l.useState)(!1),[I,E]=(0,l.useState)(!1),[T]=(0,Ee.Y$)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("section",{className:ce.Z.moderator_container_title,children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{g("/q/".concat(j.username,"INSTITUTE"===_?"/admission?a=ongoing":"/member/admission?a=ongoing"),{state:{...r}})},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,f.jsxs)("div",{className:ce.Z.with_search,children:[(0,f.jsx)("h6",{children:null!==(i=null===c||void 0===c?void 0:c.applicationName)&&void 0!==i?i:""}),(0,f.jsxs)("div",{className:ce.Z.search_container_filter,children:[(0,f.jsx)("section",{className:ce.Z.search_container,children:(0,f.jsxs)("div",{className:ce.Z.search_container_input,children:[(0,f.jsx)("img",{className:ce.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),h]})}),(0,f.jsx)(N.rU,{to:"/q/joining",state:{formAs:"STUDENT",openAs:"ADMISSION_ADMIN_SIDE",instituteId:u,appId:null===c||void 0===c?void 0:c._id,admissionAmount:[null!==(n=null===c||void 0===c?void 0:c.admissionFee)&&void 0!==n?n:0,null!==(t=null===c||void 0===c||null===(a=c.one_installments)||void 0===a?void 0:a.fees)&&void 0!==t?t:0],applicationMaster:null===c||void 0===c?void 0:c.applicationMaster,applicationDepartment:null===c||void 0===c||null===(s=c.applicationDepartment)||void 0===s?void 0:s._id,batchId:null===c||void 0===c||null===(o=c.applicationBatch)||void 0===o?void 0:o._id,departmentId:null===c||void 0===c||null===(d=c.applicationDepartment)||void 0===d?void 0:d._id,whichFormShow:"DEPARTMENT"},children:(0,f.jsx)("img",{style:{height:"2.2rem",cursor:"pointer"},src:"/images/add-icon.svg",alt:"icon",title:"Add student"})}),(0,f.jsx)("img",{style:{height:"2.2rem",cursor:"pointer"},onClick:()=>Z(!0),src:"/images/application_info.svg",alt:"icon",title:"View Application Details"}),De.includes(v)?(0,f.jsx)("img",{style:{height:"2.2rem",cursor:"pointer"},onClick:()=>{null!==c&&void 0!==c&&c._id&&v&&(y((e=>!e)),T({appId:null===c||void 0===c?void 0:c._id,flow:v}).then((e=>{var i;b({msg:null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.message,run:!0}),setTimeout((()=>{g("/q/".concat(j.username,"INSTITUTE"===_?"/admission?a=export":"/member/admission?a=export"),{state:r})}),1e3)})).catch({}))},src:"/images/member_tab/finance/finance-export-icon.svg",alt:""}):null,"Confirm_Query"===v?(0,f.jsx)("img",{style:{height:"2.2rem",cursor:"pointer"},onClick:()=>E(!0),src:"/images/member_tab/admission/admission-transfer-icon.svg",alt:""}):null]})]})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),C&&(0,f.jsx)(Ie.Z,{completeApplication:!0,viewDetail:C,applicationDetail:c,hideModal:Z,carryParentState:r,applicationDetailApplicablePending:m,pageOpenAs:_}),I&&(0,f.jsx)(ke,{instituteId:u,applicationId:null===c||void 0===c?void 0:c._id,onClose:()=>E(!1),onRefetchConfirmTab:p}),A&&(0,f.jsx)(M.Z,{}),(0,f.jsx)(Te.Ch,{msg:S.msg,run:S.run,setRun:()=>b({msg:"",run:!1}),postiton:"bottom",type:"success"})]})};var we=n(47167);const Me=e=>{var i,n,l,t,a;let{carryParentState:s,accessRole:o,accessTpye:d,pageOpenAs:c}=e;const{t:r}=(0,p.$G)(),u=(0,x.TH)(),v=[{name:r("application"),id:0,url:"member/admission?a=ongoing&n=application",is_active:["MULTI_APP_ACCESS"].includes(o)||!o?"enabled":["ONE_TAB_ACCESS"].includes(o)?"Application"===d?"enabled":"disabled":"enabled"},{name:r("selected"),id:1,url:"member/admission?a=ongoing&n=select",is_active:["MULTI_APP_ACCESS"].includes(o)||!o?"enabled":["ONE_TAB_ACCESS"].includes(o)?"Selected"===d?"enabled":"disabled":"enabled"},{name:r("confirmed"),id:2,url:"member/admission?a=ongoing&n=confirm",is_active:["MULTI_APP_ACCESS"].includes(o)||!o?"enabled":["ONE_TAB_ACCESS"].includes(o)?"Confirmed"===d?"enabled":"disabled":"enabled"},{name:r("allotted"),id:3,url:"member/admission?a=ongoing&n=allot",is_active:["MULTI_APP_ACCESS"].includes(o)||!o?"enabled":["ONE_TAB_ACCESS"].includes(o)?"Allotted"===d?"enabled":"disabled":"enabled"},{name:r("cancelled"),id:4,url:"member/admission?a=ongoing&n=cancel",is_active:["MULTI_APP_ACCESS"].includes(o)||!o?"enabled":["ONE_TAB_ACCESS"].includes(o)?"Cancelled"===d?"enabled":"disabled":"enabled"}],m=[{name:r("application"),id:0,url:"admission?a=ongoing&n=application",is_active:"enabled"},{name:r("selected"),id:1,url:"admission?a=ongoing&n=select",is_active:"enabled"},{name:r("confirmed"),id:2,url:"admission?a=ongoing&n=confirm",is_active:"enabled"},{name:r("allotted"),id:3,url:"admission?a=ongoing&n=allot",is_active:"enabled"},{name:r("cancelled"),id:4,url:"admission?a=ongoing&n=cancel",is_active:"enabled"}];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(we.Z,{tabList:"INSTITUTE"===c?m:v,activeIndexTab:"application"===(null===(i=u.search)||void 0===i?void 0:i.substring(13))?0:"select"===(null===(n=u.search)||void 0===n?void 0:n.substring(13))?1:"confirm"===(null===(l=u.search)||void 0===l?void 0:l.substring(13))||"mulitple"===(null===(t=u.search)||void 0===t?void 0:t.substring(13))?2:"allot"===(null===(a=u.search)||void 0===a?void 0:a.substring(13))?3:4,showAs:!0,customStyleTab:{width:"100%"},customStyleLink:{width:"20%"},carryParentState:s}),(0,f.jsx)(D.Z,{customStyle:{width:"100%"}})]})};var Fe=n(56112);const Le=l.lazy((()=>n.e(20433).then(n.bind(n,20433)))),Ue=e=>{var i,n,t,a,s,o,d,c,r,_,h,g,j,S,N,b,A,y,C,Z,I,E,T,P,R,k,D,O;let{applicant:w,onRefetchWhenSelect:F,applicationId:L,departmentId:U,classMasterId:B,batchId:G,instituteId:H}=e;const{t:V}=(0,p.$G)(),J=(0,x.UO)(),W=(0,x.s0)(),[$,Y]=(0,l.useState)(!1),[Q,z]=(0,l.useState)(!1),[X,K]=(0,l.useState)(!1),[ee]=(0,v.iI)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_container,onClick:()=>{var e;W("/q/".concat(J.username,"/student/profile"),{state:{sid:null===w||void 0===w||null===(e=w.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:H}})},title:"View Profile",children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_inner,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===w||void 0===w||null===(i=w.student)||void 0===i?void 0:i.photoId)?"".concat(m.yI,"/").concat(null===w||void 0===w||null===(n=w.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,f.jsxs)("div",{className:ce.Z.applicant_card_inner_info,children:[(0,f.jsx)("h6",{children:"".concat(null===w||void 0===w||null===(t=w.student)||void 0===t?void 0:t.studentFirstName," ").concat(null!==w&&void 0!==w&&null!==(a=w.student)&&void 0!==a&&a.studentMiddleName?null===w||void 0===w||null===(s=w.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null===w||void 0===w||null===(o=w.student)||void 0===o?void 0:o.studentLastName)}),(0,f.jsxs)("p",{children:[V("applied_on"),":"," ",q()(null===w||void 0===w?void 0:w.apply_on).format("DD MMM yyyy")]})]})]}),(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact,children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,f.jsx)("p",{children:null===w||void 0===w||null===(d=w.student)||void 0===d?void 0:d.studentGender})]}),((null===w||void 0===w||null===(c=w.student)||void 0===c?void 0:c.studentPhoneNumber)||(null===w||void 0===w||null===(r=w.student)||void 0===r||null===(_=r.user)||void 0===_?void 0:_.userPhoneNumber)||(null===w||void 0===w||null===(h=w.student)||void 0===h||null===(g=h.user)||void 0===g?void 0:g.userEmail)||(null===w||void 0===w||null===(j=w.student)||void 0===j?void 0:j.studentParentsPhoneNumber))&&(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,f.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==w&&void 0!==w&&null!==(S=w.student)&&void 0!==S&&null!==(N=S.user)&&void 0!==N&&N.userPhoneNumber?null===w||void 0===w||null===(b=w.student)||void 0===b||null===(A=b.user)||void 0===A?void 0:A.userPhoneNumber:null!==w&&void 0!==w&&null!==(y=w.student)&&void 0!==y&&null!==(C=y.user)&&void 0!==C&&C.userEmail?null===w||void 0===w||null===(Z=w.student)||void 0===Z||null===(I=Z.user)||void 0===I?void 0:I.userEmail:null!==w&&void 0!==w&&null!==(E=w.student)&&void 0!==E&&E.studentPhoneNumber?null===w||void 0===w||null===(T=w.student)||void 0===T?void 0:T.studentPhoneNumber:null===w||void 0===w||null===(P=w.student)||void 0===P?void 0:P.studentParentsPhoneNumber})]})]}),(0,f.jsx)("div",{className:ce.Z.applicant_card_reciept,onClick:e=>{e.stopPropagation()},children:(0,f.jsx)("a",{href:"".concat(m.r3,"/").concat(null===w||void 0===w||null===(R=w.student)||void 0===R||null===(k=R.application_print)||void 0===k||null===(D=k[0])||void 0===D?void 0:D.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,f.jsxs)("div",{className:ce.Z.application_button,children:[(0,f.jsx)("div",{className:ce.Z.selectAppBtnContainer,onClick:e=>{e.stopPropagation(),z(!0)},children:(0,f.jsx)("div",{className:ce.Z.selectBtn,children:V("select")})}),(0,f.jsx)("div",{className:ce.Z.selectAppBtnContainer,onClick:e=>{e.stopPropagation(),Y((e=>!e))},children:(0,f.jsx)("div",{className:ce.Z.cancelledBtn,children:V("reject")})})]})]}),(0,f.jsx)(u.Z,{children:$&&(0,f.jsx)(Le,{studentId:null===w||void 0===w||null===(O=w.student)||void 0===O?void 0:O._id,applicationId:L,onClose:()=>Y((e=>!e)),onRefetchWhenSelect:F})}),Q&&(0,f.jsx)(Fe.Z,{departmentId:U,classMasterId:B,batchId:G,onClose:()=>z((e=>!e)),onSelectedStudent:e=>{var i,n;""!==(null===w||void 0===w||null===(i=w.student)||void 0===i?void 0:i._id)&&""!==L&&e&&(K((e=>!e)),ee({sid:null===w||void 0===w||null===(n=w.student)||void 0===n?void 0:n._id,aid:L,selectApplicant:{fee_struct:e}}).then((()=>{F(),K((e=>!e))})).catch((()=>{K((e=>!e))})))}}),X&&(0,f.jsx)(M.Z,{})]})};const qe=function(e){let{applicationId:i,carryParentState:n,applicationDetail:t,instituteId:a,accessRole:s,accessTpye:o,applicationDetailApplicablePending:d,pageOpenAs:c}=e;const[r,u]=(0,l.useState)(!0),[m,p]=(0,l.useState)(1),[_,h]=(0,l.useState)(""),[g,x]=(0,R.YD)(),[j,S]=(0,l.useState)([]),[N,b]=(0,l.useState)(!1),[A,y]=(0,l.useState)(!0),{getAllRequestList:C,getAllRequestListRefetch:Z}=(0,v.jG)({data:{id:i,page:m,limit:10,search:_||""},skip:!i}),{scrollToTop:I}=(0,z.u)();(0,l.useEffect)((()=>{I()}),[]),(0,l.useEffect)((()=>{x&&r&&p((e=>e+1))}),[x,r]),(0,l.useEffect)((()=>{i&&(y(!0),Z())}),[m,i,Z,_]),(0,l.useEffect)((()=>{var e,i;_?(S(null===C||void 0===C?void 0:C.request),y(!1)):N?(S(null===C||void 0===C?void 0:C.request),b(!1),y(!1)):null!==C&&void 0!==C&&C.request?(S((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===C||void 0===C?void 0:C.request])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),y(!1)):0===(null===C||void 0===C||null===(i=C.request)||void 0===i?void 0:i.length)&&y(!1);10===(null===C||void 0===C||null===(e=C.request)||void 0===e?void 0:e.length)?u(!0):u(!1)}),[null===C||void 0===C?void 0:C.request]);const E=()=>{p(1),Z(),b(!0)},T=(0,l.useCallback)((0,Ze.debounce)((e=>h(e)),500),[]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Oe,{applicationDetail:t,carryParentState:n,instituteId:a,tabStatusFlow:"Request_Query",applicationDetailApplicablePending:d,pageOpenAs:c,children:(0,f.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:e=>{T(e.target.value)}})}),(0,f.jsx)(Me,{carryParentState:n,accessRole:s,accessTpye:o,pageOpenAs:c}),null===j||void 0===j?void 0:j.map(((e,n)=>{var l,s,o,d;return(null===j||void 0===j?void 0:j.length)===n+1?(0,f.jsx)("div",{ref:g,children:(0,f.jsx)(Ue,{applicant:e,onRefetchWhenSelect:E,applicationId:i,departmentId:null===t||void 0===t||null===(l=t.applicationDepartment)||void 0===l?void 0:l._id,batchId:null===t||void 0===t||null===(s=t.applicationBatch)||void 0===s?void 0:s._id,classMasterId:null===t||void 0===t?void 0:t.applicationMaster,instituteId:a})},n):(0,f.jsx)(Ue,{applicant:e,onRefetchWhenSelect:E,applicationId:i,departmentId:null===t||void 0===t||null===(o=t.applicationDepartment)||void 0===o?void 0:o._id,batchId:null===t||void 0===t||null===(d=t.applicationBatch)||void 0===d?void 0:d._id,classMasterId:null===t||void 0===t?void 0:t.applicationMaster,instituteId:a},n)})),A&&(0,f.jsx)(k.Z,{})]})},Be=e=>{let{applicationId:i,studentId:n,statusId:t,onRefetch:a,isSelected:s}=e;const[o,d]=(0,l.useState)(!1),[c]=(0,v.FG)(),[r]=(0,v.IG)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-undo-icon.svg",alt:"undo icon",style:{cursor:"pointer",width:"30px"},onClick:e=>{e.stopPropagation(),t&&n&&i&&("Not Collected"===s?(d((e=>!e)),c({sid:n,aid:i,revertData:{statusId:t}}).then((()=>{a(),d((e=>!e))})).catch({})):"Collected"===s&&(d((e=>!e)),r({sid:n,aid:i,revertData:{statusId:t}}).then((()=>{a(),d((e=>!e))})).catch({})))},title:"Not Collected"===s?"Undo Application":"Undo Collect Document"}),o&&(0,f.jsx)(M.Z,{})]})},Ge=e=>{var i,n,l,t,a,s,o,d,c,r,u,v,_,h,g,j,S,N,b,A,y,C,Z,I,E,T,P,R,k,D,O,w,M,F,L,U,B,G;let{applicant:H,onSelectOffileFees:V,onCollectDocs:J,onEditFee:W,instituteId:$,applicationId:Y,onRefetch:Q}=e;const{t:z}=(0,p.$G)(),X=(0,x.UO)(),K=(0,x.s0)(),ee=e=>{e.stopPropagation(),J(H)},ie=e=>{var i;e.stopPropagation(),W(null===H||void 0===H||null===(i=H.student)||void 0===i?void 0:i._id)};return(0,f.jsxs)("div",{className:ce.Z.applicant_card_container,onClick:()=>{var e;K("/q/".concat(X.username,"/student/profile"),{state:{sid:null===H||void 0===H||null===(e=H.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:$}})},title:"View Profile",children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_inner,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===H||void 0===H||null===(i=H.student)||void 0===i?void 0:i.photoId)?"".concat(m.yI,"/").concat(null===H||void 0===H||null===(n=H.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,f.jsxs)("div",{className:ce.Z.applicant_card_inner_info,children:[(0,f.jsx)("h6",{children:"".concat(null===H||void 0===H||null===(l=H.student)||void 0===l?void 0:l.studentFirstName," ").concat(null!==H&&void 0!==H&&null!==(t=H.student)&&void 0!==t&&t.studentMiddleName?null===H||void 0===H||null===(a=H.student)||void 0===a?void 0:a.studentMiddleName:""," ").concat(null===H||void 0===H||null===(s=H.student)||void 0===s?void 0:s.studentLastName)}),(0,f.jsxs)("h6",{children:[z("fee_structure")," : ",null!==(o=null===H||void 0===H||null===(d=H.student)||void 0===d||null===(c=d.fee_structure)||void 0===c||null===(r=c.category_master)||void 0===r?void 0:r.category_name)&&void 0!==o?o:"",", ",z("rs")," ",null!==(u=null===H||void 0===H||null===(v=H.student)||void 0===v||null===(_=v.fee_structure)||void 0===_?void 0:_.applicable_fees)&&void 0!==u?u:""]}),(0,f.jsx)("p",{children:null!==H&&void 0!==H&&H.install_type?null===H||void 0===H?void 0:H.install_type:"\n          ".concat(z("select_on"),":\n          ").concat(q()(null===H||void 0===H?void 0:H.select_on).format("DD MMM yyyy"))})]})]}),(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact,children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,f.jsx)("p",{children:null===H||void 0===H||null===(h=H.student)||void 0===h?void 0:h.studentGender})]}),((null===H||void 0===H||null===(g=H.student)||void 0===g?void 0:g.studentPhoneNumber)||(null===H||void 0===H||null===(j=H.student)||void 0===j||null===(S=j.user)||void 0===S?void 0:S.userPhoneNumber)||(null===H||void 0===H||null===(N=H.student)||void 0===N||null===(b=N.user)||void 0===b?void 0:b.userEmail)||(null===H||void 0===H||null===(A=H.student)||void 0===A?void 0:A.studentParentsPhoneNumber))&&(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,f.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==H&&void 0!==H&&null!==(y=H.student)&&void 0!==y&&null!==(C=y.user)&&void 0!==C&&C.userPhoneNumber?null===H||void 0===H||null===(Z=H.student)||void 0===Z||null===(I=Z.user)||void 0===I?void 0:I.userPhoneNumber:null!==H&&void 0!==H&&null!==(E=H.student)&&void 0!==E&&null!==(T=E.user)&&void 0!==T&&T.userEmail?null===H||void 0===H||null===(P=H.student)||void 0===P||null===(R=P.user)||void 0===R?void 0:R.userEmail:null!==H&&void 0!==H&&null!==(k=H.student)&&void 0!==k&&k.studentPhoneNumber?null===H||void 0===H||null===(D=H.student)||void 0===D?void 0:D.studentPhoneNumber:null===H||void 0===H||null===(O=H.student)||void 0===O?void 0:O.studentParentsPhoneNumber})]})]}),(0,f.jsx)("div",{className:ce.Z.applicant_card_reciept,onClick:e=>{e.stopPropagation()},children:(0,f.jsx)("a",{href:"".concat(m.r3,"/").concat(null===H||void 0===H||null===(w=H.student)||void 0===w||null===(M=w.application_print)||void 0===M||null===(F=M[0])||void 0===F?void 0:F.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),"receipt requested"===(null===H||void 0===H||null===(L=H.payment_status)||void 0===L?void 0:L.toLowerCase())?(0,f.jsxs)("div",{className:ce.Z.selectBtnContainer,style:{display:"flex",justifyContent:"space-evenly"},children:[(0,f.jsx)("div",{className:ce.Z.receipt_requested_btn,onClick:e=>{e.stopPropagation()},children:z("receipt_requested")}),(0,f.jsx)("img",{src:"/images/bank-edit-icon.svg",alt:"back arrow",className:ce.Z.back_icon,onClick:ie})]}):(0,f.jsxs)("div",{className:ce.Z.selectBtnContainer,style:{display:"flex",justifyContent:"space-evenly"},children:["pending"===(null===H||void 0===H||null===(U=H.payment_status)||void 0===U?void 0:U.toLowerCase())&&("Not Collected"===(null===H||void 0===H?void 0:H.docs_collect)?(0,f.jsx)("div",{className:ce.Z.onlineBtn,onClick:ee,children:z("collect_docs")}):(0,f.jsx)("div",{className:ce.Z.selectBtn,onClick:e=>{e.stopPropagation(),V(H)},children:z("collect_fee")})),"online"===(null===H||void 0===H||null===(B=H.payment_status)||void 0===B?void 0:B.toLowerCase())&&(0,f.jsx)("div",{className:ce.Z.onlineBtn,onClick:ee,children:z("collect_docs")}),(0,f.jsx)("img",{src:"/images/bank-edit-icon.svg",alt:"back arrow",className:ce.Z.back_icon,onClick:ie})]}),(0,f.jsx)(Be,{applicationId:Y,studentId:null===H||void 0===H||null===(G=H.student)||void 0===G?void 0:G._id,statusId:"Not Collected"===(null===H||void 0===H?void 0:H.docs_collect)?null===H||void 0===H?void 0:H.revert_request_status:"Collected"===(null===H||void 0===H?void 0:H.docs_collect)?null===H||void 0===H?void 0:H.status_id:"",onRefetch:Q,isSelected:null===H||void 0===H?void 0:H.docs_collect})]})},He=e=>{var i,n,t,a,s,o;let{currentApplicant:d,onClose:c,applicationId:r,onRefetchWhenConfirm:u}=e;const{t:_}=(0,p.$G)(),[h,g]=(0,l.useState)(!1),[x]=(0,v.mZ)(),[j]=(0,v.pc)();return(0,f.jsxs)(F.Z,{onClose:c,children:[(0,f.jsxs)("div",{className:ce.Z.not_confirm_container,children:[(0,f.jsx)("h6",{children:_("admission_status")}),(0,f.jsx)(D.Z,{customStyle:{marginLeft:"-2rem",width:"130%"}}),(0,f.jsxs)("section",{className:ce.Z.applicant_profile,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===d||void 0===d||null===(i=d.student)||void 0===i?void 0:i.photoId)?"".concat(m.yI,"/").concat(null===d||void 0===d||null===(n=d.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,f.jsxs)("div",{className:ce.Z.applicant_profile_text,children:[(0,f.jsx)("h6",{children:"".concat(null===d||void 0===d||null===(t=d.student)||void 0===t?void 0:t.studentFirstName," ").concat(null!==d&&void 0!==d&&null!==(a=d.student)&&void 0!==a&&a.studentMiddleName?null===d||void 0===d||null===(s=d.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null===d||void 0===d||null===(o=d.student)||void 0===o?void 0:o.studentLastName)}),(0,f.jsxs)("p",{children:[_("applied")," ",q()(null===d||void 0===d?void 0:d.select_on).format("DD MMM yyyy")]})]})]}),(0,f.jsxs)("section",{className:ce.Z.button_group,children:[(0,f.jsx)("button",{onClick:()=>{var e,i;r&&null!==d&&void 0!==d&&null!==(e=d.student)&&void 0!==e&&e._id&&(g((e=>!e)),x({aid:r,sid:null===d||void 0===d||null===(i=d.student)||void 0===i?void 0:i._id}).then((()=>{u(),c(),g((e=>!e))})).catch((()=>{g((e=>!e))})))},children:_("confirm")}),(0,f.jsx)("button",{onClick:()=>{var e,i;r&&null!==d&&void 0!==d&&null!==(e=d.student)&&void 0!==e&&e._id&&(g((e=>!e)),j({aid:r,sid:null===d||void 0===d||null===(i=d.student)||void 0===i?void 0:i._id}).then((()=>{u(),c(),g((e=>!e))})).catch((()=>{g((e=>!e))})))},children:_("reject")})]})]}),h&&(0,f.jsx)(M.Z,{})]})};const Ve=function(e){var i,n,t,a;let{applicationId:s,currentApplicant:o,onRefetchWhenConfirm:d,onClose:c}=e;const{t:r}=(0,p.$G)(),[u,m]=(0,l.useState)(!1),[_]=(0,v.K7)();return(0,f.jsxs)(F.Z,{onClose:c,children:[(0,f.jsxs)("div",{className:ce.Z.not_confirm_container,children:[(0,f.jsx)("h6",{children:r("collect_required_document")}),(0,f.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,f.jsxs)("section",{className:ce.Z.admission_collect_docs,children:[(0,f.jsx)("p",{children:r("collecting_documents_of_student")}),(0,f.jsx)("h6",{children:"".concat(null===o||void 0===o||null===(i=o.student)||void 0===i?void 0:i.studentFirstName," ").concat(null!==o&&void 0!==o&&null!==(n=o.student)&&void 0!==n&&n.studentMiddleName?null===o||void 0===o||null===(t=o.student)||void 0===t?void 0:t.studentMiddleName:""," ").concat(null===o||void 0===o||null===(a=o.student)||void 0===a?void 0:a.studentLastName)})]}),(0,f.jsx)("button",{onClick:()=>{var e,i;null!==o&&void 0!==o&&null!==(e=o.student)&&void 0!==e&&e._id&&s&&(m(!0),_({sid:null===o||void 0===o||null===(i=o.student)||void 0===i?void 0:i._id,aid:s}).then((()=>{d(),c(),m(!1)})).catch({}))},className:ce.Z.confirm_btn,children:r("confirm")})]}),u&&(0,f.jsx)(M.Z,{})]})};var Je=n(49886),We=n(97655),$e=n(59965);const Ye=function(e){var i,n,t,a,s;let{currentApplicant:o,applicationId:d,onRefetchWhenConfirm:c,onClose:r}=e;const[u,m]=(0,l.useState)(!1),{t:_}=(0,p.$G)(),[h,g]=(0,l.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),[x,j]=(0,l.useState)({msg:"",run:!1}),[S,N]=(0,l.useState)(""),[b]=(0,v.Vd)(),A=e=>{"fee_payment_mode"===e.target.name?g((i=>({...i,[e.target.name]:e.target.value,mode:"By Cash"===e.target.value?"Offline":"Online",fee_payment_mode:e.target.value}))):g((i=>({...i,[e.target.name]:e.target.value})))};return(0,f.jsxs)(F.Z,{onClose:r,children:[(0,f.jsxs)("div",{className:ce.Z.admission_modal,children:[(0,f.jsx)("h6",{className:ce.Z.admission_modal_heading,children:_("collect_fees")}),(0,f.jsx)(D.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),(0,f.jsxs)("div",{className:ce.Z.admission_fees_row,children:[(0,f.jsxs)("h6",{children:[_("applicable_amount")," :"]}),(0,f.jsxs)("h6",{children:[_("rs"),"."," ",null===o||void 0===o||null===(i=o.student)||void 0===i||null===(n=i.fee_structure)||void 0===n?void 0:n.applicable_fees]})]}),(0,f.jsx)(We.Z,{labelText:"".concat(_("amount_first_installment")," ").concat(null===o||void 0===o||null===(t=o.student)||void 0===t||null===(a=t.fee_structure)||void 0===a||null===(s=a.one_installments)||void 0===s?void 0:s.fees),name:"amount",type:"tel",value:h.amount,onChange:e=>{g((i=>({...i,amount:+e.target.value,fee_payment_amount:+e.target.value})))},placeholder:_("amoute_details_collect"),errorShow:S.fee_payment_amount,customStyleLabel:{marginTop:"15px",marginBottom:"7px"},customStyleContainer:{marginBottom:"15px"}}),(0,f.jsx)(Je.Z,{paymentHeading:_("payment_type_mode"),onInputChange:A,errorShow:S.fee_payment_mode}),(0,f.jsx)($e.Z,{labelText:_("select_date_of_transaction"),placeholder:_("please_select_date"),name:"transaction_date",value:h.transaction_date,onDateFunction:e=>{const i=null===e||void 0===e?void 0:e.split("/");g((e=>({...e,transaction_date:"".concat(i[2],"-").concat(i[1],"-").concat(i[0])})))},customStyleContainer:{position:"relative",marginTop:"0.5rem"},datePickerPosition:{position:"relative",top:"-20rem"},customStyleLabel:{marginTop:"15px"},errorShow:S.transaction_date}),"By Cash"===h.fee_payment_mode?"":(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(We.Z,{labelText:_("bank_name_collect"),name:"fee_bank_name",type:"tel",value:h.fee_bank_name,onChange:A,placeholder:_("please_enter_bank_name"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,f.jsx)(We.Z,{labelText:_("banke_holder_name"),name:"fee_bank_holder",type:"tel",value:h.fee_bank_holder,onChange:A,placeholder:_("please_enter_name_of_bank_holder"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,f.jsx)(We.Z,{labelText:_("cheque_dd_neft"),name:"fee_utr_reference",type:"tel",value:h.fee_utr_reference,onChange:A,placeholder:_("please_enter_utr_ref_number"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}})]}),(0,f.jsx)("div",{className:ce.Z.confirm_btn,onClick:()=>{const e=(e=>{const i={};for(let t in e){var n,l;"fee_bank_name"===t||"fee_bank_holder"===t||"fee_utr_reference"===t||"amount"===t||"mode"===t||(e[t]?"fee_payment_amount"===t&&(e[t]<=(null===o||void 0===o||null===(n=o.student)||void 0===n||null===(l=n.fee_structure)||void 0===l?void 0:l.total_admission_fees)||(j({msg:"You can not enter amount greater than Admission fees.",run:!0}),i.fee_payment_amount="".concat(t," is required!"))):i[t]="".concat(t," is required!"))}return i})(h);let i=!1;for(let a in e){i=!0;break}if(i)N(e);else{var n,l,t;m(!0);const e={sid:null===o||void 0===o||null===(n=o.student)||void 0===n?void 0:n._id,aid:d,confirm_data:h,receipt_status:"Fee Receipt Not Generated"===h.fee_payment_mode?"Fee Receipt Not Generated":""};""!==(null===e||void 0===e?void 0:e.sid)&&""!==(null===e||void 0===e?void 0:e.aid)&&(null===e||void 0===e||null===(l=e.confirm_data)||void 0===l?void 0:l.amount)>0&&""!==(null===e||void 0===e||null===(t=e.confirm_data)||void 0===t?void 0:t.mode)?b(e).then((e=>{e.data.confirm_status&&(c(),r(!1),m(!1))})).catch({}):m(!1)}},children:_("collect")}),(0,f.jsx)(Te.Ch,{msg:x.msg,run:x.run,setRun:()=>j({msg:"",run:!1}),postiton:"bottom",type:"error"})]}),u&&(0,f.jsx)(M.Z,{})]})};const Qe=function(e){var i,n;let{applicationId:t,applicationDetail:a,carryParentState:s,accessRole:o,accessTpye:d,instituteId:c,applicationDetailApplicablePending:r,pageOpenAs:u}=e;const[m,p]=(0,l.useState)(!0),[_,h]=(0,l.useState)(1),[g,x]=(0,l.useState)(""),[j,S]=(0,R.YD)(),[N,b]=(0,l.useState)([]),[A,y]=(0,l.useState)(!1),[C,Z]=(0,l.useState)(!0),[I,E]=(0,l.useState)(""),[T,P]=(0,l.useState)(""),[D,O]=(0,l.useState)(!1),[w]=(0,v.lw)(),{getAllSelectList:F,getAllSelectListRefetch:L}=(0,v.sR)({data:{id:t,page:_,limit:10,search:g||""},skip:!t}),{scrollToTop:U}=(0,z.u)();(0,l.useEffect)((()=>{U()}),[]),(0,l.useEffect)((()=>{S&&m&&h((e=>e+1))}),[S,m]),(0,l.useEffect)((()=>{t&&(Z(!0),L())}),[_,t,L,g]),(0,l.useEffect)((()=>{var e,i;g?(b(null===F||void 0===F?void 0:F.select),Z(!1)):A?(b(null===F||void 0===F?void 0:F.select),y(!1),Z(!1)):null!==F&&void 0!==F&&F.select?(b((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===F||void 0===F?void 0:F.select])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),Z(!1)):0===(null===F||void 0===F||null===(i=F.select)||void 0===i?void 0:i.length)&&Z(!1);10===(null===F||void 0===F||null===(e=F.select)||void 0===e?void 0:e.length)?p(!0):p(!1)}),[null===F||void 0===F?void 0:F.select]);const q=()=>{h(1),L(),y(!0)},B=(0,l.useCallback)((0,Ze.debounce)((e=>x(e)),500),[]),G=e=>{P(e),E("COLLECT_FEES")},H=e=>{P(e),E("COLLECT_DOCS")},V=e=>{P(e),E("EDIT_STRUCTURE")},J=e=>{P(e),E("MARK_CONFIRM")};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Oe,{applicationDetail:a,carryParentState:s,instituteId:c,applicationDetailApplicablePending:r,pageOpenAs:u,children:(0,f.jsx)("input",{type:"text",placeholder:"Search applications...",onChange:e=>{B(e.target.value)}})}),(0,f.jsx)(Me,{carryParentState:s,accessRole:o,accessTpye:d,pageOpenAs:u}),null===N||void 0===N?void 0:N.map(((e,i)=>(null===N||void 0===N?void 0:N.length)===i+1?(0,f.jsx)("div",{ref:j,children:(0,f.jsx)(Ge,{applicant:e,onEditFee:V,onSelectOffileFees:G,onCollectDocs:H,onNotConfirm:J,instituteId:c,applicationId:t,onRefetch:q})},i):(0,f.jsx)(Ge,{applicant:e,onEditFee:V,onSelectOffileFees:G,onCollectDocs:H,onNotConfirm:J,instituteId:c,applicationId:t,onRefetch:q},i))),C&&(0,f.jsx)(k.Z,{}),"MARK_CONFIRM"===I&&(0,f.jsx)(He,{currentApplicant:T,applicationId:t,onClose:()=>E(""),onRefetchWhenConfirm:q}),"EDIT_STRUCTURE"===I&&(0,f.jsx)(Fe.Z,{departmentId:null===a||void 0===a||null===(i=a.applicationDepartment)||void 0===i?void 0:i._id,batchId:null===a||void 0===a||null===(n=a.applicationBatch)||void 0===n?void 0:n._id,classMasterId:null===a||void 0===a?void 0:a.applicationMaster,onClose:()=>E(""),onSelectedStudent:e=>{""!==T&&""!==t&&(O((e=>!e)),w({sid:T,aid:t,editStructure:{fee_struct:e}}).then((()=>{q(),O((e=>!e))})).catch((()=>{O((e=>!e))})))},asOpen:"SELECTED_TAB"}),"COLLECT_DOCS"===I&&(0,f.jsx)(Ve,{currentApplicant:T,applicationId:t,onClose:()=>E(""),onRefetchWhenConfirm:q}),"COLLECT_FEES"===I&&(0,f.jsx)(Ye,{onClose:()=>E(""),currentApplicant:T,applicationId:t,onRefetchWhenConfirm:q}),D&&(0,f.jsx)(M.Z,{})]})};var ze=n(37782);const Xe=e=>{var i,t,a,s,o,d,c,r,u,_,h,g,j,S,N,b,A,y,C,Z,I,E,T,P,R,k,D,O,w;let{onAllotApplicantBatch:F,onCancelAdmission:L,applicant:U,instituteId:q}=e;const{t:B}=(0,p.$G)(),G=(0,x.UO)(),H=(0,x.s0)(),[V,J]=(0,l.useState)(""),[W,$]=(0,l.useState)(!1),[Y,Q]=(0,l.useState)(""),{getFeeReceiptDetail:z,getFeeReceiptDetailRefetch:X}=(0,v.$d)({rid:V,skip:!V});(0,l.useEffect)((()=>{V&&X()}),[V,X]),(0,l.useEffect)((()=>{null!==z&&void 0!==z&&z.receipt&&null!==z&&void 0!==z&&z.all_remain&&Q(z)}),[z]),(0,l.useEffect)((()=>{if(Y){const{institute:e,studentInfo:i,paymentReceiptInfo:l}=(0,ze.Hs)(null===Y||void 0===Y?void 0:Y.all_remain,null===Y||void 0===Y?void 0:Y.receipt),t=new Worker(new URL(n.p+n.u(4951),n.b));t.postMessage({institute:e,studentInfo:i,paymentReceiptInfo:l,printReceiptType:"Refunded"===(null===l||void 0===l?void 0:l.transactonRefund)?"ADMISSION_REFUND":"ADMISSION"}),t.onmessage=e=>{e&&(window.open(e.data,"_blank"),$((e=>!e)),Q(""),t.terminate())}}}),[Y]);return(0,f.jsxs)("div",{className:ce.Z.applicant_card_container,onClick:()=>{var e;H("/q/".concat(G.username,"/student/profile"),{state:{sid:null===U||void 0===U||null===(e=U.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:q}})},title:"View Profile",children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_inner,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===U||void 0===U||null===(i=U.student)||void 0===i?void 0:i.photoId)?"".concat(m.yI,"/").concat(null===U||void 0===U||null===(t=U.student)||void 0===t?void 0:t.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,f.jsxs)("div",{className:ce.Z.applicant_card_inner_info,children:[(0,f.jsx)("h6",{children:"".concat(null===U||void 0===U||null===(a=U.student)||void 0===a?void 0:a.studentFirstName," ").concat(null!==U&&void 0!==U&&null!==(s=U.student)&&void 0!==s&&s.studentMiddleName?null===U||void 0===U||null===(o=U.student)||void 0===o?void 0:o.studentMiddleName:""," ").concat(null===U||void 0===U||null===(d=U.student)||void 0===d?void 0:d.studentLastName)}),(0,f.jsx)("p",{onClick:e=>{e.stopPropagation(),L(U)},className:ce.Z.cancelStatus,children:B("cancel_admision")})]})]}),(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact,children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,f.jsx)("p",{children:null===U||void 0===U||null===(c=U.student)||void 0===c?void 0:c.studentGender})]}),((null===U||void 0===U||null===(r=U.student)||void 0===r?void 0:r.studentPhoneNumber)||(null===U||void 0===U||null===(u=U.student)||void 0===u||null===(_=u.user)||void 0===_?void 0:_.userPhoneNumber)||(null===U||void 0===U||null===(h=U.student)||void 0===h||null===(g=h.user)||void 0===g?void 0:g.userEmail)||(null===U||void 0===U||null===(j=U.student)||void 0===j?void 0:j.studentParentsPhoneNumber))&&(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,f.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==U&&void 0!==U&&null!==(S=U.student)&&void 0!==S&&null!==(N=S.user)&&void 0!==N&&N.userPhoneNumber?null===U||void 0===U||null===(b=U.student)||void 0===b||null===(A=b.user)||void 0===A?void 0:A.userPhoneNumber:null!==U&&void 0!==U&&null!==(y=U.student)&&void 0!==y&&null!==(C=y.user)&&void 0!==C&&C.userEmail?null===U||void 0===U||null===(Z=U.student)||void 0===Z||null===(I=Z.user)||void 0===I?void 0:I.userEmail:null!==U&&void 0!==U&&null!==(E=U.student)&&void 0!==E&&E.studentPhoneNumber?null===U||void 0===U||null===(T=U.student)||void 0===T?void 0:T.studentPhoneNumber:null===U||void 0===U||null===(P=U.student)||void 0===P?void 0:P.studentParentsPhoneNumber})]})]}),(0,f.jsx)("div",{className:ce.Z.applicant_card_reciept,onClick:e=>{e.stopPropagation()},children:(0,f.jsx)("a",{href:"".concat(m.r3,"/").concat(null===U||void 0===U||null===(R=U.student)||void 0===R||null===(k=R.application_print)||void 0===k||null===(D=k[0])||void 0===D?void 0:D.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-4.5px"},children:(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,f.jsx)("div",{className:ce.Z.applicant_card_reciept,children:null===U||void 0===U||null===(O=U.student)||void 0===O||null===(w=O.fee_receipt)||void 0===w?void 0:w.map(((e,i)=>i>2?"":(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-receipt-download.svg",onClick:i=>((e,i)=>{e.stopPropagation(),$((e=>!e)),J(i),V===i&&Q(z)})(i,e),alt:"receipt icon",title:"Download Fees Receipt"},e)))}),(0,f.jsx)("div",{className:ce.Z.selectBtnContainer,style:{width:"auto"},children:(0,f.jsx)("div",{className:ce.Z.selectBtn,onClick:e=>{e.stopPropagation(),F(U)},children:B("allot_class")})}),W&&(0,f.jsx)(M.Z,{})]})};const Ke=function(e){var i,n,t,a;let{onRefetchWhenAction:s,applicationId:o,currentApplicant:d,onClose:c}=e;const{t:r}=(0,p.$G)(),[u,m]=(0,l.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),[_,h]=(0,l.useState)(""),[g,x]=(0,l.useState)(0),[j,S]=(0,l.useState)({msg:"",run:!1}),[N,b]=(0,l.useState)(!1),[A]=(0,v.PE)();(0,l.useEffect)((()=>{var e,i;if(null!==d&&void 0!==d&&null!==(e=d.student)&&void 0!==e&&null!==(i=e.paidFeeList)&&void 0!==i&&i.length){var n,l,t,a;const e=null===d||void 0===d||null===(n=d.student)||void 0===n||null===(l=n.paidFeeList)||void 0===l?void 0:l.filter((e=>(null===e||void 0===e?void 0:e.appId)===o));x(null!==(t=null===e||void 0===e||null===(a=e[0])||void 0===a?void 0:a.paidAmount)&&void 0!==t?t:0)}}),[null===d||void 0===d||null===(i=d.student)||void 0===i?void 0:i.paidFeeList]);const y=e=>{"fee_payment_mode"===e.target.name?m((i=>({...i,[e.target.name]:e.target.value,mode:"By Cash"===e.target.value?"Offline":"Online",fee_payment_mode:e.target.value}))):m((i=>({...i,[e.target.name]:e.target.value})))};return(0,f.jsxs)(F.Z,{onClose:c,children:[(0,f.jsxs)("div",{className:ce.Z.admission_modal,children:[(0,f.jsx)("h6",{className:ce.Z.admission_modal_heading,children:r("cancel_addmission")}),(0,f.jsx)(D.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),(0,f.jsxs)("div",{className:ce.Z.admission_fees_row,children:[(0,f.jsxs)("h6",{children:[r("total_admission_fees")," :"]}),(0,f.jsxs)("h6",{children:[r("rs"),"."," ",null!==(n=null===d||void 0===d||null===(t=d.student)||void 0===t||null===(a=t.fee_structure)||void 0===a?void 0:a.total_admission_fees)&&void 0!==n?n:0]})]}),(0,f.jsxs)("div",{className:ce.Z.admission_fees_row,children:[(0,f.jsxs)("h6",{children:[r("fees_paid")," :"]}),(0,f.jsxs)("h6",{children:[r("rs"),". ",g]})]}),(0,f.jsx)(Je.Z,{paymentHeading:r("refund_payment_type_mode"),onInputChange:y,errorShow:_.fee_payment_mode}),(0,f.jsx)(We.Z,{labelText:r("refund_amount"),name:"amount",type:"tel",value:u.amount,onChange:e=>{m((i=>({...i,amount:+e.target.value,fee_payment_amount:+e.target.value})))},placeholder:r("please_enter_refund_amount"),errorShow:_.fee_payment_amount}),(0,f.jsx)($e.Z,{labelText:r("select_date_of_transaction"),placeholder:r("please_select_date"),name:"transaction_date",value:u.transaction_date,onDateFunction:e=>{const i=null===e||void 0===e?void 0:e.split("/");m((e=>({...e,transaction_date:"".concat(i[2],"-").concat(i[1],"-").concat(i[0])})))},customStyleContainer:{position:"relative",marginTop:"0.5rem"},datePickerPosition:{position:"relative",top:"-20rem"},customStyleLabel:{marginTop:"15px"},errorShow:_.transaction_date}),(0,f.jsx)("h6",{style:{marginTop:"0.5rem"},children:r("paid_to")}),(0,f.jsx)(We.Z,{labelText:r("bank_name_collect"),name:"fee_bank_name",type:"tel",value:u.fee_bank_name,onChange:y,placeholder:r("please_enter_bank_name"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,f.jsx)(We.Z,{labelText:r("banke_holder_name"),name:"fee_bank_holder",type:"tel",value:u.fee_bank_holder,onChange:y,placeholder:r("please_enter_name_of_bank_holder"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,f.jsx)(We.Z,{labelText:r("cheque_dd_neft"),name:"fee_utr_reference",type:"tel",value:u.fee_utr_reference,onChange:y,placeholder:r("please_enter_utr_ref_number"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,f.jsx)("div",{className:ce.Z.confirm_btn,onClick:()=>{const e=(e=>{const i={};for(let n in e)"fee_bank_name"===n||"fee_bank_holder"===n||"fee_utr_reference"===n||"amount"===n||"mode"===n||(e[n]?"fee_payment_amount"===n&&(e[n]<=g||(S({msg:"You can not enter amount greater than fees paid",run:!0}),i.fee_payment_amount_issue="".concat(n," is required!"))):i[n]="".concat(n," is required!"));return i})(u);let i=!1;for(let s in e){i=!0;break}if(i)h(e);else{var n,l,t;b(!0);var a={sid:null===d||void 0===d||null===(n=d.student)||void 0===n?void 0:n._id,aid:o,cancel_data:{...u,remainAmount:null!==(l=null===d||void 0===d?void 0:d.fee_remain)&&void 0!==l?l:0}};""!==(null===a||void 0===a?void 0:a.sid)&&""!==(null===a||void 0===a?void 0:a.aid)&&(null===a||void 0===a||null===(t=a.cancel_data)||void 0===t?void 0:t.amount)>0&&A(a).then((e=>{var i;e.data.refund_status?(s(),c(),b(!1)):(S({msg:null===(i=e.data)||void 0===i?void 0:i.message,run:!0}),b(!1))})).catch({})}},children:r("confirm")}),(0,f.jsx)(Te.Ch,{msg:j.msg,run:j.run,setRun:()=>S({msg:"",run:!1}),postiton:"bottom",type:"error"})]}),N&&(0,f.jsx)(M.Z,{})]})},ei=e=>{var i;let{applicationId:n,onAllotApplicantClasses:t,onClose:a}=e;const{t:s}=(0,p.$G)(),[o,d]=(0,l.useState)(!0),{admissionBatchList:c,admissionBatchListRefetch:r}=(0,v.j5)({aid:n,skip:!n});(0,l.useEffect)((()=>{n&&(d(!0),r())}),[n,r]);return(0,l.useEffect)((()=>{null!==c&&void 0!==c&&c.batch&&d(!1)}),[null===c||void 0===c?void 0:c.batch]),(0,f.jsx)(F.Z,{onClose:a,children:(0,f.jsxs)("div",{className:ce.Z.admission_modal,children:[(0,f.jsx)("h6",{className:ce.Z.admission_modal_heading,children:s("select_batch")}),(0,f.jsx)(D.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),null===c||void 0===c||null===(i=c.batch)||void 0===i?void 0:i.map((e=>(0,f.jsxs)("div",{className:ce.Z.admission_confirm_batch_card,onClick:()=>{return i=null===e||void 0===e?void 0:e._id,void t(i);var i},children:[(0,f.jsx)("img",{src:"/images/allot-class-icon.svg",alt:"Class Avatar"}),(0,f.jsx)("div",{className:ce.Z.admission_collect_docs,style:{marginTop:"0"},children:(0,f.jsx)("h6",{children:null===e||void 0===e?void 0:e.batchName})})]},null===e||void 0===e?void 0:e._id))),o&&(0,f.jsx)(k.Z,{})]})})};var ii=n(15415);const ni=e=>{var i,n,t,a;let{onClose:s,currentApplicant:o,applicationId:d,onRefetchWhenAction:c,batchId:r,openAs:u}=e;const[m,_]=(0,l.useState)(!1),[h,g]=(0,l.useState)(!1),[x,j]=(0,l.useState)(""),{t:S}=(0,p.$G)(),[N,b]=(0,l.useState)(1),[A,y]=(0,l.useState)(!0),[C,Z]=(0,R.YD)(),[I,E]=(0,l.useState)(""),[T,P]=(0,l.useState)([]),[O,w]=(0,l.useState)(!0),{getAllClassesList:L,getAllClassesListRefetch:U}=(0,v.Ds)({data:{search:I,aid:d,bid:r,page:N,limit:10},skip:!d||!r}),[q]=(0,v.ht)();(0,l.useEffect)((()=>{d&&(w(!0),U())}),[d,U,N,I]),(0,l.useEffect)((()=>{Z&&A&&b((e=>e+1))}),[Z,A]),(0,l.useEffect)((()=>{var e;I?(P(null===L||void 0===L?void 0:L.classes),w(!1)):null!==L&&void 0!==L&&L.classes?(P((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===L||void 0===L?void 0:L.classes])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),w(!1)):0===(null===L||void 0===L||null===(e=L.classes)||void 0===e?void 0:e.length)&&w(!1);10===(null===L||void 0===L?void 0:L.classes.length)?y(!0):y(!1)}),[null===L||void 0===L?void 0:L.classes]);const B=(0,l.useCallback)((0,Ze.debounce)((e=>E(e)),500),[]);return(0,f.jsx)(F.Z,{onClose:s,children:(0,f.jsxs)("div",{className:ce.Z.admission_modal,children:[(0,f.jsx)("h6",{className:ce.Z.admission_modal_heading,children:S(m?"allot_to_class":"allot_class")}),(0,f.jsx)(D.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),m?"":(0,f.jsx)("div",{className:ce.Z.with_search,style:{marginBottom:"0.7rem"},children:(0,f.jsx)("div",{className:ce.Z.search_container_filter,style:{width:"100%"},children:(0,f.jsx)("section",{className:ce.Z.search_container,style:{width:"100%"},children:(0,f.jsxs)("div",{className:ce.Z.search_container_input,style:{width:"100%"},children:[(0,f.jsx)("img",{className:ce.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,f.jsx)("input",{type:"text",placeholder:"Search classes...",onChange:e=>{B(e.target.value)}})]})})})}),m?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:ce.Z.admission_class_confirm,children:["MULITSELECT"===u?(0,f.jsxs)(f.Fragment,{children:[S("alloting")," ",(0,f.jsx)("span",{style:{fontWeight:"600"},children:null===o||void 0===o?void 0:o.length})," ",S("students")," "," "]}):(0,f.jsxs)(f.Fragment,{children:[S("lloting_student")," ",(0,f.jsx)("span",{style:{fontWeight:"600"},children:" ".concat(null===o||void 0===o||null===(i=o.student)||void 0===i?void 0:i.studentFirstName," ").concat(null!==o&&void 0!==o&&null!==(n=o.student)&&void 0!==n&&n.studentMiddleName?null===o||void 0===o||null===(t=o.student)||void 0===t?void 0:t.studentMiddleName:""," ").concat(null===o||void 0===o||null===(a=o.student)||void 0===a?void 0:a.studentLastName," ")})]}),",",S("to")," ",(0,f.jsx)("span",{style:{fontWeight:"600"},children:" ".concat(null===x||void 0===x?void 0:x.className," - ").concat(null===x||void 0===x?void 0:x.classTitle)})]}),(0,f.jsx)("div",{className:ce.Z.confirm_btn,onClick:()=>{var e;d&&null!==x&&void 0!==x&&x._id&&o&&(g(!0),q({allotClass:{dataList:"MULITSELECT"===u?o:[null===o||void 0===o||null===(e=o.student)||void 0===e?void 0:e._id]},aid:d,cid:null===x||void 0===x?void 0:x._id}).then((()=>{c(),s(),g(!1)})).catch({}))},children:S("confirm")})]}):(0,f.jsxs)(f.Fragment,{children:[null===T||void 0===T?void 0:T.map(((e,i)=>(null===T||void 0===T?void 0:T.length)===i+1?(0,f.jsx)("div",{ref:C,children:(0,f.jsx)(ii.Z,{setViewClass:_,classData:e,setAllotC:j},i)}):(0,f.jsx)(ii.Z,{setViewClass:_,classData:e,setAllotC:j},i))),O&&(0,f.jsx)(k.Z,{})]}),h&&(0,f.jsx)(M.Z,{})]})})};const li=function(e){let{carryParentState:i,applicationId:n,applicationDetail:t,accessRole:a,accessTpye:s,instituteId:o,callApi:d,applicationDetailApplicablePending:c,pageOpenAs:r}=e;const{t:u}=(0,p.$G)(),[m,_]=(0,l.useState)(!0),[h,g]=(0,l.useState)(1),[x,j]=(0,l.useState)(""),[S,N]=(0,R.YD)(),[b,A]=(0,l.useState)([]),[C,Z]=(0,l.useState)(!1),[I,E]=(0,l.useState)(!0),[T,P]=(0,l.useState)(""),[D,O]=(0,l.useState)(""),[w,M]=(0,l.useState)(""),{getAllConfirmList:F,getAllConfirmListRefetch:L}=(0,v.RR)({data:{id:n,page:h,limit:10,search:x||""},skip:!n}),{scrollToTop:U}=(0,z.u)();(0,l.useEffect)((()=>{U()}),[]),(0,l.useEffect)((()=>{N&&m&&g((e=>e+1))}),[N,m]),(0,l.useEffect)((()=>{n&&(E(!0),L())}),[h,n,L,x]),(0,l.useEffect)((()=>{var e,i;x?(A(null===F||void 0===F?void 0:F.confirm),E(!1)):C?(A(null===F||void 0===F?void 0:F.confirm),Z(!1),E(!1)):null!==F&&void 0!==F&&F.confirm?(A((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===F||void 0===F?void 0:F.confirm])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),E(!1)):0===(null===F||void 0===F||null===(i=F.confirm)||void 0===i?void 0:i.length)&&E(!1);10===(null===F||void 0===F||null===(e=F.confirm)||void 0===e?void 0:e.length)?_(!0):_(!1)}),[null===F||void 0===F?void 0:F.confirm]);const q=()=>{g(1),L(),Z(!0)},B=(0,l.useCallback)((0,Ze.debounce)((e=>j(e)),500),[]),G=e=>{O(e),P("CANCEL_APPLICANT")},H=e=>{O(e),P("ALLOT_BATCH")};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Oe,{applicationDetail:t,carryParentState:i,instituteId:o,tabStatusFlow:"Confirm_Query",applicationDetailApplicablePending:c,onRefetchConfirmTab:q,pageOpenAs:r,s:!0,children:(0,f.jsx)("input",{type:"text",placeholder:"Search applicants...",onChange:e=>{B(e.target.value)}})}),(0,f.jsx)(Me,{carryParentState:i,accessRole:a,accessTpye:s,pageOpenAs:r}),(0,f.jsx)("div",{className:ce.Z.end_btn,children:"INSTITUTE"===r?(0,f.jsx)(y,{carryParentState:i,activeTab:"?a=ongoing&n=mulitple",children:(0,f.jsx)("p",{className:ce.Z.mulitple_select_btn,children:u("multiple_select")})}):(0,f.jsx)(Ne,{carryParentState:i,accessRole:a,accessTpye:s,activeTab:"ongoing&n=mulitple",callApi:d,children:(0,f.jsx)("p",{className:ce.Z.mulitple_select_btn,children:u("multiple_select")})})}),null===b||void 0===b?void 0:b.map(((e,i)=>(null===b||void 0===b?void 0:b.length)===i+1?(0,f.jsx)("div",{ref:S,children:(0,f.jsx)(Xe,{applicant:e,onCancelAdmission:G,onAllotApplicantBatch:H,instituteId:o})},i):(0,f.jsx)(Xe,{applicant:e,onCancelAdmission:G,onAllotApplicantBatch:H,instituteId:o},i))),I&&(0,f.jsx)(k.Z,{}),"CANCEL_APPLICANT"===T&&(0,f.jsx)(Ke,{onClose:()=>P(""),currentApplicant:D,onRefetchWhenAction:q,applicationId:null===t||void 0===t?void 0:t._id}),"ALLOT_BATCH"===T&&(0,f.jsx)(ei,{onClose:()=>P(""),applicationId:null===t||void 0===t?void 0:t._id,onAllotApplicantClasses:e=>{M(e),P("ALLOT_CLASSES")}}),"ALLOT_CLASSES"===T&&(0,f.jsx)(ni,{onClose:()=>P(""),currentApplicant:D,onRefetchWhenAction:q,applicationId:null===t||void 0===t?void 0:t._id,batchId:w})]})},ti=e=>{var i,t,a,s,o,d,c,r,u,p,_,h,g,j,S,N,b,A,y,C,Z,I,E,T,P,R,k,D,O;let{applicant:w}=e;const F=(0,x.UO)(),L=(0,x.s0)(),[U,q]=(0,l.useState)(""),[B,G]=(0,l.useState)(!1),[H,V]=(0,l.useState)(""),{getFeeReceiptDetail:J,getFeeReceiptDetailRefetch:W}=(0,v.$d)({rid:U,skip:!U});(0,l.useEffect)((()=>{U&&W()}),[U,W]),(0,l.useEffect)((()=>{null!==J&&void 0!==J&&J.receipt&&null!==J&&void 0!==J&&J.all_remain&&V(J)}),[J]),(0,l.useEffect)((()=>{if(H){const{institute:e,studentInfo:i,paymentReceiptInfo:l}=(0,ze.Hs)(null===H||void 0===H?void 0:H.all_remain,null===H||void 0===H?void 0:H.receipt),t=new Worker(new URL(n.p+n.u(4473),n.b));t.postMessage({institute:e,studentInfo:i,paymentReceiptInfo:l,printReceiptType:"Refunded"===(null===l||void 0===l?void 0:l.transactonRefund)?"ADMISSION_REFUND":"ADMISSION"}),t.onmessage=e=>{e&&(window.open(e.data,"_blank"),G((e=>!e)),V(""),t.terminate())}}}),[H]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_container,onClick:()=>{var e;L("/q/".concat(F.username,"/student/profile"),{state:{sid:null===w||void 0===w||null===(e=w.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_inner,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===w||void 0===w||null===(i=w.student)||void 0===i?void 0:i.photoId)?"".concat(m.yI,"/").concat(null===w||void 0===w||null===(t=w.student)||void 0===t?void 0:t.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,f.jsxs)("div",{className:ce.Z.applicant_card_inner_info,children:[(0,f.jsx)("h6",{children:"".concat(null===w||void 0===w||null===(a=w.student)||void 0===a?void 0:a.studentFirstName," ").concat(null!==w&&void 0!==w&&null!==(s=w.student)&&void 0!==s&&s.studentMiddleName?null===w||void 0===w||null===(o=w.student)||void 0===o?void 0:o.studentMiddleName:""," ").concat(null===w||void 0===w||null===(d=w.student)||void 0===d?void 0:d.studentLastName)}),(0,f.jsx)("p",{children:(null===w||void 0===w?void 0:w.alloted_class)||""})]})]}),(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact,children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,f.jsx)("p",{children:null===w||void 0===w||null===(c=w.student)||void 0===c?void 0:c.studentGender})]}),((null===w||void 0===w||null===(r=w.student)||void 0===r?void 0:r.studentPhoneNumber)||(null===w||void 0===w||null===(u=w.student)||void 0===u||null===(p=u.user)||void 0===p?void 0:p.userPhoneNumber)||(null===w||void 0===w||null===(_=w.student)||void 0===_||null===(h=_.user)||void 0===h?void 0:h.userEmail)||(null===w||void 0===w||null===(g=w.student)||void 0===g?void 0:g.studentParentsPhoneNumber))&&(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,f.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==w&&void 0!==w&&null!==(j=w.student)&&void 0!==j&&null!==(S=j.user)&&void 0!==S&&S.userPhoneNumber?null===w||void 0===w||null===(N=w.student)||void 0===N||null===(b=N.user)||void 0===b?void 0:b.userPhoneNumber:null!==w&&void 0!==w&&null!==(A=w.student)&&void 0!==A&&null!==(y=A.user)&&void 0!==y&&y.userEmail?null===w||void 0===w||null===(C=w.student)||void 0===C||null===(Z=C.user)||void 0===Z?void 0:Z.userEmail:null!==w&&void 0!==w&&null!==(I=w.student)&&void 0!==I&&I.studentPhoneNumber?null===w||void 0===w||null===(E=w.student)||void 0===E?void 0:E.studentPhoneNumber:null===w||void 0===w||null===(T=w.student)||void 0===T?void 0:T.studentParentsPhoneNumber})]})]}),(0,f.jsx)("div",{className:ce.Z.applicant_card_reciept,onClick:e=>{e.stopPropagation()},children:(0,f.jsx)("a",{href:"".concat(m.r3,"/").concat(null===w||void 0===w||null===(P=w.student)||void 0===P||null===(R=P.application_print)||void 0===R||null===(k=R[0])||void 0===k?void 0:k.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,f.jsx)("div",{className:ce.Z.applicant_card_reciept,children:null===w||void 0===w||null===(D=w.student)||void 0===D||null===(O=D.fee_receipt)||void 0===O?void 0:O.map(((e,i)=>i>2?"":(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-receipt-download.svg",onClick:i=>((e,i)=>{e.stopPropagation(),G((e=>!e)),q(i),U===i&&V(J)})(i,e),alt:"receipt icon",title:"Download Fees Receipt"},e)))})]}),B&&(0,f.jsx)(M.Z,{})]})},ai=e=>{let{carryParentState:i,applicationId:n,applicationDetail:t,viewAs:a,accessRole:s,accessTpye:o,instituteId:d,applicationDetailApplicablePending:c,pageOpenAs:r}=e;const[u,m]=(0,l.useState)(!0),[p,_]=(0,l.useState)(1),[h,g]=(0,R.YD)(),[x,j]=(0,l.useState)([]),[S,N]=(0,l.useState)(!0),[b,A]=(0,l.useState)(""),{admissionAllottedList:y,admissionAllottedListRefetch:C}=(0,v.k8)({data:{aid:n,page:p,limit:10,search:b||""},skip:!n}),{scrollToTop:Z}=(0,z.u)();(0,l.useEffect)((()=>{Z()}),[]),(0,l.useEffect)((()=>{g&&u&&_((e=>e+1))}),[g,u]),(0,l.useEffect)((()=>{n&&(N(!0),C())}),[p,n,C,b]),(0,l.useEffect)((()=>{var e,i;b?(j(null===y||void 0===y?void 0:y.allot),N(!1)):null!==y&&void 0!==y&&y.allot?(j((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===y||void 0===y?void 0:y.allot])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),N(!1)):0===(null===y||void 0===y||null===(i=y.allot)||void 0===i?void 0:i.length)&&N(!1);10===(null===y||void 0===y||null===(e=y.allot)||void 0===e?void 0:e.length)?m(!0):m(!1)}),[null===y||void 0===y?void 0:y.allot]);const I=(0,l.useCallback)((0,Ze.debounce)((e=>A(e)),500),[]);return(0,f.jsxs)(f.Fragment,{children:["COMPLETED_APPLICATION"===a?"":(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Oe,{applicationDetail:t,carryParentState:i,instituteId:d,tabStatusFlow:"Allot_Query",applicationDetailApplicablePending:c,pageOpenAs:r,children:(0,f.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:e=>{I(e.target.value)}})}),(0,f.jsx)(Me,{carryParentState:i,accessRole:s,accessTpye:o,pageOpenAs:r})]}),null===x||void 0===x?void 0:x.map(((e,i)=>(null===x||void 0===x?void 0:x.length)===i+1?(0,f.jsx)("div",{ref:h,children:(0,f.jsx)(ti,{applicant:e})},i):(0,f.jsx)(ti,{applicant:e},i))),S&&(0,f.jsx)(k.Z,{})]})},si=e=>{var i,t,a,s,o,d,c,r,u,p,_,h,g,j,S,N,b,A,y,C,Z,I,E,T,P,R,k,D,O;let{applicant:w}=e;const F=(0,x.UO)(),L=(0,x.s0)(),[U,q]=(0,l.useState)(""),[B,G]=(0,l.useState)(!1),[H,V]=(0,l.useState)(""),{getFeeReceiptDetail:J,getFeeReceiptDetailRefetch:W}=(0,v.$d)({rid:U,skip:!U});(0,l.useEffect)((()=>{U&&W()}),[U,W]),(0,l.useEffect)((()=>{null!==J&&void 0!==J&&J.receipt&&null!==J&&void 0!==J&&J.all_remain&&V(J)}),[J]),(0,l.useEffect)((()=>{if(H){const{institute:e,studentInfo:i,paymentReceiptInfo:l}=(0,ze.Hs)(null===H||void 0===H?void 0:H.all_remain,null===H||void 0===H?void 0:H.receipt),t=new Worker(new URL(n.p+n.u(18334),n.b));t.postMessage({institute:e,studentInfo:i,paymentReceiptInfo:l,printReceiptType:"Refunded"===(null===l||void 0===l?void 0:l.transactonRefund)?"ADMISSION_REFUND":"ADMISSION"}),t.onmessage=e=>{e&&(window.open(e.data,"_blank"),G((e=>!e)),V(""),t.terminate())}}}),[H]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_container,onClick:()=>{var e;L("/q/".concat(F.username,"/student/profile"),{state:{sid:null===w||void 0===w||null===(e=w.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_inner,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===w||void 0===w||null===(i=w.student)||void 0===i?void 0:i.photoId)?"".concat(m.yI,"/").concat(null===w||void 0===w||null===(t=w.student)||void 0===t?void 0:t.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,f.jsxs)("div",{className:ce.Z.applicant_card_inner_info,children:[(0,f.jsx)("h6",{children:"".concat(null===w||void 0===w||null===(a=w.student)||void 0===a?void 0:a.studentFirstName," ").concat(null!==w&&void 0!==w&&null!==(s=w.student)&&void 0!==s&&s.studentMiddleName?null===w||void 0===w||null===(o=w.student)||void 0===o?void 0:o.studentMiddleName:""," ").concat(null===w||void 0===w||null===(d=w.student)||void 0===d?void 0:d.studentLastName)}),(0,f.jsxs)("p",{children:["Rs. ",null===w||void 0===w?void 0:w.refund_amount," ","Refund"===(null===w||void 0===w?void 0:w.payment_status)&&"Refunded"]})]})]}),(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact,children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,f.jsx)("p",{children:null===w||void 0===w||null===(c=w.student)||void 0===c?void 0:c.studentGender})]}),((null===w||void 0===w||null===(r=w.student)||void 0===r?void 0:r.studentPhoneNumber)||(null===w||void 0===w||null===(u=w.student)||void 0===u||null===(p=u.user)||void 0===p?void 0:p.userPhoneNumber)||(null===w||void 0===w||null===(_=w.student)||void 0===_||null===(h=_.user)||void 0===h?void 0:h.userEmail)||(null===w||void 0===w||null===(g=w.student)||void 0===g?void 0:g.studentParentsPhoneNumber))&&(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,f.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==w&&void 0!==w&&null!==(j=w.student)&&void 0!==j&&null!==(S=j.user)&&void 0!==S&&S.userPhoneNumber?null===w||void 0===w||null===(N=w.student)||void 0===N||null===(b=N.user)||void 0===b?void 0:b.userPhoneNumber:null!==w&&void 0!==w&&null!==(A=w.student)&&void 0!==A&&null!==(y=A.user)&&void 0!==y&&y.userEmail?null===w||void 0===w||null===(C=w.student)||void 0===C||null===(Z=C.user)||void 0===Z?void 0:Z.userEmail:null!==w&&void 0!==w&&null!==(I=w.student)&&void 0!==I&&I.studentPhoneNumber?null===w||void 0===w||null===(E=w.student)||void 0===E?void 0:E.studentPhoneNumber:null===w||void 0===w||null===(T=w.student)||void 0===T?void 0:T.studentParentsPhoneNumber})]})]}),(0,f.jsx)("div",{className:ce.Z.applicant_card_reciept,onClick:e=>{e.stopPropagation()},children:(0,f.jsx)("a",{href:"".concat(m.r3,"/").concat(null===w||void 0===w||null===(P=w.student)||void 0===P||null===(R=P.application_print)||void 0===R||null===(k=R[0])||void 0===k?void 0:k.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,f.jsx)("div",{className:ce.Z.applicant_card_reciept,children:null===w||void 0===w||null===(D=w.student)||void 0===D||null===(O=D.fee_receipt)||void 0===O?void 0:O.map(((e,i)=>i>2?"":(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-receipt-download.svg",onClick:i=>((e,i)=>{e.stopPropagation(),G((e=>!e)),q(i),U===i&&V(J)})(i,e),alt:"receipt icon",title:"Download Fees Receipt"},e)))})]}),B&&(0,f.jsx)(M.Z,{})]})},oi=e=>{let{carryParentState:i,applicationId:n,applicationDetail:t,viewAs:a,accessRole:s,accessTpye:o,instituteId:d,applicationDetailApplicablePending:c,pageOpenAs:r}=e;const[u,m]=(0,l.useState)(!0),[p,_]=(0,l.useState)(1),[h,g]=(0,R.YD)(),[x,j]=(0,l.useState)([]),[S,N]=(0,l.useState)(""),[b,A]=(0,l.useState)(!0),{admissionCancelledList:y,admissionCancelledListRefetch:C}=(0,v.wd)({data:{aid:n,page:p,limit:10,search:S||""},skip:!n}),{scrollToTop:Z}=(0,z.u)();(0,l.useEffect)((()=>{Z()}),[]),(0,l.useEffect)((()=>{g&&u&&_((e=>e+1))}),[g,u]),(0,l.useEffect)((()=>{n&&(A(!0),C())}),[p,n,C]),(0,l.useEffect)((()=>{var e,i;S?(j(null===y||void 0===y?void 0:y.cancel),A(!1)):null!==y&&void 0!==y&&y.cancel?(j((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===y||void 0===y?void 0:y.cancel])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),A(!1)):0===(null===y||void 0===y||null===(i=y.cancel)||void 0===i?void 0:i.length)&&A(!1);10===(null===y||void 0===y||null===(e=y.cancel)||void 0===e?void 0:e.length)?m(!0):m(!1)}),[null===y||void 0===y?void 0:y.cancel]);const I=(0,l.useCallback)((0,Ze.debounce)((e=>N(e)),500),[]);return(0,f.jsxs)(f.Fragment,{children:["COMPLETED_APPLICATION"===a?"":(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Oe,{applicationDetail:t,carryParentState:i,instituteId:d,applicationDetailApplicablePending:c,pageOpenAs:r,children:(0,f.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:e=>{I(e.target.value)}})}),(0,f.jsx)(Me,{carryParentState:i,accessRole:s,accessTpye:o,pageOpenAs:r})]}),null===x||void 0===x?void 0:x.map(((e,i)=>(null===x||void 0===x?void 0:x.length)===i+1?(0,f.jsx)("div",{ref:h,children:(0,f.jsx)(si,{applicant:e})},i):(0,f.jsx)(si,{applicant:e},i))),b&&(0,f.jsx)(k.Z,{})]})},di=e=>{var i,n,l,t,a,s,o,d,c,r,u,v,p,_,h,g,j,S,N,b,A,y,C,Z,I;let{applicant:E,selectedApplicant:T,onSelectOne:P}=e;const R=(0,x.UO)(),k=(0,x.s0)();return(0,f.jsxs)("div",{className:ce.Z.applicant_card_container,onClick:()=>{var e;k("/q/".concat(R.username,"/student/profile"),{state:{sid:null===E||void 0===E||null===(e=E.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_inner,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===E||void 0===E||null===(i=E.student)||void 0===i?void 0:i.photoId)?"".concat(m.yI,"/").concat(null===E||void 0===E||null===(n=E.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,f.jsxs)("div",{className:ce.Z.applicant_card_inner_info,children:[(0,f.jsx)("h6",{children:"".concat(null===E||void 0===E||null===(l=E.student)||void 0===l?void 0:l.studentFirstName," ").concat(null!==E&&void 0!==E&&null!==(t=E.student)&&void 0!==t&&t.studentMiddleName?null===E||void 0===E||null===(a=E.student)||void 0===a?void 0:a.studentMiddleName:""," ").concat(null===E||void 0===E||null===(s=E.student)||void 0===s?void 0:s.studentLastName)}),(0,f.jsx)("p",{children:null===E||void 0===E?void 0:E.install_type})]})]}),(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact,children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,f.jsx)("p",{children:null===E||void 0===E||null===(o=E.student)||void 0===o?void 0:o.studentGender})]}),((null===E||void 0===E||null===(d=E.student)||void 0===d?void 0:d.studentPhoneNumber)||(null===E||void 0===E||null===(c=E.student)||void 0===c||null===(r=c.user)||void 0===r?void 0:r.userPhoneNumber)||(null===E||void 0===E||null===(u=E.student)||void 0===u||null===(v=u.user)||void 0===v?void 0:v.userEmail)||(null===E||void 0===E||null===(p=E.student)||void 0===p?void 0:p.studentParentsPhoneNumber))&&(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,f.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==E&&void 0!==E&&null!==(_=E.student)&&void 0!==_&&null!==(h=_.user)&&void 0!==h&&h.userPhoneNumber?null===E||void 0===E||null===(g=E.student)||void 0===g||null===(j=g.user)||void 0===j?void 0:j.userPhoneNumber:null!==E&&void 0!==E&&null!==(S=E.student)&&void 0!==S&&null!==(N=S.user)&&void 0!==N&&N.userEmail?null===E||void 0===E||null===(b=E.student)||void 0===b||null===(A=b.user)||void 0===A?void 0:A.userEmail:null!==E&&void 0!==E&&null!==(y=E.student)&&void 0!==y&&y.studentPhoneNumber?null===E||void 0===E||null===(C=E.student)||void 0===C?void 0:C.studentPhoneNumber:null===E||void 0===E||null===(Z=E.student)||void 0===Z?void 0:Z.studentParentsPhoneNumber})]})]}),(0,f.jsx)("div",{className:ce.Z.selectBtnContainer,children:(0,f.jsx)("img",{id:"check",className:ce.Z.checkbox,src:null!==T&&void 0!==T&&T.includes(null===E||void 0===E||null===(I=E.student)||void 0===I?void 0:I._id)?"/images/checkbox-icon.svg":"/images/box-icon.svg",alt:"select icon",onClick:e=>{var i;e.stopPropagation(),P(null===E||void 0===E||null===(i=E.student)||void 0===i?void 0:i._id)}})})]})},ci=e=>{let{carryParentState:i,applicationId:n,applicationDetail:t,accessRole:a,accessTpye:s,instituteId:o,applicationDetailApplicablePending:d,pageOpenAs:c}=e;const{t:r}=(0,p.$G)(),[u,m]=(0,l.useState)([]),[_,h]=(0,l.useState)(!0),[g,x]=(0,l.useState)([]),[j,S]=(0,l.useState)(0),[N,b]=(0,l.useState)(""),[A,y]=(0,l.useState)(!1),[C,Z]=(0,l.useState)(""),[I,E]=(0,l.useState)(""),{getAllConfirmListMulitselect:T,getAllConfirmListMulitselectRefetch:P}=(0,v.dk)({data:{id:n,search:C},skip:!n}),{scrollToTop:R}=(0,z.u)();(0,l.useEffect)((()=>{R()}),[]),(0,l.useEffect)((()=>{n&&(h(!0),P())}),[n,P,C]),(0,l.useEffect)((()=>{var e,i;C?(x(null===T||void 0===T?void 0:T.confirm),h(!1)):null!==T&&void 0!==T&&null!==(e=T.confirm)&&void 0!==e&&e.length?(x(null===T||void 0===T?void 0:T.confirm),h(!1)):0===(null===T||void 0===T||null===(i=T.confirm)||void 0===i?void 0:i.length)&&h(!1)}),[null===T||void 0===T?void 0:T.confirm]);const D=e=>{null!==u&&void 0!==u&&u.includes(e)?(m((i=>null===i||void 0===i?void 0:i.filter((i=>i!==e)))),S((e=>--e))):(m((i=>[...i,e])),S((e=>++e))),y(!1)},O=(0,l.useCallback)((0,Ze.debounce)((e=>Z(e)),500),[]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Oe,{applicationDetail:t,carryParentState:i,instituteId:o,applicationDetailApplicablePending:d,pageOpenAs:c,children:(0,f.jsx)("input",{type:"text",placeholder:"Search applicants...",onChange:e=>{O(e.target.value)}})}),(0,f.jsx)(Me,{carryParentState:i,accessRole:a,accessTpye:s,pageOpenAs:c}),(0,f.jsxs)("div",{className:ce.Z.admission_mulit_select,children:[(0,f.jsxs)("p",{children:[j||""," ",r("selected_")]}),(0,f.jsxs)("div",{className:ce.Z.admission_mulit_select_right,children:[A?(0,f.jsx)("p",{onClick:()=>{m([]),y(!1),S(0)},style:{cursor:"pointer"},children:r("remove_all")}):(0,f.jsx)("p",{onClick:()=>{let e=[];for(let n of null===T||void 0===T?void 0:T.confirm){var i;e.push(null===n||void 0===n||null===(i=n.student)||void 0===i?void 0:i._id)}m(e),S(null===e||void 0===e?void 0:e.length),y(!0)},style:{cursor:"pointer"},children:r("select_all")}),(0,f.jsx)("div",{className:ce.Z.selectBtnContainer,style:{width:"auto"},children:(0,f.jsx)("div",{className:ce.Z.selectBtn,onClick:()=>{null!==u&&void 0!==u&&u.length&&E("ALLOT_BATCH")},children:r("allot_class")})})]})]}),null===g||void 0===g?void 0:g.map((e=>{var i;return(0,f.jsx)(di,{applicant:e,onSelectOne:D,selectedApplicant:u},null===e||void 0===e||null===(i=e.student)||void 0===i?void 0:i._id)})),_&&(0,f.jsx)(k.Z,{}),"ALLOT_BATCH"===I&&(0,f.jsx)(ei,{onClose:()=>E(""),applicationId:null===t||void 0===t?void 0:t._id,onAllotApplicantClasses:e=>{b(e),E("ALLOT_CLASSES")}}),"ALLOT_CLASSES"===I&&(0,f.jsx)(ni,{onClose:()=>E(""),currentApplicant:u,onRefetchWhenAction:P,applicationId:null===t||void 0===t?void 0:t._id,batchId:N,openAs:"MULITSELECT"})]})},ri=e=>{var i,n,t,a,s,o,d,c,r,u,m,p,_,h,g;let{instituteId:j,carryParentState:S,accessRole:N,accessTpye:b,callApi:A,pageOpenAs:y}=e;const C=(0,x.TH)(),{oneApplicationDetail:Z,oneApplicationDetailRefetch:I}=(0,v.mf)({apid:null===(i=C.state)||void 0===i?void 0:i.applicationId,skip:!(null!==(n=C.state)&&void 0!==n&&n.applicationId)}),{scrollToTop:E}=(0,z.u)();return(0,l.useEffect)((()=>{E()}),[]),(0,l.useEffect)((()=>{var e;null!==(e=C.state)&&void 0!==e&&e.applicationId&&I()}),[null===(t=C.state)||void 0===t?void 0:t.applicationId,I]),(0,f.jsxs)(f.Fragment,{children:["application"===(null===(a=C.search)||void 0===a?void 0:a.substring(13))&&(0,f.jsx)(qe,{applicationId:null===(s=C.state)||void 0===s?void 0:s.applicationId,carryParentState:S,applicationDetail:null===Z||void 0===Z?void 0:Z.oneApply,accessRole:N,accessTpye:b,instituteId:j,applicationDetailApplicablePending:null===Z||void 0===Z?void 0:Z.applicable_pending,pageOpenAs:y}),"select"===(null===(o=C.search)||void 0===o?void 0:o.substring(13))&&(0,f.jsx)(Qe,{applicationId:null===(d=C.state)||void 0===d?void 0:d.applicationId,carryParentState:S,applicationDetail:null===Z||void 0===Z?void 0:Z.oneApply,accessRole:N,accessTpye:b,instituteId:j,applicationDetailApplicablePending:null===Z||void 0===Z?void 0:Z.applicable_pending,pageOpenAs:y}),"confirm"===(null===(c=C.search)||void 0===c?void 0:c.substring(13))&&(0,f.jsx)(li,{applicationId:null===(r=C.state)||void 0===r?void 0:r.applicationId,carryParentState:S,applicationDetail:null===Z||void 0===Z?void 0:Z.oneApply,accessRole:N,accessTpye:b,instituteId:j,callApi:A,applicationDetailApplicablePending:null===Z||void 0===Z?void 0:Z.applicable_pending,pageOpenAs:y}),"mulitple"===(null===(u=C.search)||void 0===u?void 0:u.substring(13))&&(0,f.jsx)(ci,{applicationId:null===(m=C.state)||void 0===m?void 0:m.applicationId,carryParentState:S,applicationDetail:null===Z||void 0===Z?void 0:Z.oneApply,accessRole:N,accessTpye:b,instituteId:j,applicationDetailApplicablePending:null===Z||void 0===Z?void 0:Z.applicable_pending,pageOpenAs:y}),"allot"===(null===(p=C.search)||void 0===p?void 0:p.substring(13))&&(0,f.jsx)(ai,{applicationId:null===(_=C.state)||void 0===_?void 0:_.applicationId,carryParentState:S,applicationDetail:null===Z||void 0===Z?void 0:Z.oneApply,accessRole:N,accessTpye:b,instituteId:j,applicationDetailApplicablePending:null===Z||void 0===Z?void 0:Z.applicable_pending,pageOpenAs:y}),"cancel"===(null===(h=C.search)||void 0===h?void 0:h.substring(13))&&(0,f.jsx)(oi,{applicationId:null===(g=C.state)||void 0===g?void 0:g.applicationId,carryParentState:S,applicationDetail:null===Z||void 0===Z?void 0:Z.oneApply,accessRole:N,accessTpye:b,instituteId:j,applicationDetailApplicablePending:null===Z||void 0===Z?void 0:Z.applicable_pending,pageOpenAs:y})]})},ui=e=>{var i,n,l;let{admissionId:t,instituteId:a,carryParentState:s,accessRole:o,accessApplication:d,accessTpye:c,callApi:r,pageOpenAs:u}=e;const{t:v}=(0,p.$G)(),m=(0,x.s0)(),_=(0,x.UO)(),h=(0,x.TH)();return(0,f.jsxs)("div",{className:ce.Z.admission_application_container,children:["ongoing"===(null===(i=h.search)||void 0===i?void 0:i.substring(3))&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:ce.Z.with_search,style:{justifyContent:"flex-start",gap:"1rem"},children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{m("/q/".concat(_.username,"INSTITUTE"===u?"/admission":"/member/admission"),{state:{...s}})},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,f.jsx)("h6",{children:v("ongoing_application")})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%",marginTop:"0.5rem",marginBottom:"0.5rem"}})]}),"ongoing"===(null===(n=h.search)||void 0===n?void 0:n.substring(3))&&(0,f.jsx)(Ce,{admissionId:t,carryParentState:s,accessRole:o,accessTpye:c,accessApplication:d,callApi:r,pageOpenAs:u}),"ongoing&n="===(null===h||void 0===h||null===(l=h.search)||void 0===l?void 0:l.substring(3,13))&&(0,f.jsx)(ri,{instituteId:a,admissionId:t,carryParentState:s,accessRole:o,accessTpye:c,callApi:r,pageOpenAs:u})]})};const vi=function(e){var i,n;let{completed:l,carryParentState:t,accessRole:a,accessTpye:s,callApi:o,pageOpenAs:d,setOpenApplicationMenu:c}=e;const{t:r}=(0,p.$G)(),u=e=>{e.preventDefault(),c(null===l||void 0===l?void 0:l._id)};return(0,f.jsx)(f.Fragment,{children:"INSTITUTE"===d?(0,f.jsx)(y,{carryParentState:{...t,applicationId:null===l||void 0===l?void 0:l._id},activeTab:"?a=ongoing&n=application",children:(0,f.jsxs)("div",{className:ce.Z.ongoing_card,style:{display:"flex",flexDirection:"column",alignItems:"center",marginRight:"1rem"},children:[(0,f.jsxs)("div",{className:ce.Z.ongoing_card_inner,children:[(0,f.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,f.jsxs)("div",{className:ce.Z.ongoing_card_text,children:[(0,f.jsx)("h6",{children:null===l||void 0===l?void 0:l.applicationName}),(0,f.jsx)("p",{children:null===l||void 0===l||null===(i=l.applicationDepartment)||void 0===i?void 0:i.dName})]})]}),(0,f.jsxs)("div",{className:ce.Z.ongoing_card_text,children:[(0,f.jsx)("h6",{children:null===l||void 0===l?void 0:l.allotCount}),(0,f.jsx)("p",{children:r("alloted")})]}),(0,f.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:u,className:ce.Z.menu_icon,title:"Menu"})]})}):(0,f.jsx)(Ne,{carryParentState:{...t,applicationId:null===l||void 0===l?void 0:l._id},activeTab:"ongoing&n=application",accessRole:a,accessTpye:s,callApi:o,children:(0,f.jsxs)("div",{className:ce.Z.ongoing_card,children:[(0,f.jsxs)("div",{className:ce.Z.ongoing_card_inner,children:[(0,f.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,f.jsxs)("div",{className:ce.Z.ongoing_card_text,children:[(0,f.jsx)("h6",{children:null===l||void 0===l?void 0:l.applicationName}),(0,f.jsx)("p",{children:null===l||void 0===l||null===(n=l.applicationDepartment)||void 0===n?void 0:n.dName})]})]}),(0,f.jsxs)("div",{className:ce.Z.ongoing_card_text,style:{display:"flex",flexDirection:"column",alignItems:"center",marginRight:"1rem"},children:[(0,f.jsx)("h6",{children:null===l||void 0===l?void 0:l.allotCount}),(0,f.jsx)("p",{children:r("alloted")})]}),(0,f.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:u,className:ce.Z.menu_icon,title:"Menu"})]})})})},mi=e=>{let{onClose:i,onRefetch:n,openApplicationMenu:t}=e;const[a,s]=(0,l.useState)(!1),[o]=(0,v.fI)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(W.Z,{onClose:i}),(0,f.jsxs)(J.Z,{customStyle:{zIndex:"1200"},children:[(0,f.jsx)("div",{className:$.Z.edit_modal_container,style:{width:"200px"},children:(0,f.jsx)("h6",{className:$.Z.edit,onClick:()=>{t&&(s((e=>!e)),o({aid:t}).then((()=>{n(),s((e=>!e)),i()})).catch({}))},children:"Mark as Ongoing"})}),a&&(0,f.jsx)(M.Z,{})]})]})},pi=e=>{let{admissionId:i,carryParentState:n,accessRole:t,accessApplication:a,accessTpye:s,callApi:o,pageOpenAs:d}=e;const{t:c}=(0,p.$G)(),u=(0,x.s0)(),m=(0,r.v9)((e=>e.admissionChange)),[_,h]=(0,l.useState)(!0),[g,j]=(0,l.useState)(1),[S,N]=(0,R.YD)(),[b,A]=(0,l.useState)([]),[y,C]=(0,l.useState)(!0),{scrollToTop:Z}=(0,z.u)(),[I,E]=(0,l.useState)(""),[T,P]=(0,l.useState)(!1),{allCompletedApp:O,allCompletedAppRefetch:w}=(0,v.XN)({data:{aid:i||(null===m||void 0===m?void 0:m.aid),page:g,limit:10},skip:i?!i:!(null!==m&&void 0!==m&&m.aid)});(0,l.useEffect)((()=>{Z()}),[]),(0,l.useEffect)((()=>{N&&_&&j((e=>e+1))}),[N,_]),(0,l.useEffect)((()=>{(null!==m&&void 0!==m&&m.aid||i)&&(C(!0),w())}),[null===m||void 0===m?void 0:m.aid,i,g,w]),(0,l.useEffect)((()=>{var e,i;T?(A(null===O||void 0===O?void 0:O.completed),C(!1),P(!1)):null!==O&&void 0!==O&&O.completed?(A((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===O||void 0===O?void 0:O.completed])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),C(!1)):0===(null===O||void 0===O||null===(i=O.completed)||void 0===i?void 0:i.length)&&C(!1);10===(null===O||void 0===O||null===(e=O.completed)||void 0===e?void 0:e.length)?h(!0):h(!1)}),[null===O||void 0===O?void 0:O.completed]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:ce.Z.admission_application_container,children:[(0,f.jsxs)("div",{className:ce.Z.with_search,style:{justifyContent:"flex-start",gap:"1rem"},children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{u(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,f.jsx)("h6",{children:c("completed_application")})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%",marginTop:"0.5rem",marginBottom:"0.5rem"}}),(0,f.jsx)("div",{className:ce.Z.remainingFeesBottom,children:(0,f.jsxs)("div",{className:ce.Z.itemsContainer,children:[null===b||void 0===b?void 0:b.map(((e,i)=>(null===b||void 0===b?void 0:b.length)===i+1?(0,f.jsx)("div",{ref:S,children:(0,f.jsx)(vi,{completed:e,carryParentState:n,accessRole:t,accessTpye:s,callApi:o,accessApplication:a,pageOpenAs:d,setOpenApplicationMenu:E})},null===e||void 0===e?void 0:e._id):(0,f.jsx)(vi,{completed:e,carryParentState:n,accessRole:t,accessTpye:s,callApi:o,accessApplication:a,pageOpenAs:d,setOpenApplicationMenu:E},null===e||void 0===e?void 0:e._id))),y&&(0,f.jsx)(k.Z,{status:"white"})]})})]}),I&&(0,f.jsx)(mi,{openApplicationMenu:I,onClose:()=>E(""),onRefetch:()=>{j(1),P(!0),C(!0),w()}})]})};var _i=n(33399),hi=n(33148),gi=n(72952),xi=n(45897),fi=n(34219);const ji=e=>{var i,n;let{onClose:t,onRefetch:a,aid:s,instituteId:o}=e;const{t:d}=(0,p.$G)(),[c,r]=(0,l.useState)(!1),[u]=(0,v.Rr)(),[m,_]=(0,l.useState)(""),[h,g]=(0,l.useState)([]),[x,j]=(0,l.useState)([]),[S,N]=(0,l.useState)({alarm_mode:"APP_NOTIFICATION",content:""}),[b,A]=(0,l.useState)({depart:"",batch:"",master:[],batch_status:"",all_depart:""}),[y,C]=(0,l.useState)([]),[Z,I]=(0,l.useState)(!1),[E]=(0,v.Z1)(),{allDepartmentList:T,allDepartmentListRefetch:P}=(0,v.nJ)({aid:s,skip:!s}),{allClassMaster:R,allClassMasterRefetch:k}=(0,ne.tx)({data:{id:o,did:b.depart},skip:"All"===b.all_depart||!b.depart}),{oneDepartment:O,oneDepartmentRefetch:w}=(0,ne._C)({did:b.depart,skip:"All"===b.all_depart||!b.depart});(0,l.useEffect)((()=>{s&&P()}),[s,P]),(0,l.useEffect)((()=>{b.depart&&"All"!==b.all_depart&&k()}),[b.depart,k]),(0,l.useEffect)((()=>{b.depart&&"All"!==b.all_depart&&w()}),[b.depart,w]);const L=e=>{null!==y&&void 0!==y&&y.includes(e)?C((i=>null===i||void 0===i?void 0:i.filter((i=>i!==e)))):C((i=>[...i,e]))};return(0,f.jsxs)(F.Z,{onClose:t,children:[(0,f.jsx)("div",{className:_i.Z.add_category_modal,style:{width:"30rem",minHeight:"10rem",maxHeight:"35rem",overflowX:"hidden",overflowY:"auto",scrollBehavior:"smooth"},children:"SEND"===m?(0,f.jsxs)("section",{className:_i.Z.fee_middle_section_container,style:{marginBottom:"1.2rem"},children:[(0,f.jsx)("h6",{style:{fontSize:"20px",fontWeight:"600"},children:d("Notify_about_Outstanding_Dues")}),(0,f.jsx)(D.Z,{customStyle:{width:"100%",marginTop:"0.7rem",marginBottom:"1rem"}}),(0,f.jsxs)("section",{className:_i.Z.notify_container,onClick:()=>N((e=>({...e,alarm_mode:"APP_NOTIFICATION"}))),children:[(0,f.jsx)("img",{src:"APP_NOTIFICATION"===S.alarm_mode?"/images/department/radio-blue-icon.svg":"/images/department/radio-gray-icon.svg",alt:"icon"}),(0,f.jsxs)("div",{className:_i.Z.notify_text,children:[(0,f.jsx)("h6",{children:d("Notify_with_In_app_Notification")}),(0,f.jsx)("p",{children:d("Notify_with_In_app_Notification_note")})]})]}),(0,f.jsxs)("section",{className:_i.Z.notify_container,onClick:()=>N((e=>({...e,alarm_mode:"EMAIL_NOTIFICATION"}))),children:[(0,f.jsx)("img",{src:"EMAIL_NOTIFICATION"===S.alarm_mode?"/images/department/radio-blue-icon.svg":"/images/department/radio-gray-icon.svg",alt:"icon"}),(0,f.jsxs)("div",{className:_i.Z.notify_text,children:[(0,f.jsx)("h6",{children:d("Notify_On_Email_and_SMS")}),(0,f.jsx)("p",{children:d("Notify_On_Email_and_SMS_note")})]})]}),"EMAIL_NOTIFICATION"===S.alarm_mode&&(0,f.jsx)(gi.Z,{labelText:d("email_content"),placeholder:d("email_content_placeholder"),name:"content",value:S.content,type:"text",onChange:e=>N((i=>({...i,content:e.target.value})))}),(0,f.jsx)("button",{onClick:()=>{s&&S.alarm_mode&&(null===y||void 0===y?void 0:y.length)>0&&(r((e=>!e)),u({aid:s,alarm_mode:S.alarm_mode,content:S.content,reminderData:{...b,all_arr:y}}).then((()=>{a(),r((e=>!e)),t()})).catch({}))},className:_i.Z.fee_middle_confirm_button,style:{marginTop:"4rem"},children:d("confirm")})]}):"LIST"===m?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:hi.Z.select_header,children:[(0,f.jsxs)("h6",{children:[(null===y||void 0===y?void 0:y.length)>0?"".concat(null===y||void 0===y?void 0:y.length," "):"",d("select_student")]}),(0,f.jsxs)("div",{children:[Z?(0,f.jsx)("button",{className:hi.Z.select_all_btn,title:"Remove All Student",onClick:()=>{C([]),I(!1)},style:{marginRight:"0.7rem"},children:d("remove_all")}):(0,f.jsx)("button",{className:hi.Z.select_all_btn,title:"Select All Student",onClick:()=>{let e=[];for(let i of h)e.push(null===i||void 0===i?void 0:i._id);C(e),I(!0)},style:{marginRight:"0.7rem"},children:d("select_all")}),(0,f.jsx)("button",{className:hi.Z.promote_all_btn,onClick:()=>(null===y||void 0===y?void 0:y.length)>0?_("SEND"):null,children:d("next")})]})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),(0,f.jsx)("section",{className:_i.Z.search_container,children:(0,f.jsxs)("div",{className:_i.Z.search_container_text,children:[(0,f.jsx)("img",{className:_i.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,f.jsx)("input",{type:"text",placeholder:d("search-label"),onChange:e=>{if(e.target.value){let i=Si(x,e.target.value);g((()=>i))}else g((()=>x))}})]})}),(null===h||void 0===h?void 0:h.length)<1&&(0,f.jsx)(fi.Z,{customStyleContainer:{marginTop:"9rem"},title:"No student found."}),null===h||void 0===h?void 0:h.map(((e,i)=>(0,f.jsx)(xi.Z,{stu:e,selectedId:y,onSelectStudent:L},i)))]}):(0,f.jsxs)("section",{className:_i.Z.fee_middle_section_container,style:{marginBottom:"1.2rem"},children:[(0,f.jsx)("h6",{style:{fontSize:"20px",fontWeight:"600"},children:d("apply_filter")}),(0,f.jsx)(D.Z,{customStyle:{width:"100%",marginTop:"0.7rem",marginBottom:"1rem"}}),(0,f.jsx)(ie.Z,{selectLabel:d("select_department"),selectedValue:d("all_select_particular_department"),options:null!==T&&void 0!==T&&T.allDB?["All",...null===T||void 0===T?void 0:T.allDB]:["All"],onClick:e=>{A("All"===e?e=>({...e,depart:"",all_depart:"ALL"}):i=>({...i,depart:e,all_depart:"PARTICULAR"}))}}),(0,f.jsx)(ie.Z,{selectLabel:d("select_batch_optional"),selectedValue:d("select_pref"),options:"ALL"===b.all_depart?["All"]:null!==O&&void 0!==O&&null!==(i=O.department)&&void 0!==i&&i.batches?[...null===O||void 0===O||null===(n=O.department)||void 0===n?void 0:n.batches]:[],onClick:e=>{A("All"===e?e=>({...e,batch:"",batch_status:"ALL_BATCH"}):i=>({...i,batch:e,batch_status:"PARTICULAR_BATCH"}))}}),"ALL"===b.all_depart?"":(0,f.jsx)(ie.Z,{selectLabel:d("select_standard_year"),selectedValue:d("select_standard_year_placeholder"),options:null!==R&&void 0!==R&&R.classMaster?[...null===R||void 0===R?void 0:R.classMaster]:[],onClick:e=>{A((i=>({...i,master:[e]})))}}),(0,f.jsx)("button",{onClick:()=>{s&&(r((e=>!e)),E({aid:s,pendingData:b}).then((e=>{var i,n;g(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.all_student),j(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.all_student),r((e=>!e)),_("LIST")})).catch({}))},className:_i.Z.fee_middle_confirm_button,style:{marginTop:"4rem"},children:d("next")})]})}),c&&(0,f.jsx)(M.Z,{})]})},Si=function(){let e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((i=>{var n,l,t,a,s,o;let d=null!==(n=null!==(l=null!==(t=null===i||void 0===i?void 0:i.studentFirstName)&&void 0!==t?t:" "+(null===i||void 0===i?void 0:i.studentMiddleName))&&void 0!==l?l:" "+(null===i||void 0===i?void 0:i.studentLastName))&&void 0!==n?n:"";return null!==d&&void 0!==d&&null!==(a=d.toLowerCase())&&void 0!==a&&a.includes(null===e||void 0===e?void 0:e.toLowerCase())||null!==i&&void 0!==i&&null!==(s=i.studentGRNO)&&void 0!==s&&null!==(o=s.toLowerCase())&&void 0!==o&&o.includes(null===e||void 0===e?void 0:e.toLowerCase())?i:null}))};var Ni=n(49807),bi=n(84959);const Ai=e=>{let{aid:i,instituteId:n,isEnable:t,onRefetch:a,setApplyFilter:s,applyFilter:o,isApplicable:d,pageOpenAs:c,admissionId:r,children:u}=e;const{t:m}=(0,p.$G)(),[_,h]=(0,l.useState)(!1),[g,j]=(0,l.useState)(!1),S=(0,x.UO)(),b=(0,x.s0)(),A=(0,x.TH)(),[y,C]=(0,l.useState)(!1),[Z]=(0,bi.FL)(),[I]=(0,v._g)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("section",{className:ce.Z.moderator_container_title,children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{b(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,f.jsxs)("div",{className:ce.Z.with_search,children:[(0,f.jsx)("h6",{children:m("admission_remaining_fees")}),(0,f.jsxs)("div",{className:ce.Z.search_container_filter,children:[(0,f.jsx)("section",{className:ce.Z.search_container,children:(0,f.jsxs)("div",{className:ce.Z.search_container_input,children:[(0,f.jsx)("img",{className:ce.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),u]})}),(0,f.jsxs)("div",{className:ce.Z.os_filter_container,children:[d?"":(0,f.jsx)("img",{src:"/images/filter-blue-icon.svg",alt:"filter icon",onClick:()=>j(!0)}),"INSTITUTE"===c?(0,f.jsx)("label",{htmlFor:"uploadExcel",children:(0,f.jsx)("img",{src:"/images/member_tab/subject/subject-excel-icon.svg",alt:"excel icon",style:{cursor:"pointer",height:"1.5rem"}})}):null,(0,f.jsx)("button",{className:ce.Z.os_reminder,onClick:()=>h(!0),disabled:!t,style:{opacity:t?"1":"0.5"},children:m("outstanding_reminder")}),(0,f.jsx)(N.rU,{to:"/q/".concat(S.username,"INSTITUTE"===c?"/admission?a=reminder-message":"/member/admission?a=reminder-message"),state:{...A.state,instituteId:n},children:(0,f.jsx)("img",{src:"/images/member_tab/finance/finance-message-log-icon.svg",alt:"receipt icon",title:"View message history",style:{height:"2rem",cursor:"pointer"}})})]})]})]})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),_&&(0,f.jsx)(ji,{onClose:()=>h(!1),aid:i,onRefetch:a}),g&&(0,f.jsx)(Ni.Z,{onClose:()=>j(!1),instituteId:n,setApplyFilter:s,applyFilter:o}),(0,f.jsx)("input",{type:"file",id:"uploadExcel",accept:".xlsx",onChange:e=>{var i;if(null!==(i=e.target.files)&&void 0!==i&&i.length&&r){C(!0);const i=new FormData;i.append("file",e.target.files[0]),Z({fileUpload:i}).then((e=>{var i,n;null!==(i=e.data)&&void 0!==i&&i.imageKey?I({aid:r,excelFile:{excel_file:null===(n=e.data)||void 0===n?void 0:n.imageKey}}).then((()=>{C(!1)})).catch({}):C(!1)})).catch({})}},style:{display:"none"}}),y&&(0,f.jsx)(M.Z,{})]})},yi=e=>{var i;let{carryParentState:n,pageOpenAs:l}=e;const{t:t}=(0,p.$G)(),a=(0,x.TH)(),s=[{name:t("os_fees"),id:0,url:"member/admission?a=pending"},{name:t("applicable_os"),id:1,url:"member/admission?a=pending&applicable"}],o=[{name:t("os_fees"),id:0,url:"admission?a=pending"},{name:t("applicable_os"),id:1,url:"admission?a=pending&applicable"}];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(we.Z,{tabList:"INSTITUTE"===l?o:s,activeIndexTab:"pending"===(null===(i=a.search)||void 0===i?void 0:i.substring(3))?0:1,showAs:!0,customStyleTab:{width:"100%"},customStyleLink:{width:"50%"},carryParentState:n}),(0,f.jsx)(D.Z,{customStyle:{width:"100%",marginBottom:"0.5rem"}})]})};var Ci=n(85161);const Zi=e=>{var i,n,l;let{remainData:t,is_applicable:a}=e;const{t:s}=(0,p.$G)(),o=(0,x.UO)(),d=(0,x.s0)();return(0,f.jsxs)("div",{className:Ci.Z.item,onClick:()=>{d("/q/".concat(o.username,"/student/profile/admission"),{state:{sid:null===t||void 0===t?void 0:t._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,f.jsxs)("div",{className:Ci.Z.subItem,children:[(0,f.jsx)("img",{alt:"Student Avatar",src:null!==t&&void 0!==t&&t.studentProfilePhoto?"".concat(m.yI,"/").concat(null===t||void 0===t?void 0:t.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,f.jsxs)("div",{className:Ci.Z.text,children:[(0,f.jsx)("h6",{children:"".concat(t.studentFirstName," ").concat(t.studentMiddleName?t.studentMiddleName:""," ").concat(t.studentLastName)}),(0,f.jsxs)("p",{children:[s("gr_number"),null!==(i=null===t||void 0===t?void 0:t.studentGRNO)&&void 0!==i?i:""," ",", ",null!==(n=null===t||void 0===t||null===(l=t.department)||void 0===l?void 0:l.dName)&&void 0!==n?n:""]})]})]}),(0,f.jsxs)("div",{className:Ci.Z.text,children:[a?(0,f.jsxs)("h6",{children:["Rs. ",null===t||void 0===t?void 0:t.applicable_fees_pending]}):(0,f.jsxs)("h6",{children:["Rs. ",null===t||void 0===t?void 0:t.admissionRemainFeeCount]}),(0,f.jsx)("p",{children:s("pending_fees")})]})]})},Ii=e=>{let{isEnable:i,instituteId:n,onRefetch:t,carryParentState:a,pageOpenAs:s,admissionId:o}=e;const{t:d}=(0,p.$G)(),c=(0,r.v9)((e=>e.admissionChange)),[u,m]=(0,l.useState)(!0),[_,h]=(0,l.useState)(""),[g,x]=(0,l.useState)(1),[j,S]=(0,R.YD)(),[N,b]=(0,l.useState)([]),[A,y]=(0,l.useState)(!0),{scrollToTop:C}=(0,z.u)(),{allRemainingList:Z,allRemainingListRefetch:I}=(0,v.ck)({data:{aid:null!==c&&void 0!==c&&c.aid?null===c||void 0===c?void 0:c.aid:o,page:g,limit:10,search:_,flow:"Applicable_Fees_Query"},skip:null!==c&&void 0!==c&&c.aid?!(null!==c&&void 0!==c&&c.aid):!o});(0,l.useEffect)((()=>{S&&u&&x((e=>e+1))}),[S,u]),(0,l.useEffect)((()=>{(null!==c&&void 0!==c&&c.aid||o)&&(y(!0),I())}),[g,null===c||void 0===c?void 0:c.aid,o,_,I]),(0,l.useEffect)((()=>{var e,i;_?(b(null===Z||void 0===Z?void 0:Z.remain),y(!1)):null!==Z&&void 0!==Z&&Z.remain?(b(1===g?null===Z||void 0===Z?void 0:Z.remain:e=>[...new Set([...e,...null===Z||void 0===Z?void 0:Z.remain].map(JSON.stringify))].map(JSON.parse)),y(!1)):0===(null===Z||void 0===Z||null===(i=Z.remain)||void 0===i?void 0:i.length)&&y(!1);10===(null===Z||void 0===Z||null===(e=Z.remain)||void 0===e?void 0:e.length)?m(!0):m(!1)}),[null===Z||void 0===Z?void 0:Z.remain]);const E=(0,l.useCallback)((0,Ze.debounce)((e=>h(e)),500),[]);return(0,l.useEffect)((()=>{C()}),[C]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Ai,{aid:null!==c&&void 0!==c&&c.aid?null===c||void 0===c?void 0:c.aid:o,isEnable:i,onRefetch:t,instituteId:n,isApplicable:!0,pageOpenAs:s,admissionId:null!==c&&void 0!==c&&c.aid?null===c||void 0===c?void 0:c.aid:o,children:(0,f.jsx)("input",{type:"text",placeholder:d("search-label"),onChange:e=>{E(e.target.value),e.target.value||(x(1),I(),y(!0))}})}),(0,f.jsx)(yi,{carryParentState:a,pageOpenAs:s}),null===N||void 0===N?void 0:N.map(((e,i)=>(null===N||void 0===N?void 0:N.length)===i+1?(0,f.jsx)("div",{ref:j,children:(0,f.jsx)(Zi,{remainData:e,is_applicable:!0})},i):(0,f.jsx)(Zi,{remainData:e,is_applicable:!0},i))),A&&(0,f.jsx)(k.Z,{status:"white"})]})},Ei=e=>{var i;let{isEnable:n,instituteId:t,onRefetch:a,carryParentState:s,pageOpenAs:o,admissionId:d}=e;const{t:c}=(0,p.$G)(),u=(0,r.v9)((e=>e.admissionChange)),[m,_]=(0,l.useState)(!0),[h,g]=(0,l.useState)(""),[x,j]=(0,l.useState)(1),[S,N]=(0,R.YD)(),[b,A]=(0,l.useState)([]),[y,C]=(0,l.useState)(!0),[Z,I]=(0,l.useState)({depart_arr:[],batch_arr:[],master_arr:[],gender:"",cast_category:"",filter_by:""}),[E,T]=(0,l.useState)(!1),{scrollToTop:P}=(0,z.u)(),[D]=(0,v.aG)(),{getPendingCustomFilterByAdmission:O,getPendingCustomFilterByAdmissionRefetch:w}=(0,v.lR)({data:{aid:null!==u&&void 0!==u&&u.aid?null===u||void 0===u?void 0:u.aid:d,flow:"Admission_Filter"},skip:null!==u&&void 0!==u&&u.aid?!(null!==u&&void 0!==u&&u.aid):!d});(0,l.useEffect)((()=>{(null!==u&&void 0!==u&&u.aid||d)&&w()}),[null===u||void 0===u?void 0:u.aid,d,w]);const M=(0,l.useCallback)((()=>{E&&D({aid:null!==u&&void 0!==u&&u.aid?null===u||void 0===u?void 0:u.aid:d,page:x,limit:10,search:h,flow:"All_Pending_Fees_Query",filter_by:Z.filter_by,filterData:{...Z}}).then((e=>{var i;if(null!==(i=e.data)&&void 0!==i&&i.remain){var n,l,t,a,s,o;if(h)A(null===(t=e.data)||void 0===t?void 0:t.remain),C(!1);else if(null!==(a=e.data)&&void 0!==a&&a.remain){var d;if(1===x)A(null===(d=e.data)||void 0===d?void 0:d.remain);else A((i=>{var n;return[...new Set([...i,...null===(n=e.data)||void 0===n?void 0:n.remain].map(JSON.stringify))].map(JSON.parse)}));C(!1)}else 0===(null===(s=e.data)||void 0===s||null===(o=s.remain)||void 0===o?void 0:o.length)&&C(!1);10===(null===(n=e.data)||void 0===n||null===(l=n.remain)||void 0===l?void 0:l.length)?_(!0):_(!1)}})).catch({})}),[h,x,null===u||void 0===u?void 0:u.aid,d,Z,E]);(0,l.useEffect)((()=>{N&&m&&j((e=>e+1))}),[N,m]),(0,l.useEffect)((()=>{(null!==u&&void 0!==u&&u.aid||d)&&(C(!0),M())}),[x,null===u||void 0===u?void 0:u.aid,d,h,M]),(0,l.useEffect)((()=>{j((e=>1)),C(!0),M()}),[Z,M]),(0,l.useEffect)((()=>{var e;if(null!==O&&void 0!==O&&null!==(e=O.ads_admin)&&void 0!==e&&e.pending_fee_custom_filter){var i;let e=null===O||void 0===O||null===(i=O.ads_admin)||void 0===i?void 0:i.pending_fee_custom_filter;I({depart_arr:null===e||void 0===e?void 0:e.department,batch_arr:null===e||void 0===e?void 0:e.batch,master_arr:null===e||void 0===e?void 0:e.master,gender:null===e||void 0===e?void 0:e.gender,cast_category:null===e||void 0===e?void 0:e.cast_category,filter_by:""}),T(!0)}}),[null===O||void 0===O||null===(i=O.ads_admin)||void 0===i?void 0:i.pending_fee_custom_filter]);const F=(0,l.useCallback)((0,Ze.debounce)((e=>g(e)),500),[]);return(0,l.useEffect)((()=>{P()}),[P]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Ai,{aid:null!==u&&void 0!==u&&u.aid?null===u||void 0===u?void 0:u.aid:d,isEnable:n,onRefetch:a,instituteId:t,applyFilter:Z,setApplyFilter:I,pageOpenAs:o,admissionId:null!==u&&void 0!==u&&u.aid?null===u||void 0===u?void 0:u.aid:d,children:(0,f.jsx)("input",{type:"text",placeholder:c("search-label"),onChange:e=>{F(e.target.value),e.target.value||(j(1),M(),C(!0))}})}),(0,f.jsx)(yi,{carryParentState:s,pageOpenAs:o}),null===b||void 0===b?void 0:b.map(((e,i)=>(null===b||void 0===b?void 0:b.length)===i+1?(0,f.jsx)("div",{ref:S,children:(0,f.jsx)(Zi,{remainData:e})},i):(0,f.jsx)(Zi,{remainData:e},i))),y&&(0,f.jsx)(k.Z,{status:"white"})]})};const Ti=function(e){var i;let{isEnable:n,instituteId:l,onRefetch:t,carryParentState:a,pageOpenAs:s,admissionId:o}=e;const d=(0,x.TH)();return(0,f.jsx)("div",{className:Ci.Z.remainingFees,children:"pending"===(null===(i=d.search)||void 0===i?void 0:i.substring(3))?(0,f.jsx)(Ei,{isEnable:n,carryParentState:a,onRefetch:t,instituteId:l,pageOpenAs:s,admissionId:o}):(0,f.jsx)(Ii,{isEnable:n,carryParentState:a,onRefetch:t,instituteId:l,pageOpenAs:s,admissionId:o})})};var Pi=n(90865),Ri=n(43317);const ki=e=>{let{admissionId:i}=e;const{t:n}=(0,p.$G)(),t=(0,x.s0)(),[a,s]=(0,l.useState)({admission_enquiry:!0,admission_mods:!0,all_students:!0,complete_admission:!0,data_export:!0,excess_fee:!0,offline_payment_verification:!0,ongoing_admission:!0,pending_fee:!0,required_documents:!0}),[o,d]=(0,l.useState)(!1),[c,r]=(0,l.useState)(""),[u]=(0,Ri.rz)(),{admissionDashboardMaster:v}=(0,Ri.GW)({data:{aid:i,mid:""},skip:!i});(0,l.useEffect)((()=>{var e,i,n,l,t,a,o,d,c,r;null!==v&&void 0!==v&&v.tab_manage&&s({admission_enquiry:null===v||void 0===v||null===(e=v.tab_manage)||void 0===e?void 0:e.admission_enquiry,admission_mods:null===v||void 0===v||null===(i=v.tab_manage)||void 0===i?void 0:i.admission_mods,all_students:null===v||void 0===v||null===(n=v.tab_manage)||void 0===n?void 0:n.all_students,complete_admission:null===v||void 0===v||null===(l=v.tab_manage)||void 0===l?void 0:l.complete_admission,data_export:null===v||void 0===v||null===(t=v.tab_manage)||void 0===t?void 0:t.data_export,excess_fee:null===v||void 0===v||null===(a=v.tab_manage)||void 0===a?void 0:a.excess_fee,offline_payment_verification:null===v||void 0===v||null===(o=v.tab_manage)||void 0===o?void 0:o.offline_payment_verification,ongoing_admission:null===v||void 0===v||null===(d=v.tab_manage)||void 0===d?void 0:d.ongoing_admission,pending_fee:null===v||void 0===v||null===(c=v.tab_manage)||void 0===c?void 0:c.pending_fee,required_documents:null===v||void 0===v||null===(r=v.tab_manage)||void 0===r?void 0:r.required_documents})}),[null===v||void 0===v?void 0:v.tab_manage]);const m=(e,n)=>{const l={...a};for(let i in l)i===e&&(l[i]=n);u({aid:i,tabManage:{tab_manage:l}}).then((()=>{r("update tab access"),d(!0)})).catch({}),s((i=>({...i,[e]:n})))};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:K.Z.refund_container,style:{width:"100%",minHeight:"50vh",backgroundColor:"#ffffff",border:"0.037vw solid #cacaca",borderRadius:"0.439vw",marginTop:"0.3rem",padding:"1rem"},children:[(0,f.jsxs)("section",{className:K.Z.refund_container_title,children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{t(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,f.jsx)("div",{className:K.Z.refund_container_title,children:(0,f.jsx)("h6",{children:n("tab_controller")})})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,f.jsxs)("div",{className:K.Z.tab_manage,children:[(0,f.jsx)(Pi.Z,{labelHeading:n("all_students"),checkedToggle:a.all_students,onToggleHandler:e=>m("all_students",e.target.checked),customContainer:{flex:"1 1 33%"}}),(0,f.jsx)(Pi.Z,{labelHeading:n("admission_enquiry"),checkedToggle:a.admission_enquiry,onToggleHandler:e=>m("admission_enquiry",e.target.checked),customContainer:{flex:"1 1 33%"}}),(0,f.jsx)(Pi.Z,{labelHeading:n("admission_mods"),checkedToggle:a.admission_mods,onToggleHandler:e=>m("admission_mods",e.target.checked),customContainer:{flex:"1 1 33%"}})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,f.jsxs)("div",{className:K.Z.tab_manage,children:[(0,f.jsx)(Pi.Z,{labelHeading:n("complete_admission"),checkedToggle:a.complete_admission,onToggleHandler:e=>m("complete_admission",e.target.checked),customContainer:{flex:"1 1 33%"}}),(0,f.jsx)(Pi.Z,{labelHeading:n("data_export"),checkedToggle:a.data_export,onToggleHandler:e=>m("data_export",e.target.checked),customContainer:{flex:"1 1 33%"}}),(0,f.jsx)(Pi.Z,{labelHeading:n("excess_fee"),checkedToggle:a.excess_fee,onToggleHandler:e=>m("excess_fee",e.target.checked),customContainer:{flex:"1 1 33%"}})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,f.jsxs)("div",{className:K.Z.tab_manage,children:[(0,f.jsx)(Pi.Z,{labelHeading:n("ongoing_admission"),checkedToggle:a.ongoing_admission,onToggleHandler:e=>m("ongoing_admission",e.target.checked),customContainer:{flex:"1 1 33%"}}),(0,f.jsx)(Pi.Z,{labelHeading:n("pending_fee"),checkedToggle:a.pending_fee,onToggleHandler:e=>m("pending_fee",e.target.checked),customContainer:{flex:"1 1 33%"}}),(0,f.jsx)(Pi.Z,{labelHeading:n("required_documents"),checkedToggle:a.required_documents,onToggleHandler:e=>m("required_documents",e.target.checked),customContainer:{flex:"1 1 33%"}})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,f.jsx)("div",{className:K.Z.tab_manage,children:(0,f.jsx)(Pi.Z,{labelHeading:n("offline_payment_verification"),checkedToggle:a.offline_payment_verification,onToggleHandler:e=>m("offline_payment_verification",e.target.checked),customContainer:{flex:"1 1 33%"}})}),(0,f.jsx)(D.Z,{customStyle:{width:"100%"}})]}),(0,f.jsx)(Te.Ch,{run:o,setRun:d,msg:c,postiton:"bottom",type:"success"})]})};const Di=function(){var e,i,n,t,a,m,p,_,h,g,j,A,y,C,Z,I,E;const T=(0,x.UO)(),[R]=(0,N.lr)(),k=(0,x.TH)(),D=(0,r.v9)((e=>e.idChange.id)),{oneInstituteDashboard:O,oneInstituteDashboardRefetch:w}=(0,b.gq)({id:D,skip:!D}),{getAdmissionDetail:M,getAdmissionDetailRefetch:F}=(0,v.vV)({data:{aid:null===O||void 0===O||null===(e=O.institute)||void 0===e?void 0:e.admissionDepart[0],mod_id:""},skip:!(null!==O&&void 0!==O&&null!==(i=O.institute)&&void 0!==i&&i.admissionDepart[0])});return(0,l.useEffect)((()=>{D&&w()}),[D,w]),(0,l.useEffect)((()=>{var e;null!==O&&void 0!==O&&null!==(e=O.institute)&&void 0!==e&&e.admissionDepart[0]&&F()}),[null===O||void 0===O||null===(n=O.institute)||void 0===n?void 0:n.admissionDepart[0],F]),(0,f.jsxs)("div",{className:s,children:[(0,f.jsx)(S,{username:T.username,admissionId:null===O||void 0===O||null===(t=O.institute)||void 0===t?void 0:t.admissionDepart[0]}),(0,f.jsxs)("div",{className:null!==R&&void 0!==R&&R.get("a")&&"fund"!==(null===R||void 0===R?void 0:R.get("a"))&&"export"!==(null===R||void 0===R?void 0:R.get("a"))&&"moderator"!==(null===R||void 0===R?void 0:R.get("a"))?d:o,children:[(!(null!==R&&void 0!==R&&R.get("a"))||"fund"===(null===R||void 0===R?void 0:R.get("a")))&&(0,f.jsx)(P,{carryParentState:k.state}),(0,f.jsxs)(u.Z,{children:["pending"===(null===R||void 0===R?void 0:R.get("a"))&&(0,f.jsx)(Ti,{carryParentState:k.state,admissionId:null===O||void 0===O||null===(a=O.institute)||void 0===a?void 0:a.admissionDepart[0],isEnable:"Enable"===(null===M||void 0===M||null===(m=M.admission)||void 0===m?void 0:m.alarm_enable_status),onRefetch:F,instituteId:null===M||void 0===M||null===(p=M.admission)||void 0===p||null===(_=p.institute)||void 0===_?void 0:_._id,pageOpenAs:"INSTITUTE"}),"ongoing"===(null===R||void 0===R?void 0:R.get("a"))&&(0,f.jsx)(ui,{admissionId:null===O||void 0===O||null===(h=O.institute)||void 0===h?void 0:h.admissionDepart[0],instituteId:null===O||void 0===O||null===(g=O.institute)||void 0===g?void 0:g._id,carryParentState:k.state,pageOpenAs:"INSTITUTE"}),"completed"===(null===R||void 0===R?void 0:R.get("a"))&&(0,f.jsx)(pi,{admissionId:null===O||void 0===O||null===(j=O.institute)||void 0===j?void 0:j.admissionDepart[0],instituteId:null===O||void 0===O||null===(A=O.institute)||void 0===A?void 0:A._id,carryParentState:k.state,pageOpenAs:"INSTITUTE"}),"export"===(null===R||void 0===R?void 0:R.get("a"))&&(0,f.jsx)("div",{className:c,children:(0,f.jsx)(de,{admissionId:null===O||void 0===O||null===(y=O.institute)||void 0===y?void 0:y.admissionDepart[0],instituteId:null===O||void 0===O||null===(C=O.institute)||void 0===C?void 0:C._id,funds:O})}),"moderator"===(null===R||void 0===R?void 0:R.get("a"))&&(0,f.jsx)("div",{className:c,children:(0,f.jsx)(X,{admissionId:null===O||void 0===O||null===(Z=O.institute)||void 0===Z?void 0:Z.admissionDepart[0],instituteId:null===O||void 0===O||null===(I=O.institute)||void 0===I?void 0:I._id})}),"tab"===(null===R||void 0===R?void 0:R.get("a"))&&(0,f.jsx)("div",{className:c,children:(0,f.jsx)(ki,{admissionId:null===O||void 0===O||null===(E=O.institute)||void 0===E?void 0:E.admissionDepart[0]})})]})]})]})};var Oi=n(27330);const wi=function(){var e,i;const n=(0,x.TH)();return(0,f.jsxs)("div",{className:t.Z.insChat,children:[(0,f.jsx)("div",{className:t.Z.navbarr,children:(0,f.jsx)(a.default,{status:"home"})}),"site"===(null===(e=n.search)||void 0===e?void 0:e.substring(3))?(0,f.jsx)(Oi.Z,{aid:null===(i=n.state)||void 0===i?void 0:i.aid,viewAs:"INSTITUTE"}):(0,f.jsx)("div",{className:t.Z.admission_ins_container,children:(0,f.jsx)(Di,{})})]})}},46876:(e,i,n)=>{n.r(i),n.d(i,{default:()=>p});var l=n(72791),t=n(23441),a=n(95048),s=n(12923),o=n(763),d=n(69721),c=n(52124),r=n(5574),u=n(39230),v=n(80184);const m=window.innerHeight,p=e=>{let{onClose:i,title:n,headSelect:p,assignHead:_,disabledId:h,instituteId:g,viewAs:x,isMultiSelect:f,selectList:j,onMultiSelect:S,onDone:N}=e;const{t:b}=(0,u.$G)(),[A,y]=(0,l.useState)(1),[C,Z]=(0,l.useState)(!0),[I,E]=(0,t.YD)(),[T,P]=(0,l.useState)(""),[R,k]=l.useState([]),D=(0,a.v9)((e=>e.idChange)),{assignSearchStaff:O,assignSearchStaffRefetch:w}=(0,s.vI)({skip:"ADMISSION_ADMIN"===x?!g:!(null!==D&&void 0!==D&&D.id),search:{search:T,page:A,id:"ADMISSION_ADMIN"===x?g:null===D||void 0===D?void 0:D.id,limit:10}});l.useEffect((()=>{null!==D&&void 0!==D&&D.id&&w()}),[null===D||void 0===D?void 0:D.id,w,A]),(0,l.useEffect)((()=>{E&&C&&y((e=>e+1))}),[E,C]),l.useEffect((()=>{null!==O&&void 0!==O&&O.staff&&k(T?null===O||void 0===O?void 0:O.staff:e=>(e=>{for(let l=0;l<(null===e||void 0===e?void 0:e.length);l++)for(let t=l+1;t<(null===e||void 0===e?void 0:e.length);t++){var i,n;(null===(i=e[l])||void 0===i?void 0:i._id)===(null===(n=e[t])||void 0===n?void 0:n._id)&&(null===e||void 0===e||e.splice(t,1))}return e})([...e,...null===O||void 0===O?void 0:O.staff])),10===(null===O||void 0===O?void 0:O.staff.length)?Z(!0):Z(!1)}),[null===O||void 0===O?void 0:O.staff]),(0,l.useEffect)((()=>{T&&M()}),[T]);const M=()=>{w()},F=(0,l.useCallback)((0,o.debounce)((e=>P(e)),500),[]),L=e=>{h===(null===e||void 0===e?void 0:e._id)||(f?S(e):(p(e),"ADMISSION_ADMIN"===x||i()))};return(0,v.jsx)(r.Z,{open:_,onClose:i,children:(0,v.jsxs)("div",{style:{backgroundColor:"#FAFAFA",width:"35rem",height:"".concat(m-20,"px"),overflowX:"hidden"},children:[(0,v.jsxs)("div",{className:c.Z.assign_title,style:{width:"100%"},children:[(0,v.jsx)("h5",{children:n}),f?(0,v.jsxs)("div",{className:c.Z.is_mulitselect_container,children:[(0,v.jsx)("h6",{style:{cursor:"pointer"},onClick:N,children:b("select")}),(0,v.jsx)("img",{src:"/images/close-post-icon.svg",onClick:i,alt:"staff assign pop close icon"})]}):(0,v.jsx)("img",{src:"/images/close-post-icon.svg",onClick:i,alt:"staff assign pop close icon"})]}),(0,v.jsxs)("div",{className:c.Z.assign_search_container,children:[(0,v.jsx)("input",{type:"text",placeholder:b("search"),className:c.Z.assign_search_input,onChange:e=>{return i=e.target.value,void F(i);var i}}),(0,v.jsx)("img",{src:"/images/search-dash-icon.svg",alt:"search icon"})]}),(0,v.jsx)("div",{className:c.Z.assign_show_list,children:null===R||void 0===R?void 0:R.map(((e,i)=>(null===R||void 0===R?void 0:R.length)===i+1?(0,v.jsxs)("div",{ref:I,children:[(0,v.jsxs)("div",{className:c.Z.assign_show_list_each,style:h===e._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:()=>L(e),children:[f?null!==j&&void 0!==j&&j.includes(null===e||void 0===e?void 0:e._id)?(0,v.jsx)("img",{src:"/images/checkbox-icon.svg",alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,v.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/box-icon.svg",alt:"icon"}):"",(0,v.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(d.yI,"/").concat(e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,v.jsxs)("div",{className:c.Z.assign_each_paragraph,children:[(0,v.jsx)("h6",{children:"".concat(e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(e.staffLastName)}),(0,v.jsxs)("p",{children:[" ",b("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]})]}),(0,v.jsx)("hr",{})]},e._id):(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:c.Z.assign_show_list_each,style:h===e._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:()=>L(e),children:[f?null!==j&&void 0!==j&&j.includes(null===e||void 0===e?void 0:e._id)?(0,v.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/checkbox-icon.svg",alt:"icon"}):(0,v.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/box-icon.svg",alt:"icon"}):"",(0,v.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(d.yI,"/").concat(e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,v.jsxs)("div",{className:c.Z.assign_each_paragraph,children:[(0,v.jsx)("h6",{children:"".concat(e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(e.staffLastName)}),(0,v.jsxs)("p",{children:[" ",b("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]})]}),(0,v.jsx)("hr",{})]},e._id)))})]})})}},47167:(e,i,n)=>{n.d(i,{Z:()=>d});n(72791);var l=n(16871),t=n(43504),a=n(23769),s=n(45639),o=n(80184);const d=e=>{let{tabList:i,activeIndexTab:n,setActiveIndexTab:d,customStyleTab:c,carryParentState:r,showAs:u,customStyleLink:v}=e;const m=(0,l.UO)();return(0,o.jsx)("div",{className:s.Z.universal_container,children:u?null===i||void 0===i?void 0:i.map(((e,i)=>"disabled"===(null===e||void 0===e?void 0:e.is_active)?(0,o.jsx)("div",{className:n===(null===e||void 0===e?void 0:e.id)?"".concat(s.Z.universal_container_item," ").concat(s.Z.universal_container_item_active):s.Z.universal_container_item,style:{...v,opacity:"0.5"},children:(0,o.jsx)(a.Z,{children:null===e||void 0===e?void 0:e.name})},i):(0,o.jsx)(t.rU,{to:"/q/".concat(m.username,"/").concat(null===e||void 0===e?void 0:e.url),state:{...r},style:{...v},children:(0,o.jsx)("div",{className:n===(null===e||void 0===e?void 0:e.id)?"".concat(s.Z.universal_container_item," ").concat(s.Z.universal_container_item_active):s.Z.universal_container_item,style:{...c},children:(0,o.jsx)(a.Z,{children:null===e||void 0===e?void 0:e.name})})},i))):null===i||void 0===i?void 0:i.map(((e,i)=>(0,o.jsx)("div",{className:n===(null===e||void 0===e?void 0:e.id)?"".concat(s.Z.universal_container_item," ").concat(s.Z.universal_container_item_active):s.Z.universal_container_item,onClick:()=>d(null===e||void 0===e?void 0:e.id),style:{...c},children:(0,o.jsx)(a.Z,{children:null===e||void 0===e?void 0:e.name})},i)))})}},23769:(e,i,n)=>{n.d(i,{Z:()=>a});var l=n(72791),t=n(80184);const a=function(e){let{children:i,onclick:n}=e;const[a,s]=(0,l.useState)(!1),[o,d]=(0,l.useState)({x:-1,y:-1});return(0,l.useEffect)((()=>{-1!==o.x&&-1!==o.y?(s(!0),setTimeout((()=>s(!1)),1e3)):s(!1)}),[o]),(0,l.useEffect)((()=>{a||d({x:-1,y:-1})}),[a]),(0,t.jsxs)("div",{className:"ripple_btn",onClick:e=>{d({x:e.clientX-e.target.offsetLeft,y:e.clientY-e.target.offsetTop}),n&&n(e)},children:[a?(0,t.jsx)("span",{className:"ripple"}):"",(0,t.jsx)("span",{className:"content",children:i})]})}},20132:(e,i,n)=>{n.d(i,{Z:()=>m});var l=n(72791),t=n(85753),a=n(5574),s=n(39230),o=n(16871),d=n(51561),c=n(98734),r=n(73032),u=n(9490),v=n(80184);const m=e=>{var i,n,m,p,_,h,g,x,f,j,S,N,b,A,y,C,Z;let{viewDetail:I,hideModal:E,applicationDetail:T,completeApplication:P,carryParentState:R,applicationDetailApplicablePending:k,pageOpenAs:D}=e;const{t:O}=(0,s.$G)(),w=new Date,M=(0,o.s0)(),F=(0,o.UO)(),[L,U]=(0,l.useState)(!1),[q,B]=(0,l.useState)({msg:"",run:!1}),[G,H]=(0,l.useState)(!1),[V,J]=(0,l.useState)(null===(i=w.toISOString())||void 0===i?void 0:i.substring(0,10)),[W]=(0,r.m2)(),{getDailyCollectionByAdmission:$,getDailyCollectionByAdmissionRefetch:Y}=(0,r.Ts)({data:{appId:null===T||void 0===T?void 0:T._id,valid_date:V},skip:!(null!==T&&void 0!==T&&T._id)});(0,l.useEffect)((()=>{null!==T&&void 0!==T&&T._id&&Y()}),[null===T||void 0===T?void 0:T._id,Y,V]);const Q=()=>{U((e=>!e)),null!==T&&void 0!==T&&T._id?W(null===T||void 0===T?void 0:T._id).then((e=>{var i;null!==e&&void 0!==e&&null!==(i=e.data)&&void 0!==i&&i.complete_status?(U((e=>!e)),E(!1),M("/q/".concat(F.username,"INSTITUTE"===D?"/admission":"/member/admission"),{state:{...R}})):(B({msg:null===e||void 0===e?void 0:e.data.message,run:!0}),U((e=>!e)))})).catch({}):U((e=>!e))};return(0,v.jsxs)(a.Z,{open:I,onClose:()=>E(!1),children:[(0,v.jsxs)("div",{className:t.Z.addDisplay,children:[(0,v.jsxs)("div",{className:t.Z.title,children:[(0,v.jsx)("div",{}),(0,v.jsx)("h6",{style:{cursor:"pointer"},onClick:()=>H((e=>!e)),children:null===T||void 0===T?void 0:T.applicationName}),(0,v.jsx)("img",{src:"/images/close-post-icon.svg",onClick:()=>E(!1),alt:""})]}),(0,v.jsxs)("div",{className:t.Z.content,children:[(0,v.jsx)("div",{style:{padding:"1rem"},children:(0,v.jsx)(u.Z,{setValidDate:J})}),P&&!G&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:t.Z.content2,children:[(0,v.jsxs)("div",{className:t.Z.appinforow,children:[(0,v.jsx)("h6",{children:O("total_received_application")}),(0,v.jsx)("h6",{children:null!==(n=null===$||void 0===$||null===(m=$.day_wise)||void 0===m?void 0:m.request_count)&&void 0!==n?n:0})]}),(0,v.jsxs)("div",{className:t.Z.appinforow,children:[(0,v.jsx)("h6",{children:O("total_selected_application")}),(0,v.jsx)("h6",{children:null!==(p=null===$||void 0===$||null===(_=$.day_wise)||void 0===_?void 0:_.select_count)&&void 0!==p?p:0})]}),(0,v.jsxs)("div",{className:t.Z.appinforow,children:[(0,v.jsx)("h6",{children:O("total_confirmed_application")}),(0,v.jsx)("h6",{children:null!==(h=null===$||void 0===$||null===(g=$.day_wise)||void 0===g?void 0:g.confirm_count)&&void 0!==h?h:0})]}),(0,v.jsxs)("div",{className:t.Z.appinforow,children:[(0,v.jsx)("h6",{children:O("total_alloted_application")}),(0,v.jsx)("h6",{children:null!==(x=null===$||void 0===$||null===(f=$.day_wise)||void 0===f?void 0:f.allot_count)&&void 0!==x?x:0})]}),(0,v.jsxs)("div",{className:t.Z.appinforow,children:[(0,v.jsx)("h6",{children:O("total_cancelled_application")}),(0,v.jsx)("h6",{children:null!==(j=null===$||void 0===$||null===(S=$.day_wise)||void 0===S?void 0:S.cancel_count)&&void 0!==j?j:0})]})]}),(0,v.jsxs)("div",{className:t.Z.content3,children:[(0,v.jsxs)("div",{className:t.Z.appinforow1,children:[(0,v.jsx)("h6",{children:O("total_fees_received")}),(0,v.jsxs)("h6",{children:["Rs. ",null!==(N=null===$||void 0===$||null===(b=$.day_wise)||void 0===b?void 0:b.paid)&&void 0!==N?N:0]})]}),(0,v.jsxs)("div",{className:"".concat(t.Z.appinforow2," ").concat(t.Z.appinforowred),children:[(0,v.jsx)("h6",{children:O("total_fees_pending")}),(0,v.jsxs)("h6",{children:["Rs. ",null!==(A=null===$||void 0===$||null===(y=$.day_wise)||void 0===y?void 0:y.remain)&&void 0!==A?A:0]})]}),(0,v.jsxs)("div",{className:"".concat(t.Z.appinforow2," ").concat(t.Z.appinforowred),children:[(0,v.jsx)("h6",{children:O("total_applicable_fees_pending")}),(0,v.jsxs)("h6",{children:["Rs."," ",null!==(C=null===$||void 0===$||null===(Z=$.day_wise)||void 0===Z?void 0:Z.applicable_pending)&&void 0!==C?C:0]})]}),(0,v.jsx)("div",{className:t.Z.completeApplicationcontainer,children:(0,v.jsx)("div",{className:t.Z.completeApplication,onClick:Q,children:O("complete_application")})})]})]}),P&&G&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:t.Z.content2,children:[(0,v.jsxs)("div",{className:t.Z.appinforow,children:[(0,v.jsx)("h6",{children:O("total_received_application")}),(0,v.jsx)("h6",{children:null===T||void 0===T?void 0:T.receievedCount})]}),(0,v.jsxs)("div",{className:t.Z.appinforow,children:[(0,v.jsx)("h6",{children:O("total_selected_application")}),(0,v.jsx)("h6",{children:null===T||void 0===T?void 0:T.selectCount})]}),(0,v.jsxs)("div",{className:t.Z.appinforow,children:[(0,v.jsx)("h6",{children:O("total_confirmed_application")}),(0,v.jsx)("h6",{children:null===T||void 0===T?void 0:T.confirmCount})]}),(0,v.jsxs)("div",{className:t.Z.appinforow,children:[(0,v.jsx)("h6",{children:O("total_alloted_application")}),(0,v.jsx)("h6",{children:null===T||void 0===T?void 0:T.allotCount})]}),(0,v.jsxs)("div",{className:t.Z.appinforow,children:[(0,v.jsx)("h6",{children:O("total_cancelled_application")}),(0,v.jsx)("h6",{children:null===T||void 0===T?void 0:T.cancelCount})]})]}),(0,v.jsxs)("div",{className:t.Z.content3,children:[(0,v.jsxs)("div",{className:t.Z.appinforow1,children:[(0,v.jsx)("h6",{children:O("total_fees_received")}),(0,v.jsxs)("h6",{children:["Rs. ",null===T||void 0===T?void 0:T.collectedFeeCount]})]}),(0,v.jsxs)("div",{className:"".concat(t.Z.appinforow2," ").concat(t.Z.appinforowred),children:[(0,v.jsx)("h6",{children:O("total_fees_pending")}),(0,v.jsxs)("h6",{children:["Rs. ",null===T||void 0===T?void 0:T.remainingFee]})]}),(0,v.jsxs)("div",{className:"".concat(t.Z.appinforow2," ").concat(t.Z.appinforowred),children:[(0,v.jsx)("h6",{children:O("total_applicable_fees_pending")}),(0,v.jsxs)("h6",{children:["Rs. ",null!==k&&void 0!==k?k:0]})]}),(0,v.jsx)("div",{className:t.Z.completeApplicationcontainer,children:(0,v.jsx)("div",{className:t.Z.completeApplication,onClick:Q,children:O("complete_application")})})]})]})]})]}),L&&(0,v.jsx)(c.Z,{}),(0,v.jsx)(d.Ch,{msg:q.msg,run:q.run,setRun:()=>B({msg:"",run:!1}),postiton:"bottom",type:"error"})]})}},85162:(e,i,n)=>{n.d(i,{Z:()=>c});var l=n(72791),t=n(39230),a=n(97655),s=n(98094),o=n(87049),d=n(80184);const c=e=>{var i;let{onEdit:n,xlsxId:c}=e;const{t:r}=(0,t.$G)(),[u,v]=(0,l.useState)(null!==(i=null===c||void 0===c?void 0:c.excel_file_name)&&void 0!==i?i:""),[m,p]=(0,l.useState)("");(0,l.useEffect)((()=>{var e;v(null!==(e=null===c||void 0===c?void 0:c.excel_file_name)&&void 0!==e?e:"")}),[null===c||void 0===c?void 0:c.excel_file_name]);return(0,d.jsxs)("div",{style:{width:"20rem",minHeight:"10rem",padding:"1rem"},children:[(0,d.jsx)("h6",{children:r("update_excel_name")}),(0,d.jsx)(s.Z,{customStyle:{width:"100%"}}),(0,d.jsx)(a.Z,{labelText:r("excel_name"),placeholder:r("excel_name_plcaeholder"),value:u,name:"excelName",type:"text",onChange:e=>v(e.target.value),errorShow:m.excelName}),(0,d.jsx)("button",{className:o.Z.xlsx_update_btn,onClick:()=>{u?n(u):p({excelName:"excelName is required"})},style:{justifyContent:"center",marginTop:"1rem"},children:r("update")})]})}},12923:(e,i,n)=>{n.d(i,{Ec:()=>f,Em:()=>N,JM:()=>m,NS:()=>a,Pg:()=>p,Q_:()=>x,RH:()=>v,Tv:()=>d,U_:()=>g,VN:()=>s,Wj:()=>r,ZS:()=>u,_8:()=>j,d5:()=>c,tB:()=>h,vI:()=>S,yx:()=>o,zO:()=>_});var l=n(91007),t=n(58208);const a=e=>{const{data:i,refetch:n}=(0,t.YD)(e.search,{skip:e.skip});return{instituteAllSearch:i,instituteAllSearchRefetch:n}},s=()=>{const[e]=(0,t.ak)();return[e]},o=()=>{const[e]=(0,t.WL)();return[e]},d=e=>{const{data:i,refetch:n}=(0,t.pH)(e.list,{skip:e.skip});return{instituteFollowList:i,instituteFollowListRefetch:n}},c=e=>{const{data:i,refetch:n}=(0,t.MG)(e.data,{skip:e.skip});return{instituteOwnFollowingList:i,instituteOwnFollowingListRefetch:n}},r=()=>{const[e]=(0,t.Ky)();return[e]},u=e=>{const{data:i,refetch:n}=(0,t.p8)(e.list);return{userFollowList:i,userFollowListRefetch:n}},v=e=>{const{data:i,refetch:n}=(0,t.Wv)(e);return{userFollowingList:i,userFollowingListRefetch:n}},m=e=>{const{data:i,refetch:n}=(0,t.sz)(e.search,{skip:e.skip});return{userAllSearch:i,userAllSearchRefetch:n}},p=()=>{const[e]=(0,t.Mk)();return[e]},_=()=>{const[e]=(0,t.$i)();return[e]},h=()=>{const[e]=(0,t.Do)();return[e]},g=()=>{const[e]=(0,t.He)();return[e]},x=()=>{const[e]=(0,t.vg)();return[e]},f=()=>{const[e]=(0,t.OO)();return[e]},j=e=>{const{data:i,refetch:n}=(0,t.N2)(e);return{userCircleList:i,userCircleListRefetch:n}},S=e=>{const{data:i,refetch:n}=(0,l.x6)(e.search,{skip:e.skip});return{assignSearchStaff:i,assignSearchStaffRefetch:n}},N=e=>{const{data:i,refetch:n}=(0,t.SJ)(e);return{universalUser:i,universalUserRefetch:n}}},64783:(e,i,n)=>{n.d(i,{Z:()=>o});n(72791);var l=n(90788),t=n(16871),a=n(43504),s=n(80184);const o=e=>{let{tabLevel:i,customStyleContainer:n,customStyleLevel:o,currentValue:d,tabValue:c,carryParentState:r,activeUrl:u}=e;const v=(0,t.UO)();return(0,s.jsx)(a.rU,{to:"/q/".concat(v.username,"/").concat(u),state:r,className:d===c?l.Z.common_tab_container_active:l.Z.common_tab_container,style:n,children:(0,s.jsx)("h6",{className:d===c?l.Z.common_tab_text_active:l.Z.common_tab_text,style:o,children:i})})}},90865:(e,i,n)=>{n.d(i,{Z:()=>o});n(72791);var l=n(89891),t=n(39320),a=n(80184);const s={inputProps:{"aria-label":"Switch demo"}},o=e=>{let{customContainer:i,customLabel:n,labelDescription:o,labelHeading:d,defaultLabel:c,checkedToggle:r,onToggleHandler:u,children:v}=e;return(0,a.jsxs)("div",{className:t.Z.form_toggle_container,style:{...i},children:[(0,a.jsxs)("div",{className:t.Z.form_toggle_label,children:[c?(0,a.jsx)(l.Z,{...s,defaultChecked:!0,disabled:!0}):(0,a.jsx)(l.Z,{...s,checked:r,onChange:u}),(0,a.jsx)("span",{style:{...n},children:d})]}),o&&(0,a.jsx)("div",{className:t.Z.form_toggle_description,children:o}),v]})}},42190:(e,i,n)=>{n.d(i,{Z:()=>l});const l={insChat:"AdmisionAdmin_insChat__lOFwA",navbarr:"AdmisionAdmin_navbarr__JxsSe",admission_ins_container:"AdmisionAdmin_admission_ins_container__MAcuH"}},52124:(e,i,n)=>{n.d(i,{Z:()=>l});const l={assign_title:"AssignStaffModal_assign_title__4DGBV",assign_search_container:"AssignStaffModal_assign_search_container__3x6RD",assign_search_input:"AssignStaffModal_assign_search_input__rO3c7",assign_show_list:"AssignStaffModal_assign_show_list__yHhf7",assign_show_list_each:"AssignStaffModal_assign_show_list_each__ACUEw",assign_each_paragraph:"AssignStaffModal_assign_each_paragraph__pMHTq",universal_modal:"AssignStaffModal_universal_modal__czmpB",is_mulitselect_container:"AssignStaffModal_is_mulitselect_container__0cPQ2"}},74737:(e,i,n)=>{n.d(i,{Z:()=>l});const l={main:"Main_main__4mpMH",stats:"Main_stats__05reL",stats1:"Main_stats1__WlbdF",finance_container:"Main_finance_container__2pMkG",finance_container_other:"Main_finance_container_other__+Fq3c",institute_finance_container_border:"Main_institute_finance_container_border__Jgqpr",finance_tab_tabs:"Main_finance_tab_tabs__ufRpi",item:"Main_item__RsX-U",itemIcon:"Main_itemIcon__MA5vy"}},45639:(e,i,n)=>{n.d(i,{Z:()=>l});const l={universal_container:"UniversalTab_universal_container__uxTOR",universal_container_item:"UniversalTab_universal_container_item__M0pS7",universal_container_item_active:"UniversalTab_universal_container_item_active__3u3Wt"}},85161:(e,i,n)=>{n.d(i,{Z:()=>l});const l={remainingFees:"RemainingFees_remainingFees__G74JQ",subItem:"RemainingFees_subItem__maJF6",item:"RemainingFees_item__2o1X9",text:"RemainingFees_text__JnUvj"}},39320:(e,i,n)=>{n.d(i,{Z:()=>l});const l={staff_form_container:"UniversalForm_staff_form_container__QRs6I",staff_form_header_container:"UniversalForm_staff_form_header_container__+cQn3",form_header_container:"UniversalForm_form_header_container__GVVNM",form_header_list:"UniversalForm_form_header_list__fHs8S",form_header_code:"UniversalForm_form_header_code__LsmbM",form_toggle_description:"UniversalForm_form_toggle_description__281dv",form_toggle_label:"UniversalForm_form_toggle_label__mbisD",form_header_content:"UniversalForm_form_header_content__Y3p2k",form_toggle_container:"UniversalForm_form_toggle_container__D0bu0",form_checkbox_container:"UniversalForm_form_checkbox_container__bxzuK",staff_form_header_container_actions:"UniversalForm_staff_form_header_container_actions__2Ynt9",staff_header_text:"UniversalForm_staff_header_text__dQvPP"}}}]);
//# sourceMappingURL=84650.49139652.chunk.js.map