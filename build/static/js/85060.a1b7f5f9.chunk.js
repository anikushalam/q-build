"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[85060],{57431:(e,t,l)=>{l.d(t,{Z:()=>n});l(72791);var s=l(80272),o=l(80184);const n=e=>{var t;let{valueLength:l,maxLength:n,customStyle:i}=e;return(0,o.jsxs)("section",{style:{...i},className:s.Z.string_container,children:[null!==(t=null===l||void 0===l?void 0:l.length)&&void 0!==t?t:0,"/",n]})}},91022:(e,t,l)=>{l.d(t,{Z:()=>a});var s=l(72791),o=l(39230),n=l(38733),i=l(80184);const a=e=>{let{selectLabel:t,value:l,onClick:a,selectedValue:d,options:r,errorShow:c,customStyleContainer:u,customLabelStyle:_,customListStyle:v,openAs:m,viewAs:h}=e;const{t:p}=(0,o.$G)(),[x,g]=(0,s.useState)(!1),j=()=>{"REFUND"===m||"BACKLOG"===m||"FINANCE_MANAGER"===h||g((e=>!e))};return(0,i.jsxs)("div",{className:n.Z.join_form_container,style:{...u},children:[(0,i.jsxs)("p",{className:n.Z.join_form_select_paragraph,style:{..._},children:[t," ",c&&(0,i.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",p("form_require_label")]})]}),(0,i.jsxs)("section",{className:n.Z.join_form_select_custom,onClick:j,children:[l?(0,i.jsx)("p",{className:n.Z.join_form_select_custom_paragraph,children:null!==l&&void 0!==l?l:""}):(0,i.jsx)("p",{className:n.Z.join_form_select_custom_paragraph,children:d}),(0,i.jsx)("img",{className:n.Z.join_form_select_custom_icon,src:"/images/down-icon.svg",alt:"categor icon"})]}),x&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("section",{className:n.Z.join_form_select_custom_list,style:v?{...v}:(null===r||void 0===r?void 0:r.length)>2?{overflowY:"scroll"}:{backgroundColor:"#ffffff"},children:[(0,i.jsx)("p",{className:n.Z.join_form_select_custom_paragraph_option,onClick:j,children:d}),null===r||void 0===r?void 0:r.map(((e,t)=>(0,i.jsx)("p",{onClick:()=>(a(e),void j()),className:n.Z.join_form_select_custom_paragraph_option,children:e},t)))]})})]})}},47167:(e,t,l)=>{l.d(t,{Z:()=>d});l(72791);var s=l(16871),o=l(43504),n=l(23769),i=l(45639),a=l(80184);const d=e=>{let{tabList:t,activeIndexTab:l,setActiveIndexTab:d,customStyleTab:r,carryParentState:c,showAs:u,customStyleLink:_}=e;const v=(0,s.UO)();return(0,a.jsx)("div",{className:i.Z.universal_container,children:u?null===t||void 0===t?void 0:t.map(((e,t)=>"disabled"===(null===e||void 0===e?void 0:e.is_active)?(0,a.jsx)("div",{className:l===(null===e||void 0===e?void 0:e.id)?"".concat(i.Z.universal_container_item," ").concat(i.Z.universal_container_item_active):i.Z.universal_container_item,style:{..._,opacity:"0.5"},children:(0,a.jsx)(n.Z,{children:null===e||void 0===e?void 0:e.name})},t):(0,a.jsx)(o.rU,{to:"/q/".concat(v.username,"/").concat(null===e||void 0===e?void 0:e.url),state:{...c},style:{..._},children:(0,a.jsx)("div",{className:l===(null===e||void 0===e?void 0:e.id)?"".concat(i.Z.universal_container_item," ").concat(i.Z.universal_container_item_active):i.Z.universal_container_item,style:{...r},children:(0,a.jsx)(n.Z,{children:null===e||void 0===e?void 0:e.name})})},t))):null===t||void 0===t?void 0:t.map(((e,t)=>(0,a.jsx)("div",{className:l===(null===e||void 0===e?void 0:e.id)?"".concat(i.Z.universal_container_item," ").concat(i.Z.universal_container_item_active):i.Z.universal_container_item,onClick:()=>d(null===e||void 0===e?void 0:e.id),style:{...r},children:(0,a.jsx)(n.Z,{children:null===e||void 0===e?void 0:e.name})},t)))})}},23769:(e,t,l)=>{l.d(t,{Z:()=>n});var s=l(72791),o=l(80184);const n=function(e){let{children:t,onclick:l}=e;const[n,i]=(0,s.useState)(!1),[a,d]=(0,s.useState)({x:-1,y:-1});return(0,s.useEffect)((()=>{-1!==a.x&&-1!==a.y?(i(!0),setTimeout((()=>i(!1)),1e3)):i(!1)}),[a]),(0,s.useEffect)((()=>{n||d({x:-1,y:-1})}),[n]),(0,o.jsxs)("div",{className:"ripple_btn",onClick:e=>{d({x:e.clientX-e.target.offsetLeft,y:e.clientY-e.target.offsetTop}),l&&l(e)},children:[n?(0,o.jsx)("span",{className:"ripple"}):"",(0,o.jsx)("span",{className:"content",children:t})]})}},74522:(e,t,l)=>{l.d(t,{Z:()=>P});var s=l(72791),o=l(33148),n=l(39230),i=l(74067),a=l(74289),d=l(11105),r=l(24582),c=l(41233),u=l(98094),_=l(36665),v=l(69721),m=l(80184);const h=e=>{var t,l,s,i,a,d,r,c;let{onSelectStudent:u,stu:_,promoteData:h}=e;const{t:p}=(0,n.$G)();return(0,m.jsx)("div",{className:null!==h&&void 0!==h&&null!==(t=h.students)&&void 0!==t&&t.includes(null===_||void 0===_?void 0:_._id)?" ".concat(o.Z.promote_student_card," ").concat(o.Z.promote_student_cardActive):o.Z.promote_student_card,onClick:()=>u(null===_||void 0===_?void 0:_._id),style:{width:"100%"},children:(0,m.jsxs)("div",{className:o.Z.promote_student_card_text,style:{width:"100%"},children:[(0,m.jsx)("img",{alt:"",src:null!==_&&void 0!==_&&_.studentProfilePhoto?"".concat(v.yI,"/").concat(null===_||void 0===_?void 0:_.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,m.jsxs)("div",{className:o.Z.promote_student_check_container,children:[(0,m.jsxs)("div",{className:o.Z.promote_student_name,children:[(0,m.jsxs)("p",{children:[null===_||void 0===_?void 0:_.studentFirstName," ",null!==_&&void 0!==_&&_.studentMiddleName?null===_||void 0===_?void 0:_.studentMiddleName:" "," ",null===_||void 0===_?void 0:_.studentLastName]}),(0,m.jsxs)("p",{children:[p("gr_number"),null===_||void 0===_?void 0:_.studentGRNO]})]}),(0,m.jsxs)("div",{className:o.Z.promote_student_check,children:[(0,m.jsxs)("div",{className:o.Z.promote_student_name,children:[null!==_&&void 0!==_&&null!==(l=_.fee_structure)&&void 0!==l&&l.applicable_fees?(0,m.jsxs)("p",{children:[p("applicable_fees_only")," ",p("rs"),".",null!==(s=null===_||void 0===_||null===(i=_.fee_structure)||void 0===i?void 0:i.applicable_fees)&&void 0!==s?s:0]}):"",(0,m.jsxs)("p",{children:[p("paid_fees")," ",": ",p("rs"),".",null!==(a=null===_||void 0===_||null===(d=_.remainingFeeList)||void 0===d||null===(r=d[0])||void 0===r?void 0:r.paid_fee)&&void 0!==a?a:0]})]}),(0,m.jsx)("div",{className:o.Z.promote_student_name,children:null!==h&&void 0!==h&&null!==(c=h.students)&&void 0!==c&&c.includes(null===_||void 0===_?void 0:_._id)?(0,m.jsx)("img",{className:o.Z.department_checkbox,src:"/images/checkbox-icon.svg",alt:"icon"}):(0,m.jsx)("img",{className:o.Z.department_checkbox,src:"/images/box-icon.svg",alt:"icon"})})]})]})]})})};var p=l(98734),x=l(15961);const g=e=>{let{isWrapper:t,onClose:l,title:s,firstMessage:o,spanMessage:n,outerSpanMessage:i,lastMessage:a,buttonLabel:d,onHandler:r,buttonStyle:c,messageStyle:v}=e;return(0,m.jsx)(m.Fragment,{children:t?(0,m.jsx)(_.Z,{onClose:l,children:(0,m.jsxs)("div",{className:x.Z.admission_modal,children:[(0,m.jsx)("h6",{className:x.Z.admission_modal_heading,children:s}),(0,m.jsx)(u.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),(0,m.jsxs)("div",{className:x.Z.admission_class_confirm,style:v,children:[o," ",(0,m.jsx)("span",{style:{fontWeight:"600"},children:n})," ",i,(0,m.jsx)("span",{style:{fontWeight:"600"},children:a})]}),(0,m.jsx)("div",{className:x.Z.confirm_btn,onClick:r,style:c,children:d})]})}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h6",{className:x.Z.admission_modal_heading,children:s}),(0,m.jsx)(u.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),(0,m.jsxs)("div",{className:x.Z.admission_class_confirm,style:v,children:[o," ",(0,m.jsx)("span",{style:{fontWeight:"600"},children:n})," ",i,(0,m.jsx)("span",{style:{fontWeight:"600"},children:a})]}),(0,m.jsx)("div",{className:x.Z.confirm_btn,onClick:r,style:c,children:d})]})})},j=e=>{var t,l,i,c,_,v;let{classId:x,promoteData:j,setPromoteData:f,onClose:S,onRefetchParent:b}=e;const{t:N}=(0,n.$G)(),[Z,y]=(0,s.useState)(!0),[P,C]=(0,s.useState)([]),[w,I]=(0,s.useState)(!1),[k,T]=(0,s.useState)(!1),[L,E]=(0,s.useState)(!1),[A]=(0,r.Ed)(),{getNotPromoteStudentByPromote:R,getNotPromoteStudentByPromoteRefetch:U}=(0,a._3)({data:{cid:x,valid_app_fee:"Yes"===(null===j||void 0===j?void 0:j.applicable_with_fees)?"Yes":"No",is_backlog:null===j||void 0===j?void 0:j.is_backlog},skip:!x});(0,s.useEffect)((()=>{x&&(y(!0),U())}),[x,U]),(0,s.useEffect)((()=>{var e,t;(null!==R&&void 0!==R&&R.notPromoteStudent||0===(null===R||void 0===R||null===(e=R.notPromoteStudent)||void 0===e?void 0:e.length))&&(C(null!==(t=null===R||void 0===R?void 0:R.notPromoteStudent)&&void 0!==t?t:[]),y(!1))}),[null===R||void 0===R?void 0:R.notPromoteStudent]);const M=e=>{var t;null!==j&&void 0!==j&&null!==(t=j.students)&&void 0!==t&&t.includes(e)?f((t=>{var l;return{...t,students:null===(l=t.students)||void 0===l?void 0:l.filter((t=>t!==e))}})):f((t=>({...t,students:t.students?[...t.students,e]:[e]})))};return(0,m.jsx)(m.Fragment,{children:k?(0,m.jsx)(g,{onClose:()=>T(!1),title:N("promote_select_student"),firstMessage:"".concat(N("promote")," "),spanMessage:null===j||void 0===j||null===(t=j.students)||void 0===t?void 0:t.length,outerSpanMessage:"".concat(N("students")," , ").concat(N("to")," "),lastMessage:"".concat(null===j||void 0===j||null===(l=j.classId)||void 0===l?void 0:l.classTitle,", ").concat(null===j||void 0===j||null===(i=j.batchId)||void 0===i?void 0:i.batchName,", ").concat(null===j||void 0===j||null===(c=j.departmentId)||void 0===c?void 0:c.dName),buttonLabel:N("confirm"),onHandler:()=>{var e,t,l;x&&(T(!1),I((e=>!e)),A({cid:x,promote:{applicable_with_fees:null===j||void 0===j?void 0:j.applicable_with_fees,departmentId:null===j||void 0===j||null===(e=j.departmentId)||void 0===e?void 0:e._id,batchId:null===j||void 0===j||null===(t=j.batchId)||void 0===t?void 0:t._id,classId:null===j||void 0===j||null===(l=j.classId)||void 0===l?void 0:l._id,students:null===j||void 0===j?void 0:j.students},flow:"Yes"===(null===j||void 0===j?void 0:j.promot_with_fees)?"WITH_STRUCTURE":"WITH_OUT_STRUCTURE",re_ads:"Yes"===(null===j||void 0===j?void 0:j.re_ads)?"WITH_RE_ADMISSION":"No"}).then((()=>{U(),b(),S(),I((e=>!e))})).catch({}))},messageStyle:{marginTop:"3.7rem"},buttonStyle:{marginTop:"5.7rem"}}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:o.Z.select_header,children:[(0,m.jsxs)("h6",{children:[(null===j||void 0===j||null===(_=j.students)||void 0===_?void 0:_.length)>0?"".concat(null===j||void 0===j||null===(v=j.students)||void 0===v?void 0:v.length," "):"",N("select_student")]}),(0,m.jsxs)("div",{children:[L?(0,m.jsx)("button",{className:o.Z.select_all_btn,title:"Remove All Student",onClick:()=>{f((e=>({...e,students:[]}))),E(!1)},style:{marginRight:"0.7rem"},children:N("remove_all")}):(0,m.jsx)("button",{className:o.Z.select_all_btn,title:"Select All Student",onClick:()=>{let e=[];for(let t of P)e.push(null===t||void 0===t?void 0:t._id);f((t=>({...t,students:e}))),E(!0)},style:{marginRight:"0.7rem"},children:N("select_all")}),(0,m.jsx)("button",{className:o.Z.promote_all_btn,title:"Promote Selected Student",onClick:()=>{var e;return(null===j||void 0===j||null===(e=j.students)||void 0===e?void 0:e.length)>0?T(!0):null},children:N("promote")})]})]}),(0,m.jsx)(u.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),(0,m.jsx)("div",{className:o.Z.with_search,style:{marginTop:"1rem",width:"100%",border:"0.4px solid rgba(0, 0, 0, 0.15)",borderRadius:"6px",marginBottom:"0.3rem"},children:(0,m.jsxs)("div",{className:o.Z.search_container_input,style:{width:"100%"},children:[(0,m.jsx)("img",{className:o.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,m.jsx)("input",{type:"text",placeholder:"Search Student...",style:{width:"100%"},onChange:e=>{if(e.target.value){var t;const l=null===R||void 0===R||null===(t=R.notPromoteStudent)||void 0===t?void 0:t.filter((t=>{var l,s,o;return null!==(l="".concat(null===t||void 0===t?void 0:t.studentFirstName," ").concat(null!==t&&void 0!==t&&t.studentMiddleName?(null===t||void 0===t?void 0:t.studentMiddleName)+" ":"").concat(null===t||void 0===t?void 0:t.studentLastName))&&void 0!==l&&null!==(s=l.toLowerCase())&&void 0!==s&&s.includes(null===(o=e.target.value)||void 0===o?void 0:o.toLowerCase())?t:null}));C(l)}else C(null===R||void 0===R?void 0:R.notPromoteStudent)}})]})}),null===P||void 0===P?void 0:P.map(((e,t)=>(0,m.jsx)(h,{promoteData:j,stu:e,onSelectStudent:M},t))),Z&&(0,m.jsx)(d.Z,{}),w&&(0,m.jsx)(p.Z,{})]})})};var f=l(91022);const S=e=>{var t,l,i,a,d,v,h;let{onClose:p,classId:x,onRefetchParent:g}=e;const{t:S}=(0,n.$G)(),[N,Z]=(0,s.useState)("INITIAL_STEP"),[y,P]=(0,s.useState)({promot_with_fees:"",applicable_with_fees:"",departmentId:"",batchId:"",classId:"",students:[],re_ads:"",is_backlog:""}),[C,w]=(0,s.useState)(""),{classAllDepartmentWithBatch:I,classAllDepartmentWithBatchRefetch:k}=(0,r.PS)({data:{cid:x,page:1,limit:30},skip:!x}),{classAllBatchWithClass:T,classAllBatchWithClassRefetch:L}=(0,r.j_)({data:{bid:null===(t=y.batchId)||void 0===t?void 0:t._id,page:1,limit:30},skip:!(null!==(l=y.batchId)&&void 0!==l&&l._id)});s.useEffect((()=>{x&&k()}),[x,k]),s.useEffect((()=>{var e;null!==(e=y.batchId)&&void 0!==e&&e._id&&L()}),[null===(i=y.batchId)||void 0===i?void 0:i._id,L]);return(0,m.jsx)(_.Z,{onClose:"INITIAL_STEP"===N?p:()=>Z("INITIAL_STEP"),children:(0,m.jsxs)("div",{className:o.Z.promote_container,children:["INITIAL_STEP"===N&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h6",{style:{textAlign:"center"},children:S("promote_students")}),(0,m.jsx)(u.Z,{customStyle:{width:"100%"}}),(0,m.jsx)(f.Z,{selectLabel:S("promote_with_fees_structure"),selectedValue:S("select_yes_or_no"),options:["Yes","No"],value:y.promot_with_fees,errorShow:C.promot_with_fees,onClick:e=>{P((t=>({...t,promot_with_fees:e})))}}),(0,m.jsx)(c.Z,{selectLabel:S("select_department"),selectedValue:S("select_department"),options:null!==(a=null===I||void 0===I?void 0:I.departmets)&&void 0!==a?a:[],onClick:e=>{P((t=>({...t,departmentId:e})))},openAs:"PROMOTE",errorShow:C.departmentId}),(0,m.jsx)(c.Z,{selectLabel:S("select_batch"),selectedValue:S("select_batch"),options:null!==(d=null===(v=y.departmentId)||void 0===v?void 0:v.batches)&&void 0!==d?d:[],onClick:e=>{P((t=>({...t,batchId:e})))},openAs:"PROMOTE",errorShow:C.batchId}),(0,m.jsx)(c.Z,{selectLabel:S("select_class"),selectedValue:S("select_class"),options:null!==(h=null===T||void 0===T?void 0:T.classes)&&void 0!==h?h:[],onClick:e=>{P((t=>({...t,classId:e})))},openAs:"PROMOTE",errorShow:C.classId}),(0,m.jsx)(f.Z,{selectLabel:S("promote_applicable_fee"),selectedValue:S("select_yes_or_no"),options:["Yes","No"],value:y.applicable_with_fees,errorShow:C.applicable_with_fees,onClick:e=>{P((t=>({...t,applicable_with_fees:e})))}}),(0,m.jsx)(f.Z,{selectLabel:S("promote_with_re_admission"),selectedValue:S("select_yes_or_no"),options:["Yes","No"],value:y.re_ads,onClick:e=>{P((t=>({...t,re_ads:e})))}}),(0,m.jsx)(f.Z,{selectLabel:S("promote_with_result"),selectedValue:S("please_select_result_base"),options:["Backlog","Pass","All"],value:y.is_backlog?b[y.is_backlog]:y.is_backlog,onClick:e=>{P((t=>({...t,is_backlog:"Backlog"===e?"BACKLOG_OF_MAXIMUM":"Pass"===e?"RESULT_OF_PASS":"ALL"})))}}),(0,m.jsxs)("button",{className:o.Z.select_application_btn,onClick:()=>{const e=(e=>{const t={};for(let l in e)"students"===l||e[l]||(t[l]="".concat(l," is required!"));return t})(y);let t=!1;for(let l in e){t=!0;break}t?w(e):Z("SELECT_STUDENT")},style:{width:"100%"},title:"Select student",children:[(0,m.jsx)("div",{children:S("select_student")}),(0,m.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]})]}),"SELECT_STUDENT"===N&&(0,m.jsx)(j,{classId:x,setPromoteData:P,promoteData:y,onClose:p,onRefetchParent:g})]})})},b={BACKLOG_OF_MAXIMUM:"Backlog",RESULT_OF_PASS:"Pass",ALL:"All"},N=e=>{var t,l,i;let{classId:r,promoteData:c,setPromoteData:_,onClose:v,onRefetchParent:x}=e;const{t:j}=(0,n.$G)(),[f,S]=(0,s.useState)(!0),[b,N]=(0,s.useState)([]),[Z,y]=(0,s.useState)(!1),[P,C]=(0,s.useState)(!1),[w,I]=(0,s.useState)(!1),[k]=(0,a.V_)(),{getPromoteStudentByPromote:T,getPromoteStudentByPromoteRefetch:L}=(0,a.Rt)({cid:r,skip:!r});(0,s.useEffect)((()=>{r&&(S(!0),L())}),[r,L]),(0,s.useEffect)((()=>{var e,t;(null!==T&&void 0!==T&&T.promoteStudent||0===(null===T||void 0===T||null===(e=T.promoteStudent)||void 0===e?void 0:e.length))&&(N(null!==(t=null===T||void 0===T?void 0:T.promoteStudent)&&void 0!==t?t:[]),S(!1))}),[null===T||void 0===T?void 0:T.promoteStudent]);const E=e=>{var t;null!==c&&void 0!==c&&null!==(t=c.arr)&&void 0!==t&&t.includes(e)?_((t=>{var l;return{...t,arr:null===(l=t.arr)||void 0===l?void 0:l.filter((t=>t!==e))}})):_((t=>({...t,arr:t.arr?[...t.arr,e]:[e]})))};return(0,m.jsx)(m.Fragment,{children:P?(0,m.jsx)(g,{onClose:()=>C(!1),title:j("undo_select_student"),firstMessage:"".concat(j("undo")," "),spanMessage:null===c||void 0===c||null===(t=c.arr)||void 0===t?void 0:t.length,outerSpanMessage:"".concat(j("students")," , ").concat(j("to")," "),lastMessage:"".concat(j("previous_class")),buttonLabel:j("confirm"),onHandler:()=>{C(!1),y((e=>!e)),k({cid:r,flow:"PARTICULAR_STUDENT",undoPromote:{arr:null===c||void 0===c?void 0:c.arr}}).then((()=>{x(),v(),y((e=>!e))})).catch({})},messageStyle:{marginTop:"3.7rem"},buttonStyle:{marginTop:"5.7rem"}}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:o.Z.select_header,children:[(0,m.jsxs)("h6",{children:[(null===c||void 0===c||null===(l=c.arr)||void 0===l?void 0:l.length)>0?"".concat(null===c||void 0===c||null===(i=c.arr)||void 0===i?void 0:i.length," "):"",j("select_student")]}),(0,m.jsxs)("div",{children:[w?(0,m.jsx)("button",{className:o.Z.select_all_btn,title:"Remove All Student",onClick:()=>{_((e=>({...e,arr:[]}))),I(!1)},style:{marginRight:"0.7rem"},children:j("remove_all")}):(0,m.jsx)("button",{className:o.Z.select_all_btn,title:"Select All Student",onClick:()=>{let e=[];for(let t of b)e.push(null===t||void 0===t?void 0:t._id);_((t=>({...t,arr:e}))),I(!0)},style:{marginRight:"0.7rem"},children:j("select_all")}),(0,m.jsx)("button",{className:o.Z.promote_all_btn,title:"Undo Selected Student",onClick:()=>{var e;return(null===c||void 0===c||null===(e=c.arr)||void 0===e?void 0:e.length)>0?C(!0):null},children:j("undo")})]})]}),(0,m.jsx)(u.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),(0,m.jsx)("div",{className:o.Z.with_search,style:{marginTop:"1rem",width:"100%",border:"0.4px solid rgba(0, 0, 0, 0.15)",borderRadius:"6px",marginBottom:"0.3rem"},children:(0,m.jsxs)("div",{className:o.Z.search_container_input,style:{width:"100%"},children:[(0,m.jsx)("img",{className:o.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,m.jsx)("input",{type:"text",placeholder:"Search Student...",style:{width:"100%"},onChange:e=>{if(e.target.value){var t;const l=null===T||void 0===T||null===(t=T.promoteStudent)||void 0===t?void 0:t.filter((t=>{var l,s,o;return null!==(l="".concat(null===t||void 0===t?void 0:t.studentFirstName," ").concat(null!==t&&void 0!==t&&t.studentMiddleName?(null===t||void 0===t?void 0:t.studentMiddleName)+" ":"").concat(null===t||void 0===t?void 0:t.studentLastName))&&void 0!==l&&null!==(s=l.toLowerCase())&&void 0!==s&&s.includes(null===(o=e.target.value)||void 0===o?void 0:o.toLowerCase())?t:null}));N(l)}else N(null===T||void 0===T?void 0:T.promoteStudent)}})]})}),null===b||void 0===b?void 0:b.map(((e,t)=>(0,m.jsx)(h,{promoteData:{students:null===c||void 0===c?void 0:c.arr},stu:e,onSelectStudent:E},t))),f&&(0,m.jsx)(d.Z,{}),Z&&(0,m.jsx)(p.Z,{})]})})},Z=e=>{let{onClose:t,classId:l,onRefetchParent:i}=e;const{t:d}=(0,n.$G)(),[r,c]=(0,s.useState)("INITIAL_STEP"),[v,h]=(0,s.useState)({flow:"",arr:[]}),[x,g]=(0,s.useState)(""),[j,S]=(0,s.useState)(!1),[b]=(0,a.V_)();return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(_.Z,{onClose:"INITIAL_STEP"===r?t:()=>c("INITIAL_STEP"),children:(0,m.jsxs)("div",{className:o.Z.promote_container,children:["INITIAL_STEP"===r&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h6",{style:{textAlign:"center"},children:d("promote_students")}),(0,m.jsx)(u.Z,{customStyle:{width:"100%"}}),(0,m.jsx)(f.Z,{selectLabel:d("undo_promote_student"),selectedValue:d("select_full_or_particular"),options:["Full Class","Particular Student"],value:v.flow,errorShow:x.flow,onClick:e=>{h((t=>({...t,flow:e})))}}),(0,m.jsx)("button",{className:o.Z.select_application_btn,onClick:()=>{const e=(e=>{const t={};for(let l in e)"students"===l||e[l]||(t[l]="".concat(l," is required!"));return t})(v);let s=!1;for(let t in e){s=!0;break}s?g(e):"Full Class"===v.flow?(S((e=>!e)),b({cid:l,flow:"FULL_CLASS",undoPromote:{arr:[]}}).then((()=>{i(),t(),S((e=>!e))})).catch({})):"Particular Student"===v.flow&&c("SELECT_STUDENT")},style:{width:"100%",justifyContent:"center",marginTop:"4rem"},children:(0,m.jsx)("div",{children:d("Particular Student"===v.flow?"next":"confirm")})})]}),"SELECT_STUDENT"===r&&(0,m.jsx)(N,{classId:l,setPromoteData:h,promoteData:v,onClose:t,onRefetchParent:i}),j&&(0,m.jsx)(p.Z,{})]})})})},y=e=>{let{cid:t,onRefetch:l}=e;const{t:i}=(0,n.$G)(),[a,d]=(0,s.useState)(!1);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("button",{className:o.Z.select_application_btn,onClick:e=>{e.stopPropagation(),d((e=>!e))},title:"Undo Promote Studens",style:{width:"25%"},children:[(0,m.jsx)("div",{children:i("undo_student")}),(0,m.jsx)("img",{src:"/images/member_tab/admission/admission-undo-icon.svg",alt:"undo icon",style:{cursor:"pointer",width:"30px"}})]}),a&&(0,m.jsx)(Z,{onClose:()=>d(!1),classId:t,onRefetchParent:l})]})},P=e=>{var t,l,r,c,u,_,v;let{classId:h}=e;const{t:p}=(0,n.$G)(),[x,g]=(0,s.useState)(!0),[j,f]=(0,s.useState)(!1),{getPromoteStudentByPromote:b,getPromoteStudentByPromoteRefetch:N}=(0,a.Rt)({cid:h,skip:!h});(0,s.useEffect)((()=>{h&&(g(!0),N())}),[h,N]),(0,s.useEffect)((()=>{var e;(null!==b&&void 0!==b&&b.promoteStudent||0===(null===b||void 0===b||null===(e=b.promoteStudent)||void 0===e?void 0:e.length))&&g(!1)}),[null===b||void 0===b?void 0:b.promoteStudent]);const Z=()=>{f((e=>!e))};return(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:o.Z.promote_undo_container,children:[(0,m.jsxs)("button",{className:o.Z.select_application_btn,onClick:Z,children:[(0,m.jsx)("div",{children:p("promote_student")}),(0,m.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),(0,m.jsx)(y,{cid:h,onRefetch:N})]}),(0,m.jsxs)("h6",{className:o.Z.total_student_count,children:[p("total_student")," ",null!==(t=null===b||void 0===b||null===(l=b.count)||void 0===l?void 0:l.totalCount)&&void 0!==t?t:0]}),(0,m.jsxs)("div",{className:o.Z.total_other_count_container,children:[(0,m.jsxs)("p",{children:[p("boys_promote"),null!==(r=null===b||void 0===b||null===(c=b.count)||void 0===c?void 0:c.boyCount)&&void 0!==r?r:0]}),(0,m.jsxs)("p",{children:[p("girl_promote"),null!==(u=null===b||void 0===b||null===(_=b.count)||void 0===_?void 0:_.girlCount)&&void 0!==u?u:0]})]}),null===b||void 0===b||null===(v=b.promoteStudent)||void 0===v?void 0:v.map((e=>(0,m.jsx)(i.Z,{stu:e,viewAs:"PROMOTE"},null===e||void 0===e?void 0:e._id))),x&&(0,m.jsx)(d.Z,{}),j&&(0,m.jsx)(S,{classId:h,onClose:Z,onRefetchParent:N})]})}},74067:(e,t,l)=>{l.d(t,{Z:()=>r});l(72791);var s=l(33148),o=l(39230),n=l(69721),i=l(16871),a=l(43504),d=l(80184);const r=e=>{var t,l,r,c,u,_,v;let{stu:m,viewAs:h}=e;const{t:p}=(0,o.$G)(),x=(0,i.UO)();return(0,d.jsx)(a.rU,{to:"/q/".concat(x.username,"/student/profile"),state:{sid:null===m||void 0===m?void 0:m._id,viewAs:"SUBJECT_TEACHER"},children:(0,d.jsxs)("div",{className:s.Z.student_container,children:[(0,d.jsx)("img",{src:null!==m&&void 0!==m&&m.studentProfilePhoto?"".concat(n.yI,"/").concat(null===m||void 0===m?void 0:m.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy",alt:"avatar icon"}),(0,d.jsxs)("div",{className:s.Z.student_info_container,children:[(0,d.jsxs)("div",{className:s.Z.student_info_text,children:[(0,d.jsxs)("h6",{children:[null===m||void 0===m?void 0:m.studentFirstName," ",null!==m&&void 0!==m&&m.studentMiddleName?null===m||void 0===m?void 0:m.studentMiddleName:" "," ",null===m||void 0===m?void 0:m.studentLastName]}),"PROMOTE"===h?"":(0,d.jsxs)("p",{children:[null!==(t=null===m||void 0===m?void 0:m.studentGender)&&void 0!==t?t:""," "]})]}),(0,d.jsx)("div",{className:s.Z.student_info_text,children:"PROMOTE"===h?(0,d.jsxs)("p",{children:[p("classes"),": ","".concat(null!==(l=null===m||void 0===m||null===(r=m.studentClass)||void 0===r?void 0:r.className)&&void 0!==l?l:""," - ").concat(null!==(c=null===m||void 0===m||null===(u=m.studentClass)||void 0===u?void 0:u.classTitle)&&void 0!==c?c:"")]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("p",{children:[p("roll_number")," ",null!==(_=null===m||void 0===m?void 0:m.studentROLLNO)&&void 0!==_?_:""]}),(0,d.jsxs)("p",{children:[p("gr_number"),null!==(v=null===m||void 0===m?void 0:m.studentGRNO)&&void 0!==v?v:""]})]})})]})]})})}},1669:(e,t,l)=>{l.d(t,{Z:()=>i});var s=l(98684),o=l(63244),n=l(80184);const i=e=>{let{isGrey:t}=e;return(0,n.jsx)("div",{className:o.Z.q_loading,children:(0,n.jsx)("img",{src:"".concat(s.Uw,t?"/loading-grey.gif":"/loading.gif"),alt:"loading icon"})})}},55336:(e,t,l)=>{l.d(t,{Z:()=>n});var s=l(63244),o=l(80184);const n=()=>(0,o.jsx)("div",{className:s.Z.qviple_loader_backdrop,children:(0,o.jsx)("div",{className:s.Z.qviple_loader_container,children:(0,o.jsx)("div",{className:s.Z.qviple_loader_rotation})})})},90904:(e,t,l)=>{l.d(t,{Z:()=>n});const s="BorderBottom_split_content__RVPoh";var o=l(80184);const n=e=>{let{customStyleBorder:t}=e;return(0,o.jsx)("hr",{className:s,style:t})}},48293:(e,t,l)=>{l.d(t,{Z:()=>r});var s=l(72791),o=l(54164),n=l(15783),i=l(80184);const a=e=>{let{onBackdropClose:t,customBackdropStyle:l}=e;const a=(0,s.useCallback)((()=>{if(!t)return null;t()}),[t]);return o.createPortal((0,i.jsx)("div",{className:n.Z.modal_backdrop,onClick:a,style:l}),document.getElementById("backdrop"))},d=e=>{let{modalState:t,isHide:l,customOverlayStyle:s,children:a}=e;return o.createPortal((0,i.jsx)("div",{className:n.Z.modal_overlay,style:{...s},children:a}),document.getElementById("overlay"))},r=e=>{let{onClose:t,modalState:l,customBackdropStyle:s,customOverlayStyle:o,children:n}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a,{onBackdropClose:t,customBackdropStyle:s}),(0,i.jsx)(d,{customOverlayStyle:o,children:n})]})}},57588:(e,t,l)=>{l.d(t,{J:()=>s});const s=(e,t)=>{let l;return function(){let s=this,o=arguments;clearTimeout(l),l=setTimeout((()=>{e.apply(s,o)}),t)}}},91427:(e,t,l)=>{l.d(t,{f:()=>s});const s=e=>e%10===0},80272:(e,t,l)=>{l.d(t,{Z:()=>s});const s={string_container:"StringLength_string_container__v6b--",mark_container:"StringLength_mark_container__KQsQy"}},45639:(e,t,l)=>{l.d(t,{Z:()=>s});const s={universal_container:"UniversalTab_universal_container__uxTOR",universal_container_item:"UniversalTab_universal_container_item__M0pS7",universal_container_item_active:"UniversalTab_universal_container_item_active__3u3Wt"}},63244:(e,t,l)=>{l.d(t,{Z:()=>s});const s={qviple_loader_backdrop:"Loader_qviple_loader_backdrop__ScdYl",qviple_loader_container:"Loader_qviple_loader_container__SXQ9Y",qviple_loader_rotation:"Loader_qviple_loader_rotation__ltsgT",qviple_loader_rotation_animation:"Loader_qviple_loader_rotation_animation__gy3+j",q_loading:"Loader_q_loading__bwe2c",circle_loading:"Loader_circle_loading__m+ptB",rotate_animation:"Loader_rotate_animation__IV2sY"}},49806:(e,t,l)=>{l.d(t,{Z:()=>s});const s={modal_container:"PlateformUser_modal_container__tqwpY",modal_container_outer_header:"PlateformUser_modal_container_outer_header__HbF+9",modal_container_header:"PlateformUser_modal_container_header__QzyxM",modal_container_btn_container:"PlateformUser_modal_container_btn_container__3SJ8i",modal_container_header_btn:"PlateformUser_modal_container_header_btn__dWfwA",assign_search_container:"PlateformUser_assign_search_container__dJdYj",assign_search_input:"PlateformUser_assign_search_input__aFF28",assign_show_list_each:"PlateformUser_assign_show_list_each__co2b1",assign_show_list_each_active:"PlateformUser_assign_show_list_each_active__SWwFS",assign_each_paragraph:"PlateformUser_assign_each_paragraph__bDgq6",close_icon:"PlateformUser_close_icon__VXKXH",comfirm_box:"PlateformUser_comfirm_box__ntFD7",modal_container_btn:"PlateformUser_modal_container_btn__BWFB9"}}}]);
//# sourceMappingURL=85060.a1b7f5f9.chunk.js.map