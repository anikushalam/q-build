"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[5575],{95575:function(e,i,n){n.r(i),n.d(i,{default:function(){return Y}});var t=n(72791),l=n(42817),s=n(16871),o=n(28795),d=n(95048),a=n(29439),u=n(43504),c=n(99594),r=n(90904),v=n(56959),f=n(21348),h=n(39230),m=n(98684),p=n(80184),y=function(e){var i,n,t,l,s,o,d=e.financeData,a=(0,h.$G)().t,u=(null===d||void 0===d?void 0:d.financeCashBalance)+(null===d||void 0===d?void 0:d.financeSubmitBalance)+(null===d||void 0===d?void 0:d.financeIncomeCashBalance);u>(null===d||void 0===d?void 0:d.financeExpenseCashBalance)&&(u-=null===d||void 0===d?void 0:d.financeExpenseCashBalance);var c=(null===d||void 0===d?void 0:d.financeBankBalance)+(null===d||void 0===d?void 0:d.financeIncomeBankBalance);return c>(null===d||void 0===d?void 0:d.financeExpenseBankBalance)&&(c-=null===d||void 0===d?void 0:d.financeExpenseBankBalance),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(f.Z,{children:(0,p.jsx)("div",{className:v.Z.fm_header_container,children:(0,p.jsx)("h6",{children:a("funds_overview")})})}),(0,p.jsx)(r.Z,{}),(0,p.jsxs)(f.Z,{children:[(0,p.jsxs)("div",{className:v.Z.fm_fund_total,children:[(0,p.jsx)("img",{src:"".concat(m.J7,"/rupee.svg"),alt:""}),(0,p.jsxs)("div",{className:v.Z.fm_fund_total_inner,children:[(0,p.jsxs)("h6",{children:[a("rs_only")," ",null!==(i=null===d||void 0===d?void 0:d.financeTotalBalance)&&void 0!==i?i:0]}),(0,p.jsx)("p",{children:a("total_funds")})]})]}),(0,p.jsxs)("div",{className:v.Z.fm_fund_card,children:[(0,p.jsxs)("p",{children:[a("cash_balance"),":"]}),(0,p.jsxs)("p",{children:[a("rs_only")," ",null!==(n=u)&&void 0!==n?n:0]})]}),(0,p.jsxs)("div",{className:v.Z.fm_fund_card,children:[(0,p.jsxs)("p",{children:[a("bank_balance"),":"]}),(0,p.jsxs)("p",{children:[a("rs_only")," ",null!==(t=c)&&void 0!==t?t:0]})]}),(0,p.jsxs)("div",{className:v.Z.fm_fund_card,children:[(0,p.jsxs)("p",{children:[a("due_from_qviple"),":"]}),(0,p.jsxs)("p",{children:[a("rs_only")," ",null!==(l=null===d||void 0===d||null===(s=d.institute)||void 0===s||null===(o=s.adminRepayAmount)||void 0===o?void 0:o.toFixed(2))&&void 0!==l?l:0]})]})]})]})},x=n(87979),b=n(53277),_=n(23558),g=n(98167),j=n(60724),C={CASH_RECEIPT_ACCESS:["menu","student","submit"],INVENTORY_ACCESS:["menu","student","inventory"],FEE_MASTER_ACCESS:["menu","student","fees"],PAYROLL_ACCESS:["menu","student","payroll"],DEPOSIT_ACCESS:["menu","student","deposit"],BANK_ACCOUNT_ACCESS:["menu","student","bank"],DATA_EXPORT_ACCESS:["menu","student","export"],SCHOLARSHIP_ACCESS:["menu","student","scholarship"]},A=function(e){var i,n,t,l,o,d,r,v,f,h,A,S,z,I,k,E,V,q,w,K,B,U,J,N,D,T,P,M,R,H,O,F,L,G,Y,Q,W,X,$,ee,ie,ne,te,le=e.instituteId,se=e.fid,oe=e.categoryCount,de=e.masterCount,ae=e.financeData,ue=e.tabManage,ce=(0,s.UO)(),re=(0,s.TH)(),ve=(0,u.lr)(),fe=(0,a.Z)(ve,1)[0],he=null===(i=document.getElementById("589nbhgh"))||void 0===i?void 0:i.clientWidth,me="9rem",pe="9rem";if(he){var ye=he>870?he>1100?6:5:he>700?4:3,xe=he>870?1:2;me=pe="".concat(Math.floor((he-xe-31*ye-1)/ye),"px")}return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(x.Z,{children:[(0,p.jsx)(b.Z,{children:Z.map((function(e){var i,n,t;return(0,p.jsx)(_.Z,{label:e.label,isLink:!0,isActive:"menu"===e.id&&!fe.get("type")||fe.get("type")===e.id,parentState:re.state,url:"/q/".concat(ce.username,"/member/staff/finance").concat(e.urlKey),isAuthorized:null===(i=re.state)||void 0===i||!i.role||(null===(n=C[null===(t=re.state)||void 0===t?void 0:t.role])||void 0===n?void 0:n.includes(null===e||void 0===e?void 0:e.id))},null===e||void 0===e?void 0:e.id)}))}),fe.get("type")?"fees"===fe.get("type")?(0,p.jsx)(c.Z,{fid:se,instituteId:le,masterCount:de,categoryCount:oe}):"fund"===fe.get("type")?(0,p.jsx)(y,{financeData:ae}):null:(0,p.jsxs)(g.Z,{dynamicId:"589nbhgh",children:[(0,p.jsx)(j.Z,{label:"all_students",iconUrl:"".concat(m.J7,"/student.svg"),url:"/q/".concat(ce.username,"/member/staff/finance?type=students"),state:re.state,isAuthorized:null===(n=re.state)||void 0===n||!n.role||(null===(t=C[null===(l=re.state)||void 0===l?void 0:l.role])||void 0===t?void 0:t.includes("student")),isVisible:null!==ue&&void 0!==ue?ue:{},accessKey:"all_students",customStyleContainer:{height:me,width:pe}}),(0,p.jsx)(j.Z,{label:"bank_details",iconUrl:"".concat(m.J7,"/bank.svg"),url:"/q/".concat(ce.username,"/member/staff/finance?type=bank"),state:re.state,isAuthorized:null===(o=re.state)||void 0===o||!o.role||(null===(d=C[null===(r=re.state)||void 0===r?void 0:r.role])||void 0===d?void 0:d.includes("bank")),isVisible:null!==ue&&void 0!==ue?ue:{},accessKey:"bank_details",customStyleContainer:{height:me,width:pe}}),(0,p.jsx)(j.Z,{label:"pending_fees",iconUrl:"".concat(m.J7,"/pending.svg"),url:"/q/".concat(ce.username,"/member/staff/finance?type=pending-fee"),state:re.state,isAuthorized:null===(v=re.state)||void 0===v||!v.role||(null===(f=C[null===(h=re.state)||void 0===h?void 0:h.role])||void 0===f?void 0:f.includes("pending")),isVisible:null!==ue&&void 0!==ue?ue:{},accessKey:"pending_fees",customStyleContainer:{height:me,width:pe}}),(0,p.jsx)(j.Z,{label:"deposits",iconUrl:"".concat(m.J7,"/deposit.svg"),url:"/q/".concat(ce.username,"/member/staff/finance?type=deposit"),state:re.state,isAuthorized:null===(A=re.state)||void 0===A||!A.role||(null===(S=C[null===(z=re.state)||void 0===z?void 0:z.role])||void 0===S?void 0:S.includes("deposit")),isVisible:null!==ue&&void 0!==ue?ue:{},accessKey:"deposits",customStyleContainer:{height:me,width:pe}}),(0,p.jsx)(j.Z,{label:"incomes",iconUrl:"".concat(m.J7,"/income.svg"),url:"/q/".concat(ce.username,"/member/staff/finance?type=income"),state:re.state,isAuthorized:null===(I=re.state)||void 0===I||!I.role||(null===(k=C[null===(E=re.state)||void 0===E?void 0:E.role])||void 0===k?void 0:k.includes("income")),isVisible:null!==ue&&void 0!==ue?ue:{},accessKey:"incomes",customStyleContainer:{height:me,width:pe}}),(0,p.jsx)(j.Z,{label:"expenses",iconUrl:"".concat(m.J7,"/expense.svg"),url:"/q/".concat(ce.username,"/member/staff/finance?type=expense"),state:re.state,isAuthorized:null===(V=re.state)||void 0===V||!V.role||(null===(q=C[null===(w=re.state)||void 0===w?void 0:w.role])||void 0===q?void 0:q.includes("expense")),isVisible:null!==ue&&void 0!==ue?ue:{},accessKey:"expenses",customStyleContainer:{height:me,width:pe}}),(0,p.jsx)(j.Z,{label:"scholarsips",iconUrl:"".concat(m.J7,"/scholarship.svg"),url:"/q/".concat(ce.username,"/member/staff/finance?type=scholarship"),state:re.state,isAuthorized:null===(K=re.state)||void 0===K||!K.role||(null===(B=C[null===(U=re.state)||void 0===U?void 0:U.role])||void 0===B?void 0:B.includes("scholarship")),isVisible:null!==ue&&void 0!==ue?ue:{},accessKey:"scholarships",customStyleContainer:{height:me,width:pe}}),(0,p.jsx)(j.Z,{label:"exemption_and_unrecovered",iconUrl:"".concat(m.J7,"/exemption.svg"),url:"/q/".concat(ce.username,"/member/staff/finance?type=exemption"),state:re.state,isAuthorized:null===(J=re.state)||void 0===J||!J.role||(null===(N=C[null===(D=re.state)||void 0===D?void 0:D.role])||void 0===N?void 0:N.includes("exemption")),isVisible:null!==ue&&void 0!==ue?ue:{},accessKey:"exemption",customStyleContainer:{height:me,width:pe}}),(0,p.jsx)(j.Z,{label:"transaction_history",iconUrl:"".concat(m.J7,"/history.svg"),url:"/q/".concat(ce.username,"/member/staff/finance?type=history"),state:re.state,isAuthorized:null===(T=re.state)||void 0===T||!T.role||(null===(P=C[null===(M=re.state)||void 0===M?void 0:M.role])||void 0===P?void 0:P.includes("trasnsaction")),isVisible:null!==ue&&void 0!==ue?ue:{},accessKey:"transaction_history",customStyleContainer:{height:me,width:pe}}),(0,p.jsx)(j.Z,{label:"data_export",iconUrl:"".concat(m.J7,"/export.svg"),url:"/q/".concat(ce.username,"/member/staff/finance?type=export"),state:re.state,isAuthorized:null===(R=re.state)||void 0===R||!R.role||(null===(H=C[null===(O=re.state)||void 0===O?void 0:O.role])||void 0===H?void 0:H.includes("export")),isVisible:null!==ue&&void 0!==ue?ue:{},accessKey:"data_export",customStyleContainer:{height:me,width:pe}}),(0,p.jsx)(j.Z,{label:"finance_moderators",iconUrl:"".concat(m.J7,"/moderator.svg"),url:"/q/".concat(ce.username,"/member/staff/finance?type=moderator"),state:re.state,isAuthorized:null===(F=re.state)||void 0===F||!F.role||(null===(L=C[null===(G=re.state)||void 0===G?void 0:G.role])||void 0===L?void 0:L.includes("moderator")),isVisible:null!==ue&&void 0!==ue?ue:{},accessKey:"finance_mods",customStyleContainer:{height:me,width:pe}}),(0,p.jsx)(j.Z,{label:"internal_fees",iconUrl:"".concat(m.J7,"/internal-fees.svg"),url:"/q/".concat(ce.username,"/member/staff/finance?type=internal-fees"),state:re.state,isAuthorized:null===(Y=re.state)||void 0===Y||!Y.role||(null===(Q=C[null===(W=re.state)||void 0===W?void 0:W.role])||void 0===Q?void 0:Q.includes("internal")),isVisible:{internal_fees:!0},accessKey:"internal_fees",customStyleContainer:{height:me,width:pe}}),(0,p.jsx)(j.Z,{label:"student_statitics",iconUrl:"".concat(m.J7,"/statitics.svg"),url:"/q/".concat(ce.username,"/member/staff/finance?type=student-statistics"),state:re.state,isAuthorized:null===(X=re.state)||void 0===X||!X.role||(null===($=C[null===(ee=re.state)||void 0===ee?void 0:ee.role])||void 0===$?void 0:$.includes("student statistics")),isVisible:{student_statitics:!0},accessKey:"student_statitics",customStyleContainer:{height:me,width:pe}}),(0,p.jsx)(j.Z,{label:"fees_statitics",iconUrl:"".concat(m.J7,"/statitics.svg"),url:"/q/".concat(ce.username,"/member/staff/finance?type=fees-statistics"),state:re.state,isAuthorized:null===(ie=re.state)||void 0===ie||!ie.role||(null===(ne=C[null===(te=re.state)||void 0===te?void 0:te.role])||void 0===ne?void 0:ne.includes("fee statistics")),isVisible:null!==ue&&void 0!==ue?ue:{},accessKey:"fee_statistics",customStyleContainer:{height:me,width:pe}})]})]})})},S=(0,t.memo)(A),Z=[{label:"menu",id:"menu",urlKey:""},{label:"fees_structure",id:"fees",urlKey:"?type=fees"},{label:"funds",id:"fund",urlKey:"?type=fund"}],z=n(6758),I=n(5978),k=n(55336),E=n(1669),V=(0,t.lazy)((function(){return n.e(8025).then(n.bind(n,18025))})),q=(0,t.lazy)((function(){return n.e(1460).then(n.bind(n,81460))})),w=(0,t.lazy)((function(){return n.e(7341).then(n.bind(n,77341))})),K=(0,t.lazy)((function(){return n.e(9131).then(n.bind(n,69131))})),B=(0,t.lazy)((function(){return n.e(6411).then(n.bind(n,86411))})),U=(0,t.lazy)((function(){return Promise.all([n.e(7338),n.e(7932),n.e(6697),n.e(6510)]).then(n.bind(n,45754))})),J=(0,t.lazy)((function(){return Promise.all([n.e(9017),n.e(7782),n.e(8106)]).then(n.bind(n,38106))})),N=(0,t.lazy)((function(){return n.e(6220).then(n.bind(n,66220))})),D=(0,t.lazy)((function(){return n.e(8973).then(n.bind(n,98973))})),T=(0,t.lazy)((function(){return n.e(4395).then(n.bind(n,84395))})),P=(0,t.lazy)((function(){return n.e(8594).then(n.bind(n,98594))})),M=(0,t.lazy)((function(){return n.e(8858).then(n.bind(n,68858))})),R=(0,t.lazy)((function(){return n.e(625).then(n.bind(n,50625))})),H=(0,t.lazy)((function(){return Promise.all([n.e(782),n.e(7574)]).then(n.bind(n,80782))})),O=(0,t.lazy)((function(){return Promise.all([n.e(9268),n.e(9091),n.e(4035)]).then(n.bind(n,89091))})),F=(0,t.lazy)((function(){return Promise.all([n.e(782),n.e(4265)]).then(n.bind(n,6388))})),L=(0,t.lazy)((function(){return n.e(4422).then(n.bind(n,24422))})),G=function(){var e,i,n,l,o,d,c,r,v,f,h,m,y,x,b,_,g,j,C,A,Z,G,Y,Q,W,X,$,ee,ie,ne,te,le,se,oe,de,ae,ue,ce,re,ve,fe,he,me,pe,ye,xe,be,_e,ge,je,Ce,Ae,Se,Ze,ze,Ie,ke,Ee,Ve,qe,we,Ke,Be,Ue,Je,Ne,De,Te=(0,s.TH)(),Pe=(0,u.lr)(),Me=(0,a.Z)(Pe,1)[0],Re=(0,z.Lr)({data:{fid:null===(e=Te.state)||void 0===e?void 0:e.fid,mid:""},skip:!(null!==(i=Te.state)&&void 0!==i&&i.fid)}),He=Re.financeDashboardMaster,Oe=Re.financeDashboardMasterLoading;return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(I.Z,{children:[(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(k.Z,{}),children:!Me.get("type")||null!==(n=["fees","fund"])&&void 0!==n&&n.includes(Me.get("type"))?(0,p.jsx)(S,{fid:null===(l=Te.state)||void 0===l?void 0:l.fid,instituteId:null===He||void 0===He||null===(o=He.finance)||void 0===o||null===(d=o.institute)||void 0===d?void 0:d._id,categoryCount:null!==(c=null===He||void 0===He||null===(r=He.finance)||void 0===r?void 0:r.fees_category_count)&&void 0!==c?c:0,masterCount:null!==(v=null===He||void 0===He||null===(f=He.finance)||void 0===f?void 0:f.fee_master_array_count)&&void 0!==v?v:0,financeData:null===He||void 0===He?void 0:He.finance,tabManage:null===He||void 0===He||null===(h=He.finance)||void 0===h?void 0:h.tab_manage}):"bank"===Me.get("type")?(0,p.jsx)(V,{fid:null===(m=Te.state)||void 0===m?void 0:m.fid,libraryId:null===He||void 0===He||null===(y=He.finance)||void 0===y||null===(x=y.institute)||void 0===x||null===(b=x.library)||void 0===b?void 0:b[0],transportId:null===He||void 0===He||null===(_=He.finance)||void 0===_||null===(g=_.institute)||void 0===g||null===(j=g.transportDepart)||void 0===j?void 0:j[0],hostelId:null===He||void 0===He||null===(C=He.finance)||void 0===C||null===(A=C.institute)||void 0===A||null===(Z=A.hostelDepart)||void 0===Z?void 0:Z[0]}):"students"===Me.get("type")?(0,p.jsx)(H,{instituteId:null===He||void 0===He||null===(G=He.finance)||void 0===G||null===(Y=G.institute)||void 0===Y?void 0:Y._id,messageId:null===He||void 0===He||null===(Q=He.finance)||void 0===Q?void 0:Q._id,headId:null===He||void 0===He||null===(W=He.finance)||void 0===W||null===(X=W.financeHead)||void 0===X?void 0:X._id,studentAlias:null===He||void 0===He||null===($=He.finance)||void 0===$||null===(ee=$.institute)||void 0===ee||null===(ie=ee.alias_pronounciation)||void 0===ie?void 0:ie.student_alias,accessAs:"FINANCE_MANAGER",subUrl:"finance"}):"pending-fee"===Me.get("type")?(0,p.jsx)(q,{fid:null===(ne=Te.state)||void 0===ne?void 0:ne.fid}):"income"===Me.get("type")?(0,p.jsx)(w,{fid:null===(te=Te.state)||void 0===te?void 0:te.fid}):"expense"===Me.get("type")?(0,p.jsx)(K,{fid:null===(le=Te.state)||void 0===le?void 0:le.fid}):"exemption"===Me.get("type")?(0,p.jsx)(B,{fid:null===(se=Te.state)||void 0===se?void 0:se.fid,exemptBalance:null===He||void 0===He||null===(oe=He.finance)||void 0===oe?void 0:oe.financeExemptBalance}):"export"===Me.get("type")?(0,p.jsx)(U,{fid:null===(de=Te.state)||void 0===de?void 0:de.fid,instituteId:null===He||void 0===He||null===(ae=He.finance)||void 0===ae||null===(ue=ae.institute)||void 0===ue?void 0:ue._id,hostelId:null===He||void 0===He||null===(ce=He.finance)||void 0===ce||null===(re=ce.institute)||void 0===re||null===(ve=re.hostelDepart)||void 0===ve?void 0:ve[0]}):"history"===Me.get("type")?(0,p.jsx)(J,{fid:null===(fe=Te.state)||void 0===fe?void 0:fe.fid,instituteId:null===He||void 0===He||null===(he=He.finance)||void 0===he||null===(me=he.institute)||void 0===me?void 0:me._id}):"moderator"===Me.get("type")?(0,p.jsx)(N,{fid:null===(pe=Te.state)||void 0===pe?void 0:pe.fid,instituteId:null===He||void 0===He||null===(ye=He.finance)||void 0===ye||null===(xe=ye.institute)||void 0===xe?void 0:xe._id}):"deposit"===Me.get("type")?(0,p.jsx)(D,{fid:null===(be=Te.state)||void 0===be?void 0:be.fid,instituteId:null===He||void 0===He||null===(_e=He.finance)||void 0===_e||null===(ge=_e.institute)||void 0===ge?void 0:ge._id}):"student-statistics"===Me.get("type")?(0,p.jsx)(T,{fid:null===(je=Te.state)||void 0===je?void 0:je.fid}):"statistics-detail"===Me.get("type")?(0,p.jsx)(M,{fid:null===(Ce=Te.state)||void 0===Ce?void 0:Ce.fid}):"internal-fees"===Me.get("type")?(0,p.jsx)(P,{fid:null===(Ae=Te.state)||void 0===Ae?void 0:Ae.fid}):"fees-statistics"===Me.get("type")?(0,p.jsx)(R,{fid:null===(Se=Te.state)||void 0===Se?void 0:Se.fid,instituteId:null===He||void 0===He||null===(Ze=He.finance)||void 0===Ze||null===(ze=Ze.institute)||void 0===ze?void 0:ze._id}):"message"===Me.get("type")?(0,p.jsx)(O,{instituteId:null===He||void 0===He||null===(Ie=He.finance)||void 0===Ie||null===(ke=Ie.institute)||void 0===ke?void 0:ke._id}):"scholarship"===Me.get("type")?(0,p.jsx)(F,{fid:null===(Ee=Te.state)||void 0===Ee?void 0:Ee.fid,instituteId:null===He||void 0===He||null===(Ve=He.finance)||void 0===Ve||null===(qe=Ve.institute)||void 0===qe?void 0:qe._id,aid:null===He||void 0===He||null===(we=He.finance)||void 0===we||null===(Ke=we.institute)||void 0===Ke||null===(Be=Ke.admissionDepart)||void 0===Be?void 0:Be[0],studentAlias:null===He||void 0===He||null===(Ue=He.finance)||void 0===Ue||null===(Je=Ue.institute)||void 0===Je||null===(Ne=Je.alias_pronounciation)||void 0===Ne?void 0:Ne.student_alias}):"internal-fee-detail"===Me.get("type")?(0,p.jsx)(L,{fid:null===(De=Te.state)||void 0===De?void 0:De.fid}):null}),Oe&&(0,p.jsx)(E.Z,{})]})})},Y=function(){var e,i,n,a,u,c,r,v,f,h,m,y=(0,s.TH)(),x=(0,d.I0)();return(0,t.useEffect)((function(){var e,i,n,t,l;x(o.q.financeQuery({fid:null!==y&&void 0!==y&&null!==(e=y.state)&&void 0!==e&&e.role?null===y||void 0===y||null===(i=y.state)||void 0===i||null===(n=i.onClickValue)||void 0===n?void 0:n.finance:null===y||void 0===y||null===(t=y.state)||void 0===t?void 0:t.onClickValue,insId:null===y||void 0===y||null===(l=y.state)||void 0===l?void 0:l.insId}))}),[]),(0,p.jsx)(l.Z,{index:null!==y&&void 0!==y&&null!==(e=y.state)&&void 0!==e&&e.role?"27":"4",sid:null!==(i=null===y||void 0===y||null===(n=y.state)||void 0===n?void 0:n.sid)&&void 0!==i?i:"",onClickValue:null!==(a=null===y||void 0===y||null===(u=y.state)||void 0===u?void 0:u.onClickValue)&&void 0!==a?a:"",children:(0,p.jsx)(G,{onClickValue:null!==(c=null===y||void 0===y||null===(r=y.state)||void 0===r?void 0:r.onClickValue)&&void 0!==c?c:"",carryParentState:null===y||void 0===y?void 0:y.state,role:null===y||void 0===y||null===(v=y.state)||void 0===v?void 0:v.role,mid:null!==y&&void 0!==y&&null!==(f=y.state)&&void 0!==f&&f.role?null===y||void 0===y||null===(h=y.state)||void 0===h||null===(m=h.onClickValue)||void 0===m?void 0:m._id:""})})}},5978:function(e,i,n){n.d(i,{Z:function(){return s}});var t="UserMemberTab_um_main_wrapper__NwvJ9",l=n(80184),s=function(e){var i=e.children;return(0,l.jsx)("div",{className:t,children:i})}}}]);
//# sourceMappingURL=5575.fe0ee1ed.chunk.js.map