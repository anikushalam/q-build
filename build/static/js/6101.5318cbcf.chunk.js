"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[6101],{44746:function(e,t,n){n.r(t),n.d(t,{default:function(){return P}});var a=n(29439),l=n(39230),i=n(63687),s=n(21348),o=n(90904),c=n(98684),r=n(55336),d=n(1669),u=n(2651),v=n(56959),_=n(1095),f=n(48215),h=n(72791),m=n(48293),j=n(49806),x=n(80184),g=function(e){var t,n,a,l,i,s,o,r,d,u=e.subject;return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:f.Z.staclc_card,children:[(0,x.jsx)("img",{src:null!==u&&void 0!==u&&null!==(t=u.subjectTeacherName)&&void 0!==t&&t.staffProfilePhoto?"".concat(_.yI,"/").concat(null===u||void 0===u||null===(n=u.subjectTeacherName)||void 0===n?void 0:n.staffProfilePhoto):"".concat(c.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,x.jsxs)("div",{className:f.Z.staclc_card_inner,children:[(0,x.jsx)("h6",{children:null!==(a=null===u||void 0===u?void 0:u.subjectName)&&void 0!==a?a:""}),(0,x.jsx)("p",{children:"".concat(null!==(l=null===u||void 0===u||null===(i=u.subjectTeacherName)||void 0===i?void 0:i.staffFirstName)&&void 0!==l?l:""," ").concat(null!==(s=null===u||void 0===u||null===(o=u.subjectTeacherName)||void 0===o?void 0:o.staffMiddleName)&&void 0!==s?s:""," ").concat(null!==(r=null===u||void 0===u||null===(d=u.subjectTeacherName)||void 0===d?void 0:d.staffLastName)&&void 0!==r?r:"")})]})]})})},p=n(23441),Z=n(60234),b=n(91427),y=n(57588),N=function(e){var t,n,i,v,_=e.label,f=e.onClose,N=e.instituteId,S=e.sid,P=e.category,k=(0,l.$G)().t,C=(0,h.useState)(""),w=(0,a.Z)(C,2),T=w[0],U=w[1],B=(0,h.useState)(1),F=(0,a.Z)(B,2),I=F[0],L=F[1],E=(0,h.useState)(!0),O=(0,a.Z)(E,2),q=O[0],J=O[1],Y=(0,p.YD)({skip:T}),D=(0,a.Z)(Y,2),H=D[0],W=D[1],z=(0,Z.qT)({data:{id:N,sid:S,page:I,limit:10,search:T,flow:P},skip:S?!P:!S}),G=z.staffTeachingPlanSubjectListStats,M=z.staffTeachingPlanSubjectListStatsLoading;(0,h.useEffect)((function(){W&&q&&L((function(e){return e+1}))}),[W,q]),(0,h.useEffect)((function(){var e;if(null!==G&&void 0!==G&&null!==(e=G.list)&&void 0!==e&&e.length){var t,n=(0,b.f)(null===G||void 0===G||null===(t=G.list)||void 0===t?void 0:t.length);J((function(){return n}))}}),[null===G||void 0===G||null===(t=G.list)||void 0===t?void 0:t.length]);var X=(0,h.useCallback)((0,y.J)((function(e){L((function(){return 1})),U(e)}),1500),[]);return(0,x.jsx)(m.Z,{onClose:f,customOverlayStyle:{width:"70%"},children:(0,x.jsxs)("div",{className:j.Z.modal_container,style:{maxWidth:"100%",maxHeight:"calc(100dvh - 100px)"},children:[(0,x.jsx)(s.Z,{children:(0,x.jsxs)("div",{className:j.Z.modal_container_outer_header,children:[(0,x.jsx)("div",{className:j.Z.modal_container_header,children:(0,x.jsx)("h6",{children:k(_)})}),(0,x.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:f})]})}),(0,x.jsx)(o.Z,{}),(0,x.jsxs)(s.Z,{customStyle:{paddingTop:"0.3rem",paddingBottom:"1rem"},children:[(0,x.jsxs)("div",{className:j.Z.assign_search_container,children:[(0,x.jsx)("input",{type:"text",placeholder:k("search"),className:j.Z.assign_search_input,style:{width:"100%"},onChange:function(e){e.target.value?M||X(e.target.value):(L((function(){return 1})),U(""))}}),(0,x.jsx)("img",{src:"".concat(c.dB,"/navbar-search.svg"),alt:"search icon",style:{left:"1%"}})]}),null===G||void 0===G||null===(n=G.list)||void 0===n?void 0:n.map((function(e,t){var n;return(null===G||void 0===G||null===(n=G.list)||void 0===n?void 0:n.length)===t+1?(0,x.jsx)("div",{ref:H,children:(0,x.jsx)(g,{subject:e})},null===e||void 0===e?void 0:e._id):(0,x.jsx)(g,{subject:e},null===e||void 0===e?void 0:e._id)})),M?T?(0,x.jsx)(r.Z,{}):(0,x.jsx)(d.Z,{}):T?0===(null===G||void 0===G||null===(i=G.list)||void 0===i?void 0:i.length)&&(0,x.jsx)(u.Z,{title:"No subjects found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===G||void 0===G||null===(v=G.list)||void 0===v?void 0:v.length)&&(0,x.jsx)(u.Z,{title:"No subjects.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})},S=function(e){var t,n,i,s,o=e.staff,r=e.instituteId,d=(0,l.$G)().t,u=(0,h.useState)(""),v=(0,a.Z)(u,2),m=v[0],j=v[1],g=function(){j("")};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:f.Z.staclc_card,style:{justifyContent:"space-between"},children:[(0,x.jsxs)("div",{className:f.Z.staclc_card_container,children:[(0,x.jsx)("img",{src:null!==o&&void 0!==o&&o.staffProfilePhoto?"".concat(_.yI,"/").concat(null===o||void 0===o?void 0:o.staffProfilePhoto):"".concat(c.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,x.jsxs)("div",{className:f.Z.staclc_card_inner,children:[(0,x.jsx)("h6",{children:"".concat(null!==(t=null===o||void 0===o?void 0:o.staffFirstName)&&void 0!==t?t:""," ").concat(null!==(n=null===o||void 0===o?void 0:o.staffMiddleName)&&void 0!==n?n:""," ").concat(null!==(i=null===o||void 0===o?void 0:o.staffLastName)&&void 0!==i?i:"")}),(0,x.jsxs)("p",{children:[d("employee_code"),": ",null!==(s=null===o||void 0===o?void 0:o.staffROLLNO)&&void 0!==s?s:""]})]})]}),(0,x.jsxs)("div",{className:f.Z.stc_stats,children:[(0,x.jsx)("span",{onClick:function(){return j(1)},children:"4"})," /"," ",(0,x.jsx)("span",{onClick:function(){return j(2)},children:"10"})]})]}),1===m?(0,x.jsx)(N,{label:"teaching_plan_updated_subject",onClose:g,instituteId:r,sid:null===o||void 0===o?void 0:o._id,category:"Yes"}):2===m?(0,x.jsx)(N,{label:"teaching_plan_not_updated_subject",onClose:g,instituteId:r,sid:null===o||void 0===o?void 0:o._id,category:"No"}):null]})},P=function(e){var t,n,_,f=e.instituteId,m=(0,l.$G)().t,j=(0,h.useState)(""),g=(0,a.Z)(j,2),N=g[0],P=g[1],k=(0,h.useState)(1),C=(0,a.Z)(k,2),w=C[0],T=C[1],U=(0,h.useState)(!0),B=(0,a.Z)(U,2),F=B[0],I=B[1],L=(0,p.YD)({skip:N}),E=(0,a.Z)(L,2),O=E[0],q=E[1],J=(0,Z.Xx)({data:{id:f,page:w,limit:10,search:N},skip:!f}),Y=J.staffTeachingPlanStats,D=J.staffTeachingPlanStatsLoading;(0,h.useEffect)((function(){q&&F&&T((function(e){return e+1}))}),[q,F]),(0,h.useEffect)((function(){var e;if(null!==Y&&void 0!==Y&&null!==(e=Y.list)&&void 0!==e&&e.length){var t,n=(0,b.f)(null===Y||void 0===Y||null===(t=Y.list)||void 0===t?void 0:t.length);I((function(){return n}))}}),[null===Y||void 0===Y?void 0:Y.list]);var H=(0,h.useCallback)((0,y.J)((function(e){T((function(){return 1})),P(e)}),1500),[]);return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(i.Z,{children:[(0,x.jsx)(s.Z,{children:(0,x.jsxs)("div",{className:v.Z.fm_header_container,children:[(0,x.jsx)("h6",{children:m("staff_teaching_plan")}),(0,x.jsx)("div",{className:v.Z.fm_search,children:(0,x.jsx)("section",{className:v.Z.fm_search_container,children:(0,x.jsxs)("div",{className:v.Z.fm_search_container_inner,children:[(0,x.jsx)("img",{className:v.Z.fm_search_icon,alt:"search icon",src:"".concat(c.dB,"/navbar-search.svg")}),(0,x.jsx)("input",{type:"text",placeholder:m("search"),onChange:function(e){e.target.value?D||H(e.target.value):(T((function(){return 1})),P(""))}})]})})})]})}),(0,x.jsx)(o.Z,{}),(0,x.jsxs)(s.Z,{children:[null===Y||void 0===Y||null===(t=Y.list)||void 0===t?void 0:t.map((function(e,t){var n;return(null===Y||void 0===Y||null===(n=Y.list)||void 0===n?void 0:n.length)===t+1?(0,x.jsx)("div",{ref:O,children:(0,x.jsx)(S,{staff:e,instituteId:f})},null===e||void 0===e?void 0:e._id):(0,x.jsx)(S,{staff:e,instituteId:f},null===e||void 0===e?void 0:e._id)})),D?N?(0,x.jsx)(r.Z,{}):(0,x.jsx)(d.Z,{}):N?0===(null===Y||void 0===Y||null===(n=Y.list)||void 0===n?void 0:n.length)&&(0,x.jsx)(u.Z,{title:"No staff found related this search."}):0===(null===Y||void 0===Y||null===(_=Y.list)||void 0===_?void 0:_.length)&&(0,x.jsx)(u.Z,{title:"No staff."})]})]})})}},48293:function(e,t,n){n.d(t,{Z:function(){return d}});var a=n(72791),l=n(54164),i=n(15783),s=n(80184),o=function(e){var t=e.onBackdropClose,n=e.customBackdropStyle,o=(0,a.useCallback)((function(){if(!t)return null;t()}),[t]);return l.createPortal((0,s.jsx)("div",{className:i.Z.modal_backdrop,onClick:o,style:n}),document.getElementById("backdrop"))},c=n(1413),r=function(e){e.modalState,e.isHide;var t=e.customOverlayStyle,n=e.children;return l.createPortal((0,s.jsx)("div",{className:i.Z.modal_overlay,style:(0,c.Z)({},t),children:n}),document.getElementById("overlay"))},d=function(e){var t=e.onClose,n=(e.modalState,e.customBackdropStyle),a=e.customOverlayStyle,l=e.children;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o,{onBackdropClose:t,customBackdropStyle:n}),(0,s.jsx)(r,{customOverlayStyle:a,children:l})]})}},49806:function(e,t){t.Z={modal_container:"PlateformUser_modal_container__tqwpY",modal_container_outer_header:"PlateformUser_modal_container_outer_header__HbF+9",modal_container_header:"PlateformUser_modal_container_header__QzyxM",modal_container_btn_container:"PlateformUser_modal_container_btn_container__3SJ8i",modal_container_header_btn:"PlateformUser_modal_container_header_btn__dWfwA",assign_search_container:"PlateformUser_assign_search_container__dJdYj",assign_search_input:"PlateformUser_assign_search_input__aFF28",assign_show_list_each:"PlateformUser_assign_show_list_each__co2b1",assign_show_list_each_active:"PlateformUser_assign_show_list_each_active__SWwFS",assign_each_paragraph:"PlateformUser_assign_each_paragraph__bDgq6",close_icon:"PlateformUser_close_icon__VXKXH",comfirm_box:"PlateformUser_comfirm_box__ntFD7",modal_container_btn:"PlateformUser_modal_container_btn__BWFB9"}}}]);
//# sourceMappingURL=6101.5318cbcf.chunk.js.map