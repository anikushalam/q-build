"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[11603],{11603:(t,n,l)=>{l.r(n),l.d(n,{default:()=>R});var e=l(72791),o=l(32361),i=l(1669),a=l(90904),d=l(63687),s=l(21348),r=l(2651),u=l(99183),c=l(38857),v=l(61055),h=l(55336),_=l(98684),m=l(93638),f=l(39230),x=l(16925),j=l(15670),p=l(38986),g=l(84959),b=l(80184);const k=t=>{var n,l;let{onClose:i,onRefetch:d,did:r,onEditAction:k,menuData:y,isEdit:Z}=t;const{t:C}=(0,f.$G)(),[S,N]=(0,e.useState)(""),[w,U]=(0,e.useState)(!1),[A,E]=(0,e.useState)({srn:"",org_name:"",institution_industry:"",durations:"",linkUrl:"",attach:"",batch:"",student_count:"",staff_count:""}),[R]=(0,o._y)(),[F]=(0,g.FL)();(0,e.useEffect)((()=>{var t,n,l,e,o,i,a,d,s;Z&&y&&E({srn:null!==(t=null===y||void 0===y?void 0:y.srn)&&void 0!==t?t:"",org_name:null!==(n=null===y||void 0===y?void 0:y.org_name)&&void 0!==n?n:"",institution_industry:null!==(l=null===y||void 0===y?void 0:y.institution_industry)&&void 0!==l?l:"",durations:null!==(e=null===y||void 0===y?void 0:y.durations)&&void 0!==e?e:"",linkUrl:null!==(o=null===y||void 0===y?void 0:y.link)&&void 0!==o?o:"",attach:null!==(i=null===y||void 0===y?void 0:y.attach)&&void 0!==i?i:"",batch:null!==(a={u_batch:null===y||void 0===y?void 0:y.batch,id:"bsjdngbdsmngdfsfds"})&&void 0!==a?a:"",student_count:null!==(d=null===y||void 0===y?void 0:y.student_count)&&void 0!==d?d:"",staff_count:null!==(s=null===y||void 0===y?void 0:y.staff_count)&&void 0!==s?s:""})}),[Z,y]);const D=t=>{E((n=>({...n,[t.target.name]:t.target.value})))};return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.Z,{onClose:i,children:(0,b.jsxs)("div",{className:x.Z.modal_container,children:[(0,b.jsx)(s.default,{children:(0,b.jsxs)("div",{className:x.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:x.Z.modal_container_header,children:(0,b.jsx)("h6",{children:C(Z?"update_department_mou_collabrations":"add_department_mou_collabrations")})}),(0,b.jsx)("img",{src:"".concat(_.J7,"/close.svg"),alt:"close icon",onClick:i})]})}),(0,b.jsx)(a.Z,{}),(0,b.jsxs)(s.default,{customStyle:{paddingTop:"0"},children:[(0,b.jsx)(v.Z,{label:C("sr_no_only"),placeholder:C("sr_no_placeholder"),name:"srn",value:A.srn,type:"text",onChange:D,errorShow:S.srn}),(0,b.jsx)(v.Z,{label:C("org_name"),placeholder:C("org_name_placeholder"),name:"org_name",value:A.org_name,type:"text",onChange:D,errorShow:S.org_name}),(0,b.jsx)(v.Z,{label:C("institution_industry"),placeholder:C("institution_industry_placeholder"),name:"institution_industry",value:A.institution_industry,type:"text",onChange:D,errorShow:S.institution_industry}),(0,b.jsx)(v.Z,{label:C("durations"),placeholder:C("durations_placeholder"),name:"durations",value:A.durations,type:"text",onChange:D,errorShow:S.durations}),(0,b.jsx)(v.Z,{label:C("link"),placeholder:C("link_placeholder"),name:"linkUrl",value:A.linkUrl,type:"text",onChange:D,errorShow:S.linkUrl}),(0,b.jsx)(p.Z,{label:C("add_attachment"),name:"add_attachment",value:A.attach?{key:A.attach,name:"View"}:"",onChange:t=>{if(t.target.files[0]){U((t=>!t));const n=new FormData;n.append("file",t.target.files[0]),F({fileUpload:n}).then((t=>{E((n=>{var l;return{...n,attach:null===(l=t.data)||void 0===l?void 0:l.imageKey}})),U((t=>!t))})).catch({})}},errorShow:S.attach}),(0,b.jsx)(j.Z,{onSelect:t=>{E((n=>({...n,batch:t})))},departmentId:r,errorShow:S.batch,defalutValue:null===A||void 0===A||null===(n=A.batch)||void 0===n||null===(l=n.u_batch)||void 0===l?void 0:l.batchName}),(0,b.jsx)(v.Z,{label:C("student_count"),placeholder:C("student_count_placeholder"),name:"student_count",value:A.student_count,type:"text",onChange:D,errorShow:S.student_count}),(0,b.jsx)(v.Z,{label:C("staff_count"),placeholder:C("staff_count_placeholder"),name:"staff_count",value:A.staff_count,type:"text",onChange:D,errorShow:S.staff_count}),(0,b.jsx)(m.Z,{label:Z?"update":"add",onAction:()=>{var t,n;let l=(0,u.l)(A,["linkUrl","attach","org_name","institution_industry","durations","batch","student_count","staff_count"]);var e,o,a,s;(0,u.x)(l)&&r&&null!==A&&void 0!==A&&null!==(t=A.batch)&&void 0!==t&&null!==(n=t.u_batch)&&void 0!==n&&n._id?Z?k({...A,link:A.linkUrl,batch:null===A||void 0===A||null===(e=A.batch)||void 0===e||null===(o=e.u_batch)||void 0===o?void 0:o._id,student_count:null!==A&&void 0!==A&&A.student_count?+(null===A||void 0===A?void 0:A.student_count):0,staff_count:null!==A&&void 0!==A&&A.staff_count?+(null===A||void 0===A?void 0:A.staff_count):0}):(U((t=>!t)),R({did:r,bodyParameter:{...A,link:A.linkUrl,batch:null===A||void 0===A||null===(a=A.batch)||void 0===a||null===(s=a.u_batch)||void 0===s?void 0:s._id,student_count:null!==A&&void 0!==A&&A.student_count?+(null===A||void 0===A?void 0:A.student_count):0,staff_count:null!==A&&void 0!==A&&A.staff_count?+(null===A||void 0===A?void 0:A.staff_count):0}}).then((()=>{d(),U((t=>!t)),i()})).catch({})):N(l)}})]}),w&&(0,b.jsx)(h.default,{})]})})})};var y=l(56959),Z=l(2034),C=l(89064);const S=t=>{let{did:n,onClose:l,menuData:i,onRefetch:a}=t;const{t:d}=(0,f.$G)(),[s,r]=(0,e.useState)(!1),[u,c]=(0,e.useState)(""),[v]=(0,o.Aw)(),[h]=(0,o.OE)(),_=()=>{c("")};return(0,b.jsx)(b.Fragment,{children:1===u?(0,b.jsx)(k,{isEdit:!0,did:n,onEditAction:t=>{null!==i&&void 0!==i&&i._id&&n&&(_(),r((t=>!t)),h({did:n,bodyParameter:{...t,mid:null===i||void 0===i?void 0:i._id}}).then((()=>{a(),r((t=>!t)),l()})).catch({}))},menuData:i,onClose:_}):(0,b.jsxs)(C.Z,{onClose:l,disabled:s,children:[(0,b.jsx)("h6",{onClick:()=>c(1),children:d("edit")}),(0,b.jsx)("h6",{onClick:()=>{null!==i&&void 0!==i&&i._id&&n&&(r((t=>!t)),v({did:n,bodyParameter:{mid:null===i||void 0===i?void 0:i._id}}).then((()=>{a(),r((t=>!t)),l()})).catch({}))},children:d("delete")})]})})};var N=l(16917);const w=t=>{var n,l,o,i,a;let{pso:d,onRefetch:s,did:r}=t;const{t:u}=(0,f.$G)(),[c,v]=(0,e.useState)(!1),h=()=>{v((t=>!t))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:Z.Z.smc_card,style:{alignItems:"flex-start"},children:[(0,b.jsx)("div",{className:Z.Z.smc_card_contatiner,children:(0,b.jsx)("div",{className:Z.Z.smc_card_contatiner,children:(0,b.jsxs)("div",{className:Z.Z.smc_card_contatiner_inner,children:[(0,b.jsxs)("h6",{children:[u("org_name")," ",": ",null!==(n=null===d||void 0===d?void 0:d.org_name)&&void 0!==n?n:""]}),(0,b.jsxs)("p",{children:[u("sr_no_only")," ",": ",null!==(l=null===d||void 0===d?void 0:d.srn)&&void 0!==l?l:""]}),(0,b.jsxs)("p",{children:[u("institution_industry")," ",": ",null!==(o=null===d||void 0===d?void 0:d.institution_industry)&&void 0!==o?o:""]}),(0,b.jsxs)("p",{children:[u("durations")," ",": ",null===d||void 0===d?void 0:d.durations]}),(0,b.jsxs)("p",{children:[u("batch")," ",": ",null!==(i=null===d||void 0===d||null===(a=d.batch)||void 0===a?void 0:a.batchName)&&void 0!==i?i:""]}),(0,b.jsxs)("p",{children:[u("student_count")," ",": ",null===d||void 0===d?void 0:d.student_count]}),(0,b.jsxs)("p",{children:[u("staff_count")," ",": ",null===d||void 0===d?void 0:d.staff_count]}),null!==d&&void 0!==d&&d.link?(0,b.jsxs)("p",{children:[u("link")," ",": ",(0,b.jsx)("a",{href:null===d||void 0===d?void 0:d.link,target:"_blank",rel:"noopener noreferrer",style:{color:"#0942a6"},children:null===d||void 0===d?void 0:d.link})]}):null,null!==d&&void 0!==d&&d.attach?(0,b.jsx)(N.Z,{label:"".concat(u("attachment")," :"),value:{key:null===d||void 0===d?void 0:d.attach},customFormInputContainer:{marginBlock:"0"}}):null]})})}),(0,b.jsx)("img",{src:"".concat(_.J7,"/menu.svg"),alt:"menu icon",onClick:h})]}),c&&(0,b.jsx)(S,{onClose:h,did:r,menuData:d,onRefetch:s})]})};var U=l(23441),A=l(91427),E=l(57588);const R=t=>{var n,l,u,c;let{did:v}=t;const{t:x}=(0,f.$G)(),[j,p]=(0,e.useState)(!1),[g,Z]=(0,e.useState)(""),[C,S]=(0,e.useState)(1),[N,R]=(0,e.useState)(!0),[F,D]=(0,U.YD)({skip:g}),{departmentAllMouList:L,departmentAllMouListLoading:T,departmentAllMouListRefetch:G}=(0,o.TV)({data:{did:v,page:C,limit:10,search:g,batch:""},skip:!v});(0,e.useEffect)((()=>{D&&N&&S((t=>t+1))}),[D,N]),(0,e.useEffect)((()=>{var t;if(null!==L&&void 0!==L&&null!==(t=L.list)&&void 0!==t&&t.length){var n;let t=(0,A.f)(null===L||void 0===L||null===(n=L.list)||void 0===n?void 0:n.length);R((()=>t))}}),[null===L||void 0===L||null===(n=L.list)||void 0===n?void 0:n.length]);const $=(0,e.useCallback)((0,E.J)((t=>{S((()=>1)),Z(t)}),1500),[]),B=()=>{S((()=>1)),Z(""),G()},I=()=>{p((t=>!t))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(d.default,{children:[(0,b.jsx)(s.default,{children:(0,b.jsxs)("div",{className:y.Z.fm_header_container,children:[(0,b.jsx)("h6",{children:x("mou_collabration")}),(0,b.jsxs)("div",{className:y.Z.fm_search,children:[(0,b.jsx)("section",{className:y.Z.fm_search_container,children:(0,b.jsxs)("div",{className:y.Z.fm_search_container_inner,children:[(0,b.jsx)("img",{className:y.Z.fm_search_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,b.jsx)("input",{type:"text",placeholder:x("search"),onChange:t=>{t.target.value?$(t.target.value):(S((()=>1)),Z(""))}})]})}),(0,b.jsx)(m.Z,{label:"add",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:I})]})]})}),(0,b.jsx)(a.Z,{}),(0,b.jsxs)(s.default,{customStyle:{paddingTop:"0.3rem"},children:[null===L||void 0===L||null===(l=L.list)||void 0===l?void 0:l.map(((t,n)=>{var l;return(null===L||void 0===L||null===(l=L.list)||void 0===l?void 0:l.length)===n+1?(0,b.jsx)("div",{ref:F,children:(0,b.jsx)(w,{pso:t,did:v,onRefetch:B})},null===t||void 0===t?void 0:t._id):(0,b.jsx)(w,{pso:t,did:v,onRefetch:B},null===t||void 0===t?void 0:t._id)})),T?g?(0,b.jsx)(h.default,{}):(0,b.jsx)(i.Z,{}):g?0===(null===L||void 0===L||null===(u=L.list)||void 0===u?void 0:u.length)&&(0,b.jsx)(r.Z,{title:"No data found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===L||void 0===L||null===(c=L.list)||void 0===c?void 0:c.length)&&(0,b.jsx)(r.Z,{title:"No data.",customStyleContainer:{marginTop:"1.5rem"}})]})]}),j&&(0,b.jsx)(k,{onClose:I,did:v,onRefetch:B})]})}}}]);
//# sourceMappingURL=11603.33f22aee.chunk.js.map