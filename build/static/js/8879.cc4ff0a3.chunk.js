"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[8879],{51317:function(e,t,n){var o=n(72791),i=n(27331),l=n(39230),r=n(93638),u=n(80184),a=function(e){var t=e.title,n=e.subTitle,o=e.titleStyle,a=e.subTitleStyle,s=e.isCreate,c=e.onCreate,d=e.children,v=(0,l.$G)().t;return(0,u.jsxs)("div",{className:i.Z.auth_card_wrapper,children:[s?(0,u.jsxs)("div",{className:i.Z.auth_create_container,children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h6",{className:i.Z.auth_card_title,style:o,children:v(t||"hello")}),(0,u.jsx)("h6",{className:i.Z.auth_card_subtitle,style:a,children:n||v("welcome_to_qviple")})]}),(0,u.jsx)(r.Z,{label:"create_new_account",customStyle:{margin:"0"},onAction:c})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h6",{className:i.Z.auth_card_title,style:o,children:v(t||"hello")}),(0,u.jsx)("h6",{className:i.Z.auth_card_subtitle,style:a,children:n||v("welcome_to_qviple")})]}),d]})};t.Z=(0,o.memo)(a)},70887:function(e,t,n){n.r(t);var o=n(1413),i=n(29439),l=n(72791),r=n(96873),u=n(51317),a=n(39230),s=n(85794),c=n(61578),d=n(27331),v=n(99183),h=n(53982),f=n(98684),m=n(19335),p=n(61932),_=n(16871),Z=n(53141),x=n(79992),b=n(80184);t.default=function(){var e,t,n,g,j,N,S=(0,a.$G)().t,y=(0,_.s0)(),C=(0,_.TH)(),w=(0,l.useState)({userOtpCode:""}),q=(0,i.Z)(w,2),O=q[0],T=q[1],k=(0,l.useState)(!1),D=(0,i.Z)(k,2),G=(D[0],D[1]),H=(0,l.useState)(""),I=(0,i.Z)(H,2),$=I[0],P=I[1],R=(0,l.useState)({open:!1,msg:"",variant:"error"}),z=(0,i.Z)(R,2),F=z[0],M=z[1],U=(0,h.Dr)(),A=(0,i.Z)(U,1)[0],E=(0,h.Pv)(),L=(0,i.Z)(E,1)[0];return(0,b.jsx)(r.Z,{children:(0,b.jsx)(u.Z,{title:"forget_password_verification_code",subTitle:"".concat(S("verification_code_note")).concat(null!==(e=null===(t=C.state)||void 0===t?void 0:t.type)&&void 0!==e?e:"").concat(S("ending")," ").concat(null===(n="".concat(null===C||void 0===C||null===(g=C.state)||void 0===g?void 0:g.phoneNumber))||void 0===n?void 0:n.substring((null===(j="".concat(null===C||void 0===C||null===(N=C.state)||void 0===N?void 0:N.phoneNumber))||void 0===j?void 0:j.length)-4)),subTitleStyle:{fontSize:"0.7rem"},titleStyle:{fontSize:"1rem"},children:(0,b.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault();var n,o=(0,v.l)(O);(0,v.x)(o)&&null!==(t=C.state)&&void 0!==t&&t.uid?(G((function(e){return!e})),A({uid:null===(n=C.state)||void 0===n?void 0:n.uid,otp:O}).then((function(e){var t,n,o,i=(0,x.ZH)(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.encrypt);null!==i&&void 0!==i&&null!==(n=i.user)&&void 0!==n&&n._id?y("/user/forget/password",{state:{uid:null===i||void 0===i||null===(o=i.user)||void 0===o?void 0:o._id}}):M({msg:"Invalid Otp",open:!0,variant:"error"});G((function(e){return!e}))})).catch((function(e){M({msg:"Time out of request with reason ".concat(e),open:!0,variant:"error"}),G((function(e){return!e}))}))):P(o)},className:d.Z.auth_login_form,children:[(0,b.jsx)(c.Z,{placeholder:S("verification_code"),fieldIconUrl:"".concat(f.nj,"/auth-otp.svg"),maxLength:"4",validate:$.userOtpCode,name:"userOtpCode",value:O.userOtpCode,onChange:function(e){T((function(t){return(0,o.Z)((0,o.Z)({},t),{},{userOtpCode:e.target.value})}))}}),(0,b.jsx)("div",{className:d.Z.auth_footer_container,children:(0,b.jsxs)("p",{className:d.Z.auth_otp_text,children:[S("if_you_did_not_recieve_otp"),(0,b.jsx)(p.Z,{onOtpResend:function(){var e,t,n;null!==C&&void 0!==C&&null!==(e=C.state)&&void 0!==e&&e.phoneNumber&&L({userPhoneNumber:"".concat(null===C||void 0===C||null===(t=C.state)||void 0===t?void 0:t.phoneNumber),status:"Not Verified",is_qid:(0,Z.CG)("".concat(null===C||void 0===C||null===(n=C.state)||void 0===n?void 0:n.phoneNumber))}).then((function(e){var t,n,o,i,l,r=(0,x.ZH)(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.encrypt);null!==r&&void 0!==r&&r.userPhoneNumber&&M({open:!0,msg:"Code will be resent to xxxx- ".concat(null===(n="".concat(null===C||void 0===C||null===(o=C.state)||void 0===o?void 0:o.phoneNumber))||void 0===n?void 0:n.substring((null===(i="".concat(null===C||void 0===C||null===(l=C.state)||void 0===l?void 0:l.phoneNumber))||void 0===i?void 0:i.length)-4)),variant:"success"})})).catch((function(){M({open:!0,msg:"Time out of request...",variant:"error"})}))}})]})}),(0,b.jsx)(m.Z,{type:"submit",buttonText:S("verify")}),(0,b.jsx)(s.Z,{eventState:F,eventStateHandler:M})]})})})}},61932:function(e,t,n){var o=n(29439),i=n(72791),l=n(39230),r=n(27331),u=n(80184),a=function(e){var t=e.onOtpResend,n=(0,l.$G)().t,a=(0,i.useState)(""),s=(0,o.Z)(a,2),c=s[0],d=s[1],v=(0,i.useRef)(null),h=function(e){var t=function(e){var t=Date.parse(e)-Date.parse(new Date);return{total:t,seconds:Math.floor(t/1e3%60)}}(e),n=t.total,o=t.seconds;n>=0&&d(o)},f=function(e){d("40"),v.current&&clearInterval(v.current);var t=setInterval((function(){h(e)}),1e3);v.current=t},m=function(){var e=new Date;return e.setSeconds(e.getSeconds()+40),e};(0,i.useEffect)((function(){f(m())}),[]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("span",{className:r.Z.auth_otp_resend,onClick:function(){c||(t(),f(m()))},children:[" ",n("resend")," "]}),(0,u.jsx)("span",{className:r.Z.auth_otp_resend,children:c})]})};t.Z=(0,i.memo)(a)},53141:function(e,t,n){n.d(t,{CG:function(){return l},ZM:function(){return r},jU:function(){return i}});var o=["!","@","#","$","%","^","&","*","(",")","+","~",".",",","/",":",";"],i=function(e){return!!o.includes(e)},l=function(e){return(null===e||void 0===e||!e.includes("@"))&&8===(null===e||void 0===e?void 0:e.length)},r=function(e){return null!==e&&void 0!==e&&e.includes("@")?"e-mail":8===(null===e||void 0===e?void 0:e.length)?"qviple id":"mobile number"}}}]);
//# sourceMappingURL=8879.cc4ff0a3.chunk.js.map