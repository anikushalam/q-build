"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[26097],{26097:(i,t,o)=>{o.r(t),o.d(t,{default:()=>w});var l=o(72791);const e={complaints:"SwitchAccount_complaints__FOCV9",swichModal:"SwitchAccount_swichModal__nF+az",swichModalTop:"SwitchAccount_swichModalTop__04Wup",swichModalBody:"SwitchAccount_swichModalBody__UXEej",swichModalItem:"SwitchAccount_swichModalItem__2hXtK",swichModalText:"SwitchAccount_swichModalText__kn6r2",search_container:"SwitchAccount_search_container__U4FLB",search_container_text:"SwitchAccount_search_container_text__ifPi5",search_container_input:"SwitchAccount_search_container_input__Jrtnb",searchIcon:"SwitchAccount_searchIcon__wfOTB"};var n=o(5574),s=o(87232),d=o(69721),c=o(39230),a=o(95048),u=o(16871),v=o(74289),r=o(98734),h=o(11105),_=o(80184);function m(i){var t,o,n,s,c,h,m,f,w,x,p,N;let{data:j}=i;const M=(0,u.s0)(),g=(0,u.UO)(),y=(0,a.v9)((i=>i.idChange.id)),[P,I]=(0,l.useState)(""),[S,A]=(0,l.useState)(!1),{getActivatedMemberAccountRefetch:k}=(0,v.iH)({data:{id:y,active_member_role:P},skip:!P}),C=i=>{I(i)};return(0,l.useEffect)((()=>{P&&(A((i=>!i)),k(),setTimeout((()=>{M("/q/".concat(g.username,"/memberstab"),{state:{selectedAccount:P}}),A((i=>!i))}),1e3))}),[P,k]),(0,_.jsxs)(_.Fragment,{children:[null!==j&&void 0!==j&&j.studentFirstName?(0,_.jsxs)("div",{className:e.swichModalItem,onClick:()=>C(null===j||void 0===j?void 0:j._id),children:[(0,_.jsx)("img",{id:"profileImg",alt:"",src:null!==j&&void 0!==j&&null!==(t=j.institute)&&void 0!==t&&t.insProfilePhoto?"".concat(d.yI,"/").concat(null===j||void 0===j||null===(o=j.institute)||void 0===o?void 0:o.insProfilePhoto):null!==j&&void 0!==j&&null!==(n=j.student_unit)&&void 0!==n&&n.hostel_unit_photo?"".concat(d.yI,"/").concat(null===j||void 0===j||null===(s=j.student_unit)||void 0===s?void 0:s.hostel_unit_photo):null!==j&&void 0!==j&&j.studentProfilePhoto?"".concat(d.yI,"/").concat(null===j||void 0===j?void 0:j.studentProfilePhoto):"/images/ins_default_profile.svg"}),(0,_.jsxs)("div",{className:e.swichModalText,children:[(0,_.jsx)("h6",{children:null!==(c=null!==(h=null===j||void 0===j||null===(m=j.institute)||void 0===m?void 0:m.insName)&&void 0!==h?h:"".concat(null!==j&&void 0!==j&&null!==(f=j.student_unit)&&void 0!==f&&f.hostel_unit_name?"".concat(null===j||void 0===j||null===(w=j.student_unit)||void 0===w?void 0:w.hostel_unit_name," (Hostel)"):""))&&void 0!==c?c:""}),(0,_.jsxs)("p",{children:[null===j||void 0===j?void 0:j.studentFirstName," ",null===j||void 0===j?void 0:j.studentMiddleName," ",null===j||void 0===j?void 0:j.studentLastName," ","(student)"]})]})]}):null!==j&&void 0!==j&&j.staffFirstName?(0,_.jsxs)("div",{className:e.swichModalItem,onClick:()=>C(null===j||void 0===j?void 0:j._id),children:[(0,_.jsx)("img",{id:"profileImg",alt:"",src:null!==j&&void 0!==j&&null!==(x=j.institute)&&void 0!==x&&x.insProfilePhoto?"".concat(d.yI,"/").concat(null===j||void 0===j||null===(p=j.institute)||void 0===p?void 0:p.insProfilePhoto):null!==j&&void 0!==j&&j.staffProfilePhoto?"".concat(d.yI,"/").concat(null===j||void 0===j?void 0:j.staffProfilePhoto):"/images/ins_default_profile.svg"}),(0,_.jsxs)("div",{className:e.swichModalText,children:[(0,_.jsx)("h6",{children:null===j||void 0===j||null===(N=j.institute)||void 0===N?void 0:N.insName}),(0,_.jsxs)("p",{children:[null===j||void 0===j?void 0:j.staffFirstName," ",null===j||void 0===j?void 0:j.staffMiddleName," ",null===j||void 0===j?void 0:j.staffLastName," ","(staff)"]})]})]}):"",S&&(0,_.jsx)(r.Z,{})]})}const f=function(){const{t:i}=(0,c.$G)(),t=(0,u.s0)(),o=(0,a.v9)((i=>i.idChange.id)),[d,v]=(0,l.useState)(!0),[r,f]=(0,l.useState)([]),{data:w,refetch:x}=(0,s.I)(o,{skip:!o});return(0,l.useEffect)((()=>{o&&(v(!0),x())}),[x,o]),(0,l.useEffect)((()=>{var i;null!==w&&void 0!==w&&w.role_query?(f(null===w||void 0===w?void 0:w.role_query),v(!1)):0===(null===w||void 0===w||null===(i=w.role_query)||void 0===i?void 0:i.length)&&v(!1)}),[null===w||void 0===w?void 0:w.role_query]),(0,_.jsx)(n.Z,{open:!0,onClose:()=>t(-1),children:(0,_.jsxs)("div",{className:e.swichModal,children:[(0,_.jsx)("div",{className:e.swichModalTop,onClick:()=>t(-1),children:i("switch_account")}),(0,_.jsxs)("div",{className:e.swichModalBody,children:[(0,_.jsx)("div",{className:e.search_container,style:{marginBottom:"0.6rem"},children:(0,_.jsxs)("div",{className:e.search_container_text,children:[(0,_.jsx)("img",{className:e.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,_.jsx)("input",{type:"text",placeholder:i("search-label"),onChange:i=>{if(i.target.value){var t;const o=null===w||void 0===w||null===(t=w.role_query)||void 0===t?void 0:t.filter((t=>((i,t)=>{var o;let l=null!==i&&void 0!==i&&i.studentFirstName?"".concat(null===i||void 0===i?void 0:i.studentFirstName," ").concat(null!==i&&void 0!==i&&i.studentMiddleName?"".concat(null===i||void 0===i?void 0:i.studentMiddleName," "):"").concat(null===i||void 0===i?void 0:i.studentLastName):"".concat(null===i||void 0===i?void 0:i.staffFirstName," ").concat(null!==i&&void 0!==i&&i.staffMiddleName?"".concat(null===i||void 0===i?void 0:i.staffMiddleName," "):"").concat(null===i||void 0===i?void 0:i.staffLastName);return null!==l&&void 0!==l&&null!==(o=l.toLocaleLowerCase())&&void 0!==o&&o.includes(null===t||void 0===t?void 0:t.toLocaleLowerCase())?i:null})(t,i.target.value)));f(o)}else f(null===w||void 0===w?void 0:w.role_query)},autoFocus:!0,style:{border:"0.029vw solid rgba(0, 0, 0, 0.15)",width:"370px",marginInline:"0.5rem"}})]})}),null===r||void 0===r?void 0:r.map(((i,t)=>(0,_.jsx)(m,{data:i},t))),d&&(0,_.jsx)(h.Z,{})]})]})})};const w=function(){return(0,_.jsx)("div",{className:e.complaints,children:(0,_.jsx)(f,{})})}}}]);
//# sourceMappingURL=26097.0c2b72d2.chunk.js.map