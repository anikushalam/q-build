/*! For license information please see 2079.8d622b7b.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[2079],{81693:function(e,t,i){var n=i(1413),s=(i(72791),i(39230)),l=i(38733),a=i(80184);t.Z=function(e){var t=e.selectLabel,i=e.value,o=e.name,d=e.onChange,c=e.selectedValue,r=e.options,u=e.optionsValue,v=e.errorShow,_=e.customStyleContainer,m=e.customStyleLabel,h=e.customStyleInput,p=e.disabled,x=e.isNotTranslation,f=(0,s.$G)().t;return(0,a.jsxs)("div",{className:l.Z.join_form_container,style:(0,n.Z)({},_),children:[(0,a.jsxs)("p",{className:l.Z.join_form_select_paragraph,style:(0,n.Z)({},m),children:[t," ",v&&(0,a.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",f("form_require_label")]})]}),(0,a.jsxs)("select",{className:l.Z.join_form_select,value:i,onChange:d,name:o,disabled:p,style:(0,n.Z)({},h),children:[(0,a.jsx)("option",{selected:!0,children:c}),x?null===r||void 0===r?void 0:r.map((function(e,t){return(0,a.jsx)("option",{value:e,children:e},t)})):null===r||void 0===r?void 0:r.map((function(e,t){return(0,a.jsx)("option",{value:u?u[null===e||void 0===e?void 0:e.keys]:e,children:f(null===e||void 0===e?void 0:e.keys)},t)}))]})]})}},55222:function(e,t,i){var n=i(29439),s=i(72791),l=i(12072),a=i(77392),o=i(1874),d=i(36721),c=i(39230),r=i(80184);t.Z=function(e){var t=e.onClose,i=e.confirm,u=e.setConfirm,v=e.onSubjectComplete,_=e.type,m=(0,c.$G)().t,h=s.useState(!1),p=(0,n.Z)(h,2),x=p[0],f=p[1],g=s.useState(""),j=(0,n.Z)(g,2),N=j[0],b=j[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Z,{onClose:t}),(0,r.jsx)(l.Z,{children:(0,r.jsxs)("div",{className:a.Z.confirm_conatiner,children:[(0,r.jsxs)("div",{className:a.Z.confirm_title,children:[(0,r.jsxs)("h6",{className:a.Z.confirm_title_heading,children:[m("confirm_to_complete")," ",m(_?"Class":"subject")]}),(0,r.jsx)("img",{src:"/images/close-post-icon.svg",onClick:t,alt:"staff assign pop close icon",title:"Close"})]}),(0,r.jsx)("input",{id:"confirm",type:"text",onChange:function(e){return u(e.target.value)},value:i,placeholder:"".concat(m("Please type 'Confirm' to complete")," ").concat(m(_?"Class":"subject")),className:a.Z.confirm_input}),(0,r.jsxs)("div",{className:a.Z.setting_complete,style:{marginTop:"4.2vw"},onClick:function(){"Confirm"===i?v():(b("Please check again your spelling..."),f((function(e){return!e})))},children:[m("complete")," ",_?"Class":"Subject"]})]})}),(0,r.jsx)(d.SY,{run:x,msg:N,setRun:f})]})}},26249:function(e,t,i){i.r(t),i.d(t,{default:function(){return mi}});var n=i(72791),s=i(42817),l=i(16871),a="ClassTeacher_departmenthead__cMdWm",o=i(29439),d=i(1413),c="MiddleContent_MiddleContent__2DP-Y",r="MiddleContent_MiddleContentLeft__lQSGe",u="MiddleContent_tabs__M3LsI",v="MiddleContent_item__cngH1",_="MiddleContent_itemIcon__jHUgS",m="MiddleContent_classList__CTQnz",h="MiddleContent_classListItem__JMvyM",p="Tabs_mcqToptabs__kCILw",x="Tabs_mcqTop__pEIhI",f="Tabs_mcqTopItem__Mzkea",g="Tabs_active__M3alp",j=i(39230),N=i(80184);var b=function(e){var t=e.activeIndex,i=e.setActiveIndex,n=(0,j.$G)().t;return(0,N.jsx)("div",{className:x,children:(0,N.jsxs)("div",{className:p,children:[(0,N.jsx)("div",{className:0===t?"".concat(f," ").concat(g):f,onClick:function(){return i(0)},children:n("menu")}),(0,N.jsx)("div",{className:1===t?"".concat(f," ").concat(g):f,onClick:function(){return i(1)},children:n("subjects")})]})})},S=i(69721),C=i(60726);var y=function(e){var t,i=e.classProfile,s=e.carryParentState,l=(0,j.$G)().t,a=(0,n.useState)(0),p=(0,o.Z)(a,2),x=p[0],f=p[1];return(0,N.jsx)("div",{className:c,children:(0,N.jsxs)("div",{className:r,children:[(0,N.jsx)("div",{className:u,children:(0,N.jsx)(b,{activeIndex:x,setActiveIndex:f})}),0===x&&(0,N.jsxs)("div",{className:v,children:[(0,N.jsx)(C.Z,{carryParentState:s,activeTab:"catalog",children:(0,N.jsxs)("div",{className:_,children:[(0,N.jsx)("img",{src:"/images/member_tab/class/class-catalog-icon.svg",alt:"Class Catalog"}),(0,N.jsx)("p",{children:l("class_catalog")})]})}),(0,N.jsx)(C.Z,{carryParentState:s,activeTab:"batch",children:(0,N.jsxs)("div",{className:_,children:[(0,N.jsx)("img",{src:"/images/master-24-grey-icon.svg",alt:"Class Catalog"}),(0,N.jsx)("p",{children:l("hostel_tab_batch")})]})}),(0,N.jsx)(C.Z,{carryParentState:s,activeTab:"attendance",children:(0,N.jsxs)("div",{className:_,children:[(0,N.jsx)("img",{src:"/images/member_tab/class/class-attendance-icon.svg",alt:"attendence"}),(0,N.jsxs)("p",{children:[" ",l("attendance")," "]})]})}),(0,N.jsx)(C.Z,{carryParentState:s,activeTab:"leave",children:(0,N.jsxs)("div",{className:_,children:[(0,N.jsx)("img",{src:"/images/member_tab/class/class-leave-transfer-icon.svg",alt:"student Request"}),(0,N.jsx)("p",{children:l("leaves_and_transfer")})]})}),(0,N.jsx)(C.Z,{carryParentState:s,activeTab:"fees",children:(0,N.jsxs)("div",{className:_,children:[(0,N.jsx)("img",{src:"/images/member_tab/department/department-fees-icon.svg",alt:"fees"}),(0,N.jsx)("p",{children:l("class_fees")})]})}),(0,N.jsx)(C.Z,{carryParentState:s,activeTab:"time-table",children:(0,N.jsxs)("div",{className:_,children:[(0,N.jsx)("img",{src:"/images/member_tab/class/class-timetable-icon.svg",alt:"settings"}),(0,N.jsx)("p",{children:l("time_table")})]})}),(0,N.jsx)(C.Z,{carryParentState:s,activeTab:"checklist",children:(0,N.jsxs)("div",{className:_,children:[(0,N.jsx)("img",{src:"/images/member_tab/department/department-checklist-icon.svg",alt:"fees"}),(0,N.jsx)("p",{children:l("checklist")})]})}),(0,N.jsx)(C.Z,{carryParentState:s,activeTab:"behaviour",children:(0,N.jsxs)("div",{className:_,children:[(0,N.jsx)("img",{src:"/images/member_tab/class/class-behaviour-icon.svg",alt:"Behaviour"}),(0,N.jsx)("p",{children:l("behaviour")})]})}),(0,N.jsx)(C.Z,{carryParentState:s,activeTab:"report",children:(0,N.jsxs)("div",{className:_,children:[(0,N.jsx)("img",{src:"/images/member_tab/class/class-report-icon.svg",alt:"final report"}),(0,N.jsx)("p",{children:l("final_report")})]})}),(0,N.jsx)(C.Z,{carryParentState:s,activeTab:"promote",children:(0,N.jsxs)("div",{className:_,children:[(0,N.jsx)("img",{src:"/images/member_tab/class/class-promote-icon.svg",alt:"settings"}),(0,N.jsx)("p",{children:l("promote_student")})]})}),(0,N.jsx)(C.Z,{carryParentState:s,activeTab:"complaint",children:(0,N.jsxs)("div",{className:_,children:[(0,N.jsx)("img",{src:"/images/member_tab/department/department-complaint-icon.svg",alt:"settings"}),(0,N.jsx)("p",{children:l("complaints")})]})}),(0,N.jsx)(C.Z,{carryParentState:s,activeTab:"setting",children:(0,N.jsxs)("div",{className:_,children:[(0,N.jsx)("img",{src:"/images/member_tab/class/class-setting-icon.svg",alt:"settings"}),(0,N.jsx)("p",{children:l("setting")})]})}),(0,N.jsx)(C.Z,{carryParentState:s,activeTab:"request",children:(0,N.jsxs)("div",{className:_,children:[(0,N.jsx)("img",{src:"/images/member_tab/class/class-request-icon.svg",alt:"student Request"}),(0,N.jsx)("p",{children:l("request")})]})})]}),1===x&&(0,N.jsx)("div",{className:m,children:null===i||void 0===i||null===(t=i.subject)||void 0===t?void 0:t.map((function(e){var t,i,n,l,a,o,c,r,u,v,_,m,p,x;return(0,N.jsx)(C.Z,{carryParentState:(0,d.Z)((0,d.Z)({},s),{},{subjectId:null===e||void 0===e?void 0:e._id,subjectName:"".concat(null===e||void 0===e?void 0:e.subjectName," ").concat(null!==e&&void 0!==e&&e.subject_category?"(".concat(null===e||void 0===e?void 0:e.subject_category,")"):""," ").concat(null!==e&&void 0!==e&&null!==(t=e.selected_batch_query)&&void 0!==t&&t.batchName?"(".concat(null===e||void 0===e||null===(i=e.selected_batch_query)||void 0===i?void 0:i.batchName,")"):""," ").concat("Optional"===(null===e||void 0===e?void 0:e.subjectOptional)?"(".concat(null===e||void 0===e?void 0:e.subjectOptional,")"):""),batchId:null===e||void 0===e||null===(n=e.selected_batch_query)||void 0===n?void 0:n._id}),activeTab:"subject-detail",children:(0,N.jsxs)("div",{className:h,children:[(0,N.jsx)("img",{src:null!==e&&void 0!==e&&null!==(l=e.subjectTeacherName)&&void 0!==l&&l.staffProfilePhoto?"".concat(S.yI,"/").concat(null===e||void 0===e||null===(a=e.subjectTeacherName)||void 0===a?void 0:a.staffProfilePhoto):"/images/subject-icon.svg",alt:"subject head avatar"}),(0,N.jsxs)("div",{children:[(0,N.jsxs)("h6",{children:[" ",null!==(o=null===e||void 0===e?void 0:e.subjectName)&&void 0!==o?o:""," ",null!==e&&void 0!==e&&e.subject_category?"(".concat(null===e||void 0===e?void 0:e.subject_category,")"):"",null!==e&&void 0!==e&&null!==(c=e.selected_batch_query)&&void 0!==c&&c.batchName?(0,N.jsxs)("span",{style:{fontWeight:"400",fontSize:"12px"},children:[" ","(",null!==(r=null===e||void 0===e||null===(u=e.selected_batch_query)||void 0===u?void 0:u.batchName)&&void 0!==r?r:"",")"]}):null,"Optional"===(null===e||void 0===e?void 0:e.subjectOptional)&&"(".concat(null===e||void 0===e?void 0:e.subjectOptional,")")]}),(0,N.jsx)("p",{children:"".concat(null!==(v=null===e||void 0===e||null===(_=e.subjectTeacherName)||void 0===_?void 0:_.staffFirstName)&&void 0!==v?v:""," ").concat((null===e||void 0===e||null===(m=e.subjectTeacherName)||void 0===m?void 0:m.staffMiddleName)||""," ").concat(null!==(p=null===e||void 0===e||null===(x=e.subjectTeacherName)||void 0===x?void 0:x.staffLastName)&&void 0!==p?p:"")})]})]})},e._id)}))})]})})},R=i(21640),Z=i(24582);var k=function(e){var t,i=e.classProfile,s=e.carryParentState,l=(0,j.$G)().t,a=(0,Z.YP)(),d=(0,o.Z)(a,1)[0],c=(0,n.useState)(""),r=(0,o.Z)(c,2),u=r[0],v=r[1],_=(0,n.useState)(""),m=(0,o.Z)(_,2),h=m[0],p=m[1],x=(0,n.useState)(!1),f=(0,o.Z)(x,2),g=f[0],b=f[1],S=(0,n.useState)(!1),C=(0,o.Z)(S,2),k=C[0],A=C[1],F=(0,n.useState)(""),P=(0,o.Z)(F,2),L=P[0],T=P[1];return(0,n.useEffect)((function(){if(k){var e=new FormData;e.append("file",h),d({cover:e,cid:null===i||void 0===i?void 0:i._id}).then((function(){})).catch({})}}),[k,h]),(0,N.jsxs)("div",{children:[(0,N.jsx)(R.Z,{coverKey:null===i||void 0===i?void 0:i.cover,coverId:null===i||void 0===i?void 0:i.coverId,defaultCover:"/images/profileAndCover/classroom-cover.png",textLarge:null===i||void 0===i?void 0:i.classTitle,batchStatus:"true",textSmall:null===i||void 0===i||null===(t=i.batch)||void 0===t?void 0:t.batchName,count1:null===i||void 0===i?void 0:i.studentCount,count1label:l("students"),count2:null===i||void 0===i?void 0:i.subjectCount,count2label:l("subjects"),profilePhoto:L,profileChange:function(e){var t=URL.createObjectURL(e.target.files[0]);p(e.target.files[0]),T(t),v(t),b(!0)},openCrop:g,setOpenCrop:b,setPhotoURL:v,photoURL:u,setFile:p,setUpload:A,setProfilePhoto:T}),(0,N.jsx)(y,{classProfile:i,carryParentState:s})]})},A=i(4942),F={promoteSetting:"ClassSetting_promoteSetting__xvfGl",promoteSettingLeft:"ClassSetting_promoteSettingLeft__aYK77",promoteSettingRight:"ClassSetting_promoteSettingRight__ZldIK",promoteSettingLeft2:"ClassSetting_promoteSettingLeft2__sFb5g",input:"ClassSetting_input__BRySd",down:"ClassSetting_down__LIHy9",options:"ClassSetting_options__Wid7t",option:"ClassSetting_option__YcMhc",completebtn:"ClassSetting_completebtn__Kc9AO",startDate1:"ClassSetting_startDate1__AcpOi",startDate:"ClassSetting_startDate__qezK5",row:"ClassSetting_row__d+uLt",selectStudentsHead:"ClassSetting_selectStudentsHead__tOJYk",save:"ClassSetting_save__e0xj9",item:"ClassSetting_item__E6cG-",radio:"ClassSetting_radio__I0OD5",itemContainer:"ClassSetting_itemContainer__Tu+R5",itemContainerActive:"ClassSetting_itemContainerActive__eZ4xD",addDisplay:"ClassSetting_addDisplay__zvyxS",title:"ClassSetting_title__MOXIz",inputText:"ClassSetting_inputText__HshWk",content:"ClassSetting_content__P44ff",btn:"ClassSetting_btn__rsEIE",refreshIcon:"ClassSetting_refreshIcon__C9-F6",label:"ClassSetting_label__gfrTU",inputBox:"ClassSetting_inputBox__yaiFs"},P=i(98094),L=i(89891),T=i(36721),q=i(55222),I=i(98734),w={inputProps:{"aria-label":"Switch demo"}};var M=function(e){var t=e.cid,i=(e.startDate,e.classCode),s=e.classStatus,a=(0,j.$G)().t,c=(0,l.s0)(),r=(0,l.UO)(),u=(0,n.useState)(i),v=(0,o.Z)(u,2),_=v[0],m=v[1],h=(0,n.useState)({finalReport:!1,behaviour:!1,attendance:!1,gradeMarks:!1,aggregatePassingPercentage:0}),p=(0,o.Z)(h,2),x=p[0],f=p[1],g=(0,n.useState)(!1),b=(0,o.Z)(g,2),S=b[0],C=b[1],y=(0,n.useState)(!1),R=(0,o.Z)(y,2),k=R[0],M=R[1],D=(0,n.useState)(""),O=(0,o.Z)(D,2),B=O[0],E=O[1],G=(0,n.useState)({msg:"",run:!1,type:"error"}),z=(0,o.Z)(G,2),W=z[0],U=z[1],Y=(0,Z.W9)(),Q=(0,o.Z)(Y,1)[0],H=(0,Z.ze)(),V=(0,o.Z)(H,1)[0],$=(0,Z.Ag)(),J=(0,o.Z)($,1)[0],K=(0,Z.RS)({data:{cid:t},skip:!t}),X=K.classAllSubjectComplete,ee=K.classAllSubjectCompleteRefetch,te=(0,Z.GL)({cid:t,skip:!t}),ie=te.classSettingReport,ne=te.classSettingReportRefetch;(0,n.useEffect)((function(){t&&(ee(),ne())}),[t,ee,ne]),(0,n.useEffect)((function(){var e,t,i,n,s;null!==ie&&void 0!==ie&&ie.finalReportsSettings&&f({finalReport:null===ie||void 0===ie||null===(e=ie.finalReportsSettings)||void 0===e?void 0:e.finalReport,behaviour:null===ie||void 0===ie||null===(t=ie.finalReportsSettings)||void 0===t?void 0:t.behaviour,attendance:null===ie||void 0===ie||null===(i=ie.finalReportsSettings)||void 0===i?void 0:i.attendance,gradeMarks:null===ie||void 0===ie||null===(n=ie.finalReportsSettings)||void 0===n?void 0:n.gradeMarks,aggregatePassingPercentage:null===ie||void 0===ie||null===(s=ie.finalReportsSettings)||void 0===s?void 0:s.aggregatePassingPercentage})}),[null===ie||void 0===ie?void 0:ie.finalReportsSettings]),(0,n.useEffect)((function(){i&&m(i)}),[i]);var se=function(e){f((function(t){return(0,d.Z)((0,d.Z)({},t),{},(0,A.Z)({},e.type,e.value))})),V({setting:(0,A.Z)({},e.type,e.value),cid:t}).then((function(){})).catch({})};return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{className:F.ClassSetting,children:[(0,N.jsx)("h6",{children:a("setting")}),(0,N.jsx)(P.Z,{customStyle:{width:"100%"}}),(0,N.jsxs)("div",{className:F.promoteSetting,children:[(0,N.jsxs)("div",{className:F.promoteSettingLeft,children:[(0,N.jsxs)("div",{className:F.startDate,children:[(0,N.jsx)("div",{className:F.refreshIcon,children:(0,N.jsx)("span",{className:"text-white",children:(0,N.jsx)("img",{src:"/images/refresh-icon.svg",title:"Refresh",alt:"Refresh",onClick:function(){Q({cid:t}).then((function(e){var t;m(null===(t=e.data)||void 0===t?void 0:t.classCode)})).catch({})}})})}),(0,N.jsx)("p",{children:a("class_code")}),(0,N.jsx)("h6",{children:_})]}),(0,N.jsx)("div",{className:F.label,children:(0,N.jsx)("label",{htmlFor:"aggregate",children:a("pass_percentage")})}),(0,N.jsx)("div",{className:F.inputBox,children:(0,N.jsx)("input",{id:"aggregate",type:"tel",onChange:function(e){return se({type:"aggregatePassingPercentage",value:e.target.value})},value:x.aggregatePassingPercentage,placeholder:0})}),(0,N.jsx)("div",{className:F.completebtn,onClick:function(){"UnCompleted"!==(null===X||void 0===X?void 0:X.classStatus)||"UnCompleted"!==s?U({msg:a("already_class_completed"),run:!0,type:"success"}):C(!0)},children:a("complete_class")})]}),(0,N.jsxs)("div",{className:F.promoteSettingRight,children:[(0,N.jsxs)("div",{className:F.row,children:[(0,N.jsx)("div",{children:(0,N.jsx)("h6",{children:a("final")})}),(0,N.jsx)(L.Z,(0,d.Z)((0,d.Z)({},w),{},{onChange:function(e){return function(e){var i,n;e.value?(f((function(t){var i;return(0,d.Z)((0,d.Z)({},t),{},(i={},(0,A.Z)(i,e.type,e.value),(0,A.Z)(i,"behaviour",!0),(0,A.Z)(i,"attendance",!0),i))})),V({setting:(i={},(0,A.Z)(i,e.type,e.value),(0,A.Z)(i,"behaviour",!0),(0,A.Z)(i,"attendance",!0),i),cid:t}).then((function(){})).catch({})):(f((function(t){var i;return(0,d.Z)((0,d.Z)({},t),{},(i={},(0,A.Z)(i,e.type,e.value),(0,A.Z)(i,"behaviour",!1),(0,A.Z)(i,"attendance",!1),i))})),V({setting:(n={},(0,A.Z)(n,e.type,e.value),(0,A.Z)(n,"behaviour",!1),(0,A.Z)(n,"attendance",!1),n),cid:t}).then((function(){})).catch({}))}({type:"finalReport",value:e.target.checked})},checked:x.finalReport}))]}),(0,N.jsxs)("div",{className:F.row,children:[(0,N.jsx)("div",{children:(0,N.jsx)("h6",{children:a("grade_make_report")})}),(0,N.jsx)(L.Z,(0,d.Z)((0,d.Z)({},w),{},{onChange:function(e){return se({type:"gradeMarks",value:e.target.checked})},checked:x.gradeMarks}))]}),(0,N.jsxs)("div",{className:F.row,children:[(0,N.jsx)("div",{children:(0,N.jsx)("h6",{children:a("attendance")})}),(0,N.jsx)(L.Z,(0,d.Z)((0,d.Z)({},w),{},{onChange:function(e){return se({type:"attendance",value:e.target.checked})},checked:x.attendance}))]}),(0,N.jsxs)("div",{className:F.row,children:[(0,N.jsx)("div",{children:(0,N.jsx)("h6",{children:a("behaviour")})}),(0,N.jsx)(L.Z,(0,d.Z)((0,d.Z)({},w),{},{onChange:function(e){return se({type:"behaviour",value:e.target.checked})},checked:x.behaviour}))]})]})]}),S&&(0,N.jsx)(q.Z,{onClose:function(){return C((function(e){return!e}))},confirm:B,setConfirm:E,onSubjectComplete:function(){C((function(e){return!e})),M((function(e){return!e})),J({cid:t,status:{classStatus:"Completed"}}).then((function(e){"Can not completed class due to all subject is not completed"===e.data.message?U({msg:e.data.message,run:!0,type:"error"}):c("/q/".concat(r.username,"/feed")),M((function(e){return!e}))})).catch({})},type:"classConfirm"}),(0,N.jsx)(T.Ch,{msg:W.msg,run:W.run,setRun:function(){return U({msg:"",run:!1})},postiton:"bottom",type:W.type}),k&&(0,N.jsx)(I.Z,{})]})})},D="ClassCatalog_exminationsContainer__ChbYZ",O=i(34586),B=i(43504),E=i(93433),G=i(44820),z=i(36665),W=i(23441),U=i(33992),Y=i(763),Q=i(11105),H=function(e){var t=e.instituteId,i=e.onClose,s=e.onRefetch,l=e.cid,a=(0,j.$G)().t,d=(0,n.useState)(""),c=(0,o.Z)(d,2),r=c[0],u=c[1],v=(0,n.useState)(!1),_=(0,o.Z)(v,2),m=_[0],h=_[1],p=(0,n.useState)([]),x=(0,o.Z)(p,2),f=x[0],g=x[1],b=(0,n.useState)(""),C=(0,o.Z)(b,2),y=C[0],R=C[1],k=(0,W.YD)(),A=(0,o.Z)(k,2),F=A[0],L=A[1],T=(0,n.useState)(1),q=(0,o.Z)(T,2),w=q[0],M=q[1],D=(0,n.useState)(!0),O=(0,o.Z)(D,2),B=O[0],H=O[1],V=(0,n.useState)(!0),$=(0,o.Z)(V,2),J=$[0],K=$[1],X=(0,Z.GG)(),ee=(0,o.Z)(X,1)[0],te=(0,U.KW)({data:{id:t,page:w,limit:10,search:y},skip:!t}),ie=te.getUnapprovedStudentByInstitute,ne=te.getUnapprovedStudentByInstituteRefetch;(0,n.useEffect)((function(){t&&(K(!0),ne())}),[t,w,y,ne]),(0,n.useEffect)((function(){L&&B&&M((function(e){return e+1}))}),[L,B]),(0,n.useEffect)((function(){var e,t;y?(g(null===ie||void 0===ie?void 0:ie.studentIns),K(!1)):null!==ie&&void 0!==ie&&ie.studentIns?(g((function(e){var t,i;return null===(t=(0,E.Z)(new Set(null===(i=[].concat((0,E.Z)(e),(0,E.Z)(null===ie||void 0===ie?void 0:ie.studentIns)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),K(!1)):0===(null===ie||void 0===ie||null===(t=ie.studentIns)||void 0===t?void 0:t.length)&&K(!1);10===(null===ie||void 0===ie||null===(e=ie.studentIns)||void 0===e?void 0:e.length)?H(!0):H(!1)}),[null===ie||void 0===ie?void 0:ie.studentIns]);var se=(0,n.useCallback)((0,Y.debounce)((function(e){return R(e)}),500),[]),le=function(e){null!==r&&void 0!==r&&r.includes(e)?u((function(t){return null===t||void 0===t?void 0:t.filter((function(t){return t!==e}))})):u((function(t){return[].concat((0,E.Z)(t),[e])}))};return(0,N.jsx)(z.Z,{onClose:i,children:(0,N.jsxs)("div",{className:G.Z.assign_role_container,children:[(0,N.jsxs)("section",{className:G.Z.assign_role_title,style:{justifyContent:"space-between"},children:[(0,N.jsx)("h6",{children:a("select_unapproved_student")}),(0,N.jsxs)("div",{className:G.Z.button_container,children:[(0,N.jsx)("button",{className:G.Z.next_btn,style:{right:"10%"},onClick:function(){l&&null!==r&&void 0!==r&&r.length&&(h((function(e){return!e})),ee({cid:l,studentAdd:{unapprove:r}}).then((function(){s(),i(),h((function(e){return!e}))})).catch({}))},children:a("add")}),(0,N.jsx)("img",{src:"/images/close-post-icon.svg",onClick:i,alt:""})]})]}),(0,N.jsx)(P.Z,{customStyle:{width:"100%"}}),(0,N.jsxs)("section",{style:{padding:"0 0.8rem"},children:[(0,N.jsx)("div",{className:G.Z.search_container,style:{marginBottom:"0.6rem"},children:(0,N.jsxs)("div",{className:G.Z.search_container_text,children:[(0,N.jsx)("img",{className:G.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,N.jsx)("input",{type:"text",placeholder:a("search-label"),onChange:function(e){se(e.target.value)},autoFocus:!0,style:{border:"0.029vw solid rgba(0, 0, 0, 0.15)",width:"450px"}})]})}),null===f||void 0===f?void 0:f.map((function(e,t){var i,n;return(null===f||void 0===f?void 0:f.length)===t+1?(0,N.jsxs)("section",{className:null!==r&&void 0!==r&&r.includes(null===e||void 0===e?void 0:e._id)?"".concat(G.Z.student_container," ").concat(G.Z.select_hover_active):"".concat(G.Z.student_container," ").concat(G.Z.select_hover),ref:F,onClick:function(){return le(null===e||void 0===e?void 0:e._id)},style:{padding:"0.6rem 0",margin:"0"},children:[(0,N.jsx)("img",{src:null!==e&&void 0!==e&&e.studentProfilePhoto?"".concat(S.yI,"/").concat(null===e||void 0===e?void 0:e.studentProfilePhoto):"/images/user_default_img.svg",alt:"student avatar"}),(0,N.jsxs)("div",{className:G.Z.student_container_name,children:[(0,N.jsx)("h6",{children:"".concat(null===e||void 0===e?void 0:e.studentFirstName," ").concat(null!==e&&void 0!==e&&e.studentMiddleName?null===e||void 0===e?void 0:e.studentMiddleName:""," ").concat(null===e||void 0===e?void 0:e.studentLastName)}),(0,N.jsxs)("p",{className:G.Z.student_container_gr,children:[a("gr_number")," ",null!==(i=null===e||void 0===e?void 0:e.studentGRNO)&&void 0!==i?i:""]})]})]},null===e||void 0===e?void 0:e._id):(0,N.jsxs)("section",{className:null!==r&&void 0!==r&&r.includes(null===e||void 0===e?void 0:e._id)?"".concat(G.Z.student_container," ").concat(G.Z.select_hover_active):"".concat(G.Z.student_container," ").concat(G.Z.select_hover),onClick:function(){return le(null===e||void 0===e?void 0:e._id)},style:{padding:"0.6rem 0",margin:"0"},children:[(0,N.jsx)("img",{src:null!==e&&void 0!==e&&e.studentProfilePhoto?"".concat(S.yI,"/").concat(null===e||void 0===e?void 0:e.studentProfilePhoto):"/images/user_default_img.svg",alt:"student avatar"}),(0,N.jsxs)("div",{className:G.Z.student_container_name,children:[(0,N.jsx)("h6",{children:"".concat(null===e||void 0===e?void 0:e.studentFirstName," ").concat(null!==e&&void 0!==e&&e.studentMiddleName?null===e||void 0===e?void 0:e.studentMiddleName:""," ").concat(null===e||void 0===e?void 0:e.studentLastName)}),(0,N.jsxs)("p",{className:G.Z.student_container_gr,children:[a("gr_number")," ",null!==(n=null===e||void 0===e?void 0:e.studentGRNO)&&void 0!==n?n:""]})]})]},null===e||void 0===e?void 0:e._id)})),J&&(0,N.jsx)(Q.Z,{}),m&&(0,N.jsx)(I.Z,{})]})]})})},V=i(47167);var $=function(e){var t,i,s=e.cid,a=e.instituteId,d=e.carryParentState,c=(0,l.UO)(),r=(0,l.TH)(),u=(0,j.$G)().t,v=(0,n.useState)(!1),_=(0,o.Z)(v,2),m=_[0],h=_[1],p=(0,n.useState)(""),x=(0,o.Z)(p,2),f=x[0],g=x[1],b=(0,n.useState)(""),C=(0,o.Z)(b,2),y=C[0],R=C[1],k=(0,n.useState)(!1),A=(0,o.Z)(k,2),F=A[0],L=A[1],T=(0,n.useState)(!1),q=(0,o.Z)(T,2),w=q[0],M=q[1],D=(0,n.useState)([]),E=(0,o.Z)(D,2),G=E[0],z=E[1],W=[{name:u("catalog"),id:0,url:"member/class/".concat(c.cname,"?a=catalog")},{name:u("unapproved_student"),id:1,url:"member/class/".concat(c.cname,"?a=catalog&unapproved")}],U=(0,Z.EY)({data:{cid:s,page:1,limit:30},skip:!s}),Y=U.classAllStudent,Q=U.classAllStudentRefetch,$=(0,Z.sk)({data:{cid:s,page:1,limit:30,sort_query:f},skip:!F||!s}),J=$.classAllStudentFilter,K=$.classAllStudentFilterRefetch;(0,n.useEffect)((function(){s&&Q()}),[s,Q]),(0,n.useEffect)((function(){s&&K()}),[s,f,K]),(0,n.useEffect)((function(){null!==J&&void 0!==J&&J.students&&(z(null===J||void 0===J?void 0:J.students),h(!1))}),[null===J||void 0===J?void 0:J.students]),(0,n.useEffect)((function(){var e;F||z(null===Y||void 0===Y||null===(e=Y.classes)||void 0===e?void 0:e.ApproveStudent)}),[null===Y||void 0===Y||null===(t=Y.classes)||void 0===t?void 0:t.ApproveStudent]);var X=function(e){h(!0),y?(R("Gender_Alpha"),g("Gender_Alpha"),L(!0)):(R(e),g(e),L(!0))};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:O.Z.catalog,children:[(0,N.jsx)(V.Z,{tabList:W,activeIndexTab:"catalog"===(null===(i=r.search)||void 0===i?void 0:i.substring(3))?0:1,showAs:!0,customStyleLink:{width:"50%"},carryParentState:d}),(0,N.jsx)(P.Z,{customStyle:{width:"100%",marginBottom:"0.5rem"}}),(0,N.jsxs)("div",{className:O.Z.searchContainerr,children:[(0,N.jsxs)("div",{className:O.Z.searchContainer,children:[(0,N.jsx)("img",{alt:"",src:"/images/search-dept-icon.svg"}),(0,N.jsx)("input",{type:"text",placeholder:u("search-label"),onChange:function(e){if(F)if(e.target.value){var t,i=null===J||void 0===J||null===(t=J.students)||void 0===t?void 0:t.filter((function(t){var i,n,s;return null!==(i="".concat(null===t||void 0===t?void 0:t.studentFirstName," ").concat(null!==t&&void 0!==t&&t.studentMiddleName?(null===t||void 0===t?void 0:t.studentMiddleName)+" ":"").concat(null===t||void 0===t?void 0:t.studentLastName))&&void 0!==i&&null!==(n=i.toLowerCase())&&void 0!==n&&n.includes(null===(s=e.target.value)||void 0===s?void 0:s.toLowerCase())?t:null}));z(i)}else z(null===J||void 0===J?void 0:J.students);else if(e.target.value){var n,s,l=null===Y||void 0===Y||null===(n=Y.classes)||void 0===n||null===(s=n.ApproveStudent)||void 0===s?void 0:s.filter((function(t){var i,n,s;return null!==(i="".concat(null===t||void 0===t?void 0:t.studentFirstName," ").concat(null!==t&&void 0!==t&&t.studentMiddleName?(null===t||void 0===t?void 0:t.studentMiddleName)+" ":"").concat(null===t||void 0===t?void 0:t.studentLastName))&&void 0!==i&&null!==(n=i.toLowerCase())&&void 0!==n&&n.includes(null===(s=e.target.value)||void 0===s?void 0:s.toLowerCase())?t:null}));z(l)}else{var a;z(null===Y||void 0===Y||null===(a=Y.classes)||void 0===a?void 0:a.ApproveStudent)}}})]}),(0,N.jsxs)("div",{className:O.Z.class_catalog_funtcion,children:[(0,N.jsxs)("div",{className:O.Z.class_catalog_funtcion,children:[(0,N.jsx)("div",{className:"Gender"===y||"Gender_Alpha"===y?"".concat(O.Z.sort_conatiner," ").concat(O.Z.sort_conatiner_active):O.Z.sort_conatiner,onClick:function(){return X("Gender")},children:(0,N.jsx)("img",{src:"/images/members/gender-icon.svg",alt:"gender icon"})}),(0,N.jsx)("div",{className:"Alpha"===y||"Gender_Alpha"===y?"".concat(O.Z.sort_conatiner," ").concat(O.Z.sort_conatiner_active):O.Z.sort_conatiner,onClick:function(){return X("Alpha")},children:(0,N.jsx)("img",{src:"/images/members/alphabet-icon.svg",alt:"alphabet sorting icon"})})]}),(0,N.jsx)("div",{className:O.Z.sort_conatiner,onClick:function(){return M(!0)},children:(0,N.jsx)("span",{children:u("add_unapproved_students")})})]})]}),(0,N.jsx)("div",{className:O.Z.itemsContainer,children:null===G||void 0===G?void 0:G.map((function(e){var t,i,n,s;return(0,N.jsx)(B.rU,{to:"/q/".concat(c.username,"/student/profile"),state:{sid:null===e||void 0===e?void 0:e._id,viewAs:"CLASS_CATALOG"},children:(0,N.jsxs)("div",{className:O.Z.item,children:[(0,N.jsx)("p",{children:null===e||void 0===e?void 0:e.studentROLLNO}),(0,N.jsx)("img",{alt:"",src:null!==e&&void 0!==e&&e.studentProfilePhoto?"".concat(S.yI,"/").concat(null===e||void 0===e?void 0:e.studentProfilePhoto):"/images/user_default_img.svg"}),(0,N.jsxs)("div",{className:O.Z.student_catalog_name,children:[(0,N.jsxs)("h5",{children:[null!==(t=null===e||void 0===e?void 0:e.studentFirstName)&&void 0!==t?t:""," ",null!==(i=null===e||void 0===e?void 0:e.studentMiddleName)&&void 0!==i?i:" "," ",null!==(n=null===e||void 0===e?void 0:e.studentLastName)&&void 0!==n?n:""]}),(0,N.jsxs)("h6",{children:[u("gr_number")," ",(0,N.jsx)("span",{style:{fontWeight:"500"},children:null!==(s=null===e||void 0===e?void 0:e.studentGRNO)&&void 0!==s?s:""})]})]})]})})}))})]}),w&&(0,N.jsx)(H,{cid:s,onClose:function(){return M(!1)},instituteId:a,onRefetch:Q}),m&&(0,N.jsx)(I.Z,{})]})},J=function(e){var t,i=e.cid,s=e.carryParentState,a=(0,l.UO)(),d=(0,l.TH)(),c=(0,j.$G)().t,r=(0,n.useState)([]),u=(0,o.Z)(r,2),v=u[0],_=u[1],m=[{name:c("catalog"),id:0,url:"member/class/".concat(a.cname,"?a=catalog")},{name:c("unapproved_student"),id:1,url:"member/class/".concat(a.cname,"?a=catalog&unapproved")}],h=(0,Z.Wx)({data:{cid:i,page:1,limit:30},skip:!i}),p=h.classAllUnApprovedStudent,x=h.classAllUnApprovedStudentRefetch;(0,n.useEffect)((function(){i&&x()}),[i,x]),(0,n.useEffect)((function(){null!==p&&void 0!==p&&p.classes&&_(null===p||void 0===p?void 0:p.classes)}),[null===p||void 0===p?void 0:p.classes]);return(0,N.jsxs)("div",{className:O.Z.catalog,children:[(0,N.jsx)(V.Z,{tabList:m,activeIndexTab:"catalog"===(null===(t=d.search)||void 0===t?void 0:t.substring(3))?0:1,showAs:!0,customStyleLink:{width:"50%"},carryParentState:s}),(0,N.jsx)(P.Z,{customStyle:{width:"100%",marginBottom:"0.5rem"}}),(0,N.jsx)("div",{className:O.Z.searchContainerr,children:(0,N.jsxs)("div",{className:O.Z.searchContainer,children:[(0,N.jsx)("img",{alt:"",src:"/images/search-dept-icon.svg"}),(0,N.jsx)("input",{type:"text",placeholder:c("search-label"),onChange:function(e){if(e.target.value){var t,i=null===p||void 0===p||null===(t=p.classes)||void 0===t?void 0:t.filter((function(t){var i,n,s;return null!==(i="".concat(null===t||void 0===t?void 0:t.studentFirstName," ").concat(null!==t&&void 0!==t&&t.studentMiddleName?(null===t||void 0===t?void 0:t.studentMiddleName)+" ":"").concat(null===t||void 0===t?void 0:t.studentLastName))&&void 0!==i&&null!==(n=i.toLowerCase())&&void 0!==n&&n.includes(null===(s=e.target.value)||void 0===s?void 0:s.toLowerCase())?t:null}));_(i)}else _(null===p||void 0===p?void 0:p.classes)}})]})}),(0,N.jsx)("div",{className:O.Z.itemsContainer,children:null===v||void 0===v?void 0:v.map((function(e){var t,i,n,s;return(0,N.jsx)(B.rU,{to:"/q/".concat(a.username,"/student/profile"),state:{sid:null===e||void 0===e?void 0:e._id,viewAs:"CLASS_CATALOG"},children:(0,N.jsxs)("div",{className:O.Z.item,children:[(0,N.jsx)("p",{children:null===e||void 0===e?void 0:e.studentROLLNO}),(0,N.jsx)("img",{alt:"",src:null!==e&&void 0!==e&&e.studentProfilePhoto?"".concat(S.yI,"/").concat(null===e||void 0===e?void 0:e.studentProfilePhoto):"/images/user_default_img.svg"}),(0,N.jsxs)("div",{className:O.Z.student_catalog_name,children:[(0,N.jsxs)("h5",{children:[null!==(t=null===e||void 0===e?void 0:e.studentFirstName)&&void 0!==t?t:""," ",null!==(i=null===e||void 0===e?void 0:e.studentMiddleName)&&void 0!==i?i:" "," ",null!==(n=null===e||void 0===e?void 0:e.studentLastName)&&void 0!==n?n:""]}),(0,N.jsxs)("h6",{children:[c("gr_number")," ",(0,N.jsx)("span",{style:{fontWeight:"500"},children:null!==(s=null===e||void 0===e?void 0:e.studentGRNO)&&void 0!==s?s:""})]})]})]})})}))})]})};var K=function(e){var t,i=e.cid,n=e.instituteId,s=e.carryParentState,a=(0,l.TH)();return(0,N.jsx)("div",{className:D,children:"catalog"===(null===(t=a.search)||void 0===t?void 0:t.substring(3))?(0,N.jsx)($,{cid:i,instituteId:n,carryParentState:s}):(0,N.jsx)(J,{cid:i,instituteId:n,carryParentState:s})})},X={sRequest:"StudentRequest_sRequest__pkbjv",backflex:"StudentRequest_backflex__4nVQ3",backh:"StudentRequest_backh__pUekK",requestParent:"StudentRequest_requestParent__TqrPA",requestAction:"StudentRequest_requestAction__lvzHz",requestStudent:"StudentRequest_requestStudent__-Qx6l",requestStudentActive:"StudentRequest_requestStudentActive__QdPZP",requestStudentChild:"StudentRequest_requestStudentChild__D9cTg",requestBtn:"StudentRequest_requestBtn__GjBOW",applyDate:"StudentRequest_applyDate__8MizR",applyNameDate:"StudentRequest_applyNameDate__4WUWc",applyName:"StudentRequest_applyName__+awuS",deactiveRequest:"StudentRequest_deactiveRequest__9XrVr",activeRequest:"StudentRequest_activeRequest__fE8I2"},ee="StudentProfile_studentForm__iCvCf",te="StudentProfile_formContainer__CzlF0",ie="StudentProfile_viewRow__mxbki",ne="StudentProfile_heading__CsvU7",se="StudentProfile_imgcontainer__VY2IN",le="StudentProfile_tabContentParent__L76c3",ae="StudentProfile_requestBtn__Pz5FO";var oe=function(e){var t,i,s,l,a,d,c,r,u,v,_,m,h,p,x,f,g,b,C,y,R,k,A=e.id,F=e.did,P=e.bid,L=e.sid,T=e.cid,q=e.onRefetch,w=e.setRequestProfile,M=(0,n.useState)(!1),D=(0,o.Z)(M,2),O=D[0],B=D[1],E=(0,Z.Ee)(L),G=E.studentProfile,z=E.studentProfileRefetch,W=(0,j.$G)().t,U=(0,Z.s)(),Y=(0,o.Z)(U,1)[0],Q=(0,Z.ml)(),H=(0,o.Z)(Q,1)[0];return(0,n.useEffect)((function(){L&&z()}),[L,z]),(0,N.jsxs)("div",{className:ee,children:[(0,N.jsx)("h6",{className:ne,children:W("student_details")}),(0,N.jsx)("div",{className:se,children:(0,N.jsx)("img",{alt:"not found",src:null!==G&&void 0!==G&&null!==(t=G.student)&&void 0!==t&&t.studentProfilePhoto?"".concat(S.yI,"/").concat(null===G||void 0===G||null===(i=G.student)||void 0===i?void 0:i.studentProfilePhoto):"/images/user_default_img.svg"})}),(0,N.jsxs)("div",{className:te,children:[(0,N.jsx)("div",{className:ie,children:(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{children:W("name")}),(0,N.jsxs)("h6",{children:[null===G||void 0===G||null===(s=G.student)||void 0===s?void 0:s.studentFirstName," ",null!==G&&void 0!==G&&null!==(l=G.student)&&void 0!==l&&l.studentMiddleName?null===G||void 0===G||null===(a=G.student)||void 0===a?void 0:a.studentMiddleName:" "," ",null===G||void 0===G||null===(d=G.student)||void 0===d?void 0:d.studentLastName]})]})}),(0,N.jsxs)("div",{className:ie,children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{children:W("gender")}),(0,N.jsx)("h6",{children:null===G||void 0===G||null===(c=G.student)||void 0===c?void 0:c.studentGender})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{children:W("dob")}),(0,N.jsx)("h6",{children:null===G||void 0===G||null===(r=G.student)||void 0===r?void 0:r.studentDOB})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{children:W("mother_name")}),(0,N.jsx)("h6",{children:null===G||void 0===G||null===(u=G.student)||void 0===u?void 0:u.studentMotherName})]})]}),(0,N.jsxs)("div",{className:ie,children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{children:W("nationality")}),(0,N.jsx)("h6",{children:null===G||void 0===G||null===(v=G.student)||void 0===v?void 0:v.studentNationality})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{children:W("mother_tongue")}),(0,N.jsx)("h6",{children:null===G||void 0===G||null===(_=G.student)||void 0===_?void 0:_.studentMTongue})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{}),(0,N.jsx)("h6",{children:null===G||void 0===G||null===(m=G.student)||void 0===m?void 0:m.studentCast})]})]}),(0,N.jsxs)("div",{className:ie,children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{children:W("cast_category")}),(0,N.jsx)("h6",{children:null===G||void 0===G||null===(h=G.student)||void 0===h?void 0:h.studentCastCategory})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{children:W("religion")}),(0,N.jsx)("h6",{children:null===G||void 0===G||null===(p=G.student)||void 0===p?void 0:p.studentReligion})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{children:W("birth_place")}),(0,N.jsx)("h6",{children:null===G||void 0===G||null===(x=G.student)||void 0===x?void 0:x.studentBirthPlace})]})]}),(0,N.jsxs)("div",{className:ie,children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{children:W("state")}),(0,N.jsx)("h6",{children:null===G||void 0===G||null===(f=G.student)||void 0===f?void 0:f.studentState})]}),(0,N.jsxs)("div",{children:[(0,N.jsxs)("p",{children:[W("district")," "]}),(0,N.jsx)("h6",{children:null===G||void 0===G||null===(g=G.student)||void 0===g?void 0:g.studentDistrict})]}),(0,N.jsxs)("div",{children:[(0,N.jsxs)("p",{children:[W("parent_mobile")," "]}),(0,N.jsx)("h6",{children:null===G||void 0===G||null===(b=G.student)||void 0===b?void 0:b.studentParentsPhoneNumber})]})]}),(0,N.jsxs)("div",{className:ie,children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{children:W("current_adress")}),(0,N.jsx)("h6",{children:null===G||void 0===G||null===(C=G.student)||void 0===C?void 0:C.studentAddress})]}),(0,N.jsx)("div",{className:ie}),(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{children:W("parent_name")}),(0,N.jsx)("h6",{children:null===G||void 0===G||null===(y=G.student)||void 0===y?void 0:y.studentParentsName})]})]}),(0,N.jsxs)("div",{className:ie,children:[(0,N.jsxs)("div",{children:[(0,N.jsxs)("p",{children:[" ",W("personal_mobile_number")]}),(0,N.jsx)("h6",{children:null===G||void 0===G||null===(R=G.student)||void 0===R?void 0:R.studentPhoneNumber})]}),(0,N.jsxs)("div",{children:[(0,N.jsxs)("p",{children:[" ",W("adhar_number")," "]}),(0,N.jsx)("h6",{children:null===G||void 0===G||null===(k=G.student)||void 0===k?void 0:k.studentAadharNumber})]})]}),(0,N.jsxs)("div",{className:le,children:[(0,N.jsx)("div",{className:ae,onClick:function(){var e,t;(t=null===G||void 0===G||null===(e=G.student)||void 0===e?void 0:e._id)&&(B((function(e){return!e})),Y({id:A,cid:T,sid:t,did:F,bid:P,approve:{status:"Approved"}}).then((function(e){q(),w(!1),B((function(e){return!e}))})).catch({}))},style:{marginRight:"1.464vw"},children:W("accept")}),(0,N.jsx)("div",{className:ae,onClick:function(){var e,t;(t=null===G||void 0===G||null===(e=G.student)||void 0===e?void 0:e._id)&&(B((function(e){return!e})),H({id:A,cid:T,sid:t,reject:{status:"Rejected"}}).then((function(e){q(),w(!1),B((function(e){return!e}))})).catch({}))},style:{backgroundColor:"rgba(75, 26, 133, 0.1)",color:"rgba(18, 18, 18, 0.8)"},children:W("reject")})]})]}),O&&(0,N.jsx)(I.Z,{})]})};var de=function(e){var t,i,s,l,a=e.cid,d=e.id,c=e.did,r=e.bid,u=(0,j.$G)().t,v=(0,n.useState)(!1),_=(0,o.Z)(v,2),m=_[0],h=_[1],p=(0,n.useState)(""),x=(0,o.Z)(p,2),f=x[0],g=x[1],b=(0,Z.vv)({cid:a,page:1,limit:30}),C=b.classAllRequestStudent,y=b.classAllRequestStudentRefetch;return(0,n.useEffect)((function(){a&&y()}),[a,y]),(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{className:"row ".concat(X.sRequest),children:[(0,N.jsx)("div",{className:m?"col-4":"col-12",children:(0,N.jsxs)("div",{className:X.requestParent,children:[(0,N.jsxs)("div",{className:X.requestAction,children:[(0,N.jsxs)("span",{className:"mx-1",children:[(0,N.jsx)("img",{src:"/images/action-pending.svg",title:"Request",className:"mx-1",alt:"Request"}),u("action_pending")]}),(0,N.jsx)("span",{className:"mx-1",children:null===C||void 0===C||null===(t=C.classes)||void 0===t||null===(i=t.student)||void 0===i?void 0:i.length})]}),(0,N.jsx)(N.Fragment,{children:(0,N.jsx)("div",{className:X.requestStudent,children:null===C||void 0===C||null===(s=C.classes)||void 0===s||null===(l=s.student)||void 0===l?void 0:l.map((function(e){return(0,N.jsx)("div",{onClick:function(){return t=e._id,g(t),void h(!0);var t},className:f===(null===e||void 0===e?void 0:e._id)?"".concat(X.activeRequest):"".concat(X.deactiveRequest),children:(0,N.jsxs)("div",{className:X.requestStudentChild,children:[(0,N.jsx)("img",{src:null!==e&&void 0!==e&&e.studentProfilePhoto?"".concat(S.yI,"/").concat(null===e||void 0===e?void 0:e.studentProfilePhoto):"/images/demo_users/user1.svg",alt:"Avatar"}),(0,N.jsxs)("div",{className:X.applyNameDate,children:[(0,N.jsxs)("p",{className:X.applyName,children:[null===e||void 0===e?void 0:e.studentFirstName," ",null!==e&&void 0!==e&&e.studentMiddleName?null===e||void 0===e?void 0:e.studentMiddleName:" "," ",null===e||void 0===e?void 0:e.studentLastName]}),(0,N.jsx)("p",{className:X.applyDate,children:"23-02-2022"})]})]})},null===e||void 0===e?void 0:e._id)}))})})]})}),m&&(0,N.jsx)("div",{className:"col-8 ".concat(X.requestRightParent),children:(0,N.jsx)(oe,{onRefetch:y,setRequestProfile:h,sid:f,cid:a,id:d,bid:r,did:c})})]})})},ce=i(893),re={fees:"Fees_fees__lvKjI",feesLeft:"Fees_feesLeft__Pv8wS",feesRight:"Fees_feesRight__n+MV0",heading:"Fees_heading__lLfQy",table:"Fees_table__ITnIY",right:"Fees_right__R6Z+3",tableHead:"Fees_tableHead__tYj9A",rightHead:"Fees_rightHead__FyqZ+",tableBody:"Fees_tableBody__kJMxs",item:"Fees_item__Yb9fi",rollno:"Fees_rollno__kvg3F",name:"Fees_name__Ej2qy",radio:"Fees_radio__cArO4",rightBody:"Fees_rightBody__emRsJ",btnContainer:"Fees_btnContainer__pYNF4",btn:"Fees_btn__i-yJq",examList:"Fees_examList__HvBjX",examListItems:"Fees_examListItems__C5nXV",sidebarheader:"Fees_sidebarheader__qUZXk",text:"Fees_text__9vXUC",date:"Fees_date__R1FWt",insUserName:"Fees_insUserName__KwlYi",backh:"Fees_backh__zYQcY",deestabss:"Fees_deestabss__A6Pls",save_fees:"Fees_save_fees__fwyJH"};function ue(e){var t,i,s,l=e.stu,a=e.feesDetails,c=e.setAllFeesIds,r=(0,n.useState)(""),u=(0,o.Z)(r,2),v=u[0],_=u[1],m=function(e,t){var i,n,s;if("exempt"===e)null!==a&&void 0!==a&&null!==(i=a.exemptList)&&void 0!==i&&i.includes(null===l||void 0===l?void 0:l._id)||null!==a&&void 0!==a&&null!==(n=a.onlineList)&&void 0!==n&&n.includes(null===l||void 0===l?void 0:l._id)||null!==a&&void 0!==a&&null!==(s=a.offlineStudentsList)&&void 0!==s&&s.includes(null===l||void 0===l?void 0:l._id)||(""===v?(_("exempt"),c((function(e){return(0,d.Z)((0,d.Z)({},e),{},{exemptQuery:[].concat((0,E.Z)(e.exemptQuery),[null===l||void 0===l?void 0:l._id])})}))):"offline"===v?(_("exempt"),c((function(e){var t;return(0,d.Z)((0,d.Z)({},e),{},{offlineQuery:null===(t=e.offlineQuery)||void 0===t?void 0:t.filter((function(e){return e!==(null===l||void 0===l?void 0:l._id)})),exemptQuery:[].concat((0,E.Z)(e.exemptQuery),[null===l||void 0===l?void 0:l._id])})}))):"deselect"===t&&(_(""),c((function(e){var t;return(0,d.Z)((0,d.Z)({},e),{},{exemptQuery:null===(t=e.exemptQuery)||void 0===t?void 0:t.filter((function(e){return e!==(null===l||void 0===l?void 0:l._id)}))})}))));else if("offline"===e){var o,r,u;null!==a&&void 0!==a&&null!==(o=a.exemptList)&&void 0!==o&&o.includes(null===l||void 0===l?void 0:l._id)||null!==a&&void 0!==a&&null!==(r=a.onlineList)&&void 0!==r&&r.includes(null===l||void 0===l?void 0:l._id)||null!==a&&void 0!==a&&null!==(u=a.offlineStudentsList)&&void 0!==u&&u.includes(null===l||void 0===l?void 0:l._id)||(""===v?(_("offline"),c((function(e){return(0,d.Z)((0,d.Z)({},e),{},{offlineQuery:[].concat((0,E.Z)(e.offlineQuery),[null===l||void 0===l?void 0:l._id])})}))):"exempt"===v?(_("offline"),c((function(e){var t;return(0,d.Z)((0,d.Z)({},e),{},{exemptQuery:null===(t=e.exemptQuery)||void 0===t?void 0:t.filter((function(e){return e!==(null===l||void 0===l?void 0:l._id)})),offlineQuery:[].concat((0,E.Z)(e.offlineQuery),[null===l||void 0===l?void 0:l._id])})}))):"deselect"===t&&(_(""),c((function(e){var t;return(0,d.Z)((0,d.Z)({},e),{},{offlineQuery:null===(t=e.offlineQuery)||void 0===t?void 0:t.filter((function(e){return e!==(null===l||void 0===l?void 0:l._id)}))})}))))}else _((function(e){return e}))};return(0,N.jsxs)("div",{className:re.item,children:[(0,N.jsxs)("p",{className:re.rollno,children:[(null===l||void 0===l?void 0:l.studentROLLNO)>9?null===l||void 0===l?void 0:l.studentROLLNO:"0".concat(null===l||void 0===l?void 0:l.studentROLLNO),"."]}),(0,N.jsxs)("p",{className:re.name,children:[" ",null===l||void 0===l?void 0:l.studentFirstName," ",null!==l&&void 0!==l&&l.studentMiddleName?null===l||void 0===l?void 0:l.studentMiddleName:" "," ",null===l||void 0===l?void 0:l.studentLastName]}),(0,N.jsxs)("div",{className:re.radio,children:[(0,N.jsx)("label",{htmlFor:"fee",style:{cursor:"pointer"},children:null!==a&&void 0!==a&&null!==(t=a.exemptList)&&void 0!==t&&t.includes(null===l||void 0===l?void 0:l._id)||"exempt"===v?(0,N.jsx)("img",{src:"/images/radio-active.svg",alt:"",onClick:function(){return m("exempt","deselect")}}):(0,N.jsx)("img",{src:"/images/radio-disabled.svg",alt:"",onClick:function(){return m("exempt","select")}})}),(0,N.jsx)("input",{type:"radio",id:"html",name:"fee",value:"HTML"})]}),(0,N.jsxs)("div",{className:re.radio,children:[(0,N.jsx)("label",{htmlFor:"fee",style:{cursor:"pointer"},children:null!==a&&void 0!==a&&null!==(i=a.onlineList)&&void 0!==i&&i.includes(null===l||void 0===l?void 0:l._id)?(0,N.jsx)("img",{src:"/images/radio-active.svg",alt:""}):(0,N.jsx)("img",{src:"/images/radio-disabled.svg",alt:""})}),(0,N.jsx)("input",{type:"radio",id:"html",name:"fee",value:"JS"})]}),(0,N.jsxs)("div",{className:re.radio,children:[(0,N.jsx)("label",{htmlFor:"fee",style:{cursor:"pointer"},children:null!==a&&void 0!==a&&null!==(s=a.offlineStudentsList)&&void 0!==s&&s.includes(null===l||void 0===l?void 0:l._id)||"offline"===v?(0,N.jsx)("img",{src:"/images/radio-active.svg",alt:"",onClick:function(){return m("offline","deselect")}}):(0,N.jsx)("img",{src:"/images/radio-disabled.svg",alt:"",onClick:function(){return m("offline","select")}})}),(0,N.jsx)("input",{type:"radio",id:"html",name:"fee",value:"CSS"})]})]})}var ve=function(e){var t,i,s=e.feesDetails,l=e.students,a=e.onRefetch,d=e.cid,c=e.fid,r=e.onRefetchQuery,u=e.setIndex,v=(0,n.useState)({offlineQuery:[],exemptQuery:[]}),_=(0,o.Z)(v,2),m=_[0],h=_[1],p=(0,n.useState)(!1),x=(0,o.Z)(p,2),f=x[0],g=x[1],b=(0,j.$G)().t,S=(0,Z.o1)(),C=(0,o.Z)(S,1)[0];return(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{className:re.deestabss,children:[(0,N.jsx)("h6",{className:re.heading,children:null===s||void 0===s?void 0:s.feeName}),null!==(t=m.exemptQuery)&&void 0!==t&&t.length||null!==(i=m.offlineQuery)&&void 0!==i&&i.length?(0,N.jsx)("div",{onClick:function(){g((function(e){return!e})),C({cid:d,fid:c,feesData:m}).then((function(){r(),a(),g((function(e){return!e})),u(0)})).catch({})},className:re.save_fees,children:b("save")}):""]}),(0,N.jsxs)("div",{className:re.table,children:[(0,N.jsxs)("div",{className:re.tableHead,children:[(0,N.jsx)("h6",{className:re.rollno,children:b("roll_no")}),(0,N.jsx)("h6",{className:re.name,children:b("name")}),(0,N.jsx)("h6",{className:re.radio,children:b("exemted")}),(0,N.jsx)("h6",{className:re.radio,children:b("online")}),(0,N.jsx)("h6",{className:re.radio,children:b("offline")})]}),(0,N.jsx)("div",{className:re.tableBody,children:null===l||void 0===l?void 0:l.map((function(e){return(0,N.jsx)(ue,{stu:e,feesDetails:s,onRefetch:a,cid:d,fid:c,onRefetchQuery:r,setAllFeesIds:h},null===e||void 0===e?void 0:e._id)}))})]}),f&&(0,N.jsx)(I.Z,{})]})},_e=i(68825),me=i(87010);var he=function(e){var t,i=e.totalFees,s=e.feesDetails,l=e.classOneFees,a=e.onRefetchQuery,d=e.cid,c=e.financeId,r=(0,n.useState)(!1),u=(0,o.Z)(r,2),v=u[0],_=u[1],m=(0,n.useState)(!1),h=(0,o.Z)(m,2),p=h[0],x=h[1],f=(0,n.useState)(!1),g=(0,o.Z)(f,2),j=g[0],b=g[1],S=(0,me.cw)(),C=(0,o.Z)(S,1)[0];return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:re.right,children:[(0,N.jsx)(T.SY,{msg:p,run:v,setRun:_}),(0,N.jsxs)("div",{className:re.rightHead,children:[(0,N.jsx)("h6",{children:(0,_e.t)("total_amount_collected")}),(0,N.jsxs)("h6",{children:["Rs. ",i]})]}),(0,N.jsxs)("div",{className:re.rightBody,children:[(0,N.jsxs)("h6",{children:[(0,_e.t)("exemted_amount")," : Rs."," ",null===l||void 0===l?void 0:l.exe]}),(0,N.jsxs)("h6",{children:[(0,_e.t)("online_collected_amount")," : Rs."," ",null===l||void 0===l?void 0:l.on]}),(0,N.jsxs)("h6",{children:[(0,_e.t)("offline_collected_amount")," : Rs. ",null===l||void 0===l?void 0:l.off]}),(null===l||void 0===l?void 0:l.off)>0?(0,N.jsx)("div",{className:re.btnContainer,children:(0,N.jsx)("div",{className:re.btn,onClick:function(){var e;"Requested"===(null===l||void 0===l||null===(e=l.oneFeeRequestStatus)||void 0===e?void 0:e.status)?(_(!0),x((0,_e.t)("already_requested"))):0===parseInt(null===l||void 0===l?void 0:l.off)?(_(!0),x((0,_e.t)("amout_greater_than_balance"))):(b((function(e){return!e})),C({fid:c,cid:d,feesId:null===s||void 0===s?void 0:s._id,offlineAmount:{amount:parseInt(null===l||void 0===l?void 0:l.off)}}).then((function(){a(),b((function(e){return!e}))})).catch({}))},children:"Requested"===(null===l||void 0===l||null===(t=l.oneFeeRequestStatus)||void 0===t?void 0:t.status)?(0,_e.t)("requested"):(0,_e.t)("submit")})}):""]})]}),j&&(0,N.jsx)(I.Z,{})]})};function pe(e){var t=e.onClickFeesId,i=e.fees,n=e.students,s=(0,j.$G)().t;return(0,N.jsxs)("div",{className:re.sidebarheader,onClick:function(){return t({_id:null===i||void 0===i?void 0:i._id,students:n})},children:[(0,N.jsx)("img",{src:"/images/feesIcon.svg",alt:""}),(0,N.jsxs)("div",{className:re.text,children:[(0,N.jsx)("div",{className:re.insName,children:(0,N.jsxs)("h6",{children:["Rs.",null===i||void 0===i?void 0:i.feeAmount,"/-"]})}),(0,N.jsx)("div",{className:re.insUserName,children:(0,N.jsx)("p",{children:null===i||void 0===i?void 0:i.feeName})})]}),(0,N.jsxs)("div",{className:re.date,children:[(0,N.jsx)("h6",{children:null===i||void 0===i?void 0:i.feeDate}),(0,N.jsx)("p",{children:s("due_date")})]})]})}var xe=function(e){var t,i=e.onClickFeesId,n=e.feesList;return(0,N.jsx)("div",{className:re.examList,children:(0,N.jsx)("div",{className:re.examListItems,children:null===n||void 0===n||null===(t=n.fee)||void 0===t?void 0:t.map((function(e){return(0,N.jsx)(pe,{onClickFeesId:i,fees:e,students:null===n||void 0===n?void 0:n.ApproveStudent},null===e||void 0===e?void 0:e._id)}))})})};var fe=function(e){var t,i,s,l,a=e.cid,d=n.useState(0),c=(0,o.Z)(d,2),r=c[0],u=c[1],v=(0,n.useState)(""),_=(0,o.Z)(v,2),m=_[0],h=_[1],p=(0,Z.qK)({data:{cid:a,page:1,limit:50},skip:!a}),x=p.classAllFees,f=p.classAllFeesRefetch;(0,n.useEffect)((function(){a&&f()}),[a,f]);var g=(0,Z.Sv)({data:{fid:null===m||void 0===m?void 0:m._id,page:1,limit:50},skip:!(null!==m&&void 0!==m&&m._id)}),j=g.classOneFeesDetails,b=g.classOneFeesDetailsRefetch,S=(0,Z.LE)({data:{fid:null===m||void 0===m?void 0:m._id,cid:a},skip:!(null!==m&&void 0!==m&&m._id)}),C=S.classOneFees,y=S.classOneFeesRefetch;return(0,n.useEffect)((function(){null!==m&&void 0!==m&&m._id&&(y(),b())}),[null===m||void 0===m?void 0:m._id,y,b]),(0,N.jsxs)(N.Fragment,{children:[1===r&&(0,N.jsxs)("div",{className:re.fees,children:[(0,N.jsx)("div",{className:re.feesLeft,children:(0,N.jsx)(ve,{feesDetails:null===j||void 0===j?void 0:j.feeData,students:null===m||void 0===m?void 0:m.students,onRefetch:b,cid:a,fid:null===m||void 0===m?void 0:m._id,onRefetchQuery:y,setIndex:u})}),(0,N.jsx)("div",{className:re.feesRight,children:(0,N.jsx)(he,{feesDetails:null===j||void 0===j?void 0:j.feeData,totalFees:null===j||void 0===j?void 0:j.onlineOffline,classOneFees:C,onRefetchQuery:y,cid:a,financeId:null===x||void 0===x||null===(t=x.classes)||void 0===t||null===(i=t.institute)||void 0===i||null===(s=i.financeDepart)||void 0===s||null===(l=s[0])||void 0===l?void 0:l._id})})]}),0===r&&(0,N.jsx)(xe,{onClickFeesId:function(e){h({_id:null===e||void 0===e?void 0:e._id,students:null===e||void 0===e?void 0:e.students}),u(1)},feesList:null===x||void 0===x?void 0:x.classes})]})},ge="FinalReport_finalreport__fouoa",je="FinalReport_rollnumbers__eX23P",Ne="FinalReport_items__yokO1",be="FinalReport_box__uXAVc",Se="FinalReport_box1__kXH1N",Ce="FinalReport_box2__dkkaP",ye="FinalReport_buttons__G94vt",Re="FinalReport_download__eeQIb",Ze="FinalReport_send__iAUch",ke=i(37762),Ae=i(45987),Fe="ReportDetails_reportDetails__Y5gi8",Pe="ReportDetails_header__8HKgQ",Le="ReportDetails_text__KyOA9",Te="ReportDetails_name__8hU0p",qe="ReportDetails_roll__7Rcoy",Ie="ReportDetails_attbehave__DMody",we="ReportDetails_attendence__ie2LJ",Me="ReportDetails_stars__J6Var",De="ReportDetails_improve__X64mj",Oe="ReportDetails_buttons__ms-Ih",Be="ReportDetails_download__1zo0U",Ee="ReportDetails_send__84O9T",Ge="ReportDetails_progressFont__3wyAt",ze="ReportDetails_grade__Cf5TS",We="ReportDetails_tableMain__R6P4p",Ue="ReportDetails_tableMainThead__bUvIz",Ye="ReportDetails_tableHead__tyDFG",Qe="ReportDetails_tableBodySubject__dwr-O",He="ReportDetails_tableBodyTotal__DKIpE",Ve="ReportDetails_improvelack__7vNGH",$e="ReportDetails_report_fail_color__ArAuy",Je=i(59391),Ke=(i(1009),new(i(35125).ZP)({format:[279,210]})),Xe=Ke.internal.pageSize.getWidth(),et=function(e,t,i,n,s,l,a,o,d,c){var r=new Date,u=r.getMonth()+1>9?r.getMonth()+1:"0".concat(r.getMonth()+1),v=(r.getDate()>9?r.getDate():"0".concat(r.getDate()))+"-"+u+"-"+r.getFullYear(),_=1;Ke.addImage(e,"JPEG",9,3,25,25),Ke.setLineWidth(8),Ke.setDrawColor(255,255,255),Ke.circle(21.4,15,16),Ke.setLineWidth(0);var m=Ke.splitTextToSize(d.student.institute.insName,146);if(m.length>1){var h=10;Ke.setFont("700"),Ke.setTextColor(18,18,18),Ke.setFontSize(16),Ke.text(107,h,m,"center"),h=m.length+145}else{var p=10;Ke.setFont("700"),Ke.setTextColor(18,18,18),Ke.setFontSize(18),Ke.text(107,p,m,"center"),p=m.length+145}Ke.setFont("Arial","normal","400"),Ke.setTextColor(18,18,18),Ke.setFontSize(10),Ke.text(Xe/2,17,d.student.institute.insAddress,"center"),Ke.setFont("WorkSans"),Ke.setTextColor(18,18,18),Ke.setFontSize(10),Ke.text(71,m.length>1?27:23,"Mob No : ".concat(d.student.institute.insPhoneNumber," , Mail: ").concat(d.student.institute.insEmail)),Ke.setLineWidth(45),Ke.setDrawColor(28,2,59),Ke.line(0,53,Xe,53),Ke.setFont("WorkSans"),Ke.setTextColor(255,255,255),Ke.setFontSize(18),Ke.text(Xe/2,41,"REPORT CARD","center"),Ke.setLineWidth(1),Ke.setDrawColor(254,210,56),Ke.line(80,44,130,44),Ke.setTextColor(255,255,255),Ke.setFontSize(11),Ke.text(9,56,"Student name :"),Ke.setTextColor(255,255,255),Ke.setFontSize(11),Ke.text(9,63,"Class Teacher :"),Ke.setTextColor(255,255,255),Ke.setFontSize(11),Ke.text(9,70,"Class :");var x="".concat(i.studentFirstName," ").concat(i.studentMiddleName?i.studentMiddleName:""," ").concat(i.studentLastName);Ke.setTextColor(255,255,255),Ke.setFontSize(10),Ke.text(37,56,x);var f="".concat(d.student.studentClass.classTeacher.staffFirstName," ").concat(d.student.studentClass.classTeacher.staffMiddleName?d.student.studentClass.classTeacher.staffMiddleName:""," ").concat(d.student.studentClass.classTeacher.staffLastName);Ke.setTextColor(255,255,255),Ke.setFontSize(10),Ke.text(37,63,f),Ke.setTextColor(255,255,255),Ke.setFontSize(10),Ke.text(37,70,"".concat(d.student.studentClass.className," - ").concat(d.student.studentClass.classTitle));var g=Ke.getTextWidth(x);Ke.setTextColor(255,255,255),Ke.setFontSize(11),Ke.text(g+100,56,"Roll No :"),Ke.setTextColor(255,255,255),Ke.setFontSize(11),Ke.text(g+100,63,"GR No :"),Ke.setTextColor(255,255,255),Ke.setFontSize(11),Ke.text(g+100,70,"Batch :"),Ke.setTextColor(255,255,255),Ke.setFontSize(10),Ke.text(g+120,56,i.studentROLLNO>9?i.studentROLLNO:"0".concat(i.studentROLLNO)),Ke.setTextColor(255,255,255),Ke.setFontSize(10),Ke.text(g+120,63,d.student.studentGRNO),Ke.setTextColor(255,255,255),Ke.setFontSize(10),Ke.text(g+120,70,d.student.batches.batchName),Ke.setLineWidth(8),Ke.setDrawColor("#c9bada"),Ke.line(0,84,Xe,84),Ke.setTextColor(0,0,0),Ke.setFontSize(10),Ke.text(9,85,"SUBJECT"),Ke.setTextColor(0,0,0),Ke.setFontSize(10),Ke.text(100,85,"FINAL"),Ke.setTextColor(0,0,0),Ke.setFontSize(10),Ke.text(127,85,"OUT OF"),Ke.setTextColor(0,0,0),Ke.setFontSize(10),Ke.text(147,85,"OTHER"),Ke.setTextColor(0,0,0),Ke.setFontSize(10),Ke.text(167,85,"OUT OF"),Ke.setTextColor(0,0,0),Ke.setFontSize(10),Ke.text(187,85,"TOTAL"),Ke.setLineWidth(67),Ke.setDrawColor("#ede8f3"),Ke.line(0,121,Xe,121);for(var j=0,N=0,b=0;b<n.subjects.length;b++)Ke.setTextColor(0,0,0),Ke.setFontSize(10),Ke.text(9,95+_,n.subjects[b].subjectName),Ke.setTextColor(0,0,0),Ke.setFontSize(10),Ke.text(102,95+_,"".concat(n.subjects[b].finalObtainMarks.toFixed(2))),Ke.setTextColor(0,0,0),Ke.setFontSize(10),Ke.text(129,95+_,"".concat(n.subjects[b].finalTotalMarks)),Ke.setTextColor(0,0,0),Ke.setFontSize(10),Ke.text(149,95+_,"".concat(n.subjects[b].otherObtainMarks.toFixed(2))),Ke.setTextColor(0,0,0),Ke.setFontSize(10),Ke.text(169,95+_,"".concat(n.subjects[b].otherTotalMarks)),Ke.setTextColor(0,0,0),Ke.setFontSize(10),Ke.text(189,95+_,"".concat(c?n.subjects[b].showGrade:n.subjects[b].subjectWiseTotal.toFixed(2))),_+=9,j+=n.subjects[b].finalTotalMarks,N+=n.subjects[b].otherTotalMarks;Ke.setLineWidth(8),Ke.setDrawColor("#c9bada"),Ke.line(0,157,Xe,157),Ke.text(9,158,"Total"),Ke.text(102,158,null===n||void 0===n?void 0:n.total.finalTotal.toFixed(2)),Ke.text(129,158,"".concat(j)),Ke.text(149,158,null===n||void 0===n?void 0:n.total.otherTotal.toFixed(2)),Ke.text(169,158,"".concat(N)),Ke.text(189,158,"".concat(c?null===n||void 0===n?void 0:n.total.showGradeTotal:null===n||void 0===n?void 0:n.total.allSubjectTotal.toFixed(2))),Ke.setLineWidth(8),Ke.setDrawColor(28,2,59),Ke.line(0,168,Xe,168),Ke.setTextColor(255,255,255),Ke.setFontSize(10),Ke.text(9,169,"".concat(c?"SPI : ".concat(n.spi.toFixed(2)):"Percentage : ".concat(n.totalPercantage.toFixed(2))," ")),Ke.text(102,169," Remarks : ".concat(t)),Ke.setLineWidth(28),Ke.setDrawColor("#ede8f3"),Ke.line(0,188,Xe,188),Ke.setTextColor(0,0,0),Ke.text(9,183," Extra-Curricular Points : "),Ke.text(102,183,""),Ke.text(122,183,"  Note : Not given by institute, Universal in all institutes"),Ke.text(132,187," by Qviple"),Ke.text(9,194," Attendance : ".concat(o.attendance.attendancePercentage,"%")),Ke.text(50,194,"".concat(o.attendance.totalPresent,"/").concat(o.attendance.totalAttendance," days")),Ke.text(124,194,"Behaviour : ".concat(s)),Ke.text(9,210,"Improvement :  ".concat(l)),Ke.text(9,220,"Lack in :  ".concat(a)),Ke.text(9,265,"Date : ".concat(v)),Ke.text(102,265,"Class Teacher"),Ke.text(162,265,"Principal"),Ke.setLineWidth(8),Ke.setDrawColor(28,2,59),Ke.line(0,275,Xe,275),Ke.setTextColor(255,255,255),Ke.setFontSize(10),Ke.text(Xe/2,276,"Note : Percentage ration for final and other marks in report is 60:40","center"),Ke.save("".concat(i.studentFirstName," ").concat(i.studentMiddleName,"-Report-Card.pdf"))},tt=["children"];function it(e){e.children;var t=(0,Ae.Z)(e,tt);return(0,N.jsxs)("div",{style:{position:"relative",width:"5vw",height:"5vw"},children:[(0,N.jsx)("div",{style:{position:"absolute",backgroundColor:"white",borderRadius:"50%"},children:(0,N.jsx)(Je.Ip,(0,d.Z)((0,d.Z)({},t),{},{value:t.percentage,styles:{path:{stroke:(null===t||void 0===t?void 0:t.percentage)>=75?"green":t.percentage>=(null===t||void 0===t?void 0:t.aggregatePassingMarks)&&t.percentage<75?"#FF7D05":"rgba(206, 206, 206, 0.76)"}}}))}),(0,N.jsx)("div",{style:{position:"absolute",height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:e.children})]})}var nt=function(e){var t,i,s,a,d,c,r,u,v,_,m,h,p,x,f,g,j,b,C,y,R,k,A,F,P,L,q,w,M,D,O=e.oneStudentDetail,B=e.onRefetch,G=e.finalReportsSettings,z=(0,l.s0)(),W=(0,n.useState)(!1),U=(0,o.Z)(W,2),Y=U[0],Q=U[1],H=(0,n.useState)(null),V=(0,o.Z)(H,2),$=V[0],J=V[1],K=(0,n.useState)(!1),X=(0,o.Z)(K,2),ee=X[0],te=X[1],ie=(0,n.useState)(!1),ne=(0,o.Z)(ie,2),se=ne[0],le=ne[1],ae=(0,n.useState)(!1),oe=(0,o.Z)(ae,2),de=oe[0],ce=oe[1],re=(0,n.useState)(!1),ue=(0,o.Z)(re,2),ve=ue[0],me=ue[1],he=(0,n.useState)([]),pe=(0,o.Z)(he,2),xe=pe[0],fe=pe[1],ge=(0,Z.Bp)({data:{sid:null===O||void 0===O?void 0:O._id},skip:!(null!==G&&void 0!==G&&G.behaviour)||!(null!==O&&void 0!==O&&O.studentBehaviour)}),je=ge.classStudentBehavour,Ne=ge.classStudentBehavourRefetch,be=(0,Z.dS)({data:{sid:null===O||void 0===O?void 0:O._id},skip:!(null!==O&&void 0!==O&&O._id)}),Se=be.classStudentReportCard,Ce=be.classStudentReportCardRefetch,ye=(0,Z.dt)({data:{sid:null===O||void 0===O?void 0:O._id},skip:!(null!==G&&void 0!==G&&G.attendance)||!(null!==O&&void 0!==O&&O._id)}),Re=ye.classStudentReportCardAttendance,Ze=ye.classStudentReportCardAttendanceRefetch,Ae=(0,Z.Nn)({data:{sid:null===O||void 0===O?void 0:O._id},skip:!(null!==O&&void 0!==O&&O._id)}),Je=Ae.classStudentReportCardNecessary,Ke=Ae.classStudentReportCardNecessaryRefetch;(0,n.useEffect)((function(){null!==O&&void 0!==O&&O._id&&(Ce(),Ze(),Ke())}),[null===O||void 0===O?void 0:O._id,Ce,Ze,Ke]),(0,n.useEffect)((function(){null!==O&&void 0!==O&&O.studentBehaviour&&Ne()}),[null===O||void 0===O?void 0:O.studentBehaviour,Ne]);for(var Xe=[],tt=0;tt<(null===je||void 0===je||null===(nt=je.student)||void 0===nt?void 0:nt.ratings);tt++){var nt;Xe.push("/images/bookmark-yellow.svg")}var st=(0,Z._q)(),lt=(0,o.Z)(st,1)[0],at=(0,Z.e3)(),ot=(0,o.Z)(at,1)[0],dt=(0,Z.Tg)(),ct=(0,o.Z)(dt,1)[0],rt=function(e){var t,i=(0,ke.Z)(xe);try{for(i.s();!(t=i.n()).done;){var n=t.value;n._id===e.target.name&&(n.graceMarks=parseInt(e.target.value))}}catch(s){i.e(s)}finally{i.f()}};return(0,n.useEffect)((function(){if(ve){var e,t,i,n,s,l,a,o,d,c,r,u,v,_,m=Je.student.institute.insProfilePhoto?"".concat(S.yI,"/").concat(Je.student.institute.insProfilePhoto):"/images/certificate/logodemo.jpg",h=(null===Se||void 0===Se||null===(e=Se.totalPercantage)||void 0===e?void 0:e.toFixed(2))>=75?"Pass With Distinction":(null===Se||void 0===Se||null===(t=Se.totalPercantage)||void 0===t?void 0:t.toFixed(2))>=65&&(null===Se||void 0===Se||null===(i=Se.totalPercantage)||void 0===i?void 0:i.toFixed(2))<75?"Pass Wtih First Class":(null===Se||void 0===Se||null===(n=Se.totalPercantage)||void 0===n?void 0:n.toFixed(2))>=50&&(null===Se||void 0===Se||null===(s=Se.totalPercantage)||void 0===s?void 0:s.toFixed(2))<65?"Pass With Second Class":(null===Se||void 0===Se||null===(l=Se.totalPercantage)||void 0===l?void 0:l.toFixed(2))>=(null===G||void 0===G?void 0:G.aggregatePassingPercentage)&&(null===Se||void 0===Se||null===(a=Se.totalPercantage)||void 0===a?void 0:a.toFixed(2))<50?"Pass With Third Class":"FAIL",p=5===(null===je||void 0===je||null===(o=je.student)||void 0===o?void 0:o.ratings)?"Excellent":4===(null===je||void 0===je||null===(d=je.student)||void 0===d?void 0:d.ratings)?"Very Good":3===(null===je||void 0===je||null===(c=je.student)||void 0===c?void 0:c.ratings)?"Good":2===(null===je||void 0===je||null===(r=je.student)||void 0===r?void 0:r.ratings)?"Bad":1===(null===je||void 0===je||null===(u=je.student)||void 0===u?void 0:u.ratings)?"Very Bad":"",x=null!==je&&void 0!==je&&null!==(v=je.student)&&void 0!==v&&v.improvements?je.student.improvements:"",f=null!==je&&void 0!==je&&null!==(_=je.student)&&void 0!==_&&_.lackIn?je.student.lackIn:"";et(m,h,O,Se,p,x,f,Re,Je,null===G||void 0===G?void 0:G.gradeMarks),le((function(e){return!e})),window.location.reload()}}),[ve]),(0,N.jsxs)("div",{className:Fe,children:[(0,N.jsx)(T.SY,{run:Y,msg:$,setRun:Q}),(0,N.jsxs)("div",{className:Pe,children:[(0,N.jsxs)(it,{percentage:null===Se||void 0===Se||null===(t=Se.totalPercantage)||void 0===t?void 0:t.toFixed(2),aggregatePassingMarks:null===Se||void 0===Se||null===(i=Se.total)||void 0===i?void 0:i.totalCutoff,gradeShow:null===Se||void 0===Se||null===(s=Se.total)||void 0===s?void 0:s.showGradeTotal,children:[(0,N.jsx)("div",{className:Ge,children:(0,N.jsx)("strong",{children:null!==G&&void 0!==G&&G.gradeMarks?null!==(a=null===Se||void 0===Se||null===(d=Se.total)||void 0===d?void 0:d.spi)&&void 0!==a?a:0:"".concat(null!==(c=null===Se||void 0===Se||null===(r=Se.totalPercantage)||void 0===r?void 0:r.toFixed(2))&&void 0!==c?c:0,"%")})}),(0,N.jsx)("div",{className:ze,children:null!==(u=null===Se||void 0===Se||null===(v=Se.total)||void 0===v?void 0:v.showGradeTotal)&&void 0!==u?u:""})]}),(0,N.jsxs)("div",{className:Le,children:[(0,N.jsxs)("div",{className:Te,children:[(0,N.jsx)("p",{children:(0,_e.t)("name")}),(0,N.jsxs)("h6",{children:[" ",null===O||void 0===O?void 0:O.studentFirstName," ",null!==O&&void 0!==O&&O.studentMiddleName?null===O||void 0===O?void 0:O.studentMiddleName:" "," ",null===O||void 0===O?void 0:O.studentLastName]})]}),(0,N.jsxs)("div",{className:"".concat(Te," ").concat(qe),children:[(0,N.jsx)("p",{children:(0,_e.t)("roll_no")}),(0,N.jsx)("h6",{children:(null===O||void 0===O?void 0:O.studentROLLNO)>9?null===O||void 0===O?void 0:O.studentROLLNO:"0".concat(null===O||void 0===O?void 0:O.studentROLLNO)})]})]})]}),(0,N.jsxs)("table",{className:We,children:[(0,N.jsx)("thead",{className:Ue,children:(0,N.jsxs)("tr",{className:Ye,children:[(0,N.jsx)("th",{children:(0,_e.t)("subject")}),(0,N.jsx)("th",{children:(0,_e.t)("final_exam_marks")}),(0,N.jsx)("th",{children:(0,_e.t)("other")}),(0,N.jsx)("th",{children:(0,_e.t)("grace_marks")}),(0,N.jsx)("th",{children:(0,_e.t)("total")})]})}),(0,N.jsxs)("tbody",{children:[null===Se||void 0===Se||null===(_=Se.subjects)||void 0===_?void 0:_.map((function(e){var t,i,n,s;return(0,N.jsxs)("tr",{className:Qe,children:[(0,N.jsx)("td",{children:null===e||void 0===e?void 0:e.subjectName}),(0,N.jsxs)("td",{children:[null===e||void 0===e||null===(t=e.finalObtainMarks)||void 0===t?void 0:t.toFixed(2),"/",null===e||void 0===e?void 0:e.finalTotalMarks]}),(0,N.jsxs)("td",{children:[null===e||void 0===e||null===(i=e.otherObtainMarks)||void 0===i?void 0:i.toFixed(2),"/",null===e||void 0===e?void 0:e.otherTotalMarks]}),(0,N.jsx)("input",{type:"number",name:null===e||void 0===e?void 0:e._id,defaultValue:null===e||void 0===e?void 0:e.graceMarks,onClick:function(){return function(e){if(de)if(null!==xe&&void 0!==xe&&xe.length){var t,i=[],n=(0,ke.Z)(xe);try{for(n.s();!(t=n.n()).done;){var s=t.value;i.push(s._id)}}catch(l){n.e(l)}finally{n.f()}null!==i&&void 0!==i&&i.includes(e)||fe([].concat((0,E.Z)(xe),[{_id:e,graceMarks:0}]))}else fe([].concat((0,E.Z)(xe),[{_id:e,graceMarks:0}]))}(null===e||void 0===e?void 0:e._id)},onChange:rt,readOnly:!de}),(0,N.jsx)("td",{className:(null===e||void 0===e?void 0:e.subjectCutoff)>Math.round(null===e||void 0===e||null===(n=e.subjectWiseTotal)||void 0===n?void 0:n.toFixed(2))?$e:"",children:null!==e&&void 0!==e&&e.showGrade?null===e||void 0===e?void 0:e.showGrade:"".concat(null===e||void 0===e||null===(s=e.subjectWiseTotal)||void 0===s?void 0:s.toFixed(2),"\n                /100")})]},null===e||void 0===e?void 0:e._id)})),(0,N.jsxs)("tr",{className:He,children:[(0,N.jsx)("td",{children:(0,_e.t)("total")}),(0,N.jsx)("td",{children:null===Se||void 0===Se||null===(m=Se.total)||void 0===m||null===(h=m.finalTotal)||void 0===h?void 0:h.toFixed(2)}),(0,N.jsx)("td",{children:null===Se||void 0===Se||null===(p=Se.total)||void 0===p||null===(x=p.otherTotal)||void 0===x?void 0:x.toFixed(2)}),(0,N.jsx)("td",{children:null===Se||void 0===Se||null===(f=Se.total)||void 0===f||null===(g=f.graceTotal)||void 0===g?void 0:g.toFixed(2)}),(0,N.jsx)("td",{children:null!==G&&void 0!==G&&G.gradeMarks?null===Se||void 0===Se||null===(j=Se.total)||void 0===j?void 0:j.showGradeTotal:null===Se||void 0===Se||null===(b=Se.total)||void 0===b||null===(C=b.allSubjectTotal)||void 0===C?void 0:C.toFixed(2)})]})]})]}),(0,N.jsxs)("div",{className:Ie,children:[(0,N.jsxs)("div",{className:we,children:[(0,N.jsxs)("p",{children:[(0,_e.t)("attendance")," :"," ",(0,N.jsxs)("span",{children:[null===Re||void 0===Re||null===(y=Re.attendance)||void 0===y?void 0:y.totalPresent,"/",null===Re||void 0===Re||null===(R=Re.attendance)||void 0===R?void 0:R.totalAttendance]})]}),(0,N.jsxs)("h5",{children:["NaN"!==(null===Re||void 0===Re||null===(k=Re.attendance)||void 0===k?void 0:k.attendancePercentage)?null===Re||void 0===Re||null===(A=Re.attendance)||void 0===A?void 0:A.attendancePercentage:0,"%"]}),(0,N.jsx)("div",{})]}),(0,N.jsxs)("div",{className:we,children:[(0,N.jsxs)("p",{children:[(0,_e.t)("behaviour")," :",(0,N.jsx)("span",{children:5===(null===je||void 0===je||null===(F=je.student)||void 0===F?void 0:F.ratings)?"Excellent":4===(null===je||void 0===je||null===(P=je.student)||void 0===P?void 0:P.ratings)?"Very Good":3===(null===je||void 0===je||null===(L=je.student)||void 0===L?void 0:L.ratings)?"Good":2===(null===je||void 0===je||null===(q=je.student)||void 0===q?void 0:q.ratings)?"Bad":1===(null===je||void 0===je||null===(w=je.student)||void 0===w?void 0:w.ratings)?"Very Bad":""})]}),(0,N.jsx)("div",{className:Me,children:null===Xe||void 0===Xe?void 0:Xe.map((function(e){return(0,N.jsx)("img",{src:e,alt:""})}))}),(0,N.jsx)("div",{})]})]}),(0,N.jsxs)("ul",{className:Ve,children:[(0,N.jsxs)("li",{className:De,children:[(0,N.jsxs)("span",{children:[(0,_e.t)("improvements")," - "]}),null===je||void 0===je||null===(M=je.student)||void 0===M?void 0:M.improvements]}),(0,N.jsxs)("li",{className:De,children:[(0,N.jsxs)("span",{children:[(0,_e.t)("lack_in")," - "]}),null===je||void 0===je||null===(D=je.student)||void 0===D?void 0:D.lackIn]})]}),"No"!==(null===O||void 0===O?void 0:O.finalReportStatus)||ee?(0,N.jsx)("div",{className:Oe,children:de?(0,N.jsx)("div",{className:Be,onClick:function(){le((function(e){return!e})),ot({sid:null===O||void 0===O?void 0:O._id,graceMarksUpdate:{subjects:xe}}).then((function(){Ce(),ce(!1),fe([]),le((function(e){return!e}))})).catch({})},children:(0,_e.t)("update")}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:Be,onClick:function(){return ce(!0)},children:(0,_e.t)("edit_")}),(0,N.jsx)("div",{className:Ee,onClick:function(){le((function(e){return!e})),me(!0)},children:(0,_e.t)("download")})]})}):(0,N.jsxs)("div",{className:Oe,children:[(0,N.jsx)("div",{onClick:function(){var e,t,i,n,s,l,a,o,d,c,r,u,v,_,m,h,p;le((function(e){return!e}));var x={totalFinalExam:parseFloat(null===Se||void 0===Se||null===(e=Se.total)||void 0===e||null===(t=e.finalTotal)||void 0===t?void 0:t.toFixed(2)),totalOtherExam:parseFloat(null===Se||void 0===Se||null===(i=Se.total)||void 0===i||null===(n=i.otherTotal)||void 0===n?void 0:n.toFixed(2)),totalGraceExam:parseFloat(null===Se||void 0===Se||null===(s=Se.total)||void 0===s||null===(l=s.graceTotal)||void 0===l?void 0:l.toFixed(2)),totalTotalExam:parseFloat(null===Se||void 0===Se||null===(a=Se.total)||void 0===a||null===(o=a.allSubjectTotal)||void 0===o?void 0:o.toFixed(2)),totalPercentage:parseFloat(null===Se||void 0===Se||null===(d=Se.totalPercantage)||void 0===d?void 0:d.toFixed(2)),attendance:null===Re||void 0===Re||null===(c=Re.attendance)||void 0===c?void 0:c.totalPresent,attendanceTotal:null===Re||void 0===Re||null===(r=Re.attendance)||void 0===r?void 0:r.totalAttendance,attendancePercentage:parseFloat(null===Re||void 0===Re||null===(u=Re.attendance)||void 0===u?void 0:u.attendancePercentage),behaviourStar:null===je||void 0===je||null===(v=je.student)||void 0===v?void 0:v.ratings,behaviourImprovement:null===je||void 0===je||null===(_=je.student)||void 0===_?void 0:_.improvements,behaviourLack:null===je||void 0===je||null===(m=je.student)||void 0===m?void 0:m.lackIn,totalCutoff:null===Se||void 0===Se||null===(h=Se.total)||void 0===h?void 0:h.totalCutoff,subjects:[]};null===Se||void 0===Se||null===(p=Se.subjects)||void 0===p||p.map((function(e){var t,i,n;return x.subjects.push({_id:null===e||void 0===e?void 0:e._id,subjectName:null===e||void 0===e?void 0:e.subjectName,finalExamTotal:null===e||void 0===e?void 0:e.finalTotalMarks,finalExamObtain:parseFloat(null===e||void 0===e||null===(t=e.finalObtainMarks)||void 0===t?void 0:t.toFixed(2)),otherExamTotal:null===e||void 0===e?void 0:e.otherTotalMarks,otherExamObtain:parseFloat(null===e||void 0===e||null===(i=e.otherObtainMarks)||void 0===i?void 0:i.toFixed(2)),graceMarks:null===e||void 0===e?void 0:e.graceMarks,totalMarks:100,obtainTotalMarks:parseFloat(null===e||void 0===e||null===(n=e.subjectWiseTotal)||void 0===n?void 0:n.toFixed(2)),subjectCutoff:null===e||void 0===e?void 0:e.subjectCutoff})})),lt({sid:null===O||void 0===O?void 0:O._id,reportCardFinalize:x}).then((function(e){"All Final Exam Marks is not updated"===e.data.message?(Q(!0),J(e.data.message)):(te(!0),B(),z(-1)),le((function(e){return!e}))})).catch({})},className:Ee,children:(0,_e.t)("finalize")}),de?(0,N.jsx)("div",{className:Be,onClick:function(){le((function(e){return!e})),ct({sid:null===O||void 0===O?void 0:O._id,graceMarksUpdate:{subjects:xe}}).then((function(){Ce(),ce(!1),fe([]),le((function(e){return!e}))})).catch({})},children:(0,_e.t)("update")}):(0,N.jsx)("div",{className:Be,onClick:function(){return ce(!0)},children:(0,_e.t)("edit_")})]}),se&&(0,N.jsx)(I.Z,{})]})};var st=function(e){var t,i,s,a=e.cid,c=e.carryParentState,r=(0,j.$G)().t,u=(0,B.lr)(),v=(0,o.Z)(u,1)[0],_=(0,l.s0)(),m=(0,l.UO)(),h=(0,l.TH)(),p=(0,n.useState)(!1),x=(0,o.Z)(p,2),f=x[0],g=x[1],b=(0,n.useState)(""),S=(0,o.Z)(b,2),C=S[0],y=S[1],R=(0,Z._$)(),k=(0,o.Z)(R,1)[0],A=(0,n.useState)(!1),F=(0,o.Z)(A,2),P=F[0],L=F[1],q=(0,Z.EY)({data:{cid:a,page:1,limit:30},skip:!a}),w=q.classAllStudent,M=q.classAllStudentRefetch,D=(0,Z.GL)({cid:a,skip:!a}),O=D.classSettingReport,E=D.classSettingReportRefetch;return(0,n.useEffect)((function(){a&&(M(),E())}),[a,M,E]),(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{className:ge,children:["detail"===v.get("n")?(0,N.jsx)(nt,{oneStudentDetail:null===(t=h.state)||void 0===t?void 0:t.student,onRefetch:M,finalReportsSettings:null===O||void 0===O?void 0:O.finalReportsSettings}):(0,N.jsxs)("div",{className:je,children:[(0,N.jsx)("div",{className:Ne,children:null===w||void 0===w||null===(i=w.classes)||void 0===i||null===(s=i.ApproveStudent)||void 0===s?void 0:s.map((function(e,t){return(0,N.jsx)("div",{className:"No"===(null===e||void 0===e?void 0:e.finalReportStatus)?"".concat(be," ").concat(Ce):"".concat(be," ").concat(Se),onClick:function(){return function(e){var t;null!==O&&void 0!==O&&null!==(t=O.finalReportsSettings)&&void 0!==t&&t.finalReport?_("/q/".concat(m.username,"/member/class/").concat(m.cname,"/?a=report&n=detail"),{state:(0,d.Z)((0,d.Z)({},c),{},{student:e})}):(y(r("enable_final_report_toggle")),g(!0))}(e)},children:(null===e||void 0===e?void 0:e.studentROLLNO)>9?null===e||void 0===e?void 0:e.studentROLLNO:"0".concat(null===e||void 0===e?void 0:e.studentROLLNO)},t)}))}),(0,N.jsxs)("div",{className:ye,children:[(0,N.jsx)("div",{className:Re,children:r("download_all")}),(0,N.jsx)("div",{className:Ze,children:r("send_online")}),(0,N.jsx)("div",{className:Ze,onClick:function(){L((function(e){return!e})),k({cid:a}).then((function(){L((function(e){return!e}))})).catch({})},children:r("finalize_all")})]})]}),P&&(0,N.jsx)(I.Z,{}),(0,N.jsx)(T.SY,{msg:C,run:f,setRun:g})]})})},lt="Behaviour_checklist__3RLUA",at="Behaviour_form__QQU9w",ot="Behaviour_list__-rrDd",dt=i(16256),ct=i(81693),rt={behaviourForm:"BehaviourForm_behaviourForm__1A1Gb",bold:"BehaviourForm_bold__yagpx",behaviourFormInput:"BehaviourForm_behaviourFormInput__PQNSP",starbottom:"BehaviourForm_starbottom__Ubn4r",rating:"BehaviourForm_rating__7Jy-x",submit:"BehaviourForm_submit__es5JE",submitbtn:"BehaviourForm_submitbtn__3iJv0",improveInput:"BehaviourForm_improveInput__RTYL-"};var ut=function(e){var t,i,s,l,a=e.studentBehaviour,c=e.onRefetch,r=(0,n.useState)(null),u=(0,o.Z)(r,2),v=u[0],_=u[1],m=(0,n.useState)(null),h=(0,o.Z)(m,2),p=h[0],x=(h[1],(0,n.useState)(!1)),f=(0,o.Z)(x,2),g=f[0],j=f[1],b=(0,n.useState)({improvements:"",lackIn:"",ratings:null}),S=(0,o.Z)(b,2),C=S[0],y=S[1],R=(0,Z.Bp)({data:{sid:null===a||void 0===a?void 0:a._id},skip:!(null!==a&&void 0!==a&&a.studentBehaviour)}),k=R.classStudentBehavour,A=R.classStudentBehavourRefetch,F=(0,Z.z4)(),P=(0,o.Z)(F,1)[0];(0,n.useEffect)((function(){null!==a&&void 0!==a&&a.studentBehaviour&&A()}),[null===a||void 0===a?void 0:a.studentBehaviour,A]);var L=function(e,t){var i,n=(0,ke.Z)(t);try{for(n.s();!(i=n.n()).done;){var s=i.value;if((null===s||void 0===s?void 0:s.key)===e)return(0,_e.t)(null===s||void 0===s?void 0:s.tKey)}}catch(l){n.e(l)}finally{n.f()}};return(0,N.jsxs)("div",{className:rt.behaviourForm,children:[(0,N.jsxs)("h6",{children:[(0,N.jsxs)("span",{className:rt.bold,children:[" ",(0,_e.t)("student_name")," "]})," ",null===a||void 0===a?void 0:a.studentFirstName," ",null!==a&&void 0!==a&&a.studentMiddleName?null===a||void 0===a?void 0:a.studentMiddleName:" "," ",null===a||void 0===a?void 0:a.studentLastName]}),(0,N.jsxs)("h6",{children:[(0,N.jsxs)("span",{className:rt.bold,children:[" ",(0,_e.t)("student_roll_no")," "]})," ",null===a||void 0===a?void 0:a.studentROLLNO]}),null!==a&&void 0!==a&&a.studentBehaviour?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("input",{type:"text",maxLength:"50",disabled:!0,defaultValue:L(null===k||void 0===k||null===(t=k.student)||void 0===t?void 0:t.improvements,dt.gO),readOnly:!0,className:rt.improveInput}),(0,N.jsx)("input",{type:"text",maxLength:"50",disabled:!0,defaultValue:L(null===k||void 0===k||null===(i=k.student)||void 0===i?void 0:i.lackIn,dt.S2),readOnly:!0,className:rt.improveInput}),(0,N.jsxs)("div",{className:rt.starbottom,children:[(0,N.jsxs)("h6",{children:[" ",(0,_e.t)("student_deserving_stars")," "]}),(0,N.jsxs)("div",{className:rt.rating,children:[(0,E.Z)(Array(null===k||void 0===k||null===(s=k.student)||void 0===s?void 0:s.ratings)).map((function(e){return(0,N.jsx)("label",{children:(0,N.jsx)("img",{className:rt.yellow,src:"/images/members/star-yellow.svg",alt:""})},e)})),(0,E.Z)(Array(5-(null===k||void 0===k||null===(l=k.student)||void 0===l?void 0:l.ratings)||0)).map((function(e){return(0,N.jsx)("label",{children:(0,N.jsx)("img",{className:rt.yellow,src:"/images/members/star-grey.svg",alt:""})},e)}))]})]})]}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(ct.Z,{selectLabel:(0,_e.t)("student_improvements"),name:"improvements",onChange:function(e){return y((0,d.Z)((0,d.Z)({},C),{},{improvements:e.target.value}))},selectedValue:(0,_e.t)("choose_student_improvements"),options:dt.n8,optionsValue:dt.pO,value:C.improvements}),(0,N.jsx)(ct.Z,{selectLabel:(0,_e.t)("student_lackIn"),name:"lackIn",onChange:function(e){return y((0,d.Z)((0,d.Z)({},C),{},{lackIn:e.target.value}))},selectedValue:(0,_e.t)("choose_student_lackIn"),value:C.lackIn,options:dt.XO,optionsValue:dt.o9}),(0,N.jsxs)("div",{className:rt.starbottom,children:[(0,N.jsx)("h6",{children:(0,_e.t)("student_deserving_stars")}),(0,N.jsx)("div",{className:rt.rating,children:(0,E.Z)(Array(5)).map((function(e,t){var i=t+1;return(0,N.jsxs)("label",{children:[(0,N.jsx)("input",{value:i,onChange:function(e){return y((0,d.Z)((0,d.Z)({},C),{},{ratings:parseInt(e.target.value)}))},type:"radio",name:"rating",onClick:function(){return _(i)}}),i<=(p||v)?(0,N.jsx)("img",{className:rt.grey,src:"/images/members/star-yellow.svg",alt:""}):(0,N.jsx)("img",{className:rt.yellow,src:"/images/members/star-grey.svg",alt:""})]})}))})]}),(0,N.jsx)("div",{className:rt.submit,children:(0,N.jsx)("div",{className:rt.submitbtn,onClick:function(){j((function(e){return!e})),P({sid:null===a||void 0===a?void 0:a._id,behaviour:C}).then((function(){c(),j((function(e){return!e})),y({improvements:"",lackIn:"",ratings:null})})).catch({})},children:(0,_e.t)("submit")})})]}),g&&(0,N.jsx)(I.Z,{})]})},vt={studentList:"StudentList_studentList__7jWH+",box:"StudentList_box__zuo5l",green:"StudentList_green__HDsDz",purple:"StudentList_purple__tvx6q"};function _t(e){var t=e.index,i=e.setStudentBehaviour,s=e.stu,l=e.clickedIndex,a=e.channgeIndex,d=(0,n.useState)(!1),c=(0,o.Z)(d,2),r=c[0],u=c[1];return(0,N.jsx)("div",{onClick:function(){return i(s),u(!0),void a(t)},className:l===t||r&&l===t?"".concat(vt.box," ").concat(vt.green):null!==s&&void 0!==s&&s.studentBehaviour?"".concat(vt.box," ").concat(vt.purple):vt.box,children:(null===s||void 0===s?void 0:s.studentROLLNO)>9?null===s||void 0===s?void 0:s.studentROLLNO:"0".concat(null===s||void 0===s?void 0:s.studentROLLNO)})}var mt=function(e){var t=e.behaviourList,i=e.setStudentBehaviour,n=e.clickedIndex,s=e.channgeIndex;return(0,N.jsx)("div",{className:vt.studentList,children:null===t||void 0===t?void 0:t.map((function(e,t){return(0,N.jsx)(_t,{stu:e,index:t,clickedIndex:n,channgeIndex:s,setStudentBehaviour:i},t)}))})};var ht=function(e){var t,i=e.cid,s=(0,n.useState)(null),l=(0,o.Z)(s,2),a=l[0],d=l[1],c=(0,n.useState)(null),r=(0,o.Z)(c,2),u=r[0],v=r[1],_=(0,Z.EY)({data:{cid:i,page:1,limit:30},skip:!i}),m=_.classAllStudent,h=_.classAllStudentRefetch;return(0,n.useEffect)((function(){i&&h()}),[i,h]),(0,N.jsxs)("div",{className:lt,children:[(0,N.jsx)("div",{className:at,children:(0,N.jsx)(ut,{studentBehaviour:u,onRefetch:h})}),(0,N.jsx)("div",{className:ot,children:(0,N.jsx)(mt,{clickedIndex:a,channgeIndex:function(e){return d(e)},behaviourList:null===m||void 0===m||null===(t=m.classes)||void 0===t?void 0:t.ApproveStudent,setStudentBehaviour:v})})]})},pt="Checklist_exam_container__Udx5K",xt="Checklist_with_search__Dtefv",ft="Checklist_exam_card_container__o+Ro6",gt="Checklist_exam_inner_text__jU1md",jt="Checklist_exam_date__lF1YK",Nt="Checklist_imagedot__RrYj5",bt="Checklist_checklist_detail_header__1SJ+F",St=i(34219),Ct=i(72426),yt=i.n(Ct),Rt=function(e){var t,i,n=e.carryParentState,s=e.checklistDetail,l=(0,j.$G)().t;return(0,N.jsx)(C.Z,{carryParentState:(0,d.Z)((0,d.Z)({},n),{},{checklistId:null===s||void 0===s?void 0:s._id,checklistName:null!==(t=null===s||void 0===s?void 0:s.checklistName)&&void 0!==t?t:"",showFees:!(null!==s&&void 0!==s&&s.checklistAmount)}),activeTab:"checklist&detail",children:(0,N.jsxs)("div",{className:ft,title:"View checklist detail",children:[(0,N.jsx)("div",{className:Nt,children:(0,N.jsx)("img",{src:"/images/members/checklist-icon.svg",alt:""})}),(0,N.jsxs)("div",{className:gt,children:[(0,N.jsx)("h6",{children:null!==(i=null===s||void 0===s?void 0:s.checklistName)&&void 0!==i?i:""}),(0,N.jsx)("p",{children:yt()(null===s||void 0===s?void 0:s.createdAt).format("DD MMMM YYYY")})]}),null!==s&&void 0!==s&&s.checklistAmount?(0,N.jsxs)("div",{className:jt,children:[(0,N.jsxs)("h6",{children:[l("rs"),". ",null===s||void 0===s?void 0:s.checklistAmount]}),(0,N.jsx)("p",{children:l("fees")})]}):""]})})},Zt=function(e){var t,i=e.carryParentState,s=e.cid,l=(0,j.$G)().t,a=(0,n.useState)(!0),d=(0,o.Z)(a,2),c=d[0],r=d[1],u=(0,n.useState)([]),v=(0,o.Z)(u,2),_=v[0],m=v[1],h=(0,Z.BZ)({data:{cid:s,page:1,limit:20},skip:!s}),p=h.classAllChecklist,x=h.classAllChecklistRefetch;return(0,n.useEffect)((function(){s&&(x(),r(!0))}),[s,x]),(0,n.useEffect)((function(){var e,t;null!==p&&void 0!==p&&null!==(e=p.checklist)&&void 0!==e&&e.length?(m(null===p||void 0===p?void 0:p.checklist),r(!1)):0===(null===p||void 0===p||null===(t=p.checklist)||void 0===t?void 0:t.length)&&r(!1)}),[null===p||void 0===p?void 0:p.checklist]),(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{className:pt,children:[(0,N.jsx)("div",{className:xt,children:(0,N.jsx)("h6",{children:l("checklist")})}),(0,N.jsx)(P.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),null===_||void 0===_?void 0:_.map((function(e){return(0,N.jsx)(Rt,{checklistDetail:e,carryParentState:i},e._id)})),!c&&!(null!==p&&void 0!==p&&null!==(t=p.checklist)&&void 0!==t&&t.length)&&(0,N.jsx)(St.Z,{customStyleContainer:{marginTop:"9rem"},title:"No any checklist found",subtitle:"Please make sure checklist have created for this class."}),c&&(0,N.jsx)(Q.Z,{})]})})},kt=function(e){var t,i,s,l,a,d,c=e.student,r=e.checklistId,u=e.showFees,v=e.onRefetchWhenAction,_=(0,n.useState)(!1),m=(0,o.Z)(_,2),h=m[0],p=m[1],x=(0,Z.qy)(),f=(0,o.Z)(x,1)[0];return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("section",{className:bt,children:[(0,N.jsx)("h6",{style:{width:"15%"},children:null!==(t=null===c||void 0===c?void 0:c.studentROLLNO)&&void 0!==t?t:0}),(0,N.jsx)("h6",{style:{width:u?"70%":"55%"},children:"".concat(null!==(i=null===c||void 0===c?void 0:c.studentFirstName)&&void 0!==i?i:""," ").concat(null!==(s=null===c||void 0===c?void 0:c.studentMiddleName)&&void 0!==s?s:""," ").concat(null!==(l=null===c||void 0===c?void 0:c.studentLastName)&&void 0!==l?l:"")}),u?"":(0,N.jsx)("h6",{style:{width:"15%",textAlign:"center"},children:(0,N.jsx)("img",{src:null!==c&&void 0!==c&&null!==(a=c.onlineCheckList)&&void 0!==a&&a.includes(r)?"/images/department/radio-blue-icon.svg":"/images/department/radio-gray-icon.svg",alt:"icon"})}),(0,N.jsx)("h6",{style:{width:"15%",textAlign:"center"},children:(0,N.jsx)("img",{src:null!==c&&void 0!==c&&null!==(d=c.allottedChecklist)&&void 0!==d&&d.includes(r)?"/images/department/radio-blue-icon.svg":"/images/department/radio-gray-icon.svg",alt:"icon",onClick:function(){r&&(p((function(e){return!e})),f({cid:r,sid:null===c||void 0===c?void 0:c._id}).then((function(){v(),p((function(e){return!e}))})).catch({}))}})})]}),(0,N.jsx)(P.Z,{customStyle:{width:"100%"}}),h&&(0,N.jsx)(I.Z,{})]})},At=function(){var e,t,i,s,a,d,c,r,u,v=(0,j.$G)().t,_=(0,l.TH)(),m=(0,n.useState)(!0),h=(0,o.Z)(m,2),p=h[0],x=h[1],f=(0,n.useState)(!1),g=(0,o.Z)(f,2),b=g[0],S=g[1],C=(0,n.useState)([]),y=(0,o.Z)(C,2),R=y[0],k=y[1],A=(0,Z.rV)({data:{cid:null===(e=_.state)||void 0===e?void 0:e.checklistId,page:1,limit:20},skip:!(null!==(t=_.state)&&void 0!==t&&t.checklistId)}),F=A.classChecklistAllStudent,L=A.classChecklistAllStudentRefetch;(0,n.useEffect)((function(){var e;null!==(e=_.state)&&void 0!==e&&e.checklistId&&L()}),[null===(i=_.state)||void 0===i?void 0:i.checklistId,L]),(0,n.useEffect)((function(){var e,t,i,n,s,l,a,o;b?null!==F&&void 0!==F&&null!==(e=F.checklist)&&void 0!==e&&null!==(t=e.studentsList)&&void 0!==t&&t.length&&(k(null===F||void 0===F||null===(i=F.checklist)||void 0===i?void 0:i.studentsList),x(!1),S(!1)):null!==F&&void 0!==F&&null!==(n=F.checklist)&&void 0!==n&&null!==(s=n.studentsList)&&void 0!==s&&s.length?(k(null===F||void 0===F||null===(o=F.checklist)||void 0===o?void 0:o.studentsList),x(!1)):0===(null===F||void 0===F||null===(l=F.checklist)||void 0===l||null===(a=l.studentsList)||void 0===a?void 0:a.length)&&x(!1)}),[null===F||void 0===F||null===(s=F.checklist)||void 0===s?void 0:s.studentsList]);var T=function(){S(!0),L()};return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{className:pt,children:[(0,N.jsx)("div",{className:xt,children:(0,N.jsx)("h6",{children:null===(a=_.state)||void 0===a?void 0:a.checklistName})}),(0,N.jsx)(P.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,N.jsxs)("section",{className:bt,children:[(0,N.jsx)("h6",{style:{width:"15%"},children:v("roll_number")}),(0,N.jsx)("h6",{style:{width:null!==(d=_.state)&&void 0!==d&&d.showFees?"70%":"55%"},children:v("name")}),null!==(c=_.state)&&void 0!==c&&c.showFees?"":(0,N.jsx)("h6",{style:{width:"15%",textAlign:"center"},children:v("fees")}),(0,N.jsx)("h6",{style:{width:"15%",textAlign:"center"},children:v("allotted")})]}),(0,N.jsx)(P.Z,{customStyle:{marginBottom:"0.6rem",width:"100%"}}),null===R||void 0===R?void 0:R.map((function(e){var t,i;return(0,N.jsx)(kt,{student:e,checklistId:null===(t=_.state)||void 0===t?void 0:t.checklistId,showFees:null===(i=_.state)||void 0===i?void 0:i.showFees,onRefetchWhenAction:T},e._id)})),!p&&!(null!==F&&void 0!==F&&null!==(r=F.checklist)&&void 0!==r&&null!==(u=r.studentsList)&&void 0!==u&&u.length)&&(0,N.jsx)(St.Z,{customStyleContainer:{marginTop:"9rem"},title:"No any checklist student found.",subtitle:"Please make sure when checklist created for this class then student here."}),p&&(0,N.jsx)(Q.Z,{})]})})},Ft="Leaves_leaves__sXX59",Pt="Leaves_leavesHead__ool7a",Lt="Leaves_leaveCardContainer__Z5Z7N",Tt="Leaves_leaveCard__NBI+w",qt="Leaves_leaveCardTop__iAOE4",It="Leaves_leaveCardTopLeft__425dL",wt="Leaves_leaveCardTopRight__fWsWD",Mt="Leaves_leaveCardTopLeftRight__pDAuk",Dt="Leaves_rightbtnleft__i7GAJ",Ot="Leaves_rightbtnright__2fo9Y",Bt="Leaves_leaveCardbottom__pSWYB";var Et=function(e){var t,i,s,l,a,d,c,r=e.leave,u=e.onRefetch,v=(0,j.$G)().t,_=(0,n.useState)(!1),m=(0,o.Z)(_,2),h=m[0],p=m[1],x=(0,Z.cX)(),f=(0,o.Z)(x,1)[0],g=function(e){p((function(e){return!e})),f({sid:null===r||void 0===r?void 0:r._id,action:{status:e}}).then((function(){u(),p((function(e){return!e}))})).catch({})};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:Tt,children:[(0,N.jsxs)("div",{className:qt,children:[(0,N.jsxs)("div",{className:It,children:[(0,N.jsx)("img",{src:null!==r&&void 0!==r&&null!==(t=r.student)&&void 0!==t&&t.studentProfilePhoto?"".concat(S.yI,"/").concat(null===r||void 0===r||null===(i=r.student)||void 0===i?void 0:i.studentProfilePhoto):"/images/demo_users/user1.svg",alt:""}),(0,N.jsxs)("div",{className:Mt,children:[(0,N.jsxs)("h6",{children:[null===r||void 0===r||null===(s=r.student)||void 0===s?void 0:s.studentFirstName,null!==r&&void 0!==r&&null!==(l=r.student)&&void 0!==l&&l.studentMiddleName?null===r||void 0===r||null===(a=r.student)||void 0===a?void 0:a.studentMiddleName:" ",null===r||void 0===r||null===(d=r.student)||void 0===d?void 0:d.studentLastName]}),(null===r||void 0===r?void 0:r.date)&&(0,N.jsxs)("p",{children:[v("from")," ",null===r||void 0===r?void 0:r.date[0]," ",v("to")," ",null===r||void 0===r?void 0:r.date[(null===r||void 0===r||null===(c=r.date)||void 0===c?void 0:c.length)-1]]})]})]}),(0,N.jsx)("div",{className:wt,children:"Request"!==(null===r||void 0===r?void 0:r.status)?(0,N.jsx)("div",{className:Dt,children:null===r||void 0===r?void 0:r.status}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:Dt,onClick:function(){return g("Rejected")},children:v("reject")}),(0,N.jsx)("div",{className:Ot,onClick:function(){return g("Accepted")},children:v("accept")})]})})]}),(0,N.jsx)("div",{className:Bt,children:null===r||void 0===r?void 0:r.reason})]}),h&&(0,N.jsx)(I.Z,{})]})};var Gt=function(e){var t,i=e.cid,s=(0,Z.zv)({data:{cid:i,page:1,limit:50},skip:!i}),l=s.classAllLeaveRequest,a=s.classAllLeaveRequestRefetch;(0,n.useEffect)((function(){i&&a()}),[i,a]);var o=(0,j.$G)().t;return(0,N.jsxs)("div",{className:Ft,children:[(0,N.jsx)("h6",{className:Pt,children:o("leaves_and_transfer")}),(0,N.jsx)("div",{className:Lt,children:null===l||void 0===l||null===(t=l.allLeave)||void 0===t?void 0:t.map((function(e){return(0,N.jsx)(Et,{leave:e,onRefetch:a},null===e||void 0===e?void 0:e._id)}))})]})},zt="Complaints_complaints__BN2Dw",Wt="Complaints_complaintList__D8CnM",Ut="ComplaintList_complaintList__URfqa",Yt="ComplaintList_listHead__6YhqD",Qt="ComplaintList_tabss__IGdWf",Ht="ComplaintList_tabb__DDcSF",Vt="ComplaintList_tabActive__CTIfZ",$t={list:"UnsolvedList_list__mFfW3",item:"UnsolvedList_item__JMvLi",datetime:"UnsolvedList_datetime__Yxaa1"},Jt={addDisplay:"ComplaintModal_addDisplay__wOiKX",title:"ComplaintModal_title__zyvpl",text:"ComplaintModal_text__bzm7X",content:"ComplaintModal_content__rujmS",footer:"ComplaintModal_footer__lrrhB",btn:"ComplaintModal_btn__3s+Vt"},Kt=i(5574);var Xt=function(e){var t,i,s,l,a,d,c,r,u,v,_,m,h=e.addDisplay,p=e.setAddDisplay,x=e.complaintId,f=e.onRefetch,g=(0,j.$G)().t,b=(0,n.useState)(!1),S=(0,o.Z)(b,2),C=S[0],y=S[1],R=(0,Z.y)({data:{cid:x},skip:!x}),k=R.classComplaintDetail,A=R.classComplaintDetailRefetch,F=(0,Z.l9)(),P=(0,o.Z)(F,1)[0];return(0,n.useEffect)((function(){x&&A()}),[x,A]),(0,N.jsxs)(Kt.Z,{open:h,onClose:function(){p(!1)},children:[(0,N.jsxs)("div",{className:Jt.addDisplay,children:[(0,N.jsxs)("div",{className:Jt.title,children:[(0,N.jsx)("img",{src:"/images/complaint-white.svg",alt:""}),(0,N.jsxs)("div",{className:Jt.text,children:[(0,N.jsx)("div",{className:Jt.insName,children:(0,N.jsx)("h6",{children:"Open"===(null===k||void 0===k||null===(t=k.complaint)||void 0===t?void 0:t.complaintType)?"".concat(null===k||void 0===k||null===(i=k.complaint)||void 0===i||null===(s=i.student)||void 0===s?void 0:s.studentFirstName,"\n        ").concat(null!==k&&void 0!==k&&null!==(l=k.complaint)&&void 0!==l&&null!==(a=l.student)&&void 0!==a&&a.studentMiddleName?null===k||void 0===k||null===(d=k.complaint)||void 0===d||null===(c=d.student)||void 0===c?void 0:c.studentMiddleName:" ","\n        ").concat(null===k||void 0===k||null===(r=k.complaint)||void 0===r||null===(u=r.student)||void 0===u?void 0:u.studentLastName):"Anonymous"})}),(0,N.jsx)("div",{className:Jt.insUserName,children:(0,N.jsx)("p",{children:yt()(null===k||void 0===k||null===(v=k.complaint)||void 0===v?void 0:v.createdAt).format("DD-MM-YYYY")})})]})]}),(0,N.jsx)("div",{className:Jt.content,children:null===k||void 0===k||null===(_=k.complaint)||void 0===_?void 0:_.complaintContent}),"Solved"!==(null===k||void 0===k||null===(m=k.complaint)||void 0===m?void 0:m.complaintStatus)?(0,N.jsx)("div",{className:Jt.footer,children:(0,N.jsx)("div",{className:Jt.btn,onClick:function(){var e;"Solved"===(null===k||void 0===k||null===(e=k.complaint)||void 0===e?void 0:e.complaintStatus)||(y((function(e){return!e})),P({cid:x,complaintSolve:{status:"Solved"}}).then((function(){f(),y((function(e){return!e}))})).catch({}))},children:g("Solved")})}):""]}),C&&(0,N.jsx)(I.Z,{})]})};function ei(e){var t,i,s,l,a=e.complaint,d=e.onRefetch,c=(0,n.useState)(!1),r=(0,o.Z)(c,2),u=r[0],v=r[1];return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:$t.item,onClick:function(){return v((function(e){return!e}))},children:[(0,N.jsx)("img",{src:"/images/complainIcon.svg",alt:""}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h6",{children:"Open"===(null===a||void 0===a?void 0:a.complaintType)?"".concat(null===a||void 0===a||null===(t=a.student)||void 0===t?void 0:t.studentFirstName,"\n        ").concat(null!==a&&void 0!==a&&null!==(i=a.student)&&void 0!==i&&i.studentMiddleName?null===a||void 0===a||null===(s=a.student)||void 0===s?void 0:s.studentMiddleName:" ","\n        ").concat(null===a||void 0===a||null===(l=a.student)||void 0===l?void 0:l.studentLastName):"Anonymous"}),(0,N.jsx)("div",{className:$t.datetime,children:(0,N.jsx)("p",{children:yt()(null===a||void 0===a?void 0:a.createdAt).format("DD-MM-YYYY")})})]})]}),u&&(0,N.jsx)(Xt,{setAddDisplay:v,addDisplay:u,complaintId:null===a||void 0===a?void 0:a._id,onRefetch:d})]})}var ti=function(e){var t,i=e.cid,s=(0,Z.xW)({data:{cid:i,status:"Unsolved",page:1,limit:50},skip:!i}),l=s.classAllComplaint,a=s.classAllComplaintRefetch;return(0,n.useEffect)((function(){i&&a()}),[i,a]),(0,N.jsx)("div",{className:$t.list,children:null===l||void 0===l||null===(t=l.complaints)||void 0===t?void 0:t.map((function(e){return(0,N.jsx)(ei,{complaint:e,onRefetch:a},null===e||void 0===e?void 0:e._id)}))})},ii={list:"SolvedList_list__hPx07",item:"SolvedList_item__OhPy9",datetime:"SolvedList_datetime__HnVBa"};function ni(e){var t,i,s,l,a=e.complaint,d=(0,n.useState)(!1),c=(0,o.Z)(d,2),r=c[0],u=c[1];return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:ii.item,onClick:function(){return u((function(e){return!e}))},children:[(0,N.jsx)("img",{src:"/images/complainIcon.svg",alt:""}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h6",{children:"Open"===(null===a||void 0===a?void 0:a.complaintType)?"".concat(null===a||void 0===a||null===(t=a.student)||void 0===t?void 0:t.studentFirstName,"\n        ").concat(null!==a&&void 0!==a&&null!==(i=a.student)&&void 0!==i&&i.studentMiddleName?null===a||void 0===a||null===(s=a.student)||void 0===s?void 0:s.studentMiddleName:" ","\n        ").concat(null===a||void 0===a||null===(l=a.student)||void 0===l?void 0:l.studentLastName):"Anonymous"}),(0,N.jsx)("div",{className:ii.datetime,children:(0,N.jsx)("p",{children:yt()(null===a||void 0===a?void 0:a.createdAt).format("DD-MM-YYYY")})})]})]}),r&&(0,N.jsx)(Xt,{setAddDisplay:u,addDisplay:r,complaintId:null===a||void 0===a?void 0:a._id})]})}var si=function(e){var t,i=e.cid,s=(0,Z.xW)({data:{cid:i,status:"Solved",page:1,limit:50},skip:!i}),l=s.classAllComplaint,a=s.classAllComplaintRefetch;return(0,n.useEffect)((function(){i&&a()}),[i,a]),(0,N.jsx)("div",{className:ii.list,children:null===l||void 0===l||null===(t=l.complaints)||void 0===t?void 0:t.map((function(e){return(0,N.jsx)(ni,{complaint:e},null===e||void 0===e?void 0:e._id)}))})};var li=function(e){var t=e.cid,i=(0,j.$G)().t,s=(0,n.useState)(!1),l=(0,o.Z)(s,2),a=l[0],d=l[1];return(0,N.jsxs)("div",{className:Ut,children:[(0,N.jsxs)("div",{className:Qt,children:[(0,N.jsx)("div",{className:a?Ht:"".concat(Ht," ").concat(Vt),onClick:function(){return d(!1)},children:i("unsolved")}),(0,N.jsx)("div",{className:a?"".concat(Ht," ").concat(Vt):Ht,onClick:function(){return d(!0)},children:i("Solved")})]}),(0,N.jsx)("div",{className:Yt,children:a?(0,N.jsx)(si,{cid:t}):(0,N.jsx)(ti,{cid:t})})]})};var ai=function(e){var t=e.cid;return(0,N.jsx)("div",{className:zt,children:(0,N.jsx)("div",{className:Wt,children:(0,N.jsx)(li,{cid:t})})})},oi=i(74522),di=i(87744),ci=i(41794),ri=i(91490),ui=i(10406),vi=i(13877);var _i=function(e){var t,i,s,o,d,c,r,u,v,_,m,h,p,x,f,g,b,S,C,y,R,A,F,L,T,q,I,w,D,O,B,E,G,z,W,U,Y,Q,H,V,$,J,X,ee,te=e.onClickValue,ie=e.carryParentState,ne=(0,l.TH)(),se=(0,j.$G)().t,le=(0,Z.ek)(null===te||void 0===te?void 0:te._id),ae=le.classProfile,oe=le.classProfileRefetch;return n.useEffect((function(){null!==te&&void 0!==te&&te._id&&oe()}),[null===te||void 0===te?void 0:te._id,oe]),(0,N.jsxs)("div",{className:a,children:[!(null!==ne&&void 0!==ne&&ne.search)&&(0,N.jsx)(k,{classProfile:null===ae||void 0===ae?void 0:ae.classes,carryParentState:ie}),(null===ne||void 0===ne?void 0:ne.search)&&(0,N.jsxs)("div",{children:["catalog"===(null===ne||void 0===ne||null===(t=ne.search)||void 0===t?void 0:t.substring(3,10))&&(0,N.jsx)(K,{cid:null===ae||void 0===ae||null===(i=ae.classes)||void 0===i?void 0:i._id,instituteId:null===ae||void 0===ae||null===(s=ae.classes)||void 0===s||null===(o=s.institute)||void 0===o?void 0:o._id,carryParentState:ie}),"attendance"===(null===ne||void 0===ne||null===(d=ne.search)||void 0===d?void 0:d.substring(3))&&(0,N.jsx)(ce.Z,{cid:null===ae||void 0===ae||null===(c=ae.classes)||void 0===c?void 0:c._id,className:"".concat(null===ae||void 0===ae||null===(r=ae.classes)||void 0===r?void 0:r.className," - ").concat(null===ae||void 0===ae||null===(u=ae.classes)||void 0===u?void 0:u.classTitle)}),"time-table"===(null===ne||void 0===ne||null===(v=ne.search)||void 0===v?void 0:v.substring(3))&&(0,N.jsxs)("div",{className:ui.Z.hostel_container,children:[(0,N.jsx)("div",{className:ui.Z.with_search,children:(0,N.jsx)("h6",{children:se("time_table")})}),(0,N.jsx)(P.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,N.jsx)(ri.Z,{clsId:null===ae||void 0===ae||null===(_=ae.classes)||void 0===_?void 0:_._id})]}),"leave"===(null===ne||void 0===ne||null===(m=ne.search)||void 0===m?void 0:m.substring(3))&&(0,N.jsx)(Gt,{cid:null===ae||void 0===ae||null===(h=ae.classes)||void 0===h?void 0:h._id}),"fees"===(null===ne||void 0===ne||null===(p=ne.search)||void 0===p?void 0:p.substring(3))&&(0,N.jsx)(fe,{cid:null===ae||void 0===ae||null===(x=ae.classes)||void 0===x?void 0:x._id}),"checklist"===(null===ne||void 0===ne||null===(f=ne.search)||void 0===f?void 0:f.substring(3))&&(0,N.jsx)(Zt,{cid:null===ae||void 0===ae||null===(g=ae.classes)||void 0===g?void 0:g._id,carryParentState:ie}),"behaviour"===(null===ne||void 0===ne||null===(b=ne.search)||void 0===b?void 0:b.substring(3))&&(0,N.jsx)(ht,{cid:null===ae||void 0===ae||null===(S=ae.classes)||void 0===S?void 0:S._id}),"report"===(null===ne||void 0===ne||null===(C=ne.search)||void 0===C?void 0:C.substring(3,9))&&(0,N.jsx)(st,{cid:null===ae||void 0===ae||null===(y=ae.classes)||void 0===y?void 0:y._id,carryParentState:ie}),"promote"===(null===ne||void 0===ne||null===(R=ne.search)||void 0===R?void 0:R.substring(3))&&(0,N.jsx)(oi.Z,{classId:null===ae||void 0===ae||null===(A=ae.classes)||void 0===A?void 0:A._id}),"complaint"===(null===ne||void 0===ne||null===(F=ne.search)||void 0===F?void 0:F.substring(3))&&(0,N.jsx)(ai,{cid:null===ae||void 0===ae||null===(L=ae.classes)||void 0===L?void 0:L._id}),"setting"===(null===ne||void 0===ne||null===(T=ne.search)||void 0===T?void 0:T.substring(3))&&(0,N.jsx)(M,{cid:null===ae||void 0===ae||null===(q=ae.classes)||void 0===q?void 0:q._id,startDate:null===ae||void 0===ae||null===(I=ae.classes)||void 0===I?void 0:I.classStartDate,classCode:null===ae||void 0===ae||null===(w=ae.classes)||void 0===w?void 0:w.classCode,classStatus:null===ae||void 0===ae||null===(D=ae.classes)||void 0===D?void 0:D.classStatus}),"request"===(null===ne||void 0===ne||null===(O=ne.search)||void 0===O?void 0:O.substring(3))&&(0,N.jsx)(de,{cid:null===ae||void 0===ae||null===(B=ae.classes)||void 0===B?void 0:B._id,id:null===ae||void 0===ae||null===(E=ae.classes)||void 0===E||null===(G=E.institute)||void 0===G?void 0:G._id,did:null===ae||void 0===ae||null===(z=ae.classes)||void 0===z||null===(W=z.department)||void 0===W?void 0:W._id,bid:null===ae||void 0===ae||null===(U=ae.classes)||void 0===U||null===(Y=U.batch)||void 0===Y?void 0:Y._id}),"checklist&detail"===(null===ne||void 0===ne||null===(Q=ne.search)||void 0===Q?void 0:Q.substring(3))&&(0,N.jsx)(At,{}),"batch"===(null===ne||void 0===ne||null===(H=ne.search)||void 0===H?void 0:H.substring(3))&&(0,N.jsx)(di.Z,{cid:null===ae||void 0===ae||null===(V=ae.classes)||void 0===V?void 0:V._id,carryParentState:ie}),"batch-detail"===(null===ne||void 0===ne||null===($=ne.search)||void 0===$?void 0:$.substring(3))&&(0,N.jsx)(ci.Z,{cid:null===ae||void 0===ae||null===(J=ae.classes)||void 0===J?void 0:J._id}),("subject"===(null===(X=ne.search)||void 0===X?void 0:X.substring(3,10))||"assignment"===(null===(ee=ne.search)||void 0===ee?void 0:ee.substring(3,13)))&&(0,N.jsx)(vi.Z,{carryParentState:ie,viewAs:"CLASS_TEACHER"})]})]})},mi=function(){var e,t,i,n,a,o,d=(0,l.TH)();return(0,N.jsx)(s.Z,{index:"2",sid:null!==(e=null===d||void 0===d||null===(t=d.state)||void 0===t?void 0:t.sid)&&void 0!==e?e:"",onClickValue:null!==(i=null===d||void 0===d||null===(n=d.state)||void 0===n?void 0:n.onClickValue)&&void 0!==i?i:"",children:(0,N.jsx)(_i,{onClickValue:null!==(a=null===d||void 0===d||null===(o=d.state)||void 0===o?void 0:o.onClickValue)&&void 0!==a?a:"",carryParentState:null===d||void 0===d?void 0:d.state})})}},59391:function(e,t,i){i.d(t,{Ip:function(){return r}});var n=i(72791),s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},s(e,t)};var l=50,a=50;function o(e){var t=e.className,i=e.counterClockwise,s=e.dashRatio,l=e.pathRadius,a=e.strokeWidth,o=e.style;return(0,n.createElement)("path",{className:t,style:Object.assign({},o,c({pathRadius:l,dashRatio:s,counterClockwise:i})),d:d({pathRadius:l,counterClockwise:i}),strokeWidth:a,fillOpacity:0})}function d(e){var t=e.pathRadius,i=e.counterClockwise?1:0;return"\n      M "+l+","+a+"\n      m 0,-"+t+"\n      a "+t+","+t+" "+i+" 1 1 0,"+2*t+"\n      a "+t+","+t+" "+i+" 1 1 0,-"+2*t+"\n    "}function c(e){var t=e.counterClockwise,i=e.dashRatio,n=e.pathRadius,s=2*Math.PI*n,l=(1-i)*s;return{strokeDasharray:s+"px "+s+"px",strokeDashoffset:(t?-l:l)+"px"}}var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(t,e),t.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},t.prototype.getPathRadius=function(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()},t.prototype.getPathRatio=function(){var e=this.props,t=e.value,i=e.minValue,n=e.maxValue;return(Math.min(Math.max(t,i),n)-i)/(n-i)},t.prototype.render=function(){var e=this.props,t=e.circleRatio,i=e.className,s=e.classes,d=e.counterClockwise,c=e.styles,r=e.strokeWidth,u=e.text,v=this.getPathRadius(),_=this.getPathRatio();return(0,n.createElement)("svg",{className:s.root+" "+i,style:c.root,viewBox:"0 0 100 100","data-test-id":"CircularProgressbar"},this.props.background?(0,n.createElement)("circle",{className:s.background,style:c.background,cx:l,cy:a,r:50}):null,(0,n.createElement)(o,{className:s.trail,counterClockwise:d,dashRatio:t,pathRadius:v,strokeWidth:r,style:c.trail}),(0,n.createElement)(o,{className:s.path,counterClockwise:d,dashRatio:_*t,pathRadius:v,strokeWidth:r,style:c.path}),u?(0,n.createElement)("text",{className:s.text,style:c.text,x:l,y:a},u):null)},t.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},t}(n.Component)},1009:function(){},15961:function(e,t){t.Z={admission_application_container:"AdmissionApplicationRequest_admission_application_container__iMsyZ",moderator_container_title:"AdmissionApplicationRequest_moderator_container_title__5WiPB",with_search:"AdmissionApplicationRequest_with_search__mm0Q+",search_container:"AdmissionApplicationRequest_search_container__3swMB",search_container_input:"AdmissionApplicationRequest_search_container_input__InEPj",searchIcon:"AdmissionApplicationRequest_searchIcon__RdABM",search_container_filter:"AdmissionApplicationRequest_search_container_filter__fEHEF",remainingFees:"AdmissionApplicationRequest_remainingFees__X9g5z",ongoing_card:"AdmissionApplicationRequest_ongoing_card__1TVLc",ongoing_card_inner:"AdmissionApplicationRequest_ongoing_card_inner__1Gato",ongoing_card_text:"AdmissionApplicationRequest_ongoing_card_text__AKxnS",menu_icon:"AdmissionApplicationRequest_menu_icon__F3nQo",add_new_category:"AdmissionApplicationRequest_add_new_category__ZTInw",applicant_card_container:"AdmissionApplicationRequest_applicant_card_container__7UN2C",applicant_card_container_hover:"AdmissionApplicationRequest_applicant_card_container_hover__mP-Wa",applicant_card_container_active:"AdmissionApplicationRequest_applicant_card_container_active__5VW5x",applicant_card_inner:"AdmissionApplicationRequest_applicant_card_inner__kSbmI",applicant_card_inner_info:"AdmissionApplicationRequest_applicant_card_inner_info__8POe8",applicant_card_contact:"AdmissionApplicationRequest_applicant_card_contact__Ipapl",applicant_card_contact_inner:"AdmissionApplicationRequest_applicant_card_contact_inner__dDeFH",application_button:"AdmissionApplicationRequest_application_button__a2s6z",selectAppBtnContainer:"AdmissionApplicationRequest_selectAppBtnContainer__d0wD6",selectBtnContainer:"AdmissionApplicationRequest_selectBtnContainer__Si3QU",selectBtn:"AdmissionApplicationRequest_selectBtn__A0SVG",cancelledBtn:"AdmissionApplicationRequest_cancelledBtn__wEX7V",notConfirmedBtn:"AdmissionApplicationRequest_notConfirmedBtn__wZb02",onlineBtn:"AdmissionApplicationRequest_onlineBtn__v+gwq",cancelStatus:"AdmissionApplicationRequest_cancelStatus__qYDFg",checkbox:"AdmissionApplicationRequest_checkbox__tlbdN",back_icon:"AdmissionApplicationRequest_back_icon__gIdbd",receipt_requested_btn:"AdmissionApplicationRequest_receipt_requested_btn__stgcE",not_confirm_container:"AdmissionApplicationRequest_not_confirm_container__+r4pJ",applicant_profile:"AdmissionApplicationRequest_applicant_profile__kHoFd",applicant_profile_text:"AdmissionApplicationRequest_applicant_profile_text__wgySz",button_group:"AdmissionApplicationRequest_button_group__LKrUN",admission_collect_docs:"AdmissionApplicationRequest_admission_collect_docs__+-jUT",confirm_btn:"AdmissionApplicationRequest_confirm_btn__njvM8",admission_modal:"AdmissionApplicationRequest_admission_modal__a3Dx6",admission_modal_heading:"AdmissionApplicationRequest_admission_modal_heading__7i6gM",admission_fees_row:"AdmissionApplicationRequest_admission_fees_row__Ykj39",admission_confirm_class_card:"AdmissionApplicationRequest_admission_confirm_class_card__Ytr77",admission_confirm_batch_card:"AdmissionApplicationRequest_admission_confirm_batch_card__Cuven",admission_confirm_class_count:"AdmissionApplicationRequest_admission_confirm_class_count__P-bt1",admission_class_confirm:"AdmissionApplicationRequest_admission_class_confirm__SMLDh",mulitple_select_btn:"AdmissionApplicationRequest_mulitple_select_btn__WOWDd",end_btn:"AdmissionApplicationRequest_end_btn__vgxwG",admission_mulit_select:"AdmissionApplicationRequest_admission_mulit_select__ggFWa",admission_mulit_select_right:"AdmissionApplicationRequest_admission_mulit_select_right__K51Rw",os_reminder:"AdmissionApplicationRequest_os_reminder__AHp8F",os_filter_container:"AdmissionApplicationRequest_os_filter_container__Ck0gz",ongoing_card_count_date:"AdmissionApplicationRequest_ongoing_card_count_date__xi1+1",ongoing_card_count_container:"AdmissionApplicationRequest_ongoing_card_count_container__af9uG",applicant_card_reciept:"AdmissionApplicationRequest_applicant_card_reciept__QR+Ho",transfer_container:"AdmissionApplicationRequest_transfer_container__y5X5q",transfer_select_btn:"AdmissionApplicationRequest_transfer_select_btn__u8NkN"}},77392:function(e,t){t.Z={setting_conatiner:"Setting_setting_conatiner__2sMOi",setting_passing:"Setting_setting_passing__QWY9k",label:"Setting_label__fgT77",inputBox:"Setting_inputBox__HiMYD",confirm_input:"Setting_confirm_input__GxyS0",setting_complete:"Setting_setting_complete__0WSev",confirm_conatiner:"Setting_confirm_conatiner__ryUrl",confirm_title:"Setting_confirm_title__igOJ7",confirm_title_heading:"Setting_confirm_title_heading__47mZx"}}}]);
//# sourceMappingURL=2079.8d622b7b.chunk.js.map