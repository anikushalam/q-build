"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[4665],{47167:function(i,e,n){var t=n(1413),a=(n(72791),n(16871)),o=n(43504),c=n(23769),l=n(45639),d=n(80184);e.Z=function(i){var e=i.tabList,n=i.activeIndexTab,r=i.setActiveIndexTab,s=i.customStyleTab,u=i.carryParentState,v=i.showAs,_=i.customStyleLink,f=(0,a.UO)();return(0,d.jsx)("div",{className:l.Z.universal_container,children:v?null===e||void 0===e?void 0:e.map((function(i,e){return"disabled"===(null===i||void 0===i?void 0:i.is_active)?(0,d.jsx)("div",{className:n===(null===i||void 0===i?void 0:i.id)?"".concat(l.Z.universal_container_item," ").concat(l.Z.universal_container_item_active):l.Z.universal_container_item,style:(0,t.Z)((0,t.Z)({},_),{},{opacity:"0.5"}),children:(0,d.jsx)(c.Z,{children:null===i||void 0===i?void 0:i.name})},e):(0,d.jsx)(o.rU,{to:"/q/".concat(f.username,"/").concat(null===i||void 0===i?void 0:i.url),state:(0,t.Z)({},u),style:(0,t.Z)({},_),children:(0,d.jsx)("div",{className:n===(null===i||void 0===i?void 0:i.id)?"".concat(l.Z.universal_container_item," ").concat(l.Z.universal_container_item_active):l.Z.universal_container_item,style:(0,t.Z)({},s),children:(0,d.jsx)(c.Z,{children:null===i||void 0===i?void 0:i.name})})},e)})):null===e||void 0===e?void 0:e.map((function(i,e){return(0,d.jsx)("div",{className:n===(null===i||void 0===i?void 0:i.id)?"".concat(l.Z.universal_container_item," ").concat(l.Z.universal_container_item_active):l.Z.universal_container_item,onClick:function(){return r(null===i||void 0===i?void 0:i.id)},style:(0,t.Z)({},s),children:(0,d.jsx)(c.Z,{children:null===i||void 0===i?void 0:i.name})},e)}))})}},23769:function(i,e,n){n.d(e,{Z:function(){return c}});var t=n(29439),a=n(72791),o=n(80184);var c=function(i){var e=i.children,n=i.onclick,c=(0,a.useState)(!1),l=(0,t.Z)(c,2),d=l[0],r=l[1],s=(0,a.useState)({x:-1,y:-1}),u=(0,t.Z)(s,2),v=u[0],_=u[1];return(0,a.useEffect)((function(){-1!==v.x&&-1!==v.y?(r(!0),setTimeout((function(){return r(!1)}),1e3)):r(!1)}),[v]),(0,a.useEffect)((function(){d||_({x:-1,y:-1})}),[d]),(0,o.jsxs)("div",{className:"ripple_btn",onClick:function(i){_({x:i.clientX-i.target.offsetLeft,y:i.clientY-i.target.offsetTop}),n&&n(i)},children:[d?(0,o.jsx)("span",{className:"ripple"}):"",(0,o.jsx)("span",{className:"content",children:e})]})}},10515:function(i,e,n){n.d(e,{Z:function(){return g}});var t=n(1413),a=n(93433),o=n(37762),c=n(29439),l=n(72791),d=n(36665),r=n(83401),s=n(39230),u=n(98094),v=n(61292),_=n(80184),f=function(i){var e=i.topic,n=i.topicId,t=(0,s.$G)().t;return(0,_.jsxs)("div",{className:r.Z.academic_card_container,children:[(0,_.jsxs)("div",{className:r.Z.academic_card_top,children:[(0,_.jsx)("img",{src:"/images/member_tab/subject/subject-topic-icon.svg",alt:"topic icon"}),(0,_.jsx)("h6",{children:t("selected_topics")})]}),null===e||void 0===e?void 0:e.map((function(i){return(0,_.jsx)(v.Z,{topic:i,topicId:n,isView:"SAVE_RECORD"},null===i||void 0===i?void 0:i._id)}))]})},m=n(72952),p=[{name:"tab_lecture",id:0,key:"Lecture"},{name:"tab_practical",id:1,key:"Practical"},{name:"tab_tutorial",id:2,key:"Tutorial"}],h=function(i){var e=i.topic,n=i.state,d=i.setState,u=i.isEdit,v=i.topicId,h=(0,s.$G)().t,x=(0,l.useState)([]),j=(0,c.Z)(x,2),Z=j[0],y=j[1];return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:r.Z.record_tab_container,children:null===p||void 0===p?void 0:p.map((function(i){return(0,_.jsx)("div",{className:n.rec_status===(null===i||void 0===i?void 0:i.key)?"".concat(r.Z.record_tab," ").concat(r.Z.record_tab_active):r.Z.record_tab,onClick:function(){return e=null===i||void 0===i?void 0:i.key,void d((function(i){return(0,t.Z)((0,t.Z)({},i),{},{rec_status:e})}));var e},children:(0,_.jsx)("h6",{children:h(null===i||void 0===i?void 0:i.name)})},null===i||void 0===i?void 0:i.id)}))}),(0,_.jsx)(f,{topic:e,topicId:v}),(0,_.jsx)(m.Z,{labelText:h("additional_info_optional"),placeholder:h("additional_info_optional_placeholder"),name:"additiona_info",value:n.updateDescription,type:"text",onChange:function(i){return d((function(e){return(0,t.Z)((0,t.Z)({},e),{},{updateDescription:i.target.value})}))},customStyleContainer:{width:"100%"}}),u?null:(0,_.jsxs)("div",{className:r.Z.aditional_info_images,children:[null===Z||void 0===Z?void 0:Z.map((function(i,e){return(0,_.jsx)("img",{src:i,alt:"uploaded avatar"},e)})),(0,_.jsx)("label",{htmlFor:"upload",children:(0,_.jsx)("img",{src:"/images/member_tab/subject/subject-camera-icon.svg",alt:"camera icon",style:{cursor:"pointer"}})})]}),(0,_.jsx)("input",{multiple:!0,type:"file",name:"upload",id:"upload",style:{display:"none"},onChange:function(i){var e;if(null!==(e=i.target.files)&&void 0!==e&&e.length){var n,c=[],l=(0,o.Z)(i.target.files);try{for(l.s();!(n=l.n()).done;){var r=n.value;c.push(URL.createObjectURL(r))}}catch(s){l.e(s)}finally{l.f()}y(c),d((function(e){return(0,t.Z)((0,t.Z)({},e),{},{files:[].concat((0,a.Z)(e.files),(0,a.Z)(i.target.files))})}))}},accept:"image/gif, image/jpeg, image/png, image/*"})]})},x=n(34114),j=n(98734),Z=n(40444),y=n(60233),g=function(i){var e=i.onClose,n=i.sid,v=i.onRefetch,f=i.dailyMenu,m=(0,s.$G)().t,p=(0,l.useState)(2),g=(0,c.Z)(p,2),b=g[0],N=g[1],k=(0,l.useState)(!1),C=(0,c.Z)(k,2),S=C[0],D=C[1],T=(0,l.useState)({updateDescription:"",rec_status:"Lecture",files:[],date:""}),I=(0,c.Z)(T,2),w=I[0],E=I[1],L=(0,l.useState)([]),U=(0,c.Z)(L,2),M=U[0],R=U[1],A=(0,l.useState)([]),F=(0,c.Z)(A,2),V=F[0],G=F[1],O=(0,l.useState)([]),P=(0,c.Z)(O,2),$=P[0],B=P[1],K=(0,l.useState)([]),q=(0,c.Z)(K,2),J=q[0],Y=q[1],z=(0,Z.s2)(),H=(0,c.Z)(z,1)[0],W=(0,Z.yz)(),X=(0,c.Z)(W,1)[0],Q=(0,Z.NA)(),ii=(0,c.Z)(Q,1)[0];(0,l.useEffect)((function(){if(null!==f&&void 0!==f&&f._id){var i,e,n,t=[],a=[],c=(0,o.Z)(null===f||void 0===f?void 0:f.daily_topic);try{for(c.s();!(n=c.n()).done;){var l,d=n.value;t.push({topicId:null===d||void 0===d||null===(l=d.topic)||void 0===l?void 0:l._id,current_status:null===d||void 0===d?void 0:d.current_status}),a.push(null===d||void 0===d?void 0:d.topic)}}catch(r){c.e(r)}finally{c.f()}E({updateDescription:null===f||void 0===f?void 0:f.updateDescription,rec_status:null===f||void 0===f||null===(i=f.daily_topic)||void 0===i||null===(e=i[0])||void 0===e?void 0:e.status,files:[]}),R((function(){return t})),G((function(){return a}))}}),[f]);var ei=function(){2===b?e():N(1===b?0:2)};return(0,_.jsxs)(d.Z,{onClose:ei,children:[2===b?(0,_.jsx)(y.Z,{datePickerPosition:{position:"rlative",top:"-5rem",left:"-10rem",borderRadius:"0.375rem",paddingBottom:"0"},range:!1,onClose:ei,dateInput:w.date,setDateInput:function(i){N(7),D((function(i){return!i}));var e=null===i||void 0===i?void 0:i.split("/"),a="".concat(e[2],"-").concat(e[1],"-").concat(e[0]);E((function(i){return(0,t.Z)((0,t.Z)({},i),{},{date:new Date(a)})})),ii({sid:n,extraBody:{date:i,flow:"Extra_Lecture"}}).then((function(i){var e,n,t;(null===i||void 0===i||null===(e=i.data)||void 0===e||null===(n=e.attendance_all)||void 0===n?void 0:n.length)>0?(B(null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.attendance_all),N(3)):N(0);D((function(i){return!i}))})).catch({})},isClose:!0}):3===b?(0,_.jsxs)("div",{className:r.Z.add_academic_record,children:[(0,_.jsxs)("div",{className:r.Z.add_academic_record_title,children:[(0,_.jsxs)("div",{className:r.Z.add_academic_record_text,children:[(0,_.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:ei,alt:"back icon",style:{cursor:"pointer"}}),(0,_.jsx)("h6",{children:m("select_extra_lecture")})]}),(0,_.jsx)("button",{onClick:function(){N(0)},children:m("next")})]}),(0,_.jsx)(u.Z,{customStyle:{width:"100%",marginBottom:"0.7rem"}}),(0,_.jsx)("h6",{className:r.Z.extra_lecture_container,onClick:function(){N(0)},children:m("regular")}),null===$||void 0===$?void 0:$.map((function(i,e){return(0,_.jsxs)("h6",{className:null!==J&&void 0!==J&&J.includes(null===i||void 0===i?void 0:i._id)?"".concat(r.Z.extra_lecture_container," ").concat(r.Z.extra_lecture_container_active):r.Z.extra_lecture_container,onClick:function(){return e=null===i||void 0===i?void 0:i._id,void(null!==J&&void 0!==J&&J.includes(e)?Y((function(i){return null===i||void 0===i?void 0:i.filter((function(i){return i!==e}))})):Y((function(i){return[].concat((0,a.Z)(i),[e])})));var e},children:[m("extra")," ",e+1]},null===i||void 0===i?void 0:i._id)}))]}):(0,_.jsxs)("div",{className:r.Z.add_academic_record,children:[(0,_.jsxs)("div",{className:r.Z.add_academic_record_title,children:[(0,_.jsxs)("div",{className:r.Z.add_academic_record_text,children:[(0,_.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:ei,alt:"back icon",style:{cursor:"pointer"}}),(0,_.jsx)("h6",{children:m(0===b?"select_topic":"save_record")})]}),0===b?(0,_.jsx)("button",{onClick:function(){(null===M||void 0===M?void 0:M.length)>0&&N(1)},children:m("next")}):(0,_.jsx)("button",{onClick:function(){if(n)if(D((function(i){return!i})),null!==f&&void 0!==f&&f._id)X({sid:n,did:null===f||void 0===f?void 0:f._id,dailyUpdate:{arr:M,rec_status:w.rec_status,updateDescription:w.updateDescription}}).then((function(){v(),e(),D((function(i){return!i}))})).catch({});else{var i=new FormData;i.append("date",w.date),i.append("updateDescription",w.updateDescription),(null===M||void 0===M?void 0:M.length)>0&&i.append("arr",JSON.stringify(M)),i.append("rec_status",w.rec_status),(null===J||void 0===J?void 0:J.length)>0&&i.append("extra_lecture",JSON.stringify(J));var t,a=(0,o.Z)(w.files);try{for(a.s();!(t=a.n()).done;){var c=t.value;i.append("file",c)}}catch(l){a.e(l)}finally{a.f()}H({sid:n,addDailyUpdate:i}).then((function(){v(),e(),D((function(i){return!i}))})).catch({})}},children:m("save")})]}),(0,_.jsx)(u.Z,{customStyle:{width:"100%"}}),0===b?(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(x.Z,{sid:n,isView:"SUBJECT_TEACHER",onGrabChapterId:function(i,e){(null===M||void 0===M?void 0:M.find((function(e){return(null===e||void 0===e?void 0:e.topicId)===(null===i||void 0===i?void 0:i._id)})))?(R((function(e){return null===e||void 0===e?void 0:e.filter((function(e){return(null===e||void 0===e?void 0:e.topicId)!==(null===i||void 0===i?void 0:i._id)}))})),G((function(e){return null===e||void 0===e?void 0:e.filter((function(e){return(null===e||void 0===e?void 0:e._id)!==(null===i||void 0===i?void 0:i._id)}))}))):(R((function(n){return[].concat((0,a.Z)(n),[{topicId:null===i||void 0===i?void 0:i._id,current_status:e}])})),G((function(e){return[].concat((0,a.Z)(e),[i])})))},topicId:M,recordLecture:!0})}):(0,_.jsx)(h,{topic:V,setState:E,state:w,isEdit:null===f||void 0===f?void 0:f._id,topicId:M})]}),S&&(0,_.jsx)(j.Z,{})]})}},99532:function(i,e,n){n.d(e,{Z:function(){return m}});var t=n(29439),a=n(72791),o=n(83401),c=n(72426),l=n.n(c),d=n(39230),r=n(69721),s=n(10307),u=n(80184),v=function(i){var e,n,t,a,c,v,_,f=i.isView,m=i.updateDescription,p=i.upadateImage,h=i.createdAt,x=i.subject,j=(0,d.$G)().t;return(0,u.jsxs)("div",{className:o.Z.aditional_info_container,children:["STUDENT"===f?(0,u.jsxs)("div",{className:o.Z.aditional_info_dates,children:[(0,u.jsx)("h5",{children:null!==(e=null===x||void 0===x?void 0:x.subjectName)&&void 0!==e?e:""}),(0,u.jsx)("h6",{children:"".concat(null!==(n=null===x||void 0===x||null===(t=x.subjectTeacherName)||void 0===t?void 0:t.staffFirstName)&&void 0!==n?n:""," ").concat(null!==(a=null===x||void 0===x||null===(c=x.subjectTeacherName)||void 0===c?void 0:c.staffMiddleName)&&void 0!==a?a:""," ").concat(null!==(v=null===x||void 0===x||null===(_=x.subjectTeacherName)||void 0===_?void 0:_.staffLastName)&&void 0!==v?v:"")})]}):null,m||(null===p||void 0===p?void 0:p.length)>0?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h6",{children:j("additional_info")}),(0,u.jsx)("p",{children:m}),(null===p||void 0===p?void 0:p.length)>0?(0,u.jsx)("div",{className:o.Z.aditional_info_images,children:null===p||void 0===p?void 0:p.map((function(i){return(0,s.Y)(null===i||void 0===i?void 0:i.documentKey)?(0,u.jsx)("a",{title:"view File",href:"".concat(r.r3,"/").concat(null===i||void 0===i?void 0:i.documentKey),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,u.jsx)("img",{src:"".concat(r.yI,"/").concat(null===i||void 0===i?void 0:i.documentKey),alt:"files"},null===i||void 0===i?void 0:i.documentKey)}):null}))}):null]}):null,(0,u.jsxs)("div",{className:o.Z.aditional_info_dates,children:[(0,u.jsx)("p",{children:l()(h).format("DD MMM yyyy")}),(0,u.jsx)("p",{children:l()(h).format("LT")})]})]})},_=n(61292),f=n(10515),m=function(i){var e,n=i.daily,c=i.sid,r=i.onParentRefetch,s=i.isView,m=(0,d.$G)().t,p=(0,a.useState)(""),h=(0,t.Z)(p,2),x=h[0],j=h[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:o.Z.academic_card_container,children:[(0,u.jsxs)("div",{className:o.Z.academic_card_top,style:{justifyContent:"space-between"},children:[(0,u.jsxs)("div",{className:o.Z.academic_card_top_text,children:[(0,u.jsx)("img",{src:"/images/member_tab/subject/subject-topic-icon.svg",alt:"topic icon"}),(0,u.jsxs)("h6",{children:[l()(null===n||void 0===n?void 0:n.date).format("Do MMMM, yyyy"),": Topics Covered"]})]}),"STUDENT"===s?null:(0,u.jsxs)("h6",{onClick:function(){return j(n)},children:["(",m("edit_"),")"]})]}),null===n||void 0===n||null===(e=n.daily_topic)||void 0===e?void 0:e.map((function(i){return(0,u.jsx)(_.Z,{topic:null===i||void 0===i?void 0:i.topic,topicType:null===i||void 0===i?void 0:i.status,topicCurrentStatus:null===i||void 0===i?void 0:i.current_status,isView:"DAILY"},null===i||void 0===i?void 0:i._id)})),(0,u.jsx)(v,{updateDescription:null===n||void 0===n?void 0:n.updateDescription,upadateImage:null===n||void 0===n?void 0:n.upadateImage,createdAt:null===n||void 0===n?void 0:n.createdAt,isView:s,subject:null===n||void 0===n?void 0:n.subject})]}),x&&(0,u.jsx)(f.Z,{onClose:function(){return j("")},sid:c,onRefetch:r,dailyMenu:x})]})}},45639:function(i,e){e.Z={universal_container:"UniversalTab_universal_container__uxTOR",universal_container_item:"UniversalTab_universal_container_item__M0pS7",universal_container_item_active:"UniversalTab_universal_container_item_active__3u3Wt"}}}]);
//# sourceMappingURL=4665.8ea4c028.chunk.js.map