"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[8270],{76424:function(e,a,l){l.r(a);var i=l(37762),r=l(29439),t=l(35967),d=l(43623),n=l(86500),o=l(72791),s=l(63687),c=l(21348),u=l(90904),v=l(39230),f=l(56959),b=l(16871),g=l(80184);t.kL.register(t.uw,t.f$,t.ZL,t.Dx,t.u,t.De);a.default=function(e){e.instituteId;var a=e.ifid,l=(0,v.$G)().t,t=(0,o.useRef)(),p=(0,b.UO)(),m=(0,b.TH)(),_=(0,b.s0)(),j=(0,o.useState)({labels:[],datasets:[{label:"Feedback %",data:[],barThickness:50,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)"],borderColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"],borderWidth:1}]}),x=(0,r.Z)(j,2),Z=x[0],y=x[1],C=(0,n.FQ)({data:{ifid:a,page:1,limit:1e3,search:""},skip:!a}).feedbackSubjectTeacherList;(0,o.useEffect)((function(){var e;if((null===C||void 0===C||null===(e=C.list)||void 0===e?void 0:e.length)>0){var a,l=[],r={label:"Feedback %",data:[],backgroundColor:"rgba(255, 99, 132, 0.5)"},t=(0,i.Z)(null===C||void 0===C?void 0:C.list);try{for(t.s();!(a=t.n()).done;){var d=a.value;if(null!==d&&void 0!==d&&d.staff_emp_code){var n,o,s,c=k(null===d||void 0===d||null===(n=d.student_feedback)||void 0===n||null===(o=n[0])||void 0===o?void 0:o.subject_analytic);l.push(null===d||void 0===d?void 0:d.staff_emp_code),null===(s=r.data)||void 0===s||s.push(c)}}}catch(u){t.e(u)}finally{t.f()}y({labels:l,datasets:[r]})}}),[null===C||void 0===C?void 0:C.list]);return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(s.Z,{children:[(0,g.jsx)(c.Z,{children:(0,g.jsx)("div",{className:f.Z.fm_header_container,children:(0,g.jsx)("h6",{children:l("feedback_analytics")})})}),(0,g.jsx)(u.Z,{}),(0,g.jsx)(c.Z,{children:(0,g.jsx)(d.$Q,{ref:t,data:Z,options:h,onClick:function(e){var a=(0,d.Lm)(null===t||void 0===t?void 0:t.current,e);(null===a||void 0===a?void 0:a.length)>0&&_("/q/".concat(p.username,"/institute/member/feedback?a=feedback-detail"),{state:m.state})}})})]})})};var h={responsive:!0,scales:{x:{grid:{offset:!0}}}},k=function(e){if((null===e||void 0===e?void 0:e.length)>0){var a,l=0,r=(0,i.Z)(e);try{for(r.s();!(a=r.n()).done;){var t=a.value;l+=null===t||void 0===t?void 0:t.feedback_percentage}}catch(d){r.e(d)}finally{r.f()}return l=Math.floor(l/(null===e||void 0===e?void 0:e.length))}return 0}}}]);
//# sourceMappingURL=8270.6661212d.chunk.js.map