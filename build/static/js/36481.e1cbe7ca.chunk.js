"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[36481],{36481:(o,e,l)=>{l.r(e),l.d(e,{default:()=>J});var i=l(72791),n=l(38733),d=l(39230),t=l(95048),v=l(16871),u=l(98853),c=l(84063),s=l(90904),a=l(61055),r=l(11468),_=l(19056),m=l(60924),h=l(38986),p=l(76554),f=l(45208),k=l(84959),y=l(5574),b=l(86095),g=l(98684),x=l(1095),j=l(55336),I=l(43997),S=l(99183),w=l(35545),C=l(1669),F=l(9379),N=l(53488),A=l(21625),W=l(22357),E=l(80184);const Z=o=>{var e,l,n,Z,L,z;let{onApplyForm:D,setPreview:T,preview:P}=o;const{t:M}=(0,d.$G)(),U=(0,v.TH)(),[R,Y]=((0,t.v9)((o=>o.idChange)),(0,i.useState)([])),[O,V]=(0,i.useState)({}),[K,B]=(0,i.useState)({}),[X,G]=(0,i.useState)([]),[q,H]=(0,i.useState)(""),[$,J]=(0,i.useState)(!1),[Q,oo]=(0,i.useState)(!1),[eo,lo]=(0,i.useState)(""),[io,no]=(0,i.useState)(""),[to]=(0,k.FL)(),[vo,uo]=(0,i.useState)({address:""}),[co,so]=(0,i.useState)(""),[ao,ro]=(0,i.useState)(""),[_o,mo]=(0,i.useState)(""),{authGetAccountWithMobileNumber:ho}=(0,A.vM)({phoneKey:_o,skip:10!==(null===_o||void 0===_o?void 0:_o.length)}),{studentApplyFormFieldDetail:po}=(0,u.Mu)({data:{flow:"DEPARTMENT",flowId:null===(e=U.state)||void 0===e?void 0:e.departmentId,apk:"WEB",aid:""},skip:!(null!==(l=U.state)&&void 0!==l&&l.departmentId)});(0,i.useEffect)((()=>{if(po){let d=[],t={},v={},u=["student_ph_type"];for(let c=0;c<(null===po||void 0===po?void 0:po.length);c++){let s=po[c],a={section_name:null===s||void 0===s?void 0:s.section_name,section_key:null===s||void 0===s?void 0:s.section_key,section_value:null===s||void 0===s?void 0:s.section_value,section_status:null===s||void 0===s?void 0:s.section_status,field_list:[],nested_section:null===s||void 0===s?void 0:s.nested_section};for(let d=0;d<(null===s||void 0===s||null===(o=s.form_checklist)||void 0===o?void 0:o.length);d++){var o,e,l,i;let c=null===s||void 0===s?void 0:s.form_checklist[d];null===(e=a.field_list)||void 0===e||e.push({label:null===c||void 0===c?void 0:c.form_checklist_lable,placeholder:null===c||void 0===c?void 0:c.form_checklist_placeholder,type:null===c||void 0===c?void 0:c.form_checklist_typo,db_key:null===c||void 0===c?void 0:c.form_checklist_key,options:null===c||void 0===c?void 0:c.form_checklist_typo_option_pl,width:null===c||void 0===c?void 0:c.width,nested_form_checklist:null!==(l=null===c||void 0===c?void 0:c.nested_form_checklist)&&void 0!==l?l:[],form_common_key:null===c||void 0===c?void 0:c.form_common_key});for(let o of null!==(n=null===c||void 0===c?void 0:c.nested_form_checklist)&&void 0!==n?n:[]){var n;null!==o&&void 0!==o&&o.form_checklist_key&&(t[null===o||void 0===o?void 0:o.form_checklist_key]=""),u.push(null===o||void 0===o?void 0:o.form_checklist_key),"DYNAMIC"===(null===o||void 0===o?void 0:o.form_checklist_key_status)&&(v[null===o||void 0===o?void 0:o.form_checklist_key]="");for(let e of null===o||void 0===o?void 0:o.nested_form_checklist_nested)null!==e&&void 0!==e&&e.form_checklist_key&&(t[null===e||void 0===e?void 0:e.form_checklist_key]=""),u.push(null===e||void 0===e?void 0:e.form_checklist_key),"DYNAMIC"===(null===e||void 0===e?void 0:e.form_checklist_key_status)&&(v[null===e||void 0===e?void 0:e.form_checklist_key]="")}null!==c&&void 0!==c&&c.form_checklist_key&&(t[null===c||void 0===c?void 0:c.form_checklist_key]=""),"DYNAMIC"===(null===c||void 0===c?void 0:c.form_checklist_key_status)&&(v[null===c||void 0===c?void 0:c.form_checklist_key]=""),null!==(i=["studentFirstName","studentLastName"])&&void 0!==i&&i.includes(null===c||void 0===c?void 0:c.form_checklist_key)||u.push(null===c||void 0===c?void 0:c.form_checklist_key)}d.push(a)}Y(d),V(t),B(v),G(u)}}),[po]);const fo=o=>{if(o){J((o=>!o));const e=new FormData;e.append("file",o),to({fileUpload:e}).then((o=>{V((e=>{var l;return{...e,[io]:null===(l=o.data)||void 0===l?void 0:l.imageKey}})),J((o=>!o))})).catch({})}},ko=(o,e)=>{if(o.target.files[0]){const l=URL.createObjectURL(o.target.files[0]);lo(l),oo(!0),no(e)}},yo=o=>{V((e=>({...e,[o.target.name]:o.target.value})))},bo=o=>{V((e=>({...e,[o.target.name]:+o.target.value})))},go=(o,e)=>{V((l=>({...l,[e]:o})))},xo=(o,e)=>{if(o.target.files[0]){J((o=>!o));const l=new FormData;l.append("file",o.target.files[0]),to({fileUpload:l}).then((o=>{V((l=>{var i;return{...l,[e]:null===(i=o.data)||void 0===i?void 0:i.imageKey}})),J((o=>!o))})).catch({})}},jo=o=>{uo((e=>({...e,address:o.target.checked}))),V((o=>({...o,studentAddress:null===o||void 0===o?void 0:o.studentCurrentAddress,studentPincode:null===o||void 0===o?void 0:o.studentCurrentPincode,studentState:null===o||void 0===o?void 0:o.studentCurrentState,studentDistrict:null===o||void 0===o?void 0:o.studentCurrentDistrict})))},Io=(o,e)=>{V((l=>({...l,[e]:o.target.checked?"Yes":"No"})))};return(0,E.jsxs)(E.Fragment,{children:[co&&(0,E.jsx)(N.Z,{onClose:()=>so(""),value:co}),P?(0,E.jsx)(F.Z,{state:O,stateLabel:R,onApplyStudentForm:D,dynamicState:K,otherState:{alreadyPhone:_o,selectedUser:ao,allAccount:null!==ho&&void 0!==ho?ho:[]},extra:{}}):(0,E.jsxs)("form",{className:c.Z.fc_container,onSubmit:o=>{var e,l;o.preventDefault();let i=null;i="INSTITUTE_SIDE"===(null===(e=U.state)||void 0===e?void 0:e.openAs)||"ADMISSION_ADMIN_SIDE"===(null===(l=U.state)||void 0===l?void 0:l.openAs)?(0,S.l)({...O,mobileNumber:_o},X):(0,S.l)(O,X),(0,S.x)(i)?T(!0):H(i)},children:["INSTITUTE_SIDE"===(null===(n=U.state)||void 0===n?void 0:n.openAs)||"ADMISSION_ADMIN_SIDE"===(null===(Z=U.state)||void 0===Z?void 0:Z.openAs)?(0,E.jsxs)("div",{className:c.Z.fccs_inner,children:[(0,E.jsx)(a.Z,{label:M("form_mobile_no_label"),placeholder:M("form_student_mobile_number_placeholder"),name:"mobileNumber",value:_o,type:"text",onChange:o=>{var e;mo(null===(e=o.target.value)||void 0===e?void 0:e.trim())},customFormInputContainer:{width:"49%"},errorShow:q.mobileNumber,customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}}),null!==ho&&void 0!==ho&&ho.length?(0,E.jsx)(W.Z,{selectLabel:M("existing_account"),selectedValue:M("select_existing_account"),value:ao,name:"user",onChange:o=>{ro(o.target.value)},options:ho,customStyleContainer:{width:"49%"},customInputStyle:{height:"42px",fontSize:"15px",fontWeight:"500"},customLabelStyle:{marginBlock:"0.7rem",fontSize:"15px",fontWeight:"500"}}):""]}):null,(null===R||void 0===R?void 0:R.length)>0?null:(0,E.jsx)(C.Z,{}),null===R||void 0===R?void 0:R.map(((o,e)=>{var l,n,d,t,v;return 0===e?(0,E.jsx)("section",{className:c.Z.fcc_section,children:(0,E.jsx)("div",{className:c.Z.fccs_inner,style:{justifyContent:"flex-end",marginTop:"1rem"},children:null===o||void 0===o||null===(l=o.field_list)||void 0===l?void 0:l.map(((o,e)=>{var l;return(0,E.jsxs)("div",{className:c.Z.fcci_container,children:[(0,E.jsxs)("label",{htmlFor:"".concat(null===o||void 0===o?void 0:o.db_key).concat(e),className:c.Z.fcc_label,children:[(0,E.jsx)("img",{className:c.Z.fcc_photo,src:O[null===o||void 0===o?void 0:o.db_key]?"".concat(x.yI,"/").concat(O[null===o||void 0===o?void 0:o.db_key]):"".concat(g.p3,"/feed-user-avatar.svg"),alt:"student avatar"}),(0,E.jsx)("img",{src:"/images/user-pencil-edit-transparent.svg",alt:"edit icon",className:c.Z.fcce_icon})]}),(0,E.jsx)("input",{type:"file",id:"".concat(null===o||void 0===o?void 0:o.db_key).concat(e),onChange:e=>ko(e,null===o||void 0===o?void 0:o.db_key),style:{display:"none"}}),(0,E.jsxs)("p",{children:[null!==(l=null===o||void 0===o?void 0:o.label)&&void 0!==l?l:"",q[null===o||void 0===o?void 0:o.db_key]?(0,E.jsxs)("span",{style:{color:"rgb(231, 75, 75)"},children:["* ",M("required")]}):null]})]})}))})},"".concat(null===o||void 0===o?void 0:o.section_name).concat(e)):(0,E.jsxs)("section",{className:c.Z.fcc_section,children:[(0,E.jsxs)("h4",{children:[null===o||void 0===o?void 0:o.section_name,":",null!==(n=["undertakings","antiragging_affidavit"])&&void 0!==n&&n.includes(null===o||void 0===o?void 0:o.section_key)||null!==(d=["UNDERTAKING"])&&void 0!==d&&d.includes(null===o||void 0===o?void 0:o.section_status)?(0,E.jsx)("span",{style:{cursor:"pointer",color:"#00f",marginLeft:"0.3rem"},onClick:()=>so({label:null===o||void 0===o?void 0:o.section_name,conent:null===o||void 0===o?void 0:o.section_value}),children:"View"}):null]}),"academic_details"===(null===o||void 0===o?void 0:o.section_key)?(0,E.jsx)("section",{className:c.Z.fcc_section,children:null===o||void 0===o||null===(t=o.field_list)||void 0===t?void 0:t.map(((o,e)=>{var l,n,d;return(0,E.jsxs)(i.Fragment,{children:[(0,E.jsx)(p.Z,{label:null===o||void 0===o?void 0:o.label,options:null===o||void 0===o?void 0:o.options,defaultValue:"Yes"===O[null===o||void 0===o?void 0:o.db_key],onChange:e=>Io(e,null===o||void 0===o?void 0:o.db_key),errorShow:q[null===o||void 0===o?void 0:o.db_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%",fontWeight:"500",marginBottom:"-1rem"},isCheck:!0,isOptionError:!0}),"Yes"===O[null===o||void 0===o?void 0:o.db_key]?(0,E.jsx)(E.Fragment,{children:null!==(l=["std_tenth_details","hsc_diploma","fyjc","fy_sem_I","fy_sem_II","sy_sem_III","sy_sem_IV","ty_sem_V","ty_sem_VI","msc_mcom"])&&void 0!==l&&l.includes(null===o||void 0===o?void 0:o.db_key)?(0,E.jsx)("section",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"flex-start",gap:"2%",paddingLeft:"2.2rem",marginTop:"-1rem"},children:null===o||void 0===o||null===(n=o.nested_form_checklist)||void 0===n?void 0:n.map(((o,e)=>"TEXT"===(null===o||void 0===o?void 0:o.form_checklist_typo)?(0,E.jsx)(a.Z,{label:null===o||void 0===o?void 0:o.form_checklist_name,placeholder:null===o||void 0===o?void 0:o.form_checklist_placeholder,name:null===o||void 0===o?void 0:o.form_checklist_key,type:null===o||void 0===o?void 0:o.form_checklist_typo,value:O[null===o||void 0===o?void 0:o.form_checklist_key],onChange:yo,errorShow:q[null===o||void 0===o?void 0:o.form_checklist_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.form_checklist_key).concat(e)):"NUMBER"===(null===o||void 0===o?void 0:o.form_checklist_typo)?(0,E.jsx)(a.Z,{label:null===o||void 0===o?void 0:o.form_checklist_name,placeholder:null===o||void 0===o?void 0:o.form_checklist_placeholder,name:null===o||void 0===o?void 0:o.form_checklist_key,type:null===o||void 0===o?void 0:o.form_checklist_typo,value:O[null===o||void 0===o?void 0:o.form_checklist_key],onChange:bo,errorShow:q[null===o||void 0===o?void 0:o.form_checklist_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.form_checklist_name).concat(e)):null))}):null===o||void 0===o||null===(d=o.nested_form_checklist)||void 0===d?void 0:d.map(((o,e)=>{var l;return(0,E.jsxs)("section",{className:c.Z.fcc_section,style:{paddingLeft:"2.2rem"},children:[(0,E.jsx)(p.Z,{label:"",options:null===o||void 0===o?void 0:o.form_checklist_typo_option_pl,defaultValue:"Yes"===O[null===o||void 0===o?void 0:o.form_checklist_key],onChange:e=>Io(e,null===o||void 0===o?void 0:o.form_checklist_key),errorShow:q[null===o||void 0===o?void 0:o.form_checklist_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%",fontWeight:"500"},isCheck:!0}),"Yes"===O[null===o||void 0===o?void 0:o.form_checklist_key]?(0,E.jsx)("section",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"flex-start",gap:"2%",paddingLeft:"2.2rem",marginTop:"-1rem"},children:null===o||void 0===o||null===(l=o.nested_form_checklist_nested)||void 0===l?void 0:l.map(((o,e)=>"TEXT"===(null===o||void 0===o?void 0:o.form_checklist_typo)?(0,E.jsx)(a.Z,{label:null===o||void 0===o?void 0:o.form_checklist_name,placeholder:null===o||void 0===o?void 0:o.form_checklist_placeholder,name:null===o||void 0===o?void 0:o.form_checklist_key,type:null===o||void 0===o?void 0:o.form_checklist_typo,value:O[null===o||void 0===o?void 0:o.form_checklist_key],onChange:yo,customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.form_checklist_key).concat(e)):"NUMBER"===(null===o||void 0===o?void 0:o.form_checklist_typo)?(0,E.jsx)(a.Z,{label:null===o||void 0===o?void 0:o.form_checklist_name,placeholder:null===o||void 0===o?void 0:o.form_checklist_placeholder,name:null===o||void 0===o?void 0:o.form_checklist_key,type:null===o||void 0===o?void 0:o.form_checklist_typo,value:O[null===o||void 0===o?void 0:o.form_checklist_key],onChange:bo,customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.form_checklist_name).concat(e)):null))}):null]},"".concat(null===o||void 0===o?void 0:o.form_checklist_name).concat(e))}))}):null]},"".concat(null===o||void 0===o?void 0:o.db_key).concat(e))}))}):(0,E.jsx)("div",{className:c.Z.fccs_inner,children:null===o||void 0===o||null===(v=o.field_list)||void 0===v?void 0:v.map(((o,e)=>"TEXT"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(i.Fragment,{children:null!==o&&void 0!==o&&o.form_common_key?(0,E.jsx)(E.Fragment,{children:"Yes"===O[null===o||void 0===o?void 0:o.form_common_key]?(0,E.jsx)(a.Z,{label:null===o||void 0===o?void 0:o.label,placeholder:null===o||void 0===o?void 0:o.placeholder,name:null===o||void 0===o?void 0:o.db_key,type:null===o||void 0===o?void 0:o.type,value:O[null===o||void 0===o?void 0:o.db_key],onChange:yo,errorShow:q[null===o||void 0===o?void 0:o.db_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.db_key).concat(e)):null}):(0,E.jsx)(a.Z,{label:null===o||void 0===o?void 0:o.label,placeholder:null===o||void 0===o?void 0:o.placeholder,name:null===o||void 0===o?void 0:o.db_key,type:null===o||void 0===o?void 0:o.type,value:O[null===o||void 0===o?void 0:o.db_key],onChange:yo,errorShow:q[null===o||void 0===o?void 0:o.db_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.db_key).concat(e))},"".concat(null===o||void 0===o?void 0:o.db_key).concat(e)):"TEXTAREA"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(r.Z,{label:null===o||void 0===o?void 0:o.label,placeholder:null===o||void 0===o?void 0:o.placeholder,name:null===o||void 0===o?void 0:o.db_key,type:null===o||void 0===o?void 0:o.type,value:O[null===o||void 0===o?void 0:o.db_key],onChange:yo,errorShow:q[null===o||void 0===o?void 0:o.db_key],customFormInputContainer:{width:"100%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.db_key).concat(e)):"NUMBER"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(a.Z,{label:null===o||void 0===o?void 0:o.label,placeholder:null===o||void 0===o?void 0:o.placeholder,name:null===o||void 0===o?void 0:o.db_key,type:null===o||void 0===o?void 0:o.type,value:O[null===o||void 0===o?void 0:o.db_key],onChange:yo,errorShow:q[null===o||void 0===o?void 0:o.db_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.db_key).concat(e)):"SELECT"===(null===o||void 0===o?void 0:o.type)||"MULITSELECT"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(_.Z,{selectLabel:null===o||void 0===o?void 0:o.label,selectedValue:null===o||void 0===o?void 0:o.placeholder,defalutValue:O[null===o||void 0===o?void 0:o.db_key],onClick:e=>go(e,null===o||void 0===o?void 0:o.db_key),options:(null===o||void 0===o?void 0:o.options)||[],errorShow:q[null===o||void 0===o?void 0:o.db_key],customStyleContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customListStyle:{position:"absolute",width:"100%",zIndex:"1"},customLabelStyle:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.db_key).concat(e)):"RADIO"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(f.Z,{label:null===o||void 0===o?void 0:o.label,options:null===o||void 0===o?void 0:o.options,defaultValue:O[null===o||void 0===o?void 0:o.db_key],onChange:e=>((o,e)=>{V((l=>({...l,[e]:o.target.value})))})(e,null===o||void 0===o?void 0:o.db_key),errorShow:q[null===o||void 0===o?void 0:o.db_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.db_key).concat(e)):"CHECKBOX"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(p.Z,{label:null===o||void 0===o?void 0:o.label,options:null===o||void 0===o?void 0:o.options,defaultValue:O[null===o||void 0===o?void 0:o.db_key],onChange:e=>((o,e)=>{var l;if(null!==(l=["student_asm_wasm_check","student_ddww_check","student_esm_wasm_check","student_ff_wff_check","student_km_check","student_moeaf_check","student_moffaf_check","student_mopaf_check","student_rota_check","student_wpt_check","student_wst_check"])&&void 0!==l&&l.includes(e)){V((l=>({...l,[e]:o.target.checked?"Yes":"No"})));let l=null===X||void 0===X?void 0:X.filter((o=>o!==(null===e||void 0===e?void 0:e.substring(0,(null===e||void 0===e?void 0:e.length)-6))));G(l)}else V((l=>({...l,[e]:o.target.checked})))})(e,null===o||void 0===o?void 0:o.db_key),errorShow:q[null===o||void 0===o?void 0:o.db_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},isCheck:!0,customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.db_key).concat(e)):"CALENDAR"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(m.Z,{label:null===o||void 0===o?void 0:o.label,placeholder:null===o||void 0===o?void 0:o.placeholder,name:null===o||void 0===o?void 0:o.db_key,type:null===o||void 0===o?void 0:o.type,value:O[null===o||void 0===o?void 0:o.db_key]?(0,I.jh)(O[null===o||void 0===o?void 0:o.db_key]):"",onChange:e=>((o,e)=>{V((l=>({...l,[e]:(0,I.O_)(o)})))})(e,null===o||void 0===o?void 0:o.db_key),errorShow:q[null===o||void 0===o?void 0:o.db_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.db_key).concat(e)):"FILE"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(i.Fragment,{children:null!==o&&void 0!==o&&o.form_common_key?(0,E.jsx)(E.Fragment,{children:"Yes"===O[null===o||void 0===o?void 0:o.form_common_key]?(0,E.jsx)(h.Z,{label:null===o||void 0===o?void 0:o.label,placeholder:null===o||void 0===o?void 0:o.placeholder,name:null===o||void 0===o?void 0:o.db_key,type:null===o||void 0===o?void 0:o.type,value:O[null===o||void 0===o?void 0:o.db_key]?{key:O[null===o||void 0===o?void 0:o.db_key]}:"",onChange:e=>xo(e,null===o||void 0===o?void 0:o.db_key),errorShow:q[null===o||void 0===o?void 0:o.db_key],customFormFileContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormFileLabel:{fontSize:"15px",fontWeight:"500"},customFormFile:{fontSize:"15px",fontWeight:"500"}}):null}):(0,E.jsx)(h.Z,{label:null===o||void 0===o?void 0:o.label,placeholder:null===o||void 0===o?void 0:o.placeholder,name:null===o||void 0===o?void 0:o.db_key,type:null===o||void 0===o?void 0:o.type,value:O[null===o||void 0===o?void 0:o.db_key]?{key:O[null===o||void 0===o?void 0:o.db_key]}:"",onChange:e=>xo(e,null===o||void 0===o?void 0:o.db_key),errorShow:q[null===o||void 0===o?void 0:o.db_key],customFormFileContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormFileLabel:{fontSize:"15px",fontWeight:"500"},customFormFile:{fontSize:"15px",fontWeight:"500"}})},"".concat(null===o||void 0===o?void 0:o.db_key).concat(e)):"CROPIMAGE"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(i.Fragment,{children:"studentProfilePhoto"===(null===o||void 0===o?void 0:o.form_checklist_key)?null:(0,E.jsx)(h.Z,{label:null===o||void 0===o?void 0:o.label,placeholder:null===o||void 0===o?void 0:o.placeholder,name:null===o||void 0===o?void 0:o.db_key,type:null===o||void 0===o?void 0:o.type,value:O[null===o||void 0===o?void 0:o.db_key]?{key:O[null===o||void 0===o?void 0:o.db_key]}:"",onChange:e=>ko(e,null===o||void 0===o?void 0:o.db_key),errorShow:q[null===o||void 0===o?void 0:o.db_key],customFormFileContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormFileLabel:{fontSize:"15px",fontWeight:"500"},customFormFile:{fontSize:"15px",fontWeight:"500"}})},"".concat(null===o||void 0===o?void 0:o.db_key).concat(e)):"Same As"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(p.Z,{options:["Same As Current Address"],defaultValue:vo.address,onChange:jo,customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},isCheck:!0,customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.db_key).concat(e,"234")):null))}),(0,E.jsx)(s.Z,{})]},"".concat(null===o||void 0===o?void 0:o.section_name).concat(e))})),(0,E.jsx)(w.Z,{label:"preview",customStyle:{width:"100%"}})]}),Q&&(0,E.jsx)(y.Z,{open:Q,children:(0,E.jsx)(b.Z,{setOpenCrop:oo,fileUrl:eo,first:null!==(L=["studentProfilePhoto","studentIdProfilePhoto"])&&void 0!==L&&L.includes(io)?1:16,second:null!==(z=["studentProfilePhoto","studentIdProfilePhoto"])&&void 0!==z&&z.includes(io)?1:9,onCrop:(o,e)=>{oo(!1),fo(o)}})}),$&&(0,E.jsx)(j.default,{})]})};var L=l(98094),z=l(33992),D=l(98734),T=l(71287),P=l(28497),M=l(80214),U=l(87932),R=l(71439),Y=l(64499),O=l(39480),V=l(75608),K=l(23866),B=l(72310);const X=o=>{var e,l,n,t,Z,L,z;let{onApplyForm:D,setPreview:T,preview:P}=o;const{t:M}=(0,d.$G)(),U=(0,v.TH)(),[R,Y]=(0,i.useState)([]),[O,X]=(0,i.useState)({}),[q,H]=(0,i.useState)({}),[$,J]=(0,i.useState)([]),[Q,oo]=(0,i.useState)(""),[eo,lo]=(0,i.useState)(!1),[io,no]=(0,i.useState)(!1),[to,vo]=(0,i.useState)(""),[uo,co]=(0,i.useState)(""),[so]=(0,k.FL)(),[ao,ro]=(0,i.useState)({address:""}),[_o,mo]=(0,i.useState)(""),[ho,po]=(0,i.useState)(""),[fo,ko]=(0,i.useState)(""),[yo,bo]=(0,i.useState)({}),[go,xo]=(0,i.useState)({run:!1,msg:""}),{authGetAccountWithMobileNumber:jo}=(0,A.vM)({phoneKey:fo,skip:10!==(null===fo||void 0===fo?void 0:fo.length)}),{studentApplyFormFieldDetail:Io}=(0,u.Mu)({data:{flow:"APPLICATION",flowId:null===(e=U.state)||void 0===e?void 0:e.appId,apk:"WEB",aid:null===(l=U.state)||void 0===l?void 0:l.admissionId},skip:!(null!==(n=U.state)&&void 0!==n&&n.appId)});(0,i.useEffect)((()=>{if(Io){let d=[],t={},v={},u=["student_ph_type"];for(let c=0;c<(null===Io||void 0===Io?void 0:Io.length);c++){let s=Io[c],a={section_name:null===s||void 0===s?void 0:s.section_name,section_key:null===s||void 0===s?void 0:s.section_key,section_value:null===s||void 0===s?void 0:s.section_value,section_status:null===s||void 0===s?void 0:s.section_status,field_list:[],nested_section:null===s||void 0===s?void 0:s.nested_section};for(let d=0;d<(null===s||void 0===s||null===(o=s.form_checklist)||void 0===o?void 0:o.length);d++){var o,e,l;let c=null===s||void 0===s?void 0:s.form_checklist[d];null===(e=a.field_list)||void 0===e||e.push({label:null===c||void 0===c?void 0:c.form_checklist_lable,placeholder:null===c||void 0===c?void 0:c.form_checklist_placeholder,type:null===c||void 0===c?void 0:c.form_checklist_typo,db_key:null===c||void 0===c?void 0:c.form_checklist_key,options:null===c||void 0===c?void 0:c.form_checklist_typo_option_pl,width:null===c||void 0===c?void 0:c.width,nested_form_checklist:null!==(l=null===c||void 0===c?void 0:c.nested_form_checklist)&&void 0!==l?l:[],form_common_key:null===c||void 0===c?void 0:c.form_common_key});for(let o of null!==(i=null===c||void 0===c?void 0:c.nested_form_checklist)&&void 0!==i?i:[]){var i,n;null!==o&&void 0!==o&&o.form_checklist_key&&(t[null===o||void 0===o?void 0:o.form_checklist_key]=""),null!==(n=["std_tenth_details","hsc_diploma"])&&void 0!==n&&n.includes(null===c||void 0===c?void 0:c.form_checklist_key)?null!==c&&void 0!==c&&c.form_checklist_required||u.push(null===o||void 0===o?void 0:o.form_checklist_key):null!==o&&void 0!==o&&o.form_checklist_required||u.push(null===o||void 0===o?void 0:o.form_checklist_key),"DYNAMIC"===(null===o||void 0===o?void 0:o.form_checklist_key_status)&&(v[null===o||void 0===o?void 0:o.form_checklist_key]="");for(let e of null===o||void 0===o?void 0:o.nested_form_checklist_nested)null!==e&&void 0!==e&&e.form_checklist_key&&(t[null===e||void 0===e?void 0:e.form_checklist_key]=""),null!==e&&void 0!==e&&e.form_checklist_required||u.push(null===e||void 0===e?void 0:e.form_checklist_key),"DYNAMIC"===(null===e||void 0===e?void 0:e.form_checklist_key_status)&&(v[null===e||void 0===e?void 0:e.form_checklist_key]="")}null!==c&&void 0!==c&&c.form_checklist_key&&(t[null===c||void 0===c?void 0:c.form_checklist_key]=""),"DYNAMIC"===(null===c||void 0===c?void 0:c.form_checklist_key_status)&&(v[null===c||void 0===c?void 0:c.form_checklist_key]=""),null!==c&&void 0!==c&&c.form_checklist_required||"student_signature"===(null===c||void 0===c?void 0:c.form_checklist_key)||u.push(null===c||void 0===c?void 0:c.form_checklist_key)}d.push(a),"subject_criteria"===(null===s||void 0===s?void 0:s.section_key)&&(t.is_group_select=!1)}Y(d),X(t),H(v),J(u)}}),[Io]);const So=(o,e,l,i)=>{bo((i=>({...i,[e]:{selected:o.target.checked,whichIndex:l}}))),X((e=>({...e,is_group_select:!!o.target.checked})))},wo=(o,e,l,i,n)=>{if("YES"===(null===n||void 0===n?void 0:n.or_subject)){let c={...yo}[e][l],s=yo[e][l],a=0,r=[],_=0,m=[];if((null===s||void 0===s?void 0:s.max_major_subject)<(null===n||void 0===n?void 0:n.maxCount)?(a=null===s||void 0===s?void 0:s.max_major_subject,r=null===s||void 0===s?void 0:s.major_subject):(a=null===n||void 0===n?void 0:n.maxCount,r=[]),(null===s||void 0===s?void 0:s.nested_select_min)<(null===n||void 0===n?void 0:n.nestedMaxCount)?(_=null===s||void 0===s?void 0:s.nested_select_min,m=null===s||void 0===s?void 0:s.nested_subject):(_=null===n||void 0===n?void 0:n.nestedMaxCount,m=[]),c)for(let o in c){let e=c[o];if(null!==e&&void 0!==e&&e.or_subject&&(null===e||void 0===e?void 0:e.parentIndex)===(null===n||void 0===n?void 0:n.parentIndex)){var d,t,v,u;if(e.selected=!1,null!==s&&void 0!==s&&null!==(d=s.major_subject)&&void 0!==d&&d.includes(null===e||void 0===e?void 0:e.id))r=null===(v=r)||void 0===v?void 0:v.filter((o=>o!==(null===e||void 0===e?void 0:e.id))),a+=1;if(null!==s&&void 0!==s&&null!==(t=s.nested_subject)&&void 0!==t&&t.includes(null===e||void 0===e?void 0:e.id))m=null===(u=m)||void 0===u?void 0:u.filter((o=>o!==(null===e||void 0===e?void 0:e.id))),_+=1}}bo((d=>{var t,v;return{...d,[e]:{...d[e],[l]:{...c,min:null===n||void 0===n?void 0:n.min,max:null===n||void 0===n?void 0:n.max,max_major_subject:null!==(t=a)&&void 0!==t?t:0,major_subject:r,nested_select_min:null!==(v=_)&&void 0!==v?v:0,nested_subject:m,[i]:{selected:o.target.checked,id:null===n||void 0===n?void 0:n.masterId,or_subject:null===n||void 0===n?void 0:n.or_subject,parentIndex:null===n||void 0===n?void 0:n.parentIndex,parentWholeKey:null===n||void 0===n?void 0:n.parentWholeKey}}}}}))}else if("FIXED"===(null===n||void 0===n?void 0:n.or_subject)){let i=!0,d=yo[e],t=null===n||void 0===n?void 0:n.maxCount,v=null===n||void 0===n?void 0:n.nestedMaxCount;if(yo[e]&&yo[e])for(let e in d){var c,s,a;if("selected"===e||"whichIndex"===e);else"FIXED"===(null===(c=d[e])||void 0===c?void 0:c.or_subject)&&null!==(s=d[e])&&void 0!==s&&s.selected&&null!==(a=d[e])&&void 0!==a&&a.id&&o.target.checked&&(i=!1)}if(i){let i=[];for(let o of null===n||void 0===n?void 0:n.fixedSubject)i.push(null===o||void 0===o?void 0:o._id);bo((d=>({...d,[e]:{...d[e],[l]:{...d[e][l],min:null===n||void 0===n?void 0:n.min,max:null===n||void 0===n?void 0:n.max,selected:o.target.checked,id:i,or_subject:null===n||void 0===n?void 0:n.or_subject,max_major_subject:null!==t&&void 0!==t?t:0,major_subject:[],nested_select_min:null!==v&&void 0!==v?v:0,nested_subject:[]}}})))}else bo((o=>({...o,[e]:{...o[e],[l]:{...o[e][l],min:null===n||void 0===n?void 0:n.min,max:null===n||void 0===n?void 0:n.max,selected:!1,id:[],or_subject:null===n||void 0===n?void 0:n.or_subject,max_major_subject:null!==t&&void 0!==t?t:0,major_subject:[],nested_select_min:null!==v&&void 0!==v?v:0,nested_subject:[]}}}))),xo({run:!0,msg:"You cannot select more than one"})}else{let d=!0,t=0,v=yo[e][l],u=0,c=[],s=0,a=[];if((null===v||void 0===v?void 0:v.max_major_subject)<(null===n||void 0===n?void 0:n.maxCount)?(u=null===v||void 0===v?void 0:v.max_major_subject,c=null===v||void 0===v?void 0:v.major_subject):(u=null===n||void 0===n?void 0:n.maxCount,c=[]),(null===v||void 0===v?void 0:v.nested_select_min)<(null===n||void 0===n?void 0:n.nestedMaxCount)?(s=null===v||void 0===v?void 0:v.nested_select_min,a=null===v||void 0===v?void 0:v.nested_subject):(s=null===n||void 0===n?void 0:n.nestedMaxCount,a=[]),yo[e]&&yo[e][l]){let i=yo[e][l],n=1;for(let o in i){var r,_;if("min"===o||"max"===o);else null!==(r=i[o])&&void 0!==r&&r.selected&&null!==(_=i[o])&&void 0!==_&&_.id&&(n+=1)}(null===i||void 0===i?void 0:i.min)<n&&o.target.checked&&(d=!1,t=null===i||void 0===i?void 0:i.max)}if(v&&!o.target.checked&&null!==n&&void 0!==n&&n.masterId){var m,h,p,f;if(null!==(m=c)&&void 0!==m&&m.includes(null===n||void 0===n?void 0:n.masterId))c=null===(p=c)||void 0===p?void 0:p.filter((o=>o!==(null===n||void 0===n?void 0:n.masterId))),u+=1;if(null!==(h=a)&&void 0!==h&&h.includes(null===n||void 0===n?void 0:n.masterId))a=null===(f=a)||void 0===f?void 0:f.filter((o=>o!==(null===n||void 0===n?void 0:n.masterId))),s+=1}if(d){if(bo((d=>{var t,v;return{...d,[e]:{...d[e],[l]:{...d[e][l],min:null===n||void 0===n?void 0:n.min,max:null===n||void 0===n?void 0:n.max,max_major_subject:null!==(t=u)&&void 0!==t?t:0,major_subject:c,nested_select_min:null!==(v=s)&&void 0!==v?v:0,nested_subject:a,[i]:{selected:o.target.checked,id:null===n||void 0===n?void 0:n.masterId}}}}})),(null===i||void 0===i?void 0:i.length)>=4&&null!==i&&void 0!==i&&i.includes("OR")&&yo&&yo[e]&&yo[e][l]){let o=yo[e][l];for(let e in o){let l=o[e];(null===l||void 0===l?void 0:l.parentWholeKey)===i&&(l.selected=!1)}}}else bo((o=>{var d,t;return{...o,[e]:{...o[e],[l]:{...o[e][l],max_major_subject:null!==(d=u)&&void 0!==d?d:0,major_subject:c,nested_select_min:null!==(t=s)&&void 0!==t?t:0,nested_subject:a,min:null===n||void 0===n?void 0:n.min,max:null===n||void 0===n?void 0:n.max,[i]:{selected:!1,id:""}}}}})),xo({run:!0,msg:"You cannot select more than ".concat(t)})}},Co=(o,e,l)=>{var i;let n=yo[o][e];null!==n&&void 0!==n&&null!==(i=n.nested_subject)&&void 0!==i&&i.includes(null===l||void 0===l?void 0:l.sub_id)?bo((i=>{var n,d;return{...i,[o]:{...i[o],[e]:{...i[o][e],nested_select_min:i[o][e].nested_select_min+1,nested_subject:null===(n=i[o][e])||void 0===n||null===(d=n.nested_subject)||void 0===d?void 0:d.filter((o=>o!==(null===l||void 0===l?void 0:l.sub_id)))}}}})):bo((i=>{var n,d,t;return{...i,[o]:{...i[o],[e]:{...i[o][e],nested_select_min:i[o][e].nested_select_min-1,nested_subject:(null===(n=i[o][e])||void 0===n||null===(d=n.nested_subject)||void 0===d?void 0:d.length)>0?[...null===(t=i[o][e])||void 0===t?void 0:t.nested_subject,null===l||void 0===l?void 0:l.sub_id]:[null===l||void 0===l?void 0:l.sub_id]}}}}))},Fo=(o,e,l)=>{var i;let n=yo[o][e];null!==n&&void 0!==n&&null!==(i=n.major_subject)&&void 0!==i&&i.includes(l)?bo((i=>{var n,d;return{...i,[o]:{...i[o],[e]:{...i[o][e],max_major_subject:i[o][e].max_major_subject+1,major_subject:null===(n=i[o][e])||void 0===n||null===(d=n.major_subject)||void 0===d?void 0:d.filter((o=>o!==l))}}}})):bo((i=>{var n,d,t;return{...i,[o]:{...i[o],[e]:{...i[o][e],max_major_subject:i[o][e].max_major_subject-1,major_subject:(null===(n=i[o][e])||void 0===n||null===(d=n.major_subject)||void 0===d?void 0:d.length)>0?[...null===(t=i[o][e])||void 0===t?void 0:t.major_subject,l]:[l]}}}}))},No=o=>{if(o){lo((o=>!o));const e=new FormData;e.append("file",o),so({fileUpload:e}).then((o=>{X((e=>{var l;return{...e,[uo]:null===(l=o.data)||void 0===l?void 0:l.imageKey}})),lo((o=>!o))})).catch({})}},Ao=(o,e)=>{if(o.target.files[0]){const l=URL.createObjectURL(o.target.files[0]);vo(l),no(!0),co(e)}},Wo=o=>{X((e=>({...e,[o.target.name]:o.target.value})))},Eo=o=>{X((e=>({...e,[o.target.name]:+o.target.value})))},Zo=(o,e,l,i)=>{if(X((l=>({...l,[e]:o}))),l&&i&&"Yes"===o){var n;let o=R[l].field_list[i+1],e=[...$];e=null===(n=e)||void 0===n?void 0:n.filter((e=>e!==(null===o||void 0===o?void 0:o.db_key))),J(e)}else{let o=R[l].field_list[i+1],e=[...$];e.push(null===o||void 0===o?void 0:o.db_key),J(e)}},Lo=(o,e)=>{if(o.target.files[0]){lo((o=>!o));const l=new FormData;l.append("file",o.target.files[0]),so({fileUpload:l}).then((o=>{X((l=>{var i;return{...l,[e]:null===(i=o.data)||void 0===i?void 0:i.imageKey}})),lo((o=>!o))})).catch({})}},zo=o=>{ro((e=>({...e,address:o.target.checked}))),X((o=>({...o,studentAddress:null===o||void 0===o?void 0:o.studentCurrentAddress,studentPincode:null===o||void 0===o?void 0:o.studentCurrentPincode,studentState:null===o||void 0===o?void 0:o.studentCurrentState,studentDistrict:null===o||void 0===o?void 0:o.studentCurrentDistrict})))},Do=(o,e)=>{X((l=>({...l,[e]:o.target.checked?"Yes":"No"})))};return(0,E.jsxs)(E.Fragment,{children:[_o&&(0,E.jsx)(N.Z,{onClose:()=>mo(""),value:_o}),P?(0,E.jsx)(F.Z,{state:O,stateLabel:R,onApplyStudentForm:D,dynamicState:q,otherState:{alreadyPhone:fo,selectedUser:ho,allAccount:null!==jo&&void 0!==jo?jo:[]},extra:yo}):(0,E.jsxs)("form",{className:c.Z.fc_container,onSubmit:o=>{var e,l;o.preventDefault();let i=null,n=null;"INSTITUTE_SIDE"===(null===(e=U.state)||void 0===e?void 0:e.openAs)||"ADMISSION_ADMIN_SIDE"===(null===(l=U.state)||void 0===l?void 0:l.openAs)?i=(0,S.l)({...O,mobileNumber:fo},$):(i=(0,S.l)(O,$),n=G({args:yo,argsLabel:R})),(0,S.x)(i)&&(0,S.x)(n)?T(!0):oo({...i,...n})},children:["INSTITUTE_SIDE"===(null===(t=U.state)||void 0===t?void 0:t.openAs)||"ADMISSION_ADMIN_SIDE"===(null===(Z=U.state)||void 0===Z?void 0:Z.openAs)?(0,E.jsxs)("div",{className:c.Z.fccs_inner,children:[(0,E.jsx)(a.Z,{label:M("form_mobile_no_label"),placeholder:M("form_student_mobile_number_placeholder"),name:"mobileNumber",value:fo,type:"text",onChange:o=>{var e;ko(null===(e=o.target.value)||void 0===e?void 0:e.trim())},customFormInputContainer:{width:"49%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"},errorShow:Q.mobileNumber}),null!==jo&&void 0!==jo&&jo.length?(0,E.jsx)(W.Z,{selectLabel:M("existing_account"),selectedValue:M("select_existing_account"),value:ho,name:"user",onChange:o=>{po(o.target.value)},options:jo,customStyleContainer:{width:"49%"},customInputStyle:{height:"42px",fontSize:"15px",fontWeight:"500"},customLabelStyle:{marginBlock:"0.7rem",fontSize:"15px",fontWeight:"500"}}):""]}):null,(null===R||void 0===R?void 0:R.length)>0?null:(0,E.jsx)(C.Z,{}),null===R||void 0===R?void 0:R.map(((o,e)=>{var l,n,d,t,v,u;return 0===e?(0,E.jsx)("section",{className:c.Z.fcc_section,children:(0,E.jsx)("div",{className:c.Z.fccs_inner,style:{justifyContent:"flex-end",marginTop:"1rem"},children:null===o||void 0===o||null===(l=o.field_list)||void 0===l?void 0:l.map(((o,e)=>{var l;return(0,E.jsxs)("div",{className:c.Z.fcci_container,children:[(0,E.jsxs)("label",{htmlFor:"".concat(null===o||void 0===o?void 0:o.db_key).concat(e),className:c.Z.fcc_label,children:[(0,E.jsx)("img",{className:c.Z.fcc_photo,src:O[null===o||void 0===o?void 0:o.db_key]?"".concat(x.yI,"/").concat(O[null===o||void 0===o?void 0:o.db_key]):"".concat(g.p3,"/feed-user-avatar.svg"),alt:"student avatar"}),(0,E.jsx)("img",{src:"/images/user-pencil-edit-transparent.svg",alt:"edit icon",className:c.Z.fcce_icon})]}),(0,E.jsx)("input",{type:"file",id:"".concat(null===o||void 0===o?void 0:o.db_key).concat(e),onChange:e=>Ao(e,null===o||void 0===o?void 0:o.db_key),style:{display:"none"}}),(0,E.jsxs)("p",{children:[null!==(l=null===o||void 0===o?void 0:o.label)&&void 0!==l?l:"",Q[null===o||void 0===o?void 0:o.db_key]?(0,E.jsxs)("span",{style:{color:"rgb(231, 75, 75)"},children:["* ",M("required")]}):null]})]})}))})},"".concat(null===o||void 0===o?void 0:o.section_name).concat(e)):(0,E.jsxs)("section",{className:c.Z.fcc_section,children:[(0,E.jsxs)("h4",{children:["subject_criteria"===(null===o||void 0===o?void 0:o.section_key)?"Select Subject":null===o||void 0===o?void 0:o.section_name,":",null!==(n=["undertakings","antiragging_affidavit"])&&void 0!==n&&n.includes(null===o||void 0===o?void 0:o.section_key)||null!==(d=["UNDERTAKING"])&&void 0!==d&&d.includes(null===o||void 0===o?void 0:o.section_status)?(0,E.jsx)("span",{style:{cursor:"pointer",color:"#00f",marginLeft:"0.3rem"},onClick:()=>mo({label:null===o||void 0===o?void 0:o.section_name,conent:null===o||void 0===o?void 0:o.section_value}),children:"View"}):null,"subject_criteria"===(null===o||void 0===o?void 0:o.section_key)&&Q.is_group_select?(0,E.jsxs)("span",{style:{color:"rgb(231, 75, 75)"},children:["* ",M("required")]}):null]}),"subject_criteria"===(null===o||void 0===o?void 0:o.section_key)?(0,E.jsx)("div",{children:null===o||void 0===o||null===(t=o.nested_section)||void 0===t?void 0:t.map(((o,e)=>{var l,i,n,d,t;return(0,E.jsxs)("section",{className:c.Z.fcc_section,style:{opacity:null!==O&&void 0!==O&&O.is_group_select?null!==(l=yo["".concat(null===o||void 0===o?void 0:o.nested_section_name).concat(e)])&&void 0!==l&&l.selected?"1":"0.5":"1"},children:[(0,E.jsx)(V.Z,{label:"",options:[null===o||void 0===o?void 0:o.nested_section_name],defaultValue:null!==(i=null===(n=yo["".concat(null===o||void 0===o?void 0:o.nested_section_name).concat(e)])||void 0===n?void 0:n.selected)&&void 0!==i&&i,onChange:null!==O&&void 0!==O&&O.is_group_select?null!==(d=yo["".concat(null===o||void 0===o?void 0:o.nested_section_name).concat(e)])&&void 0!==d&&d.selected?l=>So(l,"".concat(null===o||void 0===o?void 0:o.nested_section_name).concat(e),e,null===o||void 0===o||o.nested_major_select_max):()=>{}:l=>So(l,"".concat(null===o||void 0===o?void 0:o.nested_section_name).concat(e),e,null===o||void 0===o||o.nested_major_select_max),msg:Q["".concat(null===o||void 0===o?void 0:o.nested_section_name).concat(e)],customFormInputContainer:{width:"49%"},isCheck:!0}),(0,E.jsx)(K.Z,{parentKey:"".concat(null===o||void 0===o?void 0:o.nested_section_name).concat(e),options:null===o||void 0===o?void 0:o.nested_form_checklist,defaultValue:yo["".concat(null===o||void 0===o?void 0:o.nested_section_name).concat(e)],onChange:wo,errorShow:Q,errorShowKey:"".concat(null===o||void 0===o?void 0:o.nested_section_name).concat(e),customFormInputContainer:{width:"49%",paddingLeft:"2.2rem"},isCheck:!0,disabled:null!==O&&void 0!==O&&O.is_group_select?!yo["".concat(null===o||void 0===o?void 0:o.nested_section_name).concat(e)]:!(null!==O&&void 0!==O&&O.is_group_select),onMajorSubject:Fo,onNestedSubject:Co,isGroupSelected:null===(t=yo["".concat(null===o||void 0===o?void 0:o.nested_section_name).concat(e)])||void 0===t?void 0:t.selected})]},"".concat(null===o||void 0===o?void 0:o.nested_section_name,"}").concat(e))}))}):"academic_details"===(null===o||void 0===o?void 0:o.section_key)?(0,E.jsx)("section",{className:c.Z.fcc_section,children:null===o||void 0===o||null===(v=o.field_list)||void 0===v?void 0:v.map(((o,e)=>{var l,n,d;return(0,E.jsxs)(i.Fragment,{children:[(0,E.jsx)(p.Z,{label:null===o||void 0===o?void 0:o.label,options:null===o||void 0===o?void 0:o.options,defaultValue:"Yes"===O[null===o||void 0===o?void 0:o.db_key],onChange:e=>Do(e,null===o||void 0===o?void 0:o.db_key),errorShow:Q[null===o||void 0===o?void 0:o.db_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%",fontWeight:"500",marginBottom:"-1rem"},isCheck:!0,isOptionError:!0}),"Yes"===O[null===o||void 0===o?void 0:o.db_key]?(0,E.jsx)(E.Fragment,{children:null!==(l=["std_tenth_details","hsc_diploma","fyjc","fy_sem_I","fy_sem_II","sy_sem_III","sy_sem_IV","ty_sem_V","ty_sem_VI","msc_mcom"])&&void 0!==l&&l.includes(null===o||void 0===o?void 0:o.db_key)?(0,E.jsx)("section",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"flex-start",gap:"2%",paddingLeft:"2.2rem",marginTop:"-1rem"},children:null===o||void 0===o||null===(n=o.nested_form_checklist)||void 0===n?void 0:n.map(((o,e)=>"TEXT"===(null===o||void 0===o?void 0:o.form_checklist_typo)?(0,E.jsx)(a.Z,{label:null===o||void 0===o?void 0:o.form_checklist_name,placeholder:null===o||void 0===o?void 0:o.form_checklist_placeholder,name:null===o||void 0===o?void 0:o.form_checklist_key,type:null===o||void 0===o?void 0:o.form_checklist_typo,value:O[null===o||void 0===o?void 0:o.form_checklist_key],onChange:Wo,errorShow:Q[null===o||void 0===o?void 0:o.form_checklist_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.form_checklist_key).concat(e)):"NUMBER"===(null===o||void 0===o?void 0:o.form_checklist_typo)?(0,E.jsx)(a.Z,{label:null===o||void 0===o?void 0:o.form_checklist_name,placeholder:null===o||void 0===o?void 0:o.form_checklist_placeholder,name:null===o||void 0===o?void 0:o.form_checklist_key,type:null===o||void 0===o?void 0:o.form_checklist_typo,value:O[null===o||void 0===o?void 0:o.form_checklist_key],onChange:Eo,errorShow:Q[null===o||void 0===o?void 0:o.form_checklist_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.form_checklist_name).concat(e)):null))}):null===o||void 0===o||null===(d=o.nested_form_checklist)||void 0===d?void 0:d.map(((o,e)=>{var l;return(0,E.jsxs)("section",{className:c.Z.fcc_section,style:{paddingLeft:"2.2rem"},children:[(0,E.jsx)(p.Z,{label:"",options:null===o||void 0===o?void 0:o.form_checklist_typo_option_pl,defaultValue:"Yes"===O[null===o||void 0===o?void 0:o.form_checklist_key],onChange:e=>Do(e,null===o||void 0===o?void 0:o.form_checklist_key),errorShow:Q[null===o||void 0===o?void 0:o.form_checklist_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%",fontWeight:"500"},isCheck:!0}),"Yes"===O[null===o||void 0===o?void 0:o.form_checklist_key]?(0,E.jsx)("section",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"flex-start",gap:"2%",paddingLeft:"2.2rem",marginTop:"-1rem"},children:null===o||void 0===o||null===(l=o.nested_form_checklist_nested)||void 0===l?void 0:l.map(((o,e)=>"TEXT"===(null===o||void 0===o?void 0:o.form_checklist_typo)?(0,E.jsx)(a.Z,{label:null===o||void 0===o?void 0:o.form_checklist_name,placeholder:null===o||void 0===o?void 0:o.form_checklist_placeholder,name:null===o||void 0===o?void 0:o.form_checklist_key,type:null===o||void 0===o?void 0:o.form_checklist_typo,value:O[null===o||void 0===o?void 0:o.form_checklist_key],onChange:Wo,customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.form_checklist_key).concat(e)):"NUMBER"===(null===o||void 0===o?void 0:o.form_checklist_typo)?(0,E.jsx)(a.Z,{label:null===o||void 0===o?void 0:o.form_checklist_name,placeholder:null===o||void 0===o?void 0:o.form_checklist_placeholder,name:null===o||void 0===o?void 0:o.form_checklist_key,type:null===o||void 0===o?void 0:o.form_checklist_typo,value:O[null===o||void 0===o?void 0:o.form_checklist_key],onChange:Eo,customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.form_checklist_name).concat(e)):null))}):null]},"".concat(null===o||void 0===o?void 0:o.form_checklist_name).concat(e))}))}):null]},"".concat(null===o||void 0===o?void 0:o.db_key).concat(e))}))}):(0,E.jsx)("div",{className:c.Z.fccs_inner,children:null===o||void 0===o||null===(u=o.field_list)||void 0===u?void 0:u.map(((o,l)=>"TEXT"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(i.Fragment,{children:null!==o&&void 0!==o&&o.form_common_key?(0,E.jsx)(E.Fragment,{children:"Yes"===O[null===o||void 0===o?void 0:o.form_common_key]?(0,E.jsx)(a.Z,{label:null===o||void 0===o?void 0:o.label,placeholder:null===o||void 0===o?void 0:o.placeholder,name:null===o||void 0===o?void 0:o.db_key,type:null===o||void 0===o?void 0:o.type,value:O[null===o||void 0===o?void 0:o.db_key],onChange:Wo,errorShow:Q[null===o||void 0===o?void 0:o.db_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.db_key).concat(l)):null}):(0,E.jsx)(a.Z,{label:null===o||void 0===o?void 0:o.label,placeholder:null===o||void 0===o?void 0:o.placeholder,name:null===o||void 0===o?void 0:o.db_key,type:null===o||void 0===o?void 0:o.type,value:O[null===o||void 0===o?void 0:o.db_key],onChange:Wo,errorShow:Q[null===o||void 0===o?void 0:o.db_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.db_key).concat(l))},"".concat(null===o||void 0===o?void 0:o.db_key).concat(l)):"TEXTAREA"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(r.Z,{label:null===o||void 0===o?void 0:o.label,placeholder:null===o||void 0===o?void 0:o.placeholder,name:null===o||void 0===o?void 0:o.db_key,type:null===o||void 0===o?void 0:o.type,value:O[null===o||void 0===o?void 0:o.db_key],onChange:Wo,errorShow:Q[null===o||void 0===o?void 0:o.db_key],customFormInputContainer:{width:"100%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.db_key).concat(l)):"NUMBER"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(a.Z,{label:null===o||void 0===o?void 0:o.label,placeholder:null===o||void 0===o?void 0:o.placeholder,name:null===o||void 0===o?void 0:o.db_key,type:null===o||void 0===o?void 0:o.type,value:O[null===o||void 0===o?void 0:o.db_key],onChange:Wo,errorShow:Q[null===o||void 0===o?void 0:o.db_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.db_key).concat(l)):"SELECT"===(null===o||void 0===o?void 0:o.type)||"MULITSELECT"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(_.Z,{selectLabel:null===o||void 0===o?void 0:o.label,selectedValue:null===o||void 0===o?void 0:o.placeholder,defalutValue:O[null===o||void 0===o?void 0:o.db_key],onClick:i=>Zo(i,null===o||void 0===o?void 0:o.db_key,e,l),options:(null===o||void 0===o?void 0:o.options)||[],errorShow:Q[null===o||void 0===o?void 0:o.db_key],customStyleContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customListStyle:{position:"absolute",width:"100%",zIndex:"1"},customLabelStyle:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.db_key).concat(l)):"RADIO"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(f.Z,{label:null===o||void 0===o?void 0:o.label,options:null===o||void 0===o?void 0:o.options,defaultValue:O[null===o||void 0===o?void 0:o.db_key],onChange:e=>((o,e)=>{X((l=>({...l,[e]:o.target.value})))})(e,null===o||void 0===o?void 0:o.db_key),errorShow:Q[null===o||void 0===o?void 0:o.db_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.db_key).concat(l)):"CHECKBOX"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(p.Z,{label:null===o||void 0===o?void 0:o.label,options:null===o||void 0===o?void 0:o.options,defaultValue:O[null===o||void 0===o?void 0:o.db_key],onChange:e=>((o,e)=>{var l;if(null!==(l=["student_asm_wasm_check","student_ddww_check","student_esm_wasm_check","student_ff_wff_check","student_km_check","student_moeaf_check","student_moffaf_check","student_mopaf_check","student_rota_check","student_wpt_check","student_wst_check"])&&void 0!==l&&l.includes(e)){X((l=>({...l,[e]:o.target.checked?"Yes":"No"})));let l=null===$||void 0===$?void 0:$.filter((o=>o!==(null===e||void 0===e?void 0:e.substring(0,(null===e||void 0===e?void 0:e.length)-6))));J(l)}else X((l=>({...l,[e]:o.target.checked})))})(e,null===o||void 0===o?void 0:o.db_key),errorShow:Q[null===o||void 0===o?void 0:o.db_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},isCheck:!0,customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.db_key).concat(l)):"CALENDAR"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(m.Z,{label:null===o||void 0===o?void 0:o.label,placeholder:null===o||void 0===o?void 0:o.placeholder,name:null===o||void 0===o?void 0:o.db_key,type:null===o||void 0===o?void 0:o.type,value:O[null===o||void 0===o?void 0:o.db_key]?(0,I.jh)(O[null===o||void 0===o?void 0:o.db_key]):"",onChange:e=>((o,e)=>{X((l=>({...l,[e]:(0,I.O_)(o)})))})(e,null===o||void 0===o?void 0:o.db_key),errorShow:Q[null===o||void 0===o?void 0:o.db_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.db_key).concat(l)):"FILE"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(i.Fragment,{children:null!==o&&void 0!==o&&o.form_common_key?(0,E.jsx)(E.Fragment,{children:"Yes"===O[null===o||void 0===o?void 0:o.form_common_key]?(0,E.jsx)(h.Z,{label:null===o||void 0===o?void 0:o.label,placeholder:null===o||void 0===o?void 0:o.placeholder,name:null===o||void 0===o?void 0:o.db_key,type:null===o||void 0===o?void 0:o.type,value:O[null===o||void 0===o?void 0:o.db_key]?{key:O[null===o||void 0===o?void 0:o.db_key]}:"",onChange:e=>Lo(e,null===o||void 0===o?void 0:o.db_key),errorShow:Q[null===o||void 0===o?void 0:o.db_key],customFormFileContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormFileLabel:{fontSize:"15px",fontWeight:"500"},customFormFile:{fontSize:"15px",fontWeight:"500"}}):null}):(0,E.jsx)(h.Z,{label:null===o||void 0===o?void 0:o.label,placeholder:null===o||void 0===o?void 0:o.placeholder,name:null===o||void 0===o?void 0:o.db_key,type:null===o||void 0===o?void 0:o.type,value:O[null===o||void 0===o?void 0:o.db_key]?{key:O[null===o||void 0===o?void 0:o.db_key]}:"",onChange:e=>Lo(e,null===o||void 0===o?void 0:o.db_key),errorShow:Q[null===o||void 0===o?void 0:o.db_key],customFormFileContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormFileLabel:{fontSize:"15px",fontWeight:"500"},customFormFile:{fontSize:"15px",fontWeight:"500"}})},"".concat(null===o||void 0===o?void 0:o.db_key).concat(l)):"CROPIMAGE"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(i.Fragment,{children:"studentProfilePhoto"===(null===o||void 0===o?void 0:o.form_checklist_key)?null:(0,E.jsx)(h.Z,{label:null===o||void 0===o?void 0:o.label,placeholder:null===o||void 0===o?void 0:o.placeholder,name:null===o||void 0===o?void 0:o.db_key,type:null===o||void 0===o?void 0:o.type,value:O[null===o||void 0===o?void 0:o.db_key]?{key:O[null===o||void 0===o?void 0:o.db_key]}:"",onChange:e=>Ao(e,null===o||void 0===o?void 0:o.db_key),errorShow:Q[null===o||void 0===o?void 0:o.db_key],customFormFileContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormFileLabel:{fontSize:"15px",fontWeight:"500"},customFormFile:{fontSize:"15px",fontWeight:"500"}})},"".concat(null===o||void 0===o?void 0:o.db_key).concat(l)):"Same As"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(p.Z,{options:["Same As Current Address"],defaultValue:ao.address,onChange:zo,customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},isCheck:!0,customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.db_key).concat(l,"234")):null))}),(0,E.jsx)(s.Z,{})]},"".concat(null===o||void 0===o?void 0:o.section_name).concat(e))})),(0,E.jsx)(w.Z,{label:"preview",customStyle:{width:"100%"}})]}),io&&(0,E.jsx)(y.Z,{open:io,children:(0,E.jsx)(b.Z,{setOpenCrop:no,fileUrl:to,first:null!==(L=["studentProfilePhoto","studentIdProfilePhoto"])&&void 0!==L&&L.includes(uo)?1:16,second:null!==(z=["studentProfilePhoto","studentIdProfilePhoto"])&&void 0!==z&&z.includes(uo)?1:9,onCrop:(o,e)=>{no(!1),No(o)}})}),(0,E.jsx)(B.Ch,{run:go.run,setRun:()=>xo({run:!1,msg:""}),msg:go.msg,postiton:"bottom",type:"error"}),eo&&(0,E.jsx)(j.default,{})]})},G=o=>{let{args:e,argsLabel:l}=o;const i={};let n=null;for(let a of l)if("subject_criteria"===(null===a||void 0===a?void 0:a.section_key)){n=a;break}for(let a in e){let o=e[a];if(null!==o&&void 0!==o&&o.selected){var d;let l=null===(d=n)||void 0===d?void 0:d.nested_section[null===o||void 0===o?void 0:o.whichIndex],r=!1,_=!1;for(let o=0;o<(null===l||void 0===l||null===(t=l.nested_form_checklist)||void 0===t?void 0:t.length);o++){var t;let n=null===l||void 0===l?void 0:l.nested_form_checklist[o];if("SELECT"===(null===n||void 0===n?void 0:n.form_checklist_typo))if(e&&e[a]&&e[a][o]){let l=e[a][o],n=e[a][o].min,d=0,t=0;null!==l&&void 0!==l&&l.max_major_subject&&(i["".concat(a).concat(o)]="Please select DSE subject"),null!==l&&void 0!==l&&l.nested_select_min&&(i["".concat(a).concat(o)]="Please select nested subject");for(let e in l){var v;let n=l[e];if(null!==(v=["major_subject","max","min","max_major_subject","nested_select_min","nested_subject"])&&void 0!==v&&v.includes(e));else if((null===e||void 0===e?void 0:e.length)>=4&&null!==e&&void 0!==e&&e.includes("OR")){if(null!==n&&void 0!==n&&n.selected){++d;let n=!0;for(let o in l){var u;let i=l[o];if(null!==(u=["major_subject","max","min","max_major_subject","nested_select_min","nested_subject"])&&void 0!==u&&u.includes(o));else if((null===i||void 0===i?void 0:i.parentWholeKey)===e&&(n=!1,null!==i&&void 0!==i&&i.selected))break}n&&(i["".concat(a).concat(o).concat(e)]="Please select subject")}}else"YES"===(null===n||void 0===n?void 0:n.or_subject)||null!==n&&void 0!==n&&n.selected&&null!==n&&void 0!==n&&n.id&&d++;++t}n>d&&(i["".concat(a).concat(o)]="Please select subject")}else i["".concat(a).concat(o)]="Please select subject";else if("SELECT_GROUP"===(null===n||void 0===n?void 0:n.form_checklist_typo)&&e&&e[a]&&e[a][o]){let l=e[a][o],n=e[a][o].selected;"FIXED"===l.or_subject&&n&&(_=!0,null!==l&&void 0!==l&&l.max_major_subject&&(i["".concat(a).concat(o)]="Please select DSE subject"),null!==l&&void 0!==l&&l.nested_select_min&&(i["".concat(a).concat(o)]="Please select nested subject"))}}if(_)r=!1;else{var c;let e=null===(c=n)||void 0===c?void 0:c.nested_section[null===o||void 0===o?void 0:o.whichIndex],l=!1;for(let o=0;o<(null===e||void 0===e||null===(s=e.nested_form_checklist)||void 0===s?void 0:s.length);o++){var s;let i=null===e||void 0===e?void 0:e.nested_form_checklist[o];"SELECT_GROUP"===(null===i||void 0===i?void 0:i.form_checklist_typo)&&(l=!0)}l&&(r=!0)}r&&(i["".concat(a)]="Please select subject")}}return i};var q=l(63950);const H=o=>{var e,l,n,t,Z,L,z;let{onApplyForm:D,setPreview:T,preview:P}=o;const{t:M}=(0,d.$G)(),U=(0,v.TH)(),[R,Y]=(0,i.useState)([]),[O,X]=(0,i.useState)({}),[G,q]=(0,i.useState)({}),[H,J]=(0,i.useState)([]),[Q,oo]=(0,i.useState)(""),[eo,lo]=(0,i.useState)(!1),[io,no]=(0,i.useState)(!1),[to,vo]=(0,i.useState)(""),[uo,co]=(0,i.useState)(""),[so]=(0,k.FL)(),[ao,ro]=(0,i.useState)({address:""}),[_o,mo]=(0,i.useState)(""),[ho,po]=(0,i.useState)(""),[fo,ko]=(0,i.useState)(""),[yo,bo]=(0,i.useState)({}),[go,xo]=(0,i.useState)({run:!1,msg:""}),{authGetAccountWithMobileNumber:jo}=(0,A.vM)({phoneKey:fo,skip:10!==(null===fo||void 0===fo?void 0:fo.length)}),{studentApplyFormFieldDetail:Io}=(0,u.Mu)({data:{flow:"APPLICATION",flowId:null===(e=U.state)||void 0===e?void 0:e.appId,apk:"WEB",aid:null===(l=U.state)||void 0===l?void 0:l.admissionId},skip:!(null!==(n=U.state)&&void 0!==n&&n.appId)});(0,i.useEffect)((()=>{if(Io){let n=[],d={},t={},v=["student_ph_type"];for(let u=0;u<(null===Io||void 0===Io?void 0:Io.length);u++){let c=Io[u],s={section_name:null===c||void 0===c?void 0:c.section_name,section_key:null===c||void 0===c?void 0:c.section_key,section_status:null===c||void 0===c?void 0:c.section_status,section_value:null===c||void 0===c?void 0:c.section_value,field_list:[],nested_section:null===c||void 0===c?void 0:c.nested_section};for(let n=0;n<(null===c||void 0===c||null===(o=c.form_checklist)||void 0===o?void 0:o.length);n++){var o,e,l;let u=null===c||void 0===c?void 0:c.form_checklist[n];null===(e=s.field_list)||void 0===e||e.push({label:null===u||void 0===u?void 0:u.form_checklist_lable,placeholder:null===u||void 0===u?void 0:u.form_checklist_placeholder,type:null===u||void 0===u?void 0:u.form_checklist_typo,db_key:null===u||void 0===u?void 0:u.form_checklist_key,options:null===u||void 0===u?void 0:u.form_checklist_typo_option_pl,width:null===u||void 0===u?void 0:u.width,nested_form_checklist:null!==(l=null===u||void 0===u?void 0:u.nested_form_checklist)&&void 0!==l?l:[],form_common_key:null===u||void 0===u?void 0:u.form_common_key});for(let o of null!==(i=null===u||void 0===u?void 0:u.nested_form_checklist)&&void 0!==i?i:[]){var i;null!==o&&void 0!==o&&o.form_checklist_key&&(d[null===o||void 0===o?void 0:o.form_checklist_key]=""),v.push(null===o||void 0===o?void 0:o.form_checklist_key),"DYNAMIC"===(null===o||void 0===o?void 0:o.form_checklist_key_status)&&(t[null===o||void 0===o?void 0:o.form_checklist_key]="");for(let e of null===o||void 0===o?void 0:o.nested_form_checklist_nested)null!==e&&void 0!==e&&e.form_checklist_key&&(d[null===e||void 0===e?void 0:e.form_checklist_key]=""),v.push(null===e||void 0===e?void 0:e.form_checklist_key),"DYNAMIC"===(null===e||void 0===e?void 0:e.form_checklist_key_status)&&(t[null===e||void 0===e?void 0:e.form_checklist_key]="")}null!==u&&void 0!==u&&u.form_checklist_key&&(d[null===u||void 0===u?void 0:u.form_checklist_key]=""),"DYNAMIC"===(null===u||void 0===u?void 0:u.form_checklist_key_status)&&(t[null===u||void 0===u?void 0:u.form_checklist_key]=""),v.push(null===u||void 0===u?void 0:u.form_checklist_key)}n.push(s),"subject_criteria"===(null===c||void 0===c?void 0:c.section_key)&&(d.is_group_select=!1)}Y(n),X(d),q(t),J(v)}}),[Io]);const So=(o,e,l,i)=>{bo((i=>({...i,[e]:{selected:o.target.checked,whichIndex:l}}))),X((e=>({...e,is_group_select:!!o.target.checked})))},wo=(o,e,l,i,n)=>{if("YES"===(null===n||void 0===n?void 0:n.or_subject)){let c={...yo}[e][l],s=yo[e][l],a=0,r=[],_=0,m=[];if((null===s||void 0===s?void 0:s.max_major_subject)<(null===n||void 0===n?void 0:n.maxCount)?(a=null===s||void 0===s?void 0:s.max_major_subject,r=null===s||void 0===s?void 0:s.major_subject):(a=null===n||void 0===n?void 0:n.maxCount,r=[]),(null===s||void 0===s?void 0:s.nested_select_min)<(null===n||void 0===n?void 0:n.nestedMaxCount)?(_=null===s||void 0===s?void 0:s.nested_select_min,m=null===s||void 0===s?void 0:s.nested_subject):(_=null===n||void 0===n?void 0:n.nestedMaxCount,m=[]),c)for(let o in c){let e=c[o];if(null!==e&&void 0!==e&&e.or_subject&&(null===e||void 0===e?void 0:e.parentIndex)===(null===n||void 0===n?void 0:n.parentIndex)){var d,t,v,u;if(e.selected=!1,null!==s&&void 0!==s&&null!==(d=s.major_subject)&&void 0!==d&&d.includes(null===e||void 0===e?void 0:e.id))r=null===(v=r)||void 0===v?void 0:v.filter((o=>o!==(null===e||void 0===e?void 0:e.id))),a+=1;if(null!==s&&void 0!==s&&null!==(t=s.nested_subject)&&void 0!==t&&t.includes(null===e||void 0===e?void 0:e.id))m=null===(u=m)||void 0===u?void 0:u.filter((o=>o!==(null===e||void 0===e?void 0:e.id))),_+=1}}bo((d=>{var t,v;return{...d,[e]:{...d[e],[l]:{...c,min:null===n||void 0===n?void 0:n.min,max:null===n||void 0===n?void 0:n.max,max_major_subject:null!==(t=a)&&void 0!==t?t:0,major_subject:r,nested_select_min:null!==(v=_)&&void 0!==v?v:0,nested_subject:m,[i]:{selected:o.target.checked,id:null===n||void 0===n?void 0:n.masterId,or_subject:null===n||void 0===n?void 0:n.or_subject,parentIndex:null===n||void 0===n?void 0:n.parentIndex,parentWholeKey:null===n||void 0===n?void 0:n.parentWholeKey}}}}}))}else if("FIXED"===(null===n||void 0===n?void 0:n.or_subject)){let i=!0,d=yo[e],t=null===n||void 0===n?void 0:n.maxCount,v=null===n||void 0===n?void 0:n.nestedMaxCount;if(yo[e]&&yo[e])for(let e in d){var c,s,a;if("selected"===e||"whichIndex"===e);else"FIXED"===(null===(c=d[e])||void 0===c?void 0:c.or_subject)&&null!==(s=d[e])&&void 0!==s&&s.selected&&null!==(a=d[e])&&void 0!==a&&a.id&&o.target.checked&&(i=!1)}if(i){let i=[];for(let o of null===n||void 0===n?void 0:n.fixedSubject)i.push(null===o||void 0===o?void 0:o._id);bo((d=>({...d,[e]:{...d[e],[l]:{...d[e][l],min:null===n||void 0===n?void 0:n.min,max:null===n||void 0===n?void 0:n.max,selected:o.target.checked,id:i,or_subject:null===n||void 0===n?void 0:n.or_subject,max_major_subject:null!==t&&void 0!==t?t:0,major_subject:[],nested_select_min:null!==v&&void 0!==v?v:0,nested_subject:[]}}})))}else bo((o=>({...o,[e]:{...o[e],[l]:{...o[e][l],min:null===n||void 0===n?void 0:n.min,max:null===n||void 0===n?void 0:n.max,selected:!1,id:[],or_subject:null===n||void 0===n?void 0:n.or_subject,max_major_subject:null!==t&&void 0!==t?t:0,major_subject:[],nested_select_min:null!==v&&void 0!==v?v:0,nested_subject:[]}}}))),xo({run:!0,msg:"You cannot select more than one"})}else{let d=!0,t=0,v=yo[e][l],u=0,c=[],s=0,a=[];if((null===v||void 0===v?void 0:v.max_major_subject)<(null===n||void 0===n?void 0:n.maxCount)?(u=null===v||void 0===v?void 0:v.max_major_subject,c=null===v||void 0===v?void 0:v.major_subject):(u=null===n||void 0===n?void 0:n.maxCount,c=[]),(null===v||void 0===v?void 0:v.nested_select_min)<(null===n||void 0===n?void 0:n.nestedMaxCount)?(s=null===v||void 0===v?void 0:v.nested_select_min,a=null===v||void 0===v?void 0:v.nested_subject):(s=null===n||void 0===n?void 0:n.nestedMaxCount,a=[]),yo[e]&&yo[e][l]){let i=yo[e][l],n=1;for(let o in i){var r,_;if("min"===o||"max"===o);else null!==(r=i[o])&&void 0!==r&&r.selected&&null!==(_=i[o])&&void 0!==_&&_.id&&(n+=1)}(null===i||void 0===i?void 0:i.min)<n&&o.target.checked&&(d=!1,t=null===i||void 0===i?void 0:i.max)}if(v&&!o.target.checked&&null!==n&&void 0!==n&&n.masterId){var m,h,p,f;if(null!==(m=c)&&void 0!==m&&m.includes(null===n||void 0===n?void 0:n.masterId))c=null===(p=c)||void 0===p?void 0:p.filter((o=>o!==(null===n||void 0===n?void 0:n.masterId))),u+=1;if(null!==(h=a)&&void 0!==h&&h.includes(null===n||void 0===n?void 0:n.masterId))a=null===(f=a)||void 0===f?void 0:f.filter((o=>o!==(null===n||void 0===n?void 0:n.masterId))),s+=1}if(d){if(bo((d=>{var t,v;return{...d,[e]:{...d[e],[l]:{...d[e][l],min:null===n||void 0===n?void 0:n.min,max:null===n||void 0===n?void 0:n.max,max_major_subject:null!==(t=u)&&void 0!==t?t:0,major_subject:c,nested_select_min:null!==(v=s)&&void 0!==v?v:0,nested_subject:a,[i]:{selected:o.target.checked,id:null===n||void 0===n?void 0:n.masterId}}}}})),(null===i||void 0===i?void 0:i.length)>=4&&null!==i&&void 0!==i&&i.includes("OR")&&yo&&yo[e]&&yo[e][l]){let o=yo[e][l];for(let e in o){let l=o[e];(null===l||void 0===l?void 0:l.parentWholeKey)===i&&(l.selected=!1)}}}else bo((o=>{var d,t;return{...o,[e]:{...o[e],[l]:{...o[e][l],max_major_subject:null!==(d=u)&&void 0!==d?d:0,major_subject:c,nested_select_min:null!==(t=s)&&void 0!==t?t:0,nested_subject:a,min:null===n||void 0===n?void 0:n.min,max:null===n||void 0===n?void 0:n.max,[i]:{selected:!1,id:""}}}}})),xo({run:!0,msg:"You cannot select more than ".concat(t)})}},Co=(o,e,l)=>{var i;let n=yo[o][e];null!==n&&void 0!==n&&null!==(i=n.nested_subject)&&void 0!==i&&i.includes(null===l||void 0===l?void 0:l.sub_id)?bo((i=>{var n,d;return{...i,[o]:{...i[o],[e]:{...i[o][e],nested_select_min:i[o][e].nested_select_min+1,nested_subject:null===(n=i[o][e])||void 0===n||null===(d=n.nested_subject)||void 0===d?void 0:d.filter((o=>o!==(null===l||void 0===l?void 0:l.sub_id)))}}}})):bo((i=>{var n,d,t;return{...i,[o]:{...i[o],[e]:{...i[o][e],nested_select_min:i[o][e].nested_select_min-1,nested_subject:(null===(n=i[o][e])||void 0===n||null===(d=n.nested_subject)||void 0===d?void 0:d.length)>0?[...null===(t=i[o][e])||void 0===t?void 0:t.nested_subject,null===l||void 0===l?void 0:l.sub_id]:[null===l||void 0===l?void 0:l.sub_id]}}}}))},Fo=(o,e,l)=>{var i;let n=yo[o][e];null!==n&&void 0!==n&&null!==(i=n.major_subject)&&void 0!==i&&i.includes(l)?bo((i=>{var n,d;return{...i,[o]:{...i[o],[e]:{...i[o][e],max_major_subject:i[o][e].max_major_subject+1,major_subject:null===(n=i[o][e])||void 0===n||null===(d=n.major_subject)||void 0===d?void 0:d.filter((o=>o!==l))}}}})):bo((i=>{var n,d,t;return{...i,[o]:{...i[o],[e]:{...i[o][e],max_major_subject:i[o][e].max_major_subject-1,major_subject:(null===(n=i[o][e])||void 0===n||null===(d=n.major_subject)||void 0===d?void 0:d.length)>0?[...null===(t=i[o][e])||void 0===t?void 0:t.major_subject,l]:[l]}}}}))},No=o=>{if(o){lo((o=>!o));const e=new FormData;e.append("file",o),so({fileUpload:e}).then((o=>{X((e=>{var l;return{...e,[uo]:null===(l=o.data)||void 0===l?void 0:l.imageKey}})),lo((o=>!o))})).catch({})}},Ao=(o,e)=>{if(o.target.files[0]){const l=URL.createObjectURL(o.target.files[0]);vo(l),no(!0),co(e)}},Wo=o=>{X((e=>({...e,[o.target.name]:o.target.value})))},Eo=o=>{X((e=>({...e,[o.target.name]:+o.target.value})))},Zo=(o,e)=>{X((l=>({...l,[e]:o})))},Lo=(o,e)=>{if(o.target.files[0]){lo((o=>!o));const l=new FormData;l.append("file",o.target.files[0]),so({fileUpload:l}).then((o=>{X((l=>{var i;return{...l,[e]:null===(i=o.data)||void 0===i?void 0:i.imageKey}})),lo((o=>!o))})).catch({})}},zo=o=>{ro((e=>({...e,address:o.target.checked}))),X((o=>({...o,studentAddress:null===o||void 0===o?void 0:o.studentCurrentAddress,studentPincode:null===o||void 0===o?void 0:o.studentCurrentPincode,studentState:null===o||void 0===o?void 0:o.studentCurrentState,studentDistrict:null===o||void 0===o?void 0:o.studentCurrentDistrict})))},Do=(o,e)=>{X((l=>({...l,[e]:o.target.checked?"Yes":"No"})))};return(0,E.jsxs)(E.Fragment,{children:[_o&&(0,E.jsx)(N.Z,{onClose:()=>mo(""),value:_o}),P?(0,E.jsx)(F.Z,{state:O,stateLabel:R,onApplyStudentForm:D,dynamicState:G,otherState:{alreadyPhone:fo,selectedUser:ho,allAccount:null!==jo&&void 0!==jo?jo:[]},extra:yo}):(0,E.jsxs)("form",{className:c.Z.fc_container,onSubmit:o=>{var e,l;o.preventDefault();let i=null,n=null;"INSTITUTE_SIDE"===(null===(e=U.state)||void 0===e?void 0:e.openAs)||"ADMISSION_ADMIN_SIDE"===(null===(l=U.state)||void 0===l?void 0:l.openAs)?i=(0,S.l)({...O,mobileNumber:fo},H):(i=(0,S.l)(O,H),n=$({args:yo,argsLabel:R})),(0,S.x)(i)&&(0,S.x)(n)?T(!0):oo({...i,...n})},children:["INSTITUTE_SIDE"===(null===(t=U.state)||void 0===t?void 0:t.openAs)||"ADMISSION_ADMIN_SIDE"===(null===(Z=U.state)||void 0===Z?void 0:Z.openAs)?(0,E.jsxs)("div",{className:c.Z.fccs_inner,children:[(0,E.jsx)(a.Z,{label:M("form_mobile_no_label"),placeholder:M("form_student_mobile_number_placeholder"),name:"mobileNumber",value:fo,type:"text",onChange:o=>{var e;ko(null===(e=o.target.value)||void 0===e?void 0:e.trim())},customFormInputContainer:{width:"49%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"},errorShow:Q.mobileNumber}),null!==jo&&void 0!==jo&&jo.length?(0,E.jsx)(W.Z,{selectLabel:M("existing_account"),selectedValue:M("select_existing_account"),value:ho,name:"user",onChange:o=>{po(o.target.value)},options:jo,customStyleContainer:{width:"49%"},customInputStyle:{height:"42px",fontSize:"15px",fontWeight:"500"},customLabelStyle:{marginBlock:"0.7rem",fontSize:"15px",fontWeight:"500"}}):""]}):null,(null===R||void 0===R?void 0:R.length)>0?null:(0,E.jsx)(C.Z,{}),null===R||void 0===R?void 0:R.map(((o,e)=>{var l,n,d,t,v,u;return 0===e?(0,E.jsx)("section",{className:c.Z.fcc_section,children:(0,E.jsx)("div",{className:c.Z.fccs_inner,style:{justifyContent:"flex-end",marginTop:"1rem"},children:null===o||void 0===o||null===(l=o.field_list)||void 0===l?void 0:l.map(((o,e)=>{var l;return(0,E.jsxs)("div",{className:c.Z.fcci_container,children:[(0,E.jsxs)("label",{htmlFor:"".concat(null===o||void 0===o?void 0:o.db_key).concat(e),className:c.Z.fcc_label,children:[(0,E.jsx)("img",{className:c.Z.fcc_photo,src:O[null===o||void 0===o?void 0:o.db_key]?"".concat(x.yI,"/").concat(O[null===o||void 0===o?void 0:o.db_key]):"".concat(g.p3,"/feed-user-avatar.svg"),alt:"student avatar"}),(0,E.jsx)("img",{src:"/images/user-pencil-edit-transparent.svg",alt:"edit icon",className:c.Z.fcce_icon})]}),(0,E.jsx)("input",{type:"file",id:"".concat(null===o||void 0===o?void 0:o.db_key).concat(e),onChange:e=>Ao(e,null===o||void 0===o?void 0:o.db_key),style:{display:"none"}}),(0,E.jsxs)("p",{children:[null!==(l=null===o||void 0===o?void 0:o.label)&&void 0!==l?l:"",Q[null===o||void 0===o?void 0:o.db_key]?(0,E.jsxs)("span",{style:{color:"rgb(231, 75, 75)"},children:["* ",M("required")]}):null]})]})}))})},"".concat(null===o||void 0===o?void 0:o.section_name).concat(e)):(0,E.jsxs)("section",{className:c.Z.fcc_section,children:[(0,E.jsxs)("h4",{children:["subject_criteria"===(null===o||void 0===o?void 0:o.section_key)?"Select Subject":null===o||void 0===o?void 0:o.section_name,":",null!==(n=["undertakings","antiragging_affidavit"])&&void 0!==n&&n.includes(null===o||void 0===o?void 0:o.section_key)||null!==(d=["UNDERTAKING"])&&void 0!==d&&d.includes(null===o||void 0===o?void 0:o.section_status)?(0,E.jsx)("span",{style:{cursor:"pointer",color:"#00f",marginLeft:"0.3rem"},onClick:()=>mo({label:null===o||void 0===o?void 0:o.section_name,conent:null===o||void 0===o?void 0:o.section_value}),children:"View"}):null,"subject_criteria"===(null===o||void 0===o?void 0:o.section_key)&&Q.is_group_select?(0,E.jsxs)("span",{style:{color:"rgb(231, 75, 75)"},children:["* ",M("required")]}):null]}),"subject_criteria"===(null===o||void 0===o?void 0:o.section_key)?(0,E.jsx)("div",{children:null===o||void 0===o||null===(t=o.nested_section)||void 0===t?void 0:t.map(((o,e)=>{var l,i,n,d,t;return(0,E.jsxs)("section",{className:c.Z.fcc_section,style:{opacity:null!==O&&void 0!==O&&O.is_group_select?null!==(l=yo["".concat(null===o||void 0===o?void 0:o.nested_section_name).concat(e)])&&void 0!==l&&l.selected?"1":"0.5":"1"},children:[(0,E.jsx)(V.Z,{label:"",options:[null===o||void 0===o?void 0:o.nested_section_name],defaultValue:null!==(i=null===(n=yo["".concat(null===o||void 0===o?void 0:o.nested_section_name).concat(e)])||void 0===n?void 0:n.selected)&&void 0!==i&&i,onChange:null!==O&&void 0!==O&&O.is_group_select?null!==(d=yo["".concat(null===o||void 0===o?void 0:o.nested_section_name).concat(e)])&&void 0!==d&&d.selected?l=>So(l,"".concat(null===o||void 0===o?void 0:o.nested_section_name).concat(e),e,null===o||void 0===o||o.nested_major_select_max):()=>{}:l=>So(l,"".concat(null===o||void 0===o?void 0:o.nested_section_name).concat(e),e,null===o||void 0===o||o.nested_major_select_max),msg:Q["".concat(null===o||void 0===o?void 0:o.nested_section_name).concat(e)],customFormInputContainer:{width:"49%"},isCheck:!0}),(0,E.jsx)(K.Z,{parentKey:"".concat(null===o||void 0===o?void 0:o.nested_section_name).concat(e),options:null===o||void 0===o?void 0:o.nested_form_checklist,defaultValue:yo["".concat(null===o||void 0===o?void 0:o.nested_section_name).concat(e)],onChange:wo,errorShow:Q,errorShowKey:"".concat(null===o||void 0===o?void 0:o.nested_section_name).concat(e),customFormInputContainer:{width:"49%",paddingLeft:"2.2rem"},isCheck:!0,disabled:null!==O&&void 0!==O&&O.is_group_select?!yo["".concat(null===o||void 0===o?void 0:o.nested_section_name).concat(e)]:!(null!==O&&void 0!==O&&O.is_group_select),onMajorSubject:Fo,onNestedSubject:Co,isGroupSelected:null===(t=yo["".concat(null===o||void 0===o?void 0:o.nested_section_name).concat(e)])||void 0===t?void 0:t.selected})]},"".concat(null===o||void 0===o?void 0:o.nested_section_name,"}").concat(e))}))}):"academic_details"===(null===o||void 0===o?void 0:o.section_key)?(0,E.jsx)("section",{className:c.Z.fcc_section,children:null===o||void 0===o||null===(v=o.field_list)||void 0===v?void 0:v.map(((o,e)=>{var l,n,d;return(0,E.jsxs)(i.Fragment,{children:[(0,E.jsx)(p.Z,{label:null===o||void 0===o?void 0:o.label,options:null===o||void 0===o?void 0:o.options,defaultValue:"Yes"===O[null===o||void 0===o?void 0:o.db_key],onChange:e=>Do(e,null===o||void 0===o?void 0:o.db_key),errorShow:Q[null===o||void 0===o?void 0:o.db_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%",fontWeight:"500",marginBottom:"-1rem"},isCheck:!0,isOptionError:!0}),"Yes"===O[null===o||void 0===o?void 0:o.db_key]?(0,E.jsx)(E.Fragment,{children:null!==(l=["std_tenth_details","hsc_diploma","fyjc","fy_sem_I","fy_sem_II","sy_sem_III","sy_sem_IV","ty_sem_V","ty_sem_VI","msc_mcom"])&&void 0!==l&&l.includes(null===o||void 0===o?void 0:o.db_key)?(0,E.jsx)("section",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"flex-start",gap:"2%",paddingLeft:"2.2rem",marginTop:"-1rem"},children:null===o||void 0===o||null===(n=o.nested_form_checklist)||void 0===n?void 0:n.map(((o,e)=>"TEXT"===(null===o||void 0===o?void 0:o.form_checklist_typo)?(0,E.jsx)(a.Z,{label:null===o||void 0===o?void 0:o.form_checklist_name,placeholder:null===o||void 0===o?void 0:o.form_checklist_placeholder,name:null===o||void 0===o?void 0:o.form_checklist_key,type:null===o||void 0===o?void 0:o.form_checklist_typo,value:O[null===o||void 0===o?void 0:o.form_checklist_key],onChange:Wo,errorShow:Q[null===o||void 0===o?void 0:o.form_checklist_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.form_checklist_key).concat(e)):"NUMBER"===(null===o||void 0===o?void 0:o.form_checklist_typo)?(0,E.jsx)(a.Z,{label:null===o||void 0===o?void 0:o.form_checklist_name,placeholder:null===o||void 0===o?void 0:o.form_checklist_placeholder,name:null===o||void 0===o?void 0:o.form_checklist_key,type:null===o||void 0===o?void 0:o.form_checklist_typo,value:O[null===o||void 0===o?void 0:o.form_checklist_key],onChange:Eo,errorShow:Q[null===o||void 0===o?void 0:o.form_checklist_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.form_checklist_name).concat(e)):null))}):null===o||void 0===o||null===(d=o.nested_form_checklist)||void 0===d?void 0:d.map(((o,e)=>{var l;return(0,E.jsxs)("section",{className:c.Z.fcc_section,style:{paddingLeft:"2.2rem"},children:[(0,E.jsx)(p.Z,{label:"",options:null===o||void 0===o?void 0:o.form_checklist_typo_option_pl,defaultValue:"Yes"===O[null===o||void 0===o?void 0:o.form_checklist_key],onChange:e=>Do(e,null===o||void 0===o?void 0:o.form_checklist_key),errorShow:Q[null===o||void 0===o?void 0:o.form_checklist_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%",fontWeight:"500"},isCheck:!0}),"Yes"===O[null===o||void 0===o?void 0:o.form_checklist_key]?(0,E.jsx)("section",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"flex-start",gap:"2%",paddingLeft:"2.2rem",marginTop:"-1rem"},children:null===o||void 0===o||null===(l=o.nested_form_checklist_nested)||void 0===l?void 0:l.map(((o,e)=>"TEXT"===(null===o||void 0===o?void 0:o.form_checklist_typo)?(0,E.jsx)(a.Z,{label:null===o||void 0===o?void 0:o.form_checklist_name,placeholder:null===o||void 0===o?void 0:o.form_checklist_placeholder,name:null===o||void 0===o?void 0:o.form_checklist_key,type:null===o||void 0===o?void 0:o.form_checklist_typo,value:O[null===o||void 0===o?void 0:o.form_checklist_key],onChange:Wo,customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.form_checklist_key).concat(e)):"NUMBER"===(null===o||void 0===o?void 0:o.form_checklist_typo)?(0,E.jsx)(a.Z,{label:null===o||void 0===o?void 0:o.form_checklist_name,placeholder:null===o||void 0===o?void 0:o.form_checklist_placeholder,name:null===o||void 0===o?void 0:o.form_checklist_key,type:null===o||void 0===o?void 0:o.form_checklist_typo,value:O[null===o||void 0===o?void 0:o.form_checklist_key],onChange:Eo,customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.form_checklist_name).concat(e)):null))}):null]},"".concat(null===o||void 0===o?void 0:o.form_checklist_name).concat(e))}))}):null]},"".concat(null===o||void 0===o?void 0:o.db_key).concat(e))}))}):(0,E.jsx)("div",{className:c.Z.fccs_inner,children:null===o||void 0===o||null===(u=o.field_list)||void 0===u?void 0:u.map(((o,e)=>"TEXT"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(i.Fragment,{children:null!==o&&void 0!==o&&o.form_common_key?(0,E.jsx)(E.Fragment,{children:"Yes"===O[null===o||void 0===o?void 0:o.form_common_key]?(0,E.jsx)(a.Z,{label:null===o||void 0===o?void 0:o.label,placeholder:null===o||void 0===o?void 0:o.placeholder,name:null===o||void 0===o?void 0:o.db_key,type:null===o||void 0===o?void 0:o.type,value:O[null===o||void 0===o?void 0:o.db_key],onChange:Wo,errorShow:Q[null===o||void 0===o?void 0:o.db_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.db_key).concat(e)):null}):(0,E.jsx)(a.Z,{label:null===o||void 0===o?void 0:o.label,placeholder:null===o||void 0===o?void 0:o.placeholder,name:null===o||void 0===o?void 0:o.db_key,type:null===o||void 0===o?void 0:o.type,value:O[null===o||void 0===o?void 0:o.db_key],onChange:Wo,errorShow:Q[null===o||void 0===o?void 0:o.db_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.db_key).concat(e))},"".concat(null===o||void 0===o?void 0:o.db_key).concat(e)):"TEXTAREA"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(r.Z,{label:null===o||void 0===o?void 0:o.label,placeholder:null===o||void 0===o?void 0:o.placeholder,name:null===o||void 0===o?void 0:o.db_key,type:null===o||void 0===o?void 0:o.type,value:O[null===o||void 0===o?void 0:o.db_key],onChange:Wo,errorShow:Q[null===o||void 0===o?void 0:o.db_key],customFormInputContainer:{width:"100%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.db_key).concat(e)):"NUMBER"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(a.Z,{label:null===o||void 0===o?void 0:o.label,placeholder:null===o||void 0===o?void 0:o.placeholder,name:null===o||void 0===o?void 0:o.db_key,type:null===o||void 0===o?void 0:o.type,value:O[null===o||void 0===o?void 0:o.db_key],onChange:Wo,errorShow:Q[null===o||void 0===o?void 0:o.db_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.db_key).concat(e)):"SELECT"===(null===o||void 0===o?void 0:o.type)||"MULITSELECT"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(_.Z,{selectLabel:null===o||void 0===o?void 0:o.label,selectedValue:null===o||void 0===o?void 0:o.placeholder,defalutValue:O[null===o||void 0===o?void 0:o.db_key],onClick:e=>Zo(e,null===o||void 0===o?void 0:o.db_key),options:(null===o||void 0===o?void 0:o.options)||[],errorShow:Q[null===o||void 0===o?void 0:o.db_key],customStyleContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customListStyle:{position:"absolute",width:"100%",zIndex:"1"},customLabelStyle:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.db_key).concat(e)):"RADIO"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(f.Z,{label:null===o||void 0===o?void 0:o.label,options:null===o||void 0===o?void 0:o.options,defaultValue:O[null===o||void 0===o?void 0:o.db_key],onChange:e=>((o,e)=>{X((l=>({...l,[e]:o.target.value})))})(e,null===o||void 0===o?void 0:o.db_key),errorShow:Q[null===o||void 0===o?void 0:o.db_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.db_key).concat(e)):"CHECKBOX"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(p.Z,{label:null===o||void 0===o?void 0:o.label,options:null===o||void 0===o?void 0:o.options,defaultValue:O[null===o||void 0===o?void 0:o.db_key],onChange:e=>((o,e)=>{var l;if(null!==(l=["student_asm_wasm_check","student_ddww_check","student_esm_wasm_check","student_ff_wff_check","student_km_check","student_moeaf_check","student_moffaf_check","student_mopaf_check","student_rota_check","student_wpt_check","student_wst_check"])&&void 0!==l&&l.includes(e)){X((l=>({...l,[e]:o.target.checked?"Yes":"No"})));let l=null===H||void 0===H?void 0:H.filter((o=>o!==(null===e||void 0===e?void 0:e.substring(0,(null===e||void 0===e?void 0:e.length)-6))));J(l)}else X((l=>({...l,[e]:o.target.checked})))})(e,null===o||void 0===o?void 0:o.db_key),errorShow:Q[null===o||void 0===o?void 0:o.db_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},isCheck:!0,customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.db_key).concat(e)):"CALENDAR"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(m.Z,{label:null===o||void 0===o?void 0:o.label,placeholder:null===o||void 0===o?void 0:o.placeholder,name:null===o||void 0===o?void 0:o.db_key,type:null===o||void 0===o?void 0:o.type,value:O[null===o||void 0===o?void 0:o.db_key]?(0,I.jh)(O[null===o||void 0===o?void 0:o.db_key]):"",onChange:e=>((o,e)=>{X((l=>({...l,[e]:(0,I.O_)(o)})))})(e,null===o||void 0===o?void 0:o.db_key),errorShow:Q[null===o||void 0===o?void 0:o.db_key],customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.db_key).concat(e)):"FILE"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(i.Fragment,{children:null!==o&&void 0!==o&&o.form_common_key?(0,E.jsx)(E.Fragment,{children:"Yes"===O[null===o||void 0===o?void 0:o.form_common_key]?(0,E.jsx)(h.Z,{label:null===o||void 0===o?void 0:o.label,placeholder:null===o||void 0===o?void 0:o.placeholder,name:null===o||void 0===o?void 0:o.db_key,type:null===o||void 0===o?void 0:o.type,value:O[null===o||void 0===o?void 0:o.db_key]?{key:O[null===o||void 0===o?void 0:o.db_key]}:"",onChange:e=>Lo(e,null===o||void 0===o?void 0:o.db_key),errorShow:Q[null===o||void 0===o?void 0:o.db_key],customFormFileContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormFileLabel:{fontSize:"15px",fontWeight:"500"},customFormFile:{fontSize:"15px",fontWeight:"500"}}):null}):(0,E.jsx)(h.Z,{label:null===o||void 0===o?void 0:o.label,placeholder:null===o||void 0===o?void 0:o.placeholder,name:null===o||void 0===o?void 0:o.db_key,type:null===o||void 0===o?void 0:o.type,value:O[null===o||void 0===o?void 0:o.db_key]?{key:O[null===o||void 0===o?void 0:o.db_key]}:"",onChange:e=>Lo(e,null===o||void 0===o?void 0:o.db_key),errorShow:Q[null===o||void 0===o?void 0:o.db_key],customFormFileContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormFileLabel:{fontSize:"15px",fontWeight:"500"},customFormFile:{fontSize:"15px",fontWeight:"500"}})},"".concat(null===o||void 0===o?void 0:o.db_key).concat(e)):"CROPIMAGE"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(i.Fragment,{children:"studentProfilePhoto"===(null===o||void 0===o?void 0:o.form_checklist_key)?null:(0,E.jsx)(h.Z,{label:null===o||void 0===o?void 0:o.label,placeholder:null===o||void 0===o?void 0:o.placeholder,name:null===o||void 0===o?void 0:o.db_key,type:null===o||void 0===o?void 0:o.type,value:O[null===o||void 0===o?void 0:o.db_key]?{key:O[null===o||void 0===o?void 0:o.db_key]}:"",onChange:e=>Ao(e,null===o||void 0===o?void 0:o.db_key),errorShow:Q[null===o||void 0===o?void 0:o.db_key],customFormFileContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},customFormFileLabel:{fontSize:"15px",fontWeight:"500"},customFormFile:{fontSize:"15px",fontWeight:"500"}})},"".concat(null===o||void 0===o?void 0:o.db_key).concat(e)):"Same As"===(null===o||void 0===o?void 0:o.type)?(0,E.jsx)(p.Z,{options:["Same As Current Address"],defaultValue:ao.address,onChange:zo,customFormInputContainer:{width:null!==o&&void 0!==o&&o.width?"".concat(null===o||void 0===o?void 0:o.width):"49%"},isCheck:!0,customFormInputLabel:{fontSize:"15px",fontWeight:"500"},customFormInput:{fontSize:"15px",fontWeight:"500"}},"".concat(null===o||void 0===o?void 0:o.db_key).concat(e,"234")):null))}),(0,E.jsx)(s.Z,{})]},"".concat(null===o||void 0===o?void 0:o.section_name).concat(e))})),(0,E.jsx)(w.Z,{label:"preview",customStyle:{width:"100%"}})]}),io&&(0,E.jsx)(y.Z,{open:io,children:(0,E.jsx)(b.Z,{setOpenCrop:no,fileUrl:to,first:null!==(L=["studentProfilePhoto","studentIdProfilePhoto"])&&void 0!==L&&L.includes(uo)?1:16,second:null!==(z=["studentProfilePhoto","studentIdProfilePhoto"])&&void 0!==z&&z.includes(uo)?1:9,onCrop:(o,e)=>{no(!1),No(o)}})}),(0,E.jsx)(B.Ch,{run:go.run,setRun:()=>xo({run:!1,msg:""}),msg:go.msg,postiton:"bottom",type:"error"}),eo&&(0,E.jsx)(j.default,{})]})},$=o=>{let{args:e,argsLabel:l}=o;const i={};let n=null;for(let a of l)if("subject_criteria"===(null===a||void 0===a?void 0:a.section_key)){n=a;break}for(let a in e){let o=e[a];if(null!==o&&void 0!==o&&o.selected){var d;let l=null===(d=n)||void 0===d?void 0:d.nested_section[null===o||void 0===o?void 0:o.whichIndex],r=!1,_=!1;for(let o=0;o<(null===l||void 0===l||null===(t=l.nested_form_checklist)||void 0===t?void 0:t.length);o++){var t;let n=null===l||void 0===l?void 0:l.nested_form_checklist[o];if("SELECT"===(null===n||void 0===n?void 0:n.form_checklist_typo))if(e&&e[a]&&e[a][o]){let l=e[a][o],n=e[a][o].min,d=0,t=0;null!==l&&void 0!==l&&l.max_major_subject&&(i["".concat(a).concat(o)]="Please select DSE subject"),null!==l&&void 0!==l&&l.nested_select_min&&(i["".concat(a).concat(o)]="Please select nested subject");for(let e in l){var v;let n=l[e];if(null!==(v=["major_subject","max","min","max_major_subject","nested_select_min","nested_subject"])&&void 0!==v&&v.includes(e));else if((null===e||void 0===e?void 0:e.length)>=4&&null!==e&&void 0!==e&&e.includes("OR")){if(null!==n&&void 0!==n&&n.selected){++d;let n=!0;for(let o in l){var u;let i=l[o];if(null!==(u=["major_subject","max","min","max_major_subject","nested_select_min","nested_subject"])&&void 0!==u&&u.includes(o));else if((null===i||void 0===i?void 0:i.parentWholeKey)===e&&(n=!1,null!==i&&void 0!==i&&i.selected))break}n&&(i["".concat(a).concat(o).concat(e)]="Please select subject")}}else"YES"===(null===n||void 0===n?void 0:n.or_subject)||null!==n&&void 0!==n&&n.selected&&null!==n&&void 0!==n&&n.id&&d++;++t}n>d&&(i["".concat(a).concat(o)]="Please select subject")}else i["".concat(a).concat(o)]="Please select subject";else if("SELECT_GROUP"===(null===n||void 0===n?void 0:n.form_checklist_typo)&&e&&e[a]&&e[a][o]){let l=e[a][o],n=e[a][o].selected;"FIXED"===l.or_subject&&n&&(_=!0,null!==l&&void 0!==l&&l.max_major_subject&&(i["".concat(a).concat(o)]="Please select DSE subject"),null!==l&&void 0!==l&&l.nested_select_min&&(i["".concat(a).concat(o)]="Please select nested subject"))}}if(_)r=!1;else{var c;let e=null===(c=n)||void 0===c?void 0:c.nested_section[null===o||void 0===o?void 0:o.whichIndex],l=!1;for(let o=0;o<(null===e||void 0===e||null===(s=e.nested_form_checklist)||void 0===s?void 0:s.length);o++){var s;let i=null===e||void 0===e?void 0:e.nested_form_checklist[o];"SELECT_GROUP"===(null===i||void 0===i?void 0:i.form_checklist_typo)&&(l=!0)}l&&(r=!0)}r&&(i["".concat(a)]="Please select subject")}}return i};const J=function(o){var e,l,u,c,s,a;let{location:r}=o;const _=(0,v.s0)(),m=(0,v.UO)(),h=(0,t.v9)((o=>o.idChange)),{t:p}=(0,d.$G)(),[f,y]=(0,i.useState)(!1),[b,g]=(0,i.useState)(!1),[x,j]=(0,i.useState)(!1),[I,S]=(0,i.useState)(null),[w]=(0,z.SD)(),[C]=(0,k.x4)(),{existingAccountLogin:F}=(0,T.f)(),[N]=(0,k.mu)(),{data:W}=(0,M.Rg)(),[V]=(0,M.gt)(),[K]=(0,A.KB)(),[B]=(0,q.YY)(),{merchantId:G,merchantIdRefetch:$}=(0,U.Vc)({id:"INSTITUTE_SIDE"===(null===r||void 0===r?void 0:r.openAs)?null===h||void 0===h?void 0:h.id:"ADMISSION_ADMIN_SIDE"===(null===r||void 0===r?void 0:r.openAs)||"landing_page"===(null===r||void 0===r?void 0:r.openAs)||"landing_page_and_existing"===(null===r||void 0===r?void 0:r.openAs)?null===r||void 0===r?void 0:r.instituteId:null===(e=h.searchProfile)||void 0===e?void 0:e.id,skip:"INSTITUTE_SIDE"===(null===r||void 0===r?void 0:r.openAs)?!(null!==h&&void 0!==h&&h.id):"ADMISSION_ADMIN_SIDE"===(null===r||void 0===r?void 0:r.openAs)||"landing_page"===(null===r||void 0===r?void 0:r.openAs)||"landing_page_and_existing"===(null===r||void 0===r?void 0:r.openAs)?!(null!==r&&void 0!==r&&r.instituteId):!(null!==(l=h.searchProfile)&&void 0!==l&&l.id)}),{oneInstituteProfile:J,oneInstituteProfileRefetch:Q}=(0,O.p0)({data:{id:"INSTITUTE_SIDE"===(null===r||void 0===r?void 0:r.openAs)?null===h||void 0===h?void 0:h.id:"ADMISSION_ADMIN_SIDE"===(null===r||void 0===r?void 0:r.openAs)||"landing_page"===(null===r||void 0===r?void 0:r.openAs)||"landing_page_and_existing"===(null===r||void 0===r?void 0:r.openAs)?null===r||void 0===r?void 0:r.instituteId:null===(u=h.searchProfile)||void 0===u?void 0:u.id,type:"ID"},skip:"INSTITUTE_SIDE"===(null===r||void 0===r?void 0:r.openAs)?!(null!==h&&void 0!==h&&h.id):"ADMISSION_ADMIN_SIDE"===(null===r||void 0===r?void 0:r.openAs)||"landing_page"===(null===r||void 0===r?void 0:r.openAs)||"landing_page_and_existing"===(null===r||void 0===r?void 0:r.openAs)?!(null!==r&&void 0!==r&&r.instituteId):!(null!==(c=h.searchProfile)&&void 0!==c&&c.id)});(0,i.useEffect)((()=>{var o;null===(o=document.getElementById("scrollView"))||void 0===o||o.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),[f]),(0,i.useEffect)((()=>{var o;(null!==(o=h.searchProfile)&&void 0!==o&&o.id||null!==h&&void 0!==h&&h.id||null!==r&&void 0!==r&&r.instituteId)&&Q()}),[null===(s=h.searchProfile)||void 0===s?void 0:s.id,null===h||void 0===h?void 0:h.id,null===r||void 0===r?void 0:r.instituteId,Q]),(0,i.useEffect)((()=>{var o;(null!==(o=h.searchProfile)&&void 0!==o&&o.id||null!==h&&void 0!==h&&h.id||null!==r&&void 0!==r&&r.instituteId)&&$()}),[null===(a=h.searchProfile)||void 0===a?void 0:a.id,null===h||void 0===h?void 0:h.id,null===r||void 0===r?void 0:r.instituteId,$]);const oo=o=>{var e,l,i;g((o=>!o));const n={studentCode:null===r||void 0===r?void 0:r.joinCode,fileArray:[],optionalSubject:[],student_dynamic_field:[],...null===o||void 0===o?void 0:o.state,student_optional_subject:(null===o||void 0===o||null===(e=o.choosenSubject)||void 0===e?void 0:e.length)>0?null===o||void 0===o?void 0:o.choosenSubject:[],major_subject:(null===o||void 0===o||null===(l=o.major_subject)||void 0===l?void 0:l.length)>0?null===o||void 0===o?void 0:o.major_subject:[],nested_subject:(null===o||void 0===o||null===(i=o.nested_subject)||void 0===i?void 0:i.length)>0?null===o||void 0===o?void 0:o.nested_subject:[]};for(let a in null===o||void 0===o?void 0:o.dynamicState)n.student_dynamic_field.push({key:a,value:null===o||void 0===o?void 0:o.state[a]});for(let a in null===o||void 0===o?void 0:o.optinalSubject)null!==o&&void 0!==o&&o.optinalSubject[a]&&n.optionalSubject.push(null===o||void 0===o?void 0:o.optinalSubject[a]);if("DIRECT"===(null===r||void 0===r?void 0:r.openAs)&&null!==r&&void 0!==r&&r.verifyNumber)C({phoneNumber:null===r||void 0===r?void 0:r.verifyNumber,direct_student:n}).then((async o=>{var e,l,i,n;F({token:null===o||void 0===o||null===(e=o.data)||void 0===e?void 0:e.token,_id:null===o||void 0===o||null===(l=o.data)||void 0===l||null===(i=l.user)||void 0===i?void 0:i._id,username:null===o||void 0===o||null===(n=o.data)||void 0===n?void 0:n.student})})).catch({});else if("landing_page"===(null===r||void 0===r?void 0:r.openAs)&&null!==r&&void 0!==r&&r.verifyNumber)N({phoneNumber:null===r||void 0===r?void 0:r.verifyNumber,aid:r.appId,direct_student:n}).then((async o=>{var e,l,i,n,d;F({token:null===o||void 0===o||null===(e=o.data)||void 0===e?void 0:e.token,_id:null===o||void 0===o||null===(l=o.data)||void 0===l||null===(i=l.user)||void 0===i?void 0:i._id,username:null===o||void 0===o||null===(n=o.data)||void 0===n||null===(d=n.user)||void 0===d?void 0:d.username})})).catch({});else if("landing_page_and_existing"===(null===r||void 0===r?void 0:r.openAs)&&null!==r&&void 0!==r&&r.userId)B({uid:null===r||void 0===r?void 0:r.userId,aid:null===r||void 0===r?void 0:r.appId,apply_data:n}).then((async o=>{o.data.status&&(g((o=>!o)),_("/q/".concat(null===r||void 0===r?void 0:r.username,"/feed")))})).catch({});else if("INSTITUTE_SIDE"===(null===r||void 0===r?void 0:r.openAs)&&null!==r&&void 0!==r&&r.classId){var d,t,v;w({phoneNumber:null===o||void 0===o||null===(d=o.otherState)||void 0===d?void 0:d.alreadyPhone,uid:null!==(t=null===o||void 0===o||null===(v=o.otherState)||void 0===v?void 0:v.selectedUser)&&void 0!==t?t:"",cid:null===r||void 0===r?void 0:r.classId,addStudent:n}).then((async o=>{_(-1)})).catch({})}else if("ADMISSION_APPLY"===(null===r||void 0===r?void 0:r.openAs)&&null!==h&&void 0!==h&&h.id&&null!==r&&void 0!==r&&r.appId)B({uid:null===h||void 0===h?void 0:h.id,aid:null===r||void 0===r?void 0:r.appId,apply_data:n}).then((async o=>{o.data.status&&(g((o=>!o)),_("/q/".concat(null===r||void 0===r?void 0:r.urlUsername,"/member/your/admission")))})).catch({});else if("ADMISSION_DIRECT_APPLY"===(null===r||void 0===r?void 0:r.openAs)&&null!==h&&void 0!==h&&h.id&&null!==r&&void 0!==r&&r.appId)x||(j(!0),S(n),g((o=>!o)));else if("ADMISSION_ADMIN_SIDE"===(null===r||void 0===r?void 0:r.openAs)&&null!==r&&void 0!==r&&r.appId){var u,c,s;K({phoneNumber:null===o||void 0===o||null===(u=o.otherState)||void 0===u?void 0:u.alreadyPhone,uid:null!==(c=null===o||void 0===o||null===(s=o.otherState)||void 0===s?void 0:s.selectedUser)&&void 0!==c?c:"",aid:null===r||void 0===r?void 0:r.appId,addStudent:n}).then((async o=>{_(-1)})).catch({})}else g((o=>!o))};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("div",{className:n.Z.goback_container,id:"scrollView",children:(0,E.jsxs)("div",{className:n.Z.goback_container_text,onClick:()=>{f?y((o=>!o)):_(-1)},children:[(0,E.jsx)("img",{src:"/images/arr-left-white.svg",alt:"go back icon"}),(0,E.jsx)("h6",{className:n.Z.goback_container_text_go,children:p("go_back")})]})}),(0,E.jsxs)("div",{className:n.Z.student_from_container,children:[(0,E.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,E.jsx)("h6",{className:n.Z.student_from_fill,children:p("form_fill_student")}),f&&(0,E.jsx)("h6",{className:n.Z.student_from_fill_edit,onClick:()=>y((o=>!o)),children:p("edit_")})]}),(0,E.jsx)(L.Z,{customStyle:{width:"100%"}}),"DEPARTMENT"===(null===r||void 0===r?void 0:r.whichFormShow)?(0,E.jsx)(E.Fragment,{children:"ADMISSION_ADMIN_SIDE"===(null===r||void 0===r?void 0:r.openAs)?(0,E.jsx)(H,{preview:f,setPreview:y,location:r,onApplyForm:oo}):(0,E.jsx)(X,{preview:f,setPreview:y,location:r,onApplyForm:oo})}):(0,E.jsx)(Z,{preview:f,setPreview:y,location:r,onApplyForm:oo})]}),x&&(0,E.jsx)(R.Z,{onClose:()=>j(!1),allContent:{type:"ADMISSION_DIRECT_APPLY",amount:null===r||void 0===r?void 0:r.first_install},checkoutAdmissionDirectHandler:function(o){let e=2.1*+(null===r||void 0===r?void 0:r.first_install)/100,l=+e+18*+e/100;const i=parseInt(null===r||void 0===r?void 0:r.first_install);var n,d={amount:Math.ceil(i+ +l.toFixed(2))};"PAYTM"===o?(0,Y.Ex)({amount:+(null===r||void 0===r?void 0:r.first_install),amount_nocharges:+d.amount,type:"Direct_Admission",paidBy:"".concat(null===h||void 0===h?void 0:h.id),paidTo:"".concat(null===(n=h.searchProfile)||void 0===n?void 0:n.id),moduleId:"".concat(null===r||void 0===r?void 0:r.appId),ad_status_id:null,payment_installment:null,ad_install:null,month:null,payment_remain_1:null,payment_card_type:null,payment_book_id:null,name:m.username,isApk:"web",payment_card_id:null,student_data:I}).then((o=>{var e,l;window.onScriptLoad(null===o||void 0===o||null===(e=o.response)||void 0===e||null===(l=e.body)||void 0===l?void 0:l.txnToken,null===o||void 0===o?void 0:o.order,null===o||void 0===o?void 0:o.amount)})).catch((o=>{console.info(o)})):null!==W&&void 0!==W&&W.Key&&null!==d&&void 0!==d&&d.amount&&V({amount:null===d||void 0===d?void 0:d.amount}).then((o=>{var e,l,i,n;null!==(e=o.data)&&void 0!==e&&e.success?(0,P.r)({key:null===W||void 0===W?void 0:W.Key,oid:null===(l=o.data)||void 0===l?void 0:l.order.id,amount_nocharge:100*(null===r||void 0===r?void 0:r.first_install),amount:null===(i=o.data)||void 0===i?void 0:i.order.amount,type:"Direct_Admission",pay_by:"".concat(null===h||void 0===h?void 0:h.id),pay_to:"".concat(null===(n=h.searchProfile)||void 0===n?void 0:n.id),mid:"".concat(null===r||void 0===r?void 0:r.appId),razor_key:null===G||void 0===G?void 0:G.key,razor_author:null===G||void 0===G?void 0:G.bool,status:null,installment_type:null,is_install:null,h_month:null,student_data:I}):console.log("data error")})).catch((o=>{console.log(o)}))}}),b&&(0,E.jsx)(D.Z,{})]})}}}]);
//# sourceMappingURL=36481.e1cbe7ca.chunk.js.map