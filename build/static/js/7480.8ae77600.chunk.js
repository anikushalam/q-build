"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[7480],{73093:function(e,o,n){n.r(o),n.d(o,{default:function(){return E}});var t=n(74165),i=n(15861),l=n(29439),r=n(72791),d=n(38733),a=n(39230),u=n(95048),s=n(16871),_=n(93433),c=n(4942),v=n(1413),m=n(16256),f=n(42108),p=n(5574),h=n(97655),g=n(81693),y=n(72952),Z=n(77121),x=(n(60332),n(98094)),b=n(83669),j=n(51561),F=n(96146),S=n(23509),w=n(84959),k=n(98734),C=n(59965),J=n(12953),I=n(87338),N=n(80184),D=function(e){var o,n,t,i,s,D,A,P,L,T,R,O,q,H,M,V,E,K,U,B,Q,G=e.preview,z=e.setPreview,W=e.onApplyForm,Y=e.hostelId,X=(0,a.$G)().t,$=((0,u.v9)((function(e){return e.idChange})),(0,r.useState)("")),ee=(0,l.Z)($,2),oe=ee[0],ne=ee[1],te=(0,r.useState)({}),ie=(0,l.Z)(te,2),le=ie[0],re=ie[1],de=(0,r.useState)(""),ae=(0,l.Z)(de,2),ue=(ae[0],ae[1],(0,r.useState)([])),se=(0,l.Z)(ue,2),_e=se[0],ce=se[1],ve=(0,r.useState)({studentFirstName:"",studentMiddleName:"",studentLastName:"",studentDOB:"",studentGender:"",studentMotherName:""}),me=(0,l.Z)(ve,2),fe=me[0],pe=me[1],he=(0,r.useState)([]),ge=(0,l.Z)(he,2),ye=ge[0],Ze=ge[1],xe=(0,r.useState)({}),be=(0,l.Z)(xe,2),je=be[0],Fe=be[1],Se=(0,r.useState)(!1),we=(0,l.Z)(Se,2),ke=we[0],Ce=we[1],Je=(0,r.useState)(""),Ie=(0,l.Z)(Je,2),Ne=Ie[0],De=Ie[1],Ae=(0,r.useState)(!1),Pe=(0,l.Z)(Ae,2),Le=Pe[0],Te=Pe[1],Re=(0,r.useState)(""),Oe=(0,l.Z)(Re,2),qe=(Oe[0],Oe[1]),He=(0,r.useState)(""),Me=(0,l.Z)(He,2),Ve=Me[0],Ee=Me[1],Ke=(0,r.useState)({msg:"",run:!1}),Ue=(0,l.Z)(Ke,2),Be=Ue[0],Qe=Ue[1],Ge=(0,r.useState)({}),ze=(0,l.Z)(Ge,2),We=ze[0],Ye=ze[1],Xe=(0,r.useState)(""),$e=(0,l.Z)(Xe,2),eo=$e[0],oo=$e[1],no=(0,w.FL)(),to=(0,l.Z)(no,1)[0],io=(0,r.useState)({student_prn_enroll_number:"",student_hostel_cpi:""}),lo=(0,l.Z)(io,2),ro=lo[0],ao=lo[1],uo=(0,I.GC)({hid:Y,skip:!Y}),so=uo.getHostelForm,_o=uo.getHostelFormRefetch;(0,r.useEffect)((function(){Y&&_o()}),[_o,Y]),(0,r.useEffect)((function(){var e;if(null!==so&&void 0!==so&&null!==(e=so.one_hostel)&&void 0!==e&&e.student_form_query){var o=[];for(var n in null===so||void 0===so||null===(t=so.one_hostel)||void 0===t?void 0:t.student_form_query){var t,i;if("previousSchoolAndDocument"===n){var l,r,d=null===so||void 0===so||null===(l=so.one_hostel)||void 0===l||null===(r=l.student_form_query)||void 0===r?void 0:r.previousSchoolAndDocument,a=[],u=function(e){d[e]&&("aadharCard"===e?(Fe((function(e){return(0,v.Z)((0,v.Z)({},e),{},{addharFrontCard:"",addharBackCard:""})})),a.push("addharFrontCard","addharBackCard")):"previousSchoolDocument"===e?(Fe((function(e){return(0,v.Z)((0,v.Z)({},e),{},{studentPreviousSchool:"",previousSchoolDocument:""})})),a.push("previousSchoolDocument","studentPreviousSchool")):(Fe((function(o){return(0,v.Z)((0,v.Z)({},o),{},(0,c.Z)({},e,""))})),a.push(e)))};for(var s in d)u(s);Ze([].concat(a))}else null!==so&&void 0!==so&&null!==(i=so.one_hostel)&&void 0!==i&&i.student_form_query[n]&&("otherPersonalInfo"===n?(re((function(e){return(0,v.Z)((0,v.Z)({},e),null===m.Qc||void 0===m.Qc?void 0:m.Qc.withValue)})),o.push.apply(o,(0,_.Z)(null===m.Qc||void 0===m.Qc?void 0:m.Qc.keys))):"identityDetails"===n?(re((function(e){return(0,v.Z)((0,v.Z)({},e),null===m.Jg||void 0===m.Jg?void 0:m.Jg.withValue)})),o.push.apply(o,(0,_.Z)(null===m.Jg||void 0===m.Jg?void 0:m.Jg.keys))):"addressInfo"===n?(re((function(e){return(0,v.Z)((0,v.Z)({},e),null===m.f_||void 0===m.f_?void 0:m.f_.withValue)})),o.push.apply(o,(0,_.Z)(null===m.f_||void 0===m.f_?void 0:m.f_.keys))):"parentsInfo"===n?(re((function(e){return(0,v.Z)((0,v.Z)({},e),null===m.DS||void 0===m.DS?void 0:m.DS.withValue)})),o.push.apply(o,(0,_.Z)(null===m.DS||void 0===m.DS?void 0:m.DS.keys))):"bankDetails"===n?(re((function(e){return(0,v.Z)((0,v.Z)({},e),null===m.E1||void 0===m.E1?void 0:m.E1.withValue)})),o.push.apply(o,(0,_.Z)(null===m.E1||void 0===m.E1?void 0:m.E1.keys))):"cpi"===n&&(re((function(e){return(0,v.Z)((0,v.Z)({},e),null===m.RF||void 0===m.RF?void 0:m.RF.withValue)})),o.push.apply(o,(0,_.Z)(null===m.RF||void 0===m.RF?void 0:m.RF.keys))))}ce([].concat(o))}}),[null===so||void 0===so||null===(o=so.one_hostel)||void 0===o?void 0:o.student_form_query]),(0,r.useEffect)((function(){if(oe){var e=oe.split(" ");e.length>=3?pe((function(o){return(0,v.Z)((0,v.Z)({},o),{},{studentFirstName:e[0],studentMiddleName:e[1],studentLastName:e.slice(2).toString().replaceAll(","," ")})})):pe((function(o){return(0,v.Z)((0,v.Z)({},o),{},{studentFirstName:e[0],studentMiddleName:"",studentLastName:void 0===e[1]?"":e[1]})}))}}),[oe]);(0,r.useEffect)((function(){ke&&po({target:{name:"file",files:[Ne]}})}),[ke,Ne]);var co=function(e){pe((function(o){return(0,v.Z)((0,v.Z)({},o),{},(0,c.Z)({},e.target.name,e.target.value))}))},vo=function(e){re((function(o){return(0,v.Z)((0,v.Z)({},o),{},(0,c.Z)({},e.target.name,e.target.value))}))},mo=function(e){"previousSchoolDocument"===e.target.name||"studentPreviousSchool"===e.target.name?Fe((function(o){return(0,v.Z)((0,v.Z)({},o),{},(0,c.Z)({},e.target.name,e.target.value))})):Fe((function(o){return(0,v.Z)((0,v.Z)({},o),{},(0,c.Z)({},e.target.name,e.target.files[0]))}))},fo=function(e){e.target.checked?re((function(o){return(0,v.Z)((0,v.Z)({},o),{},{asSameAddress:e.target.checked,studentAddress:o.studentCurrentAddress,studentPincode:o.studentCurrentPincode})})):re((function(o){return(0,v.Z)((0,v.Z)({},o),{},{asSameAddress:e.target.checked,studentAddress:"",studentPincode:""})}))},po=function(e){oo((function(e){return!e}));var o=new FormData;o.append("file",e.target.files[0]),to({fileUpload:o}).then((function(o){var n,t;"file"===e.target.name?(Ce(!1),De({name:e.target.name,key:null===(n=o.data)||void 0===n?void 0:n.imageKey,type:null===(t=e.target.files[0])||void 0===t?void 0:t.type})):"bankPassbook"===e.target.name?re((function(n){var t,i,l;return(0,v.Z)((0,v.Z)({},n),{},(0,c.Z)({},e.target.name,{originalName:null===(t=e.target.files[0])||void 0===t?void 0:t.name,name:e.target.name,key:null===(i=o.data)||void 0===i?void 0:i.imageKey,type:null===(l=e.target.files[0])||void 0===l?void 0:l.type}))})):Fe((function(n){var t,i,l;return(0,v.Z)((0,v.Z)({},n),{},(0,c.Z)({},e.target.name,{originalName:null===(t=e.target.files[0])||void 0===t?void 0:t.name,name:e.target.name,key:null===(i=o.data)||void 0===i?void 0:i.imageKey,type:null===(l=e.target.files[0])||void 0===l?void 0:l.type}))}));oo((function(e){return!e}))})).catch({})},ho=function(e){var o=null===e||void 0===e?void 0:e.split("/"),n="".concat(o[2]);re((function(e){return(0,v.Z)((0,v.Z)({},e),{},{student_year:n})}))};return(0,N.jsxs)(N.Fragment,{children:[G?(0,N.jsx)(S.Z,{studentForm:le,dynamicForm:_e,formData:fe,dynamicFormDocument:ye,dynamicDocument:je,fileUrl:Ve,formSetting:null===so||void 0===so||null===(Q=so.one_hostel)||void 0===Q?void 0:Q.student_form_query,onApplyStudentForm:function(){var e,o;W({file:Ne,formData:fe,studentForm:le,dynamicDocument:je,studentNewField:ro,pdfUndertaking:null!==so&&void 0!==so&&null!==(e=so.one_hostel)&&void 0!==e&&e.pg_undertakings_hostel_admission?"PG":null!==so&&void 0!==so&&null!==(o=so.one_hostel)&&void 0!==o&&o.ug_undertakings_hostel_admission?"UG":"OFF"})},studentNewField:ro}):(0,N.jsxs)("form",{onSubmit:function(e){e.preventDefault();var o=function(e,o,n){var t,i,l={};for(var r in Ne||(Qe({msg:X("form_select_image_label"),run:!0}),l.file="profile image is required!"),o.studentBankAccount&&o.studentBankAccount!==o.studentBankReAccount&&(l.studentBankReAccount="".concat(X("form_account_dose_not_match_label"))),e)"studentMiddleName"===r||e[r]||(l[r]="".concat(r," is required!"));for(var d in o)"studentPhoneNumber"===d||"studentEmail"===d||"studentFatherRationCardColor"===d||o[d]||(l[d]="".concat(d," is required!"));for(var a in n)"previousSchoolDocument"===a||("studentPreviousSchool"===a?n.previousSchoolDocument||n[a]||(l[a]="".concat(a," is required!")):n[a]||(l[a]="".concat(a," is required!")));return null!==so&&void 0!==so&&null!==(t=so.one_hostel)&&void 0!==t&&null!==(i=t.student_form_query)&&void 0!==i&&i.enrollmentPrn&&(ro.student_prn_enroll_number||(l.student_prn_enroll_number="student_prn_enroll_number is required!")),l}(fe,le,je),n=!1;for(var t in o){n=!0;break}n?Ye(o):z((function(e){return!e}))},children:[(0,N.jsxs)("div",{className:d.Z.form_container,children:[(0,N.jsxs)("h4",{children:[X("form_personal_info_label"),":"]}),(0,N.jsxs)("div",{className:d.Z.form_container_profile,children:[(0,N.jsx)(h.Z,{labelText:X("form_name_label"),placeholder:X("form_name_placeholder"),name:"fullname",value:oe,type:"text",onChange:function(e){return ne(e.target.value)},customStyleContainer:null!==so&&void 0!==so&&null!==(n=so.one_hostel)&&void 0!==n&&null!==(t=n.student_form_query)&&void 0!==t&&t.enrollmentPrn?{width:"56%"}:{width:"86%"},errorShow:We.studentFirstName||We.studentLastName}),(null===so||void 0===so||null===(i=so.one_hostel)||void 0===i||null===(s=i.student_form_query)||void 0===s?void 0:s.enrollmentPrn)&&(0,N.jsx)(h.Z,{labelText:X("form_prn_enr_label"),placeholder:X("form_prn_enr_placeholder"),name:"prn",value:ro.student_prn_enroll_number,type:"text",onChange:function(e){return ao((function(o){return(0,v.Z)((0,v.Z)({},o),{},{student_prn_enroll_number:e.target.value})}))},customStyleContainer:{width:"30%"},errorShow:We.student_prn_enroll_number}),(0,N.jsxs)("div",{className:d.Z.form_container_profile_image,children:[(0,N.jsxs)("label",{htmlFor:"profile",className:d.Z.form_container_profile_image_label,children:[(0,N.jsx)("img",{className:d.Z.form_container_profile_photo,src:Ve||"/images/ins_default_profile.svg",alt:"student avatar"}),(0,N.jsx)("img",{src:"/images/user-pencil-edit-transparent.svg",alt:"edit icon",className:d.Z.form_edit_icon})]}),(0,N.jsx)("input",{type:"file",id:"profile",onChange:function(e){var o=URL.createObjectURL(e.target.files[0]);De(e.target.files[0]),qe(o),Ee(o),Te(!0)},style:{display:"none"}})]})]}),(0,N.jsxs)("div",{className:d.Z.form_profile_info,children:[(0,N.jsx)(g.Z,{selectLabel:X("form_gender_label"),selectedValue:X("form_gender_placeholder"),value:fe.studentGender,name:"studentGender",onChange:co,options:m.ce,optionsValue:m.Dj,errorShow:We.studentGender}),(0,N.jsx)(C.Z,{labelText:X("form_date_of_birth_label"),placeholder:X("form_date_of_birth_placeholder"),name:"studentDOB",value:fe.studentDOB,onDateFunction:function(e){if((0,J.A)(e)){var o=null===e||void 0===e?void 0:e.split("/"),n="".concat(o[2],"-").concat(o[1],"-").concat(o[0]);pe((function(e){return(0,v.Z)((0,v.Z)({},e),{},{studentDOB:n})}))}else Qe({msg:"You cannot select upcoming date ".concat(e),run:!0})},errorShow:We.studentDOB,customStyleContainer:{position:"relative"}}),(0,N.jsx)(h.Z,{labelText:X("form_mother_name_label"),placeholder:X("form_mother_name_placeholder"),name:"studentMotherName",value:fe.studentMotherName,type:"text",onChange:co,errorShow:We.studentMotherName})]}),(0,N.jsx)(x.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}}),(null===so||void 0===so||null===(D=so.one_hostel)||void 0===D||null===(A=D.student_form_query)||void 0===A?void 0:A.otherPersonalInfo)&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("h4",{children:[X("form_other_personal_info_label"),":"]}),(0,N.jsx)("div",{className:d.Z.form_other_field,children:null===_e||void 0===_e?void 0:_e.map((function(e){return m.zA.map((function(o){var n;return(null===o||void 0===o||null===(n=o.lists)||void 0===n?void 0:n.includes(e))&&(null!==o&&void 0!==o&&o.type?(0,N.jsx)(g.Z,{selectLabel:X(null===o||void 0===o?void 0:o.label),selectedValue:X(null===o||void 0===o?void 0:o.placeHolder),value:le[e],name:e,onChange:vo,options:null===o||void 0===o?void 0:o.chooseOptions,optionsValue:null===o||void 0===o?void 0:o.chooseOptionsValue,customStyleContainer:{width:"49.5%"},errorShow:We[e]},null===o||void 0===o?void 0:o.id):(0,N.jsx)(h.Z,{labelText:X(null===o||void 0===o?void 0:o.label),placeholder:X(null===o||void 0===o?void 0:o.placeHolder),name:e,value:le[e],type:["studentPhoneNumber","studentAadharNumber"].includes(e)?"tel":"text",inputLength:"studentPhoneNumber"===e?10:12,onChange:vo,customStyleContainer:{width:"49.5%"},errorShow:We[e]},null===o||void 0===o?void 0:o.id))}))}))}),(0,N.jsx)(x.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===so||void 0===so||null===(P=so.one_hostel)||void 0===P||null===(L=P.student_form_query)||void 0===L?void 0:L.identityDetails)&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("h4",{children:[X("form_identity_details_label"),":"]}),(0,N.jsx)("div",{className:d.Z.form_other_field,children:null===_e||void 0===_e?void 0:_e.map((function(e){return m.vf.map((function(o){var n;return(null===o||void 0===o||null===(n=o.lists)||void 0===n?void 0:n.includes(e))&&(null!==o&&void 0!==o&&o.type?(0,N.jsx)(g.Z,{selectLabel:X(null===o||void 0===o?void 0:o.label),selectedValue:X(null===o||void 0===o?void 0:o.placeHolder),value:le[e],onChange:vo,options:null===o||void 0===o?void 0:o.chooseOptions,optionsValue:null===o||void 0===o?void 0:o.chooseOptionsValue,name:e,customStyleContainer:{width:"49.5%"},errorShow:We[e]},null===o||void 0===o?void 0:o.id):(0,N.jsx)(h.Z,{labelText:X(null===o||void 0===o?void 0:o.label),placeholder:X(null===o||void 0===o?void 0:o.placeHolder),name:e,value:le[e],type:"text",onChange:vo,customStyleContainer:{width:"49.5%"},errorShow:We[e]},null===o||void 0===o?void 0:o.id))}))}))}),(0,N.jsx)(x.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===so||void 0===so||null===(T=so.one_hostel)||void 0===T||null===(R=T.student_form_query)||void 0===R?void 0:R.addressInfo)&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("h4",{children:[X("form_address_info_label"),":"]}),(0,N.jsx)("div",{className:d.Z.form_other_field,children:null===_e||void 0===_e?void 0:_e.map((function(e){return m.MI.map((function(o){var n;return(null===o||void 0===o||null===(n=o.lists)||void 0===n?void 0:n.includes(e))&&(null!==o&&void 0!==o&&o.type?(0,N.jsx)(y.Z,{labelText:X(null===o||void 0===o?void 0:o.label),placeholder:X(null===o||void 0===o?void 0:o.placeHolder),name:e,value:le[e],type:"text",onChange:vo,customStyleContainer:{width:"49.5%"},errorShow:We[e]},null===o||void 0===o?void 0:o.id):null!==o&&void 0!==o&&o.checkbox?(0,N.jsx)(F.Z,{checkLabel:X(null===o||void 0===o?void 0:o.label),checkedValue:le.asSameAddress,onCheckboxAction:fo,customStyle:{display:"block",width:"100%",marginLeft:"0"}},null===o||void 0===o?void 0:o.id):(0,N.jsx)(h.Z,{labelText:X(null===o||void 0===o?void 0:o.label),placeholder:X(null===o||void 0===o?void 0:o.placeHolder),name:e,value:le[e],type:["studentCurrentPincode","studentPincode"].includes(e)?"tel":"text",inputLength:6,onChange:vo,customStyleContainer:{width:"49.5%"},errorShow:We[e]},null===o||void 0===o?void 0:o.id))}))}))}),(0,N.jsx)(x.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===so||void 0===so||null===(O=so.one_hostel)||void 0===O||null===(q=O.student_form_query)||void 0===q?void 0:q.parentsInfo)&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("h4",{children:[X("form_parent_guardian_info_label"),":"]}),(0,N.jsx)("div",{className:d.Z.form_other_field,children:null===_e||void 0===_e?void 0:_e.map((function(e){return m.Xu.map((function(o){var n;return(null===o||void 0===o||null===(n=o.lists)||void 0===n?void 0:n.includes(e))&&(null!==o&&void 0!==o&&o.type?(0,N.jsx)(g.Z,{selectLabel:X(null===o||void 0===o?void 0:o.label),selectedValue:X(null===o||void 0===o?void 0:o.placeHolder),value:le[e],onChange:vo,options:null===o||void 0===o?void 0:o.chooseOptions,optionsValue:null===o||void 0===o?void 0:o.chooseOptionsValue,name:e,customStyleContainer:{width:"49.5%"},errorShow:We[e]},null===o||void 0===o?void 0:o.id):(0,N.jsx)(h.Z,{labelText:X(null===o||void 0===o?void 0:o.label),placeholder:X(null===o||void 0===o?void 0:o.placeHolder),name:e,value:le[e],type:["studentParentsPhoneNumber"].includes(e)?"tel":"text",inputLength:"studentParentsPhoneNumber"===e?10:30,onChange:vo,customStyleContainer:{width:"49.5%"},errorShow:We[e]},null===o||void 0===o?void 0:o.id))}))}))}),(0,N.jsx)(x.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===so||void 0===so||null===(H=so.one_hostel)||void 0===H||null===(M=H.student_form_query)||void 0===M||null===(V=M.previousSchoolAndDocument)||void 0===V?void 0:V.previousSchoolDocument)&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("h4",{children:[X("form_previous_school_document_label"),":"]}),(0,N.jsx)("div",{className:d.Z.form_other_field,children:null===ye||void 0===ye?void 0:ye.map((function(e){return m.Bq.map((function(o){var n;return(null===o||void 0===o||null===(n=o.lists)||void 0===n?void 0:n.includes(e))&&(null!==o&&void 0!==o&&o.fileType?(0,N.jsx)(Z.Z,{labelText:X(null===o||void 0===o?void 0:o.label),name:e,value:je[e],onChange:po,customStyleContainer:{width:"49.5%"},errorShow:We[e]},null===o||void 0===o?void 0:o.id):null!==o&&void 0!==o&&o.checkbox?"":!(null!==je&&void 0!==je&&je.previousSchoolDocument)&&(0,N.jsx)(h.Z,{labelText:X(null===o||void 0===o?void 0:o.label),placeholder:X(null===o||void 0===o?void 0:o.placeHolder),name:e,value:je[e],type:"text",onChange:mo,customStyleContainer:{width:"100%"},errorShow:We[e]},null===o||void 0===o?void 0:o.id))}))}))}),(0,N.jsx)(x.Z,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(null===so||void 0===so||null===(E=so.one_hostel)||void 0===E||null===(K=E.student_form_query)||void 0===K?void 0:K.bankDetails)&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("h4",{children:[X("form_student_bank_details_label"),":"]}),(0,N.jsx)("div",{className:d.Z.form_other_field,children:null===_e||void 0===_e?void 0:_e.map((function(e){return m.Mi.map((function(o){var n;return(null===o||void 0===o||null===(n=o.lists)||void 0===n?void 0:n.includes(e))&&(null!==o&&void 0!==o&&o.fileType?(0,N.jsx)(Z.Z,{labelText:X(null===o||void 0===o?void 0:o.label),name:e,value:le[e],onChange:po,customStyleContainer:{width:"49.5%"},errorShow:We[e]},null===o||void 0===o?void 0:o.id):(0,N.jsx)(h.Z,{labelText:X(null===o||void 0===o?void 0:o.label),placeholder:X(null===o||void 0===o?void 0:o.placeHolder),name:e,value:le[e],type:["studentBankAccount","studentBankReAccount"].includes(e)?"tel":"text",reAccount:"studentBankReAccount"===e?We[e]:"",inputLength:50,onChange:vo,customStyleContainer:{width:"49.5%"},errorShow:We[e]},null===o||void 0===o?void 0:o.id))}))}))})]}),(null===so||void 0===so||null===(U=so.one_hostel)||void 0===U||null===(B=U.student_form_query)||void 0===B?void 0:B.cpi)&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("h4",{children:[X("form_student_hostel_cpi"),":"]}),(0,N.jsx)("div",{className:d.Z.form_other_field,children:null===_e||void 0===_e?void 0:_e.map((function(e){return m.HK.map((function(o){var n;return(null===o||void 0===o||null===(n=o.lists)||void 0===n?void 0:n.includes(e))&&(null!==o&&void 0!==o&&o.isCalender?(0,N.jsx)(C.Z,{labelText:X(null===o||void 0===o?void 0:o.label),placeholder:X(null===o||void 0===o?void 0:o.placeHolder),name:e,value:le[e],onDateFunction:ho,errorShow:We[e],customStyleContainer:{position:"relative",width:"49.5%"}},null===o||void 0===o?void 0:o.id):null!==o&&void 0!==o&&o.type?(0,N.jsx)(g.Z,{selectLabel:X(null===o||void 0===o?void 0:o.label),selectedValue:X(null===o||void 0===o?void 0:o.placeHolder),value:le[e],name:e,onChange:vo,options:null===o||void 0===o?void 0:o.chooseOptions,optionsValue:null===o||void 0===o?void 0:o.chooseOptionsValue,customStyleContainer:{width:"49.5%"},errorShow:We[e]},null===o||void 0===o?void 0:o.id):(0,N.jsx)(h.Z,{labelText:X(null===o||void 0===o?void 0:o.label),placeholder:X(null===o||void 0===o?void 0:o.placeHolder),name:e,value:le[e],type:"text",onChange:vo,customStyleContainer:{width:"49.5%"},errorShow:We[e]},null===o||void 0===o?void 0:o.id))}))}))})]}),(0,N.jsx)(b.Z,{type:"submit",buttonText:X("form_preview"),customStyleButton:{marginTop:"1.5vw"}})]}),Le&&(0,N.jsx)(p.Z,{open:Le,children:(0,N.jsx)(f.Z,{setPhotoURL:Ee,photoURL:Ve,setFile:De,setOpenCrop:Te,setProfilePhoto:qe,first:1,second:1,setUpload:Ce})}),(0,N.jsx)(j.Ch,{msg:Be.msg,run:Be.run,setRun:function(){return Qe({msg:"",run:!1})},postiton:"bottom",type:"error"})]}),eo&&(0,N.jsx)(k.Z,{})]})},A=n(91007),P=n(79872),L=n(28497),T=n(64499),R=n(80214),O=n(87932),q=n(71439),H=n(71287),M=n(39480),V=n(37782);var E=function(){var e,o,_,c,v,m,f,p,h,g,y,Z,b,j,F,S,C,J,E,K,U,B,Q,G,z,W,Y,X,$,ee,oe,ne,te=(0,s.s0)(),ie=(0,s.TH)(),le=(0,s.UO)(),re=(0,u.v9)((function(e){return e.idChange})),de=(0,a.$G)().t,ae=(0,r.useState)(!1),ue=(0,l.Z)(ae,2),se=ue[0],_e=ue[1],ce=(0,r.useState)(!1),ve=(0,l.Z)(ce,2),me=ve[0],fe=ve[1],pe=(0,r.useState)(!1),he=(0,l.Z)(pe,2),ge=he[0],ye=he[1],Ze=(0,r.useState)(null),xe=(0,l.Z)(Ze,2),be=xe[0],je=xe[1],Fe=(0,I.LQ)(),Se=(0,l.Z)(Fe,1)[0],we=(0,w.d)(),ke=(0,l.Z)(we,1)[0],Ce=(0,H.f)().existingAccountLogin,Je=(0,w.ZR)(),Ie=(0,l.Z)(Je,1)[0],Ne=(0,A.pu)((null===re||void 0===re?void 0:re.id)||(null===(e=ie.state)||void 0===e?void 0:e.instituteId),{skip:"landing_page"===(null===(o=ie.state)||void 0===o?void 0:o.openAs)||"landing_page_and_existing"===(null===(_=ie.state)||void 0===_?void 0:_.openAs)?!(null!==(c=ie.state)&&void 0!==c&&c.instituteId):!(null!==re&&void 0!==re&&re.id)}),De=Ne.data,Ae=Ne.refetch,Pe=(0,R.Rg)().data,Le=(0,R.gt)(),Te=(0,l.Z)(Le,1)[0],Re=(0,O.Vc)({id:"landing_page"===(null===(v=ie.state)||void 0===v?void 0:v.openAs)||"landing_page_and_existing"===(null===(m=ie.state)||void 0===m?void 0:m.openAs)?null===(f=ie.state)||void 0===f?void 0:f.instituteId:null===(p=re.searchProfile)||void 0===p?void 0:p.id,skip:"landing_page"===(null===(h=ie.state)||void 0===h?void 0:h.openAs)||"landing_page_and_existing"===(null===(g=ie.state)||void 0===g?void 0:g.openAs)?!(null!==(y=ie.state)&&void 0!==y&&y.instituteId):!(null!==(Z=re.searchProfile)&&void 0!==Z&&Z.id)}),Oe=Re.merchantId,qe=Re.merchantIdRefetch;(0,r.useEffect)((function(){var e,o;(null!==(e=re.searchProfile)&&void 0!==e&&e.id||null!==(o=ie.state)&&void 0!==o&&o.instituteId)&&qe()}),[null===(b=re.searchProfile)||void 0===b?void 0:b.id,null===(j=ie.state)||void 0===j?void 0:j.instituteId,qe]),(0,r.useEffect)((function(){var e;(null!==re&&void 0!==re&&re.id||null!==(e=ie.state)&&void 0!==e&&e.instituteId)&&Ae()}),[Ae,null===re||void 0===re?void 0:re.id,null===(F=ie.state)||void 0===F?void 0:F.instituteId]),(0,r.useEffect)((function(){var e;null===(e=document.getElementById("scrollView"))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),[se]);var He=(0,M.p0)({data:{id:"landing_page"===(null===(S=ie.state)||void 0===S?void 0:S.openAs)||"landing_page_and_existing"===(null===(C=ie.state)||void 0===C?void 0:C.openAs)?null===(J=ie.state)||void 0===J?void 0:J.instituteId:null===(E=re.searchProfile)||void 0===E?void 0:E.id,type:"ID"},skip:"landing_page"===(null===(K=ie.state)||void 0===K?void 0:K.openAs)||"landing_page_and_existing"===(null===(U=ie.state)||void 0===U?void 0:U.openAs)?!(null!==(B=ie.state)&&void 0!==B&&B.instituteId):!(null!==(Q=re.searchProfile)&&void 0!==Q&&Q.id)}),Me=He.oneInstituteProfile,Ve=He.oneInstituteProfileRefetch;(0,r.useEffect)((function(){var e,o;(null!==(e=re.searchProfile)&&void 0!==e&&e.id||null!==(o=ie.state)&&void 0!==o&&o.instituteId)&&Ve()}),[null===(G=re.searchProfile)||void 0===G?void 0:G.id,null===(z=ie.state)||void 0===z?void 0:z.instituteId,Ve]);var Ee=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(o,i,l){var r,d,a,u,s,_,c,v=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d=v.length>3&&void 0!==v[3]?v[3]:null,a=v.length>4&&void 0!==v[4]&&v[4],u=new Worker(new URL(n.p+n.u(3221),n.b)),s=(0,V.aF)(null===Me||void 0===Me?void 0:Me.institute,o,{imageKey:i,isAdmission:a,applicationName:null===(r=ie.state)||void 0===r?void 0:r.applicationName}),_=s.institute,c=s.studentInfo,u.postMessage({printFormType:"STUDENT_HOSTEL_FORM",studentInfo:c,institute:_,pdfUndertaking:d}),u.onmessage=function(e){if(e&&l){window.open(URL.createObjectURL(e.data),"_blank");var o=new FormData;o.append("file",e.data),Ie({sid:l,pdf_file:o}).then((function(){fe((function(e){return!e}))})).catch({})}};case 6:case"end":return e.stop()}}),e)})));return function(o,n,t){return e.apply(this,arguments)}}(),Ke=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(o){var n,l,r,d,a,u,s,_,c,v,m,f,p,h,g,y;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(v in fe((function(e){return!e})),(c={fileArray:[]}).fileArray.push(null===o||void 0===o?void 0:o.file),null===o||void 0===o?void 0:o.formData)c[v]=null===o||void 0===o?void 0:o.formData[v];for(m in null===o||void 0===o?void 0:o.studentForm)"asSameAddress"===m||("bankPassbook"===m?null!==o&&void 0!==o&&o.studentForm[m]&&c.fileArray.push(null===o||void 0===o?void 0:o.studentForm[m]):c[m]=null===o||void 0===o?void 0:o.studentForm[m]);for(f in null===o||void 0===o?void 0:o.dynamicDocument)"previousSchoolDocument"===f||("studentPreviousSchool"===f?c[f]=null===o||void 0===o?void 0:o.dynamicDocument[f]:null!==o&&void 0!==o&&o.dynamicDocument[f]&&c.fileArray.push(null===o||void 0===o?void 0:o.dynamicDocument[f]));c.student_prn_enroll_number=null===o||void 0===o?void 0:o.studentNewField.student_prn_enroll_number,"PROFILE_SEARCH"===(null===(n=ie.state)||void 0===n?void 0:n.openAs)&&null!==re&&void 0!==re&&re.id&&null!==(l=ie.state)&&void 0!==l&&l.appId?Se({aid:null===(p=ie.state)||void 0===p?void 0:p.appId,studentData:c,uid:null===re||void 0===re?void 0:re.id}).then(function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n){var i,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.data.status){e.next=6;break}return e.next=3,Ee(c,null===o||void 0===o||null===(i=o.file)||void 0===i?void 0:i.key,null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.student,"PG");case 3:te("/q/".concat(le.username,"/feed")),e.next=7;break;case 6:fe((function(e){return!e}));case 7:case"end":return e.stop()}}),e)})));return function(o){return e.apply(this,arguments)}}()).catch({}):"ADMISSION_DIRECT_APPLY"===(null===(r=ie.state)||void 0===r?void 0:r.openAs)&&null!==(d=ie.state)&&void 0!==d&&d.appId?ge||(ye(!0),je(c),fe((function(e){return!e}))):"landing_page"===(null===(a=ie.state)||void 0===a?void 0:a.openAs)&&null!==(u=ie.state)&&void 0!==u&&u.verifyNumber?ke({phoneNumber:null===(h=ie.state)||void 0===h?void 0:h.verifyNumber,aid:ie.state.appId,direct_student:c}).then(function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n){var i,l,r,d,a,u,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee(c,null===o||void 0===o||null===(i=o.file)||void 0===i?void 0:i.key,null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.student,null===o||void 0===o?void 0:o.pdfUndertaking);case 2:Ce({token:null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.token,_id:null===n||void 0===n||null===(d=n.data)||void 0===d||null===(a=d.user)||void 0===a?void 0:a._id,username:null===n||void 0===n||null===(u=n.data)||void 0===u||null===(s=u.user)||void 0===s?void 0:s.username});case 3:case"end":return e.stop()}}),e)})));return function(o){return e.apply(this,arguments)}}()).catch({}):"landing_page_and_existing"===(null===(s=ie.state)||void 0===s?void 0:s.openAs)&&null!==(_=ie.state)&&void 0!==_&&_.userId?Se({aid:null===(g=ie.state)||void 0===g?void 0:g.appId,studentData:c,uid:null===(y=ie.state)||void 0===y?void 0:y.userId}).then(function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n){var i,l,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.data.status){e.next=6;break}return e.next=3,Ee(c,null===o||void 0===o||null===(i=o.file)||void 0===i?void 0:i.key,null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.student,null===o||void 0===o?void 0:o.pdfUndertaking);case 3:te("/q/".concat(null===(r=ie.state)||void 0===r?void 0:r.username,"/feed")),e.next=7;break;case 6:fe((function(e){return!e}));case 7:case"end":return e.stop()}}),e)})));return function(o){return e.apply(this,arguments)}}()).catch({}):fe((function(e){return!e}));case 8:case"end":return e.stop()}}),e)})));return function(o){return e.apply(this,arguments)}}();return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:d.Z.navbar,children:(0,N.jsx)(P.default,{status:"profile",profileId:De?null===De||void 0===De||null===(W=De.user)||void 0===W?void 0:W._id:"",username:null===De||void 0===De||null===(Y=De.user)||void 0===Y?void 0:Y.username,name:null===De||void 0===De||null===(X=De.user)||void 0===X?void 0:X.userLegalName,photoId:null===De||void 0===De||null===($=De.user)||void 0===$?void 0:$.photoId,profilePhoto:null===De||void 0===De||null===(ee=De.user)||void 0===ee?void 0:ee.profilePhoto,profileData:null===De||void 0===De?void 0:De.user})}),(0,N.jsx)("div",{className:d.Z.goback_container,id:"scrollView",children:(0,N.jsxs)("div",{className:d.Z.goback_container_text,onClick:function(){se?_e((function(e){return!e})):te(-1)},children:[(0,N.jsx)("img",{src:"/images/arr-left-white.svg",alt:"go back icon"}),(0,N.jsx)("h6",{className:d.Z.goback_container_text_go,children:de("go_back")})]})}),(0,N.jsxs)("div",{className:d.Z.student_from_container,children:[(0,N.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,N.jsx)("h6",{className:d.Z.student_from_fill,children:de("form_fill_student")}),se&&(0,N.jsx)("h6",{className:d.Z.student_from_fill_edit,onClick:function(){return _e((function(e){return!e}))},children:de("edit_")})]}),(0,N.jsx)(x.Z,{customStyle:{width:"100%"}}),(0,N.jsx)(D,{preview:se,setPreview:_e,onApplyForm:Ke,hostelId:null===(oe=ie.state)||void 0===oe?void 0:oe.hostelId}),ge&&(0,N.jsx)(q.Z,{onClose:function(){return ye(!1)},allContent:{type:"ADMISSION_DIRECT_APPLY",amount:null===(ne=ie.state)||void 0===ne?void 0:ne.first_install},checkoutAdmissionDirectHandler:function(e){var o,n,t,i,l,r=2.1*+(null===(o=ie.state)||void 0===o?void 0:o.first_install)/100,d=+r+18*+r/100,a=parseInt(null===(n=ie.state)||void 0===n?void 0:n.first_install),u={amount:Math.ceil(a+ +d.toFixed(2))};"PAYTM"===e?(0,T.Ex)({amount:+(null===(t=ie.state)||void 0===t?void 0:t.first_install),amount_nocharges:+u.amount,type:"Direct_Hostel",paidBy:"".concat(null===re||void 0===re?void 0:re.id),paidTo:"".concat(null===(i=re.searchProfile)||void 0===i?void 0:i.id),moduleId:"".concat(null===(l=ie.state)||void 0===l?void 0:l.appId),ad_status_id:null,payment_installment:null,ad_install:null,month:null,payment_remain_1:null,payment_card_type:null,payment_book_id:null,name:le.username,isApk:"web",payment_card_id:null}).then((function(e){var o,n;window.onScriptLoad(null===e||void 0===e||null===(o=e.response)||void 0===o||null===(n=o.body)||void 0===n?void 0:n.txnToken,null===e||void 0===e?void 0:e.order,null===e||void 0===e?void 0:e.amount)})).catch((function(e){console.info(e)})):null!==Pe&&void 0!==Pe&&Pe.Key&&null!==u&&void 0!==u&&u.amount&&Te({amount:null===u||void 0===u?void 0:u.amount,student_data:be}).then((function(e){var o,n,t,i,l,r;null!==(o=e.data)&&void 0!==o&&o.success?(0,L.r)({key:null===Pe||void 0===Pe?void 0:Pe.Key,oid:null===(n=e.data)||void 0===n?void 0:n.order.id,amount_nocharge:100*(null===(t=ie.state)||void 0===t?void 0:t.first_install),amount:null===(i=e.data)||void 0===i?void 0:i.order.amount,type:"Direct_Hostel",pay_by:"".concat(null===re||void 0===re?void 0:re.id),pay_to:"".concat(null===(l=re.searchProfile)||void 0===l?void 0:l.id),mid:"".concat(null===(r=ie.state)||void 0===r?void 0:r.appId),razor_key:null===Oe||void 0===Oe?void 0:Oe.key,razor_author:null===Oe||void 0===Oe?void 0:Oe.bool,status:null,installment_type:null,is_install:null,h_month:null}):console.log("data error")})).catch((function(e){console.log(e)}))}})]}),me&&(0,N.jsx)(k.Z,{})]})}},38733:function(e,o){o.Z={navbar:"JoinForm_navbar__npU1d",join_form_container:"JoinForm_join_form_container__6Q37N",join_form_container_view:"JoinForm_join_form_container_view__WTHSM",join_form_label_view:"JoinForm_join_form_label_view__S0UQR",join_form_label:"JoinForm_join_form_label__+f6Zt",join_form_input_view:"JoinForm_join_form_input_view__IQBh3",join_form_input:"JoinForm_join_form_input__9NwMx",join_form_select:"JoinForm_join_form_select__ZKKC0",join_form_text_area:"JoinForm_join_form_text_area__LO4QP",join_form_select_paragraph:"JoinForm_join_form_select_paragraph__I7OdI",goback_container:"JoinForm_goback_container__QOvvd",goback_container_text:"JoinForm_goback_container_text__ypd18",goback_container_text_go:"JoinForm_goback_container_text_go__1LHHZ",student_from_container:"JoinForm_student_from_container__nqW9v",student_from_fill:"JoinForm_student_from_fill__wK3o3",student_from_fill_edit:"JoinForm_student_from_fill_edit__KnMCY",form_container:"JoinForm_form_container__zv+j1",form_other_field:"JoinForm_form_other_field__KTI7H",form_container_profile:"JoinForm_form_container_profile__mhlA2",form_container_profile_image:"JoinForm_form_container_profile_image__3MM9C",form_container_profile_photo:"JoinForm_form_container_profile_photo__rEoTw",form_container_profile_image_label:"JoinForm_form_container_profile_image_label__b3SWJ",form_edit_icon:"JoinForm_form_edit_icon__-KIJI",form_profile_info:"JoinForm_form_profile_info__lWv7z",join_form_file_container:"JoinForm_join_form_file_container__48w3c",join_form_file_choose:"JoinForm_join_form_file_choose__wRgT3",join_form_file_choosen:"JoinForm_join_form_file_choosen__H3gUQ",join_form_yes:"JoinForm_join_form_yes__uvOsh",join_form_no:"JoinForm_join_form_no__DOdmt",join_form_active_background:"JoinForm_join_form_active_background__g8OsI",student_detail_name:"JoinForm_student_detail_name__jhziI",student_detail_gender:"JoinForm_student_detail_gender__WLAnI",optional_subject:"JoinForm_optional_subject__8yMbd",arrowIcon:"JoinForm_arrowIcon__zjTO0",join_form_select_custom:"JoinForm_join_form_select_custom__l0lyn",join_form_select_custom_paragraph:"JoinForm_join_form_select_custom_paragraph__h6oDm",join_form_select_custom_icon:"JoinForm_join_form_select_custom_icon__K+ezK",join_form_select_custom_list:"JoinForm_join_form_select_custom_list__Zq-RM",join_form_select_custom_paragraph_option:"JoinForm_join_form_select_custom_paragraph_option__dfz95",add_batch_wise:"JoinForm_add_batch_wise__12tq5",only_admssion_fees:"JoinForm_only_admssion_fees__jjmRd",form_add_fee_btn:"JoinForm_form_add_fee_btn__9gdSc",is_fee_remain:"JoinForm_is_fee_remain__7hNMX",search_container:"JoinForm_search_container__N1K46",search_container_text:"JoinForm_search_container_text__rMKzy",searchIcon:"JoinForm_searchIcon__07z4t",skip_i_do:"JoinForm_skip_i_do__Sri7h",login_details_modal:"JoinForm_login_details_modal__jhsQQ",login_details_modal_title:"JoinForm_login_details_modal_title__JDkZp",login_details_btn:"JoinForm_login_details_btn__2kYn2",profilephotocontainer:"JoinForm_profilephotocontainer__-5H5K",profilephotoins:"JoinForm_profilephotoins__-LFGo",certidyheading:"JoinForm_certidyheading__NJO+i",buttoncontainer:"JoinForm_buttoncontainer__S+iaM",buttonInner:"JoinForm_buttonInner__jv-6K",button_main:"JoinForm_button_main__7JKyK",duplicateCopy:"JoinForm_duplicateCopy__AfcNi",letter_head_container:"JoinForm_letter_head_container__AMFGH"}}}]);
//# sourceMappingURL=7480.8ae77600.chunk.js.map