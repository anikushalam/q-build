"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[5024],{53982:function(n,e,t){t.d(e,{KB:function(){return z},Dv:function(){return T},rY:function(){return Y},bB:function(){return Q},J9:function(){return V},xk:function(){return P},Ne:function(){return B},b5:function(){return O},OF:function(){return K},Dr:function(){return G},Pv:function(){return R},d4:function(){return J},gS:function(){return $},FL:function(){return L}});var u=t(29439),o=t(28328),i=t(94811),r=function(n){return n.mutation({query:function(n){return{url:"/all-images/onefile/web",method:i.Q0,body:n.fileUpload}}})},a=function(n){return n.query({query:function(n){return"/auth/username/search?u_name=".concat(n)}})},c=function(n){return n.query({query:function(n){return"/auth/email/check/redundant?email=".concat(n)}})},d=function(n){return n.mutation({query:function(n){return{url:"/auth/login",method:i.a4,body:n.login}}})},l=function(n){return n.mutation({query:function(n){return{url:"/auth/user-detail",method:i.a4,body:n}}})},s=function(n){return n.mutation({query:function(n){var e;return{url:"/auth/user-detail-verify/".concat(n.userPhoneNumber,"?u_name=").concat(null!==(e=null===n||void 0===n?void 0:n.u_name)&&void 0!==e?e:""),method:i.a4,body:n}}})},m=function(n){return n.mutation({query:function(n){return{url:"/auth/user/forgot",method:i.a4,body:n.forgot}}})},f=function(n){return n.mutation({query:function(n){return{url:"/auth/user/forgot/".concat(n.uid),method:i.a4,body:n.otp}}})},h=function(n){return n.mutation({query:function(n){return{url:"/auth/user/reset/password/".concat(n.uid),method:i.a4,body:n.password}}})},v=function(n,e){return n.mutation({query:function(n){return{url:"/auth/profile-creation/".concat(n.userPhoneNumber),method:i.a4,body:n.profileCreation}}})},_=function(n,e){return n.mutation({query:function(n){return{url:"/auth/create-user-password/".concat(n.uid),method:i.a4,body:n.password}}})},p=function(n,e){return n.mutation({query:function(n){return{url:"/auth/ins-detail",method:i.a4,body:n.phone}}})},y=function(n,e){return n.mutation({query:function(n){return{url:"/auth/ins-detail-verify/".concat(n.insPhoneNumber),method:i.a4,body:n.verify}}})},Z=function(n,e){return n.mutation({query:function(n){return{url:"/auth/ins/register",method:i.a4,body:n.profileCreation}}})},x=function(n,e){return n.mutation({query:function(n){return{url:"/auth/ins/create-password/".concat(n.id),method:i.a4,body:n.password}}})},b=function(n){return n.mutation({query:function(n){return{url:"/auth/direct/confirm/join/".concat(n.phoneNumber,"/apply/").concat(n.aid,"?existingUser=").concat(n.uid),method:i.a4,body:n.addStudent}}})},g=o.i.injectEndpoints({endpoints:function(n){return{fileUpload:r(n),authUniqueUsername:a(n),authUniqueEmail:c(n),authLogin:d(n),authUserNumber:l(n),authUserNumberVerify:s(n),authUserForget:m(n),authUserForgetOtp:f(n),authUserSetPassword:h(n),authUserCreateAccount:v(n),authUserCreatePassword:_(n),authInstituteNumber:p(n),authInstituteNumberVerify:y(n),authInstituteCreateAccount:Z(n),authInstituteCreatePassword:x(n),authDirectJoinFormAdmissionApplication:b(n)}}}),j=g.useFileUploadMutation,k=(g.useAuthUniqueUsernameQuery,g.useAuthUniqueEmailQuery,g.useAuthLoginMutation),C=g.useAuthUserNumberMutation,A=g.useAuthUserNumberVerifyMutation,N=g.useAuthUserForgetMutation,w=g.useAuthUserForgetOtpMutation,U=g.useAuthUserSetPasswordMutation,q=g.useAuthUserCreateAccountMutation,M=g.useAuthUserCreatePasswordMutation,S=g.useAuthInstituteNumberMutation,F=g.useAuthInstituteNumberVerifyMutation,I=g.useAuthInstituteCreateAccountMutation,E=g.useAuthInstituteCreatePasswordMutation,D=g.useAuthDirectJoinFormAdmissionApplicationMutation,L=function(){var n=j();return[(0,u.Z)(n,1)[0]]},P=function(){var n=k();return[(0,u.Z)(n,1)[0]]},R=function(){var n=C();return[(0,u.Z)(n,1)[0]]},J=function(){var n=A();return[(0,u.Z)(n,1)[0]]},K=function(){var n=N();return[(0,u.Z)(n,1)[0]]},G=function(){var n=w();return[(0,u.Z)(n,1)[0]]},$=function(){var n=U();return[(0,u.Z)(n,1)[0]]},B=function(){var n=q();return[(0,u.Z)(n,1)[0]]},O=function(){var n=M();return[(0,u.Z)(n,1)[0]]},Q=function(){var n=S();return[(0,u.Z)(n,1)[0]]},V=function(){var n=F();return[(0,u.Z)(n,1)[0]]},T=function(){var n=I();return[(0,u.Z)(n,1)[0]]},Y=function(){var n=E();return[(0,u.Z)(n,1)[0]]},z=function(){var n=D();return[(0,u.Z)(n,1)[0]]}},16917:function(n,e,t){var u=t(72791),o=t(52245),i=t(39230),r=t(1095),a=t(80184);e.Z=function(n){var e=n.label,t=n.value,c=n.shownLabel,d=n.customFormInputContainer,l=n.customFormInputLabel,s=n.customFormInput,m=(0,i.$G)().t,f=(0,u.useCallback)((function(){if(t){var n=window.open("".concat(r.yI,"/").concat(null===t||void 0===t?void 0:t.key),"_blank","noopener,noreferrer");n&&(n.opener=null)}}),[t]);return(0,a.jsxs)("div",{className:o.Z.form_read_input_container,style:d,children:[e&&(0,a.jsx)("label",{className:o.Z.form_read_input_label,style:l,children:e}),(0,a.jsx)("h6",{className:o.Z.form_read_input_file,style:s,onClick:f,children:m(null!==c&&void 0!==c?c:"view")})]})}},75024:function(n,e,t){t.r(e),t.d(e,{default:function(){return D}});var u=t(29439),o=t(39230),i=t(56959),r=t(72791),a=t(23441),c=t(91427),d=t(57588),l=t(63687),s=t(21348),m=t(90904),f=t(1669),h=t(98684),v=t(55336),_=t(2651),p=t(93638),y=t(23984),Z=t(43317),x=t(16483),b=t(16917),g=t(89064),j=t(4942),k=t(1413),C=t(61055),A=t(16925),N=t(48293),w=t(38986),U=t(11468),q=t(53982),M=t(99183),S=t(80184),F=function(n){var e=n.onClose,t=n.aid,i=n.onRefetch,a=n.isEdit,c=n.documentMenu,d=n.onEdit,l=(0,o.$G)().t,f=(0,r.useState)({doc_name:"",doc_key:"",applicable_to:""}),_=(0,u.Z)(f,2),y=_[0],x=_[1],b=(0,r.useState)(""),g=(0,u.Z)(b,2),F=g[0],I=g[1],E=(0,r.useState)(!1),D=(0,u.Z)(E,2),L=D[0],P=D[1],R=(0,r.useState)(""),J=(0,u.Z)(R,2),K=J[0],G=J[1],$=(0,q.FL)(),B=(0,u.Z)($,1)[0],O=(0,Z.od)(),Q=(0,u.Z)(O,1)[0];(0,r.useEffect)((function(){var n,e,t;a&&(x({doc_name:null!==(n=null===c||void 0===c?void 0:c.document_name)&&void 0!==n?n:"",doc_key:null!==(e=null===c||void 0===c?void 0:c.document_key)&&void 0!==e?e:"",applicable_to:null!==(t=null===c||void 0===c?void 0:c.applicable_to)&&void 0!==t?t:""}),G({originalName:"document preview"}))}),[a,c]);var V=function(n){x((function(e){return(0,k.Z)((0,k.Z)({},e),{},(0,j.Z)({},n.target.name,n.target.value))}))};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(N.Z,{onClose:e,children:(0,S.jsxs)("div",{className:A.Z.modal_container,children:[(0,S.jsx)(s.Z,{children:(0,S.jsxs)("div",{className:A.Z.modal_container_outer_header,children:[(0,S.jsx)("div",{className:A.Z.modal_container_header,children:(0,S.jsxs)("h6",{children:[" ",l(a?"update_document":"add_new_document")]})}),(0,S.jsx)("img",{src:"".concat(h.J7,"/close.svg"),alt:"close icon",onClick:e})]})}),(0,S.jsx)(m.Z,{}),(0,S.jsxs)(s.Z,{customStyle:{paddingTop:"0"},children:[(0,S.jsx)(C.Z,{label:l("document_name"),placeholder:l("document_nape_placeholder"),name:"doc_name",value:y.doc_name,type:"text",onChange:V,errorShow:F.doc_name}),(0,S.jsx)(U.Z,{label:l("document_applicable_to"),placeholder:l("document_applicable_to_placeholder"),name:"applicable_to",value:y.applicable_to,type:"text",onChange:V}),(0,S.jsx)(w.Z,{label:l("sample_documnt"),name:"document",value:K,onChange:function(n){if(n.target.files[0]){P((function(n){return!n}));var e=new FormData;e.append("file",n.target.files[0]),B({fileUpload:e}).then((function(e){var t,u,o;G({name:null===(t=n.target.files[0])||void 0===t?void 0:t.name,key:null===(u=e.data)||void 0===u?void 0:u.imageKey,type:null===(o=n.target.files[0])||void 0===o?void 0:o.type}),x((function(n){var t;return(0,k.Z)((0,k.Z)({},n),{},{doc_key:null===(t=e.data)||void 0===t?void 0:t.imageKey})})),P((function(n){return!n}))})).catch({})}}}),(0,S.jsx)(p.Z,{label:a?"update":"create",onAction:function(){var n=(0,M.l)(y,["doc_key","applicable_to"]);(0,M.x)(n)?a?d(y):(P((function(n){return!n})),Q({aid:t,document:y}).then((function(){i(),P((function(n){return!n})),e()})).catch({})):I(n)}})]})]})}),L&&(0,S.jsx)(v.Z,{})]})},I=function(n){var e=n.aid,t=n.onClose,i=n.documentMenu,a=n.onRefetch,c=(0,o.$G)().t,d=(0,r.useState)(!1),l=(0,u.Z)(d,2),s=l[0],m=l[1],f=(0,r.useState)(!1),h=(0,u.Z)(f,2),v=h[0],_=h[1],p=(0,Z.yT)(),y=(0,u.Z)(p,1)[0],x=(0,Z.Kw)(),b=(0,u.Z)(x,1)[0],j=function(){_((function(n){return!n}))};return v?(0,S.jsx)(F,{isEdit:!0,onClose:j,onEdit:function(n){var u;e&&null!==i&&void 0!==i&&i._id&&(m((function(n){return!n})),b({aid:e,editDocument:{doc:{id:null===i||void 0===i?void 0:i._id,name:null===n||void 0===n?void 0:n.doc_name,newKey:(null===n||void 0===n?void 0:n.doc_key)===(null===i||void 0===i?void 0:i.document_key)?null===i||void 0===i?void 0:i.document_key:null===n||void 0===n?void 0:n.doc_key,oldKey:(null===n||void 0===n?void 0:n.doc_key)===(null===i||void 0===i?void 0:i.document_key)?"":null===n||void 0===n?void 0:n.doc_key,applicable_to:null!==(u=null===n||void 0===n?void 0:n.applicable_to)&&void 0!==u?u:""}}}).then((function(){a(),m((function(n){return!n})),t()})).catch({}))},documentMenu:i}):(0,S.jsxs)(g.Z,{onClose:t,disabled:s,children:[(0,S.jsx)("h6",{onClick:j,children:c("edit")}),(0,S.jsx)("h6",{onClick:function(){e&&null!==i&&void 0!==i&&i._id&&(m((function(n){return!n})),y({aid:e,did:null===i||void 0===i?void 0:i._id}).then((function(){a(),m((function(n){return!n})),t()})).catch({}))},children:c("delete")})]})},E=function(n){var e,t=n.document,i=n.onRefetch,a=n.aid,c=(0,o.$G)().t,d=(0,r.useState)(""),l=(0,u.Z)(d,2),s=l[0],m=l[1];return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:x.Z.document_card,children:[(0,S.jsx)("img",{src:"".concat(h.U_,"/required-document.svg"),alt:"document icon"}),(0,S.jsxs)("div",{className:x.Z.document_card_text,children:[(0,S.jsxs)("p",{children:[null!==(e=null===t||void 0===t?void 0:t.document_name)&&void 0!==e?e:"",null!==t&&void 0!==t&&t.applicable_to?(0,S.jsx)("span",{style:{fontSize:"11px"},children:" (".concat(c("applicable_to"),"- ").concat(null===t||void 0===t?void 0:t.applicable_to,")")}):""]}),(0,S.jsx)(b.Z,{value:null!==t&&void 0!==t&&t.document_key?{key:null===t||void 0===t?void 0:t.document_key}:"",shownLabel:"view_attachment",customFormInputContainer:{marginBlock:"0.3rem"}})]}),(0,S.jsx)("img",{src:"".concat(h.J7,"/menu.svg"),alt:"menu icon",onClick:function(){m(t)},className:x.Z.menu_icon,title:"Menu"})]}),s&&(0,S.jsx)(I,{onClose:function(){m("")},onRefetch:i,aid:a,documentMenu:s})]})},D=function(n){var e,t,x,b=n.aid,g=(0,o.$G)().t,j=(0,r.useState)(!1),k=(0,u.Z)(j,2),C=k[0],A=k[1],N=(0,r.useState)(""),w=(0,u.Z)(N,2),U=w[0],q=w[1],M=(0,r.useState)(1),I=(0,u.Z)(M,2),D=I[0],L=I[1],P=(0,r.useState)(!0),R=(0,u.Z)(P,2),J=R[0],K=R[1],G=(0,a.YD)({skip:U}),$=(0,u.Z)(G,2),B=$[0],O=$[1],Q=(0,Z.cR)({data:{aid:b,page:D,limit:10,search:U},skip:!b}),V=Q.admissionDocumentList,T=Q.admissionDocumentListLoading,Y=Q.admissionDocumentListRefetch;(0,r.useEffect)((function(){O&&J&&L((function(n){return n+1}))}),[O,J]),(0,r.useEffect)((function(){var n;if(null!==V&&void 0!==V&&null!==(n=V.list)&&void 0!==n&&n.length){var e,t=(0,c.f)(null===V||void 0===V||null===(e=V.list)||void 0===e?void 0:e.length);K((function(){return t}))}}),[null===V||void 0===V?void 0:V.list]);var z=(0,r.useCallback)((0,d.J)((function(n){L((function(){return 1})),q(n)}),1500),[]),W=function(){A((function(n){return!n}))},H=(0,r.useCallback)((function(){L((function(n){return 1})),Y()}),[Y]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(l.Z,{children:[(0,S.jsx)(s.Z,{children:(0,S.jsxs)("div",{className:i.Z.fm_header_container,children:[(0,S.jsx)("h6",{children:g("required_documents")}),(0,S.jsx)("div",{className:i.Z.fm_search,children:(0,S.jsx)("section",{className:i.Z.fm_search_container,children:(0,S.jsxs)("div",{className:i.Z.fm_search_container_inner,children:[(0,S.jsx)("img",{className:i.Z.fm_search_icon,alt:"search icon",src:"".concat(h.dB,"/navbar-search.svg")}),(0,S.jsx)("input",{type:"text",placeholder:g("search"),onChange:function(n){n.target.value?z(n.target.value):(L((function(){return 1})),q(""))}})]})})})]})}),(0,S.jsx)(m.Z,{}),(0,S.jsxs)(s.Z,{children:[(0,S.jsx)(y.Z,{children:(0,S.jsx)(p.Z,{label:"add_new_documents",onAction:W,customStyle:{marginTop:"0"}})}),null===V||void 0===V||null===(e=V.list)||void 0===e?void 0:e.map((function(n,e){var t;return(null===V||void 0===V||null===(t=V.list)||void 0===t?void 0:t.length)===e+1?(0,S.jsx)("div",{ref:B,children:(0,S.jsx)(E,{document:n,aid:b,onRefetch:H})},null===n||void 0===n?void 0:n._id):(0,S.jsx)(E,{document:n,aid:b,onRefetch:H},null===n||void 0===n?void 0:n._id)})),T?U?(0,S.jsx)(v.Z,{}):(0,S.jsx)(f.Z,{}):U?0===(null===V||void 0===V||null===(t=V.list)||void 0===t?void 0:t.length)&&(0,S.jsx)(_.Z,{title:"No document fuond related this search."}):0===(null===V||void 0===V||null===(x=V.list)||void 0===x?void 0:x.length)&&(0,S.jsx)(_.Z,{title:"No document."})]})]}),C&&(0,S.jsx)(F,{aid:b,onClose:W,onRefetch:H})]})}},16483:function(n,e){e.Z={document_card:"AdmissionManager_document_card__OWvp9",document_card_text:"AdmissionManager_document_card_text__aokEI",menu_icon:"AdmissionManager_menu_icon__n7SJY",apf_container:"AdmissionManager_apf_container__NmQ63",apf_container_inner:"AdmissionManager_apf_container_inner__tUadZ",apfci_text:"AdmissionManager_apfci_text__pDEev"}}}]);
//# sourceMappingURL=5024.1ae6dfe8.chunk.js.map