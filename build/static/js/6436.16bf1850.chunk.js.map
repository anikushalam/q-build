{"version":3,"file":"static/js/6436.16bf1850.chunk.js","mappings":"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","sources":["optimized/Ui/Input/FormTextarea.jsx","optimized/UserStaffMember/LibraryManager/BookReview/AddBookReview.jsx","optimized/Validation/functions/checkingRequiredField.js","webpack://mithkal-qviple/./src/optimized/UserStaffMember/FinanceManager/Income/Income.module.css?46f8"],"sourcesContent":["import { useTranslation } from \"react-i18next\";\nimport style from \"../UiInput.module.css\";\n\nconst getRow = (value) => {\n  return value ? value?.split(\"\\n\")?.length : 2;\n};\nconst FormTextarea = ({\n  label,\n  name,\n  type,\n  value,\n  onChange,\n  placeholder,\n  errorShow,\n  disabled,\n  customFormInputContainer,\n  customFormInputLabel,\n}) => {\n  const { t } = useTranslation();\n\n  return (\n    <div\n      className={style.form_input_container}\n      style={customFormInputContainer}\n    >\n      {label && (\n        <label\n          className={style.form_input_label}\n          htmlFor={name}\n          style={customFormInputLabel}\n        >\n          {label}\n          {errorShow && (\n            <span className={style.form_input_label_error}>\n              * {t(\"form_require_label\")}\n            </span>\n          )}\n        </label>\n      )}\n\n      <textarea\n        className={style.form_textarea_input}\n        type={type}\n        value={value}\n        onChange={onChange}\n        name={name}\n        placeholder={placeholder}\n        rows={getRow(value)}\n        disabled={disabled}\n        style={{\n          \"--textarea-height\": `${getRow(value) * 17}px`,\n        }}\n      />\n    </div>\n  );\n};\n\nexport default FormTextarea;\n","import { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useLibraryUpdateBookReview } from \"../../../Hooks/ApiHooks/LibraryManager/library-manager-api\";\nimport style from \"../../FinanceManager/Income/Income.module.css\";\nimport Modal from \"../../../Ui/Modal/Modal\";\nimport {\n  assestsFeedbackUrl,\n  assestsUserFinanceUrl,\n} from \"../../../Services/UrlConfig/AssestsBaseUrl\";\nimport UserMemberContentWrapper from \"../../../Ui/UserMember/UserMemberContentWrapper\";\nimport BorderBottom from \"../../../Ui/Border/BorderBottom\";\nimport FormTextarea from \"../../../Ui/Input/FormTextarea\";\nimport CreateButton from \"../../../Ui/Button/CreateButton\";\nimport QvipleLoader from \"../../../Loader/QvipleLoader\";\nimport {\n  existingRequiredField,\n  requiredField,\n} from \"../../../Validation/functions/checkingRequiredField\";\n\nconst AddBookReview = ({ onClose, onRefetch, bid, sid }) => {\n  const { t } = useTranslation();\n  const [state, setState] = useState({\n    description: \"\",\n    rating: 0,\n    title: \"\",\n  });\n  const [errorField, setErrorField] = useState(\"\");\n  const [disabled, setDisabled] = useState(false);\n  const [rating, setRating] = useState([\n    `${assestsFeedbackUrl}/grey-star.svg`,\n    `${assestsFeedbackUrl}/grey-star.svg`,\n    `${assestsFeedbackUrl}/grey-star.svg`,\n    `${assestsFeedbackUrl}/grey-star.svg`,\n    `${assestsFeedbackUrl}/grey-star.svg`,\n  ]);\n\n  const [libraryUpdateBookReview] = useLibraryUpdateBookReview();\n\n  const onInputChange = (e) => {\n    setState((prev) => ({\n      ...prev,\n      [e.target.name]: e.target.value,\n    }));\n  };\n  const onRating = (index) => {\n    let inp = [];\n    for (let i = 0; i < 5; i++) {\n      if (i <= index) inp.push(`${assestsFeedbackUrl}/yellow-star.svg`);\n      else inp.push(`${assestsFeedbackUrl}/grey-star.svg`);\n    }\n    setState((prev) => ({\n      ...prev,\n      rating: index + 1,\n    }));\n    setRating(() => inp);\n  };\n\n  const onReviewUpdate = () => {\n    let validation = requiredField(state, [\"rating\", \"title\"]);\n    if (existingRequiredField(validation) && sid && bid) {\n      setDisabled((pre) => !pre);\n      libraryUpdateBookReview({\n        bid: bid,\n        reviewData: {\n          ...state,\n          sid: sid,\n        },\n      })\n        .then(() => {\n          onRefetch();\n          setDisabled((pre) => !pre);\n          onClose();\n        })\n        .catch({});\n    } else {\n      setErrorField(validation);\n    }\n  };\n\n  return (\n    <>\n      <Modal onClose={onClose}>\n        <div className={style.modal_container}>\n          <UserMemberContentWrapper>\n            <div className={style.modal_container_outer_header}>\n              <div className={style.modal_container_header}>\n                <h6> {t(\"book_review\")}</h6>\n              </div>\n              <img\n                src={`${assestsUserFinanceUrl}/close.svg`}\n                alt=\"close icon\"\n                onClick={onClose}\n              />\n            </div>\n          </UserMemberContentWrapper>\n          <BorderBottom />\n          <UserMemberContentWrapper\n            customStyle={{\n              paddingTop: \"0\",\n            }}\n          >\n            <FormTextarea\n              label={t(\"description\")}\n              placeholder={t(\"description_placeholder\")}\n              name={\"description\"}\n              value={state.description}\n              type=\"text\"\n              onChange={onInputChange}\n              errorShow={errorField[\"description\"]}\n            />\n            <div\n              className={style.gsf_star_container}\n              style={{\n                marginTop: \"1.4rem\",\n              }}\n            >\n              {rating?.map((url, index) => (\n                <img\n                  key={index}\n                  src={url}\n                  alt=\"star icon\"\n                  onClick={() => onRating(index)}\n                />\n              ))}\n            </div>\n            <CreateButton label={\"review\"} onAction={onReviewUpdate} />\n          </UserMemberContentWrapper>\n        </div>\n      </Modal>\n      {disabled && <QvipleLoader />}\n    </>\n  );\n};\n\nexport default AddBookReview;\n","export const requiredField = (data, optional = []) => {\n  let error = {};\n  for (let obj in data) {\n    if (optional?.includes(obj)) {\n    } else {\n      if (!data[obj]) error[obj] = \"* required\";\n    }\n  }\n  return error;\n};\n\nexport const existingRequiredField = (required = {}) => {\n  for (let req in required) {\n    return false;\n  }\n  return true;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"right\":\"Income_right__XnzYj\",\"rightHead\":\"Income_rightHead__1rLc6\",\"rightBody\":\"Income_rightBody__fGEC5\",\"income_detail\":\"Income_income_detail__IWoJa\",\"detailTop\":\"Income_detailTop__4JXuu\",\"detailTopMid\":\"Income_detailTopMid__yc2yv\",\"modal_container\":\"Income_modal_container__HiGr+\",\"modal_container_outer_header\":\"Income_modal_container_outer_header__F9c7X\",\"modal_container_header\":\"Income_modal_container_header__td-Fb\",\"card_container\":\"Income_card_container__ewKhQ\",\"card_container_image\":\"Income_card_container_image__5XloP\",\"card_container_inner\":\"Income_card_container_inner__JBmxr\",\"admission_fees_row\":\"Income_admission_fees_row__MPJCs\",\"close_icon\":\"Income_close_icon__Ozq4u\",\"student_message_container\":\"Income_student_message_container__8KnPc\",\"student_message_container_inner\":\"Income_student_message_container_inner__mRYpD\",\"usm_institute_container\":\"Income_usm_institute_container__4LkYt\",\"usm_institute\":\"Income_usm_institute__hlzdF\",\"date_select\":\"Income_date_select__D3VkU\",\"gsf_star_container\":\"Income_gsf_star_container__7gdUs\"};"],"names":["getRow","value","_value$split","split","length","_ref","label","name","type","onChange","placeholder","errorShow","disabled","customFormInputContainer","customFormInputLabel","t","useTranslation","_jsxs","className","style","form_input_container","children","form_input_label","htmlFor","form_input_label_error","_jsx","form_textarea_input","rows","concat","onClose","onRefetch","bid","sid","_useState","useState","description","rating","title","_useState2","_slicedToArray","state","setState","_useState3","_useState4","errorField","setErrorField","_useState5","_useState6","setDisabled","_useState7","assestsFeedbackUrl","_useState8","setRating","_useLibraryUpdateBook","useLibraryUpdateBookReview","libraryUpdateBookReview","_Fragment","Modal","modal_container","UserMemberContentWrapper","modal_container_outer_header","modal_container_header","src","assestsUserFinanceUrl","alt","onClick","BorderBottom","customStyle","paddingTop","FormTextarea","e","prev","_objectSpread","_defineProperty","target","gsf_star_container","marginTop","map","url","index","inp","i","push","onRating","CreateButton","onAction","validation","requiredField","existingRequiredField","pre","reviewData","then","catch","QvipleLoader","data","optional","arguments","undefined","error","obj","includes","required","req"],"sourceRoot":""}