"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[6452],{65408:function(e,t,a){a.d(t,{Z:function(){return x}});var n=a(29439),s=a(72791),i=a(33992),c=a(11105),l=a(1413),d=a(33148),r=a(69721),o=a(74801),u=a(8148),v=a(35395),m=a(80184),j=s.lazy((function(){return Promise.all([a.e(6307),a.e(5054),a.e(1653)]).then(a.bind(a,85054))})),h=function(e){var t,a,i,c,h,b,x,f,Z,g,p,N,_,y,S,T,I,A,E,P,D,C,R,k,q,F,w,M,O,H,U,V,J,L,B,G,$=e.sub,z=e.carryParentState,Y=e.isView,Q=e.did,W=e.cid,K=e.instituteId,X=e.onRefetch,ee=(0,s.useState)(""),te=(0,n.Z)(ee,2),ae=te[0],ne=te[1];return(0,m.jsxs)(m.Fragment,{children:["DEPARTMENT_HEAD"===Y?(0,m.jsx)(u.Z,{carryParentState:(0,l.Z)((0,l.Z)({},z),{},{subjectId:null===$||void 0===$?void 0:$._id,subjectName:"".concat(null===$||void 0===$?void 0:$.subjectName," ").concat(null!==$&&void 0!==$&&$.subject_category?"(".concat(null===$||void 0===$?void 0:$.subject_category,")"):""," ").concat(null!==$&&void 0!==$&&null!==(t=$.selected_batch_query)&&void 0!==t&&t.batchName?"(".concat(null===$||void 0===$||null===(a=$.selected_batch_query)||void 0===a?void 0:a.batchName,")"):""," ").concat("Optional"===(null===$||void 0===$?void 0:$.subjectOptional)?"(".concat(null===$||void 0===$?void 0:$.subjectOptional,")"):""),batchId:null===$||void 0===$||null===(i=$.selected_batch_query)||void 0===i?void 0:i._id,subjectTeacherName:"".concat(null!==(c=null===$||void 0===$||null===(h=$.subjectTeacherName)||void 0===h?void 0:h.staffFirstName)&&void 0!==c?c:""," ").concat(null!==(b=null===$||void 0===$||null===(x=$.subjectTeacherName)||void 0===x?void 0:x.staffMiddleName)&&void 0!==b?b:""," ").concat(null!==(f=null===$||void 0===$||null===(Z=$.subjectTeacherName)||void 0===Z?void 0:Z.staffLastName)&&void 0!==f?f:"")}),activeTab:"subject-detail",children:(0,m.jsxs)("div",{className:d.Z.class_container,style:{justifyContent:"space-between"},children:[(0,m.jsxs)("div",{className:d.Z.moderator_container_title,children:[(0,m.jsx)("img",{className:d.Z.oneRowImage,src:null!==$&&void 0!==$&&null!==(g=$.subjectTeacherName)&&void 0!==g&&g.staffProfilePhoto?"".concat(r.yI,"/").concat(null===$||void 0===$||null===(p=$.subjectTeacherName)||void 0===p?void 0:p.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff avatr"}),(0,m.jsxs)("div",{className:d.Z.class_container_text,children:[(0,m.jsxs)("h6",{children:[null!==(N=null===$||void 0===$?void 0:$.subjectName)&&void 0!==N?N:""," ",null!==$&&void 0!==$&&$.subject_category?"(".concat(null===$||void 0===$?void 0:$.subject_category,")"):"",null!==$&&void 0!==$&&null!==(_=$.selected_batch_query)&&void 0!==_&&_.batchName?(0,m.jsxs)("span",{style:{fontWeight:"400",fontSize:"12px"},children:[" ","(",null!==(y=null===$||void 0===$||null===(S=$.selected_batch_query)||void 0===S?void 0:S.batchName)&&void 0!==y?y:"",")"]}):null,"Optional"===(null===$||void 0===$?void 0:$.subjectOptional)&&"(".concat(null===$||void 0===$?void 0:$.subjectOptional,")")]}),(0,m.jsx)("p",{children:"".concat(null!==(T=null===$||void 0===$||null===(I=$.subjectTeacherName)||void 0===I?void 0:I.staffFirstName)&&void 0!==T?T:""," ").concat(null!==(A=null===$||void 0===$||null===(E=$.subjectTeacherName)||void 0===E?void 0:E.staffMiddleName)&&void 0!==A?A:""," ").concat(null!==(P=null===$||void 0===$||null===(D=$.subjectTeacherName)||void 0===D?void 0:D.staffLastName)&&void 0!==P?P:"")})]})]}),(0,m.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(e){e.preventDefault(),ne(null===$||void 0===$?void 0:$._id)},title:"Menu",style:{cursor:"pointer",height:"1.5rem"}})]})}):(0,m.jsx)(o.Z,{carryParentState:(0,l.Z)((0,l.Z)({},z),{},{subjectId:null===$||void 0===$?void 0:$._id,subjectName:"".concat(null===$||void 0===$?void 0:$.subjectName," ").concat(null!==$&&void 0!==$&&$.subject_category?"(".concat(null===$||void 0===$?void 0:$.subject_category,")"):""," ").concat(null!==$&&void 0!==$&&null!==(C=$.selected_batch_query)&&void 0!==C&&C.batchName?"(".concat(null===$||void 0===$||null===(R=$.selected_batch_query)||void 0===R?void 0:R.batchName,")"):""," ").concat("Optional"===(null===$||void 0===$?void 0:$.subjectOptional)?"(".concat(null===$||void 0===$?void 0:$.subjectOptional,")"):""),batchId:null===$||void 0===$||null===(k=$.selected_batch_query)||void 0===k?void 0:k._id,isView:"ADMINISTRATOR"}),activeTab:"subject-menu",children:(0,m.jsxs)("div",{className:d.Z.class_container,children:[(0,m.jsx)("img",{className:d.Z.oneRowImage,src:null!==$&&void 0!==$&&null!==(q=$.subjectTeacherName)&&void 0!==q&&q.staffProfilePhoto?"".concat(r.yI,"/").concat(null===$||void 0===$||null===(F=$.subjectTeacherName)||void 0===F?void 0:F.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff avatr"}),(0,m.jsxs)("div",{className:d.Z.class_container_text,children:[(0,m.jsxs)("h6",{children:[null!==(w=null===$||void 0===$?void 0:$.subjectName)&&void 0!==w?w:""," ",null!==$&&void 0!==$&&$.subject_category?"(".concat(null===$||void 0===$?void 0:$.subject_category,")"):"",null!==$&&void 0!==$&&null!==(M=$.selected_batch_query)&&void 0!==M&&M.batchName?(0,m.jsxs)("span",{style:{fontWeight:"400",fontSize:"12px"},children:[" ","(",null!==(O=null===$||void 0===$||null===(H=$.selected_batch_query)||void 0===H?void 0:H.batchName)&&void 0!==O?O:"",")"]}):null,"Optional"===(null===$||void 0===$?void 0:$.subjectOptional)&&"(".concat(null===$||void 0===$?void 0:$.subjectOptional,")")]}),(0,m.jsx)("p",{children:"".concat(null!==(U=null===$||void 0===$||null===(V=$.subjectTeacherName)||void 0===V?void 0:V.staffFirstName)&&void 0!==U?U:""," ").concat(null!==(J=null===$||void 0===$||null===(L=$.subjectTeacherName)||void 0===L?void 0:L.staffMiddleName)&&void 0!==J?J:""," ").concat(null!==(B=null===$||void 0===$||null===(G=$.subjectTeacherName)||void 0===G?void 0:G.staffLastName)&&void 0!==B?B:"")})]})]})}),(0,m.jsx)(v.Z,{children:ae&&(0,m.jsx)(j,{departmentModal:!!ae,hideModal:function(){return ne("")},id:K,did:Q,cid:W,edit:ae,setEdit:ne,editSubject:ae,isEditBy:"DEPARTMENT_HEAD",onRefetch:X})})]})},b=function(e){var t=e.subjects,a=e.carryParentState,n=e.isView,s=e.cid,i=e.instituteId,c=e.did,l=e.onRefetch;return(0,m.jsx)(m.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e){return(0,m.jsx)(h,{sub:e,carryParentState:a,isView:n,cid:s,instituteId:i,did:c,onRefetch:l},null===e||void 0===e?void 0:e._id)}))})},x=function(e){var t,a,l,d=e.carryParentState,r=e.clsId,o=e.isView,u=e.instituteId,v=e.did,j=(0,s.useState)(!0),h=(0,n.Z)(j,2),x=h[0],f=h[1],Z=(0,i.fk)({cid:r,skip:!r}),g=Z.oneClassAllSubject,p=Z.oneClassAllSubjectRefetch;return(0,s.useEffect)((function(){var e;null!==g&&void 0!==g&&null!==(e=g.classes)&&void 0!==e&&e.subject&&f(!1)}),[null===g||void 0===g||null===(t=g.classes)||void 0===t?void 0:t.subject]),(0,s.useEffect)((function(){r&&p()}),[r,p]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(b,{subjects:null!==(a=null===g||void 0===g||null===(l=g.classes)||void 0===l?void 0:l.subject)&&void 0!==a?a:[],carryParentState:d,isView:o||"ADMINISTRATOR",cid:r,instituteId:u,did:v,onRefetch:p}),x&&(0,m.jsx)(c.Z,{})]})}},893:function(e,t,a){a.d(t,{Z:function(){return N}});var n=a(93433),s=a(37762),i=a(29439),c=a(72791),l=a(16313),d=a(53967),r=a(94721),o=a(89261),u=a(62921),v=a(17758),m=a(39230),j=a(24582),h=a(98734),b=a(37570),x=a(95048),f=a(99376),Z=a(51561),g=a(80184),p=function(e){var t=e.today,a=e.alreadyMark,n=e.allIdsArray,d=e.clickedIndex,r=e.setClickedIndex,o=e.idPresentArray,u=e.idAbsentArray,v=e.setIdPresentArray,p=e.setIdAbsentArray,N=e.cid,_=e.isDepartment,y=e.className,S=e.setIsRefetch,T=c.useState(!1),I=(0,i.Z)(T,2),A=I[0],E=I[1],P=c.useState(!1),D=(0,i.Z)(P,2),C=D[0],R=D[1],k=(0,j.b6)(),q=(0,i.Z)(k,1)[0],F=(0,j.wf)(),w=(0,i.Z)(F,1)[0],M=(0,m.$G)().t,O=(0,c.useState)(!1),H=(0,i.Z)(O,2),U=H[0],V=H[1],J=(0,x.I0)(),L=(0,c.useState)({msg:"",run:!1}),B=(0,i.Z)(L,2),G=B[0],$=B[1];c.useEffect((function(){null!==o&&void 0!==o&&o.length||null!==u&&void 0!==u&&u.length?E(!0):E(!1)}),[o,u]);var z=function(){V((function(e){return!e}))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:"1.5rem"},children:[(0,g.jsx)("div",{className:l.Z.buttons,children:(0,g.jsx)("div",{className:l.Z.save,onClick:z,children:M("export_zip_attendance")})}),(0,g.jsx)("div",{className:l.Z.buttons,children:0!==d?A&&!_&&(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{className:l.Z.save,onClick:function(){R((function(e){return!e}));var e=t.split("-"),i=e[0]>9?e[0]:"0".concat(e[0]),c=e[1]>9?e[1]:"0".concat(e[1]);if(null!==a&&void 0!==a&&a._id)J(f.R.updateClassAttendance({clsId:N,ldate:"".concat(i,"/").concat(c,"/").concat(e[2]),presentStudent:null!==o&&void 0!==o&&o.length?o:[],absentStudent:null!==u&&void 0!==u&&u.length?u:[],alreadyMark:null===a||void 0===a?void 0:a._id})),w({said:null===a||void 0===a?void 0:a._id,attendanceUpdate:{date:"".concat(i,"/").concat(c,"/").concat(e[2]),present:null!==o&&void 0!==o&&o.length?o:[],absent:null!==u&&void 0!==u&&u.length?u:[]}}).then((function(){S(!0),r(0),R((function(e){return!e})),v([]),p([])})).catch({});else{var l=[];null===n||void 0===n||n.map((function(e){return l.push(e._id)}));var d=[],m=[];if(null!==o&&void 0!==o&&o.length){var j,h=(0,s.Z)(l);try{for(h.s();!(j=h.n()).done;){var b=j.value;null!==o&&void 0!==o&&o.includes(b)||m.push(b),1}}catch(_){h.e(_)}finally{h.f()}}else{var x,Z=(0,s.Z)(l);try{for(Z.s();!(x=Z.n()).done;){var g=x.value;null!==u&&void 0!==u&&u.includes(g)||d.push(g),1}}catch(_){Z.e(_)}finally{Z.f()}}q({cid:N,attendance:{date:"".concat(i,"/").concat(c,"/").concat(e[2]),present:null!==o&&void 0!==o&&o.length?o:d,absent:null!==u&&void 0!==u&&u.length?u:m}}).then((function(t){var a,n;"Today will be holiday Provided by department Admin or already marked attendance"===(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)?$({msg:"Today will be holiday Provided by department Admin or already marked attendance",run:!0}):J(f.R.addClassAttendance({clsId:N,ldate:"".concat(i,"/").concat(c,"/").concat(e[2]),presentStudent:null!==o&&void 0!==o&&o.length?o:d,absentStudent:null!==u&&void 0!==u&&u.length?u:m,alreadyMark:null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.alreadyMark}));r(0),R((function(e){return!e})),v([]),p([])})).catch({})}},children:M("save")})}):""})]}),C&&(0,g.jsx)(h.Z,{}),U&&(0,g.jsx)(b.Z,{cid:N,onClose:z,className:y}),G.run&&(0,g.jsx)(Z.Ch,{msg:G.msg,run:G.run,setRun:function(){return $({msg:"",run:!1})},postiton:"bottom",type:"error"})]})};var N=function(e){var t,a,h,b,f,Z,N,_,y,S,T,I,A,E,P=e.cid,D=e.isDepartment,C=e.className,R=(0,d.Z)(),k=R.calendarData,q=R.selectedDate,F=R.todayFormatted,w=R.switchMonth,M=R.monthNames,O=R.getNextMonth,H=R.getPrevMonth,U=(0,c.useState)(F),V=(0,i.Z)(U,2),J=V[0],L=V[1],B=J.split("-"),G=B[0]>9?B[0]:"0".concat(B[0]),$=B[1]>9?B[1]:"0".concat(B[1]),z=(0,m.$G)().t,Y=(0,x.v9)((function(e){return e.attendanceStore.classTeacher})),Q=(0,c.useState)(""),W=(0,i.Z)(Q,2),K=W[0],X=W[1],ee=(0,c.useState)(!1),te=(0,i.Z)(ee,2),ae=te[0],ne=te[1],se=(0,j.EY)({data:{cid:P,page:1,limit:30},skip:!P}),ie=se.classAllStudent,ce=se.classAllStudentRefetch,le=(0,j.Px)({data:{cid:P,date:"".concat(G,"/").concat($,"/").concat(B[2])},skip:!P}),de=le.classStudentCurrentAttendance,re=le.classStudentCurrentAttendanceRefetch;(0,c.useEffect)((function(){if((null===Y||void 0===Y?void 0:Y.length)>0){var e,t=J.split("-"),a=t[0]>9?t[0]:"0".concat(t[0]),n=t[1]>9?t[1]:"0".concat(t[1]),i="",c=(0,s.Z)(Y);try{for(c.s();!(e=c.n()).done;){var l=e.value;if((null===l||void 0===l?void 0:l.ldate)==="".concat(a,"/").concat(n,"/").concat(t[2])){if((null===l||void 0===l?void 0:l.clsId)===P){i=l;break}ne(!1)}else ne(!1)}}catch(d){c.e(d)}finally{c.f()}X(i)}}),[Y,J,P,ae]),(0,c.useEffect)((function(){P&&(ce(),re())}),[P,re,ce]);var oe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ue=Math.floor(k.map((function(e){return e.date})).indexOf(J)/10),ve=(0,c.useState)(ue),me=(0,i.Z)(ve,2),je=me[0],he=me[1],be=10*je,xe=Math.ceil(k.length/10),fe=k.slice(be,be+10).map((function(e,t){return(0,g.jsxs)("div",{className:e.date===J?"".concat(l.Z.date," ").concat(l.Z.clickedDate):l.Z.date,onClick:function(){return L(e.date)},children:[(0,g.jsx)("h6",{children:e.date.split("-")[0]}),(0,g.jsx)("p",{children:oe[e.day]})]},t)})),Ze=(0,c.useState)(1),ge=(0,i.Z)(Ze,2),pe=ge[0],Ne=ge[1],_e=(0,c.useState)([]),ye=(0,i.Z)(_e,2),Se=ye[0],Te=ye[1],Ie=(0,c.useState)([]),Ae=(0,i.Z)(Ie,2),Ee=Ae[0],Pe=Ae[1],De=c.useState([]),Ce=(0,i.Z)(De,2),Re=Ce[0],ke=Ce[1],qe=c.useState([]),Fe=(0,i.Z)(qe,2),we=Fe[0],Me=Fe[1],Oe=(0,c.useState)(!1),He=(0,i.Z)(Oe,2),Ue=He[0],Ve=He[1];c.useEffect((function(){var e,t;Te(null===ie||void 0===ie||null===(e=ie.classes)||void 0===e?void 0:e.ApproveStudent),Pe(null===ie||void 0===ie||null===(t=ie.classes)||void 0===t?void 0:t.ApproveStudent)}),[null===ie||void 0===ie||null===(t=ie.classes)||void 0===t?void 0:t.ApproveStudent]),c.useEffect((function(){ke([]),Me([])}),[pe]);var Je=function(e){var t=(0,n.Z)(Re);if(null!==t&&void 0!==t&&t.includes(e)){var a=t.indexOf(e);t.splice(a,1),ke((function(){return(0,n.Z)(t)}))}else ke((function(t){return[].concat((0,n.Z)(t),[e])}))},Le=function(e){var t=(0,n.Z)(we);if(null!==t&&void 0!==t&&t.includes(e)){var a=t.indexOf(e);t.splice(a,1),Me((function(){return(0,n.Z)(t)}))}else Me((function(t){return[].concat((0,n.Z)(t),[e])}))};return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:l.Z.attendence,style:{border:D?"none":"0.5px solid #cacaca"},children:[(0,g.jsxs)("div",{className:l.Z.attendencehead,children:[(0,g.jsxs)("div",{className:l.Z.attendenceBtns,children:[(0,g.jsxs)("div",{className:l.Z.changemonth,onClick:function(){return Ve(!Ue)},children:[(0,g.jsxs)("h6",{children:[M[q.getMonth()]," ",q.getFullYear()]}),(0,g.jsx)("img",{alt:"not found",src:"/images/dropdown-icon.svg"}),Ue&&(0,g.jsx)("div",{className:l.Z.selectMonthList,children:["January","February","March","April","May","June","July","August","September","October","November","December"].map((function(e,t){return(0,g.jsx)("div",{className:l.Z.month,onClick:function(){w(t),Ve(!1)},children:e},t)}))})]}),(0,g.jsx)(p,{alreadyMark:K?{_id:null===K||void 0===K?void 0:K.alreadyMark}:null===de||void 0===de||null===(a=de.classes)||void 0===a||null===(h=a.attendenceDate)||void 0===h?void 0:h[0],today:J,allIdsArray:null===ie||void 0===ie||null===(b=ie.classes)||void 0===b?void 0:b.ApproveStudent,classStudentCurrentAttendanceRefetch:re,clickedIndex:pe,setClickedIndex:Ne,idPresentArray:Re,idAbsentArray:we,setIdPresentArray:ke,setIdAbsentArray:Me,cid:P,isDepartment:D,className:C,setIsRefetch:ne})]}),(0,g.jsxs)("div",{className:l.Z.calender,children:[(0,g.jsx)("div",{className:l.Z.arrowbtn,onClick:function(){je>0?he((function(e){return e-1})):(he(xe-1),H())},children:(0,g.jsx)("img",{alt:"not found",src:"/images/members/left-icon.svg"})}),(0,g.jsx)("div",{className:l.Z.dates,children:fe}),(0,g.jsx)("div",{className:l.Z.arrowbtn,onClick:function(){je+1<xe?he((function(e){return e+1})):(he(0),O())},children:(0,g.jsx)("img",{alt:"not found",src:"/images/members/right-icon.svg"})})]})]}),(0,g.jsx)(r.Z,{}),(0,g.jsxs)("div",{className:l.Z.tabs,children:[(0,g.jsxs)("div",{className:0===pe?"".concat(l.Z.tab," ").concat(l.Z.purple):"".concat(l.Z.tab," ").concat(l.Z.grey),onClick:function(){return Ne(0)},children:[z("total")," ",null===ie||void 0===ie||null===(f=ie.classes)||void 0===f||null===(Z=f.ApproveStudent)||void 0===Z?void 0:Z.length]}),(0,g.jsxs)("div",{className:1===pe?"".concat(l.Z.tab," ").concat(l.Z.tabgreen):"".concat(l.Z.tab," ").concat(l.Z.light),onClick:function(){return Ne(1)},children:[z("present")," ",K?null!==(N=null===K||void 0===K?void 0:K.presentCount)&&void 0!==N?N:0:null===de||void 0===de||null===(_=de.classes)||void 0===_||null===(y=_.attendenceDate[0])||void 0===y?void 0:y.presentTotal]}),(0,g.jsxs)("div",{className:2===pe?"".concat(l.Z.tab," ").concat(l.Z.red):"".concat(l.Z.tab," ").concat(l.Z.rose),onClick:function(){return Ne(2)},children:[z("absent")," ",K?null!==(S=null===K||void 0===K?void 0:K.absentCount)&&void 0!==S?S:0:null===de||void 0===de||null===(T=de.classes)||void 0===T||null===(I=T.attendenceDate[0])||void 0===I?void 0:I.absentTotal]})]}),(0,g.jsxs)("div",{className:l.Z.list,children:[0===pe&&(null===ie||void 0===ie||null===(A=ie.classes)||void 0===A||null===(E=A.ApproveStudent)||void 0===E?void 0:E.map((function(e,t){var a,n,s,i,c,d,r,u;return K?null!==K&&void 0!==K&&null!==(a=K.presentStudent)&&void 0!==a&&a.includes(e._id)?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(o.Z,{student:e,status:"present"},t),(0,g.jsx)("div",{className:l.Z.divider})]}):null!==K&&void 0!==K&&null!==(n=K.absentStudent)&&void 0!==n&&n.includes(e._id)?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(o.Z,{student:e,status:"absent"},t),(0,g.jsx)("div",{className:l.Z.divider})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(o.Z,{student:e,status:"initial"},t),(0,g.jsx)("div",{className:l.Z.divider})]}):null!==de&&void 0!==de&&null!==(s=de.classes)&&void 0!==s&&null!==(i=s.attendenceDate[0])&&void 0!==i&&null!==(c=i.presentStudent)&&void 0!==c&&c.includes(e._id)?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(o.Z,{student:e,status:"present"},t),(0,g.jsx)("div",{className:l.Z.divider})]}):null!==de&&void 0!==de&&null!==(d=de.classes)&&void 0!==d&&null!==(r=d.attendenceDate[0])&&void 0!==r&&null!==(u=r.absentStudent)&&void 0!==u&&u.includes(e._id)?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(o.Z,{student:e,status:"absent"},t),(0,g.jsx)("div",{className:l.Z.divider})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(o.Z,{student:e,status:"initial"},t),(0,g.jsx)("div",{className:l.Z.divider})]})}))),1===pe&&(null===Se||void 0===Se?void 0:Se.length)>0&&(null===Se||void 0===Se?void 0:Se.map((function(e,t){var a,n,s,i;return K?null!==K&&void 0!==K&&null!==(a=K.presentStudent)&&void 0!==a&&a.includes(e._id)?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.Z,{student:e,status:"present",presentTabHandler:Je},t),(0,g.jsx)("div",{className:l.Z.divider})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.Z,{student:e,presentTabHandler:Je,status:"absent"},t),(0,g.jsx)("div",{className:l.Z.divider})]}):null!==de&&void 0!==de&&null!==(n=de.classes)&&void 0!==n&&null!==(s=n.attendenceDate[0])&&void 0!==s&&null!==(i=s.presentStudent)&&void 0!==i&&i.includes(e._id)?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.Z,{student:e,status:"present",presentTabHandler:Je},t),(0,g.jsx)("div",{className:l.Z.divider})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.Z,{student:e,presentTabHandler:Je,status:"absent"},t),(0,g.jsx)("div",{className:l.Z.divider})]})}))),2===pe&&(null===Ee||void 0===Ee?void 0:Ee.length)>0&&(null===Ee||void 0===Ee?void 0:Ee.map((function(e,t){var a,n,s,i;return K?null!==K&&void 0!==K&&null!==(a=K.absentStudent)&&void 0!==a&&a.includes(e._id)?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(v.Z,{student:e,status:"absent",absentTabHandler:Le},t),(0,g.jsx)("div",{className:l.Z.divider})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(v.Z,{student:e,status:"present",absentTabHandler:Le},t),(0,g.jsx)("div",{className:l.Z.divider})]}):null!==de&&void 0!==de&&null!==(n=de.classes)&&void 0!==n&&null!==(s=n.attendenceDate[0])&&void 0!==s&&null!==(i=s.absentStudent)&&void 0!==i&&i.includes(e._id)?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(v.Z,{student:e,status:"absent",absentTabHandler:Le},t),(0,g.jsx)("div",{className:l.Z.divider})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(v.Z,{student:e,status:"present",absentTabHandler:Le},t),(0,g.jsx)("div",{className:l.Z.divider})]})})))]})]})})}},76452:function(e,t,a){a.d(t,{Z:function(){return T}});var n=a(29439),s=(a(72791),a(16871)),i=a(43504),c=a(39230),l=a(22984),d=a(80184);var r=function(e){var t,a,n,r=e.carryParentState,o=(0,c.$G)().t,u=(0,s.TH)(),v=(0,s.UO)();return(0,d.jsx)("div",{className:l.Z.mcqTop,style:{padding:"0"},children:(0,d.jsxs)("div",{className:l.Z.mcqToptabs,children:[(0,d.jsx)(i.rU,{to:"/q/".concat(v.username,"/member/department/").concat(v.deptname,"?a=class-detail"),state:r,className:"class-detail"===(null===(t=u.search)||void 0===t?void 0:t.substring(3))?"".concat(l.Z.mcqTopItem," ").concat(l.Z.active):l.Z.mcqTopItem,children:(0,d.jsx)("div",{children:o("students")})}),(0,d.jsx)(i.rU,{to:"/q/".concat(v.username,"/member/department/").concat(v.deptname,"?a=class-attendance"),state:r,className:"class-attendance"===(null===(a=u.search)||void 0===a?void 0:a.substring(3))?"".concat(l.Z.mcqTopItem," ").concat(l.Z.active):l.Z.mcqTopItem,children:(0,d.jsx)("div",{children:o("attendance")})}),(0,d.jsx)(i.rU,{to:"/q/".concat(v.username,"/member/department/").concat(v.deptname,"?a=class-subject"),state:r,className:"class-subject"===(null===(n=u.search)||void 0===n?void 0:n.substring(3))?"".concat(l.Z.mcqTopItem," ").concat(l.Z.active):l.Z.mcqTopItem,children:(0,d.jsx)("div",{children:o("subjects")})})]})})},o=a(33148),u=a(23664),v=a(65408),m=a(60943),j=a(893),h=a(8148),b=a(11806),x=a(60726),f=function(e){var t=e.carryParentState,a=e.isDepartment,n=(0,c.$G)().t;return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:b.Z.MiddleContentLeft,style:{border:"none"},children:"CLASS_TEACHER"===a?(0,d.jsxs)("div",{className:b.Z.item,style:{paddingLeft:"2vw"},children:[(0,d.jsx)(x.Z,{carryParentState:t,activeTab:"subject-catalog",children:(0,d.jsxs)("div",{className:b.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/class/class-catalog-icon.svg",alt:"Class Catalog"}),(0,d.jsx)("p",{children:n("catalog")})]})}),(0,d.jsx)(x.Z,{carryParentState:t,activeTab:"subject-attendance",children:(0,d.jsxs)("div",{className:b.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/class/class-attendance-icon.svg",alt:"attendence"}),(0,d.jsxs)("p",{children:[" ",n("attendance")," "]})]})}),(0,d.jsx)(x.Z,{carryParentState:t,activeTab:"subject-assignment",children:(0,d.jsxs)("div",{className:b.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/subject/subject-assignment-icon.svg",alt:"assignment"}),(0,d.jsx)("p",{children:n("assigmnent")})]})}),(0,d.jsx)(x.Z,{carryParentState:t,activeTab:"subject-exam",children:(0,d.jsxs)("div",{className:b.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/department/department-examination-icon.svg",alt:"attendence"}),(0,d.jsx)("p",{children:n("examinations")})]})}),(0,d.jsx)(x.Z,{carryParentState:t,activeTab:"subject-academic",children:(0,d.jsxs)("div",{className:b.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/subject/subject-daily-update-icon.svg",alt:"student Request"}),(0,d.jsx)("p",{style:{textAlign:"center"},children:n("academics_teachings")})]})})]}):(0,d.jsxs)("div",{className:b.Z.item,style:{paddingLeft:"2vw"},children:[(0,d.jsx)(h.Z,{carryParentState:t,activeTab:"subject-catalog",children:(0,d.jsxs)("div",{className:b.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/class/class-catalog-icon.svg",alt:"Class Catalog"}),(0,d.jsx)("p",{children:n("catalog")})]})}),(0,d.jsx)(h.Z,{carryParentState:t,activeTab:"subject-attendance",children:(0,d.jsxs)("div",{className:b.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/class/class-attendance-icon.svg",alt:"attendence"}),(0,d.jsxs)("p",{children:[" ",n("attendance")," "]})]})}),(0,d.jsx)(h.Z,{carryParentState:t,activeTab:"subject-assignment",children:(0,d.jsxs)("div",{className:b.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/subject/subject-assignment-icon.svg",alt:"assignment"}),(0,d.jsx)("p",{children:n("assigmnent")})]})}),(0,d.jsx)(h.Z,{carryParentState:t,activeTab:"subject-exam",children:(0,d.jsxs)("div",{className:b.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/department/department-examination-icon.svg",alt:"attendence"}),(0,d.jsx)("p",{children:n("examinations")})]})}),(0,d.jsx)(h.Z,{carryParentState:t,activeTab:"subject-academic",children:(0,d.jsxs)("div",{className:b.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/subject/subject-daily-update-icon.svg",alt:"student Request"}),(0,d.jsx)("p",{style:{textAlign:"center"},children:n("academics_teachings")})]})})]})})})},Z=a(54693),g=a(11457),p=a(73453),N=a(60463),_=a(46480),y=a(6763),S=a(61587),T=function(e){var t,a,l,h,b,x,T,I,A,E,P,D,C,R,k,q,F,w,M,O,H,U,V,J,L,B,G=e.carryParentState,$=e.viewAs,z=e.did,Y=e.instituteId,Q=(0,c.$G)().t,W=(0,s.TH)(),K=(0,i.lr)(),X=(0,n.Z)(K,1)[0];return(0,d.jsx)(d.Fragment,{children:"subject-academic-detail"===X.get("a")?(0,d.jsx)(_.Z,{}):"assignment-detail"===X.get("a")?(0,d.jsx)(y.Z,{isDepartment:$,carryParentState:G}):"assignment-student-detail"===X.get("a")?(0,d.jsx)(S.Z,{isDepartment:$}):(0,d.jsx)("div",{className:o.Z.departmenthead,children:(0,d.jsxs)("div",{className:o.Z.demaprtment_list,children:[(0,d.jsx)("div",{className:o.Z.with_search,style:{marginBottom:"0.7rem",alignItems:"flex-start",flexDirection:"column"},children:"subject"===(null===(t=X.get("a"))||void 0===t?void 0:t.substring(0,7))?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("h6",{children:[Q("subject_name")," : ",null!==(a=null===(l=W.state)||void 0===l?void 0:l.subjectName)&&void 0!==a?a:""]}),(0,d.jsxs)("h6",{children:[Q("subject_teacher")," : ",null!==(h=null===(b=W.state)||void 0===b?void 0:b.subjectTeacherName)&&void 0!==h?h:""]})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("h6",{children:[Q("class_name")," : ",null!==(x=null===(T=W.state)||void 0===T?void 0:T.clsName)&&void 0!==x?x:""]}),(0,d.jsxs)("h6",{children:[Q("class_teacher")," : ",null!==(I=null===(A=W.state)||void 0===A?void 0:A.teacherName)&&void 0!==I?I:""]})]})}),"subject-detail"===X.get("a")?(0,d.jsx)(f,{carryParentState:G,isDepartment:$}):"subject-catalog"===X.get("a")?(0,d.jsx)(m.Z,{cid:null===(E=W.state)||void 0===E?void 0:E.clsId,bid:null===(P=W.state)||void 0===P?void 0:P.batchId,isDepartment:$,sid:null===(D=W.state)||void 0===D?void 0:D.subjectId}):"subject-attendance"===X.get("a")?(0,d.jsx)(Z.Z,{sid:null===(C=W.state)||void 0===C?void 0:C.subjectId,bid:null===(R=W.state)||void 0===R?void 0:R.batchId,isDepartment:$,subjectName:null!==(k=null===(q=W.state)||void 0===q?void 0:q.subjectName)&&void 0!==k?k:""}):"subject-assignment"===X.get("a")?(0,d.jsx)(g.Z,{sid:null===(F=W.state)||void 0===F?void 0:F.subjectId,cid:null===(w=W.state)||void 0===w?void 0:w.clsId,carryParentState:G,bid:null===(M=W.state)||void 0===M?void 0:M.batchId,isDepartment:$}):"subject-exam"===X.get("a")?(0,d.jsx)(p.Z,{sid:null===(O=W.state)||void 0===O?void 0:O.subjectId,cid:null===(H=W.state)||void 0===H?void 0:H.clsId,isDepartment:$}):"subject-academic"===X.get("a")?(0,d.jsx)(N.Z,{sid:null===(U=W.state)||void 0===U?void 0:U.subjectId,carryParentState:G,isDepartment:$}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r,{carryParentState:G}),"class-detail"===X.get("a")&&(0,d.jsx)(u.Z,{cid:W.state.clsId,openAs:"SUBJECT_TEACHER",isDepartment:!0}),"class-subject"===X.get("a")&&(0,d.jsx)(v.Z,{carryParentState:G,clsId:null===(V=W.state)||void 0===V?void 0:V.clsId,isView:"DEPARTMENT_HEAD",instituteId:Y,did:z}),"class-attendance"===X.get("a")&&(0,d.jsx)(j.Z,{cid:null===(J=W.state)||void 0===J?void 0:J.clsId,isDepartment:!0,className:null!==(L=null===(B=W.state)||void 0===B?void 0:B.clsName)&&void 0!==L?L:""})]})]})})})}},60463:function(e,t,a){a.d(t,{Z:function(){return N}});var n=a(1413),s=a(29439),i=a(72791),c=a(83401),l=a(39230),d=a(98094),r=a(93433),o=a(99532),u=a(23441),v=a(65543),m=a(40444),j=a(34219),h=a(11105),b=a(80184),x=function(e){var t,a=e.sid,n=e.reftechStatus,c=e.setReftechStatus,l=e.isDepartment,d=(0,i.useState)(!0),x=(0,s.Z)(d,2),f=x[0],Z=x[1],g=(0,i.useState)(1),p=(0,s.Z)(g,2),N=p[0],_=p[1],y=(0,u.YD)(),S=(0,s.Z)(y,2),T=S[0],I=S[1],A=(0,i.useState)([]),E=(0,s.Z)(A,2),P=E[0],D=E[1],C=(0,i.useState)(!0),R=(0,s.Z)(C,2),k=R[0],q=R[1],F=(0,v.u)().scrollToTop,w=(0,m.RX)({data:{sid:a,page:n?1:N,limit:10},skip:!a}),M=w.getAllDailySubject,O=w.getAllDailySubjectRefetch;(0,i.useEffect)((function(){n&&(_((function(e){return 1})),c(!1),O())}),[n]),(0,i.useEffect)((function(){a&&(q(!0),O())}),[a,N,O]),(0,i.useEffect)((function(){F()}),[F]),(0,i.useEffect)((function(){I&&f&&_((function(e){return e+1}))}),[I,f]),(0,i.useEffect)((function(){var e,t;null!==M&&void 0!==M&&M.dailyUpdate?(D(1===N?null===M||void 0===M?void 0:M.dailyUpdate:function(e){return(0,r.Z)(new Set([].concat((0,r.Z)(e),(0,r.Z)(null===M||void 0===M?void 0:M.dailyUpdate)).map(JSON.stringify))).map(JSON.parse)}),q(!1)):0===(null===M||void 0===M||null===(e=M.dailyUpdate)||void 0===e?void 0:e.length)&&q(!1),10===(null===M||void 0===M||null===(t=M.dailyUpdate)||void 0===t?void 0:t.length)?Z(!0):Z(!1)}),[null===M||void 0===M?void 0:M.dailyUpdate]);var H=function(){_((function(e){return 1})),q(!0),O()};return(0,b.jsxs)(b.Fragment,{children:[null===P||void 0===P?void 0:P.map((function(e,t){return(null===P||void 0===P?void 0:P.length)===t+1?(0,b.jsx)("div",{ref:T,children:(0,b.jsx)(o.Z,{daily:e,sid:a,onParentRefetch:H,isView:l?"STUDENT":""})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(o.Z,{daily:e,sid:a,onParentRefetch:H,isView:l?"STUDENT":""},null===e||void 0===e?void 0:e._id)})),!k&&!(null!==M&&void 0!==M&&null!==(t=M.dailyUpdate)&&void 0!==t&&t.length)&&(0,b.jsx)(j.Z,{customStyleContainer:{marginTop:"9rem"},title:"No academics found yet."}),k&&(0,b.jsx)(h.Z,{status:"white"})]})},f=a(10515),Z=a(4213),g=a(16871),p=a(43504),N=function(e){var t=e.sid,a=e.carryParentState,r=e.isDepartment,o=(0,l.$G)().t,u=(0,g.UO)(),v=(0,i.useState)(!1),m=(0,s.Z)(v,2),j=m[0],h=m[1],N=(0,i.useState)(!1),_=(0,s.Z)(N,2),y=_[0],S=_[1],T=(0,i.useState)(!1),I=(0,s.Z)(T,2),A=I[0],E=I[1],P=function(){h((function(e){return!e}))};return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:c.Z.subject_academic_container,children:[(0,b.jsxs)("div",{className:c.Z.subject_academic_title,children:[(0,b.jsx)("h6",{children:o("academics_teachings")}),(0,b.jsx)("div",{className:c.Z.subject_academic_link,children:"CLASS_TEACHER"===r?(0,b.jsx)(p.rU,{to:"/q/".concat(u.username,"/member/class/").concat(u.cname,"?a=subject-academic-detail"),state:(0,n.Z)((0,n.Z)({},a),{},{subjectId:t,isView:"DEPARTMENT_HEAD"}),children:(0,b.jsx)("h6",{className:c.Z.add_record_lecture,style:{margin:"0"},children:o("view_academic_detail")})}):"DEPARTMENT_HEAD"===r?(0,b.jsx)(p.rU,{to:"/q/".concat(u.username,"/member/department/").concat(u.deptname,"?a=subject-academic-detail"),state:(0,n.Z)((0,n.Z)({},a),{},{subjectId:t,isView:"DEPARTMENT_HEAD"}),children:(0,b.jsx)("h6",{className:c.Z.add_record_lecture,style:{margin:"0"},children:o("view_academic_detail")})}):(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(p.rU,{to:"/q/".concat(u.username,"/member/subject/").concat(u.sname,"?a=subject-academic"),state:(0,n.Z)((0,n.Z)({},a),{},{subjectId:t,isView:r?"DEPARTMENT_HEAD":"SUBJECT_TEACHER",isSubType:"SUBJECT_TEACHER_INSTITUTE"}),children:(0,b.jsx)("h6",{className:c.Z.add_record_lecture,style:{margin:"0"},children:o("view_academic_detail")})})})})]}),(0,b.jsx)(d.Z,{customStyle:{width:"100%",marginTop:"0.7rem",marginBottom:"0.7rem"}}),r?null:(0,b.jsx)("div",{className:c.Z.record_lecture,children:(0,b.jsx)("h6",{className:c.Z.add_record_lecture,onClick:P,children:o("record_lecture_teachings")})}),j&&(0,b.jsx)(f.Z,{onClose:P,sid:t,onRefetch:function(){E(!0)}}),y&&(0,b.jsx)(Z.Z,{onClose:function(){S((function(e){return!e}))},sid:t}),(0,b.jsx)(x,{sid:t,reftechStatus:A,setReftechStatus:E,isDepartment:r})]})})}},22984:function(e,t){t.Z={studentMCQ:"Tabs_studentMCQ__JqqjO",mcqToptabs:"Tabs_mcqToptabs__YfEJB",mcqTop:"Tabs_mcqTop__eI5Gu",mcqTopItem:"Tabs_mcqTopItem__KkV+Q",active:"Tabs_active__j6mN9"}}}]);
//# sourceMappingURL=6452.defd3233.chunk.js.map