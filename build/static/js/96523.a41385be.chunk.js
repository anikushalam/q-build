"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[96523],{96523:(e,t,l)=>{l.r(t),l.d(t,{default:()=>ee});var i=l(16871),n=l(43504),s=l(63687),a=l(90904),d=l(98967),o=l(63162),c=l(21348),r=l(56959),u=l(39230),v=l(98684),m=l(93638),h=l(72791),_=l(43317),f=l(55336),p=l(11468),x=l(38857),g=l(8202),j=l(95240),S=l(4007),N=l(38986),b=l(84959),y=l(99183),I=l(80184);const A=e=>{let{onClose:t,aid:l,fid:n,instituteId:s}=e;const{t:d}=(0,u.$G)(),o=(0,i.TH)(),r=(0,i.UO)(),A=(0,i.s0)(),[Z,C]=(0,h.useState)(1),[F,k]=(0,h.useState)(!1),[O,w]=(0,h.useState)(""),[L,T]=(0,h.useState)({alarm_mode:"APP_NOTIFICATION",content:"",m_title:"",m_doc:""}),[M,D]=(0,h.useState)(""),[E,P]=(0,h.useState)([]),[U,G]=(0,h.useState)([]),[q,B]=(0,h.useState)({depart:"",batch:"",master:"",batch_status:"",all_depart:""}),[z]=(0,b.FL)(),[K]=(0,_.zi)(),[V]=(0,_.v2)();return(0,I.jsxs)(I.Fragment,{children:[1===Z?(0,I.jsx)(g.Z,{applyFilter:q,setApplyFilter:B,onClose:t,fid:n,onActionEventFire:()=>{var e,t,i,n,s,a,d,o;l&&(k((e=>!e)),K({aid:l,pendingData:{depart:null!==(e=null===q||void 0===q||null===(t=q.depart)||void 0===t?void 0:t._id)&&void 0!==e?e:"",batch:null!==(i=null===q||void 0===q||null===(n=q.batch)||void 0===n?void 0:n._id)&&void 0!==i?i:"",master:null!==q&&void 0!==q&&null!==(s=q.master)&&void 0!==s&&s._id?[null===q||void 0===q||null===(a=q.master)||void 0===a?void 0:a._id]:[],batch_status:null!==(d=null===q||void 0===q?void 0:q.batch_status)&&void 0!==d?d:"",all_depart:null!==(o=null===q||void 0===q?void 0:q.all_depart)&&void 0!==o?o:""}}).then((e=>{var t;P(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.all_student),k((e=>!e)),C(2)})).catch({}))},instituteId:s}):2===Z?(0,I.jsx)(j.Z,{alreadySelected:U,studentList:E,onAction:e=>{G(e),C("")},onClose:()=>C(1)}):(0,I.jsx)(x.Z,{children:(0,I.jsxs)("div",{className:S.Z.modal_container,children:[(0,I.jsx)(c.default,{children:(0,I.jsxs)("div",{className:S.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:S.Z.modal_container_header,children:(0,I.jsx)("h6",{children:d("Notify_about_Outstanding_Dues")})}),(0,I.jsx)("img",{src:"".concat(v.J7,"/close.svg"),alt:"close icon",onClick:()=>C(2)})]})}),(0,I.jsx)(a.Z,{}),(0,I.jsxs)(c.default,{customStyle:{paddingTop:"0"},children:[(0,I.jsxs)("section",{className:S.Z.notify_container,onClick:()=>T((e=>({...e,alarm_mode:"APP_NOTIFICATION"}))),children:[(0,I.jsx)("img",{src:"APP_NOTIFICATION"===L.alarm_mode?"".concat(v.Fk,"/radio-blue.svg"):"".concat(v.Fk,"/radio-grey.svg"),alt:"icon"}),(0,I.jsxs)("div",{className:S.Z.notify_text,children:[(0,I.jsx)("h6",{children:d("Notify_with_In_app_Notification")}),(0,I.jsx)("p",{children:d("Notify_with_In_app_Notification_note")})]})]}),(0,I.jsxs)("section",{className:S.Z.notify_container,onClick:()=>T((e=>({...e,alarm_mode:"EMAIL_NOTIFICATION"}))),children:[(0,I.jsx)("img",{src:"EMAIL_NOTIFICATION"===L.alarm_mode?"".concat(v.Fk,"/radio-blue.svg"):"".concat(v.Fk,"/radio-grey.svg"),alt:"icon"}),(0,I.jsxs)("div",{className:S.Z.notify_text,children:[(0,I.jsx)("h6",{children:d("Notify_On_Email_and_SMS")}),(0,I.jsx)("p",{children:d("Notify_On_Email_and_SMS_note")})]})]}),"EMAIL_NOTIFICATION"===L.alarm_mode&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(p.Z,{label:d("title_label"),placeholder:d("title_label_placeholder"),name:"m_title",value:L.m_title,type:"text",onChange:e=>T((t=>({...t,m_title:e.target.value}))),errorShow:O.m_title}),(0,I.jsx)(p.Z,{label:d("email_content"),placeholder:d("email_content_placeholder"),name:"content",value:L.content,type:"text",onChange:e=>T((t=>({...t,content:e.target.value})))}),(0,I.jsx)(N.Z,{label:d("document"),name:"document",value:M,onChange:e=>{if(e.target.files[0]){k((e=>!e));const t=new FormData;t.append("file",e.target.files[0]),z({fileUpload:t}).then((t=>{var l,i,n;D({name:null===(l=e.target.files[0])||void 0===l?void 0:l.name,key:null===(i=t.data)||void 0===i?void 0:i.imageKey,type:null===(n=e.target.files[0])||void 0===n?void 0:n.type}),T((e=>{var l;return{...e,m_doc:null===(l=t.data)||void 0===l?void 0:l.imageKey}})),k((e=>!e))})).catch({})}}})]}),(0,I.jsx)(m.Z,{label:"confirm",onAction:()=>{let e=(0,y.l)(L,["content","m_doc"]);var i,n,s,a,d,c,u,v,m,h;(0,y.x)(e)?l&&L.alarm_mode&&(null===U||void 0===U?void 0:U.length)>0&&(k((e=>!e)),V({aid:l,alarm_mode:L.alarm_mode,reminderData:{all_arr:U,depart:null!==(i=null===q||void 0===q||null===(n=q.depart)||void 0===n?void 0:n._id)&&void 0!==i?i:"",batch:null!==(s=null===q||void 0===q||null===(a=q.batch)||void 0===a?void 0:a._id)&&void 0!==s?s:"",master:null!==q&&void 0!==q&&null!==(d=q.master)&&void 0!==d&&d._id?[null===q||void 0===q||null===(c=q.master)||void 0===c?void 0:c._id]:[],batch_status:null!==(u=null===q||void 0===q?void 0:q.batch_status)&&void 0!==u?u:"",all_depart:null!==(v=null===q||void 0===q?void 0:q.all_depart)&&void 0!==v?v:"",title:null!==(m=L.m_title)&&void 0!==m?m:"",doc:null!==(h=L.m_doc)&&void 0!==h?h:null,content:L.content}}).then((()=>{var e;k((e=>!e)),t();let l="Institute"===(null===(e=o.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(r.username,"/institute/member/finance?type=reminder-message"):"/q/".concat(r.username,"/member/staff/finance?type=reminder-message");A(l,{state:o.state})})).catch({})):w(e)}})]})]})}),F&&(0,I.jsx)(f.default,{})]})};var Z=l(21625),C=l(44226),F=l(6758),k=l(16925),O=l(60924),w=l(43997),L=l(94748),T=l(93339);const M=e=>{var t;let{instituteId:l,onSelect:i,errorShow:n,defalutValue:s,isDenied:a,customStyleContainer:d}=e;const{t:o}=(0,u.$G)(),{instituteAllUniversalBatch:c}=(0,T.DL)({data:{id:l,page:1,limit:1e3,search:""},skip:!l});return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(L.Z,{selectLabel:o("select_universal_batch"),selectedValue:o("select_universal_batch_placeholder"),options:(null===c||void 0===c||null===(t=c.list)||void 0===t?void 0:t.length)>0?null===c||void 0===c?void 0:c.list:[],onClick:i,isFull:!0,errorShow:n,defalutValue:s,isDenied:a,customStyleContainer:d})})};var D=l(49806),E=l(23441),P=l(91427),U=l(57588);const G=e=>{var t,l;let{cls:i,selectedId:n,onSelect:s,selectList:a,isMultiSelect:d,onMultiSelect:o}=e;return(0,I.jsx)(I.Fragment,{children:d?(0,I.jsxs)("div",{className:D.Z.assign_show_list_each,onClick:()=>{o(i)},style:{border:"0.5px solid #cacaca",marginBlock:"0.4rem",borderRadius:"6px",padding:"0.8rem 1rem"},children:[null!==a&&void 0!==a&&a.includes(null===i||void 0===i?void 0:i._id)?(0,I.jsx)("img",{src:"".concat(v.U_,"/check.svg"),alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,I.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"".concat(v.U_,"/uncheck.svg"),alt:"icon"}),(0,I.jsx)("div",{className:D.Z.assign_each_paragraph,children:(0,I.jsx)("h6",{children:null!==(t=null===i||void 0===i?void 0:i.dName)&&void 0!==t?t:""})})]}):(0,I.jsx)("div",{className:D.Z.assign_show_list_each,style:n===(null===i||void 0===i?void 0:i._id)?{backgroundColor:"rgba(75, 26, 133, 0.1)",border:"0.5px solid #cacaca",marginBlock:"0.4rem",borderRadius:"6px",padding:"0.8rem 1rem"}:{border:"0.5px solid #cacaca",marginBlock:"0.4rem",borderRadius:"6px",padding:"0.8rem 1rem"},onClick:()=>{s(i)},children:(0,I.jsx)("div",{className:D.Z.assign_each_paragraph,children:(0,I.jsx)("h6",{children:null!==(l=null===i||void 0===i?void 0:i.dName)&&void 0!==l?l:""})})})})};var q=l(1669),B=l(2651);const z=e=>{var t,l,i,n;let{title:s,onClose:d,selectedId:o,onSelectStaff:r,batchId:_,isMultiSelect:p,onMultiSelect:g,selectList:j,onDone:S,whichType:N}=e;const{t:b}=(0,u.$G)(),[y,A]=(0,h.useState)(""),[Z,C]=(0,h.useState)(1),[F,k]=(0,h.useState)(!0),[O,w]=(0,E.YD)({skip:y}),{universalBatchDepartmentList:L,universalBatchDepartmentListLoading:M}=(0,T.FZ)({data:{bid:_,page:Z,limit:10,search:y,which_type:null!==N&&void 0!==N?N:""},skip:!_});(0,h.useEffect)((()=>{w&&F&&C((e=>e+1))}),[w,F]),(0,h.useEffect)((()=>{var e;if(null!==L&&void 0!==L&&null!==(e=L.list)&&void 0!==e&&e.length){var t;let e=(0,P.f)(null===L||void 0===L||null===(t=L.list)||void 0===t?void 0:t.length);k((()=>e))}}),[null===L||void 0===L||null===(t=L.list)||void 0===t?void 0:t.length]);const z=(0,h.useCallback)((0,U.J)((e=>{C((()=>1)),A(e)}),1500),[]),K=e=>{o===(null===e||void 0===e?void 0:e._id)||r(e)};return(0,I.jsx)(x.Z,{onClose:d,children:(0,I.jsxs)("div",{className:D.Z.modal_container,children:[(0,I.jsx)(c.default,{children:(0,I.jsxs)("div",{className:D.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:D.Z.modal_container_header,children:(0,I.jsx)("h6",{children:b(null!==s&&void 0!==s?s:"department_list")})}),(0,I.jsxs)("div",{className:D.Z.modal_container_btn_container,children:[p&&(0,I.jsx)(m.Z,{label:b("select"),count:null===j||void 0===j?void 0:j.length,onAction:S,customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,I.jsx)("img",{src:"".concat(v.J7,"/close.svg"),alt:"close icon",onClick:d})]})]})}),(0,I.jsx)(a.Z,{}),(0,I.jsxs)(c.default,{customStyle:{paddingBottom:"1rem"},children:[(0,I.jsxs)("div",{className:D.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,I.jsx)("input",{type:"text",placeholder:b("search"),className:D.Z.assign_search_input,onChange:e=>{e.target.value?z(e.target.value):(C((()=>1)),A(""))},style:{width:"100%"}}),(0,I.jsx)("img",{src:"".concat(v.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===L||void 0===L||null===(l=L.list)||void 0===l?void 0:l.map(((e,t)=>{var l;return(null===L||void 0===L||null===(l=L.list)||void 0===l?void 0:l.length)===t+1?(0,I.jsx)("div",{ref:O,children:(0,I.jsx)(G,{cls:e,selectedId:o,onSelect:K,selectList:j,isMultiSelect:p,onMultiSelect:g})},null===e||void 0===e?void 0:e._id):(0,I.jsx)(G,{cls:e,selectedId:o,onSelect:K,selectList:j,isMultiSelect:p,onMultiSelect:g},null===e||void 0===e?void 0:e._id)})),M?y?(0,I.jsx)(f.default,{}):(0,I.jsx)(q.Z,{}):y?0===(null===L||void 0===L||null===(i=L.list)||void 0===i?void 0:i.length)&&(0,I.jsx)(B.Z,{title:"No department found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===L||void 0===L||null===(n=L.list)||void 0===n?void 0:n.length)&&(0,I.jsx)(B.Z,{title:"No department.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})};var K=l(17502);const V=e=>{var t,l,n,s,d,o;let{onClose:r,fid:_,instituteId:p}=e;const{t:g}=(0,u.$G)(),j=(0,i.UO)(),S=(0,i.s0)(),N=(0,i.TH)(),[b,A]=(0,h.useState)({from:"",to:"",batch:"",bank:"",department:[]}),[Z,C]=(0,h.useState)(!1),[L,T]=(0,h.useState)(""),[D,E]=(0,h.useState)(""),[P]=(0,F.rw)(),U=(e,t)=>{A((l=>({...l,[t]:(0,w.O_)(e)})))},G=()=>{E("")};return(0,I.jsx)(I.Fragment,{children:1===D?(0,I.jsx)(z,{title:g("select_department"),onClose:G,selectList:b.department,batchId:null===(t=b.batch)||void 0===t?void 0:t._id,isMultiSelect:!0,onMultiSelect:e=>{var t;null!==(t=b.department)&&void 0!==t&&t.includes(null===e||void 0===e?void 0:e._id)?A((t=>{var l;return{...t,department:null===(l=t.department)||void 0===l?void 0:l.filter((t=>t!==(null===e||void 0===e?void 0:e._id)))}})):A((t=>({...t,department:[...t.department,null===e||void 0===e?void 0:e._id]})))},onDone:G}):(0,I.jsx)(x.Z,{onClose:r,children:(0,I.jsxs)("div",{className:k.Z.modal_container,children:[(0,I.jsx)(c.default,{children:(0,I.jsxs)("div",{className:k.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:k.Z.modal_container_header,children:(0,I.jsx)("h6",{children:g("admission_fee_register_export")})}),(0,I.jsx)("img",{src:"".concat(v.J7,"/close.svg"),alt:"close icon",onClick:r})]})}),(0,I.jsx)(a.Z,{}),(0,I.jsxs)(c.default,{customStyle:{paddingTop:"0"},children:[(0,I.jsx)(O.Z,{label:g("from"),placeholder:g("please_select_from_date"),name:"from",value:b.from?(0,w.jh)(b.from):"",onChange:e=>U(e,"from"),errorShow:L.from}),(0,I.jsx)(O.Z,{label:g("to_only"),placeholder:g("please_select_to_date"),name:"to",value:b.to?(0,w.jh)(b.to):"",onChange:e=>U(e,"to"),errorShow:L.to}),(0,I.jsx)(K.Z,{fid:_,onSelect:e=>{A((t=>({...t,bank:e})))},viewAs:"NORMAL_FILTER",defalutValue:null!==(l=null===b||void 0===b||null===(n=b.bank)||void 0===n?void 0:n.finance_bank_account_name)&&void 0!==l?l:"",customListStyle:{position:"absolute",width:"100%",zIndex:"13",top:"5.4rem"}}),(0,I.jsx)(M,{onSelect:e=>{A((t=>({...t,batch:e})))},instituteId:p,errorShow:L.batch,defalutValue:null===b||void 0===b||null===(s=b.batch)||void 0===s?void 0:s.batchName}),(0,I.jsx)(m.Z,{label:(null===(d=b.department)||void 0===d?void 0:d.length)>0?"selected_department":"select_department",onAction:()=>E(1),customStyle:{width:"fit-content"},count:null===(o=b.department)||void 0===o?void 0:o.length}),(0,I.jsx)(m.Z,{label:"export",onAction:()=>{var e;let t=(0,y.l)(b,["bank","department"]);var l,i,n;(0,y.x)(t)&&_&&(null===(e=b.department)||void 0===e?void 0:e.length)>0?(C((e=>!e)),P({fid:_,bank:null!==(l=null===b||void 0===b||null===(i=b.bank)||void 0===i?void 0:i._id)&&void 0!==l?l:"",from:b.from,to:b.to,bodyParameter:{batch:null===(n=b.batch)||void 0===n?void 0:n._id,depart:b.department}}).then((()=>{var e;C((e=>!e));let t="Institute"===(null===(e=N.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(j.username,"/institute/member/finance?type=export"):"/q/".concat(j.username,"/member/staff/finance?type=export");S(t,{state:N.state}),r()})).catch({})):T(t)}})]}),Z&&(0,I.jsx)(f.default,{})]})})})},R=e=>{let{aid:t,fid:l,instituteId:s}=e;const{t:_}=(0,u.$G)(),[p]=(0,n.lr)(),x=(0,i.TH)(),g=(0,i.UO)(),j=(0,i.s0)(),[S,N]=(0,h.useState)(!1),[b,y]=(0,h.useState)(!1),[k,O]=(0,h.useState)(""),[w]=(0,Z.FL)(),[L]=(0,F.mP)(),T=(0,h.useCallback)((()=>{var e;let t="Institute"===(null===(e=x.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(g.username,"/institute/member/finance?type=admission-statistics"):"/q/".concat(g.username,"/member/staff/finance?type=admission-statistics");j(t,{state:x.state})}),[j,g,x.state]),M=()=>{N((e=>!e))};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(c.default,{children:(0,I.jsxs)("div",{className:r.Z.fm_header_container,children:[(0,I.jsx)("h6",{children:_("pending_fees")}),(0,I.jsxs)("div",{className:r.Z.fm_search,children:[(0,I.jsx)("img",{src:"".concat(v.J7,"/history.svg"),alt:"history icon",onClick:()=>{var e;let t="Institute"===(null===(e=x.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(g.username,"/institute/member/finance?type=reminder-message"):"/q/".concat(g.username,"/member/staff/finance?type=reminder-message");j(t,{state:x.state})}}),(0,I.jsx)(C.Z,{onExcelFileUpload:e=>{if(e.target.files[0]){y((e=>!e));const t=new FormData;t.append("file",e.target.files[0]),w({fileUpload:t}).then((e=>{var t,i;null!==(t=e.data)&&void 0!==t&&t.imageKey?L({fid:l,excelFile:{excel_file:null===(i=e.data)||void 0===i?void 0:i.imageKey}}).then((()=>{y((e=>!e))})).catch({}):y((e=>!e))})).catch({})}},title:"Fees Category Mapping"}),(0,I.jsx)(m.Z,{label:"admission_fee_register",customStyle:{margin:"0",padding:"0.4rem 1rem",width:"fit-content"},onAction:()=>O(1)}),(0,I.jsx)(m.Z,{label:"outstanding_reminder",customStyle:{margin:"0",padding:"0.4rem 1rem",width:"fit-content"},onAction:M}),(0,I.jsx)(m.Z,{label:"fees_statitics",onAction:T,customStyle:{width:"fit-content",margin:"0",padding:"0.4rem 1rem"}})]})]})}),(0,I.jsx)(a.Z,{}),(0,I.jsx)(d.Z,{children:$.map((e=>{var t,l;return(0,I.jsx)(o.Z,{tab:e,isLink:!0,isActive:null===(t=e.groupIs)||void 0===t?void 0:t.includes(p.get("n")),parentState:x.state,url:"Institute"===(null===(l=x.state)||void 0===l?void 0:l.urlOffSet)?"/q/".concat(g.username,"/institute/member/finance?type=admission-fee").concat(e.urlKey):"/q/".concat(g.username,"/member/staff/finance?type=admission-fee").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,I.jsx)(a.Z,{customStyleBorder:{marginTop:"0"}}),S&&(0,I.jsx)(A,{onClose:M,aid:t,fid:l,instituteId:s}),b&&(0,I.jsx)(f.default,{}),1===k?(0,I.jsx)(V,{fid:l,instituteId:s,onClose:()=>{O("")}}):null]})},$=[{label:"all_students",id:"student",urlKey:"",groupIs:["",null]},{label:"os_fees",id:"outstanding",urlKey:"&n=outstanding",groupIs:["outstanding"]},{label:"applicable_os",id:"applicable",urlKey:"&n=applicable",groupIs:["applicable"]}];var H=l(85303),Y=l(16483),J=l(1095);const W=e=>{var t,l,n,s,a;let{student:d,is_applicable:o,instituteId:c,isCashierAccess:r}=e;const{t:m}=(0,u.$G)(),h=(0,i.TH)(),_=(0,i.UO)(),f=(0,i.s0)();return(0,I.jsxs)("div",{className:Y.Z.apf_container,onClick:()=>{var e;f("/q/".concat(_.username,"/member/student/admission/profile"),{state:{sid:null===d||void 0===d?void 0:d._id,viewAs:"ADMISSION_ADMIN",collectAccess:"ADMISSION_ADMIN",govtAccess:"Other",cancelAccess:!1,editStructureControl:"authorized",editGovtNumberContorl:"authorized",editInstallmentControl:"authorized",editGovtInstallmentControl:"authorized",isSearchEnable:"authorized",instituteId:c,isCashierAccess:r,collectStaffId:null===h||void 0===h||null===(e=h.state)||void 0===e?void 0:e.sid}})},title:"View Profile",children:[(0,I.jsxs)("div",{className:Y.Z.apf_container_inner,children:[(0,I.jsx)("img",{alt:"Student Avatar",src:null!==d&&void 0!==d&&d.studentProfilePhoto?"".concat(J.yI,"/").concat(null===d||void 0===d?void 0:d.studentProfilePhoto):"".concat(v.p3,"/feed-user-avatar.svg"),loading:"lazy"}),(0,I.jsxs)("div",{className:Y.Z.apfci_text,children:[(0,I.jsx)("h6",{children:"".concat(null!==(t=d.studentFirstName)&&void 0!==t?t:""," ").concat(d.studentMiddleName?d.studentMiddleName:""," ").concat(null!==(l=d.studentLastName)&&void 0!==l?l:"")}),(0,I.jsxs)("p",{children:[m("gr_no"),null!==(n=null===d||void 0===d?void 0:d.studentGRNO)&&void 0!==n?n:"",null!==d&&void 0!==d&&null!==(s=d.department)&&void 0!==s&&s.dName?", ".concat(null===d||void 0===d||null===(a=d.department)||void 0===a?void 0:a.dName):""]})]})]}),(0,I.jsxs)("div",{className:Y.Z.apfci_text,children:[o?(0,I.jsxs)("h6",{children:[m("rs_only")," ",null===d||void 0===d?void 0:d.applicable_fees_pending]}):(0,I.jsxs)("h6",{children:[m("rs_only")," ",null===d||void 0===d?void 0:d.admissionRemainFeeCount]}),(0,I.jsx)("p",{children:m("pending_fees")})]})]})},Q=e=>{var t,l,n;let{aid:s,instituteId:a,isCashierAccess:d}=e;const{t:o}=(0,u.$G)(),c=(0,i.TH)(),p=(0,i.UO)(),x=(0,i.s0)(),[g,j]=(0,h.useState)(""),[S,N]=(0,h.useState)(""),[b,y]=(0,h.useState)(1),[A,Z]=(0,h.useState)(!0),[C,k]=(0,E.YD)({skip:g}),[O,w]=(0,h.useState)(!1),[L]=(0,F.MD)(),{admissionPendingFees:T,admissionPendingFeesLoading:M}=(0,_.VZ)({data:{aid:s,page:b,limit:10,search:g,flow:"All_Pending_Fees_Query"},skip:!s});(0,h.useEffect)((()=>{k&&A&&y((e=>e+1))}),[k,A]),(0,h.useEffect)((()=>{var e;if(null!==T&&void 0!==T&&null!==(e=T.list)&&void 0!==e&&e.length){var t;let e=(0,P.f)(null===T||void 0===T||null===(t=T.list)||void 0===t?void 0:t.length);Z((()=>e))}}),[null===T||void 0===T?void 0:T.list]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:r.Z.fm_search_full,style:{marginBottom:"0.7rem"},children:[(0,I.jsx)("section",{className:r.Z.fm_search_full_container,children:(0,I.jsxs)("div",{className:r.Z.fm_search_full_container_inner,children:[(0,I.jsx)("img",{className:r.Z.fm_search_full_icon,alt:"search icon",src:"".concat(v.dB,"/navbar-search.svg")}),(0,I.jsx)("input",{type:"text",placeholder:o("search"),onChange:e=>{var t;!M&&(null===T||void 0===T||null===(t=T.list)||void 0===t?void 0:t.length)>=0&&N(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(y((()=>1)),j(S))},value:S,name:"search"})]})}),(0,I.jsx)(m.Z,{label:"export",customStyle:{margin:"0",padding:"0.4rem 1rem",width:"fit-content"},onAction:()=>{s&&(w((e=>!e)),L({aid:s,flow:"APPLICABLE_OS"}).then((e=>{var t;let l="Institute"===(null===(t=c.state)||void 0===t?void 0:t.urlOffSet)?"/q/".concat(p.username,"/institute/member/finance?type=export"):"/q/".concat(p.username,"/member/staff/finance?type=export");x(l,{state:c.state})})).catch({}))}})]}),null===T||void 0===T||null===(t=T.list)||void 0===t?void 0:t.map(((e,t)=>{var l;return(null===T||void 0===T||null===(l=T.list)||void 0===l?void 0:l.length)===t+1?(0,I.jsx)("div",{ref:C,children:(0,I.jsx)(W,{student:e,instituteId:a,isCashierAccess:d})},null===e||void 0===e?void 0:e._id):(0,I.jsx)(W,{student:e,instituteId:a,isCashierAccess:d},null===e||void 0===e?void 0:e._id)})),M?g?(0,I.jsx)(f.default,{}):(0,I.jsx)(q.Z,{}):g?0===(null===T||void 0===T||null===(l=T.list)||void 0===l?void 0:l.length)&&(0,I.jsx)(B.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No student found related this search."}):0===(null===T||void 0===T||null===(n=T.list)||void 0===n?void 0:n.length)&&(0,I.jsx)(B.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No student found."}),O&&(0,I.jsx)(f.default,{})]})},X=e=>{var t,l,n;let{aid:s,instituteId:a,isCashierAccess:d}=e;const{t:o}=(0,u.$G)(),c=(0,i.TH)(),p=(0,i.UO)(),x=(0,i.s0)(),[g,j]=(0,h.useState)(""),[S,N]=(0,h.useState)(""),[b,y]=(0,h.useState)(1),[A,Z]=(0,h.useState)(!0),[C,k]=(0,E.YD)({skip:g}),[O,w]=(0,h.useState)(!1),[L]=(0,F.MD)(),{admissionPendingFees:T,admissionPendingFeesLoading:M}=(0,_.VZ)({data:{aid:s,page:b,limit:10,search:g,flow:"Applicable_Fees_Query"},skip:!s});(0,h.useEffect)((()=>{k&&A&&y((e=>e+1))}),[k,A]),(0,h.useEffect)((()=>{var e;if(null!==T&&void 0!==T&&null!==(e=T.list)&&void 0!==e&&e.length){var t;let e=(0,P.f)(null===T||void 0===T||null===(t=T.list)||void 0===t?void 0:t.length);Z((()=>e))}}),[null===T||void 0===T?void 0:T.list]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:r.Z.fm_search_full,style:{marginBottom:"0.7rem"},children:[(0,I.jsx)("section",{className:r.Z.fm_search_full_container,children:(0,I.jsxs)("div",{className:r.Z.fm_search_full_container_inner,children:[(0,I.jsx)("img",{className:r.Z.fm_search_full_icon,alt:"search icon",src:"".concat(v.dB,"/navbar-search.svg")}),(0,I.jsx)("input",{type:"text",placeholder:o("search"),onChange:e=>{var t;!M&&(null===T||void 0===T||null===(t=T.list)||void 0===t?void 0:t.length)>=0&&N(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(y((()=>1)),j(S))},value:S})]})}),(0,I.jsx)(m.Z,{label:"export",customStyle:{margin:"0",padding:"0.4rem 1rem",width:"fit-content"},onAction:()=>{s&&(w((e=>!e)),L({aid:s,flow:"TOTAL_OS"}).then((()=>{var e;let t="Institute"===(null===(e=c.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(p.username,"/institute/member/finance?type=export"):"/q/".concat(p.username,"/member/staff/finance?type=export");x(t,{state:c.state})})).catch({}))}})]}),null===T||void 0===T||null===(t=T.list)||void 0===t?void 0:t.map(((e,t)=>{var l;return(null===T||void 0===T||null===(l=T.list)||void 0===l?void 0:l.length)===t+1?(0,I.jsx)("div",{ref:C,children:(0,I.jsx)(W,{student:e,is_applicable:!0,instituteId:a,isCashierAccess:d})},null===e||void 0===e?void 0:e._id):(0,I.jsx)(W,{student:e,is_applicable:!0,instituteId:a,isCashierAccess:d},null===e||void 0===e?void 0:e._id)})),M?g?(0,I.jsx)(f.default,{}):(0,I.jsx)(q.Z,{}):g?0===(null===T||void 0===T||null===(l=T.list)||void 0===l?void 0:l.length)&&(0,I.jsx)(B.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No student found related this search."}):0===(null===T||void 0===T||null===(n=T.list)||void 0===n?void 0:n.length)&&(0,I.jsx)(B.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No student found."}),O&&(0,I.jsx)(f.default,{})]})},ee=e=>{var t,l,a,d;let{instituteId:o,studentAlias:r,aid:u,fid:v,cashAuthority:m}=e;const h=(0,i.TH)(),[_]=(0,n.lr)();return(0,I.jsxs)(s.default,{children:[(0,I.jsx)(R,{aid:u,fid:v,instituteId:o}),_.get("n")?"outstanding"===_.get("n")?(0,I.jsx)(c.default,{children:(0,I.jsx)(Q,{aid:u,instituteId:o,isCashierAccess:null!==m&&void 0!==m&&m.includes(null===h||void 0===h||null===(a=h.state)||void 0===a?void 0:a.sid)?"ALLOW":"DENY"})}):"applicable"===_.get("n")?(0,I.jsx)(c.default,{children:(0,I.jsx)(X,{aid:u,instituteId:o,isCashierAccess:null!==m&&void 0!==m&&m.includes(null===h||void 0===h||null===(d=h.state)||void 0===d?void 0:d.sid)?"ALLOW":"DENY"})}):null:(0,I.jsx)(H.default,{instituteId:o,studentAlias:r,invalidateAccess:"unAuthorized",allStudentControl:te,whichFlow:"ADMISSION",otherData:{aid:u,isCashierAccess:null!==m&&void 0!==m&&m.includes(null===h||void 0===h||null===(t=h.state)||void 0===t?void 0:t.sid)?"ALLOW":"DENY",collectStaffId:null===h||void 0===h||null===(l=h.state)||void 0===l?void 0:l.sid}})]})},te={collectAccess:"ADMISSION_ADMIN",govtAccess:"Other",cancelAccess:!1,editStructureControl:"authorized",editGovtNumberContorl:"authorized",editInstallmentControl:"authorized",editGovtInstallmentControl:"authorized",isSearchEnable:"authorized"}},17502:(e,t,l)=>{l.d(t,{Z:()=>r});var i=l(6758),n=l(72791),s=l(39230),a=l(52245),d=l(98684),o=l(80184);const c=e=>{let{selectLabel:t,onClick:l,selectedValue:i,options:c,customStyleContainer:r,customLabelStyle:u,customListStyle:v,errorShow:m,defalutValue:h,viewAs:_,isFull:f}=e;const{t:p}=(0,s.$G)(),[x,g]=(0,n.useState)(!1),[j,S]=(0,n.useState)(""),N=()=>{g((e=>!e))};(0,n.useEffect)((()=>{"NORMAL_FILTER"===_&&S(h)}),[_,h]),(0,n.useEffect)((()=>{if("CUSTOM_FILTER"===_){let i="";for(let n of c)for(let s of h)if((null===n||void 0===n?void 0:n._id)===s){var e,t,l;let s=null!==(e=null!==(t=null!==(l=null===n||void 0===n?void 0:n.dName)&&void 0!==l?l:null===n||void 0===n?void 0:n.batchName)&&void 0!==t?t:null===n||void 0===n?void 0:n.className)&&void 0!==e?e:"";i=i?i+", "+s:s}S(i)}}),[_,h,c]);return(0,o.jsxs)("div",{className:a.Z.form_input_container,style:{...r},children:[(0,o.jsxs)("p",{className:a.Z.join_form_select_paragraph,style:{...u},children:[t,m&&(0,o.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",p("form_require_label")]})]}),(0,o.jsxs)("section",{className:a.Z.join_form_select_custom,onClick:N,children:[j?(0,o.jsx)("p",{className:a.Z.join_form_select_custom_paragraph,children:null!==j&&void 0!==j?j:""}):(0,o.jsx)("p",{className:a.Z.join_form_select_custom_paragraph,children:i}),x?(0,o.jsx)("img",{className:a.Z.join_form_select_custom_rotate_icon,src:"".concat(d.J7,"/down.svg"),alt:"categor icon"}):(0,o.jsx)("img",{className:a.Z.join_form_select_custom_icon,src:"".concat(d.J7,"/down.svg"),alt:"categor icon"})]}),x&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("section",{className:a.Z.join_form_select_custom_list,style:v,children:null===c||void 0===c?void 0:c.map(((e,t)=>{var i;return(0,o.jsx)("p",{onClick:()=>(e=>{var t;l(f?e:null===e||void 0===e?void 0:e._id),N(),S(null!==(t=null===e||void 0===e?void 0:e.finance_bank_account_name)&&void 0!==t?t:e)})(e),className:a.Z.join_form_select_custom_paragraph_option,children:null!==(i=null===e||void 0===e?void 0:e.finance_bank_account_name)&&void 0!==i?i:e},t)}))})})]})},r=e=>{var t;let{fid:l,onSelect:n,errorShow:a,viewAs:d,defalutValue:r,customStyleContainer:u,customListStyle:v}=e;const{t:m}=(0,s.$G)(),{financeAllBank:h}=(0,i.iB)({data:{fid:l,page:1,limit:1e3,search:""},skip:!l});return(0,o.jsx)(c,{selectLabel:m("bank_account"),selectedValue:m("bank_account_placeholder"),options:(null===h||void 0===h||null===(t=h.list)||void 0===t?void 0:t.length)>0?[...null===h||void 0===h?void 0:h.list]:[],onClick:n,isFull:!0,errorShow:a,defalutValue:r,viewAs:d,customStyleContainer:u,customListStyle:v})}},85303:(e,t,l)=>{l.r(t),l.d(t,{default:()=>L});var i=l(63687),n=l(21348),s=l(72791),a=l(39230),d=l(23441),o=l(56959),c=l(90904),r=l(98684),u=l(91427),v=l(6758);const m="FinanceAllStudent_student_table__Y3uXE",h="FinanceAllStudent_student_table_header__4fuiU",_="FinanceAllStudent_student_table_header_label__4x6eY",f="FinanceAllStudent_student_table_content_card__3KWaE",p="FinanceAllStudent_student_table_profile__QUIFN",x="FinanceAllStudent_student_table_header_name__x4ZNJ",g="FinanceAllStudent_student_table_header_label_text__lny-H",j="FinanceAllStudent_student_table_contact__f4eB5",S="FinanceAllStudent_student_table_contact_email__dV19L",N="FinanceAllStudent_student_table_contact_number__r7HNK";var b=l(80184);const y=e=>{let{studentAlias:t}=e;const{t:l}=(0,a.$G)();return(0,b.jsx)("div",{className:m,children:(0,b.jsxs)("div",{className:h,children:[(0,b.jsx)("p",{className:_,style:{flex:"1"},children:null!==t&&void 0!==t?t:l("gr_no")}),(0,b.jsx)("p",{className:_,style:{flex:"3"},children:l("name")}),(0,b.jsx)("p",{className:_,style:{flex:"2"},children:l("contact_number")}),(0,b.jsx)("p",{className:_,style:{flex:"1"},children:l("applicable_outs")}),(0,b.jsx)("p",{className:_,style:{flex:"0.7"},children:l("govt_oustanding")})]})})};var I=l(1095),A=l(16871),Z=l(43504);const C=e=>{var t,l,i,n,s,a,d,o,u,v;let{student:m,messageId:h,headId:y,instituteId:C,allStudentControl:F,otherData:k}=e;const O=(0,A.UO)(),w=(0,A.TH)();return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(Z.rU,{to:"/q/".concat(O.username,"/member/student/admission/profile"),state:{...w.state,sid:null===m||void 0===m?void 0:m._id,messageId:h,headId:y,instituteId:C,collectAccess:null===F||void 0===F?void 0:F.collectAccess,govtAccess:null===F||void 0===F?void 0:F.govtAccess,cancelAccess:null===F||void 0===F?void 0:F.cancelAccess,editStructureControl:null===F||void 0===F?void 0:F.editStructureControl,editGovtNumberContorl:null===F||void 0===F?void 0:F.editGovtNumberContorl,editInstallmentControl:null===F||void 0===F?void 0:F.editInstallmentControl,editGovtInstallmentControl:null===F||void 0===F?void 0:F.editGovtInstallmentControl,viewAs:"Institute"===(null===(t=w.state)||void 0===t?void 0:t.urlOffSet)?"INSTITUTE":null,isCashierAccess:null===k||void 0===k?void 0:k.isCashierAccess,collectStaffId:null===k||void 0===k?void 0:k.collectStaffId},children:[(0,b.jsxs)("div",{className:f,style:{cursor:"pointer"},children:[(0,b.jsx)("p",{className:_,style:{flex:"1"},children:null!==(l=null===m||void 0===m?void 0:m.studentGRNO)&&void 0!==l?l:""}),(0,b.jsxs)("div",{className:p,style:{flex:"3"},children:[(0,b.jsx)("img",{src:null!==m&&void 0!==m&&m.studentProfilePhoto?"".concat(I.yI,"/").concat(null===m||void 0===m?void 0:m.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:x,children:["".concat(null!==(i=null===m||void 0===m?void 0:m.studentFirstName)&&void 0!==i?i:""," ").concat(null!==(n=null===m||void 0===m?void 0:m.studentMiddleName)&&void 0!==n?n:""," ").concat(null!==(s=null===m||void 0===m?void 0:m.studentLastName)&&void 0!==s?s:""),"100"===(null===m||void 0===m?void 0:m.profile_percentage)||100===(null===m||void 0===m?void 0:m.profile_percentage)?(0,b.jsx)("img",{src:"".concat(r.Fk,"/complete.svg"),loading:"lazy",alt:"avatar",style:{marginLeft:"0.6rem",height:"1rem"}}):null]}),(0,b.jsx)("p",{className:g,children:null!==(a=null===m||void 0===m||null===(d=m.studentClass)||void 0===d?void 0:d.classTitle)&&void 0!==a?a:""})]})]}),(0,b.jsxs)("div",{className:_,style:{flex:"2"},children:[(0,b.jsxs)("div",{className:j,children:[(0,b.jsx)("img",{src:"".concat(r.Fk,"/gender.svg"),alt:"gender icon"}),(0,b.jsx)("p",{className:S,children:null===m||void 0===m?void 0:m.studentGender})]}),(0,b.jsxs)("div",{className:j,style:{marginTop:"0.4rem"},children:[(0,b.jsx)("img",{src:"".concat(r.Fk,"/phone.svg"),alt:"phone icon"}),(0,b.jsx)("p",{className:N,children:null!==m&&void 0!==m&&m.user.userPhoneNumber?null===m||void 0===m?void 0:m.user.userPhoneNumber:null!==(o=null===m||void 0===m?void 0:m.user.userEmail)&&void 0!==o?o:""})]})]}),(0,b.jsx)("p",{className:_,style:{flex:"1",textAlign:"right"},children:null!==(u=null===m||void 0===m?void 0:m.applicable_fees_pending)&&void 0!==u?u:0}),(0,b.jsx)("p",{className:_,style:{flex:"0.7",textAlign:"right"},children:null!==(v=null===m||void 0===m?void 0:m.government_fees_pending)&&void 0!==v?v:0})]}),(0,b.jsx)(c.Z,{customStyleBorder:{margin:"0"}})]})})};var F=l(55336),k=l(1669),O=l(2651),w=l(93638);const L=e=>{var t,l,m;let{instituteId:h,studentAlias:_,headId:f,messageId:p,invalidateAccess:x,allStudentControl:g,whichFlow:j,otherData:S}=e;const{t:N}=(0,a.$G)(),I=(0,A.s0)(),Z=(0,A.TH)(),L=(0,A.UO)(),[M,D]=(0,s.useState)(""),[E,P]=(0,s.useState)(""),[U,G]=(0,s.useState)(1),[q,B]=(0,s.useState)(!0),[z,K]=(0,d.YD)({skip:M}),[V,R]=(0,s.useState)(!1),[$]=(0,v.WN)(),{instituteAllStudent:H,instituteAllStudentLoading:Y}=(0,v.Cp)({data:{id:h,page:U,limit:10,search:M},skip:!h});(0,s.useEffect)((()=>{K&&q&&G((e=>e+1))}),[K,q]),(0,s.useEffect)((()=>{if(null!==H&&void 0!==H&&H.list){var e;let t=(0,u.f)(null===H||void 0===H||null===(e=H.list)||void 0===e?void 0:e.length);B((()=>t))}}),[null===H||void 0===H?void 0:H.list]);const J=e=>{var t;!Y&&(null===H||void 0===H||null===(t=H.list)||void 0===t?void 0:t.length)>=0&&P(e.target.value)},W=e=>{"Enter"===e.key&&(G((()=>1)),D(E))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(i.default,{customStyle:{border:T[x]?"none":"0.5px solid #cacaca"},children:[T[x]?(0,b.jsx)(n.default,{children:(0,b.jsxs)("div",{className:o.Z.fm_search_full,children:[(0,b.jsx)("section",{className:o.Z.fm_search_full_container,children:(0,b.jsxs)("div",{className:o.Z.fm_search_full_container_inner,children:[(0,b.jsx)("img",{className:o.Z.fm_search_full_icon,alt:"search icon",src:"".concat(r.dB,"/navbar-search.svg")}),(0,b.jsx)("input",{type:"text",placeholder:N("search"),onChange:J,onKeyUp:W,value:E})]})}),"ADMISSION"===j?(0,b.jsx)(w.Z,{label:"export",customStyle:{margin:"0",padding:"0.4rem 1rem",width:"fit-content"},onAction:()=>{null!==S&&void 0!==S&&S.aid&&(R((e=>!e)),$({aid:null===S||void 0===S?void 0:S.aid}).then((e=>{var t;let l="Institute"===(null===(t=Z.state)||void 0===t?void 0:t.urlOffSet)?"/q/".concat(L.username,"/institute/member/finance?type=export"):"/q/".concat(L.username,"/member/staff/finance?type=export");I(l,{state:Z.state})})).catch({}))}}):null]})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.default,{children:(0,b.jsxs)("div",{className:o.Z.fm_header_container,children:[(0,b.jsx)("h6",{children:N("all_students")}),(0,b.jsx)("div",{className:o.Z.fm_both_filter,children:(0,b.jsx)("div",{className:o.Z.fm_search,children:(0,b.jsx)("section",{className:o.Z.fm_search_container,children:(0,b.jsxs)("div",{className:o.Z.fm_search_container_inner,children:[(0,b.jsx)("img",{className:o.Z.fm_search_icon,alt:"search icon",src:"".concat(r.dB,"/navbar-search.svg")}),(0,b.jsx)("input",{type:"text",placeholder:N("search"),onChange:J,style:{minWidth:"300px"},onKeyUp:W,value:E})]})})})})]})}),(0,b.jsx)(c.Z,{})]}),(0,b.jsx)(n.default,{children:(0,b.jsx)(y,{studentAlias:_})}),(0,b.jsx)(c.Z,{}),(0,b.jsxs)(n.default,{children:[null===H||void 0===H||null===(t=H.list)||void 0===t?void 0:t.map(((e,t)=>{var l;return(null===H||void 0===H||null===(l=H.list)||void 0===l?void 0:l.length)===t+1?(0,b.jsx)("div",{ref:z,children:(0,b.jsx)(C,{student:e,instituteId:h,messageId:p,headId:f,allStudentControl:g,otherData:S})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(C,{student:e,instituteId:h,messageId:p,headId:f,allStudentControl:g,otherData:S},null===e||void 0===e?void 0:e._id)})),Y?M?(0,b.jsx)(F.default,{}):(0,b.jsx)(b.Fragment,{children:1===U?(0,b.jsx)(F.default,{}):(0,b.jsx)(k.Z,{})}):M?0===(null===H||void 0===H||null===(l=H.list)||void 0===l?void 0:l.length)&&(0,b.jsx)(O.Z,{title:"No student found related this search."}):0===(null===H||void 0===H||null===(m=H.list)||void 0===m?void 0:m.length)&&(0,b.jsx)(O.Z,{title:"No students added in institute."})]})]}),V&&(0,b.jsx)(F.default,{})]})},T={unAuthorized:!0,govt:!0}},16483:(e,t,l)=>{l.d(t,{Z:()=>i});const i={document_card:"AdmissionManager_document_card__OWvp9",document_card_text:"AdmissionManager_document_card_text__aokEI",menu_icon:"AdmissionManager_menu_icon__n7SJY",apf_container:"AdmissionManager_apf_container__NmQ63",apf_container_inner:"AdmissionManager_apf_container_inner__tUadZ",apfci_text:"AdmissionManager_apfci_text__pDEev"}}}]);
//# sourceMappingURL=96523.a41385be.chunk.js.map