"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[37047],{33030:(e,n,l)=>{l.d(n,{Z:()=>o});var i=l(39230),s=l(80476),t=l(80184);const o=e=>{let{label:n,onAction:l,customStyle:o}=e;const{t:a}=(0,i.$G)();return(0,t.jsx)("div",{className:s.Z.btn_container,onClick:()=>{l()},style:o,children:a(n)})}},11468:(e,n,l)=>{l.d(n,{Z:()=>a});var i=l(39230),s=l(52245),t=l(80184);const o=e=>{var n;return e?null===e||void 0===e||null===(n=e.split("\n"))||void 0===n?void 0:n.length:2},a=e=>{let{label:n,name:l,type:a,value:d,onChange:r,placeholder:c,errorShow:_,disabled:u,customFormInputContainer:m,customFormInputLabel:v}=e;const{t:h}=(0,i.$G)();return(0,t.jsxs)("div",{className:s.Z.form_input_container,style:m,children:[n&&(0,t.jsxs)("label",{className:s.Z.form_input_label,htmlFor:l,style:v,children:[n,_&&(0,t.jsxs)("span",{className:s.Z.form_input_label_error,children:["* ",h("form_require_label")]})]}),(0,t.jsx)("textarea",{className:s.Z.form_textarea_input,type:a,value:d,onChange:r,name:l,placeholder:c,rows:o(d),disabled:u,style:{"--textarea-height":"".concat(20*o(d),"px")}})]})}},19056:(e,n,l)=>{l.d(n,{Z:()=>d});var i=l(72791),s=l(39230),t=l(52245),o=l(98684),a=l(80184);const d=e=>{let{selectLabel:n,onClick:l,selectedValue:d,options:r,customStyleContainer:c,customLabelStyle:_,customListStyle:u,errorShow:m,defalutValue:v,isDenied:h}=e;const{t:p}=(0,s.$G)(),[f,x]=(0,i.useState)(!1),[j,g]=(0,i.useState)(""),y=()=>{h||x((e=>!e))};(0,i.useEffect)((()=>{v&&g(v)}),[v]);return(0,a.jsxs)("div",{className:t.Z.form_input_container,style:{...c},children:[(0,a.jsxs)("p",{className:t.Z.join_form_select_paragraph,style:{..._},children:[n,m&&(0,a.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",p("form_require_label")]})]}),(0,a.jsxs)("section",{className:t.Z.join_form_select_custom,onClick:y,children:[j?(0,a.jsx)("p",{className:t.Z.join_form_select_custom_paragraph,children:null!==j&&void 0!==j?j:""}):(0,a.jsx)("p",{className:t.Z.join_form_select_custom_paragraph,children:d}),f?(0,a.jsx)("img",{className:t.Z.join_form_select_custom_rotate_icon,src:"".concat(o.J7,"/down.svg"),alt:"categor icon"}):(0,a.jsx)("img",{className:t.Z.join_form_select_custom_icon,src:"".concat(o.J7,"/down.svg"),alt:"categor icon"})]}),(0,a.jsx)("section",{children:f&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("section",{className:t.Z.join_form_select_custom_list,style:u,children:null===r||void 0===r?void 0:r.map(((e,n)=>(0,a.jsx)("p",{onClick:()=>{return l(n=e),y(),void g(n);var n},className:t.Z.join_form_select_custom_paragraph_option,children:e},n)))})})})]})}},50518:(e,n,l)=>{l.d(n,{Z:()=>o});var i=l(19056),s=l(52245),t=l(80184);const o=e=>{let{paymentHeading:n,selectLabel:l,onClick:o,selectedValue:d,customStyleContainer:r,customLabelStyle:c,customListStyle:_,errorShow:u,defalutValue:m,isAuthority:v,isDenied:h}=e;return(0,t.jsxs)(t.Fragment,{children:[n&&(0,t.jsx)("h6",{className:s.Z.payment_mode_heading,children:n}),(0,t.jsx)(i.Z,{selectLabel:l,onClick:o,selectedValue:d,options:a[v],customStyleContainer:r,customLabelStyle:c,customListStyle:_,errorShow:u,defalutValue:m,isDenied:h})]})};let a={admissionCollectMode:["Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft"],admissionStudentProfileCollectMode:["Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft","Unrecovered/Exemption"],depositRefundMode:["By Bank","By Cash"]}},37047:(e,n,l)=>{l.d(n,{Z:()=>xe});var i=l(16871),s=l(78981),t=l(60307),o=l(21348),a=l(1669),d=l(2651),r=l(72791),c=l(98684),_=l(39230),u=l(48293),m=l(16925),v=l(90904),h=l(93638),p=l(55336),f=l(61055),x=l(99183),j=l(85794),g=l(80184);const y=e=>{let{onClose:n,setScholarNumber:l,scholarNumber:i,rcid:s}=e;const{t:a}=(0,_.$G)(),[d,y]=(0,r.useState)(!1),[b,Z]=(0,r.useState)(null!==i&&void 0!==i?i:""),[S,C]=(0,r.useState)(!1),[N,k]=(0,r.useState)({open:!1,msg:"",variant:"error"}),[A]=(0,t.Fi)(),[F]=(0,t.YK)();(0,r.useEffect)((()=>{i&&Z(i)}),[i]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.Z,{children:(0,g.jsxs)("div",{className:m.Z.modal_container,children:[(0,g.jsx)(o.Z,{children:(0,g.jsxs)("div",{className:m.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:m.Z.modal_container_header,children:(0,g.jsx)("h6",{children:a("scholarship_application_no")})}),(0,g.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,g.jsx)(v.Z,{}),(0,g.jsxs)(o.Z,{customStyle:{paddingTop:"0"},children:[(0,g.jsx)(f.Z,{placeholder:a("scholarship_application_no_placeholder"),name:"scholar",value:b,type:"text",onChange:e=>Z(e.target.value),errorShow:S.query}),(0,g.jsx)(h.Z,{label:"update",onAction:()=>{let e=(0,x.l)({query:b},[]);(0,x.x)(e)?(y((e=>!e)),F({num:b}).then((e=>{var i;null!==(i=e.data)&&void 0!==i&&i.count?(k({msg:"This scholarship number already added",open:!0,variant:"error"}),y((e=>!e))):A({rcid:s,scholarData:{scholar_ship_number:b}}).then((()=>{l(b),y((e=>!e)),n()})).catch({})})).catch({})):C(e)}})]})]})}),d&&(0,g.jsx)(p.Z,{}),(0,g.jsx)(j.Z,{eventState:N,eventStateHandler:k})]})},b=e=>{let{scholarNumber:n,rcid:l}=e;const{t:t}=(0,_.$G)(),o=(0,i.TH)(),[a,d]=(0,r.useState)(""),[c,u]=(0,r.useState)(null!==n&&void 0!==n?n:"");(0,r.useEffect)((()=>{n&&u(n)}),[n]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:s.Z.student_admission_count_container,onClick:()=>{var e;Z[null===(e=o.state)||void 0===e?void 0:e.editGovtNumberContorl]&&d(1)},children:(0,g.jsx)("button",{className:s.Z.add_scholar_number_btn,children:c?(0,g.jsxs)(g.Fragment,{children:[t("edit_scholarship_application_no"),(0,g.jsx)("span",{style:{color:"#121212"},children:c})]}):t("add_scholarship_application_no_if_applicable")})}),1===a?(0,g.jsx)(y,{onClose:()=>{d("")},scholarNumber:c,setScholarNumber:u,rcid:l}):null]})},Z={authorized:!0};var S=l(60924),C=l(43997),N=l(50518);const k=e=>{var n;let{onClose:l,admission:i}=e;const{t:s}=(0,_.$G)(),[a,d]=(0,r.useState)(!1),[j,y]=(0,r.useState)({amount:"",mode:"Online",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),[b,Z]=(0,r.useState)(""),[k]=(0,t.LK)();(0,r.useEffect)((()=>{y((e=>({...e,amount:null===i||void 0===i?void 0:i.excess_fee,fee_payment_amount:null===i||void 0===i?void 0:i.excess_fee})))}),[i]);const A=e=>{y((n=>({...n,[e.target.name]:e.target.value})))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.Z,{onClose:l,children:(0,g.jsxs)("div",{className:m.Z.modal_container,children:[(0,g.jsx)(o.Z,{children:(0,g.jsxs)("div",{className:m.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:m.Z.modal_container_header,children:(0,g.jsx)("h6",{children:s("refund_excess_fees")})}),(0,g.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:l})]})}),(0,g.jsx)(v.Z,{}),(0,g.jsxs)(o.Z,{customStyle:{paddingTop:"0"},children:[(0,g.jsxs)("div",{className:m.Z.admission_fees_row,children:[(0,g.jsxs)("h6",{children:[s("refund_amount")," :"]}),(0,g.jsxs)("h6",{children:[s("rs_only")," ",null!==(n=null===i||void 0===i?void 0:i.excess_fee)&&void 0!==n?n:0]})]}),(0,g.jsx)(f.Z,{label:s("amount"),placeholder:s("amoute_details_collect"),name:"amount",value:j.amount,type:"tel",onChange:e=>{},errorShow:b.amount}),(0,g.jsx)(N.Z,{paymentHeading:s("payment_type_mode"),selectLabel:s("mode_placeholder"),errorShow:b.fee_payment_mode,onClick:e=>{y((n=>({...n,fee_payment_mode:e})))},defalutValue:j.fee_payment_mode,selectedValue:s("please_select_payment_mode"),isAuthority:"admissionCollectMode",customLabelStyle:{marginTop:"0"}}),(0,g.jsx)(S.Z,{label:s("select_date_of_transaction"),placeholder:s("please_select_date"),name:"transaction_date",value:j.transaction_date,onChange:e=>{y((n=>({...n,transaction_date:(0,C.jh)(e)})))},errorShow:b.transaction_date}),"Cash"===j.fee_payment_mode?null:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(f.Z,{label:s("bank_name_collect"),placeholder:s("please_enter_bank_name"),name:"fee_bank_name",value:j.fee_bank_name,type:"text",onChange:A}),(0,g.jsx)(f.Z,{label:s("banke_holder_name"),placeholder:s("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:j.fee_bank_holder,type:"text",onChange:A}),(0,g.jsx)(f.Z,{label:s("cheque_dd_neft"),placeholder:s("please_enter_utr_ref_number"),name:"fee_utr_reference",value:j.fee_utr_reference,type:"text",onChange:A})]}),(0,g.jsx)(h.Z,{label:"confirm",onAction:()=>{let e=(0,x.l)(j,["fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference"]);var n,s,t,o,a,r,c,_,u,m,v,h,p,f,g;(0,x.x)(e)?null!==i&&void 0!==i&&null!==(n=i.student)&&void 0!==n&&n._id&&null!==i&&void 0!==i&&null!==(s=i.appId)&&void 0!==s&&s._id&&null!==i&&void 0!==i&&null!==(t=i.appId)&&void 0!==t&&null!==(o=t.admissionAdmin)&&void 0!==o&&o._id&&null!==i&&void 0!==i&&i._id&&(d((e=>!e)),k({aid:null===i||void 0===i||null===(a=i.appId)||void 0===a||null===(r=a.admissionAdmin)||void 0===r?void 0:r._id,sid:null===i||void 0===i||null===(c=i.student)||void 0===c?void 0:c._id,appId:null===i||void 0===i||null===(_=i.appId)||void 0===_?void 0:_._id,payment:{rid:null===i||void 0===i?void 0:i._id,amount:null!==(u=null===j||void 0===j?void 0:j.amount)&&void 0!==u?u:0,mode:"Cash"===(null===j||void 0===j?void 0:j.mode)?"Offline":null!==(m=null===j||void 0===j?void 0:j.mode)&&void 0!==m?m:"",fee_payment_mode:null===j||void 0===j?void 0:j.fee_payment_mode,fee_payment_amount:null!==(v=null===j||void 0===j?void 0:j.fee_payment_amount)&&void 0!==v?v:0,transaction_date:null!==(h=(0,C._1)(j.transaction_date))&&void 0!==h?h:"",fee_bank_name:null!==(p=null===j||void 0===j?void 0:j.fee_bank_name)&&void 0!==p?p:"",fee_bank_holder:null!==(f=null===j||void 0===j?void 0:j.fee_bank_holder)&&void 0!==f?f:"",fee_utr_reference:null!==(g=null===j||void 0===j?void 0:j.fee_utr_reference)&&void 0!==g?g:""}}).then((()=>{d((e=>!e)),l()})).catch({})):Z(e)}})]})]})}),a&&(0,g.jsx)(p.Z,{})]})},A=e=>{var n,l,o,a,d,u,m,v,h,f;let{admission:x,scholarshipApplicable:y}=e;const{t:b}=(0,_.$G)(),Z=(0,i.TH)(),[S,C]=(0,r.useState)(""),[N,A]=(0,r.useState)(!1),[I,w]=(0,r.useState)({open:!1,msg:"",variant:"error"}),[T,M]=(0,r.useState)(0),[D]=(0,t.zJ)(),E=()=>{var e,n,l,i,s,t,o;null!==x&&void 0!==x&&null!==(e=x.appId)&&void 0!==e&&null!==(n=e.admissionAdmin)&&void 0!==n&&null!==(l=n.institute)&&void 0!==l&&null!==(i=l.financeDepart)&&void 0!==i&&i[0]&&null!==x&&void 0!==x&&null!==(s=x.appId)&&void 0!==s&&null!==(t=s.admissionAdmin)&&void 0!==t&&t._id&&F[null===(o=Z.state)||void 0===o?void 0:o.collectAccess]&&C(1)};return(0,r.useEffect)((()=>{var e,n;if(null!==x&&void 0!==x&&null!==(e=x.government_card)&&void 0!==e&&e.remaining_fee||null!==x&&void 0!==x&&null!==(n=x.applicable_card)&&void 0!==n&&n.remaining_fee){var l,i;let e=(null===x||void 0===x||null===(l=x.government_card)||void 0===l?void 0:l.remaining_fee)+(null===x||void 0===x||null===(i=x.applicable_card)||void 0===i?void 0:i.remaining_fee);M(e)}}),[null===x||void 0===x||null===(n=x.applicable_card)||void 0===n?void 0:n.remaining_fee,null===x||void 0===x||null===(l=x.government_card)||void 0===l?void 0:l.remaining_fee]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("section",{className:s.Z.student_admission_count_container,style:{marginTop:y?"0.8rem":"-0.6rem"},children:[(0,g.jsxs)("div",{className:s.Z.student_admission_count,children:[(0,g.jsxs)("h5",{style:{color:"#121212"},children:[b("rs_only"),null!==(o=null===x||void 0===x||null===(a=x.fee_structure)||void 0===a?void 0:a.total_admission_fees)&&void 0!==o?o:0,(0,g.jsx)("span",{style:{fontSize:"13px",fontWeight:"400",color:"#121212"},children:" (".concat(b("rs_only")).concat(null!==(d=null===x||void 0===x||null===(u=x.fee_structure)||void 0===u?void 0:u.applicable_fees)&&void 0!==d?d:0,")")})]}),(0,g.jsx)("h6",{style:{marginBottom:"1rem"},children:b("total_applicable_fees")}),(0,g.jsxs)("h5",{style:{color:"#008000"},children:[b("rs_only")," ",null!==(m=null===x||void 0===x?void 0:x.paid_fee)&&void 0!==m?m:0,(0,g.jsx)("span",{style:{fontSize:"13px",fontWeight:"400",color:"#121212"},children:" (".concat(b("rs_only")).concat(null===x||void 0===x||null===(v=x.applicable_card)||void 0===v?void 0:v.remaining_fee,")")})]}),(0,g.jsx)("h6",{children:b("paid_and_outstanding")})]}),(0,g.jsx)("div",{className:s.Z.student_admission_count_image,children:"Cancel"===x.status?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("img",{src:"".concat(c.U_,"/fees-refund.svg"),alt:"pending icon"}),(0,g.jsx)("div",{className:s.Z.show_text,children:(0,g.jsxs)("h6",{children:[" ",b("cancelled")]})})]}):(0,g.jsx)(g.Fragment,{children:T<=0?(null===x||void 0===x?void 0:x.excess_fee)>0?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("img",{src:"".concat(c.U_,"/fees-refund.svg"),alt:"pending icon"}),(0,g.jsxs)("div",{className:s.Z.show_text,children:[(0,g.jsxs)("h6",{style:{fontWeight:"600"},children:[b("rs_only")," ",null!==(h=null===x||void 0===x?void 0:x.excess_fee)&&void 0!==h?h:0]}),(0,g.jsxs)("h6",{children:[" ",b("excess")]}),(0,g.jsx)("button",{className:s.Z.image_refund_btn,onClick:E,children:b("refund")})]})]}):0===T?(0,g.jsx)("img",{src:"".concat(c.U_,"/fees-paid.svg"),alt:"pending icon",style:{width:"140px",height:"140px"}}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("img",{src:"".concat(c.U_,"/fees-pending.svg"),alt:"pending icon",style:{width:"140px",height:"140px"}}),(0,g.jsxs)("div",{className:s.Z.show_text,children:[(0,g.jsxs)("h6",{style:{fontWeight:"600"},children:[b("rs_only")," ",T]}),(0,g.jsxs)("h6",{children:[" ",b("pending")]})]})]}):"Cancel"===x.status?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("img",{src:"".concat(c.U_,"/fees-refund.svg"),alt:"pending icon"}),(0,g.jsx)("div",{className:s.Z.show_text,children:(0,g.jsxs)("h6",{children:[" ",b("cancel")]})})]}):(null===x||void 0===x?void 0:x.excess_fee)>0?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("img",{src:"".concat(c.U_,"/fees-refund.svg"),alt:"pending icon"}),(0,g.jsxs)("div",{className:s.Z.show_text,children:[(0,g.jsxs)("h6",{style:{fontWeight:"600"},children:[b("rs_only")," ",null!==(f=null===x||void 0===x?void 0:x.excess_fee)&&void 0!==f?f:0]}),(0,g.jsxs)("h6",{children:[" ",b("excess")]}),(0,g.jsx)("button",{className:s.Z.image_refund_btn,onClick:E,children:b("refund")})]})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("img",{src:"".concat(c.U_,"/fees-pending.svg"),alt:"pending icon",style:{width:"140px",height:"140px"}}),(0,g.jsxs)("div",{className:s.Z.show_text,children:[(0,g.jsxs)("h6",{style:{fontWeight:"600"},children:[b("rs_only")," ",T]}),(0,g.jsxs)("h6",{children:[" ",b("pending")]})]})]})})})]}),1===S?(0,g.jsx)(k,{onClose:()=>{C("")},admission:x}):null,N&&(0,g.jsx)(p.Z,{}),(0,g.jsx)(j.Z,{eventState:I,eventStateHandler:w})]})},F={ADMISSION_ADMIN:!0};var I=l(97892),w=l.n(I),T=l(89064);const M=e=>{var n,l,i;let{installId:s,onClose:o,rid:a,onMultipleInstallment:d,install:c,admission:u,onEditMenu1:m}=e;const{t:v}=(0,_.$G)(),[h,p]=(0,r.useState)(!1),[f]=(0,t.WO)();return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(T.Z,{onClose:o,disabled:h,children:["Paid"!==(null===c||void 0===c?void 0:c.status)?(0,g.jsx)("h6",{onClick:d,children:v("new_installment")}):null,"Paid"!==(null===c||void 0===c?void 0:c.status)&&(null===c||void 0===c?void 0:c.remainAmount)>0&&((null===u||void 0===u||null===(n=u.government_card)||void 0===n?void 0:n.applicable_fee)>0||(null===u||void 0===u||null===(l=u.government_card)||void 0===l?void 0:l.paid_fee)>0||(null===u||void 0===u||null===(i=u.government_card)||void 0===i?void 0:i.remaining_fee)>0)?(0,g.jsx)("h6",{onClick:m,children:v("transfer_to_scholarship_fees")}):null,(null===c||void 0===c?void 0:c.remainAmount)<0?(0,g.jsx)("h6",{onClick:()=>{a&&s&&(p((e=>!e)),f({rid:a,raid:s}).then((()=>{p((e=>!e)),o()})).catch({}))},children:v("delete")}):null]})})};var D=l(6758),E=l(37782);const G=e=>{let{rid:n,appId:i}=e;const{t:t}=(0,_.$G)(),[o,a]=(0,r.useState)(""),[d,c]=(0,r.useState)(!1),[u,m]=(0,r.useState)(""),{financeReceipt:v,financeReceiptRefetch:h}=(0,D.Nw)({rid:o,skip:!o});(0,r.useEffect)((()=>{o&&h()}),[o,h]),(0,r.useEffect)((()=>{null!==v&&void 0!==v&&v.receipt&&null!==v&&void 0!==v&&v.all_remain&&m(v)}),[v]),(0,r.useEffect)((()=>{if(u){const e=new Worker(new URL(l.p+l.u(18334),l.b)),{institute:n,studentInfo:s,paymentReceiptInfo:t}=(0,E.Hs)(null===u||void 0===u?void 0:u.all_remain,null===u||void 0===u?void 0:u.receipt,i);e.postMessage({institute:n,studentInfo:s,paymentReceiptInfo:t,printReceiptType:"Refunded"===(null===t||void 0===t?void 0:t.transactonRefund)?"ADMISSION_REFUND":"ADMISSION"}),e.onmessage=n=>{n&&(window.open(n.data,"_blank"),c((e=>!e)),m(""),e.terminate())}}}),[u]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("button",{className:s.Z.view_receipt_btn,onClick:()=>{n&&(c((e=>!e)),a(n),o===n&&m(v))},children:t("view_receipt")}),d&&(0,g.jsx)(p.Z,{})]})};var O=l(7562),P=l(20659),q=l(26071);const R=e=>{var n,l,i,s,a;let{onClose:d,install:j,admission:y}=e;const{t:b}=(0,_.$G)(),[Z,k]=(0,r.useState)(!1),[A,F]=(0,r.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:"",pay_remain:!1}),[I,w]=(0,r.useState)(""),[T,M]=(0,r.useState)(0),[D]=(0,t.Wm)(),E=e=>{F((n=>({...n,[e.target.name]:e.target.value})))},G=e=>{if(F((n=>({...n,pay_remain:e}))),e){let e=0;for(let l of null===y||void 0===y||null===(n=y.applicable_card)||void 0===n?void 0:n.remaining_array){var n;"Paid"!==(null===l||void 0===l?void 0:l.status)&&(e+=null===l||void 0===l?void 0:l.remainAmount)}M(e)}};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.Z,{onClose:d,children:(0,g.jsxs)("div",{className:m.Z.modal_container,children:[(0,g.jsx)(o.Z,{children:(0,g.jsxs)("div",{className:m.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:m.Z.modal_container_header,children:(0,g.jsx)("h6",{children:b("collect_fees")})}),(0,g.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:d})]})}),(0,g.jsx)(v.Z,{}),(0,g.jsxs)(o.Z,{customStyle:{paddingTop:"0"},children:[(0,g.jsxs)("div",{className:m.Z.admission_fees_row,children:[(0,g.jsxs)("h6",{children:[b("applicable_amount")," :"]}),(0,g.jsxs)("h6",{children:[b("rs_only")," ",null!==(n=null===y||void 0===y||null===(l=y.applicable_card)||void 0===l?void 0:l.applicable_fee)&&void 0!==n?n:0]})]}),(0,g.jsxs)("div",{className:m.Z.admission_fees_row,children:[(0,g.jsxs)("h6",{children:[b(A.pay_remain?"amount_remain_installment":"remaining_fees")," ",":"]}),(0,g.jsxs)("h6",{children:[b("rs_only")," ",A.pay_remain?T:null!==(i=null===j||void 0===j?void 0:j.remainAmount)&&void 0!==i?i:0]})]}),null!==y&&void 0!==y&&null!==(s=y.fee_structure)&&void 0!==s&&s.total_installments&&+(null===y||void 0===y||null===(a=y.fee_structure)||void 0===a?void 0:a.total_installments)>1?(0,g.jsx)(P.Z,{label:"pay_rest_remaining_fees",children:null===O.nj||void 0===O.nj?void 0:O.nj.map((e=>(0,g.jsx)(q.Z,{tile:e,onTile:G,activeTile:A.pay_remain},null===e||void 0===e?void 0:e.id)))}):null,(0,g.jsx)(f.Z,{label:b("amount"),placeholder:b("amoute_details_collect"),name:"amount",value:A.amount,type:"tel",onChange:e=>{F((n=>({...n,amount:+e.target.value,fee_payment_amount:+e.target.value})))},errorShow:I.amount,msg:I.rest_issue}),(0,g.jsx)(N.Z,{paymentHeading:b("payment_type_mode"),selectLabel:b("mode_placeholder"),onClick:e=>{F((n=>({...n,mode:"Online",fee_payment_mode:e})))},errorShow:I.fee_payment_mode,defalutValue:A.fee_payment_mode,selectedValue:b("please_select_payment_mode"),isAuthority:"admissionStudentProfileCollectMode",customLabelStyle:{marginTop:"0"}}),(0,g.jsx)(S.Z,{label:b("select_date_of_transaction"),placeholder:b("please_select_date"),name:"transaction_date",value:A.transaction_date,onChange:e=>{F((n=>({...n,transaction_date:(0,C.jh)(e)})))},errorShow:I.transaction_date}),"Cash"===A.fee_payment_mode?null:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(f.Z,{label:b("bank_name_collect"),placeholder:b("please_enter_bank_name"),name:"fee_bank_name",value:A.fee_bank_name,type:"text",onChange:E}),(0,g.jsx)(f.Z,{label:b("banke_holder_name"),placeholder:b("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:A.fee_bank_holder,type:"text",onChange:E}),(0,g.jsx)(f.Z,{label:b("cheque_dd_neft"),placeholder:b("please_enter_utr_ref_number"),name:"fee_utr_reference",value:A.fee_utr_reference,type:"text",onChange:E})]}),(0,g.jsx)(h.Z,{label:"collect",onAction:()=>{let e="";var n,l,i,s,t,o,a,r,c,_,u,m,v;(e="Unrecovered/Exemption"===A.fee_payment_mode?(0,x.l)(A,["amount","mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference","pay_remain"]):(0,x.l)(A,["mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference","pay_remain"]),(0,x.x)(e))?A.pay_remain&&A.amount<T?w({rest_issue:"Amount should not be less than total remaining fees"}):!A.pay_remain&&A.amount>(null===j||void 0===j?void 0:j.remainAmount)&&+(null===y||void 0===y||null===(n=y.fee_structure)||void 0===n?void 0:n.total_installments)>1?w({rest_issue:"Amount should not be greater than remaining fees"}):null!==y&&void 0!==y&&null!==(l=y.student)&&void 0!==l&&l._id&&null!==j&&void 0!==j&&j.appId&&null!==j&&void 0!==j&&j._id&&(k((e=>!e)),D({aid:null===y||void 0===y||null===(i=y.appId)||void 0===i||null===(s=i.admissionAdmin)||void 0===s?void 0:s._id,sid:null===y||void 0===y||null===(t=y.student)||void 0===t?void 0:t._id,appId:null===j||void 0===j?void 0:j.appId,payment:{card_id:null===y||void 0===y||null===(o=y.applicable_card)||void 0===o?void 0:o._id,rid:null===y||void 0===y?void 0:y._id,type:null===j||void 0===j?void 0:j.installmentValue,raid:null===j||void 0===j?void 0:j._id,amount:null!==(a=null===A||void 0===A?void 0:A.amount)&&void 0!==a?a:0,mode:"Cash"===(null===A||void 0===A?void 0:A.fee_payment_mode)?"Offline":null!==(r=null===A||void 0===A?void 0:A.mode)&&void 0!==r?r:"",fee_payment_mode:"Cash"===(null===A||void 0===A?void 0:A.fee_payment_mode)?"By Cash":null===A||void 0===A?void 0:A.fee_payment_mode,fee_payment_amount:null!==(c=null===A||void 0===A?void 0:A.fee_payment_amount)&&void 0!==c?c:0,transaction_date:null!==(_=(0,C._1)(A.transaction_date))&&void 0!==_?_:"",fee_bank_name:null!==(u=null===A||void 0===A?void 0:A.fee_bank_name)&&void 0!==u?u:"",fee_bank_holder:null!==(m=null===A||void 0===A?void 0:A.fee_bank_holder)&&void 0!==m?m:"",fee_utr_reference:null!==(v=null===A||void 0===A?void 0:A.fee_utr_reference)&&void 0!==v?v:"",pay_remain:A.pay_remain}}).then((()=>{k((e=>!e)),d()})).catch({})):w(e)}})]})]})}),Z&&(0,g.jsx)(p.Z,{})]})},B=e=>{let{installId:n,onClose:l,rid:i,installAmount:s}=e;const{t:a}=(0,_.$G)(),[d,j]=(0,r.useState)(!1),[y,b]=(0,r.useState)(0),[Z,S]=(0,r.useState)(!1),[C]=(0,t.d2)();(0,r.useEffect)((()=>{s&&b(s)}),[s]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.Z,{children:(0,g.jsxs)("div",{className:m.Z.modal_container,children:[(0,g.jsx)(o.Z,{children:(0,g.jsxs)("div",{className:m.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:m.Z.modal_container_header,children:(0,g.jsx)("h6",{children:a("transfer_to_scholarship_fees")})}),(0,g.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:l})]})}),(0,g.jsx)(v.Z,{}),(0,g.jsxs)(o.Z,{customStyle:{paddingTop:"0"},children:[(0,g.jsx)(f.Z,{label:a("amount"),placeholder:a("please_enter_amount_paid"),name:"amount",value:y,type:"tel",onChange:e=>b(e.target.value),errorShow:Z.state,msg:Z.amount_issue}),(0,g.jsx)(h.Z,{label:"confirm",onAction:()=>{if(i&&n){let e=(0,x.l)({query:y},[]);(0,x.x)(e)&&y<=s?(j((e=>!e)),C({rid:i,applicableBody:{raid:n,amount:+y}}).then((()=>{j((e=>!e)),l()})).catch({})):S(y>s?{amount_issue:"Amount should be less than or equal to installment Amount"}:e)}}})]})]})}),d&&(0,g.jsx)(p.Z,{})]})},L=e=>{let{onClose:n,pid:l,install:i}=e;const{t:s}=(0,_.$G)(),[a,d]=(0,r.useState)(!1),[y,b]=(0,r.useState)({inst_price:"",inst_date:""}),[Z,N]=(0,r.useState)(!1),[k,A]=(0,r.useState)({open:!1,msg:"",variant:"error"}),[F]=(0,t.JA)();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.Z,{children:(0,g.jsxs)("div",{className:m.Z.modal_container,children:[(0,g.jsx)(o.Z,{children:(0,g.jsxs)("div",{className:m.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:m.Z.modal_container_header,children:(0,g.jsx)("h6",{children:s("new_installment")})}),(0,g.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,g.jsx)(v.Z,{}),(0,g.jsxs)(o.Z,{customStyle:{paddingTop:"0"},children:[(0,g.jsx)(f.Z,{label:s("installment"),placeholder:s("Amount"),name:"inst_price",value:y.inst_price,type:"tel",onChange:e=>{b((n=>({...n,[e.target.name]:+e.target.value})))},errorShow:Z.inst_price}),(0,g.jsx)(S.Z,{label:s("due_last_date"),placeholder:s("please_select_the_date"),name:"inst_date",value:y.inst_date?(0,C.jh)(y.inst_date):"",onChange:e=>{e&&b((n=>({...n,inst_date:(0,C.O_)(e)})))},errorShow:Z.inst_date}),(0,g.jsx)(h.Z,{label:"create",onAction:()=>{let e=(0,x.l)(y,[]);(0,x.x)(e)&&l&&null!==i&&void 0!==i&&i._id?y.inst_price>=(null===i||void 0===i?void 0:i.remainAmount)?A({msg:"Amount should be less than installment remain amount.",open:!0,variant:"error"}):(d((e=>!e)),F({pid:l,installmentFragment:{...y,raid:null===i||void 0===i?void 0:i._id}}).then((()=>{d((e=>!e)),n()})).catch({})):N(e)}})]})]})}),a&&(0,g.jsx)(p.Z,{}),(0,g.jsx)(j.Z,{eventState:k,eventStateHandler:A})]})};var $=l(26192);const H=e=>{var n,l,i;let{onClose:s,admission:t,install:a,onSelectType:d}=e;const{t:h}=(0,_.$G)(),[f,x]=(0,r.useState)(!1),j=e=>{6===e||d(e)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.Z,{onClose:s,children:(0,g.jsxs)("div",{className:m.Z.modal_container,children:[(0,g.jsx)(o.Z,{children:(0,g.jsxs)("div",{className:m.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:m.Z.modal_container_header,children:(0,g.jsx)("h6",{children:h("collect_fees")})}),(0,g.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:s})]})}),(0,g.jsx)(v.Z,{}),(0,g.jsxs)(o.Z,{customStyle:{paddingTop:"0"},children:[(0,g.jsxs)("div",{className:$.Z.application_card,onClick:()=>j(6),children:[(0,g.jsxs)("div",{className:$.Z.application_card_title,children:[(0,g.jsx)("img",{src:"".concat(c.J7,"/category.svg"),alt:"staff profile avatar"}),(0,g.jsx)("h6",{children:h("set_off_excess_fees")})]}),(0,g.jsxs)("section",{className:$.Z.application_card_info,children:[(0,g.jsxs)("div",{children:[h("applicable_pending_fees")," ",": ".concat(h("rs"),". ").concat(null!==(n=null===a||void 0===a?void 0:a.remainAmount)&&void 0!==n?n:0)]}),(0,g.jsxs)("div",{children:[h("excess_fees")," ",": ".concat(h("rs"),". ").concat(null!==(l=null===t||void 0===t?void 0:t.setOffPrice)&&void 0!==l?l:0)]}),(0,g.jsxs)("div",{children:[h("set_off_fees")," ",": ".concat(h("rs"),". ").concat(null!==(i=null===t||void 0===t?void 0:t.setOffPrice)&&void 0!==i?i:0)]}),(0,g.jsx)("h6",{children:h("set_off_excess_fees_note")})]})]}),(0,g.jsxs)("div",{className:$.Z.application_card,onClick:()=>j(2),style:{minHeight:"100px"},children:[(0,g.jsxs)("div",{className:$.Z.application_card_title,children:[(0,g.jsx)("img",{src:"".concat(c.J7,"/category.svg"),alt:"staff profile avatar"}),(0,g.jsx)("h6",{children:h("collect_fees")})]}),(0,g.jsx)("section",{className:$.Z.application_card_info,children:(0,g.jsx)("h6",{children:h("collect_fees_note")})})]})]})]})}),f&&(0,g.jsx)(p.Z,{})]})},U=e=>{var n,l,t,o,a,d,u,m,v,h,p,f,x,j,y,b,Z,S,C;let{install:N,admission:k}=e;const A=(0,i.TH)(),{t:F}=(0,_.$G)(),[I,T]=(0,r.useState)(""),D=()=>{T("")},E=()=>{T(4)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:s.Z.student_admission_cash_card,style:{position:"relative"},children:[(0,g.jsxs)("section",{className:s.Z.admission_fees_amount,children:[(0,g.jsxs)("h6",{children:[null===N||void 0===N?void 0:N.installmentValue," ","Paid"===(null===N||void 0===N?void 0:N.status)&&(0,g.jsx)("span",{children:w()(null===N||void 0===N||null===(n=N.fee_receipt)||void 0===n?void 0:n.fee_transaction_date).format("DD-MMM-YY")})]}),(0,g.jsxs)("h6",{children:[F("rs_only"),0===(null===N||void 0===N?void 0:N.remainAmount)?null===N||void 0===N?void 0:N.set_off:null!==(l=null===N||void 0===N?void 0:N.remainAmount)&&void 0!==l?l:0]})]}),0===(null===N||void 0===N?void 0:N.remainAmount)?null:(0,g.jsx)("section",{className:s.Z.admission_fees_grant,children:"Paid"===(null===N||void 0===N?void 0:N.status)&&"Rejected"!==(null===N||void 0===N?void 0:N.receipt_status)?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h6",{children:"By Cash"===(null===N||void 0===N||null===(t=N.fee_receipt)||void 0===t?void 0:t.fee_payment_mode)?"Offline":null!==N&&void 0!==N&&null!==(o=N.fee_receipt)&&void 0!==o&&o.fee_payment_mode?null===N||void 0===N||null===(a=N.fee_receipt)||void 0===a?void 0:a.fee_payment_mode:null!==(d=null===N||void 0===N?void 0:N.refund_status)&&void 0!==d?d:""}),(0,g.jsx)("h6",{children:"Set Off"===(null===N||void 0===N||null===(u=N.fee_receipt)||void 0===u?void 0:u.set_off_status)?"SetOff":"By Cash"===(null===N||void 0===N||null===(m=N.fee_receipt)||void 0===m?void 0:m.fee_payment_mode)?"Cash":"Exempted/Unrecovered"===(null===N||void 0===N||null===(v=N.fee_receipt)||void 0===v?void 0:v.fee_payment_mode)?"N/A":"Bank"})]}):(0,g.jsx)(g.Fragment,{children:"Rejected"===(null===N||void 0===N?void 0:N.receipt_status)?(0,g.jsxs)("h6",{style:{margin:"0"},children:["".concat(F("reason")," : "),null===N||void 0===N?void 0:N.reason]}):(0,g.jsxs)("h6",{style:{margin:"0"},children:[F("due_on")," "," "," ",null===N||void 0===N?void 0:N.dueDate]})})}),null!==N&&void 0!==N&&null!==(h=N.component)&&void 0!==h&&h.gov?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("section",{className:s.Z.admission_fees_grant,children:[(0,g.jsx)("h6",{style:{margin:"0"},children:F("applicable_fees")}),(0,g.jsxs)("h6",{style:{margin:"0",fontSize:"13px",color:"#121212"},children:[F("rs_only"),null!==(p=null===N||void 0===N||null===(f=N.component)||void 0===f?void 0:f.app)&&void 0!==p?p:0]})]}),(0,g.jsxs)("section",{className:s.Z.admission_fees_grant,children:[(0,g.jsx)("h6",{style:{margin:"0"},children:F("govt_fees")}),(0,g.jsxs)("h6",{style:{margin:"0",fontSize:"13px",color:"#121212"},children:[F("rs_only"),null!==(x=null===N||void 0===N||null===(j=N.component)||void 0===j?void 0:j.gov)&&void 0!==x?x:0]})]})]}):null,null!==N&&void 0!==N&&N.set_off_message?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("section",{className:s.Z.admission_fees_grant,children:(0,g.jsx)("h6",{style:{margin:"0",marginBottom:"0.2rem"},children:null===N||void 0===N?void 0:N.set_off_message})})}):null,V[null===(y=A.state)||void 0===y?void 0:y.editInstallmentControl]&&"Paid"!==(null===N||void 0===N?void 0:N.status)?(0,g.jsx)("img",{src:"".concat(c.J7,"/menu.svg"),alt:"menu icon",onClick:()=>{T(1)},className:s.Z.edit_icon,title:"Menu",style:{cursor:"pointer",top:"1%",right:"0.5%"}}):null,"Requested"!==(null===N||void 0===N?void 0:N.receipt_status)&&"Rejected"!==(null===N||void 0===N?void 0:N.receipt_status)&&"Paid"===(null===N||void 0===N?void 0:N.status)?null!==N&&void 0!==N&&N.cover_status?(0,g.jsx)("button",{className:s.Z.student_admission_collect_btn,style:{width:"100%",backgroundColor:"rgb(92 92 92)",fontSize:"0.7rem"},children:null===N||void 0===N?void 0:N.cover_status}):0===(null===N||void 0===N?void 0:N.remainAmount)?null:(0,g.jsx)(G,{rid:null===N||void 0===N||null===(b=N.fee_receipt)||void 0===b?void 0:b._id,appId:null===k||void 0===k||null===(Z=k.appId)||void 0===Z?void 0:Z._id}):(0,g.jsx)("button",{className:s.Z.student_admission_collect_btn,style:{width:"100%"},onClick:()=>{var e;null!==N&&void 0!==N&&N.isEnable&&z[null===(e=A.state)||void 0===e?void 0:e.collectAccess]&&((null===k||void 0===k?void 0:k.setOffPrice)>0?T(5):T(2))},children:"Requested"===(null===N||void 0===N?void 0:N.receipt_status)?F("receipt_requested"):"Rejected"===(null===N||void 0===N?void 0:N.receipt_status)?F("receipt_rejected"):F(z[null===(S=A.state)||void 0===S?void 0:S.collectAccess]?"collect_fees":"unpaid")})]}),1===I?(0,g.jsx)(M,{onClose:D,rid:null===k||void 0===k?void 0:k._id,installId:null===N||void 0===N?void 0:N._id,onMultipleInstallment:E,isDelete:(null===N||void 0===N?void 0:N.remainAmount)<0,admission:k,onEditMenu1:()=>{T(3)},install:N}):2===I?(0,g.jsx)(R,{onClose:D,install:N,admission:k}):3===I?(0,g.jsx)(B,{onClose:D,rid:null===k||void 0===k?void 0:k._id,installId:null===N||void 0===N?void 0:N._id,installAmount:null===N||void 0===N?void 0:N.remainAmount,onMultipleInstallment:E}):4===I?(0,g.jsx)(L,{onClose:D,pid:null===k||void 0===k||null===(C=k.applicable_card)||void 0===C?void 0:C._id,install:N}):5===I?(0,g.jsx)(H,{onClose:D,admission:k,install:N}):null]})},z={FINANCE_MANAGER:!0,ADMISSION_ADMIN:!0},V={authorized:!0};var J=l(11468);const W=e=>{let{onClose:n,remark:l,rcid:i}=e;const{t:s}=(0,_.$G)(),[a,d]=(0,r.useState)(!1),[f,j]=(0,r.useState)(null!==l&&void 0!==l?l:""),[y,b]=(0,r.useState)(!1),[Z]=(0,t.um)();(0,r.useEffect)((()=>{l&&j(l)}),[l]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.Z,{children:(0,g.jsxs)("div",{className:m.Z.modal_container,children:[(0,g.jsx)(o.Z,{children:(0,g.jsxs)("div",{className:m.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:m.Z.modal_container_header,children:(0,g.jsx)("h6",{children:s("remark_title")})}),(0,g.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,g.jsx)(v.Z,{}),(0,g.jsxs)(o.Z,{customStyle:{paddingTop:"0"},children:[(0,g.jsx)(J.Z,{label:s("enter_remark"),placeholder:s("please_enter_remark"),name:"scholar",value:f,type:"text",onChange:e=>j(e.target.value),errorShow:y.query}),(0,g.jsx)(h.Z,{label:"save_remark",onAction:()=>{let e=(0,x.l)({query:f},[]);(0,x.x)(e)?(d((e=>!e)),Z({rcid:i,remark:{remark:f}}).then((()=>{d((e=>!e)),n()})).catch({})):b(e)}})]})]})}),a&&(0,g.jsx)(p.Z,{})]})};var Y=l(33030),K=l(23984);const Q=e=>{var n,l;let{admission:i,isAuthorized:t}=e;const{t:o}=(0,_.$G)(),[a,d]=(0,r.useState)("");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:s.Z.remark_card_container,children:(0,g.jsxs)("section",{className:s.Z.add_remark,children:[X[t]?null:(0,g.jsx)(K.Z,{children:(0,g.jsx)(Y.Z,{label:o(null!==i&&void 0!==i&&i.remark?"edit_remark":"add_remark"),onAction:()=>{X[t]||d(1)},customStyle:{padding:"0.2rem 0.4rem",fontSize:"11px",fontWeight:"400"}})}),(0,g.jsxs)("h6",{className:s.Z.add_remark_text,children:[o("fee_remark")," ",null!==(n=null===i||void 0===i?void 0:i.remark)&&void 0!==n?n:""]})]})}),1===a?(0,g.jsx)(W,{onClose:()=>{d("")},rcid:null===i||void 0===i?void 0:i._id,remark:null!==(l=null===i||void 0===i?void 0:i.remark)&&void 0!==l?l:""}):null]})},X={notAuthorized:!0},ee=e=>{let{title1:n,amount1:l,title2:i,amount2:t,title3:o,amount3:a}=e;const{t:d}=(0,_.$G)();return(0,g.jsxs)("section",{className:s.Z.safcst_container,children:[(0,g.jsxs)("div",{className:s.Z.safcst_container_inner,children:[(0,g.jsx)("p",{children:d(n)}),(0,g.jsxs)("h6",{children:[d("rs_only"),null!==l&&void 0!==l?l:0]})]}),(0,g.jsxs)("div",{className:s.Z.safcst_container_inner,children:[(0,g.jsx)("p",{children:d(i)}),(0,g.jsxs)("h6",{children:[d("rs_only"),null!==t&&void 0!==t?t:0]})]}),(0,g.jsxs)("div",{className:s.Z.safcst_container_inner,children:[(0,g.jsx)("p",{children:d(o)}),(0,g.jsxs)("h6",{children:[d("rs_only"),null!==a&&void 0!==a?a:0]})]})]})},ne=e=>{var n,l,i,s,a,d,j,y,b,Z;let{onClose:N,admission:k,install:A}=e;const{t:F}=(0,_.$G)();let I=new Date;const[w,T]=(0,r.useState)(!1),[M,D]=(0,r.useState)({amount:"",mode:"Online",fee_payment_mode:"Government/Scholarship",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),[E,G]=(0,r.useState)(""),[O]=(0,t.Hg)(),P=e=>{D((n=>({...n,[e.target.name]:e.target.value})))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.Z,{onClose:N,children:(0,g.jsxs)("div",{className:m.Z.modal_container,children:[(0,g.jsx)(o.Z,{children:(0,g.jsxs)("div",{className:m.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:m.Z.modal_container_header,children:(0,g.jsxs)("h6",{children:[F("allot_scholer_to_student")," ","".concat(null!==(n=null===k||void 0===k||null===(l=k.student)||void 0===l?void 0:l.studentFirstName)&&void 0!==n?n:""," ").concat(null!==(i=null===k||void 0===k||null===(s=k.student)||void 0===s?void 0:s.studentMiddleName)&&void 0!==i?i:""," ").concat(null!==(a=null===k||void 0===k||null===(d=k.student)||void 0===d?void 0:d.studentLastName)&&void 0!==a?a:"")]})}),(0,g.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:N})]})}),(0,g.jsx)(v.Z,{}),(0,g.jsxs)(o.Z,{customStyle:{paddingTop:"0"},children:[(0,g.jsxs)("div",{className:m.Z.admission_fees_row,children:[(0,g.jsxs)("h6",{children:[F("applicable_amount")," :"]}),(0,g.jsxs)("h6",{children:[F("rs_only")," ",null!==(j=null===k||void 0===k||null===(y=k.government_card)||void 0===y?void 0:y.applicable_fee)&&void 0!==j?j:0]})]}),(0,g.jsxs)("div",{className:m.Z.admission_fees_row,children:[(0,g.jsxs)("h6",{children:[F("remaining_fees")," :"]}),(0,g.jsxs)("h6",{children:[F("rs_only")," ",null!==(b=null===k||void 0===k||null===(Z=k.government_card)||void 0===Z?void 0:Z.remaining_fee)&&void 0!==b?b:0]})]}),(0,g.jsx)(f.Z,{label:F("amount"),placeholder:F("amoute_details_collect"),name:"amount",value:M.amount,type:"tel",onChange:e=>{D((n=>({...n,amount:+e.target.value,fee_payment_amount:+e.target.value})))},errorShow:E.amount}),(0,g.jsx)(S.Z,{label:F("select_date_of_transaction"),placeholder:F("please_select_date"),name:"transaction_date",value:M.transaction_date,onChange:e=>{D((n=>({...n,transaction_date:(0,C.jh)(e)})))},errorShow:E.transaction_date}),(0,g.jsx)(f.Z,{label:F("bank_name_collect"),placeholder:F("please_enter_bank_name"),name:"fee_bank_name",value:M.fee_bank_name,type:"text",onChange:P}),(0,g.jsx)(f.Z,{label:F("banke_holder_name"),placeholder:F("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:M.fee_bank_holder,type:"text",onChange:P}),(0,g.jsx)(f.Z,{label:F("cheque_dd_neft"),placeholder:F("please_enter_utr_ref_number"),name:"fee_utr_reference",value:M.fee_utr_reference,type:"text",onChange:P}),(0,g.jsx)(h.Z,{label:"allot",onAction:()=>{let e=(0,x.l)(M,["mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference","transaction_date"]);var n,l,i,s,t,o,a,d,r;(0,x.x)(e)?null!==k&&void 0!==k&&k._id&&null!==A&&void 0!==A&&A.appId&&null!==k&&void 0!==k&&null!==(n=k.student)&&void 0!==n&&n._id&&(T((e=>!e)),O({sid:null===k||void 0===k||null===(l=k.student)||void 0===l?void 0:l._id,appId:null===A||void 0===A?void 0:A.appId,payment:{rid:null===k||void 0===k?void 0:k._id,type:null===A||void 0===A?void 0:A.installmentValue,amount:null!==(i=null===M||void 0===M?void 0:M.amount)&&void 0!==i?i:"",mode:null!==(s=null===M||void 0===M?void 0:M.mode)&&void 0!==s?s:"",fee_payment_mode:null===M||void 0===M?void 0:M.fee_payment_mode,fee_payment_amount:null!==(t=null===M||void 0===M?void 0:M.fee_payment_amount)&&void 0!==t?t:"",transaction_date:M.transaction_date?(0,C._1)(M.transaction_date):null===(o=I.toISOString())||void 0===o?void 0:o.substring(0,10),fee_bank_name:null!==(a=null===M||void 0===M?void 0:M.fee_bank_name)&&void 0!==a?a:"",fee_bank_holder:null!==(d=null===M||void 0===M?void 0:M.fee_bank_holder)&&void 0!==d?d:"",fee_utr_reference:null!==(r=null===M||void 0===M?void 0:M.fee_utr_reference)&&void 0!==r?r:""}}).then((()=>{T((e=>!e)),N()})).catch({})):G(e)}})]})]})}),w&&(0,g.jsx)(p.Z,{})]})},le=e=>{let{onClose:n,onMenu:l}=e;const{t:i}=(0,_.$G)();return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(T.Z,{onClose:n,children:(0,g.jsx)("h6",{onClick:l,children:i("transfer_to_applicable_fees")})})})},ie=e=>{let{onClose:n,rid:l,installAmount:i}=e;const{t:s}=(0,_.$G)(),[a,d]=(0,r.useState)(!1),[j,y]=(0,r.useState)(0),[b,Z]=(0,r.useState)(!1),[S]=(0,t.t6)();(0,r.useEffect)((()=>{i&&y(i)}),[i]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.Z,{children:(0,g.jsxs)("div",{className:m.Z.modal_container,children:[(0,g.jsx)(o.Z,{children:(0,g.jsxs)("div",{className:m.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:m.Z.modal_container_header,children:(0,g.jsx)("h6",{children:s("transfer_to_applicable_fees")})}),(0,g.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,g.jsx)(v.Z,{}),(0,g.jsxs)(o.Z,{customStyle:{paddingTop:"0"},children:[(0,g.jsx)(f.Z,{label:s("amount"),placeholder:s("please_enter_amount_paid"),name:"amount",value:j,type:"tel",onChange:e=>y(e.target.value),errorShow:b.state,msg:b.amount_issue}),(0,g.jsx)(h.Z,{label:"confirm",onAction:()=>{if(l){let e=(0,x.l)({query:j},[]);(0,x.x)(e)&&j<=i?(d((e=>!e)),S({rid:l,applicableBody:{price:+j}}).then((()=>{d((e=>!e)),n()})).catch({})):Z(j>i?{amount_issue:"Amount should be less than or equal to installment Amount"}:e)}}})]})]})}),a&&(0,g.jsx)(p.Z,{})]})},se=e=>{var n,l,t,o,a,d,u,m,v,h,p,f,x,j,y,b,Z,S,C,N;let{install:k,admission:A}=e;const F=(0,i.TH)(),{t:I}=(0,_.$G)(),[T,M]=(0,r.useState)(""),D=()=>{M("")};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:s.Z.student_admission_cash_card,style:{position:"relative"},children:[(0,g.jsxs)("section",{className:s.Z.admission_fees_amount,children:[(0,g.jsxs)("h6",{children:[null===k||void 0===k?void 0:k.installmentValue," ","Paid"===(null===k||void 0===k?void 0:k.status)&&(0,g.jsx)("span",{children:w()(null===k||void 0===k||null===(n=k.fee_receipt)||void 0===n?void 0:n.fee_transaction_date).format("DD-MMM-YY")})]}),(0,g.jsxs)("h6",{children:[I("rs_only"),null!==(l=null===k||void 0===k?void 0:k.remainAmount)&&void 0!==l?l:0]})]}),(0,g.jsx)("section",{className:s.Z.admission_fees_grant,style:{marginBottom:"0"},children:"Paid"===(null===k||void 0===k?void 0:k.status)?(0,g.jsx)(g.Fragment,{children:"Government Fees Shifted To Applicable Fees"===(null===k||void 0===k?void 0:k.revert_status)?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h6",{children:null!==(t=null===k||void 0===k?void 0:k.revert_status)&&void 0!==t?t:""}),(0,g.jsx)("h6",{children:"N/A"})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h6",{children:"By Cash"===(null===k||void 0===k||null===(o=k.fee_receipt)||void 0===o?void 0:o.fee_payment_mode)?"Offline":null!==k&&void 0!==k&&null!==(a=k.fee_receipt)&&void 0!==a&&a.fee_payment_mode?null===k||void 0===k||null===(d=k.fee_receipt)||void 0===d?void 0:d.fee_payment_mode:null!==(u=null===k||void 0===k?void 0:k.refund_status)&&void 0!==u?u:""}),(0,g.jsx)("h6",{children:"Set Off"===(null===k||void 0===k||null===(m=k.fee_receipt)||void 0===m?void 0:m.set_off_status)?"SetOff":"By Cash"===(null===k||void 0===k||null===(v=k.fee_receipt)||void 0===v?void 0:v.fee_payment_mode)?"Cash":"Exempted/Unrecovered"===(null===k||void 0===k||null===(h=k.fee_receipt)||void 0===h?void 0:h.fee_payment_mode)?"N/A":"Bank"})]})}):(0,g.jsx)(g.Fragment,{children:"Receipt Rejected"===(null===k||void 0===k?void 0:k.status)?(0,g.jsxs)("h6",{children:["".concat(I("reason")," : "),null===k||void 0===k||null===(p=k.fee_receipt)||void 0===p?void 0:p.reason]}):(0,g.jsxs)("h6",{children:[I("due_on"),null===k||void 0===k?void 0:k.dueDate]})})}),"Paid"!==(null===k||void 0===k?void 0:k.status)&&"Government Fees Shifted To Applicable Fees"!==(null===k||void 0===k?void 0:k.revert_status)&&oe[null===(f=F.state)||void 0===f?void 0:f.editGovtInstallmentControl]?(0,g.jsx)("img",{src:"".concat(c.J7,"/menu.svg"),alt:"menu icon",onClick:()=>{M(1)},className:s.Z.edit_icon,title:"Menu",style:{cursor:"pointer",top:"11%",right:"0%"}}):null,"Paid"===(null===k||void 0===k?void 0:k.status)?null:(0,g.jsx)("button",{className:s.Z.student_admission_collect_btn,style:{backgroundColor:"#1d22c9f7"},onClick:()=>{var e,n;te[null===(e=F.state)||void 0===e?void 0:e.govtAccess]&&"ADMISSION_ADMIN"!==(null===(n=F.state)||void 0===n?void 0:n.collectAccess)&&M(2)},children:I(te[null===(x=F.state)||void 0===x?void 0:x.govtAccess]&&"ADMISSION_ADMIN"!==(null===(j=F.state)||void 0===j?void 0:j.collectAccess)?"scholarship_outs":"unpaid")}),null!==k&&void 0!==k&&null!==(y=k.fee_receipt)&&void 0!==y&&y.txn_id||null!==k&&void 0!==k&&null!==(b=k.fee_receipt)&&void 0!==b&&b.fee_utr_reference?(0,g.jsx)("section",{className:s.Z.admission_fees_grant,children:(0,g.jsxs)("h6",{children:[I("transaction_id")," ",":",null!==(Z=null!==(S=null===k||void 0===k||null===(C=k.fee_receipt)||void 0===C?void 0:C.txn_id)&&void 0!==S?S:null===k||void 0===k||null===(N=k.fee_receipt)||void 0===N?void 0:N.fee_utr_reference)&&void 0!==Z?Z:""]})}):null]}),1===T?(0,g.jsx)(le,{onClose:D,onMenu:()=>{M(3)}}):2===T?(0,g.jsx)(ne,{onClose:D,admission:A,install:k}):3===T?(0,g.jsx)(ie,{onClose:D,installAmount:null===k||void 0===k?void 0:k.remainAmount,rid:null===A||void 0===A?void 0:A._id}):null]})},te={FINANCE_MANAGER:!0,Finance_scholarship:!0},oe={authorized:!0},ae=e=>{let{onClose:n,rid:l,sid:i,onParentClose:s}=e;const{t:a}=(0,_.$G)(),[d,j]=(0,r.useState)(!1),[y,b]=(0,r.useState)(!1),[Z,S]=(0,r.useState)({verify:""}),[C]=(0,t.D1)();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.Z,{children:(0,g.jsxs)("div",{className:m.Z.modal_container,children:[(0,g.jsx)(o.Z,{children:(0,g.jsxs)("div",{className:m.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:m.Z.modal_container_header,children:(0,g.jsx)("h6",{children:a("confirm_drop_admission_fees")})}),(0,g.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,g.jsx)(v.Z,{}),(0,g.jsxs)(o.Z,{customStyle:{paddingTop:"0"},children:[(0,g.jsx)(f.Z,{label:a("type_confirm_to_continue"),placeholder:a("type_confirm_to_continue"),name:"verify",value:null===Z||void 0===Z?void 0:Z.verify,type:"text",onChange:e=>S((n=>({...n,verify:e.target.value}))),errorShow:y.verify}),(0,g.jsx)(h.Z,{label:"confirm",onAction:()=>{let e=(0,x.l)(Z);(0,x.x)(e)&&"Confirm"===Z.verify&&l&&i?(j((e=>!e)),C({rid:l,sid:i}).then((()=>{s(),j((e=>!e))})).catch({})):b(e)}})]})]})}),d&&(0,g.jsx)(p.Z,{})]})};var de=l(77123);const re=e=>{let{structureId:n,onClose:l,aid:i,appId:s,sid:o,rid:a,did:d,bid:c,cmid:_,onParentClose:u}=e;const[m,v]=(0,r.useState)(!1),[h]=(0,t.$q)();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(de.Z,{onClose:l,did:d,bid:c,cmid:_,selectedStructure:n,onSelectedStrucutre:e=>{n===(null===e||void 0===e?void 0:e._id)||i&&o&&s&&n&&a&&(v((e=>!e)),h({aid:i,appId:s,sid:o,updateStrucutre:{old_fee_struct:n,new_fee_struct:null===e||void 0===e?void 0:e._id,rid:a}}).then((()=>{u(),v((e=>!e))})).catch({}))}}),m&&(0,g.jsx)(p.Z,{})]})},ce=(0,r.lazy)((()=>l.e(56212).then(l.bind(l,56212)))),_e=e=>{var n;let{onClose:l,rid:s,sid:t,is_drop:o,structureId:a,aid:d,appId:c,did:u,bid:m,cmid:v,isOneInstallment:h,admission:f}=e;const{t:x}=(0,_.$G)(),[y,b]=(0,r.useState)(!1),[Z,S]=(0,r.useState)(!1),[C,N]=(0,r.useState)(""),k=(0,i.TH)(),[A,F]=(0,r.useState)({open:!1,msg:"",variant:"error"}),I=()=>{h?S((e=>!e)):F({msg:"Only fees structures with one installment can be edited.",open:!0,variant:"error"})},w=()=>{b((e=>!e))};return(0,g.jsxs)(g.Fragment,{children:[y?(0,g.jsx)(ae,{rid:s,sid:t,onClose:w,onParentClose:l}):Z?(0,g.jsx)(re,{structureId:a,onClose:I,aid:d,appId:c,sid:t,rid:s,did:u,bid:m,cmid:v,onParentClose:l}):"CANCEL"===C?(0,g.jsx)(r.Suspense,{fallback:(0,g.jsx)(p.Z,{}),children:(0,g.jsx)(ce,{onClose:()=>{N("")},appId:c,admission:f,onParentClose:l})}):(0,g.jsxs)(T.Z,{onClose:l,children:[(0,g.jsx)("h6",{onClick:I,children:x("edit_fees_structure")}),o?(0,g.jsx)("h6",{onClick:w,children:x("drop")}):null,null!==(n=k.state)&&void 0!==n&&n.cancelAccess?(0,g.jsx)("h6",{onClick:()=>N("CANCEL"),children:x("cancel_addmission")}):null]}),(0,g.jsx)(j.Z,{eventState:A,eventStateHandler:F})]})},ue=e=>{var n,l,t,o,a,d,u,m,h,p,f,x,j,y,Z,S,C,N,k,F,I,w,T,M,D,E,G,O,P,q,R,B,L,$,H;let{admission:z}=e;const V=(0,i.TH)(),{t:J}=(0,_.$G)(),[W,Y]=(0,r.useState)(""),[K,X]=(0,r.useState)(!1),ne=()=>{X((e=>!e))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("section",{className:s.Z.af_container_inner,children:[(0,g.jsxs)("section",{className:s.Z.student_admission_card_title,children:[(0,g.jsx)("h6",{children:"Promote"===(null===z||void 0===z?void 0:z.card_type)?null!==(n=null===z||void 0===z||null===(l=z.student)||void 0===l||null===(t=l.studentClass)||void 0===t?void 0:t.classTitle)&&void 0!==n?n:"":null!==(o=null===z||void 0===z||null===(a=z.appId)||void 0===a?void 0:a.applicationName)&&void 0!==o?o:""}),(0,g.jsx)("p",{children:null!==(d=null===z||void 0===z||null===(u=z.fee_structure)||void 0===u?void 0:u.unique_structure_name)&&void 0!==d?d:""}),me[null===(m=V.state)||void 0===m?void 0:m.editStructureControl]?(0,g.jsx)("img",{src:"".concat(c.J7,"/menu.svg"),alt:"menu icon",onClick:()=>{Y(1)},className:s.Z.edit_icon,title:"Menu"}):null]}),null!==z&&void 0!==z&&null!==(h=z.fee_structure)&&void 0!==h&&null!==(p=h.category_master)&&void 0!==p&&p.scholarship_applicable?(0,g.jsx)(b,{scholarNumber:null===z||void 0===z?void 0:z.scholar_ship_number,rcid:null===z||void 0===z?void 0:z._id}):null,(0,g.jsx)(A,{admission:z,scholarshipApplicable:null===z||void 0===z||null===(f=z.fee_structure)||void 0===f||null===(x=f.category_master)||void 0===x?void 0:x.scholarship_applicable}),(0,g.jsxs)("div",{className:s.Z.afc_collapse,children:[(0,g.jsx)("span",{onClick:ne,children:J(K?"expand":"collapse")}),(0,g.jsx)("img",{src:"".concat(c.U_,K?"/collapse.svg":"/expand.svg"),alt:"collapse icon",onClick:ne})]}),K?null:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(v.Z,{}),(0,g.jsx)("h5",{className:s.Z.af_heading,children:J("from_student")}),(0,g.jsx)(ee,{title1:"o_total",amount1:null===z||void 0===z||null===(j=z.applicable_card)||void 0===j?void 0:j.applicable_fee,title2:"paid",amount2:null===z||void 0===z||null===(y=z.applicable_card)||void 0===y?void 0:y.paid_fee,title3:"outstanding",amount3:null===z||void 0===z||null===(Z=z.applicable_card)||void 0===Z?void 0:Z.remaining_fee}),null===z||void 0===z||null===(S=z.applicable_card)||void 0===S||null===(C=S.remaining_array)||void 0===C?void 0:C.map((e=>(0,g.jsx)(U,{install:e,admission:z},null===e||void 0===e?void 0:e._id))),(null===z||void 0===z||null===(N=z.government_card)||void 0===N?void 0:N.applicable_fee)>0||(null===z||void 0===z||null===(k=z.government_card)||void 0===k?void 0:k.paid_fee)>0||(null===z||void 0===z||null===(F=z.government_card)||void 0===F?void 0:F.remaining_fee)>0?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("h5",{className:s.Z.af_heading,style:{marginTop:"1.5rem"},children:[(0,g.jsx)(v.Z,{}),J("from_gov_scholarship")]}),(0,g.jsx)(ee,{title1:"o_total",amount1:null===z||void 0===z||null===(I=z.government_card)||void 0===I?void 0:I.applicable_fee,title2:"received",amount2:null===z||void 0===z||null===(w=z.government_card)||void 0===w?void 0:w.paid_fee,title3:"outstanding",amount3:null===z||void 0===z||null===(T=z.government_card)||void 0===T?void 0:T.remaining_fee}),null===z||void 0===z||null===(M=z.government_card)||void 0===M||null===(D=M.remaining_array)||void 0===D?void 0:D.map((e=>(0,g.jsx)(se,{install:e,admission:z},null===e||void 0===e?void 0:e._id)))]}):null,(0,g.jsx)(Q,{admission:z})]})]}),1===W?(0,g.jsx)(_e,{onClose:()=>{Y("")},rid:null===z||void 0===z?void 0:z._id,sid:null===z||void 0===z||null===(E=z.student)||void 0===E?void 0:E._id,is_drop:"Disable"!==(null===z||void 0===z?void 0:z.drop_status),structureId:null===z||void 0===z||null===(G=z.fee_structure)||void 0===G?void 0:G._id,aid:null===z||void 0===z||null===(O=z.appId)||void 0===O||null===(P=O.admissionAdmin)||void 0===P?void 0:P._id,appId:null===z||void 0===z||null===(q=z.appId)||void 0===q?void 0:q._id,did:null===z||void 0===z||null===(R=z.fee_structure)||void 0===R?void 0:R.department,bid:null===z||void 0===z||null===(B=z.fee_structure)||void 0===B?void 0:B.batch_master,cmid:null===z||void 0===z||null===(L=z.fee_structure)||void 0===L||null===($=L.class_master)||void 0===$?void 0:$._id,isOneInstallment:"1"===(null===z||void 0===z||null===(H=z.fee_structure)||void 0===H?void 0:H.total_installments),admission:z}):null]})},me={authorized:!0};var ve=l(66687);const he=e=>{var n,l,i,t,o,a,d,c,u,m,v,h,p,f,x,j;let{install:y,admission:b,isEditable:Z}=e;const{t:S}=(0,_.$G)(),[C,N]=(0,r.useState)("");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:s.Z.student_admission_cash_card,style:{position:"relative"},children:[(0,g.jsxs)("section",{className:s.Z.admission_fees_amount,children:[(0,g.jsxs)("h6",{children:[null===y||void 0===y?void 0:y.installmentValue," ","Paid"===(null===y||void 0===y?void 0:y.status)&&(0,g.jsx)("span",{children:w()(null===y||void 0===y||null===(n=y.fee_receipt)||void 0===n?void 0:n.fee_transaction_date).format("DD-MMM-YY")})]}),(0,g.jsxs)("h6",{children:[S("rs_only"),0===(null===y||void 0===y?void 0:y.remainAmount)?null===y||void 0===y?void 0:y.set_off:null!==(l=null===y||void 0===y?void 0:y.remainAmount)&&void 0!==l?l:0]})]}),0===(null===y||void 0===y?void 0:y.remainAmount)?null:(0,g.jsx)("section",{className:s.Z.admission_fees_grant,children:"Paid"===(null===y||void 0===y?void 0:y.status)&&"Rejected"!==(null===y||void 0===y?void 0:y.receipt_status)?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h6",{children:"By Cash"===(null===y||void 0===y||null===(i=y.fee_receipt)||void 0===i?void 0:i.fee_payment_mode)?"Offline":null!==y&&void 0!==y&&null!==(t=y.fee_receipt)&&void 0!==t&&t.fee_payment_mode?null===y||void 0===y||null===(o=y.fee_receipt)||void 0===o?void 0:o.fee_payment_mode:null!==(a=null===y||void 0===y?void 0:y.refund_status)&&void 0!==a?a:""}),(0,g.jsx)("h6",{children:"Set Off"===(null===y||void 0===y||null===(d=y.fee_receipt)||void 0===d?void 0:d.set_off_status)?"SetOff":"By Cash"===(null===y||void 0===y||null===(c=y.fee_receipt)||void 0===c?void 0:c.fee_payment_mode)?"Cash":"Exempted/Unrecovered"===(null===y||void 0===y||null===(u=y.fee_receipt)||void 0===u?void 0:u.fee_payment_mode)?"N/A":"Bank"})]}):(0,g.jsx)(g.Fragment,{children:"Rejected"===(null===y||void 0===y?void 0:y.receipt_status)?(0,g.jsxs)("h6",{style:{margin:"0"},children:["".concat(S("reason")," : "),null===y||void 0===y?void 0:y.reason]}):(0,g.jsxs)("h6",{style:{margin:"0"},children:[S("due_on"),null===y||void 0===y?void 0:y.dueDate]})})}),null!==y&&void 0!==y&&null!==(m=y.component)&&void 0!==m&&m.gov?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("section",{className:s.Z.admission_fees_grant,children:[(0,g.jsx)("h6",{style:{margin:"0"},children:S("applicable_fees")}),(0,g.jsxs)("h6",{style:{margin:"0",fontSize:"13px",color:"#121212"},children:[S("rs_only"),null!==(v=null===y||void 0===y||null===(h=y.component)||void 0===h?void 0:h.app)&&void 0!==v?v:0]})]}),(0,g.jsxs)("section",{className:s.Z.admission_fees_grant,children:[(0,g.jsx)("h6",{style:{margin:"0"},children:S("govt_fees")}),(0,g.jsxs)("h6",{style:{margin:"0",fontSize:"13px",color:"#121212"},children:[S("rs_only"),null!==(p=null===y||void 0===y||null===(f=y.component)||void 0===f?void 0:f.gov)&&void 0!==p?p:0]})]})]}):null,null!==y&&void 0!==y&&y.set_off_message?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("section",{className:s.Z.admission_fees_grant,children:(0,g.jsx)("h6",{style:{margin:"0",marginBottom:"0.2rem"},children:null===y||void 0===y?void 0:y.set_off_message})})}):null,"Requested"!==(null===y||void 0===y?void 0:y.receipt_status)&&"Rejected"!==(null===y||void 0===y?void 0:y.receipt_status)&&"Paid"===(null===y||void 0===y?void 0:y.status)?null!==y&&void 0!==y&&y.cover_status?(0,g.jsx)("button",{className:s.Z.student_admission_collect_btn,style:{width:"100%",backgroundColor:"rgb(92 92 92)",fontSize:"0.7rem"},children:null===y||void 0===y?void 0:y.cover_status}):0===(null===y||void 0===y?void 0:y.remainAmount)?null:(0,g.jsx)(G,{rid:null===y||void 0===y||null===(x=y.fee_receipt)||void 0===x?void 0:x._id,appId:null===b||void 0===b||null===(j=b.appId)||void 0===j?void 0:j._id}):(0,g.jsx)("button",{className:s.Z.student_admission_collect_btn,style:{width:"100%"},onClick:()=>{null!==y&&void 0!==y&&y.isEnable&&N(2)},children:"Requested"===(null===y||void 0===y?void 0:y.receipt_status)?S("receipt_requested"):"Rejected"===(null===y||void 0===y?void 0:y.receipt_status)?S("receipt_rejected"):S("pay")})]}),2===C?(0,g.jsx)(ve.Z,{onClose:()=>{N("")},install:y,admission:b,isEditable:Z}):null]})},pe=e=>{var n,l,i,t,o,a,d,u,m,h,p,f,x,j,y,Z,S,C;let{admission:N,howManyCard:k,isEditable:F}=e;const{t:I}=(0,_.$G)(),[w,T]=(0,r.useState)(!0),M=()=>{T((e=>!e))};return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("section",{className:s.Z.af_container_inner,style:{flex:fe[k]?"1 1 49%":"inherite",maxWidth:fe[k]?"49%":"inherite"},children:[(0,g.jsxs)("section",{className:s.Z.student_admission_card_title,children:[(0,g.jsx)("h6",{children:"Promote"===(null===N||void 0===N?void 0:N.card_type)?null!==(n=null===N||void 0===N||null===(l=N.student)||void 0===l||null===(i=l.studentClass)||void 0===i?void 0:i.classTitle)&&void 0!==n?n:"":null!==(t=null===N||void 0===N||null===(o=N.appId)||void 0===o?void 0:o.applicationName)&&void 0!==t?t:""}),(0,g.jsx)("p",{children:null!==(a=null===N||void 0===N||null===(d=N.fee_structure)||void 0===d?void 0:d.unique_structure_name)&&void 0!==a?a:""})]}),(0,g.jsx)(b,{scholarNumber:null===N||void 0===N?void 0:N.scholar_ship_number,rcid:null===N||void 0===N?void 0:N._id}),(0,g.jsx)(A,{admission:N}),(0,g.jsxs)("div",{className:s.Z.afc_collapse,children:[(0,g.jsx)("span",{onClick:M,children:I(w?"expand":"collapse")}),(0,g.jsx)("img",{src:"".concat(c.U_,w?"/collapse.svg":"/expand.svg"),alt:"collapse icon",onClick:M})]}),w?null:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(v.Z,{}),(0,g.jsx)("h5",{className:s.Z.af_heading,children:I("from_student")}),(0,g.jsx)(ee,{title1:"o_total",amount1:null===N||void 0===N||null===(u=N.applicable_card)||void 0===u?void 0:u.applicable_fee,title2:"paid",amount2:null===N||void 0===N||null===(m=N.applicable_card)||void 0===m?void 0:m.paid_fee,title3:"outstanding",amount3:null===N||void 0===N||null===(h=N.applicable_card)||void 0===h?void 0:h.remaining_fee}),null===N||void 0===N||null===(p=N.applicable_card)||void 0===p||null===(f=p.remaining_array)||void 0===f?void 0:f.map((e=>(0,g.jsx)(he,{install:e,admission:N,isEditable:F},null===e||void 0===e?void 0:e._id))),(null===N||void 0===N||null===(x=N.government_card)||void 0===x?void 0:x.applicable_fee)>0?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("h5",{className:s.Z.af_heading,style:{marginTop:"1.5rem"},children:[(0,g.jsx)(v.Z,{}),I("from_gov_scholarship")]}),(0,g.jsx)(ee,{title1:"o_total",amount1:null===N||void 0===N||null===(j=N.government_card)||void 0===j?void 0:j.applicable_fee,title2:"received",amount2:null===N||void 0===N||null===(y=N.government_card)||void 0===y?void 0:y.paid_fee,title3:"outstanding",amount3:null===N||void 0===N||null===(Z=N.government_card)||void 0===Z?void 0:Z.remaining_fee}),null===N||void 0===N||null===(S=N.government_card)||void 0===S||null===(C=S.remaining_array)||void 0===C?void 0:C.map((e=>(0,g.jsx)(se,{install:e,admission:N},null===e||void 0===e?void 0:e._id)))]}):null,(0,g.jsx)(Q,{admission:N,isAuthorized:"notAuthorized"})]})]})})},fe={onlyTowCard:!0},xe=e=>{var n,l,r;let{isEditable:c}=e;const _=(0,i.TH)(),{studentAdmissionFeeList:u,studentAdmissionFeeListLoading:m}=(0,t.Wb)({sid:null===(n=_.state)||void 0===n?void 0:n.sid,skip:!(null!==(l=_.state)&&void 0!==l&&l.sid)});return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(o.Z,{children:(0,g.jsxs)("section",{className:s.Z.af_container,children:["STUDENT"===(null===(r=_.state)||void 0===r?void 0:r.viewAs)?null===u||void 0===u?void 0:u.map((e=>{var n;return(0,g.jsx)(pe,{admission:e,howManyCard:null===(n=_.state)||void 0===n?void 0:n.howManyCard,isEditable:c},null===e||void 0===e?void 0:e._id)})):null===u||void 0===u?void 0:u.map((e=>(0,g.jsx)(ue,{admission:e},null===e||void 0===e?void 0:e._id))),m?(0,g.jsx)(a.Z,{}):0===(null===u||void 0===u?void 0:u.length)&&(0,g.jsx)(d.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission fees list."})]})})})}},85794:(e,n,l)=>{l.d(n,{Z:()=>c});var i=l(72791),s=l(54164),t=l(15783),o=l(98684),a=l(80184);const d=e=>{let{onClose:n,isVariant:l,isHide:i,children:d}=e;return s.createPortal((0,a.jsx)("div",{children:(0,a.jsx)("div",{className:i?t.Z.notify_hide_overlay:t.Z.notify_overlay,children:(0,a.jsxs)("div",{className:t.Z.notify_container,style:{"--notify-bg-color":l},children:[d,(0,a.jsx)("img",{src:"".concat(o.Fk,"/close-white.svg"),alt:"close icon",onClick:n,className:t.Z.notify_close})]})})}),document.getElementById("notify-alert"))},r={success:"green",error:"#ed4a4a",warning:"orange"},c=e=>{var n;let{eventState:l,eventStateHandler:s}=e;const[o,c]=(0,i.useState)(!1);return null!==l&&void 0!==l&&l.open?(0,a.jsx)(d,{onClose:()=>{c(!0);let e=setTimeout((()=>{s((e=>({...e,open:!1,msg:"",variant:"success"}))),c(!1)}),500);return()=>clearTimeout(e)},isVariant:r[null===l||void 0===l?void 0:l.variant],isHide:o,children:(0,a.jsx)("h6",{className:t.Z.notify_message,children:null!==(n=null===l||void 0===l?void 0:l.msg)&&void 0!==n?n:""})}):null}},78981:(e,n,l)=>{l.d(n,{Z:()=>i});const i={af_container:"StudentAdmissionFees_af_container__Ujcky",af_container_inner:"StudentAdmissionFees_af_container_inner__XqsB1",afc_collapse:"StudentAdmissionFees_afc_collapse__NOW5n",safcst_container:"StudentAdmissionFees_safcst_container__+h3we",safcst_container_inner:"StudentAdmissionFees_safcst_container_inner__2XAhi",af_heading:"StudentAdmissionFees_af_heading__S1QwL",af_top_container:"StudentAdmissionFees_af_top_container__lY3mr",edit_icon:"StudentAdmissionFees_edit_icon__qdSg1",admission_fees_container:"StudentAdmissionFees_admission_fees_container__DT2KG",admission_fees_amount:"StudentAdmissionFees_admission_fees_amount__94M+n",admission_fees_amount_top:"StudentAdmissionFees_admission_fees_amount_top__cOmxF",admission_fees_grant:"StudentAdmissionFees_admission_fees_grant__l+6B8",pending_btn:"StudentAdmissionFees_pending_btn__0tfYk",paid_btn:"StudentAdmissionFees_paid_btn__sM4tO",refund_btn:"StudentAdmissionFees_refund_btn__mUqNR",card_title:"StudentAdmissionFees_card_title__lnVPO",collect_btn:"StudentAdmissionFees_collect_btn__5BueI",add_remark:"StudentAdmissionFees_add_remark__qrcQO",add_remark_btn:"StudentAdmissionFees_add_remark_btn__zteTD",add_remark_text:"StudentAdmissionFees_add_remark_text__MLxEk",remark_modal:"StudentAdmissionFees_remark_modal__C3jhB",save_remark:"StudentAdmissionFees_save_remark__LnpAM",remark_modal_title:"StudentAdmissionFees_remark_modal_title__WeXGc",student_admission_fees_card_container:"StudentAdmissionFees_student_admission_fees_card_container__HODQX",student_admission_card_title:"StudentAdmissionFees_student_admission_card_title__Bj54b",student_admission_count_container:"StudentAdmissionFees_student_admission_count_container__BwIb0",student_admission_count:"StudentAdmissionFees_student_admission_count__hc-KT",student_admission_count_image:"StudentAdmissionFees_student_admission_count_image__jgbyV",show_text:"StudentAdmissionFees_show_text__aG358",student_admission_cash_card:"StudentAdmissionFees_student_admission_cash_card__rY1DQ",view_receipt_btn:"StudentAdmissionFees_view_receipt_btn__yIDFL",student_admission_collect_btn:"StudentAdmissionFees_student_admission_collect_btn__oV+d1",remark_card_container:"StudentAdmissionFees_remark_card_container__2TW2I",image_refund_btn:"StudentAdmissionFees_image_refund_btn__eaTlh",add_scholar_number_btn:"StudentAdmissionFees_add_scholar_number_btn__luF-w"}}}]);
//# sourceMappingURL=37047.d77f1e57.chunk.js.map