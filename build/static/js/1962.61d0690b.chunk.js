"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[1962],{72952:function(e,t,n){var i=n(1413),o=(n(72791),n(39230)),a=n(38733),s=n(80184);t.Z=function(e){var t,n=e.labelText,r=e.name,l=e.type,d=e.value,c=e.onChange,u=e.placeholder,_=e.errorShow,v=e.customStyleContainer,f=e.disabled,m=(0,o.$G)().t;return(0,s.jsxs)("div",{className:a.Z.join_form_container,style:(0,i.Z)({},v),children:[(0,s.jsxs)("label",{className:a.Z.join_form_label,htmlFor:r,children:[n," ",_&&(0,s.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",m("form_require_label")]})]}),(0,s.jsx)("textarea",{className:a.Z.join_form_text_area,type:l,value:d,onChange:c,name:r,placeholder:u,rows:d?(null===d||void 0===d||null===(t=d.split("\n"))||void 0===t?void 0:t.length)+3:1,disabled:f})]})}},19206:function(e,t,n){var i=n(29439),o=n(72791),a=n(98094),s=n(36665),r=n(72952),l=n(98734),d=n(6245),c=n(33399),u=n(39230),_=n(39480),v=n(97655),f=n(37782),m=n(84959),h=n(74289),g=n(80184);t.Z=function(e){var t=e.onClose,p=e.uniqueGr,x=e.instituteId,N=e.isViewBy,S=e.commingReason,y=e.certificateId,j=e.onRefetch,I=(0,u.$G)().t,A=(0,o.useState)(!1),Z=(0,i.Z)(A,2),b=Z[0],F=Z[1],C=(0,o.useState)(!1),T=(0,i.Z)(C,2),E=T[0],k=T[1],O=(0,o.useState)(""),w=(0,i.Z)(O,2),R=w[0],D=w[1],P=(0,o.useState)(""),U=(0,i.Z)(P,2),M=U[0],B=U[1],G=(0,o.useState)(""),q=(0,i.Z)(G,2),H=q[0],L=q[1],Y=(0,o.useState)(!1),W=(0,i.Z)(Y,2),V=W[0],$=W[1],J=(0,d._)(),K=(0,i.Z)(J,1)[0],Q=(0,m.FL)(),z=(0,i.Z)(Q,1)[0],X=(0,h.H7)(),ee=(0,i.Z)(X,1)[0],te=(0,_.p0)({data:{id:x,type:"ID"},skip:!x}),ne=te.oneInstituteProfile,ie=te.oneInstituteProfileRefetch;(0,o.useEffect)((function(){x&&ie()}),[x,ie]),(0,o.useEffect)((function(){"REQUEST_TAB"===N&&D(S||"")}),[S,N]);var oe=function(){$((function(e){return!e}))};return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(s.Z,{onClose:function(){b||t()},children:[(0,g.jsx)("div",{className:c.Z.add_category_modal,style:{width:"30rem",minHeight:"10rem",height:"fit-content"},children:(0,g.jsxs)("section",{className:c.Z.fee_middle_section_container,style:{marginBottom:"1.2rem"},children:[(0,g.jsx)("h6",{style:{fontSize:"20px",fontWeight:"600"},children:I("bonafide")}),(0,g.jsx)(a.Z,{customStyle:{width:"100%",marginTop:"0.7rem"}}),(0,g.jsx)(r.Z,{labelText:I("enter_reason"),placeholder:I("enter_reason"),name:"reason",value:R,type:"text",onChange:function(e){var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)<=75&&D(e.target.value)},errorShow:E}),(0,g.jsx)(r.Z,{labelText:I("bonafide_message_optional"),placeholder:I("bonafide_message_optional_placeholder"),name:"message",value:M,type:"text",onChange:function(e){var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)<=75&&B(e.target.value)}}),(0,g.jsx)(v.Z,{labelText:I("competent_authority"),placeholder:I("competent_authority_lable"),name:"authority",value:H,type:"text",onChange:function(e){var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)<=75&&L(e.target.value)}}),(0,g.jsxs)("section",{className:c.Z.letter_head_container,children:[V?(0,g.jsx)("img",{src:"/images/checkbox-icon.svg",alt:"icon",onClick:oe}):(0,g.jsx)("img",{src:"/images/box-icon.svg",alt:"icon",onClick:oe}),(0,g.jsx)("h6",{children:I("printing_on_letter_head")})]}),(0,g.jsx)("button",{onClick:function(){p&&R&&x?(F((function(e){return!e})),K({gr:p,id:x,bonafideReason:{reason:R,student_bona_message:M}}).then((function(e){var i,o;null!==e&&void 0!==e&&null!==(i=e.data)&&void 0!==i&&i.student&&function(e){var i=(0,f.hR)(null===ne||void 0===ne?void 0:ne.institute,e,{reason:R,message:M,authority:H,uniqueGr:p,letterHead:V}),o=i.institute,a=i.studentInfo,s=new Worker(new URL(n.p+n.u(4268),n.b));s.postMessage({printCertificateType:"BONAFIDE",studentInfo:a,institute:o}),s.onmessage=function(n){if(n&&null!==e&&void 0!==e&&e._id){if("REQUEST_TAB"===N){var i=new FormData;i.append("file",n.data),z({fileUpload:i}).then((function(e){var t;ee({cid:y,attach:null===(t=e.data)||void 0===t?void 0:t.imageKey,status:"Issued"}).then((function(){j(),F((function(e){return!e})),window.open(URL.createObjectURL(n.data),"_blank")})).catch({})})).catch({})}else window.open(URL.createObjectURL(n.data),"_blank"),F((function(e){return!e}));t()}}}(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.student)})).catch({})):R||k(!0)},className:c.Z.fee_middle_confirm_button,style:{marginTop:"4rem"},children:I("confirm")})]})}),b&&(0,g.jsx)(l.Z,{})]})})}},51962:function(e,t,n){n.d(t,{Z:function(){return P}});var i=n(29439),o=n(72791),a=n(55136),s=n(16871),r=n(43504),l=n(95048),d=n(39230),c=n(64540),u=n(30510),_=n(27346),v=n(36665),f=n(80184),m=function(e){var t,n,s,r,l,m=e.studentId,h=e.openAs,g=e.editAs,p=(0,d.$G)().t,x=o.useState("Month"),N=(0,i.Z)(x,2),S=N[0],y=N[1],j=(0,o.useState)(""),I=(0,i.Z)(j,2),A=I[0],Z=I[1],b=(0,o.useState)(!1),F=(0,i.Z)(b,2),C=F[0],T=F[1],E=(new Date).toISOString().split("-"),k=+E[1]>9?+E[1]:"0".concat(+E[1]),O=(0,c.MJ)({sid:m,month:"Month"===S?k:"",year:+E[0]},{skip:!m}),w=O.data,R=O.refetch,D=(0,u.gP)({data:{sid:m,month:"Month"===S?k:"",year:+E[0],subjectId:null===A||void 0===A?void 0:A._id},skip:!(null!==A&&void 0!==A&&A._id)||!m}),P=D.studentSubjectAttendance,U=D.studentSubjectAttendanceRefetch;o.useEffect((function(){m&&R()}),[m,S,R]),o.useEffect((function(){null!==A&&void 0!==A&&A._id&&U()}),[null===A||void 0===A?void 0:A._id,S,U]);var M=function(e){y(e)},B=function(){T((function(e){return!e}))};return(0,f.jsxs)("div",{className:a.Z.student_attendane_container,style:{right:"STUDENT_SECTION"===h||"ADMISSION_ADMIN"===h?"11%":"INSTITUTE"===g?"10%":"INSTITUTE"===h||"CLASS_CATALOG"===h?"8%":h?"1.6%":"11%"},children:[(0,f.jsxs)("div",{className:a.Z.student_attendance_heading,children:[(0,f.jsx)("h6",{children:A?null!==(t=null===A||void 0===A?void 0:A.subjectName)&&void 0!==t?t:"":p("class_attendance")}),(0,f.jsx)("img",{src:"/images/filter-blue-icon.svg",alt:"filter icon",onClick:B,title:"Filter by subject",style:{cursor:"pointer"}})]}),(0,f.jsxs)("div",{className:a.Z.colours,children:[(0,f.jsxs)("div",{className:a.Z.monthColours,onClick:function(){return M("Month")},children:[(0,f.jsx)("p",{children:"Monthly"}),"Month"===S?(0,f.jsx)("img",{src:"/images/radio-active.svg",alt:""}):(0,f.jsx)("img",{src:"/images/radio-disabled.svg",alt:""})]}),(0,f.jsxs)("div",{className:a.Z.monthColours,onClick:function(){return M("Year")},children:[(0,f.jsx)("p",{children:"Yearly"}),"Year"===S?(0,f.jsx)("img",{src:"/images/radio-active.svg",alt:""}):(0,f.jsx)("img",{src:"/images/radio-disabled.svg",alt:""})]})]}),(0,f.jsxs)("div",{className:a.Z.percentage,children:[(0,f.jsxs)("div",{className:a.Z.presentcount,children:[(0,f.jsx)("p",{children:"Present Count"}),(0,f.jsxs)("p",{children:[A?null===P||void 0===P||null===(n=P.presentArray)||void 0===n?void 0:n.length:null===w||void 0===w||null===(s=w.presentArray)||void 0===s?void 0:s.length," ","days"]}),(0,f.jsxs)("p",{children:[A?"NaN"===(null===P||void 0===P?void 0:P.present)?0:null===P||void 0===P?void 0:P.present:"NaN"===(null===w||void 0===w?void 0:w.present)?0:null===w||void 0===w?void 0:w.present," ","%"]})]}),(0,f.jsxs)("div",{className:a.Z.absentcount,children:[(0,f.jsx)("p",{children:"Absent Count"}),(0,f.jsxs)("p",{children:[A?null===P||void 0===P||null===(r=P.absentArray)||void 0===r?void 0:r.length:null===w||void 0===w||null===(l=w.absentArray)||void 0===l?void 0:l.length," ","days"]}),(0,f.jsxs)("p",{children:[A?"NaN"===(null===P||void 0===P?void 0:P.absent)?0:null===P||void 0===P?void 0:P.absent:"NaN"===(null===w||void 0===w?void 0:w.absent)?0:null===w||void 0===w?void 0:w.absent,"%"]})]})]}),C&&(0,f.jsx)(v.Z,{onClose:B,children:(0,f.jsx)("div",{style:{width:"30rem",minHeight:"10rem",maxHeight:"35rem",overflowY:"auto",overflowX:"hidden",scrollBehavior:"smooth",padding:"1rem"},children:(0,f.jsx)(_.Z,{sid:m,onFilterAttendance:function(e){(null===A||void 0===A?void 0:A._id)===(null===e||void 0===e?void 0:e._id)?Z(""):Z(e),B()},filterAttendance:A})})})]})},h=n(91007),g=function(e){var t,n,i,l,c,u,_,v,m=e.carryParrentState,g=e.studentId,p=(0,d.$G)().t,x=(0,s.UO)(),N=(0,h.$J)("".concat(g),{skip:!g}),S=N.data,y=N.refetch;(0,o.useEffect)((function(){g&&y()}),[g,y]);var j=function(e,t,n){return e+t+n};return(0,f.jsxs)("div",{className:a.Z.admission_fees,children:[(0,f.jsxs)("div",{children:[(0,f.jsxs)("h5",{style:{color:"#008000"},children:[p("rs"),"."," ",j((null===S||void 0===S||null===(t=S.student)||void 0===t?void 0:t.studentPaidFeeCount)||0,(null===S||void 0===S||null===(n=S.student)||void 0===n?void 0:n.admissionPaidFeeCount)||0,(null===S||void 0===S||null===(i=S.student)||void 0===i?void 0:i.hostelPaidFeeCount)||0)]}),(0,f.jsx)("h6",{style:{marginBottom:"1.5rem"},children:p("total_fees_paid")}),(0,f.jsxs)("h5",{style:{color:"#121212"},children:[p("rs"),"."," ",j((null===S||void 0===S||null===(l=S.student)||void 0===l?void 0:l.studentRemainingFeeCount)||0,(null===S||void 0===S||null===(c=S.student)||void 0===c?void 0:c.admissionRemainFeeCount)||0,(null===S||void 0===S||null===(u=S.student)||void 0===u?void 0:u.hostelRemainFeeCount)||0)]}),(0,f.jsx)("h6",{children:p("total_outs")})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)(r.rU,{to:"/q/".concat(x.username,"/student/profile"),state:m,children:(0,f.jsxs)("div",{className:a.Z.card_hold_container,children:[(0,f.jsx)("img",{src:"/images/link-forword-icon.svg",alt:"forword link"}),(0,f.jsx)("h6",{children:p("view_profile")})]})}),(0,f.jsxs)("h5",{style:{color:"#121212",marginTop:"1.5rem"},children:[p("rs"),". ",null!==(_=null===S||void 0===S||null===(v=S.student)||void 0===v?void 0:v.applicable_fees_pending)&&void 0!==_?_:0]}),(0,f.jsx)("h6",{children:p("applicable_outs")})]})]})},p=n(19206),x=n(6245),N=n(98734),S=n(34314),y=function(e){var t,n,r=e.instituteId,l=e.uniqueGr,c=(0,d.$G)().t,u=(0,o.useState)(""),_=(0,i.Z)(u,2),v=_[0],m=_[1],h=(0,o.useState)(!1),g=(0,i.Z)(h,2),y=g[0],j=g[1],I=(0,s.s0)(),A=(0,s.UO)(),Z=(0,s.TH)(),b=function(e){m(e)},F=(0,x.vB)(),C=(0,i.Z)(F,1)[0],T=function(e){r&&l&&(j((function(e){return!e})),C({id:r,gr:l,leavingFeedback:{number:l,studentCertificateNo:"",leaving_date:"",bookNo:"",studentUidaiNumber:"",studentPreviousSchool:"",studentLeavingBehaviour:"",studentLeavingStudy:"",studentLeavingReason:"",studentRemark:"",instituteJoinDate:"",instituteLeavingDate:"",leaving_degree:"",leaving_since_date:"",leaving_course_duration:"",elective_subject_one:"",elective_subject_second:"",leaving_project_work:"",leaving_guide_name:""}}).then((function(t){j((function(e){return!e})),I("/q/".concat(A.username,"/student/certificate/form"),"LEAVING"===e?{state:{student:t.data.student,download:t.data.download,instituteId:r,is_leaving:"leaving"}}:{state:{student:t.data.student,download:t.data.download,instituteId:r,is_leaving:"transfer"}})})).catch({}))};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:a.Z.certificate_btn_container,children:[(0,f.jsx)("button",{className:a.Z.certificate_btn,onClick:function(){return b("BONAFIDE")},children:c("bonafide")}),(0,f.jsx)("button",{className:a.Z.certificate_btn,onClick:function(){return T("LEAVING")},children:c("leaving")}),(0,f.jsx)("button",{className:a.Z.certificate_btn,onClick:function(){return T("TRANSFER")},children:c("transfer_certificate")}),(0,f.jsx)("button",{className:a.Z.certificate_btn,onClick:function(){return b("STUDENT_MESSAGE")},children:c("student_message")})]}),"BONAFIDE"===v&&(0,f.jsx)(p.Z,{onClose:function(){return b("")},uniqueGr:l,instituteId:r}),"STUDENT_MESSAGE"===v&&(0,f.jsx)(S.Z,{onClose:function(){return b("")},sendStudentList:null===(t=Z.state)||void 0===t?void 0:t.sid,instituteId:r,accessAs:"CERTIFICATE_AUTHORITY",headId:null===(n=Z.state)||void 0===n?void 0:n.headId}),y&&(0,f.jsx)(N.Z,{})]})},j=n(73343),I=n(98472),A=function(e){var t,n=e.sid,s=(0,d.$G)().t,r=(0,o.useState)(!1),l=(0,i.Z)(r,2),c=l[0],u=l[1],_=(0,o.useState)([]),v=(0,i.Z)(_,2),m=v[0],h=v[1],g=(0,o.useState)(!1),p=(0,i.Z)(g,2),x=p[0],S=p[1],y=(0,j.cl)(),A=(0,i.Z)(y,1)[0];return(0,o.useEffect)((function(){x&&(document.getElementById("csv_download_file").click(),S(!1),u((function(e){return!e})))}),[x]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:a.Z.certificate_btn_container,children:(0,f.jsx)("button",{className:a.Z.certificate_btn,onClick:function(){n&&(u(!0),A({studentId:{sid:n}}).then((function(e){h((function(){var t;return function(e){var t,n;return[{GRNo:null===e||void 0===e?void 0:e.studentGRNO,Name:(null===e||void 0===e?void 0:e.studentFirstName)+" "+(null===e||void 0===e?void 0:e.studentMiddleName)+" "+(null===e||void 0===e?void 0:e.studentLastName),Gender:null===e||void 0===e?void 0:e.studentGender,MotherName:null!==e&&void 0!==e&&e.studentMotherName?null===e||void 0===e?void 0:e.studentMotherName:"NA",DOB:null!==e&&void 0!==e&&e.studentDOB?null===e||void 0===e?void 0:e.studentDOB:"NA","Blood Group":null!==e&&void 0!==e&&e.student_blood_group?null===e||void 0===e?void 0:e.student_blood_group:"NA","Caste Category":null!==e&&void 0!==e&&e.studentCastCategory?null===e||void 0===e?void 0:e.studentCastCategory:"NA",Religion:null!==e&&void 0!==e&&e.studentReligion?null===e||void 0===e?void 0:e.studentReligion:"NA",BirthPlace:null!==e&&void 0!==e&&e.studentBirthPlace?null===e||void 0===e?void 0:e.studentBirthPlace:"NA",Address:null!==e&&void 0!==e&&e.studentAddress?null===e||void 0===e?void 0:e.studentAddress:"NA",ParentsName:null!==e&&void 0!==e&&e.studentParentsName?null===e||void 0===e?void 0:e.studentParentsName:"NA","Parent's Contact":null!==e&&void 0!==e&&e.studentParentsPhoneNumber?null===e||void 0===e?void 0:e.studentParentsPhoneNumber:"NA",State:null!==e&&void 0!==e&&e.studentState?null===e||void 0===e?void 0:e.studentState:"NA",District:null!==e&&void 0!==e&&e.studentDistrict?null===e||void 0===e?void 0:e.studentDistrict:"NA",Nationality:null!==e&&void 0!==e&&e.studentNationality?null===e||void 0===e?void 0:e.studentNationality:"NA",Class:null===e||void 0===e||null===(t=e.studentClass)||void 0===t?void 0:t.classTitle,Contact:null===e||void 0===e?void 0:e.studentPhoneNumber,Email:null===e||void 0===e?void 0:e.studentEmail,AdmissionDate:null===e||void 0===e||null===(n=e.studentAdmissionDate)||void 0===n?void 0:n.split("T")[0],AadharNumber:null!==e&&void 0!==e&&e.studentAadharNumber?null===e||void 0===e?void 0:e.studentAadharNumber:"NA","Mother Tongue":null!==e&&void 0!==e&&e.studentMTongue?null===e||void 0===e?void 0:e.studentMTongue:"NA",Caste:null!==e&&void 0!==e&&e.studentCast?null===e||void 0===e?void 0:e.studentCast:"NA","Current Address":null!==e&&void 0!==e&&e.studentCurrentAddress?null===e||void 0===e?void 0:e.studentCurrentAddress:"NA","Father Ration Color":null!==e&&void 0!==e&&e.studentFatherRationCardColor?null===e||void 0===e?void 0:e.studentFatherRationCardColor:"NA","Parent's Occupation":null!==e&&void 0!==e&&e.studentParentsOccupation?null===e||void 0===e?void 0:e.studentParentsOccupation:"NA","Parent's Annual Income":null!==e&&void 0!==e&&e.studentParentsAnnualIncom?null===e||void 0===e?void 0:e.studentParentsAnnualIncom:"NA","Previous School":null!==e&&void 0!==e&&e.studentPreviousSchool?null===e||void 0===e?void 0:e.studentPreviousSchool:"NA","Bank Name":null!==e&&void 0!==e&&e.studentBankName?null===e||void 0===e?void 0:e.studentBankName:"NA","Bank Account":null!==e&&void 0!==e&&e.studentBankAccount?null===e||void 0===e?void 0:e.studentBankAccount:"NA","Bank Holder Name":null!==e&&void 0!==e&&e.studentBankAccountHolderName?null===e||void 0===e?void 0:e.studentBankAccountHolderName:"NA","Bank Ifsc":null!==e&&void 0!==e&&e.studentBankIfsc?null===e||void 0===e?void 0:e.studentBankIfsc:"NA"}]}(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.student_card)})),S(!0)})).catch({}))},children:s("id_card")})}),(0,f.jsx)(I.CSVLink,{data:m,filename:"".concat(null===m||void 0===m||null===(t=m[0])||void 0===t?void 0:t.Name,"-id-card"),id:"csv_download_file"}),c&&(0,f.jsx)(N.Z,{})]})},Z=n(1413),b=n(72952),F=n(33399),C=n(98094),T=n(97655),E=n(29017),k=function(e){var t=e.uniqueGr,n=e.onClose,a=e.studentId,s=e.onRefetch,r=(0,d.$G)().t,l=(0,o.useState)(!1),c=(0,i.Z)(l,2),u=c[0],_=c[1],m=(0,o.useState)(!1),h=(0,i.Z)(m,2),g=h[0],p=h[1],x=(0,E.Nt)(),S=(0,i.Z)(x,1)[0],y=(0,o.useState)({query_content:"",query_gr:null!==t&&void 0!==t?t:""}),j=(0,i.Z)(y,2),I=j[0],A=j[1];(0,o.useEffect)((function(){t&&A((function(e){return(0,Z.Z)((0,Z.Z)({},e),{},{query_gr:null!==t&&void 0!==t?t:""})}))}),[t]);return(0,f.jsxs)(v.Z,{onClose:n,children:[(0,f.jsx)("div",{className:F.Z.add_category_modal,style:{width:"30rem",minHeight:"10rem",height:"fit-content"},children:(0,f.jsxs)("section",{className:F.Z.fee_middle_section_container,style:{marginBottom:"1.2rem"},children:[(0,f.jsx)("h6",{style:{fontSize:"20px",fontWeight:"600"},children:r("update_student_gr")}),(0,f.jsx)(C.Z,{customStyle:{width:"100%",marginTop:"0.7rem",marginBottom:"1rem"}}),(0,f.jsx)(T.Z,{labelText:r("student_gr"),placeholder:r("student_gr_placeholder"),name:"query_gr",value:null===I||void 0===I?void 0:I.query_gr,type:"text",onChange:function(e){return A((function(t){return(0,Z.Z)((0,Z.Z)({},t),{},{query_gr:e.target.value})}))},errorShow:g.query_gr}),(0,f.jsx)(b.Z,{labelText:r("gr_student_message_label"),placeholder:r("gr_student_message_label_placeholder"),name:"query_content",value:I.query_content,type:"text",onChange:function(e){return A((function(t){return(0,Z.Z)((0,Z.Z)({},t),{},{query_content:e.target.value})}))},errorShow:g.query_content}),(0,f.jsx)("button",{onClick:function(){var e=function(e){var t={};for(var n in e)e[n]||(t[n]="".concat(n," is required!"));return t}(I),t=!1;for(var i in e)if(i){t=!0;break}t?p(e):(_((function(e){return!e})),S({sid:a,grNumberContent:I}).then((function(){s(),_((function(e){return!e})),n()})).catch({}))},className:F.Z.fee_middle_confirm_button,style:{marginTop:"4rem"},children:r("update")})]})}),u&&(0,f.jsx)(N.Z,{})]})},O=n(86109),w=n(69721),R=["SUBJECT_TEACHER","LEAVING_FORM","FINANCE_MANAGER","ADMISSION_ADMIN_SCHOLARSHIP","VIEW_ADMISSION_PAGE_FEES","INSTITUTE_ADMIN","STUDENT","CERTIFICATE_AUTHORITY","ID_CARD_SECTION"],D=["ADMISSION_ADMIN","FINANCE_MANAGER","CERTIFICATE_AUTHORITY","STUDENT_SECTION","ID_CARD_SECTION","INSTITUTE_ADMIN"],P=function(e){var t,n,c,u,_,v,h,p,x,S,j,I,Z,b,F,C,T=e.dynamicImage,E=e.indexNumber,P=e.designation,U=e.name,M=e.activeUrl,B=e.sid,G=e.viewAs,q=e.openAs,H=e.onEdit,L=e.grNumber,Y=e.carryParrentState,W=e.admissionButton,V=e.is_hostel_link,$=e.is_view_profile,J=e.editAs,K=e.uniqueGr,Q=e.instituteId,z=e.onRefetchStudentApi,X=e.isGrButtonLock,ee=e.currentDesignation,te=(0,d.$G)().t,ne=(0,s.UO)(),ie=(0,s.TH)(),oe=(0,l.v9)((function(e){return e.idChange.loginProfile})),ae=(0,o.useState)(!1),se=(0,i.Z)(ae,2),re=se[0],le=se[1],de=(0,o.useState)(!1),ce=(0,i.Z)(de,2),ue=ce[0],_e=ce[1],ve=(0,O.OB)(),fe=(0,i.Z)(ve,1)[0],me=function(){if("Locked"===X)return null;le((function(e){return!e}))};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:a.Z.staff_profile_photo_container,style:{minHeight:"CERTIFICATE_AUTHORITY"===q?"12rem":"5rem"},children:["ID_CARD_SECTION"===q?(0,f.jsx)("img",{src:T,alt:"staff avatar",className:a.Z.staff_profile_photo_image,style:{cursor:"pointer"},title:"Download profile photo",onClick:function(){_e(!0),fe({instituteId:B}).then((function(e){var t;window.open("".concat(w.zQ,"/").concat(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.Key),"_blank"),_e(!1)})).catch({})}}):(0,f.jsx)("img",{src:T,alt:"staff avatar",className:a.Z.staff_profile_photo_image}),(0,f.jsxs)("div",{className:a.Z.staff_profile_photo_info,children:[(0,f.jsxs)("h5",{className:a.Z.staff_profile_photo_name,children:[U,"HOSTEL"===$?(0,f.jsx)(r.rU,{to:"/q/".concat(ne.username,"/student/profile/"),state:{sid:null===(t=ie.state)||void 0===t?void 0:t.sid,viewAs:q,instituteId:null===(n=ie.state)||void 0===n?void 0:n.instituteId,collectAccess:null===(c=ie.state)||void 0===c?void 0:c.collectAccess},children:(0,f.jsx)("span",{style:{fontSize:"10px",fontWeight:"400",color:"#0000ff"},children:" (".concat(te("view_profile"),")")})}):V&&(0,f.jsx)(r.rU,{to:"/q/".concat(ne.username,"/student/profile/hostel"),state:{sid:null===(u=ie.state)||void 0===u?void 0:u.sid,viewAs:q,instituteId:null===(_=ie.state)||void 0===_?void 0:_.instituteId,collectAccess:null===(v=ie.state)||void 0===v?void 0:v.collectAccess},children:(0,f.jsx)("span",{style:{fontSize:"10px",fontWeight:"400",color:"#0000ff"},children:" (".concat(te("hostel_profile"),")")})})]}),(0,f.jsx)("p",{className:a.Z.staff_profile_photo_index,children:E}),"student"===M&&(0,f.jsxs)("p",{className:a.Z.staff_profile_photo_index,children:[L,(null===D||void 0===D?void 0:D.includes(q))&&(0,f.jsx)("span",{style:{fontSize:"12px",fontWeight:"400",color:"Locked"===X?"rgb(177 177 176)":"#0000ff",cursor:"pointer"},onClick:me,children:" (".concat(te("Locked"===X?"requested":"edit_"),")")})]}),(0,f.jsx)("p",{className:a.Z.staff_profile_photo_index,children:P}),ee&&(0,f.jsx)("p",{className:a.Z.staff_profile_photo_index,children:ee})]}),"student"===M&&"VIEW_ADMISSION_PAGE_FEES"===q?(0,f.jsx)(g,{carryParrentState:Y,studentId:null===(h=ie.state)||void 0===h?void 0:h.sid}):"student"===M&&(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(r.rU,{to:"/q/".concat(ne.username,"HOSTEL"===$?"/student/profile/hostel/fees":"/student/profile/admission"),state:{sid:null===(p=ie.state)||void 0===p?void 0:p.sid,viewAs:q,isHostel:"HOSTEL"===$?"Hostel":"",instituteId:null===(x=ie.state)||void 0===x?void 0:x.instituteId,collectAccess:null===(S=ie.state)||void 0===S?void 0:S.collectAccess},children:(0,f.jsxs)("div",{className:a.Z.link_hold_container,style:{right:W?"40%":"35%"},children:[(0,f.jsx)("img",{src:"/images/link-forword-icon.svg",alt:"forword link"}),(0,f.jsx)("h6",{children:te("admission_fees")})]})})}),"CERTIFICATE_AUTHORITY"===q?(0,f.jsx)(y,{uniqueGr:K,instituteId:Q}):"ID_CARD_SECTION"===q?(0,f.jsx)(A,{sid:null===(j=ie.state)||void 0===j?void 0:j.sid}):"student"===M&&(0,f.jsx)(m,{studentId:null===(I=ie.state)||void 0===I?void 0:I.sid,openAs:q,editAs:J}),"STAFF"===J?null:"INSTITUTE"===J?(0,f.jsx)(r.rU,{to:"/q/".concat(oe.username,"/edit/").concat(M),state:{openAs:"INSTITUTE_SIDE",sid:null===(Z=ie.state)||void 0===Z?void 0:Z.sid},children:(0,f.jsx)("img",{src:"/images/user-pencil-edit.svg",alt:"edit icon",className:a.Z.staff_profile_photo_edit})}):null!==R&&void 0!==R&&R.includes(q)?"":G?(0,f.jsx)("img",{src:"/images/user-pencil-edit.svg",alt:"edit icon",className:a.Z.staff_profile_photo_edit,onClick:H,style:{cursor:"pointer"}}):(0,f.jsx)(r.rU,{to:"/q/".concat(oe.username,"/edit/").concat(M),state:{openAs:"INSTITUTE_SIDE",sid:null!==(b=ie.state)&&void 0!==b&&b.sid?null===(F=ie.state)||void 0===F?void 0:F.sid:B},children:(0,f.jsx)("img",{src:"/images/user-pencil-edit.svg",alt:"edit icon",className:a.Z.staff_profile_photo_edit})})]}),re&&(0,f.jsx)(k,{onClose:me,uniqueGr:K,studentId:null===(C=ie.state)||void 0===C?void 0:C.sid,onRefetch:z}),ue&&(0,f.jsx)(N.Z,{})]})}},86109:function(e,t,n){n.d(t,{AR:function(){return d},GI:function(){return a},OB:function(){return l},PY:function(){return r},YR:function(){return s}});var i=n(29439),o=n(73343),a=function(e){var t=(0,o.ce)();return{staffExportData:t.data,staffExportDataRefetch:t.refetch}},s=function(e){var t=(0,o.Y7)(e.id,{skip:e.skip});return{insIdCardData:t.data,insIdCardDataRefetch:t.refetch}},r=function(){var e=(0,o.tO)();return[(0,i.Z)(e,1)[0]]},l=function(){var e=(0,o.f7)();return[(0,i.Z)(e,1)[0]]},d=function(){var e=(0,o.Nm)();return[(0,i.Z)(e,1)[0]]}},38986:function(e,t,n){var i=n(1413),o=n(72791),a=n(52245),s=n(39230),r=n(1095),l=n(80184);t.Z=function(e){var t=e.label,n=e.name,d=e.value,c=e.onChange,u=e.errorShow,_=e.disabled,v=e.customFormFileContainer,f=e.customFormFileLabel,m=e.customFormFile,h=e.type,g=e.multiple,p=(0,s.$G)().t,x=(0,o.useCallback)((function(){var e=window.open("".concat(r.yI,"/").concat(null===d||void 0===d?void 0:d.key),"_blank","noopener,noreferrer");e&&(e.opener=null)}),[]);return(0,l.jsxs)("div",{className:a.Z.form_input_container,style:(0,i.Z)({},v),children:[t&&(0,l.jsxs)("label",{className:a.Z.form_input_label,style:f,children:[t,u?(0,l.jsxs)("span",{className:a.Z.form_input_label_error,children:["* ",p("form_require_label")]}):null]}),(0,l.jsxs)("div",{className:a.Z.form_file_container,style:m,children:[(0,l.jsx)("label",{className:d?"".concat(a.Z.form_file_choose," ").concat(a.Z.form_file_choose_active):a.Z.form_file_choose,htmlFor:n,children:p(""!==d?"file_choosen":"choose_file")}),(0,l.jsx)("label",{className:a.Z.form_file_choosen,onClick:x,children:""!==d?null!==d&&void 0!==d&&d.name?null===d||void 0===d?void 0:d.name:p("view"):p("no_file_chosen")})]}),(0,l.jsx)("input",{type:"file",multiple:!!g,accept:h||"image/*, .doc,.docx, application/pdf,.csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",name:n,id:n,style:{display:"none"},onChange:c,disabled:_})]})}},34314:function(e,t,n){var i=n(1413),o=n(29439),a=n(6758),s=n(55336),r=n(90904),l=n(11468),d=n(48293),c=n(21348),u=n(72791),_=n(39230),v=n(4007),f=n(98684),m=n(93638),h=n(84959),g=n(99183),p=n(38986),x=n(80184);t.Z=function(e){var t=e.onClose,n=e.sendStudentList,N=e.instituteId,S=e.headId,y=e.accessAs,j=(0,_.$G)().t,I=(0,u.useState)(!1),A=(0,o.Z)(I,2),Z=A[0],b=A[1],F=(0,u.useState)(""),C=(0,o.Z)(F,2),T=C[0],E=C[1],k=(0,u.useState)({alarm_mode:"APP_NOTIFICATION",content:"",m_title:"",m_doc:""}),O=(0,o.Z)(k,2),w=O[0],R=O[1],D=(0,u.useState)(""),P=(0,o.Z)(D,2),U=P[0],M=P[1],B=(0,h.FL)(),G=(0,o.Z)(B,1)[0],q=(0,a.cd)(),H=(0,o.Z)(q,1)[0];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(d.Z,{children:(0,x.jsxs)("div",{className:v.Z.modal_container,children:[(0,x.jsx)(c.Z,{children:(0,x.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,x.jsx)("div",{className:v.Z.modal_container_header,children:(0,x.jsx)("h6",{children:j("student_message")})}),(0,x.jsx)("img",{src:"".concat(f.J7,"/close.svg"),alt:"close icon",onClick:t})]})}),(0,x.jsx)(r.Z,{}),(0,x.jsxs)(c.Z,{customStyle:{paddingTop:"0"},children:[(0,x.jsxs)("section",{className:v.Z.notify_container,onClick:function(){return R((function(e){return(0,i.Z)((0,i.Z)({},e),{},{alarm_mode:"APP_NOTIFICATION"})}))},children:[(0,x.jsx)("img",{src:"APP_NOTIFICATION"===w.alarm_mode?"".concat(f.Fk,"/radio-blue.svg"):"".concat(f.Fk,"/radio-grey.svg"),alt:"icon"}),(0,x.jsxs)("div",{className:v.Z.notify_text,children:[(0,x.jsx)("h6",{children:j("Notify_with_In_app_Notification")}),(0,x.jsx)("p",{children:j("Notify_with_In_app_Notification_note")})]})]}),(0,x.jsxs)("section",{className:v.Z.notify_container,children:[(0,x.jsx)("img",{src:"EMAIL_NOTIFICATION"===w.alarm_mode?"".concat(f.Fk,"/radio-blue.svg"):"".concat(f.Fk,"/radio-grey.svg"),alt:"icon"}),(0,x.jsxs)("div",{className:v.Z.notify_text,children:[(0,x.jsx)("h6",{children:j("Notify_On_Email_and_SMS")}),(0,x.jsx)("p",{children:j("Notify_On_Email_and_SMS_note")})]})]}),"APP_NOTIFICATION"===w.alarm_mode&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(l.Z,{label:j("student_title_label"),placeholder:j("student_title_label_placeholder"),name:"m_title",value:w.m_title,type:"text",onChange:function(e){return R((function(t){return(0,i.Z)((0,i.Z)({},t),{},{m_title:e.target.value})}))},errorShow:T.m_title}),(0,x.jsx)(l.Z,{label:j("student_message_label"),placeholder:j("student_message_label_placeholder"),name:"content",value:w.content,type:"text",onChange:function(e){return R((function(t){return(0,i.Z)((0,i.Z)({},t),{},{content:e.target.value})}))}}),(0,x.jsx)(p.Z,{label:j("document"),name:"document",value:U,onChange:function(e){if(e.target.files[0]){b((function(e){return!e}));var t=new FormData;t.append("file",e.target.files[0]),G({fileUpload:t}).then((function(t){var n,o,a;M({name:null===(n=e.target.files[0])||void 0===n?void 0:n.name,key:null===(o=t.data)||void 0===o?void 0:o.imageKey,type:null===(a=e.target.files[0])||void 0===a?void 0:a.type}),R((function(e){var n;return(0,i.Z)((0,i.Z)({},e),{},{m_doc:null===(n=t.data)||void 0===n?void 0:n.imageKey})})),b((function(e){return!e}))})).catch({})}}})]}),(0,x.jsx)(m.Z,{label:"confirm",onAction:function(){var e,i,o=(0,g.l)(w,["content","m_doc"]);(0,g.x)(o)?w.alarm_mode&&(null===n||void 0===n?void 0:n.length)>0&&N&&(b((function(e){return!e})),H({sendMessage:{message:w.content,from:null!==S&&void 0!==S?S:"",type:"ADMISSION_ADMIN"===y?"Admission Head":"FINANCE_MANAGER"===y?"Finance Head":"CERTIFICATE_AUTHORITY"===y?"Certificate Authority":"STUDENT_SECTION"===y?"Student Section":"ID_CARD_SECTION"===y?"Id Card Authority":"Institute Admin",alarm_mode:w.alarm_mode,sid:n,flow:"INSTITUTE_ADMIN"===y?"INSTITUTE_ADMIN":"Other",m_title:null!==(e=w.m_title)&&void 0!==e?e:"",m_doc:null!==(i=w.m_doc)&&void 0!==i?i:null},id:N}).then((function(){t(),b((function(e){return!e}))})).catch({})):E(o)}})]})]})}),Z&&(0,x.jsx)(s.Z,{})]})}},33399:function(e,t){t.Z={fess_container:"FeesStructure_fess_container__KJfJA",category_header:"FeesStructure_category_header__0NZE9",category_header_title:"FeesStructure_category_header_title__a6uYK",fees_category:"FeesStructure_fees_category__B3Yax",fees_category_icon:"FeesStructure_fees_category_icon__JArrd",fees_category_text:"FeesStructure_fees_category_text__pt891",assignment_description_head:"FeesStructure_assignment_description_head__Qc3FE",assignment_description:"FeesStructure_assignment_description__qqF15",department_container:"FeesStructure_department_container__dpMM0",department_card_name:"FeesStructure_department_card_name__eWHf+",department_card_head:"FeesStructure_department_card_head__B2ZwA",department_card_title:"FeesStructure_department_card_title__eyEiT",add_new_category:"FeesStructure_add_new_category__3y9Qr",category_card:"FeesStructure_category_card__NVUgp",fees_card_text:"FeesStructure_fees_card_text__F3gSO",category_card_fee:"FeesStructure_category_card_fee__3w8Sb",fees_card_text_bottom:"FeesStructure_fees_card_text_bottom__7HBFH",department_card_container:"FeesStructure_department_card_container__4Otk6",department_card_image:"FeesStructure_department_card_image__+RQd-",fees_card:"FeesStructure_fees_card__WTgO6",add_category_modal:"FeesStructure_add_category_modal__a37mG",add_category_modal_title:"FeesStructure_add_category_modal_title__DxkYZ",structure_container_title:"FeesStructure_structure_container_title__EUdFM",add_category_modal_title_left:"FeesStructure_add_category_modal_title_left__2nPOT",set_fees_structure_btn:"FeesStructure_set_fees_structure_btn__V7NPc",installment_list:"FeesStructure_installment_list__wA45E",fees_head_title:"FeesStructure_fees_head_title__IxR06",fees_head_installment:"FeesStructure_fees_head_installment__IiGql",table_heading:"FeesStructure_table_heading__RNv9z",table_container:"FeesStructure_table_container__hJ+PK",table_body:"FeesStructure_table_body__O02ZC",table_body_list:"FeesStructure_table_body_list__F5n3s",fee_head_name_input:"FeesStructure_fee_head_name_input__mmPKk",fee_head_amount_input:"FeesStructure_fee_head_amount_input__9C2eU",add_fees_head_btn:"FeesStructure_add_fees_head_btn__YHLGM",fees_total:"FeesStructure_fees_total__-0grI",create_fees_structure_btn:"FeesStructure_create_fees_structure_btn__yySE7",fees_card_hover:"FeesStructure_fees_card_hover__3ulkW",fees_card_hover_active:"FeesStructure_fees_card_hover_active__ESF6D",fee_middle_section:"FeesStructure_fee_middle_section__INnVO",fee_middle_confirm_button:"FeesStructure_fee_middle_confirm_button__C0Q6g",fee_middle_section_container:"FeesStructure_fee_middle_section_container__1lMVJ",edit_icon:"FeesStructure_edit_icon__EhhnH",search_container:"FeesStructure_search_container__IDhvw",search_container_text:"FeesStructure_search_container_text__PWYPL",searchIcon:"FeesStructure_searchIcon__dKXPf",category_card_hover:"FeesStructure_category_card_hover__vDSbu",category_card_hover_active:"FeesStructure_category_card_hover_active__5bQ7H",menu_icon:"FeesStructure_menu_icon__Ns6lc",upload_excel_container:"FeesStructure_upload_excel_container__jommG",upload_excel_file:"FeesStructure_upload_excel_file__+csTW",add_employee_staff:"FeesStructure_add_employee_staff__Hrl+P",add_employee_staff_text:"FeesStructure_add_employee_staff_text__LgZOf",payroll_account_btn:"FeesStructure_payroll_account_btn__t3vSl",account_payment_row:"FeesStructure_account_payment_row__VO533",normal_select_btn:"FeesStructure_normal_select_btn__yU6K-",seating_modal:"FeesStructure_seating_modal__w52St",add_category_modal_title_active:"FeesStructure_add_category_modal_title_active__hFUaf",notify_container:"FeesStructure_notify_container__C+qTv",notify_text:"FeesStructure_notify_text__d3pZD",next_btn:"FeesStructure_next_btn__tR55q",btn_group:"FeesStructure_btn_group__NPo8U",leave_dates:"FeesStructure_leave_dates__2IQZS",letter_head_container:"FeesStructure_letter_head_container__+fkq5",all_leave_config:"FeesStructure_all_leave_config__yscHC"}}}]);
//# sourceMappingURL=1962.61d0690b.chunk.js.map