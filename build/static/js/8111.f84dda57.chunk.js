"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[8111],{41233:function(i,e,o){var t=o(1413),l=o(37762),n=o(29439),s=o(72791),a=o(39230),d=o(38733),r=o(80184);e.Z=function(i){var e=i.selectLabel,o=i.onClick,u=i.selectedValue,c=i.options,v=i.customStyleContainer,_=i.customLabelStyle,m=i.customListStyle,f=i.openAs,h=i.errorShow,y=i.defalutValue,g=i.viewAs,p=(0,a.$G)().t,Z=(0,s.useState)(!1),N=(0,n.Z)(Z,2),x=N[0],j=N[1],H=(0,s.useState)(""),T=(0,n.Z)(H,2),b=T[0],L=T[1],C=function(){j((function(i){return!i}))};(0,s.useEffect)((function(){"EVENT_MANAGER"!==g&&"ADMISSION_APPLICATION"!==g&&"FINANCE_BANK"!==g&&"NORMAL_FILTER"!==g||L(y)}),[g,y]),(0,s.useEffect)((function(){if("CUSTOM_FILTER"===g){var i,e="",o=(0,l.Z)(c);try{for(o.s();!(i=o.n()).done;){var t,n=i.value,s=(0,l.Z)(y);try{for(s.s();!(t=s.n()).done;){var a=t.value;if((null===n||void 0===n?void 0:n._id)===a){var d,r,u,v=null!==(d=null!==(r=null!==(u=null===n||void 0===n?void 0:n.dName)&&void 0!==u?u:null===n||void 0===n?void 0:n.batchName)&&void 0!==r?r:null===n||void 0===n?void 0:n.className)&&void 0!==d?d:"";e=e?e+", "+v:v}}}catch(_){s.e(_)}finally{s.f()}}}catch(_){o.e(_)}finally{o.f()}L(e)}}),[g,y,c]);var S=function(i){o(i),C()};return(0,r.jsxs)("div",{className:d.Z.join_form_container,style:(0,t.Z)({},v),children:[(0,r.jsxs)("p",{className:d.Z.join_form_select_paragraph,style:(0,t.Z)({},_),children:[e,h&&(0,r.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",p("form_require_label")]})]}),(0,r.jsxs)("section",{className:d.Z.join_form_select_custom,onClick:C,children:[b?(0,r.jsx)("p",{className:d.Z.join_form_select_custom_paragraph,children:null!==b&&void 0!==b?b:""}):(0,r.jsx)("p",{className:d.Z.join_form_select_custom_paragraph,children:u}),(0,r.jsx)("img",{className:d.Z.join_form_select_custom_icon,src:"/images/down-icon.svg",alt:"categor icon"})]}),x&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("section",{className:d.Z.join_form_select_custom_list,style:m?(0,t.Z)({},m):(null===c||void 0===c?void 0:c.length)>2?{overflowY:"scroll"}:{backgroundColor:"#ffffff"},children:null===c||void 0===c?void 0:c.map((function(i,e){var o,t,l,n,s,a,u,c,v,_,m,h;return(0,r.jsx)("p",{onClick:function(){var e,o,t,l,n,s,a,d,r,u,c,v;(S("PROMOTE"===f?i:null!==i&&void 0!==i&&i._id?null===i||void 0===i?void 0:i._id:i),"FINANCE_BANK"===g)||L(null!==(e=null!==(o=null!==(t=null!==(l=null!==(n=null!==(s=null!==(a=null!==(d=null!==(r=null!==(u=null!==(c=null===i||void 0===i?void 0:i.dName)&&void 0!==c?c:null===i||void 0===i?void 0:i.batchName)&&void 0!==u?u:null===i||void 0===i?void 0:i.className)&&void 0!==r?r:null===i||void 0===i?void 0:i.classTitle)&&void 0!==d?d:null===i||void 0===i?void 0:i.category_name)&&void 0!==a?a:null===i||void 0===i||null===(v=i.category_master)||void 0===v?void 0:v.category_name)&&void 0!==s?s:null===i||void 0===i?void 0:i.hostel_unit_name)&&void 0!==n?n:null===i||void 0===i?void 0:i.room_name)&&void 0!==l?l:null===i||void 0===i?void 0:i.subjectName)&&void 0!==t?t:null===i||void 0===i?void 0:i.vehicle_number)&&void 0!==o?o:null===i||void 0===i?void 0:i.finance_bank_account_name)&&void 0!==e?e:i)},className:d.Z.join_form_select_custom_paragraph_option,children:null!==(o=null!==(t=null!==(l=null!==(n=null!==(s=null!==(a=null!==(u=null!==(c=null!==(v=null!==(_=null!==(m=null===i||void 0===i?void 0:i.dName)&&void 0!==m?m:null===i||void 0===i?void 0:i.batchName)&&void 0!==_?_:null===i||void 0===i?void 0:i.className)&&void 0!==v?v:null===i||void 0===i?void 0:i.classTitle)&&void 0!==c?c:null===i||void 0===i?void 0:i.category_name)&&void 0!==u?u:null===i||void 0===i||null===(h=i.category_master)||void 0===h?void 0:h.category_name)&&void 0!==a?a:null===i||void 0===i?void 0:i.hostel_unit_name)&&void 0!==s?s:null===i||void 0===i?void 0:i.room_name)&&void 0!==n?n:null===i||void 0===i?void 0:i.subjectName)&&void 0!==l?l:null===i||void 0===i?void 0:i.vehicle_number)&&void 0!==t?t:null===i||void 0===i?void 0:i.finance_bank_account_name)&&void 0!==o?o:i},e)}))})})]})}},32883:function(i,e,o){o.d(e,{Z:function(){return Z}});var t=o(93433),l=o(29439),n=o(72791),s=o(39230),a=o(23441),d=o(6245),r=o(65543),u=o(15961),c=o(11105),v=o(16871),_=o(98094),m=o(33965),f=o(72426),h=o.n(f),y=o(55133),g=o(80184),p=function(i){var e,o,t,a,d,r,u,c,v,_=i.data,f=(0,s.$G)().t,p=(0,n.useState)(!1),Z=(0,l.Z)(p,2),N=Z[0],x=Z[1],j=function(){x((function(i){return!i}))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:m.Z.sidebarheader,children:[(0,g.jsxs)("div",{className:m.Z.text,style:{width:"80%"},children:[(0,g.jsx)("p",{className:m.Z.rcv,children:f("message")}),(0,g.jsx)("h6",{children:null!==(e=null===_||void 0===_?void 0:_.message)&&void 0!==e?e:""}),(0,g.jsxs)("p",{className:m.Z.rcv,children:[f("by")," "," : ",null!==(o=null===_||void 0===_?void 0:_.message_type)&&void 0!==o?o:"",null!==_&&void 0!==_&&_.from?"(".concat(null!==(t=null===_||void 0===_||null===(a=_.from)||void 0===a?void 0:a.staffFirstName)&&void 0!==t?t:""," ").concat(null!==(d=null===_||void 0===_||null===(r=_.from)||void 0===r?void 0:r.staffMiddleName)&&void 0!==d?d:""," ").concat(null!==(u=null===_||void 0===_||null===(c=_.from)||void 0===c?void 0:c.staffLastName)&&void 0!==u?u:"",")"):""]})]}),(0,g.jsxs)("div",{className:m.Z.text,children:[(0,g.jsxs)("h6",{style:{cursor:"pointer",color:"#00f"},onClick:j,children:[f("student")," "," : "," ",null!==(v=null===_||void 0===_?void 0:_.student_list_count)&&void 0!==v?v:0]}),(0,g.jsxs)("p",{className:m.Z.rcv,children:[h()(null===_||void 0===_?void 0:_.created_at).format("DD MMM, yyyy"),", ",h()(null===_||void 0===_?void 0:_.created_at).format("LT")]})]})]}),N&&(0,g.jsx)(y.Z,{studentList:null===_||void 0===_?void 0:_.student_list,onClose:j})]})},Z=function(i){var e=i.sid,o=(i.isInstitute,(0,s.$G)().t),m=(0,v.s0)(),f=(0,a.YD)(),h=(0,l.Z)(f,2),y=h[0],Z=h[1],N=(0,n.useState)(1),x=(0,l.Z)(N,2),j=x[0],H=x[1],T=(0,n.useState)(!0),b=(0,l.Z)(T,2),L=b[0],C=b[1],S=(0,n.useState)(!0),w=(0,l.Z)(S,2),k=w[0],A=w[1],E=(0,n.useState)([]),M=(0,l.Z)(E,2),R=M[0],I=M[1],F=(0,d.xt)({data:{sid:e,page:j,limit:10,flow:"INSTITUTE_ADMIN"},skip:!e}),Y=F.getStudentMessageHistoryGenerate,D=F.getStudentMessageHistoryGenerateRefetch,G=(0,r.u)().scrollToTop;(0,n.useEffect)((function(){G()}),[]),(0,n.useEffect)((function(){e&&(A(!0),D())}),[e,j,D]),(0,n.useEffect)((function(){Z&&L&&H((function(i){return i+1}))}),[Z,L]),(0,n.useEffect)((function(){var i,e;null!==Y&&void 0!==Y&&Y.all_message?(I(1===j?null===Y||void 0===Y?void 0:Y.all_message:function(i){var e,o;return null===(e=(0,t.Z)(new Set(null===(o=[].concat((0,t.Z)(i),(0,t.Z)(null===Y||void 0===Y?void 0:Y.all_message)))||void 0===o?void 0:o.map(JSON.stringify))))||void 0===e?void 0:e.map(JSON.parse)}),A(!1)):0===(null===Y||void 0===Y||null===(i=Y.all_message)||void 0===i?void 0:i.length)&&A(!1),10===(null===Y||void 0===Y||null===(e=Y.all_message)||void 0===e?void 0:e.length)?C(!0):C(!1)}),[null===Y||void 0===Y?void 0:Y.all_message]);return(0,g.jsxs)("div",{className:u.Z.admission_application_container,children:[(0,g.jsxs)("section",{className:u.Z.moderator_container_title,children:[(0,g.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){m(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,g.jsx)("div",{className:u.Z.with_search,children:(0,g.jsx)("h6",{children:o("message_history")})})]}),(0,g.jsx)(_.Z,{customStyle:{width:"100%",marginTop:"0.5rem",marginBottom:"0.5rem"}}),null===R||void 0===R?void 0:R.map((function(i,e){return(null===R||void 0===R?void 0:R.length)===e+1?(0,g.jsx)("div",{ref:y,children:(0,g.jsx)(p,{data:i})},null===i||void 0===i?void 0:i._id):(0,g.jsx)(p,{data:i},null===i||void 0===i?void 0:i._id)})),k&&(0,g.jsx)(c.Z,{status:"white"})]})}},55133:function(i,e,o){var t=o(29439),l=o(72791),n=o(36665),s=o(98094),a=o(39230),d=o(33399),r=o(33148),u=o(98734),c=o(45897),v=o(34219),_=o(80184);e.Z=function(i){var e=i.onClose,o=i.studentList,f=(0,a.$G)().t,h=(0,l.useState)(!1),y=(0,t.Z)(h,2),g=y[0],p=(y[1],(0,l.useState)([])),Z=(0,t.Z)(p,2),N=Z[0],x=Z[1];(0,l.useEffect)((function(){o&&x((function(){return o}))}),[o]);return(0,_.jsxs)(n.Z,{onClose:e,children:[(0,_.jsx)("div",{className:d.Z.add_category_modal,style:{width:"30rem",minHeight:"10rem",maxHeight:"35rem",overflowX:"hidden",overflowY:"auto",scrollBehavior:"smooth"},children:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:r.Z.select_header,children:(0,_.jsx)("h6",{children:f("student_list")})}),(0,_.jsx)(s.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),(0,_.jsx)("section",{className:d.Z.search_container,children:(0,_.jsxs)("div",{className:d.Z.search_container_text,children:[(0,_.jsx)("img",{className:d.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,_.jsx)("input",{type:"text",placeholder:f("search-label"),onChange:function(i){if(i.target.value){var e=m(o,i.target.value);x((function(){return e}))}else x((function(){return o}))}})]})}),(null===N||void 0===N?void 0:N.length)<1&&(0,_.jsx)(v.Z,{customStyleContainer:{marginTop:"9rem"},title:"No student found."}),null===N||void 0===N?void 0:N.map((function(i,e){return(0,_.jsx)(c.Z,{stu:i,isMessage:!0},e)}))]})}),g&&(0,_.jsx)(u.Z,{})]})};var m=function(){var i=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((function(e){var o,t,l,n,s,a,d=null!==(o=null!==(t=null!==(l=null===e||void 0===e?void 0:e.studentFirstName)&&void 0!==l?l:" "+(null===e||void 0===e?void 0:e.studentMiddleName))&&void 0!==t?t:" "+(null===e||void 0===e?void 0:e.studentLastName))&&void 0!==o?o:"";return null!==d&&void 0!==d&&null!==(n=d.toLowerCase())&&void 0!==n&&n.includes(null===i||void 0===i?void 0:i.toLowerCase())||null!==e&&void 0!==e&&null!==(s=e.studentGRNO)&&void 0!==s&&null!==(a=s.toLowerCase())&&void 0!==a&&a.includes(null===i||void 0===i?void 0:i.toLowerCase())?e:null}))}},33965:function(i,e){e.Z={history:"History_history__zT0JY",moderator_container_title:"History_moderator_container_title__zlgYe",moderator_container_title_filter:"History_moderator_container_title_filter__nIFhU",dueListTop:"History_dueListTop__yIMKg",dueListTopleft:"History_dueListTopleft__F5lTL",dueListTopbuttons:"History_dueListTopbuttons__qD9fX",dueListTopbtn:"History_dueListTopbtn__-wm1S",dueListTopbtnActive:"History_dueListTopbtnActive__y10iy",incomeContainer:"History_incomeContainer__kbyvR",income:"History_income__p0sbk",incomeLeft:"History_incomeLeft__xc+1W",incomeRight:"History_incomeRight__0WXJK",incomeLeftt:"History_incomeLeftt__TXgr0",itemsContainer:"History_itemsContainer__Y5tqY",rcv:"History_rcv__i+r3c",sidebarheader:"History_sidebarheader__kMTZv",text:"History_text__y3bAE",btn:"History_btn__b-XxZ",incomeRightt:"History_incomeRightt__oi53y",incomeTop:"History_incomeTop__7YSzU",right:"History_right__iZ36A",rightHead:"History_rightHead__0VEiK",rightBody:"History_rightBody__p-a0H",detail:"History_detail__r12VC",detailTop:"History_detailTop__zShgR",detailTopLeft:"History_detailTopLeft__AcJSZ",detailTopMid:"History_detailTopMid__A5imZ",detailTopRight:"History_detailTopRight__8-HlA",detailContent:"History_detailContent__lYofn",imagediv:"History_imagediv__z3cqD",backh:"History_backh__teYCR",searchContainer:"History_searchContainer__5KBm-",noData:"History_noData__0-f5b",history_image_container:"History_history_image_container__cfLZp"}}}]);
//# sourceMappingURL=8111.f84dda57.chunk.js.map