"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[78866],{41233:(e,n,a)=>{a.d(n,{Z:()=>d});var l=a(72791),i=a(39230),o=a(38733),t=a(80184);const d=e=>{let{selectLabel:n,onClick:a,selectedValue:d,options:c,customStyleContainer:s,customLabelStyle:r,customListStyle:_,openAs:u,errorShow:v,defalutValue:m,viewAs:b}=e;const{t:f}=(0,i.$G)(),[h,p]=(0,l.useState)(!1),[k,x]=(0,l.useState)(""),j=()=>{p((e=>!e))};(0,l.useEffect)((()=>{"EVENT_MANAGER"!==b&&"ADMISSION_APPLICATION"!==b&&"FINANCE_BANK"!==b&&"NORMAL_FILTER"!==b||x(m)}),[b,m]),(0,l.useEffect)((()=>{if("CUSTOM_FILTER"===b){let l="";for(let i of c)for(let o of m)if((null===i||void 0===i?void 0:i._id)===o){var e,n,a;let o=null!==(e=null!==(n=null!==(a=null===i||void 0===i?void 0:i.dName)&&void 0!==a?a:null===i||void 0===i?void 0:i.batchName)&&void 0!==n?n:null===i||void 0===i?void 0:i.className)&&void 0!==e?e:"";l=l?l+", "+o:o}x(l)}}),[b,m,c]);return(0,t.jsxs)("div",{className:o.Z.join_form_container,style:{...s},children:[(0,t.jsxs)("p",{className:o.Z.join_form_select_paragraph,style:{...r},children:[n,v&&(0,t.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",f("form_require_label")]})]}),(0,t.jsxs)("section",{className:o.Z.join_form_select_custom,onClick:j,children:[k?(0,t.jsx)("p",{className:o.Z.join_form_select_custom_paragraph,children:null!==k&&void 0!==k?k:""}):(0,t.jsx)("p",{className:o.Z.join_form_select_custom_paragraph,children:d}),(0,t.jsx)("img",{className:o.Z.join_form_select_custom_icon,src:"/images/down-icon.svg",alt:"categor icon"})]}),h&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("section",{className:o.Z.join_form_select_custom_list,style:_?{..._}:(null===c||void 0===c?void 0:c.length)>2?{overflowY:"scroll"}:{backgroundColor:"#ffffff"},children:null===c||void 0===c?void 0:c.map(((e,n)=>{var l,i,d,c,s,r,_,v,m,f,h,p;return(0,t.jsx)("p",{onClick:()=>{var n,l,i,o,t,d,c,s,r,_,v,m,f;(n="PROMOTE"===u?e:null!==e&&void 0!==e&&e._id?null===e||void 0===e?void 0:e._id:e,a(n),j(),"FINANCE_BANK"===b)||x(null!==(l=null!==(i=null!==(o=null!==(t=null!==(d=null!==(c=null!==(s=null!==(r=null!==(_=null!==(v=null!==(m=null===e||void 0===e?void 0:e.dName)&&void 0!==m?m:null===e||void 0===e?void 0:e.batchName)&&void 0!==v?v:null===e||void 0===e?void 0:e.className)&&void 0!==_?_:null===e||void 0===e?void 0:e.classTitle)&&void 0!==r?r:null===e||void 0===e?void 0:e.category_name)&&void 0!==s?s:null===e||void 0===e||null===(f=e.category_master)||void 0===f?void 0:f.category_name)&&void 0!==c?c:null===e||void 0===e?void 0:e.hostel_unit_name)&&void 0!==d?d:null===e||void 0===e?void 0:e.room_name)&&void 0!==t?t:null===e||void 0===e?void 0:e.subjectName)&&void 0!==o?o:null===e||void 0===e?void 0:e.vehicle_number)&&void 0!==i?i:null===e||void 0===e?void 0:e.finance_bank_account_name)&&void 0!==l?l:e)},className:o.Z.join_form_select_custom_paragraph_option,children:null!==(l=null!==(i=null!==(d=null!==(c=null!==(s=null!==(r=null!==(_=null!==(v=null!==(m=null!==(f=null!==(h=null===e||void 0===e?void 0:e.dName)&&void 0!==h?h:null===e||void 0===e?void 0:e.batchName)&&void 0!==f?f:null===e||void 0===e?void 0:e.className)&&void 0!==m?m:null===e||void 0===e?void 0:e.classTitle)&&void 0!==v?v:null===e||void 0===e?void 0:e.category_name)&&void 0!==_?_:null===e||void 0===e||null===(p=e.category_master)||void 0===p?void 0:p.category_name)&&void 0!==r?r:null===e||void 0===e?void 0:e.hostel_unit_name)&&void 0!==s?s:null===e||void 0===e?void 0:e.room_name)&&void 0!==c?c:null===e||void 0===e?void 0:e.subjectName)&&void 0!==d?d:null===e||void 0===e?void 0:e.vehicle_number)&&void 0!==i?i:null===e||void 0===e?void 0:e.finance_bank_account_name)&&void 0!==l?l:e},n)}))})})]})}},77121:(e,n,a)=>{a.d(n,{Z:()=>t});a(72791);var l=a(38733),i=a(39230),o=a(80184);const t=e=>{let{labelText:n,name:a,value:t,onChange:d,errorShow:c,customStyleContainer:s,disabled:r}=e;const{t:_}=(0,i.$G)();return(0,o.jsxs)("div",{className:l.Z.join_form_container,style:{...s},children:[(0,o.jsxs)("label",{className:l.Z.join_form_label,children:[n,c&&(0,o.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",_("form_require_label")]})]}),(0,o.jsxs)("div",{className:l.Z.join_form_file_container,children:[(0,o.jsx)("label",{className:t?"".concat(l.Z.join_form_file_choose," ").concat(l.Z.join_form_active_background):l.Z.join_form_file_choose,htmlFor:a,children:_(""!==t?"file_chosen":"chose_file")}),(0,o.jsx)("label",{className:l.Z.join_form_file_choosen,htmlFor:a,children:""!==t?null===t||void 0===t?void 0:t.originalName:_("no_file_chosen")})]}),(0,o.jsx)("input",{type:"file",name:a,id:a,style:{display:"none"},onChange:d,disabled:r||!1})]})}},67923:(e,n,a)=>{a.d(n,{Z:()=>o});a(72791);var l=a(38733),i=a(80184);const o=e=>{let{labelText:n,value:a,customStyleContainer:o,customStyleLabel:t,customStyleValue:d}=e;return(0,i.jsxs)("div",{className:l.Z.join_form_container_view,style:{...o},children:[(0,i.jsx)("label",{className:l.Z.join_form_label_view,style:{...t},children:n}),(0,i.jsx)("h6",{className:l.Z.join_form_input_view,style:{...d},children:a})]})}},47167:(e,n,a)=>{a.d(n,{Z:()=>c});a(72791);var l=a(16871),i=a(43504),o=a(23769),t=a(45639),d=a(80184);const c=e=>{let{tabList:n,activeIndexTab:a,setActiveIndexTab:c,customStyleTab:s,carryParentState:r,showAs:_,customStyleLink:u}=e;const v=(0,l.UO)();return(0,d.jsx)("div",{className:t.Z.universal_container,children:_?null===n||void 0===n?void 0:n.map(((e,n)=>"disabled"===(null===e||void 0===e?void 0:e.is_active)?(0,d.jsx)("div",{className:a===(null===e||void 0===e?void 0:e.id)?"".concat(t.Z.universal_container_item," ").concat(t.Z.universal_container_item_active):t.Z.universal_container_item,style:{...u,opacity:"0.5"},children:(0,d.jsx)(o.Z,{children:null===e||void 0===e?void 0:e.name})},n):(0,d.jsx)(i.rU,{to:"/q/".concat(v.username,"/").concat(null===e||void 0===e?void 0:e.url),state:{...r},style:{...u},children:(0,d.jsx)("div",{className:a===(null===e||void 0===e?void 0:e.id)?"".concat(t.Z.universal_container_item," ").concat(t.Z.universal_container_item_active):t.Z.universal_container_item,style:{...s},children:(0,d.jsx)(o.Z,{children:null===e||void 0===e?void 0:e.name})})},n))):null===n||void 0===n?void 0:n.map(((e,n)=>(0,d.jsx)("div",{className:a===(null===e||void 0===e?void 0:e.id)?"".concat(t.Z.universal_container_item," ").concat(t.Z.universal_container_item_active):t.Z.universal_container_item,onClick:()=>c(null===e||void 0===e?void 0:e.id),style:{...s},children:(0,d.jsx)(o.Z,{children:null===e||void 0===e?void 0:e.name})},n)))})}},23769:(e,n,a)=>{a.d(n,{Z:()=>o});var l=a(72791),i=a(80184);const o=function(e){let{children:n,onclick:a}=e;const[o,t]=(0,l.useState)(!1),[d,c]=(0,l.useState)({x:-1,y:-1});return(0,l.useEffect)((()=>{-1!==d.x&&-1!==d.y?(t(!0),setTimeout((()=>t(!1)),1e3)):t(!1)}),[d]),(0,l.useEffect)((()=>{o||c({x:-1,y:-1})}),[o]),(0,i.jsxs)("div",{className:"ripple_btn",onClick:e=>{c({x:e.clientX-e.target.offsetLeft,y:e.clientY-e.target.offsetTop}),a&&a(e)},children:[o?(0,i.jsx)("span",{className:"ripple"}):"",(0,i.jsx)("span",{className:"content",children:n})]})}},30072:(e,n,a)=>{a.r(n),a.d(n,{default:()=>te});var l=a(72791),i=a(95048),o=a(87932),t=a(39230),d=a(84959),c=a(77121),s=a(97655),r=a(98734);const _="BankDetails_bank__9xKYp",u="BankDetails_bank_header__VkogJ",v="BankDetails_bank_header_left__aaqO+",m="BankDetails_back_icon__m2RIF",b="BankDetails_bank_header_title__TDEAZ",f="BankDetails_add_bank_title__wV0jj",h="BankDetails_save_button__5OEUW",p="BankDetails_bank_details__q+wtm",k="BankDetails_bank_details_heading__j9Ma8",x="BankDetails_bank_upi__yxA8L",j="BankDetails_bank_details_heading1__ahN7C",g="BankDetails_bank_qr_code__3QN0U",y="BankDetails_bank_qr_code_text__jYyzI",N="BankDetails_bank_list__kJ0Ko",S="BankDetails_bank_card__FHITA",C="BankDetails_bank_card_heading__AjRM5",T="BankDetails_bank_card_text__v6twY",Z="BankDetails_applicable_btn__D185x",w="BankDetails_applicable_container__EkC4H",B="BankDetails_applicable_text__GYpb+",D="BankDetails_bank_fund__CMYIL",I="BankDetails_bank_fund_container__9Ue4l";var L=a(33992),q=a(41233),A=a(36665),E=a(80184);const F=e=>{var n,a,i,o;let{onCloseApplicable:d,instituteId:c,setApplicablFor:s,libraryId:r,transportId:_,hostelId:u}=e;const{t:v}=(0,t.$G)(),[m,b]=(0,l.useState)({flow:"",flow_id:"",flow_name:"",depart_arr:[]}),{allDepartment:f,allDepartmentRefetch:h}=(0,L.Zi)({data:{id:c,which_type:"Normal"},skip:!c});(0,l.useEffect)((()=>{c&&h()}),[c]);return(0,E.jsx)(A.Z,{onClose:d,children:(0,E.jsxs)("div",{className:w,children:[(0,E.jsx)(q.Z,{selectLabel:v("applicable_for"),selectedValue:v("applicable_for_placeholder"),options:["Internal Department","Transport","Library","Hostel"],onClick:e=>{"Hostel"===e?b({flow:"Hostel",flow_id:u,flow_name:"Hostel",depart_arr:[]}):"Transport"===e?b({flow:"Transport",flow_id:_,flow_name:"Transport",depart_arr:[]}):"Library"===e?b({flow:"Library",flow_id:r,flow_name:"Library",depart_arr:[]}):"Internal Department"===e&&b({flow:"Department",flow_id:"",flow_name:"",depart_arr:[]})}}),"Department"===m.flow&&(0,E.jsx)(q.Z,{selectLabel:v("select_internal_department"),selectedValue:v("select_internal_department_placeholder"),options:null!==(n=null===f||void 0===f||null===(a=f.institute)||void 0===a?void 0:a.depart)&&void 0!==n?n:[],onClick:e=>{b((n=>({...n,flow_id:null===e||void 0===e?void 0:e._id,flow_name:null===e||void 0===e?void 0:e.dName,depart_arr:[...new Set([...n.depart_arr,null===e||void 0===e?void 0:e._id])]})))},openAs:"PROMOTE",viewAs:"FINANCE_BANK",defalutValue:(null===(i=m.depart_arr)||void 0===i?void 0:i.length)>1?"".concat(null===(o=m.depart_arr)||void 0===o?void 0:o.length," department selected"):m.flow_name}),(0,E.jsx)("button",{className:Z,onClick:()=>{s(m),d()},style:{width:"100%",justifyContent:"center"},children:(0,E.jsx)("div",{children:v("select")})})]})})},H=e=>{var n,a,_,u,v,m,b,p,k,x,j,g,y;let{onRefetch:N,openBankMenu:S,openAs:C,onClose:T,onEdit:w}=e;const{t:D}=(0,t.$G)(),I=(0,i.v9)((e=>e.financeChange.fid)),[L,q]=(0,l.useState)(""),[A,H]=(0,l.useState)(!1),[V,M]=(0,l.useState)(!1),[R,O]=(0,l.useState)({finance_bank_name:"",finance_bank_account_number:"",finance_bank_account_name:"",finance_bank_ifsc_code:"",finance_bank_branch_address:"",finance_bank_upi_id:"",finance_bank_upi_qrcode:"",finance_bank_re_account_number:"",finance_bank_re_upi_id:""}),[P,U]=(0,l.useState)({flow:"",flow_id:"",flow_name:"",depart_arr:[]}),[G,$]=(0,l.useState)(""),[Y,K]=(0,l.useState)(""),[z]=(0,d.FL)(),[W]=(0,o.Xf)(),{financeDetailManager:J,financeDetailManagerRefetch:X}=(0,o.OS)({data:{fid:I,mod_id:""},skip:!I});(0,l.useEffect)((()=>{I&&X()}),[I,X]),(0,l.useEffect)((()=>{var e,n,a,l,i,o,t,d,c;"EDIT"===C&&O({finance_bank_name:null!==(e=null===S||void 0===S?void 0:S.finance_bank_name)&&void 0!==e?e:"",finance_bank_account_number:null!==(n=null===S||void 0===S?void 0:S.finance_bank_account_number)&&void 0!==n?n:"",finance_bank_account_name:null!==(a=null===S||void 0===S?void 0:S.finance_bank_account_name)&&void 0!==a?a:"",finance_bank_ifsc_code:null!==(l=null===S||void 0===S?void 0:S.finance_bank_ifsc_code)&&void 0!==l?l:"",finance_bank_branch_address:null!==(i=null===S||void 0===S?void 0:S.finance_bank_branch_address)&&void 0!==i?i:"",finance_bank_upi_id:null!==(o=null===S||void 0===S?void 0:S.finance_bank_upi_id)&&void 0!==o?o:"",finance_bank_upi_qrcode:null!==(t=null===S||void 0===S?void 0:S.finance_bank_upi_qrcode)&&void 0!==t?t:"",finance_bank_re_account_number:null!==(d=null===S||void 0===S?void 0:S.finance_bank_account_number)&&void 0!==d?d:"",finance_bank_re_upi_id:null!==(c=null===S||void 0===S?void 0:S.finance_bank_upi_id)&&void 0!==c?c:""})}),[C]);const Q=e=>{O((n=>({...n,[e.target.name]:e.target.value})))},ee=()=>{M((e=>!e))};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("section",{className:f,children:[(0,E.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:T,alt:""}),(0,E.jsx)("h6",{children:D("EDIT"===C?"update_bank_details":"add_bank_details")})]}),"EDIT"===C?"":(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:"3rem"},children:[(0,E.jsxs)("button",{className:Z,onClick:ee,children:[(0,E.jsx)("div",{children:D("account_applicable_for")}),(0,E.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),P.flow_name&&(0,E.jsx)("h6",{className:B,children:(null===(n=P.depart_arr)||void 0===n?void 0:n.length)>1?"".concat(null===(a=P.depart_arr)||void 0===a?void 0:a.length," department selected"):P.flow_name})]}),L.flow_id&&(0,E.jsxs)("p",{style:{color:"red",marginLeft:"15px"},children:["* ",D("form_require_label")]})]}),(0,E.jsx)(s.Z,{labelText:D("bank_name"),placeholder:D("bank_name_placeholder"),name:"finance_bank_name",value:R.finance_bank_name,type:"text",onChange:Q,errorShow:L.finance_bank_name}),(0,E.jsx)(s.Z,{labelText:D("account_name"),placeholder:D("account_name_placeholder"),name:"finance_bank_account_name",value:R.finance_bank_account_name,type:"text",onChange:Q,errorShow:L.finance_bank_account_name}),(0,E.jsx)(s.Z,{labelText:D("account_number"),placeholder:D("account_number_placeholder"),name:"finance_bank_account_number",value:R.finance_bank_account_number,type:"tel",onChange:Q,errorShow:L.finance_bank_name}),(0,E.jsx)(s.Z,{labelText:D("confirm_account_number"),placeholder:D("confirm_account_number_placeholder"),name:"finance_bank_re_account_number",value:R.finance_bank_re_account_number,type:"tel",onChange:Q,errorShow:L.finance_bank_re_account_number,reAccount:L.finance_bank_re_account_number}),(0,E.jsx)(s.Z,{labelText:D("ifsc_code"),placeholder:D("ifsc_code_placeholder"),name:"finance_bank_ifsc_code",value:R.finance_bank_ifsc_code,type:"text",onChange:Q,errorShow:L.finance_bank_ifsc_code}),(0,E.jsx)(s.Z,{labelText:D("address_of_bank"),placeholder:D("address_of_bank_placeholder"),name:"finance_bank_branch_address",value:R.finance_bank_branch_address,type:"text",onChange:Q,errorShow:L.finance_bank_branch_address}),(0,E.jsx)(s.Z,{labelText:D("upi_id"),placeholder:D("upi_id_placeholder"),name:"finance_bank_upi_id",value:R.finance_bank_upi_id,type:"text",onChange:Q,errorShow:L.finance_bank_upi_id}),(0,E.jsx)(s.Z,{labelText:D("confirm_upi_id"),placeholder:D("finance_bank_re_upi_id"),name:"finance_bank_re_upi_id",value:R.finance_bank_re_upi_id,type:"text",onChange:Q,errorShow:L.finance_bank_re_upi_id,reAccount:L.finance_bank_re_upi_id}),(0,E.jsx)(c.Z,{labelText:D("qr_code_above_upi"),name:"finance_bank_upi_qrcode",value:null!==G&&void 0!==G&&G.name?{originalName:null===G||void 0===G?void 0:G.name}:"",onChange:e=>{H((e=>!e));const n=new FormData;$(e.target.files[0]),n.append("file",e.target.files[0]),z({fileUpload:n}).then((e=>{H((e=>!e)),"EDIT"===C&&K(R.finance_bank_upi_qrcode),O((n=>{var a;return{...n,finance_bank_upi_qrcode:null===(a=e.data)||void 0===a?void 0:a.imageKey}}))})).catch((()=>{H((e=>!e))}))},errorShow:L.finance_bank_upi_qrcode}),(0,E.jsx)("button",{className:h,onClick:()=>{if("EDIT"===C){const e=(e=>{const n={};for(let a in e)"finance_bank_account_number"===a&&e.finance_bank_account_number!==e.finance_bank_re_account_number?n.finance_bank_re_account_number="".concat(D("form_account_dose_not_match_label")):"finance_bank_upi_id"===a&&e.finance_bank_upi_id!==e.finance_bank_re_upi_id?n.finance_bank_re_upi_id="".concat(D("upi_id_dose_not_match_label")):e[a]||(n[a]="* required");return n})(R);let n=!1;for(let a in e){n=!0;break}n?q(e):w(R,Y)}else{const e=((e,n)=>{const a={};for(let l in e)"finance_bank_account_number"===l&&e.finance_bank_account_number!==e.finance_bank_re_account_number?a.finance_bank_re_account_number="".concat(D("form_account_dose_not_match_label")):"finance_bank_upi_id"===l&&e.finance_bank_upi_id!==e.finance_bank_re_upi_id?a.finance_bank_re_upi_id="".concat(D("upi_id_dose_not_match_label")):e[l]||(a[l]="* required");return null!==n&&void 0!==n&&n.flow_id||(a.flow_id="flow_id is required"),a})(R,P);let n=!1;for(let a in e){n=!0;break}n?q(e):(H((e=>!e)),W({fid:I,...P,bankDetails:{...R,depart_arr:P.depart_arr}}).then((()=>{N(),T(),H((e=>!e))})).catch((()=>{H((e=>!e))})))}},children:D("save")}),A&&(0,E.jsx)(r.Z,{}),V&&(0,E.jsx)(F,{onCloseApplicable:ee,setApplicablFor:U,instituteId:null===J||void 0===J||null===(_=J.finance)||void 0===_||null===(u=_.institute)||void 0===u?void 0:u._id,libraryId:null===J||void 0===J||null===(v=J.finance)||void 0===v||null===(m=v.institute)||void 0===m||null===(b=m.library)||void 0===b?void 0:b[0],transportId:null===J||void 0===J||null===(p=J.finance)||void 0===p||null===(k=p.institute)||void 0===k||null===(x=k.transportDepart)||void 0===x?void 0:x[0],hostelId:null===J||void 0===J||null===(j=J.finance)||void 0===j||null===(g=j.institute)||void 0===g||null===(y=g.hostelDepart)||void 0===y?void 0:y[0]})]})};var V=a(16871),M=a(67923),R=a(69721),O=a(90865),P=a(72310),U=a(12072),G=a(84489),$=a(87049);const Y=e=>{let{onClose:n,openBankMenu:a,onRefetch:i,setDiabledInfo:t}=e;const d=(0,V.s0)(),[c,s]=(0,l.useState)(!1),[_,u]=(0,l.useState)(!1),[v]=(0,o.Ls)(),[m]=(0,o.oM)();return(0,E.jsx)(E.Fragment,{children:_?(0,E.jsx)(H,{onEdit:(e,l)=>{s((e=>!e)),u(!1),t((e=>!e)),m({bid:null===a||void 0===a?void 0:a._id,bankDetails:e,delete_pic:l}).then((()=>{i(),s((e=>!e)),n()})).catch({})},openAs:"EDIT",onClose:n,openBankMenu:a}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(G.Z,{onClose:n}),(0,E.jsxs)(U.Z,{customStyle:{zIndex:"1200"},children:[(0,E.jsxs)("div",{className:$.Z.edit_modal_container,style:{width:"200px"},children:[(0,E.jsx)("h6",{className:$.Z.edit,onClick:()=>{t((e=>!e)),u((e=>!e))},children:"Edit"}),(0,E.jsx)("h6",{className:$.Z.remove,onClick:()=>{s((e=>!e)),v(null===a||void 0===a?void 0:a._id).then((()=>{i(),n(),s((e=>!e)),d(-1)})).catch({})},children:"Delete"})]}),c&&(0,E.jsx)(r.Z,{})]})]})})};var K=a(98094),z=a(47167);const W={width:"100%",marginTop:"0",marginBottom:"0"},J={fontWeight:"400",fontSize:"12px",color:"rgba(18, 18, 18, 0.8)"},X=e=>{var n,a,i,d,c,s,r,f,h,k,j,N,S,C,T,Z,w,B,L,q,A,F,H,U,G,$,X;let{fid:Q,getAllBankByFinanceRefetch:ee}=e;const{t:ne}=(0,t.$G)(),ae=(0,V.s0)(),le=(0,V.TH)(),[ie,oe]=(0,l.useState)(""),[te,de]=(0,l.useState)(!1),[ce]=(0,o.do)(),[se,re]=(0,l.useState)({cash:!1,cheque:!1,demand_draft:!1,net_banking:!1,upi_transfer:!1}),[_e,ue]=(0,l.useState)({msg:"",run:!1}),[ve,me]=(0,l.useState)(0),be=[{name:ne("bank_info"),id:0},{name:ne("fund"),id:1}],{getOneBankByFinance:fe,getOneBankByFinanceRefetch:he}=(0,o.sv)({bid:le.state.bankId,skip:!le.state.bankId}),{getBankByFinance:pe,getBankByFinanceRefetch:ke}=(0,o.HL)({data:{fid:Q,flow:"",filter_by:""},skip:!Q});(0,l.useEffect)((()=>{Q&&ke()}),[Q,ke]),(0,l.useEffect)((()=>{le.state.bankId&&he()}),[le.state.bankId,he]),(0,l.useEffect)((()=>{var e,n,a,l,i,o,t,d,c,s;null!==pe&&void 0!==pe&&pe.bank_query&&re({cash:null!==(e=null===pe||void 0===pe||null===(n=pe.bank_query)||void 0===n?void 0:n.cash)&&void 0!==e&&e,cheque:null!==(a=null===pe||void 0===pe||null===(l=pe.bank_query)||void 0===l?void 0:l.cheque)&&void 0!==a&&a,demand_draft:null!==(i=null===pe||void 0===pe||null===(o=pe.bank_query)||void 0===o?void 0:o.demand_draft)&&void 0!==i&&i,net_banking:null!==(t=null===pe||void 0===pe||null===(d=pe.bank_query)||void 0===d?void 0:d.net_banking)&&void 0!==t&&t,upi_transfer:null!==(c=null===pe||void 0===pe||null===(s=pe.bank_query)||void 0===s?void 0:s.upi_transfer)&&void 0!==c&&c})}),[null===pe||void 0===pe?void 0:pe.bank_query]);const xe=(e,n)=>{const a={...se};for(let l in a)l===e&&(a[l]=n);ce({fid:Q,paymentModeUpdate:{payment_modes_type:a}}).then((()=>{ue({msg:"Payment Mode is updated",run:!0})})).catch({}),re((a=>({...a,[e]:n})))};return(0,E.jsxs)("div",{className:_,children:[!te&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{className:u,children:[(0,E.jsxs)("div",{className:v,children:[(0,E.jsx)("img",{src:"/images/left-back-icon.svg",alt:"back arrow",className:m,onClick:()=>ae(-1)}),(0,E.jsx)("h6",{className:b,children:ne("bank_detail")})]}),(0,E.jsx)("img",{src:"/images/bank-edit-icon.svg",alt:"back arrow",className:m,onClick:()=>oe(null===fe||void 0===fe?void 0:fe.one_bank)})]}),(0,E.jsx)(z.Z,{tabList:be,activeIndexTab:ve,setActiveIndexTab:e=>{me(e)},showAs:!1,customStyleTab:{width:"50%"}}),(0,E.jsx)(K.Z,{customStyle:{width:"100%",marginBottom:"0.5rem"}}),0===ve&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("section",{className:p,style:{height:"fit-content"},children:[(0,E.jsxs)("h6",{children:[ne("applicable_for")," "," : "," "]}),(0,E.jsx)(M.Z,{labelText:"",value:null!==fe&&void 0!==fe&&null!==(n=fe.one_bank)&&void 0!==n&&null!==(a=n.department)&&void 0!==a&&a.dName?null===fe||void 0===fe||null===(i=fe.one_bank)||void 0===i||null===(d=i.department)||void 0===d?void 0:d.dName:null!==fe&&void 0!==fe&&null!==(c=fe.one_bank)&&void 0!==c&&c.hostel?"Hostel":null!==fe&&void 0!==fe&&null!==(s=fe.one_bank)&&void 0!==s&&s.library?"Library":null!==fe&&void 0!==fe&&null!==(r=fe.one_bank)&&void 0!==r&&r.transport?"Transport":(null===fe||void 0===fe||null===(f=fe.one_bank)||void 0===f||null===(h=f.departments)||void 0===h?void 0:h.length)>0?null===fe||void 0===fe||null===(k=fe.one_bank)||void 0===k||null===(j=k.departments)||void 0===j?void 0:j.map(((e,n)=>{var a,l,i;return(0,E.jsxs)("span",{children:[null!==(a=null===e||void 0===e?void 0:e.dName)&&void 0!==a?a:"",n+1===(null===fe||void 0===fe||null===(l=fe.one_bank)||void 0===l||null===(i=l.departments)||void 0===i?void 0:i.length)?"":", "]},null===e||void 0===e?void 0:e._id)})):"",customStyleContainer:W,customStyleLabel:J,customStyleValue:{...J,marginLeft:"-1rem"}})]}),(0,E.jsxs)("section",{className:p,children:[(0,E.jsx)("h6",{children:ne("bank_details")}),(0,E.jsx)(M.Z,{labelText:"".concat(ne("bank_name_collect")," :"),value:null===fe||void 0===fe||null===(N=fe.one_bank)||void 0===N?void 0:N.finance_bank_name,customStyleContainer:W,customStyleLabel:J,customStyleValue:J}),(0,E.jsx)(M.Z,{labelText:"".concat(ne("account_name")," :"),value:null===fe||void 0===fe||null===(S=fe.one_bank)||void 0===S?void 0:S.finance_bank_account_name,customStyleContainer:W,customStyleLabel:J,customStyleValue:J}),(0,E.jsx)(M.Z,{labelText:"".concat(ne("account_number")," :"),value:null===fe||void 0===fe||null===(C=fe.one_bank)||void 0===C?void 0:C.finance_bank_account_number,customStyleContainer:W,customStyleLabel:J,customStyleValue:J}),(0,E.jsx)(M.Z,{labelText:"".concat(ne("ifsc_code")," :"),value:null===fe||void 0===fe||null===(T=fe.one_bank)||void 0===T?void 0:T.finance_bank_ifsc_code,customStyleContainer:W,customStyleLabel:J,customStyleValue:J}),(0,E.jsx)(M.Z,{labelText:"".concat(ne("address")," :"),value:null===fe||void 0===fe||null===(Z=fe.one_bank)||void 0===Z?void 0:Z.finance_bank_branch_address,customStyleContainer:W,customStyleLabel:J,customStyleValue:J})]}),(0,E.jsx)("section",{className:x,children:(0,E.jsx)(M.Z,{labelText:"".concat(ne("upi_id")," :"),value:null===fe||void 0===fe||null===(w=fe.one_bank)||void 0===w?void 0:w.finance_bank_upi_id,customStyleContainer:W,customStyleLabel:J,customStyleValue:J})}),(0,E.jsxs)("section",{className:g,children:[(0,E.jsxs)("div",{className:y,children:[(0,E.jsxs)("h6",{children:[ne("qr_code"),":"]}),(0,E.jsx)("p",{children:null!==(B=null===fe||void 0===fe||null===(L=fe.one_bank)||void 0===L?void 0:L.finance_bank_upi_id)&&void 0!==B?B:""})]}),null!==fe&&void 0!==fe&&null!==(q=fe.one_bank)&&void 0!==q&&q.finance_bank_upi_qrcode?(0,E.jsx)("img",{src:"".concat(R.yI,"/").concat(null===fe||void 0===fe||null===(A=fe.one_bank)||void 0===A?void 0:A.finance_bank_upi_qrcode),alt:"qr code"}):""]}),(0,E.jsxs)("section",{children:[(0,E.jsx)("h6",{children:ne("payment_mode")}),(0,E.jsx)(O.Z,{labelHeading:ne("online_payment_gateway"),labelDescription:"",defaultLabel:!0,customContainer:{padding:"0",marginBottom:"0.5rem"}}),(0,E.jsx)(O.Z,{labelHeading:ne("cash"),labelDescription:"",defaultLabel:!1,checkedToggle:se.cash,onToggleHandler:e=>xe("cash",e.target.checked),customContainer:{padding:"0",marginBottom:"0.5rem"}}),(0,E.jsx)(O.Z,{labelHeading:ne("upi_transfer"),labelDescription:"",defaultLabel:!1,checkedToggle:se.upi_transfer,onToggleHandler:e=>xe("upi_transfer",e.target.checked),customContainer:{padding:"0",marginBottom:"0.5rem"}}),(0,E.jsx)(O.Z,{labelHeading:ne("neft_rtgs"),labelDescription:"",defaultLabel:!1,checkedToggle:se.net_banking,onToggleHandler:e=>xe("net_banking",e.target.checked),customContainer:{padding:"0",marginBottom:"0.5rem"}}),(0,E.jsx)(O.Z,{labelHeading:ne("cheque"),labelDescription:"",defaultLabel:!1,checkedToggle:se.cheque,onToggleHandler:e=>xe("cheque",e.target.checked),customContainer:{padding:"0",marginBottom:"0.5rem"}}),(0,E.jsx)(O.Z,{labelHeading:ne("demand_draft"),labelDescription:"",defaultLabel:!1,checkedToggle:se.demand_draft,onToggleHandler:e=>xe("demand_draft",e.target.checked),customContainer:{padding:"0",marginBottom:"0.5rem"}})]})]}),1===ve&&(0,E.jsxs)("div",{className:I,children:[(0,E.jsxs)("div",{className:D,children:[(0,E.jsx)("h6",{children:ne("total_due")}),(0,E.jsxs)("h5",{children:[ne("rs"),". ",null!==(F=null===fe||void 0===fe||null===(H=fe.one_bank)||void 0===H?void 0:H.total_repay)&&void 0!==F?F:0]})]}),(0,E.jsxs)("div",{className:D,children:[(0,E.jsx)("h6",{children:ne("bank_online_fees")}),(0,E.jsxs)("h5",{children:[ne("rs"),"."," ",null!==(U=null===fe||void 0===fe||null===(G=fe.one_bank)||void 0===G?void 0:G.collect_online)&&void 0!==U?U:0]})]}),(0,E.jsxs)("div",{className:D,children:[(0,E.jsx)("h6",{children:ne("repayment_due")}),(0,E.jsxs)("h5",{children:[ne("rs"),". ",null!==($=null===fe||void 0===fe||null===(X=fe.one_bank)||void 0===X?void 0:X.due_repay)&&void 0!==$?$:0]})]})]})]}),_e.run&&(0,E.jsx)(P.Ch,{msg:_e.msg,run:_e.run,setRun:()=>ue({msg:"",run:!1}),postiton:"bottom",type:"success"}),ie&&(0,E.jsx)(Y,{openBankMenu:ie,onClose:()=>{oe(""),de(!1)},onRefetch:()=>{he(),ee()},setDiabledInfo:de})]})};var Q=a(86861),ee=a(32217);const ne={width:"100%",marginTop:"0",marginBottom:"0"},ae={fontWeight:"400",fontSize:"12px",color:"rgba(18, 18, 18, 0.8)"},le=e=>{var n,a,l,i,o,d,c,s,r,_;let{bank:u}=e;const{t:v}=(0,t.$G)();return(0,E.jsxs)("div",{className:S,style:{flexDirection:"column",alignItems:"flex-start"},children:[(0,E.jsxs)("div",{className:C,children:[(0,E.jsx)("img",{src:"/images/finance/bank-card-icon.svg",alt:"bank icon"}),(0,E.jsxs)("div",{className:T,children:[(0,E.jsx)("h6",{children:null!==(n=null===u||void 0===u?void 0:u.finance_bank_name)&&void 0!==n?n:""}),(0,E.jsx)("p",{children:null!==u&&void 0!==u&&null!==(a=u.department)&&void 0!==a&&a.dName?null===u||void 0===u||null===(l=u.department)||void 0===l?void 0:l.dName:null!==u&&void 0!==u&&u.hostel?"Hostel":null!==u&&void 0!==u&&u.library?"Library":null!==u&&void 0!==u&&u.transport?"Transport":(null===u||void 0===u||null===(i=u.departments)||void 0===i?void 0:i.length)>0?null===u||void 0===u||null===(o=u.departments)||void 0===o?void 0:o.map(((e,n)=>{var a,l;return(0,E.jsxs)("span",{children:[null!==(a=null===e||void 0===e?void 0:e.dName)&&void 0!==a?a:"",n+1===(null===u||void 0===u||null===(l=u.departments)||void 0===l?void 0:l.length)?"":", "]},null===e||void 0===e?void 0:e._id)})):""})]})]}),(0,E.jsxs)("section",{className:k,children:[(0,E.jsxs)("h6",{children:[v("applicable_for")," "," : "," "]}),(0,E.jsx)(M.Z,{labelText:"",value:null!==u&&void 0!==u&&null!==(d=u.department)&&void 0!==d&&d.dName?null===u||void 0===u||null===(c=u.department)||void 0===c?void 0:c.dName:null!==u&&void 0!==u&&u.hostel?"Hostel":null!==u&&void 0!==u&&u.library?"Library":null!==u&&void 0!==u&&u.transport?"Transport":(null===u||void 0===u||null===(s=u.departments)||void 0===s?void 0:s.length)>0?null===u||void 0===u||null===(r=u.departments)||void 0===r?void 0:r.map(((e,n)=>{var a,l;return(0,E.jsxs)("span",{children:[null!==(a=null===e||void 0===e?void 0:e.dName)&&void 0!==a?a:"",n+1===(null===u||void 0===u||null===(l=u.departments)||void 0===l?void 0:l.length)?"":", "]},null===e||void 0===e?void 0:e._id)})):"",customStyleContainer:ne,customStyleLabel:ae,customStyleValue:{...ae,marginLeft:"-1rem"}})]}),(0,E.jsxs)("section",{className:k,children:[(0,E.jsx)("h6",{children:v("bank_details")}),(0,E.jsx)(M.Z,{labelText:"".concat(v("bank_name_collect")," :"),value:null===u||void 0===u?void 0:u.finance_bank_name,customStyleContainer:ne,customStyleLabel:ae,customStyleValue:ae}),(0,E.jsx)(M.Z,{labelText:"".concat(v("account_name")," :"),value:null===u||void 0===u?void 0:u.finance_bank_account_name,customStyleContainer:ne,customStyleLabel:ae,customStyleValue:ae}),(0,E.jsx)(M.Z,{labelText:"".concat(v("account_number")," :"),value:null===u||void 0===u?void 0:u.finance_bank_account_number,customStyleContainer:ne,customStyleLabel:ae,customStyleValue:ae}),(0,E.jsx)(M.Z,{labelText:"".concat(v("ifsc_code")," :"),value:null===u||void 0===u?void 0:u.finance_bank_ifsc_code,customStyleContainer:ne,customStyleLabel:ae,customStyleValue:ae}),(0,E.jsx)(M.Z,{labelText:"".concat(v("address")," :"),value:null===u||void 0===u?void 0:u.finance_bank_branch_address,customStyleContainer:ne,customStyleLabel:ae,customStyleValue:ae})]}),(0,E.jsx)("section",{className:k,children:(0,E.jsx)(M.Z,{labelText:"".concat(v("upi_id")," :"),value:null===u||void 0===u?void 0:u.finance_bank_upi_id,customStyleContainer:ne,customStyleLabel:ae,customStyleValue:ae})}),(0,E.jsxs)("section",{className:j,style:{width:"100%",alignItems:"flex-start"},children:[(0,E.jsxs)("div",{className:y,style:{margin:"0"},children:[(0,E.jsxs)("h6",{children:[v("qr_code"),":"]}),(0,E.jsx)("p",{children:null!==(_=null===u||void 0===u?void 0:u.finance_bank_upi_id)&&void 0!==_?_:""})]}),null!==u&&void 0!==u&&u.finance_bank_upi_qrcode?(0,E.jsx)("img",{src:"".concat(R.yI,"/").concat(null===u||void 0===u?void 0:u.finance_bank_upi_qrcode),alt:"qr code"}):""]})]})},ie=e=>{var n,a,l,i,o;let{bank:d,carryParentState:c,viewAs:s,onChooseBank:r,callApi:_}=e;const{t:u}=(0,t.$G)();return(0,E.jsx)(E.Fragment,{children:"ADMISSION_ADMIN"===s?(0,E.jsxs)("div",{className:S,style:{cursor:"pointer"},title:"Filter receipts by Bank",onClick:()=>r(d),children:[(0,E.jsx)("img",{src:"/images/finance/bank-card-icon.svg",alt:"bank icon"}),(0,E.jsxs)("div",{className:T,children:[(0,E.jsx)("h6",{children:null!==(n=null===d||void 0===d?void 0:d.finance_bank_name)&&void 0!==n?n:""}),(0,E.jsx)("p",{children:null!==d&&void 0!==d&&null!==(a=d.department)&&void 0!==a&&a.dName?null===d||void 0===d||null===(l=d.department)||void 0===l?void 0:l.dName:null!==d&&void 0!==d&&d.hostel?"Hostel":null!==d&&void 0!==d&&d.library?"Library":null!==d&&void 0!==d&&d.transport?"Transport":(null===d||void 0===d||null===(i=d.departments)||void 0===i?void 0:i.length)>0?null===d||void 0===d||null===(o=d.departments)||void 0===o?void 0:o.map(((e,n)=>{var a,l;return(0,E.jsxs)("span",{children:[null!==(a=null===e||void 0===e?void 0:e.dName)&&void 0!==a?a:"",n+1===(null===d||void 0===d||null===(l=d.departments)||void 0===l?void 0:l.length)?"":", "]},null===e||void 0===e?void 0:e._id)})):""})]})]}):(0,E.jsx)("div",{style:{width:"49%"},children:"INSTITUTE"===s?(0,E.jsx)(ee.Z,{carryParentState:{bankId:null===d||void 0===d?void 0:d._id},activeTab:"?a=bank&n=".concat(null===d||void 0===d?void 0:d.finance_bank_name),children:(0,E.jsx)(le,{bank:d})}):(0,E.jsx)(Q.Z,{carryParentState:{...c,bankId:null===d||void 0===d?void 0:d._id},activeTab:"bank&n=".concat(null===d||void 0===d?void 0:d.finance_bank_name),callApi:_,children:(0,E.jsx)(le,{bank:d})})})})};var oe=a(65543);const te=e=>{var n,a;let{carryParentState:d,callApi:c,financeId:s,viewAs:r}=e;const f=(0,V.s0)(),h=(0,V.TH)(),{t:p}=(0,t.$G)(),k=(0,i.v9)((e=>e.financeChange.fid)),[x,j]=(0,l.useState)(!1),[g,y]=(0,l.useState)(!1),{getAllBankByFinance:S,getAllBankByFinanceRefetch:C}=(0,o.o9)({data:{fid:k||s,page:1,limit:40,search:""},skip:k?!k:!s});(0,l.useEffect)((()=>{(k||s)&&C()}),[k,s,C]);const{scrollToTop:T}=(0,oe.u)();(0,l.useEffect)((()=>{T()}),[]);return(0,E.jsxs)(E.Fragment,{children:["bank"===(null===(n=h.search)||void 0===n?void 0:n.substring(3))?!x&&(0,E.jsxs)("div",{className:_,children:[(0,E.jsxs)("div",{className:u,children:[(0,E.jsxs)("div",{className:v,children:[(0,E.jsx)("img",{src:"/images/left-back-icon.svg",alt:"back arrow",className:m,onClick:()=>f(-1)}),(0,E.jsx)("h6",{className:b,children:p("bank_acount_detail")})]}),(0,E.jsx)("img",{src:"/images/add-plus-blue-icon.svg",alt:"back arrow",className:m,onClick:()=>j(!0)})]}),(0,E.jsx)("div",{className:N,children:null===S||void 0===S||null===(a=S.all_accounts)||void 0===a?void 0:a.map((e=>(0,E.jsx)(ie,{bank:e,carryParentState:d,callApi:c,viewAs:r})))})]}):(0,E.jsx)(X,{fid:k||s,getAllBankByFinanceRefetch:C}),x&&(0,E.jsx)(H,{bank_query:null===S||void 0===S?void 0:S.bank_query,onRefetch:C,onEditAction:()=>{y((e=>!e))},edit:g,onClose:()=>j(!1)})]})}},87049:(e,n,a)=>{a.d(n,{Z:()=>l});const l={edit_modal_container:"EditConfirm_edit_modal_container__WfbTq",modal_header:"EditConfirm_modal_header__4sq5J",edit:"EditConfirm_edit__ziVGP",remove:"EditConfirm_remove__PCXLs",xlsx_update_btn:"EditConfirm_xlsx_update_btn__H3yM8",save_stop_btn:"EditConfirm_save_stop_btn__9NiZ5",update_to_btn:"EditConfirm_update_to_btn__ExCJv"}},45639:(e,n,a)=>{a.d(n,{Z:()=>l});const l={universal_container:"UniversalTab_universal_container__uxTOR",universal_container_item:"UniversalTab_universal_container_item__M0pS7",universal_container_item_active:"UniversalTab_universal_container_item_active__3u3Wt"}}}]);
//# sourceMappingURL=78866.29bb3faa.chunk.js.map