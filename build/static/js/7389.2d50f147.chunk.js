"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[7389],{81622:(e,t,n)=>{n.d(t,{Z:()=>r});var l=n(72791),a=n(38733),i=n(39230),s=n(93097),d=n(69721),o=n(1095),c=n(80184);const r=e=>{let{labelText:t,name:n,multiple:r,value:v,onChange:m,onClick:u,errorShow:h,acceptType:_,customStyleContainer:p}=e;const{t:x}=(0,i.$G)(),[g,j]=(0,l.useState)("");return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:a.Z.join_form_container,style:{...p},children:[(0,c.jsxs)("label",{className:a.Z.join_form_label,children:[t,h&&(0,c.jsx)("span",{style:{color:"red",marginLeft:"15px"},children:"* required"})]}),(0,c.jsxs)("div",{className:a.Z.join_form_file_container,children:[(0,c.jsx)("label",{className:v?"".concat(a.Z.join_form_file_choose," ").concat(a.Z.join_form_active_background):a.Z.join_form_file_choose,htmlFor:n,children:x(""!==v?"file_chosen":"chose_file")}),(0,c.jsx)("label",{className:a.Z.join_form_file_choosen,onClick:()=>{if(null!==v&&void 0!==v&&v.originalName)if(null!==v&&void 0!==v&&v.isPdf){let e=null;e=null!==v&&void 0!==v&&v.isCdn?window.open("".concat(o.q2,"/").concat(null===v||void 0===v?void 0:v.key),"_blank","noopener,noreferrer"):window.open("".concat(d.zQ,"/").concat(null===v||void 0===v?void 0:v.key),"_blank","noopener,noreferrer"),e&&(e.opener=null)}else j(null===v||void 0===v?void 0:v.key);else j(v)},style:{color:"#002BBE",cursor:"pointer"},children:""!==v?null!==v&&void 0!==v&&v.originalName?null===v||void 0===v?void 0:v.originalName:"View":x("no_file_chosen")})]}),(0,c.jsx)("input",{type:"file",multiple:!!r,accept:_||"image/*, .doc,.docx, application/pdf,.csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",name:n,id:n,style:{display:"none"},onChange:m})]}),g&&(0,c.jsx)(s.Z,{onClose:()=>{j("")},keyValue:g})]})}},93097:(e,t,n)=>{n.d(t,{Z:()=>d});n(72791);var l=n(12072),a=n(84489),i=n(69721),s=n(80184);const d=e=>{let{onClose:t,keyValue:n}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.Z,{onClose:t}),(0,s.jsx)(l.Z,{customStyle:{zIndex:"1200",borderRadius:"0"},children:(0,s.jsx)("img",{src:"".concat(i.yI,"/").concat(n),alt:"view file",style:{maxWidth:"700px",maxHeight:"500px"}})})]})}},23308:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var l=n(72791),a=n(11006),i=n(39230),s=n(80184);const d=e=>{let{activeIndex:t,setActiveIndex:n}=e;const{t:l}=(0,i.$G)();return(0,s.jsx)("div",{className:a.Z.mcqTop,children:(0,s.jsxs)("div",{className:a.Z.mcqToptabs,children:[(0,s.jsx)("div",{className:0===t?"".concat(a.Z.mcqTopItem," ").concat(a.Z.active):a.Z.mcqTopItem,onClick:()=>n(0),children:l("unsolved")}),(0,s.jsx)("div",{className:1===t?"".concat(a.Z.mcqTopItem," ").concat(a.Z.active):a.Z.mcqTopItem,onClick:()=>n(1),children:l("solved")})]})})};var o=n(23441),c=n(11105),r=n(72426),v=n.n(r),m=n(12143),u=n(69721),h=n(8148),_=n(47401);const p=e=>{var t,n,l,a,i,d,o,c,r,p,x,g,j,f,y,b;let{query_detail:N,carryParentState:S,queryFlow:Z}=e;return(0,s.jsx)(s.Fragment,{children:"By_Mentor"===Z?(0,s.jsx)(_.Z,{carryParentState:{...S,qid:null===N||void 0===N?void 0:N._id},activeTab:"query-detail",children:(0,s.jsxs)("div",{className:m.Z.mentor_card_container,style:{width:"95%",margin:"auto",marginBottom:"0.7rem"},children:[(0,s.jsx)("img",{src:null!==N&&void 0!==N&&null!==(t=N.student)&&void 0!==t&&t.studentProfilePhoto?"".concat(u.yI,"/").concat(null===N||void 0===N||null===(n=N.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",style:{borderRadius:"50%"},alt:"mentor avatar"}),(0,s.jsxs)("div",{className:m.Z.mentor_container_inner,style:{gap:"0.6rem"},children:[(0,s.jsx)("h6",{children:"".concat(null!==(l=null===N||void 0===N||null===(a=N.student)||void 0===a?void 0:a.studentFirstName)&&void 0!==l?l:""," ").concat(null!==(i=null===N||void 0===N||null===(d=N.student)||void 0===d?void 0:d.studentMiddleName)&&void 0!==i?i:""," ").concat(null!==(o=null===N||void 0===N||null===(c=N.student)||void 0===c?void 0:c.studentLastName)&&void 0!==o?o:"")}),(0,s.jsxs)("p",{children:[v()(null===N||void 0===N?void 0:N.created_at).format("DD MMM"),",",v()(null===N||void 0===N?void 0:N.created_at).format("LT")]})]})]})}):(0,s.jsx)(h.Z,{carryParentState:{...S,qid:null===N||void 0===N?void 0:N._id},activeTab:"mentor&n=queries&query",children:(0,s.jsxs)("div",{className:m.Z.mentor_card_container,style:{width:"95%",margin:"auto",marginBottom:"0.7rem"},children:[(0,s.jsx)("img",{src:null!==N&&void 0!==N&&null!==(r=N.student)&&void 0!==r&&r.studentProfilePhoto?"".concat(u.yI,"/").concat(null===N||void 0===N||null===(p=N.student)||void 0===p?void 0:p.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",style:{borderRadius:"50%"},alt:"mentor avatar"}),(0,s.jsxs)("div",{className:m.Z.mentor_container_inner,style:{gap:"0.6rem"},children:[(0,s.jsx)("h6",{children:"".concat(null!==(x=null===N||void 0===N||null===(g=N.student)||void 0===g?void 0:g.studentFirstName)&&void 0!==x?x:""," ").concat(null!==(j=null===N||void 0===N||null===(f=N.student)||void 0===f?void 0:f.studentMiddleName)&&void 0!==j?j:""," ").concat(null!==(y=null===N||void 0===N||null===(b=N.student)||void 0===b?void 0:b.studentLastName)&&void 0!==y?y:"")}),(0,s.jsxs)("p",{children:[v()(null===N||void 0===N?void 0:N.created_at).format("DD MMM"),",",v()(null===N||void 0===N?void 0:N.created_at).format("LT")]})]})]})})})};var x=n(74289);const g=e=>{let{carryParentState:t,did:n,queryFlow:a}=e;const[i,d]=(0,o.YD)(),[r,v]=(0,l.useState)(1),[m,u]=(0,l.useState)(!0),[h,_]=(0,l.useState)(!0),[g,j]=(0,l.useState)([]),{getAllQueryList:f,getAllQueryListRefetch:y}=(0,x.EO)({data:{did:n,page:r,limit:10,status:"UnSolved",flow:a},skip:!n});return(0,l.useEffect)((()=>{n&&(_(!0),y())}),[n,r,y]),(0,l.useEffect)((()=>{d&&m&&v((e=>e+1))}),[d,m]),(0,l.useEffect)((()=>{var e,t;null!==f&&void 0!==f&&f.all_query?(j((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===f||void 0===f?void 0:f.all_query])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),_(!1)):0===(null===f||void 0===f||null===(e=f.all_query)||void 0===e?void 0:e.length)&&_(!1),10===(null===f||void 0===f||null===(t=f.all_query)||void 0===t?void 0:t.length)?u(!0):u(!1)}),[null===f||void 0===f?void 0:f.all_query]),(0,s.jsxs)(s.Fragment,{children:[null===g||void 0===g?void 0:g.map(((e,n)=>(null===g||void 0===g?void 0:g.length)===n+1?(0,s.jsx)("div",{ref:i,children:(0,s.jsx)(p,{query_detail:e,carryParentState:t,queryFlow:a})},null===e||void 0===e?void 0:e._id):(0,s.jsx)(p,{query_detail:e,carryParentState:t,queryFlow:a},null===e||void 0===e?void 0:e._id))),h&&(0,s.jsx)(c.Z,{})]})},j=e=>{let{carryParentState:t,did:n,queryFlow:a}=e;const[i,d]=(0,o.YD)(),[r,v]=(0,l.useState)(1),[m,u]=(0,l.useState)(!0),[h,_]=(0,l.useState)(!0),[g,j]=(0,l.useState)([]),{getAllQueryList:f,getAllQueryListRefetch:y}=(0,x.EO)({data:{did:n,page:r,limit:10,status:"Solved",flow:a},skip:!n});return(0,l.useEffect)((()=>{n&&(_(!0),y())}),[n,r,y]),(0,l.useEffect)((()=>{d&&m&&v((e=>e+1))}),[d,m]),(0,l.useEffect)((()=>{var e,t;null!==f&&void 0!==f&&f.all_query?(j((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===f||void 0===f?void 0:f.all_query])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),_(!1)):0===(null===f||void 0===f||null===(e=f.all_query)||void 0===e?void 0:e.length)&&_(!1),10===(null===f||void 0===f||null===(t=f.all_query)||void 0===t?void 0:t.length)?u(!0):u(!1)}),[null===f||void 0===f?void 0:f.all_query]),(0,s.jsxs)(s.Fragment,{children:[null===g||void 0===g?void 0:g.map(((e,n)=>(null===g||void 0===g?void 0:g.length)===n+1?(0,s.jsx)("div",{ref:i,children:(0,s.jsx)(p,{query_detail:e,carryParentState:t,viewAs:"SOLVED",queryFlow:a})},null===e||void 0===e?void 0:e._id):(0,s.jsx)(p,{query_detail:e,carryParentState:t,viewAs:"SOLVED",queryFlow:a},null===e||void 0===e?void 0:e._id))),h&&(0,s.jsx)(c.Z,{})]})},f=e=>{let{carryParentState:t,did:n,queryFlow:a}=e;const[i,o]=(0,l.useState)(0);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d,{activeIndex:i,setActiveIndex:o}),0===i&&(0,s.jsx)(g,{carryParentState:t,did:n,queryFlow:a}),1===i&&(0,s.jsx)(j,{carryParentState:t,did:n,queryFlow:a})]})}},74276:(e,t,n)=>{n.d(t,{Z:()=>k});var l=n(72791);const a="DeaprtmentSiteInfo_navbar__EpTgJ",i="DeaprtmentSiteInfo_bgContainer__adbaK",s="DeaprtmentSiteInfo_container__hUEpZ",d="DeaprtmentSiteInfo_containercontent__KltIz",o="DeaprtmentSiteInfo_containerhead__tOut9",c="DeaprtmentSiteInfo_container_inner_content__zqg3P",r="DeaprtmentSiteInfo_show_field__hawFC",v="DeaprtmentSiteInfo_update_btn__HU3oA",m="DeaprtmentSiteInfo_add_contact_person__9YxFJ",u="DeaprtmentSiteInfo_add_contact_person_btn__XSinB";var h=n(39230),_=n(16871),p=n(72952),x=n(81622),g=n(98734),j=n(84959),f=n(98094),y=n(91007),b=n(97655),N=n(95048),S=n(79872),Z=n(74289),C=n(80184);const k=e=>{var t,n,k,T;let{did:M,viewAs:D}=e;const{t:w}=(0,h.$G)(),A=(0,N.v9)((e=>e.authChange.loginRole)),F=(0,_.s0)(),[I,E]=(0,l.useState)(!1),[P,q]=(0,l.useState)({department_vission:"",department_mission:"",department_hod_message:"",department_about:"",department_image:""}),[R,L]=(0,l.useState)([{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}]),{departmentGetSiteInfo:O,departmentGetSiteInfoRefetch:H}=(0,Z.I8)({did:M,skip:!M}),[Y]=(0,j.FL)(),[G]=(0,Z.l8)(),U=(0,N.v9)((e=>e.idChange.id)),{data:B,refetch:$}=(0,y.pu)(U,{skip:"INSTITUTE"===D||!U});(0,l.useEffect)((()=>{U&&"INSTITUTE"!==D&&$()}),[U,$]),(0,l.useEffect)((()=>{M&&H()}),[M,H]),(0,l.useEffect)((()=>{var e,t,n,l,a,i,s;if(null!==O&&void 0!==O&&O.department_site&&(q({department_vission:null===O||void 0===O||null===(e=O.department_site)||void 0===e?void 0:e.department_vission,department_mission:null===O||void 0===O||null===(t=O.department_site)||void 0===t?void 0:t.department_mission,department_hod_message:null===O||void 0===O||null===(n=O.department_site)||void 0===n?void 0:n.department_hod_message,department_about:null===O||void 0===O||null===(l=O.department_site)||void 0===l?void 0:l.department_about,department_image:null===O||void 0===O||null===(a=O.department_site)||void 0===a?void 0:a.department_image}),null!==O&&void 0!==O&&null!==(i=O.department_site)&&void 0!==i&&null!==(s=i.department_contact)&&void 0!==s&&s.length)){let e=[];for(let t of null===O||void 0===O||null===(d=O.department_site)||void 0===d?void 0:d.department_contact){var d;let n={contact_department_name:null===t||void 0===t?void 0:t.contact_department_name,contact_person_name:null===t||void 0===t?void 0:t.contact_person_name,contact_person_mobile:null===t||void 0===t?void 0:t.contact_person_mobile,contact_person_email:null===t||void 0===t?void 0:t.contact_person_email,contactId:null===t||void 0===t?void 0:t._id};e.push(n)}L(e)}}),[null===O||void 0===O?void 0:O.department_site]);const J=(e,t)=>{const n=[...R];for(let l=0;l<(null===n||void 0===n?void 0:n.length);l++)l===t&&(n[l][e.target.name]=e.target.value);L(n)},V=e=>{q((t=>({...t,[e.target.name]:e.target.value})))};return(0,C.jsxs)("div",{className:i,children:["INSTITUTE"===D?null:(0,C.jsx)("div",{className:a,children:(0,C.jsx)(S.default,{status:"members",profileData:null===B||void 0===B?void 0:B.user,username:null===B||void 0===B||null===(t=B.user)||void 0===t?void 0:t.username,name:null===B||void 0===B||null===(n=B.user)||void 0===n?void 0:n.userLegalName,photoId:null===B||void 0===B||null===(k=B.user)||void 0===k?void 0:k.photoId,profilePhoto:null===B||void 0===B||null===(T=B.user)||void 0===T?void 0:T.profilePhoto})}),(0,C.jsxs)("div",{className:s,children:[(0,C.jsxs)("div",{className:o,children:[(0,C.jsx)("h6",{children:w("update_department_site_info")}),(0,C.jsx)("img",{src:"/images/close-post-icon.svg",alt:"",onClick:()=>{F(-1)}})]}),(0,C.jsx)(f.Z,{customStyle:{width:"100%"}}),(0,C.jsx)("div",{className:d,children:(0,C.jsxs)("div",{className:c,children:[(0,C.jsxs)("div",{className:r,children:[(0,C.jsx)(p.Z,{labelText:w("vision"),placeholder:w("department_vision_placeholder"),name:"department_vission",value:P.department_vission,type:"text",onChange:V,customStyleContainer:{width:"69.5%"}}),(0,C.jsx)(x.Z,{labelText:w("department_Image"),name:"department_image",value:P.department_image,onChange:e=>{E((e=>!e));const t=new FormData;t.append("file",e.target.files[0]),Y({fileUpload:t}).then((e=>{var t;null!==(t=e.data)&&void 0!==t&&t.imageKey&&q((t=>{var n;return{...t,department_image:null===(n=e.data)||void 0===n?void 0:n.imageKey}})),E((e=>!e))})).catch({})},customStyleContainer:{width:"29.5%"}})]}),(0,C.jsx)(p.Z,{labelText:w("mission"),placeholder:w("department_mission_placeholder"),name:"department_mission",value:P.department_mission,type:"text",onChange:V,customStyleContainer:{width:"100%"}}),(0,C.jsx)(p.Z,{labelText:w("about_department"),placeholder:w("about_department_placeholder"),name:"department_about",value:P.department_about,type:"text",onChange:V,customStyleContainer:{width:"100%"}}),(0,C.jsx)(p.Z,{labelText:w("hod_message"),placeholder:w("hod_message_placeholder"),name:"department_hod_message",value:P.department_hod_message,type:"text",onChange:V,customStyleContainer:{width:"100%"}}),(0,C.jsxs)("div",{className:m,children:[(0,C.jsx)("h6",{children:w("add_contact_persons")}),null===R||void 0===R?void 0:R.map(((e,t)=>(0,C.jsxs)("div",{children:[(0,C.jsxs)("div",{className:r,children:[(0,C.jsx)(b.Z,{labelText:w("site_department_name"),placeholder:w("site_department_name_placeholder"),name:"contact_department_name",value:null===e||void 0===e?void 0:e.contact_department_name,type:"text",onChange:e=>J(e,t),customStyleContainer:{width:"49.5%"}}),(0,C.jsx)(b.Z,{labelText:w("contact_person_name"),placeholder:w("contact_person_name_placeholder"),name:"contact_person_name",value:null===e||void 0===e?void 0:e.contact_person_name,type:"text",onChange:e=>J(e,t),customStyleContainer:{width:"49.5%"}})]}),(0,C.jsxs)("div",{className:r,children:[(0,C.jsx)(b.Z,{labelText:w("contact_person_mobile"),placeholder:w("contact_person_mobile_placeholder"),name:"contact_person_mobile",value:null===e||void 0===e?void 0:e.contact_person_mobile,type:"text",onChange:e=>J(e,t),customStyleContainer:{width:"49.5%"}}),(0,C.jsx)(b.Z,{labelText:w("contact_person_email"),placeholder:w("contact_person_email_placeholder"),name:"contact_person_email",value:null===e||void 0===e?void 0:e.contact_person_email,type:"email",onChange:e=>J(e,t),customStyleContainer:{width:"49.5%"}})]})]},t)))]}),(0,C.jsx)("button",{className:u,title:"Add Contact Person",onClick:()=>{L((e=>[...e,{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}]))},children:w("add_contact_person")}),I&&(0,C.jsx)(g.Z,{}),(0,C.jsx)("button",{className:v,onClick:()=>{var e,t;"_usr_ia"===A||(E((e=>!e)),G({did:M,updateSiteInfo:{...P,department_contact:null===R||void 0===R?void 0:R.filter((e=>null!==e&&void 0!==e&&e.contactId?"":e)),edit_department_contact:null===R||void 0===R?void 0:R.filter((e=>null!==e&&void 0!==e&&e.contactId?e:"")),previousKey:(null===O||void 0===O||null===(e=O.department_site)||void 0===e?void 0:e.department_image)===P.department_image?"":null===O||void 0===O||null===(t=O.department_site)||void 0===t?void 0:t.department_image}}).then((()=>{E((e=>!e))})).catch({}))},children:w("update")})]})})]})]})}},47401:(e,t,n)=>{n.d(t,{Z:()=>s});n(72791);var l=n(16871),a=n(43504),i=n(80184);const s=e=>{let{carryParentState:t,activeTab:n,children:s}=e;const d=(0,l.UO)();return(0,i.jsx)(a.rU,{to:"/q/".concat(d.username,"/member/mentor?a=").concat(n),state:{...t},children:s})}},37283:(e,t,n)=>{n.d(t,{Z:()=>u});var l=n(72791),a=n(39230),i=n(36665),s=n(98094),d=n(97655),o=n(98734),c=n(40444),r=n(87457),v=n(72952),m=n(80184);const u=e=>{let{onClose:t,openAs:n,smid:u,coMenu:h,onEdit:_,onRefetch:p,count:x,poCount:g,isView:j}=e;const{t:f}=(0,a.$G)(),[y,b]=(0,l.useState)(!1),[N,S]=(0,l.useState)(""),[Z,C]=(0,l.useState)({attainment_name:"DEPARTMENT"===j?"PO".concat(g):"CO".concat(x),attainment_type:"DEPARTMENT"===j?"PO":"CO",attainment_code:"",attainment_target:"",attainment_description:""}),[k]=(0,c.s8)();(0,l.useEffect)((()=>{var e,t,l,a,i;"EDIT"===n&&C({attainment_name:null!==(e=null===h||void 0===h?void 0:h.attainment_name)&&void 0!==e?e:"",attainment_type:null!==(t=null===h||void 0===h?void 0:h.attainment_type)&&void 0!==t?t:"CO",attainment_code:null!==(l=null===h||void 0===h?void 0:h.attainment_code)&&void 0!==l?l:"",attainment_target:null!==(a=null===h||void 0===h?void 0:h.attainment_target)&&void 0!==a?a:"",attainment_description:null!==(i=null===h||void 0===h?void 0:h.attainment_description)&&void 0!==i?i:""})}),[n,h]),(0,l.useEffect)((()=>{(x||g)&&C((e=>({...e,attainment_type:"DEPARTMENT"===j?"PO":"CO",attainment_name:"DEPARTMENT"===j?"PO".concat(g):"CO".concat(x)})))}),[x,j,g]);return(0,m.jsx)(i.Z,{onClose:t,children:(0,m.jsxs)("div",{className:r.Z.add_category_modal,style:{width:"35rem",maxHeight:"35rem"},children:[(0,m.jsxs)("div",{className:r.Z.add_category_modal_title,children:[(0,m.jsx)("h6",{children:f("EDIT"===n?"DEPARTMENT"===j?"edit_po":"edit_co":"DEPARTMENT"===j?"add_new_po":"add_new_co")}),(0,m.jsx)("img",{src:"/images/close-post-icon.svg",onClick:t,alt:""})]}),(0,m.jsx)(s.Z,{customStyle:{width:"100%",marginTop:"0.6rem",marginBottom:"0.6rem"}}),"CO"===Z.attainment_type?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d.Z,{labelText:f("co_name"),placeholder:f("co_name_placeholder"),name:"attainment_name",value:null===Z||void 0===Z?void 0:Z.attainment_name,type:"text",onChange:e=>{C((t=>({...t,attainment_name:e.target.value})))},errorShow:N.attainment_name}),(0,m.jsx)(d.Z,{labelText:f("co_target"),placeholder:f("co_target_placeholder"),name:"attainment_target",value:null===Z||void 0===Z?void 0:Z.attainment_target,type:"text",onChange:e=>{C((t=>({...t,attainment_target:+e.target.value})))}}),(0,m.jsx)(d.Z,{labelText:f("co_code"),placeholder:f("co_code_placeholder"),name:"attainment_code",value:null===Z||void 0===Z?void 0:Z.attainment_code,type:"text",onChange:e=>{C((t=>({...t,attainment_code:+e.target.value})))}}),(0,m.jsx)(v.Z,{labelText:f("co_description"),placeholder:f("co_description_placeholder"),name:"attainment_description",value:null===Z||void 0===Z?void 0:Z.attainment_description,type:"text",onChange:e=>{C((t=>({...t,attainment_description:e.target.value})))}})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d.Z,{labelText:f("po_name"),placeholder:f("po_name_placeholder"),name:"attainment_name",value:null===Z||void 0===Z?void 0:Z.attainment_name,type:"text",onChange:e=>{C((t=>({...t,attainment_name:e.target.value})))},errorShow:N.attainment_name}),(0,m.jsx)(v.Z,{labelText:f("po_description"),placeholder:f("po_description_placeholder"),name:"attainment_description",value:null===Z||void 0===Z?void 0:Z.attainment_description,type:"text",onChange:e=>{C((t=>({...t,attainment_description:e.target.value})))}})]}),(0,m.jsx)("button",{className:r.Z.set_fees_structure_btn,title:"Create copo",onClick:()=>{Z.attainment_name?"EDIT"===n?_(Z):u&&(b((e=>!e)),k({smid:u,addCopo:Z}).then((()=>{p(),t(),b((e=>!e))})).catch({})):S({attainment_name:"* required"})},style:{justifyContent:"center"},children:f("EDIT"===n?"update":"create")}),y&&(0,m.jsx)(o.Z,{})]})})}},26486:(e,t,n)=>{n.d(t,{Z:()=>h});var l=n(72791),a=n(72014),i=n(87049),s=n(40444),d=n(37283),o=n(84489),c=n(12072),r=n(98734),v=n(80184);const m=e=>{let{onClose:t,onRefetch:n,menu:a}=e;const[m,u]=(0,l.useState)(!1),[h,_]=(0,l.useState)(!1),[p]=(0,s.uV)(),[x]=(0,s.jy)();return(0,v.jsx)(v.Fragment,{children:h?(0,v.jsx)(d.Z,{onClose:()=>_(!1),openAs:"EDIT",onEdit:e=>{null!==a&&void 0!==a&&a._id&&(u((e=>!e)),_(!1),p({atid:null===a||void 0===a?void 0:a._id,updateCopo:e}).then((()=>{n(),u((e=>!e)),t()})).catch({}))},coMenu:a}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(o.Z,{onClose:t}),(0,v.jsxs)(c.Z,{customStyle:{zIndex:"1200"},children:[(0,v.jsxs)("div",{className:i.Z.edit_modal_container,style:{width:"200px"},children:[(0,v.jsx)("h6",{className:i.Z.edit,onClick:()=>_((e=>!e)),children:"Edit"}),(0,v.jsx)("h6",{className:i.Z.remove,onClick:()=>{null!==a&&void 0!==a&&a._id&&(u((e=>!e)),x({atid:null===a||void 0===a?void 0:a._id}).then((()=>{n(),t(),u((e=>!e))})).catch({}))},children:"Delete"})]}),m&&(0,v.jsx)(r.Z,{})]})]})})};var u=n(39230);const h=e=>{var t,n,i,s;let{attainment:d,onRefetch:o}=e;const{t:c}=(0,u.$G)(),[r,h]=(0,l.useState)("");return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:a.Z.exam_card_container,children:[(0,v.jsx)("div",{className:a.Z.imagedot,children:(0,v.jsx)("img",{src:"/images/members/exam-icon.svg",alt:""})}),(0,v.jsxs)("div",{className:a.Z.exam_inner_text,children:[(0,v.jsxs)("h6",{children:[c("co_name")," : ",null!==(t=null===d||void 0===d?void 0:d.attainment_name)&&void 0!==t?t:""]}),"PO"===(null===d||void 0===d?void 0:d.attainment_type)?(0,v.jsx)("p",{children:null!==d&&void 0!==d&&d.attainment_description?(0,v.jsxs)("span",{children:[" ",c("po_description")," : ",null!==(n=null===d||void 0===d?void 0:d.attainment_description)&&void 0!==n?n:""]}):""}):(0,v.jsxs)("p",{children:[null!==d&&void 0!==d&&d.attainment_code?(0,v.jsxs)("span",{children:[c("co_code")," : ",null!==(i=null===d||void 0===d?void 0:d.attainment_code)&&void 0!==i?i:"",", "]}):"",null!==d&&void 0!==d&&d.attainment_target?(0,v.jsxs)("span",{children:[" ",c("co_target")," : ",null!==(s=null===d||void 0===d?void 0:d.attainment_target)&&void 0!==s?s:""]}):""]})]}),(0,v.jsx)("div",{className:a.Z.exam_date,children:(0,v.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:()=>{h(d)},className:a.Z.menu_icon,title:"Menu"})})]}),r&&(0,v.jsx)(m,{onClose:()=>h(""),onRefetch:o,menu:r})]})}},44716:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Bt});var l=n(72791),a=n(11464),i=n(16871);const s="DepartmentHead_departmenthead__WHpjn";var d=n(85843),o=n(10191);const c="MiddleContent_MiddleContent__UOP6+",r="MiddleContent_MiddleContentLeft__qinVT",v="MiddleContent_tabs__qLS3q",m="MiddleContent_item__tlnFy",u="MiddleContent_itemIcon__jRWHW",h="MiddleContent_classList__0GlKi",_="MiddleContent_classListItem__bzjP2",p="MiddleContent_class_head_name__w9ZKs";var x=n(46457),g=n(39230),j=n(80184);const f=function(e){let{activeIndex:t,setActiveIndex:n}=e;const{t:l}=(0,g.$G)();return(0,j.jsx)("div",{className:x.Z.mcqTop,children:(0,j.jsxs)("div",{className:x.Z.mcqToptabs,children:[(0,j.jsx)("div",{className:0===t?"".concat(x.Z.mcqTopItem," ").concat(x.Z.active):x.Z.mcqTopItem,onClick:()=>n(0),children:l("menu")}),(0,j.jsx)("div",{className:1===t?"".concat(x.Z.mcqTopItem," ").concat(x.Z.active):x.Z.mcqTopItem,onClick:()=>n(1),children:l("classes")})]})})};var y=n(74289),b=n(69721),N=n(8148),S=n(35395),Z=n(33992),C=n(93339),k=n(1669);const T=l.lazy((()=>Promise.all([n.e(6307),n.e(37641)]).then(n.bind(n,50710))));const M=function(e){var t,n,a,i,s,d,o,x,M,D,w,A,F;let{bid:I,carryParentState:E,instituteId:P,did:q,storeEnable:R}=e;const{t:L}=(0,g.$G)(),[O,H]=(0,l.useState)(0),[Y,G]=(0,l.useState)(""),{departmentBatchAllClass:U,departmentBatchAllClassRefetch:B}=(0,y.$C)({data:{bid:I,page:1,limit:20},skip:!I}),{classEditDetail:$,classEditDetailRefetch:J}=(0,Z.Q1)({cid:Y,skip:!Y}),{departmentTabManage:V,departmentTabManageLoading:z}=(0,C.jU)({data:{did:q,flow:"Department"},skip:!q});return(0,l.useEffect)((()=>{I&&B()}),[I,B]),(0,l.useEffect)((()=>{Y&&J()}),[Y,J]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:c,children:(0,j.jsxs)("div",{className:r,children:[(0,j.jsx)("div",{className:v,children:(0,j.jsx)(f,{activeIndex:O,setActiveIndex:H})}),0===O&&(0,j.jsxs)("div",{className:m,children:[(null===V||void 0===V||null===(t=V.tab_manage)||void 0===t?void 0:t.all_staff)&&(0,j.jsx)(N.Z,{carryParentState:E,activeTab:"staff",children:(0,j.jsxs)("div",{className:u,children:[(0,j.jsx)("img",{src:"/images/member_tab/department/department-staff-icon.svg",alt:"staff room"}),(0,j.jsx)("p",{children:L("staff_room")})]})}),(null===V||void 0===V||null===(n=V.tab_manage)||void 0===n?void 0:n.mentor)&&(0,j.jsx)(N.Z,{carryParentState:E,activeTab:"mentor",children:(0,j.jsxs)("div",{className:u,children:[(0,j.jsx)("img",{src:"/images/member_tab/department/department-mentor-icon.svg",alt:"mentor avatar"}),(0,j.jsx)("p",{children:L("mentoring")})]})}),(null===V||void 0===V||null===(a=V.tab_manage)||void 0===a?void 0:a.fees)&&(0,j.jsx)(N.Z,{carryParentState:E,activeTab:"fees",children:(0,j.jsxs)("div",{className:u,children:[(0,j.jsx)("img",{src:"/images/member_tab/department/department-fees-icon.svg",alt:"functions"}),(0,j.jsx)("p",{children:L("department_fees")})]})}),(null===V||void 0===V||null===(i=V.tab_manage)||void 0===i?void 0:i.checklist)&&(0,j.jsx)(N.Z,{carryParentState:E,activeTab:"checklist",children:(0,j.jsxs)("div",{className:u,children:[(0,j.jsx)("img",{src:"/images/member_tab/department/department-checklist-icon.svg",alt:"competitons"}),(0,j.jsx)("p",{children:L("checklist")})]})}),(null===V||void 0===V||null===(s=V.tab_manage)||void 0===s?void 0:s.examination)&&(0,j.jsx)(N.Z,{carryParentState:E,activeTab:"exam",children:(0,j.jsxs)("div",{className:u,children:[(0,j.jsx)("img",{src:"/images/member_tab/department/department-examination-icon.svg",alt:"functions"}),(0,j.jsx)("p",{children:L("examinations")})]})}),(null===V||void 0===V||null===(d=V.tab_manage)||void 0===d?void 0:d.copo)&&(0,j.jsx)(N.Z,{carryParentState:E,activeTab:"co-attainment",children:(0,j.jsxs)("div",{className:u,children:[(0,j.jsx)("img",{src:"/images/member_tab/subject/subject-attainment-icon.svg",alt:"settings"}),(0,j.jsx)("p",{style:{textAlign:"center"},children:L("co_mapping_and_attainment")})]})}),(null===V||void 0===V||null===(o=V.tab_manage)||void 0===o?void 0:o.malicious)&&(0,j.jsx)(N.Z,{carryParentState:E,activeTab:"malicious",children:(0,j.jsxs)("div",{className:u,children:[(0,j.jsx)("img",{src:"/images/member_tab/department/department-malicious-icon.svg",alt:"backlogs"}),(0,j.jsx)("p",{children:L("malicious_practices")})]})}),(null===V||void 0===V||null===(x=V.tab_manage)||void 0===x?void 0:x.backlog)&&(0,j.jsx)(N.Z,{carryParentState:E,activeTab:"backlog&standard",children:(0,j.jsxs)("div",{className:u,children:[(0,j.jsx)("img",{src:"/images/member_tab/department/department-backlog-icon.svg",alt:"backlogs"}),(0,j.jsx)("p",{children:L("backlog")})]})}),(null===V||void 0===V||null===(M=V.tab_manage)||void 0===M?void 0:M.holiday)&&(0,j.jsx)(N.Z,{carryParentState:E,activeTab:"holiday",children:(0,j.jsxs)("div",{className:u,children:[(0,j.jsx)("img",{src:"/images/member_tab/department/department-holiday-icon.svg",alt:"holiday"}),(0,j.jsx)("p",{children:L("holidays")})]})}),(null===V||void 0===V||null===(D=V.tab_manage)||void 0===D?void 0:D.complaint)&&(0,j.jsx)(N.Z,{carryParentState:E,activeTab:"complaint",children:(0,j.jsxs)("div",{className:u,children:[(0,j.jsx)("img",{src:"/images/member_tab/department/department-complaint-icon.svg",alt:"settings"}),(0,j.jsx)("p",{children:L("department_complaints")})]})}),(null===V||void 0===V||null===(w=V.tab_manage)||void 0===w?void 0:w.setting)&&(0,j.jsx)(N.Z,{carryParentState:E,activeTab:"setting",children:(0,j.jsxs)("div",{className:u,children:[(0,j.jsx)("img",{src:"/images/member_tab/class/class-setting-icon.svg",alt:"settings"}),(0,j.jsx)("p",{children:L("setting")})]})})]}),1===O&&(0,j.jsx)("div",{className:h,style:{position:"relative"},children:null===U||void 0===U||null===(A=U.batch)||void 0===A||null===(F=A.classroom)||void 0===F?void 0:F.map((e=>{var t,n,l,a,i,s,d,o,c,r,v,m;return(0,j.jsx)(N.Z,{carryParentState:{...E,clsId:null===e||void 0===e?void 0:e._id,clsName:"".concat(null===e||void 0===e?void 0:e.className," - ").concat(null===e||void 0===e?void 0:e.classTitle),teacherName:"".concat(null!==(t=null===e||void 0===e||null===(n=e.classTeacher)||void 0===n?void 0:n.staffFirstName)&&void 0!==t?t:""," ").concat((null===e||void 0===e||null===(l=e.classTeacher)||void 0===l?void 0:l.staffMiddleName)||""," ").concat(null!==(a=null===e||void 0===e||null===(i=e.classTeacher)||void 0===i?void 0:i.staffLastName)&&void 0!==a?a:"")},activeTab:"class-detail",children:(0,j.jsxs)("div",{className:_,style:{justifyContent:"space-between"},children:[(0,j.jsxs)("div",{className:p,children:[(0,j.jsx)("img",{src:null!==e&&void 0!==e&&null!==(s=e.classTeacher)&&void 0!==s&&s.staffProfilePhoto?"".concat(b.yI,"/").concat(null===e||void 0===e||null===(d=e.classTeacher)||void 0===d?void 0:d.staffProfilePhoto):"/images/classes.svg",alt:"class head avatar",style:{borderRadius:"0"}}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h6",{children:null===e||void 0===e?void 0:e.classTitle}),(0,j.jsx)("p",{children:"".concat(null!==(o=null===e||void 0===e||null===(c=e.classTeacher)||void 0===c?void 0:c.staffFirstName)&&void 0!==o?o:""," ").concat((null===e||void 0===e||null===(r=e.classTeacher)||void 0===r?void 0:r.staffMiddleName)||""," ").concat(null!==(v=null===e||void 0===e||null===(m=e.classTeacher)||void 0===m?void 0:m.staffLastName)&&void 0!==v?v:"")})]})]}),(0,j.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:t=>((e,t)=>{e.preventDefault(),G(t)})(t,null===e||void 0===e?void 0:e._id),title:"Menu",style:{cursor:"pointer",height:"1.5rem"}})]})},e._id)}))}),z&&(0,j.jsx)(k.Z,{})]})}),(0,j.jsx)(S.Z,{children:Y&&(0,j.jsx)(T,{departmentModal:!!Y,hideModal:()=>G(""),edit:Y,setEdit:G,editClass:null===$||void 0===$?void 0:$.classes,onRefetch:J,isEditBy:"DEPARTMENT_HEAD",id:P})})]})};var D=n(21640);const w=function(e){var t,n,a;let{departmentProfile:s,carryParentState:d,instituteId:o,did:c}=e;const{t:r}=(0,g.$G)(),v=(0,i.UO)(),[m]=(0,y.sM)(),[u,h]=(0,l.useState)(""),[_,p]=(0,l.useState)(""),[x,f]=(0,l.useState)(!1),[b,N]=(0,l.useState)(!1),[S,Z]=(0,l.useState)("");return(0,l.useEffect)((()=>{if(b){var e;let t=new FormData;t.append("file",_),m({cover:t,did:null===s||void 0===s||null===(e=s.department)||void 0===e?void 0:e._id}).then((e=>{})).catch({})}}),[b,_]),(0,j.jsxs)("div",{children:[(0,j.jsx)(D.Z,{coverKey:null===s||void 0===s?void 0:s.cover,coverId:null===s||void 0===s?void 0:s.coverId,defaultCover:"/images/profileAndCover/department-cover.png",textLarge:null===s||void 0===s?void 0:s.dName,batchStatus:"true",textSmall:"".concat(null===s||void 0===s||null===(t=s.userBatch)||void 0===t?void 0:t.batchName),count1:null===s||void 0===s?void 0:s.classCount,count1label:r("classes"),count3:null===s||void 0===s?void 0:s.studentCount,count2label:r("staff"),count2:null===s||void 0===s?void 0:s.staffCount,count3label:r("students"),profilePhoto:S,profileChange:e=>{const t=URL.createObjectURL(e.target.files[0]);p(e.target.files[0]),Z(t),h(t),f(!0)},openCrop:x,setOpenCrop:f,setPhotoURL:h,photoURL:u,setFile:p,setUpload:N,setProfilePhoto:Z,viewAs:!0,redirectUrl:"/q/".concat(v.username,"/member/department/").concat(v.deptname,"?a=site"),carryParentState:d}),(0,j.jsx)(M,{bid:null===s||void 0===s||null===(n=s.userBatch)||void 0===n?void 0:n._id,carryParentState:d,instituteId:o,did:c,storeEnable:null===s||void 0===s||null===(a=s.institute)||void 0===a?void 0:a.storeStatus})]})},A="StaffRoom_staffRoom__lF860",F="StaffRoom_backFlex__8hajZ",I="StaffRoom_searchContainer__u3cfP",E="StaffRoom_itemsContainer__nSzH2",P="StaffRoom_item__Hqrg3";var q=n(11105),R=n(43504);const L=function(e){var t;let{did:n}=e;const{t:a}=(0,g.$G)(),s=(0,i.UO)(),[d,o]=l.useState([]),[c,r]=(0,l.useState)(!0),{departmentAllStaff:v,departmentAllStaffRefetch:m}=(0,y.sX)({data:{did:n,page:1,limit:20},skip:!n});return l.useEffect((()=>{n&&(r(!0),m())}),[n,m]),l.useEffect((()=>{var e,t,n;null!==v&&void 0!==v&&null!==(e=v.department)&&void 0!==e&&e.departmentChatGroup?(o((e=>{var t;return[...new Set([...e,...null===v||void 0===v||null===(t=v.department)||void 0===t?void 0:t.departmentChatGroup].map(JSON.stringify))].map(JSON.parse)})),r(!1)):0===(null===v||void 0===v||null===(t=v.department)||void 0===t||null===(n=t.departmentChatGroup)||void 0===n?void 0:n.length)&&r(!1)}),[null===v||void 0===v||null===(t=v.department)||void 0===t?void 0:t.departmentChatGroup]),(0,j.jsxs)("div",{className:A,children:[(0,j.jsx)("div",{className:F,children:(0,j.jsxs)("div",{className:I,children:[(0,j.jsx)("img",{src:"/images/search-dept-icon.svg",alt:""}),(0,j.jsx)("input",{type:"text",placeholder:a("search"),onChange:e=>{if(e.target.value){var t,n;const l=null===v||void 0===v||null===(t=v.department)||void 0===t||null===(n=t.departmentChatGroup)||void 0===n?void 0:n.filter((t=>{var n,l,a;return null!==(n="".concat(null===t||void 0===t?void 0:t.staffFirstName," ").concat(null!==t&&void 0!==t&&t.staffMiddleName?(null===t||void 0===t?void 0:t.staffMiddleName)+" ":"").concat(null===t||void 0===t?void 0:t.staffLastName))&&void 0!==n&&null!==(l=n.toLowerCase())&&void 0!==l&&l.includes(null===(a=e.target.value)||void 0===a?void 0:a.toLowerCase())?t:null}));o(l)}else{var l;o(null===v||void 0===v||null===(l=v.department)||void 0===l?void 0:l.departmentChatGroup)}}})]})}),(0,j.jsxs)("div",{className:E,children:[null===d||void 0===d?void 0:d.map((e=>(0,j.jsx)(R.rU,{to:"/q/".concat(s.username,"/staff/profile"),state:{sid:null===e||void 0===e?void 0:e._id,viewAs:"DEPARTMENT_HEAD"},children:(0,j.jsxs)("div",{className:P,children:[(0,j.jsx)("p",{children:null===e||void 0===e?void 0:e.staffROLLNO}),(0,j.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(b.yI,"/").concat(null===e||void 0===e?void 0:e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,j.jsx)("p",{children:"".concat(null===e||void 0===e?void 0:e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(null===e||void 0===e?void 0:e.staffLastName)})]})},null===e||void 0===e?void 0:e._id))),c&&(0,j.jsx)(q.Z,{})]})]})};var O=n(9972),H=n(90443),Y=n(36665),G=n(97655),U=n(60163),B=n(98094),$=n(91022);const J=e=>{let{checklistInfo:t,onGrabInfo:n,is_edit:a}=e;const{t:i}=(0,g.$G)(),[s,d]=(0,l.useState)({checklistName:"",checklistAmount:"",checklistFees:""}),[o,c]=(0,l.useState)("");(0,l.useEffect)((()=>{t&&d((e=>({...e,...t})))}),[t]);const r=e=>{"checklistAmount"===e.target.name?d((t=>({...t,checklistAmount:+e.target.value}))):d((t=>({...t,[e.target.name]:e.target.value})))},v=()=>{const e=(e=>{const t={};for(let n in e)"checklistAmount"===n?"Yes"===e.checklistFees&&(e[n]||(t[n]="".concat(n," is required!"))):e[n]||(t[n]="".concat(n," is required!"));return t})(s);let t=!1;for(let n in e)if(n){t=!0;break}t?c(e):n(s)};return(0,j.jsxs)("div",{className:U.Z.seating_modal,style:{minHeight:"17rem"},children:[(0,j.jsxs)("section",{className:U.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,j.jsx)("h6",{children:i("create_checklist")}),a?(0,j.jsx)("button",{className:U.Z.next_btn,title:"Update Checklist",onClick:v,children:i("update")}):(0,j.jsx)("button",{className:U.Z.next_btn,title:"Next",onClick:v,children:i("next")})]}),(0,j.jsx)(B.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),(0,j.jsx)(G.Z,{labelText:i("department_checklist_name"),placeholder:i("enter_checklist_name"),name:"checklistName",value:s.checklistName,type:"text",onChange:r,errorShow:o.checklistName}),(0,j.jsx)($.Z,{selectLabel:i("select_fees"),selectedValue:i("select_fess_yes_no"),name:"checklistFees",value:s.checklistFees,onClick:e=>d((t=>({...t,checklistFees:e}))),errorShow:o.checklistFees,options:["Yes","No"]}),"Yes"===s.checklistFees?(0,j.jsx)(G.Z,{labelText:i("amount"),placeholder:i("enter_fees_amount"),name:"checklistAmount",value:s.checklistAmount,type:"number",onChange:r,errorShow:o.checklistAmount}):""]})};var V=n(34219),z=n(98734),Q=n(13355);const K=e=>{let{onBack:t,bid:n,did:a,createFees:i,onResetAfterCreate:s}=e;const{t:d}=(0,g.$G)(),[o,c]=(0,l.useState)(!0),[r,v]=(0,l.useState)(!1),[m,u]=(0,l.useState)([]),[h,_]=(0,l.useState)([]),[p]=(0,y.xw)(),{departmentAllClassMaster:x,departmentAllClassMasterRefetch:f}=(0,y.lj)({data:{did:a,bid:n,page:1,limit:50},skip:!n||!a});(0,l.useEffect)((()=>{n&&a&&f()}),[n,a,f]),(0,l.useEffect)((()=>{var e,t;null!==x&&void 0!==x&&null!==(e=x.classMaster)&&void 0!==e&&e.length?(u(null===x||void 0===x?void 0:x.classMaster),c(!1)):0===(null===x||void 0===x||null===(t=x.classMaster)||void 0===t?void 0:t.length)&&c(!1)}),[null===x||void 0===x?void 0:x.classMaster]);const b=e=>{null!==h&&void 0!==h&&h.includes(e)?_((t=>null===t||void 0===t?void 0:t.filter((t=>t!==e)))):_((t=>[...t,e]))};return(0,j.jsxs)("div",{className:U.Z.seating_modal,children:[(0,j.jsxs)("section",{className:U.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,j.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:t,alt:"back"}),(0,j.jsx)("h6",{children:d("select_classes")}),(0,j.jsx)("button",{className:U.Z.next_btn,title:"Save checklist",onClick:()=>{null!==h&&void 0!==h&&h.length&&(v((e=>!e)),p({did:a,createChecklist:{...i,ClassId:h}}).then((()=>{s(),v((e=>!e))})).catch((()=>{v((e=>!e))})))},children:d("save")})]}),(0,j.jsx)(B.Z,{customStyle:{width:"100%",marginTop:"0.5rem",marginBottom:"0.5rem"}}),null===m||void 0===m?void 0:m.map((e=>{var t;return null===e||void 0===e||null===(t=e.classDivision)||void 0===t?void 0:t.map((t=>(0,j.jsx)(Q.Z,{cls:t,isMaster:!0,onSelect:b,classMaster:null===e||void 0===e?void 0:e.className,divisionId:h},t._id)))})),!o&&!(null!==m&&void 0!==m&&m.length)&&(0,j.jsx)(V.Z,{customStyleContainer:{marginTop:"4rem"},title:"No any class found",subtitle:"Please make sure you have created class."}),o&&(0,j.jsx)(q.Z,{}),r&&(0,j.jsx)(z.Z,{})]})};const W=function(e){let{did:t,bid:n,onRefetch:a,onClose:i,onEdit:s,is_edit:d,checklistData:o}=e;const[c,r]=(0,l.useState)("FEES_INFO"),[v,m]=(0,l.useState)({checklistName:d?null===o||void 0===o?void 0:o.checklistName:"",checklistAmount:d?null===o||void 0===o?void 0:o.checklistAmount:"",checklistFees:d?null===o||void 0===o?void 0:o.checklistFees:""});return(0,l.useEffect)((()=>{d&&o&&m((e=>({...e,checklistName:null===o||void 0===o?void 0:o.checklistName,checklistAmount:null===o||void 0===o?void 0:o.checklistAmount,checklistFees:null===o||void 0===o?void 0:o.checklistFees})))}),[d,o]),(0,j.jsxs)(Y.Z,{onClose:i,children:["FEES_INFO"===c&&(0,j.jsx)(J,{onClose:i,onGrabInfo:e=>{d?s(e):(m((t=>({...t,...e}))),r("SELECT_DIVISION"))},checklistInfo:v,is_edit:d}),"SELECT_DIVISION"===c&&(0,j.jsx)(K,{onBack:()=>r("FEES_INFO"),did:t,bid:n,createFees:v,onResetAfterCreate:()=>{a(),i(),m({checklistName:"",checklistAmount:"",checklistFees:""}),r("FEES_INFO")}})]})},X="List_checklist_card_container__90+P6",ee="List_checklist_card_left__2-N48",te="List_checklist_inner_text__QnPAv",ne="List_menu_icon__YMaLT",le="List_fees_image__s0+xg";var ae=n(72426),ie=n.n(ae),se=n(12072),de=n(84489),oe=n(87049);const ce=e=>{let{did:t,onRefetch:n,openChecklistMenu:a,onClose:i}=e;const[s,d]=(0,l.useState)(!1),[o,c]=(0,l.useState)(!1),[r]=(0,y.jD)(),[v]=(0,y.X5)();return(0,j.jsx)(j.Fragment,{children:o?(0,j.jsx)(W,{checklistData:a,onClose:()=>c(!1),onEdit:e=>{d((e=>!e)),c(!1),v({cid:null===a||void 0===a?void 0:a._id,checklist:e}).then((()=>{n(),d((e=>!e)),i()})).catch({})},is_edit:!0}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(de.Z,{onClose:i}),(0,j.jsxs)(se.Z,{customStyle:{zIndex:"1200"},children:[(0,j.jsxs)("div",{className:oe.Z.edit_modal_container,style:{width:"200px"},children:[(0,j.jsx)("h6",{className:oe.Z.edit,onClick:()=>c((e=>!e)),children:"Edit"}),(0,j.jsx)("h6",{className:oe.Z.remove,onClick:()=>{d((e=>!e)),r({did:t,cid:null===a||void 0===a?void 0:a._id}).then((()=>{n(),d((e=>!e)),i()})).catch({})},children:"Delete"})]}),s&&(0,j.jsx)(z.Z,{})]})]})})},re=e=>{var t,n;let{checklist:a,onRefetch:i,did:s}=e;const{t:d}=(0,g.$G)(),[o,c]=(0,l.useState)("");return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:X,children:[(0,j.jsxs)("div",{className:ee,children:[(0,j.jsx)("img",{src:"/images/members/fees-icon.svg",alt:"fees icon",className:le}),(0,j.jsxs)("div",{className:te,children:[(0,j.jsx)("h6",{children:null!==(t=null===a||void 0===a?void 0:a.checklistName)&&void 0!==t?t:0}),(0,j.jsxs)("p",{children:[d("created_on")," ",ie()(null===a||void 0===a?void 0:a.createdAt).format("DD MMMM YYYY")," "]})]})]}),(0,j.jsxs)("div",{className:te,style:{alignItems:"flex-end",marginRight:"2rem"},children:[(0,j.jsxs)("h6",{children:[d("rs"),". ",null!==(n=null===a||void 0===a?void 0:a.checklistAmount)&&void 0!==n?n:0,"/-"]}),(0,j.jsxs)("p",{children:[d("fees")," "]})]}),(0,j.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:()=>c(a),className:ne,title:"Menu"})]}),o&&(0,j.jsx)(ce,{did:s,onRefetch:i,openChecklistMenu:o,onClose:()=>c("")})]})};const ve=function(e){var t;let{did:n,bid:a}=e;const{t:i}=(0,g.$G)(),[s,d]=(0,l.useState)(!1),[o,c]=(0,l.useState)(!0),[r,v]=(0,l.useState)([]),[m,u]=(0,l.useState)(!1),{departmentAllChecklist:h,departmentAllChecklistRefetch:_}=(0,y.r5)({data:{did:n,page:1,limit:20},skip:!n});(0,l.useEffect)((()=>{n&&_()}),[n,_]),(0,l.useEffect)((()=>{var e,t;null!==h&&void 0!==h&&null!==(e=h.checklist)&&void 0!==e&&e.length?(v(null===h||void 0===h?void 0:h.checklist),c(!1)):0===(null===h||void 0===h||null===(t=h.checklist)||void 0===t?void 0:t.length)&&c(!1)}),[null===h||void 0===h?void 0:h.checklist]);const p=()=>{d((e=>!e))};return(0,l.useEffect)((()=>{n&&_()}),[_,n]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:H.Z.exam_container,children:[(0,j.jsxs)("div",{className:H.Z.with_search,children:[(0,j.jsx)("h6",{children:i("previous_checklist_list")}),(0,j.jsx)("section",{className:H.Z.search_container,children:(0,j.jsxs)("div",{className:H.Z.search_container_input,children:[(0,j.jsx)("img",{className:H.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,j.jsx)("input",{type:"text",placeholder:"Search checklist...",onChange:e=>{if(e.target.value){var t;const n=null===h||void 0===h||null===(t=h.checklist)||void 0===t?void 0:t.filter((t=>{var n,l,a;return null!==t&&void 0!==t&&null!==(n=t.checklistName)&&void 0!==n&&null!==(l=n.toLowerCase())&&void 0!==l&&l.includes(null===(a=e.target.value)||void 0===a?void 0:a.toLowerCase())?t:null}));0===(null===n||void 0===n?void 0:n.length)?u(!0):u(!1),v(n)}else u(!1),v(null===h||void 0===h?void 0:h.checklist)}})]})})]}),(0,j.jsx)(B.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,j.jsx)("div",{className:H.Z.add_new_container,children:(0,j.jsx)("p",{className:H.Z.add_new_exam,onClick:p,children:i("create_new_checklist")})}),null===r||void 0===r?void 0:r.map((e=>(0,j.jsx)(re,{checklist:e,onRefetch:_,did:n},e._id))),!o&&!(null!==h&&void 0!==h&&null!==(t=h.checklist)&&void 0!==t&&t.length)&&(0,j.jsx)(V.Z,{customStyleContainer:{marginTop:"9rem"},title:"No any checklist found",subtitle:"Please make sure you have created checklist."}),m&&(0,j.jsx)(V.Z,{customStyleContainer:{marginTop:"9rem"},title:"No any search found"}),o&&(0,j.jsx)(q.Z,{})]}),s&&(0,j.jsx)(W,{did:n,bid:a,onRefetch:_,onClose:p})]})};var me=n(47167),ue=n(10406),he=n(72295),_e=n(23441),pe=n(12143);const xe=e=>{var t,n,l,a;let{viewAs:i,customStyleContainer:s,mentee:d,setOpenMenteeMenu:o}=e;const{t:c}=(0,g.$G)();return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:pe.Z.student_card_container,style:s,children:[(0,j.jsx)("img",{src:null!==d&&void 0!==d&&d.studentProfilePhoto?"".concat(b.yI,"/").concat(null===d||void 0===d?void 0:d.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"student avatar",loading:"lazy"}),(0,j.jsxs)("div",{className:pe.Z.student_container_inner,children:[(0,j.jsx)("h6",{children:"".concat(null!==(t=null===d||void 0===d?void 0:d.studentFirstName)&&void 0!==t?t:""," ").concat(null!==(n=null===d||void 0===d?void 0:d.studentMiddleName)&&void 0!==n?n:""," ").concat(null!==(l=null===d||void 0===d?void 0:d.studentLastName)&&void 0!==l?l:"")}),(0,j.jsxs)("div",{className:pe.Z.student_inner_bottom,children:[(0,j.jsxs)("p",{style:{marginTop:"0.6rem"},children:["".concat(null!==(a=null===d||void 0===d?void 0:d.total_query)&&void 0!==a?a:0," "),c("queries_pending")]}),"MENTOR_DETAIL"===i&&(0,j.jsx)("button",{className:pe.Z.remove_btn,onClick:()=>o(d),children:c("remove")})]})]})]}),(0,j.jsx)(B.Z,{customStyle:{width:"100%",marginTop:"0.6rem"}})]})};var ge=n(80962),je=n(88409);const fe=e=>{var t,n,a,s,d,o,c,r,v,m,u,h,_,p,x,g,f;let{did:b}=e;const N=(0,i.TH)(),[S,Z]=(0,l.useState)(!1),[C,k]=(0,_e.YD)(),[T,M]=(0,l.useState)(1),[D,w]=(0,l.useState)(!0),[A,F]=(0,l.useState)(!0),[I,E]=(0,l.useState)([]),[P,R]=(0,l.useState)(!1),[L,O]=(0,l.useState)(""),{getOneMentorDetail:H,getOneMentorDetailRefetch:Y}=(0,y.$f)({mid:null===(t=N.state)||void 0===t?void 0:t.mid,skip:!(null!==(n=N.state)&&void 0!==n&&n.mid)});(0,l.useEffect)((()=>{var e;null!==(e=N.state)&&void 0!==e&&e.mid&&Y()}),[null===(a=N.state)||void 0===a?void 0:a.mid,Y]);const{getOneMentorMenteeList:G,getOneMentorMenteeListRefetch:U}=(0,y.Gu)({data:{mid:null===(s=N.state)||void 0===s?void 0:s.mid,page:T,limit:10},skip:!(null!==(d=N.state)&&void 0!==d&&d.mid)});(0,l.useEffect)((()=>{var e;null!==(e=N.state)&&void 0!==e&&e.mid&&(F(!0),U())}),[null===(o=N.state)||void 0===o?void 0:o.mid,T,U]),(0,l.useEffect)((()=>{k&&D&&M((e=>e+1))}),[k,D]),(0,l.useEffect)((()=>{var e,t;P?(E(null===G||void 0===G?void 0:G.all_mentees),F(!1),R(!1)):null!==G&&void 0!==G&&G.all_mentees?(E((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===G||void 0===G?void 0:G.all_mentees])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),F(!1)):0===(null===G||void 0===G||null===(t=G.all_mentees)||void 0===t?void 0:t.length)&&F(!1);10===(null===G||void 0===G||null===(e=G.all_mentees)||void 0===e?void 0:e.length)?w(!0):w(!1)}),[null===G||void 0===G?void 0:G.all_mentees]);const $=()=>{Z((e=>!e))},J=()=>{M(1),R(!0),F(!0),U()};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:ue.Z.with_search,children:[(0,j.jsx)("h6",{children:"".concat(null!==(c=null===H||void 0===H||null===(r=H.mentor)||void 0===r||null===(v=r.mentor_head)||void 0===v?void 0:v.staffFirstName)&&void 0!==c?c:""," ").concat(null!==(m=null===H||void 0===H||null===(u=H.mentor)||void 0===u||null===(h=u.mentor_head)||void 0===h?void 0:h.staffMiddleName)&&void 0!==m?m:""," ").concat(null!==(_=null===H||void 0===H||null===(p=H.mentor)||void 0===p||null===(x=p.mentor_head)||void 0===x?void 0:x.staffLastName)&&void 0!==_?_:"")}),(0,j.jsxs)("div",{className:ue.Z.search_container_filter,children:[(0,j.jsx)("section",{className:ue.Z.search_container,children:(0,j.jsxs)("div",{className:ue.Z.search_container_input,children:[(0,j.jsx)("img",{className:ue.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,j.jsx)("input",{type:"text",placeholder:"Search"})]})}),(0,j.jsx)("img",{src:"/images/add-plus-blue-icon.svg",alt:"back arrow",className:ue.Z.add_plus_icon,onClick:$,title:"Add seating arrangements"})]})]}),(0,j.jsx)(B.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,j.jsx)(he.Z,{viewAs:"MENTOR_DETAIL",mentor:null===H||void 0===H?void 0:H.mentor}),null===I||void 0===I?void 0:I.map(((e,t)=>(null===I||void 0===I?void 0:I.length)===t+1?(0,j.jsx)("div",{ref:C,children:(0,j.jsx)(xe,{mentee:e,viewAs:"MENTOR_DETAIL",setOpenMenteeMenu:O})},null===e||void 0===e?void 0:e._id):(0,j.jsx)(xe,{mentee:e,viewAs:"MENTOR_DETAIL",setOpenMenteeMenu:O},null===e||void 0===e?void 0:e._id))),A&&(0,j.jsx)(q.Z,{}),S&&(0,j.jsx)(ge.Z,{onClose:$,did:b,mid:null===(g=N.state)||void 0===g?void 0:g.mid,onRefetch:J}),L&&(0,j.jsx)(je.Z,{onClose:()=>O(""),did:b,mid:null===(f=N.state)||void 0===f?void 0:f.mid,onRefetch:J,openMenteeMenu:L})]})};var ye=n(46876);const be=e=>{let{instituteId:t,onClose:n,onRefetch:a,did:i}=e;const{t:s}=(0,g.$G)(),[d,o]=(0,l.useState)(!1),[c,r]=(0,l.useState)(!0),[v]=(0,y.LP)();return(0,j.jsxs)(j.Fragment,{children:[c&&(0,j.jsx)(Y.Z,{onClose:n,children:(0,j.jsx)(ye.default,{assignHead:c,headSelect:e=>{r(!1),o((e=>!e)),v({did:i,sid:null===e||void 0===e?void 0:e._id}).then((()=>{a(),n(),o((e=>!e))})).catch({})},title:s("staff_list"),onClose:()=>r((e=>!e)),viewAs:"ADMISSION_ADMIN",instituteId:t})}),d&&(0,j.jsx)(z.Z,{})]})},Ne=e=>{let{carryParentState:t,instituteId:n,did:a}=e;const{t:i}=(0,g.$G)(),[s,d]=(0,l.useState)(!1),[o,c]=(0,_e.YD)(),[r,v]=(0,l.useState)(1),[m,u]=(0,l.useState)(!0),[h,_]=(0,l.useState)(!0),[p,x]=(0,l.useState)([]),[f,b]=(0,l.useState)(!1),{getMentorList:N,getMentorListRefetch:S}=(0,y.LA)({data:{did:a,page:r,limit:10},skip:!a});(0,l.useEffect)((()=>{a&&(_(!0),S())}),[a,r,S]),(0,l.useEffect)((()=>{c&&m&&v((e=>e+1))}),[c,m]),(0,l.useEffect)((()=>{var e,t;f?(x(null===N||void 0===N?void 0:N.all_mentor),_(!1),b(!1)):null!==N&&void 0!==N&&N.all_mentor?(x((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===N||void 0===N?void 0:N.all_mentor])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),_(!1)):0===(null===N||void 0===N||null===(t=N.all_mentor)||void 0===t?void 0:t.length)&&_(!1);10===(null===N||void 0===N||null===(e=N.all_mentor)||void 0===e?void 0:e.length)?u(!0):u(!1)}),[null===N||void 0===N?void 0:N.all_mentor]);const Z=()=>{d((e=>!e))};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,j.jsx)("h6",{className:ue.Z.add_new_category,onClick:Z,children:i("create_new_mentor")})}),null===p||void 0===p?void 0:p.map(((e,n)=>(null===p||void 0===p?void 0:p.length)===n+1?(0,j.jsx)("div",{ref:o,children:(0,j.jsx)(he.Z,{mentor:e,carryParentState:t})},null===e||void 0===e?void 0:e._id):(0,j.jsx)(he.Z,{mentor:e,carryParentState:t},null===e||void 0===e?void 0:e._id))),h&&(0,j.jsx)(q.Z,{}),s&&(0,j.jsx)(be,{onClose:Z,instituteId:n,onRefetch:()=>{v(1),b(!0),_(!0),S()},did:a})]})};var Se=n(37435),Ze=n(23308),Ce=n(93638);const ke=e=>{var t,n,a,s,d,o,c,r;let{carryParentState:v,did:m,instituteId:u}=e;const{t:h}=(0,g.$G)(),_=(0,i.s0)(),p=(0,i.TH)(),x=(0,i.UO)(),[f,b]=(0,l.useState)(!1),[N]=(0,y.Rz)(),S=[{name:h("mentors"),id:0,url:"member/department/".concat(x.deptname,"?a=mentor")},{name:h("queries"),id:1,url:"member/department/".concat(x.deptname,"?a=mentor&n=queries")}];return(0,j.jsxs)(j.Fragment,{children:[("mentor"===(null===(t=p.search)||void 0===t?void 0:t.substring(3))||"mentor&n=queries"===(null===(n=p.search)||void 0===n?void 0:n.substring(3)))&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:ue.Z.with_search,style:{justifyContent:"space-between",gap:"1rem"},children:[(0,j.jsxs)("div",{className:ue.Z.with_search,style:{justifyContent:"flex-start",gap:"1rem",width:"60%"},children:[(0,j.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{_(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,j.jsx)("h6",{children:h("mentoring")})]}),(0,j.jsx)(Ce.Z,{label:h("staff_mentor"),customStyle:{margin:"0",padding:"0.4rem 1rem"},onAction:()=>{m&&(b((e=>!e)),N({did:m}).then((()=>{b((e=>!e))})).catch({}))}})]}),(0,j.jsx)(me.Z,{tabList:S,activeIndexTab:"mentor"===(null===(a=p.search)||void 0===a?void 0:a.substring(3))?0:"mentor&n=queries"===(null===(s=p.search)||void 0===s?void 0:s.substring(3))?1:2,showAs:!0,customStyleLink:{width:"50%"},carryParentState:v}),(0,j.jsx)(B.Z,{customStyle:{width:"100%",marginBottom:"0.5rem"}}),"mentor"===(null===(d=p.search)||void 0===d?void 0:d.substring(3))&&(0,j.jsx)(Ne,{instituteId:u,did:m,carryParentState:v}),"mentor&n=queries"===(null===(o=p.search)||void 0===o?void 0:o.substring(3))&&(0,j.jsx)(Ze.default,{did:m,carryParentState:v,queryFlow:"By_Department_Head"})]}),"mentor&n=detail"===(null===(c=p.search)||void 0===c?void 0:c.substring(3))&&(0,j.jsx)(fe,{did:m}),"mentor&n=queries&query"===(null===(r=p.search)||void 0===r?void 0:r.substring(3))&&(0,j.jsx)(Se.default,{queryFlow:"By_Department_Head"}),f&&(0,j.jsx)(z.Z,{})]})};var Te=n(76452);const Me="DepartmentSetting_ClassSetting__SFvg+",De="DepartmentSetting_department_container__9b6Ch",we="DepartmentSetting_department_setting_btn__kRHq+",Ae="Complaints_complaints__Qjrkp",Fe="ComplaintList_complaintList__d3hVT",Ie="ComplaintList_listHead__2TxDF",Ee="ComplaintList_tabss__cAlsI",Pe="ComplaintList_tabb__er9O0",qe="ComplaintList_tabActive__Ps2UJ",Re={list:"UnsolvedList_list__TPD8N",item:"UnsolvedList_item__-Bzo4",datetime:"UnsolvedList_datetime__gdY1X"},Le={addDisplay:"ComplaintModal_addDisplay__SatdG",title:"ComplaintModal_title__T-jIF",text:"ComplaintModal_text__EOwGn",content:"ComplaintModal_content__re7-Q",footer:"ComplaintModal_footer__zF4tl",btn:"ComplaintModal_btn__2VJpQ"};var Oe=n(5574);const He=function(e){var t,n,a,i,s,d,o,c,r,v,m,u;let{addDisplay:h,setAddDisplay:_,complaintId:p,onRefetch:x}=e;const[g,f]=(0,l.useState)(!1),{departmentComplaintDetail:b,departmentComplaintDetailRefetch:N}=(0,y.z1)({data:{cid:p},skip:!p}),[S]=(0,y.Kd)();return(0,l.useEffect)((()=>{p&&N()}),[p,N]),(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(Oe.Z,{open:h,onClose:()=>{_(!1)},children:[(0,j.jsxs)("div",{className:Le.addDisplay,children:[(0,j.jsxs)("div",{className:Le.title,children:[(0,j.jsx)("img",{src:"/images/complaint-white.svg",alt:""}),(0,j.jsxs)("div",{className:Le.text,children:[(0,j.jsx)("div",{className:Le.insName,children:(0,j.jsx)("h6",{children:"Open"===(null===b||void 0===b||null===(t=b.complaint)||void 0===t?void 0:t.complaintType)?"".concat(null===b||void 0===b||null===(n=b.complaint)||void 0===n||null===(a=n.student)||void 0===a?void 0:a.studentFirstName,"\n        ").concat(null!==b&&void 0!==b&&null!==(i=b.complaint)&&void 0!==i&&null!==(s=i.student)&&void 0!==s&&s.studentMiddleName?null===b||void 0===b||null===(d=b.complaint)||void 0===d||null===(o=d.student)||void 0===o?void 0:o.studentMiddleName:" ","\n        ").concat(null===b||void 0===b||null===(c=b.complaint)||void 0===c||null===(r=c.student)||void 0===r?void 0:r.studentLastName):"Anonymous"})}),(0,j.jsx)("div",{className:Le.insUserName,children:(0,j.jsx)("p",{children:ie()(null===b||void 0===b||null===(v=b.complaint)||void 0===v?void 0:v.createdAt).format("DD-MM-YYYY")})})]})]}),(0,j.jsx)("div",{className:Le.content,children:null===b||void 0===b||null===(m=b.complaint)||void 0===m?void 0:m.complaintContent}),"Solved"!==(null===b||void 0===b||null===(u=b.complaint)||void 0===u?void 0:u.complaintStatus)?(0,j.jsx)("div",{className:Le.footer,children:(0,j.jsx)("div",{className:Le.btn,onClick:()=>{var e;"Solved"===(null===b||void 0===b||null===(e=b.complaint)||void 0===e?void 0:e.complaintStatus)||(f((e=>!e)),S({cid:p,complaintSolve:{status:"Solved"}}).then((()=>{x(),f((e=>!e))})).catch({}))},children:"Solved"})}):""]}),g&&(0,j.jsx)(z.Z,{})]})})};function Ye(e){var t,n,a,i;let{complaint:s,onRefetch:d}=e;const[o,c]=(0,l.useState)(!1);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:Re.item,onClick:()=>c((e=>!e)),children:[(0,j.jsx)("img",{src:"/images/complainIcon.svg",alt:""}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h6",{children:"Open"===(null===s||void 0===s?void 0:s.complaintType)?"".concat(null===s||void 0===s||null===(t=s.student)||void 0===t?void 0:t.studentFirstName,"\n        ").concat(null!==s&&void 0!==s&&null!==(n=s.student)&&void 0!==n&&n.studentMiddleName?null===s||void 0===s||null===(a=s.student)||void 0===a?void 0:a.studentMiddleName:" ","\n        ").concat(null===s||void 0===s||null===(i=s.student)||void 0===i?void 0:i.studentLastName):"Anonymous"}),(0,j.jsx)("div",{className:Re.datetime,children:(0,j.jsx)("p",{children:ie()(null===s||void 0===s?void 0:s.createdAt).format("DD-MM-YYYY")})})]})]}),o&&(0,j.jsx)(He,{setAddDisplay:c,addDisplay:o,complaintId:null===s||void 0===s?void 0:s._id,onRefetch:d})]})}const Ge=function(e){var t;let{did:n}=e;const{departmentAllComplaint:a,departmentAllComplaintRefetch:i}=(0,y.kf)({data:{did:n,status:"Unsolved",page:1,limit:50},skip:!n});return(0,l.useEffect)((()=>{n&&i()}),[n,i]),(0,j.jsx)("div",{className:Re.list,children:null===a||void 0===a||null===(t=a.complaints)||void 0===t?void 0:t.map((e=>(0,j.jsx)(Ye,{complaint:e,onRefetch:i},null===e||void 0===e?void 0:e._id)))})},Ue={list:"SolvedList_list__0dX9H",item:"SolvedList_item__QplZh",datetime:"SolvedList_datetime__7C88x"};function Be(e){var t,n,a,i;let{complaint:s}=e;const[d,o]=(0,l.useState)(!1);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:Ue.item,onClick:()=>o((e=>!e)),children:[(0,j.jsx)("img",{src:"/images/complainIcon.svg",alt:""}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h6",{children:"Open"===(null===s||void 0===s?void 0:s.complaintType)?"".concat(null===s||void 0===s||null===(t=s.student)||void 0===t?void 0:t.studentFirstName,"\n        ").concat(null!==s&&void 0!==s&&null!==(n=s.student)&&void 0!==n&&n.studentMiddleName?null===s||void 0===s||null===(a=s.student)||void 0===a?void 0:a.studentMiddleName:" ","\n        ").concat(null===s||void 0===s||null===(i=s.student)||void 0===i?void 0:i.studentLastName):"Anonymous"}),(0,j.jsx)("div",{className:Ue.datetime,children:(0,j.jsx)("p",{children:ie()(null===s||void 0===s?void 0:s.createdAt).format("DD-MM-YYYY")})})]})]}),d&&(0,j.jsx)(He,{setAddDisplay:o,addDisplay:d,complaintId:null===s||void 0===s?void 0:s._id})]})}const $e=function(e){var t;let{did:n}=e;const{departmentAllComplaint:a,departmentAllComplaintRefetch:i}=(0,y.kf)({data:{did:n,status:"Solved",page:1,limit:50},skip:!n});return(0,l.useEffect)((()=>{n&&i()}),[n,i]),(0,j.jsx)("div",{className:Ue.list,children:null===a||void 0===a||null===(t=a.complaints)||void 0===t?void 0:t.map((e=>(0,j.jsx)(Be,{complaint:e},null===e||void 0===e?void 0:e._id)))})};const Je=function(e){let{did:t}=e;const[n,a]=(0,l.useState)(!1),{t:i}=(0,g.$G)();return(0,j.jsxs)("div",{className:Fe,children:[(0,j.jsxs)("div",{className:Ee,children:[(0,j.jsx)("div",{className:n?Pe:"".concat(Pe," ").concat(qe),onClick:()=>a(!1),children:i("unsolved")}),(0,j.jsx)("div",{className:n?"".concat(Pe," ").concat(qe):Pe,onClick:()=>a(!0),children:i("Solved")})]}),(0,j.jsx)("div",{className:Ie,children:n?(0,j.jsx)($e,{did:t}):(0,j.jsx)(Ge,{did:t})})]})};const Ve=function(e){let{did:t}=e;return(0,j.jsx)("div",{className:Ae,children:(0,j.jsx)(Je,{did:t})})},ze=e=>{let{did:t}=e;const{t:n}=(0,g.$G)();return(0,j.jsxs)("div",{className:Me,children:[(0,j.jsx)("h6",{children:n("complaints")}),(0,j.jsx)(B.Z,{customStyle:{width:"100%"}}),(0,j.jsx)(Ve,{did:t})]})},Qe=e=>{let{did:t,ia:n,ea:a}=e;const{t:i}=(0,g.$G)(),[s,d]=(0,l.useState)(""),[o,c]=(0,l.useState)({internal_assesment:"",external_assesment:""}),[r]=(0,y.ss)();(0,l.useEffect)((()=>{(a||n)&&c({internal_assesment:null!==n&&void 0!==n?n:"",external_assesment:null!==a&&void 0!==a?a:""})}),[a,n]);const v=e=>{c((t=>({...t,[e.target.name]:+e.target.value})))};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:De,children:[(0,j.jsx)("h6",{children:i("setting")}),(0,j.jsx)(B.Z,{customStyle:{width:"100%"}}),(0,j.jsx)(G.Z,{labelText:i("internal_assesment"),placeholder:i("internal_assesment_placeholder"),name:"internal_assesment",value:o.internal_assesment,type:"number",onChange:v}),(0,j.jsx)(G.Z,{labelText:i("external_assesment"),placeholder:i("external_assesment_placeholder"),name:"external_assesment",value:o.external_assesment,type:"number",onChange:v}),(0,j.jsx)("button",{className:we,onClick:()=>{t&&(d((e=>!e)),r({did:t,copoSetting:o}).then((()=>{d((e=>!e))})).catch({}))},children:i("update")})]}),s&&(0,j.jsx)(z.Z,{})]})};var Ke=n(37283),We=n(40444),Xe=n(26486),et=n(44226),tt=n(84959);const nt=e=>{var t,n;let{did:a}=e;const{t:i}=(0,g.$G)(),[s,d]=(0,l.useState)(!1),[o,c]=(0,l.useState)(!1),[r,v]=(0,l.useState)(!0),[m]=(0,We.HR)(),[u]=(0,We.yP)(),[h]=(0,tt.FL)(),{getAllCopoAttainment:_,getAllCopoAttainmentRefetch:p}=(0,We.LV)({data:{smid:a,flow:"VIEWING_COPO",filterBy:"DEPARTMENT"},skip:!a});(0,l.useEffect)((()=>{a&&p()}),[a,p]),(0,l.useEffect)((()=>{var e,t;(null!==_&&void 0!==_&&null!==(e=_.attainment)&&void 0!==e&&e.length||0===(null===_||void 0===_||null===(t=_.attainment)||void 0===t?void 0:t.length))&&v(!1)}),[null===_||void 0===_?void 0:_.attainment]);const x=()=>{d((e=>!e))};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:H.Z.exam_container,children:[(0,j.jsxs)("div",{className:H.Z.with_search,children:[(0,j.jsx)("h6",{children:i("copo_attainment_department")}),(0,j.jsxs)("section",{className:H.Z.search_container,style:{gap:"1rem"},children:[(0,j.jsx)(et.Z,{label:"co_excel",onExcelFileUpload:e=>{var t;if((null===(t=e.target.files)||void 0===t?void 0:t.length)>0&&a){c(!0);const t=new FormData;t.append("file",e.target.files[0]),h({fileUpload:t}).then((e=>{var t,n;null!==(t=e.data)&&void 0!==t&&t.imageKey?u({did:a,excelFile:{excel_file:null===(n=e.data)||void 0===n?void 0:n.imageKey}}).then((()=>{c(!1)})).catch({}):c(!1)})).catch({})}},dynamicKey:"co_excel"}),(0,j.jsx)(et.Z,{label:"po_excel",onExcelFileUpload:e=>{var t;if((null===(t=e.target.files)||void 0===t?void 0:t.length)>0&&a){c(!0);const t=new FormData;t.append("file",e.target.files[0]),h({fileUpload:t}).then((e=>{var t,n;null!==(t=e.data)&&void 0!==t&&t.imageKey?m({did:a,excelFile:{excel_file:null===(n=e.data)||void 0===n?void 0:n.imageKey}}).then((()=>{c(!1)})).catch({}):c(!1)})).catch({})}},dynamicKey:"po_excel"})]})]}),(0,j.jsx)(B.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,j.jsx)("div",{className:H.Z.add_new_container,children:(0,j.jsx)("p",{className:H.Z.add_new_exam,onClick:x,children:i("create_new_po")})}),null===_||void 0===_||null===(t=_.attainment)||void 0===t?void 0:t.map((e=>(0,j.jsx)(Xe.Z,{attainment:e,onRefetch:p},null===e||void 0===e?void 0:e._id))),!r&&!(null!==_&&void 0!==_&&null!==(n=_.attainment)&&void 0!==n&&n.length)&&(0,j.jsx)(V.Z,{customStyleContainer:{marginTop:"9rem"},title:"No po found",subtitle:"Please make sure you have created po."}),s&&(0,j.jsx)(Ke.Z,{onClose:x,smid:a,onRefetch:p,poCount:(null===_||void 0===_?void 0:_.attainment_po_count)+1,isView:"DEPARTMENT"}),r&&(0,j.jsx)(q.Z,{})]}),o&&(0,j.jsx)(z.Z,{})]})};var lt=n(56959),at=n(91427),it=n(63687),st=n(21348),dt=n(90904),ot=n(2651),ct=n(97892),rt=n.n(ct),vt=n(98684);const mt="DepartmentManager_dm_card__6E9Nw",ut="DepartmentManager_dm_card_inner__MbWBz",ht="DepartmentManager_menu_icon__KbXP6",_t="DepartmentManager_dm_image__5YPa3";var pt=n(89064);const xt=e=>{let{onClose:t,hid:n,onRefetch:a}=e;const{t:i}=(0,g.$G)(),[s,d]=(0,l.useState)(!1),[o]=(0,C.gJ)();return(0,j.jsx)(pt.Z,{onClose:t,disabled:s,children:(0,j.jsx)("h6",{onClick:()=>{n&&(d((e=>!e)),o({hid:n}).then((()=>{a()})).catch({}))},children:i("delete")})})},gt=e=>{var t;let{holiday:n,onRefetch:a}=e;const{t:i}=(0,g.$G)(),[s,d]=(0,l.useState)("");return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:mt,children:[(0,j.jsx)("img",{src:"".concat(vt.Fk,"/holiday.svg"),alt:"holiday icon",className:_t}),(0,j.jsxs)("div",{className:ut,children:[(0,j.jsxs)("h6",{children:[" ",i("dates"),": ",null===n||void 0===n?void 0:n.dDate.map(((e,t)=>{var l;return(null===n||void 0===n||null===(l=n.dDate)||void 0===l?void 0:l.length)===t+1?(0,j.jsxs)("span",{children:[null===e||void 0===e?void 0:e.slice(0,2)," "]},t):(0,j.jsxs)("span",{children:[null===e||void 0===e?void 0:e.slice(0,2),", "]},t)})),null!==n&&void 0!==n&&n.dDate?(0,j.jsx)("span",{children:rt()(null===n||void 0===n?void 0:n.dDate[-1]).format("MMM YYYY")}):null]}),(0,j.jsxs)("p",{children:[" ",null!==(t=null===n||void 0===n?void 0:n.dHolidayReason)&&void 0!==t?t:""]})]}),(0,j.jsx)("img",{src:"".concat(vt.J7,"/menu.svg"),alt:"menu icon",onClick:()=>d(!0),className:ht,title:"Menu"})]}),s&&(0,j.jsx)(xt,{hid:null===n||void 0===n?void 0:n._id,onRefetch:a,onClose:()=>d("")})]})};var jt=n(48293),ft=n(16925);const yt=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],bt=["January","February","March","April","May","June","July","August","September","October","November","December"],Nt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bt;const n=new Date,a="".concat(n.getDate(),"-").concat(n.getMonth()+1,"-").concat(n.getFullYear()),i=[1,2,3,4,5,6,0],[s,d]=(0,l.useState)(n),o=new Date(s.getFullYear(),s.getMonth()+1,0),c=new Date(s.getFullYear(),s.getMonth(),0),r=o.getDate(),v=new Date(s.getFullYear(),s.getMonth(),1).getDay(),m=i.indexOf(v)+1;let u=c.getDate()-i.indexOf(v)+1,h=1,_=1;const p={};for(let l=1;l<7;l++)for(let e=1;e<8;e++)p[l]||(p[l]=[]),1===l?e<m?(p[l]=[...p[l],{classes:"in-prev-month",date:"".concat(u,"-").concat(0===s.getMonth()?12:s.getMonth(),"-").concat(0===s.getMonth()?s.getFullYear()-1:s.getFullYear()),value:u}],u++):(p[l]=[...p[l],{classes:"",date:"".concat(h,"-").concat(s.getMonth()+1,"-").concat(s.getFullYear()),value:h}],h++):l>1&&h<r+1?(p[l]=[...p[l],{classes:"",date:"".concat(h,"-").concat(s.getMonth()+1,"-").concat(s.getFullYear()),value:h}],h++):(p[l]=[...p[l],{classes:"in-next-month",date:"".concat(_,"-").concat(s.getMonth()+2===13?1:s.getMonth()+2,"-").concat(s.getMonth()+2===13?s.getFullYear()+1:s.getFullYear()),value:_}],_++);return{daysShort:e,monthNames:t,todayFormatted:a,calendarRows:p,selectedDate:s,getPrevMonth:()=>{d((e=>new Date(e.getFullYear(),e.getMonth()-1,1)))},getNextMonth:()=>{d((e=>new Date(e.getFullYear(),e.getMonth()+1,1)))}}},St=e=>{let{removeDateArray:t,addDateArray:n,dateArr:a,allHoliday:i}=e;const[s,d]=(0,l.useState)([...i]),{calendarRows:o,selectedDate:c,todayFormatted:r,daysShort:v,monthNames:m,getNextMonth:u,getPrevMonth:h}=Nt();(0,l.useEffect)((()=>{d([...s,...i])}),[i]);const _=e=>{if(a.length>0&&a.includes(e)){const n=a.filter((function(t){return t!==e}));t(n),d(n)}else n(e),d((t=>[...t,e]))};return console.info(i),(0,j.jsxs)(l.Fragment,{children:[(0,j.jsxs)("div",{className:"calenderheader",children:[(0,j.jsx)("div",{className:"monthbtn",onClick:h,children:(0,j.jsx)("img",{alt:"not found",src:"/images/members/arrow-left.svg"})}),(0,j.jsxs)("div",{className:"yearmonth",children:[(0,j.jsx)("h6",{children:"".concat(m[c.getMonth()])}),(0,j.jsx)("p",{children:"".concat(c.getFullYear())})]}),(0,j.jsx)("div",{className:"monthbtn",onClick:u,children:(0,j.jsx)("img",{alt:"not found",src:"/images/members/arrow-right.svg"})})]}),(0,j.jsxs)("table",{className:"table",children:[(0,j.jsx)("thead",{children:(0,j.jsx)("tr",{children:v.map((e=>(0,j.jsx)("th",{className:"day",children:e},e)))})}),(0,j.jsx)("tbody",{children:Object.values(o).map((e=>(0,j.jsx)("tr",{children:e.map((e=>e.date===r?null!==i&&void 0!==i&&i.includes(String(r))?(0,j.jsx)("td",{className:"".concat(e.classes," date today"),onClick:()=>_(e.date),children:(0,j.jsxs)("div",{className:"highlight blue",children:[" ",e.value]})},e.date):(0,j.jsx)("td",{className:"".concat(e.classes," date today"),onClick:()=>_(e.date),children:(0,j.jsxs)("div",{className:"highlight",children:[" ",e.value]})},e.date):"in-prev-month"===e.classes||"in-next-month"===e.classes?(0,j.jsx)("td",{className:"".concat(e.classes," date"),children:(0,j.jsxs)("div",{className:"highlight",children:[" ",e.value]})},e.date):a.includes(e.date)?(0,j.jsx)("td",{className:"".concat(e.classes," date"),onClick:()=>_(e.date),children:(0,j.jsxs)("div",{className:"highlight clicked",children:[" ",e.value]})},e.date):i.length>0&&i.includes(e.date)?(0,j.jsx)("td",{className:"".concat(e.classes," date"),children:(0,j.jsxs)("div",{className:"highlight blue",children:[" ",e.value]})},e.date):(0,j.jsx)("td",{className:"".concat(e.classes," date"),onClick:()=>_(e.date),children:(0,j.jsxs)("div",{className:"highlight",children:[" ",e.value]})},e.date)))},e[0].date)))})]})]})},Zt=e=>{let{onClose:t,allHoliday:n}=e;return(0,j.jsx)(jt.Z,{onClose:t,children:(0,j.jsx)("div",{className:ft.Z.modal_container,style:{minWidth:"30rem",padding:"1rem"},children:(0,j.jsx)(St,{removeDateArray:()=>{},dateArr:[],addDateArray:()=>{},allHoliday:n})})})},Ct=e=>{let{onClose:t,removeDateArray:n,arr:l,addDateArray:a,allHoliday:i,setStep:s}=e;const{t:d}=(0,g.$G)();return(0,j.jsx)(jt.Z,{onClose:t,children:(0,j.jsxs)("div",{className:ft.Z.modal_container,style:{minWidth:"30rem",paddingInline:"1rem"},children:[(0,j.jsx)(st.Z,{children:(0,j.jsxs)("div",{className:ft.Z.modal_container_outer_header,children:[(0,j.jsx)("h6",{children:d("select_holidays_date")}),(0,j.jsx)(Ce.Z,{label:"next",customStyle:{paddingBlock:"0.1rem",margin:"0"},onAction:()=>s(1)})]})}),(0,j.jsx)(dt.Z,{}),(0,j.jsx)(St,{removeDateArray:n,dateArr:l,addDateArray:a,allHoliday:i})]})})};var kt=n(11468),Tt=n(55336);const Mt=e=>{let{did:t,onClose:n,allHoliday:a,onRefetch:i}=e;const{t:s}=(0,g.$G)(),[d,o]=(0,l.useState)(0),[c,r]=(0,l.useState)([]),[v,m]=(0,l.useState)([]),[u,h]=(0,l.useState)(""),[_,p]=(0,l.useState)(!1),[x]=(0,C.jx)();return(0,j.jsx)(j.Fragment,{children:0===d?(0,j.jsx)(Ct,{onClose:n,arr:c,removeDateArray:e=>{m(e),r(e)},addDateArray:e=>{const t=[...v];null===t||void 0===t||t.push(e),m(t),r((t=>[...t,e]))},allHoliday:a,setStep:o}):1===d?(0,j.jsx)(jt.Z,{onClose:n,children:(0,j.jsxs)("div",{className:ft.Z.modal_container,children:[(0,j.jsx)(st.Z,{children:(0,j.jsxs)("div",{className:ft.Z.modal_container_outer_header,children:[(0,j.jsx)("div",{className:ft.Z.modal_container_header,children:(0,j.jsx)("h6",{children:s("add_leave_reason")})}),(0,j.jsx)("img",{src:"".concat(vt.J7,"/close.svg"),alt:"close icon",onClick:()=>o(0)})]})}),(0,j.jsx)(dt.Z,{}),(0,j.jsxs)(st.Z,{customStyle:{paddingTop:"0"},children:[(0,j.jsx)(kt.Z,{label:s("reason"),placeholder:s("reason"),name:"reason",value:u,type:"text",onChange:e=>h(e.target.value)}),(0,j.jsx)(Ce.Z,{label:"create",onAction:()=>{if(t&&u){p(!0);const e=(e=>{const t=[];for(let n of e){const e=null===n||void 0===n?void 0:n.split("-"),l=e[0]>9?e[0]:"0".concat(e[0]),a=e[1]>9?e[1]:"0".concat(e[1]),i="".concat(l,"/").concat(a,"/").concat(e[2]);t.push(i)}return t})(v);x({did:t,holiday:{reason:u,dates:e}}).then((()=>{i(),p(!1),n("")})).catch((()=>{p(!1)})),r([])}}})]}),_&&(0,j.jsx)(Tt.Z,{})]})}):null})};var Dt=n(82815);const wt=e=>{var t,n,a;let{did:i}=e;const{t:s}=(0,g.$G)(),[d,o]=(0,l.useState)(""),[c,r]=(0,l.useState)(1),[v,m]=(0,l.useState)(!0),[u,h]=(0,_e.YD)(),[_,p]=(0,l.useState)([]),[x,f]=(0,l.useState)(!1),[y]=(0,tt.FL)(),[b]=(0,Dt.yS)(),{departmentAllHoliday:N,departmentAllHolidayLoading:S,departmentAllHolidayRefetch:Z}=(0,C.nt)({data:{did:i,page:c,limit:10},skip:!i});(0,l.useEffect)((()=>{h&&v&&r((e=>e+1))}),[h,v]),(0,l.useEffect)((()=>{var e;if(null!==N&&void 0!==N&&null!==(e=N.list)&&void 0!==e&&e.length){var t,n;const e=[];null===N||void 0===N||null===(t=N.list)||void 0===t||t.map((t=>{var n;return null===t||void 0===t||null===(n=t.dDate)||void 0===n?void 0:n.map((t=>{var n,l;const a=null===t||void 0===t?void 0:t.split("/"),i=a[0]>9?a[0]:"".concat(null===(n=a[0])||void 0===n?void 0:n.slice(1,2)),s=a[1]>9?a[1]:"".concat(null===(l=a[1])||void 0===l?void 0:l.slice(1,2));return e.push("".concat(i,"-").concat(s,"-").concat(a[2])),""}))})),p(e);let l=(0,at.f)(null===N||void 0===N||null===(n=N.list)||void 0===n?void 0:n.length);m((()=>l))}}),[null===N||void 0===N||null===(t=N.list)||void 0===t?void 0:t.length]);const T=()=>{o("")},M=()=>{r((e=>1)),Z()};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(it.Z,{children:[(0,j.jsx)(st.Z,{children:(0,j.jsxs)("div",{className:lt.Z.fm_header_container,children:[(0,j.jsx)("h6",{children:s("holiday_list")}),(0,j.jsxs)("div",{className:lt.Z.fm_search,children:[(0,j.jsx)("img",{src:"".concat(vt.Fk,"/calendar.svg"),alt:"calendar icon",onClick:()=>o(1)}),(0,j.jsx)(Ce.Z,{label:"add_new_holiday",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:()=>o(2)}),(0,j.jsx)(et.Z,{onExcelFileUpload:e=>{var t;if(null!==(t=e.target.files)&&void 0!==t&&t.length){f((e=>!e));const t=new FormData;t.append("file",e.target.files[0]),y({fileUpload:t}).then((e=>{var t,n;null!==(t=e.data)&&void 0!==t&&t.imageKey&&i?b({did:i,excel_file:null===(n=e.data)||void 0===n?void 0:n.imageKey}).then((()=>{f((e=>!e))})).catch({}):f((e=>!e))})).catch({})}},label:s("holiday_excel")})]})]})}),(0,j.jsx)(dt.Z,{}),(0,j.jsxs)(st.Z,{customStyle:{paddingTop:"0.2rem"},children:[null===N||void 0===N||null===(n=N.list)||void 0===n?void 0:n.map(((e,t)=>{var n;return(null===N||void 0===N||null===(n=N.list)||void 0===n?void 0:n.length)===t+1?(0,j.jsx)("div",{ref:u,children:(0,j.jsx)(gt,{holiday:e,onRefetch:M})},null===e||void 0===e?void 0:e._id):(0,j.jsx)(gt,{holiday:e,onRefetch:M},null===e||void 0===e?void 0:e._id)})),S?(0,j.jsx)(k.Z,{}):0===(null===N||void 0===N||null===(a=N.list)||void 0===a?void 0:a.length)&&(0,j.jsx)(ot.Z,{title:"No holiday created."})]})]}),1===d?(0,j.jsx)(Zt,{onClose:T,allHoliday:_}):2===d?(0,j.jsx)(Mt,{onClose:T,allHoliday:_,did:i,onRefetch:M}):null,x&&(0,j.jsx)(Tt.Z,{})]})};var At=n(70179),Ft=n(8905),It=n(19321),Et=n(64046),Pt=n(69718),qt=n(8754),Rt=n(75045),Lt=n(20292),Ot=n(95078),Ht=n(98148);const Yt=e=>{let{departmentId:t,stid:n}=e;const{t:a}=(0,g.$G)(),s=(0,i.TH)(),d=(0,i.s0)(),o=(0,i.UO)(),[c]=(0,R.lr)(),[r,v]=(0,l.useState)(!1),[m,u]=(0,l.useState)(!1),h=()=>{v((e=>!e))},_=()=>{u((e=>!e))},p=()=>{d("/q/".concat(o.username,"/member/department/").concat(o.deptname,"?a=store&n=request"),{state:s.state})};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(it.Z,{children:[(0,j.jsx)(st.Z,{children:(0,j.jsxs)("div",{className:lt.Z.fm_header_container,children:[(0,j.jsxs)("div",{className:lt.Z.fm_header_start_container,children:[(0,j.jsx)("img",{alt:"search icon",src:"".concat(vt.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:()=>{d("/q/".concat(o.username,"/member/department/").concat(o.deptname),{state:s.state})}}),(0,j.jsx)("h6",{children:a("store")})]}),(0,j.jsxs)("div",{className:lt.Z.fm_header_start_container,children:[(0,j.jsx)(Ce.Z,{label:"request_stock",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:h}),(0,j.jsx)(Ce.Z,{label:"return_stock",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:_})]})]})}),(0,j.jsx)(dt.Z,{}),(0,j.jsx)(At.Z,{inititalUrl:"/q/".concat(o.username,"/member/department/").concat(o.deptname,"?a=store"),parentState:s.state}),(0,j.jsx)(st.Z,{children:"request"===c.get("n")?(0,j.jsx)(Ft.Z,{flow:"Department",mid:t}):"issue"===c.get("n")?(0,j.jsx)(It.Z,{flow:"Department",mid:t}):"stocktake"===c.get("n")?(0,j.jsx)(Et.Z,{flow:"Department",mid:t}):"consumption"===c.get("n")?(0,j.jsx)(Pt.Z,{flow:"Department",mid:t}):"return"===c.get("n")?(0,j.jsx)(qt.Z,{flow:"Department",mid:t}):"maintenance"===c.get("n")?(0,j.jsx)(Rt.Z,{flow:"Department",mid:t}):(0,j.jsx)(Lt.Z,{flow:"Department",mid:t})})]}),r&&(0,j.jsx)(Ot.Z,{onNavigate:p,onClose:h,mid:t,stid:n,flow:"Department"}),m&&(0,j.jsx)(Ht.Z,{onNavigate:p,onClose:_,mid:t,stid:n,flow:"Department"})]})};const Gt=function(e){var t,n,a,c,r,v,m,u,h,_,p,x,g,f,b,N,S,Z,C,k,T,M,D,A,F,I,E,P,q,R,H,Y,G,U,B,$,J,V,z,Q,K,W,X,ee,te;let{onClickValue:ne,carryParentState:le}=e;const ae=(0,i.TH)(),{departmentProfile:ie,departmentProfileRefetch:se}=(0,y.t2)({did:null===ne||void 0===ne?void 0:ne._id,skip:!(null!==ne&&void 0!==ne&&ne._id)});return l.useEffect((()=>{null!==ne&&void 0!==ne&&ne._id&&se()}),[null===ne||void 0===ne?void 0:ne._id,se]),(0,j.jsxs)("div",{className:s,children:[!(null!==ae&&void 0!==ae&&ae.search)&&(0,j.jsx)(w,{departmentProfile:null===ie||void 0===ie?void 0:ie.department,carryParentState:le,instituteId:null===ie||void 0===ie||null===(t=ie.department)||void 0===t||null===(n=t.institute)||void 0===n?void 0:n._id,did:null===ne||void 0===ne?void 0:ne._id}),(null===ae||void 0===ae?void 0:ae.search)&&(0,j.jsxs)(j.Fragment,{children:["staff"===(null===ae||void 0===ae||null===(a=ae.search)||void 0===a?void 0:a.substring(3))&&(0,j.jsx)(L,{did:null===ie||void 0===ie||null===(c=ie.department)||void 0===c?void 0:c._id}),"exam"===(null===ae||void 0===ae||null===(r=ae.search)||void 0===r?void 0:r.substring(3,7))&&(0,j.jsx)(o.Z,{did:null===ie||void 0===ie||null===(v=ie.department)||void 0===v?void 0:v._id,bid:null===ie||void 0===ie||null===(m=ie.department)||void 0===m||null===(u=m.userBatch)||void 0===u?void 0:u._id,carryParentState:le,instituteId:null===ie||void 0===ie||null===(h=ie.department)||void 0===h||null===(_=h.institute)||void 0===_?void 0:_._id}),"fees"===(null===ae||void 0===ae||null===(p=ae.search)||void 0===p?void 0:p.substring(3))&&(0,j.jsx)(O.Z,{did:null===ie||void 0===ie||null===(x=ie.department)||void 0===x?void 0:x._id,bid:null===ie||void 0===ie||null===(g=ie.department)||void 0===g||null===(f=g.userBatch)||void 0===f?void 0:f._id}),"holiday"===(null===ae||void 0===ae||null===(b=ae.search)||void 0===b?void 0:b.substring(3))&&(0,j.jsx)(wt,{did:null===ne||void 0===ne?void 0:ne._id}),"complaint"===(null===ae||void 0===ae||null===(N=ae.search)||void 0===N?void 0:N.substring(3))&&(0,j.jsx)(ze,{did:null===ie||void 0===ie||null===(S=ie.department)||void 0===S?void 0:S._id}),"setting"===(null===ae||void 0===ae||null===(Z=ae.search)||void 0===Z?void 0:Z.substring(3))&&(0,j.jsx)(Qe,{did:null===ie||void 0===ie||null===(C=ie.department)||void 0===C?void 0:C._id,ea:null===ie||void 0===ie||null===(k=ie.department)||void 0===k?void 0:k.external_assesment,ia:null===ie||void 0===ie||null===(T=ie.department)||void 0===T?void 0:T.internal_assesment}),"checklist"===(null===ae||void 0===ae||null===(M=ae.search)||void 0===M?void 0:M.substring(3))&&(0,j.jsx)(ve,{did:null===ie||void 0===ie||null===(D=ie.department)||void 0===D?void 0:D._id,bid:null===ie||void 0===ie||null===(A=ie.department)||void 0===A||null===(F=A.userBatch)||void 0===F?void 0:F._id}),"backlog"===(null===ae||void 0===ae||null===(I=ae.search)||void 0===I?void 0:I.substring(3,10))&&(0,j.jsx)(d.Z,{did:null===ie||void 0===ie||null===(E=ie.department)||void 0===E?void 0:E._id,carryParentState:le,instituteId:null===ie||void 0===ie||null===(P=ie.department)||void 0===P||null===(q=P.institute)||void 0===q?void 0:q._id,viewAs:"DEPARTMENT_BACKLOG"}),"mentor"===(null===ae||void 0===ae||null===(R=ae.search)||void 0===R?void 0:R.substring(3,9))&&(0,j.jsx)(ke,{did:null===ie||void 0===ie||null===(H=ie.department)||void 0===H?void 0:H._id,instituteId:null===ie||void 0===ie||null===(Y=ie.department)||void 0===Y||null===(G=Y.institute)||void 0===G?void 0:G._id,carryParentState:le}),("class"===(null===(U=ae.search)||void 0===U?void 0:U.substring(3,8))||"subject"===(null===(B=ae.search)||void 0===B?void 0:B.substring(3,10))||"assignment"===(null===($=ae.search)||void 0===$?void 0:$.substring(3,13)))&&(0,j.jsx)(Te.Z,{carryParentState:le,viewAs:"DEPARTMENT_HEAD",did:null===ie||void 0===ie||null===(J=ie.department)||void 0===J?void 0:J._id,instituteId:null===ie||void 0===ie||null===(V=ie.department)||void 0===V||null===(z=V.institute)||void 0===z?void 0:z._id}),"co-attainment"===(null===ae||void 0===ae||null===(Q=ae.search)||void 0===Q?void 0:Q.substring(3))&&(0,j.jsx)(nt,{did:null===ie||void 0===ie||null===(K=ie.department)||void 0===K?void 0:K._id}),"store"===(null===ae||void 0===ae||null===(W=ae.search)||void 0===W?void 0:W.substring(3,8))&&(0,j.jsx)(Yt,{departmentId:null===ne||void 0===ne?void 0:ne._id,stid:null===ie||void 0===ie||null===(X=ie.department)||void 0===X||null===(ee=X.institute)||void 0===ee||null===(te=ee.storeDepart)||void 0===te?void 0:te[0]})]})]})};var Ut=n(74276);const Bt=()=>{var e,t,n,l,s,d,o,c,r;const v=(0,i.TH)();return(0,j.jsx)(j.Fragment,{children:"site"===(null===v||void 0===v||null===(e=v.search)||void 0===e?void 0:e.substring(3))?(0,j.jsx)(Ut.Z,{did:null===v||void 0===v||null===(t=v.state)||void 0===t||null===(n=t.onClickValue)||void 0===n?void 0:n._id}):(0,j.jsx)(a.Z,{index:"1",sid:null!==(l=null===v||void 0===v||null===(s=v.state)||void 0===s?void 0:s.sid)&&void 0!==l?l:"",onClickValue:null!==(d=null===v||void 0===v||null===(o=v.state)||void 0===o?void 0:o.onClickValue)&&void 0!==d?d:"",children:(0,j.jsx)(Gt,{onClickValue:null!==(c=null===v||void 0===v||null===(r=v.state)||void 0===r?void 0:r.onClickValue)&&void 0!==c?c:"",carryParentState:null===v||void 0===v?void 0:v.state})})})}},93339:(e,t,n)=>{n.d(t,{nt:()=>j,jx:()=>g,gJ:()=>f,EI:()=>x,jU:()=>p});var l=n(2030),a=n(94811);const i=e=>e.query({query:e=>{var t;return"/department/tab/manage/".concat(null===e||void 0===e?void 0:e.did,"/query?flow=").concat(null!==(t=null===e||void 0===e?void 0:e.flow)&&void 0!==t?t:"")},providesTags:["Tab_Manage"],serializeQueryArgs:e=>{let{endpointName:t}=e;return t},forceRefetch(e){let{currentArg:t,previousArg:n}=e;return t!==n}}),s=e=>e.mutation({query:e=>({url:"/department/tab/manage/".concat(null===e||void 0===e?void 0:e.did,"/query"),method:a.Q0,body:e.tabManage}),invalidatesTags:["Tab_Manage"]}),d=e=>e.mutation({query:e=>({url:"/attendance/department/".concat(e.did,"/holiday"),method:a.a4,body:e.holiday})}),o=e=>e.query({query:e=>"/attendance/holiday/".concat(null===e||void 0===e?void 0:e.did,"?page=").concat(null===e||void 0===e?void 0:e.page,"&limit=").concat(null===e||void 0===e?void 0:e.limit),serializeQueryArgs:e=>{let{endpointName:t}=e;return t},transformResponse:(e,t,n)=>{var l,a;return null!==n&&void 0!==n&&n.search?{search:!0,list:null===e||void 0===e||null===(l=e.depart)||void 0===l?void 0:l.holiday}:{page:null===n||void 0===n?void 0:n.page,list:null===e||void 0===e||null===(a=e.depart)||void 0===a?void 0:a.holiday}},merge:(e,t)=>{var n;return null!==t&&void 0!==t&&t.search||1===(null===t||void 0===t?void 0:t.page)?t:void(null===e||void 0===e||null===(n=e.list)||void 0===n||n.push(...null===t||void 0===t?void 0:t.list))},forceRefetch(e){let{currentArg:t,previousArg:n}=e;return t!==n}}),c=e=>e.mutation({query:e=>({url:"/attendance/holiday/".concat(e.hid,"/delete"),method:a.yY})}),r=l.z.injectEndpoints({endpoints:e=>({departmentTabManage:i(e),departmentTabController:s(e),departmentCreatedHoliday:d(e),departmentAllHoliday:o(e),departmentDeleteHoliday:c(e)})}),{useDepartmentTabManageQuery:v,useDepartmentTabControllerMutation:m,useDepartmentCreatedHolidayMutation:u,useDepartmentAllHolidayQuery:h,useDepartmentDeleteHolidayMutation:_}=r,p=e=>{const{data:t,refetch:n,isFetching:l}=v(e.data,{skip:e.skip});return{departmentTabManage:t,departmentTabManageRefetch:n,departmentTabManageLoading:l}},x=()=>{const[e]=m();return[e]},g=()=>{const[e]=u();return[e]},j=e=>{const{data:t,refetch:n,isFetching:l}=h(e.data,{skip:e.skip});return{departmentAllHoliday:t,departmentAllHolidayRefetch:n,departmentAllHolidayLoading:l}},f=()=>{const[e]=_();return[e]}},11468:(e,t,n)=>{n.d(t,{Z:()=>d});var l=n(39230),a=n(52245),i=n(80184);const s=e=>{var t;return e?null===e||void 0===e||null===(t=e.split("\n"))||void 0===t?void 0:t.length:2},d=e=>{let{label:t,name:n,type:d,value:o,onChange:c,placeholder:r,errorShow:v,disabled:m,customFormInputContainer:u,customFormInputLabel:h}=e;const{t:_}=(0,l.$G)();return(0,i.jsxs)("div",{className:a.Z.form_input_container,style:u,children:[t&&(0,i.jsxs)("label",{className:a.Z.form_input_label,htmlFor:n,style:h,children:[t,v&&(0,i.jsxs)("span",{className:a.Z.form_input_label_error,children:["* ",_("form_require_label")]})]}),(0,i.jsx)("textarea",{className:a.Z.form_textarea_input,type:d,value:o,onChange:c,name:n,placeholder:r,rows:s(o),disabled:m,style:{"--textarea-height":"".concat(20*s(o),"px")}})]})}},89064:(e,t,n)=>{n.d(t,{Z:()=>o});var l=n(55336),a=n(48293);const i="Modal_modal_menu_card__d0zzt";var s=n(90904),d=n(80184);const o=e=>{let{onClose:t,disabled:n,heading:o,customStyle:c,children:r}=e;return(0,d.jsx)(a.Z,{onClose:()=>{if(n)return null;t()},children:(0,d.jsxs)("div",{className:i,style:c,children:[o?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h5",{children:o}),(0,d.jsx)(s.Z,{})]}):null,r,n&&(0,d.jsx)(l.Z,{})]})})}},46457:(e,t,n)=>{n.d(t,{Z:()=>l});const l={studentMCQ:"Tabs_studentMCQ__dlnOy",mcqToptabs:"Tabs_mcqToptabs__onXx+",mcqTop:"Tabs_mcqTop__1Ylct",mcqTopItem:"Tabs_mcqTopItem__Lk7a7",active:"Tabs_active__aI8pI"}},11006:(e,t,n)=>{n.d(t,{Z:()=>l});const l={studentMCQ:"Tabs_studentMCQ__lxivk",mcqToptabs:"Tabs_mcqToptabs__1WXDd",mcqTop:"Tabs_mcqTop__mmZ6T",mcqTopItem:"Tabs_mcqTopItem__7P7cJ",active:"Tabs_active__OMnFH"}}}]);
//# sourceMappingURL=7389.2d50f147.chunk.js.map