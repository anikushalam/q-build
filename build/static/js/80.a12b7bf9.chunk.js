"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[80],{60080:function(t,e,n){n.d(e,{Z:function(){return A}});var i=n(93433),l=n(29439),s=n(72791),o=n(39230),a=n(23441),d=n(87338),u=n(763),c=n(11105),_=n(1413),r=n(69721),v=n(15214),h=n(55271),m=n(61756),f=n(16871),x=n(43504),p=n(22492),Z=n(80184),j=function(t){var e,n,i,l,s,o,a,d,u,c,j,g,I,N,b,H,S,w,y,A,E,T,C,U,L,k,D,O,P=t.hostelUnit,R=t.carryParentState,F=t.viewAs,M=t.callApi,q=t.pageOpenAs,B=(0,f.UO)();return(0,Z.jsx)(Z.Fragment,{children:"STUDENT"===F?(0,Z.jsx)(m.Z,{carryParentState:(0,_.Z)((0,_.Z)({},R),{},{huid:null===P||void 0===P?void 0:P._id}),activeTab:"unit&n=menu&n=room",children:(0,Z.jsxs)("div",{className:v.Z.hostel_warden_card,children:[(0,Z.jsx)("img",{src:null!==P&&void 0!==P&&P.hostel_unit_photo?"".concat(r.yI,"/").concat(null===P||void 0===P?void 0:P.hostel_unit_photo):"/images/member_tab/class/default_avatar.svg",alt:""}),(0,Z.jsxs)("div",{className:v.Z.warden_card_text,children:[(0,Z.jsx)("h6",{children:null!==(e=null===P||void 0===P?void 0:P.hostel_unit_name)&&void 0!==e?e:""}),(0,Z.jsx)("p",{children:"".concat(null!==(n=null===P||void 0===P||null===(i=P.hostel_unit_head)||void 0===i?void 0:i.staffFirstName)&&void 0!==n?n:""," ").concat(null!==(l=null===P||void 0===P||null===(s=P.hostel_unit_head)||void 0===s?void 0:s.staffMiddleName)&&void 0!==l?l:""," ").concat(null!==(o=null===P||void 0===P||null===(a=P.hostel_unit_head)||void 0===a?void 0:a.staffLastName)&&void 0!==o?o:"")})]})]})}):"HOSTEL_SEARCH"===F?(0,Z.jsx)(x.rU,{to:"/q/".concat(B.username,"/hostel/profile?a=unit&n=menu&n=room"),state:(0,_.Z)((0,_.Z)({},R),{},{huid:null===P||void 0===P?void 0:P._id}),children:(0,Z.jsxs)("div",{className:v.Z.hostel_warden_card,children:[(0,Z.jsx)("img",{src:null!==P&&void 0!==P&&P.hostel_unit_photo?"".concat(r.yI,"/").concat(null===P||void 0===P?void 0:P.hostel_unit_photo):"/images/member_tab/class/default_avatar.svg",alt:""}),(0,Z.jsxs)("div",{className:v.Z.warden_card_text,children:[(0,Z.jsx)("h6",{children:null!==(d=null===P||void 0===P?void 0:P.hostel_unit_name)&&void 0!==d?d:""}),(0,Z.jsx)("p",{children:"".concat(null!==(u=null===P||void 0===P||null===(c=P.hostel_unit_head)||void 0===c?void 0:c.staffFirstName)&&void 0!==u?u:""," ").concat(null!==(j=null===P||void 0===P||null===(g=P.hostel_unit_head)||void 0===g?void 0:g.staffMiddleName)&&void 0!==j?j:""," ").concat(null!==(I=null===P||void 0===P||null===(N=P.hostel_unit_head)||void 0===N?void 0:N.staffLastName)&&void 0!==I?I:"")})]})]})}):"INSTITUTE"===q?(0,Z.jsx)(p.Z,{carryParentState:(0,_.Z)((0,_.Z)({},R),{},{huid:null===P||void 0===P?void 0:P._id,unitName:null===P||void 0===P?void 0:P.hostel_unit_name}),activeTab:"RENEWAL"===F?"request&renewal&application":"unit&n=info",children:(0,Z.jsxs)("div",{className:v.Z.hostel_warden_card,children:[(0,Z.jsx)("img",{src:null!==P&&void 0!==P&&P.hostel_unit_photo?"".concat(r.yI,"/").concat(null===P||void 0===P?void 0:P.hostel_unit_photo):"/images/member_tab/class/default_avatar.svg",alt:""}),(0,Z.jsxs)("div",{className:v.Z.warden_card_text,children:[(0,Z.jsx)("h6",{children:null!==(b=null===P||void 0===P?void 0:P.hostel_unit_name)&&void 0!==b?b:""}),(0,Z.jsx)("p",{children:"".concat(null!==(H=null===P||void 0===P||null===(S=P.hostel_unit_head)||void 0===S?void 0:S.staffFirstName)&&void 0!==H?H:""," ").concat(null!==(w=null===P||void 0===P||null===(y=P.hostel_unit_head)||void 0===y?void 0:y.staffMiddleName)&&void 0!==w?w:""," ").concat(null!==(A=null===P||void 0===P||null===(E=P.hostel_unit_head)||void 0===E?void 0:E.staffLastName)&&void 0!==A?A:"")})]})]})}):(0,Z.jsx)(h.Z,{carryParentState:(0,_.Z)((0,_.Z)({},R),{},{huid:null===P||void 0===P?void 0:P._id,unitName:null===P||void 0===P?void 0:P.hostel_unit_name}),activeTab:"RENEWAL"===F?"request&renewal&application":"unit&n=info",callApi:M,children:(0,Z.jsxs)("div",{className:v.Z.hostel_warden_card,children:[(0,Z.jsx)("img",{src:null!==P&&void 0!==P&&P.hostel_unit_photo?"".concat(r.yI,"/").concat(null===P||void 0===P?void 0:P.hostel_unit_photo):"/images/member_tab/class/default_avatar.svg",alt:""}),(0,Z.jsxs)("div",{className:v.Z.warden_card_text,children:[(0,Z.jsx)("h6",{children:null!==(T=null===P||void 0===P?void 0:P.hostel_unit_name)&&void 0!==T?T:""}),(0,Z.jsx)("p",{children:"".concat(null!==(C=null===P||void 0===P||null===(U=P.hostel_unit_head)||void 0===U?void 0:U.staffFirstName)&&void 0!==C?C:""," ").concat(null!==(L=null===P||void 0===P||null===(k=P.hostel_unit_head)||void 0===k?void 0:k.staffMiddleName)&&void 0!==L?L:""," ").concat(null!==(D=null===P||void 0===P||null===(O=P.hostel_unit_head)||void 0===O?void 0:O.staffLastName)&&void 0!==D?D:"")})]})]})})})},g=n(10406),I=n(98094),N=n(46876),b=n(97655),H=n(98734),S=n(36665),w=n(87457),y=function(t){var e,n,i,a=t.onClose,u=t.openAs,c=t.openUnitMenu,v=t.hid,h=t.onEdit,m=t.instituteId,f=t.onRefetch,x=(0,o.$G)().t,p=(0,s.useState)({hostel_unit_name:"EDIT"===u?null===c||void 0===c?void 0:c.hostel_unit_name:"",sid:"EDIT"===u?null===c||void 0===c?void 0:c.sid:""}),j=(0,l.Z)(p,2),g=j[0],I=j[1],y=(0,s.useState)(!1),A=(0,l.Z)(y,2),E=A[0],T=A[1],C=(0,s.useState)(""),U=(0,l.Z)(C,2),L=U[0],k=U[1],D=(0,s.useState)(""),O=(0,l.Z)(D,2),P=O[0],R=O[1],F=(0,s.useState)(!1),M=(0,l.Z)(F,2),q=M[0],B=M[1],W=(0,d.fe)(),G=(0,l.Z)(W,1)[0];(0,s.useEffect)((function(){"EDIT"===u&&I({hostel_unit_name:null===c||void 0===c?void 0:c.hostel_unit_name,sid:null===c||void 0===c?void 0:c.sid})}),[u]);return(0,Z.jsxs)(S.Z,{onClose:a,children:[(0,Z.jsxs)("div",{className:w.Z.add_category_modal,children:[(0,Z.jsxs)("div",{className:w.Z.add_category_modal_title,children:[(0,Z.jsx)("h6",{children:x("EDIT"===u?"edit_fee_head":"add_new_unit")}),(0,Z.jsx)("img",{src:"/images/close-post-icon.svg",onClick:a,alt:""})]}),(0,Z.jsx)(b.Z,{labelText:x("hoste_unit_name"),placeholder:x("hoste_unit_name_placeholder"),name:"hostel_unit_name",value:null===g||void 0===g?void 0:g.hostel_unit_name,type:"text",onChange:function(t){return I((function(e){return(0,_.Z)((0,_.Z)({},e),{},{hostel_unit_name:t.target.value})}))},errorShow:P.hostel_unit_name}),(0,Z.jsxs)("div",{className:w.Z.leading_person_container,onClick:function(){return T(!0)},children:[(0,Z.jsx)("img",{src:null!==L&&void 0!==L&&L.staffProfilePhoto?"".concat(r.yI,"/").concat(L.staffProfilePhoto):"/images/user-icon.svg",alt:"avatar"}),(0,Z.jsxs)("div",{className:w.Z.leading_person_text,children:[(0,Z.jsx)("h6",{children:L?"".concat(null!==(e=null===L||void 0===L?void 0:L.staffFirstName)&&void 0!==e?e:""," \n                  ").concat(null!==(n=null===L||void 0===L?void 0:L.staffMiddleName)&&void 0!==n?n:"","\n                  ").concat(null!==(i=null===L||void 0===L?void 0:L.staffLastName)&&void 0!==i?i:""," "):x("secect_hostel_unit_head")}),(0,Z.jsxs)("p",{children:[x("search_joined_list")," ",P.sid&&(0,Z.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",x("form_require_label")]})]})]})]}),(0,Z.jsx)("button",{className:w.Z.set_fees_structure_btn,title:"Add Hostel Unit",onClick:function(){var t=function(t){var e={};for(var n in t)t[n]||(e[n]="".concat(n," is required!"));return e}(g),e=!1;for(var n in t)if(n){e=!0;break}e?R(t):"EDIT"===u?h(g):(B((function(t){return!t})),G({hid:v,addHostel:g}).then((function(){f(),a(),B((function(t){return!t}))})).catch({}))},style:{justifyContent:"center"},children:x("EDIT"===u?"update":"create")}),q&&(0,Z.jsx)(H.Z,{})]}),E&&(0,Z.jsx)(N.default,{assignHead:E,headSelect:function(t){k(t),I((function(e){return(0,_.Z)((0,_.Z)({},e),{},{sid:null===t||void 0===t?void 0:t._id})})),T((function(t){return!t}))},title:x("secect_hostel_unit_head"),onClose:function(){return T((function(t){return!t}))},viewAs:"ADMISSION_ADMIN",instituteId:m})]})},A=function(t){var e=t.hid,n=t.instituteId,_=t.carryParentState,r=t.viewAs,v=t.callApi,h=t.pageOpenAs,m=(0,o.$G)().t,f=(0,s.useState)(!1),x=(0,l.Z)(f,2),p=x[0],N=x[1],b=(0,a.YD)(),H=(0,l.Z)(b,2),S=H[0],w=H[1],A=(0,s.useState)(1),E=(0,l.Z)(A,2),T=E[0],C=E[1],U=(0,s.useState)(!0),L=(0,l.Z)(U,2),k=L[0],D=L[1],O=(0,s.useState)(!0),P=(0,l.Z)(O,2),R=P[0],F=P[1],M=(0,s.useState)([]),q=(0,l.Z)(M,2),B=q[0],W=q[1],G=(0,s.useState)(""),J=(0,l.Z)(G,2),Y=J[0],Q=J[1],X=(0,s.useState)(!1),$=(0,l.Z)(X,2),K=$[0],z=$[1],V=(0,d.RO)({data:{hid:e,page:T,limit:10,search:Y},skip:!e}),tt=V.getHostelUnitList,et=V.getHostelUnitListRefetch;(0,s.useEffect)((function(){e&&(F(!0),et())}),[e,T,Y,et]),(0,s.useEffect)((function(){w&&k&&C((function(t){return t+1}))}),[w,k]),(0,s.useEffect)((function(){var t,e;K?(W(null===tt||void 0===tt?void 0:tt.all_units),F(!1),z(!1)):Y?(W(null===tt||void 0===tt?void 0:tt.all_units),F(!1)):null!==tt&&void 0!==tt&&tt.all_units?(W((function(t){var e,n;return null===(e=(0,i.Z)(new Set(null===(n=[].concat((0,i.Z)(t),(0,i.Z)(null===tt||void 0===tt?void 0:tt.all_units)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===e?void 0:e.map(JSON.parse)})),F(!1)):0===(null===tt||void 0===tt||null===(e=tt.all_units)||void 0===e?void 0:e.length)&&F(!1);10===(null===tt||void 0===tt||null===(t=tt.all_units)||void 0===t?void 0:t.length)?D(!0):D(!1)}),[null===tt||void 0===tt?void 0:tt.all_units]);var nt=(0,s.useCallback)((0,u.debounce)((function(t){return Q(t)}),500),[]),it=function(){N((function(t){return!t}))};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:g.Z.with_search,children:[(0,Z.jsx)("h6",{children:m("hostel_units")}),(0,Z.jsx)("section",{className:g.Z.search_container,children:(0,Z.jsxs)("div",{className:g.Z.search_container_input,children:[(0,Z.jsx)("img",{className:g.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,Z.jsx)("input",{type:"text",placeholder:"Search hostel units...",onChange:function(t){nt(t.target.value)}})]})})]}),(0,Z.jsx)(I.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),"STUDENT"===r||"HOSTEL_SEARCH"===r||"RENEWAL"===r?"":(0,Z.jsx)("p",{className:g.Z.add_new_category,onClick:it,children:m("create_new_unit")}),null===B||void 0===B?void 0:B.map((function(t,e){return(null===B||void 0===B?void 0:B.length)===e+1?(0,Z.jsx)("div",{ref:S,children:(0,Z.jsx)(j,{hostelUnit:t,carryParentState:_,viewAs:r,callApi:v,pageOpenAs:h})},null===t||void 0===t?void 0:t._id):(0,Z.jsx)(j,{hostelUnit:t,carryParentState:_,viewAs:r,callApi:v,pageOpenAs:h},null===t||void 0===t?void 0:t._id)})),R&&(0,Z.jsx)(c.Z,{}),p&&(0,Z.jsx)(y,{onClose:it,hid:e,instituteId:n,onRefetch:function(){C(1),z(!0),F(!0),et()}})]})}},15214:function(t,e){e.Z={navbarr:"InstituteHostel_navbarr__wZjxN",mainbody:"InstituteHostel_mainbody__bd1xS",sidebar:"InstituteHostel_sidebar__4a950",rightbody:"InstituteHostel_rightbody__uUUef",admission_tab_tabs:"InstituteHostel_admission_tab_tabs__Uu9aY",item:"InstituteHostel_item__9ZoQd",itemIcon:"InstituteHostel_itemIcon__NShBD",funds2:"InstituteHostel_funds2__BHTCi",fundscontent:"InstituteHostel_fundscontent__HeoyA",sidebarbottomitem:"InstituteHostel_sidebarbottomitem__+Xvnw",namee:"InstituteHostel_namee__Y5L8H",desig:"InstituteHostel_desig__gHfIt",balanceItem:"InstituteHostel_balanceItem__W2AJ1",fundbtn:"InstituteHostel_fundbtn__h4c6p",institute_hostel_container:"InstituteHostel_institute_hostel_container__QKng2",institute_hostel_container_border:"InstituteHostel_institute_hostel_container_border__XBL5F",institute_hostel_title:"InstituteHostel_institute_hostel_title__U31Id",hostel_warden_card:"InstituteHostel_hostel_warden_card__vs093",warden_card_text:"InstituteHostel_warden_card_text__kFeau",with_search:"InstituteHostel_with_search__shUwR",search_container:"InstituteHostel_search_container__s6aFf",search_container_input:"InstituteHostel_search_container_input__Z7rCU",searchIcon:"InstituteHostel_searchIcon__eabuR",student_cerfificate_container:"InstituteHostel_student_cerfificate_container__HGcvy",student_issued_btn:"InstituteHostel_student_issued_btn__hrgB6"}}}]);
//# sourceMappingURL=80.a12b7bf9.chunk.js.map