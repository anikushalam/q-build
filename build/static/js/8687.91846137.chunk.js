"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[8687],{88687:function(n,l,i){i.r(l),i.d(l,{default:function(){return k}});var e=i(29439),o=i(72791),d=i(32804),t=i(39230),u=i(4195),a=i(80184),v=function(n){var l=n.value,i=n.onTabHandler,e=n.padiFees,o=n.remainingFees,v=n.applicableRemainingFees,s=n.scholarshipFees,r=(0,t.$G)().t;return(0,a.jsxs)("div",{className:d.Z.student_fees_header_container,children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:d.Z.student_fees_row_amount,children:[(0,a.jsxs)("h5",{children:[r("rs"),". ",null!==e&&void 0!==e?e:0]}),(0,a.jsx)("h6",{children:r("total_fees_paid")})]}),(0,a.jsxs)("div",{className:d.Z.student_fees_row_amount,style:{marginTop:"1rem"},children:[(0,a.jsxs)("h5",{children:[r("rs"),". ",null!==s&&void 0!==s?s:0]}),(0,a.jsx)("h6",{children:r("by_scholarship")})]})]}),(0,a.jsxs)("div",{className:d.Z.student_fees_header_column,children:[(0,a.jsx)(u.Z,{label:"admission_fees",currentValue:0,value:l,onClick:i,customStyleContainer:{marginRight:"2rem"}}),(0,a.jsx)(u.Z,{label:"department_fees",currentValue:1,value:l,onClick:i})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:d.Z.student_fees_row_amount,style:{alignItems:"flex-end"},children:[(0,a.jsxs)("h5",{style:{color:"#121212"},children:[r("rs"),". ",null!==o&&void 0!==o?o:0]}),(0,a.jsx)("h6",{children:r("remaining_fees")})]}),(0,a.jsxs)("div",{className:d.Z.student_fees_row_amount,style:{alignItems:"flex-end",marginTop:"1rem"},children:[(0,a.jsxs)("h5",{style:{color:"#121212"},children:[r("rs"),". ",null!==v&&void 0!==v?v:0]}),(0,a.jsx)("h6",{children:r("applicable_remaining")}),(0,a.jsx)("div",{children:r("to_be_paid_by_student")})]})]})]})},s=i(91007),r=i(80214),c=i(29017),_=i(87932),m=i(28497),f=i(51376),p=i(75615),h=i(71439),y=i(64499),g=i(16871),k=function(n){var l,i,t,u,k,b,x,Z,j,F,I,C,w,A,S=n.viewAs,N=n.sid,T=n.isFeesEditable,L=(0,g.UO)(),E=(0,o.useState)(0),R=(0,e.Z)(E,2),D=R[0],P=R[1],B=(0,o.useState)(!1),M=(0,e.Z)(B,2),z=M[0],K=M[1],H=(0,o.useState)({amount:0,feesId:"",insId:"",type:"",bookId:""}),O=(0,e.Z)(H,2),Y=O[0],J=O[1],V=(0,o.useState)(!0),$=(0,e.Z)(V,2),q=$[0],G=$[1],Q=(0,s.$J)("".concat(N),{skip:!N}),U=Q.data,W=Q.refetch,X=(0,r.Rg)().data,nn=(0,r.gt)(),ln=(0,e.Z)(nn,1)[0],en=(0,c.Y$)({sid:N,skip:!N}),on=en.sudentAdmissionFeesList,dn=en.sudentAdmissionFeesListRefetch,tn=(0,_.Vc)({id:null===U||void 0===U||null===(l=U.student)||void 0===l||null===(i=l.institute)||void 0===i?void 0:i._id,skip:!(null!==U&&void 0!==U&&null!==(t=U.student)&&void 0!==t&&null!==(u=t.institute)&&void 0!==u&&u._id)}),un=tn.merchantId,an=tn.merchantIdRefetch;(0,o.useEffect)((function(){N&&(W(),dn(),G(!0))}),[N,dn,W]),(0,o.useEffect)((function(){var n,l;null!==U&&void 0!==U&&null!==(n=U.student)&&void 0!==n&&null!==(l=n.institute)&&void 0!==l&&l._id&&an()}),[null===U||void 0===U||null===(k=U.student)||void 0===k||null===(b=k.institute)||void 0===b?void 0:b._id,an]),(0,o.useEffect)((function(){var n;(null!==on&&void 0!==on&&on.array||0===(null===on||void 0===on||null===(n=on.array)||void 0===n?void 0:n.length))&&G(!1)}),[null===on||void 0===on?void 0:on.array]),(0,o.useEffect)((function(){var n;(null!==U&&void 0!==U&&U.mergePay||0===(null===U||void 0===U||null===(n=U.mergePay)||void 0===n?void 0:n.length))&&G(!1)}),[null===U||void 0===U?void 0:U.mergePay]);var vn=function(n,l,i){return n+l+i};return(0,a.jsxs)("div",{className:d.Z.student_alll_fees_data,children:[(0,a.jsx)(v,{onTabHandler:function(n){P(n)},value:D,padiFees:vn((null===U||void 0===U||null===(x=U.student)||void 0===x?void 0:x.studentPaidFeeCount)||0,(null===U||void 0===U||null===(Z=U.student)||void 0===Z?void 0:Z.admissionPaidFeeCount)||0,(null===U||void 0===U||null===(j=U.student)||void 0===j?void 0:j.hostelPaidFeeCount)||0),remainingFees:vn((null===U||void 0===U||null===(F=U.student)||void 0===F?void 0:F.studentRemainingFeeCount)||0,(null===U||void 0===U||null===(I=U.student)||void 0===I?void 0:I.admissionRemainFeeCount)||0,(null===U||void 0===U||null===(C=U.student)||void 0===C?void 0:C.hostelRemainFeeCount)||0),applicableRemainingFees:null===U||void 0===U||null===(w=U.student)||void 0===w?void 0:w.applicable_fees_pending,scholarshipFees:null!==(A=null===U||void 0===U?void 0:U.paid_by_government)&&void 0!==A?A:0}),0===D&&(0,a.jsx)(f.Z,{viewAs:S,sudentAdmissionFeesList:on,sudentAdmissionFeesListRefetch:dn,feesQueryRefetch:W,showingDataLoading:q,isFeesEditable:T}),1===D&&(0,a.jsx)(p.Z,{setAllContent:J,setCharges:K,showingDataLoading:q,sid:N,viewAs:S}),z&&(0,a.jsx)(h.Z,{onClose:function(){return K(!1)},allContent:Y,checkoutHandler:function(n){var l,i,e,o=2.1*+(null===Y||void 0===Y?void 0:Y.amount)/100,d=o+18*+o/100,t=parseInt(null===Y||void 0===Y?void 0:Y.amount),u={amount:Math.ceil(t+ +d.toFixed(2))};"PAYTM"===n?(0,y.Ex)({amount:+(null===Y||void 0===Y?void 0:Y.amount),amount_nocharges:+u.amount,type:"Fees",paidBy:"".concat(null===U||void 0===U||null===(l=U.student)||void 0===l?void 0:l._id),paidTo:"".concat(null===U||void 0===U||null===(i=U.student)||void 0===i||null===(e=i.institute)||void 0===e?void 0:e._id),moduleId:"".concat(null===Y||void 0===Y?void 0:Y.feesId),ad_status_id:null,payment_installment:null,ad_install:null,month:null,payment_remain_1:null,payment_card_type:null,payment_book_id:null,name:L.username,isApk:"web",payment_card_id:null}).then((function(n){var l,i;window.onScriptLoad(null===n||void 0===n||null===(l=n.response)||void 0===l||null===(i=l.body)||void 0===i?void 0:i.txnToken,null===n||void 0===n?void 0:n.order,null===n||void 0===n?void 0:n.amount)})).catch((function(n){console.info(n)})):null!==X&&void 0!==X&&X.Key&&null!==u&&void 0!==u&&u.amount?ln({amount:null===u||void 0===u?void 0:u.amount}).then((function(n){var l,i,e,o,d,t;null!==(l=n.data)&&void 0!==l&&l.success&&(0,m.r)({key:null===X||void 0===X?void 0:X.Key,oid:null===(i=n.data)||void 0===i?void 0:i.order.id,amount_nocharge:100*(null===Y||void 0===Y?void 0:Y.amount),amount:null===(e=n.data)||void 0===e?void 0:e.order.amount,type:"Fees",pay_by:"".concat(null===U||void 0===U||null===(o=U.student)||void 0===o?void 0:o._id),pay_to:"".concat(null===U||void 0===U||null===(d=U.student)||void 0===d||null===(t=d.institute)||void 0===t?void 0:t._id),mid:"".concat(null===Y||void 0===Y?void 0:Y.feesId),razor_key:null===un||void 0===un?void 0:un.key,razor_author:null===un||void 0===un?void 0:un.bool,status:null,installment_type:null,is_install:null,h_month:null})})).catch((function(n){})):console.log("error")},checkoutBacklogHandler:function(n){var l,i,e,o=2.1*+(null===Y||void 0===Y?void 0:Y.amount)/100,d=o+18*+o/100,t=parseInt(null===Y||void 0===Y?void 0:Y.amount),u={amount:Math.ceil(t+ +d.toFixed(2))};"PAYTM"===n?(0,y.Ex)({amount:+(null===Y||void 0===Y?void 0:Y.amount),amount_nocharges:+u.amount,type:"Backlog",paidBy:"".concat(null===U||void 0===U||null===(l=U.student)||void 0===l?void 0:l._id),paidTo:"".concat(null===U||void 0===U||null===(i=U.student)||void 0===i||null===(e=i.institute)||void 0===e?void 0:e._id),moduleId:"".concat(null===Y||void 0===Y?void 0:Y.feesId),ad_status_id:null,payment_installment:null,ad_install:null,month:null,payment_remain_1:null,payment_card_type:null,payment_book_id:null,name:L.username,isApk:"web",payment_card_id:null}).then((function(n){var l,i;window.onScriptLoad(null===n||void 0===n||null===(l=n.response)||void 0===l||null===(i=l.body)||void 0===i?void 0:i.txnToken,null===n||void 0===n?void 0:n.order,null===n||void 0===n?void 0:n.amount)})).catch((function(n){console.info(n)})):null!==X&&void 0!==X&&X.Key&&null!==u&&void 0!==u&&u.amount?ln({amount:null===u||void 0===u?void 0:u.amount}).then((function(n){var l,i,e,o,d,t;null!==(l=n.data)&&void 0!==l&&l.success&&(0,m.r)({key:null===X||void 0===X?void 0:X.Key,oid:null===(i=n.data)||void 0===i?void 0:i.order.id,amount_nocharge:100*(null===Y||void 0===Y?void 0:Y.amount),amount:null===(e=n.data)||void 0===e?void 0:e.order.amount,type:"Backlog",pay_by:"".concat(null===U||void 0===U||null===(o=U.student)||void 0===o?void 0:o._id),pay_to:"".concat(null===U||void 0===U||null===(d=U.student)||void 0===d||null===(t=d.institute)||void 0===t?void 0:t._id),mid:"".concat(null===Y||void 0===Y?void 0:Y.feesId),razor_key:null===un||void 0===un?void 0:un.key,razor_author:null===un||void 0===un?void 0:un.bool,status:null,installment_type:null,is_install:null,h_month:null})})).catch((function(n){})):console.log("error")},checkoutLibraryHandler:function(n){var l,i,e,o=2.1*+(null===Y||void 0===Y?void 0:Y.amount)/100,d=o+18*+o/100,t=parseInt(null===Y||void 0===Y?void 0:Y.amount),u={amount:Math.ceil(t+ +d.toFixed(2))};"PAYTM"===n?(0,y.Ex)({amount:+(null===Y||void 0===Y?void 0:Y.amount),amount_nocharges:+u.amount,type:"Library Fees",paidBy:"".concat(null===U||void 0===U||null===(l=U.student)||void 0===l?void 0:l._id),paidTo:"".concat(null===U||void 0===U||null===(i=U.student)||void 0===i||null===(e=i.institute)||void 0===e?void 0:e._id),moduleId:"".concat(null===Y||void 0===Y?void 0:Y.feesId),ad_status_id:null,payment_installment:null,ad_install:null,month:null,payment_remain_1:null,payment_card_type:null,payment_book_id:null===Y||void 0===Y?void 0:Y.bookId,name:L.username,isApk:"web",payment_card_id:null}).then((function(n){var l,i;window.onScriptLoad(null===n||void 0===n||null===(l=n.response)||void 0===l||null===(i=l.body)||void 0===i?void 0:i.txnToken,null===n||void 0===n?void 0:n.order,null===n||void 0===n?void 0:n.amount)})).catch((function(n){console.info(n)})):null!==X&&void 0!==X&&X.Key&&null!==u&&void 0!==u&&u.amount?ln({amount:null===u||void 0===u?void 0:u.amount}).then((function(n){var l,i,e,o,d,t;null!==(l=n.data)&&void 0!==l&&l.success&&(0,m.r)({key:null===X||void 0===X?void 0:X.Key,oid:null===(i=n.data)||void 0===i?void 0:i.order.id,amount_nocharge:100*(null===Y||void 0===Y?void 0:Y.amount),amount:null===(e=n.data)||void 0===e?void 0:e.order.amount,type:"Library Fees",pay_by:"".concat(null===U||void 0===U||null===(o=U.student)||void 0===o?void 0:o._id),pay_to:"".concat(null===U||void 0===U||null===(d=U.student)||void 0===d||null===(t=d.institute)||void 0===t?void 0:t._id),mid:"".concat(null===Y||void 0===Y?void 0:Y.feesId),razor_key:null===un||void 0===un?void 0:un.key,razor_author:null===un||void 0===un?void 0:un.bool,status:null,installment_type:null,is_install:null,h_month:null,book_id:null===Y||void 0===Y?void 0:Y.bookId})})).catch((function(n){})):console.log("error")}})]})}},75615:function(n,l,i){var e=i(93433),o=i(29439),d=i(72791),t=i(59227),u=i(32804),a=i(11105),v=i(34219),s=i(23441),r=i(29017),c=i(80184);l.Z=function(n){var l=n.setAllContent,i=n.setCharges,_=n.sid,m=n.viewAs,f=(0,d.useState)(!0),p=(0,o.Z)(f,2),h=p[0],y=p[1],g=(0,d.useState)(1),k=(0,o.Z)(g,2),b=k[0],x=k[1],Z=(0,s.YD)(),j=(0,o.Z)(Z,2),F=j[0],I=j[1],C=(0,d.useState)([]),w=(0,o.Z)(C,2),A=w[0],S=w[1],N=(0,d.useState)(!1),T=(0,o.Z)(N,2),L=T[0],E=T[1],R=(0,d.useState)(!0),D=(0,o.Z)(R,2),P=D[0],B=D[1],M=(0,r.d9)({data:{sid:_,page:b,limit:10},skip:!_}),z=M.studentDepartmentFees,K=M.studentDepartmentFeesRefetch;return(0,d.useEffect)((function(){I&&h&&x((function(n){return n+1}))}),[I,h]),(0,d.useEffect)((function(){_&&(K(),B(!0))}),[b,_,K]),(0,d.useEffect)((function(){var n,l;L?(S(null===z||void 0===z?void 0:z.all_internal),E(!1),B(!1)):null!==z&&void 0!==z&&z.all_internal?(S((function(n){return(0,e.Z)(new Set([].concat((0,e.Z)(n),(0,e.Z)(null===z||void 0===z?void 0:z.all_internal)).map(JSON.stringify))).map(JSON.parse)})),B(!1)):0===(null===z||void 0===z||null===(l=z.all_internal)||void 0===l?void 0:l.length)&&B(!1);10===(null===z||void 0===z||null===(n=z.all_internal)||void 0===n?void 0:n.length)?y(!0):y(!1)}),[null===z||void 0===z?void 0:z.all_internal]),(0,c.jsxs)("div",{className:u.Z.student_admission_fees_container,children:[null===A||void 0===A?void 0:A.map((function(n,e){var o,d,a,v,s,r,f,p,h,y,g,k,b,x,Z,j,I,C;return(null===A||void 0===A?void 0:A.length)===e+1?(0,c.jsx)("div",{className:u.Z.student_internal_card,ref:F,children:(0,c.jsx)(t.Z,{feesName:null===n||void 0===n?void 0:n.internal_fee_reason,amount:null===n||void 0===n?void 0:n.internal_fee_amount,dateOffCreation:null===n||void 0===n||null===(o=n.fees)||void 0===o?void 0:o.feeDate,is_paid:null===n||void 0===n?void 0:n.internal_fee_status,feesId:null===n||void 0===n?void 0:n._id,setAllContent:l,setCharges:i,is_checklist:"Checklist"===(null===n||void 0===n?void 0:n.internal_fee_type)||"Backlog"===(null===n||void 0===n?void 0:n.internal_fee_type)||"Library Fees"===(null===n||void 0===n?void 0:n.internal_fee_type),rid:null===n||void 0===n||null===(d=n.fee_receipt)||void 0===d?void 0:d._id,transactionDate:null===n||void 0===n||null===(a=n.fee_receipt)||void 0===a?void 0:a.created_at,transactionMode:null===n||void 0===n||null===(v=n.fee_receipt)||void 0===v?void 0:v.fee_payment_mode,moduleType:null===n||void 0===n?void 0:n.internal_fee_type,sid:_,viewAs:m,bookId:null!==(s=null===n||void 0===n?void 0:n.book)&&void 0!==s?s:"",validateId:null===n||void 0===n||null===(r=n.library)||void 0===r?void 0:r._id,financeId:null===n||void 0===n||null===(f=n.library)||void 0===f||null===(p=f.institute)||void 0===p||null===(h=p.financeDepart)||void 0===h?void 0:h[0]})},null===n||void 0===n?void 0:n._id):(0,c.jsx)("div",{className:u.Z.student_internal_card,children:(0,c.jsx)(t.Z,{feesName:null===n||void 0===n?void 0:n.internal_fee_reason,amount:null===n||void 0===n?void 0:n.internal_fee_amount,dateOffCreation:null===n||void 0===n||null===(y=n.fees)||void 0===y?void 0:y.feeDate,is_paid:null===n||void 0===n?void 0:n.internal_fee_status,feesId:null===n||void 0===n?void 0:n._id,setAllContent:l,setCharges:i,is_checklist:"Checklist"===(null===n||void 0===n?void 0:n.internal_fee_type)||"Backlog"===(null===n||void 0===n?void 0:n.internal_fee_type)||"Library Fees"===(null===n||void 0===n?void 0:n.internal_fee_type),rid:null===n||void 0===n||null===(g=n.fee_receipt)||void 0===g?void 0:g._id,transactionDate:null===n||void 0===n||null===(k=n.fee_receipt)||void 0===k?void 0:k.created_at,transactionMode:null===n||void 0===n||null===(b=n.fee_receipt)||void 0===b?void 0:b.fee_payment_mode,moduleType:null===n||void 0===n?void 0:n.internal_fee_type,sid:_,viewAs:m,bookId:null!==(x=null===n||void 0===n?void 0:n.book)&&void 0!==x?x:"",validateId:null===n||void 0===n||null===(Z=n.library)||void 0===Z?void 0:Z._id,financeId:null===n||void 0===n||null===(j=n.library)||void 0===j||null===(I=j.institute)||void 0===I||null===(C=I.financeDepart)||void 0===C?void 0:C[0]})},null===n||void 0===n?void 0:n._id)})),P&&(0,c.jsx)(a.Z,{}),!P&&0===(null===A||void 0===A?void 0:A.length)&&(0,c.jsx)(v.Z,{title:"No department fees created yet.",customStyleContainer:{height:"15rem"}})]})}}}]);
//# sourceMappingURL=8687.91846137.chunk.js.map