"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[70630],{70630:function(e,o,n){n.r(o),n.d(o,{default:function(){return k}});var t=n(29439),i=n(72791),s="EachPoll_bars__WBpSh",l="EachPoll_postText__4GeL8",a="EachPoll_text__v7RUl",r="EachPoll_barContainer__lEEeJ",c="EachPoll_bar__tNVNQ",d="EachPoll_pollQuestion__E131+",u=n(94302),m=n(40385),v=n(51760),p=n(39230),h=n(35395),_=n(47782),f=n(80184),x=i.lazy((function(){return n.e(83058).then(n.bind(n,83058))})),j=i.lazy((function(){return n.e(2602).then(n.bind(n,2602))}));var k=function(e){var o,n,k,g,N=e.post,C=e.profilePost,P=e.allPosts,I=e.selectOptions,S=(0,i.useState)(!1),U=(0,t.Z)(S,2),Z=U[0],y=U[1],q=(0,i.useState)(!1),B=(0,t.Z)(q,2),b=B[0],O=B[1],w=(0,p.$G)().t;return(0,f.jsxs)(v.Z,{author:null===N||void 0===N?void 0:N.author,authorPhotoId:null===N||void 0===N?void 0:N.authorPhotoId,authorProfilePhoto:null===N||void 0===N?void 0:N.authorProfilePhoto,postStatus:null===N||void 0===N?void 0:N.postStatus,authorUserName:null===N||void 0===N?void 0:N.authorUserName,createdAt:null===N||void 0===N?void 0:N.createdAt,setDotsClicked:O,children:[(0,f.jsx)("p",{className:d,children:w("poll_question")}),(0,f.jsx)("div",{className:l,children:(0,f.jsx)("p",{className:a,children:null===N||void 0===N||null===(o=N.poll_query)||void 0===o?void 0:o.poll_question})}),(0,f.jsx)("div",{className:s,children:null===N||void 0===N||null===(n=N.poll_query)||void 0===n||null===(k=n.poll_answer)||void 0===k?void 0:k.map((function(e){var o;return(0,f.jsxs)("div",{className:r,children:[(0,f.jsx)("h6",{children:null===e||void 0===e?void 0:e.content}),(0,f.jsxs)("p",{children:[null===e||void 0===e||null===(o=e.percent_vote)||void 0===o?void 0:o.toFixed(0),"%"]}),(0,f.jsx)("div",{className:c,style:{width:"".concat(null===e||void 0===e?void 0:e.percent_vote,"%"),backgroundColor:null!==e&&void 0!==e&&e.color_type?"".concat(null===e||void 0===e?void 0:e.color_type):"#F2F2F2"}})]},null===e||void 0===e?void 0:e._id)}))}),(0,f.jsx)(m.Z,{likeCount:null===N||void 0===N?void 0:N.likeCount,endUserLike:null===N||void 0===N?void 0:N.endUserLike,endUserSave:null===N||void 0===N?void 0:N.endUserSave,pid:null===N||void 0===N?void 0:N._id,setCommentOpen:y,commentOpen:Z,commentCount:null===N||void 0===N?void 0:N.commentCount,type:"Poll",total_votes:null===N||void 0===N||null===(g=N.poll_query)||void 0===g?void 0:g.total_votes}),(0,f.jsx)(i.Suspense,{fallback:(0,f.jsx)(_.Z,{}),children:(0,f.jsx)(x,{pid:null===N||void 0===N?void 0:N._id,commentCount:null===N||void 0===N?void 0:N.commentCount,setCommentOpen:y,commentOpen:Z,comment_turned:null===N||void 0===N?void 0:N.comment_turned})}),b&&(0,f.jsx)(u.Z,{closeMenu:function(){O(!1)},children:(0,f.jsx)(h.Z,{children:(0,f.jsx)(j,{setDotsClicked:O,options:I,pid:null===N||void 0===N?void 0:N._id,authorId:null===N||void 0===N?void 0:N.author,profilePost:C,status:null===N||void 0===N?void 0:N.postStatus,allPosts:P,popup:!1,postType:null===N||void 0===N?void 0:N.postType,commentStatus:null===N||void 0===N?void 0:N.comment_turned})})})]})}},94302:function(e,o,n){var t=n(72791),i=n(80184);o.Z=function(e){var o=e.children,n=(0,t.useRef)(null),s=function(e){};return(0,t.useEffect)((function(){return document.addEventListener("click",s,!0),function(){document.removeEventListener("click",s,!0)}}),[]),(0,i.jsx)("div",{ref:n,children:o})}},51760:function(e,o,n){n(72791);var t=n(95048),i=n(43504),s=n(13688),l=n(48673),a=n(69721),r=n(79436),c=n(80184);o.Z=function(e){var o=e.author,n=(e.authorPhotoId,e.authorProfilePhoto),d=e.postStatus,u=e.authorUserName,m=e.createdAt,v=e.setDotsClicked,p=e.whichType,h=e.children,_=(0,t.I0)();return(0,c.jsxs)("div",{className:r.Z.eachpost,children:[(0,c.jsxs)("div",{className:r.Z.eachposthead,children:[(0,c.jsx)("div",{className:r.Z.imgcontainer,children:(0,c.jsx)(i.rU,{to:"/q/".concat(u,"/profile"),onClick:function(){_(l.S.searchId({id:o,type:"ID"}))},children:(0,c.jsx)("img",{alt:"not found",src:n?"".concat(a.yI,"/").concat(n):"/images/ins_default_profile.svg",className:n?"":r.Z.iimg,style:"Anyone"===d?{offset:"none"}:{outline:"2px solid #010447",outlineOffset:"1px"}})})}),(0,c.jsxs)("div",{className:r.Z.eachpostUserName,children:[(0,c.jsx)(i.rU,{to:"/q/".concat(u,"/profile"),onClick:function(){_(l.S.searchId({id:o,type:"ID"}))},children:(0,c.jsx)("h6",{children:u})}),(0,c.jsx)("div",{className:r.Z.eachpostUserTime,style:{display:"flex",gap:"0.5vw",alignItems:"center"},children:(0,c.jsx)("p",{children:(0,s.WU)(m)})})]})]}),"ANNOUNCEMENT"===p?null:(0,c.jsx)("img",{src:"/images/menu-dots-icon.svg",alt:"",className:r.Z.menu,onClick:function(){return v((function(e){return!e}))}}),h]})}},43425:function(e,o,n){var t=n(29439),i=n(72791),s=n(9447),l=n(92950),a=n(95048),r=n(70092),c=n(16256),d=n(39230),u=n(80184);o.Z=function(e){var o=e.endUserSave,n=e.pid,m=e.parentStyle,v=i.useState(!0),p=(0,t.Z)(v,2),h=p[0],_=p[1],f=(0,d.$G)().t,x=(0,a.v9)((function(e){return e.idChange})),j=(0,a.I0)(),k=i.useState(null===o||void 0===o?void 0:o.some((function(e){return e===(null===x||void 0===x?void 0:x.id)}))),g=(0,t.Z)(k,2),N=g[0],C=g[1],P=(0,s.rq)({data:{pid:n,viewAs:c.UJ},skip:h}).postSaveRefetch;return(0,u.jsx)(u.Fragment,{children:N?(0,u.jsxs)("div",{className:m,onClick:function(){j(r.p.removeSave({pid:n,id:null===x||void 0===x?void 0:x.id})),_(!1),C(!1),P()},children:[(0,u.jsx)("img",{src:"/images/unbookmark-icon.svg",alt:"",className:l.Z.bookmarkImage}),(0,u.jsx)("p",{children:f("save")})]}):(0,u.jsxs)("div",{className:m,onClick:function(){j(r.p.addSave({pid:n,id:null===x||void 0===x?void 0:x.id})),_(!1),C(!0),P()},children:[(0,u.jsx)("img",{src:"/images/bookmark-icon.svg",alt:"",className:l.Z.bookmarkImage}),(0,u.jsx)("p",{children:f("save")})]})})}},40385:function(e,o,n){n.d(o,{Z:function(){return h}});var t=n(72791),i={questionBottom:"Reactions_questionBottom__njIVp",questionBottomBorder:"Reactions_questionBottomBorder__i5RpE",pollVote:"Reactions_pollVote__ihF0t",questionBottomIcon:"Reactions_questionBottomIcon__UeG0b",questionBottomIconOne:"Reactions_questionBottomIconOne__bDy9u"},s=n(29439),l=n(95048),a=n(16256),r=n(9447),c=n(39230),d=n(70092),u=n(92950),m=n(80184),v=function(e){var o=e.parentStyle,n=e.endUserLike,i=e.pid,v=e.type,p=(0,c.$G)().t,h=(0,l.I0)(),_=t.useState(!0),f=(0,s.Z)(_,2),x=f[0],j=f[1],k=(0,l.v9)((function(e){return e.idChange})),g=t.useState(null===n||void 0===n?void 0:n.some((function(e){return e===(null===k||void 0===k?void 0:k.id)}))),N=(0,s.Z)(g,2),C=N[0],P=N[1],I=(0,r.gM)({data:{pid:i,viewAs:a.UJ},skip:x}).postLikeRefetch;return(0,m.jsx)(m.Fragment,{children:C?(0,m.jsxs)("div",{className:o,onClick:function(){h(d.p.removeLike({pid:i,id:null===k||void 0===k?void 0:k.id})),P(!1),j(!1),I()},children:[(0,m.jsx)("img",{src:"Poll"!==v?"/images/unlike-icon.svg":"/images/poll-recommended.svg",alt:"unlike",className:u.Z.likeImage}),(0,m.jsx)("p",{children:p("Poll"!==v?"like":"recommend")})]}):(0,m.jsxs)("div",{className:o,onClick:function(){h(d.p.addLike({pid:i,id:null===k||void 0===k?void 0:k.id})),P(!0),j(!1),I()},children:[(0,m.jsx)("img",{src:"Poll"!==v?"/images/like-icon.svg":"/images/poll-recommend.svg",alt:"like",className:u.Z.likeImage}),(0,m.jsx)("p",{children:p("Poll"!==v?"like":"recommend")})]})})},p=n(43425);var h=function(e){var o=e.likeCount,n=e.endUserLike,t=e.endUserSave,s=e.pid,l=e.setCommentOpen,a=e.commentOpen,r=e.commentCount,d=e.type,u=e.total_votes,h=e.postPopupOpen,_=(0,c.$G)().t;return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:i.questionBottom,children:["Poll"!==d?(0,m.jsxs)("div",{className:i.questionBottomBorder,children:[(0,m.jsxs)("p",{className:i.needCount,children:[o," ",_("likes")," "]}),(0,m.jsxs)("p",{children:[r," ",_("comments_")," "]})]}):(0,m.jsxs)("div",{className:i.questionBottomBorder,children:[(0,m.jsxs)("p",{className:i.pollVote,children:[u," Votes"]}),(0,m.jsxs)("p",{children:[o," ",_("recommend")," | ",r," ",_("comments_")]})]}),(0,m.jsxs)("div",{className:i.questionBottomIcon,children:[(0,m.jsx)("div",{className:i.questionBottomIconOne,children:(0,m.jsx)(v,{endUserLike:n,pid:s,parentStyle:i.questionBottomIconOne,type:d})}),(0,m.jsxs)("div",{className:i.questionBottomIconOne,onClick:function(){h||l(!a)},children:[(0,m.jsx)("img",{src:"/images/comment-icon.svg",alt:""}),(0,m.jsx)("p",{children:_("comment")})]}),(0,m.jsx)("div",{className:i.questionBottomIconOne,children:(0,m.jsx)(p.Z,{endUserSave:t,pid:s,parentStyle:i.questionBottomIconOne})})]})]})})}},13688:function(e,o,n){n.d(o,{WU:function(){return c}});var t=["second","minute","hour","day","week","month","year"];var i=["\u79d2","\u5206\u949f","\u5c0f\u65f6","\u5929","\u5468","\u4e2a\u6708","\u5e74"];var s={},l=function(e,o){s[e]=o},a=[60,60,24,7,365/7/12,12];function r(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}var c=function(e,o,n){var t=function(e,o){return(+(o?r(o):new Date)-+r(e))/1e3}(e,n&&n.relativeDate);return function(e,o){for(var n=e<0?1:0,t=e=Math.abs(e),i=0;e>=a[i]&&i<a.length;i++)e/=a[i];return(e=Math.floor(e))>(0===(i*=2)?9:1)&&(i+=1),o(e,i,t)[n].replace("%s",e.toString())}(t,function(e){return s[e]||s.en_US}(o))};l("en_US",(function(e,o){if(0===o)return["just now","right now"];var n=t[Math.floor(o/2)];return e>1&&(n+="s"),[e+" "+n+" ago","in "+e+" "+n]})),l("zh_CN",(function(e,o){if(0===o)return["\u521a\u521a","\u7247\u523b\u540e"];var n=i[~~(o/2)];return[e+" "+n+"\u524d",e+" "+n+"\u540e"]}))},79436:function(e,o){o.Z={eachpost:"PostContainer_eachpost__4Ihag",reactions:"PostContainer_reactions__iW+XA",eachposthead:"PostContainer_eachposthead__g0OCh",imgcontainer:"PostContainer_imgcontainer__hbVj9",iimg:"PostContainer_iimg__j+Wkk",eachpostUserName:"PostContainer_eachpostUserName__4reNe",eachpostUserTime:"PostContainer_eachpostUserTime__naeRX",menu:"PostContainer_menu__Cp0Zi",showMore:"PostContainer_showMore__xHh4T"}},92950:function(e,o){o.Z={likeImage:"Like_likeImage__Foz5V",bookmarkImage:"Like_bookmarkImage__SPKG5"}}}]);
//# sourceMappingURL=70630.806e79a7.chunk.js.map