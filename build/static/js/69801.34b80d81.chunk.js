(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[69801],{85303:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>D});var n=t(63687),i=t(21348),s=t(72791),a=t(39230),d=t(23441),o=t(56959),c=t(90904),r=t(98684),u=t(57588),v=t(91427),h=t(6758);const m="FinanceAllStudent_student_table__Y3uXE",_="FinanceAllStudent_student_table_header__4fuiU",x="FinanceAllStudent_student_table_header_label__4x6eY",f="FinanceAllStudent_student_table_content_card__3KWaE",p="FinanceAllStudent_student_table_profile__QUIFN",j="FinanceAllStudent_student_table_header_name__x4ZNJ",g="FinanceAllStudent_student_table_header_label_text__lny-H",N="FinanceAllStudent_student_table_contact__f4eB5",Z="FinanceAllStudent_student_table_contact_email__dV19L",y="FinanceAllStudent_student_table_contact_number__r7HNK";var S=t(80184);const b=e=>{let{studentAlias:l}=e;const{t:t}=(0,a.$G)();return(0,S.jsx)("div",{className:m,children:(0,S.jsxs)("div",{className:_,children:[(0,S.jsx)("p",{className:x,style:{flex:"1"},children:null!==l&&void 0!==l?l:t("gr_no")}),(0,S.jsx)("p",{className:x,style:{flex:"3"},children:t("name")}),(0,S.jsx)("p",{className:x,style:{flex:"2"},children:t("contact_number")}),(0,S.jsx)("p",{className:x,style:{flex:"1"},children:t("applicable_outs")}),(0,S.jsx)("p",{className:x,style:{flex:"0.7"},children:t("govt_oustanding")})]})})};var C=t(1095),A=t(16871),I=t(43504);const Y=e=>{var l,t,n,i,s,a,d,o,u;let{student:v,messageId:h,headId:m,instituteId:_,allStudentControl:b}=e;const Y=(0,A.UO)(),F=(0,A.TH)();return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(I.rU,{to:"/q/".concat(Y.username,"/member/student/admission/profile"),state:{...F.state,sid:null===v||void 0===v?void 0:v._id,messageId:h,headId:m,instituteId:_,collectAccess:null===b||void 0===b?void 0:b.collectAccess,govtAccess:null===b||void 0===b?void 0:b.govtAccess,cancelAccess:null===b||void 0===b?void 0:b.cancelAccess,editStructureControl:null===b||void 0===b?void 0:b.editStructureControl,editGovtNumberContorl:null===b||void 0===b?void 0:b.editGovtNumberContorl,editInstallmentControl:null===b||void 0===b?void 0:b.editInstallmentControl,editGovtInstallmentControl:null===b||void 0===b?void 0:b.editGovtInstallmentControl},children:[(0,S.jsxs)("div",{className:f,style:{cursor:"pointer"},children:[(0,S.jsx)("p",{className:x,style:{flex:"1"},children:null!==(l=null===v||void 0===v?void 0:v.studentGRNO)&&void 0!==l?l:""}),(0,S.jsxs)("div",{className:p,style:{flex:"3"},children:[(0,S.jsx)("img",{src:null!==v&&void 0!==v&&v.studentProfilePhoto?"".concat(C.yI,"/").concat(null===v||void 0===v?void 0:v.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,S.jsxs)("div",{children:[(0,S.jsxs)("p",{className:j,children:["".concat(null!==(t=null===v||void 0===v?void 0:v.studentFirstName)&&void 0!==t?t:""," ").concat(null!==(n=null===v||void 0===v?void 0:v.studentMiddleName)&&void 0!==n?n:""," ").concat(null!==(i=null===v||void 0===v?void 0:v.studentLastName)&&void 0!==i?i:""),"100"===(null===v||void 0===v?void 0:v.profile_percentage)||100===(null===v||void 0===v?void 0:v.profile_percentage)?(0,S.jsx)("img",{src:"".concat(r.Fk,"/complete.svg"),loading:"lazy",alt:"avatar",style:{marginLeft:"0.6rem",height:"1rem"}}):null]}),(0,S.jsx)("p",{className:g,children:null!==(s=null===v||void 0===v||null===(a=v.studentClass)||void 0===a?void 0:a.classTitle)&&void 0!==s?s:""})]})]}),(0,S.jsxs)("div",{className:x,style:{flex:"2"},children:[(0,S.jsxs)("div",{className:N,children:[(0,S.jsx)("img",{src:"".concat(r.Fk,"/gender.svg"),alt:"gender icon"}),(0,S.jsx)("p",{className:Z,children:null===v||void 0===v?void 0:v.studentGender})]}),(0,S.jsxs)("div",{className:N,style:{marginTop:"0.4rem"},children:[(0,S.jsx)("img",{src:"".concat(r.Fk,"/phone.svg"),alt:"phone icon"}),(0,S.jsx)("p",{className:y,children:null!==v&&void 0!==v&&v.user.userPhoneNumber?null===v||void 0===v?void 0:v.user.userPhoneNumber:null!==(d=null===v||void 0===v?void 0:v.user.userEmail)&&void 0!==d?d:""})]})]}),(0,S.jsx)("p",{className:x,style:{flex:"1",textAlign:"right"},children:null!==(o=null===v||void 0===v?void 0:v.applicable_fees_pending)&&void 0!==o?o:0}),(0,S.jsx)("p",{className:x,style:{flex:"0.7",textAlign:"right"},children:null!==(u=null===v||void 0===v?void 0:v.government_fees_pending)&&void 0!==u?u:0})]}),(0,S.jsx)(c.Z,{customStyleBorder:{margin:"0"}})]})})};var F=t(55336),M=t(1669),k=t(2651);const D=e=>{var l,t,m,_,x;let{instituteId:f,studentAlias:p,headId:j,messageId:g,invalidateAccess:N,allStudentControl:Z}=e;const{t:y}=(0,a.$G)(),[C,A]=(0,s.useState)(""),[I,D]=(0,s.useState)(1),[E,T]=(0,s.useState)(!0),[G,B]=(0,d.YD)({skip:C}),{instituteAllStudent:J,instituteAllStudentLoading:w}=(0,h.Cp)({data:{id:f,page:I,limit:10,search:C},skip:!f});(0,s.useEffect)((()=>{B&&E&&D((e=>e+1))}),[B,E]),(0,s.useEffect)((()=>{if(null!==J&&void 0!==J&&J.list){var e;let l=(0,v.f)(null===J||void 0===J||null===(e=J.list)||void 0===e?void 0:e.length);T((()=>l))}}),[null===J||void 0===J?void 0:J.list]);const H=(0,s.useCallback)((0,u.J)((e=>{D((()=>1)),A(e)}),1500),[]),K=e=>{e.target.value?w||H(e.target.value):(D((()=>1)),A(""))};return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(n.Z,{customStyle:{border:L[N]?"none":"0.5px solid #cacaca"},children:[L[N]?(0,S.jsx)(i.Z,{children:(0,S.jsx)("div",{className:o.Z.fm_search_full,children:(0,S.jsx)("section",{className:o.Z.fm_search_full_container,children:(0,S.jsxs)("div",{className:o.Z.fm_search_full_container_inner,children:[(0,S.jsx)("img",{className:o.Z.fm_search_full_icon,alt:"search icon",src:"".concat(r.dB,"/navbar-search.svg")}),(0,S.jsx)("input",{type:"text",placeholder:y("search"),onChange:K,disabled:!(C||(null===J||void 0===J||null===(l=J.list)||void 0===l?void 0:l.length)>0)})]})})})}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(i.Z,{children:(0,S.jsxs)("div",{className:o.Z.fm_header_container,children:[(0,S.jsx)("h6",{children:y("all_students")}),(0,S.jsx)("div",{className:o.Z.fm_both_filter,children:(0,S.jsx)("div",{className:o.Z.fm_search,children:(0,S.jsx)("section",{className:o.Z.fm_search_container,children:(0,S.jsxs)("div",{className:o.Z.fm_search_container_inner,children:[(0,S.jsx)("img",{className:o.Z.fm_search_icon,alt:"search icon",src:"".concat(r.dB,"/navbar-search.svg")}),(0,S.jsx)("input",{type:"text",placeholder:y("search"),onChange:K,style:{minWidth:"300px"},disabled:!(C||(null===J||void 0===J||null===(t=J.list)||void 0===t?void 0:t.length)>0)})]})})})})]})}),(0,S.jsx)(c.Z,{})]}),(0,S.jsx)(i.Z,{children:(0,S.jsx)(b,{studentAlias:p})}),(0,S.jsx)(c.Z,{}),(0,S.jsxs)(i.Z,{children:[null===J||void 0===J||null===(m=J.list)||void 0===m?void 0:m.map(((e,l)=>{var t;return(null===J||void 0===J||null===(t=J.list)||void 0===t?void 0:t.length)===l+1?(0,S.jsx)("div",{ref:G,children:(0,S.jsx)(Y,{student:e,instituteId:f,messageId:g,headId:j,allStudentControl:Z})},null===e||void 0===e?void 0:e._id):(0,S.jsx)(Y,{student:e,instituteId:f,messageId:g,headId:j,allStudentControl:Z},null===e||void 0===e?void 0:e._id)})),w?C?(0,S.jsx)(F.Z,{}):(0,S.jsx)(M.Z,{}):C?0===(null===J||void 0===J||null===(_=J.list)||void 0===_?void 0:_.length)&&(0,S.jsx)(k.Z,{title:"No student found related this search."}):0===(null===J||void 0===J||null===(x=J.list)||void 0===x?void 0:x.length)&&(0,S.jsx)(k.Z,{title:"No students added in institute."})]})]})})},L={unAuthorized:!0,govt:!0}},69801:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>V});var n=t(39230),i=t(56959),s=t(43504),a=t(16871),d=t(63687),o=t(21348),c=t(90904),r=t(98967),u=t(63162),v=t(72791),h=t(55336),m=t(43172),_=t(23441),x=t(91427),f=t(57588),p=t(1669),j=t(2651),g=t(6758),N=t(98684),Z=t(1095),y=t(97892),S=t.n(y);const b="Scholarship_candidate_card_container__vP99D",C="Scholarship_candidate_card_container_text__1iyok",A="Scholarship_candidate_card_row__gTdMF";var I=t(80184);const Y=e=>{var l,t,i,s,a,d,o,c,r,u,v,h,m,_,x,f,p,j,g,y,Y;let{candidate:F}=e;const{t:M}=(0,n.$G)();return(0,I.jsxs)("div",{className:b,children:[(0,I.jsx)("img",{src:null!==F&&void 0!==F&&null!==(l=F.student)&&void 0!==l&&l.studentProfilePhoto?"".concat(Z.yI,"/").concat(null===F||void 0===F||null===(t=F.student)||void 0===t?void 0:t.studentProfilePhoto):"".concat(N.p3,"/feed-user-avatar.svg"),alt:""}),(0,I.jsxs)("div",{className:C,children:[(0,I.jsxs)("div",{className:A,children:[(0,I.jsx)("h6",{children:"".concat(null!==(i=null===F||void 0===F||null===(s=F.student)||void 0===s?void 0:s.studentFirstName)&&void 0!==i?i:""," ").concat(null!==(a=null===F||void 0===F||null===(d=F.student)||void 0===d?void 0:d.studentMiddleName)&&void 0!==a?a:""," ").concat(null!==(o=null===F||void 0===F||null===(c=F.student)||void 0===c?void 0:c.studentLastName)&&void 0!==o?o:"")}),(0,I.jsxs)("h6",{children:[M("rs_only")," ",null!==(r=null===F||void 0===F?void 0:F.fee_payment_amount)&&void 0!==r?r:0]})]}),(0,I.jsxs)("div",{className:A,children:[(0,I.jsxs)("p",{children:[M("gr_number"),null!==(u=null===F||void 0===F||null===(v=F.student)||void 0===v?void 0:v.studentGRNO)&&void 0!==u?u:""," ",", ","(".concat(null!==(h=null===F||void 0===F||null===(m=F.student)||void 0===m||null===(_=m.batches)||void 0===_?void 0:_.batchName)&&void 0!==h?h:"",")")]}),(0,I.jsx)("p",{children:null===(x=S()(null===F||void 0===F?void 0:F.fee_transaction_date))||void 0===x?void 0:x.format("DD MMM YYYY")})]}),(0,I.jsx)("div",{className:A,children:(0,I.jsxs)("p",{children:[M("class_candi")," ",null!==(f=null===F||void 0===F||null===(p=F.student)||void 0===p||null===(j=p.studentClass)||void 0===j?void 0:j.className)&&void 0!==f?f:""," ",null!==(g=null===F||void 0===F||null===(y=F.student)||void 0===y||null===(Y=y.studentClass)||void 0===Y?void 0:Y.classTitle)&&void 0!==g?g:""]})})]})]})};var F=t(44226),M=t(93638),k=t(84959);const D=e=>{var l,t,s;let{fid:a,aid:d,instituteId:o,onToggle:c}=e;const{t:r}=(0,n.$G)(),[u,m]=(0,v.useState)(!1),[Z,y]=(0,v.useState)(""),[S,b]=(0,v.useState)(1),[C,A]=(0,v.useState)(!0),[D,L]=(0,_.YD)({skip:Z}),[E]=(0,k.FL)(),[T]=(0,g.Hq)(),[G]=(0,g.qJ)(),{financeAllotScholarshipHistory:B,financeAllotScholarshipHistoryLoading:J}=(0,g.Dx)({data:{fid:a,page:S,limit:10,search:Z,flow:"BY_FINANCE"},skip:!a});(0,v.useEffect)((()=>{L&&C&&b((e=>e+1))}),[L,C]),(0,v.useEffect)((()=>{var e;if(null!==B&&void 0!==B&&null!==(e=B.list)&&void 0!==e&&e.length){var l;let e=(0,x.f)(null===B||void 0===B||null===(l=B.list)||void 0===l?void 0:l.length);A((()=>e))}}),[null===B||void 0===B?void 0:B.list]);const w=(0,v.useCallback)((0,f.J)((e=>{b((()=>1)),y(e)}),1500),[]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:i.Z.fm_search_full,style:{marginBlock:"0.6rem"},children:[(0,I.jsx)("section",{className:i.Z.fm_search_full_container,style:{width:"auto"},children:(0,I.jsxs)("div",{className:i.Z.fm_search_full_container_inner,style:{width:"auto"},children:[(0,I.jsx)("img",{className:i.Z.fm_search_full_icon,alt:"search icon",src:"".concat(N.dB,"/navbar-search.svg")}),(0,I.jsx)("input",{type:"text",placeholder:r("search"),onChange:e=>{e.target.value?w(e.target.value):(b((()=>1)),y(""))},style:{minWidth:"250px"}})]})}),(0,I.jsxs)("div",{className:i.Z.fm_search_full,style:{width:"auto"},children:[(0,I.jsx)(F.Z,{onExcelFileUpload:e=>{var l,t;if(null!==(l=e.target)&&void 0!==l&&null!==(t=l.files)&&void 0!==t&&t.length&&o){m((e=>!e));const l=new FormData;l.append("file",e.target.files[0]),E({fileUpload:l}).then((e=>{var l,t;null!==(l=e.data)&&void 0!==l&&l.imageKey?G({id:o,excelFile:{excel_file:null===(t=e.data)||void 0===t?void 0:t.imageKey}}).then((()=>{m((e=>!e))})).catch({}):m((e=>!e))})).catch({})}},dynamicKey:"scholarshipNumber",title:"Scholarship Number Excel",label:"Number Excel"}),(0,I.jsx)(F.Z,{dynamicKey:"scholashipAllottment",onExcelFileUpload:e=>{var l,t;if(null!==(l=e.target)&&void 0!==l&&null!==(t=l.files)&&void 0!==t&&t.length&&d){m((e=>!e));const l=new FormData;l.append("file",e.target.files[0]),E({fileUpload:l}).then((e=>{var l,t;null!==(l=e.data)&&void 0!==l&&l.imageKey?T({aid:d,excelFile:{excel_file:null===(t=e.data)||void 0===t?void 0:t.imageKey}}).then((()=>{m((e=>!e))})).catch({}):m((e=>!e))})).catch({})}},title:"Scholarship Allottment Excel",label:"Allottment Excel"}),(0,I.jsx)(M.Z,{label:"allot_scholarship",customStyle:{minWidth:"fit-content",paddingBlock:"0.4rem",margin:"0"},onAction:c})]})]}),null===B||void 0===B||null===(l=B.list)||void 0===l?void 0:l.map(((e,l)=>{var t;return(null===B||void 0===B||null===(t=B.list)||void 0===t?void 0:t.length)===l+1?(0,I.jsx)("div",{ref:D,children:(0,I.jsx)(Y,{candidate:e})},null===e||void 0===e?void 0:e._id):(0,I.jsx)(Y,{candidate:e},null===e||void 0===e?void 0:e._id)})),J?Z?(0,I.jsx)(h.Z,{}):(0,I.jsx)(p.Z,{}):Z?0===(null===B||void 0===B||null===(t=B.list)||void 0===t?void 0:t.length)&&(0,I.jsx)(j.Z,{title:"No allot scholarship students found related this search."}):0===(null===B||void 0===B||null===(s=B.list)||void 0===s?void 0:s.length)&&(0,I.jsx)(j.Z,{title:"No allot scholarship students."}),u&&(0,I.jsx)(h.Z,{})]})},L=e=>{let{aid:l,instituteId:t,fid:n}=e;const i=(0,a.s0)(),s=(0,a.UO)(),[d,o]=(0,v.useState)(!1),c=()=>{o((e=>!e))};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(D,{fid:n,aid:l,instituteId:t,onToggle:c}),d&&(0,I.jsx)(m.Z,{onClose:c,onSelectStudent:e=>{i("/q/".concat(s.username,"/member/student/admission/profile"),{state:{sid:null===e||void 0===e?void 0:e._id,collectAccess:"OTHER",instituteId:t,govtAccess:"Finance_scholarship",cancelAccess:!1,editStructureControl:"authorized",editGovtNumberContorl:"authorized",editInstallmentControl:"authorized",editGovtInstallmentControl:"authorized"}})},instituteId:t})]})};var E=t(82824),T=t(72888);const G=e=>{var l;let{excel:t}=e;return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)("a",{className:T.Z.export_card,title:"Download File",href:"".concat(Z.LS,"/").concat(null===t||void 0===t?void 0:t.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,I.jsx)("img",{src:"".concat(N.J7,"/xsxl.svg"),className:T.Z.export_card_image,alt:"excel icon"}),(0,I.jsxs)("section",{className:T.Z.export_card_text,children:[(0,I.jsx)("h6",{children:null!==(l=null===t||void 0===t?void 0:t.excel_file_name)&&void 0!==l?l:""}),(0,I.jsxs)("div",{className:T.Z.export_card_date,children:[(0,I.jsx)("h6",{children:S()(null===t||void 0===t?void 0:t.created_at).format("DD MMM YYYY")}),(0,I.jsx)("h6",{children:(0,E.J)(null===t||void 0===t?void 0:t.created_at,"LT")})]})]})]},null===t||void 0===t?void 0:t._id)})},B=e=>{var l,t,s;let{fid:a}=e;const{t:d}=(0,n.$G)(),[o,c]=(0,v.useState)(""),[r,u]=(0,v.useState)(1),[m,Z]=(0,v.useState)(!0),[y,S]=(0,_.YD)({skip:o}),{financeMismatchScholarshipHistory:b,financeMismatchScholarshipHistoryLoading:C}=(0,g.i8)({data:{fid:a,page:r,limit:10,search:o,flow:"BY_FINANCE"},skip:!a});(0,v.useEffect)((()=>{S&&m&&u((e=>e+1))}),[S,m]),(0,v.useEffect)((()=>{var e;if(null!==b&&void 0!==b&&null!==(e=b.list)&&void 0!==e&&e.length){var l;let e=(0,x.f)(null===b||void 0===b||null===(l=b.list)||void 0===l?void 0:l.length);Z((()=>e))}}),[null===b||void 0===b?void 0:b.list]);const A=(0,v.useCallback)((0,f.J)((e=>{u((()=>1)),c(e)}),1500),[]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:i.Z.fm_search_full,style:{marginBlock:"0.6rem"},children:(0,I.jsx)("section",{className:i.Z.fm_search_full_container,children:(0,I.jsxs)("div",{className:i.Z.fm_search_full_container_inner,children:[(0,I.jsx)("img",{className:i.Z.fm_search_full_icon,alt:"search icon",src:"".concat(N.dB,"/navbar-search.svg")}),(0,I.jsx)("input",{type:"text",placeholder:d("search"),onChange:e=>{e.target.value?A(e.target.value):(u((()=>1)),c(""))}})]})})}),null===b||void 0===b||null===(l=b.list)||void 0===l?void 0:l.map(((e,l)=>{var t;return(null===b||void 0===b||null===(t=b.list)||void 0===t?void 0:t.length)===l+1?(0,I.jsx)("div",{ref:y,children:(0,I.jsx)(G,{excel:e})},null===e||void 0===e?void 0:e._id):(0,I.jsx)(G,{excel:e},null===e||void 0===e?void 0:e._id)})),C?o?(0,I.jsx)(h.Z,{}):(0,I.jsx)(p.Z,{}):o?0===(null===b||void 0===b||null===(t=b.list)||void 0===t?void 0:t.length)&&(0,I.jsx)(j.Z,{title:"No mismatch excel found related this search."}):0===(null===b||void 0===b||null===(s=b.list)||void 0===s?void 0:s.length)&&(0,I.jsx)(j.Z,{title:"No mismatch excel."})]})},J=e=>{var l;let{excel:t}=e;return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)("a",{className:T.Z.export_card,title:"Download File",href:"".concat(Z.LS,"/").concat(null===t||void 0===t?void 0:t.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,I.jsx)("img",{src:"".concat(N.J7,"/xsxl.svg"),className:T.Z.export_card_image,alt:"excel icon"}),(0,I.jsxs)("section",{className:T.Z.export_card_text,children:[(0,I.jsx)("h6",{children:null!==(l=null===t||void 0===t?void 0:t.excel_file_name)&&void 0!==l?l:""}),(0,I.jsxs)("div",{className:T.Z.export_card_date,children:[(0,I.jsx)("h6",{children:S()(null===t||void 0===t?void 0:t.created_at).format("DD MMM YYYY")}),(0,I.jsx)("h6",{children:(0,E.J)(null===t||void 0===t?void 0:t.created_at,"LT")})]})]})]},null===t||void 0===t?void 0:t._id)})};var w=t(48293),H=t(16925),K=t(60924),O=t(43997);const P=e=>{let{onClose:l,instituteId:t}=e;const{t:i}=(0,n.$G)(),[s,a]=(0,v.useState)(!1),[d,r]=(0,v.useState)({from:"",to:""}),[u]=(0,g.CI)();return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(w.Z,{onClose:l,children:(0,I.jsxs)("div",{className:H.Z.modal_container,children:[(0,I.jsx)(o.Z,{children:(0,I.jsxs)("div",{className:H.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:H.Z.modal_container_header,children:(0,I.jsx)("h6",{children:i("export_scholarship_excel")})}),(0,I.jsx)("img",{src:"".concat(N.J7,"/close.svg"),alt:"close icon",onClick:l})]})}),(0,I.jsx)(c.Z,{}),(0,I.jsxs)(o.Z,{customStyle:{paddingTop:"0"},children:[(0,I.jsx)(K.Z,{name:"from",label:i("o__from"),placeholder:i("o__please_select_date"),onChange:e=>{r((l=>({...l,from:(0,O.jh)(e)})))},value:d.from}),(0,I.jsx)(K.Z,{name:"to",label:i("o__to"),placeholder:i("o__please_select_date"),onChange:e=>{r((l=>({...l,to:(0,O.jh)(e)})))},value:d.to}),(0,I.jsx)(M.Z,{label:"export",onAction:()=>{t&&(a((e=>!e)),u({id:t,from:null!==d&&void 0!==d&&d.from?(0,O.O_)(d.from):"",to:null!==d&&void 0!==d&&d.to?(0,O.O_)(d.to):"",timeline:"false",timeline_content:""}).then((()=>{a((e=>!e)),l()})).catch({}))}})]}),s&&(0,I.jsx)(h.Z,{})]})})})},z=e=>{var l,t,s;let{instituteId:a}=e;const{t:d}=(0,n.$G)(),[o,c]=(0,v.useState)(!1),[r,u]=(0,v.useState)(""),[m,Z]=(0,v.useState)(1),[y,S]=(0,v.useState)(!0),[b,C]=(0,_.YD)({skip:r}),{financeAllotScholarshipExcelHistory:A,financeAllotScholarshipExcelHistoryLoading:Y}=(0,g.OD)({data:{id:a,page:m,limit:10,search:r,flow:"BY_FINANCE"},skip:!a});(0,v.useEffect)((()=>{C&&y&&Z((e=>e+1))}),[C,y]),(0,v.useEffect)((()=>{var e;if(null!==A&&void 0!==A&&null!==(e=A.list)&&void 0!==e&&e.length){var l;let e=(0,x.f)(null===A||void 0===A||null===(l=A.list)||void 0===l?void 0:l.length);S((()=>e))}}),[null===A||void 0===A?void 0:A.list]);const F=(0,v.useCallback)((0,f.J)((e=>{Z((()=>1)),u(e)}),1500),[]),M=(0,v.useCallback)((()=>{c((e=>!e))}),[]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:i.Z.fm_search_full,style:{marginBlock:"0.6rem"},children:[(0,I.jsx)("section",{className:i.Z.fm_search_full_container,children:(0,I.jsxs)("div",{className:i.Z.fm_search_full_container_inner,children:[(0,I.jsx)("img",{className:i.Z.fm_search_full_icon,alt:"search icon",src:"".concat(N.dB,"/navbar-search.svg")}),(0,I.jsx)("input",{type:"text",placeholder:d("search"),onChange:e=>{e.target.value?F(e.target.value):(Z((()=>1)),u(""))}})]})}),(0,I.jsx)("img",{src:"".concat(N.J7,"/filter.svg"),alt:"filter icon",onClick:M})]}),null===A||void 0===A||null===(l=A.list)||void 0===l?void 0:l.map(((e,l)=>{var t;return(null===A||void 0===A||null===(t=A.list)||void 0===t?void 0:t.length)===l+1?(0,I.jsx)("div",{ref:b,children:(0,I.jsx)(J,{excel:e})},null===e||void 0===e?void 0:e._id):(0,I.jsx)(J,{excel:e},null===e||void 0===e?void 0:e._id)})),Y?r?(0,I.jsx)(h.Z,{}):(0,I.jsx)(p.Z,{}):r?0===(null===A||void 0===A||null===(t=A.list)||void 0===t?void 0:t.length)&&(0,I.jsx)(j.Z,{title:"No export excel found related this search."}):0===(null===A||void 0===A||null===(s=A.list)||void 0===s?void 0:s.length)&&(0,I.jsx)(j.Z,{title:"No export excel."}),o&&(0,I.jsx)(P,{onClose:M,instituteId:a})]})};var U=t(4007),$=t(43677);const q=e=>{let{fid:l,carryParentState:t}=e;const{t:i}=(0,n.$G)(),[s,a]=(0,v.useState)(""),[d,o]=(0,v.useState)([]),{instituteAllDepartment:c,instituteAllDepartmentLoading:r}=(0,g.Jv)({fid:l,skip:!l});(0,v.useEffect)((()=>{c&&o(c)}),[c]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:U.Z.fm_search_full,style:{marginBlock:"0.6rem"},children:(0,I.jsx)("section",{className:U.Z.fm_search_full_container,children:(0,I.jsxs)("div",{className:U.Z.fm_search_full_container_inner,children:[(0,I.jsx)("img",{className:U.Z.fm_search_full_icon,alt:"search icon",src:"".concat(N.dB,"/navbar-search.svg")}),(0,I.jsx)("input",{type:"text",placeholder:i("search"),onChange:e=>{if(e.target.value){let l=null===c||void 0===c?void 0:c.filter((l=>{var t,n,i;return null!==l&&void 0!==l&&null!==(t=l.dName)&&void 0!==t&&null!==(n=t.toLowerCase())&&void 0!==n&&n.includes(null===(i=e.target.value)||void 0===i?void 0:i.toLowerCase())?l:null}));o(l),a(e.target.value)}else a(""),o(c)}})]})})}),(0,I.jsx)("div",{className:U.Z.department_container,children:null===d||void 0===d?void 0:d.map((e=>(0,I.jsx)($.Z,{parentState:{...t,did:null===e||void 0===e?void 0:e._id,dName:null===e||void 0===e?void 0:e.dName},activeUrl:"type=scholarship&n=fund&d=fund-detail",children:(0,I.jsxs)("div",{className:U.Z.department_card_container,children:[(0,I.jsx)("img",{src:"".concat(N.J7,"/department.svg"),alt:"department avatar",className:U.Z.department_card_image}),(0,I.jsx)("div",{children:(0,I.jsx)("h6",{className:U.Z.department_card_name,children:(null===e||void 0===e?void 0:e.dName)||""})})]})},null===e||void 0===e?void 0:e._id)))}),r?(0,I.jsx)(p.Z,{}):s?!(null!==d&&void 0!==d&&d.length)&&(0,I.jsx)(j.Z,{title:"No department found related this search."}):!(null!==d&&void 0!==d&&d.length)&&(0,I.jsx)(j.Z,{title:"No department list found."})]})};var W=t(51136);const R=()=>{var e,l,t,s,r;const{t:u}=(0,n.$G)(),m=(0,a.TH)(),[_,x]=(0,v.useState)(!1),[f]=(0,g.D2)(),{financeScholarshipDepartmentFund:p,financeScholarshipDepartmentFundRefetch:j}=(0,g.Tq)({data:{did:null===(e=m.state)||void 0===e?void 0:e.did},skip:!(null!==(l=m.state)&&void 0!==l&&l.did)});return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(d.Z,{children:[(0,I.jsx)(o.Z,{children:(0,I.jsx)("div",{className:i.Z.fm_header_container,children:(0,I.jsx)("h6",{children:null!==(t=null===(s=m.state)||void 0===s?void 0:s.dName)&&void 0!==t?t:""})})}),(0,I.jsx)(c.Z,{}),(0,I.jsxs)(o.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,I.jsx)("div",{className:i.Z.fm_fs_container,style:{justifyContent:"flex-end"},children:(0,I.jsx)("div",{className:i.Z.fm_fs_container_inner,children:(0,I.jsxs)("div",{className:i.Z.fm_fs_refetch_container,onClick:()=>{var e,l;null!==(e=m.state)&&void 0!==e&&e.did&&(x((e=>!e)),f({scholarship:{did:null===(l=m.state)||void 0===l?void 0:l.did}}).then((()=>{j(),x((e=>!e))})).catch({}))},children:[(0,I.jsx)("img",{src:"".concat(N.J7,"/refresh.svg"),alt:"refetch icon"}),(0,I.jsxs)("div",{className:i.Z.fm_fs_refetch_container_inner,children:[(0,I.jsx)("h6",{children:u("refetch_data")}),(0,I.jsxs)("p",{children:[u("last_updated")," : ",S()(null===p||void 0===p?void 0:p.last_update).format("DD MMM YYYY"),", ",(0,E.J)(null===p||void 0===p?void 0:p.last_update,"LT")]})]})]})})}),(0,I.jsx)("div",{className:W.Z.osc_container_inner,style:{justifyContent:"flex-start",gap:"1rem",flexWrap:"wrap"},children:null===p||void 0===p||null===(r=p.custom_classes)||void 0===r?void 0:r.map((e=>{var l,t,n;return(0,I.jsxs)("div",{className:W.Z.osc_card,children:[(0,I.jsx)("img",{src:"".concat(N.J7,"/total-collection.svg"),alt:"overal icon"}),(0,I.jsxs)("div",{className:W.Z.osc_card_inner,children:[(0,I.jsxs)("p",{children:[u("batch")," ",":"," ",null!==(l=null===e||void 0===e?void 0:e.batch)&&void 0!==l?l:""]}),(0,I.jsxs)("h6",{children:[u("collect_from_gov")," ",": ",u("rs_only")," ",null!==(t=null===e||void 0===e?void 0:e.collect_by_government)&&void 0!==t?t:0]}),(0,I.jsxs)("h6",{children:[u("outstanding_from_gov")," ",": ",u("rs_only")," ",null!==(n=null===e||void 0===e?void 0:e.pending_from_government)&&void 0!==n?n:0]})]})]})}))})]})]}),_&&(0,I.jsx)(h.Z,{})]})};var Q=t(85303);const V=e=>{let{fid:l,instituteId:t,aid:m,studentAlias:_}=e;const{t:x}=(0,n.$G)(),[f]=(0,s.lr)(),p=(0,a.TH)(),j=(0,a.UO)();return(0,I.jsxs)(d.Z,{children:[(0,I.jsx)(o.Z,{children:(0,I.jsx)("div",{className:i.Z.fm_header_container,children:(0,I.jsx)("h6",{children:x("scholarship_management")})})}),(0,I.jsx)(c.Z,{}),(0,I.jsxs)(o.Z,{customStyle:{paddingTop:"0"},children:[(0,I.jsx)(r.Z,{children:ee.map((e=>{var l,t;return(0,I.jsx)(u.Z,{tab:e,isLink:!0,isActive:null===(l=e.groupIs)||void 0===l?void 0:l.includes(f.get("n")),parentState:p.state,url:"Institute"===(null===(t=p.state)||void 0===t?void 0:t.urlOffSet)?"/q/".concat(j.username,"/institute/member/finance?type=scholarship").concat(e.urlKey):"/q/".concat(j.username,"/member/staff/finance?type=scholarship").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,I.jsx)(c.Z,{customStyleBorder:{marginTop:"0"}})]}),(0,I.jsx)(v.Suspense,{fallback:(0,I.jsx)(h.Z,{}),children:"fund-detail"===f.get("d")?(0,I.jsx)(o.Z,{customStyle:{paddingTop:"0"},children:(0,I.jsx)(R,{})}):"mismatch"===f.get("n")?(0,I.jsx)(o.Z,{customStyle:{paddingTop:"0"},children:(0,I.jsx)(B,{fid:l})}):"export"===f.get("n")?(0,I.jsx)(o.Z,{customStyle:{paddingTop:"0"},children:(0,I.jsx)(z,{instituteId:t})}):"fund"===f.get("n")?(0,I.jsx)(o.Z,{customStyle:{paddingTop:"0"},children:(0,I.jsx)(q,{fid:l,carryParentState:p.state})}):"allottment"===f.get("n")?(0,I.jsx)(o.Z,{customStyle:{paddingTop:"0"},children:(0,I.jsx)(L,{instituteId:t,aid:m,fid:l})}):(0,I.jsx)(Q.default,{instituteId:t,studentAlias:_,invalidateAccess:"unAuthorized",allStudentControl:X})})]})},X={collectAccess:"Other",govtAccess:"Other",cancelAccess:!1,editStructureControl:"authorized",editGovtNumberContorl:"authorized",editInstallmentControl:"authorized",editGovtInstallmentControl:"authorized"},ee=[{label:"all_students",id:"student",urlKey:"",groupIs:["",null]},{label:"allottment",id:"allottment",urlKey:"&n=allottment",groupIs:["allottment"]},{label:"fund",id:"fund",urlKey:"&n=fund",groupIs:["fund"]},{label:"mismatch",id:"mismatch",urlKey:"&n=mismatch",groupIs:["mismatch"]},{label:"export",id:"export",urlKey:"&n=export",groupIs:["export"]}]},82824:(e,l,t)=>{"use strict";t.d(l,{J:()=>d,Z:()=>o});var n=t(99893),i=t.n(n),s=t(97892),a=t.n(s);const d=(e,l)=>(a().extend(i()),a()(e).format(l)),o=(e,l,t)=>{var n;return a()()[e]("".concat(null===(n=a()(t))||void 0===n?void 0:n.format("YYYY-MM-DD")),l)}},99893:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(l,t,n){var i=t.prototype,s=i.format;n.en.formats=e,i.format=function(l){void 0===l&&(l="YYYY-MM-DDTHH:mm:ssZ");var t=this.$locale().formats,n=function(l,t){return l.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(l,n,i){var s=i&&i.toUpperCase();return n||t[i]||e[i]||t[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,l,t){return l||t.slice(1)}))}))}(l,void 0===t?{}:t);return s.call(this,n)}}}()},72888:(e,l,t)=>{"use strict";t.d(l,{Z:()=>n});const n={export_card:"FinanceExport_export_card__9AYtI",export_card_image:"FinanceExport_export_card_image__-1r1l",export_card_text:"FinanceExport_export_card_text__ZrB00",export_card_date:"FinanceExport_export_card_date__-dTOE",export_card_menu:"FinanceExport_export_card_menu__-xEgr"}}}]);
//# sourceMappingURL=69801.34b80d81.chunk.js.map