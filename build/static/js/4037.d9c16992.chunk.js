"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[4037],{57431:function(n,t,e){var i=e(1413),s=(e(72791),e(80272)),o=e(80184);t.Z=function(n){var t,e=n.valueLength,a=n.maxLength,c=n.customStyle;return(0,o.jsxs)("section",{style:(0,i.Z)({},c),className:s.Z.string_container,children:[null!==(t=null===e||void 0===e?void 0:e.length)&&void 0!==t?t:0,"/",a]})}},87744:function(n,t,e){e.d(t,{Z:function(){return y}});var i=e(29439),s=e(72791),o=e(39230),a=e(98094),c=e(10406),l=e(11105),d=e(1413),_=e(36665),r=e(87457),u=e(57431),h=e(98734),m=e(97655),v=e(24582),p=e(80184),f=function(n){var t=n.onClose,e=n.onRefetch,c=n.openAs,l=n.batchMenu,f=n.onEdit,A=n.cid,g=(0,o.$G)().t,b=(0,s.useState)(""),x=(0,i.Z)(b,2),S=x[0],Z=x[1],j=(0,s.useState)(!1),N=(0,i.Z)(j,2),R=N[0],y=N[1],C=(0,s.useState)({batchName:"EDIT"===c?null===l||void 0===l?void 0:l.batchName:""}),w=(0,i.Z)(C,2),q=w[0],I=w[1],E=(0,v.QN)(),k=(0,i.Z)(E,1)[0];(0,s.useEffect)((function(){"EDIT"===c&&I((function(n){return(0,d.Z)((0,d.Z)({},n),{},{batchName:null===l||void 0===l?void 0:l.batchName})}))}),[c]);return(0,p.jsx)(_.Z,{onClose:t,children:(0,p.jsxs)("div",{className:r.Z.add_category_modal,children:[(0,p.jsxs)("div",{className:r.Z.add_category_modal_title,children:[(0,p.jsx)("h6",{children:g("EDIT"===c?"edit_batch":"add_new_batch")}),(0,p.jsx)("img",{src:"/images/close-post-icon.svg",onClick:t,alt:""})]}),(0,p.jsx)(a.Z,{customStyle:{width:"100%",marginTop:"0.6rem",marginBottom:"0.6rem"}}),(0,p.jsx)(m.Z,{labelText:g("batch-name-place"),placeholder:"e.g. 2022-23",name:"batchName",value:null===q||void 0===q?void 0:q.batchName,type:"text",onChange:function(n){var t;(null===(t=n.target.value)||void 0===t?void 0:t.length)<=30&&I((function(t){return(0,d.Z)((0,d.Z)({},t),{},{batchName:n.target.value})}))},errorShow:S}),(0,p.jsx)(u.Z,{maxLength:30,valueLength:q.batchName}),(0,p.jsx)("button",{className:r.Z.set_fees_structure_btn,title:"Create Batch",onClick:function(){q.batchName?"EDIT"===c?f(q.batchName):A&&(y((function(n){return!n})),k({cid:A,classBatch:q}).then((function(){e(),t(),y((function(n){return!n}))})).catch({})):Z(!0)},style:{justifyContent:"center"},children:g("EDIT"===c?"update":"create")}),R&&(0,p.jsx)(h.Z,{})]})})},A=e(72426),g=e.n(A),b=e(12072),x=e(84489),S=e(87049),Z=function(n){var t=n.onClose,e=n.batchMenu,o=n.onRefetch,a=(0,s.useState)(!1),c=(0,i.Z)(a,2),l=c[0],d=c[1],_=(0,s.useState)(!1),r=(0,i.Z)(_,2),u=r[0],m=r[1],A=(0,v.EX)(),g=(0,i.Z)(A,1)[0],Z=(0,v.Dj)(),j=(0,i.Z)(Z,1)[0];return(0,p.jsx)(p.Fragment,{children:u?(0,p.jsx)(f,{openAs:"EDIT",onEdit:function(n){null!==e&&void 0!==e&&e._id&&(m(!1),d((function(n){return!n})),g({bid:null===e||void 0===e?void 0:e._id,updateBatch:{batchName:n}}).then((function(){o(),d((function(n){return!n})),t()})).catch({}))},batchMenu:e,onClose:function(){return m((function(n){return!n}))},onRefetch:o}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(x.Z,{onClose:t}),(0,p.jsxs)(b.Z,{customStyle:{zIndex:"1200"},children:[(0,p.jsxs)("div",{className:S.Z.edit_modal_container,style:{width:"200px"},children:[(0,p.jsx)("h6",{className:S.Z.edit,onClick:function(){return m((function(n){return!n}))},children:"Edit"}),(0,p.jsx)("h6",{className:S.Z.remove,onClick:function(){null!==e&&void 0!==e&&e._id&&(d((function(n){return!n})),j({bid:null===e||void 0===e?void 0:e._id}).then((function(){o(),t(),d((function(n){return!n}))})).catch({}))},children:"Delete"})]}),l&&(0,p.jsx)(h.Z,{})]})]})})},j=e(16871),N=e(43504),R=function(n){var t,e=n.batch,a=n.onRefetch,l=n.carryParentState,_=n.viewAs,r=(0,o.$G)().t,u=(0,j.UO)(),h=(0,s.useState)(""),m=(0,i.Z)(h,2),v=m[0],f=m[1];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(N.rU,{to:"INSTITUTE"===_?"/q/".concat(u.username,"/class?type=batch-detail"):"/q/".concat(u.username,"/member/class/").concat(u.cname,"?a=batch-detail"),state:(0,d.Z)((0,d.Z)({},l),{},{batchName:null===e||void 0===e?void 0:e.batchName,batchId:null===e||void 0===e?void 0:e._id}),children:(0,p.jsxs)("div",{className:"".concat(c.Z.hostel_batch_container," ").concat(c.Z.hostel_batch_container_hover),children:[(0,p.jsx)("img",{className:c.Z.hostel_batch_image,src:"/images/master-24-grey-icon.svg",alt:"batch icon",style:{borderRadius:"0"}}),(0,p.jsxs)("div",{className:c.Z.hostel_batch_container_text,children:[(0,p.jsx)("h6",{children:null!==(t=null===e||void 0===e?void 0:e.batchName)&&void 0!==t?t:""}),(0,p.jsxs)("p",{children:[r("created_on_")," ",g()(null===e||void 0===e?void 0:e.createdAt).format("DD MMM yyyy")]})]}),(0,p.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(n){n.preventDefault(),f(e)},className:c.Z.hostel_batch_menu,title:"Menu"})]})},null===e||void 0===e?void 0:e._id),v&&(0,p.jsx)(Z,{onClose:function(){return f("")},onRefetch:a,batchMenu:v})]})},y=function(n){var t,e=n.cid,d=n.carryParentState,_=n.viewAs,r=(0,o.$G)().t,u=(0,s.useState)(!1),h=(0,i.Z)(u,2),m=h[0],A=h[1],g=(0,s.useState)(!0),b=(0,i.Z)(g,2),x=b[0],S=b[1],Z=(0,v.eY)({cid:e,skip:!e}),j=Z.getClassAllBatch,N=Z.getClassAllBatchRefetch;(0,s.useEffect)((function(){e&&(S(!0),N())}),[e,N]),(0,s.useEffect)((function(){var n;(null!==j&&void 0!==j&&j.all_batches||0===(null===j||void 0===j||null===(n=j.all_batches)||void 0===n?void 0:n.length))&&S(!1)}),[null===j||void 0===j?void 0:j.all_batches]);var y=function(){S(!0),N()},C=function(){A((function(n){return!n}))};return(0,p.jsxs)("div",{className:c.Z.hostel_container,style:"INSTITUTE"===_||"MENU_WISE"===_?{border:"none"}:null,children:["MENU_WISE"===_?null:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:c.Z.with_search,children:(0,p.jsx)("h6",{children:r("class_batch")})}),(0,p.jsx)(a.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}})]}),(0,p.jsx)("div",{className:c.Z.add_container,children:(0,p.jsx)("p",{className:c.Z.add_new_category,onClick:C,children:r("create_new_batch")})}),null===j||void 0===j||null===(t=j.all_batches)||void 0===t?void 0:t.map((function(n){return(0,p.jsx)(R,{batch:n,onRefetch:y,carryParentState:d,viewAs:_},null===n||void 0===n?void 0:n._id)})),x&&(0,p.jsx)(l.Z,{status:"white"}),m&&(0,p.jsx)(f,{onClose:C,cid:e,onRefetch:y})]})}},79756:function(n,t,e){e.d(t,{Z:function(){return E}});var i=e(37762),s=e(93433),o=e(29439),a=e(72791),c=e(39230),l=e(23441),d=e(98094),_=e(10406),r=e(11105),u=e(763),h=e(24582),m=e(16871),v=e(43504),p=e(69721),f=e(34586),A=e(84489),g=e(12072),b=e(98734),x=e(87049),S=e(80184),Z=function(n){var t=n.onClose,e=n.studentMenu,i=n.bid,s=n.onRefetch,c=(0,a.useState)(!1),l=(0,o.Z)(c,2),d=l[0],_=l[1],r=(0,h.i_)(),u=(0,o.Z)(r,1)[0];return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(A.Z,{onClose:t}),(0,S.jsxs)(g.Z,{customStyle:{zIndex:"1200"},children:[(0,S.jsx)("div",{className:x.Z.edit_modal_container,style:{width:"200px"},children:(0,S.jsx)("h6",{className:x.Z.remove,onClick:function(){i&&(_((function(n){return!n})),u({bid:i,destroy:{student_arr:[e]}}).then((function(){s(),t(),_((function(n){return!n}))})).catch({}))},children:"Delete"})}),d&&(0,S.jsx)(b.Z,{})]})]})},j=function(n){var t,e,i,s,l,d,_=n.student,r=n.batchId,u=n.onRefetch,h=(0,c.$G)().t,A=(0,m.UO)(),g=(0,a.useState)(""),b=(0,o.Z)(g,2),x=b[0],j=b[1];return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(v.rU,{to:"/q/".concat(A.username,"/student/profile"),state:{sid:null===_||void 0===_?void 0:_._id,viewAs:"CLASS_CATALOG"},children:(0,S.jsxs)("div",{className:f.Z.item,style:{position:"relative"},children:[(0,S.jsx)("p",{children:null!==(t=null===_||void 0===_?void 0:_.studentROLLNO)&&void 0!==t?t:""}),(0,S.jsx)("img",{alt:"",src:null!==_&&void 0!==_&&_.studentProfilePhoto?"".concat(p.yI,"/").concat(null===_||void 0===_?void 0:_.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,S.jsxs)("div",{className:f.Z.student_catalog_name,children:[(0,S.jsxs)("h5",{children:[null!==(e=null===_||void 0===_?void 0:_.studentFirstName)&&void 0!==e?e:""," ",null!==(i=null===_||void 0===_?void 0:_.studentMiddleName)&&void 0!==i?i:" "," ",null!==(s=null===_||void 0===_?void 0:_.studentLastName)&&void 0!==s?s:""]}),(0,S.jsxs)("h6",{children:[h("gr_number")," ",(0,S.jsx)("span",{style:{fontWeight:"500"},children:null!==(l=null===_||void 0===_?void 0:_.studentGRNO)&&void 0!==l?l:""}),null===_||void 0===_||null===(d=_.class_selected_batch)||void 0===d?void 0:d.map((function(n){return(null===n||void 0===n?void 0:n._id)===r?(0,S.jsx)("span",{style:{fontWeight:"500"},children:", ".concat(h("batch"),": ").concat(null===n||void 0===n?void 0:n.batchName)}):null}))]})]}),(0,S.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(n){n.preventDefault(),j(null===_||void 0===_?void 0:_._id)},className:f.Z.batch_container_menu,title:"Menu"})]})}),x&&(0,S.jsx)(Z,{onClose:function(){return j("")},bid:r,onRefetch:u,studentMenu:x})]})},N=e(33992),R=e(36665),y=e(15415),C=e(44820),w=function(n){var t,e,i,s=n.batchId,l=n.onClose,_=n.onGrab,u=(0,c.$G)().t,h=(0,a.useState)(!0),m=(0,o.Z)(h,2),v=m[0],p=m[1],f=(0,N.z0)({bid:s,skip:!s}),A=f.allClass,g=f.allClassRefetch;return(0,a.useEffect)((function(){var n;null!==A&&void 0!==A&&null!==(n=A.batch)&&void 0!==n&&n.classroom&&p(!1)}),[null===A||void 0===A||null===(t=A.batch)||void 0===t?void 0:t.classroom]),(0,a.useEffect)((function(){s&&g()}),[s,g]),(0,S.jsx)(R.Z,{onClose:l,children:(0,S.jsxs)("div",{className:C.Z.assign_role_container,style:{width:"40rem"},children:[(0,S.jsxs)("section",{className:C.Z.assign_role_title,style:{justifyContent:"space-between"},children:[(0,S.jsx)("h6",{children:u("select_class")}),(0,S.jsx)("div",{className:C.Z.button_container,style:{justifyContent:"flex-end",gap:"1rem"},children:(0,S.jsx)("img",{src:"/images/close-post-icon.svg",onClick:l,alt:"",style:{cursor:"pointer"}})})]}),(0,S.jsx)(d.Z,{customStyle:{width:"100%",marginBottom:"0.8rem"}}),(0,S.jsxs)("section",{style:{padding:"0 0.8rem"},children:[null===A||void 0===A||null===(e=A.batch)||void 0===e||null===(i=e.classroom)||void 0===i?void 0:i.map((function(n){return(0,S.jsx)(y.Z,{setViewClass:function(){},classData:n,setAllotC:function(n){return _(n)},isView:"CLASS_TEACHER"})})),v&&(0,S.jsx)(r.Z,{status:"white"})]})]})})},q=function(n){var t,e=n.cid,l=n.onClose,_=n.onRefetch,u=n.batchId,m=n.onCloseParent,v=(0,c.$G)().t,f=(0,a.useState)(!0),A=(0,o.Z)(f,2),g=A[0],x=A[1],Z=(0,a.useState)([]),j=(0,o.Z)(Z,2),N=j[0],y=j[1],w=(0,a.useState)(""),q=(0,o.Z)(w,2),I=q[0],E=q[1],k=(0,a.useState)(!1),B=(0,o.Z)(k,2),T=B[0],D=B[1],L=(0,a.useState)(!1),M=(0,o.Z)(L,2),F=M[0],P=M[1],U=(0,a.useState)(!1),G=(0,o.Z)(U,2),O=(G[0],G[1],(0,h.wD)()),H=(0,o.Z)(O,1)[0],W=(0,h.EY)({data:{cid:e,page:1,limit:30},skip:!e}),z=W.classAllStudent,V=W.classAllStudentRefetch;(0,a.useEffect)((function(){e&&(x(!0),V())}),[e,V]),(0,a.useEffect)((function(){var n,t,e,i;null!==z&&void 0!==z&&null!==(n=z.classes)&&void 0!==n&&n.ApproveStudent?(y(null===z||void 0===z||null===(i=z.classes)||void 0===i?void 0:i.ApproveStudent),x(!1)):0===(null===z||void 0===z||null===(t=z.classes)||void 0===t||null===(e=t.ApproveStudent)||void 0===e?void 0:e.length)&&x(!1)}),[null===z||void 0===z||null===(t=z.classes)||void 0===t?void 0:t.ApproveStudent]);var Y=function(n){null!==I&&void 0!==I&&I.includes(n)?E((function(t){return null===t||void 0===t?void 0:t.filter((function(t){return t!==n}))})):E((function(t){return[].concat((0,s.Z)(t),[n])}))};return(0,S.jsx)(R.Z,{onClose:function(){},children:(0,S.jsxs)("div",{className:C.Z.assign_role_container,style:{width:"40rem"},children:[(0,S.jsxs)("section",{className:C.Z.assign_role_title,style:{justifyContent:"space-between"},children:[(0,S.jsxs)("h6",{children:[(null===I||void 0===I?void 0:I.length)>0?"".concat(null===I||void 0===I?void 0:I.length," "):"",v("select_student")]}),(0,S.jsxs)("div",{className:C.Z.button_container,style:{justifyContent:"flex-end",gap:"1rem"},children:[F?(0,S.jsx)("button",{className:C.Z.next_student_btn,title:"Remove All Student",onClick:function(){E([]),P(!1)},style:{marginRight:"0.7rem"},children:v("remove_all")}):(0,S.jsx)("button",{className:C.Z.next_student_btn,title:"Select All Student",onClick:function(){var n,t,e=[],s=(0,i.Z)(null===z||void 0===z||null===(n=z.classes)||void 0===n?void 0:n.ApproveStudent);try{for(s.s();!(t=s.n()).done;){var o=t.value;e.push(null===o||void 0===o?void 0:o._id)}}catch(a){s.e(a)}finally{s.f()}E(e),P(!0)},style:{marginRight:"0.7rem"},children:v("select_all")}),(0,S.jsx)("button",{className:C.Z.next_student_btn,onClick:function(){u&&null!==I&&void 0!==I&&I.length&&(D((function(n){return!n})),H({bid:u,addStudent:{student_arr:I}}).then((function(){_(),m(),D((function(n){return!n}))})).catch({}))},children:v("add")}),(0,S.jsx)("img",{src:"/images/close-post-icon.svg",onClick:l,alt:"",style:{cursor:"pointer"}})]})]}),(0,S.jsx)(d.Z,{customStyle:{width:"100%"}}),(0,S.jsxs)("section",{style:{padding:"0 0.8rem"},children:[(0,S.jsx)("div",{className:C.Z.search_container,style:{marginBottom:"0.6rem"},children:(0,S.jsxs)("div",{className:C.Z.search_container_text,children:[(0,S.jsx)("img",{className:C.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,S.jsx)("input",{type:"text",placeholder:v("search-label"),onChange:function(n){if(n.target.value){var t,e,i=null===z||void 0===z||null===(t=z.classes)||void 0===t||null===(e=t.ApproveStudent)||void 0===e?void 0:e.filter((function(t){var e,i,s,o,a,c;return null!==(e="".concat(null===t||void 0===t?void 0:t.studentFirstName," ").concat(null!==t&&void 0!==t&&t.studentMiddleName?(null===t||void 0===t?void 0:t.studentMiddleName)+" ":"").concat(null===t||void 0===t?void 0:t.studentLastName))&&void 0!==e&&null!==(i=e.toLowerCase())&&void 0!==i&&i.includes(null===(s=n.target.value)||void 0===s?void 0:s.toLowerCase())||null!==(o="".concat(null===t||void 0===t?void 0:t.studentGRNO))&&void 0!==o&&null!==(a=o.toLowerCase())&&void 0!==a&&a.includes(null===(c=n.target.value)||void 0===c?void 0:c.toLowerCase())?t:null}));y(i)}else{var s;y(null===z||void 0===z||null===(s=z.classes)||void 0===s?void 0:s.ApproveStudent)}},autoFocus:!0,style:{border:"0.029vw solid rgba(0, 0, 0, 0.15)",width:"450px"}})]})}),null===N||void 0===N?void 0:N.map((function(n){var t,e,i,s;return(0,S.jsxs)("section",{className:null!==I&&void 0!==I&&I.includes(null===n||void 0===n?void 0:n._id)?"".concat(C.Z.student_container," ").concat(C.Z.select_hover_active):"".concat(C.Z.student_container," ").concat(C.Z.select_hover),style:{padding:"0.6rem 0.4rem",margin:"0",justifyContent:"space-between"},children:[(0,S.jsxs)("div",{className:C.Z.student_container_text,children:[(0,S.jsx)("p",{className:C.Z.student_container_gr,style:{marginBottom:"0"},children:null!==(t=null===n||void 0===n?void 0:n.studentROLLNO)&&void 0!==t?t:""}),(0,S.jsx)("img",{src:null!==n&&void 0!==n&&n.studentProfilePhoto?"".concat(p.yI,"/").concat(null===n||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"student avatar"}),(0,S.jsxs)("div",{className:C.Z.student_container_name,children:[(0,S.jsx)("h6",{children:"".concat(null===n||void 0===n?void 0:n.studentFirstName," ").concat(null!==n&&void 0!==n&&n.studentMiddleName?null===n||void 0===n?void 0:n.studentMiddleName:""," ").concat(null===n||void 0===n?void 0:n.studentLastName)}),(0,S.jsxs)("p",{className:C.Z.student_container_gr,children:[v("gr_number")," ",null!==(e=null===n||void 0===n?void 0:n.studentGRNO)&&void 0!==e?e:"",null!==n&&void 0!==n&&null!==(i=n.class_selected_batch)&&void 0!==i&&i.batchName?", ".concat(v("batch"),": ").concat(null===n||void 0===n||null===(s=n.class_selected_batch)||void 0===s?void 0:s.batchName):null]})]})]}),(0,S.jsx)("div",{className:C.Z.student_container_text,children:null!==I&&void 0!==I&&I.includes(null===n||void 0===n?void 0:n._id)?(0,S.jsx)("img",{src:"/images/checkbox-icon.svg",alt:"icon",style:{borderRadius:"0",height:"1.5rem"},onClick:function(){return Y(null===n||void 0===n?void 0:n._id)}}):(0,S.jsx)("img",{src:"/images/box-icon.svg",alt:"icon",style:{borderRadius:"0",height:"1.5rem"},onClick:function(){return Y(null===n||void 0===n?void 0:n._id)}})})]},null===n||void 0===n?void 0:n._id)})),g&&(0,S.jsx)(r.Z,{status:"white"}),T&&(0,S.jsx)(b.Z,{})]})]})})},I=function(n){var t=n.batchId,e=n.onClose,i=n.onRefetch,s=n.masterBatchId,c=(0,a.useState)("CLASSES"),l=(0,o.Z)(c,2),d=l[0],_=l[1],r=(0,a.useState)(""),u=(0,o.Z)(r,2),h=u[0],m=u[1];return(0,S.jsx)(S.Fragment,{children:"CLASSES"===d?(0,S.jsx)(w,{batchId:s,onClose:e,onGrab:function(n){m(n),_("STUDENT")}}):(0,S.jsx)(q,{cid:null===h||void 0===h?void 0:h._id,onClose:function(){return _("CLASSES")},onCloseParent:e,onRefetch:i,batchId:t})})},E=function(n){var t,e,v,p,f,A,g=n.cid,x=n.viewAs,Z=n.masterBatchId,N=(0,m.TH)(),R=(0,c.$G)().t,y=(0,a.useState)(!1),C=(0,o.Z)(y,2),w=C[0],q=C[1],E=(0,l.YD)(),k=(0,o.Z)(E,2),B=k[0],T=k[1],D=(0,a.useState)(1),L=(0,o.Z)(D,2),M=L[0],F=L[1],P=(0,a.useState)(!0),U=(0,o.Z)(P,2),G=U[0],O=U[1],H=(0,a.useState)(!0),W=(0,o.Z)(H,2),z=W[0],V=W[1],Y=(0,a.useState)([]),J=(0,o.Z)(Y,2),Q=J[0],K=J[1],X=(0,a.useState)(!1),$=(0,o.Z)(X,2),nn=$[0],tn=$[1],en=(0,a.useState)(""),sn=(0,o.Z)(en,2),on=sn[0],an=sn[1],cn=(0,a.useState)(!1),ln=(0,o.Z)(cn,2),dn=ln[0],_n=ln[1],rn=(0,a.useState)(!1),un=(0,o.Z)(rn,2),hn=un[0],mn=un[1],vn=(0,h.UU)(),pn=(0,o.Z)(vn,1)[0],fn=(0,h.WJ)({data:{bid:null===(t=N.state)||void 0===t?void 0:t.batchId,page:M,limit:10,search:on},skip:!(null!==(e=N.state)&&void 0!==e&&e.batchId)}),An=fn.getClassBatchAllStudent,gn=fn.getClassBatchAllStudentRefetch;(0,a.useEffect)((function(){var n;null!==(n=N.state)&&void 0!==n&&n.batchId&&(V(!0),gn())}),[null===(v=N.state)||void 0===v?void 0:v.batchId,M,on,gn]),(0,a.useEffect)((function(){T&&G&&F((function(n){return n+1}))}),[T,G]),(0,a.useEffect)((function(){var n,t;nn?(K(null===An||void 0===An?void 0:An.all_students),V(!1),tn(!1)):on?(K(null===An||void 0===An?void 0:An.all_students),V(!1)):null!==An&&void 0!==An&&An.all_students?(K((function(n){var t,e;return null===(t=(0,s.Z)(new Set(null===(e=[].concat((0,s.Z)(n),(0,s.Z)(null===An||void 0===An?void 0:An.all_students)))||void 0===e?void 0:e.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),V(!1)):0===(null===An||void 0===An||null===(t=An.all_students)||void 0===t?void 0:t.length)&&V(!1);10===(null===An||void 0===An||null===(n=An.all_students)||void 0===n?void 0:n.length)?O(!0):O(!1)}),[null===An||void 0===An?void 0:An.all_students]);var bn=(0,a.useCallback)((0,u.debounce)((function(n){return an(n)}),500),[]),xn=function(){F(1),tn(!0),V(!0),gn()},Sn=function(){q((function(n){return!n}))},Zn=(0,a.useRef)(),jn=(0,a.useRef)(),Nn=function(n,t){n.stopPropagation(),Zn.current=t},Rn=function(n,t){n.stopPropagation(),jn.current=t},yn=function(n){n.stopPropagation();var t=(0,s.Z)(Q),e=t[Zn.current];t.splice(Zn.current,1),t.splice(jn.current,0,e),Zn.current=null,jn.current=null,K(t)};return(0,S.jsxs)("div",{className:_.Z.hostel_container,style:"INSTITUTE"===x?{border:"none"}:null,children:[(0,S.jsxs)("div",{className:_.Z.with_search,children:[(0,S.jsx)("h6",{children:null!==(p=null===(f=N.state)||void 0===f?void 0:f.batchName)&&void 0!==p?p:""}),(0,S.jsx)("section",{className:_.Z.search_container,children:(0,S.jsxs)("div",{className:_.Z.search_container_input,children:[(0,S.jsx)("img",{className:_.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,S.jsx)("input",{type:"text",placeholder:"Search students...",onChange:function(n){bn(n.target.value)}})]})})]}),(0,S.jsx)(d.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,S.jsxs)("div",{className:_.Z.add_container,style:{gap:"1rem"},children:[(0,S.jsx)("p",{className:_.Z.add_new_category,onClick:Sn,children:R("add_student")}),dn?(0,S.jsx)("p",{className:_.Z.add_new_category,onClick:function(){var n;mn((function(n){return!n}));var t,e=[],s=(0,i.Z)(Q);try{for(s.s();!(t=s.n()).done;){var o=t.value;e.push(null===o||void 0===o?void 0:o._id)}}catch(a){s.e(a)}finally{s.f()}pn({suffle:{shuffle_arr:e,bid:null===(n=N.state)||void 0===n?void 0:n.batchId,flow:"BATCH_WISE"}}).then((function(){xn(),_n(!1),mn((function(n){return!n}))})).catch({})},children:R("save")}):(0,S.jsx)("p",{className:_.Z.add_new_category,onClick:function(){return _n(!0)},children:R("resuffle")})]}),null===Q||void 0===Q?void 0:Q.map((function(n,t){var e,i;return(null===Q||void 0===Q?void 0:Q.length)===t+1?(0,S.jsx)("div",{ref:B,draggable:dn,onDragStart:function(n){return Nn(n,t)},onDragEnter:function(n){return Rn(n,t)},onDragEnd:yn,children:(0,S.jsx)(j,{student:n,onRefetch:xn,batchId:null===(e=N.state)||void 0===e?void 0:e.batchId})},null===n||void 0===n?void 0:n._id):(0,S.jsx)("div",{draggable:dn,onDragStart:function(n){return Nn(n,t)},onDragEnter:function(n){return Rn(n,t)},onDragEnd:yn,children:(0,S.jsx)(j,{student:n,onRefetch:xn,batchId:null===(i=N.state)||void 0===i?void 0:i.batchId},null===n||void 0===n?void 0:n._id)})})),z&&(0,S.jsx)(r.Z,{status:"white"}),w&&(0,S.jsx)(I,{onClose:Sn,cid:g,onRefetch:xn,batchId:null===(A=N.state)||void 0===A?void 0:A.batchId,masterBatchId:Z}),hn&&(0,S.jsx)(b.Z,{})]})}},15415:function(n,t,e){e(72791);var i=e(69721),s=e(15961),o=e(80184);t.Z=function(n){var t,e,a,c,l=n.setViewClass,d=n.classData,_=n.setAllotC,r=n.isView;return(0,o.jsx)(o.Fragment,{children:"ONLY_SUBJECT"===r?(0,o.jsxs)("div",{className:s.Z.admission_confirm_class_card,children:[(0,o.jsx)("img",{src:null!==d&&void 0!==d&&d.photo?"".concat(i.yI,"/").concat(null===d||void 0===d?void 0:d.photo):"/images/allot-class-icon.svg",alt:"Class Avatar",loading:"lazy"}),(0,o.jsx)("div",{className:s.Z.admission_collect_docs,style:{alignItems:"flex-start",marginTop:"0"},children:(0,o.jsx)("h6",{children:"".concat(null!==(t=null===d||void 0===d?void 0:d.className)&&void 0!==t?t:""," - ").concat(null!==(e=null===d||void 0===d?void 0:d.classTitle)&&void 0!==e?e:"")})})]}):(0,o.jsxs)("div",{className:s.Z.admission_confirm_class_card,onClick:function(){l(!0),_(d)},children:[(0,o.jsx)("img",{src:"1"!==(null===d||void 0===d?void 0:d.photoId)?"".concat(i.yI,"/").concat(null===d||void 0===d?void 0:d.photo):"/images/allot-class-icon.svg",alt:"Class Avatar",loading:"lazy"}),(0,o.jsxs)("div",{className:s.Z.admission_collect_docs,style:{alignItems:"flex-start",marginTop:"0"},children:[(0,o.jsx)("h6",{children:"".concat(null!==(a=null===d||void 0===d?void 0:d.className)&&void 0!==a?a:""," - ").concat(null!==(c=null===d||void 0===d?void 0:d.classTitle)&&void 0!==c?c:"")}),"CLASS_TEACHER"===r?null:(0,o.jsxs)("div",{className:s.Z.admission_confirm_class_count,children:[(0,o.jsxs)("p",{children:["Boys : ",null===d||void 0===d?void 0:d.boyCount]}),(0,o.jsxs)("p",{children:["Girls : ",null===d||void 0===d?void 0:d.girlCount]})]})]})]})})}},80272:function(n,t){t.Z={string_container:"StringLength_string_container__v6b--",mark_container:"StringLength_mark_container__KQsQy"}},15961:function(n,t){t.Z={admission_application_container:"AdmissionApplicationRequest_admission_application_container__iMsyZ",moderator_container_title:"AdmissionApplicationRequest_moderator_container_title__5WiPB",with_search:"AdmissionApplicationRequest_with_search__mm0Q+",search_container:"AdmissionApplicationRequest_search_container__3swMB",search_container_input:"AdmissionApplicationRequest_search_container_input__InEPj",searchIcon:"AdmissionApplicationRequest_searchIcon__RdABM",search_container_filter:"AdmissionApplicationRequest_search_container_filter__fEHEF",remainingFees:"AdmissionApplicationRequest_remainingFees__X9g5z",ongoing_card:"AdmissionApplicationRequest_ongoing_card__1TVLc",ongoing_card_inner:"AdmissionApplicationRequest_ongoing_card_inner__1Gato",ongoing_card_text:"AdmissionApplicationRequest_ongoing_card_text__AKxnS",menu_icon:"AdmissionApplicationRequest_menu_icon__F3nQo",add_new_category:"AdmissionApplicationRequest_add_new_category__ZTInw",applicant_card_container:"AdmissionApplicationRequest_applicant_card_container__7UN2C",applicant_card_container_hover:"AdmissionApplicationRequest_applicant_card_container_hover__mP-Wa",applicant_card_container_active:"AdmissionApplicationRequest_applicant_card_container_active__5VW5x",applicant_card_inner:"AdmissionApplicationRequest_applicant_card_inner__kSbmI",applicant_card_inner_info:"AdmissionApplicationRequest_applicant_card_inner_info__8POe8",applicant_card_contact:"AdmissionApplicationRequest_applicant_card_contact__Ipapl",applicant_card_contact_inner:"AdmissionApplicationRequest_applicant_card_contact_inner__dDeFH",application_button:"AdmissionApplicationRequest_application_button__a2s6z",selectAppBtnContainer:"AdmissionApplicationRequest_selectAppBtnContainer__d0wD6",selectBtnContainer:"AdmissionApplicationRequest_selectBtnContainer__Si3QU",selectBtn:"AdmissionApplicationRequest_selectBtn__A0SVG",cancelledBtn:"AdmissionApplicationRequest_cancelledBtn__wEX7V",notConfirmedBtn:"AdmissionApplicationRequest_notConfirmedBtn__wZb02",onlineBtn:"AdmissionApplicationRequest_onlineBtn__v+gwq",cancelStatus:"AdmissionApplicationRequest_cancelStatus__qYDFg",checkbox:"AdmissionApplicationRequest_checkbox__tlbdN",back_icon:"AdmissionApplicationRequest_back_icon__gIdbd",receipt_requested_btn:"AdmissionApplicationRequest_receipt_requested_btn__stgcE",not_confirm_container:"AdmissionApplicationRequest_not_confirm_container__+r4pJ",applicant_profile:"AdmissionApplicationRequest_applicant_profile__kHoFd",applicant_profile_text:"AdmissionApplicationRequest_applicant_profile_text__wgySz",button_group:"AdmissionApplicationRequest_button_group__LKrUN",admission_collect_docs:"AdmissionApplicationRequest_admission_collect_docs__+-jUT",confirm_btn:"AdmissionApplicationRequest_confirm_btn__njvM8",admission_modal:"AdmissionApplicationRequest_admission_modal__a3Dx6",admission_modal_heading:"AdmissionApplicationRequest_admission_modal_heading__7i6gM",admission_fees_row:"AdmissionApplicationRequest_admission_fees_row__Ykj39",admission_confirm_class_card:"AdmissionApplicationRequest_admission_confirm_class_card__Ytr77",admission_confirm_batch_card:"AdmissionApplicationRequest_admission_confirm_batch_card__Cuven",admission_confirm_class_count:"AdmissionApplicationRequest_admission_confirm_class_count__P-bt1",admission_class_confirm:"AdmissionApplicationRequest_admission_class_confirm__SMLDh",mulitple_select_btn:"AdmissionApplicationRequest_mulitple_select_btn__WOWDd",end_btn:"AdmissionApplicationRequest_end_btn__vgxwG",admission_mulit_select:"AdmissionApplicationRequest_admission_mulit_select__ggFWa",admission_mulit_select_right:"AdmissionApplicationRequest_admission_mulit_select_right__K51Rw",os_reminder:"AdmissionApplicationRequest_os_reminder__AHp8F",os_filter_container:"AdmissionApplicationRequest_os_filter_container__Ck0gz",ongoing_card_count_date:"AdmissionApplicationRequest_ongoing_card_count_date__xi1+1",ongoing_card_count_container:"AdmissionApplicationRequest_ongoing_card_count_container__af9uG",applicant_card_reciept:"AdmissionApplicationRequest_applicant_card_reciept__QR+Ho",transfer_container:"AdmissionApplicationRequest_transfer_container__y5X5q",transfer_select_btn:"AdmissionApplicationRequest_transfer_select_btn__u8NkN",remove_btn:"AdmissionApplicationRequest_remove_btn__Lmhuv"}},44820:function(n,t){t.Z={moderator_container:"AdmissionScholarship_moderator_container__GUbIQ",moderator_container_title:"AdmissionScholarship_moderator_container_title__MbN+U",add_new_moderator:"AdmissionScholarship_add_new_moderator__MGNeH",menu_icon:"AdmissionScholarship_menu_icon__B9YVN",scholarship_card_container:"AdmissionScholarship_scholarship_card_container__YiX+2",assign_role_container:"AdmissionScholarship_assign_role_container__KLSzY",assign_role_title:"AdmissionScholarship_assign_role_title__nA6OZ",applicable_to_btn:"AdmissionScholarship_applicable_to_btn__n25MI",category_card:"AdmissionScholarship_category_card__kRdxE",category_card_hover_active:"AdmissionScholarship_category_card_hover_active__XXJS8",scholar_preview_container:"AdmissionScholarship_scholar_preview_container__K0hzS",candidate_card_container:"AdmissionScholarship_candidate_card_container__1Lc04",candidate_card_container_text:"AdmissionScholarship_candidate_card_container_text__zUgxy",candidate_card_row:"AdmissionScholarship_candidate_card_row__hDYoA",student_container:"AdmissionScholarship_student_container__Ry2e1",route_container:"AdmissionScholarship_route_container__wEm3e",student_container_text:"AdmissionScholarship_student_container_text__KwIJo",student_container_name:"AdmissionScholarship_student_container_name__bfrbV",search_container:"AdmissionScholarship_search_container__2ENBd",search_container_text:"AdmissionScholarship_search_container_text__X17qk",search_container_input:"AdmissionScholarship_search_container_input__QSRll",searchIcon:"AdmissionScholarship_searchIcon__YPa6A",allot_container:"AdmissionScholarship_allot_container__iJKiV",unused_container:"AdmissionScholarship_unused_container__i6a51",unused_container_text:"AdmissionScholarship_unused_container_text__KuIrZ",unused_container_text_inner:"AdmissionScholarship_unused_container_text_inner__D+gFH",intake_history:"AdmissionScholarship_intake_history__iDyMU",corpus_card:"AdmissionScholarship_corpus_card__bOH21",recieve_from:"AdmissionScholarship_recieve_from__yNMCX",save_entry:"AdmissionScholarship_save_entry__eYyIF",row_search:"AdmissionScholarship_row_search__5fuBb",with_search:"AdmissionScholarship_with_search__xsHhZ",search_container_filter:"AdmissionScholarship_search_container_filter__IiiOs",edit_btn:"AdmissionScholarship_edit_btn__qF3Jg",upload_excel_file:"AdmissionScholarship_upload_excel_file__nkxKf",student_table:"AdmissionScholarship_student_table__ZpE3f",student_table_header:"AdmissionScholarship_student_table_header__ErkoZ",student_table_header_label:"AdmissionScholarship_student_table_header_label__dQ+Vq",student_table_content_card:"AdmissionScholarship_student_table_content_card__mmiv4",student_table_profile:"AdmissionScholarship_student_table_profile__Ak4+x",student_table_header_name:"AdmissionScholarship_student_table_header_name__xAxgH",student_table_header_label_text:"AdmissionScholarship_student_table_header_label_text__AuJCV",student_table_contact:"AdmissionScholarship_student_table_contact__5nWX+",student_table_contact_email:"AdmissionScholarship_student_table_contact_email__daQ9J",student_table_contact_number:"AdmissionScholarship_student_table_contact_number__zN4WT",button_container:"AdmissionScholarship_button_container__a0HXK",next_btn:"AdmissionScholarship_next_btn__iHJSQ",select_hover:"AdmissionScholarship_select_hover__1++hd",select_hover_active:"AdmissionScholarship_select_hover_active__Esmn5",os_filter_container:"AdmissionScholarship_os_filter_container__nAIWN",os_reminder:"AdmissionScholarship_os_reminder__Hb6hi",next_student_btn:"AdmissionScholarship_next_student_btn__kbhv7"}}}]);
//# sourceMappingURL=4037.d9c16992.chunk.js.map