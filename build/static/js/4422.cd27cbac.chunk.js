"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[4422],{63687:function(e,n,i){var l=i(59393),t=i(80184);n.Z=function(e){var n=e.customStyle,i=e.children;return(0,t.jsx)("div",{className:l.Z.user_member_container_wrapper,style:n,children:i})}},24422:function(e,n,i){i.r(n),i.d(n,{default:function(){return L}});var l=i(93433),t=i(1413),o=i(29439),d=i(98684),u=i(90904),s=i(33030),r=i(23984),a=i(63687),v=i(21348),c=i(72791),f=i(39230),m=i(56959),_=i(1669),x=i(2651),h=i(55336),y=i(16871),g=i(6758),Z=i(1721),p=i(80184),j=function(e){var n,i,l,t,o,d,u=e.state,s=e.student,r=e.onMarkOffline,a=e.onMarkExempt;return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:Z.Z.ifdl_card,children:[(0,p.jsxs)("h6",{children:[null!==(n=null===s||void 0===s?void 0:s.studentROLLNO)&&void 0!==n?n:"","."]}),(0,p.jsxs)("h6",{children:[null!==(i=null===s||void 0===s?void 0:s.studentFirstName)&&void 0!==i?i:""," ",null!==s&&void 0!==s&&s.studentMiddleName?null===s||void 0===s?void 0:s.studentMiddleName:" "," ",null!==(l=null===s||void 0===s?void 0:s.studentLastName)&&void 0!==l?l:""]}),(0,p.jsx)("img",{src:null!==u&&void 0!==u&&null!==(t=u.exemptQuery)&&void 0!==t&&t.includes(null===s||void 0===s?void 0:s._id)?"/images/radio-active.svg":"/images/radio-disabled.svg",alt:"icon",onClick:function(){a(null===s||void 0===s?void 0:s._id)}}),(0,p.jsx)("img",{src:null!==u&&void 0!==u&&null!==(o=u.onlineList)&&void 0!==o&&o.includes(null===s||void 0===s?void 0:s._id)?"/images/radio-active.svg":"/images/radio-disabled.svg",alt:"icon"}),(0,p.jsx)("img",{src:null!==u&&void 0!==u&&null!==(d=u.offlineQuery)&&void 0!==d&&d.includes(null===s||void 0===s?void 0:s._id)?"/images/radio-active.svg":"/images/radio-disabled.svg",alt:"icon",onClick:function(){r(null===s||void 0===s?void 0:s._id)}})]})})},Q=function(e){var n=e.students,i=e.state,o=e.setState,d=(0,f.$G)().t,u=function(e){o((function(n){var i,o,d,u;return(0,t.Z)((0,t.Z)({},n),{},{offlineQuery:null!==n&&void 0!==n&&null!==(i=n.offlineQuery)&&void 0!==i&&i.includes(e)?null===n||void 0===n||null===(o=n.offlineQuery)||void 0===o?void 0:o.filter((function(n){return n!==e})):[].concat((0,l.Z)(null===n||void 0===n?void 0:n.offlineQuery),[e]),exemptQuery:null!==n&&void 0!==n&&null!==(d=n.exemptQuery)&&void 0!==d&&d.includes(e)?null===n||void 0===n||null===(u=n.exemptQuery)||void 0===u?void 0:u.filter((function(n){return n!==e})):null===n||void 0===n?void 0:n.exemptQuery})}))},s=function(e){o((function(n){var i,o,d,u;return(0,t.Z)((0,t.Z)({},n),{},{offlineQuery:null!==n&&void 0!==n&&null!==(i=n.offlineQuery)&&void 0!==i&&i.includes(e)?null===n||void 0===n||null===(o=n.offlineQuery)||void 0===o?void 0:o.filter((function(n){return n!==e})):null===n||void 0===n?void 0:n.offlineQuery,exemptQuery:null!==n&&void 0!==n&&null!==(d=n.exemptQuery)&&void 0!==d&&d.includes(e)?null===n||void 0===n||null===(u=n.exemptQuery)||void 0===u?void 0:u.filter((function(n){return n!==e})):[].concat((0,l.Z)(null===n||void 0===n?void 0:n.exemptQuery),[e])})}))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:Z.Z.ifdl_heading,children:[(0,p.jsx)("h6",{children:d("roll_no")}),(0,p.jsx)("h6",{children:d("name")}),(0,p.jsx)("h6",{children:d("exemted")}),(0,p.jsx)("h6",{children:d("online")}),(0,p.jsx)("h6",{children:d("offline")})]}),null===n||void 0===n?void 0:n.map((function(e){return(0,p.jsx)(j,{student:e,state:i,onMarkOffline:u,onMarkExempt:s})}))]})},L=function(e){var n,i,Z,j,L,k,S,F,C,b=e.fid,I=(0,f.$G)().t,w=(0,y.TH)(),M=(0,c.useState)(""),q=(0,o.Z)(M,2),O=q[0],T=q[1],E=(0,c.useState)(!1),A=(0,o.Z)(E,2),G=A[0],B=A[1],D=(0,c.useState)({offlineQuery:[],exemptQuery:[]}),R=(0,o.Z)(D,2),$=R[0],H=R[1],K=(0,c.useState)({offlineQuery:[],exemptQuery:[],onlineList:[]}),P=(0,o.Z)(K,2),Y=P[0],z=P[1],J=(0,c.useState)([]),U=(0,o.Z)(J,2),V=U[0],W=U[1],X=(0,g.Pj)(),ee=(0,o.Z)(X,1)[0],ne=(0,g.Sx)({fsid:null===(n=w.state)||void 0===n?void 0:n.fsid,skip:!(null!==(i=w.state)&&void 0!==i&&i.fsid)}),ie=ne.financeInternalFeesDetail,le=ne.financeInternalFeesDetailLoading;(0,c.useEffect)((function(){var e,n;null!==ie&&void 0!==ie&&null!==(e=ie.all_students)&&void 0!==e&&e.length&&W(null===ie||void 0===ie?void 0:ie.all_students),null!==ie&&void 0!==ie&&null!==(n=ie.one_fees)&&void 0!==n&&n._id&&(z((function(e){var n,i,l;return(0,t.Z)((0,t.Z)({},e),{},{offlineQuery:null===ie||void 0===ie||null===(n=ie.one_fees)||void 0===n?void 0:n.offlineStudentsList,exemptQuery:null===ie||void 0===ie||null===(i=ie.one_fees)||void 0===i?void 0:i.exemptList,onlineList:null===ie||void 0===ie||null===(l=ie.one_fees)||void 0===l?void 0:l.onlineList})})),W(null===ie||void 0===ie?void 0:ie.all_students))}),[null===ie||void 0===ie?void 0:ie.all_students,null===ie||void 0===ie||null===(Z=ie.one_fees)||void 0===Z?void 0:Z._id,null===ie||void 0===ie||null===(j=ie.one_fees)||void 0===j?void 0:j.offlineStudentsList,null===ie||void 0===ie||null===(L=ie.one_fees)||void 0===L?void 0:L.exemptList,null===ie||void 0===ie||null===(k=ie.one_fees)||void 0===k?void 0:k.onlineList]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(a.Z,{children:[(0,p.jsx)(v.Z,{children:(0,p.jsxs)("div",{className:m.Z.fm_header_container,children:[(0,p.jsx)("h6",{children:null!==(S=null===(F=w.state)||void 0===F?void 0:F.feesName)&&void 0!==S?S:""}),(0,p.jsx)("div",{className:m.Z.fm_search,children:(0,p.jsx)("section",{className:m.Z.fm_search_container,children:(0,p.jsxs)("div",{className:m.Z.fm_search_container_inner,children:[(0,p.jsx)("img",{className:m.Z.fm_search_icon,alt:"search icon",src:"".concat(d.dB,"/navbar-search.svg")}),(0,p.jsx)("input",{type:"text",placeholder:I("search"),onChange:function(e){if(e.target.value){var n=N(null===ie||void 0===ie?void 0:ie.all_students,e.target.value);W((function(){return n})),T(e.target.value)}else W(null===ie||void 0===ie?void 0:ie.all_students),T("")}})]})})})]})}),(0,p.jsx)(u.Z,{}),(0,p.jsxs)(v.Z,{customStyle:{paddingTop:"0"},children:[(0,p.jsx)(r.Z,{children:(0,p.jsx)(s.Z,{label:"collect_fees",onAction:function(){var e,n,i,l;b&&null!==(e=w.state)&&void 0!==e&&e.fsid&&((null===(n=$.exemptQuery)||void 0===n?void 0:n.length)>0||(null===(i=$.offlineQuery)||void 0===i?void 0:i.length)>0)&&(B((function(e){return!e})),ee({fid:b,fsid:null===(l=w.state)||void 0===l?void 0:l.fsid,internalFees:$}).then((function(){H({offlineQuery:[],exemptQuery:[]}),B((function(e){return!e}))})).catch({}))}})}),(0,p.jsx)(Q,{students:V,state:{offlineQuery:[].concat((0,l.Z)($.offlineQuery),(0,l.Z)(Y.offlineQuery)),exemptQuery:[].concat((0,l.Z)($.exemptQuery),(0,l.Z)(Y.exemptQuery)),onlineList:Y.onlineList},setState:H}),le?O?(0,p.jsx)(h.Z,{}):(0,p.jsx)(_.Z,{}):O?!(null!==V&&void 0!==V&&V.length)&&(0,p.jsx)(x.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No student fuond related this search."}):!(null!==ie&&void 0!==ie&&null!==(C=ie.all_students)&&void 0!==C&&C.length)&&(0,p.jsx)(x.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No student found."})]})]}),G&&(0,p.jsx)(h.Z,{})]})},N=function(e,n){return null===e||void 0===e?void 0:e.filter((function(e){var i,l,t,o;return null!==e&&void 0!==e&&null!==(i=e.valid_full_name)&&void 0!==i&&null!==(l=i.toLowerCase())&&void 0!==l&&l.includes(null===n||void 0===n?void 0:n.toLowerCase())||null!==e&&void 0!==e&&null!==(t=e.studentGRNO)&&void 0!==t&&null!==(o=t.toLowerCase())&&void 0!==o&&o.includes(null===n||void 0===n?void 0:n.toLowerCase())?e:null}))}},1721:function(e,n){n.Z={exam_card_container:"InternalFees_exam_card_container__7EYIa",exam_inner_text:"InternalFees_exam_inner_text__Mk3l1",fees_image:"InternalFees_fees_image__B+pAv",ifdl_heading:"InternalFees_ifdl_heading__gaTqK",ifdl_card:"InternalFees_ifdl_card__sAxqq"}}}]);
//# sourceMappingURL=4422.cd27cbac.chunk.js.map