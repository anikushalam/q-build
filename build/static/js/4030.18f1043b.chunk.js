"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[4030],{39911:function(e,t,n){n.d(t,{Z:function(){return A}});var i=n(93433),d=n(29439),l=n(72791),o=n(29407),s=n(23441),a=n(29017),u=n(72426),r=n.n(u),c=n(98734),v=n(12072),_=n(84489),m=n(87049),f=n(39230),h=n(97655),x=n(98094),p=n(80184),N=function(e){var t,n=e.onEdit,i=e.xlsxId,o=(0,f.$G)().t,s=(0,l.useState)(null!==(t=null===i||void 0===i?void 0:i.excel_file_name)&&void 0!==t?t:""),a=(0,d.Z)(s,2),u=a[0],r=a[1],c=(0,l.useState)(""),v=(0,d.Z)(c,2),_=v[0],N=v[1];(0,l.useEffect)((function(){var e;r(null!==(e=null===i||void 0===i?void 0:i.excel_file_name)&&void 0!==e?e:"")}),[null===i||void 0===i?void 0:i.excel_file_name]);return(0,p.jsxs)("div",{style:{width:"20rem",minHeight:"10rem",padding:"1rem"},children:[(0,p.jsx)("h6",{children:o("update_excel_name")}),(0,p.jsx)(x.Z,{customStyle:{width:"100%"}}),(0,p.jsx)(h.Z,{labelText:o("excel_name"),placeholder:o("excel_name_plcaeholder"),value:u,name:"excelName",type:"text",onChange:function(e){return r(e.target.value)},errorShow:_.excelName}),(0,p.jsx)("button",{className:m.Z.xlsx_update_btn,title:"Add fees head",onClick:function(){u?n(u):N({excelName:"excelName is required"})},style:{justifyContent:"center",marginTop:"1rem"},children:o("update")})]})},Z=function(e){var t=e.onClose,n=e.xlsxId,i=e.onRefetch,o=e.instituteId,s=(0,l.useState)(!1),u=(0,d.Z)(s,2),r=u[0],f=u[1],h=(0,l.useState)(!1),x=(0,d.Z)(h,2),Z=x[0],j=x[1],C=(0,a.f_)(),A=(0,d.Z)(C,1)[0],g=(0,a.JD)(),S=(0,d.Z)(g,1)[0];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(_.Z,{onClose:t}),(0,p.jsxs)(v.Z,{customStyle:{zIndex:"1200"},children:[Z?(0,p.jsx)(N,{xlsxId:n,onEdit:function(e){f((function(e){return!e})),S({aid:o,xlsxId:null===n||void 0===n?void 0:n._id,excelUpdate:{excel_file_name:e}}).then((function(){i(),f((function(e){return!e})),t()})).catch({})}}):(0,p.jsxs)("div",{className:m.Z.edit_modal_container,style:{width:"200px"},children:[(0,p.jsx)("h6",{className:m.Z.edit,onClick:function(){return j((function(e){return!e}))},children:"Edit"}),(0,p.jsx)("h6",{className:m.Z.remove,onClick:function(){f((function(e){return!e})),A({aid:o,xlsxId:null===n||void 0===n?void 0:n._id}).then((function(){i(),t(),f((function(e){return!e}))})).catch({})},children:"Delete"})]}),r&&(0,p.jsx)(c.Z,{})]})]})},j=n(11105),C=n(65543),A=function(e){var t=e.instituteId,n=(0,s.YD)(),u=(0,d.Z)(n,2),c=u[0],v=u[1],_=(0,l.useState)(1),m=(0,d.Z)(_,2),f=m[0],h=m[1],x=(0,l.useState)(!0),N=(0,d.Z)(x,2),A=N[0],g=N[1],S=(0,l.useState)(!1),k=(0,d.Z)(S,2),b=k[0],y=k[1],R=(0,l.useState)(!0),I=(0,d.Z)(R,2),B=I[0],D=I[1],E=(0,l.useState)([]),P=(0,d.Z)(E,2),w=P[0],M=P[1],T=(0,l.useState)(!1),F=(0,d.Z)(T,2),O=F[0],q=F[1],G=(0,a.Ke)({data:{aid:t,page:f,limit:10},skip:!t}),V=G.getAllExcelByAdmissionAdmin,J=G.getAllExcelByAdmissionAdminRefetch,H=(0,C.u)().scrollToTop;(0,l.useEffect)((function(){H()}),[]),(0,l.useEffect)((function(){t&&(D(!0),J())}),[t,f,J]),(0,l.useEffect)((function(){v&&A&&h((function(e){return e+1}))}),[v,A]),(0,l.useEffect)((function(){var e,t;b?(M(null===V||void 0===V?void 0:V.all_excel),y(!1),D(!1)):null!==V&&void 0!==V&&V.all_excel?(M((function(e){var t,n;return null===(t=(0,i.Z)(new Set(null===(n=[].concat((0,i.Z)(e),(0,i.Z)(null===V||void 0===V?void 0:V.all_excel)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),D(!1)):0===(null===V||void 0===V||null===(t=V.all_excel)||void 0===t?void 0:t.length)&&D(!1);10===(null===V||void 0===V||null===(e=V.all_excel)||void 0===e?void 0:e.length)?g(!0):g(!1)}),[null===V||void 0===V?void 0:V.all_excel]);return(0,p.jsxs)("div",{className:o.Z.refund_list,children:[null===w||void 0===w?void 0:w.map((function(e,t){var n,i;return(null===w||void 0===w?void 0:w.length)===t+1?(0,p.jsxs)("a",{ref:c,className:o.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,p.jsx)("img",{src:"/images/export-xsxl-icon.svg",alt:""}),(0,p.jsxs)("section",{className:o.Z.export_card_text,children:[(0,p.jsx)("h6",{children:null!==(n=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==n?n:""}),(0,p.jsxs)("div",{className:o.Z.export_card_date,children:[(0,p.jsx)("h6",{children:r()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,p.jsx)("h6",{children:r()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]}),(0,p.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(t){t.preventDefault(),q(e)},className:o.Z.menu_icon,title:"Menu"})]},null===e||void 0===e?void 0:e._id):(0,p.jsxs)("a",{className:o.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,p.jsx)("img",{src:"/images/export-xsxl-icon.svg",alt:""}),(0,p.jsxs)("section",{className:o.Z.export_card_text,children:[(0,p.jsx)("h6",{children:null!==(i=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==i?i:""}),(0,p.jsxs)("div",{className:o.Z.export_card_date,children:[(0,p.jsx)("h6",{children:r()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,p.jsx)("h6",{children:r()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]}),(0,p.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(t){t.preventDefault(),q(e)},className:o.Z.menu_icon,title:"Menu"})]},null===e||void 0===e?void 0:e._id)})),B&&(0,p.jsx)(j.Z,{}),O&&(0,p.jsx)(Z,{xlsxId:O,onClose:function(){return q("")},onRefetch:function(){h(1),J(),y(!0)},instituteId:t})]})}},45070:function(e,t,n){n.d(t,{Z:function(){return S}});var i=n(1413),d=n(29439),l=n(72791),o="IdCardSection_id_container__lY52g",s="IdCardSection_id_container_full__p2tp-",a="IdCardSection_id_container_width__7CfGC",u="IdCardSection_selectClass__-+xRU",r="IdCardSection_selectClassleft__AUZq-",c="IdCardSection_exportbtn__Q57Nv",v=n(41233),_=n(33992),m=n(39230),f=n(98734),h=n(98472),x=n(37762),p=n(93433),N=n(33148),Z=n(98094),j=n(11105),C=n(80184),A=function(e){var t,n,o=e.departmentId,s=e.selectedClasses,a=e.setState,u=e.setStudentData,r=e.setIsZip,c=(0,m.$G)().t,v=(0,l.useState)([]),f=(0,d.Z)(v,2),h=f[0],A=f[1],g=(0,l.useState)(!1),S=(0,d.Z)(g,2),k=S[0],b=S[1],y=(0,l.useState)(!0),R=(0,d.Z)(y,2),I=R[0],B=R[1],D=(0,_._C)({did:o,skip:!o}),E=D.oneDepartment,P=D.oneDepartmentRefetch;(0,l.useEffect)((function(){o&&(A([]),b(!1),B(!0),P())}),[o,P]),(0,l.useEffect)((function(){var e,t,n,i,d;null!==E&&void 0!==E&&null!==(e=E.department)&&void 0!==e&&null!==(t=e.departmentSelectBatch)&&void 0!==t&&t.classroom&&(A(null!==(n=null===E||void 0===E||null===(i=E.department)||void 0===i||null===(d=i.departmentSelectBatch)||void 0===d?void 0:d.classroom)&&void 0!==n?n:[]),B(!1))}),[null===E||void 0===E||null===(t=E.department)||void 0===t||null===(n=t.departmentSelectBatch)||void 0===n?void 0:n.classroom]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:N.Z.with_search,style:{width:"100%",border:"0.4px solid rgba(0, 0, 0, 0.15)",borderRadius:"4px"},children:(0,C.jsxs)("div",{className:N.Z.search_container_input,style:{width:"100%"},children:[(0,C.jsx)("img",{className:N.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,C.jsx)("input",{type:"text",placeholder:"Search classes...",style:{width:"100%"}})]})}),(0,C.jsxs)("div",{className:N.Z.counts,children:[(0,C.jsxs)("p",{children:[(null===s||void 0===s?void 0:s.length)>0?s.length:""," selected"]}),(0,C.jsx)("p",{style:{cursor:"pointer"},onClick:k?function(){a((function(e){return(0,i.Z)((0,i.Z)({},e),{},{classes:[],studentCount:0})})),b(!1)}:function(){var e,t;u([]),r(!1);var n,d=[],l=0,o=(0,x.Z)(null===E||void 0===E||null===(e=E.department)||void 0===e||null===(t=e.departmentSelectBatch)||void 0===t?void 0:t.classroom);try{for(o.s();!(n=o.n()).done;){var s,c=n.value;d.push(null===c||void 0===c?void 0:c._id),l+=null===c||void 0===c||null===(s=c.ApproveStudent)||void 0===s?void 0:s.length}}catch(v){o.e(v)}finally{o.f()}a((function(e){return(0,i.Z)((0,i.Z)({},e),{},{classes:d,studentCount:l})})),b(!0)},children:c(k?"all_remove":"select_all")})]}),(0,C.jsxs)("div",{className:N.Z.items,children:[null===h||void 0===h?void 0:h.map((function(e){return(0,C.jsxs)("div",{onClick:function(){return t=e,u([]),r(!1),void(null!==s&&void 0!==s&&s.includes(null===t||void 0===t?void 0:t._id)?a((function(e){var n,d;return(0,i.Z)((0,i.Z)({},e),{},{classes:null===(n=e.classes)||void 0===n?void 0:n.filter((function(e){return e!==(null===t||void 0===t?void 0:t._id)})),studentCount:(null===e||void 0===e?void 0:e.studentCount)-(null===t||void 0===t||null===(d=t.ApproveStudent)||void 0===d?void 0:d.length)})})):a((function(e){var n;return(0,i.Z)((0,i.Z)({},e),{},{classes:[].concat((0,p.Z)(e.classes),[null===t||void 0===t?void 0:t._id]),studentCount:(null===e||void 0===e?void 0:e.studentCount)+(null===t||void 0===t||null===(n=t.ApproveStudent)||void 0===n?void 0:n.length)})})));var t},children:[(0,C.jsxs)("div",{className:N.Z.itemm,children:[(0,C.jsx)("div",{className:N.Z.subItem,children:null===e||void 0===e?void 0:e.classTitle}),null!==s&&void 0!==s&&s.includes(null===e||void 0===e?void 0:e._id)?(0,C.jsx)("img",{className:N.Z.checkbox,src:"/images/checkbox-icon.svg",alt:"icon"}):(0,C.jsx)("img",{className:N.Z.checkbox,src:"/images/box-icon.svg",alt:"icon"})]}),(0,C.jsx)(Z.Z,{customStyle:{width:"100%"}})]},null===e||void 0===e?void 0:e._id)})),I&&(0,C.jsx)(j.Z,{status:"white"})]})]})},g=n(73343),S=function(e){var t,n,x,p,N,Z,j=e.instituteId,S=(0,m.$G)().t,k=(0,l.useState)(!1),b=(0,d.Z)(k,2),y=b[0],R=b[1],I=(0,l.useState)({department:"",classes:[],studentCount:0}),B=(0,d.Z)(I,2),D=B[0],E=B[1],P=(0,l.useState)([]),w=(0,d.Z)(P,2),M=w[0],T=w[1],F=(0,l.useState)(!1),O=(0,d.Z)(F,2),q=O[0],G=O[1],V=(0,l.useState)(!1),J=(0,d.Z)(V,2),H=(J[0],J[1]),L=(0,_.SM)({id:j,skip:!j}),U=L.allDepartment,z=L.allDepartmentRefetch,W=(0,g.J0)(),$=(0,d.Z)(W,1)[0];(0,l.useEffect)((function(){j&&z()}),[j,z]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:o,children:[(0,C.jsxs)("div",{className:q?a:s,children:[(0,C.jsx)("h4",{children:S("id_cards")}),(0,C.jsx)(v.Z,{selectLabel:S("select_department"),selectedValue:S("plz_select_dept"),options:null!==(t=null===U||void 0===U||null===(n=U.institute)||void 0===n?void 0:n.depart)&&void 0!==t?t:[],onClick:function(e){E((function(t){return(0,i.Z)((0,i.Z)({},t),{},{department:e,classes:[],studentCount:0})})),T([]),H(!1)},openAs:"PROMOTE"}),(0,C.jsxs)("div",{className:u,onClick:function(){G((function(e){return!e}))},children:[(0,C.jsx)("div",{className:r,children:(null===(x=D.classes)||void 0===x?void 0:x.length)>0?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("h6",{children:[null===(p=D.classes)||void 0===p?void 0:p.length," ",S("classes_selected")]}),(0,C.jsxs)("p",{children:[D.studentCount," ",S("student_data_required")]})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("h6",{children:S("select_classes")}),(0,C.jsx)("p",{children:S("student_data")})]})}),(0,C.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"icon"})]}),M.length>0?(0,C.jsx)(h.CSVLink,{data:M,filename:"".concat(null===(N=D.department)||void 0===N?void 0:N.dName,"-id-card.csv"),children:(0,C.jsx)("div",{className:c,children:S("export_data")})}):(0,C.jsx)("div",{className:c,onClick:function(){var e;(null===(e=D.classes)||void 0===e?void 0:e.length)>0&&(R(!0),$({request:D.classes,id:j}).then((function(e){var t,n;H(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.stats),T((null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.student_card).map((function(e){var t,n;return{GRNo:null===e||void 0===e?void 0:e.studentGRNO,Name:(null===e||void 0===e?void 0:e.studentFirstName)+" "+(null===e||void 0===e?void 0:e.studentMiddleName)+" "+(null===e||void 0===e?void 0:e.studentLastName),Gender:null===e||void 0===e?void 0:e.studentGender,MotherName:null!==e&&void 0!==e&&e.studentMotherName?null===e||void 0===e?void 0:e.studentMotherName:"NA",DOB:null!==e&&void 0!==e&&e.studentDOB?null===e||void 0===e?void 0:e.studentDOB:"NA","Blood Group":null!==e&&void 0!==e&&e.student_blood_group?null===e||void 0===e?void 0:e.student_blood_group:"NA","Caste Category":null!==e&&void 0!==e&&e.studentCastCategory?null===e||void 0===e?void 0:e.studentCastCategory:"NA",Religion:null!==e&&void 0!==e&&e.studentReligion?null===e||void 0===e?void 0:e.studentReligion:"NA",BirthPlace:null!==e&&void 0!==e&&e.studentBirthPlace?null===e||void 0===e?void 0:e.studentBirthPlace:"NA",Address:null!==e&&void 0!==e&&e.studentAddress?null===e||void 0===e?void 0:e.studentAddress:"NA",ParentsName:null!==e&&void 0!==e&&e.studentParentsName?null===e||void 0===e?void 0:e.studentParentsName:"NA","Parent's Contact":null!==e&&void 0!==e&&e.studentParentsPhoneNumber?null===e||void 0===e?void 0:e.studentParentsPhoneNumber:"NA",State:null!==e&&void 0!==e&&e.studentState?null===e||void 0===e?void 0:e.studentState:"NA",District:null!==e&&void 0!==e&&e.studentDistrict?null===e||void 0===e?void 0:e.studentDistrict:"NA",Nationality:null!==e&&void 0!==e&&e.studentNationality?null===e||void 0===e?void 0:e.studentNationality:"NA",Class:null===e||void 0===e||null===(t=e.studentClass)||void 0===t?void 0:t.classTitle,Contact:null===e||void 0===e?void 0:e.studentPhoneNumber,Email:null===e||void 0===e?void 0:e.studentEmail,AdmissionDate:null===e||void 0===e||null===(n=e.studentAdmissionDate)||void 0===n?void 0:n.split("T")[0],AadharNumber:null!==e&&void 0!==e&&e.studentAadharNumber?null===e||void 0===e?void 0:e.studentAadharNumber:"NA","Mother Tongue":null!==e&&void 0!==e&&e.studentMTongue?null===e||void 0===e?void 0:e.studentMTongue:"NA",Caste:null!==e&&void 0!==e&&e.studentCast?null===e||void 0===e?void 0:e.studentCast:"NA","Current Address":null!==e&&void 0!==e&&e.studentCurrentAddress?null===e||void 0===e?void 0:e.studentCurrentAddress:"NA","Father Ration Color":null!==e&&void 0!==e&&e.studentFatherRationCardColor?null===e||void 0===e?void 0:e.studentFatherRationCardColor:"NA","Parent's Occupation":null!==e&&void 0!==e&&e.studentParentsOccupation?null===e||void 0===e?void 0:e.studentParentsOccupation:"NA","Parent's Annual Income":null!==e&&void 0!==e&&e.studentParentsAnnualIncom?null===e||void 0===e?void 0:e.studentParentsAnnualIncom:"NA","Previous School":null!==e&&void 0!==e&&e.studentPreviousSchool?null===e||void 0===e?void 0:e.studentPreviousSchool:"NA","Bank Name":null!==e&&void 0!==e&&e.studentBankName?null===e||void 0===e?void 0:e.studentBankName:"NA","Bank Account":null!==e&&void 0!==e&&e.studentBankAccount?null===e||void 0===e?void 0:e.studentBankAccount:"NA","Bank Holder Name":null!==e&&void 0!==e&&e.studentBankAccountHolderName?null===e||void 0===e?void 0:e.studentBankAccountHolderName:"NA","Bank Ifsc":null!==e&&void 0!==e&&e.studentBankIfsc?null===e||void 0===e?void 0:e.studentBankIfsc:"NA"}}))),R(!1)})).catch({}))},children:S("get_info")})]}),q&&(0,C.jsx)("div",{className:a,children:(0,C.jsx)(A,{departmentId:null===(Z=D.department)||void 0===Z?void 0:Z._id,selectedClasses:D.classes,setState:E,setStudentData:T,setIsZip:H})})]}),y&&(0,C.jsx)(f.Z,{})]})}},87049:function(e,t){t.Z={edit_modal_container:"EditConfirm_edit_modal_container__WfbTq",modal_header:"EditConfirm_modal_header__4sq5J",edit:"EditConfirm_edit__ziVGP",remove:"EditConfirm_remove__PCXLs",xlsx_update_btn:"EditConfirm_xlsx_update_btn__H3yM8",save_stop_btn:"EditConfirm_save_stop_btn__9NiZ5",update_to_btn:"EditConfirm_update_to_btn__ExCJv"}},29407:function(e,t){t.Z={refund_container:"AdmisisonRefund_refund_container__BTIz6",refund_container_title:"AdmisisonRefund_refund_container_title__Rwwk9",refund_total:"AdmisisonRefund_refund_total__7rRiv",refund_card:"AdmisisonRefund_refund_card__M65Il",refund_card_text_container:"AdmisisonRefund_refund_card_text_container__jp-8T",refund_card_text:"AdmisisonRefund_refund_card_text__eVyEv",export_card:"AdmisisonRefund_export_card__xse7V",export_card_text:"AdmisisonRefund_export_card_text__4VVsl",export_card_date:"AdmisisonRefund_export_card_date__Wejoy",admission_filter_icon:"AdmisisonRefund_admission_filter_icon__5ncUR",menu_icon:"AdmisisonRefund_menu_icon__WdVbN",both_filter:"AdmisisonRefund_both_filter__k26Hu",both_filter_with_name:"AdmisisonRefund_both_filter_with_name__4eJUc"}}}]);
//# sourceMappingURL=4030.18f1043b.chunk.js.map