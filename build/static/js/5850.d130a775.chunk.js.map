{"version":3,"file":"static/js/5850.d130a775.chunk.js","mappings":"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","sources":["optimized/UserStaffMember/FinanaceManager/TransactionHistory/FinanceHistoryCard.jsx","optimized/UserStaffMember/FinanaceManager/TransactionHistory/FinanceHistory.jsx"],"sourcesContent":["import { useTranslation } from \"react-i18next\";\nimport style from \"./TransactionHistory.module.css\";\nimport dayjs from \"dayjs\";\nimport { localTimeFormat } from \"../../../Utils/Functions/localTime\";\n\nconst FinanceHistoryCard = ({ history }) => {\n  const { t } = useTranslation();\n  return (\n    <div\n      className={style.sidebarheader}\n      //   onClick={() => {\n      //     setOnClickValue(history);\n      //     setDetailView(true);\n      //   }}\n    >\n      <div className={style.text}>\n        <p className={style.rcv}>{t(\"paid_to\")}</p>\n        <h6>\n          {history?.payment_by_end_user_id?.userLegalName ??\n            history?.payment_by_end_user_id_name}\n        </h6>\n        <p className={style.rcv}>\n          {dayjs(history?.created_at).format(\"DD MMM YYYY\")}\n          {\", \"}\n          {localTimeFormat(history?.created_at, \"LT\")}\n        </p>\n      </div>\n\n      <div className={style.text} style={{ marginTop: \"0.9rem\" }}>\n        <p className={style.rcv}>\n          {/* {t(\"invoice_no\")} {history?.payment_invoice_number} */}\n        </p>\n\n        <h6>\n          {t(\"rs_only\")} {history?.payment_amount}\n        </h6>\n        <p className={style.rcv}>\n          {/* {history?.payment_mode} */}\n          {history.payment_mode?.toLowerCase() === \"offline\"\n            ? history?.fee_receipt?.fee_payment_mode\n              ? `${history?.fee_receipt?.fee_payment_mode}`\n              : \"Offline - No Receipt\"\n            : history.payment_mode?.toLowerCase() === \"online\"\n            ? history?.fee_receipt?.fee_payment_mode\n              ? `${history?.fee_receipt?.fee_payment_mode}`\n              : \"Online - No Receipt\"\n            : history?.payment_mode}\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default FinanceHistoryCard;\n","import { useFinanceAllTransaction } from \"../../../Hooks/ApiHooks/FinanceManager/finance-manager-api\";\nimport { customDebounce } from \"../../../Utils/Functions/debounce\";\nimport { nextPage } from \"../../../Utils/Functions/nextPage\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useInView } from \"react-intersection-observer\";\nimport style from \"../FinanceManager.module.css\";\nimport FinanceHistoryCard from \"./FinanceHistoryCard\";\nimport { assestsNavbarUrl } from \"../../../Services/UrlConfig/AssestsBaseUrl\";\nimport Loading from \"../../../Loader/Loading\";\nimport QvipleLoader from \"../../../Loader/QvipleLoader\";\nimport EmptyMessage from \"../../../Utils/EmptyMessage/EmptyMessage\";\n\nconst FinanceHistory = ({ instituteId }) => {\n  const { t } = useTranslation();\n  const [search, setSearch] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [state, setState] = useState(true);\n  const [ref, inView] = useInView({ skip: search });\n  const { financeAllTransaction, financeAllTransactionLoading } =\n    useFinanceAllTransaction({\n      data: {\n        uid: instituteId,\n        page: page,\n        limit: 10,\n        search: search,\n        filter: \"Expense\",\n      },\n      skip: !instituteId,\n    });\n  useEffect(() => {\n    if (inView && state) setPage((page) => page + 1);\n  }, [inView, state]);\n  useEffect(() => {\n    if (financeAllTransaction?.list?.length) {\n      let obj = nextPage(financeAllTransaction?.list?.length);\n      setState(() => obj);\n    }\n  }, [financeAllTransaction?.list]);\n  const onDebounce = useCallback(\n    customDebounce((val) => {\n      setPage(() => 1);\n      setSearch(val);\n    }, 500),\n    []\n  );\n\n  const onSearchEvent = (e) => {\n    if (e.target.value) onDebounce(e.target.value);\n    else {\n      setPage(() => 1);\n      setSearch(\"\");\n    }\n  };\n  return (\n    <>\n      <div className={style.fm_search_full}>\n        <section className={style.fm_search_full_container}>\n          <div className={style.fm_search_full_container_inner}>\n            <img\n              className={style.fm_search_full_icon}\n              alt=\"search icon\"\n              src={`${assestsNavbarUrl}/navbar-search.svg`}\n            />\n            <input\n              type=\"text\"\n              placeholder={t(\"search\")}\n              onChange={onSearchEvent}\n            />\n          </div>\n        </section>\n      </div>\n\n      {financeAllTransaction?.list?.map((history, index) =>\n        financeAllTransaction?.list?.length === index + 1 ? (\n          <div key={history?._id} ref={ref}>\n            <FinanceHistoryCard history={history} />\n          </div>\n        ) : (\n          <FinanceHistoryCard history={history} key={history?._id} />\n        )\n      )}\n      {financeAllTransactionLoading ? (\n        search ? (\n          <QvipleLoader />\n        ) : (\n          <Loading />\n        )\n      ) : search ? (\n        !financeAllTransaction?.list?.length && (\n          <EmptyMessage\n            customStyleContainer={{\n              marginTop: \"1.5rem\",\n            }}\n            title=\"No history fuond related this search.\"\n          />\n        )\n      ) : (\n        !financeAllTransaction?.list?.length && (\n          <EmptyMessage\n            customStyleContainer={{\n              marginTop: \"1.5rem\",\n            }}\n            title=\"No history added.\"\n          />\n        )\n      )}\n    </>\n  );\n};\n\nexport default FinanceHistory;\n"],"names":["_ref","_history$payment_by_e","_history$payment_by_e2","_history$payment_mode","_history$fee_receipt","_history$fee_receipt2","_history$payment_mode2","_history$fee_receipt3","_history$fee_receipt4","history","t","useTranslation","_jsxs","className","style","sidebarheader","children","text","_jsx","rcv","payment_by_end_user_id","userLegalName","payment_by_end_user_id_name","dayjs","created_at","format","localTimeFormat","marginTop","payment_amount","payment_mode","toLowerCase","fee_receipt","fee_payment_mode","concat","_financeAllTransactio3","_financeAllTransactio5","_financeAllTransactio6","instituteId","_useState","useState","_useState2","_slicedToArray","search","setSearch","_useState3","_useState4","page","setPage","_useState5","_useState6","state","setState","_useInView","useInView","skip","_useInView2","ref","inView","_useFinanceAllTransac","useFinanceAllTransaction","data","uid","limit","filter","financeAllTransaction","financeAllTransactionLoading","useEffect","_financeAllTransactio","list","length","_financeAllTransactio2","obj","nextPage","onDebounce","useCallback","customDebounce","val","_Fragment","fm_search_full","fm_search_full_container","fm_search_full_container_inner","fm_search_full_icon","alt","src","assestsNavbarUrl","type","placeholder","onChange","e","target","value","map","index","_financeAllTransactio4","FinanceHistoryCard","_id","QvipleLoader","Loading","EmptyMessage","customStyleContainer","title"],"sourceRoot":""}