"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[9797],{7562:function(e,n,i){i.d(n,{nj:function(){return t}});var t=[{id:"nskjdfs",key:!0,name:"yes"},{id:"snkjdfs",key:!1,name:"no"}]},60307:function(e,n,i){i.d(n,{_x:function(){return oe},um:function(){return U},Fi:function(){return z},zJ:function(){return ne},Wm:function(){return Y},D1:function(){return H},LK:function(){return K},Vt:function(){return ie},WO:function(){return J},Hg:function(){return X},t6:function(){return ee},$q:function(){return W},YK:function(){return Q},Ys:function(){return V},Wb:function(){return P},NM:function(){return te},G9:function(){return $}});var t=i(29439),o=i(12975),l=i(79992),s=i(94811),a=function(e){return e.query({query:function(e){return"/admission/".concat(e,"/fees")},providesTags:["Admission_Fees"],serializeQueryArgs:function(e){return e.endpointName},transformResponse:function(e){var n=(0,l.ZH)(null===e||void 0===e?void 0:e.encrypt);return null===n||void 0===n?void 0:n.array},forceRefetch:function(e){return e.currentArg!==e.previousArg}})},d=function(e){return e.query({query:function(e){return"/fees/student/".concat(e)},providesTags:["Admission_Fees"],serializeQueryArgs:function(e){return e.endpointName},transformResponse:function(e){var n;return null===e||void 0===e||null===(n=e.student)||void 0===n?void 0:n.admission_amount_stats},forceRefetch:function(e){return e.currentArg!==e.previousArg}})},r=function(e){return e.query({query:function(e){return"/ins/student/".concat(e)},providesTags:["Student_Profile"],serializeQueryArgs:function(e){return e.endpointName},transformResponse:function(e){return null===e||void 0===e?void 0:e.student},forceRefetch:function(e){return e.currentArg!==e.previousArg}})},u=function(e){return e.mutation({query:function(e){return{url:"/admission/".concat(e.rcid,"/add/scholar/number/query"),method:s.Q0,body:e.scholarData}}})},c=function(e){return e.mutation({query:function(e){return{url:"/finance/valid/scholar/query?num=".concat(e.num),method:s.Q0}}})},_=function(e){return e.mutation({query:function(e){return{url:"/admission/".concat(e.rcid,"/remark/query"),method:s.Q0,body:e.remark}},invalidatesTags:["Admission_Fees"]})},m=function(e){return e.mutation({query:function(e){return{url:"/admission/".concat(e.rid,"/drop/fees/").concat(e.sid,"/query"),method:s.Q0}},invalidatesTags:["Admission_Fees"]})},v=function(e){return e.mutation({query:function(e){return{url:"/admission/".concat(e.aid,"/retro/structure/").concat(e.appId,"/one/student/").concat(e.sid,"/query"),method:s.Q0,body:e.updateStrucutre}},invalidatesTags:["Admission_Fees"]})},f=function(e){return e.mutation({query:function(e){return{url:"/admission/".concat(e.rid,"/card/removal/query?raid=").concat(e.raid),method:s.Q0}},invalidatesTags:["Admission_Fees"]})},p=function(e){return e.mutation({query:function(e){var n;return{url:"/admission/".concat(e.aid,"/paid/remaining/fee/").concat(e.sid,"/student/").concat(e.appId,"?receipt_status=").concat(null!==(n=null===e||void 0===e?void 0:e.receipt_status)&&void 0!==n?n:""),method:s.a4,body:e.payment}},invalidatesTags:["Admission_Fees"]})},h=function(e){return e.mutation({query:function(e){return{url:"/admission/".concat(e.aid,"/paid/remaining/fee/").concat(e.sid,"/student/").concat(e.appId,"/refund/by"),method:s.Q0,body:e.payment}},invalidatesTags:["Admission_Fees"]})},x=function(e){return e.mutation({query:function(e){return{url:"/admission/paid/government/grant/fee/".concat(e.sid,"/student/").concat(e.appId),method:s.a4,body:e.payment}},invalidatesTags:["Admission_Fees"]})},j=function(e){return e.mutation({query:function(e){return{url:"admission/".concat(null===e||void 0===e?void 0:e.rid,"/shift/government/to/applicable/query"),method:s.Q0}},invalidatesTags:["Admission_Fees"]})},y=function(e){return e.mutation({query:function(e){return{url:"/finance/".concat(e.fid,"/valid/bank/query/").concat(e.aid,"?flow=").concat(null===e||void 0===e?void 0:e.flow),method:s.Q0}}})},Z=function(e){return e.mutation({query:function(e){return{url:"/extra/access/fees/editable/query?flow=".concat(e.flow),method:s.Q0,body:e.editAccess}},invalidatesTags:["Student_Profile"]})},g=function(e){return e.query({query:function(e){var n;return"/admission/filter/by/".concat(e.id,"/three/function/query?departId=").concat(e.did,"&masterId=").concat(e.cmid,"&batchId=").concat(null!==(n=null===e||void 0===e?void 0:e.bid)&&void 0!==n?n:"")},serializeQueryArgs:function(e){return e.endpointName},transformResponse:function(e){return null===e||void 0===e?void 0:e.all_apps},forceRefetch:function(e){return e.currentArg!==e.previousArg}})},b=function(e){return e.mutation({query:function(e){return{url:"/admission/".concat(e.sid,"/add/fees/card/query"),method:s.a4,body:e.addFees}},invalidatesTags:["Admission_Fees"]})},S=o.r.injectEndpoints({endpoints:function(e){return{studentAdmissionFeeList:a(e),studentAdmissionFeeCount:d(e),studentOneProfile:r(e),studentAdmissionFeeCardAddScholarshipNumber:u(e),studentAdmissionFeeCardValidateScholarshipNumber:c(e),studentAdmissionFeeCardAddRemark:_(e),studentAdmissionFeeCardDrop:m(e),studentAdmissionFeeCardUpdateStructure:v(e),studentAdmissionFeeCardInstallmentRemove:f(e),studentAdmissionFeeCardCollect:p(e),studentAdmissionFeeCardExcessRefund:h(e),studentAdmissionFeeCardScholarshipCollect:x(e),studentAdmissionFeeCardScholarshipRevertToApplicable:j(e),studentAdmissionFeeCardBankValidate:y(e),studentAdmissionFeeCardInstallEditToggle:Z(e),studentAdmissionNewCardApplicationList:g(e),studentAdmissionAddNewCard:b(e)}}}),A=S.useStudentAdmissionFeeListQuery,C=S.useStudentAdmissionFeeCountQuery,k=S.useStudentOneProfileQuery,N=S.useStudentAdmissionFeeCardAddScholarshipNumberMutation,F=S.useStudentAdmissionFeeCardValidateScholarshipNumberMutation,I=S.useStudentAdmissionFeeCardAddRemarkMutation,w=S.useStudentAdmissionFeeCardDropMutation,T=S.useStudentAdmissionFeeCardUpdateStructureMutation,q=S.useStudentAdmissionFeeCardInstallmentRemoveMutation,R=S.useStudentAdmissionFeeCardCollectMutation,M=S.useStudentAdmissionFeeCardExcessRefundMutation,L=S.useStudentAdmissionFeeCardScholarshipCollectMutation,D=S.useStudentAdmissionFeeCardScholarshipRevertToApplicableMutation,G=S.useStudentAdmissionFeeCardBankValidateMutation,O=S.useStudentAdmissionFeeCardInstallEditToggleMutation,B=S.useStudentAdmissionNewCardApplicationListQuery,E=S.useStudentAdmissionAddNewCardMutation,P=function(e){var n=A(e.sid,{skip:e.skip});return{studentAdmissionFeeList:n.data,studentAdmissionFeeListRefetch:n.refetch,studentAdmissionFeeListLoading:n.isFetching}},V=function(e){var n=C(e.sid,{skip:e.skip});return{studentAdmissionFeeCount:n.data,studentAdmissionFeeCountRefetch:n.refetch,studentAdmissionFeeCountLoading:n.isFetching}},$=function(e){var n=k(e.sid,{skip:e.skip});return{studentOneProfile:n.data,studentOneProfileRefetch:n.refetch,studentOneProfileLoading:n.isFetching}},z=function(){var e=N();return[(0,t.Z)(e,1)[0]]},Q=function(){var e=F();return[(0,t.Z)(e,1)[0]]},U=function(){var e=I();return[(0,t.Z)(e,1)[0]]},H=function(){var e=w();return[(0,t.Z)(e,1)[0]]},W=function(){var e=T();return[(0,t.Z)(e,1)[0]]},J=function(){var e=q();return[(0,t.Z)(e,1)[0]]},Y=function(){var e=R();return[(0,t.Z)(e,1)[0]]},K=function(){var e=M();return[(0,t.Z)(e,1)[0]]},X=function(){var e=L();return[(0,t.Z)(e,1)[0]]},ee=function(){var e=D();return[(0,t.Z)(e,1)[0]]},ne=function(){var e=G();return[(0,t.Z)(e,1)[0]]},ie=function(){var e=O();return[(0,t.Z)(e,1)[0]]},te=function(e){var n=B(e.data,{skip:e.skip});return{studentAdmissionNewCardApplicationList:n.data,studentAdmissionNewCardApplicationListRefetch:n.refetch,studentAdmissionNewCardApplicationListLoading:n.isFetching}},oe=function(){var e=E();return[(0,t.Z)(e,1)[0]]}},33030:function(e,n,i){var t=i(39230),o=i(80476),l=i(80184);n.Z=function(e){var n=e.label,i=e.onAction,s=e.customStyle,a=(0,t.$G)().t;return(0,l.jsx)("div",{className:o.Z.btn_container,onClick:function(){i()},style:s,children:a(n)})}},8959:function(e,n,i){var t=i(52245),o=i(80184);n.Z=function(e){var n=e.label,i=e.value,l=e.customFormInputContainer,s=e.customFormInputLabel,a=e.customFormInput;return(0,o.jsxs)("div",{className:t.Z.form_read_input_container,style:l,children:[(0,o.jsx)("label",{className:t.Z.form_read_input_label,style:s,children:n}),(0,o.jsx)("h6",{className:t.Z.form_read_input,style:a,children:i})]})}},19056:function(e,n,i){var t=i(1413),o=i(29439),l=i(72791),s=i(39230),a=i(52245),d=i(98684),r=i(80184);n.Z=function(e){var n=e.selectLabel,i=e.onClick,u=e.selectedValue,c=e.options,_=e.customStyleContainer,m=e.customLabelStyle,v=e.customListStyle,f=e.errorShow,p=e.defalutValue,h=e.isDenied,x=(0,s.$G)().t,j=(0,l.useState)(!1),y=(0,o.Z)(j,2),Z=y[0],g=y[1],b=(0,l.useState)(""),S=(0,o.Z)(b,2),A=S[0],C=S[1],k=function(){h||g((function(e){return!e}))};(0,l.useEffect)((function(){p&&C(p)}),[p]);var N=function(e){i(e),k(),C(e)};return(0,r.jsxs)("div",{className:a.Z.form_input_container,style:(0,t.Z)({},_),children:[(0,r.jsxs)("p",{className:a.Z.join_form_select_paragraph,style:(0,t.Z)({},m),children:[n,f&&(0,r.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",x("form_require_label")]})]}),(0,r.jsxs)("section",{className:a.Z.join_form_select_custom,onClick:k,children:[A?(0,r.jsx)("p",{className:a.Z.join_form_select_custom_paragraph,children:null!==A&&void 0!==A?A:""}):(0,r.jsx)("p",{className:a.Z.join_form_select_custom_paragraph,children:u}),Z?(0,r.jsx)("img",{className:a.Z.join_form_select_custom_rotate_icon,src:"".concat(d.J7,"/down.svg"),alt:"categor icon"}):(0,r.jsx)("img",{className:a.Z.join_form_select_custom_icon,src:"".concat(d.J7,"/down.svg"),alt:"categor icon"})]}),Z&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("section",{className:a.Z.join_form_select_custom_list,style:v,children:null===c||void 0===c?void 0:c.map((function(e,n){return(0,r.jsx)("p",{onClick:function(){return N(e)},className:a.Z.join_form_select_custom_paragraph_option,children:e},n)}))})})]})}},26071:function(e,n,i){var t=i(51416),o=i(39230),l=i(80184);n.Z=function(e){var n=e.tile,i=e.onTile,s=e.activeTile,a=e.customTileChild,d=(0,o.$G)().t;return(0,l.jsx)("div",{className:(null===n||void 0===n?void 0:n.key)===s?t.Z.tile_tile_active:t.Z.tile_tile,onClick:function(){return i(null===n||void 0===n?void 0:n.key)},style:a,children:d(null===n||void 0===n?void 0:n.name)})}},20659:function(e,n,i){var t=i(51416),o=i(39230),l=i(80184);n.Z=function(e){var n=e.label,i=e.customTileLabel,s=e.customTileContainer,a=e.children,d=(0,o.$G)().t;return(0,l.jsxs)("div",{className:t.Z.tile_container,children:[n&&(0,l.jsx)("h6",{className:t.Z.tile_label,style:i,children:d(n)}),(0,l.jsx)("section",{className:t.Z.tile_tile_container,style:s,children:a})]})}},50518:function(e,n,i){var t=i(19056),o=i(52245),l=i(80184);n.Z=function(e){var n=e.paymentHeading,i=e.selectLabel,a=e.onClick,d=e.selectedValue,r=e.customStyleContainer,u=e.customLabelStyle,c=e.customListStyle,_=e.errorShow,m=e.defalutValue,v=e.isAuthority,f=e.isDenied;return(0,l.jsxs)(l.Fragment,{children:[n&&(0,l.jsx)("h6",{className:o.Z.payment_mode_heading,children:n}),(0,l.jsx)(t.Z,{selectLabel:i,onClick:a,selectedValue:d,options:s[v],customStyleContainer:r,customLabelStyle:u,customListStyle:c,errorShow:_,defalutValue:m,isDenied:f})]})};var s={admissionCollectMode:["Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft"],admissionStudentProfileCollectMode:["Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft","Unrecovered/Exemption"],depositRefundMode:["By Bank","By Cash"]}},59797:function(e,n,i){i.d(n,{Z:function(){return pe}});var t=i(16871),o=i(78981),l=i(60307),s=i(21348),a=i(1669),d=i(2651),r=i(29439),u=i(72791),c=i(98684),_=i(39230),m=i(48293),v=i(16925),f=i(90904),p=i(93638),h=i(55336),x=i(61055),j=i(99183),y=i(85794),Z=i(80184),g=function(e){var n=e.onClose,i=e.setScholarNumber,t=e.scholarNumber,o=e.rcid,a=(0,_.$G)().t,d=(0,u.useState)(!1),g=(0,r.Z)(d,2),b=g[0],S=g[1],A=(0,u.useState)(null!==t&&void 0!==t?t:""),C=(0,r.Z)(A,2),k=C[0],N=C[1],F=(0,u.useState)(!1),I=(0,r.Z)(F,2),w=I[0],T=I[1],q=(0,u.useState)({open:!1,msg:"",variant:"error"}),R=(0,r.Z)(q,2),M=R[0],L=R[1],D=(0,l.Fi)(),G=(0,r.Z)(D,1)[0],O=(0,l.YK)(),B=(0,r.Z)(O,1)[0];(0,u.useEffect)((function(){t&&N(t)}),[t]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(m.Z,{children:(0,Z.jsxs)("div",{className:v.Z.modal_container,children:[(0,Z.jsx)(s.Z,{children:(0,Z.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,Z.jsx)("div",{className:v.Z.modal_container_header,children:(0,Z.jsx)("h6",{children:a("scholarship_application_no")})}),(0,Z.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,Z.jsx)(f.Z,{}),(0,Z.jsxs)(s.Z,{customStyle:{paddingTop:"0"},children:[(0,Z.jsx)(x.Z,{placeholder:a("scholarship_application_no_placeholder"),name:"scholar",value:k,type:"text",onChange:function(e){return N(e.target.value)},errorShow:w.query}),(0,Z.jsx)(p.Z,{label:"update",onAction:function(){var e=(0,j.l)({query:k},[]);(0,j.x)(e)?(S((function(e){return!e})),B({num:k}).then((function(e){var t;null!==(t=e.data)&&void 0!==t&&t.count?(L({msg:"This scholarship number already added",open:!0,variant:"error"}),S((function(e){return!e}))):G({rcid:o,scholarData:{scholar_ship_number:k}}).then((function(){i(k),S((function(e){return!e})),n()})).catch({})})).catch({})):T(e)}})]})]})}),b&&(0,Z.jsx)(h.Z,{}),(0,Z.jsx)(y.Z,{eventState:M,eventStateHandler:L})]})},b=function(e){var n=e.scholarNumber,i=e.rcid,t=e.isAuthorized,l=(0,_.$G)().t,s=(0,u.useState)(""),a=(0,r.Z)(s,2),d=a[0],c=a[1],m=(0,u.useState)(null!==n&&void 0!==n?n:""),v=(0,r.Z)(m,2),f=v[0],p=v[1];(0,u.useEffect)((function(){n&&p(n)}),[n]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("div",{className:o.Z.student_admission_count_container,onClick:function(){S[t]||c(1)},children:(0,Z.jsx)("button",{className:o.Z.add_scholar_number_btn,children:f?(0,Z.jsxs)(Z.Fragment,{children:[l("edit_scholarship_application_no"),(0,Z.jsx)("span",{style:{color:"#121212"},children:f})]}):l("add_scholarship_application_no_if_applicable")})}),1===d?(0,Z.jsx)(g,{onClose:function(){c("")},scholarNumber:f,setScholarNumber:p,rcid:i}):null]})},S={notAuthorized:!0},A=i(4942),C=i(1413),k=i(47570),N=i(43997),F=i(50518),I=function(e){var n=e.onClose,i=(e.install,e.admission),t=(0,_.$G)().t,o=(0,u.useState)(!1),a=(0,r.Z)(o,2),d=a[0],y=a[1],g=(0,u.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),b=(0,r.Z)(g,2),S=b[0],I=b[1],w=(0,u.useState)(""),T=(0,r.Z)(w,2),q=T[0],R=T[1],M=(0,l.LK)(),L=(0,r.Z)(M,1)[0];(0,u.useEffect)((function(){I((function(e){return(0,C.Z)((0,C.Z)({},e),{},{amount:(null===i||void 0===i?void 0:i.paid_fee)-(null===i||void 0===i?void 0:i.applicable_fee),fee_payment_amount:(null===i||void 0===i?void 0:i.paid_fee)-(null===i||void 0===i?void 0:i.applicable_fee)})}))}),[i]);var D=function(e){I((function(n){return(0,C.Z)((0,C.Z)({},n),{},(0,A.Z)({},e.target.name,e.target.value))}))};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(m.Z,{onClose:n,children:(0,Z.jsxs)("div",{className:v.Z.modal_container,children:[(0,Z.jsx)(s.Z,{children:(0,Z.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,Z.jsx)("div",{className:v.Z.modal_container_header,children:(0,Z.jsx)("h6",{children:t("refund_excess_fees")})}),(0,Z.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,Z.jsx)(f.Z,{}),(0,Z.jsxs)(s.Z,{customStyle:{paddingTop:"0"},children:[(0,Z.jsxs)("div",{className:v.Z.admission_fees_row,children:[(0,Z.jsxs)("h6",{children:[t("refund_amount")," :"]}),(0,Z.jsxs)("h6",{children:[t("rs_only")," ",(null===i||void 0===i?void 0:i.paid_fee)-(null===i||void 0===i?void 0:i.applicable_fee)]})]}),(0,Z.jsx)(x.Z,{label:t("amount"),placeholder:t("amoute_details_collect"),name:"amount",value:S.amount,type:"tel",onChange:function(e){},errorShow:q.amount}),(0,Z.jsx)(F.Z,{paymentHeading:t("payment_type_mode"),selectLabel:t("mode_placeholder"),errorShow:q.fee_payment_mode,onClick:function(e){I((function(n){return(0,C.Z)((0,C.Z)({},n),{},{fee_payment_mode:e})}))},defalutValue:S.fee_payment_mode,selectedValue:t("please_select_payment_mode"),isAuthority:"admissionCollectMode",customLabelStyle:{marginTop:"0"}}),(0,Z.jsx)(F.Z,{paymentHeading:t("payment_type"),selectLabel:t("please_select_payment_type_new"),onClick:function(e){I((function(n){return(0,C.Z)((0,C.Z)({},n),{},{mode:e})}))},errorShow:q.mode,defalutValue:S.mode,selectedValue:t("please_select_payment_mode"),isAuthority:"depositRefundMode",customLabelStyle:{marginTop:"0"}}),(0,Z.jsx)(k.Z,{label:t("select_date_of_transaction"),placeholder:t("please_select_date"),name:"transaction_date",value:S.transaction_date,onChange:function(e){I((function(n){return(0,C.Z)((0,C.Z)({},n),{},{transaction_date:(0,N.jh)(e)})}))},errorShow:q.transaction_date}),"By Cash"===S.mode?null:(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(x.Z,{label:t("bank_name_collect"),placeholder:t("please_enter_bank_name"),name:"fee_bank_name",value:S.fee_bank_name,type:"text",onChange:D}),(0,Z.jsx)(x.Z,{label:t("banke_holder_name"),placeholder:t("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:S.fee_bank_holder,type:"text",onChange:D}),(0,Z.jsx)(x.Z,{label:t("cheque_dd_neft"),placeholder:t("please_enter_utr_ref_number"),name:"fee_utr_reference",value:S.fee_utr_reference,type:"text",onChange:D})]}),(0,Z.jsx)(p.Z,{label:"confirm",onAction:function(){var e,t,o,l,s,a,d,r,u,c,_,m,v,f,p,h=(0,j.l)(S,["fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference"]);(0,j.x)(h)?null!==i&&void 0!==i&&null!==(e=i.student)&&void 0!==e&&e._id&&null!==i&&void 0!==i&&null!==(t=i.appId)&&void 0!==t&&t._id&&null!==i&&void 0!==i&&null!==(o=i.appId)&&void 0!==o&&null!==(l=o.admissionAdmin)&&void 0!==l&&l._id&&null!==i&&void 0!==i&&i._id&&(y((function(e){return!e})),L({aid:null===i||void 0===i||null===(s=i.appId)||void 0===s||null===(a=s.admissionAdmin)||void 0===a?void 0:a._id,sid:null===i||void 0===i||null===(d=i.student)||void 0===d?void 0:d._id,appId:null===i||void 0===i||null===(r=i.appId)||void 0===r?void 0:r._id,payment:{rid:null===i||void 0===i?void 0:i._id,amount:null!==(u=null===S||void 0===S?void 0:S.amount)&&void 0!==u?u:0,mode:"By Cash"===(null===S||void 0===S?void 0:S.mode)?"Offline":null!==(c=null===S||void 0===S?void 0:S.mode)&&void 0!==c?c:"",fee_payment_mode:null===S||void 0===S?void 0:S.fee_payment_mode,fee_payment_amount:null!==(_=null===S||void 0===S?void 0:S.fee_payment_amount)&&void 0!==_?_:0,transaction_date:null!==(m=(0,N._1)(S.transaction_date))&&void 0!==m?m:"",fee_bank_name:null!==(v=null===S||void 0===S?void 0:S.fee_bank_name)&&void 0!==v?v:"",fee_bank_holder:null!==(f=null===S||void 0===S?void 0:S.fee_bank_holder)&&void 0!==f?f:"",fee_utr_reference:null!==(p=null===S||void 0===S?void 0:S.fee_utr_reference)&&void 0!==p?p:""}}).then((function(){y((function(e){return!e})),n()})).catch({})):R(h)}})]})]})}),d&&(0,Z.jsx)(h.Z,{})]})},w=function(e){var n,i,s,a,d,m,v,f,p=e.admission,x=(0,_.$G)().t,j=(0,t.TH)(),g=(0,u.useState)(""),b=(0,r.Z)(g,2),S=b[0],A=b[1],C=(0,u.useState)(!1),k=(0,r.Z)(C,2),N=k[0],F=(k[1],(0,u.useState)({open:!1,msg:"",variant:"error"})),w=(0,r.Z)(F,2),q=w[0],R=w[1],M=(0,l.zJ)();(0,r.Z)(M,1)[0];return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("section",{className:o.Z.student_admission_count_container,children:[(0,Z.jsxs)("div",{className:o.Z.student_admission_count,children:[(0,Z.jsxs)("h5",{style:{color:"#121212"},children:[x("rs_only"),null!==(n=null===p||void 0===p||null===(i=p.fee_structure)||void 0===i?void 0:i.total_admission_fees)&&void 0!==n?n:0,(0,Z.jsx)("span",{style:{fontSize:"13px",fontWeight:"400",color:"#121212"},children:" (".concat(x("rs_only")).concat(null!==(s=null===p||void 0===p||null===(a=p.fee_structure)||void 0===a?void 0:a.applicable_fees)&&void 0!==s?s:0,")")})]}),(0,Z.jsx)("h6",{style:{marginBottom:"1rem"},children:x("total_applicable_fees")}),(0,Z.jsxs)("h5",{style:{color:"#008000"},children:[x("rs_only")," ",null!==(d=null===p||void 0===p?void 0:p.paid_fee)&&void 0!==d?d:0,(0,Z.jsx)("span",{style:{fontSize:"13px",fontWeight:"400",color:"#121212"},children:" (".concat(x("rs_only")).concat((null===p||void 0===p||null===(m=p.fee_structure)||void 0===m?void 0:m.applicable_fees)-(null===p||void 0===p?void 0:p.paid_fee)>0?(null===p||void 0===p||null===(v=p.fee_structure)||void 0===v?void 0:v.applicable_fees)-(null===p||void 0===p?void 0:p.paid_fee):0,")")})]}),(0,Z.jsx)("h6",{children:x("paid_and_outstanding")})]}),(0,Z.jsx)("div",{className:o.Z.student_admission_count_image,children:"Paid"===(null===p||void 0===p?void 0:p.status)?(null===p||void 0===p?void 0:p.paid_fee)-(null===p||void 0===p?void 0:p.applicable_fee)>0?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("img",{src:"".concat(c.U_,"/fees-refund.svg"),alt:"pending icon"}),(0,Z.jsxs)("div",{className:o.Z.show_text,children:[(0,Z.jsxs)("h6",{style:{fontWeight:"600"},children:[x("rs_only")," ",(null===p||void 0===p?void 0:p.paid_fee)-(null===p||void 0===p?void 0:p.applicable_fee)]}),(0,Z.jsxs)("h6",{children:[" ",x("excess")]}),(0,Z.jsx)("button",{className:o.Z.image_refund_btn,onClick:function(){var e,n,i,t,o,l,s;null!==p&&void 0!==p&&null!==(e=p.appId)&&void 0!==e&&null!==(n=e.admissionAdmin)&&void 0!==n&&null!==(i=n.institute)&&void 0!==i&&null!==(t=i.financeDepart)&&void 0!==t&&t[0]&&null!==p&&void 0!==p&&null!==(o=p.appId)&&void 0!==o&&null!==(l=o.admissionAdmin)&&void 0!==l&&l._id&&T[null===(s=j.state)||void 0===s?void 0:s.collectAccess]&&A(1)},children:x("refund")})]})]}):(0,Z.jsx)("img",{src:"".concat(c.U_,"/fees-paid.svg"),alt:"pending icon",style:{width:"140px",height:"140px"}}):"Cancel"===p.status?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("img",{src:"".concat(c.U_,"/fees-refund.svg"),alt:"pending icon"}),(0,Z.jsx)("div",{className:o.Z.show_text,children:(0,Z.jsxs)("h6",{children:[" ",x("cancel")]})})]}):null!==p&&void 0!==p&&p.remaining_fee?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("img",{src:"".concat(c.U_,"/fees-pending.svg"),alt:"pending icon",style:{width:"140px",height:"140px"}}),(0,Z.jsxs)("div",{className:o.Z.show_text,children:[(0,Z.jsxs)("h6",{style:{fontWeight:"600"},children:[x("rs_only")," ",null!==(f=null===p||void 0===p?void 0:p.remaining_fee)&&void 0!==f?f:0]}),(0,Z.jsxs)("h6",{children:[" ",x("pending")]})]})]}):""})]}),1===S?(0,Z.jsx)(I,{onClose:function(){A("")},admission:p}):null,N&&(0,Z.jsx)(h.Z,{}),(0,Z.jsx)(y.Z,{eventState:q,eventStateHandler:R})]})},T={ADMISSION_ADMIN:!0},q=i(97892),R=i.n(q),M=i(89064),L=function(e){var n=e.installId,i=e.onClose,t=e.rid,o=(0,_.$G)().t,s=(0,u.useState)(!1),a=(0,r.Z)(s,2),d=a[0],c=a[1],m=(0,l.WO)(),v=(0,r.Z)(m,1)[0];return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(M.Z,{onClose:i,disabled:d,children:(0,Z.jsx)("h6",{onClick:function(){t&&n&&(c((function(e){return!e})),v({rid:t,raid:n}).then((function(){c((function(e){return!e})),i()})).catch({}))},children:o("delete")})})})},D=i(6758),G=i(37782),O=function(e){var n=e.rid,t=e.appId,l=(0,_.$G)().t,s=(0,u.useState)(""),a=(0,r.Z)(s,2),d=a[0],c=a[1],m=(0,u.useState)(!1),v=(0,r.Z)(m,2),f=v[0],p=v[1],x=(0,u.useState)(""),j=(0,r.Z)(x,2),y=j[0],g=j[1],b=(0,D.Nw)({rid:d,skip:!d}),S=b.financeReceipt,A=b.financeReceiptRefetch;(0,u.useEffect)((function(){d&&A()}),[d,A]),(0,u.useEffect)((function(){null!==S&&void 0!==S&&S.receipt&&null!==S&&void 0!==S&&S.all_remain&&g(S)}),[S]),(0,u.useEffect)((function(){if(y){var e=new Worker(new URL(i.p+i.u(5563),i.b)),n=(0,G.Hs)(null===y||void 0===y?void 0:y.all_remain,null===y||void 0===y?void 0:y.receipt,t),o=n.institute,l=n.studentInfo,s=n.paymentReceiptInfo;e.postMessage({institute:o,studentInfo:l,paymentReceiptInfo:s,printReceiptType:"Refunded"===(null===s||void 0===s?void 0:s.transactonRefund)?"ADMISSION_REFUND":"ADMISSION"}),e.onmessage=function(n){n&&(window.open(n.data,"_blank"),p((function(e){return!e})),g(""),e.terminate())}}}),[y]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("button",{className:o.Z.view_receipt_btn,onClick:function(){p((function(e){return!e})),c(n),d===n&&g(S)},children:l("view_receipt")}),f&&(0,Z.jsx)(h.Z,{})]})},B=i(37762),E=i(7562),P=i(20659),V=i(26071),$=function(e){var n,i,t,o,a,d=e.onClose,y=e.install,g=e.admission,b=(0,_.$G)().t,S=(0,u.useState)(!1),I=(0,r.Z)(S,2),w=I[0],T=I[1],q=(0,u.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:"",pay_remain:!1}),R=(0,r.Z)(q,2),M=R[0],L=R[1],D=(0,u.useState)(""),G=(0,r.Z)(D,2),O=G[0],$=G[1],z=(0,u.useState)(0),Q=(0,r.Z)(z,2),U=Q[0],H=Q[1],W=(0,l.Wm)(),J=(0,r.Z)(W,1)[0],Y=function(e){L((function(n){return(0,C.Z)((0,C.Z)({},n),{},(0,A.Z)({},e.target.name,e.target.value))}))},K=function(e){if(L((function(n){return(0,C.Z)((0,C.Z)({},n),{},{pay_remain:e})})),e){var n,i,t=0,o=(0,B.Z)(null===g||void 0===g||null===(n=g.applicable_card)||void 0===n?void 0:n.remaining_array);try{for(o.s();!(i=o.n()).done;){var l=i.value;t+=null===l||void 0===l?void 0:l.remainAmount}}catch(s){o.e(s)}finally{o.f()}H(t)}};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(m.Z,{onClose:d,children:(0,Z.jsxs)("div",{className:v.Z.modal_container,children:[(0,Z.jsx)(s.Z,{children:(0,Z.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,Z.jsx)("div",{className:v.Z.modal_container_header,children:(0,Z.jsx)("h6",{children:b("collect_fees")})}),(0,Z.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:d})]})}),(0,Z.jsx)(f.Z,{}),(0,Z.jsxs)(s.Z,{customStyle:{paddingTop:"0"},children:[(0,Z.jsxs)("div",{className:v.Z.admission_fees_row,children:[(0,Z.jsxs)("h6",{children:[b("applicable_amount")," :"]}),(0,Z.jsxs)("h6",{children:[b("rs_only")," ",null!==(n=null===g||void 0===g||null===(i=g.applicable_card)||void 0===i?void 0:i.applicable_fee)&&void 0!==n?n:0]})]}),(0,Z.jsxs)("div",{className:v.Z.admission_fees_row,children:[(0,Z.jsxs)("h6",{children:[b(M.pay_remain?"amount_remain_installment":"remaining_fees")," ",":"]}),(0,Z.jsxs)("h6",{children:[b("rs_only")," ",M.pay_remain?U:null!==(t=null===y||void 0===y?void 0:y.remainAmount)&&void 0!==t?t:0]})]}),null!==g&&void 0!==g&&null!==(o=g.fee_structure)&&void 0!==o&&o.total_installments&&+(null===g||void 0===g||null===(a=g.fee_structure)||void 0===a?void 0:a.total_installments)>1?(0,Z.jsx)(P.Z,{label:"pay_rest_remaining_fees",children:null===E.nj||void 0===E.nj?void 0:E.nj.map((function(e){return(0,Z.jsx)(V.Z,{tile:e,onTile:K,activeTile:M.pay_remain},null===e||void 0===e?void 0:e.id)}))}):null,(0,Z.jsx)(x.Z,{label:b("amount"),placeholder:b("amoute_details_collect"),name:"amount",value:M.amount,type:"tel",onChange:function(e){L((function(n){return(0,C.Z)((0,C.Z)({},n),{},{amount:+e.target.value,fee_payment_amount:+e.target.value})}))},errorShow:O.amount,msg:O.rest_issue}),(0,Z.jsx)(F.Z,{paymentHeading:b("payment_type_mode"),selectLabel:b("mode_placeholder"),onClick:function(e){L((function(n){return(0,C.Z)((0,C.Z)({},n),{},{mode:"Online",fee_payment_mode:e})}))},errorShow:O.fee_payment_mode,defalutValue:M.fee_payment_mode,selectedValue:b("please_select_payment_mode"),isAuthority:"admissionStudentProfileCollectMode",customLabelStyle:{marginTop:"0"}}),(0,Z.jsx)(k.Z,{label:b("select_date_of_transaction"),placeholder:b("please_select_date"),name:"transaction_date",value:M.transaction_date,onChange:function(e){L((function(n){return(0,C.Z)((0,C.Z)({},n),{},{transaction_date:(0,N.jh)(e)})}))},errorShow:O.transaction_date}),"Cash"===M.fee_payment_mode?null:(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(x.Z,{label:b("bank_name_collect"),placeholder:b("please_enter_bank_name"),name:"fee_bank_name",value:M.fee_bank_name,type:"text",onChange:Y}),(0,Z.jsx)(x.Z,{label:b("banke_holder_name"),placeholder:b("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:M.fee_bank_holder,type:"text",onChange:Y}),(0,Z.jsx)(x.Z,{label:b("cheque_dd_neft"),placeholder:b("please_enter_utr_ref_number"),name:"fee_utr_reference",value:M.fee_utr_reference,type:"text",onChange:Y})]}),(0,Z.jsx)(p.Z,{label:"collect",onAction:function(){var e,n,i,t,o,l,s,a,r,u,c,_,m,v="";(v="Unrecovered/Exemption"===M.fee_payment_mode?(0,j.l)(M,["amount","mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference","pay_remain"]):(0,j.l)(M,["mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference","pay_remain"]),(0,j.x)(v))?M.pay_remain&&M.amount<U?$({rest_issue:"Amount should not be less than total remaining fees"}):!M.pay_remain&&M.amount>(null===y||void 0===y?void 0:y.remainAmount)&&+(null===g||void 0===g||null===(e=g.fee_structure)||void 0===e?void 0:e.total_installments)?$({rest_issue:"Amount should not be greater than remaining fees"}):null!==g&&void 0!==g&&null!==(n=g.student)&&void 0!==n&&n._id&&null!==y&&void 0!==y&&y.appId&&null!==y&&void 0!==y&&y._id&&(T((function(e){return!e})),J({aid:null===g||void 0===g||null===(i=g.appId)||void 0===i||null===(t=i.admissionAdmin)||void 0===t?void 0:t._id,sid:null===g||void 0===g||null===(o=g.student)||void 0===o?void 0:o._id,appId:null===y||void 0===y?void 0:y.appId,payment:{card_id:null===g||void 0===g||null===(l=g.applicable_card)||void 0===l?void 0:l._id,rid:null===g||void 0===g?void 0:g._id,type:null===y||void 0===y?void 0:y.installmentValue,raid:null===y||void 0===y?void 0:y._id,amount:null!==(s=null===M||void 0===M?void 0:M.amount)&&void 0!==s?s:0,mode:"Cash"===(null===M||void 0===M?void 0:M.fee_payment_mode)?"Offline":null!==(a=null===M||void 0===M?void 0:M.mode)&&void 0!==a?a:"",fee_payment_mode:"Cash"===(null===M||void 0===M?void 0:M.fee_payment_mode)?"By Cash":null===M||void 0===M?void 0:M.fee_payment_mode,fee_payment_amount:null!==(r=null===M||void 0===M?void 0:M.fee_payment_amount)&&void 0!==r?r:0,transaction_date:null!==(u=(0,N._1)(M.transaction_date))&&void 0!==u?u:"",fee_bank_name:null!==(c=null===M||void 0===M?void 0:M.fee_bank_name)&&void 0!==c?c:"",fee_bank_holder:null!==(_=null===M||void 0===M?void 0:M.fee_bank_holder)&&void 0!==_?_:"",fee_utr_reference:null!==(m=null===M||void 0===M?void 0:M.fee_utr_reference)&&void 0!==m?m:"",pay_remain:M.pay_remain}}).then((function(){T((function(e){return!e})),d()})).catch({})):$(v)}})]})]})}),w&&(0,Z.jsx)(h.Z,{})]})},z=function(e){var n,i,l,s,a,d,m,v,f,p,h,x,j,y,g,b,S,A=e.install,C=e.admission,k=(0,t.TH)(),N=(0,_.$G)().t,F=(0,u.useState)(""),I=(0,r.Z)(F,2),w=I[0],T=I[1],q=function(){T("")};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:o.Z.student_admission_cash_card,style:{position:"relative"},children:[(0,Z.jsxs)("section",{className:o.Z.admission_fees_amount,children:[(0,Z.jsxs)("h6",{children:[null===A||void 0===A?void 0:A.installmentValue," ","Paid"===(null===A||void 0===A?void 0:A.status)&&(0,Z.jsx)("span",{children:R()(null===A||void 0===A||null===(n=A.fee_receipt)||void 0===n?void 0:n.fee_transaction_date).format("DD-MMM-YY")})]}),(0,Z.jsxs)("h6",{children:[N("rs_only"),null!==(i=null===A||void 0===A?void 0:A.remainAmount)&&void 0!==i?i:0]})]}),(0,Z.jsx)("section",{className:o.Z.admission_fees_grant,children:"Paid"===(null===A||void 0===A?void 0:A.status)&&"Rejected"!==(null===A||void 0===A?void 0:A.receipt_status)?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("h6",{children:"By Cash"===(null===A||void 0===A||null===(l=A.fee_receipt)||void 0===l?void 0:l.fee_payment_mode)?"Offline":null!==A&&void 0!==A&&null!==(s=A.fee_receipt)&&void 0!==s&&s.fee_payment_mode?null===A||void 0===A||null===(a=A.fee_receipt)||void 0===a?void 0:a.fee_payment_mode:null!==(d=null===A||void 0===A?void 0:A.refund_status)&&void 0!==d?d:""}),(0,Z.jsx)("h6",{children:"Set Off"===(null===A||void 0===A||null===(m=A.fee_receipt)||void 0===m?void 0:m.set_off_status)?"SetOff":"By Cash"===(null===A||void 0===A||null===(v=A.fee_receipt)||void 0===v?void 0:v.fee_payment_mode)?"Cash":"Exempted/Unrecovered"===(null===A||void 0===A||null===(f=A.fee_receipt)||void 0===f?void 0:f.fee_payment_mode)?"N/A":"Bank"})]}):(0,Z.jsx)(Z.Fragment,{children:"Rejected"===(null===A||void 0===A?void 0:A.receipt_status)?(0,Z.jsxs)("h6",{style:{margin:"0"},children:["".concat(N("reason")," : "),null===A||void 0===A?void 0:A.reason]}):(0,Z.jsxs)("h6",{style:{margin:"0"},children:[N("due_on"),null===A||void 0===A?void 0:A.dueDate]})})}),null!==A&&void 0!==A&&null!==(p=A.component)&&void 0!==p&&p.gov?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("section",{className:o.Z.admission_fees_grant,children:[(0,Z.jsx)("h6",{style:{margin:"0"},children:N("applicable_fees")}),(0,Z.jsxs)("h6",{style:{margin:"0",fontSize:"13px",color:"#121212"},children:[N("rs_only"),null!==(h=null===A||void 0===A||null===(x=A.component)||void 0===x?void 0:x.app)&&void 0!==h?h:0]})]}),(0,Z.jsxs)("section",{className:o.Z.admission_fees_grant,children:[(0,Z.jsx)("h6",{style:{margin:"0"},children:N("govt_fees")}),(0,Z.jsxs)("h6",{style:{margin:"0",fontSize:"13px",color:"#121212"},children:[N("rs_only"),null!==(j=null===A||void 0===A||null===(y=A.component)||void 0===y?void 0:y.gov)&&void 0!==j?j:0]})]})]}):null,(null===A||void 0===A?void 0:A.remainAmount)<=0?(0,Z.jsx)("img",{src:"".concat(c.J7,"/menu.svg"),alt:"menu icon",onClick:function(){T(1)},className:o.Z.edit_icon,title:"Menu",style:{cursor:"pointer",top:"1%",right:"0.5%"}}):null,"Requested"!==(null===A||void 0===A?void 0:A.receipt_status)&&"Rejected"!==(null===A||void 0===A?void 0:A.receipt_status)&&"Paid"===(null===A||void 0===A?void 0:A.status)?null!==A&&void 0!==A&&A.cover_status?(0,Z.jsx)("button",{className:o.Z.student_admission_collect_btn,style:{width:"100%",backgroundColor:"rgb(92 92 92)",fontSize:"0.7rem"},children:null===A||void 0===A?void 0:A.cover_status}):(0,Z.jsx)(O,{rid:null===A||void 0===A||null===(g=A.fee_receipt)||void 0===g?void 0:g._id,appId:null===C||void 0===C||null===(b=C.appId)||void 0===b?void 0:b._id}):(0,Z.jsx)("button",{className:o.Z.student_admission_collect_btn,style:"Requested"===(null===A||void 0===A?void 0:A.receipt_status)||"Rejected"===(null===A||void 0===A?void 0:A.receipt_status)?{width:"100%",backgroundColor:"#B8B83E"}:{width:"100%"},onClick:function(){var e;null!==A&&void 0!==A&&A.isEnable&&Q[null===(e=k.state)||void 0===e?void 0:e.collectAccess]&&T(2)},children:"Requested"===(null===A||void 0===A?void 0:A.receipt_status)?N("receipt_requested"):"Rejected"===(null===A||void 0===A?void 0:A.receipt_status)?N("receipt_rejected"):N(Q[null===(S=k.state)||void 0===S?void 0:S.collectAccess]?"collect_fees":"unpaid")})]}),1===w?(0,Z.jsx)(L,{onClose:q,rid:null===C||void 0===C?void 0:C._id,installId:null===A||void 0===A?void 0:A._id}):2===w?(0,Z.jsx)($,{onClose:q,install:A,admission:C}):null]})},Q={ADMISSION_ADMIN:!0},U=i(11468),H=function(e){var n=e.onClose,i=e.remark,t=e.rcid,o=(0,_.$G)().t,a=(0,u.useState)(!1),d=(0,r.Z)(a,2),x=d[0],y=d[1],g=(0,u.useState)(null!==i&&void 0!==i?i:""),b=(0,r.Z)(g,2),S=b[0],A=b[1],C=(0,u.useState)(!1),k=(0,r.Z)(C,2),N=k[0],F=k[1],I=(0,l.um)(),w=(0,r.Z)(I,1)[0];(0,u.useEffect)((function(){i&&A(i)}),[i]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(m.Z,{children:(0,Z.jsxs)("div",{className:v.Z.modal_container,children:[(0,Z.jsx)(s.Z,{children:(0,Z.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,Z.jsx)("div",{className:v.Z.modal_container_header,children:(0,Z.jsx)("h6",{children:o("remark_title")})}),(0,Z.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,Z.jsx)(f.Z,{}),(0,Z.jsxs)(s.Z,{customStyle:{paddingTop:"0"},children:[(0,Z.jsx)(U.Z,{label:o("enter_remark"),placeholder:o("please_enter_remark"),name:"scholar",value:S,type:"text",onChange:function(e){return A(e.target.value)},errorShow:N.query}),(0,Z.jsx)(p.Z,{label:"save_remark",onAction:function(){var e=(0,j.l)({query:S},[]);(0,j.x)(e)?(y((function(e){return!e})),w({rcid:t,remark:{remark:S}}).then((function(){y((function(e){return!e})),n()})).catch({})):F(e)}})]})]})}),x&&(0,Z.jsx)(h.Z,{})]})},W=i(33030),J=i(23984),Y=function(e){var n,i,t=e.admission,l=e.isAuthorized,s=(0,_.$G)().t,a=(0,u.useState)(""),d=(0,r.Z)(a,2),c=d[0],m=d[1];return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("div",{className:o.Z.remark_card_container,children:(0,Z.jsxs)("section",{className:o.Z.add_remark,children:[K[l]?null:(0,Z.jsx)(J.Z,{children:(0,Z.jsx)(W.Z,{label:s(null!==t&&void 0!==t&&t.remark?"edit_remark":"add_remark"),onAction:function(){K[l]||m(1)},customStyle:{padding:"0.2rem 0.4rem",fontSize:"11px",fontWeight:"400"}})}),(0,Z.jsxs)("h6",{className:o.Z.add_remark_text,children:[s("fee_remark")," ",null!==(n=null===t||void 0===t?void 0:t.remark)&&void 0!==n?n:""]})]})}),1===c?(0,Z.jsx)(H,{onClose:function(){m("")},rcid:null===t||void 0===t?void 0:t._id,remark:null!==(i=null===t||void 0===t?void 0:t.remark)&&void 0!==i?i:""}):null]})},K={notAuthorized:!0},X=function(e){var n=e.title1,i=e.amount1,t=e.title2,l=e.amount2,s=e.title3,a=e.amount3,d=(0,_.$G)().t;return(0,Z.jsxs)("section",{className:o.Z.safcst_container,children:[(0,Z.jsxs)("div",{className:o.Z.safcst_container_inner,children:[(0,Z.jsx)("p",{children:d(n)}),(0,Z.jsxs)("h6",{children:[d("rs_only"),null!==i&&void 0!==i?i:0]})]}),(0,Z.jsxs)("div",{className:o.Z.safcst_container_inner,children:[(0,Z.jsx)("p",{children:d(t)}),(0,Z.jsxs)("h6",{children:[d("rs_only"),null!==l&&void 0!==l?l:0]})]}),(0,Z.jsxs)("div",{className:o.Z.safcst_container_inner,children:[(0,Z.jsx)("p",{children:d(s)}),(0,Z.jsxs)("h6",{children:[d("rs_only"),null!==a&&void 0!==a?a:0]})]})]})},ee=function(e){var n,i,t,o,a,d,y,g,b,S,F=e.onClose,I=e.admission,w=e.install,T=(0,_.$G)().t,q=new Date,R=(0,u.useState)(!1),M=(0,r.Z)(R,2),L=M[0],D=M[1],G=(0,u.useState)({amount:"",mode:"Online",fee_payment_mode:"Government/Scholarship",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),O=(0,r.Z)(G,2),B=O[0],E=O[1],P=(0,u.useState)(""),V=(0,r.Z)(P,2),$=V[0],z=V[1],Q=(0,l.Hg)(),U=(0,r.Z)(Q,1)[0],H=function(e){E((function(n){return(0,C.Z)((0,C.Z)({},n),{},(0,A.Z)({},e.target.name,e.target.value))}))};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(m.Z,{onClose:F,children:(0,Z.jsxs)("div",{className:v.Z.modal_container,children:[(0,Z.jsx)(s.Z,{children:(0,Z.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,Z.jsx)("div",{className:v.Z.modal_container_header,children:(0,Z.jsxs)("h6",{children:[T("allot_scholer_to_student")," ","".concat(null!==(n=null===I||void 0===I||null===(i=I.student)||void 0===i?void 0:i.studentFirstName)&&void 0!==n?n:""," ").concat(null!==(t=null===I||void 0===I||null===(o=I.student)||void 0===o?void 0:o.studentMiddleName)&&void 0!==t?t:""," ").concat(null!==(a=null===I||void 0===I||null===(d=I.student)||void 0===d?void 0:d.studentLastName)&&void 0!==a?a:"")]})}),(0,Z.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:F})]})}),(0,Z.jsx)(f.Z,{}),(0,Z.jsxs)(s.Z,{customStyle:{paddingTop:"0"},children:[(0,Z.jsxs)("div",{className:v.Z.admission_fees_row,children:[(0,Z.jsxs)("h6",{children:[T("applicable_amount")," :"]}),(0,Z.jsxs)("h6",{children:[T("rs_only")," ",null!==(y=null===I||void 0===I||null===(g=I.government_card)||void 0===g?void 0:g.applicable_fee)&&void 0!==y?y:0]})]}),(0,Z.jsxs)("div",{className:v.Z.admission_fees_row,children:[(0,Z.jsxs)("h6",{children:[T("remaining_fees")," :"]}),(0,Z.jsxs)("h6",{children:[T("rs_only")," ",null!==(b=null===I||void 0===I||null===(S=I.government_card)||void 0===S?void 0:S.remaining_fee)&&void 0!==b?b:0]})]}),(0,Z.jsx)(x.Z,{label:T("amount"),placeholder:T("amoute_details_collect"),name:"amount",value:B.amount,type:"tel",onChange:function(e){E((function(n){return(0,C.Z)((0,C.Z)({},n),{},{amount:+e.target.value,fee_payment_amount:+e.target.value})}))},errorShow:$.amount}),(0,Z.jsx)(k.Z,{label:T("select_date_of_transaction"),placeholder:T("please_select_date"),name:"transaction_date",value:B.transaction_date,onChange:function(e){E((function(n){return(0,C.Z)((0,C.Z)({},n),{},{transaction_date:(0,N.jh)(e)})}))},errorShow:$.transaction_date}),(0,Z.jsx)(x.Z,{label:T("bank_name_collect"),placeholder:T("please_enter_bank_name"),name:"fee_bank_name",value:B.fee_bank_name,type:"text",onChange:H}),(0,Z.jsx)(x.Z,{label:T("banke_holder_name"),placeholder:T("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:B.fee_bank_holder,type:"text",onChange:H}),(0,Z.jsx)(x.Z,{label:T("cheque_dd_neft"),placeholder:T("please_enter_utr_ref_number"),name:"fee_utr_reference",value:B.fee_utr_reference,type:"text",onChange:H}),(0,Z.jsx)(p.Z,{label:"allot",onAction:function(){var e,n,i,t,o,l,s,a,d,r=(0,j.l)(B,["mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference","transaction_date"]);(0,j.x)(r)?null!==I&&void 0!==I&&I._id&&null!==w&&void 0!==w&&w.appId&&null!==I&&void 0!==I&&null!==(e=I.student)&&void 0!==e&&e._id&&(D((function(e){return!e})),U({sid:null===I||void 0===I||null===(n=I.student)||void 0===n?void 0:n._id,appId:null===w||void 0===w?void 0:w.appId,payment:{rid:null===I||void 0===I?void 0:I._id,type:null===w||void 0===w?void 0:w.installmentValue,amount:null!==(i=null===B||void 0===B?void 0:B.amount)&&void 0!==i?i:"",mode:null!==(t=null===B||void 0===B?void 0:B.mode)&&void 0!==t?t:"",fee_payment_mode:null===B||void 0===B?void 0:B.fee_payment_mode,fee_payment_amount:null!==(o=null===B||void 0===B?void 0:B.fee_payment_amount)&&void 0!==o?o:"",transaction_date:B.transaction_date?(0,N._1)(B.transaction_date):null===(l=q.toISOString())||void 0===l?void 0:l.substring(0,10),fee_bank_name:null!==(s=null===B||void 0===B?void 0:B.fee_bank_name)&&void 0!==s?s:"",fee_bank_holder:null!==(a=null===B||void 0===B?void 0:B.fee_bank_holder)&&void 0!==a?a:"",fee_utr_reference:null!==(d=null===B||void 0===B?void 0:B.fee_utr_reference)&&void 0!==d?d:""}}).then((function(){D((function(e){return!e})),F()})).catch({})):z(r)}})]})]})}),L&&(0,Z.jsx)(h.Z,{})]})},ne=function(e){var n=e.onClose,i=e.rid,t=(0,_.$G)().t,o=(0,u.useState)(!1),s=(0,r.Z)(o,2),a=s[0],d=s[1],c=(0,l.t6)(),m=(0,r.Z)(c,1)[0];return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(M.Z,{onClose:n,disabled:a,children:(0,Z.jsx)("h6",{onClick:function(){i&&(d((function(e){return!e})),m({rid:i}).then((function(){d((function(e){return!e})),n()})).catch({}))},children:t("transfer_to_applicable_fees")})})})},ie=function(e){var n,i,l,s,a,d,m,v,f,p,h,x,j,y=e.install,g=e.admission,b=(0,t.TH)(),S=(0,_.$G)().t,A=(0,u.useState)(""),C=(0,r.Z)(A,2),k=C[0],N=C[1],F=function(){N("")};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:o.Z.student_admission_cash_card,style:{position:"relative"},children:[(0,Z.jsxs)("section",{className:o.Z.admission_fees_amount,children:[(0,Z.jsxs)("h6",{children:[null===y||void 0===y?void 0:y.installmentValue," ","Paid"===(null===y||void 0===y?void 0:y.status)&&(0,Z.jsx)("span",{children:R()(null===y||void 0===y||null===(n=y.fee_receipt)||void 0===n?void 0:n.fee_transaction_date).format("DD-MMM-YY")})]}),(0,Z.jsxs)("h6",{children:[S("rs_only"),null!==(i=null===y||void 0===y?void 0:y.remainAmount)&&void 0!==i?i:0]})]}),(0,Z.jsx)("section",{className:o.Z.admission_fees_grant,children:"Paid"===(null===y||void 0===y?void 0:y.status)?(0,Z.jsx)(Z.Fragment,{children:"Government Fees Shifted To Applicable Fees"===(null===y||void 0===y?void 0:y.revert_status)?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("h6",{children:null!==(l=null===y||void 0===y?void 0:y.revert_status)&&void 0!==l?l:""}),(0,Z.jsx)("h6",{children:"N/A"})]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("h6",{children:"By Cash"===(null===y||void 0===y||null===(s=y.fee_receipt)||void 0===s?void 0:s.fee_payment_mode)?"Offline":null!==y&&void 0!==y&&null!==(a=y.fee_receipt)&&void 0!==a&&a.fee_payment_mode?null===y||void 0===y||null===(d=y.fee_receipt)||void 0===d?void 0:d.fee_payment_mode:null!==(m=null===y||void 0===y?void 0:y.refund_status)&&void 0!==m?m:""}),(0,Z.jsx)("h6",{children:"Set Off"===(null===y||void 0===y||null===(v=y.fee_receipt)||void 0===v?void 0:v.set_off_status)?"SetOff":"By Cash"===(null===y||void 0===y||null===(f=y.fee_receipt)||void 0===f?void 0:f.fee_payment_mode)?"Cash":"Exempted/Unrecovered"===(null===y||void 0===y||null===(p=y.fee_receipt)||void 0===p?void 0:p.fee_payment_mode)?"N/A":"Bank"})]})}):(0,Z.jsx)(Z.Fragment,{children:"Receipt Rejected"===(null===y||void 0===y?void 0:y.status)?(0,Z.jsxs)("h6",{children:["".concat(S("reason")," : "),null===y||void 0===y||null===(h=y.fee_receipt)||void 0===h?void 0:h.reason]}):(0,Z.jsxs)("h6",{children:[S("due_on"),null===y||void 0===y?void 0:y.dueDate]})})}),"Government Fees Shifted To Applicable Fees"!==(null===y||void 0===y?void 0:y.revert_status)&&te[null===(x=b.state)||void 0===x?void 0:x.collectAccess]?(0,Z.jsx)("img",{src:"".concat(c.J7,"/menu.svg"),alt:"menu icon",onClick:function(){var e;te[null===(e=b.state)||void 0===e?void 0:e.collectAccess]&&N(1)},className:o.Z.edit_icon,title:"Menu",style:{cursor:"pointer",top:"1%",right:"0.5%"}}):null,"Paid"===(null===y||void 0===y?void 0:y.status)?null:(0,Z.jsx)("button",{className:o.Z.student_admission_collect_btn,style:{backgroundColor:"#1d22c9f7"},onClick:function(){var e;te[null===(e=b.state)||void 0===e?void 0:e.collectAccess]&&N(2)},children:S(te[null===(j=b.state)||void 0===j?void 0:j.collectAccess]?"scholarship_outs":"unpaid")})]}),1===k?(0,Z.jsx)(ne,{onClose:F,rid:null===g||void 0===g?void 0:g._id}):2===k?(0,Z.jsx)(ee,{onClose:F,admission:g,install:y}):null]})},te={FINANCE_MANAGER:!0,ADMISSION_ADMIN:!0},oe=function(e){var n=e.onClose,i=e.rid,t=e.sid,o=e.onParentClose,a=(0,_.$G)().t,d=(0,u.useState)(!1),y=(0,r.Z)(d,2),g=y[0],b=y[1],S=(0,u.useState)(!1),A=(0,r.Z)(S,2),k=A[0],N=A[1],F=(0,u.useState)({verify:""}),I=(0,r.Z)(F,2),w=I[0],T=I[1],q=(0,l.D1)(),R=(0,r.Z)(q,1)[0];return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(m.Z,{children:(0,Z.jsxs)("div",{className:v.Z.modal_container,children:[(0,Z.jsx)(s.Z,{children:(0,Z.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,Z.jsx)("div",{className:v.Z.modal_container_header,children:(0,Z.jsx)("h6",{children:a("confirm_drop_admission_fees")})}),(0,Z.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,Z.jsx)(f.Z,{}),(0,Z.jsxs)(s.Z,{customStyle:{paddingTop:"0"},children:[(0,Z.jsx)(x.Z,{label:a("type_confirm_to_continue"),placeholder:a("type_confirm_to_continue"),name:"verify",value:null===w||void 0===w?void 0:w.verify,type:"text",onChange:function(e){return T((function(n){return(0,C.Z)((0,C.Z)({},n),{},{verify:e.target.value})}))},errorShow:k.verify}),(0,Z.jsx)(p.Z,{label:"confirm",onAction:function(){var e=(0,j.l)(w);(0,j.x)(e)&&"Confirm"===w.verify?(b((function(e){return!e})),R({rid:i,sid:t}).then((function(){o(),b((function(e){return!e}))})).catch({})):N(e)}})]})]})}),g&&(0,Z.jsx)(h.Z,{})]})},le=i(77123),se=function(e){var n=e.structureId,i=e.onClose,t=e.aid,o=e.appId,s=e.sid,a=e.rid,d=e.did,c=e.bid,_=e.cmid,m=e.onParentClose,v=(0,u.useState)(!1),f=v.disabled,p=v.setDisabled,x=(0,l.$q)(),j=(0,r.Z)(x,1)[0];return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(le.Z,{onClose:i,did:d,bid:c,cmid:_,selectedStructure:n,onSelectedStrucutre:function(e){n===(null===e||void 0===e?void 0:e._id)||t&&s&&o&&n&&a&&(p((function(e){return!e})),j({aid:t,appId:o,sid:s,updateStrucutre:{old_fee_struct:n,new_fee_struct:null===e||void 0===e?void 0:e._id,rid:a}}).then((function(){m(),p((function(e){return!e}))})).catch({}))}}),f&&(0,Z.jsx)(h.Z,{})]})},ae=function(e){var n=e.onClose,i=e.rid,t=e.sid,o=e.is_drop,l=e.structureId,s=e.aid,a=e.appId,d=e.did,c=e.bid,m=e.cmid,v=(0,_.$G)().t,f=(0,u.useState)(!1),p=(0,r.Z)(f,2),h=p[0],x=p[1],j=(0,u.useState)(!1),y=(0,r.Z)(j,2),g=y[0],b=y[1],S=function(){b((function(e){return!e}))},A=function(){x((function(e){return!e}))};return(0,Z.jsx)(Z.Fragment,{children:h?(0,Z.jsx)(oe,{rid:i,sid:t,onClose:A,onParentClose:n}):g?(0,Z.jsx)(se,{structureId:l,onClose:S,aid:s,appId:a,sid:t,rid:i,did:d,bid:c,cmid:m,onParentClose:n}):(0,Z.jsxs)(M.Z,{onClose:n,children:[(0,Z.jsx)("h6",{onClick:S,children:v("edit_fees_structure")}),o?(0,Z.jsx)("h6",{onClick:A,children:v("drop")}):null]})})},de=function(e){var n,i,t,l,s,a,d,m,v,p,h,x,j,y,g,S,A,C,k,N,F,I,T,q,R,M,L=e.admission,D=(0,_.$G)().t,G=(0,u.useState)(""),O=(0,r.Z)(G,2),B=O[0],E=O[1],P=(0,u.useState)(!0),V=(0,r.Z)(P,2),$=V[0],Q=V[1],U=function(){Q((function(e){return!e}))};return console.info("admission",L),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("section",{className:o.Z.af_container_inner,children:[(0,Z.jsxs)("section",{className:o.Z.student_admission_card_title,children:[(0,Z.jsx)("h6",{children:"Promote"===(null===L||void 0===L?void 0:L.card_type)?null!==(n=null===L||void 0===L||null===(i=L.student)||void 0===i||null===(t=i.studentClass)||void 0===t?void 0:t.classTitle)&&void 0!==n?n:"":null!==(l=null===L||void 0===L||null===(s=L.appId)||void 0===s?void 0:s.applicationName)&&void 0!==l?l:""}),(0,Z.jsx)("p",{children:null!==(a=null===L||void 0===L||null===(d=L.fee_structure)||void 0===d?void 0:d.unique_structure_name)&&void 0!==a?a:""}),(0,Z.jsx)("img",{src:"".concat(c.J7,"/menu.svg"),alt:"menu icon",onClick:function(){E(1)},className:o.Z.edit_icon,title:"Menu"})]}),(0,Z.jsx)(b,{scholarNumber:null===L||void 0===L?void 0:L.scholar_ship_number,rcid:null===L||void 0===L?void 0:L._id}),(0,Z.jsx)(w,{admission:L}),(0,Z.jsxs)("div",{className:o.Z.afc_collapse,children:[(0,Z.jsx)("span",{onClick:U,children:D($?"expand":"collapse")}),(0,Z.jsx)("img",{src:"".concat(c.U_,$?"/collapse.svg":"/expand.svg"),alt:"collapse icon",onClick:U})]}),$?null:(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(f.Z,{}),(0,Z.jsx)("h5",{className:o.Z.af_heading,children:D("from_student")}),(0,Z.jsx)(X,{title1:"o_total",amount1:null===L||void 0===L||null===(m=L.applicable_card)||void 0===m?void 0:m.applicable_fee,title2:"paid",amount2:null===L||void 0===L||null===(v=L.applicable_card)||void 0===v?void 0:v.paid_fee,title3:"outstanding",amount3:null===L||void 0===L||null===(p=L.applicable_card)||void 0===p?void 0:p.remaining_fee}),null===L||void 0===L||null===(h=L.applicable_card)||void 0===h||null===(x=h.remaining_array)||void 0===x?void 0:x.map((function(e){return(0,Z.jsx)(z,{install:e,admission:L},null===e||void 0===e?void 0:e._id)})),(0,Z.jsxs)("h5",{className:o.Z.af_heading,style:{marginTop:"1.5rem"},children:[(0,Z.jsx)(f.Z,{}),D("from_gov_scholarship")]}),(0,Z.jsx)(X,{title1:"o_total",amount1:null===L||void 0===L||null===(j=L.government_card)||void 0===j?void 0:j.applicable_fee,title2:"received",amount2:null===L||void 0===L||null===(y=L.government_card)||void 0===y?void 0:y.paid_fee,title3:"outstanding",amount3:null===L||void 0===L||null===(g=L.government_card)||void 0===g?void 0:g.remaining_fee}),null===L||void 0===L||null===(S=L.government_card)||void 0===S||null===(A=S.remaining_array)||void 0===A?void 0:A.map((function(e){return(0,Z.jsx)(ie,{install:e,admission:L},null===e||void 0===e?void 0:e._id)})),(0,Z.jsx)(Y,{admission:L})]})]}),1===B?(0,Z.jsx)(ae,{onClose:function(){E("")},rid:null===L||void 0===L?void 0:L._id,sid:null===L||void 0===L||null===(C=L.student)||void 0===C?void 0:C._id,is_drop:"Disable"!==(null===L||void 0===L?void 0:L.drop_status),structureId:null===L||void 0===L||null===(k=L.fee_structure)||void 0===k?void 0:k._id,aid:null===L||void 0===L||null===(N=L.appId)||void 0===N||null===(F=N.admissionAdmin)||void 0===F?void 0:F._id,appId:null===L||void 0===L||null===(I=L.appId)||void 0===I?void 0:I._id,did:null===L||void 0===L||null===(T=L.fee_structure)||void 0===T?void 0:T.department,bid:null===L||void 0===L||null===(q=L.fee_structure)||void 0===q?void 0:q.batch_master,cmid:null===L||void 0===L||null===(R=L.fee_structure)||void 0===R||null===(M=R.class_master)||void 0===M?void 0:M._id}):null]})},re=i(71439),ue=i(64499),ce=i(8959),_e=function(e){var n,i,o,l,a,d,y,g=e.onClose,b=e.install,S=e.admission,A=e.isEditable,k=(0,_.$G)().t,N=(0,t.UO)(),F=(0,u.useState)(!1),I=(0,r.Z)(F,2),w=I[0],T=(I[1],(0,u.useState)({amount:0,type:"Admission",isTransaction:!1,pay_remain:!1})),q=(0,r.Z)(T,2),R=q[0],M=q[1],L=(0,u.useState)(""),D=(0,r.Z)(L,2),G=D[0],O=D[1],$=(0,u.useState)(0),z=(0,r.Z)($,2),Q=z[0],U=z[1];(0,u.useEffect)((function(){var e;null!==b&&void 0!==b&&b.remainAmount&&M({amount:null!==(e=null===b||void 0===b?void 0:b.remainAmount)&&void 0!==e?e:0,type:"Admission",isTransaction:!1,pay_remain:!1})}),[]);var H=function(e){if(M((function(n){return(0,C.Z)((0,C.Z)({},n),{},{pay_remain:e})})),e){var n,i,t=0,o=(0,B.Z)(null===S||void 0===S||null===(n=S.applicable_card)||void 0===n?void 0:n.remaining_array);try{for(o.s();!(i=o.n()).done;){var l=i.value;t+=null===l||void 0===l?void 0:l.remainAmount}}catch(s){o.e(s)}finally{o.f()}U(t),M((function(e){var n;return(0,C.Z)((0,C.Z)({},e),{},{amount:null!==(n=t)&&void 0!==n?n:0})}))}};return(0,Z.jsxs)(Z.Fragment,{children:[R.isTransaction?(0,Z.jsx)(re.Z,{onClose:function(){M((function(e){return(0,C.Z)((0,C.Z)({},e),{},{isTransaction:!1})}))},allContent:R,checkoutAdmissionHandler:function(){var e,n,i,t,o=2.1*+(null===R||void 0===R?void 0:R.amount)/100,l=o+18*+o/100,s=parseInt(null===R||void 0===R?void 0:R.amount),a=Math.ceil(s+ +l.toFixed(2));(0,ue.oU)({amount:null!==(e=+(null===R||void 0===R?void 0:R.amount))&&void 0!==e?e:10,amount_nocharges:null!==(n=+a)&&void 0!==n?n:0,type:"Admission",paidBy:"".concat(null===S||void 0===S||null===(i=S.student)||void 0===i?void 0:i._id),paidTo:"".concat(null===b||void 0===b?void 0:b.instituteId),moduleId:"".concat(null===b||void 0===b?void 0:b.appId),ad_status_id:null,payment_installment:null===b||void 0===b?void 0:b.installmentValue,ad_install:null,month:null,payment_remain_1:null,payment_card_type:null,payment_book_id:null,name:N.username,isApk:"web",payment_card_id:null!==(t=null===S||void 0===S?void 0:S._id)&&void 0!==t?t:null,payment_remain_fees:R.pay_remain,charge:{num_percent:2,num_max:200}}).then((function(e){var n,i;window.onScriptLoad(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(i=n.body)||void 0===i?void 0:i.txnToken,null===e||void 0===e?void 0:e.order,null===e||void 0===e?void 0:e.amount)})).catch((function(e){console.info(e)}))}}):(0,Z.jsx)(m.Z,{onClose:g,children:(0,Z.jsxs)("div",{className:v.Z.modal_container,children:[(0,Z.jsx)(s.Z,{children:(0,Z.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,Z.jsx)("div",{className:v.Z.modal_container_header,children:(0,Z.jsx)("h6",{children:k("pay_admission_fees")})}),(0,Z.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:g})]})}),(0,Z.jsx)(f.Z,{}),(0,Z.jsxs)(s.Z,{customStyle:{paddingTop:"0"},children:[(0,Z.jsxs)("div",{className:v.Z.admission_fees_row,children:[(0,Z.jsxs)("h6",{children:[k("applicable_pendig_fees_only")," :"]}),(0,Z.jsxs)("h6",{children:[k("rs_only")," ",null!==(n=null===S||void 0===S||null===(i=S.applicable_card)||void 0===i?void 0:i.applicable_fee)&&void 0!==n?n:0]})]}),(0,Z.jsx)("div",{className:v.Z.admission_fees_row,children:(0,Z.jsxs)("h6",{children:[k("fees_category")," :"," ",null!==(o=null===S||void 0===S||null===(l=S.fee_structure)||void 0===l||null===(a=l.category_master)||void 0===a?void 0:a.category_name)&&void 0!==o?o:""]})}),null!==S&&void 0!==S&&null!==(d=S.fee_structure)&&void 0!==d&&d.total_installments&&+(null===S||void 0===S||null===(y=S.fee_structure)||void 0===y?void 0:y.total_installments)>1&&A?(0,Z.jsx)(P.Z,{label:"pay_rest_remaining_fees",children:null===E.nj||void 0===E.nj?void 0:E.nj.map((function(e){return(0,Z.jsx)(V.Z,{tile:e,onTile:H,activeTile:R.pay_remain},null===e||void 0===e?void 0:e.id)}))}):null,A?(0,Z.jsx)(x.Z,{label:k(R.pay_remain?"amount_remain_installment":"enter_amount_to_be_paid"),placeholder:k("please_enter_amount_paid"),name:"amount",value:R.amount,type:"tel",onChange:function(e){M((function(n){return(0,C.Z)((0,C.Z)({},n),{},{amount:+e.target.value})}))},errorShow:G.amount,msg:G.rest_issue}):(0,Z.jsx)(ce.Z,{label:"".concat(k(R.pay_remain?"amount_remain_installment":"amount_to_be_paid")),value:R.pay_remain?Q:R.amount}),(0,Z.jsx)(p.Z,{label:"pay_admission_fees",onAction:function(){var e,n=(0,j.l)({amount:R.amount});(0,j.x)(n)?R.pay_remain&&R.amount<Q&&+(null===S||void 0===S||null===(e=S.fee_structure)||void 0===e?void 0:e.total_installments)?O({rest_issue:"Amount should not be less than total remaining fees"}):M((function(e){return(0,C.Z)((0,C.Z)({},e),{},{isTransaction:!0})})):O(n)}})]})]})}),w&&(0,Z.jsx)(h.Z,{})]})},me=function(e){var n,i,t,l,s,a,d,c,m,v,f,p,h,x,j,y,g=e.install,b=e.admission,S=(0,_.$G)().t,A=(0,u.useState)(""),C=(0,r.Z)(A,2),k=C[0],N=C[1];return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:o.Z.student_admission_cash_card,style:{position:"relative"},children:[(0,Z.jsxs)("section",{className:o.Z.admission_fees_amount,children:[(0,Z.jsxs)("h6",{children:[null===g||void 0===g?void 0:g.installmentValue," ","Paid"===(null===g||void 0===g?void 0:g.status)&&(0,Z.jsx)("span",{children:R()(null===g||void 0===g||null===(n=g.fee_receipt)||void 0===n?void 0:n.fee_transaction_date).format("DD-MMM-YY")})]}),(0,Z.jsxs)("h6",{children:[S("rs_only"),null!==(i=null===g||void 0===g?void 0:g.remainAmount)&&void 0!==i?i:0]})]}),(0,Z.jsx)("section",{className:o.Z.admission_fees_grant,children:"Paid"===(null===g||void 0===g?void 0:g.status)&&"Rejected"!==(null===g||void 0===g?void 0:g.receipt_status)?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("h6",{children:"By Cash"===(null===g||void 0===g||null===(t=g.fee_receipt)||void 0===t?void 0:t.fee_payment_mode)?"Offline":null!==g&&void 0!==g&&null!==(l=g.fee_receipt)&&void 0!==l&&l.fee_payment_mode?null===g||void 0===g||null===(s=g.fee_receipt)||void 0===s?void 0:s.fee_payment_mode:null!==(a=null===g||void 0===g?void 0:g.refund_status)&&void 0!==a?a:""}),(0,Z.jsx)("h6",{children:"Set Off"===(null===g||void 0===g||null===(d=g.fee_receipt)||void 0===d?void 0:d.set_off_status)?"SetOff":"By Cash"===(null===g||void 0===g||null===(c=g.fee_receipt)||void 0===c?void 0:c.fee_payment_mode)?"Cash":"Exempted/Unrecovered"===(null===g||void 0===g||null===(m=g.fee_receipt)||void 0===m?void 0:m.fee_payment_mode)?"N/A":"Bank"})]}):(0,Z.jsx)(Z.Fragment,{children:"Rejected"===(null===g||void 0===g?void 0:g.receipt_status)?(0,Z.jsxs)("h6",{style:{margin:"0"},children:["".concat(S("reason")," : "),null===g||void 0===g?void 0:g.reason]}):(0,Z.jsxs)("h6",{style:{margin:"0"},children:[S("due_on"),null===g||void 0===g?void 0:g.dueDate]})})}),null!==g&&void 0!==g&&null!==(v=g.component)&&void 0!==v&&v.gov?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("section",{className:o.Z.admission_fees_grant,children:[(0,Z.jsx)("h6",{style:{margin:"0"},children:S("applicable_fees")}),(0,Z.jsxs)("h6",{style:{margin:"0",fontSize:"13px",color:"#121212"},children:[S("rs_only"),null!==(f=null===g||void 0===g||null===(p=g.component)||void 0===p?void 0:p.app)&&void 0!==f?f:0]})]}),(0,Z.jsxs)("section",{className:o.Z.admission_fees_grant,children:[(0,Z.jsx)("h6",{style:{margin:"0"},children:S("govt_fees")}),(0,Z.jsxs)("h6",{style:{margin:"0",fontSize:"13px",color:"#121212"},children:[S("rs_only"),null!==(h=null===g||void 0===g||null===(x=g.component)||void 0===x?void 0:x.gov)&&void 0!==h?h:0]})]})]}):null,"Requested"!==(null===g||void 0===g?void 0:g.receipt_status)&&"Rejected"!==(null===g||void 0===g?void 0:g.receipt_status)&&"Paid"===(null===g||void 0===g?void 0:g.status)?null!==g&&void 0!==g&&g.cover_status?(0,Z.jsx)("button",{className:o.Z.student_admission_collect_btn,style:{width:"100%",backgroundColor:"rgb(92 92 92)",fontSize:"0.7rem"},children:null===g||void 0===g?void 0:g.cover_status}):(0,Z.jsx)(O,{rid:null===g||void 0===g||null===(j=g.fee_receipt)||void 0===j?void 0:j._id,appId:null===b||void 0===b||null===(y=b.appId)||void 0===y?void 0:y._id}):(0,Z.jsx)("button",{className:o.Z.student_admission_collect_btn,style:"Requested"===(null===g||void 0===g?void 0:g.receipt_status)||"Rejected"===(null===g||void 0===g?void 0:g.receipt_status)?{width:"100%",backgroundColor:"#B8B83E"}:{width:"100%"},onClick:function(){null!==g&&void 0!==g&&g.isEnable&&N(2)},children:"Requested"===(null===g||void 0===g?void 0:g.receipt_status)?S("receipt_requested"):"Rejected"===(null===g||void 0===g?void 0:g.receipt_status)?S("receipt_rejected"):S("pay")})]}),2===k?(0,Z.jsx)(_e,{onClose:function(){N("")},install:g,admission:b}):null]})},ve=function(e){var n,i,t,l,s,a,d,m,v,p,h,x,j,y,g,S,A,C=e.admission,k=e.howManyCard,N=(0,_.$G)().t,F=(0,u.useState)(!0),I=(0,r.Z)(F,2),T=I[0],q=I[1],R=function(){q((function(e){return!e}))};return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("section",{className:o.Z.af_container_inner,style:{flex:fe[k]?"1 1 49%":"inherite",maxWidth:fe[k]?"49%":"inherite"},children:[(0,Z.jsxs)("section",{className:o.Z.student_admission_card_title,children:[(0,Z.jsx)("h6",{children:"Promote"===(null===C||void 0===C?void 0:C.card_type)?null!==(n=null===C||void 0===C||null===(i=C.student)||void 0===i||null===(t=i.studentClass)||void 0===t?void 0:t.classTitle)&&void 0!==n?n:"":null!==(l=null===C||void 0===C||null===(s=C.appId)||void 0===s?void 0:s.applicationName)&&void 0!==l?l:""}),(0,Z.jsx)("p",{children:null!==(a=null===C||void 0===C||null===(d=C.fee_structure)||void 0===d?void 0:d.unique_structure_name)&&void 0!==a?a:""})]}),(0,Z.jsx)(b,{scholarNumber:null===C||void 0===C?void 0:C.scholar_ship_number,rcid:null===C||void 0===C?void 0:C._id,isAuthorized:"notAuthorized"}),(0,Z.jsx)(w,{admission:C}),(0,Z.jsxs)("div",{className:o.Z.afc_collapse,children:[(0,Z.jsx)("span",{onClick:R,children:N(T?"expand":"collapse")}),(0,Z.jsx)("img",{src:"".concat(c.U_,T?"/collapse.svg":"/expand.svg"),alt:"collapse icon",onClick:R})]}),T?null:(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(f.Z,{}),(0,Z.jsx)("h5",{className:o.Z.af_heading,children:N("from_student")}),(0,Z.jsx)(X,{title1:"o_total",amount1:null===C||void 0===C||null===(m=C.applicable_card)||void 0===m?void 0:m.applicable_fee,title2:"paid",amount2:null===C||void 0===C||null===(v=C.applicable_card)||void 0===v?void 0:v.paid_fee,title3:"outstanding",amount3:null===C||void 0===C||null===(p=C.applicable_card)||void 0===p?void 0:p.remaining_fee}),null===C||void 0===C||null===(h=C.applicable_card)||void 0===h||null===(x=h.remaining_array)||void 0===x?void 0:x.map((function(e){return(0,Z.jsx)(me,{install:e,admission:C},null===e||void 0===e?void 0:e._id)})),(0,Z.jsxs)("h5",{className:o.Z.af_heading,style:{marginTop:"1.5rem"},children:[(0,Z.jsx)(f.Z,{}),N("from_gov_scholarship")]}),(0,Z.jsx)(X,{title1:"o_total",amount1:null===C||void 0===C||null===(j=C.government_card)||void 0===j?void 0:j.applicable_fee,title2:"received",amount2:null===C||void 0===C||null===(y=C.government_card)||void 0===y?void 0:y.paid_fee,title3:"outstanding",amount3:null===C||void 0===C||null===(g=C.government_card)||void 0===g?void 0:g.remaining_fee}),null===C||void 0===C||null===(S=C.government_card)||void 0===S||null===(A=S.remaining_array)||void 0===A?void 0:A.map((function(e){return(0,Z.jsx)(ie,{install:e,admission:C},null===e||void 0===e?void 0:e._id)})),(0,Z.jsx)(Y,{admission:C,isAuthorized:"notAuthorized"})]})]})})},fe={onlyTowCard:!0},pe=function(){var e,n,i,r=(0,t.TH)(),u=(0,l.Wb)({sid:null===(e=r.state)||void 0===e?void 0:e.sid,skip:!(null!==(n=r.state)&&void 0!==n&&n.sid)}),c=u.studentAdmissionFeeList,_=u.studentAdmissionFeeListLoading;return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(s.Z,{children:(0,Z.jsxs)("section",{className:o.Z.af_container,children:["STUDENT"===(null===(i=r.state)||void 0===i?void 0:i.viewAs)?null===c||void 0===c?void 0:c.map((function(e){var n;return(0,Z.jsx)(ve,{admission:e,howManyCard:null===(n=r.state)||void 0===n?void 0:n.howManyCard},null===e||void 0===e?void 0:e._id)})):null===c||void 0===c?void 0:c.map((function(e){return(0,Z.jsx)(de,{admission:e},null===e||void 0===e?void 0:e._id)})),_?(0,Z.jsx)(a.Z,{}):0===(null===c||void 0===c?void 0:c.length)&&(0,Z.jsx)(d.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission fees list."})]})})})}},85794:function(e,n,i){i.d(n,{Z:function(){return _}});var t=i(1413),o=i(29439),l=i(72791),s=i(54164),a=i(15783),d=i(98684),r=i(80184),u=function(e){var n=e.onClose,i=e.isVariant,t=e.isHide,o=e.children;return s.createPortal((0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:a.Z.notify_backdrop}),(0,r.jsx)("div",{className:t?a.Z.notify_hide_overlay:a.Z.notify_overlay,children:(0,r.jsxs)("div",{className:a.Z.notify_container,style:{"--notify-bg-color":i},children:[o,(0,r.jsx)("img",{src:"".concat(d.J7,"/close.svg"),alt:"close icon",onClick:n,className:a.Z.notify_close})]})})]}),document.getElementById("notify-alert"))},c={success:"green",error:"#ed4a4a",warning:"orange"},_=function(e){var n,i=e.eventState,s=e.eventStateHandler,d=(0,l.useState)(!1),_=(0,o.Z)(d,2),m=_[0],v=_[1];return null!==i&&void 0!==i&&i.open?(0,r.jsx)(u,{onClose:function(){v(!0);var e=setTimeout((function(){s((function(e){return(0,t.Z)((0,t.Z)({},e),{},{open:!1,msg:"",variant:"success"})})),v(!1)}),500);return function(){return clearTimeout(e)}},isVariant:c[null===i||void 0===i?void 0:i.variant],isHide:m,children:(0,r.jsx)("h6",{className:a.Z.notify_message,children:null!==(n=null===i||void 0===i?void 0:i.msg)&&void 0!==n?n:""})}):null}},78981:function(e,n){n.Z={af_container:"StudentAdmissionFees_af_container__Ujcky",af_container_inner:"StudentAdmissionFees_af_container_inner__XqsB1",afc_collapse:"StudentAdmissionFees_afc_collapse__NOW5n",safcst_container:"StudentAdmissionFees_safcst_container__+h3we",safcst_container_inner:"StudentAdmissionFees_safcst_container_inner__2XAhi",af_heading:"StudentAdmissionFees_af_heading__S1QwL",af_top_container:"StudentAdmissionFees_af_top_container__lY3mr",edit_icon:"StudentAdmissionFees_edit_icon__qdSg1",admission_fees_container:"StudentAdmissionFees_admission_fees_container__DT2KG",admission_fees_amount:"StudentAdmissionFees_admission_fees_amount__94M+n",admission_fees_amount_top:"StudentAdmissionFees_admission_fees_amount_top__cOmxF",admission_fees_grant:"StudentAdmissionFees_admission_fees_grant__l+6B8",pending_btn:"StudentAdmissionFees_pending_btn__0tfYk",paid_btn:"StudentAdmissionFees_paid_btn__sM4tO",refund_btn:"StudentAdmissionFees_refund_btn__mUqNR",card_title:"StudentAdmissionFees_card_title__lnVPO",collect_btn:"StudentAdmissionFees_collect_btn__5BueI",add_remark:"StudentAdmissionFees_add_remark__qrcQO",add_remark_btn:"StudentAdmissionFees_add_remark_btn__zteTD",add_remark_text:"StudentAdmissionFees_add_remark_text__MLxEk",remark_modal:"StudentAdmissionFees_remark_modal__C3jhB",save_remark:"StudentAdmissionFees_save_remark__LnpAM",remark_modal_title:"StudentAdmissionFees_remark_modal_title__WeXGc",student_admission_fees_card_container:"StudentAdmissionFees_student_admission_fees_card_container__HODQX",student_admission_card_title:"StudentAdmissionFees_student_admission_card_title__Bj54b",student_admission_count_container:"StudentAdmissionFees_student_admission_count_container__BwIb0",student_admission_count:"StudentAdmissionFees_student_admission_count__hc-KT",student_admission_count_image:"StudentAdmissionFees_student_admission_count_image__jgbyV",show_text:"StudentAdmissionFees_show_text__aG358",student_admission_cash_card:"StudentAdmissionFees_student_admission_cash_card__rY1DQ",view_receipt_btn:"StudentAdmissionFees_view_receipt_btn__yIDFL",student_admission_collect_btn:"StudentAdmissionFees_student_admission_collect_btn__oV+d1",remark_card_container:"StudentAdmissionFees_remark_card_container__2TW2I",image_refund_btn:"StudentAdmissionFees_image_refund_btn__eaTlh",add_scholar_number_btn:"StudentAdmissionFees_add_scholar_number_btn__luF-w"}}}]);
//# sourceMappingURL=9797.5f104f6a.chunk.js.map