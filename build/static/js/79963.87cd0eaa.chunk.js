"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[79963],{96406:(e,n,a)=>{a.d(n,{Z:()=>h});var l=a(72791),i=a(7133),o=a(53461),t=a(48808),d=(a(27549),a(20717),a(93638)),c=a(16925),s=a(1095),r=a(38857),_=a(21348),u=a(98684),m=a(39230),v=a(90904),p=a(1669),f=a(80184);i.Tu.workerSrc=new URL(a(78386),a.b).toString();const h=e=>{let{documentUrl:n,subUrl:a,fileName:i,onClose:h}=e;const{t:b}=(0,m.$G)(),[x,k]=(0,l.useState)(0),[j,g]=(0,l.useState)(1),y=()=>{};return(0,f.jsx)(r.Z,{onClose:y,children:(0,f.jsxs)("div",{className:c.Z.pdf_modal_container,children:[(0,f.jsx)(_.default,{children:(0,f.jsxs)("div",{className:c.Z.modal_container_outer_header,children:[(0,f.jsx)("div",{className:c.Z.modal_container_header,children:(0,f.jsx)("h6",{children:null!==i&&void 0!==i?i:""})}),(0,f.jsxs)("div",{className:c.Z.modal_container_header,children:[(0,f.jsx)("a",{href:"".concat(s.LS,"/").concat(n),target:"_blank",rel:"noopener noreferrer",children:(0,f.jsx)(d.Z,{label:"save",customStyle:{margin:"0",padding:"0.2rem 1rem"},onAction:y})}),(0,f.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:h})]})]})}),(0,f.jsx)(v.Z,{}),(0,f.jsx)(o.Z,{file:"".concat(a,"/").concat(n),onLoadSuccess:e=>{k(e)},loading:(0,f.jsx)(p.Z,{}),children:(0,f.jsx)(t.Z,{pageNumber:j})})]})})}},38986:(e,n,a)=>{a.d(n,{Z:()=>c});var l=a(72791),i=a(52245),o=a(39230),t=a(1095),d=a(80184);const c=e=>{let{label:n,name:a,value:c,onChange:s,errorShow:r,disabled:_,customFormFileContainer:u,customFormFileLabel:m,customFormFile:v,type:p,multiple:f}=e;const{t:h}=(0,o.$G)(),b=(0,l.useCallback)((()=>{const e=window.open("".concat(t.yI,"/").concat(null===c||void 0===c?void 0:c.key),"_blank","noopener,noreferrer");e&&(e.opener=null)}),[null===c||void 0===c?void 0:c.key]);return(0,d.jsxs)("div",{className:i.Z.form_input_container,style:{...u},children:[n&&(0,d.jsxs)("label",{className:i.Z.form_input_label,style:m,children:[n,r?(0,d.jsxs)("span",{className:i.Z.form_input_label_error,children:["* ",h("form_require_label")]}):null]}),(0,d.jsxs)("div",{className:i.Z.form_file_container,style:v,children:[(0,d.jsx)("label",{className:c?"".concat(i.Z.form_file_choose," ").concat(i.Z.form_file_choose_active):i.Z.form_file_choose,htmlFor:a,children:h(""!==c?"file_choosen":"choose_file")}),(0,d.jsx)("label",{className:i.Z.form_file_choosen,onClick:b,children:""!==c?null!==c&&void 0!==c&&c.name?null===c||void 0===c?void 0:c.name:h("view"):h("no_file_chosen")})]}),(0,d.jsx)("input",{type:"file",multiple:!!f,accept:p||"image/*, .doc,.docx, application/pdf,.csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",name:a,id:a,style:{display:"none"},onChange:s,disabled:_})]})}},31897:(e,n,a)=>{a.d(n,{Z:()=>c});var l=a(72791),i=a(39230),o=a(52245),t=a(98684),d=a(80184);const c=e=>{let{selectLabel:n,onClick:a,selectedValue:c,options:s,customStyleContainer:r,customLabelStyle:_,customListStyle:u,errorShow:m,defalutValue:v,viewAs:p,isFull:f,isDenied:h}=e;const{t:b}=(0,i.$G)(),[x,k]=(0,l.useState)(!1),[j,g]=(0,l.useState)(""),y=()=>{h||k((e=>!e))};(0,l.useEffect)((()=>{"NORMAL_FILTER"===p&&g(v)}),[p,v]),(0,l.useEffect)((()=>{if("CUSTOM_FILTER"===p){let l="";for(let i of s)for(let o of v)if((null===i||void 0===i?void 0:i._id)===o){var e,n,a;let o=null!==(e=null!==(n=null!==(a=null===i||void 0===i?void 0:i.dName)&&void 0!==a?a:null===i||void 0===i?void 0:i.batchName)&&void 0!==n?n:null===i||void 0===i?void 0:i.className)&&void 0!==e?e:"";l=l?l+", "+o:o}g(l)}}),[p,v,s]);return(0,d.jsxs)("div",{className:o.Z.form_input_container,style:{...r},children:[(0,d.jsxs)("p",{className:o.Z.join_form_select_paragraph,style:{..._},children:[n,m&&(0,d.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",b("form_require_label")]})]}),(0,d.jsxs)("section",{className:o.Z.join_form_select_custom,onClick:y,children:[j?(0,d.jsx)("p",{className:o.Z.join_form_select_custom_paragraph,children:null!==j&&void 0!==j?j:""}):(0,d.jsx)("p",{className:o.Z.join_form_select_custom_paragraph,children:c}),x?(0,d.jsx)("img",{className:o.Z.join_form_select_custom_rotate_icon,src:"".concat(t.J7,"/down.svg"),alt:"categor icon"}):(0,d.jsx)("img",{className:o.Z.join_form_select_custom_icon,src:"".concat(t.J7,"/down.svg"),alt:"categor icon"})]}),x&&(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("section",{className:o.Z.join_form_select_custom_list,style:u,children:null===s||void 0===s?void 0:s.map(((e,n)=>{var l;return(0,d.jsx)("p",{onClick:()=>(e=>{var n;a(f?e:null===e||void 0===e?void 0:e._id),y(),g(null!==(n=null===e||void 0===e?void 0:e.dName)&&void 0!==n?n:e)})(e),className:o.Z.join_form_select_custom_paragraph_option,children:null!==(l=null===e||void 0===e?void 0:e.dName)&&void 0!==l?l:e},n)}))})})]})}},79963:(e,n,a)=>{a.r(n),a.d(n,{default:()=>Be});var l=a(56959),i=a(39230),o=a(72791);const t="BankDetail_bank_detail_card__XlDeo",d="BankDetail_bank_detail_card_heading__mL+og",c="BankDetail_bank_detail_card_inner__WTrMU",s="BankDetail_bank_detail_applicable__o9ybT",r="BankDetail_bank_detail_card_upi__B4gIC",_="BankDetail_bank_detail_card_qr__1sjcI",u="BankDetail_bank_detail_list__pwEqa",m="BankDetail_applicable_btn_container__eJ1fc",v="BankDetail_applicable_btn__T+Xhu",p="BankDetail_applicable_text__-94Qt",f="BankDetail_applicable_text_error__N2w5n",h="BankDetail_bank_fund_container__7nWd7",b="BankDetail_bank_fund__mShX7",x="BankDetail_bank_details__-SkE-",k="BankDetail_bank_upi__a1q+v",j="BankDetail_bank_qr_code__PmB1G",g="BankDetail_bank_qr_code_text__R7pza",y="BankDetail_modal_container__lWae0";var Z=a(6758),N=a(8959),S=a(1095),I=a(98684),C=a(80184);let w={fontWeight:"400"};const F=e=>{var n,a,l,o,u,m,v,p,f,h;let{bank:b}=e;const{t:x}=(0,i.$G)();return(0,C.jsxs)("div",{className:t,children:[(0,C.jsxs)("div",{className:d,children:[(0,C.jsx)("img",{src:"".concat(I.J7,"/bank-card.svg"),alt:"bank icon"}),(0,C.jsxs)("div",{className:c,children:[(0,C.jsx)("h6",{children:null!==(n=null===b||void 0===b?void 0:b.finance_bank_name)&&void 0!==n?n:""}),(0,C.jsx)("p",{children:null!==b&&void 0!==b&&null!==(a=b.department)&&void 0!==a&&a.dName?null===b||void 0===b||null===(l=b.department)||void 0===l?void 0:l.dName:null!==b&&void 0!==b&&b.hostel?"Hostel":null!==b&&void 0!==b&&b.library?"Library":null!==b&&void 0!==b&&b.transport?"Transport":(null===b||void 0===b||null===(o=b.departments)||void 0===o?void 0:o.length)>0?null===b||void 0===b||null===(u=b.departments)||void 0===u?void 0:u.map(((e,n)=>{var a,l;return(0,C.jsxs)("span",{children:[null!==(a=null===e||void 0===e?void 0:e.dName)&&void 0!==a?a:"",n+1===(null===b||void 0===b||null===(l=b.departments)||void 0===l?void 0:l.length)?"":", "]},null===e||void 0===e?void 0:e._id)})):"Society"===(null===b||void 0===b?void 0:b.bank_account_type)?"Society":""})]})]}),(0,C.jsxs)("section",{className:s,children:[(0,C.jsxs)("h6",{children:[x("applicable_for")," "," : "," "]}),(0,C.jsx)(N.Z,{label:null!==b&&void 0!==b&&null!==(m=b.department)&&void 0!==m&&m.dName?null===b||void 0===b||null===(v=b.department)||void 0===v?void 0:v.dName:null!==b&&void 0!==b&&b.hostel?"Hostel":null!==b&&void 0!==b&&b.library?"Library":null!==b&&void 0!==b&&b.transport?"Transport":(null===b||void 0===b||null===(p=b.departments)||void 0===p?void 0:p.length)>0?null===b||void 0===b||null===(f=b.departments)||void 0===f?void 0:f.map(((e,n)=>{var a,l;return(0,C.jsxs)("span",{children:[null!==(a=null===e||void 0===e?void 0:e.dName)&&void 0!==a?a:"",n+1===(null===b||void 0===b||null===(l=b.departments)||void 0===l?void 0:l.length)?"":", "]},null===e||void 0===e?void 0:e._id)})):"Society"===(null===b||void 0===b?void 0:b.bank_account_type)?"Society":"",customFormInputLabel:w})]}),(0,C.jsxs)("section",{className:s,children:[(0,C.jsx)("h6",{children:x("bank_details")}),(0,C.jsx)(N.Z,{label:"".concat(x("bank_name")," :"),value:null===b||void 0===b?void 0:b.finance_bank_name,customFormInput:w}),(0,C.jsx)(N.Z,{label:"".concat(x("account_name")," :"),value:null===b||void 0===b?void 0:b.finance_bank_account_name,customFormInput:w}),(0,C.jsx)(N.Z,{label:"".concat(x("account_number")," :"),value:null===b||void 0===b?void 0:b.finance_bank_account_number,customFormInput:w}),(0,C.jsx)(N.Z,{label:"".concat(x("ifsc_code")," :"),value:null===b||void 0===b?void 0:b.finance_bank_ifsc_code,customFormInput:w}),(0,C.jsx)(N.Z,{label:"".concat(x("address")," :"),value:null===b||void 0===b?void 0:b.finance_bank_branch_address,customFormInput:w})]}),(0,C.jsx)(N.Z,{label:"".concat(x("upi_id")," :"),value:null===b||void 0===b?void 0:b.finance_bank_upi_id,customFormInput:w}),(0,C.jsxs)("section",{className:r,style:{width:"100%",alignItems:"flex-start"},children:[(0,C.jsxs)("div",{className:_,children:[(0,C.jsxs)("h6",{children:[x("qr_code"),":"]}),(0,C.jsx)("p",{children:null!==(h=null===b||void 0===b?void 0:b.finance_bank_upi_id)&&void 0!==h?h:""})]}),null!==b&&void 0!==b&&b.finance_bank_upi_qrcode?(0,C.jsx)("img",{src:"".concat(S.yI,"/").concat(null===b||void 0===b?void 0:b.finance_bank_upi_qrcode),alt:"qr code"}):""]})]})};var B=a(16871),D=a(43677),T=a(1669),L=a(23441),A=a(91427),q=a(2651);const E=e=>{var n,a;let{fid:l}=e;const i=(0,B.TH)(),[t,d]=(0,o.useState)(1),[c,s]=(0,o.useState)(!0),[r,_]=(0,L.YD)(),{financeAllBank:m,financeAllBankLoading:v}=(0,Z.iB)({data:{fid:l,page:t,limit:10,search:""},skip:!l});return(0,o.useEffect)((()=>{_&&c&&d((e=>e+1))}),[_,c]),(0,o.useEffect)((()=>{if(null!==m&&void 0!==m&&m.list){var e;let n=(0,A.f)(null===m||void 0===m||null===(e=m.list)||void 0===e?void 0:e.length);s((()=>n))}}),[null===m||void 0===m?void 0:m.list]),(0,C.jsxs)("div",{className:u,children:[null===m||void 0===m||null===(n=m.list)||void 0===n?void 0:n.map(((e,n)=>{var a;return(null===m||void 0===m||null===(a=m.list)||void 0===a?void 0:a.length)===n+1?(0,C.jsx)("div",{ref:r,style:{width:"49%"},children:(0,C.jsx)(D.Z,{parentState:{...i.state,bankId:null===e||void 0===e?void 0:e._id},activeUrl:"type=bank&n=detail",children:(0,C.jsx)(F,{bank:e})})},null===e||void 0===e?void 0:e._id):(0,C.jsx)("div",{style:{width:"49%"},children:(0,C.jsx)(D.Z,{parentState:{...i.state,bankId:null===e||void 0===e?void 0:e._id},activeUrl:"type=bank&n=detail",children:(0,C.jsx)(F,{bank:e})})},null===e||void 0===e?void 0:e._id)})),v?(0,C.jsx)(T.Z,{}):0===(null===m||void 0===m||null===(a=m.list)||void 0===a?void 0:a.length)&&(0,C.jsx)(q.Z,{title:"No banks added."})]})},G=(0,o.memo)(E);var J=a(38857),R=a(21348),M=a(31897);const O=e=>{var n,a;let{fid:l,onToggle:t,libraryId:d,transportId:c,hostelId:s,setApplicablFor:r}=e;const{t:_}=(0,i.$G)(),[u,m]=(0,o.useState)({flow:"",flow_id:"",flow_name:"",depart_arr:[]}),{instituteAllDepartment:p}=(0,Z.Jv)({fid:l,skip:!l});return(0,C.jsx)(J.Z,{onClose:t,children:(0,C.jsx)("div",{className:y,children:(0,C.jsxs)(R.default,{customStyle:{paddingBottom:"1rem"},children:[(0,C.jsx)(M.Z,{selectLabel:_("applicable_for"),selectedValue:_("applicable_for_placeholder"),options:["Internal Department","Society","Transport","Library","Hostel"],onClick:e=>{"Hostel"===e?m({flow:"Hostel",flow_id:s,flow_name:"Hostel",depart_arr:[]}):"Transport"===e?m({flow:"Transport",flow_id:c,flow_name:"Transport",depart_arr:[]}):"Library"===e?m({flow:"Library",flow_id:d,flow_name:"Library",depart_arr:[]}):"Society"===e?m({flow:"Society",flow_id:null,flow_name:"Society",depart_arr:[]}):"Internal Department"===e&&m({flow:"Department",flow_id:"",flow_name:"",depart_arr:[]})},isFull:!0}),"Department"===u.flow&&(0,C.jsx)(M.Z,{selectLabel:_("select_internal_department"),selectedValue:_("select_internal_department_placeholder"),options:null!==p&&void 0!==p?p:[],onClick:e=>{m((n=>({...n,flow_id:null===e||void 0===e?void 0:e._id,flow_name:null===e||void 0===e?void 0:e.dName,depart_arr:[...new Set([...n.depart_arr,null===e||void 0===e?void 0:e._id])]})))},isFull:!0,viewAs:"NORMAL_FILTER",defalutValue:(null===(n=u.depart_arr)||void 0===n?void 0:n.length)>1?"".concat(null===(a=u.depart_arr)||void 0===a?void 0:a.length," department selected"):u.flow_name}),(0,C.jsx)("button",{className:v,onClick:()=>{r(u),t()},style:{width:"100%",justifyContent:"center"},children:(0,C.jsx)("div",{children:_("select")})})]})})})},$=e=>{var n,a;let{errorField:l,applicableFor:t,libraryId:d,transportId:c,hostelId:s,setApplicablFor:r,fid:_}=e;const{t:u}=(0,i.$G)(),[h,b]=(0,o.useState)(!1),x=(0,o.useCallback)((()=>{b((e=>!e))}),[]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:m,style:{marginTop:"1rem"},children:[(0,C.jsxs)("button",{className:v,onClick:x,style:{marginTop:"0"},children:[(0,C.jsx)("div",{children:u("account_applicable_for")}),(0,C.jsx)("img",{src:"".concat(I.J7,"/forward.svg"),alt:"next step"})]}),(null===t||void 0===t?void 0:t.flow_name)&&(0,C.jsx)("h6",{className:p,children:(null===t||void 0===t||null===(n=t.depart_arr)||void 0===n?void 0:n.length)>1?"".concat(null===t||void 0===t||null===(a=t.depart_arr)||void 0===a?void 0:a.length," department selected"):null===t||void 0===t?void 0:t.flow_name})]}),l.flow_id&&(0,C.jsxs)("p",{className:f,children:["* ",u("form_require_label")]}),h&&(0,C.jsx)(O,{fid:_,onToggle:x,libraryId:d,transportId:c,hostelId:s,setApplicablFor:r})]})},Y=(0,o.memo)($);var H=a(21625),K=a(90904),P=a(61055),U=a(38986),V=a(93638),W=a(55336);const z=e=>{let{onClose:n,fid:a,libraryId:t,transportId:d,hostelId:c,openAs:s,onEditAction:r,openBankMenu:_}=e;const{t:u}=(0,i.$G)(),[m]=(0,H.FL)(),[v]=(0,Z.WJ)(),[p,f]=(0,o.useState)(!1),[h,b]=(0,o.useState)(""),[x,k]=(0,o.useState)({finance_bank_name:"",finance_bank_account_number:"",finance_bank_account_name:"",finance_bank_ifsc_code:"",finance_bank_branch_address:"",finance_bank_upi_id:"",finance_bank_upi_qrcode:"",finance_bank_re_account_number:"",finance_bank_re_upi_id:""}),[j,g]=(0,o.useState)({flow:"",flow_id:"",flow_name:"",depart_arr:[]}),[y,N]=(0,o.useState)("");(0,o.useEffect)((()=>{var e,n,a,l,i,o,t,d,c;"EDIT"===s&&k({finance_bank_name:null!==(e=null===_||void 0===_?void 0:_.finance_bank_name)&&void 0!==e?e:"",finance_bank_account_number:null!==(n=null===_||void 0===_?void 0:_.finance_bank_account_number)&&void 0!==n?n:"",finance_bank_account_name:null!==(a=null===_||void 0===_?void 0:_.finance_bank_account_name)&&void 0!==a?a:"",finance_bank_ifsc_code:null!==(l=null===_||void 0===_?void 0:_.finance_bank_ifsc_code)&&void 0!==l?l:"",finance_bank_branch_address:null!==(i=null===_||void 0===_?void 0:_.finance_bank_branch_address)&&void 0!==i?i:"",finance_bank_upi_id:null!==(o=null===_||void 0===_?void 0:_.finance_bank_upi_id)&&void 0!==o?o:"",finance_bank_upi_qrcode:null!==(t=null===_||void 0===_?void 0:_.finance_bank_upi_qrcode)&&void 0!==t?t:"",finance_bank_re_account_number:null!==(d=null===_||void 0===_?void 0:_.finance_bank_account_number)&&void 0!==d?d:"",finance_bank_re_upi_id:null!==(c=null===_||void 0===_?void 0:_.finance_bank_upi_id)&&void 0!==c?c:""})}),[s]);const S=e=>{k((n=>({...n,[e.target.name]:e.target.value})))},w=(0,o.useCallback)((e=>{f((e=>!e));const n=new FormData;N(e.target.files[0]),n.append("file",e.target.files[0]),m({fileUpload:n}).then((e=>{f((e=>!e)),k((n=>{var a;return{...n,finance_bank_upi_qrcode:null===(a=e.data)||void 0===a?void 0:a.imageKey}}))})).catch((()=>{f((e=>!e))}))}),[]),F=(0,o.useCallback)((()=>{if("EDIT"===s){const e=Q(x);let n=!1;for(let a in e){n=!0;break}n?b(e):r(x)}else{const e=X(x,j);let l=!1;for(let n in e){l=!0;break}l?b(e):(f((e=>!e)),v({fid:a,...j,bankDetails:{...x,depart_arr:j.depart_arr}}).then((()=>{n(),f((e=>!e))})).catch((()=>{f((e=>!e))})))}}),[x]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(R.default,{children:(0,C.jsxs)("div",{className:l.Z.fm_header_start_container,children:[(0,C.jsx)("img",{src:"".concat(I.J7,"/back-arrow.svg"),alt:"back arrow",title:"Add Bank",onClick:n}),(0,C.jsxs)("h6",{children:[" ",u("EDIT"===s?"update_bank_details":"add_bank_details")]})]})}),(0,C.jsx)(K.Z,{}),(0,C.jsxs)(R.default,{customStyle:{paddingTop:"0"},children:["EDIT"===s?null:(0,C.jsx)(Y,{applicableFor:j,errorField:h,fid:a,libraryId:t,transportId:d,hostelId:c,setApplicablFor:g}),(0,C.jsx)(P.Z,{label:u("bank_name"),placeholder:u("bank_name_placeholder"),name:"finance_bank_name",value:x.finance_bank_name,type:"text",onChange:S,errorShow:h.finance_bank_name}),(0,C.jsx)(P.Z,{label:u("account_name"),placeholder:u("account_name_placeholder"),name:"finance_bank_account_name",value:x.finance_bank_account_name,type:"text",onChange:S,errorShow:h.finance_bank_account_name}),(0,C.jsx)(P.Z,{label:u("account_number"),placeholder:u("account_number_placeholder"),name:"finance_bank_account_number",value:x.finance_bank_account_number,type:"tel",onChange:S,errorShow:h.finance_bank_name}),(0,C.jsx)(P.Z,{label:u("confirm_account_number"),placeholder:u("confirm_account_number_placeholder"),name:"finance_bank_re_account_number",value:x.finance_bank_re_account_number,type:"tel",onChange:S,errorShow:h.finance_bank_re_account_number,msg:h.finance_bank_re_account_number}),(0,C.jsx)(P.Z,{label:u("ifsc_code"),placeholder:u("ifsc_code_placeholder"),name:"finance_bank_ifsc_code",value:x.finance_bank_ifsc_code,type:"text",onChange:S,errorShow:h.finance_bank_ifsc_code}),(0,C.jsx)(P.Z,{label:u("address_of_bank"),placeholder:u("address_of_bank_placeholder"),name:"finance_bank_branch_address",value:x.finance_bank_branch_address,type:"text",onChange:S,errorShow:h.finance_bank_branch_address}),(0,C.jsx)(P.Z,{label:u("upi_id"),placeholder:u("upi_id_placeholder"),name:"finance_bank_upi_id",value:x.finance_bank_upi_id,type:"text",onChange:S,errorShow:h.finance_bank_upi_id}),(0,C.jsx)(P.Z,{label:u("confirm_upi_id"),placeholder:u("finance_bank_re_upi_id"),name:"finance_bank_re_upi_id",value:x.finance_bank_re_upi_id,type:"text",onChange:S,errorShow:h.finance_bank_re_upi_id,msg:h.finance_bank_re_upi_id}),(0,C.jsx)(U.Z,{label:u("qr_code_above_upi"),name:"finance_bank_upi_qrcode",value:null!==y&&void 0!==y&&y.name?{name:null===y||void 0===y?void 0:y.name}:"",onChange:w,errorShow:h.finance_bank_upi_qrcode}),(0,C.jsx)(V.Z,{label:"save",onAction:F})]}),p&&(0,C.jsx)(W.default,{})]})},X=(e,n)=>{const a={};for(let l in e)"finance_bank_account_number"===l&&e.finance_bank_account_number!==e.finance_bank_re_account_number?a.finance_bank_re_account_number="form_account_dose_not_match_label":"finance_bank_upi_id"===l&&e.finance_bank_upi_id!==e.finance_bank_re_upi_id?a.finance_bank_re_upi_id="upi_id_dose_not_match_label":"finance_bank_upi_id"===l||"finance_bank_upi_qrcode"===l||"finance_bank_re_upi_id"===l||e[l]||(a[l]="* required");return null!==n&&void 0!==n&&n.flow_id||"Society"===(null===n||void 0===n?void 0:n.flow_name)||(a.flow_id="flow_id is required"),a},Q=e=>{const n={};for(let a in e)"finance_bank_account_number"===a&&e.finance_bank_account_number!==e.finance_bank_re_account_number?n.finance_bank_re_account_number="form_account_dose_not_match_label":"finance_bank_upi_id"===a&&e.finance_bank_upi_id!==e.finance_bank_re_upi_id?n.finance_bank_re_upi_id="upi_id_dose_not_match_label":"finance_bank_upi_id"===a||"finance_bank_upi_qrcode"===a||"finance_bank_re_upi_id"===a||e[a]||(n[a]="* required");return n};var ee=a(43504);const ne=e=>{let{totalRepay:n,collectOnline:a,dueRepay:l}=e;const{t:o}=(0,i.$G)();return(0,C.jsxs)("div",{className:h,children:[(0,C.jsxs)("div",{className:b,children:[(0,C.jsx)("h6",{children:o("total_due")}),(0,C.jsxs)("h5",{children:[o("rs_only")," ",null!==n&&void 0!==n?n:0]})]}),(0,C.jsxs)("div",{className:b,children:[(0,C.jsx)("h6",{children:o("online_fees")}),(0,C.jsxs)("h5",{children:[o("rs_only")," ",null!==a&&void 0!==a?a:0]})]}),(0,C.jsxs)("div",{className:b,children:[(0,C.jsx)("h6",{children:o("repayment_due")}),(0,C.jsxs)("h5",{children:[o("rs_only")," ",null!==l&&void 0!==l?l:0]})]})]})},ae={fontWeight:"400",fontSize:"12px"},le=e=>{var n,a,l,o,t;let{oneBank:d}=e;const{t:c}=(0,i.$G)();return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("section",{className:x,children:[(0,C.jsxs)("h6",{children:[c("applicable_for")," "," : "," "]}),(0,C.jsx)(N.Z,{label:"",value:null!==d&&void 0!==d&&null!==(n=d.department)&&void 0!==n&&n.dName?null===d||void 0===d||null===(a=d.department)||void 0===a?void 0:a.dName:null!==d&&void 0!==d&&d.hostel?"Hostel":null!==d&&void 0!==d&&d.library?"Library":null!==d&&void 0!==d&&d.transport?"Transport":(null===d||void 0===d||null===(l=d.departments)||void 0===l?void 0:l.length)>0?null===d||void 0===d||null===(o=d.departments)||void 0===o?void 0:o.map(((e,n)=>{var a,l;return(0,C.jsxs)("span",{children:[null!==(a=null===e||void 0===e?void 0:e.dName)&&void 0!==a?a:"",n+1===(null===d||void 0===d||null===(l=d.departments)||void 0===l?void 0:l.length)?"":", "]},null===e||void 0===e?void 0:e._id)})):"",customFormInput:ae,customFormInputLabel:{...ae,marginLeft:"-0.8rem"}})]}),(0,C.jsxs)("section",{className:x,children:[(0,C.jsx)("h6",{children:c("bank_details")}),(0,C.jsx)(N.Z,{label:"".concat(c("bank_name")," :"),value:null===d||void 0===d?void 0:d.finance_bank_name,customFormInput:ae,customFormInputLabel:ae}),(0,C.jsx)(N.Z,{label:"".concat(c("account_name")," :"),value:null===d||void 0===d?void 0:d.finance_bank_account_name,customFormInput:ae,customFormInputLabel:ae}),(0,C.jsx)(N.Z,{label:"".concat(c("account_number")," :"),value:null===d||void 0===d?void 0:d.finance_bank_account_number,customFormInput:ae,customFormInputLabel:ae}),(0,C.jsx)(N.Z,{label:"".concat(c("ifsc_code")," :"),value:null===d||void 0===d?void 0:d.finance_bank_ifsc_code,customFormInput:ae,customFormInputLabel:ae}),(0,C.jsx)(N.Z,{label:"".concat(c("address")," :"),value:null===d||void 0===d?void 0:d.finance_bank_branch_address,customFormInput:ae,customFormInputLabel:ae})]}),(0,C.jsx)("section",{className:k,children:(0,C.jsx)(N.Z,{label:"".concat(c("upi_id")," :"),value:null===d||void 0===d?void 0:d.finance_bank_upi_id,customFormInput:ae,customFormInputLabel:ae})}),(0,C.jsxs)("section",{className:j,children:[(0,C.jsxs)("div",{className:g,children:[(0,C.jsxs)("h6",{children:[c("qr_code"),":"]}),(0,C.jsx)("p",{children:null!==(t=null===d||void 0===d?void 0:d.finance_bank_upi_id)&&void 0!==t?t:""})]}),null!==d&&void 0!==d&&d.finance_bank_upi_qrcode?(0,C.jsx)("img",{src:"".concat(S.yI,"/").concat(null===d||void 0===d?void 0:d.finance_bank_upi_qrcode),alt:"qr code"}):""]})]})};var ie=a(89064);const oe=e=>{let{onToggle:n,setBankEdit:a,openBankMenu:l}=e;const{t:t}=(0,i.$G)(),d=(0,B.s0)(),[c,s]=(0,o.useState)(!1),[r,_]=(0,o.useState)(!1),[u]=(0,Z.D4)(),[m]=(0,Z.R9)(),v=()=>{a((e=>!e)),_((e=>!e))};return r?(0,C.jsx)(z,{onClose:v,openAs:"EDIT",onEditAction:e=>{null!==l&&void 0!==l&&l._id&&(s((e=>!e)),_(!1),m({bid:null===l||void 0===l?void 0:l._id,bankDetails:e}).then((()=>{s((e=>!e)),n(),a((e=>!e))})).catch({}))},openBankMenu:l}):(0,C.jsxs)(ie.Z,{onClose:n,disabled:c,children:[(0,C.jsx)("h6",{onClick:v,children:t("edit")}),(0,C.jsx)("h6",{onClick:()=>{null!==l&&void 0!==l&&l._id&&(s((e=>!e)),u(null===l||void 0===l?void 0:l._id).then((()=>{n(),s((e=>!e)),d(-1)})).catch({}))},children:t("delete")})]})};var te=a(63162),de=a(98967),ce=a(16925),se=a(60924),re=a(19056),_e=a(43997),ue=a(99183);const me=e=>{let{onClose:n,bankId:a,fid:l}=e;const{t:t}=(0,i.$G)(),[d,c]=(0,o.useState)({from:"",to:"",payment_type:""}),[s,r]=(0,o.useState)(!1),[_,u]=(0,o.useState)(""),[m]=(0,Z._t)(),v=(e,n)=>{c((a=>({...a,[n]:(0,_e.O_)(e)})))};return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(J.Z,{onClose:n,children:(0,C.jsxs)("div",{className:ce.Z.modal_container,children:[(0,C.jsx)(R.default,{children:(0,C.jsxs)("div",{className:ce.Z.modal_container_outer_header,children:[(0,C.jsx)("div",{className:ce.Z.modal_container_header,children:(0,C.jsx)("h6",{children:t("filter_daybook")})}),(0,C.jsx)("img",{src:"".concat(I.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,C.jsx)(K.Z,{}),(0,C.jsxs)(R.default,{customStyle:{paddingTop:"0"},children:[(0,C.jsx)(se.Z,{label:t("from"),placeholder:t("please_select_from_date"),name:"from",value:d.from?(0,_e.jh)(d.from):"",onChange:e=>v(e,"from"),errorShow:_.from}),(0,C.jsx)(se.Z,{label:t("to_only"),placeholder:t("please_select_to_date"),name:"to",value:d.to?(0,_e.jh)(d.to):"",onChange:e=>v(e,"to"),errorShow:_.to}),(0,C.jsx)(re.Z,{selectLabel:t("payment_type"),selectedValue:t("please_select_payment_type"),options:["Payment Gateway / Online","By Cash","Cash / Bank","Total"],onClick:e=>{c((n=>({...n,payment_type:"Total"===e?"BOTH":"Cash / Bank"===e?"CASH_BANK":e})))},defalutValue:"BOTH"===d.payment_type?"Total":"CASH_BANK"===d.payment_type?"Cash / Bank":d.payment_type}),(0,C.jsx)(V.Z,{label:"filter",onAction:()=>{let e=(0,ue.l)(d,[]);(0,ue.x)(e)&&l&&a?(r((e=>!e)),m({fid:l,bank:a,from:d.from,to:d.to,payment_type:d.payment_type}).then((()=>{r((e=>!e)),n()})).catch({})):u(e)}})]}),s&&(0,C.jsx)(W.default,{})]})})})};var ve=a(57588),pe=a(82824),fe=a(72888),he=a(97892),be=a.n(he);const xe=e=>{var n;let{onEditAction:a,onClose:l,xlsxId:t}=e;const{t:d}=(0,i.$G)(),[c,s]=(0,o.useState)(null!==(n=null===t||void 0===t?void 0:t.excel_file_name)&&void 0!==n?n:""),[r,_]=(0,o.useState)("");(0,o.useEffect)((()=>{var e;s(null!==(e=null===t||void 0===t?void 0:t.excel_file_name)&&void 0!==e?e:"")}),[null===t||void 0===t?void 0:t.excel_file_name]);return(0,C.jsx)(J.Z,{onClose:l,children:(0,C.jsxs)("div",{className:ce.Z.modal_container,children:[(0,C.jsx)(R.default,{children:(0,C.jsxs)("div",{className:ce.Z.modal_container_outer_header,children:[(0,C.jsx)("div",{className:ce.Z.modal_container_header,children:(0,C.jsx)("h6",{children:d("update_excel_name")})}),(0,C.jsx)("img",{src:"".concat(I.J7,"/close.svg"),alt:"close icon",onClick:l})]})}),(0,C.jsx)(K.Z,{}),(0,C.jsxs)(R.default,{customStyle:{paddingTop:"0"},children:[(0,C.jsx)(P.Z,{label:d("excel_name"),placeholder:d("excel_name_plcaeholder"),name:"excelName",value:c,type:"text",onChange:e=>{s(e.target.value)},errorShow:r.excelName}),(0,C.jsx)(V.Z,{label:"update",onAction:()=>{c?a(c):_({excelName:"excelName is required"})}})]})]})})},ke=e=>{let{onClose:n,xlsxId:a,bankId:l,onRefetch:t}=e;const{t:d}=(0,i.$G)(),[c,s]=(0,o.useState)(!1),[r,_]=(0,o.useState)(!1),[u]=(0,Z.JW)(),[m]=(0,Z.TM)(),v=()=>{_((e=>!e))};return r?(0,C.jsx)(xe,{onClose:v,onEditAction:e=>{l&&null!==a&&void 0!==a&&a._id&&(v(),s((e=>!e)),m({baid:l,bodyParameter:{dbid:null===a||void 0===a?void 0:a._id,excel_file_name:e}}).then((()=>{t(),s((e=>!e)),n()})).catch({}))},xlsxId:a}):(0,C.jsxs)(ie.Z,{onClose:n,disabled:c,children:[(0,C.jsx)("h6",{onClick:v,children:d("edit")}),(0,C.jsx)("h6",{onClick:()=>{l&&null!==a&&void 0!==a&&a._id&&(s((e=>!e)),u({baid:l,bodyParameter:{dbid:null===a||void 0===a?void 0:a._id}}).then((()=>{t(),s((e=>!e)),n()})).catch({}))},children:d("delete")})]})},je=e=>{var n,a,l;let{excel:i,bankId:t,onRefetch:d}=e;const[c,s]=(0,o.useState)(""),[r,_]=(0,o.useState)(!1);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("a",{className:fe.Z.export_card,title:"Download File",href:"".concat(S.LS,"/").concat(null===i||void 0===i?void 0:i.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,C.jsx)("img",{src:"".concat(I.J7,"/xsxl.svg"),className:fe.Z.export_card_image,alt:"excel icon"}),(0,C.jsxs)("section",{className:fe.Z.export_card_text,children:[(0,C.jsx)("h6",{children:null!==(n=null===i||void 0===i?void 0:i.excel_file_name)&&void 0!==n?n:""}),(0,C.jsxs)("div",{className:fe.Z.export_card_date,children:[(0,C.jsx)("h6",{children:null!==(a=null===i||void 0===i||null===(l=i.bank)||void 0===l?void 0:l.finance_bank_account_name)&&void 0!==a?a:""}),(0,C.jsxs)("h6",{children:[be()(null===i||void 0===i?void 0:i.created_at).format("DD MMM YYYY"),","," ",(0,pe.J)(null===i||void 0===i?void 0:i.created_at,"LT")]})]}),(0,C.jsxs)("div",{className:fe.Z.export_card_date,children:[(0,C.jsxs)("h6",{children:["From : ",null===i||void 0===i?void 0:i.from," To ",null===i||void 0===i?void 0:i.to]}),(0,C.jsx)("h6",{children:"BOTH"===(null===i||void 0===i?void 0:i.payment_type)?"Total":"CASH_BANK"===(null===i||void 0===i?void 0:i.payment_type)?"Cash / Bank":null===i||void 0===i?void 0:i.payment_type})]})]}),(0,C.jsx)("img",{src:"".concat(I.J7,"/menu.svg"),alt:"menu icon",onClick:e=>{e.stopPropogation(),s(i)},title:"Menu",className:fe.Z.export_card_menu})]},null===i||void 0===i?void 0:i._id),c&&(0,C.jsx)(ke,{onClose:()=>{s("")},xlsxId:c,bankId:t,onRefetch:d})]})};a(96406);const ge=e=>{var n,a,t;let{fid:d,bankId:c}=e;const{t:s}=(0,i.$G)(),[r,_]=(0,o.useState)(!1),[u,m]=(0,o.useState)(""),[v,p]=(0,o.useState)(1),[f,h]=(0,o.useState)(!0),[b,x]=(0,L.YD)({skip:u}),{financeBankDaybookGeneratList:k,financeBankDaybookGeneratListLoading:j,financeBankDaybookGeneratListRefetch:g}=(0,Z.sA)({data:{baid:c,page:v,limit:10,search:u},skip:!c});(0,o.useEffect)((()=>{x&&f&&p((e=>e+1))}),[x,f]),(0,o.useEffect)((()=>{var e;if(null!==k&&void 0!==k&&null!==(e=k.list)&&void 0!==e&&e.length){var n;let e=(0,A.f)(null===k||void 0===k||null===(n=k.list)||void 0===n?void 0:n.length);h((()=>e))}}),[null===k||void 0===k?void 0:k.list]);const y=(0,o.useCallback)((0,ve.J)((e=>{p((()=>1)),m(e)}),1500),[]),N=()=>{_((e=>!e))},S=()=>{p((()=>1)),m(""),g()};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(R.default,{customStyle:{padding:"0"},children:(0,C.jsxs)("div",{className:l.Z.fm_search_full,children:[(0,C.jsx)("section",{className:l.Z.fm_search_full_container,children:(0,C.jsxs)("div",{className:l.Z.fm_search_full_container_inner,children:[(0,C.jsx)("img",{className:l.Z.fm_search_full_icon,alt:"search icon",src:"".concat(I.dB,"/navbar-search.svg")}),(0,C.jsx)("input",{type:"text",placeholder:s("search"),onChange:e=>{e.target.value?y(e.target.value):(p((()=>1)),m(""))}})]})}),(0,C.jsx)(V.Z,{label:"filter",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:N})]})}),(0,C.jsx)(K.Z,{}),null===k||void 0===k||null===(n=k.list)||void 0===n?void 0:n.map(((e,n)=>{var a;return(null===k||void 0===k||null===(a=k.list)||void 0===a?void 0:a.length)===n+1?(0,C.jsx)("div",{ref:b,children:(0,C.jsx)(je,{excel:e,bankId:c,onRefetch:S})},null===e||void 0===e?void 0:e._id):(0,C.jsx)(je,{excel:e,bankId:c,onRefetch:S},null===e||void 0===e?void 0:e._id)})),j?u?(0,C.jsx)(W.default,{}):(0,C.jsx)(T.Z,{}):u?0===(null===k||void 0===k||null===(a=k.list)||void 0===a?void 0:a.length)&&(0,C.jsx)(q.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No daybook found related this search."}):0===(null===k||void 0===k||null===(t=k.list)||void 0===t?void 0:t.length)&&(0,C.jsx)(q.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No daybook added."}),r&&(0,C.jsx)(me,{onClose:N,bankId:c,fid:d})]})},ye=e=>{let{onClose:n,bankId:a,fid:l}=e;const{t:t}=(0,i.$G)(),[d,c]=(0,o.useState)({from:"",to:"",payment_type:""}),[s,r]=(0,o.useState)(!1),[_,u]=(0,o.useState)(""),[m]=(0,Z.OR)(),v=(e,n)=>{c((a=>({...a,[n]:(0,_e.O_)(e)})))};return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(J.Z,{onClose:n,children:(0,C.jsxs)("div",{className:ce.Z.modal_container,children:[(0,C.jsx)(R.default,{children:(0,C.jsxs)("div",{className:ce.Z.modal_container_outer_header,children:[(0,C.jsx)("div",{className:ce.Z.modal_container_header,children:(0,C.jsx)("h6",{children:t("filter_daybook")})}),(0,C.jsx)("img",{src:"".concat(I.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,C.jsx)(K.Z,{}),(0,C.jsxs)(R.default,{customStyle:{paddingTop:"0"},children:[(0,C.jsx)(se.Z,{label:t("from"),placeholder:t("please_select_from_date"),name:"from",value:d.from?(0,_e.jh)(d.from):"",onChange:e=>v(e,"from"),errorShow:_.from}),(0,C.jsx)(se.Z,{label:t("to_only"),placeholder:t("please_select_to_date"),name:"to",value:d.to?(0,_e.jh)(d.to):"",onChange:e=>v(e,"to"),errorShow:_.to}),(0,C.jsx)(re.Z,{selectLabel:t("payment_type"),selectedValue:t("please_select_payment_type"),options:["Payment Gateway - PG","By Cash"],onClick:e=>{c((n=>({...n,payment_type:e})))},defalutValue:d.payment_type,errorShow:_.payment_type}),(0,C.jsx)(V.Z,{label:"filter",onAction:()=>{let e=(0,ue.l)(d,[]);(0,ue.x)(e)&&l&&a?(r((e=>!e)),m({fid:l,bodyParameter:{bank:a,from:d.from,to:d.to,payment_type:d.payment_type}}).then((()=>{r((e=>!e)),n()})).catch({})):u(e)}})]}),s&&(0,C.jsx)(W.default,{})]})})})},Ze=e=>{let{onClose:n,xlsxId:a,bankId:l,onRefetch:t}=e;const{t:d}=(0,i.$G)(),[c,s]=(0,o.useState)(!1),[r,_]=(0,o.useState)(!1),[u]=(0,Z.JW)(),[m]=(0,Z.TM)(),v=()=>{_((e=>!e))};return r?(0,C.jsx)(xe,{onClose:v,onEditAction:e=>{l&&null!==a&&void 0!==a&&a._id&&(v(),s((e=>!e)),m({baid:l,bodyParameter:{dbid:null===a||void 0===a?void 0:a._id,excel_file_name:e}}).then((()=>{t(),s((e=>!e)),n()})).catch({}))},xlsxId:a}):(0,C.jsxs)(ie.Z,{onClose:n,disabled:c,children:[(0,C.jsx)("h6",{onClick:v,children:d("edit")}),(0,C.jsx)("h6",{onClick:()=>{l&&null!==a&&void 0!==a&&a._id&&(s((e=>!e)),u({baid:l,bodyParameter:{dbid:null===a||void 0===a?void 0:a._id}}).then((()=>{t(),s((e=>!e)),n()})).catch({}))},children:d("delete")})]})},Ne=e=>{var n,a,l;let{excel:i,bankId:t,onRefetch:d}=e;const[c,s]=(0,o.useState)("");return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("a",{className:fe.Z.export_card,title:"Download File",href:"".concat(S.LS,"/").concat(null===i||void 0===i?void 0:i.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,C.jsx)("img",{src:"".concat(I.J7,"/xsxl.svg"),className:fe.Z.export_card_image,alt:"excel icon"}),(0,C.jsxs)("section",{className:fe.Z.export_card_text,children:[(0,C.jsx)("h6",{children:null!==(n=null===i||void 0===i?void 0:i.excel_file_name)&&void 0!==n?n:""}),(0,C.jsxs)("div",{className:fe.Z.export_card_date,children:[(0,C.jsx)("h6",{children:null!==(a=null===i||void 0===i||null===(l=i.bank)||void 0===l?void 0:l.finance_bank_account_name)&&void 0!==a?a:""}),(0,C.jsxs)("h6",{children:[be()(null===i||void 0===i?void 0:i.created_at).format("DD MMM YYYY"),","," ",(0,pe.J)(null===i||void 0===i?void 0:i.created_at,"LT")]})]}),(0,C.jsxs)("div",{className:fe.Z.export_card_date,children:[(0,C.jsxs)("h6",{children:["From : ",null===i||void 0===i?void 0:i.from," To ",null===i||void 0===i?void 0:i.to]}),(0,C.jsxs)("h6",{children:[" ",null===i||void 0===i?void 0:i.payment_type]})]})]}),(0,C.jsx)("img",{src:"".concat(I.J7,"/menu.svg"),alt:"menu icon",onClick:e=>{e.preventDefault(),s(i)},title:"Menu",className:fe.Z.export_card_menu})]},null===i||void 0===i?void 0:i._id),c&&(0,C.jsx)(Ze,{onClose:()=>{s("")},xlsxId:c,bankId:t,onRefetch:d})]})},Se=e=>{var n,a,t;let{fid:d,bankId:c}=e;const{t:s}=(0,i.$G)(),[r,_]=(0,o.useState)(!1),[u,m]=(0,o.useState)(""),[v,p]=(0,o.useState)(1),[f,h]=(0,o.useState)(!0),[b,x]=(0,L.YD)({skip:u}),{financeBankDaybookGeneratList:k,financeBankDaybookGeneratListLoading:j,financeBankDaybookGeneratListRefetch:g}=(0,Z.sA)({data:{baid:c,page:v,limit:10,search:u,type:"Normal Other Fees"},skip:!c});(0,o.useEffect)((()=>{x&&f&&p((e=>e+1))}),[x,f]),(0,o.useEffect)((()=>{var e;if(null!==k&&void 0!==k&&null!==(e=k.list)&&void 0!==e&&e.length){var n;let e=(0,A.f)(null===k||void 0===k||null===(n=k.list)||void 0===n?void 0:n.length);h((()=>e))}}),[null===k||void 0===k?void 0:k.list]);const y=(0,o.useCallback)((0,ve.J)((e=>{p((()=>1)),m(e)}),1500),[]),N=()=>{_((e=>!e))},S=()=>{p((()=>1)),m(""),g()};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(R.default,{customStyle:{padding:"0"},children:(0,C.jsxs)("div",{className:l.Z.fm_search_full,children:[(0,C.jsx)("section",{className:l.Z.fm_search_full_container,children:(0,C.jsxs)("div",{className:l.Z.fm_search_full_container_inner,children:[(0,C.jsx)("img",{className:l.Z.fm_search_full_icon,alt:"search icon",src:"".concat(I.dB,"/navbar-search.svg")}),(0,C.jsx)("input",{type:"text",placeholder:s("search"),onChange:e=>{e.target.value?y(e.target.value):(p((()=>1)),m(""))}})]})}),(0,C.jsx)(V.Z,{label:"filter",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:N})]})}),(0,C.jsx)(K.Z,{}),null===k||void 0===k||null===(n=k.list)||void 0===n?void 0:n.map(((e,n)=>{var a;return(null===k||void 0===k||null===(a=k.list)||void 0===a?void 0:a.length)===n+1?(0,C.jsx)("div",{ref:b,children:(0,C.jsx)(Ne,{excel:e,bankId:c,onRefetch:S})},null===e||void 0===e?void 0:e._id):(0,C.jsx)(Ne,{excel:e,bankId:c,onRefetch:S},null===e||void 0===e?void 0:e._id)})),j?u?(0,C.jsx)(W.default,{}):(0,C.jsx)(T.Z,{}):u?0===(null===k||void 0===k||null===(a=k.list)||void 0===a?void 0:a.length)&&(0,C.jsx)(q.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No daybook found related this search."}):0===(null===k||void 0===k||null===(t=k.list)||void 0===t?void 0:t.length)&&(0,C.jsx)(q.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No daybook added."}),r&&(0,C.jsx)(ye,{onClose:N,bankId:c,fid:d})]})},Ie=e=>{var n,a,t;let{fid:d}=e;const{t:c}=(0,i.$G)(),s=(0,B.TH)(),r=(0,B.UO)(),[_]=(0,ee.lr)(),u=(0,B.s0)(),[m,v]=(0,o.useState)(!1),[p,f]=(0,o.useState)(!1),{financeOneBankDetail:h}=(0,Z.zO)({bid:s.state.bankId,skip:!s.state.bankId}),b=(0,o.useCallback)((()=>{v((e=>!e))}),[]),x=(0,o.useCallback)((()=>{var e;let n="";n="Institute"===(null===(e=s.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(r.username,"/institute/member/finance"):"/q/".concat(r.username,"/member/staff/finance"),u(n,{state:s.state})}),[u,s.state,r.username]);return(0,C.jsxs)(C.Fragment,{children:[!p&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(R.default,{children:[(0,C.jsxs)("div",{className:l.Z.fm_header_container,children:[(0,C.jsxs)("div",{className:l.Z.fm_header_start_container,style:{gap:"0.2rem"},children:[(0,C.jsx)("img",{alt:"search icon",src:"".concat(I.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:x}),(0,C.jsx)("h6",{children:c("bank_details")})]}),(0,C.jsx)("img",{src:"".concat(I.J7,"/edit.svg"),alt:"back arrow",title:"Edit Bank",onClick:b})]}),(0,C.jsx)(de.Z,{children:Ce.map((e=>{var n,a;return(0,C.jsx)(te.Z,{tab:e,isLink:!0,isActive:null===(n=e.groupIs)||void 0===n?void 0:n.includes(_.get("d")),parentState:s.state,url:"Institute"===(null===(a=s.state)||void 0===a?void 0:a.urlOffSet)?"/q/".concat(r.username,"/institute/member/finance?type=bank&n=detail").concat(e.urlKey):"/q/".concat(r.username,"/member/staff/finance?type=bank&n=detail").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,C.jsx)(K.Z,{customStyleBorder:{marginTop:"0"}})]}),(0,C.jsx)(R.default,{children:"info"===_.get("d")?(0,C.jsx)(le,{oneBank:null===h||void 0===h?void 0:h.one_bank}):"fund"===_.get("d")?(0,C.jsx)(ne,{totalRepay:null===h||void 0===h||null===(n=h.one_bank)||void 0===n?void 0:n.total_repay,collectOnline:null===h||void 0===h||null===(a=h.one_bank)||void 0===a?void 0:a.collect_online,dueRepay:null===h||void 0===h||null===(t=h.one_bank)||void 0===t?void 0:t.due_repay}):"miscellaneous"===_.get("d")?(0,C.jsx)(Se,{fid:d,bankId:s.state.bankId}):(0,C.jsx)(ge,{fid:d,bankId:s.state.bankId})})]}),m&&(0,C.jsx)(oe,{onToggle:b,setBankEdit:f,openBankMenu:null===h||void 0===h?void 0:h.one_bank})]})},Ce=[{label:"admission_daybook",id:"admission",urlKey:"",groupIs:["",null]},{label:"miscellaneous_daybook",id:"miscellaneous",urlKey:"&d=miscellaneous",groupIs:["miscellaneous"]},{label:"bank_info",id:"info",urlKey:"&d=info",groupIs:["info"]},{label:"fund",id:"fund",urlKey:"&d=fund",groupIs:["fund"]}];var we=a(63687);const Fe=e=>{let{fid:n,libraryId:a,transportId:t,hostelId:d}=e;const{t:c}=(0,i.$G)(),[s]=(0,ee.lr)(),[r,_]=(0,o.useState)(!1),u=(0,o.useCallback)((()=>{_((e=>!e))}),[]);return(0,C.jsx)(we.default,{children:r?(0,C.jsx)(z,{fid:n,libraryId:a,transportId:t,hostelId:d,onClose:u}):s.get("n")?(0,C.jsx)(Ie,{fid:n,libraryId:a,transportId:t,hostelId:d}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(R.default,{children:(0,C.jsxs)("div",{className:l.Z.fm_header_container,children:[(0,C.jsx)("h6",{children:c("bank_account_detail")}),(0,C.jsx)("img",{src:"".concat(I.J7,"/plus-blue.svg"),alt:"back arrow",title:"Add Bank",onClick:u})]})}),(0,C.jsx)(K.Z,{}),(0,C.jsx)(R.default,{children:(0,C.jsx)(G,{fid:n})})]})})},Be=(0,o.memo)(Fe)},82824:(e,n,a)=>{a.d(n,{J:()=>d,Z:()=>c});var l=a(99893),i=a.n(l),o=a(97892),t=a.n(o);const d=(e,n)=>(t().extend(i()),t()(e).format(n)),c=(e,n,a)=>{var l;return t()()[e]("".concat(null===(l=t()(a))||void 0===l?void 0:l.format("YYYY-MM-DD")),n)}},72888:(e,n,a)=>{a.d(n,{Z:()=>l});const l={export_card:"FinanceExport_export_card__9AYtI",export_card_image:"FinanceExport_export_card_image__-1r1l",export_card_text:"FinanceExport_export_card_text__ZrB00",export_card_date:"FinanceExport_export_card_date__-dTOE",export_card_menu:"FinanceExport_export_card_menu__-xEgr"}}}]);
//# sourceMappingURL=79963.87cd0eaa.chunk.js.map