"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[7677],{11468:function(e,t,n){var s=n(39230),l=n(52245),a=n(80184),i=function(e){var t;return e?null===e||void 0===e||null===(t=e.split("\n"))||void 0===t?void 0:t.length:2};t.Z=function(e){var t=e.label,n=e.name,d=e.type,c=e.value,o=e.onChange,r=e.placeholder,u=e.errorShow,_=e.disabled,m=e.customFormInputContainer,h=e.customFormInputLabel,v=(0,s.$G)().t;return(0,a.jsxs)("div",{className:l.Z.form_input_container,style:m,children:[t&&(0,a.jsxs)("label",{className:l.Z.form_input_label,htmlFor:n,style:h,children:[t,u&&(0,a.jsxs)("span",{className:l.Z.form_input_label_error,children:["* ",v("form_require_label")]})]}),(0,a.jsx)("textarea",{className:l.Z.form_textarea_input,type:d,value:c,onChange:o,name:n,placeholder:r,rows:i(c),disabled:_,style:{"--textarea-height":"".concat(17*i(c),"px")}})]})}},67677:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var s=n(29439),l=n(63687),a=n(21348),i=n(72791),d=n(39230),c=n(23441),o=n(93405),r=n(90904),u=n(98684),_=n(93638),m=n(57588),h=n(91427),v=n(84975),x="FinanceAllStudent_student_table__DMV4S",f="FinanceAllStudent_student_table_header__ZAQJ+",N="FinanceAllStudent_student_table_header_label__L7yor",I="FinanceAllStudent_student_table_content_card__OyQKC",j="FinanceAllStudent_student_table_profile__Z8Lke",g="FinanceAllStudent_student_table_header_name__ppa5+",p="FinanceAllStudent_student_table_header_label_text__VPODx",A="FinanceAllStudent_student_table_contact__Sd2dN",Z="FinanceAllStudent_student_table_contact_email__GhbyI",S="FinanceAllStudent_student_table_contact_number__vXiIL",y=n(80184),T=function(e){var t=e.studentAlias,n=(0,d.$G)().t;return(0,y.jsx)("div",{className:x,children:(0,y.jsxs)("div",{className:f,children:[(0,y.jsx)("p",{className:N,style:{flex:"1"},children:null!==t&&void 0!==t?t:n("gr_no")}),(0,y.jsx)("p",{className:N,style:{flex:"3"},children:n("name")}),(0,y.jsx)("p",{className:N,style:{flex:"2"},children:n("contact_number")}),(0,y.jsx)("p",{className:N,style:{flex:"1"},children:n("applicable_outs")})]})})},b=n(1413),C=n(1095),F=n(16871),O=n(43504),E=function(e){var t,n,s,l,a,i,d,c,o=e.student,_=e.messageId,m=e.headId,h=e.instituteId,v=(0,F.UO)(),x=(0,F.TH)();return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(O.rU,{to:"/q/".concat(v.username,"/student/profile"),state:(0,b.Z)((0,b.Z)({},x.state),{},{sid:null===o||void 0===o?void 0:o._id,messageId:_,headId:m,instituteId:h}),children:[(0,y.jsxs)("div",{className:I,style:{cursor:"pointer"},children:[(0,y.jsx)("p",{className:N,style:{flex:"1"},children:null!==(t=null===o||void 0===o?void 0:o.studentGRNO)&&void 0!==t?t:""}),(0,y.jsxs)("div",{className:j,style:{flex:"3"},children:[(0,y.jsx)("img",{src:null!==o&&void 0!==o&&o.studentProfilePhoto?"".concat(C.yI,"/").concat(null===o||void 0===o?void 0:o.studentProfilePhoto):"".concat(u.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,y.jsxs)("div",{children:[(0,y.jsxs)("p",{className:g,children:["".concat(null!==(n=null===o||void 0===o?void 0:o.studentFirstName)&&void 0!==n?n:""," ").concat(null!==(s=null===o||void 0===o?void 0:o.studentMiddleName)&&void 0!==s?s:""," ").concat(null!==(l=null===o||void 0===o?void 0:o.studentLastName)&&void 0!==l?l:""),"100"===(null===o||void 0===o?void 0:o.profile_percentage)||100===(null===o||void 0===o?void 0:o.profile_percentage)?(0,y.jsx)("img",{src:"".concat(u.Fk,"/complete.svg"),loading:"lazy",alt:"avatar",style:{marginLeft:"0.6rem",height:"1rem"}}):null]}),(0,y.jsx)("p",{className:p,children:null!==(a=null===o||void 0===o||null===(i=o.studentClass)||void 0===i?void 0:i.classTitle)&&void 0!==a?a:""})]})]}),(0,y.jsxs)("div",{className:N,style:{flex:"2"},children:[(0,y.jsxs)("div",{className:A,children:[(0,y.jsx)("img",{src:"".concat(u.Fk,"/gender.svg"),alt:"gender icon"}),(0,y.jsx)("p",{className:Z,children:null===o||void 0===o?void 0:o.studentGender})]}),(0,y.jsxs)("div",{className:A,style:{marginTop:"0.4rem"},children:[(0,y.jsx)("img",{src:"".concat(u.Fk,"/phone.svg"),alt:"phone icon"}),(0,y.jsx)("p",{className:S,children:null!==o&&void 0!==o&&o.user.userPhoneNumber?null===o||void 0===o?void 0:o.user.userPhoneNumber:null!==(d=null===o||void 0===o?void 0:o.user.userEmail)&&void 0!==d?d:""})]})]}),(0,y.jsx)("p",{className:N,style:{flex:"1"},children:null!==(c=null===o||void 0===o?void 0:o.applicable_fees_pending)&&void 0!==c?c:0})]}),(0,y.jsx)(r.Z,{customStyleBorder:{margin:"0"}})]})})},k=n(55336),M=n(11468),D=n(32963),P=n(43293),U=function(e){var t=e.onClose,n=e.sendStudentList,l=e.messageId,c=e.instituteId,o=e.headId,m=e.viewAs,h=e.isStudentProfile,x=e.toRedirectUrl,f=e.parentState,N=(0,d.$G)().t,I=(0,i.useState)(!1),j=(0,s.Z)(I,2),g=j[0],p=j[1],A=(0,i.useState)(!1),Z=(0,s.Z)(A,2),S=Z[0],T=Z[1],C=(0,v.Cv)(),O=(0,s.Z)(C,1)[0],E=(0,v.cd)(),U=(0,s.Z)(E,1)[0],R=(0,i.useState)({alarm_mode:"APP_NOTIFICATION",content:""}),w=(0,s.Z)(R,2),G=w[0],L=w[1],H=(0,F.s0)();return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(D.Z,{children:(0,y.jsxs)("div",{className:P.Z.modal_container,children:[(0,y.jsx)(a.Z,{children:(0,y.jsxs)("div",{className:P.Z.modal_container_outer_header,children:[(0,y.jsx)("div",{className:P.Z.modal_container_header,children:(0,y.jsx)("h6",{children:N("student_message")})}),(0,y.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:t})]})}),(0,y.jsx)(r.Z,{}),(0,y.jsxs)(a.Z,{customStyle:{paddingTop:"0"},children:[(0,y.jsxs)("section",{className:P.Z.notify_container,onClick:function(){return L((function(e){return(0,b.Z)((0,b.Z)({},e),{},{alarm_mode:"APP_NOTIFICATION"})}))},children:[(0,y.jsx)("img",{src:"APP_NOTIFICATION"===G.alarm_mode?"".concat(u.Fk,"/radio-blue.svg"):"".concat(u.Fk,"/radio-grey.svg"),alt:"icon"}),(0,y.jsxs)("div",{className:P.Z.notify_text,children:[(0,y.jsx)("h6",{children:N("Notify_with_In_app_Notification")}),(0,y.jsx)("p",{children:N("Notify_with_In_app_Notification_note")})]})]}),(0,y.jsxs)("section",{className:P.Z.notify_container,children:[(0,y.jsx)("img",{src:"EMAIL_NOTIFICATION"===G.alarm_mode?"".concat(u.Fk,"/radio-blue.svg"):"".concat(u.Fk,"/radio-grey.svg"),alt:"icon"}),(0,y.jsxs)("div",{className:P.Z.notify_text,children:[(0,y.jsx)("h6",{children:N("Notify_On_Email_and_SMS")}),(0,y.jsx)("p",{children:N("Notify_On_Email_and_SMS_note")})]})]}),"APP_NOTIFICATION"===G.alarm_mode&&(0,y.jsx)(M.Z,{label:N("student_message_label"),placeholder:N("student_message_label_placeholder"),name:"content",value:G.content,type:"text",onChange:function(e){return L((function(t){return(0,b.Z)((0,b.Z)({},t),{},{content:e.target.value})}))},errorShow:S}),(0,y.jsx)(_.Z,{label:"confirm",onAction:function(){G.content?h?l&&G.alarm_mode&&(null===n||void 0===n?void 0:n.length)>0&&c&&(p((function(e){return!e})),U({sendMessage:{message:G.content,from:null!==o&&void 0!==o?o:"",type:"ADMISSION_ADMIN"===m?"Admission Head":"FINANCE_MANAGER"===m?"Finance Head":"CERTIFICATE_AUTHORITY"===m?"Certificate Authority":"STUDENT_SECTION"===m?"Student Section":"ID_CARD_SECTION"===m?"Id Card Authority":"Institute Admin",fid:null!==l&&void 0!==l?l:"",alarm_mode:G.alarm_mode,sid:n,flow:"INSTITUTE_ADMIN"===m?"INSTITUTE_ADMIN":"Other"},id:c}).then((function(){t(),p((function(e){return!e}))})).catch({})):l&&G.alarm_mode&&(null===n||void 0===n?void 0:n.length)>0&&c&&(p((function(e){return!e})),O({sendMessage:{message:G.content,from:null!==o&&void 0!==o?o:"",type:"ADMISSION_ADMIN"===m?"Admission Head":"FINANCE_MANAGER"===m?"Finance Head":"CERTIFICATE_AUTHORITY"===m?"Certificate Authority":"STUDENT_SECTION"===m?"Student Section":"ID_CARD_SECTION"===m?"Id Card Authority":"Institute Admin",fid:null!==l&&void 0!==l?l:"",alarm_mode:G.alarm_mode,filtered_arr:n,flow:"INSTITUTE_ADMIN"===m?"INSTITUTE_ADMIN":"Other"},id:c}).then((function(){t(),H(x,{state:f}),p((function(e){return!e}))})).catch({})):T(!0)}})]})]})}),g&&(0,y.jsx)(k.Z,{})]})},R=n(1669),w=function(e){var t=e.instituteId,n=e.studentAlias,x=e.headId,f=e.messageId,N=(0,d.$G)().t,I=(0,F.s0)(),j=(0,F.TH)(),g=(0,F.UO)(),p=(0,i.useState)(""),A=(0,s.Z)(p,2),Z=A[0],S=A[1],b=(0,i.useState)(1),C=(0,s.Z)(b,2),O=C[0],M=C[1],D=(0,i.useState)(!0),P=(0,s.Z)(D,2),w=P[0],G=P[1],L=(0,c.YD)({skip:Z}),H=(0,s.Z)(L,2),q=H[0],J=H[1],$=(0,i.useState)(!1),Y=(0,s.Z)($,2),z=Y[0],B=Y[1],Q=(0,v.bZ)({data:{id:t,page:O,limit:10,search:Z},skip:!t}),V=Q.instituteAllStudent,K=Q.instituteAllStudentLoading;(0,i.useEffect)((function(){J&&w&&M((function(e){return e+1}))}),[J,w]),(0,i.useEffect)((function(){null!==V&&void 0!==V&&V.length&&(0,h.f)(null===V||void 0===V?void 0:V.length,G)}),[null===V||void 0===V?void 0:V.length]);var W=(0,i.useCallback)((0,m.J)((function(e){return S(e)}),500),[]),X=function(){B((function(e){return!e}))};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(l.Z,{children:[(0,y.jsx)(a.Z,{children:(0,y.jsxs)("div",{className:o.Z.fm_header_container,children:[(0,y.jsx)("h6",{children:N("all_students")}),(0,y.jsxs)("div",{className:o.Z.fm_both_filter,children:[(0,y.jsx)("div",{className:o.Z.fm_search,children:(0,y.jsx)("section",{className:o.Z.fm_search_container,children:(0,y.jsxs)("div",{className:o.Z.fm_search_container_inner,children:[(0,y.jsx)("img",{className:o.Z.fm_search_icon,alt:"search icon",src:"".concat(u.dB,"/navbar-search.svg")}),(0,y.jsx)("input",{type:"text",placeholder:N("search"),onChange:function(e){W(e.target.value)},style:{minWidth:"300px"}})]})})}),(0,y.jsx)("img",{src:"".concat(u.J7,"/history.svg"),alt:"history icon",onClick:function(){I("/q/".concat(g.username,"/member/staff/finance?type=message"),{state:j.state})}}),(0,y.jsx)(_.Z,{label:"student_message",customStyle:{margin:"0"},onAction:X})]})]})}),(0,y.jsx)(r.Z,{}),(0,y.jsx)(a.Z,{children:(0,y.jsx)(T,{studentAlias:n})}),(0,y.jsx)(r.Z,{}),(0,y.jsxs)(a.Z,{children:[K&&(0,y.jsx)(R.Z,{}),K&&Z&&(0,y.jsx)(k.Z,{}),null===V||void 0===V?void 0:V.map((function(e,n){return(null===V||void 0===V?void 0:V.length)===n+1?(0,y.jsx)("div",{ref:q,children:(0,y.jsx)(E,{student:e,instituteId:t,messageId:f,headId:x})},null===e||void 0===e?void 0:e._id):(0,y.jsx)(E,{student:e,instituteId:t,messageId:f,headId:x},null===e||void 0===e?void 0:e._id)}))]})]}),z&&(0,y.jsx)(U,{onClose:X,messageId:f,instituteId:t,headId:x,parentState:j.state,toRedirectUrl:"/q/".concat(g.username,"/member/staff/finance?type=message"),viewAs:"FINANCE_MANAGER"})]})}}}]);
//# sourceMappingURL=7677.3e174b88.chunk.js.map