"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[3388,4035,420,6876],{46876:function(e,n,i){i.r(n);var t=i(93433),o=i(29439),l=i(72791),s=i(23441),a=i(95048),d=i(12923),r=i(763),c=i(69721),u=i(52124),v=i(5574),m=i(39230),f=i(80184),_=window.innerHeight;n.default=function(e){var n=e.onClose,i=e.title,h=e.headSelect,x=e.assignHead,g=e.disabledId,b=e.instituteId,j=e.viewAs,p=e.isMultiSelect,Z=e.selectList,k=e.onMultiSelect,N=e.onDone,y=(0,m.$G)().t,S=(0,l.useState)(1),C=(0,o.Z)(S,2),M=C[0],F=C[1],I=(0,l.useState)(!0),w=(0,o.Z)(I,2),L=w[0],T=w[1],A=(0,s.YD)(),D=(0,o.Z)(A,2),E=D[0],R=D[1],B=(0,l.useState)(""),P=(0,o.Z)(B,2),O=P[0],Y=P[1],G=l.useState([]),W=(0,o.Z)(G,2),z=W[0],J=W[1],H=(0,a.v9)((function(e){return e.idChange})),V=(0,d.vI)({skip:"ADMISSION_ADMIN"===j?!b:!(null!==H&&void 0!==H&&H.id),search:{search:O,page:M,id:"ADMISSION_ADMIN"===j?b:null===H||void 0===H?void 0:H.id,limit:10}}),U=V.assignSearchStaff,q=V.assignSearchStaffRefetch;l.useEffect((function(){null!==H&&void 0!==H&&H.id&&q()}),[null===H||void 0===H?void 0:H.id,q,M]),(0,l.useEffect)((function(){R&&L&&F((function(e){return e+1}))}),[R,L]),l.useEffect((function(){null!==U&&void 0!==U&&U.staff&&J(O?null===U||void 0===U?void 0:U.staff:function(e){return function(e){for(var n=0;n<(null===e||void 0===e?void 0:e.length);n++)for(var i=n+1;i<(null===e||void 0===e?void 0:e.length);i++){var t,o;(null===(t=e[n])||void 0===t?void 0:t._id)===(null===(o=e[i])||void 0===o?void 0:o._id)&&(null===e||void 0===e||e.splice(i,1))}return e}([].concat((0,t.Z)(e),(0,t.Z)(null===U||void 0===U?void 0:U.staff)))}),10===(null===U||void 0===U?void 0:U.staff.length)?T(!0):T(!1)}),[null===U||void 0===U?void 0:U.staff]),(0,l.useEffect)((function(){O&&$()}),[O]);var $=function(){q()},K=(0,l.useCallback)((0,r.debounce)((function(e){return Y(e)}),500),[]),Q=function(e){g===(null===e||void 0===e?void 0:e._id)||(p?k(e):(h(e),"ADMISSION_ADMIN"===j||n()))};return(0,f.jsx)(v.Z,{open:x,onClose:n,children:(0,f.jsxs)("div",{style:{backgroundColor:"#FAFAFA",width:"35rem",height:"".concat(_-20,"px"),overflowX:"hidden"},children:[(0,f.jsxs)("div",{className:u.Z.assign_title,style:{width:"100%"},children:[(0,f.jsx)("h5",{children:i}),p?(0,f.jsxs)("div",{className:u.Z.is_mulitselect_container,children:[(0,f.jsx)("h6",{style:{cursor:"pointer"},onClick:N,children:y("select")}),(0,f.jsx)("img",{src:"/images/close-post-icon.svg",onClick:n,alt:"staff assign pop close icon"})]}):(0,f.jsx)("img",{src:"/images/close-post-icon.svg",onClick:n,alt:"staff assign pop close icon"})]}),(0,f.jsxs)("div",{className:u.Z.assign_search_container,children:[(0,f.jsx)("input",{type:"text",placeholder:y("search"),className:u.Z.assign_search_input,onChange:function(e){return n=e.target.value,void K(n);var n}}),(0,f.jsx)("img",{src:"/images/search-dash-icon.svg",alt:"search icon"})]}),(0,f.jsx)("div",{className:u.Z.assign_show_list,children:null===z||void 0===z?void 0:z.map((function(e,n){return(null===z||void 0===z?void 0:z.length)===n+1?(0,f.jsxs)("div",{ref:E,children:[(0,f.jsxs)("div",{className:u.Z.assign_show_list_each,style:g===e._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:function(){return Q(e)},children:[p?null!==Z&&void 0!==Z&&Z.includes(null===e||void 0===e?void 0:e._id)?(0,f.jsx)("img",{src:"/images/checkbox-icon.svg",alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,f.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/box-icon.svg",alt:"icon"}):"",(0,f.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(c.yI,"/").concat(e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,f.jsxs)("div",{className:u.Z.assign_each_paragraph,children:[(0,f.jsx)("h6",{children:"".concat(e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(e.staffLastName)}),(0,f.jsxs)("p",{children:[" ",y("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]})]}),(0,f.jsx)("hr",{})]},e._id):(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:u.Z.assign_show_list_each,style:g===e._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:function(){return Q(e)},children:[p?null!==Z&&void 0!==Z&&Z.includes(null===e||void 0===e?void 0:e._id)?(0,f.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/checkbox-icon.svg",alt:"icon"}):(0,f.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/box-icon.svg",alt:"icon"}):"",(0,f.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(c.yI,"/").concat(e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,f.jsxs)("div",{className:u.Z.assign_each_paragraph,children:[(0,f.jsx)("h6",{children:"".concat(e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(e.staffLastName)}),(0,f.jsxs)("p",{children:[" ",y("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]})]}),(0,f.jsx)("hr",{})]},e._id)}))})]})})}},67923:function(e,n,i){var t=i(1413),o=(i(72791),i(38733)),l=i(80184);n.Z=function(e){var n=e.labelText,i=e.value,s=e.customStyleContainer,a=e.customStyleLabel,d=e.customStyleValue;return(0,l.jsxs)("div",{className:o.Z.join_form_container_view,style:(0,t.Z)({},s),children:[(0,l.jsx)("label",{className:o.Z.join_form_label_view,style:(0,t.Z)({},a),children:n}),(0,l.jsx)("h6",{className:o.Z.join_form_input_view,style:(0,t.Z)({},d),children:i})]})}},34219:function(e,n,i){i(72791);var t=i(11575),o=i(80184);n.Z=function(e){var n=e.customStyleContainer,i=e.title,l=e.subtitle,s=e.costomTextTitleStyle,a=e.costomTextSubtitleStyle;return(0,o.jsxs)("div",{className:t.Z.empty_container,style:n,children:[i&&(0,o.jsx)("h6",{style:s,children:i}),l&&(0,o.jsx)("p",{style:a,children:l})]})}},66233:function(e,n,i){i.r(n),i.d(n,{default:function(){return wn}});var t=i(72791),o=i(11464),l=i(16871),s=i(95048),a="LibraryHead_departmenthead__Cbrn7",d=i(37111),r=i(93433),c=i(29439),u=i(47630),v=i(39230),m=i(23441),f=i(55581),_=i(11105),h=i(72426),x=i.n(h),g=i(69721),b=i(80184);var j=function(e){var n,i,t,o,l,s,a,d,r,c,m,f,_,h,j,p,Z,k,N,y,S,C,M,F,I,w=e.book,L=(0,v.$G)().t;return(0,b.jsxs)("div",{className:u.Z.clc_card,children:[(0,b.jsxs)("div",{className:u.Z.clc_card_inner,children:[(0,b.jsx)("img",{className:u.Z.bookItemImg,src:null!==w&&void 0!==w&&null!==(n=w.book)&&void 0!==n&&n.photo?"".concat(g.yI,"/").concat(null===w||void 0===w||null===(i=w.book)||void 0===i?void 0:i.photo):"/images/defaultBook.png"}),(0,b.jsxs)("div",{className:u.Z.clc_card_inner_text,children:[(0,b.jsxs)("h6",{children:[" ",(null===w||void 0===w||null===(t=w.book)||void 0===t||null===(o=t.bookName)||void 0===o?void 0:o.length)>=18?"".concat(null===w||void 0===w||null===(l=w.book)||void 0===l||null===(s=l.bookName)||void 0===s?void 0:s.match(/.{1,18}/g)[0]," ..."):null===w||void 0===w||null===(a=w.book)||void 0===a?void 0:a.bookName]}),(0,b.jsxs)("p",{children:[L("accession_number")," ",": ",null!==(d=null===w||void 0===w||null===(r=w.book)||void 0===r?void 0:r.accession_number)&&void 0!==d?d:""]}),(0,b.jsxs)("p",{children:[L("issue_date"),": ",x()(null===w||void 0===w?void 0:w.issuedDate).format("Do MMM YYYY")," ",", ",x()(null===w||void 0===w?void 0:w.issuedDate).format("LT")]})]})]}),null!==w&&void 0!==w&&w.staff_member?(0,b.jsxs)("div",{className:u.Z.clc_card_inner,children:[(0,b.jsx)("img",{className:u.Z.bookItemImg,src:null!==w&&void 0!==w&&null!==(c=w.staff_member)&&void 0!==c&&c.staffProfilePhoto?"".concat(g.yI,"/").concat(null===w||void 0===w||null===(m=w.staff_member)||void 0===m?void 0:m.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,b.jsxs)("div",{className:u.Z.clc_card_inner_text,children:[(0,b.jsx)("h6",{children:"".concat(null===w||void 0===w||null===(f=w.staff_member)||void 0===f?void 0:f.staffFirstName," ").concat(null!==w&&void 0!==w&&null!==(_=w.staff_member)&&void 0!==_&&_.staffMiddleName?null===w||void 0===w||null===(h=w.staff_member)||void 0===h?void 0:h.staffMiddleName:""," ").concat(null===w||void 0===w||null===(j=w.staff_member)||void 0===j?void 0:j.staffLastName)}),(0,b.jsxs)("p",{children:[L("index_number")," ",": ",null!==(p=null===w||void 0===w||null===(Z=w.staff_member)||void 0===Z?void 0:Z.staffROLLNO)&&void 0!==p?p:""]}),(0,b.jsxs)("p",{children:[L("rcv_date"),": ",x()(null===w||void 0===w?void 0:w.createdAt).format("Do MMM YYYY")," ",", ",x()(null===w||void 0===w?void 0:w.createdAt).format("LT")]})]})]}):(0,b.jsxs)("div",{className:u.Z.clc_card_inner,children:[(0,b.jsx)("img",{className:u.Z.bookItemImg,src:null!==w&&void 0!==w&&null!==(k=w.member)&&void 0!==k&&k.studentProfilePhoto?"".concat(g.yI,"/").concat(null===w||void 0===w||null===(N=w.member)||void 0===N?void 0:N.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,b.jsxs)("div",{className:u.Z.clc_card_inner_text,children:[(0,b.jsx)("h6",{children:"".concat(null===w||void 0===w||null===(y=w.member)||void 0===y?void 0:y.studentFirstName," ").concat(null!==w&&void 0!==w&&null!==(S=w.member)&&void 0!==S&&S.studentMiddleName?null===w||void 0===w||null===(C=w.member)||void 0===C?void 0:C.studentMiddleName:""," ").concat(null===w||void 0===w||null===(M=w.member)||void 0===M?void 0:M.studentLastName)}),(0,b.jsxs)("p",{children:[L("gr_number")," ",": ",null!==(F=null===w||void 0===w||null===(I=w.member)||void 0===I?void 0:I.studentGRNO)&&void 0!==F?F:""]}),(0,b.jsxs)("p",{children:[L("rcv_date"),": ",x()(null===w||void 0===w?void 0:w.createdAt).format("Do MMM YYYY")," ",", ",x()(null===w||void 0===w?void 0:w.createdAt).format("LT")]})]})]})]})},p=i(763);var Z=function(){var e=(0,v.$G)().t,n=(0,s.v9)((function(e){return e.libraryChange.lid})),i=(0,t.useState)(""),o=(0,c.Z)(i,2),l=o[0],a=o[1],d=(0,m.YD)({skip:!l}),h=(0,c.Z)(d,2),x=h[0],g=h[1],Z=(0,t.useState)(1),k=(0,c.Z)(Z,2),N=k[0],y=k[1],S=(0,t.useState)([]),C=(0,c.Z)(S,2),M=C[0],F=C[1],I=(0,t.useState)(!0),w=(0,c.Z)(I,2),L=w[0],T=w[1],A=(0,t.useState)(!0),D=(0,c.Z)(A,2),E=D[0],R=D[1],B=(0,f.mU)({data:{lid:n,page:N,limit:10,search:l},skip:!n}),P=B.getCollectedBooklist,O=B.getCollectedBookListRefetch;(0,t.useEffect)((function(){g&&L&&y((function(e){return e+1}))}),[g,L]),(0,t.useEffect)((function(){n&&(R(!0),O())}),[N,n,l,O]),(0,t.useEffect)((function(){var e,n;null!==P&&void 0!==P&&P.collected?l?(F(null===P||void 0===P?void 0:P.collected),R(!1)):(F((function(e){var n,i;return null===(n=(0,r.Z)(new Set(null===(i=[].concat((0,r.Z)(e),(0,r.Z)(null===P||void 0===P?void 0:P.collected)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),R(!1)):0===(null===P||void 0===P||null===(e=P.collected)||void 0===e?void 0:e.length)&&R(!1),10===(null===P||void 0===P||null===(n=P.collected)||void 0===n?void 0:n.length)?T(!0):T(!1)}),[null===P||void 0===P?void 0:P.collected]);var Y=(0,t.useCallback)((0,p.debounce)((function(e){return a(e)}),500),[]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:u.Z.searchContainerr,children:(0,b.jsxs)("div",{className:u.Z.searchContainer,children:[(0,b.jsx)("img",{alt:"",src:"/images/search-dept-icon.svg"}),(0,b.jsx)("input",{type:"text",placeholder:e("search-label"),onChange:function(e){return n=e.target.value,void Y(n);var n}})]})}),(0,b.jsx)("div",{className:u.Z.remainingFees,children:(0,b.jsx)("div",{className:u.Z.remainingFeesBottom,children:(0,b.jsxs)("div",{className:u.Z.itemsContainer,children:[null===M||void 0===M?void 0:M.map((function(e,n){return(null===M||void 0===M?void 0:M.length)===n+1?(0,b.jsx)("div",{ref:x,style:{width:"100%"},children:(0,b.jsx)(j,{book:e,status:"memberdetail"})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(j,{book:e,status:"memberdetail"},null===e||void 0===e?void 0:e._id)})),E&&(0,b.jsx)(_.Z,{}),!E&&0===(null===M||void 0===M?void 0:M.length)&&(0,b.jsx)("div",{className:u.Z.noData,children:(0,b.jsx)("img",{src:"/images/nodata.jpg",alt:""})})]})})})]})},k=i(86864),N=i(25629),y=i(1413),S={issue_modal:"AssignBookMember_issue_modal__CsMlG",issueModalbody:"AssignBookMember_issueModalbody__zmjXk",issueModaltop:"AssignBookMember_issueModaltop__FEn0H",issuedBookItem:"AssignBookMember_issuedBookItem__O6ige",imgcontainer:"AssignBookMember_imgcontainer__SNcot",issuedBookItemMidright:"AssignBookMember_issuedBookItemMidright__rHLh0",issuedBookItemBottomLeft:"AssignBookMember_issuedBookItemBottomLeft__iGaQa",textt:"AssignBookMember_textt__asvMa",issueModaltopback:"AssignBookMember_issueModaltopback__mSNrr",issueModaltopsearch:"AssignBookMember_issueModaltopsearch__LOzxC",dash:"AssignBookMember_dash__93bg2",selectedText:"AssignBookMember_selectedText__ClVj+",itembookcontainer:"AssignBookMember_itembookcontainer__p1Vvj",itembookk:"AssignBookMember_itembookk__peZln",itembookcursor:"AssignBookMember_itembookcursor__tmbUD",issueBookk:"AssignBookMember_issueBookk__XKvQd",bookmargin:"AssignBookMember_bookmargin__vGsHh",bluetick:"AssignBookMember_bluetick__MsUzs",issuedDate:"AssignBookMember_issuedDate__lwPu+",issuebtn:"AssignBookMember_issuebtn__Dojwp",searchContainerr:"AssignBookMember_searchContainerr__yC1ub",searchContainer:"AssignBookMember_searchContainer__yk8R1",closeIconContainer:"AssignBookMember_closeIconContainer__ZHAU4",closeIcon:"AssignBookMember_closeIcon__pv9rs",author:"AssignBookMember_author__d7utn",authorLabel:"AssignBookMember_authorLabel__iKeFN"},C=i(36665),M=i(98734),F=i(6245),I=function(e){var n=e.onSearch,i=e.onBack,o=e.step,l=(0,v.$G)().t,s=(0,t.useState)(!1),a=(0,c.Z)(s,2),d=a[0],r=a[1],u=(0,t.useCallback)((0,p.debounce)((function(e){return n(e)}),500),[]);return(0,b.jsx)("div",{className:S.issueModaltop,children:d?(0,b.jsxs)("div",{className:S.searchContainerr,children:[(0,b.jsxs)("div",{className:S.searchContainer,children:[(0,b.jsx)("img",{alt:"",src:"/images/search-dept-icon.svg"}),(0,b.jsx)("input",{type:"text",placeholder:l("search-label"),onChange:function(e){u(e.target.value)}})]}),(0,b.jsx)("div",{className:S.closeIconContainer,children:(0,b.jsx)("img",{onClick:function(){n(""),r((function(e){return!e}))},className:S.closeIcon,src:"/images/user_signup/close.svg",alt:""})})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("img",{className:S.issueModaltopback,src:"/images/back.svg",alt:"",onClick:i}),(0,b.jsx)("h6",{className:S.issueModaltoph6,children:l(0===o?"select_member":1===o?"select_book":"issued_preview")}),2!==o&&(0,b.jsx)("img",{onClick:function(){r((function(e){return!e}))},className:S.issueModaltopsearch,src:"/images/search-icon.svg",alt:""})]})})};var w=function(e){var n=e.student,i=e.onAddMember,t=e.isStaff,o=(0,v.$G)().t;return(0,b.jsxs)("div",{className:S.issuedBookItem,onClick:function(){return i(n)},children:[(0,b.jsx)("div",{className:S.issuedBookItemMidleft,children:(0,b.jsx)("div",{className:S.imgcontainer,children:t?(0,b.jsx)("img",{src:null!==n&&void 0!==n&&n.staffProfilePhoto?"".concat(g.yI,"/").concat(null===n||void 0===n?void 0:n.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""}):(0,b.jsx)("img",{src:null!==n&&void 0!==n&&n.studentProfilePhoto?"".concat(g.yI,"/").concat(null===n||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""})})}),(0,b.jsx)("div",{className:S.issuedBookItemMidright,children:t?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h6",{children:"".concat(null===n||void 0===n?void 0:n.staffFirstName," ").concat(null!==n&&void 0!==n&&n.staffMiddleName?null===n||void 0===n?void 0:n.staffMiddleName:""," ").concat(null===n||void 0===n?void 0:n.staffLastName)}),(0,b.jsxs)("p",{children:[o("index")," ",null===n||void 0===n?void 0:n.staffROLLNO]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h6",{children:"".concat(null===n||void 0===n?void 0:n.studentFirstName," ").concat(null!==n&&void 0!==n&&n.studentMiddleName?null===n||void 0===n?void 0:n.studentMiddleName:""," ").concat(null===n||void 0===n?void 0:n.studentLastName)}),(0,b.jsxs)("p",{children:[o("gr_no")," ",null===n||void 0===n?void 0:n.studentGRNO]})]})})]})},L=function(e){var n=e.instituteId,i=e.onAddMember,o=e.onBack,l=e.step,s=(0,t.useState)(""),a=(0,c.Z)(s,2),d=a[0],u=a[1],v=(0,m.YD)({skip:d}),f=(0,c.Z)(v,2),h=f[0],x=f[1],g=(0,t.useState)([]),j=(0,c.Z)(g,2),p=j[0],Z=j[1],k=(0,t.useState)(1),N=(0,c.Z)(k,2),y=N[0],S=N[1],C=(0,t.useState)(!0),M=(0,c.Z)(C,2),L=M[0],T=M[1],A=(0,t.useState)(!0),D=(0,c.Z)(A,2),E=D[0],R=D[1],B=(0,F.Mu)({data:{id:n,page:y,limit:10},skip:!n}),P=B.approveStudentList,O=B.approveStudentListRefetch,Y=(0,F.iR)({data:{search:d,page:1,limit:10,id:n},skip:!d}),G=Y.searchStudent,W=Y.searchStudentRefetch;(0,t.useEffect)((function(){x&&L&&S((function(e){return e+1}))}),[x,L]),(0,t.useEffect)((function(){d&&n&&(R(!0),W())}),[d,n,y,W]),(0,t.useEffect)((function(){n&&(R(!0),O())}),[n,y,O]),(0,t.useEffect)((function(){var e,n,i;d?null!==G&&void 0!==G&&G.student?(Z(1===y?null===G||void 0===G?void 0:G.student:function(e){var n,i;return null===(n=(0,r.Z)(new Set(null===(i=[].concat((0,r.Z)(e),(0,r.Z)(null===G||void 0===G?void 0:G.student)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)}),R(!1)):0===(null===G||void 0===G||null===(n=G.student)||void 0===n?void 0:n.length)&&R(!1):null!==P&&void 0!==P&&P.studentIns?(Z(1===y?null===P||void 0===P?void 0:P.studentIns:function(e){var n,i;return null===(n=(0,r.Z)(new Set(null===(i=[].concat((0,r.Z)(e),(0,r.Z)(null===P||void 0===P?void 0:P.studentIns)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)}),R(!1)):0===(null===P||void 0===P||null===(i=P.studentIns)||void 0===i?void 0:i.length)&&R(!1);10===(null===P||void 0===P||null===(e=P.studentIns)||void 0===e?void 0:e.length)?T(!0):T(!1)}),[null===P||void 0===P?void 0:P.studentIns,null===G||void 0===G?void 0:G.student]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(I,{onBack:o,step:l,onSearch:function(e){S((function(e){return 1})),u(e)}}),null===p||void 0===p?void 0:p.map((function(e,n){return(null===p||void 0===p?void 0:p.length)===n+1?(0,b.jsx)("div",{ref:h,children:(0,b.jsx)(w,{student:e,onAddMember:i})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(w,{student:e,onAddMember:i},null===e||void 0===e?void 0:e._id)})),E&&(0,b.jsx)(_.Z,{status:"white"})]})};var T=function(e){var n,i=e.book,t=e.status,o=e.onAddBook,l=(0,v.$G)().t;return(0,b.jsxs)("div",{className:"issueBook"!==t?"".concat(S.itembookk," ").concat(S.itembookcursor):S.itembookk,onClick:function(){"selectbook"===t&&o(i)},children:["issueBook"===t&&(0,b.jsx)("img",{className:S.bluetick,src:"/images/library/bluetick.svg",alt:"verified"}),(0,b.jsx)("p",{className:S.selectedText,children:null===i||void 0===i?void 0:i.language}),(0,b.jsx)("img",{src:null!==i&&void 0!==i&&i.photo?"".concat(g.yI,"/").concat(null===i||void 0===i?void 0:i.photo):"/images/defaultBook.png",alt:""}),(0,b.jsxs)("div",{className:S.textt,children:[(0,b.jsx)("h6",{children:null===i||void 0===i?void 0:i.bookName}),(0,b.jsxs)("p",{className:S.author,children:[null===i||void 0===i?void 0:i.author," \xa0",(0,b.jsx)("span",{className:S.authorLabel,children:l("author")})]}),(0,b.jsxs)("p",{className:S.author,children:[l("accession_number")," "," : ",null!==(n=null===i||void 0===i?void 0:i.accession_number)&&void 0!==n?n:""," "]})]})]})},A=function(e){var n=e.member,i=e.onAddBook,o=e.onBack,l=e.step,a=e.isView,d=e.role,u=e.mid,h=(0,v.$G)().t,x=(0,m.YD)(),j=(0,c.Z)(x,2),p=j[0],Z=j[1],k=(0,t.useState)(1),N=(0,c.Z)(k,2),y=N[0],C=N[1],M=(0,t.useState)(!0),F=(0,c.Z)(M,2),w=F[0],L=F[1],A=(0,t.useState)(!0),D=(0,c.Z)(A,2),E=D[0],R=D[1],B=(0,t.useState)([]),P=(0,c.Z)(B,2),O=P[0],Y=P[1],G=(0,t.useState)(""),W=(0,c.Z)(G,2),z=W[0],J=W[1],H=(0,s.v9)((function(e){return e.libraryChange})),V=(0,f.O_)({data:{lid:null===H||void 0===H?void 0:H.lid,page:y,limit:10,search:z,flow:"ISSUE_BOOK",role:d,mid:u},skip:null!==H&&void 0!==H&&H.lid?!(null!==H&&void 0!==H&&H.lid):!u}),U=V.getBooklist,q=V.getBookListRefetch;(0,t.useEffect)((function(){(null!==H&&void 0!==H&&H.lid||u||d)&&(R(!0),q())}),[null===H||void 0===H?void 0:H.lid,u,d,y,z,q]),(0,t.useEffect)((function(){Z&&w&&C((function(e){return e+1}))}),[Z,w]),(0,t.useEffect)((function(){var e,n;z?(Y(null===U||void 0===U?void 0:U.books),R(!1)):null!==U&&void 0!==U&&U.books?(Y(1===y?null===U||void 0===U?void 0:U.books:function(e){var n,i;return null===(n=(0,r.Z)(new Set(null===(i=[].concat((0,r.Z)(e),(0,r.Z)(null===U||void 0===U?void 0:U.books)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)}),R(!1)):0===(null===U||void 0===U||null===(n=U.books)||void 0===n?void 0:n.length)&&R(!1);10===(null===U||void 0===U||null===(e=U.books)||void 0===e?void 0:e.length)?L(!0):L(!1)}),[null===U||void 0===U?void 0:U.books]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(I,{onBack:o,step:l,onSearch:function(e){C((function(e){return 1})),J(e)}}),(0,b.jsxs)("div",{className:S.selectbook,children:[(0,b.jsxs)("div",{className:S.issuedBookItem,children:[(0,b.jsx)("p",{className:S.selectedText,children:h("selected")}),(0,b.jsx)("div",{className:S.issuedBookItemMidleft,children:(0,b.jsx)("div",{className:S.imgcontainer,children:"STAFF"===a?(0,b.jsx)("img",{src:null!==n&&void 0!==n&&n.staffProfilePhoto?"".concat(g.yI,"/").concat(null===n||void 0===n?void 0:n.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""}):(0,b.jsx)("img",{src:null!==n&&void 0!==n&&n.studentProfilePhoto?"".concat(g.yI,"/").concat(null===n||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""})})}),(0,b.jsx)("div",{className:S.issuedBookItemMidright,children:"STAFF"===a?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h6",{children:"".concat(null===n||void 0===n?void 0:n.staffFirstName," ").concat(null!==n&&void 0!==n&&n.staffMiddleName?null===n||void 0===n?void 0:n.staffMiddleName:""," ").concat(null===n||void 0===n?void 0:n.staffLastName)}),(0,b.jsxs)("p",{children:[h("index")," ",null===n||void 0===n?void 0:n.staffROLLNO]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h6",{children:"".concat(null===n||void 0===n?void 0:n.studentFirstName," ").concat(null!==n&&void 0!==n&&n.studentMiddleName?null===n||void 0===n?void 0:n.studentMiddleName:""," ").concat(null===n||void 0===n?void 0:n.studentLastName)}),(0,b.jsxs)("p",{children:[h("gr_no")," ",null===n||void 0===n?void 0:n.studentGRNO]})]})})]}),(0,b.jsx)("div",{className:S.dash}),(0,b.jsxs)("div",{className:S.itembookcontainer,children:[null===O||void 0===O?void 0:O.map((function(e,n){return(null===O||void 0===O?void 0:O.length)===n+1?(0,b.jsx)("div",{ref:p,children:(0,b.jsx)(T,{status:"selectbook",book:e,onAddBook:i})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(T,{status:"selectbook",book:e,onAddBook:i},null===e||void 0===e?void 0:e._id)})),E&&(0,b.jsx)(_.Z,{status:"white"})]})]})]})},D=i(4942),E=i(26071),R=i(20659),B=i(61055),P=function(e){var n=e.member,i=e.book,o=e.onBack,l=e.step,s=e.onIssueBook,a=e.isView,d=(0,v.$G)().t,r=(0,t.useState)({for_days:7,day_overdue_charge:""}),u=(0,c.Z)(r,2),m=u[0],f=u[1],_=(0,t.useState)("ONE_WEEK"),h=(0,c.Z)(_,2),j=h[0],p=h[1],Z=function(e){f((function(n){return(0,y.Z)((0,y.Z)({},n),{},(0,D.Z)({},e.target.name,e.target.value))}))},k=function(e){p(e),f((function(n){return(0,y.Z)((0,y.Z)({},n),{},{for_days:"ONE_WEEK"===e?7:"ONE_MONTH"===e?30:""})}))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(I,{onBack:o,step:l}),(0,b.jsxs)("div",{className:S.issueBookk,children:[(0,b.jsx)("h6",{children:d("member")}),(0,b.jsxs)("div",{className:"".concat(S.itembookk," ").concat(S.bookmargin),children:[(0,b.jsx)("img",{className:S.bluetick,src:"/images/library/bluetick.svg",alt:"verified"}),(0,b.jsx)("div",{className:S.issuedBookItemMidleft,children:(0,b.jsx)("div",{className:S.imgcontainer,children:"STAFF"===a?(0,b.jsx)("img",{src:null!==n&&void 0!==n&&n.staffProfilePhoto?"".concat(g.yI,"/").concat(null===n||void 0===n?void 0:n.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""}):(0,b.jsx)("img",{src:null!==n&&void 0!==n&&n.studentProfilePhoto?"".concat(g.yI,"/").concat(null===n||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""})})}),(0,b.jsx)("div",{className:S.issuedBookItemMidright,children:"STAFF"===a?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h6",{children:"".concat(null===n||void 0===n?void 0:n.staffFirstName," ").concat(null!==n&&void 0!==n&&n.staffMiddleName?null===n||void 0===n?void 0:n.staffMiddleName:""," ").concat(null===n||void 0===n?void 0:n.staffLastName)}),(0,b.jsxs)("p",{children:[d("index")," ",null===n||void 0===n?void 0:n.staffROLLNO]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h6",{children:"".concat(null===n||void 0===n?void 0:n.studentFirstName," ").concat(null!==n&&void 0!==n&&n.studentMiddleName?null===n||void 0===n?void 0:n.studentMiddleName:""," ").concat(null===n||void 0===n?void 0:n.studentLastName)}),(0,b.jsxs)("p",{children:[d("gr_no")," ",null===n||void 0===n?void 0:n.studentGRNO]})]})})]}),(0,b.jsx)("h6",{children:d("book")}),(0,b.jsx)(T,{book:i,status:"issueBook"}),(0,b.jsxs)("h6",{className:S.issuedDate,children:[d("issue_date")," : ",(0,b.jsx)("span",{children:x()().format("Do MMM YYYY")})]}),"STAFF"!==a?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(R.Z,{label:"duration",children:null===O||void 0===O?void 0:O.map((function(e){return(0,b.jsx)(E.Z,{tile:e,onTile:k,activeTile:j},null===e||void 0===e?void 0:e.key)}))}),"OTHER"===j?(0,b.jsx)(B.Z,{label:d("how_many_days"),placeholder:d("how_many_days_placeholder"),name:"for_days",value:m.for_days,type:"text",onChange:Z}):null,(0,b.jsx)(B.Z,{label:d("late_fees_per_day"),placeholder:d("late_fees_per_day_placeholder"),name:"day_overdue_charge",value:m.day_overdue_charge,type:"text",onChange:Z,customFormInputContainer:{marginBottom:"1rem"}})]}):null,"STAFF"===a?(0,b.jsx)("button",{className:S.issuebtn,onClick:s,children:d("issue_book")}):(0,b.jsx)("button",{className:S.issuebtn,onClick:function(){s((0,y.Z)({},m))},children:d("issue_book")})]})]})},O=[{key:"ONE_WEEK",name:"one_week"},{key:"ONE_MONTH",name:"one_months"},{key:"OTHER",name:"other"}],Y=i(12923),G=function(e){var n=e.instituteId,i=e.onAddMember,o=e.onBack,l=e.step,s=(0,t.useState)(""),a=(0,c.Z)(s,2),d=a[0],u=a[1],v=(0,m.YD)({skip:d}),f=(0,c.Z)(v,2),h=f[0],x=f[1],g=(0,t.useState)([]),j=(0,c.Z)(g,2),p=j[0],Z=j[1],k=(0,t.useState)(1),N=(0,c.Z)(k,2),y=N[0],S=N[1],C=(0,t.useState)(!0),M=(0,c.Z)(C,2),F=M[0],L=M[1],T=(0,t.useState)(!0),A=(0,c.Z)(T,2),D=A[0],E=A[1],R=(0,Y.vI)({skip:!n,search:{search:d,page:y,id:n,limit:10}}),B=R.assignSearchStaff,P=R.assignSearchStaffRefetch;(0,t.useEffect)((function(){x&&F&&S((function(e){return e+1}))}),[x,F]),(0,t.useEffect)((function(){n&&(E(!0),P())}),[d,n,y,P]),(0,t.useEffect)((function(){var e,n,i;d?null!==B&&void 0!==B&&B.staff?(Z(null===B||void 0===B?void 0:B.staff),E(!1)):0===(null===B||void 0===B||null===(n=B.staff)||void 0===n?void 0:n.length)&&E(!1):null!==B&&void 0!==B&&B.staff?(Z(1===y?null===B||void 0===B?void 0:B.staff:function(e){var n,i;return null===(n=(0,r.Z)(new Set(null===(i=[].concat((0,r.Z)(e),(0,r.Z)(null===B||void 0===B?void 0:B.staff)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)}),E(!1)):0===(null===B||void 0===B||null===(i=B.staff)||void 0===i?void 0:i.length)&&E(!1);10===(null===B||void 0===B||null===(e=B.staff)||void 0===e?void 0:e.length)?L(!0):L(!1)}),[null===B||void 0===B?void 0:B.staff]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(I,{onBack:o,step:l,onSearch:function(e){S((function(e){return 1})),u(e)}}),null===p||void 0===p?void 0:p.map((function(e,n){return(null===p||void 0===p?void 0:p.length)===n+1?(0,b.jsx)("div",{ref:h,children:(0,b.jsx)(w,{student:e,onAddMember:i,isStaff:!0})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(w,{student:e,onAddMember:i,isStaff:!0},null===e||void 0===e?void 0:e._id)})),D&&(0,b.jsx)(_.Z,{status:"white"})]})},W=function(e){var n=e.onClose,i=e.instituteId,o=e.onRefetchWhenBookIssue,l=e.isView,a=e.role,d=e.mid,r=(0,s.v9)((function(e){return e.libraryChange})),u=(0,t.useState)(0),v=(0,c.Z)(u,2),m=v[0],_=v[1],h=(0,t.useState)(!1),x=(0,c.Z)(h,2),g=x[0],j=x[1],p=(0,t.useState)(""),Z=(0,c.Z)(p,2),k=Z[0],N=Z[1],F=(0,t.useState)(""),I=(0,c.Z)(F,2),w=I[0],T=I[1],D=(0,f.EI)(),E=(0,c.Z)(D,1)[0],R=(0,f.n9)(),B=(0,c.Z)(R,1)[0],O=function(){0===m?n():_(1===m?0:1)},Y=function(e){N(e),_(1)};return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(C.Z,{onClose:O,children:[(0,b.jsxs)("div",{className:S.issue_modal,children:[0===m&&("STAFF"===l?(0,b.jsx)(G,{instituteId:i,onAddMember:Y,step:m,onBack:O}):(0,b.jsx)(L,{instituteId:i,onAddMember:Y,step:m,onBack:O})),1===m&&(0,b.jsx)(A,{onAddBook:function(e){T(e),_(2)},step:m,onBack:O,member:k,isView:l,role:a,mid:d}),2===m&&(0,b.jsx)(P,{step:m,onBack:O,book:w,member:k,onIssueBook:function(e){null!==r&&void 0!==r&&r.lid&&null!==k&&void 0!==k&&k._id&&null!==w&&void 0!==w&&w._id&&(j(!0),"STAFF"===l?B({lid:null===r||void 0===r?void 0:r.lid,issueData:{memberId:null===k||void 0===k?void 0:k._id,bookId:null===w||void 0===w?void 0:w._id,flow:"Normal"}}).then((function(){o(),n(!1),j(!1)})).catch((function(){})):E({lid:null===r||void 0===r?void 0:r.lid,issueData:(0,y.Z)({memberId:null===k||void 0===k?void 0:k._id,bookId:null===w||void 0===w?void 0:w._id,flow:"Normal"},e)}).then((function(){o(),n(!1),j(!1)})).catch((function(){})))},isView:l})]}),g&&(0,b.jsx)(M.Z,{})]})})};var z=function(e){var n=e.insId,i=e.role,o=e.mid,l=(0,v.$G)().t,a=(0,t.useState)(""),d=(0,c.Z)(a,2),u=d[0],h=d[1],x=(0,m.YD)({skip:!u}),g=(0,c.Z)(x,2),j=g[0],Z=g[1],y=(0,t.useState)(1),S=(0,c.Z)(y,2),C=S[0],M=S[1],F=(0,t.useState)([]),I=(0,c.Z)(F,2),w=I[0],L=I[1],T=(0,t.useState)(!0),A=(0,c.Z)(T,2),D=A[0],E=A[1],R=(0,t.useState)(!0),B=(0,c.Z)(R,2),P=B[0],O=B[1],Y=(0,t.useState)(!1),G=(0,c.Z)(Y,2),z=G[0],J=G[1],H=(0,t.useState)(!1),V=(0,c.Z)(H,2),U=V[0],q=V[1],$=(0,t.useState)(!1),K=(0,c.Z)($,2),Q=K[0],X=K[1],ee=(0,s.v9)((function(e){return e.libraryChange.lid})),ne=(0,f.aA)({data:{lid:ee,page:C,limit:10,search:u},skip:!ee}),ie=ne.getIssuedBooklist,te=ne.getIssuedBookListRefetch;(0,t.useEffect)((function(){Z&&D&&M((function(e){return e+1}))}),[Z,D]),(0,t.useEffect)((function(){ee&&(O(!0),te())}),[C,ee,u,te]),(0,t.useEffect)((function(){var e;if(null!==ie&&void 0!==ie&&ie.issues)if(u)L(null===ie||void 0===ie?void 0:ie.issues),O(!1);else if(z)L(null===ie||void 0===ie?void 0:ie.issues),O(!1),J(!1);else{var n;null!==ie&&void 0!==ie&&ie.issues?(L((function(e){var n,i;return null===(n=(0,r.Z)(new Set(null===(i=[].concat((0,r.Z)(e),(0,r.Z)(null===ie||void 0===ie?void 0:ie.issues)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),O(!1)):0===(null===ie||void 0===ie||null===(n=ie.issues)||void 0===n?void 0:n.length)&&O(!1)}10===(null===ie||void 0===ie||null===(e=ie.issues)||void 0===e?void 0:e.length)?E(!0):E(!1)}),[null===ie||void 0===ie?void 0:ie.issues]);var oe=(0,t.useCallback)((0,p.debounce)((function(e){return h(e)}),500),[]),le=function(){M(1),J(!0),O(!0),te()};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:k.Z.searchContainerr,children:[(0,b.jsxs)("div",{className:k.Z.searchContainer,children:[(0,b.jsx)("img",{alt:"",src:"/images/search-dept-icon.svg"}),(0,b.jsx)("input",{type:"text",placeholder:l("search-label"),onChange:function(e){return n=e.target.value,void oe(n);var n}})]}),(0,b.jsx)("div",{className:k.Z.newBtn,onClick:function(){return q(!0)},children:l("issue_book")}),(0,b.jsx)("div",{className:k.Z.newBtn,onClick:function(){return X(!0)},children:l("issue_staff_book")})]}),(0,b.jsx)("div",{className:k.Z.remainingFees,children:(0,b.jsx)("div",{className:k.Z.remainingFeesBottom,children:(0,b.jsxs)("div",{className:k.Z.itemsContainer,children:[null===w||void 0===w?void 0:w.map((function(e,n){var i,t;return(null===w||void 0===w?void 0:w.length)===n+1?(0,b.jsx)("div",{ref:j,className:k.Z.itemsRef,children:(0,b.jsx)(N.Z,{book:e,member:null!==(i=null===e||void 0===e?void 0:e.member)&&void 0!==i?i:null===e||void 0===e?void 0:e.staff_member,issueId:null===e||void 0===e?void 0:e._id,onRefetchWhenBookCollect:le})},n):(0,b.jsx)("div",{className:k.Z.itemsRef,children:(0,b.jsx)(N.Z,{book:e,member:null!==(t=null===e||void 0===e?void 0:e.member)&&void 0!==t?t:null===e||void 0===e?void 0:e.staff_member,issueId:null===e||void 0===e?void 0:e._id,onRefetchWhenBookCollect:le})},n)})),P&&(0,b.jsx)(_.Z,{}),!P&&0===(null===w||void 0===w?void 0:w.length)&&(0,b.jsx)("div",{className:k.Z.noData,children:(0,b.jsx)("img",{src:"/images/nodata.jpg",alt:""})})]})})}),U&&(0,b.jsx)(W,{instituteId:n,onClose:function(){return q(!1)},onRefetchWhenBookIssue:le,role:i,mid:o}),Q&&(0,b.jsx)(W,{instituteId:n,onClose:function(){return X(!1)},onRefetchWhenBookIssue:le,isView:"STAFF",role:i,mid:o})]})},J=i(52398),H=i(61969);var V=function(e){var n=e.index,i=e.member,t=e.setMid,o=e.mid,l=(0,v.$G)().t;return(0,b.jsxs)("div",{className:(null===i||void 0===i?void 0:i._id)===o?"".concat(H.Z.memberItem," ").concat(H.Z.memberItemactive):H.Z.memberItem,onClick:function(){return t(null===i||void 0===i?void 0:i._id)},children:[(0,b.jsx)("div",{className:H.Z.issuedBookItemMidleft,children:(0,b.jsx)("div",{className:H.Z.imgcontainer,children:(0,b.jsx)("img",{src:"1"!==(null===i||void 0===i?void 0:i.photoId)?"".concat(g.yI,"/").concat(null===i||void 0===i?void 0:i.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""})})}),(0,b.jsxs)("div",{className:H.Z.issuedBookItemMidright,children:[(0,b.jsx)("h6",{children:"".concat(null===i||void 0===i?void 0:i.studentFirstName," ").concat(null!==i&&void 0!==i&&i.studentMiddleName?null===i||void 0===i?void 0:i.studentMiddleName:""," ").concat(null===i||void 0===i?void 0:i.studentLastName)}),(0,b.jsxs)("p",{children:[l("index_no")," : ",n," "]})]})]})},U="Tabs_mcqToptabs__ccG7U",q="Tabs_mcqTop__20iW4",$="Tabs_mcqTopItem__oghuj",K="Tabs_active__6c5Pg";var Q=function(e){var n=e.activeIndex,i=e.setActiveIndex,t=(0,v.$G)().t;return(0,b.jsx)("div",{className:q,children:(0,b.jsxs)("div",{className:U,children:[(0,b.jsx)("div",{className:0===n?"".concat($," ").concat(K):$,onClick:function(){return i(0)},children:t("issued")}),(0,b.jsx)("div",{className:1===n?"".concat($," ").concat(K):$,onClick:function(){return i(1)},children:t("history")}),(0,b.jsx)("div",{className:2===n?"".concat($," ").concat(K):$,onClick:function(){return i(2)},children:t("in_out_history")})]})})},X=t.forwardRef((function(e,n){var i,t;return(0,b.jsxs)("div",{className:H.Z.membersContainer,children:[null===e||void 0===e||null===(i=e.borrowList)||void 0===i?void 0:i.map((function(i,t){var o;return(null===e||void 0===e||null===(o=e.borrowList)||void 0===o?void 0:o.length)===t+1?(0,b.jsx)("div",{ref:n,className:H.Z.limember,children:(0,b.jsx)(N.Z,{book:i,member:null===e||void 0===e?void 0:e.member,issueId:null===i||void 0===i?void 0:i._id,onRefetchWhenBookCollect:null===e||void 0===e?void 0:e.onRefetchWhenBookCollect})},t):(0,b.jsx)("div",{className:H.Z.limember,children:(0,b.jsx)(N.Z,{book:i,member:null===e||void 0===e?void 0:e.member,issueId:null===i||void 0===i?void 0:i._id,onRefetchWhenBookCollect:null===e||void 0===e?void 0:e.onRefetchWhenBookCollect})},t)})),(null===e||void 0===e?void 0:e.showingDataLoading)&&(0,b.jsx)(_.Z,{}),!(null!==e&&void 0!==e&&e.showingDataLoading)&&0===(null===e||void 0===e||null===(t=e.borrowList)||void 0===t?void 0:t.length)&&(0,b.jsx)("div",{className:H.Z.noData,children:(0,b.jsx)("img",{src:"/images/nodata.jpg",alt:""})})]})})),ee=i(11053);var ne=function(e){var n,i,o=e.mid,l=(0,m.YD)(),s=(0,c.Z)(l,2),a=s[0],d=s[1],u=(0,t.useState)(1),v=(0,c.Z)(u,2),h=v[0],x=v[1],g=(0,t.useState)(!0),j=(0,c.Z)(g,2),p=j[0],Z=j[1],k=(0,t.useState)(!0),N=(0,c.Z)(k,2),S=N[0],C=N[1],M=(0,t.useState)({memberId:"",historyList:[]}),F=(0,c.Z)(M,2),I=F[0],w=F[1],L=(0,f.Ef)({data:{sid:o,page:I.memberId!==o?1:h,limit:10},skip:!o}),T=L.getMemberHistorylist,A=L.getMemberHistoryListRefetch;return(0,t.useEffect)((function(){d&&p&&x((function(e){return e+1}))}),[d,p]),(0,t.useEffect)((function(){o&&(C(!0),A())}),[h,o,A]),(0,t.useEffect)((function(){var e,n;null!==T&&void 0!==T&&T.history?I.memberId===o?(w((function(e){var n,i;return(0,y.Z)((0,y.Z)({},e),{},{historyList:null===(n=(0,r.Z)(new Set(null===(i=[].concat((0,r.Z)(e.historyList),(0,r.Z)(null===T||void 0===T?void 0:T.history)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})})),C(!1)):(w({memberId:o,historyList:(0,r.Z)(null===T||void 0===T?void 0:T.history)}),C(!1)):0===(null===T||void 0===T||null===(e=T.history)||void 0===e?void 0:e.length)&&C(!1),10===(null===T||void 0===T||null===(n=T.history)||void 0===n?void 0:n.length)?Z(!0):Z(!1)}),[null===T||void 0===T?void 0:T.history]),(0,b.jsxs)("div",{className:H.Z.membersContainer,children:[null===(n=I.historyList)||void 0===n?void 0:n.map((function(e,n){var i;return(null===(i=I.historyList)||void 0===i?void 0:i.length)===n+1?(0,b.jsx)("div",{ref:a,className:H.Z.limember,children:(0,b.jsx)(ee.Z,{status:"memberdetail",book:e})},n):(0,b.jsx)("div",{className:H.Z.limember,children:(0,b.jsx)(ee.Z,{status:"memberdetail",book:e})},n)})),S&&(0,b.jsx)(_.Z,{}),!S&&0===(null===(i=I.historyList)||void 0===i?void 0:i.length)&&(0,b.jsx)("div",{className:H.Z.noData,children:(0,b.jsx)("img",{src:"/images/nodata.jpg",alt:""})})]})},ie=i(20224);var te=function(e){var n,i,o,l,s,a,d,u,_,h,x,j,p,Z,k,N=e.mid,S=(0,v.$G)().t,C=(0,t.useState)(0),M=(0,c.Z)(C,2),F=M[0],I=M[1],w=(0,m.YD)(),L=(0,c.Z)(w,2),T=L[0],A=L[1],D=(0,t.useState)(1),E=(0,c.Z)(D,2),R=E[0],B=E[1],P=(0,t.useState)(!0),O=(0,c.Z)(P,2),Y=O[0],G=O[1],W=(0,t.useState)(!1),z=(0,c.Z)(W,2),J=z[0],V=z[1],U=(0,t.useState)(!0),q=(0,c.Z)(U,2),$=q[0],K=q[1],ee=(0,t.useState)({student:"",issueList:[]}),te=(0,c.Z)(ee,2),oe=te[0],le=te[1],se=(0,f.QJ)({data:{sid:N,page:oe.student!==N?1:R,limit:10},skip:!N}),ae=se.getMemberBooklist,de=se.getMemberBookListRefetch;return(0,t.useEffect)((function(){A&&Y&&B((function(e){return e+1}))}),[A,Y]),(0,t.useEffect)((function(){N&&(K(!0),de())}),[R,N,de]),(0,t.useEffect)((function(){var e,n,i,t,o;if(null!==ae&&void 0!==ae&&null!==(e=ae.student)&&void 0!==e&&e.borrow){var l,s,a;if(oe.student===(null===ae||void 0===ae||null===(l=ae.student)||void 0===l?void 0:l._id))J?(le((function(e){var n;return(0,y.Z)((0,y.Z)({},e),{},{issueList:(0,r.Z)(null===ae||void 0===ae||null===(n=ae.student)||void 0===n?void 0:n.borrow)})})),V(!1)):le((function(e){var n,i,t;return(0,y.Z)((0,y.Z)({},e),{},{issueList:null===(n=(0,r.Z)(new Set(null===(i=[].concat((0,r.Z)(e.issueList),(0,r.Z)(null===ae||void 0===ae||null===(t=ae.student)||void 0===t?void 0:t.borrow)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})}));else le({student:null===ae||void 0===ae||null===(s=ae.student)||void 0===s?void 0:s._id,issueList:(0,r.Z)(null===ae||void 0===ae||null===(a=ae.student)||void 0===a?void 0:a.borrow)});K(!1)}else 0===(null===ae||void 0===ae||null===(n=ae.student)||void 0===n||null===(i=n.borrow)||void 0===i?void 0:i.length)&&K(!1);10===(null===ae||void 0===ae||null===(t=ae.student)||void 0===t||null===(o=t.borrow)||void 0===o?void 0:o.length)?G(!0):G(!1)}),[null===ae||void 0===ae||null===(n=ae.student)||void 0===n?void 0:n.borrow]),(0,b.jsxs)("div",{className:H.Z.memberdetails,children:[(0,b.jsxs)("div",{className:H.Z.memberdetailstop,children:[(0,b.jsx)("div",{className:H.Z.issuedBookItemMidleft,children:(0,b.jsx)("div",{className:H.Z.imgcontainer,children:(0,b.jsx)("img",{src:"1"!==(null===ae||void 0===ae||null===(i=ae.student)||void 0===i?void 0:i.photoId)?"".concat(g.yI,"/").concat(null===ae||void 0===ae||null===(o=ae.student)||void 0===o?void 0:o.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""})})}),(0,b.jsxs)("div",{className:H.Z.issuedBookItemMidright,children:[(0,b.jsx)("h6",{children:"".concat(null===ae||void 0===ae||null===(l=ae.student)||void 0===l?void 0:l.studentFirstName," ").concat(null!==ae&&void 0!==ae&&null!==(s=ae.student)&&void 0!==s&&s.studentMiddleName?null===ae||void 0===ae||null===(a=ae.student)||void 0===a?void 0:a.studentMiddleName:""," ").concat(null===ae||void 0===ae||null===(d=ae.student)||void 0===d?void 0:d.studentLastName)}),(0,b.jsxs)("p",{children:[S("index_no")," : ",null===ae||void 0===ae||null===(u=ae.student)||void 0===u?void 0:u.studentGRNO]})]})]}),(0,b.jsx)("div",{className:H.Z.tabs,children:(0,b.jsx)(Q,{activeIndex:F,setActiveIndex:I})}),0===F&&(0,b.jsx)(X,{showingDataLoading:$,ref:T,borrowList:oe.issueList,member:{photoId:null===ae||void 0===ae||null===(_=ae.student)||void 0===_?void 0:_.photoId,studentFirstName:null===ae||void 0===ae||null===(h=ae.student)||void 0===h?void 0:h.studentFirstName,studentGRNO:null===ae||void 0===ae||null===(x=ae.student)||void 0===x?void 0:x.studentGRNO,studentLastName:null===ae||void 0===ae||null===(j=ae.student)||void 0===j?void 0:j.studentLastName,studentMiddleName:null===ae||void 0===ae||null===(p=ae.student)||void 0===p?void 0:p.studentMiddleName,studentProfilePhoto:null===ae||void 0===ae||null===(Z=ae.student)||void 0===Z?void 0:Z.studentProfilePhoto,_id:null===ae||void 0===ae||null===(k=ae.student)||void 0===k?void 0:k._id},onRefetchWhenBookCollect:function(){B(1),V(!0),K(!0),de()}}),1===F&&(0,b.jsx)(ne,{mid:N}),2===F&&(0,b.jsx)(ie.Z,{mid:N})]})};var oe=function(){var e=(0,v.$G)().t,n=(0,s.v9)((function(e){return e.libraryChange.lid})),i=(0,t.useState)(""),o=(0,c.Z)(i,2),l=o[0],a=o[1],d=(0,m.YD)({skip:!l}),u=(0,c.Z)(d,2),h=u[0],x=u[1],g=(0,t.useState)([]),j=(0,c.Z)(g,2),Z=j[0],k=j[1],N=(0,t.useState)(1),y=(0,c.Z)(N,2),S=y[0],C=y[1],M=(0,t.useState)(!0),F=(0,c.Z)(M,2),I=F[0],w=F[1],L=(0,t.useState)(!0),T=(0,c.Z)(L,2),A=T[0],D=T[1],E=(0,t.useState)(""),R=(0,c.Z)(E,2),B=R[0],P=R[1],O=(0,f.I4)({data:{lid:n,page:S,limit:10,search:l},skip:!n}),Y=O.getMemberslist,G=O.getMembersListRefetch;(0,t.useEffect)((function(){x&&I&&C((function(e){return e+1}))}),[x,I]),(0,t.useEffect)((function(){n&&(D(!0),G())}),[S,n,l,G]),(0,t.useEffect)((function(){var e,n;null!==Y&&void 0!==Y&&Y.members?(k(l?null===Y||void 0===Y?void 0:Y.members:function(e){var n,i;return null===(n=(0,r.Z)(new Set(null===(i=[].concat((0,r.Z)(e),(0,r.Z)(null===Y||void 0===Y?void 0:Y.members)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)}),D(!1)):0===(null===Y||void 0===Y||null===(e=Y.members)||void 0===e?void 0:e.length)&&D(!1),10===(null===Y||void 0===Y||null===(n=Y.members)||void 0===n?void 0:n.length)?w(!0):w(!1)}),[null===Y||void 0===Y?void 0:Y.members]);var W=(0,t.useCallback)((0,p.debounce)((function(e){return a(e)}),500),[]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:H.Z.searchContainerr,children:(0,b.jsxs)("div",{className:H.Z.searchContainer,children:[(0,b.jsx)("img",{alt:"",src:"/images/search-dept-icon.svg"}),(0,b.jsx)("input",{type:"text",placeholder:e("search-label"),onChange:function(e){return n=e.target.value,void W(n);var n}})]})}),(0,b.jsx)("div",{className:H.Z.remainingFees,children:(0,b.jsxs)("div",{className:B?"".concat(H.Z.completeApplicationSplit):"",children:[(0,b.jsx)("div",{className:B?"".concat(H.Z.remainingFeesBottom," ").concat(H.Z.half):H.Z.remainingFeesBottom,children:(0,b.jsxs)("div",{className:H.Z.itemsContainer,children:[null===Z||void 0===Z?void 0:Z.map((function(e,n){return(null===Z||void 0===Z?void 0:Z.length)===n+1?(0,b.jsx)("div",{ref:h,className:H.Z.limember,children:(0,b.jsx)(V,{member:e,setMid:P,mid:B,index:n+1})},n):(0,b.jsx)("div",{className:H.Z.limember,children:(0,b.jsx)(V,{member:e,setMid:P,mid:B,index:n+1})},n)})),A&&(0,b.jsx)(_.Z,{}),!A&&0===(null===Z||void 0===Z?void 0:Z.length)&&(0,b.jsx)("div",{className:H.Z.noData,children:(0,b.jsx)("img",{src:"/images/nodata.jpg",alt:""})})]})}),B&&(0,b.jsx)("div",{className:H.Z.itemsDetails,children:(0,b.jsx)(te,{mid:B})})]})})]})},le=i(47167),se=i(98094),ae=i(34219),de=i(47735),re=function(e){var n=e.title,i=e.onClose,t=e.onCollect,o=e.amount,l=(0,v.$G)().t;return(0,b.jsx)(C.Z,{onClose:i,children:(0,b.jsx)("div",{className:S.issue_modal,children:(0,b.jsxs)("div",{className:S.issueBookk,children:[(0,b.jsxs)("h6",{style:{textAlign:"center"},children:[null!==n&&void 0!==n?n:"",", "," ",l("rs"),". ",null!==o&&void 0!==o?o:0," "]}),(0,b.jsx)("button",{className:S.issuebtn,onClick:t,style:{marginTop:"8rem"},children:l("collect_fine")})]})})})},ce=function(e){var n,i,o,l,s,a,d,r,u,m,_,h,x,j,p,Z,N,y,S,C,F,I,w,L=e.studentFine,T=e.is_last,A=e.lid,D=e.onRefetch,E=(0,v.$G)().t,R=(0,t.useState)(!1),B=(0,c.Z)(R,2),P=B[0],O=B[1],Y=(0,t.useState)(!1),G=(0,c.Z)(Y,2),W=G[0],z=G[1],J=(0,f.sl)(),H=(0,c.Z)(J,1)[0],V=function(){z((function(e){return!e}))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:k.Z.issuedBookItem,style:{width:T?"100%":"49%",marginBottom:T?"0":"1rem"},children:[(0,b.jsxs)("div",{className:k.Z.issuedBookItemTop,children:[(0,b.jsx)("div",{className:k.Z.issuedBookItemTopleft,children:(0,b.jsx)("img",{className:k.Z.bookItemImg,src:null!==L&&void 0!==L&&null!==(n=L.book)&&void 0!==n&&n.photo?"".concat(g.yI,"/").concat(null===L||void 0===L||null===(i=L.book)||void 0===i?void 0:i.photo):"/images/defaultBook.png",alt:"book avatar",loading:"lazy"})}),(0,b.jsxs)("div",{className:k.Z.issuedBookItemTopright,children:[(0,b.jsx)("h6",{className:k.Z.title,children:(null===L||void 0===L||null===(o=L.book)||void 0===o||null===(l=o.bookName)||void 0===l?void 0:l.length)>=18?"".concat(null===L||void 0===L||null===(s=L.book)||void 0===s||null===(a=s.bookName)||void 0===a?void 0:a.match(/.{1,18}/g)[0]," ..."):null===L||void 0===L||null===(d=L.book)||void 0===d?void 0:d.bookName}),(0,b.jsxs)("p",{className:k.Z.author,children:[null===L||void 0===L||null===(r=L.book)||void 0===r?void 0:r.author," \xa0",(0,b.jsx)("span",{className:k.Z.authorLabel,children:E("author")})]}),(0,b.jsxs)("p",{className:k.Z.booklang,children:[" ",null===L||void 0===L||null===(u=L.book)||void 0===u?void 0:u.language]})]})]}),(0,b.jsxs)("div",{className:k.Z.issuedBookItemMid,children:[(0,b.jsx)("div",{className:k.Z.issuedBookItemMidleft,children:(0,b.jsx)("div",{className:k.Z.imgcontainer,children:(0,b.jsx)("img",{src:null!==L&&void 0!==L&&null!==(m=L.student)&&void 0!==m&&m.studentProfilePhoto?"".concat(g.yI,"/").concat(null===L||void 0===L||null===(_=L.student)||void 0===_?void 0:_.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"book avatar",loading:"lazy"})})}),(0,b.jsxs)("div",{className:k.Z.issuedBookItemMidright,children:[(0,b.jsxs)("h6",{children:[" ","".concat(null!==(h=null===L||void 0===L||null===(x=L.student)||void 0===x?void 0:x.studentFirstName)&&void 0!==h?h:""," ").concat(null!==(j=null===L||void 0===L||null===(p=L.student)||void 0===p?void 0:p.studentMiddleName)&&void 0!==j?j:""," ").concat(null!==(Z=null===L||void 0===L||null===(N=L.student)||void 0===N?void 0:N.studentLastName)&&void 0!==Z?Z:"")]}),(0,b.jsxs)("p",{children:[E("gr_no")," ",null!==(y=null===L||void 0===L||null===(S=L.student)||void 0===S?void 0:S.studentGRNO)&&void 0!==y?y:""," "]})]})]}),(0,b.jsxs)("div",{className:k.Z.issuedBookItemBottom,children:[(0,b.jsxs)("div",{className:k.Z.issuedBookItemBottomLeft,children:[(0,b.jsxs)("p",{children:[null!==(C=null===L||void 0===L?void 0:L.fine_type)&&void 0!==C?C:""," Book Fine Amount"]}),(0,b.jsxs)("h6",{children:[E("rs"),". ",null!==(F=null===L||void 0===L?void 0:L.fine_charge)&&void 0!==F?F:0]})]}),"Paid"===(null===L||void 0===L?void 0:L.status)?(0,b.jsx)("div",{className:k.Z.issuedBookItemBottomLeft,children:(0,b.jsx)(de.Z,{rid:null===L||void 0===L||null===(I=L.fee_receipt)||void 0===I?void 0:I._id})}):(0,b.jsx)("div",{className:k.Z.collectbtn,onClick:V,children:E("collect_fine")})]}),P&&(0,b.jsx)(M.Z,{})]}),W&&(0,b.jsx)(re,{onCollect:function(){var e,n,i,t,o;null!==L&&void 0!==L&&null!==(e=L.book)&&void 0!==e&&e._id&&null!==L&&void 0!==L&&null!==(n=L.student)&&void 0!==n&&n._id&&A&&(V(),O((function(e){return!e})),H({lid:A,sid:null===L||void 0===L||null===(i=L.student)||void 0===i?void 0:i._id,bid:null===L||void 0===L||null===(t=L.book)||void 0===t?void 0:t._id,collectData:{amount:null!==(o=null===L||void 0===L?void 0:L.fine_charge)&&void 0!==o?o:0,prid:null===L||void 0===L?void 0:L._id}}).then((function(){D(),O((function(e){return!e}))})).catch({}))},onClose:V,title:"".concat(null!==(w=null===L||void 0===L?void 0:L.fine_type)&&void 0!==w?w:""," Book Fine Amount"),amount:null===L||void 0===L?void 0:L.fine_charge})]})},ue=function(e){var n=e.lid,i=(0,t.useState)(!0),o=(0,c.Z)(i,2),l=o[0],s=o[1],a=(0,t.useState)(1),d=(0,c.Z)(a,2),u=d[0],v=d[1],h=(0,m.YD)(),x=(0,c.Z)(h,2),g=x[0],j=x[1],p=(0,t.useState)([]),Z=(0,c.Z)(p,2),k=Z[0],N=Z[1],y=(0,t.useState)(!0),S=(0,c.Z)(y,2),C=S[0],M=S[1],F=(0,t.useState)(!1),I=(0,c.Z)(F,2),w=I[0],L=I[1],T=(0,f.xK)({data:{lid:n,page:u,limit:10,flow:"Remaining"},skip:!n}),A=T.libraryFineCharge,D=T.libraryFineChargeRefetch;(0,t.useEffect)((function(){n&&(M(!0),D())}),[u,n,D]),(0,t.useEffect)((function(){j&&l&&v((function(e){return e+1}))}),[j,l]),(0,t.useEffect)((function(){var e,n;w?(N(null===A||void 0===A?void 0:A.all_student),L(!1),M(!1)):null!==A&&void 0!==A&&A.all_student?(N((function(e){return(0,r.Z)(new Set([].concat((0,r.Z)(e),(0,r.Z)(null===A||void 0===A?void 0:A.all_student)).map(JSON.stringify))).map(JSON.parse)})),M(!1)):0===(null===A||void 0===A||null===(n=A.all_student)||void 0===n?void 0:n.length)&&M(!1);10===(null===A||void 0===A||null===(e=A.all_student)||void 0===e?void 0:e.length)?s(!0):s(!1)}),[null===A||void 0===A?void 0:A.all_student]);var E=function(){v(1),L(!0),D()};return(0,b.jsx)("div",{className:J.Z.library_out_container,children:(0,b.jsxs)("div",{className:J.Z.data_container,children:[null===k||void 0===k?void 0:k.map((function(e,i){return(null===k||void 0===k?void 0:k.length)===i+1?(0,b.jsx)("div",{ref:g,style:{width:"49%",marginBottom:"1rem"},children:(0,b.jsx)(ce,{studentFine:e,is_last:!0,lid:n,onRefetch:E})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(ce,{studentFine:e,lid:n,onRefetch:E},null===e||void 0===e?void 0:e._id)})),!C&&!k.length&&(0,b.jsx)(ae.Z,{customStyleContainer:{marginTop:"9rem"},title:"No outstanding records found."}),C&&(0,b.jsx)(_.Z,{status:"white"})]})})},ve=function(e){var n=e.lid,i=(0,t.useState)(!0),o=(0,c.Z)(i,2),l=o[0],s=o[1],a=(0,t.useState)(1),d=(0,c.Z)(a,2),u=d[0],v=d[1],h=(0,m.YD)(),x=(0,c.Z)(h,2),g=x[0],j=x[1],p=(0,t.useState)([]),Z=(0,c.Z)(p,2),k=Z[0],N=Z[1],y=(0,t.useState)(!0),S=(0,c.Z)(y,2),C=S[0],M=S[1],F=(0,f.xK)({data:{lid:n,page:u,limit:10,flow:"Paid"},skip:!n}),I=F.libraryFineCharge,w=F.libraryFineChargeRefetch;return(0,t.useEffect)((function(){n&&(M(!0),w())}),[u,n,w]),(0,t.useEffect)((function(){j&&l&&v((function(e){return e+1}))}),[j,l]),(0,t.useEffect)((function(){var e,n;null!==I&&void 0!==I&&I.all_student?(N(1===u?null===I||void 0===I?void 0:I.all_student:function(e){return(0,r.Z)(new Set([].concat((0,r.Z)(e),(0,r.Z)(null===I||void 0===I?void 0:I.all_student)).map(JSON.stringify))).map(JSON.parse)}),M(!1)):0===(null===I||void 0===I||null===(e=I.all_student)||void 0===e?void 0:e.length)&&M(!1),10===(null===I||void 0===I||null===(n=I.all_student)||void 0===n?void 0:n.length)?s(!0):s(!1)}),[null===I||void 0===I?void 0:I.all_student]),(0,b.jsx)("div",{className:J.Z.library_out_container,children:(0,b.jsxs)("div",{className:J.Z.data_container,children:[null===k||void 0===k?void 0:k.map((function(e,n){return(null===k||void 0===k?void 0:k.length)===n+1?(0,b.jsx)("div",{ref:g,style:{width:"49%"},children:(0,b.jsx)(ce,{studentFine:e,is_last:!0})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(ce,{studentFine:e},null===e||void 0===e?void 0:e._id)})),!C&&!k.length&&(0,b.jsx)(ae.Z,{customStyleContainer:{marginTop:"9rem"},title:"No received records found."}),C&&(0,b.jsx)(_.Z,{status:"white"})]})})},me=function(e){var n,i,t,o,s,a,d=e.carryParentState,r=(0,v.$G)().t,c=(0,l.TH)(),u=[{name:r("outstanding"),id:0,url:"member/library?a=charge"},{name:r("received"),id:1,url:"member/library?a=charge&collect"}];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h6",{className:J.Z.fine_heading,children:r("fine_history")}),(0,b.jsx)(se.Z,{customStyle:{width:"100%",marginTop:"0.2rem"}}),(0,b.jsx)(le.Z,{tabList:u,showAs:!0,carryParentState:d,activeIndexTab:"charge"===(null===(n=c.search)||void 0===n?void 0:n.substring(3))?0:1,customStyleLink:{width:"50%"},customStyleTab:{width:"100%"}}),(0,b.jsx)(se.Z,{customStyle:{width:"100%",marginBottom:"1rem"}}),"charge"===(null===(i=c.search)||void 0===i?void 0:i.substring(3))?(0,b.jsx)(ue,{lid:null===(t=c.state)||void 0===t||null===(o=t.onClickValue)||void 0===o?void 0:o._id}):(0,b.jsx)(ve,{lid:null===(s=c.state)||void 0===s||null===(a=s.onClickValue)||void 0===a?void 0:a._id})]})},fe=i(29407),_e=i(98684),he=i(21348),xe=i(65543),ge=i(48293),be=i(16925),je=i(90904),pe=i(74771),Ze=i(93638),ke=i(55336),Ne=i(43997),ye=function(e){var n=e.onClose,i=e.openFilter,o=e.lid,l=(0,v.$G)().t,s=(0,t.useState)(!1),a=(0,c.Z)(s,2),d=a[0],r=a[1],u=(0,t.useState)({from:"",to:""}),m=(0,c.Z)(u,2),_=m[0],h=m[1],x=(0,f._s)(),g=(0,c.Z)(x,1)[0],j=(0,f.Zj)(),p=(0,c.Z)(j,1)[0],Z=(0,f.a8)(),k=(0,c.Z)(Z,1)[0],N=(0,f.Nd)(),S=(0,c.Z)(N,1)[0],C=(0,f.N6)(),M=(0,c.Z)(C,1)[0];return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(ge.Z,{onClose:n,children:(0,b.jsxs)("div",{className:be.Z.modal_container,children:[(0,b.jsx)(he.Z,{children:(0,b.jsxs)("div",{className:be.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:be.Z.modal_container_header,children:(0,b.jsx)("h6",{children:l("export_library_excel")})}),(0,b.jsx)("img",{src:"".concat(_e.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,b.jsx)(je.Z,{}),(0,b.jsxs)(he.Z,{customStyle:{paddingTop:"0"},children:[(0,b.jsx)(pe.Z,{name:"from",label:l("o__from"),placeholder:l("o__please_select_date"),onChange:function(e){h((function(n){return(0,y.Z)((0,y.Z)({},n),{},{from:(0,Ne.jh)(e)})}))},value:_.from}),(0,b.jsx)(pe.Z,{name:"to",label:l("o__to"),placeholder:l("o__please_select_date"),onChange:function(e){h((function(n){return(0,y.Z)((0,y.Z)({},n),{},{to:(0,Ne.jh)(e)})}))},value:_.to}),(0,b.jsx)(Ze.Z,{label:"export",onAction:function(){if(o)if("BOOK"===i)o&&(r((function(e){return!e})),g({lid:o,from:null!==_&&void 0!==_&&_.from?(0,Ne.O_)(_.from):"",to:null!==_&&void 0!==_&&_.to?(0,Ne.O_)(_.to):""}).then((function(){r((function(e){return!e})),n()})).catch({}));else if("ISSUE"===i)o&&null!==_&&void 0!==_&&_.from&&null!==_&&void 0!==_&&_.to&&(r((function(e){return!e})),k({lid:o,from:null!==_&&void 0!==_&&_.from?(0,Ne.O_)(_.from):"",to:null!==_&&void 0!==_&&_.to?(0,Ne.O_)(_.to):""}).then((function(){r((function(e){return!e})),n()})).catch({}));else if("COLLECT"===i)o&&null!==_&&void 0!==_&&_.from&&null!==_&&void 0!==_&&_.to&&(r((function(e){return!e})),p({lid:o,from:null!==_&&void 0!==_&&_.from?(0,Ne.O_)(_.from):"",to:null!==_&&void 0!==_&&_.to?(0,Ne.O_)(_.to):""}).then((function(){r((function(e){return!e})),n()})).catch({}));else if("ENTRY_LOG"===i)o&&null!==_&&void 0!==_&&_.from&&null!==_&&void 0!==_&&_.to&&(r((function(e){return!e})),S({lid:o,from:null!==_&&void 0!==_&&_.from?(0,Ne.O_)(_.from):"",to:null!==_&&void 0!==_&&_.to?(0,Ne.O_)(_.to):""}).then((function(){r((function(e){return!e})),n()})).catch({}));else{if("REVIEW"!==i)return null;o&&null!==_&&void 0!==_&&_.from&&null!==_&&void 0!==_&&_.to&&(r((function(e){return!e})),M({lid:o,from:null!==_&&void 0!==_&&_.from?(0,Ne.O_)(_.from):"",to:null!==_&&void 0!==_&&_.to?(0,Ne.O_)(_.to):""}).then((function(){r((function(e){return!e})),n()})).catch({}))}}})]}),d&&(0,b.jsx)(ke.Z,{})]})})})},Se=function(e){var n=e.lid,i=(0,v.$G)().t,o=(0,t.useState)(""),l=(0,c.Z)(o,2),s=l[0],a=l[1],d=(0,t.useState)(!1),u=(0,c.Z)(d,2),h=u[0],g=u[1],j=(0,m.YD)(),p=(0,c.Z)(j,2),Z=p[0],k=p[1],N=(0,t.useState)(1),y=(0,c.Z)(N,2),S=y[0],C=y[1],F=(0,t.useState)(!0),I=(0,c.Z)(F,2),w=I[0],L=I[1],T=(0,t.useState)(!0),A=(0,c.Z)(T,2),D=A[0],E=A[1],R=(0,t.useState)([]),B=(0,c.Z)(R,2),P=B[0],O=B[1],Y=(0,f.Yv)(),G=(0,c.Z)(Y,1)[0],W=(0,f.oW)({data:{lid:n,page:S,limit:10},skip:!n}),z=W.libraryAllExcelExport,J=W.libraryAllExcelExportRefetch,H=(0,xe.u)().scrollToTop;(0,t.useEffect)((function(){H()}),[]),(0,t.useEffect)((function(){n&&(E(!0),J())}),[n,S,J]),(0,t.useEffect)((function(){k&&w&&C((function(e){return e+1}))}),[k,w]),(0,t.useEffect)((function(){var e,n;null!==z&&void 0!==z&&z.excel_arr?(O((function(e){var n,i;return null===(n=(0,r.Z)(new Set(null===(i=[].concat((0,r.Z)(e),(0,r.Z)(null===z||void 0===z?void 0:z.excel_arr)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),E(!1)):0===(null===z||void 0===z||null===(e=z.excel_arr)||void 0===e?void 0:e.length)&&E(!1),10===(null===z||void 0===z||null===(n=z.excel_arr)||void 0===n?void 0:n.length)?L(!0):L(!1)}),[null===z||void 0===z?void 0:z.excel_arr]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(he.Z,{children:[(0,b.jsxs)("div",{className:fe.Z.refund_container_title,style:{justifyContent:"space-between"},children:[(0,b.jsx)("h6",{children:i("data_export")}),(0,b.jsxs)("div",{className:fe.Z.both_filter,children:[(0,b.jsxs)("div",{onClick:function(){a("BOOK")},className:fe.Z.both_filter_with_name,children:[(0,b.jsx)("img",{src:"".concat(_e.J7,"/filter.svg"),alt:"filter icon"}),(0,b.jsx)("h6",{children:i("books")})]}),(0,b.jsxs)("div",{onClick:function(){a("COLLECT")},className:fe.Z.both_filter_with_name,children:[(0,b.jsx)("img",{src:"".concat(_e.J7,"/filter.svg"),alt:"filter icon"}),(0,b.jsx)("h6",{children:i("collected")})]}),(0,b.jsxs)("div",{onClick:function(){a("ISSUE")},className:fe.Z.both_filter_with_name,children:[(0,b.jsx)("img",{src:"".concat(_e.J7,"/filter.svg"),alt:"filter icon"}),(0,b.jsx)("h6",{children:i("issued")})]}),(0,b.jsxs)("div",{onClick:function(){n&&(g((function(e){return!e})),G({lid:n}).then((function(){g((function(e){return!e}))})).catch({}))},className:fe.Z.both_filter_with_name,children:[(0,b.jsx)("img",{src:"".concat(_e.J7,"/filter.svg"),alt:"filter icon"}),(0,b.jsx)("h6",{children:i("members")})]}),(0,b.jsxs)("div",{onClick:function(){a("ENTRY_LOG")},className:fe.Z.both_filter_with_name,children:[(0,b.jsx)("img",{src:"".concat(_e.J7,"/filter.svg"),alt:"filter icon"}),(0,b.jsx)("h6",{children:i("entry_logs")})]}),(0,b.jsxs)("div",{onClick:function(){a("REVIEW")},className:fe.Z.both_filter_with_name,children:[(0,b.jsx)("img",{src:"".concat(_e.J7,"/filter.svg"),alt:"filter icon"}),(0,b.jsx)("h6",{children:i("book_review")})]})]})]}),(0,b.jsx)(se.Z,{customStyle:{width:"100%",marginTop:"0.2rem"}}),(0,b.jsxs)("div",{className:fe.Z.refund_list,children:[null===P||void 0===P?void 0:P.map((function(e,n){var i,t;return(null===P||void 0===P?void 0:P.length)===n+1?(0,b.jsxs)("a",{ref:Z,className:fe.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,b.jsx)("img",{src:"".concat(_e.J7,"/xsxl.svg"),alt:"excel icon"}),(0,b.jsxs)("section",{className:fe.Z.export_card_text,children:[(0,b.jsx)("h6",{children:null!==(i=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==i?i:""}),(0,b.jsxs)("div",{className:fe.Z.export_card_date,children:[(0,b.jsx)("h6",{children:x()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,b.jsx)("h6",{children:x()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]})]},null===e||void 0===e?void 0:e._id):(0,b.jsxs)("a",{className:fe.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,b.jsx)("img",{src:"".concat(_e.J7,"/xsxl.svg"),alt:"excel icon"}),(0,b.jsxs)("section",{className:fe.Z.export_card_text,children:[(0,b.jsx)("h6",{children:null!==(t=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==t?t:""}),(0,b.jsxs)("div",{className:fe.Z.export_card_date,children:[(0,b.jsx)("h6",{children:x()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,b.jsx)("h6",{children:x()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]})]},null===e||void 0===e?void 0:e._id)})),D&&(0,b.jsx)(_.Z,{})]})]}),s?(0,b.jsx)(ye,{onClose:function(){a("")},openFilter:s,lid:n}):null,h&&(0,b.jsx)(M.Z,{})]})},Ce=i(51561),Me=i(97655),Fe=function(e){var n=e.lid,i=e.timing,o=(0,v.$G)().t,l=(0,t.useState)({from:"",to:""}),s=(0,c.Z)(l,2),a=s[0],d=s[1],r=(0,t.useState)(!1),u=(0,c.Z)(r,2),m=u[0],_=u[1],h=(0,f.bi)(),x=(0,c.Z)(h,1)[0];(0,t.useEffect)((function(){i&&d((function(e){var n,t;return(0,y.Z)((0,y.Z)({},e),{},{from:null!==(n=null===i||void 0===i?void 0:i.from)&&void 0!==n?n:"",to:null!==(t=null===i||void 0===i?void 0:i.to)&&void 0!==t?t:""})}))}),[i]);var g=function(e){d((function(n){return(0,y.Z)((0,y.Z)({},n),{},(0,D.Z)({},e.target.name,e.target.value))}))};return(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"2rem",padding:"1rem"},children:[(0,b.jsx)(Me.Z,{labelText:o("from"),placeholder:"00:00",name:"from",value:we(null===a||void 0===a?void 0:a.from),type:"time",onChange:g,customStyleContainer:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:"1rem"}}),(0,b.jsx)(Me.Z,{labelText:o("to"),placeholder:"00:00",name:"to",value:we(null===a||void 0===a?void 0:a.to),type:"time",onChange:g,customStyleContainer:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:"1rem"}}),(0,b.jsx)(Ze.Z,{onAction:function(){n&&(_((function(e){return!e})),x({lid:n,libraryTime:{timing:{from:Ie(null===a||void 0===a?void 0:a.from),to:Ie(null===a||void 0===a?void 0:a.to)}}}).then((function(){_((function(e){return!e}))})).catch({}))},label:o("update"),customStyle:{margin:"0"}}),m&&(0,b.jsx)(M.Z,{})]})},Ie=function(e){var n=null===e||void 0===e?void 0:e.split(":"),i="";n[0]>12?(i="pm",n[0]-=12):n[0]<12?(i="am",0===n[0]&&(n[0]=12)):i="pm";var t=n[0]>9?n[0]:"0".concat(+n[0]),o="".concat(t,":").concat(n[1]," ").concat(i);return null===o||void 0===o?void 0:o.substring(0,8)},we=function(e){var n,i=null===e||void 0===e?void 0:e.split(" "),t=null===i||void 0===i||null===(n=i[0])||void 0===n?void 0:n.split(":"),o="";return o="Pm"===(null===i||void 0===i?void 0:i[1])?12===+(null===t||void 0===t?void 0:t[0])?null===t||void 0===t?void 0:t[0]:+(null===t||void 0===t?void 0:t[0])+12:null===t||void 0===t?void 0:t[0],"".concat(o,":").concat(null===t||void 0===t?void 0:t[1])},Le=function(e){var n,o,l,s=e.lid,a=(0,v.$G)().t,d=(0,t.useState)(!1),r=(0,c.Z)(d,2),u=r[0],m=r[1],_=(0,t.useState)({msg:"",run:!1}),h=(0,c.Z)(_,2),x=h[0],g=h[1],j=(0,f.Fy)(),p=(0,c.Z)(j,1)[0],Z=(0,f.B6)(),k=(0,c.Z)(Z,1)[0],N=(0,f.x5)(),y=(0,c.Z)(N,1)[0],S=(0,f.zz)(),C=(0,c.Z)(S,1)[0],F=(0,f.ar)(),I=(0,c.Z)(F,1)[0],w=(0,f.yX)({lid:s,skip:!s}),L=w.getLibraryDetail,T=w.getLibraryDetailRefetch;(0,t.useEffect)((function(){s&&T()}),[s,T]);var A=function(e){s&&(m((function(e){return!e})),p({lid:s,flow:e}).then((function(e){var n;g({msg:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message,run:!0}),m((function(e){return!e}))})))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h6",{className:J.Z.fine_heading,children:a("qr_code")}),(0,b.jsx)(se.Z,{customStyle:{width:"100%",marginTop:"0.2rem"}}),(0,b.jsxs)("div",{className:J.Z.edn,children:[(0,b.jsx)("div",{className:J.Z.newBtn,onClick:function(){return A("STUDENT")},children:a("student_qr")}),(0,b.jsx)("div",{className:J.Z.newBtn,onClick:function(){return A("STAFF")},children:a("staff_qr")}),(0,b.jsx)("div",{className:J.Z.newBtn,onClick:function(){s&&(m((function(e){return!e})),k({lid:s}).then((function(e){var n;g({msg:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message,run:!0}),m((function(e){return!e}))})))},children:a("book_qr")}),(0,b.jsx)("div",{className:J.Z.newBtn,onClick:function(){s&&(m((function(e){return!e})),I({lid:s}).then((function(e){var n,t;if(m((function(e){return!e})),(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(t=n.book_qr)||void 0===t?void 0:t.length)>0){var o;g({msg:"All Book Qr code pdf in process. It will take some time.",run:!0});var l=new Worker(new URL(i.p+i.u(1813),i.b));l.postMessage({book_qr:null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.book_qr}),l.onmessage=function(e){e&&(window.open(e.data,"_blank"),l.terminate())},g({msg:"All Book Qr code pdf  is complete",run:!0})}})))},children:a("download_book_qr")})]}),(0,b.jsxs)("div",{style:{marginBlock:"1rem"},children:[(0,b.jsxs)("div",{className:J.Z.iohc_card_inner,children:[(0,b.jsxs)("div",{className:J.Z.iohc_card_inner,style:{flexDirection:"column",alignItems:"flex-start"},children:[(0,b.jsx)("h6",{className:J.Z.fine_heading,style:{marginBottom:"1rem"},children:a("library_qr_code")}),null!==L&&void 0!==L&&null!==(n=L.library)&&void 0!==n&&n.qr_code?(0,b.jsx)("img",{src:"".concat(null===L||void 0===L||null===(o=L.library)||void 0===o?void 0:o.qr_code),alt:"qr icon",className:J.Z.qr_image}):null]}),(0,b.jsxs)("div",{className:J.Z.iohc_card_inner,style:{marginRight:"1rem"},children:[(0,b.jsx)("div",{className:J.Z.newBtn,onClick:function(){s&&(m((function(e){return!e})),y({lid:s}).then((function(e){var n,t;if(m((function(e){return!e})),(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(t=n.all_staff)||void 0===t?void 0:t.length)>0){var o;g({msg:"All Staff Qr code pdf in process. It will take some time.",run:!0});var l=new Worker(new URL(i.p+i.u(861),i.b));l.postMessage({all_staff:null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.all_staff,isType:"STAFF"}),l.onmessage=function(e){e&&(window.open(e.data,"_blank"),l.terminate())},g({msg:"All Staff Qr code pdf  is complete",run:!0})}})))},style:{width:"auto"},children:a("download_staff_qr")}),(0,b.jsx)("div",{className:J.Z.newBtn,onClick:function(){s&&(m((function(e){return!e})),C({lid:s}).then((function(e){var n,t;if(m((function(e){return!e})),(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(t=n.all_student)||void 0===t?void 0:t.length)>0){var o;g({msg:"All Student Qr code pdf in process. It will take some time.",run:!0});var l=new Worker(new URL(i.p+i.u(3756),i.b));l.postMessage({all_student:null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.all_student,isType:"STUDENT"}),l.onmessage=function(e){e&&(window.open(e.data,"_blank"),l.terminate())},g({msg:"All Student Qr code pdf  is complete",run:!0})}})))},style:{width:"auto"},children:a("download_student_qr")})]})]}),(0,b.jsx)(Fe,{lid:s,timing:null===L||void 0===L||null===(l=L.library)||void 0===l?void 0:l.timing})]}),x.run&&(0,b.jsx)(Ce.Ch,{msg:x.msg,run:x.run,setRun:function(){return g({msg:"",run:!1})},postiton:"bottom",type:"success"}),u&&(0,b.jsx)(M.Z,{})]})},Te=function(e){var n,i,t,o,l,s,a,d,r,c,u,m=e.history,f=(0,v.$G)().t;return(0,b.jsxs)("div",{className:J.Z.iohc_card,children:[(0,b.jsx)("img",{src:null!==m&&void 0!==m&&null!==(n=m.student)&&void 0!==n&&n.studentProfilePhoto?"".concat(g.yI,"/").concat(null===m||void 0===m||null===(i=m.student)||void 0===i?void 0:i.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy",alt:"icons",style:{width:"3.5rem",height:"3.5rem",borderRadius:"6px"}}),(0,b.jsxs)("div",{className:J.Z.iohc_card_container,children:[(0,b.jsxs)("div",{className:J.Z.iohc_card_inner,children:[(0,b.jsx)("h6",{style:{fontWeight:"500"},children:"".concat(null!==(t=null===m||void 0===m||null===(o=m.student)||void 0===o?void 0:o.studentFirstName)&&void 0!==t?t:""," ").concat(null!==(l=null===m||void 0===m||null===(s=m.student)||void 0===s?void 0:s.studentMiddleName)&&void 0!==l?l:""," ").concat(null!==(a=null===m||void 0===m||null===(d=m.student)||void 0===d?void 0:d.studentLastName)&&void 0!==a?a:"")}),(0,b.jsxs)("p",{children:[f("in_time")," "," ",x()(null===m||void 0===m?void 0:m.created_at).format("DD/MM/YYYY"),", ",null===m||void 0===m?void 0:m.in_time]})]}),(0,b.jsxs)("div",{className:J.Z.iohc_card_inner,children:[(0,b.jsxs)("h6",{style:{fontWeight:"500"},children:[(0,b.jsxs)("span",{style:{fontWeight:"400"},children:[f("gr_number")," "," "]}),null!==(r=null===m||void 0===m||null===(c=m.student)||void 0===c?void 0:c.studentGRNO)&&void 0!==r?r:""]}),"Yes"===(null===m||void 0===m?void 0:m.is_valid)?(0,b.jsxs)("p",{children:[f("out_time")," "," ",x()(null===m||void 0===m?void 0:m.created_at).format("DD/MM/YYYY"),", ",null===m||void 0===m?void 0:m.out_time]}):null]}),"Yes"===(null===m||void 0===m?void 0:m.is_valid)?(0,b.jsxs)("div",{className:J.Z.iohc_card_inner,children:[(0,b.jsx)("h6",{}),(0,b.jsxs)("p",{children:[f("total_time")," "," "," ",null!==(u=null===m||void 0===m?void 0:m.total_spent_time)&&void 0!==u?u:""," "," hr"]})]}):null]})]})},Ae=function(e){var n,i=e.lid,o=(0,v.$G)().t,l=(0,m.YD)(),s=(0,c.Z)(l,2),a=s[0],d=s[1],u=(0,t.useState)(1),h=(0,c.Z)(u,2),x=h[0],g=h[1],j=(0,t.useState)(!0),p=(0,c.Z)(j,2),Z=p[0],k=p[1],N=(0,t.useState)(!0),y=(0,c.Z)(N,2),S=y[0],C=y[1],M=(0,t.useState)([]),F=(0,c.Z)(M,2),I=F[0],w=F[1],L=(0,f.Zd)({data:{lid:i,page:x,limit:10},skip:!i}),T=L.libraryGetInOutHistory,A=L.libraryGetInOutHistoryRefetch;return(0,t.useEffect)((function(){d&&Z&&g((function(e){return e+1}))}),[d,Z]),(0,t.useEffect)((function(){i&&(C(!0),A())}),[x,i,A]),(0,t.useEffect)((function(){var e,n;null!==T&&void 0!==T&&T.history?x>1?(w((function(e){var n,i;return null===(n=(0,r.Z)(new Set(null===(i=[].concat((0,r.Z)(e),(0,r.Z)(null===T||void 0===T?void 0:T.history)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),C(!1)):(w(null===T||void 0===T?void 0:T.history),C(!1)):0===(null===T||void 0===T||null===(e=T.history)||void 0===e?void 0:e.length)&&C(!1),10===(null===T||void 0===T||null===(n=T.history)||void 0===n?void 0:n.length)?k(!0):k(!1)}),[null===T||void 0===T?void 0:T.history]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h6",{className:J.Z.fine_heading,children:o("logs")}),(0,b.jsx)(se.Z,{customStyle:{width:"100%",marginTop:"0.2rem"}}),(0,b.jsxs)("div",{style:{padding:"1rem"},children:[null===I||void 0===I?void 0:I.map((function(e,n){return(null===I||void 0===I?void 0:I.length)===n+1?(0,b.jsx)("div",{ref:a,style:{width:"100%"},children:(0,b.jsx)(Te,{history:e})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(Te,{history:e},null===e||void 0===e?void 0:e._id)})),S&&(0,b.jsx)(_.Z,{}),!S&&0===(null===T||void 0===T||null===(n=T.history)||void 0===n?void 0:n.length)&&(0,b.jsx)("div",{className:J.Z.noData,children:(0,b.jsx)("img",{src:"/images/nodata.jpg",style:{width:"100%"},alt:""})})]})]})},De=function(e){var n,i,t,o,s=e.history,a=(0,v.$G)().t,d=(0,l.s0)(),r=(0,l.TH)(),c=(0,l.UO)(),u=function(e,n){d("/q/".concat(c.username,"/member/library?a=stocktake-detail"),{state:(0,y.Z)((0,y.Z)({},r.state),{},{stid:null===s||void 0===s?void 0:s._id,flow:null!==e&&void 0!==e?e:"",count:n})})};return(0,b.jsxs)("div",{className:J.Z.iohc_card,children:[(0,b.jsx)("img",{src:"/images/member_tab/subject/subject-daily-update-icon.svg",alt:"icons"}),(0,b.jsxs)("div",{className:J.Z.iohc_card_container,children:[(0,b.jsx)("div",{className:J.Z.iohc_card_inner,children:(0,b.jsxs)("h6",{style:{fontWeight:"500"},children:[x()(null===s||void 0===s?void 0:s.created_at).format("DD/MM/YYYY"),", ",x()(null===s||void 0===s?void 0:s.created_at).format("LT")]})}),(0,b.jsxs)("div",{className:J.Z.iohc_btn,children:[(0,b.jsxs)("h6",{onClick:function(){return u("book_isssue",null===s||void 0===s?void 0:s.book_isssue_count)},children:[a("book_issue"),null!==(n=null===s||void 0===s?void 0:s.book_isssue_count)&&void 0!==n?n:0]}),(0,b.jsxs)("h6",{onClick:function(){return u("book_lost",null===s||void 0===s?void 0:s.book_lost_count)},children:[a("book_lost"),null!==(i=null===s||void 0===s?void 0:s.book_lost_count)&&void 0!==i?i:0]}),(0,b.jsxs)("h6",{onClick:function(){return u("book_at_library",null===s||void 0===s?void 0:s.book_at_library_count)},children:[a("book_at_library"),null!==(t=null===s||void 0===s?void 0:s.book_at_library_count)&&void 0!==t?t:0]}),(0,b.jsxs)("h6",{onClick:function(){return u("book_missing",null===s||void 0===s?void 0:s.book_missing_count)},children:[a("book_missing"),null!==(o=null===s||void 0===s?void 0:s.book_missing_count)&&void 0!==o?o:0]})]})]})]})},Ee=function(e){var n,i=e.lid,o=(0,v.$G)().t,l=(0,m.YD)(),s=(0,c.Z)(l,2),a=s[0],d=s[1],u=(0,t.useState)(1),h=(0,c.Z)(u,2),x=h[0],g=h[1],j=(0,t.useState)(!0),p=(0,c.Z)(j,2),Z=p[0],k=p[1],N=(0,t.useState)(!0),y=(0,c.Z)(N,2),S=y[0],C=y[1],M=(0,t.useState)([]),F=(0,c.Z)(M,2),I=F[0],w=F[1],L=(0,f.JH)({data:{lid:i,page:x,limit:10},skip:!i}),T=L.libraryGetStocktakeHistory,A=L.libraryGetStocktakeHistoryRefetch;return(0,t.useEffect)((function(){d&&Z&&g((function(e){return e+1}))}),[d,Z]),(0,t.useEffect)((function(){i&&(C(!0),A())}),[x,i,A]),(0,t.useEffect)((function(){var e,n;null!==T&&void 0!==T&&T.stocktake?x>1?(w((function(e){var n,i;return null===(n=(0,r.Z)(new Set(null===(i=[].concat((0,r.Z)(e),(0,r.Z)(null===T||void 0===T?void 0:T.stocktake)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),C(!1)):(w(null===T||void 0===T?void 0:T.stocktake),C(!1)):0===(null===T||void 0===T||null===(e=T.stocktake)||void 0===e?void 0:e.length)&&C(!1),10===(null===T||void 0===T||null===(n=T.stocktake)||void 0===n?void 0:n.length)?k(!0):k(!1)}),[null===T||void 0===T?void 0:T.stocktake]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h6",{className:J.Z.fine_heading,children:o("stocktake")}),(0,b.jsx)(se.Z,{customStyle:{width:"100%",marginTop:"0.2rem"}}),(0,b.jsxs)("div",{style:{padding:"1rem"},children:[null===I||void 0===I?void 0:I.map((function(e,n){return(null===I||void 0===I?void 0:I.length)===n+1?(0,b.jsx)("div",{ref:a,style:{width:"100%"},children:(0,b.jsx)(De,{history:e})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(De,{history:e},null===e||void 0===e?void 0:e._id)})),S&&(0,b.jsx)(_.Z,{}),!S&&0===(null===T||void 0===T||null===(n=T.stocktake)||void 0===n?void 0:n.length)&&(0,b.jsx)("div",{className:J.Z.noData,children:(0,b.jsx)("img",{src:"/images/nodata.jpg",style:{width:"100%"},alt:""})})]})]})},Re=i(37762),Be=i(46876),Pe=i(91022),Oe={moderator_container:"LibraryModerator_moderator_container__98n6P",moderator_container_title:"LibraryModerator_moderator_container_title__lH0sy",add_new_moderator:"LibraryModerator_add_new_moderator__E7l5M",moderator_card:"LibraryModerator_moderator_card__ZCXKl",moderator_card_text_container:"LibraryModerator_moderator_card_text_container__HXBN1",menu_icon:"LibraryModerator_menu_icon__fN48K",assign_role_container:"LibraryModerator_assign_role_container__BiowP",assign_role_title:"LibraryModerator_assign_role_title__AYVXl",selected_staff_container:"LibraryModerator_selected_staff_container__v59BT",selected_staff_text:"LibraryModerator_selected_staff_text__JEkG3",assign_btn:"LibraryModerator_assign_btn__7gxuj",select_application_btn:"LibraryModerator_select_application_btn__wMVuF",select_btn:"LibraryModerator_select_btn__jPgoo",application_card:"LibraryModerator_application_card__k25bg",application_card_active:"LibraryModerator_application_card_active__DEaUj",application_card_text:"LibraryModerator_application_card_text__zT33Q",application_card_text_bottom:"LibraryModerator_application_card_text_bottom__De6s5"},Ye=function(e){var n,i=e.onCloseEdit,t=e.setActivePopup,o=e.selectedStaff,l=e.moderatorState,s=e.onSelectRole,a=e.onUpdateModerator,d=(0,v.$G)().t;return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(C.Z,{onClose:i,children:(0,b.jsxs)("div",{className:Oe.assign_role_container,children:[(0,b.jsxs)("section",{className:Oe.assign_role_title,children:[(0,b.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:i,alt:"back icon",style:{cursor:"pointer"}}),(0,b.jsx)("h6",{children:d("update_role_to_moderator")})]}),(0,b.jsx)(se.Z,{customStyle:{width:"100%"}}),(0,b.jsxs)("section",{className:Oe.selected_staff_container,onClick:function(){return t("OPEN_STAFF_LIST")},children:[(0,b.jsx)("img",{src:null!==o&&void 0!==o&&o.staffProfilePhoto?"".concat(g.yI,"/").concat(null===o||void 0===o?void 0:o.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,b.jsxs)("div",{className:Oe.selected_staff_text,children:[(0,b.jsx)("h6",{children:"".concat(null===o||void 0===o?void 0:o.staffFirstName," ").concat(null!==(n=null===o||void 0===o?void 0:o.staffMiddleName)&&void 0!==n?n:""," ").concat(null===o||void 0===o?void 0:o.staffLastName)}),(0,b.jsxs)("p",{children:[d("index_number")," ",": ",null===o||void 0===o?void 0:o.staffROLLNO]})]})]}),(0,b.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,b.jsx)(Pe.Z,{selectLabel:d("select_role_of_moderator"),selectedValue:d("please_select_role"),options:["As Librarian","Department Wise Librarian","Library Fines"],value:"FULL_FUNCTIONALITY"===(null===l||void 0===l?void 0:l.mod_role)?"As Librarian":"DEPARTMENT_WISE"===(null===l||void 0===l?void 0:l.mod_role)?"Department Wise Librarian":"FINE_CHARGE"===(null===l||void 0===l?void 0:l.mod_role)?"Library Fines":"",onClick:s}),(0,b.jsxs)("button",{className:Oe.assign_btn,onClick:a,children:[d("update")," "]})]})]})})})},Ge=i(39896),We=function(e){var n,i,o,l,s,a=e.instituteId,d=e.lid,u=e.onClose,m=e.onRefetchWhenAdd,_=e.openModeratorMenu,h=e.openAs,x=e.onEdit,j=e.fid,p=(0,v.$G)().t,Z=(0,t.useState)("EDIT"===h?"PREVIEW_FORM":"OPEN_STAFF_LIST"),k=(0,c.Z)(Z,2),N=k[0],S=k[1],F=(0,t.useState)("EDIT"===h?null===_||void 0===_?void 0:_.access_staff:""),I=(0,c.Z)(F,2),w=I[0],L=I[1],T=(0,t.useState)({mod_role:"EDIT"===h?null===_||void 0===_?void 0:_.access_role:"",sid:"EDIT"===h?null===_||void 0===_||null===(n=_.access_staff)||void 0===n?void 0:n._id:""}),A=(0,c.Z)(T,2),D=A[0],E=A[1],R=(0,t.useState)({id:[],depart:[]}),B=(0,c.Z)(R,2),P=B[0],O=B[1],Y=(0,f.pV)(),G=(0,c.Z)(Y,1)[0];(0,t.useEffect)((function(){if("EDIT"===h){var e;L(null===_||void 0===_?void 0:_.access_staff),E({mod_role:null===_||void 0===_?void 0:_.access_role,sid:null===_||void 0===_||null===(e=_.access_staff)||void 0===e?void 0:e._id});var n,i=[],t=[],o=(0,Re.Z)(null===_||void 0===_?void 0:_.department);try{for(o.s();!(n=o.n()).done;){var l=n.value;i.push(null===l||void 0===l?void 0:l._id),t.push(l)}}catch(s){o.e(s)}finally{o.f()}O({id:i,depart:t}),S("PREVIEW_FORM")}}),[h]);var W=function(){S("OPEN_STAFF_LIST")},z=function(e){E((function(n){return(0,y.Z)((0,y.Z)({},n),{},{mod_role:"As Librarian"===e?"FULL_FUNCTIONALITY":"Department Wise Librarian"===e?"DEPARTMENT_WISE":"Library Fines"===e?"FINE_CHARGE":""})}))};return(0,b.jsxs)(b.Fragment,{children:["OPEN_STAFF_LIST"===N&&(0,b.jsx)(Be.default,{assignHead:"OPEN_STAFF_LIST"===N,headSelect:function(e){L(e),E((function(n){return(0,y.Z)((0,y.Z)({},n),{},{sid:null===e||void 0===e?void 0:e._id})})),S("EDIT"===h?"PREVIEW_FORM":"ASSIGN_ROLE")},title:p("staff_list"),onClose:u,instituteId:a,viewAs:"ADMISSION_ADMIN"}),"ASSIGN_ROLE"===N&&(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(C.Z,{onClose:W,children:(0,b.jsxs)("div",{className:Oe.assign_role_container,children:[(0,b.jsxs)("section",{className:Oe.assign_role_title,children:[(0,b.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:W,alt:"back icon",style:{cursor:"pointer"}}),(0,b.jsx)("h6",{children:p("assign_role_to_moderator")})]}),(0,b.jsx)(se.Z,{customStyle:{width:"100%"}}),(0,b.jsxs)("section",{className:Oe.selected_staff_container,children:[(0,b.jsx)("img",{src:null!==w&&void 0!==w&&w.staffProfilePhoto?"".concat(g.yI,"/").concat(null===w||void 0===w?void 0:w.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,b.jsxs)("div",{className:Oe.selected_staff_text,children:[(0,b.jsx)("h6",{children:"".concat(null===w||void 0===w?void 0:w.staffFirstName," ").concat(null!==(i=null===w||void 0===w?void 0:w.staffMiddleName)&&void 0!==i?i:""," ").concat(null===w||void 0===w?void 0:w.staffLastName)}),(0,b.jsxs)("p",{children:[p("index_number")," ",": ",null===w||void 0===w?void 0:w.staffROLLNO]})]})]}),(0,b.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,b.jsx)(Pe.Z,{selectLabel:p("select_role_of_moderator"),selectedValue:p("please_select_role"),options:["As Librarian","Department Wise Librarian","Library Fines"],value:"FULL_FUNCTIONALITY"===(null===D||void 0===D?void 0:D.mod_role)?"As Librarian":"DEPARTMENT_WISE"===(null===D||void 0===D?void 0:D.mod_role)?"Department Wise Librarian":"FINE_CHARGE"===(null===D||void 0===D?void 0:D.mod_role)?"Library Fines":"",onClick:z}),"DEPARTMENT_WISE"===D.mod_role?(0,b.jsx)(Ge.Z,{fid:j,onSelect:function(e){var n,i;null!==P&&void 0!==P&&null!==(n=P.id)&&void 0!==n&&n.includes(null===e||void 0===e?void 0:e._id)?O((function(n){var i,t;return{id:null===n||void 0===n||null===(i=n.id)||void 0===i?void 0:i.filter((function(n){return n!==(null===e||void 0===e?void 0:e._id)})),data:null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.filter((function(n){return(null===n||void 0===n?void 0:n._id)!==(null===e||void 0===e?void 0:e._id)}))}})):(null===(i=P.id)||void 0===i?void 0:i.length)>0?O((function(n){return{id:[].concat((0,r.Z)(null===n||void 0===n?void 0:n.id),[null===e||void 0===e?void 0:e._id]),data:[].concat((0,r.Z)(null===n||void 0===n?void 0:n.data),[e])}})):O((function(){return{id:[null===e||void 0===e?void 0:e._id],data:[e]}}))},onlyDepartment:!0,defalutValue:(null===P||void 0===P||null===(o=P.id)||void 0===o?void 0:o.length)>1?"".concat(null===P||void 0===P||null===(l=P.id)||void 0===l?void 0:l.length," selected"):null!==(s=null===P||void 0===P?void 0:P.dName)&&void 0!==s?s:""}):null,(0,b.jsxs)("button",{className:Oe.assign_btn,onClick:function(){d&&D.mod_role&&D.sid&&(S("LOADING"),G({lid:d,addModerator:(0,y.Z)((0,y.Z)({},D),{},{depart:P.id})}).then((function(){m(),S(""),u()})).catch({}))},children:[p("assign")," "]})]})]})})}),"PREVIEW_FORM"===N&&(0,b.jsx)(Ye,{onCloseEdit:function(){u()},setActivePopup:S,selectedStaff:w,moderatorState:D,onSelectRole:z,onUpdateModerator:function(){x((0,y.Z)((0,y.Z)({},D),{},{depart:P.id})),u()}}),"LOADING"===N&&(0,b.jsx)(M.Z,{})]})},ze=i(12072),Je=i(84489),He=i(87049),Ve=function(e){var n=e.onClose,i=e.lid,o=e.onRefetch,l=e.openModeratorMenu,s=e.instituteId,a=(0,t.useState)(!1),d=(0,c.Z)(a,2),r=d[0],u=d[1],v=(0,t.useState)(!1),m=(0,c.Z)(v,2),_=m[0],h=m[1],x=(0,f.Uc)(),g=(0,c.Z)(x,1)[0],j=(0,f.sN)(),p=(0,c.Z)(j,1)[0];return(0,b.jsx)(b.Fragment,{children:_?(0,b.jsx)(We,{onClose:function(){return h(!1)},fid:i,instituteId:s,onRefetch:o,openAs:"EDIT",openModeratorMenu:l,onEdit:function(e){u((function(e){return!e})),h(!1),p({modId:null===l||void 0===l?void 0:l._id,updateModerator:{role:null===e||void 0===e?void 0:e.mod_role,staffId:null===e||void 0===e?void 0:e.sid}}).then((function(){o(),u((function(e){return!e})),n()})).catch({})}}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Je.Z,{onClose:n}),(0,b.jsxs)(ze.Z,{customStyle:{zIndex:"1200"},children:[(0,b.jsxs)("div",{className:He.Z.edit_modal_container,style:{width:"200px"},children:[(0,b.jsx)("h6",{className:He.Z.edit,onClick:function(){return h((function(e){return!e}))},children:"Edit"}),(0,b.jsx)("h6",{className:He.Z.remove,onClick:function(){u((function(e){return!e})),g({modId:null===l||void 0===l?void 0:l._id}).then((function(){o(),n(),u((function(e){return!e}))})).catch({})},children:"Delete"})]}),r&&(0,b.jsx)(M.Z,{})]})]})})},Ue=function(e){var n,i,t,o,l,s,a,d=e.moderator,r=e.setOpenModeratorMenu,c=(0,v.$G)().t;return(0,b.jsxs)("div",{className:Oe.moderator_card,children:[(0,b.jsx)("img",{src:null!==d&&void 0!==d&&null!==(n=d.access_staff)&&void 0!==n&&n.staffProfilePhoto?"".concat(g.yI,"/").concat(null===d||void 0===d||null===(i=d.access_staff)||void 0===i?void 0:i.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"moderator avatar"}),(0,b.jsxs)("section",{className:Oe.moderator_card_text_container,children:[(0,b.jsx)("h6",{children:"".concat(null===d||void 0===d||null===(t=d.access_staff)||void 0===t?void 0:t.staffFirstName," ").concat(null!==(o=null===d||void 0===d||null===(l=d.access_staff)||void 0===l?void 0:l.staffMiddleName)&&void 0!==o?o:""," ").concat(null===d||void 0===d||null===(s=d.access_staff)||void 0===s?void 0:s.staffLastName)}),(0,b.jsxs)("p",{children:[c("index_number")," ",": ",null===d||void 0===d||null===(a=d.access_staff)||void 0===a?void 0:a.staffROLLNO]}),(0,b.jsx)("p",{children:"FULL_FUNCTIONALITY"===(null===d||void 0===d?void 0:d.access_role)?"As Librarian":"DEPARTMENT_WISE"===(null===d||void 0===d?void 0:d.access_role)?"Department Wise Librarian":"FINE_CHARGE"===(null===d||void 0===d?void 0:d.access_role)?"Library Fines":""})]}),(0,b.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(){return r(d)},className:Oe.menu_icon,title:"Menu"})]})},qe=function(e){var n=e.lid,i=e.instituteId,o=e.fid,s=(0,v.$G)().t,a=(0,l.s0)(),d=(0,t.useState)(!1),u=(0,c.Z)(d,2),h=u[0],x=u[1],g=(0,t.useState)(""),j=(0,c.Z)(g,2),p=j[0],Z=j[1],k=(0,m.YD)(),N=(0,c.Z)(k,2),y=N[0],S=N[1],C=(0,t.useState)(1),M=(0,c.Z)(C,2),F=M[0],I=M[1],w=(0,t.useState)(!0),L=(0,c.Z)(w,2),T=L[0],A=L[1],D=(0,t.useState)(!1),E=(0,c.Z)(D,2),R=E[0],B=E[1],P=(0,t.useState)(!0),O=(0,c.Z)(P,2),Y=O[0],G=O[1],W=(0,t.useState)([]),z=(0,c.Z)(W,2),J=z[0],H=z[1],V=(0,f.z2)({data:{lid:n,page:F,limit:10},skip:!n}),U=V.getModeratorByLibrary,q=V.getModeratorByLibraryRefetch,$=(0,xe.u)().scrollToTop;(0,t.useEffect)((function(){$()}),[]),(0,t.useEffect)((function(){n&&(G(!0),q())}),[n,F,q]),(0,t.useEffect)((function(){S&&T&&I((function(e){return e+1}))}),[S,T]),(0,t.useEffect)((function(){var e,n;R?(H(null===U||void 0===U?void 0:U.moderator),B(!1),G(!1)):null!==U&&void 0!==U&&U.moderator?(H((function(e){var n,i;return null===(n=(0,r.Z)(new Set(null===(i=[].concat((0,r.Z)(e),(0,r.Z)(null===U||void 0===U?void 0:U.moderator)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),G(!1)):0===(null===U||void 0===U||null===(n=U.moderator)||void 0===n?void 0:n.length)&&G(!1);10===(null===U||void 0===U||null===(e=U.moderator)||void 0===e?void 0:e.length)?A(!0):A(!1)}),[null===U||void 0===U?void 0:U.moderator]);var K=function(){B(!0),I(1),G(!0),q()};return(0,b.jsxs)("div",{className:Oe.moderator_container,children:[(0,b.jsxs)("section",{className:Oe.moderator_container_title,children:[(0,b.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){a(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,b.jsx)("h6",{children:s("library_moderator")})]}),(0,b.jsx)(se.Z,{customStyle:{width:"100%"}}),(0,b.jsx)("h6",{className:Oe.add_new_moderator,onClick:function(){return x(!0)},children:s("add_new_moderator")}),(0,b.jsxs)("div",{className:Oe.refund_list,children:[null===J||void 0===J?void 0:J.map((function(e,n){return(null===J||void 0===J?void 0:J.length)===n+1?(0,b.jsx)("div",{ref:y,children:(0,b.jsx)(Ue,{moderator:e,setOpenModeratorMenu:Z})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(Ue,{moderator:e,setOpenModeratorMenu:Z},null===e||void 0===e?void 0:e._id)})),h&&(0,b.jsx)(We,{onClose:function(){return x((function(e){return!e}))},instituteId:i,lid:n,onRefetchWhenAdd:K,fid:o}),p&&(0,b.jsx)(Ve,{lid:n,instituteId:i,onRefetch:K,onClose:function(){return Z("")},openModeratorMenu:p,fid:o}),Y&&(0,b.jsx)(_.Z,{})]})]})},$e=function(e){var n,i,o,l,s,a,d,r,u,m,_,h=e.book,x=e.isType,j=e.stid,p=e.onRefetch,Z=(0,v.$G)().t,k=(0,t.useState)(!1),N=(0,c.Z)(k,2),y=N[0],S=N[1],C=(0,f.Y)(),F=(0,c.Z)(C,1)[0],I=function(e){var n;j&&null!==h&&void 0!==h&&h._id&&(S((function(e){return!e})),F({stid:j,missingBook:{bookId:null===h||void 0===h||null===(n=h.book)||void 0===n?void 0:n._id,card_id:null===h||void 0===h?void 0:h._id,status:e}}).then((function(){p(),S((function(e){return!e}))})).catch({}))};return(0,b.jsxs)(b.Fragment,{children:["MISSING"===x?(0,b.jsxs)("div",{className:J.Z.iohc_card,style:{justifyContent:"space-between"},children:[(0,b.jsxs)("div",{className:J.Z.iohcc_missing,children:[(0,b.jsx)("img",{src:null!==h&&void 0!==h&&null!==(n=h.book)&&void 0!==n&&n.photo?"".concat(g.yI,"/").concat(null===h||void 0===h||null===(i=h.book)||void 0===i?void 0:i.photo):"/images/defaultBook.png",alt:"icons",style:{width:"3rem",height:"3rem"}}),(0,b.jsxs)("div",{className:J.Z.iohc_card_inner,style:{alignItems:"flex-start",flexDirection:"column",gap:"0"},children:[(0,b.jsxs)("h6",{style:{fontWeight:"500"},children:[Z("book_name")," ",": ",null!==(o=null===h||void 0===h||null===(l=h.book)||void 0===l?void 0:l.bookName)&&void 0!==o?o:""]}),(0,b.jsxs)("p",{style:{margin:"0"},children:[Z("author_only")," ",": ",null!==(s=null===h||void 0===h||null===(a=h.book)||void 0===a?void 0:a.author)&&void 0!==s?s:""]}),(0,b.jsxs)("p",{style:{margin:"0"},children:[Z("accession_number")," ",": ",null!==(d=null===h||void 0===h||null===(r=h.book)||void 0===r?void 0:r.accession_number)&&void 0!==d?d:""]})]})]}),(0,b.jsxs)("div",{className:J.Z.iohcb_missing,children:[(0,b.jsx)("h6",{onClick:function(){return I("book_isssue")},children:Z("book_issue_only")}),(0,b.jsx)("h6",{onClick:function(){return I("book_lost")},children:Z("book_lost_only")}),(0,b.jsx)("h6",{onClick:function(){return I("book_at_library")},children:Z("book_at_library_only")})]})]}):(0,b.jsxs)("div",{className:J.Z.iohc_card,children:[(0,b.jsx)("img",{src:null!==h&&void 0!==h&&h.photo?"".concat(g.yI,"/").concat(null===h||void 0===h?void 0:h.photo):"/images/defaultBook.png",alt:"icons",style:{width:"3rem",height:"3rem"}}),(0,b.jsxs)("div",{className:J.Z.iohc_card_inner,style:{alignItems:"flex-start",flexDirection:"column",gap:"0"},children:[(0,b.jsxs)("h6",{style:{fontWeight:"500"},children:[Z("book_name")," ",": ",null!==(u=null===h||void 0===h?void 0:h.bookName)&&void 0!==u?u:""]}),(0,b.jsxs)("p",{style:{margin:"0"},children:[Z("author_only")," ",": ",null!==(m=null===h||void 0===h?void 0:h.author)&&void 0!==m?m:""]}),(0,b.jsxs)("p",{style:{margin:"0"},children:[Z("accession_number")," ",": ",null!==(_=null===h||void 0===h?void 0:h.accession_number)&&void 0!==_?_:""]})]})]}),y&&(0,b.jsx)(M.Z,{})]})},Ke=function(){var e,n,i,o,s,a,d,u,h,x,g,j,p=(0,v.$G)().t,Z=(0,l.TH)(),k=(0,m.YD)(),N=(0,c.Z)(k,2),y=N[0],S=N[1],C=(0,t.useState)(1),M=(0,c.Z)(C,2),F=M[0],I=M[1],w=(0,t.useState)(!0),L=(0,c.Z)(w,2),T=L[0],A=L[1],D=(0,t.useState)(!0),E=(0,c.Z)(D,2),R=E[0],B=E[1],P=(0,t.useState)([]),O=(0,c.Z)(P,2),Y=O[0],G=O[1],W=(0,f.M_)({data:{stid:null===(e=Z.state)||void 0===e?void 0:e.stid,page:F,limit:10,flow:null===(n=Z.state)||void 0===n?void 0:n.flow},skip:!(null!==(i=Z.state)&&void 0!==i&&i.stid)}),z=W.libraryGetStocktakeOneHistory,H=W.libraryGetStocktakeOneHistoryRefetch;(0,t.useEffect)((function(){S&&T&&I((function(e){return e+1}))}),[S,T]),(0,t.useEffect)((function(){var e;null!==(e=Z.state)&&void 0!==e&&e.stid&&(B(!0),H())}),[F,null===(o=Z.state)||void 0===o?void 0:o.stid,H]),(0,t.useEffect)((function(){var e,n;null!==z&&void 0!==z&&z.stocktake_list?F>1?(G((function(e){var n,i;return null===(n=(0,r.Z)(new Set(null===(i=[].concat((0,r.Z)(e),(0,r.Z)(null===z||void 0===z?void 0:z.stocktake_list)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),B(!1)):(G(null===z||void 0===z?void 0:z.stocktake_list),B(!1)):0===(null===z||void 0===z||null===(e=z.stocktake_list)||void 0===e?void 0:e.length)&&B(!1),10===(null===z||void 0===z||null===(n=z.stocktake_list)||void 0===n?void 0:n.length)?A(!0):A(!1)}),[null===z||void 0===z?void 0:z.stocktake_list]);var V=function(){I((function(e){return 1})),H()};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("h6",{className:J.Z.fine_heading,children:[p("stocktake_detail")," (",p(null===(s=Z.state)||void 0===s?void 0:s.flow)," ",null!==(a=null===(d=Z.state)||void 0===d?void 0:d.count)&&void 0!==a?a:0,")"]}),(0,b.jsx)(se.Z,{customStyle:{width:"100%",marginTop:"0.2rem"}}),(0,b.jsxs)("div",{style:{padding:"1rem"},children:["book_at_library"===(null===(u=Z.state)||void 0===u?void 0:u.flow)||"book_lost"===(null===(h=Z.state)||void 0===h?void 0:h.flow)?(0,b.jsx)(b.Fragment,{children:null===Y||void 0===Y?void 0:Y.map((function(e,n){return(null===Y||void 0===Y?void 0:Y.length)===n+1?(0,b.jsx)("div",{ref:y,style:{width:"100%"},children:(0,b.jsx)($e,{book:e})},null===e||void 0===e?void 0:e._id):(0,b.jsx)($e,{book:e},null===e||void 0===e?void 0:e._id)}))}):"book_missing"===(null===(x=Z.state)||void 0===x?void 0:x.flow)?(0,b.jsx)(b.Fragment,{children:null===Y||void 0===Y?void 0:Y.map((function(e,n){var i,t;return(null===Y||void 0===Y?void 0:Y.length)===n+1?(0,b.jsx)("div",{ref:y,style:{width:"100%"},children:(0,b.jsx)($e,{book:e,isType:"MISSING",stid:null===(i=Z.state)||void 0===i?void 0:i.stid,onRefetch:V})},null===e||void 0===e?void 0:e._id):(0,b.jsx)($e,{book:e,isType:"MISSING",stid:null===(t=Z.state)||void 0===t?void 0:t.stid,onRefetch:V},null===e||void 0===e?void 0:e._id)}))}):"book_isssue"===(null===(g=Z.state)||void 0===g?void 0:g.flow)?(0,b.jsx)(b.Fragment,{children:null===Y||void 0===Y?void 0:Y.map((function(e,n){return(null===Y||void 0===Y?void 0:Y.length)===n+1?(0,b.jsx)("div",{ref:y,style:{width:"100%"},children:(0,b.jsx)($e,{book:e,isType:"ISSUE"})},null===e||void 0===e?void 0:e._id):(0,b.jsx)($e,{book:e,isType:"ISSUE"},null===e||void 0===e?void 0:e._id)}))}):null,R&&(0,b.jsx)(_.Z,{}),!R&&0===(null===z||void 0===z||null===(j=z.stocktake_list)||void 0===j?void 0:j.length)&&(0,b.jsx)("div",{className:J.Z.noData,children:(0,b.jsx)("img",{src:"/images/nodata.jpg",alt:"",style:{width:"100%"}})})]})]})};var Qe=function(e){var n,i,o,s,a,r,c,u,v,m,_,h,x,g,j,p,k,N,y,S,C,M,F,I,w,L,T,A,D,E,R,B,P=e.carryParentState,O=e.role,Y=e.mid,G=(0,l.TH)(),W=(0,f.yX)({lid:null===P||void 0===P||null===(n=P.onClickValue)||void 0===n?void 0:n._id,skip:!(null!==P&&void 0!==P&&null!==(i=P.onClickValue)&&void 0!==i&&i._id)}),H=W.getLibraryDetail,V=W.getLibraryDetailRefetch;return(0,t.useEffect)((function(){var e;null!==P&&void 0!==P&&null!==(e=P.onClickValue)&&void 0!==e&&e._id&&V()}),[null===P||void 0===P||null===(o=P.onClickValue)||void 0===o?void 0:o._id]),(0,b.jsx)("div",{className:J.Z.admisionApplication,children:(0,b.jsxs)("div",{className:J.Z.applicationBody,children:["book"===(null===(s=G.search)||void 0===s?void 0:s.substring(3,7))&&(0,b.jsx)(d.Z,{getQuery:G,carryParentState:P,fid:null===H||void 0===H||null===(a=H.library)||void 0===a||null===(r=a.institute)||void 0===r||null===(c=r.financeDepart)||void 0===c?void 0:c[0],filterBy:null===H||void 0===H||null===(u=H.library)||void 0===u||null===(v=u.filter_by)||void 0===v?void 0:v.department,role:O,mid:Y}),"issue"===(null===(m=G.search)||void 0===m?void 0:m.substring(3))&&(0,b.jsx)(z,{insId:null===H||void 0===H||null===(_=H.library)||void 0===_||null===(h=_.institute)||void 0===h?void 0:h._id,role:O,mid:Y}),"collect"===(null===(x=G.search)||void 0===x?void 0:x.substring(3))&&(0,b.jsx)(Z,{}),"member"===(null===(g=G.search)||void 0===g?void 0:g.substring(3))&&(0,b.jsx)(oe,{}),"charge"===(null===(j=G.search)||void 0===j?void 0:j.substring(3,9))&&(0,b.jsx)(me,{carryParentState:P}),"export"===(null===(p=G.search)||void 0===p?void 0:p.substring(3,9))&&(0,b.jsx)(Se,{carryParentState:P,lid:null===P||void 0===P||null===(k=P.onClickValue)||void 0===k?void 0:k._id}),"qr"===(null===(N=G.search)||void 0===N?void 0:N.substring(3))&&(0,b.jsx)(Le,{carryParentState:P,lid:null===P||void 0===P||null===(y=P.onClickValue)||void 0===y?void 0:y._id}),"logs"===(null===(S=G.search)||void 0===S?void 0:S.substring(3))&&(0,b.jsx)(Ae,{carryParentState:P,lid:null===P||void 0===P||null===(C=P.onClickValue)||void 0===C?void 0:C._id}),"stocktake"===(null===(M=G.search)||void 0===M?void 0:M.substring(3))&&(0,b.jsx)(Ee,{carryParentState:P,lid:null===P||void 0===P||null===(F=P.onClickValue)||void 0===F?void 0:F._id}),"stocktake-detail"===(null===(I=G.search)||void 0===I?void 0:I.substring(3))&&(0,b.jsx)(Ke,{carryParentState:P,lid:null===P||void 0===P||null===(w=P.onClickValue)||void 0===w?void 0:w._id}),"moderator"===(null===(L=G.search)||void 0===L?void 0:L.substring(3))&&(0,b.jsx)(qe,{lid:null===P||void 0===P||null===(T=P.onClickValue)||void 0===T?void 0:T._id,instituteId:null===H||void 0===H||null===(A=H.library)||void 0===A||null===(D=A.institute)||void 0===D?void 0:D._id,fid:null===H||void 0===H||null===(E=H.library)||void 0===E||null===(R=E.institute)||void 0===R||null===(B=R.financeDepart)||void 0===B?void 0:B[0]})]})})},Xe=i(21640),en="MiddleContent_MiddleContent__WKHNs",nn="MiddleContent_MiddleContentLeft__+wl3w",tn="MiddleContent_tabs__rNsOO",on="MiddleContent_item__HkkSz",ln="MiddleContent_itemIcon__yR7dj",sn="MiddleContent_classList__0STf8",an="Tabs_mcqToptabs__TZyM2",dn="Tabs_mcqTop__DeSKD",rn="Tabs_mcqTopItem__Okqo0",cn="Tabs_active__GRYqn";var un=function(e){var n=e.activeIndex,i=e.setActiveIndex,t=(0,v.$G)().t;return(0,b.jsx)("div",{className:dn,children:(0,b.jsxs)("div",{className:an,children:[(0,b.jsx)("div",{className:0===n?"".concat(rn," ").concat(cn):rn,onClick:function(){return i(0)},children:t("menu")}),(0,b.jsx)("div",{className:1===n?"".concat(rn," ").concat(cn):rn,onClick:function(){return i(1)},children:t("funds")})]})})},vn="Funds_funds__A1w1z",mn="Funds_fundshead__L-ikp",fn="Funds_fundscontent__60rTr",_n="Funds_sidebarbottomitem__HxeQl",hn="Funds_namee__F4I2F",xn="Funds_desig__tgpDW",gn="Funds_balanceItem__wygKQ",bn="Funds_recover_btn__AJWzV",jn="Funds_submitbtn__+nZSz",pn="Funds_disabled__NcqJ-";var Zn=function(e){var n=e.bal,i=e.value;return(0,b.jsxs)("div",{className:gn,children:[(0,b.jsxs)("p",{children:[n,":"]}),(0,b.jsxs)("p",{children:["Rs. ",i]})]})},kn=i(49384),Nn=i(11237);var yn=function(e){var n,i=e.carryParentState,o=e.library,l=e.getLibraryDetailRefetch,a=e.role,d=(0,v.$G)().t,r=(0,s.v9)((function(e){return e.libraryChange})),u=(0,f.eQ)(),m=(0,c.Z)(u,1)[0],_=t.useState(!1),h=(0,c.Z)(_,2),x=h[0],g=h[1];return(0,b.jsxs)("div",{className:vn,children:[(0,b.jsxs)("div",{className:mn,children:[(0,b.jsxs)("h6",{children:[" ",d("lib_fines")," "]}),(0,b.jsx)("img",{src:"/images/finance/filter-icon.svg",alt:""})]}),(0,b.jsxs)("div",{className:fn,children:[(0,b.jsxs)("div",{className:_n,children:[(0,b.jsx)("img",{alt:"not found",src:"/images/finance/doller-icon.svg"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:hn,children:"Rs. ".concat(null===o||void 0===o?void 0:o.totalFine)}),(0,b.jsx)("p",{className:xn,children:d("total_fine_collected")})]})]}),(0,b.jsx)(Zn,{check:"false",bal:d("cash_fine"),value:null===o||void 0===o?void 0:o.offlineFine}),(0,b.jsx)(Zn,{check:"false",bal:d("bank_fine"),value:null===o||void 0===o?void 0:o.onlineFine}),(0,b.jsx)(Zn,{check:"true",bal:d("cash_with_me"),value:null===o||void 0===o?void 0:o.collectedFine}),a?(0,b.jsx)(b.Fragment,{children:"Pending"===(null===o||void 0===o?void 0:o.requestStatus)&&(null===o||void 0===o?void 0:o.collectedFine)>0?(0,b.jsxs)("button",{className:jn,disabled:x,onClick:function(){g((function(e){return!e})),m({lid:null===r||void 0===r?void 0:r.lid,fine:{amount:null===o||void 0===o?void 0:o.collectedFine}}).then((function(){l(),g((function(e){return!e}))})).catch((function(){g((function(e){return!e}))}))},children:[d("sublit_to_finance"),x&&(0,b.jsx)("div",{style:{marginTop:"0.7vw"},children:(0,b.jsx)(kn.Z,{})})]}):"Requested"===(null===o||void 0===o?void 0:o.requestStatus)?(0,b.jsx)("button",{className:"".concat(jn," ").concat(pn),children:d("request_to_finance")}):(0,b.jsx)("button",{className:"".concat(jn," ").concat(pn),children:d("sublit_to_finance")})}):null,(0,b.jsx)(Nn.Z,{carryParentState:i,activeTab:"charge",role:a,children:(0,b.jsxs)("div",{className:bn,children:[d("total_pending_fees"),": ",d("rs"),". ",null!==(n=null===o||void 0===o?void 0:o.remainFine)&&void 0!==n?n:0]})})]}),x&&(0,b.jsx)(M.Z,{})]})};var Sn=function(e){var n=e.library,i=e.getLibraryDetailRefetch,o=e.carryParentState,l=e.role,s=(0,t.useState)(0),a=(0,c.Z)(s,2),d=a[0],r=a[1],u=(0,v.$G)().t;return(0,b.jsx)("div",{className:en,children:(0,b.jsxs)("div",{className:nn,children:[(0,b.jsx)("div",{className:tn,children:(0,b.jsx)(un,{activeIndex:d,setActiveIndex:r})}),0===d&&(0,b.jsxs)("div",{className:on,children:[(0,b.jsx)(Nn.Z,{carryParentState:o,activeTab:"book",role:l,children:(0,b.jsxs)("div",{className:ln,children:[(0,b.jsx)("img",{src:"/images/member_tab/library/library-allbook-icon.svg",alt:"Class Catalog"}),(0,b.jsx)("p",{children:u("all_books")})]})}),(0,b.jsx)(Nn.Z,{carryParentState:o,activeTab:"issue",role:l,children:(0,b.jsxs)("div",{className:ln,children:[(0,b.jsx)("img",{src:"/images/member_tab/library/library-issue-icon.svg",alt:"issued books"}),(0,b.jsx)("p",{children:u("issued_books")})]})}),(0,b.jsx)(Nn.Z,{carryParentState:o,activeTab:"collect",role:l,children:(0,b.jsxs)("div",{className:ln,children:[(0,b.jsx)("img",{src:"/images/member_tab/library/library-collect-icon.svg",alt:"collected logs"}),(0,b.jsx)("p",{children:u("collected_logs")})]})}),(0,b.jsx)(Nn.Z,{carryParentState:o,activeTab:"charge",role:l,children:(0,b.jsxs)("div",{className:ln,children:[(0,b.jsx)("img",{src:"/images/member_tab/library/library-fine-icon.svg",alt:"members"}),(0,b.jsx)("p",{children:u("library_fine")})]})}),(0,b.jsx)(Nn.Z,{carryParentState:o,activeTab:"member",role:l,children:(0,b.jsxs)("div",{className:ln,children:[(0,b.jsx)("img",{src:"/images/member_tab/library/library-member-icon.svg",alt:"members"}),(0,b.jsx)("p",{children:u("members")})]})}),(0,b.jsx)(Nn.Z,{carryParentState:o,activeTab:"export",role:l,children:(0,b.jsxs)("div",{className:ln,children:[(0,b.jsx)("img",{src:"/images/member_tab/finance/finance-export-icon.svg",alt:"refund"}),(0,b.jsx)("p",{children:u("data_export")})]})}),(0,b.jsx)(Nn.Z,{carryParentState:o,activeTab:"qr",role:l,children:(0,b.jsxs)("div",{className:ln,children:[(0,b.jsx)("img",{src:"/images/member_tab/class/class-setting-icon.svg",alt:"refund"}),(0,b.jsx)("p",{children:u("setting")})]})}),(0,b.jsx)(Nn.Z,{carryParentState:o,activeTab:"logs",role:l,children:(0,b.jsxs)("div",{className:ln,children:[(0,b.jsx)("img",{src:"/images/member_tab/subject/subject-daily-update-icon.svg",alt:"refund"}),(0,b.jsx)("p",{children:u("logs")})]})}),(0,b.jsx)(Nn.Z,{carryParentState:o,activeTab:"moderator",role:l,children:(0,b.jsxs)("div",{className:ln,children:[(0,b.jsx)("img",{src:"/images/member_tab/admission/admission-moderator-icon.svg",alt:"refund"}),(0,b.jsx)("p",{children:u("library_moderators")})]})}),(0,b.jsx)(Nn.Z,{carryParentState:o,activeTab:"stocktake",role:l,children:(0,b.jsxs)("div",{className:ln,children:[(0,b.jsx)("img",{src:"/images/member_tab/subject/subject-daily-update-icon.svg",alt:"refund"}),(0,b.jsx)("p",{children:u("stocktake")})]})})]}),1===d&&(0,b.jsx)("div",{className:sn,children:(0,b.jsx)(yn,{library:n,carryParentState:o,getLibraryDetailRefetch:i,role:l})})]})})},Cn=function(e){var n,i,o,a,d,r,u,m,_,h,x,g,j=e.carryParentState,p=e.role,Z=(0,v.$G)().t,k=(0,l.UO)(),N=(0,s.v9)((function(e){return e.libraryChange})),y=(0,t.useState)(""),S=(0,c.Z)(y,2),C=S[0],M=S[1],F=(0,t.useState)(""),I=(0,c.Z)(F,2),w=I[0],L=I[1],T=(0,t.useState)(!1),A=(0,c.Z)(T,2),D=A[0],E=A[1],R=(0,t.useState)(!1),B=(0,c.Z)(R,2),P=B[0],O=B[1],Y=(0,t.useState)(""),G=(0,c.Z)(Y,2),W=G[0],z=G[1],J=(0,f.Se)(),H=(0,c.Z)(J,1)[0];(0,t.useEffect)((function(){if(P){var e=new FormData;e.append("file",w),H({file:e,lid:null===N||void 0===N?void 0:N.lid}).then((function(e){})).catch({})}}),[P,w]);var V=(0,f.yX)({lid:null===N||void 0===N?void 0:N.lid,skip:!(null!==N&&void 0!==N&&N.lid)}),U=V.getLibraryDetail,q=V.getLibraryDetailRefetch;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Xe.Z,{coverKey:null===U||void 0===U||null===(n=U.library)||void 0===n?void 0:n.cover,coverId:null===U||void 0===U||null===(i=U.library)||void 0===i?void 0:i.coverId,defaultCover:"/images/profileAndCover/library-cover.png",textLarge:Z("librarian"),textSmall:"".concat(null===U||void 0===U||null===(o=U.library)||void 0===o||null===(a=o.libraryHead)||void 0===a?void 0:a.staffFirstName," ").concat(null!==U&&void 0!==U&&null!==(d=U.library)&&void 0!==d&&null!==(r=d.libraryHead)&&void 0!==r&&r.staffMiddleName?null===U||void 0===U||null===(u=U.library)||void 0===u||null===(m=u.libraryHead)||void 0===m?void 0:m.staffMiddleName:""," ").concat(null===U||void 0===U||null===(_=U.library)||void 0===_||null===(h=_.libraryHead)||void 0===h?void 0:h.staffLastName),count1:null===U||void 0===U||null===(x=U.library)||void 0===x?void 0:x.bookCount,count1label:Z("books"),count2:null===U||void 0===U||null===(g=U.library)||void 0===g?void 0:g.memberCount,count2label:Z("members"),profilePhoto:W,profileChange:function(e){var n=URL.createObjectURL(e.target.files[0]);L(e.target.files[0]),z(n),M(n),E(!0)},openCrop:D,setOpenCrop:E,setPhotoURL:M,photoURL:C,setFile:L,setUpload:O,setProfilePhoto:z,viewAs:!0,redirectUrl:"/q/".concat(k.username,"/member/library?a=site"),carryParentState:j}),(0,b.jsx)(Sn,{library:null===U||void 0===U?void 0:U.library,getLibraryDetailRefetch:q,carryParentState:j,role:p})]})};var Mn=function(e){var n=e.onClickValue,i=e.carryParentState,t=e.role,o=e.mid,s=(0,l.TH)();return(0,b.jsxs)("div",{className:a,children:[!s.search&&(0,b.jsx)(Cn,{carryParentState:i,role:t}),s.search&&(0,b.jsx)(Qe,{carryParentState:i,insId:null===n||void 0===n?void 0:n.institute,role:t,mid:o})]})},Fn=i(46500),In=i(78068),wn=function(){var e,n,i,a,d,r,c,u,v,m,f,_,h,x,g,j,p,Z=(0,l.TH)(),k=(0,s.I0)();return(0,t.useEffect)((function(){var e,n,i,t,o;k(Fn.X.libraryQuery({lid:null===Z||void 0===Z||null===(e=Z.state)||void 0===e||null===(n=e.onClickValue)||void 0===n?void 0:n._id,lhead:null===Z||void 0===Z||null===(i=Z.state)||void 0===i||null===(t=i.onClickValue)||void 0===t||null===(o=t.libraryHead)||void 0===o?void 0:o._id}))}),[]),(0,b.jsx)(b.Fragment,{children:"site"===(null===Z||void 0===Z||null===(e=Z.search)||void 0===e?void 0:e.substring(3))?(0,b.jsx)(In.Z,{lid:null===Z||void 0===Z||null===(n=Z.state)||void 0===n||null===(i=n.onClickValue)||void 0===i?void 0:i._id}):(0,b.jsx)(o.Z,{index:null!==Z&&void 0!==Z&&null!==(a=Z.state)&&void 0!==a&&null!==(d=a.onClickValue)&&void 0!==d&&d.role?"58":"8",sid:null!==(r=null===Z||void 0===Z||null===(c=Z.state)||void 0===c?void 0:c.sid)&&void 0!==r?r:"",onClickValue:null!==(u=null===Z||void 0===Z||null===(v=Z.state)||void 0===v?void 0:v.onClickValue)&&void 0!==u?u:"",children:(0,b.jsx)(Mn,{onClickValue:null!==(m=null===Z||void 0===Z||null===(f=Z.state)||void 0===f?void 0:f.onClickValue)&&void 0!==m?m:"",carryParentState:null===Z||void 0===Z?void 0:Z.state,role:null!==(_=null===(h=Z.state)||void 0===h||null===(x=h.onClickValue)||void 0===x?void 0:x.role)&&void 0!==_?_:"",mid:null!==(g=null===(j=Z.state)||void 0===j||null===(p=j.onClickValue)||void 0===p?void 0:p.mid)&&void 0!==g?g:""})})})}},47735:function(e,n,i){var t=i(29439),o=i(72791),l=(i(32804),i(29017)),s=i(98734),a=i(62732),d=i(69721),r=i(80184);n.Z=function(e){var n=e.rid,i=(0,o.useState)(!1),c=(0,t.Z)(i,2),u=c[0],v=c[1],m=(0,o.useState)(""),f=(0,t.Z)(m,2),_=f[0],h=f[1],x=(0,o.useState)(""),g=(0,t.Z)(x,2),b=g[0],j=g[1],p=(0,l.H0)({rid:_,skip:!_}),Z=p.internalFeeReceipt,k=p.internalFeeReceiptRefetch;(0,o.useEffect)((function(){_&&k()}),[_,k]);return(0,o.useEffect)((function(){null!==Z&&void 0!==Z&&Z.receipt&&null!==Z&&void 0!==Z&&Z.one_account&&j(Z)}),[Z]),(0,o.useEffect)((function(){if(b){var e,n,i,t,o,l,s,r;v((function(e){return!e}));var c=null===b||void 0===b?void 0:b.one_account,u=null===b||void 0===b?void 0:b.receipt,m=null!==u&&void 0!==u&&null!==(e=u.finance)&&void 0!==e&&null!==(n=e.institute)&&void 0!==n&&n.insProfilePhoto?"".concat(d.Yz,"/").concat(null===u||void 0===u||null===(i=u.finance)||void 0===i||null===(t=i.institute)||void 0===t?void 0:t.insProfilePhoto):"/images/certificate/logodemo.jpg",f=null!==u&&void 0!==u&&null!==(o=u.finance)&&void 0!==o&&null!==(l=o.institute)&&void 0!==l&&l.affliatedLogo?"".concat(d.Yz,"/").concat(null===u||void 0===u||null===(s=u.finance)||void 0===s||null===(r=s.institute)||void 0===r?void 0:r.affliatedLogo):"/images/certificate/logodemo.jpg";c&&u&&((0,a.Z)(c,u,m,f),v(!1)),j(""),window.location.reload()}}),[b]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{src:"/images/members/receipt-icon.svg",onClick:function(){var e;(e=n)&&(v((function(e){return!e})),h(e))},alt:"receipt icon"}),u&&(0,r.jsx)(s.Z,{})]})}},12923:function(e,n,i){i.d(n,{Ec:function(){return j},Em:function(){return k},JM:function(){return f},NS:function(){return s},Pg:function(){return _},Q_:function(){return b},RH:function(){return m},Tv:function(){return r},U_:function(){return g},VN:function(){return a},Wj:function(){return u},ZS:function(){return v},_8:function(){return p},d5:function(){return c},tB:function(){return x},vI:function(){return Z},yx:function(){return d},zO:function(){return h}});var t=i(29439),o=i(91007),l=i(58208),s=function(e){var n=(0,l.YD)(e.search,{skip:e.skip});return{instituteAllSearch:n.data,instituteAllSearchRefetch:n.refetch}},a=function(){var e=(0,l.ak)();return[(0,t.Z)(e,1)[0]]},d=function(){var e=(0,l.WL)();return[(0,t.Z)(e,1)[0]]},r=function(e){var n=(0,l.pH)(e.list,{skip:e.skip});return{instituteFollowList:n.data,instituteFollowListRefetch:n.refetch}},c=function(e){var n=(0,l.MG)(e.data,{skip:e.skip});return{instituteOwnFollowingList:n.data,instituteOwnFollowingListRefetch:n.refetch}},u=function(){var e=(0,l.Ky)();return[(0,t.Z)(e,1)[0]]},v=function(e){var n=(0,l.p8)(e.list);return{userFollowList:n.data,userFollowListRefetch:n.refetch}},m=function(e){var n=(0,l.Wv)(e);return{userFollowingList:n.data,userFollowingListRefetch:n.refetch}},f=function(e){var n=(0,l.sz)(e.search,{skip:e.skip});return{userAllSearch:n.data,userAllSearchRefetch:n.refetch}},_=function(){var e=(0,l.Mk)();return[(0,t.Z)(e,1)[0]]},h=function(){var e=(0,l.$i)();return[(0,t.Z)(e,1)[0]]},x=function(){var e=(0,l.Do)();return[(0,t.Z)(e,1)[0]]},g=function(){var e=(0,l.He)();return[(0,t.Z)(e,1)[0]]},b=function(){var e=(0,l.vg)();return[(0,t.Z)(e,1)[0]]},j=function(){var e=(0,l.OO)();return[(0,t.Z)(e,1)[0]]},p=function(e){var n=(0,l.N2)(e);return{userCircleList:n.data,userCircleListRefetch:n.refetch}},Z=function(e){var n=(0,o.x6)(e.search,{skip:e.skip});return{assignSearchStaff:n.data,assignSearchStaffRefetch:n.refetch}},k=function(e){var n=(0,l.SJ)(e);return{universalUser:n.data,universalUserRefetch:n.refetch}}},11163:function(e,n,i){i.d(n,{BK:function(){return f},Ff:function(){return r},GX:function(){return b},S4:function(){return u},o:function(){return _},oz:function(){return c}});var t=i(29439),o=i(93433),l=i(72791),s=i(43997),a=i(97892),d=i.n(a),r=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],c=["January","February","March","April","May","June","July","August","September","October","November","December"],u=function(){for(var e=(new Date).getFullYear(),n=e-70,i=[],t=e+30;t>=n;t--)i.push(t);return i.reverse()},v=[1,2,3,4,5,6,0],m=function(){return new Date},f=function(e,n){var i,t,o;o=n?null===(i=d()(e))||void 0===i?void 0:i.format("YYYY-MM-DD"):(0,s.O_)(e);var l=new Date,a=null===(t=d()(l))||void 0===t?void 0:t.format("YYYY-MM-DD"),r=new Date("".concat(o)),c=new Date("".concat(a));return r.getTime()===c.getTime()},_=function(e,n){var i=new Date(e),t=null===n||void 0===n?void 0:n.split("-"),o=new Date("".concat(t[2],"-").concat(t[1],"-").concat(t[0]));return!(i.getTime()<o.getTime())&&!(i.getTime()>o.getTime())},h=function(e){return function(e){var n=new Date(e);return new Date(n.getFullYear(),n.getMonth()+1,0)}(e).getDate()},x=function(e){return function(e){var n=new Date(e);return new Date(n.getFullYear(),n.getMonth(),0)}(e).getDate()},g=function(e){return v.indexOf(function(e){var n=new Date(e);return new Date(n.getFullYear(),n.getMonth(),1).getDay()}(e))},b=function(e){var n=(0,l.useState)(m()),i=(0,t.Z)(n,2),a=i[0],d=i[1];(0,l.useEffect)((function(){e&&d(function(e){var n=(0,s.O_)(e);return new Date(n)}(e))}),[e]);var u,v=x(u=a)-g(u),f=(0,l.useMemo)((function(){return function(e,n){for(var i=1,t=1,l=new Date(e),s={},a=1;a<7;a++){s[a]=[];for(var d=1;d<8;d++)1===a?d<=g(e)+1?(s[a]=[].concat((0,o.Z)(s[a]),[{type:"PREVIOUS",date:"".concat(n,"-").concat(0===l.getMonth()?12:l.getMonth(),"-").concat(0===l.getMonth()?l.getFullYear()-1:l.getFullYear()),value:n,day:r[l.getDay()]}]),++n):(s[a]=[].concat((0,o.Z)(s[a]),[{type:"CURRENT",date:"".concat(i,"-").concat(l.getMonth()+1,"-").concat(l.getFullYear()),value:i,day:r[l.getDay()]}]),i++):a>1&&i<h(e)+1?(s[a]=[].concat((0,o.Z)(s[a]),[{type:"CURRENT",date:"".concat(i,"-").concat(l.getMonth()+1,"-").concat(l.getFullYear()),value:i,day:r[l.getDay()]}]),i++):(s[a]=[].concat((0,o.Z)(s[a]),[{type:"NEXT_MONTH",date:"".concat(t,"-").concat(l.getMonth()+2===13?1:l.getMonth()+2,"-").concat(l.getMonth()+2===13?l.getFullYear()+1:l.getFullYear()),value:t,day:r[l.getDay()]}]),t++)}return s}(a,v)}),[a,v]),_=(0,l.useCallback)((function(){d((function(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}))}),[]),b=(0,l.useCallback)((function(){d((function(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}))}),[]),j=(0,l.useCallback)((function(e){var n=null===e||void 0===e?void 0:e.split("-"),i=new Date("".concat(n[2],"-").concat(n[1],"-").concat(n[0]));d(i)}),[]);return{selectedDate:a,setSelectedDate:d,getPreviousMonth:_,getNextMonth:b,getSelectedDate:j,generateCalendar:f,getToday:m,dayName:r,monthName:c}}},74771:function(e,n,i){i.d(n,{Z:function(){return Z}});var t=i(29439),o=i(39230),l=i(52245),s=i(72791),a=i(11163),d="Calendar_calendar__ZZaTt",r="Calendar_calendar_top__ADLui",c="Calendar_calendar_days__vUwsX",u="Calendar_calendar_days_label__VF+-3",v="Calendar_calendar_days_value__cY4KR",m="Calendar_calendar_month__iidgh",f="Calendar_calendar_month_value__nzPqp",_="Calendar_calendar_month_value_active__xUZQL",h=i(48293),x=i(98684),g=i(97892),b=i.n(g),j=i(80184),p=function(e){var n,i=e.onClose,o=e.date,l=e.onDateSelect,g=(0,a.GX)(o),p=g.selectedDate,Z=g.setSelectedDate,k=g.getPreviousMonth,N=g.getNextMonth,y=g.getSelectedDate,S=g.generateCalendar,C=(0,s.useState)(""),M=(0,t.Z)(C,2),F=M[0],I=M[1],w=(0,a.S4)(),L=(0,s.useMemo)((function(){return w.indexOf(p.getFullYear())}),[p,w]),T=(0,s.useState)(0),A=(0,t.Z)(T,2),D=A[0],E=A[1],R=(0,s.useMemo)((function(){return w.slice(L+12*D,D?L+12*D+12:L+12)}),[w,D,L]),B=(0,s.useCallback)((function(){I(F?"":"MONTH")}),[F]),P=(0,s.useCallback)((function(){I(F?"":"YEAR")}),[F]),O=(0,s.useCallback)((function(e){Z((function(n){return new Date("".concat(e," ").concat(n.getDate()," ").concat(n.getFullYear()))})),B()}),[B]),Y=(0,s.useCallback)((function(e){Z((function(n){return new Date("".concat(n.getMonth()+1," ").concat(n.getDate()," ").concat(e))})),P()}),[P]);return(0,j.jsx)(h.Z,{onClose:i,customBackdropStyle:{zIndex:"2000"},customOverlayStyle:{zIndex:"2000"},children:(0,j.jsxs)("div",{className:d,children:[(0,j.jsxs)("div",{className:r,children:[(0,j.jsx)("img",{src:"".concat(x.Fk,"/next.svg"),alt:"previous icon",onClick:function(){F?"YEAR"===F&&E((function(e){return e-1})):k()},style:{rotate:"180deg"}}),(0,j.jsxs)("h6",{children:[(0,j.jsx)("span",{onClick:B,children:b()(p).format("MMMM")})," ",(0,j.jsx)("span",{onClick:P,children:b()(p).format("YYYY")})]}),(0,j.jsx)("img",{src:"".concat(x.Fk,"/next.svg"),alt:"next icon",onClick:function(){F?"YEAR"===F&&E((function(e){return e+1})):N()}})]}),"MONTH"===F?(0,j.jsx)("div",{className:m,children:a.oz.map((function(e){return(0,j.jsx)("p",{className:b()(p).format("MMMM")===e?"".concat(f," ").concat(_):f,onClick:function(){return O(e)},children:e},e)}))}):"YEAR"===F?(0,j.jsx)("div",{className:m,children:null===R||void 0===R?void 0:R.map((function(e){return(0,j.jsx)("p",{className:b()(p).format("YYYY")==="".concat(e)?"".concat(f," ").concat(_):f,onClick:function(){return Y(e)},children:e},e)}))}):(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:c,children:a.Ff.map((function(e){return(0,j.jsx)("p",{className:u,children:e},e)}))}),null===(n=Object.values(S))||void 0===n?void 0:n.map((function(e,n){return(0,j.jsx)("div",{className:c,children:e.map((function(e){return(0,j.jsx)("p",{className:v,style:{"--calendar-border":(0,a.BK)(null===e||void 0===e?void 0:e.date)?"#123456":(0,a.o)(p,null===e||void 0===e?void 0:e.date)?"red":""},onClick:function(){return n=null===e||void 0===e?void 0:e.date,y(n),l(n),void i();var n},children:null===e||void 0===e?void 0:e.value},null===e||void 0===e?void 0:e.date)}))},n)}))]})]})})},Z=function(e){var n=e.label,i=e.name,a=e.msg,d=e.value,r=e.onChange,c=e.placeholder,u=e.customFormInputContainer,v=e.customFormInputLabel,m=e.customFormInput,f=e.errorShow,_=e.disabled,h=(0,o.$G)().t,g=(0,s.useState)(!1),b=(0,t.Z)(g,2),Z=b[0],k=b[1],N=function(){k((function(e){return!e}))};return(0,j.jsxs)("div",{className:l.Z.form_input_container,style:u,children:[n&&(0,j.jsxs)("label",{className:l.Z.form_input_label,style:v,htmlFor:i,children:[n,a?(0,j.jsx)("span",{className:l.Z.form_input_label_error,children:a}):f?(0,j.jsxs)("span",{className:l.Z.form_input_label_error,children:["* ",h("form_require_label")]}):null]}),(0,j.jsx)("input",{className:l.Z.form_input,type:"text",defaultValue:d,name:i,placeholder:c,disabled:_,style:m,onFocus:N}),(0,j.jsx)("img",{src:"".concat(x.Fk,"/calendar.svg"),alt:"calander-icon",className:l.Z.form_calendar_icon,onClick:N}),Z&&(0,j.jsx)(p,{onClose:N,onDateSelect:r,date:d})]})}},61055:function(e,n,i){var t=i(39230),o=i(52245),l=i(80184),s=["tel","number"];n.Z=function(e){var n=e.label,i=e.name,a=e.msg,d=e.type,r=e.value,c=e.onChange,u=e.placeholder,v=e.maxLength,m=e.customFormInputContainer,f=e.customFormInputLabel,_=e.customFormInput,h=e.errorShow,x=e.disabled,g=e.children,b=(0,t.$G)().t;return(0,l.jsxs)("div",{className:o.Z.form_input_container,style:m,children:[n&&(0,l.jsxs)("label",{className:o.Z.form_input_label,style:f,htmlFor:i,children:[n,a?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("span",{className:o.Z.form_input_label_error,children:[" "," "," ",a]})}):h?(0,l.jsxs)("span",{className:o.Z.form_input_label_error,children:["* ",b("form_require_label")]}):null,g]}),s.includes(d)?(0,l.jsx)("input",{className:o.Z.form_input,type:d,value:r,onChange:c,name:i,placeholder:u,maxLength:null!==v&&void 0!==v?v:100,disabled:x,style:_}):(0,l.jsx)("input",{className:o.Z.form_input,type:d,value:r,onChange:c,name:i,placeholder:u,disabled:x,style:_})]})}},43997:function(e,n,i){i.d(n,{O_:function(){return l},_1:function(){return t},jh:function(){return o}});var t=function(e){var n=null===e||void 0===e?void 0:e.split("/");return"".concat(n[2],"-").concat(n[1],"-").concat(n[0])},o=function(e){var n,i=[];return(null===(n=(i=null!==e&&void 0!==e&&e.includes("-")?null===e||void 0===e?void 0:e.split("-"):null===e||void 0===e?void 0:e.split("/"))[2])||void 0===n?void 0:n.length)>2?"".concat(+i[0]>9?i[0]:"0".concat(+i[0]),"/").concat(+i[1]>9?i[1]:"0".concat(+i[1]),"/").concat(i[2]):"".concat(+i[2]>9?i[2]:"0".concat(+i[2]),"/").concat(+i[1]>9?i[1]:"0".concat(+i[1]),"/").concat(i[0])},l=function(e){var n,i=[];return(null===(n=(i=null!==e&&void 0!==e&&e.includes("-")?null===e||void 0===e?void 0:e.split("-"):null===e||void 0===e?void 0:e.split("/"))[2])||void 0===n?void 0:n.length)>2?"".concat(i[2],"-").concat(+i[1]>9?i[1]:"0".concat(+i[1]),"-").concat(+i[0]>9?i[0]:"0".concat(+i[0])):"".concat(i[0],"-").concat(+i[1]>9?i[1]:"0".concat(+i[1]),"-").concat(+i[2]>9?i[2]:"0".concat(+i[2]))}},62732:function(e,n,i){var t=i(35125),o=i(72426),l=i.n(o),s=i(62906),a=i.n(s),d=new t.ZP({format:[270,210]}),r=d.internal.pageSize.getWidth();n.Z=function(e,n,i,t){var o,s,c,u,v,m,f,_,h,x,g,b,j,p,Z,k,N,y=arguments.length>4&&void 0!==arguments[4]&&arguments[4],S=null===n||void 0===n||null===(o=n.finance)||void 0===o?void 0:o.institute,C=null===n||void 0===n||null===(s=n.finance)||void 0===s?void 0:s.financeHead,M=null===n||void 0===n?void 0:n.student,F=null===n||void 0===n?void 0:n.internal_fees,I=null===n||void 0===n?void 0:n.order_history;d.addImage(i,"JPEG",9,3,25,25),d.addImage(t,"JPEG",r-34,2.4,25,25),d.setLineWidth(8),d.setDrawColor(255,255,255),d.circle(21.4,15,16),d.setLineWidth(0),d.setLineWidth(8),d.setDrawColor(255,255,255),d.circle(r-21.4,15,16),d.setLineWidth(0);var w=d.splitTextToSize(null===S||void 0===S?void 0:S.insName,146);if(d.setFont(void 0,"normal"),w.length>1){var L=10;d.setFont("700"),d.setTextColor(18,18,18),d.setFontSize(16),d.text(107,L,w,"center"),L=w.length+145}else{var T=10;d.setFont("700"),d.setTextColor(18,18,18),d.setFontSize(18),d.text(107,T,w,"center"),T=w.length+145}d.setFont("Arial","normal","400"),d.setTextColor(18,18,18),d.setFontSize(10),d.text(r/2,w.length>1?23:19,null===S||void 0===S?void 0:S.insAddress,"center"),d.setFont("WorkSans"),d.setTextColor(18,18,18),d.setFontSize(10),d.text(r/2,w.length>1?29:25,"Mob No : ".concat(null===S||void 0===S?void 0:S.insPhoneNumber," , Mail: ").concat(null===S||void 0===S?void 0:S.insEmail),"center"),d.setFont("WorkSans"),d.setTextColor(0,0,0),d.setFontSize(18),d.text(r/2,37,"Fee Receipt","center"),d.setLineWidth(.7),d.setDrawColor(18,18,18),d.line(0,46,r,46),d.setTextColor(0,0,0),d.setFont(void 0,"bold"),d.setFontSize(10),d.text(9,54,"Invoice No :"),d.setFont(void 0,"normal"),d.setTextColor(0,0,0),d.setFontSize(10),d.text(32,54,null===n||void 0===n?void 0:n.invoice_count),d.setTextColor(0,0,0),d.setFont(void 0,"bold"),d.setFontSize(10),d.text(r-32,54,"Dated:",{align:"right"}),d.setFont(void 0,"normal"),d.setTextColor(0,0,0),d.setFontSize(10),d.text(r-12,54,l()(null===n||void 0===n?void 0:n.created_at).format("DD-MMM-YYYY"),{align:"right"}),d.setTextColor(0,0,0),d.setFont(void 0,"bold"),d.setFontSize(10),d.text(9,61,"Purpose:"),d.setFont(void 0,"normal"),d.setTextColor(0,0,0),d.setFontSize(10),d.text(32,61,"".concat(null!==(c=null===F||void 0===F?void 0:F.internal_fee_reason)&&void 0!==c?c:"N/A")),d.setTextColor(0,0,0),d.setFont(void 0,"bold"),d.setFontSize(10),d.text(9,68,"Amount: "),d.setFont(void 0,"normal"),d.setTextColor(0,0,0),d.setFontSize(10),d.text(32,68,"Rs. ".concat(null===n||void 0===n?void 0:n.fee_payment_amount)),d.setTextColor(0,0,0),d.setFont(void 0,"bold"),d.setFontSize(11),d.text(9,97," ".concat(y?"Received Through: ":"Paid Through: ")),d.setFont(void 0,"normal"),d.text(44,97,"".concat(null===e||void 0===e?void 0:e.finance_bank_name,", ").concat(null===e||void 0===e?void 0:e.finance_bank_account_name,", A/c No:  ").concat(null===e||void 0===e?void 0:e.finance_bank_account_number)),d.setTextColor(0,0,0),d.setFont(void 0,"bold"),d.text(9,107," On Account of: ");var A="Being money ".concat(y?"received":"paid"," by ").concat(null===n||void 0===n?void 0:n.fee_payment_mode,", Transaction ID: ").concat(null!==(u=null===I||void 0===I?void 0:I.razorpay_order_id)&&void 0!==u?u:"N/A"," ,  Dated: ").concat(l()(null===n||void 0===n?void 0:n.created_at).format("DD-MMM-YYYY"),"  for Rs. ").concat(null===n||void 0===n?void 0:n.fee_payment_amount,".").concat(y?"From":"To"," ","".concat(null!==(v=null===M||void 0===M?void 0:M.studentFirstName)&&void 0!==v?v:""," ").concat(null!==(m=null===M||void 0===M?void 0:M.studentMiddleName)&&void 0!==m?m:""," ").concat(null!==(f=null===M||void 0===M?void 0:M.studentLastName)&&void 0!==f?f:""," "),", towards ").concat(null!==(_=null===F||void 0===F?void 0:F.internal_fee_reason)&&void 0!==_?_:"N/A","."),D=d.splitTextToSize(A,r-20);if(D.length>1){var E=113;d.setFont(void 0,"normal"),d.setFontSize(11),d.setTextColor(18,18,18),d.text(10,E,D,"left"),E=D.length+151}else{var R=113;d.setFontSize(11),d.setFont(void 0,"normal"),d.setTextColor(18,18,18),d.setFontSize(12),d.text(10,R,D,"left"),R=D.length+151}var B,P,O,Y;(d.setTextColor(0,0,0),d.setFont(void 0,"bold"),d.setFontSize(11),d.text(9,131,"Bank Transaction Details: "),d.setFont(void 0,"normal"),d.text(9,138,"Payment Mode:  ".concat(null===n||void 0===n?void 0:n.fee_payment_mode)),null!==I&&void 0!==I&&I.razorpay_order_id)?d.text(9,144,"Transaction ID: ".concat(null!==(B=null===I||void 0===I?void 0:I.razorpay_order_id)&&void 0!==B?B:"N/A")):(d.text(9,144,"Bank Name: ".concat(null!==(P=null===e||void 0===e?void 0:e.fee_bank_name)&&void 0!==P?P:"N/A")),d.text(9,150,"Bank Holder Name: ".concat(null!==(O=null===e||void 0===e?void 0:e.finance_bank_account_name)&&void 0!==O?O:"N/A")),d.text(9,156,"UTR / Ref No.: ".concat(null!==(Y=null===e||void 0===e?void 0:e.fee_utr_reference)&&void 0!==Y?Y:"N/A")),d.text(9,162,"Date: ".concat(l()(null===n||void 0===n?void 0:n.created_at).format("DD-MMM-YYYY"))),d.text(9,168,"Amount: ".concat(null===n||void 0===n?void 0:n.fee_payment_amount)),d.text(9,174,"Amount in Words: ".concat((a().toWords(n.fee_payment_amount.toString()).match(/[a-zA-Z0-9]+/g)||[]).map((function(e){return"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))})).join(" ")," only.")));d.setFontSize(9),d.text(40,240,"".concat(C.staffFirstName," ").concat(null!==(h=C.staffMiddleName)&&void 0!==h?h:""," ").concat(C.staffLastName),{align:"center"}),d.setFont(void 0,"bold"),d.setFontSize(10),d.text(40,245,"Finance Manager",{align:"center"}),d.setFont(void 0,"normal"),d.setFontSize(9),d.text(153,240,"".concat(null!==(x=null===S||void 0===S||null===(g=S.displayPersonList)||void 0===g||null===(b=g[0])||void 0===b||null===(j=b.displayUser)||void 0===j?void 0:j.userLegalName)&&void 0!==x?x:"N/A"),{align:"center"}),d.setFont(void 0,"bold"),d.setFontSize(10),d.text(153,245,"".concat(null!==(p=null===S||void 0===S||null===(Z=S.displayPersonList)||void 0===Z||null===(k=Z[0])||void 0===k?void 0:k.displayTitle)&&void 0!==p?p:"N/A"),{align:"center"}),d.setTextColor(0,0,255),d.setFontSize(7),d.text(r-20,243,"Online Automated",null,50),d.text(r-18,244,"Generated fee receipt",null,50),d.text(r-14,246,"Through Qviple",null,50),d.setLineWidth(.2),d.setDrawColor(18,18,18),d.line(0,251,r,251),d.setTextColor(18,18,18),d.setFontSize(8),d.setFont(void 0,"normal"),d.text(r/2,259,"Note : No one except one who is making this certificate should interfere with any details of this invoice, othewise students will be expelled and legal action will be taken.","center"),window.open(d.output("bloburl",{filename:"".concat(null===M||void 0===M?void 0:M.studentFirstName," ").concat(null!==(N=null===M||void 0===M?void 0:M.studentMiddleName)&&void 0!==N?N:""," ").concat(null===M||void 0===M?void 0:M.studentLastName," -Internal Fee Receipt.pdf")}),"_blank")}},52124:function(e,n){n.Z={assign_title:"AssignStaffModal_assign_title__4DGBV",assign_search_container:"AssignStaffModal_assign_search_container__3x6RD",assign_search_input:"AssignStaffModal_assign_search_input__rO3c7",assign_show_list:"AssignStaffModal_assign_show_list__yHhf7",assign_show_list_each:"AssignStaffModal_assign_show_list_each__ACUEw",assign_each_paragraph:"AssignStaffModal_assign_each_paragraph__pMHTq",universal_modal:"AssignStaffModal_universal_modal__czmpB",is_mulitselect_container:"AssignStaffModal_is_mulitselect_container__0cPQ2"}},87049:function(e,n){n.Z={edit_modal_container:"EditConfirm_edit_modal_container__WfbTq",modal_header:"EditConfirm_modal_header__4sq5J",edit:"EditConfirm_edit__ziVGP",remove:"EditConfirm_remove__PCXLs",xlsx_update_btn:"EditConfirm_xlsx_update_btn__H3yM8",save_stop_btn:"EditConfirm_save_stop_btn__9NiZ5",update_to_btn:"EditConfirm_update_to_btn__ExCJv"}},29407:function(e,n){n.Z={refund_container:"AdmisisonRefund_refund_container__BTIz6",refund_container_title:"AdmisisonRefund_refund_container_title__Rwwk9",refund_total:"AdmisisonRefund_refund_total__7rRiv",refund_card:"AdmisisonRefund_refund_card__M65Il",refund_card_text_container:"AdmisisonRefund_refund_card_text_container__jp-8T",refund_card_text:"AdmisisonRefund_refund_card_text__eVyEv",export_card:"AdmisisonRefund_export_card__xse7V",export_card_text:"AdmisisonRefund_export_card_text__4VVsl",export_card_date:"AdmisisonRefund_export_card_date__Wejoy",admission_filter_icon:"AdmisisonRefund_admission_filter_icon__5ncUR",menu_icon:"AdmisisonRefund_menu_icon__WdVbN",both_filter:"AdmisisonRefund_both_filter__k26Hu",both_filter_with_name:"AdmisisonRefund_both_filter_with_name__4eJUc",tab_manage:"AdmisisonRefund_tab_manage__G7dJo"}},32804:function(e,n){n.Z={student_fees_header_container:"StudentAllFeesData_student_fees_header_container__06J8F",student_fees_header_column:"StudentAllFeesData_student_fees_header_column__7WxL2",student_fees_row_amount:"StudentAllFeesData_student_fees_row_amount__2QSk8",student_fees_btn_container:"StudentAllFeesData_student_fees_btn_container__rcsyt",student_fees_btn_container_active:"StudentAllFeesData_student_fees_btn_container_active__LiRxa",student_alll_fees_data:"StudentAllFeesData_student_alll_fees_data__CBPmP",student_admission_fees_container:"StudentAllFeesData_student_admission_fees_container__Fs6dX",student_internal_card:"StudentAllFeesData_student_internal_card__QP2oz",student_internal_card_btn_pay:"StudentAllFeesData_student_internal_card_btn_pay__CzvCh",student_internal_card_btn_paid:"StudentAllFeesData_student_internal_card_btn_paid__KP8Jd"}},16925:function(e,n){n.Z={right:"Income_right__XnzYj",rightHead:"Income_rightHead__1rLc6",rightBody:"Income_rightBody__fGEC5",income_detail:"Income_income_detail__IWoJa",detailTop:"Income_detailTop__4JXuu",detailTopMid:"Income_detailTopMid__yc2yv",modal_container:"Income_modal_container__HiGr+",modal_container_outer_header:"Income_modal_container_outer_header__F9c7X",modal_container_header:"Income_modal_container_header__td-Fb",card_container:"Income_card_container__ewKhQ",card_container_image:"Income_card_container_image__5XloP",card_container_inner:"Income_card_container_inner__JBmxr",admission_fees_row:"Income_admission_fees_row__MPJCs",close_icon:"Income_close_icon__Ozq4u",student_message_container:"Income_student_message_container__8KnPc",student_message_container_inner:"Income_student_message_container_inner__mRYpD",usm_institute_container:"Income_usm_institute_container__4LkYt",usm_institute:"Income_usm_institute__hlzdF",date_select:"Income_date_select__D3VkU",gsf_star_container:"Income_gsf_star_container__7gdUs"}}}]);
//# sourceMappingURL=3388.9d45ad8b.chunk.js.map