"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[339],{97655:(e,t,i)=>{i.d(t,{Z:()=>o});i(72791);var l=i(39230),n=i(38733),s=i(80184);const o=e=>{let{labelText:t,name:i,type:o,value:r,onChange:a,placeholder:d,errorShow:c,customStyleContainer:u,customStyleLabel:h,customStyleInput:x,inputLength:v,reAccount:_,disabled:m}=e;const{t:f}=(0,l.$G)();return(0,s.jsxs)("div",{className:n.Z.join_form_container,style:{...u},children:[(0,s.jsxs)("label",{className:n.Z.join_form_label,htmlFor:i,style:{...h},children:[t," ",!_&&c&&(0,s.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",f("form_require_label")]}),_&&(0,s.jsx)("span",{style:{color:"red",marginLeft:"15px"},children:_})]}),"tel"===o?(0,s.jsx)("input",{className:n.Z.join_form_input,type:o,value:r,onChange:a,name:i,placeholder:d,maxLength:null!==v&&void 0!==v?v:100,disabled:m,style:x}):(0,s.jsx)("input",{className:n.Z.join_form_input,type:o,value:r,onChange:a,name:i,placeholder:d,disabled:m,style:x})]})}},11105:(e,t,i)=>{i.d(t,{Z:()=>s});i(72791);var l=i(11575),n=i(80184);const s=e=>{let{status:t}=e;return(0,n.jsx)("div",{className:l.Z.loaderGif,children:(0,n.jsx)("img",{src:"white"===t?"/images/loader/loader-bg-white.gif":"/images/loader/loader.gif",alt:"for load an items"})})}},84565:(e,t,i)=>{i.r(t),i.d(t,{default:()=>N});var l=i(72791),n=i(39230),s=i(29407),o=i(16871),r=i(23441),a=i(11105),d=i(72426),c=i.n(d),u=i(87932),h=i(98734),x=i(12072),v=i(84489),_=i(87049),m=i(97655),f=i(98094),p=i(80184);const g=e=>{var t;let{onEdit:i,xlsxId:s}=e;const{t:o}=(0,n.$G)(),[r,a]=(0,l.useState)(null!==(t=null===s||void 0===s?void 0:s.excel_file_name)&&void 0!==t?t:""),[d,c]=(0,l.useState)("");(0,l.useEffect)((()=>{var e;a(null!==(e=null===s||void 0===s?void 0:s.excel_file_name)&&void 0!==e?e:"")}),[null===s||void 0===s?void 0:s.excel_file_name]);return(0,p.jsxs)("div",{style:{width:"20rem",minHeight:"10rem",padding:"1rem"},children:[(0,p.jsx)("h6",{children:o("update_excel_name")}),(0,p.jsx)(f.Z,{customStyle:{width:"100%"}}),(0,p.jsx)(m.Z,{labelText:o("excel_name"),placeholder:o("excel_name_plcaeholder"),value:r,name:"excelName",type:"text",onChange:e=>a(e.target.value),errorShow:d.excelName}),(0,p.jsx)("button",{className:_.Z.xlsx_update_btn,title:"Update",onClick:()=>{r?i(r):c({excelName:"excelName is required"})},style:{justifyContent:"center",marginTop:"1rem"},children:o("update")})]})},j=e=>{let{onClose:t,xlsxId:i,onRefetch:n,instituteId:s}=e;const[o,r]=(0,l.useState)(!1),[a,d]=(0,l.useState)(!1),[c]=(0,u.jd)(),[m]=(0,u.db)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(v.Z,{onClose:t}),(0,p.jsxs)(x.Z,{customStyle:{zIndex:"1200"},children:[a?(0,p.jsx)(g,{xlsxId:i,onEdit:e=>{r((e=>!e)),m({id:s,xlsxId:null===i||void 0===i?void 0:i._id,excelUpdate:{excel_file_name:e}}).then((()=>{n(),r((e=>!e)),t()})).catch({})}}):(0,p.jsxs)("div",{className:_.Z.edit_modal_container,style:{width:"200px"},children:[(0,p.jsx)("h6",{className:_.Z.edit,onClick:()=>d((e=>!e)),children:"Edit"}),(0,p.jsx)("h6",{className:_.Z.remove,onClick:()=>{r((e=>!e)),c({id:s,xlsxId:null===i||void 0===i?void 0:i._id}).then((()=>{n(),t(),r((e=>!e))})).catch({})},children:"Delete"})]}),o&&(0,p.jsx)(h.Z,{})]})]})};var y=i(93245),b=i(95048),Z=i(17978),C=i(65543),w=i(12096);const N=e=>{let{insId:t,financeId:i,hostelId:d}=e;const{t:h}=(0,n.$G)(),x=(0,b.v9)((e=>e.financeChange.insId)),v=(0,o.s0)(),[_,m]=(0,r.YD)(),[g,N]=(0,l.useState)(1),[S,k]=(0,l.useState)(!0),[I,E]=(0,l.useState)(!1),[M,V]=(0,l.useState)(!0),[R,D]=(0,l.useState)([]),[O,T]=(0,l.useState)(!1),[q,A]=(0,l.useState)(!1),[L,F]=(0,l.useState)(!1),[G,B]=(0,l.useState)(!1),{getAllExcelByFinance:J,getAllExcelByFinanceRefetch:P}=(0,u.WV)({data:{id:x||t,page:g,limit:10},skip:x?!x:!t}),{scrollToTop:z}=(0,C.u)();(0,l.useEffect)((()=>{z()}),[]),(0,l.useEffect)((()=>{(x||t)&&(V(!0),P())}),[x,t,g,P]),(0,l.useEffect)((()=>{m&&S&&N((e=>e+1))}),[m,S]),(0,l.useEffect)((()=>{var e,t;I?(D(null===J||void 0===J?void 0:J.all_excel),E(!1),V(!1)):null!==J&&void 0!==J&&J.all_excel?(D((e=>{var t,i;return null===(t=[...new Set(null===(i=[...e,...null===J||void 0===J?void 0:J.all_excel])||void 0===i?void 0:i.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),V(!1)):0===(null===J||void 0===J||null===(t=J.all_excel)||void 0===t?void 0:t.length)&&V(!1);10===(null===J||void 0===J||null===(e=J.all_excel)||void 0===e?void 0:e.length)?k(!0):k(!1)}),[null===J||void 0===J?void 0:J.all_excel]);const W=()=>{T((e=>!e))},$=()=>{N(1),P(),E(!0)},H=()=>{A((e=>!e))},U=()=>{F((e=>!e))};return(0,p.jsxs)("div",{className:s.Z.refund_container,children:[(0,p.jsxs)("section",{className:s.Z.refund_container_title,children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{v(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,p.jsxs)("div",{className:s.Z.refund_container_title,style:{justifyContent:"space-between",width:"95%"},children:[(0,p.jsx)("h6",{children:h("data_export")}),(0,p.jsxs)("div",{className:s.Z.both_filter,children:[(0,p.jsxs)("div",{onClick:U,className:s.Z.both_filter_with_name,children:[(0,p.jsx)("img",{src:"/images/export-filter-icon.svg",alt:"filter icon"}),(0,p.jsx)("h6",{children:h("hostel_fee_receipt_filter")})]}),(0,p.jsxs)("div",{onClick:H,className:s.Z.both_filter_with_name,children:[(0,p.jsx)("img",{src:"/images/export-filter-icon.svg",alt:"filter icon"}),(0,p.jsx)("h6",{children:h("fee_receipt_filter")})]}),(0,p.jsxs)("div",{onClick:W,className:s.Z.both_filter_with_name,children:[(0,p.jsx)("img",{src:"/images/export-filter-icon.svg",alt:"filter icon"}),(0,p.jsx)("h6",{children:h("transaction_filter")})]})]})]})]}),(0,p.jsx)(f.Z,{customStyle:{width:"100%"}}),(0,p.jsxs)("div",{className:s.Z.refund_list,children:[null===R||void 0===R?void 0:R.map(((e,t)=>{var i,l;return(null===R||void 0===R?void 0:R.length)===t+1?(0,p.jsxs)("a",{ref:_,className:s.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,p.jsx)("img",{src:"/images/export-xsxl-icon.svg",alt:""}),(0,p.jsxs)("section",{className:s.Z.export_card_text,children:[(0,p.jsx)("h6",{children:null!==(i=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==i?i:""}),(0,p.jsxs)("div",{className:s.Z.export_card_date,children:[(0,p.jsx)("h6",{children:c()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,p.jsx)("h6",{children:c()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]}),(0,p.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:t=>{t.preventDefault(),B(e)},className:s.Z.menu_icon,title:"Menu"})]},null===e||void 0===e?void 0:e._id):(0,p.jsxs)("a",{className:s.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,p.jsx)("img",{src:"/images/export-xsxl-icon.svg",alt:""}),(0,p.jsxs)("section",{className:s.Z.export_card_text,children:[(0,p.jsx)("h6",{children:null!==(l=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==l?l:""}),(0,p.jsxs)("div",{className:s.Z.export_card_date,children:[(0,p.jsx)("h6",{children:c()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,p.jsx)("h6",{children:c()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]}),(0,p.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:t=>{t.preventDefault(),B(e)},className:s.Z.menu_icon,title:"Menu"})]},null===e||void 0===e?void 0:e._id)})),M&&(0,p.jsx)(a.Z,{}),O&&(0,p.jsx)(y.Z,{instituteId:x||t,onClose:W,viewAs:"EXPORT",onRefetch:$}),G&&(0,p.jsx)(j,{xlsxId:G,onClose:()=>B(""),onRefetch:$,instituteId:x||t}),q&&(0,p.jsx)(Z.Z,{onClose:H,financeId:i,instituteId:t}),L&&(0,p.jsx)(w.Z,{onClose:U,financeId:i,hostelId:d})]})]})}},87049:(e,t,i)=>{i.d(t,{Z:()=>l});const l={edit_modal_container:"EditConfirm_edit_modal_container__WfbTq",modal_header:"EditConfirm_modal_header__4sq5J",edit:"EditConfirm_edit__ziVGP",remove:"EditConfirm_remove__PCXLs",xlsx_update_btn:"EditConfirm_xlsx_update_btn__H3yM8",save_stop_btn:"EditConfirm_save_stop_btn__9NiZ5",update_to_btn:"EditConfirm_update_to_btn__ExCJv"}},23441:(e,t,i)=>{i.d(t,{YD:()=>h});var l=i(72791),n=Object.defineProperty,s=(e,t,i)=>(((e,t,i)=>{t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i})(e,"symbol"!==typeof t?t+"":t,i),i),o=new Map,r=new WeakMap,a=0,d=void 0;function c(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>{return"".concat(t,"_").concat("root"===t?(i=e.root)?(r.has(i)||(a+=1,r.set(i,a.toString())),r.get(i)):"0":e[t]);var i})).toString()}function u(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d;if("undefined"===typeof window.IntersectionObserver&&void 0!==l){const n=e.getBoundingClientRect();return t(l,{isIntersecting:l,target:e,intersectionRatio:"number"===typeof i.threshold?i.threshold:0,time:0,boundingClientRect:n,intersectionRect:n,rootBounds:n}),()=>{}}const{id:n,observer:s,elements:r}=function(e){let t=c(e),i=o.get(t);if(!i){const l=new Map;let n;const s=new IntersectionObserver((t=>{t.forEach((t=>{var i;const s=t.isIntersecting&&n.some((e=>t.intersectionRatio>=e));e.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=s),null==(i=l.get(t.target))||i.forEach((e=>{e(s,t)}))}))}),e);n=s.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),i={id:t,observer:s,elements:l},o.set(t,i)}return i}(i);let a=r.get(e)||[];return r.has(e)||r.set(e,a),a.push(t),s.observe(e),function(){a.splice(a.indexOf(t),1),0===a.length&&(r.delete(e),s.unobserve(e)),0===r.size&&(s.disconnect(),o.delete(n))}}l.Component;function h(){let{threshold:e,delay:t,trackVisibility:i,rootMargin:n,root:s,triggerOnce:o,skip:r,initialInView:a,fallbackInView:d,onChange:c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var h;const[x,v]=l.useState(null),_=l.useRef(),[m,f]=l.useState({inView:!!a,entry:void 0});_.current=c,l.useEffect((()=>{if(r||!x)return;let l;return l=u(x,((e,t)=>{f({inView:e,entry:t}),_.current&&_.current(e,t),t.isIntersecting&&o&&l&&(l(),l=void 0)}),{root:s,rootMargin:n,threshold:e,trackVisibility:i,delay:t},d),()=>{l&&l()}}),[Array.isArray(e)?e.toString():e,x,s,n,o,r,i,d,t]);const p=null==(h=m.entry)?void 0:h.target,g=l.useRef();x||!p||o||r||g.current===p||(g.current=p,f({inView:!!a,entry:void 0}));const j=[v,m.inView,m.entry];return j.ref=j[0],j.inView=j[1],j.entry=j[2],j}}}]);
//# sourceMappingURL=339.3e621823.chunk.js.map