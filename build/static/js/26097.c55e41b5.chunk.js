"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[26097],{26097:function(i,t,n){n.r(t),n.d(t,{default:function(){return x}});var o=n(72791),e={complaints:"SwitchAccount_complaints__FOCV9",swichModal:"SwitchAccount_swichModal__nF+az",swichModalTop:"SwitchAccount_swichModalTop__04Wup",swichModalBody:"SwitchAccount_swichModalBody__UXEej",swichModalItem:"SwitchAccount_swichModalItem__2hXtK",swichModalText:"SwitchAccount_swichModalText__kn6r2",search_container:"SwitchAccount_search_container__U4FLB",search_container_text:"SwitchAccount_search_container_text__ifPi5",search_container_input:"SwitchAccount_search_container_input__Jrtnb",searchIcon:"SwitchAccount_searchIcon__wfOTB"},l=n(29439),c=n(5574),s=n(87232),d=n(69721),a=n(39230),u=n(95048),r=n(16871),v=n(74289),h=n(98734),f=n(11105),_=n(80184);function m(i){var t,n,c,s,a,f,m,w,x,p,N,j,M=i.data,g=(0,r.s0)(),y=(0,r.UO)(),P=(0,u.v9)((function(i){return i.idChange.id})),I=(0,o.useState)(""),S=(0,l.Z)(I,2),A=S[0],k=S[1],C=(0,o.useState)(!1),F=(0,l.Z)(C,2),b=F[0],q=F[1],L=(0,v.iH)({data:{id:P,active_member_role:A},skip:!A}).getActivatedMemberAccountRefetch,T=function(i){k(i)};return(0,o.useEffect)((function(){A&&(q((function(i){return!i})),L(),setTimeout((function(){g("/q/".concat(y.username,"/memberstab"),{state:{selectedAccount:A}}),q((function(i){return!i}))}),1e3))}),[A,L]),(0,_.jsxs)(_.Fragment,{children:[null!==M&&void 0!==M&&M.studentFirstName?(0,_.jsxs)("div",{className:e.swichModalItem,onClick:function(){return T(null===M||void 0===M?void 0:M._id)},children:[(0,_.jsx)("img",{id:"profileImg",alt:"",src:null!==M&&void 0!==M&&null!==(t=M.institute)&&void 0!==t&&t.insProfilePhoto?"".concat(d.yI,"/").concat(null===M||void 0===M||null===(n=M.institute)||void 0===n?void 0:n.insProfilePhoto):null!==M&&void 0!==M&&null!==(c=M.student_unit)&&void 0!==c&&c.hostel_unit_photo?"".concat(d.yI,"/").concat(null===M||void 0===M||null===(s=M.student_unit)||void 0===s?void 0:s.hostel_unit_photo):null!==M&&void 0!==M&&M.studentProfilePhoto?"".concat(d.yI,"/").concat(null===M||void 0===M?void 0:M.studentProfilePhoto):"/images/ins_default_profile.svg"}),(0,_.jsxs)("div",{className:e.swichModalText,children:[(0,_.jsx)("h6",{children:null!==(a=null!==(f=null===M||void 0===M||null===(m=M.institute)||void 0===m?void 0:m.insName)&&void 0!==f?f:"".concat(null!==M&&void 0!==M&&null!==(w=M.student_unit)&&void 0!==w&&w.hostel_unit_name?"".concat(null===M||void 0===M||null===(x=M.student_unit)||void 0===x?void 0:x.hostel_unit_name," (Hostel)"):""))&&void 0!==a?a:""}),(0,_.jsxs)("p",{children:[null===M||void 0===M?void 0:M.studentFirstName," ",null===M||void 0===M?void 0:M.studentMiddleName," ",null===M||void 0===M?void 0:M.studentLastName," ","(student)"]})]})]}):null!==M&&void 0!==M&&M.staffFirstName?(0,_.jsxs)("div",{className:e.swichModalItem,onClick:function(){return T(null===M||void 0===M?void 0:M._id)},children:[(0,_.jsx)("img",{id:"profileImg",alt:"",src:null!==M&&void 0!==M&&null!==(p=M.institute)&&void 0!==p&&p.insProfilePhoto?"".concat(d.yI,"/").concat(null===M||void 0===M||null===(N=M.institute)||void 0===N?void 0:N.insProfilePhoto):null!==M&&void 0!==M&&M.staffProfilePhoto?"".concat(d.yI,"/").concat(null===M||void 0===M?void 0:M.staffProfilePhoto):"/images/ins_default_profile.svg"}),(0,_.jsxs)("div",{className:e.swichModalText,children:[(0,_.jsx)("h6",{children:null===M||void 0===M||null===(j=M.institute)||void 0===j?void 0:j.insName}),(0,_.jsxs)("p",{children:[null===M||void 0===M?void 0:M.staffFirstName," ",null===M||void 0===M?void 0:M.staffMiddleName," ",null===M||void 0===M?void 0:M.staffLastName," ","(staff)"]})]})]}):"",b&&(0,_.jsx)(h.Z,{})]})}var w=function(){var i=(0,a.$G)().t,t=(0,r.s0)(),n=(0,u.v9)((function(i){return i.idChange.id})),d=(0,o.useState)(!0),v=(0,l.Z)(d,2),h=v[0],w=v[1],x=(0,o.useState)([]),p=(0,l.Z)(x,2),N=p[0],j=p[1],M=(0,s.I)(n,{skip:!n}),g=M.data,y=M.refetch;return(0,o.useEffect)((function(){n&&(w(!0),y())}),[y,n]),(0,o.useEffect)((function(){var i;null!==g&&void 0!==g&&g.role_query?(j(null===g||void 0===g?void 0:g.role_query),w(!1)):0===(null===g||void 0===g||null===(i=g.role_query)||void 0===i?void 0:i.length)&&w(!1)}),[null===g||void 0===g?void 0:g.role_query]),(0,_.jsx)(c.Z,{open:!0,onClose:function(){return t(-1)},children:(0,_.jsxs)("div",{className:e.swichModal,children:[(0,_.jsx)("div",{className:e.swichModalTop,onClick:function(){return t(-1)},children:i("switch_account")}),(0,_.jsxs)("div",{className:e.swichModalBody,children:[(0,_.jsx)("div",{className:e.search_container,style:{marginBottom:"0.6rem"},children:(0,_.jsxs)("div",{className:e.search_container_text,children:[(0,_.jsx)("img",{className:e.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,_.jsx)("input",{type:"text",placeholder:i("search-label"),onChange:function(i){if(i.target.value){var t,n=null===g||void 0===g||null===(t=g.role_query)||void 0===t?void 0:t.filter((function(t){return function(i,t){var n,o=null!==i&&void 0!==i&&i.studentFirstName?"".concat(null===i||void 0===i?void 0:i.studentFirstName," ").concat(null!==i&&void 0!==i&&i.studentMiddleName?"".concat(null===i||void 0===i?void 0:i.studentMiddleName," "):"").concat(null===i||void 0===i?void 0:i.studentLastName):"".concat(null===i||void 0===i?void 0:i.staffFirstName," ").concat(null!==i&&void 0!==i&&i.staffMiddleName?"".concat(null===i||void 0===i?void 0:i.staffMiddleName," "):"").concat(null===i||void 0===i?void 0:i.staffLastName);return null!==o&&void 0!==o&&null!==(n=o.toLocaleLowerCase())&&void 0!==n&&n.includes(null===t||void 0===t?void 0:t.toLocaleLowerCase())?i:null}(t,i.target.value)}));j(n)}else j(null===g||void 0===g?void 0:g.role_query)},autoFocus:!0,style:{border:"0.029vw solid rgba(0, 0, 0, 0.15)",width:"370px",marginInline:"0.5rem"}})]})}),null===N||void 0===N?void 0:N.map((function(i,t){return(0,_.jsx)(m,{data:i},t)})),h&&(0,_.jsx)(f.Z,{})]})]})})};var x=function(){return(0,_.jsx)("div",{className:e.complaints,children:(0,_.jsx)(w,{})})}}}]);
//# sourceMappingURL=26097.c55e41b5.chunk.js.map