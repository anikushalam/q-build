"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[70981],{12923:(e,t,n)=>{n.d(t,{Ec:()=>_,Em:()=>A,JM:()=>v,NS:()=>s,Pg:()=>y,Q_:()=>g,RH:()=>h,Tv:()=>c,U_:()=>f,VN:()=>r,Wj:()=>u,ZS:()=>d,_8:()=>S,d5:()=>l,tB:()=>p,vI:()=>q,yx:()=>i,zO:()=>m});var a=n(91007),o=n(58208);const s=e=>{const{data:t,refetch:n}=(0,o.YD)(e.search,{skip:e.skip});return{instituteAllSearch:t,instituteAllSearchRefetch:n}},r=()=>{const[e]=(0,o.ak)();return[e]},i=()=>{const[e]=(0,o.WL)();return[e]},c=e=>{const{data:t,refetch:n}=(0,o.pH)(e.list,{skip:e.skip});return{instituteFollowList:t,instituteFollowListRefetch:n}},l=e=>{const{data:t,refetch:n}=(0,o.MG)(e.data,{skip:e.skip});return{instituteOwnFollowingList:t,instituteOwnFollowingListRefetch:n}},u=()=>{const[e]=(0,o.Ky)();return[e]},d=e=>{const{data:t,refetch:n}=(0,o.p8)(e.list);return{userFollowList:t,userFollowListRefetch:n}},h=e=>{const{data:t,refetch:n}=(0,o.Wv)(e);return{userFollowingList:t,userFollowingListRefetch:n}},v=e=>{const{data:t,refetch:n}=(0,o.sz)(e.search,{skip:e.skip});return{userAllSearch:t,userAllSearchRefetch:n}},y=()=>{const[e]=(0,o.Mk)();return[e]},m=()=>{const[e]=(0,o.$i)();return[e]},p=()=>{const[e]=(0,o.Do)();return[e]},f=()=>{const[e]=(0,o.He)();return[e]},g=()=>{const[e]=(0,o.vg)();return[e]},_=()=>{const[e]=(0,o.OO)();return[e]},S=e=>{const{data:t,refetch:n}=(0,o.N2)(e);return{userCircleList:t,userCircleListRefetch:n}},q=e=>{const{data:t,refetch:n}=(0,a.x6)(e.search,{skip:e.skip});return{assignSearchStaff:t,assignSearchStaffRefetch:n}},A=e=>{const{data:t,refetch:n}=(0,o.SJ)(e);return{universalUser:t,universalUserRefetch:n}}},49352:(e,t,n)=>{n.d(t,{Z:()=>c});n(72791);var a=n(69721),o=n(8227),s=n(34156),r=n(98684),i=n(80184);const c=e=>{var t,n,c,l;let{mixin:u,onCloseSearch:d,username:h}=e;return(0,i.jsxs)(i.Fragment,{children:[(null===u||void 0===u?void 0:u.insName)&&(0,i.jsx)(o.Z,{institute:u,hideModal:d}),(null===u||void 0===u?void 0:u.staffFirstName)&&(0,i.jsx)(s.Z,{username:h,activeTab:"staff",imageShow:null!==u&&void 0!==u&&u.staffProfilePhoto?"".concat(a.yI,"/").concat(null===u||void 0===u?void 0:u.staffProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),name:"".concat(null===u||void 0===u?void 0:u.staffFirstName," ").concat(null!==u&&void 0!==u&&u.staffMiddleName?null===u||void 0===u?void 0:u.staffMiddleName:""," ").concat(null===u||void 0===u?void 0:u.staffLastName),showBottomInfo:null===u||void 0===u?void 0:u.staffROLLNO,openType:{openId:null===u||void 0===u?void 0:u._id,asOpen:"staff"}}),(null===u||void 0===u?void 0:u.studentFirstName)&&(0,i.jsx)(s.Z,{username:h,activeTab:"student",imageShow:null!==u&&void 0!==u&&u.studentProfilePhoto?"".concat(a.yI,"/").concat(null===u||void 0===u?void 0:u.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),name:"".concat(null===u||void 0===u?void 0:u.studentFirstName," ").concat(null!==u&&void 0!==u&&u.studentMiddleName?null===u||void 0===u?void 0:u.studentMiddleName:""," ").concat(null===u||void 0===u?void 0:u.studentLastName),showBottomInfo:null===u||void 0===u?void 0:u.studentGRNO,openType:{openId:null===u||void 0===u?void 0:u._id,asOpen:"student"}}),(null===u||void 0===u?void 0:u.dName)&&(0,i.jsx)(s.Z,{username:h,activeTab:"department",imageShow:null!==u&&void 0!==u&&u.photo?"".concat(a.yI,"/").concat(null===u||void 0===u?void 0:u.photo):"/images/profileAndCover/department-profile-img.svg",name:null===u||void 0===u?void 0:u.dName,showBottomInfo:"".concat(null===u||void 0===u||null===(t=u.dHead)||void 0===t?void 0:t.staffFirstName," ").concat(null!==u&&void 0!==u&&null!==(n=u.dHead)&&void 0!==n&&n.staffMiddleName?null===u||void 0===u||null===(c=u.dHead)||void 0===c?void 0:c.staffMiddleName:""," ").concat(null===u||void 0===u||null===(l=u.dHead)||void 0===l?void 0:l.staffLastName),openType:{urlName:null===u||void 0===u?void 0:u.dName,openId:null===u||void 0===u?void 0:u._id,asOpen:"department"}})]})}},34156:(e,t,n)=>{n.d(t,{Z:()=>c});n(72791);var a=n(62926),o=n(43504),s=n(95048),r=n(98990),i=n(80184);const c=e=>{let{username:t,activeTab:n,imageShow:c,name:l,showBottomInfo:u,openType:d}=e;const h=(0,s.I0)(),v=()=>{"department"===(null===d||void 0===d?void 0:d.asOpen)&&h(r.S.addDepartmentId({did:null===d||void 0===d?void 0:d.openId}))};return(0,i.jsxs)("div",{className:a.Z.searchResult,children:[(0,i.jsx)(o.rU,{to:"department"===(null===d||void 0===d?void 0:d.asOpen)?"/q/".concat(null===d||void 0===d?void 0:d.urlName,"/viewdept"):"/q/".concat(t,"/").concat(n),state:{openType:d},onClick:v,children:(0,i.jsxs)("div",{className:a.Z.searchResultLeft,children:[(0,i.jsx)("img",{src:c,alt:"avatar icon"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h6",{children:l}),(0,i.jsx)("p",{children:u})]})]})}),(0,i.jsx)(o.rU,{to:"department"===(null===d||void 0===d?void 0:d.asOpen)?"/q/".concat(null===d||void 0===d?void 0:d.urlName,"/viewdept"):"/q/".concat(t,"/").concat(n),state:{openType:d},onClick:v,children:(0,i.jsx)("div",{className:a.Z.connectBtn,children:"View"})})]})}},8227:(e,t,n)=>{n.d(t,{Z:()=>y});var a=n(72791),o=n(95048),s=n(12923),r=n(16256),i=n(70092),c=n(98990),l=n(69721),u=n(43504),d=n(9447),h=n(62926),v=n(80184);const y=e=>{var t,n,y;let{institute:m,hideModal:p}=e;const f=(0,o.v9)((e=>e.idChange)),g=(0,o.v9)((e=>e.postChange.dashboardPosts)),_=(0,o.I0)(),[S]=(0,s.VN)(),[q]=(0,s.yx)(),{allDashPost:A,allDashPostRefetch:P}=(0,d.hZ)({data:{id:null===f||void 0===f?void 0:f.id,viewAs:r.UJ},skip:!1}),{instituteOwnFollowingList:x}=(0,s.d5)({page:1,id:null===m||void 0===m?void 0:m._id,limit:100}),{instituteFollowList:N,instituteFollowListRefetch:j}=(0,s.Tv)({list:{page:1,id:null===m||void 0===m?void 0:m._id,limit:100}});(0,a.useEffect)((()=>{null!==A&&void 0!==A&&A.post&&_(i.p.followPost({post:null===A||void 0===A?void 0:A.post,profilePost:"dash"}))}),[null===A||void 0===A?void 0:A.post]);return(0,v.jsxs)("div",{className:h.Z.searchResult,children:[(0,v.jsx)(u.rU,{to:"/q/".concat(null===m||void 0===m?void 0:m.name,"/profile"),onClick:()=>{_(c.S.searchId({id:null===m||void 0===m?void 0:m._id,type:"ID"})),p(!1)},children:(0,v.jsxs)("div",{className:h.Z.searchResultLeft,children:[(0,v.jsx)("img",{src:null!==m&&void 0!==m&&m.insProfilePhoto?"".concat(l.yI,"/").concat(null===m||void 0===m?void 0:m.insProfilePhoto):"/images/ins_default_profile.svg",alt:""}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h6",{children:null===m||void 0===m?void 0:m.insName}),(0,v.jsx)("p",{children:null===m||void 0===m?void 0:m.name})]})]})}),null!==x&&void 0!==x&&null!==(t=x.following)&&void 0!==t&&t.some((e=>e._id===(null===f||void 0===f?void 0:f.id)))?(0,v.jsx)("div",{className:h.Z.connectBtn,children:"Block"}):null!==m&&void 0!==m&&null!==(n=m.follower)&&void 0!==n&&n.includes(f.id)||null!==N&&void 0!==N&&null!==(y=N.iFollowers)&&void 0!==y&&y.some((e=>e._id===f.id))?(0,v.jsx)("div",{className:h.Z.connectBtn,onClick:()=>{const e=(e=>{const t=[];for(let n=0;n<(null===g||void 0===g?void 0:g.length);n++)g[n].author!==e&&t.push(g[n]);return t})(null===m||void 0===m?void 0:m._id);_(i.p.unfollowPost({posts:e})),q({followId:null===m||void 0===m?void 0:m._id}).then((e=>{e.data.message&&j()})).catch({})},children:"Unfollow"}):(0,v.jsx)("div",{className:h.Z.connectBtn,onClick:()=>{S({followId:null===m||void 0===m?void 0:m._id}).then((e=>{e.data.message&&(j(),P())})).catch({})},children:"Follow"})]})}},91078:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var a=n(72791),o=n(43504),s=n(39230),r=n(84489),i=n(3324),c=n(51615),l=n(95048),u=n(763),d=n(62926),h=n(12923),v=n(49352),y=n(80184);const m=e=>{var t;let{onCloseSearch:n,username:m}=e;const{t:p}=(0,s.$G)(),[f,g]=(0,a.useState)(""),_=(0,l.v9)((e=>e.idChange)),{instituteAllSearch:S,instituteAllSearchRefetch:q}=(0,h.NS)({skip:!f,search:{search:f,page:1,id:null===_||void 0===_?void 0:_.id,limit:6,filter:"all"}}),A=(0,a.useCallback)((0,u.debounce)((e=>g(e)),500),[]);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(r.Z,{onClose:n}),(0,y.jsxs)(c.Z,{children:[(0,y.jsx)(i.Z,{setSearchQuery:e=>{A(e)},username:m,searchQuery:f,onClose:n}),(0,y.jsx)("hr",{className:d.Z.search_hr}),(0,y.jsxs)("div",{className:d.Z.search_result_container,children:[(0,y.jsxs)("div",{className:d.Z.search_result_container_heading,children:[(0,y.jsx)("p",{children:p("search_result")}),(0,y.jsx)(o.rU,{to:"/q/".concat(m,"/search"),state:{search:f},onClick:n,children:(0,y.jsx)("p",{children:p("view_all")})})]}),null===S||void 0===S||null===(t=S.universalArray)||void 0===t?void 0:t.map((e=>(0,y.jsx)(v.Z,{mixin:e,onCloseSearch:n,username:m},null===e||void 0===e?void 0:e._id)))]})]})]})}},51615:(e,t,n)=>{n.d(t,{Z:()=>i});n(72791);var a=n(54164),o=n(51857),s=n(80184);const r=e=>{let{customStyle:t,children:n}=e;return(0,s.jsx)("div",{className:o.Z.search_card,style:{...t},children:n})},i=e=>{let{children:t,customStyle:n}=e;return(0,s.jsx)(s.Fragment,{children:a.createPortal((0,s.jsx)(r,{children:t,customStyle:n}),document.getElementById("overlay"))})}},3324:(e,t,n)=>{n.d(t,{Z:()=>i});n(72791);var a=n(51857),o=n(16871),s=n(39230),r=n(80184);const i=e=>{let{width:t,searchQuery:n,setSearchQuery:i,username:c,onClose:l}=e;const u=(0,o.s0)(),{t:d}=(0,s.$G)();return(0,r.jsxs)("div",{className:a.Z.search_container,style:{width:"".concat(t)},children:[(0,r.jsx)("img",{alt:"search icon for question",src:"/images/left-nav-icon.svg",onClick:l,className:a.Z.search_container_back}),(0,r.jsxs)("div",{className:a.Z.search_container_text,children:[(0,r.jsx)("img",{className:a.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,r.jsx)("input",{type:"text",placeholder:d("search-label"),onChange:e=>i(e.target.value),onKeyUp:e=>{"Enter"!==e.key&&13!==e.keyCode||(l(),u("/q/".concat(c,"/search"),{state:{search:n}}))},autoFocus:!0})]})]})}},84489:(e,t,n)=>{n.d(t,{Z:()=>s});n(72791);var a=n(51857),o=n(80184);const s=e=>{let{onClose:t,customStyleBackdrop:n}=e;return(0,o.jsx)("div",{className:a.Z.search_backdrop,style:{...n},onClick:t})}},94811:(e,t,n)=>{n.d(t,{Q0:()=>o,a4:()=>a,yY:()=>s});const a="POST",o="PATCH",s="DELETE"},91007:(e,t,n)=>{n.d(t,{KU:()=>de,cX:()=>ue,Lr:()=>ye,wB:()=>ie,cn:()=>le,pu:()=>V,QS:()=>$,W7:()=>z,dj:()=>X,$J:()=>Ne,Im:()=>he,W3:()=>H,Pm:()=>ke,Md:()=>B,No:()=>W,dv:()=>J,mC:()=>je,OU:()=>re,x6:()=>pe});var a=localStorage.getItem("user");const o=e=>e.mutation({query:e=>({url:"/landing/get-touch",method:"POST",body:e})}),s=e=>e.mutation({query:e=>({url:"/ins/deactivate/info/".concat(a),method:"POST",body:e})}),r=e=>e.query({query:e=>"/ins/".concat(e.id?e.id:a,"/approve-staff/list?page=").concat(e.page,"&limit=").concat(e.limit,"&date=").concat(e.date?e.date:"")}),i=e=>e.query({query:e=>"/ins/".concat(e||a,"/pending-staff/list")}),c=e=>e.query({query:e=>"/ins/staff/".concat(e)}),l=e=>e.query({query:e=>"/ins/".concat(e.id?e.id:a,"/approve-student/list?page=").concat(e.page,"&limit=").concat(e.limit)}),u=e=>e.query({query:e=>"/ins/student/".concat(e)}),d=e=>e.query({query:e=>"/ins/".concat(a,"/followers-array?page=").concat(e,"&limit=10")}),h=e=>e.query({query:e=>"/ins/".concat(null===e||void 0===e?void 0:e.id,"/announcemnt?page=").concat(null===e||void 0===e?void 0:e.page,"&limit=").concat(e.limit)}),v=e=>e.query({query:e=>"/ins/".concat(a,"/all/star-announcement?page=").concat(e,"&limit=10")}),y=e=>e.query({query:e=>"/ins/one/announcement/".concat(e)}),m=e=>e.query({query:e=>"/ins/".concat(a||e,"/dash")}),p=e=>e.query({query:e=>"/ins/".concat(e||a,"/display/person-array")}),f=e=>e.mutation({query:e=>({url:"/ins/".concat(a,"/display-person"),method:"POST",body:e})}),g=e=>e.mutation({query:e=>({url:"/ins/".concat(e.did,"/display-person/update"),method:"PATCH",body:e})}),_=e=>e.mutation({query:e=>({url:"/ins/".concat(a,"/display-person/").concat(e.did,"/delete/").concat(e.uid),method:"DELETE",body:e})}),S=e=>e.query({query:e=>"/ins/dashboard/".concat(a,"/notify?page=").concat(e,"&limit=10")}),q=e=>e.mutation({query:e=>({url:"/ins/".concat(e,"/star-announcement"),method:"POST"})}),A=e=>e.query({query:e=>({url:"/search/".concat(null!==e&&void 0!==e&&e.id?null===e||void 0===e?void 0:e.id:a,"/staff?search=").concat(e.search,"&page=").concat(e.page,"&limit=").concat(e.limit)})}),P=e=>e.query({query:e=>({url:"/search/".concat(a,"/student?search=").concat(e,"&page=",1,"&limit=",5)})}),x=e=>e.query({query:e=>({url:"/search/institute/".concat(a,"/allsearch?search=").concat(e,"&page=",1,"&limit=",5)})}),N=e=>e.mutation({query:e=>({url:"/ins/".concat(a,"/staff/approve/").concat(e.sid,"/user/").concat(e.uid),method:"POST",body:e})}),j=e=>e.mutation({query:e=>({url:"/ins".concat(a,"/staff/reject/").concat(e.sid,"/user/").concat(e.uid),method:"POST",body:e})}),k=e=>e.query({query:()=>({url:"/auth/login"})}),w=e=>e.mutation({query:e=>({url:"/ins/".concat(a,"/staff/code"),method:"POST",body:e})}),R=e=>e.query({query:()=>({url:"/ins/".concat(a,"/staff-code")})}),I=e=>e.query({query:()=>"/all/user/list/data/"}),O=e=>e.query({query:e=>"/user/".concat(e,"/profile")}),U=e=>e.query({query:e=>"/user/profile/".concat(e)}),Z=e=>e.query({query:e=>"/user/".concat(null===e||void 0===e?void 0:e.id,"/ins-announcement?page=").concat(null===e||void 0===e?void 0:e.page,"&limit=").concat(null===e||void 0===e?void 0:e.limit)}),C=e=>e.query({query:e=>"/user/".concat(a||e,"/dash/query")}),Q=e=>e.query({query:e=>"/user/dashboard/".concat(a,"/notify?page=").concat(e,"&limit=10")}),b=e=>e.mutation({query:e=>({url:"/user/".concat(a,"/recovery-mail"),method:"POST",body:e})}),T=e=>e.mutation({query:e=>({url:"/user/phone/info/".concat(a),method:"POST",body:e})}),M=e=>e.mutation({query:e=>({url:"/extra/age/".concat(a),method:"PATCH"})}),L=e=>e.query({query:e=>({url:"/extra/age/".concat(a,"/get"),method:"GET"})}),G=e=>e.query({query:e=>"/fees/student/".concat(e)}),F=e=>e.query({query:()=>"/extra/random/query"}),D=e=>e.mutation({query:e=>({url:"/ins/destroy/announcement/".concat(null===e||void 0===e?void 0:e.annId),method:"DELETE"})});const E=n(85064).K.injectEndpoints({endpoints:e=>({postGetInTouch:o(e),postUserRecoveryMail:b(e),postUserRecoveryPhoneNumber:T(e),postDeactivateAccount:s(e),getOneUserProfile:O(e),getOneUserProfileUsername:U(e),staffApproveArray:r(e),staffPendingArray:i(e),getOneStaffProfile:c(e),studentApproveArray:l(e),getOneStudentProfile:u(e),getInsFollowersArray:d(e),getAnnouncementArray:h(e),getUserAnnouncementArray:Z(e),getStarAnnouncementArray:v(e),getOneAnnouncement:y(e),getSingleInsData:m(e),getSingleUserData:C(e),getDisplayPerson:p(e),addDisplayPerson:f(e),editDisplayPerson:g(e),deleteDisplayPerson:_(e),getAllNotifications:S(e),getAllUserNotifications:Q(e),markStarAnnouncement:q(e),staffSearch:A(e),studentSearch:P(e),universalSearch:x(e),markAsApprove:N(e),markAsReject:j(e),checkLoginUser:k(e),randomCode:w(e),instituteStaffCode:R(e),getAllUserArray:I(e),patchUserRestrictAge:M(e),getUsserAgeRestriction:L(e),getStudentFeesArray:G(e),randomIns:F(e),instituteRemoveAnnouncement:D(e)})}),{usePatchUserRestrictAgeMutation:B,useGetUsserAgeRestrictionQuery:H,usePostGetInTouchMutation:K,usePostUserRecoveryMailMutation:W,usePostUserRecoveryPhoneNumberMutation:J,useGetOneUserProfileQuery:V,useGetOneUserProfileUsernameQuery:$,useGetSingleInsDataQuery:z,useGetSingleUserDataQuery:X,useGetDisplayPersonQuery:Y,useEditDisplayPersonMutation:ee,useAddDisplayPersonMutation:te,useDeleteDisplayPersonMutation:ne,useGetAllNotificationsQuery:ae,useGetAllUserNotificationsQuery:oe,useStaffPendingArrayQuery:se,useStaffApproveArrayQuery:re,useGetOneStaffProfileQuery:ie,useStudentApproveArrayQuery:ce,useGetOneStudentProfileQuery:le,useGetInsFollowersArrayQuery:ue,useGetAnnouncementArrayQuery:de,useGetUserAnnouncementArrayQuery:he,useGetStarAnnouncementArrayQuery:ve,useGetOneAnnouncementQuery:ye,useMarkStarAnnouncementMutation:me,useStaffSearchQuery:pe,useStudentSearchQuery:fe,useUniversalSearchQuery:ge,useMarkAsApproveMutation:_e,useMarkAsRejectMutation:Se,useCheckLoginUserQuery:qe,useRandomCodeMutation:Ae,useInstituteStaffCodeQuery:Pe,useGetAllUserArrayQuery:xe,useGetStudentFeesArrayQuery:Ne,useRandomInsQuery:je,useInstituteRemoveAnnouncementMutation:ke}=E},51857:(e,t,n)=>{n.d(t,{Z:()=>a});const a={search_backdrop:"SearchHeader_search_backdrop__MsKpG",search_card:"SearchHeader_search_card__-jNcg",search_container:"SearchHeader_search_container__NS7Om",search_container_text:"SearchHeader_search_container_text__bkolR",searchIcon:"SearchHeader_searchIcon__J7cNp",search_container_back:"SearchHeader_search_container_back__ZoXdV"}},62926:(e,t,n)=>{n.d(t,{Z:()=>a});const a={search_hr:"SearchStyle_search_hr__IuBiN",search_result_container:"SearchStyle_search_result_container__ZKsy6",search_result_container_heading:"SearchStyle_search_result_container_heading__EbGzG",searchResult:"SearchStyle_searchResult__wSSyA",searchResultLeft:"SearchStyle_searchResultLeft__+W4R0",connectBtn:"SearchStyle_connectBtn__VQuDg"}}}]);
//# sourceMappingURL=70981.b0c4cd1b.chunk.js.map