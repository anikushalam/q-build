"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[30046],{38986:(e,n,a)=>{a.d(n,{Z:()=>c});var l=a(72791),i=a(52245),o=a(39230),t=a(1095),d=a(80184);const c=e=>{let{label:n,name:a,value:c,onChange:s,errorShow:r,disabled:_,customFormFileContainer:u,customFormFileLabel:m,customFormFile:v,type:p,multiple:b}=e;const{t:f}=(0,o.$G)(),h=(0,l.useCallback)((()=>{const e=window.open("".concat(t.yI,"/").concat(null===c||void 0===c?void 0:c.key),"_blank","noopener,noreferrer");e&&(e.opener=null)}),[null===c||void 0===c?void 0:c.key]);return(0,d.jsxs)("div",{className:i.Z.form_input_container,style:{...u},children:[n&&(0,d.jsxs)("label",{className:i.Z.form_input_label,style:m,children:[n,r?(0,d.jsxs)("span",{className:i.Z.form_input_label_error,children:["* ",f("form_require_label")]}):null]}),(0,d.jsxs)("div",{className:i.Z.form_file_container,style:v,children:[(0,d.jsx)("label",{className:c?"".concat(i.Z.form_file_choose," ").concat(i.Z.form_file_choose_active):i.Z.form_file_choose,htmlFor:a,children:f(""!==c?"file_choosen":"choose_file")}),(0,d.jsx)("label",{className:i.Z.form_file_choosen,onClick:h,children:""!==c?null!==c&&void 0!==c&&c.name?null===c||void 0===c?void 0:c.name:f("view"):f("no_file_chosen")})]}),(0,d.jsx)("input",{type:"file",multiple:!!b,accept:p||"image/*, .doc,.docx, application/pdf,.csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",name:a,id:a,style:{display:"none"},onChange:s,disabled:_})]})}},31897:(e,n,a)=>{a.d(n,{Z:()=>c});var l=a(72791),i=a(39230),o=a(52245),t=a(98684),d=a(80184);const c=e=>{let{selectLabel:n,onClick:a,selectedValue:c,options:s,customStyleContainer:r,customLabelStyle:_,customListStyle:u,errorShow:m,defalutValue:v,viewAs:p,isFull:b,isDenied:f}=e;const{t:h}=(0,i.$G)(),[k,x]=(0,l.useState)(!1),[j,y]=(0,l.useState)(""),g=()=>{f||x((e=>!e))};(0,l.useEffect)((()=>{"NORMAL_FILTER"===p&&y(v)}),[p,v]),(0,l.useEffect)((()=>{if("CUSTOM_FILTER"===p){let l="";for(let i of s)for(let o of v)if((null===i||void 0===i?void 0:i._id)===o){var e,n,a;let o=null!==(e=null!==(n=null!==(a=null===i||void 0===i?void 0:i.dName)&&void 0!==a?a:null===i||void 0===i?void 0:i.batchName)&&void 0!==n?n:null===i||void 0===i?void 0:i.className)&&void 0!==e?e:"";l=l?l+", "+o:o}y(l)}}),[p,v,s]);return(0,d.jsxs)("div",{className:o.Z.form_input_container,style:{...r},children:[(0,d.jsxs)("p",{className:o.Z.join_form_select_paragraph,style:{..._},children:[n,m&&(0,d.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",h("form_require_label")]})]}),(0,d.jsxs)("section",{className:o.Z.join_form_select_custom,onClick:g,children:[j?(0,d.jsx)("p",{className:o.Z.join_form_select_custom_paragraph,children:null!==j&&void 0!==j?j:""}):(0,d.jsx)("p",{className:o.Z.join_form_select_custom_paragraph,children:c}),k?(0,d.jsx)("img",{className:o.Z.join_form_select_custom_rotate_icon,src:"".concat(t.J7,"/down.svg"),alt:"categor icon"}):(0,d.jsx)("img",{className:o.Z.join_form_select_custom_icon,src:"".concat(t.J7,"/down.svg"),alt:"categor icon"})]}),k&&(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("section",{className:o.Z.join_form_select_custom_list,style:u,children:null===s||void 0===s?void 0:s.map(((e,n)=>{var l;return(0,d.jsx)("p",{onClick:()=>(e=>{var n;a(b?e:null===e||void 0===e?void 0:e._id),g(),y(null!==(n=null===e||void 0===e?void 0:e.dName)&&void 0!==n?n:e)})(e),className:o.Z.join_form_select_custom_paragraph_option,children:null!==(l=null===e||void 0===e?void 0:e.dName)&&void 0!==l?l:e},n)}))})})]})}},30046:(e,n,a)=>{a.r(n),a.d(n,{default:()=>xe});var l=a(56959),i=a(39230),o=a(72791);const t="BankDetail_bank_detail_card__XlDeo",d="BankDetail_bank_detail_card_heading__mL+og",c="BankDetail_bank_detail_card_inner__WTrMU",s="BankDetail_bank_detail_applicable__o9ybT",r="BankDetail_bank_detail_card_upi__B4gIC",_="BankDetail_bank_detail_card_qr__1sjcI",u="BankDetail_bank_detail_list__pwEqa",m="BankDetail_applicable_btn_container__eJ1fc",v="BankDetail_applicable_btn__T+Xhu",p="BankDetail_applicable_text__-94Qt",b="BankDetail_applicable_text_error__N2w5n",f="BankDetail_bank_fund_container__7nWd7",h="BankDetail_bank_fund__mShX7",k="BankDetail_bank_details__-SkE-",x="BankDetail_bank_upi__a1q+v",j="BankDetail_bank_qr_code__PmB1G",y="BankDetail_bank_qr_code_text__R7pza",g="BankDetail_modal_container__lWae0";var Z=a(6758),w=a(8959),I=a(1095),N=a(98684),S=a(80184);let F={fontWeight:"400"};const C=e=>{var n,a,l,o,u,m,v,p,b,f;let{bank:h}=e;const{t:k}=(0,i.$G)();return(0,S.jsxs)("div",{className:t,children:[(0,S.jsxs)("div",{className:d,children:[(0,S.jsx)("img",{src:"".concat(N.J7,"/bank-card.svg"),alt:"bank icon"}),(0,S.jsxs)("div",{className:c,children:[(0,S.jsx)("h6",{children:null!==(n=null===h||void 0===h?void 0:h.finance_bank_name)&&void 0!==n?n:""}),(0,S.jsx)("p",{children:null!==h&&void 0!==h&&null!==(a=h.department)&&void 0!==a&&a.dName?null===h||void 0===h||null===(l=h.department)||void 0===l?void 0:l.dName:null!==h&&void 0!==h&&h.hostel?"Hostel":null!==h&&void 0!==h&&h.library?"Library":null!==h&&void 0!==h&&h.transport?"Transport":(null===h||void 0===h||null===(o=h.departments)||void 0===o?void 0:o.length)>0?null===h||void 0===h||null===(u=h.departments)||void 0===u?void 0:u.map(((e,n)=>{var a,l;return(0,S.jsxs)("span",{children:[null!==(a=null===e||void 0===e?void 0:e.dName)&&void 0!==a?a:"",n+1===(null===h||void 0===h||null===(l=h.departments)||void 0===l?void 0:l.length)?"":", "]},null===e||void 0===e?void 0:e._id)})):"Society"===(null===h||void 0===h?void 0:h.bank_account_type)?"Society":""})]})]}),(0,S.jsxs)("section",{className:s,children:[(0,S.jsxs)("h6",{children:[k("applicable_for")," "," : "," "]}),(0,S.jsx)(w.Z,{label:null!==h&&void 0!==h&&null!==(m=h.department)&&void 0!==m&&m.dName?null===h||void 0===h||null===(v=h.department)||void 0===v?void 0:v.dName:null!==h&&void 0!==h&&h.hostel?"Hostel":null!==h&&void 0!==h&&h.library?"Library":null!==h&&void 0!==h&&h.transport?"Transport":(null===h||void 0===h||null===(p=h.departments)||void 0===p?void 0:p.length)>0?null===h||void 0===h||null===(b=h.departments)||void 0===b?void 0:b.map(((e,n)=>{var a,l;return(0,S.jsxs)("span",{children:[null!==(a=null===e||void 0===e?void 0:e.dName)&&void 0!==a?a:"",n+1===(null===h||void 0===h||null===(l=h.departments)||void 0===l?void 0:l.length)?"":", "]},null===e||void 0===e?void 0:e._id)})):"Society"===(null===h||void 0===h?void 0:h.bank_account_type)?"Society":"",customFormInputLabel:F})]}),(0,S.jsxs)("section",{className:s,children:[(0,S.jsx)("h6",{children:k("bank_details")}),(0,S.jsx)(w.Z,{label:"".concat(k("bank_name")," :"),value:null===h||void 0===h?void 0:h.finance_bank_name,customFormInput:F}),(0,S.jsx)(w.Z,{label:"".concat(k("account_name")," :"),value:null===h||void 0===h?void 0:h.finance_bank_account_name,customFormInput:F}),(0,S.jsx)(w.Z,{label:"".concat(k("account_number")," :"),value:null===h||void 0===h?void 0:h.finance_bank_account_number,customFormInput:F}),(0,S.jsx)(w.Z,{label:"".concat(k("ifsc_code")," :"),value:null===h||void 0===h?void 0:h.finance_bank_ifsc_code,customFormInput:F}),(0,S.jsx)(w.Z,{label:"".concat(k("address")," :"),value:null===h||void 0===h?void 0:h.finance_bank_branch_address,customFormInput:F})]}),(0,S.jsx)(w.Z,{label:"".concat(k("upi_id")," :"),value:null===h||void 0===h?void 0:h.finance_bank_upi_id,customFormInput:F}),(0,S.jsxs)("section",{className:r,style:{width:"100%",alignItems:"flex-start"},children:[(0,S.jsxs)("div",{className:_,children:[(0,S.jsxs)("h6",{children:[k("qr_code"),":"]}),(0,S.jsx)("p",{children:null!==(f=null===h||void 0===h?void 0:h.finance_bank_upi_id)&&void 0!==f?f:""})]}),null!==h&&void 0!==h&&h.finance_bank_upi_qrcode?(0,S.jsx)("img",{src:"".concat(I.yI,"/").concat(null===h||void 0===h?void 0:h.finance_bank_upi_qrcode),alt:"qr code"}):""]})]})};var B=a(16871),D=a(43677),L=a(1669),T=a(23441),q=a(91427),A=a(57588),E=a(55336),G=a(2651);const $=e=>{var n,a,l;let{fid:i}=e;const t=(0,B.TH)(),[d,c]=(0,o.useState)(""),[s,r]=(0,o.useState)(1),[_,m]=(0,o.useState)(!0),[v,p]=(0,T.YD)({skip:d}),{financeAllBank:b,financeAllBankLoading:f}=(0,Z.iB)({data:{fid:i,page:s,limit:10,search:d},skip:!i});(0,o.useEffect)((()=>{p&&_&&r((e=>e+1))}),[p,_]),(0,o.useEffect)((()=>{if(null!==b&&void 0!==b&&b.list){var e;let n=(0,q.f)(null===b||void 0===b||null===(e=b.list)||void 0===e?void 0:e.length);m((()=>n))}}),[null===b||void 0===b?void 0:b.list]);(0,o.useCallback)((0,A.J)((e=>{r((()=>1)),c(e)}),1500),[]);return(0,S.jsxs)("div",{className:u,children:[null===b||void 0===b||null===(n=b.list)||void 0===n?void 0:n.map(((e,n)=>{var a;return(null===b||void 0===b||null===(a=b.list)||void 0===a?void 0:a.length)===n+1?(0,S.jsx)("div",{ref:v,style:{width:"49%"},children:(0,S.jsx)(D.Z,{parentState:{...t.state,bankId:null===e||void 0===e?void 0:e._id},activeUrl:"type=bank&n=detail",children:(0,S.jsx)(C,{bank:e})})},null===e||void 0===e?void 0:e._id):(0,S.jsx)("div",{style:{width:"49%"},children:(0,S.jsx)(D.Z,{parentState:{...t.state,bankId:null===e||void 0===e?void 0:e._id},activeUrl:"type=bank&n=detail",children:(0,S.jsx)(C,{bank:e})})},null===e||void 0===e?void 0:e._id)})),f?d?(0,S.jsx)(E.Z,{}):(0,S.jsx)(L.Z,{}):d?0===(null===b||void 0===b||null===(a=b.list)||void 0===a?void 0:a.length)&&(0,S.jsx)(G.Z,{title:"No bank found related this search."}):0===(null===b||void 0===b||null===(l=b.list)||void 0===l?void 0:l.length)&&(0,S.jsx)(G.Z,{title:"No banks added."})]})},J=(0,o.memo)($);var R=a(48293),O=a(21348),H=a(31897);const M=e=>{var n,a;let{fid:l,onToggle:t,libraryId:d,transportId:c,hostelId:s,setApplicablFor:r}=e;const{t:_}=(0,i.$G)(),[u,m]=(0,o.useState)({flow:"",flow_id:"",flow_name:"",depart_arr:[]}),{instituteAllDepartment:p}=(0,Z.Jv)({fid:l,skip:!l});return(0,S.jsx)(R.Z,{onClose:t,children:(0,S.jsx)("div",{className:g,children:(0,S.jsxs)(O.Z,{customStyle:{paddingBottom:"1rem"},children:[(0,S.jsx)(H.Z,{selectLabel:_("applicable_for"),selectedValue:_("applicable_for_placeholder"),options:["Internal Department","Society","Transport","Library","Hostel"],onClick:e=>{"Hostel"===e?m({flow:"Hostel",flow_id:s,flow_name:"Hostel",depart_arr:[]}):"Transport"===e?m({flow:"Transport",flow_id:c,flow_name:"Transport",depart_arr:[]}):"Library"===e?m({flow:"Library",flow_id:d,flow_name:"Library",depart_arr:[]}):"Society"===e?m({flow:"Society",flow_id:null,flow_name:"Society",depart_arr:[]}):"Internal Department"===e&&m({flow:"Department",flow_id:"",flow_name:"",depart_arr:[]})},isFull:!0}),"Department"===u.flow&&(0,S.jsx)(H.Z,{selectLabel:_("select_internal_department"),selectedValue:_("select_internal_department_placeholder"),options:null!==p&&void 0!==p?p:[],onClick:e=>{m((n=>({...n,flow_id:null===e||void 0===e?void 0:e._id,flow_name:null===e||void 0===e?void 0:e.dName,depart_arr:[...new Set([...n.depart_arr,null===e||void 0===e?void 0:e._id])]})))},isFull:!0,viewAs:"NORMAL_FILTER",defalutValue:(null===(n=u.depart_arr)||void 0===n?void 0:n.length)>1?"".concat(null===(a=u.depart_arr)||void 0===a?void 0:a.length," department selected"):u.flow_name}),(0,S.jsx)("button",{className:v,onClick:()=>{r(u),t()},style:{width:"100%",justifyContent:"center"},children:(0,S.jsx)("div",{children:_("select")})})]})})})},V=e=>{var n,a;let{errorField:l,applicableFor:t,libraryId:d,transportId:c,hostelId:s,setApplicablFor:r,fid:_}=e;const{t:u}=(0,i.$G)(),[f,h]=(0,o.useState)(!1),k=(0,o.useCallback)((()=>{h((e=>!e))}),[]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:m,style:{marginTop:"1rem"},children:[(0,S.jsxs)("button",{className:v,onClick:k,style:{marginTop:"0"},children:[(0,S.jsx)("div",{children:u("account_applicable_for")}),(0,S.jsx)("img",{src:"".concat(N.J7,"/forward.svg"),alt:"next step"})]}),(null===t||void 0===t?void 0:t.flow_name)&&(0,S.jsx)("h6",{className:p,children:(null===t||void 0===t||null===(n=t.depart_arr)||void 0===n?void 0:n.length)>1?"".concat(null===t||void 0===t||null===(a=t.depart_arr)||void 0===a?void 0:a.length," department selected"):null===t||void 0===t?void 0:t.flow_name})]}),l.flow_id&&(0,S.jsxs)("p",{className:b,children:["* ",u("form_require_label")]}),f&&(0,S.jsx)(M,{fid:_,onToggle:k,libraryId:d,transportId:c,hostelId:s,setApplicablFor:r})]})},W=(0,o.memo)(V);var U=a(21625),z=a(90904),K=a(61055),X=a(38986),P=a(93638);const Y=e=>{let{onClose:n,fid:a,libraryId:t,transportId:d,hostelId:c,openAs:s,onEditAction:r,openBankMenu:_}=e;const{t:u}=(0,i.$G)(),[m]=(0,U.FL)(),[v]=(0,Z.WJ)(),[p,b]=(0,o.useState)(!1),[f,h]=(0,o.useState)(""),[k,x]=(0,o.useState)({finance_bank_name:"",finance_bank_account_number:"",finance_bank_account_name:"",finance_bank_ifsc_code:"",finance_bank_branch_address:"",finance_bank_upi_id:"",finance_bank_upi_qrcode:"",finance_bank_re_account_number:"",finance_bank_re_upi_id:""}),[j,y]=(0,o.useState)({flow:"",flow_id:"",flow_name:"",depart_arr:[]}),[g,w]=(0,o.useState)("");(0,o.useEffect)((()=>{var e,n,a,l,i,o,t,d,c;"EDIT"===s&&x({finance_bank_name:null!==(e=null===_||void 0===_?void 0:_.finance_bank_name)&&void 0!==e?e:"",finance_bank_account_number:null!==(n=null===_||void 0===_?void 0:_.finance_bank_account_number)&&void 0!==n?n:"",finance_bank_account_name:null!==(a=null===_||void 0===_?void 0:_.finance_bank_account_name)&&void 0!==a?a:"",finance_bank_ifsc_code:null!==(l=null===_||void 0===_?void 0:_.finance_bank_ifsc_code)&&void 0!==l?l:"",finance_bank_branch_address:null!==(i=null===_||void 0===_?void 0:_.finance_bank_branch_address)&&void 0!==i?i:"",finance_bank_upi_id:null!==(o=null===_||void 0===_?void 0:_.finance_bank_upi_id)&&void 0!==o?o:"",finance_bank_upi_qrcode:null!==(t=null===_||void 0===_?void 0:_.finance_bank_upi_qrcode)&&void 0!==t?t:"",finance_bank_re_account_number:null!==(d=null===_||void 0===_?void 0:_.finance_bank_account_number)&&void 0!==d?d:"",finance_bank_re_upi_id:null!==(c=null===_||void 0===_?void 0:_.finance_bank_upi_id)&&void 0!==c?c:""})}),[s]);const I=e=>{x((n=>({...n,[e.target.name]:e.target.value})))},F=(0,o.useCallback)((e=>{b((e=>!e));const n=new FormData;w(e.target.files[0]),n.append("file",e.target.files[0]),m({fileUpload:n}).then((e=>{b((e=>!e)),x((n=>{var a;return{...n,finance_bank_upi_qrcode:null===(a=e.data)||void 0===a?void 0:a.imageKey}}))})).catch((()=>{b((e=>!e))}))}),[]),C=(0,o.useCallback)((()=>{if("EDIT"===s){const e=ee(k);let n=!1;for(let a in e){n=!0;break}n?h(e):r(k)}else{const e=Q(k,j);let l=!1;for(let n in e){l=!0;break}l?h(e):(b((e=>!e)),v({fid:a,...j,bankDetails:{...k,depart_arr:j.depart_arr}}).then((()=>{n(),b((e=>!e))})).catch((()=>{b((e=>!e))})))}}),[k]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(O.Z,{children:(0,S.jsxs)("div",{className:l.Z.fm_header_start_container,children:[(0,S.jsx)("img",{src:"".concat(N.J7,"/back-arrow.svg"),alt:"back arrow",title:"Add Bank",onClick:n}),(0,S.jsxs)("h6",{children:[" ",u("EDIT"===s?"update_bank_details":"add_bank_details")]})]})}),(0,S.jsx)(z.Z,{}),(0,S.jsxs)(O.Z,{customStyle:{paddingTop:"0"},children:["EDIT"===s?null:(0,S.jsx)(W,{applicableFor:j,errorField:f,fid:a,libraryId:t,transportId:d,hostelId:c,setApplicablFor:y}),(0,S.jsx)(K.Z,{label:u("bank_name"),placeholder:u("bank_name_placeholder"),name:"finance_bank_name",value:k.finance_bank_name,type:"text",onChange:I,errorShow:f.finance_bank_name}),(0,S.jsx)(K.Z,{label:u("account_name"),placeholder:u("account_name_placeholder"),name:"finance_bank_account_name",value:k.finance_bank_account_name,type:"text",onChange:I,errorShow:f.finance_bank_account_name}),(0,S.jsx)(K.Z,{label:u("account_number"),placeholder:u("account_number_placeholder"),name:"finance_bank_account_number",value:k.finance_bank_account_number,type:"tel",onChange:I,errorShow:f.finance_bank_name}),(0,S.jsx)(K.Z,{label:u("confirm_account_number"),placeholder:u("confirm_account_number_placeholder"),name:"finance_bank_re_account_number",value:k.finance_bank_re_account_number,type:"tel",onChange:I,errorShow:f.finance_bank_re_account_number,msg:f.finance_bank_re_account_number}),(0,S.jsx)(K.Z,{label:u("ifsc_code"),placeholder:u("ifsc_code_placeholder"),name:"finance_bank_ifsc_code",value:k.finance_bank_ifsc_code,type:"text",onChange:I,errorShow:f.finance_bank_ifsc_code}),(0,S.jsx)(K.Z,{label:u("address_of_bank"),placeholder:u("address_of_bank_placeholder"),name:"finance_bank_branch_address",value:k.finance_bank_branch_address,type:"text",onChange:I,errorShow:f.finance_bank_branch_address}),(0,S.jsx)(K.Z,{label:u("upi_id"),placeholder:u("upi_id_placeholder"),name:"finance_bank_upi_id",value:k.finance_bank_upi_id,type:"text",onChange:I,errorShow:f.finance_bank_upi_id}),(0,S.jsx)(K.Z,{label:u("confirm_upi_id"),placeholder:u("finance_bank_re_upi_id"),name:"finance_bank_re_upi_id",value:k.finance_bank_re_upi_id,type:"text",onChange:I,errorShow:f.finance_bank_re_upi_id,msg:f.finance_bank_re_upi_id}),(0,S.jsx)(X.Z,{label:u("qr_code_above_upi"),name:"finance_bank_upi_qrcode",value:null!==g&&void 0!==g&&g.name?{name:null===g||void 0===g?void 0:g.name}:"",onChange:F,errorShow:f.finance_bank_upi_qrcode}),(0,S.jsx)(P.Z,{label:"save",onAction:C})]}),p&&(0,S.jsx)(E.Z,{})]})},Q=(e,n)=>{const a={};for(let l in e)"finance_bank_account_number"===l&&e.finance_bank_account_number!==e.finance_bank_re_account_number?a.finance_bank_re_account_number="form_account_dose_not_match_label":"finance_bank_upi_id"===l&&e.finance_bank_upi_id!==e.finance_bank_re_upi_id?a.finance_bank_re_upi_id="upi_id_dose_not_match_label":"finance_bank_upi_id"===l||"finance_bank_upi_qrcode"===l||"finance_bank_re_upi_id"===l||e[l]||(a[l]="* required");return null!==n&&void 0!==n&&n.flow_id||"Society"===(null===n||void 0===n?void 0:n.flow_name)||(a.flow_id="flow_id is required"),a},ee=e=>{const n={};for(let a in e)"finance_bank_account_number"===a&&e.finance_bank_account_number!==e.finance_bank_re_account_number?n.finance_bank_re_account_number="form_account_dose_not_match_label":"finance_bank_upi_id"===a&&e.finance_bank_upi_id!==e.finance_bank_re_upi_id?n.finance_bank_re_upi_id="upi_id_dose_not_match_label":"finance_bank_upi_id"===a||"finance_bank_upi_qrcode"===a||"finance_bank_re_upi_id"===a||e[a]||(n[a]="* required");return n};var ne=a(43504);const ae=e=>{let{totalRepay:n,collectOnline:a,dueRepay:l}=e;const{t:o}=(0,i.$G)();return(0,S.jsxs)("div",{className:f,children:[(0,S.jsxs)("div",{className:h,children:[(0,S.jsx)("h6",{children:o("total_due")}),(0,S.jsxs)("h5",{children:[o("rs_only")," ",null!==n&&void 0!==n?n:0]})]}),(0,S.jsxs)("div",{className:h,children:[(0,S.jsx)("h6",{children:o("online_fees")}),(0,S.jsxs)("h5",{children:[o("rs_only")," ",null!==a&&void 0!==a?a:0]})]}),(0,S.jsxs)("div",{className:h,children:[(0,S.jsx)("h6",{children:o("repayment_due")}),(0,S.jsxs)("h5",{children:[o("rs_only")," ",null!==l&&void 0!==l?l:0]})]})]})},le={fontWeight:"400",fontSize:"12px"},ie=e=>{var n,a,l,o,t;let{oneBank:d}=e;const{t:c}=(0,i.$G)();return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("section",{className:k,children:[(0,S.jsxs)("h6",{children:[c("applicable_for")," "," : "," "]}),(0,S.jsx)(w.Z,{label:"",value:null!==d&&void 0!==d&&null!==(n=d.department)&&void 0!==n&&n.dName?null===d||void 0===d||null===(a=d.department)||void 0===a?void 0:a.dName:null!==d&&void 0!==d&&d.hostel?"Hostel":null!==d&&void 0!==d&&d.library?"Library":null!==d&&void 0!==d&&d.transport?"Transport":(null===d||void 0===d||null===(l=d.departments)||void 0===l?void 0:l.length)>0?null===d||void 0===d||null===(o=d.departments)||void 0===o?void 0:o.map(((e,n)=>{var a,l;return(0,S.jsxs)("span",{children:[null!==(a=null===e||void 0===e?void 0:e.dName)&&void 0!==a?a:"",n+1===(null===d||void 0===d||null===(l=d.departments)||void 0===l?void 0:l.length)?"":", "]},null===e||void 0===e?void 0:e._id)})):"",customFormInput:le,customFormInputLabel:{...le,marginLeft:"-0.8rem"}})]}),(0,S.jsxs)("section",{className:k,children:[(0,S.jsx)("h6",{children:c("bank_details")}),(0,S.jsx)(w.Z,{label:"".concat(c("bank_name")," :"),value:null===d||void 0===d?void 0:d.finance_bank_name,customFormInput:le,customFormInputLabel:le}),(0,S.jsx)(w.Z,{label:"".concat(c("account_name")," :"),value:null===d||void 0===d?void 0:d.finance_bank_account_name,customFormInput:le,customFormInputLabel:le}),(0,S.jsx)(w.Z,{label:"".concat(c("account_number")," :"),value:null===d||void 0===d?void 0:d.finance_bank_account_number,customFormInput:le,customFormInputLabel:le}),(0,S.jsx)(w.Z,{label:"".concat(c("ifsc_code")," :"),value:null===d||void 0===d?void 0:d.finance_bank_ifsc_code,customFormInput:le,customFormInputLabel:le}),(0,S.jsx)(w.Z,{label:"".concat(c("address")," :"),value:null===d||void 0===d?void 0:d.finance_bank_branch_address,customFormInput:le,customFormInputLabel:le})]}),(0,S.jsx)("section",{className:x,children:(0,S.jsx)(w.Z,{label:"".concat(c("upi_id")," :"),value:null===d||void 0===d?void 0:d.finance_bank_upi_id,customFormInput:le,customFormInputLabel:le})}),(0,S.jsxs)("section",{className:j,children:[(0,S.jsxs)("div",{className:y,children:[(0,S.jsxs)("h6",{children:[c("qr_code"),":"]}),(0,S.jsx)("p",{children:null!==(t=null===d||void 0===d?void 0:d.finance_bank_upi_id)&&void 0!==t?t:""})]}),null!==d&&void 0!==d&&d.finance_bank_upi_qrcode?(0,S.jsx)("img",{src:"".concat(I.yI,"/").concat(null===d||void 0===d?void 0:d.finance_bank_upi_qrcode),alt:"qr code"}):""]})]})};var oe=a(89064);const te=e=>{let{onToggle:n,setBankEdit:a,openBankMenu:l}=e;const{t:t}=(0,i.$G)(),d=(0,B.s0)(),[c,s]=(0,o.useState)(!1),[r,_]=(0,o.useState)(!1),[u]=(0,Z.D4)(),[m]=(0,Z.R9)(),v=()=>{a((e=>!e)),_((e=>!e))};return r?(0,S.jsx)(Y,{onClose:v,openAs:"EDIT",onEditAction:e=>{null!==l&&void 0!==l&&l._id&&(s((e=>!e)),_(!1),m({bid:null===l||void 0===l?void 0:l._id,bankDetails:e}).then((()=>{s((e=>!e)),n(),a((e=>!e))})).catch({}))},openBankMenu:l}):(0,S.jsxs)(oe.Z,{onClose:n,disabled:c,children:[(0,S.jsx)("h6",{onClick:v,children:t("edit")}),(0,S.jsx)("h6",{onClick:()=>{null!==l&&void 0!==l&&l._id&&(s((e=>!e)),u(null===l||void 0===l?void 0:l._id).then((()=>{n(),s((e=>!e)),d(-1)})).catch({}))},children:t("delete")})]})};var de=a(63162),ce=a(98967),se=a(16925),re=a(60924),_e=a(19056),ue=a(43997),me=a(99183);const ve=e=>{let{onClose:n,bankId:l,fid:t}=e;const{t:d}=(0,i.$G)(),[c,s]=(0,o.useState)({from:"",to:"",payment_type:""}),[r,_]=(0,o.useState)(!1),[u,m]=(0,o.useState)(""),[v]=(0,Z._t)(),p=(e,n)=>{s((a=>({...a,[n]:(0,ue.O_)(e)})))};return(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(R.Z,{onClose:n,children:(0,S.jsxs)("div",{className:se.Z.modal_container,children:[(0,S.jsx)(O.Z,{children:(0,S.jsxs)("div",{className:se.Z.modal_container_outer_header,children:[(0,S.jsx)("div",{className:se.Z.modal_container_header,children:(0,S.jsx)("h6",{children:d("filter_daybook")})}),(0,S.jsx)("img",{src:"".concat(N.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,S.jsx)(z.Z,{}),(0,S.jsxs)(O.Z,{customStyle:{paddingTop:"0"},children:[(0,S.jsx)(re.Z,{label:d("from"),placeholder:d("please_select_from_date"),name:"from",value:c.from?(0,ue.jh)(c.from):"",onChange:e=>p(e,"from"),errorShow:u.from}),(0,S.jsx)(re.Z,{label:d("to_only"),placeholder:d("please_select_to_date"),name:"to",value:c.to?(0,ue.jh)(c.to):"",onChange:e=>p(e,"to"),errorShow:u.to}),(0,S.jsx)(_e.Z,{selectLabel:d("payment_type"),selectedValue:d("please_select_payment_type"),options:["Payment Gateway / Online","By Cash"],onClick:e=>{s((n=>({...n,payment_type:e})))},defalutValue:c.payment_type}),(0,S.jsx)(P.Z,{label:"filter",onAction:()=>{let e=(0,me.l)(c,[]);(0,me.x)(e)&&t&&l?(_((e=>!e)),v({fid:t,bank:l,from:c.from,to:c.to,payment_type:c.payment_type}).then((e=>{var l,i;if((null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.results)||void 0===i?void 0:i.length)>0){const l=new Worker(new URL(a.p+a.u(10084),a.b));l.postMessage({isType:"BANK_DAYBOOK",daybook:null===e||void 0===e?void 0:e.data}),l.onmessage=e=>{e&&(window.open(e.data,"_blank"),_((e=>!e)),n(),l.terminate())}}else _((e=>!e)),n()})).catch({})):m(e)}})]}),r&&(0,S.jsx)(E.Z,{})]})})})},pe=e=>{let{fid:n,bankId:a}=e;const{t:t}=(0,i.$G)(),[d,c]=(0,o.useState)(!1),s=()=>{c((e=>!e))};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(O.Z,{customStyle:{padding:"0"},children:(0,S.jsxs)("div",{className:l.Z.fm_search_full,children:[(0,S.jsx)("section",{className:l.Z.fm_search_full_container,children:(0,S.jsxs)("div",{className:l.Z.fm_search_full_container_inner,children:[(0,S.jsx)("img",{className:l.Z.fm_search_full_icon,alt:"search icon",src:"".concat(N.dB,"/navbar-search.svg")}),(0,S.jsx)("input",{type:"text",placeholder:t("search")})]})}),(0,S.jsx)(P.Z,{label:"filter",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:s})]})}),(0,S.jsx)(z.Z,{}),d&&(0,S.jsx)(ve,{onClose:s,bankId:a,fid:n})]})},be=[{label:"bank_info",id:0},{label:"day_book",id:1},{label:"fund",id:2}],fe=e=>{var n,a,t;let{fid:d}=e;const{t:c}=(0,i.$G)(),s=(0,B.TH)(),[r,_]=(0,o.useState)(0),[u,m]=(0,o.useState)(!1),[v,p]=(0,o.useState)(!1),{financeOneBankDetail:b}=(0,Z.zO)({bid:s.state.bankId,skip:!s.state.bankId}),f=(0,o.useCallback)((()=>{m((e=>!e))}),[]),h=e=>{_(e)};return(0,S.jsxs)(S.Fragment,{children:[!v&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(O.Z,{children:[(0,S.jsxs)("div",{className:l.Z.fm_header_container,children:[(0,S.jsx)("h6",{children:c("bank_details")}),(0,S.jsx)("img",{src:"".concat(N.J7,"/edit.svg"),alt:"back arrow",title:"Edit Bank",onClick:f})]}),(0,S.jsx)(ce.Z,{children:be.map((e=>(0,S.jsx)(de.Z,{tab:e,isActive:(null===e||void 0===e?void 0:e.id)===r,onAction:h},null===e||void 0===e?void 0:e.id)))}),(0,S.jsx)(z.Z,{customStyleBorder:{marginTop:"0"}})]}),(0,S.jsx)(O.Z,{children:0===r?(0,S.jsx)(ie,{oneBank:null===b||void 0===b?void 0:b.one_bank}):1===r?(0,S.jsx)(pe,{fid:d,bankId:s.state.bankId}):(0,S.jsx)(ae,{totalRepay:null===b||void 0===b||null===(n=b.one_bank)||void 0===n?void 0:n.total_repay,collectOnline:null===b||void 0===b||null===(a=b.one_bank)||void 0===a?void 0:a.collect_online,dueRepay:null===b||void 0===b||null===(t=b.one_bank)||void 0===t?void 0:t.due_repay})})]}),u&&(0,S.jsx)(te,{onToggle:f,setBankEdit:p,openBankMenu:null===b||void 0===b?void 0:b.one_bank})]})};var he=a(63687);const ke=e=>{let{fid:n,libraryId:a,transportId:t,hostelId:d}=e;const{t:c}=(0,i.$G)(),[s]=(0,ne.lr)(),[r,_]=(0,o.useState)(!1),u=(0,o.useCallback)((()=>{_((e=>!e))}),[]);return(0,S.jsx)(he.Z,{children:r?(0,S.jsx)(Y,{fid:n,libraryId:a,transportId:t,hostelId:d,onClose:u}):s.get("n")?(0,S.jsx)(fe,{fid:n,libraryId:a,transportId:t,hostelId:d}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(O.Z,{children:(0,S.jsxs)("div",{className:l.Z.fm_header_container,children:[(0,S.jsx)("h6",{children:c("bank_account_detail")}),(0,S.jsx)("img",{src:"".concat(N.J7,"/plus-blue.svg"),alt:"back arrow",title:"Add Bank",onClick:u})]})}),(0,S.jsx)(z.Z,{}),(0,S.jsx)(O.Z,{children:(0,S.jsx)(J,{fid:n})})]})})},xe=(0,o.memo)(ke)}}]);
//# sourceMappingURL=30046.574f3f8b.chunk.js.map