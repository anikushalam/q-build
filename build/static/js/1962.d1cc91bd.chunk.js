"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[1962],{19206:function(e,t,n){var i=n(29439),o=n(72791),s=n(98094),a=n(36665),d=n(72952),r=n(98734),l=n(6245),u=n(33399),c=n(39230),v=n(39480),m=n(97655),h=n(37782),_=n(84959),f=n(74289),N=n(80184);t.Z=function(e){var t=e.onClose,g=e.uniqueGr,x=e.instituteId,I=e.isViewBy,p=e.commingReason,A=e.certificateId,j=e.onRefetch,S=(0,c.$G)().t,Z=(0,o.useState)(!1),C=(0,i.Z)(Z,2),T=C[0],y=C[1],E=(0,o.useState)(!1),b=(0,i.Z)(E,2),k=b[0],O=b[1],R=(0,o.useState)(""),D=(0,i.Z)(R,2),w=D[0],F=D[1],P=(0,o.useState)(""),B=(0,i.Z)(P,2),M=B[0],U=B[1],G=(0,o.useState)(""),H=(0,i.Z)(G,2),q=H[0],L=H[1],Y=(0,o.useState)(!1),W=(0,i.Z)(Y,2),$=W[0],z=W[1],V=(0,l._)(),J=(0,i.Z)(V,1)[0],K=(0,_.FL)(),Q=(0,i.Z)(K,1)[0],X=(0,f.H7)(),ee=(0,i.Z)(X,1)[0],te=(0,v.p0)({data:{id:x,type:"ID"},skip:!x}),ne=te.oneInstituteProfile,ie=te.oneInstituteProfileRefetch;(0,o.useEffect)((function(){x&&ie()}),[x,ie]),(0,o.useEffect)((function(){"REQUEST_TAB"===I&&F(p||"")}),[p,I]);var oe=function(){z((function(e){return!e}))};return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)(a.Z,{onClose:function(){T||t()},children:[(0,N.jsx)("div",{className:u.Z.add_category_modal,style:{width:"30rem",minHeight:"10rem",height:"fit-content"},children:(0,N.jsxs)("section",{className:u.Z.fee_middle_section_container,style:{marginBottom:"1.2rem"},children:[(0,N.jsx)("h6",{style:{fontSize:"20px",fontWeight:"600"},children:S("bonafide")}),(0,N.jsx)(s.Z,{customStyle:{width:"100%",marginTop:"0.7rem"}}),(0,N.jsx)(d.Z,{labelText:S("enter_reason"),placeholder:S("enter_reason"),name:"reason",value:w,type:"text",onChange:function(e){var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)<=75&&F(e.target.value)},errorShow:k}),(0,N.jsx)(d.Z,{labelText:S("bonafide_message_optional"),placeholder:S("bonafide_message_optional_placeholder"),name:"message",value:M,type:"text",onChange:function(e){var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)<=75&&U(e.target.value)}}),(0,N.jsx)(m.Z,{labelText:S("competent_authority"),placeholder:S("competent_authority_lable"),name:"authority",value:q,type:"text",onChange:function(e){var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)<=75&&L(e.target.value)}}),(0,N.jsxs)("section",{className:u.Z.letter_head_container,children:[$?(0,N.jsx)("img",{src:"/images/checkbox-icon.svg",alt:"icon",onClick:oe}):(0,N.jsx)("img",{src:"/images/box-icon.svg",alt:"icon",onClick:oe}),(0,N.jsx)("h6",{children:S("printing_on_letter_head")})]}),(0,N.jsx)("button",{onClick:function(){g&&w&&x?(y((function(e){return!e})),J({gr:g,id:x,bonafideReason:{reason:w,student_bona_message:M}}).then((function(e){var i,o;null!==e&&void 0!==e&&null!==(i=e.data)&&void 0!==i&&i.student&&function(e){var i=(0,h.hR)(null===ne||void 0===ne?void 0:ne.institute,e,{reason:w,message:M,authority:q,uniqueGr:g,letterHead:$}),o=i.institute,s=i.studentInfo,a=new Worker(new URL(n.p+n.u(4647),n.b));a.postMessage({printCertificateType:"BONAFIDE",studentInfo:s,institute:o}),a.onmessage=function(n){if(n&&null!==e&&void 0!==e&&e._id){if("REQUEST_TAB"===I){var i=new FormData;i.append("file",n.data),Q({fileUpload:i}).then((function(e){var t;ee({cid:A,attach:null===(t=e.data)||void 0===t?void 0:t.imageKey,status:"Issued"}).then((function(){j(),y((function(e){return!e})),window.open(URL.createObjectURL(n.data),"_blank")})).catch({})})).catch({})}else window.open(URL.createObjectURL(n.data),"_blank"),y((function(e){return!e}));t()}}}(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.student)})).catch({})):w||O(!0)},className:u.Z.fee_middle_confirm_button,style:{marginTop:"4rem"},children:S("confirm")})]})}),T&&(0,N.jsx)(r.Z,{})]})})}},75946:function(e,t,n){var i=n(1413),o=n(29439),s=n(72791),a=n(36665),d=n(98094),r=n(39230),l=n(33399),u=n(72952),c=n(98734),v=n(6245),m=n(16871),h=n(80184);t.Z=function(e){var t=e.onClose,n=e.messageId,_=e.headId,f=e.viewAs,N=e.sendStudentList,g=e.isInstitute,x=e.isStudentProfile,I=e.carryParentState,p=e.toRedirectUrl,A=e.instituteId,j=(0,r.$G)().t,S=(0,s.useState)(!1),Z=(0,o.Z)(S,2),C=Z[0],T=Z[1],y=(0,s.useState)(!1),E=(0,o.Z)(y,2),b=E[0],k=E[1],O=(0,v.Z3)(),R=(0,o.Z)(O,1)[0],D=(0,v.zx)(),w=(0,o.Z)(D,1)[0],F=(0,s.useState)({alarm_mode:"APP_NOTIFICATION",content:""}),P=(0,o.Z)(F,2),B=P[0],M=P[1],U=(0,m.s0)();return(0,h.jsxs)(a.Z,{onClose:t,children:[(0,h.jsx)("div",{className:l.Z.add_category_modal,style:{width:"30rem",minHeight:"10rem",height:"fit-content",maxHeight:"35rem",overflowX:"hidden",scrollBehavior:"smooth"},children:(0,h.jsxs)("section",{className:l.Z.fee_middle_section_container,style:{marginBottom:"1.2rem"},children:[(0,h.jsx)("h6",{style:{fontSize:"20px",fontWeight:"600"},children:j("student_message")}),(0,h.jsx)(d.Z,{customStyle:{width:"100%",marginTop:"0.7rem",marginBottom:"1rem"}}),(0,h.jsxs)("section",{className:l.Z.notify_container,onClick:function(){return M((function(e){return(0,i.Z)((0,i.Z)({},e),{},{alarm_mode:"APP_NOTIFICATION"})}))},children:[(0,h.jsx)("img",{src:"APP_NOTIFICATION"===B.alarm_mode?"/images/department/radio-blue-icon.svg":"/images/department/radio-gray-icon.svg",alt:"icon"}),(0,h.jsxs)("div",{className:l.Z.notify_text,children:[(0,h.jsx)("h6",{children:j("Notify_with_In_app_Notification")}),(0,h.jsx)("p",{children:j("Notify_with_In_app_Notification_note")})]})]}),(0,h.jsxs)("section",{className:l.Z.notify_container,children:[(0,h.jsx)("img",{src:"EMAIL_NOTIFICATION"===B.alarm_mode?"/images/department/radio-blue-icon.svg":"/images/department/radio-gray-icon.svg",alt:"icon"}),(0,h.jsxs)("div",{className:l.Z.notify_text,children:[(0,h.jsx)("h6",{children:j("Notify_On_Email_and_SMS")}),(0,h.jsx)("p",{children:j("Notify_On_Email_and_SMS_note")})]})]}),"APP_NOTIFICATION"===B.alarm_mode&&(0,h.jsx)(u.Z,{labelText:j("student_message_label"),placeholder:j("student_message_label_placeholder"),name:"content",value:B.content,type:"text",onChange:function(e){return M((function(t){return(0,i.Z)((0,i.Z)({},t),{},{content:e.target.value})}))},errorShow:b}),(0,h.jsx)("button",{onClick:function(){B.content?x?n&&B.alarm_mode&&(null===N||void 0===N?void 0:N.length)>0&&A&&(T((function(e){return!e})),w({sendMessage:{message:B.content,from:null!==_&&void 0!==_?_:"",type:"ADMISSION_ADMIN"===f?"Admission Head":"FINANCE_MANAGER"===f?"Finance Head":"CERTIFICATE_AUTHORITY"===f?"Certificate Authority":"STUDENT_SECTION"===f?"Student Section":"ID_CARD_SECTION"===f?"Id Card Authority":"Institute Admin",fid:null!==n&&void 0!==n?n:"",alarm_mode:B.alarm_mode,sid:N,flow:g?"INSTITUTE_ADMIN":"Other"},id:A}).then((function(){t(),T((function(e){return!e}))})).catch({})):n&&B.alarm_mode&&(null===N||void 0===N?void 0:N.length)>0&&A&&(T((function(e){return!e})),R({sendMessage:{message:B.content,from:null!==_&&void 0!==_?_:"",type:"ADMISSION_ADMIN"===f?"Admission Head":"FINANCE_MANAGER"===f?"Finance Head":"CERTIFICATE_AUTHORITY"===f?"Certificate Authority":"STUDENT_SECTION"===f?"Student Section":"ID_CARD_SECTION"===f?"Id Card Authority":"Institute Admin",fid:null!==n&&void 0!==n?n:"",alarm_mode:B.alarm_mode,filtered_arr:N,flow:g?"INSTITUTE_ADMIN":"Other"},id:A}).then((function(){t(),U(p,{state:I}),T((function(e){return!e}))})).catch({})):k(!0)},className:l.Z.fee_middle_confirm_button,style:{marginTop:"4rem"},children:j("confirm")})]})}),C&&(0,h.jsx)(c.Z,{})]})}},36665:function(e,t,n){n(72791);var i=n(12072),o=n(1874),s=n(80184);t.Z=function(e){var t=e.onClose,n=e.children;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Z,{onClose:t}),(0,s.jsx)(i.Z,{children:n})]})}},12072:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(1413),o=(n(72791),n(54164)),s="Overlay_overlay_card__PAr1h",a=n(80184),d=function(e){var t=e.children,n=e.customStyle;return(0,a.jsx)(a.Fragment,{children:o.createPortal((0,a.jsx)("div",{className:s,style:(0,i.Z)({},n),children:t}),document.getElementById("overlay"))})}},84489:function(e,t,n){var i=n(1413),o=(n(72791),n(51857)),s=n(80184);t.Z=function(e){var t=e.onClose,n=e.customStyleBackdrop;return(0,s.jsx)("div",{className:o.Z.search_backdrop,style:(0,i.Z)({},n),onClick:t})}},1874:function(e,t,n){n(72791);var i=n(54164),o=n(84489),s=n(80184);t.Z=function(e){var t=e.onClose,n=e.customStyleBackdrop;return(0,s.jsx)(s.Fragment,{children:i.createPortal((0,s.jsx)(o.Z,{onClose:t,customStyleBackdrop:n}),document.getElementById("backdrop"))})}},51962:function(e,t,n){n.d(t,{Z:function(){return P}});var i=n(29439),o=n(72791),s=n(55136),a=n(16871),d=n(43504),r=n(95048),l=n(39230),u=n(64540),c=n(30510),v=n(27346),m=n(36665),h=n(80184),_=function(e){var t,n,a,d,r,_=e.studentId,f=e.openAs,N=e.editAs,g=(0,l.$G)().t,x=o.useState("Month"),I=(0,i.Z)(x,2),p=I[0],A=I[1],j=(0,o.useState)(""),S=(0,i.Z)(j,2),Z=S[0],C=S[1],T=(0,o.useState)(!1),y=(0,i.Z)(T,2),E=y[0],b=y[1],k=(new Date).toISOString().split("-"),O=+k[1]>9?+k[1]:"0".concat(+k[1]),R=(0,u.MJ)({sid:_,month:"Month"===p?O:"",year:+k[0]},{skip:!_}),D=R.data,w=R.refetch,F=(0,c.gP)({data:{sid:_,month:"Month"===p?O:"",year:+k[0],subjectId:null===Z||void 0===Z?void 0:Z._id},skip:!(null!==Z&&void 0!==Z&&Z._id)||!_}),P=F.studentSubjectAttendance,B=F.studentSubjectAttendanceRefetch;o.useEffect((function(){_&&w()}),[_,p,w]),o.useEffect((function(){null!==Z&&void 0!==Z&&Z._id&&B()}),[null===Z||void 0===Z?void 0:Z._id,p,B]);var M=function(e){A(e)},U=function(){b((function(e){return!e}))};return(0,h.jsxs)("div",{className:s.Z.student_attendane_container,style:{right:"STUDENT_SECTION"===f||"ADMISSION_ADMIN"===f?"11%":"INSTITUTE"===N?"10%":"INSTITUTE"===f||"CLASS_CATALOG"===f?"8%":f?"1.6%":"11%"},children:[(0,h.jsxs)("div",{className:s.Z.student_attendance_heading,children:[(0,h.jsx)("h6",{children:Z?null!==(t=null===Z||void 0===Z?void 0:Z.subjectName)&&void 0!==t?t:"":g("class_attendance")}),(0,h.jsx)("img",{src:"/images/filter-blue-icon.svg",alt:"filter icon",onClick:U,title:"Filter by subject",style:{cursor:"pointer"}})]}),(0,h.jsxs)("div",{className:s.Z.colours,children:[(0,h.jsxs)("div",{className:s.Z.monthColours,onClick:function(){return M("Month")},children:[(0,h.jsx)("p",{children:"Monthly"}),"Month"===p?(0,h.jsx)("img",{src:"/images/radio-active.svg",alt:""}):(0,h.jsx)("img",{src:"/images/radio-disabled.svg",alt:""})]}),(0,h.jsxs)("div",{className:s.Z.monthColours,onClick:function(){return M("Year")},children:[(0,h.jsx)("p",{children:"Yearly"}),"Year"===p?(0,h.jsx)("img",{src:"/images/radio-active.svg",alt:""}):(0,h.jsx)("img",{src:"/images/radio-disabled.svg",alt:""})]})]}),(0,h.jsxs)("div",{className:s.Z.percentage,children:[(0,h.jsxs)("div",{className:s.Z.presentcount,children:[(0,h.jsx)("p",{children:"Present Count"}),(0,h.jsxs)("p",{children:[Z?null===P||void 0===P||null===(n=P.presentArray)||void 0===n?void 0:n.length:null===D||void 0===D||null===(a=D.presentArray)||void 0===a?void 0:a.length," ","days"]}),(0,h.jsxs)("p",{children:[Z?"NaN"===(null===P||void 0===P?void 0:P.present)?0:null===P||void 0===P?void 0:P.present:"NaN"===(null===D||void 0===D?void 0:D.present)?0:null===D||void 0===D?void 0:D.present," ","%"]})]}),(0,h.jsxs)("div",{className:s.Z.absentcount,children:[(0,h.jsx)("p",{children:"Absent Count"}),(0,h.jsxs)("p",{children:[Z?null===P||void 0===P||null===(d=P.absentArray)||void 0===d?void 0:d.length:null===D||void 0===D||null===(r=D.absentArray)||void 0===r?void 0:r.length," ","days"]}),(0,h.jsxs)("p",{children:[Z?"NaN"===(null===P||void 0===P?void 0:P.absent)?0:null===P||void 0===P?void 0:P.absent:"NaN"===(null===D||void 0===D?void 0:D.absent)?0:null===D||void 0===D?void 0:D.absent,"%"]})]})]}),E&&(0,h.jsx)(m.Z,{onClose:U,children:(0,h.jsx)("div",{style:{width:"30rem",minHeight:"10rem",maxHeight:"35rem",overflowY:"auto",overflowX:"hidden",scrollBehavior:"smooth",padding:"1rem"},children:(0,h.jsx)(v.Z,{sid:_,onFilterAttendance:function(e){(null===Z||void 0===Z?void 0:Z._id)===(null===e||void 0===e?void 0:e._id)?C(""):C(e),U()},filterAttendance:Z})})})]})},f=n(91007),N=function(e){var t,n,i,r,u,c,v,m,_=e.carryParrentState,N=e.studentId,g=(0,l.$G)().t,x=(0,a.UO)(),I=(0,f.$J)("".concat(N),{skip:!N}),p=I.data,A=I.refetch;(0,o.useEffect)((function(){N&&A()}),[N,A]);var j=function(e,t,n){return e+t+n};return(0,h.jsxs)("div",{className:s.Z.admission_fees,children:[(0,h.jsxs)("div",{children:[(0,h.jsxs)("h5",{style:{color:"#008000"},children:[g("rs"),"."," ",j((null===p||void 0===p||null===(t=p.student)||void 0===t?void 0:t.studentPaidFeeCount)||0,(null===p||void 0===p||null===(n=p.student)||void 0===n?void 0:n.admissionPaidFeeCount)||0,(null===p||void 0===p||null===(i=p.student)||void 0===i?void 0:i.hostelPaidFeeCount)||0)]}),(0,h.jsx)("h6",{style:{marginBottom:"1.5rem"},children:g("total_fees_paid")}),(0,h.jsxs)("h5",{style:{color:"#121212"},children:[g("rs"),"."," ",j((null===p||void 0===p||null===(r=p.student)||void 0===r?void 0:r.studentRemainingFeeCount)||0,(null===p||void 0===p||null===(u=p.student)||void 0===u?void 0:u.admissionRemainFeeCount)||0,(null===p||void 0===p||null===(c=p.student)||void 0===c?void 0:c.hostelRemainFeeCount)||0)]}),(0,h.jsx)("h6",{children:g("total_outs")})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)(d.rU,{to:"/q/".concat(x.username,"/student/profile"),state:_,children:(0,h.jsxs)("div",{className:s.Z.card_hold_container,children:[(0,h.jsx)("img",{src:"/images/link-forword-icon.svg",alt:"forword link"}),(0,h.jsx)("h6",{children:g("view_profile")})]})}),(0,h.jsxs)("h5",{style:{color:"#121212",marginTop:"1.5rem"},children:[g("rs"),". ",null!==(v=null===p||void 0===p||null===(m=p.student)||void 0===m?void 0:m.applicable_fees_pending)&&void 0!==v?v:0]}),(0,h.jsx)("h6",{children:g("applicable_outs")})]})]})},g=n(19206),x=n(6245),I=n(98734),p=n(75946),A=function(e){var t,n,d,r=e.instituteId,u=e.uniqueGr,c=(0,l.$G)().t,v=(0,o.useState)(""),m=(0,i.Z)(v,2),_=m[0],f=m[1],N=(0,o.useState)(!1),A=(0,i.Z)(N,2),j=A[0],S=A[1],Z=(0,a.s0)(),C=(0,a.UO)(),T=(0,a.TH)(),y=function(e){f(e)},E=(0,x.vB)(),b=(0,i.Z)(E,1)[0],k=function(e){r&&u&&(S((function(e){return!e})),b({id:r,gr:u,leavingFeedback:{number:u,reason:"",study:"",behaviour:"",remarks:"",udise:""}}).then((function(t){S((function(e){return!e})),Z("/q/".concat(C.username,"/student/certificate/form"),"LEAVING"===e?{state:{student:t.data.student,download:t.data.download,instituteId:r,is_leaving:"leaving"}}:{state:{student:t.data.student,download:t.data.download,instituteId:r,is_leaving:"transfer"}})})).catch({}))};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:s.Z.certificate_btn_container,children:[(0,h.jsx)("button",{className:s.Z.certificate_btn,onClick:function(){return y("BONAFIDE")},children:c("bonafide")}),(0,h.jsx)("button",{className:s.Z.certificate_btn,onClick:function(){return k("LEAVING")},children:c("leaving")}),(0,h.jsx)("button",{className:s.Z.certificate_btn,onClick:function(){return k("TRANSFER")},children:c("transfer_certificate")}),(0,h.jsx)("button",{className:s.Z.certificate_btn,onClick:function(){return y("STUDENT_MESSAGE")},children:c("student_message")})]}),"BONAFIDE"===_&&(0,h.jsx)(g.Z,{onClose:function(){return y("")},uniqueGr:u,instituteId:r}),"STUDENT_MESSAGE"===_&&(0,h.jsx)(p.Z,{onClose:function(){return y("")},isStudentProfile:!0,viewAs:"CERTIFICATE_AUTHORITY",headId:null===(t=T.state)||void 0===t?void 0:t.headId,messageId:null===(n=T.state)||void 0===n?void 0:n.messageId,sendStudentList:null===(d=T.state)||void 0===d?void 0:d.sid,instituteId:r}),j&&(0,h.jsx)(I.Z,{})]})},j=n(73343),S=n(98472),Z=function(e){var t,n=e.sid,a=(0,l.$G)().t,d=(0,o.useState)(!1),r=(0,i.Z)(d,2),u=r[0],c=r[1],v=(0,o.useState)([]),m=(0,i.Z)(v,2),_=m[0],f=m[1],N=(0,o.useState)(!1),g=(0,i.Z)(N,2),x=g[0],p=g[1],A=(0,j.cl)(),Z=(0,i.Z)(A,1)[0];return(0,o.useEffect)((function(){x&&(document.getElementById("csv_download_file").click(),p(!1),c((function(e){return!e})))}),[x]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:s.Z.certificate_btn_container,children:(0,h.jsx)("button",{className:s.Z.certificate_btn,onClick:function(){n&&(c(!0),Z({studentId:{sid:n}}).then((function(e){f((function(){var t;return function(e){var t,n;return[{GRNo:null===e||void 0===e?void 0:e.studentGRNO,Name:(null===e||void 0===e?void 0:e.studentFirstName)+" "+(null===e||void 0===e?void 0:e.studentMiddleName)+" "+(null===e||void 0===e?void 0:e.studentLastName),Gender:null===e||void 0===e?void 0:e.studentGender,MotherName:null!==e&&void 0!==e&&e.studentMotherName?null===e||void 0===e?void 0:e.studentMotherName:"NA",DOB:null!==e&&void 0!==e&&e.studentDOB?null===e||void 0===e?void 0:e.studentDOB:"NA","Blood Group":null!==e&&void 0!==e&&e.student_blood_group?null===e||void 0===e?void 0:e.student_blood_group:"NA","Caste Category":null!==e&&void 0!==e&&e.studentCastCategory?null===e||void 0===e?void 0:e.studentCastCategory:"NA",Religion:null!==e&&void 0!==e&&e.studentReligion?null===e||void 0===e?void 0:e.studentReligion:"NA",BirthPlace:null!==e&&void 0!==e&&e.studentBirthPlace?null===e||void 0===e?void 0:e.studentBirthPlace:"NA",Address:null!==e&&void 0!==e&&e.studentAddress?null===e||void 0===e?void 0:e.studentAddress:"NA",ParentsName:null!==e&&void 0!==e&&e.studentParentsName?null===e||void 0===e?void 0:e.studentParentsName:"NA","Parent's Contact":null!==e&&void 0!==e&&e.studentParentsPhoneNumber?null===e||void 0===e?void 0:e.studentParentsPhoneNumber:"NA",State:null!==e&&void 0!==e&&e.studentState?null===e||void 0===e?void 0:e.studentState:"NA",District:null!==e&&void 0!==e&&e.studentDistrict?null===e||void 0===e?void 0:e.studentDistrict:"NA",Nationality:null!==e&&void 0!==e&&e.studentNationality?null===e||void 0===e?void 0:e.studentNationality:"NA",Class:null===e||void 0===e||null===(t=e.studentClass)||void 0===t?void 0:t.classTitle,Contact:null===e||void 0===e?void 0:e.studentPhoneNumber,Email:null===e||void 0===e?void 0:e.studentEmail,AdmissionDate:null===e||void 0===e||null===(n=e.studentAdmissionDate)||void 0===n?void 0:n.split("T")[0],AadharNumber:null!==e&&void 0!==e&&e.studentAadharNumber?null===e||void 0===e?void 0:e.studentAadharNumber:"NA","Mother Tongue":null!==e&&void 0!==e&&e.studentMTongue?null===e||void 0===e?void 0:e.studentMTongue:"NA",Caste:null!==e&&void 0!==e&&e.studentCast?null===e||void 0===e?void 0:e.studentCast:"NA","Current Address":null!==e&&void 0!==e&&e.studentCurrentAddress?null===e||void 0===e?void 0:e.studentCurrentAddress:"NA","Father Ration Color":null!==e&&void 0!==e&&e.studentFatherRationCardColor?null===e||void 0===e?void 0:e.studentFatherRationCardColor:"NA","Parent's Occupation":null!==e&&void 0!==e&&e.studentParentsOccupation?null===e||void 0===e?void 0:e.studentParentsOccupation:"NA","Parent's Annual Income":null!==e&&void 0!==e&&e.studentParentsAnnualIncom?null===e||void 0===e?void 0:e.studentParentsAnnualIncom:"NA","Previous School":null!==e&&void 0!==e&&e.studentPreviousSchool?null===e||void 0===e?void 0:e.studentPreviousSchool:"NA","Bank Name":null!==e&&void 0!==e&&e.studentBankName?null===e||void 0===e?void 0:e.studentBankName:"NA","Bank Account":null!==e&&void 0!==e&&e.studentBankAccount?null===e||void 0===e?void 0:e.studentBankAccount:"NA","Bank Holder Name":null!==e&&void 0!==e&&e.studentBankAccountHolderName?null===e||void 0===e?void 0:e.studentBankAccountHolderName:"NA","Bank Ifsc":null!==e&&void 0!==e&&e.studentBankIfsc?null===e||void 0===e?void 0:e.studentBankIfsc:"NA"}]}(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.student_card)})),p(!0)})).catch({}))},children:a("id_card")})}),(0,h.jsx)(S.CSVLink,{data:_,filename:"".concat(null===_||void 0===_||null===(t=_[0])||void 0===t?void 0:t.Name,"-id-card"),id:"csv_download_file"}),u&&(0,h.jsx)(I.Z,{})]})},C=n(1413),T=n(72952),y=n(33399),E=n(98094),b=n(97655),k=n(29017),O=function(e){var t=e.uniqueGr,n=e.onClose,s=e.studentId,a=e.onRefetch,d=(0,l.$G)().t,r=(0,o.useState)(!1),u=(0,i.Z)(r,2),c=u[0],v=u[1],_=(0,o.useState)(!1),f=(0,i.Z)(_,2),N=f[0],g=f[1],x=(0,k.Nt)(),p=(0,i.Z)(x,1)[0],A=(0,o.useState)({query_content:"",query_gr:null!==t&&void 0!==t?t:""}),j=(0,i.Z)(A,2),S=j[0],Z=j[1];(0,o.useEffect)((function(){t&&Z((function(e){return(0,C.Z)((0,C.Z)({},e),{},{query_gr:null!==t&&void 0!==t?t:""})}))}),[t]);return(0,h.jsxs)(m.Z,{onClose:n,children:[(0,h.jsx)("div",{className:y.Z.add_category_modal,style:{width:"30rem",minHeight:"10rem",height:"fit-content"},children:(0,h.jsxs)("section",{className:y.Z.fee_middle_section_container,style:{marginBottom:"1.2rem"},children:[(0,h.jsx)("h6",{style:{fontSize:"20px",fontWeight:"600"},children:d("update_student_gr")}),(0,h.jsx)(E.Z,{customStyle:{width:"100%",marginTop:"0.7rem",marginBottom:"1rem"}}),(0,h.jsx)(b.Z,{labelText:d("student_gr"),placeholder:d("student_gr_placeholder"),name:"query_gr",value:null===S||void 0===S?void 0:S.query_gr,type:"text",onChange:function(e){return Z((function(t){return(0,C.Z)((0,C.Z)({},t),{},{query_gr:e.target.value})}))},errorShow:N.query_gr}),(0,h.jsx)(T.Z,{labelText:d("gr_student_message_label"),placeholder:d("gr_student_message_label_placeholder"),name:"query_content",value:S.query_content,type:"text",onChange:function(e){return Z((function(t){return(0,C.Z)((0,C.Z)({},t),{},{query_content:e.target.value})}))},errorShow:N.query_content}),(0,h.jsx)("button",{onClick:function(){var e=function(e){var t={};for(var n in e)e[n]||(t[n]="".concat(n," is required!"));return t}(S),t=!1;for(var i in e)if(i){t=!0;break}t?g(e):(v((function(e){return!e})),p({sid:s,grNumberContent:S}).then((function(){a(),v((function(e){return!e})),n()})).catch({}))},className:y.Z.fee_middle_confirm_button,style:{marginTop:"4rem"},children:d("update")})]})}),c&&(0,h.jsx)(I.Z,{})]})},R=n(86109),D=n(69721),w=["SUBJECT_TEACHER","LEAVING_FORM","FINANCE_MANAGER","ADMISSION_ADMIN_SCHOLARSHIP","VIEW_ADMISSION_PAGE_FEES","INSTITUTE_ADMIN","STUDENT","CERTIFICATE_AUTHORITY","ID_CARD_SECTION"],F=["ADMISSION_ADMIN","FINANCE_MANAGER","CERTIFICATE_AUTHORITY","STUDENT_SECTION","ID_CARD_SECTION","INSTITUTE_ADMIN"],P=function(e){var t,n,u,c=e.dynamicImage,v=e.indexNumber,m=e.designation,f=e.name,g=e.activeUrl,x=e.sid,p=e.viewAs,j=e.openAs,S=e.onEdit,C=e.grNumber,T=e.carryParrentState,y=e.admissionButton,E=e.is_hostel_link,b=e.is_view_profile,k=e.editAs,P=e.uniqueGr,B=e.instituteId,M=e.onRefetchStudentApi,U=e.isGrButtonLock,G=e.currentDesignation,H=(0,l.$G)().t,q=(0,a.UO)(),L=(0,a.TH)(),Y=(0,r.v9)((function(e){return e.idChange.loginProfile})),W=(0,o.useState)(!1),$=(0,i.Z)(W,2),z=$[0],V=$[1],J=(0,o.useState)(!1),K=(0,i.Z)(J,2),Q=K[0],X=K[1],ee=(0,R.OB)(),te=(0,i.Z)(ee,1)[0],ne=function(){if("Locked"===U)return null;V((function(e){return!e}))};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:s.Z.staff_profile_photo_container,style:{minHeight:"CERTIFICATE_AUTHORITY"===j?"12rem":"5rem"},children:["ID_CARD_SECTION"===j?(0,h.jsx)("img",{src:c,alt:"staff avatar",className:s.Z.staff_profile_photo_image,style:{cursor:"pointer"},title:"Download profile photo",onClick:function(){X(!0),te({instituteId:x}).then((function(e){var t;window.open("".concat(D.zQ,"/").concat(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.Key),"_blank"),X(!1)})).catch({})}}):(0,h.jsx)("img",{src:c,alt:"staff avatar",className:s.Z.staff_profile_photo_image}),(0,h.jsxs)("div",{className:s.Z.staff_profile_photo_info,children:[(0,h.jsxs)("h5",{className:s.Z.staff_profile_photo_name,children:[f,"HOSTEL"===b?(0,h.jsx)(d.rU,{to:"/q/".concat(q.username,"/student/profile/"),state:{sid:x,viewAs:j,instituteId:null===(t=L.state)||void 0===t?void 0:t.instituteId},children:(0,h.jsx)("span",{style:{fontSize:"10px",fontWeight:"400",color:"#0000ff"},children:" (".concat(H("view_profile"),")")})}):E&&(0,h.jsx)(d.rU,{to:"/q/".concat(q.username,"/student/profile/hostel"),state:{sid:x,viewAs:j,instituteId:null===(n=L.state)||void 0===n?void 0:n.instituteId},children:(0,h.jsx)("span",{style:{fontSize:"10px",fontWeight:"400",color:"#0000ff"},children:" (".concat(H("hostel_profile"),")")})})]}),(0,h.jsx)("p",{className:s.Z.staff_profile_photo_index,children:v}),"student"===g&&(0,h.jsxs)("p",{className:s.Z.staff_profile_photo_index,children:[C,(null===F||void 0===F?void 0:F.includes(j))&&(0,h.jsx)("span",{style:{fontSize:"12px",fontWeight:"400",color:"Locked"===U?"rgb(177 177 176)":"#0000ff",cursor:"pointer"},onClick:ne,children:" (".concat(H("Locked"===U?"requested":"edit_"),")")})]}),(0,h.jsx)("p",{className:s.Z.staff_profile_photo_index,children:m}),G&&(0,h.jsx)("p",{className:s.Z.staff_profile_photo_index,children:G})]}),"student"===g&&"VIEW_ADMISSION_PAGE_FEES"===j?(0,h.jsx)(N,{carryParrentState:T,studentId:x}):"student"===g&&(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(d.rU,{to:"/q/".concat(q.username,"/student/profile/admission"),state:{sid:x,viewAs:j,instituteId:null===(u=L.state)||void 0===u?void 0:u.instituteId},children:(0,h.jsxs)("div",{className:s.Z.link_hold_container,style:{right:y?"40%":"35%"},children:[(0,h.jsx)("img",{src:"/images/link-forword-icon.svg",alt:"forword link"}),(0,h.jsx)("h6",{children:H("admission_fees")})]})})}),"CERTIFICATE_AUTHORITY"===j?(0,h.jsx)(A,{uniqueGr:P,instituteId:B}):"ID_CARD_SECTION"===j?(0,h.jsx)(Z,{sid:x}):"student"===g&&(0,h.jsx)(_,{studentId:x,openAs:j,editAs:k}),"STAFF"===k?null:"INSTITUTE"===k?(0,h.jsx)(d.rU,{to:"/q/".concat(Y.username,"/edit/").concat(g),state:{openAs:"INSTITUTE_SIDE",sid:x},children:(0,h.jsx)("img",{src:"/images/user-pencil-edit.svg",alt:"edit icon",className:s.Z.staff_profile_photo_edit})}):null!==w&&void 0!==w&&w.includes(j)?"":p?(0,h.jsx)("img",{src:"/images/user-pencil-edit.svg",alt:"edit icon",className:s.Z.staff_profile_photo_edit,onClick:S,style:{cursor:"pointer"}}):(0,h.jsx)(d.rU,{to:"/q/".concat(Y.username,"/edit/").concat(g),state:{openAs:"INSTITUTE_SIDE",sid:x},children:(0,h.jsx)("img",{src:"/images/user-pencil-edit.svg",alt:"edit icon",className:s.Z.staff_profile_photo_edit})})]}),z&&(0,h.jsx)(O,{onClose:ne,uniqueGr:P,studentId:x,onRefetch:M}),Q&&(0,h.jsx)(I.Z,{})]})}},86109:function(e,t,n){n.d(t,{GI:function(){return s},OB:function(){return d},PY:function(){return a}});var i=n(29439),o=n(73343),s=function(e){var t=(0,o.ce)();return{staffExportData:t.data,staffExportDataRefetch:t.refetch}},a=function(){var e=(0,o.tO)();return[(0,i.Z)(e,1)[0]]},d=function(){var e=(0,o.f7)();return[(0,i.Z)(e,1)[0]]}},51857:function(e,t){t.Z={search_backdrop:"SearchHeader_search_backdrop__MsKpG",search_card:"SearchHeader_search_card__-jNcg",search_container:"SearchHeader_search_container__NS7Om",search_container_text:"SearchHeader_search_container_text__bkolR",searchIcon:"SearchHeader_searchIcon__J7cNp",search_container_back:"SearchHeader_search_container_back__ZoXdV"}}}]);
//# sourceMappingURL=1962.d1cc91bd.chunk.js.map