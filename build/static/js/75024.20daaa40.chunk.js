"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[75024],{21625:(e,t,n)=>{n.d(t,{Dr:()=>u,Dv:()=>v,FL:()=>a,J9:()=>_,KB:()=>y,Ne:()=>d,OF:()=>s,Pv:()=>l,b5:()=>m,bB:()=>h,d4:()=>r,gS:()=>c,rY:()=>p,vM:()=>f,xk:()=>i});var o=n(63950);const a=()=>{const[e]=(0,o.rk)();return[e]},i=()=>{const[e]=(0,o.Zz)();return[e]},l=()=>{const[e]=(0,o.Sm)();return[e]},r=()=>{const[e]=(0,o.G1)();return[e]},s=()=>{const[e]=(0,o.lI)();return[e]},u=()=>{const[e]=(0,o.CT)();return[e]},c=()=>{const[e]=(0,o.b)();return[e]},d=()=>{const[e]=(0,o.x0)();return[e]},m=()=>{const[e]=(0,o.kA)();return[e]},h=()=>{const[e]=(0,o.rz)();return[e]},_=()=>{const[e]=(0,o.Pi)();return[e]},v=()=>{const[e]=(0,o.qz)();return[e]},p=()=>{const[e]=(0,o._C)();return[e]},y=()=>{const[e]=(0,o.qG)();return[e]},f=e=>{const{data:t,refetch:n,isLoading:a}=(0,o.tz)(null===e||void 0===e?void 0:e.phoneKey,{skip:e.skip});return{authGetAccountWithMobileNumber:t,authGetAccountWithMobileNumberRefetch:n,authGetAccountWithMobileNumberLoading:a}}},63950:(e,t,n)=>{n.d(t,{qG:()=>E,tz:()=>R,qz:()=>P,_C:()=>z,rz:()=>G,Pi:()=>L,Zz:()=>C,YY:()=>D,x0:()=>S,kA:()=>I,lI:()=>M,CT:()=>F,Sm:()=>q,G1:()=>w,b:()=>U,rk:()=>k});var o=n(28328),a=n(94811);const i=e=>e.mutation({query:e=>({url:"/all-images/onefile/web",method:a.Q0,body:e.fileUpload})}),l=e=>e.query({query:e=>"/auth/username/search?u_name=".concat(e)}),r=e=>e.query({query:e=>"/auth/email/check/redundant?email=".concat(e)}),s=e=>e.mutation({query:e=>({url:"/auth/login",method:a.a4,body:e.login})}),u=e=>e.mutation({query:e=>({url:"/auth/user-detail",method:a.a4,body:e})}),c=e=>e.mutation({query:e=>{var t;return{url:"/auth/user-detail-verify/".concat(e.userPhoneNumber,"?u_name=").concat(null!==(t=null===e||void 0===e?void 0:e.u_name)&&void 0!==t?t:""),method:a.a4,body:e}}}),d=e=>e.mutation({query:e=>({url:"/auth/user/forgot",method:a.a4,body:e.forgot})}),m=e=>e.mutation({query:e=>({url:"/auth/user/forgot/".concat(e.uid),method:a.a4,body:e.otp})}),h=e=>e.mutation({query:e=>({url:"/auth/user/reset/password/".concat(e.uid),method:a.a4,body:e.password})}),_=(e,t)=>e.mutation({query:e=>({url:"/auth/profile-creation/".concat(e.userPhoneNumber),method:a.a4,body:e.profileCreation})}),v=(e,t)=>e.mutation({query:e=>({url:"/auth/create-user-password/".concat(e.uid),method:a.a4,body:e.password})}),p=(e,t)=>e.mutation({query:e=>({url:"/auth/ins-detail",method:a.a4,body:e.phone})}),y=(e,t)=>e.mutation({query:e=>({url:"/auth/ins-detail-verify/".concat(e.insPhoneNumber),method:a.a4,body:e.verify})}),f=(e,t)=>e.mutation({query:e=>({url:"/auth/ins/register",method:a.a4,body:e.profileCreation})}),b=(e,t)=>e.mutation({query:e=>({url:"/auth/ins/create-password/".concat(e.id),method:a.a4,body:e.password})}),x=e=>e.mutation({query:e=>({url:"/auth/direct/confirm/join/".concat(e.phoneNumber,"/apply/").concat(e.aid,"?existingUser=").concat(e.uid),method:a.a4,body:e.addStudent})}),g=e=>e.query({query:e=>"/auth/select/account?phoneKey=".concat(e),transformResponse:e=>null===e||void 0===e?void 0:e.all_account,serializeQueryArgs:e=>{let{endpointName:t}=e;return t},forceRefetch(e){let{currentArg:t,previousArg:n}=e;return t!==n}}),j=e=>e.mutation({query:e=>({url:"/admission/".concat(e.uid,"/user/").concat(e.aid,"/apply"),method:"POST",body:e.apply_data})}),Z=o.i.injectEndpoints({endpoints:e=>({fileUpload:i(e),authUniqueUsername:l(e),authUniqueEmail:r(e),authLogin:s(e),authUserNumber:u(e),authUserNumberVerify:c(e),authUserForget:d(e),authUserForgetOtp:m(e),authUserSetPassword:h(e),authUserCreateAccount:_(e),authUserCreatePassword:v(e),authInstituteNumber:p(e),authInstituteNumberVerify:y(e),authInstituteCreateAccount:f(e),authInstituteCreatePassword:b(e),authDirectJoinFormAdmissionApplication:x(e),authGetAccountWithMobileNumber:g(e),authUserApplyOneApplication:j(e)})}),{useFileUploadMutation:k,useAuthUniqueUsernameQuery:N,useAuthUniqueEmailQuery:A,useAuthLoginMutation:C,useAuthUserNumberMutation:q,useAuthUserNumberVerifyMutation:w,useAuthUserForgetMutation:M,useAuthUserForgetOtpMutation:F,useAuthUserSetPasswordMutation:U,useAuthUserCreateAccountMutation:S,useAuthUserCreatePasswordMutation:I,useAuthInstituteNumberMutation:G,useAuthInstituteNumberVerifyMutation:L,useAuthInstituteCreateAccountMutation:P,useAuthInstituteCreatePasswordMutation:z,useAuthDirectJoinFormAdmissionApplicationMutation:E,useAuthGetAccountWithMobileNumberQuery:R,useAuthUserApplyOneApplicationMutation:D}=Z},38986:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(72791),a=n(52245),i=n(39230),l=n(1095),r=n(80184);const s=e=>{let{label:t,name:n,value:s,onChange:u,errorShow:c,disabled:d,customFormFileContainer:m,customFormFileLabel:h,customFormFile:_,type:v,multiple:p}=e;const{t:y}=(0,i.$G)(),f=(0,o.useCallback)((()=>{const e=window.open("".concat(l.yI,"/").concat(null===s||void 0===s?void 0:s.key),"_blank","noopener,noreferrer");e&&(e.opener=null)}),[null===s||void 0===s?void 0:s.key]);return(0,r.jsxs)("div",{className:a.Z.form_input_container,style:{...m},children:[t&&(0,r.jsxs)("label",{className:a.Z.form_input_label,style:h,children:[t,c?(0,r.jsxs)("span",{className:a.Z.form_input_label_error,children:["* ",y("form_require_label")]}):null]}),(0,r.jsxs)("div",{className:a.Z.form_file_container,style:_,children:[(0,r.jsx)("label",{className:s?"".concat(a.Z.form_file_choose," ").concat(a.Z.form_file_choose_active):a.Z.form_file_choose,htmlFor:n,children:y(""!==s?"file_choosen":"choose_file")}),(0,r.jsx)("label",{className:a.Z.form_file_choosen,onClick:f,children:""!==s?null!==s&&void 0!==s&&s.name?null===s||void 0===s?void 0:s.name:y("view"):y("no_file_chosen")})]}),(0,r.jsx)("input",{type:"file",multiple:!!p,accept:v||"image/*, .doc,.docx, application/pdf,.csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",name:n,id:n,style:{display:"none"},onChange:u,disabled:d})]})}},16917:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(72791),a=n(52245),i=n(39230),l=n(1095),r=n(80184);const s=e=>{let{label:t,value:n,shownLabel:s,customFormInputContainer:u,customFormInputLabel:c,customFormInput:d}=e;const{t:m}=(0,i.$G)(),h=(0,o.useCallback)((()=>{if(n){const e=window.open("".concat(l.yI,"/").concat(null===n||void 0===n?void 0:n.key),"_blank","noopener,noreferrer");e&&(e.opener=null)}}),[n]);return(0,r.jsxs)("div",{className:a.Z.form_read_input_container,style:u,children:[t&&(0,r.jsx)("label",{className:a.Z.form_read_input_label,style:c,children:t}),(0,r.jsx)("h6",{className:a.Z.form_read_input_file,style:d,onClick:h,children:m(null!==s&&void 0!==s?s:"view")})]})}},11468:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(39230),a=n(52245),i=n(80184);const l=e=>{var t;return e?null===e||void 0===e||null===(t=e.split("\n"))||void 0===t?void 0:t.length:2},r=e=>{let{label:t,name:n,type:r,value:s,onChange:u,placeholder:c,errorShow:d,disabled:m,customFormInputContainer:h,customFormInputLabel:_}=e;const{t:v}=(0,o.$G)();return(0,i.jsxs)("div",{className:a.Z.form_input_container,style:h,children:[t&&(0,i.jsxs)("label",{className:a.Z.form_input_label,htmlFor:n,style:_,children:[t,d&&(0,i.jsxs)("span",{className:a.Z.form_input_label_error,children:["* ",v("form_require_label")]})]}),(0,i.jsx)("textarea",{className:a.Z.form_textarea_input,type:r,value:s,onChange:u,name:n,placeholder:c,rows:l(s),disabled:m,style:{"--textarea-height":"".concat(20*l(s),"px")}})]})}},89064:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(55336),a=n(48293);const i="Modal_modal_menu_card__d0zzt";var l=n(90904),r=n(80184);const s=e=>{let{onClose:t,disabled:n,heading:s,customStyle:u,children:c}=e;return(0,r.jsx)(a.Z,{onClose:()=>{if(n)return null;t()},children:(0,r.jsxs)("div",{className:i,style:u,children:[s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h5",{children:s}),(0,r.jsx)(l.Z,{})]}):null,c,n&&(0,r.jsx)(o.Z,{})]})})}},75024:(e,t,n)=>{n.r(t),n.d(t,{default:()=>U});var o=n(39230),a=n(56959),i=n(72791),l=n(23441),r=n(91427),s=n(57588),u=n(63687),c=n(21348),d=n(90904),m=n(1669),h=n(98684),_=n(55336),v=n(2651),p=n(93638),y=n(43317),f=n(16483),b=n(16917),x=n(89064),g=n(61055),j=n(16925),Z=n(48293),k=n(38986),N=n(11468),A=n(21625),C=n(99183),q=n(80184);const w=e=>{let{onClose:t,aid:n,onRefetch:a,isEdit:l,documentMenu:r,onEdit:s}=e;const{t:u}=(0,o.$G)(),[m,v]=(0,i.useState)({doc_name:"",doc_key:"",applicable_to:""}),[f,b]=(0,i.useState)(""),[x,w]=(0,i.useState)(!1),[M,F]=(0,i.useState)(""),[U]=(0,A.FL)(),[S]=(0,y.od)();(0,i.useEffect)((()=>{var e,t,n;l&&(v({doc_name:null!==(e=null===r||void 0===r?void 0:r.document_name)&&void 0!==e?e:"",doc_key:null!==(t=null===r||void 0===r?void 0:r.document_key)&&void 0!==t?t:"",applicable_to:null!==(n=null===r||void 0===r?void 0:r.applicable_to)&&void 0!==n?n:""}),F({originalName:"document preview"}))}),[l,r]);const I=e=>{v((t=>({...t,[e.target.name]:e.target.value})))};return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(Z.Z,{onClose:t,children:(0,q.jsxs)("div",{className:j.Z.modal_container,children:[(0,q.jsx)(c.Z,{children:(0,q.jsxs)("div",{className:j.Z.modal_container_outer_header,children:[(0,q.jsx)("div",{className:j.Z.modal_container_header,children:(0,q.jsxs)("h6",{children:[" ",u(l?"update_document":"add_new_document")]})}),(0,q.jsx)("img",{src:"".concat(h.J7,"/close.svg"),alt:"close icon",onClick:t})]})}),(0,q.jsx)(d.Z,{}),(0,q.jsxs)(c.Z,{customStyle:{paddingTop:"0"},children:[(0,q.jsx)(g.Z,{label:u("document_name"),placeholder:u("document_nape_placeholder"),name:"doc_name",value:m.doc_name,type:"text",onChange:I,errorShow:f.doc_name}),(0,q.jsx)(N.Z,{label:u("document_applicable_to"),placeholder:u("document_applicable_to_placeholder"),name:"applicable_to",value:m.applicable_to,type:"text",onChange:I}),(0,q.jsx)(k.Z,{label:u("sample_documnt"),name:"document",value:M,onChange:e=>{if(e.target.files[0]){w((e=>!e));const t=new FormData;t.append("file",e.target.files[0]),U({fileUpload:t}).then((t=>{var n,o,a;F({name:null===(n=e.target.files[0])||void 0===n?void 0:n.name,key:null===(o=t.data)||void 0===o?void 0:o.imageKey,type:null===(a=e.target.files[0])||void 0===a?void 0:a.type}),v((e=>{var n;return{...e,doc_key:null===(n=t.data)||void 0===n?void 0:n.imageKey}})),w((e=>!e))})).catch({})}}}),(0,q.jsx)(p.Z,{label:l?"update":"create",onAction:()=>{let e=(0,C.l)(m,["doc_key","applicable_to"]);(0,C.x)(e)?l?s(m):(w((e=>!e)),S({aid:n,document:m}).then((()=>{a(),w((e=>!e)),t()})).catch({})):b(e)}})]})]})}),x&&(0,q.jsx)(_.Z,{})]})},M=e=>{let{aid:t,onClose:n,documentMenu:a,onRefetch:l}=e;const{t:r}=(0,o.$G)(),[s,u]=(0,i.useState)(!1),[c,d]=(0,i.useState)(!1),[m]=(0,y.yT)(),[h]=(0,y.Kw)(),_=()=>{d((e=>!e))};return c?(0,q.jsx)(w,{isEdit:!0,onClose:_,onEdit:e=>{var o;t&&null!==a&&void 0!==a&&a._id&&(u((e=>!e)),h({aid:t,editDocument:{doc:{id:null===a||void 0===a?void 0:a._id,name:null===e||void 0===e?void 0:e.doc_name,newKey:(null===e||void 0===e?void 0:e.doc_key)===(null===a||void 0===a?void 0:a.document_key)?null===a||void 0===a?void 0:a.document_key:null===e||void 0===e?void 0:e.doc_key,oldKey:(null===e||void 0===e?void 0:e.doc_key)===(null===a||void 0===a?void 0:a.document_key)?"":null===e||void 0===e?void 0:e.doc_key,applicable_to:null!==(o=null===e||void 0===e?void 0:e.applicable_to)&&void 0!==o?o:""}}}).then((()=>{l(),u((e=>!e)),n()})).catch({}))},documentMenu:a}):(0,q.jsxs)(x.Z,{onClose:n,disabled:s,children:[(0,q.jsx)("h6",{onClick:_,children:r("edit")}),(0,q.jsx)("h6",{onClick:()=>{t&&null!==a&&void 0!==a&&a._id&&(u((e=>!e)),m({aid:t,did:null===a||void 0===a?void 0:a._id}).then((()=>{l(),u((e=>!e)),n()})).catch({}))},children:r("delete")})]})},F=e=>{var t;let{document:n,onRefetch:a,aid:l}=e;const{t:r}=(0,o.$G)(),[s,u]=(0,i.useState)("");return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)("div",{className:f.Z.document_card,children:[(0,q.jsx)("img",{src:"".concat(h.U_,"/required-document.svg"),alt:"document icon"}),(0,q.jsxs)("div",{className:f.Z.document_card_text,children:[(0,q.jsxs)("p",{children:[null!==(t=null===n||void 0===n?void 0:n.document_name)&&void 0!==t?t:"",null!==n&&void 0!==n&&n.applicable_to?(0,q.jsx)("span",{style:{fontSize:"11px"},children:" (".concat(r("applicable_to"),"- ").concat(null===n||void 0===n?void 0:n.applicable_to,")")}):""]}),(0,q.jsx)(b.Z,{value:null!==n&&void 0!==n&&n.document_key?{key:null===n||void 0===n?void 0:n.document_key}:"",shownLabel:"view_attachment",customFormInputContainer:{marginBlock:"0.3rem"}})]}),(0,q.jsx)("img",{src:"".concat(h.J7,"/menu.svg"),alt:"menu icon",onClick:()=>{u(n)},className:f.Z.menu_icon,title:"Menu"})]}),s&&(0,q.jsx)(M,{onClose:()=>{u("")},onRefetch:a,aid:l,documentMenu:s})]})},U=e=>{var t,n,f;let{aid:b}=e;const{t:x}=(0,o.$G)(),[g,j]=(0,i.useState)(!1),[Z,k]=(0,i.useState)(""),[N,A]=(0,i.useState)(1),[C,M]=(0,i.useState)(!0),[U,S]=(0,l.YD)({skip:Z}),{admissionDocumentList:I,admissionDocumentListLoading:G,admissionDocumentListRefetch:L}=(0,y.cR)({data:{aid:b,page:N,limit:10,search:Z},skip:!b});(0,i.useEffect)((()=>{S&&C&&A((e=>e+1))}),[S,C]),(0,i.useEffect)((()=>{var e;if(null!==I&&void 0!==I&&null!==(e=I.list)&&void 0!==e&&e.length){var t;let e=(0,r.f)(null===I||void 0===I||null===(t=I.list)||void 0===t?void 0:t.length);M((()=>e))}}),[null===I||void 0===I?void 0:I.list]);const P=(0,i.useCallback)((0,s.J)((e=>{A((()=>1)),k(e)}),1500),[]),z=()=>{j((e=>!e))},E=(0,i.useCallback)((()=>{A((e=>1)),L()}),[L]);return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(u.Z,{children:[(0,q.jsx)(c.Z,{children:(0,q.jsxs)("div",{className:a.Z.fm_header_container,children:[(0,q.jsx)("h6",{children:x("required_documents")}),(0,q.jsxs)("div",{className:a.Z.fm_search,children:[(0,q.jsx)("section",{className:a.Z.fm_search_container,children:(0,q.jsxs)("div",{className:a.Z.fm_search_container_inner,children:[(0,q.jsx)("img",{className:a.Z.fm_search_icon,alt:"search icon",src:"".concat(h.dB,"/navbar-search.svg")}),(0,q.jsx)("input",{type:"text",placeholder:x("search"),onChange:e=>{e.target.value?P(e.target.value):(A((()=>1)),k(""))},style:{minWidth:"320px"}})]})}),(0,q.jsx)(p.Z,{label:"add_new_documents",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:z})]})]})}),(0,q.jsx)(d.Z,{}),(0,q.jsxs)(c.Z,{children:[null===I||void 0===I||null===(t=I.list)||void 0===t?void 0:t.map(((e,t)=>{var n;return(null===I||void 0===I||null===(n=I.list)||void 0===n?void 0:n.length)===t+1?(0,q.jsx)("div",{ref:U,children:(0,q.jsx)(F,{document:e,aid:b,onRefetch:E})},null===e||void 0===e?void 0:e._id):(0,q.jsx)(F,{document:e,aid:b,onRefetch:E},null===e||void 0===e?void 0:e._id)})),G?Z?(0,q.jsx)(_.Z,{}):(0,q.jsx)(m.Z,{}):Z?0===(null===I||void 0===I||null===(n=I.list)||void 0===n?void 0:n.length)&&(0,q.jsx)(v.Z,{title:"No document found related this search."}):0===(null===I||void 0===I||null===(f=I.list)||void 0===f?void 0:f.length)&&(0,q.jsx)(v.Z,{title:"No document."})]})]}),g&&(0,q.jsx)(w,{aid:b,onClose:z,onRefetch:E})]})}},16483:(e,t,n)=>{n.d(t,{Z:()=>o});const o={document_card:"AdmissionManager_document_card__OWvp9",document_card_text:"AdmissionManager_document_card_text__aokEI",menu_icon:"AdmissionManager_menu_icon__n7SJY",apf_container:"AdmissionManager_apf_container__NmQ63",apf_container_inner:"AdmissionManager_apf_container_inner__tUadZ",apfci_text:"AdmissionManager_apfci_text__pDEev"}}}]);
//# sourceMappingURL=75024.20daaa40.chunk.js.map