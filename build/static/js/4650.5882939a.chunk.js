"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[4650],{35395:function(n,e,i){var t=i(72791),a=i(98734),c=i(80184);e.Z=function(n){var e=n.children;return(0,c.jsx)(t.Suspense,{fallback:(0,c.jsx)(a.Z,{}),children:e})}},54650:function(n,e,i){i.r(e),i.d(e,{default:function(){return H}});var t=i(72791),a=i(97393),c=i(29439),o=i(74737),l=i(95048),d=i(35395),r=i(69721),u=i(85050),s=i(93738),v=i(21093),f=i(39230),_=i(87932),m=i(80184),h=t.lazy((function(){return Promise.all([i.e(3227),i.e(9534)]).then(i.bind(i,13227))})),x=function(n){n.username;var e,i,a,o,x,b,g,p,j,k,y,Z,I,S=n.financeId,A=(0,f.$G)().t,R=(0,l.v9)((function(n){return n.financeChange})),L=(0,t.useState)(0),N=(0,c.Z)(L,2),P=N[0],T=N[1],C=(0,t.useState)(0),D=(0,c.Z)(C,2),B=D[0],M=D[1],E=t.useState(!1),w=(0,c.Z)(E,2),U=w[0],z=w[1],H=(0,_.OS)({data:{fid:null!==R&&void 0!==R&&R.fid?null===R||void 0===R?void 0:R.fid:S,mod_id:""},skip:null!==R&&void 0!==R&&R.fid?!(null!==R&&void 0!==R&&R.fid):!S}),q=H.financeDetailManager,V=H.financeDetailManagerRefetch;(0,t.useEffect)((function(){(null!==R&&void 0!==R&&R.fid||S)&&V()}),[null===R||void 0===R?void 0:R.fid,S,V]),(0,t.useEffect)((function(){if(null!==q&&void 0!==q&&q.finance){var n,e,i,t,a,c,o,l,d=(null===q||void 0===q||null===(n=q.finance)||void 0===n?void 0:n.financeCashBalance)+(null===q||void 0===q||null===(e=q.finance)||void 0===e?void 0:e.financeSubmitBalance)+(null===q||void 0===q||null===(i=q.finance)||void 0===i?void 0:i.financeIncomeCashBalance);if(d>(null===q||void 0===q||null===(t=q.finance)||void 0===t?void 0:t.financeExpenseCashBalance))d-=null===q||void 0===q||null===(l=q.finance)||void 0===l?void 0:l.financeExpenseCashBalance;var r,u=(null===q||void 0===q||null===(a=q.finance)||void 0===a?void 0:a.financeBankBalance)+(null===q||void 0===q||null===(c=q.finance)||void 0===c?void 0:c.financeIncomeBankBalance);if(u>(null===q||void 0===q||null===(o=q.finance)||void 0===o?void 0:o.financeExpenseBankBalance))u-=null===q||void 0===q||null===(r=q.finance)||void 0===r?void 0:r.financeExpenseBankBalance;T(d),M(u)}}),[null===q||void 0===q?void 0:q.finance]);var F=function(){z((function(n){return!n}))},G=function(n){return(null===n||void 0===n?void 0:n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))||0};return(0,m.jsxs)("div",{style:{position:"sticky",top:"77px",height:"fit-content",width:"30%"},children:[(0,m.jsx)(v.Z,{whichType:"PREVIOUS_GO"}),(0,m.jsx)(u.Z,{dynamicImage:null!==q&&void 0!==q&&null!==(e=q.finance)&&void 0!==e&&e.cover?"".concat(r.yI,"/").concat(null===q||void 0===q||null===(i=q.finance)||void 0===i?void 0:i.cover):"/images/profileAndCover/finance-cover.svg",edit:!0,onEditAction:F}),(0,m.jsx)(s.Z,{cardAsHead:!0,heading:" ".concat((null===q||void 0===q||null===(a=q.finance)||void 0===a||null===(o=a.financeHead)||void 0===o?void 0:o.staffFirstName)||""," ").concat(null!==q&&void 0!==q&&null!==(x=q.finance)&&void 0!==x&&null!==(b=x.financeHead)&&void 0!==b&&b.staffMiddleName?null===q||void 0===q||null===(g=q.finance)||void 0===g||null===(p=g.financeHead)||void 0===p?void 0:p.staffMiddleName:""," ").concat((null===q||void 0===q||null===(j=q.finance)||void 0===j||null===(k=j.financeHead)||void 0===k?void 0:k.staffLastName)||""),description:A("finace_manager"),customStyleCard:{borderRadius:"18px 18px 0px 0px",border:"none",marginTop:"-1.49vw"}}),(0,m.jsx)(s.Z,{cardAsHead:!1,heading:A("cash"),description:A("cash_balance"),count:"Rs. ".concat(G(P))}),(0,m.jsx)(s.Z,{cardAsHead:!1,heading:A("bank"),description:A("bank_balance"),count:"Rs. ".concat(G(B))}),(0,m.jsx)(s.Z,{cardAsHead:!1,heading:A("due"),description:A("due_from_qviple"),count:"Rs. ".concat(G(null===q||void 0===q||null===(y=q.finance)||void 0===y||null===(Z=y.institute)||void 0===Z?void 0:Z.adminRepayAmount)),customStyleCard:{borderRadius:"0 0 12px 12px",borderBottom:"0.4px solid rgba(0, 0, 0, 0.15)"}}),(0,m.jsx)(d.Z,{children:(0,m.jsx)(h,{financeModal:U,hideModal:F,edit:!0,financeManagerName:null===q||void 0===q||null===(I=q.finance)||void 0===I?void 0:I.financeHead,onParentRefetch:V})})]})},b=i(39480),g=i(43504),p=i(16871),j=i(32217),k=i(64783),y=i(51717),Z=i(66576),I=t.lazy((function(){return Promise.all([i.e(6307),i.e(2195)]).then(i.bind(i,42195))})),S=t.lazy((function(){return Promise.all([i.e(6307),i.e(5263)]).then(i.bind(i,75263))})),A=t.lazy((function(){return Promise.all([i.e(6307),i.e(7181)]).then(i.bind(i,17181))}));function R(){var n,e,i=(0,t.useState)(0),a=(0,c.Z)(i,2),o=a[0],r=a[1],u=(0,l.v9)((function(n){return n.idChange.id})),s=(0,Z.xE)({id:u,skip:!u}),v=s.getPaymentDetail,_=s.getPaymentDetailRefetch,h=(0,f.$G)().t;return(0,t.useEffect)((function(){u&&_()}),[u,_]),(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:y.Z.linkedAccount,children:[2!==o?null!==v&&void 0!==v&&null!==(n=v.bank)&&void 0!==n&&n.razor_account||null!==v&&void 0!==v&&null!==(e=v.bank)&&void 0!==e&&e.bankAccountNumber?(0,m.jsx)(d.Z,{children:(0,m.jsx)(I,{bank:null===v||void 0===v?void 0:v.bank,onRefetch:_,setIndex:r})}):0===o&&(0,m.jsx)("div",{className:y.Z.linkedButton,children:(0,m.jsx)("div",{className:y.Z.btn,onClick:function(){return r(1)},children:h("link_account")})}):"",1===o&&(0,m.jsx)(d.Z,{children:(0,m.jsx)(S,{onRefetch:_,setIndex:r})}),2===o&&(0,m.jsx)(d.Z,{children:(0,m.jsx)(A,{onRefetch:_,bankDetail:null===v||void 0===v?void 0:v.bank,setIndex:r})})]})})}var L=function(n){var e=n.carryParentState,i=(0,f.$G)().t,t=(0,g.lr)(),a=(0,c.Z)(t,1)[0];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:o.Z.finance_tab_tabs,children:[(0,m.jsx)(k.Z,{tabLevel:i("menu"),customStyleContainer:{width:"33.3%",marginRight:"2px",borderTopLeftRadius:"6px"},customStyleLevel:{borderTopLeftRadius:"6px"},tabValue:"menu",currentValue:null!==a&&void 0!==a&&a.get("a")?"other":"menu",carryParentState:e,activeUrl:"finance"}),(0,m.jsx)(k.Z,{tabLevel:i("fees_structure"),customStyleContainer:{width:"33.3%",marginRight:"2px"},customStyleLevel:{borderTopLeftRadius:"6px"},tabValue:"fee",currentValue:"fee"===(null===a||void 0===a?void 0:a.get("a"))?"fee":"other",carryParentState:e,activeUrl:"finance?a=fee"}),(0,m.jsx)(k.Z,{tabLevel:i("acount"),customStyleContainer:{width:"33.3%",borderTopRightRadius:"6px"},customStyleLevel:{borderTopLeftRadius:"6px"},tabValue:"account",currentValue:"account"===(null===a||void 0===a?void 0:a.get("a"))?"account":"other",carryParentState:e,activeUrl:"finance?a=account"})]}),null!==a&&void 0!==a&&a.get("a")?"account"===(null===a||void 0===a?void 0:a.get("a"))?(0,m.jsx)(R,{}):null:(0,m.jsxs)("div",{className:o.Z.item,children:[(0,m.jsx)(j.Z,{carryParentState:e,activeTab:"?a=bank",children:(0,m.jsxs)("div",{className:o.Z.itemIcon,children:[(0,m.jsx)("img",{src:"/images/member_tab/finance/finance-bank-icon.svg",alt:"bank icon"}),(0,m.jsx)("p",{children:i("bank_details_tab")})]})}),(0,m.jsx)(j.Z,{carryParentState:e,activeTab:"?a=pending",children:(0,m.jsxs)("div",{className:o.Z.itemIcon,children:[(0,m.jsx)("img",{src:"/images/member_tab/finance/finance-pending-icon.svg",alt:"settings"}),(0,m.jsx)("p",{children:i("pending_fees")})]})}),(0,m.jsx)(j.Z,{carryParentState:e,activeTab:"?a=income",children:(0,m.jsxs)("div",{className:o.Z.itemIcon,children:[(0,m.jsx)("img",{src:"/images/member_tab/finance/finance-income-icon.svg",alt:"student Request"}),(0,m.jsx)("p",{children:i("incomes")})]})}),(0,m.jsx)(j.Z,{carryParentState:e,activeTab:"?a=expense",children:(0,m.jsxs)("div",{className:o.Z.itemIcon,children:[(0,m.jsx)("img",{src:"/images/member_tab/finance/finance-expense-icon.svg",alt:"settings"}),(0,m.jsx)("p",{children:i("expenses")})]})}),(0,m.jsx)(j.Z,{carryParentState:e,activeTab:"?a=history",children:(0,m.jsxs)("div",{className:o.Z.itemIcon,children:[(0,m.jsx)("img",{src:"/images/member_tab/finance/finance-history-icon.svg",alt:"repayment"}),(0,m.jsx)("p",{children:i("finance_transaction_hisotry")})]})}),(0,m.jsx)(j.Z,{carryParentState:e,activeTab:"?a=export",children:(0,m.jsxs)("div",{className:o.Z.itemIcon,children:[(0,m.jsx)("img",{src:"/images/member_tab/finance/finance-export-icon.svg",alt:"refund"}),(0,m.jsx)("p",{children:i("data_export")})]})}),(0,m.jsx)(j.Z,{carryParentState:e,activeTab:"?a=moderator",children:(0,m.jsxs)("div",{className:o.Z.itemIcon,children:[(0,m.jsx)("img",{src:"/images/member_tab/finance/finance-moderator-icon.svg",alt:"moderator icon"}),(0,m.jsx)("p",{children:i("finance_moderator")})]})})]})]})},N=t.lazy((function(){return Promise.all([i.e(6307),i.e(3512),i.e(9017),i.e(7338),i.e(3662),i.e(6328),i.e(1104),i.e(7618),i.e(7879)]).then(i.bind(i,65361))})),P=t.lazy((function(){return i.e(6859).then(i.bind(i,56859))})),T=t.lazy((function(){return Promise.all([i.e(7338),i.e(6697),i.e(4565)]).then(i.bind(i,84565))})),C=t.lazy((function(){return Promise.all([i.e(9891),i.e(6232)]).then(i.bind(i,66232))})),D=t.lazy((function(){return i.e(8063).then(i.bind(i,48063))})),B=t.lazy((function(){return i.e(6433).then(i.bind(i,76433))})),M=t.lazy((function(){return i.e(2720).then(i.bind(i,2720))})),E=t.lazy((function(){return i.e(7566).then(i.bind(i,47566))})),w=t.lazy((function(){return Promise.all([i.e(9017),i.e(7782),i.e(8455)]).then(i.bind(i,18455))}));var U=function(){var n,e,i,a,r,u,s,v,f,h,j,k,y,Z,I,S,A,R,U,z,H,q,V=(0,g.lr)(),F=(0,c.Z)(V,1)[0],G=(0,p.UO)(),O=(0,p.TH)(),J=(0,l.v9)((function(n){return n.financeChange})),X=(0,l.v9)((function(n){return n.idChange})),W=(0,b.gq)({id:null===X||void 0===X?void 0:X.id,skip:!(null!==X&&void 0!==X&&X.id)}),$=W.oneInstituteDashboard,K=W.oneInstituteDashboardRefetch;(0,t.useEffect)((function(){null!==X&&void 0!==X&&X.id&&K()}),[null===X||void 0===X?void 0:X.id,K]);var Q=(0,_.OS)({data:{fid:null!==J&&void 0!==J&&J.fid?null===J||void 0===J?void 0:J.fid:null===$||void 0===$||null===(n=$.institute)||void 0===n?void 0:n.financeDepart[0],mod_id:""},skip:null!==J&&void 0!==J&&J.fid?!(null!==J&&void 0!==J&&J.fid):!(null!==$&&void 0!==$&&null!==(e=$.institute)&&void 0!==e&&e.financeDepart[0])}),Y=Q.financeDetailManager,nn=Q.financeDetailManagerRefetch;return(0,t.useEffect)((function(){var n;(null!==J&&void 0!==J&&J.fid||null!==$&&void 0!==$&&null!==(n=$.institute)&&void 0!==n&&n.financeDepart[0])&&nn()}),[null===J||void 0===J?void 0:J.fid,null===$||void 0===$||null===(i=$.institute)||void 0===i?void 0:i.financeDepart[0],nn]),(0,m.jsxs)("div",{className:o.Z.main,children:[(0,m.jsx)(x,{username:G.username,financeId:null===$||void 0===$||null===(a=$.institute)||void 0===a?void 0:a.financeDepart[0]}),(0,m.jsxs)("div",{className:null!==F&&void 0!==F&&F.get("a")&&"account"!==(null===F||void 0===F?void 0:F.get("a"))&&"fee"!==(null===F||void 0===F?void 0:F.get("a"))?o.Z.finance_container_other:o.Z.finance_container,children:[(!(null!==F&&void 0!==F&&F.get("a"))||"account"===(null===F||void 0===F?void 0:F.get("a"))||"fee"===(null===F||void 0===F?void 0:F.get("a")))&&(0,m.jsx)(L,{carryParentState:O.state}),(0,m.jsxs)(d.Z,{children:["internal"===(null===F||void 0===F?void 0:F.get("a"))&&(0,m.jsx)(D,{detailFund:null===Y||void 0===Y?void 0:Y.finance,financeId:null===$||void 0===$||null===(r=$.institute)||void 0===r?void 0:r.financeDepart[0],fId:null===J||void 0===J?void 0:J.fid}),"income"===(null===F||void 0===F?void 0:F.get("a"))&&(0,m.jsx)(B,{fId:null!==J&&void 0!==J&&J.fid?null===J||void 0===J?void 0:J.fid:null===$||void 0===$||null===(u=$.institute)||void 0===u?void 0:u.financeDepart[0]}),"expense"===(null===F||void 0===F?void 0:F.get("a"))&&(0,m.jsx)(M,{fId:null!==J&&void 0!==J&&J.fid?null===J||void 0===J?void 0:J.fid:null===$||void 0===$||null===(s=$.institute)||void 0===s?void 0:s.financeDepart[0]}),"pending"===(null===F||void 0===F?void 0:F.get("a"))&&(0,m.jsx)("div",{style:{marginTop:"1vw"},children:(0,m.jsx)(E,{fId:null!==J&&void 0!==J&&J.fid?null===J||void 0===J?void 0:J.fid:null===$||void 0===$||null===(v=$.institute)||void 0===v?void 0:v.financeDepart[0]})}),"history"===(null===F||void 0===F?void 0:F.get("a"))&&(0,m.jsx)(w,{insId:null===$||void 0===$||null===(f=$.institute)||void 0===f?void 0:f._id}),"bank"===(null===F||void 0===F?void 0:F.get("a"))&&(0,m.jsx)("div",{className:o.Z.institute_finance_container_border,children:(0,m.jsx)(C,{financeId:null!==J&&void 0!==J&&J.fid?null===J||void 0===J?void 0:J.fid:null===$||void 0===$||null===(h=$.institute)||void 0===h?void 0:h.financeDepart[0],viewAs:"INSTITUTE"})}),"export"===(null===F||void 0===F?void 0:F.get("a"))&&(0,m.jsx)("div",{className:o.Z.institute_finance_container_border,children:(0,m.jsx)(T,{financeId:null!==J&&void 0!==J&&J.fid?null===J||void 0===J?void 0:J.fid:null===$||void 0===$||null===(j=$.institute)||void 0===j?void 0:j.financeDepart[0],insId:null===$||void 0===$||null===(k=$.institute)||void 0===k?void 0:k._id,hostelId:null===Y||void 0===Y||null===(y=Y.finance)||void 0===y||null===(Z=y.institute)||void 0===Z||null===(I=Z.hostelDepart)||void 0===I?void 0:I[0],viewAs:"INSTITUTE"})}),"moderator"===(null===F||void 0===F?void 0:F.get("a"))&&(0,m.jsx)("div",{className:o.Z.institute_finance_container_border,children:(0,m.jsx)(P,{financeId:null!==J&&void 0!==J&&J.fid?null===J||void 0===J?void 0:J.fid:null===$||void 0===$||null===(S=$.institute)||void 0===S?void 0:S.financeDepart[0],insId:null===$||void 0===$||null===(A=$.institute)||void 0===A?void 0:A._id})}),"fee"===(null===F||void 0===F?void 0:F.get("a"))&&(0,m.jsx)(N,{financeId:null===Y||void 0===Y||null===(R=Y.finance)||void 0===R?void 0:R._id,instituteId:null===Y||void 0===Y||null===(U=Y.finance)||void 0===U||null===(z=U.institute)||void 0===z?void 0:z._id,fees_category_count:null===Y||void 0===Y||null===(H=Y.finance)||void 0===H?void 0:H.fees_category_count,fee_master_array_count:null===Y||void 0===Y||null===(q=Y.finance)||void 0===q?void 0:q.fee_master_array_count,carryParentState:O.state,viewAs:"INSTITUTE"})]})]})]})},z=i(20772);var H=function(){return(0,m.jsxs)("div",{className:a.Z.bgContainer,children:[(0,m.jsx)("div",{className:a.Z.navbar,children:(0,m.jsx)(z.default,{status:"home"})}),(0,m.jsx)("div",{className:a.Z.editContainer,children:(0,m.jsx)(U,{})})]})}},32217:function(n,e,i){var t=i(1413),a=(i(72791),i(16871)),c=i(43504),o=i(80184);e.Z=function(n){var e=n.carryParentState,i=n.activeTab,l=n.children,d=(0,a.UO)();return(0,o.jsx)(c.rU,{to:"/q/".concat(d.username,"/finance").concat(i),state:(0,t.Z)({},e),children:l})}},64783:function(n,e,i){i(72791);var t=i(90788),a=i(16871),c=i(43504),o=i(80184);e.Z=function(n){var e=n.tabLevel,i=n.customStyleContainer,l=n.customStyleLevel,d=n.currentValue,r=n.tabValue,u=n.carryParentState,s=n.activeUrl,v=(0,a.UO)();return(0,o.jsx)(c.rU,{to:"/q/".concat(v.username,"/").concat(s),state:u,className:d===r?t.Z.common_tab_container_active:t.Z.common_tab_container,style:i,children:(0,o.jsx)("h6",{className:d===r?t.Z.common_tab_text_active:t.Z.common_tab_text,style:l,children:e})})}},66576:function(n,e,i){i.d(e,{C9:function(){return c},R1:function(){return u},c9:function(){return r},ed:function(){return o},fM:function(){return d},xE:function(){return l}});var t=i(29439),a=i(14304),c=function(){var n=(0,a.cr)();return[(0,t.Z)(n,1)[0]]},o=function(n){var e=(0,a.lv)(n.id,{skip:n.skip});return{financeRemainBalance:e.data,financeRemainBalanceRefetch:e.refetch}},l=function(n){var e=(0,a.wA)(n.id,{skip:n.skip});return{getPaymentDetail:e.data,getPaymentDetailRefetch:e.refetch}},d=function(){var n=(0,a.pX)();return[(0,t.Z)(n,1)[0]]},r=function(){var n=(0,a.em)();return[(0,t.Z)(n,1)[0]]},u=function(){var n=(0,a.rw)();return[(0,t.Z)(n,1)[0]]}},97393:function(n,e){e.Z={navbar:"InsFinance_navbar__BwqhT",editContainer:"InsFinance_editContainer__JeVmy",bgContainer:"InsFinance_bgContainer__8oJKn"}},74737:function(n,e){e.Z={main:"Main_main__4mpMH",stats:"Main_stats__05reL",stats1:"Main_stats1__WlbdF",finance_container:"Main_finance_container__2pMkG",finance_container_other:"Main_finance_container_other__+Fq3c",institute_finance_container_border:"Main_institute_finance_container_border__Jgqpr",finance_tab_tabs:"Main_finance_tab_tabs__ufRpi",item:"Main_item__RsX-U",itemIcon:"Main_itemIcon__MA5vy"}},51717:function(n,e){e.Z={linkedButton:"LinkedAccount_linkedButton__9gt7i",btn:"LinkedAccount_btn__Birac",linkform:"LinkedAccount_linkform__nnuJ+",input:"LinkedAccount_input__0wh6+",gstcheck:"LinkedAccount_gstcheck__vpSFi",title:"LinkedAccount_title__uA2XT",likedbtn:"LinkedAccount_likedbtn__n3KCR",selectAccount:"LinkedAccount_selectAccount__iJWxI",checkbox:"LinkedAccount_checkbox__lv3GE",sidebarbottomitem:"LinkedAccount_sidebarbottomitem__6a83U",namee:"LinkedAccount_namee__P2HGf",desig:"LinkedAccount_desig__bTXWB",accountInfo:"LinkedAccount_accountInfo__x8-q7",verify:"LinkedAccount_verify__R2RLk",green:"LinkedAccount_green__8-hhR",red:"LinkedAccount_red__d3u5i",dots:"LinkedAccount_dots__vV3gm",menu:"LinkedAccount_menu__Aa8fa"}}}]);
//# sourceMappingURL=4650.5882939a.chunk.js.map