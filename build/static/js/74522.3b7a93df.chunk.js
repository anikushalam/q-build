"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[74522],{33030:(e,n,l)=>{l.d(n,{Z:()=>a});var i=l(39230),t=l(80476),o=l(80184);const a=e=>{let{label:n,onAction:l,customStyle:a}=e;const{t:s}=(0,i.$G)();return(0,o.jsx)("div",{className:t.Z.btn_container,onClick:()=>{l()},style:a,children:s(n)})}},8959:(e,n,l)=>{l.d(n,{Z:()=>o});var i=l(52245),t=l(80184);const o=e=>{let{label:n,value:l,customFormInputContainer:o,customFormInputLabel:a,customFormInput:s,children:d}=e;return(0,t.jsxs)("div",{className:i.Z.form_read_input_container,style:o,children:[n?(0,t.jsx)("label",{className:i.Z.form_read_input_label,style:a,children:n}):null,d,(0,t.jsx)("h6",{className:i.Z.form_read_input,style:s,children:l})]})}},11468:(e,n,l)=>{l.d(n,{Z:()=>s});var i=l(39230),t=l(52245),o=l(80184);const a=e=>{var n;return e?null===e||void 0===e||null===(n=e.split("\n"))||void 0===n?void 0:n.length:2},s=e=>{let{label:n,name:l,type:s,value:d,onChange:r,placeholder:c,errorShow:u,disabled:_,customFormInputContainer:v,customFormInputLabel:m}=e;const{t:h}=(0,i.$G)();return(0,o.jsxs)("div",{className:t.Z.form_input_container,style:v,children:[n&&(0,o.jsxs)("label",{className:t.Z.form_input_label,htmlFor:l,style:m,children:[n,u&&(0,o.jsxs)("span",{className:t.Z.form_input_label_error,children:["* ",h("form_require_label")]})]}),(0,o.jsx)("textarea",{className:t.Z.form_textarea_input,type:s,value:d,onChange:r,name:l,placeholder:c,rows:a(d),disabled:_,style:{"--textarea-height":"".concat(20*a(d),"px")}})]})}},77123:(e,n,l)=>{l.d(n,{Z:()=>g});var i=l(6758),t=l(1669),o=l(57588),a=l(91427),s=l(72791),d=l(39230),r=l(23441),c=l(4007),u=l(48293),_=l(21348),v=l(90904),m=l(98684),h=l(80184);const p=e=>{var n,l,i;let{structure:t,selectedStructure:o,onSelect:a}=e;const{t:s}=(0,d.$G)();return(0,h.jsxs)("div",{className:o===(null===t||void 0===t?void 0:t._id)?"".concat(c.Z.fees_card," ").concat(c.Z.fees_card_hover_active):"".concat(c.Z.fees_card," ").concat(c.Z.fees_card_hover),onClick:()=>{a(t)},style:{cursor:"pointer"},children:[(0,h.jsx)("img",{src:"".concat(m.J7,"/category.svg"),alt:"categor icon"}),(0,h.jsxs)("div",{className:c.Z.fees_card_text,children:[(0,h.jsx)("div",{className:c.Z.fees_card_text_bottom,children:(0,h.jsx)("h6",{children:null!==(n=null===t||void 0===t?void 0:t.unique_structure_name)&&void 0!==n?n:""})}),(0,h.jsxs)("div",{className:c.Z.fees_card_text_bottom,children:[(0,h.jsxs)("h6",{children:[s("applicable_fees_only")," ",s("rs_only"),null!==(l=null===t||void 0===t?void 0:t.applicable_fees)&&void 0!==l?l:0]}),(0,h.jsxs)("h6",{children:[s("total_admission_fees")," "," : "," ",s("rs_only"),null!==(i=null===t||void 0===t?void 0:t.total_admission_fees)&&void 0!==i?i:0]})]})]})]})};var f=l(93638),x=l(55336),j=l(2651);const g=e=>{var n,l,g,y,b,Z,S;let{onClose:C,did:N,bid:k,cmid:A,selectedStructure:F,onSelectedStrucutre:I,title:w,oneStep:T}=e;const{t:M}=(0,d.$G)(),[P,D]=(0,s.useState)(""),[E,G]=(0,s.useState)(1),[O,B]=(0,s.useState)(!0),[q,R]=(0,r.YD)({skip:P}),[L,U]=(0,s.useState)(""),{financeAllFeeStructure:$,financeAllFeeStructureLoading:V}=(0,i.P)({data:{did:N,page:E,limit:10,search:P,filterBy:A,batchBy:k},skip:!N});(0,s.useEffect)((()=>{R&&O&&G((e=>e+1))}),[R,O]),(0,s.useEffect)((()=>{var e;if(null!==$&&void 0!==$&&null!==(e=$.list)&&void 0!==e&&e.length){var n;let e=(0,a.f)(null===$||void 0===$||null===(n=$.list)||void 0===n?void 0:n.length);B((()=>e))}}),[null===$||void 0===$||null===(n=$.list)||void 0===n?void 0:n.length]);const H=(0,s.useCallback)((0,o.J)((e=>{G((()=>1)),D(e)}),500),[]),z=e=>{T&&I(e),U(e)};return(0,h.jsx)(h.Fragment,{children:L?(0,h.jsx)(u.Z,{onClose:C,children:(0,h.jsxs)("div",{className:c.Z.modal_container,children:[(0,h.jsx)(_.Z,{children:(0,h.jsxs)("div",{className:c.Z.modal_container_outer_header,children:[(0,h.jsx)("div",{className:c.Z.modal_container_header,children:(0,h.jsx)("h6",{children:M("fee_structure")})}),(0,h.jsx)("img",{src:"".concat(m.J7,"/close.svg"),alt:"close icon",onClick:()=>z("")})]})}),(0,h.jsx)(v.Z,{}),(0,h.jsxs)(_.Z,{customStyle:{paddingTop:"0.3rem"},children:[(0,h.jsxs)("div",{className:c.Z.fee_middle_section,children:[(0,h.jsx)("p",{children:M("fee_structure_of_student_is")}),(0,h.jsx)("h6",{children:null===L||void 0===L||null===(b=L.category_master)||void 0===b?void 0:b.category_name}),(0,h.jsxs)("p",{children:[" ",M("total_admission_fees")," "," : "," ",M("rs")," ",(0,h.jsx)("span",{style:{fontWeight:"600"},children:null!==(Z=null===L||void 0===L?void 0:L.total_admission_fees)&&void 0!==Z?Z:0})]}),(0,h.jsxs)("p",{children:[M("applicable_fees_amount")," "," : "," ",M("rs")," ",(0,h.jsx)("span",{style:{fontWeight:"600"},children:null!==(S=null===L||void 0===L?void 0:L.applicable_fees)&&void 0!==S?S:0})]})]}),(0,h.jsx)(f.Z,{label:"confirm",onAction:()=>I(L)})]})]})}):(0,h.jsx)(u.Z,{onClose:C,children:(0,h.jsxs)("div",{className:c.Z.modal_container,style:{maxWidth:"40rem"},children:[(0,h.jsx)(_.Z,{children:(0,h.jsxs)("div",{className:c.Z.modal_container_outer_header,children:[(0,h.jsx)("div",{className:c.Z.modal_container_header,children:(0,h.jsx)("h6",{children:M(null!==w&&void 0!==w?w:"edit_fees_structure")})}),(0,h.jsx)("img",{src:"".concat(m.J7,"/close.svg"),alt:"close icon",onClick:C})]})}),(0,h.jsx)(v.Z,{}),(0,h.jsxs)(_.Z,{customStyle:{paddingTop:"0.3rem"},children:[(0,h.jsxs)("div",{className:c.Z.fm_search_full_container_inner,style:{marginBottom:"0.6rem"},children:[(0,h.jsx)("input",{type:"text",placeholder:M("search"),className:c.Z.fm_search_full_container_inner,onChange:e=>{e.target.value?H(e.target.value):(G((()=>1)),D(""))}}),(0,h.jsx)("img",{src:"".concat(m.dB,"/navbar-search.svg"),alt:"search icon",className:c.Z.fm_search_full_icon})]}),null===$||void 0===$||null===(l=$.list)||void 0===l?void 0:l.map(((e,n)=>{var l;return(null===$||void 0===$||null===(l=$.list)||void 0===l?void 0:l.length)===n+1?(0,h.jsx)("div",{ref:q,children:(0,h.jsx)(p,{structure:e,selectedStructure:F,onSelect:z})},null===e||void 0===e?void 0:e._id):(0,h.jsx)(p,{structure:e,selectedStructure:F,onSelect:z},null===e||void 0===e?void 0:e._id)})),V?P?(0,h.jsx)(x.Z,{}):(0,h.jsx)(t.Z,{}):P?0===(null===$||void 0===$||null===(g=$.list)||void 0===g?void 0:g.length)&&(0,h.jsx)(j.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No fee structure found related this search."}):0===(null===$||void 0===$||null===(y=$.list)||void 0===y?void 0:y.length)&&(0,h.jsx)(j.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No fee structure added."})]})]})})})}},50518:(e,n,l)=>{l.d(n,{Z:()=>a});var i=l(19056),t=l(52245),o=l(80184);const a=e=>{let{paymentHeading:n,selectLabel:l,onClick:a,selectedValue:d,customStyleContainer:r,customLabelStyle:c,customListStyle:u,errorShow:_,defalutValue:v,isAuthority:m,isDenied:h}=e;return(0,o.jsxs)(o.Fragment,{children:[n&&(0,o.jsx)("h6",{className:t.Z.payment_mode_heading,children:n}),(0,o.jsx)(i.Z,{selectLabel:l,onClick:a,selectedValue:d,options:s[m],customStyleContainer:r,customLabelStyle:c,customListStyle:u,errorShow:_,defalutValue:v,isDenied:h})]})};let s={admissionCollectMode:["Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft"],admissionCollectModePg:["Payment Gateway","Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft"],admissionStudentProfileCollectMode:["Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft","Unrecovered/Exemption"],admissionStudentProfileCollectModePg:["Payment Gateway","Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft","Unrecovered/Exemption"],depositRefundMode:["By Bank","By Cash"]}},66687:(e,n,l)=>{l.d(n,{Z:()=>Z});var i=l(39230),t=l(48293),o=l(21348),a=l(16925),s=l(90904),d=l(72791),r=l(98684),c=l(55336),u=l(93638),_=l(61055),v=l(99183),m=l(71439),h=l(64499),p=l(16871),f=l(20659),x=l(26071),j=l(7562),g=l(8959),y=l(60307),b=l(80184);const Z=e=>{var n,l,Z,S,C,N,k,A;let{onClose:F,install:I,admission:w,isEditable:T,statusId:M}=e;const{t:P}=(0,i.$G)(),D=(0,p.UO)(),[E,G]=(0,d.useState)(!1),[O,B]=(0,d.useState)({amount:0,type:"Admission",isTransaction:!1,pay_remain:!1}),[q,R]=(0,d.useState)(""),[L,U]=(0,d.useState)(0),{studentInstituteCharges:$}=(0,y.xY)({data:{id:null===I||void 0===I?void 0:I.instituteId},skip:!(null!==I&&void 0!==I&&I.instituteId)});(0,d.useEffect)((()=>{var e;null!==I&&void 0!==I&&I.remainAmount&&B({amount:null!==(e=null===I||void 0===I?void 0:I.remainAmount)&&void 0!==e?e:0,type:"Admission",isTransaction:!1,pay_remain:!1})}),[]);const V=e=>{if(B((n=>({...n,pay_remain:e}))),e){let e=0;for(let l of null===w||void 0===w||null===(n=w.applicable_card)||void 0===n?void 0:n.remaining_array){var n;"Paid"!==(null===l||void 0===l?void 0:l.status)&&(e+=null===l||void 0===l?void 0:l.remainAmount)}U(e),B((n=>{var l;return{...n,amount:null!==(l=e)&&void 0!==l?l:0}}))}};return(0,b.jsxs)(b.Fragment,{children:[O.isTransaction?(0,b.jsx)(m.Z,{onClose:()=>{B((e=>({...e,isTransaction:!1})))},allContent:{...O,platform_charges:null===$||void 0===$||null===(n=$.platform_charges)||void 0===n?void 0:n.percentage},checkoutAdmissionHandler:()=>{var e,n,l,i,t,o,a,s,d,r,c,u,_;let v=2.1*+(null===O||void 0===O?void 0:O.amount)/100,m=v+18*+v/100;const p=parseInt(null===O||void 0===O?void 0:O.amount);var f=Math.ceil(p+ +m.toFixed(2));(0,h.oU)({amount:null!==(e=+(null===O||void 0===O?void 0:O.amount))&&void 0!==e?e:10,amount_nocharges:null!==(n=+f)&&void 0!==n?n:0,type:"Admission",paidBy:"".concat(M?null===w||void 0===w?void 0:w.student:null===w||void 0===w||null===(l=w.student)||void 0===l?void 0:l._id),paidTo:"".concat(null===I||void 0===I?void 0:I.instituteId),moduleId:"".concat(null===I||void 0===I?void 0:I.appId),ad_status_id:M||null,payment_installment:null===I||void 0===I?void 0:I.installmentValue,ad_install:null,month:null,payment_remain_1:null,payment_card_type:null,payment_book_id:null,name:D.username,isApk:"web",payment_card_id:null!==(i=null===w||void 0===w?void 0:w._id)&&void 0!==i?i:null,payment_remain_fees:O.pay_remain,charge:{num_platform_percent:null!==(t=null===$||void 0===$||null===(o=$.platform_charges)||void 0===o?void 0:o.percentage)&&void 0!==t?t:0,num_platform_max:null!==(a=null===$||void 0===$||null===(s=$.platform_charges)||void 0===s?void 0:s.maximum)&&void 0!==a?a:0,num_trans_pecent:null!==(d=null===$||void 0===$||null===(r=$.transaction_charges)||void 0===r?void 0:r.percentage)&&void 0!==d?d:0,num_trans_max:null!==(c=null===$||void 0===$||null===(u=$.transaction_charges)||void 0===u?void 0:u.maximum)&&void 0!==c?c:0,num_app_max:null!==(_=null===$||void 0===$?void 0:$.application_charges)&&void 0!==_?_:0},nsid:null===I||void 0===I?void 0:I._id}).then((e=>{var n,l;window.onScriptLoad(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(l=n.body)||void 0===l?void 0:l.txnToken,null===e||void 0===e?void 0:e.order,null===e||void 0===e?void 0:e.amount)})).catch((e=>{console.info(e)}))},isOptimzed:!0}):(0,b.jsx)(t.Z,{onClose:F,children:(0,b.jsxs)("div",{className:a.Z.modal_container,children:[(0,b.jsx)(o.Z,{children:(0,b.jsxs)("div",{className:a.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:a.Z.modal_container_header,children:(0,b.jsx)("h6",{children:P("pay_admission_fees")})}),(0,b.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:F})]})}),(0,b.jsx)(s.Z,{}),(0,b.jsxs)(o.Z,{customStyle:{paddingTop:"0"},children:[(0,b.jsxs)("div",{className:a.Z.admission_fees_row,children:[(0,b.jsxs)("h6",{children:[P("applicable_pendig_fees_only")," :"]}),(0,b.jsxs)("h6",{children:[P("rs_only")," ",null!==(l=null===w||void 0===w||null===(Z=w.applicable_card)||void 0===Z?void 0:Z.applicable_fee)&&void 0!==l?l:0]})]}),(0,b.jsx)("div",{className:a.Z.admission_fees_row,children:(0,b.jsxs)("h6",{children:[P("fees_category")," :"," ",null!==(S=null===w||void 0===w||null===(C=w.fee_structure)||void 0===C||null===(N=C.category_master)||void 0===N?void 0:N.category_name)&&void 0!==S?S:""]})}),null!==w&&void 0!==w&&null!==(k=w.fee_structure)&&void 0!==k&&k.total_installments&&+(null===w||void 0===w||null===(A=w.fee_structure)||void 0===A?void 0:A.total_installments)>1&&T?(0,b.jsx)(f.Z,{label:"pay_rest_remaining_fees",children:null===j.nj||void 0===j.nj?void 0:j.nj.map((e=>(0,b.jsx)(x.Z,{tile:e,onTile:V,activeTile:O.pay_remain},null===e||void 0===e?void 0:e.id)))}):null,T?(0,b.jsx)(_.Z,{label:P(O.pay_remain?"amount_remain_installment":"enter_amount_to_be_paid"),placeholder:P("please_enter_amount_paid"),name:"amount",value:O.amount,type:"tel",onChange:e=>{B((n=>({...n,amount:+e.target.value})))},errorShow:q.amount,msg:q.rest_issue}):(0,b.jsx)(g.Z,{label:"".concat(P(O.pay_remain?"amount_remain_installment":"amount_to_be_paid")),value:O.pay_remain?L:O.amount}),(0,b.jsx)(u.Z,{label:"pay_admission_fees",onAction:()=>{let e=(0,v.l)({amount:O.amount});var n,l;(0,v.x)(e)?O.pay_remain&&O.amount<L&&+(null===w||void 0===w||null===(n=w.fee_structure)||void 0===n?void 0:n.total_installments)>1?R({rest_issue:"Amount should not be less than total remaining fees"}):!O.pay_remain&&O.amount<(null===I||void 0===I?void 0:I.remainAmount)&&+(null===w||void 0===w||null===(l=w.fee_structure)||void 0===l?void 0:l.total_installments)>1?R({rest_issue:"Amount should not be greater than remaining fees"}):B((e=>({...e,isTransaction:!0}))):R(e)}})]})]})}),E&&(0,b.jsx)(c.Z,{})]})}},51874:(e,n,l)=>{l.d(n,{Z:()=>Ne});var i=l(16871),t=l(78981),o=l(60307),a=l(21348),s=l(1669),d=l(2651),r=l(72791),c=l(98684),u=l(39230),_=l(48293),v=l(16925),m=l(90904),h=l(93638),p=l(55336),f=l(61055),x=l(99183),j=l(85794),g=l(80184);const y=e=>{let{onClose:n,setScholarNumber:l,scholarNumber:i,rcid:t}=e;const{t:s}=(0,u.$G)(),[d,y]=(0,r.useState)(!1),[b,Z]=(0,r.useState)(null!==i&&void 0!==i?i:""),[S,C]=(0,r.useState)(!1),[N,k]=(0,r.useState)({open:!1,msg:"",variant:"error"}),[A]=(0,o.Fi)(),[F]=(0,o.YK)();(0,r.useEffect)((()=>{i&&Z(i)}),[i]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(_.Z,{children:(0,g.jsxs)("div",{className:v.Z.modal_container,children:[(0,g.jsx)(a.Z,{children:(0,g.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:v.Z.modal_container_header,children:(0,g.jsx)("h6",{children:s("scholarship_application_no")})}),(0,g.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,g.jsx)(m.Z,{}),(0,g.jsxs)(a.Z,{customStyle:{paddingTop:"0"},children:[(0,g.jsx)(f.Z,{placeholder:s("scholarship_application_no_placeholder"),name:"scholar",value:b,type:"text",onChange:e=>Z(e.target.value),errorShow:S.query}),(0,g.jsx)(h.Z,{label:"update",onAction:()=>{let e=(0,x.l)({query:b},[]);(0,x.x)(e)?(y((e=>!e)),F({num:b}).then((e=>{var i;null!==(i=e.data)&&void 0!==i&&i.count?(k({msg:"This scholarship number already added",open:!0,variant:"error"}),y((e=>!e))):A({rcid:t,scholarData:{scholar_ship_number:b}}).then((()=>{l(b),y((e=>!e)),n()})).catch({})})).catch({})):C(e)}})]})]})}),d&&(0,g.jsx)(p.Z,{}),(0,g.jsx)(j.Z,{eventState:N,eventStateHandler:k})]})},b=e=>{let{scholarNumber:n,rcid:l}=e;const{t:o}=(0,u.$G)(),a=(0,i.TH)(),[s,d]=(0,r.useState)(""),[c,_]=(0,r.useState)(null!==n&&void 0!==n?n:"");(0,r.useEffect)((()=>{n&&_(n)}),[n]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:t.Z.student_admission_count_container,onClick:()=>{var e;Z[null===(e=a.state)||void 0===e?void 0:e.editGovtNumberContorl]&&d(1)},children:(0,g.jsx)("button",{className:t.Z.add_scholar_number_btn,children:c?(0,g.jsxs)(g.Fragment,{children:[o("edit_scholarship_application_no"),(0,g.jsx)("span",{style:{color:"#121212"},children:c})]}):o("add_scholarship_application_no_if_applicable")})}),1===s?(0,g.jsx)(y,{onClose:()=>{d("")},scholarNumber:c,setScholarNumber:_,rcid:l}):null]})},Z={authorized:!0};var S=l(60924),C=l(43997),N=l(50518);const k=e=>{var n;let{onClose:l,admission:i}=e;const{t:t}=(0,u.$G)(),[s,d]=(0,r.useState)(!1),[j,y]=(0,r.useState)({amount:"",mode:"Online",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),[b,Z]=(0,r.useState)(""),[k]=(0,o.LK)();(0,r.useEffect)((()=>{y((e=>({...e,amount:null===i||void 0===i?void 0:i.excess_fee,fee_payment_amount:null===i||void 0===i?void 0:i.excess_fee})))}),[i]);const A=e=>{y((n=>({...n,[e.target.name]:e.target.value})))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(_.Z,{onClose:l,children:(0,g.jsxs)("div",{className:v.Z.modal_container,children:[(0,g.jsx)(a.Z,{children:(0,g.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:v.Z.modal_container_header,children:(0,g.jsx)("h6",{children:t("refund_excess_fees")})}),(0,g.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:l})]})}),(0,g.jsx)(m.Z,{}),(0,g.jsxs)(a.Z,{customStyle:{paddingTop:"0"},children:[(0,g.jsxs)("div",{className:v.Z.admission_fees_row,children:[(0,g.jsxs)("h6",{children:[t("refund_amount")," :"]}),(0,g.jsxs)("h6",{children:[t("rs_only")," ",null!==(n=null===i||void 0===i?void 0:i.excess_fee)&&void 0!==n?n:0]})]}),(0,g.jsx)(f.Z,{label:t("amount"),placeholder:t("amoute_details_collect"),name:"amount",value:j.amount,type:"tel",onChange:e=>{},errorShow:b.amount}),(0,g.jsx)(N.Z,{paymentHeading:t("payment_type_mode"),selectLabel:t("mode_placeholder"),errorShow:b.fee_payment_mode,onClick:e=>{y((n=>({...n,fee_payment_mode:e})))},defalutValue:j.fee_payment_mode,selectedValue:t("please_select_payment_mode"),isAuthority:"admissionCollectMode",customLabelStyle:{marginTop:"0"}}),(0,g.jsx)(S.Z,{label:t("select_date_of_transaction"),placeholder:t("please_select_date"),name:"transaction_date",value:j.transaction_date,onChange:e=>{y((n=>({...n,transaction_date:(0,C.jh)(e)})))},errorShow:b.transaction_date}),"Cash"===j.fee_payment_mode?null:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(f.Z,{label:t("bank_name_collect"),placeholder:t("please_enter_bank_name"),name:"fee_bank_name",value:j.fee_bank_name,type:"text",onChange:A}),(0,g.jsx)(f.Z,{label:t("banke_holder_name"),placeholder:t("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:j.fee_bank_holder,type:"text",onChange:A}),(0,g.jsx)(f.Z,{label:t("cheque_dd_neft"),placeholder:t("please_enter_utr_ref_number"),name:"fee_utr_reference",value:j.fee_utr_reference,type:"text",onChange:A})]}),(0,g.jsx)(h.Z,{label:"confirm",onAction:()=>{let e=(0,x.l)(j,["fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference"]);var n,t,o,a,s,r,c,u,_,v,m,h,p,f,g;(0,x.x)(e)?null!==i&&void 0!==i&&null!==(n=i.student)&&void 0!==n&&n._id&&null!==i&&void 0!==i&&null!==(t=i.appId)&&void 0!==t&&t._id&&null!==i&&void 0!==i&&null!==(o=i.appId)&&void 0!==o&&null!==(a=o.admissionAdmin)&&void 0!==a&&a._id&&null!==i&&void 0!==i&&i._id&&(d((e=>!e)),k({aid:null===i||void 0===i||null===(s=i.appId)||void 0===s||null===(r=s.admissionAdmin)||void 0===r?void 0:r._id,sid:null===i||void 0===i||null===(c=i.student)||void 0===c?void 0:c._id,appId:null===i||void 0===i||null===(u=i.appId)||void 0===u?void 0:u._id,payment:{rid:null===i||void 0===i?void 0:i._id,amount:null!==(_=null===j||void 0===j?void 0:j.amount)&&void 0!==_?_:0,mode:"Cash"===(null===j||void 0===j?void 0:j.mode)?"Offline":null!==(v=null===j||void 0===j?void 0:j.mode)&&void 0!==v?v:"",fee_payment_mode:null===j||void 0===j?void 0:j.fee_payment_mode,fee_payment_amount:null!==(m=null===j||void 0===j?void 0:j.fee_payment_amount)&&void 0!==m?m:0,transaction_date:null!==(h=(0,C._1)(j.transaction_date))&&void 0!==h?h:"",fee_bank_name:null!==(p=null===j||void 0===j?void 0:j.fee_bank_name)&&void 0!==p?p:"",fee_bank_holder:null!==(f=null===j||void 0===j?void 0:j.fee_bank_holder)&&void 0!==f?f:"",fee_utr_reference:null!==(g=null===j||void 0===j?void 0:j.fee_utr_reference)&&void 0!==g?g:""}}).then((()=>{d((e=>!e)),l()})).catch({})):Z(e)}})]})]})}),s&&(0,g.jsx)(p.Z,{})]})},A=e=>{var n,l,a,s,d,_,v,m,h,f;let{admission:x,scholarshipApplicable:y}=e;const{t:b}=(0,u.$G)(),Z=(0,i.TH)(),[S,C]=(0,r.useState)(""),[N,A]=(0,r.useState)(!1),[I,w]=(0,r.useState)({open:!1,msg:"",variant:"error"}),[T,M]=(0,r.useState)(0),[P]=(0,o.zJ)(),D=()=>{var e,n,l,i,t,o,a;null!==x&&void 0!==x&&null!==(e=x.appId)&&void 0!==e&&null!==(n=e.admissionAdmin)&&void 0!==n&&null!==(l=n.institute)&&void 0!==l&&null!==(i=l.financeDepart)&&void 0!==i&&i[0]&&null!==x&&void 0!==x&&null!==(t=x.appId)&&void 0!==t&&null!==(o=t.admissionAdmin)&&void 0!==o&&o._id&&F[null===(a=Z.state)||void 0===a?void 0:a.collectAccess]&&C(1)};return(0,r.useEffect)((()=>{var e,n;if(null!==x&&void 0!==x&&null!==(e=x.government_card)&&void 0!==e&&e.remaining_fee||null!==x&&void 0!==x&&null!==(n=x.applicable_card)&&void 0!==n&&n.remaining_fee){var l,i;let e=(null===x||void 0===x||null===(l=x.government_card)||void 0===l?void 0:l.remaining_fee)+(null===x||void 0===x||null===(i=x.applicable_card)||void 0===i?void 0:i.remaining_fee);M(e)}}),[null===x||void 0===x||null===(n=x.applicable_card)||void 0===n?void 0:n.remaining_fee,null===x||void 0===x||null===(l=x.government_card)||void 0===l?void 0:l.remaining_fee]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("section",{className:t.Z.student_admission_count_container,style:{marginTop:y?"0.8rem":"-0.6rem"},children:[(0,g.jsxs)("div",{className:t.Z.student_admission_count,children:[(0,g.jsxs)("h5",{style:{color:"#121212"},children:[b("rs_only"),null!==(a=null===x||void 0===x||null===(s=x.fee_structure)||void 0===s?void 0:s.total_admission_fees)&&void 0!==a?a:0,(0,g.jsx)("span",{style:{fontSize:"13px",fontWeight:"400",color:"#121212"},children:" (".concat(b("rs_only")).concat(null!==(d=null===x||void 0===x||null===(_=x.fee_structure)||void 0===_?void 0:_.applicable_fees)&&void 0!==d?d:0,")")})]}),(0,g.jsx)("h6",{style:{marginBottom:"1rem"},children:b("total_applicable_fees")}),(0,g.jsxs)("h5",{style:{color:"#008000"},children:[b("rs_only")," ",null!==(v=null===x||void 0===x?void 0:x.paid_fee)&&void 0!==v?v:0,(0,g.jsx)("span",{style:{fontSize:"13px",fontWeight:"400",color:"#121212"},children:" (".concat(b("rs_only")).concat(null===x||void 0===x||null===(m=x.applicable_card)||void 0===m?void 0:m.remaining_fee,")")})]}),(0,g.jsx)("h6",{children:b("paid_and_outstanding")})]}),(0,g.jsx)("div",{className:t.Z.student_admission_count_image,children:"Cancel"===x.status?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("img",{src:"".concat(c.U_,"/fees-refund.svg"),alt:"pending icon"}),(0,g.jsx)("div",{className:t.Z.show_text,children:(0,g.jsxs)("h6",{children:[" ",b("cancelled")]})})]}):(0,g.jsx)(g.Fragment,{children:T<=0?(null===x||void 0===x?void 0:x.excess_fee)>0?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("img",{src:"".concat(c.U_,"/fees-refund.svg"),alt:"pending icon"}),(0,g.jsxs)("div",{className:t.Z.show_text,children:[(0,g.jsxs)("h6",{style:{fontWeight:"600"},children:[b("rs_only")," ",null!==(h=null===x||void 0===x?void 0:x.excess_fee)&&void 0!==h?h:0]}),(0,g.jsxs)("h6",{children:[" ",b("excess")]}),(0,g.jsx)("button",{className:t.Z.image_refund_btn,onClick:D,children:b("refund")})]})]}):0===T?(0,g.jsx)("img",{src:"".concat(c.U_,"/fees-paid.svg"),alt:"pending icon",style:{width:"140px",height:"140px"}}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("img",{src:"".concat(c.U_,"/fees-pending.svg"),alt:"pending icon",style:{width:"140px",height:"140px"}}),(0,g.jsxs)("div",{className:t.Z.show_text,children:[(0,g.jsxs)("h6",{style:{fontWeight:"600"},children:[b("rs_only")," ",T]}),(0,g.jsxs)("h6",{children:[" ",b("pending")]})]})]}):"Cancel"===x.status?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("img",{src:"".concat(c.U_,"/fees-refund.svg"),alt:"pending icon"}),(0,g.jsx)("div",{className:t.Z.show_text,children:(0,g.jsxs)("h6",{children:[" ",b("cancel")]})})]}):(null===x||void 0===x?void 0:x.excess_fee)>0?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("img",{src:"".concat(c.U_,"/fees-refund.svg"),alt:"pending icon"}),(0,g.jsxs)("div",{className:t.Z.show_text,children:[(0,g.jsxs)("h6",{style:{fontWeight:"600"},children:[b("rs_only")," ",null!==(f=null===x||void 0===x?void 0:x.excess_fee)&&void 0!==f?f:0]}),(0,g.jsxs)("h6",{children:[" ",b("excess")]}),(0,g.jsx)("button",{className:t.Z.image_refund_btn,onClick:D,children:b("refund")})]})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("img",{src:"".concat(c.U_,"/fees-pending.svg"),alt:"pending icon",style:{width:"140px",height:"140px"}}),(0,g.jsxs)("div",{className:t.Z.show_text,children:[(0,g.jsxs)("h6",{style:{fontWeight:"600"},children:[b("rs_only")," ",T]}),(0,g.jsxs)("h6",{children:[" ",b("pending")]})]})]})})})]}),1===S?(0,g.jsx)(k,{onClose:()=>{C("")},admission:x}):null,N&&(0,g.jsx)(p.Z,{}),(0,g.jsx)(j.Z,{eventState:I,eventStateHandler:w})]})},F={ADMISSION_ADMIN:!0};var I=l(97892),w=l.n(I),T=l(89064);const M=e=>{var n,l,i;let{installId:t,onClose:a,rid:s,onMultipleInstallment:d,install:c,admission:_,onEditMenu1:v}=e;const{t:m}=(0,u.$G)(),[h,p]=(0,r.useState)(!1),[f]=(0,o.WO)(),[x]=(0,o.su)();return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(T.Z,{onClose:a,disabled:h,children:["Paid"!==(null===c||void 0===c?void 0:c.status)?(0,g.jsx)("h6",{onClick:d,children:m("new_installment")}):null,"Paid"!==(null===c||void 0===c?void 0:c.status)&&(null===c||void 0===c?void 0:c.remainAmount)>0&&((null===_||void 0===_||null===(n=_.government_card)||void 0===n?void 0:n.applicable_fee)>0||(null===_||void 0===_||null===(l=_.government_card)||void 0===l?void 0:l.paid_fee)>0||(null===_||void 0===_||null===(i=_.government_card)||void 0===i?void 0:i.remaining_fee)>0)?(0,g.jsx)("h6",{onClick:v,children:m("transfer_to_scholarship_fees")}):null,(null===c||void 0===c?void 0:c.remainAmount)<0?(0,g.jsx)("h6",{onClick:()=>{s&&t&&(p((e=>!e)),f({rid:s,raid:t}).then((()=>{p((e=>!e)),a()})).catch({}))},children:m("delete")}):null,"Paid"===(null===c||void 0===c?void 0:c.status)?(0,g.jsx)("h6",{onClick:()=>{var e,n,l,i,o,s,d,r,c,u;null!==_&&void 0!==_&&null!==(e=_.applicable_card)&&void 0!==e&&e._id&&t&&null!==_&&void 0!==_&&null!==(n=_.appId)&&void 0!==n&&null!==(l=n.admissionAdmin)&&void 0!==l&&null!==(i=l.institute)&&void 0!==i&&null!==(o=i.financeDepart)&&void 0!==o&&o[0]&&(p((e=>!e)),x({rid:t,nid:null===_||void 0===_||null===(s=_.applicable_card)||void 0===s?void 0:s._id,bodyParameter:{fid:null===_||void 0===_||null===(d=_.appId)||void 0===d||null===(r=d.admissionAdmin)||void 0===r||null===(c=r.institute)||void 0===c||null===(u=c.financeDepart)||void 0===u?void 0:u[0]}}).then((()=>{p((e=>!e)),a()})).catch({}))},children:m("remove_installment")}):null]})})};var P=l(6758),D=l(37782),E=l(1095);const G=e=>{let{rid:n,appId:i,receiptFile:o}=e;const{t:a}=(0,u.$G)(),[s,d]=(0,r.useState)(""),[c,_]=(0,r.useState)(!1),[v,m]=(0,r.useState)(""),{financeReceipt:h,financeReceiptRefetch:f}=(0,P.Nw)({rid:s,skip:!s});(0,r.useEffect)((()=>{s&&f()}),[s,f]),(0,r.useEffect)((()=>{null!==h&&void 0!==h&&h.receipt&&null!==h&&void 0!==h&&h.all_remain&&m(h)}),[h]),(0,r.useEffect)((()=>{if(v){const e=new Worker(new URL(l.p+l.u(18334),l.b)),{institute:n,studentInfo:t,paymentReceiptInfo:o}=(0,D.Hs)(null===v||void 0===v?void 0:v.all_remain,null===v||void 0===v?void 0:v.receipt,i);e.postMessage({institute:n,studentInfo:t,paymentReceiptInfo:o,printReceiptType:"Refunded"===(null===o||void 0===o?void 0:o.transactonRefund)?"ADMISSION_REFUND":"ADMISSION"}),e.onmessage=n=>{n&&(window.open(n.data,"_blank"),_((e=>!e)),m(""),e.terminate())}}}),[v]);return(0,g.jsxs)(g.Fragment,{children:[o?(0,g.jsx)("a",{href:"".concat(E.q2,"/").concat(o),target:"_blank",rel:"noopener noreferrer",children:(0,g.jsx)("button",{className:t.Z.view_receipt_btn,children:a("view_receipt")})}):(0,g.jsx)("button",{className:t.Z.view_receipt_btn,onClick:()=>{n&&(_((e=>!e)),d(n),s===n&&m(h))},children:a("view_receipt")}),c&&(0,g.jsx)(p.Z,{})]})};var O=l(7562),B=l(20659),q=l(26071),R=l(64499),L=l(71439);const U=e=>{var n,l,t,s,d,j;let{onClose:y,install:b,admission:Z}=e;const{t:k}=(0,u.$G)(),A=(0,i.UO)(),[F,I]=(0,r.useState)(!1),[w,T]=(0,r.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:"",pay_remain:!1}),[M,P]=(0,r.useState)(""),[D,E]=(0,r.useState)(0),[G,U]=(0,r.useState)({amount:0,type:"Admission",isTransaction:!1,pay_remain:!1}),{studentInstituteCharges:$}=(0,o.xY)({data:{id:null===b||void 0===b?void 0:b.instituteId},skip:!(null!==b&&void 0!==b&&b.instituteId)}),[V]=(0,o.Wm)();(0,r.useEffect)((()=>{var e;null!==b&&void 0!==b&&b.remainAmount&&(T((e=>({...e,amount:+(null===b||void 0===b?void 0:b.remainAmount),fee_payment_amount:+(null===b||void 0===b?void 0:b.remainAmount)}))),U({amount:null!==(e=+(null===b||void 0===b?void 0:b.remainAmount))&&void 0!==e?e:0,type:"Admission",isTransaction:!1,pay_remain:!1}))}),[null===b||void 0===b?void 0:b.remainAmount]);const H=e=>{T((n=>({...n,[e.target.name]:e.target.value})))},z=e=>{T((n=>({...n,pay_remain:e})));let n=0;if(e){let e=0;for(let n of null===Z||void 0===Z||null===(l=Z.applicable_card)||void 0===l?void 0:l.remaining_array){var l;"Paid"!==(null===n||void 0===n?void 0:n.status)&&(e+=null===n||void 0===n?void 0:n.remainAmount)}E(e),n=e}U(n>0?l=>({...l,pay_remain:e,amount:n}):n=>({...n,pay_remain:e}))};return(0,g.jsxs)(g.Fragment,{children:[G.isTransaction?(0,g.jsx)(L.Z,{onClose:y,allContent:{...G,platform_charges:null===$||void 0===$||null===(n=$.platform_charges)||void 0===n?void 0:n.percentage},checkoutAdmissionHandler:()=>{var e,n,l,i,t,o,a,s,d,r,c,u,_;let v=2.1*+(null===G||void 0===G?void 0:G.amount)/100,m=v+18*+v/100;const h=parseInt(null===G||void 0===G?void 0:G.amount);var p=Math.ceil(h+ +m.toFixed(2));(0,R.oU)({amount:null!==(e=+(null===G||void 0===G?void 0:G.amount))&&void 0!==e?e:10,amount_nocharges:null!==(n=+p)&&void 0!==n?n:0,type:"Admission",paidBy:"".concat(null===Z||void 0===Z||null===(l=Z.student)||void 0===l?void 0:l._id),paidTo:"".concat(null===b||void 0===b?void 0:b.instituteId),moduleId:"".concat(null===b||void 0===b?void 0:b.appId),ad_status_id:null,payment_installment:null===b||void 0===b?void 0:b.installmentValue,ad_install:null,month:null,payment_remain_1:null,payment_card_type:null,payment_book_id:null,name:A.username,isApk:"web",payment_card_id:null!==(i=null===Z||void 0===Z?void 0:Z._id)&&void 0!==i?i:null,payment_remain_fees:G.pay_remain,charge:{num_platform_percent:null!==(t=null===$||void 0===$||null===(o=$.platform_charges)||void 0===o?void 0:o.percentage)&&void 0!==t?t:0,num_platform_max:null!==(a=null===$||void 0===$||null===(s=$.platform_charges)||void 0===s?void 0:s.maximum)&&void 0!==a?a:0,num_trans_pecent:null!==(d=null===$||void 0===$||null===(r=$.transaction_charges)||void 0===r?void 0:r.percentage)&&void 0!==d?d:0,num_trans_max:null!==(c=null===$||void 0===$||null===(u=$.transaction_charges)||void 0===u?void 0:u.maximum)&&void 0!==c?c:0,num_app_max:null!==(_=null===$||void 0===$?void 0:$.application_charges)&&void 0!==_?_:0},nsid:null===b||void 0===b?void 0:b._id}).then((e=>{var n,l;window.onScriptLoad(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(l=n.body)||void 0===l?void 0:l.txnToken,null===e||void 0===e?void 0:e.order,null===e||void 0===e?void 0:e.amount)})).catch((e=>{console.info(e)}))},isOptimzed:!0}):(0,g.jsx)(_.Z,{onClose:y,children:(0,g.jsxs)("div",{className:v.Z.modal_container,children:[(0,g.jsx)(a.Z,{children:(0,g.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:v.Z.modal_container_header,children:(0,g.jsx)("h6",{children:k("collect_fees")})}),(0,g.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:y})]})}),(0,g.jsx)(m.Z,{}),(0,g.jsxs)(a.Z,{customStyle:{paddingTop:"0"},children:[(0,g.jsxs)("div",{className:v.Z.admission_fees_row,children:[(0,g.jsxs)("h6",{children:[k("applicable_amount")," :"]}),(0,g.jsxs)("h6",{children:[k("rs_only")," ",null!==(l=null===Z||void 0===Z||null===(t=Z.applicable_card)||void 0===t?void 0:t.applicable_fee)&&void 0!==l?l:0]})]}),(0,g.jsxs)("div",{className:v.Z.admission_fees_row,children:[(0,g.jsxs)("h6",{children:[k(w.pay_remain?"amount_remain_installment":"remaining_fees")," ",":"]}),(0,g.jsxs)("h6",{children:[k("rs_only")," ",w.pay_remain?D:null!==(s=null===b||void 0===b?void 0:b.remainAmount)&&void 0!==s?s:0]})]}),null!==Z&&void 0!==Z&&null!==(d=Z.fee_structure)&&void 0!==d&&d.total_installments&&+(null===Z||void 0===Z||null===(j=Z.fee_structure)||void 0===j?void 0:j.total_installments)>1?(0,g.jsx)(B.Z,{label:"pay_rest_remaining_fees",children:null===O.nj||void 0===O.nj?void 0:O.nj.map((e=>(0,g.jsx)(q.Z,{tile:e,onTile:z,activeTile:w.pay_remain},null===e||void 0===e?void 0:e.id)))}):null,(0,g.jsx)(f.Z,{label:k("amount"),placeholder:k("amoute_details_collect"),name:"amount",value:w.amount,type:"tel",onChange:e=>{T((n=>({...n,amount:+e.target.value,fee_payment_amount:+e.target.value}))),U((n=>({...n,amount:+e.target.value})))},errorShow:M.amount,msg:M.rest_issue}),(0,g.jsx)(N.Z,{paymentHeading:k("payment_type_mode"),selectLabel:k("mode_placeholder"),onClick:e=>{T((n=>({...n,mode:"Online",fee_payment_mode:e})))},errorShow:M.fee_payment_mode,defalutValue:w.fee_payment_mode,selectedValue:k("please_select_payment_mode"),isAuthority:"admissionStudentProfileCollectModePg",customLabelStyle:{marginTop:"0"}}),"Payment Gateway"===w.fee_payment_mode?(0,g.jsx)(h.Z,{label:"collect",onAction:()=>{let e=(0,x.l)({amount:G.amount});var n;(0,x.x)(e)?G.pay_remain&&G.amount<D?P({rest_issue:"Amount should not be less than total remaining fees"}):!G.pay_remain&&G.amount>(null===b||void 0===b?void 0:b.remainAmount)&&+(null===Z||void 0===Z||null===(n=Z.fee_structure)||void 0===n?void 0:n.total_installments)>1?P({rest_issue:"Amount should not be greater than remaining fees"}):U((e=>({...e,isTransaction:!0}))):P(e)}}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(S.Z,{label:k("select_date_of_transaction"),placeholder:k("please_select_date"),name:"transaction_date",value:w.transaction_date,onChange:e=>{T((n=>({...n,transaction_date:(0,C.jh)(e)})))},errorShow:M.transaction_date}),"Cash"===w.fee_payment_mode?null:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(f.Z,{label:k("bank_name_collect"),placeholder:k("please_enter_bank_name"),name:"fee_bank_name",value:w.fee_bank_name,type:"text",onChange:H}),(0,g.jsx)(f.Z,{label:k("banke_holder_name"),placeholder:k("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:w.fee_bank_holder,type:"text",onChange:H}),(0,g.jsx)(f.Z,{label:k("cheque_dd_neft"),placeholder:k("please_enter_utr_ref_number"),name:"fee_utr_reference",value:w.fee_utr_reference,type:"text",onChange:H})]}),(0,g.jsx)(h.Z,{label:"collect",onAction:()=>{let e="";var n,l,i,t,o,a,s,d,r,c,u,_,v;(e="Unrecovered/Exemption"===w.fee_payment_mode?(0,x.l)(w,["amount","mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference","pay_remain"]):(0,x.l)(w,["mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference","pay_remain"]),(0,x.x)(e))?w.pay_remain&&w.amount<D?P({rest_issue:"Amount should not be less than total remaining fees"}):!w.pay_remain&&w.amount>(null===b||void 0===b?void 0:b.remainAmount)&&+(null===Z||void 0===Z||null===(n=Z.fee_structure)||void 0===n?void 0:n.total_installments)>1?P({rest_issue:"Amount should not be greater than remaining fees"}):null!==Z&&void 0!==Z&&null!==(l=Z.student)&&void 0!==l&&l._id&&null!==b&&void 0!==b&&b.appId&&null!==b&&void 0!==b&&b._id&&(I((e=>!e)),V({aid:null===Z||void 0===Z||null===(i=Z.appId)||void 0===i||null===(t=i.admissionAdmin)||void 0===t?void 0:t._id,sid:null===Z||void 0===Z||null===(o=Z.student)||void 0===o?void 0:o._id,appId:null===b||void 0===b?void 0:b.appId,payment:{card_id:null===Z||void 0===Z||null===(a=Z.applicable_card)||void 0===a?void 0:a._id,rid:null===Z||void 0===Z?void 0:Z._id,type:null===b||void 0===b?void 0:b.installmentValue,raid:null===b||void 0===b?void 0:b._id,nsid:null===b||void 0===b?void 0:b._id,amount:null!==(s=null===w||void 0===w?void 0:w.amount)&&void 0!==s?s:0,mode:"Cash"===(null===w||void 0===w?void 0:w.fee_payment_mode)?"Offline":null!==(d=null===w||void 0===w?void 0:w.mode)&&void 0!==d?d:"",fee_payment_mode:"Cash"===(null===w||void 0===w?void 0:w.fee_payment_mode)?"By Cash":null===w||void 0===w?void 0:w.fee_payment_mode,fee_payment_amount:null!==(r=null===w||void 0===w?void 0:w.fee_payment_amount)&&void 0!==r?r:0,transaction_date:null!==(c=(0,C._1)(w.transaction_date))&&void 0!==c?c:"",fee_bank_name:null!==(u=null===w||void 0===w?void 0:w.fee_bank_name)&&void 0!==u?u:"",fee_bank_holder:null!==(_=null===w||void 0===w?void 0:w.fee_bank_holder)&&void 0!==_?_:"",fee_utr_reference:null!==(v=null===w||void 0===w?void 0:w.fee_utr_reference)&&void 0!==v?v:"",pay_remain:w.pay_remain}}).then((()=>{I((e=>!e)),y()})).catch({})):P(e)}})]})]})]})}),F&&(0,g.jsx)(p.Z,{})]})},$=e=>{let{installId:n,onClose:l,rid:i,installAmount:t}=e;const{t:s}=(0,u.$G)(),[d,j]=(0,r.useState)(!1),[y,b]=(0,r.useState)(0),[Z,S]=(0,r.useState)(!1),[C]=(0,o.d2)();(0,r.useEffect)((()=>{t&&b(t)}),[t]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(_.Z,{children:(0,g.jsxs)("div",{className:v.Z.modal_container,children:[(0,g.jsx)(a.Z,{children:(0,g.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:v.Z.modal_container_header,children:(0,g.jsx)("h6",{children:s("transfer_to_scholarship_fees")})}),(0,g.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:l})]})}),(0,g.jsx)(m.Z,{}),(0,g.jsxs)(a.Z,{customStyle:{paddingTop:"0"},children:[(0,g.jsx)(f.Z,{label:s("amount"),placeholder:s("please_enter_amount_paid"),name:"amount",value:y,type:"tel",onChange:e=>b(e.target.value),errorShow:Z.state,msg:Z.amount_issue}),(0,g.jsx)(h.Z,{label:"confirm",onAction:()=>{if(i&&n){let e=(0,x.l)({query:y},[]);(0,x.x)(e)&&y<=t?(j((e=>!e)),C({rid:i,applicableBody:{raid:n,amount:+y}}).then((()=>{j((e=>!e)),l()})).catch({})):S(y>t?{amount_issue:"Amount should be less than or equal to installment Amount"}:e)}}})]})]})}),d&&(0,g.jsx)(p.Z,{})]})};var V=l(4007),H=l(19056);const z=e=>{let{headsList:n,onSelectHead:l,selectedId:i,onClose:t}=e;const{t:o}=(0,u.$G)();return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(_.Z,{onClose:t,children:(0,g.jsxs)("div",{className:V.Z.modal_container,children:[(0,g.jsx)(a.Z,{children:(0,g.jsxs)("div",{className:V.Z.modal_container_outer_header,children:[(0,g.jsxs)("div",{className:V.Z.modal_container_header,children:[(0,g.jsx)("img",{src:"".concat(c.J7,"/back-arrow.svg"),alt:"close icon",onClick:t}),(0,g.jsx)("h6",{style:{marginBottom:"0"},children:o("select_fee_heads")})]}),(0,g.jsx)(h.Z,{label:"select",customStyle:{margin:"0",padding:"0.5rem 1rem"},onAction:t})]})}),(0,g.jsx)(m.Z,{}),(0,g.jsx)(a.Z,{customStyle:{paddingTop:"0"},children:(0,g.jsxs)("section",{className:V.Z.table_container,style:{margin:"0"},children:[(0,g.jsxs)("div",{className:V.Z.table_heading,children:[(0,g.jsx)("h6",{children:o("applicable_fee_heads")}),(0,g.jsx)("h6",{children:o("amount")})]}),(0,g.jsx)("div",{className:V.Z.table_body,children:null===n||void 0===n?void 0:n.map((e=>(0,g.jsxs)("div",{className:V.Z.table_body_list,onClick:()=>null!==i&&void 0!==i&&i.includes(null===e||void 0===e?void 0:e._id)||(null===e||void 0===e?void 0:e.head_amount)>0?l(e):{},style:{opacity:null!==i&&void 0!==i&&i.includes(null===e||void 0===e?void 0:e._id)||(null===e||void 0===e?void 0:e.head_amount)>0?"1":"0.5"},children:[(0,g.jsxs)("h6",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"1rem"},children:[(0,g.jsx)("img",{src:null!==i&&void 0!==i&&i.includes(null===e||void 0===e?void 0:e._id)?"".concat(c.U_,"/check.svg"):"".concat(c.U_,"/uncheck.svg"),alt:"check icon",style:{cursor:"pointer"}}),null===e||void 0===e?void 0:e.head_name]}),(0,g.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_amount})]},null===e||void 0===e?void 0:e._id)))})]})})]})})})},J=e=>{var n;let{onClose:l,pid:i,install:t,structureId:s}=e;const{t:d}=(0,u.$G)(),[y,b]=(0,r.useState)(!1),[Z,N]=(0,r.useState)(""),[k,A]=(0,r.useState)([]),[F,I]=(0,r.useState)(0),[w,T]=(0,r.useState)(""),[M,D]=(0,r.useState)([]),[E,G]=(0,r.useState)(!1),[O,B]=(0,r.useState)({open:!1,msg:"",variant:"error"}),[q]=(0,o.JA)(),{financeFeeStructureDetail:R}=(0,P.eY)({fsid:s,skip:!s}),L=(0,r.useCallback)((e=>{N(e);const n=[];for(let l=0;l<e;l++)n.push({inst_price:"",inst_date:"",inst_type:W[l],fee_heads:[],fee_heads_id:[],feehead_total:0});A(n)}),[]);return(0,g.jsxs)(g.Fragment,{children:[0===F?(0,g.jsx)(_.Z,{children:(0,g.jsxs)("div",{className:v.Z.modal_container,style:{minWidth:"38rem"},children:[(0,g.jsx)(a.Z,{children:(0,g.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:v.Z.modal_container_header,children:(0,g.jsx)("h6",{children:d("new_installment")})}),(0,g.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:l})]})}),(0,g.jsx)(m.Z,{}),(0,g.jsxs)(a.Z,{customStyle:{paddingTop:"0"},children:[(0,g.jsx)(H.Z,{selectLabel:d("total_installment"),selectedValue:d("select_installment"),defalutValue:Z,onClick:L,options:[1,2,3,4,5,6,7,8,9,10,11,12],errorShow:E.installmentCount}),null===k||void 0===k?void 0:k.map(((e,n)=>{var l,i,t,o;return(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:v.Z.afsi_container,style:{alignItems:"flex-end"},children:[(0,g.jsx)(f.Z,{label:"".concat(d("installment")," ").concat(n+1),placeholder:d("Amount"),name:"inst_price".concat(n),value:e.inst_price,type:"tel",onChange:e=>((e,n)=>{const l=[...k];for(let i=0;i<(null===l||void 0===l?void 0:l.length);i++)i===n&&(l[i].inst_price=+e.target.value);A(l)})(e,n),errorShow:E["inst_price".concat(n)],customFormInputContainer:{width:"48%"}}),(0,g.jsx)(S.Z,{label:d("due_last_date"),placeholder:d("please_select_the_date"),name:"inst_date".concat(n),value:e.inst_date?(0,C.jh)(e.inst_date):"",onChange:e=>((e,n)=>{const l=[...k];for(let i=0;i<(null===l||void 0===l?void 0:l.length);i++)i===n&&(l[i].inst_date=(0,C.O_)(e));A(l)})(e,n),customFormInputContainer:{width:"48%"},errorShow:E["inst_date".concat(n)]}),(0,g.jsx)(h.Z,{label:"select_heads",onAction:()=>(e=>{I(1),T(e);let n=[];for(let i of null===R||void 0===R||null===(l=R.structure)||void 0===l?void 0:l.applicable_fees_heads){var l;let e={created_at:null===i||void 0===i?void 0:i.created_at,head_amount:null===i||void 0===i?void 0:i.head_amount,head_name:null===i||void 0===i?void 0:i.head_name,is_society:null===i||void 0===i?void 0:i.is_society,master:null===i||void 0===i?void 0:i.master,_id:null===i||void 0===i?void 0:i._id};for(let n of k)for(let l of null===n||void 0===n?void 0:n.fee_heads)(null===i||void 0===i?void 0:i.master)===(null===l||void 0===l?void 0:l.master)&&(e.head_amount-=null===l||void 0===l?void 0:l.head_amount);null===n||void 0===n||n.push(e)}D(n)})(n),customStyle:{paddingInline:"1rem",paddingBlock:"0.5rem",width:"11rem",margin:"0",border:E["feehead_total".concat(n)]?"1px solid red":"1px solid var(--color-button)",color:E["feehead_total".concat(n)]?"red":"var(--color-button)"}})]}),(null===e||void 0===e||null===(l=e.fee_heads)||void 0===l?void 0:l.length)>0?(0,g.jsx)("div",{style:{paddingInline:"1rem",marginTop:"1rem"},children:(0,g.jsxs)("section",{className:V.Z.table_container,style:{margin:"0"},children:[(0,g.jsxs)("div",{className:V.Z.table_heading,children:[(0,g.jsx)("h6",{children:d("fee_heads")}),(0,g.jsx)("h6",{children:d("amount")})]}),(0,g.jsx)("div",{className:V.Z.table_body,children:null===e||void 0===e||null===(i=e.fee_heads)||void 0===i?void 0:i.map(((e,l)=>(0,g.jsxs)("div",{className:V.Z.table_body_list,children:[(0,g.jsx)("input",{type:"text",value:null===e||void 0===e?void 0:e.head_name,onChange:e=>((e,n,l)=>{const i=[...k];let t=(null===i||void 0===i?void 0:i[l]).fee_heads;(null===t||void 0===t?void 0:t[n]).head_name=e.target.value,A(i)})(e,l,n),className:V.Z.fee_head_name_input}),(0,g.jsx)("input",{type:"number",value:null===e||void 0===e?void 0:e.head_amount,onChange:e=>((e,n,l)=>{const i=[...k];let t=null===i||void 0===i?void 0:i[l],o=t.fee_heads,a=null===o||void 0===o?void 0:o[n];a.head_amount=+e.target.value,a.applicable_fee=+e.target.value;let s=0;for(let d of o)s+=null===d||void 0===d?void 0:d.head_amount;t.feehead_total=s,A(i)})(e,l,n),className:V.Z.fee_head_amount_input})]},l)))}),(0,g.jsxs)("div",{className:V.Z.table_body,children:[(0,g.jsxs)("div",{className:V.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.5)",borderTopWidth:"0.5px",borderTopStyle:"solid"},children:[(0,g.jsxs)("h6",{className:V.Z.fees_total,style:{display:"inline-flex"},children:[d("subtotal")," ",(0,g.jsx)("span",{style:{marginLeft:"0.5rem",color:"red",fontSize:"11px"},children:E["subtotal".concat(n)]})]}),(0,g.jsx)("h6",{className:V.Z.fees_total,children:null!==(t=null===e||void 0===e?void 0:e.feehead_total)&&void 0!==t?t:0})]}),null===e||void 0===e||null===(o=e.fee_heads)||void 0===o?void 0:o.map(((e,n)=>(0,g.jsx)("p",{style:{fontSize:"11px",color:"red",marginBottom:"0"},children:E["".concat(null===e||void 0===e?void 0:e.head_name).concat(n)]},"head_max".concat(n))))]})]})}):null]},n)})),(0,g.jsx)(h.Z,{label:"preview",onAction:()=>{let e={},n=Y(Z,k);if((0,x.x)(n)){let i=0,o=!0;for(let n=0;n<(null===k||void 0===k?void 0:k.length);n++){let t=k[n];i+=null===t||void 0===t?void 0:t.inst_price,(null===t||void 0===t?void 0:t.inst_price)===(null===t||void 0===t?void 0:t.feehead_total)||(o=!1,e["subtotal".concat(n)]="must be euqal to installment amount Rs. ".concat(null===t||void 0===t?void 0:t.inst_price));for(let n=0;n<(null===t||void 0===t||null===(l=t.fee_heads)||void 0===l?void 0:l.length);n++){var l;let i=null===t||void 0===t?void 0:t.fee_heads[n];(null===i||void 0===i?void 0:i.head_amount)>(null===i||void 0===i?void 0:i.head_max_amount)&&(o=!1,e["".concat(null===i||void 0===i?void 0:i.head_name).concat(n)]="".concat(null===i||void 0===i?void 0:i.head_name," amount should be less than or equal to remaining head amount Rs. ").concat(null===i||void 0===i?void 0:i.head_max_amount))}}i>+(null===t||void 0===t?void 0:t.remainAmount)&&(o=!1,B({msg:"All installment amount should be less than or equal to installment remain amount Rs. ".concat(null===t||void 0===t?void 0:t.remainAmount),open:!0,variant:"error"})),o?I(2):G({...n,...e})}else G({...n,...e})}})]})]})}):1===F?(0,g.jsx)(z,{headsList:M,onClose:()=>{I(0),T("")},onSelectHead:e=>{var n;const l=[...k];let i=null===l||void 0===l?void 0:l[w];if(null!==i&&void 0!==i&&null!==(n=i.fee_heads_id)&&void 0!==n&&n.includes(null===e||void 0===e?void 0:e._id)){var t;let n=[];for(let l of null===i||void 0===i?void 0:i.fee_heads)(null===l||void 0===l?void 0:l.master)===(null===e||void 0===e?void 0:e.master)?i.feehead_total-=null===l||void 0===l?void 0:l.head_amount:n.push(l);i.fee_heads=n,i.fee_heads_id=null===i||void 0===i||null===(t=i.fee_heads_id)||void 0===t?void 0:t.filter((n=>n!==(null===e||void 0===e?void 0:e._id)))}else{var o,a;null===i||void 0===i||null===(o=i.fee_heads)||void 0===o||o.push({head_name:null===e||void 0===e?void 0:e.head_name,head_amount:null===e||void 0===e?void 0:e.head_amount,applicable_fee:null===e||void 0===e?void 0:e.head_amount,head_max_amount:null===e||void 0===e?void 0:e.head_amount,master:null===e||void 0===e?void 0:e.master,head_type:"BY_APPLICABLE",is_society:null===e||void 0===e?void 0:e.is_society}),i.feehead_total+=null===e||void 0===e?void 0:e.head_amount,null===i||void 0===i||null===(a=i.fee_heads_id)||void 0===a||a.push(null===e||void 0===e?void 0:e._id)}A(l)},selectedId:null===k||void 0===k||null===(n=k[w])||void 0===n?void 0:n.fee_heads_id}):2===F?(0,g.jsx)(_.Z,{children:(0,g.jsxs)("div",{className:v.Z.modal_container,style:{minWidth:"38rem"},children:[(0,g.jsx)(a.Z,{children:(0,g.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:v.Z.modal_container_header,children:(0,g.jsx)("h6",{children:d("preview_new_installment")})}),(0,g.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:()=>I(0)})]})}),(0,g.jsx)(m.Z,{}),(0,g.jsxs)(a.Z,{customStyle:{paddingTop:"0"},children:[(0,g.jsx)(H.Z,{selectLabel:d("total_installment"),selectedValue:d("select_installment"),defalutValue:Z,onClick:L,options:[1,2,3,4,5,6,7,8,9,10,11,12],errorShow:E.installmentCount,isDenied:!0}),null===k||void 0===k?void 0:k.map(((e,n)=>{var l,i;return(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:v.Z.afsi_container,style:{alignItems:"flex-end"},children:[(0,g.jsx)(f.Z,{label:"".concat(d("installment")," ").concat(n+1),placeholder:d("Amount"),name:"inst_price".concat(n),value:e.inst_price,type:"tel",onChange:e=>{},errorShow:E["inst_price".concat(n)],customFormInputContainer:{width:"48%"}}),(0,g.jsx)(S.Z,{label:d("due_last_date"),placeholder:d("please_select_the_date"),name:"inst_date".concat(n),value:e.inst_date?(0,C.jh)(e.inst_date):"",onChange:e=>{},customFormInputContainer:{width:"48%"},errorShow:E["inst_date".concat(n)],disabled:!0})]}),(0,g.jsx)("div",{style:{paddingInline:"1rem",marginTop:"1rem"},children:(0,g.jsxs)("section",{className:V.Z.table_container,style:{margin:"0"},children:[(0,g.jsxs)("div",{className:V.Z.table_heading,children:[(0,g.jsx)("h6",{children:d("fee_heads")}),(0,g.jsx)("h6",{children:d("amount")})]}),(0,g.jsx)("div",{className:V.Z.table_body,children:null===e||void 0===e||null===(l=e.fee_heads)||void 0===l?void 0:l.map(((e,n)=>(0,g.jsxs)("div",{className:V.Z.table_body_list,children:[(0,g.jsx)("input",{type:"text",value:null===e||void 0===e?void 0:e.head_name,onChange:e=>{},className:V.Z.fee_head_name_input}),(0,g.jsx)("input",{type:"number",value:null===e||void 0===e?void 0:e.head_amount,onChange:e=>{},className:V.Z.fee_head_amount_input})]},n)))}),(0,g.jsx)("div",{className:V.Z.table_body,children:(0,g.jsxs)("div",{className:V.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.5)",borderTopWidth:"0.5px",borderTopStyle:"solid"},children:[(0,g.jsx)("h6",{className:V.Z.fees_total,children:d("subtotal")}),(0,g.jsx)("h6",{className:V.Z.fees_total,children:null!==(i=null===e||void 0===e?void 0:e.feehead_total)&&void 0!==i?i:0})]})})]})})]},n)})),(0,g.jsx)(h.Z,{label:"create",onAction:()=>{i&&null!==t&&void 0!==t&&t._id&&(b((e=>!e)),q({pid:i,installmentFragment:{inst_arr:k,raid:null===t||void 0===t?void 0:t._id}}).then((()=>{b((e=>!e)),l()})).catch({}))}})]})]})}):null,y&&(0,g.jsx)(p.Z,{}),(0,g.jsx)(j.Z,{eventState:O,eventStateHandler:B})]})},W={0:"First Installment",1:"Second Installment",2:"Third Installment",3:"Four Installment",4:"Five Installment",5:"Six Installment",6:"Seven Installment",7:"Eight Installment",8:"Nine Installment",9:"Ten Installment",10:"Eleven Installment",11:"Tweleve Installment"},Y=(e,n)=>{const l={};e||(l.installmentCount="installmentCount is required!");for(let i=0;i<(null===n||void 0===n?void 0:n.length);i++)for(let e in n[i])n[i][e]||"inst_date"===e||(l["".concat(e).concat(i)]="".concat(e," is required!"));return l};var K=l(26192);const Q=e=>{var n,l,i;let{onClose:t,admission:s,install:d,onSelectType:h}=e;const{t:f}=(0,u.$G)(),[x,j]=(0,r.useState)(!1),[y]=(0,o.vT)(),b=e=>{var n,l;6===e?(null!==s&&void 0!==s&&s._id&&null!==s&&void 0!==s&&null!==(n=s.student)&&void 0!==n&&n._id&&null!==s&&void 0!==s&&s.setOffPrice&&null!==d&&void 0!==d&&d.installmentValue&&null!==d&&void 0!==d&&d._id&&j((e=>!e)),y({rcid:null===s||void 0===s?void 0:s._id,sid:null===s||void 0===s||null===(l=s.student)||void 0===l?void 0:l._id,payment:{amount:null===s||void 0===s?void 0:s.setOffPrice,mode:"Setoff",type:null===d||void 0===d?void 0:d.installmentValue,nsid:null===d||void 0===d?void 0:d._id,fee_payment_mode:"NEFT/RTGS/IMPS",fee_payment_amount:null===s||void 0===s?void 0:s.setOffPrice}}).then((()=>{j((e=>!e)),t()})).catch({})):h(e)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(_.Z,{onClose:t,children:(0,g.jsxs)("div",{className:v.Z.modal_container,children:[(0,g.jsx)(a.Z,{children:(0,g.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:v.Z.modal_container_header,children:(0,g.jsx)("h6",{children:f("collect_fees")})}),(0,g.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:t})]})}),(0,g.jsx)(m.Z,{}),(0,g.jsxs)(a.Z,{customStyle:{paddingTop:"0"},children:[(0,g.jsxs)("div",{className:K.Z.application_card,onClick:()=>b(6),children:[(0,g.jsxs)("div",{className:K.Z.application_card_title,children:[(0,g.jsx)("img",{src:"".concat(c.J7,"/category.svg"),alt:"staff profile avatar"}),(0,g.jsx)("h6",{children:f("set_off_excess_fees")})]}),(0,g.jsxs)("section",{className:K.Z.application_card_info,children:[(0,g.jsxs)("div",{children:[f("applicable_pending_fees")," ",": ".concat(f("rs"),". ").concat(null!==(n=null===d||void 0===d?void 0:d.remainAmount)&&void 0!==n?n:0)]}),(0,g.jsxs)("div",{children:[f("excess_fees")," ",": ".concat(f("rs"),". ").concat(null!==(l=null===s||void 0===s?void 0:s.setOffPrice)&&void 0!==l?l:0)]}),(0,g.jsxs)("div",{children:[f("set_off_fees")," ",": ".concat(f("rs"),". ").concat(null!==(i=null===s||void 0===s?void 0:s.setOffPrice)&&void 0!==i?i:0)]}),(0,g.jsx)("h6",{children:f("set_off_excess_fees_note")})]})]}),(0,g.jsxs)("div",{className:K.Z.application_card,onClick:()=>b(2),style:{minHeight:"100px"},children:[(0,g.jsxs)("div",{className:K.Z.application_card_title,children:[(0,g.jsx)("img",{src:"".concat(c.J7,"/category.svg"),alt:"staff profile avatar"}),(0,g.jsx)("h6",{children:f("collect_fees")})]}),(0,g.jsx)("section",{className:K.Z.application_card_info,children:(0,g.jsx)("h6",{children:f("collect_fees_note")})})]})]})]})}),x&&(0,g.jsx)(p.Z,{})]})},X=e=>{var n,l,o,a,s,d,_,v,m,h,p,f,x,j,y,b,Z,S,C,N,k,A;let{install:F,admission:I}=e;const T=(0,i.TH)(),{t:P}=(0,u.$G)(),[D,E]=(0,r.useState)(""),O=()=>{E("")},B=()=>{E(4)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:t.Z.student_admission_cash_card,style:{position:"relative"},children:[(0,g.jsxs)("section",{className:t.Z.admission_fees_amount,children:[(0,g.jsxs)("h6",{children:[null===F||void 0===F?void 0:F.installmentValue," ","Paid"===(null===F||void 0===F?void 0:F.status)&&(0,g.jsx)("span",{children:w()(null===F||void 0===F||null===(n=F.fee_receipt)||void 0===n?void 0:n.fee_transaction_date).format("DD-MMM-YY")})]}),(0,g.jsxs)("h6",{children:[P("rs_only"),0===(null===F||void 0===F?void 0:F.remainAmount)?null===F||void 0===F?void 0:F.set_off:null!==(l=null===F||void 0===F?void 0:F.remainAmount)&&void 0!==l?l:0]})]}),0===(null===F||void 0===F?void 0:F.remainAmount)?null:(0,g.jsx)("section",{className:t.Z.admission_fees_grant,children:"Paid"===(null===F||void 0===F?void 0:F.status)&&"Rejected"!==(null===F||void 0===F?void 0:F.receipt_status)?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h6",{children:"By Cash"===(null===F||void 0===F||null===(o=F.fee_receipt)||void 0===o?void 0:o.fee_payment_mode)?"Offline":null!==F&&void 0!==F&&null!==(a=F.fee_receipt)&&void 0!==a&&a.fee_payment_mode?null===F||void 0===F||null===(s=F.fee_receipt)||void 0===s?void 0:s.fee_payment_mode:null!==(d=null===F||void 0===F?void 0:F.refund_status)&&void 0!==d?d:""}),(0,g.jsx)("h6",{children:"Set Off"===(null===F||void 0===F||null===(_=F.fee_receipt)||void 0===_?void 0:_.set_off_status)?"SetOff":"By Cash"===(null===F||void 0===F||null===(v=F.fee_receipt)||void 0===v?void 0:v.fee_payment_mode)?"Cash":"Exempted/Unrecovered"===(null===F||void 0===F||null===(m=F.fee_receipt)||void 0===m?void 0:m.fee_payment_mode)?"N/A":"Bank"})]}):(0,g.jsx)(g.Fragment,{children:"Rejected"===(null===F||void 0===F?void 0:F.receipt_status)?(0,g.jsxs)("h6",{style:{margin:"0"},children:["".concat(P("reason")," : "),null===F||void 0===F?void 0:F.reason]}):(0,g.jsxs)("h6",{style:{margin:"0"},children:[P("due_on")," "," "," ",null===F||void 0===F?void 0:F.dueDate]})})}),null!==F&&void 0!==F&&null!==(h=F.component)&&void 0!==h&&h.gov?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("section",{className:t.Z.admission_fees_grant,children:[(0,g.jsx)("h6",{style:{margin:"0"},children:P("applicable_fees")}),(0,g.jsxs)("h6",{style:{margin:"0",fontSize:"13px",color:"#121212"},children:[P("rs_only"),null!==(p=null===F||void 0===F||null===(f=F.component)||void 0===f?void 0:f.app)&&void 0!==p?p:0]})]}),(0,g.jsxs)("section",{className:t.Z.admission_fees_grant,children:[(0,g.jsx)("h6",{style:{margin:"0"},children:P("govt_fees")}),(0,g.jsxs)("h6",{style:{margin:"0",fontSize:"13px",color:"#121212"},children:[P("rs_only"),null!==(x=null===F||void 0===F||null===(j=F.component)||void 0===j?void 0:j.gov)&&void 0!==x?x:0]})]})]}):null,null!==F&&void 0!==F&&F.set_off_message?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("section",{className:t.Z.admission_fees_grant,children:(0,g.jsx)("h6",{style:{margin:"0",marginBottom:"0.2rem"},children:null===F||void 0===F?void 0:F.set_off_message})})}):null,ne[null===(y=T.state)||void 0===y?void 0:y.editInstallmentControl]?(0,g.jsx)("img",{src:"".concat(c.J7,"/menu.svg"),alt:"menu icon",onClick:()=>{E(1)},className:t.Z.edit_icon,title:"Menu",style:{cursor:"pointer",top:"1%",right:"0.5%"}}):null,"Requested"!==(null===F||void 0===F?void 0:F.receipt_status)&&"Rejected"!==(null===F||void 0===F?void 0:F.receipt_status)&&"Paid"===(null===F||void 0===F?void 0:F.status)?null!==F&&void 0!==F&&F.cover_status?(0,g.jsx)("button",{className:t.Z.student_admission_collect_btn,style:{width:"100%",backgroundColor:"rgb(92 92 92)",fontSize:"0.7rem"},children:null===F||void 0===F?void 0:F.cover_status}):0===(null===F||void 0===F?void 0:F.remainAmount)?null:(0,g.jsx)(g.Fragment,{children:"Setoff"===(null===F||void 0===F?void 0:F.receipt_status)||"Set Off"===(null===F||void 0===F||null===(b=F.fee_receipt)||void 0===b?void 0:b.set_off_status)?null:(0,g.jsx)(G,{rid:null===F||void 0===F||null===(Z=F.fee_receipt)||void 0===Z?void 0:Z._id,appId:null===I||void 0===I||null===(S=I.appId)||void 0===S?void 0:S._id,receiptFile:null===F||void 0===F||null===(C=F.fee_receipt)||void 0===C?void 0:C.receipt_file})}):(0,g.jsx)("button",{className:t.Z.student_admission_collect_btn,style:{width:"100%"},onClick:()=>{var e;null!==F&&void 0!==F&&F.isEnable&&ee[null===(e=T.state)||void 0===e?void 0:e.collectAccess]&&((null===I||void 0===I?void 0:I.setOffPrice)>0?E(5):E(2))},children:"Requested"===(null===F||void 0===F?void 0:F.receipt_status)?P("receipt_requested"):"Rejected"===(null===F||void 0===F?void 0:F.receipt_status)?P("receipt_rejected"):P(ee[null===(N=T.state)||void 0===N?void 0:N.collectAccess]?"collect_fees":"unpaid")})]}),1===D?(0,g.jsx)(M,{onClose:O,rid:null===I||void 0===I?void 0:I._id,installId:null===F||void 0===F?void 0:F._id,onMultipleInstallment:B,isDelete:(null===F||void 0===F?void 0:F.remainAmount)<0,admission:I,onEditMenu1:()=>{E(3)},install:F}):2===D?(0,g.jsx)(U,{onClose:O,install:F,admission:I}):3===D?(0,g.jsx)($,{onClose:O,rid:null===I||void 0===I?void 0:I._id,installId:null===F||void 0===F?void 0:F._id,installAmount:null===F||void 0===F?void 0:F.remainAmount,onMultipleInstallment:B}):4===D?(0,g.jsx)(J,{onClose:O,pid:null===I||void 0===I||null===(k=I.applicable_card)||void 0===k?void 0:k._id,install:F,structureId:null===I||void 0===I||null===(A=I.fee_structure)||void 0===A?void 0:A._id}):5===D?(0,g.jsx)(Q,{onClose:O,admission:I,install:F}):null]})},ee={FINANCE_MANAGER:!0,ADMISSION_ADMIN:!0},ne={authorized:!0};var le=l(11468);const ie=e=>{let{onClose:n,remark:l,rcid:i}=e;const{t:t}=(0,u.$G)(),[s,d]=(0,r.useState)(!1),[f,j]=(0,r.useState)(null!==l&&void 0!==l?l:""),[y,b]=(0,r.useState)(!1),[Z]=(0,o.um)();(0,r.useEffect)((()=>{l&&j(l)}),[l]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(_.Z,{children:(0,g.jsxs)("div",{className:v.Z.modal_container,children:[(0,g.jsx)(a.Z,{children:(0,g.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:v.Z.modal_container_header,children:(0,g.jsx)("h6",{children:t("remark_title")})}),(0,g.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,g.jsx)(m.Z,{}),(0,g.jsxs)(a.Z,{customStyle:{paddingTop:"0"},children:[(0,g.jsx)(le.Z,{label:t("enter_remark"),placeholder:t("please_enter_remark"),name:"scholar",value:f,type:"text",onChange:e=>j(e.target.value),errorShow:y.query}),(0,g.jsx)(h.Z,{label:"save_remark",onAction:()=>{let e=(0,x.l)({query:f},[]);(0,x.x)(e)?(d((e=>!e)),Z({rcid:i,remark:{remark:f}}).then((()=>{d((e=>!e)),n()})).catch({})):b(e)}})]})]})}),s&&(0,g.jsx)(p.Z,{})]})};var te=l(33030),oe=l(23984);const ae=e=>{var n,l;let{admission:i,isAuthorized:o}=e;const{t:a}=(0,u.$G)(),[s,d]=(0,r.useState)("");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:t.Z.remark_card_container,children:(0,g.jsxs)("section",{className:t.Z.add_remark,children:[se[o]?null:(0,g.jsx)(oe.Z,{children:(0,g.jsx)(te.Z,{label:a(null!==i&&void 0!==i&&i.remark?"edit_remark":"add_remark"),onAction:()=>{se[o]||d(1)},customStyle:{padding:"0.2rem 0.4rem",fontSize:"11px",fontWeight:"400"}})}),(0,g.jsxs)("h6",{className:t.Z.add_remark_text,children:[a("fee_remark")," ",null!==(n=null===i||void 0===i?void 0:i.remark)&&void 0!==n?n:""]})]})}),1===s?(0,g.jsx)(ie,{onClose:()=>{d("")},rcid:null===i||void 0===i?void 0:i._id,remark:null!==(l=null===i||void 0===i?void 0:i.remark)&&void 0!==l?l:""}):null]})},se={notAuthorized:!0},de=e=>{let{title1:n,amount1:l,title2:i,amount2:o,title3:a,amount3:s}=e;const{t:d}=(0,u.$G)();return(0,g.jsxs)("section",{className:t.Z.safcst_container,children:[(0,g.jsxs)("div",{className:t.Z.safcst_container_inner,children:[(0,g.jsx)("p",{children:d(n)}),(0,g.jsxs)("h6",{children:[d("rs_only"),null!==l&&void 0!==l?l:0]})]}),(0,g.jsxs)("div",{className:t.Z.safcst_container_inner,children:[(0,g.jsx)("p",{children:d(i)}),(0,g.jsxs)("h6",{children:[d("rs_only"),null!==o&&void 0!==o?o:0]})]}),(0,g.jsxs)("div",{className:t.Z.safcst_container_inner,children:[(0,g.jsx)("p",{children:d(a)}),(0,g.jsxs)("h6",{children:[d("rs_only"),null!==s&&void 0!==s?s:0]})]})]})},re=e=>{var n,l,i,t,s,d,j,y,b,Z;let{onClose:N,admission:k,install:A}=e;const{t:F}=(0,u.$G)();let I=new Date;const[w,T]=(0,r.useState)(!1),[M,P]=(0,r.useState)({amount:"",mode:"Online",fee_payment_mode:"Government/Scholarship",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),[D,E]=(0,r.useState)(""),[G]=(0,o.Hg)(),O=e=>{P((n=>({...n,[e.target.name]:e.target.value})))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(_.Z,{onClose:N,children:(0,g.jsxs)("div",{className:v.Z.modal_container,children:[(0,g.jsx)(a.Z,{children:(0,g.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:v.Z.modal_container_header,children:(0,g.jsxs)("h6",{children:[F("allot_scholer_to_student")," ","".concat(null!==(n=null===k||void 0===k||null===(l=k.student)||void 0===l?void 0:l.studentFirstName)&&void 0!==n?n:""," ").concat(null!==(i=null===k||void 0===k||null===(t=k.student)||void 0===t?void 0:t.studentMiddleName)&&void 0!==i?i:""," ").concat(null!==(s=null===k||void 0===k||null===(d=k.student)||void 0===d?void 0:d.studentLastName)&&void 0!==s?s:"")]})}),(0,g.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:N})]})}),(0,g.jsx)(m.Z,{}),(0,g.jsxs)(a.Z,{customStyle:{paddingTop:"0"},children:[(0,g.jsxs)("div",{className:v.Z.admission_fees_row,children:[(0,g.jsxs)("h6",{children:[F("applicable_amount")," :"]}),(0,g.jsxs)("h6",{children:[F("rs_only")," ",null!==(j=null===k||void 0===k||null===(y=k.government_card)||void 0===y?void 0:y.applicable_fee)&&void 0!==j?j:0]})]}),(0,g.jsxs)("div",{className:v.Z.admission_fees_row,children:[(0,g.jsxs)("h6",{children:[F("remaining_fees")," :"]}),(0,g.jsxs)("h6",{children:[F("rs_only")," ",null!==(b=null===k||void 0===k||null===(Z=k.government_card)||void 0===Z?void 0:Z.remaining_fee)&&void 0!==b?b:0]})]}),(0,g.jsx)(f.Z,{label:F("amount"),placeholder:F("amoute_details_collect"),name:"amount",value:M.amount,type:"tel",onChange:e=>{P((n=>({...n,amount:+e.target.value,fee_payment_amount:+e.target.value})))},errorShow:D.amount}),(0,g.jsx)(S.Z,{label:F("select_date_of_transaction"),placeholder:F("please_select_date"),name:"transaction_date",value:M.transaction_date,onChange:e=>{P((n=>({...n,transaction_date:(0,C.jh)(e)})))},errorShow:D.transaction_date}),(0,g.jsx)(f.Z,{label:F("bank_name_collect"),placeholder:F("please_enter_bank_name"),name:"fee_bank_name",value:M.fee_bank_name,type:"text",onChange:O}),(0,g.jsx)(f.Z,{label:F("banke_holder_name"),placeholder:F("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:M.fee_bank_holder,type:"text",onChange:O}),(0,g.jsx)(f.Z,{label:F("cheque_dd_neft"),placeholder:F("please_enter_utr_ref_number"),name:"fee_utr_reference",value:M.fee_utr_reference,type:"text",onChange:O}),(0,g.jsx)(h.Z,{label:"allot",onAction:()=>{let e=(0,x.l)(M,["mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference","transaction_date"]);var n,l,i,t,o,a,s,d,r;(0,x.x)(e)?null!==k&&void 0!==k&&k._id&&null!==A&&void 0!==A&&A.appId&&null!==k&&void 0!==k&&null!==(n=k.student)&&void 0!==n&&n._id&&(T((e=>!e)),G({sid:null===k||void 0===k||null===(l=k.student)||void 0===l?void 0:l._id,appId:null===A||void 0===A?void 0:A.appId,payment:{rid:null===k||void 0===k?void 0:k._id,type:null===A||void 0===A?void 0:A.installmentValue,amount:null!==(i=null===M||void 0===M?void 0:M.amount)&&void 0!==i?i:"",mode:null!==(t=null===M||void 0===M?void 0:M.mode)&&void 0!==t?t:"",fee_payment_mode:null===M||void 0===M?void 0:M.fee_payment_mode,fee_payment_amount:null!==(o=null===M||void 0===M?void 0:M.fee_payment_amount)&&void 0!==o?o:"",transaction_date:M.transaction_date?(0,C._1)(M.transaction_date):null===(a=I.toISOString())||void 0===a?void 0:a.substring(0,10),fee_bank_name:null!==(s=null===M||void 0===M?void 0:M.fee_bank_name)&&void 0!==s?s:"",fee_bank_holder:null!==(d=null===M||void 0===M?void 0:M.fee_bank_holder)&&void 0!==d?d:"",fee_utr_reference:null!==(r=null===M||void 0===M?void 0:M.fee_utr_reference)&&void 0!==r?r:""}}).then((()=>{T((e=>!e)),N()})).catch({})):E(e)}})]})]})}),w&&(0,g.jsx)(p.Z,{})]})},ce=e=>{let{onClose:n,onMenu:l,install:i,admission:t}=e;const{t:a}=(0,u.$G)(),[s,d]=(0,r.useState)(!1),[c]=(0,o.su)();return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(T.Z,{onClose:n,disabled:s,children:["Paid"!==(null===i||void 0===i?void 0:i.status)&&"Government Fees Shifted To Applicable Fees"!==(null===i||void 0===i?void 0:i.revert_status)?(0,g.jsx)("h6",{onClick:l,children:a("transfer_to_applicable_fees")}):null,"Paid"===(null===i||void 0===i?void 0:i.status)?(0,g.jsx)("h6",{onClick:()=>{var e,l,o,a,s,r,u,_,v,m;null!==t&&void 0!==t&&null!==(e=t.government_card)&&void 0!==e&&e._id&&null!==i&&void 0!==i&&i._id&&null!==t&&void 0!==t&&null!==(l=t.appId)&&void 0!==l&&null!==(o=l.admissionAdmin)&&void 0!==o&&null!==(a=o.institute)&&void 0!==a&&null!==(s=a.financeDepart)&&void 0!==s&&s[0]&&(d((e=>!e)),c({rid:null===i||void 0===i?void 0:i._id,nid:null===t||void 0===t||null===(r=t.government_card)||void 0===r?void 0:r._id,bodyParameter:{fid:null===t||void 0===t||null===(u=t.appId)||void 0===u||null===(_=u.admissionAdmin)||void 0===_||null===(v=_.institute)||void 0===v||null===(m=v.financeDepart)||void 0===m?void 0:m[0]}}).then((()=>{d((e=>!e)),n()})).catch({}))},children:a("remove_installment")}):null]})})},ue=e=>{let{onClose:n,rid:l,installAmount:i}=e;const{t:t}=(0,u.$G)(),[s,d]=(0,r.useState)(!1),[j,y]=(0,r.useState)(0),[b,Z]=(0,r.useState)(!1),[S]=(0,o.t6)();(0,r.useEffect)((()=>{i&&y(i)}),[i]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(_.Z,{children:(0,g.jsxs)("div",{className:v.Z.modal_container,children:[(0,g.jsx)(a.Z,{children:(0,g.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:v.Z.modal_container_header,children:(0,g.jsx)("h6",{children:t("transfer_to_applicable_fees")})}),(0,g.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,g.jsx)(m.Z,{}),(0,g.jsxs)(a.Z,{customStyle:{paddingTop:"0"},children:[(0,g.jsx)(f.Z,{label:t("amount"),placeholder:t("please_enter_amount_paid"),name:"amount",value:j,type:"tel",onChange:e=>y(e.target.value),errorShow:b.state,msg:b.amount_issue}),(0,g.jsx)(h.Z,{label:"confirm",onAction:()=>{if(l){let e=(0,x.l)({query:j},[]);(0,x.x)(e)&&j<=i?(d((e=>!e)),S({rid:l,applicableBody:{price:+j}}).then((()=>{d((e=>!e)),n()})).catch({})):Z(j>i?{amount_issue:"Amount should be less than or equal to installment Amount"}:e)}}})]})]})}),s&&(0,g.jsx)(p.Z,{})]})},_e=e=>{var n,l,o,a,s,d,_,v,m,h,p,f,x,j,y,b,Z,S,C,N;let{install:k,admission:A}=e;const F=(0,i.TH)(),{t:I}=(0,u.$G)(),[T,M]=(0,r.useState)(""),P=()=>{M("")};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:t.Z.student_admission_cash_card,style:{position:"relative"},children:[(0,g.jsxs)("section",{className:t.Z.admission_fees_amount,children:[(0,g.jsxs)("h6",{children:[null===k||void 0===k?void 0:k.installmentValue," ","Paid"===(null===k||void 0===k?void 0:k.status)&&(0,g.jsx)("span",{children:w()(null===k||void 0===k||null===(n=k.fee_receipt)||void 0===n?void 0:n.fee_transaction_date).format("DD-MMM-YY")})]}),(0,g.jsxs)("h6",{children:[I("rs_only"),null!==(l=null===k||void 0===k?void 0:k.remainAmount)&&void 0!==l?l:0]})]}),(0,g.jsx)("section",{className:t.Z.admission_fees_grant,style:{marginBottom:"0"},children:"Paid"===(null===k||void 0===k?void 0:k.status)?(0,g.jsx)(g.Fragment,{children:"Government Fees Shifted To Applicable Fees"===(null===k||void 0===k?void 0:k.revert_status)?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h6",{children:null!==(o=null===k||void 0===k?void 0:k.revert_status)&&void 0!==o?o:""}),(0,g.jsx)("h6",{children:"N/A"})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h6",{children:"By Cash"===(null===k||void 0===k||null===(a=k.fee_receipt)||void 0===a?void 0:a.fee_payment_mode)?"Offline":null!==k&&void 0!==k&&null!==(s=k.fee_receipt)&&void 0!==s&&s.fee_payment_mode?null===k||void 0===k||null===(d=k.fee_receipt)||void 0===d?void 0:d.fee_payment_mode:null!==(_=null===k||void 0===k?void 0:k.refund_status)&&void 0!==_?_:""}),(0,g.jsx)("h6",{children:"Set Off"===(null===k||void 0===k||null===(v=k.fee_receipt)||void 0===v?void 0:v.set_off_status)?"SetOff":"By Cash"===(null===k||void 0===k||null===(m=k.fee_receipt)||void 0===m?void 0:m.fee_payment_mode)?"Cash":"Exempted/Unrecovered"===(null===k||void 0===k||null===(h=k.fee_receipt)||void 0===h?void 0:h.fee_payment_mode)?"N/A":"Bank"})]})}):(0,g.jsx)(g.Fragment,{children:"Receipt Rejected"===(null===k||void 0===k?void 0:k.status)?(0,g.jsxs)("h6",{children:["".concat(I("reason")," : "),null===k||void 0===k||null===(p=k.fee_receipt)||void 0===p?void 0:p.reason]}):(0,g.jsxs)("h6",{children:[I("due_on"),null===k||void 0===k?void 0:k.dueDate]})})}),me[null===(f=F.state)||void 0===f?void 0:f.editGovtInstallmentControl]?(0,g.jsx)("img",{src:"".concat(c.J7,"/menu.svg"),alt:"menu icon",onClick:()=>{M(1)},className:t.Z.edit_icon,title:"Menu",style:{cursor:"pointer",top:"11%",right:"0%"}}):null,"Paid"===(null===k||void 0===k?void 0:k.status)?null:(0,g.jsx)("button",{className:t.Z.student_admission_collect_btn,style:{backgroundColor:"#1d22c9f7"},onClick:()=>{var e,n;ve[null===(e=F.state)||void 0===e?void 0:e.govtAccess]&&"ADMISSION_ADMIN"!==(null===(n=F.state)||void 0===n?void 0:n.collectAccess)&&M(2)},children:I(ve[null===(x=F.state)||void 0===x?void 0:x.govtAccess]&&"ADMISSION_ADMIN"!==(null===(j=F.state)||void 0===j?void 0:j.collectAccess)?"scholarship_outs":"unpaid")}),null!==k&&void 0!==k&&null!==(y=k.fee_receipt)&&void 0!==y&&y.txn_id||null!==k&&void 0!==k&&null!==(b=k.fee_receipt)&&void 0!==b&&b.fee_utr_reference?(0,g.jsx)("section",{className:t.Z.admission_fees_grant,children:(0,g.jsxs)("h6",{children:[I("transaction_id")," ",":",null!==(Z=null!==(S=null===k||void 0===k||null===(C=k.fee_receipt)||void 0===C?void 0:C.txn_id)&&void 0!==S?S:null===k||void 0===k||null===(N=k.fee_receipt)||void 0===N?void 0:N.fee_utr_reference)&&void 0!==Z?Z:""]})}):null]}),1===T?(0,g.jsx)(ce,{onClose:P,onMenu:()=>{M(3)},install:k,admission:A}):2===T?(0,g.jsx)(re,{onClose:P,admission:A,install:k}):3===T?(0,g.jsx)(ue,{onClose:P,installAmount:null===k||void 0===k?void 0:k.remainAmount,rid:null===A||void 0===A?void 0:A._id}):null]})},ve={FINANCE_MANAGER:!0,Finance_scholarship:!0},me={authorized:!0},he=e=>{let{onClose:n,rid:l,sid:i,onParentClose:t}=e;const{t:s}=(0,u.$G)(),[d,j]=(0,r.useState)(!1),[y,b]=(0,r.useState)(!1),[Z,S]=(0,r.useState)({verify:""}),[C]=(0,o.D1)();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(_.Z,{children:(0,g.jsxs)("div",{className:v.Z.modal_container,children:[(0,g.jsx)(a.Z,{children:(0,g.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:v.Z.modal_container_header,children:(0,g.jsx)("h6",{children:s("confirm_drop_admission_fees")})}),(0,g.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,g.jsx)(m.Z,{}),(0,g.jsxs)(a.Z,{customStyle:{paddingTop:"0"},children:[(0,g.jsx)(f.Z,{label:s("type_confirm_to_continue"),placeholder:s("type_confirm_to_continue"),name:"verify",value:null===Z||void 0===Z?void 0:Z.verify,type:"text",onChange:e=>S((n=>({...n,verify:e.target.value}))),errorShow:y.verify}),(0,g.jsx)(h.Z,{label:"confirm",onAction:()=>{let e=(0,x.l)(Z);(0,x.x)(e)&&"Confirm"===Z.verify&&l&&i?(j((e=>!e)),C({rid:l,sid:i}).then((()=>{t(),j((e=>!e))})).catch({})):b(e)}})]})]})}),d&&(0,g.jsx)(p.Z,{})]})};var pe=l(77123);const fe=e=>{let{structureId:n,onClose:l,aid:i,appId:t,sid:a,rid:s,did:d,bid:c,cmid:u,onParentClose:_}=e;const[v,m]=(0,r.useState)(!1),[h]=(0,o.$q)();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(pe.Z,{onClose:l,did:d,bid:c,cmid:u,selectedStructure:n,onSelectedStrucutre:e=>{n===(null===e||void 0===e?void 0:e._id)||i&&a&&t&&n&&s&&(m((e=>!e)),h({aid:i,appId:t,sid:a,updateStrucutre:{old_fee_struct:n,new_fee_struct:null===e||void 0===e?void 0:e._id,rid:s}}).then((()=>{_(),m((e=>!e))})).catch({}))}}),v&&(0,g.jsx)(p.Z,{})]})},xe=(0,r.lazy)((()=>l.e(56212).then(l.bind(l,56212)))),je=e=>{var n;let{onClose:l,rid:t,sid:o,is_drop:a,structureId:s,aid:d,appId:c,did:_,bid:v,cmid:m,isOneInstallment:h,admission:f}=e;const{t:x}=(0,u.$G)(),[y,b]=(0,r.useState)(!1),[Z,S]=(0,r.useState)(!1),[C,N]=(0,r.useState)(""),k=(0,i.TH)(),[A,F]=(0,r.useState)({open:!1,msg:"",variant:"error"}),I=()=>{h?S((e=>!e)):F({msg:"Only fees structures with one installment can be edited.",open:!0,variant:"error"})},w=()=>{b((e=>!e))};return(0,g.jsxs)(g.Fragment,{children:[y?(0,g.jsx)(he,{rid:t,sid:o,onClose:w,onParentClose:l}):Z?(0,g.jsx)(fe,{structureId:s,onClose:I,aid:d,appId:c,sid:o,rid:t,did:_,bid:v,cmid:m,onParentClose:l}):"CANCEL"===C?(0,g.jsx)(r.Suspense,{fallback:(0,g.jsx)(p.Z,{}),children:(0,g.jsx)(xe,{onClose:()=>{N("")},appId:c,admission:f,onParentClose:l})}):(0,g.jsxs)(T.Z,{onClose:l,children:[(0,g.jsx)("h6",{onClick:I,children:x("edit_fees_structure")}),a?(0,g.jsx)("h6",{onClick:w,children:x("drop")}):null,null!==(n=k.state)&&void 0!==n&&n.cancelAccess?(0,g.jsx)("h6",{onClick:()=>N("CANCEL"),children:x("cancel_addmission")}):null]}),(0,g.jsx)(j.Z,{eventState:A,eventStateHandler:F})]})},ge=e=>{var n,l,o,a,s,d,_,v,h,p,f,x,j,y,Z,S,C,N,k,F,I,w,T,M,P,D,E,G,O,B,q,R;let{admission:L}=e;const U=(0,i.TH)(),{t:$}=(0,u.$G)(),[V,H]=(0,r.useState)(""),[z,J]=(0,r.useState)(!1),W=()=>{J((e=>!e))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("section",{className:t.Z.af_container_inner,children:[(0,g.jsxs)("section",{className:t.Z.student_admission_card_title,children:[(0,g.jsx)("h6",{children:"Promote"===(null===L||void 0===L?void 0:L.card_type)?null!==(n=null===L||void 0===L||null===(l=L.student)||void 0===l||null===(o=l.studentClass)||void 0===o?void 0:o.classTitle)&&void 0!==n?n:"":null!==(a=null===L||void 0===L||null===(s=L.appId)||void 0===s?void 0:s.applicationName)&&void 0!==a?a:""}),(0,g.jsx)("p",{children:null!==(d=null===L||void 0===L||null===(_=L.fee_structure)||void 0===_?void 0:_.unique_structure_name)&&void 0!==d?d:""}),ye[null===(v=U.state)||void 0===v?void 0:v.editStructureControl]?(0,g.jsx)("img",{src:"".concat(c.J7,"/menu.svg"),alt:"menu icon",onClick:()=>{H(1)},className:t.Z.edit_icon,title:"Menu"}):null]}),null!==L&&void 0!==L&&null!==(h=L.fee_structure)&&void 0!==h&&null!==(p=h.category_master)&&void 0!==p&&p.scholarship_applicable?(0,g.jsx)(b,{scholarNumber:null===L||void 0===L?void 0:L.scholar_ship_number,rcid:null===L||void 0===L?void 0:L._id}):null,(0,g.jsx)(A,{admission:L,scholarshipApplicable:null===L||void 0===L||null===(f=L.fee_structure)||void 0===f||null===(x=f.category_master)||void 0===x?void 0:x.scholarship_applicable}),(0,g.jsxs)("div",{className:t.Z.afc_collapse,children:[(0,g.jsx)("span",{onClick:W,children:$(z?"expand":"collapse")}),(0,g.jsx)("img",{src:"".concat(c.U_,z?"/collapse.svg":"/expand.svg"),alt:"collapse icon",onClick:W})]}),z?null:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(m.Z,{}),(0,g.jsx)("h5",{className:t.Z.af_heading,children:$("from_student")}),(0,g.jsx)(de,{title1:"o_total",amount1:null===L||void 0===L||null===(j=L.applicable_card)||void 0===j?void 0:j.applicable_fee,title2:"paid",amount2:null===L||void 0===L||null===(y=L.applicable_card)||void 0===y?void 0:y.paid_fee,title3:"outstanding",amount3:null===L||void 0===L||null===(Z=L.applicable_card)||void 0===Z?void 0:Z.remaining_fee}),null===L||void 0===L||null===(S=L.applicable_card)||void 0===S||null===(C=S.remaining_array)||void 0===C?void 0:C.map((e=>(0,g.jsx)(X,{install:e,admission:L},null===e||void 0===e?void 0:e._id))),(0,g.jsxs)("h5",{className:t.Z.af_heading,style:{marginTop:"1.5rem"},children:[(0,g.jsx)(m.Z,{}),$("from_gov_scholarship")]}),(0,g.jsx)(de,{title1:"o_total",amount1:null===L||void 0===L||null===(N=L.government_card)||void 0===N?void 0:N.applicable_fee,title2:"received",amount2:null===L||void 0===L||null===(k=L.government_card)||void 0===k?void 0:k.paid_fee,title3:"outstanding",amount3:null===L||void 0===L||null===(F=L.government_card)||void 0===F?void 0:F.remaining_fee}),null===L||void 0===L||null===(I=L.government_card)||void 0===I||null===(w=I.remaining_array)||void 0===w?void 0:w.map((e=>(0,g.jsx)(_e,{install:e,admission:L},null===e||void 0===e?void 0:e._id))),(0,g.jsx)(ae,{admission:L})]})]}),1===V?(0,g.jsx)(je,{onClose:()=>{H("")},rid:null===L||void 0===L?void 0:L._id,sid:null===L||void 0===L||null===(T=L.student)||void 0===T?void 0:T._id,is_drop:"Disable"!==(null===L||void 0===L?void 0:L.drop_status),structureId:null===L||void 0===L||null===(M=L.fee_structure)||void 0===M?void 0:M._id,aid:null===L||void 0===L||null===(P=L.appId)||void 0===P||null===(D=P.admissionAdmin)||void 0===D?void 0:D._id,appId:null===L||void 0===L||null===(E=L.appId)||void 0===E?void 0:E._id,did:null===L||void 0===L||null===(G=L.fee_structure)||void 0===G?void 0:G.department,bid:null===L||void 0===L||null===(O=L.fee_structure)||void 0===O?void 0:O.batch_master,cmid:null===L||void 0===L||null===(B=L.fee_structure)||void 0===B||null===(q=B.class_master)||void 0===q?void 0:q._id,isOneInstallment:"1"===(null===L||void 0===L||null===(R=L.fee_structure)||void 0===R?void 0:R.total_installments),admission:L}):null]})},ye={authorized:!0};var be=l(66687);const Ze=e=>{var n,l,i,o,a,s,d,c,_,v,m,h,p,f,x,j,y;let{install:b,admission:Z,isEditable:S}=e;const{t:C}=(0,u.$G)(),[N,k]=(0,r.useState)("");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:t.Z.student_admission_cash_card,style:{position:"relative"},children:[(0,g.jsxs)("section",{className:t.Z.admission_fees_amount,children:[(0,g.jsxs)("h6",{children:[null===b||void 0===b?void 0:b.installmentValue," ","Paid"===(null===b||void 0===b?void 0:b.status)&&(0,g.jsx)("span",{children:w()(null===b||void 0===b||null===(n=b.fee_receipt)||void 0===n?void 0:n.fee_transaction_date).format("DD-MMM-YY")})]}),(0,g.jsxs)("h6",{children:[C("rs_only"),0===(null===b||void 0===b?void 0:b.remainAmount)?null===b||void 0===b?void 0:b.set_off:null!==(l=null===b||void 0===b?void 0:b.remainAmount)&&void 0!==l?l:0]})]}),0===(null===b||void 0===b?void 0:b.remainAmount)?null:(0,g.jsx)("section",{className:t.Z.admission_fees_grant,children:"Paid"===(null===b||void 0===b?void 0:b.status)&&"Rejected"!==(null===b||void 0===b?void 0:b.receipt_status)?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h6",{children:"By Cash"===(null===b||void 0===b||null===(i=b.fee_receipt)||void 0===i?void 0:i.fee_payment_mode)?"Offline":null!==b&&void 0!==b&&null!==(o=b.fee_receipt)&&void 0!==o&&o.fee_payment_mode?null===b||void 0===b||null===(a=b.fee_receipt)||void 0===a?void 0:a.fee_payment_mode:null!==(s=null===b||void 0===b?void 0:b.refund_status)&&void 0!==s?s:""}),(0,g.jsx)("h6",{children:"Set Off"===(null===b||void 0===b||null===(d=b.fee_receipt)||void 0===d?void 0:d.set_off_status)?"SetOff":"By Cash"===(null===b||void 0===b||null===(c=b.fee_receipt)||void 0===c?void 0:c.fee_payment_mode)?"Cash":"Exempted/Unrecovered"===(null===b||void 0===b||null===(_=b.fee_receipt)||void 0===_?void 0:_.fee_payment_mode)?"N/A":"Bank"})]}):(0,g.jsx)(g.Fragment,{children:"Rejected"===(null===b||void 0===b?void 0:b.receipt_status)?(0,g.jsxs)("h6",{style:{margin:"0"},children:["".concat(C("reason")," : "),null===b||void 0===b?void 0:b.reason]}):(0,g.jsxs)("h6",{style:{margin:"0"},children:[C("due_on"),null===b||void 0===b?void 0:b.dueDate]})})}),null!==b&&void 0!==b&&null!==(v=b.component)&&void 0!==v&&v.gov?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("section",{className:t.Z.admission_fees_grant,children:[(0,g.jsx)("h6",{style:{margin:"0"},children:C("applicable_fees")}),(0,g.jsxs)("h6",{style:{margin:"0",fontSize:"13px",color:"#121212"},children:[C("rs_only"),null!==(m=null===b||void 0===b||null===(h=b.component)||void 0===h?void 0:h.app)&&void 0!==m?m:0]})]}),(0,g.jsxs)("section",{className:t.Z.admission_fees_grant,children:[(0,g.jsx)("h6",{style:{margin:"0"},children:C("govt_fees")}),(0,g.jsxs)("h6",{style:{margin:"0",fontSize:"13px",color:"#121212"},children:[C("rs_only"),null!==(p=null===b||void 0===b||null===(f=b.component)||void 0===f?void 0:f.gov)&&void 0!==p?p:0]})]})]}):null,null!==b&&void 0!==b&&b.set_off_message?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("section",{className:t.Z.admission_fees_grant,children:(0,g.jsx)("h6",{style:{margin:"0",marginBottom:"0.2rem"},children:null===b||void 0===b?void 0:b.set_off_message})})}):null,"Requested"!==(null===b||void 0===b?void 0:b.receipt_status)&&"Rejected"!==(null===b||void 0===b?void 0:b.receipt_status)&&"Paid"===(null===b||void 0===b?void 0:b.status)?null!==b&&void 0!==b&&b.cover_status?(0,g.jsx)("button",{className:t.Z.student_admission_collect_btn,style:{width:"100%",backgroundColor:"rgb(92 92 92)",fontSize:"0.7rem"},children:null===b||void 0===b?void 0:b.cover_status}):0===(null===b||void 0===b?void 0:b.remainAmount)?null:(0,g.jsx)(g.Fragment,{children:"Setoff"===(null===b||void 0===b?void 0:b.receipt_status)?null:(0,g.jsx)(G,{rid:null===b||void 0===b||null===(x=b.fee_receipt)||void 0===x?void 0:x._id,appId:null===Z||void 0===Z||null===(j=Z.appId)||void 0===j?void 0:j._id,receiptFile:null===b||void 0===b||null===(y=b.fee_receipt)||void 0===y?void 0:y.receipt_file})}):(0,g.jsx)("button",{className:t.Z.student_admission_collect_btn,style:{width:"100%"},onClick:()=>{null!==b&&void 0!==b&&b.isEnable&&k(2)},children:"Requested"===(null===b||void 0===b?void 0:b.receipt_status)?C("receipt_requested"):"Rejected"===(null===b||void 0===b?void 0:b.receipt_status)?C("receipt_rejected"):C("pay")})]}),2===N?(0,g.jsx)(be.Z,{onClose:()=>{k("")},install:b,admission:Z,isEditable:S}):null]})},Se=e=>{var n,l,i,o,a,s,d,_,v,h,p,f,x,j,y,Z,S;let{admission:C,howManyCard:N,isEditable:k}=e;const{t:F}=(0,u.$G)(),[I,w]=(0,r.useState)(!0),T=()=>{w((e=>!e))};return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("section",{className:t.Z.af_container_inner,style:{flex:Ce[N]?"1 1 49%":"inherite",maxWidth:Ce[N]?"49%":"inherite"},children:[(0,g.jsxs)("section",{className:t.Z.student_admission_card_title,children:[(0,g.jsx)("h6",{children:"Promote"===(null===C||void 0===C?void 0:C.card_type)?null!==(n=null===C||void 0===C||null===(l=C.student)||void 0===l||null===(i=l.studentClass)||void 0===i?void 0:i.classTitle)&&void 0!==n?n:"":null!==(o=null===C||void 0===C||null===(a=C.appId)||void 0===a?void 0:a.applicationName)&&void 0!==o?o:""}),(0,g.jsx)("p",{children:null!==(s=null===C||void 0===C||null===(d=C.fee_structure)||void 0===d?void 0:d.unique_structure_name)&&void 0!==s?s:""})]}),(0,g.jsx)(b,{scholarNumber:null===C||void 0===C?void 0:C.scholar_ship_number,rcid:null===C||void 0===C?void 0:C._id}),(0,g.jsx)(A,{admission:C}),(0,g.jsxs)("div",{className:t.Z.afc_collapse,children:[(0,g.jsx)("span",{onClick:T,children:F(I?"expand":"collapse")}),(0,g.jsx)("img",{src:"".concat(c.U_,I?"/collapse.svg":"/expand.svg"),alt:"collapse icon",onClick:T})]}),I?null:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(m.Z,{}),(0,g.jsx)("h5",{className:t.Z.af_heading,children:F("from_student")}),(0,g.jsx)(de,{title1:"o_total",amount1:null===C||void 0===C||null===(_=C.applicable_card)||void 0===_?void 0:_.applicable_fee,title2:"paid",amount2:null===C||void 0===C||null===(v=C.applicable_card)||void 0===v?void 0:v.paid_fee,title3:"outstanding",amount3:null===C||void 0===C||null===(h=C.applicable_card)||void 0===h?void 0:h.remaining_fee}),null===C||void 0===C||null===(p=C.applicable_card)||void 0===p||null===(f=p.remaining_array)||void 0===f?void 0:f.map((e=>(0,g.jsx)(Ze,{install:e,admission:C,isEditable:k},null===e||void 0===e?void 0:e._id))),(0,g.jsxs)("h5",{className:t.Z.af_heading,style:{marginTop:"1.5rem"},children:[(0,g.jsx)(m.Z,{}),F("from_gov_scholarship")]}),(0,g.jsx)(de,{title1:"o_total",amount1:null===C||void 0===C||null===(x=C.government_card)||void 0===x?void 0:x.applicable_fee,title2:"received",amount2:null===C||void 0===C||null===(j=C.government_card)||void 0===j?void 0:j.paid_fee,title3:"outstanding",amount3:null===C||void 0===C||null===(y=C.government_card)||void 0===y?void 0:y.remaining_fee}),null===C||void 0===C||null===(Z=C.government_card)||void 0===Z||null===(S=Z.remaining_array)||void 0===S?void 0:S.map((e=>(0,g.jsx)(_e,{install:e,admission:C},null===e||void 0===e?void 0:e._id)))]}),(0,g.jsx)(ae,{admission:C,isAuthorized:"notAuthorized"})]})})},Ce={onlyTowCard:!0},Ne=e=>{var n,l,r;let{isEditable:c}=e;const u=(0,i.TH)(),{studentAdmissionFeeList:_,studentAdmissionFeeListLoading:v}=(0,o.Wb)({sid:null===(n=u.state)||void 0===n?void 0:n.sid,skip:!(null!==(l=u.state)&&void 0!==l&&l.sid)});return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(a.Z,{children:(0,g.jsxs)("section",{className:t.Z.af_container,children:["STUDENT"===(null===(r=u.state)||void 0===r?void 0:r.viewAs)?null===_||void 0===_?void 0:_.map((e=>{var n;return(0,g.jsx)(Se,{admission:e,howManyCard:null===(n=u.state)||void 0===n?void 0:n.howManyCard,isEditable:c},null===e||void 0===e?void 0:e._id)})):null===_||void 0===_?void 0:_.map((e=>(0,g.jsx)(ge,{admission:e},null===e||void 0===e?void 0:e._id))),v?(0,g.jsx)(s.Z,{}):0===(null===_||void 0===_?void 0:_.length)&&(0,g.jsx)(d.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission fees list."})]})})})}},85794:(e,n,l)=>{l.d(n,{Z:()=>c});var i=l(72791),t=l(54164),o=l(15783),a=l(98684),s=l(80184);const d=e=>{let{onClose:n,isVariant:l,isHide:i,children:d}=e;return t.createPortal((0,s.jsx)("div",{children:(0,s.jsx)("div",{className:i?o.Z.notify_hide_overlay:o.Z.notify_overlay,children:(0,s.jsxs)("div",{className:o.Z.notify_container,style:{"--notify-bg-color":l},children:[d,(0,s.jsx)("img",{src:"".concat(a.Fk,"/close-white.svg"),alt:"close icon",onClick:n,className:o.Z.notify_close})]})})}),document.getElementById("notify-alert"))},r={success:"green",error:"#ed4a4a",warning:"orange"},c=e=>{var n;let{eventState:l,eventStateHandler:t}=e;const[a,c]=(0,i.useState)(!1);return null!==l&&void 0!==l&&l.open?(0,s.jsx)(d,{onClose:()=>{c(!0);let e=setTimeout((()=>{t((e=>({...e,open:!1,msg:"",variant:"success"}))),c(!1)}),500);return()=>clearTimeout(e)},isVariant:r[null===l||void 0===l?void 0:l.variant],isHide:a,children:(0,s.jsx)("h6",{className:o.Z.notify_message,children:null!==(n=null===l||void 0===l?void 0:l.msg)&&void 0!==n?n:""})}):null}},78981:(e,n,l)=>{l.d(n,{Z:()=>i});const i={af_container:"StudentAdmissionFees_af_container__Ujcky",af_container_inner:"StudentAdmissionFees_af_container_inner__XqsB1",afc_collapse:"StudentAdmissionFees_afc_collapse__NOW5n",safcst_container:"StudentAdmissionFees_safcst_container__+h3we",safcst_container_inner:"StudentAdmissionFees_safcst_container_inner__2XAhi",af_heading:"StudentAdmissionFees_af_heading__S1QwL",af_top_container:"StudentAdmissionFees_af_top_container__lY3mr",edit_icon:"StudentAdmissionFees_edit_icon__qdSg1",admission_fees_container:"StudentAdmissionFees_admission_fees_container__DT2KG",admission_fees_amount:"StudentAdmissionFees_admission_fees_amount__94M+n",admission_fees_amount_top:"StudentAdmissionFees_admission_fees_amount_top__cOmxF",admission_fees_grant:"StudentAdmissionFees_admission_fees_grant__l+6B8",pending_btn:"StudentAdmissionFees_pending_btn__0tfYk",paid_btn:"StudentAdmissionFees_paid_btn__sM4tO",refund_btn:"StudentAdmissionFees_refund_btn__mUqNR",card_title:"StudentAdmissionFees_card_title__lnVPO",collect_btn:"StudentAdmissionFees_collect_btn__5BueI",add_remark:"StudentAdmissionFees_add_remark__qrcQO",add_remark_btn:"StudentAdmissionFees_add_remark_btn__zteTD",add_remark_text:"StudentAdmissionFees_add_remark_text__MLxEk",remark_modal:"StudentAdmissionFees_remark_modal__C3jhB",save_remark:"StudentAdmissionFees_save_remark__LnpAM",remark_modal_title:"StudentAdmissionFees_remark_modal_title__WeXGc",student_admission_fees_card_container:"StudentAdmissionFees_student_admission_fees_card_container__HODQX",student_admission_card_title:"StudentAdmissionFees_student_admission_card_title__Bj54b",student_admission_count_container:"StudentAdmissionFees_student_admission_count_container__BwIb0",student_admission_count:"StudentAdmissionFees_student_admission_count__hc-KT",student_admission_count_image:"StudentAdmissionFees_student_admission_count_image__jgbyV",show_text:"StudentAdmissionFees_show_text__aG358",student_admission_cash_card:"StudentAdmissionFees_student_admission_cash_card__rY1DQ",view_receipt_btn:"StudentAdmissionFees_view_receipt_btn__yIDFL",student_admission_collect_btn:"StudentAdmissionFees_student_admission_collect_btn__oV+d1",remark_card_container:"StudentAdmissionFees_remark_card_container__2TW2I",image_refund_btn:"StudentAdmissionFees_image_refund_btn__eaTlh",add_scholar_number_btn:"StudentAdmissionFees_add_scholar_number_btn__luF-w"}}}]);
//# sourceMappingURL=74522.3b7a93df.chunk.js.map