"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[6282],{36282:function(n,t,e){e.r(t),e.d(t,{default:function(){return Z}});var i=e(29439),a=e(72791),l=e(98684),s=e(55336),c=e(1669),o=e(2651),d=e(23441),r=e(86500),u=e(91427),f=e(57588),_=e(39230),v=e(56959),h=e(37762),m=e(9228),j=e(16871),x=e(1095),g=e(80184),b=(0,a.lazy)((function(){return e.e(9623).then(e.bind(e,87156))})),k=function(n){var t,e,c,o,d,r,u,f,v,h,k,Z,y=n.staff,N=(0,_.$G)().t,F=(0,j.TH)(),q=(0,a.useState)(!1),I=(0,i.Z)(q,2),S=I[0],C=I[1];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:m.Z.sf_card,onClick:function(){var n,t;null!==y&&void 0!==y&&null!==(n=y.student_feedback)&&void 0!==n&&null!==(t=n[0])&&void 0!==t&&t.analytic_evaluation&&C((function(n){return!n}))},children:(0,g.jsxs)("div",{className:m.Z.sf_card_contatiner,style:{justifyContent:"space-between",width:"100%"},children:[(0,g.jsxs)("div",{className:m.Z.sf_card_contatiner,children:[(0,g.jsx)("img",{src:null!==y&&void 0!==y&&y.staffProfilePhoto?"".concat(x.yI,"/").concat(null===y||void 0===y?void 0:y.staffProfilePhoto):"".concat(l.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,g.jsxs)("div",{className:m.Z.sf_card_contatiner_inner,children:[(0,g.jsx)("h6",{children:"".concat(null!==(t=null===y||void 0===y?void 0:y.staffFirstName)&&void 0!==t?t:""," ").concat(null!==(e=null===y||void 0===y?void 0:y.staffMiddleName)&&void 0!==e?e:""," ").concat(null!==(c=null===y||void 0===y?void 0:y.staffLastName)&&void 0!==c?c:"")}),(0,g.jsxs)("p",{children:[N("employee_code"),": ",null!==(o=null===y||void 0===y?void 0:y.staffROLLNO)&&void 0!==o?o:""]})]})]}),null!==y&&void 0!==y&&null!==(d=y.student_feedback)&&void 0!==d&&null!==(r=d[0])&&void 0!==r&&r.analytic_evaluation?(0,g.jsxs)("div",{className:m.Z.sf_card_contatiner_inner,children:[(0,g.jsxs)("h6",{children:[(0,g.jsx)("span",{style:{fontWeight:"400"},children:N("total_feedback")}),": ",p(null===y||void 0===y||null===(u=y.student_feedback)||void 0===u||null===(f=u[0])||void 0===f?void 0:f.subject_analytic),"%"]}),(0,g.jsxs)("p",{children:[N("given_feedback"),": ",null!==(v=null===y||void 0===y||null===(h=y.student_feedback)||void 0===h||null===(k=h[0])||void 0===k?void 0:k.student_give_feedback_count)&&void 0!==v?v:0]})]}):null]})}),(0,g.jsx)(a.Suspense,{fallback:(0,g.jsx)(s.Z,{}),children:S&&(0,g.jsx)(b,{onClose:function(){C((function(n){return!n}))},ifid:null===(Z=F.state)||void 0===Z?void 0:Z.ifid,sid:null===y||void 0===y?void 0:y._id,staff:y})})]})},p=function(n){if((null===n||void 0===n?void 0:n.length)>0){var t,e=0,i=(0,h.Z)(n);try{for(i.s();!(t=i.n()).done;){var a=t.value;e+=null===a||void 0===a?void 0:a.feedback_percentage}}catch(l){i.e(l)}finally{i.f()}return e=Math.floor(e/(null===n||void 0===n?void 0:n.length))}return 0},Z=function(n){n.instituteId;var t,e,h,m=n.ifid,j=(0,_.$G)().t,x=(0,a.useState)(""),b=(0,i.Z)(x,2),p=b[0],Z=b[1],y=(0,a.useState)(1),N=(0,i.Z)(y,2),F=N[0],q=N[1],I=(0,a.useState)(!0),S=(0,i.Z)(I,2),C=S[0],T=S[1],w=(0,d.YD)({skip:p}),L=(0,i.Z)(w,2),P=L[0],W=L[1],z=(0,r.FQ)({data:{ifid:m,page:F,limit:10,search:p},skip:!m}),E=z.feedbackSubjectTeacherList,G=z.feedbackSubjectTeacherListLoading;(0,a.useEffect)((function(){W&&C&&q((function(n){return n+1}))}),[W,C]),(0,a.useEffect)((function(){var n;if(null!==E&&void 0!==E&&null!==(n=E.list)&&void 0!==n&&n.length){var t,e=(0,u.f)(null===E||void 0===E||null===(t=E.list)||void 0===t?void 0:t.length);T((function(){return e}))}}),[null===E||void 0===E?void 0:E.list]);var M=(0,a.useCallback)((0,f.J)((function(n){q((function(){return 1})),Z(n)}),1500),[]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:v.Z.fm_header_container,children:(0,g.jsx)("div",{className:v.Z.fm_search_full,children:(0,g.jsx)("section",{className:v.Z.fm_search_full_container,children:(0,g.jsxs)("div",{className:v.Z.fm_search_full_container_inner,children:[(0,g.jsx)("img",{className:v.Z.fm_search_full_icon,alt:"search icon",src:"".concat(l.dB,"/navbar-search.svg")}),(0,g.jsx)("input",{type:"text",placeholder:j("search"),onChange:function(n){n.target.value?M(n.target.value):(q((function(){return 1})),Z(""))}})]})})})}),null===E||void 0===E||null===(t=E.list)||void 0===t?void 0:t.map((function(n,t){var e;return(null===E||void 0===E||null===(e=E.list)||void 0===e?void 0:e.length)===t+1?(0,g.jsx)("div",{ref:P,children:(0,g.jsx)(k,{staff:n})},null===n||void 0===n?void 0:n._id):(0,g.jsx)(k,{staff:n},null===n||void 0===n?void 0:n._id)})),G?p?(0,g.jsx)(s.Z,{}):(0,g.jsx)(c.Z,{}):p?0===(null===E||void 0===E||null===(e=E.list)||void 0===e?void 0:e.length)&&(0,g.jsx)(o.Z,{title:"No staff found related this search.",customStyleContainer:{marginTop:"10rem"}}):0===(null===E||void 0===E||null===(h=E.list)||void 0===h?void 0:h.length)&&(0,g.jsx)(o.Z,{title:"No staff.",customStyleContainer:{marginTop:"10rem"}})]})}},1669:function(n,t,e){var i=e(98684),a=e(63244),l=e(80184);t.Z=function(n){var t=n.isGrey;return(0,l.jsx)("div",{className:a.Z.q_loading,children:(0,l.jsx)("img",{src:"".concat(i.Uw,t?"/loading-grey.gif":"/loading.gif"),alt:"loading icon"})})}},2651:function(n,t,e){var i=e(15783),a=e(80184);t.Z=function(n){var t=n.title,e=n.subtitle,l=n.customStyleContainer,s=n.costomTextTitleStyle,c=n.costomTextSubtitleStyle;return(0,a.jsxs)("div",{className:i.Z.empty_container,style:l,children:[t&&(0,a.jsx)("h6",{style:s,children:t}),e&&(0,a.jsx)("p",{style:c,children:e})]})}},57588:function(n,t,e){e.d(t,{J:function(){return i}});var i=function(n,t){var e;return function(){var i=this,a=arguments;clearTimeout(e),e=setTimeout((function(){n.apply(i,a)}),t)}}},91427:function(n,t,e){e.d(t,{f:function(){return i}});var i=function(n){return n%10===0}},9228:function(n,t){t.Z={sf_card:"InstituteFeedback_sf_card__dLh8P",sf_card_contatiner:"InstituteFeedback_sf_card_contatiner__2Zbiq",sf_card_contatiner_inner:"InstituteFeedback_sf_card_contatiner_inner__sjsCw",ifq_card:"InstituteFeedback_ifq_card__vFRNw",ifq_card_inner:"InstituteFeedback_ifq_card_inner__65kmp",ifqo_cantainer:"InstituteFeedback_ifqo_cantainer__YlkE-",ifqo_cantainer_student:"InstituteFeedback_ifqo_cantainer_student__WsWho",ifqocs_active:"InstituteFeedback_ifqocs_active__Wa3As",osa_card:"InstituteFeedback_osa_card__48+nw",gsf_contatiner:"InstituteFeedback_gsf_contatiner__x3ydz",gsf_star_container:"InstituteFeedback_gsf_star_container__0Mu56"}}}]);
//# sourceMappingURL=6282.1fc9d02f.chunk.js.map