"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[8345],{53982:function(n,e,t){t.d(e,{Dv:function(){return V},bB:function(){return $},J9:function(){return O},xk:function(){return E},Ne:function(){return J},b5:function(){return K},OF:function(){return R},Dr:function(){return D},Pv:function(){return L},d4:function(){return P},gS:function(){return G},FL:function(){return I}});var u=t(29439),o=t(28328),i=t(94811),r=function(n){return n.mutation({query:function(n){return{url:"/all-images/onefile/web",method:i.Q0,body:n.fileUpload}}})},a=function(n){return n.query({query:function(n){return"/auth/username/search?u_name=".concat(n)}})},c=function(n){return n.query({query:function(n){return"/auth/email/check/redundant?email=".concat(n)}})},l=function(n){return n.mutation({query:function(n){return{url:"/auth/login",method:i.a4,body:n.login}}})},d=function(n){return n.mutation({query:function(n){return{url:"/auth/user-detail",method:i.a4,body:n}}})},s=function(n){return n.mutation({query:function(n){var e;return{url:"/auth/user-detail-verify/".concat(n.userPhoneNumber,"?u_name=").concat(null!==(e=null===n||void 0===n?void 0:n.u_name)&&void 0!==e?e:""),method:i.a4,body:n}}})},m=function(n){return n.mutation({query:function(n){return{url:"/auth/user/forgot",method:i.a4,body:n.forgot}}})},f=function(n){return n.mutation({query:function(n){return{url:"/auth/user/forgot/".concat(n.uid),method:i.a4,body:n.otp}}})},h=function(n){return n.mutation({query:function(n){return{url:"/auth/user/reset/password/".concat(n.uid),method:i.a4,body:n.password}}})},v=function(n,e){return n.mutation({query:function(n){return{url:"/auth/profile-creation/".concat(n.userPhoneNumber),method:i.a4,body:n.profileCreation}}})},_=function(n,e){return n.mutation({query:function(n){return{url:"/auth/create-user-password/".concat(n.uid),method:i.a4,body:n.password}}})},p=function(n,e){return n.mutation({query:function(n){return{url:"/auth/ins-detail",method:i.a4,body:n.phone}}})},y=function(n,e){return n.mutation({query:function(n){return{url:"/auth/ins-detail-verify/".concat(n.insPhoneNumber),method:i.a4,body:n.verify}}})},Z=function(n,e){return n.mutation({query:function(n){return{url:"/auth/ins/register",method:i.a4,body:n.profileCreation}}})},x=function(n,e){return n.mutation({query:function(n){return{url:"/auth/ins/create-password/".concat(n.id),method:i.a4,body:n.password}}})},b=o.i.injectEndpoints({endpoints:function(n){return{fileUpload:r(n),authUniqueUsername:a(n),authUniqueEmail:c(n),authLogin:l(n),authUserNumber:d(n),authUserNumberVerify:s(n),authUserForget:m(n),authUserForgetOtp:f(n),authUserSetPassword:h(n),authUserCreateAccount:v(n),authUserCreatePassword:_(n),authInstituteNumber:p(n),authInstituteNumberVerify:y(n),authInstituteCreateAccount:Z(n),authInstituteCreatePassword:x(n)}}}),j=b.useFileUploadMutation,g=(b.useAuthUniqueUsernameQuery,b.useAuthUniqueEmailQuery,b.useAuthLoginMutation),k=b.useAuthUserNumberMutation,C=b.useAuthUserNumberVerifyMutation,N=b.useAuthUserForgetMutation,w=b.useAuthUserForgetOtpMutation,q=b.useAuthUserSetPasswordMutation,U=b.useAuthUserCreateAccountMutation,A=b.useAuthUserCreatePasswordMutation,M=b.useAuthInstituteNumberMutation,S=b.useAuthInstituteNumberVerifyMutation,F=b.useAuthInstituteCreateAccountMutation,I=(b.useAuthInstituteCreatePasswordMutation,function(){var n=j();return[(0,u.Z)(n,1)[0]]}),E=function(){var n=g();return[(0,u.Z)(n,1)[0]]},L=function(){var n=k();return[(0,u.Z)(n,1)[0]]},P=function(){var n=C();return[(0,u.Z)(n,1)[0]]},R=function(){var n=N();return[(0,u.Z)(n,1)[0]]},D=function(){var n=w();return[(0,u.Z)(n,1)[0]]},G=function(){var n=q();return[(0,u.Z)(n,1)[0]]},J=function(){var n=U();return[(0,u.Z)(n,1)[0]]},K=function(){var n=A();return[(0,u.Z)(n,1)[0]]},$=function(){var n=M();return[(0,u.Z)(n,1)[0]]},O=function(){var n=S();return[(0,u.Z)(n,1)[0]]},V=function(){var n=F();return[(0,u.Z)(n,1)[0]]}},16917:function(n,e,t){var u=t(72791),o=t(52245),i=t(39230),r=t(1095),a=t(80184);e.Z=function(n){var e=n.label,t=n.value,c=n.shownLabel,l=n.customFormInputContainer,d=n.customFormInputLabel,s=n.customFormInput,m=(0,i.$G)().t,f=(0,u.useCallback)((function(){if(t){var n=window.open("".concat(r.yI,"/").concat(null===t||void 0===t?void 0:t.key),"_blank","noopener,noreferrer");n&&(n.opener=null)}}),[t]);return(0,a.jsxs)("div",{className:o.Z.form_read_input_container,style:l,children:[e&&(0,a.jsx)("label",{className:o.Z.form_read_input_label,style:d,children:e}),(0,a.jsx)("h6",{className:o.Z.form_read_input_file,style:s,onClick:f,children:m(null!==c&&void 0!==c?c:"view")})]})}},48345:function(n,e,t){t.r(e),t.d(e,{default:function(){return R}});var u=t(29439),o=t(39230),i=t(56959),r=t(72791),a=t(23441),c=t(91427),l=t(57588),d=t(63687),s=t(21348),m=t(90904),f=t(1669),h=t(98684),v=t(55336),_=t(2651),p=t(93638),y=t(23984),Z=t(43317),x="AdmissionManager_document_card__OWvp9",b="AdmissionManager_document_card_text__aokEI",j="AdmissionManager_menu_icon__n7SJY",g=t(16917),k=t(89064),C=t(4942),N=t(1413),w=t(61055),q=t(16925),U=t(48293),A=t(38986),M=t(11468),S=t(53982),F=t(99183),I=t(80184),E=function(n){var e=n.onClose,t=n.aid,i=n.onRefetch,a=n.isEdit,c=n.documentMenu,l=n.onEdit,d=(0,o.$G)().t,f=(0,r.useState)({doc_name:"",doc_key:"",applicable_to:""}),_=(0,u.Z)(f,2),y=_[0],x=_[1],b=(0,r.useState)(""),j=(0,u.Z)(b,2),g=j[0],k=j[1],E=(0,r.useState)(!1),L=(0,u.Z)(E,2),P=L[0],R=L[1],D=(0,r.useState)(""),G=(0,u.Z)(D,2),J=G[0],K=G[1],$=(0,S.FL)(),O=(0,u.Z)($,1)[0],V=(0,Z.od)(),B=(0,u.Z)(V,1)[0];(0,r.useEffect)((function(){var n,e,t;a&&(x({doc_name:null!==(n=null===c||void 0===c?void 0:c.document_name)&&void 0!==n?n:"",doc_key:null!==(e=null===c||void 0===c?void 0:c.document_key)&&void 0!==e?e:"",applicable_to:null!==(t=null===c||void 0===c?void 0:c.applicable_to)&&void 0!==t?t:""}),K({originalName:"document preview"}))}),[a,c]);var Q=function(n){x((function(e){return(0,N.Z)((0,N.Z)({},e),{},(0,C.Z)({},n.target.name,n.target.value))}))};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(U.Z,{onClose:e,children:(0,I.jsxs)("div",{className:q.Z.modal_container,children:[(0,I.jsx)(s.Z,{children:(0,I.jsxs)("div",{className:q.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:q.Z.modal_container_header,children:(0,I.jsxs)("h6",{children:[" ",d(a?"update_document":"add_new_document")]})}),(0,I.jsx)("img",{src:"".concat(h.J7,"/close.svg"),alt:"close icon",onClick:e})]})}),(0,I.jsx)(m.Z,{}),(0,I.jsxs)(s.Z,{customStyle:{paddingTop:"0"},children:[(0,I.jsx)(w.Z,{label:d("document_name"),placeholder:d("document_nape_placeholder"),name:"doc_name",value:y.doc_name,type:"text",onChange:Q,errorShow:g.doc_name}),(0,I.jsx)(M.Z,{label:d("document_applicable_to"),placeholder:d("document_applicable_to_placeholder"),name:"applicable_to",value:y.applicable_to,type:"text",onChange:Q}),(0,I.jsx)(A.Z,{label:d("sample_documnt"),name:"document",value:J,onChange:function(n){if(n.target.files[0]){R((function(n){return!n}));var e=new FormData;e.append("file",n.target.files[0]),O({fileUpload:e}).then((function(e){var t,u,o;K({name:null===(t=n.target.files[0])||void 0===t?void 0:t.name,key:null===(u=e.data)||void 0===u?void 0:u.imageKey,type:null===(o=n.target.files[0])||void 0===o?void 0:o.type}),x((function(n){var t;return(0,N.Z)((0,N.Z)({},n),{},{doc_key:null===(t=e.data)||void 0===t?void 0:t.imageKey})})),R((function(n){return!n}))})).catch({})}}}),(0,I.jsx)(p.Z,{label:a?"update":"create",onAction:function(){var n=(0,F.l)(y,["doc_key","applicable_to"]);(0,F.x)(n)?a?l(y):(R((function(n){return!n})),B({aid:t,document:y}).then((function(){i(),R((function(n){return!n})),e()})).catch({})):k(n)}})]})]})}),P&&(0,I.jsx)(v.Z,{})]})},L=function(n){var e=n.aid,t=n.onClose,i=n.documentMenu,a=n.onRefetch,c=(0,o.$G)().t,l=(0,r.useState)(!1),d=(0,u.Z)(l,2),s=d[0],m=d[1],f=(0,r.useState)(!1),h=(0,u.Z)(f,2),v=h[0],_=h[1],p=(0,Z.yT)(),y=(0,u.Z)(p,1)[0],x=(0,Z.Kw)(),b=(0,u.Z)(x,1)[0],j=function(){_((function(n){return!n}))};return v?(0,I.jsx)(E,{isEdit:!0,onClose:j,onEdit:function(n){var u;e&&null!==i&&void 0!==i&&i._id&&(m((function(n){return!n})),b({aid:e,editDocument:{doc:{id:null===i||void 0===i?void 0:i._id,name:null===n||void 0===n?void 0:n.doc_name,newKey:(null===n||void 0===n?void 0:n.doc_key)===(null===i||void 0===i?void 0:i.document_key)?null===i||void 0===i?void 0:i.document_key:null===n||void 0===n?void 0:n.doc_key,oldKey:(null===n||void 0===n?void 0:n.doc_key)===(null===i||void 0===i?void 0:i.document_key)?"":null===n||void 0===n?void 0:n.doc_key,applicable_to:null!==(u=null===n||void 0===n?void 0:n.applicable_to)&&void 0!==u?u:""}}}).then((function(){a(),m((function(n){return!n})),t()})).catch({}))},documentMenu:i}):(0,I.jsxs)(k.Z,{onClose:t,disabled:s,children:[(0,I.jsx)("h6",{onClick:j,children:c("edit")}),(0,I.jsx)("h6",{onClick:function(){e&&null!==i&&void 0!==i&&i._id&&(m((function(n){return!n})),y({aid:e,did:null===i||void 0===i?void 0:i._id}).then((function(){a(),m((function(n){return!n})),t()})).catch({}))},children:c("delete")})]})},P=function(n){var e,t=n.document,i=n.onRefetch,a=n.aid,c=(0,o.$G)().t,l=(0,r.useState)(""),d=(0,u.Z)(l,2),s=d[0],m=d[1];return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:x,children:[(0,I.jsx)("img",{src:"".concat(h.U_,"/required-document.svg"),alt:"document icon"}),(0,I.jsxs)("div",{className:b,children:[(0,I.jsxs)("p",{children:[null!==(e=null===t||void 0===t?void 0:t.document_name)&&void 0!==e?e:"",null!==t&&void 0!==t&&t.applicable_to?(0,I.jsx)("span",{style:{fontSize:"11px"},children:" (".concat(c("applicable_to"),"- ").concat(null===t||void 0===t?void 0:t.applicable_to,")")}):""]}),(0,I.jsx)(g.Z,{value:null!==t&&void 0!==t&&t.document_key?{key:null===t||void 0===t?void 0:t.document_key}:"",shownLabel:"view_attachment",customFormInputContainer:{marginBlock:"0.3rem"}})]}),(0,I.jsx)("img",{src:"".concat(h.J7,"/menu.svg"),alt:"menu icon",onClick:function(){m(t)},className:j,title:"Menu"})]}),s&&(0,I.jsx)(L,{onClose:function(){m("")},onRefetch:i,aid:a,documentMenu:s})]})},R=function(n){var e,t,x,b=n.aid,j=(0,o.$G)().t,g=(0,r.useState)(!1),k=(0,u.Z)(g,2),C=k[0],N=k[1],w=(0,r.useState)(""),q=(0,u.Z)(w,2),U=q[0],A=q[1],M=(0,r.useState)(1),S=(0,u.Z)(M,2),F=S[0],L=S[1],R=(0,r.useState)(!0),D=(0,u.Z)(R,2),G=D[0],J=D[1],K=(0,a.YD)({skip:U}),$=(0,u.Z)(K,2),O=$[0],V=$[1],B=(0,Z.cR)({data:{aid:b,page:F,limit:10,search:U},skip:!b}),Q=B.admissionDocumentList,T=B.admissionDocumentListLoading,Y=B.admissionDocumentListRefetch;(0,r.useEffect)((function(){V&&G&&L((function(n){return n+1}))}),[V,G]),(0,r.useEffect)((function(){var n;if(null!==Q&&void 0!==Q&&null!==(n=Q.list)&&void 0!==n&&n.length){var e,t=(0,c.f)(null===Q||void 0===Q||null===(e=Q.list)||void 0===e?void 0:e.length);J((function(){return t}))}}),[null===Q||void 0===Q?void 0:Q.list]);var z=(0,r.useCallback)((0,l.J)((function(n){L((function(){return 1})),A(n)}),1500),[]),W=function(){N((function(n){return!n}))},H=(0,r.useCallback)((function(){L((function(n){return 1})),Y()}),[Y]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(d.Z,{children:[(0,I.jsx)(s.Z,{children:(0,I.jsxs)("div",{className:i.Z.fm_header_container,children:[(0,I.jsx)("h6",{children:j("required_documents")}),(0,I.jsx)("div",{className:i.Z.fm_search,children:(0,I.jsx)("section",{className:i.Z.fm_search_container,children:(0,I.jsxs)("div",{className:i.Z.fm_search_container_inner,children:[(0,I.jsx)("img",{className:i.Z.fm_search_icon,alt:"search icon",src:"".concat(h.dB,"/navbar-search.svg")}),(0,I.jsx)("input",{type:"text",placeholder:j("search"),onChange:function(n){n.target.value?z(n.target.value):(L((function(){return 1})),A(""))}})]})})})]})}),(0,I.jsx)(m.Z,{}),(0,I.jsxs)(s.Z,{children:[(0,I.jsx)(y.Z,{children:(0,I.jsx)(p.Z,{label:"add_new_documents",onAction:W,customStyle:{marginTop:"0"}})}),null===Q||void 0===Q||null===(e=Q.list)||void 0===e?void 0:e.map((function(n,e){var t;return(null===Q||void 0===Q||null===(t=Q.list)||void 0===t?void 0:t.length)===e+1?(0,I.jsx)("div",{ref:O,children:(0,I.jsx)(P,{document:n,aid:b,onRefetch:H})},null===n||void 0===n?void 0:n._id):(0,I.jsx)(P,{document:n,aid:b,onRefetch:H},null===n||void 0===n?void 0:n._id)})),T?U?(0,I.jsx)(v.Z,{}):(0,I.jsx)(f.Z,{}):U?!(null!==Q&&void 0!==Q&&null!==(t=Q.list)&&void 0!==t&&t.length)&&(0,I.jsx)(_.Z,{title:"No document fuond related this search."}):!(null!==Q&&void 0!==Q&&null!==(x=Q.list)&&void 0!==x&&x.length)&&(0,I.jsx)(_.Z,{title:"No document."})]})]}),C&&(0,I.jsx)(E,{aid:b,onClose:W,onRefetch:H})]})}}}]);
//# sourceMappingURL=8345.0cba5a57.chunk.js.map