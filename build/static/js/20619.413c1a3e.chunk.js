(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[20619,46876],{15471:(e,i,n)=>{"use strict";n.r(i),n.d(i,{default:()=>Bi});var t=n(72791),l=n(42190),a=n(20772);const s="Mainbody_institute_admission_body__HWANt",o="Mainbody_institute_ads_container__pGqua",d="Mainbody_institute_ads_container_other__kLAuL",c="Mainbody_institute_ads_container_border__4MsZ1";var r=n(95048),u=n(35395),v=n(29017),m=n(69721),p=n(39230),_=n(85050),h=n(93738),f=n(21093),g=n(16871),x=n(80184);const j=t.lazy((()=>n.e(76035).then(n.bind(n,76035)))),S=e=>{var i,n,l,a,s,o,d,c,S,b,N,A,y,C,Z;let{username:I,admissionId:E}=e;const{t:P}=(0,p.$G)(),T=(0,g.UO)(),R=(0,r.v9)((e=>e.admissionChange)),[k,D]=t.useState(!1),{getAdmissionDetail:w,getAdmissionDetailRefetch:O}=(0,v.vV)({data:{aid:"".concat(null!==R&&void 0!==R&&R.aid?null===R||void 0===R?void 0:R.aid:E),sid:""},skip:null!==R&&void 0!==R&&R.aid?!(null!==R&&void 0!==R&&R.aid):!E});(0,t.useEffect)((()=>{(null!==R&&void 0!==R&&R.aid||E)&&O()}),[null===R||void 0===R?void 0:R.aid,E,O]);const M=()=>{D((e=>!e))};return(0,x.jsxs)("div",{style:{position:"sticky",top:"77px",height:"fit-content",width:"30%"},children:[(0,x.jsx)(f.Z,{whichType:"PREVIOUS_GO"}),(0,x.jsx)(_.Z,{dynamicImage:null!==w&&void 0!==w&&null!==(i=w.admission)&&void 0!==i&&i.cover?"".concat(m.yI,"/").concat(null===w||void 0===w||null===(n=w.admission)||void 0===n?void 0:n.cover):"/images/profileAndCover/admission-cover.svg",edit:!0,onEditAction:M,redirectUrl:"/q/".concat(T.username,"/admission?a=site"),isSiteInfo:"ADMISSION",carryParentState:{aid:null===w||void 0===w||null===(l=w.admission)||void 0===l?void 0:l._id}}),(0,x.jsx)(h.Z,{cardAsHead:!0,heading:" ".concat((null===w||void 0===w||null===(a=w.admission)||void 0===a||null===(s=a.admissionAdminHead)||void 0===s?void 0:s.staffFirstName)||""," ").concat(null!==w&&void 0!==w&&null!==(o=w.admission)&&void 0!==o&&null!==(d=o.admissionAdminHead)&&void 0!==d&&d.staffMiddleName?null===w||void 0===w||null===(c=w.admission)||void 0===c||null===(S=c.admissionAdminHead)||void 0===S?void 0:S.staffMiddleName:""," ").concat((null===w||void 0===w||null===(b=w.admission)||void 0===b||null===(N=b.admissionAdminHead)||void 0===N?void 0:N.staffLastName)||""),description:P("admission_admin"),customStyleCard:{borderRadius:"18px 18px 0px 0px",border:"none",marginTop:"-1.49vw"}}),(0,x.jsx)(h.Z,{cardAsHead:!1,heading:P("ongoing_add"),description:P("admissions"),count:(null===w||void 0===w||null===(A=w.admission)||void 0===A?void 0:A.newAppCount)||0}),(0,x.jsx)(h.Z,{cardAsHead:!1,heading:P("application"),description:P("received_from_students"),count:(null===w||void 0===w||null===(y=w.admission)||void 0===y?void 0:y.newAppCount)+(null===w||void 0===w||null===(C=w.admission)||void 0===C?void 0:C.completedCount)||0,customStyleCard:{borderRadius:"0 0 12px 12px",borderBottom:"0.4px solid rgba(0, 0, 0, 0.15)"}}),(0,x.jsx)(u.Z,{children:(0,x.jsx)(j,{admissionModal:k,hideModal:M,edit:!0,admissionManagerName:null===w||void 0===w||null===(Z=w.admission)||void 0===Z?void 0:Z.admissionAdminHead,onParentRefetch:O})})]})};var b=n(43504),N=n(39480),A=n(74737);const y=e=>{let{carryParentState:i,activeTab:n,children:t}=e;const l=(0,g.UO)();return(0,x.jsx)(b.rU,{to:"/q/".concat(l.username,"/admission").concat(n),state:{...i},children:t})},C={funds2:"Funds_funds2__4QC2s",fundscontent:"Funds_fundscontent__uE4Dh",sidebarbottomitem:"Funds_sidebarbottomitem__N9G-h",namee:"Funds_namee__udwpf",desig:"Funds_desig__id4Ah",balanceItem:"Funds_balanceItem__YpuFS",fundbtn:"Funds_fundbtn__DUCOL"};function Z(e){let{bal:i,value:n}=e;return(0,x.jsxs)("div",{className:C.balanceItem,children:[(0,x.jsxs)("p",{children:[i,":"]}),(0,x.jsxs)("p",{children:["Rs. ",n]})]})}const I=function(e){var i,n,l,a,s,o,d,c,u,m;let{carryParentState:_}=e;const{t:h}=(0,p.$G)(),f=(0,r.v9)((e=>e.admissionChange)),g=(0,r.v9)((e=>e.idChange.id)),{oneInstituteDashboard:j,oneInstituteDashboardRefetch:S}=(0,N.gq)({id:g,skip:!g}),{getAdmissionDetail:b,getAdmissionDetailRefetch:A}=(0,v.vV)({data:{aid:"".concat(null!==f&&void 0!==f&&f.aid?null===f||void 0===f?void 0:f.aid:null===j||void 0===j||null===(i=j.institute)||void 0===i?void 0:i.admissionDepart[0]),sid:""},skip:null!==f&&void 0!==f&&f.aid?!(null!==f&&void 0!==f&&f.aid):!(null!==j&&void 0!==j&&null!==(n=j.institute)&&void 0!==n&&n.admissionDepart[0])});return(0,t.useEffect)((()=>{g&&S()}),[g,S]),(0,t.useEffect)((()=>{var e;(null!==f&&void 0!==f&&f.aid||null!==j&&void 0!==j&&null!==(e=j.institute)&&void 0!==e&&e.admissionDepart[0])&&A()}),[null===f||void 0===f?void 0:f.aid,null===j||void 0===j||null===(l=j.institute)||void 0===l?void 0:l.admissionDepart[0],A]),(0,x.jsx)("div",{className:C.funds2,children:(0,x.jsxs)("div",{className:C.fundscontent,children:[(0,x.jsxs)("div",{className:C.sidebarbottomitem,children:[(0,x.jsx)("img",{alt:"not found",src:"/images/finance/doller-icon.svg"}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("p",{className:C.namee,children:["Rs."," ",((null===b||void 0===b||null===(a=b.admission)||void 0===a?void 0:a.onlineFee)+(null===b||void 0===b||null===(s=b.admission)||void 0===s?void 0:s.offlineFee)).toFixed(2)]}),(0,x.jsx)("p",{className:C.desig,children:h("total_admission_fees")})]})]}),(0,x.jsx)(Z,{bal:h("online_fees"),value:null===b||void 0===b||null===(o=b.admission)||void 0===o||null===(d=o.onlineFee)||void 0===d?void 0:d.toFixed(2)}),(0,x.jsx)(Z,{bal:h("offline_fees"),value:null===b||void 0===b||null===(c=b.admission)||void 0===c||null===(u=c.offlineFee)||void 0===u?void 0:u.toFixed(2)}),(0,x.jsx)(y,{carryParentState:_,activeTab:"?a=pending",children:(0,x.jsxs)("div",{className:C.fundbtn,children:[h("remaining_fees")," : Rs."," ",null===b||void 0===b||null===(m=b.admission)||void 0===m?void 0:m.remainingFeeCount]})})]})})};var E=n(64783),P=n(98684);const T=e=>{let{carryParentState:i}=e;const{t:n}=(0,p.$G)(),[t]=(0,b.lr)();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:A.Z.finance_tab_tabs,children:[(0,x.jsx)(E.Z,{tabLevel:n("menu"),customStyleContainer:{width:"50%",marginRight:"2px",borderTopLeftRadius:"6px"},customStyleLevel:{borderTopLeftRadius:"6px"},tabValue:"menu",currentValue:null!==t&&void 0!==t&&t.get("a")?"other":"menu",carryParentState:i,activeUrl:"admission"}),(0,x.jsx)(E.Z,{tabLevel:n("fund"),customStyleContainer:{width:"50%",borderTopRightRadius:"6px"},customStyleLevel:{borderTopLeftRadius:"6px"},tabValue:"fund",currentValue:"fund"===(null===t||void 0===t?void 0:t.get("a"))?"fund":"other",carryParentState:i,activeUrl:"admission?a=fund"})]}),null!==t&&void 0!==t&&t.get("a")?"fund"===(null===t||void 0===t?void 0:t.get("a"))?(0,x.jsx)(I,{carryParentState:i}):null:(0,x.jsxs)("div",{className:A.Z.item,children:[(0,x.jsx)(y,{carryParentState:i,activeTab:"?a=ongoing",children:(0,x.jsxs)("div",{className:A.Z.itemIcon,children:[(0,x.jsx)("img",{src:"/images/member_tab/admission/admission-ongoing-icon.svg",alt:"Class Catalog"}),(0,x.jsx)("p",{children:n("admission_ongoing")})]})}),(0,x.jsx)(y,{carryParentState:i,activeTab:"?a=pending",children:(0,x.jsxs)("div",{className:A.Z.itemIcon,children:[(0,x.jsx)("img",{src:"/images/member_tab/finance/finance-pending-icon.svg",alt:"inquery"}),(0,x.jsx)("p",{children:n("pending_fees")})]})}),(0,x.jsx)(y,{carryParentState:i,activeTab:"?a=completed",children:(0,x.jsxs)("div",{className:A.Z.itemIcon,children:[(0,x.jsx)("img",{src:"/images/member_tab/admission/admission-complete-icon.svg",alt:"completed"}),(0,x.jsx)("p",{children:n("admission_complete")})]})}),(0,x.jsx)(y,{carryParentState:i,activeTab:"?a=export",children:(0,x.jsxs)("div",{className:A.Z.itemIcon,children:[(0,x.jsx)("img",{src:"/images/member_tab/finance/finance-export-icon.svg",alt:"refund"}),(0,x.jsx)("p",{children:n("data_exporting")})]})}),(0,x.jsx)(y,{carryParentState:i,activeTab:"?a=moderator",children:(0,x.jsxs)("div",{className:A.Z.itemIcon,children:[(0,x.jsx)("img",{src:"/images/member_tab/admission/admission-moderator-icon.svg",alt:"moderator icon"}),(0,x.jsx)("p",{children:n("admission_moderators")})]})}),(0,x.jsx)(y,{carryParentState:i,activeTab:"?a=tab",children:(0,x.jsxs)("div",{className:A.Z.itemIcon,children:[(0,x.jsx)("img",{src:"".concat(P.J7,"/controller.svg"),alt:"moderator icon"}),(0,x.jsx)("p",{children:n("tab_controller")})]})})]})]})};var R=n(23441),k=n(11105),D=n(98094),w=n(46876),O=n(91022),M=n(98734),L=n(36665),F=n(70374),U=n(72426),q=n.n(U);const B=e=>{var i;let{setActivePopup:n,selectedApplication:t,selectedStaff:l,moderatorState:a,onAssignModerator:s}=e;const{t:o}=(0,p.$G)();return(0,x.jsx)(L.Z,{children:(0,x.jsxs)("div",{className:F.Z.assign_role_container,children:[(0,x.jsxs)("section",{className:F.Z.assign_role_title,children:[(0,x.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{},alt:"back icon"}),(0,x.jsx)("h6",{children:o("preview")})]}),(0,x.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,x.jsxs)("section",{className:F.Z.selected_staff_container,children:[(0,x.jsx)("img",{src:null!==l&&void 0!==l&&l.staffProfilePhoto?"".concat(m.yI,"/").concat(null===l||void 0===l?void 0:l.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,x.jsxs)("div",{className:F.Z.selected_staff_text,children:[(0,x.jsx)("h6",{children:"".concat(null===l||void 0===l?void 0:l.staffFirstName," ").concat(null!==(i=null===l||void 0===l?void 0:l.staffMiddleName)&&void 0!==i?i:""," ").concat(null===l||void 0===l?void 0:l.staffLastName)}),(0,x.jsxs)("p",{children:[o("index_number"),null===l||void 0===l?void 0:l.staffROLLNO]})]})]}),(0,x.jsx)("section",{style:{padding:"0.8rem"},children:(0,x.jsx)(O.Z,{selectLabel:o("select_role_of_moderator"),selectedValue:o("please_select_role"),value:"ALL_FEE_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Application Manager":"INQUIRY_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Enquiries Section":"FULL_ACCESS",openAs:"REFUND"})}),null===t||void 0===t?void 0:t.map((e=>{var i,n,t;return(0,x.jsxs)("div",{className:F.Z.application_card,children:[(0,x.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,x.jsxs)("section",{className:F.Z.application_card_text,children:[(0,x.jsx)("h6",{children:null!==(i=null===e||void 0===e?void 0:e.applicationName)&&void 0!==i?i:""}),(0,x.jsxs)("div",{className:F.Z.application_card_text_bottom,children:[(0,x.jsx)("p",{children:null!==(n=null===e||void 0===e||null===(t=e.applicationDepartment)||void 0===t?void 0:t.dName)&&void 0!==n?n:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,x.jsx)("p",{children:q()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id)})),(0,x.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,x.jsxs)("button",{className:F.Z.select_application_btn,onClick:()=>n("SELECT_APPLICATION"),children:[(0,x.jsx)("div",{children:o("add_more")}),(0,x.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),(0,x.jsxs)("button",{className:F.Z.assign_btn,onClick:s,children:[o("assign")," "]})]})]})})},G=e=>{var i;let{onCloseEdit:n,setActivePopup:t,selectedStaff:l,moderatorState:a,onSelectRole:s,onUpdateModerator:o,selectedApplication:d}=e;const{t:c}=(0,p.$G)();return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(L.Z,{onClose:n,children:(0,x.jsxs)("div",{className:F.Z.assign_role_container,children:[(0,x.jsxs)("section",{className:F.Z.assign_role_title,children:[(0,x.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:n,alt:"back icon",style:{cursor:"pointer"}}),(0,x.jsx)("h6",{children:c("update_role_to_moderator")})]}),(0,x.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,x.jsxs)("section",{className:F.Z.selected_staff_container,onClick:()=>t("OPEN_STAFF_LIST"),children:[(0,x.jsx)("img",{src:null!==l&&void 0!==l&&l.staffProfilePhoto?"".concat(m.yI,"/").concat(null===l||void 0===l?void 0:l.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,x.jsxs)("div",{className:F.Z.selected_staff_text,children:[(0,x.jsx)("h6",{children:"".concat(null===l||void 0===l?void 0:l.staffFirstName," ").concat(null!==(i=null===l||void 0===l?void 0:l.staffMiddleName)&&void 0!==i?i:""," ").concat(null===l||void 0===l?void 0:l.staffLastName)}),(0,x.jsxs)("p",{children:[c("index_number"),null===l||void 0===l?void 0:l.staffROLLNO]})]})]}),(0,x.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,x.jsx)(O.Z,{selectLabel:c("select_role_of_moderator"),selectedValue:c("please_select_role"),options:["Fee receipt authority","Application Manager","Enquiries Section","Scholarship Manager","Excess Fee Refund","Pending Fee Manager","Tab Authority","Data Export Authority"],value:"ALL_FEE_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Application Manager":"INQUIRY_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Enquiries Section":"SCHOLARSHIP_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Scholarship Manager":"REFUND_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Access Fee Moderator":"PENDING_FEE_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Pending Fee Manager":"ONE_TAB_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Tab Authority":"DATA_EXPORT_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Data Export Authority":"",onClick:s}),null===d||void 0===d?void 0:d.map((e=>{var i,n,t;return(0,x.jsxs)("div",{className:F.Z.application_card,style:{width:"100%",margin:"1rem 0 0"},children:[(0,x.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,x.jsxs)("section",{className:F.Z.application_card_text,children:[(0,x.jsx)("h6",{children:null!==(i=null===e||void 0===e?void 0:e.applicationName)&&void 0!==i?i:""}),(0,x.jsxs)("div",{className:F.Z.application_card_text_bottom,children:[(0,x.jsx)("p",{children:null!==(n=null===e||void 0===e||null===(t=e.applicationDepartment)||void 0===t?void 0:t.dName)&&void 0!==n?n:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,x.jsx)("p",{children:q()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id)})),"MULTI_APP_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)&&(0,x.jsxs)("button",{className:F.Z.select_application_btn,onClick:()=>t("SELECT_APPLICATION"),children:[(0,x.jsx)("div",{children:c("moderator_select_application")}),(0,x.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),(0,x.jsxs)("button",{className:F.Z.assign_btn,onClick:o,children:[c("update")," "]})]})]})})})},H=e=>{var i;let{setActivePopup:n,setSelectedApplication:l,setSelectedApplicationId:a,selectedApplicationId:s,openAs:o,role:d}=e;const{t:c}=(0,p.$G)(),[u,m]=(0,t.useState)(!0),[_,h]=(0,t.useState)(1),[f,g]=(0,R.YD)(),[j,S]=(0,t.useState)([]),[b,N]=(0,t.useState)(!0),A=(0,r.v9)((e=>e.admissionChange)),{allOngoingApp:y,allOngoingAppRefetch:C}=(0,v.JG)({data:{aid:null===A||void 0===A?void 0:A.aid,page:_,limit:10},skip:!(null!==A&&void 0!==A&&A.aid)});(0,t.useEffect)((()=>{g&&u&&h((e=>e+1))}),[g,u]),(0,t.useEffect)((()=>{null!==A&&void 0!==A&&A.aid&&(N(!0),C())}),[null===A||void 0===A?void 0:A.aid,_,C]),(0,t.useEffect)((()=>{null!==A&&void 0!==A&&A.aid&&(N(!0),C())}),[null===A||void 0===A?void 0:A.aid,C]),(0,t.useEffect)((()=>{var e;null!==y&&void 0!==y&&y.ongoing&&(S((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===y||void 0===y?void 0:y.ongoing])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),N(!1)),10===(null===y||void 0===y||null===(e=y.ongoing)||void 0===e?void 0:e.length)?m(!0):m(!1)}),[null===y||void 0===y?void 0:y.ongoing]);const Z=()=>{n("EDIT"===o?"PREVIEW_FORM":"ASSIGN_ROLE")},I=e=>{null!==s&&void 0!==s&&s.includes(null===e||void 0===e?void 0:e._id)?(l((i=>null===i||void 0===i?void 0:i.filter((i=>(null===i||void 0===i?void 0:i._id)!==(null===e||void 0===e?void 0:e._id))))),a((i=>null===i||void 0===i?void 0:i.filter((i=>i!==(null===e||void 0===e?void 0:e._id)))))):(l((i=>i?[...i,e]:[e])),a((i=>i?[...i,null===e||void 0===e?void 0:e._id]:[null===e||void 0===e?void 0:e._id])))};return(0,x.jsx)(L.Z,{onClose:Z,children:(0,x.jsxs)("div",{className:F.Z.assign_role_container,children:[(0,x.jsxs)("section",{className:F.Z.assign_role_title,style:{position:"relative"},children:[(0,x.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:Z,alt:"back icon"}),(0,x.jsx)("h6",{children:c("assign_role_to_moderator")}),(0,x.jsxs)("button",{className:F.Z.select_btn,onClick:()=>{n("EDIT"===o?"PREVIEW_FORM":"ONE_TAB_ACCESS"===d?"ASSIGN_ROLE":"MODERATOR_PREWVIEW")},children:[null!==(i=null===s||void 0===s?void 0:s.length)&&void 0!==i?i:""," "," ",c("select")]})]}),(0,x.jsx)(D.Z,{customStyle:{width:"100%"}}),null===j||void 0===j?void 0:j.map(((e,i)=>{var n,t,l,a,o,d;return(null===j||void 0===j?void 0:j.length)===i+1?(0,x.jsxs)("div",{className:null!==s&&void 0!==s&&s.includes(null===e||void 0===e?void 0:e._id)?"".concat(F.Z.application_card," ").concat(F.Z.application_card_active):F.Z.application_card,ref:f,onClick:()=>I(e),children:[(0,x.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,x.jsxs)("section",{className:F.Z.application_card_text,children:[(0,x.jsx)("h6",{children:null!==(n=null===e||void 0===e?void 0:e.applicationName)&&void 0!==n?n:""}),(0,x.jsxs)("div",{className:F.Z.application_card_text_bottom,children:[(0,x.jsx)("p",{children:null!==(t=null===e||void 0===e||null===(l=e.applicationDepartment)||void 0===l?void 0:l.dName)&&void 0!==t?t:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,x.jsx)("p",{children:q()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id):(0,x.jsxs)("div",{className:null!==s&&void 0!==s&&s.includes(null===e||void 0===e?void 0:e._id)?"".concat(F.Z.application_card," ").concat(F.Z.application_card_active):F.Z.application_card,onClick:()=>I(e),children:[(0,x.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,x.jsxs)("section",{className:F.Z.application_card_text,children:[(0,x.jsx)("h6",{children:null!==(a=null===e||void 0===e?void 0:e.applicationName)&&void 0!==a?a:""}),(0,x.jsxs)("div",{className:F.Z.application_card_text_bottom,children:[(0,x.jsx)("p",{children:null!==(o=null===e||void 0===e||null===(d=e.applicationDepartment)||void 0===d?void 0:d.dName)&&void 0!==o?o:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,x.jsx)("p",{children:q()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id)})),b&&(0,x.jsx)(k.Z,{})]})})},V=e=>{var i,n,l,a,s;let{instituteId:o,admissionId:d,onClose:c,onRefetchWhenAdd:r,openModeratorMenu:u,openAs:_,onEdit:h}=e;const{t:f}=(0,p.$G)(),[g,j]=(0,t.useState)("EDIT"===_?"PREVIEW_FORM":"OPEN_STAFF_LIST"),[S,b]=(0,t.useState)("EDIT"===_?null===u||void 0===u?void 0:u.access_staff:""),[N,A]=(0,t.useState)({mod_role:"EDIT"===_?null===u||void 0===u?void 0:u.access_role:"",sid:"EDIT"===_?null===u||void 0===u||null===(i=u.access_staff)||void 0===i?void 0:i._id:"",app_array:[],one_tab:""}),[y,C]=(0,t.useState)("EDIT"===_?null===u||void 0===u?void 0:u.access_application:[]),[Z,I]=(0,t.useState)([]),[E]=(0,v.z_)();(0,t.useEffect)((()=>{if("EDIT"===_){var e;b(null===u||void 0===u?void 0:u.access_staff),C(null===u||void 0===u?void 0:u.access_application);let i=[];for(let e of null===u||void 0===u?void 0:u.access_application)i.push(null===e||void 0===e?void 0:e._id);I(i),A({mod_role:null===u||void 0===u?void 0:u.access_role,sid:null===u||void 0===u||null===(e=u.access_staff)||void 0===e?void 0:e._id,app_array:i}),j("PREVIEW_FORM")}}),[_]);const P=()=>{j("OPEN_STAFF_LIST")},T=e=>{A((i=>({...i,mod_role:"Fee receipt authority"===e?"ALL_FEE_ACCESS":"Application Manager"===e?"MULTI_APP_ACCESS":"Enquiries Section"===e?"INQUIRY_ACCESS":"Scholarship Manager"===e?"SCHOLARSHIP_ACCESS":"Excess Fee Refund"===e?"REFUND_ACCESS":"Pending Fee Manager"===e?"PENDING_FEE_ACCESS":"Tab Authority"===e?"ONE_TAB_ACCESS":"Data Export Authority"===e?"DATA_EXPORT_ACCESS":""})))},R=()=>{j("LOADING"),E({aid:d,active_tab:N.one_tab,addModerator:"MULTI_APP_ACCESS"===(null===N||void 0===N?void 0:N.mod_role)||"ONE_TAB_ACCESS"===(null===N||void 0===N?void 0:N.mod_role)?{mod_role:N.mod_role,sid:N.sid,app_array:Z}:N}).then((()=>{r(),j(""),c()})).catch({})};return(0,x.jsxs)(x.Fragment,{children:["OPEN_STAFF_LIST"===g&&(0,x.jsx)(w.default,{assignHead:"OPEN_STAFF_LIST"===g,headSelect:e=>{b(e),A((i=>({...i,sid:null===e||void 0===e?void 0:e._id}))),j("EDIT"===_?"PREVIEW_FORM":"ASSIGN_ROLE")},title:f("staff_list"),onClose:c,instituteId:o,viewAs:"ADMISSION_ADMIN"}),"ASSIGN_ROLE"===g&&(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(L.Z,{onClose:P,children:(0,x.jsxs)("div",{className:F.Z.assign_role_container,children:[(0,x.jsxs)("section",{className:F.Z.assign_role_title,children:[(0,x.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:P,alt:"back icon"}),(0,x.jsx)("h6",{children:f("assign_role_to_moderator")})]}),(0,x.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,x.jsxs)("section",{className:F.Z.selected_staff_container,children:[(0,x.jsx)("img",{src:null!==S&&void 0!==S&&S.staffProfilePhoto?"".concat(m.yI,"/").concat(null===S||void 0===S?void 0:S.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,x.jsxs)("div",{className:F.Z.selected_staff_text,children:[(0,x.jsx)("h6",{children:"".concat(null!==(n=null===S||void 0===S?void 0:S.staffFirstName)&&void 0!==n?n:""," ").concat(null!==(l=null===S||void 0===S?void 0:S.staffMiddleName)&&void 0!==l?l:""," ").concat(null!==(a=null===S||void 0===S?void 0:S.staffLastName)&&void 0!==a?a:"")}),(0,x.jsxs)("p",{children:[f("index_number"),null!==(s=null===S||void 0===S?void 0:S.staffROLLNO)&&void 0!==s?s:""]})]})]}),(0,x.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,x.jsx)(O.Z,{selectLabel:f("select_role_of_moderator"),selectedValue:f("please_select_role"),options:["Fee receipt authority","Application Manager","Enquiries Section","Scholarship Manager","Excess Fee Refund","Pending Fee Manager","Tab Authority","Data Export Authority"],value:"ALL_FEE_ACCESS"===(null===N||void 0===N?void 0:N.mod_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===N||void 0===N?void 0:N.mod_role)?"Application Manager":"INQUIRY_ACCESS"===(null===N||void 0===N?void 0:N.mod_role)?"Enquiries Section":"SCHOLARSHIP_ACCESS"===(null===N||void 0===N?void 0:N.mod_role)?"Scholarship Manager":"REFUND_ACCESS"===(null===N||void 0===N?void 0:N.mod_role)?"Excess Fee Refund":"PENDING_FEE_ACCESS"===(null===N||void 0===N?void 0:N.mod_role)?"Pending Fee Manager":"ONE_TAB_ACCESS"===(null===N||void 0===N?void 0:N.mod_role)?"Tab Authority":"DATA_EXPORT_ACCESS"===(null===N||void 0===N?void 0:N.mod_role)?"Data Export Authority":"",onClick:T}),"ONE_TAB_ACCESS"===N.mod_role&&(0,x.jsx)(O.Z,{selectLabel:f("select_tab_role"),selectedValue:f("please_select_role"),options:["Application","Selected","Confirmed","Allotted","Cancelled"],value:null===N||void 0===N?void 0:N.one_tab,onClick:e=>{A((i=>({...i,one_tab:e})))}}),"MULTI_APP_ACCESS"===N.mod_role?(0,x.jsxs)("button",{className:F.Z.select_application_btn,onClick:()=>j("SELECT_APPLICATION"),children:[(0,x.jsx)("div",{children:f("moderator_select_application")}),(0,x.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}):(0,x.jsxs)("button",{className:F.Z.assign_btn,onClick:R,children:[f("assign")," "]})]})]})})}),"SELECT_APPLICATION"===g&&(0,x.jsx)(H,{admissionId:d,setActivePopup:j,setSelectedApplication:C,selectedApplication:y,setSelectedApplicationId:I,selectedApplicationId:Z,openAs:_,role:N.mod_role}),"MODERATOR_PREWVIEW"===g&&(0,x.jsx)(B,{setActivePopup:j,selectedApplication:y,selectedStaff:S,moderatorState:N,onAssignModerator:R}),"PREVIEW_FORM"===g&&(0,x.jsx)(G,{onCloseEdit:()=>{c()},setActivePopup:j,selectedStaff:S,moderatorState:N,onSelectRole:T,onUpdateModerator:()=>{h(N,Z),c()},selectedApplication:y}),"LOADING"===g&&(0,x.jsx)(M.Z,{})]})};var W=n(12072),J=n(84489),$=n(87049);const Y=e=>{let{onClose:i,admissionId:n,onRefetch:l,openModeratorMenu:a,instituteId:s}=e;const[o,d]=(0,t.useState)(!1),[c,r]=(0,t.useState)(!1),[u]=(0,v.vh)(),[m]=(0,v.Pn)();return(0,x.jsx)(x.Fragment,{children:c?(0,x.jsx)(V,{onClose:()=>r(!1),admissionId:n,instituteId:s,onRefetch:l,openAs:"EDIT",openModeratorMenu:a,onEdit:(e,n)=>{d((e=>!e)),r(!1),m({modId:null===a||void 0===a?void 0:a._id,active_tab:null===e||void 0===e?void 0:e.one_tab,updateModerator:{role:null===e||void 0===e?void 0:e.mod_role,staffId:null===e||void 0===e?void 0:e.sid,app_array:"MULTI_APP_ACCESS"===(null===e||void 0===e?void 0:e.mod_role)||"MULTI_APP_ACCESS"===(null===e||void 0===e?void 0:e.mod_role)?n:[]}}).then((()=>{l(),d((e=>!e)),i()})).catch({})}}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(J.Z,{onClose:i}),(0,x.jsxs)(W.Z,{customStyle:{zIndex:"1200"},children:[(0,x.jsxs)("div",{className:$.Z.edit_modal_container,style:{width:"200px"},children:[(0,x.jsx)("h6",{className:$.Z.edit,onClick:()=>r((e=>!e)),children:"Edit"}),(0,x.jsx)("h6",{className:$.Z.remove,onClick:()=>{d((e=>!e)),u({aid:n,modId:null===a||void 0===a?void 0:a._id}).then((()=>{l(),i(),d((e=>!e))})).catch({})},children:"Delete"})]}),o&&(0,x.jsx)(M.Z,{})]})]})})},z=e=>{var i,n,t,l,a,s,o,d,c,r,u;let{moderator:v,setOpenModeratorMenu:_}=e;const{t:h}=(0,p.$G)();return(0,x.jsxs)("div",{className:F.Z.moderator_card,children:[(0,x.jsx)("img",{src:null!==v&&void 0!==v&&null!==(i=v.access_staff)&&void 0!==i&&i.staffProfilePhoto?"".concat(m.yI,"/").concat(null===v||void 0===v||null===(n=v.access_staff)||void 0===n?void 0:n.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"moderator avatar"}),(0,x.jsxs)("section",{className:F.Z.moderator_card_text_container,children:[(0,x.jsx)("h6",{children:"".concat(null===v||void 0===v||null===(t=v.access_staff)||void 0===t?void 0:t.staffFirstName," ").concat(null!==(l=null===v||void 0===v||null===(a=v.access_staff)||void 0===a?void 0:a.staffMiddleName)&&void 0!==l?l:""," ").concat(null===v||void 0===v||null===(s=v.access_staff)||void 0===s?void 0:s.staffLastName)}),(0,x.jsxs)("p",{children:[h("index_number"),null===v||void 0===v||null===(o=v.access_staff)||void 0===o?void 0:o.staffROLLNO]}),(0,x.jsx)("p",{children:"ALL_FEE_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Application Manager":"INQUIRY_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Enquiries Section":"SCHOLARSHIP_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Scholarship Manager":"REFUND_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Access Fee Moderator":"PENDING_FEE_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Pending Fee Manager":"ONE_TAB_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Application"===(null===v||void 0===v||null===(d=v.active_tab)||void 0===d?void 0:d.role)?"Admission Application Tab":"Selected"===(null===v||void 0===v||null===(c=v.active_tab)||void 0===c?void 0:c.role)?"Admission Selected Tab":"Confirmed"===(null===v||void 0===v||null===(r=v.active_tab)||void 0===r?void 0:r.role)?"Admission Confirmed Tab":"Allotted"===(null===v||void 0===v||null===(u=v.active_tab)||void 0===u?void 0:u.role)?"Admission Allotted Tab":"Admission Cancelled Tab":"DATA_EXPORT_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Data Export Authority":""})]}),(0,x.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:()=>_(v),className:F.Z.menu_icon,title:"Menu"})]})};var Q=n(65543);const X=e=>{let{instituteId:i,admissionId:n}=e;const{t:l}=(0,p.$G)(),a=(0,g.s0)(),[s,o]=(0,t.useState)(!1),[d,c]=(0,t.useState)(""),[r,u]=(0,R.YD)(),[m,_]=(0,t.useState)(1),[h,f]=(0,t.useState)(!0),[j,S]=(0,t.useState)(!1),[b,N]=(0,t.useState)(!0),[A,y]=(0,t.useState)([]),{getModeratorByAdmissionAdmin:C,getModeratorByAdmissionAdminRefetch:Z}=(0,v.fW)({data:{aid:n,page:m,limit:10},skip:!n}),{scrollToTop:I}=(0,Q.u)();(0,t.useEffect)((()=>{I()}),[]),(0,t.useEffect)((()=>{n&&(N(!0),Z())}),[n,m,Z]),(0,t.useEffect)((()=>{u&&h&&_((e=>e+1))}),[u,h]),(0,t.useEffect)((()=>{var e,i;j?(y(null===C||void 0===C?void 0:C.all_mods),S(!1),N(!1)):null!==C&&void 0!==C&&C.all_mods?(y((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===C||void 0===C?void 0:C.all_mods])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),N(!1)):0===(null===C||void 0===C||null===(i=C.all_mods)||void 0===i?void 0:i.length)&&N(!1);10===(null===C||void 0===C||null===(e=C.all_mods)||void 0===e?void 0:e.length)?f(!0):f(!1)}),[null===C||void 0===C?void 0:C.all_mods]);const E=()=>{S(!0),_(1),N(!0),Z()};return(0,x.jsxs)("div",{className:F.Z.moderator_container,children:[(0,x.jsxs)("section",{className:F.Z.moderator_container_title,children:[(0,x.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{a(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,x.jsx)("h6",{children:l("admission_moderators")})]}),(0,x.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,x.jsx)("h6",{className:F.Z.add_new_moderator,onClick:()=>o(!0),children:l("add_new_moderator")}),(0,x.jsxs)("div",{className:F.Z.refund_list,children:[null===A||void 0===A?void 0:A.map(((e,i)=>(null===A||void 0===A?void 0:A.length)===i+1?(0,x.jsx)("div",{ref:r,children:(0,x.jsx)(z,{moderator:e,setOpenModeratorMenu:c})},null===e||void 0===e?void 0:e._id):(0,x.jsx)(z,{moderator:e,setOpenModeratorMenu:c},null===e||void 0===e?void 0:e._id))),s&&(0,x.jsx)(V,{onClose:()=>o((e=>!e)),instituteId:i,admissionId:n,onRefetchWhenAdd:E}),d&&(0,x.jsx)(Y,{admissionId:n,instituteId:i,onRefetch:E,onClose:()=>c(""),openModeratorMenu:d}),b&&(0,x.jsx)(k.Z,{})]})]})};var K=n(29407),ee=n(25313),ie=n(41233),ne=n(33992),te=n(16256),le=n(87932);const ae=e=>{var i,n;let{admissionId:l,instituteId:a,financeId:s,carryParentState:o,onClose:d,viewAs:c,onRefetch:r}=e;const{t:u}=(0,p.$G)(),m=(0,g.s0)(),_=(0,g.UO)(),[h,f]=(0,t.useState)(!1),[j,S]=(0,t.useState)(!1),[b,N]=(0,t.useState)({depart:"",batch:"",master:"",fee_struct:""}),[A,y]=(0,t.useState)({gender:"",caste:"",is_all:""}),{allDepartmentList:C,allDepartmentListRefetch:Z}=(0,v.nJ)({aid:l,skip:!l}),{allClassMaster:I,allClassMasterRefetch:E}=(0,ne.tx)({data:{id:a,did:b.depart},skip:"All"===b.depart||!b.depart}),{oneDepartment:P,oneDepartmentRefetch:T}=(0,ne._C)({did:b.depart,skip:"All"===b.depart||!b.depart}),{getAllFeesCategory:R,getAllFeesCategoryRefetch:k}=(0,le.Z)({fid:s,skip:!s}),[D]=(0,v.rJ)();(0,t.useEffect)((()=>{l&&Z()}),[l,Z]),(0,t.useEffect)((()=>{b.depart&&"All"!==b.depart&&E()}),[b.depart,E]),(0,t.useEffect)((()=>{b.depart&&"All"!==b.depart&&T()}),[b.depart,T]),(0,t.useEffect)((()=>{s&&k()}),[s,k]);return(0,x.jsxs)(L.Z,{onClose:d,children:[(0,x.jsxs)("div",{className:ee.Z.filter_container,children:[(0,x.jsx)("h6",{className:ee.Z.filter_title,children:u("filter_and_export_fees_data")}),!h&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(ie.Z,{selectLabel:u("select_department"),selectedValue:u("all_select_particular_department"),options:null!==C&&void 0!==C&&C.allDB?["All",...null===C||void 0===C?void 0:C.allDB]:["All"],onClick:e=>{N((i=>({...i,depart:e})))}}),(0,x.jsx)(ie.Z,{selectLabel:"All"===b.depart?u("select_current_batch"):u("select_batch_optional"),selectedValue:"All"===b.depart?u("select_pref"):u("all_time_select_batch"),options:"All"===b.depart?["Current","All"]:null!==P&&void 0!==P&&null!==(i=P.department)&&void 0!==i&&i.batches?[...null===P||void 0===P||null===(n=P.department)||void 0===n?void 0:n.batches]:[],onClick:e=>{N((i=>({...i,batch:e})))}}),"All"===b.depart?"":(0,x.jsx)(ie.Z,{selectLabel:u("select_standard_year"),selectedValue:u("select_standard_year_placeholder"),options:null!==I&&void 0!==I&&I.classMaster?[...null===I||void 0===I?void 0:I.classMaster]:[],onClick:e=>{N((i=>({...i,master:e})))}}),(0,x.jsx)("button",{className:ee.Z.next_btn,onClick:()=>f((e=>!e)),children:u("next")})]}),h&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(ie.Z,{selectLabel:u("select_gender"),selectedValue:u("select_gender_placeholder"),options:["Male","Female","Other"],onClick:e=>{y((i=>({...i,gender:e})))}}),(0,x.jsx)(ie.Z,{selectLabel:u("select_caste_catgory"),selectedValue:u("select_caste_catgory_placeholder"),options:te.De,onClick:e=>{y((i=>({...i,caste:e})))}}),(0,x.jsx)(ie.Z,{selectLabel:u("select_fee_category"),selectedValue:u("select_fee_category_placeholder"),options:null!==R&&void 0!==R&&R.all_fees_format?[...null===R||void 0===R?void 0:R.all_fees_format]:[],onClick:e=>{N((i=>({...i,fee_struct:e})))}}),(0,x.jsx)(ie.Z,{selectLabel:u("select_all_or_pending"),selectedValue:u("select_all_or_pending_placeholder"),options:["All Time Fees","Pending Fees"],onClick:e=>{y((i=>({...i,is_all:"All Time Fees"===e})))}}),(0,x.jsx)("button",{className:ee.Z.next_btn,onClick:()=>{S((e=>!e)),D({aid:l,...A,all_depart:"All"===b.depart?"All":"Particular",batch_status:b.batch,pendingData:{depart:"All"===b.depart?"":b.depart,batch:"All"===b.depart?"":b.batch,master:"All"===b.depart?[]:[b.master],fee_struct:"All"===b.depart?"":b.fee_struct}}).then((()=>{"EXPORT"===c?(r(),d()):m("/q/".concat(_.username,"/member/admission?a=export"),{state:{...o}}),S((e=>!e))})).catch({})},children:u("export_data")})]})]}),j&&(0,x.jsx)(M.Z,{})]})};var se=n(85162);const oe=e=>{let{onClose:i,xlsxId:n,onRefetch:l,admissionId:a}=e;const[s,o]=(0,t.useState)(!1),[d,c]=(0,t.useState)(!1),[r]=(0,v.f_)(),[u]=(0,v.JD)();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(J.Z,{onClose:i}),(0,x.jsxs)(W.Z,{customStyle:{zIndex:"1200"},children:[d?(0,x.jsx)(se.Z,{xlsxId:n,onEdit:e=>{o((e=>!e)),u({aid:a,xlsxId:null===n||void 0===n?void 0:n._id,excelUpdate:{excel_file_name:e}}).then((()=>{l(),o((e=>!e)),i()})).catch({})}}):(0,x.jsxs)("div",{className:$.Z.edit_modal_container,style:{width:"200px"},children:[(0,x.jsx)("h6",{className:$.Z.edit,onClick:()=>c((e=>!e)),children:"Edit"}),(0,x.jsx)("h6",{className:$.Z.remove,onClick:()=>{o((e=>!e)),r({aid:a,xlsxId:null===n||void 0===n?void 0:n._id}).then((()=>{l(),i(),o((e=>!e))})).catch({})},children:"Delete"})]}),s&&(0,x.jsx)(M.Z,{})]})]})},de=e=>{var i,n;let{admissionId:l,funds:a,carryParentState:s}=e;const{t:o}=(0,p.$G)(),d=(0,g.s0)(),[c,r]=(0,R.YD)(),[u,m]=(0,t.useState)(1),[_,h]=(0,t.useState)(!0),[f,j]=(0,t.useState)(!1),[S,b]=(0,t.useState)(!0),[N,A]=(0,t.useState)([]),[y,C]=(0,t.useState)(!1),[Z,I]=(0,t.useState)(!1),{getAllExcelByAdmissionAdmin:E,getAllExcelByAdmissionAdminRefetch:P}=(0,v.Ke)({data:{aid:l,page:u,limit:10},skip:!l}),{scrollToTop:T}=(0,Q.u)();(0,t.useEffect)((()=>{T()}),[]),(0,t.useEffect)((()=>{l&&(b(!0),P())}),[l,u,P]),(0,t.useEffect)((()=>{r&&_&&m((e=>e+1))}),[r,_]),(0,t.useEffect)((()=>{var e,i;f?(A(null===E||void 0===E?void 0:E.all_excel),j(!1),b(!1)):null!==E&&void 0!==E&&E.all_excel?(A((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===E||void 0===E?void 0:E.all_excel])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),b(!1)):0===(null===E||void 0===E||null===(i=E.all_excel)||void 0===i?void 0:i.length)&&b(!1);10===(null===E||void 0===E||null===(e=E.all_excel)||void 0===e?void 0:e.length)?h(!0):h(!1)}),[null===E||void 0===E?void 0:E.all_excel]);const w=()=>{C((e=>!e))},O=()=>{m(1),P(),j(!0)};return(0,x.jsxs)("div",{className:K.Z.refund_container,children:[(0,x.jsxs)("section",{className:K.Z.refund_container_title,children:[(0,x.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{d(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,x.jsxs)("div",{className:K.Z.refund_container_title,style:{justifyContent:"space-between",width:"95%"},children:[(0,x.jsx)("h6",{children:o("data_export")}),(0,x.jsx)("img",{src:"/images/export-filter-icon.svg",alt:"",onClick:w,className:K.Z.admission_filter_icon})]})]}),(0,x.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,x.jsxs)("div",{className:K.Z.refund_list,children:[null===N||void 0===N?void 0:N.map(((e,i)=>{var n,t;return(null===N||void 0===N?void 0:N.length)===i+1?(0,x.jsxs)("a",{ref:c,className:K.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,x.jsx)("img",{src:"/images/export-xsxl-icon.svg",alt:""}),(0,x.jsxs)("section",{className:K.Z.export_card_text,children:[(0,x.jsx)("h6",{children:null!==(n=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==n?n:""}),(0,x.jsxs)("div",{className:K.Z.export_card_date,children:[(0,x.jsx)("h6",{children:q()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,x.jsx)("h6",{children:q()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]}),(0,x.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:i=>{i.preventDefault(),I(e)},className:K.Z.menu_icon,title:"Menu"})]},null===e||void 0===e?void 0:e._id):(0,x.jsxs)("a",{className:K.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,x.jsx)("img",{src:"/images/export-xsxl-icon.svg",alt:""}),(0,x.jsxs)("section",{className:K.Z.export_card_text,children:[(0,x.jsx)("h6",{children:null!==(t=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==t?t:""}),(0,x.jsxs)("div",{className:K.Z.export_card_date,children:[(0,x.jsx)("h6",{children:q()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,x.jsx)("h6",{children:q()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]}),(0,x.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:i=>{i.preventDefault(),I(e)},className:K.Z.menu_icon,title:"Menu"})]},null===e||void 0===e?void 0:e._id)})),S&&(0,x.jsx)(k.Z,{}),y&&(0,x.jsx)(ae,{admissionId:l,instituteId:null===a||void 0===a||null===(i=a.institute)||void 0===i?void 0:i._id,financeId:null===a||void 0===a||null===(n=a.institute)||void 0===n?void 0:n.financeDepart[0],carryParentState:s,onClose:w,viewAs:"EXPORT",onRefetch:O}),Z&&(0,x.jsx)(oe,{xlsxId:Z,onClose:()=>I(""),onRefetch:O,admissionId:l})]})]})};var ce=n(15961);const re=["enquiry","student"],ue=["receipt&n=request","receipt&n=accept","receipt&n=reject","student"],ve=["ongoing","ongoing&n=application","ongoing&n=select","ongoing&n=confirm","ongoing&n=allot","ongoing&n=cancel","ongoing&n=mulitple","student"],me=["scholarship","scholarship&n","student"],pe=["refund","student"],_e=["pending","student"],he=["ongoing","ongoing&n=application","student"],fe=["ongoing","ongoing&n=select","student"],ge=["ongoing","ongoing&n=confirm","ongoing&n=mulitple","student"],xe=["ongoing","ongoing&n=allot","student"],je=["ongoing","ongoing&n=cancel","student"],Se=["export","student"],be=e=>{let{carryParentState:i,activeTab:n,accessRole:t,accessTpye:l,callApi:a,children:s}=e;const o=(0,g.UO)();return(0,x.jsx)(x.Fragment,{children:"INQUIRY_ACCESS"===t?null!==re&&void 0!==re&&re.includes(n)?(0,x.jsx)(b.rU,{to:"/q/".concat(o.username,"/member/admission?a=").concat(n),state:{...i},children:s}):(0,x.jsx)("div",{style:{opacity:"0.5"},children:s}):"ALL_FEE_ACCESS"===t?null!==ue&&void 0!==ue&&ue.includes(n)?(0,x.jsx)(b.rU,{to:"/q/".concat(o.username,"/member/admission?a=").concat(n),state:{...i},children:s}):(0,x.jsx)("div",{style:{opacity:"0.5"},children:s}):"MULTI_APP_ACCESS"===t?null!==ve&&void 0!==ve&&ve.includes(n)?(0,x.jsx)(b.rU,{to:"/q/".concat(o.username,"/member/admission?a=").concat(n),state:{...i},children:s}):(0,x.jsx)("div",{style:{opacity:"0.5"},children:s}):"SCHOLARSHIP_ACCESS"===t?null!==me&&void 0!==me&&me.includes(null===n||void 0===n?void 0:n.substring(0,11))?(0,x.jsx)(b.rU,{to:"/q/".concat(o.username,"/member/admission?a=").concat(n),state:{...i},children:s}):(0,x.jsx)("div",{style:{opacity:"0.5"},children:s}):"REFUND_ACCESS"===t?null!==pe&&void 0!==pe&&pe.includes(n)?(0,x.jsx)(b.rU,{to:"/q/".concat(o.username,"/member/admission?a=").concat(n),state:{...i},children:s}):(0,x.jsx)("div",{style:{opacity:"0.5"},children:s}):"PENDING_FEE_ACCESS"===t?null!==_e&&void 0!==_e&&_e.includes(n)?(0,x.jsx)(b.rU,{to:"/q/".concat(o.username,"/member/admission?a=").concat(n),state:{...i},children:s}):(0,x.jsx)("div",{style:{opacity:"0.5"},children:s}):"ONE_TAB_ACCESS"===t?"Application"===l?null!==he&&void 0!==he&&he.includes(n)?(0,x.jsx)(b.rU,{to:"/q/".concat(o.username,"/member/admission?a=").concat(n),state:{...i},children:s}):(0,x.jsx)("div",{style:{opacity:"0.5"},children:s}):"Selected"===l?null!==fe&&void 0!==fe&&fe.includes(n)?(0,x.jsx)(b.rU,{to:"/q/".concat(o.username,"/member/admission?a=").concat(n),state:{...i},children:s}):(0,x.jsx)("div",{style:{opacity:"0.5"},children:s}):"Confirmed"===l?null!==ge&&void 0!==ge&&ge.includes(n)?(0,x.jsx)(b.rU,{to:"/q/".concat(o.username,"/member/admission?a=").concat(n),state:{...i},children:s}):(0,x.jsx)("div",{style:{opacity:"0.5"},children:s}):"Allotted"===l?null!==xe&&void 0!==xe&&xe.includes(n)?(0,x.jsx)(b.rU,{to:"/q/".concat(o.username,"/member/admission?a=").concat(n),state:{...i},children:s}):(0,x.jsx)("div",{style:{opacity:"0.5"},children:s}):null!==je&&void 0!==je&&je.includes(n)?(0,x.jsx)(b.rU,{to:"/q/".concat(o.username,"/member/admission?a=").concat(n),state:{...i},children:s}):(0,x.jsx)("div",{style:{opacity:"0.5"},children:s}):"DATA_EXPORT_ACCESS"===t?null!==Se&&void 0!==Se&&Se.includes(n)?(0,x.jsx)(b.rU,{to:"/q/".concat(o.username,"/member/admission?a=").concat(n),state:{...i},children:s}):(0,x.jsx)("div",{style:{opacity:"0.5"},children:s}):a?(0,x.jsx)(b.rU,{to:"/q/".concat(o.username,"/member/admission?a=").concat(n),state:{...i},children:s}):(0,x.jsx)("div",{style:{opacity:"0.5"},children:s})})},Ne=e=>{var i,n,t,l,a,s,o,d,c,r,u,v,m,p,_,h,f,g,j,S;let{data:b,carryParentState:N,accessRole:A,accessApplication:C,setOpenApplicationMenu:Z,accessTpye:I,callApi:E,pageOpenAs:P}=e;const T=e=>{e.preventDefault(),Z(b)};return(0,x.jsx)(x.Fragment,{children:"INSTITUTE"===P?(0,x.jsx)(y,{carryParentState:{...N,applicationId:null===b||void 0===b?void 0:b._id},activeTab:"?a=ongoing&n=application",children:(0,x.jsxs)("div",{className:ce.Z.ongoing_card,children:[(0,x.jsxs)("div",{className:ce.Z.ongoing_card_inner,children:[(0,x.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,x.jsxs)("div",{className:ce.Z.ongoing_card_text,children:[(0,x.jsx)("h6",{children:null===b||void 0===b?void 0:b.applicationName}),(0,x.jsx)("p",{children:null===b||void 0===b||null===(i=b.applicationDepartment)||void 0===i?void 0:i.dName})]})]}),(0,x.jsx)("div",{className:ce.Z.ongoing_card_count_date,children:(0,x.jsxs)("div",{className:ce.Z.ongoing_card_count_container,children:[(0,x.jsx)("h6",{children:null!==(n=null===b||void 0===b?void 0:b.receievedCount)&&void 0!==n?n:0}),(0,x.jsx)("h6",{children:null!==(t=null===b||void 0===b?void 0:b.selectCount)&&void 0!==t?t:0}),(0,x.jsx)("h6",{children:null!==(l=null===b||void 0===b?void 0:b.confirmCount)&&void 0!==l?l:0})]})}),(0,x.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:T,className:ce.Z.menu_icon,title:"Menu"})]})}):A?I?(0,x.jsx)(be,{carryParentState:{...N,applicationId:null===b||void 0===b?void 0:b._id},activeTab:"ongoing&n=".concat("Application"===I?"application":"Selected"===I?"select":"Confirmed"===I?"confirm":"Allotted"===I?"allot":"cancel"),accessRole:A,accessTpye:I,callApi:E,children:(0,x.jsxs)("div",{className:ce.Z.ongoing_card,children:[(0,x.jsxs)("div",{className:ce.Z.ongoing_card_inner,children:[(0,x.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,x.jsxs)("div",{className:ce.Z.ongoing_card_text,children:[(0,x.jsx)("h6",{children:null===b||void 0===b?void 0:b.applicationName}),(0,x.jsx)("p",{children:null===b||void 0===b||null===(a=b.applicationDepartment)||void 0===a?void 0:a.dName})]})]}),(0,x.jsx)("div",{className:ce.Z.ongoing_card_count_date,children:(0,x.jsxs)("div",{className:ce.Z.ongoing_card_count_container,children:[(0,x.jsx)("h6",{children:null!==(s=null===b||void 0===b?void 0:b.receievedCount)&&void 0!==s?s:0}),(0,x.jsx)("h6",{children:null!==(o=null===b||void 0===b?void 0:b.selectCount)&&void 0!==o?o:0}),(0,x.jsx)("h6",{children:null!==(d=null===b||void 0===b?void 0:b.confirmCount)&&void 0!==d?d:0})]})})]})}):null!==C&&void 0!==C&&C.includes(null===b||void 0===b?void 0:b._id)?(0,x.jsx)(be,{carryParentState:{...N,applicationId:null===b||void 0===b?void 0:b._id},activeTab:"ongoing&n=application",accessRole:A,callApi:E,children:(0,x.jsxs)("div",{className:ce.Z.ongoing_card,children:[(0,x.jsxs)("div",{className:ce.Z.ongoing_card_inner,children:[(0,x.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,x.jsxs)("div",{className:ce.Z.ongoing_card_text,children:[(0,x.jsx)("h6",{children:null===b||void 0===b?void 0:b.applicationName}),(0,x.jsx)("p",{children:null===b||void 0===b||null===(c=b.applicationDepartment)||void 0===c?void 0:c.dName})]})]}),(0,x.jsx)("div",{className:ce.Z.ongoing_card_count_date,children:(0,x.jsxs)("div",{className:ce.Z.ongoing_card_count_container,children:[(0,x.jsx)("h6",{children:null!==(r=null===b||void 0===b?void 0:b.receievedCount)&&void 0!==r?r:0}),(0,x.jsx)("h6",{children:null!==(u=null===b||void 0===b?void 0:b.selectCount)&&void 0!==u?u:0}),(0,x.jsx)("h6",{children:null!==(v=null===b||void 0===b?void 0:b.confirmCount)&&void 0!==v?v:0})]})})]})}):(0,x.jsxs)("div",{className:ce.Z.ongoing_card,style:{opacity:"0.5"},children:[(0,x.jsxs)("div",{className:ce.Z.ongoing_card_inner,children:[(0,x.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,x.jsxs)("div",{className:ce.Z.ongoing_card_text,children:[(0,x.jsx)("h6",{children:null===b||void 0===b?void 0:b.applicationName}),(0,x.jsx)("p",{children:null===b||void 0===b||null===(m=b.applicationDepartment)||void 0===m?void 0:m.dName})]})]}),(0,x.jsx)("div",{className:ce.Z.ongoing_card_count_date,children:(0,x.jsxs)("div",{className:ce.Z.ongoing_card_count_container,children:[(0,x.jsx)("h6",{children:null!==(p=null===b||void 0===b?void 0:b.receievedCount)&&void 0!==p?p:0}),(0,x.jsx)("h6",{children:null!==(_=null===b||void 0===b?void 0:b.selectCount)&&void 0!==_?_:0}),(0,x.jsx)("h6",{children:null!==(h=null===b||void 0===b?void 0:b.confirmCount)&&void 0!==h?h:0})]})})]}):(0,x.jsx)(be,{carryParentState:{...N,applicationId:null===b||void 0===b?void 0:b._id},activeTab:"ongoing&n=application",accessRole:A,accessTpye:I,callApi:E,children:(0,x.jsxs)("div",{className:ce.Z.ongoing_card,children:[(0,x.jsxs)("div",{className:ce.Z.ongoing_card_inner,children:[(0,x.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,x.jsxs)("div",{className:ce.Z.ongoing_card_text,children:[(0,x.jsx)("h6",{children:null===b||void 0===b?void 0:b.applicationName}),(0,x.jsx)("p",{children:null===b||void 0===b||null===(f=b.applicationDepartment)||void 0===f?void 0:f.dName})]})]}),(0,x.jsx)("div",{className:ce.Z.ongoing_card_count_date,children:(0,x.jsxs)("div",{className:ce.Z.ongoing_card_count_container,children:[(0,x.jsx)("h6",{children:null!==(g=null===b||void 0===b?void 0:b.receievedCount)&&void 0!==g?g:0}),(0,x.jsx)("h6",{children:null!==(j=null===b||void 0===b?void 0:b.selectCount)&&void 0!==j?j:0}),(0,x.jsx)("h6",{children:null!==(S=null===b||void 0===b?void 0:b.confirmCount)&&void 0!==S?S:0})]})}),(0,x.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:T,className:ce.Z.menu_icon,title:"Menu"})]})})})};var Ae=n(61503),ye=n(95290);const Ce=e=>{var i;let{carryParentState:n,accessRole:l,accessApplication:a,accessTpye:s,callApi:o,admissionId:d,pageOpenAs:c}=e;const{t:u}=(0,p.$G)(),m=(0,r.v9)((e=>e.admissionChange)),[_,h]=(0,t.useState)(!0),[f,g]=(0,t.useState)(1),[j,S]=(0,R.YD)(),[b,N]=(0,t.useState)([]),[A,y]=(0,t.useState)(!0),[C,Z]=(0,t.useState)(""),[I,E]=(0,t.useState)(!1),[P,T]=(0,t.useState)(!1),{allOngoingApp:D,allOngoingAppRefetch:w}=(0,v.JG)({data:{aid:d||(null===m||void 0===m?void 0:m.aid),page:f,limit:10},skip:d?!d:!(null!==m&&void 0!==m&&m.aid)}),{scrollToTop:O}=(0,Q.u)();(0,t.useEffect)((()=>{O()}),[]),(0,t.useEffect)((()=>{S&&_&&g((e=>e+1))}),[S,_]),(0,t.useEffect)((()=>{(null!==m&&void 0!==m&&m.aid||d)&&(y(!0),w())}),[null===m||void 0===m?void 0:m.aid,d,f,w]),(0,t.useEffect)((()=>{var e,i;I?(N(null===D||void 0===D?void 0:D.ongoing),y(!1),E(!1)):null!==D&&void 0!==D&&D.ongoing?(N((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===D||void 0===D?void 0:D.ongoing])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),y(!1)):0===(null===D||void 0===D||null===(i=D.ongoing)||void 0===i?void 0:i.length)&&y(!1);10===(null===D||void 0===D||null===(e=D.ongoing)||void 0===e?void 0:e.length)?h(!0):h(!1)}),[null===D||void 0===D?void 0:D.ongoing]);const M=()=>{g(1),E(!0),y(!0),w()};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("p",{className:ce.Z.add_new_category,onClick:()=>{l||T((e=>!e))},style:{opacity:l?"0.5":1},children:u("create_new_application")}),(0,x.jsxs)("div",{className:ce.Z.remainingFees,children:[null===b||void 0===b?void 0:b.map(((e,i)=>(null===b||void 0===b?void 0:b.length)===i+1?(0,x.jsx)("div",{ref:j,children:(0,x.jsx)(Ne,{data:e,carryParentState:n,accessRole:l,accessTpye:s,callApi:o,accessApplication:a,setOpenApplicationMenu:Z,pageOpenAs:c})},i):(0,x.jsx)(Ne,{data:e,carryParentState:n,accessRole:l,accessTpye:s,callApi:o,accessApplication:a,setOpenApplicationMenu:Z,pageOpenAs:c},i))),A&&(0,x.jsx)(k.Z,{status:"white"})]}),C&&(0,x.jsx)(Ae.Z,{openApplicationMenu:C,onClose:()=>Z(""),onRefetch:M,insAdmissionId:d}),P&&(0,x.jsx)(ye.Z,{setCreateApplication:T,createApplication:P,admissionId:null!==(i=null===m||void 0===m?void 0:m.aid)&&void 0!==i?i:d,setRefetchOngoining:M})]})};var Ze=n(763),Ie=n(20132),Ee=n(87338),Pe=n(51561);const Te=e=>{var i,n,t,l,a,s,o,d,c,r,u,v,p,_,h,f,g,j,S,b,N,A,y,C;let{applicant:Z,onSelectApplicant:I,transferApplicat:E}=e;return(0,x.jsxs)("div",{className:null!==E&&void 0!==E&&E.includes(null===Z||void 0===Z?void 0:Z._id)?"".concat(ce.Z.applicant_card_container," ").concat(ce.Z.applicant_card_container_active):"".concat(ce.Z.applicant_card_container," ").concat(ce.Z.applicant_card_container_hover),onClick:()=>{I(Z)},children:[(0,x.jsxs)("div",{className:ce.Z.applicant_card_inner,children:[(0,x.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===Z||void 0===Z||null===(i=Z.student)||void 0===i?void 0:i.photoId)?"".concat(m.yI,"/").concat(null===Z||void 0===Z||null===(n=Z.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,x.jsx)("div",{className:ce.Z.applicant_card_inner_info,children:(0,x.jsx)("h6",{children:"".concat(null===Z||void 0===Z||null===(t=Z.student)||void 0===t?void 0:t.studentFirstName," ").concat(null!==Z&&void 0!==Z&&null!==(l=Z.student)&&void 0!==l&&l.studentMiddleName?null===Z||void 0===Z||null===(a=Z.student)||void 0===a?void 0:a.studentMiddleName:""," ").concat(null===Z||void 0===Z||null===(s=Z.student)||void 0===s?void 0:s.studentLastName)})})]}),(0,x.jsxs)("div",{className:ce.Z.applicant_card_contact,children:[(0,x.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,x.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,x.jsx)("p",{children:null===Z||void 0===Z||null===(o=Z.student)||void 0===o?void 0:o.studentGender})]}),((null===Z||void 0===Z||null===(d=Z.student)||void 0===d?void 0:d.studentPhoneNumber)||(null===Z||void 0===Z||null===(c=Z.student)||void 0===c||null===(r=c.user)||void 0===r?void 0:r.userPhoneNumber)||(null===Z||void 0===Z||null===(u=Z.student)||void 0===u||null===(v=u.user)||void 0===v?void 0:v.userEmail)||(null===Z||void 0===Z||null===(p=Z.student)||void 0===p?void 0:p.studentParentsPhoneNumber))&&(0,x.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,x.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,x.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==Z&&void 0!==Z&&null!==(_=Z.student)&&void 0!==_&&null!==(h=_.user)&&void 0!==h&&h.userPhoneNumber?null===Z||void 0===Z||null===(f=Z.student)||void 0===f||null===(g=f.user)||void 0===g?void 0:g.userPhoneNumber:null!==Z&&void 0!==Z&&null!==(j=Z.student)&&void 0!==j&&null!==(S=j.user)&&void 0!==S&&S.userEmail?null===Z||void 0===Z||null===(b=Z.student)||void 0===b||null===(N=b.user)||void 0===N?void 0:N.userEmail:null!==Z&&void 0!==Z&&null!==(A=Z.student)&&void 0!==A&&A.studentPhoneNumber?null===Z||void 0===Z||null===(y=Z.student)||void 0===y?void 0:y.studentPhoneNumber:null===Z||void 0===Z||null===(C=Z.student)||void 0===C?void 0:C.studentParentsPhoneNumber})]})]})]})},Re=e=>{let{onBack:i,onSelectApp:n,transferApplication:l}=e;const a=(0,r.v9)((e=>e.admissionChange)),{t:s}=(0,p.$G)(),[o,d]=(0,t.useState)(!0),[c,u]=(0,t.useState)(1),[m,_]=(0,R.YD)(),[h,f]=(0,t.useState)([]),[g,j]=(0,t.useState)(!0),{allOngoingApp:S,allOngoingAppRefetch:b}=(0,v.JG)({data:{aid:null===a||void 0===a?void 0:a.aid,page:c,limit:10},skip:!(null!==a&&void 0!==a&&a.aid)});(0,t.useEffect)((()=>{_&&o&&u((e=>e+1))}),[_,o]),(0,t.useEffect)((()=>{null!==a&&void 0!==a&&a.aid&&(j(!0),b())}),[null===a||void 0===a?void 0:a.aid,c,b]),(0,t.useEffect)((()=>{null!==a&&void 0!==a&&a.aid&&(j(!0),b())}),[null===a||void 0===a?void 0:a.aid,b]),(0,t.useEffect)((()=>{var e;null!==S&&void 0!==S&&S.ongoing&&(f((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===S||void 0===S?void 0:S.ongoing])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),j(!1)),10===(null===S||void 0===S||null===(e=S.ongoing)||void 0===e?void 0:e.length)?d(!0):d(!1)}),[null===S||void 0===S?void 0:S.ongoing]);const N=e=>{n(e)};return(0,x.jsx)(L.Z,{onClose:i,children:(0,x.jsxs)("div",{className:F.Z.assign_role_container,children:[(0,x.jsxs)("section",{className:F.Z.assign_role_title,style:{position:"relative"},children:[(0,x.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:i,alt:"back icon",style:{cursor:"pointer"}}),(0,x.jsx)("h6",{children:s("select_application")})]}),(0,x.jsx)(D.Z,{customStyle:{width:"100%"}}),null===h||void 0===h?void 0:h.map(((e,i)=>{var n,t,a,s,o,d;return(null===h||void 0===h?void 0:h.length)===i+1?(0,x.jsxs)("div",{className:(null===l||void 0===l?void 0:l._id)===(null===e||void 0===e?void 0:e._id)?"".concat(F.Z.application_card," ").concat(F.Z.application_card_active):F.Z.application_card,ref:m,onClick:()=>N(e),children:[(0,x.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,x.jsxs)("section",{className:F.Z.application_card_text,children:[(0,x.jsx)("h6",{children:null!==(n=null===e||void 0===e?void 0:e.applicationName)&&void 0!==n?n:""}),(0,x.jsx)("div",{className:F.Z.application_card_text_bottom,children:(0,x.jsx)("p",{children:null!==(t=null===e||void 0===e||null===(a=e.applicationDepartment)||void 0===a?void 0:a.dName)&&void 0!==t?t:""})})]})]},null===e||void 0===e?void 0:e._id):(0,x.jsxs)("div",{className:(null===l||void 0===l?void 0:l._id)===(null===e||void 0===e?void 0:e._id)?"".concat(F.Z.application_card," ").concat(F.Z.application_card_active):F.Z.application_card,onClick:()=>N(e),children:[(0,x.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,x.jsxs)("section",{className:F.Z.application_card_text,children:[(0,x.jsx)("h6",{children:null!==(s=null===e||void 0===e?void 0:e.applicationName)&&void 0!==s?s:""}),(0,x.jsx)("div",{className:F.Z.application_card_text_bottom,children:(0,x.jsx)("p",{children:null!==(o=null===e||void 0===e||null===(d=e.applicationDepartment)||void 0===d?void 0:d.dName)&&void 0!==o?o:""})})]})]},null===e||void 0===e?void 0:e._id)})),g&&(0,x.jsx)(k.Z,{status:"white"})]})})},ke=e=>{var i,n;let{onClose:l,applicationId:a,onRefetchConfirmTab:s}=e;const{t:o}=(0,p.$G)(),[d,c]=(0,t.useState)(0),[r,u]=(0,t.useState)(!0),[m,_]=(0,t.useState)(1),[h,f]=(0,t.useState)(""),[g,j]=(0,R.YD)(),[S,b]=(0,t.useState)([]),[N,A]=(0,t.useState)(!1),[y,C]=(0,t.useState)(!0),[Z,I]=(0,t.useState)(""),[E,P]=(0,t.useState)([]),[T,w]=(0,t.useState)([]),[O,F]=(0,t.useState)(!1),[U]=(0,v.hE)(),{getAllConfirmList:q,getAllConfirmListRefetch:B}=(0,v.RR)({data:{id:a,page:m,limit:10,search:h||""},skip:!a});(0,t.useEffect)((()=>{j&&r&&_((e=>e+1))}),[j,r]),(0,t.useEffect)((()=>{a&&(C(!0),B())}),[m,a,B,h]),(0,t.useEffect)((()=>{var e,i;h?(b(null===q||void 0===q?void 0:q.confirm),C(!1)):N?(b(null===q||void 0===q?void 0:q.confirm),A(!1),C(!1)):null!==q&&void 0!==q&&q.confirm?(b((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===q||void 0===q?void 0:q.confirm])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),C(!1)):0===(null===q||void 0===q||null===(i=q.confirm)||void 0===i?void 0:i.length)&&C(!1);10===(null===q||void 0===q||null===(e=q.confirm)||void 0===e?void 0:e.length)?u(!0):u(!1)}),[null===q||void 0===q?void 0:q.confirm]);const G=(0,t.useCallback)((0,Ze.debounce)((e=>f(e)),500),[]),H=()=>{O||(0===d?l():c(1===d?0:1))},V=e=>{if(null!==E&&void 0!==E&&E.includes(null===e||void 0===e?void 0:e._id))P((i=>null===i||void 0===i?void 0:i.filter((i=>i!==(null===e||void 0===e?void 0:e._id))))),w((i=>null===i||void 0===i?void 0:i.filter((i=>{var n;return(null===i||void 0===i?void 0:i.studentId)!==(null===e||void 0===e||null===(n=e.student)||void 0===n?void 0:n._id)}))));else{var i;let n={studentId:null===e||void 0===e||null===(i=e.student)||void 0===i?void 0:i._id,mode:null===e||void 0===e?void 0:e.payment_status,type:null===e||void 0===e?void 0:e.install_type,price:null===e||void 0===e?void 0:e.fee_remain};w((e=>null!==e&&void 0!==e&&e.length?[...e,n]:[n])),P((i=>null!==i&&void 0!==i&&i.length?[...i,null===e||void 0===e?void 0:e._id]:[null===e||void 0===e?void 0:e._id]))}};return(0,x.jsx)(x.Fragment,{children:0===d||2===d?(0,x.jsx)(L.Z,{onClose:H,children:(0,x.jsxs)("div",{className:ce.Z.admission_modal,children:[0===d?(0,x.jsxs)("div",{className:ce.Z.transfer_container,children:[(0,x.jsx)("h6",{className:ce.Z.admission_modal_heading,children:o("select_confirm_student")}),(0,x.jsxs)("button",{className:ce.Z.transfer_select_btn,onClick:()=>{c(1)},children:[null!==(i=null===E||void 0===E?void 0:E.length)&&void 0!==i?i:""," "," ",o("select")]})]}):(0,x.jsx)("h6",{className:ce.Z.admission_modal_heading,children:o("transfer_select_student")}),(0,x.jsx)(D.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),0===d?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:ce.Z.with_search,style:{marginBottom:"0.7rem"},children:(0,x.jsx)("div",{className:ce.Z.search_container_filter,style:{width:"100%"},children:(0,x.jsx)("section",{className:ce.Z.search_container,style:{width:"100%"},children:(0,x.jsxs)("div",{className:ce.Z.search_container_input,style:{width:"100%"},children:[(0,x.jsx)("img",{className:ce.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,x.jsx)("input",{type:"text",placeholder:"Search classes...",onChange:e=>{G(e.target.value)},style:{width:"100%"}})]})})})}),null===S||void 0===S?void 0:S.map(((e,i)=>(null===S||void 0===S?void 0:S.length)===i+1?(0,x.jsx)("div",{ref:g,children:(0,x.jsx)(Te,{applicant:e,onSelectApplicant:V,transferApplicat:E})},i):(0,x.jsx)(Te,{applicant:e,onSelectApplicant:V,transferApplicat:E},i))),y&&(0,x.jsx)(k.Z,{status:"white"})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:ce.Z.admission_class_confirm,children:[o("transfering")," ",(0,x.jsx)("span",{style:{fontWeight:"600"},children:null===E||void 0===E?void 0:E.length})," ",o("students")," "," ",",",o("to")," ",(0,x.jsx)("span",{style:{fontWeight:"600"},children:null!==(n=null===Z||void 0===Z?void 0:Z.applicationName)&&void 0!==n?n:""})]}),(0,x.jsx)("div",{className:ce.Z.confirm_btn,onClick:()=>{null!==Z&&void 0!==Z&&Z._id&&a&&null!==E&&void 0!==E&&E.length&&(F((e=>!e)),U({aid:null===Z||void 0===Z?void 0:Z._id,transferApplicantData:{app_array:E,oaid:a,student_array:T}}).then((()=>{s(),F((e=>!e)),l()})).catch({}))},children:o("confirm")})]}),O&&(0,x.jsx)(M.Z,{})]})}):(0,x.jsx)(Re,{onBack:H,onSelectApp:e=>{I(e),c(2)},transferApplication:Z})})},De=["Request_Query","Confirm_Query","Allot_Query"],we=e=>{var i,n,l,a,s,o,d;let{applicationDetail:c,carryParentState:r,instituteId:u,tabStatusFlow:v,applicationDetailApplicablePending:m,onRefetchConfirmTab:p,pageOpenAs:_,children:h}=e;const f=(0,g.s0)(),j=(0,g.UO)(),[S,N]=(0,t.useState)({msg:"",run:!1}),[A,y]=(0,t.useState)(!1),[C,Z]=(0,t.useState)(!1),[I,E]=(0,t.useState)(!1),[P]=(0,Ee.Y$)();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("section",{className:ce.Z.moderator_container_title,children:[(0,x.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{f("/q/".concat(j.username,"INSTITUTE"===_?"/admission?a=ongoing":"/member/admission?a=ongoing"),{state:{...r}})},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,x.jsxs)("div",{className:ce.Z.with_search,children:[(0,x.jsx)("h6",{children:null!==(i=null===c||void 0===c?void 0:c.applicationName)&&void 0!==i?i:""}),(0,x.jsxs)("div",{className:ce.Z.search_container_filter,children:[(0,x.jsx)("section",{className:ce.Z.search_container,children:(0,x.jsxs)("div",{className:ce.Z.search_container_input,children:[(0,x.jsx)("img",{className:ce.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),h]})}),(0,x.jsx)(b.rU,{to:"/q/joining",state:{formAs:"STUDENT",openAs:"ADMISSION_ADMIN_SIDE",instituteId:u,appId:null===c||void 0===c?void 0:c._id,admissionAmount:[null!==(n=null===c||void 0===c?void 0:c.admissionFee)&&void 0!==n?n:0,null!==(l=null===c||void 0===c||null===(a=c.one_installments)||void 0===a?void 0:a.fees)&&void 0!==l?l:0],applicationMaster:null===c||void 0===c?void 0:c.applicationMaster,applicationDepartment:null===c||void 0===c||null===(s=c.applicationDepartment)||void 0===s?void 0:s._id,batchId:null===c||void 0===c||null===(o=c.applicationBatch)||void 0===o?void 0:o._id,departmentId:null===c||void 0===c||null===(d=c.applicationDepartment)||void 0===d?void 0:d._id,whichFormShow:"DEPARTMENT"},children:(0,x.jsx)("img",{style:{height:"2.2rem",cursor:"pointer"},src:"/images/add-icon.svg",alt:"icon",title:"Add student"})}),(0,x.jsx)("img",{style:{height:"2.2rem",cursor:"pointer"},onClick:()=>Z(!0),src:"/images/application_info.svg",alt:"icon",title:"View Application Details"}),De.includes(v)?(0,x.jsx)("img",{style:{height:"2.2rem",cursor:"pointer"},onClick:()=>{null!==c&&void 0!==c&&c._id&&v&&(y((e=>!e)),P({appId:null===c||void 0===c?void 0:c._id,flow:v}).then((e=>{var i;N({msg:null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.message,run:!0}),setTimeout((()=>{f("/q/".concat(j.username,"INSTITUTE"===_?"/admission?a=export":"/member/admission?a=export"),{state:r})}),1e3)})).catch({}))},src:"/images/member_tab/finance/finance-export-icon.svg",alt:""}):null,"Confirm_Query"===v?(0,x.jsx)("img",{style:{height:"2.2rem",cursor:"pointer"},onClick:()=>E(!0),src:"/images/member_tab/admission/admission-transfer-icon.svg",alt:""}):null]})]})]}),(0,x.jsx)(D.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),C&&(0,x.jsx)(Ie.Z,{completeApplication:!0,viewDetail:C,applicationDetail:c,hideModal:Z,carryParentState:r,applicationDetailApplicablePending:m,pageOpenAs:_}),I&&(0,x.jsx)(ke,{instituteId:u,applicationId:null===c||void 0===c?void 0:c._id,onClose:()=>E(!1),onRefetchConfirmTab:p}),A&&(0,x.jsx)(M.Z,{}),(0,x.jsx)(Pe.Ch,{msg:S.msg,run:S.run,setRun:()=>N({msg:"",run:!1}),postiton:"bottom",type:"success"})]})};var Oe=n(47167);const Me=e=>{var i,n,t,l,a;let{carryParentState:s,accessRole:o,accessTpye:d,pageOpenAs:c}=e;const{t:r}=(0,p.$G)(),u=(0,g.TH)(),v=[{name:r("application"),id:0,url:"member/admission?a=ongoing&n=application",is_active:["MULTI_APP_ACCESS"].includes(o)||!o?"enabled":["ONE_TAB_ACCESS"].includes(o)?"Application"===d?"enabled":"disabled":"enabled"},{name:r("selected"),id:1,url:"member/admission?a=ongoing&n=select",is_active:["MULTI_APP_ACCESS"].includes(o)||!o?"enabled":["ONE_TAB_ACCESS"].includes(o)?"Selected"===d?"enabled":"disabled":"enabled"},{name:r("confirmed"),id:2,url:"member/admission?a=ongoing&n=confirm",is_active:["MULTI_APP_ACCESS"].includes(o)||!o?"enabled":["ONE_TAB_ACCESS"].includes(o)?"Confirmed"===d?"enabled":"disabled":"enabled"},{name:r("allotted"),id:3,url:"member/admission?a=ongoing&n=allot",is_active:["MULTI_APP_ACCESS"].includes(o)||!o?"enabled":["ONE_TAB_ACCESS"].includes(o)?"Allotted"===d?"enabled":"disabled":"enabled"},{name:r("cancelled"),id:4,url:"member/admission?a=ongoing&n=cancel",is_active:["MULTI_APP_ACCESS"].includes(o)||!o?"enabled":["ONE_TAB_ACCESS"].includes(o)?"Cancelled"===d?"enabled":"disabled":"enabled"}],m=[{name:r("application"),id:0,url:"admission?a=ongoing&n=application",is_active:"enabled"},{name:r("selected"),id:1,url:"admission?a=ongoing&n=select",is_active:"enabled"},{name:r("confirmed"),id:2,url:"admission?a=ongoing&n=confirm",is_active:"enabled"},{name:r("allotted"),id:3,url:"admission?a=ongoing&n=allot",is_active:"enabled"},{name:r("cancelled"),id:4,url:"admission?a=ongoing&n=cancel",is_active:"enabled"}];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Oe.Z,{tabList:"INSTITUTE"===c?m:v,activeIndexTab:"application"===(null===(i=u.search)||void 0===i?void 0:i.substring(13))?0:"select"===(null===(n=u.search)||void 0===n?void 0:n.substring(13))?1:"confirm"===(null===(t=u.search)||void 0===t?void 0:t.substring(13))||"mulitple"===(null===(l=u.search)||void 0===l?void 0:l.substring(13))?2:"allot"===(null===(a=u.search)||void 0===a?void 0:a.substring(13))?3:4,showAs:!0,customStyleTab:{width:"100%"},customStyleLink:{width:"20%"},carryParentState:s}),(0,x.jsx)(D.Z,{customStyle:{width:"100%"}})]})};var Le=n(56112);const Fe=t.lazy((()=>n.e(20433).then(n.bind(n,20433)))),Ue=e=>{var i,n,l,a,s,o,d,c,r,_,h,f,j,S,b,N,A,y,C,Z,I,E,P,T,R,k,D,w;let{applicant:O,onRefetchWhenSelect:L,applicationId:F,departmentId:U,classMasterId:B,batchId:G,instituteId:H}=e;const{t:V}=(0,p.$G)(),W=(0,g.UO)(),J=(0,g.s0)(),[$,Y]=(0,t.useState)(!1),[z,Q]=(0,t.useState)(!1),[X,K]=(0,t.useState)(!1),[ee]=(0,v.iI)();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:ce.Z.applicant_card_container,onClick:()=>{var e;J("/q/".concat(W.username,"/student/profile"),{state:{sid:null===O||void 0===O||null===(e=O.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:H}})},title:"View Profile",children:[(0,x.jsxs)("div",{className:ce.Z.applicant_card_inner,children:[(0,x.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===O||void 0===O||null===(i=O.student)||void 0===i?void 0:i.photoId)?"".concat(m.yI,"/").concat(null===O||void 0===O||null===(n=O.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,x.jsxs)("div",{className:ce.Z.applicant_card_inner_info,children:[(0,x.jsx)("h6",{children:"".concat(null===O||void 0===O||null===(l=O.student)||void 0===l?void 0:l.studentFirstName," ").concat(null!==O&&void 0!==O&&null!==(a=O.student)&&void 0!==a&&a.studentMiddleName?null===O||void 0===O||null===(s=O.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null===O||void 0===O||null===(o=O.student)||void 0===o?void 0:o.studentLastName)}),(0,x.jsxs)("p",{children:[V("applied_on"),":"," ",q()(null===O||void 0===O?void 0:O.apply_on).format("DD MMM yyyy")]})]})]}),(0,x.jsxs)("div",{className:ce.Z.applicant_card_contact,children:[(0,x.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,x.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,x.jsx)("p",{children:null===O||void 0===O||null===(d=O.student)||void 0===d?void 0:d.studentGender})]}),((null===O||void 0===O||null===(c=O.student)||void 0===c?void 0:c.studentPhoneNumber)||(null===O||void 0===O||null===(r=O.student)||void 0===r||null===(_=r.user)||void 0===_?void 0:_.userPhoneNumber)||(null===O||void 0===O||null===(h=O.student)||void 0===h||null===(f=h.user)||void 0===f?void 0:f.userEmail)||(null===O||void 0===O||null===(j=O.student)||void 0===j?void 0:j.studentParentsPhoneNumber))&&(0,x.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,x.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,x.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==O&&void 0!==O&&null!==(S=O.student)&&void 0!==S&&null!==(b=S.user)&&void 0!==b&&b.userPhoneNumber?null===O||void 0===O||null===(N=O.student)||void 0===N||null===(A=N.user)||void 0===A?void 0:A.userPhoneNumber:null!==O&&void 0!==O&&null!==(y=O.student)&&void 0!==y&&null!==(C=y.user)&&void 0!==C&&C.userEmail?null===O||void 0===O||null===(Z=O.student)||void 0===Z||null===(I=Z.user)||void 0===I?void 0:I.userEmail:null!==O&&void 0!==O&&null!==(E=O.student)&&void 0!==E&&E.studentPhoneNumber?null===O||void 0===O||null===(P=O.student)||void 0===P?void 0:P.studentPhoneNumber:null===O||void 0===O||null===(T=O.student)||void 0===T?void 0:T.studentParentsPhoneNumber})]})]}),(0,x.jsx)("div",{className:ce.Z.applicant_card_reciept,onClick:e=>{e.stopPropagation()},children:(0,x.jsx)("a",{href:"".concat(m.r3,"/").concat(null===O||void 0===O||null===(R=O.student)||void 0===R||null===(k=R.application_print)||void 0===k||null===(D=k[0])||void 0===D?void 0:D.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,x.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,x.jsxs)("div",{className:ce.Z.application_button,children:[(0,x.jsx)("div",{className:ce.Z.selectAppBtnContainer,onClick:e=>{e.stopPropagation(),Q(!0)},children:(0,x.jsx)("div",{className:ce.Z.selectBtn,children:V("select")})}),(0,x.jsx)("div",{className:ce.Z.selectAppBtnContainer,onClick:e=>{e.stopPropagation(),Y((e=>!e))},children:(0,x.jsx)("div",{className:ce.Z.cancelledBtn,children:V("reject")})})]})]}),(0,x.jsx)(u.Z,{children:$&&(0,x.jsx)(Fe,{studentId:null===O||void 0===O||null===(w=O.student)||void 0===w?void 0:w._id,applicationId:F,onClose:()=>Y((e=>!e)),onRefetchWhenSelect:L})}),z&&(0,x.jsx)(Le.Z,{departmentId:U,classMasterId:B,batchId:G,onClose:()=>Q((e=>!e)),onSelectedStudent:e=>{var i,n;""!==(null===O||void 0===O||null===(i=O.student)||void 0===i?void 0:i._id)&&""!==F&&e&&(K((e=>!e)),ee({sid:null===O||void 0===O||null===(n=O.student)||void 0===n?void 0:n._id,aid:F,selectApplicant:{fee_struct:e}}).then((()=>{L(),K((e=>!e))})).catch((()=>{K((e=>!e))})))}}),X&&(0,x.jsx)(M.Z,{})]})};const qe=function(e){let{applicationId:i,carryParentState:n,applicationDetail:l,instituteId:a,accessRole:s,accessTpye:o,applicationDetailApplicablePending:d,pageOpenAs:c}=e;const[r,u]=(0,t.useState)(!0),[m,p]=(0,t.useState)(1),[_,h]=(0,t.useState)(""),[f,g]=(0,R.YD)(),[j,S]=(0,t.useState)([]),[b,N]=(0,t.useState)(!1),[A,y]=(0,t.useState)(!0),{getAllRequestList:C,getAllRequestListRefetch:Z}=(0,v.jG)({data:{id:i,page:m,limit:10,search:_||""},skip:!i}),{scrollToTop:I}=(0,Q.u)();(0,t.useEffect)((()=>{I()}),[]),(0,t.useEffect)((()=>{g&&r&&p((e=>e+1))}),[g,r]),(0,t.useEffect)((()=>{i&&(y(!0),Z())}),[m,i,Z,_]),(0,t.useEffect)((()=>{var e,i;_?(S(null===C||void 0===C?void 0:C.request),y(!1)):b?(S(null===C||void 0===C?void 0:C.request),N(!1),y(!1)):null!==C&&void 0!==C&&C.request?(S((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===C||void 0===C?void 0:C.request])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),y(!1)):0===(null===C||void 0===C||null===(i=C.request)||void 0===i?void 0:i.length)&&y(!1);10===(null===C||void 0===C||null===(e=C.request)||void 0===e?void 0:e.length)?u(!0):u(!1)}),[null===C||void 0===C?void 0:C.request]);const E=()=>{p(1),Z(),N(!0)},P=(0,t.useCallback)((0,Ze.debounce)((e=>h(e)),500),[]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(we,{applicationDetail:l,carryParentState:n,instituteId:a,tabStatusFlow:"Request_Query",applicationDetailApplicablePending:d,pageOpenAs:c,children:(0,x.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:e=>{P(e.target.value)}})}),(0,x.jsx)(Me,{carryParentState:n,accessRole:s,accessTpye:o,pageOpenAs:c}),null===j||void 0===j?void 0:j.map(((e,n)=>{var t,s,o,d;return(null===j||void 0===j?void 0:j.length)===n+1?(0,x.jsx)("div",{ref:f,children:(0,x.jsx)(Ue,{applicant:e,onRefetchWhenSelect:E,applicationId:i,departmentId:null===l||void 0===l||null===(t=l.applicationDepartment)||void 0===t?void 0:t._id,batchId:null===l||void 0===l||null===(s=l.applicationBatch)||void 0===s?void 0:s._id,classMasterId:null===l||void 0===l?void 0:l.applicationMaster,instituteId:a})},n):(0,x.jsx)(Ue,{applicant:e,onRefetchWhenSelect:E,applicationId:i,departmentId:null===l||void 0===l||null===(o=l.applicationDepartment)||void 0===o?void 0:o._id,batchId:null===l||void 0===l||null===(d=l.applicationBatch)||void 0===d?void 0:d._id,classMasterId:null===l||void 0===l?void 0:l.applicationMaster,instituteId:a},n)})),A&&(0,x.jsx)(k.Z,{})]})},Be=e=>{let{applicationId:i,studentId:n,statusId:l,onRefetch:a,isSelected:s}=e;const[o,d]=(0,t.useState)(!1),[c]=(0,v.FG)(),[r]=(0,v.IG)();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("img",{src:"/images/member_tab/admission/admission-undo-icon.svg",alt:"undo icon",style:{cursor:"pointer",width:"30px"},onClick:e=>{e.stopPropagation(),l&&n&&i&&("Not Collected"===s?(d((e=>!e)),c({sid:n,aid:i,revertData:{statusId:l}}).then((()=>{a(),d((e=>!e))})).catch({})):"Collected"===s&&(d((e=>!e)),r({sid:n,aid:i,revertData:{statusId:l}}).then((()=>{a(),d((e=>!e))})).catch({})))},title:"Not Collected"===s?"Undo Application":"Undo Collect Document"}),o&&(0,x.jsx)(M.Z,{})]})},Ge=e=>{var i,n,t,l,a,s,o,d,c,r,u,v,_,h,f,j,S,b,N,A,y,C,Z,I,E,P,T,R,k,D,w,O,M,L,F,U,B,G;let{applicant:H,onSelectOffileFees:V,onCollectDocs:W,onEditFee:J,instituteId:$,applicationId:Y,onRefetch:z}=e;const{t:Q}=(0,p.$G)(),X=(0,g.UO)(),K=(0,g.s0)(),ee=e=>{e.stopPropagation(),W(H)},ie=e=>{var i;e.stopPropagation(),J(null===H||void 0===H||null===(i=H.student)||void 0===i?void 0:i._id)};return(0,x.jsxs)("div",{className:ce.Z.applicant_card_container,onClick:()=>{var e;K("/q/".concat(X.username,"/student/profile"),{state:{sid:null===H||void 0===H||null===(e=H.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:$}})},title:"View Profile",children:[(0,x.jsxs)("div",{className:ce.Z.applicant_card_inner,children:[(0,x.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===H||void 0===H||null===(i=H.student)||void 0===i?void 0:i.photoId)?"".concat(m.yI,"/").concat(null===H||void 0===H||null===(n=H.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,x.jsxs)("div",{className:ce.Z.applicant_card_inner_info,children:[(0,x.jsx)("h6",{children:"".concat(null===H||void 0===H||null===(t=H.student)||void 0===t?void 0:t.studentFirstName," ").concat(null!==H&&void 0!==H&&null!==(l=H.student)&&void 0!==l&&l.studentMiddleName?null===H||void 0===H||null===(a=H.student)||void 0===a?void 0:a.studentMiddleName:""," ").concat(null===H||void 0===H||null===(s=H.student)||void 0===s?void 0:s.studentLastName)}),(0,x.jsxs)("h6",{children:[Q("fee_structure")," : ",null!==(o=null===H||void 0===H||null===(d=H.student)||void 0===d||null===(c=d.fee_structure)||void 0===c||null===(r=c.category_master)||void 0===r?void 0:r.category_name)&&void 0!==o?o:"",", ",Q("rs")," ",null!==(u=null===H||void 0===H||null===(v=H.student)||void 0===v||null===(_=v.fee_structure)||void 0===_?void 0:_.applicable_fees)&&void 0!==u?u:""]}),(0,x.jsx)("p",{children:null!==H&&void 0!==H&&H.install_type?null===H||void 0===H?void 0:H.install_type:"\n          ".concat(Q("select_on"),":\n          ").concat(q()(null===H||void 0===H?void 0:H.select_on).format("DD MMM yyyy"))})]})]}),(0,x.jsxs)("div",{className:ce.Z.applicant_card_contact,children:[(0,x.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,x.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,x.jsx)("p",{children:null===H||void 0===H||null===(h=H.student)||void 0===h?void 0:h.studentGender})]}),((null===H||void 0===H||null===(f=H.student)||void 0===f?void 0:f.studentPhoneNumber)||(null===H||void 0===H||null===(j=H.student)||void 0===j||null===(S=j.user)||void 0===S?void 0:S.userPhoneNumber)||(null===H||void 0===H||null===(b=H.student)||void 0===b||null===(N=b.user)||void 0===N?void 0:N.userEmail)||(null===H||void 0===H||null===(A=H.student)||void 0===A?void 0:A.studentParentsPhoneNumber))&&(0,x.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,x.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,x.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==H&&void 0!==H&&null!==(y=H.student)&&void 0!==y&&null!==(C=y.user)&&void 0!==C&&C.userPhoneNumber?null===H||void 0===H||null===(Z=H.student)||void 0===Z||null===(I=Z.user)||void 0===I?void 0:I.userPhoneNumber:null!==H&&void 0!==H&&null!==(E=H.student)&&void 0!==E&&null!==(P=E.user)&&void 0!==P&&P.userEmail?null===H||void 0===H||null===(T=H.student)||void 0===T||null===(R=T.user)||void 0===R?void 0:R.userEmail:null!==H&&void 0!==H&&null!==(k=H.student)&&void 0!==k&&k.studentPhoneNumber?null===H||void 0===H||null===(D=H.student)||void 0===D?void 0:D.studentPhoneNumber:null===H||void 0===H||null===(w=H.student)||void 0===w?void 0:w.studentParentsPhoneNumber})]})]}),(0,x.jsx)("div",{className:ce.Z.applicant_card_reciept,onClick:e=>{e.stopPropagation()},children:(0,x.jsx)("a",{href:"".concat(m.r3,"/").concat(null===H||void 0===H||null===(O=H.student)||void 0===O||null===(M=O.application_print)||void 0===M||null===(L=M[0])||void 0===L?void 0:L.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,x.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),"receipt requested"===(null===H||void 0===H||null===(F=H.payment_status)||void 0===F?void 0:F.toLowerCase())?(0,x.jsxs)("div",{className:ce.Z.selectBtnContainer,style:{display:"flex",justifyContent:"space-evenly"},children:[(0,x.jsx)("div",{className:ce.Z.receipt_requested_btn,onClick:e=>{e.stopPropagation()},children:Q("receipt_requested")}),(0,x.jsx)("img",{src:"/images/bank-edit-icon.svg",alt:"back arrow",className:ce.Z.back_icon,onClick:ie})]}):(0,x.jsxs)("div",{className:ce.Z.selectBtnContainer,style:{display:"flex",justifyContent:"space-evenly"},children:["pending"===(null===H||void 0===H||null===(U=H.payment_status)||void 0===U?void 0:U.toLowerCase())&&("Not Collected"===(null===H||void 0===H?void 0:H.docs_collect)?(0,x.jsx)("div",{className:ce.Z.onlineBtn,onClick:ee,children:Q("collect_docs")}):(0,x.jsx)("div",{className:ce.Z.selectBtn,onClick:e=>{e.stopPropagation(),V(H)},children:Q("collect_fee")})),"online"===(null===H||void 0===H||null===(B=H.payment_status)||void 0===B?void 0:B.toLowerCase())&&(0,x.jsx)("div",{className:ce.Z.onlineBtn,onClick:ee,children:Q("collect_docs")}),(0,x.jsx)("img",{src:"/images/bank-edit-icon.svg",alt:"back arrow",className:ce.Z.back_icon,onClick:ie})]}),(0,x.jsx)(Be,{applicationId:Y,studentId:null===H||void 0===H||null===(G=H.student)||void 0===G?void 0:G._id,statusId:"Not Collected"===(null===H||void 0===H?void 0:H.docs_collect)?null===H||void 0===H?void 0:H.revert_request_status:"Collected"===(null===H||void 0===H?void 0:H.docs_collect)?null===H||void 0===H?void 0:H.status_id:"",onRefetch:z,isSelected:null===H||void 0===H?void 0:H.docs_collect})]})},He=e=>{var i,n,l,a,s,o;let{currentApplicant:d,onClose:c,applicationId:r,onRefetchWhenConfirm:u}=e;const{t:_}=(0,p.$G)(),[h,f]=(0,t.useState)(!1),[g]=(0,v.mZ)(),[j]=(0,v.pc)();return(0,x.jsxs)(L.Z,{onClose:c,children:[(0,x.jsxs)("div",{className:ce.Z.not_confirm_container,children:[(0,x.jsx)("h6",{children:_("admission_status")}),(0,x.jsx)(D.Z,{customStyle:{marginLeft:"-2rem",width:"130%"}}),(0,x.jsxs)("section",{className:ce.Z.applicant_profile,children:[(0,x.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===d||void 0===d||null===(i=d.student)||void 0===i?void 0:i.photoId)?"".concat(m.yI,"/").concat(null===d||void 0===d||null===(n=d.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,x.jsxs)("div",{className:ce.Z.applicant_profile_text,children:[(0,x.jsx)("h6",{children:"".concat(null===d||void 0===d||null===(l=d.student)||void 0===l?void 0:l.studentFirstName," ").concat(null!==d&&void 0!==d&&null!==(a=d.student)&&void 0!==a&&a.studentMiddleName?null===d||void 0===d||null===(s=d.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null===d||void 0===d||null===(o=d.student)||void 0===o?void 0:o.studentLastName)}),(0,x.jsxs)("p",{children:[_("applied")," ",q()(null===d||void 0===d?void 0:d.select_on).format("DD MMM yyyy")]})]})]}),(0,x.jsxs)("section",{className:ce.Z.button_group,children:[(0,x.jsx)("button",{onClick:()=>{var e,i;r&&null!==d&&void 0!==d&&null!==(e=d.student)&&void 0!==e&&e._id&&(f((e=>!e)),g({aid:r,sid:null===d||void 0===d||null===(i=d.student)||void 0===i?void 0:i._id}).then((()=>{u(),c(),f((e=>!e))})).catch((()=>{f((e=>!e))})))},children:_("confirm")}),(0,x.jsx)("button",{onClick:()=>{var e,i;r&&null!==d&&void 0!==d&&null!==(e=d.student)&&void 0!==e&&e._id&&(f((e=>!e)),j({aid:r,sid:null===d||void 0===d||null===(i=d.student)||void 0===i?void 0:i._id}).then((()=>{u(),c(),f((e=>!e))})).catch((()=>{f((e=>!e))})))},children:_("reject")})]})]}),h&&(0,x.jsx)(M.Z,{})]})};const Ve=function(e){var i,n,l,a;let{applicationId:s,currentApplicant:o,onRefetchWhenConfirm:d,onClose:c}=e;const{t:r}=(0,p.$G)(),[u,m]=(0,t.useState)(!1),[_]=(0,v.K7)();return(0,x.jsxs)(L.Z,{onClose:c,children:[(0,x.jsxs)("div",{className:ce.Z.not_confirm_container,children:[(0,x.jsx)("h6",{children:r("collect_required_document")}),(0,x.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,x.jsxs)("section",{className:ce.Z.admission_collect_docs,children:[(0,x.jsx)("p",{children:r("collecting_documents_of_student")}),(0,x.jsx)("h6",{children:"".concat(null===o||void 0===o||null===(i=o.student)||void 0===i?void 0:i.studentFirstName," ").concat(null!==o&&void 0!==o&&null!==(n=o.student)&&void 0!==n&&n.studentMiddleName?null===o||void 0===o||null===(l=o.student)||void 0===l?void 0:l.studentMiddleName:""," ").concat(null===o||void 0===o||null===(a=o.student)||void 0===a?void 0:a.studentLastName)})]}),(0,x.jsx)("button",{onClick:()=>{var e,i;null!==o&&void 0!==o&&null!==(e=o.student)&&void 0!==e&&e._id&&s&&(m(!0),_({sid:null===o||void 0===o||null===(i=o.student)||void 0===i?void 0:i._id,aid:s}).then((()=>{d(),c(),m(!1)})).catch({}))},className:ce.Z.confirm_btn,children:r("confirm")})]}),u&&(0,x.jsx)(M.Z,{})]})};var We=n(49886),Je=n(97655),$e=n(59965);const Ye=function(e){var i,n,l,a,s;let{currentApplicant:o,applicationId:d,onRefetchWhenConfirm:c,onClose:r}=e;const[u,m]=(0,t.useState)(!1),{t:_}=(0,p.$G)(),[h,f]=(0,t.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),[g,j]=(0,t.useState)({msg:"",run:!1}),[S,b]=(0,t.useState)(""),[N]=(0,v.Vd)(),A=e=>{"fee_payment_mode"===e.target.name?f((i=>({...i,[e.target.name]:e.target.value,mode:"By Cash"===e.target.value?"Offline":"Online",fee_payment_mode:e.target.value}))):f((i=>({...i,[e.target.name]:e.target.value})))};return(0,x.jsxs)(L.Z,{onClose:r,children:[(0,x.jsxs)("div",{className:ce.Z.admission_modal,children:[(0,x.jsx)("h6",{className:ce.Z.admission_modal_heading,children:_("collect_fees")}),(0,x.jsx)(D.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),(0,x.jsxs)("div",{className:ce.Z.admission_fees_row,children:[(0,x.jsxs)("h6",{children:[_("applicable_amount")," :"]}),(0,x.jsxs)("h6",{children:[_("rs"),"."," ",null===o||void 0===o||null===(i=o.student)||void 0===i||null===(n=i.fee_structure)||void 0===n?void 0:n.applicable_fees]})]}),(0,x.jsx)(Je.Z,{labelText:"".concat(_("amount_first_installment")," ").concat(null===o||void 0===o||null===(l=o.student)||void 0===l||null===(a=l.fee_structure)||void 0===a||null===(s=a.one_installments)||void 0===s?void 0:s.fees),name:"amount",type:"tel",value:h.amount,onChange:e=>{f((i=>({...i,amount:+e.target.value,fee_payment_amount:+e.target.value})))},placeholder:_("amoute_details_collect"),errorShow:S.fee_payment_amount,customStyleLabel:{marginTop:"15px",marginBottom:"7px"},customStyleContainer:{marginBottom:"15px"}}),(0,x.jsx)(We.Z,{paymentHeading:_("payment_type_mode"),onInputChange:A,errorShow:S.fee_payment_mode}),(0,x.jsx)($e.Z,{labelText:_("select_date_of_transaction"),placeholder:_("please_select_date"),name:"transaction_date",value:h.transaction_date,onDateFunction:e=>{const i=null===e||void 0===e?void 0:e.split("/");f((e=>({...e,transaction_date:"".concat(i[2],"-").concat(i[1],"-").concat(i[0])})))},customStyleContainer:{position:"relative",marginTop:"0.5rem"},datePickerPosition:{position:"relative",top:"-20rem"},customStyleLabel:{marginTop:"15px"},errorShow:S.transaction_date}),"By Cash"===h.fee_payment_mode?"":(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Je.Z,{labelText:_("bank_name_collect"),name:"fee_bank_name",type:"tel",value:h.fee_bank_name,onChange:A,placeholder:_("please_enter_bank_name"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,x.jsx)(Je.Z,{labelText:_("banke_holder_name"),name:"fee_bank_holder",type:"tel",value:h.fee_bank_holder,onChange:A,placeholder:_("please_enter_name_of_bank_holder"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,x.jsx)(Je.Z,{labelText:_("cheque_dd_neft"),name:"fee_utr_reference",type:"tel",value:h.fee_utr_reference,onChange:A,placeholder:_("please_enter_utr_ref_number"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}})]}),(0,x.jsx)("div",{className:ce.Z.confirm_btn,onClick:()=>{const e=(e=>{const i={};for(let l in e){var n,t;"fee_bank_name"===l||"fee_bank_holder"===l||"fee_utr_reference"===l||"amount"===l||"mode"===l||(e[l]?"fee_payment_amount"===l&&(e[l]<=(null===o||void 0===o||null===(n=o.student)||void 0===n||null===(t=n.fee_structure)||void 0===t?void 0:t.total_admission_fees)||(j({msg:"You can not enter amount greater than Admission fees.",run:!0}),i.fee_payment_amount="".concat(l," is required!"))):i[l]="".concat(l," is required!"))}return i})(h);let i=!1;for(let a in e){i=!0;break}if(i)b(e);else{var n,t,l;m(!0);const e={sid:null===o||void 0===o||null===(n=o.student)||void 0===n?void 0:n._id,aid:d,confirm_data:h,receipt_status:"Fee Receipt Not Generated"===h.fee_payment_mode?"Fee Receipt Not Generated":""};""!==(null===e||void 0===e?void 0:e.sid)&&""!==(null===e||void 0===e?void 0:e.aid)&&(null===e||void 0===e||null===(t=e.confirm_data)||void 0===t?void 0:t.amount)>0&&""!==(null===e||void 0===e||null===(l=e.confirm_data)||void 0===l?void 0:l.mode)?N(e).then((e=>{e.data.confirm_status&&(c(),r(!1),m(!1))})).catch({}):m(!1)}},children:_("collect")}),(0,x.jsx)(Pe.Ch,{msg:g.msg,run:g.run,setRun:()=>j({msg:"",run:!1}),postiton:"bottom",type:"error"})]}),u&&(0,x.jsx)(M.Z,{})]})};const ze=function(e){var i,n;let{applicationId:l,applicationDetail:a,carryParentState:s,accessRole:o,accessTpye:d,instituteId:c,applicationDetailApplicablePending:r,pageOpenAs:u}=e;const[m,p]=(0,t.useState)(!0),[_,h]=(0,t.useState)(1),[f,g]=(0,t.useState)(""),[j,S]=(0,R.YD)(),[b,N]=(0,t.useState)([]),[A,y]=(0,t.useState)(!1),[C,Z]=(0,t.useState)(!0),[I,E]=(0,t.useState)(""),[P,T]=(0,t.useState)(""),[D,w]=(0,t.useState)(!1),[O]=(0,v.lw)(),{getAllSelectList:L,getAllSelectListRefetch:F}=(0,v.sR)({data:{id:l,page:_,limit:10,search:f||""},skip:!l}),{scrollToTop:U}=(0,Q.u)();(0,t.useEffect)((()=>{U()}),[]),(0,t.useEffect)((()=>{S&&m&&h((e=>e+1))}),[S,m]),(0,t.useEffect)((()=>{l&&(Z(!0),F())}),[_,l,F,f]),(0,t.useEffect)((()=>{var e,i;f?(N(null===L||void 0===L?void 0:L.select),Z(!1)):A?(N(null===L||void 0===L?void 0:L.select),y(!1),Z(!1)):null!==L&&void 0!==L&&L.select?(N((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===L||void 0===L?void 0:L.select])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),Z(!1)):0===(null===L||void 0===L||null===(i=L.select)||void 0===i?void 0:i.length)&&Z(!1);10===(null===L||void 0===L||null===(e=L.select)||void 0===e?void 0:e.length)?p(!0):p(!1)}),[null===L||void 0===L?void 0:L.select]);const q=()=>{h(1),F(),y(!0)},B=(0,t.useCallback)((0,Ze.debounce)((e=>g(e)),500),[]),G=e=>{T(e),E("COLLECT_FEES")},H=e=>{T(e),E("COLLECT_DOCS")},V=e=>{T(e),E("EDIT_STRUCTURE")},W=e=>{T(e),E("MARK_CONFIRM")};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(we,{applicationDetail:a,carryParentState:s,instituteId:c,applicationDetailApplicablePending:r,pageOpenAs:u,children:(0,x.jsx)("input",{type:"text",placeholder:"Search applications...",onChange:e=>{B(e.target.value)}})}),(0,x.jsx)(Me,{carryParentState:s,accessRole:o,accessTpye:d,pageOpenAs:u}),null===b||void 0===b?void 0:b.map(((e,i)=>(null===b||void 0===b?void 0:b.length)===i+1?(0,x.jsx)("div",{ref:j,children:(0,x.jsx)(Ge,{applicant:e,onEditFee:V,onSelectOffileFees:G,onCollectDocs:H,onNotConfirm:W,instituteId:c,applicationId:l,onRefetch:q})},i):(0,x.jsx)(Ge,{applicant:e,onEditFee:V,onSelectOffileFees:G,onCollectDocs:H,onNotConfirm:W,instituteId:c,applicationId:l,onRefetch:q},i))),C&&(0,x.jsx)(k.Z,{}),"MARK_CONFIRM"===I&&(0,x.jsx)(He,{currentApplicant:P,applicationId:l,onClose:()=>E(""),onRefetchWhenConfirm:q}),"EDIT_STRUCTURE"===I&&(0,x.jsx)(Le.Z,{departmentId:null===a||void 0===a||null===(i=a.applicationDepartment)||void 0===i?void 0:i._id,batchId:null===a||void 0===a||null===(n=a.applicationBatch)||void 0===n?void 0:n._id,classMasterId:null===a||void 0===a?void 0:a.applicationMaster,onClose:()=>E(""),onSelectedStudent:e=>{""!==P&&""!==l&&(w((e=>!e)),O({sid:P,aid:l,editStructure:{fee_struct:e}}).then((()=>{q(),w((e=>!e))})).catch((()=>{w((e=>!e))})))},asOpen:"SELECTED_TAB"}),"COLLECT_DOCS"===I&&(0,x.jsx)(Ve,{currentApplicant:P,applicationId:l,onClose:()=>E(""),onRefetchWhenConfirm:q}),"COLLECT_FEES"===I&&(0,x.jsx)(Ye,{onClose:()=>E(""),currentApplicant:P,applicationId:l,onRefetchWhenConfirm:q}),D&&(0,x.jsx)(M.Z,{})]})};var Qe=n(37782);const Xe=e=>{var i,l,a,s,o,d,c,r,u,_,h,f,j,S,b,N,A,y,C,Z,I,E,P,T,R,k,D,w,O;let{onAllotApplicantBatch:L,onCancelAdmission:F,applicant:U,instituteId:q}=e;const{t:B}=(0,p.$G)(),G=(0,g.UO)(),H=(0,g.s0)(),[V,W]=(0,t.useState)(""),[J,$]=(0,t.useState)(!1),[Y,z]=(0,t.useState)(""),{getFeeReceiptDetail:Q,getFeeReceiptDetailRefetch:X}=(0,v.$d)({rid:V,skip:!V});(0,t.useEffect)((()=>{V&&X()}),[V,X]),(0,t.useEffect)((()=>{null!==Q&&void 0!==Q&&Q.receipt&&null!==Q&&void 0!==Q&&Q.all_remain&&z(Q)}),[Q]),(0,t.useEffect)((()=>{if(Y){const{institute:e,studentInfo:i,paymentReceiptInfo:t}=(0,Qe.Hs)(null===Y||void 0===Y?void 0:Y.all_remain,null===Y||void 0===Y?void 0:Y.receipt),l=new Worker(new URL(n.p+n.u(5520),n.b));l.postMessage({institute:e,studentInfo:i,paymentReceiptInfo:t,printReceiptType:"Refunded"===(null===t||void 0===t?void 0:t.transactonRefund)?"ADMISSION_REFUND":"ADMISSION"}),l.onmessage=e=>{e&&(window.open(e.data,"_blank"),$((e=>!e)),z(""),l.terminate())}}}),[Y]);return(0,x.jsxs)("div",{className:ce.Z.applicant_card_container,onClick:()=>{var e;H("/q/".concat(G.username,"/student/profile"),{state:{sid:null===U||void 0===U||null===(e=U.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:q}})},title:"View Profile",children:[(0,x.jsxs)("div",{className:ce.Z.applicant_card_inner,children:[(0,x.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===U||void 0===U||null===(i=U.student)||void 0===i?void 0:i.photoId)?"".concat(m.yI,"/").concat(null===U||void 0===U||null===(l=U.student)||void 0===l?void 0:l.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,x.jsxs)("div",{className:ce.Z.applicant_card_inner_info,children:[(0,x.jsx)("h6",{children:"".concat(null===U||void 0===U||null===(a=U.student)||void 0===a?void 0:a.studentFirstName," ").concat(null!==U&&void 0!==U&&null!==(s=U.student)&&void 0!==s&&s.studentMiddleName?null===U||void 0===U||null===(o=U.student)||void 0===o?void 0:o.studentMiddleName:""," ").concat(null===U||void 0===U||null===(d=U.student)||void 0===d?void 0:d.studentLastName)}),(0,x.jsx)("p",{onClick:e=>{e.stopPropagation(),F(U)},className:ce.Z.cancelStatus,children:B("cancel_admision")})]})]}),(0,x.jsxs)("div",{className:ce.Z.applicant_card_contact,children:[(0,x.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,x.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,x.jsx)("p",{children:null===U||void 0===U||null===(c=U.student)||void 0===c?void 0:c.studentGender})]}),((null===U||void 0===U||null===(r=U.student)||void 0===r?void 0:r.studentPhoneNumber)||(null===U||void 0===U||null===(u=U.student)||void 0===u||null===(_=u.user)||void 0===_?void 0:_.userPhoneNumber)||(null===U||void 0===U||null===(h=U.student)||void 0===h||null===(f=h.user)||void 0===f?void 0:f.userEmail)||(null===U||void 0===U||null===(j=U.student)||void 0===j?void 0:j.studentParentsPhoneNumber))&&(0,x.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,x.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,x.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==U&&void 0!==U&&null!==(S=U.student)&&void 0!==S&&null!==(b=S.user)&&void 0!==b&&b.userPhoneNumber?null===U||void 0===U||null===(N=U.student)||void 0===N||null===(A=N.user)||void 0===A?void 0:A.userPhoneNumber:null!==U&&void 0!==U&&null!==(y=U.student)&&void 0!==y&&null!==(C=y.user)&&void 0!==C&&C.userEmail?null===U||void 0===U||null===(Z=U.student)||void 0===Z||null===(I=Z.user)||void 0===I?void 0:I.userEmail:null!==U&&void 0!==U&&null!==(E=U.student)&&void 0!==E&&E.studentPhoneNumber?null===U||void 0===U||null===(P=U.student)||void 0===P?void 0:P.studentPhoneNumber:null===U||void 0===U||null===(T=U.student)||void 0===T?void 0:T.studentParentsPhoneNumber})]})]}),(0,x.jsx)("div",{className:ce.Z.applicant_card_reciept,onClick:e=>{e.stopPropagation()},children:(0,x.jsx)("a",{href:"".concat(m.r3,"/").concat(null===U||void 0===U||null===(R=U.student)||void 0===R||null===(k=R.application_print)||void 0===k||null===(D=k[0])||void 0===D?void 0:D.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-4.5px"},children:(0,x.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,x.jsx)("div",{className:ce.Z.applicant_card_reciept,children:null===U||void 0===U||null===(w=U.student)||void 0===w||null===(O=w.fee_receipt)||void 0===O?void 0:O.map(((e,i)=>i>2?"":(0,x.jsx)("img",{src:"/images/member_tab/admission/admission-receipt-download.svg",onClick:i=>((e,i)=>{e.stopPropagation(),$((e=>!e)),W(i),V===i&&z(Q)})(i,e),alt:"receipt icon",title:"Download Fees Receipt"},e)))}),(0,x.jsx)("div",{className:ce.Z.selectBtnContainer,style:{width:"auto"},children:(0,x.jsx)("div",{className:ce.Z.selectBtn,onClick:e=>{e.stopPropagation(),L(U)},children:B("allot_class")})}),J&&(0,x.jsx)(M.Z,{})]})};const Ke=function(e){var i,n,l,a;let{onRefetchWhenAction:s,applicationId:o,currentApplicant:d,onClose:c}=e;const{t:r}=(0,p.$G)(),[u,m]=(0,t.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),[_,h]=(0,t.useState)(""),[f,g]=(0,t.useState)(0),[j,S]=(0,t.useState)({msg:"",run:!1}),[b,N]=(0,t.useState)(!1),[A]=(0,v.PE)();(0,t.useEffect)((()=>{var e,i;if(null!==d&&void 0!==d&&null!==(e=d.student)&&void 0!==e&&null!==(i=e.paidFeeList)&&void 0!==i&&i.length){var n,t,l,a;const e=null===d||void 0===d||null===(n=d.student)||void 0===n||null===(t=n.paidFeeList)||void 0===t?void 0:t.filter((e=>(null===e||void 0===e?void 0:e.appId)===o));g(null!==(l=null===e||void 0===e||null===(a=e[0])||void 0===a?void 0:a.paidAmount)&&void 0!==l?l:0)}}),[null===d||void 0===d||null===(i=d.student)||void 0===i?void 0:i.paidFeeList]);const y=e=>{"fee_payment_mode"===e.target.name?m((i=>({...i,[e.target.name]:e.target.value,mode:"By Cash"===e.target.value?"Offline":"Online",fee_payment_mode:e.target.value}))):m((i=>({...i,[e.target.name]:e.target.value})))};return(0,x.jsxs)(L.Z,{onClose:c,children:[(0,x.jsxs)("div",{className:ce.Z.admission_modal,children:[(0,x.jsx)("h6",{className:ce.Z.admission_modal_heading,children:r("cancel_addmission")}),(0,x.jsx)(D.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),(0,x.jsxs)("div",{className:ce.Z.admission_fees_row,children:[(0,x.jsxs)("h6",{children:[r("total_admission_fees")," :"]}),(0,x.jsxs)("h6",{children:[r("rs"),"."," ",null!==(n=null===d||void 0===d||null===(l=d.student)||void 0===l||null===(a=l.fee_structure)||void 0===a?void 0:a.total_admission_fees)&&void 0!==n?n:0]})]}),(0,x.jsxs)("div",{className:ce.Z.admission_fees_row,children:[(0,x.jsxs)("h6",{children:[r("fees_paid")," :"]}),(0,x.jsxs)("h6",{children:[r("rs"),". ",f]})]}),(0,x.jsx)(We.Z,{paymentHeading:r("refund_payment_type_mode"),onInputChange:y,errorShow:_.fee_payment_mode}),(0,x.jsx)(Je.Z,{labelText:r("refund_amount"),name:"amount",type:"tel",value:u.amount,onChange:e=>{m((i=>({...i,amount:+e.target.value,fee_payment_amount:+e.target.value})))},placeholder:r("please_enter_refund_amount"),errorShow:_.fee_payment_amount}),(0,x.jsx)($e.Z,{labelText:r("select_date_of_transaction"),placeholder:r("please_select_date"),name:"transaction_date",value:u.transaction_date,onDateFunction:e=>{const i=null===e||void 0===e?void 0:e.split("/");m((e=>({...e,transaction_date:"".concat(i[2],"-").concat(i[1],"-").concat(i[0])})))},customStyleContainer:{position:"relative",marginTop:"0.5rem"},datePickerPosition:{position:"relative",top:"-20rem"},customStyleLabel:{marginTop:"15px"},errorShow:_.transaction_date}),(0,x.jsx)("h6",{style:{marginTop:"0.5rem"},children:r("paid_to")}),(0,x.jsx)(Je.Z,{labelText:r("bank_name_collect"),name:"fee_bank_name",type:"tel",value:u.fee_bank_name,onChange:y,placeholder:r("please_enter_bank_name"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,x.jsx)(Je.Z,{labelText:r("banke_holder_name"),name:"fee_bank_holder",type:"tel",value:u.fee_bank_holder,onChange:y,placeholder:r("please_enter_name_of_bank_holder"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,x.jsx)(Je.Z,{labelText:r("cheque_dd_neft"),name:"fee_utr_reference",type:"tel",value:u.fee_utr_reference,onChange:y,placeholder:r("please_enter_utr_ref_number"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,x.jsx)("div",{className:ce.Z.confirm_btn,onClick:()=>{const e=(e=>{const i={};for(let n in e)"fee_bank_name"===n||"fee_bank_holder"===n||"fee_utr_reference"===n||"amount"===n||"mode"===n||(e[n]?"fee_payment_amount"===n&&(e[n]<=f||(S({msg:"You can not enter amount greater than fees paid",run:!0}),i.fee_payment_amount_issue="".concat(n," is required!"))):i[n]="".concat(n," is required!"));return i})(u);let i=!1;for(let s in e){i=!0;break}if(i)h(e);else{var n,t,l;N(!0);var a={sid:null===d||void 0===d||null===(n=d.student)||void 0===n?void 0:n._id,aid:o,cancel_data:{...u,remainAmount:null!==(t=null===d||void 0===d?void 0:d.fee_remain)&&void 0!==t?t:0}};""!==(null===a||void 0===a?void 0:a.sid)&&""!==(null===a||void 0===a?void 0:a.aid)&&(null===a||void 0===a||null===(l=a.cancel_data)||void 0===l?void 0:l.amount)>0&&A(a).then((e=>{var i;e.data.refund_status?(s(),c(),N(!1)):(S({msg:null===(i=e.data)||void 0===i?void 0:i.message,run:!0}),N(!1))})).catch({})}},children:r("confirm")}),(0,x.jsx)(Pe.Ch,{msg:j.msg,run:j.run,setRun:()=>S({msg:"",run:!1}),postiton:"bottom",type:"error"})]}),b&&(0,x.jsx)(M.Z,{})]})},ei=e=>{var i;let{applicationId:n,onAllotApplicantClasses:l,onClose:a}=e;const{t:s}=(0,p.$G)(),[o,d]=(0,t.useState)(!0),{admissionBatchList:c,admissionBatchListRefetch:r}=(0,v.j5)({aid:n,skip:!n});(0,t.useEffect)((()=>{n&&(d(!0),r())}),[n,r]);return(0,t.useEffect)((()=>{null!==c&&void 0!==c&&c.batch&&d(!1)}),[null===c||void 0===c?void 0:c.batch]),(0,x.jsx)(L.Z,{onClose:a,children:(0,x.jsxs)("div",{className:ce.Z.admission_modal,children:[(0,x.jsx)("h6",{className:ce.Z.admission_modal_heading,children:s("select_batch")}),(0,x.jsx)(D.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),null===c||void 0===c||null===(i=c.batch)||void 0===i?void 0:i.map((e=>(0,x.jsxs)("div",{className:ce.Z.admission_confirm_batch_card,onClick:()=>{return i=null===e||void 0===e?void 0:e._id,void l(i);var i},children:[(0,x.jsx)("img",{src:"/images/allot-class-icon.svg",alt:"Class Avatar"}),(0,x.jsx)("div",{className:ce.Z.admission_collect_docs,style:{marginTop:"0"},children:(0,x.jsx)("h6",{children:null===e||void 0===e?void 0:e.batchName})})]},null===e||void 0===e?void 0:e._id))),o&&(0,x.jsx)(k.Z,{})]})})};var ii=n(15415);const ni=e=>{var i,n,l,a;let{onClose:s,currentApplicant:o,applicationId:d,onRefetchWhenAction:c,batchId:r,openAs:u}=e;const[m,_]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1),[g,j]=(0,t.useState)(""),{t:S}=(0,p.$G)(),[b,N]=(0,t.useState)(1),[A,y]=(0,t.useState)(!0),[C,Z]=(0,R.YD)(),[I,E]=(0,t.useState)(""),[P,T]=(0,t.useState)([]),[w,O]=(0,t.useState)(!0),{getAllClassesList:F,getAllClassesListRefetch:U}=(0,v.Ds)({data:{search:I,aid:d,bid:r,page:b,limit:10},skip:!d||!r}),[q]=(0,v.ht)();(0,t.useEffect)((()=>{d&&(O(!0),U())}),[d,U,b,I]),(0,t.useEffect)((()=>{Z&&A&&N((e=>e+1))}),[Z,A]),(0,t.useEffect)((()=>{var e;I?(T(null===F||void 0===F?void 0:F.classes),O(!1)):null!==F&&void 0!==F&&F.classes?(T((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===F||void 0===F?void 0:F.classes])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),O(!1)):0===(null===F||void 0===F||null===(e=F.classes)||void 0===e?void 0:e.length)&&O(!1);10===(null===F||void 0===F?void 0:F.classes.length)?y(!0):y(!1)}),[null===F||void 0===F?void 0:F.classes]);const B=(0,t.useCallback)((0,Ze.debounce)((e=>E(e)),500),[]);return(0,x.jsx)(L.Z,{onClose:s,children:(0,x.jsxs)("div",{className:ce.Z.admission_modal,children:[(0,x.jsx)("h6",{className:ce.Z.admission_modal_heading,children:S(m?"allot_to_class":"allot_class")}),(0,x.jsx)(D.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),m?"":(0,x.jsx)("div",{className:ce.Z.with_search,style:{marginBottom:"0.7rem"},children:(0,x.jsx)("div",{className:ce.Z.search_container_filter,style:{width:"100%"},children:(0,x.jsx)("section",{className:ce.Z.search_container,style:{width:"100%"},children:(0,x.jsxs)("div",{className:ce.Z.search_container_input,style:{width:"100%"},children:[(0,x.jsx)("img",{className:ce.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,x.jsx)("input",{type:"text",placeholder:"Search classes...",onChange:e=>{B(e.target.value)}})]})})})}),m?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:ce.Z.admission_class_confirm,children:["MULITSELECT"===u?(0,x.jsxs)(x.Fragment,{children:[S("alloting")," ",(0,x.jsx)("span",{style:{fontWeight:"600"},children:null===o||void 0===o?void 0:o.length})," ",S("students")," "," "]}):(0,x.jsxs)(x.Fragment,{children:[S("lloting_student")," ",(0,x.jsx)("span",{style:{fontWeight:"600"},children:" ".concat(null===o||void 0===o||null===(i=o.student)||void 0===i?void 0:i.studentFirstName," ").concat(null!==o&&void 0!==o&&null!==(n=o.student)&&void 0!==n&&n.studentMiddleName?null===o||void 0===o||null===(l=o.student)||void 0===l?void 0:l.studentMiddleName:""," ").concat(null===o||void 0===o||null===(a=o.student)||void 0===a?void 0:a.studentLastName," ")})]}),",",S("to")," ",(0,x.jsx)("span",{style:{fontWeight:"600"},children:" ".concat(null===g||void 0===g?void 0:g.className," - ").concat(null===g||void 0===g?void 0:g.classTitle)})]}),(0,x.jsx)("div",{className:ce.Z.confirm_btn,onClick:()=>{var e;d&&null!==g&&void 0!==g&&g._id&&o&&(f(!0),q({allotClass:{dataList:"MULITSELECT"===u?o:[null===o||void 0===o||null===(e=o.student)||void 0===e?void 0:e._id]},aid:d,cid:null===g||void 0===g?void 0:g._id}).then((()=>{c(),s(),f(!1)})).catch({}))},children:S("confirm")})]}):(0,x.jsxs)(x.Fragment,{children:[null===P||void 0===P?void 0:P.map(((e,i)=>(null===P||void 0===P?void 0:P.length)===i+1?(0,x.jsx)("div",{ref:C,children:(0,x.jsx)(ii.Z,{setViewClass:_,classData:e,setAllotC:j},i)}):(0,x.jsx)(ii.Z,{setViewClass:_,classData:e,setAllotC:j},i))),w&&(0,x.jsx)(k.Z,{})]}),h&&(0,x.jsx)(M.Z,{})]})})};const ti=function(e){let{carryParentState:i,applicationId:n,applicationDetail:l,accessRole:a,accessTpye:s,instituteId:o,callApi:d,applicationDetailApplicablePending:c,pageOpenAs:r}=e;const{t:u}=(0,p.$G)(),[m,_]=(0,t.useState)(!0),[h,f]=(0,t.useState)(1),[g,j]=(0,t.useState)(""),[S,b]=(0,R.YD)(),[N,A]=(0,t.useState)([]),[C,Z]=(0,t.useState)(!1),[I,E]=(0,t.useState)(!0),[P,T]=(0,t.useState)(""),[D,w]=(0,t.useState)(""),[O,M]=(0,t.useState)(""),{getAllConfirmList:L,getAllConfirmListRefetch:F}=(0,v.RR)({data:{id:n,page:h,limit:10,search:g||""},skip:!n}),{scrollToTop:U}=(0,Q.u)();(0,t.useEffect)((()=>{U()}),[]),(0,t.useEffect)((()=>{b&&m&&f((e=>e+1))}),[b,m]),(0,t.useEffect)((()=>{n&&(E(!0),F())}),[h,n,F,g]),(0,t.useEffect)((()=>{var e,i;g?(A(null===L||void 0===L?void 0:L.confirm),E(!1)):C?(A(null===L||void 0===L?void 0:L.confirm),Z(!1),E(!1)):null!==L&&void 0!==L&&L.confirm?(A((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===L||void 0===L?void 0:L.confirm])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),E(!1)):0===(null===L||void 0===L||null===(i=L.confirm)||void 0===i?void 0:i.length)&&E(!1);10===(null===L||void 0===L||null===(e=L.confirm)||void 0===e?void 0:e.length)?_(!0):_(!1)}),[null===L||void 0===L?void 0:L.confirm]);const q=()=>{f(1),F(),Z(!0)},B=(0,t.useCallback)((0,Ze.debounce)((e=>j(e)),500),[]),G=e=>{w(e),T("CANCEL_APPLICANT")},H=e=>{w(e),T("ALLOT_BATCH")};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(we,{applicationDetail:l,carryParentState:i,instituteId:o,tabStatusFlow:"Confirm_Query",applicationDetailApplicablePending:c,onRefetchConfirmTab:q,pageOpenAs:r,s:!0,children:(0,x.jsx)("input",{type:"text",placeholder:"Search applicants...",onChange:e=>{B(e.target.value)}})}),(0,x.jsx)(Me,{carryParentState:i,accessRole:a,accessTpye:s,pageOpenAs:r}),(0,x.jsx)("div",{className:ce.Z.end_btn,children:"INSTITUTE"===r?(0,x.jsx)(y,{carryParentState:i,activeTab:"?a=ongoing&n=mulitple",children:(0,x.jsx)("p",{className:ce.Z.mulitple_select_btn,children:u("multiple_select")})}):(0,x.jsx)(be,{carryParentState:i,accessRole:a,accessTpye:s,activeTab:"ongoing&n=mulitple",callApi:d,children:(0,x.jsx)("p",{className:ce.Z.mulitple_select_btn,children:u("multiple_select")})})}),null===N||void 0===N?void 0:N.map(((e,i)=>(null===N||void 0===N?void 0:N.length)===i+1?(0,x.jsx)("div",{ref:S,children:(0,x.jsx)(Xe,{applicant:e,onCancelAdmission:G,onAllotApplicantBatch:H,instituteId:o})},i):(0,x.jsx)(Xe,{applicant:e,onCancelAdmission:G,onAllotApplicantBatch:H,instituteId:o},i))),I&&(0,x.jsx)(k.Z,{}),"CANCEL_APPLICANT"===P&&(0,x.jsx)(Ke,{onClose:()=>T(""),currentApplicant:D,onRefetchWhenAction:q,applicationId:null===l||void 0===l?void 0:l._id}),"ALLOT_BATCH"===P&&(0,x.jsx)(ei,{onClose:()=>T(""),applicationId:null===l||void 0===l?void 0:l._id,onAllotApplicantClasses:e=>{M(e),T("ALLOT_CLASSES")}}),"ALLOT_CLASSES"===P&&(0,x.jsx)(ni,{onClose:()=>T(""),currentApplicant:D,onRefetchWhenAction:q,applicationId:null===l||void 0===l?void 0:l._id,batchId:O})]})},li=e=>{var i,l,a,s,o,d,c,r,u,p,_,h,f,j,S,b,N,A,y,C,Z,I,E,P,T,R,k,D,w;let{applicant:O}=e;const L=(0,g.UO)(),F=(0,g.s0)(),[U,q]=(0,t.useState)(""),[B,G]=(0,t.useState)(!1),[H,V]=(0,t.useState)(""),{getFeeReceiptDetail:W,getFeeReceiptDetailRefetch:J}=(0,v.$d)({rid:U,skip:!U});(0,t.useEffect)((()=>{U&&J()}),[U,J]),(0,t.useEffect)((()=>{null!==W&&void 0!==W&&W.receipt&&null!==W&&void 0!==W&&W.all_remain&&V(W)}),[W]),(0,t.useEffect)((()=>{if(H){const{institute:e,studentInfo:i,paymentReceiptInfo:t}=(0,Qe.Hs)(null===H||void 0===H?void 0:H.all_remain,null===H||void 0===H?void 0:H.receipt),l=new Worker(new URL(n.p+n.u(4473),n.b));l.postMessage({institute:e,studentInfo:i,paymentReceiptInfo:t,printReceiptType:"Refunded"===(null===t||void 0===t?void 0:t.transactonRefund)?"ADMISSION_REFUND":"ADMISSION"}),l.onmessage=e=>{e&&(window.open(e.data,"_blank"),G((e=>!e)),V(""),l.terminate())}}}),[H]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:ce.Z.applicant_card_container,onClick:()=>{var e;F("/q/".concat(L.username,"/student/profile"),{state:{sid:null===O||void 0===O||null===(e=O.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,x.jsxs)("div",{className:ce.Z.applicant_card_inner,children:[(0,x.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===O||void 0===O||null===(i=O.student)||void 0===i?void 0:i.photoId)?"".concat(m.yI,"/").concat(null===O||void 0===O||null===(l=O.student)||void 0===l?void 0:l.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,x.jsxs)("div",{className:ce.Z.applicant_card_inner_info,children:[(0,x.jsx)("h6",{children:"".concat(null===O||void 0===O||null===(a=O.student)||void 0===a?void 0:a.studentFirstName," ").concat(null!==O&&void 0!==O&&null!==(s=O.student)&&void 0!==s&&s.studentMiddleName?null===O||void 0===O||null===(o=O.student)||void 0===o?void 0:o.studentMiddleName:""," ").concat(null===O||void 0===O||null===(d=O.student)||void 0===d?void 0:d.studentLastName)}),(0,x.jsx)("p",{children:(null===O||void 0===O?void 0:O.alloted_class)||""})]})]}),(0,x.jsxs)("div",{className:ce.Z.applicant_card_contact,children:[(0,x.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,x.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,x.jsx)("p",{children:null===O||void 0===O||null===(c=O.student)||void 0===c?void 0:c.studentGender})]}),((null===O||void 0===O||null===(r=O.student)||void 0===r?void 0:r.studentPhoneNumber)||(null===O||void 0===O||null===(u=O.student)||void 0===u||null===(p=u.user)||void 0===p?void 0:p.userPhoneNumber)||(null===O||void 0===O||null===(_=O.student)||void 0===_||null===(h=_.user)||void 0===h?void 0:h.userEmail)||(null===O||void 0===O||null===(f=O.student)||void 0===f?void 0:f.studentParentsPhoneNumber))&&(0,x.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,x.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,x.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==O&&void 0!==O&&null!==(j=O.student)&&void 0!==j&&null!==(S=j.user)&&void 0!==S&&S.userPhoneNumber?null===O||void 0===O||null===(b=O.student)||void 0===b||null===(N=b.user)||void 0===N?void 0:N.userPhoneNumber:null!==O&&void 0!==O&&null!==(A=O.student)&&void 0!==A&&null!==(y=A.user)&&void 0!==y&&y.userEmail?null===O||void 0===O||null===(C=O.student)||void 0===C||null===(Z=C.user)||void 0===Z?void 0:Z.userEmail:null!==O&&void 0!==O&&null!==(I=O.student)&&void 0!==I&&I.studentPhoneNumber?null===O||void 0===O||null===(E=O.student)||void 0===E?void 0:E.studentPhoneNumber:null===O||void 0===O||null===(P=O.student)||void 0===P?void 0:P.studentParentsPhoneNumber})]})]}),(0,x.jsx)("div",{className:ce.Z.applicant_card_reciept,onClick:e=>{e.stopPropagation()},children:(0,x.jsx)("a",{href:"".concat(m.r3,"/").concat(null===O||void 0===O||null===(T=O.student)||void 0===T||null===(R=T.application_print)||void 0===R||null===(k=R[0])||void 0===k?void 0:k.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,x.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,x.jsx)("div",{className:ce.Z.applicant_card_reciept,children:null===O||void 0===O||null===(D=O.student)||void 0===D||null===(w=D.fee_receipt)||void 0===w?void 0:w.map(((e,i)=>i>2?"":(0,x.jsx)("img",{src:"/images/member_tab/admission/admission-receipt-download.svg",onClick:i=>((e,i)=>{e.stopPropagation(),G((e=>!e)),q(i),U===i&&V(W)})(i,e),alt:"receipt icon",title:"Download Fees Receipt"},e)))})]}),B&&(0,x.jsx)(M.Z,{})]})},ai=e=>{let{carryParentState:i,applicationId:n,applicationDetail:l,viewAs:a,accessRole:s,accessTpye:o,instituteId:d,applicationDetailApplicablePending:c,pageOpenAs:r}=e;const[u,m]=(0,t.useState)(!0),[p,_]=(0,t.useState)(1),[h,f]=(0,R.YD)(),[g,j]=(0,t.useState)([]),[S,b]=(0,t.useState)(!0),[N,A]=(0,t.useState)(""),{admissionAllottedList:y,admissionAllottedListRefetch:C}=(0,v.k8)({data:{aid:n,page:p,limit:10,search:N||""},skip:!n}),{scrollToTop:Z}=(0,Q.u)();(0,t.useEffect)((()=>{Z()}),[]),(0,t.useEffect)((()=>{f&&u&&_((e=>e+1))}),[f,u]),(0,t.useEffect)((()=>{n&&(b(!0),C())}),[p,n,C,N]),(0,t.useEffect)((()=>{var e,i;N?(j(null===y||void 0===y?void 0:y.allot),b(!1)):null!==y&&void 0!==y&&y.allot?(j((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===y||void 0===y?void 0:y.allot])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),b(!1)):0===(null===y||void 0===y||null===(i=y.allot)||void 0===i?void 0:i.length)&&b(!1);10===(null===y||void 0===y||null===(e=y.allot)||void 0===e?void 0:e.length)?m(!0):m(!1)}),[null===y||void 0===y?void 0:y.allot]);const I=(0,t.useCallback)((0,Ze.debounce)((e=>A(e)),500),[]);return(0,x.jsxs)(x.Fragment,{children:["COMPLETED_APPLICATION"===a?"":(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(we,{applicationDetail:l,carryParentState:i,instituteId:d,tabStatusFlow:"Allot_Query",applicationDetailApplicablePending:c,pageOpenAs:r,children:(0,x.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:e=>{I(e.target.value)}})}),(0,x.jsx)(Me,{carryParentState:i,accessRole:s,accessTpye:o,pageOpenAs:r})]}),null===g||void 0===g?void 0:g.map(((e,i)=>(null===g||void 0===g?void 0:g.length)===i+1?(0,x.jsx)("div",{ref:h,children:(0,x.jsx)(li,{applicant:e})},i):(0,x.jsx)(li,{applicant:e},i))),S&&(0,x.jsx)(k.Z,{})]})},si=e=>{var i,l,a,s,o,d,c,r,u,p,_,h,f,j,S,b,N,A,y,C,Z,I,E,P,T,R,k,D,w;let{applicant:O}=e;const L=(0,g.UO)(),F=(0,g.s0)(),[U,q]=(0,t.useState)(""),[B,G]=(0,t.useState)(!1),[H,V]=(0,t.useState)(""),{getFeeReceiptDetail:W,getFeeReceiptDetailRefetch:J}=(0,v.$d)({rid:U,skip:!U});(0,t.useEffect)((()=>{U&&J()}),[U,J]),(0,t.useEffect)((()=>{null!==W&&void 0!==W&&W.receipt&&null!==W&&void 0!==W&&W.all_remain&&V(W)}),[W]),(0,t.useEffect)((()=>{if(H){const{institute:e,studentInfo:i,paymentReceiptInfo:t}=(0,Qe.Hs)(null===H||void 0===H?void 0:H.all_remain,null===H||void 0===H?void 0:H.receipt),l=new Worker(new URL(n.p+n.u(5563),n.b));l.postMessage({institute:e,studentInfo:i,paymentReceiptInfo:t,printReceiptType:"Refunded"===(null===t||void 0===t?void 0:t.transactonRefund)?"ADMISSION_REFUND":"ADMISSION"}),l.onmessage=e=>{e&&(window.open(e.data,"_blank"),G((e=>!e)),V(""),l.terminate())}}}),[H]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:ce.Z.applicant_card_container,onClick:()=>{var e;F("/q/".concat(L.username,"/student/profile"),{state:{sid:null===O||void 0===O||null===(e=O.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,x.jsxs)("div",{className:ce.Z.applicant_card_inner,children:[(0,x.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===O||void 0===O||null===(i=O.student)||void 0===i?void 0:i.photoId)?"".concat(m.yI,"/").concat(null===O||void 0===O||null===(l=O.student)||void 0===l?void 0:l.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,x.jsxs)("div",{className:ce.Z.applicant_card_inner_info,children:[(0,x.jsx)("h6",{children:"".concat(null===O||void 0===O||null===(a=O.student)||void 0===a?void 0:a.studentFirstName," ").concat(null!==O&&void 0!==O&&null!==(s=O.student)&&void 0!==s&&s.studentMiddleName?null===O||void 0===O||null===(o=O.student)||void 0===o?void 0:o.studentMiddleName:""," ").concat(null===O||void 0===O||null===(d=O.student)||void 0===d?void 0:d.studentLastName)}),(0,x.jsxs)("p",{children:["Rs. ",null===O||void 0===O?void 0:O.refund_amount," ","Refund"===(null===O||void 0===O?void 0:O.payment_status)&&"Refunded"]})]})]}),(0,x.jsxs)("div",{className:ce.Z.applicant_card_contact,children:[(0,x.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,x.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,x.jsx)("p",{children:null===O||void 0===O||null===(c=O.student)||void 0===c?void 0:c.studentGender})]}),((null===O||void 0===O||null===(r=O.student)||void 0===r?void 0:r.studentPhoneNumber)||(null===O||void 0===O||null===(u=O.student)||void 0===u||null===(p=u.user)||void 0===p?void 0:p.userPhoneNumber)||(null===O||void 0===O||null===(_=O.student)||void 0===_||null===(h=_.user)||void 0===h?void 0:h.userEmail)||(null===O||void 0===O||null===(f=O.student)||void 0===f?void 0:f.studentParentsPhoneNumber))&&(0,x.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,x.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,x.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==O&&void 0!==O&&null!==(j=O.student)&&void 0!==j&&null!==(S=j.user)&&void 0!==S&&S.userPhoneNumber?null===O||void 0===O||null===(b=O.student)||void 0===b||null===(N=b.user)||void 0===N?void 0:N.userPhoneNumber:null!==O&&void 0!==O&&null!==(A=O.student)&&void 0!==A&&null!==(y=A.user)&&void 0!==y&&y.userEmail?null===O||void 0===O||null===(C=O.student)||void 0===C||null===(Z=C.user)||void 0===Z?void 0:Z.userEmail:null!==O&&void 0!==O&&null!==(I=O.student)&&void 0!==I&&I.studentPhoneNumber?null===O||void 0===O||null===(E=O.student)||void 0===E?void 0:E.studentPhoneNumber:null===O||void 0===O||null===(P=O.student)||void 0===P?void 0:P.studentParentsPhoneNumber})]})]}),(0,x.jsx)("div",{className:ce.Z.applicant_card_reciept,onClick:e=>{e.stopPropagation()},children:(0,x.jsx)("a",{href:"".concat(m.r3,"/").concat(null===O||void 0===O||null===(T=O.student)||void 0===T||null===(R=T.application_print)||void 0===R||null===(k=R[0])||void 0===k?void 0:k.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,x.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,x.jsx)("div",{className:ce.Z.applicant_card_reciept,children:null===O||void 0===O||null===(D=O.student)||void 0===D||null===(w=D.fee_receipt)||void 0===w?void 0:w.map(((e,i)=>i>2?"":(0,x.jsx)("img",{src:"/images/member_tab/admission/admission-receipt-download.svg",onClick:i=>((e,i)=>{e.stopPropagation(),G((e=>!e)),q(i),U===i&&V(W)})(i,e),alt:"receipt icon",title:"Download Fees Receipt"},e)))})]}),B&&(0,x.jsx)(M.Z,{})]})},oi=e=>{let{carryParentState:i,applicationId:n,applicationDetail:l,viewAs:a,accessRole:s,accessTpye:o,instituteId:d,applicationDetailApplicablePending:c,pageOpenAs:r}=e;const[u,m]=(0,t.useState)(!0),[p,_]=(0,t.useState)(1),[h,f]=(0,R.YD)(),[g,j]=(0,t.useState)([]),[S,b]=(0,t.useState)(""),[N,A]=(0,t.useState)(!0),{admissionCancelledList:y,admissionCancelledListRefetch:C}=(0,v.wd)({data:{aid:n,page:p,limit:10,search:S||""},skip:!n}),{scrollToTop:Z}=(0,Q.u)();(0,t.useEffect)((()=>{Z()}),[]),(0,t.useEffect)((()=>{f&&u&&_((e=>e+1))}),[f,u]),(0,t.useEffect)((()=>{n&&(A(!0),C())}),[p,n,C]),(0,t.useEffect)((()=>{var e,i;S?(j(null===y||void 0===y?void 0:y.cancel),A(!1)):null!==y&&void 0!==y&&y.cancel?(j((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===y||void 0===y?void 0:y.cancel])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),A(!1)):0===(null===y||void 0===y||null===(i=y.cancel)||void 0===i?void 0:i.length)&&A(!1);10===(null===y||void 0===y||null===(e=y.cancel)||void 0===e?void 0:e.length)?m(!0):m(!1)}),[null===y||void 0===y?void 0:y.cancel]);const I=(0,t.useCallback)((0,Ze.debounce)((e=>b(e)),500),[]);return(0,x.jsxs)(x.Fragment,{children:["COMPLETED_APPLICATION"===a?"":(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(we,{applicationDetail:l,carryParentState:i,instituteId:d,applicationDetailApplicablePending:c,pageOpenAs:r,children:(0,x.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:e=>{I(e.target.value)}})}),(0,x.jsx)(Me,{carryParentState:i,accessRole:s,accessTpye:o,pageOpenAs:r})]}),null===g||void 0===g?void 0:g.map(((e,i)=>(null===g||void 0===g?void 0:g.length)===i+1?(0,x.jsx)("div",{ref:h,children:(0,x.jsx)(si,{applicant:e})},i):(0,x.jsx)(si,{applicant:e},i))),N&&(0,x.jsx)(k.Z,{})]})},di=e=>{var i,n,t,l,a,s,o,d,c,r,u,v,p,_,h,f,j,S,b,N,A,y,C,Z,I;let{applicant:E,selectedApplicant:P,onSelectOne:T}=e;const R=(0,g.UO)(),k=(0,g.s0)();return(0,x.jsxs)("div",{className:ce.Z.applicant_card_container,onClick:()=>{var e;k("/q/".concat(R.username,"/student/profile"),{state:{sid:null===E||void 0===E||null===(e=E.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,x.jsxs)("div",{className:ce.Z.applicant_card_inner,children:[(0,x.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===E||void 0===E||null===(i=E.student)||void 0===i?void 0:i.photoId)?"".concat(m.yI,"/").concat(null===E||void 0===E||null===(n=E.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,x.jsxs)("div",{className:ce.Z.applicant_card_inner_info,children:[(0,x.jsx)("h6",{children:"".concat(null===E||void 0===E||null===(t=E.student)||void 0===t?void 0:t.studentFirstName," ").concat(null!==E&&void 0!==E&&null!==(l=E.student)&&void 0!==l&&l.studentMiddleName?null===E||void 0===E||null===(a=E.student)||void 0===a?void 0:a.studentMiddleName:""," ").concat(null===E||void 0===E||null===(s=E.student)||void 0===s?void 0:s.studentLastName)}),(0,x.jsx)("p",{children:null===E||void 0===E?void 0:E.install_type})]})]}),(0,x.jsxs)("div",{className:ce.Z.applicant_card_contact,children:[(0,x.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,x.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,x.jsx)("p",{children:null===E||void 0===E||null===(o=E.student)||void 0===o?void 0:o.studentGender})]}),((null===E||void 0===E||null===(d=E.student)||void 0===d?void 0:d.studentPhoneNumber)||(null===E||void 0===E||null===(c=E.student)||void 0===c||null===(r=c.user)||void 0===r?void 0:r.userPhoneNumber)||(null===E||void 0===E||null===(u=E.student)||void 0===u||null===(v=u.user)||void 0===v?void 0:v.userEmail)||(null===E||void 0===E||null===(p=E.student)||void 0===p?void 0:p.studentParentsPhoneNumber))&&(0,x.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,x.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,x.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==E&&void 0!==E&&null!==(_=E.student)&&void 0!==_&&null!==(h=_.user)&&void 0!==h&&h.userPhoneNumber?null===E||void 0===E||null===(f=E.student)||void 0===f||null===(j=f.user)||void 0===j?void 0:j.userPhoneNumber:null!==E&&void 0!==E&&null!==(S=E.student)&&void 0!==S&&null!==(b=S.user)&&void 0!==b&&b.userEmail?null===E||void 0===E||null===(N=E.student)||void 0===N||null===(A=N.user)||void 0===A?void 0:A.userEmail:null!==E&&void 0!==E&&null!==(y=E.student)&&void 0!==y&&y.studentPhoneNumber?null===E||void 0===E||null===(C=E.student)||void 0===C?void 0:C.studentPhoneNumber:null===E||void 0===E||null===(Z=E.student)||void 0===Z?void 0:Z.studentParentsPhoneNumber})]})]}),(0,x.jsx)("div",{className:ce.Z.selectBtnContainer,children:(0,x.jsx)("img",{id:"check",className:ce.Z.checkbox,src:null!==P&&void 0!==P&&P.includes(null===E||void 0===E||null===(I=E.student)||void 0===I?void 0:I._id)?"/images/checkbox-icon.svg":"/images/box-icon.svg",alt:"select icon",onClick:e=>{var i;e.stopPropagation(),T(null===E||void 0===E||null===(i=E.student)||void 0===i?void 0:i._id)}})})]})},ci=e=>{let{carryParentState:i,applicationId:n,applicationDetail:l,accessRole:a,accessTpye:s,instituteId:o,applicationDetailApplicablePending:d,pageOpenAs:c}=e;const{t:r}=(0,p.$G)(),[u,m]=(0,t.useState)([]),[_,h]=(0,t.useState)(!0),[f,g]=(0,t.useState)([]),[j,S]=(0,t.useState)(0),[b,N]=(0,t.useState)(""),[A,y]=(0,t.useState)(!1),[C,Z]=(0,t.useState)(""),[I,E]=(0,t.useState)(""),{getAllConfirmListMulitselect:P,getAllConfirmListMulitselectRefetch:T}=(0,v.dk)({data:{id:n,search:C},skip:!n}),{scrollToTop:R}=(0,Q.u)();(0,t.useEffect)((()=>{R()}),[]),(0,t.useEffect)((()=>{n&&(h(!0),T())}),[n,T,C]),(0,t.useEffect)((()=>{var e,i;C?(g(null===P||void 0===P?void 0:P.confirm),h(!1)):null!==P&&void 0!==P&&null!==(e=P.confirm)&&void 0!==e&&e.length?(g(null===P||void 0===P?void 0:P.confirm),h(!1)):0===(null===P||void 0===P||null===(i=P.confirm)||void 0===i?void 0:i.length)&&h(!1)}),[null===P||void 0===P?void 0:P.confirm]);const D=e=>{null!==u&&void 0!==u&&u.includes(e)?(m((i=>null===i||void 0===i?void 0:i.filter((i=>i!==e)))),S((e=>--e))):(m((i=>[...i,e])),S((e=>++e))),y(!1)},w=(0,t.useCallback)((0,Ze.debounce)((e=>Z(e)),500),[]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(we,{applicationDetail:l,carryParentState:i,instituteId:o,applicationDetailApplicablePending:d,pageOpenAs:c,children:(0,x.jsx)("input",{type:"text",placeholder:"Search applicants...",onChange:e=>{w(e.target.value)}})}),(0,x.jsx)(Me,{carryParentState:i,accessRole:a,accessTpye:s,pageOpenAs:c}),(0,x.jsxs)("div",{className:ce.Z.admission_mulit_select,children:[(0,x.jsxs)("p",{children:[j||""," ",r("selected_")]}),(0,x.jsxs)("div",{className:ce.Z.admission_mulit_select_right,children:[A?(0,x.jsx)("p",{onClick:()=>{m([]),y(!1),S(0)},style:{cursor:"pointer"},children:r("remove_all")}):(0,x.jsx)("p",{onClick:()=>{let e=[];for(let n of null===P||void 0===P?void 0:P.confirm){var i;e.push(null===n||void 0===n||null===(i=n.student)||void 0===i?void 0:i._id)}m(e),S(null===e||void 0===e?void 0:e.length),y(!0)},style:{cursor:"pointer"},children:r("select_all")}),(0,x.jsx)("div",{className:ce.Z.selectBtnContainer,style:{width:"auto"},children:(0,x.jsx)("div",{className:ce.Z.selectBtn,onClick:()=>{null!==u&&void 0!==u&&u.length&&E("ALLOT_BATCH")},children:r("allot_class")})})]})]}),null===f||void 0===f?void 0:f.map((e=>{var i;return(0,x.jsx)(di,{applicant:e,onSelectOne:D,selectedApplicant:u},null===e||void 0===e||null===(i=e.student)||void 0===i?void 0:i._id)})),_&&(0,x.jsx)(k.Z,{}),"ALLOT_BATCH"===I&&(0,x.jsx)(ei,{onClose:()=>E(""),applicationId:null===l||void 0===l?void 0:l._id,onAllotApplicantClasses:e=>{N(e),E("ALLOT_CLASSES")}}),"ALLOT_CLASSES"===I&&(0,x.jsx)(ni,{onClose:()=>E(""),currentApplicant:u,onRefetchWhenAction:T,applicationId:null===l||void 0===l?void 0:l._id,batchId:b,openAs:"MULITSELECT"})]})},ri=e=>{var i,n,l,a,s,o,d,c,r,u,m,p,_,h,f;let{instituteId:j,carryParentState:S,accessRole:b,accessTpye:N,callApi:A,pageOpenAs:y}=e;const C=(0,g.TH)(),{oneApplicationDetail:Z,oneApplicationDetailRefetch:I}=(0,v.mf)({apid:null===(i=C.state)||void 0===i?void 0:i.applicationId,skip:!(null!==(n=C.state)&&void 0!==n&&n.applicationId)}),{scrollToTop:E}=(0,Q.u)();return(0,t.useEffect)((()=>{E()}),[]),(0,t.useEffect)((()=>{var e;null!==(e=C.state)&&void 0!==e&&e.applicationId&&I()}),[null===(l=C.state)||void 0===l?void 0:l.applicationId,I]),(0,x.jsxs)(x.Fragment,{children:["application"===(null===(a=C.search)||void 0===a?void 0:a.substring(13))&&(0,x.jsx)(qe,{applicationId:null===(s=C.state)||void 0===s?void 0:s.applicationId,carryParentState:S,applicationDetail:null===Z||void 0===Z?void 0:Z.oneApply,accessRole:b,accessTpye:N,instituteId:j,applicationDetailApplicablePending:null===Z||void 0===Z?void 0:Z.applicable_pending,pageOpenAs:y}),"select"===(null===(o=C.search)||void 0===o?void 0:o.substring(13))&&(0,x.jsx)(ze,{applicationId:null===(d=C.state)||void 0===d?void 0:d.applicationId,carryParentState:S,applicationDetail:null===Z||void 0===Z?void 0:Z.oneApply,accessRole:b,accessTpye:N,instituteId:j,applicationDetailApplicablePending:null===Z||void 0===Z?void 0:Z.applicable_pending,pageOpenAs:y}),"confirm"===(null===(c=C.search)||void 0===c?void 0:c.substring(13))&&(0,x.jsx)(ti,{applicationId:null===(r=C.state)||void 0===r?void 0:r.applicationId,carryParentState:S,applicationDetail:null===Z||void 0===Z?void 0:Z.oneApply,accessRole:b,accessTpye:N,instituteId:j,callApi:A,applicationDetailApplicablePending:null===Z||void 0===Z?void 0:Z.applicable_pending,pageOpenAs:y}),"mulitple"===(null===(u=C.search)||void 0===u?void 0:u.substring(13))&&(0,x.jsx)(ci,{applicationId:null===(m=C.state)||void 0===m?void 0:m.applicationId,carryParentState:S,applicationDetail:null===Z||void 0===Z?void 0:Z.oneApply,accessRole:b,accessTpye:N,instituteId:j,applicationDetailApplicablePending:null===Z||void 0===Z?void 0:Z.applicable_pending,pageOpenAs:y}),"allot"===(null===(p=C.search)||void 0===p?void 0:p.substring(13))&&(0,x.jsx)(ai,{applicationId:null===(_=C.state)||void 0===_?void 0:_.applicationId,carryParentState:S,applicationDetail:null===Z||void 0===Z?void 0:Z.oneApply,accessRole:b,accessTpye:N,instituteId:j,applicationDetailApplicablePending:null===Z||void 0===Z?void 0:Z.applicable_pending,pageOpenAs:y}),"cancel"===(null===(h=C.search)||void 0===h?void 0:h.substring(13))&&(0,x.jsx)(oi,{applicationId:null===(f=C.state)||void 0===f?void 0:f.applicationId,carryParentState:S,applicationDetail:null===Z||void 0===Z?void 0:Z.oneApply,accessRole:b,accessTpye:N,instituteId:j,applicationDetailApplicablePending:null===Z||void 0===Z?void 0:Z.applicable_pending,pageOpenAs:y})]})},ui=e=>{var i,n,t;let{admissionId:l,instituteId:a,carryParentState:s,accessRole:o,accessApplication:d,accessTpye:c,callApi:r,pageOpenAs:u}=e;const{t:v}=(0,p.$G)(),m=(0,g.s0)(),_=(0,g.UO)(),h=(0,g.TH)();return(0,x.jsxs)("div",{className:ce.Z.admission_application_container,children:["ongoing"===(null===(i=h.search)||void 0===i?void 0:i.substring(3))&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:ce.Z.with_search,style:{justifyContent:"flex-start",gap:"1rem"},children:[(0,x.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{m("/q/".concat(_.username,"INSTITUTE"===u?"/admission":"/member/admission"),{state:{...s}})},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,x.jsx)("h6",{children:v("ongoing_application")})]}),(0,x.jsx)(D.Z,{customStyle:{width:"100%",marginTop:"0.5rem",marginBottom:"0.5rem"}})]}),"ongoing"===(null===(n=h.search)||void 0===n?void 0:n.substring(3))&&(0,x.jsx)(Ce,{admissionId:l,carryParentState:s,accessRole:o,accessTpye:c,accessApplication:d,callApi:r,pageOpenAs:u}),"ongoing&n="===(null===h||void 0===h||null===(t=h.search)||void 0===t?void 0:t.substring(3,13))&&(0,x.jsx)(ri,{instituteId:a,admissionId:l,carryParentState:s,accessRole:o,accessTpye:c,callApi:r,pageOpenAs:u})]})};const vi=function(e){var i,n;let{completed:t,carryParentState:l,accessRole:a,accessTpye:s,callApi:o,pageOpenAs:d,setOpenApplicationMenu:c}=e;const{t:r}=(0,p.$G)(),u=e=>{e.preventDefault(),c(null===t||void 0===t?void 0:t._id)};return(0,x.jsx)(x.Fragment,{children:"INSTITUTE"===d?(0,x.jsx)(y,{carryParentState:{...l,applicationId:null===t||void 0===t?void 0:t._id},activeTab:"?a=ongoing&n=application",children:(0,x.jsxs)("div",{className:ce.Z.ongoing_card,style:{display:"flex",flexDirection:"column",alignItems:"center",marginRight:"1rem"},children:[(0,x.jsxs)("div",{className:ce.Z.ongoing_card_inner,children:[(0,x.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,x.jsxs)("div",{className:ce.Z.ongoing_card_text,children:[(0,x.jsx)("h6",{children:null===t||void 0===t?void 0:t.applicationName}),(0,x.jsx)("p",{children:null===t||void 0===t||null===(i=t.applicationDepartment)||void 0===i?void 0:i.dName})]})]}),(0,x.jsxs)("div",{className:ce.Z.ongoing_card_text,children:[(0,x.jsx)("h6",{children:null===t||void 0===t?void 0:t.allotCount}),(0,x.jsx)("p",{children:r("alloted")})]}),(0,x.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:u,className:ce.Z.menu_icon,title:"Menu"})]})}):(0,x.jsx)(be,{carryParentState:{...l,applicationId:null===t||void 0===t?void 0:t._id},activeTab:"ongoing&n=application",accessRole:a,accessTpye:s,callApi:o,children:(0,x.jsxs)("div",{className:ce.Z.ongoing_card,children:[(0,x.jsxs)("div",{className:ce.Z.ongoing_card_inner,children:[(0,x.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,x.jsxs)("div",{className:ce.Z.ongoing_card_text,children:[(0,x.jsx)("h6",{children:null===t||void 0===t?void 0:t.applicationName}),(0,x.jsx)("p",{children:null===t||void 0===t||null===(n=t.applicationDepartment)||void 0===n?void 0:n.dName})]})]}),(0,x.jsxs)("div",{className:ce.Z.ongoing_card_text,style:{display:"flex",flexDirection:"column",alignItems:"center",marginRight:"1rem"},children:[(0,x.jsx)("h6",{children:null===t||void 0===t?void 0:t.allotCount}),(0,x.jsx)("p",{children:r("alloted")})]}),(0,x.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:u,className:ce.Z.menu_icon,title:"Menu"})]})})})},mi=e=>{let{onClose:i,onRefetch:n,openApplicationMenu:l}=e;const[a,s]=(0,t.useState)(!1),[o]=(0,v.fI)();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(J.Z,{onClose:i}),(0,x.jsxs)(W.Z,{customStyle:{zIndex:"1200"},children:[(0,x.jsx)("div",{className:$.Z.edit_modal_container,style:{width:"200px"},children:(0,x.jsx)("h6",{className:$.Z.edit,onClick:()=>{l&&(s((e=>!e)),o({aid:l}).then((()=>{n(),s((e=>!e)),i()})).catch({}))},children:"Mark as Ongoing"})}),a&&(0,x.jsx)(M.Z,{})]})]})},pi=e=>{let{admissionId:i,carryParentState:n,accessRole:l,accessApplication:a,accessTpye:s,callApi:o,pageOpenAs:d}=e;const{t:c}=(0,p.$G)(),u=(0,g.s0)(),m=(0,r.v9)((e=>e.admissionChange)),[_,h]=(0,t.useState)(!0),[f,j]=(0,t.useState)(1),[S,b]=(0,R.YD)(),[N,A]=(0,t.useState)([]),[y,C]=(0,t.useState)(!0),{scrollToTop:Z}=(0,Q.u)(),[I,E]=(0,t.useState)(""),[P,T]=(0,t.useState)(!1),{allCompletedApp:w,allCompletedAppRefetch:O}=(0,v.XN)({data:{aid:i||(null===m||void 0===m?void 0:m.aid),page:f,limit:10},skip:i?!i:!(null!==m&&void 0!==m&&m.aid)});(0,t.useEffect)((()=>{Z()}),[]),(0,t.useEffect)((()=>{b&&_&&j((e=>e+1))}),[b,_]),(0,t.useEffect)((()=>{(null!==m&&void 0!==m&&m.aid||i)&&(C(!0),O())}),[null===m||void 0===m?void 0:m.aid,i,f,O]),(0,t.useEffect)((()=>{var e,i;P?(A(null===w||void 0===w?void 0:w.completed),C(!1),T(!1)):null!==w&&void 0!==w&&w.completed?(A((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===w||void 0===w?void 0:w.completed])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),C(!1)):0===(null===w||void 0===w||null===(i=w.completed)||void 0===i?void 0:i.length)&&C(!1);10===(null===w||void 0===w||null===(e=w.completed)||void 0===e?void 0:e.length)?h(!0):h(!1)}),[null===w||void 0===w?void 0:w.completed]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:ce.Z.admission_application_container,children:[(0,x.jsxs)("div",{className:ce.Z.with_search,style:{justifyContent:"flex-start",gap:"1rem"},children:[(0,x.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{u(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,x.jsx)("h6",{children:c("completed_application")})]}),(0,x.jsx)(D.Z,{customStyle:{width:"100%",marginTop:"0.5rem",marginBottom:"0.5rem"}}),(0,x.jsx)("div",{className:ce.Z.remainingFeesBottom,children:(0,x.jsxs)("div",{className:ce.Z.itemsContainer,children:[null===N||void 0===N?void 0:N.map(((e,i)=>(null===N||void 0===N?void 0:N.length)===i+1?(0,x.jsx)("div",{ref:S,children:(0,x.jsx)(vi,{completed:e,carryParentState:n,accessRole:l,accessTpye:s,callApi:o,accessApplication:a,pageOpenAs:d,setOpenApplicationMenu:E})},null===e||void 0===e?void 0:e._id):(0,x.jsx)(vi,{completed:e,carryParentState:n,accessRole:l,accessTpye:s,callApi:o,accessApplication:a,pageOpenAs:d,setOpenApplicationMenu:E},null===e||void 0===e?void 0:e._id))),y&&(0,x.jsx)(k.Z,{status:"white"})]})})]}),I&&(0,x.jsx)(mi,{openApplicationMenu:I,onClose:()=>E(""),onRefetch:()=>{j(1),T(!0),C(!0),O()}})]})};var _i=n(33399),hi=n(33148),fi=n(72952),gi=n(45897),xi=n(34219);const ji=e=>{var i,n;let{onClose:l,onRefetch:a,aid:s,instituteId:o}=e;const{t:d}=(0,p.$G)(),[c,r]=(0,t.useState)(!1),[u]=(0,v.Rr)(),[m,_]=(0,t.useState)(""),[h,f]=(0,t.useState)([]),[g,j]=(0,t.useState)([]),[S,b]=(0,t.useState)({alarm_mode:"APP_NOTIFICATION",content:""}),[N,A]=(0,t.useState)({depart:"",batch:"",master:[],batch_status:"",all_depart:""}),[y,C]=(0,t.useState)([]),[Z,I]=(0,t.useState)(!1),[E]=(0,v.Z1)(),{allDepartmentList:P,allDepartmentListRefetch:T}=(0,v.nJ)({aid:s,skip:!s}),{allClassMaster:R,allClassMasterRefetch:k}=(0,ne.tx)({data:{id:o,did:N.depart},skip:"All"===N.all_depart||!N.depart}),{oneDepartment:w,oneDepartmentRefetch:O}=(0,ne._C)({did:N.depart,skip:"All"===N.all_depart||!N.depart});(0,t.useEffect)((()=>{s&&T()}),[s,T]),(0,t.useEffect)((()=>{N.depart&&"All"!==N.all_depart&&k()}),[N.depart,k]),(0,t.useEffect)((()=>{N.depart&&"All"!==N.all_depart&&O()}),[N.depart,O]);const F=e=>{null!==y&&void 0!==y&&y.includes(e)?C((i=>null===i||void 0===i?void 0:i.filter((i=>i!==e)))):C((i=>[...i,e]))};return(0,x.jsxs)(L.Z,{onClose:l,children:[(0,x.jsx)("div",{className:_i.Z.add_category_modal,style:{width:"30rem",minHeight:"10rem",maxHeight:"35rem",overflowX:"hidden",overflowY:"auto",scrollBehavior:"smooth"},children:"SEND"===m?(0,x.jsxs)("section",{className:_i.Z.fee_middle_section_container,style:{marginBottom:"1.2rem"},children:[(0,x.jsx)("h6",{style:{fontSize:"20px",fontWeight:"600"},children:d("Notify_about_Outstanding_Dues")}),(0,x.jsx)(D.Z,{customStyle:{width:"100%",marginTop:"0.7rem",marginBottom:"1rem"}}),(0,x.jsxs)("section",{className:_i.Z.notify_container,onClick:()=>b((e=>({...e,alarm_mode:"APP_NOTIFICATION"}))),children:[(0,x.jsx)("img",{src:"APP_NOTIFICATION"===S.alarm_mode?"/images/department/radio-blue-icon.svg":"/images/department/radio-gray-icon.svg",alt:"icon"}),(0,x.jsxs)("div",{className:_i.Z.notify_text,children:[(0,x.jsx)("h6",{children:d("Notify_with_In_app_Notification")}),(0,x.jsx)("p",{children:d("Notify_with_In_app_Notification_note")})]})]}),(0,x.jsxs)("section",{className:_i.Z.notify_container,onClick:()=>b((e=>({...e,alarm_mode:"EMAIL_NOTIFICATION"}))),children:[(0,x.jsx)("img",{src:"EMAIL_NOTIFICATION"===S.alarm_mode?"/images/department/radio-blue-icon.svg":"/images/department/radio-gray-icon.svg",alt:"icon"}),(0,x.jsxs)("div",{className:_i.Z.notify_text,children:[(0,x.jsx)("h6",{children:d("Notify_On_Email_and_SMS")}),(0,x.jsx)("p",{children:d("Notify_On_Email_and_SMS_note")})]})]}),"EMAIL_NOTIFICATION"===S.alarm_mode&&(0,x.jsx)(fi.Z,{labelText:d("email_content"),placeholder:d("email_content_placeholder"),name:"content",value:S.content,type:"text",onChange:e=>b((i=>({...i,content:e.target.value})))}),(0,x.jsx)("button",{onClick:()=>{s&&S.alarm_mode&&(null===y||void 0===y?void 0:y.length)>0&&(r((e=>!e)),u({aid:s,alarm_mode:S.alarm_mode,content:S.content,reminderData:{...N,all_arr:y}}).then((()=>{a(),r((e=>!e)),l()})).catch({}))},className:_i.Z.fee_middle_confirm_button,style:{marginTop:"4rem"},children:d("confirm")})]}):"LIST"===m?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:hi.Z.select_header,children:[(0,x.jsxs)("h6",{children:[(null===y||void 0===y?void 0:y.length)>0?"".concat(null===y||void 0===y?void 0:y.length," "):"",d("select_student")]}),(0,x.jsxs)("div",{children:[Z?(0,x.jsx)("button",{className:hi.Z.select_all_btn,title:"Remove All Student",onClick:()=>{C([]),I(!1)},style:{marginRight:"0.7rem"},children:d("remove_all")}):(0,x.jsx)("button",{className:hi.Z.select_all_btn,title:"Select All Student",onClick:()=>{let e=[];for(let i of h)e.push(null===i||void 0===i?void 0:i._id);C(e),I(!0)},style:{marginRight:"0.7rem"},children:d("select_all")}),(0,x.jsx)("button",{className:hi.Z.promote_all_btn,onClick:()=>(null===y||void 0===y?void 0:y.length)>0?_("SEND"):null,children:d("next")})]})]}),(0,x.jsx)(D.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),(0,x.jsx)("section",{className:_i.Z.search_container,children:(0,x.jsxs)("div",{className:_i.Z.search_container_text,children:[(0,x.jsx)("img",{className:_i.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,x.jsx)("input",{type:"text",placeholder:d("search-label"),onChange:e=>{if(e.target.value){let i=Si(g,e.target.value);f((()=>i))}else f((()=>g))}})]})}),(null===h||void 0===h?void 0:h.length)<1&&(0,x.jsx)(xi.Z,{customStyleContainer:{marginTop:"9rem"},title:"No student found."}),null===h||void 0===h?void 0:h.map(((e,i)=>(0,x.jsx)(gi.Z,{stu:e,selectedId:y,onSelectStudent:F},i)))]}):(0,x.jsxs)("section",{className:_i.Z.fee_middle_section_container,style:{marginBottom:"1.2rem"},children:[(0,x.jsx)("h6",{style:{fontSize:"20px",fontWeight:"600"},children:d("apply_filter")}),(0,x.jsx)(D.Z,{customStyle:{width:"100%",marginTop:"0.7rem",marginBottom:"1rem"}}),(0,x.jsx)(ie.Z,{selectLabel:d("select_department"),selectedValue:d("all_select_particular_department"),options:null!==P&&void 0!==P&&P.allDB?["All",...null===P||void 0===P?void 0:P.allDB]:["All"],onClick:e=>{A("All"===e?e=>({...e,depart:"",all_depart:"ALL"}):i=>({...i,depart:e,all_depart:"PARTICULAR"}))}}),(0,x.jsx)(ie.Z,{selectLabel:d("select_batch_optional"),selectedValue:d("select_pref"),options:"ALL"===N.all_depart?["All"]:null!==w&&void 0!==w&&null!==(i=w.department)&&void 0!==i&&i.batches?[...null===w||void 0===w||null===(n=w.department)||void 0===n?void 0:n.batches]:[],onClick:e=>{A("All"===e?e=>({...e,batch:"",batch_status:"ALL_BATCH"}):i=>({...i,batch:e,batch_status:"PARTICULAR_BATCH"}))}}),"ALL"===N.all_depart?"":(0,x.jsx)(ie.Z,{selectLabel:d("select_standard_year"),selectedValue:d("select_standard_year_placeholder"),options:null!==R&&void 0!==R&&R.classMaster?[...null===R||void 0===R?void 0:R.classMaster]:[],onClick:e=>{A((i=>({...i,master:[e]})))}}),(0,x.jsx)("button",{onClick:()=>{s&&(r((e=>!e)),E({aid:s,pendingData:N}).then((e=>{var i,n;f(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.all_student),j(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.all_student),r((e=>!e)),_("LIST")})).catch({}))},className:_i.Z.fee_middle_confirm_button,style:{marginTop:"4rem"},children:d("next")})]})}),c&&(0,x.jsx)(M.Z,{})]})},Si=function(){let e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((i=>{var n,t,l,a,s,o;let d=null!==(n=null!==(t=null!==(l=null===i||void 0===i?void 0:i.studentFirstName)&&void 0!==l?l:" "+(null===i||void 0===i?void 0:i.studentMiddleName))&&void 0!==t?t:" "+(null===i||void 0===i?void 0:i.studentLastName))&&void 0!==n?n:"";return null!==d&&void 0!==d&&null!==(a=d.toLowerCase())&&void 0!==a&&a.includes(null===e||void 0===e?void 0:e.toLowerCase())||null!==i&&void 0!==i&&null!==(s=i.studentGRNO)&&void 0!==s&&null!==(o=s.toLowerCase())&&void 0!==o&&o.includes(null===e||void 0===e?void 0:e.toLowerCase())?i:null}))};var bi=n(49807),Ni=n(84959);const Ai=e=>{let{aid:i,instituteId:n,isEnable:l,onRefetch:a,setApplyFilter:s,applyFilter:o,isApplicable:d,pageOpenAs:c,admissionId:r,children:u}=e;const{t:m}=(0,p.$G)(),[_,h]=(0,t.useState)(!1),[f,j]=(0,t.useState)(!1),S=(0,g.UO)(),N=(0,g.s0)(),A=(0,g.TH)(),[y,C]=(0,t.useState)(!1),[Z]=(0,Ni.FL)(),[I]=(0,v._g)();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("section",{className:ce.Z.moderator_container_title,children:[(0,x.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{N(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,x.jsxs)("div",{className:ce.Z.with_search,children:[(0,x.jsx)("h6",{children:m("admission_remaining_fees")}),(0,x.jsxs)("div",{className:ce.Z.search_container_filter,children:[(0,x.jsx)("section",{className:ce.Z.search_container,children:(0,x.jsxs)("div",{className:ce.Z.search_container_input,children:[(0,x.jsx)("img",{className:ce.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),u]})}),(0,x.jsxs)("div",{className:ce.Z.os_filter_container,children:[d?"":(0,x.jsx)("img",{src:"/images/filter-blue-icon.svg",alt:"filter icon",onClick:()=>j(!0)}),"INSTITUTE"===c?(0,x.jsx)("label",{htmlFor:"uploadExcel",children:(0,x.jsx)("img",{src:"/images/member_tab/subject/subject-excel-icon.svg",alt:"excel icon",style:{cursor:"pointer",height:"1.5rem"}})}):null,(0,x.jsx)("button",{className:ce.Z.os_reminder,onClick:()=>h(!0),disabled:!l,style:{opacity:l?"1":"0.5"},children:m("outstanding_reminder")}),(0,x.jsx)(b.rU,{to:"/q/".concat(S.username,"INSTITUTE"===c?"/admission?a=reminder-message":"/member/admission?a=reminder-message"),state:{...A.state,instituteId:n},children:(0,x.jsx)("img",{src:"/images/member_tab/finance/finance-message-log-icon.svg",alt:"receipt icon",title:"View message history",style:{height:"2rem",cursor:"pointer"}})})]})]})]})]}),(0,x.jsx)(D.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),_&&(0,x.jsx)(ji,{onClose:()=>h(!1),aid:i,onRefetch:a}),f&&(0,x.jsx)(bi.Z,{onClose:()=>j(!1),instituteId:n,setApplyFilter:s,applyFilter:o}),(0,x.jsx)("input",{type:"file",id:"uploadExcel",accept:".xlsx",onChange:e=>{var i;if(null!==(i=e.target.files)&&void 0!==i&&i.length&&r){C(!0);const i=new FormData;i.append("file",e.target.files[0]),Z({fileUpload:i}).then((e=>{var i,n;null!==(i=e.data)&&void 0!==i&&i.imageKey?I({aid:r,excelFile:{excel_file:null===(n=e.data)||void 0===n?void 0:n.imageKey}}).then((()=>{C(!1)})).catch({}):C(!1)})).catch({})}},style:{display:"none"}}),y&&(0,x.jsx)(M.Z,{})]})},yi=e=>{var i;let{carryParentState:n,pageOpenAs:t}=e;const{t:l}=(0,p.$G)(),a=(0,g.TH)(),s=[{name:l("os_fees"),id:0,url:"member/admission?a=pending"},{name:l("applicable_os"),id:1,url:"member/admission?a=pending&applicable"}],o=[{name:l("os_fees"),id:0,url:"admission?a=pending"},{name:l("applicable_os"),id:1,url:"admission?a=pending&applicable"}];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Oe.Z,{tabList:"INSTITUTE"===t?o:s,activeIndexTab:"pending"===(null===(i=a.search)||void 0===i?void 0:i.substring(3))?0:1,showAs:!0,customStyleTab:{width:"100%"},customStyleLink:{width:"50%"},carryParentState:n}),(0,x.jsx)(D.Z,{customStyle:{width:"100%",marginBottom:"0.5rem"}})]})};var Ci=n(85161);const Zi=e=>{var i,n,t;let{remainData:l,is_applicable:a}=e;const{t:s}=(0,p.$G)(),o=(0,g.UO)(),d=(0,g.s0)();return(0,x.jsxs)("div",{className:Ci.Z.item,onClick:()=>{d("/q/".concat(o.username,"/student/profile/admission"),{state:{sid:null===l||void 0===l?void 0:l._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,x.jsxs)("div",{className:Ci.Z.subItem,children:[(0,x.jsx)("img",{alt:"Student Avatar",src:null!==l&&void 0!==l&&l.studentProfilePhoto?"".concat(m.yI,"/").concat(null===l||void 0===l?void 0:l.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,x.jsxs)("div",{className:Ci.Z.text,children:[(0,x.jsx)("h6",{children:"".concat(l.studentFirstName," ").concat(l.studentMiddleName?l.studentMiddleName:""," ").concat(l.studentLastName)}),(0,x.jsxs)("p",{children:[s("gr_number"),null!==(i=null===l||void 0===l?void 0:l.studentGRNO)&&void 0!==i?i:""," ",", ",null!==(n=null===l||void 0===l||null===(t=l.department)||void 0===t?void 0:t.dName)&&void 0!==n?n:""]})]})]}),(0,x.jsxs)("div",{className:Ci.Z.text,children:[a?(0,x.jsxs)("h6",{children:["Rs. ",null===l||void 0===l?void 0:l.applicable_fees_pending]}):(0,x.jsxs)("h6",{children:["Rs. ",null===l||void 0===l?void 0:l.admissionRemainFeeCount]}),(0,x.jsx)("p",{children:s("pending_fees")})]})]})},Ii=e=>{let{isEnable:i,instituteId:n,onRefetch:l,carryParentState:a,pageOpenAs:s,admissionId:o}=e;const{t:d}=(0,p.$G)(),c=(0,r.v9)((e=>e.admissionChange)),[u,m]=(0,t.useState)(!0),[_,h]=(0,t.useState)(""),[f,g]=(0,t.useState)(1),[j,S]=(0,R.YD)(),[b,N]=(0,t.useState)([]),[A,y]=(0,t.useState)(!0),{scrollToTop:C}=(0,Q.u)(),{allRemainingList:Z,allRemainingListRefetch:I}=(0,v.ck)({data:{aid:null!==c&&void 0!==c&&c.aid?null===c||void 0===c?void 0:c.aid:o,page:f,limit:10,search:_,flow:"Applicable_Fees_Query"},skip:null!==c&&void 0!==c&&c.aid?!(null!==c&&void 0!==c&&c.aid):!o});(0,t.useEffect)((()=>{S&&u&&g((e=>e+1))}),[S,u]),(0,t.useEffect)((()=>{(null!==c&&void 0!==c&&c.aid||o)&&(y(!0),I())}),[f,null===c||void 0===c?void 0:c.aid,o,_,I]),(0,t.useEffect)((()=>{var e,i;_?(N(null===Z||void 0===Z?void 0:Z.remain),y(!1)):null!==Z&&void 0!==Z&&Z.remain?(N(1===f?null===Z||void 0===Z?void 0:Z.remain:e=>[...new Set([...e,...null===Z||void 0===Z?void 0:Z.remain].map(JSON.stringify))].map(JSON.parse)),y(!1)):0===(null===Z||void 0===Z||null===(i=Z.remain)||void 0===i?void 0:i.length)&&y(!1);10===(null===Z||void 0===Z||null===(e=Z.remain)||void 0===e?void 0:e.length)?m(!0):m(!1)}),[null===Z||void 0===Z?void 0:Z.remain]);const E=(0,t.useCallback)((0,Ze.debounce)((e=>h(e)),500),[]);return(0,t.useEffect)((()=>{C()}),[C]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Ai,{aid:null!==c&&void 0!==c&&c.aid?null===c||void 0===c?void 0:c.aid:o,isEnable:i,onRefetch:l,instituteId:n,isApplicable:!0,pageOpenAs:s,admissionId:null!==c&&void 0!==c&&c.aid?null===c||void 0===c?void 0:c.aid:o,children:(0,x.jsx)("input",{type:"text",placeholder:d("search-label"),onChange:e=>{E(e.target.value),e.target.value||(g(1),I(),y(!0))}})}),(0,x.jsx)(yi,{carryParentState:a,pageOpenAs:s}),null===b||void 0===b?void 0:b.map(((e,i)=>(null===b||void 0===b?void 0:b.length)===i+1?(0,x.jsx)("div",{ref:j,children:(0,x.jsx)(Zi,{remainData:e,is_applicable:!0})},i):(0,x.jsx)(Zi,{remainData:e,is_applicable:!0},i))),A&&(0,x.jsx)(k.Z,{status:"white"})]})},Ei=e=>{var i;let{isEnable:n,instituteId:l,onRefetch:a,carryParentState:s,pageOpenAs:o,admissionId:d}=e;const{t:c}=(0,p.$G)(),u=(0,r.v9)((e=>e.admissionChange)),[m,_]=(0,t.useState)(!0),[h,f]=(0,t.useState)(""),[g,j]=(0,t.useState)(1),[S,b]=(0,R.YD)(),[N,A]=(0,t.useState)([]),[y,C]=(0,t.useState)(!0),[Z,I]=(0,t.useState)({depart_arr:[],batch_arr:[],master_arr:[],gender:"",cast_category:"",filter_by:""}),[E,P]=(0,t.useState)(!1),{scrollToTop:T}=(0,Q.u)(),[D]=(0,v.aG)(),{getPendingCustomFilterByAdmission:w,getPendingCustomFilterByAdmissionRefetch:O}=(0,v.lR)({data:{aid:null!==u&&void 0!==u&&u.aid?null===u||void 0===u?void 0:u.aid:d,flow:"Admission_Filter"},skip:null!==u&&void 0!==u&&u.aid?!(null!==u&&void 0!==u&&u.aid):!d});(0,t.useEffect)((()=>{(null!==u&&void 0!==u&&u.aid||d)&&O()}),[null===u||void 0===u?void 0:u.aid,d,O]);const M=(0,t.useCallback)((()=>{E&&D({aid:null!==u&&void 0!==u&&u.aid?null===u||void 0===u?void 0:u.aid:d,page:g,limit:10,search:h,flow:"All_Pending_Fees_Query",filter_by:Z.filter_by,filterData:{...Z}}).then((e=>{var i;if(null!==(i=e.data)&&void 0!==i&&i.remain){var n,t,l,a,s,o;if(h)A(null===(l=e.data)||void 0===l?void 0:l.remain),C(!1);else if(null!==(a=e.data)&&void 0!==a&&a.remain){var d;if(1===g)A(null===(d=e.data)||void 0===d?void 0:d.remain);else A((i=>{var n;return[...new Set([...i,...null===(n=e.data)||void 0===n?void 0:n.remain].map(JSON.stringify))].map(JSON.parse)}));C(!1)}else 0===(null===(s=e.data)||void 0===s||null===(o=s.remain)||void 0===o?void 0:o.length)&&C(!1);10===(null===(n=e.data)||void 0===n||null===(t=n.remain)||void 0===t?void 0:t.length)?_(!0):_(!1)}})).catch({})}),[h,g,null===u||void 0===u?void 0:u.aid,d,Z,E]);(0,t.useEffect)((()=>{b&&m&&j((e=>e+1))}),[b,m]),(0,t.useEffect)((()=>{(null!==u&&void 0!==u&&u.aid||d)&&(C(!0),M())}),[g,null===u||void 0===u?void 0:u.aid,d,h,M]),(0,t.useEffect)((()=>{j((e=>1)),C(!0),M()}),[Z,M]),(0,t.useEffect)((()=>{var e;if(null!==w&&void 0!==w&&null!==(e=w.ads_admin)&&void 0!==e&&e.pending_fee_custom_filter){var i;let e=null===w||void 0===w||null===(i=w.ads_admin)||void 0===i?void 0:i.pending_fee_custom_filter;I({depart_arr:null===e||void 0===e?void 0:e.department,batch_arr:null===e||void 0===e?void 0:e.batch,master_arr:null===e||void 0===e?void 0:e.master,gender:null===e||void 0===e?void 0:e.gender,cast_category:null===e||void 0===e?void 0:e.cast_category,filter_by:""}),P(!0)}}),[null===w||void 0===w||null===(i=w.ads_admin)||void 0===i?void 0:i.pending_fee_custom_filter]);const L=(0,t.useCallback)((0,Ze.debounce)((e=>f(e)),500),[]);return(0,t.useEffect)((()=>{T()}),[T]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Ai,{aid:null!==u&&void 0!==u&&u.aid?null===u||void 0===u?void 0:u.aid:d,isEnable:n,onRefetch:a,instituteId:l,applyFilter:Z,setApplyFilter:I,pageOpenAs:o,admissionId:null!==u&&void 0!==u&&u.aid?null===u||void 0===u?void 0:u.aid:d,children:(0,x.jsx)("input",{type:"text",placeholder:c("search-label"),onChange:e=>{L(e.target.value),e.target.value||(j(1),M(),C(!0))}})}),(0,x.jsx)(yi,{carryParentState:s,pageOpenAs:o}),null===N||void 0===N?void 0:N.map(((e,i)=>(null===N||void 0===N?void 0:N.length)===i+1?(0,x.jsx)("div",{ref:S,children:(0,x.jsx)(Zi,{remainData:e})},i):(0,x.jsx)(Zi,{remainData:e},i))),y&&(0,x.jsx)(k.Z,{status:"white"})]})};const Pi=function(e){var i;let{isEnable:n,instituteId:t,onRefetch:l,carryParentState:a,pageOpenAs:s,admissionId:o}=e;const d=(0,g.TH)();return(0,x.jsx)("div",{className:Ci.Z.remainingFees,children:"pending"===(null===(i=d.search)||void 0===i?void 0:i.substring(3))?(0,x.jsx)(Ei,{isEnable:n,carryParentState:a,onRefetch:l,instituteId:t,pageOpenAs:s,admissionId:o}):(0,x.jsx)(Ii,{isEnable:n,carryParentState:a,onRefetch:l,instituteId:t,pageOpenAs:s,admissionId:o})})};var Ti=n(90865),Ri=n(43317);const ki=e=>{let{admissionId:i}=e;const{t:n}=(0,p.$G)(),l=(0,g.s0)(),[a,s]=(0,t.useState)({admission_enquiry:!0,admission_mods:!0,all_students:!0,complete_admission:!0,data_export:!0,excess_fee:!0,offline_payment_verification:!0,ongoing_admission:!0,pending_fee:!0,required_documents:!0}),[o,d]=(0,t.useState)(!1),[c,r]=(0,t.useState)(""),[u]=(0,Ri.rz)(),{admissionDashboardMaster:v}=(0,Ri.GW)({data:{aid:i,mid:""},skip:!i});(0,t.useEffect)((()=>{var e,i,n,t,l,a,o,d,c,r;null!==v&&void 0!==v&&v.tab_manage&&s({admission_enquiry:null===v||void 0===v||null===(e=v.tab_manage)||void 0===e?void 0:e.admission_enquiry,admission_mods:null===v||void 0===v||null===(i=v.tab_manage)||void 0===i?void 0:i.admission_mods,all_students:null===v||void 0===v||null===(n=v.tab_manage)||void 0===n?void 0:n.all_students,complete_admission:null===v||void 0===v||null===(t=v.tab_manage)||void 0===t?void 0:t.complete_admission,data_export:null===v||void 0===v||null===(l=v.tab_manage)||void 0===l?void 0:l.data_export,excess_fee:null===v||void 0===v||null===(a=v.tab_manage)||void 0===a?void 0:a.excess_fee,offline_payment_verification:null===v||void 0===v||null===(o=v.tab_manage)||void 0===o?void 0:o.offline_payment_verification,ongoing_admission:null===v||void 0===v||null===(d=v.tab_manage)||void 0===d?void 0:d.ongoing_admission,pending_fee:null===v||void 0===v||null===(c=v.tab_manage)||void 0===c?void 0:c.pending_fee,required_documents:null===v||void 0===v||null===(r=v.tab_manage)||void 0===r?void 0:r.required_documents})}),[null===v||void 0===v?void 0:v.tab_manage]);const m=(e,n)=>{const t={...a};for(let i in t)i===e&&(t[i]=n);u({aid:i,tabManage:{tab_manage:t}}).then((()=>{r("update tab access"),d(!0)})).catch({}),s((i=>({...i,[e]:n})))};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:K.Z.refund_container,style:{width:"100%",minHeight:"50vh",backgroundColor:"#ffffff",border:"0.037vw solid #cacaca",borderRadius:"0.439vw",marginTop:"0.3rem",padding:"1rem"},children:[(0,x.jsxs)("section",{className:K.Z.refund_container_title,children:[(0,x.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{l(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,x.jsx)("div",{className:K.Z.refund_container_title,children:(0,x.jsx)("h6",{children:n("tab_controller")})})]}),(0,x.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,x.jsxs)("div",{className:K.Z.tab_manage,children:[(0,x.jsx)(Ti.Z,{labelHeading:n("all_students"),checkedToggle:a.all_students,onToggleHandler:e=>m("all_students",e.target.checked),customContainer:{flex:"1 1 33%"}}),(0,x.jsx)(Ti.Z,{labelHeading:n("admission_enquiry"),checkedToggle:a.admission_enquiry,onToggleHandler:e=>m("admission_enquiry",e.target.checked),customContainer:{flex:"1 1 33%"}}),(0,x.jsx)(Ti.Z,{labelHeading:n("admission_mods"),checkedToggle:a.admission_mods,onToggleHandler:e=>m("admission_mods",e.target.checked),customContainer:{flex:"1 1 33%"}})]}),(0,x.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,x.jsxs)("div",{className:K.Z.tab_manage,children:[(0,x.jsx)(Ti.Z,{labelHeading:n("complete_admission"),checkedToggle:a.complete_admission,onToggleHandler:e=>m("complete_admission",e.target.checked),customContainer:{flex:"1 1 33%"}}),(0,x.jsx)(Ti.Z,{labelHeading:n("data_export"),checkedToggle:a.data_export,onToggleHandler:e=>m("data_export",e.target.checked),customContainer:{flex:"1 1 33%"}}),(0,x.jsx)(Ti.Z,{labelHeading:n("excess_fee"),checkedToggle:a.excess_fee,onToggleHandler:e=>m("excess_fee",e.target.checked),customContainer:{flex:"1 1 33%"}})]}),(0,x.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,x.jsxs)("div",{className:K.Z.tab_manage,children:[(0,x.jsx)(Ti.Z,{labelHeading:n("ongoing_admission"),checkedToggle:a.ongoing_admission,onToggleHandler:e=>m("ongoing_admission",e.target.checked),customContainer:{flex:"1 1 33%"}}),(0,x.jsx)(Ti.Z,{labelHeading:n("pending_fee"),checkedToggle:a.pending_fee,onToggleHandler:e=>m("pending_fee",e.target.checked),customContainer:{flex:"1 1 33%"}}),(0,x.jsx)(Ti.Z,{labelHeading:n("required_documents"),checkedToggle:a.required_documents,onToggleHandler:e=>m("required_documents",e.target.checked),customContainer:{flex:"1 1 33%"}})]}),(0,x.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,x.jsx)("div",{className:K.Z.tab_manage,children:(0,x.jsx)(Ti.Z,{labelHeading:n("offline_payment_verification"),checkedToggle:a.offline_payment_verification,onToggleHandler:e=>m("offline_payment_verification",e.target.checked),customContainer:{flex:"1 1 33%"}})}),(0,x.jsx)(D.Z,{customStyle:{width:"100%"}})]}),(0,x.jsx)(Pe.Ch,{run:o,setRun:d,msg:c,postiton:"bottom",type:"success"})]})};const Di=function(){var e,i,n,l,a,m,p,_,h,f,j,A,y,C,Z,I,E;const P=(0,g.UO)(),[R]=(0,b.lr)(),k=(0,g.TH)(),D=(0,r.v9)((e=>e.idChange.id)),{oneInstituteDashboard:w,oneInstituteDashboardRefetch:O}=(0,N.gq)({id:D,skip:!D}),{getAdmissionDetail:M,getAdmissionDetailRefetch:L}=(0,v.vV)({data:{aid:null===w||void 0===w||null===(e=w.institute)||void 0===e?void 0:e.admissionDepart[0],mod_id:""},skip:!(null!==w&&void 0!==w&&null!==(i=w.institute)&&void 0!==i&&i.admissionDepart[0])});return(0,t.useEffect)((()=>{D&&O()}),[D,O]),(0,t.useEffect)((()=>{var e;null!==w&&void 0!==w&&null!==(e=w.institute)&&void 0!==e&&e.admissionDepart[0]&&L()}),[null===w||void 0===w||null===(n=w.institute)||void 0===n?void 0:n.admissionDepart[0],L]),(0,x.jsxs)("div",{className:s,children:[(0,x.jsx)(S,{username:P.username,admissionId:null===w||void 0===w||null===(l=w.institute)||void 0===l?void 0:l.admissionDepart[0]}),(0,x.jsxs)("div",{className:null!==R&&void 0!==R&&R.get("a")&&"fund"!==(null===R||void 0===R?void 0:R.get("a"))&&"export"!==(null===R||void 0===R?void 0:R.get("a"))&&"moderator"!==(null===R||void 0===R?void 0:R.get("a"))?d:o,children:[(!(null!==R&&void 0!==R&&R.get("a"))||"fund"===(null===R||void 0===R?void 0:R.get("a")))&&(0,x.jsx)(T,{carryParentState:k.state}),(0,x.jsxs)(u.Z,{children:["pending"===(null===R||void 0===R?void 0:R.get("a"))&&(0,x.jsx)(Pi,{carryParentState:k.state,admissionId:null===w||void 0===w||null===(a=w.institute)||void 0===a?void 0:a.admissionDepart[0],isEnable:"Enable"===(null===M||void 0===M||null===(m=M.admission)||void 0===m?void 0:m.alarm_enable_status),onRefetch:L,instituteId:null===M||void 0===M||null===(p=M.admission)||void 0===p||null===(_=p.institute)||void 0===_?void 0:_._id,pageOpenAs:"INSTITUTE"}),"ongoing"===(null===R||void 0===R?void 0:R.get("a"))&&(0,x.jsx)(ui,{admissionId:null===w||void 0===w||null===(h=w.institute)||void 0===h?void 0:h.admissionDepart[0],instituteId:null===w||void 0===w||null===(f=w.institute)||void 0===f?void 0:f._id,carryParentState:k.state,pageOpenAs:"INSTITUTE"}),"completed"===(null===R||void 0===R?void 0:R.get("a"))&&(0,x.jsx)(pi,{admissionId:null===w||void 0===w||null===(j=w.institute)||void 0===j?void 0:j.admissionDepart[0],instituteId:null===w||void 0===w||null===(A=w.institute)||void 0===A?void 0:A._id,carryParentState:k.state,pageOpenAs:"INSTITUTE"}),"export"===(null===R||void 0===R?void 0:R.get("a"))&&(0,x.jsx)("div",{className:c,children:(0,x.jsx)(de,{admissionId:null===w||void 0===w||null===(y=w.institute)||void 0===y?void 0:y.admissionDepart[0],instituteId:null===w||void 0===w||null===(C=w.institute)||void 0===C?void 0:C._id,funds:w})}),"moderator"===(null===R||void 0===R?void 0:R.get("a"))&&(0,x.jsx)("div",{className:c,children:(0,x.jsx)(X,{admissionId:null===w||void 0===w||null===(Z=w.institute)||void 0===Z?void 0:Z.admissionDepart[0],instituteId:null===w||void 0===w||null===(I=w.institute)||void 0===I?void 0:I._id})}),"tab"===(null===R||void 0===R?void 0:R.get("a"))&&(0,x.jsx)("div",{className:c,children:(0,x.jsx)(ki,{admissionId:null===w||void 0===w||null===(E=w.institute)||void 0===E?void 0:E.admissionDepart[0]})})]})]})]})};var wi=n(89792),Oi=n(91007),Mi=n(79872),Li=n(81622),Fi=n(70966),Ui=n(5574);const qi=e=>{var i,n,l,a;let{aid:s,viewAs:o}=e;const{t:d}=(0,p.$G)(),c=(0,g.s0)(),[u,m]=(0,t.useState)(!1),[_,h]=(0,t.useState)({admission_about:"",admission_process:"",cashier_name:"",cashier_signature:""}),[f,j]=(0,t.useState)([{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}]),[S,b]=(0,t.useState)(""),[N,A]=(0,t.useState)(""),[y,C]=(0,t.useState)(!1),[Z,I]=(0,t.useState)(!1),[E,P]=(0,t.useState)(""),T=(0,r.v9)((e=>e.idChange.id)),{data:R,refetch:k}=(0,Oi.pu)(T,{skip:"INSTITUTE"===o||!T});(0,t.useEffect)((()=>{T&&"INSTITUTE"!==o&&k()}),[T,o,k]);const{admissionGetSiteInfo:w,admissionGetSiteInfoRefetch:O}=(0,v.Bf)({aid:s,skip:!s}),[L]=(0,v.AE)(),[F]=(0,Ni.FL)();(0,t.useEffect)((()=>{s&&O()}),[s,O]),(0,t.useEffect)((()=>{var e,i,n,t,l,a;if(null!==w&&void 0!==w&&w.admission_site&&(h({admission_about:null===w||void 0===w||null===(e=w.admission_site)||void 0===e?void 0:e.admission_about,admission_process:null===w||void 0===w||null===(i=w.admission_site)||void 0===i?void 0:i.admission_process,cashier_name:null===w||void 0===w||null===(n=w.admission_site)||void 0===n?void 0:n.cashier_name,cashier_signature:null===w||void 0===w||null===(t=w.admission_site)||void 0===t?void 0:t.cashier_signature}),null!==w&&void 0!==w&&null!==(l=w.admission_site)&&void 0!==l&&null!==(a=l.admission_contact)&&void 0!==a&&a.length)){let e=[];for(let i of null===w||void 0===w||null===(s=w.admission_site)||void 0===s?void 0:s.admission_contact){var s;let n={contact_department_name:null===i||void 0===i?void 0:i.contact_department_name,contact_person_name:null===i||void 0===i?void 0:i.contact_person_name,contact_person_mobile:null===i||void 0===i?void 0:i.contact_person_mobile,contact_person_email:null===i||void 0===i?void 0:i.contact_person_email,contactId:null===i||void 0===i?void 0:i._id};e.push(n)}j(e)}}),[null===w||void 0===w?void 0:w.admission_site]);const U=(e,i)=>{const n=[...f];for(let t=0;t<(null===n||void 0===n?void 0:n.length);t++)t===i&&(n[t][e.target.name]=e.target.value);j(n)},q=e=>{h((i=>({...i,[e.target.name]:e.target.value})))};(0,t.useEffect)((()=>{Z&&(e=>{if(e){m((e=>!e));const i=new FormData;i.append("file",e),F({fileUpload:i}).then((e=>{var i;null!==(i=e.data)&&void 0!==i&&i.imageKey&&h((i=>{var n;return{...i,cashier_signature:null===(n=e.data)||void 0===n?void 0:n.imageKey}})),m((e=>!e))})).catch({})}})(N)}),[Z,N]);return(0,x.jsxs)("div",{className:wi.Z.bgContainer,children:["INSTITUTE"===o?null:(0,x.jsx)("div",{className:wi.Z.navbar,children:(0,x.jsx)(Mi.default,{status:"members",profileData:null===R||void 0===R?void 0:R.user,username:null===R||void 0===R||null===(i=R.user)||void 0===i?void 0:i.username,name:null===R||void 0===R||null===(n=R.user)||void 0===n?void 0:n.userLegalName,photoId:null===R||void 0===R||null===(l=R.user)||void 0===l?void 0:l.photoId,profilePhoto:null===R||void 0===R||null===(a=R.user)||void 0===a?void 0:a.profilePhoto})}),(0,x.jsxs)("div",{className:wi.Z.container,children:[(0,x.jsxs)("div",{className:wi.Z.containerhead,children:[(0,x.jsx)("h6",{children:d("update_admission_site_info")}),(0,x.jsx)("img",{src:"/images/close-post-icon.svg",alt:"",onClick:()=>{c(-1)}})]}),(0,x.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,x.jsx)("div",{className:wi.Z.containercontent,children:(0,x.jsxs)("div",{className:wi.Z.container_inner_content,children:[(0,x.jsx)(fi.Z,{labelText:d("about_admission_department"),placeholder:d("about_admission_department_placeholder"),name:"admission_about",value:_.admission_about,type:"text",onChange:q,customStyleContainer:{width:"100%"}}),(0,x.jsx)(fi.Z,{labelText:d("admission_process_site"),placeholder:d("admission_process_site_placeholder"),name:"admission_process",value:_.admission_process,type:"text",onChange:q,customStyleContainer:{width:"100%"}}),(0,x.jsxs)("div",{className:wi.Z.show_field,style:{alignItems:"flex-start"},children:[(0,x.jsx)(Je.Z,{labelText:d("site_cashier_name"),placeholder:d("site_cashier_name_placeholder"),name:"cashier_name",value:null===_||void 0===_?void 0:_.cashier_name,type:"text",onChange:q,customStyleContainer:{width:"69.5%"}}),(0,x.jsx)(Li.Z,{labelText:d("cashier_signature"),name:"cashier_signature",value:_.cashier_signature,onChange:e=>{if(e.target.files[0]){const i=URL.createObjectURL(e.target.files[0]);A(e.target.files[0]),P(i),b(i),C(!0)}},customStyleContainer:{width:"29.5%"}})]}),(0,x.jsxs)("div",{className:wi.Z.add_contact_person,children:[(0,x.jsx)("h6",{children:d("add_contact_persons")}),null===f||void 0===f?void 0:f.map(((e,i)=>(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:wi.Z.show_field,children:[(0,x.jsx)(Je.Z,{labelText:d("site_department_name"),placeholder:d("site_department_name_placeholder"),name:"contact_department_name",value:null===e||void 0===e?void 0:e.contact_department_name,type:"text",onChange:e=>U(e,i),customStyleContainer:{width:"49.5%"}}),(0,x.jsx)(Je.Z,{labelText:d("contact_person_name"),placeholder:d("contact_person_name_placeholder"),name:"contact_person_name",value:null===e||void 0===e?void 0:e.contact_person_name,type:"text",onChange:e=>U(e,i),customStyleContainer:{width:"49.5%"}})]}),(0,x.jsxs)("div",{className:wi.Z.show_field,children:[(0,x.jsx)(Je.Z,{labelText:d("contact_person_mobile"),placeholder:d("contact_person_mobile_placeholder"),name:"contact_person_mobile",value:null===e||void 0===e?void 0:e.contact_person_mobile,type:"text",onChange:e=>U(e,i),customStyleContainer:{width:"49.5%"}}),(0,x.jsx)(Je.Z,{labelText:d("contact_person_email"),placeholder:d("contact_person_email_placeholder"),name:"contact_person_email",value:null===e||void 0===e?void 0:e.contact_person_email,type:"email",onChange:e=>U(e,i),customStyleContainer:{width:"49.5%"}})]})]},i)))]}),(0,x.jsx)("button",{className:wi.Z.add_contact_person_btn,title:"Add Contact Person",onClick:()=>{j((e=>[...e,{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}]))},children:d("add_contact_person")}),u&&(0,x.jsx)(M.Z,{}),(0,x.jsx)("button",{className:wi.Z.update_btn,onClick:()=>{m((e=>!e)),L({aid:s,updateSiteInfo:{..._,admission_contact:null===f||void 0===f?void 0:f.filter((e=>null!==e&&void 0!==e&&e.contactId?"":e)),edit_admission_contact:null===f||void 0===f?void 0:f.filter((e=>null!==e&&void 0!==e&&e.contactId?e:""))}}).then((()=>{m((e=>!e))})).catch({})},children:d("update")}),(0,x.jsx)(Ui.Z,{open:y,children:(0,x.jsx)(Fi.Z,{setPhotoURL:b,photoURL:S,setFile:A,setOpenCrop:C,setUpload:I,setProfilePhoto:P,first:1,second:1})})]})})]})]})};const Bi=function(){var e,i;const n=(0,g.TH)();return(0,x.jsxs)("div",{className:l.Z.insChat,children:[(0,x.jsx)("div",{className:l.Z.navbarr,children:(0,x.jsx)(a.default,{status:"home"})}),"site"===(null===(e=n.search)||void 0===e?void 0:e.substring(3))?(0,x.jsx)(qi,{aid:null===(i=n.state)||void 0===i?void 0:i.aid,viewAs:"INSTITUTE"}):(0,x.jsx)("div",{className:l.Z.admission_ins_container,children:(0,x.jsx)(Di,{})})]})}},46876:(e,i,n)=>{"use strict";n.r(i),n.d(i,{default:()=>p});var t=n(72791),l=n(23441),a=n(95048),s=n(12923),o=n(763),d=n(69721),c=n(52124),r=n(5574),u=n(39230),v=n(80184);const m=window.innerHeight,p=e=>{let{onClose:i,title:n,headSelect:p,assignHead:_,disabledId:h,instituteId:f,viewAs:g,isMultiSelect:x,selectList:j,onMultiSelect:S,onDone:b}=e;const{t:N}=(0,u.$G)(),[A,y]=(0,t.useState)(1),[C,Z]=(0,t.useState)(!0),[I,E]=(0,l.YD)(),[P,T]=(0,t.useState)(""),[R,k]=t.useState([]),D=(0,a.v9)((e=>e.idChange)),{assignSearchStaff:w,assignSearchStaffRefetch:O}=(0,s.vI)({skip:"ADMISSION_ADMIN"===g?!f:!(null!==D&&void 0!==D&&D.id),search:{search:P,page:A,id:"ADMISSION_ADMIN"===g?f:null===D||void 0===D?void 0:D.id,limit:10}});t.useEffect((()=>{null!==D&&void 0!==D&&D.id&&O()}),[null===D||void 0===D?void 0:D.id,O,A]),(0,t.useEffect)((()=>{E&&C&&y((e=>e+1))}),[E,C]),t.useEffect((()=>{null!==w&&void 0!==w&&w.staff&&k(P?null===w||void 0===w?void 0:w.staff:e=>(e=>{for(let t=0;t<(null===e||void 0===e?void 0:e.length);t++)for(let l=t+1;l<(null===e||void 0===e?void 0:e.length);l++){var i,n;(null===(i=e[t])||void 0===i?void 0:i._id)===(null===(n=e[l])||void 0===n?void 0:n._id)&&(null===e||void 0===e||e.splice(l,1))}return e})([...e,...null===w||void 0===w?void 0:w.staff])),10===(null===w||void 0===w?void 0:w.staff.length)?Z(!0):Z(!1)}),[null===w||void 0===w?void 0:w.staff]),(0,t.useEffect)((()=>{P&&M()}),[P]);const M=()=>{O()},L=(0,t.useCallback)((0,o.debounce)((e=>T(e)),500),[]),F=e=>{h===(null===e||void 0===e?void 0:e._id)||(x?S(e):(p(e),"ADMISSION_ADMIN"===g||i()))};return(0,v.jsx)(r.Z,{open:_,onClose:i,children:(0,v.jsxs)("div",{style:{backgroundColor:"#FAFAFA",width:"35rem",height:"".concat(m-20,"px"),overflowX:"hidden"},children:[(0,v.jsxs)("div",{className:c.Z.assign_title,style:{width:"100%"},children:[(0,v.jsx)("h5",{children:n}),x?(0,v.jsxs)("div",{className:c.Z.is_mulitselect_container,children:[(0,v.jsx)("h6",{style:{cursor:"pointer"},onClick:b,children:N("select")}),(0,v.jsx)("img",{src:"/images/close-post-icon.svg",onClick:i,alt:"staff assign pop close icon"})]}):(0,v.jsx)("img",{src:"/images/close-post-icon.svg",onClick:i,alt:"staff assign pop close icon"})]}),(0,v.jsxs)("div",{className:c.Z.assign_search_container,children:[(0,v.jsx)("input",{type:"text",placeholder:N("search"),className:c.Z.assign_search_input,onChange:e=>{return i=e.target.value,void L(i);var i}}),(0,v.jsx)("img",{src:"/images/search-dash-icon.svg",alt:"search icon"})]}),(0,v.jsx)("div",{className:c.Z.assign_show_list,children:null===R||void 0===R?void 0:R.map(((e,i)=>(null===R||void 0===R?void 0:R.length)===i+1?(0,v.jsxs)("div",{ref:I,children:[(0,v.jsxs)("div",{className:c.Z.assign_show_list_each,style:h===e._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:()=>F(e),children:[x?null!==j&&void 0!==j&&j.includes(null===e||void 0===e?void 0:e._id)?(0,v.jsx)("img",{src:"/images/checkbox-icon.svg",alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,v.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/box-icon.svg",alt:"icon"}):"",(0,v.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(d.yI,"/").concat(e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,v.jsxs)("div",{className:c.Z.assign_each_paragraph,children:[(0,v.jsx)("h6",{children:"".concat(e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(e.staffLastName)}),(0,v.jsxs)("p",{children:[" ",N("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]})]}),(0,v.jsx)("hr",{})]},e._id):(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:c.Z.assign_show_list_each,style:h===e._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:()=>F(e),children:[x?null!==j&&void 0!==j&&j.includes(null===e||void 0===e?void 0:e._id)?(0,v.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/checkbox-icon.svg",alt:"icon"}):(0,v.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/box-icon.svg",alt:"icon"}):"",(0,v.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(d.yI,"/").concat(e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,v.jsxs)("div",{className:c.Z.assign_each_paragraph,children:[(0,v.jsx)("h6",{children:"".concat(e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(e.staffLastName)}),(0,v.jsxs)("p",{children:[" ",N("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]})]}),(0,v.jsx)("hr",{})]},e._id)))})]})})}},81622:(e,i,n)=>{"use strict";n.d(i,{Z:()=>r});var t=n(72791),l=n(38733),a=n(39230),s=n(93097),o=n(69721),d=n(1095),c=n(80184);const r=e=>{let{labelText:i,name:n,multiple:r,value:u,onChange:v,onClick:m,errorShow:p,acceptType:_,customStyleContainer:h}=e;const{t:f}=(0,a.$G)(),[g,x]=(0,t.useState)("");return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:l.Z.join_form_container,style:{...h},children:[(0,c.jsxs)("label",{className:l.Z.join_form_label,children:[i,p&&(0,c.jsx)("span",{style:{color:"red",marginLeft:"15px"},children:"* required"})]}),(0,c.jsxs)("div",{className:l.Z.join_form_file_container,children:[(0,c.jsx)("label",{className:u?"".concat(l.Z.join_form_file_choose," ").concat(l.Z.join_form_active_background):l.Z.join_form_file_choose,htmlFor:n,children:f(""!==u?"file_chosen":"chose_file")}),(0,c.jsx)("label",{className:l.Z.join_form_file_choosen,onClick:()=>{if(null!==u&&void 0!==u&&u.originalName)if(null!==u&&void 0!==u&&u.isPdf){let e=null;e=null!==u&&void 0!==u&&u.isCdn?window.open("".concat(d.q2,"/").concat(null===u||void 0===u?void 0:u.key),"_blank","noopener,noreferrer"):window.open("".concat(o.zQ,"/").concat(null===u||void 0===u?void 0:u.key),"_blank","noopener,noreferrer"),e&&(e.opener=null)}else x(null===u||void 0===u?void 0:u.key);else x(u)},style:{color:"#002BBE",cursor:"pointer"},children:""!==u?null!==u&&void 0!==u&&u.originalName?null===u||void 0===u?void 0:u.originalName:"View":f("no_file_chosen")})]}),(0,c.jsx)("input",{type:"file",multiple:!!r,accept:_||"image/*, .doc,.docx, application/pdf,.csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",name:n,id:n,style:{display:"none"},onChange:v})]}),g&&(0,c.jsx)(s.Z,{onClose:()=>{x("")},keyValue:g})]})}},72952:(e,i,n)=>{"use strict";n.d(i,{Z:()=>s});n(72791);var t=n(39230),l=n(38733),a=n(80184);const s=e=>{var i;let{labelText:n,name:s,type:o,value:d,onChange:c,placeholder:r,errorShow:u,customStyleContainer:v,disabled:m}=e;const{t:p}=(0,t.$G)();return(0,a.jsxs)("div",{className:l.Z.join_form_container,style:{...v},children:[(0,a.jsxs)("label",{className:l.Z.join_form_label,htmlFor:s,children:[n," ",u&&(0,a.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",p("form_require_label")]})]}),(0,a.jsx)("textarea",{className:l.Z.join_form_text_area,type:o,value:d,onChange:c,name:s,placeholder:r,rows:d?(null===d||void 0===d||null===(i=d.split("\n"))||void 0===i?void 0:i.length)+3:1,disabled:m})]})}},93097:(e,i,n)=>{"use strict";n.d(i,{Z:()=>o});n(72791);var t=n(12072),l=n(84489),a=n(69721),s=n(80184);const o=e=>{let{onClose:i,keyValue:n}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{onClose:i}),(0,s.jsx)(t.Z,{customStyle:{zIndex:"1200",borderRadius:"0"},children:(0,s.jsx)("img",{src:"".concat(a.yI,"/").concat(n),alt:"view file",style:{maxWidth:"700px",maxHeight:"500px"}})})]})}},47167:(e,i,n)=>{"use strict";n.d(i,{Z:()=>d});n(72791);var t=n(16871),l=n(43504),a=n(23769),s=n(45639),o=n(80184);const d=e=>{let{tabList:i,activeIndexTab:n,setActiveIndexTab:d,customStyleTab:c,carryParentState:r,showAs:u,customStyleLink:v}=e;const m=(0,t.UO)();return(0,o.jsx)("div",{className:s.Z.universal_container,children:u?null===i||void 0===i?void 0:i.map(((e,i)=>"disabled"===(null===e||void 0===e?void 0:e.is_active)?(0,o.jsx)("div",{className:n===(null===e||void 0===e?void 0:e.id)?"".concat(s.Z.universal_container_item," ").concat(s.Z.universal_container_item_active):s.Z.universal_container_item,style:{...v,opacity:"0.5"},children:(0,o.jsx)(a.Z,{children:null===e||void 0===e?void 0:e.name})},i):(0,o.jsx)(l.rU,{to:"/q/".concat(m.username,"/").concat(null===e||void 0===e?void 0:e.url),state:{...r},style:{...v},children:(0,o.jsx)("div",{className:n===(null===e||void 0===e?void 0:e.id)?"".concat(s.Z.universal_container_item," ").concat(s.Z.universal_container_item_active):s.Z.universal_container_item,style:{...c},children:(0,o.jsx)(a.Z,{children:null===e||void 0===e?void 0:e.name})})},i))):null===i||void 0===i?void 0:i.map(((e,i)=>(0,o.jsx)("div",{className:n===(null===e||void 0===e?void 0:e.id)?"".concat(s.Z.universal_container_item," ").concat(s.Z.universal_container_item_active):s.Z.universal_container_item,onClick:()=>d(null===e||void 0===e?void 0:e.id),style:{...c},children:(0,o.jsx)(a.Z,{children:null===e||void 0===e?void 0:e.name})},i)))})}},23769:(e,i,n)=>{"use strict";n.d(i,{Z:()=>a});var t=n(72791),l=n(80184);const a=function(e){let{children:i,onclick:n}=e;const[a,s]=(0,t.useState)(!1),[o,d]=(0,t.useState)({x:-1,y:-1});return(0,t.useEffect)((()=>{-1!==o.x&&-1!==o.y?(s(!0),setTimeout((()=>s(!1)),1e3)):s(!1)}),[o]),(0,t.useEffect)((()=>{a||d({x:-1,y:-1})}),[a]),(0,l.jsxs)("div",{className:"ripple_btn",onClick:e=>{d({x:e.clientX-e.target.offsetLeft,y:e.clientY-e.target.offsetTop}),n&&n(e)},children:[a?(0,l.jsx)("span",{className:"ripple"}):"",(0,l.jsx)("span",{className:"content",children:i})]})}},20132:(e,i,n)=>{"use strict";n.d(i,{Z:()=>m});var t=n(72791),l=n(85753),a=n(5574),s=n(39230),o=n(16871),d=n(51561),c=n(98734),r=n(29017),u=n(9490),v=n(80184);const m=e=>{var i,n,m,p,_,h,f,g,x,j,S,b,N,A,y,C,Z;let{viewDetail:I,hideModal:E,applicationDetail:P,completeApplication:T,carryParentState:R,applicationDetailApplicablePending:k,pageOpenAs:D}=e;const{t:w}=(0,s.$G)(),O=new Date,M=(0,o.s0)(),L=(0,o.UO)(),[F,U]=(0,t.useState)(!1),[q,B]=(0,t.useState)({msg:"",run:!1}),[G,H]=(0,t.useState)(!1),[V,W]=(0,t.useState)(null===(i=O.toISOString())||void 0===i?void 0:i.substring(0,10)),[J]=(0,r.m2)(),{getDailyCollectionByAdmission:$,getDailyCollectionByAdmissionRefetch:Y}=(0,r.Ts)({data:{appId:null===P||void 0===P?void 0:P._id,valid_date:V},skip:!(null!==P&&void 0!==P&&P._id)});(0,t.useEffect)((()=>{null!==P&&void 0!==P&&P._id&&Y()}),[null===P||void 0===P?void 0:P._id,Y,V]);const z=()=>{U((e=>!e)),null!==P&&void 0!==P&&P._id?J(null===P||void 0===P?void 0:P._id).then((e=>{var i;null!==e&&void 0!==e&&null!==(i=e.data)&&void 0!==i&&i.complete_status?(U((e=>!e)),E(!1),M("/q/".concat(L.username,"INSTITUTE"===D?"/admission":"/member/admission"),{state:{...R}})):(B({msg:null===e||void 0===e?void 0:e.data.message,run:!0}),U((e=>!e)))})).catch({}):U((e=>!e))};return(0,v.jsxs)(a.Z,{open:I,onClose:()=>E(!1),children:[(0,v.jsxs)("div",{className:l.Z.addDisplay,children:[(0,v.jsxs)("div",{className:l.Z.title,children:[(0,v.jsx)("div",{}),(0,v.jsx)("h6",{style:{cursor:"pointer"},onClick:()=>H((e=>!e)),children:null===P||void 0===P?void 0:P.applicationName}),(0,v.jsx)("img",{src:"/images/close-post-icon.svg",onClick:()=>E(!1),alt:""})]}),(0,v.jsxs)("div",{className:l.Z.content,children:[(0,v.jsx)("div",{style:{padding:"1rem"},children:(0,v.jsx)(u.Z,{setValidDate:W})}),T&&!G&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:l.Z.content2,children:[(0,v.jsxs)("div",{className:l.Z.appinforow,children:[(0,v.jsx)("h6",{children:w("total_received_application")}),(0,v.jsx)("h6",{children:null!==(n=null===$||void 0===$||null===(m=$.day_wise)||void 0===m?void 0:m.request_count)&&void 0!==n?n:0})]}),(0,v.jsxs)("div",{className:l.Z.appinforow,children:[(0,v.jsx)("h6",{children:w("total_selected_application")}),(0,v.jsx)("h6",{children:null!==(p=null===$||void 0===$||null===(_=$.day_wise)||void 0===_?void 0:_.select_count)&&void 0!==p?p:0})]}),(0,v.jsxs)("div",{className:l.Z.appinforow,children:[(0,v.jsx)("h6",{children:w("total_confirmed_application")}),(0,v.jsx)("h6",{children:null!==(h=null===$||void 0===$||null===(f=$.day_wise)||void 0===f?void 0:f.confirm_count)&&void 0!==h?h:0})]}),(0,v.jsxs)("div",{className:l.Z.appinforow,children:[(0,v.jsx)("h6",{children:w("total_alloted_application")}),(0,v.jsx)("h6",{children:null!==(g=null===$||void 0===$||null===(x=$.day_wise)||void 0===x?void 0:x.allot_count)&&void 0!==g?g:0})]}),(0,v.jsxs)("div",{className:l.Z.appinforow,children:[(0,v.jsx)("h6",{children:w("total_cancelled_application")}),(0,v.jsx)("h6",{children:null!==(j=null===$||void 0===$||null===(S=$.day_wise)||void 0===S?void 0:S.cancel_count)&&void 0!==j?j:0})]})]}),(0,v.jsxs)("div",{className:l.Z.content3,children:[(0,v.jsxs)("div",{className:l.Z.appinforow1,children:[(0,v.jsx)("h6",{children:w("total_fees_received")}),(0,v.jsxs)("h6",{children:["Rs. ",null!==(b=null===$||void 0===$||null===(N=$.day_wise)||void 0===N?void 0:N.paid)&&void 0!==b?b:0]})]}),(0,v.jsxs)("div",{className:"".concat(l.Z.appinforow2," ").concat(l.Z.appinforowred),children:[(0,v.jsx)("h6",{children:w("total_fees_pending")}),(0,v.jsxs)("h6",{children:["Rs. ",null!==(A=null===$||void 0===$||null===(y=$.day_wise)||void 0===y?void 0:y.remain)&&void 0!==A?A:0]})]}),(0,v.jsxs)("div",{className:"".concat(l.Z.appinforow2," ").concat(l.Z.appinforowred),children:[(0,v.jsx)("h6",{children:w("total_applicable_fees_pending")}),(0,v.jsxs)("h6",{children:["Rs."," ",null!==(C=null===$||void 0===$||null===(Z=$.day_wise)||void 0===Z?void 0:Z.applicable_pending)&&void 0!==C?C:0]})]}),(0,v.jsx)("div",{className:l.Z.completeApplicationcontainer,children:(0,v.jsx)("div",{className:l.Z.completeApplication,onClick:z,children:w("complete_application")})})]})]}),T&&G&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:l.Z.content2,children:[(0,v.jsxs)("div",{className:l.Z.appinforow,children:[(0,v.jsx)("h6",{children:w("total_received_application")}),(0,v.jsx)("h6",{children:null===P||void 0===P?void 0:P.receievedCount})]}),(0,v.jsxs)("div",{className:l.Z.appinforow,children:[(0,v.jsx)("h6",{children:w("total_selected_application")}),(0,v.jsx)("h6",{children:null===P||void 0===P?void 0:P.selectCount})]}),(0,v.jsxs)("div",{className:l.Z.appinforow,children:[(0,v.jsx)("h6",{children:w("total_confirmed_application")}),(0,v.jsx)("h6",{children:null===P||void 0===P?void 0:P.confirmCount})]}),(0,v.jsxs)("div",{className:l.Z.appinforow,children:[(0,v.jsx)("h6",{children:w("total_alloted_application")}),(0,v.jsx)("h6",{children:null===P||void 0===P?void 0:P.allotCount})]}),(0,v.jsxs)("div",{className:l.Z.appinforow,children:[(0,v.jsx)("h6",{children:w("total_cancelled_application")}),(0,v.jsx)("h6",{children:null===P||void 0===P?void 0:P.cancelCount})]})]}),(0,v.jsxs)("div",{className:l.Z.content3,children:[(0,v.jsxs)("div",{className:l.Z.appinforow1,children:[(0,v.jsx)("h6",{children:w("total_fees_received")}),(0,v.jsxs)("h6",{children:["Rs. ",null===P||void 0===P?void 0:P.collectedFeeCount]})]}),(0,v.jsxs)("div",{className:"".concat(l.Z.appinforow2," ").concat(l.Z.appinforowred),children:[(0,v.jsx)("h6",{children:w("total_fees_pending")}),(0,v.jsxs)("h6",{children:["Rs. ",null===P||void 0===P?void 0:P.remainingFee]})]}),(0,v.jsxs)("div",{className:"".concat(l.Z.appinforow2," ").concat(l.Z.appinforowred),children:[(0,v.jsx)("h6",{children:w("total_applicable_fees_pending")}),(0,v.jsxs)("h6",{children:["Rs. ",null!==k&&void 0!==k?k:0]})]}),(0,v.jsx)("div",{className:l.Z.completeApplicationcontainer,children:(0,v.jsx)("div",{className:l.Z.completeApplication,onClick:z,children:w("complete_application")})})]})]})]})]}),F&&(0,v.jsx)(c.Z,{}),(0,v.jsx)(d.Ch,{msg:q.msg,run:q.run,setRun:()=>B({msg:"",run:!1}),postiton:"bottom",type:"error"})]})}},85162:(e,i,n)=>{"use strict";n.d(i,{Z:()=>c});var t=n(72791),l=n(39230),a=n(97655),s=n(98094),o=n(87049),d=n(80184);const c=e=>{var i;let{onEdit:n,xlsxId:c}=e;const{t:r}=(0,l.$G)(),[u,v]=(0,t.useState)(null!==(i=null===c||void 0===c?void 0:c.excel_file_name)&&void 0!==i?i:""),[m,p]=(0,t.useState)("");(0,t.useEffect)((()=>{var e;v(null!==(e=null===c||void 0===c?void 0:c.excel_file_name)&&void 0!==e?e:"")}),[null===c||void 0===c?void 0:c.excel_file_name]);return(0,d.jsxs)("div",{style:{width:"20rem",minHeight:"10rem",padding:"1rem"},children:[(0,d.jsx)("h6",{children:r("update_excel_name")}),(0,d.jsx)(s.Z,{customStyle:{width:"100%"}}),(0,d.jsx)(a.Z,{labelText:r("excel_name"),placeholder:r("excel_name_plcaeholder"),value:u,name:"excelName",type:"text",onChange:e=>v(e.target.value),errorShow:m.excelName}),(0,d.jsx)("button",{className:o.Z.xlsx_update_btn,onClick:()=>{u?n(u):p({excelName:"excelName is required"})},style:{justifyContent:"center",marginTop:"1rem"},children:r("update")})]})}},12923:(e,i,n)=>{"use strict";n.d(i,{Ec:()=>x,Em:()=>b,JM:()=>m,NS:()=>a,Pg:()=>p,Q_:()=>g,RH:()=>v,Tv:()=>d,U_:()=>f,VN:()=>s,Wj:()=>r,ZS:()=>u,_8:()=>j,d5:()=>c,tB:()=>h,vI:()=>S,yx:()=>o,zO:()=>_});var t=n(91007),l=n(58208);const a=e=>{const{data:i,refetch:n}=(0,l.YD)(e.search,{skip:e.skip});return{instituteAllSearch:i,instituteAllSearchRefetch:n}},s=()=>{const[e]=(0,l.ak)();return[e]},o=()=>{const[e]=(0,l.WL)();return[e]},d=e=>{const{data:i,refetch:n}=(0,l.pH)(e.list,{skip:e.skip});return{instituteFollowList:i,instituteFollowListRefetch:n}},c=e=>{const{data:i,refetch:n}=(0,l.MG)(e.data,{skip:e.skip});return{instituteOwnFollowingList:i,instituteOwnFollowingListRefetch:n}},r=()=>{const[e]=(0,l.Ky)();return[e]},u=e=>{const{data:i,refetch:n}=(0,l.p8)(e.list);return{userFollowList:i,userFollowListRefetch:n}},v=e=>{const{data:i,refetch:n}=(0,l.Wv)(e);return{userFollowingList:i,userFollowingListRefetch:n}},m=e=>{const{data:i,refetch:n}=(0,l.sz)(e.search,{skip:e.skip});return{userAllSearch:i,userAllSearchRefetch:n}},p=()=>{const[e]=(0,l.Mk)();return[e]},_=()=>{const[e]=(0,l.$i)();return[e]},h=()=>{const[e]=(0,l.Do)();return[e]},f=()=>{const[e]=(0,l.He)();return[e]},g=()=>{const[e]=(0,l.vg)();return[e]},x=()=>{const[e]=(0,l.OO)();return[e]},j=e=>{const{data:i,refetch:n}=(0,l.N2)(e);return{userCircleList:i,userCircleListRefetch:n}},S=e=>{const{data:i,refetch:n}=(0,t.x6)(e.search,{skip:e.skip});return{assignSearchStaff:i,assignSearchStaffRefetch:n}},b=e=>{const{data:i,refetch:n}=(0,l.SJ)(e);return{universalUser:i,universalUserRefetch:n}}},64783:(e,i,n)=>{"use strict";n.d(i,{Z:()=>o});n(72791);var t=n(90788),l=n(16871),a=n(43504),s=n(80184);const o=e=>{let{tabLevel:i,customStyleContainer:n,customStyleLevel:o,currentValue:d,tabValue:c,carryParentState:r,activeUrl:u}=e;const v=(0,l.UO)();return(0,s.jsx)(a.rU,{to:"/q/".concat(v.username,"/").concat(u),state:r,className:d===c?t.Z.common_tab_container_active:t.Z.common_tab_container,style:n,children:(0,s.jsx)("h6",{className:d===c?t.Z.common_tab_text_active:t.Z.common_tab_text,style:o,children:i})})}},98094:(e,i,n)=>{"use strict";n.d(i,{Z:()=>a});n(72791);var t=n(55136),l=n(80184);const a=e=>{let{customStyle:i}=e;return(0,l.jsx)("hr",{className:t.Z.universal_hr,style:{...i}})}},79992:(e,i,n)=>{"use strict";n.d(i,{ZH:()=>l});var t=n(44816);const l=e=>{var i=t.AES.decrypt(e,"QVIPLESAASPLATFORM");return JSON.parse(i.toString(t.enc.Utf8))}},42190:(e,i,n)=>{"use strict";n.d(i,{Z:()=>t});const t={insChat:"AdmisionAdmin_insChat__lOFwA",navbarr:"AdmisionAdmin_navbarr__JxsSe",admission_ins_container:"AdmisionAdmin_admission_ins_container__MAcuH"}},52124:(e,i,n)=>{"use strict";n.d(i,{Z:()=>t});const t={assign_title:"AssignStaffModal_assign_title__4DGBV",assign_search_container:"AssignStaffModal_assign_search_container__3x6RD",assign_search_input:"AssignStaffModal_assign_search_input__rO3c7",assign_show_list:"AssignStaffModal_assign_show_list__yHhf7",assign_show_list_each:"AssignStaffModal_assign_show_list_each__ACUEw",assign_each_paragraph:"AssignStaffModal_assign_each_paragraph__pMHTq",universal_modal:"AssignStaffModal_universal_modal__czmpB",is_mulitselect_container:"AssignStaffModal_is_mulitselect_container__0cPQ2"}},74737:(e,i,n)=>{"use strict";n.d(i,{Z:()=>t});const t={main:"Main_main__4mpMH",stats:"Main_stats__05reL",stats1:"Main_stats1__WlbdF",finance_container:"Main_finance_container__2pMkG",finance_container_other:"Main_finance_container_other__+Fq3c",institute_finance_container_border:"Main_institute_finance_container_border__Jgqpr",finance_tab_tabs:"Main_finance_tab_tabs__ufRpi",item:"Main_item__RsX-U",itemIcon:"Main_itemIcon__MA5vy"}},45639:(e,i,n)=>{"use strict";n.d(i,{Z:()=>t});const t={universal_container:"UniversalTab_universal_container__uxTOR",universal_container_item:"UniversalTab_universal_container_item__M0pS7",universal_container_item_active:"UniversalTab_universal_container_item_active__3u3Wt"}},89792:(e,i,n)=>{"use strict";n.d(i,{Z:()=>t});const t={navbar:"AdmissionSiteInfo_navbar__3qPXl",bgContainer:"AdmissionSiteInfo_bgContainer__HnhyZ",container:"AdmissionSiteInfo_container__HIvsR",containercontent:"AdmissionSiteInfo_containercontent__waYaP",containerhead:"AdmissionSiteInfo_containerhead__iNq+5",site_tab_container:"AdmissionSiteInfo_site_tab_container__wjSD6",site_tab_container_h6:"AdmissionSiteInfo_site_tab_container_h6__qNLeR",site_tab_container_h6_active:"AdmissionSiteInfo_site_tab_container_h6_active__wXF-l",container_inner_content:"AdmissionSiteInfo_container_inner_content__+psu6",show_field:"AdmissionSiteInfo_show_field__KlpRB",leading_person_container:"AdmissionSiteInfo_leading_person_container__F193z",leading_person_text:"AdmissionSiteInfo_leading_person_text__ez8d8",update_btn:"AdmissionSiteInfo_update_btn__upn6L",add_contact_person:"AdmissionSiteInfo_add_contact_person__1g6EG",add_contact_person_btn:"AdmissionSiteInfo_add_contact_person_btn__Ltl0+",labelContainer:"AdmissionSiteInfo_labelContainer__5pjlx",label:"AdmissionSiteInfo_label__bXkjx",inputBox:"AdmissionSiteInfo_inputBox__TAj3q",add_supporting_member:"AdmissionSiteInfo_add_supporting_member__vHGpU",add_supporting_member_heading:"AdmissionSiteInfo_add_supporting_member_heading__Ssh+Y",flexItem50:"AdmissionSiteInfo_flexItem50__XAjqB",fileinputflexContainer:"AdmissionSiteInfo_fileinputflexContainer__eyo27",input_label:"AdmissionSiteInfo_input_label__qJwiD",labelspan:"AdmissionSiteInfo_labelspan__mHavW",formselect:"AdmissionSiteInfo_formselect__d7NSq",input_border_active:"AdmissionSiteInfo_input_border_active__zIRs+",genderh:"AdmissionSiteInfo_genderh__EG6HT",genderplaceholder:"AdmissionSiteInfo_genderplaceholder__a+Q8r",upIcon:"AdmissionSiteInfo_upIcon__w42RU",downIcon:"AdmissionSiteInfo_downIcon__9MVVe",site_theme:"AdmissionSiteInfo_site_theme__1-dJU",site_theme_header:"AdmissionSiteInfo_site_theme_header__x99NO",site_theme_container:"AdmissionSiteInfo_site_theme_container__2viTW",site_theme_icon:"AdmissionSiteInfo_site_theme_icon__eEXvZ"}},85161:(e,i,n)=>{"use strict";n.d(i,{Z:()=>t});const t={remainingFees:"RemainingFees_remainingFees__G74JQ",subItem:"RemainingFees_subItem__maJF6",item:"RemainingFees_item__2o1X9",text:"RemainingFees_text__JnUvj"}},55136:(e,i,n)=>{"use strict";n.d(i,{Z:()=>t});const t={staff_profile_container:"StaffProfile_staff_profile_container__GG5AM",staff_header_container:"StaffProfile_staff_header_container__avRlK",staff_header_function:"StaffProfile_staff_header_function__l9cDM",staff_header_text:"StaffProfile_staff_header_text__XX8rQ",staff_header_prev:"StaffProfile_staff_header_prev__ImXKU",staff_header_next:"StaffProfile_staff_header_next__jjoJr",staff_header_close:"StaffProfile_staff_header_close__wXG-N",staff_profile_photo_name:"StaffProfile_staff_profile_photo_name__WWUV4",staff_profile_photo_index:"StaffProfile_staff_profile_photo_index__-yyx9",each_info_container:"StaffProfile_each_info_container__Mo3TB",each_field_text:"StaffProfile_each_field_text__vvAvg",each_field_text_value:"StaffProfile_each_field_text_value__k1OsE",universal_hr:"StaffProfile_universal_hr__w130J",staff_profile_photo_container:"StaffProfile_staff_profile_photo_container__rFPEV",staff_profile_photo_info:"StaffProfile_staff_profile_photo_info__CxVDi",staff_profile_photo_image:"StaffProfile_staff_profile_photo_image__5f2cC",staff_profile_photo_edit:"StaffProfile_staff_profile_photo_edit__y03dk",each_field_container:"StaffProfile_each_field_container__0qKjw",each_field:"StaffProfile_each_field__18G-9",student_attendane_container:"StaffProfile_student_attendane_container__64BII",student_attendance_heading:"StaffProfile_student_attendance_heading__0hW2K",colours:"StaffProfile_colours__-7mIV",monthColours:"StaffProfile_monthColours__A3asC",percentage:"StaffProfile_percentage__GO1RT",presentcount:"StaffProfile_presentcount__u30HH",absentcount:"StaffProfile_absentcount__d+utq",link_hold_container:"StaffProfile_link_hold_container__0dRjX",link_hold_container_hostel:"StaffProfile_link_hold_container_hostel__LcldT",card_hold_container:"StaffProfile_card_hold_container__HQQcE",admission_fees:"StaffProfile_admission_fees__MoZHM",certificate_btn_container:"StaffProfile_certificate_btn_container__jui9m",certificate_btn:"StaffProfile_certificate_btn__3NWfg",admission_actions:"StaffProfile_admission_actions__ayyJD",staff_designation_btn:"StaffProfile_staff_designation_btn__4C3h7",ospp_header:"StaffProfile_ospp_header__oteF5",ospph_img:"StaffProfile_ospph_img__gPivu"}},42480:()=>{}}]);
//# sourceMappingURL=20619.413c1a3e.chunk.js.map