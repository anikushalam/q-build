"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[8139],{11728:function(e,n,t){t.d(n,{TW:function(){return s},Wt:function(){return l},sY:function(){return i}});var l=[{key:"ALL_BATCH",name:"all_batches"},{key:"ACTIVE_BATCH",name:"active_batches"}],i=[{key:"ALL",name:"all_departments"},{key:"PARTICULAR",name:"particular_department"}],s=[{key:"ALL_BATCH",name:"all_batches"},{key:"PARTICULAR_BATCH",name:"particular_batch"}]},31897:function(e,n,t){var l=t(1413),i=t(37762),s=t(29439),a=t(72791),o=t(39230),c=t(52245),d=t(98684),r=t(80184);n.Z=function(e){var n=e.selectLabel,t=e.onClick,_=e.selectedValue,u=e.options,v=e.customStyleContainer,f=e.customLabelStyle,h=e.customListStyle,m=e.errorShow,b=e.defalutValue,x=e.viewAs,j=e.isFull,p=(0,o.$G)().t,Z=(0,a.useState)(!1),g=(0,s.Z)(Z,2),y=g[0],N=g[1],S=(0,a.useState)(""),L=(0,s.Z)(S,2),k=L[0],A=L[1],C=function(){N((function(e){return!e}))};(0,a.useEffect)((function(){"NORMAL_FILTER"===x&&A(b)}),[x,b]),(0,a.useEffect)((function(){if("CUSTOM_FILTER"===x){var e,n="",t=(0,i.Z)(u);try{for(t.s();!(e=t.n()).done;){var l,s=e.value,a=(0,i.Z)(b);try{for(a.s();!(l=a.n()).done;){var o=l.value;if((null===s||void 0===s?void 0:s._id)===o){var c,d,r,_=null!==(c=null!==(d=null!==(r=null===s||void 0===s?void 0:s.dName)&&void 0!==r?r:null===s||void 0===s?void 0:s.batchName)&&void 0!==d?d:null===s||void 0===s?void 0:s.className)&&void 0!==c?c:"";n=n?n+", "+_:_}}}catch(v){a.e(v)}finally{a.f()}}}catch(v){t.e(v)}finally{t.f()}A(n)}}),[x,b,u]);var T=function(e){var n;t(j?e:null===e||void 0===e?void 0:e._id),C(),A(null!==(n=null===e||void 0===e?void 0:e.dName)&&void 0!==n?n:e)};return(0,r.jsxs)("div",{className:c.Z.form_input_container,style:(0,l.Z)({},v),children:[(0,r.jsxs)("p",{className:c.Z.join_form_select_paragraph,style:(0,l.Z)({},f),children:[n,m&&(0,r.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",p("form_require_label")]})]}),(0,r.jsxs)("section",{className:c.Z.join_form_select_custom,onClick:C,children:[k?(0,r.jsx)("p",{className:c.Z.join_form_select_custom_paragraph,children:null!==k&&void 0!==k?k:""}):(0,r.jsx)("p",{className:c.Z.join_form_select_custom_paragraph,children:_}),y?(0,r.jsx)("img",{className:c.Z.join_form_select_custom_rotate_icon,src:"".concat(d.J7,"/down.svg"),alt:"categor icon"}):(0,r.jsx)("img",{className:c.Z.join_form_select_custom_icon,src:"".concat(d.J7,"/down.svg"),alt:"categor icon"})]}),y&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("section",{className:c.Z.join_form_select_custom_list,style:h,children:null===u||void 0===u?void 0:u.map((function(e,n){var t;return(0,r.jsx)("p",{onClick:function(){return T(e)},className:c.Z.join_form_select_custom_paragraph_option,children:null!==(t=null===e||void 0===e?void 0:e.dName)&&void 0!==t?t:e},n)}))})})]})}},26071:function(e,n,t){var l=t(51416),i=t(39230),s=t(80184);n.Z=function(e){var n=e.tile,t=e.onTile,a=e.activeTile,o=e.customTileChild,c=(0,i.$G)().t;return(0,s.jsx)("div",{className:(null===n||void 0===n?void 0:n.key)===a?l.Z.tile_tile_active:l.Z.tile_tile,onClick:function(){return t(null===n||void 0===n?void 0:n.key)},style:o,children:c(null===n||void 0===n?void 0:n.name)})}},20659:function(e,n,t){var l=t(51416),i=t(39230),s=t(80184);n.Z=function(e){var n=e.label,t=e.customTileLabel,a=e.customTileContainer,o=e.children,c=(0,i.$G)().t;return(0,s.jsxs)("div",{className:l.Z.tile_container,children:[n&&(0,s.jsx)("h6",{className:l.Z.tile_label,style:t,children:c(n)}),(0,s.jsx)("section",{className:l.Z.tile_tile_container,style:a,children:o})]})}},8139:function(e,n,t){t.r(n),t.d(n,{default:function(){return D}});var l=t(29439),i=t(43504),s=t(72791),a=t(39230),o=t(93405),c=t(63687),d=t(21348),r=t(90904),_=t(1413),u=t(55336),v=t(98684),f=t(93638),h=t(48293),m=t(47334),b=t(93433),x=t(84975),j=t(31897),p=t(80184),Z=function(e){var n=e.fid,t=e.onSelect,l=e.onlyDepartment,i=(0,a.$G)().t,s=(0,x.Jv)({fid:n,skip:!n}).instituteAllDepartment;return(0,p.jsx)(p.Fragment,{children:l?(0,p.jsx)(j.Z,{selectLabel:i("select_department"),selectedValue:i("select_department_placeholder"),options:(null===s||void 0===s?void 0:s.length)>0?s:[],onClick:t,isFull:!0}):(0,p.jsx)(j.Z,{selectLabel:i("select_department"),selectedValue:i("select_department_placeholder"),options:(null===s||void 0===s?void 0:s.length)>0?["ALL","By Bank","Particular Student"].concat((0,b.Z)(s)):["ALL","By Bank","Particular Student"],onClick:t,isFull:!0})})},g=t(33880),y=function(e){var n=e.did,t=e.onSelect,l=e.onlyBatch,i=(0,a.$G)().t,s=(0,x._m)({did:n,skip:!n}).departmentAllBatch;return(0,p.jsx)(p.Fragment,{children:l?(0,p.jsx)(g.Z,{selectLabel:i("select_batch"),selectedValue:i("select_batch_placeholder"),options:(null===s||void 0===s?void 0:s.length)>0?s:[],onClick:t,isFull:!0}):(0,p.jsx)(g.Z,{selectLabel:i("select_batch"),selectedValue:i("select_batch_placeholder"),options:(null===s||void 0===s?void 0:s.length)>0?["ALL"].concat((0,b.Z)(s)):["ALL"],onClick:t,isFull:!0})})},N=t(40739),S=function(e){var n=e.instituteId,t=e.did,l=e.onSelect,i=(0,a.$G)().t,s=(0,x.lj)({data:{id:n,did:t},skip:n?!t:!n}).departmentAllClassMaster;return(0,p.jsx)(N.Z,{selectLabel:i("select_standard"),selectedValue:i("select_standard_placeholder"),options:(null===s||void 0===s?void 0:s.length)>0?(0,b.Z)(s):[],onClick:l,isFull:!0})},L=t(37762),k=t(52245),A=function(e){var n=e.selectLabel,t=e.onClick,i=e.selectedValue,o=e.options,c=e.customStyleContainer,d=e.customLabelStyle,r=e.customListStyle,u=e.errorShow,f=e.defalutValue,h=e.viewAs,m=e.isFull,b=(0,a.$G)().t,x=(0,s.useState)(!1),j=(0,l.Z)(x,2),Z=j[0],g=j[1],y=(0,s.useState)(""),N=(0,l.Z)(y,2),S=N[0],A=N[1],C=function(){g((function(e){return!e}))};(0,s.useEffect)((function(){"NORMAL_FILTER"===h&&A(f)}),[h,f]),(0,s.useEffect)((function(){if("CUSTOM_FILTER"===h){var e,n="",t=(0,L.Z)(o);try{for(t.s();!(e=t.n()).done;){var l,i=e.value,s=(0,L.Z)(f);try{for(s.s();!(l=s.n()).done;){var a=l.value;if((null===i||void 0===i?void 0:i._id)===a){var c,d,r,_=null!==(c=null!==(d=null!==(r=null===i||void 0===i?void 0:i.dName)&&void 0!==r?r:null===i||void 0===i?void 0:i.batchName)&&void 0!==d?d:null===i||void 0===i?void 0:i.className)&&void 0!==c?c:"";n=n?n+", "+_:_}}}catch(u){s.e(u)}finally{s.f()}}}catch(u){t.e(u)}finally{t.f()}A(n)}}),[h,f,o]);var T=function(e){var n;t(m?e:null===e||void 0===e?void 0:e._id),C(),A(null!==(n=null===e||void 0===e?void 0:e.finance_bank_account_name)&&void 0!==n?n:e)};return(0,p.jsxs)("div",{className:k.Z.form_input_container,style:(0,_.Z)({},c),children:[(0,p.jsxs)("p",{className:k.Z.join_form_select_paragraph,style:(0,_.Z)({},d),children:[n,u&&(0,p.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",b("form_require_label")]})]}),(0,p.jsxs)("section",{className:k.Z.join_form_select_custom,onClick:C,children:[S?(0,p.jsx)("p",{className:k.Z.join_form_select_custom_paragraph,children:null!==S&&void 0!==S?S:""}):(0,p.jsx)("p",{className:k.Z.join_form_select_custom_paragraph,children:i}),Z?(0,p.jsx)("img",{className:k.Z.join_form_select_custom_rotate_icon,src:"".concat(v.J7,"/down.svg"),alt:"categor icon"}):(0,p.jsx)("img",{className:k.Z.join_form_select_custom_icon,src:"".concat(v.J7,"/down.svg"),alt:"categor icon"})]}),Z&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("section",{className:k.Z.join_form_select_custom_list,style:r,children:null===o||void 0===o?void 0:o.map((function(e,n){var t;return(0,p.jsx)("p",{onClick:function(){return T(e)},className:k.Z.join_form_select_custom_paragraph_option,children:null!==(t=null===e||void 0===e?void 0:e.finance_bank_account_name)&&void 0!==t?t:e},n)}))})})]})},C=function(e){var n,t=e.fid,l=e.onSelect,i=(0,a.$G)().t,s=(0,x.iB)({data:{fid:t,page:1,limit:1e3,search:""},skip:!t}).financeAllBank;return(0,p.jsx)(A,{selectLabel:i("bank_account"),selectedValue:i("bank_account_placeholder"),options:(null===s||void 0===s||null===(n=s.all_accounts)||void 0===n?void 0:n.length)>0?(0,b.Z)(null===s||void 0===s?void 0:s.all_accounts):[],onClick:l,isFull:!0})},T=t(20659),I=t(26071),R=t(11728),U=function(e){var n=e.onClose,t=e.fid,i=e.instituteId,o=e.onRefetch,c=(0,a.$G)().t,b=(0,s.useState)({activity_status:"",all_depart:"",batch_status:"",master:[],batch:"",depart:"",bank:"",single_student:""}),j=(0,l.Z)(b,2),g=j[0],N=j[1],L=(0,s.useState)(!1),k=(0,l.Z)(L,2),A=k[0],U=k[1],F=(0,x.wL)(),B=(0,l.Z)(F,1)[0],J=(0,s.useCallback)((function(e){null!==e&&void 0!==e&&e._id&&N((function(n){return(0,_.Z)((0,_.Z)({},n),{},{all_depart:"PARTICULAR",depart:null===e||void 0===e?void 0:e._id})}))}),[]),E=(0,s.useCallback)((function(e){null!==e&&void 0!==e&&e._id?N((function(n){return(0,_.Z)((0,_.Z)({},n),{},{batch_status:"PARTICULAR_BATCH",batch:null===e||void 0===e?void 0:e._id})})):N((function(e){return(0,_.Z)((0,_.Z)({},e),{},{batch_status:"ALL_BATCH",batch:""})}))}),[]),w=(0,s.useCallback)((function(e){N((function(n){return(0,_.Z)((0,_.Z)({},n),{},{master:[null===e||void 0===e?void 0:e._id]})}))}),[]),V=(0,s.useCallback)((function(e){N((function(n){return(0,_.Z)((0,_.Z)({},n),{},{bank:null===e||void 0===e?void 0:e._id})}))}),[]),M=function(e){e===g.activity_status?N((function(e){return(0,_.Z)((0,_.Z)({},e),{},{activity_status:"",batch:""})})):N((function(n){return(0,_.Z)((0,_.Z)({},n),{},{activity_status:e,batch:""})}))},P=function(e){N((function(n){return(0,_.Z)((0,_.Z)({},n),{},{all_depart:e,depart:""})}))},O=function(e){N((function(n){return(0,_.Z)((0,_.Z)({},n),{},{batch_status:e,batch:""})}))};return(0,p.jsx)(h.Z,{onClose:n,children:(0,p.jsxs)("div",{className:m.Z.modal_container,children:[(0,p.jsx)(d.Z,{children:(0,p.jsxs)("div",{className:m.Z.modal_container_outer_header,children:[(0,p.jsx)("div",{className:m.Z.modal_container_header,children:(0,p.jsx)("h6",{children:c("overall_fee_statistics_filter")})}),(0,p.jsx)("img",{src:"".concat(v.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,p.jsx)(r.Z,{}),(0,p.jsxs)(d.Z,{customStyle:{paddingTop:"0"},children:[(0,p.jsx)(T.Z,{label:"activity_type",children:null===R.Wt||void 0===R.Wt?void 0:R.Wt.map((function(e){return(0,p.jsx)(I.Z,{tile:e,onTile:M,activeTile:g.activity_status},null===e||void 0===e?void 0:e.key)}))}),g.activity_status?null:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(T.Z,{label:"department_type",children:null===R.sY||void 0===R.sY?void 0:R.sY.map((function(e){return(0,p.jsx)(I.Z,{tile:e,onTile:P,activeTile:g.all_depart},null===e||void 0===e?void 0:e.key)}))}),"PARTICULAR"===g.all_depart?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Z,{fid:t,onSelect:J,onlyDepartment:!0}),(0,p.jsx)(T.Z,{label:"batch_type",children:null===R.TW||void 0===R.TW?void 0:R.TW.map((function(e){return(0,p.jsx)(I.Z,{tile:e,onTile:O,activeTile:g.batch_status},null===e||void 0===e?void 0:e.key)}))}),"PARTICULAR_BATCH"===g.batch_status?(0,p.jsx)(y,{did:g.depart,onSelect:E,onlyBatch:!0}):null,(0,p.jsx)(S,{did:g.depart,onSelect:w,instituteId:i})]}):null,(0,p.jsx)(C,{fid:t,onSelect:V})]}),(0,p.jsx)(f.Z,{label:"filter",onAction:function(){t&&(U((function(e){return!e})),B({fid:t,moduleType:"OVERALL_VIEW",statisticsBody:g}).then((function(){n(),o&&o(),U((function(e){return!e}))})).catch({}))}})]}),A&&(0,p.jsx)(u.Z,{})]})})},F=t(51723),B=function(e){var n=e.label,t=e.amount,l=e.iconUrl,i=e.onAction,s=e.arr,o=(0,a.$G)().t;return(0,p.jsxs)("div",{className:F.Z.osc_card,onClick:function(){i(s)},children:[(0,p.jsx)("img",{src:l,alt:"overal icon"}),(0,p.jsxs)("div",{className:F.Z.osc_card_inner,children:[(0,p.jsxs)("h6",{children:[o("rs")," ",null!==t&&void 0!==t?t:0]}),(0,p.jsx)("p",{children:o(n)})]})]})},J=t(16871),E=function(e){var n,t,l,i,a,o,c,d,r,u,h,m,b,x,j,Z=e.fnanceOverallFeeStatistics,g=(0,J.s0)(),y=(0,J.UO)(),N=(0,J.TH)(),S=(0,s.useCallback)((function(){g("/q/".concat(y.username,"/member/staff/finance?type=fees-statistics&n=admission"),{state:N.state})}),[g,y,N.state]),L=(0,s.useCallback)((function(e){(null===e||void 0===e?void 0:e.length)>0&&g("/q/".concat(y.username,"/member/staff/finance?type=statistics-detail"),{state:(0,_.Z)((0,_.Z)({},N.state),{},{studentList:e,openAs:"OVERVIEW"})})}),[g,y]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:F.Z.osc_container,children:[(0,p.jsxs)("div",{className:F.Z.osc_container_inner,children:[(0,p.jsx)(B,{iconUrl:"".concat(v.J7,"/total-fees.svg"),amount:null!==(n=null===Z||void 0===Z?void 0:Z.total_fees)&&void 0!==n?n:0,label:"total_fees_to_be_collected",onAction:L,arr:null===Z||void 0===Z?void 0:Z.total_fees_arr}),(0,p.jsx)(B,{iconUrl:"".concat(v.J7,"/total-collection.svg"),amount:null!==(t=null===Z||void 0===Z?void 0:Z.total_collect)&&void 0!==t?t:0,label:"total_collection",onAction:L,arr:null===Z||void 0===Z?void 0:Z.total_collect_arr}),(0,p.jsx)(B,{iconUrl:"".concat(v.J7,"/total-collected.svg"),amount:null!==(l=null===Z||void 0===Z?void 0:Z.total_pending)&&void 0!==l?l:0,label:"total_outstanding",onAction:L,arr:null===Z||void 0===Z?void 0:Z.total_pending_arr})]}),(0,p.jsxs)("div",{className:F.Z.osc_container_inner,children:[(0,p.jsx)(B,{iconUrl:"".concat(v.J7,"/student-collection.svg"),amount:null!==(i=null===Z||void 0===Z?void 0:Z.fees_to_be_collected_student)&&void 0!==i?i:0,label:"fees_to_be_collected_from_student",onAction:L,arr:null===Z||void 0===Z?void 0:Z.fees_to_be_collected_student_arr}),(0,p.jsx)(B,{iconUrl:"".concat(v.J7,"/student-collection.svg"),amount:null!==(a=null===Z||void 0===Z?void 0:Z.collect_by_student)&&void 0!==a?a:0,label:"collection_from_student",onAction:L,arr:null===Z||void 0===Z?void 0:Z.collect_by_student_arr}),(0,p.jsx)(B,{iconUrl:"".concat(v.J7,"/student-pending.svg"),amount:null!==(o=null===Z||void 0===Z?void 0:Z.pending_by_student)&&void 0!==o?o:0,label:"outstanding_from_student",onAction:L,arr:null===Z||void 0===Z?void 0:Z.pending_by_student_arr})]}),(0,p.jsxs)("div",{className:F.Z.osc_container_inner,children:[(0,p.jsx)(B,{iconUrl:"".concat(v.J7,"/gov-recieve.svg"),amount:null!==(c=null===Z||void 0===Z?void 0:Z.fees_to_be_collected_government)&&void 0!==c?c:0,label:"fees_to_be_receive_as_scholarship",onAction:L,arr:null===Z||void 0===Z?void 0:Z.fees_to_be_collected_government_arr}),(0,p.jsx)(B,{iconUrl:"".concat(v.J7,"/gov-recieve.svg"),amount:null!==(d=null===Z||void 0===Z?void 0:Z.collect_by_government)&&void 0!==d?d:0,label:"collection_as_scholarship",onAction:L,arr:null===Z||void 0===Z?void 0:Z.collect_by_government_arr}),(0,p.jsx)(B,{iconUrl:"".concat(v.J7,"/gov-pending.svg"),amount:null!==(r=null===Z||void 0===Z?void 0:Z.pending_from_government)&&void 0!==r?r:0,label:"outstanding_as_scholarship",onAction:L,arr:null===Z||void 0===Z?void 0:Z.pending_from_government_arr})]}),(0,p.jsxs)("div",{className:F.Z.osc_container_inner,children:[(0,p.jsx)(B,{iconUrl:"".concat(v.J7,"/excess-fee.svg"),amount:null!==(u=null===Z||void 0===Z?void 0:Z.internal_fees)&&void 0!==u?u:0,label:"other_internal_fees_to_be_collected",onAction:function(){}}),(0,p.jsx)(B,{iconUrl:"".concat(v.J7,"/excess-fee.svg"),amount:null!==(h=null===Z||void 0===Z?void 0:Z.internal_os_fees)&&void 0!==h?h:0,label:"outstanding_internal_fees",onAction:function(){}}),(0,p.jsx)(B,{iconUrl:"".concat(v.J7,"/excess-fee.svg"),amount:null!==(m=null===Z||void 0===Z?void 0:Z.excess_fees)&&void 0!==m?m:0,label:"excess_fees_paid_by_student",onAction:function(){}})]}),(0,p.jsxs)("div",{className:F.Z.osc_container_inner,children:[(0,p.jsx)(B,{iconUrl:"".concat(v.J7,"/total-deposit.svg"),amount:null!==(b=null===Z||void 0===Z?void 0:Z.total_deposits)&&void 0!==b?b:0,label:"deposits_to_be_refunded",onAction:function(){}}),(0,p.jsx)(B,{iconUrl:"".concat(v.J7,"/total-income.svg"),amount:null!==(x=null===Z||void 0===Z?void 0:Z.incomes)&&void 0!==x?x:0,label:"other_incomes",onAction:function(){}}),(0,p.jsx)(B,{iconUrl:"".concat(v.J7,"/total-expense.svg"),amount:null!==(j=null===Z||void 0===Z?void 0:Z.expenses)&&void 0!==j?j:0,label:"other_expenses",onAction:function(){}})]})]}),(0,p.jsx)(f.Z,{label:"admission_fees_statitics",onAction:S,customStyle:{width:"fit-content"}})]})},w=t(97892),V=t.n(w),M=t(82824),P=function(e){var n,t,i,_,h=e.fid,m=e.instituteId,b=(0,a.$G)().t,j=(0,s.useState)(""),Z=(0,l.Z)(j,2),g=Z[0],y=Z[1],N=(0,s.useState)(!1),S=(0,l.Z)(N,2),L=S[0],k=S[1],A=(0,x.wL)(),C=(0,l.Z)(A,1)[0],T=(0,x.Z2)({fid:h,skip:!h}),I=T.fnanceOverallFeeStatistics,R=T.fnanceOverallFeeStatisticsRefetch,F=(0,s.useCallback)((function(){y("")}),[]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(c.Z,{children:[(0,p.jsx)(d.Z,{children:(0,p.jsx)("div",{className:o.Z.fm_header_container,children:(0,p.jsx)("h6",{children:b("overall_fees_statitics")})})}),(0,p.jsx)(r.Z,{}),(0,p.jsxs)(d.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,p.jsxs)("div",{className:o.Z.fm_fs_container,children:[(0,p.jsxs)("h6",{className:o.Z.fm_title_heading,style:{flex:"2 2"},children:[b("applied_filter")," "," : ",null!==I&&void 0!==I&&null!==(n=I.fees_statistics_filter)&&void 0!==n&&n.department_all?null===I||void 0===I||null===(t=I.fees_statistics_filter)||void 0===t?void 0:t.department_all:null!==I&&void 0!==I&&null!==(i=I.fees_statistics_filter)&&void 0!==i&&i.batch_all?null===I||void 0===I||null===(_=I.fees_statistics_filter)||void 0===_?void 0:_.batch_all:""]}),(0,p.jsxs)("div",{className:o.Z.fm_fs_container_inner,style:{flex:"1 1"},children:[(0,p.jsx)(f.Z,{label:"filter",onAction:function(){y("FILTER")},customStyle:{margin:"0"}}),(0,p.jsxs)("div",{className:o.Z.fm_fs_refetch_container,onClick:function(){var e,n,t,l,i,s,a,o,c,d,r,_,u,v,f,m,b,x,j;!h||null!==C&&void 0!==C&&C.loading_status||(k((function(e){return!e})),C({fid:h,moduleType:"OVERALL_VIEW",statisticsBody:{activity_status:null!==(e=null===I||void 0===I||null===(n=I.fees_statistics_filter)||void 0===n||null===(t=n.bank_level)||void 0===t?void 0:t[0])&&void 0!==e?e:"",all_depart:null!==(l=null===I||void 0===I||null===(i=I.fees_statistics_filter)||void 0===i?void 0:i.department_all)&&void 0!==l?l:"",batch_status:null!==(s=null===I||void 0===I||null===(a=I.fees_statistics_filter)||void 0===a?void 0:a.batch_all)&&void 0!==s?s:"",master:null!==(o=null===I||void 0===I||null===(c=I.fees_statistics_filter)||void 0===c||null===(d=c.master_level)||void 0===d?void 0:d[0])&&void 0!==o?o:[],batch:null!==(r=null===I||void 0===I||null===(_=I.fees_statistics_filter)||void 0===_||null===(u=_.batch_level)||void 0===u?void 0:u[0])&&void 0!==r?r:"",depart:null!==(v=null===I||void 0===I||null===(f=I.fees_statistics_filter)||void 0===f||null===(m=f.department_level)||void 0===m?void 0:m[0])&&void 0!==v?v:"",bank:null!==(b=null===I||void 0===I||null===(x=I.fees_statistics_filter)||void 0===x||null===(j=x.bank_level)||void 0===j?void 0:j[0])&&void 0!==b?b:""}}).then((function(){R(),k((function(e){return!e}))})).catch({}))},children:[null!==C&&void 0!==C&&C.loading_status?(0,p.jsx)("img",{src:"".concat(v.Uw,"/loading.gif"),alt:"refetch icon"}):(0,p.jsx)("img",{src:"".concat(v.J7,"/refresh.svg"),alt:"refetch icon"}),(0,p.jsxs)("div",{className:o.Z.fm_fs_refetch_container_inner,children:[(0,p.jsx)("h6",{children:b("refetch_data")}),(0,p.jsxs)("p",{children:[b("last_updated")," : ",V()(null===I||void 0===I?void 0:I.last_update).format("DD MMM YYYY"),", ",(0,M.J)(null===I||void 0===I?void 0:I.last_update,"LT")]})]})]})]})]}),(0,p.jsx)(E,{fnanceOverallFeeStatistics:I})]})]}),"FILTER"===g?(0,p.jsx)(U,{onClose:F,fid:h,instituteId:m,onRefetch:R}):null,L&&(0,p.jsx)(u.Z,{})]})},O=function(e){var n,t=e.statitics,l=e.batchId,i=e.depart,o=(0,a.$G)().t,c=(0,J.s0)(),d=(0,J.UO)(),r=(0,J.TH)(),u=(0,s.useCallback)((function(e){(null===e||void 0===e?void 0:e.length)>0&&c("/q/".concat(d.username,"/member/staff/finance?type=statistics-detail"),{state:(0,_.Z)((0,_.Z)({},r.state),{},{studentList:e,openAs:"ADMISSION_OVERVIEW",batchId:l,departmentId:i})})}),[c,d]);return(0,p.jsx)("div",{className:F.Z.ss_table,children:(0,p.jsxs)("div",{className:F.Z.fs_table_header,children:[(0,p.jsx)("div",{className:F.Z.fs_table_col,style:{borderRight:"none"},children:null===Y||void 0===Y?void 0:Y.map((function(e){return(0,p.jsx)("div",{className:F.Z.fs_table_header_inner,children:(0,p.jsx)("h6",{className:F.Z.fs_table_header_inner_h6,style:{width:"10rem"},children:o(null===e||void 0===e?void 0:e.name)})},null===e||void 0===e?void 0:e.name)}))}),null===t||void 0===t||null===(n=t.departs)||void 0===n?void 0:n.map((function(e,n){var l,i;return(0,p.jsxs)("div",{className:F.Z.fs_table_col,children:[(0,p.jsx)("div",{className:F.Z.fs_table_header_inner,children:(0,p.jsx)("h6",{className:F.Z.fs_table_header_inner_h6,children:e["dp".concat(n+1)]})}),(0,p.jsx)("div",{className:F.Z.fs_table_col_inner,children:null===(l=t["dp".concat(n+1)])||void 0===l||null===(i=l.batches)||void 0===i?void 0:i.map((function(e){var l,i;return(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:F.Z.fs_table_header_inner,children:(0,p.jsx)("h6",{className:F.Z.fs_table_header_inner_h6,children:null===e||void 0===e?void 0:e.batchName})}),(0,p.jsx)("div",{className:F.Z.fs_table_col_inner,style:{alignItems:"flex-start"},children:null===(l=t["dp".concat(n+1)])||void 0===l||null===(i=l.masters)||void 0===i?void 0:i.map((function(l){var i,s,a,o,c;return(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:F.Z.fs_table_header_inner,children:(0,p.jsx)("h6",{className:F.Z.fs_table_header_inner_h6,style:{width:"10rem"},children:null!==(i=null===l||void 0===l?void 0:l.masterName)&&void 0!==i?i:"NULL"})},null===l||void 0===l?void 0:l._id),(0,p.jsx)("div",{className:F.Z.fs_table_col_inner,children:null===(s=H(null===(c=t["dp".concat(n+1)])||void 0===c?void 0:c.nest_classes,null===e||void 0===e?void 0:e._id))||void 0===s||null===(a=s[null===e||void 0===e?void 0:e._id])||void 0===a||null===(o=a.classes)||void 0===o?void 0:o.map((function(e){var n,t,i,s,a,o,c,d;return(null===e||void 0===e?void 0:e.classMaster)===(null===l||void 0===l?void 0:l._id)?(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:F.Z.fs_table_header_inner,children:(0,p.jsx)("h6",{className:F.Z.fs_table_header_inner_h6,style:{width:"10rem"},children:null!==(n=null===e||void 0===e?void 0:e.className)&&void 0!==n?n:"NULL"})}),(0,p.jsx)("div",{className:F.Z.fs_table_header_inner,children:(0,p.jsx)("h6",{className:F.Z.fs_table_header_inner_h6,onClick:function(){return u(null===e||void 0===e?void 0:e.total_fees_arr)},style:{cursor:"pointer",color:"#00f"},children:null!==(t=null===e||void 0===e?void 0:e.total_fees)&&void 0!==t?t:"NULL"})}),(0,p.jsx)("div",{className:F.Z.fs_table_header_inner,children:(0,p.jsx)("h6",{className:F.Z.fs_table_header_inner_h6,onClick:function(){return u(null===e||void 0===e?void 0:e.total_collect_arr)},style:{cursor:"pointer",color:"#00f"},children:null!==(i=null===e||void 0===e?void 0:e.total_collect)&&void 0!==i?i:"NULL"})}),(0,p.jsx)("div",{className:F.Z.fs_table_header_inner,children:(0,p.jsx)("h6",{className:F.Z.fs_table_header_inner_h6,onClick:function(){return u(null===e||void 0===e?void 0:e.total_pending_arr)},style:{cursor:"pointer",color:"#00f"},children:null!==(s=null===e||void 0===e?void 0:e.total_pending)&&void 0!==s?s:"NULL"})}),(0,p.jsx)("div",{className:F.Z.fs_table_header_inner,children:(0,p.jsx)("h6",{className:F.Z.fs_table_header_inner_h6,onClick:function(){return u(null===e||void 0===e?void 0:e.collect_by_student_arr)},style:{cursor:"pointer",color:"#00f"},children:null!==(a=null===e||void 0===e?void 0:e.collect_by_student)&&void 0!==a?a:"NULL"})}),(0,p.jsx)("div",{className:F.Z.fs_table_header_inner,children:(0,p.jsx)("h6",{className:F.Z.fs_table_header_inner_h6,onClick:function(){return u(null===e||void 0===e?void 0:e.pending_by_student_arr)},style:{cursor:"pointer",color:"#00f"},children:null!==(o=null===e||void 0===e?void 0:e.pending_by_student)&&void 0!==o?o:"NULL"})}),(0,p.jsx)("div",{className:F.Z.fs_table_header_inner,children:(0,p.jsx)("h6",{className:F.Z.fs_table_header_inner_h6,onClick:function(){return u(null===e||void 0===e?void 0:e.collect_by_government_arr)},style:{cursor:"pointer",color:"#00f"},children:null!==(c=null===e||void 0===e?void 0:e.collect_by_government)&&void 0!==c?c:"NULL"})}),(0,p.jsx)("div",{className:F.Z.fs_table_header_inner,children:(0,p.jsx)("h6",{className:F.Z.fs_table_header_inner_h6,onClick:function(){return u(null===e||void 0===e?void 0:e.pending_from_government_arr)},style:{cursor:"pointer",color:"#00f"},children:null!==(d=null===e||void 0===e?void 0:e.pending_from_government)&&void 0!==d?d:"NULL"})})]},null===e||void 0===e?void 0:e._id):null}))})]})}))})]},null===e||void 0===e?void 0:e._id)}))})]},n)}))]})})},Y=[{name:"department"},{name:"batch"},{name:"standard"},{name:"class"},{name:"total_fees"},{name:"total_collect"},{name:"total_pending"},{name:"collect_from_student"},{name:"ot_from_student"},{name:"collect_from_gov"},{name:"ot_from_gov"}],H=function(e,n){var t,l=(0,L.Z)(e);try{for(l.s();!(t=l.n()).done;){var i=t.value;for(var s in i)if(s===n)return i}}catch(a){l.e(a)}finally{l.f()}},W=function(e){var n=e.onClose,t=e.fid,i=(e.instituteId,e.onRefetch),o=(0,a.$G)().t,c=(0,s.useState)({activity_status:"",all_depart:"",batch_status:"",master:[],batch:"",depart:"",bank:"",single_student:""}),b=(0,l.Z)(c,2),j=b[0],g=b[1],N=(0,s.useState)(!1),S=(0,l.Z)(N,2),L=S[0],k=S[1],A=(0,x.wL)(),T=(0,l.Z)(A,1)[0],I=(0,s.useCallback)((function(e){null!==e&&void 0!==e&&e._id&&g((function(n){return(0,_.Z)((0,_.Z)({},n),{},{all_depart:"PARTICULAR",depart:null===e||void 0===e?void 0:e._id})}))}),[]),R=(0,s.useCallback)((function(e){null!==e&&void 0!==e&&e._id?g((function(n){return(0,_.Z)((0,_.Z)({},n),{},{batch_status:"PARTICULAR_BATCH",batch:null===e||void 0===e?void 0:e._id})})):g((function(e){return(0,_.Z)((0,_.Z)({},e),{},{batch_status:"ALL_BATCH",batch:""})}))}),[]),U=(0,s.useCallback)((function(e){g((function(n){return(0,_.Z)((0,_.Z)({},n),{},{bank:null===e||void 0===e?void 0:e._id})}))}),[]);return(0,p.jsx)(h.Z,{onClose:n,children:(0,p.jsxs)("div",{className:m.Z.modal_container,children:[(0,p.jsx)(d.Z,{children:(0,p.jsxs)("div",{className:m.Z.modal_container_outer_header,children:[(0,p.jsx)("div",{className:m.Z.modal_container_header,children:(0,p.jsx)("h6",{children:o("admission_fee_statistics_filter")})}),(0,p.jsx)("img",{src:"".concat(v.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,p.jsx)(r.Z,{}),(0,p.jsxs)(d.Z,{customStyle:{paddingTop:"0"},children:[j.activity_status?null:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Z,{fid:t,onSelect:I,onlyDepartment:!0}),(0,p.jsx)(y,{did:j.depart,onSelect:R,onlyBatch:!0})]}),(0,p.jsx)(C,{fid:t,onSelect:U})]}),(0,p.jsx)(f.Z,{label:"filter",onAction:function(){t&&(k((function(e){return!e})),T({fid:t,moduleType:"ADMISSION_VIEW",statisticsBody:j}).then((function(e){i(),n(),k((function(e){return!e}))})).catch({}))}})]}),L&&(0,p.jsx)(u.Z,{})]})})},G=t(1669),$=function(e){var n,t,i,_,h,m,b,j,Z,g,y,N,S=e.fid,L=e.instituteId,k=(0,a.$G)().t,A=(0,s.useState)(""),C=(0,l.Z)(A,2),T=C[0],I=C[1],R=(0,s.useState)([]),U=(0,l.Z)(R,2),F=U[0],B=U[1],J=(0,x.wL)(),E=(0,l.Z)(J,1)[0],w=(0,s.useState)(!1),P=(0,l.Z)(w,2),Y=P[0],H=P[1],$=(0,s.useCallback)((function(){I("")}),[]),D=(0,x.VP)({fid:S,skip:!S}),q=D.financeAdmissionStatics,z=D.financeAdmissionStaticsRefetch,K=D.financeAdmissionStaticsLoading;(0,s.useEffect)((function(){null!==q&&void 0!==q&&q.excel_list&&B(null===q||void 0===q?void 0:q.excel_list)}),[null===q||void 0===q?void 0:q.excel_list]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(c.Z,{children:[(0,p.jsx)(d.Z,{children:(0,p.jsx)("div",{className:o.Z.fm_header_container,children:(0,p.jsx)("h6",{children:k("admission_fees_statitics")})})}),(0,p.jsx)(r.Z,{}),(0,p.jsxs)(d.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,p.jsxs)("div",{className:o.Z.fm_fs_container,children:[(0,p.jsxs)("h6",{className:o.Z.fm_title_heading,style:{flex:"2 2"},children:[k("apply_filter")," "," : ",null!==q&&void 0!==q&&null!==(n=q.fees_statistics_filter)&&void 0!==n&&null!==(t=n.department_level)&&void 0!==t&&t[0]?"Particular Department, ":"",null!==q&&void 0!==q&&null!==(i=q.fees_statistics_filter)&&void 0!==i&&null!==(_=i.batch_level)&&void 0!==_&&_[0]?"Particular Batch, ":"",null!==q&&void 0!==q&&null!==(h=q.fees_statistics_filter)&&void 0!==h&&null!==(m=h.bank_level)&&void 0!==m&&m[0]?"Particular Bank":""]}),(0,p.jsxs)("div",{className:o.Z.fm_fs_container_inner,style:{flex:"1 1"},children:[(0,p.jsx)(f.Z,{label:"filter",onAction:function(){I("FILTER")},customStyle:{margin:"0"}}),(0,p.jsxs)("div",{className:o.Z.fm_fs_refetch_container,onClick:function(){var e,n,t,l,i,s,a,o,c;!S||null!==q&&void 0!==q&&q.loading_status||(H((function(e){return!e})),E({fid:S,moduleType:"ADMISSION_VIEW",statisticsBody:{activity_status:"",all_depart:"PARTICULAR",batch_status:"PARTICULAR_BATCH",master:[],batch:null!==(e=null===q||void 0===q||null===(n=q.fees_statistics_filter)||void 0===n||null===(t=n.batch_level)||void 0===t?void 0:t[0])&&void 0!==e?e:"",depart:null!==(l=null===q||void 0===q||null===(i=q.fees_statistics_filter)||void 0===i||null===(s=i.department_level)||void 0===s?void 0:s[0])&&void 0!==l?l:"",bank:null!==(a=null===q||void 0===q||null===(o=q.fees_statistics_filter)||void 0===o||null===(c=o.bank_level)||void 0===c?void 0:c[0])&&void 0!==a?a:""}}).then((function(){z(),H((function(e){return!e}))})).catch({}))},children:[null!==q&&void 0!==q&&q.loading_status?(0,p.jsx)("img",{src:"".concat(v.Uw,"/loading.gif"),alt:"refetch icon"}):(0,p.jsx)("img",{src:"".concat(v.J7,"/refresh.svg"),alt:"refetch icon"}),(0,p.jsxs)("div",{className:o.Z.fm_fs_refetch_container_inner,children:[(0,p.jsx)("h6",{children:k("refetch_data")}),(0,p.jsxs)("p",{children:[k("last_updated")," : ",V()().format("DD MMM YYYY"),", ",(0,M.J)(null===q||void 0===q?void 0:q.last_update,"LT")]})]})]})]})]}),K&&(0,p.jsx)(G.Z,{}),(null===F||void 0===F?void 0:F[0])&&(0,p.jsx)(O,{statitics:null===F||void 0===F?void 0:F[0],batchId:null!==(b=null===q||void 0===q||null===(j=q.fees_statistics_filter)||void 0===j||null===(Z=j.batch_level)||void 0===Z?void 0:Z[0])&&void 0!==b?b:"",depart:null!==(g=null===q||void 0===q||null===(y=q.fees_statistics_filter)||void 0===y||null===(N=y.department_level)||void 0===N?void 0:N[0])&&void 0!==g?g:""})]})]}),"FILTER"===T?(0,p.jsx)(W,{onClose:$,fid:S,instituteId:L,onRefetch:z}):null,Y&&(0,p.jsx)(u.Z,{})]})},D=function(e){var n=e.fid,t=e.instituteId,s=(0,i.lr)();return"admission"===(0,l.Z)(s,1)[0].get("n")?(0,p.jsx)($,{instituteId:t,fid:n}):(0,p.jsx)(P,{instituteId:t,fid:n})}},47334:function(e,n){n.Z={right:"Income_right__0wUUc",rightHead:"Income_rightHead__D2Mxh",rightBody:"Income_rightBody__49F1m",card_container:"Income_card_container__SLQif",invoice_number:"Income_invoice_number__MYawd",sidebarheader:"Income_sidebarheader__tpmpC",student_message_container:"Income_student_message_container__K8cXM",text:"Income_text__m0yK+",rcv:"Income_rcv__j-f3R",income_detail:"Income_income_detail__9CpSg",detailTop:"Income_detailTop__Z-ZzL",detailTopMid:"Income_detailTopMid__+7JtJ",modal_container:"Income_modal_container__li0dw",modal_container_outer_header:"Income_modal_container_outer_header__Y6g6B",modal_container_header:"Income_modal_container_header__bh4sB"}},51723:function(e,n){n.Z={ss_table:"StudentStatitics_ss_table__vKxx0",ss_table_header:"StudentStatitics_ss_table_header__6iXFq",ss_table_header_inner:"StudentStatitics_ss_table_header_inner__6P4b-",ss_table_header_inner_height:"StudentStatitics_ss_table_header_inner_height__1b7wh",ss_table_header_inner_fr_center:"StudentStatitics_ss_table_header_inner_fr_center__rPFJe",ss_table_header_h6:"StudentStatitics_ss_table_header_h6__Qybz4",ss_table_header_inner_fr:"StudentStatitics_ss_table_header_inner_fr__MctCS",ss_table_header_inner_fr_inner:"StudentStatitics_ss_table_header_inner_fr_inner__bo0sn",ss_table_header_inner_fr_inner_h6:"StudentStatitics_ss_table_header_inner_fr_inner_h6__yhFoQ",ss_table_header_inner_fr_inner_h6_right:"StudentStatitics_ss_table_header_inner_fr_inner_h6_right__by689",ss_table_minority:"StudentStatitics_ss_table_minority__9YkLT",ss_table_minority_inner:"StudentStatitics_ss_table_minority_inner__1JEN2",fs_table_header:"StudentStatitics_fs_table_header__9Aodh",fs_table_col:"StudentStatitics_fs_table_col__bWz5C",fs_table_header_inner:"StudentStatitics_fs_table_header_inner__U7ViY",fs_table_header_inner_h6:"StudentStatitics_fs_table_header_inner_h6__F9u1p",fs_table_col_inner:"StudentStatitics_fs_table_col_inner__RvbIR",osc_container:"StudentStatitics_osc_container__gHvYi",osc_card:"StudentStatitics_osc_card__-g02L",osc_card_inner:"StudentStatitics_osc_card_inner__0yC2L",osc_container_inner:"StudentStatitics_osc_container_inner__TgksC"}}}]);
//# sourceMappingURL=8139.03e4ab41.chunk.js.map