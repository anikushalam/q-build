"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[708],{90777:function(e,n,l){l(72791);var i=l(39230),t=l(98094),o=l(78910),s=l(80184);n.Z=function(e){var n=e.setIndex,l=e.ConfirmOffline,d=(0,i.$G)().t;return(0,s.jsxs)("div",{className:o.Z.process_modal,children:[(0,s.jsxs)("section",{className:o.Z.add_process_modal_title_left,children:[(0,s.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){n(1)},alt:""}),(0,s.jsx)("h6",{children:d("pay_fees_in_cash")})]}),(0,s.jsx)(t.Z,{customStyle:{width:"100%"}}),(0,s.jsxs)("section",{className:o.Z.process_description,children:[(0,s.jsx)("h6",{children:d("procedure_for_paying_in_cash")}),(0,s.jsxs)("p",{children:["1. ",d("visit_school")," "]}),(0,s.jsxs)("p",{children:["2. ",d("contact_admission_department")]}),(0,s.jsxs)("p",{children:["3. ",d("pay_fees_in_cash")]}),(0,s.jsxs)("p",{children:["4. ",d("your_admission_will_be_confirmed_and_fee")]})]}),(0,s.jsx)("button",{className:o.Z.pay_in_cash_btn,onClick:l,children:d("pay_in_cash")})]})}},51376:function(e,n,l){var i=l(29439),t=l(72791),o=l(11932),s=l(65379),d=l(32804),a=l(11105),r=l(29017),u=l(51561),c=l(98734),v=l(80184);n.Z=function(e){var n,l=e.viewAs,_=e.sudentAdmissionFeesList,h=e.sudentAdmissionFeesListRefetch,m=e.feesQueryRefetch,f=e.showingDataLoading,p=e.isFeesEditable,x=(0,t.useState)(!1),j=(0,i.Z)(x,2),y=j[0],w=j[1],Z=(0,t.useState)(""),g=(0,i.Z)(Z,2),b=g[0],C=g[1],N=(0,t.useState)(!1),S=(0,i.Z)(N,2),A=S[0],k=S[1],R=(0,t.useState)({msg:"",run:!1}),I=(0,i.Z)(R,2),E=I[0],D=I[1],M=(0,r.fB)(),T=(0,i.Z)(M,1)[0],F=function(e){var n;k((function(e){return!e})),T({fid:null===e||void 0===e?void 0:e.financeId,aid:null===e||void 0===e||null===(n=e.install)||void 0===n?void 0:n.appId,flow:"Department"===(null===e||void 0===e?void 0:e.collectFlow)?"BY_DEPARTMENT":"BY_HOSTEL"}).then((function(n){var i,t;(k((function(e){return!e})),null!==n&&void 0!==n&&null!==(i=n.data)&&void 0!==i&&i.denied)?D({msg:"Before initiating payment. you must have a valid bank account to receive payment.",run:!0}):"STUDENT"===l&&null!==e&&void 0!==e&&null!==(t=e.install)&&void 0!==t&&t.isEnable&&(w(!0),C(e))})).catch({})};return(0,v.jsxs)("div",{className:d.Z.student_admission_fees_container,children:[null===_||void 0===_||null===(n=_.array)||void 0===n?void 0:n.map((function(e){return(0,v.jsx)(o.Z,{admission:e,viewAs:l,onAdmissionPaid:F,onAdmissionFeesRefetch:h,renderPageAs:"STUDENT_PROFILE",is_feesdata:!0})})),y&&(0,v.jsx)(s.Z,{installment:b,onAdmissionFeesRefetch:h,onFeesRefetch:m,hideModal:w,addDisplay:y,isFeesEditable:p}),f&&(0,v.jsx)(a.Z,{}),(0,v.jsx)(u.Ch,{msg:E.msg,run:E.run,setRun:function(){return D({msg:"",run:!1})},postiton:"bottom",type:"error"}),A&&(0,v.jsx)(c.Z,{})]})}},4195:function(e,n,l){l(72791);var i=l(32804),t=l(39230),o=l(80184);n.Z=function(e){var n=e.label,l=e.value,s=e.currentValue,d=e.onClick,a=e.customStyleContainer,r=(0,t.$G)().t;return(0,o.jsxs)("div",{className:l===s?"".concat(i.Z.student_fees_btn_container," ").concat(i.Z.student_fees_btn_container_active):i.Z.student_fees_btn_container,onClick:function(){return d(s)},style:a,children:[(0,o.jsx)("h6",{children:r(n)}),(0,o.jsx)("img",{src:"/images/studentclass/fees/fees_arrow_right.svg",alt:"arrow"})]})}},20662:function(e,n,l){l.d(n,{Z:function(){return W}});var i=l(93433),t=l(29439),o=l(72791),s=l(39230),d=l(23441),a=l(87338),r=l(10406),u=l(98094),c=l(11105),v=l(72426),_=l.n(v),h=l(1413),m=l(27117),f=l(89891),p=l(28497),x=l(80214),j=l(98734),y=l(87932),w=l(97655),Z=l(90777),g=l(24426),b=l(8395),C=l(38732),N=l(43118),S=l(51561),A=l(34478),k=l(71439),R=l(64499),I=l(16871),E=l(36665),D=l(80184),M={inputPxrops:{"aria-label":"Switch demo"}};var T=function(e){var n,l,i,d,r,u,c,v,_,T,F,L,O,H,q,B,P,W,G,$,Y,Q,z,J,K,U,V,X,ee,ne,le,ie,te,oe,se,de,ae,re,ue,ce,ve,_e,he,me,fe,pe,xe,je,ye,we,Ze,ge,be,Ce,Ne,Se,Ae,ke,Re,Ie,Ee,De,Me,Te,Fe,Le,Oe,He=e.hideModal,qe=e.statusQuery,Be=e.onRefetchApplication,Pe=(0,s.$G)().t,We=(0,I.UO)(),Ge=(0,o.useState)(!1),$e=(0,t.Z)(Ge,2),Ye=$e[0],Qe=$e[1],ze=(0,o.useState)(0),Je=(0,t.Z)(ze,2),Ke=Je[0],Ue=Je[1],Ve=(0,o.useState)(!1),Xe=(0,t.Z)(Ve,2),en=Xe[0],nn=Xe[1],ln=(0,o.useState)(!1),tn=(0,t.Z)(ln,2),on=tn[0],sn=tn[1],dn=(0,o.useState)(""),an=(0,t.Z)(dn,2),rn=an[0],un=an[1],cn=(0,o.useState)({amount:0,feesId:"",insId:"",type:"",installmentType:""}),vn=(0,t.Z)(cn,2),_n=vn[0],hn=vn[1],mn=(0,o.useState)({msg:"",run:!1}),fn=(0,t.Z)(mn,2),pn=fn[0],xn=fn[1],jn=(0,o.useState)({fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:"",fee_payment_acknowledge:"",month:""}),yn=(0,t.Z)(jn,2),wn=yn[0],Zn=yn[1],gn=(0,x.Rg)().data,bn=(0,x.gt)(),Cn=(0,t.Z)(bn,1)[0],Nn=(0,a.qr)(),Sn=(0,t.Z)(Nn,1)[0],An=(0,y.Vc)({id:null===qe||void 0===qe||null===(n=qe.renewal_hostel)||void 0===n||null===(l=n.institute)||void 0===l?void 0:l._id,skip:!(null!==qe&&void 0!==qe&&null!==(i=qe.renewal_hostel)&&void 0!==i&&null!==(d=i.institute)&&void 0!==d&&d._id)}),kn=An.merchantId,Rn=An.merchantIdRefetch;(0,o.useEffect)((function(){var e,n;null!==qe&&void 0!==qe&&null!==(e=qe.renewal_hostel)&&void 0!==e&&null!==(n=e.institute)&&void 0!==n&&n._id&&Rn()}),[null===qe||void 0===qe||null===(r=qe.renewal_hostel)||void 0===r||null===(u=r.institute)||void 0===u?void 0:u._id,Rn]),(0,o.useEffect)((function(){hn((function(e){var n,l,i;return(0,h.Z)((0,h.Z)({},e),{},{amount:null===qe||void 0===qe||null===(n=qe.renewal_student)||void 0===n||null===(l=n.hostel_fee_structure)||void 0===l||null===(i=l.one_installments)||void 0===i?void 0:i.fees})}))}),[]);var In=function(e){var n={};return e||(n.month_re="is required!"),n},En=function(){var e=In(wn.month),n=!1;for(var l in e)if(l){n=!0;break}if(n)un(e);else{var i,t;sn(!0);var o={sid:null===qe||void 0===qe||null===(i=qe.renewal_student)||void 0===i?void 0:i._id,rid:null===qe||void 0===qe?void 0:qe._id,selectRenewal:2!==Ke?wn:{fee_payment_mode:"By Cash",month:wn.month}};""!==(null===qe||void 0===qe||null===(t=qe.renewal_student)||void 0===t?void 0:t._id)&&""!==(null===qe||void 0===qe?void 0:qe._id)&&Sn(o).then((function(e){e.data.status&&(Be(),sn(!1),He(!1))})).catch({})}};return(0,D.jsxs)(D.Fragment,{children:[!en&&(0,D.jsxs)(E.Z,{onClose:function(){return He(!1)},children:[(0===Ke||1===Ke)&&(0,D.jsxs)("div",{className:m.Z.addDisplay,children:[(0,D.jsxs)("div",{className:m.Z.title,children:[(0,D.jsx)("div",{}),(0,D.jsx)("h6",{children:Pe("confirm_renewal")}),(0,D.jsx)("img",{src:"/images/close-post-icon.svg",onClick:function(){return He(!1)},alt:""})]}),(0,D.jsxs)("div",{className:m.Z.content,children:[(0,D.jsx)(w.Z,{labelText:Pe("stay_for_month"),placeholder:Pe("total_months_placeholder"),name:"month_re",value:null===wn||void 0===wn?void 0:wn.month,type:"text",onChange:function(e){return Zn((function(n){return(0,h.Z)((0,h.Z)({},n),{},{month:e.target.value})}))},errorShow:rn.month_re}),(0,D.jsxs)("div",{className:m.Z.tabsss,children:[(0,D.jsx)("div",{className:0===Ke?"".concat(m.Z.singletab," ").concat(m.Z.singletabActive):m.Z.singletab,onClick:function(){return Ue(0)},children:Pe("pay_online")}),(0,D.jsx)("div",{className:1===Ke?"".concat(m.Z.singletab," ").concat(m.Z.singletabActive):m.Z.singletab,onClick:function(){return Ue(1)},children:Pe("pay_offline")})]}),0===Ke&&(0,D.jsxs)("div",{children:[(0,D.jsxs)("div",{className:m.Z.singlerow,children:[(0,D.jsx)("h6",{children:Pe("admission_fees")}),(0,D.jsxs)("h6",{children:["Rs."," ",null!==(c=null===qe||void 0===qe||null===(v=qe.renewal_student)||void 0===v||null===(_=v.hostel_fee_structure)||void 0===_?void 0:_.total_admission_fees)&&void 0!==c?c:0]})]}),(0,D.jsxs)("div",{className:m.Z.singlerow,style:{marginTop:"1rem"},children:[(0,D.jsx)("h6",{children:Pe("applicable_fees_only")}),(0,D.jsxs)("h6",{children:["Rs."," ",null!==(T=null===qe||void 0===qe||null===(F=qe.renewal_student)||void 0===F||null===(L=F.hostel_fee_structure)||void 0===L?void 0:L.applicable_fees)&&void 0!==T?T:0]})]}),(0,D.jsx)("div",{className:m.Z.singlerow,children:(0,D.jsxs)("h6",{children:[Pe("fees_category")," "," : ",null!==(O=null===qe||void 0===qe||null===(H=qe.renewal_student)||void 0===H||null===(q=H.hostel_fee_structure)||void 0===q||null===(B=q.category_master)||void 0===B?void 0:B.category_name)&&void 0!==O?O:""]})}),(0,D.jsx)("h6",{className:m.Z.fee_structure_note,children:Pe("fee_structure_note")}),(0,D.jsxs)("div",{className:m.Z.singlerow1,children:[(0,D.jsx)("h6",{children:Pe("pay_in_installment")}),(0,D.jsx)(f.Z,(0,h.Z)((0,h.Z)({},M),{},{onChange:function(){Qe((function(e){return!e}))}}))]}),Ye&&(0,D.jsxs)("div",{children:[(0,D.jsx)("div",{className:m.Z.borderr}),(0,D.jsxs)("div",{className:m.Z.singlerow1,children:[(0,D.jsx)("h6",{children:Pe("first_install")}),(0,D.jsxs)("h6",{children:["Rs."," ",null!==(P=null===qe||void 0===qe||null===(W=qe.renewal_student)||void 0===W||null===(G=W.hostel_fee_structure)||void 0===G||null===($=G.one_installments)||void 0===$?void 0:$.fees)&&void 0!==P?P:0]})]})]}),(0,D.jsx)(w.Z,{labelText:Pe("enter_amount_to_be_paid"),name:"amount",type:"tel",value:_n.amount,onChange:function(e){hn((function(n){return(0,h.Z)((0,h.Z)({},n),{},{amount:e.target.value})}))},placeholder:Pe("please_enter_amount_paid")}),(0,D.jsx)("div",{className:m.Z.payandconfirmContainer,children:(0,D.jsx)("p",{className:m.Z.payandconfirm,children:Pe("pay_and_confirm")})}),(0,D.jsx)("div",{className:m.Z.btn,style:{cursor:"pointer"},onClick:function(){var e;return function(e){var n,l,i=In(wn.month),t=!1;for(var o in i)if(o){t=!0;break}t?un(i):+_n.amount>=(null===e||void 0===e||null===(n=e.one_installments)||void 0===n?void 0:n.fees)&&+_n.amount<=(null===e||void 0===e?void 0:e.total_admission_fees)?(hn((0,h.Z)((0,h.Z)({},_n),{},{type:"Admission",installmentType:Ye?"one_installments":""})),nn(!0)):xn({msg:"Enter amount is not less than ".concat(null===e||void 0===e||null===(l=e.one_installments)||void 0===l?void 0:l.fees," or greater than ").concat(null===e||void 0===e?void 0:e.total_admission_fees),run:!0})}(null===qe||void 0===qe||null===(e=qe.renewal_student)||void 0===e?void 0:e.hostel_fee_structure)},children:Pe("pay_confirm")})]}),1===Ke&&(0,D.jsxs)("div",{children:[(0,D.jsxs)("div",{className:m.Z.singlerow,children:[(0,D.jsx)("h6",{children:Pe("admission_fees")}),(0,D.jsxs)("h6",{children:["Rs."," ",null!==(Y=null===qe||void 0===qe||null===(Q=qe.renewal_student)||void 0===Q||null===(z=Q.hostel_fee_structure)||void 0===z?void 0:z.total_admission_fees)&&void 0!==Y?Y:0]})]}),(0,D.jsxs)("div",{className:m.Z.singlerow,style:{marginTop:"1rem"},children:[(0,D.jsx)("h6",{children:Pe("applicable_fees_only")}),(0,D.jsxs)("h6",{children:["Rs."," ",null!==(J=null===qe||void 0===qe||null===(K=qe.renewal_student)||void 0===K||null===(U=K.hostel_fee_structure)||void 0===U?void 0:U.applicable_fees)&&void 0!==J?J:0]})]}),(0,D.jsx)("div",{className:m.Z.singlerow,children:(0,D.jsxs)("h6",{children:[Pe("fees_category")," "," : ",null!==(V=null===qe||void 0===qe||null===(X=qe.renewal_student)||void 0===X||null===(ee=X.hostel_fee_structure)||void 0===ee||null===(ne=ee.category_master)||void 0===ne?void 0:ne.category_name)&&void 0!==V?V:""]})}),(0,D.jsx)("h6",{className:m.Z.fee_structure_note,children:Pe("fee_structure_note")}),(null===qe||void 0===qe||null===(le=qe.renewal_student)||void 0===le||null===(ie=le.hostel_fee_structure)||void 0===ie||null===(te=ie.one_installments)||void 0===te?void 0:te.fees)&&(0,D.jsxs)("div",{className:m.Z.singlerow1,children:[(0,D.jsx)("h6",{children:Pe("first_install")}),(0,D.jsxs)("h6",{children:["Rs."," ",null!==(oe=null===qe||void 0===qe||null===(se=qe.renewal_student)||void 0===se||null===(de=se.hostel_fee_structure)||void 0===de||null===(ae=de.one_installments)||void 0===ae?void 0:ae.fees)&&void 0!==oe?oe:0]})]}),(0,D.jsx)("div",{className:m.Z.borderr}),(0,D.jsx)("div",{className:m.Z.adholdcontainer,children:(0,D.jsx)("p",{className:m.Z.payandconfirm,children:Pe("admission_hold")})}),(0,D.jsx)(A.Z,{financeId:null!==(re=null===qe||void 0===qe||null===(ue=qe.renewal_hostel)||void 0===ue||null===(ce=ue.institute)||void 0===ce||null===(ve=ce.financeDepart)||void 0===ve?void 0:ve[0])&&void 0!==re?re:"",setIndex:function(e){var n=In(wn.month),l=!1;for(var i in n)if(i){l=!0;break}l?un(n):Ue(e)},departmentId:null!==(_e=null===qe||void 0===qe||null===(he=qe.renewal_hostel)||void 0===he?void 0:he._id)&&void 0!==_e?_e:"",flowAs:"Hostel"})]})]})]}),2===Ke&&(0,D.jsx)(Z.Z,{setIndex:Ue,ConfirmOffline:En}),3===Ke&&(0,D.jsx)(g.Z,{financeId:null!==(me=null===qe||void 0===qe||null===(fe=qe.renewal_hostel)||void 0===fe||null===(pe=fe.institute)||void 0===pe||null===(xe=pe.financeDepart)||void 0===xe?void 0:xe[0])&&void 0!==me?me:"",setIndex:Ue,setPayData:Zn,payData:wn,ConfirmOffline:En,departmentId:null!==(je=null===qe||void 0===qe||null===(ye=qe.renewal_hostel)||void 0===ye?void 0:ye._id)&&void 0!==je?je:"",flowAs:"Hostel",viewAs:"HOSTEL_RENEWAL"}),4===Ke&&(0,D.jsx)(b.Z,{financeId:null!==(we=null===qe||void 0===qe||null===(Ze=qe.renewal_hostel)||void 0===Ze||null===(ge=Ze.institute)||void 0===ge||null===(be=ge.financeDepart)||void 0===be?void 0:be[0])&&void 0!==we?we:"",setIndex:Ue,setPayData:Zn,payData:wn,ConfirmOffline:En,departmentId:null!==(Ce=null===qe||void 0===qe||null===(Ne=qe.renewal_hostel)||void 0===Ne?void 0:Ne._id)&&void 0!==Ce?Ce:"",flowAs:"Hostel",viewAs:"HOSTEL_RENEWAL"}),5===Ke&&(0,D.jsx)(C.Z,{financeId:null!==(Se=null===qe||void 0===qe||null===(Ae=qe.renewal_hostel)||void 0===Ae||null===(ke=Ae.institute)||void 0===ke||null===(Re=ke.financeDepart)||void 0===Re?void 0:Re[0])&&void 0!==Se?Se:"",setIndex:Ue,setPayData:Zn,payData:wn,ConfirmOffline:En,departmentId:null!==(Ie=null===qe||void 0===qe||null===(Ee=qe.renewal_hostel)||void 0===Ee?void 0:Ee._id)&&void 0!==Ie?Ie:"",flowAs:"Hostel",viewAs:"HOSTEL_RENEWAL"}),6===Ke&&(0,D.jsx)(N.Z,{financeId:null!==(De=null===qe||void 0===qe||null===(Me=qe.renewal_hostel)||void 0===Me||null===(Te=Me.institute)||void 0===Te||null===(Fe=Te.financeDepart)||void 0===Fe?void 0:Fe[0])&&void 0!==De?De:"",setIndex:Ue,setPayData:Zn,payData:wn,ConfirmOffline:En,departmentId:null!==(Le=null===qe||void 0===qe||null===(Oe=qe.renewal_hostel)||void 0===Oe?void 0:Oe._id)&&void 0!==Le?Le:"",flowAs:"Hostel",viewAs:"HOSTEL_RENEWAL"}),on&&(0,D.jsx)(j.Z,{})]}),en&&(0,D.jsx)(k.Z,{onClose:function(){return nn(!1)},allContent:_n,checkoutAdmissionHandler:function(e){var n,l,i,t,o=2.1*+(null===_n||void 0===_n?void 0:_n.amount)/100,s=o+18*+o/100,d=parseInt(null===_n||void 0===_n?void 0:_n.amount),a={amount:Math.ceil(d+ +s.toFixed(2))};"PAYTM"===e?(0,R.Ex)({amount:+(null===_n||void 0===_n?void 0:_n.amount),amount_nocharges:+a.amount,type:"Hostel",paidBy:"".concat(null===qe||void 0===qe||null===(n=qe.renewal_student)||void 0===n?void 0:n._id),paidTo:"".concat(null===qe||void 0===qe||null===(l=qe.renewal_hostel)||void 0===l||null===(i=l.institute)||void 0===i?void 0:i._id),moduleId:"".concat(null===qe||void 0===qe||null===(t=qe.renewal_application)||void 0===t?void 0:t._id),ad_status_id:"".concat(null===qe||void 0===qe?void 0:qe._id),payment_installment:_n.installmentType,ad_install:Ye,month:wn.month,payment_remain_1:null,payment_card_type:null,payment_book_id:null,name:We.username,isApk:"web",payment_card_id:null}).then((function(e){var n,l;window.onScriptLoad(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(l=n.body)||void 0===l?void 0:l.txnToken,null===e||void 0===e?void 0:e.order,null===e||void 0===e?void 0:e.amount)})).catch((function(e){console.info(e)})):null!==gn&&void 0!==gn&&gn.Key&&null!==a&&void 0!==a&&a.amount?Cn({amount:null===a||void 0===a?void 0:a.amount}).then((function(e){var n,l,i,t,o,s,d;null!==(n=e.data)&&void 0!==n&&n.success?(0,p.r)({key:null===gn||void 0===gn?void 0:gn.Key,oid:null===(l=e.data)||void 0===l?void 0:l.order.id,amount_nocharge:100*(null===_n||void 0===_n?void 0:_n.amount),amount:null===(i=e.data)||void 0===i?void 0:i.order.amount,type:"Hostel",pay_by:"".concat(null===qe||void 0===qe||null===(t=qe.renewal_student)||void 0===t?void 0:t._id),pay_to:"".concat(null===qe||void 0===qe||null===(o=qe.renewal_hostel)||void 0===o||null===(s=o.institute)||void 0===s?void 0:s._id),mid:"".concat(null===qe||void 0===qe||null===(d=qe.renewal_application)||void 0===d?void 0:d._id),razor_key:null===kn||void 0===kn?void 0:kn.key,razor_author:null===kn||void 0===kn?void 0:kn.bool,status:"".concat(null===qe||void 0===qe?void 0:qe._id),installment_type:_n.installmentType,is_install:Ye,h_month:wn.month}):console.log("data error")})).catch((function(e){console.log(e)})):console.log("error")}}),pn.run&&(0,D.jsx)(S.Ch,{msg:pn.msg,run:pn.run,setRun:function(){return xn({msg:"",run:!1})},postiton:"bottom",type:"error"})]})},F={addDisplay:"CancelStudentAdmisionModal_addDisplay__F2Wy6",title:"CancelStudentAdmisionModal_title__olnIk",content:"CancelStudentAdmisionModal_content__yn5Kq",contentRow:"CancelStudentAdmisionModal_contentRow__x+xXy",payLabel:"CancelStudentAdmisionModal_payLabel__GaOXQ",payInput:"CancelStudentAdmisionModal_payInput__o+M5l",payCardTop:"CancelStudentAdmisionModal_payCardTop__zvIDT",payCardContent:"CancelStudentAdmisionModal_payCardContent__8AG31",btn:"CancelStudentAdmisionModal_btn__f8vxs",btn2:"CancelStudentAdmisionModal_btn2__w7gOx",contentstatus:"CancelStudentAdmisionModal_contentstatus__qsBSH",payConfirmbtn:"CancelStudentAdmisionModal_payConfirmbtn__r23C0"},L=l(5574),O=l(29017);var H=function(e){var n=e.cancelStatus,l=e.hideModal,i=e.cancelData,s=e.fetch,d=e.setCancelStatus,r=e.viewAs,u=(0,o.useState)(""),c=(0,t.Z)(u,2),v=c[0],_=c[1],h=(0,O.x9)(),m=(0,t.Z)(h,1)[0],f=(0,a.hj)(),p=(0,t.Z)(f,1)[0],x=(0,a.LJ)(),y=(0,t.Z)(x,1)[0],w=(0,o.useState)(!1),Z=(0,t.Z)(w,2),g=Z[0],b=Z[1];return(0,D.jsxs)(D.Fragment,{children:[!g&&(0,D.jsx)(L.Z,{open:n,onClose:function(){return l(!1)},children:(0,D.jsxs)("div",{className:"".concat(F.addDisplay," ").concat(F.cancelModal),children:[(0,D.jsx)("div",{className:F.title,children:"Not Accept Application ?"}),(0,D.jsx)("div",{className:F.content,children:(0,D.jsxs)("div",{className:F.payCard,children:[(0,D.jsxs)("label",{htmlFor:"Cancel",className:F.payLabel,children:["Type ",(0,D.jsx)("i",{children:"Cancel"})," for cancel ?"]}),(0,D.jsx)("input",{type:"text",name:"cancel",className:F.payInput,required:!0,placeholder:"Type Cancel here...",id:"Cancel",onChange:function(e){return _(e.target.value)}}),"Cancel"===v?(0,D.jsx)("div",{className:F.btn,onClick:function(){var e,n,l;null!==i&&void 0!==i&&i._id&&null!==i&&void 0!==i&&i.applicationId&&null!==i&&void 0!==i&&i.studentId&&"Cancel"===v&&(b(!0),"RENEWAL"===r?y({rid:null===i||void 0===i?void 0:i._id,sid:null===i||void 0===i||null===(e=i.renewal_student)||void 0===e?void 0:e._id}).then((function(){s(),d(!1),b(!1)})).catch({}):"Hostel Application"===(null===i||void 0===i?void 0:i.flow_status)?p({status:null===i||void 0===i?void 0:i._id,appId:null===i||void 0===i||null===(n=i.applicationId)||void 0===n?void 0:n._id,sid:null===i||void 0===i?void 0:i.studentId}).then((function(){s(),d(!1),b(!1)})).catch({}):m({status:null===i||void 0===i?void 0:i._id,appId:null===i||void 0===i||null===(l=i.applicationId)||void 0===l?void 0:l._id,sid:null===i||void 0===i?void 0:i.studentId}).then((function(e){e.data.cancel_status&&(s(),d(!1),b(!1))})).catch({}))},children:"Cancel"}):(0,D.jsx)("div",{className:F.btn2,children:"Cancel"})]})})]})}),g&&(0,D.jsx)(j.Z,{})]})},q=l(98760),B=function(e){var n=e.receipt,l=e.onClose,i=e.onRefetch,s=e.sid,d=(0,o.useState)({fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:"",fee_payment_acknowledge:""}),r=(0,t.Z)(d,2),u=r[0],c=r[1],v=(0,o.useState)(!1),_=(0,t.Z)(v,2),h=_[0],m=_[1],f=(0,O.$d)({rid:n,skip:!n}),p=f.getFeeReceiptDetail,x=f.getFeeReceiptDetailRefetch,y=(0,a.iw)(),w=(0,t.Z)(y,1)[0];(0,o.useEffect)((function(){n&&x()}),[n,x]),(0,o.useEffect)((function(){var e,n,l,i,t,o,s,d;null!==p&&void 0!==p&&p.receipt&&c({fee_payment_mode:null===p||void 0===p||null===(e=p.receipt)||void 0===e?void 0:e.fee_payment_mode,fee_payment_amount:null===p||void 0===p||null===(n=p.receipt)||void 0===n?void 0:n.fee_payment_amount,transaction_date:null===p||void 0===p||null===(l=p.receipt)||void 0===l||null===(i=l.fee_transaction_date)||void 0===i?void 0:i.substr(0,10),fee_bank_name:null===p||void 0===p||null===(t=p.receipt)||void 0===t?void 0:t.fee_bank_name,fee_bank_holder:null===p||void 0===p||null===(o=p.receipt)||void 0===o?void 0:o.fee_bank_holder,fee_utr_reference:null===p||void 0===p||null===(s=p.receipt)||void 0===s?void 0:s.fee_utr_reference,fee_payment_acknowledge:null===p||void 0===p||null===(d=p.receipt)||void 0===d?void 0:d.fee_payment_acknowledge})}),[null===p||void 0===p?void 0:p.receipt]);return(0,D.jsxs)(E.Z,{onClose:l,children:[(0,D.jsx)("div",{style:{width:"30rem",maxHeight:"35rem",padding:"0.9rem",overflowX:"hidden",scrollBehavior:"smooth",overflowY:"auto"},children:(0,D.jsx)(q.Z,{payData:u,setPayData:c,ConfirmOffline:function(){var e;m((function(e){return!e})),w({rid:null===p||void 0===p||null===(e=p.receipt)||void 0===e?void 0:e._id,sid:s,receiptReapply:u}).then((function(){i(),l(),m((function(e){return!e}))})).catch({})},setOpenForm:l})}),h&&(0,D.jsx)(j.Z,{})]})},P=function(e){var n,l,i,d,a,u,c=e.renewal,v=e.onRefetch,h=(0,s.$G)().t,m=(0,o.useState)(!1),f=(0,t.Z)(m,2),p=f[0],x=f[1],j=(0,o.useState)(!1),y=(0,t.Z)(j,2),w=y[0],Z=y[1],g=(0,o.useState)(!1),b=(0,t.Z)(g,2),C=b[0],N=b[1];return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("div",{className:r.Z.student_renewal_card,children:[(0,D.jsx)("h6",{children:h("current_stay")}),(0,D.jsxs)("div",{className:r.Z.student_renewal_date,children:[(0,D.jsx)("p",{children:h("start_on")}),(0,D.jsx)("p",{children:_()(null===c||void 0===c?void 0:c.renewal_start).format("DD MMM yyyy")})]}),(0,D.jsxs)("div",{className:r.Z.student_renewal_date,children:[(0,D.jsx)("p",{children:h("expire_on")}),(0,D.jsx)("p",{children:_()(null===c||void 0===c?void 0:c.renewal_end).format("DD MMM yyyy")})]}),(0,D.jsxs)("p",{children:["Stay for"," ",null===c||void 0===c||null===(n=c.renewal_student)||void 0===n||null===(l=n.hostel_fee_structure)||void 0===l?void 0:l.structure_month," ","Months for fees info click here"]}),"Current Stay Request"===(null===c||void 0===c?void 0:c.renewal_status)&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("h6",{children:h("renewal_requested")}),(0,D.jsxs)("div",{className:r.Z.student_renewal_btn_group,children:[(0,D.jsx)("button",{className:r.Z.student_renewal_cancel_btn,onClick:function(){return Z(!0)},children:h("cancel")}),(0,D.jsx)("button",{className:r.Z.student_renewal_confirm_btn,onClick:function(){return x(!0)},children:h("confirm")})]})]}),"Requested"===(null===c||void 0===c?void 0:c.receipt_status)&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("h6",{children:h("renewal_requested")}),(0,D.jsx)("div",{className:r.Z.student_renewal_btn_group,children:(0,D.jsx)("button",{className:r.Z.student_renewal_confirm_btn,style:{backgroundColor:"#B8B83E",width:"100%"},children:h("requested")})})]}),"Rejected"===(null===c||void 0===c?void 0:c.receipt_status)&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("h6",{children:h("renewal_requested")}),(0,D.jsxs)("div",{className:r.Z.student_renewal_date,style:{justifyContent:"flex-start"},children:[(0,D.jsxs)("p",{children:[h("reason")," "]}),(0,D.jsx)("p",{children:" : ".concat(null!==(i=null===c||void 0===c||null===(d=c.receipt)||void 0===d?void 0:d.reason)&&void 0!==i?i:"")})]}),(0,D.jsx)("div",{className:r.Z.student_renewal_btn_group,children:(0,D.jsx)("button",{className:r.Z.student_renewal_confirm_btn,style:{width:"100%"},onClick:function(){return N(!0)},children:h("re_apply_for_receipt")})})]})]}),C&&(0,D.jsx)(B,{receipt:null===c||void 0===c||null===(a=c.receipt)||void 0===a?void 0:a._id,onClose:function(){return N(!1)},onRefetch:v,sid:null===c||void 0===c||null===(u=c.renewal_student)||void 0===u?void 0:u._id}),p&&(0,D.jsx)(T,{addDisplay:p,hideModal:function(e){return x(e)},statusQuery:c,onRefetchApplication:v}),w&&(0,D.jsx)(H,{cancelStatus:w,hideModal:function(e){return Z(e)},cancelData:c,fetch:v,setCancel:Z,viewAs:"RENEWAL"})]})},W=function(e){var n=e.sid,l=e.isProfile,v=e.isOther,_=(0,s.$G)().t,h=(0,d.YD)(),m=(0,t.Z)(h,2),f=m[0],p=m[1],x=(0,o.useState)(1),j=(0,t.Z)(x,2),y=j[0],w=j[1],Z=(0,o.useState)(!0),g=(0,t.Z)(Z,2),b=g[0],C=g[1],N=(0,o.useState)(!0),S=(0,t.Z)(N,2),A=S[0],k=S[1],R=(0,o.useState)([]),I=(0,t.Z)(R,2),E=I[0],M=I[1],T=(0,o.useState)(!1),F=(0,t.Z)(T,2),L=F[0],O=F[1],H=(0,a.L8)({data:{sid:n,page:y,limit:10},skip:!n}),q=H.getRenewalListByStudent,B=H.getRenewalListByStudentRefetch;(0,o.useEffect)((function(){n&&(k(!0),B())}),[n,y,B]),(0,o.useEffect)((function(){p&&b&&w((function(e){return e+1}))}),[p,b]),(0,o.useEffect)((function(){var e,n;L?(M(null===q||void 0===q?void 0:q.all_renewals),k(!1),O(!1)):null!==q&&void 0!==q&&q.all_renewals?(M((function(e){var n,l;return null===(n=(0,i.Z)(new Set(null===(l=[].concat((0,i.Z)(e),(0,i.Z)(null===q||void 0===q?void 0:q.all_renewals)))||void 0===l?void 0:l.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),k(!1)):0===(null===q||void 0===q||null===(n=q.all_renewals)||void 0===n?void 0:n.length)&&k(!1);10===(null===q||void 0===q||null===(e=q.all_renewals)||void 0===e?void 0:e.length)?C(!0):C(!1)}),[null===q||void 0===q?void 0:q.all_renewals]);var W=function(){w(1),O(!0),k(!0),B()};return(0,D.jsxs)(D.Fragment,{children:["VIEW_PROFILE"===l||v?"":(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{className:r.Z.with_search,children:(0,D.jsx)("h6",{children:_("stay_renewal")})}),(0,D.jsx)(u.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}})]}),null===E||void 0===E?void 0:E.map((function(e,n){return(null===E||void 0===E?void 0:E.length)===n+1?(0,D.jsx)("div",{ref:f,children:(0,D.jsx)(P,{renewal:e,onRefetch:W})},null===e||void 0===e?void 0:e._id):(0,D.jsx)(P,{renewal:e,onRefetch:W},null===e||void 0===e?void 0:e._id)})),A&&(0,D.jsx)(c.Z,{})]})}}}]);
//# sourceMappingURL=708.fcf2af37.chunk.js.map