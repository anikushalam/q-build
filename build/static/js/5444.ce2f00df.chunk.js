"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[5444],{82512:function(e,i,o){o.r(i),o.d(i,{default:function(){return J}});var l=o(72791),n={navbar:"UserProfile_navbar__FsWP+"},t=o(79872),s=o(49010),d=o(29439),r="UserMain_mainbody__lZCbM",a="UserMain_mainbodyedit__lvkgt",c="UserMain_mainbodysplit__iu4+j",u=o(78687),v=o(91007),h=o(48673),f=o(77356),_=o(62271),p="MiddleBody_middleBodyGap__MdJHS",m=o(34057),x=o(85702),j=o(74576),P=o(9447),Z=o(23441),g=o(70092),y=o(16256),C=o(80184);var S=function(e){var i,o,n,t,s,r,a=e.profilePost,c=e.profileData,v=(0,u.useSelector)((function(e){return e.idChange})),h=(0,u.useSelector)((function(e){return e.postChange})),f=(0,u.useDispatch)(),_=localStorage.getItem("_searchId"),p=(0,l.useState)(!0),m=(0,d.Z)(p,2),S=m[0],N=m[1],k=(0,Z.YD)(),b=(0,d.Z)(k,2),M=b[0],E=b[1],I=(0,l.useState)(!0),B=(0,d.Z)(I,2),U=B[0],R=B[1],w=(0,l.useState)(1),D=(0,d.Z)(w,2),A=D[0],L=D[1],F=(0,P.N0)({data:{id:null!==v&&void 0!==v&&null!==(i=v.searchProfile)&&void 0!==i&&i.id?null===v||void 0===v||null===(o=v.searchProfile)||void 0===o?void 0:o.id:_,page:A,limit:10,viewAs:y.Xe},skip:!a}),q=F.allProfilePost,T=F.allProfilePostRefetch;return(0,l.useEffect)((function(){var e;null!==v&&void 0!==v&&null!==(e=v.searchProfile)&&void 0!==e&&e.id&&(f(g.p.removeSearchPost({search:[]})),L(1),R(!0))}),[f,null===v||void 0===v||null===(n=v.searchProfile)||void 0===n?void 0:n.id]),(0,l.useEffect)((function(){E&&U&&a&&L((function(e){return e+1}))}),[E,a,U]),(0,l.useEffect)((function(){T()}),[A,a,T]),(0,l.useEffect)((function(){var e,i;f(g.p.addPost({post:a&&(null===q||void 0===q||null===(e=q.post)||void 0===e||null===(i=e[0])||void 0===i?void 0:i.author)===(null===v||void 0===v?void 0:v.searchProfile.id)?null===q||void 0===q?void 0:q.post:[],profilePost:a?"search":"dash"})),10===(null===q||void 0===q?void 0:q.post.length)?R(!0):R(!1)}),[null===q||void 0===q?void 0:q.post,f,a,null===v||void 0===v||null===(t=v.searchProfile)||void 0===t?void 0:t.id]),(0,l.useEffect)((function(){setTimeout((function(){N(!1)}),5e3)}),[]),(0,C.jsx)("div",{className:x.Z.posts,children:null!==h&&void 0!==h&&null!==(s=h.searchPosts)&&void 0!==s&&s.length||!a||!S?null===h||void 0===h||null===(r=h.searchPosts)||void 0===r?void 0:r.map((function(e,i){var o;return(null===h||void 0===h||null===(o=h.searchPosts)||void 0===o?void 0:o.length)===i+1?(0,C.jsx)("div",{ref:M,children:(0,C.jsx)(j.Z,{post:e,profilePost:a,allPosts:[],profileData:c},i)},i):(0,C.jsx)(j.Z,{post:e,profilePost:a,allPosts:[],profileData:c},i)})):(0,C.jsx)("div",{className:x.Z.loader,children:(0,C.jsx)("img",{src:"/images/loader/loader.gif",alt:""})})})},N="MiddleBodyMain_container__gjMlC",k="MiddleBodyMain_header__6ZfiA",b="MiddleBodyMain_headerText__wAMzM",M="MiddleBodyMain_headerTextActive__Ob817",E="MiddleBodyMain_headerLink__RpWv0",I="MiddleBodyMain_headerLinkActive__GwH1i",B=o(39230),U=function(e){var i=e.state,o=(0,l.useState)("my"),n=(0,d.Z)(o,2),t=n[0],s=n[1],r=((0,B.$G)().t,(0,u.useSelector)((function(e){return e.idChange})));return(0,C.jsxs)("div",{className:N,children:[(0,C.jsxs)("div",{className:k,children:[(0,C.jsx)("div",{className:"my"===t?M:b,onClick:function(){s("my"),i(!1)},children:(0,C.jsx)("p",{className:"my"===t?"".concat(E," ").concat(I):E,children:"Posts"})}),(0,C.jsx)("div",{className:"tag"===t?M:b,onClick:function(){null!==r&&void 0!==r&&r.searchProfile.id||(s("tag"),i(!1))},children:(0,C.jsx)("p",{className:"tag"===t?"".concat(E," ").concat(I):E,children:"Tag Posts"})}),null!==r&&void 0!==r&&r.searchProfile.id?"":(0,C.jsx)("div",{className:"save"===t?M:b,onClick:function(){null!==r&&void 0!==r&&r.searchProfile.id||(s("save"),i(!1))},children:(0,C.jsx)("p",{className:"save"===t?"".concat(E," ").concat(I):E,children:"Saved"})})]}),null!==r&&void 0!==r&&r.searchProfile.id?(0,C.jsx)(S,{profilePost:!0}):(0,C.jsx)(m.Z,{profilePost:!0,profileSavedPost:t})]})},R="MiddleBodyRight_middleBodyRight__0Z538",w="MiddleBodyRight_middleBodyRightTop__xLwoe",D="MiddleBodyRight_middleBodyRightbottom__NzAtP",A=function(e){var i=e.questionCount,o=e.answerQuestionCount,l=e.upVote,n=(0,B.$G)().t;return(0,C.jsxs)("div",{className:R,children:[(0,C.jsxs)("div",{className:w,children:[" ",n("know_s")," (",n("knowledge_score"),")"]}),(0,C.jsxs)("div",{className:D,children:[(0,C.jsxs)("h6",{children:[n("total_questions_asked")," : ",i]}),(0,C.jsxs)("h6",{children:[n("questions_answered")," : ",o]}),(0,C.jsxs)("h6",{children:[n("total_upward")," : ",l]})]})]})},L=function(e){var i=e.state,o=e.profileBody,l=e.upVote,n=e.status;return(0,C.jsxs)("div",{className:p,children:[(0,C.jsx)(U,{state:function(e){i(e)},status:n}),(0,C.jsx)(A,{questionCount:null===o||void 0===o?void 0:o.questionCount,answerQuestionCount:null===o||void 0===o?void 0:o.answerQuestionCount,upVote:l})]})},F=o(75070),q=o(30705),T=o(12072),H=o(84489),O=o(87049),G=o(98734),V=function(e){var i=e.onClose,o=e.userId,n=e.onSearchRefetch,t=e.loginUserId,s=e.blockedBy,r=(0,B.$G)().t,a=(0,l.useState)(!1),c=(0,d.Z)(a,2),u=c[0],v=c[1],h=(0,P.Wi)(),f=(0,d.Z)(h,1)[0],_=(0,P.z9)(),p=(0,d.Z)(_,1)[0],m=(0,P.Kj)(),x=(0,d.Z)(m,1)[0];return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(H.Z,{onClose:i}),(0,C.jsxs)(T.Z,{customStyle:{zIndex:"1200"},children:[(0,C.jsxs)("div",{className:O.Z.edit_modal_container,style:{width:"200px"},children:[null!==s&&void 0!==s&&s.includes(t)?(0,C.jsxs)("h6",{className:O.Z.edit,onClick:function(){v(!0),p({blockId:o}).then((function(){n(),v(!1),i()})).catch({})},children:[r("unblocked")," ",r("account")]}):(0,C.jsxs)("h6",{className:O.Z.edit,onClick:function(){v(!0),f({blockId:o}).then((function(){n(),v(!1),i()})).catch({})},children:[r("block")," ",r("account")]}),(0,C.jsx)("h6",{className:O.Z.remove,onClick:function(){v(!0),x({rid:o,id:t,accountStatus:"Malicious"}).then((function(){v(!1),i()})).catch({})},children:r("report_acount")})]}),u&&(0,C.jsx)(G.Z,{})]})]})},z=function(e){var i=e.onClose,o=e.profileChange,l=e.onUploadType,n=(0,B.$G)().t;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(H.Z,{onClose:i}),(0,C.jsx)(T.Z,{customStyle:{zIndex:"1200"},children:(0,C.jsxs)("div",{className:O.Z.edit_modal_container,style:{width:"300px"},children:[(0,C.jsx)("label",{htmlFor:"photo",children:(0,C.jsx)("h6",{className:O.Z.edit,onClick:function(){return l("ONLY_USER")},children:n("update_only_profile_photo")})}),(0,C.jsx)("label",{htmlFor:"photo",children:(0,C.jsx)("h6",{className:O.Z.edit,onClick:function(){return l("USER_AND_STUDENT")},children:n("update_user_student_profile_photo")})}),(0,C.jsx)("input",{id:"photo",name:"file",onChange:o,type:"file",style:{display:"none"},accept:"image/gif, image/jpeg, image/png",required:!0})]})})]})};var Q=function(){var e,i,o,n,t,s,p,m,x,j,P,Z,g,y,S,N,k,b,M=(0,u.useSelector)((function(e){return e.idChange})),E=(0,u.useDispatch)(),I=(0,l.useState)(!1),B=(0,d.Z)(I,2),U=B[0],R=B[1],w=(0,l.useState)(!1),D=(0,d.Z)(w,2),A=D[0],T=D[1],H=(0,v.pu)(null!==M&&void 0!==M&&null!==(e=M.searchProfile)&&void 0!==e&&e.id?null===M||void 0===M||null===(i=M.searchProfile)||void 0===i?void 0:i.id:null===M||void 0===M?void 0:M.id,{skip:"USERNAME"===M.searchProfile.type}),O=H.data,G=H.refetch,Q=(0,v.QS)(null===M||void 0===M||null===(o=M.searchProfile)||void 0===o?void 0:o.id,{skip:"ID"===M.searchProfile.type}),J=Q.data,W=Q.refetch;(0,l.useEffect)((function(){"USERNAME"===M.searchProfile.type?W():"ID"===M.searchProfile.type&&G()}),[M.searchProfile.type,null===M||void 0===M||null===(n=M.searchProfile)||void 0===n?void 0:n.id]),(0,l.useEffect)((function(){var e;null!==J&&void 0!==J&&J.user&&"USERNAME"===M.searchProfile.type&&E(h.S.searchId({id:null===J||void 0===J||null===(e=J.user)||void 0===e?void 0:e._id,type:"ID"}))}),[null===J||void 0===J?void 0:J.user]);var $=""!==(null===M||void 0===M||null===(t=M.searchProfile)||void 0===t?void 0:t.id)?null===M||void 0===M||null===(s=M.searchProfile)||void 0===s?void 0:s.id:null===M||void 0===M?void 0:M.id,X=(0,l.useState)(!1),K=(0,d.Z)(X,2),Y=K[0],ee=K[1],ie=(0,l.useState)(!1),oe=(0,d.Z)(ie,2),le=oe[0],ne=oe[1],te=(0,l.useState)(""),se=(0,d.Z)(te,2),de=se[0],re=se[1],ae=(0,l.useState)(""),ce=(0,d.Z)(ae,2),ue=ce[0],ve=ce[1],he=(0,l.useState)(""),fe=(0,d.Z)(he,2),_e=fe[0],pe=fe[1],me=(0,l.useState)(""),xe=(0,d.Z)(me,2),je=xe[0],Pe=xe[1],Ze=(0,l.useState)(!1),ge=(0,d.Z)(Ze,2),ye=ge[0],Ce=ge[1],Se=(0,l.useState)(!1),Ne=(0,d.Z)(Se,2),ke=Ne[0],be=Ne[1],Me=(0,l.useState)(""),Ee=(0,d.Z)(Me,2),Ie=Ee[0],Be=Ee[1],Ue=(0,l.useState)(!1),Re=(0,d.Z)(Ue,2),we=Re[0],De=Re[1],Ae=(0,l.useState)(""),Le=(0,d.Z)(Ae,2),Fe=Le[0],qe=Le[1],Te=(0,q.w1)(),He=(0,d.Z)(Te,1)[0],Oe=(0,q.Ru)(),Ge=(0,d.Z)(Oe,1)[0];return(0,l.useEffect)((function(){if(Y){var e=new FormData;e.append("file",de),Ge({cover:e,id:null===M||void 0===M?void 0:M.id}).then((function(){})).catch({})}}),[Y,de]),(0,l.useEffect)((function(){if(le){var e=new FormData;e.append("file",ue),He({photo:e,id:null===M||void 0===M?void 0:M.id,role:Fe}).then((function(){})).catch({})}}),[le,ue]),(0,C.jsxs)(C.Fragment,{children:[O&&"post"===(null===M||void 0===M||null===(p=M.repostQuestion)||void 0===p?void 0:p.repostStatus)&&(U?(0,C.jsx)("div",{className:a,children:(0,C.jsx)(F.Z,{setEdit:R})}):(0,C.jsxs)("div",{className:r,children:[(0,C.jsx)(f.Z,{resultId:$,insID:null===M||void 0===M?void 0:M.id,profileData:null===O||void 0===O?void 0:O.user,searchId:null===M||void 0===M||null===(m=M.searchProfile)||void 0===m?void 0:m.id,profile:M,status:"userProfile",setEdit:R,openCrop:ye,openCropCover:ke,setOpenCrop:Ce,setOpenCropCover:be,coverChange:function(e){var i=URL.createObjectURL(e.target.files[0]);re(e.target.files[0]),pe(i),Be(i),Ce(!0)},profileChange:function(){De(!0)},photoURL:Ie,setPhotoURL:Be,coverPhoto:_e,profilePhoto:je,setUpload:ee,setUploadProfile:ne,setFile:re,setFileProfile:ve,setCoverPhoto:pe,setProfilePhoto:Pe,setOpenBlock:T,blockedBy:null!==(x=null===O||void 0===O||null===(j=O.user)||void 0===j?void 0:j.blockedBy)&&void 0!==x?x:[],loginUserId:null!==(P=null===M||void 0===M?void 0:M.id)&&void 0!==P?P:"",userId:null!==(Z=null===M||void 0===M||null===(g=M.searchProfile)||void 0===g?void 0:g.id)&&void 0!==Z?Z:""}),(0,C.jsxs)("div",{className:c,children:[(0,C.jsx)(_.Z,{userData:null===O||void 0===O?void 0:O.user,status:"profile"}),(0,C.jsx)(L,{profileBody:O&&(null===O||void 0===O?void 0:O.user),upVote:(null===O||void 0===O?void 0:O.upVote)||0,status:"profile"}),A&&(0,C.jsx)(V,{userId:null!==(y=null===M||void 0===M||null===(S=M.searchProfile)||void 0===S?void 0:S.id)&&void 0!==y?y:"",onClose:function(){return T((function(e){return!e}))},onSearchRefetch:G,blockedBy:null!==(N=null===O||void 0===O||null===(k=O.user)||void 0===k?void 0:k.blockedBy)&&void 0!==N?N:[],loginUserId:null!==(b=null===M||void 0===M?void 0:M.id)&&void 0!==b?b:""})]})]})),we&&(0,C.jsx)(z,{onClose:function(){return De(!1)},profileChange:function(e){var i;if(null!==(i=e.target.files)&&void 0!==i&&i.length){De(!1);var o=URL.createObjectURL(e.target.files[0]);ve(e.target.files[0]),Pe(o),Be(o),be(!0)}},onUploadType:function(e){qe((function(i){return e}))}})]})};var J=function(){var e,i,o,l,d,r=localStorage.getItem("user"),a=(0,u.useSelector)((function(e){return e.idChange.searchProfile})),c=(0,v.pu)(r).data;return(0,C.jsxs)("div",{className:n.Profile,children:[(0,C.jsx)("div",{className:n.navbar,children:(0,C.jsx)(t.default,{status:"profile",profileData:null===c||void 0===c?void 0:c.user,username:null===c||void 0===c||null===(e=c.user)||void 0===e?void 0:e.username,name:null===c||void 0===c||null===(i=c.user)||void 0===i?void 0:i.userLegalName,photoId:null===c||void 0===c||null===(o=c.user)||void 0===o?void 0:o.photoId,profilePhoto:null===c||void 0===c||null===(l=c.user)||void 0===l?void 0:l.profilePhoto})}),"institute"===(null===a||void 0===a?void 0:a.searchAs)?(0,C.jsx)(s.Z,{applicantUserName:null===c||void 0===c||null===(d=c.user)||void 0===d?void 0:d.username}):(0,C.jsx)(Q,{profileData:null===c||void 0===c?void 0:c.user})]})}},12072:function(e,i,o){o.d(i,{Z:function(){return d}});var l=o(1413),n=(o(72791),o(54164)),t="Overlay_overlay_card__PAr1h",s=o(80184),d=function(e){var i=e.children,o=e.customStyle;return(0,s.jsx)(s.Fragment,{children:n.createPortal((0,s.jsx)("div",{className:t,style:(0,l.Z)({},o),children:i}),document.getElementById("overlay"))})}},84489:function(e,i,o){var l=o(1413),n=(o(72791),o(51857)),t=o(80184);i.Z=function(e){var i=e.onClose,o=e.customStyleBackdrop;return(0,t.jsx)("div",{className:n.Z.search_backdrop,style:(0,l.Z)({},o),onClick:i})}},87049:function(e,i){i.Z={edit_modal_container:"EditConfirm_edit_modal_container__WfbTq",modal_header:"EditConfirm_modal_header__4sq5J",edit:"EditConfirm_edit__ziVGP",remove:"EditConfirm_remove__PCXLs",xlsx_update_btn:"EditConfirm_xlsx_update_btn__H3yM8",save_stop_btn:"EditConfirm_save_stop_btn__9NiZ5",update_to_btn:"EditConfirm_update_to_btn__ExCJv"}},51857:function(e,i){i.Z={search_backdrop:"SearchHeader_search_backdrop__MsKpG",search_card:"SearchHeader_search_card__-jNcg",search_container:"SearchHeader_search_container__NS7Om",search_container_text:"SearchHeader_search_container_text__bkolR",searchIcon:"SearchHeader_searchIcon__J7cNp",search_container_back:"SearchHeader_search_container_back__ZoXdV"}}}]);
//# sourceMappingURL=5444.ce2f00df.chunk.js.map