"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[97874],{81622:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(72791),i=n(38733),l=n(39230),s=n(93097),o=n(69721),d=n(1095),r=n(80184);const c=e=>{let{labelText:t,name:n,multiple:c,value:m,onChange:u,onClick:v,errorShow:_,acceptType:h,customStyleContainer:p}=e;const{t:x}=(0,l.$G)(),[f,g]=(0,a.useState)("");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:i.Z.join_form_container,style:{...p},children:[(0,r.jsxs)("label",{className:i.Z.join_form_label,children:[t,_&&(0,r.jsx)("span",{style:{color:"red",marginLeft:"15px"},children:"* required"})]}),(0,r.jsxs)("div",{className:i.Z.join_form_file_container,children:[(0,r.jsx)("label",{className:m?"".concat(i.Z.join_form_file_choose," ").concat(i.Z.join_form_active_background):i.Z.join_form_file_choose,htmlFor:n,children:x(""!==m?"file_chosen":"chose_file")}),(0,r.jsx)("label",{className:i.Z.join_form_file_choosen,onClick:()=>{if(null!==m&&void 0!==m&&m.originalName)if(null!==m&&void 0!==m&&m.isPdf){let e=null;e=null!==m&&void 0!==m&&m.isCdn?window.open("".concat(d.q2,"/").concat(null===m||void 0===m?void 0:m.key),"_blank","noopener,noreferrer"):window.open("".concat(o.zQ,"/").concat(null===m||void 0===m?void 0:m.key),"_blank","noopener,noreferrer"),e&&(e.opener=null)}else g(null===m||void 0===m?void 0:m.key);else g(m)},style:{color:"#002BBE",cursor:"pointer"},children:""!==m?null!==m&&void 0!==m&&m.originalName?null===m||void 0===m?void 0:m.originalName:"View":x("no_file_chosen")})]}),(0,r.jsx)("input",{type:"file",multiple:!!c,accept:h||"image/*, .doc,.docx, application/pdf,.csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",name:n,id:n,style:{display:"none"},onChange:u})]}),f&&(0,r.jsx)(s.Z,{onClose:()=>{g("")},keyValue:f})]})}},93097:(e,t,n)=>{n.d(t,{Z:()=>o});n(72791);var a=n(12072),i=n(84489),l=n(69721),s=n(80184);const o=e=>{let{onClose:t,keyValue:n}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Z,{onClose:t}),(0,s.jsx)(a.Z,{customStyle:{zIndex:"1200",borderRadius:"0"},children:(0,s.jsx)("img",{src:"".concat(l.yI,"/").concat(n),alt:"view file",style:{maxWidth:"700px",maxHeight:"500px"}})})]})}},23308:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var a=n(72791),i=n(11006),l=n(39230),s=n(80184);const o=e=>{let{activeIndex:t,setActiveIndex:n}=e;const{t:a}=(0,l.$G)();return(0,s.jsx)("div",{className:i.Z.mcqTop,children:(0,s.jsxs)("div",{className:i.Z.mcqToptabs,children:[(0,s.jsx)("div",{className:0===t?"".concat(i.Z.mcqTopItem," ").concat(i.Z.active):i.Z.mcqTopItem,onClick:()=>n(0),children:a("unsolved")}),(0,s.jsx)("div",{className:1===t?"".concat(i.Z.mcqTopItem," ").concat(i.Z.active):i.Z.mcqTopItem,onClick:()=>n(1),children:a("solved")})]})})};var d=n(23441),r=n(11105),c=n(72426),m=n.n(c),u=n(12143),v=n(69721),_=n(8148),h=n(47401);const p=e=>{var t,n,a,i,l,o,d,r,c,p,x,f,g,j,b,y;let{query_detail:S,carryParentState:N,queryFlow:Z}=e;return(0,s.jsx)(s.Fragment,{children:"By_Mentor"===Z?(0,s.jsx)(h.Z,{carryParentState:{...N,qid:null===S||void 0===S?void 0:S._id},activeTab:"query-detail",children:(0,s.jsxs)("div",{className:u.Z.mentor_card_container,style:{width:"95%",margin:"auto",marginBottom:"0.7rem"},children:[(0,s.jsx)("img",{src:null!==S&&void 0!==S&&null!==(t=S.student)&&void 0!==t&&t.studentProfilePhoto?"".concat(v.yI,"/").concat(null===S||void 0===S||null===(n=S.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",style:{borderRadius:"50%"},alt:"mentor avatar"}),(0,s.jsxs)("div",{className:u.Z.mentor_container_inner,style:{gap:"0.6rem"},children:[(0,s.jsx)("h6",{children:"".concat(null!==(a=null===S||void 0===S||null===(i=S.student)||void 0===i?void 0:i.studentFirstName)&&void 0!==a?a:""," ").concat(null!==(l=null===S||void 0===S||null===(o=S.student)||void 0===o?void 0:o.studentMiddleName)&&void 0!==l?l:""," ").concat(null!==(d=null===S||void 0===S||null===(r=S.student)||void 0===r?void 0:r.studentLastName)&&void 0!==d?d:"")}),(0,s.jsxs)("p",{children:[m()(null===S||void 0===S?void 0:S.created_at).format("DD MMM"),",",m()(null===S||void 0===S?void 0:S.created_at).format("LT")]})]})]})}):(0,s.jsx)(_.Z,{carryParentState:{...N,qid:null===S||void 0===S?void 0:S._id},activeTab:"mentor&n=queries&query",children:(0,s.jsxs)("div",{className:u.Z.mentor_card_container,style:{width:"95%",margin:"auto",marginBottom:"0.7rem"},children:[(0,s.jsx)("img",{src:null!==S&&void 0!==S&&null!==(c=S.student)&&void 0!==c&&c.studentProfilePhoto?"".concat(v.yI,"/").concat(null===S||void 0===S||null===(p=S.student)||void 0===p?void 0:p.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",style:{borderRadius:"50%"},alt:"mentor avatar"}),(0,s.jsxs)("div",{className:u.Z.mentor_container_inner,style:{gap:"0.6rem"},children:[(0,s.jsx)("h6",{children:"".concat(null!==(x=null===S||void 0===S||null===(f=S.student)||void 0===f?void 0:f.studentFirstName)&&void 0!==x?x:""," ").concat(null!==(g=null===S||void 0===S||null===(j=S.student)||void 0===j?void 0:j.studentMiddleName)&&void 0!==g?g:""," ").concat(null!==(b=null===S||void 0===S||null===(y=S.student)||void 0===y?void 0:y.studentLastName)&&void 0!==b?b:"")}),(0,s.jsxs)("p",{children:[m()(null===S||void 0===S?void 0:S.created_at).format("DD MMM"),",",m()(null===S||void 0===S?void 0:S.created_at).format("LT")]})]})]})})})};var x=n(74289);const f=e=>{let{carryParentState:t,did:n,queryFlow:i}=e;const[l,o]=(0,d.YD)(),[c,m]=(0,a.useState)(1),[u,v]=(0,a.useState)(!0),[_,h]=(0,a.useState)(!0),[f,g]=(0,a.useState)([]),{getAllQueryList:j,getAllQueryListRefetch:b}=(0,x.EO)({data:{did:n,page:c,limit:10,status:"UnSolved",flow:i},skip:!n});return(0,a.useEffect)((()=>{n&&(h(!0),b())}),[n,c,b]),(0,a.useEffect)((()=>{o&&u&&m((e=>e+1))}),[o,u]),(0,a.useEffect)((()=>{var e,t;null!==j&&void 0!==j&&j.all_query?(g((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===j||void 0===j?void 0:j.all_query])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),h(!1)):0===(null===j||void 0===j||null===(e=j.all_query)||void 0===e?void 0:e.length)&&h(!1),10===(null===j||void 0===j||null===(t=j.all_query)||void 0===t?void 0:t.length)?v(!0):v(!1)}),[null===j||void 0===j?void 0:j.all_query]),(0,s.jsxs)(s.Fragment,{children:[null===f||void 0===f?void 0:f.map(((e,n)=>(null===f||void 0===f?void 0:f.length)===n+1?(0,s.jsx)("div",{ref:l,children:(0,s.jsx)(p,{query_detail:e,carryParentState:t,queryFlow:i})},null===e||void 0===e?void 0:e._id):(0,s.jsx)(p,{query_detail:e,carryParentState:t,queryFlow:i},null===e||void 0===e?void 0:e._id))),_&&(0,s.jsx)(r.Z,{})]})},g=e=>{let{carryParentState:t,did:n,queryFlow:i}=e;const[l,o]=(0,d.YD)(),[c,m]=(0,a.useState)(1),[u,v]=(0,a.useState)(!0),[_,h]=(0,a.useState)(!0),[f,g]=(0,a.useState)([]),{getAllQueryList:j,getAllQueryListRefetch:b}=(0,x.EO)({data:{did:n,page:c,limit:10,status:"Solved",flow:i},skip:!n});return(0,a.useEffect)((()=>{n&&(h(!0),b())}),[n,c,b]),(0,a.useEffect)((()=>{o&&u&&m((e=>e+1))}),[o,u]),(0,a.useEffect)((()=>{var e,t;null!==j&&void 0!==j&&j.all_query?(g((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===j||void 0===j?void 0:j.all_query])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),h(!1)):0===(null===j||void 0===j||null===(e=j.all_query)||void 0===e?void 0:e.length)&&h(!1),10===(null===j||void 0===j||null===(t=j.all_query)||void 0===t?void 0:t.length)?v(!0):v(!1)}),[null===j||void 0===j?void 0:j.all_query]),(0,s.jsxs)(s.Fragment,{children:[null===f||void 0===f?void 0:f.map(((e,n)=>(null===f||void 0===f?void 0:f.length)===n+1?(0,s.jsx)("div",{ref:l,children:(0,s.jsx)(p,{query_detail:e,carryParentState:t,viewAs:"SOLVED",queryFlow:i})},null===e||void 0===e?void 0:e._id):(0,s.jsx)(p,{query_detail:e,carryParentState:t,viewAs:"SOLVED",queryFlow:i},null===e||void 0===e?void 0:e._id))),_&&(0,s.jsx)(r.Z,{})]})},j=e=>{let{carryParentState:t,did:n,queryFlow:i}=e;const[l,d]=(0,a.useState)(0);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o,{activeIndex:l,setActiveIndex:d}),0===l&&(0,s.jsx)(f,{carryParentState:t,did:n,queryFlow:i}),1===l&&(0,s.jsx)(g,{carryParentState:t,did:n,queryFlow:i})]})}},27448:(e,t,n)=>{n.d(t,{Z:()=>f});var a=n(72791),i=n(92061),l=n(39230),s=n(16871),o=n(72952),d=n(81622),r=n(98734),c=n(84959),m=n(98094),u=n(91007),v=n(97655),_=n(95048),h=n(79872),p=n(74289),x=n(80184);const f=e=>{var t,n,f,g;let{did:j,viewAs:b}=e;const{t:y}=(0,l.$G)(),S=(0,_.v9)((e=>e.authChange.loginRole)),N=(0,s.s0)(),[Z,C]=(0,a.useState)(!1),[k,T]=(0,a.useState)({department_vission:"",department_mission:"",department_hod_message:"",department_about:"",department_image:""}),[D,I]=(0,a.useState)([{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}]),{departmentGetSiteInfo:M,departmentGetSiteInfoRefetch:w}=(0,p.I8)({did:j,skip:!j}),[F]=(0,c.FL)(),[A]=(0,p.l8)(),P=(0,_.v9)((e=>e.idChange.id)),{data:E,refetch:q}=(0,u.pu)(P,{skip:"INSTITUTE"===b||!P});(0,a.useEffect)((()=>{P&&"INSTITUTE"!==b&&q()}),[P,q]),(0,a.useEffect)((()=>{j&&w()}),[j,w]),(0,a.useEffect)((()=>{var e,t,n,a,i,l,s;if(null!==M&&void 0!==M&&M.department_site&&(T({department_vission:null===M||void 0===M||null===(e=M.department_site)||void 0===e?void 0:e.department_vission,department_mission:null===M||void 0===M||null===(t=M.department_site)||void 0===t?void 0:t.department_mission,department_hod_message:null===M||void 0===M||null===(n=M.department_site)||void 0===n?void 0:n.department_hod_message,department_about:null===M||void 0===M||null===(a=M.department_site)||void 0===a?void 0:a.department_about,department_image:null===M||void 0===M||null===(i=M.department_site)||void 0===i?void 0:i.department_image}),null!==M&&void 0!==M&&null!==(l=M.department_site)&&void 0!==l&&null!==(s=l.department_contact)&&void 0!==s&&s.length)){let e=[];for(let t of null===M||void 0===M||null===(o=M.department_site)||void 0===o?void 0:o.department_contact){var o;let n={contact_department_name:null===t||void 0===t?void 0:t.contact_department_name,contact_person_name:null===t||void 0===t?void 0:t.contact_person_name,contact_person_mobile:null===t||void 0===t?void 0:t.contact_person_mobile,contact_person_email:null===t||void 0===t?void 0:t.contact_person_email,contactId:null===t||void 0===t?void 0:t._id};e.push(n)}I(e)}}),[null===M||void 0===M?void 0:M.department_site]);const R=(e,t)=>{const n=[...D];for(let a=0;a<(null===n||void 0===n?void 0:n.length);a++)a===t&&(n[a][e.target.name]=e.target.value);I(n)},L=e=>{T((t=>({...t,[e.target.name]:e.target.value})))};return(0,x.jsxs)("div",{className:i.Z.bgContainer,children:["INSTITUTE"===b?null:(0,x.jsx)("div",{className:i.Z.navbar,children:(0,x.jsx)(h.default,{status:"members",profileData:null===E||void 0===E?void 0:E.user,username:null===E||void 0===E||null===(t=E.user)||void 0===t?void 0:t.username,name:null===E||void 0===E||null===(n=E.user)||void 0===n?void 0:n.userLegalName,photoId:null===E||void 0===E||null===(f=E.user)||void 0===f?void 0:f.photoId,profilePhoto:null===E||void 0===E||null===(g=E.user)||void 0===g?void 0:g.profilePhoto})}),(0,x.jsxs)("div",{className:i.Z.container,children:[(0,x.jsxs)("div",{className:i.Z.containerhead,children:[(0,x.jsx)("h6",{children:y("update_department_site_info")}),(0,x.jsx)("img",{src:"/images/close-post-icon.svg",alt:"",onClick:()=>{N(-1)}})]}),(0,x.jsx)(m.Z,{customStyle:{width:"100%"}}),(0,x.jsx)("div",{className:i.Z.containercontent,children:(0,x.jsxs)("div",{className:i.Z.container_inner_content,children:[(0,x.jsxs)("div",{className:i.Z.show_field,children:[(0,x.jsx)(o.Z,{labelText:y("vision"),placeholder:y("department_vision_placeholder"),name:"department_vission",value:k.department_vission,type:"text",onChange:L,customStyleContainer:{width:"69.5%"}}),(0,x.jsx)(d.Z,{labelText:y("department_Image"),name:"department_image",value:k.department_image,onChange:e=>{C((e=>!e));const t=new FormData;t.append("file",e.target.files[0]),F({fileUpload:t}).then((e=>{var t;null!==(t=e.data)&&void 0!==t&&t.imageKey&&T((t=>{var n;return{...t,department_image:null===(n=e.data)||void 0===n?void 0:n.imageKey}})),C((e=>!e))})).catch({})},customStyleContainer:{width:"29.5%"}})]}),(0,x.jsx)(o.Z,{labelText:y("mission"),placeholder:y("department_mission_placeholder"),name:"department_mission",value:k.department_mission,type:"text",onChange:L,customStyleContainer:{width:"100%"}}),(0,x.jsx)(o.Z,{labelText:y("about_department"),placeholder:y("about_department_placeholder"),name:"department_about",value:k.department_about,type:"text",onChange:L,customStyleContainer:{width:"100%"}}),(0,x.jsx)(o.Z,{labelText:y("hod_message"),placeholder:y("hod_message_placeholder"),name:"department_hod_message",value:k.department_hod_message,type:"text",onChange:L,customStyleContainer:{width:"100%"}}),(0,x.jsxs)("div",{className:i.Z.add_contact_person,children:[(0,x.jsx)("h6",{children:y("add_contact_persons")}),null===D||void 0===D?void 0:D.map(((e,t)=>(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:i.Z.show_field,children:[(0,x.jsx)(v.Z,{labelText:y("site_department_name"),placeholder:y("site_department_name_placeholder"),name:"contact_department_name",value:null===e||void 0===e?void 0:e.contact_department_name,type:"text",onChange:e=>R(e,t),customStyleContainer:{width:"49.5%"}}),(0,x.jsx)(v.Z,{labelText:y("contact_person_name"),placeholder:y("contact_person_name_placeholder"),name:"contact_person_name",value:null===e||void 0===e?void 0:e.contact_person_name,type:"text",onChange:e=>R(e,t),customStyleContainer:{width:"49.5%"}})]}),(0,x.jsxs)("div",{className:i.Z.show_field,children:[(0,x.jsx)(v.Z,{labelText:y("contact_person_mobile"),placeholder:y("contact_person_mobile_placeholder"),name:"contact_person_mobile",value:null===e||void 0===e?void 0:e.contact_person_mobile,type:"text",onChange:e=>R(e,t),customStyleContainer:{width:"49.5%"}}),(0,x.jsx)(v.Z,{labelText:y("contact_person_email"),placeholder:y("contact_person_email_placeholder"),name:"contact_person_email",value:null===e||void 0===e?void 0:e.contact_person_email,type:"email",onChange:e=>R(e,t),customStyleContainer:{width:"49.5%"}})]})]},t)))]}),(0,x.jsx)("button",{className:i.Z.add_contact_person_btn,title:"Add Contact Person",onClick:()=>{I((e=>[...e,{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}]))},children:y("add_contact_person")}),Z&&(0,x.jsx)(r.Z,{}),(0,x.jsx)("button",{className:i.Z.update_btn,onClick:()=>{var e,t;"_usr_ia"===S||(C((e=>!e)),A({did:j,updateSiteInfo:{...k,department_contact:null===D||void 0===D?void 0:D.filter((e=>null!==e&&void 0!==e&&e.contactId?"":e)),edit_department_contact:null===D||void 0===D?void 0:D.filter((e=>null!==e&&void 0!==e&&e.contactId?e:"")),previousKey:(null===M||void 0===M||null===(e=M.department_site)||void 0===e?void 0:e.department_image)===k.department_image?"":null===M||void 0===M||null===(t=M.department_site)||void 0===t?void 0:t.department_image}}).then((()=>{C((e=>!e))})).catch({}))},children:y("update")})]})})]})]})}},47401:(e,t,n)=>{n.d(t,{Z:()=>s});n(72791);var a=n(16871),i=n(43504),l=n(80184);const s=e=>{let{carryParentState:t,activeTab:n,children:s}=e;const o=(0,a.UO)();return(0,l.jsx)(i.rU,{to:"/q/".concat(o.username,"/member/mentor?a=").concat(n),state:{...t},children:s})}},37283:(e,t,n)=>{n.d(t,{Z:()=>v});var a=n(72791),i=n(39230),l=n(36665),s=n(98094),o=n(97655),d=n(98734),r=n(40444),c=n(87457),m=n(72952),u=n(80184);const v=e=>{let{onClose:t,openAs:n,smid:v,coMenu:_,onEdit:h,onRefetch:p,count:x,poCount:f,isView:g}=e;const{t:j}=(0,i.$G)(),[b,y]=(0,a.useState)(!1),[S,N]=(0,a.useState)(""),[Z,C]=(0,a.useState)({attainment_name:"DEPARTMENT"===g?"PO".concat(f):"CO".concat(x),attainment_type:"DEPARTMENT"===g?"PO":"CO",attainment_code:"",attainment_target:"",attainment_description:""}),[k]=(0,r.s8)();(0,a.useEffect)((()=>{var e,t,a,i,l;"EDIT"===n&&C({attainment_name:null!==(e=null===_||void 0===_?void 0:_.attainment_name)&&void 0!==e?e:"",attainment_type:null!==(t=null===_||void 0===_?void 0:_.attainment_type)&&void 0!==t?t:"CO",attainment_code:null!==(a=null===_||void 0===_?void 0:_.attainment_code)&&void 0!==a?a:"",attainment_target:null!==(i=null===_||void 0===_?void 0:_.attainment_target)&&void 0!==i?i:"",attainment_description:null!==(l=null===_||void 0===_?void 0:_.attainment_description)&&void 0!==l?l:""})}),[n,_]),(0,a.useEffect)((()=>{(x||f)&&C((e=>({...e,attainment_type:"DEPARTMENT"===g?"PO":"CO",attainment_name:"DEPARTMENT"===g?"PO".concat(f):"CO".concat(x)})))}),[x,g,f]);return(0,u.jsx)(l.Z,{onClose:t,children:(0,u.jsxs)("div",{className:c.Z.add_category_modal,style:{width:"35rem",maxHeight:"35rem"},children:[(0,u.jsxs)("div",{className:c.Z.add_category_modal_title,children:[(0,u.jsx)("h6",{children:j("EDIT"===n?"DEPARTMENT"===g?"edit_po":"edit_co":"DEPARTMENT"===g?"add_new_po":"add_new_co")}),(0,u.jsx)("img",{src:"/images/close-post-icon.svg",onClick:t,alt:""})]}),(0,u.jsx)(s.Z,{customStyle:{width:"100%",marginTop:"0.6rem",marginBottom:"0.6rem"}}),"CO"===Z.attainment_type?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.Z,{labelText:j("co_name"),placeholder:j("co_name_placeholder"),name:"attainment_name",value:null===Z||void 0===Z?void 0:Z.attainment_name,type:"text",onChange:e=>{C((t=>({...t,attainment_name:e.target.value})))},errorShow:S.attainment_name}),(0,u.jsx)(o.Z,{labelText:j("co_target"),placeholder:j("co_target_placeholder"),name:"attainment_target",value:null===Z||void 0===Z?void 0:Z.attainment_target,type:"text",onChange:e=>{C((t=>({...t,attainment_target:+e.target.value})))}}),(0,u.jsx)(o.Z,{labelText:j("co_code"),placeholder:j("co_code_placeholder"),name:"attainment_code",value:null===Z||void 0===Z?void 0:Z.attainment_code,type:"text",onChange:e=>{C((t=>({...t,attainment_code:+e.target.value})))}}),(0,u.jsx)(m.Z,{labelText:j("co_description"),placeholder:j("co_description_placeholder"),name:"attainment_description",value:null===Z||void 0===Z?void 0:Z.attainment_description,type:"text",onChange:e=>{C((t=>({...t,attainment_description:e.target.value})))}})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.Z,{labelText:j("po_name"),placeholder:j("po_name_placeholder"),name:"attainment_name",value:null===Z||void 0===Z?void 0:Z.attainment_name,type:"text",onChange:e=>{C((t=>({...t,attainment_name:e.target.value})))},errorShow:S.attainment_name}),(0,u.jsx)(m.Z,{labelText:j("po_description"),placeholder:j("po_description_placeholder"),name:"attainment_description",value:null===Z||void 0===Z?void 0:Z.attainment_description,type:"text",onChange:e=>{C((t=>({...t,attainment_description:e.target.value})))}})]}),(0,u.jsx)("button",{className:c.Z.set_fees_structure_btn,title:"Create copo",onClick:()=>{Z.attainment_name?"EDIT"===n?h(Z):v&&(y((e=>!e)),k({smid:v,addCopo:Z}).then((()=>{p(),t(),y((e=>!e))})).catch({})):N({attainment_name:"* required"})},style:{justifyContent:"center"},children:j("EDIT"===n?"update":"create")}),b&&(0,u.jsx)(d.Z,{})]})})}},26486:(e,t,n)=>{n.d(t,{Z:()=>_});var a=n(72791),i=n(72014),l=n(87049),s=n(40444),o=n(37283),d=n(84489),r=n(12072),c=n(98734),m=n(80184);const u=e=>{let{onClose:t,onRefetch:n,menu:i}=e;const[u,v]=(0,a.useState)(!1),[_,h]=(0,a.useState)(!1),[p]=(0,s.uV)(),[x]=(0,s.jy)();return(0,m.jsx)(m.Fragment,{children:_?(0,m.jsx)(o.Z,{onClose:()=>h(!1),openAs:"EDIT",onEdit:e=>{null!==i&&void 0!==i&&i._id&&(v((e=>!e)),h(!1),p({atid:null===i||void 0===i?void 0:i._id,updateCopo:e}).then((()=>{n(),v((e=>!e)),t()})).catch({}))},coMenu:i}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d.Z,{onClose:t}),(0,m.jsxs)(r.Z,{customStyle:{zIndex:"1200"},children:[(0,m.jsxs)("div",{className:l.Z.edit_modal_container,style:{width:"200px"},children:[(0,m.jsx)("h6",{className:l.Z.edit,onClick:()=>h((e=>!e)),children:"Edit"}),(0,m.jsx)("h6",{className:l.Z.remove,onClick:()=>{null!==i&&void 0!==i&&i._id&&(v((e=>!e)),x({atid:null===i||void 0===i?void 0:i._id}).then((()=>{n(),t(),v((e=>!e))})).catch({}))},children:"Delete"})]}),u&&(0,m.jsx)(c.Z,{})]})]})})};var v=n(39230);const _=e=>{var t,n,l,s;let{attainment:o,onRefetch:d}=e;const{t:r}=(0,v.$G)(),[c,_]=(0,a.useState)("");return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:i.Z.exam_card_container,children:[(0,m.jsx)("div",{className:i.Z.imagedot,children:(0,m.jsx)("img",{src:"/images/members/exam-icon.svg",alt:""})}),(0,m.jsxs)("div",{className:i.Z.exam_inner_text,children:[(0,m.jsxs)("h6",{children:[r("co_name")," : ",null!==(t=null===o||void 0===o?void 0:o.attainment_name)&&void 0!==t?t:""]}),"PO"===(null===o||void 0===o?void 0:o.attainment_type)?(0,m.jsx)("p",{children:null!==o&&void 0!==o&&o.attainment_description?(0,m.jsxs)("span",{children:[" ",r("po_description")," : ",null!==(n=null===o||void 0===o?void 0:o.attainment_description)&&void 0!==n?n:""]}):""}):(0,m.jsxs)("p",{children:[null!==o&&void 0!==o&&o.attainment_code?(0,m.jsxs)("span",{children:[r("co_code")," : ",null!==(l=null===o||void 0===o?void 0:o.attainment_code)&&void 0!==l?l:"",", "]}):"",null!==o&&void 0!==o&&o.attainment_target?(0,m.jsxs)("span",{children:[" ",r("co_target")," : ",null!==(s=null===o||void 0===o?void 0:o.attainment_target)&&void 0!==s?s:""]}):""]})]}),(0,m.jsx)("div",{className:i.Z.exam_date,children:(0,m.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:()=>{_(o)},className:i.Z.menu_icon,title:"Menu"})})]}),c&&(0,m.jsx)(u,{onClose:()=>_(""),onRefetch:d,menu:c})]})}},99434:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Bt});var a=n(72791),i=n(11464),l=n(16871);const s="DepartmentHead_departmenthead__WHpjn";var o=n(85843),d=n(10191);const r="MiddleContent_MiddleContent__UOP6+",c="MiddleContent_MiddleContentLeft__qinVT",m="MiddleContent_tabs__qLS3q",u="MiddleContent_item__tlnFy",v="MiddleContent_itemIcon__jRWHW",_="MiddleContent_classList__0GlKi",h="MiddleContent_classListItem__bzjP2",p="MiddleContent_class_head_name__w9ZKs";var x=n(46457),f=n(39230),g=n(80184);const j=function(e){let{activeIndex:t,setActiveIndex:n}=e;const{t:a}=(0,f.$G)();return(0,g.jsx)("div",{className:x.Z.mcqTop,children:(0,g.jsxs)("div",{className:x.Z.mcqToptabs,children:[(0,g.jsx)("div",{className:0===t?"".concat(x.Z.mcqTopItem," ").concat(x.Z.active):x.Z.mcqTopItem,onClick:()=>n(0),children:a("menu")}),(0,g.jsx)("div",{className:1===t?"".concat(x.Z.mcqTopItem," ").concat(x.Z.active):x.Z.mcqTopItem,onClick:()=>n(1),children:a("classes")})]})})};var b=n(74289),y=n(69721),S=n(8148),N=n(35395),Z=n(33992),C=n(93339),k=n(1669);const T=a.lazy((()=>Promise.all([n.e(6307),n.e(37641)]).then(n.bind(n,50710))));const D=function(e){var t,n,i,l,s,o,d,x,D,I,M,w,F;let{bid:A,carryParentState:P,instituteId:E,did:q,storeEnable:R}=e;const{t:L}=(0,f.$G)(),[O,Y]=(0,a.useState)(0),[G,H]=(0,a.useState)(""),{departmentBatchAllClass:U,departmentBatchAllClassRefetch:B}=(0,b.$C)({data:{bid:A,page:1,limit:20},skip:!A}),{classEditDetail:$,classEditDetailRefetch:V}=(0,Z.Q1)({cid:G,skip:!G}),{departmentTabManage:z,departmentTabManageLoading:K}=(0,C.jU)({data:{did:q,flow:"Department"},skip:!q});return(0,a.useEffect)((()=>{A&&B()}),[A,B]),(0,a.useEffect)((()=>{G&&V()}),[G,V]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:r,children:(0,g.jsxs)("div",{className:c,children:[(0,g.jsx)("div",{className:m,children:(0,g.jsx)(j,{activeIndex:O,setActiveIndex:Y})}),0===O&&(0,g.jsxs)("div",{className:u,children:[(null===z||void 0===z||null===(t=z.tab_manage)||void 0===t?void 0:t.all_staff)&&(0,g.jsx)(S.Z,{carryParentState:P,activeTab:"staff",children:(0,g.jsxs)("div",{className:v,children:[(0,g.jsx)("img",{src:"/images/member_tab/department/department-staff-icon.svg",alt:"staff room"}),(0,g.jsx)("p",{children:L("staff_room")})]})}),(null===z||void 0===z||null===(n=z.tab_manage)||void 0===n?void 0:n.mentor)&&(0,g.jsx)(S.Z,{carryParentState:P,activeTab:"mentor",children:(0,g.jsxs)("div",{className:v,children:[(0,g.jsx)("img",{src:"/images/member_tab/department/department-mentor-icon.svg",alt:"mentor avatar"}),(0,g.jsx)("p",{children:L("mentoring")})]})}),(null===z||void 0===z||null===(i=z.tab_manage)||void 0===i?void 0:i.fees)&&(0,g.jsx)(S.Z,{carryParentState:P,activeTab:"fees",children:(0,g.jsxs)("div",{className:v,children:[(0,g.jsx)("img",{src:"/images/member_tab/department/department-fees-icon.svg",alt:"functions"}),(0,g.jsx)("p",{children:L("department_fees")})]})}),(null===z||void 0===z||null===(l=z.tab_manage)||void 0===l?void 0:l.checklist)&&(0,g.jsx)(S.Z,{carryParentState:P,activeTab:"checklist",children:(0,g.jsxs)("div",{className:v,children:[(0,g.jsx)("img",{src:"/images/member_tab/department/department-checklist-icon.svg",alt:"competitons"}),(0,g.jsx)("p",{children:L("checklist")})]})}),(null===z||void 0===z||null===(s=z.tab_manage)||void 0===s?void 0:s.examination)&&(0,g.jsx)(S.Z,{carryParentState:P,activeTab:"exam",children:(0,g.jsxs)("div",{className:v,children:[(0,g.jsx)("img",{src:"/images/member_tab/department/department-examination-icon.svg",alt:"functions"}),(0,g.jsx)("p",{children:L("examinations")})]})}),(null===z||void 0===z||null===(o=z.tab_manage)||void 0===o?void 0:o.copo)&&(0,g.jsx)(S.Z,{carryParentState:P,activeTab:"co-attainment",children:(0,g.jsxs)("div",{className:v,children:[(0,g.jsx)("img",{src:"/images/member_tab/subject/subject-attainment-icon.svg",alt:"settings"}),(0,g.jsx)("p",{style:{textAlign:"center"},children:L("co_mapping_and_attainment")})]})}),(null===z||void 0===z||null===(d=z.tab_manage)||void 0===d?void 0:d.malicious)&&(0,g.jsx)(S.Z,{carryParentState:P,activeTab:"malicious",children:(0,g.jsxs)("div",{className:v,children:[(0,g.jsx)("img",{src:"/images/member_tab/department/department-malicious-icon.svg",alt:"backlogs"}),(0,g.jsx)("p",{children:L("malicious_practices")})]})}),(null===z||void 0===z||null===(x=z.tab_manage)||void 0===x?void 0:x.backlog)&&(0,g.jsx)(S.Z,{carryParentState:P,activeTab:"backlog&standard",children:(0,g.jsxs)("div",{className:v,children:[(0,g.jsx)("img",{src:"/images/member_tab/department/department-backlog-icon.svg",alt:"backlogs"}),(0,g.jsx)("p",{children:L("backlog")})]})}),(null===z||void 0===z||null===(D=z.tab_manage)||void 0===D?void 0:D.holiday)&&(0,g.jsx)(S.Z,{carryParentState:P,activeTab:"holiday",children:(0,g.jsxs)("div",{className:v,children:[(0,g.jsx)("img",{src:"/images/member_tab/department/department-holiday-icon.svg",alt:"holiday"}),(0,g.jsx)("p",{children:L("holidays")})]})}),(null===z||void 0===z||null===(I=z.tab_manage)||void 0===I?void 0:I.complaint)&&(0,g.jsx)(S.Z,{carryParentState:P,activeTab:"complaint",children:(0,g.jsxs)("div",{className:v,children:[(0,g.jsx)("img",{src:"/images/member_tab/department/department-complaint-icon.svg",alt:"settings"}),(0,g.jsx)("p",{children:L("department_complaints")})]})}),(null===z||void 0===z||null===(M=z.tab_manage)||void 0===M?void 0:M.setting)&&(0,g.jsx)(S.Z,{carryParentState:P,activeTab:"setting",children:(0,g.jsxs)("div",{className:v,children:[(0,g.jsx)("img",{src:"/images/member_tab/class/class-setting-icon.svg",alt:"settings"}),(0,g.jsx)("p",{children:L("setting")})]})})]}),1===O&&(0,g.jsx)("div",{className:_,style:{position:"relative"},children:null===U||void 0===U||null===(w=U.batch)||void 0===w||null===(F=w.classroom)||void 0===F?void 0:F.map((e=>{var t,n,a,i,l,s,o,d,r,c,m,u;return(0,g.jsx)(S.Z,{carryParentState:{...P,clsId:null===e||void 0===e?void 0:e._id,clsName:"".concat(null===e||void 0===e?void 0:e.className," - ").concat(null===e||void 0===e?void 0:e.classTitle),teacherName:"".concat(null!==(t=null===e||void 0===e||null===(n=e.classTeacher)||void 0===n?void 0:n.staffFirstName)&&void 0!==t?t:""," ").concat((null===e||void 0===e||null===(a=e.classTeacher)||void 0===a?void 0:a.staffMiddleName)||""," ").concat(null!==(i=null===e||void 0===e||null===(l=e.classTeacher)||void 0===l?void 0:l.staffLastName)&&void 0!==i?i:"")},activeTab:"class-detail",children:(0,g.jsxs)("div",{className:h,style:{justifyContent:"space-between"},children:[(0,g.jsxs)("div",{className:p,children:[(0,g.jsx)("img",{src:null!==e&&void 0!==e&&null!==(s=e.classTeacher)&&void 0!==s&&s.staffProfilePhoto?"".concat(y.yI,"/").concat(null===e||void 0===e||null===(o=e.classTeacher)||void 0===o?void 0:o.staffProfilePhoto):"/images/classes.svg",alt:"class head avatar",style:{borderRadius:"0"}}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h6",{children:null===e||void 0===e?void 0:e.classTitle}),(0,g.jsx)("p",{children:"".concat(null!==(d=null===e||void 0===e||null===(r=e.classTeacher)||void 0===r?void 0:r.staffFirstName)&&void 0!==d?d:""," ").concat((null===e||void 0===e||null===(c=e.classTeacher)||void 0===c?void 0:c.staffMiddleName)||""," ").concat(null!==(m=null===e||void 0===e||null===(u=e.classTeacher)||void 0===u?void 0:u.staffLastName)&&void 0!==m?m:"")})]})]}),(0,g.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:t=>((e,t)=>{e.preventDefault(),H(t)})(t,null===e||void 0===e?void 0:e._id),title:"Menu",style:{cursor:"pointer",height:"1.5rem"}})]})},e._id)}))}),K&&(0,g.jsx)(k.Z,{})]})}),(0,g.jsx)(N.Z,{children:G&&(0,g.jsx)(T,{departmentModal:!!G,hideModal:()=>H(""),edit:G,setEdit:H,editClass:null===$||void 0===$?void 0:$.classes,onRefetch:V,isEditBy:"DEPARTMENT_HEAD",id:E})})]})};var I=n(21640);const M=function(e){var t,n,i;let{departmentProfile:s,carryParentState:o,instituteId:d,did:r}=e;const{t:c}=(0,f.$G)(),m=(0,l.UO)(),[u]=(0,b.sM)(),[v,_]=(0,a.useState)(""),[h,p]=(0,a.useState)(""),[x,j]=(0,a.useState)(!1),[y,S]=(0,a.useState)(!1),[N,Z]=(0,a.useState)("");return(0,a.useEffect)((()=>{if(y){var e;let t=new FormData;t.append("file",h),u({cover:t,did:null===s||void 0===s||null===(e=s.department)||void 0===e?void 0:e._id}).then((e=>{})).catch({})}}),[y,h]),(0,g.jsxs)("div",{children:[(0,g.jsx)(I.Z,{coverKey:null===s||void 0===s?void 0:s.cover,coverId:null===s||void 0===s?void 0:s.coverId,defaultCover:"/images/profileAndCover/department-cover.png",textLarge:null===s||void 0===s?void 0:s.dName,batchStatus:"true",textSmall:"".concat(null===s||void 0===s||null===(t=s.userBatch)||void 0===t?void 0:t.batchName),count1:null===s||void 0===s?void 0:s.classCount,count1label:c("classes"),count3:null===s||void 0===s?void 0:s.studentCount,count2label:c("staff"),count2:null===s||void 0===s?void 0:s.staffCount,count3label:c("students"),profilePhoto:N,profileChange:e=>{const t=URL.createObjectURL(e.target.files[0]);p(e.target.files[0]),Z(t),_(t),j(!0)},openCrop:x,setOpenCrop:j,setPhotoURL:_,photoURL:v,setFile:p,setUpload:S,setProfilePhoto:Z,viewAs:!0,redirectUrl:"/q/".concat(m.username,"/member/department/").concat(m.deptname,"?a=site"),carryParentState:o}),(0,g.jsx)(D,{bid:null===s||void 0===s||null===(n=s.userBatch)||void 0===n?void 0:n._id,carryParentState:o,instituteId:d,did:r,storeEnable:null===s||void 0===s||null===(i=s.institute)||void 0===i?void 0:i.storeStatus})]})},w="StaffRoom_staffRoom__lF860",F="StaffRoom_backFlex__8hajZ",A="StaffRoom_searchContainer__u3cfP",P="StaffRoom_itemsContainer__nSzH2",E="StaffRoom_item__Hqrg3";var q=n(11105),R=n(43504);const L=function(e){var t;let{did:n}=e;const{t:i}=(0,f.$G)(),s=(0,l.UO)(),[o,d]=a.useState([]),[r,c]=(0,a.useState)(!0),{departmentAllStaff:m,departmentAllStaffRefetch:u}=(0,b.sX)({data:{did:n,page:1,limit:20},skip:!n});return a.useEffect((()=>{n&&(c(!0),u())}),[n,u]),a.useEffect((()=>{var e,t,n;null!==m&&void 0!==m&&null!==(e=m.department)&&void 0!==e&&e.departmentChatGroup?(d((e=>{var t;return[...new Set([...e,...null===m||void 0===m||null===(t=m.department)||void 0===t?void 0:t.departmentChatGroup].map(JSON.stringify))].map(JSON.parse)})),c(!1)):0===(null===m||void 0===m||null===(t=m.department)||void 0===t||null===(n=t.departmentChatGroup)||void 0===n?void 0:n.length)&&c(!1)}),[null===m||void 0===m||null===(t=m.department)||void 0===t?void 0:t.departmentChatGroup]),(0,g.jsxs)("div",{className:w,children:[(0,g.jsx)("div",{className:F,children:(0,g.jsxs)("div",{className:A,children:[(0,g.jsx)("img",{src:"/images/search-dept-icon.svg",alt:""}),(0,g.jsx)("input",{type:"text",placeholder:i("search"),onChange:e=>{if(e.target.value){var t,n;const a=null===m||void 0===m||null===(t=m.department)||void 0===t||null===(n=t.departmentChatGroup)||void 0===n?void 0:n.filter((t=>{var n,a,i;return null!==(n="".concat(null===t||void 0===t?void 0:t.staffFirstName," ").concat(null!==t&&void 0!==t&&t.staffMiddleName?(null===t||void 0===t?void 0:t.staffMiddleName)+" ":"").concat(null===t||void 0===t?void 0:t.staffLastName))&&void 0!==n&&null!==(a=n.toLowerCase())&&void 0!==a&&a.includes(null===(i=e.target.value)||void 0===i?void 0:i.toLowerCase())?t:null}));d(a)}else{var a;d(null===m||void 0===m||null===(a=m.department)||void 0===a?void 0:a.departmentChatGroup)}}})]})}),(0,g.jsxs)("div",{className:P,children:[null===o||void 0===o?void 0:o.map((e=>(0,g.jsx)(R.rU,{to:"/q/".concat(s.username,"/staff/profile"),state:{sid:null===e||void 0===e?void 0:e._id,viewAs:"DEPARTMENT_HEAD"},children:(0,g.jsxs)("div",{className:E,children:[(0,g.jsx)("p",{children:null===e||void 0===e?void 0:e.staffROLLNO}),(0,g.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(y.yI,"/").concat(null===e||void 0===e?void 0:e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,g.jsx)("p",{children:"".concat(null===e||void 0===e?void 0:e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(null===e||void 0===e?void 0:e.staffLastName)})]})},null===e||void 0===e?void 0:e._id))),r&&(0,g.jsx)(q.Z,{})]})]})};var O=n(9972),Y=n(90443),G=n(36665),H=n(97655),U=n(60163),B=n(98094),$=n(91022);const V=e=>{let{checklistInfo:t,onGrabInfo:n,is_edit:i}=e;const{t:l}=(0,f.$G)(),[s,o]=(0,a.useState)({checklistName:"",checklistAmount:"",checklistFees:""}),[d,r]=(0,a.useState)("");(0,a.useEffect)((()=>{t&&o((e=>({...e,...t})))}),[t]);const c=e=>{"checklistAmount"===e.target.name?o((t=>({...t,checklistAmount:+e.target.value}))):o((t=>({...t,[e.target.name]:e.target.value})))},m=()=>{const e=(e=>{const t={};for(let n in e)"checklistAmount"===n?"Yes"===e.checklistFees&&(e[n]||(t[n]="".concat(n," is required!"))):e[n]||(t[n]="".concat(n," is required!"));return t})(s);let t=!1;for(let n in e)if(n){t=!0;break}t?r(e):n(s)};return(0,g.jsxs)("div",{className:U.Z.seating_modal,style:{minHeight:"17rem"},children:[(0,g.jsxs)("section",{className:U.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,g.jsx)("h6",{children:l("create_checklist")}),i?(0,g.jsx)("button",{className:U.Z.next_btn,title:"Update Checklist",onClick:m,children:l("update")}):(0,g.jsx)("button",{className:U.Z.next_btn,title:"Next",onClick:m,children:l("next")})]}),(0,g.jsx)(B.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),(0,g.jsx)(H.Z,{labelText:l("department_checklist_name"),placeholder:l("enter_checklist_name"),name:"checklistName",value:s.checklistName,type:"text",onChange:c,errorShow:d.checklistName}),(0,g.jsx)($.Z,{selectLabel:l("select_fees"),selectedValue:l("select_fess_yes_no"),name:"checklistFees",value:s.checklistFees,onClick:e=>o((t=>({...t,checklistFees:e}))),errorShow:d.checklistFees,options:["Yes","No"]}),"Yes"===s.checklistFees?(0,g.jsx)(H.Z,{labelText:l("amount"),placeholder:l("enter_fees_amount"),name:"checklistAmount",value:s.checklistAmount,type:"number",onChange:c,errorShow:d.checklistAmount}):""]})};var z=n(34219),K=n(98734),J=n(13355);const Q=e=>{let{onBack:t,bid:n,did:i,createFees:l,onResetAfterCreate:s}=e;const{t:o}=(0,f.$G)(),[d,r]=(0,a.useState)(!0),[c,m]=(0,a.useState)(!1),[u,v]=(0,a.useState)([]),[_,h]=(0,a.useState)([]),[p]=(0,b.xw)(),{departmentAllClassMaster:x,departmentAllClassMasterRefetch:j}=(0,b.lj)({data:{did:i,bid:n,page:1,limit:50},skip:!n||!i});(0,a.useEffect)((()=>{n&&i&&j()}),[n,i,j]),(0,a.useEffect)((()=>{var e,t;null!==x&&void 0!==x&&null!==(e=x.classMaster)&&void 0!==e&&e.length?(v(null===x||void 0===x?void 0:x.classMaster),r(!1)):0===(null===x||void 0===x||null===(t=x.classMaster)||void 0===t?void 0:t.length)&&r(!1)}),[null===x||void 0===x?void 0:x.classMaster]);const y=e=>{null!==_&&void 0!==_&&_.includes(e)?h((t=>null===t||void 0===t?void 0:t.filter((t=>t!==e)))):h((t=>[...t,e]))};return(0,g.jsxs)("div",{className:U.Z.seating_modal,children:[(0,g.jsxs)("section",{className:U.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,g.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:t,alt:"back"}),(0,g.jsx)("h6",{children:o("select_classes")}),(0,g.jsx)("button",{className:U.Z.next_btn,title:"Save checklist",onClick:()=>{null!==_&&void 0!==_&&_.length&&(m((e=>!e)),p({did:i,createChecklist:{...l,ClassId:_}}).then((()=>{s(),m((e=>!e))})).catch((()=>{m((e=>!e))})))},children:o("save")})]}),(0,g.jsx)(B.Z,{customStyle:{width:"100%",marginTop:"0.5rem",marginBottom:"0.5rem"}}),null===u||void 0===u?void 0:u.map((e=>{var t;return null===e||void 0===e||null===(t=e.classDivision)||void 0===t?void 0:t.map((t=>(0,g.jsx)(J.Z,{cls:t,isMaster:!0,onSelect:y,classMaster:null===e||void 0===e?void 0:e.className,divisionId:_},t._id)))})),!d&&!(null!==u&&void 0!==u&&u.length)&&(0,g.jsx)(z.Z,{customStyleContainer:{marginTop:"4rem"},title:"No any class found",subtitle:"Please make sure you have created class."}),d&&(0,g.jsx)(q.Z,{}),c&&(0,g.jsx)(K.Z,{})]})};const W=function(e){let{did:t,bid:n,onRefetch:i,onClose:l,onEdit:s,is_edit:o,checklistData:d}=e;const[r,c]=(0,a.useState)("FEES_INFO"),[m,u]=(0,a.useState)({checklistName:o?null===d||void 0===d?void 0:d.checklistName:"",checklistAmount:o?null===d||void 0===d?void 0:d.checklistAmount:"",checklistFees:o?null===d||void 0===d?void 0:d.checklistFees:""});return(0,a.useEffect)((()=>{o&&d&&u((e=>({...e,checklistName:null===d||void 0===d?void 0:d.checklistName,checklistAmount:null===d||void 0===d?void 0:d.checklistAmount,checklistFees:null===d||void 0===d?void 0:d.checklistFees})))}),[o,d]),(0,g.jsxs)(G.Z,{onClose:l,children:["FEES_INFO"===r&&(0,g.jsx)(V,{onClose:l,onGrabInfo:e=>{o?s(e):(u((t=>({...t,...e}))),c("SELECT_DIVISION"))},checklistInfo:m,is_edit:o}),"SELECT_DIVISION"===r&&(0,g.jsx)(Q,{onBack:()=>c("FEES_INFO"),did:t,bid:n,createFees:m,onResetAfterCreate:()=>{i(),l(),u({checklistName:"",checklistAmount:"",checklistFees:""}),c("FEES_INFO")}})]})},X="List_checklist_card_container__90+P6",ee="List_checklist_card_left__2-N48",te="List_checklist_inner_text__QnPAv",ne="List_menu_icon__YMaLT",ae="List_fees_image__s0+xg";var ie=n(72426),le=n.n(ie),se=n(12072),oe=n(84489),de=n(87049);const re=e=>{let{did:t,onRefetch:n,openChecklistMenu:i,onClose:l}=e;const[s,o]=(0,a.useState)(!1),[d,r]=(0,a.useState)(!1),[c]=(0,b.jD)(),[m]=(0,b.X5)();return(0,g.jsx)(g.Fragment,{children:d?(0,g.jsx)(W,{checklistData:i,onClose:()=>r(!1),onEdit:e=>{o((e=>!e)),r(!1),m({cid:null===i||void 0===i?void 0:i._id,checklist:e}).then((()=>{n(),o((e=>!e)),l()})).catch({})},is_edit:!0}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(oe.Z,{onClose:l}),(0,g.jsxs)(se.Z,{customStyle:{zIndex:"1200"},children:[(0,g.jsxs)("div",{className:de.Z.edit_modal_container,style:{width:"200px"},children:[(0,g.jsx)("h6",{className:de.Z.edit,onClick:()=>r((e=>!e)),children:"Edit"}),(0,g.jsx)("h6",{className:de.Z.remove,onClick:()=>{o((e=>!e)),c({did:t,cid:null===i||void 0===i?void 0:i._id}).then((()=>{n(),o((e=>!e)),l()})).catch({})},children:"Delete"})]}),s&&(0,g.jsx)(K.Z,{})]})]})})},ce=e=>{var t,n;let{checklist:i,onRefetch:l,did:s}=e;const{t:o}=(0,f.$G)(),[d,r]=(0,a.useState)("");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:X,children:[(0,g.jsxs)("div",{className:ee,children:[(0,g.jsx)("img",{src:"/images/members/fees-icon.svg",alt:"fees icon",className:ae}),(0,g.jsxs)("div",{className:te,children:[(0,g.jsx)("h6",{children:null!==(t=null===i||void 0===i?void 0:i.checklistName)&&void 0!==t?t:0}),(0,g.jsxs)("p",{children:[o("created_on")," ",le()(null===i||void 0===i?void 0:i.createdAt).format("DD MMMM YYYY")," "]})]})]}),(0,g.jsxs)("div",{className:te,style:{alignItems:"flex-end",marginRight:"2rem"},children:[(0,g.jsxs)("h6",{children:[o("rs"),". ",null!==(n=null===i||void 0===i?void 0:i.checklistAmount)&&void 0!==n?n:0,"/-"]}),(0,g.jsxs)("p",{children:[o("fees")," "]})]}),(0,g.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:()=>r(i),className:ne,title:"Menu"})]}),d&&(0,g.jsx)(re,{did:s,onRefetch:l,openChecklistMenu:d,onClose:()=>r("")})]})};const me=function(e){var t;let{did:n,bid:i}=e;const{t:l}=(0,f.$G)(),[s,o]=(0,a.useState)(!1),[d,r]=(0,a.useState)(!0),[c,m]=(0,a.useState)([]),[u,v]=(0,a.useState)(!1),{departmentAllChecklist:_,departmentAllChecklistRefetch:h}=(0,b.r5)({data:{did:n,page:1,limit:20},skip:!n});(0,a.useEffect)((()=>{n&&h()}),[n,h]),(0,a.useEffect)((()=>{var e,t;null!==_&&void 0!==_&&null!==(e=_.checklist)&&void 0!==e&&e.length?(m(null===_||void 0===_?void 0:_.checklist),r(!1)):0===(null===_||void 0===_||null===(t=_.checklist)||void 0===t?void 0:t.length)&&r(!1)}),[null===_||void 0===_?void 0:_.checklist]);const p=()=>{o((e=>!e))};return(0,a.useEffect)((()=>{n&&h()}),[h,n]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:Y.Z.exam_container,children:[(0,g.jsxs)("div",{className:Y.Z.with_search,children:[(0,g.jsx)("h6",{children:l("previous_checklist_list")}),(0,g.jsx)("section",{className:Y.Z.search_container,children:(0,g.jsxs)("div",{className:Y.Z.search_container_input,children:[(0,g.jsx)("img",{className:Y.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,g.jsx)("input",{type:"text",placeholder:"Search checklist...",onChange:e=>{if(e.target.value){var t;const n=null===_||void 0===_||null===(t=_.checklist)||void 0===t?void 0:t.filter((t=>{var n,a,i;return null!==t&&void 0!==t&&null!==(n=t.checklistName)&&void 0!==n&&null!==(a=n.toLowerCase())&&void 0!==a&&a.includes(null===(i=e.target.value)||void 0===i?void 0:i.toLowerCase())?t:null}));0===(null===n||void 0===n?void 0:n.length)?v(!0):v(!1),m(n)}else v(!1),m(null===_||void 0===_?void 0:_.checklist)}})]})})]}),(0,g.jsx)(B.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,g.jsx)("div",{className:Y.Z.add_new_container,children:(0,g.jsx)("p",{className:Y.Z.add_new_exam,onClick:p,children:l("create_new_checklist")})}),null===c||void 0===c?void 0:c.map((e=>(0,g.jsx)(ce,{checklist:e,onRefetch:h,did:n},e._id))),!d&&!(null!==_&&void 0!==_&&null!==(t=_.checklist)&&void 0!==t&&t.length)&&(0,g.jsx)(z.Z,{customStyleContainer:{marginTop:"9rem"},title:"No any checklist found",subtitle:"Please make sure you have created checklist."}),u&&(0,g.jsx)(z.Z,{customStyleContainer:{marginTop:"9rem"},title:"No any search found"}),d&&(0,g.jsx)(q.Z,{})]}),s&&(0,g.jsx)(W,{did:n,bid:i,onRefetch:h,onClose:p})]})};var ue=n(47167),ve=n(10406),_e=n(72295),he=n(23441),pe=n(12143);const xe=e=>{var t,n,a,i;let{viewAs:l,customStyleContainer:s,mentee:o,setOpenMenteeMenu:d}=e;const{t:r}=(0,f.$G)();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:pe.Z.student_card_container,style:s,children:[(0,g.jsx)("img",{src:null!==o&&void 0!==o&&o.studentProfilePhoto?"".concat(y.yI,"/").concat(null===o||void 0===o?void 0:o.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"student avatar",loading:"lazy"}),(0,g.jsxs)("div",{className:pe.Z.student_container_inner,children:[(0,g.jsx)("h6",{children:"".concat(null!==(t=null===o||void 0===o?void 0:o.studentFirstName)&&void 0!==t?t:""," ").concat(null!==(n=null===o||void 0===o?void 0:o.studentMiddleName)&&void 0!==n?n:""," ").concat(null!==(a=null===o||void 0===o?void 0:o.studentLastName)&&void 0!==a?a:"")}),(0,g.jsxs)("div",{className:pe.Z.student_inner_bottom,children:[(0,g.jsxs)("p",{style:{marginTop:"0.6rem"},children:["".concat(null!==(i=null===o||void 0===o?void 0:o.total_query)&&void 0!==i?i:0," "),r("queries_pending")]}),"MENTOR_DETAIL"===l&&(0,g.jsx)("button",{className:pe.Z.remove_btn,onClick:()=>d(o),children:r("remove")})]})]})]}),(0,g.jsx)(B.Z,{customStyle:{width:"100%",marginTop:"0.6rem"}})]})};var fe=n(80962),ge=n(88409);const je=e=>{var t,n,i,s,o,d,r,c,m,u,v,_,h,p,x,f,j;let{did:y}=e;const S=(0,l.TH)(),[N,Z]=(0,a.useState)(!1),[C,k]=(0,he.YD)(),[T,D]=(0,a.useState)(1),[I,M]=(0,a.useState)(!0),[w,F]=(0,a.useState)(!0),[A,P]=(0,a.useState)([]),[E,R]=(0,a.useState)(!1),[L,O]=(0,a.useState)(""),{getOneMentorDetail:Y,getOneMentorDetailRefetch:G}=(0,b.$f)({mid:null===(t=S.state)||void 0===t?void 0:t.mid,skip:!(null!==(n=S.state)&&void 0!==n&&n.mid)});(0,a.useEffect)((()=>{var e;null!==(e=S.state)&&void 0!==e&&e.mid&&G()}),[null===(i=S.state)||void 0===i?void 0:i.mid,G]);const{getOneMentorMenteeList:H,getOneMentorMenteeListRefetch:U}=(0,b.Gu)({data:{mid:null===(s=S.state)||void 0===s?void 0:s.mid,page:T,limit:10},skip:!(null!==(o=S.state)&&void 0!==o&&o.mid)});(0,a.useEffect)((()=>{var e;null!==(e=S.state)&&void 0!==e&&e.mid&&(F(!0),U())}),[null===(d=S.state)||void 0===d?void 0:d.mid,T,U]),(0,a.useEffect)((()=>{k&&I&&D((e=>e+1))}),[k,I]),(0,a.useEffect)((()=>{var e,t;E?(P(null===H||void 0===H?void 0:H.all_mentees),F(!1),R(!1)):null!==H&&void 0!==H&&H.all_mentees?(P((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===H||void 0===H?void 0:H.all_mentees])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),F(!1)):0===(null===H||void 0===H||null===(t=H.all_mentees)||void 0===t?void 0:t.length)&&F(!1);10===(null===H||void 0===H||null===(e=H.all_mentees)||void 0===e?void 0:e.length)?M(!0):M(!1)}),[null===H||void 0===H?void 0:H.all_mentees]);const $=()=>{Z((e=>!e))},V=()=>{D(1),R(!0),F(!0),U()};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:ve.Z.with_search,children:[(0,g.jsx)("h6",{children:"".concat(null!==(r=null===Y||void 0===Y||null===(c=Y.mentor)||void 0===c||null===(m=c.mentor_head)||void 0===m?void 0:m.staffFirstName)&&void 0!==r?r:""," ").concat(null!==(u=null===Y||void 0===Y||null===(v=Y.mentor)||void 0===v||null===(_=v.mentor_head)||void 0===_?void 0:_.staffMiddleName)&&void 0!==u?u:""," ").concat(null!==(h=null===Y||void 0===Y||null===(p=Y.mentor)||void 0===p||null===(x=p.mentor_head)||void 0===x?void 0:x.staffLastName)&&void 0!==h?h:"")}),(0,g.jsxs)("div",{className:ve.Z.search_container_filter,children:[(0,g.jsx)("section",{className:ve.Z.search_container,children:(0,g.jsxs)("div",{className:ve.Z.search_container_input,children:[(0,g.jsx)("img",{className:ve.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,g.jsx)("input",{type:"text",placeholder:"Search"})]})}),(0,g.jsx)("img",{src:"/images/add-plus-blue-icon.svg",alt:"back arrow",className:ve.Z.add_plus_icon,onClick:$,title:"Add seating arrangements"})]})]}),(0,g.jsx)(B.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,g.jsx)(_e.Z,{viewAs:"MENTOR_DETAIL",mentor:null===Y||void 0===Y?void 0:Y.mentor}),null===A||void 0===A?void 0:A.map(((e,t)=>(null===A||void 0===A?void 0:A.length)===t+1?(0,g.jsx)("div",{ref:C,children:(0,g.jsx)(xe,{mentee:e,viewAs:"MENTOR_DETAIL",setOpenMenteeMenu:O})},null===e||void 0===e?void 0:e._id):(0,g.jsx)(xe,{mentee:e,viewAs:"MENTOR_DETAIL",setOpenMenteeMenu:O},null===e||void 0===e?void 0:e._id))),w&&(0,g.jsx)(q.Z,{}),N&&(0,g.jsx)(fe.Z,{onClose:$,did:y,mid:null===(f=S.state)||void 0===f?void 0:f.mid,onRefetch:V}),L&&(0,g.jsx)(ge.Z,{onClose:()=>O(""),did:y,mid:null===(j=S.state)||void 0===j?void 0:j.mid,onRefetch:V,openMenteeMenu:L})]})};var be=n(46876);const ye=e=>{let{instituteId:t,onClose:n,onRefetch:i,did:l}=e;const{t:s}=(0,f.$G)(),[o,d]=(0,a.useState)(!1),[r,c]=(0,a.useState)(!0),[m]=(0,b.LP)();return(0,g.jsxs)(g.Fragment,{children:[r&&(0,g.jsx)(G.Z,{onClose:n,children:(0,g.jsx)(be.default,{assignHead:r,headSelect:e=>{c(!1),d((e=>!e)),m({did:l,sid:null===e||void 0===e?void 0:e._id}).then((()=>{i(),n(),d((e=>!e))})).catch({})},title:s("staff_list"),onClose:()=>c((e=>!e)),viewAs:"ADMISSION_ADMIN",instituteId:t})}),o&&(0,g.jsx)(K.Z,{})]})},Se=e=>{let{carryParentState:t,instituteId:n,did:i}=e;const{t:l}=(0,f.$G)(),[s,o]=(0,a.useState)(!1),[d,r]=(0,he.YD)(),[c,m]=(0,a.useState)(1),[u,v]=(0,a.useState)(!0),[_,h]=(0,a.useState)(!0),[p,x]=(0,a.useState)([]),[j,y]=(0,a.useState)(!1),{getMentorList:S,getMentorListRefetch:N}=(0,b.LA)({data:{did:i,page:c,limit:10},skip:!i});(0,a.useEffect)((()=>{i&&(h(!0),N())}),[i,c,N]),(0,a.useEffect)((()=>{r&&u&&m((e=>e+1))}),[r,u]),(0,a.useEffect)((()=>{var e,t;j?(x(null===S||void 0===S?void 0:S.all_mentor),h(!1),y(!1)):null!==S&&void 0!==S&&S.all_mentor?(x((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===S||void 0===S?void 0:S.all_mentor])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),h(!1)):0===(null===S||void 0===S||null===(t=S.all_mentor)||void 0===t?void 0:t.length)&&h(!1);10===(null===S||void 0===S||null===(e=S.all_mentor)||void 0===e?void 0:e.length)?v(!0):v(!1)}),[null===S||void 0===S?void 0:S.all_mentor]);const Z=()=>{o((e=>!e))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,g.jsx)("h6",{className:ve.Z.add_new_category,onClick:Z,children:l("create_new_mentor")})}),null===p||void 0===p?void 0:p.map(((e,n)=>(null===p||void 0===p?void 0:p.length)===n+1?(0,g.jsx)("div",{ref:d,children:(0,g.jsx)(_e.Z,{mentor:e,carryParentState:t})},null===e||void 0===e?void 0:e._id):(0,g.jsx)(_e.Z,{mentor:e,carryParentState:t},null===e||void 0===e?void 0:e._id))),_&&(0,g.jsx)(q.Z,{}),s&&(0,g.jsx)(ye,{onClose:Z,instituteId:n,onRefetch:()=>{m(1),y(!0),h(!0),N()},did:i})]})};var Ne=n(37435),Ze=n(23308),Ce=n(93638);const ke=e=>{var t,n,i,s,o,d,r,c;let{carryParentState:m,did:u,instituteId:v}=e;const{t:_}=(0,f.$G)(),h=(0,l.s0)(),p=(0,l.TH)(),x=(0,l.UO)(),[j,y]=(0,a.useState)(!1),[S]=(0,b.Rz)(),N=[{name:_("mentors"),id:0,url:"member/department/".concat(x.deptname,"?a=mentor")},{name:_("queries"),id:1,url:"member/department/".concat(x.deptname,"?a=mentor&n=queries")}];return(0,g.jsxs)(g.Fragment,{children:[("mentor"===(null===(t=p.search)||void 0===t?void 0:t.substring(3))||"mentor&n=queries"===(null===(n=p.search)||void 0===n?void 0:n.substring(3)))&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:ve.Z.with_search,style:{justifyContent:"space-between",gap:"1rem"},children:[(0,g.jsxs)("div",{className:ve.Z.with_search,style:{justifyContent:"flex-start",gap:"1rem",width:"60%"},children:[(0,g.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{h(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,g.jsx)("h6",{children:_("mentoring")})]}),(0,g.jsx)(Ce.Z,{label:_("staff_mentor"),customStyle:{margin:"0",padding:"0.4rem 1rem"},onAction:()=>{u&&(y((e=>!e)),S({did:u}).then((()=>{y((e=>!e))})).catch({}))}})]}),(0,g.jsx)(ue.Z,{tabList:N,activeIndexTab:"mentor"===(null===(i=p.search)||void 0===i?void 0:i.substring(3))?0:"mentor&n=queries"===(null===(s=p.search)||void 0===s?void 0:s.substring(3))?1:2,showAs:!0,customStyleLink:{width:"50%"},carryParentState:m}),(0,g.jsx)(B.Z,{customStyle:{width:"100%",marginBottom:"0.5rem"}}),"mentor"===(null===(o=p.search)||void 0===o?void 0:o.substring(3))&&(0,g.jsx)(Se,{instituteId:v,did:u,carryParentState:m}),"mentor&n=queries"===(null===(d=p.search)||void 0===d?void 0:d.substring(3))&&(0,g.jsx)(Ze.default,{did:u,carryParentState:m,queryFlow:"By_Department_Head"})]}),"mentor&n=detail"===(null===(r=p.search)||void 0===r?void 0:r.substring(3))&&(0,g.jsx)(je,{did:u}),"mentor&n=queries&query"===(null===(c=p.search)||void 0===c?void 0:c.substring(3))&&(0,g.jsx)(Ne.default,{queryFlow:"By_Department_Head"}),j&&(0,g.jsx)(K.Z,{})]})};var Te=n(76452);const De="DepartmentSetting_ClassSetting__SFvg+",Ie="DepartmentSetting_department_container__9b6Ch",Me="DepartmentSetting_department_setting_btn__kRHq+",we="Complaints_complaints__Qjrkp",Fe="ComplaintList_complaintList__d3hVT",Ae="ComplaintList_listHead__2TxDF",Pe="ComplaintList_tabss__cAlsI",Ee="ComplaintList_tabb__er9O0",qe="ComplaintList_tabActive__Ps2UJ",Re={list:"UnsolvedList_list__TPD8N",item:"UnsolvedList_item__-Bzo4",datetime:"UnsolvedList_datetime__gdY1X"},Le={addDisplay:"ComplaintModal_addDisplay__SatdG",title:"ComplaintModal_title__T-jIF",text:"ComplaintModal_text__EOwGn",content:"ComplaintModal_content__re7-Q",footer:"ComplaintModal_footer__zF4tl",btn:"ComplaintModal_btn__2VJpQ"};var Oe=n(5574);const Ye=function(e){var t,n,i,l,s,o,d,r,c,m,u,v;let{addDisplay:_,setAddDisplay:h,complaintId:p,onRefetch:x}=e;const[f,j]=(0,a.useState)(!1),{departmentComplaintDetail:y,departmentComplaintDetailRefetch:S}=(0,b.z1)({data:{cid:p},skip:!p}),[N]=(0,b.Kd)();return(0,a.useEffect)((()=>{p&&S()}),[p,S]),(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(Oe.Z,{open:_,onClose:()=>{h(!1)},children:[(0,g.jsxs)("div",{className:Le.addDisplay,children:[(0,g.jsxs)("div",{className:Le.title,children:[(0,g.jsx)("img",{src:"/images/complaint-white.svg",alt:""}),(0,g.jsxs)("div",{className:Le.text,children:[(0,g.jsx)("div",{className:Le.insName,children:(0,g.jsx)("h6",{children:"Open"===(null===y||void 0===y||null===(t=y.complaint)||void 0===t?void 0:t.complaintType)?"".concat(null===y||void 0===y||null===(n=y.complaint)||void 0===n||null===(i=n.student)||void 0===i?void 0:i.studentFirstName,"\n        ").concat(null!==y&&void 0!==y&&null!==(l=y.complaint)&&void 0!==l&&null!==(s=l.student)&&void 0!==s&&s.studentMiddleName?null===y||void 0===y||null===(o=y.complaint)||void 0===o||null===(d=o.student)||void 0===d?void 0:d.studentMiddleName:" ","\n        ").concat(null===y||void 0===y||null===(r=y.complaint)||void 0===r||null===(c=r.student)||void 0===c?void 0:c.studentLastName):"Anonymous"})}),(0,g.jsx)("div",{className:Le.insUserName,children:(0,g.jsx)("p",{children:le()(null===y||void 0===y||null===(m=y.complaint)||void 0===m?void 0:m.createdAt).format("DD-MM-YYYY")})})]})]}),(0,g.jsx)("div",{className:Le.content,children:null===y||void 0===y||null===(u=y.complaint)||void 0===u?void 0:u.complaintContent}),"Solved"!==(null===y||void 0===y||null===(v=y.complaint)||void 0===v?void 0:v.complaintStatus)?(0,g.jsx)("div",{className:Le.footer,children:(0,g.jsx)("div",{className:Le.btn,onClick:()=>{var e;"Solved"===(null===y||void 0===y||null===(e=y.complaint)||void 0===e?void 0:e.complaintStatus)||(j((e=>!e)),N({cid:p,complaintSolve:{status:"Solved"}}).then((()=>{x(),j((e=>!e))})).catch({}))},children:"Solved"})}):""]}),f&&(0,g.jsx)(K.Z,{})]})})};function Ge(e){var t,n,i,l;let{complaint:s,onRefetch:o}=e;const[d,r]=(0,a.useState)(!1);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:Re.item,onClick:()=>r((e=>!e)),children:[(0,g.jsx)("img",{src:"/images/complainIcon.svg",alt:""}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h6",{children:"Open"===(null===s||void 0===s?void 0:s.complaintType)?"".concat(null===s||void 0===s||null===(t=s.student)||void 0===t?void 0:t.studentFirstName,"\n        ").concat(null!==s&&void 0!==s&&null!==(n=s.student)&&void 0!==n&&n.studentMiddleName?null===s||void 0===s||null===(i=s.student)||void 0===i?void 0:i.studentMiddleName:" ","\n        ").concat(null===s||void 0===s||null===(l=s.student)||void 0===l?void 0:l.studentLastName):"Anonymous"}),(0,g.jsx)("div",{className:Re.datetime,children:(0,g.jsx)("p",{children:le()(null===s||void 0===s?void 0:s.createdAt).format("DD-MM-YYYY")})})]})]}),d&&(0,g.jsx)(Ye,{setAddDisplay:r,addDisplay:d,complaintId:null===s||void 0===s?void 0:s._id,onRefetch:o})]})}const He=function(e){var t;let{did:n}=e;const{departmentAllComplaint:i,departmentAllComplaintRefetch:l}=(0,b.kf)({data:{did:n,status:"Unsolved",page:1,limit:50},skip:!n});return(0,a.useEffect)((()=>{n&&l()}),[n,l]),(0,g.jsx)("div",{className:Re.list,children:null===i||void 0===i||null===(t=i.complaints)||void 0===t?void 0:t.map((e=>(0,g.jsx)(Ge,{complaint:e,onRefetch:l},null===e||void 0===e?void 0:e._id)))})},Ue={list:"SolvedList_list__0dX9H",item:"SolvedList_item__QplZh",datetime:"SolvedList_datetime__7C88x"};function Be(e){var t,n,i,l;let{complaint:s}=e;const[o,d]=(0,a.useState)(!1);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:Ue.item,onClick:()=>d((e=>!e)),children:[(0,g.jsx)("img",{src:"/images/complainIcon.svg",alt:""}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h6",{children:"Open"===(null===s||void 0===s?void 0:s.complaintType)?"".concat(null===s||void 0===s||null===(t=s.student)||void 0===t?void 0:t.studentFirstName,"\n        ").concat(null!==s&&void 0!==s&&null!==(n=s.student)&&void 0!==n&&n.studentMiddleName?null===s||void 0===s||null===(i=s.student)||void 0===i?void 0:i.studentMiddleName:" ","\n        ").concat(null===s||void 0===s||null===(l=s.student)||void 0===l?void 0:l.studentLastName):"Anonymous"}),(0,g.jsx)("div",{className:Ue.datetime,children:(0,g.jsx)("p",{children:le()(null===s||void 0===s?void 0:s.createdAt).format("DD-MM-YYYY")})})]})]}),o&&(0,g.jsx)(Ye,{setAddDisplay:d,addDisplay:o,complaintId:null===s||void 0===s?void 0:s._id})]})}const $e=function(e){var t;let{did:n}=e;const{departmentAllComplaint:i,departmentAllComplaintRefetch:l}=(0,b.kf)({data:{did:n,status:"Solved",page:1,limit:50},skip:!n});return(0,a.useEffect)((()=>{n&&l()}),[n,l]),(0,g.jsx)("div",{className:Ue.list,children:null===i||void 0===i||null===(t=i.complaints)||void 0===t?void 0:t.map((e=>(0,g.jsx)(Be,{complaint:e},null===e||void 0===e?void 0:e._id)))})};const Ve=function(e){let{did:t}=e;const[n,i]=(0,a.useState)(!1),{t:l}=(0,f.$G)();return(0,g.jsxs)("div",{className:Fe,children:[(0,g.jsxs)("div",{className:Pe,children:[(0,g.jsx)("div",{className:n?Ee:"".concat(Ee," ").concat(qe),onClick:()=>i(!1),children:l("unsolved")}),(0,g.jsx)("div",{className:n?"".concat(Ee," ").concat(qe):Ee,onClick:()=>i(!0),children:l("Solved")})]}),(0,g.jsx)("div",{className:Ae,children:n?(0,g.jsx)($e,{did:t}):(0,g.jsx)(He,{did:t})})]})};const ze=function(e){let{did:t}=e;return(0,g.jsx)("div",{className:we,children:(0,g.jsx)(Ve,{did:t})})},Ke=e=>{let{did:t}=e;const{t:n}=(0,f.$G)();return(0,g.jsxs)("div",{className:De,children:[(0,g.jsx)("h6",{children:n("complaints")}),(0,g.jsx)(B.Z,{customStyle:{width:"100%"}}),(0,g.jsx)(ze,{did:t})]})},Je=e=>{let{did:t,ia:n,ea:i}=e;const{t:l}=(0,f.$G)(),[s,o]=(0,a.useState)(""),[d,r]=(0,a.useState)({internal_assesment:"",external_assesment:""}),[c]=(0,b.ss)();(0,a.useEffect)((()=>{(i||n)&&r({internal_assesment:null!==n&&void 0!==n?n:"",external_assesment:null!==i&&void 0!==i?i:""})}),[i,n]);const m=e=>{r((t=>({...t,[e.target.name]:+e.target.value})))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:Ie,children:[(0,g.jsx)("h6",{children:l("setting")}),(0,g.jsx)(B.Z,{customStyle:{width:"100%"}}),(0,g.jsx)(H.Z,{labelText:l("internal_assesment"),placeholder:l("internal_assesment_placeholder"),name:"internal_assesment",value:d.internal_assesment,type:"number",onChange:m}),(0,g.jsx)(H.Z,{labelText:l("external_assesment"),placeholder:l("external_assesment_placeholder"),name:"external_assesment",value:d.external_assesment,type:"number",onChange:m}),(0,g.jsx)("button",{className:Me,onClick:()=>{t&&(o((e=>!e)),c({did:t,copoSetting:d}).then((()=>{o((e=>!e))})).catch({}))},children:l("update")})]}),s&&(0,g.jsx)(K.Z,{})]})};var Qe=n(37283),We=n(40444),Xe=n(26486),et=n(44226),tt=n(84959);const nt=e=>{var t,n;let{did:i}=e;const{t:l}=(0,f.$G)(),[s,o]=(0,a.useState)(!1),[d,r]=(0,a.useState)(!1),[c,m]=(0,a.useState)(!0),[u]=(0,We.HR)(),[v]=(0,We.yP)(),[_]=(0,tt.FL)(),{getAllCopoAttainment:h,getAllCopoAttainmentRefetch:p}=(0,We.LV)({data:{smid:i,flow:"VIEWING_COPO",filterBy:"DEPARTMENT"},skip:!i});(0,a.useEffect)((()=>{i&&p()}),[i,p]),(0,a.useEffect)((()=>{var e,t;(null!==h&&void 0!==h&&null!==(e=h.attainment)&&void 0!==e&&e.length||0===(null===h||void 0===h||null===(t=h.attainment)||void 0===t?void 0:t.length))&&m(!1)}),[null===h||void 0===h?void 0:h.attainment]);const x=()=>{o((e=>!e))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:Y.Z.exam_container,children:[(0,g.jsxs)("div",{className:Y.Z.with_search,children:[(0,g.jsx)("h6",{children:l("copo_attainment_department")}),(0,g.jsxs)("section",{className:Y.Z.search_container,style:{gap:"1rem"},children:[(0,g.jsx)(et.Z,{label:"co_excel",onExcelFileUpload:e=>{var t;if((null===(t=e.target.files)||void 0===t?void 0:t.length)>0&&i){r(!0);const t=new FormData;t.append("file",e.target.files[0]),_({fileUpload:t}).then((e=>{var t,n;null!==(t=e.data)&&void 0!==t&&t.imageKey?v({did:i,excelFile:{excel_file:null===(n=e.data)||void 0===n?void 0:n.imageKey}}).then((()=>{r(!1)})).catch({}):r(!1)})).catch({})}},dynamicKey:"co_excel"}),(0,g.jsx)(et.Z,{label:"po_excel",onExcelFileUpload:e=>{var t;if((null===(t=e.target.files)||void 0===t?void 0:t.length)>0&&i){r(!0);const t=new FormData;t.append("file",e.target.files[0]),_({fileUpload:t}).then((e=>{var t,n;null!==(t=e.data)&&void 0!==t&&t.imageKey?u({did:i,excelFile:{excel_file:null===(n=e.data)||void 0===n?void 0:n.imageKey}}).then((()=>{r(!1)})).catch({}):r(!1)})).catch({})}},dynamicKey:"po_excel"})]})]}),(0,g.jsx)(B.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,g.jsx)("div",{className:Y.Z.add_new_container,children:(0,g.jsx)("p",{className:Y.Z.add_new_exam,onClick:x,children:l("create_new_po")})}),null===h||void 0===h||null===(t=h.attainment)||void 0===t?void 0:t.map((e=>(0,g.jsx)(Xe.Z,{attainment:e,onRefetch:p},null===e||void 0===e?void 0:e._id))),!c&&!(null!==h&&void 0!==h&&null!==(n=h.attainment)&&void 0!==n&&n.length)&&(0,g.jsx)(z.Z,{customStyleContainer:{marginTop:"9rem"},title:"No po found",subtitle:"Please make sure you have created po."}),s&&(0,g.jsx)(Qe.Z,{onClose:x,smid:i,onRefetch:p,poCount:(null===h||void 0===h?void 0:h.attainment_po_count)+1,isView:"DEPARTMENT"}),c&&(0,g.jsx)(q.Z,{})]}),d&&(0,g.jsx)(K.Z,{})]})};var at=n(56959),it=n(91427),lt=n(63687),st=n(21348),ot=n(90904),dt=n(2651),rt=n(97892),ct=n.n(rt),mt=n(98684);const ut="DepartmentManager_dm_card__6E9Nw",vt="DepartmentManager_dm_card_inner__MbWBz",_t="DepartmentManager_menu_icon__KbXP6",ht="DepartmentManager_dm_image__5YPa3";var pt=n(89064);const xt=e=>{let{onClose:t,hid:n,onRefetch:i}=e;const{t:l}=(0,f.$G)(),[s,o]=(0,a.useState)(!1),[d]=(0,C.gJ)();return(0,g.jsx)(pt.Z,{onClose:t,disabled:s,children:(0,g.jsx)("h6",{onClick:()=>{n&&(o((e=>!e)),d({hid:n}).then((()=>{i()})).catch({}))},children:l("delete")})})},ft=e=>{var t;let{holiday:n,onRefetch:i}=e;const{t:l}=(0,f.$G)(),[s,o]=(0,a.useState)("");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:ut,children:[(0,g.jsx)("img",{src:"".concat(mt.Fk,"/holiday.svg"),alt:"holiday icon",className:ht}),(0,g.jsxs)("div",{className:vt,children:[(0,g.jsxs)("h6",{children:[" ",l("dates"),": ",null===n||void 0===n?void 0:n.dDate.map(((e,t)=>{var a;return(null===n||void 0===n||null===(a=n.dDate)||void 0===a?void 0:a.length)===t+1?(0,g.jsxs)("span",{children:[null===e||void 0===e?void 0:e.slice(0,2)," "]},t):(0,g.jsxs)("span",{children:[null===e||void 0===e?void 0:e.slice(0,2),", "]},t)})),null!==n&&void 0!==n&&n.dDate?(0,g.jsx)("span",{children:ct()(null===n||void 0===n?void 0:n.dDate[-1]).format("MMM YYYY")}):null]}),(0,g.jsxs)("p",{children:[" ",null!==(t=null===n||void 0===n?void 0:n.dHolidayReason)&&void 0!==t?t:""]})]}),(0,g.jsx)("img",{src:"".concat(mt.J7,"/menu.svg"),alt:"menu icon",onClick:()=>o(!0),className:_t,title:"Menu"})]}),s&&(0,g.jsx)(xt,{hid:null===n||void 0===n?void 0:n._id,onRefetch:i,onClose:()=>o("")})]})};var gt=n(48293),jt=n(16925);const bt=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],yt=["January","February","March","April","May","June","July","August","September","October","November","December"],St=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yt;const n=new Date,i="".concat(n.getDate(),"-").concat(n.getMonth()+1,"-").concat(n.getFullYear()),l=[1,2,3,4,5,6,0],[s,o]=(0,a.useState)(n),d=new Date(s.getFullYear(),s.getMonth()+1,0),r=new Date(s.getFullYear(),s.getMonth(),0),c=d.getDate(),m=new Date(s.getFullYear(),s.getMonth(),1).getDay(),u=l.indexOf(m)+1;let v=r.getDate()-l.indexOf(m)+1,_=1,h=1;const p={};for(let a=1;a<7;a++)for(let e=1;e<8;e++)p[a]||(p[a]=[]),1===a?e<u?(p[a]=[...p[a],{classes:"in-prev-month",date:"".concat(v,"-").concat(0===s.getMonth()?12:s.getMonth(),"-").concat(0===s.getMonth()?s.getFullYear()-1:s.getFullYear()),value:v}],v++):(p[a]=[...p[a],{classes:"",date:"".concat(_,"-").concat(s.getMonth()+1,"-").concat(s.getFullYear()),value:_}],_++):a>1&&_<c+1?(p[a]=[...p[a],{classes:"",date:"".concat(_,"-").concat(s.getMonth()+1,"-").concat(s.getFullYear()),value:_}],_++):(p[a]=[...p[a],{classes:"in-next-month",date:"".concat(h,"-").concat(s.getMonth()+2===13?1:s.getMonth()+2,"-").concat(s.getMonth()+2===13?s.getFullYear()+1:s.getFullYear()),value:h}],h++);return{daysShort:e,monthNames:t,todayFormatted:i,calendarRows:p,selectedDate:s,getPrevMonth:()=>{o((e=>new Date(e.getFullYear(),e.getMonth()-1,1)))},getNextMonth:()=>{o((e=>new Date(e.getFullYear(),e.getMonth()+1,1)))}}},Nt=e=>{let{removeDateArray:t,addDateArray:n,dateArr:i,allHoliday:l}=e;const[s,o]=(0,a.useState)([...l]),{calendarRows:d,selectedDate:r,todayFormatted:c,daysShort:m,monthNames:u,getNextMonth:v,getPrevMonth:_}=St();(0,a.useEffect)((()=>{o([...s,...l])}),[l]);const h=e=>{if(i.length>0&&i.includes(e)){const n=i.filter((function(t){return t!==e}));t(n),o(n)}else n(e),o((t=>[...t,e]))};return console.info(l),(0,g.jsxs)(a.Fragment,{children:[(0,g.jsxs)("div",{className:"calenderheader",children:[(0,g.jsx)("div",{className:"monthbtn",onClick:_,children:(0,g.jsx)("img",{alt:"not found",src:"/images/members/arrow-left.svg"})}),(0,g.jsxs)("div",{className:"yearmonth",children:[(0,g.jsx)("h6",{children:"".concat(u[r.getMonth()])}),(0,g.jsx)("p",{children:"".concat(r.getFullYear())})]}),(0,g.jsx)("div",{className:"monthbtn",onClick:v,children:(0,g.jsx)("img",{alt:"not found",src:"/images/members/arrow-right.svg"})})]}),(0,g.jsxs)("table",{className:"table",children:[(0,g.jsx)("thead",{children:(0,g.jsx)("tr",{children:m.map((e=>(0,g.jsx)("th",{className:"day",children:e},e)))})}),(0,g.jsx)("tbody",{children:Object.values(d).map((e=>(0,g.jsx)("tr",{children:e.map((e=>e.date===c?null!==l&&void 0!==l&&l.includes(String(c))?(0,g.jsx)("td",{className:"".concat(e.classes," date today"),onClick:()=>h(e.date),children:(0,g.jsxs)("div",{className:"highlight blue",children:[" ",e.value]})},e.date):(0,g.jsx)("td",{className:"".concat(e.classes," date today"),onClick:()=>h(e.date),children:(0,g.jsxs)("div",{className:"highlight",children:[" ",e.value]})},e.date):"in-prev-month"===e.classes||"in-next-month"===e.classes?(0,g.jsx)("td",{className:"".concat(e.classes," date"),children:(0,g.jsxs)("div",{className:"highlight",children:[" ",e.value]})},e.date):i.includes(e.date)?(0,g.jsx)("td",{className:"".concat(e.classes," date"),onClick:()=>h(e.date),children:(0,g.jsxs)("div",{className:"highlight clicked",children:[" ",e.value]})},e.date):l.length>0&&l.includes(e.date)?(0,g.jsx)("td",{className:"".concat(e.classes," date"),children:(0,g.jsxs)("div",{className:"highlight blue",children:[" ",e.value]})},e.date):(0,g.jsx)("td",{className:"".concat(e.classes," date"),onClick:()=>h(e.date),children:(0,g.jsxs)("div",{className:"highlight",children:[" ",e.value]})},e.date)))},e[0].date)))})]})]})},Zt=e=>{let{onClose:t,allHoliday:n}=e;return(0,g.jsx)(gt.Z,{onClose:t,children:(0,g.jsx)("div",{className:jt.Z.modal_container,style:{minWidth:"30rem",padding:"1rem"},children:(0,g.jsx)(Nt,{removeDateArray:()=>{},dateArr:[],addDateArray:()=>{},allHoliday:n})})})},Ct=e=>{let{onClose:t,removeDateArray:n,arr:a,addDateArray:i,allHoliday:l,setStep:s}=e;const{t:o}=(0,f.$G)();return(0,g.jsx)(gt.Z,{onClose:t,children:(0,g.jsxs)("div",{className:jt.Z.modal_container,style:{minWidth:"30rem",paddingInline:"1rem"},children:[(0,g.jsx)(st.Z,{children:(0,g.jsxs)("div",{className:jt.Z.modal_container_outer_header,children:[(0,g.jsx)("h6",{children:o("select_holidays_date")}),(0,g.jsx)(Ce.Z,{label:"next",customStyle:{paddingBlock:"0.1rem",margin:"0"},onAction:()=>s(1)})]})}),(0,g.jsx)(ot.Z,{}),(0,g.jsx)(Nt,{removeDateArray:n,dateArr:a,addDateArray:i,allHoliday:l})]})})};var kt=n(11468),Tt=n(55336);const Dt=e=>{let{did:t,onClose:n,allHoliday:i,onRefetch:l}=e;const{t:s}=(0,f.$G)(),[o,d]=(0,a.useState)(0),[r,c]=(0,a.useState)([]),[m,u]=(0,a.useState)([]),[v,_]=(0,a.useState)(""),[h,p]=(0,a.useState)(!1),[x]=(0,C.jx)();return(0,g.jsx)(g.Fragment,{children:0===o?(0,g.jsx)(Ct,{onClose:n,arr:r,removeDateArray:e=>{u(e),c(e)},addDateArray:e=>{const t=[...m];null===t||void 0===t||t.push(e),u(t),c((t=>[...t,e]))},allHoliday:i,setStep:d}):1===o?(0,g.jsx)(gt.Z,{onClose:n,children:(0,g.jsxs)("div",{className:jt.Z.modal_container,children:[(0,g.jsx)(st.Z,{children:(0,g.jsxs)("div",{className:jt.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:jt.Z.modal_container_header,children:(0,g.jsx)("h6",{children:s("add_leave_reason")})}),(0,g.jsx)("img",{src:"".concat(mt.J7,"/close.svg"),alt:"close icon",onClick:()=>d(0)})]})}),(0,g.jsx)(ot.Z,{}),(0,g.jsxs)(st.Z,{customStyle:{paddingTop:"0"},children:[(0,g.jsx)(kt.Z,{label:s("reason"),placeholder:s("reason"),name:"reason",value:v,type:"text",onChange:e=>_(e.target.value)}),(0,g.jsx)(Ce.Z,{label:"create",onAction:()=>{if(t&&v){p(!0);const e=(e=>{const t=[];for(let n of e){const e=null===n||void 0===n?void 0:n.split("-"),a=e[0]>9?e[0]:"0".concat(e[0]),i=e[1]>9?e[1]:"0".concat(e[1]),l="".concat(a,"/").concat(i,"/").concat(e[2]);t.push(l)}return t})(m);x({did:t,holiday:{reason:v,dates:e}}).then((()=>{l(),p(!1),n("")})).catch((()=>{p(!1)})),c([])}}})]}),h&&(0,g.jsx)(Tt.Z,{})]})}):null})};var It=n(82815);const Mt=e=>{var t,n,i;let{did:l}=e;const{t:s}=(0,f.$G)(),[o,d]=(0,a.useState)(""),[r,c]=(0,a.useState)(1),[m,u]=(0,a.useState)(!0),[v,_]=(0,he.YD)(),[h,p]=(0,a.useState)([]),[x,j]=(0,a.useState)(!1),[b]=(0,tt.FL)(),[y]=(0,It.yS)(),{departmentAllHoliday:S,departmentAllHolidayLoading:N,departmentAllHolidayRefetch:Z}=(0,C.nt)({data:{did:l,page:r,limit:10},skip:!l});(0,a.useEffect)((()=>{_&&m&&c((e=>e+1))}),[_,m]),(0,a.useEffect)((()=>{var e;if(null!==S&&void 0!==S&&null!==(e=S.list)&&void 0!==e&&e.length){var t,n;const e=[];null===S||void 0===S||null===(t=S.list)||void 0===t||t.map((t=>{var n;return null===t||void 0===t||null===(n=t.dDate)||void 0===n?void 0:n.map((t=>{var n,a;const i=null===t||void 0===t?void 0:t.split("/"),l=i[0]>9?i[0]:"".concat(null===(n=i[0])||void 0===n?void 0:n.slice(1,2)),s=i[1]>9?i[1]:"".concat(null===(a=i[1])||void 0===a?void 0:a.slice(1,2));return e.push("".concat(l,"-").concat(s,"-").concat(i[2])),""}))})),p(e);let a=(0,it.f)(null===S||void 0===S||null===(n=S.list)||void 0===n?void 0:n.length);u((()=>a))}}),[null===S||void 0===S||null===(t=S.list)||void 0===t?void 0:t.length]);const T=()=>{d("")},D=()=>{c((e=>1)),Z()};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(lt.Z,{children:[(0,g.jsx)(st.Z,{children:(0,g.jsxs)("div",{className:at.Z.fm_header_container,children:[(0,g.jsx)("h6",{children:s("holiday_list")}),(0,g.jsxs)("div",{className:at.Z.fm_search,children:[(0,g.jsx)("img",{src:"".concat(mt.Fk,"/calendar.svg"),alt:"calendar icon",onClick:()=>d(1)}),(0,g.jsx)(Ce.Z,{label:"add_new_holiday",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:()=>d(2)}),(0,g.jsx)(et.Z,{onExcelFileUpload:e=>{var t;if(null!==(t=e.target.files)&&void 0!==t&&t.length){j((e=>!e));const t=new FormData;t.append("file",e.target.files[0]),b({fileUpload:t}).then((e=>{var t,n;null!==(t=e.data)&&void 0!==t&&t.imageKey&&l?y({did:l,excel_file:null===(n=e.data)||void 0===n?void 0:n.imageKey}).then((()=>{j((e=>!e))})).catch({}):j((e=>!e))})).catch({})}},label:s("holiday_excel")})]})]})}),(0,g.jsx)(ot.Z,{}),(0,g.jsxs)(st.Z,{customStyle:{paddingTop:"0.2rem"},children:[null===S||void 0===S||null===(n=S.list)||void 0===n?void 0:n.map(((e,t)=>{var n;return(null===S||void 0===S||null===(n=S.list)||void 0===n?void 0:n.length)===t+1?(0,g.jsx)("div",{ref:v,children:(0,g.jsx)(ft,{holiday:e,onRefetch:D})},null===e||void 0===e?void 0:e._id):(0,g.jsx)(ft,{holiday:e,onRefetch:D},null===e||void 0===e?void 0:e._id)})),N?(0,g.jsx)(k.Z,{}):0===(null===S||void 0===S||null===(i=S.list)||void 0===i?void 0:i.length)&&(0,g.jsx)(dt.Z,{title:"No holiday created."})]})]}),1===o?(0,g.jsx)(Zt,{onClose:T,allHoliday:h}):2===o?(0,g.jsx)(Dt,{onClose:T,allHoliday:h,did:l,onRefetch:D}):null,x&&(0,g.jsx)(Tt.Z,{})]})};var wt=n(70179),Ft=n(8905),At=n(19321),Pt=n(64046),Et=n(69718),qt=n(8754),Rt=n(75045),Lt=n(20292),Ot=n(95078),Yt=n(98148);const Gt=e=>{let{departmentId:t,stid:n}=e;const{t:i}=(0,f.$G)(),s=(0,l.TH)(),o=(0,l.s0)(),d=(0,l.UO)(),[r]=(0,R.lr)(),[c,m]=(0,a.useState)(!1),[u,v]=(0,a.useState)(!1),_=()=>{m((e=>!e))},h=()=>{v((e=>!e))},p=()=>{o("/q/".concat(d.username,"/member/department/").concat(d.deptname,"?a=store&n=request"),{state:s.state})};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(lt.Z,{children:[(0,g.jsx)(st.Z,{children:(0,g.jsxs)("div",{className:at.Z.fm_header_container,children:[(0,g.jsxs)("div",{className:at.Z.fm_header_start_container,children:[(0,g.jsx)("img",{alt:"search icon",src:"".concat(mt.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:()=>{o("/q/".concat(d.username,"/member/department/").concat(d.deptname),{state:s.state})}}),(0,g.jsx)("h6",{children:i("store")})]}),(0,g.jsxs)("div",{className:at.Z.fm_header_start_container,children:[(0,g.jsx)(Ce.Z,{label:"request_stock",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:_}),(0,g.jsx)(Ce.Z,{label:"return_stock",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:h})]})]})}),(0,g.jsx)(ot.Z,{}),(0,g.jsx)(wt.Z,{inititalUrl:"/q/".concat(d.username,"/member/department/").concat(d.deptname,"?a=store"),parentState:s.state}),(0,g.jsx)(st.Z,{children:"request"===r.get("n")?(0,g.jsx)(Ft.Z,{flow:"Department",mid:t}):"issue"===r.get("n")?(0,g.jsx)(At.Z,{flow:"Department",mid:t}):"stocktake"===r.get("n")?(0,g.jsx)(Pt.Z,{flow:"Department",mid:t}):"consumption"===r.get("n")?(0,g.jsx)(Et.Z,{flow:"Department",mid:t}):"return"===r.get("n")?(0,g.jsx)(qt.Z,{flow:"Department",mid:t}):"maintenance"===r.get("n")?(0,g.jsx)(Rt.Z,{flow:"Department",mid:t}):(0,g.jsx)(Lt.Z,{flow:"Department",mid:t})})]}),c&&(0,g.jsx)(Ot.Z,{onNavigate:p,onClose:_,mid:t,stid:n,flow:"Department"}),u&&(0,g.jsx)(Yt.Z,{onNavigate:p,onClose:h,mid:t,stid:n,flow:"Department"})]})};const Ht=function(e){var t,n,i,r,c,m,u,v,_,h,p,x,f,j,y,S,N,Z,C,k,T,D,I,w,F,A,P,E,q,R,Y,G,H,U,B,$,V,z,K,J,Q,W,X,ee,te;let{onClickValue:ne,carryParentState:ae}=e;const ie=(0,l.TH)(),{departmentProfile:le,departmentProfileRefetch:se}=(0,b.t2)({did:null===ne||void 0===ne?void 0:ne._id,skip:!(null!==ne&&void 0!==ne&&ne._id)});return a.useEffect((()=>{null!==ne&&void 0!==ne&&ne._id&&se()}),[null===ne||void 0===ne?void 0:ne._id,se]),(0,g.jsxs)("div",{className:s,children:[!(null!==ie&&void 0!==ie&&ie.search)&&(0,g.jsx)(M,{departmentProfile:null===le||void 0===le?void 0:le.department,carryParentState:ae,instituteId:null===le||void 0===le||null===(t=le.department)||void 0===t||null===(n=t.institute)||void 0===n?void 0:n._id,did:null===ne||void 0===ne?void 0:ne._id}),(null===ie||void 0===ie?void 0:ie.search)&&(0,g.jsxs)(g.Fragment,{children:["staff"===(null===ie||void 0===ie||null===(i=ie.search)||void 0===i?void 0:i.substring(3))&&(0,g.jsx)(L,{did:null===le||void 0===le||null===(r=le.department)||void 0===r?void 0:r._id}),"exam"===(null===ie||void 0===ie||null===(c=ie.search)||void 0===c?void 0:c.substring(3,7))&&(0,g.jsx)(d.Z,{did:null===le||void 0===le||null===(m=le.department)||void 0===m?void 0:m._id,bid:null===le||void 0===le||null===(u=le.department)||void 0===u||null===(v=u.userBatch)||void 0===v?void 0:v._id,carryParentState:ae,instituteId:null===le||void 0===le||null===(_=le.department)||void 0===_||null===(h=_.institute)||void 0===h?void 0:h._id}),"fees"===(null===ie||void 0===ie||null===(p=ie.search)||void 0===p?void 0:p.substring(3))&&(0,g.jsx)(O.Z,{did:null===le||void 0===le||null===(x=le.department)||void 0===x?void 0:x._id,bid:null===le||void 0===le||null===(f=le.department)||void 0===f||null===(j=f.userBatch)||void 0===j?void 0:j._id}),"holiday"===(null===ie||void 0===ie||null===(y=ie.search)||void 0===y?void 0:y.substring(3))&&(0,g.jsx)(Mt,{did:null===ne||void 0===ne?void 0:ne._id}),"complaint"===(null===ie||void 0===ie||null===(S=ie.search)||void 0===S?void 0:S.substring(3))&&(0,g.jsx)(Ke,{did:null===le||void 0===le||null===(N=le.department)||void 0===N?void 0:N._id}),"setting"===(null===ie||void 0===ie||null===(Z=ie.search)||void 0===Z?void 0:Z.substring(3))&&(0,g.jsx)(Je,{did:null===le||void 0===le||null===(C=le.department)||void 0===C?void 0:C._id,ea:null===le||void 0===le||null===(k=le.department)||void 0===k?void 0:k.external_assesment,ia:null===le||void 0===le||null===(T=le.department)||void 0===T?void 0:T.internal_assesment}),"checklist"===(null===ie||void 0===ie||null===(D=ie.search)||void 0===D?void 0:D.substring(3))&&(0,g.jsx)(me,{did:null===le||void 0===le||null===(I=le.department)||void 0===I?void 0:I._id,bid:null===le||void 0===le||null===(w=le.department)||void 0===w||null===(F=w.userBatch)||void 0===F?void 0:F._id}),"backlog"===(null===ie||void 0===ie||null===(A=ie.search)||void 0===A?void 0:A.substring(3,10))&&(0,g.jsx)(o.Z,{did:null===le||void 0===le||null===(P=le.department)||void 0===P?void 0:P._id,carryParentState:ae,instituteId:null===le||void 0===le||null===(E=le.department)||void 0===E||null===(q=E.institute)||void 0===q?void 0:q._id,viewAs:"DEPARTMENT_BACKLOG"}),"mentor"===(null===ie||void 0===ie||null===(R=ie.search)||void 0===R?void 0:R.substring(3,9))&&(0,g.jsx)(ke,{did:null===le||void 0===le||null===(Y=le.department)||void 0===Y?void 0:Y._id,instituteId:null===le||void 0===le||null===(G=le.department)||void 0===G||null===(H=G.institute)||void 0===H?void 0:H._id,carryParentState:ae}),("class"===(null===(U=ie.search)||void 0===U?void 0:U.substring(3,8))||"subject"===(null===(B=ie.search)||void 0===B?void 0:B.substring(3,10))||"assignment"===(null===($=ie.search)||void 0===$?void 0:$.substring(3,13)))&&(0,g.jsx)(Te.Z,{carryParentState:ae,viewAs:"DEPARTMENT_HEAD",did:null===le||void 0===le||null===(V=le.department)||void 0===V?void 0:V._id,instituteId:null===le||void 0===le||null===(z=le.department)||void 0===z||null===(K=z.institute)||void 0===K?void 0:K._id}),"co-attainment"===(null===ie||void 0===ie||null===(J=ie.search)||void 0===J?void 0:J.substring(3))&&(0,g.jsx)(nt,{did:null===le||void 0===le||null===(Q=le.department)||void 0===Q?void 0:Q._id}),"store"===(null===ie||void 0===ie||null===(W=ie.search)||void 0===W?void 0:W.substring(3,8))&&(0,g.jsx)(Gt,{departmentId:null===ne||void 0===ne?void 0:ne._id,stid:null===le||void 0===le||null===(X=le.department)||void 0===X||null===(ee=X.institute)||void 0===ee||null===(te=ee.storeDepart)||void 0===te?void 0:te[0]})]})]})};var Ut=n(27448);n(2205),n(5978),n(98167),n(60724);n(87979),n(95048),n(79872),n(91007),n(72156);n(18725),n(72952),n(81622),n(92061);const Bt=()=>{var e,t,n,a,s,o,d,r,c;const m=(0,l.TH)();return(0,g.jsx)(g.Fragment,{children:"site"===(null===m||void 0===m||null===(e=m.search)||void 0===e?void 0:e.substring(3,7))?(0,g.jsx)(Ut.Z,{did:null===m||void 0===m||null===(t=m.state)||void 0===t||null===(n=t.onClickValue)||void 0===n?void 0:n._id}):(0,g.jsx)(i.Z,{index:"1",sid:null!==(a=null===m||void 0===m||null===(s=m.state)||void 0===s?void 0:s.sid)&&void 0!==a?a:"",onClickValue:null!==(o=null===m||void 0===m||null===(d=m.state)||void 0===d?void 0:d.onClickValue)&&void 0!==o?o:"",children:(0,g.jsx)(Ht,{onClickValue:null!==(r=null===m||void 0===m||null===(c=m.state)||void 0===c?void 0:c.onClickValue)&&void 0!==r?r:"",carryParentState:null===m||void 0===m?void 0:m.state})})})}},93339:(e,t,n)=>{n.d(t,{nt:()=>g,jx:()=>f,gJ:()=>j,EI:()=>x,jU:()=>p});var a=n(2030),i=n(94811);const l=e=>e.query({query:e=>{var t;return"/department/tab/manage/".concat(null===e||void 0===e?void 0:e.did,"/query?flow=").concat(null!==(t=null===e||void 0===e?void 0:e.flow)&&void 0!==t?t:"")},providesTags:["Tab_Manage"],serializeQueryArgs:e=>{let{endpointName:t}=e;return t},forceRefetch(e){let{currentArg:t,previousArg:n}=e;return t!==n}}),s=e=>e.mutation({query:e=>({url:"/department/tab/manage/".concat(null===e||void 0===e?void 0:e.did,"/query"),method:i.Q0,body:e.tabManage}),invalidatesTags:["Tab_Manage"]}),o=e=>e.mutation({query:e=>({url:"/attendance/department/".concat(e.did,"/holiday"),method:i.a4,body:e.holiday})}),d=e=>e.query({query:e=>"/attendance/holiday/".concat(null===e||void 0===e?void 0:e.did,"?page=").concat(null===e||void 0===e?void 0:e.page,"&limit=").concat(null===e||void 0===e?void 0:e.limit),serializeQueryArgs:e=>{let{endpointName:t}=e;return t},transformResponse:(e,t,n)=>{var a,i;return null!==n&&void 0!==n&&n.search?{search:!0,list:null===e||void 0===e||null===(a=e.depart)||void 0===a?void 0:a.holiday}:{page:null===n||void 0===n?void 0:n.page,list:null===e||void 0===e||null===(i=e.depart)||void 0===i?void 0:i.holiday}},merge:(e,t)=>{var n;return null!==t&&void 0!==t&&t.search||1===(null===t||void 0===t?void 0:t.page)?t:void(null===e||void 0===e||null===(n=e.list)||void 0===n||n.push(...null===t||void 0===t?void 0:t.list))},forceRefetch(e){let{currentArg:t,previousArg:n}=e;return t!==n}}),r=e=>e.mutation({query:e=>({url:"/attendance/holiday/".concat(e.hid,"/delete"),method:i.yY})}),c=a.z.injectEndpoints({endpoints:e=>({departmentTabManage:l(e),departmentTabController:s(e),departmentCreatedHoliday:o(e),departmentAllHoliday:d(e),departmentDeleteHoliday:r(e)})}),{useDepartmentTabManageQuery:m,useDepartmentTabControllerMutation:u,useDepartmentCreatedHolidayMutation:v,useDepartmentAllHolidayQuery:_,useDepartmentDeleteHolidayMutation:h}=c,p=e=>{const{data:t,refetch:n,isFetching:a}=m(e.data,{skip:e.skip});return{departmentTabManage:t,departmentTabManageRefetch:n,departmentTabManageLoading:a}},x=()=>{const[e]=u();return[e]},f=()=>{const[e]=v();return[e]},g=e=>{const{data:t,refetch:n,isFetching:a}=_(e.data,{skip:e.skip});return{departmentAllHoliday:t,departmentAllHolidayRefetch:n,departmentAllHolidayLoading:a}},j=()=>{const[e]=h();return[e]}},18725:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(72156),i=n(80184);const l=e=>{let{customStyle:t,children:n}=e;return(0,i.jsx)("div",{className:a.Z.imc_main,style:t,children:n})}},5978:(e,t,n)=>{n.d(t,{Z:()=>l});const a="UserMemberTab_um_main_wrapper__NwvJ9";var i=n(80184);const l=e=>{let{children:t}=e;return(0,i.jsx)("div",{className:a,children:t})}},2205:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(72791),i=n(37371),l=n(16871),s=n(98684),o=n(39230),d=n(80184);const r=e=>{let{customStyle:t}=e;const n=(0,l.s0)(),{t:r}=(0,o.$G)();(0,a.useEffect)((()=>{var e;null===(e=document.getElementById("scrollView"))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),[]);return(0,d.jsx)("div",{className:i.Z.goback_container,id:"scrollView",style:t,children:(0,d.jsxs)("div",{className:i.Z.goback_container_text,onClick:()=>{n(-1)},children:[(0,d.jsx)("img",{src:"".concat(s.Fk,"/go-back.svg"),alt:"go back icon"}),(0,d.jsx)("h6",{className:i.Z.goback_container_text_go,children:r("go_back")})]})})}},11468:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(39230),i=n(52245),l=n(80184);const s=e=>{var t;return e?null===e||void 0===e||null===(t=e.split("\n"))||void 0===t?void 0:t.length:2},o=e=>{let{label:t,name:n,type:o,value:d,onChange:r,placeholder:c,errorShow:m,disabled:u,customFormInputContainer:v,customFormInputLabel:_}=e;const{t:h}=(0,a.$G)();return(0,l.jsxs)("div",{className:i.Z.form_input_container,style:v,children:[t&&(0,l.jsxs)("label",{className:i.Z.form_input_label,htmlFor:n,style:_,children:[t,m&&(0,l.jsxs)("span",{className:i.Z.form_input_label_error,children:["* ",h("form_require_label")]})]}),(0,l.jsx)("textarea",{className:i.Z.form_textarea_input,type:o,value:d,onChange:r,name:n,placeholder:c,rows:s(d),disabled:u,style:{"--textarea-height":"".concat(20*s(d),"px")}})]})}},89064:(e,t,n)=>{n.d(t,{Z:()=>d});var a=n(55336),i=n(48293);const l="Modal_modal_menu_card__d0zzt";var s=n(90904),o=n(80184);const d=e=>{let{onClose:t,disabled:n,heading:d,customStyle:r,children:c}=e;return(0,o.jsx)(i.Z,{onClose:()=>{if(n)return null;t()},children:(0,o.jsxs)("div",{className:l,style:r,children:[d?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h5",{children:d}),(0,o.jsx)(s.Z,{})]}):null,c,n&&(0,o.jsx)(a.Z,{})]})})}},60724:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(39230),i=n(51416),l=n(43504),s=n(80184);const o=e=>{let{label:t,iconUrl:n,url:o,state:d,isAuthorized:r,isVisible:c,authorizedKey:m,customStyleContainer:u}=e;const{t:v}=(0,a.$G)();return o?(0,s.jsx)(s.Fragment,{children:r?c&&c[m]&&(0,s.jsxs)(l.rU,{className:i.Z.square_tab_card,to:o,state:d,style:u,children:[(0,s.jsx)("img",{src:n,alt:"card icon",className:i.Z.square_tab_card_icon}),(0,s.jsx)("p",{children:v(t)})]}):c&&c[m]&&(0,s.jsxs)("div",{className:i.Z.square_tab_card,style:{opacity:"0.5",...u},children:[(0,s.jsx)("img",{src:n,alt:"card icon",className:i.Z.square_tab_card_icon}),(0,s.jsx)("p",{children:v(t)})]})}):(0,s.jsxs)("div",{className:i.Z.square_tab_card,style:u,children:[(0,s.jsx)("img",{src:n,alt:"card icon"}),(0,s.jsx)("p",{children:v(t)})]})}},98167:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(51416),i=n(80184);const l=e=>{let{dynamicId:t,customStyle:n,children:l}=e;return(0,i.jsx)("div",{className:a.Z.square_tab_wrapper,id:t,style:n,children:l})}},87979:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(59393),i=n(80184);const l=e=>{let{children:t}=e;return(0,i.jsx)("div",{className:a.Z.user_member_tabs_wrapper,children:t})}},46457:(e,t,n)=>{n.d(t,{Z:()=>a});const a={studentMCQ:"Tabs_studentMCQ__dlnOy",mcqToptabs:"Tabs_mcqToptabs__onXx+",mcqTop:"Tabs_mcqTop__1Ylct",mcqTopItem:"Tabs_mcqTopItem__Lk7a7",active:"Tabs_active__aI8pI"}},92061:(e,t,n)=>{n.d(t,{Z:()=>a});const a={navbar:"DeaprtmentSiteInfo_navbar__EpTgJ",bgContainer:"DeaprtmentSiteInfo_bgContainer__adbaK",container:"DeaprtmentSiteInfo_container__hUEpZ",containercontent:"DeaprtmentSiteInfo_containercontent__KltIz",containerhead:"DeaprtmentSiteInfo_containerhead__tOut9",site_tab_container:"DeaprtmentSiteInfo_site_tab_container__oU9Fs",site_tab_container_h6:"DeaprtmentSiteInfo_site_tab_container_h6__bSVDy",site_tab_container_h6_active:"DeaprtmentSiteInfo_site_tab_container_h6_active__pPU3r",container_inner_content:"DeaprtmentSiteInfo_container_inner_content__zqg3P",show_field:"DeaprtmentSiteInfo_show_field__hawFC",leading_person_container:"DeaprtmentSiteInfo_leading_person_container__1n8GR",leading_person_text:"DeaprtmentSiteInfo_leading_person_text__plr+r",update_btn:"DeaprtmentSiteInfo_update_btn__HU3oA",add_contact_person:"DeaprtmentSiteInfo_add_contact_person__9YxFJ",add_contact_person_btn:"DeaprtmentSiteInfo_add_contact_person_btn__XSinB",labelContainer:"DeaprtmentSiteInfo_labelContainer__emWA2",label:"DeaprtmentSiteInfo_label__taqu4",inputBox:"DeaprtmentSiteInfo_inputBox__c5c0t",add_supporting_member:"DeaprtmentSiteInfo_add_supporting_member__6LeP0",add_supporting_member_heading:"DeaprtmentSiteInfo_add_supporting_member_heading__cX+M4",flexItem50:"DeaprtmentSiteInfo_flexItem50__q8XzE",fileinputflexContainer:"DeaprtmentSiteInfo_fileinputflexContainer__oqZPV",input_label:"DeaprtmentSiteInfo_input_label__boQSC",labelspan:"DeaprtmentSiteInfo_labelspan__W1fRT",formselect:"DeaprtmentSiteInfo_formselect__Xe2wR",input_border_active:"DeaprtmentSiteInfo_input_border_active__FdlcS",genderh:"DeaprtmentSiteInfo_genderh__YFaLZ",genderplaceholder:"DeaprtmentSiteInfo_genderplaceholder__nT9Mi",upIcon:"DeaprtmentSiteInfo_upIcon__D4Uqd",downIcon:"DeaprtmentSiteInfo_downIcon__Y6D6U",site_theme:"DeaprtmentSiteInfo_site_theme__tT4K5",site_theme_header:"DeaprtmentSiteInfo_site_theme_header__rsdte",site_theme_container:"DeaprtmentSiteInfo_site_theme_container__d40It",site_theme_icon:"DeaprtmentSiteInfo_site_theme_icon__ucuzj"}},11006:(e,t,n)=>{n.d(t,{Z:()=>a});const a={studentMCQ:"Tabs_studentMCQ__lxivk",mcqToptabs:"Tabs_mcqToptabs__1WXDd",mcqTop:"Tabs_mcqTop__mmZ6T",mcqTopItem:"Tabs_mcqTopItem__7P7cJ",active:"Tabs_active__OMnFH"}},72156:(e,t,n)=>{n.d(t,{Z:()=>a});const a={navbar:"InstituteMember_navbar__5JyaV",main_container:"InstituteMember_main_container__tbpZq",imc_main:"InstituteMember_imc_main__Ull73",isb_container:"InstituteMember_isb_container__iT5zY",isb_img:"InstituteMember_isb_img__mwRdx",isb_sub_container:"InstituteMember_isb_sub_container__mK-24",isc_container:"InstituteMember_isc_container__cteOp",isc_sub_container:"InstituteMember_isc_sub_container__Zw-ap"}},37371:(e,t,n)=>{n.d(t,{Z:()=>a});const a={goback_container:"StaffStudentProfile_goback_container__ujSak",goback_container_text:"StaffStudentProfile_goback_container_text__YumHh",goback_container_text_go:"StaffStudentProfile_goback_container_text_go__KImuv",student_from_container:"StaffStudentProfile_student_from_container__XirC9",staff_header_container:"StaffStudentProfile_staff_header_container__T0tjm",staff_header_text:"StaffStudentProfile_staff_header_text__rqHvT",staff_profile_photo_container:"StaffStudentProfile_staff_profile_photo_container__jkVeQ",staff_profile_photo_container_inner:"StaffStudentProfile_staff_profile_photo_container_inner__RlghK",staff_profile_photo_image:"StaffStudentProfile_staff_profile_photo_image__wGRLi",staff_profile_photo_info:"StaffStudentProfile_staff_profile_photo_info__leE4S",staff_profile_photo_name:"StaffStudentProfile_staff_profile_photo_name__zSMjq",staff_profile_photo_index:"StaffStudentProfile_staff_profile_photo_index__nKKs7",card_hold_container:"StaffStudentProfile_card_hold_container__DqWAD",sataf_container:"StaffStudentProfile_sataf_container__dx01S",sataf_container_count:"StaffStudentProfile_sataf_container_count__EB7hD",sataf_container_count_inner:"StaffStudentProfile_sataf_container_count_inner__Sykk5",satafcci_text:"StaffStudentProfile_satafcci_text__z9fpa",satafcci_amount:"StaffStudentProfile_satafcci_amount__smGsB"}}}]);
//# sourceMappingURL=97874.4b37a209.chunk.js.map