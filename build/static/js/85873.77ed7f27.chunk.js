"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[85873,2602],{2602:(t,o,e)=>{e.r(o),e.d(o,{default:()=>g});var s=e(72791),n=e(95048),i=e(16256),a=e(39480),l=e(9447),d=e(12923),c=e(70092);const r="Menu_profileToolTip__syFxM",u="Menu_profileToolTipPopup__BnSgN",m="Menu_triangle__drjgu",p="Menu_trianglePopup__CdR-r",v="Menu_triangleNotPopup__FxBQr",h="Menu_profilelist__gZkQm";var _=e(39230),f=e(80184);const g=function(t){let{options:o,authorId:e,setDotsClicked:g,pid:P,postType:M,status:x,commentStatus:k,allPosts:I,popup:C}=t;const{t:S}=(0,_.$G)(),N=(0,n.v9)((t=>t.idChange)),[j,w]=s.useState(!0),y=(0,n.I0)(),[L]=(0,d.yx)(),[R]=(0,l.z$)(),[U]=(0,l.MB)(),[A]=(0,l.IG)(),[T]=(0,l.bB)(),{oneInstituteProfileRefetch:O}=(0,a.p0)({data:{id:null===N||void 0===N?void 0:N.id,type:"ID"},skip:j}),b=(0,s.useRef)(null),D=t=>{if("post_unfollow"===t){const t=(t=>{const o=[];for(let e=0;e<(null===I||void 0===I?void 0:I.length);e++)I[e].author!==t&&o.push(I[e]);return o})(e);y(c.p.unfollowPost({posts:t})),g(!1),L({followId:e}).then((()=>{})).catch({})}else"post_visibility"===t?(y(c.p.changeVisibility({pid:P,status:"Anyone"===x?"Private":"Anyone"})),g(!1),R({pid:P,viewAs:i.UJ,postUpdate:{postStatus:"Anyone"===x?"Private":"Anyone"}}).then((()=>{})).catch({})):"post_delete"===t?(y(c.p.deletePost({pid:P})),g(!1),"Question"===M?A({id:null===N||void 0===N?void 0:N.id,viewAs:i.UJ,pid:P}).then((()=>{})).catch({}):U({id:null===N||void 0===N?void 0:N.id,viewAs:i.UJ,pid:P}).then((()=>{w(!1),O()})).catch({})):"turn_off_comment"===t&&(y(c.p.turnOffComment({pid:P,status:"On"===k?"Off":"On"})),g(!1),T({pid:P,commentFeature:{comment_turned:"On"===k?"Off":"On"}}).then((()=>{})).catch({}))},F=t=>{t.target.style.zIndex&&"50"===t.target.style.zIndex||g(!1)};return(0,s.useEffect)((()=>(document.addEventListener("click",F,!0),()=>{document.removeEventListener("click",F,!0)})),[]),(0,f.jsxs)("div",{className:C?"".concat(r," ").concat(u):r,id:"menuTooltip",children:[(0,f.jsx)("div",{className:C?"".concat(m," ").concat(p):"".concat(m," ").concat(v)}),(0,f.jsx)("div",{className:h,children:o.map(((t,o)=>(0,f.jsx)("div",{ref:b,style:{zIndex:"50"},value:t,onClick:()=>D(t),children:S(t)},o)))})]})}},85873:(t,o,e)=>{e.r(o),e.d(o,{default:()=>P});var s=e(72791);const n={postModal:"PostModal_postModal__XCCny",horizontalLine:"PostModal_horizontalLine__tQ5PE",modalLeft:"PostModal_modalLeft__Ifdw1",postImg:"PostModal_postImg__NLU8b",modalIndex:"PostModal_modalIndex__8s2NJ",modalRight:"PostModal_modalRight__XciKb",rightTop:"PostModal_rightTop__T5nxm",imgcontainer2:"PostModal_imgcontainer2__lMEfz",eachpostUserName:"PostModal_eachpostUserName__tgPsv",textSection:"PostModal_textSection__COHVS",postText:"PostModal_postText__u6Yeh",textDes:"PostModal_textDes__GW0EE",postModalTop:"PostModal_postModalTop__SYS7R",imgcontainer:"PostModal_imgcontainer__DvmT7",postModalImg:"PostModal_postModalImg__XPk-q",anndoc:"PostModal_anndoc__6JWWf",commentSection:"PostModal_commentSection__jJ-nQ",postbttn:"PostModal_postbttn__nypsR"};var i=e(5574),a=e(69721),l=e(93006),d=e(94302),c=e(2602),r=e(70092),u=e(9447),m=e(95048),p=e(11968),v=e.n(p),h=e(39230),_=e(16256),f=e(40385),g=e(80184);const P=function(t){let{open:o,hideModal:e,selectOptions:p,post:P,profilePost:M,allPosts:x}=t;const[k,I]=(0,s.useState)(!1),[C,S]=(0,s.useState)(null===P||void 0===P?void 0:P.commentCount),N=(0,s.useRef)(""),[j]=(0,u.es)(),w=(0,m.I0)(),{t:y}=(0,h.$G)(),L=()=>{I(!1)};return(0,g.jsxs)(i.Z,{open:o,onClose:()=>e(!1),children:[(0,g.jsxs)("div",{className:n.postModal,children:[(0,g.jsxs)("div",{className:n.postModalTop,children:[(0,g.jsx)("img",{src:"/images/menu-dots-icon.svg",alt:"",className:n.menu,onClick:()=>I((t=>!t))}),(0,g.jsx)("img",{src:"/images/close-post-icon.svg",alt:"",className:n.menu,onClick:()=>e(!1)})]}),(0,g.jsx)("div",{className:n.horizontalLine}),"1"!==(null===P||void 0===P?void 0:P.imageId)&&1===(null===P||void 0===P?void 0:P.postImage.length)&&(0,g.jsx)("img",{src:"".concat(a.yI,"/").concat(null===P||void 0===P?void 0:P.postImage[0]),className:n.postModalImg,alt:"post img"}),"1"!==(null===P||void 0===P?void 0:P.imageId)&&(null===P||void 0===P?void 0:P.postImage.length)>1&&(0,g.jsx)(v(),{className:"Example",autoPlay:!1,indicators:!0,navButtonsAlwaysVisible:!1,navButtonsAlwaysInvisible:!1,next:(t,o)=>{},prev:(t,o)=>{},onChange:(t,o)=>{},children:null===P||void 0===P?void 0:P.postImage.map(((t,o)=>(0,g.jsxs)("div",{className:n.anndoc,children:[(0,g.jsxs)("p",{className:n.modalIndex,children:[o+1,"/",null===P||void 0===P?void 0:P.postImage.length]}),(0,g.jsx)("img",{className:n.selectedImg,src:"".concat(a.yI,"/").concat(t),alt:"client"})]},o)))}),(0,g.jsx)(f.Z,{likeCount:null===P||void 0===P?void 0:P.likeCount,endUserLike:null===P||void 0===P?void 0:P.endUserLike,endUserSave:null===P||void 0===P?void 0:P.endUserSave,pid:null===P||void 0===P?void 0:P._id,commentCount:C,type:"post",postPopupOpen:!0}),(0,g.jsxs)("div",{class:"commentSection",className:n.commentSection,children:[(0,g.jsx)(l.Z,{id:"standard-basic",placeholder:y("write_comment"),variant:"standard",inputRef:N}),(0,g.jsx)("img",{className:n.postbttn,src:"/images/postbttn.svg",alt:"",onClick:()=>{S((t=>++t)),j({comment:{commentDescription:N.current.value},pid:null===P||void 0===P?void 0:P._id,viewAs:_.UJ}).then((t=>{var o,e,s,n,i,a,l,d,c,u;w(r.p.addCreatedComment({postId:null===P||void 0===P?void 0:P._id,comment:{allChildCommentCount:null===(o=t.data)||void 0===o?void 0:o.comment.allChildCommentCount,allLikeCount:null===(e=t.data)||void 0===e?void 0:e.comment.allLikeCount,author:null===(s=t.data)||void 0===s?void 0:s.comment.author,authorName:null===(n=t.data)||void 0===n?void 0:n.comment.authorName,authorPhotoId:null===(i=t.data)||void 0===i?void 0:i.comment.authorPhotoId,authorProfilePhoto:null===(a=t.data)||void 0===a?void 0:a.comment.authorProfilePhoto,authorUserName:null===(l=t.data)||void 0===l?void 0:l.comment.authorUserName,commentDescription:null===(d=t.data)||void 0===d?void 0:d.comment.commentDescription,createdAt:null===(c=t.data)||void 0===c?void 0:c.comment.createdAt,_id:null===(u=t.data)||void 0===u?void 0:u.comment._id}}))})).catch({}),N.current.value=""}})]})]}),k&&(0,g.jsx)(d.Z,{closeMenu:L,children:(0,g.jsx)(c.default,{setDotsClicked:I,options:p,pid:null===P||void 0===P?void 0:P._id,authorId:null===P||void 0===P?void 0:P.author,profilePost:M,status:null===P||void 0===P?void 0:P.postStatus,closeMenu:L,allPosts:x,popup:!0})})]})}},12923:(t,o,e)=>{e.d(o,{Ec:()=>P,Em:()=>k,JM:()=>p,NS:()=>i,Pg:()=>v,Q_:()=>g,RH:()=>m,Tv:()=>d,U_:()=>f,VN:()=>a,Wj:()=>r,ZS:()=>u,_8:()=>M,d5:()=>c,tB:()=>_,vI:()=>x,yx:()=>l,zO:()=>h});var s=e(91007),n=e(58208);const i=t=>{const{data:o,refetch:e}=(0,n.YD)(t.search,{skip:t.skip});return{instituteAllSearch:o,instituteAllSearchRefetch:e}},a=()=>{const[t]=(0,n.ak)();return[t]},l=()=>{const[t]=(0,n.WL)();return[t]},d=t=>{const{data:o,refetch:e}=(0,n.pH)(t.list,{skip:t.skip});return{instituteFollowList:o,instituteFollowListRefetch:e}},c=t=>{const{data:o,refetch:e}=(0,n.MG)(t.data,{skip:t.skip});return{instituteOwnFollowingList:o,instituteOwnFollowingListRefetch:e}},r=()=>{const[t]=(0,n.Ky)();return[t]},u=t=>{const{data:o,refetch:e}=(0,n.p8)(t.list);return{userFollowList:o,userFollowListRefetch:e}},m=t=>{const{data:o,refetch:e}=(0,n.Wv)(t);return{userFollowingList:o,userFollowingListRefetch:e}},p=t=>{const{data:o,refetch:e}=(0,n.sz)(t.search,{skip:t.skip});return{userAllSearch:o,userAllSearchRefetch:e}},v=()=>{const[t]=(0,n.Mk)();return[t]},h=()=>{const[t]=(0,n.$i)();return[t]},_=()=>{const[t]=(0,n.Do)();return[t]},f=()=>{const[t]=(0,n.He)();return[t]},g=()=>{const[t]=(0,n.vg)();return[t]},P=()=>{const[t]=(0,n.OO)();return[t]},M=t=>{const{data:o,refetch:e}=(0,n.N2)(t);return{userCircleList:o,userCircleListRefetch:e}},x=t=>{const{data:o,refetch:e}=(0,s.x6)(t.search,{skip:t.skip});return{assignSearchStaff:o,assignSearchStaffRefetch:e}},k=t=>{const{data:o,refetch:e}=(0,n.SJ)(t);return{universalUser:o,universalUserRefetch:e}}}}]);
//# sourceMappingURL=85873.77ed7f27.chunk.js.map