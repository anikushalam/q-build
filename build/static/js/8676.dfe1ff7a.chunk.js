"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[8676,4258,2367,321],{93638:function(e,t,n){var a=n(39230),l=n(80476),i=n(80184);t.Z=function(e){var t=e.label,n=e.count,o=e.onAction,s=e.customStyle,r=e.isTranslate,c=(0,a.$G)().t;return r?(0,i.jsxs)("div",{className:l.Z.create_btn_container,onClick:o,style:s,children:[n>0?(0,i.jsxs)("span",{children:[n," "]}):null,t]}):(0,i.jsxs)("div",{className:l.Z.create_btn_container,onClick:o,style:s,children:[n>0?(0,i.jsxs)("span",{children:[n," "]}):null,c(t)]})}},48293:function(e,t,n){n.d(t,{Z:function(){return d}});var a=n(72791),l=n(54164),i=n(15783),o=n(80184),s=function(e){var t=e.onBackdropClose,n=e.customBackdropStyle,s=(0,a.useCallback)((function(){if(!t)return null;t()}),[t]);return l.createPortal((0,o.jsx)("div",{className:i.Z.modal_backdrop,onClick:s,style:n}),document.getElementById("backdrop"))},r=n(1413),c=function(e){e.modalState,e.isHide;var t=e.customOverlayStyle,n=e.children;return l.createPortal((0,o.jsx)("div",{className:i.Z.modal_overlay,style:(0,r.Z)({},t),children:n}),document.getElementById("overlay"))},d=function(e){var t=e.onClose,n=(e.modalState,e.customBackdropStyle),a=e.customOverlayStyle,l=e.children;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s,{onBackdropClose:t,customBackdropStyle:n}),(0,o.jsx)(c,{customOverlayStyle:a,children:l})]})}},21348:function(e,t,n){var a=n(59393),l=n(80184);t.Z=function(e){var t=e.customStyle,n=e.children;return(0,l.jsx)("div",{className:a.Z.user_member_content_wrapper,style:t,children:n})}},20471:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});var a=n(29439),l=n(72791),i=n(56959),o=n(23441),s=n(91427),r=n(57588),c=n(63687),d=n(21348),_=n(90904),u=n(55336),v=n(1669),f=n(2651),m=n(36132),h=n(39230),y=n(98684),x=n(97892),p=n.n(x),j=n(82824),b=n(1095),Z=n(45445),g=n(55050),k=n(93638),N=n(80184),S=function(e){var t,n,i,o,s,r,c,d,_=e.leave,v=e.onRefetch,f=(0,h.$G)().t,x=(0,m.Sr)(),S=(0,a.Z)(x,1)[0],C=(0,l.useState)(!1),q=(0,a.Z)(C,2),w=q[0],L=q[1],R=(0,l.useState)(!1),A=(0,a.Z)(R,2),P=A[0],T=A[1],Y=function(e){null!==_&&void 0!==_&&_._id&&(L((function(e){return!e})),S({lid:null===_||void 0===_?void 0:_._id,requestLeave:{status:e}}).then((function(){v(),L((function(e){return!e}))})).catch({}))},M=function(){T((function(e){return!e}))};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:g.Z.lmsr_card,children:[(0,N.jsxs)("div",{className:g.Z.lmsrc_card,children:[(0,N.jsxs)("div",{className:g.Z.lmsrc_card_inner,children:[(0,N.jsx)("img",{src:null!==_&&void 0!==_&&null!==(t=_.staff)&&void 0!==t&&t.staffProfilePhoto?"".concat(b.yI,"/").concat(null===_||void 0===_||null===(n=_.staff)||void 0===n?void 0:n.staffProfilePhoto):"".concat(y.p3,"/feed-user-avatar.svg"),alt:"staff icon"}),(0,N.jsxs)("div",{className:g.Z.lmsrci_text,children:[(0,N.jsx)("h6",{children:"".concat(null!==(i=null===_||void 0===_||null===(o=_.staff)||void 0===o?void 0:o.staffFirstName)&&void 0!==i?i:""," ").concat(null!==_&&void 0!==_&&null!==(s=_.staff)&&void 0!==s&&s.staffMiddleName?null===_||void 0===_||null===(r=_.staff)||void 0===r?void 0:r.staffMiddleName:""," ").concat(null!==(c=null===_||void 0===_||null===(d=_.staff)||void 0===d?void 0:d.staffLastName)&&void 0!==c?c:"")}),(0,N.jsxs)("p",{children:[f("raised_on"),(0,j.J)(null===_||void 0===_?void 0:_.createdAt,"LT"),", ",p()(null===_||void 0===_?void 0:_.createdAt).format("DD MMM YYYY"),", ",(0,N.jsx)("span",{className:g.Z.lmsrc_date,onClick:M,children:f("for_dates")})]})]})]}),(0,N.jsxs)("div",{className:g.Z.lmsrc_btn,children:[(0,N.jsx)(k.Z,{label:f("reject"),onAction:function(){return Y("Rejected")},customStyle:U}),(0,N.jsx)(k.Z,{label:f("approve"),onAction:function(){return Y("Accepted")},customStyle:B})]})]}),(0,N.jsx)("div",{className:g.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,N.jsxs)("h6",{style:{fontWeight:"400"},children:[f("leave_type")," "," : ",null===_||void 0===_?void 0:_.leave_type]})}),(0,N.jsx)("div",{className:g.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,N.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[f("reason")," "," : ",null===_||void 0===_?void 0:_.reason]})}),(null===_||void 0===_?void 0:_.attach)&&(0,N.jsx)("div",{className:g.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,N.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[f("attachment")," "," : ",(0,N.jsx)("a",{href:"".concat(b.q2,"/").concat(null===_||void 0===_?void 0:_.attach),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,N.jsx)("span",{className:g.Z.lmsrc_date,children:f("view_attachment")})})]})})]}),P&&(0,N.jsx)(Z.Z,{onClose:M,allDate:null===_||void 0===_?void 0:_.date}),w&&(0,N.jsx)(u.Z,{})]})},U={"--bg-button":"#e7e7e7","--color-button":"#6f727c","--color-white":"#ffffff",margin:"0",padding:"0.2rem 0.8rem"},B={margin:"0",padding:"0.2rem 0.8rem"},C=function(e){var t,n,x,p=e.instituteId,j=(0,h.$G)().t,b=(0,l.useState)(""),Z=(0,a.Z)(b,2),g=Z[0],k=Z[1],U=(0,l.useState)(1),B=(0,a.Z)(U,2),C=B[0],q=B[1],w=(0,l.useState)(!0),L=(0,a.Z)(w,2),R=L[0],A=L[1],P=(0,o.YD)({skip:g}),T=(0,a.Z)(P,2),Y=T[0],M=T[1],O=(0,m.B)({data:{id:p,page:C,limit:10,search:g,flow:"Request"},skip:!p}),D=O.lmsLeaveRequestList,G=O.lmsLeaveRequestListLoading,I=O.lmsLeaveRequestListRefetch;(0,l.useEffect)((function(){M&&R&&q((function(e){return e+1}))}),[M,R]),(0,l.useEffect)((function(){var e;if(null!==D&&void 0!==D&&null!==(e=D.list)&&void 0!==e&&e.length){var t,n=(0,s.f)(null===D||void 0===D||null===(t=D.list)||void 0===t?void 0:t.length);A((function(){return n}))}}),[null===D||void 0===D?void 0:D.list]);var E=(0,l.useCallback)((0,r.J)((function(e){q((function(){return 1})),k(e)}),1500),[]),W=(0,l.useCallback)((function(){q((function(){return 1})),k(""),I()}),[I]);return(0,N.jsxs)(c.Z,{children:[(0,N.jsx)(d.Z,{children:(0,N.jsxs)("div",{className:i.Z.fm_header_container,children:[(0,N.jsx)("h6",{children:j("leave_request")}),(0,N.jsx)("div",{className:i.Z.fm_search,children:(0,N.jsx)("section",{className:i.Z.fm_search_container,children:(0,N.jsxs)("div",{className:i.Z.fm_search_container_inner,children:[(0,N.jsx)("img",{className:i.Z.fm_search_icon,alt:"search icon",src:"".concat(y.dB,"/navbar-search.svg")}),(0,N.jsx)("input",{type:"text",placeholder:j("search"),onChange:function(e){e.target.value?E(e.target.value):(q((function(){return 1})),k(""))}})]})})})]})}),(0,N.jsx)(_.Z,{}),(0,N.jsxs)(d.Z,{children:[null===D||void 0===D||null===(t=D.list)||void 0===t?void 0:t.map((function(e,t){var n;return(null===D||void 0===D||null===(n=D.list)||void 0===n?void 0:n.length)===t+1?(0,N.jsx)("div",{ref:Y,children:(0,N.jsx)(S,{leave:e,onRefetch:W})},null===e||void 0===e?void 0:e._id):(0,N.jsx)(S,{leave:e,onRefetch:W},null===e||void 0===e?void 0:e._id)})),G?g?(0,N.jsx)(u.Z,{}):(0,N.jsx)(v.Z,{}):g?0===(null===D||void 0===D||null===(n=D.list)||void 0===n?void 0:n.length)&&(0,N.jsx)(f.Z,{title:"No staff leave request found related this search."}):0===(null===D||void 0===D||null===(x=D.list)||void 0===x?void 0:x.length)&&(0,N.jsx)(f.Z,{title:"No staff leave request."})]})]})}},80476:function(e,t){t.Z={btn_wrapper:"Button_btn_wrapper__ihT7O",btn_container:"Button_btn_container__OaH2t",create_btn_container:"Button_create_btn_container__JuZrx",upload_excel_file:"Button_upload_excel_file__a7d0K",set_btn_container:"Button_set_btn_container__RvfRG",ccb_button:"Button_ccb_button__Mjv4T"}},15783:function(e,t){t.Z={notify_backdrop:"Utils_notify_backdrop__saL0O",notify_overlay:"Utils_notify_overlay__GtPc5",notify_hide_overlay:"Utils_notify_hide_overlay__MYvkC",notify_overlay_animation:"Utils_notify_overlay_animation__pcASm",notify_hide_overlay_animation:"Utils_notify_hide_overlay_animation__UKRcG",notify_container:"Utils_notify_container__O8DBA",notify_message:"Utils_notify_message__PHwKo",notify_close:"Utils_notify_close__IwjyA",modal_backdrop:"Utils_modal_backdrop__WBquw",modal_overlay:"Utils_modal_overlay__Yy-AV",modal_hide_overlay:"Utils_modal_hide_overlay__elt3A",navbar_modal_hide_overlay:"Utils_navbar_modal_hide_overlay__yqj5q",navbar_modal_overlay:"Utils_navbar_modal_overlay__6ub8g",modal_hide_overlay_animation:"Utils_modal_hide_overlay_animation__d3TNp",navbar_modal_overlay_animation:"Utils_navbar_modal_overlay_animation__Ypk9u",navbar_modal_hide_overlay_animation:"Utils_navbar_modal_hide_overlay_animation__QLEse",empty_container:"Utils_empty_container__-VyCI",modal_overlay_animation:"Utils_modal_overlay_animation__zkjsk"}}}]);
//# sourceMappingURL=8676.dfe1ff7a.chunk.js.map