"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[9532],{72952:function(e,i,t){var n=t(1413),o=(t(72791),t(39230)),a=t(38733),l=t(80184);i.Z=function(e){var i,t=e.labelText,d=e.name,c=e.type,r=e.value,s=e.onChange,u=e.placeholder,v=e.errorShow,p=e.customStyleContainer,f=e.disabled,_=(0,o.$G)().t;return(0,l.jsxs)("div",{className:a.Z.join_form_container,style:(0,n.Z)({},p),children:[(0,l.jsxs)("label",{className:a.Z.join_form_label,htmlFor:d,children:[t," ",v&&(0,l.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",_("form_require_label")]})]}),(0,l.jsx)("textarea",{className:a.Z.join_form_text_area,type:c,value:r,onChange:s,name:d,placeholder:u,rows:r?(null===r||void 0===r||null===(i=r.split("\n"))||void 0===i?void 0:i.length)+3:1,disabled:f})]})}},10515:function(e,i,t){t.d(i,{Z:function(){return y}});var n=t(1413),o=t(93433),a=t(37762),l=t(29439),d=t(72791),c=t(36665),r=t(83401),s=t(39230),u=t(98094),v=t(61292),p=t(80184),f=function(e){var i=e.topic,t=e.topicId,n=(0,s.$G)().t;return(0,p.jsxs)("div",{className:r.Z.academic_card_container,children:[(0,p.jsxs)("div",{className:r.Z.academic_card_top,children:[(0,p.jsx)("img",{src:"/images/member_tab/subject/subject-topic-icon.svg",alt:"topic icon"}),(0,p.jsx)("h6",{children:n("selected_topics")})]}),null===i||void 0===i?void 0:i.map((function(e){return(0,p.jsx)(v.Z,{topic:e,topicId:t,isView:"SAVE_RECORD"},null===e||void 0===e?void 0:e._id)}))]})},_=t(72952),m=[{name:"tab_lecture",id:0,key:"Lecture"},{name:"tab_practical",id:1,key:"Practical"},{name:"tab_tutorial",id:2,key:"Tutorial"}],h=function(e){var i=e.topic,t=e.state,c=e.setState,u=e.isEdit,v=e.topicId,h=(0,s.$G)().t,j=(0,d.useState)([]),x=(0,l.Z)(j,2),Z=x[0],g=x[1];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:r.Z.record_tab_container,children:null===m||void 0===m?void 0:m.map((function(e){return(0,p.jsx)("div",{className:t.rec_status===(null===e||void 0===e?void 0:e.key)?"".concat(r.Z.record_tab," ").concat(r.Z.record_tab_active):r.Z.record_tab,onClick:function(){return i=null===e||void 0===e?void 0:e.key,void c((function(e){return(0,n.Z)((0,n.Z)({},e),{},{rec_status:i})}));var i},children:(0,p.jsx)("h6",{children:h(null===e||void 0===e?void 0:e.name)})},null===e||void 0===e?void 0:e.id)}))}),(0,p.jsx)(f,{topic:i,topicId:v}),(0,p.jsx)(_.Z,{labelText:h("additional_info_optional"),placeholder:h("additional_info_optional_placeholder"),name:"additiona_info",value:t.updateDescription,type:"text",onChange:function(e){return c((function(i){return(0,n.Z)((0,n.Z)({},i),{},{updateDescription:e.target.value})}))},customStyleContainer:{width:"100%"}}),u?null:(0,p.jsxs)("div",{className:r.Z.aditional_info_images,children:[null===Z||void 0===Z?void 0:Z.map((function(e,i){return(0,p.jsx)("img",{src:e,alt:"uploaded avatar"},i)})),(0,p.jsx)("label",{htmlFor:"upload",children:(0,p.jsx)("img",{src:"/images/member_tab/subject/subject-camera-icon.svg",alt:"camera icon",style:{cursor:"pointer"}})})]}),(0,p.jsx)("input",{multiple:!0,type:"file",name:"upload",id:"upload",style:{display:"none"},onChange:function(e){var i;if(null!==(i=e.target.files)&&void 0!==i&&i.length){var t,l=[],d=(0,a.Z)(e.target.files);try{for(d.s();!(t=d.n()).done;){var r=t.value;l.push(URL.createObjectURL(r))}}catch(s){d.e(s)}finally{d.f()}g(l),c((function(i){return(0,n.Z)((0,n.Z)({},i),{},{files:[].concat((0,o.Z)(i.files),(0,o.Z)(e.target.files))})}))}},accept:"image/gif, image/jpeg, image/png, image/*"})]})},j=t(34114),x=t(98734),Z=t(40444),g=t(60233),y=function(e){var i=e.onClose,t=e.sid,v=e.onRefetch,f=e.dailyMenu,_=(0,s.$G)().t,m=(0,d.useState)(2),y=(0,l.Z)(m,2),b=y[0],N=y[1],C=(0,d.useState)(!1),k=(0,l.Z)(C,2),D=k[0],S=k[1],w=(0,d.useState)({updateDescription:"",rec_status:"Lecture",files:[],date:""}),I=(0,l.Z)(w,2),T=I[0],E=I[1],L=(0,d.useState)([]),M=(0,l.Z)(L,2),F=M[0],R=M[1],A=(0,d.useState)([]),G=(0,l.Z)(A,2),U=G[0],V=G[1],$=(0,d.useState)([]),B=(0,l.Z)($,2),K=B[0],O=B[1],P=(0,d.useState)([]),q=(0,l.Z)(P,2),J=q[0],Y=q[1],z=(0,Z.s2)(),H=(0,l.Z)(z,1)[0],Q=(0,Z.yz)(),W=(0,l.Z)(Q,1)[0],X=(0,Z.NA)(),ee=(0,l.Z)(X,1)[0];(0,d.useEffect)((function(){if(null!==f&&void 0!==f&&f._id){var e,i,t,n=[],o=[],l=(0,a.Z)(null===f||void 0===f?void 0:f.daily_topic);try{for(l.s();!(t=l.n()).done;){var d,c=t.value;n.push({topicId:null===c||void 0===c||null===(d=c.topic)||void 0===d?void 0:d._id,current_status:null===c||void 0===c?void 0:c.current_status}),o.push(null===c||void 0===c?void 0:c.topic)}}catch(r){l.e(r)}finally{l.f()}E({updateDescription:null===f||void 0===f?void 0:f.updateDescription,rec_status:null===f||void 0===f||null===(e=f.daily_topic)||void 0===e||null===(i=e[0])||void 0===i?void 0:i.status,files:[]}),R((function(){return n})),V((function(){return o}))}}),[f]);var ie=function(){2===b?i():N(1===b?0:2)};return(0,p.jsxs)(c.Z,{onClose:ie,children:[2===b?(0,p.jsx)(g.Z,{datePickerPosition:{position:"rlative",top:"-5rem",left:"-10rem",borderRadius:"0.375rem",paddingBottom:"0"},range:!1,onClose:ie,dateInput:T.date,setDateInput:function(e){N(7),S((function(e){return!e}));var i=null===e||void 0===e?void 0:e.split("/"),o="".concat(i[2],"-").concat(i[1],"-").concat(i[0]);E((function(e){return(0,n.Z)((0,n.Z)({},e),{},{date:new Date(o)})})),ee({sid:t,extraBody:{date:e,flow:"Extra_Lecture"}}).then((function(e){var i,t,n;(null===e||void 0===e||null===(i=e.data)||void 0===i||null===(t=i.attendance_all)||void 0===t?void 0:t.length)>0?(O(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.attendance_all),N(3)):N(0);S((function(e){return!e}))})).catch({})},isClose:!0}):3===b?(0,p.jsxs)("div",{className:r.Z.add_academic_record,children:[(0,p.jsxs)("div",{className:r.Z.add_academic_record_title,children:[(0,p.jsxs)("div",{className:r.Z.add_academic_record_text,children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:ie,alt:"back icon",style:{cursor:"pointer"}}),(0,p.jsx)("h6",{children:_("select_extra_lecture")})]}),(0,p.jsx)("button",{onClick:function(){N(0)},children:_("next")})]}),(0,p.jsx)(u.Z,{customStyle:{width:"100%",marginBottom:"0.7rem"}}),(0,p.jsx)("h6",{className:r.Z.extra_lecture_container,onClick:function(){N(0)},children:_("regular")}),null===K||void 0===K?void 0:K.map((function(e,i){return(0,p.jsxs)("h6",{className:null!==J&&void 0!==J&&J.includes(null===e||void 0===e?void 0:e._id)?"".concat(r.Z.extra_lecture_container," ").concat(r.Z.extra_lecture_container_active):r.Z.extra_lecture_container,onClick:function(){return i=null===e||void 0===e?void 0:e._id,void(null!==J&&void 0!==J&&J.includes(i)?Y((function(e){return null===e||void 0===e?void 0:e.filter((function(e){return e!==i}))})):Y((function(e){return[].concat((0,o.Z)(e),[i])})));var i},children:[_("extra")," ",i+1]},null===e||void 0===e?void 0:e._id)}))]}):(0,p.jsxs)("div",{className:r.Z.add_academic_record,children:[(0,p.jsxs)("div",{className:r.Z.add_academic_record_title,children:[(0,p.jsxs)("div",{className:r.Z.add_academic_record_text,children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:ie,alt:"back icon",style:{cursor:"pointer"}}),(0,p.jsx)("h6",{children:_(0===b?"select_topic":"save_record")})]}),0===b?(0,p.jsx)("button",{onClick:function(){(null===F||void 0===F?void 0:F.length)>0&&N(1)},children:_("next")}):(0,p.jsx)("button",{onClick:function(){if(t)if(S((function(e){return!e})),null!==f&&void 0!==f&&f._id)W({sid:t,did:null===f||void 0===f?void 0:f._id,dailyUpdate:{arr:F,rec_status:T.rec_status,updateDescription:T.updateDescription}}).then((function(){v(),i(),S((function(e){return!e}))})).catch({});else{var e=new FormData;e.append("date",T.date),e.append("updateDescription",T.updateDescription),(null===F||void 0===F?void 0:F.length)>0&&e.append("arr",JSON.stringify(F)),e.append("rec_status",T.rec_status),(null===J||void 0===J?void 0:J.length)>0&&e.append("extra_lecture",JSON.stringify(J));var n,o=(0,a.Z)(T.files);try{for(o.s();!(n=o.n()).done;){var l=n.value;e.append("file",l)}}catch(d){o.e(d)}finally{o.f()}H({sid:t,addDailyUpdate:e}).then((function(){v(),i(),S((function(e){return!e}))})).catch({})}},children:_("save")})]}),(0,p.jsx)(u.Z,{customStyle:{width:"100%"}}),0===b?(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(j.Z,{sid:t,isView:"SUBJECT_TEACHER",onGrabChapterId:function(e,i){(null===F||void 0===F?void 0:F.find((function(i){return(null===i||void 0===i?void 0:i.topicId)===(null===e||void 0===e?void 0:e._id)})))?(R((function(i){return null===i||void 0===i?void 0:i.filter((function(i){return(null===i||void 0===i?void 0:i.topicId)!==(null===e||void 0===e?void 0:e._id)}))})),V((function(i){return null===i||void 0===i?void 0:i.filter((function(i){return(null===i||void 0===i?void 0:i._id)!==(null===e||void 0===e?void 0:e._id)}))}))):(R((function(t){return[].concat((0,o.Z)(t),[{topicId:null===e||void 0===e?void 0:e._id,current_status:i}])})),V((function(i){return[].concat((0,o.Z)(i),[e])})))},topicId:F,recordLecture:!0})}):(0,p.jsx)(h,{topic:U,setState:E,state:T,isEdit:null===f||void 0===f?void 0:f._id,topicId:F})]}),D&&(0,p.jsx)(x.Z,{})]})}},99532:function(e,i,t){t.d(i,{Z:function(){return _}});var n=t(29439),o=t(72791),a=t(83401),l=t(72426),d=t.n(l),c=t(39230),r=t(69721),s=t(10307),u=t(80184),v=function(e){var i,t,n,o,l,v,p,f=e.isView,_=e.updateDescription,m=e.upadateImage,h=e.createdAt,j=e.subject,x=(0,c.$G)().t;return(0,u.jsxs)("div",{className:a.Z.aditional_info_container,children:["STUDENT"===f?(0,u.jsxs)("div",{className:a.Z.aditional_info_dates,children:[(0,u.jsx)("h5",{children:null!==(i=null===j||void 0===j?void 0:j.subjectName)&&void 0!==i?i:""}),(0,u.jsx)("h6",{children:"".concat(null!==(t=null===j||void 0===j||null===(n=j.subjectTeacherName)||void 0===n?void 0:n.staffFirstName)&&void 0!==t?t:""," ").concat(null!==(o=null===j||void 0===j||null===(l=j.subjectTeacherName)||void 0===l?void 0:l.staffMiddleName)&&void 0!==o?o:""," ").concat(null!==(v=null===j||void 0===j||null===(p=j.subjectTeacherName)||void 0===p?void 0:p.staffLastName)&&void 0!==v?v:"")})]}):null,_||(null===m||void 0===m?void 0:m.length)>0?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h6",{children:x("additional_info")}),(0,u.jsx)("p",{children:_}),(null===m||void 0===m?void 0:m.length)>0?(0,u.jsx)("div",{className:a.Z.aditional_info_images,children:null===m||void 0===m?void 0:m.map((function(e){return(0,s.Y)(null===e||void 0===e?void 0:e.documentKey)?(0,u.jsx)("a",{title:"view File",href:"".concat(r.r3,"/").concat(null===e||void 0===e?void 0:e.documentKey),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,u.jsx)("img",{src:"".concat(r.yI,"/").concat(null===e||void 0===e?void 0:e.documentKey),alt:"files"},null===e||void 0===e?void 0:e.documentKey)}):null}))}):null]}):null,(0,u.jsxs)("div",{className:a.Z.aditional_info_dates,children:[(0,u.jsx)("p",{children:d()(h).format("DD MMM yyyy")}),(0,u.jsx)("p",{children:d()(h).format("LT")})]})]})},p=t(61292),f=t(10515),_=function(e){var i,t=e.daily,l=e.sid,r=e.onParentRefetch,s=e.isView,_=(0,c.$G)().t,m=(0,o.useState)(""),h=(0,n.Z)(m,2),j=h[0],x=h[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:a.Z.academic_card_container,children:[(0,u.jsxs)("div",{className:a.Z.academic_card_top,style:{justifyContent:"space-between"},children:[(0,u.jsxs)("div",{className:a.Z.academic_card_top_text,children:[(0,u.jsx)("img",{src:"/images/member_tab/subject/subject-topic-icon.svg",alt:"topic icon"}),(0,u.jsxs)("h6",{children:[d()(null===t||void 0===t?void 0:t.date).format("Do MMMM, yyyy"),": Topics Covered"]})]}),"STUDENT"===s?null:(0,u.jsxs)("h6",{onClick:function(){return x(t)},children:["(",_("edit_"),")"]})]}),null===t||void 0===t||null===(i=t.daily_topic)||void 0===i?void 0:i.map((function(e){return(0,u.jsx)(p.Z,{topic:null===e||void 0===e?void 0:e.topic,topicType:null===e||void 0===e?void 0:e.status,topicCurrentStatus:null===e||void 0===e?void 0:e.current_status,isView:"DAILY"},null===e||void 0===e?void 0:e._id)})),(0,u.jsx)(v,{updateDescription:null===t||void 0===t?void 0:t.updateDescription,upadateImage:null===t||void 0===t?void 0:t.upadateImage,createdAt:null===t||void 0===t?void 0:t.createdAt,isView:s,subject:null===t||void 0===t?void 0:t.subject})]}),j&&(0,u.jsx)(f.Z,{onClose:function(){return x("")},sid:l,onRefetch:r,dailyMenu:j})]})}},10307:function(e,i,t){t.d(i,{Y:function(){return o}});var n=[".jpg",".jpeg",".jpe",".pjpeg",".pjp",".apng",".jif",".jfif",".jfi",".png",".gif",".webp",".tiff",".tif",".psd",".heif",".heic",".svg",".svgz",".ai",".eps",".avif"],o=function(e){for(var i=!1,t=0,o=n;t<o.length;t++){var a=o[t];if(null!==e&&void 0!==e&&e.includes(a)){i=!0;break}}return i}}}]);
//# sourceMappingURL=9532.935f81fb.chunk.js.map