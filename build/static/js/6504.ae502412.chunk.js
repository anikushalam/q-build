"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[6504],{66504:function(i,a,e){e.r(a),e.d(a,{default:function(){return j}});var n=e(1413),s=e(93433),o=e(29439),t=e(72791),d=e(5574),l=e(94721),c={admissionModal:"AlumniModal_admissionModal__sAn1V",admissionModalhead:"AlumniModal_admissionModalhead__v2CHz",admissionModalbody:"AlumniModal_admissionModalbody__tP4BE",admissionModalfooter:"AlumniModal_admissionModalfooter__Qg9e+",assignManager:"AlumniModal_assignManager__sN1Lh",searchbar:"AlumniModal_searchbar__vWFsY",sidebarbottomitem:"AlumniModal_sidebarbottomitem__0eumV",namee:"AlumniModal_namee__Totua",desig:"AlumniModal_desig__25eNv",items:"AlumniModal_items__BLPG6",financebtn:"AlumniModal_financebtn__KDEuF",activebtn:"AlumniModal_activebtn__VB9Tv",assignDesignation:"AlumniModal_assignDesignation__+XEi8",peventinputContainer:"AlumniModal_peventinputContainer__+WOX9",pollTextareah:"AlumniModal_pollTextareah__PfsT6",switchContainerh:"AlumniModal_switchContainerh__IlsRe",pollTextarea:"AlumniModal_pollTextarea__NwWK+"},r=e(91007),u=e(39230),m=e(69721),f=e(16871),v=e(31677),h=e(61221),_=e(78687),x=e(23441),p=e(57387),g=e(80184);function N(i){var a=i.img,e=i.photoId,n=i.name,s=i.index,o=i.setIndex,t=i.assignAdmissionHead;return(0,g.jsxs)("div",{className:c.sidebarbottomitem,onClick:function(){t(),o(s)},children:[(0,g.jsx)("img",{alt:"not found",src:"1"!==e?"".concat(m.yI,"/").concat(a):"/images/member_tab/class/default_avatar.svg"}),(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:c.namee,children:n}),(0,g.jsx)("p",{className:c.desig,children:s})]})]})}var j=function(i){var a=i.openModal,e=i.hideModal,j=i.edit,M=i.librarian,b=i.onParentRefetch,Z=(0,u.$G)().t,A=(0,t.useState)(!1),I=(0,o.Z)(A,2),P=I[0],L=I[1],y=(0,_.useSelector)((function(i){return i.idChange})),C=(0,t.useState)(!1),k=(0,o.Z)(C,2),S=k[0],T=k[1],F=(0,t.useState)(!1),O=(0,o.Z)(F,2),w=O[0],D=O[1],E=(0,t.useState)(""),B=(0,o.Z)(E,2),H=B[0],R=B[1],q=(0,t.useState)(1),V=(0,o.Z)(q,2),W=V[0],Q=V[1],G=(0,t.useState)([]),K=(0,o.Z)(G,2),X=K[0],Y=K[1],$=(0,x.YD)(),z=(0,o.Z)($,2),U=(z[0],z[1]),J=(0,h.vV)(),ii=(0,o.Z)(J,1)[0],ai=(0,h.P$)(),ei=(0,o.Z)(ai,1)[0],ni=(0,_.useDispatch)(),si=document.querySelector("textarea");null===si||void 0===si||si.addEventListener("keyup",(function(i){si.style.height="auto";var a=i.target.scrollHeight;si.style.height="".concat(a,"px")}));var oi=(0,r.OU)({id:null===y||void 0===y?void 0:y.id,page:W,limit:10},{skip:!(null!==y&&void 0!==y&&y.id)}),ti=oi.data;oi.refetch,(0,t.useEffect)((function(){ti&&(ti.staffIns?Y([].concat((0,s.Z)(X),(0,s.Z)(ti.staffIns))):W>1&&T(!0))}),[ti]),(0,t.useEffect)((function(){U&&(S||Q(W+1))}),[U]),(0,t.useEffect)((function(){setTimeout((function(){D(!w)}),3e3)}),[]);var di=(0,f.s0)(),li=(0,r.W7)().data,ci=(0,t.useState)(!1),ri=(0,o.Z)(ci,2),ui=ri[0],mi=ri[1],fi=(0,t.useState)(!1),vi=(0,o.Z)(fi,2),hi=vi[0],_i=vi[1],xi=(0,t.useState)({sid:"",name:"",index:"",photoId:"",profilePhoto:""}),pi=(0,o.Z)(xi,2),gi=pi[0],Ni=pi[1],ji=null===X||void 0===X?void 0:X.filter((function(i){return(null===i||void 0===i?void 0:i._id)!==(null===M||void 0===M?void 0:M._id)}));return(0,g.jsx)(d.Z,{open:a,onClose:function(){return e(!1)},children:(0,g.jsxs)("div",{className:c.admissionModal,children:[(0,g.jsxs)("div",{className:c.admissionModalhead,children:[(0,g.jsx)("h6",{children:Z(j?"edit_alumin_dept":"active_alumin")}),(0,g.jsx)("img",{onClick:function(){return e(!1)},src:"/images/close-post-icon.svg",alt:""})]}),(0,g.jsx)(l.Z,{}),(0,g.jsxs)("div",{className:c.admissionModalbody,children:[!ui&&!j&&(0,g.jsxs)("div",{className:c.assignDesignation,onClick:function(){return mi(!0)},children:[(0,g.jsx)("img",{className:c.assignManager,src:"/images/sports/avatar-circle.svg",alt:""}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h6",{children:Z("assign_alumin_head")}),(0,g.jsx)("p",{children:Z("search_from_joined_list")})]})]}),!ui&&j&&(0,g.jsxs)("div",{className:c.sidebarbottomitem,onClick:function(){return mi(!0)},children:[(0,g.jsx)("img",{alt:"not found",src:"1"!==(null===M||void 0===M?void 0:M.photoId)?"".concat(m.yI,"/").concat(null===M||void 0===M?void 0:M.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:c.namee,children:"".concat((null===M||void 0===M?void 0:M.staffFirstName)||""," ").concat(null!==M&&void 0!==M&&M.staffMiddleName?null===M||void 0===M?void 0:M.staffMiddleName:""," ").concat((null===M||void 0===M?void 0:M.staffLastName)||"")}),(0,g.jsxs)("p",{className:c.desig,children:[" ",Z("index_no")," ",null===M||void 0===M?void 0:M.index]})]})]}),ui&&!hi&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:c.searchbar,children:[(0,g.jsx)("input",{type:"text",placeholder:Z("search"),className:"form-control ".concat(c.searchinput)}),(0,g.jsx)("img",{className:c.searchIcon,alt:"img",src:"/images/search-dash-icon.svg"})]}),(0,g.jsx)("div",{className:c.items,children:j?null===ji||void 0===ji?void 0:ji.map((function(i){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(N,{img:i.staffProfilePhoto,photoId:i.photoId,name:"".concat(i.staffFirstName," ").concat(i.staffMiddleName?i.staffMiddleName:""," ").concat(i.staffLastName),index:i.staffROLLNO,setIndex:function(i){return _i(!0)},assignAdmissionHead:function(){Ni((0,n.Z)((0,n.Z)({},gi),{},{sid:null===i||void 0===i?void 0:i._id,name:"".concat(null===i||void 0===i?void 0:i.staffFirstName," ").concat(null!==i&&void 0!==i&&i.staffMiddleName?null===i||void 0===i?void 0:i.staffMiddleName:""," ").concat(null===i||void 0===i?void 0:i.staffLastName),index:null===i||void 0===i?void 0:i.staffROLLNO,photoId:null===i||void 0===i?void 0:i.photoId,profilePhoto:null===i||void 0===i?void 0:i.staffProfilePhoto}))}}),(0,g.jsx)(l.Z,{})]})})):null===X||void 0===X?void 0:X.map((function(i){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(N,{img:i.staffProfilePhoto,photoId:i.photoId,name:"".concat(i.staffFirstName," ").concat(i.staffMiddleName?i.staffMiddleName:""," ").concat(i.staffLastName),index:i.staffROLLNO,setIndex:function(i){return _i(!0)},assignAdmissionHead:function(){Ni((0,n.Z)((0,n.Z)({},gi),{},{sid:null===i||void 0===i?void 0:i._id,name:"".concat(null===i||void 0===i?void 0:i.staffFirstName," ").concat(null!==i&&void 0!==i&&i.staffMiddleName?null===i||void 0===i?void 0:i.staffMiddleName:""," ").concat(null===i||void 0===i?void 0:i.staffLastName),index:null===i||void 0===i?void 0:i.staffROLLNO,photoId:null===i||void 0===i?void 0:i.photoId,profilePhoto:null===i||void 0===i?void 0:i.staffProfilePhoto}))}}),(0,g.jsx)(l.Z,{})]})}))})]}),ui&&hi&&(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:c.sidebarbottomitem,children:[(0,g.jsx)("img",{alt:"not found",src:"1"!==gi.photoId?"".concat(m.yI,"/").concat(gi.profilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:c.namee,children:gi.name}),(0,g.jsxs)("p",{className:c.desig,children:["Index No. ",gi.index]})]})]}),(0,g.jsx)("div",{className:c.peventinputContainer,children:(0,g.jsx)("textarea",{className:c.pollTextarea,id:"pollTextArea",type:"text",required:!0,placeholder:Z("write_something_"),value:H,onChange:function(i){return R(i.target.value)}})})]})]}),(0,g.jsx)("div",{className:c.admissionModalfooter,children:(0,g.jsx)("div",{children:(0,g.jsx)(p.Z,{disabled:P,shwoLoader:!0,buttonText:Z(j?"edit_":"activate"),customStyleButton:{minHeight:"2rem",marginTop:"0rem"},onAction:j?function(){""!==gi.sid&&(L(!0),ei({osid:null===M||void 0===M?void 0:M._id,nsid:gi.sid}).then((function(i){var a;ni(v.B.alumniQuery({aid:null===(a=i.data)||void 0===a?void 0:a.alumini})),b(),Ni((0,n.Z)((0,n.Z)({},gi),{},{sid:""})),_i(!hi),mi(!ui),L(!1),e()})))}:function(){L(!0),ii({id:y.id,passegeData:{sid:null===gi||void 0===gi?void 0:gi.sid,alumini_passage:H}}).then((function(i){var a,e;ni(v.B.alumniQuery({aid:null===(a=i.data)||void 0===a?void 0:a.alumini})),L(!1),di("/q/".concat(null===li||void 0===li||null===(e=li.institute)||void 0===e?void 0:e.name,"/alumni"))}))}})})})]})})}}}]);
//# sourceMappingURL=6504.ae502412.chunk.js.map