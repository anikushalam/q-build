"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[44121,68190,49984],{68190:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Z});var i=s(39230),l=s(72791),a=s(23441),n=s(98684),d=s(56959),c=s(90904),o=s(21348),r=s(77302),v=s(91427),u=s(57588),h=s(2651),m=s(55336),x=s(1669),_=s(9228),j=s(89064),p=s(80184);const g=e=>{let{onClose:t,menuData:s,did:a}=e;const{t:n}=(0,i.$G)(),[d,c]=(0,l.useState)(!1),[o]=(0,r.vh)(),{instituteDepartmentDashboardRefetch:v}=(0,r.Id)({data:{did:a},skip:!a});return console.info("Asfdsfg",s),(0,p.jsx)(j.Z,{onClose:t,disabled:d,children:(0,p.jsx)("h6",{onClick:()=>{var e,i;null!==s&&void 0!==s&&null!==(e=s.u_batch)&&void 0!==e&&e._id&&a&&(c((e=>!e)),o({bid:null===s||void 0===s||null===(i=s.u_batch)||void 0===i?void 0:i._id,did:a}).then((()=>{v(),c((e=>!e)),t()})).catch({}))},children:n("select_batch")})})},f=e=>{var t,s,i;let{batch:a,did:d,selectBatchId:c}=e;const[o,r]=(0,l.useState)("");return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:c===(null===a||void 0===a||null===(t=a.u_batch)||void 0===t?void 0:t._id)?"".concat(_.Z.iadcc_card_hover," ").concat(_.Z.sf_card_active):_.Z.iadcc_card_hover,children:[(0,p.jsxs)("div",{className:_.Z.sf_card_contatiner,children:[(0,p.jsx)("img",{src:"".concat(n.J7,"/batch.svg"),loading:"lazy",alt:"avatar",style:{borderRadius:"0",height:"2rem",width:"2rem"}}),(0,p.jsx)("div",{className:_.Z.sf_card_contatiner_inner,children:(0,p.jsx)("h6",{children:null!==(s=null===a||void 0===a||null===(i=a.u_batch)||void 0===i?void 0:i.batchName)&&void 0!==s?s:""})})]}),(0,p.jsx)("img",{src:"".concat(n.J7,"/menu.svg"),alt:"menu icon",onClick:()=>{r(a)}})]}),o&&(0,p.jsx)(g,{onClose:()=>{r("")},menuData:o,did:d})]})},Z=e=>{var t,s,_;let{did:j,openAs:g,selectBatchId:Z}=e;const{t:N}=(0,i.$G)(),[y,b]=(0,l.useState)(""),[S,I]=(0,l.useState)(1),[T,C]=(0,l.useState)(!0),[A,E]=(0,a.YD)({skip:y}),{academicDepartmentAllBatch:k,academicDepartmentAllBatchLoading:D}=(0,r.cm)({data:{did:j,page:S,limit:10,search:y},skip:!j});(0,l.useEffect)((()=>{E&&T&&I((e=>e+1))}),[E,T]),(0,l.useEffect)((()=>{var e;if(null!==k&&void 0!==k&&null!==(e=k.list)&&void 0!==e&&e.length){var t;let e=(0,v.f)(null===k||void 0===k||null===(t=k.list)||void 0===t?void 0:t.length);C((()=>e))}}),[null===k||void 0===k?void 0:k.list]);const P=(0,l.useCallback)((0,u.J)((e=>{I((()=>1)),b(e)}),1500),[]),R=e=>{e.target.value?P(e.target.value):(I((()=>1)),b(""))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.Z,{children:"DEPARTMENT_HEAD"===g?(0,p.jsxs)("div",{className:d.Z.fm_header_container,children:[(0,p.jsx)("h6",{children:N("batches")}),(0,p.jsx)("div",{className:d.Z.fm_search,children:(0,p.jsx)("section",{className:d.Z.fm_search_container,children:(0,p.jsxs)("div",{className:d.Z.fm_search_container_inner,children:[(0,p.jsx)("img",{className:d.Z.fm_search_icon,alt:"search icon",src:"".concat(n.dB,"/navbar-search.svg")}),(0,p.jsx)("input",{type:"text",placeholder:N("search"),onChange:R})]})})})]}):(0,p.jsx)("div",{className:d.Z.fm_search_full,children:(0,p.jsx)("section",{className:d.Z.fm_search_full_container,children:(0,p.jsxs)("div",{className:d.Z.fm_search_full_container_inner,children:[(0,p.jsx)("img",{className:d.Z.fm_search_full_icon,alt:"search icon",src:"".concat(n.dB,"/navbar-search.svg")}),(0,p.jsx)("input",{type:"text",placeholder:N("search"),onChange:R})]})})})}),(0,p.jsx)(c.Z,{}),(0,p.jsxs)(o.Z,{customStyle:{paddingTop:"0.3rem",paddingBottom:"1rem"},children:[null===k||void 0===k||null===(t=k.list)||void 0===t?void 0:t.map(((e,t)=>{var s;return(null===k||void 0===k||null===(s=k.list)||void 0===s?void 0:s.length)===t+1?(0,p.jsx)("div",{ref:A,children:(0,p.jsx)(f,{batch:e,did:j,selectBatchId:Z})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(f,{batch:e,did:j,selectBatchId:Z},null===e||void 0===e?void 0:e._id)})),D?y?(0,p.jsx)(m.Z,{}):(0,p.jsx)(x.Z,{}):y?0===(null===k||void 0===k||null===(s=k.list)||void 0===s?void 0:s.length)&&(0,p.jsx)(h.Z,{title:"No batch found related this search."}):0===(null===k||void 0===k||null===(_=k.list)||void 0===_?void 0:_.length)&&(0,p.jsx)(h.Z,{title:"No batch."})]})]})}},49984:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Z});var i=s(39230),l=s(72791),a=s(23441),n=s(98684),d=s(56959),c=s(90904),o=s(21348),r=s(77302),v=s(91427),u=s(57588),h=s(2651),m=s(55336),x=s(1669),_=s(16871),j=s(43504),p=s(9228),g=s(80184);const f=e=>{var t,s,i,l,a;let{cls:d,instituteId:c,openAs:o}=e;const r=(0,_.UO)(),v=(0,_.TH)();return(0,g.jsx)(j.rU,{to:"DEPARTMENT_HEAD"===o?"/q/".concat(r.username,"/member/staff/academic/department/").concat(r.name,"?type=cls-detail"):"/q/".concat(r.username,"/institute/member/academic/department/detail?type=cls-detail"),state:{...v.state,clsId:null===d||void 0===d?void 0:d._id,clsName:"".concat(null===d||void 0===d?void 0:d.className," (").concat(null!==(t=null===d||void 0===d||null===(s=d.department)||void 0===s?void 0:s.dName)&&void 0!==t?t:"",")"),instituteId:c},children:(0,g.jsx)("div",{className:p.Z.iadcc_card_hover,children:(0,g.jsxs)("div",{className:p.Z.sf_card_contatiner,children:[(0,g.jsx)("img",{src:"".concat(n.wP,"/cls-icon.svg"),loading:"lazy",alt:"avatar",style:{borderRadius:"0",height:"2rem",width:"2rem"}}),(0,g.jsx)("div",{className:p.Z.sf_card_contatiner_inner,children:(0,g.jsxs)("h6",{children:[null!==(i=null===d||void 0===d?void 0:d.className)&&void 0!==i?i:"",(0,g.jsxs)("span",{style:{fontSize:"12px"},children:[" ","(",null!==(l=null===d||void 0===d||null===(a=d.department)||void 0===a?void 0:a.dName)&&void 0!==l?l:"",")"]})]})})]})})})},Z=e=>{var t,s,_;let{did:j,instituteId:p,openAs:Z}=e;const{t:N}=(0,i.$G)(),[y,b]=(0,l.useState)(""),[S,I]=(0,l.useState)(1),[T,C]=(0,l.useState)(!0),[A,E]=(0,a.YD)({skip:y}),{academicDepartmentAllClassMaster:k,academicDepartmentAllClassMasterLoading:D}=(0,r.fJ)({data:{did:j,page:S,limit:10,search:y},skip:!j});(0,l.useEffect)((()=>{E&&T&&I((e=>e+1))}),[E,T]),(0,l.useEffect)((()=>{var e;if(null!==k&&void 0!==k&&null!==(e=k.list)&&void 0!==e&&e.length){var t;let e=(0,v.f)(null===k||void 0===k||null===(t=k.list)||void 0===t?void 0:t.length);C((()=>e))}}),[null===k||void 0===k?void 0:k.list]);const P=(0,l.useCallback)((0,u.J)((e=>{I((()=>1)),b(e)}),1500),[]),R=e=>{e.target.value?P(e.target.value):(I((()=>1)),b(""))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(o.Z,{children:"DEPARTMENT_HEAD"===Z?(0,g.jsxs)("div",{className:d.Z.fm_header_container,children:[(0,g.jsx)("h6",{children:N("classes")}),(0,g.jsx)("div",{className:d.Z.fm_search,children:(0,g.jsx)("section",{className:d.Z.fm_search_container,children:(0,g.jsxs)("div",{className:d.Z.fm_search_container_inner,children:[(0,g.jsx)("img",{className:d.Z.fm_search_icon,alt:"search icon",src:"".concat(n.dB,"/navbar-search.svg")}),(0,g.jsx)("input",{type:"text",placeholder:N("search"),onChange:R})]})})})]}):(0,g.jsx)("div",{className:d.Z.fm_search_full,children:(0,g.jsx)("section",{className:d.Z.fm_search_full_container,children:(0,g.jsxs)("div",{className:d.Z.fm_search_full_container_inner,children:[(0,g.jsx)("img",{className:d.Z.fm_search_full_icon,alt:"search icon",src:"".concat(n.dB,"/navbar-search.svg")}),(0,g.jsx)("input",{type:"text",placeholder:N("search"),onChange:R})]})})})}),(0,g.jsx)(c.Z,{}),(0,g.jsxs)(o.Z,{customStyle:{paddingTop:"0.3rem",paddingBottom:"1rem"},children:[null===k||void 0===k||null===(t=k.list)||void 0===t?void 0:t.map(((e,t)=>{var s;return(null===k||void 0===k||null===(s=k.list)||void 0===s?void 0:s.length)===t+1?(0,g.jsx)("div",{ref:A,children:(0,g.jsx)(f,{cls:e,instituteId:p,openAs:Z})},null===e||void 0===e?void 0:e._id):(0,g.jsx)(f,{cls:e,instituteId:p,openAs:Z},null===e||void 0===e?void 0:e._id)})),D?y?(0,g.jsx)(m.Z,{}):(0,g.jsx)(x.Z,{}):y?0===(null===k||void 0===k||null===(s=k.list)||void 0===s?void 0:s.length)&&(0,g.jsx)(h.Z,{title:"No class found related this search."}):0===(null===k||void 0===k||null===(_=k.list)||void 0===_?void 0:_.length)&&(0,g.jsx)(h.Z,{title:"No class."})]})]})}},94071:(e,t,s)=>{s.r(t),s.d(t,{default:()=>J});var i=s(20712),l=s(18725),a=s(2205),n=s(72156),d=s(63687),c=s(16871),o=s(43504),r=s(98684),v=s(39230),u=s(77302),h=s(72791),m=s(89064),x=s(33992),_=s(85794),j=s(16184),p=s(55369),g=s(80184);const f=e=>{let{onClose:t,menuData:s,onRefetch:i}=e;const{t:l}=(0,v.$G)(),[a,n]=(0,h.useState)(!1),[d,o]=(0,h.useState)(""),[r,u]=(0,h.useState)({open:!1,msg:"",variant:"error"}),f=(0,c.s0)(),[Z]=(0,x.$1)(),[N]=(0,x.MQ)(),[y]=(0,x.nr)(),b=()=>{o("")};return(0,g.jsxs)(g.Fragment,{children:[1===d?(0,g.jsx)(j.Z,{onClose:()=>o(""),onParentClose:t,instituteId:null===s||void 0===s?void 0:s.institute,departmentId:null===s||void 0===s?void 0:s._id,onReftech:i}):2===d?(0,g.jsx)(p.Z,{isEdit:!0,onEditAction:e=>{if(null!==s&&void 0!==s&&s._id){var l;b(),n((e=>!e));const a={dName:(null===s||void 0===s?void 0:s.dName)===e.dName?"":e.dName,dTitle:(null===s||void 0===s?void 0:s.dTitle)===e.dTitle?"":e.dTitle,sid:(null===s||void 0===s||null===(l=s.dHead)||void 0===l?void 0:l._id)===e.sid?"":e.sid,gr_initials:(null===s||void 0===s?void 0:s.gr_initials)===e.gr_initials?"":e.gr_initials};y({did:null===s||void 0===s?void 0:s._id,department:a}).then((()=>{i(),n((e=>!e)),t()})).catch({})}},menuData:s,onClose:b,instituteId:null===s||void 0===s?void 0:s.institute}):(0,g.jsxs)(m.Z,{onClose:t,disabled:a,customStyle:{width:"15rem"},children:["Pinned"===(null===s||void 0===s?void 0:s.pin_status)?(0,g.jsx)("h6",{onClick:()=>{null!==s&&void 0!==s&&s.institute&&null!==s&&void 0!==s&&s.pin_status_flow&&(n((e=>!e)),N({id:null===s||void 0===s?void 0:s.institute,bodyParameter:{did:"DEPENDENT"===(null===s||void 0===s?void 0:s.pin_status_flow)?null===s||void 0===s?void 0:s.pin_status_id:null===s||void 0===s?void 0:s._id,flow:null===s||void 0===s?void 0:s.pin_status_flow}}).then((()=>{i(),n((e=>!e)),t()})).catch({}))},children:l("unpin_department")}):(0,g.jsx)("h6",{onClick:()=>o(1),children:l("pin_department")}),(0,g.jsx)("h6",{onClick:()=>o(2),children:l("edit")}),(0,g.jsx)("h6",{onClick:()=>{null!==s&&void 0!==s&&s._id&&(n((e=>!e)),Z({did:null===s||void 0===s?void 0:s._id}).then((e=>{var s,i;null!==e&&void 0!==e&&null!==(s=e.data)&&void 0!==s&&s.error?(u({msg:null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.message,open:!0,variant:"error"}),n((e=>!e))):(n((e=>!e)),f(-1),t())})))},children:l("delete")})]}),(0,g.jsx)(_.Z,{eventState:r,eventStateHandler:u})]})},Z=()=>{var e,t,s,i,l,a,d,m,x,_,j,p,Z;const{t:N}=(0,v.$G)(),y=(0,c.UO)(),[b,S]=(0,h.useState)(!1),I=(0,c.TH)(),{instituteDepartmentDashboard:T,instituteDepartmentDashboardRefetch:C}=(0,u.Id)({data:{did:null===(e=I.state)||void 0===e?void 0:e.departmentId},skip:!(null!==(t=I.state)&&void 0!==t&&t.departmentId)}),A=()=>{S((e=>!e))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:n.Z.iadds_continer,children:[(0,g.jsx)("img",{src:"".concat(r.wP,"/cover.svg"),alt:"department cover icon",className:n.Z.iads_cover}),(0,g.jsx)(o.rU,{to:"/q/".concat(y.username,"/institute/member/academic/department/detail?a=site"),state:I.state,style:{textDecoration:"none"},children:(0,g.jsx)("img",{className:n.Z.iaddsc_globe,src:"".concat(r.wP,"/globe.svg"),alt:"edit icon"})}),(0,g.jsx)("img",{className:n.Z.iaddsc_edit,src:"".concat(r.wP,"/edit.svg"),alt:"edit icon",onClick:A})]}),(0,g.jsx)("section",{className:n.Z.iads_card,style:{marginTop:"-1.5rem",borderTopLeftRadius:"1rem",borderTopRightRadius:"1rem",backgroundColor:"#ffffff",position:"relative",padding:"0"},children:(0,g.jsx)("section",{className:"".concat(n.Z.iads_card," ").concat(n.Z.iads_card_active),children:(0,g.jsxs)("div",{className:n.Z.iadsc_inner,children:[(0,g.jsx)("h6",{children:"".concat(null===T||void 0===T?void 0:T.dTitle,": ").concat(null!==(s=null===T||void 0===T||null===(i=T.dHead)||void 0===i?void 0:i.staffFirstName)&&void 0!==s?s:""," ").concat(null!==(l=null===T||void 0===T||null===(a=T.dHead)||void 0===a?void 0:a.staffMiddleName)&&void 0!==l?l:""," ").concat(null!==(d=null===T||void 0===T||null===(m=T.dHead)||void 0===m?void 0:m.staffLastName)&&void 0!==d?d:"")}),(0,g.jsx)("p",{style:{color:"#121212",fontSize:"12px"},children:(null===T||void 0===T||null===(x=T.active_academic_batch)||void 0===x?void 0:x.batchName)||N("not_active_batch")})]})})}),(0,g.jsxs)("section",{className:n.Z.iads_card,children:[(0,g.jsxs)("div",{className:n.Z.iadsc_inner,children:[(0,g.jsx)("h6",{children:N("classrooms")}),(0,g.jsx)("p",{children:N("class_in_batch")})]}),(0,g.jsx)("h6",{children:(null===T||void 0===T||null===(_=T.departmentSelectBatch)||void 0===_||null===(j=_.classroom)||void 0===j?void 0:j.length)||0})]}),(0,g.jsxs)("section",{className:n.Z.iads_card,children:[(0,g.jsxs)("div",{className:n.Z.iadsc_inner,children:[(0,g.jsx)("h6",{children:N("total_staffs")}),(0,g.jsx)("p",{children:N("active_staff")})]}),(0,g.jsx)("h6",{children:(null===T||void 0===T?void 0:T.staffCount)||0})]}),(0,g.jsxs)("section",{className:n.Z.iads_card,style:{borderBottom:"0"},children:[(0,g.jsxs)("div",{className:n.Z.iadsc_inner,children:[(0,g.jsx)("h6",{children:N("total_students")}),(0,g.jsx)("p",{children:N("student_studying")})]}),(0,g.jsx)("h6",{children:(null===T||void 0===T||null===(p=T.departmentSelectBatch)||void 0===p||null===(Z=p.ApproveStudent)||void 0===Z?void 0:Z.length)||0})]}),b&&(0,g.jsx)(f,{onClose:A,menuData:T,onRefetch:C})]})};var N=s(55336);const y=()=>{const e=(0,c.UO)(),{t:t}=(0,v.$G)(),[s]=(0,o.lr)(),i=(0,c.TH)();return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("section",{className:n.Z.iadt_container,children:[(0,g.jsx)(o.rU,{to:"/q/".concat(e.username,"/institute/member/academic/department/detail?type=cls"),className:"cls"!==s.get("type")&&s.get("type")?n.Z.iadtc_card:"".concat(n.Z.iadtc_card," ").concat(n.Z.iadtc_card_active),style:{borderTopLeftRadius:"6px"},state:i.state,children:(0,g.jsx)("h6",{children:t("class")})}),(0,g.jsx)(o.rU,{to:"/q/".concat(e.username,"/institute/member/academic/department/detail?type=master"),className:"master"===s.get("type")?"".concat(n.Z.iadtc_card," ").concat(n.Z.iadtc_card_active):n.Z.iadtc_card,state:i.state,children:(0,g.jsx)("h6",{children:t("masters")})}),(0,g.jsx)(o.rU,{to:"/q/".concat(e.username,"/institute/member/academic/department/detail?type=batch"),className:"batch"===s.get("type")?"".concat(n.Z.iadtc_card," ").concat(n.Z.iadtc_card_active):n.Z.iadtc_card,state:i.state,children:(0,g.jsx)("h6",{children:t("batches")})}),(0,g.jsx)(o.rU,{to:"/q/".concat(e.username,"/institute/member/academic/department/detail?type=staff"),className:"staff"===s.get("type")?"".concat(n.Z.iadtc_card," ").concat(n.Z.iadtc_card_active):n.Z.iadtc_card,state:i.state,children:(0,g.jsx)("h6",{children:t("staffs")})}),(0,g.jsx)(o.rU,{to:"/q/".concat(e.username,"/institute/member/academic/department/detail?type=student"),className:"student"===s.get("type")?"".concat(n.Z.iadtc_card," ").concat(n.Z.iadtc_card_active):n.Z.iadtc_card,style:{borderTopRightRadius:"6px"},state:i.state,children:(0,g.jsx)("h6",{children:t("students")})})]})})};var b=s(15233),S=s(19910),I=s(68190),T=s(87732),C=s(49984);const A=e=>{var t,s,i,l,a;let{instituteId:n,selectBatchId:d}=e;const[r]=(0,o.lr)(),v=(0,c.TH)();return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(h.Suspense,{fallback:(0,g.jsx)(N.Z,{}),children:[(0,g.jsx)(y,{}),"staff"===r.get("type")?(0,g.jsx)(b.Z,{did:null===(t=v.state)||void 0===t?void 0:t.departmentId}):"student"===r.get("type")?(0,g.jsx)(S.Z,{did:null===(s=v.state)||void 0===s?void 0:s.departmentId}):"batch"===r.get("type")?(0,g.jsx)(I.default,{did:null===(i=v.state)||void 0===i?void 0:i.departmentId,selectBatchId:d}):"master"===r.get("type")?(0,g.jsx)(T.default,{did:null===(l=v.state)||void 0===l?void 0:l.departmentId,instituteId:n}):"cls"!==r.get("type")&&r.get("type")?null:(0,g.jsx)(C.default,{did:null===(a=v.state)||void 0===a?void 0:a.departmentId,instituteId:n})]})})};var E=s(90136);const k=()=>{var e,t,s,i,l,a,d;const{t:o}=(0,v.$G)(),h=(0,c.TH)(),{academicClassDetail:m}=(0,u.$3)({data:{cid:null===(e=h.state)||void 0===e?void 0:e.clsId,did:null===(t=h.state)||void 0===t?void 0:t.departmentId},skip:null!==(s=h.state)&&void 0!==s&&s.clsId?!(null!==(l=h.state)&&void 0!==l&&l.departmentId):!(null!==(i=h.state)&&void 0!==i&&i.clsId)});return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:n.Z.iadds_continer,children:(0,g.jsx)("img",{src:"".concat(r.wP,"/cls-cover.svg"),alt:"department cover icon",className:n.Z.iads_cover})}),(0,g.jsx)("section",{className:n.Z.iads_card,style:{marginTop:"-1.5rem",borderTopLeftRadius:"1rem",borderTopRightRadius:"1rem",backgroundColor:"#ffffff",position:"relative",padding:"0"},children:(0,g.jsx)("section",{className:"".concat(n.Z.iads_card," ").concat(n.Z.iads_card_active),children:(0,g.jsx)("div",{className:n.Z.iadsc_inner,children:(0,g.jsx)("h6",{children:null!==(a=null===(d=h.state)||void 0===d?void 0:d.clsName)&&void 0!==a?a:""})})})}),(0,g.jsxs)("section",{className:n.Z.iads_card,children:[(0,g.jsxs)("div",{className:n.Z.iadsc_inner,children:[(0,g.jsx)("h6",{children:o("total_students")}),(0,g.jsx)("p",{children:o("student_studying_in_class")})]}),(0,g.jsx)("h6",{children:(null===m||void 0===m?void 0:m.all_student)||0})]}),(0,g.jsxs)("section",{className:n.Z.iads_card,children:[(0,g.jsxs)("div",{className:n.Z.iadsc_inner,children:[(0,g.jsx)("h6",{children:o("total_theory_classes")}),(0,g.jsx)("p",{children:o("total_theory_classes_in")})]}),(0,g.jsx)("h6",{children:(null===m||void 0===m?void 0:m.theory_classes)||0})]}),(0,g.jsxs)("section",{className:n.Z.iads_card,style:{borderBottom:"0"},children:[(0,g.jsxs)("div",{className:n.Z.iadsc_inner,children:[(0,g.jsx)("h6",{children:o("total_practical_batches")}),(0,g.jsx)("p",{children:o("total_practical_batches_in")})]}),(0,g.jsx)("h6",{children:(null===m||void 0===m?void 0:m.practical_batch)||0})]})]})};var D=s(53277),P=s(23558);const R=()=>{const e=(0,c.UO)(),t=(0,c.TH)(),[s]=(0,o.lr)();return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(D.Z,{customStyle:{borderTopLeftRadius:"6px",borderTopRightRadius:"6px"},children:w.map((i=>(0,g.jsx)(P.Z,{label:i.label,isLink:!0,isActive:"student"===i.id&&!s.get("n")||s.get("n")===i.id,parentState:t.state,url:"/q/".concat(e.username,"/institute/member/academic/department/detail?type=cls-detail").concat(i.urlKey),isAuthorized:!0},null===i||void 0===i?void 0:i.id)))})})},w=[{label:"students",id:"student",urlKey:""},{label:"dse_student",id:"dse",urlKey:"&n=dse"},{label:"theory_classes",id:"theory",urlKey:"&n=theory"},{label:"practical_batches",id:"practical",urlKey:"&n=practical"}];var B=s(78911),F=s(14747),L=s(78378),H=s(17695);const U=()=>{var e,t,s,i;const l=(0,c.TH)(),[a]=(0,o.lr)();return(0,g.jsx)(g.Fragment,{children:a.get("n")?"dse"===a.get("n")?(0,g.jsx)(H.Z,{clsId:null===(t=l.state)||void 0===t?void 0:t.clsId}):"theory"===a.get("n")?(0,g.jsx)(L.Z,{clsId:null===(s=l.state)||void 0===s?void 0:s.clsId,instituteId:l.state.instituteId}):"practical"===a.get("n")?(0,g.jsx)(F.Z,{clsId:null===(i=l.state)||void 0===i?void 0:i.clsId,instituteId:l.state.instituteId}):null:(0,g.jsx)(B.Z,{clsId:null===(e=l.state)||void 0===e?void 0:e.clsId})})};var G=s(1844),$=s(36077);const M=()=>{var e,t;const[s]=(0,o.lr)(),r=(0,c.TH)();return(0,g.jsx)(i.Z,{children:(0,g.jsxs)(l.Z,{children:[(0,g.jsx)("div",{className:n.Z.iadc_side,children:(0,g.jsxs)(d.default,{customStyle:{minHeight:"fit-content",paddingBottom:"0"},children:[(0,g.jsx)(a.Z,{customStyle:{width:"100%",marginTop:"0"}}),(0,g.jsx)(k,{})]})}),(0,g.jsx)("div",{className:n.Z.iadc_main,children:(0,g.jsx)(d.default,{customStyle:{paddingBottom:"0"},children:"theory-detail"===s.get("n")?(0,g.jsx)(G.default,{clsId:null===(e=r.state)||void 0===e?void 0:e.clsId,instituteId:r.state.instituteId}):"practical-detail"===s.get("n")?(0,g.jsx)($.default,{clsId:null===(t=r.state)||void 0===t?void 0:t.clsId,instituteId:r.state.instituteId}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(R,{}),(0,g.jsx)(U,{})]})})})]})})},J=()=>{var e,t,s,r;const[v]=(0,o.lr)(),h=(0,c.TH)(),{instituteDepartmentDashboard:m}=(0,u.Id)({data:{did:null===(e=h.state)||void 0===e?void 0:e.departmentId},skip:!(null!==(t=h.state)&&void 0!==t&&t.departmentId)});return(0,g.jsx)(g.Fragment,{children:"site"===v.get("a")?(0,g.jsx)(E.Z,{did:null===(s=h.state)||void 0===s?void 0:s.departmentId,viewAs:"INSTITUTE",isNavbar:!0}):"cls-detail"===v.get("type")?(0,g.jsx)(M,{}):(0,g.jsx)(i.Z,{children:(0,g.jsxs)(l.Z,{children:[(0,g.jsx)("div",{className:n.Z.iadc_side,children:(0,g.jsxs)(d.default,{customStyle:{minHeight:"fit-content",paddingBottom:"0"},children:[(0,g.jsx)(a.Z,{customStyle:{width:"100%",marginTop:"0"}}),(0,g.jsx)(Z,{})]})}),(0,g.jsx)("div",{className:n.Z.iadc_main,children:(0,g.jsx)(d.default,{customStyle:{paddingBottom:"0"},children:(0,g.jsx)(A,{instituteId:null===m||void 0===m?void 0:m.institute,selectBatchId:null===m||void 0===m||null===(r=m.active_academic_batch)||void 0===r?void 0:r._id})})})]})})})}},15233:(e,t,s)=>{s.d(t,{Z:()=>N});var i=s(39230),l=s(72791),a=s(23441),n=s(98684),d=s(56959),c=s(90904),o=s(21348),r=s(77302),v=s(91427),u=s(57588),h=s(2651),m=s(55336),x=s(1669),_=s(16871),j=s(43504),p=s(9228),g=s(1095),f=s(80184);const Z=e=>{var t,s,l,a;let{staff:d,openAs:c}=e;const o=(0,_.UO)(),{t:r}=(0,i.$G)();return(0,f.jsx)(j.rU,{to:"/q/".concat(o.username,"/staff/profile"),state:{sid:null===d||void 0===d?void 0:d._id,viewAs:c||"INSTITUTE"},children:(0,f.jsx)("div",{className:p.Z.iadcc_card_hover,children:(0,f.jsxs)("div",{className:p.Z.sf_card_contatiner,children:[(0,f.jsx)("img",{src:null!==d&&void 0!==d&&d.staffProfilePhoto?"".concat(g.yI,"/").concat(d.staffProfilePhoto):"".concat(n.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar",style:{width:"2.5rem",height:"2.5rem"}}),(0,f.jsxs)("div",{className:p.Z.sf_card_contatiner_inner,children:[(0,f.jsx)("h6",{children:"".concat(null!==(t=null===d||void 0===d?void 0:d.staffFirstName)&&void 0!==t?t:""," ").concat(null!==(s=null===d||void 0===d?void 0:d.staffMiddleName)&&void 0!==s?s:""," ").concat(null!==(l=null===d||void 0===d?void 0:d.staffLastName)&&void 0!==l?l:"")}),(0,f.jsxs)("p",{children:[r("index_number")," ",": ",null!==(a=null===d||void 0===d?void 0:d.staffROLLNO)&&void 0!==a?a:""]})]})]})})})},N=e=>{var t,s,_;let{did:j,openAs:p}=e;const{t:g}=(0,i.$G)(),[N,y]=(0,l.useState)(""),[b,S]=(0,l.useState)(1),[I,T]=(0,l.useState)(!0),[C,A]=(0,a.YD)({skip:N}),{academicDepartmentAllStaff:E,academicDepartmentAllStaffLoading:k}=(0,r.MA)({data:{did:j,page:b,limit:10,search:N},skip:!j});(0,l.useEffect)((()=>{A&&I&&S((e=>e+1))}),[A,I]),(0,l.useEffect)((()=>{var e;if(null!==E&&void 0!==E&&null!==(e=E.list)&&void 0!==e&&e.length){var t;let e=(0,v.f)(null===E||void 0===E||null===(t=E.list)||void 0===t?void 0:t.length);T((()=>e))}}),[null===E||void 0===E?void 0:E.list]);const D=(0,l.useCallback)((0,u.J)((e=>{S((()=>1)),y(e)}),1500),[]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(o.Z,{customStyle:"DEPARTMENT_HEAD"===p?{padding:"0",paddingTop:"1rem"}:{paddingTop:"1rem"},children:(0,f.jsx)("div",{className:d.Z.fm_search_full,children:(0,f.jsx)("section",{className:d.Z.fm_search_full_container,children:(0,f.jsxs)("div",{className:d.Z.fm_search_full_container_inner,children:[(0,f.jsx)("img",{className:d.Z.fm_search_full_icon,alt:"search icon",src:"".concat(n.dB,"/navbar-search.svg")}),(0,f.jsx)("input",{type:"text",placeholder:g("search"),onChange:e=>{e.target.value?D(e.target.value):(S((()=>1)),y(""))}})]})})})}),(0,f.jsx)(c.Z,{}),(0,f.jsxs)(o.Z,{customStyle:"DEPARTMENT_HEAD"===p?{padding:"0",paddingBottom:"1rem"}:{paddingTop:"0.3rem",paddingBottom:"1rem"},children:[null===E||void 0===E||null===(t=E.list)||void 0===t?void 0:t.map(((e,t)=>{var s;return(null===E||void 0===E||null===(s=E.list)||void 0===s?void 0:s.length)===t+1?(0,f.jsx)("div",{ref:C,children:(0,f.jsx)(Z,{staff:e,openAs:p})},null===e||void 0===e?void 0:e._id):(0,f.jsx)(Z,{staff:e,openAs:p},null===e||void 0===e?void 0:e._id)})),k?N?(0,f.jsx)(m.Z,{}):(0,f.jsx)(x.Z,{}):N?0===(null===E||void 0===E||null===(s=E.list)||void 0===s?void 0:s.length)&&(0,f.jsx)(h.Z,{title:"No staff found related this search."}):0===(null===E||void 0===E||null===(_=E.list)||void 0===_?void 0:_.length)&&(0,f.jsx)(h.Z,{title:"No staff."})]})]})}},19910:(e,t,s)=>{s.d(t,{Z:()=>N});var i=s(39230),l=s(72791),a=s(23441),n=s(98684),d=s(56959),c=s(90904),o=s(21348),r=s(77302),v=s(91427),u=s(57588),h=s(2651),m=s(55336),x=s(1669),_=s(16871),j=s(43504),p=s(9228),g=s(1095),f=s(80184);const Z=e=>{var t,s,l,a;let{student:d,openAs:c}=e;const o=(0,_.UO)(),{t:r}=(0,i.$G)();return(0,f.jsx)(j.rU,{to:"/q/".concat(o.username,"/student/profile"),state:{sid:null===d||void 0===d?void 0:d._id,viewAs:c?"SUBJECT_TEACHER":"INSTITUTE"},children:(0,f.jsx)("div",{className:p.Z.iadcc_card_hover,children:(0,f.jsxs)("div",{className:p.Z.sf_card_contatiner,children:[(0,f.jsx)("img",{src:null!==d&&void 0!==d&&d.studentProfilePhoto?"".concat(g.yI,"/").concat(d.studentProfilePhoto):"".concat(n.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar",style:{width:"2.5rem",height:"2.5rem"}}),(0,f.jsxs)("div",{className:p.Z.sf_card_contatiner_inner,children:[(0,f.jsx)("h6",{children:"".concat(null!==(t=null===d||void 0===d?void 0:d.studentFirstName)&&void 0!==t?t:""," ").concat(null!==(s=null===d||void 0===d?void 0:d.studentMiddleName)&&void 0!==s?s:""," ").concat(null!==(l=null===d||void 0===d?void 0:d.studentLastName)&&void 0!==l?l:"")}),(0,f.jsxs)("p",{children:[r("gr_number")," ",": ",null!==(a=null===d||void 0===d?void 0:d.studentGRNO)&&void 0!==a?a:""]})]})]})})})},N=e=>{var t,s,_;let{did:j,openAs:p}=e;const{t:N}=(0,i.$G)(),[y,b]=(0,l.useState)(""),[S,I]=(0,l.useState)(1),[T,C]=(0,l.useState)(!0),[A,E]=(0,a.YD)({skip:y}),[k,D]=(0,l.useState)(!1),[P]=(0,r.Jz)(),{academicDepartmentAllStudent:R,academicDepartmentAllStudentLoading:w}=(0,r._r)({data:{did:j,page:S,limit:10,search:y},skip:!j});(0,l.useEffect)((()=>{E&&T&&I((e=>e+1))}),[E,T]),(0,l.useEffect)((()=>{var e;if(null!==R&&void 0!==R&&null!==(e=R.list)&&void 0!==e&&e.length){var t;let e=(0,v.f)(null===R||void 0===R||null===(t=R.list)||void 0===t?void 0:t.length);C((()=>e))}}),[null===R||void 0===R?void 0:R.list]);const B=(0,l.useCallback)((0,u.J)((e=>{I((()=>1)),b(e)}),1500),[]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(o.Z,{customStyle:"DEPARTMENT_HEAD"===p?{padding:"0",paddingTop:"1rem"}:{paddingTop:"1rem"},children:(0,f.jsxs)("div",{className:d.Z.fm_search_full,children:[(0,f.jsx)("section",{className:d.Z.fm_search_full_container,children:(0,f.jsxs)("div",{className:d.Z.fm_search_full_container_inner,children:[(0,f.jsx)("img",{className:d.Z.fm_search_full_icon,alt:"search icon",src:"".concat(n.dB,"/navbar-search.svg")}),(0,f.jsx)("input",{type:"text",placeholder:N("search"),onChange:e=>{e.target.value?B(e.target.value):(I((()=>1)),b(""))}})]})}),(0,f.jsx)("img",{src:"".concat(n.J7,"/export.svg"),alt:"icon",title:"List Export",onClick:()=>{j&&(D((e=>!e)),P({did:j}).then((e=>{var t;if(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.set){var s;D((e=>!e));const t=window.open("".concat(g.LS,"/").concat(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.set),"_blank","noopener,noreferrer");t&&(t.opener=null)}else D((e=>!e))})).catch({}))}})]})}),(0,f.jsx)(c.Z,{}),(0,f.jsxs)(o.Z,{customStyle:"DEPARTMENT_HEAD"===p?{padding:"0",paddingBottom:"1rem"}:{paddingTop:"0.3rem",paddingBottom:"1rem"},children:[null===R||void 0===R||null===(t=R.list)||void 0===t?void 0:t.map(((e,t)=>{var s;return(null===R||void 0===R||null===(s=R.list)||void 0===s?void 0:s.length)===t+1?(0,f.jsx)("div",{ref:A,children:(0,f.jsx)(Z,{student:e,openAs:p})},null===e||void 0===e?void 0:e._id):(0,f.jsx)(Z,{student:e,openAs:p},null===e||void 0===e?void 0:e._id)})),w?y?(0,f.jsx)(m.Z,{}):(0,f.jsx)(x.Z,{}):y?0===(null===R||void 0===R||null===(s=R.list)||void 0===s?void 0:s.length)&&(0,f.jsx)(h.Z,{title:"No student found related this search."}):0===(null===R||void 0===R||null===(_=R.list)||void 0===_?void 0:_.length)&&(0,f.jsx)(h.Z,{title:"No student."})]}),k&&(0,f.jsx)(m.Z,{})]})}},55369:(e,t,s)=>{s.d(t,{Z:()=>g});var i=s(72791),l=s(39230),a=s(90702),n=s(38857),d=s(21348),c=s(90904),o=s(93638),r=s(55336),v=s(16925),u=s(98684),h=s(57431),m=s(1095),x=s(61055),_=s(99183),j=s(77302),p=s(80184);const g=e=>{var t,s,g,f;let{instituteId:Z,onClose:N,onRefetch:y,onEditAction:b,menuData:S,isEdit:I}=e;const{t:T}=(0,l.$G)(),[C,A]=(0,i.useState)({dName:"",dTitle:"",sid:"",gr_initials:""}),[E,k]=(0,i.useState)(""),[D,P]=(0,i.useState)(1),[R,w]=(0,i.useState)(""),[B,F]=(0,i.useState)(!1),[L]=(0,j.ef)();(0,i.useEffect)((()=>{var e,t,s,i,l;I&&S&&(A({dName:null!==(e=null===S||void 0===S?void 0:S.dName)&&void 0!==e?e:"",dTitle:null!==(t=null===S||void 0===S?void 0:S.dTitle)&&void 0!==t?t:"",sid:null!==(s=null===S||void 0===S||null===(i=S.dHead)||void 0===i?void 0:i._id)&&void 0!==s?s:"",gr_initials:null!==(l=null===S||void 0===S?void 0:S.gr_initials)&&void 0!==l?l:""}),k(null===S||void 0===S?void 0:S.dHead))}),[I,S]);const H=(e,t)=>{var s;(null===(s=e.target.value)||void 0===s?void 0:s.length)<=t&&A((t=>({...t,[e.target.name]:e.target.value})))};return(0,p.jsx)(p.Fragment,{children:3===D?(0,p.jsx)(a.Z,{onSelectStaff:e=>{k(e),A((t=>({...t,sid:null===e||void 0===e?void 0:e._id}))),P(2)},onClose:()=>P(2),instituteId:Z}):(0,p.jsx)(n.Z,{onClose:N,children:(0,p.jsxs)("div",{className:v.Z.modal_container,children:[(0,p.jsx)(d.Z,{children:(0,p.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,p.jsx)("div",{className:v.Z.modal_container_header,children:(0,p.jsx)("h6",{children:T(I?"edit_department":"add_new_dept")})}),(0,p.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:N})]})}),(0,p.jsx)(c.Z,{}),(0,p.jsxs)(d.Z,{customStyle:{paddingTop:"0"},children:[(0,p.jsx)(x.Z,{label:T("department_name"),placeholder:T("dept_example"),name:"dName",value:C.dName,type:"text",onChange:e=>H(e,45),errorShow:R.dName}),(0,p.jsx)(h.Z,{maxLength:45,valueLength:C.dName}),(0,p.jsxs)("div",{className:v.Z.card_container_image,onClick:()=>P(3),style:{cursor:"pointer"},children:[(0,p.jsx)("img",{alt:"not found",src:null!==E&&void 0!==E&&E.staffProfilePhoto?"".concat(m.yI,"/").concat(E.staffProfilePhoto):"".concat(u.p3,"/feed-user-avatar.svg")}),(0,p.jsx)("div",{className:v.Z.card_container_inner,children:null!==E&&void 0!==E&&E.staffFirstName?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h6",{children:"".concat(null!==(t=null===E||void 0===E?void 0:E.staffFirstName)&&void 0!==t?t:""," \n                    ").concat(null!==(s=null===E||void 0===E?void 0:E.staffMiddleName)&&void 0!==s?s:"","\n                    ").concat(null!==(g=null===E||void 0===E?void 0:E.staffLastName)&&void 0!==g?g:"")}),(0,p.jsxs)("p",{children:[T("index_number_1")," ",null!==(f=null===E||void 0===E?void 0:E.staffROLLNO)&&void 0!==f?f:""]})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("h6",{children:[T("assign_dhead")," ",T("optional")]}),(0,p.jsx)("p",{children:T("search_from_joined_list")})]})})]}),(0,p.jsx)(x.Z,{label:T("give_dhead_title"),placeholder:T("dhead_example"),name:"dTitle",value:C.dTitle,type:"text",onChange:e=>H(e,40),errorShow:R.dTitle}),(0,p.jsx)(h.Z,{maxLength:40,valueLength:C.dTitle}),(0,p.jsx)(x.Z,{label:T("department_initials"),placeholder:T("department_initials_placeholder"),name:"gr_initials",value:C.gr_initials,type:"text",onChange:e=>H(e,10)}),(0,p.jsx)(h.Z,{maxLength:10,valueLength:C.gr_initials}),(0,p.jsx)(o.Z,{label:I?"update":"create",onAction:()=>{let e=(0,_.l)(C,["sid","gr_initials"]);(0,_.x)(e)?I?b(C):Z&&(F((e=>!e)),L({id:Z,bodyParameter:C}).then((()=>{y(),F((e=>!e)),N()})).catch({})):w(e)}})]}),B&&(0,p.jsx)(r.Z,{})]})})})}},1844:(e,t,s)=>{s.r(t),s.d(t,{default:()=>A});var i=s(39230),l=s(72791),a=s(98684),n=s(56959),d=s(90904),c=s(21348),o=s(77302),r=s(57588),v=s(2651),u=s(55336),h=s(1669),m=s(93638),x=s(89064),_=s(80184);const j=e=>{let{subjectId:t,onClose:s,menuData:a,onRefetch:n}=e;const{t:d}=(0,i.$G)(),[c,r]=(0,l.useState)(!1),[v]=(0,o.Og)();return(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(x.Z,{onClose:s,disabled:c,children:(0,_.jsx)("h6",{onClick:()=>{null!==a&&void 0!==a&&a._id&&t&&(r((e=>!e)),v({sid:t,bodyParameter:{students:[null===a||void 0===a?void 0:a._id]}}).then((()=>{n(),r((e=>!e)),s()})))},children:d("remove")})})})};var p=s(9228),g=s(1095),f=s(16871),Z=s(43504);const N=e=>{var t,s,n,d;let{student:c,openAs:o,onRefetch:r,subjectId:v}=e;const[u,h]=(0,l.useState)(!1),m=(0,f.UO)(),{t:x}=(0,i.$G)(),N=e=>{e&&e.preventDefault(),h((e=>!e))};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(Z.rU,{to:"/q/".concat(m.username,"/student/profile"),state:{sid:null===c||void 0===c?void 0:c._id,viewAs:o?"SUBJECT_TEACHER":"INSTITUTE"},children:(0,_.jsxs)("div",{className:p.Z.iadcc_card_hover,children:[(0,_.jsxs)("div",{className:p.Z.sf_card_contatiner,children:[(0,_.jsx)("img",{src:null!==c&&void 0!==c&&c.studentProfilePhoto?"".concat(g.yI,"/").concat(c.studentProfilePhoto):"".concat(a.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar",style:{width:"2.5rem",height:"2.5rem"}}),(0,_.jsxs)("div",{className:p.Z.sf_card_contatiner_inner,children:[(0,_.jsx)("h6",{children:"".concat(null!==(t=null===c||void 0===c?void 0:c.studentFirstName)&&void 0!==t?t:""," ").concat(null!==(s=null===c||void 0===c?void 0:c.studentMiddleName)&&void 0!==s?s:""," ").concat(null!==(n=null===c||void 0===c?void 0:c.studentLastName)&&void 0!==n?n:"")}),(0,_.jsxs)("p",{children:[x("gr_number")," ",": ",null!==(d=null===c||void 0===c?void 0:c.studentGRNO)&&void 0!==d?d:""]})]})]}),(0,_.jsx)("img",{src:"".concat(a.J7,"/menu.svg"),alt:"menu icon",onClick:N})]})}),u&&(0,_.jsx)(j,{onClose:N,menuData:c,onRefetch:r,subjectId:v})]})};var y=s(59244),b=s(49806),S=s(38857);const I=e=>{var t,s,l,n;let{student:d}=e;const{t:c}=(0,i.$G)();return(0,_.jsx)("div",{className:p.Z.sf_card_hover,children:(0,_.jsxs)("div",{className:p.Z.sf_card_contatiner,children:[(0,_.jsx)("img",{src:null!==d&&void 0!==d&&d.studentProfilePhoto?"".concat(g.yI,"/").concat(d.studentProfilePhoto):"".concat(a.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,_.jsxs)("div",{className:p.Z.sf_card_contatiner_inner,children:[(0,_.jsx)("h6",{children:"".concat(null!==(t=null===d||void 0===d?void 0:d.studentFirstName)&&void 0!==t?t:""," ").concat(null!==(s=null===d||void 0===d?void 0:d.studentMiddleName)&&void 0!==s?s:""," ").concat(null!==(l=null===d||void 0===d?void 0:d.studentLastName)&&void 0!==l?l:"")}),(0,_.jsxs)("p",{children:[c("gr_number")," ",": ",null!==(n=null===d||void 0===d?void 0:d.studentGRNO)&&void 0!==n?n:""]})]})]})})},T=e=>{var t;let{clsId:s,onClose:n,onRefetch:r}=e;const{t:x}=(0,i.$G)(),[j,p]=(0,l.useState)([]),[g,f]=(0,l.useState)(!1),Z=(0,l.useRef)(),N=(0,l.useRef)(),{classMasterAllStudent:y,classMasterAllStudentLoading:T}=(0,o.BQ)({data:{cid:s,page:1,limit:1e3,search:""},skip:!s});(0,l.useEffect)((()=>{null!==y&&void 0!==y&&y.list&&p(null===y||void 0===y?void 0:y.list)}),[null===y||void 0===y?void 0:y.list]);const C=e=>{const t=[...j],s=t[Z.current];t.splice(Z.current,1),t.splice(N.current,0,s),Z.current=null,N.current=null,p(t)};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(S.Z,{onClose:n,children:(0,_.jsxs)("div",{className:b.Z.modal_container,children:[(0,_.jsx)(c.Z,{children:(0,_.jsxs)("div",{className:b.Z.modal_container_outer_header,children:[(0,_.jsx)("div",{className:b.Z.modal_container_header,children:(0,_.jsx)("h6",{children:x("reshuffle_student_list")})}),(0,_.jsxs)("div",{className:b.Z.modal_container_btn_container,children:[(0,_.jsx)(m.Z,{label:x("save_resuffle"),onAction:()=>{},customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,_.jsx)("img",{src:"".concat(a.J7,"/close.svg"),alt:"close icon",onClick:n})]})]})}),(0,_.jsx)(d.Z,{}),(0,_.jsxs)(c.Z,{customStyle:{paddingBottom:"1rem"},children:[null===j||void 0===j?void 0:j.map(((e,t)=>(0,_.jsx)("div",{draggable:!0,onDragStart:e=>{return s=t,void(Z.current=s);var s},onDragEnter:e=>{return s=t,void(N.current=s);var s},onDragEnd:C,children:(0,_.jsx)(I,{student:e})},null===e||void 0===e?void 0:e._id))),T?(0,_.jsx)(h.Z,{}):0===(null===y||void 0===y||null===(t=y.list)||void 0===t?void 0:t.length)&&(0,_.jsx)(v.Z,{title:"No student.",customStyleContainer:{marginTop:"1.5rem"}})]})]})}),g&&(0,_.jsx)(u.Z,{})]})};var C=s(48986);const A=e=>{var t,s,x,j,p,Z,b;let{clsId:S,openAs:I}=e;const{t:A}=(0,i.$G)(),E=(0,f.TH)(),[k,D]=(0,l.useState)(""),[P,R]=(0,l.useState)(!1),[w,B]=(0,l.useState)(!1),[F,L]=(0,l.useState)(!1),[H,U]=(0,l.useState)(!1),[G]=(0,o.dP)(),[$]=(0,o._)(),{oneTheoryClasses:M,oneTheoryClassesRefetch:J,oneTheoryClassesLoading:O}=(0,o.ci)({data:{sid:E.state.subId,search:k},skip:!E.state.subId}),q=(0,l.useCallback)((0,r.J)((e=>{D(e)}),1500),[]),z=()=>{R((e=>!e))},K=()=>{B((e=>!e))},W=()=>{L((e=>!e))},Y=e=>{(null===e||void 0===e?void 0:e.length)>0&&E.state.subId&&(U((e=>!e)),G({sid:E.state.subId,bodyParameter:{students:e}}).then((()=>{J(),U((e=>!e)),z()})).catch({}))};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(c.Z,{children:(0,_.jsxs)("div",{className:n.Z.fm_header_container,children:[(0,_.jsx)("h6",{children:null!==(t=null===(s=E.state)||void 0===s?void 0:s.subjectName)&&void 0!==t?t:""}),(0,_.jsxs)("div",{className:n.Z.fm_search,children:[(0,_.jsx)("section",{className:n.Z.fm_search_container,children:(0,_.jsxs)("div",{className:n.Z.fm_search_container_inner,children:[(0,_.jsx)("img",{className:n.Z.fm_search_icon,alt:"search icon",src:"".concat(a.dB,"/navbar-search.svg")}),(0,_.jsx)("input",{type:"text",placeholder:A("search"),onChange:e=>{e.target.value?q(e.target.value):D("")},style:{minWidth:"200px"}})]})}),(0,_.jsx)(m.Z,{label:A("resuffle"),customStyle:{margin:"0",padding:"0.4rem 1rem",minWidth:"fit-content"},onAction:W}),(0,_.jsx)(m.Z,{label:A("add_student"),customStyle:{margin:"0",padding:"0.4rem 1rem",minWidth:"fit-content"},onAction:z}),(0,_.jsx)(m.Z,{label:A("add_dse_student"),customStyle:{margin:"0",padding:"0.4rem 1rem",minWidth:"fit-content"},onAction:K}),(0,_.jsx)("img",{src:"".concat(a.J7,"/export.svg"),alt:"icon",title:"List Export",onClick:()=>{E.state.subId&&(U((e=>!e)),$({sid:E.state.subId}).then((e=>{var t;if(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.set){var s;U((e=>!e));const t=window.open("".concat(g.LS,"/").concat(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.set),"_blank","noopener,noreferrer");t&&(t.opener=null)}else U((e=>!e))})).catch({}))}})]})]})}),(0,_.jsx)(d.Z,{}),(0,_.jsxs)(c.Z,{customStyle:{paddingTop:"0.3rem",paddingBottom:"1rem"},children:[null===M||void 0===M||null===(x=M.theory_students)||void 0===x?void 0:x.map((e=>(0,_.jsx)(N,{student:e,openAs:I,subjectId:E.state.subId,onRefetch:J},null===e||void 0===e?void 0:e._id))),O?k?(0,_.jsx)(u.Z,{}):(0,_.jsx)(h.Z,{}):k?0===(null===M||void 0===M||null===(j=M.theory_students)||void 0===j?void 0:j.length)&&(0,_.jsx)(v.Z,{title:"No student found related this search."}):0===(null===M||void 0===M||null===(p=M.theory_students)||void 0===p?void 0:p.length)&&(0,_.jsx)(v.Z,{title:"No student."})]}),P&&(0,_.jsx)(y.Z,{onClose:z,clsId:S,onAdd:Y,academicDepartmentId:null===(Z=E.state)||void 0===Z?void 0:Z.departmentId}),w&&(0,_.jsx)(C.Z,{onClose:K,clsId:S,onAdd:Y,academicDepartmentId:null===(b=E.state)||void 0===b?void 0:b.departmentId}),F&&(0,_.jsx)(T,{onClose:W,clsId:S,onRefetch:J}),H&&(0,_.jsx)(u.Z,{})]})}},16184:(e,t,s)=>{s.d(t,{Z:()=>p});var i=s(39230),l=s(16925),a=s(33992),n=s(72791),d=s(99183),c=s(38857),o=s(21348),r=s(90904),v=s(20659),u=s(26071),h=s(61055),m=s(93638),x=s(55336),_=s(98684),j=s(80184);const p=e=>{let{onClose:t,instituteId:s,departmentId:p,onParentClose:f,onReftech:Z}=e;const{t:N}=(0,i.$G)(),[y,b]=(0,n.useState)(""),[S,I]=(0,n.useState)(!1),[T,C]=(0,n.useState)({type:"",flow:""}),[A]=(0,a.Uu)(),E=e=>{C((t=>({...t,flow:e})))};return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(c.Z,{onClose:t,children:(0,j.jsxs)("div",{className:l.Z.modal_container,children:[(0,j.jsx)(o.Z,{children:(0,j.jsxs)("div",{className:l.Z.modal_container_outer_header,children:[(0,j.jsx)("div",{className:l.Z.modal_container_header,children:(0,j.jsx)("h6",{children:N("pin_department")})}),(0,j.jsx)("img",{src:"".concat(_.J7,"/close.svg"),alt:"close icon",onClick:t})]})}),(0,j.jsx)(r.Z,{}),(0,j.jsxs)(o.Z,{customStyle:{paddingTop:"0"},children:[(0,j.jsx)(v.Z,{label:"dependency",children:null===g||void 0===g?void 0:g.map((e=>(0,j.jsx)(u.Z,{tile:e,onTile:E,activeTile:null===T||void 0===T?void 0:T.flow},null===e||void 0===e?void 0:e.key)))}),"DEPENDENT"===T.flow?(0,j.jsx)(h.Z,{label:N("section_name"),placeholder:N("section_name_placeholder"),name:"type",value:T.type,type:"text",onChange:e=>{C((t=>({...t,[e.target.name]:e.target.value})))}}):null,(0,j.jsx)(m.Z,{label:"save",onAction:()=>{let e=(0,d.l)(T,["type"]);(0,d.x)(e)&&p&&s?(I((e=>!e)),A({id:s,bodyParameter:{...T,did:p}}).then((()=>{Z(),I((e=>!e)),f()})).catch({})):b(e)}})]}),S&&(0,j.jsx)(x.Z,{})]})})})},g=[{key:"DEPENDENT",name:"dependent"},{key:"INDEPENDENT",name:"independent"}]},89064:(e,t,s)=>{s.d(t,{Z:()=>c});var i=s(55336),l=s(38857);const a="Modal_modal_menu_card__d0zzt";var n=s(90904),d=s(80184);const c=e=>{let{onClose:t,disabled:s,heading:c,customStyle:o,customBackdropStyle:r,customOverlayStyle:v,children:u}=e;return(0,d.jsx)(l.Z,{onClose:()=>{if(s)return null;t()},customBackdropStyle:r,customOverlayStyle:v,children:(0,d.jsxs)("div",{className:a,style:o,children:[c?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h5",{children:c}),(0,d.jsx)(n.Z,{})]}):null,u,s&&(0,d.jsx)(i.Z,{})]})})}},23558:(e,t,s)=>{s.d(t,{Z:()=>o});var i=s(39230),l=s(51416),a=s(72791),n=s(43504),d=s(80184);const c=e=>{let{label:t,onClick:s,isActive:c,isLink:o,url:r,parentState:v,isAuthorized:u}=e;const{t:h}=(0,i.$G)(),m=(0,a.useCallback)((()=>(s&&s(),null)),[s]);return(0,d.jsx)(d.Fragment,{children:o?(0,d.jsx)(d.Fragment,{children:u?(0,d.jsx)(n.rU,{className:c?l.Z.rectangle_tab_card_active:l.Z.rectangle_tab_card,to:r,state:v,children:h(t)}):(0,d.jsx)("div",{className:l.Z.rectangle_tab_card,style:{opacity:"0.5"},children:h(t)})}):(0,d.jsx)("div",{className:c?l.Z.rectangle_tab_card_active:l.Z.rectangle_tab_card,onClick:m,children:h(t)})})},o=(0,a.memo)(c)},53277:(e,t,s)=>{s.d(t,{Z:()=>a});var i=s(51416),l=s(80184);const a=e=>{let{customStyle:t,children:s}=e;return(0,l.jsx)("div",{className:i.Z.rectangle_tab_wrapper,style:t,children:s})}},26071:(e,t,s)=>{s.d(t,{Z:()=>n});var i=s(51416),l=s(39230),a=s(80184);const n=e=>{let{tile:t,onTile:s,activeTile:n,customTileChild:d}=e;const{t:c}=(0,l.$G)();return(0,a.jsx)("div",{className:(null===t||void 0===t?void 0:t.key)===n?i.Z.tile_tile_active:i.Z.tile_tile,onClick:()=>s(null===t||void 0===t?void 0:t.key),style:d,children:c(null===t||void 0===t?void 0:t.name)})}},20659:(e,t,s)=>{s.d(t,{Z:()=>n});var i=s(51416),l=s(39230),a=s(80184);const n=e=>{let{label:t,customTileLabel:s,customTileContainer:n,customTileStyle:d,errorShow:c,children:o}=e;const{t:r}=(0,l.$G)();return(0,a.jsxs)("div",{className:i.Z.tile_container,style:d,children:[t&&(0,a.jsxs)("h6",{className:i.Z.tile_label,style:s,children:[r(t),c?(0,a.jsxs)("span",{style:{color:"rgb(231, 75, 75)"},children:["* ",r("form_require_label")]}):null]}),(0,a.jsx)("section",{className:i.Z.tile_tile_container,style:n,children:o})]})}},85794:(e,t,s)=>{s.d(t,{Z:()=>r});var i=s(72791),l=s(54164),a=s(15783),n=s(98684),d=s(80184);const c=e=>{let{onClose:t,isVariant:s,isHide:i,children:c}=e;return l.createPortal((0,d.jsx)("div",{children:(0,d.jsx)("div",{className:i?a.Z.notify_hide_overlay:a.Z.notify_overlay,children:(0,d.jsxs)("div",{className:a.Z.notify_container,style:{"--notify-bg-color":s},children:[c,(0,d.jsx)("img",{src:"".concat(n.Fk,"/close-white.svg"),alt:"close icon",onClick:t,className:a.Z.notify_close})]})})}),document.getElementById("notify-alert"))},o={success:"green",error:"#ed4a4a",warning:"orange"},r=e=>{var t;let{eventState:s,eventStateHandler:l}=e;const[n,r]=(0,i.useState)(!1);return null!==s&&void 0!==s&&s.open?(0,d.jsx)(c,{onClose:()=>{r(!0);let e=setTimeout((()=>{l((e=>({...e,open:!1,msg:"",variant:"success"}))),r(!1)}),500);return()=>clearTimeout(e)},isVariant:o[null===s||void 0===s?void 0:s.variant],isHide:n,children:(0,d.jsx)("h6",{className:a.Z.notify_message,children:null!==(t=null===s||void 0===s?void 0:s.msg)&&void 0!==t?t:""})}):null}}}]);
//# sourceMappingURL=44121.2dcb9156.chunk.js.map