"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[17536],{70966:(e,t,s)=>{s.d(t,{Z:()=>p});var a=s(97893),n=s(54155),o=s(4899),i=s(77386),l=s(64554),r=s(4567),c=s(59256),d=s(5849),h=s(72791),u=s(97005),v=s(17107),m=(s(91711),s(80184));const p=e=>{let{setPhotoURL:t,photoURL:s,setFile:p,setOpenCrop:x,setUpload:g,setProfilePhoto:j,first:_,second:S}=e;const[b,Z]=(0,h.useState)({x:0,y:0}),[C,w]=(0,h.useState)(1),[y,L]=(0,h.useState)(0),[k,N]=(0,h.useState)(null);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.Z,{dividers:!0,sx:{background:"#333",position:"relative",height:400,minWidth:580},children:(0,m.jsx)(u.Z,{image:s,crop:b,zoom:C,rotation:y,aspect:_/S,onZoomChange:w,onRotationChange:L,onCropChange:Z,onCropComplete:(e,t)=>{N(t)}})}),(0,m.jsxs)(i.Z,{sx:{flexDirection:"column",mx:3,my:2,width:531},children:[(0,m.jsxs)(l.Z,{sx:{width:"100%",mb:1},children:[(0,m.jsxs)(l.Z,{children:[(0,m.jsxs)(r.Z,{children:["Zoom: ",f(C)]}),(0,m.jsx)(c.ZP,{valueLabelDisplay:"auto",valueLabelFormat:f,min:1,max:3,step:.1,value:C,onChange:(e,t)=>w(t)})]}),(0,m.jsxs)(l.Z,{children:[(0,m.jsxs)(r.Z,{children:["Rotation: ",y+"\xb0"]}),(0,m.jsx)(c.ZP,{valueLabelDisplay:"auto",min:0,max:360,value:y,onChange:(e,t)=>L(t)})]})]}),(0,m.jsxs)(l.Z,{sx:{display:"flex",gap:34,flexWrap:"wrap"},children:[(0,m.jsx)(d.Z,{variant:"outlined",startIcon:(0,m.jsx)(a.Z,{}),onClick:()=>x(!1),children:"Cancel"}),(0,m.jsx)(d.Z,{variant:"contained",startIcon:(0,m.jsx)(n.Z,{}),onClick:async()=>{try{const{file:e,url:a}=await(0,v.ZP)(s,k,y);t(a),p(e),x(!1),g(!0),j(a)}catch(e){console.log(e)}},children:"Upload"})]})]})]})},f=e=>"".concat(Math.round(100*e),"%")},17107:(e,t,s)=>{s.d(t,{ZP:()=>o});const a=e=>new Promise(((t,s)=>{const a=new Image;a.addEventListener("load",(()=>t(a))),a.addEventListener("error",(e=>s(e))),a.setAttribute("crossOrigin","anonymous"),a.src=e}));function n(e){return e*Math.PI/180}async function o(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{horizontal:!1,vertical:!1};const i=await a(e),l=document.createElement("canvas"),r=l.getContext("2d");if(!r)return null;const c=n(s),{width:d,height:h}=function(e,t,s){const a=n(s);return{width:Math.abs(Math.cos(a)*e)+Math.abs(Math.sin(a)*t),height:Math.abs(Math.sin(a)*e)+Math.abs(Math.cos(a)*t)}}(i.width,i.height,s);l.width=d,l.height=h,r.translate(d/2,h/2),r.rotate(c),r.scale(o.horizontal?-1:1,o.vertical?-1:1),r.translate(-i.width/2,-i.height/2),r.drawImage(i,0,0);const u=r.getImageData(t.x,t.y,t.width,t.height);return l.width=t.width,l.height=t.height,r.putImageData(u,0,0),new Promise(((e,t)=>{l.toBlob((t=>{t.name="cropped.jpeg",e({file:t,url:URL.createObjectURL(t)})}),"image/jpeg")}))}},81693:(e,t,s)=>{s.d(t,{Z:()=>i});s(72791);var a=s(39230),n=s(38733),o=s(80184);const i=e=>{let{selectLabel:t,value:s,name:i,onChange:l,selectedValue:r,options:c,optionsValue:d,errorShow:h,customStyleContainer:u,customStyleLabel:v,customStyleInput:m,disabled:p,isNotTranslation:f,openAs:x}=e;const{t:g}=(0,a.$G)();return(0,o.jsxs)("div",{className:n.Z.join_form_container,style:{...u},children:[(0,o.jsxs)("p",{className:n.Z.join_form_select_paragraph,style:{...v},children:[t," ",h&&(0,o.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",g("form_require_label")]})]}),(0,o.jsxs)("select",{className:n.Z.join_form_select,value:s,onChange:l,name:i,disabled:p,style:{...m},children:[(0,o.jsx)("option",{selected:!0,children:r}),f?null===c||void 0===c?void 0:c.map(((e,t)=>(0,o.jsx)("option",{value:e,children:e},t))):"academicSiteInfo"===x?null===c||void 0===c?void 0:c.map(((e,t)=>(0,o.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:"".concat((null===e||void 0===e?void 0:e.staffFirstName)||""," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat((null===e||void 0===e?void 0:e.staffLastName)||"")},t))):null===c||void 0===c?void 0:c.map(((e,t)=>(0,o.jsx)("option",{value:d?d[null===e||void 0===e?void 0:e.keys]:e,children:g(null===e||void 0===e?void 0:e.keys)},t)))]})]})}},12923:(e,t,s)=>{s.d(t,{Ec:()=>j,Em:()=>b,JM:()=>v,NS:()=>o,Pg:()=>m,Q_:()=>g,RH:()=>u,Tv:()=>r,U_:()=>x,VN:()=>i,Wj:()=>d,ZS:()=>h,_8:()=>_,d5:()=>c,tB:()=>f,vI:()=>S,yx:()=>l,zO:()=>p});var a=s(91007),n=s(58208);const o=e=>{const{data:t,refetch:s}=(0,n.YD)(e.search,{skip:e.skip});return{instituteAllSearch:t,instituteAllSearchRefetch:s}},i=()=>{const[e]=(0,n.ak)();return[e]},l=()=>{const[e]=(0,n.WL)();return[e]},r=e=>{const{data:t,refetch:s}=(0,n.pH)(e.list,{skip:e.skip});return{instituteFollowList:t,instituteFollowListRefetch:s}},c=e=>{const{data:t,refetch:s}=(0,n.MG)(e.data,{skip:e.skip});return{instituteOwnFollowingList:t,instituteOwnFollowingListRefetch:s}},d=()=>{const[e]=(0,n.Ky)();return[e]},h=e=>{const{data:t,refetch:s}=(0,n.p8)(e.list);return{userFollowList:t,userFollowListRefetch:s}},u=e=>{const{data:t,refetch:s}=(0,n.Wv)(e);return{userFollowingList:t,userFollowingListRefetch:s}},v=e=>{const{data:t,refetch:s}=(0,n.sz)(e.search,{skip:e.skip});return{userAllSearch:t,userAllSearchRefetch:s}},m=()=>{const[e]=(0,n.Mk)();return[e]},p=()=>{const[e]=(0,n.$i)();return[e]},f=()=>{const[e]=(0,n.Do)();return[e]},x=()=>{const[e]=(0,n.He)();return[e]},g=()=>{const[e]=(0,n.vg)();return[e]},j=()=>{const[e]=(0,n.OO)();return[e]},_=e=>{const{data:t,refetch:s}=(0,n.N2)(e);return{userCircleList:t,userCircleListRefetch:s}},S=e=>{const{data:t,refetch:s}=(0,a.x6)(e.search,{skip:e.skip});return{assignSearchStaff:t,assignSearchStaffRefetch:s}},b=e=>{const{data:t,refetch:s}=(0,n.SJ)(e);return{universalUser:t,universalUserRefetch:s}}},65034:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Z});var a=s(72791),n=s(42190),o=s(20772),i=s(16871),l=s(89792),r=s(39230),c=s(72952),d=s(98734),h=s(98094),u=(s(91007),s(29899)),v=s(97655),m=s(84959),p=s(81622),f=s(81693),x=s(95048),g=s(12923),j=s(70966),_=s(5574),S=s(80184);const b=function(e){var t;let{instituteId:s,nid:n,viewAs:o}=e;const{t:b}=(0,r.$G)(),Z=(0,i.s0)(),C=(0,x.v9)((e=>{var t;return null===(t=e.idChange)||void 0===t?void 0:t.id})),[w,y]=(0,a.useState)(!1),[L]=(0,m.FL)(),[k,N]=(0,a.useState)([]),[I,M]=(0,a.useState)(""),[R,T]=(0,a.useState)(""),[F,A]=(0,a.useState)(""),[P,U]=(0,a.useState)(!1),[D,O]=(0,a.useState)(!1),[E,z]=(0,a.useState)(""),[H]=(0,u.mG)(),[V]=(0,u.XA)(),[W,G]=(0,a.useState)({nss_about:"",nss_photo:"",nss_objective:"",nss_head:"",nss_roles:"",nss_commitee:[]}),[q,B]=(0,a.useState)([]);(0,a.useEffect)((()=>{G((e=>({...e,[I]:q})))}),[q,I]);const{assignSearchStaff:K,assignSearchStaffRefetch:$}=(0,g.vI)({skip:"ADMISSION_ADMIN"===o?!s:!C,search:{search:"",page:1,id:"ADMISSION_ADMIN"===o?s:C,limit:500}}),{getNssSiteInfo:J,getNssSiteInfoRefetch:Q}=(0,u.Sj)({nid:n,skip:!n});(0,a.useEffect)((()=>{D&&(e=>{if(e){y((e=>!e));const t=new FormData;t.append("file",e),L({fileUpload:t}).then((e=>{var t;null!==(t=e.data)&&void 0!==t&&t.imageKey&&G((t=>{var s;return{...t,nss_photo:null===(s=e.data)||void 0===s?void 0:s.imageKey}})),y((e=>!e))})).catch({})}})(F)}),[D,F]);const Y=(e,t)=>{if("name"===e.target.name||"designation"===e.target.name){const s=[...q];for(let a=0;a<(null===s||void 0===s?void 0:s.length);a++)a===t&&(s[a][e.target.name]=e.target.value);B(s)}else G((t=>({...t,[e.target.name]:e.target.value})))};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:l.Z.bgContainer,children:(0,S.jsxs)("div",{className:l.Z.container,children:[(0,S.jsxs)("div",{className:l.Z.containerhead,children:[(0,S.jsx)("h6",{children:b("nss")}),(0,S.jsx)("img",{src:"/images/close-post-icon.svg",alt:"",onClick:()=>{Z(-1)}})]}),(0,S.jsx)(h.Z,{customStyle:{width:"100%",marginBottom:"1rem"}}),(0,S.jsx)("div",{className:l.Z.containercontent,children:(0,S.jsxs)("div",{className:l.Z.container_inner_content,children:[(0,S.jsx)(c.Z,{labelText:b("nss_about"),placeholder:b("nss_about_placeholder"),name:"nss_about",value:W.nss_about,type:"text",onChange:Y,customStyleContainer:{width:"100%"}}),(0,S.jsxs)("div",{className:l.Z.show_field,style:{alignItems:"flex-start"},children:[(0,S.jsx)(f.Z,{selectLabel:b("select_dean_academic"),selectedValue:b("select_dean_placeholder"),value:W.academic_head,name:"nss_head",onChange:Y,options:null===K||void 0===K?void 0:K.staff,openAs:"academicSiteInfo",customStyleContainer:{width:"49.5%"}}),(0,S.jsx)(p.Z,{labelText:b("academic_photo"),name:"dean_academic_photo",value:W.nss_photo,onChange:e=>{if(e.target.files[0]){const t=URL.createObjectURL(e.target.files[0]);A(e.target.files[0]),z(t),T(t),U(!0)}},customStyleContainer:{width:"49.5%"}})]}),(0,S.jsx)(c.Z,{labelText:b("nss_objective"),placeholder:b("nss_objective_placeholder"),name:"nss_objective",value:W.nss_objective,type:"text",onChange:Y,customStyleContainer:{width:"100%"}}),(0,S.jsx)(c.Z,{labelText:b("nss_roles"),placeholder:b("nss_roles_placeholder"),name:"nss_roles",value:W.nss_roles,type:"text",onChange:Y,customStyleContainer:{width:"100%"}}),(0,S.jsxs)("div",{className:l.Z.add_contact_person,children:[(0,S.jsx)("h6",{style:{marginTop:"1.5rem"},children:b("nss_commitee")}),null===W||void 0===W||null===(t=W.nss_commitee)||void 0===t?void 0:t.map(((e,t)=>(0,S.jsx)("div",{children:(0,S.jsxs)("div",{className:l.Z.show_field,children:[(0,S.jsx)(v.Z,{labelText:b("name"),placeholder:b("enter_name"),name:"name",value:null===e||void 0===e?void 0:e.name,type:"text",onChange:e=>Y(e,t),customStyleContainer:{width:"49.5%"}}),(0,S.jsx)(v.Z,{labelText:b("designation"),placeholder:b("designation_details"),name:"designation",value:null===q||void 0===q?void 0:q.designation,type:"text",onChange:e=>Y(e,t),customStyleContainer:{width:"49.5%"}})]})},t)))]}),(0,S.jsx)("button",{className:l.Z.add_contact_person_btn,title:"Add Member",onClick:()=>(e=>{M(e),B([...W[e],{name:"",designation:""}])})("nss_commitee"),children:b("add_member")}),(0,S.jsx)("button",{className:l.Z.update_btn,onClick:()=>{y((e=>!e)),n?V({aid:n,updateSiteInfo:{otherField:W}}).then((()=>{y((e=>!e))})).catch({}):H({id:C,updateSiteInfo:{otherField:W}}).then((()=>{y((e=>!e))})).catch({})},children:b(n?"update":"add")})]})})]})}),w&&(0,S.jsx)(d.Z,{}),(0,S.jsx)(_.Z,{open:P,children:(0,S.jsx)(j.Z,{setPhotoURL:T,photoURL:R,setFile:A,setOpenCrop:U,setUpload:O,setProfilePhoto:z,first:1,second:1})})]})};const Z=function(){var e,t;const s=(0,i.TH)();return(0,S.jsxs)("div",{className:n.Z.insChat,children:[(0,S.jsx)("div",{className:n.Z.navbarr,children:(0,S.jsx)(o.default,{status:"home"})}),"site"===(null===(e=s.search)||void 0===e?void 0:e.substring(3))&&(0,S.jsx)(b,{nid:null===s||void 0===s||null===(t=s.state)||void 0===t?void 0:t.nid,viewAs:"INSTITUTE"})]})}},65543:(e,t,s)=>{s.d(t,{u:()=>n});var a=s(72791);const n=()=>({hideScrollbar:a.useCallback((()=>{}),[]),showScrollbar:a.useCallback((()=>{document.body.style.overflow=""}),[]),scrollToTop:a.useCallback((()=>{window.scrollTo(0,0)}),[])})},94811:(e,t,s)=>{s.d(t,{Q0:()=>n,a4:()=>a,yY:()=>o});const a="POST",n="PATCH",o="DELETE"},54155:(e,t,s)=>{var a=s(64836);t.Z=void 0;var n=a(s(45649)),o=s(80184),i=(0,n.default)((0,o.jsx)("path",{d:"M17 15h2V7c0-1.1-.9-2-2-2H9v2h8v8zM7 17V1H5v4H1v2h4v10c0 1.1.9 2 2 2h10v4h2v-4h4v-2H7z"}),"Crop");t.Z=i},97893:(e,t,s)=>{s.d(t,{Z:()=>o});var a=s(74223),n=s(80184);const o=(0,a.Z)((0,n.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel")},91711:()=>{}}]);
//# sourceMappingURL=17536.646a520b.chunk.js.map