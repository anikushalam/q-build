"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[6433],{76433:function(e,n,i){i.r(n),i.d(n,{default:function(){return F}});var o=i(93433),c=i(29439),s=i(72791),t=i(39230),l=i(23441),a=i(78687),d=i(11105),r=i(14304),m=i(1413),u={incomeForm:"IncomeForm_incomeForm__W0gSL",top:"IncomeForm_top__GGkX6",mid:"IncomeForm_mid__8365k",row:"IncomeForm_row__rEE2P",input:"IncomeForm_input__Mw-NN",down:"IncomeForm_down__pxSP2",options:"IncomeForm_options__yGnkn",option:"IncomeForm_option__XmUaM",aadhar:"IncomeForm_aadhar__s2Dpw",btn:"IncomeForm_btn__f3m-H",row_search:"IncomeForm_row_search__Zc2Tu"},v=i(14124),h=i(98734),_=i(80184),x={position:"relative",zIndex:1},f={position:"absolute",right:"0",top:"2.2vw",zIndex:10},p={position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10};function j(e){var n=e.setIncomeData,i=e.open,o=e.onClose,c=e.incomeData,s=e.setIsOpen,l=(0,t.$G)().t;return i?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{onClick:o,style:p}),(0,_.jsxs)("div",{style:f,className:u.options,children:[(0,_.jsx)("div",{className:u.option,onClick:function(){n((0,m.Z)((0,m.Z)({},c),{},{tMode:"By Cash"})),s(!1)},children:l("by_cash")}),(0,_.jsx)("div",{className:u.option,onClick:function(){n((0,m.Z)((0,m.Z)({},c),{},{tMode:"By Bank"})),s(!1)},children:l("by_bank")})]})]}):null}var I=function(e){var n=e.onRefetchWhenCreateIncome,i=e.setViewIndex,o=(0,t.$G)().t,l=(0,a.useSelector)((function(e){return e.financeChange})),d=(0,r.pq)(),f=(0,c.Z)(d,1)[0],p=(0,s.useState)(!1),I=(0,c.Z)(p,2),g=I[0],N=I[1],w=(0,s.useState)(!1),C=(0,c.Z)(w,2),Z=C[0],b=C[1],y=(0,s.useState)(""),F=(0,c.Z)(y,2),k=F[0],S=F[1],D=(0,s.useState)(!1),T=(0,c.Z)(D,2),B=T[0],L=T[1],R=document.querySelector("textarea");null===R||void 0===R||R.addEventListener("keyup",(function(e){R.style.height="auto";var n=e.target.scrollHeight;R.style.height="".concat(n,"px")}));var M=(0,s.useState)({tMode:""}),A=(0,c.Z)(M,2),V=A[0],E=A[1],G=(0,s.useState)(""),q=(0,c.Z)(G,2),H=q[0],O=q[1],P=(0,s.useState)({incomeFrom:"",incomeAmount:"",incomePurpose:"",incomeDesc:""}),U=(0,c.Z)(P,2),W=U[0],$=U[1];return(0,_.jsxs)("div",{className:u.incomeForm,children:[(0,_.jsx)("div",{className:u.top,children:o("add_receipt")}),(0,_.jsx)("form",{onSubmit:function(e){e.preventDefault(),L((function(e){return!e}));var o=new FormData;o.append("incomeAmount",W.incomeAmount),k||o.append("incomeFrom",W.incomeFrom),o.append("incomeDesc",W.incomeDesc),o.append("incomeAccount",V.tMode),o.append("file",H),o&&f({fData:o,fid:null===l||void 0===l?void 0:l.fid,user_query:k}).then((function(e){e.data.status&&(n(),i(0),L((function(e){return!e})))})).catch((function(){L((function(e){return!e}))}))},children:(0,_.jsxs)("div",{className:u.mid,children:[(0,_.jsxs)("div",{className:u.row,children:[(0,_.jsx)("h6",{children:o("select_transaction_mode")}),(0,_.jsxs)("div",{className:u.input,style:x,children:[(0,_.jsxs)("div",{children:[""!==(null===V||void 0===V?void 0:V.tMode)?(0,_.jsx)("h6",{onClick:function(){return N(!0)},children:V.tMode}):(0,_.jsxs)("h6",{onClick:function(){return N(!0)},children:[" ",o("please_select_transaction_mode")]}),(0,_.jsx)("img",{className:u.down,src:"/images/downn-icon.svg",alt:""})]}),(0,_.jsx)(j,{open:g,onClose:function(){return N(!1)},setIncomeData:E,incomeData:V,setIsOpen:N})]})]}),(0,_.jsxs)("div",{className:u.row,children:[(0,_.jsx)("h6",{children:o("amount")}),(0,_.jsx)("input",{type:"number",name:"incomeAmount",min:"1",placeholder:o("enter_amount"),value:W.incomeAmount,onChange:function(e){return $((0,m.Z)((0,m.Z)({},W),{},{incomeAmount:e.target.value}))},required:!0})]}),(0,_.jsxs)("div",{className:u.row,children:[(0,_.jsxs)("h6",{children:[o("from")," ",(0,_.jsxs)("span",{className:u.row_search,onClick:function(){return b(!0)},children:[(0,_.jsx)("img",{style:{width:"16px",height:"16px"},src:"/images/search-icon.svg",alt:"search icon"}),"Search & Select"]})]}),(0,_.jsx)("input",{type:"text",name:"incomeFrom",placeholder:o("enter_income_from"),value:W.incomeFrom,onChange:function(e){$((0,m.Z)((0,m.Z)({},W),{},{incomeFrom:e.target.value})),S("")},required:!0})]}),(0,_.jsxs)("div",{className:u.row,children:[(0,_.jsx)("h6",{children:o("description")}),(0,_.jsx)("textarea",{className:u.postTextarea,type:"text",name:"incomeDesc",placeholder:o("description_details"),value:W.incomeDesc,onChange:function(e){return $((0,m.Z)((0,m.Z)({},W),{},{incomeDesc:e.target.value}))}})]}),(0,_.jsxs)("div",{className:u.row,children:[(0,_.jsx)("h6",{children:o("ack_rcpt")}),(0,_.jsx)("input",{type:"file",className:u.aadhar,name:"file",onChange:function(e){O((function(){return e.target.files[0]}))}})]}),(0,_.jsx)("button",{type:"submit",className:u.btn,children:o("save_receipt")})]})}),Z&&(0,_.jsx)(v.Z,{onClose:function(){return b(!1)},title:"Search User",disabledId:k,assignHead:Z,headSelect:function(e){S(null===e||void 0===e?void 0:e._id),b(!1),$((function(n){return(0,m.Z)((0,m.Z)({},n),{},{incomeFrom:null===e||void 0===e?void 0:e.userLegalName})}))}}),B&&(0,_.jsx)(h.Z,{})]})},g=i(72426),N=i.n(g),w={incomeContainer:"Incomes_incomeContainer__SbU4O",income:"Incomes_income__FOTMn",incomeLeft:"Incomes_incomeLeft__V-9-L",incomeRight:"Incomes_incomeRight__idEvU",incomeLeftt:"Incomes_incomeLeftt__OjpuZ",itemsContainer:"Incomes_itemsContainer__fQImV",rcv:"Incomes_rcv__OS+XD",text:"Incomes_text__6tzWh",btn_sticky:"Incomes_btn_sticky__1or9D",btn:"Incomes_btn__VYWDG",history:"Incomes_history__-f28a",incomeRightt:"Incomes_incomeRightt__sbwF1",incomeTop:"Incomes_incomeTop__BnNrk",right:"Incomes_right__Zne0r",rightHead:"Incomes_rightHead__TN2-s",rightBody:"Incomes_rightBody__AgRhB",detail:"Incomes_detail__39li9",detailTop:"Incomes_detailTop__rTMHm",detailTopLeft:"Incomes_detailTopLeft__130S7",detailTopMid:"Incomes_detailTopMid__MZnqL",visibility:"Incomes_visibility__jRBCa",detailTopRight:"Incomes_detailTopRight__ElMKB",detailContent:"Incomes_detailContent__EjNa6",imagediv:"Incomes_imagediv__KHFNi",backh:"Incomes_backh__9dehK",invoice_number:"Incomes_invoice_number__UPxeM",card_container:"Incomes_card_container__QBJaT",sidebarheader:"Incomes_sidebarheader__Qardc"};function C(e){var n,i=e.income,o=e.setDetailView,c=e.setIncomeId,s=e.all,l=(0,t.$G)().t;return(0,_.jsxs)("div",{onClick:function(){o(!0),c(i)},className:w.card_container,children:[(0,_.jsxs)("h6",{className:w.invoice_number,children:["Invoice No: ",null===s||void 0===s?void 0:s.invoice_number]}),(0,_.jsxs)("div",{className:w.sidebarheader,children:[(0,_.jsxs)("div",{className:w.text,children:[(0,_.jsx)("p",{className:w.rcv,children:l("recived_from")}),(0,_.jsx)("h6",{children:null!==s&&void 0!==s&&s.incomeFrom?null===s||void 0===s?void 0:s.incomeFrom:null===s||void 0===s||null===(n=s.incomeFromUser)||void 0===n?void 0:n.userLegalName}),(0,_.jsx)("p",{className:w.rcv,children:N()(null===s||void 0===s?void 0:s.createdAt).format("LL")})]}),(0,_.jsxs)("div",{className:w.text,children:[(0,_.jsx)("p",{className:w.rcv1}),(0,_.jsxs)("h6",{children:["Rs. ",null===s||void 0===s?void 0:s.incomeAmount]}),(0,_.jsx)("p",{className:w.rcv,children:null===s||void 0===s?void 0:s.incomeAccount})]})]})]})}var Z=s.forwardRef((function(e,n){var i;return(0,_.jsxs)("div",{className:w.incomeLeftt,children:[!(null!==e&&void 0!==e&&e.fId)&&(0,_.jsx)("div",{className:"".concat(w.btn," ").concat(w.btn_sticky),onClick:null===e||void 0===e?void 0:e.viewForm,children:(0,_.jsx)("img",{src:"/images/addplus.svg",alt:""})}),(0,_.jsx)("div",{className:w.itemsContainer,children:null===e||void 0===e||null===(i=e.allIncome)||void 0===i?void 0:i.map((function(i,o){var c;return(null===e||void 0===e||null===(c=e.allIncome)||void 0===c?void 0:c.length)===o+1?(0,_.jsx)("div",{ref:n,children:(0,_.jsx)(C,{setDetailView:null===e||void 0===e?void 0:e.setDetailView,setIncomeId:null===e||void 0===e?void 0:e.setIncomeId,all:i})},o):(0,_.jsx)(C,{income:"".concat(null===i||void 0===i?void 0:i._id),setDetailView:null===e||void 0===e?void 0:e.setDetailView,setIncomeId:null===e||void 0===e?void 0:e.setIncomeId,all:i},o)}))})]})}));var b=function(e){var n,i,o,c,s,l,a,d,m,u=e.detailview,v=e.iBalance,h=e.incomeId,x=(e.setIncomeId,e.setDetailView),f=(0,r.gP)("".concat(h),{skip:!h}).data,p=(0,t.$G)().t;return(0,_.jsx)(_.Fragment,{children:(0,_.jsx)("div",{className:w.incomeRightt,children:u?(0,_.jsxs)("div",{className:w.detail,children:[(0,_.jsxs)("div",{className:w.detailTop,children:[(0,_.jsx)("div",{className:w.detailTopLeft,children:(0,_.jsx)("h6",{onClick:function(){return x(!1)},children:p("back")})}),(0,_.jsx)("div",{className:w.detailTopMid,children:(0,_.jsx)("h6",{children:null!==f&&void 0!==f&&null!==(n=f.oneIncome)&&void 0!==n&&n.incomeFrom?null===f||void 0===f||null===(i=f.oneIncome)||void 0===i?void 0:i.incomeFrom:null===f||void 0===f||null===(o=f.oneIncome)||void 0===o||null===(c=o.incomeFromUser)||void 0===c?void 0:c.userLegalName})}),(0,_.jsx)("div",{className:w.detailTopRight,children:(0,_.jsxs)("h6",{children:["Rs. ",null===f||void 0===f||null===(s=f.oneIncome)||void 0===s?void 0:s.incomeAmount]})})]}),(0,_.jsxs)("div",{className:w.detailContent,children:[(0,_.jsx)("p",{children:p("transaction_mode")}),(0,_.jsxs)("h6",{children:[null===f||void 0===f||null===(l=f.oneIncome)||void 0===l?void 0:l.incomeAccount," ",p("payment")," "]})]}),(0,_.jsxs)("div",{className:w.detailContent,children:[(0,_.jsx)("p",{children:p("reason")}),(0,_.jsx)("h6",{children:null===f||void 0===f||null===(a=f.oneIncome)||void 0===a?void 0:a.incomePurpose})]}),(0,_.jsxs)("div",{className:w.detailContent,children:[(0,_.jsx)("p",{children:p("description")}),(0,_.jsx)("h6",{children:null===f||void 0===f||null===(d=f.oneIncome)||void 0===d?void 0:d.incomeDesc})]}),(0,_.jsxs)("div",{className:w.detailContent,children:[(0,_.jsx)("p",{children:p("day_date")}),(0,_.jsx)("h6",{children:N()(null===f||void 0===f||null===(m=f.oneIncome)||void 0===m?void 0:m.createdAt).format("LL")})]}),(0,_.jsxs)("div",{className:w.detailContent,children:[(0,_.jsx)("p",{children:p("acknowlegement")}),(0,_.jsxs)("div",{className:w.imagediv,children:[(0,_.jsx)("img",{src:"/images/image-icon.svg",alt:""}),(0,_.jsx)("p",{children:"img07.png"})]})]})]}):(0,_.jsxs)("div",{className:w.right,children:[(0,_.jsxs)("div",{className:w.rightHead,children:[(0,_.jsx)("h6",{children:p("total_income")}),(0,_.jsxs)("h6",{children:["Rs."," ",(null===v||void 0===v?void 0:v.financeIncomeCashBalance)+(null===v||void 0===v?void 0:v.financeIncomeBankBalance)]})]}),(0,_.jsxs)("div",{className:w.rightBody,children:[(0,_.jsxs)("h6",{children:[" ",p("by_cash")," : Rs. ",null===v||void 0===v?void 0:v.financeIncomeCashBalance]}),(0,_.jsxs)("h6",{children:[" ",p("by_bank")," : Rs. ",null===v||void 0===v?void 0:v.financeIncomeBankBalance]})]})]})})})},y=i(65543);var F=function(e){var n=e.fId,i=(0,t.$G)().t,m=(0,s.useState)(0),u=(0,c.Z)(m,2),v=u[0],h=u[1],x=(0,s.useState)(!1),f=(0,c.Z)(x,2),p=f[0],j=f[1],g=(0,s.useState)(""),N=(0,c.Z)(g,2),C=N[0],F=N[1],k=(0,s.useState)(1),S=(0,c.Z)(k,2),D=S[0],T=S[1],B=(0,s.useState)(!0),L=(0,c.Z)(B,2),R=L[0],M=L[1],A=(0,l.YD)(),V=(0,c.Z)(A,2),E=V[0],G=V[1],q=s.useState([]),H=(0,c.Z)(q,2),O=H[0],P=H[1],U=(0,s.useState)(!0),W=(0,c.Z)(U,2),$=W[0],z=W[1],J=(0,s.useState)(!1),K=(0,c.Z)(J,2),Q=K[0],X=K[1],Y=(0,a.useSelector)((function(e){return e.financeChange})),ee=(0,r.g3)("".concat(null!==Y&&void 0!==Y&&Y.fid?null===Y||void 0===Y?void 0:Y.fid:n)),ne=ee.data,ie=ee.refetch,oe=(0,r.GP)({fid:"".concat(null!==Y&&void 0!==Y&&Y.fid?null===Y||void 0===Y?void 0:Y.fid:n),page:D,limit:10},{skip:null!==Y&&void 0!==Y&&Y.fid?!(null!==Y&&void 0!==Y&&Y.fid):!n}),ce=oe.data,se=oe.refetch,te=(0,y.u)().scrollToTop;return(0,s.useEffect)((function(){te()}),[]),(0,s.useEffect)((function(){G&&R&&T((function(e){return e+1}))}),[G,R]),(0,s.useEffect)((function(){Q&&T(1)}),[Q]),(0,s.useEffect)((function(){(n||null!==Y&&void 0!==Y&&Y.fid)&&(z(!0),se())}),[D,n,null===Y||void 0===Y?void 0:Y.fid,se]),(0,s.useEffect)((function(){Q&&null!==Y&&void 0!==Y&&Y.fid&&(z(!0),se())}),[Q,null===Y||void 0===Y?void 0:Y.fid,se]),(0,s.useEffect)((function(){var e,n;if(Q)P(null===ce||void 0===ce?void 0:ce.allIncome),X(!1),z(!1);else if(null!==ce&&void 0!==ce&&ce.allIncome){var i=[].concat((0,o.Z)(O),(0,o.Z)(null===ce||void 0===ce?void 0:ce.allIncome)),c=(0,o.Z)(new Set(i.map(JSON.stringify))).map(JSON.parse);P(c),z(!1)}else 0===(null===ce||void 0===ce||null===(n=ce.allIncome)||void 0===n?void 0:n.length)&&z(!1);10===(null===ce||void 0===ce||null===(e=ce.allIncome)||void 0===e?void 0:e.length)?M(!0):M(!1)}),[null===ce||void 0===ce?void 0:ce.allIncome]),(0,_.jsxs)(_.Fragment,{children:[1===v&&(0,_.jsx)("div",{className:w.income,children:(0,_.jsx)(I,{setViewIndex:h,onRefetchWhenCreateIncome:function(){X(!0),ie()}})}),0===v&&(0,_.jsxs)("div",{className:w.incomeContainer,children:[(0,_.jsx)("div",{className:w.incomeTop,children:(0,_.jsx)("div",{className:w.history,children:i("income_history")})}),(0,_.jsxs)("div",{className:w.income,children:[(0,_.jsxs)("div",{className:w.incomeLeft,children:[(0,_.jsx)(Z,{viewForm:function(){return h(1)},setDetailView:j,allIncome:O,setIncomeId:F,fId:n,ref:E}),$&&(0,_.jsx)(d.Z,{})]}),(0,_.jsx)("div",{className:w.incomeRight,children:(0,_.jsx)(b,{detailview:p,iBalance:null===ne||void 0===ne?void 0:ne.incomeBalance,incomeId:C,setIncomeId:F,setDetailView:j})})]})]})]})}}}]);
//# sourceMappingURL=6433.240ee931.chunk.js.map