"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[53239],{64499:(e,t,n)=>{n.d(t,{Ex:()=>r,KY:()=>s,oU:()=>l});var i=n(69721);function a(e){return function(e){return"object"===typeof e}(e)&&!function(e){return"[object Date]"===Object.prototype.toString.call(e)}(e)?JSON.stringify(e):e}function o(e){let{action:t,params:n}=e;const i=document.createElement("form");return i.setAttribute("method","post"),i.setAttribute("action",t),Object.keys(n).forEach((e=>{const t=document.createElement("input");t.setAttribute("type","hidden"),t.setAttribute("name",e),t.setAttribute("value",a(n[e])),i.appendChild(t)})),i}function s(e){const t=o(e);document.body.appendChild(t),t.submit(),t.remove()}const r=e=>fetch("".concat(i.FH,"/api/v1/paytm/generateTxnToken"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).catch((e=>console.log(e))),l=e=>fetch("".concat(i.FH,"/api/v2/paytm/generateTxnToken"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).catch((e=>console.log(e)))},71439:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(72791);const a="PaymentGatewayConfig_gateway_container__nrTUY",o="PaymentGatewayConfig_gateway_upi__AJ6Eb",s="PaymentGatewayConfig_gateway_other__RxfCt",r="PaymentGatewayConfig_gateway_upi_text__OV6Zf",l="PaymentGatewayConfig_gateway_other_text__EVLNL",c="PaymentGatewayConfig_gateway_upi_text_inner__SB-Kf",d="PaymentGatewayConfig_gateway_other_text_inner__Pd5BQ",u="PaymentGatewayConfig_gateway_upi_icons__EAxoi",_="PaymentGatewayConfig_gateway_upi_icons_inner__N+sfo",m="PaymentGatewayConfig_gateway_other_icons__kqTO+",p="PaymentGatewayConfig_gateway_other_icons_inner__MGmma",v="PaymentGatewayConfig_gateway_btn__2Xo3a",y="PaymentGatewayConfig_gateway_border__gjI8+",g="PaymentGatewayConfig_gateway_summary__Rbg+6",h="PaymentGatewayConfig_gateway_summary_text__b6PzX";var f=n(36665),x=n(39230),A=n(49384),b=n(80184);const j=e=>{var t,n;let{onClose:i,allContent:o,onNext:s,isLoading:r,selected:l,isOptimzed:c}=e;const{t:d}=(0,x.$G)();let u=2.1*+(null===o||void 0===o?void 0:o.amount)/100,_=u+18*+u/100;const m=parseInt(null===o||void 0===o?void 0:o.amount);Math.ceil(m+ +_.toFixed(2));var p=1*parseInt(null===o||void 0===o?void 0:o.amount)/100,j=p>=100?100:p;let w=18*+j/100;Math.ceil(parseInt(null===o||void 0===o?void 0:o.amount)+parseInt(j)+parseInt(w));return(0,b.jsx)(f.Z,{onClose:i,children:(0,b.jsxs)("div",{className:a,children:[(0,b.jsx)("div",{className:y,children:(0,b.jsx)("img",{src:"/images/member_tab/gateway/gateway-border-icon.svg",alt:"gateway icon"})}),(0,b.jsx)("h6",{children:d("Payment_Summary")}),(0,b.jsxs)("section",{className:g,children:[c&&(0,b.jsx)("div",{className:h,children:(0,b.jsxs)("h6",{style:{fontSize:"14px",fontWeight:"500"},children:[d("plateform_fees_rs")," ",null!==(t=null===(n=(null===o||void 0===o?void 0:o.amount)*(null===o||void 0===o?void 0:o.platform_charges)/100)||void 0===n?void 0:n.toFixed(2))&&void 0!==t?t:0]})}),(0,b.jsx)("div",{className:h,children:(0,b.jsx)("h6",{style:{fontSize:"14px",fontWeight:"500"},children:d(c?"pg_convenience_o":"pg_convenience")})}),(0,b.jsx)("div",{className:h,children:(0,b.jsx)("p",{children:d(c?"pg_convenience_note_o":"pg_convenience_note")})}),(0,b.jsx)("div",{className:h,children:(0,b.jsxs)("p",{style:{fontSize:"12px"},children:[(0,b.jsx)("img",{src:"/images/checkbox-icon.svg",alt:"icon",style:{height:"0.8rem",marginRight:"0.5rem"}}),d(c?"pg_convenience_forward_o":"pg_convenience_forward")]})}),(0,b.jsxs)("button",{onClick:s,className:v,style:{marginTop:"1rem"},children:[d("Make_Payment"),r&&(0,b.jsx)("span",{style:{marginLeft:"10px",marginTop:"13px"},children:(0,b.jsx)(A.Z,{})})]})]})]})})},w=e=>{let{onClose:t,allContent:n,checkoutHandler:v,checkoutAdmissionHandler:g,checkoutParticipate:h,checkoutBacklogHandler:A,checkoutAdmissionDirectHandler:w,checkoutLibraryHandler:N,isOptimzed:C}=e;const{t:k}=(0,x.$G)(),[P,R]=(0,i.useState)(0),[S,M]=(0,i.useState)("PAYTM"),[Z,T]=(0,i.useState)(!1),I=e=>{R(e),M(0===e?"PAYTM":"RAZOR")};return(0,b.jsx)(b.Fragment,{children:S?(0,b.jsx)(j,{onClose:t,allContent:n,onNext:()=>{T(!0),"Fees"===n.type?v(0===P?"PAYTM":"RAZOR"):"Admission"===n.type?g(0===P?"PAYTM":"RAZOR"):"Participate"===n.type?h(0===P?"PAYTM":"RAZOR"):"Backlog"===n.type?A(0===P?"PAYTM":"RAZOR"):"Library Fees"===n.type?N(0===P?"PAYTM":"RAZOR"):"ADMISSION_DIRECT_APPLY"===n.type&&w(0===P?"PAYTM":"RAZOR")},isLoading:Z,selected:P,isOptimzed:C}):(0,b.jsx)(f.Z,{onClose:t,children:(0,b.jsxs)("div",{className:a,children:[(0,b.jsx)("div",{className:y,children:(0,b.jsx)("img",{src:"/images/member_tab/gateway/gateway-border-icon.svg",alt:"gateway icon"})}),(0,b.jsx)("h6",{children:k("Payment_Mode")}),(0,b.jsx)("p",{children:k("Pay_via_UPI_Less_transaction_charges_by_Payment_Gateway")}),(0,b.jsxs)("section",{className:o,onClick:()=>I(0),style:{boxShadow:0===P&&"0px 4px 4px 0px #00000040",backgroundColor:0===P&&"rgb(156 136 179 / 10%)"},children:[(0,b.jsxs)("div",{className:r,children:[(0,b.jsx)("img",{src:"/images/member_tab/gateway/gateway-bheem-icon.svg",alt:"gateway icon"}),(0,b.jsxs)("div",{className:c,children:[(0,b.jsx)("p",{children:k("Payment_Mode")}),(0,b.jsx)("h6",{children:k("payment_upi")})]})]}),(0,b.jsxs)("div",{className:u,children:[(0,b.jsx)("img",{src:"/images/member_tab/gateway/gateway-recomended-icon.svg",alt:"gateway icon"}),(0,b.jsxs)("div",{className:_,children:[(0,b.jsx)("img",{src:"/images/member_tab/gateway/gateway-phone-icon.svg",alt:"gateway icon"}),(0,b.jsx)("img",{src:"/images/member_tab/gateway/gateway-paytm-icon.svg",alt:"gateway icon"}),(0,b.jsx)("img",{src:"/images/member_tab/gateway/gateway-google-icon.svg",alt:"gateway icon"})]})]})]}),(0,b.jsxs)("section",{className:s,onClick:()=>I(1),style:{boxShadow:1===P&&"0px 4px 4px 0px #00000040",backgroundColor:1===P&&"rgb(156 136 179 / 10%)"},children:[(0,b.jsxs)("div",{className:l,children:[(0,b.jsx)("img",{src:"/images/member_tab/gateway/gateway-other-icon.svg",alt:"gateway icon"}),(0,b.jsxs)("div",{className:d,children:[(0,b.jsx)("p",{children:k("Payment_Mode")}),(0,b.jsx)("h6",{children:k("payment_other")})]})]}),(0,b.jsxs)("div",{className:m,children:[(0,b.jsxs)("div",{className:p,children:[(0,b.jsx)("img",{src:"/images/member_tab/gateway/gateway-debit-icon.svg",alt:"gateway icon"}),(0,b.jsxs)("p",{children:[k("debit_credit"),(0,b.jsx)("br",{}),k("cards")]})]}),(0,b.jsxs)("div",{className:p,children:[(0,b.jsx)("img",{src:"/images/member_tab/gateway/gateway-bank-icon.svg",alt:"gateway icon"}),(0,b.jsx)("p",{children:k("net_banking")})]})]})]})]})})})}},10777:(e,t,n)=>{n.d(t,{Mc:()=>N,qr:()=>C,jC:()=>j,l0:()=>w});var i=n(1302),a=n(79992),o=n(94811);const s=e=>e.query({query:e=>{var t;return"/extra/".concat(null===e||void 0===e?void 0:e.uid,"/active/member/role?active_member_role=").concat(null!==(t=null===e||void 0===e?void 0:e.role)&&void 0!==t?t:"")},forceRefetch(e){let{currentArg:t,previousArg:n}=e;return t!==n}}),r=e=>e.query({query:e=>"/user/staffdesignationdata/".concat(e),transformResponse:e=>{let t=(0,a.ZH)(null===e||void 0===e?void 0:e.encrypt);return null===t||void 0===t?void 0:t.staff},forceRefetch(e){let{currentArg:t,previousArg:n}=e;return t!==n}}),l=e=>e.query({query:e=>"/user/studentdesignationdata/".concat(e)}),c=e=>e.query({query:e=>"/user/".concat(e,"/staff/student/role"),transformResponse:e=>null===e||void 0===e?void 0:e.role_query}),d=e=>e.query({query:e=>"/user/".concat(e,"/all/application/query"),serializeQueryArgs:e=>{let{endpointName:t}=e;return t},transformResponse:e=>null===e||void 0===e?void 0:e.all_apps,forceRefetch(e){let{currentArg:t,previousArg:n}=e;return t!==n}}),u=e=>e.query({query:e=>"/user/".concat(e.uid,"/all/").concat(e.appId,"/application/query"),serializeQueryArgs:e=>{let{endpointName:t}=e;return t},forceRefetch(e){let{currentArg:t,previousArg:n}=e;return t!==n}}),_=e=>e.mutation({query:e=>({url:"/feed/filter/".concat(e.lid,"/by/department/query"),method:o.Q0,body:e.filterBody})}),m=e=>e.query({query:e=>"/user/".concat(null===e||void 0===e?void 0:e.uid,"/dashboard/all/application/query"),forceRefetch(e){let{currentArg:t,previousArg:n}=e;return t!==n}}),p=i.P.injectEndpoints({endpoints:e=>({userActivatedMember:s(e),staffAllDesignationList:r(e),studentAllDesignationList:l(e),userMemberAllAccount:c(e),userMemberAppliedAllApplicationAccount:d(e),userMemberAppliedOneApplicationStatus:u(e),libraryDepartmentBookFilter:_(e),userDashboardActiveApplication:m(e)})}),{useUserActivatedMemberQuery:v,useStaffAllDesignationListQuery:y,useStudentAllDesignationListQuery:g,useUserMemberAllAccountQuery:h,useUserMemberAppliedAllApplicationAccountQuery:f,useUserMemberAppliedOneApplicationStatusQuery:x,useLibraryDepartmentBookFilterMutation:A,useUserDashboardActiveApplicationQuery:b}=p,j=e=>{const{data:t,refetch:n,isFetching:i}=f(e.uid,{skip:e.skip});return{userMemberAppliedAllApplicationAccount:t,userMemberAppliedAllApplicationAccountRefetch:n,userMemberAppliedAllApplicationAccountLoading:i}},w=e=>{const{data:t,refetch:n,isFetching:i}=x(e.data,{skip:e.skip});return{userMemberAppliedOneApplicationStatus:t,userMemberAppliedOneApplicationStatusRefetch:n,userMemberAppliedOneApplicationStatusLoading:i}},N=()=>{const[e]=A();return[e]},C=e=>{const{data:t,refetch:n,isFetching:i}=b(e.data,{skip:e.skip});return{userDashboardActiveApplication:t,userDashboardActiveApplicationRefetch:n,userDashboardActiveApplicationLoading:i}}},66687:(e,t,n)=>{n.d(t,{Z:()=>j});var i=n(39230),a=n(48293),o=n(21348),s=n(16925),r=n(90904),l=n(72791),c=n(98684),d=n(55336),u=n(93638),_=n(61055),m=n(99183),p=n(71439),v=n(64499),y=n(16871),g=n(20659),h=n(26071),f=n(7562),x=n(8959),A=n(60307),b=n(80184);const j=e=>{var t,n,j,w,N,C,k,P;let{onClose:R,install:S,admission:M,isEditable:Z,statusId:T}=e;const{t:I}=(0,i.$G)(),O=(0,y.UO)(),[q,F]=(0,l.useState)(!1),[L,D]=(0,l.useState)({amount:0,type:"Admission",isTransaction:!1,pay_remain:!1}),[G,E]=(0,l.useState)(""),[U,Y]=(0,l.useState)(0),{studentInstituteCharges:z}=(0,A.xY)({data:{id:null===S||void 0===S?void 0:S.instituteId},skip:!(null!==S&&void 0!==S&&S.instituteId)});(0,l.useEffect)((()=>{var e;null!==S&&void 0!==S&&S.remainAmount&&D({amount:null!==(e=null===S||void 0===S?void 0:S.remainAmount)&&void 0!==e?e:0,type:"Admission",isTransaction:!1,pay_remain:!1})}),[]);const H=e=>{if(D((t=>({...t,pay_remain:e}))),e){let e=0;for(let n of null===M||void 0===M||null===(t=M.applicable_card)||void 0===t?void 0:t.remaining_array){var t;"Paid"!==(null===n||void 0===n?void 0:n.status)&&(e+=null===n||void 0===n?void 0:n.remainAmount)}Y(e),D((t=>{var n;return{...t,amount:null!==(n=e)&&void 0!==n?n:0}}))}};return(0,b.jsxs)(b.Fragment,{children:[L.isTransaction?(0,b.jsx)(p.Z,{onClose:()=>{D((e=>({...e,isTransaction:!1})))},allContent:{...L,platform_charges:null===z||void 0===z||null===(t=z.platform_charges)||void 0===t?void 0:t.percentage},checkoutAdmissionHandler:()=>{var e,t,n,i,a,o,s,r,l,c,d,u,_;let m=2.1*+(null===L||void 0===L?void 0:L.amount)/100,p=m+18*+m/100;const y=parseInt(null===L||void 0===L?void 0:L.amount);var g=Math.ceil(y+ +p.toFixed(2));(0,v.oU)({amount:null!==(e=+(null===L||void 0===L?void 0:L.amount))&&void 0!==e?e:10,amount_nocharges:null!==(t=+g)&&void 0!==t?t:0,type:"Admission",paidBy:"".concat(T?null===M||void 0===M?void 0:M.student:null===M||void 0===M||null===(n=M.student)||void 0===n?void 0:n._id),paidTo:"".concat(null===S||void 0===S?void 0:S.instituteId),moduleId:"".concat(null===S||void 0===S?void 0:S.appId),ad_status_id:T||null,payment_installment:null===S||void 0===S?void 0:S.installmentValue,ad_install:null,month:null,payment_remain_1:null,payment_card_type:null,payment_book_id:null,name:O.username,isApk:"web",payment_card_id:null!==(i=null===M||void 0===M?void 0:M._id)&&void 0!==i?i:null,payment_remain_fees:L.pay_remain,charge:{num_platform_percent:null!==(a=null===z||void 0===z||null===(o=z.platform_charges)||void 0===o?void 0:o.percentage)&&void 0!==a?a:0,num_platform_max:null!==(s=null===z||void 0===z||null===(r=z.platform_charges)||void 0===r?void 0:r.maximum)&&void 0!==s?s:0,num_trans_pecent:null!==(l=null===z||void 0===z||null===(c=z.transaction_charges)||void 0===c?void 0:c.percentage)&&void 0!==l?l:0,num_trans_max:null!==(d=null===z||void 0===z||null===(u=z.transaction_charges)||void 0===u?void 0:u.maximum)&&void 0!==d?d:0,num_app_max:null!==(_=null===z||void 0===z?void 0:z.application_charges)&&void 0!==_?_:0},nsid:null===S||void 0===S?void 0:S._id}).then((e=>{var t,n;window.onScriptLoad(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.body)||void 0===n?void 0:n.txnToken,null===e||void 0===e?void 0:e.order,null===e||void 0===e?void 0:e.amount)})).catch((e=>{console.info(e)}))},isOptimzed:!0}):(0,b.jsx)(a.Z,{onClose:R,children:(0,b.jsxs)("div",{className:s.Z.modal_container,children:[(0,b.jsx)(o.Z,{children:(0,b.jsxs)("div",{className:s.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:s.Z.modal_container_header,children:(0,b.jsx)("h6",{children:I("pay_admission_fees")})}),(0,b.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:R})]})}),(0,b.jsx)(r.Z,{}),(0,b.jsxs)(o.Z,{customStyle:{paddingTop:"0"},children:[(0,b.jsxs)("div",{className:s.Z.admission_fees_row,children:[(0,b.jsxs)("h6",{children:[I("applicable_pendig_fees_only")," :"]}),(0,b.jsxs)("h6",{children:[I("rs_only")," ",null!==(n=null===M||void 0===M||null===(j=M.applicable_card)||void 0===j?void 0:j.applicable_fee)&&void 0!==n?n:0]})]}),(0,b.jsx)("div",{className:s.Z.admission_fees_row,children:(0,b.jsxs)("h6",{children:[I("fees_category")," :"," ",null!==(w=null===M||void 0===M||null===(N=M.fee_structure)||void 0===N||null===(C=N.category_master)||void 0===C?void 0:C.category_name)&&void 0!==w?w:""]})}),null!==M&&void 0!==M&&null!==(k=M.fee_structure)&&void 0!==k&&k.total_installments&&+(null===M||void 0===M||null===(P=M.fee_structure)||void 0===P?void 0:P.total_installments)>1&&Z?(0,b.jsx)(g.Z,{label:"pay_rest_remaining_fees",children:null===f.nj||void 0===f.nj?void 0:f.nj.map((e=>(0,b.jsx)(h.Z,{tile:e,onTile:H,activeTile:L.pay_remain},null===e||void 0===e?void 0:e.id)))}):null,Z?(0,b.jsx)(_.Z,{label:I(L.pay_remain?"amount_remain_installment":"enter_amount_to_be_paid"),placeholder:I("please_enter_amount_paid"),name:"amount",value:L.amount,type:"tel",onChange:e=>{D((t=>({...t,amount:+e.target.value})))},errorShow:G.amount,msg:G.rest_issue}):(0,b.jsx)(x.Z,{label:"".concat(I(L.pay_remain?"amount_remain_installment":"amount_to_be_paid")),value:L.pay_remain?U:L.amount}),(0,b.jsx)(u.Z,{label:"pay_admission_fees",onAction:()=>{let e=(0,m.l)({amount:L.amount});var t,n;(0,m.x)(e)?L.pay_remain&&L.amount<U&&+(null===M||void 0===M||null===(t=M.fee_structure)||void 0===t?void 0:t.total_installments)>1?E({rest_issue:"Amount should not be less than total remaining fees"}):!L.pay_remain&&L.amount<(null===S||void 0===S?void 0:S.remainAmount)&&+(null===M||void 0===M||null===(n=M.fee_structure)||void 0===n?void 0:n.total_installments)>1?E({rest_issue:"Amount should not be greater than remaining fees"}):D((e=>({...e,isTransaction:!0}))):E(e)}})]})]})}),q&&(0,b.jsx)(d.Z,{})]})}},82542:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(72791),a=n(6758),o=n(37782),s=n(55336),r=n(98684),l=n(57706),c=n(1095),d=n(80184);const u=e=>{let{rid:t,receiptFile:u}=e;const[_,m]=(0,i.useState)(""),[p,v]=(0,i.useState)(!1),[y,g]=(0,i.useState)(""),{financeReceipt:h,financeReceiptRefetch:f}=(0,a.Nw)({rid:_,skip:!_});(0,i.useEffect)((()=>{_&&f()}),[_,f]),(0,i.useEffect)((()=>{null!==h&&void 0!==h&&h.receipt&&null!==h&&void 0!==h&&h.all_remain&&g(h)}),[h]),(0,i.useEffect)((()=>{if(y){const e=new Worker(new URL(n.p+n.u(24882),n.b)),{institute:t,studentInfo:i,paymentReceiptInfo:a}=(0,o.Hs)(null===y||void 0===y?void 0:y.all_remain,null===y||void 0===y?void 0:y.receipt);e.postMessage({institute:t,studentInfo:i,paymentReceiptInfo:a,printReceiptType:"Refunded"===(null===a||void 0===a?void 0:a.transactonRefund)?"ADMISSION_REFUND":"ADMISSION"}),e.onmessage=t=>{t&&(window.open(t.data,"_blank"),v((e=>!e)),g(""),e.terminate())}}}),[y]);return(0,d.jsxs)(d.Fragment,{children:[u?(0,d.jsx)("a",{href:"".concat(c.q2,"/").concat(u),target:"_blank",rel:"noopener noreferrer",children:(0,d.jsx)("div",{className:l.Z.ad_button,style:{backgroundColor:"#def3e1",borderColor:"def3e1"},children:(0,d.jsxs)("span",{style:{color:"#008000"},children:["Click here to view fee receipt",(0,d.jsx)("img",{src:"".concat(r.J7,"/receipt.svg"),alt:"receipt icon",style:{cursor:"pointer",height:"1rem",width:"auto",marginLeft:"0.6rem"}})]})})}):(0,d.jsx)("div",{className:l.Z.ad_button,style:{backgroundColor:"#def3e1",borderColor:"def3e1"},children:(0,d.jsxs)("span",{style:{color:"#008000"},children:["Click here to view fee receipt",(0,d.jsx)("img",{src:"".concat(r.J7,"/receipt.svg"),alt:"receipt icon",style:{cursor:"pointer",height:"1rem",width:"auto",marginLeft:"0.6rem"}})]})}),p&&(0,d.jsx)(s.Z,{})]})}},57706:(e,t,n)=>{n.d(t,{Z:()=>i});const i={ufu_application:"AdmissionNotification_ufu_application__zCYtZ",ufu_your_application:"AdmissionNotification_ufu_your_application__m-hFo",ufu_your_application_inner:"AdmissionNotification_ufu_your_application_inner__bDoe0",ufu_application_form:"AdmissionNotification_ufu_application_form__xmfTW",yaclp_container:"AdmissionNotification_yaclp_container__hN5J6",yap_container:"AdmissionNotification_yap_container__xIH4J",yap_container_other:"AdmissionNotification_yap_container_other__l2F0p",yap_container_status:"AdmissionNotification_yap_container_status__Uv1RB",as_container:"AdmissionNotification_as_container__4qM55",as_sub_container:"AdmissionNotification_as_sub_container__EsFo2",as_container_inner:"AdmissionNotification_as_container_inner__kdtWF",as_another_container:"AdmissionNotification_as_another_container__tmxh7",asac_ul:"AdmissionNotification_asac_ul__Irb9e",ad_button:"AdmissionNotification_ad_button__BKMDK"}}}]);
//# sourceMappingURL=53239.62c398ae.chunk.js.map