"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[3816,28273,10474],{12155:(e,i,n)=>{n.r(i),n.d(i,{default:()=>Li});var t=n(72791),l=n(42190),a=n(20772);const o="Mainbody_institute_admission_body__HWANt",s="Mainbody_institute_ads_container__pGqua",d="Mainbody_institute_ads_container_other__kLAuL",c="Mainbody_institute_ads_container_border__4MsZ1";var r=n(95048),u=n(35395),v=n(45145),m=n(69721),p=n(39230),_=n(85050),h=n(93738),g=n(21093),x=n(16871),f=n(80184);const j=t.lazy((()=>n.e(76035).then(n.bind(n,76035)))),S=e=>{var i,n,l,a,o,s,d,c,S,b,N,y,A,C,Z;let{username:I,admissionId:E}=e;const{t:T}=(0,p.$G)(),P=(0,x.UO)(),k=(0,r.v9)((e=>e.admissionChange)),[R,D]=t.useState(!1),{getAdmissionDetail:O,getAdmissionDetailRefetch:L}=(0,v.vV)({data:{aid:"".concat(null!==k&&void 0!==k&&k.aid?null===k||void 0===k?void 0:k.aid:E),sid:""},skip:null!==k&&void 0!==k&&k.aid?!(null!==k&&void 0!==k&&k.aid):!E});(0,t.useEffect)((()=>{(null!==k&&void 0!==k&&k.aid||E)&&L()}),[null===k||void 0===k?void 0:k.aid,E,L]);const w=()=>{D((e=>!e))};return(0,f.jsxs)("div",{style:{position:"sticky",top:"77px",height:"fit-content",width:"30%"},children:[(0,f.jsx)(g.Z,{whichType:"PREVIOUS_GO"}),(0,f.jsx)(_.Z,{dynamicImage:null!==O&&void 0!==O&&null!==(i=O.admission)&&void 0!==i&&i.cover?"".concat(m.yI,"/").concat(null===O||void 0===O||null===(n=O.admission)||void 0===n?void 0:n.cover):"/images/profileAndCover/admission-cover.svg",edit:!0,onEditAction:w,redirectUrl:"/q/".concat(P.username,"/admission?a=site"),isSiteInfo:"ADMISSION",carryParentState:{aid:null===O||void 0===O||null===(l=O.admission)||void 0===l?void 0:l._id}}),(0,f.jsx)(h.Z,{cardAsHead:!0,heading:" ".concat((null===O||void 0===O||null===(a=O.admission)||void 0===a||null===(o=a.admissionAdminHead)||void 0===o?void 0:o.staffFirstName)||""," ").concat(null!==O&&void 0!==O&&null!==(s=O.admission)&&void 0!==s&&null!==(d=s.admissionAdminHead)&&void 0!==d&&d.staffMiddleName?null===O||void 0===O||null===(c=O.admission)||void 0===c||null===(S=c.admissionAdminHead)||void 0===S?void 0:S.staffMiddleName:""," ").concat((null===O||void 0===O||null===(b=O.admission)||void 0===b||null===(N=b.admissionAdminHead)||void 0===N?void 0:N.staffLastName)||""),description:T("admission_admin"),customStyleCard:{borderRadius:"18px 18px 0px 0px",border:"none",marginTop:"-1.49vw"}}),(0,f.jsx)(h.Z,{cardAsHead:!1,heading:T("ongoing_add"),description:T("admissions"),count:(null===O||void 0===O||null===(y=O.admission)||void 0===y?void 0:y.newAppCount)||0}),(0,f.jsx)(h.Z,{cardAsHead:!1,heading:T("application"),description:T("received_from_students"),count:(null===O||void 0===O||null===(A=O.admission)||void 0===A?void 0:A.newAppCount)+(null===O||void 0===O||null===(C=O.admission)||void 0===C?void 0:C.completedCount)||0,customStyleCard:{borderRadius:"0 0 12px 12px",borderBottom:"0.4px solid rgba(0, 0, 0, 0.15)"}}),(0,f.jsx)(u.Z,{children:(0,f.jsx)(j,{admissionModal:R,hideModal:w,edit:!0,admissionManagerName:null===O||void 0===O||null===(Z=O.admission)||void 0===Z?void 0:Z.admissionAdminHead,onParentRefetch:L})})]})};var b=n(43504),N=n(39480),y=n(74737);const A=e=>{let{carryParentState:i,activeTab:n,children:t}=e;const l=(0,x.UO)();return(0,f.jsx)(b.rU,{to:"/q/".concat(l.username,"/admission").concat(n),state:{...i},children:t})},C={funds2:"Funds_funds2__4QC2s",fundscontent:"Funds_fundscontent__uE4Dh",sidebarbottomitem:"Funds_sidebarbottomitem__N9G-h",namee:"Funds_namee__udwpf",desig:"Funds_desig__id4Ah",balanceItem:"Funds_balanceItem__YpuFS",fundbtn:"Funds_fundbtn__DUCOL"};function Z(e){let{bal:i,value:n}=e;return(0,f.jsxs)("div",{className:C.balanceItem,children:[(0,f.jsxs)("p",{children:[i,":"]}),(0,f.jsxs)("p",{children:["Rs. ",n]})]})}const I=function(e){var i,n,l,a,o,s,d,c,u,m;let{carryParentState:_}=e;const{t:h}=(0,p.$G)(),g=(0,r.v9)((e=>e.admissionChange)),x=(0,r.v9)((e=>e.idChange.id)),{oneInstituteDashboard:j,oneInstituteDashboardRefetch:S}=(0,N.gq)({id:x,skip:!x}),{getAdmissionDetail:b,getAdmissionDetailRefetch:y}=(0,v.vV)({data:{aid:"".concat(null!==g&&void 0!==g&&g.aid?null===g||void 0===g?void 0:g.aid:null===j||void 0===j||null===(i=j.institute)||void 0===i?void 0:i.admissionDepart[0]),sid:""},skip:null!==g&&void 0!==g&&g.aid?!(null!==g&&void 0!==g&&g.aid):!(null!==j&&void 0!==j&&null!==(n=j.institute)&&void 0!==n&&n.admissionDepart[0])});return(0,t.useEffect)((()=>{x&&S()}),[x,S]),(0,t.useEffect)((()=>{var e;(null!==g&&void 0!==g&&g.aid||null!==j&&void 0!==j&&null!==(e=j.institute)&&void 0!==e&&e.admissionDepart[0])&&y()}),[null===g||void 0===g?void 0:g.aid,null===j||void 0===j||null===(l=j.institute)||void 0===l?void 0:l.admissionDepart[0],y]),(0,f.jsx)("div",{className:C.funds2,children:(0,f.jsxs)("div",{className:C.fundscontent,children:[(0,f.jsxs)("div",{className:C.sidebarbottomitem,children:[(0,f.jsx)("img",{alt:"not found",src:"/images/finance/doller-icon.svg"}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("p",{className:C.namee,children:["Rs."," ",((null===b||void 0===b||null===(a=b.admission)||void 0===a?void 0:a.onlineFee)+(null===b||void 0===b||null===(o=b.admission)||void 0===o?void 0:o.offlineFee)).toFixed(2)]}),(0,f.jsx)("p",{className:C.desig,children:h("total_admission_fees")})]})]}),(0,f.jsx)(Z,{bal:h("online_fees"),value:null===b||void 0===b||null===(s=b.admission)||void 0===s||null===(d=s.onlineFee)||void 0===d?void 0:d.toFixed(2)}),(0,f.jsx)(Z,{bal:h("offline_fees"),value:null===b||void 0===b||null===(c=b.admission)||void 0===c||null===(u=c.offlineFee)||void 0===u?void 0:u.toFixed(2)}),(0,f.jsx)(A,{carryParentState:_,activeTab:"?a=pending",children:(0,f.jsxs)("div",{className:C.fundbtn,children:[h("remaining_fees")," : Rs."," ",null===b||void 0===b||null===(m=b.admission)||void 0===m?void 0:m.remainingFeeCount]})})]})})};var E=n(64783),T=n(98684);const P=e=>{let{carryParentState:i}=e;const{t:n}=(0,p.$G)(),[t]=(0,b.lr)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:y.Z.finance_tab_tabs,children:[(0,f.jsx)(E.Z,{tabLevel:n("menu"),customStyleContainer:{width:"50%",marginRight:"2px",borderTopLeftRadius:"6px"},customStyleLevel:{borderTopLeftRadius:"6px"},tabValue:"menu",currentValue:null!==t&&void 0!==t&&t.get("a")?"other":"menu",carryParentState:i,activeUrl:"admission"}),(0,f.jsx)(E.Z,{tabLevel:n("fund"),customStyleContainer:{width:"50%",borderTopRightRadius:"6px"},customStyleLevel:{borderTopLeftRadius:"6px"},tabValue:"fund",currentValue:"fund"===(null===t||void 0===t?void 0:t.get("a"))?"fund":"other",carryParentState:i,activeUrl:"admission?a=fund"})]}),null!==t&&void 0!==t&&t.get("a")?"fund"===(null===t||void 0===t?void 0:t.get("a"))?(0,f.jsx)(I,{carryParentState:i}):null:(0,f.jsxs)("div",{className:y.Z.item,children:[(0,f.jsx)(A,{carryParentState:i,activeTab:"?a=ongoing",children:(0,f.jsxs)("div",{className:y.Z.itemIcon,children:[(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-ongoing-icon.svg",alt:"Class Catalog"}),(0,f.jsx)("p",{children:n("admission_ongoing")})]})}),(0,f.jsx)(A,{carryParentState:i,activeTab:"?a=pending",children:(0,f.jsxs)("div",{className:y.Z.itemIcon,children:[(0,f.jsx)("img",{src:"/images/member_tab/finance/finance-pending-icon.svg",alt:"inquery"}),(0,f.jsx)("p",{children:n("pending_fees")})]})}),(0,f.jsx)(A,{carryParentState:i,activeTab:"?a=completed",children:(0,f.jsxs)("div",{className:y.Z.itemIcon,children:[(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-complete-icon.svg",alt:"completed"}),(0,f.jsx)("p",{children:n("admission_complete")})]})}),(0,f.jsx)(A,{carryParentState:i,activeTab:"?a=export",children:(0,f.jsxs)("div",{className:y.Z.itemIcon,children:[(0,f.jsx)("img",{src:"/images/member_tab/finance/finance-export-icon.svg",alt:"refund"}),(0,f.jsx)("p",{children:n("data_exporting")})]})}),(0,f.jsx)(A,{carryParentState:i,activeTab:"?a=moderator",children:(0,f.jsxs)("div",{className:y.Z.itemIcon,children:[(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-moderator-icon.svg",alt:"moderator icon"}),(0,f.jsx)("p",{children:n("admission_moderators")})]})}),(0,f.jsx)(A,{carryParentState:i,activeTab:"?a=tab",children:(0,f.jsxs)("div",{className:y.Z.itemIcon,children:[(0,f.jsx)("img",{src:"".concat(T.J7,"/controller.svg"),alt:"moderator icon"}),(0,f.jsx)("p",{children:n("tab_controller")})]})})]})]})};var k=n(23441),R=n(11105),D=n(98094),O=n(46876),L=n(91022),w=n(98734),M=n(36665),F=n(70374),U=n(72426),q=n.n(U);const B=e=>{var i;let{setActivePopup:n,selectedApplication:t,selectedStaff:l,moderatorState:a,onAssignModerator:o}=e;const{t:s}=(0,p.$G)();return(0,f.jsx)(M.Z,{children:(0,f.jsxs)("div",{className:F.Z.assign_role_container,children:[(0,f.jsxs)("section",{className:F.Z.assign_role_title,children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{},alt:"back icon"}),(0,f.jsx)("h6",{children:s("preview")})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,f.jsxs)("section",{className:F.Z.selected_staff_container,children:[(0,f.jsx)("img",{src:null!==l&&void 0!==l&&l.staffProfilePhoto?"".concat(m.yI,"/").concat(null===l||void 0===l?void 0:l.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,f.jsxs)("div",{className:F.Z.selected_staff_text,children:[(0,f.jsx)("h6",{children:"".concat(null===l||void 0===l?void 0:l.staffFirstName," ").concat(null!==(i=null===l||void 0===l?void 0:l.staffMiddleName)&&void 0!==i?i:""," ").concat(null===l||void 0===l?void 0:l.staffLastName)}),(0,f.jsxs)("p",{children:[s("index_number"),null===l||void 0===l?void 0:l.staffROLLNO]})]})]}),(0,f.jsx)("section",{style:{padding:"0.8rem"},children:(0,f.jsx)(L.Z,{selectLabel:s("select_role_of_moderator"),selectedValue:s("please_select_role"),value:"ALL_FEE_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Application Manager":"INQUIRY_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Enquiries Section":"FULL_ACCESS",openAs:"REFUND"})}),null===t||void 0===t?void 0:t.map((e=>{var i,n,t;return(0,f.jsxs)("div",{className:F.Z.application_card,children:[(0,f.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,f.jsxs)("section",{className:F.Z.application_card_text,children:[(0,f.jsx)("h6",{children:null!==(i=null===e||void 0===e?void 0:e.applicationName)&&void 0!==i?i:""}),(0,f.jsxs)("div",{className:F.Z.application_card_text_bottom,children:[(0,f.jsx)("p",{children:null!==(n=null===e||void 0===e||null===(t=e.applicationDepartment)||void 0===t?void 0:t.dName)&&void 0!==n?n:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,f.jsx)("p",{children:q()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id)})),(0,f.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,f.jsxs)("button",{className:F.Z.select_application_btn,onClick:()=>n("SELECT_APPLICATION"),children:[(0,f.jsx)("div",{children:s("add_more")}),(0,f.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),(0,f.jsxs)("button",{className:F.Z.assign_btn,onClick:o,children:[s("assign")," "]})]})]})})},G=e=>{var i;let{onCloseEdit:n,setActivePopup:t,selectedStaff:l,moderatorState:a,onSelectRole:o,onUpdateModerator:s,selectedApplication:d}=e;const{t:c}=(0,p.$G)();return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(M.Z,{onClose:n,children:(0,f.jsxs)("div",{className:F.Z.assign_role_container,children:[(0,f.jsxs)("section",{className:F.Z.assign_role_title,children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:n,alt:"back icon",style:{cursor:"pointer"}}),(0,f.jsx)("h6",{children:c("update_role_to_moderator")})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,f.jsxs)("section",{className:F.Z.selected_staff_container,onClick:()=>t("OPEN_STAFF_LIST"),children:[(0,f.jsx)("img",{src:null!==l&&void 0!==l&&l.staffProfilePhoto?"".concat(m.yI,"/").concat(null===l||void 0===l?void 0:l.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,f.jsxs)("div",{className:F.Z.selected_staff_text,children:[(0,f.jsx)("h6",{children:"".concat(null===l||void 0===l?void 0:l.staffFirstName," ").concat(null!==(i=null===l||void 0===l?void 0:l.staffMiddleName)&&void 0!==i?i:""," ").concat(null===l||void 0===l?void 0:l.staffLastName)}),(0,f.jsxs)("p",{children:[c("index_number"),null===l||void 0===l?void 0:l.staffROLLNO]})]})]}),(0,f.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,f.jsx)(L.Z,{selectLabel:c("select_role_of_moderator"),selectedValue:c("please_select_role"),options:["Fee receipt authority","Application Manager","Enquiries Section","Scholarship Manager","Excess Fee Refund","Pending Fee Manager","Tab Authority","Data Export Authority"],value:"ALL_FEE_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Application Manager":"INQUIRY_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Enquiries Section":"SCHOLARSHIP_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Scholarship Manager":"REFUND_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Access Fee Moderator":"PENDING_FEE_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Pending Fee Manager":"ONE_TAB_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Tab Authority":"DATA_EXPORT_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)?"Data Export Authority":"",onClick:o}),null===d||void 0===d?void 0:d.map((e=>{var i,n,t;return(0,f.jsxs)("div",{className:F.Z.application_card,style:{width:"100%",margin:"1rem 0 0"},children:[(0,f.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,f.jsxs)("section",{className:F.Z.application_card_text,children:[(0,f.jsx)("h6",{children:null!==(i=null===e||void 0===e?void 0:e.applicationName)&&void 0!==i?i:""}),(0,f.jsxs)("div",{className:F.Z.application_card_text_bottom,children:[(0,f.jsx)("p",{children:null!==(n=null===e||void 0===e||null===(t=e.applicationDepartment)||void 0===t?void 0:t.dName)&&void 0!==n?n:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,f.jsx)("p",{children:q()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id)})),"MULTI_APP_ACCESS"===(null===a||void 0===a?void 0:a.mod_role)&&(0,f.jsxs)("button",{className:F.Z.select_application_btn,onClick:()=>t("SELECT_APPLICATION"),children:[(0,f.jsx)("div",{children:c("moderator_select_application")}),(0,f.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),(0,f.jsxs)("button",{className:F.Z.assign_btn,onClick:s,children:[c("update")," "]})]})]})})})},H=e=>{var i;let{setActivePopup:n,setSelectedApplication:l,setSelectedApplicationId:a,selectedApplicationId:o,openAs:s,role:d}=e;const{t:c}=(0,p.$G)(),[u,m]=(0,t.useState)(!0),[_,h]=(0,t.useState)(1),[g,x]=(0,k.YD)(),[j,S]=(0,t.useState)([]),[b,N]=(0,t.useState)(!0),y=(0,r.v9)((e=>e.admissionChange)),{allOngoingApp:A,allOngoingAppRefetch:C}=(0,v.JG)({data:{aid:null===y||void 0===y?void 0:y.aid,page:_,limit:10},skip:!(null!==y&&void 0!==y&&y.aid)});(0,t.useEffect)((()=>{x&&u&&h((e=>e+1))}),[x,u]),(0,t.useEffect)((()=>{null!==y&&void 0!==y&&y.aid&&(N(!0),C())}),[null===y||void 0===y?void 0:y.aid,_,C]),(0,t.useEffect)((()=>{null!==y&&void 0!==y&&y.aid&&(N(!0),C())}),[null===y||void 0===y?void 0:y.aid,C]),(0,t.useEffect)((()=>{var e;null!==A&&void 0!==A&&A.ongoing&&(S((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===A||void 0===A?void 0:A.ongoing])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),N(!1)),10===(null===A||void 0===A||null===(e=A.ongoing)||void 0===e?void 0:e.length)?m(!0):m(!1)}),[null===A||void 0===A?void 0:A.ongoing]);const Z=()=>{n("EDIT"===s?"PREVIEW_FORM":"ASSIGN_ROLE")},I=e=>{null!==o&&void 0!==o&&o.includes(null===e||void 0===e?void 0:e._id)?(l((i=>null===i||void 0===i?void 0:i.filter((i=>(null===i||void 0===i?void 0:i._id)!==(null===e||void 0===e?void 0:e._id))))),a((i=>null===i||void 0===i?void 0:i.filter((i=>i!==(null===e||void 0===e?void 0:e._id)))))):(l((i=>i?[...i,e]:[e])),a((i=>i?[...i,null===e||void 0===e?void 0:e._id]:[null===e||void 0===e?void 0:e._id])))};return(0,f.jsx)(M.Z,{onClose:Z,children:(0,f.jsxs)("div",{className:F.Z.assign_role_container,children:[(0,f.jsxs)("section",{className:F.Z.assign_role_title,style:{position:"relative"},children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:Z,alt:"back icon"}),(0,f.jsx)("h6",{children:c("assign_role_to_moderator")}),(0,f.jsxs)("button",{className:F.Z.select_btn,onClick:()=>{n("EDIT"===s?"PREVIEW_FORM":"ONE_TAB_ACCESS"===d?"ASSIGN_ROLE":"MODERATOR_PREWVIEW")},children:[null!==(i=null===o||void 0===o?void 0:o.length)&&void 0!==i?i:""," "," ",c("select")]})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%"}}),null===j||void 0===j?void 0:j.map(((e,i)=>{var n,t,l,a,s,d;return(null===j||void 0===j?void 0:j.length)===i+1?(0,f.jsxs)("div",{className:null!==o&&void 0!==o&&o.includes(null===e||void 0===e?void 0:e._id)?"".concat(F.Z.application_card," ").concat(F.Z.application_card_active):F.Z.application_card,ref:g,onClick:()=>I(e),children:[(0,f.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,f.jsxs)("section",{className:F.Z.application_card_text,children:[(0,f.jsx)("h6",{children:null!==(n=null===e||void 0===e?void 0:e.applicationName)&&void 0!==n?n:""}),(0,f.jsxs)("div",{className:F.Z.application_card_text_bottom,children:[(0,f.jsx)("p",{children:null!==(t=null===e||void 0===e||null===(l=e.applicationDepartment)||void 0===l?void 0:l.dName)&&void 0!==t?t:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,f.jsx)("p",{children:q()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id):(0,f.jsxs)("div",{className:null!==o&&void 0!==o&&o.includes(null===e||void 0===e?void 0:e._id)?"".concat(F.Z.application_card," ").concat(F.Z.application_card_active):F.Z.application_card,onClick:()=>I(e),children:[(0,f.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,f.jsxs)("section",{className:F.Z.application_card_text,children:[(0,f.jsx)("h6",{children:null!==(a=null===e||void 0===e?void 0:e.applicationName)&&void 0!==a?a:""}),(0,f.jsxs)("div",{className:F.Z.application_card_text_bottom,children:[(0,f.jsx)("p",{children:null!==(s=null===e||void 0===e||null===(d=e.applicationDepartment)||void 0===d?void 0:d.dName)&&void 0!==s?s:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,f.jsx)("p",{children:q()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id)})),b&&(0,f.jsx)(R.Z,{})]})})},V=e=>{var i,n,l,a,o;let{instituteId:s,admissionId:d,onClose:c,onRefetchWhenAdd:r,openModeratorMenu:u,openAs:_,onEdit:h}=e;const{t:g}=(0,p.$G)(),[x,j]=(0,t.useState)("EDIT"===_?"PREVIEW_FORM":"OPEN_STAFF_LIST"),[S,b]=(0,t.useState)("EDIT"===_?null===u||void 0===u?void 0:u.access_staff:""),[N,y]=(0,t.useState)({mod_role:"EDIT"===_?null===u||void 0===u?void 0:u.access_role:"",sid:"EDIT"===_?null===u||void 0===u||null===(i=u.access_staff)||void 0===i?void 0:i._id:"",app_array:[],one_tab:""}),[A,C]=(0,t.useState)("EDIT"===_?null===u||void 0===u?void 0:u.access_application:[]),[Z,I]=(0,t.useState)([]),[E]=(0,v.z_)();(0,t.useEffect)((()=>{if("EDIT"===_){var e;b(null===u||void 0===u?void 0:u.access_staff),C(null===u||void 0===u?void 0:u.access_application);let i=[];for(let e of null===u||void 0===u?void 0:u.access_application)i.push(null===e||void 0===e?void 0:e._id);I(i),y({mod_role:null===u||void 0===u?void 0:u.access_role,sid:null===u||void 0===u||null===(e=u.access_staff)||void 0===e?void 0:e._id,app_array:i}),j("PREVIEW_FORM")}}),[_]);const T=()=>{j("OPEN_STAFF_LIST")},P=e=>{y((i=>({...i,mod_role:"Fee receipt authority"===e?"ALL_FEE_ACCESS":"Application Manager"===e?"MULTI_APP_ACCESS":"Enquiries Section"===e?"INQUIRY_ACCESS":"Scholarship Manager"===e?"SCHOLARSHIP_ACCESS":"Excess Fee Refund"===e?"REFUND_ACCESS":"Pending Fee Manager"===e?"PENDING_FEE_ACCESS":"Tab Authority"===e?"ONE_TAB_ACCESS":"Data Export Authority"===e?"DATA_EXPORT_ACCESS":""})))},k=()=>{j("LOADING"),E({aid:d,active_tab:N.one_tab,addModerator:"MULTI_APP_ACCESS"===(null===N||void 0===N?void 0:N.mod_role)||"ONE_TAB_ACCESS"===(null===N||void 0===N?void 0:N.mod_role)?{mod_role:N.mod_role,sid:N.sid,app_array:Z}:N}).then((()=>{r(),j(""),c()})).catch({})};return(0,f.jsxs)(f.Fragment,{children:["OPEN_STAFF_LIST"===x&&(0,f.jsx)(O.default,{assignHead:"OPEN_STAFF_LIST"===x,headSelect:e=>{b(e),y((i=>({...i,sid:null===e||void 0===e?void 0:e._id}))),j("EDIT"===_?"PREVIEW_FORM":"ASSIGN_ROLE")},title:g("staff_list"),onClose:c,instituteId:s,viewAs:"ADMISSION_ADMIN"}),"ASSIGN_ROLE"===x&&(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(M.Z,{onClose:T,children:(0,f.jsxs)("div",{className:F.Z.assign_role_container,children:[(0,f.jsxs)("section",{className:F.Z.assign_role_title,children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:T,alt:"back icon"}),(0,f.jsx)("h6",{children:g("assign_role_to_moderator")})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,f.jsxs)("section",{className:F.Z.selected_staff_container,children:[(0,f.jsx)("img",{src:null!==S&&void 0!==S&&S.staffProfilePhoto?"".concat(m.yI,"/").concat(null===S||void 0===S?void 0:S.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,f.jsxs)("div",{className:F.Z.selected_staff_text,children:[(0,f.jsx)("h6",{children:"".concat(null!==(n=null===S||void 0===S?void 0:S.staffFirstName)&&void 0!==n?n:""," ").concat(null!==(l=null===S||void 0===S?void 0:S.staffMiddleName)&&void 0!==l?l:""," ").concat(null!==(a=null===S||void 0===S?void 0:S.staffLastName)&&void 0!==a?a:"")}),(0,f.jsxs)("p",{children:[g("index_number"),null!==(o=null===S||void 0===S?void 0:S.staffROLLNO)&&void 0!==o?o:""]})]})]}),(0,f.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,f.jsx)(L.Z,{selectLabel:g("select_role_of_moderator"),selectedValue:g("please_select_role"),options:["Fee receipt authority","Application Manager","Enquiries Section","Scholarship Manager","Excess Fee Refund","Pending Fee Manager","Tab Authority","Data Export Authority"],value:"ALL_FEE_ACCESS"===(null===N||void 0===N?void 0:N.mod_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===N||void 0===N?void 0:N.mod_role)?"Application Manager":"INQUIRY_ACCESS"===(null===N||void 0===N?void 0:N.mod_role)?"Enquiries Section":"SCHOLARSHIP_ACCESS"===(null===N||void 0===N?void 0:N.mod_role)?"Scholarship Manager":"REFUND_ACCESS"===(null===N||void 0===N?void 0:N.mod_role)?"Excess Fee Refund":"PENDING_FEE_ACCESS"===(null===N||void 0===N?void 0:N.mod_role)?"Pending Fee Manager":"ONE_TAB_ACCESS"===(null===N||void 0===N?void 0:N.mod_role)?"Tab Authority":"DATA_EXPORT_ACCESS"===(null===N||void 0===N?void 0:N.mod_role)?"Data Export Authority":"",onClick:P}),"ONE_TAB_ACCESS"===N.mod_role&&(0,f.jsx)(L.Z,{selectLabel:g("select_tab_role"),selectedValue:g("please_select_role"),options:["Application","Selected","Confirmed","Allotted","Cancelled"],value:null===N||void 0===N?void 0:N.one_tab,onClick:e=>{y((i=>({...i,one_tab:e})))}}),"MULTI_APP_ACCESS"===N.mod_role?(0,f.jsxs)("button",{className:F.Z.select_application_btn,onClick:()=>j("SELECT_APPLICATION"),children:[(0,f.jsx)("div",{children:g("moderator_select_application")}),(0,f.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}):(0,f.jsxs)("button",{className:F.Z.assign_btn,onClick:k,children:[g("assign")," "]})]})]})})}),"SELECT_APPLICATION"===x&&(0,f.jsx)(H,{admissionId:d,setActivePopup:j,setSelectedApplication:C,selectedApplication:A,setSelectedApplicationId:I,selectedApplicationId:Z,openAs:_,role:N.mod_role}),"MODERATOR_PREWVIEW"===x&&(0,f.jsx)(B,{setActivePopup:j,selectedApplication:A,selectedStaff:S,moderatorState:N,onAssignModerator:k}),"PREVIEW_FORM"===x&&(0,f.jsx)(G,{onCloseEdit:()=>{c()},setActivePopup:j,selectedStaff:S,moderatorState:N,onSelectRole:P,onUpdateModerator:()=>{h(N,Z),c()},selectedApplication:A}),"LOADING"===x&&(0,f.jsx)(w.Z,{})]})};var W=n(12072),J=n(84489),$=n(87049);const Y=e=>{let{onClose:i,admissionId:n,onRefetch:l,openModeratorMenu:a,instituteId:o}=e;const[s,d]=(0,t.useState)(!1),[c,r]=(0,t.useState)(!1),[u]=(0,v.vh)(),[m]=(0,v.Pn)();return(0,f.jsx)(f.Fragment,{children:c?(0,f.jsx)(V,{onClose:()=>r(!1),admissionId:n,instituteId:o,onRefetch:l,openAs:"EDIT",openModeratorMenu:a,onEdit:(e,n)=>{d((e=>!e)),r(!1),m({modId:null===a||void 0===a?void 0:a._id,active_tab:null===e||void 0===e?void 0:e.one_tab,updateModerator:{role:null===e||void 0===e?void 0:e.mod_role,staffId:null===e||void 0===e?void 0:e.sid,app_array:"MULTI_APP_ACCESS"===(null===e||void 0===e?void 0:e.mod_role)||"MULTI_APP_ACCESS"===(null===e||void 0===e?void 0:e.mod_role)?n:[]}}).then((()=>{l(),d((e=>!e)),i()})).catch({})}}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(J.Z,{onClose:i}),(0,f.jsxs)(W.Z,{customStyle:{zIndex:"1200"},children:[(0,f.jsxs)("div",{className:$.Z.edit_modal_container,style:{width:"200px"},children:[(0,f.jsx)("h6",{className:$.Z.edit,onClick:()=>r((e=>!e)),children:"Edit"}),(0,f.jsx)("h6",{className:$.Z.remove,onClick:()=>{d((e=>!e)),u({aid:n,modId:null===a||void 0===a?void 0:a._id}).then((()=>{l(),i(),d((e=>!e))})).catch({})},children:"Delete"})]}),s&&(0,f.jsx)(w.Z,{})]})]})})},z=e=>{var i,n,t,l,a,o,s,d,c,r,u;let{moderator:v,setOpenModeratorMenu:_}=e;const{t:h}=(0,p.$G)();return(0,f.jsxs)("div",{className:F.Z.moderator_card,children:[(0,f.jsx)("img",{src:null!==v&&void 0!==v&&null!==(i=v.access_staff)&&void 0!==i&&i.staffProfilePhoto?"".concat(m.yI,"/").concat(null===v||void 0===v||null===(n=v.access_staff)||void 0===n?void 0:n.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"moderator avatar"}),(0,f.jsxs)("section",{className:F.Z.moderator_card_text_container,children:[(0,f.jsx)("h6",{children:"".concat(null===v||void 0===v||null===(t=v.access_staff)||void 0===t?void 0:t.staffFirstName," ").concat(null!==(l=null===v||void 0===v||null===(a=v.access_staff)||void 0===a?void 0:a.staffMiddleName)&&void 0!==l?l:""," ").concat(null===v||void 0===v||null===(o=v.access_staff)||void 0===o?void 0:o.staffLastName)}),(0,f.jsxs)("p",{children:[h("index_number"),null===v||void 0===v||null===(s=v.access_staff)||void 0===s?void 0:s.staffROLLNO]}),(0,f.jsx)("p",{children:"ALL_FEE_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Application Manager":"INQUIRY_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Enquiries Section":"SCHOLARSHIP_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Scholarship Manager":"REFUND_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Access Fee Moderator":"PENDING_FEE_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Pending Fee Manager":"ONE_TAB_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Application"===(null===v||void 0===v||null===(d=v.active_tab)||void 0===d?void 0:d.role)?"Admission Application Tab":"Selected"===(null===v||void 0===v||null===(c=v.active_tab)||void 0===c?void 0:c.role)?"Admission Selected Tab":"Confirmed"===(null===v||void 0===v||null===(r=v.active_tab)||void 0===r?void 0:r.role)?"Admission Confirmed Tab":"Allotted"===(null===v||void 0===v||null===(u=v.active_tab)||void 0===u?void 0:u.role)?"Admission Allotted Tab":"Admission Cancelled Tab":"DATA_EXPORT_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Data Export Authority":""})]}),(0,f.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:()=>_(v),className:F.Z.menu_icon,title:"Menu"})]})};var Q=n(65543);const X=e=>{let{instituteId:i,admissionId:n}=e;const{t:l}=(0,p.$G)(),a=(0,x.s0)(),[o,s]=(0,t.useState)(!1),[d,c]=(0,t.useState)(""),[r,u]=(0,k.YD)(),[m,_]=(0,t.useState)(1),[h,g]=(0,t.useState)(!0),[j,S]=(0,t.useState)(!1),[b,N]=(0,t.useState)(!0),[y,A]=(0,t.useState)([]),{getModeratorByAdmissionAdmin:C,getModeratorByAdmissionAdminRefetch:Z}=(0,v.fW)({data:{aid:n,page:m,limit:10},skip:!n}),{scrollToTop:I}=(0,Q.u)();(0,t.useEffect)((()=>{I()}),[]),(0,t.useEffect)((()=>{n&&(N(!0),Z())}),[n,m,Z]),(0,t.useEffect)((()=>{u&&h&&_((e=>e+1))}),[u,h]),(0,t.useEffect)((()=>{var e,i;j?(A(null===C||void 0===C?void 0:C.all_mods),S(!1),N(!1)):null!==C&&void 0!==C&&C.all_mods?(A((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===C||void 0===C?void 0:C.all_mods])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),N(!1)):0===(null===C||void 0===C||null===(i=C.all_mods)||void 0===i?void 0:i.length)&&N(!1);10===(null===C||void 0===C||null===(e=C.all_mods)||void 0===e?void 0:e.length)?g(!0):g(!1)}),[null===C||void 0===C?void 0:C.all_mods]);const E=()=>{S(!0),_(1),N(!0),Z()};return(0,f.jsxs)("div",{className:F.Z.moderator_container,children:[(0,f.jsxs)("section",{className:F.Z.moderator_container_title,children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{a(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,f.jsx)("h6",{children:l("admission_moderators")})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,f.jsx)("h6",{className:F.Z.add_new_moderator,onClick:()=>s(!0),children:l("add_new_moderator")}),(0,f.jsxs)("div",{className:F.Z.refund_list,children:[null===y||void 0===y?void 0:y.map(((e,i)=>(null===y||void 0===y?void 0:y.length)===i+1?(0,f.jsx)("div",{ref:r,children:(0,f.jsx)(z,{moderator:e,setOpenModeratorMenu:c})},null===e||void 0===e?void 0:e._id):(0,f.jsx)(z,{moderator:e,setOpenModeratorMenu:c},null===e||void 0===e?void 0:e._id))),o&&(0,f.jsx)(V,{onClose:()=>s((e=>!e)),instituteId:i,admissionId:n,onRefetchWhenAdd:E}),d&&(0,f.jsx)(Y,{admissionId:n,instituteId:i,onRefetch:E,onClose:()=>c(""),openModeratorMenu:d}),b&&(0,f.jsx)(R.Z,{})]})]})};var K=n(29407),ee=n(25313),ie=n(41233),ne=n(33992),te=n(16256),le=n(87932);const ae=e=>{var i,n;let{admissionId:l,instituteId:a,financeId:o,carryParentState:s,onClose:d,viewAs:c,onRefetch:r}=e;const{t:u}=(0,p.$G)(),m=(0,x.s0)(),_=(0,x.UO)(),[h,g]=(0,t.useState)(!1),[j,S]=(0,t.useState)(!1),[b,N]=(0,t.useState)({depart:"",batch:"",master:"",fee_struct:""}),[y,A]=(0,t.useState)({gender:"",caste:"",is_all:""}),{allDepartmentList:C,allDepartmentListRefetch:Z}=(0,v.nJ)({aid:l,skip:!l}),{allClassMaster:I,allClassMasterRefetch:E}=(0,ne.tx)({data:{id:a,did:b.depart},skip:"All"===b.depart||!b.depart}),{oneDepartment:T,oneDepartmentRefetch:P}=(0,ne._C)({did:b.depart,skip:"All"===b.depart||!b.depart}),{getAllFeesCategory:k,getAllFeesCategoryRefetch:R}=(0,le.Z)({fid:o,skip:!o}),[D]=(0,v.rJ)();(0,t.useEffect)((()=>{l&&Z()}),[l,Z]),(0,t.useEffect)((()=>{b.depart&&"All"!==b.depart&&E()}),[b.depart,E]),(0,t.useEffect)((()=>{b.depart&&"All"!==b.depart&&P()}),[b.depart,P]),(0,t.useEffect)((()=>{o&&R()}),[o,R]);return(0,f.jsxs)(M.Z,{onClose:d,children:[(0,f.jsxs)("div",{className:ee.Z.filter_container,children:[(0,f.jsx)("h6",{className:ee.Z.filter_title,children:u("filter_and_export_fees_data")}),!h&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ie.Z,{selectLabel:u("select_department"),selectedValue:u("all_select_particular_department"),options:null!==C&&void 0!==C&&C.allDB?["All",...null===C||void 0===C?void 0:C.allDB]:["All"],onClick:e=>{N((i=>({...i,depart:e})))}}),(0,f.jsx)(ie.Z,{selectLabel:"All"===b.depart?u("select_current_batch"):u("select_batch_optional"),selectedValue:"All"===b.depart?u("select_pref"):u("all_time_select_batch"),options:"All"===b.depart?["Current","All"]:null!==T&&void 0!==T&&null!==(i=T.department)&&void 0!==i&&i.batches?[...null===T||void 0===T||null===(n=T.department)||void 0===n?void 0:n.batches]:[],onClick:e=>{N((i=>({...i,batch:e})))}}),"All"===b.depart?"":(0,f.jsx)(ie.Z,{selectLabel:u("select_standard_year"),selectedValue:u("select_standard_year_placeholder"),options:null!==I&&void 0!==I&&I.classMaster?[...null===I||void 0===I?void 0:I.classMaster]:[],onClick:e=>{N((i=>({...i,master:e})))}}),(0,f.jsx)("button",{className:ee.Z.next_btn,onClick:()=>g((e=>!e)),children:u("next")})]}),h&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ie.Z,{selectLabel:u("select_gender"),selectedValue:u("select_gender_placeholder"),options:["Male","Female","Other"],onClick:e=>{A((i=>({...i,gender:e})))}}),(0,f.jsx)(ie.Z,{selectLabel:u("select_caste_catgory"),selectedValue:u("select_caste_catgory_placeholder"),options:te.De,onClick:e=>{A((i=>({...i,caste:e})))}}),(0,f.jsx)(ie.Z,{selectLabel:u("select_fee_category"),selectedValue:u("select_fee_category_placeholder"),options:null!==k&&void 0!==k&&k.all_fees_format?[...null===k||void 0===k?void 0:k.all_fees_format]:[],onClick:e=>{N((i=>({...i,fee_struct:e})))}}),(0,f.jsx)(ie.Z,{selectLabel:u("select_all_or_pending"),selectedValue:u("select_all_or_pending_placeholder"),options:["All Time Fees","Pending Fees"],onClick:e=>{A((i=>({...i,is_all:"All Time Fees"===e})))}}),(0,f.jsx)("button",{className:ee.Z.next_btn,onClick:()=>{S((e=>!e)),D({aid:l,...y,all_depart:"All"===b.depart?"All":"Particular",batch_status:b.batch,pendingData:{depart:"All"===b.depart?"":b.depart,batch:"All"===b.depart?"":b.batch,master:"All"===b.depart?[]:[b.master],fee_struct:"All"===b.depart?"":b.fee_struct}}).then((()=>{"EXPORT"===c?(r(),d()):m("/q/".concat(_.username,"/member/admission?a=export"),{state:{...s}}),S((e=>!e))})).catch({})},children:u("export_data")})]})]}),j&&(0,f.jsx)(w.Z,{})]})};var oe=n(85162);const se=e=>{let{onClose:i,xlsxId:n,onRefetch:l,admissionId:a}=e;const[o,s]=(0,t.useState)(!1),[d,c]=(0,t.useState)(!1),[r]=(0,v.f_)(),[u]=(0,v.JD)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(J.Z,{onClose:i}),(0,f.jsxs)(W.Z,{customStyle:{zIndex:"1200"},children:[d?(0,f.jsx)(oe.Z,{xlsxId:n,onEdit:e=>{s((e=>!e)),u({aid:a,xlsxId:null===n||void 0===n?void 0:n._id,excelUpdate:{excel_file_name:e}}).then((()=>{l(),s((e=>!e)),i()})).catch({})}}):(0,f.jsxs)("div",{className:$.Z.edit_modal_container,style:{width:"200px"},children:[(0,f.jsx)("h6",{className:$.Z.edit,onClick:()=>c((e=>!e)),children:"Edit"}),(0,f.jsx)("h6",{className:$.Z.remove,onClick:()=>{s((e=>!e)),r({aid:a,xlsxId:null===n||void 0===n?void 0:n._id}).then((()=>{l(),i(),s((e=>!e))})).catch({})},children:"Delete"})]}),o&&(0,f.jsx)(w.Z,{})]})]})},de=e=>{var i,n;let{admissionId:l,funds:a,carryParentState:o}=e;const{t:s}=(0,p.$G)(),d=(0,x.s0)(),[c,r]=(0,k.YD)(),[u,m]=(0,t.useState)(1),[_,h]=(0,t.useState)(!0),[g,j]=(0,t.useState)(!1),[S,b]=(0,t.useState)(!0),[N,y]=(0,t.useState)([]),[A,C]=(0,t.useState)(!1),[Z,I]=(0,t.useState)(!1),{getAllExcelByAdmissionAdmin:E,getAllExcelByAdmissionAdminRefetch:T}=(0,v.Ke)({data:{aid:l,page:u,limit:10},skip:!l}),{scrollToTop:P}=(0,Q.u)();(0,t.useEffect)((()=>{P()}),[]),(0,t.useEffect)((()=>{l&&(b(!0),T())}),[l,u,T]),(0,t.useEffect)((()=>{r&&_&&m((e=>e+1))}),[r,_]),(0,t.useEffect)((()=>{var e,i;g?(y(null===E||void 0===E?void 0:E.all_excel),j(!1),b(!1)):null!==E&&void 0!==E&&E.all_excel?(y((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===E||void 0===E?void 0:E.all_excel])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),b(!1)):0===(null===E||void 0===E||null===(i=E.all_excel)||void 0===i?void 0:i.length)&&b(!1);10===(null===E||void 0===E||null===(e=E.all_excel)||void 0===e?void 0:e.length)?h(!0):h(!1)}),[null===E||void 0===E?void 0:E.all_excel]);const O=()=>{C((e=>!e))},L=()=>{m(1),T(),j(!0)};return(0,f.jsxs)("div",{className:K.Z.refund_container,children:[(0,f.jsxs)("section",{className:K.Z.refund_container_title,children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{d(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,f.jsxs)("div",{className:K.Z.refund_container_title,style:{justifyContent:"space-between",width:"95%"},children:[(0,f.jsx)("h6",{children:s("data_export")}),(0,f.jsx)("img",{src:"/images/export-filter-icon.svg",alt:"",onClick:O,className:K.Z.admission_filter_icon})]})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,f.jsxs)("div",{className:K.Z.refund_list,children:[null===N||void 0===N?void 0:N.map(((e,i)=>{var n,t;return(null===N||void 0===N?void 0:N.length)===i+1?(0,f.jsxs)("a",{ref:c,className:K.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,f.jsx)("img",{src:"/images/export-xsxl-icon.svg",alt:""}),(0,f.jsxs)("section",{className:K.Z.export_card_text,children:[(0,f.jsx)("h6",{children:null!==(n=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==n?n:""}),(0,f.jsxs)("div",{className:K.Z.export_card_date,children:[(0,f.jsx)("h6",{children:q()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,f.jsx)("h6",{children:q()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]}),(0,f.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:i=>{i.preventDefault(),I(e)},className:K.Z.menu_icon,title:"Menu"})]},null===e||void 0===e?void 0:e._id):(0,f.jsxs)("a",{className:K.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,f.jsx)("img",{src:"/images/export-xsxl-icon.svg",alt:""}),(0,f.jsxs)("section",{className:K.Z.export_card_text,children:[(0,f.jsx)("h6",{children:null!==(t=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==t?t:""}),(0,f.jsxs)("div",{className:K.Z.export_card_date,children:[(0,f.jsx)("h6",{children:q()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,f.jsx)("h6",{children:q()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]}),(0,f.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:i=>{i.preventDefault(),I(e)},className:K.Z.menu_icon,title:"Menu"})]},null===e||void 0===e?void 0:e._id)})),S&&(0,f.jsx)(R.Z,{}),A&&(0,f.jsx)(ae,{admissionId:l,instituteId:null===a||void 0===a||null===(i=a.institute)||void 0===i?void 0:i._id,financeId:null===a||void 0===a||null===(n=a.institute)||void 0===n?void 0:n.financeDepart[0],carryParentState:o,onClose:O,viewAs:"EXPORT",onRefetch:L}),Z&&(0,f.jsx)(se,{xlsxId:Z,onClose:()=>I(""),onRefetch:L,admissionId:l})]})]})};var ce=n(15961);const re=["enquiry","student"],ue=["receipt&n=request","receipt&n=accept","receipt&n=reject","student"],ve=["ongoing","ongoing&n=application","ongoing&n=select","ongoing&n=confirm","ongoing&n=allot","ongoing&n=cancel","ongoing&n=mulitple","student"],me=["scholarship","scholarship&n","student"],pe=["refund","student"],_e=["pending","student"],he=["ongoing","ongoing&n=application","student"],ge=["ongoing","ongoing&n=select","student"],xe=["ongoing","ongoing&n=confirm","ongoing&n=mulitple","student"],fe=["ongoing","ongoing&n=allot","student"],je=["ongoing","ongoing&n=cancel","student"],Se=["export","student"],be=e=>{let{carryParentState:i,activeTab:n,accessRole:t,accessTpye:l,callApi:a,children:o}=e;const s=(0,x.UO)();return(0,f.jsx)(f.Fragment,{children:"INQUIRY_ACCESS"===t?null!==re&&void 0!==re&&re.includes(n)?(0,f.jsx)(b.rU,{to:"/q/".concat(s.username,"/member/admission?a=").concat(n),state:{...i},children:o}):(0,f.jsx)("div",{style:{opacity:"0.5"},children:o}):"ALL_FEE_ACCESS"===t?null!==ue&&void 0!==ue&&ue.includes(n)?(0,f.jsx)(b.rU,{to:"/q/".concat(s.username,"/member/admission?a=").concat(n),state:{...i},children:o}):(0,f.jsx)("div",{style:{opacity:"0.5"},children:o}):"MULTI_APP_ACCESS"===t?null!==ve&&void 0!==ve&&ve.includes(n)?(0,f.jsx)(b.rU,{to:"/q/".concat(s.username,"/member/admission?a=").concat(n),state:{...i},children:o}):(0,f.jsx)("div",{style:{opacity:"0.5"},children:o}):"SCHOLARSHIP_ACCESS"===t?null!==me&&void 0!==me&&me.includes(null===n||void 0===n?void 0:n.substring(0,11))?(0,f.jsx)(b.rU,{to:"/q/".concat(s.username,"/member/admission?a=").concat(n),state:{...i},children:o}):(0,f.jsx)("div",{style:{opacity:"0.5"},children:o}):"REFUND_ACCESS"===t?null!==pe&&void 0!==pe&&pe.includes(n)?(0,f.jsx)(b.rU,{to:"/q/".concat(s.username,"/member/admission?a=").concat(n),state:{...i},children:o}):(0,f.jsx)("div",{style:{opacity:"0.5"},children:o}):"PENDING_FEE_ACCESS"===t?null!==_e&&void 0!==_e&&_e.includes(n)?(0,f.jsx)(b.rU,{to:"/q/".concat(s.username,"/member/admission?a=").concat(n),state:{...i},children:o}):(0,f.jsx)("div",{style:{opacity:"0.5"},children:o}):"ONE_TAB_ACCESS"===t?"Application"===l?null!==he&&void 0!==he&&he.includes(n)?(0,f.jsx)(b.rU,{to:"/q/".concat(s.username,"/member/admission?a=").concat(n),state:{...i},children:o}):(0,f.jsx)("div",{style:{opacity:"0.5"},children:o}):"Selected"===l?null!==ge&&void 0!==ge&&ge.includes(n)?(0,f.jsx)(b.rU,{to:"/q/".concat(s.username,"/member/admission?a=").concat(n),state:{...i},children:o}):(0,f.jsx)("div",{style:{opacity:"0.5"},children:o}):"Confirmed"===l?null!==xe&&void 0!==xe&&xe.includes(n)?(0,f.jsx)(b.rU,{to:"/q/".concat(s.username,"/member/admission?a=").concat(n),state:{...i},children:o}):(0,f.jsx)("div",{style:{opacity:"0.5"},children:o}):"Allotted"===l?null!==fe&&void 0!==fe&&fe.includes(n)?(0,f.jsx)(b.rU,{to:"/q/".concat(s.username,"/member/admission?a=").concat(n),state:{...i},children:o}):(0,f.jsx)("div",{style:{opacity:"0.5"},children:o}):null!==je&&void 0!==je&&je.includes(n)?(0,f.jsx)(b.rU,{to:"/q/".concat(s.username,"/member/admission?a=").concat(n),state:{...i},children:o}):(0,f.jsx)("div",{style:{opacity:"0.5"},children:o}):"DATA_EXPORT_ACCESS"===t?null!==Se&&void 0!==Se&&Se.includes(n)?(0,f.jsx)(b.rU,{to:"/q/".concat(s.username,"/member/admission?a=").concat(n),state:{...i},children:o}):(0,f.jsx)("div",{style:{opacity:"0.5"},children:o}):a?(0,f.jsx)(b.rU,{to:"/q/".concat(s.username,"/member/admission?a=").concat(n),state:{...i},children:o}):(0,f.jsx)("div",{style:{opacity:"0.5"},children:o})})},Ne=e=>{var i,n,t,l,a,o,s,d,c,r,u,v,m,p,_,h,g,x,j,S;let{data:b,carryParentState:N,accessRole:y,accessApplication:C,setOpenApplicationMenu:Z,accessTpye:I,callApi:E,pageOpenAs:T}=e;const P=e=>{e.preventDefault(),Z(b)};return(0,f.jsx)(f.Fragment,{children:"INSTITUTE"===T?(0,f.jsx)(A,{carryParentState:{...N,applicationId:null===b||void 0===b?void 0:b._id},activeTab:"?a=ongoing&n=application",children:(0,f.jsxs)("div",{className:ce.Z.ongoing_card,children:[(0,f.jsxs)("div",{className:ce.Z.ongoing_card_inner,children:[(0,f.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,f.jsxs)("div",{className:ce.Z.ongoing_card_text,children:[(0,f.jsx)("h6",{children:null===b||void 0===b?void 0:b.applicationName}),(0,f.jsx)("p",{children:null===b||void 0===b||null===(i=b.applicationDepartment)||void 0===i?void 0:i.dName})]})]}),(0,f.jsx)("div",{className:ce.Z.ongoing_card_count_date,children:(0,f.jsxs)("div",{className:ce.Z.ongoing_card_count_container,children:[(0,f.jsx)("h6",{children:null!==(n=null===b||void 0===b?void 0:b.receievedCount)&&void 0!==n?n:0}),(0,f.jsx)("h6",{children:null!==(t=null===b||void 0===b?void 0:b.selectCount)&&void 0!==t?t:0}),(0,f.jsx)("h6",{children:null!==(l=null===b||void 0===b?void 0:b.confirmCount)&&void 0!==l?l:0})]})}),(0,f.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:P,className:ce.Z.menu_icon,title:"Menu"})]})}):y?I?(0,f.jsx)(be,{carryParentState:{...N,applicationId:null===b||void 0===b?void 0:b._id},activeTab:"ongoing&n=".concat("Application"===I?"application":"Selected"===I?"select":"Confirmed"===I?"confirm":"Allotted"===I?"allot":"cancel"),accessRole:y,accessTpye:I,callApi:E,children:(0,f.jsxs)("div",{className:ce.Z.ongoing_card,children:[(0,f.jsxs)("div",{className:ce.Z.ongoing_card_inner,children:[(0,f.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,f.jsxs)("div",{className:ce.Z.ongoing_card_text,children:[(0,f.jsx)("h6",{children:null===b||void 0===b?void 0:b.applicationName}),(0,f.jsx)("p",{children:null===b||void 0===b||null===(a=b.applicationDepartment)||void 0===a?void 0:a.dName})]})]}),(0,f.jsx)("div",{className:ce.Z.ongoing_card_count_date,children:(0,f.jsxs)("div",{className:ce.Z.ongoing_card_count_container,children:[(0,f.jsx)("h6",{children:null!==(o=null===b||void 0===b?void 0:b.receievedCount)&&void 0!==o?o:0}),(0,f.jsx)("h6",{children:null!==(s=null===b||void 0===b?void 0:b.selectCount)&&void 0!==s?s:0}),(0,f.jsx)("h6",{children:null!==(d=null===b||void 0===b?void 0:b.confirmCount)&&void 0!==d?d:0})]})})]})}):null!==C&&void 0!==C&&C.includes(null===b||void 0===b?void 0:b._id)?(0,f.jsx)(be,{carryParentState:{...N,applicationId:null===b||void 0===b?void 0:b._id},activeTab:"ongoing&n=application",accessRole:y,callApi:E,children:(0,f.jsxs)("div",{className:ce.Z.ongoing_card,children:[(0,f.jsxs)("div",{className:ce.Z.ongoing_card_inner,children:[(0,f.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,f.jsxs)("div",{className:ce.Z.ongoing_card_text,children:[(0,f.jsx)("h6",{children:null===b||void 0===b?void 0:b.applicationName}),(0,f.jsx)("p",{children:null===b||void 0===b||null===(c=b.applicationDepartment)||void 0===c?void 0:c.dName})]})]}),(0,f.jsx)("div",{className:ce.Z.ongoing_card_count_date,children:(0,f.jsxs)("div",{className:ce.Z.ongoing_card_count_container,children:[(0,f.jsx)("h6",{children:null!==(r=null===b||void 0===b?void 0:b.receievedCount)&&void 0!==r?r:0}),(0,f.jsx)("h6",{children:null!==(u=null===b||void 0===b?void 0:b.selectCount)&&void 0!==u?u:0}),(0,f.jsx)("h6",{children:null!==(v=null===b||void 0===b?void 0:b.confirmCount)&&void 0!==v?v:0})]})})]})}):(0,f.jsxs)("div",{className:ce.Z.ongoing_card,style:{opacity:"0.5"},children:[(0,f.jsxs)("div",{className:ce.Z.ongoing_card_inner,children:[(0,f.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,f.jsxs)("div",{className:ce.Z.ongoing_card_text,children:[(0,f.jsx)("h6",{children:null===b||void 0===b?void 0:b.applicationName}),(0,f.jsx)("p",{children:null===b||void 0===b||null===(m=b.applicationDepartment)||void 0===m?void 0:m.dName})]})]}),(0,f.jsx)("div",{className:ce.Z.ongoing_card_count_date,children:(0,f.jsxs)("div",{className:ce.Z.ongoing_card_count_container,children:[(0,f.jsx)("h6",{children:null!==(p=null===b||void 0===b?void 0:b.receievedCount)&&void 0!==p?p:0}),(0,f.jsx)("h6",{children:null!==(_=null===b||void 0===b?void 0:b.selectCount)&&void 0!==_?_:0}),(0,f.jsx)("h6",{children:null!==(h=null===b||void 0===b?void 0:b.confirmCount)&&void 0!==h?h:0})]})})]}):(0,f.jsx)(be,{carryParentState:{...N,applicationId:null===b||void 0===b?void 0:b._id},activeTab:"ongoing&n=application",accessRole:y,accessTpye:I,callApi:E,children:(0,f.jsxs)("div",{className:ce.Z.ongoing_card,children:[(0,f.jsxs)("div",{className:ce.Z.ongoing_card_inner,children:[(0,f.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,f.jsxs)("div",{className:ce.Z.ongoing_card_text,children:[(0,f.jsx)("h6",{children:null===b||void 0===b?void 0:b.applicationName}),(0,f.jsx)("p",{children:null===b||void 0===b||null===(g=b.applicationDepartment)||void 0===g?void 0:g.dName})]})]}),(0,f.jsx)("div",{className:ce.Z.ongoing_card_count_date,children:(0,f.jsxs)("div",{className:ce.Z.ongoing_card_count_container,children:[(0,f.jsx)("h6",{children:null!==(x=null===b||void 0===b?void 0:b.receievedCount)&&void 0!==x?x:0}),(0,f.jsx)("h6",{children:null!==(j=null===b||void 0===b?void 0:b.selectCount)&&void 0!==j?j:0}),(0,f.jsx)("h6",{children:null!==(S=null===b||void 0===b?void 0:b.confirmCount)&&void 0!==S?S:0})]})}),(0,f.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:P,className:ce.Z.menu_icon,title:"Menu"})]})})})};var ye=n(61503),Ae=n(95290);const Ce=e=>{var i;let{carryParentState:n,accessRole:l,accessApplication:a,accessTpye:o,callApi:s,admissionId:d,pageOpenAs:c}=e;const{t:u}=(0,p.$G)(),m=(0,r.v9)((e=>e.admissionChange)),[_,h]=(0,t.useState)(!0),[g,x]=(0,t.useState)(1),[j,S]=(0,k.YD)(),[b,N]=(0,t.useState)([]),[y,A]=(0,t.useState)(!0),[C,Z]=(0,t.useState)(""),[I,E]=(0,t.useState)(!1),[T,P]=(0,t.useState)(!1),{allOngoingApp:D,allOngoingAppRefetch:O}=(0,v.JG)({data:{aid:d||(null===m||void 0===m?void 0:m.aid),page:g,limit:10},skip:d?!d:!(null!==m&&void 0!==m&&m.aid)}),{scrollToTop:L}=(0,Q.u)();(0,t.useEffect)((()=>{L()}),[]),(0,t.useEffect)((()=>{S&&_&&x((e=>e+1))}),[S,_]),(0,t.useEffect)((()=>{(null!==m&&void 0!==m&&m.aid||d)&&(A(!0),O())}),[null===m||void 0===m?void 0:m.aid,d,g,O]),(0,t.useEffect)((()=>{var e,i;I?(N(null===D||void 0===D?void 0:D.ongoing),A(!1),E(!1)):null!==D&&void 0!==D&&D.ongoing?(N((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===D||void 0===D?void 0:D.ongoing])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),A(!1)):0===(null===D||void 0===D||null===(i=D.ongoing)||void 0===i?void 0:i.length)&&A(!1);10===(null===D||void 0===D||null===(e=D.ongoing)||void 0===e?void 0:e.length)?h(!0):h(!1)}),[null===D||void 0===D?void 0:D.ongoing]);const w=()=>{x(1),E(!0),A(!0),O()};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("p",{className:ce.Z.add_new_category,onClick:()=>{l||P((e=>!e))},style:{opacity:l?"0.5":1},children:u("create_new_application")}),(0,f.jsxs)("div",{className:ce.Z.remainingFees,children:[null===b||void 0===b?void 0:b.map(((e,i)=>(null===b||void 0===b?void 0:b.length)===i+1?(0,f.jsx)("div",{ref:j,children:(0,f.jsx)(Ne,{data:e,carryParentState:n,accessRole:l,accessTpye:o,callApi:s,accessApplication:a,setOpenApplicationMenu:Z,pageOpenAs:c})},i):(0,f.jsx)(Ne,{data:e,carryParentState:n,accessRole:l,accessTpye:o,callApi:s,accessApplication:a,setOpenApplicationMenu:Z,pageOpenAs:c},i))),y&&(0,f.jsx)(R.Z,{status:"white"})]}),C&&(0,f.jsx)(ye.Z,{openApplicationMenu:C,onClose:()=>Z(""),onRefetch:w,insAdmissionId:d}),T&&(0,f.jsx)(Ae.Z,{setCreateApplication:P,createApplication:T,admissionId:null!==(i=null===m||void 0===m?void 0:m.aid)&&void 0!==i?i:d,setRefetchOngoining:w})]})};var Ze=n(763),Ie=n(20132),Ee=n(87338),Te=n(72310);const Pe=e=>{var i,n,t,l,a,o,s,d,c,r,u,v,p,_,h,g,x,j,S,b,N,y,A,C;let{applicant:Z,onSelectApplicant:I,transferApplicat:E}=e;return(0,f.jsxs)("div",{className:null!==E&&void 0!==E&&E.includes(null===Z||void 0===Z?void 0:Z._id)?"".concat(ce.Z.applicant_card_container," ").concat(ce.Z.applicant_card_container_active):"".concat(ce.Z.applicant_card_container," ").concat(ce.Z.applicant_card_container_hover),onClick:()=>{I(Z)},children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_inner,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===Z||void 0===Z||null===(i=Z.student)||void 0===i?void 0:i.photoId)?"".concat(m.yI,"/").concat(null===Z||void 0===Z||null===(n=Z.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,f.jsx)("div",{className:ce.Z.applicant_card_inner_info,children:(0,f.jsx)("h6",{children:"".concat(null===Z||void 0===Z||null===(t=Z.student)||void 0===t?void 0:t.studentFirstName," ").concat(null!==Z&&void 0!==Z&&null!==(l=Z.student)&&void 0!==l&&l.studentMiddleName?null===Z||void 0===Z||null===(a=Z.student)||void 0===a?void 0:a.studentMiddleName:""," ").concat(null===Z||void 0===Z||null===(o=Z.student)||void 0===o?void 0:o.studentLastName)})})]}),(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact,children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,f.jsx)("p",{children:null===Z||void 0===Z||null===(s=Z.student)||void 0===s?void 0:s.studentGender})]}),((null===Z||void 0===Z||null===(d=Z.student)||void 0===d?void 0:d.studentPhoneNumber)||(null===Z||void 0===Z||null===(c=Z.student)||void 0===c||null===(r=c.user)||void 0===r?void 0:r.userPhoneNumber)||(null===Z||void 0===Z||null===(u=Z.student)||void 0===u||null===(v=u.user)||void 0===v?void 0:v.userEmail)||(null===Z||void 0===Z||null===(p=Z.student)||void 0===p?void 0:p.studentParentsPhoneNumber))&&(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,f.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==Z&&void 0!==Z&&null!==(_=Z.student)&&void 0!==_&&null!==(h=_.user)&&void 0!==h&&h.userPhoneNumber?null===Z||void 0===Z||null===(g=Z.student)||void 0===g||null===(x=g.user)||void 0===x?void 0:x.userPhoneNumber:null!==Z&&void 0!==Z&&null!==(j=Z.student)&&void 0!==j&&null!==(S=j.user)&&void 0!==S&&S.userEmail?null===Z||void 0===Z||null===(b=Z.student)||void 0===b||null===(N=b.user)||void 0===N?void 0:N.userEmail:null!==Z&&void 0!==Z&&null!==(y=Z.student)&&void 0!==y&&y.studentPhoneNumber?null===Z||void 0===Z||null===(A=Z.student)||void 0===A?void 0:A.studentPhoneNumber:null===Z||void 0===Z||null===(C=Z.student)||void 0===C?void 0:C.studentParentsPhoneNumber})]})]})]})},ke=e=>{let{onBack:i,onSelectApp:n,transferApplication:l}=e;const a=(0,r.v9)((e=>e.admissionChange)),{t:o}=(0,p.$G)(),[s,d]=(0,t.useState)(!0),[c,u]=(0,t.useState)(1),[m,_]=(0,k.YD)(),[h,g]=(0,t.useState)([]),[x,j]=(0,t.useState)(!0),{allOngoingApp:S,allOngoingAppRefetch:b}=(0,v.JG)({data:{aid:null===a||void 0===a?void 0:a.aid,page:c,limit:10},skip:!(null!==a&&void 0!==a&&a.aid)});(0,t.useEffect)((()=>{_&&s&&u((e=>e+1))}),[_,s]),(0,t.useEffect)((()=>{null!==a&&void 0!==a&&a.aid&&(j(!0),b())}),[null===a||void 0===a?void 0:a.aid,c,b]),(0,t.useEffect)((()=>{null!==a&&void 0!==a&&a.aid&&(j(!0),b())}),[null===a||void 0===a?void 0:a.aid,b]),(0,t.useEffect)((()=>{var e;null!==S&&void 0!==S&&S.ongoing&&(g((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===S||void 0===S?void 0:S.ongoing])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),j(!1)),10===(null===S||void 0===S||null===(e=S.ongoing)||void 0===e?void 0:e.length)?d(!0):d(!1)}),[null===S||void 0===S?void 0:S.ongoing]);const N=e=>{n(e)};return(0,f.jsx)(M.Z,{onClose:i,children:(0,f.jsxs)("div",{className:F.Z.assign_role_container,children:[(0,f.jsxs)("section",{className:F.Z.assign_role_title,style:{position:"relative"},children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:i,alt:"back icon",style:{cursor:"pointer"}}),(0,f.jsx)("h6",{children:o("select_application")})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%"}}),null===h||void 0===h?void 0:h.map(((e,i)=>{var n,t,a,o,s,d;return(null===h||void 0===h?void 0:h.length)===i+1?(0,f.jsxs)("div",{className:(null===l||void 0===l?void 0:l._id)===(null===e||void 0===e?void 0:e._id)?"".concat(F.Z.application_card," ").concat(F.Z.application_card_active):F.Z.application_card,ref:m,onClick:()=>N(e),children:[(0,f.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,f.jsxs)("section",{className:F.Z.application_card_text,children:[(0,f.jsx)("h6",{children:null!==(n=null===e||void 0===e?void 0:e.applicationName)&&void 0!==n?n:""}),(0,f.jsx)("div",{className:F.Z.application_card_text_bottom,children:(0,f.jsx)("p",{children:null!==(t=null===e||void 0===e||null===(a=e.applicationDepartment)||void 0===a?void 0:a.dName)&&void 0!==t?t:""})})]})]},null===e||void 0===e?void 0:e._id):(0,f.jsxs)("div",{className:(null===l||void 0===l?void 0:l._id)===(null===e||void 0===e?void 0:e._id)?"".concat(F.Z.application_card," ").concat(F.Z.application_card_active):F.Z.application_card,onClick:()=>N(e),children:[(0,f.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,f.jsxs)("section",{className:F.Z.application_card_text,children:[(0,f.jsx)("h6",{children:null!==(o=null===e||void 0===e?void 0:e.applicationName)&&void 0!==o?o:""}),(0,f.jsx)("div",{className:F.Z.application_card_text_bottom,children:(0,f.jsx)("p",{children:null!==(s=null===e||void 0===e||null===(d=e.applicationDepartment)||void 0===d?void 0:d.dName)&&void 0!==s?s:""})})]})]},null===e||void 0===e?void 0:e._id)})),x&&(0,f.jsx)(R.Z,{status:"white"})]})})},Re=e=>{var i,n;let{onClose:l,applicationId:a,onRefetchConfirmTab:o}=e;const{t:s}=(0,p.$G)(),[d,c]=(0,t.useState)(0),[r,u]=(0,t.useState)(!0),[m,_]=(0,t.useState)(1),[h,g]=(0,t.useState)(""),[x,j]=(0,k.YD)(),[S,b]=(0,t.useState)([]),[N,y]=(0,t.useState)(!1),[A,C]=(0,t.useState)(!0),[Z,I]=(0,t.useState)(""),[E,T]=(0,t.useState)([]),[P,O]=(0,t.useState)([]),[L,F]=(0,t.useState)(!1),[U]=(0,v.hE)(),{getAllConfirmList:q,getAllConfirmListRefetch:B}=(0,v.RR)({data:{id:a,page:m,limit:10,search:h||""},skip:!a});(0,t.useEffect)((()=>{j&&r&&_((e=>e+1))}),[j,r]),(0,t.useEffect)((()=>{a&&(C(!0),B())}),[m,a,B,h]),(0,t.useEffect)((()=>{var e,i;h?(b(null===q||void 0===q?void 0:q.confirm),C(!1)):N?(b(null===q||void 0===q?void 0:q.confirm),y(!1),C(!1)):null!==q&&void 0!==q&&q.confirm?(b((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===q||void 0===q?void 0:q.confirm])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),C(!1)):0===(null===q||void 0===q||null===(i=q.confirm)||void 0===i?void 0:i.length)&&C(!1);10===(null===q||void 0===q||null===(e=q.confirm)||void 0===e?void 0:e.length)?u(!0):u(!1)}),[null===q||void 0===q?void 0:q.confirm]);const G=(0,t.useCallback)((0,Ze.debounce)((e=>g(e)),500),[]),H=()=>{L||(0===d?l():c(1===d?0:1))},V=e=>{if(null!==E&&void 0!==E&&E.includes(null===e||void 0===e?void 0:e._id))T((i=>null===i||void 0===i?void 0:i.filter((i=>i!==(null===e||void 0===e?void 0:e._id))))),O((i=>null===i||void 0===i?void 0:i.filter((i=>{var n;return(null===i||void 0===i?void 0:i.studentId)!==(null===e||void 0===e||null===(n=e.student)||void 0===n?void 0:n._id)}))));else{var i;let n={studentId:null===e||void 0===e||null===(i=e.student)||void 0===i?void 0:i._id,mode:null===e||void 0===e?void 0:e.payment_status,type:null===e||void 0===e?void 0:e.install_type,price:null===e||void 0===e?void 0:e.fee_remain};O((e=>null!==e&&void 0!==e&&e.length?[...e,n]:[n])),T((i=>null!==i&&void 0!==i&&i.length?[...i,null===e||void 0===e?void 0:e._id]:[null===e||void 0===e?void 0:e._id]))}};return(0,f.jsx)(f.Fragment,{children:0===d||2===d?(0,f.jsx)(M.Z,{onClose:H,children:(0,f.jsxs)("div",{className:ce.Z.admission_modal,children:[0===d?(0,f.jsxs)("div",{className:ce.Z.transfer_container,children:[(0,f.jsx)("h6",{className:ce.Z.admission_modal_heading,children:s("select_confirm_student")}),(0,f.jsxs)("button",{className:ce.Z.transfer_select_btn,onClick:()=>{c(1)},children:[null!==(i=null===E||void 0===E?void 0:E.length)&&void 0!==i?i:""," "," ",s("select")]})]}):(0,f.jsx)("h6",{className:ce.Z.admission_modal_heading,children:s("transfer_select_student")}),(0,f.jsx)(D.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),0===d?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:ce.Z.with_search,style:{marginBottom:"0.7rem"},children:(0,f.jsx)("div",{className:ce.Z.search_container_filter,style:{width:"100%"},children:(0,f.jsx)("section",{className:ce.Z.search_container,style:{width:"100%"},children:(0,f.jsxs)("div",{className:ce.Z.search_container_input,style:{width:"100%"},children:[(0,f.jsx)("img",{className:ce.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,f.jsx)("input",{type:"text",placeholder:"Search classes...",onChange:e=>{G(e.target.value)},style:{width:"100%"}})]})})})}),null===S||void 0===S?void 0:S.map(((e,i)=>(null===S||void 0===S?void 0:S.length)===i+1?(0,f.jsx)("div",{ref:x,children:(0,f.jsx)(Pe,{applicant:e,onSelectApplicant:V,transferApplicat:E})},i):(0,f.jsx)(Pe,{applicant:e,onSelectApplicant:V,transferApplicat:E},i))),A&&(0,f.jsx)(R.Z,{status:"white"})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:ce.Z.admission_class_confirm,children:[s("transfering")," ",(0,f.jsx)("span",{style:{fontWeight:"600"},children:null===E||void 0===E?void 0:E.length})," ",s("students")," "," ",",",s("to")," ",(0,f.jsx)("span",{style:{fontWeight:"600"},children:null!==(n=null===Z||void 0===Z?void 0:Z.applicationName)&&void 0!==n?n:""})]}),(0,f.jsx)("div",{className:ce.Z.confirm_btn,onClick:()=>{null!==Z&&void 0!==Z&&Z._id&&a&&null!==E&&void 0!==E&&E.length&&(F((e=>!e)),U({aid:null===Z||void 0===Z?void 0:Z._id,transferApplicantData:{app_array:E,oaid:a,student_array:P}}).then((()=>{o(),F((e=>!e)),l()})).catch({}))},children:s("confirm")})]}),L&&(0,f.jsx)(w.Z,{})]})}):(0,f.jsx)(ke,{onBack:H,onSelectApp:e=>{I(e),c(2)},transferApplication:Z})})},De=["Request_Query","Confirm_Query","Allot_Query"],Oe=e=>{var i,n,l,a,o,s,d;let{applicationDetail:c,carryParentState:r,instituteId:u,tabStatusFlow:v,applicationDetailApplicablePending:m,onRefetchConfirmTab:p,pageOpenAs:_,children:h}=e;const g=(0,x.s0)(),j=(0,x.UO)(),[S,N]=(0,t.useState)({msg:"",run:!1}),[y,A]=(0,t.useState)(!1),[C,Z]=(0,t.useState)(!1),[I,E]=(0,t.useState)(!1),[T]=(0,Ee.Y$)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("section",{className:ce.Z.moderator_container_title,children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{g("/q/".concat(j.username,"INSTITUTE"===_?"/admission?a=ongoing":"/member/admission?a=ongoing"),{state:{...r}})},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,f.jsxs)("div",{className:ce.Z.with_search,children:[(0,f.jsx)("h6",{children:null!==(i=null===c||void 0===c?void 0:c.applicationName)&&void 0!==i?i:""}),(0,f.jsxs)("div",{className:ce.Z.search_container_filter,children:[(0,f.jsx)("section",{className:ce.Z.search_container,children:(0,f.jsxs)("div",{className:ce.Z.search_container_input,children:[(0,f.jsx)("img",{className:ce.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),h]})}),(0,f.jsx)(b.rU,{to:"/q/joining",state:{formAs:"STUDENT",openAs:"ADMISSION_ADMIN_SIDE",instituteId:u,appId:null===c||void 0===c?void 0:c._id,admissionAmount:[null!==(n=null===c||void 0===c?void 0:c.admissionFee)&&void 0!==n?n:0,null!==(l=null===c||void 0===c||null===(a=c.one_installments)||void 0===a?void 0:a.fees)&&void 0!==l?l:0],applicationMaster:null===c||void 0===c?void 0:c.applicationMaster,applicationDepartment:null===c||void 0===c||null===(o=c.applicationDepartment)||void 0===o?void 0:o._id,batchId:null===c||void 0===c||null===(s=c.applicationBatch)||void 0===s?void 0:s._id,departmentId:null===c||void 0===c||null===(d=c.applicationDepartment)||void 0===d?void 0:d._id,whichFormShow:"DEPARTMENT"},children:(0,f.jsx)("img",{style:{height:"2.2rem",cursor:"pointer"},src:"/images/add-icon.svg",alt:"icon",title:"Add student"})}),(0,f.jsx)("img",{style:{height:"2.2rem",cursor:"pointer"},onClick:()=>Z(!0),src:"/images/application_info.svg",alt:"icon",title:"View Application Details"}),De.includes(v)?(0,f.jsx)("img",{style:{height:"2.2rem",cursor:"pointer"},onClick:()=>{null!==c&&void 0!==c&&c._id&&v&&(A((e=>!e)),T({appId:null===c||void 0===c?void 0:c._id,flow:v}).then((e=>{var i;N({msg:null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.message,run:!0}),setTimeout((()=>{g("/q/".concat(j.username,"INSTITUTE"===_?"/admission?a=export":"/member/admission?a=export"),{state:r})}),1e3)})).catch({}))},src:"/images/member_tab/finance/finance-export-icon.svg",alt:""}):null,"Confirm_Query"===v?(0,f.jsx)("img",{style:{height:"2.2rem",cursor:"pointer"},onClick:()=>E(!0),src:"/images/member_tab/admission/admission-transfer-icon.svg",alt:""}):null]})]})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),C&&(0,f.jsx)(Ie.Z,{completeApplication:!0,viewDetail:C,applicationDetail:c,hideModal:Z,carryParentState:r,applicationDetailApplicablePending:m,pageOpenAs:_}),I&&(0,f.jsx)(Re,{instituteId:u,applicationId:null===c||void 0===c?void 0:c._id,onClose:()=>E(!1),onRefetchConfirmTab:p}),y&&(0,f.jsx)(w.Z,{}),(0,f.jsx)(Te.Ch,{msg:S.msg,run:S.run,setRun:()=>N({msg:"",run:!1}),postiton:"bottom",type:"success"})]})};var Le=n(47167);const we=e=>{var i,n,t,l,a;let{carryParentState:o,accessRole:s,accessTpye:d,pageOpenAs:c}=e;const{t:r}=(0,p.$G)(),u=(0,x.TH)(),v=[{name:r("application"),id:0,url:"member/admission?a=ongoing&n=application",is_active:["MULTI_APP_ACCESS"].includes(s)||!s?"enabled":["ONE_TAB_ACCESS"].includes(s)?"Application"===d?"enabled":"disabled":"enabled"},{name:r("selected"),id:1,url:"member/admission?a=ongoing&n=select",is_active:["MULTI_APP_ACCESS"].includes(s)||!s?"enabled":["ONE_TAB_ACCESS"].includes(s)?"Selected"===d?"enabled":"disabled":"enabled"},{name:r("confirmed"),id:2,url:"member/admission?a=ongoing&n=confirm",is_active:["MULTI_APP_ACCESS"].includes(s)||!s?"enabled":["ONE_TAB_ACCESS"].includes(s)?"Confirmed"===d?"enabled":"disabled":"enabled"},{name:r("allotted"),id:3,url:"member/admission?a=ongoing&n=allot",is_active:["MULTI_APP_ACCESS"].includes(s)||!s?"enabled":["ONE_TAB_ACCESS"].includes(s)?"Allotted"===d?"enabled":"disabled":"enabled"},{name:r("cancelled"),id:4,url:"member/admission?a=ongoing&n=cancel",is_active:["MULTI_APP_ACCESS"].includes(s)||!s?"enabled":["ONE_TAB_ACCESS"].includes(s)?"Cancelled"===d?"enabled":"disabled":"enabled"}],m=[{name:r("application"),id:0,url:"admission?a=ongoing&n=application",is_active:"enabled"},{name:r("selected"),id:1,url:"admission?a=ongoing&n=select",is_active:"enabled"},{name:r("confirmed"),id:2,url:"admission?a=ongoing&n=confirm",is_active:"enabled"},{name:r("allotted"),id:3,url:"admission?a=ongoing&n=allot",is_active:"enabled"},{name:r("cancelled"),id:4,url:"admission?a=ongoing&n=cancel",is_active:"enabled"}];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Le.Z,{tabList:"INSTITUTE"===c?m:v,activeIndexTab:"application"===(null===(i=u.search)||void 0===i?void 0:i.substring(13))?0:"select"===(null===(n=u.search)||void 0===n?void 0:n.substring(13))?1:"confirm"===(null===(t=u.search)||void 0===t?void 0:t.substring(13))||"mulitple"===(null===(l=u.search)||void 0===l?void 0:l.substring(13))?2:"allot"===(null===(a=u.search)||void 0===a?void 0:a.substring(13))?3:4,showAs:!0,customStyleTab:{width:"100%"},customStyleLink:{width:"20%"},carryParentState:o}),(0,f.jsx)(D.Z,{customStyle:{width:"100%"}})]})};var Me=n(56112);const Fe=t.lazy((()=>n.e(20433).then(n.bind(n,20433)))),Ue=e=>{var i,n,l,a,o,s,d,c,r,_,h,g,j,S,b,N,y,A,C,Z,I,E,T,P,k,R,D,O;let{applicant:L,onRefetchWhenSelect:M,applicationId:F,departmentId:U,classMasterId:B,batchId:G,instituteId:H}=e;const{t:V}=(0,p.$G)(),W=(0,x.UO)(),J=(0,x.s0)(),[$,Y]=(0,t.useState)(!1),[z,Q]=(0,t.useState)(!1),[X,K]=(0,t.useState)(!1),[ee]=(0,v.iI)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_container,onClick:()=>{var e;J("/q/".concat(W.username,"/student/profile"),{state:{sid:null===L||void 0===L||null===(e=L.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:H}})},title:"View Profile",children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_inner,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===L||void 0===L||null===(i=L.student)||void 0===i?void 0:i.photoId)?"".concat(m.yI,"/").concat(null===L||void 0===L||null===(n=L.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,f.jsxs)("div",{className:ce.Z.applicant_card_inner_info,children:[(0,f.jsx)("h6",{children:"".concat(null===L||void 0===L||null===(l=L.student)||void 0===l?void 0:l.studentFirstName," ").concat(null!==L&&void 0!==L&&null!==(a=L.student)&&void 0!==a&&a.studentMiddleName?null===L||void 0===L||null===(o=L.student)||void 0===o?void 0:o.studentMiddleName:""," ").concat(null===L||void 0===L||null===(s=L.student)||void 0===s?void 0:s.studentLastName)}),(0,f.jsxs)("p",{children:[V("applied_on"),":"," ",q()(null===L||void 0===L?void 0:L.apply_on).format("DD MMM yyyy")]})]})]}),(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact,children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,f.jsx)("p",{children:null===L||void 0===L||null===(d=L.student)||void 0===d?void 0:d.studentGender})]}),((null===L||void 0===L||null===(c=L.student)||void 0===c?void 0:c.studentPhoneNumber)||(null===L||void 0===L||null===(r=L.student)||void 0===r||null===(_=r.user)||void 0===_?void 0:_.userPhoneNumber)||(null===L||void 0===L||null===(h=L.student)||void 0===h||null===(g=h.user)||void 0===g?void 0:g.userEmail)||(null===L||void 0===L||null===(j=L.student)||void 0===j?void 0:j.studentParentsPhoneNumber))&&(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,f.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==L&&void 0!==L&&null!==(S=L.student)&&void 0!==S&&null!==(b=S.user)&&void 0!==b&&b.userPhoneNumber?null===L||void 0===L||null===(N=L.student)||void 0===N||null===(y=N.user)||void 0===y?void 0:y.userPhoneNumber:null!==L&&void 0!==L&&null!==(A=L.student)&&void 0!==A&&null!==(C=A.user)&&void 0!==C&&C.userEmail?null===L||void 0===L||null===(Z=L.student)||void 0===Z||null===(I=Z.user)||void 0===I?void 0:I.userEmail:null!==L&&void 0!==L&&null!==(E=L.student)&&void 0!==E&&E.studentPhoneNumber?null===L||void 0===L||null===(T=L.student)||void 0===T?void 0:T.studentPhoneNumber:null===L||void 0===L||null===(P=L.student)||void 0===P?void 0:P.studentParentsPhoneNumber})]})]}),(0,f.jsx)("div",{className:ce.Z.applicant_card_reciept,onClick:e=>{e.stopPropagation()},children:(0,f.jsx)("a",{href:"".concat(m.r3,"/").concat(null===L||void 0===L||null===(k=L.student)||void 0===k||null===(R=k.application_print)||void 0===R||null===(D=R[0])||void 0===D?void 0:D.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,f.jsxs)("div",{className:ce.Z.application_button,children:[(0,f.jsx)("div",{className:ce.Z.selectAppBtnContainer,onClick:e=>{e.stopPropagation(),Q(!0)},children:(0,f.jsx)("div",{className:ce.Z.selectBtn,children:V("select")})}),(0,f.jsx)("div",{className:ce.Z.selectAppBtnContainer,onClick:e=>{e.stopPropagation(),Y((e=>!e))},children:(0,f.jsx)("div",{className:ce.Z.cancelledBtn,children:V("reject")})})]})]}),(0,f.jsx)(u.Z,{children:$&&(0,f.jsx)(Fe,{studentId:null===L||void 0===L||null===(O=L.student)||void 0===O?void 0:O._id,applicationId:F,onClose:()=>Y((e=>!e)),onRefetchWhenSelect:M})}),z&&(0,f.jsx)(Me.Z,{departmentId:U,classMasterId:B,batchId:G,onClose:()=>Q((e=>!e)),onSelectedStudent:e=>{var i,n;""!==(null===L||void 0===L||null===(i=L.student)||void 0===i?void 0:i._id)&&""!==F&&e&&(K((e=>!e)),ee({sid:null===L||void 0===L||null===(n=L.student)||void 0===n?void 0:n._id,aid:F,selectApplicant:{fee_struct:e}}).then((()=>{M(),K((e=>!e))})).catch((()=>{K((e=>!e))})))}}),X&&(0,f.jsx)(w.Z,{})]})};const qe=function(e){let{applicationId:i,carryParentState:n,applicationDetail:l,instituteId:a,accessRole:o,accessTpye:s,applicationDetailApplicablePending:d,pageOpenAs:c}=e;const[r,u]=(0,t.useState)(!0),[m,p]=(0,t.useState)(1),[_,h]=(0,t.useState)(""),[g,x]=(0,k.YD)(),[j,S]=(0,t.useState)([]),[b,N]=(0,t.useState)(!1),[y,A]=(0,t.useState)(!0),{getAllRequestList:C,getAllRequestListRefetch:Z}=(0,v.jG)({data:{id:i,page:m,limit:10,search:_||""},skip:!i}),{scrollToTop:I}=(0,Q.u)();(0,t.useEffect)((()=>{I()}),[]),(0,t.useEffect)((()=>{x&&r&&p((e=>e+1))}),[x,r]),(0,t.useEffect)((()=>{i&&(A(!0),Z())}),[m,i,Z,_]),(0,t.useEffect)((()=>{var e,i;_?(S(null===C||void 0===C?void 0:C.request),A(!1)):b?(S(null===C||void 0===C?void 0:C.request),N(!1),A(!1)):null!==C&&void 0!==C&&C.request?(S((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===C||void 0===C?void 0:C.request])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),A(!1)):0===(null===C||void 0===C||null===(i=C.request)||void 0===i?void 0:i.length)&&A(!1);10===(null===C||void 0===C||null===(e=C.request)||void 0===e?void 0:e.length)?u(!0):u(!1)}),[null===C||void 0===C?void 0:C.request]);const E=()=>{p(1),Z(),N(!0)},T=(0,t.useCallback)((0,Ze.debounce)((e=>h(e)),500),[]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Oe,{applicationDetail:l,carryParentState:n,instituteId:a,tabStatusFlow:"Request_Query",applicationDetailApplicablePending:d,pageOpenAs:c,children:(0,f.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:e=>{T(e.target.value)}})}),(0,f.jsx)(we,{carryParentState:n,accessRole:o,accessTpye:s,pageOpenAs:c}),null===j||void 0===j?void 0:j.map(((e,n)=>{var t,o,s,d;return(null===j||void 0===j?void 0:j.length)===n+1?(0,f.jsx)("div",{ref:g,children:(0,f.jsx)(Ue,{applicant:e,onRefetchWhenSelect:E,applicationId:i,departmentId:null===l||void 0===l||null===(t=l.applicationDepartment)||void 0===t?void 0:t._id,batchId:null===l||void 0===l||null===(o=l.applicationBatch)||void 0===o?void 0:o._id,classMasterId:null===l||void 0===l?void 0:l.applicationMaster,instituteId:a})},n):(0,f.jsx)(Ue,{applicant:e,onRefetchWhenSelect:E,applicationId:i,departmentId:null===l||void 0===l||null===(s=l.applicationDepartment)||void 0===s?void 0:s._id,batchId:null===l||void 0===l||null===(d=l.applicationBatch)||void 0===d?void 0:d._id,classMasterId:null===l||void 0===l?void 0:l.applicationMaster,instituteId:a},n)})),y&&(0,f.jsx)(R.Z,{})]})},Be=e=>{let{applicationId:i,studentId:n,statusId:l,onRefetch:a,isSelected:o}=e;const[s,d]=(0,t.useState)(!1),[c]=(0,v.FG)(),[r]=(0,v.IG)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-undo-icon.svg",alt:"undo icon",style:{cursor:"pointer",width:"30px"},onClick:e=>{e.stopPropagation(),l&&n&&i&&("Not Collected"===o?(d((e=>!e)),c({sid:n,aid:i,revertData:{statusId:l}}).then((()=>{a(),d((e=>!e))})).catch({})):"Collected"===o&&(d((e=>!e)),r({sid:n,aid:i,revertData:{statusId:l}}).then((()=>{a(),d((e=>!e))})).catch({})))},title:"Not Collected"===o?"Undo Application":"Undo Collect Document"}),s&&(0,f.jsx)(w.Z,{})]})},Ge=e=>{var i,n,t,l,a,o,s,d,c,r,u,v,_,h,g,j,S,b,N,y,A,C,Z,I,E,T,P,k,R,D,O,L,w,M,F,U,B,G;let{applicant:H,onSelectOffileFees:V,onCollectDocs:W,onEditFee:J,instituteId:$,applicationId:Y,onRefetch:z}=e;const{t:Q}=(0,p.$G)(),X=(0,x.UO)(),K=(0,x.s0)(),ee=e=>{e.stopPropagation(),W(H)},ie=e=>{var i;e.stopPropagation(),J(null===H||void 0===H||null===(i=H.student)||void 0===i?void 0:i._id)};return(0,f.jsxs)("div",{className:ce.Z.applicant_card_container,onClick:()=>{var e;K("/q/".concat(X.username,"/student/profile"),{state:{sid:null===H||void 0===H||null===(e=H.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:$}})},title:"View Profile",children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_inner,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===H||void 0===H||null===(i=H.student)||void 0===i?void 0:i.photoId)?"".concat(m.yI,"/").concat(null===H||void 0===H||null===(n=H.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,f.jsxs)("div",{className:ce.Z.applicant_card_inner_info,children:[(0,f.jsx)("h6",{children:"".concat(null===H||void 0===H||null===(t=H.student)||void 0===t?void 0:t.studentFirstName," ").concat(null!==H&&void 0!==H&&null!==(l=H.student)&&void 0!==l&&l.studentMiddleName?null===H||void 0===H||null===(a=H.student)||void 0===a?void 0:a.studentMiddleName:""," ").concat(null===H||void 0===H||null===(o=H.student)||void 0===o?void 0:o.studentLastName)}),(0,f.jsxs)("h6",{children:[Q("fee_structure")," : ",null!==(s=null===H||void 0===H||null===(d=H.student)||void 0===d||null===(c=d.fee_structure)||void 0===c||null===(r=c.category_master)||void 0===r?void 0:r.category_name)&&void 0!==s?s:"",", ",Q("rs")," ",null!==(u=null===H||void 0===H||null===(v=H.student)||void 0===v||null===(_=v.fee_structure)||void 0===_?void 0:_.applicable_fees)&&void 0!==u?u:""]}),(0,f.jsx)("p",{children:null!==H&&void 0!==H&&H.install_type?null===H||void 0===H?void 0:H.install_type:"\n          ".concat(Q("select_on"),":\n          ").concat(q()(null===H||void 0===H?void 0:H.select_on).format("DD MMM yyyy"))})]})]}),(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact,children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,f.jsx)("p",{children:null===H||void 0===H||null===(h=H.student)||void 0===h?void 0:h.studentGender})]}),((null===H||void 0===H||null===(g=H.student)||void 0===g?void 0:g.studentPhoneNumber)||(null===H||void 0===H||null===(j=H.student)||void 0===j||null===(S=j.user)||void 0===S?void 0:S.userPhoneNumber)||(null===H||void 0===H||null===(b=H.student)||void 0===b||null===(N=b.user)||void 0===N?void 0:N.userEmail)||(null===H||void 0===H||null===(y=H.student)||void 0===y?void 0:y.studentParentsPhoneNumber))&&(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,f.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==H&&void 0!==H&&null!==(A=H.student)&&void 0!==A&&null!==(C=A.user)&&void 0!==C&&C.userPhoneNumber?null===H||void 0===H||null===(Z=H.student)||void 0===Z||null===(I=Z.user)||void 0===I?void 0:I.userPhoneNumber:null!==H&&void 0!==H&&null!==(E=H.student)&&void 0!==E&&null!==(T=E.user)&&void 0!==T&&T.userEmail?null===H||void 0===H||null===(P=H.student)||void 0===P||null===(k=P.user)||void 0===k?void 0:k.userEmail:null!==H&&void 0!==H&&null!==(R=H.student)&&void 0!==R&&R.studentPhoneNumber?null===H||void 0===H||null===(D=H.student)||void 0===D?void 0:D.studentPhoneNumber:null===H||void 0===H||null===(O=H.student)||void 0===O?void 0:O.studentParentsPhoneNumber})]})]}),(0,f.jsx)("div",{className:ce.Z.applicant_card_reciept,onClick:e=>{e.stopPropagation()},children:(0,f.jsx)("a",{href:"".concat(m.r3,"/").concat(null===H||void 0===H||null===(L=H.student)||void 0===L||null===(w=L.application_print)||void 0===w||null===(M=w[0])||void 0===M?void 0:M.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),"receipt requested"===(null===H||void 0===H||null===(F=H.payment_status)||void 0===F?void 0:F.toLowerCase())?(0,f.jsxs)("div",{className:ce.Z.selectBtnContainer,style:{display:"flex",justifyContent:"space-evenly"},children:[(0,f.jsx)("div",{className:ce.Z.receipt_requested_btn,onClick:e=>{e.stopPropagation()},children:Q("receipt_requested")}),(0,f.jsx)("img",{src:"/images/bank-edit-icon.svg",alt:"back arrow",className:ce.Z.back_icon,onClick:ie})]}):(0,f.jsxs)("div",{className:ce.Z.selectBtnContainer,style:{display:"flex",justifyContent:"space-evenly"},children:["pending"===(null===H||void 0===H||null===(U=H.payment_status)||void 0===U?void 0:U.toLowerCase())&&("Not Collected"===(null===H||void 0===H?void 0:H.docs_collect)?(0,f.jsx)("div",{className:ce.Z.onlineBtn,onClick:ee,children:Q("collect_docs")}):(0,f.jsx)("div",{className:ce.Z.selectBtn,onClick:e=>{e.stopPropagation(),V(H)},children:Q("collect_fee")})),"online"===(null===H||void 0===H||null===(B=H.payment_status)||void 0===B?void 0:B.toLowerCase())&&(0,f.jsx)("div",{className:ce.Z.onlineBtn,onClick:ee,children:Q("collect_docs")}),(0,f.jsx)("img",{src:"/images/bank-edit-icon.svg",alt:"back arrow",className:ce.Z.back_icon,onClick:ie})]}),(0,f.jsx)(Be,{applicationId:Y,studentId:null===H||void 0===H||null===(G=H.student)||void 0===G?void 0:G._id,statusId:"Not Collected"===(null===H||void 0===H?void 0:H.docs_collect)?null===H||void 0===H?void 0:H.revert_request_status:"Collected"===(null===H||void 0===H?void 0:H.docs_collect)?null===H||void 0===H?void 0:H.status_id:"",onRefetch:z,isSelected:null===H||void 0===H?void 0:H.docs_collect})]})},He=e=>{var i,n,l,a,o,s;let{currentApplicant:d,onClose:c,applicationId:r,onRefetchWhenConfirm:u}=e;const{t:_}=(0,p.$G)(),[h,g]=(0,t.useState)(!1),[x]=(0,v.mZ)(),[j]=(0,v.pc)();return(0,f.jsxs)(M.Z,{onClose:c,children:[(0,f.jsxs)("div",{className:ce.Z.not_confirm_container,children:[(0,f.jsx)("h6",{children:_("admission_status")}),(0,f.jsx)(D.Z,{customStyle:{marginLeft:"-2rem",width:"130%"}}),(0,f.jsxs)("section",{className:ce.Z.applicant_profile,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===d||void 0===d||null===(i=d.student)||void 0===i?void 0:i.photoId)?"".concat(m.yI,"/").concat(null===d||void 0===d||null===(n=d.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,f.jsxs)("div",{className:ce.Z.applicant_profile_text,children:[(0,f.jsx)("h6",{children:"".concat(null===d||void 0===d||null===(l=d.student)||void 0===l?void 0:l.studentFirstName," ").concat(null!==d&&void 0!==d&&null!==(a=d.student)&&void 0!==a&&a.studentMiddleName?null===d||void 0===d||null===(o=d.student)||void 0===o?void 0:o.studentMiddleName:""," ").concat(null===d||void 0===d||null===(s=d.student)||void 0===s?void 0:s.studentLastName)}),(0,f.jsxs)("p",{children:[_("applied")," ",q()(null===d||void 0===d?void 0:d.select_on).format("DD MMM yyyy")]})]})]}),(0,f.jsxs)("section",{className:ce.Z.button_group,children:[(0,f.jsx)("button",{onClick:()=>{var e,i;r&&null!==d&&void 0!==d&&null!==(e=d.student)&&void 0!==e&&e._id&&(g((e=>!e)),x({aid:r,sid:null===d||void 0===d||null===(i=d.student)||void 0===i?void 0:i._id}).then((()=>{u(),c(),g((e=>!e))})).catch((()=>{g((e=>!e))})))},children:_("confirm")}),(0,f.jsx)("button",{onClick:()=>{var e,i;r&&null!==d&&void 0!==d&&null!==(e=d.student)&&void 0!==e&&e._id&&(g((e=>!e)),j({aid:r,sid:null===d||void 0===d||null===(i=d.student)||void 0===i?void 0:i._id}).then((()=>{u(),c(),g((e=>!e))})).catch((()=>{g((e=>!e))})))},children:_("reject")})]})]}),h&&(0,f.jsx)(w.Z,{})]})};const Ve=function(e){var i,n,l,a;let{applicationId:o,currentApplicant:s,onRefetchWhenConfirm:d,onClose:c}=e;const{t:r}=(0,p.$G)(),[u,m]=(0,t.useState)(!1),[_]=(0,v.K7)();return(0,f.jsxs)(M.Z,{onClose:c,children:[(0,f.jsxs)("div",{className:ce.Z.not_confirm_container,children:[(0,f.jsx)("h6",{children:r("collect_required_document")}),(0,f.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,f.jsxs)("section",{className:ce.Z.admission_collect_docs,children:[(0,f.jsx)("p",{children:r("collecting_documents_of_student")}),(0,f.jsx)("h6",{children:"".concat(null===s||void 0===s||null===(i=s.student)||void 0===i?void 0:i.studentFirstName," ").concat(null!==s&&void 0!==s&&null!==(n=s.student)&&void 0!==n&&n.studentMiddleName?null===s||void 0===s||null===(l=s.student)||void 0===l?void 0:l.studentMiddleName:""," ").concat(null===s||void 0===s||null===(a=s.student)||void 0===a?void 0:a.studentLastName)})]}),(0,f.jsx)("button",{onClick:()=>{var e,i;null!==s&&void 0!==s&&null!==(e=s.student)&&void 0!==e&&e._id&&o&&(m(!0),_({sid:null===s||void 0===s||null===(i=s.student)||void 0===i?void 0:i._id,aid:o}).then((()=>{d(),c(),m(!1)})).catch({}))},className:ce.Z.confirm_btn,children:r("confirm")})]}),u&&(0,f.jsx)(w.Z,{})]})};var We=n(49886),Je=n(97655),$e=n(59965);const Ye=function(e){var i,n,l,a,o;let{currentApplicant:s,applicationId:d,onRefetchWhenConfirm:c,onClose:r}=e;const[u,m]=(0,t.useState)(!1),{t:_}=(0,p.$G)(),[h,g]=(0,t.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),[x,j]=(0,t.useState)({msg:"",run:!1}),[S,b]=(0,t.useState)(""),[N]=(0,v.Vd)(),y=e=>{"fee_payment_mode"===e.target.name?g((i=>({...i,[e.target.name]:e.target.value,mode:"By Cash"===e.target.value?"Offline":"Online",fee_payment_mode:e.target.value}))):g((i=>({...i,[e.target.name]:e.target.value})))};return(0,f.jsxs)(M.Z,{onClose:r,children:[(0,f.jsxs)("div",{className:ce.Z.admission_modal,children:[(0,f.jsx)("h6",{className:ce.Z.admission_modal_heading,children:_("collect_fees")}),(0,f.jsx)(D.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),(0,f.jsxs)("div",{className:ce.Z.admission_fees_row,children:[(0,f.jsxs)("h6",{children:[_("applicable_amount")," :"]}),(0,f.jsxs)("h6",{children:[_("rs"),"."," ",null===s||void 0===s||null===(i=s.student)||void 0===i||null===(n=i.fee_structure)||void 0===n?void 0:n.applicable_fees]})]}),(0,f.jsx)(Je.Z,{labelText:"".concat(_("amount_first_installment")," ").concat(null===s||void 0===s||null===(l=s.student)||void 0===l||null===(a=l.fee_structure)||void 0===a||null===(o=a.one_installments)||void 0===o?void 0:o.fees),name:"amount",type:"tel",value:h.amount,onChange:e=>{g((i=>({...i,amount:+e.target.value,fee_payment_amount:+e.target.value})))},placeholder:_("amoute_details_collect"),errorShow:S.fee_payment_amount,customStyleLabel:{marginTop:"15px",marginBottom:"7px"},customStyleContainer:{marginBottom:"15px"}}),(0,f.jsx)(We.Z,{paymentHeading:_("payment_type_mode"),onInputChange:y,errorShow:S.fee_payment_mode}),(0,f.jsx)($e.Z,{labelText:_("select_date_of_transaction"),placeholder:_("please_select_date"),name:"transaction_date",value:h.transaction_date,onDateFunction:e=>{const i=null===e||void 0===e?void 0:e.split("/");g((e=>({...e,transaction_date:"".concat(i[2],"-").concat(i[1],"-").concat(i[0])})))},customStyleContainer:{position:"relative",marginTop:"0.5rem"},datePickerPosition:{position:"relative",top:"-20rem"},customStyleLabel:{marginTop:"15px"},errorShow:S.transaction_date}),"By Cash"===h.fee_payment_mode?"":(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Je.Z,{labelText:_("bank_name_collect"),name:"fee_bank_name",type:"tel",value:h.fee_bank_name,onChange:y,placeholder:_("please_enter_bank_name"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,f.jsx)(Je.Z,{labelText:_("banke_holder_name"),name:"fee_bank_holder",type:"tel",value:h.fee_bank_holder,onChange:y,placeholder:_("please_enter_name_of_bank_holder"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,f.jsx)(Je.Z,{labelText:_("cheque_dd_neft"),name:"fee_utr_reference",type:"tel",value:h.fee_utr_reference,onChange:y,placeholder:_("please_enter_utr_ref_number"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}})]}),(0,f.jsx)("div",{className:ce.Z.confirm_btn,onClick:()=>{const e=(e=>{const i={};for(let l in e){var n,t;"fee_bank_name"===l||"fee_bank_holder"===l||"fee_utr_reference"===l||"amount"===l||"mode"===l||(e[l]?"fee_payment_amount"===l&&(e[l]<=(null===s||void 0===s||null===(n=s.student)||void 0===n||null===(t=n.fee_structure)||void 0===t?void 0:t.total_admission_fees)||(j({msg:"You can not enter amount greater than Admission fees.",run:!0}),i.fee_payment_amount="".concat(l," is required!"))):i[l]="".concat(l," is required!"))}return i})(h);let i=!1;for(let a in e){i=!0;break}if(i)b(e);else{var n,t,l;m(!0);const e={sid:null===s||void 0===s||null===(n=s.student)||void 0===n?void 0:n._id,aid:d,confirm_data:h,receipt_status:"Fee Receipt Not Generated"===h.fee_payment_mode?"Fee Receipt Not Generated":""};""!==(null===e||void 0===e?void 0:e.sid)&&""!==(null===e||void 0===e?void 0:e.aid)&&(null===e||void 0===e||null===(t=e.confirm_data)||void 0===t?void 0:t.amount)>0&&""!==(null===e||void 0===e||null===(l=e.confirm_data)||void 0===l?void 0:l.mode)?N(e).then((e=>{e.data.confirm_status&&(c(),r(!1),m(!1))})).catch({}):m(!1)}},children:_("collect")}),(0,f.jsx)(Te.Ch,{msg:x.msg,run:x.run,setRun:()=>j({msg:"",run:!1}),postiton:"bottom",type:"error"})]}),u&&(0,f.jsx)(w.Z,{})]})};const ze=function(e){var i,n;let{applicationId:l,applicationDetail:a,carryParentState:o,accessRole:s,accessTpye:d,instituteId:c,applicationDetailApplicablePending:r,pageOpenAs:u}=e;const[m,p]=(0,t.useState)(!0),[_,h]=(0,t.useState)(1),[g,x]=(0,t.useState)(""),[j,S]=(0,k.YD)(),[b,N]=(0,t.useState)([]),[y,A]=(0,t.useState)(!1),[C,Z]=(0,t.useState)(!0),[I,E]=(0,t.useState)(""),[T,P]=(0,t.useState)(""),[D,O]=(0,t.useState)(!1),[L]=(0,v.lw)(),{getAllSelectList:M,getAllSelectListRefetch:F}=(0,v.sR)({data:{id:l,page:_,limit:10,search:g||""},skip:!l}),{scrollToTop:U}=(0,Q.u)();(0,t.useEffect)((()=>{U()}),[]),(0,t.useEffect)((()=>{S&&m&&h((e=>e+1))}),[S,m]),(0,t.useEffect)((()=>{l&&(Z(!0),F())}),[_,l,F,g]),(0,t.useEffect)((()=>{var e,i;g?(N(null===M||void 0===M?void 0:M.select),Z(!1)):y?(N(null===M||void 0===M?void 0:M.select),A(!1),Z(!1)):null!==M&&void 0!==M&&M.select?(N((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===M||void 0===M?void 0:M.select])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),Z(!1)):0===(null===M||void 0===M||null===(i=M.select)||void 0===i?void 0:i.length)&&Z(!1);10===(null===M||void 0===M||null===(e=M.select)||void 0===e?void 0:e.length)?p(!0):p(!1)}),[null===M||void 0===M?void 0:M.select]);const q=()=>{h(1),F(),A(!0)},B=(0,t.useCallback)((0,Ze.debounce)((e=>x(e)),500),[]),G=e=>{P(e),E("COLLECT_FEES")},H=e=>{P(e),E("COLLECT_DOCS")},V=e=>{P(e),E("EDIT_STRUCTURE")},W=e=>{P(e),E("MARK_CONFIRM")};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Oe,{applicationDetail:a,carryParentState:o,instituteId:c,applicationDetailApplicablePending:r,pageOpenAs:u,children:(0,f.jsx)("input",{type:"text",placeholder:"Search applications...",onChange:e=>{B(e.target.value)}})}),(0,f.jsx)(we,{carryParentState:o,accessRole:s,accessTpye:d,pageOpenAs:u}),null===b||void 0===b?void 0:b.map(((e,i)=>(null===b||void 0===b?void 0:b.length)===i+1?(0,f.jsx)("div",{ref:j,children:(0,f.jsx)(Ge,{applicant:e,onEditFee:V,onSelectOffileFees:G,onCollectDocs:H,onNotConfirm:W,instituteId:c,applicationId:l,onRefetch:q})},i):(0,f.jsx)(Ge,{applicant:e,onEditFee:V,onSelectOffileFees:G,onCollectDocs:H,onNotConfirm:W,instituteId:c,applicationId:l,onRefetch:q},i))),C&&(0,f.jsx)(R.Z,{}),"MARK_CONFIRM"===I&&(0,f.jsx)(He,{currentApplicant:T,applicationId:l,onClose:()=>E(""),onRefetchWhenConfirm:q}),"EDIT_STRUCTURE"===I&&(0,f.jsx)(Me.Z,{departmentId:null===a||void 0===a||null===(i=a.applicationDepartment)||void 0===i?void 0:i._id,batchId:null===a||void 0===a||null===(n=a.applicationBatch)||void 0===n?void 0:n._id,classMasterId:null===a||void 0===a?void 0:a.applicationMaster,onClose:()=>E(""),onSelectedStudent:e=>{""!==T&&""!==l&&(O((e=>!e)),L({sid:T,aid:l,editStructure:{fee_struct:e}}).then((()=>{q(),O((e=>!e))})).catch((()=>{O((e=>!e))})))},asOpen:"SELECTED_TAB"}),"COLLECT_DOCS"===I&&(0,f.jsx)(Ve,{currentApplicant:T,applicationId:l,onClose:()=>E(""),onRefetchWhenConfirm:q}),"COLLECT_FEES"===I&&(0,f.jsx)(Ye,{onClose:()=>E(""),currentApplicant:T,applicationId:l,onRefetchWhenConfirm:q}),D&&(0,f.jsx)(w.Z,{})]})};var Qe=n(37782);const Xe=e=>{var i,l,a,o,s,d,c,r,u,_,h,g,j,S,b,N,y,A,C,Z,I,E,T,P,k,R,D,O,L;let{onAllotApplicantBatch:M,onCancelAdmission:F,applicant:U,instituteId:q}=e;const{t:B}=(0,p.$G)(),G=(0,x.UO)(),H=(0,x.s0)(),[V,W]=(0,t.useState)(""),[J,$]=(0,t.useState)(!1),[Y,z]=(0,t.useState)(""),{getFeeReceiptDetail:Q,getFeeReceiptDetailRefetch:X}=(0,v.$d)({rid:V,skip:!V});(0,t.useEffect)((()=>{V&&X()}),[V,X]),(0,t.useEffect)((()=>{null!==Q&&void 0!==Q&&Q.receipt&&null!==Q&&void 0!==Q&&Q.all_remain&&z(Q)}),[Q]),(0,t.useEffect)((()=>{if(Y){const{institute:e,studentInfo:i,paymentReceiptInfo:t}=(0,Qe.Hs)(null===Y||void 0===Y?void 0:Y.all_remain,null===Y||void 0===Y?void 0:Y.receipt),l=new Worker(new URL(n.p+n.u(4942),n.b));l.postMessage({institute:e,studentInfo:i,paymentReceiptInfo:t,printReceiptType:"Refunded"===(null===t||void 0===t?void 0:t.transactonRefund)?"ADMISSION_REFUND":"ADMISSION"}),l.onmessage=e=>{e&&(window.open(e.data,"_blank"),$((e=>!e)),z(""),l.terminate())}}}),[Y]);return(0,f.jsxs)("div",{className:ce.Z.applicant_card_container,onClick:()=>{var e;H("/q/".concat(G.username,"/student/profile"),{state:{sid:null===U||void 0===U||null===(e=U.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:q}})},title:"View Profile",children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_inner,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===U||void 0===U||null===(i=U.student)||void 0===i?void 0:i.photoId)?"".concat(m.yI,"/").concat(null===U||void 0===U||null===(l=U.student)||void 0===l?void 0:l.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,f.jsxs)("div",{className:ce.Z.applicant_card_inner_info,children:[(0,f.jsx)("h6",{children:"".concat(null===U||void 0===U||null===(a=U.student)||void 0===a?void 0:a.studentFirstName," ").concat(null!==U&&void 0!==U&&null!==(o=U.student)&&void 0!==o&&o.studentMiddleName?null===U||void 0===U||null===(s=U.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null===U||void 0===U||null===(d=U.student)||void 0===d?void 0:d.studentLastName)}),(0,f.jsx)("p",{onClick:e=>{e.stopPropagation(),F(U)},className:ce.Z.cancelStatus,children:B("cancel_admision")})]})]}),(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact,children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,f.jsx)("p",{children:null===U||void 0===U||null===(c=U.student)||void 0===c?void 0:c.studentGender})]}),((null===U||void 0===U||null===(r=U.student)||void 0===r?void 0:r.studentPhoneNumber)||(null===U||void 0===U||null===(u=U.student)||void 0===u||null===(_=u.user)||void 0===_?void 0:_.userPhoneNumber)||(null===U||void 0===U||null===(h=U.student)||void 0===h||null===(g=h.user)||void 0===g?void 0:g.userEmail)||(null===U||void 0===U||null===(j=U.student)||void 0===j?void 0:j.studentParentsPhoneNumber))&&(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,f.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==U&&void 0!==U&&null!==(S=U.student)&&void 0!==S&&null!==(b=S.user)&&void 0!==b&&b.userPhoneNumber?null===U||void 0===U||null===(N=U.student)||void 0===N||null===(y=N.user)||void 0===y?void 0:y.userPhoneNumber:null!==U&&void 0!==U&&null!==(A=U.student)&&void 0!==A&&null!==(C=A.user)&&void 0!==C&&C.userEmail?null===U||void 0===U||null===(Z=U.student)||void 0===Z||null===(I=Z.user)||void 0===I?void 0:I.userEmail:null!==U&&void 0!==U&&null!==(E=U.student)&&void 0!==E&&E.studentPhoneNumber?null===U||void 0===U||null===(T=U.student)||void 0===T?void 0:T.studentPhoneNumber:null===U||void 0===U||null===(P=U.student)||void 0===P?void 0:P.studentParentsPhoneNumber})]})]}),(0,f.jsx)("div",{className:ce.Z.applicant_card_reciept,onClick:e=>{e.stopPropagation()},children:(0,f.jsx)("a",{href:"".concat(m.r3,"/").concat(null===U||void 0===U||null===(k=U.student)||void 0===k||null===(R=k.application_print)||void 0===R||null===(D=R[0])||void 0===D?void 0:D.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-4.5px"},children:(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,f.jsx)("div",{className:ce.Z.applicant_card_reciept,children:null===U||void 0===U||null===(O=U.student)||void 0===O||null===(L=O.fee_receipt)||void 0===L?void 0:L.map(((e,i)=>i>2?"":(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-receipt-download.svg",onClick:i=>((e,i)=>{e.stopPropagation(),$((e=>!e)),W(i),V===i&&z(Q)})(i,e),alt:"receipt icon",title:"Download Fees Receipt"},e)))}),(0,f.jsx)("div",{className:ce.Z.selectBtnContainer,style:{width:"auto"},children:(0,f.jsx)("div",{className:ce.Z.selectBtn,onClick:e=>{e.stopPropagation(),M(U)},children:B("allot_class")})}),J&&(0,f.jsx)(w.Z,{})]})};const Ke=function(e){var i,n,l,a;let{onRefetchWhenAction:o,applicationId:s,currentApplicant:d,onClose:c}=e;const{t:r}=(0,p.$G)(),[u,m]=(0,t.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),[_,h]=(0,t.useState)(""),[g,x]=(0,t.useState)(0),[j,S]=(0,t.useState)({msg:"",run:!1}),[b,N]=(0,t.useState)(!1),[y]=(0,v.PE)();(0,t.useEffect)((()=>{var e,i;if(null!==d&&void 0!==d&&null!==(e=d.student)&&void 0!==e&&null!==(i=e.paidFeeList)&&void 0!==i&&i.length){var n,t,l,a;const e=null===d||void 0===d||null===(n=d.student)||void 0===n||null===(t=n.paidFeeList)||void 0===t?void 0:t.filter((e=>(null===e||void 0===e?void 0:e.appId)===s));x(null!==(l=null===e||void 0===e||null===(a=e[0])||void 0===a?void 0:a.paidAmount)&&void 0!==l?l:0)}}),[null===d||void 0===d||null===(i=d.student)||void 0===i?void 0:i.paidFeeList]);const A=e=>{"fee_payment_mode"===e.target.name?m((i=>({...i,[e.target.name]:e.target.value,mode:"By Cash"===e.target.value?"Offline":"Online",fee_payment_mode:e.target.value}))):m((i=>({...i,[e.target.name]:e.target.value})))};return(0,f.jsxs)(M.Z,{onClose:c,children:[(0,f.jsxs)("div",{className:ce.Z.admission_modal,children:[(0,f.jsx)("h6",{className:ce.Z.admission_modal_heading,children:r("cancel_addmission")}),(0,f.jsx)(D.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),(0,f.jsxs)("div",{className:ce.Z.admission_fees_row,children:[(0,f.jsxs)("h6",{children:[r("total_admission_fees")," :"]}),(0,f.jsxs)("h6",{children:[r("rs"),"."," ",null!==(n=null===d||void 0===d||null===(l=d.student)||void 0===l||null===(a=l.fee_structure)||void 0===a?void 0:a.total_admission_fees)&&void 0!==n?n:0]})]}),(0,f.jsxs)("div",{className:ce.Z.admission_fees_row,children:[(0,f.jsxs)("h6",{children:[r("fees_paid")," :"]}),(0,f.jsxs)("h6",{children:[r("rs"),". ",g]})]}),(0,f.jsx)(We.Z,{paymentHeading:r("refund_payment_type_mode"),onInputChange:A,errorShow:_.fee_payment_mode}),(0,f.jsx)(Je.Z,{labelText:r("refund_amount"),name:"amount",type:"tel",value:u.amount,onChange:e=>{m((i=>({...i,amount:+e.target.value,fee_payment_amount:+e.target.value})))},placeholder:r("please_enter_refund_amount"),errorShow:_.fee_payment_amount}),(0,f.jsx)($e.Z,{labelText:r("select_date_of_transaction"),placeholder:r("please_select_date"),name:"transaction_date",value:u.transaction_date,onDateFunction:e=>{const i=null===e||void 0===e?void 0:e.split("/");m((e=>({...e,transaction_date:"".concat(i[2],"-").concat(i[1],"-").concat(i[0])})))},customStyleContainer:{position:"relative",marginTop:"0.5rem"},datePickerPosition:{position:"relative",top:"-20rem"},customStyleLabel:{marginTop:"15px"},errorShow:_.transaction_date}),(0,f.jsx)("h6",{style:{marginTop:"0.5rem"},children:r("paid_to")}),(0,f.jsx)(Je.Z,{labelText:r("bank_name_collect"),name:"fee_bank_name",type:"tel",value:u.fee_bank_name,onChange:A,placeholder:r("please_enter_bank_name"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,f.jsx)(Je.Z,{labelText:r("banke_holder_name"),name:"fee_bank_holder",type:"tel",value:u.fee_bank_holder,onChange:A,placeholder:r("please_enter_name_of_bank_holder"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,f.jsx)(Je.Z,{labelText:r("cheque_dd_neft"),name:"fee_utr_reference",type:"tel",value:u.fee_utr_reference,onChange:A,placeholder:r("please_enter_utr_ref_number"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,f.jsx)("div",{className:ce.Z.confirm_btn,onClick:()=>{const e=(e=>{const i={};for(let n in e)"fee_bank_name"===n||"fee_bank_holder"===n||"fee_utr_reference"===n||"amount"===n||"mode"===n||(e[n]?"fee_payment_amount"===n&&(e[n]<=g||(S({msg:"You can not enter amount greater than fees paid",run:!0}),i.fee_payment_amount_issue="".concat(n," is required!"))):i[n]="".concat(n," is required!"));return i})(u);let i=!1;for(let o in e){i=!0;break}if(i)h(e);else{var n,t,l;N(!0);var a={sid:null===d||void 0===d||null===(n=d.student)||void 0===n?void 0:n._id,aid:s,cancel_data:{...u,remainAmount:null!==(t=null===d||void 0===d?void 0:d.fee_remain)&&void 0!==t?t:0}};""!==(null===a||void 0===a?void 0:a.sid)&&""!==(null===a||void 0===a?void 0:a.aid)&&(null===a||void 0===a||null===(l=a.cancel_data)||void 0===l?void 0:l.amount)>0&&y(a).then((e=>{var i;e.data.refund_status?(o(),c(),N(!1)):(S({msg:null===(i=e.data)||void 0===i?void 0:i.message,run:!0}),N(!1))})).catch({})}},children:r("confirm")}),(0,f.jsx)(Te.Ch,{msg:j.msg,run:j.run,setRun:()=>S({msg:"",run:!1}),postiton:"bottom",type:"error"})]}),b&&(0,f.jsx)(w.Z,{})]})},ei=e=>{var i;let{applicationId:n,onAllotApplicantClasses:l,onClose:a}=e;const{t:o}=(0,p.$G)(),[s,d]=(0,t.useState)(!0),{admissionBatchList:c,admissionBatchListRefetch:r}=(0,v.j5)({aid:n,skip:!n});(0,t.useEffect)((()=>{n&&(d(!0),r())}),[n,r]);return(0,t.useEffect)((()=>{null!==c&&void 0!==c&&c.batch&&d(!1)}),[null===c||void 0===c?void 0:c.batch]),(0,f.jsx)(M.Z,{onClose:a,children:(0,f.jsxs)("div",{className:ce.Z.admission_modal,children:[(0,f.jsx)("h6",{className:ce.Z.admission_modal_heading,children:o("select_batch")}),(0,f.jsx)(D.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),null===c||void 0===c||null===(i=c.batch)||void 0===i?void 0:i.map((e=>(0,f.jsxs)("div",{className:ce.Z.admission_confirm_batch_card,onClick:()=>{return i=null===e||void 0===e?void 0:e._id,void l(i);var i},children:[(0,f.jsx)("img",{src:"/images/allot-class-icon.svg",alt:"Class Avatar"}),(0,f.jsx)("div",{className:ce.Z.admission_collect_docs,style:{marginTop:"0"},children:(0,f.jsx)("h6",{children:null===e||void 0===e?void 0:e.batchName})})]},null===e||void 0===e?void 0:e._id))),s&&(0,f.jsx)(R.Z,{})]})})};var ii=n(15415);const ni=e=>{var i,n,l,a;let{onClose:o,currentApplicant:s,applicationId:d,onRefetchWhenAction:c,batchId:r,openAs:u}=e;const[m,_]=(0,t.useState)(!1),[h,g]=(0,t.useState)(!1),[x,j]=(0,t.useState)(""),{t:S}=(0,p.$G)(),[b,N]=(0,t.useState)(1),[y,A]=(0,t.useState)(!0),[C,Z]=(0,k.YD)(),[I,E]=(0,t.useState)(""),[T,P]=(0,t.useState)([]),[O,L]=(0,t.useState)(!0),{getAllClassesList:F,getAllClassesListRefetch:U}=(0,v.Ds)({data:{search:I,aid:d,bid:r,page:b,limit:10},skip:!d||!r}),[q]=(0,v.ht)();(0,t.useEffect)((()=>{d&&(L(!0),U())}),[d,U,b,I]),(0,t.useEffect)((()=>{Z&&y&&N((e=>e+1))}),[Z,y]),(0,t.useEffect)((()=>{var e;I?(P(null===F||void 0===F?void 0:F.classes),L(!1)):null!==F&&void 0!==F&&F.classes?(P((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===F||void 0===F?void 0:F.classes])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),L(!1)):0===(null===F||void 0===F||null===(e=F.classes)||void 0===e?void 0:e.length)&&L(!1);10===(null===F||void 0===F?void 0:F.classes.length)?A(!0):A(!1)}),[null===F||void 0===F?void 0:F.classes]);const B=(0,t.useCallback)((0,Ze.debounce)((e=>E(e)),500),[]);return(0,f.jsx)(M.Z,{onClose:o,children:(0,f.jsxs)("div",{className:ce.Z.admission_modal,children:[(0,f.jsx)("h6",{className:ce.Z.admission_modal_heading,children:S(m?"allot_to_class":"allot_class")}),(0,f.jsx)(D.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),m?"":(0,f.jsx)("div",{className:ce.Z.with_search,style:{marginBottom:"0.7rem"},children:(0,f.jsx)("div",{className:ce.Z.search_container_filter,style:{width:"100%"},children:(0,f.jsx)("section",{className:ce.Z.search_container,style:{width:"100%"},children:(0,f.jsxs)("div",{className:ce.Z.search_container_input,style:{width:"100%"},children:[(0,f.jsx)("img",{className:ce.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,f.jsx)("input",{type:"text",placeholder:"Search classes...",onChange:e=>{B(e.target.value)}})]})})})}),m?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:ce.Z.admission_class_confirm,children:["MULITSELECT"===u?(0,f.jsxs)(f.Fragment,{children:[S("alloting")," ",(0,f.jsx)("span",{style:{fontWeight:"600"},children:null===s||void 0===s?void 0:s.length})," ",S("students")," "," "]}):(0,f.jsxs)(f.Fragment,{children:[S("lloting_student")," ",(0,f.jsx)("span",{style:{fontWeight:"600"},children:" ".concat(null===s||void 0===s||null===(i=s.student)||void 0===i?void 0:i.studentFirstName," ").concat(null!==s&&void 0!==s&&null!==(n=s.student)&&void 0!==n&&n.studentMiddleName?null===s||void 0===s||null===(l=s.student)||void 0===l?void 0:l.studentMiddleName:""," ").concat(null===s||void 0===s||null===(a=s.student)||void 0===a?void 0:a.studentLastName," ")})]}),",",S("to")," ",(0,f.jsx)("span",{style:{fontWeight:"600"},children:" ".concat(null===x||void 0===x?void 0:x.className," - ").concat(null===x||void 0===x?void 0:x.classTitle)})]}),(0,f.jsx)("div",{className:ce.Z.confirm_btn,onClick:()=>{var e;d&&null!==x&&void 0!==x&&x._id&&s&&(g(!0),q({allotClass:{dataList:"MULITSELECT"===u?s:[null===s||void 0===s||null===(e=s.student)||void 0===e?void 0:e._id]},aid:d,cid:null===x||void 0===x?void 0:x._id}).then((()=>{c(),o(),g(!1)})).catch({}))},children:S("confirm")})]}):(0,f.jsxs)(f.Fragment,{children:[null===T||void 0===T?void 0:T.map(((e,i)=>(null===T||void 0===T?void 0:T.length)===i+1?(0,f.jsx)("div",{ref:C,children:(0,f.jsx)(ii.Z,{setViewClass:_,classData:e,setAllotC:j},i)}):(0,f.jsx)(ii.Z,{setViewClass:_,classData:e,setAllotC:j},i))),O&&(0,f.jsx)(R.Z,{})]}),h&&(0,f.jsx)(w.Z,{})]})})};const ti=function(e){let{carryParentState:i,applicationId:n,applicationDetail:l,accessRole:a,accessTpye:o,instituteId:s,callApi:d,applicationDetailApplicablePending:c,pageOpenAs:r}=e;const{t:u}=(0,p.$G)(),[m,_]=(0,t.useState)(!0),[h,g]=(0,t.useState)(1),[x,j]=(0,t.useState)(""),[S,b]=(0,k.YD)(),[N,y]=(0,t.useState)([]),[C,Z]=(0,t.useState)(!1),[I,E]=(0,t.useState)(!0),[T,P]=(0,t.useState)(""),[D,O]=(0,t.useState)(""),[L,w]=(0,t.useState)(""),{getAllConfirmList:M,getAllConfirmListRefetch:F}=(0,v.RR)({data:{id:n,page:h,limit:10,search:x||""},skip:!n}),{scrollToTop:U}=(0,Q.u)();(0,t.useEffect)((()=>{U()}),[]),(0,t.useEffect)((()=>{b&&m&&g((e=>e+1))}),[b,m]),(0,t.useEffect)((()=>{n&&(E(!0),F())}),[h,n,F,x]),(0,t.useEffect)((()=>{var e,i;x?(y(null===M||void 0===M?void 0:M.confirm),E(!1)):C?(y(null===M||void 0===M?void 0:M.confirm),Z(!1),E(!1)):null!==M&&void 0!==M&&M.confirm?(y((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===M||void 0===M?void 0:M.confirm])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),E(!1)):0===(null===M||void 0===M||null===(i=M.confirm)||void 0===i?void 0:i.length)&&E(!1);10===(null===M||void 0===M||null===(e=M.confirm)||void 0===e?void 0:e.length)?_(!0):_(!1)}),[null===M||void 0===M?void 0:M.confirm]);const q=()=>{g(1),F(),Z(!0)},B=(0,t.useCallback)((0,Ze.debounce)((e=>j(e)),500),[]),G=e=>{O(e),P("CANCEL_APPLICANT")},H=e=>{O(e),P("ALLOT_BATCH")};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Oe,{applicationDetail:l,carryParentState:i,instituteId:s,tabStatusFlow:"Confirm_Query",applicationDetailApplicablePending:c,onRefetchConfirmTab:q,pageOpenAs:r,s:!0,children:(0,f.jsx)("input",{type:"text",placeholder:"Search applicants...",onChange:e=>{B(e.target.value)}})}),(0,f.jsx)(we,{carryParentState:i,accessRole:a,accessTpye:o,pageOpenAs:r}),(0,f.jsx)("div",{className:ce.Z.end_btn,children:"INSTITUTE"===r?(0,f.jsx)(A,{carryParentState:i,activeTab:"?a=ongoing&n=mulitple",children:(0,f.jsx)("p",{className:ce.Z.mulitple_select_btn,children:u("multiple_select")})}):(0,f.jsx)(be,{carryParentState:i,accessRole:a,accessTpye:o,activeTab:"ongoing&n=mulitple",callApi:d,children:(0,f.jsx)("p",{className:ce.Z.mulitple_select_btn,children:u("multiple_select")})})}),null===N||void 0===N?void 0:N.map(((e,i)=>(null===N||void 0===N?void 0:N.length)===i+1?(0,f.jsx)("div",{ref:S,children:(0,f.jsx)(Xe,{applicant:e,onCancelAdmission:G,onAllotApplicantBatch:H,instituteId:s})},i):(0,f.jsx)(Xe,{applicant:e,onCancelAdmission:G,onAllotApplicantBatch:H,instituteId:s},i))),I&&(0,f.jsx)(R.Z,{}),"CANCEL_APPLICANT"===T&&(0,f.jsx)(Ke,{onClose:()=>P(""),currentApplicant:D,onRefetchWhenAction:q,applicationId:null===l||void 0===l?void 0:l._id}),"ALLOT_BATCH"===T&&(0,f.jsx)(ei,{onClose:()=>P(""),applicationId:null===l||void 0===l?void 0:l._id,onAllotApplicantClasses:e=>{w(e),P("ALLOT_CLASSES")}}),"ALLOT_CLASSES"===T&&(0,f.jsx)(ni,{onClose:()=>P(""),currentApplicant:D,onRefetchWhenAction:q,applicationId:null===l||void 0===l?void 0:l._id,batchId:L})]})},li=e=>{var i,l,a,o,s,d,c,r,u,p,_,h,g,j,S,b,N,y,A,C,Z,I,E,T,P,k,R,D,O;let{applicant:L}=e;const M=(0,x.UO)(),F=(0,x.s0)(),[U,q]=(0,t.useState)(""),[B,G]=(0,t.useState)(!1),[H,V]=(0,t.useState)(""),{getFeeReceiptDetail:W,getFeeReceiptDetailRefetch:J}=(0,v.$d)({rid:U,skip:!U});(0,t.useEffect)((()=>{U&&J()}),[U,J]),(0,t.useEffect)((()=>{null!==W&&void 0!==W&&W.receipt&&null!==W&&void 0!==W&&W.all_remain&&V(W)}),[W]),(0,t.useEffect)((()=>{if(H){const{institute:e,studentInfo:i,paymentReceiptInfo:t}=(0,Qe.Hs)(null===H||void 0===H?void 0:H.all_remain,null===H||void 0===H?void 0:H.receipt),l=new Worker(new URL(n.p+n.u(4021),n.b));l.postMessage({institute:e,studentInfo:i,paymentReceiptInfo:t,printReceiptType:"Refunded"===(null===t||void 0===t?void 0:t.transactonRefund)?"ADMISSION_REFUND":"ADMISSION"}),l.onmessage=e=>{e&&(window.open(e.data,"_blank"),G((e=>!e)),V(""),l.terminate())}}}),[H]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_container,onClick:()=>{var e;F("/q/".concat(M.username,"/student/profile"),{state:{sid:null===L||void 0===L||null===(e=L.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_inner,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===L||void 0===L||null===(i=L.student)||void 0===i?void 0:i.photoId)?"".concat(m.yI,"/").concat(null===L||void 0===L||null===(l=L.student)||void 0===l?void 0:l.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,f.jsxs)("div",{className:ce.Z.applicant_card_inner_info,children:[(0,f.jsx)("h6",{children:"".concat(null===L||void 0===L||null===(a=L.student)||void 0===a?void 0:a.studentFirstName," ").concat(null!==L&&void 0!==L&&null!==(o=L.student)&&void 0!==o&&o.studentMiddleName?null===L||void 0===L||null===(s=L.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null===L||void 0===L||null===(d=L.student)||void 0===d?void 0:d.studentLastName)}),(0,f.jsx)("p",{children:(null===L||void 0===L?void 0:L.alloted_class)||""})]})]}),(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact,children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,f.jsx)("p",{children:null===L||void 0===L||null===(c=L.student)||void 0===c?void 0:c.studentGender})]}),((null===L||void 0===L||null===(r=L.student)||void 0===r?void 0:r.studentPhoneNumber)||(null===L||void 0===L||null===(u=L.student)||void 0===u||null===(p=u.user)||void 0===p?void 0:p.userPhoneNumber)||(null===L||void 0===L||null===(_=L.student)||void 0===_||null===(h=_.user)||void 0===h?void 0:h.userEmail)||(null===L||void 0===L||null===(g=L.student)||void 0===g?void 0:g.studentParentsPhoneNumber))&&(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,f.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==L&&void 0!==L&&null!==(j=L.student)&&void 0!==j&&null!==(S=j.user)&&void 0!==S&&S.userPhoneNumber?null===L||void 0===L||null===(b=L.student)||void 0===b||null===(N=b.user)||void 0===N?void 0:N.userPhoneNumber:null!==L&&void 0!==L&&null!==(y=L.student)&&void 0!==y&&null!==(A=y.user)&&void 0!==A&&A.userEmail?null===L||void 0===L||null===(C=L.student)||void 0===C||null===(Z=C.user)||void 0===Z?void 0:Z.userEmail:null!==L&&void 0!==L&&null!==(I=L.student)&&void 0!==I&&I.studentPhoneNumber?null===L||void 0===L||null===(E=L.student)||void 0===E?void 0:E.studentPhoneNumber:null===L||void 0===L||null===(T=L.student)||void 0===T?void 0:T.studentParentsPhoneNumber})]})]}),(0,f.jsx)("div",{className:ce.Z.applicant_card_reciept,onClick:e=>{e.stopPropagation()},children:(0,f.jsx)("a",{href:"".concat(m.r3,"/").concat(null===L||void 0===L||null===(P=L.student)||void 0===P||null===(k=P.application_print)||void 0===k||null===(R=k[0])||void 0===R?void 0:R.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,f.jsx)("div",{className:ce.Z.applicant_card_reciept,children:null===L||void 0===L||null===(D=L.student)||void 0===D||null===(O=D.fee_receipt)||void 0===O?void 0:O.map(((e,i)=>i>2?"":(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-receipt-download.svg",onClick:i=>((e,i)=>{e.stopPropagation(),G((e=>!e)),q(i),U===i&&V(W)})(i,e),alt:"receipt icon",title:"Download Fees Receipt"},e)))})]}),B&&(0,f.jsx)(w.Z,{})]})},ai=e=>{let{carryParentState:i,applicationId:n,applicationDetail:l,viewAs:a,accessRole:o,accessTpye:s,instituteId:d,applicationDetailApplicablePending:c,pageOpenAs:r}=e;const[u,m]=(0,t.useState)(!0),[p,_]=(0,t.useState)(1),[h,g]=(0,k.YD)(),[x,j]=(0,t.useState)([]),[S,b]=(0,t.useState)(!0),[N,y]=(0,t.useState)(""),{admissionAllottedList:A,admissionAllottedListRefetch:C}=(0,v.k8)({data:{aid:n,page:p,limit:10,search:N||""},skip:!n}),{scrollToTop:Z}=(0,Q.u)();(0,t.useEffect)((()=>{Z()}),[]),(0,t.useEffect)((()=>{g&&u&&_((e=>e+1))}),[g,u]),(0,t.useEffect)((()=>{n&&(b(!0),C())}),[p,n,C,N]),(0,t.useEffect)((()=>{var e,i;N?(j(null===A||void 0===A?void 0:A.allot),b(!1)):null!==A&&void 0!==A&&A.allot?(j((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===A||void 0===A?void 0:A.allot])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),b(!1)):0===(null===A||void 0===A||null===(i=A.allot)||void 0===i?void 0:i.length)&&b(!1);10===(null===A||void 0===A||null===(e=A.allot)||void 0===e?void 0:e.length)?m(!0):m(!1)}),[null===A||void 0===A?void 0:A.allot]);const I=(0,t.useCallback)((0,Ze.debounce)((e=>y(e)),500),[]);return(0,f.jsxs)(f.Fragment,{children:["COMPLETED_APPLICATION"===a?"":(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Oe,{applicationDetail:l,carryParentState:i,instituteId:d,tabStatusFlow:"Allot_Query",applicationDetailApplicablePending:c,pageOpenAs:r,children:(0,f.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:e=>{I(e.target.value)}})}),(0,f.jsx)(we,{carryParentState:i,accessRole:o,accessTpye:s,pageOpenAs:r})]}),null===x||void 0===x?void 0:x.map(((e,i)=>(null===x||void 0===x?void 0:x.length)===i+1?(0,f.jsx)("div",{ref:h,children:(0,f.jsx)(li,{applicant:e})},i):(0,f.jsx)(li,{applicant:e},i))),S&&(0,f.jsx)(R.Z,{})]})},oi=e=>{var i,l,a,o,s,d,c,r,u,p,_,h,g,j,S,b,N,y,A,C,Z,I,E,T,P,k,R,D,O;let{applicant:L}=e;const M=(0,x.UO)(),F=(0,x.s0)(),[U,q]=(0,t.useState)(""),[B,G]=(0,t.useState)(!1),[H,V]=(0,t.useState)(""),{getFeeReceiptDetail:W,getFeeReceiptDetailRefetch:J}=(0,v.$d)({rid:U,skip:!U});(0,t.useEffect)((()=>{U&&J()}),[U,J]),(0,t.useEffect)((()=>{null!==W&&void 0!==W&&W.receipt&&null!==W&&void 0!==W&&W.all_remain&&V(W)}),[W]),(0,t.useEffect)((()=>{if(H){const{institute:e,studentInfo:i,paymentReceiptInfo:t}=(0,Qe.Hs)(null===H||void 0===H?void 0:H.all_remain,null===H||void 0===H?void 0:H.receipt),l=new Worker(new URL(n.p+n.u(33649),n.b));l.postMessage({institute:e,studentInfo:i,paymentReceiptInfo:t,printReceiptType:"Refunded"===(null===t||void 0===t?void 0:t.transactonRefund)?"ADMISSION_REFUND":"ADMISSION"}),l.onmessage=e=>{e&&(window.open(e.data,"_blank"),G((e=>!e)),V(""),l.terminate())}}}),[H]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_container,onClick:()=>{var e;F("/q/".concat(M.username,"/student/profile"),{state:{sid:null===L||void 0===L||null===(e=L.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_inner,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===L||void 0===L||null===(i=L.student)||void 0===i?void 0:i.photoId)?"".concat(m.yI,"/").concat(null===L||void 0===L||null===(l=L.student)||void 0===l?void 0:l.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,f.jsxs)("div",{className:ce.Z.applicant_card_inner_info,children:[(0,f.jsx)("h6",{children:"".concat(null===L||void 0===L||null===(a=L.student)||void 0===a?void 0:a.studentFirstName," ").concat(null!==L&&void 0!==L&&null!==(o=L.student)&&void 0!==o&&o.studentMiddleName?null===L||void 0===L||null===(s=L.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null===L||void 0===L||null===(d=L.student)||void 0===d?void 0:d.studentLastName)}),(0,f.jsxs)("p",{children:["Rs. ",null===L||void 0===L?void 0:L.refund_amount," ","Refund"===(null===L||void 0===L?void 0:L.payment_status)&&"Refunded"]})]})]}),(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact,children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,f.jsx)("p",{children:null===L||void 0===L||null===(c=L.student)||void 0===c?void 0:c.studentGender})]}),((null===L||void 0===L||null===(r=L.student)||void 0===r?void 0:r.studentPhoneNumber)||(null===L||void 0===L||null===(u=L.student)||void 0===u||null===(p=u.user)||void 0===p?void 0:p.userPhoneNumber)||(null===L||void 0===L||null===(_=L.student)||void 0===_||null===(h=_.user)||void 0===h?void 0:h.userEmail)||(null===L||void 0===L||null===(g=L.student)||void 0===g?void 0:g.studentParentsPhoneNumber))&&(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,f.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==L&&void 0!==L&&null!==(j=L.student)&&void 0!==j&&null!==(S=j.user)&&void 0!==S&&S.userPhoneNumber?null===L||void 0===L||null===(b=L.student)||void 0===b||null===(N=b.user)||void 0===N?void 0:N.userPhoneNumber:null!==L&&void 0!==L&&null!==(y=L.student)&&void 0!==y&&null!==(A=y.user)&&void 0!==A&&A.userEmail?null===L||void 0===L||null===(C=L.student)||void 0===C||null===(Z=C.user)||void 0===Z?void 0:Z.userEmail:null!==L&&void 0!==L&&null!==(I=L.student)&&void 0!==I&&I.studentPhoneNumber?null===L||void 0===L||null===(E=L.student)||void 0===E?void 0:E.studentPhoneNumber:null===L||void 0===L||null===(T=L.student)||void 0===T?void 0:T.studentParentsPhoneNumber})]})]}),(0,f.jsx)("div",{className:ce.Z.applicant_card_reciept,onClick:e=>{e.stopPropagation()},children:(0,f.jsx)("a",{href:"".concat(m.r3,"/").concat(null===L||void 0===L||null===(P=L.student)||void 0===P||null===(k=P.application_print)||void 0===k||null===(R=k[0])||void 0===R?void 0:R.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,f.jsx)("div",{className:ce.Z.applicant_card_reciept,children:null===L||void 0===L||null===(D=L.student)||void 0===D||null===(O=D.fee_receipt)||void 0===O?void 0:O.map(((e,i)=>i>2?"":(0,f.jsx)("img",{src:"/images/member_tab/admission/admission-receipt-download.svg",onClick:i=>((e,i)=>{e.stopPropagation(),G((e=>!e)),q(i),U===i&&V(W)})(i,e),alt:"receipt icon",title:"Download Fees Receipt"},e)))})]}),B&&(0,f.jsx)(w.Z,{})]})},si=e=>{let{carryParentState:i,applicationId:n,applicationDetail:l,viewAs:a,accessRole:o,accessTpye:s,instituteId:d,applicationDetailApplicablePending:c,pageOpenAs:r}=e;const[u,m]=(0,t.useState)(!0),[p,_]=(0,t.useState)(1),[h,g]=(0,k.YD)(),[x,j]=(0,t.useState)([]),[S,b]=(0,t.useState)(""),[N,y]=(0,t.useState)(!0),{admissionCancelledList:A,admissionCancelledListRefetch:C}=(0,v.wd)({data:{aid:n,page:p,limit:10,search:S||""},skip:!n}),{scrollToTop:Z}=(0,Q.u)();(0,t.useEffect)((()=>{Z()}),[]),(0,t.useEffect)((()=>{g&&u&&_((e=>e+1))}),[g,u]),(0,t.useEffect)((()=>{n&&(y(!0),C())}),[p,n,C]),(0,t.useEffect)((()=>{var e,i;S?(j(null===A||void 0===A?void 0:A.cancel),y(!1)):null!==A&&void 0!==A&&A.cancel?(j((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===A||void 0===A?void 0:A.cancel])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),y(!1)):0===(null===A||void 0===A||null===(i=A.cancel)||void 0===i?void 0:i.length)&&y(!1);10===(null===A||void 0===A||null===(e=A.cancel)||void 0===e?void 0:e.length)?m(!0):m(!1)}),[null===A||void 0===A?void 0:A.cancel]);const I=(0,t.useCallback)((0,Ze.debounce)((e=>b(e)),500),[]);return(0,f.jsxs)(f.Fragment,{children:["COMPLETED_APPLICATION"===a?"":(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Oe,{applicationDetail:l,carryParentState:i,instituteId:d,applicationDetailApplicablePending:c,pageOpenAs:r,children:(0,f.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:e=>{I(e.target.value)}})}),(0,f.jsx)(we,{carryParentState:i,accessRole:o,accessTpye:s,pageOpenAs:r})]}),null===x||void 0===x?void 0:x.map(((e,i)=>(null===x||void 0===x?void 0:x.length)===i+1?(0,f.jsx)("div",{ref:h,children:(0,f.jsx)(oi,{applicant:e})},i):(0,f.jsx)(oi,{applicant:e},i))),N&&(0,f.jsx)(R.Z,{})]})},di=e=>{var i,n,t,l,a,o,s,d,c,r,u,v,p,_,h,g,j,S,b,N,y,A,C,Z,I;let{applicant:E,selectedApplicant:T,onSelectOne:P}=e;const k=(0,x.UO)(),R=(0,x.s0)();return(0,f.jsxs)("div",{className:ce.Z.applicant_card_container,onClick:()=>{var e;R("/q/".concat(k.username,"/student/profile"),{state:{sid:null===E||void 0===E||null===(e=E.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_inner,children:[(0,f.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===E||void 0===E||null===(i=E.student)||void 0===i?void 0:i.photoId)?"".concat(m.yI,"/").concat(null===E||void 0===E||null===(n=E.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,f.jsxs)("div",{className:ce.Z.applicant_card_inner_info,children:[(0,f.jsx)("h6",{children:"".concat(null===E||void 0===E||null===(t=E.student)||void 0===t?void 0:t.studentFirstName," ").concat(null!==E&&void 0!==E&&null!==(l=E.student)&&void 0!==l&&l.studentMiddleName?null===E||void 0===E||null===(a=E.student)||void 0===a?void 0:a.studentMiddleName:""," ").concat(null===E||void 0===E||null===(o=E.student)||void 0===o?void 0:o.studentLastName)}),(0,f.jsx)("p",{children:null===E||void 0===E?void 0:E.install_type})]})]}),(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact,children:[(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,f.jsx)("p",{children:null===E||void 0===E||null===(s=E.student)||void 0===s?void 0:s.studentGender})]}),((null===E||void 0===E||null===(d=E.student)||void 0===d?void 0:d.studentPhoneNumber)||(null===E||void 0===E||null===(c=E.student)||void 0===c||null===(r=c.user)||void 0===r?void 0:r.userPhoneNumber)||(null===E||void 0===E||null===(u=E.student)||void 0===u||null===(v=u.user)||void 0===v?void 0:v.userEmail)||(null===E||void 0===E||null===(p=E.student)||void 0===p?void 0:p.studentParentsPhoneNumber))&&(0,f.jsxs)("div",{className:ce.Z.applicant_card_contact_inner,children:[(0,f.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,f.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==E&&void 0!==E&&null!==(_=E.student)&&void 0!==_&&null!==(h=_.user)&&void 0!==h&&h.userPhoneNumber?null===E||void 0===E||null===(g=E.student)||void 0===g||null===(j=g.user)||void 0===j?void 0:j.userPhoneNumber:null!==E&&void 0!==E&&null!==(S=E.student)&&void 0!==S&&null!==(b=S.user)&&void 0!==b&&b.userEmail?null===E||void 0===E||null===(N=E.student)||void 0===N||null===(y=N.user)||void 0===y?void 0:y.userEmail:null!==E&&void 0!==E&&null!==(A=E.student)&&void 0!==A&&A.studentPhoneNumber?null===E||void 0===E||null===(C=E.student)||void 0===C?void 0:C.studentPhoneNumber:null===E||void 0===E||null===(Z=E.student)||void 0===Z?void 0:Z.studentParentsPhoneNumber})]})]}),(0,f.jsx)("div",{className:ce.Z.selectBtnContainer,children:(0,f.jsx)("img",{id:"check",className:ce.Z.checkbox,src:null!==T&&void 0!==T&&T.includes(null===E||void 0===E||null===(I=E.student)||void 0===I?void 0:I._id)?"/images/checkbox-icon.svg":"/images/box-icon.svg",alt:"select icon",onClick:e=>{var i;e.stopPropagation(),P(null===E||void 0===E||null===(i=E.student)||void 0===i?void 0:i._id)}})})]})},ci=e=>{let{carryParentState:i,applicationId:n,applicationDetail:l,accessRole:a,accessTpye:o,instituteId:s,applicationDetailApplicablePending:d,pageOpenAs:c}=e;const{t:r}=(0,p.$G)(),[u,m]=(0,t.useState)([]),[_,h]=(0,t.useState)(!0),[g,x]=(0,t.useState)([]),[j,S]=(0,t.useState)(0),[b,N]=(0,t.useState)(""),[y,A]=(0,t.useState)(!1),[C,Z]=(0,t.useState)(""),[I,E]=(0,t.useState)(""),{getAllConfirmListMulitselect:T,getAllConfirmListMulitselectRefetch:P}=(0,v.dk)({data:{id:n,search:C},skip:!n}),{scrollToTop:k}=(0,Q.u)();(0,t.useEffect)((()=>{k()}),[]),(0,t.useEffect)((()=>{n&&(h(!0),P())}),[n,P,C]),(0,t.useEffect)((()=>{var e,i;C?(x(null===T||void 0===T?void 0:T.confirm),h(!1)):null!==T&&void 0!==T&&null!==(e=T.confirm)&&void 0!==e&&e.length?(x(null===T||void 0===T?void 0:T.confirm),h(!1)):0===(null===T||void 0===T||null===(i=T.confirm)||void 0===i?void 0:i.length)&&h(!1)}),[null===T||void 0===T?void 0:T.confirm]);const D=e=>{null!==u&&void 0!==u&&u.includes(e)?(m((i=>null===i||void 0===i?void 0:i.filter((i=>i!==e)))),S((e=>--e))):(m((i=>[...i,e])),S((e=>++e))),A(!1)},O=(0,t.useCallback)((0,Ze.debounce)((e=>Z(e)),500),[]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Oe,{applicationDetail:l,carryParentState:i,instituteId:s,applicationDetailApplicablePending:d,pageOpenAs:c,children:(0,f.jsx)("input",{type:"text",placeholder:"Search applicants...",onChange:e=>{O(e.target.value)}})}),(0,f.jsx)(we,{carryParentState:i,accessRole:a,accessTpye:o,pageOpenAs:c}),(0,f.jsxs)("div",{className:ce.Z.admission_mulit_select,children:[(0,f.jsxs)("p",{children:[j||""," ",r("selected_")]}),(0,f.jsxs)("div",{className:ce.Z.admission_mulit_select_right,children:[y?(0,f.jsx)("p",{onClick:()=>{m([]),A(!1),S(0)},style:{cursor:"pointer"},children:r("remove_all")}):(0,f.jsx)("p",{onClick:()=>{let e=[];for(let n of null===T||void 0===T?void 0:T.confirm){var i;e.push(null===n||void 0===n||null===(i=n.student)||void 0===i?void 0:i._id)}m(e),S(null===e||void 0===e?void 0:e.length),A(!0)},style:{cursor:"pointer"},children:r("select_all")}),(0,f.jsx)("div",{className:ce.Z.selectBtnContainer,style:{width:"auto"},children:(0,f.jsx)("div",{className:ce.Z.selectBtn,onClick:()=>{null!==u&&void 0!==u&&u.length&&E("ALLOT_BATCH")},children:r("allot_class")})})]})]}),null===g||void 0===g?void 0:g.map((e=>{var i;return(0,f.jsx)(di,{applicant:e,onSelectOne:D,selectedApplicant:u},null===e||void 0===e||null===(i=e.student)||void 0===i?void 0:i._id)})),_&&(0,f.jsx)(R.Z,{}),"ALLOT_BATCH"===I&&(0,f.jsx)(ei,{onClose:()=>E(""),applicationId:null===l||void 0===l?void 0:l._id,onAllotApplicantClasses:e=>{N(e),E("ALLOT_CLASSES")}}),"ALLOT_CLASSES"===I&&(0,f.jsx)(ni,{onClose:()=>E(""),currentApplicant:u,onRefetchWhenAction:P,applicationId:null===l||void 0===l?void 0:l._id,batchId:b,openAs:"MULITSELECT"})]})},ri=e=>{var i,n,l,a,o,s,d,c,r,u,m,p,_,h,g;let{instituteId:j,carryParentState:S,accessRole:b,accessTpye:N,callApi:y,pageOpenAs:A}=e;const C=(0,x.TH)(),{oneApplicationDetail:Z,oneApplicationDetailRefetch:I}=(0,v.mf)({apid:null===(i=C.state)||void 0===i?void 0:i.applicationId,skip:!(null!==(n=C.state)&&void 0!==n&&n.applicationId)}),{scrollToTop:E}=(0,Q.u)();return(0,t.useEffect)((()=>{E()}),[]),(0,t.useEffect)((()=>{var e;null!==(e=C.state)&&void 0!==e&&e.applicationId&&I()}),[null===(l=C.state)||void 0===l?void 0:l.applicationId,I]),(0,f.jsxs)(f.Fragment,{children:["application"===(null===(a=C.search)||void 0===a?void 0:a.substring(13))&&(0,f.jsx)(qe,{applicationId:null===(o=C.state)||void 0===o?void 0:o.applicationId,carryParentState:S,applicationDetail:null===Z||void 0===Z?void 0:Z.oneApply,accessRole:b,accessTpye:N,instituteId:j,applicationDetailApplicablePending:null===Z||void 0===Z?void 0:Z.applicable_pending,pageOpenAs:A}),"select"===(null===(s=C.search)||void 0===s?void 0:s.substring(13))&&(0,f.jsx)(ze,{applicationId:null===(d=C.state)||void 0===d?void 0:d.applicationId,carryParentState:S,applicationDetail:null===Z||void 0===Z?void 0:Z.oneApply,accessRole:b,accessTpye:N,instituteId:j,applicationDetailApplicablePending:null===Z||void 0===Z?void 0:Z.applicable_pending,pageOpenAs:A}),"confirm"===(null===(c=C.search)||void 0===c?void 0:c.substring(13))&&(0,f.jsx)(ti,{applicationId:null===(r=C.state)||void 0===r?void 0:r.applicationId,carryParentState:S,applicationDetail:null===Z||void 0===Z?void 0:Z.oneApply,accessRole:b,accessTpye:N,instituteId:j,callApi:y,applicationDetailApplicablePending:null===Z||void 0===Z?void 0:Z.applicable_pending,pageOpenAs:A}),"mulitple"===(null===(u=C.search)||void 0===u?void 0:u.substring(13))&&(0,f.jsx)(ci,{applicationId:null===(m=C.state)||void 0===m?void 0:m.applicationId,carryParentState:S,applicationDetail:null===Z||void 0===Z?void 0:Z.oneApply,accessRole:b,accessTpye:N,instituteId:j,applicationDetailApplicablePending:null===Z||void 0===Z?void 0:Z.applicable_pending,pageOpenAs:A}),"allot"===(null===(p=C.search)||void 0===p?void 0:p.substring(13))&&(0,f.jsx)(ai,{applicationId:null===(_=C.state)||void 0===_?void 0:_.applicationId,carryParentState:S,applicationDetail:null===Z||void 0===Z?void 0:Z.oneApply,accessRole:b,accessTpye:N,instituteId:j,applicationDetailApplicablePending:null===Z||void 0===Z?void 0:Z.applicable_pending,pageOpenAs:A}),"cancel"===(null===(h=C.search)||void 0===h?void 0:h.substring(13))&&(0,f.jsx)(si,{applicationId:null===(g=C.state)||void 0===g?void 0:g.applicationId,carryParentState:S,applicationDetail:null===Z||void 0===Z?void 0:Z.oneApply,accessRole:b,accessTpye:N,instituteId:j,applicationDetailApplicablePending:null===Z||void 0===Z?void 0:Z.applicable_pending,pageOpenAs:A})]})},ui=e=>{var i,n,t;let{admissionId:l,instituteId:a,carryParentState:o,accessRole:s,accessApplication:d,accessTpye:c,callApi:r,pageOpenAs:u}=e;const{t:v}=(0,p.$G)(),m=(0,x.s0)(),_=(0,x.UO)(),h=(0,x.TH)();return(0,f.jsxs)("div",{className:ce.Z.admission_application_container,children:["ongoing"===(null===(i=h.search)||void 0===i?void 0:i.substring(3))&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:ce.Z.with_search,style:{justifyContent:"flex-start",gap:"1rem"},children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{m("/q/".concat(_.username,"INSTITUTE"===u?"/admission":"/member/admission"),{state:{...o}})},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,f.jsx)("h6",{children:v("ongoing_application")})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%",marginTop:"0.5rem",marginBottom:"0.5rem"}})]}),"ongoing"===(null===(n=h.search)||void 0===n?void 0:n.substring(3))&&(0,f.jsx)(Ce,{admissionId:l,carryParentState:o,accessRole:s,accessTpye:c,accessApplication:d,callApi:r,pageOpenAs:u}),"ongoing&n="===(null===h||void 0===h||null===(t=h.search)||void 0===t?void 0:t.substring(3,13))&&(0,f.jsx)(ri,{instituteId:a,admissionId:l,carryParentState:o,accessRole:s,accessTpye:c,callApi:r,pageOpenAs:u})]})};const vi=function(e){var i,n;let{completed:t,carryParentState:l,accessRole:a,accessTpye:o,callApi:s,pageOpenAs:d,setOpenApplicationMenu:c}=e;const{t:r}=(0,p.$G)(),u=e=>{e.preventDefault(),c(null===t||void 0===t?void 0:t._id)};return(0,f.jsx)(f.Fragment,{children:"INSTITUTE"===d?(0,f.jsx)(A,{carryParentState:{...l,applicationId:null===t||void 0===t?void 0:t._id},activeTab:"?a=ongoing&n=application",children:(0,f.jsxs)("div",{className:ce.Z.ongoing_card,style:{display:"flex",flexDirection:"column",alignItems:"center",marginRight:"1rem"},children:[(0,f.jsxs)("div",{className:ce.Z.ongoing_card_inner,children:[(0,f.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,f.jsxs)("div",{className:ce.Z.ongoing_card_text,children:[(0,f.jsx)("h6",{children:null===t||void 0===t?void 0:t.applicationName}),(0,f.jsx)("p",{children:null===t||void 0===t||null===(i=t.applicationDepartment)||void 0===i?void 0:i.dName})]})]}),(0,f.jsxs)("div",{className:ce.Z.ongoing_card_text,children:[(0,f.jsx)("h6",{children:null===t||void 0===t?void 0:t.allotCount}),(0,f.jsx)("p",{children:r("alloted")})]}),(0,f.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:u,className:ce.Z.menu_icon,title:"Menu"})]})}):(0,f.jsx)(be,{carryParentState:{...l,applicationId:null===t||void 0===t?void 0:t._id},activeTab:"ongoing&n=application",accessRole:a,accessTpye:o,callApi:s,children:(0,f.jsxs)("div",{className:ce.Z.ongoing_card,children:[(0,f.jsxs)("div",{className:ce.Z.ongoing_card_inner,children:[(0,f.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,f.jsxs)("div",{className:ce.Z.ongoing_card_text,children:[(0,f.jsx)("h6",{children:null===t||void 0===t?void 0:t.applicationName}),(0,f.jsx)("p",{children:null===t||void 0===t||null===(n=t.applicationDepartment)||void 0===n?void 0:n.dName})]})]}),(0,f.jsxs)("div",{className:ce.Z.ongoing_card_text,style:{display:"flex",flexDirection:"column",alignItems:"center",marginRight:"1rem"},children:[(0,f.jsx)("h6",{children:null===t||void 0===t?void 0:t.allotCount}),(0,f.jsx)("p",{children:r("alloted")})]}),(0,f.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:u,className:ce.Z.menu_icon,title:"Menu"})]})})})},mi=e=>{let{onClose:i,onRefetch:n,openApplicationMenu:l}=e;const[a,o]=(0,t.useState)(!1),[s]=(0,v.fI)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(J.Z,{onClose:i}),(0,f.jsxs)(W.Z,{customStyle:{zIndex:"1200"},children:[(0,f.jsx)("div",{className:$.Z.edit_modal_container,style:{width:"200px"},children:(0,f.jsx)("h6",{className:$.Z.edit,onClick:()=>{l&&(o((e=>!e)),s({aid:l}).then((()=>{n(),o((e=>!e)),i()})).catch({}))},children:"Mark as Ongoing"})}),a&&(0,f.jsx)(w.Z,{})]})]})},pi=e=>{let{admissionId:i,carryParentState:n,accessRole:l,accessApplication:a,accessTpye:o,callApi:s,pageOpenAs:d}=e;const{t:c}=(0,p.$G)(),u=(0,x.s0)(),m=(0,r.v9)((e=>e.admissionChange)),[_,h]=(0,t.useState)(!0),[g,j]=(0,t.useState)(1),[S,b]=(0,k.YD)(),[N,y]=(0,t.useState)([]),[A,C]=(0,t.useState)(!0),{scrollToTop:Z}=(0,Q.u)(),[I,E]=(0,t.useState)(""),[T,P]=(0,t.useState)(!1),{allCompletedApp:O,allCompletedAppRefetch:L}=(0,v.XN)({data:{aid:i||(null===m||void 0===m?void 0:m.aid),page:g,limit:10},skip:i?!i:!(null!==m&&void 0!==m&&m.aid)});(0,t.useEffect)((()=>{Z()}),[]),(0,t.useEffect)((()=>{b&&_&&j((e=>e+1))}),[b,_]),(0,t.useEffect)((()=>{(null!==m&&void 0!==m&&m.aid||i)&&(C(!0),L())}),[null===m||void 0===m?void 0:m.aid,i,g,L]),(0,t.useEffect)((()=>{var e,i;T?(y(null===O||void 0===O?void 0:O.completed),C(!1),P(!1)):null!==O&&void 0!==O&&O.completed?(y((e=>{var i,n;return null===(i=[...new Set(null===(n=[...e,...null===O||void 0===O?void 0:O.completed])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===i?void 0:i.map(JSON.parse)})),C(!1)):0===(null===O||void 0===O||null===(i=O.completed)||void 0===i?void 0:i.length)&&C(!1);10===(null===O||void 0===O||null===(e=O.completed)||void 0===e?void 0:e.length)?h(!0):h(!1)}),[null===O||void 0===O?void 0:O.completed]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:ce.Z.admission_application_container,children:[(0,f.jsxs)("div",{className:ce.Z.with_search,style:{justifyContent:"flex-start",gap:"1rem"},children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{u(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,f.jsx)("h6",{children:c("completed_application")})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%",marginTop:"0.5rem",marginBottom:"0.5rem"}}),(0,f.jsx)("div",{className:ce.Z.remainingFeesBottom,children:(0,f.jsxs)("div",{className:ce.Z.itemsContainer,children:[null===N||void 0===N?void 0:N.map(((e,i)=>(null===N||void 0===N?void 0:N.length)===i+1?(0,f.jsx)("div",{ref:S,children:(0,f.jsx)(vi,{completed:e,carryParentState:n,accessRole:l,accessTpye:o,callApi:s,accessApplication:a,pageOpenAs:d,setOpenApplicationMenu:E})},null===e||void 0===e?void 0:e._id):(0,f.jsx)(vi,{completed:e,carryParentState:n,accessRole:l,accessTpye:o,callApi:s,accessApplication:a,pageOpenAs:d,setOpenApplicationMenu:E},null===e||void 0===e?void 0:e._id))),A&&(0,f.jsx)(R.Z,{status:"white"})]})})]}),I&&(0,f.jsx)(mi,{openApplicationMenu:I,onClose:()=>E(""),onRefetch:()=>{j(1),P(!0),C(!0),L()}})]})};var _i=n(33399),hi=n(33148),gi=n(72952),xi=n(45897),fi=n(34219);const ji=e=>{var i,n;let{onClose:l,onRefetch:a,aid:o,instituteId:s}=e;const{t:d}=(0,p.$G)(),[c,r]=(0,t.useState)(!1),[u]=(0,v.Rr)(),[m,_]=(0,t.useState)(""),[h,g]=(0,t.useState)([]),[x,j]=(0,t.useState)([]),[S,b]=(0,t.useState)({alarm_mode:"APP_NOTIFICATION",content:""}),[N,y]=(0,t.useState)({depart:"",batch:"",master:[],batch_status:"",all_depart:""}),[A,C]=(0,t.useState)([]),[Z,I]=(0,t.useState)(!1),[E]=(0,v.Z1)(),{allDepartmentList:T,allDepartmentListRefetch:P}=(0,v.nJ)({aid:o,skip:!o}),{allClassMaster:k,allClassMasterRefetch:R}=(0,ne.tx)({data:{id:s,did:N.depart},skip:"All"===N.all_depart||!N.depart}),{oneDepartment:O,oneDepartmentRefetch:L}=(0,ne._C)({did:N.depart,skip:"All"===N.all_depart||!N.depart});(0,t.useEffect)((()=>{o&&P()}),[o,P]),(0,t.useEffect)((()=>{N.depart&&"All"!==N.all_depart&&R()}),[N.depart,R]),(0,t.useEffect)((()=>{N.depart&&"All"!==N.all_depart&&L()}),[N.depart,L]);const F=e=>{null!==A&&void 0!==A&&A.includes(e)?C((i=>null===i||void 0===i?void 0:i.filter((i=>i!==e)))):C((i=>[...i,e]))};return(0,f.jsxs)(M.Z,{onClose:l,children:[(0,f.jsx)("div",{className:_i.Z.add_category_modal,style:{width:"30rem",minHeight:"10rem",maxHeight:"35rem",overflowX:"hidden",overflowY:"auto",scrollBehavior:"smooth"},children:"SEND"===m?(0,f.jsxs)("section",{className:_i.Z.fee_middle_section_container,style:{marginBottom:"1.2rem"},children:[(0,f.jsx)("h6",{style:{fontSize:"20px",fontWeight:"600"},children:d("Notify_about_Outstanding_Dues")}),(0,f.jsx)(D.Z,{customStyle:{width:"100%",marginTop:"0.7rem",marginBottom:"1rem"}}),(0,f.jsxs)("section",{className:_i.Z.notify_container,onClick:()=>b((e=>({...e,alarm_mode:"APP_NOTIFICATION"}))),children:[(0,f.jsx)("img",{src:"APP_NOTIFICATION"===S.alarm_mode?"/images/department/radio-blue-icon.svg":"/images/department/radio-gray-icon.svg",alt:"icon"}),(0,f.jsxs)("div",{className:_i.Z.notify_text,children:[(0,f.jsx)("h6",{children:d("Notify_with_In_app_Notification")}),(0,f.jsx)("p",{children:d("Notify_with_In_app_Notification_note")})]})]}),(0,f.jsxs)("section",{className:_i.Z.notify_container,onClick:()=>b((e=>({...e,alarm_mode:"EMAIL_NOTIFICATION"}))),children:[(0,f.jsx)("img",{src:"EMAIL_NOTIFICATION"===S.alarm_mode?"/images/department/radio-blue-icon.svg":"/images/department/radio-gray-icon.svg",alt:"icon"}),(0,f.jsxs)("div",{className:_i.Z.notify_text,children:[(0,f.jsx)("h6",{children:d("Notify_On_Email_and_SMS")}),(0,f.jsx)("p",{children:d("Notify_On_Email_and_SMS_note")})]})]}),"EMAIL_NOTIFICATION"===S.alarm_mode&&(0,f.jsx)(gi.Z,{labelText:d("email_content"),placeholder:d("email_content_placeholder"),name:"content",value:S.content,type:"text",onChange:e=>b((i=>({...i,content:e.target.value})))}),(0,f.jsx)("button",{onClick:()=>{o&&S.alarm_mode&&(null===A||void 0===A?void 0:A.length)>0&&(r((e=>!e)),u({aid:o,alarm_mode:S.alarm_mode,content:S.content,reminderData:{...N,all_arr:A}}).then((()=>{a(),r((e=>!e)),l()})).catch({}))},className:_i.Z.fee_middle_confirm_button,style:{marginTop:"4rem"},children:d("confirm")})]}):"LIST"===m?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:hi.Z.select_header,children:[(0,f.jsxs)("h6",{children:[(null===A||void 0===A?void 0:A.length)>0?"".concat(null===A||void 0===A?void 0:A.length," "):"",d("select_student")]}),(0,f.jsxs)("div",{children:[Z?(0,f.jsx)("button",{className:hi.Z.select_all_btn,title:"Remove All Student",onClick:()=>{C([]),I(!1)},style:{marginRight:"0.7rem"},children:d("remove_all")}):(0,f.jsx)("button",{className:hi.Z.select_all_btn,title:"Select All Student",onClick:()=>{let e=[];for(let i of h)e.push(null===i||void 0===i?void 0:i._id);C(e),I(!0)},style:{marginRight:"0.7rem"},children:d("select_all")}),(0,f.jsx)("button",{className:hi.Z.promote_all_btn,onClick:()=>(null===A||void 0===A?void 0:A.length)>0?_("SEND"):null,children:d("next")})]})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),(0,f.jsx)("section",{className:_i.Z.search_container,children:(0,f.jsxs)("div",{className:_i.Z.search_container_text,children:[(0,f.jsx)("img",{className:_i.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,f.jsx)("input",{type:"text",placeholder:d("search-label"),onChange:e=>{if(e.target.value){let i=Si(x,e.target.value);g((()=>i))}else g((()=>x))}})]})}),(null===h||void 0===h?void 0:h.length)<1&&(0,f.jsx)(fi.Z,{customStyleContainer:{marginTop:"9rem"},title:"No student found."}),null===h||void 0===h?void 0:h.map(((e,i)=>(0,f.jsx)(xi.Z,{stu:e,selectedId:A,onSelectStudent:F},i)))]}):(0,f.jsxs)("section",{className:_i.Z.fee_middle_section_container,style:{marginBottom:"1.2rem"},children:[(0,f.jsx)("h6",{style:{fontSize:"20px",fontWeight:"600"},children:d("apply_filter")}),(0,f.jsx)(D.Z,{customStyle:{width:"100%",marginTop:"0.7rem",marginBottom:"1rem"}}),(0,f.jsx)(ie.Z,{selectLabel:d("select_department"),selectedValue:d("all_select_particular_department"),options:null!==T&&void 0!==T&&T.allDB?["All",...null===T||void 0===T?void 0:T.allDB]:["All"],onClick:e=>{y("All"===e?e=>({...e,depart:"",all_depart:"ALL"}):i=>({...i,depart:e,all_depart:"PARTICULAR"}))}}),(0,f.jsx)(ie.Z,{selectLabel:d("select_batch_optional"),selectedValue:d("select_pref"),options:"ALL"===N.all_depart?["All"]:null!==O&&void 0!==O&&null!==(i=O.department)&&void 0!==i&&i.batches?[...null===O||void 0===O||null===(n=O.department)||void 0===n?void 0:n.batches]:[],onClick:e=>{y("All"===e?e=>({...e,batch:"",batch_status:"ALL_BATCH"}):i=>({...i,batch:e,batch_status:"PARTICULAR_BATCH"}))}}),"ALL"===N.all_depart?"":(0,f.jsx)(ie.Z,{selectLabel:d("select_standard_year"),selectedValue:d("select_standard_year_placeholder"),options:null!==k&&void 0!==k&&k.classMaster?[...null===k||void 0===k?void 0:k.classMaster]:[],onClick:e=>{y((i=>({...i,master:[e]})))}}),(0,f.jsx)("button",{onClick:()=>{o&&(r((e=>!e)),E({aid:o,pendingData:N}).then((e=>{var i,n;g(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.all_student),j(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.all_student),r((e=>!e)),_("LIST")})).catch({}))},className:_i.Z.fee_middle_confirm_button,style:{marginTop:"4rem"},children:d("next")})]})}),c&&(0,f.jsx)(w.Z,{})]})},Si=function(){let e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((i=>{var n,t,l,a,o,s;let d=null!==(n=null!==(t=null!==(l=null===i||void 0===i?void 0:i.studentFirstName)&&void 0!==l?l:" "+(null===i||void 0===i?void 0:i.studentMiddleName))&&void 0!==t?t:" "+(null===i||void 0===i?void 0:i.studentLastName))&&void 0!==n?n:"";return null!==d&&void 0!==d&&null!==(a=d.toLowerCase())&&void 0!==a&&a.includes(null===e||void 0===e?void 0:e.toLowerCase())||null!==i&&void 0!==i&&null!==(o=i.studentGRNO)&&void 0!==o&&null!==(s=o.toLowerCase())&&void 0!==s&&s.includes(null===e||void 0===e?void 0:e.toLowerCase())?i:null}))};var bi=n(49807),Ni=n(84959);const yi=e=>{let{aid:i,instituteId:n,isEnable:l,onRefetch:a,setApplyFilter:o,applyFilter:s,isApplicable:d,pageOpenAs:c,admissionId:r,children:u}=e;const{t:m}=(0,p.$G)(),[_,h]=(0,t.useState)(!1),[g,j]=(0,t.useState)(!1),S=(0,x.UO)(),N=(0,x.s0)(),y=(0,x.TH)(),[A,C]=(0,t.useState)(!1),[Z]=(0,Ni.FL)(),[I]=(0,v._g)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("section",{className:ce.Z.moderator_container_title,children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{N(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,f.jsxs)("div",{className:ce.Z.with_search,children:[(0,f.jsx)("h6",{children:m("admission_remaining_fees")}),(0,f.jsxs)("div",{className:ce.Z.search_container_filter,children:[(0,f.jsx)("section",{className:ce.Z.search_container,children:(0,f.jsxs)("div",{className:ce.Z.search_container_input,children:[(0,f.jsx)("img",{className:ce.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),u]})}),(0,f.jsxs)("div",{className:ce.Z.os_filter_container,children:[d?"":(0,f.jsx)("img",{src:"/images/filter-blue-icon.svg",alt:"filter icon",onClick:()=>j(!0)}),"INSTITUTE"===c?(0,f.jsx)("label",{htmlFor:"uploadExcel",children:(0,f.jsx)("img",{src:"/images/member_tab/subject/subject-excel-icon.svg",alt:"excel icon",style:{cursor:"pointer",height:"1.5rem"}})}):null,(0,f.jsx)("button",{className:ce.Z.os_reminder,onClick:()=>h(!0),disabled:!l,style:{opacity:l?"1":"0.5"},children:m("outstanding_reminder")}),(0,f.jsx)(b.rU,{to:"/q/".concat(S.username,"INSTITUTE"===c?"/admission?a=reminder-message":"/member/admission?a=reminder-message"),state:{...y.state,instituteId:n},children:(0,f.jsx)("img",{src:"/images/member_tab/finance/finance-message-log-icon.svg",alt:"receipt icon",title:"View message history",style:{height:"2rem",cursor:"pointer"}})})]})]})]})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),_&&(0,f.jsx)(ji,{onClose:()=>h(!1),aid:i,onRefetch:a}),g&&(0,f.jsx)(bi.Z,{onClose:()=>j(!1),instituteId:n,setApplyFilter:o,applyFilter:s}),(0,f.jsx)("input",{type:"file",id:"uploadExcel",accept:".xlsx",onChange:e=>{var i;if(null!==(i=e.target.files)&&void 0!==i&&i.length&&r){C(!0);const i=new FormData;i.append("file",e.target.files[0]),Z({fileUpload:i}).then((e=>{var i,n;null!==(i=e.data)&&void 0!==i&&i.imageKey?I({aid:r,excelFile:{excel_file:null===(n=e.data)||void 0===n?void 0:n.imageKey}}).then((()=>{C(!1)})).catch({}):C(!1)})).catch({})}},style:{display:"none"}}),A&&(0,f.jsx)(w.Z,{})]})},Ai=e=>{var i;let{carryParentState:n,pageOpenAs:t}=e;const{t:l}=(0,p.$G)(),a=(0,x.TH)(),o=[{name:l("os_fees"),id:0,url:"member/admission?a=pending"},{name:l("applicable_os"),id:1,url:"member/admission?a=pending&applicable"}],s=[{name:l("os_fees"),id:0,url:"admission?a=pending"},{name:l("applicable_os"),id:1,url:"admission?a=pending&applicable"}];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Le.Z,{tabList:"INSTITUTE"===t?s:o,activeIndexTab:"pending"===(null===(i=a.search)||void 0===i?void 0:i.substring(3))?0:1,showAs:!0,customStyleTab:{width:"100%"},customStyleLink:{width:"50%"},carryParentState:n}),(0,f.jsx)(D.Z,{customStyle:{width:"100%",marginBottom:"0.5rem"}})]})};var Ci=n(85161);const Zi=e=>{var i,n,t;let{remainData:l,is_applicable:a}=e;const{t:o}=(0,p.$G)(),s=(0,x.UO)(),d=(0,x.s0)();return(0,f.jsxs)("div",{className:Ci.Z.item,onClick:()=>{d("/q/".concat(s.username,"/student/profile/admission"),{state:{sid:null===l||void 0===l?void 0:l._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,f.jsxs)("div",{className:Ci.Z.subItem,children:[(0,f.jsx)("img",{alt:"Student Avatar",src:null!==l&&void 0!==l&&l.studentProfilePhoto?"".concat(m.yI,"/").concat(null===l||void 0===l?void 0:l.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,f.jsxs)("div",{className:Ci.Z.text,children:[(0,f.jsx)("h6",{children:"".concat(l.studentFirstName," ").concat(l.studentMiddleName?l.studentMiddleName:""," ").concat(l.studentLastName)}),(0,f.jsxs)("p",{children:[o("gr_number"),null!==(i=null===l||void 0===l?void 0:l.studentGRNO)&&void 0!==i?i:""," ",", ",null!==(n=null===l||void 0===l||null===(t=l.department)||void 0===t?void 0:t.dName)&&void 0!==n?n:""]})]})]}),(0,f.jsxs)("div",{className:Ci.Z.text,children:[a?(0,f.jsxs)("h6",{children:["Rs. ",null===l||void 0===l?void 0:l.applicable_fees_pending]}):(0,f.jsxs)("h6",{children:["Rs. ",null===l||void 0===l?void 0:l.admissionRemainFeeCount]}),(0,f.jsx)("p",{children:o("pending_fees")})]})]})},Ii=e=>{let{isEnable:i,instituteId:n,onRefetch:l,carryParentState:a,pageOpenAs:o,admissionId:s}=e;const{t:d}=(0,p.$G)(),c=(0,r.v9)((e=>e.admissionChange)),[u,m]=(0,t.useState)(!0),[_,h]=(0,t.useState)(""),[g,x]=(0,t.useState)(1),[j,S]=(0,k.YD)(),[b,N]=(0,t.useState)([]),[y,A]=(0,t.useState)(!0),{scrollToTop:C}=(0,Q.u)(),{allRemainingList:Z,allRemainingListRefetch:I}=(0,v.ck)({data:{aid:null!==c&&void 0!==c&&c.aid?null===c||void 0===c?void 0:c.aid:s,page:g,limit:10,search:_,flow:"Applicable_Fees_Query"},skip:null!==c&&void 0!==c&&c.aid?!(null!==c&&void 0!==c&&c.aid):!s});(0,t.useEffect)((()=>{S&&u&&x((e=>e+1))}),[S,u]),(0,t.useEffect)((()=>{(null!==c&&void 0!==c&&c.aid||s)&&(A(!0),I())}),[g,null===c||void 0===c?void 0:c.aid,s,_,I]),(0,t.useEffect)((()=>{var e,i;_?(N(null===Z||void 0===Z?void 0:Z.remain),A(!1)):null!==Z&&void 0!==Z&&Z.remain?(N(1===g?null===Z||void 0===Z?void 0:Z.remain:e=>[...new Set([...e,...null===Z||void 0===Z?void 0:Z.remain].map(JSON.stringify))].map(JSON.parse)),A(!1)):0===(null===Z||void 0===Z||null===(i=Z.remain)||void 0===i?void 0:i.length)&&A(!1);10===(null===Z||void 0===Z||null===(e=Z.remain)||void 0===e?void 0:e.length)?m(!0):m(!1)}),[null===Z||void 0===Z?void 0:Z.remain]);const E=(0,t.useCallback)((0,Ze.debounce)((e=>h(e)),500),[]);return(0,t.useEffect)((()=>{C()}),[C]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(yi,{aid:null!==c&&void 0!==c&&c.aid?null===c||void 0===c?void 0:c.aid:s,isEnable:i,onRefetch:l,instituteId:n,isApplicable:!0,pageOpenAs:o,admissionId:null!==c&&void 0!==c&&c.aid?null===c||void 0===c?void 0:c.aid:s,children:(0,f.jsx)("input",{type:"text",placeholder:d("search-label"),onChange:e=>{E(e.target.value),e.target.value||(x(1),I(),A(!0))}})}),(0,f.jsx)(Ai,{carryParentState:a,pageOpenAs:o}),null===b||void 0===b?void 0:b.map(((e,i)=>(null===b||void 0===b?void 0:b.length)===i+1?(0,f.jsx)("div",{ref:j,children:(0,f.jsx)(Zi,{remainData:e,is_applicable:!0})},i):(0,f.jsx)(Zi,{remainData:e,is_applicable:!0},i))),y&&(0,f.jsx)(R.Z,{status:"white"})]})},Ei=e=>{var i;let{isEnable:n,instituteId:l,onRefetch:a,carryParentState:o,pageOpenAs:s,admissionId:d}=e;const{t:c}=(0,p.$G)(),u=(0,r.v9)((e=>e.admissionChange)),[m,_]=(0,t.useState)(!0),[h,g]=(0,t.useState)(""),[x,j]=(0,t.useState)(1),[S,b]=(0,k.YD)(),[N,y]=(0,t.useState)([]),[A,C]=(0,t.useState)(!0),[Z,I]=(0,t.useState)({depart_arr:[],batch_arr:[],master_arr:[],gender:"",cast_category:"",filter_by:""}),[E,T]=(0,t.useState)(!1),{scrollToTop:P}=(0,Q.u)(),[D]=(0,v.aG)(),{getPendingCustomFilterByAdmission:O,getPendingCustomFilterByAdmissionRefetch:L}=(0,v.lR)({data:{aid:null!==u&&void 0!==u&&u.aid?null===u||void 0===u?void 0:u.aid:d,flow:"Admission_Filter"},skip:null!==u&&void 0!==u&&u.aid?!(null!==u&&void 0!==u&&u.aid):!d});(0,t.useEffect)((()=>{(null!==u&&void 0!==u&&u.aid||d)&&L()}),[null===u||void 0===u?void 0:u.aid,d,L]);const w=(0,t.useCallback)((()=>{E&&D({aid:null!==u&&void 0!==u&&u.aid?null===u||void 0===u?void 0:u.aid:d,page:x,limit:10,search:h,flow:"All_Pending_Fees_Query",filter_by:Z.filter_by,filterData:{...Z}}).then((e=>{var i;if(null!==(i=e.data)&&void 0!==i&&i.remain){var n,t,l,a,o,s;if(h)y(null===(l=e.data)||void 0===l?void 0:l.remain),C(!1);else if(null!==(a=e.data)&&void 0!==a&&a.remain){var d;if(1===x)y(null===(d=e.data)||void 0===d?void 0:d.remain);else y((i=>{var n;return[...new Set([...i,...null===(n=e.data)||void 0===n?void 0:n.remain].map(JSON.stringify))].map(JSON.parse)}));C(!1)}else 0===(null===(o=e.data)||void 0===o||null===(s=o.remain)||void 0===s?void 0:s.length)&&C(!1);10===(null===(n=e.data)||void 0===n||null===(t=n.remain)||void 0===t?void 0:t.length)?_(!0):_(!1)}})).catch({})}),[h,x,null===u||void 0===u?void 0:u.aid,d,Z,E]);(0,t.useEffect)((()=>{b&&m&&j((e=>e+1))}),[b,m]),(0,t.useEffect)((()=>{(null!==u&&void 0!==u&&u.aid||d)&&(C(!0),w())}),[x,null===u||void 0===u?void 0:u.aid,d,h,w]),(0,t.useEffect)((()=>{j((e=>1)),C(!0),w()}),[Z,w]),(0,t.useEffect)((()=>{var e;if(null!==O&&void 0!==O&&null!==(e=O.ads_admin)&&void 0!==e&&e.pending_fee_custom_filter){var i;let e=null===O||void 0===O||null===(i=O.ads_admin)||void 0===i?void 0:i.pending_fee_custom_filter;I({depart_arr:null===e||void 0===e?void 0:e.department,batch_arr:null===e||void 0===e?void 0:e.batch,master_arr:null===e||void 0===e?void 0:e.master,gender:null===e||void 0===e?void 0:e.gender,cast_category:null===e||void 0===e?void 0:e.cast_category,filter_by:""}),T(!0)}}),[null===O||void 0===O||null===(i=O.ads_admin)||void 0===i?void 0:i.pending_fee_custom_filter]);const M=(0,t.useCallback)((0,Ze.debounce)((e=>g(e)),500),[]);return(0,t.useEffect)((()=>{P()}),[P]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(yi,{aid:null!==u&&void 0!==u&&u.aid?null===u||void 0===u?void 0:u.aid:d,isEnable:n,onRefetch:a,instituteId:l,applyFilter:Z,setApplyFilter:I,pageOpenAs:s,admissionId:null!==u&&void 0!==u&&u.aid?null===u||void 0===u?void 0:u.aid:d,children:(0,f.jsx)("input",{type:"text",placeholder:c("search-label"),onChange:e=>{M(e.target.value),e.target.value||(j(1),w(),C(!0))}})}),(0,f.jsx)(Ai,{carryParentState:o,pageOpenAs:s}),null===N||void 0===N?void 0:N.map(((e,i)=>(null===N||void 0===N?void 0:N.length)===i+1?(0,f.jsx)("div",{ref:S,children:(0,f.jsx)(Zi,{remainData:e})},i):(0,f.jsx)(Zi,{remainData:e},i))),A&&(0,f.jsx)(R.Z,{status:"white"})]})};const Ti=function(e){var i;let{isEnable:n,instituteId:t,onRefetch:l,carryParentState:a,pageOpenAs:o,admissionId:s}=e;const d=(0,x.TH)();return(0,f.jsx)("div",{className:Ci.Z.remainingFees,children:"pending"===(null===(i=d.search)||void 0===i?void 0:i.substring(3))?(0,f.jsx)(Ei,{isEnable:n,carryParentState:a,onRefetch:l,instituteId:t,pageOpenAs:o,admissionId:s}):(0,f.jsx)(Ii,{isEnable:n,carryParentState:a,onRefetch:l,instituteId:t,pageOpenAs:o,admissionId:s})})};var Pi=n(90865),ki=n(43317);const Ri=e=>{let{admissionId:i}=e;const{t:n}=(0,p.$G)(),l=(0,x.s0)(),[a,o]=(0,t.useState)({admission_enquiry:!0,admission_mods:!0,all_students:!0,complete_admission:!0,data_export:!0,excess_fee:!0,offline_payment_verification:!0,ongoing_admission:!0,pending_fee:!0,required_documents:!0}),[s,d]=(0,t.useState)(!1),[c,r]=(0,t.useState)(""),[u]=(0,ki.rz)(),{admissionDashboardMaster:v}=(0,ki.GW)({data:{aid:i,mid:""},skip:!i});(0,t.useEffect)((()=>{var e,i,n,t,l,a,s,d,c,r;null!==v&&void 0!==v&&v.tab_manage&&o({admission_enquiry:null===v||void 0===v||null===(e=v.tab_manage)||void 0===e?void 0:e.admission_enquiry,admission_mods:null===v||void 0===v||null===(i=v.tab_manage)||void 0===i?void 0:i.admission_mods,all_students:null===v||void 0===v||null===(n=v.tab_manage)||void 0===n?void 0:n.all_students,complete_admission:null===v||void 0===v||null===(t=v.tab_manage)||void 0===t?void 0:t.complete_admission,data_export:null===v||void 0===v||null===(l=v.tab_manage)||void 0===l?void 0:l.data_export,excess_fee:null===v||void 0===v||null===(a=v.tab_manage)||void 0===a?void 0:a.excess_fee,offline_payment_verification:null===v||void 0===v||null===(s=v.tab_manage)||void 0===s?void 0:s.offline_payment_verification,ongoing_admission:null===v||void 0===v||null===(d=v.tab_manage)||void 0===d?void 0:d.ongoing_admission,pending_fee:null===v||void 0===v||null===(c=v.tab_manage)||void 0===c?void 0:c.pending_fee,required_documents:null===v||void 0===v||null===(r=v.tab_manage)||void 0===r?void 0:r.required_documents})}),[null===v||void 0===v?void 0:v.tab_manage]);const m=(e,n)=>{const t={...a};for(let i in t)i===e&&(t[i]=n);u({aid:i,tabManage:{tab_manage:t}}).then((()=>{r("update tab access"),d(!0)})).catch({}),o((i=>({...i,[e]:n})))};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:K.Z.refund_container,style:{width:"100%",minHeight:"50vh",backgroundColor:"#ffffff",border:"0.037vw solid #cacaca",borderRadius:"0.439vw",marginTop:"0.3rem",padding:"1rem"},children:[(0,f.jsxs)("section",{className:K.Z.refund_container_title,children:[(0,f.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:()=>{l(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,f.jsx)("div",{className:K.Z.refund_container_title,children:(0,f.jsx)("h6",{children:n("tab_controller")})})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,f.jsxs)("div",{className:K.Z.tab_manage,children:[(0,f.jsx)(Pi.Z,{labelHeading:n("all_students"),checkedToggle:a.all_students,onToggleHandler:e=>m("all_students",e.target.checked),customContainer:{flex:"1 1 33%"}}),(0,f.jsx)(Pi.Z,{labelHeading:n("admission_enquiry"),checkedToggle:a.admission_enquiry,onToggleHandler:e=>m("admission_enquiry",e.target.checked),customContainer:{flex:"1 1 33%"}}),(0,f.jsx)(Pi.Z,{labelHeading:n("admission_mods"),checkedToggle:a.admission_mods,onToggleHandler:e=>m("admission_mods",e.target.checked),customContainer:{flex:"1 1 33%"}})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,f.jsxs)("div",{className:K.Z.tab_manage,children:[(0,f.jsx)(Pi.Z,{labelHeading:n("complete_admission"),checkedToggle:a.complete_admission,onToggleHandler:e=>m("complete_admission",e.target.checked),customContainer:{flex:"1 1 33%"}}),(0,f.jsx)(Pi.Z,{labelHeading:n("data_export"),checkedToggle:a.data_export,onToggleHandler:e=>m("data_export",e.target.checked),customContainer:{flex:"1 1 33%"}}),(0,f.jsx)(Pi.Z,{labelHeading:n("excess_fee"),checkedToggle:a.excess_fee,onToggleHandler:e=>m("excess_fee",e.target.checked),customContainer:{flex:"1 1 33%"}})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,f.jsxs)("div",{className:K.Z.tab_manage,children:[(0,f.jsx)(Pi.Z,{labelHeading:n("ongoing_admission"),checkedToggle:a.ongoing_admission,onToggleHandler:e=>m("ongoing_admission",e.target.checked),customContainer:{flex:"1 1 33%"}}),(0,f.jsx)(Pi.Z,{labelHeading:n("pending_fee"),checkedToggle:a.pending_fee,onToggleHandler:e=>m("pending_fee",e.target.checked),customContainer:{flex:"1 1 33%"}}),(0,f.jsx)(Pi.Z,{labelHeading:n("required_documents"),checkedToggle:a.required_documents,onToggleHandler:e=>m("required_documents",e.target.checked),customContainer:{flex:"1 1 33%"}})]}),(0,f.jsx)(D.Z,{customStyle:{width:"100%"}}),(0,f.jsx)("div",{className:K.Z.tab_manage,children:(0,f.jsx)(Pi.Z,{labelHeading:n("offline_payment_verification"),checkedToggle:a.offline_payment_verification,onToggleHandler:e=>m("offline_payment_verification",e.target.checked),customContainer:{flex:"1 1 33%"}})}),(0,f.jsx)(D.Z,{customStyle:{width:"100%"}})]}),(0,f.jsx)(Te.Ch,{run:s,setRun:d,msg:c,postiton:"bottom",type:"success"})]})};const Di=function(){var e,i,n,l,a,m,p,_,h,g,j,y,A,C,Z,I,E;const T=(0,x.UO)(),[k]=(0,b.lr)(),R=(0,x.TH)(),D=(0,r.v9)((e=>e.idChange.id)),{oneInstituteDashboard:O,oneInstituteDashboardRefetch:L}=(0,N.gq)({id:D,skip:!D}),{getAdmissionDetail:w,getAdmissionDetailRefetch:M}=(0,v.vV)({data:{aid:null===O||void 0===O||null===(e=O.institute)||void 0===e?void 0:e.admissionDepart[0],mod_id:""},skip:!(null!==O&&void 0!==O&&null!==(i=O.institute)&&void 0!==i&&i.admissionDepart[0])});return(0,t.useEffect)((()=>{D&&L()}),[D,L]),(0,t.useEffect)((()=>{var e;null!==O&&void 0!==O&&null!==(e=O.institute)&&void 0!==e&&e.admissionDepart[0]&&M()}),[null===O||void 0===O||null===(n=O.institute)||void 0===n?void 0:n.admissionDepart[0],M]),(0,f.jsxs)("div",{className:o,children:[(0,f.jsx)(S,{username:T.username,admissionId:null===O||void 0===O||null===(l=O.institute)||void 0===l?void 0:l.admissionDepart[0]}),(0,f.jsxs)("div",{className:null!==k&&void 0!==k&&k.get("a")&&"fund"!==(null===k||void 0===k?void 0:k.get("a"))&&"export"!==(null===k||void 0===k?void 0:k.get("a"))&&"moderator"!==(null===k||void 0===k?void 0:k.get("a"))?d:s,children:[(!(null!==k&&void 0!==k&&k.get("a"))||"fund"===(null===k||void 0===k?void 0:k.get("a")))&&(0,f.jsx)(P,{carryParentState:R.state}),(0,f.jsxs)(u.Z,{children:["pending"===(null===k||void 0===k?void 0:k.get("a"))&&(0,f.jsx)(Ti,{carryParentState:R.state,admissionId:null===O||void 0===O||null===(a=O.institute)||void 0===a?void 0:a.admissionDepart[0],isEnable:"Enable"===(null===w||void 0===w||null===(m=w.admission)||void 0===m?void 0:m.alarm_enable_status),onRefetch:M,instituteId:null===w||void 0===w||null===(p=w.admission)||void 0===p||null===(_=p.institute)||void 0===_?void 0:_._id,pageOpenAs:"INSTITUTE"}),"ongoing"===(null===k||void 0===k?void 0:k.get("a"))&&(0,f.jsx)(ui,{admissionId:null===O||void 0===O||null===(h=O.institute)||void 0===h?void 0:h.admissionDepart[0],instituteId:null===O||void 0===O||null===(g=O.institute)||void 0===g?void 0:g._id,carryParentState:R.state,pageOpenAs:"INSTITUTE"}),"completed"===(null===k||void 0===k?void 0:k.get("a"))&&(0,f.jsx)(pi,{admissionId:null===O||void 0===O||null===(j=O.institute)||void 0===j?void 0:j.admissionDepart[0],instituteId:null===O||void 0===O||null===(y=O.institute)||void 0===y?void 0:y._id,carryParentState:R.state,pageOpenAs:"INSTITUTE"}),"export"===(null===k||void 0===k?void 0:k.get("a"))&&(0,f.jsx)("div",{className:c,children:(0,f.jsx)(de,{admissionId:null===O||void 0===O||null===(A=O.institute)||void 0===A?void 0:A.admissionDepart[0],instituteId:null===O||void 0===O||null===(C=O.institute)||void 0===C?void 0:C._id,funds:O})}),"moderator"===(null===k||void 0===k?void 0:k.get("a"))&&(0,f.jsx)("div",{className:c,children:(0,f.jsx)(X,{admissionId:null===O||void 0===O||null===(Z=O.institute)||void 0===Z?void 0:Z.admissionDepart[0],instituteId:null===O||void 0===O||null===(I=O.institute)||void 0===I?void 0:I._id})}),"tab"===(null===k||void 0===k?void 0:k.get("a"))&&(0,f.jsx)("div",{className:c,children:(0,f.jsx)(Ri,{admissionId:null===O||void 0===O||null===(E=O.institute)||void 0===E?void 0:E.admissionDepart[0]})})]})]})]})};var Oi=n(27330);const Li=function(){var e,i;const n=(0,x.TH)();return(0,f.jsxs)("div",{className:l.Z.insChat,children:[(0,f.jsx)("div",{className:l.Z.navbarr,children:(0,f.jsx)(a.default,{status:"home"})}),"site"===(null===(e=n.search)||void 0===e?void 0:e.substring(3))?(0,f.jsx)(Oi.Z,{aid:null===(i=n.state)||void 0===i?void 0:i.aid,viewAs:"INSTITUTE"}):(0,f.jsx)("div",{className:l.Z.admission_ins_container,children:(0,f.jsx)(Di,{})})]})}},46876:(e,i,n)=>{n.r(i),n.d(i,{default:()=>p});var t=n(72791),l=n(23441),a=n(95048),o=n(12923),s=n(763),d=n(69721),c=n(52124),r=n(5574),u=n(39230),v=n(80184);const m=window.innerHeight,p=e=>{let{onClose:i,title:n,headSelect:p,assignHead:_,disabledId:h,instituteId:g,viewAs:x,isMultiSelect:f,selectList:j,onMultiSelect:S,onDone:b}=e;const{t:N}=(0,u.$G)(),[y,A]=(0,t.useState)(1),[C,Z]=(0,t.useState)(!0),[I,E]=(0,l.YD)(),[T,P]=(0,t.useState)(""),[k,R]=t.useState([]),D=(0,a.v9)((e=>e.idChange)),{assignSearchStaff:O,assignSearchStaffRefetch:L}=(0,o.vI)({skip:"ADMISSION_ADMIN"===x?!g:!(null!==D&&void 0!==D&&D.id),search:{search:T,page:y,id:"ADMISSION_ADMIN"===x?g:null===D||void 0===D?void 0:D.id,limit:10}});t.useEffect((()=>{null!==D&&void 0!==D&&D.id&&L()}),[null===D||void 0===D?void 0:D.id,L,y]),(0,t.useEffect)((()=>{E&&C&&A((e=>e+1))}),[E,C]),t.useEffect((()=>{null!==O&&void 0!==O&&O.staff&&R(T?null===O||void 0===O?void 0:O.staff:e=>(e=>{for(let t=0;t<(null===e||void 0===e?void 0:e.length);t++)for(let l=t+1;l<(null===e||void 0===e?void 0:e.length);l++){var i,n;(null===(i=e[t])||void 0===i?void 0:i._id)===(null===(n=e[l])||void 0===n?void 0:n._id)&&(null===e||void 0===e||e.splice(l,1))}return e})([...e,...null===O||void 0===O?void 0:O.staff])),10===(null===O||void 0===O?void 0:O.staff.length)?Z(!0):Z(!1)}),[null===O||void 0===O?void 0:O.staff]),(0,t.useEffect)((()=>{T&&w()}),[T]);const w=()=>{L()},M=(0,t.useCallback)((0,s.debounce)((e=>P(e)),500),[]),F=e=>{h===(null===e||void 0===e?void 0:e._id)||(f?S(e):(p(e),"ADMISSION_ADMIN"===x||i()))};return(0,v.jsx)(r.Z,{open:_,onClose:i,children:(0,v.jsxs)("div",{style:{backgroundColor:"#FAFAFA",width:"35rem",height:"".concat(m-20,"px"),overflowX:"hidden"},children:[(0,v.jsxs)("div",{className:c.Z.assign_title,style:{width:"100%"},children:[(0,v.jsx)("h5",{children:n}),f?(0,v.jsxs)("div",{className:c.Z.is_mulitselect_container,children:[(0,v.jsx)("h6",{style:{cursor:"pointer"},onClick:b,children:N("select")}),(0,v.jsx)("img",{src:"/images/close-post-icon.svg",onClick:i,alt:"staff assign pop close icon"})]}):(0,v.jsx)("img",{src:"/images/close-post-icon.svg",onClick:i,alt:"staff assign pop close icon"})]}),(0,v.jsxs)("div",{className:c.Z.assign_search_container,children:[(0,v.jsx)("input",{type:"text",placeholder:N("search"),className:c.Z.assign_search_input,onChange:e=>{return i=e.target.value,void M(i);var i}}),(0,v.jsx)("img",{src:"/images/search-dash-icon.svg",alt:"search icon"})]}),(0,v.jsx)("div",{className:c.Z.assign_show_list,children:null===k||void 0===k?void 0:k.map(((e,i)=>(null===k||void 0===k?void 0:k.length)===i+1?(0,v.jsxs)("div",{ref:I,children:[(0,v.jsxs)("div",{className:c.Z.assign_show_list_each,style:h===e._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:()=>F(e),children:[f?null!==j&&void 0!==j&&j.includes(null===e||void 0===e?void 0:e._id)?(0,v.jsx)("img",{src:"/images/checkbox-icon.svg",alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,v.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/box-icon.svg",alt:"icon"}):"",(0,v.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(d.yI,"/").concat(e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,v.jsxs)("div",{className:c.Z.assign_each_paragraph,children:[(0,v.jsx)("h6",{children:"".concat(e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(e.staffLastName)}),(0,v.jsxs)("p",{children:[" ",N("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]})]}),(0,v.jsx)("hr",{})]},e._id):(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:c.Z.assign_show_list_each,style:h===e._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:()=>F(e),children:[f?null!==j&&void 0!==j&&j.includes(null===e||void 0===e?void 0:e._id)?(0,v.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/checkbox-icon.svg",alt:"icon"}):(0,v.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/box-icon.svg",alt:"icon"}):"",(0,v.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(d.yI,"/").concat(e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,v.jsxs)("div",{className:c.Z.assign_each_paragraph,children:[(0,v.jsx)("h6",{children:"".concat(e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(e.staffLastName)}),(0,v.jsxs)("p",{children:[" ",N("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]})]}),(0,v.jsx)("hr",{})]},e._id)))})]})})}},70966:(e,i,n)=>{n.d(i,{Z:()=>_});var t=n(97893),l=n(54155),a=n(4899),o=n(77386),s=n(64554),d=n(4567),c=n(59256),r=n(5849),u=n(72791),v=n(97005),m=n(17107),p=(n(91711),n(80184));const _=e=>{let{setPhotoURL:i,photoURL:n,setFile:_,setOpenCrop:g,setUpload:x,setProfilePhoto:f,first:j,second:S}=e;const[b,N]=(0,u.useState)({x:0,y:0}),[y,A]=(0,u.useState)(1),[C,Z]=(0,u.useState)(0),[I,E]=(0,u.useState)(null);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(a.Z,{dividers:!0,sx:{background:"#333",position:"relative",height:400,minWidth:580},children:(0,p.jsx)(v.Z,{image:n,crop:b,zoom:y,rotation:C,aspect:j/S,onZoomChange:A,onRotationChange:Z,onCropChange:N,onCropComplete:(e,i)=>{E(i)}})}),(0,p.jsxs)(o.Z,{sx:{flexDirection:"column",mx:3,my:2,width:531},children:[(0,p.jsxs)(s.Z,{sx:{width:"100%",mb:1},children:[(0,p.jsxs)(s.Z,{children:[(0,p.jsxs)(d.Z,{children:["Zoom: ",h(y)]}),(0,p.jsx)(c.ZP,{valueLabelDisplay:"auto",valueLabelFormat:h,min:1,max:3,step:.1,value:y,onChange:(e,i)=>A(i)})]}),(0,p.jsxs)(s.Z,{children:[(0,p.jsxs)(d.Z,{children:["Rotation: ",C+"\xb0"]}),(0,p.jsx)(c.ZP,{valueLabelDisplay:"auto",min:0,max:360,value:C,onChange:(e,i)=>Z(i)})]})]}),(0,p.jsxs)(s.Z,{sx:{display:"flex",gap:34,flexWrap:"wrap"},children:[(0,p.jsx)(r.Z,{variant:"outlined",startIcon:(0,p.jsx)(t.Z,{}),onClick:()=>g(!1),children:"Cancel"}),(0,p.jsx)(r.Z,{variant:"contained",startIcon:(0,p.jsx)(l.Z,{}),onClick:async()=>{try{const{file:e,url:t}=await(0,m.ZP)(n,I,C);i(t),_(e),g(!1),x(!0),f(t)}catch(e){console.log(e)}},children:"Upload"})]})]})]})},h=e=>"".concat(Math.round(100*e),"%")},17107:(e,i,n)=>{n.d(i,{ZP:()=>a});const t=e=>new Promise(((i,n)=>{const t=new Image;t.addEventListener("load",(()=>i(t))),t.addEventListener("error",(e=>n(e))),t.setAttribute("crossOrigin","anonymous"),t.src=e}));function l(e){return e*Math.PI/180}async function a(e,i){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{horizontal:!1,vertical:!1};const o=await t(e),s=document.createElement("canvas"),d=s.getContext("2d");if(!d)return null;const c=l(n),{width:r,height:u}=function(e,i,n){const t=l(n);return{width:Math.abs(Math.cos(t)*e)+Math.abs(Math.sin(t)*i),height:Math.abs(Math.sin(t)*e)+Math.abs(Math.cos(t)*i)}}(o.width,o.height,n);s.width=r,s.height=u,d.translate(r/2,u/2),d.rotate(c),d.scale(a.horizontal?-1:1,a.vertical?-1:1),d.translate(-o.width/2,-o.height/2),d.drawImage(o,0,0);const v=d.getImageData(i.x,i.y,i.width,i.height);return s.width=i.width,s.height=i.height,d.putImageData(v,0,0),new Promise(((e,i)=>{s.toBlob((i=>{i.name="cropped.jpeg",e({file:i,url:URL.createObjectURL(i)})}),"image/jpeg")}))}},11105:(e,i,n)=>{n.d(i,{Z:()=>a});n(72791);var t=n(11575),l=n(80184);const a=e=>{let{status:i}=e;return(0,l.jsx)("div",{className:t.Z.loaderGif,children:(0,l.jsx)("img",{src:"white"===i?"/images/loader/loader-bg-white.gif":"/images/loader/loader.gif",alt:"for load an items"})})}},47167:(e,i,n)=>{n.d(i,{Z:()=>d});n(72791);var t=n(16871),l=n(43504),a=n(23769),o=n(45639),s=n(80184);const d=e=>{let{tabList:i,activeIndexTab:n,setActiveIndexTab:d,customStyleTab:c,carryParentState:r,showAs:u,customStyleLink:v}=e;const m=(0,t.UO)();return(0,s.jsx)("div",{className:o.Z.universal_container,children:u?null===i||void 0===i?void 0:i.map(((e,i)=>"disabled"===(null===e||void 0===e?void 0:e.is_active)?(0,s.jsx)("div",{className:n===(null===e||void 0===e?void 0:e.id)?"".concat(o.Z.universal_container_item," ").concat(o.Z.universal_container_item_active):o.Z.universal_container_item,style:{...v,opacity:"0.5"},children:(0,s.jsx)(a.Z,{children:null===e||void 0===e?void 0:e.name})},i):(0,s.jsx)(l.rU,{to:"/q/".concat(m.username,"/").concat(null===e||void 0===e?void 0:e.url),state:{...r},style:{...v},children:(0,s.jsx)("div",{className:n===(null===e||void 0===e?void 0:e.id)?"".concat(o.Z.universal_container_item," ").concat(o.Z.universal_container_item_active):o.Z.universal_container_item,style:{...c},children:(0,s.jsx)(a.Z,{children:null===e||void 0===e?void 0:e.name})})},i))):null===i||void 0===i?void 0:i.map(((e,i)=>(0,s.jsx)("div",{className:n===(null===e||void 0===e?void 0:e.id)?"".concat(o.Z.universal_container_item," ").concat(o.Z.universal_container_item_active):o.Z.universal_container_item,onClick:()=>d(null===e||void 0===e?void 0:e.id),style:{...c},children:(0,s.jsx)(a.Z,{children:null===e||void 0===e?void 0:e.name})},i)))})}},23769:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(72791),l=n(80184);const a=function(e){let{children:i,onclick:n}=e;const[a,o]=(0,t.useState)(!1),[s,d]=(0,t.useState)({x:-1,y:-1});return(0,t.useEffect)((()=>{-1!==s.x&&-1!==s.y?(o(!0),setTimeout((()=>o(!1)),1e3)):o(!1)}),[s]),(0,t.useEffect)((()=>{a||d({x:-1,y:-1})}),[a]),(0,l.jsxs)("div",{className:"ripple_btn",onClick:e=>{d({x:e.clientX-e.target.offsetLeft,y:e.clientY-e.target.offsetTop}),n&&n(e)},children:[a?(0,l.jsx)("span",{className:"ripple"}):"",(0,l.jsx)("span",{className:"content",children:i})]})}},49886:(e,i,n)=>{n.d(i,{Z:()=>u});var t=n(72791),l=n(39230),a=n(91022);const o="PaymentModeType_payment_mode_heading__RpGh8";var s=n(80184);const d=["Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft","Fee Receipt Not Generated"],c=["Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft","Unrecovered/Exemption","Fee Receipt Not Generated"],r=["By Bank","By Cash"],u=e=>{let{paymentHeading:i,paymentHeadingPlaceholder:n,onInputChange:u,errorShow:v,openAs:m,viewAs:p}=e;const{t:_}=(0,l.$G)(),[h,g]=(0,t.useState)("");(0,t.useEffect)((()=>{"REFUND"===m&&g("Refunded"),"FINANCE_MANAGER"===p&&g("Govt. Grant/Scholarship")}),[m]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("h6",{className:o,children:[" ",i," "]}),(0,s.jsx)(a.Z,{selectLabel:n||_("mode_placeholder"),value:h,onClick:"DEPOSIT_REFUND_LIST"===m?e=>{g(e),u(e)}:e=>{g(e),u({target:{name:"fee_payment_mode",value:"Cash"===e?"By Cash":"Unrecovered/Exemption"===e?"Exempted/Unrecovered":"Govt. Grant/Scholarship"===e?"Government/Scholarship":e}})},selectedValue:_("please_select_payment_mode"),options:"DEPOSIT_REFUND_LIST"===m?r:n?c:d,customLabelStyle:{marginTop:"0",marginBottom:"7px",fontWeight:"400",fontSize:"12px",color:"rgba(18, 18, 18, 0.8)"},customListStyle:{maxHeight:"fit-content"},errorShow:v,openAs:m,viewAs:p})]})}},27330:(e,i,n)=>{n.d(i,{Z:()=>j});var t=n(72791),l=n(89792),a=n(39230),o=n(16871),s=n(72952),d=n(98734),c=n(98094),r=n(95048),u=n(91007),v=n(97655),m=n(87984),p=n(45145),_=n(84959),h=n(81622),g=n(70966),x=n(5574),f=n(80184);const j=e=>{var i,n,j,S;let{aid:b,viewAs:N}=e;const{t:y}=(0,a.$G)(),A=(0,o.s0)(),[C,Z]=(0,t.useState)(!1),[I,E]=(0,t.useState)({admission_about:"",admission_process:"",cashier_name:"",cashier_signature:""}),[T,P]=(0,t.useState)([{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}]),[k,R]=(0,t.useState)(""),[D,O]=(0,t.useState)(""),[L,w]=(0,t.useState)(!1),[M,F]=(0,t.useState)(!1),[U,q]=(0,t.useState)(""),B=(0,r.v9)((e=>e.idChange.id)),{data:G,refetch:H}=(0,u.pu)(B,{skip:"INSTITUTE"===N||!B});(0,t.useEffect)((()=>{B&&"INSTITUTE"!==N&&H()}),[B,N,H]);const{admissionGetSiteInfo:V,admissionGetSiteInfoRefetch:W}=(0,p.Bf)({aid:b,skip:!b}),[J]=(0,p.AE)(),[$]=(0,_.FL)();(0,t.useEffect)((()=>{b&&W()}),[b,W]),(0,t.useEffect)((()=>{var e,i,n,t,l,a;if(null!==V&&void 0!==V&&V.admission_site&&(E({admission_about:null===V||void 0===V||null===(e=V.admission_site)||void 0===e?void 0:e.admission_about,admission_process:null===V||void 0===V||null===(i=V.admission_site)||void 0===i?void 0:i.admission_process,cashier_name:null===V||void 0===V||null===(n=V.admission_site)||void 0===n?void 0:n.cashier_name,cashier_signature:null===V||void 0===V||null===(t=V.admission_site)||void 0===t?void 0:t.cashier_signature}),null!==V&&void 0!==V&&null!==(l=V.admission_site)&&void 0!==l&&null!==(a=l.admission_contact)&&void 0!==a&&a.length)){let e=[];for(let i of null===V||void 0===V||null===(o=V.admission_site)||void 0===o?void 0:o.admission_contact){var o;let n={contact_department_name:null===i||void 0===i?void 0:i.contact_department_name,contact_person_name:null===i||void 0===i?void 0:i.contact_person_name,contact_person_mobile:null===i||void 0===i?void 0:i.contact_person_mobile,contact_person_email:null===i||void 0===i?void 0:i.contact_person_email,contactId:null===i||void 0===i?void 0:i._id};e.push(n)}P(e)}}),[null===V||void 0===V?void 0:V.admission_site]);const Y=(e,i)=>{const n=[...T];for(let t=0;t<(null===n||void 0===n?void 0:n.length);t++)t===i&&(n[t][e.target.name]=e.target.value);P(n)},z=e=>{E((i=>({...i,[e.target.name]:e.target.value})))};(0,t.useEffect)((()=>{M&&(e=>{if(e){Z((e=>!e));const i=new FormData;i.append("file",e),$({fileUpload:i}).then((e=>{var i;null!==(i=e.data)&&void 0!==i&&i.imageKey&&E((i=>{var n;return{...i,cashier_signature:null===(n=e.data)||void 0===n?void 0:n.imageKey}})),Z((e=>!e))})).catch({})}})(D)}),[M,D]);return(0,f.jsxs)("div",{className:l.Z.bgContainer,children:["INSTITUTE"===N?null:(0,f.jsx)("div",{className:l.Z.navbar,children:(0,f.jsx)(m.default,{status:"members",profileData:null===G||void 0===G?void 0:G.user,username:null===G||void 0===G||null===(i=G.user)||void 0===i?void 0:i.username,name:null===G||void 0===G||null===(n=G.user)||void 0===n?void 0:n.userLegalName,photoId:null===G||void 0===G||null===(j=G.user)||void 0===j?void 0:j.photoId,profilePhoto:null===G||void 0===G||null===(S=G.user)||void 0===S?void 0:S.profilePhoto})}),(0,f.jsxs)("div",{className:l.Z.container,children:[(0,f.jsxs)("div",{className:l.Z.containerhead,children:[(0,f.jsx)("h6",{children:y("update_admission_site_info")}),(0,f.jsx)("img",{src:"/images/close-post-icon.svg",alt:"",onClick:()=>{A(-1)}})]}),(0,f.jsx)(c.Z,{customStyle:{width:"100%"}}),(0,f.jsx)("div",{className:l.Z.containercontent,children:(0,f.jsxs)("div",{className:l.Z.container_inner_content,children:[(0,f.jsx)(s.Z,{labelText:y("about_admission_department"),placeholder:y("about_admission_department_placeholder"),name:"admission_about",value:I.admission_about,type:"text",onChange:z,customStyleContainer:{width:"100%"}}),(0,f.jsx)(s.Z,{labelText:y("admission_process_site"),placeholder:y("admission_process_site_placeholder"),name:"admission_process",value:I.admission_process,type:"text",onChange:z,customStyleContainer:{width:"100%"}}),(0,f.jsxs)("div",{className:l.Z.show_field,style:{alignItems:"flex-start"},children:[(0,f.jsx)(v.Z,{labelText:y("site_cashier_name"),placeholder:y("site_cashier_name_placeholder"),name:"cashier_name",value:null===I||void 0===I?void 0:I.cashier_name,type:"text",onChange:z,customStyleContainer:{width:"69.5%"}}),(0,f.jsx)(h.Z,{labelText:y("cashier_signature"),name:"cashier_signature",value:I.cashier_signature,onChange:e=>{if(e.target.files[0]){const i=URL.createObjectURL(e.target.files[0]);O(e.target.files[0]),q(i),R(i),w(!0)}},customStyleContainer:{width:"29.5%"}})]}),(0,f.jsxs)("div",{className:l.Z.add_contact_person,children:[(0,f.jsx)("h6",{children:y("add_contact_persons")}),null===T||void 0===T?void 0:T.map(((e,i)=>(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:l.Z.show_field,children:[(0,f.jsx)(v.Z,{labelText:y("site_department_name"),placeholder:y("site_department_name_placeholder"),name:"contact_department_name",value:null===e||void 0===e?void 0:e.contact_department_name,type:"text",onChange:e=>Y(e,i),customStyleContainer:{width:"49.5%"}}),(0,f.jsx)(v.Z,{labelText:y("contact_person_name"),placeholder:y("contact_person_name_placeholder"),name:"contact_person_name",value:null===e||void 0===e?void 0:e.contact_person_name,type:"text",onChange:e=>Y(e,i),customStyleContainer:{width:"49.5%"}})]}),(0,f.jsxs)("div",{className:l.Z.show_field,children:[(0,f.jsx)(v.Z,{labelText:y("contact_person_mobile"),placeholder:y("contact_person_mobile_placeholder"),name:"contact_person_mobile",value:null===e||void 0===e?void 0:e.contact_person_mobile,type:"text",onChange:e=>Y(e,i),customStyleContainer:{width:"49.5%"}}),(0,f.jsx)(v.Z,{labelText:y("contact_person_email"),placeholder:y("contact_person_email_placeholder"),name:"contact_person_email",value:null===e||void 0===e?void 0:e.contact_person_email,type:"email",onChange:e=>Y(e,i),customStyleContainer:{width:"49.5%"}})]})]},i)))]}),(0,f.jsx)("button",{className:l.Z.add_contact_person_btn,title:"Add Contact Person",onClick:()=>{P((e=>[...e,{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}]))},children:y("add_contact_person")}),C&&(0,f.jsx)(d.Z,{}),(0,f.jsx)("button",{className:l.Z.update_btn,onClick:()=>{Z((e=>!e)),J({aid:b,updateSiteInfo:{...I,admission_contact:null===T||void 0===T?void 0:T.filter((e=>null!==e&&void 0!==e&&e.contactId?"":e)),edit_admission_contact:null===T||void 0===T?void 0:T.filter((e=>null!==e&&void 0!==e&&e.contactId?e:""))}}).then((()=>{Z((e=>!e))})).catch({})},children:y("update")}),(0,f.jsx)(x.Z,{open:L,children:(0,f.jsx)(g.Z,{setPhotoURL:R,photoURL:k,setFile:O,setOpenCrop:w,setUpload:F,setProfilePhoto:q,first:1,second:1})})]})})]})]})}},85162:(e,i,n)=>{n.d(i,{Z:()=>c});var t=n(72791),l=n(39230),a=n(97655),o=n(98094),s=n(87049),d=n(80184);const c=e=>{var i;let{onEdit:n,xlsxId:c}=e;const{t:r}=(0,l.$G)(),[u,v]=(0,t.useState)(null!==(i=null===c||void 0===c?void 0:c.excel_file_name)&&void 0!==i?i:""),[m,p]=(0,t.useState)("");(0,t.useEffect)((()=>{var e;v(null!==(e=null===c||void 0===c?void 0:c.excel_file_name)&&void 0!==e?e:"")}),[null===c||void 0===c?void 0:c.excel_file_name]);return(0,d.jsxs)("div",{style:{width:"20rem",minHeight:"10rem",padding:"1rem"},children:[(0,d.jsx)("h6",{children:r("update_excel_name")}),(0,d.jsx)(o.Z,{customStyle:{width:"100%"}}),(0,d.jsx)(a.Z,{labelText:r("excel_name"),placeholder:r("excel_name_plcaeholder"),value:u,name:"excelName",type:"text",onChange:e=>v(e.target.value),errorShow:m.excelName}),(0,d.jsx)("button",{className:s.Z.xlsx_update_btn,onClick:()=>{u?n(u):p({excelName:"excelName is required"})},style:{justifyContent:"center",marginTop:"1rem"},children:r("update")})]})}},12923:(e,i,n)=>{n.d(i,{Ec:()=>f,Em:()=>b,JM:()=>m,NS:()=>a,Pg:()=>p,Q_:()=>x,RH:()=>v,Tv:()=>d,U_:()=>g,VN:()=>o,Wj:()=>r,ZS:()=>u,_8:()=>j,d5:()=>c,tB:()=>h,vI:()=>S,yx:()=>s,zO:()=>_});var t=n(91007),l=n(58208);const a=e=>{const{data:i,refetch:n}=(0,l.YD)(e.search,{skip:e.skip});return{instituteAllSearch:i,instituteAllSearchRefetch:n}},o=()=>{const[e]=(0,l.ak)();return[e]},s=()=>{const[e]=(0,l.WL)();return[e]},d=e=>{const{data:i,refetch:n}=(0,l.pH)(e.list,{skip:e.skip});return{instituteFollowList:i,instituteFollowListRefetch:n}},c=e=>{const{data:i,refetch:n}=(0,l.MG)(e.data,{skip:e.skip});return{instituteOwnFollowingList:i,instituteOwnFollowingListRefetch:n}},r=()=>{const[e]=(0,l.Ky)();return[e]},u=e=>{const{data:i,refetch:n}=(0,l.p8)(e.list);return{userFollowList:i,userFollowListRefetch:n}},v=e=>{const{data:i,refetch:n}=(0,l.Wv)(e);return{userFollowingList:i,userFollowingListRefetch:n}},m=e=>{const{data:i,refetch:n}=(0,l.sz)(e.search,{skip:e.skip});return{userAllSearch:i,userAllSearchRefetch:n}},p=()=>{const[e]=(0,l.Mk)();return[e]},_=()=>{const[e]=(0,l.$i)();return[e]},h=()=>{const[e]=(0,l.Do)();return[e]},g=()=>{const[e]=(0,l.He)();return[e]},x=()=>{const[e]=(0,l.vg)();return[e]},f=()=>{const[e]=(0,l.OO)();return[e]},j=e=>{const{data:i,refetch:n}=(0,l.N2)(e);return{userCircleList:i,userCircleListRefetch:n}},S=e=>{const{data:i,refetch:n}=(0,t.x6)(e.search,{skip:e.skip});return{assignSearchStaff:i,assignSearchStaffRefetch:n}},b=e=>{const{data:i,refetch:n}=(0,l.SJ)(e);return{universalUser:i,universalUserRefetch:n}}},64783:(e,i,n)=>{n.d(i,{Z:()=>s});n(72791);var t=n(90788),l=n(16871),a=n(43504),o=n(80184);const s=e=>{let{tabLevel:i,customStyleContainer:n,customStyleLevel:s,currentValue:d,tabValue:c,carryParentState:r,activeUrl:u}=e;const v=(0,l.UO)();return(0,o.jsx)(a.rU,{to:"/q/".concat(v.username,"/").concat(u),state:r,className:d===c?t.Z.common_tab_container_active:t.Z.common_tab_container,style:n,children:(0,o.jsx)("h6",{className:d===c?t.Z.common_tab_text_active:t.Z.common_tab_text,style:s,children:i})})}},93738:(e,i,n)=>{n.d(i,{Z:()=>a});n(72791);var t=n(90788),l=n(80184);const a=e=>{let{cardAsHead:i,customStyleCard:n,heading:a,description:o,count:s,asActive:d}=e;return(0,l.jsxs)("div",{className:d?t.Z.common_card_container_active:t.Z.common_card_container,style:{...n},children:[!i&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:t.Z.common_card_content,children:[(0,l.jsx)("h6",{className:t.Z.common_card_content_header,children:a}),(0,l.jsx)("p",{className:t.Z.common_card_content_paragraph,children:o})]}),(0,l.jsx)("h6",{className:t.Z.common_card_content_count,children:s})]}),i&&(0,l.jsxs)("div",{className:t.Z.common_card_container_ashead,children:[(0,l.jsx)("h6",{className:t.Z.common_card_content_headheader,children:a}),(0,l.jsx)("p",{className:t.Z.common_card_content_headparagraph,children:o})]})]})}},85050:(e,i,n)=>{n.d(i,{Z:()=>d});n(72791);var t=n(90788),l=n(16871),a=n(43504),o=n(80184);const s=["DEPARTMENT","ADMISSION","HOSTEL","LIBRARY","TRANSPORT"],d=e=>{let{dynamicImage:i,customStyleBackground:n,customStyleImage:d,edit:c,onEditAction:r,isView:u,isSiteInfo:v,redirectUrl:m,carryParentState:p}=e;const _=(0,l.UO)();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:t.Z.common_sidebar_background_container,style:{...n},children:[(0,o.jsx)("img",{className:t.Z.common_sidebar_background_image,style:{...d},src:i,alt:"backgroud avatar"}),"DEPARTMENT"===u?(0,o.jsx)(a.rU,{to:"/q/".concat(_.username,"/institute/member/one/department?type=form"),state:p,children:(0,o.jsx)("img",{className:t.Z.common_sidebar_setting,src:"/images/profile/profile-menu.svg",alt:"edit icon"})}):null,null!==s&&void 0!==s&&s.includes(v)?(0,o.jsx)(a.rU,{to:"".concat(m),state:{...p},style:{textDecoration:"none"},children:(0,o.jsx)("img",{className:t.Z.common_sidebar_site_info,src:"/images/profile/site-globe-icon.svg",alt:"edit icon"})}):null,c&&(0,o.jsx)("img",{className:t.Z.common_sidebar_edit,src:"/images/user-pencil-edit.svg",alt:"edit icon",onClick:r})]}),"//"," "]})}},21093:(e,i,n)=>{n.d(i,{Z:()=>d});n(72791);var t=n(16871),l=n(43504),a=n(90788),o=n(39230),s=n(80184);const d=e=>{let{linkUrl:i,linkType:n,whichType:d}=e;const{t:c}=(0,o.$G)(),r=(0,t.s0)();return(0,s.jsxs)("div",{className:a.Z.goback_container,children:[n&&(0,s.jsx)(l.rU,{to:i,children:(0,s.jsxs)("div",{className:a.Z.goback_container_text,children:[(0,s.jsx)("img",{src:"/images/arr-left-white.svg",alt:"go back icon"}),(0,s.jsx)("h6",{className:a.Z.goback_container_text_go,children:c("go_back")})]})}),"PREVIOUS_GO"===d&&(0,s.jsxs)("div",{className:a.Z.goback_container_text,onClick:()=>{r(-1)},title:"Go back",children:[(0,s.jsx)("img",{src:"/images/arr-left-white.svg",alt:"go back icon"}),(0,s.jsx)("h6",{className:a.Z.goback_container_text_go,children:c("go_back")})]})]})}},1669:(e,i,n)=>{n.d(i,{Z:()=>o});var t=n(98684),l=n(63244),a=n(80184);const o=e=>{let{isGrey:i}=e;return(0,a.jsx)("div",{className:l.Z.q_loading,children:(0,a.jsx)("img",{src:"".concat(t.Uw,i?"/loading-grey.gif":"/loading.gif"),alt:"loading icon"})})}},79992:(e,i,n)=>{n.d(i,{ZH:()=>l});var t=n(44816);const l=e=>{var i=t.AES.decrypt(e,"QVIPLESAASPLATFORM");return JSON.parse(i.toString(t.enc.Utf8))}},94811:(e,i,n)=>{n.d(i,{Q0:()=>l,a4:()=>t,yY:()=>a});const t="POST",l="PATCH",a="DELETE"},54155:(e,i,n)=>{var t=n(64836);i.Z=void 0;var l=t(n(45649)),a=n(80184),o=(0,l.default)((0,a.jsx)("path",{d:"M17 15h2V7c0-1.1-.9-2-2-2H9v2h8v8zM7 17V1H5v4H1v2h4v10c0 1.1.9 2 2 2h10v4h2v-4h4v-2H7z"}),"Crop");i.Z=o},97893:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(74223),l=n(80184);const a=(0,t.Z)((0,l.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel")},91711:()=>{},52124:(e,i,n)=>{n.d(i,{Z:()=>t});const t={assign_title:"AssignStaffModal_assign_title__4DGBV",assign_search_container:"AssignStaffModal_assign_search_container__3x6RD",assign_search_input:"AssignStaffModal_assign_search_input__rO3c7",assign_show_list:"AssignStaffModal_assign_show_list__yHhf7",assign_show_list_each:"AssignStaffModal_assign_show_list_each__ACUEw",assign_each_paragraph:"AssignStaffModal_assign_each_paragraph__pMHTq",universal_modal:"AssignStaffModal_universal_modal__czmpB",is_mulitselect_container:"AssignStaffModal_is_mulitselect_container__0cPQ2"}},74737:(e,i,n)=>{n.d(i,{Z:()=>t});const t={main:"Main_main__4mpMH",stats:"Main_stats__05reL",stats1:"Main_stats1__WlbdF",finance_container:"Main_finance_container__2pMkG",finance_container_other:"Main_finance_container_other__+Fq3c",institute_finance_container_border:"Main_institute_finance_container_border__Jgqpr",finance_tab_tabs:"Main_finance_tab_tabs__ufRpi",item:"Main_item__RsX-U",itemIcon:"Main_itemIcon__MA5vy"}},45639:(e,i,n)=>{n.d(i,{Z:()=>t});const t={universal_container:"UniversalTab_universal_container__uxTOR",universal_container_item:"UniversalTab_universal_container_item__M0pS7",universal_container_item_active:"UniversalTab_universal_container_item_active__3u3Wt"}},85161:(e,i,n)=>{n.d(i,{Z:()=>t});const t={remainingFees:"RemainingFees_remainingFees__G74JQ",subItem:"RemainingFees_subItem__maJF6",item:"RemainingFees_item__2o1X9",text:"RemainingFees_text__JnUvj"}},90788:(e,i,n)=>{n.d(i,{Z:()=>t});const t={common_tab_text:"CommonSidebar_common_tab_text__-eItK",common_card_content_header:"CommonSidebar_common_card_content_header__MHAp+",common_card_content_paragraph:"CommonSidebar_common_card_content_paragraph__MmykG",common_card_content_count:"CommonSidebar_common_card_content_count__Ai7On",common_card_content_headheader:"CommonSidebar_common_card_content_headheader__RBc2L",common_card_content_headparagraph:"CommonSidebar_common_card_content_headparagraph__t+oLd",goback_container_text_go:"CommonSidebar_goback_container_text_go__lFumH",common_card_container_ashead:"CommonSidebar_common_card_container_ashead__Vjj40",common_tab_container:"CommonSidebar_common_tab_container__ujuBQ",common_tab_container_active:"CommonSidebar_common_tab_container_active__PTLiM",common_tab_text_active:"CommonSidebar_common_tab_text_active__JmlY-",blue_line_container:"CommonSidebar_blue_line_container__usslW",goback_container:"CommonSidebar_goback_container__IPDkX",goback_container_text:"CommonSidebar_goback_container_text__dC6S0",common_card_wrapper:"CommonSidebar_common_card_wrapper__qB5s9",common_card_container:"CommonSidebar_common_card_container__5e2QY",common_card_container_active:"CommonSidebar_common_card_container_active__uaOiC",common_card_content:"CommonSidebar_common_card_content__Yub02",common_sidebar_background_container:"CommonSidebar_common_sidebar_background_container__reNf5",common_sidebar_background_image:"CommonSidebar_common_sidebar_background_image__Ooj2M",common_sidebar_setting:"CommonSidebar_common_sidebar_setting__Ual7C",common_sidebar_edit:"CommonSidebar_common_sidebar_edit__5Vsxn",common_sidebar_site_info:"CommonSidebar_common_sidebar_site_info__fD5E+"}},63244:(e,i,n)=>{n.d(i,{Z:()=>t});const t={qviple_loader_backdrop:"Loader_qviple_loader_backdrop__ScdYl",qviple_loader_container:"Loader_qviple_loader_container__SXQ9Y",qviple_loader_rotation:"Loader_qviple_loader_rotation__ltsgT",qviple_loader_rotation_animation:"Loader_qviple_loader_rotation_animation__gy3+j",q_loading:"Loader_q_loading__bwe2c",circle_loading:"Loader_circle_loading__m+ptB",rotate_animation:"Loader_rotate_animation__IV2sY"}}}]);
//# sourceMappingURL=3816.0a3cba80.chunk.js.map