(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[2365],{2365:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>P});var i=l(56959),n=l(63687),s=l(21348),a=l(39230),o=l(90904),d=l(43504),r=l(16871),c=l(63162),u=l(98967),v=l(68994),m=l(72791),h=l(55336),f=l(23441),x=l(91427),p=l(57588),y=l(98684),_=l(1669),g=l(2651),j=l(1095),b=l(82824),Z=l(76697),k=l(80184);const L=e=>{var t,l,i,n,s,o;let{repay:d}=e;const{t:r}=(0,a.$G)();return(0,k.jsxs)("div",{className:Z.Z.settle_card,children:[(0,k.jsxs)("div",{className:Z.Z.settle_card_container,children:[(0,k.jsx)("img",{src:null!==d&&void 0!==d&&null!==(t=d.finance)&&void 0!==t&&null!==(l=t.institute)&&void 0!==l&&l.insProfilePhoto?"".concat(j.yI,"/").concat(null===d||void 0===d||null===(i=d.finance)||void 0===i||null===(n=i.institute)||void 0===n?void 0:n.insProfilePhoto):"".concat(y.HN,"/qviple-logo.svg"),alt:"qviple logo",style:{width:"60px",height:"60px",borderRadius:"12px"}}),(0,k.jsxs)("div",{className:Z.Z.settle_card_text,children:[(0,k.jsxs)("h6",{children:[r("day_book_date")," "," : ",null!==(s=null===d||void 0===d?void 0:d.db_file_date)&&void 0!==s?s:""]}),(0,k.jsxs)("h6",{children:[r("rs_only")," ",null!==(o=null===d||void 0===d?void 0:d.db_amount)&&void 0!==o?o:""]})]})]}),(0,k.jsxs)("div",{className:Z.Z.settle_card_text,style:{alignItems:"flex-end"},children:[null!==d&&void 0!==d&&d.db_file?(0,k.jsx)("a",{title:"Download File",href:"".concat(j.yI,"/").concat(null===d||void 0===d?void 0:d.db_file),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,k.jsx)("img",{src:"".concat(y.J7,"/xsxl.svg"),alt:"excel icon"})}):null,(0,k.jsxs)("p",{className:Z.Z.settle_paragraph,children:[(0,b.J)(null===d||void 0===d?void 0:d.db_created,"L"),", ",(0,b.J)(null===d||void 0===d?void 0:d.db_created,"LT")]})]})]})};var Y=l(6758);const N=e=>{var t,l,n;let{fid:s}=e;const{t:o}=(0,a.$G)(),[d,r]=(0,m.useState)(""),[c,u]=(0,m.useState)(1),[v,j]=(0,m.useState)(!0),[b,Z]=(0,f.YD)({skip:d}),{financeDayBookPaymentList:N,financeDayBookPaymentListLoading:M}=(0,Y.IG)({data:{fid:s,page:c,limit:10,search:d},skip:!s});(0,m.useEffect)((()=>{Z&&v&&u((e=>e+1))}),[Z,v]),(0,m.useEffect)((()=>{var e;if(null!==N&&void 0!==N&&null!==(e=N.list)&&void 0!==e&&e.length){var t;let e=(0,x.f)(null===N||void 0===N||null===(t=N.list)||void 0===t?void 0:t.length);j((()=>e))}}),[null===N||void 0===N?void 0:N.list]);const D=(0,m.useCallback)((0,p.J)((e=>{u((()=>1)),r(e)}),1500),[]);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:i.Z.fm_search_full,children:(0,k.jsx)("section",{className:i.Z.fm_search_full_container,children:(0,k.jsxs)("div",{className:i.Z.fm_search_full_container_inner,children:[(0,k.jsx)("img",{className:i.Z.fm_search_full_icon,alt:"search icon",src:"".concat(y.dB,"/navbar-search.svg")}),(0,k.jsx)("input",{type:"text",placeholder:o("search"),onChange:e=>{e.target.value?D(e.target.value):(u((()=>1)),r(""))}})]})})}),null===N||void 0===N||null===(t=N.list)||void 0===t?void 0:t.map(((e,t)=>{var l;return(null===N||void 0===N||null===(l=N.list)||void 0===l?void 0:l.length)===t+1?(0,k.jsx)("div",{ref:b,children:(0,k.jsx)(L,{repay:e})},null===e||void 0===e?void 0:e._id):(0,k.jsx)(L,{repay:e},null===e||void 0===e?void 0:e._id)})),M?d?(0,k.jsx)(h.Z,{}):(0,k.jsx)(_.Z,{}):d?0===(null===N||void 0===N||null===(l=N.list)||void 0===l?void 0:l.length)&&(0,k.jsx)(g.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No payment found related this search."}):0===(null===N||void 0===N||null===(n=N.list)||void 0===n?void 0:n.length)&&(0,k.jsx)(g.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No payment added."})]})},M=e=>{var t,l,i,n,s,o;let{repay:d}=e;const{t:r}=(0,a.$G)();return(0,k.jsxs)("div",{className:Z.Z.settle_card,children:[(0,k.jsxs)("div",{className:Z.Z.settle_card_container,children:[(0,k.jsx)("img",{src:null!==d&&void 0!==d&&null!==(t=d.finance)&&void 0!==t&&null!==(l=t.institute)&&void 0!==l&&l.insProfilePhoto?"".concat(j.yI,"/").concat(null===d||void 0===d||null===(i=d.finance)||void 0===i||null===(n=i.institute)||void 0===n?void 0:n.insProfilePhoto):"".concat(y.HN,"/qviple-logo.svg"),alt:"qviple logo",style:{width:"60px",height:"60px",borderRadius:"12px"}}),(0,k.jsxs)("div",{className:Z.Z.settle_card_text,children:[(0,k.jsxs)("h6",{children:[r("day_book_date")," "," : ",null!==(s=null===d||void 0===d?void 0:d.db_file_date)&&void 0!==s?s:""]}),(0,k.jsxs)("h6",{children:[r("rs_only")," ",null!==(o=null===d||void 0===d?void 0:d.db_amount)&&void 0!==o?o:""]})]})]}),(0,k.jsxs)("div",{className:Z.Z.settle_card_text,style:{alignItems:"flex-end"},children:[null!==d&&void 0!==d&&d.db_file?(0,k.jsx)("a",{title:"Download File",href:"".concat(j.yI,"/").concat(null===d||void 0===d?void 0:d.db_file),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,k.jsx)("img",{src:"".concat(y.J7,"/xsxl.svg"),alt:"excel icon"})}):null,(0,k.jsxs)("p",{className:Z.Z.settle_paragraph,children:[(0,b.J)(null===d||void 0===d?void 0:d.db_created,"L"),", ",(0,b.J)(null===d||void 0===d?void 0:d.db_created,"LT")]})]})]})},D=e=>{var t,l,n;let{fid:s}=e;const{t:o}=(0,a.$G)(),[d,r]=(0,m.useState)(""),[c,u]=(0,m.useState)(1),[v,j]=(0,m.useState)(!0),[b,Z]=(0,f.YD)({skip:d}),{financeDayBookReceiptList:L,financeDayBookReceiptListLoading:N}=(0,Y.VG)({data:{fid:s,page:c,limit:10,search:d},skip:!s});(0,m.useEffect)((()=>{Z&&v&&u((e=>e+1))}),[Z,v]),(0,m.useEffect)((()=>{var e;if(null!==L&&void 0!==L&&null!==(e=L.list)&&void 0!==e&&e.length){var t;let e=(0,x.f)(null===L||void 0===L||null===(t=L.list)||void 0===t?void 0:t.length);j((()=>e))}}),[null===L||void 0===L?void 0:L.list]);const D=(0,m.useCallback)((0,p.J)((e=>{u((()=>1)),r(e)}),1500),[]);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:i.Z.fm_search_full,children:(0,k.jsx)("section",{className:i.Z.fm_search_full_container,children:(0,k.jsxs)("div",{className:i.Z.fm_search_full_container_inner,children:[(0,k.jsx)("img",{className:i.Z.fm_search_full_icon,alt:"search icon",src:"".concat(y.dB,"/navbar-search.svg")}),(0,k.jsx)("input",{type:"text",placeholder:o("search"),onChange:e=>{e.target.value?D(e.target.value):(u((()=>1)),r(""))}})]})})}),null===L||void 0===L||null===(t=L.list)||void 0===t?void 0:t.map(((e,t)=>{var l;return(null===L||void 0===L||null===(l=L.list)||void 0===l?void 0:l.length)===t+1?(0,k.jsx)("div",{ref:b,children:(0,k.jsx)(M,{repay:e})},null===e||void 0===e?void 0:e._id):(0,k.jsx)(M,{repay:e},null===e||void 0===e?void 0:e._id)})),N?d?(0,k.jsx)(h.Z,{}):(0,k.jsx)(_.Z,{}):d?0===(null===L||void 0===L||null===(l=L.list)||void 0===l?void 0:l.length)&&(0,k.jsx)(g.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No receipts found related this search."}):0===(null===L||void 0===L||null===(n=L.list)||void 0===n?void 0:n.length)&&(0,k.jsx)(g.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No receipts added."})]})},S=[{label:"receipts",id:"receipt",urlKey:""},{label:"payments",id:"payment",urlKey:"&t=payment"}],T=e=>{let{fid:t}=e;const[l]=(0,d.lr)(),i=(0,r.TH)(),n=(0,r.UO)();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(u.Z,{children:S.map((e=>{var t;return(0,k.jsx)(c.Z,{tab:e,isLink:!0,isActive:"receipt"===e.id&&!l.get("t")||l.get("t")===e.id,parentState:i.state,url:"Institute"===(null===(t=i.state)||void 0===t?void 0:t.urlOffSet)?"/q/".concat(n.username,"/institute/member/finance?type=history&n=day-book").concat(e.urlKey):"/q/".concat(n.username,"/member/staff/finance?type=history&n=day-book").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,k.jsx)(o.Z,{customStyleBorder:{marginTop:"0"}}),l.get("t")?"payment"===l.get("t")?(0,k.jsx)(N,{fid:t}):null:(0,k.jsx)(D,{fid:t})]})},I=(0,m.lazy)((()=>l.e(77868).then(l.bind(l,77868)))),C=(0,m.lazy)((()=>l.e(30301).then(l.bind(l,30301)))),K=(0,m.lazy)((()=>l.e(53346).then(l.bind(l,53346)))),q=[{label:"receipts",id:"receipt",urlKey:""},{label:"payments",id:"payment",urlKey:"&n=payment"},{label:"settlement_history",id:"settlement",urlKey:"&n=settlement"},{label:"day_book",id:"day-book",urlKey:"&n=day-book"},{label:"activity_logs",id:"logs",urlKey:"&n=logs"}],P=e=>{let{fid:t,instituteId:l}=e;const{t:f}=(0,a.$G)(),[x]=(0,d.lr)(),p=(0,r.TH)(),y=(0,r.UO)();return(0,k.jsxs)(n.Z,{children:[(0,k.jsx)(s.Z,{children:(0,k.jsx)("div",{className:i.Z.fm_header_container,children:(0,k.jsx)("h6",{children:f("transaction_history")})})}),(0,k.jsx)(o.Z,{}),(0,k.jsxs)(s.Z,{customStyle:{paddingTop:"0"},children:[(0,k.jsx)(u.Z,{children:q.map((e=>{var t;return(0,k.jsx)(c.Z,{tab:e,isLink:!0,isActive:"receipt"===e.id&&!x.get("n")||x.get("n")===e.id,parentState:p.state,url:"Institute"===(null===(t=p.state)||void 0===t?void 0:t.urlOffSet)?"/q/".concat(y.username,"/institute/member/finance?type=history").concat(e.urlKey):"/q/".concat(y.username,"/member/staff/finance?type=history").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,k.jsx)(o.Z,{customStyleBorder:{marginTop:"0"}})]}),(0,k.jsx)(s.Z,{customStyle:{paddingTop:"0"},children:(0,k.jsx)(m.Suspense,{fallback:(0,k.jsx)(h.Z,{}),children:"payment"===x.get("n")?(0,k.jsx)(C,{instituteId:l}):"settlement"===x.get("n")?(0,k.jsx)(I,{instituteId:l}):"day-book"===x.get("n")?(0,k.jsx)(T,{fid:t}):"logs"===x.get("n")?(0,k.jsx)(K,{fid:t}):(0,k.jsx)(v.Z,{instituteId:l})})})]})}},82824:(e,t,l)=>{"use strict";l.d(t,{J:()=>o,Z:()=>d});var i=l(99893),n=l.n(i),s=l(97892),a=l.n(s);const o=(e,t)=>(a().extend(n()),a()(e).format(t)),d=(e,t,l)=>{var i;return a()()[e]("".concat(null===(i=a()(l))||void 0===i?void 0:i.format("YYYY-MM-DD")),t)}},99893:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,l,i){var n=l.prototype,s=n.format;i.en.formats=e,n.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var l=this.$locale().formats,i=function(t,l){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,i,n){var s=n&&n.toUpperCase();return i||l[n]||e[n]||l[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,l){return t||l.slice(1)}))}))}(t,void 0===l?{}:l);return s.call(this,i)}}}()}}]);
//# sourceMappingURL=2365.466b99f0.chunk.js.map