(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[99635],{38986:(e,n,l)=>{"use strict";l.d(n,{Z:()=>s});var a=l(72791),i=l(52245),o=l(39230),t=l(1095),d=l(80184);const s=e=>{let{label:n,name:l,value:s,onChange:r,errorShow:c,disabled:_,customFormFileContainer:u,customFormFileLabel:v,customFormFile:m,type:h,multiple:f}=e;const{t:p}=(0,o.$G)(),x=(0,a.useCallback)((()=>{const e=window.open("".concat(t.yI,"/").concat(null===s||void 0===s?void 0:s.key),"_blank","noopener,noreferrer");e&&(e.opener=null)}),[null===s||void 0===s?void 0:s.key]);return(0,d.jsxs)("div",{className:i.Z.form_input_container,style:{...u},children:[n&&(0,d.jsxs)("label",{className:i.Z.form_input_label,style:v,children:[n,c?(0,d.jsxs)("span",{className:i.Z.form_input_label_error,children:["* ",p("form_require_label")]}):null]}),(0,d.jsxs)("div",{className:i.Z.form_file_container,style:m,children:[(0,d.jsx)("label",{className:s?"".concat(i.Z.form_file_choose," ").concat(i.Z.form_file_choose_active):i.Z.form_file_choose,htmlFor:l,children:p(""!==s?"file_choosen":"choose_file")}),(0,d.jsx)("label",{className:i.Z.form_file_choosen,onClick:x,children:""!==s?null!==s&&void 0!==s&&s.name?null===s||void 0===s?void 0:s.name:p("view"):p("no_file_chosen")})]}),(0,d.jsx)("input",{type:"file",multiple:!!f,accept:h||"image/*, .doc,.docx, application/pdf,.csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",name:l,id:l,style:{display:"none"},onChange:r,disabled:_})]})}},31897:(e,n,l)=>{"use strict";l.d(n,{Z:()=>s});var a=l(72791),i=l(39230),o=l(52245),t=l(98684),d=l(80184);const s=e=>{let{selectLabel:n,onClick:l,selectedValue:s,options:r,customStyleContainer:c,customLabelStyle:_,customListStyle:u,errorShow:v,defalutValue:m,viewAs:h,isFull:f,isDenied:p}=e;const{t:x}=(0,i.$G)(),[b,j]=(0,a.useState)(!1),[k,y]=(0,a.useState)(""),g=()=>{p||j((e=>!e))};(0,a.useEffect)((()=>{"NORMAL_FILTER"===h&&y(m)}),[h,m]),(0,a.useEffect)((()=>{if("CUSTOM_FILTER"===h){let a="";for(let i of r)for(let o of m)if((null===i||void 0===i?void 0:i._id)===o){var e,n,l;let o=null!==(e=null!==(n=null!==(l=null===i||void 0===i?void 0:i.dName)&&void 0!==l?l:null===i||void 0===i?void 0:i.batchName)&&void 0!==n?n:null===i||void 0===i?void 0:i.className)&&void 0!==e?e:"";a=a?a+", "+o:o}y(a)}}),[h,m,r]);return(0,d.jsxs)("div",{className:o.Z.form_input_container,style:{...c},children:[(0,d.jsxs)("p",{className:o.Z.join_form_select_paragraph,style:{..._},children:[n,v&&(0,d.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",x("form_require_label")]})]}),(0,d.jsxs)("section",{className:o.Z.join_form_select_custom,onClick:g,children:[k?(0,d.jsx)("p",{className:o.Z.join_form_select_custom_paragraph,children:null!==k&&void 0!==k?k:""}):(0,d.jsx)("p",{className:o.Z.join_form_select_custom_paragraph,children:s}),b?(0,d.jsx)("img",{className:o.Z.join_form_select_custom_rotate_icon,src:"".concat(t.J7,"/down.svg"),alt:"categor icon"}):(0,d.jsx)("img",{className:o.Z.join_form_select_custom_icon,src:"".concat(t.J7,"/down.svg"),alt:"categor icon"})]}),b&&(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("section",{className:o.Z.join_form_select_custom_list,style:u,children:null===r||void 0===r?void 0:r.map(((e,n)=>{var a;return(0,d.jsx)("p",{onClick:()=>(e=>{var n;l(f?e:null===e||void 0===e?void 0:e._id),g(),y(null!==(n=null===e||void 0===e?void 0:e.dName)&&void 0!==n?n:e)})(e),className:o.Z.join_form_select_custom_paragraph_option,children:null!==(a=null===e||void 0===e?void 0:e.dName)&&void 0!==a?a:e},n)}))})})]})}},99635:(e,n,l)=>{"use strict";l.r(n),l.d(n,{default:()=>Be});var a=l(56959),i=l(39230),o=l(72791);const t="BankDetail_bank_detail_card__XlDeo",d="BankDetail_bank_detail_card_heading__mL+og",s="BankDetail_bank_detail_card_inner__WTrMU",r="BankDetail_bank_detail_applicable__o9ybT",c="BankDetail_bank_detail_card_upi__B4gIC",_="BankDetail_bank_detail_card_qr__1sjcI",u="BankDetail_bank_detail_list__pwEqa",v="BankDetail_applicable_btn_container__eJ1fc",m="BankDetail_applicable_btn__T+Xhu",h="BankDetail_applicable_text__-94Qt",f="BankDetail_applicable_text_error__N2w5n",p="BankDetail_bank_fund_container__7nWd7",x="BankDetail_bank_fund__mShX7",b="BankDetail_bank_details__-SkE-",j="BankDetail_bank_upi__a1q+v",k="BankDetail_bank_qr_code__PmB1G",y="BankDetail_bank_qr_code_text__R7pza",g="BankDetail_modal_container__lWae0";var Z=l(6758),I=l(8959),S=l(1095),N=l(98684),C=l(80184);let w={fontWeight:"400"};const F=e=>{var n,l,a,o,u,v,m,h,f,p;let{bank:x}=e;const{t:b}=(0,i.$G)();return(0,C.jsxs)("div",{className:t,children:[(0,C.jsxs)("div",{className:d,children:[(0,C.jsx)("img",{src:"".concat(N.J7,"/bank-card.svg"),alt:"bank icon"}),(0,C.jsxs)("div",{className:s,children:[(0,C.jsx)("h6",{children:null!==(n=null===x||void 0===x?void 0:x.finance_bank_name)&&void 0!==n?n:""}),(0,C.jsx)("p",{children:null!==x&&void 0!==x&&null!==(l=x.department)&&void 0!==l&&l.dName?null===x||void 0===x||null===(a=x.department)||void 0===a?void 0:a.dName:null!==x&&void 0!==x&&x.hostel?"Hostel":null!==x&&void 0!==x&&x.library?"Library":null!==x&&void 0!==x&&x.transport?"Transport":(null===x||void 0===x||null===(o=x.departments)||void 0===o?void 0:o.length)>0?null===x||void 0===x||null===(u=x.departments)||void 0===u?void 0:u.map(((e,n)=>{var l,a;return(0,C.jsxs)("span",{children:[null!==(l=null===e||void 0===e?void 0:e.dName)&&void 0!==l?l:"",n+1===(null===x||void 0===x||null===(a=x.departments)||void 0===a?void 0:a.length)?"":", "]},null===e||void 0===e?void 0:e._id)})):"Society"===(null===x||void 0===x?void 0:x.bank_account_type)?"Society":""})]})]}),(0,C.jsxs)("section",{className:r,children:[(0,C.jsxs)("h6",{children:[b("applicable_for")," "," : "," "]}),(0,C.jsx)(I.Z,{label:null!==x&&void 0!==x&&null!==(v=x.department)&&void 0!==v&&v.dName?null===x||void 0===x||null===(m=x.department)||void 0===m?void 0:m.dName:null!==x&&void 0!==x&&x.hostel?"Hostel":null!==x&&void 0!==x&&x.library?"Library":null!==x&&void 0!==x&&x.transport?"Transport":(null===x||void 0===x||null===(h=x.departments)||void 0===h?void 0:h.length)>0?null===x||void 0===x||null===(f=x.departments)||void 0===f?void 0:f.map(((e,n)=>{var l,a;return(0,C.jsxs)("span",{children:[null!==(l=null===e||void 0===e?void 0:e.dName)&&void 0!==l?l:"",n+1===(null===x||void 0===x||null===(a=x.departments)||void 0===a?void 0:a.length)?"":", "]},null===e||void 0===e?void 0:e._id)})):"Society"===(null===x||void 0===x?void 0:x.bank_account_type)?"Society":"",customFormInputLabel:w})]}),(0,C.jsxs)("section",{className:r,children:[(0,C.jsx)("h6",{children:b("bank_details")}),(0,C.jsx)(I.Z,{label:"".concat(b("bank_name")," :"),value:null===x||void 0===x?void 0:x.finance_bank_name,customFormInput:w}),(0,C.jsx)(I.Z,{label:"".concat(b("account_name")," :"),value:null===x||void 0===x?void 0:x.finance_bank_account_name,customFormInput:w}),(0,C.jsx)(I.Z,{label:"".concat(b("account_number")," :"),value:null===x||void 0===x?void 0:x.finance_bank_account_number,customFormInput:w}),(0,C.jsx)(I.Z,{label:"".concat(b("ifsc_code")," :"),value:null===x||void 0===x?void 0:x.finance_bank_ifsc_code,customFormInput:w}),(0,C.jsx)(I.Z,{label:"".concat(b("address")," :"),value:null===x||void 0===x?void 0:x.finance_bank_branch_address,customFormInput:w})]}),(0,C.jsx)(I.Z,{label:"".concat(b("upi_id")," :"),value:null===x||void 0===x?void 0:x.finance_bank_upi_id,customFormInput:w}),(0,C.jsxs)("section",{className:c,style:{width:"100%",alignItems:"flex-start"},children:[(0,C.jsxs)("div",{className:_,children:[(0,C.jsxs)("h6",{children:[b("qr_code"),":"]}),(0,C.jsx)("p",{children:null!==(p=null===x||void 0===x?void 0:x.finance_bank_upi_id)&&void 0!==p?p:""})]}),null!==x&&void 0!==x&&x.finance_bank_upi_qrcode?(0,C.jsx)("img",{src:"".concat(S.yI,"/").concat(null===x||void 0===x?void 0:x.finance_bank_upi_qrcode),alt:"qr code"}):""]})]})};var L=l(16871),D=l(43677),B=l(1669),T=l(23441),M=l(91427),A=l(2651);const E=e=>{var n,l;let{fid:a}=e;const i=(0,L.TH)(),[t,d]=(0,o.useState)(1),[s,r]=(0,o.useState)(!0),[c,_]=(0,T.YD)(),{financeAllBank:v,financeAllBankLoading:m}=(0,Z.iB)({data:{fid:a,page:t,limit:10,search:""},skip:!a});return(0,o.useEffect)((()=>{_&&s&&d((e=>e+1))}),[_,s]),(0,o.useEffect)((()=>{if(null!==v&&void 0!==v&&v.list){var e;let n=(0,M.f)(null===v||void 0===v||null===(e=v.list)||void 0===e?void 0:e.length);r((()=>n))}}),[null===v||void 0===v?void 0:v.list]),(0,C.jsxs)("div",{className:u,children:[null===v||void 0===v||null===(n=v.list)||void 0===n?void 0:n.map(((e,n)=>{var l;return(null===v||void 0===v||null===(l=v.list)||void 0===l?void 0:l.length)===n+1?(0,C.jsx)("div",{ref:c,style:{width:"49%"},children:(0,C.jsx)(D.Z,{parentState:{...i.state,bankId:null===e||void 0===e?void 0:e._id},activeUrl:"type=bank&n=detail",children:(0,C.jsx)(F,{bank:e})})},null===e||void 0===e?void 0:e._id):(0,C.jsx)("div",{style:{width:"49%"},children:(0,C.jsx)(D.Z,{parentState:{...i.state,bankId:null===e||void 0===e?void 0:e._id},activeUrl:"type=bank&n=detail",children:(0,C.jsx)(F,{bank:e})})},null===e||void 0===e?void 0:e._id)})),m?(0,C.jsx)(B.Z,{}):0===(null===v||void 0===v||null===(l=v.list)||void 0===l?void 0:l.length)&&(0,C.jsx)(A.Z,{title:"No banks added."})]})},q=(0,o.memo)(E);var Y=l(38857),G=l(21348),H=l(31897),J=l(93638),O=l(4007),R=l(90904),$=l(57588),K=l(14196),P=l(55336);const V=e=>{var n,l,a,t;let{onClose:d,fid:s,setFeeHead:r,setFeeHeadId:c,feeHeadId:_,isSegment:u,isOne:v,isIdOnly:m}=e;const{t:h}=(0,i.$G)(),[f,p]=(0,o.useState)(""),[x,b]=(0,o.useState)(1),[j,k]=(0,o.useState)(!0),[y,g]=(0,T.YD)({skip:f}),[I,S]=(0,o.useState)([]),[w,F]=(0,o.useState)(null!==_&&void 0!==_?_:[]),{financeAllOtherFeeHeadMaster:L,financeAllOtherFeeHeadMasterLoading:D}=(0,Z.sx)({data:{fid:s,page:x,limit:10,search:f},skip:!s});(0,o.useEffect)((()=>{F(_)}),[_]),(0,o.useEffect)((()=>{g&&j&&b((e=>e+1))}),[g,j]),(0,o.useEffect)((()=>{var e;if(null!==L&&void 0!==L&&null!==(e=L.list)&&void 0!==e&&e.length){var n;let e=(0,M.f)(null===L||void 0===L||null===(n=L.list)||void 0===n?void 0:n.length);k((()=>e))}}),[null===L||void 0===L||null===(n=L.list)||void 0===n?void 0:n.length]);const E=(0,o.useCallback)((0,$.J)((e=>{b((()=>1)),p(e)}),500),[]),q=e=>{const n={head_name:null===e||void 0===e?void 0:e.master_name,head_amount:null===e||void 0===e?void 0:e.master_amount,master:null===e||void 0===e?void 0:e._id,head_type:u};if(null!==w&&void 0!==w&&w.includes(null===e||void 0===e?void 0:e._id)){let n=null===w||void 0===w?void 0:w.indexOf(null===e||void 0===e?void 0:e._id),l=[];for(let e=0;e<(null===I||void 0===I?void 0:I.length);e++)e===n||l.push(I[e]);F((n=>null===n||void 0===n?void 0:n.filter((n=>n!==(null===e||void 0===e?void 0:e._id))))),S(l)}else F((n=>[...n,null===e||void 0===e?void 0:e._id])),S((e=>[...e,n]));v&&(r([n]),c([null===e||void 0===e?void 0:e._id]),d())};return(0,C.jsx)(Y.Z,{children:(0,C.jsxs)("div",{className:O.Z.modal_container,children:[(0,C.jsx)(G.default,{children:(0,C.jsxs)("div",{className:O.Z.modal_container_outer_header,children:[(0,C.jsxs)("div",{className:O.Z.modal_container_header,children:[(0,C.jsx)("img",{src:"".concat(N.J7,"/back-arrow.svg"),alt:"close icon",onClick:d}),(0,C.jsx)("h6",{children:h("select_other_fee_master")})]}),(0,C.jsx)(J.Z,{label:"select",customStyle:{margin:"0"},onAction:()=>{m?(c(w),d()):(r((e=>[...e,...I])),c(w),d())}})]})}),(0,C.jsx)(R.Z,{}),(0,C.jsxs)(G.default,{customStyle:{paddingTop:"0"},children:[(0,C.jsx)("div",{className:O.Z.fm_search_full,style:{marginBottom:"0.5rem"},children:(0,C.jsx)("section",{className:O.Z.fm_search_full_container,children:(0,C.jsxs)("div",{className:O.Z.fm_search_full_container_inner,children:[(0,C.jsx)("img",{className:O.Z.fm_search_full_icon,alt:"search icon",src:"".concat(N.dB,"/navbar-search.svg")}),(0,C.jsx)("input",{type:"text",placeholder:h("search"),onChange:e=>{e.target.value?E(e.target.value):(b((()=>1)),p(""))}})]})})}),null===L||void 0===L||null===(l=L.list)||void 0===l?void 0:l.map(((e,n)=>{var l;return(null===L||void 0===L||null===(l=L.list)||void 0===l?void 0:l.length)===n+1?(0,C.jsx)("div",{ref:y,children:(0,C.jsx)(K.Z,{feeHead:e,fid:s,onSelect:q,selectedFeeId:w})},null===e||void 0===e?void 0:e._id):(0,C.jsx)(K.Z,{feeHead:e,fid:s,onSelect:q,selectedFeeId:w},null===e||void 0===e?void 0:e._id)})),D?f?(0,C.jsx)(P.default,{}):(0,C.jsx)(B.Z,{}):f?0===(null===L||void 0===L||null===(a=L.list)||void 0===a?void 0:a.length)&&(0,C.jsx)(A.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No other fee master found related this search."}):0===(null===L||void 0===L||null===(t=L.list)||void 0===t?void 0:t.length)&&(0,C.jsx)(A.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No other fee master added."})]})]})})},W=e=>{var n,l,a;let{fid:t,onToggle:d,libraryId:s,transportId:r,hostelId:c,setApplicablFor:_,applicableFor:u}=e;const{t:v}=(0,i.$G)(),[h,f]=(0,o.useState)({flow:"",flow_id:"",flow_name:"",depart_arr:[],heads_list:[]}),[p,x]=(0,o.useState)("");(0,o.useEffect)((()=>{f(u)}),[]);const{instituteAllDepartment:b}=(0,Z.Jv)({fid:t,skip:!t});return(0,C.jsx)(C.Fragment,{children:1===p?(0,C.jsx)(V,{onClose:()=>{x("")},fid:t,feeHeadId:h.heads_list,setFeeHeadId:e=>{f((n=>({...n,heads_list:e})))},isIdOnly:!0}):(0,C.jsx)(Y.Z,{onClose:d,children:(0,C.jsx)("div",{className:g,children:(0,C.jsxs)(G.default,{customStyle:{paddingBottom:"1rem"},children:[(0,C.jsx)(H.Z,{selectLabel:v("applicable_for"),selectedValue:v("applicable_for_placeholder"),options:["Internal Department","Society","Transport","Library","Hostel","Miscellaneous"],onClick:e=>{"Hostel"===e?f({flow:"Hostel",flow_id:c,flow_name:"Hostel",depart_arr:[],heads_list:[]}):"Transport"===e?f({flow:"Transport",flow_id:r,flow_name:"Transport",depart_arr:[],heads_list:[]}):"Library"===e?f({flow:"Library",flow_id:s,flow_name:"Library",depart_arr:[],heads_list:[]}):"Society"===e?f({flow:"Society",flow_id:null,flow_name:"Society",depart_arr:[],heads_list:[]}):"Internal Department"===e?f({flow:"Department",flow_id:"",flow_name:"",depart_arr:[],heads_list:[]}):"Miscellaneous"===e&&f({flow:"Miscellaneous",flow_id:"",flow_name:"Miscellaneous",depart_arr:[],heads_list:[]})},isFull:!0,defalutValue:h.flow,viewAs:"NORMAL_FILTER"}),"Department"===h.flow&&(0,C.jsx)(H.Z,{selectLabel:v("select_internal_department"),selectedValue:v("select_internal_department_placeholder"),options:null!==b&&void 0!==b?b:[],onClick:e=>{f((n=>({...n,flow_id:null===e||void 0===e?void 0:e._id,flow_name:null===e||void 0===e?void 0:e.dName,depart_arr:[...new Set([...n.depart_arr,null===e||void 0===e?void 0:e._id])]})))},isFull:!0,viewAs:"NORMAL_FILTER",defalutValue:(null===(n=h.depart_arr)||void 0===n?void 0:n.length)>1?"".concat(null===(l=h.depart_arr)||void 0===l?void 0:l.length," department selected"):h.flow_name}),"Miscellaneous"===h.flow?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(I.Z,{label:"".concat(v("selected_fee_head")," : "),value:null===(a=h.heads_list)||void 0===a?void 0:a.length}),(0,C.jsx)(J.Z,{label:"select_other_fee_master",onAction:()=>x(1)})]}):null,(0,C.jsx)("button",{className:m,onClick:()=>{_(h),d()},style:{width:"100%",justifyContent:"center"},children:(0,C.jsx)("div",{children:v("select")})})]})})})})},U=e=>{var n,l,a,t;let{errorField:d,applicableFor:s,libraryId:r,transportId:c,hostelId:_,setApplicablFor:u,fid:p}=e;const{t:x}=(0,i.$G)(),[b,j]=(0,o.useState)(!1),k=(0,o.useCallback)((()=>{j((e=>!e))}),[]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:v,style:{marginTop:"1rem"},children:[(0,C.jsxs)("button",{className:m,onClick:k,style:{marginTop:"0"},children:[(0,C.jsx)("div",{children:x("account_applicable_for")}),(0,C.jsx)("img",{src:"".concat(N.J7,"/forward.svg"),alt:"next step"})]}),(null===s||void 0===s?void 0:s.flow_name)&&(0,C.jsx)("h6",{className:h,children:(null===s||void 0===s||null===(n=s.depart_arr)||void 0===n?void 0:n.length)>1?"".concat(null===s||void 0===s||null===(l=s.depart_arr)||void 0===l?void 0:l.length," department selected"):(null===s||void 0===s||null===(a=s.heads_list)||void 0===a?void 0:a.length)>1?"".concat(null===s||void 0===s||null===(t=s.heads_list)||void 0===t?void 0:t.length," Other Fee Master"):null===s||void 0===s?void 0:s.flow_name})]}),d.flow_id&&(0,C.jsxs)("p",{className:f,children:["* ",x("form_require_label")]}),b&&(0,C.jsx)(W,{fid:p,onToggle:k,libraryId:r,transportId:c,hostelId:_,setApplicablFor:u,applicableFor:s})]})},z=(0,o.memo)(U);var X=l(21625),Q=l(61055),ee=l(38986);const ne=e=>{let{onClose:n,fid:l,libraryId:t,transportId:d,hostelId:s,openAs:r,onEditAction:c,openBankMenu:_}=e;const{t:u}=(0,i.$G)(),[v]=(0,X.FL)(),[m]=(0,Z.WJ)(),[h,f]=(0,o.useState)(!1),[p,x]=(0,o.useState)(""),[b,j]=(0,o.useState)({finance_bank_name:"",finance_bank_account_number:"",finance_bank_account_name:"",finance_bank_ifsc_code:"",finance_bank_branch_address:"",finance_bank_upi_id:"",finance_bank_upi_qrcode:"",finance_bank_re_account_number:"",finance_bank_re_upi_id:""}),[k,y]=(0,o.useState)({flow:"",flow_id:"",flow_name:"",depart_arr:[],heads_list:[]}),[g,I]=(0,o.useState)("");(0,o.useEffect)((()=>{if("EDIT"===r){var e,n,l,a,i,o,t,d,s,c,u,v,m,h;j({finance_bank_name:null!==(e=null===_||void 0===_?void 0:_.finance_bank_name)&&void 0!==e?e:"",finance_bank_account_number:null!==(n=null===_||void 0===_?void 0:_.finance_bank_account_number)&&void 0!==n?n:"",finance_bank_account_name:null!==(l=null===_||void 0===_?void 0:_.finance_bank_account_name)&&void 0!==l?l:"",finance_bank_ifsc_code:null!==(a=null===_||void 0===_?void 0:_.finance_bank_ifsc_code)&&void 0!==a?a:"",finance_bank_branch_address:null!==(i=null===_||void 0===_?void 0:_.finance_bank_branch_address)&&void 0!==i?i:"",finance_bank_upi_id:null!==(o=null===_||void 0===_?void 0:_.finance_bank_upi_id)&&void 0!==o?o:"",finance_bank_upi_qrcode:null!==(t=null===_||void 0===_?void 0:_.finance_bank_upi_qrcode)&&void 0!==t?t:"",finance_bank_re_account_number:null!==(d=null===_||void 0===_?void 0:_.finance_bank_account_number)&&void 0!==d?d:"",finance_bank_re_upi_id:null!==(s=null===_||void 0===_?void 0:_.finance_bank_upi_id)&&void 0!==s?s:""});let r={flow:"",flow_id:"",flow_name:"",depart_arr:[],heads_list:[]};if((null===_||void 0===_||null===(c=_.departments)||void 0===c?void 0:c.length)>0){r.flow="Department";for(let e of null===_||void 0===_?void 0:_.departments)r.flow_name=null===e||void 0===e?void 0:e.dName,r.depart_arr.push(null===e||void 0===e?void 0:e._id)}if((null===_||void 0===_||null===(u=_.heads_list)||void 0===u?void 0:u.length)>0&&"Miscellaneous"===(null===_||void 0===_?void 0:_.bank_account_type)){r.flow="Miscellaneous",r.flow_name="Miscellaneous";for(let e of null===_||void 0===_?void 0:_.heads_list)r.heads_list.push(e)}var f,p,x;if(null!==_&&void 0!==_&&null!==(v=_.library)&&void 0!==v&&v._id)r.flow="Library",r.flow_name="Library",r.flow_id=null===_||void 0===_||null===(f=_.library)||void 0===f?void 0:f._id;if(null!==_&&void 0!==_&&null!==(m=_.hostel)&&void 0!==m&&m._id)r.flow="Hostel",r.flow_name="Hostel",r.flow_id=null===_||void 0===_||null===(p=_.hostel)||void 0===p?void 0:p._id;if(null!==_&&void 0!==_&&null!==(h=_.transport)&&void 0!==h&&h._id)r.flow="Transport",r.flow_name="Transport",r.flow_id=null===_||void 0===_||null===(x=_.transport)||void 0===x?void 0:x._id;"Society"===(null===_||void 0===_?void 0:_.bank_account_type)&&(r.flow="Society",r.flow_name="Society",r.flow_id=null),y(r)}}),[r]);const S=e=>{j((n=>({...n,[e.target.name]:e.target.value})))},w=(0,o.useCallback)((e=>{f((e=>!e));const n=new FormData;I(e.target.files[0]),n.append("file",e.target.files[0]),v({fileUpload:n}).then((e=>{f((e=>!e)),j((n=>{var l;return{...n,finance_bank_upi_qrcode:null===(l=e.data)||void 0===l?void 0:l.imageKey}}))})).catch((()=>{f((e=>!e))}))}),[]),F=(0,o.useCallback)((()=>{if("EDIT"===r){const e=le(b,k);let n=!1;for(let l in e){n=!0;break}n?x(e):c({...b,...k,depart_arr:k.depart_arr,heads_list:k.heads_list})}else{const e=le(b,k);let a=!1;for(let n in e){a=!0;break}a?x(e):(f((e=>!e)),m({fid:l,...k,bankDetails:{...b,depart_arr:k.depart_arr,heads_list:k.heads_list}}).then((()=>{n(),f((e=>!e))})).catch((()=>{f((e=>!e))})))}}),[b]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(G.default,{children:(0,C.jsxs)("div",{className:a.Z.fm_header_start_container,children:[(0,C.jsx)("img",{src:"".concat(N.J7,"/back-arrow.svg"),alt:"back arrow",title:"Add Bank",onClick:n}),(0,C.jsxs)("h6",{children:[" ",u("EDIT"===r?"update_bank_details":"add_bank_details")]})]})}),(0,C.jsx)(R.Z,{}),(0,C.jsxs)(G.default,{customStyle:{paddingTop:"0"},children:[(0,C.jsx)(z,{applicableFor:k,errorField:p,fid:l,libraryId:t,transportId:d,hostelId:s,setApplicablFor:y}),(0,C.jsx)(Q.Z,{label:u("bank_name"),placeholder:u("bank_name_placeholder"),name:"finance_bank_name",value:b.finance_bank_name,type:"text",onChange:S,errorShow:p.finance_bank_name}),(0,C.jsx)(Q.Z,{label:u("account_name"),placeholder:u("account_name_placeholder"),name:"finance_bank_account_name",value:b.finance_bank_account_name,type:"text",onChange:S,errorShow:p.finance_bank_account_name}),(0,C.jsx)(Q.Z,{label:u("account_number"),placeholder:u("account_number_placeholder"),name:"finance_bank_account_number",value:b.finance_bank_account_number,type:"tel",onChange:S,errorShow:p.finance_bank_name}),(0,C.jsx)(Q.Z,{label:u("confirm_account_number"),placeholder:u("confirm_account_number_placeholder"),name:"finance_bank_re_account_number",value:b.finance_bank_re_account_number,type:"tel",onChange:S,errorShow:p.finance_bank_re_account_number,msg:p.finance_bank_re_account_number}),(0,C.jsx)(Q.Z,{label:u("ifsc_code"),placeholder:u("ifsc_code_placeholder"),name:"finance_bank_ifsc_code",value:b.finance_bank_ifsc_code,type:"text",onChange:S,errorShow:p.finance_bank_ifsc_code}),(0,C.jsx)(Q.Z,{label:u("address_of_bank"),placeholder:u("address_of_bank_placeholder"),name:"finance_bank_branch_address",value:b.finance_bank_branch_address,type:"text",onChange:S,errorShow:p.finance_bank_branch_address}),(0,C.jsx)(Q.Z,{label:u("upi_id"),placeholder:u("upi_id_placeholder"),name:"finance_bank_upi_id",value:b.finance_bank_upi_id,type:"text",onChange:S,errorShow:p.finance_bank_upi_id}),(0,C.jsx)(Q.Z,{label:u("confirm_upi_id"),placeholder:u("finance_bank_re_upi_id"),name:"finance_bank_re_upi_id",value:b.finance_bank_re_upi_id,type:"text",onChange:S,errorShow:p.finance_bank_re_upi_id,msg:p.finance_bank_re_upi_id}),(0,C.jsx)(ee.Z,{label:u("qr_code_above_upi"),name:"finance_bank_upi_qrcode",value:null!==g&&void 0!==g&&g.name?{name:null===g||void 0===g?void 0:g.name}:"",onChange:w,errorShow:p.finance_bank_upi_qrcode}),(0,C.jsx)(J.Z,{label:"save",onAction:F})]}),h&&(0,C.jsx)(P.default,{})]})},le=(e,n)=>{var l;const a={};for(let i in e)"finance_bank_account_number"===i&&e.finance_bank_account_number!==e.finance_bank_re_account_number?a.finance_bank_re_account_number="form_account_dose_not_match_label":"finance_bank_upi_id"===i&&e.finance_bank_upi_id!==e.finance_bank_re_upi_id?a.finance_bank_re_upi_id="upi_id_dose_not_match_label":"finance_bank_upi_id"===i||"finance_bank_upi_qrcode"===i||"finance_bank_re_upi_id"===i||e[i]||(a[i]="* required");return null!==n&&void 0!==n&&n.flow_id||null!==(l=["Society","Miscellaneous"])&&void 0!==l&&l.includes(null===n||void 0===n?void 0:n.flow_name)||(a.flow_id="flow_id is required"),a};var ae=l(43504);const ie=e=>{let{totalRepay:n,collectOnline:l,dueRepay:a}=e;const{t:o}=(0,i.$G)();return(0,C.jsxs)("div",{className:p,children:[(0,C.jsxs)("div",{className:x,children:[(0,C.jsx)("h6",{children:o("total_due")}),(0,C.jsxs)("h5",{children:[o("rs_only")," ",null!==n&&void 0!==n?n:0]})]}),(0,C.jsxs)("div",{className:x,children:[(0,C.jsx)("h6",{children:o("online_fees")}),(0,C.jsxs)("h5",{children:[o("rs_only")," ",null!==l&&void 0!==l?l:0]})]}),(0,C.jsxs)("div",{className:x,children:[(0,C.jsx)("h6",{children:o("repayment_due")}),(0,C.jsxs)("h5",{children:[o("rs_only")," ",null!==a&&void 0!==a?a:0]})]})]})},oe={fontWeight:"400",fontSize:"12px"},te=e=>{var n,l,a,o,t,d;let{oneBank:s}=e;const{t:r}=(0,i.$G)();return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("section",{className:b,children:[(0,C.jsxs)("h6",{children:[r("applicable_for")," "," : "," "]}),(0,C.jsx)(I.Z,{label:"",value:null!==s&&void 0!==s&&null!==(n=s.department)&&void 0!==n&&n.dName?null===s||void 0===s||null===(l=s.department)||void 0===l?void 0:l.dName:null!==s&&void 0!==s&&s.hostel?"Hostel":null!==s&&void 0!==s&&s.library?"Library":null!==s&&void 0!==s&&s.transport?"Transport":(null===s||void 0===s||null===(a=s.departments)||void 0===a?void 0:a.length)>0?null===s||void 0===s||null===(o=s.departments)||void 0===o?void 0:o.map(((e,n)=>{var l,a;return(0,C.jsxs)("span",{children:[null!==(l=null===e||void 0===e?void 0:e.dName)&&void 0!==l?l:"",n+1===(null===s||void 0===s||null===(a=s.departments)||void 0===a?void 0:a.length)?"":", "]},null===e||void 0===e?void 0:e._id)})):null!==(t=null===s||void 0===s?void 0:s.bank_account_type)&&void 0!==t?t:"",customFormInput:oe,customFormInputLabel:{...oe,marginLeft:"-0.8rem"}})]}),(0,C.jsxs)("section",{className:b,children:[(0,C.jsx)("h6",{children:r("bank_details")}),(0,C.jsx)(I.Z,{label:"".concat(r("bank_name")," :"),value:null===s||void 0===s?void 0:s.finance_bank_name,customFormInput:oe,customFormInputLabel:oe}),(0,C.jsx)(I.Z,{label:"".concat(r("account_name")," :"),value:null===s||void 0===s?void 0:s.finance_bank_account_name,customFormInput:oe,customFormInputLabel:oe}),(0,C.jsx)(I.Z,{label:"".concat(r("account_number")," :"),value:null===s||void 0===s?void 0:s.finance_bank_account_number,customFormInput:oe,customFormInputLabel:oe}),(0,C.jsx)(I.Z,{label:"".concat(r("ifsc_code")," :"),value:null===s||void 0===s?void 0:s.finance_bank_ifsc_code,customFormInput:oe,customFormInputLabel:oe}),(0,C.jsx)(I.Z,{label:"".concat(r("address")," :"),value:null===s||void 0===s?void 0:s.finance_bank_branch_address,customFormInput:oe,customFormInputLabel:oe})]}),(0,C.jsx)("section",{className:j,children:(0,C.jsx)(I.Z,{label:"".concat(r("upi_id")," :"),value:null===s||void 0===s?void 0:s.finance_bank_upi_id,customFormInput:oe,customFormInputLabel:oe})}),(0,C.jsxs)("section",{className:k,children:[(0,C.jsxs)("div",{className:y,children:[(0,C.jsxs)("h6",{children:[r("qr_code"),":"]}),(0,C.jsx)("p",{children:null!==(d=null===s||void 0===s?void 0:s.finance_bank_upi_id)&&void 0!==d?d:""})]}),null!==s&&void 0!==s&&s.finance_bank_upi_qrcode?(0,C.jsx)("img",{src:"".concat(S.yI,"/").concat(null===s||void 0===s?void 0:s.finance_bank_upi_qrcode),alt:"qr code"}):""]})]})};var de=l(89064),se=l(99183),re=l(16925);const ce=e=>{let{onToggle:n,setBankEdit:l,openBankMenu:a,fid:t,libraryId:d,transportId:s,hostelId:r}=e;const{t:c}=(0,i.$G)(),_=(0,L.s0)(),[u,v]=(0,o.useState)(!1),[m,h]=(0,o.useState)(!1),[f,p]=(0,o.useState)(""),[x,b]=(0,o.useState)({query:""}),[j,k]=(0,o.useState)(!1),[y]=(0,Z.D4)(),[g]=(0,Z.R9)(),I=()=>{l((e=>!e)),h((e=>!e))};return(0,C.jsx)(C.Fragment,{children:j?(0,C.jsx)(Y.Z,{onClose:()=>k(!1),children:(0,C.jsxs)("div",{className:re.Z.modal_container,children:[(0,C.jsx)(G.default,{children:(0,C.jsxs)("div",{className:re.Z.modal_container_outer_header,children:[(0,C.jsx)("div",{className:re.Z.modal_container_header,children:(0,C.jsx)("h6",{children:c("are_your_sure_to_delete_bank_account")})}),(0,C.jsx)("img",{src:"".concat(N.J7,"/close.svg"),alt:"close icon",onClick:()=>k(!1)})]})}),(0,C.jsx)(R.Z,{}),(0,C.jsxs)(G.default,{customStyle:{paddingTop:"0"},children:[(0,C.jsx)(Q.Z,{label:c("type_confirm_to_continue"),placeholder:c("type_confirm_to_continue"),name:"query",value:x.query,type:"text",onChange:e=>{b((n=>({...n,[e.target.name]:e.target.value})))},errorShow:f.query}),(0,C.jsx)(J.Z,{label:"confirm",onAction:()=>{let e=(0,se.l)(x);(0,se.x)(e)?"Confirm"===x.query&&null!==a&&void 0!==a&&a._id&&(k(!1),v((e=>!e)),y(null===a||void 0===a?void 0:a._id).then((()=>{n(),v((e=>!e)),_(-1)})).catch({})):p(e)}})]})]})}):m?(0,C.jsx)(ne,{onClose:I,openAs:"EDIT",onEditAction:e=>{null!==a&&void 0!==a&&a._id&&(v((e=>!e)),h(!1),g({bid:null===a||void 0===a?void 0:a._id,bankDetails:e}).then((()=>{v((e=>!e)),n(),l((e=>!e))})).catch({}))},openBankMenu:a,fid:t,libraryId:d,transportId:s,hostelId:r}):(0,C.jsxs)(de.Z,{onClose:n,disabled:u,children:[(0,C.jsx)("h6",{onClick:I,children:c("edit")}),(0,C.jsx)("h6",{onClick:()=>k(!0),children:c("delete")})]})})};var _e=l(63162),ue=l(98967),ve=l(60924),me=l(19056),he=l(43997);const fe=e=>{let{onClose:n,bankId:l,fid:a}=e;const{t:t}=(0,i.$G)(),[d,s]=(0,o.useState)({from:"",to:"",payment_type:""}),[r,c]=(0,o.useState)(!1),[_,u]=(0,o.useState)(""),[v]=(0,Z._t)(),m=(e,n)=>{s((l=>({...l,[n]:(0,he.O_)(e)})))};return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(Y.Z,{onClose:n,children:(0,C.jsxs)("div",{className:re.Z.modal_container,children:[(0,C.jsx)(G.default,{children:(0,C.jsxs)("div",{className:re.Z.modal_container_outer_header,children:[(0,C.jsx)("div",{className:re.Z.modal_container_header,children:(0,C.jsx)("h6",{children:t("filter_daybook")})}),(0,C.jsx)("img",{src:"".concat(N.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,C.jsx)(R.Z,{}),(0,C.jsxs)(G.default,{customStyle:{paddingTop:"0"},children:[(0,C.jsx)(ve.Z,{label:t("from"),placeholder:t("please_select_from_date"),name:"from",value:d.from?(0,he.jh)(d.from):"",onChange:e=>m(e,"from"),errorShow:_.from}),(0,C.jsx)(ve.Z,{label:t("to_only"),placeholder:t("please_select_to_date"),name:"to",value:d.to?(0,he.jh)(d.to):"",onChange:e=>m(e,"to"),errorShow:_.to}),(0,C.jsx)(me.Z,{selectLabel:t("payment_type"),selectedValue:t("please_select_payment_type"),options:["Payment Gateway / Online","By Cash","Cash / Bank","Total"],onClick:e=>{s((n=>({...n,payment_type:"Total"===e?"BOTH":"Cash / Bank"===e?"CASH_BANK":e})))},defalutValue:"BOTH"===d.payment_type?"Total":"CASH_BANK"===d.payment_type?"Cash / Bank":d.payment_type}),(0,C.jsx)(J.Z,{label:"filter",onAction:()=>{let e=(0,se.l)(d,[]);(0,se.x)(e)&&a&&l?(c((e=>!e)),v({fid:a,bank:l,from:d.from,to:d.to,payment_type:d.payment_type}).then((()=>{c((e=>!e)),n()})).catch({})):u(e)}})]}),r&&(0,C.jsx)(P.default,{})]})})})};var pe=l(82824),xe=l(72888),be=l(97892),je=l.n(be);const ke=e=>{var n;let{onEditAction:l,onClose:a,xlsxId:t}=e;const{t:d}=(0,i.$G)(),[s,r]=(0,o.useState)(null!==(n=null===t||void 0===t?void 0:t.excel_file_name)&&void 0!==n?n:""),[c,_]=(0,o.useState)("");(0,o.useEffect)((()=>{var e;r(null!==(e=null===t||void 0===t?void 0:t.excel_file_name)&&void 0!==e?e:"")}),[null===t||void 0===t?void 0:t.excel_file_name]);return(0,C.jsx)(Y.Z,{onClose:a,children:(0,C.jsxs)("div",{className:re.Z.modal_container,children:[(0,C.jsx)(G.default,{children:(0,C.jsxs)("div",{className:re.Z.modal_container_outer_header,children:[(0,C.jsx)("div",{className:re.Z.modal_container_header,children:(0,C.jsx)("h6",{children:d("update_excel_name")})}),(0,C.jsx)("img",{src:"".concat(N.J7,"/close.svg"),alt:"close icon",onClick:a})]})}),(0,C.jsx)(R.Z,{}),(0,C.jsxs)(G.default,{customStyle:{paddingTop:"0"},children:[(0,C.jsx)(Q.Z,{label:d("excel_name"),placeholder:d("excel_name_plcaeholder"),name:"excelName",value:s,type:"text",onChange:e=>{r(e.target.value)},errorShow:c.excelName}),(0,C.jsx)(J.Z,{label:"update",onAction:()=>{s?l(s):_({excelName:"excelName is required"})}})]})]})})},ye=e=>{let{onClose:n,xlsxId:l,bankId:a,onRefetch:t}=e;const{t:d}=(0,i.$G)(),[s,r]=(0,o.useState)(!1),[c,_]=(0,o.useState)(!1),[u]=(0,Z.JW)(),[v]=(0,Z.TM)(),m=()=>{_((e=>!e))};return c?(0,C.jsx)(ke,{onClose:m,onEditAction:e=>{a&&null!==l&&void 0!==l&&l._id&&(m(),r((e=>!e)),v({baid:a,bodyParameter:{dbid:null===l||void 0===l?void 0:l._id,excel_file_name:e}}).then((()=>{t(),r((e=>!e)),n()})).catch({}))},xlsxId:l}):(0,C.jsxs)(de.Z,{onClose:n,disabled:s,children:[(0,C.jsx)("h6",{onClick:m,children:d("edit")}),(0,C.jsx)("h6",{onClick:()=>{a&&null!==l&&void 0!==l&&l._id&&(r((e=>!e)),u({baid:a,bodyParameter:{dbid:null===l||void 0===l?void 0:l._id}}).then((()=>{t(),r((e=>!e)),n()})).catch({}))},children:d("delete")})]})},ge=e=>{var n,l,a;let{excel:i,bankId:t,onRefetch:d}=e;const[s,r]=(0,o.useState)("");return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("a",{className:xe.Z.export_card,title:"Download File",href:"".concat(S.LS,"/").concat(null===i||void 0===i?void 0:i.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,C.jsx)("img",{src:"".concat(N.J7,"/xsxl.svg"),className:xe.Z.export_card_image,alt:"excel icon"}),(0,C.jsxs)("section",{className:xe.Z.export_card_text,children:[(0,C.jsx)("h6",{children:null!==(n=null===i||void 0===i?void 0:i.excel_file_name)&&void 0!==n?n:""}),(0,C.jsxs)("div",{className:xe.Z.export_card_date,children:[(0,C.jsx)("h6",{children:null!==(l=null===i||void 0===i||null===(a=i.bank)||void 0===a?void 0:a.finance_bank_account_name)&&void 0!==l?l:""}),(0,C.jsxs)("h6",{children:[je()(null===i||void 0===i?void 0:i.created_at).format("DD MMM YYYY"),","," ",(0,pe.J)(null===i||void 0===i?void 0:i.created_at,"LT")]})]}),(0,C.jsxs)("div",{className:xe.Z.export_card_date,children:[(0,C.jsxs)("h6",{children:["From : ",null===i||void 0===i?void 0:i.from," To ",null===i||void 0===i?void 0:i.to]}),(0,C.jsx)("h6",{children:"BOTH"===(null===i||void 0===i?void 0:i.payment_type)?"Total":"CASH_BANK"===(null===i||void 0===i?void 0:i.payment_type)?"Cash / Bank":null===i||void 0===i?void 0:i.payment_type})]})]}),(0,C.jsx)("img",{src:"".concat(N.J7,"/menu.svg"),alt:"menu icon",onClick:e=>{e.stopPropogation(),r(i)},title:"Menu",className:xe.Z.export_card_menu})]},null===i||void 0===i?void 0:i._id),s&&(0,C.jsx)(ye,{onClose:()=>{r("")},xlsxId:s,bankId:t,onRefetch:d})]})},Ze=e=>{var n,l,t;let{fid:d,bankId:s}=e;const{t:r}=(0,i.$G)(),[c,_]=(0,o.useState)(!1),[u,v]=(0,o.useState)(""),[m,h]=(0,o.useState)(1),[f,p]=(0,o.useState)(!0),[x,b]=(0,T.YD)({skip:u}),{financeBankDaybookGeneratList:j,financeBankDaybookGeneratListLoading:k,financeBankDaybookGeneratListRefetch:y}=(0,Z.sA)({data:{baid:s,page:m,limit:10,search:u},skip:!s});(0,o.useEffect)((()=>{b&&f&&h((e=>e+1))}),[b,f]),(0,o.useEffect)((()=>{var e;if(null!==j&&void 0!==j&&null!==(e=j.list)&&void 0!==e&&e.length){var n;let e=(0,M.f)(null===j||void 0===j||null===(n=j.list)||void 0===n?void 0:n.length);p((()=>e))}}),[null===j||void 0===j?void 0:j.list]);const g=(0,o.useCallback)((0,$.J)((e=>{h((()=>1)),v(e)}),1500),[]),I=()=>{_((e=>!e))},S=()=>{h((()=>1)),v(""),y()};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(G.default,{customStyle:{padding:"0"},children:(0,C.jsxs)("div",{className:a.Z.fm_search_full,children:[(0,C.jsx)("section",{className:a.Z.fm_search_full_container,children:(0,C.jsxs)("div",{className:a.Z.fm_search_full_container_inner,children:[(0,C.jsx)("img",{className:a.Z.fm_search_full_icon,alt:"search icon",src:"".concat(N.dB,"/navbar-search.svg")}),(0,C.jsx)("input",{type:"text",placeholder:r("search"),onChange:e=>{e.target.value?g(e.target.value):(h((()=>1)),v(""))}})]})}),(0,C.jsx)(J.Z,{label:"filter",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:I})]})}),(0,C.jsx)(R.Z,{}),null===j||void 0===j||null===(n=j.list)||void 0===n?void 0:n.map(((e,n)=>{var l;return(null===j||void 0===j||null===(l=j.list)||void 0===l?void 0:l.length)===n+1?(0,C.jsx)("div",{ref:x,children:(0,C.jsx)(ge,{excel:e,bankId:s,onRefetch:S})},null===e||void 0===e?void 0:e._id):(0,C.jsx)(ge,{excel:e,bankId:s,onRefetch:S},null===e||void 0===e?void 0:e._id)})),k?u?(0,C.jsx)(P.default,{}):(0,C.jsx)(B.Z,{}):u?0===(null===j||void 0===j||null===(l=j.list)||void 0===l?void 0:l.length)&&(0,C.jsx)(A.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No daybook found related this search."}):0===(null===j||void 0===j||null===(t=j.list)||void 0===t?void 0:t.length)&&(0,C.jsx)(A.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No daybook added."}),c&&(0,C.jsx)(fe,{onClose:I,bankId:s,fid:d})]})},Ie=e=>{let{onClose:n,bankId:l,fid:a}=e;const{t:t}=(0,i.$G)(),[d,s]=(0,o.useState)({from:"",to:"",payment_type:""}),[r,c]=(0,o.useState)(!1),[_,u]=(0,o.useState)(""),[v]=(0,Z.OR)(),m=(e,n)=>{s((l=>({...l,[n]:(0,he.O_)(e)})))};return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(Y.Z,{onClose:n,children:(0,C.jsxs)("div",{className:re.Z.modal_container,children:[(0,C.jsx)(G.default,{children:(0,C.jsxs)("div",{className:re.Z.modal_container_outer_header,children:[(0,C.jsx)("div",{className:re.Z.modal_container_header,children:(0,C.jsx)("h6",{children:t("filter_daybook")})}),(0,C.jsx)("img",{src:"".concat(N.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,C.jsx)(R.Z,{}),(0,C.jsxs)(G.default,{customStyle:{paddingTop:"0"},children:[(0,C.jsx)(ve.Z,{label:t("from"),placeholder:t("please_select_from_date"),name:"from",value:d.from?(0,he.jh)(d.from):"",onChange:e=>m(e,"from"),errorShow:_.from}),(0,C.jsx)(ve.Z,{label:t("to_only"),placeholder:t("please_select_to_date"),name:"to",value:d.to?(0,he.jh)(d.to):"",onChange:e=>m(e,"to"),errorShow:_.to}),(0,C.jsx)(me.Z,{selectLabel:t("payment_type"),selectedValue:t("please_select_payment_type"),options:["Payment Gateway - PG","By Cash"],onClick:e=>{s((n=>({...n,payment_type:e})))},defalutValue:d.payment_type,errorShow:_.payment_type}),(0,C.jsx)(J.Z,{label:"filter",onAction:()=>{let e=(0,se.l)(d,[]);(0,se.x)(e)&&a&&l?(c((e=>!e)),v({fid:a,bodyParameter:{bank:l,from:d.from,to:d.to,payment_type:d.payment_type}}).then((()=>{c((e=>!e)),n()})).catch({})):u(e)}})]}),r&&(0,C.jsx)(P.default,{})]})})})},Se=e=>{let{onClose:n,xlsxId:l,bankId:a,onRefetch:t}=e;const{t:d}=(0,i.$G)(),[s,r]=(0,o.useState)(!1),[c,_]=(0,o.useState)(!1),[u]=(0,Z.JW)(),[v]=(0,Z.TM)(),m=()=>{_((e=>!e))};return c?(0,C.jsx)(ke,{onClose:m,onEditAction:e=>{a&&null!==l&&void 0!==l&&l._id&&(m(),r((e=>!e)),v({baid:a,bodyParameter:{dbid:null===l||void 0===l?void 0:l._id,excel_file_name:e}}).then((()=>{t(),r((e=>!e)),n()})).catch({}))},xlsxId:l}):(0,C.jsxs)(de.Z,{onClose:n,disabled:s,children:[(0,C.jsx)("h6",{onClick:m,children:d("edit")}),(0,C.jsx)("h6",{onClick:()=>{a&&null!==l&&void 0!==l&&l._id&&(r((e=>!e)),u({baid:a,bodyParameter:{dbid:null===l||void 0===l?void 0:l._id}}).then((()=>{t(),r((e=>!e)),n()})).catch({}))},children:d("delete")})]})},Ne=e=>{var n,l,a;let{excel:i,bankId:t,onRefetch:d}=e;const[s,r]=(0,o.useState)("");return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("a",{className:xe.Z.export_card,title:"Download File",href:"".concat(S.LS,"/").concat(null===i||void 0===i?void 0:i.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,C.jsx)("img",{src:"".concat(N.J7,"/xsxl.svg"),className:xe.Z.export_card_image,alt:"excel icon"}),(0,C.jsxs)("section",{className:xe.Z.export_card_text,children:[(0,C.jsx)("h6",{children:null!==(n=null===i||void 0===i?void 0:i.excel_file_name)&&void 0!==n?n:""}),(0,C.jsxs)("div",{className:xe.Z.export_card_date,children:[(0,C.jsx)("h6",{children:null!==(l=null===i||void 0===i||null===(a=i.bank)||void 0===a?void 0:a.finance_bank_account_name)&&void 0!==l?l:""}),(0,C.jsxs)("h6",{children:[je()(null===i||void 0===i?void 0:i.created_at).format("DD MMM YYYY"),","," ",(0,pe.J)(null===i||void 0===i?void 0:i.created_at,"LT")]})]}),(0,C.jsxs)("div",{className:xe.Z.export_card_date,children:[(0,C.jsxs)("h6",{children:["From : ",null===i||void 0===i?void 0:i.from," To ",null===i||void 0===i?void 0:i.to]}),(0,C.jsxs)("h6",{children:[" ",null===i||void 0===i?void 0:i.payment_type]})]})]}),(0,C.jsx)("img",{src:"".concat(N.J7,"/menu.svg"),alt:"menu icon",onClick:e=>{e.preventDefault(),r(i)},title:"Menu",className:xe.Z.export_card_menu})]},null===i||void 0===i?void 0:i._id),s&&(0,C.jsx)(Se,{onClose:()=>{r("")},xlsxId:s,bankId:t,onRefetch:d})]})},Ce=e=>{var n,l,t;let{fid:d,bankId:s}=e;const{t:r}=(0,i.$G)(),[c,_]=(0,o.useState)(!1),[u,v]=(0,o.useState)(""),[m,h]=(0,o.useState)(1),[f,p]=(0,o.useState)(!0),[x,b]=(0,T.YD)({skip:u}),{financeBankDaybookGeneratList:j,financeBankDaybookGeneratListLoading:k,financeBankDaybookGeneratListRefetch:y}=(0,Z.sA)({data:{baid:s,page:m,limit:10,search:u,type:"Normal Other Fees"},skip:!s});(0,o.useEffect)((()=>{b&&f&&h((e=>e+1))}),[b,f]),(0,o.useEffect)((()=>{var e;if(null!==j&&void 0!==j&&null!==(e=j.list)&&void 0!==e&&e.length){var n;let e=(0,M.f)(null===j||void 0===j||null===(n=j.list)||void 0===n?void 0:n.length);p((()=>e))}}),[null===j||void 0===j?void 0:j.list]);const g=(0,o.useCallback)((0,$.J)((e=>{h((()=>1)),v(e)}),1500),[]),I=()=>{_((e=>!e))},S=()=>{h((()=>1)),v(""),y()};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(G.default,{customStyle:{padding:"0"},children:(0,C.jsxs)("div",{className:a.Z.fm_search_full,children:[(0,C.jsx)("section",{className:a.Z.fm_search_full_container,children:(0,C.jsxs)("div",{className:a.Z.fm_search_full_container_inner,children:[(0,C.jsx)("img",{className:a.Z.fm_search_full_icon,alt:"search icon",src:"".concat(N.dB,"/navbar-search.svg")}),(0,C.jsx)("input",{type:"text",placeholder:r("search"),onChange:e=>{e.target.value?g(e.target.value):(h((()=>1)),v(""))}})]})}),(0,C.jsx)(J.Z,{label:"filter",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:I})]})}),(0,C.jsx)(R.Z,{}),null===j||void 0===j||null===(n=j.list)||void 0===n?void 0:n.map(((e,n)=>{var l;return(null===j||void 0===j||null===(l=j.list)||void 0===l?void 0:l.length)===n+1?(0,C.jsx)("div",{ref:x,children:(0,C.jsx)(Ne,{excel:e,bankId:s,onRefetch:S})},null===e||void 0===e?void 0:e._id):(0,C.jsx)(Ne,{excel:e,bankId:s,onRefetch:S},null===e||void 0===e?void 0:e._id)})),k?u?(0,C.jsx)(P.default,{}):(0,C.jsx)(B.Z,{}):u?0===(null===j||void 0===j||null===(l=j.list)||void 0===l?void 0:l.length)&&(0,C.jsx)(A.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No daybook found related this search."}):0===(null===j||void 0===j||null===(t=j.list)||void 0===t?void 0:t.length)&&(0,C.jsx)(A.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No daybook added."}),c&&(0,C.jsx)(Ie,{onClose:I,bankId:s,fid:d})]})},we=e=>{var n,l,t;let{fid:d,libraryId:s,transportId:r,hostelId:c}=e;const{t:_}=(0,i.$G)(),u=(0,L.TH)(),v=(0,L.UO)(),[m]=(0,ae.lr)(),h=(0,L.s0)(),[f,p]=(0,o.useState)(!1),[x,b]=(0,o.useState)(!1),{financeOneBankDetail:j}=(0,Z.zO)({bid:u.state.bankId,skip:!u.state.bankId}),k=(0,o.useCallback)((()=>{p((e=>!e))}),[]),y=(0,o.useCallback)((()=>{var e;let n="";n="Institute"===(null===(e=u.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(v.username,"/institute/member/finance"):"/q/".concat(v.username,"/member/staff/finance"),h(n,{state:u.state})}),[h,u.state,v.username]);return(0,C.jsxs)(C.Fragment,{children:[!x&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(G.default,{children:[(0,C.jsxs)("div",{className:a.Z.fm_header_container,children:[(0,C.jsxs)("div",{className:a.Z.fm_header_start_container,style:{gap:"0.2rem"},children:[(0,C.jsx)("img",{alt:"search icon",src:"".concat(N.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:y}),(0,C.jsx)("h6",{children:_("bank_details")})]}),(0,C.jsx)("img",{src:"".concat(N.J7,"/edit.svg"),alt:"back arrow",title:"Edit Bank",onClick:k})]}),(0,C.jsx)(ue.Z,{children:Fe.map((e=>{var n,l;return(0,C.jsx)(_e.Z,{tab:e,isLink:!0,isActive:null===(n=e.groupIs)||void 0===n?void 0:n.includes(m.get("d")),parentState:u.state,url:"Institute"===(null===(l=u.state)||void 0===l?void 0:l.urlOffSet)?"/q/".concat(v.username,"/institute/member/finance?type=bank&n=detail").concat(e.urlKey):"/q/".concat(v.username,"/member/staff/finance?type=bank&n=detail").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,C.jsx)(R.Z,{customStyleBorder:{marginTop:"0"}})]}),(0,C.jsx)(G.default,{children:"info"===m.get("d")?(0,C.jsx)(te,{oneBank:null===j||void 0===j?void 0:j.one_bank}):"fund"===m.get("d")?(0,C.jsx)(ie,{totalRepay:null===j||void 0===j||null===(n=j.one_bank)||void 0===n?void 0:n.total_repay,collectOnline:null===j||void 0===j||null===(l=j.one_bank)||void 0===l?void 0:l.collect_online,dueRepay:null===j||void 0===j||null===(t=j.one_bank)||void 0===t?void 0:t.due_repay}):"miscellaneous"===m.get("d")?(0,C.jsx)(Ce,{fid:d,bankId:u.state.bankId}):(0,C.jsx)(Ze,{fid:d,bankId:u.state.bankId})})]}),f&&(0,C.jsx)(ce,{onToggle:k,setBankEdit:b,openBankMenu:null===j||void 0===j?void 0:j.one_bank,fid:d,libraryId:s,transportId:r,hostelId:c})]})},Fe=[{label:"admission_daybook",id:"admission",urlKey:"",groupIs:["",null]},{label:"miscellaneous_daybook",id:"miscellaneous",urlKey:"&d=miscellaneous",groupIs:["miscellaneous"]},{label:"bank_info",id:"info",urlKey:"&d=info",groupIs:["info"]},{label:"fund",id:"fund",urlKey:"&d=fund",groupIs:["fund"]}];var Le=l(63687);const De=e=>{let{fid:n,libraryId:l,transportId:t,hostelId:d}=e;const{t:s}=(0,i.$G)(),[r]=(0,ae.lr)(),[c,_]=(0,o.useState)(!1),u=(0,o.useCallback)((()=>{_((e=>!e))}),[]);return(0,C.jsx)(Le.default,{children:c?(0,C.jsx)(ne,{fid:n,libraryId:l,transportId:t,hostelId:d,onClose:u}):r.get("n")?(0,C.jsx)(we,{fid:n,libraryId:l,transportId:t,hostelId:d}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(G.default,{children:(0,C.jsxs)("div",{className:a.Z.fm_header_container,children:[(0,C.jsx)("h6",{children:s("bank_account_detail")}),(0,C.jsx)("img",{src:"".concat(N.J7,"/plus-blue.svg"),alt:"back arrow",title:"Add Bank",onClick:u})]})}),(0,C.jsx)(R.Z,{}),(0,C.jsx)(G.default,{children:(0,C.jsx)(q,{fid:n})})]})})},Be=(0,o.memo)(De)},82824:(e,n,l)=>{"use strict";l.d(n,{J:()=>d,Z:()=>s});var a=l(99893),i=l.n(a),o=l(97892),t=l.n(o);const d=(e,n)=>(t().extend(i()),t()(e).format(n)),s=(e,n,l)=>{var a;return t()()[e]("".concat(null===(a=t()(l))||void 0===a?void 0:a.format("YYYY-MM-DD")),n)}},99893:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,l,a){var i=l.prototype,o=i.format;a.en.formats=e,i.format=function(n){void 0===n&&(n="YYYY-MM-DDTHH:mm:ssZ");var l=this.$locale().formats,a=function(n,l){return n.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(n,a,i){var o=i&&i.toUpperCase();return a||l[i]||e[i]||l[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,n,l){return n||l.slice(1)}))}))}(n,void 0===l?{}:l);return o.call(this,a)}}}()},72888:(e,n,l)=>{"use strict";l.d(n,{Z:()=>a});const a={export_card:"FinanceExport_export_card__9AYtI",export_card_image:"FinanceExport_export_card_image__-1r1l",export_card_text:"FinanceExport_export_card_text__ZrB00",export_card_date:"FinanceExport_export_card_date__-dTOE",export_card_menu:"FinanceExport_export_card_menu__-xEgr"}}}]);
//# sourceMappingURL=99635.70dda402.chunk.js.map