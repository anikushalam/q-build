"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[2873],{52873:function(e,n,i){i.r(n),i.d(n,{default:function(){return D}});var t=i(29439),l=i(63687),c=i(39230),o=i(93405),a=i(90904),s=i(21348),r=i(98684),d=i(72791),_=i(23441),u=i(91427),x=i(57588),h=i(84975),m=i(1095),f=i(18596),v=i(97892),j=i.n(v),Z=i(82824),g=i(93638),p=i(61055),I=i(47334),N=i(48293),C=i(80184),S=function(e){var n,i=e.onEditAction,l=e.onClose,o=e.xlsxId,_=(0,c.$G)().t,u=(0,d.useState)(null!==(n=null===o||void 0===o?void 0:o.excel_file_name)&&void 0!==n?n:""),x=(0,t.Z)(u,2),h=x[0],m=x[1],f=(0,d.useState)(""),v=(0,t.Z)(f,2),j=v[0],Z=v[1];(0,d.useEffect)((function(){var e;m(null!==(e=null===o||void 0===o?void 0:o.excel_file_name)&&void 0!==e?e:"")}),[null===o||void 0===o?void 0:o.excel_file_name]);return(0,C.jsx)(N.Z,{onClose:l,children:(0,C.jsxs)("div",{className:I.Z.modal_container,children:[(0,C.jsx)(s.Z,{children:(0,C.jsxs)("div",{className:I.Z.modal_container_outer_header,children:[(0,C.jsx)("div",{className:I.Z.modal_container_header,children:(0,C.jsx)("h6",{children:_("update_excel_name")})}),(0,C.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:l})]})}),(0,C.jsx)(a.Z,{}),(0,C.jsxs)(s.Z,{customStyle:{paddingTop:"0"},children:[(0,C.jsx)(p.Z,{label:_("excel_name"),placeholder:_("excel_name_plcaeholder"),name:"excelName",value:h,type:"text",onChange:function(e){m(e.target.value)},errorShow:j.excelName}),(0,C.jsx)(g.Z,{label:"update",onAction:function(){h?i(h):Z({excelName:"excelName is required"})}})]})]})})},k=i(89064),b=function(e){var n=e.onClose,i=e.xlsxId,l=e.instituteId,o=(0,c.$G)().t,a=(0,d.useState)(!1),s=(0,t.Z)(a,2),r=s[0],_=s[1],u=(0,d.useState)(!1),x=(0,t.Z)(u,2),m=x[0],f=x[1],v=(0,h.Xu)(),j=(0,t.Z)(v,1)[0],Z=(0,h.C3)(),g=(0,t.Z)(Z,1)[0],p=function(){f((function(e){return!e}))};return m?(0,C.jsx)(S,{onClose:p,onEditAction:function(e){l&&null!==i&&void 0!==i&&i._id&&(_((function(e){return!e})),g({id:l,xlsxId:null===i||void 0===i?void 0:i._id,excelUpdate:{excel_file_name:e}}).then((function(){_((function(e){return!e})),n()})).catch({}))},xlsxId:i}):(0,C.jsxs)(k.Z,{onClose:n,disabled:r,children:[(0,C.jsx)("h6",{onClick:p,children:o("edit")}),(0,C.jsx)("h6",{onClick:function(){l&&null!==i&&void 0!==i&&i._id&&(_((function(e){return!e})),j({id:l,xlsxId:null===i||void 0===i?void 0:i._id}).then((function(){n(),_((function(e){return!e}))})).catch({}))},children:o("delete")})]})},T=function(e){var n,i=e.excel,l=e.instituteId,c=(0,d.useState)(""),o=(0,t.Z)(c,2),a=o[0],s=o[1];return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("a",{className:f.Z.export_card,title:"Download File",href:"".concat(m.LS,"/").concat(null===i||void 0===i?void 0:i.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,C.jsx)("img",{src:"".concat(r.J7,"/xsxl.svg"),className:f.Z.export_card_image,alt:"excel icon"}),(0,C.jsxs)("section",{className:f.Z.export_card_text,children:[(0,C.jsx)("h6",{children:null!==(n=null===i||void 0===i?void 0:i.excel_file_name)&&void 0!==n?n:""}),(0,C.jsxs)("div",{className:f.Z.export_card_date,children:[(0,C.jsx)("h6",{children:j()(null===i||void 0===i?void 0:i.created_at).format("DD MMM YYYY")}),(0,C.jsx)("h6",{children:(0,Z.J)(null===i||void 0===i?void 0:i.created_at,"LT")})]})]}),(0,C.jsx)("img",{src:"".concat(r.J7,"/menu.svg"),alt:"menu icon",onClick:function(e){e.preventDefault(),s(i)},title:"Menu",className:f.Z.export_card_menu})]},null===i||void 0===i?void 0:i._id),a&&(0,C.jsx)(b,{onClose:function(){s("")},xlsxId:a,instituteId:l})]})},A=i(1669),w=i(93245),E=i(17978),M=i(12096),J=i(55336),y=i(2651),D=function(e){var n,i,m,f,v=e.instituteId,j=e.hostelId,Z=e.fid,g=(0,c.$G)().t,p=(0,d.useState)(""),I=(0,t.Z)(p,2),N=I[0],S=I[1],k=(0,d.useState)(1),b=(0,t.Z)(k,2),D=b[0],L=b[1],O=(0,d.useState)(!0),Y=(0,t.Z)(O,2),R=Y[0],B=Y[1],F=(0,_.YD)({skip:N}),H=(0,t.Z)(F,2),q=H[0],G=H[1],U=(0,d.useState)(""),X=(0,t.Z)(U,2),$=X[0],K=X[1],z=(0,h.ik)({data:{id:v,page:D,limit:10,search:N},skip:!v}),P=z.financeAllExcel,Q=z.financeAllExcelLoading,V=z.financeAllExcelRefetch;(0,d.useEffect)((function(){G&&R&&L((function(e){return e+1}))}),[G,R]),(0,d.useEffect)((function(){var e;if(null!==P&&void 0!==P&&null!==(e=P.list)&&void 0!==e&&e.length){var n,i=(0,u.f)(null===P||void 0===P||null===(n=P.list)||void 0===n?void 0:n.length);B((function(){return i}))}}),[null===P||void 0===P||null===(n=P.list)||void 0===n?void 0:n.length]);var W=(0,d.useCallback)((0,x.J)((function(e){L((function(){return 1})),S(e)}),500),[]),ee=function(){K("")};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(l.Z,{children:[(0,C.jsx)(s.Z,{children:(0,C.jsxs)("div",{className:o.Z.fm_header_container,children:[(0,C.jsx)("h6",{children:g("data_export")}),(0,C.jsxs)("div",{className:o.Z.fm_both_filter,children:[(0,C.jsxs)("div",{onClick:function(){return K("HOSTEL")},className:o.Z.fm_both_filter_with_name,children:[(0,C.jsx)("img",{src:"".concat(r.J7,"/filter.svg"),alt:"filter icon"}),(0,C.jsx)("h6",{children:g("hostel_fee_receipt_filter")})]}),(0,C.jsxs)("div",{onClick:function(){return K("ADMISSION")},className:o.Z.fm_both_filter_with_name,children:[(0,C.jsx)("img",{src:"".concat(r.J7,"/filter.svg"),alt:"filter icon"}),(0,C.jsx)("h6",{children:g("fee_receipt_filter")})]}),(0,C.jsxs)("div",{onClick:function(){return K("TRANSACTION")},className:o.Z.fm_both_filter_with_name,children:[(0,C.jsx)("img",{src:"".concat(r.J7,"/filter.svg"),alt:"filter icon"}),(0,C.jsx)("h6",{children:g("transaction_filter")})]})]})]})}),(0,C.jsx)(a.Z,{}),(0,C.jsxs)(s.Z,{customStyle:{paddingTop:"0"},children:[(0,C.jsx)("div",{className:o.Z.fm_search_full,children:(0,C.jsx)("section",{className:o.Z.fm_search_full_container,children:(0,C.jsxs)("div",{className:o.Z.fm_search_full_container_inner,children:[(0,C.jsx)("img",{className:o.Z.fm_search_full_icon,alt:"search icon",src:"".concat(r.dB,"/navbar-search.svg")}),(0,C.jsx)("input",{type:"text",placeholder:g("search"),onChange:function(e){e.target.value?W(e.target.value):(L((function(){return 1})),S(""))}})]})})}),null===P||void 0===P||null===(i=P.list)||void 0===i?void 0:i.map((function(e,n){var i;return(null===P||void 0===P||null===(i=P.list)||void 0===i?void 0:i.length)===n+1?(0,C.jsx)("div",{ref:q,children:(0,C.jsx)(T,{excel:e,instituteId:v})},null===e||void 0===e?void 0:e._id):(0,C.jsx)(T,{excel:e,instituteId:v},null===e||void 0===e?void 0:e._id)})),Q?N?(0,C.jsx)(J.Z,{}):(0,C.jsx)(A.Z,{}):N?!(null!==P&&void 0!==P&&null!==(m=P.list)&&void 0!==m&&m.length)&&(0,C.jsx)(y.Z,{title:"No excel fuond related this search.",customStyleContainer:{marginTop:"1.5rem"}}):!(null!==P&&void 0!==P&&null!==(f=P.list)&&void 0!==f&&f.length)&&(0,C.jsx)(y.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No excel added."})]})]}),"HOSTEL"===$?(0,C.jsx)(M.Z,{onClose:ee,financeId:Z,hostelId:j}):"ADMISSION"===$?(0,C.jsx)(E.Z,{onClose:ee,financeId:Z,instituteId:v}):"TRANSACTION"===$?(0,C.jsx)(w.Z,{instituteId:v,onClose:ee,viewAs:"EXPORT",onRefetch:V}):null]})}},47334:function(e,n){n.Z={right:"Income_right__0wUUc",rightHead:"Income_rightHead__D2Mxh",rightBody:"Income_rightBody__49F1m",card_container:"Income_card_container__SLQif",invoice_number:"Income_invoice_number__MYawd",sidebarheader:"Income_sidebarheader__tpmpC",student_message_container:"Income_student_message_container__K8cXM",text:"Income_text__m0yK+",rcv:"Income_rcv__j-f3R",income_detail:"Income_income_detail__9CpSg",detailTop:"Income_detailTop__Z-ZzL",detailTopMid:"Income_detailTopMid__+7JtJ",modal_container:"Income_modal_container__li0dw",modal_container_outer_header:"Income_modal_container_outer_header__Y6g6B",modal_container_header:"Income_modal_container_header__bh4sB"}}}]);
//# sourceMappingURL=2873.a26e9c0e.chunk.js.map