{"version":3,"file":"static/js/6097.75f218ca.chunk.js","mappings":"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","sources":["webpack://mithkal-qviple/./src/MembersTab/staff/Mainbody/SwitchAccount/SwitchAccount.module.css?5dce","MembersTab/staff/Mainbody/SwitchAccount/SwitchModal.jsx","MembersTab/staff/Mainbody/SwitchAccount/SwitchAccount.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"complaints\":\"SwitchAccount_complaints__FOCV9\",\"swichModal\":\"SwitchAccount_swichModal__nF+az\",\"swichModalTop\":\"SwitchAccount_swichModalTop__04Wup\",\"swichModalBody\":\"SwitchAccount_swichModalBody__UXEej\",\"swichModalItem\":\"SwitchAccount_swichModalItem__2hXtK\",\"swichModalText\":\"SwitchAccount_swichModalText__kn6r2\",\"search_container\":\"SwitchAccount_search_container__U4FLB\",\"search_container_text\":\"SwitchAccount_search_container_text__ifPi5\",\"search_container_input\":\"SwitchAccount_search_container_input__Jrtnb\",\"searchIcon\":\"SwitchAccount_searchIcon__wfOTB\"};","import React, { useEffect } from \"react\";\nimport style from \"./SwitchAccount.module.css\";\nimport { Dialog } from \"@mui/material\";\nimport { useSwitchUserAccountQuery } from \"../../../../services/switchAccount/switchAccountApi\";\nimport { imageShowUrl } from \"../../../../services/BaseUrl\";\nimport { useTranslation } from \"react-i18next\";\nimport { useSelector } from \"react-redux\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { useGetActivatedMemberAccount } from \"../../../../hooks/member_tab/department-api\";\nimport { useState } from \"react\";\nimport QLoader from \"../../../../Loader/QLoader\";\nimport QvipleLoading from \"../../../../Loader/QvipleLoading\";\n\nfunction Item({ data }) {\n  const navigate = useNavigate();\n  const params = useParams();\n  const id = useSelector((state) => state.idChange.id);\n  const [selectedAccount, setSelectedAccount] = useState(\"\");\n  const [disabled, setDisabled] = useState(false);\n  const { getActivatedMemberAccountRefetch } = useGetActivatedMemberAccount({\n    data: {\n      id: id,\n      active_member_role: selectedAccount,\n    },\n    skip: !selectedAccount,\n  });\n  const onSwitchAccount = (val) => {\n    setSelectedAccount(val);\n  };\n  useEffect(() => {\n    if (selectedAccount) {\n      setDisabled((pre) => !pre);\n      getActivatedMemberAccountRefetch();\n      setTimeout(() => {\n        navigate(`/q/${params.username}/memberstab`, {\n          state: {\n            selectedAccount: selectedAccount,\n          },\n        });\n        setDisabled((pre) => !pre);\n      }, 1000);\n    }\n  }, [selectedAccount, getActivatedMemberAccountRefetch]);\n  return (\n    <>\n      {data?.studentFirstName ? (\n        <div\n          className={style.swichModalItem}\n          onClick={() => onSwitchAccount(data?._id)}\n        >\n          <img\n            id=\"profileImg\"\n            alt=\"\"\n            src={\n              data?.institute?.insProfilePhoto\n                ? `${imageShowUrl}/${data?.institute?.insProfilePhoto}`\n                : data?.student_unit?.hostel_unit_photo\n                ? `${imageShowUrl}/${data?.student_unit?.hostel_unit_photo}`\n                : data?.studentProfilePhoto\n                ? `${imageShowUrl}/${data?.studentProfilePhoto}`\n                : \"/images/ins_default_profile.svg\"\n            }\n          />\n          <div className={style.swichModalText}>\n            <h6>\n              {data?.institute?.insName ??\n                `${\n                  data?.student_unit?.hostel_unit_name\n                    ? `${data?.student_unit?.hostel_unit_name} (Hostel)`\n                    : \"\"\n                }` ??\n                \"\"}\n            </h6>\n            <p>\n              {data?.studentFirstName} {data?.studentMiddleName}{\" \"}\n              {data?.studentLastName} {`(student)`}\n            </p>\n          </div>\n        </div>\n      ) : data?.staffFirstName ? (\n        <div\n          className={style.swichModalItem}\n          onClick={() => onSwitchAccount(data?._id)}\n        >\n          <img\n            id=\"profileImg\"\n            alt=\"\"\n            src={\n              data?.institute?.insProfilePhoto\n                ? `${imageShowUrl}/${data?.institute?.insProfilePhoto}`\n                : data?.staffProfilePhoto\n                ? `${imageShowUrl}/${data?.staffProfilePhoto}`\n                : \"/images/ins_default_profile.svg\"\n            }\n          />\n          <div className={style.swichModalText}>\n            <h6>{data?.institute?.insName}</h6>\n            <p>\n              {data?.staffFirstName} {data?.staffMiddleName}{\" \"}\n              {data?.staffLastName} {`(staff)`}\n            </p>\n          </div>\n        </div>\n      ) : (\n        \"\"\n      )}\n      {disabled && <QLoader />}\n    </>\n  );\n}\n\nconst validateSearchCharacter = (account, event) => {\n  let accountFullName = account?.studentFirstName\n    ? `${account?.studentFirstName} ${\n        account?.studentMiddleName ? `${account?.studentMiddleName} ` : \"\"\n      }${account?.studentLastName}`\n    : `${account?.staffFirstName} ${\n        account?.staffMiddleName ? `${account?.staffMiddleName} ` : \"\"\n      }${account?.staffLastName}`;\n\n  if (\n    accountFullName?.toLocaleLowerCase()?.includes(event?.toLocaleLowerCase())\n  ) {\n    return account;\n  } else {\n    return null;\n  }\n};\nfunction SwitchModal() {\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n  const id = useSelector((state) => state.idChange.id);\n  const [showingDataLoading, setShowingDataLoading] = useState(true);\n  const [allAccount, setAllAccount] = useState([]);\n  const { data, refetch: switchAccountRefetch } = useSwitchUserAccountQuery(\n    id,\n    { skip: !id }\n  );\n\n  useEffect(() => {\n    if (id) {\n      setShowingDataLoading(true);\n      switchAccountRefetch();\n    }\n  }, [switchAccountRefetch, id]);\n\n  useEffect(() => {\n    if (data?.role_query) {\n      setAllAccount(data?.role_query);\n      setShowingDataLoading(false);\n    } else if (data?.role_query?.length === 0) setShowingDataLoading(false);\n    else {\n    }\n  }, [data?.role_query]);\n\n  const onSearchEvent = (e) => {\n    if (e.target.value) {\n      const filterAccount = data?.role_query?.filter((account) =>\n        validateSearchCharacter(account, e.target.value)\n      );\n      setAllAccount(filterAccount);\n    } else {\n      setAllAccount(data?.role_query);\n    }\n  };\n\n  //   `/q/${username}/memberstab`\n  // navigate(`/q/${res?.data?.user.username}/feed`);\n\n  return (\n    <Dialog open={true} onClose={() => navigate(-1)}>\n      <div className={style.swichModal}>\n        <div className={style.swichModalTop} onClick={() => navigate(-1)}>\n          {t(\"switch_account\")}\n        </div>\n        <div className={style.swichModalBody}>\n          <div\n            className={style.search_container}\n            style={{\n              marginBottom: \"0.6rem\",\n            }}\n          >\n            <div className={style.search_container_text}>\n              <img\n                className={style.searchIcon}\n                alt=\"search icon\"\n                src=\"/images/search-dash-icon.svg\"\n              />\n              <input\n                type=\"text\"\n                placeholder={t(\"search-label\")}\n                onChange={onSearchEvent}\n                autoFocus={true}\n                style={{\n                  border: \"0.029vw solid rgba(0, 0, 0, 0.15)\",\n                  width: \"370px\",\n                  marginInline: \"0.5rem\",\n                }}\n              />\n            </div>\n          </div>\n\n          {allAccount?.map((item, index) => (\n            <Item data={item} key={index} />\n          ))}\n          {showingDataLoading && <QvipleLoading />}\n        </div>\n      </div>\n    </Dialog>\n  );\n}\n\nexport default SwitchModal;\n","import React from \"react\";\nimport style from \"./SwitchAccount.module.css\";\nimport SwitchModal from \"./SwitchModal\";\n\nfunction SwitchAccount() {\n  return (\n    <div className={style.complaints}>\n      <SwitchModal />\n    </div>\n  );\n}\n\nexport default SwitchAccount;\n"],"names":["Item","_ref","_data$institute","_data$institute2","_data$student_unit","_data$student_unit2","_ref2","_data$institute$insNa","_data$institute3","_data$student_unit3","_data$student_unit4","_data$institute4","_data$institute5","_data$institute6","data","navigate","useNavigate","params","useParams","id","useSelector","state","idChange","_useState","useState","_useState2","_slicedToArray","selectedAccount","setSelectedAccount","_useState3","_useState4","disabled","setDisabled","getActivatedMemberAccountRefetch","useGetActivatedMemberAccount","active_member_role","skip","onSwitchAccount","val","useEffect","pre","setTimeout","concat","username","_jsxs","_Fragment","children","studentFirstName","className","style","swichModalItem","onClick","_id","_jsx","alt","src","institute","insProfilePhoto","imageShowUrl","student_unit","hostel_unit_photo","studentProfilePhoto","swichModalText","insName","hostel_unit_name","studentMiddleName","studentLastName","staffFirstName","staffProfilePhoto","staffMiddleName","staffLastName","QLoader","t","useTranslation","_useState5","_useState6","showingDataLoading","setShowingDataLoading","_useState7","_useState8","allAccount","setAllAccount","_useSwitchUserAccount","useSwitchUserAccountQuery","switchAccountRefetch","refetch","_data$role_query","role_query","length","Dialog","open","onClose","swichModal","swichModalTop","swichModalBody","search_container","marginBottom","search_container_text","searchIcon","type","placeholder","onChange","e","target","value","_data$role_query2","filterAccount","filter","account","event","_accountFullName$toLo","accountFullName","toLocaleLowerCase","includes","validateSearchCharacter","autoFocus","border","width","marginInline","map","item","index","QvipleLoading","complaints","SwitchModal"],"sourceRoot":""}