{"version":3,"file":"static/js/26436.868a5bdf.chunk.js","mappings":"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","sources":["optimized/Ui/Input/FormTextarea.jsx","optimized/UserStaffMember/LibraryManager/BookReview/AddBookReview.jsx","optimized/Validation/functions/checkingRequiredField.js","webpack://mithkal-qviple/./src/optimized/UserStaffMember/FinanceManager/Income/Income.module.css?46f8"],"sourcesContent":["import { useTranslation } from \"react-i18next\";\nimport style from \"../UiInput.module.css\";\n\nconst getRow = (value) => {\n  return value ? value?.split(\"\\n\")?.length : 2;\n};\nconst FormTextarea = ({\n  label,\n  name,\n  type,\n  value,\n  onChange,\n  placeholder,\n  errorShow,\n  disabled,\n  customFormInputContainer,\n  customFormInputLabel,\n}) => {\n  const { t } = useTranslation();\n\n  return (\n    <div\n      className={style.form_input_container}\n      style={customFormInputContainer}\n    >\n      {label && (\n        <label\n          className={style.form_input_label}\n          htmlFor={name}\n          style={customFormInputLabel}\n        >\n          {label}\n          {errorShow && (\n            <span className={style.form_input_label_error}>\n              * {t(\"form_require_label\")}\n            </span>\n          )}\n        </label>\n      )}\n\n      <textarea\n        className={style.form_textarea_input}\n        type={type}\n        value={value}\n        onChange={onChange}\n        name={name}\n        placeholder={placeholder}\n        rows={getRow(value)}\n        disabled={disabled}\n        style={{\n          \"--textarea-height\": `${getRow(value) * 20}px`,\n        }}\n      />\n    </div>\n  );\n};\n\nexport default FormTextarea;\n","import { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useLibraryUpdateBookReview } from \"../../../Hooks/ApiHooks/LibraryManager/library-manager-api\";\nimport style from \"../../FinanceManager/Income/Income.module.css\";\nimport Modal from \"../../../Ui/Modal/Modal\";\nimport {\n  assestsFeedbackUrl,\n  assestsUserFinanceUrl,\n} from \"../../../Services/UrlConfig/AssestsBaseUrl\";\nimport UserMemberContentWrapper from \"../../../Ui/UserMember/UserMemberContentWrapper\";\nimport BorderBottom from \"../../../Ui/Border/BorderBottom\";\nimport FormTextarea from \"../../../Ui/Input/FormTextarea\";\nimport CreateButton from \"../../../Ui/Button/CreateButton\";\nimport QvipleLoader from \"../../../Loader/QvipleLoader\";\nimport {\n  existingRequiredField,\n  requiredField,\n} from \"../../../Validation/functions/checkingRequiredField\";\n\nconst AddBookReview = ({ onClose, onRefetch, bid, sid }) => {\n  const { t } = useTranslation();\n  const [state, setState] = useState({\n    description: \"\",\n    rating: 0,\n    title: \"\",\n  });\n  const [errorField, setErrorField] = useState(\"\");\n  const [disabled, setDisabled] = useState(false);\n  const [rating, setRating] = useState([\n    `${assestsFeedbackUrl}/grey-star.svg`,\n    `${assestsFeedbackUrl}/grey-star.svg`,\n    `${assestsFeedbackUrl}/grey-star.svg`,\n    `${assestsFeedbackUrl}/grey-star.svg`,\n    `${assestsFeedbackUrl}/grey-star.svg`,\n  ]);\n\n  const [libraryUpdateBookReview] = useLibraryUpdateBookReview();\n\n  const onInputChange = (e) => {\n    setState((prev) => ({\n      ...prev,\n      [e.target.name]: e.target.value,\n    }));\n  };\n  const onRating = (index) => {\n    let inp = [];\n    for (let i = 0; i < 5; i++) {\n      if (i <= index) inp.push(`${assestsFeedbackUrl}/yellow-star.svg`);\n      else inp.push(`${assestsFeedbackUrl}/grey-star.svg`);\n    }\n    setState((prev) => ({\n      ...prev,\n      rating: index + 1,\n    }));\n    setRating(() => inp);\n  };\n\n  const onReviewUpdate = () => {\n    let validation = requiredField(state, [\"rating\", \"title\"]);\n    if (existingRequiredField(validation) && sid && bid) {\n      setDisabled((pre) => !pre);\n      libraryUpdateBookReview({\n        bid: bid,\n        reviewData: {\n          ...state,\n          sid: sid,\n        },\n      })\n        .then(() => {\n          onRefetch();\n          setDisabled((pre) => !pre);\n          onClose();\n        })\n        .catch({});\n    } else {\n      setErrorField(validation);\n    }\n  };\n\n  return (\n    <>\n      <Modal onClose={onClose}>\n        <div className={style.modal_container}>\n          <UserMemberContentWrapper>\n            <div className={style.modal_container_outer_header}>\n              <div className={style.modal_container_header}>\n                <h6> {t(\"book_review\")}</h6>\n              </div>\n              <img\n                src={`${assestsUserFinanceUrl}/close.svg`}\n                alt=\"close icon\"\n                onClick={onClose}\n              />\n            </div>\n          </UserMemberContentWrapper>\n          <BorderBottom />\n          <UserMemberContentWrapper\n            customStyle={{\n              paddingTop: \"0\",\n            }}\n          >\n            <FormTextarea\n              label={t(\"description\")}\n              placeholder={t(\"description_placeholder\")}\n              name={\"description\"}\n              value={state.description}\n              type=\"text\"\n              onChange={onInputChange}\n              errorShow={errorField[\"description\"]}\n            />\n            <div\n              className={style.gsf_star_container}\n              style={{\n                marginTop: \"1.4rem\",\n              }}\n            >\n              {rating?.map((url, index) => (\n                <img\n                  key={index}\n                  src={url}\n                  alt=\"star icon\"\n                  onClick={() => onRating(index)}\n                />\n              ))}\n            </div>\n            <CreateButton label={\"review\"} onAction={onReviewUpdate} />\n          </UserMemberContentWrapper>\n        </div>\n      </Modal>\n      {disabled && <QvipleLoader />}\n    </>\n  );\n};\n\nexport default AddBookReview;\n","export const requiredField = (data, optional = []) => {\n  let error = {};\n  for (let obj in data) {\n    if (optional?.includes(obj)) {\n    } else {\n      if (!data[obj]) error[obj] = \"* required\";\n    }\n  }\n  return error;\n};\n\nexport const existingRequiredField = (required = {}) => {\n  for (let req in required) {\n    return false;\n  }\n  return true;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"right\":\"Income_right__XnzYj\",\"rightHead\":\"Income_rightHead__1rLc6\",\"rightBody\":\"Income_rightBody__fGEC5\",\"income_detail\":\"Income_income_detail__IWoJa\",\"detailTop\":\"Income_detailTop__4JXuu\",\"detailTopMid\":\"Income_detailTopMid__yc2yv\",\"modal_container\":\"Income_modal_container__HiGr+\",\"modal_container_outer_header\":\"Income_modal_container_outer_header__F9c7X\",\"modal_container_header\":\"Income_modal_container_header__td-Fb\",\"card_container\":\"Income_card_container__ewKhQ\",\"card_container_image\":\"Income_card_container_image__5XloP\",\"card_container_inner\":\"Income_card_container_inner__JBmxr\",\"admission_fees_row\":\"Income_admission_fees_row__MPJCs\",\"close_icon\":\"Income_close_icon__Ozq4u\",\"student_message_container\":\"Income_student_message_container__8KnPc\",\"student_message_container_inner\":\"Income_student_message_container_inner__mRYpD\",\"usm_institute_container\":\"Income_usm_institute_container__4LkYt\",\"usm_institute\":\"Income_usm_institute__hlzdF\",\"date_select\":\"Income_date_select__D3VkU\",\"gsf_star_container\":\"Income_gsf_star_container__7gdUs\",\"afsi_container\":\"Income_afsi_container__7u06w\"};"],"names":["getRow","value","_value$split","split","length","_ref","label","name","type","onChange","placeholder","errorShow","disabled","customFormInputContainer","customFormInputLabel","t","useTranslation","_jsxs","className","style","form_input_container","children","form_input_label","htmlFor","form_input_label_error","_jsx","form_textarea_input","rows","concat","onClose","onRefetch","bid","sid","state","setState","useState","description","rating","title","errorField","setErrorField","setDisabled","setRating","assestsFeedbackUrl","libraryUpdateBookReview","useLibraryUpdateBookReview","_Fragment","Modal","modal_container","UserMemberContentWrapper","modal_container_outer_header","modal_container_header","src","assestsUserFinanceUrl","alt","onClick","BorderBottom","customStyle","paddingTop","FormTextarea","e","prev","target","gsf_star_container","marginTop","map","url","index","inp","i","push","onRating","CreateButton","onAction","onReviewUpdate","validation","requiredField","existingRequiredField","pre","reviewData","then","catch","QvipleLoader","data","optional","arguments","undefined","error","obj","includes","required","req"],"sourceRoot":""}