"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[81876],{81876:function(e,t,n){n.r(t);var i=n(1413),s=n(29439),a=n(72791),u=n(95048),r=n(35395),d=n(6245),o=n(49384),l=n(39230),c=n(94804),v=n(51561),g=n(16871),m=n(80184),h=a.lazy((function(){return Promise.resolve().then(n.bind(n,6181))}));t.default=function(e){var t,n=e.student,f=e.viewAs,_=e.instituteId,b=e.status,p=(0,l.$G)().t,j=(0,u.v9)((function(e){return e.idChange.id})),k=(0,a.useState)(!1),x=(0,s.Z)(k,2),Z=x[0],w=x[1],N=(0,a.useState)(!1),S=(0,s.Z)(N,2),C=S[0],y=S[1],D=(0,g.s0)(),I=(0,g.UO)(),E=(0,a.useState)({number:"",studentCertificateNo:"",leaving_date:"",bookNo:"",studentUidaiNumber:"",studentPreviousSchool:null!==(t=null===n||void 0===n?void 0:n.studentPreviousSchool)&&void 0!==t?t:"",studentLeavingBehaviour:"",studentLeavingStudy:"",studentLeavingReason:"",studentRemark:"",instituteJoinDate:"",instituteLeavingDate:"",leaving_degree:"",leaving_since_date:"",leaving_course_duration:"",elective_subject_one:"",elective_subject_second:"",leaving_project_work:"",leaving_guide_name:""}),R=(0,s.Z)(E,2),q=R[0],A=R[1],B=(0,a.useState)({msg:"",run:!1}),L=(0,s.Z)(B,2),P=L[0],G=L[1],O=(0,d.vB)(),U=(0,s.Z)(O,1)[0],z=(0,d.A5)({id:_||j,skip:"DESIGNATION_SIDE"===f?!_:!j}),F=z.getEditable,H=z.getEditableRefetch;(0,a.useEffect)((function(){_&&H()}),[j,_,H]);return(0,m.jsxs)("div",{className:c.Z.complaintDetails,children:[(0,m.jsxs)("div",{className:c.Z.detailsHeader,children:["transfer"===b?(0,m.jsx)("p",{children:p("transfer_certificate")}):(0,m.jsx)("p",{children:p("leaving")}),(0,m.jsx)("img",{src:"/images/menu-dots-dark-icon.svg",alt:"",onClick:function(){return w(!0)}})]}),(0,m.jsxs)("div",{className:c.Z.detailsBody,children:[(0,m.jsx)("div",{className:c.Z.gr,children:(0,m.jsx)("input",{type:"tel",placeholder:p("enter_gr"),onChange:function(e){return A((0,i.Z)((0,i.Z)({},q),{},{number:e.target.value}))},required:!0})}),""!==(null===q||void 0===q?void 0:q.number)&&(0,m.jsxs)("button",{type:"submit",disabled:C,className:c.Z.getBtn,onClick:function(){y((function(e){return!e})),U({id:_||j,gr:q.number,leavingFeedback:q}).then((function(e){y((function(e){return!e})),D("/q/".concat(I.username,"/student/certificate/form"),{state:{student:e.data.student,download:e.data.download,instituteId:_,is_leaving:b}})})).catch((function(){G({msg:"something went wrong",run:!0})}))},children:[(0,m.jsx)("p",{children:p("cer_preview")}),C&&(0,m.jsx)(o.Z,{})]})]}),Z&&(0,m.jsx)(r.Z,{children:(0,m.jsx)(h,{hideModal:function(e){return w(e)},addDisplay:Z,editableData:null===F||void 0===F?void 0:F.detail,viewAs:f,instituteId:_,onRefetch:H})}),(0,m.jsx)(v.Ch,{msg:P.msg,run:P.run,setRun:function(){return G({msg:"",run:!1})},postiton:"bottom",type:"error"})]})}}}]);
//# sourceMappingURL=81876.d245372a.chunk.js.map