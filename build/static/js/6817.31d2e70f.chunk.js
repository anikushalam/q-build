"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[6817],{10515:function(i,e,t){t.d(e,{Z:function(){return y}});var n=t(1413),o=t(93433),l=t(37762),a=t(29439),d=t(72791),c=t(36665),s=t(83401),r=t(39230),u=t(98094),v=t(61292),p=t(80184),f=function(i){var e=i.topic,t=i.topicId,n=(0,r.$G)().t;return(0,p.jsxs)("div",{className:s.Z.academic_card_container,children:[(0,p.jsxs)("div",{className:s.Z.academic_card_top,children:[(0,p.jsx)("img",{src:"/images/member_tab/subject/subject-topic-icon.svg",alt:"topic icon"}),(0,p.jsx)("h6",{children:n("selected_topics")})]}),null===e||void 0===e?void 0:e.map((function(i){return(0,p.jsx)(v.Z,{topic:i,topicId:t,isView:"SAVE_RECORD"},null===i||void 0===i?void 0:i._id)}))]})},_=t(72952),m=[{name:"tab_lecture",id:0,key:"Lecture"},{name:"tab_practical",id:1,key:"Practical"},{name:"tab_tutorial",id:2,key:"Tutorial"}],h=function(i){var e=i.topic,t=i.state,c=i.setState,u=i.isEdit,v=i.topicId,h=(0,r.$G)().t,j=(0,d.useState)([]),x=(0,a.Z)(j,2),g=x[0],Z=x[1];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:s.Z.record_tab_container,children:null===m||void 0===m?void 0:m.map((function(i){return(0,p.jsx)("div",{className:t.rec_status===(null===i||void 0===i?void 0:i.key)?"".concat(s.Z.record_tab," ").concat(s.Z.record_tab_active):s.Z.record_tab,onClick:function(){return e=null===i||void 0===i?void 0:i.key,void c((function(i){return(0,n.Z)((0,n.Z)({},i),{},{rec_status:e})}));var e},children:(0,p.jsx)("h6",{children:h(null===i||void 0===i?void 0:i.name)})},null===i||void 0===i?void 0:i.id)}))}),(0,p.jsx)(f,{topic:e,topicId:v}),(0,p.jsx)(_.Z,{labelText:h("additional_info_optional"),placeholder:h("additional_info_optional_placeholder"),name:"additiona_info",value:t.updateDescription,type:"text",onChange:function(i){return c((function(e){return(0,n.Z)((0,n.Z)({},e),{},{updateDescription:i.target.value})}))},customStyleContainer:{width:"100%"}}),u?null:(0,p.jsxs)("div",{className:s.Z.aditional_info_images,children:[null===g||void 0===g?void 0:g.map((function(i,e){return(0,p.jsx)("img",{src:i,alt:"uploaded avatar"},e)})),(0,p.jsx)("label",{htmlFor:"upload",children:(0,p.jsx)("img",{src:"/images/member_tab/subject/subject-camera-icon.svg",alt:"camera icon",style:{cursor:"pointer"}})})]}),(0,p.jsx)("input",{multiple:!0,type:"file",name:"upload",id:"upload",style:{display:"none"},onChange:function(i){var e;if(null!==(e=i.target.files)&&void 0!==e&&e.length){var t,a=[],d=(0,l.Z)(i.target.files);try{for(d.s();!(t=d.n()).done;){var s=t.value;a.push(URL.createObjectURL(s))}}catch(r){d.e(r)}finally{d.f()}Z(a),c((function(e){return(0,n.Z)((0,n.Z)({},e),{},{files:[].concat((0,o.Z)(e.files),(0,o.Z)(i.target.files))})}))}},accept:"image/gif, image/jpeg, image/png, image/*"})]})},j=t(52068),x=t(98734),g=t(40444),Z=t(60233),y=function(i){var e=i.onClose,t=i.sid,v=i.onRefetch,f=i.dailyMenu,_=(0,r.$G)().t,m=(0,d.useState)(2),y=(0,a.Z)(m,2),b=y[0],N=y[1],D=(0,d.useState)(!1),M=(0,a.Z)(D,2),C=M[0],k=M[1],T=(0,d.useState)({updateDescription:"",rec_status:"Lecture",files:[],date:""}),w=(0,a.Z)(T,2),I=w[0],S=w[1],E=(0,d.useState)([]),R=(0,a.Z)(E,2),F=R[0],H=R[1],U=(0,d.useState)([]),L=(0,a.Z)(U,2),P=L[0],V=L[1],A=(0,g.s2)(),B=(0,a.Z)(A,1)[0],G=(0,g.yz)(),O=(0,a.Z)(G,1)[0];(0,d.useEffect)((function(){if(null!==f&&void 0!==f&&f._id){var i,e,t,n=[],o=[],a=(0,l.Z)(null===f||void 0===f?void 0:f.daily_topic);try{for(a.s();!(t=a.n()).done;){var d,c=t.value;n.push({topicId:null===c||void 0===c||null===(d=c.topic)||void 0===d?void 0:d._id,current_status:null===c||void 0===c?void 0:c.current_status}),o.push(null===c||void 0===c?void 0:c.topic)}}catch(s){a.e(s)}finally{a.f()}S({updateDescription:null===f||void 0===f?void 0:f.updateDescription,rec_status:null===f||void 0===f||null===(i=f.daily_topic)||void 0===i||null===(e=i[0])||void 0===e?void 0:e.status,files:[]}),H((function(){return n})),V((function(){return o}))}}),[f]);var $=function(){2===b?e():N(1===b?0:2)};return(0,p.jsxs)(c.Z,{onClose:$,children:[2===b?(0,p.jsx)(Z.Z,{datePickerPosition:{position:"rlative",top:"-5rem",left:"-10rem",borderRadius:"0.375rem",paddingBottom:"0"},range:!1,onClose:$,dateInput:I.date,setDateInput:function(i){var e=null===i||void 0===i?void 0:i.split("/"),t="".concat(e[2],"-").concat(e[1],"-").concat(e[0]);S((function(i){return(0,n.Z)((0,n.Z)({},i),{},{date:new Date(t)})})),N(0)},isClose:!0}):(0,p.jsxs)("div",{className:s.Z.add_academic_record,children:[(0,p.jsxs)("div",{className:s.Z.add_academic_record_title,children:[(0,p.jsxs)("div",{className:s.Z.add_academic_record_text,children:[(0,p.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:$,alt:"back icon",style:{cursor:"pointer"}}),(0,p.jsx)("h6",{children:_(0===b?"select_topic":"save_record")})]}),0===b?(0,p.jsx)("button",{onClick:function(){(null===F||void 0===F?void 0:F.length)>0&&N(1)},children:_("next")}):(0,p.jsx)("button",{onClick:function(){if((null===F||void 0===F?void 0:F.length)>0&&t)if(k((function(i){return!i})),null!==f&&void 0!==f&&f._id)O({sid:t,did:null===f||void 0===f?void 0:f._id,dailyUpdate:{arr:F,rec_status:I.rec_status,updateDescription:I.updateDescription}}).then((function(){v(),e(),k((function(i){return!i}))})).catch({});else{var i=new FormData;i.append("date",I.date),i.append("updateDescription",I.updateDescription),i.append("arr",JSON.stringify(F)),i.append("rec_status",I.rec_status);var n,o=(0,l.Z)(I.files);try{for(o.s();!(n=o.n()).done;){var a=n.value;i.append("file",a)}}catch(d){o.e(d)}finally{o.f()}B({sid:t,addDailyUpdate:i}).then((function(){v(),e(),k((function(i){return!i}))})).catch({})}},children:_("save")})]}),(0,p.jsx)(u.Z,{customStyle:{width:"100%"}}),0===b?(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(j.Z,{sid:t,isView:"SUBJECT_TEACHER",onGrabChapterId:function(i,e){(null===F||void 0===F?void 0:F.find((function(e){return(null===e||void 0===e?void 0:e.topicId)===(null===i||void 0===i?void 0:i._id)})))?(H((function(e){return null===e||void 0===e?void 0:e.filter((function(e){return(null===e||void 0===e?void 0:e.topicId)!==(null===i||void 0===i?void 0:i._id)}))})),V((function(e){return null===e||void 0===e?void 0:e.filter((function(e){return(null===e||void 0===e?void 0:e._id)!==(null===i||void 0===i?void 0:i._id)}))}))):(H((function(t){return[].concat((0,o.Z)(t),[{topicId:null===i||void 0===i?void 0:i._id,current_status:e}])})),V((function(e){return[].concat((0,o.Z)(e),[i])})))},topicId:F})}):(0,p.jsx)(h,{topic:P,setState:S,state:I,isEdit:null===f||void 0===f?void 0:f._id,topicId:F})]}),C&&(0,p.jsx)(x.Z,{})]})}},99532:function(i,e,t){t.d(e,{Z:function(){return _}});var n=t(29439),o=t(72791),l=t(83401),a=t(72426),d=t.n(a),c=t(39230),s=t(69721),r=t(10307),u=t(80184),v=function(i){var e,t,n,o,a,v,p,f=i.isView,_=i.updateDescription,m=i.upadateImage,h=i.createdAt,j=i.subject,x=(0,c.$G)().t;return(0,u.jsxs)("div",{className:l.Z.aditional_info_container,children:["STUDENT"===f?(0,u.jsxs)("div",{className:l.Z.aditional_info_dates,children:[(0,u.jsx)("h5",{children:null!==(e=null===j||void 0===j?void 0:j.subjectName)&&void 0!==e?e:""}),(0,u.jsx)("h6",{children:"".concat(null!==(t=null===j||void 0===j||null===(n=j.subjectTeacherName)||void 0===n?void 0:n.staffFirstName)&&void 0!==t?t:""," ").concat(null!==(o=null===j||void 0===j||null===(a=j.subjectTeacherName)||void 0===a?void 0:a.staffMiddleName)&&void 0!==o?o:""," ").concat(null!==(v=null===j||void 0===j||null===(p=j.subjectTeacherName)||void 0===p?void 0:p.staffLastName)&&void 0!==v?v:"")})]}):null,_||(null===m||void 0===m?void 0:m.length)>0?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h6",{children:x("additional_info")}),(0,u.jsx)("p",{children:_}),(null===m||void 0===m?void 0:m.length)>0?(0,u.jsx)("div",{className:l.Z.aditional_info_images,children:null===m||void 0===m?void 0:m.map((function(i){return(0,r.Y)(null===i||void 0===i?void 0:i.documentKey)?(0,u.jsx)("a",{title:"view File",href:"".concat(s.r3,"/").concat(null===i||void 0===i?void 0:i.documentKey),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,u.jsx)("img",{src:"".concat(s.yI,"/").concat(null===i||void 0===i?void 0:i.documentKey),alt:"files"},null===i||void 0===i?void 0:i.documentKey)}):null}))}):null]}):null,(0,u.jsxs)("div",{className:l.Z.aditional_info_dates,children:[(0,u.jsx)("p",{children:d()(h).format("DD MMM yyyy")}),(0,u.jsx)("p",{children:d()(h).format("LT")})]})]})},p=t(61292),f=t(10515),_=function(i){var e,t=i.daily,a=i.sid,s=i.onParentRefetch,r=i.isView,_=(0,c.$G)().t,m=(0,o.useState)(""),h=(0,n.Z)(m,2),j=h[0],x=h[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:l.Z.academic_card_container,children:[(0,u.jsxs)("div",{className:l.Z.academic_card_top,style:{justifyContent:"space-between"},children:[(0,u.jsxs)("div",{className:l.Z.academic_card_top_text,children:[(0,u.jsx)("img",{src:"/images/member_tab/subject/subject-topic-icon.svg",alt:"topic icon"}),(0,u.jsxs)("h6",{children:[d()(null===t||void 0===t?void 0:t.date).format("Do MMMM, yyyy"),": Topics Covered"]})]}),"STUDENT"===r?null:(0,u.jsxs)("h6",{onClick:function(){return x(t)},children:["(",_("edit_"),")"]})]}),null===t||void 0===t||null===(e=t.daily_topic)||void 0===e?void 0:e.map((function(i){return(0,u.jsx)(p.Z,{topic:null===i||void 0===i?void 0:i.topic,topicType:null===i||void 0===i?void 0:i.status,topicCurrentStatus:null===i||void 0===i?void 0:i.current_status,isView:"DAILY"},null===i||void 0===i?void 0:i._id)})),(0,u.jsx)(v,{updateDescription:null===t||void 0===t?void 0:t.updateDescription,upadateImage:null===t||void 0===t?void 0:t.upadateImage,createdAt:null===t||void 0===t?void 0:t.createdAt,isView:r,subject:null===t||void 0===t?void 0:t.subject})]}),j&&(0,u.jsx)(f.Z,{onClose:function(){return x("")},sid:a,onRefetch:s,dailyMenu:j})]})}},53373:function(i,e,t){t(72791);var n=t(44312),o=t(5574),l=t(80184);e.Z=function(i){var e=i.open,t=i.setOpen,a=i.modalTitle,d=i.buttonText,c=i.onButtonClick,s=i.button,r=i.children;return(0,l.jsx)(o.Z,{open:e,onClose:function(){return t(!1)},children:(0,l.jsxs)("div",{className:n.Z.DModal,children:[(0,l.jsxs)("div",{className:n.Z.title,children:[(0,l.jsx)("p",{className:n.Z.titleHead,children:a}),(0,l.jsx)("img",{src:"/images/close-post-icon.svg",onClick:function(i){t(!1)},alt:"not found"})]}),r,"no"===s?"":(0,l.jsx)("div",{className:n.Z.btn,onClick:c,children:d})]})})}},10307:function(i,e,t){t.d(e,{Y:function(){return o}});var n=[".jpg",".jpeg",".jpe",".pjpeg",".pjp",".apng",".jif",".jfif",".jfi",".png",".gif",".webp",".tiff",".tif",".psd",".heif",".heic",".svg",".svgz",".ai",".eps",".avif"],o=function(i){for(var e=!1,t=0,o=n;t<o.length;t++){var l=o[t];if(null!==i&&void 0!==i&&i.includes(l)){e=!0;break}}return e}},44312:function(i,e){e.Z={DModal:"Modal_DModal__BqbPT",title:"Modal_title__xq5oH",titleHead:"Modal_titleHead__6Ng2O",itemHeading:"Modal_itemHeading__YxMC8",item:"Modal_item__Z58db",select:"Modal_select__B-8eS",tooltip:"Modal_tooltip__P8Pii",btn:"Modal_btn__fZTDi",profileToolTip:"Modal_profileToolTip__kdJ88",triangle:"Modal_triangle__7zen6",triangleDisplay:"Modal_triangleDisplay__RyQUZ",profilelist:"Modal_profilelist__yhHmN",input:"Modal_input__fBQe1",select_dropdown:"Modal_select_dropdown__eJbnl"}}}]);
//# sourceMappingURL=6817.31d2e70f.chunk.js.map