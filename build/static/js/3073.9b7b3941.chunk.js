"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[3073],{46876:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var n=s(72791),a=s(23441),i=s(95048),r=s(12923),o=s(763),c=s(69721),l=s(52124),u=s(5574),d=s(39230),f=s(80184);const h=window.innerHeight,y=e=>{let{onClose:t,title:s,headSelect:y,assignHead:v,disabledId:g,instituteId:m,viewAs:p,isMultiSelect:_,selectList:S,onMultiSelect:A,onDone:q}=e;const{t:x}=(0,d.$G)(),[j,P]=(0,n.useState)(1),[N,M]=(0,n.useState)(!0),[k,b]=(0,a.YD)(),[O,C]=(0,n.useState)(""),[R,U]=n.useState([]),w=(0,i.v9)((e=>e.idChange)),{assignSearchStaff:I,assignSearchStaffRefetch:Q}=(0,r.vI)({skip:"ADMISSION_ADMIN"===p?!m:!(null!==w&&void 0!==w&&w.id),search:{search:O,page:j,id:"ADMISSION_ADMIN"===p?m:null===w||void 0===w?void 0:w.id,limit:10}});n.useEffect((()=>{null!==w&&void 0!==w&&w.id&&Q()}),[null===w||void 0===w?void 0:w.id,Q,j]),(0,n.useEffect)((()=>{b&&N&&P((e=>e+1))}),[b,N]),n.useEffect((()=>{null!==I&&void 0!==I&&I.staff&&U(O?null===I||void 0===I?void 0:I.staff:e=>(e=>{for(let n=0;n<(null===e||void 0===e?void 0:e.length);n++)for(let a=n+1;a<(null===e||void 0===e?void 0:e.length);a++){var t,s;(null===(t=e[n])||void 0===t?void 0:t._id)===(null===(s=e[a])||void 0===s?void 0:s._id)&&(null===e||void 0===e||e.splice(a,1))}return e})([...e,...null===I||void 0===I?void 0:I.staff])),10===(null===I||void 0===I?void 0:I.staff.length)?M(!0):M(!1)}),[null===I||void 0===I?void 0:I.staff]),(0,n.useEffect)((()=>{O&&D()}),[O]);const D=()=>{Q()},L=(0,n.useCallback)((0,o.debounce)((e=>C(e)),500),[]),G=e=>{g===(null===e||void 0===e?void 0:e._id)||(_?A(e):(y(e),"ADMISSION_ADMIN"===p||t()))};return(0,f.jsx)(u.Z,{open:v,onClose:t,children:(0,f.jsxs)("div",{style:{backgroundColor:"#FAFAFA",width:"35rem",height:"".concat(h-20,"px"),overflowX:"hidden"},children:[(0,f.jsxs)("div",{className:l.Z.assign_title,style:{width:"100%"},children:[(0,f.jsx)("h5",{children:s}),_?(0,f.jsxs)("div",{className:l.Z.is_mulitselect_container,children:[(0,f.jsx)("h6",{style:{cursor:"pointer"},onClick:q,children:x("select")}),(0,f.jsx)("img",{src:"/images/close-post-icon.svg",onClick:t,alt:"staff assign pop close icon"})]}):(0,f.jsx)("img",{src:"/images/close-post-icon.svg",onClick:t,alt:"staff assign pop close icon"})]}),(0,f.jsxs)("div",{className:l.Z.assign_search_container,children:[(0,f.jsx)("input",{type:"text",placeholder:x("search"),className:l.Z.assign_search_input,onChange:e=>{return t=e.target.value,void L(t);var t}}),(0,f.jsx)("img",{src:"/images/search-dash-icon.svg",alt:"search icon"})]}),(0,f.jsx)("div",{className:l.Z.assign_show_list,children:null===R||void 0===R?void 0:R.map(((e,t)=>(null===R||void 0===R?void 0:R.length)===t+1?(0,f.jsxs)("div",{ref:k,children:[(0,f.jsxs)("div",{className:l.Z.assign_show_list_each,style:g===e._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:()=>G(e),children:[_?null!==S&&void 0!==S&&S.includes(null===e||void 0===e?void 0:e._id)?(0,f.jsx)("img",{src:"/images/checkbox-icon.svg",alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,f.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/box-icon.svg",alt:"icon"}):"",(0,f.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(c.yI,"/").concat(e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,f.jsxs)("div",{className:l.Z.assign_each_paragraph,children:[(0,f.jsx)("h6",{children:"".concat(e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(e.staffLastName)}),(0,f.jsxs)("p",{children:[" ",x("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]})]}),(0,f.jsx)("hr",{})]},e._id):(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:l.Z.assign_show_list_each,style:g===e._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:()=>G(e),children:[_?null!==S&&void 0!==S&&S.includes(null===e||void 0===e?void 0:e._id)?(0,f.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/checkbox-icon.svg",alt:"icon"}):(0,f.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/box-icon.svg",alt:"icon"}):"",(0,f.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(c.yI,"/").concat(e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,f.jsxs)("div",{className:l.Z.assign_each_paragraph,children:[(0,f.jsx)("h6",{children:"".concat(e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(e.staffLastName)}),(0,f.jsxs)("p",{children:[" ",x("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]})]}),(0,f.jsx)("hr",{})]},e._id)))})]})})}},12923:(e,t,s)=>{s.d(t,{Ec:()=>_,Em:()=>q,JM:()=>h,NS:()=>i,Pg:()=>y,Q_:()=>p,RH:()=>f,Tv:()=>c,U_:()=>m,VN:()=>r,Wj:()=>u,ZS:()=>d,_8:()=>S,d5:()=>l,tB:()=>g,vI:()=>A,yx:()=>o,zO:()=>v});var n=s(91007),a=s(58208);const i=e=>{const{data:t,refetch:s}=(0,a.YD)(e.search,{skip:e.skip});return{instituteAllSearch:t,instituteAllSearchRefetch:s}},r=()=>{const[e]=(0,a.ak)();return[e]},o=()=>{const[e]=(0,a.WL)();return[e]},c=e=>{const{data:t,refetch:s}=(0,a.pH)(e.list,{skip:e.skip});return{instituteFollowList:t,instituteFollowListRefetch:s}},l=e=>{const{data:t,refetch:s}=(0,a.MG)(e.data,{skip:e.skip});return{instituteOwnFollowingList:t,instituteOwnFollowingListRefetch:s}},u=()=>{const[e]=(0,a.Ky)();return[e]},d=e=>{const{data:t,refetch:s}=(0,a.p8)(e.list);return{userFollowList:t,userFollowListRefetch:s}},f=e=>{const{data:t,refetch:s}=(0,a.Wv)(e);return{userFollowingList:t,userFollowingListRefetch:s}},h=e=>{const{data:t,refetch:s}=(0,a.sz)(e.search,{skip:e.skip});return{userAllSearch:t,userAllSearchRefetch:s}},y=()=>{const[e]=(0,a.Mk)();return[e]},v=()=>{const[e]=(0,a.$i)();return[e]},g=()=>{const[e]=(0,a.Do)();return[e]},m=()=>{const[e]=(0,a.He)();return[e]},p=()=>{const[e]=(0,a.vg)();return[e]},_=()=>{const[e]=(0,a.OO)();return[e]},S=e=>{const{data:t,refetch:s}=(0,a.N2)(e);return{userCircleList:t,userCircleListRefetch:s}},A=e=>{const{data:t,refetch:s}=(0,n.x6)(e.search,{skip:e.skip});return{assignSearchStaff:t,assignSearchStaffRefetch:s}},q=e=>{const{data:t,refetch:s}=(0,a.SJ)(e);return{universalUser:t,universalUserRefetch:s}}},3073:(e,t,s)=>{s.r(t),s.d(t,{default:()=>g});var n=s(39230),a=s(98684),i=s(90904),r=s(93638),o=s(38857),c=s(21348),l=s(16925),u=s(55336),d=s(72791),f=s(1095),h=s(46876),y=s(6758),v=s(80184);const g=e=>{var t,s,g,m;let{onClose:p,financeHead:_}=e;const{t:S}=(0,n.$G)(),[A,q]=(0,d.useState)(""),[x,j]=(0,d.useState)(!1),[P,N]=(0,d.useState)(!1),[M]=(0,y.Me)();(0,d.useEffect)((()=>{q(_)}),[_]);return(0,v.jsx)(v.Fragment,{children:x?(0,v.jsx)(h.default,{assignHead:x,headSelect:e=>{q(e)},title:S("secect_finance_head"),onClose:()=>j((e=>!e)),disabledId:null===A||void 0===A?void 0:A._id}):(0,v.jsx)(o.Z,{onClose:p,children:(0,v.jsxs)("div",{className:l.Z.modal_container,children:[(0,v.jsx)(c.default,{children:(0,v.jsxs)("div",{className:l.Z.modal_container_outer_header,children:[(0,v.jsx)("div",{className:l.Z.modal_container_header,children:(0,v.jsx)("h6",{children:S("update_finance_manager_head")})}),(0,v.jsx)("img",{src:"".concat(a.J7,"/close.svg"),alt:"close icon",onClick:p})]})}),(0,v.jsx)(i.Z,{}),(0,v.jsxs)(c.default,{customStyle:{paddingTop:"0"},children:[(0,v.jsxs)("div",{className:l.Z.card_container_image,onClick:()=>j(!0),style:{cursor:"pointer"},children:[(0,v.jsx)("img",{alt:"not found",src:null!==A&&void 0!==A&&A.staffProfilePhoto?"".concat(f.yI,"/").concat(A.staffProfilePhoto):"".concat(a.p3,"/feed-user-avatar.svg")}),(0,v.jsxs)("div",{className:l.Z.card_container_inner,children:[(0,v.jsx)("h6",{className:l.Z.namee,children:"".concat(null!==(t=null===A||void 0===A?void 0:A.staffFirstName)&&void 0!==t?t:""," \n                    ").concat(null!==(s=null===A||void 0===A?void 0:A.staffMiddleName)&&void 0!==s?s:"","\n                    ").concat(null!==(g=null===A||void 0===A?void 0:A.staffLastName)&&void 0!==g?g:""," ")}),(0,v.jsxs)("p",{className:l.Z.desig,children:[S("index_number_1")," ",null!==(m=null===A||void 0===A?void 0:A.staffROLLNO)&&void 0!==m?m:""]})]})]}),(0,v.jsx)(r.Z,{label:"update",onAction:()=>{null!==_&&void 0!==_&&_._id&&null!==A&&void 0!==A&&A._id&&(N(!0),M({osid:null===_||void 0===_?void 0:_._id,nsid:null===A||void 0===A?void 0:A._id}).then((()=>{N(!1),p()})))}})]}),P&&(0,v.jsx)(u.default,{})]})})})}},91007:(e,t,s)=>{s.d(t,{KU:()=>de,cX:()=>ue,Lr:()=>ye,wB:()=>oe,cn:()=>le,pu:()=>z,QS:()=>K,W7:()=>V,dj:()=>X,$J:()=>Pe,Im:()=>fe,W3:()=>W,Pm:()=>Me,Md:()=>H,No:()=>J,dv:()=>$,mC:()=>Ne,OU:()=>re,x6:()=>ge});var n=localStorage.getItem("user");const a=e=>e.mutation({query:e=>({url:"/landing/get-touch",method:"POST",body:e})}),i=e=>e.mutation({query:e=>({url:"/ins/deactivate/info/".concat(n),method:"POST",body:e})}),r=e=>e.query({query:e=>"/ins/".concat(e.id?e.id:n,"/approve-staff/list?page=").concat(e.page,"&limit=").concat(e.limit,"&date=").concat(e.date?e.date:"")}),o=e=>e.query({query:e=>"/ins/".concat(e||n,"/pending-staff/list")}),c=e=>e.query({query:e=>"/ins/staff/".concat(e)}),l=e=>e.query({query:e=>"/ins/".concat(e.id?e.id:n,"/approve-student/list?page=").concat(e.page,"&limit=").concat(e.limit)}),u=e=>e.query({query:e=>"/ins/student/".concat(e)}),d=e=>e.query({query:e=>"/ins/".concat(n,"/followers-array?page=").concat(e,"&limit=10")}),f=e=>e.query({query:e=>"/ins/".concat(null===e||void 0===e?void 0:e.id,"/announcemnt?page=").concat(null===e||void 0===e?void 0:e.page,"&limit=").concat(e.limit)}),h=e=>e.query({query:e=>"/ins/".concat(n,"/all/star-announcement?page=").concat(e,"&limit=10")}),y=e=>e.query({query:e=>"/ins/one/announcement/".concat(e)}),v=e=>e.query({query:e=>"/ins/".concat(n||e,"/dash")}),g=e=>e.query({query:e=>"/ins/".concat(e||n,"/display/person-array")}),m=e=>e.mutation({query:e=>({url:"/ins/".concat(n,"/display-person"),method:"POST",body:e})}),p=e=>e.mutation({query:e=>({url:"/ins/".concat(e.did,"/display-person/update"),method:"PATCH",body:e})}),_=e=>e.mutation({query:e=>({url:"/ins/".concat(n,"/display-person/").concat(e.did,"/delete/").concat(e.uid),method:"DELETE",body:e})}),S=e=>e.query({query:e=>"/ins/dashboard/".concat(n,"/notify?page=").concat(e,"&limit=10")}),A=e=>e.mutation({query:e=>({url:"/ins/".concat(e,"/star-announcement"),method:"POST"})}),q=e=>e.query({query:e=>({url:"/search/".concat(null!==e&&void 0!==e&&e.id?null===e||void 0===e?void 0:e.id:n,"/staff?search=").concat(e.search,"&page=").concat(e.page,"&limit=").concat(e.limit)})}),x=e=>e.query({query:e=>({url:"/search/".concat(n,"/student?search=").concat(e,"&page=",1,"&limit=",5)})}),j=e=>e.query({query:e=>({url:"/search/institute/".concat(n,"/allsearch?search=").concat(e,"&page=",1,"&limit=",5)})}),P=e=>e.mutation({query:e=>({url:"/ins/".concat(n,"/staff/approve/").concat(e.sid,"/user/").concat(e.uid),method:"POST",body:e})}),N=e=>e.mutation({query:e=>({url:"/ins".concat(n,"/staff/reject/").concat(e.sid,"/user/").concat(e.uid),method:"POST",body:e})}),M=e=>e.query({query:()=>({url:"/auth/login"})}),k=e=>e.mutation({query:e=>({url:"/ins/".concat(n,"/staff/code"),method:"POST",body:e})}),b=e=>e.query({query:()=>({url:"/ins/".concat(n,"/staff-code")})}),O=e=>e.query({query:()=>"/all/user/list/data/"}),C=e=>e.query({query:e=>"/user/".concat(e,"/profile")}),R=e=>e.query({query:e=>"/user/profile/".concat(e)}),U=e=>e.query({query:e=>"/user/".concat(null===e||void 0===e?void 0:e.id,"/ins-announcement?page=").concat(null===e||void 0===e?void 0:e.page,"&limit=").concat(null===e||void 0===e?void 0:e.limit)}),w=e=>e.query({query:e=>"/user/".concat(n||e,"/dash/query")}),I=e=>e.query({query:e=>"/user/dashboard/".concat(n,"/notify?page=").concat(e,"&limit=10")}),Q=e=>e.mutation({query:e=>({url:"/user/".concat(n,"/recovery-mail"),method:"POST",body:e})}),D=e=>e.mutation({query:e=>({url:"/user/phone/info/".concat(n),method:"POST",body:e})}),L=e=>e.mutation({query:e=>({url:"/extra/age/".concat(n),method:"PATCH"})}),G=e=>e.query({query:e=>({url:"/extra/age/".concat(n,"/get"),method:"GET"})}),Z=e=>e.query({query:e=>"/fees/student/".concat(e)}),F=e=>e.query({query:()=>"/extra/random/query"}),T=e=>e.mutation({query:e=>({url:"/ins/destroy/announcement/".concat(null===e||void 0===e?void 0:e.annId),method:"DELETE"})});const E=s(85064).K.injectEndpoints({endpoints:e=>({postGetInTouch:a(e),postUserRecoveryMail:Q(e),postUserRecoveryPhoneNumber:D(e),postDeactivateAccount:i(e),getOneUserProfile:C(e),getOneUserProfileUsername:R(e),staffApproveArray:r(e),staffPendingArray:o(e),getOneStaffProfile:c(e),studentApproveArray:l(e),getOneStudentProfile:u(e),getInsFollowersArray:d(e),getAnnouncementArray:f(e),getUserAnnouncementArray:U(e),getStarAnnouncementArray:h(e),getOneAnnouncement:y(e),getSingleInsData:v(e),getSingleUserData:w(e),getDisplayPerson:g(e),addDisplayPerson:m(e),editDisplayPerson:p(e),deleteDisplayPerson:_(e),getAllNotifications:S(e),getAllUserNotifications:I(e),markStarAnnouncement:A(e),staffSearch:q(e),studentSearch:x(e),universalSearch:j(e),markAsApprove:P(e),markAsReject:N(e),checkLoginUser:M(e),randomCode:k(e),instituteStaffCode:b(e),getAllUserArray:O(e),patchUserRestrictAge:L(e),getUsserAgeRestriction:G(e),getStudentFeesArray:Z(e),randomIns:F(e),instituteRemoveAnnouncement:T(e)})}),{usePatchUserRestrictAgeMutation:H,useGetUsserAgeRestrictionQuery:W,usePostGetInTouchMutation:B,usePostUserRecoveryMailMutation:J,usePostUserRecoveryPhoneNumberMutation:$,useGetOneUserProfileQuery:z,useGetOneUserProfileUsernameQuery:K,useGetSingleInsDataQuery:V,useGetSingleUserDataQuery:X,useGetDisplayPersonQuery:Y,useEditDisplayPersonMutation:ee,useAddDisplayPersonMutation:te,useDeleteDisplayPersonMutation:se,useGetAllNotificationsQuery:ne,useGetAllUserNotificationsQuery:ae,useStaffPendingArrayQuery:ie,useStaffApproveArrayQuery:re,useGetOneStaffProfileQuery:oe,useStudentApproveArrayQuery:ce,useGetOneStudentProfileQuery:le,useGetInsFollowersArrayQuery:ue,useGetAnnouncementArrayQuery:de,useGetUserAnnouncementArrayQuery:fe,useGetStarAnnouncementArrayQuery:he,useGetOneAnnouncementQuery:ye,useMarkStarAnnouncementMutation:ve,useStaffSearchQuery:ge,useStudentSearchQuery:me,useUniversalSearchQuery:pe,useMarkAsApproveMutation:_e,useMarkAsRejectMutation:Se,useCheckLoginUserQuery:Ae,useRandomCodeMutation:qe,useInstituteStaffCodeQuery:xe,useGetAllUserArrayQuery:je,useGetStudentFeesArrayQuery:Pe,useRandomInsQuery:Ne,useInstituteRemoveAnnouncementMutation:Me}=E},52124:(e,t,s)=>{s.d(t,{Z:()=>n});const n={assign_title:"AssignStaffModal_assign_title__4DGBV",assign_search_container:"AssignStaffModal_assign_search_container__3x6RD",assign_search_input:"AssignStaffModal_assign_search_input__rO3c7",assign_show_list:"AssignStaffModal_assign_show_list__yHhf7",assign_show_list_each:"AssignStaffModal_assign_show_list_each__ACUEw",assign_each_paragraph:"AssignStaffModal_assign_each_paragraph__pMHTq",universal_modal:"AssignStaffModal_universal_modal__czmpB",is_mulitselect_container:"AssignStaffModal_is_mulitselect_container__0cPQ2"}}}]);
//# sourceMappingURL=3073.9b7b3941.chunk.js.map