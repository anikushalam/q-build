"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[2218],{2218:function(i,l,o){o.r(l);var t=o(29439),n=o(72791),d=o(9447),e=o(12923),u=o(41716),s=o(39230),c=o(78687),v=o(16256),a=o(70092),f=o(39480),r=o(80184);l.default=function(i){var l,o,h,p,k=i.institute,w=(0,s.$G)().t,_=(0,n.useState)(!1),b=(0,t.Z)(_,2),m=b[0],g=b[1],x=(0,c.useSelector)((function(i){return i.idChange})),I=(0,c.useSelector)((function(i){return i.postChange.dashboardPosts})),Z=(0,c.useDispatch)(),j=(0,e.VN)(),C=(0,t.Z)(j,1)[0],F=(0,e.yx)(),P=(0,t.Z)(F,1)[0],N=(0,d.KW)(),D=(0,t.Z)(N,1)[0],L=(0,d.n6)(),R=(0,t.Z)(L,1)[0],y=(0,d.hZ)({data:{id:null===x||void 0===x?void 0:x.id,viewAs:v.UJ},skip:!1}),S=y.allDashPost,U=y.allDashPostRefetch,q=(0,f.p0)({data:{id:null===k||void 0===k?void 0:k._id,type:"ID"},skip:!(null!==k&&void 0!==k&&k._id)}).oneInstituteProfileRefetch,B=(0,e.d5)({data:{page:1,id:null===k||void 0===k?void 0:k._id,limit:100},skip:!(null!==k&&void 0!==k&&k._id)}),E=B.instituteOwnFollowingList,O=B.instituteOwnFollowingListRefetch,A=(0,e.Tv)({list:{page:1,id:null===k||void 0===k?void 0:k._id,limit:100},skip:!(null!==k&&void 0!==k&&k._id)}),G=A.instituteFollowList,J=A.instituteFollowListRefetch;(0,n.useEffect)((function(){null!==k&&void 0!==k&&k._id&&(J(),O())}),[null===k||void 0===k?void 0:k._id]),(0,n.useEffect)((function(){null!==S&&void 0!==S&&S.post&&Z(a.p.followPost({post:null===S||void 0===S?void 0:S.post,profilePost:"dash"}))}),[null===S||void 0===S?void 0:S.post]);return(0,r.jsx)(r.Fragment,{children:null!==k&&void 0!==k&&null!==(l=k.blockedBy)&&void 0!==l&&l.includes(null===x||void 0===x?void 0:x.id)?(0,r.jsx)("div",{className:u.Z.profileedit,title:"Unblock Institute",children:(0,r.jsx)("button",{onClick:function(){g(!0),R({blockId:null===k||void 0===k?void 0:k._id}).then((function(){q(),g(!1)})).catch({})},children:w("blocked")})}):null!==E&&void 0!==E&&null!==(o=E.following)&&void 0!==o&&o.some((function(i){return(null===i||void 0===i?void 0:i._id)===(null===x||void 0===x?void 0:x.id)}))?(0,r.jsx)("div",{className:u.Z.profileedit,title:"Block Institute",children:(0,r.jsx)("button",{onClick:function(){g(!0),D({blockId:null===k||void 0===k?void 0:k._id}).then((function(){q(),g(!1)})).catch({})},children:w("block")})}):null!==k&&void 0!==k&&null!==(h=k.follower)&&void 0!==h&&h.includes(null===x||void 0===x?void 0:x.id)||null!==G&&void 0!==G&&null!==(p=G.iFollowers)&&void 0!==p&&p.some((function(i){return(null===i||void 0===i?void 0:i._id)===(null===x||void 0===x?void 0:x.id)}))?(0,r.jsx)("div",{className:u.Z.profileedit,title:"Unfollow Institute",children:(0,r.jsx)("button",{onClick:function(){g(!0);var i=function(i){for(var l=[],o=0;o<(null===I||void 0===I?void 0:I.length);o++)I[o].author!==i&&l.push(I[o]);return l}(null===k||void 0===k?void 0:k._id);Z(a.p.unfollowPost({posts:i})),P({followId:null===k||void 0===k?void 0:k._id}).then((function(i){i.data.message&&(J(),g(!1))})).catch({})},disabled:m,children:w("unfollow")})}):(0,r.jsx)("div",{className:u.Z.profileedit,title:"Follow Institute",children:(0,r.jsx)("button",{onClick:function(){g(!0),C({followId:null===k||void 0===k?void 0:k._id}).then((function(i){i.data.message&&(J(),U(),g(!1))})).catch({})},disabled:m,children:w("follow")})})})}}}]);
//# sourceMappingURL=2218.495de1b6.chunk.js.map