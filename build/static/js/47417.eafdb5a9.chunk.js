"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[47417],{57431:(e,t,i)=>{i.d(t,{Z:()=>o});i(72791);var n=i(80272),s=i(80184);const o=e=>{var t;let{valueLength:i,maxLength:o,customStyle:a}=e;return(0,s.jsxs)("section",{style:{...a},className:n.Z.string_container,children:[null!==(t=null===i||void 0===i?void 0:i.length)&&void 0!==t?t:0,"/",o]})}},87744:(e,t,i)=>{i.d(t,{Z:()=>Z});var n=i(72791),s=i(39230),o=i(98094),a=i(10406),l=i(11105),c=i(36665),d=i(87457),_=i(57431),r=i(98734),u=i(97655),h=i(24582),v=i(80184);const m=e=>{let{onClose:t,onRefetch:i,openAs:a,batchMenu:l,onEdit:m,cid:p}=e;const{t:g}=(0,s.$G)(),[x,A]=(0,n.useState)(""),[b,S]=(0,n.useState)(!1),[j,f]=(0,n.useState)({batchName:"EDIT"===a?null===l||void 0===l?void 0:l.batchName:""}),[N]=(0,h.QN)();(0,n.useEffect)((()=>{"EDIT"===a&&f((e=>({...e,batchName:null===l||void 0===l?void 0:l.batchName})))}),[a]);return(0,v.jsx)(c.Z,{onClose:t,children:(0,v.jsxs)("div",{className:d.Z.add_category_modal,children:[(0,v.jsxs)("div",{className:d.Z.add_category_modal_title,children:[(0,v.jsx)("h6",{children:g("EDIT"===a?"edit_batch":"add_new_batch")}),(0,v.jsx)("img",{src:"/images/close-post-icon.svg",onClick:t,alt:""})]}),(0,v.jsx)(o.Z,{customStyle:{width:"100%",marginTop:"0.6rem",marginBottom:"0.6rem"}}),(0,v.jsx)(u.Z,{labelText:g("batch-name-place"),placeholder:"e.g. 2022-23",name:"batchName",value:null===j||void 0===j?void 0:j.batchName,type:"text",onChange:e=>{var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)<=30&&f((t=>({...t,batchName:e.target.value})))},errorShow:x}),(0,v.jsx)(_.Z,{maxLength:30,valueLength:j.batchName}),(0,v.jsx)("button",{className:d.Z.set_fees_structure_btn,title:"Create Batch",onClick:()=>{j.batchName?"EDIT"===a?m(j.batchName):p&&(S((e=>!e)),N({cid:p,classBatch:j}).then((()=>{i(),t(),S((e=>!e))})).catch({})):A(!0)},style:{justifyContent:"center"},children:g("EDIT"===a?"update":"create")}),b&&(0,v.jsx)(r.Z,{})]})})};var p=i(72426),g=i.n(p),x=i(12072),A=i(84489),b=i(87049);const S=e=>{let{onClose:t,batchMenu:i,onRefetch:s}=e;const[o,a]=(0,n.useState)(!1),[l,c]=(0,n.useState)(!1),[d]=(0,h.EX)(),[_]=(0,h.Dj)();return(0,v.jsx)(v.Fragment,{children:l?(0,v.jsx)(m,{openAs:"EDIT",onEdit:e=>{null!==i&&void 0!==i&&i._id&&(c(!1),a((e=>!e)),d({bid:null===i||void 0===i?void 0:i._id,updateBatch:{batchName:e}}).then((()=>{s(),a((e=>!e)),t()})).catch({}))},batchMenu:i,onClose:()=>c((e=>!e)),onRefetch:s}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(A.Z,{onClose:t}),(0,v.jsxs)(x.Z,{customStyle:{zIndex:"1200"},children:[(0,v.jsxs)("div",{className:b.Z.edit_modal_container,style:{width:"200px"},children:[(0,v.jsx)("h6",{className:b.Z.edit,onClick:()=>c((e=>!e)),children:"Edit"}),(0,v.jsx)("h6",{className:b.Z.remove,onClick:()=>{null!==i&&void 0!==i&&i._id&&(a((e=>!e)),_({bid:null===i||void 0===i?void 0:i._id}).then((()=>{s(),t(),a((e=>!e))})).catch({}))},children:"Delete"})]}),o&&(0,v.jsx)(r.Z,{})]})]})})};var j=i(16871),f=i(43504);const N=e=>{var t;let{batch:i,onRefetch:o,carryParentState:l,viewAs:c}=e;const{t:d}=(0,s.$G)(),_=(0,j.UO)(),[r,u]=(0,n.useState)("");return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(f.rU,{to:"INSTITUTE"===c?"/q/".concat(_.username,"/class?type=batch-detail"):"/q/".concat(_.username,"/member/class/").concat(_.cname,"?a=batch-detail"),state:{...l,batchName:null===i||void 0===i?void 0:i.batchName,batchId:null===i||void 0===i?void 0:i._id},children:(0,v.jsxs)("div",{className:"".concat(a.Z.hostel_batch_container," ").concat(a.Z.hostel_batch_container_hover),children:[(0,v.jsx)("img",{className:a.Z.hostel_batch_image,src:"/images/master-24-grey-icon.svg",alt:"batch icon",style:{borderRadius:"0"}}),(0,v.jsxs)("div",{className:a.Z.hostel_batch_container_text,children:[(0,v.jsx)("h6",{children:null!==(t=null===i||void 0===i?void 0:i.batchName)&&void 0!==t?t:""}),(0,v.jsxs)("p",{children:[d("created_on_")," ",g()(null===i||void 0===i?void 0:i.createdAt).format("DD MMM yyyy")]})]}),(0,v.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:e=>{e.preventDefault(),u(i)},className:a.Z.hostel_batch_menu,title:"Menu"})]})},null===i||void 0===i?void 0:i._id),r&&(0,v.jsx)(S,{onClose:()=>u(""),onRefetch:o,batchMenu:r})]})},Z=e=>{var t;let{cid:i,carryParentState:c,viewAs:d}=e;const{t:_}=(0,s.$G)(),[r,u]=(0,n.useState)(!1),[p,g]=(0,n.useState)(!0),{getClassAllBatch:x,getClassAllBatchRefetch:A}=(0,h.eY)({cid:i,skip:!i});(0,n.useEffect)((()=>{i&&(g(!0),A())}),[i,A]),(0,n.useEffect)((()=>{var e;(null!==x&&void 0!==x&&x.all_batches||0===(null===x||void 0===x||null===(e=x.all_batches)||void 0===e?void 0:e.length))&&g(!1)}),[null===x||void 0===x?void 0:x.all_batches]);const b=()=>{g(!0),A()},S=()=>{u((e=>!e))};return(0,v.jsxs)("div",{className:a.Z.hostel_container,style:"INSTITUTE"===d||"MENU_WISE"===d?{border:"none"}:null,children:["MENU_WISE"===d?null:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:a.Z.with_search,children:(0,v.jsx)("h6",{children:_("class_batch")})}),(0,v.jsx)(o.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}})]}),(0,v.jsx)("div",{className:a.Z.add_container,children:(0,v.jsx)("p",{className:a.Z.add_new_category,onClick:S,children:_("create_new_batch")})}),null===x||void 0===x||null===(t=x.all_batches)||void 0===t?void 0:t.map((e=>(0,v.jsx)(N,{batch:e,onRefetch:b,carryParentState:c,viewAs:d},null===e||void 0===e?void 0:e._id))),p&&(0,v.jsx)(l.Z,{status:"white"}),r&&(0,v.jsx)(m,{onClose:S,cid:i,onRefetch:b})]})}},76637:(e,t,i)=>{i.d(t,{Z:()=>U});var n=i(72791),s=i(39230),o=i(23441),a=i(98094),l=i(10406),c=i(11105),d=i(763),_=i(24582),r=i(16871),u=i(43504),h=i(69721),v=i(34586),m=i(84489),p=i(12072),g=i(98734),x=i(87049),A=i(80184);const b=e=>{let{onClose:t,studentMenu:i,bid:s,onRefetch:o}=e;const[a,l]=(0,n.useState)(!1),[c]=(0,_.i_)();return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(m.Z,{onClose:t}),(0,A.jsxs)(p.Z,{customStyle:{zIndex:"1200"},children:[(0,A.jsx)("div",{className:x.Z.edit_modal_container,style:{width:"200px"},children:(0,A.jsx)("h6",{className:x.Z.remove,onClick:()=>{s&&(l((e=>!e)),c({bid:s,destroy:{student_arr:[i]}}).then((()=>{o(),t(),l((e=>!e))})).catch({}))},children:"Delete"})}),a&&(0,A.jsx)(g.Z,{})]})]})},S=e=>{var t,i,o,a,l,c;let{student:d,batchId:_,onRefetch:m}=e;const{t:p}=(0,s.$G)(),g=(0,r.UO)(),[x,S]=(0,n.useState)("");return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(u.rU,{to:"/q/".concat(g.username,"/student/profile"),state:{sid:null===d||void 0===d?void 0:d._id,viewAs:"CLASS_CATALOG"},children:(0,A.jsxs)("div",{className:v.Z.item,style:{position:"relative"},children:[(0,A.jsx)("p",{children:null!==(t=null===d||void 0===d?void 0:d.studentROLLNO)&&void 0!==t?t:""}),(0,A.jsx)("img",{alt:"",src:null!==d&&void 0!==d&&d.studentProfilePhoto?"".concat(h.yI,"/").concat(null===d||void 0===d?void 0:d.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,A.jsxs)("div",{className:v.Z.student_catalog_name,children:[(0,A.jsxs)("h5",{children:[null!==(i=null===d||void 0===d?void 0:d.studentFirstName)&&void 0!==i?i:""," ",null!==(o=null===d||void 0===d?void 0:d.studentMiddleName)&&void 0!==o?o:" "," ",null!==(a=null===d||void 0===d?void 0:d.studentLastName)&&void 0!==a?a:""]}),(0,A.jsxs)("h6",{children:[p("gr_number")," ",(0,A.jsx)("span",{style:{fontWeight:"500"},children:null!==(l=null===d||void 0===d?void 0:d.studentGRNO)&&void 0!==l?l:""}),null===d||void 0===d||null===(c=d.class_selected_batch)||void 0===c?void 0:c.map((e=>(null===e||void 0===e?void 0:e._id)===_?(0,A.jsx)("span",{style:{fontWeight:"500"},children:", ".concat(p("batch"),": ").concat(null===e||void 0===e?void 0:e.batchName)}):null))]})]}),(0,A.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:e=>{e.preventDefault(),S(null===d||void 0===d?void 0:d._id)},className:v.Z.batch_container_menu,title:"Menu"})]})}),x&&(0,A.jsx)(b,{onClose:()=>S(""),bid:_,onRefetch:m,studentMenu:x})]})};var j=i(33992),f=i(36665),N=i(15415),Z=i(44820);const y=e=>{var t,i,o;let{batchId:l,onClose:d,onGrab:_}=e;const{t:r}=(0,s.$G)(),[u,h]=(0,n.useState)(!0),{allClass:v,allClassRefetch:m}=(0,j.z0)({bid:l,skip:!l});return(0,n.useEffect)((()=>{var e;null!==v&&void 0!==v&&null!==(e=v.batch)&&void 0!==e&&e.classroom&&h(!1)}),[null===v||void 0===v||null===(t=v.batch)||void 0===t?void 0:t.classroom]),(0,n.useEffect)((()=>{l&&m()}),[l,m]),(0,A.jsx)(f.Z,{onClose:d,children:(0,A.jsxs)("div",{className:Z.Z.assign_role_container,style:{width:"40rem"},children:[(0,A.jsxs)("section",{className:Z.Z.assign_role_title,style:{justifyContent:"space-between"},children:[(0,A.jsx)("h6",{children:r("select_class")}),(0,A.jsx)("div",{className:Z.Z.button_container,style:{justifyContent:"flex-end",gap:"1rem"},children:(0,A.jsx)("img",{src:"/images/close-post-icon.svg",onClick:d,alt:"",style:{cursor:"pointer"}})})]}),(0,A.jsx)(a.Z,{customStyle:{width:"100%",marginBottom:"0.8rem"}}),(0,A.jsxs)("section",{style:{padding:"0 0.8rem"},children:[null===v||void 0===v||null===(i=v.batch)||void 0===i||null===(o=i.classroom)||void 0===o?void 0:o.map((e=>(0,A.jsx)(N.Z,{setViewClass:()=>{},classData:e,setAllotC:e=>_(e),isView:"CLASS_TEACHER"}))),u&&(0,A.jsx)(c.Z,{status:"white"})]})]})})},C=e=>{var t;let{cid:i,onClose:o,onRefetch:l,batchId:d,onCloseParent:r}=e;const{t:u}=(0,s.$G)(),[v,m]=(0,n.useState)(!0),[p,x]=(0,n.useState)([]),[b,S]=(0,n.useState)(""),[j,N]=(0,n.useState)(!1),[y,C]=(0,n.useState)(!1),[R,w]=(0,n.useState)(!1),[I]=(0,_.wD)(),{classAllStudent:q,classAllStudentRefetch:k}=(0,_.EY)({data:{cid:i,page:1,limit:30},skip:!i});(0,n.useEffect)((()=>{i&&(m(!0),k())}),[i,k]),(0,n.useEffect)((()=>{var e,t,i,n;null!==q&&void 0!==q&&null!==(e=q.classes)&&void 0!==e&&e.ApproveStudent?(x(null===q||void 0===q||null===(n=q.classes)||void 0===n?void 0:n.ApproveStudent),m(!1)):0===(null===q||void 0===q||null===(t=q.classes)||void 0===t||null===(i=t.ApproveStudent)||void 0===i?void 0:i.length)&&m(!1)}),[null===q||void 0===q||null===(t=q.classes)||void 0===t?void 0:t.ApproveStudent]);const E=e=>{null!==b&&void 0!==b&&b.includes(e)?S((t=>null===t||void 0===t?void 0:t.filter((t=>t!==e)))):S((t=>[...t,e]))};return(0,A.jsx)(f.Z,{onClose:()=>{},children:(0,A.jsxs)("div",{className:Z.Z.assign_role_container,style:{width:"40rem"},children:[(0,A.jsxs)("section",{className:Z.Z.assign_role_title,style:{justifyContent:"space-between"},children:[(0,A.jsxs)("h6",{children:[(null===b||void 0===b?void 0:b.length)>0?"".concat(null===b||void 0===b?void 0:b.length," "):"",u("select_student")]}),(0,A.jsxs)("div",{className:Z.Z.button_container,style:{justifyContent:"flex-end",gap:"1rem"},children:[y?(0,A.jsx)("button",{className:Z.Z.next_student_btn,title:"Remove All Student",onClick:()=>{S([]),C(!1)},style:{marginRight:"0.7rem"},children:u("remove_all")}):(0,A.jsx)("button",{className:Z.Z.next_student_btn,title:"Select All Student",onClick:()=>{let e=[];for(let i of null===q||void 0===q||null===(t=q.classes)||void 0===t?void 0:t.ApproveStudent){var t;e.push(null===i||void 0===i?void 0:i._id)}S(e),C(!0)},style:{marginRight:"0.7rem"},children:u("select_all")}),(0,A.jsx)("button",{className:Z.Z.next_student_btn,onClick:()=>{d&&null!==b&&void 0!==b&&b.length&&(N((e=>!e)),I({bid:d,addStudent:{student_arr:b}}).then((()=>{l(),r(),N((e=>!e))})).catch({}))},children:u("add")}),(0,A.jsx)("img",{src:"/images/close-post-icon.svg",onClick:o,alt:"",style:{cursor:"pointer"}})]})]}),(0,A.jsx)(a.Z,{customStyle:{width:"100%"}}),(0,A.jsxs)("section",{style:{padding:"0 0.8rem"},children:[(0,A.jsx)("div",{className:Z.Z.search_container,style:{marginBottom:"0.6rem"},children:(0,A.jsxs)("div",{className:Z.Z.search_container_text,children:[(0,A.jsx)("img",{className:Z.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,A.jsx)("input",{type:"text",placeholder:u("search-label"),onChange:e=>{if(e.target.value){var t,i;const n=null===q||void 0===q||null===(t=q.classes)||void 0===t||null===(i=t.ApproveStudent)||void 0===i?void 0:i.filter((t=>{var i,n,s,o,a,l;return null!==(i="".concat(null===t||void 0===t?void 0:t.studentFirstName," ").concat(null!==t&&void 0!==t&&t.studentMiddleName?(null===t||void 0===t?void 0:t.studentMiddleName)+" ":"").concat(null===t||void 0===t?void 0:t.studentLastName))&&void 0!==i&&null!==(n=i.toLowerCase())&&void 0!==n&&n.includes(null===(s=e.target.value)||void 0===s?void 0:s.toLowerCase())||null!==(o="".concat(null===t||void 0===t?void 0:t.studentGRNO))&&void 0!==o&&null!==(a=o.toLowerCase())&&void 0!==a&&a.includes(null===(l=e.target.value)||void 0===l?void 0:l.toLowerCase())?t:null}));x(n)}else{var n;x(null===q||void 0===q||null===(n=q.classes)||void 0===n?void 0:n.ApproveStudent)}},autoFocus:!0,style:{border:"0.029vw solid rgba(0, 0, 0, 0.15)",width:"450px"}})]})}),null===p||void 0===p?void 0:p.map((e=>{var t,i,n,s;return(0,A.jsxs)("section",{className:null!==b&&void 0!==b&&b.includes(null===e||void 0===e?void 0:e._id)?"".concat(Z.Z.student_container," ").concat(Z.Z.select_hover_active):"".concat(Z.Z.student_container," ").concat(Z.Z.select_hover),style:{padding:"0.6rem 0.4rem",margin:"0",justifyContent:"space-between"},children:[(0,A.jsxs)("div",{className:Z.Z.student_container_text,children:[(0,A.jsx)("p",{className:Z.Z.student_container_gr,style:{marginBottom:"0"},children:null!==(t=null===e||void 0===e?void 0:e.studentROLLNO)&&void 0!==t?t:""}),(0,A.jsx)("img",{src:null!==e&&void 0!==e&&e.studentProfilePhoto?"".concat(h.yI,"/").concat(null===e||void 0===e?void 0:e.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"student avatar"}),(0,A.jsxs)("div",{className:Z.Z.student_container_name,children:[(0,A.jsx)("h6",{children:"".concat(null===e||void 0===e?void 0:e.studentFirstName," ").concat(null!==e&&void 0!==e&&e.studentMiddleName?null===e||void 0===e?void 0:e.studentMiddleName:""," ").concat(null===e||void 0===e?void 0:e.studentLastName)}),(0,A.jsxs)("p",{className:Z.Z.student_container_gr,children:[u("gr_number")," ",null!==(i=null===e||void 0===e?void 0:e.studentGRNO)&&void 0!==i?i:"",null!==e&&void 0!==e&&null!==(n=e.class_selected_batch)&&void 0!==n&&n.batchName?", ".concat(u("batch"),": ").concat(null===e||void 0===e||null===(s=e.class_selected_batch)||void 0===s?void 0:s.batchName):null]})]})]}),(0,A.jsx)("div",{className:Z.Z.student_container_text,children:null!==b&&void 0!==b&&b.includes(null===e||void 0===e?void 0:e._id)?(0,A.jsx)("img",{src:"/images/checkbox-icon.svg",alt:"icon",style:{borderRadius:"0",height:"1.5rem"},onClick:()=>E(null===e||void 0===e?void 0:e._id)}):(0,A.jsx)("img",{src:"/images/box-icon.svg",alt:"icon",style:{borderRadius:"0",height:"1.5rem"},onClick:()=>E(null===e||void 0===e?void 0:e._id)})})]},null===e||void 0===e?void 0:e._id)})),v&&(0,A.jsx)(c.Z,{status:"white"}),j&&(0,A.jsx)(g.Z,{})]})]})})},R=e=>{let{batchId:t,onClose:i,onRefetch:s,masterBatchId:o}=e;const[a,l]=(0,n.useState)("CLASSES"),[c,d]=(0,n.useState)("");return(0,A.jsx)(A.Fragment,{children:"CLASSES"===a?(0,A.jsx)(y,{batchId:o,onClose:i,onGrab:e=>{d(e),l("STUDENT")}}):(0,A.jsx)(C,{cid:null===c||void 0===c?void 0:c._id,onClose:()=>l("CLASSES"),onCloseParent:i,onRefetch:s,batchId:t})})};var w=i(93638),I=i(49806),q=i(38857),k=i(21348),E=i(90904),B=i(98684),L=i(1095);const M=e=>{var t,i,n,o,a,l;let{student:c,selectedId:d,onSelect:_,selectList:r,isMultiSelect:u,onMultiSelect:h}=e;const{t:v}=(0,s.$G)();return(0,A.jsxs)(A.Fragment,{children:[u?(0,A.jsxs)("div",{className:I.Z.assign_show_list_each,onClick:()=>{h(c)},children:[null!==r&&void 0!==r&&r.includes(null===c||void 0===c?void 0:c._id)?(0,A.jsx)("img",{src:"".concat(B.U_,"/check.svg"),alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,A.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"".concat(B.U_,"/uncheck.svg"),alt:"icon"}),(0,A.jsx)("img",{src:null!==c&&void 0!==c&&c.studentProfilePhoto?"".concat(L.yI,"/").concat(c.studentProfilePhoto):"".concat(B.p3,"/feed-staff-avatar.svg"),alt:"profile avatar"}),(0,A.jsxs)("div",{className:I.Z.assign_each_paragraph,children:[(0,A.jsx)("h6",{children:"".concat(null!==(t=null===c||void 0===c?void 0:c.studentFirstName)&&void 0!==t?t:""," ").concat(null!==(i=null===c||void 0===c?void 0:c.studentMiddleName)&&void 0!==i?i:""," ").concat(null!==(n=null===c||void 0===c?void 0:c.studentLastName)&&void 0!==n?n:"")}),(0,A.jsxs)("p",{children:[v("gr_number")," "," : ",null===c||void 0===c?void 0:c.studentGRNO]})]})]}):(0,A.jsxs)("div",{className:I.Z.assign_show_list_each,style:d===(null===c||void 0===c?void 0:c._id)?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:null,onClick:()=>{_(c)},children:[(0,A.jsx)("img",{src:null!==c&&void 0!==c&&c.studentProfilePhoto?"".concat(L.yI,"/").concat(c.studentProfilePhoto):"".concat(B.p3,"/feed-staff-avatar.svg"),alt:"profile avatar"}),(0,A.jsxs)("div",{className:I.Z.assign_each_paragraph,children:[(0,A.jsx)("h6",{children:"".concat(null!==(o=null===c||void 0===c?void 0:c.studentFirstName)&&void 0!==o?o:""," ").concat(null!==(a=null===c||void 0===c?void 0:c.studentMiddleName)&&void 0!==a?a:""," ").concat(null!==(l=null===c||void 0===c?void 0:c.studentLastName)&&void 0!==l?l:"")}),(0,A.jsxs)("p",{children:[v("gr_number")," "," : ",null===c||void 0===c?void 0:c.studentGRNO]})]})]}),(0,A.jsx)(E.Z,{customStyleBorder:{margin:"0"}})]})};var D=i(55336),T=i(1669),P=i(2651);const F=e=>{var t;let{title:i,onClose:o,selectedId:a,onSelectStudent:l,isMultiSelect:c,onMultiSelect:d,selectList:r,onDone:u,batchId:h,onSelectAll:v,onRemoveAll:m}=e;const{t:p}=(0,s.$G)(),[g,x]=(0,n.useState)([]),[b,S]=(0,n.useState)(""),[j,f]=(0,n.useState)(!1),{getClassBatchAllStudent:N,getClassBatchAllStudentLoading:Z}=(0,_.WJ)({data:{bid:h,page:1,limit:1e3,search:""},skip:!h});(0,n.useEffect)((()=>{var e;null!==N&&void 0!==N&&null!==(e=N.all_students)&&void 0!==e&&e.length&&x(null===N||void 0===N?void 0:N.all_students)}),[null===N||void 0===N?void 0:N.all_students]);const y=e=>{a===(null===e||void 0===e?void 0:e._id)||l(e)};return(0,A.jsx)(q.Z,{onClose:o,children:(0,A.jsxs)("div",{className:I.Z.modal_container,children:[(0,A.jsx)(k.Z,{children:(0,A.jsxs)("div",{className:I.Z.modal_container_outer_header,children:[(0,A.jsx)("div",{className:I.Z.modal_container_header,children:(0,A.jsx)("h6",{children:null!==i&&void 0!==i?i:p("student_list")})}),(0,A.jsxs)("div",{className:I.Z.modal_container_btn_container,children:[c&&(0,A.jsx)(w.Z,{label:p("selected"),count:null===r||void 0===r?void 0:r.length,onAction:u,customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),j?(0,A.jsx)(w.Z,{label:p("remove_all"),onAction:()=>{f(!1),m()},customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}):(0,A.jsx)(w.Z,{label:p("select_all"),onAction:()=>{f(!0);let e=[];for(let t of null===N||void 0===N?void 0:N.all_students)e.push(null===t||void 0===t?void 0:t._id);v(e)},customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,A.jsx)("img",{src:"".concat(B.J7,"/close.svg"),alt:"close icon",onClick:o})]})]})}),(0,A.jsx)(E.Z,{}),(0,A.jsxs)(k.Z,{customStyle:{paddingBottom:"1rem"},children:[(0,A.jsxs)("div",{className:I.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,A.jsx)("input",{type:"text",placeholder:p("search"),className:I.Z.assign_search_input,onChange:e=>{var t;!Z&&(null===N||void 0===N||null===(t=N.all_students)||void 0===t?void 0:t.length)>=0&&S(e.target.value)},onKeyUp:e=>{if("Enter"===e.key){let e=G(null===N||void 0===N?void 0:N.all_students,b);x(e)}},style:{width:"100%"}}),(0,A.jsx)("img",{src:"".concat(B.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===g||void 0===g?void 0:g.map((e=>(0,A.jsx)(M,{student:e,selectedId:a,onSelect:y,selectList:r,isMultiSelect:c,onMultiSelect:d},null===e||void 0===e?void 0:e._id))),Z?b?(0,A.jsx)(D.Z,{}):(0,A.jsx)(T.Z,{}):b?0===(null===g||void 0===g?void 0:g.length)&&(0,A.jsx)(P.Z,{title:"No students found related this search."}):0===(null===N||void 0===N||null===(t=N.all_students)||void 0===t?void 0:t.length)&&(0,A.jsx)(P.Z,{title:"No students."})]})]})})},G=(e,t)=>(null===e||void 0===e?void 0:e.length)>0?null===e||void 0===e?void 0:e.filter((e=>{var i,n,s;let o="".concat(null!==(i=null===e||void 0===e?void 0:e.studentFirstName)&&void 0!==i?i:"").concat(null!==e&&void 0!==e&&e.studentMiddleName?"".concat(null===e||void 0===e?void 0:e.studentMiddleName," "):""," ").concat(null!==(n=null===e||void 0===e?void 0:e.studentLastName)&&void 0!==n?n:"");return null!==o&&void 0!==o&&null!==(s=o.toLowerCase())&&void 0!==s&&s.includes(null===t||void 0===t?void 0:t.toLowerCase())?e:null})):[],U=e=>{var t,i,u,h,v,m,p;let{cid:x,viewAs:b,masterBatchId:j}=e;const f=(0,r.TH)(),{t:N}=(0,s.$G)(),[Z,y]=(0,n.useState)(!1),[C,I]=(0,o.YD)(),[q,k]=(0,n.useState)(1),[E,B]=(0,n.useState)(!0),[L,M]=(0,n.useState)(!0),[D,T]=(0,n.useState)([]),[P,G]=(0,n.useState)(!1),[U,O]=(0,n.useState)(""),[H,W]=(0,n.useState)(!1),[J,z]=(0,n.useState)(!1),[V,Y]=(0,n.useState)(""),[K,Q]=(0,n.useState)([]),[X]=(0,_.UU)(),[$]=(0,_.i_)(),{getClassBatchAllStudent:ee,getClassBatchAllStudentRefetch:te}=(0,_.WJ)({data:{bid:null===(t=f.state)||void 0===t?void 0:t.batchId,page:q,limit:10,search:U},skip:!(null!==(i=f.state)&&void 0!==i&&i.batchId)});(0,n.useEffect)((()=>{var e;null!==(e=f.state)&&void 0!==e&&e.batchId&&(M(!0),te())}),[null===(u=f.state)||void 0===u?void 0:u.batchId,q,U,te]),(0,n.useEffect)((()=>{I&&E&&k((e=>e+1))}),[I,E]),(0,n.useEffect)((()=>{var e,t;P?(T(null===ee||void 0===ee?void 0:ee.all_students),M(!1),G(!1)):U?(T(null===ee||void 0===ee?void 0:ee.all_students),M(!1)):null!==ee&&void 0!==ee&&ee.all_students?(T((e=>{var t,i;return null===(t=[...new Set(null===(i=[...e,...null===ee||void 0===ee?void 0:ee.all_students])||void 0===i?void 0:i.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),M(!1)):0===(null===ee||void 0===ee||null===(t=ee.all_students)||void 0===t?void 0:t.length)&&M(!1);10===(null===ee||void 0===ee||null===(e=ee.all_students)||void 0===e?void 0:e.length)?B(!0):B(!1)}),[null===ee||void 0===ee?void 0:ee.all_students]);const ie=(0,n.useCallback)((0,d.debounce)((e=>O(e)),500),[]),ne=()=>{k(1),G(!0),M(!0),te()},se=()=>{y((e=>!e))},oe=(0,n.useRef)(),ae=(0,n.useRef)(),le=(e,t)=>{e.stopPropagation(),oe.current=t},ce=(e,t)=>{e.stopPropagation(),ae.current=t},de=e=>{e.stopPropagation();const t=[...D],i=t[oe.current];t.splice(oe.current,1),t.splice(ae.current,0,i),oe.current=null,ae.current=null,T(t)};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{className:l.Z.hostel_container,style:"INSTITUTE"===b?{border:"none"}:null,children:[(0,A.jsxs)("div",{className:l.Z.with_search,children:[(0,A.jsx)("h6",{children:null!==(h=null===(v=f.state)||void 0===v?void 0:v.batchName)&&void 0!==h?h:""}),(0,A.jsx)("section",{className:l.Z.search_container,children:(0,A.jsxs)("div",{className:l.Z.search_container_input,children:[(0,A.jsx)("img",{className:l.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,A.jsx)("input",{type:"text",placeholder:"Search students...",onChange:e=>{ie(e.target.value)}})]})})]}),(0,A.jsx)(a.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,A.jsxs)("div",{className:l.Z.add_container,style:{gap:"1rem"},children:[(0,A.jsx)("p",{className:l.Z.add_new_category,onClick:se,children:N("add_student")}),H?(0,A.jsx)("p",{className:l.Z.add_new_category,onClick:()=>{var e;z((e=>!e));let t=[];for(let i of D)t.push(null===i||void 0===i?void 0:i._id);X({suffle:{shuffle_arr:t,bid:null===(e=f.state)||void 0===e?void 0:e.batchId,flow:"BATCH_WISE"}}).then((()=>{ne(),W(!1),z((e=>!e))})).catch({})},children:N("save")}):(0,A.jsx)("p",{className:l.Z.add_new_category,onClick:()=>W(!0),children:N("resuffle")}),(0,A.jsx)(w.Z,{label:"remove_bulk",onAction:()=>{Y(1)},customStyle:{margin:"0",padding:"0.3rem 0.5rem",marginBottom:"0.2rem"}})]}),null===D||void 0===D?void 0:D.map(((e,t)=>{var i,n;return(null===D||void 0===D?void 0:D.length)===t+1?(0,A.jsx)("div",{ref:C,draggable:H,onDragStart:e=>le(e,t),onDragEnter:e=>ce(e,t),onDragEnd:de,children:(0,A.jsx)(S,{student:e,onRefetch:ne,batchId:null===(i=f.state)||void 0===i?void 0:i.batchId})},null===e||void 0===e?void 0:e._id):(0,A.jsx)("div",{draggable:H,onDragStart:e=>le(e,t),onDragEnter:e=>ce(e,t),onDragEnd:de,children:(0,A.jsx)(S,{student:e,onRefetch:ne,batchId:null===(n=f.state)||void 0===n?void 0:n.batchId},null===e||void 0===e?void 0:e._id)})})),L&&(0,A.jsx)(c.Z,{status:"white"}),Z&&(0,A.jsx)(R,{onClose:se,cid:x,onRefetch:ne,batchId:null===(m=f.state)||void 0===m?void 0:m.batchId,masterBatchId:j}),J&&(0,A.jsx)(g.Z,{})]}),1===V?(0,A.jsx)(F,{title:N("remove_student_from_batch"),onClose:()=>Y(""),batchId:null===(p=f.state)||void 0===p?void 0:p.batchId,masterBatchId:j,selectList:K,onMultiSelect:e=>{null!==K&&void 0!==K&&K.includes(null===e||void 0===e?void 0:e._id)?Q((t=>null===t||void 0===t?void 0:t.filter((t=>t!==(null===e||void 0===e?void 0:e._id))))):Q((t=>[...t,null===e||void 0===e?void 0:e._id]))},isMultiSelect:!0,onDone:()=>{var e,t;null!==(e=f.state)&&void 0!==e&&e.batchId&&(null===K||void 0===K?void 0:K.length)>0&&(z((e=>!e)),Y(""),$({bid:null===(t=f.state)||void 0===t?void 0:t.batchId,destroy:{student_arr:K}}).then((()=>{ne(),z((e=>!e))})).catch({}))},onSelectAll:e=>{Q(e)},onRemoveAll:()=>{Q([])}}):null]})}},15415:(e,t,i)=>{i.d(t,{Z:()=>a});i(72791);var n=i(69721),s=i(15961),o=i(80184);const a=function(e){var t,i,a,l;let{setViewClass:c,classData:d,setAllotC:_,isView:r}=e;return(0,o.jsx)(o.Fragment,{children:"ONLY_SUBJECT"===r?(0,o.jsxs)("div",{className:s.Z.admission_confirm_class_card,children:[(0,o.jsx)("img",{src:null!==d&&void 0!==d&&d.photo?"".concat(n.yI,"/").concat(null===d||void 0===d?void 0:d.photo):"/images/allot-class-icon.svg",alt:"Class Avatar",loading:"lazy"}),(0,o.jsx)("div",{className:s.Z.admission_collect_docs,style:{alignItems:"flex-start",marginTop:"0"},children:(0,o.jsx)("h6",{children:"".concat(null!==(t=null===d||void 0===d?void 0:d.className)&&void 0!==t?t:""," - ").concat(null!==(i=null===d||void 0===d?void 0:d.classTitle)&&void 0!==i?i:"")})})]}):(0,o.jsxs)("div",{className:s.Z.admission_confirm_class_card,onClick:()=>{c(!0),_(d)},children:[(0,o.jsx)("img",{src:"1"!==(null===d||void 0===d?void 0:d.photoId)?"".concat(n.yI,"/").concat(null===d||void 0===d?void 0:d.photo):"/images/allot-class-icon.svg",alt:"Class Avatar",loading:"lazy"}),(0,o.jsxs)("div",{className:s.Z.admission_collect_docs,style:{alignItems:"flex-start",marginTop:"0"},children:[(0,o.jsx)("h6",{children:"".concat(null!==(a=null===d||void 0===d?void 0:d.className)&&void 0!==a?a:""," - ").concat(null!==(l=null===d||void 0===d?void 0:d.classTitle)&&void 0!==l?l:"")}),"CLASS_TEACHER"===r?null:(0,o.jsxs)("div",{className:s.Z.admission_confirm_class_count,children:[(0,o.jsxs)("p",{children:["Boys : ",null===d||void 0===d?void 0:d.boyCount]}),(0,o.jsxs)("p",{children:["Girls : ",null===d||void 0===d?void 0:d.girlCount]})]})]})]})})}},80272:(e,t,i)=>{i.d(t,{Z:()=>n});const n={string_container:"StringLength_string_container__v6b--",mark_container:"StringLength_mark_container__KQsQy"}},15961:(e,t,i)=>{i.d(t,{Z:()=>n});const n={admission_application_container:"AdmissionApplicationRequest_admission_application_container__iMsyZ",moderator_container_title:"AdmissionApplicationRequest_moderator_container_title__5WiPB",with_search:"AdmissionApplicationRequest_with_search__mm0Q+",search_container:"AdmissionApplicationRequest_search_container__3swMB",search_container_input:"AdmissionApplicationRequest_search_container_input__InEPj",searchIcon:"AdmissionApplicationRequest_searchIcon__RdABM",search_container_filter:"AdmissionApplicationRequest_search_container_filter__fEHEF",remainingFees:"AdmissionApplicationRequest_remainingFees__X9g5z",ongoing_card:"AdmissionApplicationRequest_ongoing_card__1TVLc",ongoing_card_inner:"AdmissionApplicationRequest_ongoing_card_inner__1Gato",ongoing_card_text:"AdmissionApplicationRequest_ongoing_card_text__AKxnS",menu_icon:"AdmissionApplicationRequest_menu_icon__F3nQo",add_new_category:"AdmissionApplicationRequest_add_new_category__ZTInw",applicant_card_container:"AdmissionApplicationRequest_applicant_card_container__7UN2C",applicant_card_container_hover:"AdmissionApplicationRequest_applicant_card_container_hover__mP-Wa",applicant_card_container_active:"AdmissionApplicationRequest_applicant_card_container_active__5VW5x",applicant_card_inner:"AdmissionApplicationRequest_applicant_card_inner__kSbmI",applicant_card_inner_info:"AdmissionApplicationRequest_applicant_card_inner_info__8POe8",applicant_card_contact:"AdmissionApplicationRequest_applicant_card_contact__Ipapl",applicant_card_contact_inner:"AdmissionApplicationRequest_applicant_card_contact_inner__dDeFH",application_button:"AdmissionApplicationRequest_application_button__a2s6z",selectAppBtnContainer:"AdmissionApplicationRequest_selectAppBtnContainer__d0wD6",selectBtnContainer:"AdmissionApplicationRequest_selectBtnContainer__Si3QU",selectBtn:"AdmissionApplicationRequest_selectBtn__A0SVG",cancelledBtn:"AdmissionApplicationRequest_cancelledBtn__wEX7V",notConfirmedBtn:"AdmissionApplicationRequest_notConfirmedBtn__wZb02",onlineBtn:"AdmissionApplicationRequest_onlineBtn__v+gwq",cancelStatus:"AdmissionApplicationRequest_cancelStatus__qYDFg",checkbox:"AdmissionApplicationRequest_checkbox__tlbdN",back_icon:"AdmissionApplicationRequest_back_icon__gIdbd",receipt_requested_btn:"AdmissionApplicationRequest_receipt_requested_btn__stgcE",not_confirm_container:"AdmissionApplicationRequest_not_confirm_container__+r4pJ",applicant_profile:"AdmissionApplicationRequest_applicant_profile__kHoFd",applicant_profile_text:"AdmissionApplicationRequest_applicant_profile_text__wgySz",button_group:"AdmissionApplicationRequest_button_group__LKrUN",admission_collect_docs:"AdmissionApplicationRequest_admission_collect_docs__+-jUT",confirm_btn:"AdmissionApplicationRequest_confirm_btn__njvM8",admission_modal:"AdmissionApplicationRequest_admission_modal__a3Dx6",admission_modal_heading:"AdmissionApplicationRequest_admission_modal_heading__7i6gM",admission_fees_row:"AdmissionApplicationRequest_admission_fees_row__Ykj39",admission_confirm_class_card:"AdmissionApplicationRequest_admission_confirm_class_card__Ytr77",admission_confirm_batch_card:"AdmissionApplicationRequest_admission_confirm_batch_card__Cuven",admission_confirm_class_count:"AdmissionApplicationRequest_admission_confirm_class_count__P-bt1",admission_class_confirm:"AdmissionApplicationRequest_admission_class_confirm__SMLDh",mulitple_select_btn:"AdmissionApplicationRequest_mulitple_select_btn__WOWDd",end_btn:"AdmissionApplicationRequest_end_btn__vgxwG",admission_mulit_select:"AdmissionApplicationRequest_admission_mulit_select__ggFWa",admission_mulit_select_right:"AdmissionApplicationRequest_admission_mulit_select_right__K51Rw",os_reminder:"AdmissionApplicationRequest_os_reminder__AHp8F",os_filter_container:"AdmissionApplicationRequest_os_filter_container__Ck0gz",ongoing_card_count_date:"AdmissionApplicationRequest_ongoing_card_count_date__xi1+1",ongoing_card_count_container:"AdmissionApplicationRequest_ongoing_card_count_container__af9uG",applicant_card_reciept:"AdmissionApplicationRequest_applicant_card_reciept__QR+Ho",transfer_container:"AdmissionApplicationRequest_transfer_container__y5X5q",transfer_select_btn:"AdmissionApplicationRequest_transfer_select_btn__u8NkN",remove_btn:"AdmissionApplicationRequest_remove_btn__Lmhuv"}},44820:(e,t,i)=>{i.d(t,{Z:()=>n});const n={moderator_container:"AdmissionScholarship_moderator_container__GUbIQ",moderator_container_title:"AdmissionScholarship_moderator_container_title__MbN+U",add_new_moderator:"AdmissionScholarship_add_new_moderator__MGNeH",menu_icon:"AdmissionScholarship_menu_icon__B9YVN",scholarship_card_container:"AdmissionScholarship_scholarship_card_container__YiX+2",assign_role_container:"AdmissionScholarship_assign_role_container__KLSzY",assign_role_title:"AdmissionScholarship_assign_role_title__nA6OZ",applicable_to_btn:"AdmissionScholarship_applicable_to_btn__n25MI",category_card:"AdmissionScholarship_category_card__kRdxE",category_card_hover_active:"AdmissionScholarship_category_card_hover_active__XXJS8",scholar_preview_container:"AdmissionScholarship_scholar_preview_container__K0hzS",candidate_card_container:"AdmissionScholarship_candidate_card_container__1Lc04",candidate_card_container_text:"AdmissionScholarship_candidate_card_container_text__zUgxy",candidate_card_row:"AdmissionScholarship_candidate_card_row__hDYoA",student_container:"AdmissionScholarship_student_container__Ry2e1",route_container:"AdmissionScholarship_route_container__wEm3e",student_container_text:"AdmissionScholarship_student_container_text__KwIJo",student_container_name:"AdmissionScholarship_student_container_name__bfrbV",search_container:"AdmissionScholarship_search_container__2ENBd",search_container_text:"AdmissionScholarship_search_container_text__X17qk",search_container_input:"AdmissionScholarship_search_container_input__QSRll",searchIcon:"AdmissionScholarship_searchIcon__YPa6A",allot_container:"AdmissionScholarship_allot_container__iJKiV",unused_container:"AdmissionScholarship_unused_container__i6a51",unused_container_text:"AdmissionScholarship_unused_container_text__KuIrZ",unused_container_text_inner:"AdmissionScholarship_unused_container_text_inner__D+gFH",intake_history:"AdmissionScholarship_intake_history__iDyMU",corpus_card:"AdmissionScholarship_corpus_card__bOH21",recieve_from:"AdmissionScholarship_recieve_from__yNMCX",save_entry:"AdmissionScholarship_save_entry__eYyIF",row_search:"AdmissionScholarship_row_search__5fuBb",with_search:"AdmissionScholarship_with_search__xsHhZ",search_container_filter:"AdmissionScholarship_search_container_filter__IiiOs",edit_btn:"AdmissionScholarship_edit_btn__qF3Jg",upload_excel_file:"AdmissionScholarship_upload_excel_file__nkxKf",student_table:"AdmissionScholarship_student_table__ZpE3f",student_table_header:"AdmissionScholarship_student_table_header__ErkoZ",student_table_header_label:"AdmissionScholarship_student_table_header_label__dQ+Vq",student_table_content_card:"AdmissionScholarship_student_table_content_card__mmiv4",student_table_profile:"AdmissionScholarship_student_table_profile__Ak4+x",student_table_header_name:"AdmissionScholarship_student_table_header_name__xAxgH",student_table_header_label_text:"AdmissionScholarship_student_table_header_label_text__AuJCV",student_table_contact:"AdmissionScholarship_student_table_contact__5nWX+",student_table_contact_email:"AdmissionScholarship_student_table_contact_email__daQ9J",student_table_contact_number:"AdmissionScholarship_student_table_contact_number__zN4WT",button_container:"AdmissionScholarship_button_container__a0HXK",next_btn:"AdmissionScholarship_next_btn__iHJSQ",select_hover:"AdmissionScholarship_select_hover__1++hd",select_hover_active:"AdmissionScholarship_select_hover_active__Esmn5",os_filter_container:"AdmissionScholarship_os_filter_container__nAIWN",os_reminder:"AdmissionScholarship_os_reminder__Hb6hi",next_student_btn:"AdmissionScholarship_next_student_btn__kbhv7"}}}]);
//# sourceMappingURL=47417.eafdb5a9.chunk.js.map