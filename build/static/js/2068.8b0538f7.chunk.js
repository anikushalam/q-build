"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[2068,3176],{34219:function(e,t,i){i(72791);var o=i(11575),n=i(80184);t.Z=function(e){var t=e.customStyleContainer,i=e.title,l=e.subtitle,s=e.costomTextTitleStyle,d=e.costomTextSubtitleStyle;return(0,n.jsxs)("div",{className:o.Z.empty_container,style:t,children:[i&&(0,n.jsx)("h6",{style:s,children:i}),l&&(0,n.jsx)("p",{style:d,children:l})]})}},47167:function(e,t,i){var o=i(1413),n=(i(72791),i(16871)),l=i(43504),s=i(23769),d=i(45639),a=i(80184);t.Z=function(e){var t=e.tabList,i=e.activeIndexTab,r=e.setActiveIndexTab,c=e.customStyleTab,u=e.carryParentState,v=e.showAs,m=e.customStyleLink,_=(0,n.UO)();return(0,a.jsx)("div",{className:d.Z.universal_container,children:v?null===t||void 0===t?void 0:t.map((function(e,t){return"disabled"===(null===e||void 0===e?void 0:e.is_active)?(0,a.jsx)("div",{className:i===(null===e||void 0===e?void 0:e.id)?"".concat(d.Z.universal_container_item," ").concat(d.Z.universal_container_item_active):d.Z.universal_container_item,style:(0,o.Z)((0,o.Z)({},m),{},{opacity:"0.5"}),children:(0,a.jsx)(s.Z,{children:null===e||void 0===e?void 0:e.name})},t):(0,a.jsx)(l.rU,{to:"/q/".concat(_.username,"/").concat(null===e||void 0===e?void 0:e.url),state:(0,o.Z)({},u),style:(0,o.Z)({},m),children:(0,a.jsx)("div",{className:i===(null===e||void 0===e?void 0:e.id)?"".concat(d.Z.universal_container_item," ").concat(d.Z.universal_container_item_active):d.Z.universal_container_item,style:(0,o.Z)({},c),children:(0,a.jsx)(s.Z,{children:null===e||void 0===e?void 0:e.name})})},t)})):null===t||void 0===t?void 0:t.map((function(e,t){return(0,a.jsx)("div",{className:i===(null===e||void 0===e?void 0:e.id)?"".concat(d.Z.universal_container_item," ").concat(d.Z.universal_container_item_active):d.Z.universal_container_item,onClick:function(){return r(null===e||void 0===e?void 0:e.id)},style:(0,o.Z)({},c),children:(0,a.jsx)(s.Z,{children:null===e||void 0===e?void 0:e.name})},t)}))})}},23769:function(e,t,i){i.d(t,{Z:function(){return s}});var o=i(29439),n=i(72791),l=i(80184);var s=function(e){var t=e.children,i=e.onclick,s=(0,n.useState)(!1),d=(0,o.Z)(s,2),a=d[0],r=d[1],c=(0,n.useState)({x:-1,y:-1}),u=(0,o.Z)(c,2),v=u[0],m=u[1];return(0,n.useEffect)((function(){-1!==v.x&&-1!==v.y?(r(!0),setTimeout((function(){return r(!1)}),1e3)):r(!1)}),[v]),(0,n.useEffect)((function(){a||m({x:-1,y:-1})}),[a]),(0,l.jsxs)("div",{className:"ripple_btn",onClick:function(e){m({x:e.clientX-e.target.offsetLeft,y:e.clientY-e.target.offsetTop}),i&&i(e)},children:[a?(0,l.jsx)("span",{className:"ripple"}):"",(0,l.jsx)("span",{className:"content",children:t})]})}},36665:function(e,t,i){i(72791);var o=i(12072),n=i(1874),l=i(80184);t.Z=function(e){var t=e.onClose,i=e.children;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.Z,{onClose:t}),(0,l.jsx)(o.Z,{children:i})]})}},11053:function(e,t,i){i(72791);var o=i(47630),n=i(72426),l=i.n(n),s=i(39230),d=i(69721),a=i(80184);t.Z=function(e){var t,i,n,r,c,u,v,m,_=e.status,h=e.book,f=(0,s.$G)().t;return(0,a.jsx)("div",{className:"memberdetail"===_?"".concat(o.Z.collctLogItem," ").concat(o.Z.fullwidth):"memberStudentdetail"===_?"".concat(o.Z.collctLogItem," ").concat(o.Z.disabled):o.Z.collctLogItem,children:(0,a.jsxs)("div",{className:o.Z.collectLogItemTop,children:[(0,a.jsx)("img",{className:o.Z.bookItemImg,src:"1"!==(null===h||void 0===h||null===(t=h.book)||void 0===t?void 0:t.photoId)&&""!==(null===h||void 0===h||null===(i=h.book)||void 0===i?void 0:i.photo)?"".concat(d.yI,"/").concat(null===h||void 0===h||null===(n=h.book)||void 0===n?void 0:n.photo):"/images/defaultBook.png"}),(0,a.jsxs)("div",{className:o.Z.collectLogItemTopRight,children:[(0,a.jsxs)("h6",{children:[" ",(null===h||void 0===h||null===(r=h.book)||void 0===r||null===(c=r.bookName)||void 0===c?void 0:c.length)>=18?"".concat(null===h||void 0===h||null===(u=h.book)||void 0===u||null===(v=u.bookName)||void 0===v?void 0:v.match(/.{1,18}/g)[0]," ..."):null===h||void 0===h||null===(m=h.book)||void 0===m?void 0:m.bookName]}),(0,a.jsxs)("div",{className:o.Z.collectLogItemBottom,children:[(0,a.jsxs)("div",{className:o.Z.collectLogItemBottomleft,children:[(0,a.jsx)("p",{children:f("issue_date")}),(0,a.jsx)("h6",{children:l()(null===h||void 0===h?void 0:h.issuedDate).format("Do MMM YYYY")})]}),(0,a.jsxs)("div",{className:o.Z.collectLogItemBottomleft,children:[(0,a.jsx)("p",{children:f("rcv_date")}),(0,a.jsx)("h6",{children:l()(null===h||void 0===h?void 0:h.createdAt).format("Do MMM YYYY")})]})]})]})]})})}},96945:function(e,t,i){i.d(t,{Z:function(){return y}});var o=i(29439),n=i(72791),l=i(86864),s=i(39230),d=i(69721),a=i(72426),r=i.n(a),c=i(1413),u=i(5574),v={collectModal:"CollectModal_collectModal__feATn",collectModaltop:"CollectModal_collectModaltop__-m3Ji",collectModalbody:"CollectModal_collectModalbody__ycqcA",swichRow:"CollectModal_swichRow__29Qj+",swichRowlabel:"CollectModal_swichRowlabel__3RWpv",input_label:"CollectModal_input_label__MZKKM",inputt:"CollectModal_inputt__U0t1g",formselect:"CollectModal_formselect__iKwAl",input_border_active:"CollectModal_input_border_active__ruGHa",formselectactive:"CollectModal_formselectactive__3e+Ea",genderh:"CollectModal_genderh__FtlnK",genderplaceholder:"CollectModal_genderplaceholder__DRLbA",upIcon:"CollectModal_upIcon__d6e5Y",downIcon:"CollectModal_downIcon__Ghc0a",input_labelsmall:"CollectModal_input_labelsmall__DJCQ8",confirmbtn:"CollectModal_confirmbtn__gzWGT",errorspan:"CollectModal_errorspan__kz740"},m=i(89891),_=i(20642),h="SelectOptions_options__CJSMs",f="SelectOptions_option__z3WEX",b=i(80184),g={position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10},x={position:"absolute",left:"0",top:"-3.9rem",zIndex:10};var j=function(e){var t=e.open,i=e.onClose,o=e.setFormData,n=e.formData;return(0,s.$G)().t,t?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{onClick:i,style:g}),(0,b.jsx)("div",{style:x,className:h,children:["Offline","Online"].map((function(e,t){return(0,b.jsx)("div",{className:f,onClick:function(){o((0,c.Z)((0,c.Z)({},n),{},{paymentType:e})),i()},children:e},t)}))})]}):null},k=i(55581),p=(i(49384),i(98734)),N={inputProps:{"aria-label":"Switch demo"}};var Z=function(e){var t=e.open,i=e.hideModal,l=e.issueId,a=e.onRefetchWhenBookCollect,r=(0,s.$G)().t,h=(0,n.useState)(!1),f=(0,o.Z)(h,2),g=f[0],x=f[1],Z=(0,n.useState)(!1),y=(0,o.Z)(Z,2),I=y[0],S=y[1],C=(0,k.LN)(),B=(0,o.Z)(C,1)[0],M=(0,n.useState)({damaged:!1,lost:!1}),L=(0,o.Z)(M,2),F=L[0],T=L[1],w=(0,n.useState)({enterAmount:!1,fineCharge:0,paymentType:"Offline"}),A=(0,o.Z)(w,2),D=A[0],R=A[1],P=function(e){"Damaged"===e.name?T((function(t){return(0,c.Z)((0,c.Z)({},t),{},{damaged:e.value,lost:!1})})):T((function(t){return(0,c.Z)((0,c.Z)({},t),{},{damaged:!1,lost:e.value})}))};return(0,b.jsxs)(u.Z,{open:t,onClose:function(){return i(!1)},children:[(0,b.jsxs)("div",{className:v.collectModal,children:[(0,b.jsx)("div",{className:v.collectModaltop,children:r("collect_book")}),(0,b.jsxs)("div",{className:v.collectModalbody,children:[(0,b.jsxs)("div",{className:v.swichRow,children:[(0,b.jsx)("p",{className:v.swichRowlabel,children:r("damaged")}),(0,b.jsx)(m.Z,(0,c.Z)((0,c.Z)({},N),{},{checked:F.damaged,onClick:function(e){return P({name:"Damaged",value:e.target.checked})}}))]}),(0,b.jsxs)("div",{className:v.swichRow,children:[(0,b.jsx)("p",{className:v.swichRowlabel,children:r("lost")}),(0,b.jsx)(m.Z,(0,c.Z)((0,c.Z)({},N),{},{checked:F.lost,onClick:function(e){return P({name:"Lost",value:e.target.checked})}}))]}),D.enterAmount&&(0,b.jsx)("p",{className:v.errorspan,children:r("charg_reason")}),(F.damaged||F.lost)&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:v.inputt,children:(0,b.jsx)(_.o,{type:"number",placeholder:r("enter_damage_amount"),label:r("enter_damage_fine"),value:D.fineCharge,handleChange:function(e){return R((0,c.Z)((0,c.Z)({},D),{},{fineCharge:parseInt(e.target.value)}))},customStyleInput:{width:"100%",padding:"0.6rem"}})}),(0,b.jsxs)("div",{className:v.inputt,children:[(0,b.jsx)("h3",{className:v.input_label,children:r("collection_type")}),(0,b.jsx)("p",{className:v.input_labelsmall,children:r("cheque_note")}),(0,b.jsxs)("div",{className:I?"".concat(v.formselectactive," ").concat(v.formselect):v.formselect,onClick:function(){return S(!I)},children:[D.paymentType&&""!==D.paymentType?(0,b.jsx)("h6",{className:v.genderh,onClick:function(){return S(!0)},children:D.paymentType}):(0,b.jsx)("h6",{className:"".concat(v.genderplaceholder," ").concat(v.genderh),onClick:function(){return S(!0)},children:r("select_payment_mode")}),I?(0,b.jsx)("img",{className:"".concat(v.updownIcon," ").concat(v.downIcon),src:"".concat(d.pc,"/up-triangle-icon.svg"),alt:""}):(0,b.jsx)("img",{className:v.upIcon,src:"".concat(d.pc,"/downn-icon.svg"),alt:""}),(0,b.jsx)(j,{open:I,onClose:function(){return S(!1)},setFormData:R,formData:D})]})]})]}),(0,b.jsx)("button",{disabled:g,className:v.confirmbtn,onClick:function(){0===D.fineCharge?R((function(e){return(0,c.Z)((0,c.Z)({},e),{},{enterAmount:!0})})):(x((function(e){return!e})),B({lid:l,collectData:{chargeBy:F.damaged?"Damaged":F.lost?"Lost":"",paymentType:D.paymentType,fineCharge:D.fineCharge}}).then((function(){a(),i(!1),x((function(e){return!e}))})).catch((function(){x((function(e){return!e}))})))},children:r("confirm")})]})]}),g&&(0,b.jsx)(p.Z,{})]})};var y=function(e){var t,i,a,c,u,v,m,_,h,f=e.status,g=e.book,x=e.issueId,j=e.member,k=e.onRefetchWhenBookCollect,p=(0,s.$G)().t,N=(0,n.useState)(!1),y=(0,o.Z)(N,2),I=y[0],S=y[1];return(0,b.jsxs)("div",{className:"memberdetail"===f?"".concat(l.Z.issuedBookItem," ").concat(l.Z.fullwidth):l.Z.issuedBookItem,children:[(0,b.jsxs)("div",{className:l.Z.issuedBookItemTop,children:[(0,b.jsx)("div",{className:l.Z.issuedBookItemTopleft,children:(0,b.jsx)("img",{className:l.Z.bookItemImg,src:null!==g&&void 0!==g&&null!==(t=g.book)&&void 0!==t&&t.photo?"".concat(d.yI,"/").concat(null===g||void 0===g||null===(i=g.book)||void 0===i?void 0:i.photo):"/images/defaultBook.png"})}),(0,b.jsxs)("div",{className:l.Z.issuedBookItemTopright,children:[(0,b.jsx)("h6",{className:l.Z.title,children:(null===g||void 0===g||null===(a=g.book)||void 0===a||null===(c=a.bookName)||void 0===c?void 0:c.length)>=18?"".concat(null===g||void 0===g||null===(u=g.book)||void 0===u||null===(v=u.bookName)||void 0===v?void 0:v.match(/.{1,18}/g)[0]," ..."):null===g||void 0===g||null===(m=g.book)||void 0===m?void 0:m.bookName}),(0,b.jsxs)("p",{className:l.Z.author,children:[null===g||void 0===g||null===(_=g.book)||void 0===_?void 0:_.author," \xa0",(0,b.jsx)("span",{className:l.Z.authorLabel,children:p("author")})]}),(0,b.jsxs)("p",{className:l.Z.booklang,children:[" ",null===g||void 0===g||null===(h=g.book)||void 0===h?void 0:h.language]})]})]}),(0,b.jsxs)("div",{className:l.Z.issuedBookItemMid,children:[(0,b.jsx)("div",{className:l.Z.issuedBookItemMidleft,children:(0,b.jsx)("div",{className:l.Z.imgcontainer,children:(0,b.jsx)("img",{src:"1"!==(null===j||void 0===j?void 0:j.photoId)?"".concat(d.yI,"/").concat(null===j||void 0===j?void 0:j.studentProfilePhoto):"/images/user_default_img.svg",alt:""})})}),(0,b.jsxs)("div",{className:l.Z.issuedBookItemMidright,children:[(0,b.jsxs)("h6",{children:[" ","".concat(null===j||void 0===j?void 0:j.studentFirstName," ").concat(null!==j&&void 0!==j&&j.studentMiddleName?null===j||void 0===j?void 0:j.studentMiddleName:""," ").concat(null===j||void 0===j?void 0:j.studentLastName)]}),(0,b.jsxs)("p",{children:[p("gr_no")," ",null===j||void 0===j?void 0:j.studentGRNO," "]})]})]}),(0,b.jsxs)("div",{className:l.Z.issuedBookItemBottom,children:[(0,b.jsxs)("div",{className:l.Z.issuedBookItemBottomLeft,children:[(0,b.jsxs)("p",{children:[p("issue_date"),":"]}),(0,b.jsx)("h6",{children:r()(null===g||void 0===g?void 0:g.createdAt).format("Do MMM YYYY")})]}),"studentMemberDetail"!==f&&(0,b.jsx)("div",{className:l.Z.collectbtn,onClick:function(){return S(!0)},children:p("collect")})]}),I&&(0,b.jsx)(Z,{open:I,hideModal:function(e){S(e)},issueId:x,onRefetchWhenBookCollect:k})]})}},62068:function(e,t,i){i.r(t),i.d(t,{default:function(){return Ye}});var o=i(72791),n=i(42817),l=i(16871),s=i(78687),d="LibraryHead_departmenthead__Cbrn7",a=i(39230),r=i(20943),c=i(93433),u=i(29439),v=i(47630),m=i(11053),_=i(23441),h=i(55581),f=i(11105),b=i(80184);var g=function(){var e=(0,a.$G)().t,t=(0,s.useSelector)((function(e){return e.libraryChange.lid})),i=(0,_.YD)(),n=(0,u.Z)(i,2),l=n[0],d=n[1],r=(0,o.useState)(1),g=(0,u.Z)(r,2),x=g[0],j=g[1],k=(0,o.useState)([]),p=(0,u.Z)(k,2),N=p[0],Z=p[1],y=(0,o.useState)(!0),I=(0,u.Z)(y,2),S=I[0],C=I[1],B=(0,o.useState)(!0),M=(0,u.Z)(B,2),L=M[0],F=M[1],T=(0,h.mU)({data:{lid:t,page:x,limit:10},skip:!t}),w=T.getCollectedBooklist,A=T.getCollectedBookListRefetch;return(0,o.useEffect)((function(){d&&S&&j((function(e){return e+1}))}),[d,S]),(0,o.useEffect)((function(){t&&(F(!0),A())}),[x,t,A]),(0,o.useEffect)((function(){var e,t;null!==w&&void 0!==w&&w.collected?(Z((function(e){var t,i;return null===(t=(0,c.Z)(new Set(null===(i=[].concat((0,c.Z)(e),(0,c.Z)(null===w||void 0===w?void 0:w.collected)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),F(!1)):0===(null===w||void 0===w||null===(e=w.collected)||void 0===e?void 0:e.length)&&F(!1),10===(null===w||void 0===w||null===(t=w.collected)||void 0===t?void 0:t.length)?C(!0):C(!1)}),[null===w||void 0===w?void 0:w.collected]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:v.Z.searchContainerr,children:(0,b.jsxs)("div",{className:v.Z.searchContainer,children:[(0,b.jsx)("img",{alt:"",src:"/images/search-dept-icon.svg"}),(0,b.jsx)("input",{type:"text",placeholder:e("search-label"),required:!0})]})}),(0,b.jsx)("div",{className:v.Z.remainingFees,children:(0,b.jsx)("div",{className:v.Z.remainingFeesBottom,children:(0,b.jsxs)("div",{className:v.Z.itemsContainer,children:[null===N||void 0===N?void 0:N.map((function(e,t){return(null===N||void 0===N?void 0:N.length)===t+1?(0,b.jsx)("div",{ref:l,className:v.Z.itemsRef,children:(0,b.jsx)(m.Z,{book:e,status:"memberdetail"})},t):(0,b.jsx)("div",{className:v.Z.itemsRef,children:(0,b.jsx)(m.Z,{book:e,status:"memberdetail"})},t)})),L&&(0,b.jsx)(f.Z,{}),!L&&0===(null===N||void 0===N?void 0:N.length)&&(0,b.jsx)("div",{className:v.Z.noData,children:(0,b.jsx)("img",{src:"/images/nodata.jpg",alt:""})})]})})})]})},x=i(86864),j=i(96945),k={issue_modal:"AssignBookMember_issue_modal__CsMlG",issueModalbody:"AssignBookMember_issueModalbody__zmjXk",issueModaltop:"AssignBookMember_issueModaltop__FEn0H",issuedBookItem:"AssignBookMember_issuedBookItem__O6ige",imgcontainer:"AssignBookMember_imgcontainer__SNcot",issuedBookItemMidright:"AssignBookMember_issuedBookItemMidright__rHLh0",issuedBookItemBottomLeft:"AssignBookMember_issuedBookItemBottomLeft__iGaQa",textt:"AssignBookMember_textt__asvMa",issueModaltopback:"AssignBookMember_issueModaltopback__mSNrr",issueModaltopsearch:"AssignBookMember_issueModaltopsearch__LOzxC",dash:"AssignBookMember_dash__93bg2",selectedText:"AssignBookMember_selectedText__ClVj+",itembookcontainer:"AssignBookMember_itembookcontainer__p1Vvj",itembookk:"AssignBookMember_itembookk__peZln",itembookcursor:"AssignBookMember_itembookcursor__tmbUD",issueBookk:"AssignBookMember_issueBookk__XKvQd",bookmargin:"AssignBookMember_bookmargin__vGsHh",bluetick:"AssignBookMember_bluetick__MsUzs",issuedDate:"AssignBookMember_issuedDate__lwPu+",issuebtn:"AssignBookMember_issuebtn__Dojwp",searchContainerr:"AssignBookMember_searchContainerr__yC1ub",searchContainer:"AssignBookMember_searchContainer__yk8R1",closeIconContainer:"AssignBookMember_closeIconContainer__ZHAU4",closeIcon:"AssignBookMember_closeIcon__pv9rs",author:"AssignBookMember_author__d7utn",authorLabel:"AssignBookMember_authorLabel__iKeFN"},p=i(36665),N=i(98734),Z=i(6245),y=i(763),I=function(e){var t=e.onSearch,i=e.onBack,n=e.step,l=(0,a.$G)().t,s=(0,o.useState)(!1),d=(0,u.Z)(s,2),r=d[0],c=d[1],v=(0,o.useCallback)((0,y.debounce)((function(e){return t(e)}),500),[]);return(0,b.jsx)("div",{className:k.issueModaltop,children:r?(0,b.jsxs)("div",{className:k.searchContainerr,children:[(0,b.jsxs)("div",{className:k.searchContainer,children:[(0,b.jsx)("img",{alt:"",src:"/images/search-dept-icon.svg"}),(0,b.jsx)("input",{type:"text",placeholder:l("search-label"),onChange:function(e){v(e.target.value)}})]}),(0,b.jsx)("div",{className:k.closeIconContainer,children:(0,b.jsx)("img",{onClick:function(){t(""),c((function(e){return!e}))},className:k.closeIcon,src:"/images/user_signup/close.svg",alt:""})})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("img",{className:k.issueModaltopback,src:"/images/back.svg",alt:"",onClick:i}),(0,b.jsx)("h6",{className:k.issueModaltoph6,children:l(0===n?"select_member":1===n?"select_book":"issued_preview")}),2!==n&&(0,b.jsx)("img",{onClick:function(){c((function(e){return!e}))},className:k.issueModaltopsearch,src:"/images/search-icon.svg",alt:""})]})})},S=i(69721);var C=function(e){var t=e.student,i=e.onAddMember,o=(0,a.$G)().t;return(0,b.jsxs)("div",{className:k.issuedBookItem,onClick:function(){return i(t)},children:[(0,b.jsx)("div",{className:k.issuedBookItemMidleft,children:(0,b.jsx)("div",{className:k.imgcontainer,children:(0,b.jsx)("img",{src:"1"!==(null===t||void 0===t?void 0:t.photoId)?"".concat(S.yI,"/").concat(null===t||void 0===t?void 0:t.studentProfilePhoto):"/images/user_default_img.svg",alt:""})})}),(0,b.jsxs)("div",{className:k.issuedBookItemMidright,children:[(0,b.jsx)("h6",{children:"".concat(null===t||void 0===t?void 0:t.studentFirstName," ").concat(null!==t&&void 0!==t&&t.studentMiddleName?null===t||void 0===t?void 0:t.studentMiddleName:""," ").concat(null===t||void 0===t?void 0:t.studentLastName)}),(0,b.jsxs)("p",{children:[o("gr_no")," ",null===t||void 0===t?void 0:t.studentGRNO]})]})]})},B=function(e){var t=e.instituteId,i=e.onAddMember,n=e.onBack,l=e.step,s=(0,o.useState)(""),d=(0,u.Z)(s,2),a=d[0],r=d[1],v=(0,_.YD)({skip:a}),m=(0,u.Z)(v,2),h=m[0],g=m[1],x=(0,o.useState)([]),j=(0,u.Z)(x,2),k=j[0],p=j[1],N=(0,o.useState)(1),y=(0,u.Z)(N,2),S=y[0],B=y[1],M=(0,o.useState)(!0),L=(0,u.Z)(M,2),F=L[0],T=L[1],w=(0,o.useState)(!0),A=(0,u.Z)(w,2),D=A[0],R=A[1],P=(0,Z.Mu)({data:{id:t,page:S,limit:10},skip:!t}),z=P.approveStudentList,O=P.approveStudentListRefetch,Y=(0,Z.iR)({data:{search:a,page:1,limit:10,id:t},skip:!a}),E=Y.searchStudent,G=Y.searchStudentRefetch;(0,o.useEffect)((function(){g&&F&&B((function(e){return e+1}))}),[g,F]),(0,o.useEffect)((function(){a&&t&&(R(!0),G())}),[a,t,S,G]),(0,o.useEffect)((function(){t&&(R(!0),O())}),[t,S,O]),(0,o.useEffect)((function(){var e,t,i;a?null!==E&&void 0!==E&&E.student?(p(1===S?null===E||void 0===E?void 0:E.student:function(e){var t,i;return null===(t=(0,c.Z)(new Set(null===(i=[].concat((0,c.Z)(e),(0,c.Z)(null===E||void 0===E?void 0:E.student)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)}),R(!1)):0===(null===E||void 0===E||null===(t=E.student)||void 0===t?void 0:t.length)&&R(!1):null!==z&&void 0!==z&&z.studentIns?(p(1===S?null===z||void 0===z?void 0:z.studentIns:function(e){var t,i;return null===(t=(0,c.Z)(new Set(null===(i=[].concat((0,c.Z)(e),(0,c.Z)(null===z||void 0===z?void 0:z.studentIns)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)}),R(!1)):0===(null===z||void 0===z||null===(i=z.studentIns)||void 0===i?void 0:i.length)&&R(!1);10===(null===z||void 0===z||null===(e=z.studentIns)||void 0===e?void 0:e.length)?T(!0):T(!1)}),[null===z||void 0===z?void 0:z.studentIns,null===E||void 0===E?void 0:E.student]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(I,{onBack:n,step:l,onSearch:function(e){B((function(e){return 1})),r(e)}}),null===k||void 0===k?void 0:k.map((function(e,t){return(null===k||void 0===k?void 0:k.length)===t+1?(0,b.jsx)("div",{ref:h,children:(0,b.jsx)(C,{student:e,onAddMember:i})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(C,{student:e,onAddMember:i},null===e||void 0===e?void 0:e._id)})),D&&(0,b.jsx)(f.Z,{status:"white"})]})};var M=function(e){var t=e.book,i=e.status,o=e.onAddBook,n=(0,a.$G)().t;return(0,b.jsxs)("div",{className:"issueBook"!==i?"".concat(k.itembookk," ").concat(k.itembookcursor):k.itembookk,onClick:function(){"selectbook"===i&&o(t)},children:["issueBook"===i&&(0,b.jsx)("img",{className:k.bluetick,src:"/images/library/bluetick.svg",alt:"verified"}),(0,b.jsx)("p",{className:k.selectedText,children:null===t||void 0===t?void 0:t.language}),(0,b.jsx)("img",{src:null!==t&&void 0!==t&&t.photo?"".concat(S.yI,"/").concat(null===t||void 0===t?void 0:t.photo):"/images/defaultBook.png",alt:""}),(0,b.jsxs)("div",{className:k.textt,children:[(0,b.jsx)("h6",{children:null===t||void 0===t?void 0:t.bookName}),(0,b.jsxs)("p",{className:k.author,children:[null===t||void 0===t?void 0:t.author," \xa0",(0,b.jsx)("span",{className:k.authorLabel,children:n("author")})]})]})]})},L=function(e){var t=e.member,i=e.onAddBook,n=e.onBack,l=e.step,d=(0,a.$G)().t,r=(0,_.YD)(),v=(0,u.Z)(r,2),m=v[0],g=v[1],x=(0,o.useState)(1),j=(0,u.Z)(x,2),p=j[0],N=j[1],Z=(0,o.useState)(!0),y=(0,u.Z)(Z,2),C=y[0],B=y[1],L=(0,o.useState)(!0),F=(0,u.Z)(L,2),T=F[0],w=F[1],A=(0,o.useState)([]),D=(0,u.Z)(A,2),R=D[0],P=D[1],z=(0,o.useState)(""),O=(0,u.Z)(z,2),Y=O[0],E=O[1],G=(0,s.useSelector)((function(e){return e.libraryChange})),W=(0,h.O_)({data:{lid:null===G||void 0===G?void 0:G.lid,page:p,limit:10,search:Y,flow:"ISSUE_BOOK"},skip:!(null!==G&&void 0!==G&&G.lid)}),J=W.getBooklist,U=W.getBookListRefetch;(0,o.useEffect)((function(){null!==G&&void 0!==G&&G.lid&&(w(!0),U())}),[null===G||void 0===G?void 0:G.lid,p,Y,U]),(0,o.useEffect)((function(){g&&C&&N((function(e){return e+1}))}),[g,C]),(0,o.useEffect)((function(){var e,t;Y?(P(null===J||void 0===J?void 0:J.books),w(!1)):null!==J&&void 0!==J&&J.books?(P(1===p?null===J||void 0===J?void 0:J.books:function(e){var t,i;return null===(t=(0,c.Z)(new Set(null===(i=[].concat((0,c.Z)(e),(0,c.Z)(null===J||void 0===J?void 0:J.books)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)}),w(!1)):0===(null===J||void 0===J||null===(t=J.books)||void 0===t?void 0:t.length)&&w(!1);10===(null===J||void 0===J||null===(e=J.books)||void 0===e?void 0:e.length)?B(!0):B(!1)}),[null===J||void 0===J?void 0:J.books]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(I,{onBack:n,step:l,onSearch:function(e){N((function(e){return 1})),E(e)}}),(0,b.jsxs)("div",{className:k.selectbook,children:[(0,b.jsxs)("div",{className:k.issuedBookItem,children:[(0,b.jsx)("p",{className:k.selectedText,children:d("selected")}),(0,b.jsx)("div",{className:k.issuedBookItemMidleft,children:(0,b.jsx)("div",{className:k.imgcontainer,children:(0,b.jsx)("img",{src:null!==t&&void 0!==t&&t.studentProfilePhoto?"".concat(S.yI,"/").concat(null===t||void 0===t?void 0:t.studentProfilePhoto):"/images/user_default_img.svg",alt:""})})}),(0,b.jsxs)("div",{className:k.issuedBookItemMidright,children:[(0,b.jsx)("h6",{children:"".concat(null===t||void 0===t?void 0:t.studentFirstName," ").concat(null!==t&&void 0!==t&&t.studentMiddleName?null===t||void 0===t?void 0:t.studentMiddleName:""," ").concat(null===t||void 0===t?void 0:t.studentLastName)}),(0,b.jsxs)("p",{children:[d("gr_no")," ",null===t||void 0===t?void 0:t.studentGRNO]})]})]}),(0,b.jsx)("div",{className:k.dash}),(0,b.jsxs)("div",{className:k.itembookcontainer,children:[null===R||void 0===R?void 0:R.map((function(e,t){return(null===R||void 0===R?void 0:R.length)===t+1?(0,b.jsx)("div",{ref:m,children:(0,b.jsx)(M,{status:"selectbook",book:e,onAddBook:i})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(M,{status:"selectbook",book:e,onAddBook:i},null===e||void 0===e?void 0:e._id)})),T&&(0,b.jsx)(f.Z,{status:"white"})]})]})]})},F=i(72426),T=i.n(F),w=function(e){var t=e.member,i=e.book,o=e.onBack,n=e.step,l=e.onIssueBook,s=(0,a.$G)().t;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(I,{onBack:o,step:n}),(0,b.jsxs)("div",{className:k.issueBookk,children:[(0,b.jsx)("h6",{children:s("member")}),(0,b.jsxs)("div",{className:"".concat(k.itembookk," ").concat(k.bookmargin),children:[(0,b.jsx)("img",{className:k.bluetick,src:"/images/library/bluetick.svg",alt:"verified"}),(0,b.jsx)("div",{className:k.issuedBookItemMidleft,children:(0,b.jsx)("div",{className:k.imgcontainer,children:(0,b.jsx)("img",{src:null!==t&&void 0!==t&&t.studentProfilePhoto?"".concat(S.yI,"/").concat(null===t||void 0===t?void 0:t.studentProfilePhoto):"/images/user_default_img.svg",alt:""})})}),(0,b.jsxs)("div",{className:k.issuedBookItemMidright,children:[(0,b.jsx)("h6",{children:"".concat(null===t||void 0===t?void 0:t.studentFirstName," ").concat(null!==t&&void 0!==t&&t.studentMiddleName?null===t||void 0===t?void 0:t.studentMiddleName:""," ").concat(null===t||void 0===t?void 0:t.studentLastName)}),(0,b.jsxs)("p",{children:[s("gr_no")," ",null===t||void 0===t?void 0:t.studentGRNO]})]})]}),(0,b.jsx)("h6",{children:s("book")}),(0,b.jsx)(M,{book:i,status:"issueBook"}),(0,b.jsxs)("h6",{className:k.issuedDate,children:[s("issue_date")," : ",(0,b.jsx)("span",{children:T()().format("Do MMM YYYY")})]}),(0,b.jsx)("button",{className:k.issuebtn,onClick:l,children:s("issue_book")})]})]})},A=function(e){var t=e.onClose,i=e.instituteId,n=e.onRefetchWhenBookIssue,l=(0,s.useSelector)((function(e){return e.libraryChange})),d=(0,o.useState)(0),a=(0,u.Z)(d,2),r=a[0],c=a[1],v=(0,o.useState)(!1),m=(0,u.Z)(v,2),_=m[0],f=m[1],g=(0,o.useState)(""),x=(0,u.Z)(g,2),j=x[0],Z=x[1],y=(0,o.useState)(""),I=(0,u.Z)(y,2),S=I[0],C=I[1],M=(0,h.EI)(),F=(0,u.Z)(M,1)[0],T=function(){0===r?t():c(1===r?0:1)};return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(p.Z,{onClose:T,children:[(0,b.jsxs)("div",{className:k.issue_modal,children:[0===r&&(0,b.jsx)(B,{instituteId:i,onAddMember:function(e){Z(e),c(1)},step:r,onBack:T}),1===r&&(0,b.jsx)(L,{onAddBook:function(e){C(e),c(2)},step:r,onBack:T,member:j}),2===r&&(0,b.jsx)(w,{step:r,onBack:T,book:S,member:j,onIssueBook:function(){null!==l&&void 0!==l&&l.lid&&null!==j&&void 0!==j&&j._id&&null!==S&&void 0!==S&&S._id&&(f(!0),F({lid:null===l||void 0===l?void 0:l.lid,issueData:{memberId:null===j||void 0===j?void 0:j._id,bookId:null===S||void 0===S?void 0:S._id}}).then((function(){n(),t(!1),f(!1)})).catch((function(){})))}})]}),_&&(0,b.jsx)(N.Z,{})]})})};var D=function(e){var t=e.insId,i=(0,a.$G)().t,n=(0,_.YD)(),l=(0,u.Z)(n,2),d=l[0],r=l[1],v=(0,o.useState)(1),m=(0,u.Z)(v,2),g=m[0],k=m[1],p=(0,o.useState)([]),N=(0,u.Z)(p,2),Z=N[0],y=N[1],I=(0,o.useState)(!0),S=(0,u.Z)(I,2),C=S[0],B=S[1],M=(0,o.useState)(!0),L=(0,u.Z)(M,2),F=L[0],T=L[1],w=(0,o.useState)(!1),D=(0,u.Z)(w,2),R=D[0],P=D[1],z=(0,o.useState)(!1),O=(0,u.Z)(z,2),Y=O[0],E=O[1],G=(0,s.useSelector)((function(e){return e.libraryChange.lid})),W=(0,h.aA)({data:{lid:G,page:g,limit:10},skip:!G}),J=W.getIssuedBooklist,U=W.getIssuedBookListRefetch;(0,o.useEffect)((function(){r&&C&&k((function(e){return e+1}))}),[r,C]),(0,o.useEffect)((function(){G&&(T(!0),U())}),[g,G,U]),(0,o.useEffect)((function(){var e,t;null!==J&&void 0!==J&&J.issues&&(R?(y(null===J||void 0===J?void 0:J.issues),T(!1),P(!1)):null!==J&&void 0!==J&&J.issues?(y((function(e){var t,i;return null===(t=(0,c.Z)(new Set(null===(i=[].concat((0,c.Z)(e),(0,c.Z)(null===J||void 0===J?void 0:J.issues)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),T(!1)):0===(null===J||void 0===J||null===(t=J.issues)||void 0===t?void 0:t.length)&&T(!1));10===(null===J||void 0===J||null===(e=J.issues)||void 0===e?void 0:e.length)?B(!0):B(!1)}),[null===J||void 0===J?void 0:J.issues]);var q=function(){k(1),P(!0),T(!0),U()};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:x.Z.searchContainerr,children:[(0,b.jsxs)("div",{className:x.Z.searchContainer,children:[(0,b.jsx)("img",{alt:"",src:"/images/search-dept-icon.svg"}),(0,b.jsx)("input",{type:"text",placeholder:i("search-label"),required:!0})]}),(0,b.jsx)("div",{className:x.Z.newBtn,onClick:function(){return E(!0)},children:i("issue_book")})]}),(0,b.jsx)("div",{className:x.Z.remainingFees,children:(0,b.jsx)("div",{className:x.Z.remainingFeesBottom,children:(0,b.jsxs)("div",{className:x.Z.itemsContainer,children:[null===Z||void 0===Z?void 0:Z.map((function(e,t){return(null===Z||void 0===Z?void 0:Z.length)===t+1?(0,b.jsx)("div",{ref:d,className:x.Z.itemsRef,children:(0,b.jsx)(j.Z,{book:e,member:null===e||void 0===e?void 0:e.member,issueId:null===e||void 0===e?void 0:e._id,onRefetchWhenBookCollect:q})},t):(0,b.jsx)("div",{className:x.Z.itemsRef,children:(0,b.jsx)(j.Z,{book:e,member:null===e||void 0===e?void 0:e.member,issueId:null===e||void 0===e?void 0:e._id,onRefetchWhenBookCollect:q})},t)})),F&&(0,b.jsx)(f.Z,{}),!F&&0===(null===Z||void 0===Z?void 0:Z.length)&&(0,b.jsx)("div",{className:x.Z.noData,children:(0,b.jsx)("img",{src:"/images/nodata.jpg",alt:""})})]})})}),Y&&(0,b.jsx)(A,{instituteId:t,onClose:function(){return E(!1)},onRefetchWhenBookIssue:q})]})},R="LibraryFunctions_admisionApplication__fRg1p",P="LibraryFunctions_fine_heading__8SY2N",z="LibraryFunctions_applicationBody__y4W-g",O="LibraryFunctions_library_out_container__CTiYI",Y="LibraryFunctions_data_container__ftUZh",E={remainingFees:"LibraryMembers_remainingFees__TUGAx",remainingFeesBottom:"LibraryMembers_remainingFeesBottom__tkXv0",itemsContainer:"LibraryMembers_itemsContainer__NqL1x",searchContainerr:"LibraryMembers_searchContainerr__anPoa",searchContainer:"LibraryMembers_searchContainer__xcCdh",newBtn:"LibraryMembers_newBtn__t+PYj",completeApplicationSplit:"LibraryMembers_completeApplicationSplit__CAq2U",half:"LibraryMembers_half__g9MQ3","slide-effect":"LibraryMembers_slide-effect__BUUqj",itemsDetails:"LibraryMembers_itemsDetails__qlg+F",memberItem:"LibraryMembers_memberItem__UkzDx",imgcontainer:"LibraryMembers_imgcontainer__-OGYL",issuedBookItemMidright:"LibraryMembers_issuedBookItemMidright__ckDVj",memberdetails:"LibraryMembers_memberdetails__95VBU",memberdetailstop:"LibraryMembers_memberdetailstop__rb54C",tabs:"LibraryMembers_tabs__qMurf",membersContainer:"LibraryMembers_membersContainer__qQAJm",loader:"LibraryMembers_loader__cjH+a",noData:"LibraryMembers_noData__z2c-T",limember:"LibraryMembers_limember__R+50+",itemsRef:"LibraryMembers_itemsRef__yTvIy",memberItemactive:"LibraryMembers_memberItemactive__WcBZ8"};var G=function(e){var t=e.index,i=e.member,o=e.setMid,n=e.mid,l=(0,a.$G)().t;return(0,b.jsxs)("div",{className:(null===i||void 0===i?void 0:i._id)===n?"".concat(E.memberItem," ").concat(E.memberItemactive):E.memberItem,onClick:function(){return o(null===i||void 0===i?void 0:i._id)},children:[(0,b.jsx)("div",{className:E.issuedBookItemMidleft,children:(0,b.jsx)("div",{className:E.imgcontainer,children:(0,b.jsx)("img",{src:"1"!==(null===i||void 0===i?void 0:i.photoId)?"".concat(S.yI,"/").concat(null===i||void 0===i?void 0:i.studentProfilePhoto):"/images/user_default_img.svg",alt:""})})}),(0,b.jsxs)("div",{className:E.issuedBookItemMidright,children:[(0,b.jsx)("h6",{children:"".concat(null===i||void 0===i?void 0:i.studentFirstName," ").concat(null!==i&&void 0!==i&&i.studentMiddleName?null===i||void 0===i?void 0:i.studentMiddleName:""," ").concat(null===i||void 0===i?void 0:i.studentLastName)}),(0,b.jsxs)("p",{children:[l("index_no")," : ",t," "]})]})]})},W=i(1413),J="Tabs_mcqToptabs__ccG7U",U="Tabs_mcqTop__20iW4",q="Tabs_mcqTopItem__oghuj",H="Tabs_active__6c5Pg";var $=function(e){var t=e.activeIndex,i=e.setActiveIndex,o=(0,a.$G)().t;return(0,b.jsx)("div",{className:U,children:(0,b.jsxs)("div",{className:J,children:[(0,b.jsx)("div",{className:0===t?"".concat(q," ").concat(H):q,onClick:function(){return i(0)},children:o("issued")}),(0,b.jsx)("div",{className:1===t?"".concat(q," ").concat(H):q,onClick:function(){return i(1)},children:o("history")})]})})},K=o.forwardRef((function(e,t){var i,o;return(0,b.jsxs)("div",{className:E.membersContainer,children:[null===e||void 0===e||null===(i=e.borrowList)||void 0===i?void 0:i.map((function(i,o){var n;return(null===e||void 0===e||null===(n=e.borrowList)||void 0===n?void 0:n.length)===o+1?(0,b.jsx)("div",{ref:t,className:E.limember,children:(0,b.jsx)(j.Z,{book:i,member:null===e||void 0===e?void 0:e.member,issueId:null===i||void 0===i?void 0:i._id,onRefetchWhenBookCollect:null===e||void 0===e?void 0:e.onRefetchWhenBookCollect})},o):(0,b.jsx)("div",{className:E.limember,children:(0,b.jsx)(j.Z,{book:i,member:null===e||void 0===e?void 0:e.member,issueId:null===i||void 0===i?void 0:i._id,onRefetchWhenBookCollect:null===e||void 0===e?void 0:e.onRefetchWhenBookCollect})},o)})),(null===e||void 0===e?void 0:e.showingDataLoading)&&(0,b.jsx)(f.Z,{}),!(null!==e&&void 0!==e&&e.showingDataLoading)&&0===(null===e||void 0===e||null===(o=e.borrowList)||void 0===o?void 0:o.length)&&(0,b.jsx)("div",{className:E.noData,children:(0,b.jsx)("img",{src:"/images/nodata.jpg",alt:""})})]})}));var V=function(e){var t,i,n=e.mid,l=(0,_.YD)(),s=(0,u.Z)(l,2),d=s[0],a=s[1],r=(0,o.useState)(1),v=(0,u.Z)(r,2),g=v[0],x=v[1],j=(0,o.useState)(!0),k=(0,u.Z)(j,2),p=k[0],N=k[1],Z=(0,o.useState)(!0),y=(0,u.Z)(Z,2),I=y[0],S=y[1],C=(0,o.useState)({memberId:"",historyList:[]}),B=(0,u.Z)(C,2),M=B[0],L=B[1],F=(0,h.Ef)({data:{sid:n,page:M.memberId!==n?1:g,limit:10},skip:!n}),T=F.getMemberHistorylist,w=F.getMemberHistoryListRefetch;return(0,o.useEffect)((function(){a&&p&&x((function(e){return e+1}))}),[a,p]),(0,o.useEffect)((function(){n&&(S(!0),w())}),[g,n,w]),(0,o.useEffect)((function(){var e,t;null!==T&&void 0!==T&&T.history?M.memberId===n?(L((function(e){var t,i;return(0,W.Z)((0,W.Z)({},e),{},{historyList:null===(t=(0,c.Z)(new Set(null===(i=[].concat((0,c.Z)(e.historyList),(0,c.Z)(null===T||void 0===T?void 0:T.history)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})})),S(!1)):(L({memberId:n,historyList:(0,c.Z)(null===T||void 0===T?void 0:T.history)}),S(!1)):0===(null===T||void 0===T||null===(e=T.history)||void 0===e?void 0:e.length)&&S(!1),10===(null===T||void 0===T||null===(t=T.history)||void 0===t?void 0:t.length)?N(!0):N(!1)}),[null===T||void 0===T?void 0:T.history]),(0,b.jsxs)("div",{className:E.membersContainer,children:[null===(t=M.historyList)||void 0===t?void 0:t.map((function(e,t){var i;return(null===(i=M.historyList)||void 0===i?void 0:i.length)===t+1?(0,b.jsx)("div",{ref:d,className:E.limember,children:(0,b.jsx)(m.Z,{status:"memberdetail",book:e})},t):(0,b.jsx)("div",{className:E.limember,children:(0,b.jsx)(m.Z,{status:"memberdetail",book:e})},t)})),I&&(0,b.jsx)(f.Z,{}),!I&&0===(null===(i=M.historyList)||void 0===i?void 0:i.length)&&(0,b.jsx)("div",{className:E.noData,children:(0,b.jsx)("img",{src:"/images/nodata.jpg",alt:""})})]})};var Q=function(e){var t,i,n,l,s,d,r,v,m,f,g,x,j,k,p,N=e.mid,Z=(0,a.$G)().t,y=(0,o.useState)(0),I=(0,u.Z)(y,2),C=I[0],B=I[1],M=(0,_.YD)(),L=(0,u.Z)(M,2),F=L[0],T=L[1],w=(0,o.useState)(1),A=(0,u.Z)(w,2),D=A[0],R=A[1],P=(0,o.useState)(!0),z=(0,u.Z)(P,2),O=z[0],Y=z[1],G=(0,o.useState)(!1),J=(0,u.Z)(G,2),U=J[0],q=J[1],H=(0,o.useState)(!0),Q=(0,u.Z)(H,2),X=Q[0],ee=Q[1],te=(0,o.useState)({student:"",issueList:[]}),ie=(0,u.Z)(te,2),oe=ie[0],ne=ie[1],le=(0,h.QJ)({data:{sid:N,page:oe.student!==N?1:D,limit:10},skip:!N}),se=le.getMemberBooklist,de=le.getMemberBookListRefetch;return(0,o.useEffect)((function(){T&&O&&R((function(e){return e+1}))}),[T,O]),(0,o.useEffect)((function(){N&&(ee(!0),de())}),[D,N,de]),(0,o.useEffect)((function(){var e,t,i,o,n;if(null!==se&&void 0!==se&&null!==(e=se.student)&&void 0!==e&&e.borrow){var l,s,d;if(oe.student===(null===se||void 0===se||null===(l=se.student)||void 0===l?void 0:l._id))U?(ne((function(e){var t;return(0,W.Z)((0,W.Z)({},e),{},{issueList:(0,c.Z)(null===se||void 0===se||null===(t=se.student)||void 0===t?void 0:t.borrow)})})),q(!1)):ne((function(e){var t,i,o;return(0,W.Z)((0,W.Z)({},e),{},{issueList:null===(t=(0,c.Z)(new Set(null===(i=[].concat((0,c.Z)(e.issueList),(0,c.Z)(null===se||void 0===se||null===(o=se.student)||void 0===o?void 0:o.borrow)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})}));else ne({student:null===se||void 0===se||null===(s=se.student)||void 0===s?void 0:s._id,issueList:(0,c.Z)(null===se||void 0===se||null===(d=se.student)||void 0===d?void 0:d.borrow)});ee(!1)}else 0===(null===se||void 0===se||null===(t=se.student)||void 0===t||null===(i=t.borrow)||void 0===i?void 0:i.length)&&ee(!1);10===(null===se||void 0===se||null===(o=se.student)||void 0===o||null===(n=o.borrow)||void 0===n?void 0:n.length)?Y(!0):Y(!1)}),[null===se||void 0===se||null===(t=se.student)||void 0===t?void 0:t.borrow]),(0,b.jsxs)("div",{className:E.memberdetails,children:[(0,b.jsxs)("div",{className:E.memberdetailstop,children:[(0,b.jsx)("div",{className:E.issuedBookItemMidleft,children:(0,b.jsx)("div",{className:E.imgcontainer,children:(0,b.jsx)("img",{src:"1"!==(null===se||void 0===se||null===(i=se.student)||void 0===i?void 0:i.photoId)?"".concat(S.yI,"/").concat(null===se||void 0===se||null===(n=se.student)||void 0===n?void 0:n.studentProfilePhoto):"/images/user_default_img.svg",alt:""})})}),(0,b.jsxs)("div",{className:E.issuedBookItemMidright,children:[(0,b.jsx)("h6",{children:"".concat(null===se||void 0===se||null===(l=se.student)||void 0===l?void 0:l.studentFirstName," ").concat(null!==se&&void 0!==se&&null!==(s=se.student)&&void 0!==s&&s.studentMiddleName?null===se||void 0===se||null===(d=se.student)||void 0===d?void 0:d.studentMiddleName:""," ").concat(null===se||void 0===se||null===(r=se.student)||void 0===r?void 0:r.studentLastName)}),(0,b.jsxs)("p",{children:[Z("index_no")," : ",null===se||void 0===se||null===(v=se.student)||void 0===v?void 0:v.studentGRNO]})]})]}),(0,b.jsx)("div",{className:E.tabs,children:(0,b.jsx)($,{activeIndex:C,setActiveIndex:B})}),0===C&&(0,b.jsx)(K,{showingDataLoading:X,ref:F,borrowList:oe.issueList,member:{photoId:null===se||void 0===se||null===(m=se.student)||void 0===m?void 0:m.photoId,studentFirstName:null===se||void 0===se||null===(f=se.student)||void 0===f?void 0:f.studentFirstName,studentGRNO:null===se||void 0===se||null===(g=se.student)||void 0===g?void 0:g.studentGRNO,studentLastName:null===se||void 0===se||null===(x=se.student)||void 0===x?void 0:x.studentLastName,studentMiddleName:null===se||void 0===se||null===(j=se.student)||void 0===j?void 0:j.studentMiddleName,studentProfilePhoto:null===se||void 0===se||null===(k=se.student)||void 0===k?void 0:k.studentProfilePhoto,_id:null===se||void 0===se||null===(p=se.student)||void 0===p?void 0:p._id},onRefetchWhenBookCollect:function(){R(1),q(!0),ee(!0),de()}}),1===C&&(0,b.jsx)(V,{mid:N})]})};var X=function(){var e=(0,a.$G)().t,t=(0,s.useSelector)((function(e){return e.libraryChange.lid})),i=(0,_.YD)(),n=(0,u.Z)(i,2),l=n[0],d=n[1],r=(0,o.useState)([]),v=(0,u.Z)(r,2),m=v[0],g=v[1],x=(0,o.useState)(1),j=(0,u.Z)(x,2),k=j[0],p=j[1],N=(0,o.useState)(!0),Z=(0,u.Z)(N,2),y=Z[0],I=Z[1],S=(0,o.useState)(!0),C=(0,u.Z)(S,2),B=C[0],M=C[1],L=(0,o.useState)(""),F=(0,u.Z)(L,2),T=F[0],w=F[1],A=(0,h.I4)({data:{lid:t,page:k,limit:10},skip:!t}),D=A.getMemberslist,R=A.getMembersListRefetch;return(0,o.useEffect)((function(){d&&y&&p((function(e){return e+1}))}),[d,y]),(0,o.useEffect)((function(){t&&(M(!0),R())}),[k,t,R]),(0,o.useEffect)((function(){var e,t;null!==D&&void 0!==D&&D.members?(g((function(e){var t,i;return null===(t=(0,c.Z)(new Set(null===(i=[].concat((0,c.Z)(e),(0,c.Z)(null===D||void 0===D?void 0:D.members)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),M(!1)):0===(null===D||void 0===D||null===(e=D.members)||void 0===e?void 0:e.length)&&M(!1),10===(null===D||void 0===D||null===(t=D.members)||void 0===t?void 0:t.length)?I(!0):I(!1)}),[null===D||void 0===D?void 0:D.members]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:E.searchContainerr,children:(0,b.jsxs)("div",{className:E.searchContainer,children:[(0,b.jsx)("img",{alt:"",src:"/images/search-dept-icon.svg"}),(0,b.jsx)("input",{type:"text",placeholder:e("search-label"),required:!0})]})}),(0,b.jsx)("div",{className:E.remainingFees,children:(0,b.jsxs)("div",{className:T?"".concat(E.completeApplicationSplit):"",children:[(0,b.jsx)("div",{className:T?"".concat(E.remainingFeesBottom," ").concat(E.half):E.remainingFeesBottom,children:(0,b.jsxs)("div",{className:E.itemsContainer,children:[null===m||void 0===m?void 0:m.map((function(e,t){return(null===m||void 0===m?void 0:m.length)===t+1?(0,b.jsx)("div",{ref:l,className:E.limember,children:(0,b.jsx)(G,{member:e,setMid:w,mid:T,index:t+1})},t):(0,b.jsx)("div",{className:E.limember,children:(0,b.jsx)(G,{member:e,setMid:w,mid:T,index:t+1})},t)})),B&&(0,b.jsx)(f.Z,{}),!B&&0===(null===m||void 0===m?void 0:m.length)&&(0,b.jsx)("div",{className:E.noData,children:(0,b.jsx)("img",{src:"/images/nodata.jpg",alt:""})})]})}),T&&(0,b.jsx)("div",{className:E.itemsDetails,children:(0,b.jsx)(Q,{mid:T})})]})})]})},ee=i(47167),te=i(98094),ie=i(34219),oe=i(47735),ne=function(e){var t,i,n,l,s,d,r,c,v,m,_,f,g,j,k,p,Z,y,I,C,B,M,L=e.studentFine,F=e.is_last,T=e.lid,w=e.onRefetch,A=(0,a.$G)().t,D=(0,o.useState)(!1),R=(0,u.Z)(D,2),P=R[0],z=R[1],O=(0,h.sl)(),Y=(0,u.Z)(O,1)[0];return(0,b.jsxs)("div",{className:x.Z.issuedBookItem,style:{width:F?"100%":"49%",marginBottom:F?"0":"1rem"},children:[(0,b.jsxs)("div",{className:x.Z.issuedBookItemTop,children:[(0,b.jsx)("div",{className:x.Z.issuedBookItemTopleft,children:(0,b.jsx)("img",{className:x.Z.bookItemImg,src:null!==L&&void 0!==L&&null!==(t=L.book)&&void 0!==t&&t.photo?"".concat(S.yI,"/").concat(null===L||void 0===L||null===(i=L.book)||void 0===i?void 0:i.photo):"/images/defaultBook.png",alt:"book avatar",loading:"lazy"})}),(0,b.jsxs)("div",{className:x.Z.issuedBookItemTopright,children:[(0,b.jsx)("h6",{className:x.Z.title,children:(null===L||void 0===L||null===(n=L.book)||void 0===n||null===(l=n.bookName)||void 0===l?void 0:l.length)>=18?"".concat(null===L||void 0===L||null===(s=L.book)||void 0===s||null===(d=s.bookName)||void 0===d?void 0:d.match(/.{1,18}/g)[0]," ..."):null===L||void 0===L||null===(r=L.book)||void 0===r?void 0:r.bookName}),(0,b.jsxs)("p",{className:x.Z.author,children:[null===L||void 0===L||null===(c=L.book)||void 0===c?void 0:c.author," \xa0",(0,b.jsx)("span",{className:x.Z.authorLabel,children:A("author")})]}),(0,b.jsxs)("p",{className:x.Z.booklang,children:[" ",null===L||void 0===L||null===(v=L.book)||void 0===v?void 0:v.language]})]})]}),(0,b.jsxs)("div",{className:x.Z.issuedBookItemMid,children:[(0,b.jsx)("div",{className:x.Z.issuedBookItemMidleft,children:(0,b.jsx)("div",{className:x.Z.imgcontainer,children:(0,b.jsx)("img",{src:null!==L&&void 0!==L&&null!==(m=L.student)&&void 0!==m&&m.studentProfilePhoto?"".concat(S.yI,"/").concat(null===L||void 0===L||null===(_=L.student)||void 0===_?void 0:_.studentProfilePhoto):"/images/user_default_img.svg",alt:"book avatar",loading:"lazy"})})}),(0,b.jsxs)("div",{className:x.Z.issuedBookItemMidright,children:[(0,b.jsxs)("h6",{children:[" ","".concat(null!==(f=null===L||void 0===L||null===(g=L.student)||void 0===g?void 0:g.studentFirstName)&&void 0!==f?f:""," ").concat(null!==(j=null===L||void 0===L||null===(k=L.student)||void 0===k?void 0:k.studentMiddleName)&&void 0!==j?j:""," ").concat(null!==(p=null===L||void 0===L||null===(Z=L.student)||void 0===Z?void 0:Z.studentLastName)&&void 0!==p?p:"")]}),(0,b.jsxs)("p",{children:[A("gr_no")," ",null!==(y=null===L||void 0===L||null===(I=L.student)||void 0===I?void 0:I.studentGRNO)&&void 0!==y?y:""," "]})]})]}),(0,b.jsxs)("div",{className:x.Z.issuedBookItemBottom,children:[(0,b.jsxs)("div",{className:x.Z.issuedBookItemBottomLeft,children:[(0,b.jsxs)("p",{children:[null!==(C=null===L||void 0===L?void 0:L.fine_type)&&void 0!==C?C:""," Book Fine Amount"]}),(0,b.jsxs)("h6",{children:[A("rs"),". ",null!==(B=null===L||void 0===L?void 0:L.fine_charge)&&void 0!==B?B:0]})]}),"Paid"===(null===L||void 0===L?void 0:L.status)?(0,b.jsx)("div",{className:x.Z.issuedBookItemBottomLeft,children:(0,b.jsx)(oe.Z,{rid:null===L||void 0===L||null===(M=L.fee_receipt)||void 0===M?void 0:M._id})}):(0,b.jsx)("div",{className:x.Z.collectbtn,onClick:function(){var e,t,i,o,n;null!==L&&void 0!==L&&null!==(e=L.book)&&void 0!==e&&e._id&&null!==L&&void 0!==L&&null!==(t=L.student)&&void 0!==t&&t._id&&T&&(z((function(e){return!e})),Y({lid:T,sid:null===L||void 0===L||null===(i=L.student)||void 0===i?void 0:i._id,bid:null===L||void 0===L||null===(o=L.book)||void 0===o?void 0:o._id,collectData:{amount:null!==(n=null===L||void 0===L?void 0:L.fine_charge)&&void 0!==n?n:0,prid:null===L||void 0===L?void 0:L._id}}).then((function(){w(),z((function(e){return!e}))})).catch({}))},children:A("collect_fine")})]}),P&&(0,b.jsx)(N.Z,{})]})},le=function(e){var t=e.lid,i=(0,o.useState)(!0),n=(0,u.Z)(i,2),l=n[0],s=n[1],d=(0,o.useState)(1),a=(0,u.Z)(d,2),r=a[0],v=a[1],m=(0,_.YD)(),g=(0,u.Z)(m,2),x=g[0],j=g[1],k=(0,o.useState)([]),p=(0,u.Z)(k,2),N=p[0],Z=p[1],y=(0,o.useState)(!0),I=(0,u.Z)(y,2),S=I[0],C=I[1],B=(0,o.useState)(!1),M=(0,u.Z)(B,2),L=M[0],F=M[1],T=(0,h.xK)({data:{lid:t,page:r,limit:10,flow:"Remaining"},skip:!t}),w=T.libraryFineCharge,A=T.libraryFineChargeRefetch;(0,o.useEffect)((function(){t&&(C(!0),A())}),[r,t,A]),(0,o.useEffect)((function(){j&&l&&v((function(e){return e+1}))}),[j,l]),(0,o.useEffect)((function(){var e,t;L?(Z(null===w||void 0===w?void 0:w.all_student),F(!1),C(!1)):null!==w&&void 0!==w&&w.all_student?(Z((function(e){return(0,c.Z)(new Set([].concat((0,c.Z)(e),(0,c.Z)(null===w||void 0===w?void 0:w.all_student)).map(JSON.stringify))).map(JSON.parse)})),C(!1)):0===(null===w||void 0===w||null===(t=w.all_student)||void 0===t?void 0:t.length)&&C(!1);10===(null===w||void 0===w||null===(e=w.all_student)||void 0===e?void 0:e.length)?s(!0):s(!1)}),[null===w||void 0===w?void 0:w.all_student]);var D=function(){v(1),F(!0),A()};return(0,b.jsx)("div",{className:O,children:(0,b.jsxs)("div",{className:Y,children:[null===N||void 0===N?void 0:N.map((function(e,i){return(null===N||void 0===N?void 0:N.length)===i+1?(0,b.jsx)("div",{ref:x,style:{width:"49%",marginBottom:"1rem"},children:(0,b.jsx)(ne,{studentFine:e,is_last:!0,lid:t,onRefetch:D})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(ne,{studentFine:e,lid:t,onRefetch:D},null===e||void 0===e?void 0:e._id)})),!S&&!N.length&&(0,b.jsx)(ie.Z,{customStyleContainer:{marginTop:"9rem"},title:"No outstanding records found."}),S&&(0,b.jsx)(f.Z,{status:"white"})]})})},se=function(e){var t=e.lid,i=(0,o.useState)(!0),n=(0,u.Z)(i,2),l=n[0],s=n[1],d=(0,o.useState)(1),a=(0,u.Z)(d,2),r=a[0],v=a[1],m=(0,_.YD)(),g=(0,u.Z)(m,2),x=g[0],j=g[1],k=(0,o.useState)([]),p=(0,u.Z)(k,2),N=p[0],Z=p[1],y=(0,o.useState)(!0),I=(0,u.Z)(y,2),S=I[0],C=I[1],B=(0,h.xK)({data:{lid:t,page:r,limit:10,flow:"Paid"},skip:!t}),M=B.libraryFineCharge,L=B.libraryFineChargeRefetch;return(0,o.useEffect)((function(){t&&(C(!0),L())}),[r,t,L]),(0,o.useEffect)((function(){j&&l&&v((function(e){return e+1}))}),[j,l]),(0,o.useEffect)((function(){var e,t;null!==M&&void 0!==M&&M.all_student?(Z(1===r?null===M||void 0===M?void 0:M.all_student:function(e){return(0,c.Z)(new Set([].concat((0,c.Z)(e),(0,c.Z)(null===M||void 0===M?void 0:M.all_student)).map(JSON.stringify))).map(JSON.parse)}),C(!1)):0===(null===M||void 0===M||null===(e=M.all_student)||void 0===e?void 0:e.length)&&C(!1),10===(null===M||void 0===M||null===(t=M.all_student)||void 0===t?void 0:t.length)?s(!0):s(!1)}),[null===M||void 0===M?void 0:M.all_student]),(0,b.jsx)("div",{className:O,children:(0,b.jsxs)("div",{className:Y,children:[null===N||void 0===N?void 0:N.map((function(e,t){return(null===N||void 0===N?void 0:N.length)===t+1?(0,b.jsx)("div",{ref:x,style:{width:"49%"},children:(0,b.jsx)(ne,{studentFine:e,is_last:!0})},null===e||void 0===e?void 0:e._id):(0,b.jsx)(ne,{studentFine:e},null===e||void 0===e?void 0:e._id)})),!S&&!N.length&&(0,b.jsx)(ie.Z,{customStyleContainer:{marginTop:"9rem"},title:"No received records found."}),S&&(0,b.jsx)(f.Z,{status:"white"})]})})},de=function(e){var t,i,o,n,s,d,r=e.carryParentState,c=(0,a.$G)().t,u=(0,l.TH)(),v=[{name:c("outstanding"),id:0,url:"member/library?a=charge"},{name:c("received"),id:1,url:"member/library?a=charge&collect"}];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h6",{className:P,children:c("fine_history")}),(0,b.jsx)(te.Z,{customStyle:{width:"100%",marginTop:"0.2rem"}}),(0,b.jsx)(ee.Z,{tabList:v,showAs:!0,carryParentState:r,activeIndexTab:"charge"===(null===(t=u.search)||void 0===t?void 0:t.substring(3))?0:1,customStyleLink:{width:"50%"},customStyleTab:{width:"100%"}}),(0,b.jsx)(te.Z,{customStyle:{width:"100%",marginBottom:"1rem"}}),"charge"===(null===(i=u.search)||void 0===i?void 0:i.substring(3))?(0,b.jsx)(le,{lid:null===(o=u.state)||void 0===o||null===(n=o.onClickValue)||void 0===n?void 0:n._id}):(0,b.jsx)(se,{lid:null===(s=u.state)||void 0===s||null===(d=s.onClickValue)||void 0===d?void 0:d._id})]})},ae=["add","detail","edit"];var re=function(e){var t,i,o,n,s,d,c,u,v,m,_=e.insId,h=e.carryParentState,f=(0,a.$G)().t,x=(0,l.TH)(),j=[{name:f("all_books"),id:0,url:"member/library?a=book"},{name:f("issued_books"),id:1,url:"member/library?a=issue"},{name:f("collected_logs"),id:2,url:"member/library?a=collect"},{name:f("members"),id:3,url:"member/library?a=member"},{name:f("library_fine"),id:4,url:"member/library?a=charge"}];return(0,b.jsxs)("div",{className:R,children:[!ae.includes(null===(t=x.search)||void 0===t?void 0:t.substring(10))&&(0,b.jsx)(ee.Z,{tabList:j,showAs:!0,carryParentState:h,activeIndexTab:"book"===(null===(i=x.search)||void 0===i?void 0:i.substring(3,7))?0:"issue"===(null===(o=x.search)||void 0===o?void 0:o.substring(3))?1:"collect"===(null===(n=x.search)||void 0===n?void 0:n.substring(3))?2:"member"===(null===(s=x.search)||void 0===s?void 0:s.substring(3))?3:4,customStyleLink:{width:"20%"},customStyleTab:{width:"100%"}}),(0,b.jsx)(te.Z,{customStyle:{width:"100%",marginBottom:"1rem"}}),(0,b.jsxs)("div",{className:z,children:["book"===(null===(d=x.search)||void 0===d?void 0:d.substring(3,7))&&(0,b.jsx)(r.Z,{getQuery:x,carryParentState:h}),"issue"===(null===(c=x.search)||void 0===c?void 0:c.substring(3))&&(0,b.jsx)(D,{insId:_}),"collect"===(null===(u=x.search)||void 0===u?void 0:u.substring(3))&&(0,b.jsx)(g,{}),"member"===(null===(v=x.search)||void 0===v?void 0:v.substring(3))&&(0,b.jsx)(X,{}),"charge"===(null===(m=x.search)||void 0===m?void 0:m.substring(3,9))&&(0,b.jsx)(de,{carryParentState:h})]})]})},ce=i(21640),ue="MiddleContent_MiddleContent__WKHNs",ve="MiddleContent_MiddleContentLeft__+wl3w",me="MiddleContent_tabs__rNsOO",_e="MiddleContent_item__HkkSz",he="MiddleContent_itemIcon__yR7dj",fe="MiddleContent_classList__0STf8",be="Tabs_mcqToptabs__TZyM2",ge="Tabs_mcqTop__DeSKD",xe="Tabs_mcqTopItem__Okqo0",je="Tabs_active__GRYqn";var ke=function(e){var t=e.activeIndex,i=e.setActiveIndex,o=(0,a.$G)().t;return(0,b.jsx)("div",{className:ge,children:(0,b.jsxs)("div",{className:be,children:[(0,b.jsx)("div",{className:0===t?"".concat(xe," ").concat(je):xe,onClick:function(){return i(0)},children:o("menu")}),(0,b.jsx)("div",{className:1===t?"".concat(xe," ").concat(je):xe,onClick:function(){return i(1)},children:o("funds")})]})})},pe="Funds_funds__A1w1z",Ne="Funds_fundshead__L-ikp",Ze="Funds_fundscontent__60rTr",ye="Funds_sidebarbottomitem__HxeQl",Ie="Funds_namee__F4I2F",Se="Funds_desig__tgpDW",Ce="Funds_balanceItem__wygKQ",Be="Funds_recover_btn__AJWzV",Me="Funds_submitbtn__+nZSz",Le="Funds_disabled__NcqJ-";var Fe=function(e){var t=e.bal,i=e.value;return(0,b.jsxs)("div",{className:Ce,children:[(0,b.jsxs)("p",{children:[t,":"]}),(0,b.jsxs)("p",{children:["Rs. ",i]})]})},Te=i(49384),we=i(11237);var Ae=function(e){var t,i=e.carryParentState,n=e.library,l=e.getLibraryDetailRefetch,d=(0,a.$G)().t,r=(0,s.useSelector)((function(e){return e.libraryChange})),c=(0,h.eQ)(),v=(0,u.Z)(c,1)[0],m=o.useState(!1),_=(0,u.Z)(m,2),f=_[0],g=_[1];return console.info("library",n),(0,b.jsxs)("div",{className:pe,children:[(0,b.jsxs)("div",{className:Ne,children:[(0,b.jsxs)("h6",{children:[" ",d("lib_fines")," "]}),(0,b.jsx)("img",{src:"/images/finance/filter-icon.svg",alt:""})]}),(0,b.jsxs)("div",{className:Ze,children:[(0,b.jsxs)("div",{className:ye,children:[(0,b.jsx)("img",{alt:"not found",src:"/images/finance/doller-icon.svg"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:Ie,children:"Rs. ".concat(null===n||void 0===n?void 0:n.totalFine)}),(0,b.jsx)("p",{className:Se,children:d("total_fine_collected")})]})]}),(0,b.jsx)(Fe,{check:"false",bal:d("cash_fine"),value:null===n||void 0===n?void 0:n.offlineFine}),(0,b.jsx)(Fe,{check:"false",bal:d("bank_fine"),value:null===n||void 0===n?void 0:n.onlineFine}),(0,b.jsx)(Fe,{check:"true",bal:d("cash_with_me"),value:null===n||void 0===n?void 0:n.collectedFine}),"Pending"===(null===n||void 0===n?void 0:n.requestStatus)&&(null===n||void 0===n?void 0:n.collectedFine)>0?(0,b.jsxs)("button",{className:Me,disabled:f,onClick:function(){g((function(e){return!e})),v({lid:null===r||void 0===r?void 0:r.lid,fine:{amount:null===n||void 0===n?void 0:n.collectedFine}}).then((function(){l(),g((function(e){return!e}))})).catch((function(){g((function(e){return!e}))}))},children:[d("sublit_to_finance"),f&&(0,b.jsx)("div",{style:{marginTop:"0.7vw"},children:(0,b.jsx)(Te.Z,{})})]}):"Requested"===(null===n||void 0===n?void 0:n.requestStatus)?(0,b.jsx)("button",{className:"".concat(Me," ").concat(Le),children:d("request_to_finance")}):(0,b.jsx)("button",{className:"".concat(Me," ").concat(Le),children:d("sublit_to_finance")}),(0,b.jsx)(we.Z,{carryParentState:i,activeTab:"charge",children:(0,b.jsxs)("div",{className:Be,children:[d("total_pending_fees"),": ",d("rs"),". ",null!==(t=null===n||void 0===n?void 0:n.remainFine)&&void 0!==t?t:0]})})]}),f&&(0,b.jsx)(N.Z,{})]})};var De=function(e){var t=e.library,i=e.getLibraryDetailRefetch,n=e.carryParentState,l=(0,o.useState)(0),s=(0,u.Z)(l,2),d=s[0],r=s[1],c=(0,a.$G)().t;return(0,b.jsx)("div",{className:ue,children:(0,b.jsxs)("div",{className:ve,children:[(0,b.jsx)("div",{className:me,children:(0,b.jsx)(ke,{activeIndex:d,setActiveIndex:r})}),0===d&&(0,b.jsxs)("div",{className:_e,children:[(0,b.jsx)(we.Z,{carryParentState:n,activeTab:"book",children:(0,b.jsxs)("div",{className:he,children:[(0,b.jsx)("img",{src:"/images/member_tab/library/library-allbook-icon.svg",alt:"Class Catalog"}),(0,b.jsx)("p",{children:c("all_books")})]})}),(0,b.jsx)(we.Z,{carryParentState:n,activeTab:"issue",children:(0,b.jsxs)("div",{className:he,children:[(0,b.jsx)("img",{src:"/images/member_tab/library/library-issue-icon.svg",alt:"issued books"}),(0,b.jsx)("p",{children:c("issued_books")})]})}),(0,b.jsx)(we.Z,{carryParentState:n,activeTab:"collect",children:(0,b.jsxs)("div",{className:he,children:[(0,b.jsx)("img",{src:"/images/member_tab/library/library-collect-icon.svg",alt:"collected logs"}),(0,b.jsx)("p",{children:c("collected_logs")})]})}),(0,b.jsx)(we.Z,{carryParentState:n,activeTab:"charge",children:(0,b.jsxs)("div",{className:he,children:[(0,b.jsx)("img",{src:"/images/member_tab/library/library-fine-icon.svg",alt:"members"}),(0,b.jsx)("p",{children:c("library_fine")})]})}),(0,b.jsx)(we.Z,{carryParentState:n,activeTab:"member",children:(0,b.jsxs)("div",{className:he,children:[(0,b.jsx)("img",{src:"/images/member_tab/library/library-member-icon.svg",alt:"members"}),(0,b.jsx)("p",{children:c("members")})]})})]}),1===d&&(0,b.jsx)("div",{className:fe,children:(0,b.jsx)(Ae,{library:t,carryParentState:n,getLibraryDetailRefetch:i})})]})})},Re=function(e){var t,i,n,d,r,c,v,m,_,f,g,x,j=e.carryParentState,k=(0,a.$G)().t,p=(0,l.UO)(),N=(0,s.useSelector)((function(e){return e.libraryChange})),Z=(0,o.useState)(""),y=(0,u.Z)(Z,2),I=y[0],S=y[1],C=(0,o.useState)(""),B=(0,u.Z)(C,2),M=B[0],L=B[1],F=(0,o.useState)(!1),T=(0,u.Z)(F,2),w=T[0],A=T[1],D=(0,o.useState)(!1),R=(0,u.Z)(D,2),P=R[0],z=R[1],O=(0,o.useState)(""),Y=(0,u.Z)(O,2),E=Y[0],G=Y[1],W=(0,h.Se)(),J=(0,u.Z)(W,1)[0];(0,o.useEffect)((function(){if(P){var e=new FormData;e.append("file",M),J({file:e,lid:null===N||void 0===N?void 0:N.lid}).then((function(e){})).catch({})}}),[P,M]);var U=(0,h.yX)({lid:null===N||void 0===N?void 0:N.lid,skip:!(null!==N&&void 0!==N&&N.lid)}),q=U.getLibraryDetail,H=U.getLibraryDetailRefetch;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ce.Z,{coverKey:null===q||void 0===q||null===(t=q.library)||void 0===t?void 0:t.cover,coverId:null===q||void 0===q||null===(i=q.library)||void 0===i?void 0:i.coverId,defaultCover:"/images/profileAndCover/library-cover.png",textLarge:k("librarian"),textSmall:"".concat(null===q||void 0===q||null===(n=q.library)||void 0===n||null===(d=n.libraryHead)||void 0===d?void 0:d.staffFirstName," ").concat(null!==q&&void 0!==q&&null!==(r=q.library)&&void 0!==r&&null!==(c=r.libraryHead)&&void 0!==c&&c.staffMiddleName?null===q||void 0===q||null===(v=q.library)||void 0===v||null===(m=v.libraryHead)||void 0===m?void 0:m.staffMiddleName:""," ").concat(null===q||void 0===q||null===(_=q.library)||void 0===_||null===(f=_.libraryHead)||void 0===f?void 0:f.staffLastName),count1:null===q||void 0===q||null===(g=q.library)||void 0===g?void 0:g.bookCount,count1label:k("books"),count2:null===q||void 0===q||null===(x=q.library)||void 0===x?void 0:x.memberCount,count2label:k("members"),profilePhoto:E,profileChange:function(e){var t=URL.createObjectURL(e.target.files[0]);L(e.target.files[0]),G(t),S(t),A(!0)},openCrop:w,setOpenCrop:A,setPhotoURL:S,photoURL:I,setFile:L,setUpload:z,setProfilePhoto:G,viewAs:!0,redirectUrl:"/q/".concat(p.username,"/member/library?a=site"),carryParentState:j}),(0,b.jsx)(De,{library:null===q||void 0===q?void 0:q.library,getLibraryDetailRefetch:H,carryParentState:j})]})};var Pe=function(e){var t=e.onClickValue,i=e.carryParentState,o=(0,l.TH)();return(0,b.jsxs)("div",{className:d,children:[!o.search&&(0,b.jsx)(Re,{carryParentState:i}),o.search&&(0,b.jsx)(re,{carryParentState:i,insId:null===t||void 0===t?void 0:t.institute})]})},ze=i(46500),Oe=i(78068),Ye=function(){var e,t,i,d,a,r,c,u,v,m=(0,l.TH)(),_=(0,s.useDispatch)();return(0,o.useEffect)((function(){var e,t,i,o,n;_(ze.X.libraryQuery({lid:null===m||void 0===m||null===(e=m.state)||void 0===e||null===(t=e.onClickValue)||void 0===t?void 0:t._id,lhead:null===m||void 0===m||null===(i=m.state)||void 0===i||null===(o=i.onClickValue)||void 0===o||null===(n=o.libraryHead)||void 0===n?void 0:n._id}))}),[]),(0,b.jsx)(b.Fragment,{children:"site"===(null===m||void 0===m||null===(e=m.search)||void 0===e?void 0:e.substring(3))?(0,b.jsx)(Oe.Z,{lid:null===m||void 0===m||null===(t=m.state)||void 0===t||null===(i=t.onClickValue)||void 0===i?void 0:i._id}):(0,b.jsx)(n.Z,{index:"8",sid:null!==(d=null===m||void 0===m||null===(a=m.state)||void 0===a?void 0:a.sid)&&void 0!==d?d:"",onClickValue:null!==(r=null===m||void 0===m||null===(c=m.state)||void 0===c?void 0:c.onClickValue)&&void 0!==r?r:"",children:(0,b.jsx)(Pe,{onClickValue:null!==(u=null===m||void 0===m||null===(v=m.state)||void 0===v?void 0:v.onClickValue)&&void 0!==u?u:"",carryParentState:null===m||void 0===m?void 0:m.state})})})}},47735:function(e,t,i){var o=i(29439),n=i(72791),l=(i(32804),i(29017)),s=i(98734),d=i(62732),a=i(69721),r=i(80184);t.Z=function(e){var t=e.rid,i=(0,n.useState)(!1),c=(0,o.Z)(i,2),u=c[0],v=c[1],m=(0,n.useState)(""),_=(0,o.Z)(m,2),h=_[0],f=_[1],b=(0,n.useState)(""),g=(0,o.Z)(b,2),x=g[0],j=g[1],k=(0,l.H0)({rid:h,skip:!h}),p=k.internalFeeReceipt,N=k.internalFeeReceiptRefetch;(0,n.useEffect)((function(){h&&N()}),[h,N]);return(0,n.useEffect)((function(){null!==p&&void 0!==p&&p.receipt&&null!==p&&void 0!==p&&p.one_account&&j(p)}),[p]),(0,n.useEffect)((function(){if(x){var e,t,i,o,n,l,s,r;v((function(e){return!e}));var c=null===x||void 0===x?void 0:x.one_account,u=null===x||void 0===x?void 0:x.receipt,m=null!==u&&void 0!==u&&null!==(e=u.finance)&&void 0!==e&&null!==(t=e.institute)&&void 0!==t&&t.insProfilePhoto?"".concat(a.Yz,"/").concat(null===u||void 0===u||null===(i=u.finance)||void 0===i||null===(o=i.institute)||void 0===o?void 0:o.insProfilePhoto):"/images/certificate/logodemo.jpg",_=null!==u&&void 0!==u&&null!==(n=u.finance)&&void 0!==n&&null!==(l=n.institute)&&void 0!==l&&l.affliatedLogo?"".concat(a.Yz,"/").concat(null===u||void 0===u||null===(s=u.finance)||void 0===s||null===(r=s.institute)||void 0===r?void 0:r.affliatedLogo):"/images/certificate/logodemo.jpg";c&&u&&((0,d.Z)(c,u,m,_),v(!1)),j(""),window.location.reload()}}),[x]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{src:"/images/members/receipt-icon.svg",onClick:function(){var e;(e=t)&&(v((function(e){return!e})),f(e))},alt:"receipt icon"}),u&&(0,r.jsx)(s.Z,{})]})}},1874:function(e,t,i){i(72791);var o=i(54164),n=i(84489),l=i(80184);t.Z=function(e){var t=e.onClose,i=e.customStyleBackdrop;return(0,l.jsx)(l.Fragment,{children:o.createPortal((0,l.jsx)(n.Z,{onClose:t,customStyleBackdrop:i}),document.getElementById("backdrop"))})}},62732:function(e,t,i){var o=i(35125),n=i(72426),l=i.n(n),s=new o.ZP({format:[270,210]}),d=s.internal.pageSize.getWidth();t.Z=function(e,t,o,n){var a,r,c,u,v,m,_,h,f,b,g,x,j,k,p,N,Z,y=arguments.length>4&&void 0!==arguments[4]&&arguments[4],I=i(62906),S=null===t||void 0===t||null===(a=t.finance)||void 0===a?void 0:a.institute,C=null===t||void 0===t||null===(r=t.finance)||void 0===r?void 0:r.financeHead,B=null===t||void 0===t?void 0:t.student,M=null===t||void 0===t?void 0:t.internal_fees,L=null===t||void 0===t?void 0:t.order_history;s.addImage(o,"JPEG",9,3,25,25),s.addImage(n,"JPEG",d-34,2.4,25,25),s.setLineWidth(8),s.setDrawColor(255,255,255),s.circle(21.4,15,16),s.setLineWidth(0),s.setLineWidth(8),s.setDrawColor(255,255,255),s.circle(d-21.4,15,16),s.setLineWidth(0);var F=s.splitTextToSize(null===S||void 0===S?void 0:S.insName,146);if(s.setFont(void 0,"normal"),F.length>1){var T=10;s.setFont("700"),s.setTextColor(18,18,18),s.setFontSize(16),s.text(107,T,F,"center"),T=F.length+145}else{var w=10;s.setFont("700"),s.setTextColor(18,18,18),s.setFontSize(18),s.text(107,w,F,"center"),w=F.length+145}s.setFont("Arial","normal","400"),s.setTextColor(18,18,18),s.setFontSize(10),s.text(d/2,F.length>1?23:19,null===S||void 0===S?void 0:S.insAddress,"center"),s.setFont("WorkSans"),s.setTextColor(18,18,18),s.setFontSize(10),s.text(d/2,F.length>1?29:25,"Mob No : ".concat(null===S||void 0===S?void 0:S.insPhoneNumber," , Mail: ").concat(null===S||void 0===S?void 0:S.insEmail),"center"),s.setFont("WorkSans"),s.setTextColor(0,0,0),s.setFontSize(18),s.text(d/2,37,"Fee Receipt","center"),s.setLineWidth(.7),s.setDrawColor(18,18,18),s.line(0,46,d,46),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(9,54,"Invoice No :"),s.setFont(void 0,"normal"),s.setTextColor(0,0,0),s.setFontSize(10),s.text(32,54,null===t||void 0===t?void 0:t.invoice_count),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(d-32,54,"Dated:",{align:"right"}),s.setFont(void 0,"normal"),s.setTextColor(0,0,0),s.setFontSize(10),s.text(d-12,54,l()(null===t||void 0===t?void 0:t.created_at).format("DD-MMM-YYYY"),{align:"right"}),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(9,61,"Purpose:"),s.setFont(void 0,"normal"),s.setTextColor(0,0,0),s.setFontSize(10),s.text(32,61,"".concat(null!==(c=null===M||void 0===M?void 0:M.internal_fee_reason)&&void 0!==c?c:"N/A")),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(9,68,"Amount: "),s.setFont(void 0,"normal"),s.setTextColor(0,0,0),s.setFontSize(10),s.text(32,68,"Rs. ".concat(null===t||void 0===t?void 0:t.fee_payment_amount)),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(11),s.text(9,97," ".concat(y?"Received Through: ":"Paid Through: ")),s.setFont(void 0,"normal"),s.text(44,97,"".concat(null===e||void 0===e?void 0:e.finance_bank_name,", ").concat(null===e||void 0===e?void 0:e.finance_bank_account_name,", A/c No:  ").concat(null===e||void 0===e?void 0:e.finance_bank_account_number)),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.text(9,107," On Account of: ");var A="Being money ".concat(y?"received":"paid"," by ").concat(null===t||void 0===t?void 0:t.fee_payment_mode,", Transaction ID: ").concat(null!==(u=null===L||void 0===L?void 0:L.razorpay_order_id)&&void 0!==u?u:"N/A"," ,  Dated: ").concat(l()(null===t||void 0===t?void 0:t.created_at).format("DD-MMM-YYYY"),"  for Rs. ").concat(null===t||void 0===t?void 0:t.fee_payment_amount,".").concat(y?"From":"To"," ","".concat(null!==(v=null===B||void 0===B?void 0:B.studentFirstName)&&void 0!==v?v:""," ").concat(null!==(m=null===B||void 0===B?void 0:B.studentMiddleName)&&void 0!==m?m:""," ").concat(null!==(_=null===B||void 0===B?void 0:B.studentLastName)&&void 0!==_?_:""," "),", towards ").concat(null!==(h=null===M||void 0===M?void 0:M.internal_fee_reason)&&void 0!==h?h:"N/A","."),D=s.splitTextToSize(A,d-20);if(D.length>1){var R=113;s.setFont(void 0,"normal"),s.setFontSize(11),s.setTextColor(18,18,18),s.text(10,R,D,"left"),R=D.length+151}else{var P=113;s.setFontSize(11),s.setFont(void 0,"normal"),s.setTextColor(18,18,18),s.setFontSize(12),s.text(10,P,D,"left"),P=D.length+151}var z,O,Y,E;(s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.setFontSize(11),s.text(9,131,"Bank Transaction Details: "),s.setFont(void 0,"normal"),s.text(9,138,"Payment Mode:  ".concat(null===t||void 0===t?void 0:t.fee_payment_mode)),null!==L&&void 0!==L&&L.razorpay_order_id)?s.text(9,144,"Transaction ID: ".concat(null!==(z=null===L||void 0===L?void 0:L.razorpay_order_id)&&void 0!==z?z:"N/A")):(s.text(9,144,"Bank Name: ".concat(null!==(O=null===e||void 0===e?void 0:e.fee_bank_name)&&void 0!==O?O:"N/A")),s.text(9,150,"Bank Holder Name: ".concat(null!==(Y=null===e||void 0===e?void 0:e.finance_bank_account_name)&&void 0!==Y?Y:"N/A")),s.text(9,156,"UTR / Ref No.: ".concat(null!==(E=null===e||void 0===e?void 0:e.fee_utr_reference)&&void 0!==E?E:"N/A")),s.text(9,162,"Date: ".concat(l()(null===t||void 0===t?void 0:t.created_at).format("DD-MMM-YYYY"))),s.text(9,168,"Amount: ".concat(null===t||void 0===t?void 0:t.fee_payment_amount)),s.text(9,174,"Amount in Words: ".concat((I.toWords(t.fee_payment_amount.toString()).match(/[a-zA-Z0-9]+/g)||[]).map((function(e){return"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))})).join(" ")," only.")));s.setFontSize(9),s.text(40,240,"".concat(C.staffFirstName," ").concat(null!==(f=C.staffMiddleName)&&void 0!==f?f:""," ").concat(C.staffLastName),{align:"center"}),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(40,245,"Finance Manager",{align:"center"}),s.setFont(void 0,"normal"),s.setFontSize(9),s.text(153,240,"".concat(null!==(b=null===S||void 0===S||null===(g=S.displayPersonList)||void 0===g||null===(x=g[0])||void 0===x||null===(j=x.displayUser)||void 0===j?void 0:j.userLegalName)&&void 0!==b?b:"N/A"),{align:"center"}),s.setFont(void 0,"bold"),s.setFontSize(10),s.text(153,245,"".concat(null!==(k=null===S||void 0===S||null===(p=S.displayPersonList)||void 0===p||null===(N=p[0])||void 0===N?void 0:N.displayTitle)&&void 0!==k?k:"N/A"),{align:"center"}),s.setTextColor(0,0,255),s.setFontSize(7),s.text(d-20,243,"Online Automated",null,50),s.text(d-18,244,"Generated fee receipt",null,50),s.text(d-14,246,"Through Qviple",null,50),s.setLineWidth(.2),s.setDrawColor(18,18,18),s.line(0,251,d,251),s.setTextColor(18,18,18),s.setFontSize(8),s.setFont(void 0,"normal"),s.text(d/2,259,"Note : No one except one who is making this certificate should interfere with any details of this invoice, othewise students will be expelled and legal action will be taken.","center"),window.open(s.output("bloburl",{filename:"".concat(null===B||void 0===B?void 0:B.studentFirstName," ").concat(null!==(Z=null===B||void 0===B?void 0:B.studentMiddleName)&&void 0!==Z?Z:""," ").concat(null===B||void 0===B?void 0:B.studentLastName," -Internal Fee Receipt.pdf")}),"_blank")}},45639:function(e,t){t.Z={universal_container:"UniversalTab_universal_container__uxTOR",universal_container_item:"UniversalTab_universal_container_item__M0pS7",universal_container_item_active:"UniversalTab_universal_container_item_active__3u3Wt"}},47630:function(e,t){t.Z={searchContainerr:"CollectedLogs_searchContainerr__hDVss",searchContainer:"CollectedLogs_searchContainer__2ySor",newBtn:"CollectedLogs_newBtn__di1cp",remainingFees:"CollectedLogs_remainingFees__PX4GF",remainingFeesBottom:"CollectedLogs_remainingFeesBottom__h9ap5",itemsContainer:"CollectedLogs_itemsContainer__uAdUa",collctLogItem:"CollectedLogs_collctLogItem__OCrFb",bookItemImg:"CollectedLogs_bookItemImg__hRiYC",collectLogItemTopRight:"CollectedLogs_collectLogItemTopRight__av1Sd",collectLogItemTop:"CollectedLogs_collectLogItemTop__jJ6lB",collectLogItemBottom:"CollectedLogs_collectLogItemBottom__g+kIO",collectLogItemBottomleft:"CollectedLogs_collectLogItemBottomleft__65MWS",fullwidth:"CollectedLogs_fullwidth__4bp6b",itemsRef:"CollectedLogs_itemsRef__TYXCu",loader:"CollectedLogs_loader__iRHU8",noData:"CollectedLogs_noData__pTBNJ",disabled:"CollectedLogs_disabled__l1aiz"}},86864:function(e,t){t.Z={searchContainerr:"IssuedBooks_searchContainerr__A6bmv",searchContainer:"IssuedBooks_searchContainer__v7gCj",newBtn:"IssuedBooks_newBtn__4mJuw",remainingFees:"IssuedBooks_remainingFees__Bz61I",remainingFeesBottom:"IssuedBooks_remainingFeesBottom__yswBf",itemsContainer:"IssuedBooks_itemsContainer__sl3Kv",itemsRef:"IssuedBooks_itemsRef__ed81C",issuedBookItem:"IssuedBooks_issuedBookItem__ZsRv2",issuedBookItemTop:"IssuedBooks_issuedBookItemTop__WZB-K",issuedBookItemTopleft:"IssuedBooks_issuedBookItemTopleft__Z3KyZ",issuedBookItemTopright:"IssuedBooks_issuedBookItemTopright__byizV",author:"IssuedBooks_author__K59c6",bookItemImg:"IssuedBooks_bookItemImg__77uVX",title:"IssuedBooks_title__VAjUp",authorLabel:"IssuedBooks_authorLabel__VSyG5",booklang:"IssuedBooks_booklang__wGHKm",issuedBookItemMid:"IssuedBooks_issuedBookItemMid__T4QDl",issuedBookItemMidleft:"IssuedBooks_issuedBookItemMidleft__EYCKf",imgcontainer:"IssuedBooks_imgcontainer__A2O5v",issuedBookItemMidright:"IssuedBooks_issuedBookItemMidright__EhJDf",issuedBookItemBottomLeft:"IssuedBooks_issuedBookItemBottomLeft__7KT4w",issuedBookItemBottom:"IssuedBooks_issuedBookItemBottom__7jWNG",collectbtn:"IssuedBooks_collectbtn__x7rZ2",fullwidth:"IssuedBooks_fullwidth__+d1i7",loader:"IssuedBooks_loader__aeA4o",noData:"IssuedBooks_noData__ScSZ4"}},32804:function(e,t){t.Z={student_fees_header_container:"StudentAllFeesData_student_fees_header_container__06J8F",student_fees_header_column:"StudentAllFeesData_student_fees_header_column__7WxL2",student_fees_row_amount:"StudentAllFeesData_student_fees_row_amount__2QSk8",student_fees_btn_container:"StudentAllFeesData_student_fees_btn_container__rcsyt",student_fees_btn_container_active:"StudentAllFeesData_student_fees_btn_container_active__LiRxa",student_alll_fees_data:"StudentAllFeesData_student_alll_fees_data__CBPmP",student_admission_fees_container:"StudentAllFeesData_student_admission_fees_container__Fs6dX",student_internal_card:"StudentAllFeesData_student_internal_card__QP2oz",student_internal_card_btn_pay:"StudentAllFeesData_student_internal_card_btn_pay__CzvCh",student_internal_card_btn_paid:"StudentAllFeesData_student_internal_card_btn_paid__KP8Jd"}}}]);
//# sourceMappingURL=2068.8b0538f7.chunk.js.map