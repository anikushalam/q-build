"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[57790],{69013:(a,e,l)=>{l.r(e),l.d(e,{default:()=>_});var t=l(72791),s=l(39230),d=l(99533),i=l(16871),n=l(38733),o=l(98734),r=l(69721),c=l(71342),v=l(40444),u=l(74289),m=l(80184);const _=()=>{var a,e,l,_,h,x,k,j,b,p,Z,M,N;const{t:g}=(0,s.$G)(),f=(0,i.TH)(),I=(0,i.s0)();(0,t.useEffect)((()=>{var a;null===(a=document.getElementById("scrollView"))||void 0===a||a.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),[null===(a=f.state)||void 0===a?void 0:a.subjectId]);const[y,D]=(0,t.useState)([]),[E,w]=(0,t.useState)(!0),{backlogExamAllStudent:H,backlogExamAllStudentRefetch:L}=(0,v.nM)({data:{sid:null===(e=f.state)||void 0===e?void 0:e.subjectId,eid:null===(l=f.state)||void 0===l?void 0:l.examId},skip:!(null!==(_=f.state)&&void 0!==_&&_.subjectId)}),[C]=(0,v.Uu)(),{departmentExamDetail:F,departmentExamDetailRefetch:P}=(0,u.il)({eid:null===(h=f.state)||void 0===h?void 0:h.examId,skip:!(null!==(x=f.state)&&void 0!==x&&x.examId)});(0,t.useEffect)((()=>{var a;null!==(a=f.state)&&void 0!==a&&a.subjectId&&L()}),[null===(k=f.state)||void 0===k?void 0:k.subjectId,L]),(0,t.useEffect)((()=>{null!==H&&void 0!==H&&H.students&&w(!1)}),[null===H||void 0===H?void 0:H.students]),(0,t.useEffect)((()=>{var a;null!==(a=f.state)&&void 0!==a&&a.examId&&P()}),[null===(j=f.state)||void 0===j?void 0:j.examId,P]);const V=a=>{for(let e of y)e.studentId===a.target.name&&(e.obtainMarks=parseInt(a.target.value))};return(0,m.jsxs)(d.Z,{children:[" ",(0,m.jsx)("div",{className:n.Z.goback_container,id:"scrollView",children:(0,m.jsxs)("div",{className:n.Z.goback_container_text,onClick:()=>{I(-1)},children:[(0,m.jsx)("img",{src:"/images/arr-left-white.svg",alt:"go back icon"}),(0,m.jsx)("h6",{className:n.Z.goback_container_text_go,children:g("go_back")})]})}),(0,m.jsx)("div",{className:n.Z.student_from_container,style:{marginBottom:"1rem"},children:(0,m.jsxs)("div",{className:c.Z.markDetails,children:[(0,m.jsxs)("div",{className:c.Z.markDetailsHeader,children:[(0,m.jsxs)("h6",{children:[(0,m.jsxs)("span",{className:c.Z.span,children:[g("exam")," : "]})," ",null===F||void 0===F||null===(b=F.exam)||void 0===b?void 0:b.examName]}),(null===y||void 0===y?void 0:y.length)>0?(0,m.jsx)("div",{className:c.Z.savebtn,onClick:()=>{var a,e,l,t;null!==(a=f.state)&&void 0!==a&&a.examId&&null!==(e=f.state)&&void 0!==e&&e.subjectId&&(w((a=>!a)),C({sid:null===(l=f.state)||void 0===l?void 0:l.subjectId,marksList:{examId:null===(t=f.state)||void 0===t?void 0:t.examId,marks:y}}).then((()=>{L(),w((a=>!a))})).catch({}))},children:g("save")}):""]}),(0,m.jsxs)("div",{className:c.Z.markDetailsHeader2,children:[(0,m.jsxs)("h6",{children:[(0,m.jsxs)("span",{className:c.Z.span2,children:[" ",g("Maximum Marks")," : "]})," ",null===H||void 0===H?void 0:H.maximumMarks]}),"Final"===(null===F||void 0===F||null===(p=F.exam)||void 0===p?void 0:p.examType)?"":(0,m.jsxs)("h6",{children:[(0,m.jsxs)("span",{className:c.Z.span2,children:[" ",g("weightage")," : "]})," ",null===F||void 0===F||null===(Z=F.exam)||void 0===Z?void 0:Z.examWeight,"%"]})]}),(0,m.jsx)("div",{className:c.Z.table,children:(0,m.jsxs)("table",{children:[(0,m.jsx)("thead",{className:c.Z.thead,children:(0,m.jsxs)("tr",{className:c.Z.tr,children:[(0,m.jsx)("th",{className:"".concat(c.Z.th," ").concat(c.Z.rroll),children:g("roll_no")}),(0,m.jsx)("th",{className:"".concat(c.Z.th," ").concat(c.Z.rname),children:g("name")}),(0,m.jsx)("th",{className:"".concat(c.Z.th," ").concat(c.Z.rmark),children:g("ob")}),"Final"===(null===F||void 0===F||null===(M=F.exam)||void 0===M?void 0:M.examType)?"":(0,m.jsx)("th",{className:"".concat(c.Z.th," ").concat(c.Z.rmark),children:g("fr")})]})}),(0,m.jsx)("tbody",{className:c.Z.tbody,children:null===H||void 0===H||null===(N=H.students)||void 0===N?void 0:N.map((a=>{var e,l,t;return(0,m.jsxs)("tr",{className:c.Z.tr,children:[(0,m.jsx)("td",{className:"".concat(c.Z.rroll," ").concat(c.Z.rrolld," ").concat(c.Z.td),children:""!==(null===a||void 0===a?void 0:a.studentROLLNO)?(0,m.jsxs)("h6",{children:[" ",null===a||void 0===a?void 0:a.studentROLLNO,"."]}):(0,m.jsx)("h6",{})}),(0,m.jsx)("td",{className:c.Z.td,children:(0,m.jsxs)("div",{className:c.Z.student,children:[(0,m.jsx)("img",{src:null!==a&&void 0!==a&&a.studentProfilePhoto?"".concat(r.yI,"/").concat(null===a||void 0===a?void 0:a.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""}),(0,m.jsxs)("h6",{children:[null===a||void 0===a?void 0:a.studentFirstName," ",null!==a&&void 0!==a&&a.studentMiddleName?null===a||void 0===a?void 0:a.studentMiddleName:" "," ",null===a||void 0===a?void 0:a.studentLastName]})]})}),(0,m.jsx)("td",{className:"".concat(c.Z.td," ").concat(c.Z.tdinputcontaier),children:(0,m.jsx)("div",{className:c.Z.tdinput,children:(0,m.jsx)("input",{type:"number",name:null===a||void 0===a?void 0:a._id,defaultValue:(null===a||void 0===a?void 0:a.obtainMarks)||0,min:"0",max:null!==(e=null===H||void 0===H?void 0:H.maximumMarks)&&void 0!==e?e:100,onClick:()=>((a,e)=>{if(null!==y&&void 0!==y&&y.length){const l=[];for(let a of y)l.push(a.studentId);null!==l&&void 0!==l&&l.includes(a)||D([...y,{studentId:a,obtainMarks:0,previous_year_id:e}])}else D([...y,{studentId:a,obtainMarks:0,previous_year_id:e}])})(null===a||void 0===a?void 0:a._id,null===a||void 0===a?void 0:a.previous_year_id),onChange:V})})}),"Final"===(null===F||void 0===F||null===(l=F.exam)||void 0===l?void 0:l.examType)?"":(0,m.jsx)("td",{className:c.Z.td,children:(a.obtainMarks*(null===F||void 0===F||null===(t=F.exam)||void 0===t?void 0:t.examWeight)/(null===H||void 0===H?void 0:H.maximumMarks)).toFixed(2)})]},null===a||void 0===a?void 0:a._id)}))})]})}),E&&(0,m.jsx)(o.Z,{})]})})]})}},71342:(a,e,l)=>{l.d(e,{Z:()=>t});const t={markDetails:"Markdetails_markDetails__zKHUp",savebtn:"Markdetails_savebtn__0w+Go",markDetailsHeader:"Markdetails_markDetailsHeader__npgap",markDetailsHeader2:"Markdetails_markDetailsHeader2__G6rEz",span:"Markdetails_span__-gvM2",span2:"Markdetails_span2__Vx8XM",table:"Markdetails_table__WAVol",th:"Markdetails_th__s-Yop",td:"Markdetails_td__L56sw",student:"Markdetails_student__fEgP+",tdinput:"Markdetails_tdinput__q+Nfy",thMargin:"Markdetails_thMargin__1k31h",rroll:"Markdetails_rroll__b1bDb",rrolld:"Markdetails_rrolld__+Gy-h",rname:"Markdetails_rname__xy2eJ",rmark:"Markdetails_rmark__HFooq",tbody:"Markdetails_tbody__71bxY",md_container:"Markdetails_md_container__b8P61"}}}]);
//# sourceMappingURL=57790.8cb6d1af.chunk.js.map