(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[97390],{31897:(e,l,t)=>{"use strict";t.d(l,{Z:()=>o});var i=t(72791),s=t(39230),n=t(52245),a=t(98684),d=t(80184);const o=e=>{let{selectLabel:l,onClick:t,selectedValue:o,options:r,customStyleContainer:c,customLabelStyle:_,customListStyle:v,errorShow:u,defalutValue:h,viewAs:m,isFull:f,isDenied:p}=e;const{t:x}=(0,s.$G)(),[j,b]=(0,i.useState)(!1),[N,Z]=(0,i.useState)(""),L=()=>{p||b((e=>!e))};(0,i.useEffect)((()=>{"NORMAL_FILTER"===m&&Z(h)}),[m,h]),(0,i.useEffect)((()=>{if("CUSTOM_FILTER"===m){let i="";for(let s of r)for(let n of h)if((null===s||void 0===s?void 0:s._id)===n){var e,l,t;let n=null!==(e=null!==(l=null!==(t=null===s||void 0===s?void 0:s.dName)&&void 0!==t?t:null===s||void 0===s?void 0:s.batchName)&&void 0!==l?l:null===s||void 0===s?void 0:s.className)&&void 0!==e?e:"";i=i?i+", "+n:n}Z(i)}}),[m,h,r]);return(0,d.jsxs)("div",{className:n.Z.form_input_container,style:{...c},children:[(0,d.jsxs)("p",{className:n.Z.join_form_select_paragraph,style:{..._},children:[l,u&&(0,d.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",x("form_require_label")]})]}),(0,d.jsxs)("section",{className:n.Z.join_form_select_custom,onClick:L,children:[N?(0,d.jsx)("p",{className:n.Z.join_form_select_custom_paragraph,children:null!==N&&void 0!==N?N:""}):(0,d.jsx)("p",{className:n.Z.join_form_select_custom_paragraph,children:o}),j?(0,d.jsx)("img",{className:n.Z.join_form_select_custom_rotate_icon,src:"".concat(a.J7,"/down.svg"),alt:"categor icon"}):(0,d.jsx)("img",{className:n.Z.join_form_select_custom_icon,src:"".concat(a.J7,"/down.svg"),alt:"categor icon"})]}),j&&(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("section",{className:n.Z.join_form_select_custom_list,style:v,children:null===r||void 0===r?void 0:r.map(((e,l)=>{var i;return(0,d.jsx)("p",{onClick:()=>(e=>{var l;t(f?e:null===e||void 0===e?void 0:e._id),L(),Z(null!==(l=null===e||void 0===e?void 0:e.dName)&&void 0!==l?l:e)})(e),className:n.Z.join_form_select_custom_paragraph_option,children:null!==(i=null===e||void 0===e?void 0:e.dName)&&void 0!==i?i:e},l)}))})})]})}},10398:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>A});var i=t(72791),s=t(39230),n=t(56959),a=t(63687),d=t(21348),o=t(90904),r=t(51136),c=t(16871),_=t(80184);const v=e=>{var l;let{statitics:t,batchId:n,depart:a}=e;const{t:d}=(0,s.$G)(),o=(0,c.s0)(),v=(0,c.UO)(),m=(0,c.TH)(),f=(0,i.useCallback)((e=>{if((null===e||void 0===e?void 0:e.length)>0){var l;let t="Institute"===(null===(l=m.state)||void 0===l?void 0:l.urlOffSet)?"/q/".concat(v.username,"/institute/member/finance?type=statistics-detail"):"/q/".concat(v.username,"/member/staff/finance?type=statistics-detail");o(t,{state:{...m.state,studentList:e,openAs:"ADMISSION_OVERVIEW",batchId:n,departmentId:a}})}}),[o,v,n,a,m.state]);return(0,_.jsx)("div",{className:r.Z.ss_table,children:(0,_.jsxs)("div",{className:r.Z.fs_table_header,children:[(0,_.jsx)("div",{className:r.Z.fs_table_col,style:{borderRight:"none"},children:null===u||void 0===u?void 0:u.map((e=>(0,_.jsx)("div",{className:r.Z.fs_table_header_inner,children:(0,_.jsx)("h6",{className:r.Z.fs_table_header_inner_h6,style:{width:"10rem"},children:d(null===e||void 0===e?void 0:e.name)})},null===e||void 0===e?void 0:e.name)))}),null===t||void 0===t||null===(l=t.departs)||void 0===l?void 0:l.map(((e,l)=>{var i,s;return(0,_.jsxs)("div",{className:r.Z.fs_table_col,children:[(0,_.jsx)("div",{className:r.Z.fs_table_header_inner,children:(0,_.jsx)("h6",{className:r.Z.fs_table_header_inner_h6,children:e["dp".concat(l+1)]})}),(0,_.jsx)("div",{className:r.Z.fs_table_col_inner,children:null===(i=t["dp".concat(l+1)])||void 0===i||null===(s=i.batches)||void 0===s?void 0:s.map((e=>{var i,s;return(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{className:r.Z.fs_table_header_inner,children:(0,_.jsx)("h6",{className:r.Z.fs_table_header_inner_h6,children:null===e||void 0===e?void 0:e.batchName})}),(0,_.jsx)("div",{className:r.Z.fs_table_col_inner,style:{alignItems:"flex-start"},children:null===(i=t["dp".concat(l+1)])||void 0===i||null===(s=i.masters)||void 0===s?void 0:s.map((i=>{var s,n,a,d,o;return(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{className:r.Z.fs_table_header_inner,children:(0,_.jsx)("h6",{className:r.Z.fs_table_header_inner_h6,style:{width:"10rem"},children:null!==(s=null===i||void 0===i?void 0:i.masterName)&&void 0!==s?s:"NULL"})},null===i||void 0===i?void 0:i._id),(0,_.jsx)("div",{className:r.Z.fs_table_col_inner,children:null===(n=h(null===(o=t["dp".concat(l+1)])||void 0===o?void 0:o.nest_classes,null===e||void 0===e?void 0:e._id))||void 0===n||null===(a=n[null===e||void 0===e?void 0:e._id])||void 0===a||null===(d=a.classes)||void 0===d?void 0:d.map((e=>{var l,t,s,n,a,d,o,c,v,u;return(null===e||void 0===e?void 0:e.classMaster)===(null===i||void 0===i?void 0:i._id)?(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{className:r.Z.fs_table_header_inner,children:(0,_.jsx)("h6",{className:r.Z.fs_table_header_inner_h6,style:{width:"10rem"},children:null!==(l=null===e||void 0===e?void 0:e.className)&&void 0!==l?l:"NULL"})}),(0,_.jsx)("div",{className:r.Z.fs_table_header_inner,children:(0,_.jsx)("h6",{className:r.Z.fs_table_header_inner_h6,onClick:()=>f(null===e||void 0===e?void 0:e.total_fees_arr),style:{cursor:"pointer",color:"#00f"},children:null!==(t=null===e||void 0===e?void 0:e.total_fees)&&void 0!==t?t:"NULL"})}),(0,_.jsx)("div",{className:r.Z.fs_table_header_inner,children:(0,_.jsx)("h6",{className:r.Z.fs_table_header_inner_h6,onClick:()=>f(null===e||void 0===e?void 0:e.total_collect_arr),style:{cursor:"pointer",color:"#00f"},children:null!==(s=null===e||void 0===e?void 0:e.total_collect)&&void 0!==s?s:"NULL"})}),(0,_.jsx)("div",{className:r.Z.fs_table_header_inner,children:(0,_.jsx)("h6",{className:r.Z.fs_table_header_inner_h6,onClick:()=>f(null===e||void 0===e?void 0:e.total_pending_arr),style:{cursor:"pointer",color:"#00f"},children:null!==(n=null===e||void 0===e?void 0:e.total_pending)&&void 0!==n?n:"NULL"})}),(0,_.jsx)("div",{className:r.Z.fs_table_header_inner,children:(0,_.jsx)("h6",{className:r.Z.fs_table_header_inner_h6,onClick:()=>f(null===e||void 0===e?void 0:e.collect_by_student_arr),style:{cursor:"pointer",color:"#00f"},children:null!==(a=null===e||void 0===e?void 0:e.collect_by_student)&&void 0!==a?a:"NULL"})}),(0,_.jsx)("div",{className:r.Z.fs_table_header_inner,children:(0,_.jsx)("h6",{className:r.Z.fs_table_header_inner_h6,onClick:()=>f(null===e||void 0===e?void 0:e.pending_by_student_arr),style:{cursor:"pointer",color:"#00f"},children:null!==(d=null===e||void 0===e?void 0:e.pending_by_student)&&void 0!==d?d:"NULL"})}),(0,_.jsx)("div",{className:r.Z.fs_table_header_inner,children:(0,_.jsx)("h6",{className:r.Z.fs_table_header_inner_h6,onClick:()=>f(null===e||void 0===e?void 0:e.collect_by_government_arr),style:{cursor:"pointer",color:"#00f"},children:null!==(o=null===e||void 0===e?void 0:e.collect_by_government)&&void 0!==o?o:"NULL"})}),(0,_.jsx)("div",{className:r.Z.fs_table_header_inner,children:(0,_.jsx)("h6",{className:r.Z.fs_table_header_inner_h6,onClick:()=>f(null===e||void 0===e?void 0:e.pending_from_government_arr),style:{cursor:"pointer",color:"#00f"},children:null!==(c=null===e||void 0===e?void 0:e.pending_from_government)&&void 0!==c?c:"NULL"})}),(0,_.jsx)("div",{className:r.Z.fs_table_header_inner,children:(0,_.jsx)("h6",{className:r.Z.fs_table_header_inner_h6,onClick:()=>f(null===e||void 0===e?void 0:e.excess_fee_arr),style:{cursor:"pointer",color:"#00f"},children:null!==(v=null===e||void 0===e?void 0:e.excess_fee)&&void 0!==v?v:"NULL"})}),(0,_.jsx)("div",{className:r.Z.fs_table_header_inner,children:(0,_.jsx)("h6",{className:r.Z.fs_table_header_inner_h6,onClick:()=>f(null===e||void 0===e?void 0:e.exempted_fee_arr),style:{cursor:"pointer",color:"#00f"},children:null!==(u=null===e||void 0===e?void 0:e.exempted_fee)&&void 0!==u?u:"NULL"})})]},null===e||void 0===e?void 0:e._id):null}))})]})}))})]},null===e||void 0===e?void 0:e._id)}))})]},l)}))]})})},u=[{name:"department"},{name:"batch"},{name:"standard"},{name:"class"},{name:"total_fees"},{name:"total_collect"},{name:"total_pending"},{name:"collect_from_student"},{name:"ot_from_student"},{name:"collect_from_gov"},{name:"ot_from_gov"},{name:"excess_fee"},{name:"exempted_fee"}],h=(e,l)=>{for(let t of e)for(let e in t)if(e===l)return t};var m=t(55336),f=t(98684),p=t(93638),x=t(38857),j=t(16925),b=t(39896),N=t(24620),Z=t(17502),L=t(6758);const g=e=>{let{onClose:l,fid:t,instituteId:n,onRefetch:a}=e;const{t:r}=(0,s.$G)(),[c,v]=(0,i.useState)({activity_status:"",all_depart:"",batch_status:"",master:[],batch:"",depart:"",bank:"",single_student:""}),[u,h]=(0,i.useState)(!1),[g]=(0,L.wL)(),y=(0,i.useCallback)((e=>{null!==e&&void 0!==e&&e._id&&v((l=>({...l,all_depart:"PARTICULAR",depart:null===e||void 0===e?void 0:e._id})))}),[]),S=(0,i.useCallback)((e=>{null!==e&&void 0!==e&&e._id?v((l=>({...l,batch_status:"PARTICULAR_BATCH",batch:null===e||void 0===e?void 0:e._id}))):v((e=>({...e,batch_status:"ALL_BATCH",batch:""})))}),[]),C=(0,i.useCallback)((e=>{v((l=>({...l,bank:null===e||void 0===e?void 0:e._id})))}),[]);return(0,_.jsx)(x.Z,{onClose:l,children:(0,_.jsxs)("div",{className:j.Z.modal_container,children:[(0,_.jsx)(d.default,{children:(0,_.jsxs)("div",{className:j.Z.modal_container_outer_header,children:[(0,_.jsx)("div",{className:j.Z.modal_container_header,children:(0,_.jsx)("h6",{children:r("admission_fee_statistics_filter")})}),(0,_.jsx)("img",{src:"".concat(f.J7,"/close.svg"),alt:"close icon",onClick:l})]})}),(0,_.jsx)(o.Z,{}),(0,_.jsxs)(d.default,{customStyle:{paddingTop:"0"},children:[c.activity_status?null:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(b.Z,{fid:t,onSelect:y,onlyDepartment:!0}),(0,_.jsx)(N.Z,{did:c.depart,onSelect:S,onlyBatch:!0})]}),(0,_.jsx)(Z.Z,{fid:t,onSelect:C})]}),(0,_.jsx)(p.Z,{label:"filter",onAction:()=>{t&&(h((e=>!e)),g({fid:t,moduleType:"ADMISSION_VIEW",statisticsBody:c}).then((e=>{a(),l(),h((e=>!e))})).catch({}))}})]}),u&&(0,_.jsx)(m.default,{})]})})};var y=t(97892),S=t.n(y),C=t(82824),k=t(1669);const A=e=>{var l,t,r,c,u,h,x,j,b,N,Z,y;let{fid:A,instituteId:M}=e;const{t:Y}=(0,s.$G)(),[I,D]=(0,i.useState)(""),[T,R]=(0,i.useState)([]),[w]=(0,L.wL)(),[U,F]=(0,i.useState)(!1),V=(0,i.useCallback)((()=>{D("")}),[]),{financeAdmissionStatics:B,financeAdmissionStaticsRefetch:E,financeAdmissionStaticsLoading:P}=(0,L.VP)({fid:A,skip:!A});(0,i.useEffect)((()=>{null!==B&&void 0!==B&&B.excel_list&&R(null===B||void 0===B?void 0:B.excel_list)}),[null===B||void 0===B?void 0:B.excel_list]);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(a.default,{children:[(0,_.jsx)(d.default,{children:(0,_.jsx)("div",{className:n.Z.fm_header_container,children:(0,_.jsx)("h6",{children:Y("admission_fees_statitics")})})}),(0,_.jsx)(o.Z,{}),(0,_.jsxs)(d.default,{customStyle:{paddingTop:"0.2rem"},children:[(0,_.jsxs)("div",{className:n.Z.fm_fs_container,children:[(0,_.jsxs)("h6",{className:n.Z.fm_title_heading,style:{flex:"2 2"},children:[Y("apply_filter")," "," : ",null!==B&&void 0!==B&&null!==(l=B.fees_statistics_filter)&&void 0!==l&&null!==(t=l.department_level)&&void 0!==t&&t[0]?"Particular Department, ":"",null!==B&&void 0!==B&&null!==(r=B.fees_statistics_filter)&&void 0!==r&&null!==(c=r.batch_level)&&void 0!==c&&c[0]?"Particular Batch, ":"",null!==B&&void 0!==B&&null!==(u=B.fees_statistics_filter)&&void 0!==u&&null!==(h=u.bank_level)&&void 0!==h&&h[0]?"Particular Bank":""]}),(0,_.jsxs)("div",{className:n.Z.fm_fs_container_inner,style:{flex:"1 1"},children:[(0,_.jsx)(p.Z,{label:"filter",onAction:()=>{D("FILTER")},customStyle:{margin:"0"}}),(0,_.jsxs)("div",{className:n.Z.fm_fs_refetch_container,onClick:()=>{var e,l,t,i,s,n,a,d,o;!A||null!==B&&void 0!==B&&B.loading_status||(F((e=>!e)),w({fid:A,moduleType:"ADMISSION_VIEW",statisticsBody:{activity_status:"",all_depart:"PARTICULAR",batch_status:"PARTICULAR_BATCH",master:[],batch:null!==(e=null===B||void 0===B||null===(l=B.fees_statistics_filter)||void 0===l||null===(t=l.batch_level)||void 0===t?void 0:t[0])&&void 0!==e?e:"",depart:null!==(i=null===B||void 0===B||null===(s=B.fees_statistics_filter)||void 0===s||null===(n=s.department_level)||void 0===n?void 0:n[0])&&void 0!==i?i:"",bank:null!==(a=null===B||void 0===B||null===(d=B.fees_statistics_filter)||void 0===d||null===(o=d.bank_level)||void 0===o?void 0:o[0])&&void 0!==a?a:""}}).then((()=>{E(),F((e=>!e))})).catch({}))},children:[null!==B&&void 0!==B&&B.loading_status?(0,_.jsx)("img",{src:"".concat(f.Uw,"/loading.gif"),alt:"refetch icon"}):(0,_.jsx)("img",{src:"".concat(f.J7,"/refresh.svg"),alt:"refetch icon"}),(0,_.jsxs)("div",{className:n.Z.fm_fs_refetch_container_inner,children:[(0,_.jsx)("h6",{children:Y("refetch_data")}),(0,_.jsxs)("p",{children:[Y("last_updated")," : ",S()().format("DD MMM YYYY"),", ",(0,C.J)(null===B||void 0===B?void 0:B.last_update,"LT")]})]})]})]})]}),P&&(0,_.jsx)(k.Z,{}),(null===T||void 0===T?void 0:T[0])&&(0,_.jsx)(v,{statitics:null===T||void 0===T?void 0:T[0],batchId:null!==(x=null===B||void 0===B||null===(j=B.fees_statistics_filter)||void 0===j||null===(b=j.batch_level)||void 0===b?void 0:b[0])&&void 0!==x?x:"",depart:null!==(N=null===B||void 0===B||null===(Z=B.fees_statistics_filter)||void 0===Z||null===(y=Z.department_level)||void 0===y?void 0:y[0])&&void 0!==N?N:""})]})]}),"FILTER"===I?(0,_.jsx)(g,{onClose:V,fid:A,instituteId:M,onRefetch:E}):null,U&&(0,_.jsx)(m.default,{})]})}},24620:(e,l,t)=>{"use strict";t.d(l,{Z:()=>d});var i=t(6758),s=t(33880),n=t(39230),a=t(80184);const d=e=>{let{did:l,onSelect:t,onlyBatch:d,errorShow:o,defalutValue:r,isDenied:c}=e;const{t:_}=(0,n.$G)(),{departmentAllBatch:v}=(0,i._m)({did:l,skip:!l});return(0,a.jsx)(a.Fragment,{children:d?(0,a.jsx)(s.Z,{selectLabel:_("select_batch"),selectedValue:_("select_batch_placeholder"),options:(null===v||void 0===v?void 0:v.length)>0?v:[],onClick:t,isFull:!0,errorShow:o,defalutValue:r,isDenied:c}):(0,a.jsx)(s.Z,{selectLabel:_("select_batch"),selectedValue:_("select_batch_placeholder"),options:(null===v||void 0===v?void 0:v.length)>0?["ALL",...v]:["ALL"],onClick:t,isFull:!0,errorShow:o})})}},39896:(e,l,t)=>{"use strict";t.d(l,{Z:()=>d});var i=t(6758),s=t(31897),n=t(39230),a=t(80184);const d=e=>{let{fid:l,onSelect:t,onlyDepartment:d,errorShow:o,defalutValue:r,isDenied:c,customStyleContainer:_}=e;const{t:v}=(0,n.$G)(),{instituteAllDepartment:u}=(0,i.Jv)({fid:l,skip:!l});return(0,a.jsx)(a.Fragment,{children:d?(0,a.jsx)(s.Z,{selectLabel:v("select_department"),selectedValue:v("select_department_placeholder"),options:(null===u||void 0===u?void 0:u.length)>0?u:[],onClick:t,isFull:!0,errorShow:o,defalutValue:r,viewAs:"NORMAL_FILTER",isDenied:c,customStyleContainer:_}):(0,a.jsx)(s.Z,{selectLabel:v("select_department"),selectedValue:v("select_department_placeholder"),options:(null===u||void 0===u?void 0:u.length)>0?["ALL","By Bank","Particular Student",...u]:["ALL","By Bank","Particular Student"],onClick:t,isFull:!0,errorShow:o,customStyleContainer:_})})}},82824:(e,l,t)=>{"use strict";t.d(l,{J:()=>d,Z:()=>o});var i=t(99893),s=t.n(i),n=t(97892),a=t.n(n);const d=(e,l)=>(a().extend(s()),a()(e).format(l)),o=(e,l,t)=>{var i;return a()()[e]("".concat(null===(i=a()(t))||void 0===i?void 0:i.format("YYYY-MM-DD")),l)}},99893:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(l,t,i){var s=t.prototype,n=s.format;i.en.formats=e,s.format=function(l){void 0===l&&(l="YYYY-MM-DDTHH:mm:ssZ");var t=this.$locale().formats,i=function(l,t){return l.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(l,i,s){var n=s&&s.toUpperCase();return i||t[s]||e[s]||t[n].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,l,t){return l||t.slice(1)}))}))}(l,void 0===t?{}:t);return n.call(this,i)}}}()}}]);
//# sourceMappingURL=97390.31d09881.chunk.js.map