"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[50939],{81674:(e,t,l)=>{l.d(t,{a:()=>s,b:()=>i});const s={CASH_RECEIPT_ACCESS:["menu","student","submit"],INVENTORY_ACCESS:["menu","student","inventory"],FEE_MASTER_ACCESS:["menu","student","fees"],PAYROLL_ACCESS:["menu","student","payroll"],DEPOSIT_ACCESS:["menu","student","deposit"],BANK_ACCOUNT_ACCESS:["menu","student","bank"],DATA_EXPORT_ACCESS:["menu","student","export"],SCHOLARSHIP_ACCESS:["menu","student","scholarship"],MISCELLENOUS_FEE:["other-fees","other-fees-detail"],DAYBOOK_AUTHORITY:["daybook","other-fees-detail"]},i={DATA_EXPORT_ACCESS:{subUrl:"export",authorizedKey:"data_export"},FEE_MASTER_ACCESS:{subUrl:"fees",authorizedKey:"fees_structure"},DEPOSIT_ACCESS:{subUrl:"deposit",authorizedKey:"deposits"},BANK_ACCOUNT_ACCESS:{subUrl:"bank",authorizedKey:"bank_details"},SCHOLARSHIP_ACCESS:{subUrl:"scholarship",authorizedKey:"scholarships"},ADMISSION_PENDING_FEES_ACCESS:{subUrl:"admission-fee",authorizedKey:"admission_pending_fees"},OFFLINE_PAYMENT_VERIFICATION_ACCESS:{subUrl:"verification",authorizedKey:"admission_offline_verification"},EXCESS_FEE_REFUND_ACCESS:{subUrl:"excess",authorizedKey:"admission_excess_fees"},MISCELLENOUS_FEE:{subUrl:"other-fees",authorizedKey:"miscellaneous_fees"},DAYBOOK_AUTHORITY:{subUrl:"daybook",authorizedKey:"daybook"}}},5978:(e,t,l)=>{l.r(t),l.d(t,{default:()=>n});const s="UserMemberTab_um_main_wrapper__NwvJ9";var i=l(80184);const n=e=>{let{children:t}=e;return(0,i.jsx)("div",{className:s,children:t})}},8959:(e,t,l)=>{l.d(t,{Z:()=>n});var s=l(52245),i=l(80184);const n=e=>{let{label:t,value:l,customFormInputContainer:n,customFormInputLabel:o,customFormInput:a,children:d}=e;return(0,i.jsxs)("div",{className:s.Z.form_read_input_container,style:n,children:[t?(0,i.jsx)("label",{className:s.Z.form_read_input_label,style:o,children:t}):null,d,(0,i.jsx)("h6",{className:s.Z.form_read_input,style:a,children:l})]})}},91448:(e,t,l)=>{l.d(t,{Z:()=>d});var s=l(72791),i=l(39230),n=l(52245),o=l(98684),a=l(80184);const d=e=>{let{selectLabel:t,onClick:l,selectedValue:d,options:r,customStyleContainer:c,customLabelStyle:u,customListStyle:v,errorShow:m,defalutValue:h,isDenied:_}=e;const{t:g}=(0,i.$G)(),[x,j]=(0,s.useState)(!1),[f,p]=(0,s.useState)(""),y=()=>{_||j((e=>!e))};(0,s.useEffect)((()=>{p(h)}),[h]);return(0,a.jsxs)("div",{className:n.Z.form_input_container,style:{...c},children:[(0,a.jsxs)("p",{className:n.Z.join_form_select_paragraph,style:{...u},children:[t,m&&(0,a.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",g("form_require_label")]})]}),(0,a.jsxs)("section",{className:n.Z.join_form_select_custom,onClick:y,children:[f?(0,a.jsx)("p",{className:n.Z.join_form_select_custom_paragraph,children:null!==f&&void 0!==f?f:""}):(0,a.jsx)("p",{className:n.Z.join_form_select_custom_paragraph,children:d}),x?(0,a.jsx)("img",{className:n.Z.join_form_select_custom_rotate_icon,src:"".concat(o.J7,"/down.svg"),alt:"categor icon"}):(0,a.jsx)("img",{className:n.Z.join_form_select_custom_icon,src:"".concat(o.J7,"/down.svg"),alt:"categor icon"})]}),x&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("section",{className:n.Z.join_form_select_custom_list,style:v,children:null===r||void 0===r?void 0:r.map(((e,t)=>{var s;return(0,a.jsx)("p",{onClick:()=>{return l(t=e),y(),void(null!==t&&void 0!==t&&t.className&&p(null===t||void 0===t?void 0:t.className));var t},className:n.Z.join_form_select_custom_paragraph_option,children:null!==(s=null===e||void 0===e?void 0:e.name)&&void 0!==s?s:null===e||void 0===e?void 0:e.className},t)}))})})]})}},63162:(e,t,l)=>{l.d(t,{Z:()=>r});var s=l(39230),i=l(51416),n=l(43504),o=l(72791),a=l(80184);const d=e=>{let{tab:t,isActive:l,isLink:o,parentState:d,onAction:r,url:c,extraData:u,customStyle:v}=e;const{t:m}=(0,s.$G)();return o?(0,a.jsx)(n.rU,{className:l?i.Z.horizontal_tab_card_active:i.Z.horizontal_tab_card,to:c,state:d,style:v,children:(0,a.jsxs)("h6",{children:[m(null===t||void 0===t?void 0:t.label),(null===u||void 0===u?void 0:u.count)>=0?"(".concat(null===u||void 0===u?void 0:u.count,")"):""]})}):(0,a.jsx)("div",{className:l?i.Z.horizontal_tab_card_active:i.Z.horizontal_tab_card,onClick:()=>{r(null===t||void 0===t?void 0:t.id)},children:(0,a.jsx)("h6",{children:m(null===t||void 0===t?void 0:t.label)})})},r=(0,o.memo)(d)},98967:(e,t,l)=>{l.d(t,{Z:()=>n});var s=l(51416),i=l(80184);const n=e=>{let{customWrapperStyle:t,children:l}=e;return(0,i.jsx)("div",{className:s.Z.horizontal_tab_wrapper,style:t,children:l})}},23558:(e,t,l)=>{l.d(t,{Z:()=>r});var s=l(39230),i=l(51416),n=l(72791),o=l(43504),a=l(80184);const d=e=>{let{label:t,onClick:l,isActive:d,isLink:r,url:c,parentState:u,isAuthorized:v}=e;const{t:m}=(0,s.$G)(),h=(0,n.useCallback)((()=>(l&&l(),null)),[l]);return(0,a.jsx)(a.Fragment,{children:r?(0,a.jsx)(a.Fragment,{children:v?(0,a.jsx)(o.rU,{className:d?i.Z.rectangle_tab_card_active:i.Z.rectangle_tab_card,to:c,state:u,children:m(t)}):(0,a.jsx)("div",{className:i.Z.rectangle_tab_card,style:{opacity:"0.5"},children:m(t)})}):(0,a.jsx)("div",{className:d?i.Z.rectangle_tab_card_active:i.Z.rectangle_tab_card,onClick:h,children:m(t)})})},r=(0,n.memo)(d)},53277:(e,t,l)=>{l.d(t,{Z:()=>n});var s=l(51416),i=l(80184);const n=e=>{let{customStyle:t,children:l}=e;return(0,i.jsx)("div",{className:s.Z.rectangle_tab_wrapper,style:t,children:l})}},60724:(e,t,l)=>{l.d(t,{Z:()=>a});var s=l(39230),i=l(51416),n=l(43504),o=l(80184);const a=e=>{let{label:t,iconUrl:l,url:a,state:d,isAuthorized:r,isVisible:c,authorizedKey:u,customStyleContainer:v}=e;const{t:m}=(0,s.$G)();return a?(0,o.jsx)(o.Fragment,{children:r?c&&c[u]&&(0,o.jsxs)(n.rU,{className:i.Z.square_tab_card,to:a,state:d,style:v,children:[(0,o.jsx)("img",{src:l,alt:"card icon",className:i.Z.square_tab_card_icon}),(0,o.jsx)("p",{children:m(t)})]}):c&&c[u]&&(0,o.jsxs)("div",{className:i.Z.square_tab_card,style:{opacity:"0.5",...v},children:[(0,o.jsx)("img",{src:l,alt:"card icon",className:i.Z.square_tab_card_icon}),(0,o.jsx)("p",{children:m(t)})]})}):(0,o.jsxs)("div",{className:i.Z.square_tab_card,style:v,children:[(0,o.jsx)("img",{src:l,alt:"card icon"}),(0,o.jsx)("p",{children:m(t)})]})}},26071:(e,t,l)=>{l.d(t,{Z:()=>o});var s=l(51416),i=l(39230),n=l(80184);const o=e=>{let{tile:t,onTile:l,activeTile:o,customTileChild:a}=e;const{t:d}=(0,i.$G)();return(0,n.jsx)("div",{className:(null===t||void 0===t?void 0:t.key)===o?s.Z.tile_tile_active:s.Z.tile_tile,onClick:()=>l(null===t||void 0===t?void 0:t.key),style:a,children:d(null===t||void 0===t?void 0:t.name)})}},20659:(e,t,l)=>{l.d(t,{Z:()=>o});var s=l(51416),i=l(39230),n=l(80184);const o=e=>{let{label:t,customTileLabel:l,customTileContainer:o,customTileStyle:a,errorShow:d,children:r}=e;const{t:c}=(0,i.$G)();return(0,n.jsxs)("div",{className:s.Z.tile_container,style:a,children:[t&&(0,n.jsxs)("h6",{className:s.Z.tile_label,style:l,children:[c(t),d?(0,n.jsxs)("span",{style:{color:"rgb(231, 75, 75)"},children:["* ",c("form_require_label")]}):null]}),(0,n.jsx)("section",{className:s.Z.tile_tile_container,style:o,children:r})]})}},87979:(e,t,l)=>{l.d(t,{Z:()=>n});var s=l(59393),i=l(80184);const n=e=>{let{customStyle:t,children:l}=e;return(0,i.jsx)("div",{className:s.Z.user_member_tabs_wrapper,style:t,children:l})}},26304:(e,t,l)=>{l.r(t),l.d(t,{default:()=>Nt});var s=l(87087),i=l(16871),n=l(43504),o=l(5978),a=l(72791),d=l(55336),r=l(87979),c=l(1669),u=l(53277),v=l(23558),m=l(98167),h=l(60724),_=l(98684),g=l(81674),x=l(39230),j=l(23441),f=l(91427),p=l(57588),y=l(56959),Z=l(93638),N=l(21348),S=l(2651),b=l(38857),C=l(90904),k=l(61055),I=l(91448),w=l(99183),q=l(16925),F=l(15427),L=l(80184);const T=e=>{let{onClose:t,onRefetch:l,stid:s}=e;const{t:i}=(0,x.$G)(),[n,o]=(0,a.useState)(""),[r,c]=(0,a.useState)(!1),[u,v]=(0,a.useState)({category_name:"",category_type:""}),[m]=(0,F.H4)();return(0,L.jsx)(L.Fragment,{children:(0,L.jsx)(b.Z,{onClose:t,children:(0,L.jsxs)("div",{className:q.Z.modal_container,children:[(0,L.jsx)(N.default,{children:(0,L.jsxs)("div",{className:q.Z.modal_container_outer_header,children:[(0,L.jsx)("div",{className:q.Z.modal_container_header,children:(0,L.jsx)("h6",{children:i("add_new_category")})}),(0,L.jsx)("img",{src:"".concat(_.J7,"/close.svg"),alt:"close icon",onClick:t})]})}),(0,L.jsx)(C.Z,{}),(0,L.jsxs)(N.default,{customStyle:{paddingTop:"0"},children:[(0,L.jsx)(k.Z,{label:i("category_name"),placeholder:i("category_name_placeholder"),name:"category_name",value:u.category_name,type:"text",onChange:e=>{v((t=>({...t,[e.target.name]:e.target.value})))},errorShow:n.category_name}),(0,L.jsx)(I.Z,{selectLabel:i("category_type"),selectedValue:i("please_select_category_type"),onClick:e=>{v((t=>({...t,category_type:null===e||void 0===e?void 0:e.name})))},options:[{name:"Inventory"},{name:"Fixed Assests"}],defalutValue:u.category_type,errorShow:n.category_type}),(0,L.jsx)(Z.Z,{label:"create",onAction:()=>{let e=(0,w.l)(u,[]);(0,w.x)(e)&&s?(c((e=>!e)),m({stid:s,bodyParameter:{...u,category_type:"Fixed Assests"===u.category_type?"FIXED_ASSESTS":"CONSUMABLES"}}).then((()=>{l(),c((e=>!e)),t()})).catch({})):o(e)}})]}),r&&(0,L.jsx)(d.default,{})]})})})};var E=l(2034);const U=e=>{var t;let{category:l}=e;const{t:s}=(0,x.$G)(),o=(0,i.UO)(),d=(0,i.TH)(),[r,c]=(0,a.useState)("");return(0,L.jsx)(L.Fragment,{children:(0,L.jsx)(n.rU,{to:"/q/".concat(o.username,"/member/staff/store?type=masters&n=category"),state:{...d.state,category:l},children:(0,L.jsxs)("div",{className:E.Z.smc_card,children:[(0,L.jsxs)("div",{className:E.Z.smc_card_contatiner,children:[(0,L.jsx)("img",{src:"".concat(_.J7,"/category.svg"),alt:"categor icon"}),(0,L.jsxs)("div",{className:E.Z.smc_card_contatiner_inner,children:[(0,L.jsxs)("h6",{children:[s("category_name"),": ",null!==(t=null===l||void 0===l?void 0:l.category_name)&&void 0!==t?t:""]}),(0,L.jsxs)("p",{children:[s("category_type")," ",": "," ","FIXED_ASSESTS"===(null===l||void 0===l?void 0:l.category_type)?"Fixed Assests":"Inventory"]})]})]}),(0,L.jsx)("img",{src:"".concat(_.J7,"/menu.svg"),alt:"menu icon",onClick:e=>{e.preventDefault(),c(1)},className:E.Z.menu_icon,title:"Menu"})]})})})},A=e=>{var t,l,s;let{stid:i}=e;const{t:n}=(0,x.$G)(),[o,r]=(0,a.useState)(""),[u,v]=(0,a.useState)(1),[m,h]=(0,a.useState)(!0),[g,b]=(0,j.YD)({skip:o}),[C,k]=(0,a.useState)(!1),{storeMasterCategoryList:I,storeMasterCategoryListLoading:w,storeMasterCategoryListRefetch:q}=(0,F.ZC)({data:{stid:i,page:u,limit:10,search:o},skip:!i});(0,a.useEffect)((()=>{b&&m&&v((e=>e+1))}),[b,m]),(0,a.useEffect)((()=>{var e;if(null!==I&&void 0!==I&&null!==(e=I.list)&&void 0!==e&&e.length){var t;let e=(0,f.f)(null===I||void 0===I||null===(t=I.list)||void 0===t?void 0:t.length);h((()=>e))}}),[null===I||void 0===I?void 0:I.list]);const E=(0,a.useCallback)((0,p.J)((e=>{v((()=>1)),r(e)}),1500),[]),A=()=>{k((e=>!e))};return(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(N.default,{customStyle:{padding:"0.8rem 0 0 0"},children:[(0,L.jsx)("div",{className:y.Z.fm_search_full,style:{marginBottom:"0.5rem"},children:(0,L.jsxs)("section",{className:y.Z.fm_search_full_container,style:{gap:"1rem"},children:[(0,L.jsxs)("div",{className:y.Z.fm_search_full_container_inner,style:{flex:"1.5 1.5"},children:[(0,L.jsx)("img",{className:y.Z.fm_search_full_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,L.jsx)("input",{type:"text",placeholder:n("search"),onChange:e=>{e.target.value?E(e.target.value):(v((()=>1)),r(""))}})]}),(0,L.jsx)(Z.Z,{label:"add_new_category",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:A})]})}),null===I||void 0===I||null===(t=I.list)||void 0===t?void 0:t.map(((e,t)=>{var l;return(null===I||void 0===I||null===(l=I.list)||void 0===l?void 0:l.length)===t+1?(0,L.jsx)("div",{ref:g,children:(0,L.jsx)(U,{category:e})},null===e||void 0===e?void 0:e._id):(0,L.jsx)(U,{category:e},null===e||void 0===e?void 0:e._id)})),w?o?(0,L.jsx)(d.default,{}):(0,L.jsx)(c.Z,{}):o?0===(null===I||void 0===I||null===(l=I.list)||void 0===l?void 0:l.length)&&(0,L.jsx)(S.Z,{title:"No category found related this search."}):0===(null===I||void 0===I||null===(s=I.list)||void 0===s?void 0:s.length)&&(0,L.jsx)(S.Z,{title:"No category."}),C&&(0,L.jsx)(T,{onRefetch:()=>{v((()=>1)),r(""),q()},onClose:A,stid:i})]})})};var B=l(1095);const G=e=>{var t,l;let{subCategory:s}=e;const{t:i}=(0,x.$G)(),[n,o]=(0,a.useState)("");return(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)("div",{className:E.Z.smc_card,children:[(0,L.jsxs)("div",{className:E.Z.smc_card_contatiner,children:[(0,L.jsx)("img",{src:null!==s&&void 0!==s&&s.good_icon?"".concat(B.yI,"/").concat(null===s||void 0===s?void 0:s.good_icon):"".concat(_.J7,"/category.svg"),alt:"categor good_icon"}),(0,L.jsxs)("div",{className:E.Z.smc_card_contatiner_inner,children:[(0,L.jsxs)("h6",{children:[i("name"),": ",null!==(t=null===s||void 0===s?void 0:s.goods_name)&&void 0!==t?t:""]}),(0,L.jsxs)("p",{children:[i("measures")," ",": "," ",null!==(l=null===s||void 0===s?void 0:s.goods_quantity)&&void 0!==l?l:""]})]})]}),(0,L.jsx)("img",{src:"".concat(_.J7,"/menu.svg"),alt:"menu icon",onClick:()=>{o(1)},className:E.Z.menu_icon,title:"Menu"})]})})};var P=l(38986),D=l(84959);const M=e=>{let{onClose:t,onRefetch:l,cid:s}=e;const{t:i}=(0,x.$G)(),[n,o]=(0,a.useState)(""),[r,c]=(0,a.useState)(!1),[u,v]=(0,a.useState)({goods_name:"",goods_quantity:"",good_icon:""}),[m]=(0,F.Yd)(),[h]=(0,D.FL)();return(0,L.jsx)(L.Fragment,{children:(0,L.jsx)(b.Z,{onClose:t,children:(0,L.jsxs)("div",{className:q.Z.modal_container,children:[(0,L.jsx)(N.default,{children:(0,L.jsxs)("div",{className:q.Z.modal_container_outer_header,children:[(0,L.jsx)("div",{className:q.Z.modal_container_header,children:(0,L.jsx)("h6",{children:i("add_goods")})}),(0,L.jsx)("img",{src:"".concat(_.J7,"/close.svg"),alt:"close icon",onClick:t})]})}),(0,L.jsx)(C.Z,{}),(0,L.jsxs)(N.default,{customStyle:{paddingTop:"0"},children:[(0,L.jsx)(k.Z,{label:i("goods_name"),placeholder:i("goods_name_placeholder"),name:"goods_name",value:u.goods_name,type:"text",onChange:e=>{v((t=>({...t,[e.target.name]:e.target.value})))},errorShow:n.goods_name}),(0,L.jsx)(I.Z,{selectLabel:i("measures"),selectedValue:i("please_select_measures"),onClick:e=>{v((t=>({...t,goods_quantity:null===e||void 0===e?void 0:e.name})))},options:[{name:"Quantity"},{name:"Pieces"},{name:"Kg"},{name:"Gram"},{name:"Liter"},{name:"Meter"}],defalutValue:u.goods_quantity,errorShow:n.goods_quantity}),(0,L.jsx)(P.Z,{label:i("icon_upload"),name:"icicon_uploadon",value:u.good_icon?{key:u.good_icon}:"",onChange:e=>{var t;if(null!==(t=e.target.files)&&void 0!==t&&t.length){c((e=>!e));const t=new FormData;t.append("file",e.target.files[0]),h({fileUpload:t}).then((e=>{var t;null!==(t=e.data)&&void 0!==t&&t.imageKey&&(v((t=>{var l;return{...t,good_icon:null===(l=e.data)||void 0===l?void 0:l.imageKey}})),c((e=>!e)))})).catch({})}}}),(0,L.jsx)(Z.Z,{label:"create",onAction:()=>{let e=(0,w.l)(u,["good_icon"]);(0,w.x)(e)&&s?(c((e=>!e)),m({cid:s,bodyParameter:u}).then((()=>{l(),c((e=>!e)),t()})).catch({})):o(e)}})]}),r&&(0,L.jsx)(d.default,{})]})})})},z=()=>{var e,t,l,s,n,o,r,u,v,m,h,g;const b=(0,i.TH)(),{t:C}=(0,x.$G)(),[k,I]=(0,a.useState)(""),[w,q]=(0,a.useState)(1),[T,E]=(0,a.useState)(!0),[U,A]=(0,j.YD)({skip:k}),[B,P]=(0,a.useState)(!1),{storeMasterSubCategoryList:D,storeMasterSubCategoryListLoading:z,storeMasterSubCategoryListRefetch:J}=(0,F.Cc)({data:{cid:null===(e=b.state)||void 0===e||null===(t=e.category)||void 0===t?void 0:t._id,page:w,limit:10,search:k},skip:!(null!==(l=b.state)&&void 0!==l&&null!==(s=l.category)&&void 0!==s&&s._id)});(0,a.useEffect)((()=>{A&&T&&q((e=>e+1))}),[A,T]),(0,a.useEffect)((()=>{var e;if(null!==D&&void 0!==D&&null!==(e=D.list)&&void 0!==e&&e.length){var t;let e=(0,f.f)(null===D||void 0===D||null===(t=D.list)||void 0===t?void 0:t.length);E((()=>e))}}),[null===D||void 0===D?void 0:D.list]);const R=(0,a.useCallback)((0,p.J)((e=>{q((()=>1)),I(e)}),1500),[]),Y=()=>{P((e=>!e))};return(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(N.default,{customStyle:{padding:"0.8rem 0 0 0"},children:[(0,L.jsxs)("div",{className:y.Z.fm_header_container,children:[(0,L.jsx)("h6",{children:null!==(n=null===(o=b.state)||void 0===o||null===(r=o.category)||void 0===r?void 0:r.category_name)&&void 0!==n?n:""}),(0,L.jsxs)("div",{className:y.Z.fm_search,children:[(0,L.jsx)("section",{className:y.Z.fm_search_container,children:(0,L.jsxs)("div",{className:y.Z.fm_search_container_inner,children:[(0,L.jsx)("img",{className:y.Z.fm_search_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,L.jsx)("input",{type:"text",placeholder:C("search"),onChange:e=>{e.target.value?R(e.target.value):(q((()=>1)),I(""))},style:{minWidth:"270px"}})]})}),(0,L.jsx)(Z.Z,{label:"add_goods",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:Y})]})]}),null===D||void 0===D||null===(u=D.list)||void 0===u?void 0:u.map(((e,t)=>{var l;return(null===D||void 0===D||null===(l=D.list)||void 0===l?void 0:l.length)===t+1?(0,L.jsx)("div",{ref:U,children:(0,L.jsx)(G,{subCategory:e})},null===e||void 0===e?void 0:e._id):(0,L.jsx)(G,{subCategory:e},null===e||void 0===e?void 0:e._id)})),z?k?(0,L.jsx)(d.default,{}):(0,L.jsx)(c.Z,{}):k?0===(null===D||void 0===D||null===(v=D.list)||void 0===v?void 0:v.length)&&(0,L.jsx)(S.Z,{title:"No goods found related this search."}):0===(null===D||void 0===D||null===(m=D.list)||void 0===m?void 0:m.length)&&(0,L.jsx)(S.Z,{title:"No goods."}),B&&(0,L.jsx)(M,{onRefetch:()=>{q((()=>1)),I(""),J()},onClose:Y,cid:null===(h=b.state)||void 0===h||null===(g=h.category)||void 0===g?void 0:g._id})]})})},J=()=>{var e;const[t]=(0,n.lr)(),l=(0,i.TH)();return(0,L.jsx)(L.Fragment,{children:"category"===t.get("n")?(0,L.jsx)(z,{}):(0,L.jsx)(A,{stid:null===(e=l.state)||void 0===e?void 0:e.stid})})},R=e=>{var t,l,s,o,a,d,r,c,x,j,f,p,y,Z,N,S,b,C,k,I,w,q,F,T,E,U,A,B,G,P,D,M,z,R,Y,H,K;let{tabManage:O}=e;const V=(0,i.UO)(),W=(0,i.TH)(),[X]=((0,i.s0)(),(0,n.lr)());let Q=null===(t=document.getElementById("589nbsgh"))||void 0===t?void 0:t.clientWidth,ee="9rem",te="9rem";if(Q){let e=Q>870?Q>1100?6:5:Q>700?4:3,t=Q>870?1:2;te="".concat(Math.floor((Q-t-31*e-1)/e),"px"),ee=te}return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(u.Z,{children:$.map((e=>(0,L.jsx)(v.Z,{label:e.label,isLink:!0,isActive:"menu"===e.id&&!X.get("type")||X.get("type")===e.id,parentState:W.state,url:"/q/".concat(V.username,"/member/staff/store").concat(e.urlKey),isAuthorized:!0},null===e||void 0===e?void 0:e.id)))}),X.get("type")?"masters"===X.get("type")?(0,L.jsx)(J,{}):null:(0,L.jsxs)(m.Z,{dynamicId:"589nbsgh",children:[(0,L.jsx)(h.Z,{label:"unit",iconUrl:"".concat(_.zr,"/unit.svg"),url:"/q/".concat(V.username,"/member/staff/store?type=unit"),state:W.state,isAuthorized:null===(l=W.state)||void 0===l||!l.role||(null===(s=g.a[null===(o=W.state)||void 0===o?void 0:o.role])||void 0===s?void 0:s.includes("student")),isVisible:null!==O&&void 0!==O?O:{},authorizedKey:"store_unit",customStyleContainer:{height:ee,width:te}}),(0,L.jsx)(h.Z,{label:"individual_staffs",iconUrl:"".concat(_.zr,"/individual.svg"),url:"/q/".concat(V.username,"/member/staff/store?type=individual-staff"),state:W.state,isAuthorized:null===(a=W.state)||void 0===a||!a.role||(null===(d=g.a[null===(r=W.state)||void 0===r?void 0:r.role])||void 0===d?void 0:d.includes("student")),isVisible:null!==O&&void 0!==O?O:{},authorizedKey:"individual_staff",customStyleContainer:{height:ee,width:te}}),(0,L.jsx)(h.Z,{label:"stock",iconUrl:"".concat(_.zr,"/stock.svg"),url:"/q/".concat(V.username,"/member/staff/store?type=stock"),state:W.state,isAuthorized:null===(c=W.state)||void 0===c||!c.role||(null===(x=g.a[null===(j=W.state)||void 0===j?void 0:j.role])||void 0===x?void 0:x.includes("student")),isVisible:null!==O&&void 0!==O?O:{},authorizedKey:"stock",customStyleContainer:{height:ee,width:te}}),(0,L.jsx)(h.Z,{label:"issue",iconUrl:"".concat(_.zr,"/issue.svg"),url:"/q/".concat(V.username,"/member/staff/store?type=issue"),state:W.state,isAuthorized:null===(f=W.state)||void 0===f||!f.role||(null===(p=g.a[null===(y=W.state)||void 0===y?void 0:y.role])||void 0===p?void 0:p.includes("student")),isVisible:null!==O&&void 0!==O?O:{},authorizedKey:"issue_register",customStyleContainer:{height:ee,width:te}}),(0,L.jsx)(h.Z,{label:"return_book",iconUrl:"".concat(_.zr,"/return-book.svg"),url:"/q/".concat(V.username,"/member/staff/store?type=return"),state:W.state,isAuthorized:null===(Z=W.state)||void 0===Z||!Z.role||(null===(N=g.a[null===(S=W.state)||void 0===S?void 0:S.role])||void 0===N?void 0:N.includes("student")),isVisible:null!==O&&void 0!==O?O:{},authorizedKey:"return_register",customStyleContainer:{height:ee,width:te}}),(0,L.jsx)(h.Z,{label:"consumption",iconUrl:"".concat(_.J7,"/student.svg"),url:"/q/".concat(V.username,"/member/staff/store?type=consumption"),state:W.state,isAuthorized:null===(b=W.state)||void 0===b||!b.role||(null===(C=g.a[null===(k=W.state)||void 0===k?void 0:k.role])||void 0===C?void 0:C.includes("student")),isVisible:null!==O&&void 0!==O?O:{},authorizedKey:"consumption",customStyleContainer:{height:ee,width:te}}),(0,L.jsx)(h.Z,{label:"purchase_order",iconUrl:"".concat(_.zr,"/purchase.svg"),url:"/q/".concat(V.username,"/member/staff/store?type=purchase-order"),state:W.state,isAuthorized:null===(I=W.state)||void 0===I||!I.role||(null===(w=g.a[null===(q=W.state)||void 0===q?void 0:q.role])||void 0===w?void 0:w.includes("student")),isVisible:null!==O&&void 0!==O?O:{},authorizedKey:"purchase_order",customStyleContainer:{height:ee,width:te}}),(0,L.jsx)(h.Z,{label:"stocktake",iconUrl:"".concat(_.zr,"/stocktake.svg"),url:"/q/".concat(V.username,"/member/staff/store?type=stocktake"),state:W.state,isAuthorized:null===(F=W.state)||void 0===F||!F.role||(null===(T=g.a[null===(E=W.state)||void 0===E?void 0:E.role])||void 0===T?void 0:T.includes("student")),isVisible:null!==O&&void 0!==O?O:{},authorizedKey:"stock_take",customStyleContainer:{height:ee,width:te}}),(0,L.jsx)(h.Z,{label:"maintenance",iconUrl:"".concat(_.zr,"/maintenance.svg"),url:"/q/".concat(V.username,"/member/staff/store?type=maintenance"),state:W.state,isAuthorized:null===(U=W.state)||void 0===U||!U.role||(null===(A=g.a[null===(B=W.state)||void 0===B?void 0:B.role])||void 0===A?void 0:A.includes("student")),isVisible:null!==O&&void 0!==O?O:{},authorizedKey:"maintanence",customStyleContainer:{height:ee,width:te}}),(0,L.jsx)(h.Z,{label:"breackage",iconUrl:"".concat(_.zr,"/breakage.svg"),url:"/q/".concat(V.username,"/member/staff/store?type=breackage"),state:W.state,isAuthorized:null===(G=W.state)||void 0===G||!G.role||(null===(P=g.a[null===(D=W.state)||void 0===D?void 0:D.role])||void 0===P?void 0:P.includes("student")),isVisible:null!==O&&void 0!==O?O:{},authorizedKey:"brokrages",customStyleContainer:{height:ee,width:te}}),(0,L.jsx)(h.Z,{label:"qr_codes",iconUrl:"".concat(_.zr,"/qr.svg"),url:"/q/".concat(V.username,"/member/staff/store?type=qr"),state:W.state,isAuthorized:null===(M=W.state)||void 0===M||!M.role||(null===(z=g.a[null===(R=W.state)||void 0===R?void 0:R.role])||void 0===z?void 0:z.includes("student")),isVisible:null!==O&&void 0!==O?O:{},authorizedKey:"qr_codes",customStyleContainer:{height:ee,width:te}}),(0,L.jsx)(h.Z,{label:"data_export",iconUrl:"".concat(_.J7,"/export.svg"),url:"/q/".concat(V.username,"/member/staff/store?type=export"),state:W.state,isAuthorized:null===(Y=W.state)||void 0===Y||!Y.role||(null===(H=g.a[null===(K=W.state)||void 0===K?void 0:K.role])||void 0===H?void 0:H.includes("student")),isVisible:null!==O&&void 0!==O?O:{},authorizedKey:"data_export",customStyleContainer:{height:ee,width:te}})]})]})},Y=(0,a.memo)(R),$=[{label:"menu",id:"menu",urlKey:""},{label:"day_book",id:"day-book",urlKey:"?type=day-book"},{label:"masters",id:"masters",urlKey:"?type=masters"}];var H=l(63687);const K=e=>{var t,l,s,o,a,d,r,c,u,v;let{unit:m,subUrl:h,isStatic:g}=e;const{t:j}=(0,x.$G)(),f=(0,i.TH)(),p=(0,i.UO)();return(0,L.jsx)(L.Fragment,{children:g?(0,L.jsx)(n.rU,{to:"/q/".concat(p.username,"/member/staff/store?type=unit&n=").concat(h),state:f.state,children:(0,L.jsx)("div",{className:E.Z.smc_card,children:(0,L.jsx)("div",{className:E.Z.smc_card_contatiner,style:{justifyContent:"space-between",width:"100%"},children:(0,L.jsxs)("div",{className:E.Z.smc_card_contatiner,children:[(0,L.jsx)("img",{src:null!==m&&void 0!==m&&m.url?null===m||void 0===m?void 0:m.url:"".concat(_.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar",style:{height:"2.3rem",width:"2.3rem",borderRadius:"50%"}}),(0,L.jsx)("div",{className:E.Z.smc_card_contatiner_inner,children:(0,L.jsx)("h6",{children:j(null===m||void 0===m?void 0:m.name)})})]})})})}):(0,L.jsx)(n.rU,{to:"/q/".concat(p.username,"/member/staff/store?type=store-unit-custom"),state:{...f.state,unit:m},children:(0,L.jsx)("div",{className:E.Z.smc_card,children:(0,L.jsx)("div",{className:E.Z.smc_card_contatiner,style:{justifyContent:"space-between",width:"100%"},children:(0,L.jsxs)("div",{className:E.Z.smc_card_contatiner,children:[(0,L.jsx)("img",{src:null!==m&&void 0!==m&&null!==(t=m.good_head_person)&&void 0!==t&&t.staffProfilePhoto?"".concat(B.yI,"/").concat(null===m||void 0===m||null===(l=m.good_head_person)||void 0===l?void 0:l.staffProfilePhoto):"".concat(_.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar",style:{height:"2.3rem",width:"2.3rem",borderRadius:"50%"}}),(0,L.jsxs)("div",{className:E.Z.smc_card_contatiner_inner,children:[(0,L.jsxs)("h6",{children:[j("good_title_person")," ",": "," ",null!==(s=null===m||void 0===m?void 0:m.good_title_person)&&void 0!==s?s:"",", ",j("good_head_name")," ",": "," ",null!==(o=null===m||void 0===m?void 0:m.good_head_name)&&void 0!==o?o:""]}),(0,L.jsx)("p",{children:"".concat(null!==(a=null===m||void 0===m||null===(d=m.good_head_person)||void 0===d?void 0:d.staffFirstName)&&void 0!==a?a:""," ").concat(null!==(r=null===m||void 0===m||null===(c=m.good_head_person)||void 0===c?void 0:c.staffMiddleName)&&void 0!==r?r:""," ").concat(null!==(u=null===m||void 0===m||null===(v=m.good_head_person)||void 0===v?void 0:v.staffLastName)&&void 0!==u?u:"")})]})]})})})})})};var O=l(90702);const V=e=>{var t,l,s,i;let{onClose:n,onRefetch:o,stid:r,instituteId:c}=e;const{t:u}=(0,x.$G)(),[v,m]=(0,a.useState)(""),[h,g]=(0,a.useState)(!1),[j,f]=(0,a.useState)({good_head_name:"",good_title_person:"",good_head_person:""}),[p,y]=(0,a.useState)(""),[S,I]=(0,a.useState)(1),[T]=(0,F.D8)(),E=e=>{f((t=>({...t,[e.target.name]:e.target.value})))};return(0,L.jsx)(L.Fragment,{children:3===S?(0,L.jsx)(O.Z,{onSelectStaff:e=>{y(e),f((t=>({...t,good_head_person:null===e||void 0===e?void 0:e._id}))),I(1)},onClose:()=>I(1),instituteId:c}):(0,L.jsx)(b.Z,{onClose:n,children:(0,L.jsxs)("div",{className:q.Z.modal_container,children:[(0,L.jsx)(N.default,{children:(0,L.jsxs)("div",{className:q.Z.modal_container_outer_header,children:[(0,L.jsx)("div",{className:q.Z.modal_container_header,children:(0,L.jsx)("h6",{children:u("add_new_head_person")})}),(0,L.jsx)("img",{src:"".concat(_.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,L.jsx)(C.Z,{}),(0,L.jsxs)(N.default,{customStyle:{paddingTop:"0"},children:[(0,L.jsx)(k.Z,{label:u("good_head_name"),placeholder:u("good_head_name_placeholder"),name:"good_head_name",value:j.good_head_name,type:"text",onChange:E,errorShow:v.good_head_name}),(0,L.jsxs)("div",{className:q.Z.card_container_image,onClick:()=>I(3),style:{cursor:"pointer",marginTop:"0.8rem"},children:[(0,L.jsx)("img",{alt:"not found",src:null!==p&&void 0!==p&&p.staffProfilePhoto?"".concat(B.yI,"/").concat(p.staffProfilePhoto):"".concat(_.p3,"/feed-user-avatar.svg"),style:{width:"3rem",height:"3rem"}}),(0,L.jsx)("div",{className:q.Z.card_container_inner,children:null!==p&&void 0!==p&&p.staffFirstName?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("h6",{children:"".concat(null!==(t=null===p||void 0===p?void 0:p.staffFirstName)&&void 0!==t?t:""," \n                    ").concat(null!==(l=null===p||void 0===p?void 0:p.staffMiddleName)&&void 0!==l?l:"","\n                    ").concat(null!==(s=null===p||void 0===p?void 0:p.staffLastName)&&void 0!==s?s:"")}),(0,L.jsxs)("p",{children:[u("index_number_1")," ",null!==(i=null===p||void 0===p?void 0:p.staffROLLNO)&&void 0!==i?i:""]})]}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("h6",{children:u("assign_head")}),(0,L.jsx)("p",{children:u("search_from_joined_list")})]})})]}),(0,L.jsx)(k.Z,{label:u("good_title_person"),placeholder:u("good_title_person_placeholder"),name:"good_title_person",value:j.good_title_person,type:"text",onChange:E,errorShow:v.good_title_person}),(0,L.jsx)(Z.Z,{label:"create",onAction:()=>{let e=(0,w.l)(j,[]);(0,w.x)(e)&&r?(g((e=>!e)),T({stid:r,bodyParameter:j}).then((()=>{o(),g((e=>!e)),n()})).catch({})):m(e)}})]}),h&&(0,L.jsx)(d.default,{})]})})})};var W=l(6758);const X=e=>{var t,l,s,o,a,d,r,c,u;let{depart:v}=e;const m=(0,i.TH)(),h=(0,i.UO)();return(0,L.jsx)(L.Fragment,{children:(0,L.jsx)(n.rU,{to:"/q/".concat(h.username,"/member/staff/store?type=unit&n=detail"),state:{...m.state,did:null===v||void 0===v?void 0:v._id,name:null===v||void 0===v?void 0:v.dName},children:(0,L.jsx)("div",{className:E.Z.smc_card,children:(0,L.jsx)("div",{className:E.Z.smc_card_contatiner,style:{justifyContent:"space-between",width:"100%"},children:(0,L.jsxs)("div",{className:E.Z.smc_card_contatiner,children:[(0,L.jsx)("img",{src:null!==v&&void 0!==v&&null!==(t=v.dHead)&&void 0!==t&&t.staffProfilePhoto?"".concat(B.yI,"/").concat(null===v||void 0===v||null===(l=v.dHead)||void 0===l?void 0:l.staffProfilePhoto):"".concat(_.J7,"/department.svg"),loading:"lazy",alt:"avatar",style:{height:"2.3rem",width:"2.3rem",borderRadius:"50%"}}),(0,L.jsxs)("div",{className:E.Z.smc_card_contatiner_inner,children:[(0,L.jsx)("h6",{children:null!==(s=null===v||void 0===v?void 0:v.dName)&&void 0!==s?s:""}),(0,L.jsx)("p",{children:"".concat(null!==(o=null===v||void 0===v||null===(a=v.dHead)||void 0===a?void 0:a.staffFirstName)&&void 0!==o?o:""," ").concat(null!==(d=null===v||void 0===v||null===(r=v.dHead)||void 0===r?void 0:r.staffMiddleName)&&void 0!==d?d:""," ").concat(null!==(c=null===v||void 0===v||null===(u=v.dHead)||void 0===u?void 0:u.staffLastName)&&void 0!==c?c:"")})]})]})})})})})},Q=e=>{let{fid:t}=e;const{instituteAllDepartment:l}=(0,W.Jv)({fid:t,skip:!t});return(0,L.jsx)(L.Fragment,{children:null===l||void 0===l?void 0:l.map((e=>(0,L.jsx)(X,{depart:e},null===e||void 0===e?void 0:e._id)))})},ee=e=>{var t,l,s;let{stid:i,instituteId:n,fid:o}=e;const{t:r}=(0,x.$G)(),[u,v]=(0,a.useState)(""),[m,h]=(0,a.useState)(1),[g,b]=(0,a.useState)(!0),[k,I]=(0,j.YD)({skip:u}),[w,q]=(0,a.useState)(!1),{storeUnitHeadPersonList:T,storeUnitHeadPersonListLoading:E,storeUnitHeadPersonListRefetch:U}=(0,F.mk)({data:{stid:i,page:m,limit:10,search:u},skip:!i});(0,a.useEffect)((()=>{I&&g&&h((e=>e+1))}),[I,g]),(0,a.useEffect)((()=>{var e;if(null!==T&&void 0!==T&&null!==(e=T.list)&&void 0!==e&&e.length){var t;let e=(0,f.f)(null===T||void 0===T||null===(t=T.list)||void 0===t?void 0:t.length);b((()=>e))}}),[null===T||void 0===T?void 0:T.list]);const A=(0,a.useCallback)((0,p.J)((e=>{h((()=>1)),v(e)}),1500),[]),B=()=>{q((e=>!e))};return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(H.default,{children:[(0,L.jsx)(N.default,{children:(0,L.jsxs)("div",{className:y.Z.fm_header_container,children:[(0,L.jsx)("h6",{children:r("unit")}),(0,L.jsxs)("div",{className:y.Z.fm_search,children:[(0,L.jsx)("section",{className:y.Z.fm_search_container,children:(0,L.jsxs)("div",{className:y.Z.fm_search_container_inner,children:[(0,L.jsx)("img",{className:y.Z.fm_search_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,L.jsx)("input",{type:"text",placeholder:r("search"),onChange:e=>{e.target.value?A(e.target.value):(h((()=>1)),v(""))}})]})}),(0,L.jsx)(Z.Z,{label:"add",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:B})]})]})}),(0,L.jsx)(C.Z,{}),(0,L.jsxs)(N.default,{children:[(0,L.jsx)(Q,{fid:o}),null===T||void 0===T||null===(t=T.list)||void 0===t?void 0:t.map(((e,t)=>{var l;return(null===T||void 0===T||null===(l=T.list)||void 0===l?void 0:l.length)===t+1?(0,L.jsx)("div",{ref:k,children:(0,L.jsx)(K,{unit:e,subUrl:"custom"})},null===e||void 0===e?void 0:e._id):(0,L.jsx)(K,{unit:e,subUrl:"custom"},null===e||void 0===e?void 0:e._id)})),E?u?(0,L.jsx)(d.default,{}):(0,L.jsx)(c.Z,{}):u?0===(null===T||void 0===T||null===(l=T.list)||void 0===l?void 0:l.length)&&(0,L.jsx)(S.Z,{title:"No unit found related this search."}):0===(null===T||void 0===T||null===(s=T.list)||void 0===s?void 0:s.length)&&(0,L.jsx)(S.Z,{title:"No unit."})]})]}),w&&(0,L.jsx)(V,{stid:i,onClose:B,onRefetch:()=>{h((()=>1)),v(""),U()},instituteId:n})]})},te=e=>{var t,l,s,o,a,d,r,c,u,v;let{cls:m}=e;const h=(0,i.TH)(),g=(0,i.UO)();return(0,L.jsx)(L.Fragment,{children:(0,L.jsx)(n.rU,{to:"/q/".concat(g.username,"/member/staff/store?type=store-cls"),state:{...h,clsId:null===m||void 0===m?void 0:m._id,clsName:"".concat(null===m||void 0===m?void 0:m.className," - ").concat(null===m||void 0===m?void 0:m.classTitle)},children:(0,L.jsx)("div",{className:E.Z.smc_card,children:(0,L.jsx)("div",{className:E.Z.smc_card_contatiner,style:{justifyContent:"space-between",width:"100%"},children:(0,L.jsxs)("div",{className:E.Z.smc_card_contatiner,children:[(0,L.jsx)("img",{src:null!==m&&void 0!==m&&null!==(t=m.classTeacher)&&void 0!==t&&t.staffProfilePhoto?"".concat(B.yI,"/").concat(null===m||void 0===m||null===(l=m.classTeacher)||void 0===l?void 0:l.staffProfilePhoto):"".concat(_.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar",style:{height:"2.3rem",width:"2.3rem",borderRadius:"50%"}}),(0,L.jsxs)("div",{className:E.Z.smc_card_contatiner_inner,children:[(0,L.jsxs)("h6",{children:[null!==(s=null===m||void 0===m?void 0:m.className)&&void 0!==s?s:""," - ",null!==(o=null===m||void 0===m?void 0:m.classTitle)&&void 0!==o?o:""]}),(0,L.jsx)("p",{children:"".concat(null!==(a=null===m||void 0===m||null===(d=m.classTeacher)||void 0===d?void 0:d.staffFirstName)&&void 0!==a?a:""," ").concat(null!==(r=null===m||void 0===m||null===(c=m.classTeacher)||void 0===c?void 0:c.staffMiddleName)&&void 0!==r?r:""," ").concat(null!==(u=null===m||void 0===m||null===(v=m.classTeacher)||void 0===v?void 0:v.staffLastName)&&void 0!==u?u:"")})]})]})})})})})},le=()=>{var e,t,l,s,n,o,r;const{t:u}=(0,x.$G)(),v=(0,i.TH)(),m=(0,i.UO)(),h=(0,i.s0)(),[g,b]=(0,a.useState)(""),[k,I]=(0,a.useState)(1),[w,q]=(0,a.useState)(!0),[T,E]=(0,j.YD)({skip:g}),{storeDepartmentClassList:U,storeDepartmentClassListLoading:A}=(0,F.zr)({data:{did:null===(e=v.state)||void 0===e?void 0:e.did,page:k,limit:10,search:g},skip:!(null!==(t=v.state)&&void 0!==t&&t.did)});(0,a.useEffect)((()=>{E&&w&&I((e=>e+1))}),[E,w]),(0,a.useEffect)((()=>{var e;if(null!==U&&void 0!==U&&null!==(e=U.list)&&void 0!==e&&e.length){var t;let e=(0,f.f)(null===U||void 0===U||null===(t=U.list)||void 0===t?void 0:t.length);q((()=>e))}}),[null===U||void 0===U?void 0:U.list]);const B=(0,a.useCallback)((0,p.J)((e=>{I((()=>1)),b(e)}),1500),[]);return(0,L.jsxs)(H.default,{children:[(0,L.jsx)(N.default,{children:(0,L.jsxs)("div",{className:y.Z.fm_header_container,children:[(0,L.jsx)("h6",{children:null!==(l=null===(s=v.state)||void 0===s?void 0:s.name)&&void 0!==l?l:"Department Name"}),(0,L.jsxs)("div",{className:y.Z.fm_search,children:[(0,L.jsx)("section",{className:y.Z.fm_search_container,children:(0,L.jsxs)("div",{className:y.Z.fm_search_container_inner,children:[(0,L.jsx)("img",{className:y.Z.fm_search_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,L.jsx)("input",{type:"text",placeholder:u("search"),onChange:e=>{e.target.value?B(e.target.value):(I((()=>1)),b(""))},style:{minWidth:"250px"}})]})}),(0,L.jsx)(Z.Z,{label:"department_office_staff",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:()=>{let e="/q/".concat(m.username,"/member/staff/store?type=store-department");h(e,{state:v.state})}})]})]})}),(0,L.jsx)(C.Z,{}),(0,L.jsxs)(N.default,{children:[null===U||void 0===U||null===(n=U.list)||void 0===n?void 0:n.map(((e,t)=>{var l;return(null===U||void 0===U||null===(l=U.list)||void 0===l?void 0:l.length)===t+1?(0,L.jsx)("div",{ref:T,children:(0,L.jsx)(te,{cls:e})},null===e||void 0===e?void 0:e._id):(0,L.jsx)(te,{cls:e},null===e||void 0===e?void 0:e._id)})),A?g?(0,L.jsx)(d.default,{}):(0,L.jsx)(c.Z,{}):g?0===(null===U||void 0===U||null===(o=U.list)||void 0===o?void 0:o.length)&&(0,L.jsx)(S.Z,{title:"No classes found related this search."}):0===(null===U||void 0===U||null===(r=U.list)||void 0===r?void 0:r.length)&&(0,L.jsx)(S.Z,{title:"No classes."})]})]})},se=e=>{var t;let{instituteId:l,fid:s}=e;const[o]=(0,n.lr)(),a=(0,i.TH)();return(0,L.jsx)(L.Fragment,{children:"detail"===o.get("n")?(0,L.jsx)(le,{}):"department"===o.get("n")?(0,L.jsx)(Q,{}):(0,L.jsx)(ee,{stid:null===(t=a.state)||void 0===t?void 0:t.stid,instituteId:l,fid:s})})},ie=e=>{var t,l,s,o,a,d,r;let{staff:c}=e;const{t:u}=(0,x.$G)(),v=(0,i.TH)(),m=(0,i.UO)();return(0,L.jsx)(L.Fragment,{children:(0,L.jsx)(n.rU,{to:"/q/".concat(m.username,"/member/staff/store?type=store-individual"),state:{...v.state,staffId:null===c||void 0===c?void 0:c._id,name:"".concat(null!==(t=null===c||void 0===c?void 0:c.staffFirstName)&&void 0!==t?t:""," ").concat(null!==(l=null===c||void 0===c?void 0:c.staffMiddleName)&&void 0!==l?l:""," ").concat(null!==(s=null===c||void 0===c?void 0:c.staffLastName)&&void 0!==s?s:"")},children:(0,L.jsx)("div",{className:E.Z.smc_card,children:(0,L.jsx)("div",{className:E.Z.smc_card_contatiner,style:{justifyContent:"space-between",width:"100%"},children:(0,L.jsxs)("div",{className:E.Z.smc_card_contatiner,children:[(0,L.jsx)("img",{src:null!==c&&void 0!==c&&c.staffProfilePhoto?"".concat(B.yI,"/").concat(null===c||void 0===c?void 0:c.staffProfilePhoto):"".concat(_.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar",style:{height:"2.3rem",width:"2.3rem",borderRadius:"50%"}}),(0,L.jsxs)("div",{className:E.Z.smc_card_contatiner_inner,children:[(0,L.jsx)("h6",{children:"".concat(null!==(o=null===c||void 0===c?void 0:c.staffFirstName)&&void 0!==o?o:""," ").concat(null!==(a=null===c||void 0===c?void 0:c.staffMiddleName)&&void 0!==a?a:""," ").concat(null!==(d=null===c||void 0===c?void 0:c.staffLastName)&&void 0!==d?d:"")}),(0,L.jsxs)("p",{children:[u("index_number_1")," ",null!==(r=null===c||void 0===c?void 0:c.staffROLLNO)&&void 0!==r?r:""]})]})]})})})})})},ne=e=>{var t,l,s;let{instituteId:i}=e;const{t:n}=(0,x.$G)(),[o,r]=(0,a.useState)(""),[u,v]=(0,a.useState)(1),[m,h]=(0,a.useState)(!0),[g,Z]=(0,j.YD)({skip:o}),{instituteAllStaff:b,instituteAllStaffLoading:k}=(0,W.nb)({data:{id:i,page:u,limit:10,search:o},skip:!i});(0,a.useEffect)((()=>{Z&&m&&v((e=>e+1))}),[Z,m]),(0,a.useEffect)((()=>{var e;if(null!==b&&void 0!==b&&null!==(e=b.list)&&void 0!==e&&e.length){var t;let e=(0,f.f)(null===b||void 0===b||null===(t=b.list)||void 0===t?void 0:t.length);h((()=>e))}}),[null===b||void 0===b?void 0:b.list]);const I=(0,a.useCallback)((0,p.J)((e=>{v((()=>1)),r(e)}),1500),[]);return(0,L.jsxs)(H.default,{children:[(0,L.jsx)(N.default,{children:(0,L.jsxs)("div",{className:y.Z.fm_header_container,children:[(0,L.jsx)("h6",{children:n("individual_staff")}),(0,L.jsx)("div",{className:y.Z.fm_search,children:(0,L.jsx)("section",{className:y.Z.fm_search_container,children:(0,L.jsxs)("div",{className:y.Z.fm_search_container_inner,children:[(0,L.jsx)("img",{className:y.Z.fm_search_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,L.jsx)("input",{type:"text",placeholder:n("search"),onChange:e=>{e.target.value?I(e.target.value):(v((()=>1)),r(""))}})]})})})]})}),(0,L.jsx)(C.Z,{}),(0,L.jsxs)(N.default,{children:[null===b||void 0===b||null===(t=b.list)||void 0===t?void 0:t.map(((e,t)=>{var l;return(null===b||void 0===b||null===(l=b.list)||void 0===l?void 0:l.length)===t+1?(0,L.jsx)("div",{ref:g,children:(0,L.jsx)(ie,{staff:e})},null===e||void 0===e?void 0:e._id):(0,L.jsx)(ie,{staff:e},null===e||void 0===e?void 0:e._id)})),k?o?(0,L.jsx)(d.default,{}):(0,L.jsx)(c.Z,{}):o?0===(null===b||void 0===b||null===(l=b.list)||void 0===l?void 0:l.length)&&(0,L.jsx)(S.Z,{title:"No staffs found related this search."}):0===(null===b||void 0===b||null===(s=b.list)||void 0===s?void 0:s.length)&&(0,L.jsx)(S.Z,{title:"No staffs."})]})]})};var oe=l(98967),ae=l(63162);const de=e=>{let{parentState:t,inititalUrl:l}=e;const s=(0,i.UO)(),[o]=(0,n.lr)();return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(oe.Z,{children:re.map((e=>{var i;return(0,L.jsx)(ae.Z,{tab:e,isLink:!0,isActive:null===(i=e.groupIs)||void 0===i?void 0:i.includes(o.get("n")),parentState:t,url:"/q/".concat(s.username,"/member/staff/store?type=").concat(l).concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,L.jsx)(C.Z,{customStyleBorder:{marginBlock:"0"}})]})},re=[{label:"register",id:"register",urlKey:"",groupIs:["",null]},{label:"request",id:"request",urlKey:"&n=request",groupIs:["request"]},{label:"issue",id:"issue",urlKey:"&n=issue",groupIs:["issue"]},{label:"stocktake",id:"stocktake",urlKey:"&n=stocktake",groupIs:["stocktake"]},{label:"consumption",id:"consumption",urlKey:"&n=consumption",groupIs:["consumption"]},{label:"return",id:"return",urlKey:"&n=return",groupIs:["return"]},{label:"maintenance",id:"maintenance",urlKey:"&n=maintenance",groupIs:["maintenance"]}];var ce=l(20292),ue=l(75045),ve=l(8905),me=l(19321),he=l(64046),_e=l(69718),ge=l(8754);const xe=()=>{var e,t,l,s,o,a,d,r,c;const{t:u}=(0,x.$G)(),v=(0,i.TH)(),m=(0,i.s0)(),h=(0,i.UO)(),[g]=(0,n.lr)();return(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(H.default,{children:[(0,L.jsx)(N.default,{children:(0,L.jsx)("div",{className:y.Z.fm_header_container,children:(0,L.jsxs)("div",{className:y.Z.fm_header_start_container,children:[(0,L.jsx)("img",{alt:"search icon",src:"".concat(_.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:()=>{m("/q/".concat(h.username,"/member/staff/store"),{state:{...v.state,did:"",name:""}})}}),(0,L.jsxs)("h6",{children:[null!==(e=null===(t=v.state)||void 0===t?void 0:t.name)&&void 0!==e?e:""," (",u("store"),")"]})]})})}),(0,L.jsx)(de,{inititalUrl:g.get("type"),parentState:v.state}),(0,L.jsx)(N.default,{children:"request"===g.get("n")?(0,L.jsx)(ve.Z,{flow:"Department",mid:null===(l=v.state)||void 0===l?void 0:l.did}):"issue"===g.get("n")?(0,L.jsx)(me.Z,{flow:"Department",mid:null===(s=v.state)||void 0===s?void 0:s.did}):"stocktake"===g.get("n")?(0,L.jsx)(he.Z,{flow:"Department",mid:null===(o=v.state)||void 0===o?void 0:o.did}):"consumption"===g.get("n")?(0,L.jsx)(_e.Z,{flow:"Department",mid:null===(a=v.state)||void 0===a?void 0:a.did}):"return"===g.get("n")?(0,L.jsx)(ge.Z,{flow:"Department",mid:null===(d=v.state)||void 0===d?void 0:d.did}):"maintenance"===g.get("n")?(0,L.jsx)(ue.Z,{flow:"Department",mid:null===(r=v.state)||void 0===r?void 0:r.did}):(0,L.jsx)(ce.Z,{flow:"Department",mid:null===(c=v.state)||void 0===c?void 0:c.did})})]})})};var je=l(69268),fe=l(49806);const pe=e=>{var t,l,s;let{goods:i,onSelect:n,selectedGoods:o,isRead:a}=e;const{t:d}=(0,x.$G)();return(0,L.jsx)(L.Fragment,{children:(0,L.jsx)("div",{className:null!==o&&void 0!==o&&o.includes(null===i||void 0===i?void 0:i._id)?"".concat(E.Z.smc_card," ").concat(E.Z.smc_card_active):E.Z.smc_card,onClick:()=>{a||n(i)},children:(0,L.jsxs)("div",{className:E.Z.smc_card_contatiner,children:[(0,L.jsx)("img",{src:null!==i&&void 0!==i&&i.good_icon?"".concat(B.yI,"/").concat(null===i||void 0===i?void 0:i.good_icon):"".concat(_.J7,"/category.svg"),alt:"categor good_icon"}),(0,L.jsxs)("div",{className:E.Z.smc_card_contatiner_inner,children:[(0,L.jsxs)("h6",{children:[d("name"),": ",null!==(t=null===i||void 0===i?void 0:i.goods_name)&&void 0!==t?t:""]}),(0,L.jsxs)("p",{children:[d("remaining_quantity")," ",": "," ",null!==(l=null===i||void 0===i?void 0:i.goods_volume)&&void 0!==l?l:""]}),(0,L.jsxs)("p",{children:[d("price_per_unit")," ",": "," ",null!==(s=null===i||void 0===i?void 0:i.goods_price)&&void 0!==s?s:""]})]})]})})})},ye=e=>{var t,l,s,i;let{onClose:n,stid:o,onGoodsSelect:r,selectedGoods:u}=e;const{t:v}=(0,x.$G)(),[m,h]=(0,a.useState)(""),[g,y]=(0,a.useState)(1),[Z,k]=(0,a.useState)(!0),[I,w]=(0,j.YD)({skip:m}),{storeAllGoodsList:q,storeAllGoodsListLoading:T}=(0,F.ok)({data:{stid:o,page:g,limit:10,search:m},skip:!o});(0,a.useEffect)((()=>{w&&Z&&y((e=>e+1))}),[w,Z]),(0,a.useEffect)((()=>{var e;if(null!==q&&void 0!==q&&null!==(e=q.list)&&void 0!==e&&e.length){var t;let e=(0,f.f)(null===q||void 0===q||null===(t=q.list)||void 0===t?void 0:t.length);k((()=>e))}}),[null===q||void 0===q||null===(t=q.list)||void 0===t?void 0:t.length]);const E=(0,a.useCallback)((0,p.J)((e=>{y((()=>1)),h(e)}),1500),[]),U=e=>{r(e)};return(0,L.jsx)(b.Z,{onClose:n,children:(0,L.jsxs)("div",{className:fe.Z.modal_container,children:[(0,L.jsx)(N.default,{children:(0,L.jsxs)("div",{className:fe.Z.modal_container_outer_header,children:[(0,L.jsx)("div",{className:fe.Z.modal_container_header,children:(0,L.jsx)("h6",{children:v("select_goods")})}),(0,L.jsx)("img",{src:"".concat(_.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,L.jsx)(C.Z,{customStyleBorder:{marginBottom:"0"}}),(0,L.jsxs)(N.default,{customStyle:{paddingBottom:"1rem"},children:[(0,L.jsxs)("div",{className:fe.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,L.jsx)("input",{type:"text",placeholder:v("search"),className:fe.Z.assign_search_input,onChange:e=>{e.target.value?E(e.target.value):(y((()=>1)),h(""))},style:{width:"100%"}}),(0,L.jsx)("img",{src:"".concat(_.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===q||void 0===q||null===(l=q.list)||void 0===l?void 0:l.map(((e,t)=>{var l;return(null===q||void 0===q||null===(l=q.list)||void 0===l?void 0:l.length)===t+1?(0,L.jsx)("div",{ref:I,children:(0,L.jsx)(pe,{goods:e,selectedGoods:u,onSelect:U})},null===e||void 0===e?void 0:e._id):(0,L.jsx)(pe,{goods:e,selectedGoods:u,onSelect:U},null===e||void 0===e?void 0:e._id)})),T?m?(0,L.jsx)(d.default,{}):(0,L.jsx)(c.Z,{}):m?0===(null===q||void 0===q||null===(s=q.list)||void 0===s?void 0:s.length)&&(0,L.jsx)(S.Z,{title:"No goods found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===q||void 0===q||null===(i=q.list)||void 0===i?void 0:i.length)&&(0,L.jsx)(S.Z,{title:"No goods.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})},Ze=e=>{let{onClose:t,state:l,setState:s,setStep:i}=e;const{t:n}=(0,x.$G)(),[o,d]=(0,a.useState)(""),r=e=>{s((t=>({...t,[e.target.name]:e.target.value})))};return(0,L.jsx)(b.Z,{onClose:t,children:(0,L.jsxs)("div",{className:q.Z.modal_container,children:[(0,L.jsx)(N.default,{children:(0,L.jsxs)("div",{className:q.Z.modal_container_outer_header,children:[(0,L.jsx)("div",{className:q.Z.modal_container_header,children:(0,L.jsx)("h6",{children:n("add_stock")})}),(0,L.jsx)("img",{src:"".concat(_.J7,"/close.svg"),alt:"close icon",onClick:t})]})}),(0,L.jsx)(C.Z,{customStyleBorder:{marginBottom:"0"}}),(0,L.jsxs)(N.default,{customStyle:{paddingBottom:"1rem"},children:[(0,L.jsx)(pe,{goods:null===l||void 0===l?void 0:l.goods,isRead:!0}),(0,L.jsx)(k.Z,{label:n("goods_quantity"),placeholder:n("goods_quantity_placeholder"),name:"goods_volume",value:null===l||void 0===l?void 0:l.goods_volume,type:"text",onChange:r,errorShow:o.goods_volume}),(0,L.jsx)(k.Z,{label:n("price_per_unit"),placeholder:n("price_per_unit_placeholder"),name:"goods_price",value:null===l||void 0===l?void 0:l.goods_price,type:"text",onChange:r,errorShow:o.goods_price}),(0,L.jsx)(Z.Z,{label:"preview",onAction:()=>{let e=(0,w.l)(l,[]);(0,w.x)(e)?i(3):d(e)}})]})]})})};var Ne=l(8959);const Se=e=>{let{onClose:t,state:l,stid:s,onParentClose:i}=e;const{t:n}=(0,x.$G)(),[o,r]=(0,a.useState)(!1),[c]=(0,F.GA)();return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(b.Z,{onClose:t,children:(0,L.jsxs)("div",{className:q.Z.modal_container,children:[(0,L.jsx)(N.default,{children:(0,L.jsxs)("div",{className:q.Z.modal_container_outer_header,children:[(0,L.jsx)("div",{className:q.Z.modal_container_header,children:(0,L.jsx)("h6",{children:n("add_stock_preview")})}),(0,L.jsx)("img",{src:"".concat(_.J7,"/close.svg"),alt:"close icon",onClick:t})]})}),(0,L.jsx)(C.Z,{customStyleBorder:{marginBottom:"0"}}),(0,L.jsxs)(N.default,{customStyle:{paddingBottom:"1rem"},children:[(0,L.jsx)(pe,{goods:null===l||void 0===l?void 0:l.goods,isRead:!0}),(0,L.jsx)(Ne.Z,{label:n("goods_quantity"),value:null===l||void 0===l?void 0:l.goods_volume}),(0,L.jsx)(Ne.Z,{label:n("price_per_unit"),value:null===l||void 0===l?void 0:l.goods_price}),(0,L.jsx)(Z.Z,{label:"confirm_and_save",onAction:()=>{var e,t;s&&null!==l&&void 0!==l&&null!==(e=l.goods)&&void 0!==e&&e._id&&(r((e=>!e)),c({gid:null===l||void 0===l||null===(t=l.goods)||void 0===t?void 0:t._id,bodyParameter:{sid:s,goods_volume:+(null===l||void 0===l?void 0:l.goods_volume),goods_price:+(null===l||void 0===l?void 0:l.goods_price)}}).then((()=>{r((e=>!e)),i()})).catch({}))}})]})]})}),o&&(0,L.jsx)(d.default,{})]})},be=e=>{var t,l;let{onClose:s,stid:i}=e;const[n,o]=(0,a.useState)(1),[d,r]=(0,a.useState)({goods:"",goods_volume:"",goods_price:""});return(0,L.jsx)(L.Fragment,{children:1===n?(0,L.jsx)(ye,{onClose:s,stid:i,onGoodsSelect:e=>{r((t=>({...t,goods:e}))),o(2)},selectedGoods:null!==(t=d.goods)&&void 0!==t&&t._id?[null===(l=d.goods)||void 0===l?void 0:l._id]:[]}):2===n?(0,L.jsx)(Ze,{setState:r,state:d,onClose:()=>o(1),setStep:o}):3===n?(0,L.jsx)(Se,{onClose:()=>o(2),onParentClose:s,stid:i,state:d}):null})},Ce=e=>{var t,l;let{stid:s}=e;const n=(0,i.TH)(),o=(0,i.UO)(),d=(0,i.s0)(),{t:r}=(0,x.$G)(),[u,v]=(0,a.useState)(""),[h,g]=(0,a.useState)(1),[S,b]=(0,a.useState)(!0),[k,I]=(0,j.YD)({skip:u}),[w,q]=(0,a.useState)(!1),{storeMasterCategoryList:T,storeMasterCategoryListLoading:E}=(0,F.ZC)({data:{stid:s,page:h,limit:10,search:u},skip:!s});(0,a.useEffect)((()=>{I&&S&&g((e=>e+1))}),[I,S]),(0,a.useEffect)((()=>{var e;if(null!==T&&void 0!==T&&null!==(e=T.list)&&void 0!==e&&e.length){var t;let e=(0,f.f)(null===T||void 0===T||null===(t=T.list)||void 0===t?void 0:t.length);b((()=>e))}}),[null===T||void 0===T?void 0:T.list]);const U=(0,a.useCallback)((0,p.J)((e=>{g((()=>1)),v(e)}),1500),[]),A=()=>{q((e=>!e))};let B=null===(t=document.getElementById("589nbsgh"))||void 0===t?void 0:t.clientWidth,G="9rem",P="9rem";if(B){let e=B>870?B>1100?6:5:B>700?4:3,t=B>870?1:2;P="".concat(Math.floor((B-t-31*e-1)/e),"px"),G=P}return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(H.default,{children:[(0,L.jsx)(N.default,{children:(0,L.jsxs)("div",{className:y.Z.fm_header_container,children:[(0,L.jsx)("h6",{children:r("stock")}),(0,L.jsxs)("div",{className:y.Z.fm_search,children:[(0,L.jsx)("section",{className:y.Z.fm_search_container,children:(0,L.jsxs)("div",{className:y.Z.fm_search_container_inner,children:[(0,L.jsx)("img",{className:y.Z.fm_search_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,L.jsx)("input",{type:"text",placeholder:r("search"),onChange:e=>{e.target.value?U(e.target.value):(g((()=>1)),v(""))}})]})}),(0,L.jsx)("img",{src:"".concat(_.J7,"/history.svg"),alt:"logs icon",onClick:()=>{d("/q/".concat(o.username,"/member/staff/store?type=stock&n=logs"),{state:n.state})}}),(0,L.jsx)(Z.Z,{label:"add_stock",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:A})]})]})}),(0,L.jsx)(C.Z,{}),(0,L.jsx)(m.Z,{customStyle:{paddingTop:"0"},children:null===T||void 0===T||null===(l=T.list)||void 0===l?void 0:l.map(((e,t)=>{var l;return(null===T||void 0===T||null===(l=T.list)||void 0===l?void 0:l.length)===t+1?(0,L.jsx)("div",{ref:k,children:(0,L.jsx)(je.Z,{label:null===e||void 0===e?void 0:e.category_name,iconUrl:"".concat(_.J7,"/student.svg"),url:"/q/".concat(o.username,"/member/staff/store?type=stock&n=category"),state:{...n.state,category:e},customStyleContainer:{width:P,height:G}})},null===e||void 0===e?void 0:e._id):(0,L.jsx)(je.Z,{label:null===e||void 0===e?void 0:e.category_name,iconUrl:"".concat(_.J7,"/student.svg"),url:"/q/".concat(o.username,"/member/staff/store?type=stock&n=category"),state:{...n.state,category:e},customStyleContainer:{width:P,height:G}})}))}),E&&(0,L.jsx)(c.Z,{})]}),w&&(0,L.jsx)(be,{onClose:A,stid:s})]})},ke=e=>{var t,l,s;let{subCategory:o}=e;const{t:a}=(0,x.$G)(),d=(0,i.UO)(),r=(0,i.TH)();return(0,L.jsx)(L.Fragment,{children:(0,L.jsx)(n.rU,{className:E.Z.smc_card,to:"/q/".concat(d.username,"/member/staff/store?type=store-stock"),state:{...r.state,goods:o},children:(0,L.jsxs)("div",{className:E.Z.smc_card_contatiner,children:[(0,L.jsx)("img",{src:null!==o&&void 0!==o&&o.good_icon?"".concat(B.yI,"/").concat(null===o||void 0===o?void 0:o.good_icon):"".concat(_.J7,"/category.svg"),alt:"categor good_icon"}),(0,L.jsxs)("div",{className:E.Z.smc_card_contatiner_inner,children:[(0,L.jsxs)("h6",{children:[a("name"),": ",null!==(t=null===o||void 0===o?void 0:o.goods_name)&&void 0!==t?t:""]}),(0,L.jsxs)("p",{children:[a("measures")," ",": "," ",null!==(l=null===o||void 0===o?void 0:o.goods_quantity)&&void 0!==l?l:""]}),(0,L.jsxs)("p",{children:[a("remaining_quantity")," ",": "," ",null!==(s=null===o||void 0===o?void 0:o.goods_volume)&&void 0!==s?s:""]})]})]})})})},Ie=()=>{var e,t,l,s,n,o,r,u,v,m;const h=(0,i.TH)(),{t:g}=(0,x.$G)(),[Z,b]=(0,a.useState)(""),[k,I]=(0,a.useState)(1),[w,q]=(0,a.useState)(!0),[T,E]=(0,j.YD)({skip:Z}),{storeMasterSubCategoryList:U,storeMasterSubCategoryListLoading:A}=(0,F.Cc)({data:{cid:null===(e=h.state)||void 0===e||null===(t=e.category)||void 0===t?void 0:t._id,page:k,limit:10,search:Z},skip:!(null!==(l=h.state)&&void 0!==l&&null!==(s=l.category)&&void 0!==s&&s._id)});(0,a.useEffect)((()=>{E&&w&&I((e=>e+1))}),[E,w]),(0,a.useEffect)((()=>{var e;if(null!==U&&void 0!==U&&null!==(e=U.list)&&void 0!==e&&e.length){var t;let e=(0,f.f)(null===U||void 0===U||null===(t=U.list)||void 0===t?void 0:t.length);q((()=>e))}}),[null===U||void 0===U?void 0:U.list]);const B=(0,a.useCallback)((0,p.J)((e=>{I((()=>1)),b(e)}),1500),[]);return(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(H.default,{children:[(0,L.jsx)(N.default,{children:(0,L.jsxs)("div",{className:y.Z.fm_header_container,children:[(0,L.jsxs)("h6",{children:[null!==(n=null===(o=h.state)||void 0===o||null===(r=o.category)||void 0===r?void 0:r.category_name)&&void 0!==n?n:""," ",g("stock")]}),(0,L.jsx)("div",{className:y.Z.fm_search,children:(0,L.jsx)("section",{className:y.Z.fm_search_container,children:(0,L.jsxs)("div",{className:y.Z.fm_search_container_inner,children:[(0,L.jsx)("img",{className:y.Z.fm_search_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,L.jsx)("input",{type:"text",placeholder:g("search"),onChange:e=>{e.target.value?B(e.target.value):(I((()=>1)),b(""))}})]})})})]})}),(0,L.jsx)(C.Z,{}),(0,L.jsxs)(N.default,{children:[null===U||void 0===U||null===(u=U.list)||void 0===u?void 0:u.map(((e,t)=>{var l;return(null===U||void 0===U||null===(l=U.list)||void 0===l?void 0:l.length)===t+1?(0,L.jsx)("div",{ref:T,children:(0,L.jsx)(ke,{subCategory:e})},null===e||void 0===e?void 0:e._id):(0,L.jsx)(ke,{subCategory:e},null===e||void 0===e?void 0:e._id)})),A?Z?(0,L.jsx)(d.default,{}):(0,L.jsx)(c.Z,{}):Z?0===(null===U||void 0===U||null===(v=U.list)||void 0===v?void 0:v.length)&&(0,L.jsx)(S.Z,{title:"No sub-category found related this search."}):0===(null===U||void 0===U||null===(m=U.list)||void 0===m?void 0:m.length)&&(0,L.jsx)(S.Z,{title:"No sub-category."})]})]})})},we=e=>{let{stid:t}=e;const[l]=(0,n.lr)();return(0,L.jsx)(L.Fragment,{children:"category"===l.get("n")?(0,L.jsx)(Ie,{}):(0,L.jsx)(Ce,{stid:t})})},qe=()=>{var e,t,l,s,o,a,d,r,c,u,v,m,h,g,j,f,p,Z,S,b;const{t:C}=(0,x.$G)(),k=(0,i.TH)(),I=(0,i.s0)(),w=(0,i.UO)(),[q]=(0,n.lr)();return(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(H.default,{children:[(0,L.jsx)(N.default,{children:(0,L.jsx)("div",{className:y.Z.fm_header_container,children:(0,L.jsxs)("div",{className:y.Z.fm_header_start_container,children:[(0,L.jsx)("img",{alt:"search icon",src:"".concat(_.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:()=>{I("/q/".concat(w.username,"/member/staff/store"),{state:{...k.state,unit:""}})}}),(0,L.jsxs)("h6",{children:[null!==(e=null===(t=k.state)||void 0===t||null===(l=t.unit)||void 0===l?void 0:l.good_head_name)&&void 0!==e?e:""," -"," ",null!==(s=null===(o=k.state)||void 0===o||null===(a=o.unit)||void 0===a?void 0:a.good_title_person)&&void 0!==s?s:""," (",C("store"),")"]})]})})}),(0,L.jsx)(de,{inititalUrl:q.get("type"),parentState:k.state}),(0,L.jsx)(N.default,{children:"request"===q.get("n")?(0,L.jsx)(ve.Z,{flow:"Custom",mid:null===(d=k.state)||void 0===d||null===(r=d.unit)||void 0===r?void 0:r._id}):"issue"===q.get("n")?(0,L.jsx)(me.Z,{flow:"Custom",mid:null===(c=k.state)||void 0===c||null===(u=c.unit)||void 0===u?void 0:u._id}):"stocktake"===q.get("n")?(0,L.jsx)(he.Z,{flow:"Custom",mid:null===(v=k.state)||void 0===v||null===(m=v.unit)||void 0===m?void 0:m._id}):"consumption"===q.get("n")?(0,L.jsx)(_e.Z,{flow:"Custom",mid:null===(h=k.state)||void 0===h||null===(g=h.unit)||void 0===g?void 0:g._id}):"return"===q.get("n")?(0,L.jsx)(ge.Z,{flow:"Custom",mid:null===(j=k.state)||void 0===j||null===(f=j.unit)||void 0===f?void 0:f._id}):"maintenance"===q.get("n")?(0,L.jsx)(ue.Z,{flow:"Custom",mid:null===(p=k.state)||void 0===p||null===(Z=p.unit)||void 0===Z?void 0:Z._id}):(0,L.jsx)(ce.Z,{flow:"Custom",mid:null===(S=k.state)||void 0===S||null===(b=S.unit)||void 0===b?void 0:b._id})})]})})},Fe=()=>{var e,t,l,s,o,a,d,r,c;const{t:u}=(0,x.$G)(),v=(0,i.TH)(),m=(0,i.s0)(),h=(0,i.UO)(),[g]=(0,n.lr)();return(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(H.default,{children:[(0,L.jsx)(N.default,{children:(0,L.jsx)("div",{className:y.Z.fm_header_container,children:(0,L.jsxs)("div",{className:y.Z.fm_header_start_container,children:[(0,L.jsx)("img",{alt:"search icon",src:"".concat(_.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:()=>{m("/q/".concat(h.username,"/member/staff/store"),{state:{...v.state,staffId:"",name:""}})}}),(0,L.jsxs)("h6",{children:[null!==(e=null===(t=v.state)||void 0===t?void 0:t.name)&&void 0!==e?e:""," (",u("store"),")"]})]})})}),(0,L.jsx)(de,{inititalUrl:g.get("type"),parentState:v.state}),(0,L.jsx)(N.default,{children:"request"===g.get("n")?(0,L.jsx)(ve.Z,{flow:"Individual",mid:null===(l=v.state)||void 0===l?void 0:l.staffId}):"issue"===g.get("n")?(0,L.jsx)(me.Z,{flow:"Individual",mid:null===(s=v.state)||void 0===s?void 0:s.staffId}):"stocktake"===g.get("n")?(0,L.jsx)(he.Z,{flow:"Individual",mid:null===(o=v.state)||void 0===o?void 0:o.staffId}):"consumption"===g.get("n")?(0,L.jsx)(_e.Z,{flow:"Individual",mid:null===(a=v.state)||void 0===a?void 0:a.staffId}):"return"===g.get("n")?(0,L.jsx)(ge.Z,{flow:"Individual",mid:null===(d=v.state)||void 0===d?void 0:d.staffId}):"maintenance"===g.get("n")?(0,L.jsx)(ue.Z,{flow:"Individual",mid:null===(r=v.state)||void 0===r?void 0:r.staffId}):(0,L.jsx)(ce.Z,{flow:"Individual",mid:null===(c=v.state)||void 0===c?void 0:c.staffId})})]})})},Le=()=>{var e,t,l,s,o,a,d,r,c;const{t:u}=(0,x.$G)(),v=(0,i.TH)(),m=(0,i.s0)(),h=(0,i.UO)(),[g]=(0,n.lr)();return(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(H.default,{children:[(0,L.jsx)(N.default,{children:(0,L.jsx)("div",{className:y.Z.fm_header_container,children:(0,L.jsxs)("div",{className:y.Z.fm_header_start_container,children:[(0,L.jsx)("img",{alt:"search icon",src:"".concat(_.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:()=>{m("/q/".concat(h.username,"/member/staff/store"),{state:{...v.state,clsId:"",clsName:""}})}}),(0,L.jsxs)("h6",{children:[null!==(e=null===(t=v.state)||void 0===t?void 0:t.clsName)&&void 0!==e?e:""," (",u("store"),")"]})]})})}),(0,L.jsx)(de,{inititalUrl:g.get("type"),parentState:v.state}),(0,L.jsx)(N.default,{children:"request"===g.get("n")?(0,L.jsx)(ve.Z,{flow:"Class",mid:null===(l=v.state)||void 0===l?void 0:l.clsId}):"issue"===g.get("n")?(0,L.jsx)(me.Z,{flow:"Class",mid:null===(s=v.state)||void 0===s?void 0:s.clsId}):"stocktake"===g.get("n")?(0,L.jsx)(he.Z,{flow:"Class",mid:null===(o=v.state)||void 0===o?void 0:o.clsId}):"consumption"===g.get("n")?(0,L.jsx)(_e.Z,{flow:"Class",mid:null===(a=v.state)||void 0===a?void 0:a.clsId}):"return"===g.get("n")?(0,L.jsx)(ge.Z,{flow:"Class",mid:null===(d=v.state)||void 0===d?void 0:d.clsId}):"maintenance"===g.get("n")?(0,L.jsx)(ue.Z,{flow:"Class",mid:null===(r=v.state)||void 0===r?void 0:r.clsId}):(0,L.jsx)(ce.Z,{flow:"Class",mid:null===(c=v.state)||void 0===c?void 0:c.clsId})})]})})};var Te=l(97892),Ee=l.n(Te),Ue=l(82824);const Ae=e=>{var t,l,s,i,n,o,a,d,r,c,u,v,m;let{register:h}=e;const{t:_}=(0,x.$G)();return(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)("div",{className:E.Z.smc_card,style:{flexDirection:"column",alignItems:"flex-start"},children:[(0,L.jsx)("div",{className:E.Z.smccc_inner,children:(0,L.jsxs)("div",{className:E.Z.smccc_inner,children:[(0,L.jsxs)("h6",{children:[_("quantity")," ",": ",null===h||void 0===h||null===(t=h.goods)||void 0===t?void 0:t.length]}),(0,L.jsxs)("h6",{children:[_("date_and_time")," ",": ",Ee()(null===h||void 0===h?void 0:h.created_at).format("DD/MM/YYYY"),", ",(0,Ue.J)(null===h||void 0===h?void 0:h.created_at,"LT")]})]})}),null===h||void 0===h||null===(l=h.goods)||void 0===l?void 0:l.map((e=>{var t,l,s;return(0,L.jsxs)("div",{className:E.Z.smccc_inner,children:[(0,L.jsxs)("p",{children:[_("name")," ",": ",null!==(t=null===e||void 0===e||null===(l=e.good)||void 0===l?void 0:l.goods_name)&&void 0!==t?t:""]}),(0,L.jsxs)("p",{children:[_("quantity")," ",": ",null!==(s=null===e||void 0===e?void 0:e.quantity)&&void 0!==s?s:""]})]},null===e||void 0===e?void 0:e._id)})),(0,L.jsx)("div",{className:E.Z.smccc_inner,style:{marginTop:"0.5rem"},children:null!==h&&void 0!==h&&h.issue_to_custom?(0,L.jsxs)("h6",{children:[_("issue_to")," ",": ",null!==(s=null===h||void 0===h||null===(i=h.issue_to_custom)||void 0===i?void 0:i.good_head_name)&&void 0!==s?s:"",(0,L.jsxs)("span",{children:["-"," ","".concat(null!==(n=null===h||void 0===h||null===(o=h.issue_to_custom)||void 0===o||null===(a=o.good_head_person)||void 0===a?void 0:a.staffFirstName)&&void 0!==n?n:""," ").concat(null!==(d=null===h||void 0===h||null===(r=h.issue_to_custom)||void 0===r||null===(c=r.good_head_person)||void 0===c?void 0:c.staffMiddleName)&&void 0!==d?d:""," ").concat(null!==(u=null===h||void 0===h||null===(v=h.issue_to_custom)||void 0===v||null===(m=v.good_head_person)||void 0===m?void 0:m.staffLastName)&&void 0!==u?u:"")]})]}):null})]})})},Be=e=>{var t,l,s,i;let{gid:n}=e;const{t:o}=(0,x.$G)(),[r,u]=(0,a.useState)(""),[v,m]=(0,a.useState)(1),[h,g]=(0,a.useState)(!0),[Z,N]=(0,j.YD)({skip:r}),{storeGoodsSevenRegister:b,storeGoodsSevenRegisterLoading:C}=(0,F.Fm)({data:{gid:n,page:v,limit:10,search:r},skip:!n});(0,a.useEffect)((()=>{N&&h&&m((e=>e+1))}),[N,h]),(0,a.useEffect)((()=>{var e;if(null!==b&&void 0!==b&&null!==(e=b.list)&&void 0!==e&&e.length){var t;let e=(0,f.f)(null===b||void 0===b||null===(t=b.list)||void 0===t?void 0:t.length);g((()=>e))}}),[null===b||void 0===b||null===(t=b.list)||void 0===t?void 0:t.length]);const k=(0,a.useCallback)((0,p.J)((e=>{m((()=>1)),u(e)}),1500),[]);return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("div",{className:y.Z.fm_search_full,style:{marginBottom:"0.5rem"},children:(0,L.jsx)("section",{className:y.Z.fm_search_full_container,style:{gap:"1rem"},children:(0,L.jsxs)("div",{className:y.Z.fm_search_full_container_inner,style:{flex:"1.5 1.5"},children:[(0,L.jsx)("img",{className:y.Z.fm_search_full_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,L.jsx)("input",{type:"text",placeholder:o("search"),onChange:e=>{e.target.value?k(e.target.value):(m((()=>1)),u(""))}})]})})}),null===b||void 0===b||null===(l=b.list)||void 0===l?void 0:l.map(((e,t)=>{var l;return(null===b||void 0===b||null===(l=b.list)||void 0===l?void 0:l.length)===t+1?(0,L.jsx)("div",{ref:Z,children:(0,L.jsx)(Ae,{register:e})},null===e||void 0===e?void 0:e._id):(0,L.jsx)(Ae,{register:e},null===e||void 0===e?void 0:e._id)})),C?r?(0,L.jsx)(d.default,{}):(0,L.jsx)(c.Z,{}):r?0===(null===b||void 0===b||null===(s=b.list)||void 0===s?void 0:s.length)&&(0,L.jsx)(S.Z,{title:"No register goods found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===b||void 0===b||null===(i=b.list)||void 0===i?void 0:i.length)&&(0,L.jsx)(S.Z,{title:"No register goods.",customStyleContainer:{marginTop:"1.5rem"}})]})},Ge=e=>{var t,l,s;let{gid:i}=e;const{t:n}=(0,x.$G)(),[o,r]=(0,a.useState)(""),[u,v]=(0,a.useState)(1),[m,h]=(0,a.useState)(!0),[g,Z]=(0,j.YD)({skip:o}),{storeGoodsSevenMaintenance:N,storeGoodsSevenMaintenanceLoading:b}=(0,F.gB)({data:{gid:i,page:u,limit:10,search:o},skip:!i});(0,a.useEffect)((()=>{Z&&m&&v((e=>e+1))}),[Z,m]),(0,a.useEffect)((()=>{var e;if(null!==N&&void 0!==N&&null!==(e=N.list)&&void 0!==e&&e.length){var t;let e=(0,f.f)(null===N||void 0===N||null===(t=N.list)||void 0===t?void 0:t.length);h((()=>e))}}),[null===N||void 0===N||null===(t=N.list)||void 0===t?void 0:t.length]);const C=(0,a.useCallback)((0,p.J)((e=>{v((()=>1)),r(e)}),1500),[]);return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("div",{className:y.Z.fm_search_full,style:{marginBottom:"0.5rem"},children:(0,L.jsx)("section",{className:y.Z.fm_search_full_container,style:{gap:"1rem"},children:(0,L.jsxs)("div",{className:y.Z.fm_search_full_container_inner,style:{flex:"1.5 1.5"},children:[(0,L.jsx)("img",{className:y.Z.fm_search_full_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,L.jsx)("input",{type:"text",placeholder:n("search"),onChange:e=>{e.target.value?C(e.target.value):(v((()=>1)),r(""))}})]})})}),b?o?(0,L.jsx)(d.default,{}):(0,L.jsx)(c.Z,{}):o?0===(null===N||void 0===N||null===(l=N.list)||void 0===l?void 0:l.length)&&(0,L.jsx)(S.Z,{title:"No maintenance goods found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===N||void 0===N||null===(s=N.list)||void 0===s?void 0:s.length)&&(0,L.jsx)(S.Z,{title:"No maintenance goods.",customStyleContainer:{marginTop:"1.5rem"}})]})},Pe=e=>{var t,l,s,i,n,o,a,d,r,c,u,v,m,h,_,g,j,f,p;let{request:y}=e;const{t:Z}=(0,x.$G)();return(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)("div",{className:E.Z.smc_card,style:{flexDirection:"column",alignItems:"flex-start"},children:[(0,L.jsxs)("div",{className:E.Z.smccc_inner,children:[(0,L.jsxs)("h6",{children:[Z("quantity")," ",": ",null===y||void 0===y||null===(t=y.goods)||void 0===t?void 0:t.length]}),(0,L.jsxs)("h6",{children:[Z("date_and_time")," ",": ",Ee()(null===y||void 0===y?void 0:y.created_at).format("DD/MM/YYYY"),", ",(0,Ue.J)(null===y||void 0===y?void 0:y.created_at,"LT")]})]}),null===y||void 0===y||null===(l=y.goods)||void 0===l?void 0:l.map((e=>{var t,l,s;return(0,L.jsxs)("div",{className:E.Z.smccc_inner,children:[(0,L.jsxs)("p",{children:[Z("name")," ",": ",null!==(t=null===e||void 0===e||null===(l=e.good)||void 0===l?void 0:l.goods_name)&&void 0!==t?t:""]}),(0,L.jsxs)("p",{children:[Z("quantity")," ",": ",null!==(s=null===e||void 0===e?void 0:e.quantity)&&void 0!==s?s:""]})]},null===e||void 0===e?void 0:e._id)})),(0,L.jsx)("div",{className:E.Z.smccc_inner,style:{marginTop:"0.5rem"},children:null!==y&&void 0!==y&&y.request_by_custom?(0,L.jsxs)("h6",{children:[Z("request_by")," ",": ",null!==(s=null===y||void 0===y||null===(i=y.request_by_custom)||void 0===i?void 0:i.good_head_name)&&void 0!==s?s:"",(0,L.jsxs)("span",{children:["-"," ","".concat(null!==(n=null===y||void 0===y||null===(o=y.request_by_custom)||void 0===o||null===(a=o.good_head_person)||void 0===a?void 0:a.staffFirstName)&&void 0!==n?n:""," ").concat(null!==(d=null===y||void 0===y||null===(r=y.request_by_custom)||void 0===r||null===(c=r.good_head_person)||void 0===c?void 0:c.staffMiddleName)&&void 0!==d?d:""," ").concat(null!==(u=null===y||void 0===y||null===(v=y.request_by_custom)||void 0===v||null===(m=v.good_head_person)||void 0===m?void 0:m.staffLastName)&&void 0!==u?u:"")]})]}):null!==y&&void 0!==y&&y.request_by_individual?(0,L.jsxs)("h6",{children:[Z("request_by")," ",": ","".concat(null!==(h=null===y||void 0===y||null===(_=y.request_by_individual)||void 0===_?void 0:_.staffFirstName)&&void 0!==h?h:""," ").concat(null!==(g=null===y||void 0===y||null===(j=y.request_by_individual)||void 0===j?void 0:j.staffMiddleName)&&void 0!==g?g:""," ").concat(null!==(f=null===y||void 0===y||null===(p=y.request_by_individual)||void 0===p?void 0:p.staffLastName)&&void 0!==f?f:"")]}):null})]})})},De=e=>{var t,l,s,i;let{gid:n}=e;const{t:o}=(0,x.$G)(),[r,u]=(0,a.useState)(""),[v,m]=(0,a.useState)(1),[h,g]=(0,a.useState)(!0),[Z,N]=(0,j.YD)({skip:r}),{storeGoodsSevenRequest:b,storeGoodsSevenRequestLoading:C}=(0,F.yH)({data:{gid:n,page:v,limit:10,search:r},skip:!n});(0,a.useEffect)((()=>{N&&h&&m((e=>e+1))}),[N,h]),(0,a.useEffect)((()=>{var e;if(null!==b&&void 0!==b&&null!==(e=b.list)&&void 0!==e&&e.length){var t;let e=(0,f.f)(null===b||void 0===b||null===(t=b.list)||void 0===t?void 0:t.length);g((()=>e))}}),[null===b||void 0===b||null===(t=b.list)||void 0===t?void 0:t.length]);const k=(0,a.useCallback)((0,p.J)((e=>{m((()=>1)),u(e)}),1500),[]);return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("div",{className:y.Z.fm_search_full,style:{marginBottom:"0.5rem"},children:(0,L.jsx)("section",{className:y.Z.fm_search_full_container,style:{gap:"1rem"},children:(0,L.jsxs)("div",{className:y.Z.fm_search_full_container_inner,style:{flex:"1.5 1.5"},children:[(0,L.jsx)("img",{className:y.Z.fm_search_full_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,L.jsx)("input",{type:"text",placeholder:o("search"),onChange:e=>{e.target.value?k(e.target.value):(m((()=>1)),u(""))}})]})})}),null===b||void 0===b||null===(l=b.list)||void 0===l?void 0:l.map(((e,t)=>{var l;return(null===b||void 0===b||null===(l=b.list)||void 0===l?void 0:l.length)===t+1?(0,L.jsx)("div",{ref:Z,children:(0,L.jsx)(Pe,{request:e})},null===e||void 0===e?void 0:e._id):(0,L.jsx)(Pe,{request:e},null===e||void 0===e?void 0:e._id)})),C?r?(0,L.jsx)(d.default,{}):(0,L.jsx)(c.Z,{}):r?0===(null===b||void 0===b||null===(s=b.list)||void 0===s?void 0:s.length)&&(0,L.jsx)(S.Z,{title:"No request goods found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===b||void 0===b||null===(i=b.list)||void 0===i?void 0:i.length)&&(0,L.jsx)(S.Z,{title:"No request goods.",customStyleContainer:{marginTop:"1.5rem"}})]})},Me=e=>{var t,l,s,i,n,o,a,d,r,c,u,v,m;let{issue:h}=e;const{t:_}=(0,x.$G)();return(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)("div",{className:E.Z.smc_card,style:{flexDirection:"column",alignItems:"flex-start"},children:[(0,L.jsxs)("div",{className:E.Z.smccc_inner,children:[(0,L.jsxs)("h6",{children:[_("quantity")," ",": ",null===h||void 0===h||null===(t=h.goods)||void 0===t?void 0:t.length]}),(0,L.jsxs)("h6",{children:[_("date_and_time")," ",": ",Ee()(null===h||void 0===h?void 0:h.created_at).format("DD/MM/YYYY"),", ",(0,Ue.J)(null===h||void 0===h?void 0:h.created_at,"LT")]})]}),null===h||void 0===h||null===(l=h.goods)||void 0===l?void 0:l.map((e=>{var t,l,s;return(0,L.jsxs)("div",{className:E.Z.smccc_inner,children:[(0,L.jsxs)("p",{children:[_("name")," ",": ",null!==(t=null===e||void 0===e||null===(l=e.good)||void 0===l?void 0:l.goods_name)&&void 0!==t?t:""]}),(0,L.jsxs)("p",{children:[_("quantity")," ",": ",null!==(s=null===e||void 0===e?void 0:e.quantity)&&void 0!==s?s:""]})]},null===e||void 0===e?void 0:e._id)})),(0,L.jsx)("div",{className:E.Z.smccc_inner,style:{marginTop:"0.5rem"},children:null!==h&&void 0!==h&&h.issue_to_custom?(0,L.jsxs)("h6",{children:[_("issue_to")," ",": ",null!==(s=null===h||void 0===h||null===(i=h.issue_to_custom)||void 0===i?void 0:i.good_head_name)&&void 0!==s?s:"",(0,L.jsxs)("span",{children:["-"," ","".concat(null!==(n=null===h||void 0===h||null===(o=h.issue_to_custom)||void 0===o||null===(a=o.good_head_person)||void 0===a?void 0:a.staffFirstName)&&void 0!==n?n:""," ").concat(null!==(d=null===h||void 0===h||null===(r=h.issue_to_custom)||void 0===r||null===(c=r.good_head_person)||void 0===c?void 0:c.staffMiddleName)&&void 0!==d?d:""," ").concat(null!==(u=null===h||void 0===h||null===(v=h.issue_to_custom)||void 0===v||null===(m=v.good_head_person)||void 0===m?void 0:m.staffLastName)&&void 0!==u?u:"")]})]}):null})]})})},ze=e=>{var t,l,s,i;let{gid:n}=e;const{t:o}=(0,x.$G)(),[r,u]=(0,a.useState)(""),[v,m]=(0,a.useState)(1),[h,g]=(0,a.useState)(!0),[Z,N]=(0,j.YD)({skip:r}),{storeGoodsSevenIssue:b,storeGoodsSevenIssueLoading:C}=(0,F.ni)({data:{gid:n,page:v,limit:10,search:r},skip:!n});(0,a.useEffect)((()=>{N&&h&&m((e=>e+1))}),[N,h]),(0,a.useEffect)((()=>{var e;if(null!==b&&void 0!==b&&null!==(e=b.list)&&void 0!==e&&e.length){var t;let e=(0,f.f)(null===b||void 0===b||null===(t=b.list)||void 0===t?void 0:t.length);g((()=>e))}}),[null===b||void 0===b||null===(t=b.list)||void 0===t?void 0:t.length]);const k=(0,a.useCallback)((0,p.J)((e=>{m((()=>1)),u(e)}),1500),[]);return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("div",{className:y.Z.fm_search_full,style:{marginBottom:"0.5rem"},children:(0,L.jsx)("section",{className:y.Z.fm_search_full_container,style:{gap:"1rem"},children:(0,L.jsxs)("div",{className:y.Z.fm_search_full_container_inner,style:{flex:"1.5 1.5"},children:[(0,L.jsx)("img",{className:y.Z.fm_search_full_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,L.jsx)("input",{type:"text",placeholder:o("search"),onChange:e=>{e.target.value?k(e.target.value):(m((()=>1)),u(""))}})]})})}),null===b||void 0===b||null===(l=b.list)||void 0===l?void 0:l.map(((e,t)=>{var l;return(null===b||void 0===b||null===(l=b.list)||void 0===l?void 0:l.length)===t+1?(0,L.jsx)("div",{ref:Z,children:(0,L.jsx)(Me,{issue:e})},null===e||void 0===e?void 0:e._id):(0,L.jsx)(Me,{issue:e},null===e||void 0===e?void 0:e._id)})),C?r?(0,L.jsx)(d.default,{}):(0,L.jsx)(c.Z,{}):r?0===(null===b||void 0===b||null===(s=b.list)||void 0===s?void 0:s.length)&&(0,L.jsx)(S.Z,{title:"No issue goods found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===b||void 0===b||null===(i=b.list)||void 0===i?void 0:i.length)&&(0,L.jsx)(S.Z,{title:"No issue goods.",customStyleContainer:{marginTop:"1.5rem"}})]})},Je=e=>{var t,l,s;let{gid:i}=e;const{t:n}=(0,x.$G)(),[o,r]=(0,a.useState)(""),[u,v]=(0,a.useState)(1),[m,h]=(0,a.useState)(!0),[g,Z]=(0,j.YD)({skip:o}),{storeGoodsSevenStocktake:N,storeGoodsSevenStocktakeLoading:b}=(0,F.v$)({data:{gid:i,page:u,limit:10,search:o},skip:!i});(0,a.useEffect)((()=>{Z&&m&&v((e=>e+1))}),[Z,m]),(0,a.useEffect)((()=>{var e;if(null!==N&&void 0!==N&&null!==(e=N.list)&&void 0!==e&&e.length){var t;let e=(0,f.f)(null===N||void 0===N||null===(t=N.list)||void 0===t?void 0:t.length);h((()=>e))}}),[null===N||void 0===N||null===(t=N.list)||void 0===t?void 0:t.length]);const C=(0,a.useCallback)((0,p.J)((e=>{v((()=>1)),r(e)}),1500),[]);return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("div",{className:y.Z.fm_search_full,style:{marginBottom:"0.5rem"},children:(0,L.jsx)("section",{className:y.Z.fm_search_full_container,style:{gap:"1rem"},children:(0,L.jsxs)("div",{className:y.Z.fm_search_full_container_inner,style:{flex:"1.5 1.5"},children:[(0,L.jsx)("img",{className:y.Z.fm_search_full_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,L.jsx)("input",{type:"text",placeholder:n("search"),onChange:e=>{e.target.value?C(e.target.value):(v((()=>1)),r(""))}})]})})}),b?o?(0,L.jsx)(d.default,{}):(0,L.jsx)(c.Z,{}):o?0===(null===N||void 0===N||null===(l=N.list)||void 0===l?void 0:l.length)&&(0,L.jsx)(S.Z,{title:"No stocktake found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===N||void 0===N||null===(s=N.list)||void 0===s?void 0:s.length)&&(0,L.jsx)(S.Z,{title:"No stocktake.",customStyleContainer:{marginTop:"1.5rem"}})]})},Re=e=>{var t,l,s;let{gid:i}=e;const{t:n}=(0,x.$G)(),[o,r]=(0,a.useState)(""),[u,v]=(0,a.useState)(1),[m,h]=(0,a.useState)(!0),[g,Z]=(0,j.YD)({skip:o}),{storeGoodsSevenConsumption:N,storeGoodsSevenConsumptionLoading:b}=(0,F.Fj)({data:{gid:i,page:u,limit:10,search:o},skip:!i});(0,a.useEffect)((()=>{Z&&m&&v((e=>e+1))}),[Z,m]),(0,a.useEffect)((()=>{var e;if(null!==N&&void 0!==N&&null!==(e=N.list)&&void 0!==e&&e.length){var t;let e=(0,f.f)(null===N||void 0===N||null===(t=N.list)||void 0===t?void 0:t.length);h((()=>e))}}),[null===N||void 0===N||null===(t=N.list)||void 0===t?void 0:t.length]);const C=(0,a.useCallback)((0,p.J)((e=>{v((()=>1)),r(e)}),1500),[]);return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("div",{className:y.Z.fm_search_full,style:{marginBottom:"0.5rem"},children:(0,L.jsx)("section",{className:y.Z.fm_search_full_container,style:{gap:"1rem"},children:(0,L.jsxs)("div",{className:y.Z.fm_search_full_container_inner,style:{flex:"1.5 1.5"},children:[(0,L.jsx)("img",{className:y.Z.fm_search_full_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,L.jsx)("input",{type:"text",placeholder:n("search"),onChange:e=>{e.target.value?C(e.target.value):(v((()=>1)),r(""))}})]})})}),b?o?(0,L.jsx)(d.default,{}):(0,L.jsx)(c.Z,{}):o?0===(null===N||void 0===N||null===(l=N.list)||void 0===l?void 0:l.length)&&(0,L.jsx)(S.Z,{title:"No consumption goods found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===N||void 0===N||null===(s=N.list)||void 0===s?void 0:s.length)&&(0,L.jsx)(S.Z,{title:"No consumption goods.",customStyleContainer:{marginTop:"1.5rem"}})]})},Ye=e=>{var t,l,s;let{gid:i}=e;const{t:n}=(0,x.$G)(),[o,r]=(0,a.useState)(""),[u,v]=(0,a.useState)(1),[m,h]=(0,a.useState)(!0),[g,Z]=(0,j.YD)({skip:o}),{storeGoodsSevenReturn:N,storeGoodsSevenReturnLoading:b}=(0,F.wB)({data:{gid:i,page:u,limit:10,search:o},skip:!i});(0,a.useEffect)((()=>{Z&&m&&v((e=>e+1))}),[Z,m]),(0,a.useEffect)((()=>{var e;if(null!==N&&void 0!==N&&null!==(e=N.list)&&void 0!==e&&e.length){var t;let e=(0,f.f)(null===N||void 0===N||null===(t=N.list)||void 0===t?void 0:t.length);h((()=>e))}}),[null===N||void 0===N||null===(t=N.list)||void 0===t?void 0:t.length]);const C=(0,a.useCallback)((0,p.J)((e=>{v((()=>1)),r(e)}),1500),[]);return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("div",{className:y.Z.fm_search_full,style:{marginBottom:"0.5rem"},children:(0,L.jsx)("section",{className:y.Z.fm_search_full_container,style:{gap:"1rem"},children:(0,L.jsxs)("div",{className:y.Z.fm_search_full_container_inner,style:{flex:"1.5 1.5"},children:[(0,L.jsx)("img",{className:y.Z.fm_search_full_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,L.jsx)("input",{type:"text",placeholder:n("search"),onChange:e=>{e.target.value?C(e.target.value):(v((()=>1)),r(""))}})]})})}),b?o?(0,L.jsx)(d.default,{}):(0,L.jsx)(c.Z,{}):o?0===(null===N||void 0===N||null===(l=N.list)||void 0===l?void 0:l.length)&&(0,L.jsx)(S.Z,{title:"No return goods found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===N||void 0===N||null===(s=N.list)||void 0===s?void 0:s.length)&&(0,L.jsx)(S.Z,{title:"No return goods.",customStyleContainer:{marginTop:"1.5rem"}})]})},$e=()=>{var e,t,l,s,o,a,d,r,c,u,v,m,h,g,j,f,p;const{t:Z}=(0,x.$G)(),S=(0,i.TH)(),b=(0,i.s0)(),C=(0,i.UO)(),[k]=(0,n.lr)();return(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(H.default,{children:[(0,L.jsx)(N.default,{children:(0,L.jsx)("div",{className:y.Z.fm_header_container,children:(0,L.jsxs)("div",{className:y.Z.fm_header_start_container,children:[(0,L.jsx)("img",{alt:"search icon",src:"".concat(_.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:()=>{b("/q/".concat(C.username,"/member/staff/store"),{state:{...S.state,goods:null}})}}),(0,L.jsx)("h6",{children:null!==(e=null===(t=S.state)||void 0===t||null===(l=t.goods)||void 0===l?void 0:l.goods_name)&&void 0!==e?e:""})]})})}),(0,L.jsx)(de,{inititalUrl:k.get("type"),parentState:S.state}),(0,L.jsx)(N.default,{children:"request"===k.get("n")?(0,L.jsx)(De,{gid:null===(s=S.state)||void 0===s||null===(o=s.goods)||void 0===o?void 0:o._id}):"issue"===k.get("n")?(0,L.jsx)(ze,{gid:null===(a=S.state)||void 0===a||null===(d=a.goods)||void 0===d?void 0:d._id}):"stocktake"===k.get("n")?(0,L.jsx)(Je,{gid:null===(r=S.state)||void 0===r||null===(c=r.goods)||void 0===c?void 0:c._id}):"consumption"===k.get("n")?(0,L.jsx)(Re,{gid:null===(u=S.state)||void 0===u||null===(v=u.goods)||void 0===v?void 0:v._id}):"return"===k.get("n")?(0,L.jsx)(Ye,{gid:null===(m=S.state)||void 0===m||null===(h=m.goods)||void 0===h?void 0:h._id}):"maintenance"===k.get("n")?(0,L.jsx)(Ge,{gid:null===(g=S.state)||void 0===g||null===(j=g.goods)||void 0===j?void 0:j._id}):(0,L.jsx)(Be,{gid:null===(f=S.state)||void 0===f||null===(p=f.goods)||void 0===p?void 0:p._id})})]})})},He=e=>{let{parentState:t}=e;const l=(0,i.UO)(),[s]=(0,n.lr)();return(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(oe.Z,{children:Ke.map((e=>{var i;return(0,L.jsx)(ae.Z,{tab:e,isLink:!0,isActive:null===(i=e.groupIs)||void 0===i?void 0:i.includes(s.get("n")),parentState:t,url:"/q/".concat(l.username,"/member/staff/store?type=issue").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,L.jsx)(C.Z,{customStyleBorder:{marginBlock:"0"}})]})})},Ke=[{label:"request",id:"request",urlKey:"",groupIs:["",null]},{label:"issue_record",id:"records",urlKey:"&n=records",groupIs:["records"]}];var Oe=l(20659),Ve=l(26071);const We=e=>{let{setState:t,state:l,onClose:s,setStep:i}=e;const{t:n}=(0,x.$G)(),o=e=>{t((t=>({...t,issue_to:e})))};return(0,L.jsx)(b.Z,{onClose:s,children:(0,L.jsxs)("div",{className:q.Z.modal_container,children:[(0,L.jsx)(N.default,{children:(0,L.jsxs)("div",{className:q.Z.modal_container_outer_header,children:[(0,L.jsx)("div",{className:q.Z.modal_container_header,children:(0,L.jsx)("h6",{children:n("issues_record")})}),(0,L.jsx)("img",{src:"".concat(_.J7,"/close.svg"),alt:"close icon",onClick:s})]})}),(0,L.jsx)(C.Z,{customStyleBorder:{marginBottom:"0"}}),(0,L.jsxs)(N.default,{customStyle:{paddingBottom:"1rem"},children:[(0,L.jsx)(Oe.Z,{label:"issuing_to",children:null===Xe||void 0===Xe?void 0:Xe.map((e=>(0,L.jsx)(Ve.Z,{tile:e,onTile:o,activeTile:null===l||void 0===l?void 0:l.issue_to},null===e||void 0===e?void 0:e.key)))}),(0,L.jsx)(Z.Z,{label:"next",onAction:()=>{"Unit"===(null===l||void 0===l?void 0:l.issue_to)?i(6):"Individual"===(null===l||void 0===l?void 0:l.issue_to)&&i(2)}})]})]})})},Xe=[{key:"Unit",name:"unit"},{key:"Individual",name:"individual"}];var Qe=l(83638);const et=e=>{var t,l,s,i,n,o,a,d,r,c;let{unit:u,selectedId:v,onSelect:m}=e;const{t:h}=(0,x.$G)();return(0,L.jsx)("div",{className:null!==v&&void 0!==v&&v.includes(null===u||void 0===u?void 0:u._id)?"".concat(E.Z.smc_card," ").concat(E.Z.smc_card_active):E.Z.smc_card,onClick:()=>{m("Custom",u)},children:(0,L.jsx)("div",{className:E.Z.smc_card_contatiner,style:{justifyContent:"space-between",width:"100%"},children:(0,L.jsxs)("div",{className:E.Z.smc_card_contatiner,children:[(0,L.jsx)("img",{src:null!==u&&void 0!==u&&null!==(t=u.good_head_person)&&void 0!==t&&t.staffProfilePhoto?"".concat(B.yI,"/").concat(null===u||void 0===u||null===(l=u.good_head_person)||void 0===l?void 0:l.staffProfilePhoto):"".concat(_.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar",style:{height:"2.3rem",width:"2.3rem",borderRadius:"50%"}}),(0,L.jsxs)("div",{className:E.Z.smc_card_contatiner_inner,children:[(0,L.jsxs)("h6",{children:[h("good_title_person")," ",": "," ",null!==(s=null===u||void 0===u?void 0:u.good_title_person)&&void 0!==s?s:"",", ",h("good_head_name")," ",": "," ",null!==(i=null===u||void 0===u?void 0:u.good_head_name)&&void 0!==i?i:""]}),(0,L.jsx)("p",{children:"".concat(null!==(n=null===u||void 0===u||null===(o=u.good_head_person)||void 0===o?void 0:o.staffFirstName)&&void 0!==n?n:""," ").concat(null!==(a=null===u||void 0===u||null===(d=u.good_head_person)||void 0===d?void 0:d.staffMiddleName)&&void 0!==a?a:""," ").concat(null!==(r=null===u||void 0===u||null===(c=u.good_head_person)||void 0===c?void 0:c.staffLastName)&&void 0!==r?r:"")})]})]})})})},tt=e=>{var t,l,s,i,n,o,a,d,r;let{unit:c,selectedId:u,onSelect:v,setStep:m,dataState:h}=e;return(0,L.jsx)("div",{className:null!==u&&void 0!==u&&u.includes(null===c||void 0===c?void 0:c._id)?"".concat(E.Z.smc_card," ").concat(E.Z.smc_card_active):E.Z.smc_card,onClick:()=>{v("Department",c)},children:(0,L.jsxs)("div",{className:E.Z.smc_card_contatiner,style:{justifyContent:"space-between",width:"100%"},children:[(0,L.jsxs)("div",{className:E.Z.smc_card_contatiner,children:[(0,L.jsx)("img",{src:null!==c&&void 0!==c&&null!==(t=c.dHead)&&void 0!==t&&t.staffProfilePhoto?"".concat(B.yI,"/").concat(null===c||void 0===c||null===(l=c.dHead)||void 0===l?void 0:l.staffProfilePhoto):"".concat(_.J7,"/department.svg"),loading:"lazy",alt:"avatar",style:{height:"2.3rem",width:"2.3rem",borderRadius:"50%"}}),(0,L.jsxs)("div",{className:E.Z.smc_card_contatiner_inner,children:[(0,L.jsx)("h6",{children:null!==(s=null===c||void 0===c?void 0:c.dName)&&void 0!==s?s:""}),(0,L.jsx)("p",{children:"".concat(null!==(i=null===c||void 0===c||null===(n=c.dHead)||void 0===n?void 0:n.staffFirstName)&&void 0!==i?i:""," ").concat(null!==(o=null===c||void 0===c||null===(a=c.dHead)||void 0===a?void 0:a.staffMiddleName)&&void 0!==o?o:""," ").concat(null!==(d=null===c||void 0===c||null===(r=c.dHead)||void 0===r?void 0:r.staffLastName)&&void 0!==d?d:"")})]})]}),(0,L.jsx)(Z.Z,{label:"select_class",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:e=>{e.stopPropagation(),h((e=>({...e,did:null===c||void 0===c?void 0:c._id}))),m(7)}})]})})},lt=e=>{var t,l,s,i;let{onClose:n,stid:o,onSelectUnit:r,selectedId:u,setStep:v,dataState:m}=e;const{t:h}=(0,x.$G)(),[g,y]=(0,a.useState)(""),[Z,k]=(0,a.useState)(1),[I,w]=(0,a.useState)(!0),[q,T]=(0,j.YD)({skip:g}),{storeUnitCombineList:E,storeUnitCombineListLoading:U}=(0,F.Cj)({data:{stid:o,page:Z,limit:10,search:g},skip:!o});(0,a.useEffect)((()=>{T&&I&&k((e=>e+1))}),[T,I]),(0,a.useEffect)((()=>{var e;if(null!==E&&void 0!==E&&null!==(e=E.list)&&void 0!==e&&e.length){var t;let e=(0,f.f)(null===E||void 0===E||null===(t=E.list)||void 0===t?void 0:t.length);w((()=>e))}}),[null===E||void 0===E||null===(t=E.list)||void 0===t?void 0:t.length]);const A=(0,a.useCallback)((0,p.J)((e=>{k((()=>1)),y(e)}),1500),[]),B=(e,t)=>{r(e,t)};return(0,L.jsx)(b.Z,{onClose:n,children:(0,L.jsxs)("div",{className:fe.Z.modal_container,children:[(0,L.jsx)(N.default,{children:(0,L.jsxs)("div",{className:fe.Z.modal_container_outer_header,children:[(0,L.jsx)("div",{className:fe.Z.modal_container_header,children:(0,L.jsx)("h6",{children:h("select_unit_or_department")})}),(0,L.jsx)("img",{src:"".concat(_.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,L.jsx)(C.Z,{customStyleBorder:{marginBottom:"0"}}),(0,L.jsxs)(N.default,{customStyle:{paddingBottom:"1rem"},children:[(0,L.jsxs)("div",{className:fe.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,L.jsx)("input",{type:"text",placeholder:h("search"),className:fe.Z.assign_search_input,onChange:e=>{e.target.value?A(e.target.value):(k((()=>1)),y(""))},style:{width:"100%"}}),(0,L.jsx)("img",{src:"".concat(_.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===E||void 0===E||null===(l=E.list)||void 0===l?void 0:l.map(((e,t)=>{var l;return(null===E||void 0===E||null===(l=E.list)||void 0===l?void 0:l.length)===t+1?(0,L.jsx)("div",{ref:q,children:null!==e&&void 0!==e&&e.dName?(0,L.jsx)(tt,{unit:e,onSelect:B,selectedId:u,setStep:v,dataState:m}):(0,L.jsx)(et,{unit:e,onSelect:B,selectedId:u})},null===e||void 0===e?void 0:e._id):(0,L.jsx)(a.Fragment,{children:null!==e&&void 0!==e&&e.dName?(0,L.jsx)(tt,{unit:e,onSelect:B,selectedId:u,setStep:v,dataState:m}):(0,L.jsx)(et,{unit:e,onSelect:B,selectedId:u})},null===e||void 0===e?void 0:e._id)})),U?g?(0,L.jsx)(d.default,{}):(0,L.jsx)(c.Z,{}):g?0===(null===E||void 0===E||null===(s=E.list)||void 0===s?void 0:s.length)&&(0,L.jsx)(S.Z,{title:"No units found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===E||void 0===E||null===(i=E.list)||void 0===i?void 0:i.length)&&(0,L.jsx)(S.Z,{title:"No units.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})},st=e=>{var t,l,s,i,n,o,a,d,r,c;let{cls:u,onSelect:v,selectedId:m}=e;return(0,L.jsx)("div",{className:null!==m&&void 0!==m&&m.includes(null===u||void 0===u?void 0:u._id)?"".concat(E.Z.smc_card," ").concat(E.Z.smc_card_active):E.Z.smc_card,onClick:()=>{v(u)},children:(0,L.jsx)("div",{className:E.Z.smc_card_contatiner,style:{justifyContent:"space-between",width:"100%"},children:(0,L.jsxs)("div",{className:E.Z.smc_card_contatiner,children:[(0,L.jsx)("img",{src:null!==u&&void 0!==u&&null!==(t=u.dHead)&&void 0!==t&&t.staffProfilePhoto?"".concat(B.yI,"/").concat(null===u||void 0===u||null===(l=u.dHead)||void 0===l?void 0:l.staffProfilePhoto):"".concat(_.J7,"/department.svg"),loading:"lazy",alt:"avatar",style:{height:"2.3rem",width:"2.3rem",borderRadius:"50%"}}),(0,L.jsxs)("div",{className:E.Z.smc_card_contatiner_inner,children:[(0,L.jsxs)("h6",{children:[null!==(s=null===u||void 0===u?void 0:u.className)&&void 0!==s?s:""," - ",null!==(i=null===u||void 0===u?void 0:u.classTitle)&&void 0!==i?i:""]}),(0,L.jsx)("p",{children:"".concat(null!==(n=null===u||void 0===u||null===(o=u.dHead)||void 0===o?void 0:o.staffFirstName)&&void 0!==n?n:""," ").concat(null!==(a=null===u||void 0===u||null===(d=u.dHead)||void 0===d?void 0:d.staffMiddleName)&&void 0!==a?a:""," ").concat(null!==(r=null===u||void 0===u||null===(c=u.dHead)||void 0===c?void 0:c.staffLastName)&&void 0!==r?r:"")})]})]})})})},it=e=>{var t,l,s,i;let{onClose:n,did:o,onSelectUnit:r,selectedId:u}=e;const{t:v}=(0,x.$G)(),[m,h]=(0,a.useState)(""),[g,y]=(0,a.useState)(1),[Z,k]=(0,a.useState)(!0),[I,w]=(0,j.YD)({skip:m}),{storeDepartmentClassList:q,storeDepartmentClassListLoading:T}=(0,F.zr)({data:{did:o,page:g,limit:10,search:m},skip:!o});(0,a.useEffect)((()=>{w&&Z&&y((e=>e+1))}),[w,Z]),(0,a.useEffect)((()=>{var e;if(null!==q&&void 0!==q&&null!==(e=q.list)&&void 0!==e&&e.length){var t;let e=(0,f.f)(null===q||void 0===q||null===(t=q.list)||void 0===t?void 0:t.length);k((()=>e))}}),[null===q||void 0===q||null===(t=q.list)||void 0===t?void 0:t.length]);const E=(0,a.useCallback)((0,p.J)((e=>{y((()=>1)),h(e)}),1500),[]),U=e=>{r("Class",e)};return(0,L.jsx)(b.Z,{onClose:n,children:(0,L.jsxs)("div",{className:fe.Z.modal_container,children:[(0,L.jsx)(N.default,{children:(0,L.jsxs)("div",{className:fe.Z.modal_container_outer_header,children:[(0,L.jsx)("div",{className:fe.Z.modal_container_header,children:(0,L.jsx)("h6",{children:v("select_department_classes")})}),(0,L.jsx)("img",{src:"".concat(_.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,L.jsx)(C.Z,{customStyleBorder:{marginBottom:"0"}}),(0,L.jsxs)(N.default,{customStyle:{paddingBottom:"1rem"},children:[(0,L.jsxs)("div",{className:fe.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,L.jsx)("input",{type:"text",placeholder:v("search"),className:fe.Z.assign_search_input,onChange:e=>{e.target.value?E(e.target.value):(y((()=>1)),h(""))},style:{width:"100%"}}),(0,L.jsx)("img",{src:"".concat(_.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===q||void 0===q||null===(l=q.list)||void 0===l?void 0:l.map(((e,t)=>{var l;return(null===q||void 0===q||null===(l=q.list)||void 0===l?void 0:l.length)===t+1?(0,L.jsx)("div",{ref:I,children:(0,L.jsx)(st,{cls:e,onSelect:U,selectedId:u})},null===e||void 0===e?void 0:e._id):(0,L.jsx)(st,{cls:e,onSelect:U,selectedId:u},null===e||void 0===e?void 0:e._id)})),T?m?(0,L.jsx)(d.default,{}):(0,L.jsx)(c.Z,{}):m?0===(null===q||void 0===q||null===(s=q.list)||void 0===s?void 0:s.length)&&(0,L.jsx)(S.Z,{title:"No classes found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===q||void 0===q||null===(i=q.list)||void 0===i?void 0:i.length)&&(0,L.jsx)(S.Z,{title:"No classes.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})},nt=e=>{let{onParentClose:t,state:l,onClose:s,stid:i}=e;const{t:n}=(0,x.$G)(),[o,r]=(0,a.useState)(!1),[c]=(0,F._7)();return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(b.Z,{onClose:s,children:(0,L.jsxs)("div",{className:q.Z.modal_container,children:[(0,L.jsx)(N.default,{children:(0,L.jsxs)("div",{className:q.Z.modal_container_outer_header,children:[(0,L.jsx)("div",{className:q.Z.modal_container_header,children:(0,L.jsx)("h6",{children:n("confirm_to_issue_record")})}),(0,L.jsx)("img",{src:"".concat(_.J7,"/close.svg"),alt:"close icon",onClick:s})]})}),(0,L.jsx)(C.Z,{customStyleBorder:{marginBottom:"0"}}),(0,L.jsx)(N.default,{customStyle:{paddingBottom:"1rem"},children:(0,L.jsx)(Z.Z,{label:"issue_record",onAction:()=>{var e;i&&null!==l&&void 0!==l&&null!==(e=l.arr)&&void 0!==e&&e.length&&null!==l&&void 0!==l&&l.flow&&null!==l&&void 0!==l&&l.assignee&&(r((e=>!e)),c({stid:i,bodyParameter:{arr:null===l||void 0===l?void 0:l.arr,flow:null===l||void 0===l?void 0:l.flow,assignee:null===l||void 0===l?void 0:l.assignee}}).then((()=>{r((e=>!e)),t()})).catch({}))}})})]})}),o&&(0,L.jsx)(d.default,{})]})};var ot=l(92673);const at=e=>{let{instituteId:t,stid:l,onClose:s}=e;const[i,n]=(0,a.useState)(1),[o,d]=(0,a.useState)({arr:[],assignee:"",flow:"",staff:"",issue_to:"",goods:[],goodsId:[],did:""});return(0,L.jsx)(L.Fragment,{children:1===i?(0,L.jsx)(We,{onClose:s,setStep:n,state:o,setState:d}):2===i?(0,L.jsx)(O.Z,{onSelectStaff:e=>{d((t=>({...t,staff:e,assignee:null===e||void 0===e?void 0:e._id,flow:"Individual"}))),n(3)},onClose:()=>n(1),instituteId:t}):3===i?(0,L.jsx)(Qe.Z,{onClose:()=>{"Individual"===o.flow?n(2):"Department"!==o.flow&&"Custom"!==o.flow||n(6),"Class"===o.flow&&n(7)},stid:l,onGoodsSelect:e=>{d((t=>({...t,goods:null===e||void 0===e?void 0:e.goods,goodsId:null===e||void 0===e?void 0:e.goodsId}))),n(4)},dataState:o}):4===i?(0,L.jsx)(ot.Z,{onClose:()=>n(3),state:o,setStep:n,setState:d}):5===i?(0,L.jsx)(nt,{onClose:()=>n(4),state:o,onParentClose:s,stid:l}):6===i?(0,L.jsx)(lt,{onClose:()=>n(1),stid:l,onSelectUnit:(e,t)=>{d((l=>({...l,staff:t,assignee:null===t||void 0===t?void 0:t._id,flow:e}))),n(3)},selectedId:o.assignee?[o.assignee]:[],setStep:n,dataState:d}):7===i?(0,L.jsx)(it,{onClose:()=>n(6),did:o.did,onSelectUnit:(e,t)=>{d((l=>({...l,staff:t,assignee:null===t||void 0===t?void 0:t._id,flow:e}))),n(3)},selectedId:o.assignee?[o.assignee]:[]}):null})},dt=e=>{var t,l,s,i,n,o,a,d,r,c,u,v,m;let{issue:h}=e;const{t:_}=(0,x.$G)();return(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)("div",{className:E.Z.smc_card,style:{flexDirection:"column",alignItems:"flex-start"},children:[(0,L.jsxs)("div",{className:E.Z.smccc_inner,children:[(0,L.jsxs)("h6",{children:[_("quantity")," ",": ",null===h||void 0===h||null===(t=h.goods)||void 0===t?void 0:t.length]}),(0,L.jsxs)("h6",{children:[_("date_and_time")," ",": ",Ee()(null===h||void 0===h?void 0:h.created_at).format("DD/MM/YYYY"),", ",(0,Ue.J)(null===h||void 0===h?void 0:h.created_at,"LT")]})]}),null===h||void 0===h||null===(l=h.goods)||void 0===l?void 0:l.map((e=>{var t,l,s;return(0,L.jsxs)("div",{className:E.Z.smccc_inner,children:[(0,L.jsxs)("p",{children:[_("name")," ",": ",null!==(t=null===e||void 0===e||null===(l=e.good)||void 0===l?void 0:l.goods_name)&&void 0!==t?t:""]}),(0,L.jsxs)("p",{children:[_("quantity")," ",": ",null!==(s=null===e||void 0===e?void 0:e.quantity)&&void 0!==s?s:""]})]},null===e||void 0===e?void 0:e._id)})),(0,L.jsx)("div",{className:E.Z.smccc_inner,style:{marginTop:"0.5rem"},children:(0,L.jsxs)("h6",{children:[_("issue_to")," ",": ",null!==(s=null===h||void 0===h||null===(i=h.issue_to_custom)||void 0===i?void 0:i.good_head_name)&&void 0!==s?s:"",(0,L.jsxs)("span",{children:["-"," ","".concat(null!==(n=null===h||void 0===h||null===(o=h.issue_to_custom)||void 0===o||null===(a=o.good_head_person)||void 0===a?void 0:a.staffFirstName)&&void 0!==n?n:""," ").concat(null!==(d=null===h||void 0===h||null===(r=h.issue_to_custom)||void 0===r||null===(c=r.good_head_person)||void 0===c?void 0:c.staffMiddleName)&&void 0!==d?d:""," ").concat(null!==(u=null===h||void 0===h||null===(v=h.issue_to_custom)||void 0===v||null===(m=v.good_head_person)||void 0===m?void 0:m.staffLastName)&&void 0!==u?u:"")]})]})})]})})},rt=e=>{var t,l,s;let{stid:n,instituteId:o}=e;const r=(0,i.TH)(),{t:u}=(0,x.$G)(),[v,m]=(0,a.useState)(""),[h,g]=(0,a.useState)(1),[b,k]=(0,a.useState)(!0),[I,w]=(0,j.YD)({skip:v}),[q,T]=(0,a.useState)(!1),{storeStockIssueRecordList:E,storeStockIssueRecordListLoading:U}=(0,F.kl)({data:{stid:n,page:h,limit:10,search:v},skip:!n});(0,a.useEffect)((()=>{w&&b&&g((e=>e+1))}),[w,b]),(0,a.useEffect)((()=>{var e;if(null!==E&&void 0!==E&&null!==(e=E.list)&&void 0!==e&&e.length){var t;let e=(0,f.f)(null===E||void 0===E||null===(t=E.list)||void 0===t?void 0:t.length);k((()=>e))}}),[null===E||void 0===E?void 0:E.list]);const A=(0,a.useCallback)((0,p.J)((e=>{g((()=>1)),m(e)}),1500),[]),B=()=>{T((e=>!e))};return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(H.default,{children:[(0,L.jsx)(N.default,{children:(0,L.jsxs)("div",{className:y.Z.fm_header_container,children:[(0,L.jsx)("h6",{children:u("store_issue")}),(0,L.jsxs)("div",{className:y.Z.fm_search,children:[(0,L.jsx)("section",{className:y.Z.fm_search_container,children:(0,L.jsxs)("div",{className:y.Z.fm_search_container_inner,children:[(0,L.jsx)("img",{className:y.Z.fm_search_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,L.jsx)("input",{type:"text",placeholder:u("search"),onChange:e=>{e.target.value?A(e.target.value):(g((()=>1)),m(""))}})]})}),(0,L.jsx)(Z.Z,{label:"issue_record",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:B})]})]})}),(0,L.jsx)(C.Z,{}),(0,L.jsx)(He,{parentState:r.state}),(0,L.jsxs)(N.default,{children:[null===E||void 0===E||null===(t=E.list)||void 0===t?void 0:t.map(((e,t)=>{var l;return(null===E||void 0===E||null===(l=E.list)||void 0===l?void 0:l.length)===t+1?(0,L.jsx)("div",{ref:I,children:(0,L.jsx)(dt,{issue:e,stid:n})},null===e||void 0===e?void 0:e._id):(0,L.jsx)(dt,{issue:e,stid:n},null===e||void 0===e?void 0:e._id)})),U?v?(0,L.jsx)(d.default,{}):(0,L.jsx)(c.Z,{}):v?0===(null===E||void 0===E||null===(l=E.list)||void 0===l?void 0:l.length)&&(0,L.jsx)(S.Z,{title:"No issue record found related this search."}):0===(null===E||void 0===E||null===(s=E.list)||void 0===s?void 0:s.length)&&(0,L.jsx)(S.Z,{title:"No issue record."})]})]}),q&&(0,L.jsx)(at,{instituteId:o,stid:n,onClose:B})]})},ct=e=>{var t,l,s,i,n,o,d,r,c,u,v,m,h,_,g,j,f,p,y;let{request:N}=e;const{t:S}=(0,x.$G)(),[b,C]=(0,a.useState)("");return(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)("div",{className:E.Z.smc_card,style:{flexDirection:"column",alignItems:"flex-start"},children:[(0,L.jsxs)("div",{className:E.Z.smccc_inner,children:[(0,L.jsxs)("div",{className:E.Z.smccc_inner,style:{flexDirection:"column",alignItems:"flex-start",gap:"0.2rem",width:"auto"},children:[(0,L.jsxs)("h6",{children:[S("quantity")," ",": ",null===N||void 0===N||null===(t=N.goods)||void 0===t?void 0:t.length]}),(0,L.jsxs)("h6",{children:[S("date_and_time")," ",": ",Ee()(null===N||void 0===N?void 0:N.created_at).format("DD/MM/YYYY"),", ",(0,Ue.J)(null===N||void 0===N?void 0:N.created_at,"LT")]})]}),(0,L.jsxs)("div",{className:E.Z.smccc_inner,style:{justifyContent:"flex-end",width:"auto"},children:[(0,L.jsx)(Z.Z,{label:S("approve"),customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:()=>C(1)}),(0,L.jsx)(Z.Z,{label:S("reject"),customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:()=>C(2)})]})]}),null===N||void 0===N||null===(l=N.goods)||void 0===l?void 0:l.map((e=>{var t,l,s;return(0,L.jsxs)("div",{className:E.Z.smccc_inner,children:[(0,L.jsxs)("p",{children:[S("name")," ",": ",null!==(t=null===e||void 0===e||null===(l=e.good)||void 0===l?void 0:l.goods_name)&&void 0!==t?t:""]}),(0,L.jsxs)("p",{children:[S("quantity")," ",": ",null!==(s=null===e||void 0===e?void 0:e.quantity)&&void 0!==s?s:""]})]},null===e||void 0===e?void 0:e._id)})),(0,L.jsx)("div",{className:E.Z.smccc_inner,style:{marginTop:"0.5rem"},children:null!==N&&void 0!==N&&N.request_by_custom?(0,L.jsxs)("h6",{children:[S("request_by")," ",": ",null!==(s=null===N||void 0===N||null===(i=N.request_by_custom)||void 0===i?void 0:i.good_head_name)&&void 0!==s?s:"",(0,L.jsxs)("span",{children:["-"," ","".concat(null!==(n=null===N||void 0===N||null===(o=N.request_by_custom)||void 0===o||null===(d=o.good_head_person)||void 0===d?void 0:d.staffFirstName)&&void 0!==n?n:""," ").concat(null!==(r=null===N||void 0===N||null===(c=N.request_by_custom)||void 0===c||null===(u=c.good_head_person)||void 0===u?void 0:u.staffMiddleName)&&void 0!==r?r:""," ").concat(null!==(v=null===N||void 0===N||null===(m=N.request_by_custom)||void 0===m||null===(h=m.good_head_person)||void 0===h?void 0:h.staffLastName)&&void 0!==v?v:"")]})]}):null!==N&&void 0!==N&&N.request_by_individual?(0,L.jsxs)("h6",{children:[S("request_by")," ",": ","".concat(null!==(_=null===N||void 0===N||null===(g=N.request_by_individual)||void 0===g?void 0:g.staffFirstName)&&void 0!==_?_:""," ").concat(null!==(j=null===N||void 0===N||null===(f=N.request_by_individual)||void 0===f?void 0:f.staffMiddleName)&&void 0!==j?j:""," ").concat(null!==(p=null===N||void 0===N||null===(y=N.request_by_individual)||void 0===y?void 0:y.staffLastName)&&void 0!==p?p:"")]}):null})]})})},ut=e=>{var t,l,s;let{stid:n,instituteId:o}=e;const r=(0,i.TH)(),{t:u}=(0,x.$G)(),[v,m]=(0,a.useState)(""),[h,g]=(0,a.useState)(1),[b,k]=(0,a.useState)(!0),[I,w]=(0,j.YD)({skip:v}),[q,T]=(0,a.useState)(!1),{storeStockIssueRequestList:E,storeStockIssueRequestListLoading:U}=(0,F.Zg)({data:{stid:n,page:h,limit:10,search:v},skip:!n});(0,a.useEffect)((()=>{w&&b&&g((e=>e+1))}),[w,b]),(0,a.useEffect)((()=>{var e;if(null!==E&&void 0!==E&&null!==(e=E.list)&&void 0!==e&&e.length){var t;let e=(0,f.f)(null===E||void 0===E||null===(t=E.list)||void 0===t?void 0:t.length);k((()=>e))}}),[null===E||void 0===E?void 0:E.list]);const A=(0,a.useCallback)((0,p.J)((e=>{g((()=>1)),m(e)}),1500),[]),B=()=>{T((e=>!e))};return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(H.default,{children:[(0,L.jsx)(N.default,{children:(0,L.jsxs)("div",{className:y.Z.fm_header_container,children:[(0,L.jsx)("h6",{children:u("store_issue")}),(0,L.jsxs)("div",{className:y.Z.fm_search,children:[(0,L.jsx)("section",{className:y.Z.fm_search_container,children:(0,L.jsxs)("div",{className:y.Z.fm_search_container_inner,children:[(0,L.jsx)("img",{className:y.Z.fm_search_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,L.jsx)("input",{type:"text",placeholder:u("search"),onChange:e=>{e.target.value?A(e.target.value):(g((()=>1)),m(""))}})]})}),(0,L.jsx)(Z.Z,{label:"issue_record",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:B})]})]})}),(0,L.jsx)(C.Z,{}),(0,L.jsx)(He,{parentState:r.state}),(0,L.jsxs)(N.default,{children:[null===E||void 0===E||null===(t=E.list)||void 0===t?void 0:t.map(((e,t)=>{var l;return(null===E||void 0===E||null===(l=E.list)||void 0===l?void 0:l.length)===t+1?(0,L.jsx)("div",{ref:I,children:(0,L.jsx)(ct,{request:e})},null===e||void 0===e?void 0:e._id):(0,L.jsx)(ct,{request:e},null===e||void 0===e?void 0:e._id)})),U?v?(0,L.jsx)(d.default,{}):(0,L.jsx)(c.Z,{}):v?0===(null===E||void 0===E||null===(l=E.list)||void 0===l?void 0:l.length)&&(0,L.jsx)(S.Z,{title:"No request found related this search."}):0===(null===E||void 0===E||null===(s=E.list)||void 0===s?void 0:s.length)&&(0,L.jsx)(S.Z,{title:"No request."})]})]}),q&&(0,L.jsx)(at,{instituteId:o,stid:n,onClose:B})]})},vt=e=>{let{stid:t,instituteId:l}=e;const[s]=(0,n.lr)();return(0,L.jsx)(L.Fragment,{children:"records"===s.get("n")?(0,L.jsx)(rt,{stid:t,instituteId:l}):(0,L.jsx)(ut,{stid:t,instituteId:l})})},mt=e=>{let{parentState:t}=e;const l=(0,i.UO)(),[s]=(0,n.lr)();return(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(oe.Z,{children:ht.map((e=>{var i;return(0,L.jsx)(ae.Z,{tab:e,isLink:!0,isActive:null===(i=e.groupIs)||void 0===i?void 0:i.includes(s.get("n")),parentState:t,url:"/q/".concat(l.username,"/member/staff/store?type=return").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,L.jsx)(C.Z,{customStyleBorder:{marginBlock:"0"}})]})})},ht=[{label:"request",id:"request",urlKey:"",groupIs:["",null]},{label:"return_record",id:"records",urlKey:"&n=records",groupIs:["records"]}],_t=e=>{var t,l;let{goods:s}=e;const{t:i}=(0,x.$G)();return(0,L.jsx)(L.Fragment,{children:(0,L.jsx)("div",{className:E.Z.smc_card,children:(0,L.jsxs)("div",{className:E.Z.smc_card_contatiner,children:[(0,L.jsx)("img",{src:null!==s&&void 0!==s&&s.good_icon?"".concat(B.yI,"/").concat(null===s||void 0===s?void 0:s.good_icon):"".concat(_.J7,"/category.svg"),alt:"categor good_icon"}),(0,L.jsxs)("div",{className:E.Z.smc_card_contatiner_inner,children:[(0,L.jsxs)("h6",{children:[i("name"),": ",null!==(t=null===s||void 0===s?void 0:s.goods_name)&&void 0!==t?t:""]}),(0,L.jsxs)("p",{children:[i("quantity")," ",": "," ",null!==(l=null===s||void 0===s?void 0:s.goods_volume)&&void 0!==l?l:""]})]})]})})})},gt=e=>{var t,l,s,i;let{rid:n,onClose:o}=e;const{t:r}=(0,x.$G)(),[u,v]=(0,a.useState)(""),[m,h]=(0,a.useState)(1),[g,y]=(0,a.useState)(!0),[Z,k]=(0,j.YD)({skip:u}),{storeReturnGoodsList:I,storeReturnGoodsListLoading:w}=(0,F.kh)({data:{rid:n,page:m,limit:10,search:u},skip:!n});(0,a.useEffect)((()=>{k&&g&&h((e=>e+1))}),[k,g]),(0,a.useEffect)((()=>{var e;if(null!==I&&void 0!==I&&null!==(e=I.list)&&void 0!==e&&e.length){var t;let e=(0,f.f)(null===I||void 0===I||null===(t=I.list)||void 0===t?void 0:t.length);y((()=>e))}}),[null===I||void 0===I||null===(t=I.list)||void 0===t?void 0:t.length]);const q=(0,a.useCallback)((0,p.J)((e=>{h((()=>1)),v(e)}),1500),[]);return(0,L.jsx)(b.Z,{onClose:o,children:(0,L.jsxs)("div",{className:fe.Z.modal_container,children:[(0,L.jsx)(N.default,{children:(0,L.jsxs)("div",{className:fe.Z.modal_container_outer_header,children:[(0,L.jsx)("div",{className:fe.Z.modal_container_header,children:(0,L.jsx)("h6",{children:r("issue_goods_list")})}),(0,L.jsx)("img",{src:"".concat(_.J7,"/close.svg"),alt:"close icon",onClick:o})]})}),(0,L.jsx)(C.Z,{customStyleBorder:{marginBottom:"0"}}),(0,L.jsxs)(N.default,{customStyle:{paddingBottom:"1rem"},children:[(0,L.jsxs)("div",{className:fe.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,L.jsx)("input",{type:"text",placeholder:r("search"),className:fe.Z.assign_search_input,onChange:e=>{e.target.value?q(e.target.value):(h((()=>1)),v(""))},style:{width:"100%"}}),(0,L.jsx)("img",{src:"".concat(_.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===I||void 0===I||null===(l=I.list)||void 0===l?void 0:l.map(((e,t)=>{var l;return(null===I||void 0===I||null===(l=I.list)||void 0===l?void 0:l.length)===t+1?(0,L.jsx)("div",{ref:Z,children:(0,L.jsx)(_t,{goods:e})},null===e||void 0===e?void 0:e._id):(0,L.jsx)(_t,{goods:e},null===e||void 0===e?void 0:e._id)})),w?u?(0,L.jsx)(d.default,{}):(0,L.jsx)(c.Z,{}):u?0===(null===I||void 0===I||null===(s=I.list)||void 0===s?void 0:s.length)&&(0,L.jsx)(S.Z,{title:"No goods found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===I||void 0===I||null===(i=I.list)||void 0===i?void 0:i.length)&&(0,L.jsx)(S.Z,{title:"No goods.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})},xt=e=>{var t,l,s,i;let{unit:n,retRecord:o}=e;const{t:d}=(0,x.$G)(),[r,c]=(0,a.useState)(!1),u=()=>{c((e=>!e))};return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("div",{className:E.Z.smc_card,children:(0,L.jsxs)("div",{className:E.Z.smc_card_contatiner,style:{justifyContent:"space-between",width:"100%"},children:[(0,L.jsxs)("div",{className:E.Z.smc_card_contatiner,children:[(0,L.jsx)("img",{src:null!==n&&void 0!==n&&null!==(t=n.good_head_person)&&void 0!==t&&t.staffProfilePhoto?"".concat(B.yI,"/").concat(null===n||void 0===n||null===(l=n.good_head_person)||void 0===l?void 0:l.staffProfilePhoto):"".concat(_.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar",style:{height:"2.3rem",width:"2.3rem",borderRadius:"50%"}}),(0,L.jsxs)("div",{className:E.Z.smc_card_contatiner_inner,children:[(0,L.jsxs)("h6",{children:[d("good_title_person")," ",": "," ",null!==(s=null===n||void 0===n?void 0:n.good_title_person)&&void 0!==s?s:"",", ",d("good_head_name")," ",": "," ",null!==(i=null===n||void 0===n?void 0:n.good_head_name)&&void 0!==i?i:""]}),(0,L.jsxs)("p",{style:{fontSize:"12px"},children:[d("return_on")," ",": "," ",Ee()().format("DD/MM/YYYY")]})]})]}),(0,L.jsx)(Z.Z,{label:"return_goods",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:u})]})}),r&&(0,L.jsx)(gt,{rid:null===o||void 0===o?void 0:o._id,onClose:u})]})},jt=e=>{var t,l,s;let{stid:n,instituteId:o}=e;const r=(0,i.TH)(),{t:u}=(0,x.$G)(),[v,m]=(0,a.useState)(""),[h,g]=(0,a.useState)(1),[Z,b]=(0,a.useState)(!0),[k,I]=(0,j.YD)({skip:v}),{storeReturnList:w,storeReturnListLoading:q}=(0,F.pn)({data:{stid:n,page:h,limit:10,search:v},skip:!n});(0,a.useEffect)((()=>{I&&Z&&g((e=>e+1))}),[I,Z]),(0,a.useEffect)((()=>{var e;if(null!==w&&void 0!==w&&null!==(e=w.list)&&void 0!==e&&e.length){var t;let e=(0,f.f)(null===w||void 0===w||null===(t=w.list)||void 0===t?void 0:t.length);b((()=>e))}}),[null===w||void 0===w?void 0:w.list]);const T=(0,a.useCallback)((0,p.J)((e=>{g((()=>1)),m(e)}),1500),[]);return(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(H.default,{children:[(0,L.jsx)(N.default,{children:(0,L.jsxs)("div",{className:y.Z.fm_header_container,children:[(0,L.jsx)("h6",{children:u("store_return")}),(0,L.jsx)("div",{className:y.Z.fm_search,children:(0,L.jsx)("section",{className:y.Z.fm_search_container,children:(0,L.jsxs)("div",{className:y.Z.fm_search_container_inner,children:[(0,L.jsx)("img",{className:y.Z.fm_search_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,L.jsx)("input",{type:"text",placeholder:u("search"),onChange:e=>{e.target.value?T(e.target.value):(g((()=>1)),m(""))}})]})})})]})}),(0,L.jsx)(C.Z,{}),(0,L.jsx)(mt,{parentState:r.state}),(0,L.jsxs)(N.default,{children:[null===w||void 0===w||null===(t=w.list)||void 0===t?void 0:t.map(((e,t)=>{var l;return(null===w||void 0===w||null===(l=w.list)||void 0===l?void 0:l.length)===t+1?(0,L.jsx)("div",{ref:k,children:(0,L.jsx)(xt,{retRecord:e,stid:n})},null===e||void 0===e?void 0:e._id):(0,L.jsx)(xt,{retRecord:e,stid:n},null===e||void 0===e?void 0:e._id)})),q?v?(0,L.jsx)(d.default,{}):(0,L.jsx)(c.Z,{}):v?0===(null===w||void 0===w||null===(l=w.list)||void 0===l?void 0:l.length)&&(0,L.jsx)(S.Z,{title:"No return record found related this search."}):0===(null===w||void 0===w||null===(s=w.list)||void 0===s?void 0:s.length)&&(0,L.jsx)(S.Z,{title:"No return record."})]})]})})},ft=e=>{let{stid:t,instituteId:l}=e;const s=(0,i.TH)(),{t:n}=(0,x.$G)(),[o,d]=(0,a.useState)(""),[r,c]=(0,a.useState)(1),[u,v]=(0,a.useState)(!0),[m,h]=(0,j.YD)({skip:o}),g=(0,a.useCallback)((0,p.J)((e=>{c((()=>1)),d(e)}),1500),[]);return(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(H.default,{children:[(0,L.jsx)(N.default,{children:(0,L.jsxs)("div",{className:y.Z.fm_header_container,children:[(0,L.jsx)("h6",{children:n("store_return")}),(0,L.jsx)("div",{className:y.Z.fm_search,children:(0,L.jsx)("section",{className:y.Z.fm_search_container,children:(0,L.jsxs)("div",{className:y.Z.fm_search_container_inner,children:[(0,L.jsx)("img",{className:y.Z.fm_search_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,L.jsx)("input",{type:"text",placeholder:n("search"),onChange:e=>{e.target.value?g(e.target.value):(c((()=>1)),d(""))}})]})})})]})}),(0,L.jsx)(C.Z,{}),(0,L.jsx)(mt,{parentState:s.state}),(0,L.jsx)(N.default,{})]})})},pt=e=>{let{stid:t,instituteId:l}=e;const[s]=(0,n.lr)();return(0,L.jsx)(L.Fragment,{children:"records"===s.get("n")?(0,L.jsx)(jt,{stid:t,instituteId:l}):(0,L.jsx)(ft,{stid:t,instituteId:l})})},yt=e=>{let{stid:t,instituteId:l}=e;const{t:s}=(0,x.$G)(),[i,n]=(0,a.useState)(!1),[o]=(0,F.FR)();return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(H.default,{children:[(0,L.jsx)(N.default,{children:(0,L.jsxs)("div",{className:y.Z.fm_header_container,children:[(0,L.jsx)("h6",{children:s("store_qr")}),(0,L.jsx)(Z.Z,{label:"generate_qr",customStyle:{paddingBlock:"0.4rem",margin:"0"},onAction:()=>{t&&(n((e=>!e)),o({stid:t}).then((()=>{n((e=>!e))})).catch({}))}})]})}),(0,L.jsx)(C.Z,{})]}),i&&(0,L.jsx)(d.default,{})]})},Zt=()=>{var e,t,l,s,u,v,m,h,_,g,x,j,f,p,y,Z,N,S,b,C;const k=(0,i.TH)(),[I]=(0,n.lr)(),{storeDashboardMaster:w,storeDashboardMasterLoading:q}=(0,F.ki)({data:{stid:null===(e=k.state)||void 0===e?void 0:e.stid,mid:""},skip:!(null!==(t=k.state)&&void 0!==t&&t.stid)});return(0,L.jsx)(L.Fragment,{children:(0,L.jsx)(o.default,{children:(0,L.jsx)(a.Suspense,{fallback:(0,L.jsx)(d.default,{}),children:!I.get("type")||null!==(l=["day-book","masters"])&&void 0!==l&&l.includes(I.get("type"))?(0,L.jsxs)(r.Z,{children:[(0,L.jsx)(Y,{tabManage:null===w||void 0===w?void 0:w.tab_manage}),q&&(0,L.jsx)(c.Z,{})]}):"unit"===I.get("type")?(0,L.jsx)(se,{instituteId:null===w||void 0===w||null===(s=w.institute)||void 0===s?void 0:s._id,fid:null===w||void 0===w||null===(u=w.institute)||void 0===u||null===(v=u.financeDepart)||void 0===v?void 0:v[0]}):"individual-staff"===I.get("type")?(0,L.jsx)(ne,{instituteId:null===w||void 0===w||null===(m=w.institute)||void 0===m?void 0:m._id}):"stock"===I.get("type")?(0,L.jsx)(we,{instituteId:null===w||void 0===w||null===(h=w.institute)||void 0===h?void 0:h._id,stid:null===(_=k.state)||void 0===_?void 0:_.stid}):"store-department"===I.get("type")?(0,L.jsx)(xe,{instituteId:null===w||void 0===w||null===(g=w.institute)||void 0===g?void 0:g._id}):"store-unit-custom"===I.get("type")?(0,L.jsx)(qe,{instituteId:null===w||void 0===w||null===(x=w.institute)||void 0===x?void 0:x._id}):"store-individual"===I.get("type")?(0,L.jsx)(Fe,{instituteId:null===w||void 0===w||null===(j=w.institute)||void 0===j?void 0:j._id}):"store-cls"===I.get("type")?(0,L.jsx)(Le,{instituteId:null===w||void 0===w||null===(f=w.institute)||void 0===f?void 0:f._id}):"store-stock"===I.get("type")?(0,L.jsx)($e,{instituteId:null===w||void 0===w||null===(p=w.institute)||void 0===p?void 0:p._id}):"issue"===I.get("type")?(0,L.jsx)(vt,{instituteId:null===w||void 0===w||null===(y=w.institute)||void 0===y?void 0:y._id,stid:null===(Z=k.state)||void 0===Z?void 0:Z.stid}):"return"===I.get("type")?(0,L.jsx)(pt,{instituteId:null===w||void 0===w||null===(N=w.institute)||void 0===N?void 0:N._id,stid:null===(S=k.state)||void 0===S?void 0:S.stid}):"qr"===I.get("type")?(0,L.jsx)(yt,{instituteId:null===w||void 0===w||null===(b=w.institute)||void 0===b?void 0:b._id,stid:null===(C=k.state)||void 0===C?void 0:C.stid}):null})})})},Nt=()=>{var e,t,l,n,o;const a=(0,i.TH)();return(0,L.jsx)(s.Z,{index:null!==a&&void 0!==a&&null!==(e=a.state)&&void 0!==e&&e.role?"81":"80",sid:null!==(t=null===a||void 0===a||null===(l=a.state)||void 0===l?void 0:l.sid)&&void 0!==t?t:"",onClickValue:null!==(n=null===a||void 0===a||null===(o=a.state)||void 0===o?void 0:o.onClickValue)&&void 0!==n?n:"",children:(0,L.jsx)(Zt,{})})}},90702:(e,t,l)=>{l.d(t,{Z:()=>y});var s=l(49806),i=l(38857),n=l(21348),o=l(90904),a=l(98684),d=l(39230),r=l(72791),c=l(23441),u=l(91427),v=l(57588),m=l(6758),h=l(1095),_=l(80184);const g=e=>{var t,l,i,n,r,c;let{staff:u,selectedId:v,onSelect:m,selectList:g,isMultiSelect:x,onMultiSelect:j}=e;const{t:f}=(0,d.$G)();return(0,_.jsxs)(_.Fragment,{children:[x?(0,_.jsxs)("div",{className:s.Z.assign_show_list_each,onClick:()=>{j(u)},children:[null!==g&&void 0!==g&&g.includes(null===u||void 0===u?void 0:u._id)?(0,_.jsx)("img",{src:"".concat(a.U_,"/check.svg"),alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,_.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"".concat(a.U_,"/uncheck.svg"),alt:"icon"}),(0,_.jsx)("img",{src:null!==u&&void 0!==u&&u.staffProfilePhoto?"".concat(h.yI,"/").concat(u.staffProfilePhoto):"".concat(a.p3,"/feed-staff-avatar.svg"),alt:"profile avatar"}),(0,_.jsxs)("div",{className:s.Z.assign_each_paragraph,children:[(0,_.jsx)("h6",{children:"".concat(null!==(t=null===u||void 0===u?void 0:u.staffFirstName)&&void 0!==t?t:""," ").concat(null!==(l=null===u||void 0===u?void 0:u.staffMiddleName)&&void 0!==l?l:""," ").concat(null!==(i=null===u||void 0===u?void 0:u.staffLastName)&&void 0!==i?i:"")}),(0,_.jsxs)("p",{children:[f("index_number")," "," : ",null===u||void 0===u?void 0:u.staffROLLNO]})]})]}):(0,_.jsxs)("div",{className:s.Z.assign_show_list_each,style:v===(null===u||void 0===u?void 0:u._id)?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:null,onClick:()=>{m(u)},children:[(0,_.jsx)("img",{src:null!==u&&void 0!==u&&u.staffProfilePhoto?"".concat(h.yI,"/").concat(u.staffProfilePhoto):"".concat(a.p3,"/feed-staff-avatar.svg"),alt:"profile avatar"}),(0,_.jsxs)("div",{className:s.Z.assign_each_paragraph,children:[(0,_.jsx)("h6",{children:"".concat(null!==(n=null===u||void 0===u?void 0:u.staffFirstName)&&void 0!==n?n:""," ").concat(null!==(r=null===u||void 0===u?void 0:u.staffMiddleName)&&void 0!==r?r:""," ").concat(null!==(c=null===u||void 0===u?void 0:u.staffLastName)&&void 0!==c?c:"")}),(0,_.jsxs)("p",{children:[f("index_number")," "," : ",null===u||void 0===u?void 0:u.staffROLLNO]})]})]}),(0,_.jsx)(o.Z,{customStyleBorder:{margin:"0"}})]})};var x=l(55336),j=l(1669),f=l(2651),p=l(93638);const y=e=>{var t,l,h,y;let{title:Z,onClose:N,selectedId:S,onSelectStaff:b,instituteId:C,isMultiSelect:k,onMultiSelect:I,selectList:w,onDone:q}=e;const{t:F}=(0,d.$G)(),[L,T]=(0,r.useState)(""),[E,U]=(0,r.useState)(1),[A,B]=(0,r.useState)(!0),[G,P]=(0,c.YD)({skip:L}),{instituteAllStaff:D,instituteAllStaffLoading:M}=(0,m.nb)({data:{id:C,page:E,limit:10,search:L},skip:!C});(0,r.useEffect)((()=>{P&&A&&U((e=>e+1))}),[P,A]),(0,r.useEffect)((()=>{var e;if(null!==D&&void 0!==D&&null!==(e=D.list)&&void 0!==e&&e.length){var t;let e=(0,u.f)(null===D||void 0===D||null===(t=D.list)||void 0===t?void 0:t.length);B((()=>e))}}),[null===D||void 0===D||null===(t=D.list)||void 0===t?void 0:t.length]);const z=(0,r.useCallback)((0,v.J)((e=>{U((()=>1)),T(e)}),1500),[]),J=e=>{S===(null===e||void 0===e?void 0:e._id)||b(e)};return(0,_.jsx)(i.Z,{onClose:N,children:(0,_.jsxs)("div",{className:s.Z.modal_container,children:[(0,_.jsx)(n.default,{children:(0,_.jsxs)("div",{className:s.Z.modal_container_outer_header,children:[(0,_.jsx)("div",{className:s.Z.modal_container_header,children:(0,_.jsx)("h6",{children:F(null!==Z&&void 0!==Z?Z:"staff_list")})}),(0,_.jsxs)("div",{className:s.Z.modal_container_btn_container,children:[k&&(0,_.jsx)(p.Z,{label:F("select"),count:null===w||void 0===w?void 0:w.length,onAction:q,customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,_.jsx)("img",{src:"".concat(a.J7,"/close.svg"),alt:"close icon",onClick:N})]})]})}),(0,_.jsx)(o.Z,{}),(0,_.jsxs)(n.default,{customStyle:{paddingBottom:"1rem"},children:[(0,_.jsxs)("div",{className:s.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,_.jsx)("input",{type:"text",placeholder:F("search"),className:s.Z.assign_search_input,onChange:e=>{e.target.value?z(e.target.value):(U((()=>1)),T(""))},style:{width:"100%"}}),(0,_.jsx)("img",{src:"".concat(a.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===D||void 0===D||null===(l=D.list)||void 0===l?void 0:l.map(((e,t)=>{var l;return(null===D||void 0===D||null===(l=D.list)||void 0===l?void 0:l.length)===t+1?(0,_.jsx)("div",{ref:G,children:(0,_.jsx)(g,{staff:e,selectedId:S,onSelect:J,selectList:w,isMultiSelect:k,onMultiSelect:I})},null===e||void 0===e?void 0:e._id):(0,_.jsx)(g,{staff:e,selectedId:S,onSelect:J,selectList:w,isMultiSelect:k,onMultiSelect:I},null===e||void 0===e?void 0:e._id)})),M?L?(0,_.jsx)(x.default,{}):(0,_.jsx)(j.Z,{}):L?0===(null===D||void 0===D||null===(h=D.list)||void 0===h?void 0:h.length)&&(0,_.jsx)(f.Z,{title:"No staff found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===D||void 0===D||null===(y=D.list)||void 0===y?void 0:y.length)&&(0,_.jsx)(f.Z,{title:"No staff.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})}},2651:(e,t,l)=>{l.d(t,{Z:()=>n});var s=l(15783),i=l(80184);const n=e=>{let{title:t,subtitle:l,customStyleContainer:n,costomTextTitleStyle:o,costomTextSubtitleStyle:a}=e;return(0,i.jsxs)("div",{className:s.Z.empty_container,style:n,children:[t&&(0,i.jsx)("h6",{style:o,children:t}),l&&(0,i.jsx)("p",{style:a,children:l})]})}},57588:(e,t,l)=>{l.d(t,{J:()=>s});const s=(e,t)=>{let l;return function(){let s=this,i=arguments;clearTimeout(l),l=setTimeout((()=>{e.apply(s,i)}),t)}}},91427:(e,t,l)=>{l.d(t,{f:()=>s});const s=e=>e%10===0},49806:(e,t,l)=>{l.d(t,{Z:()=>s});const s={modal_container:"PlateformUser_modal_container__tqwpY",modal_container_outer_header:"PlateformUser_modal_container_outer_header__HbF+9",modal_container_header:"PlateformUser_modal_container_header__QzyxM",modal_container_btn_container:"PlateformUser_modal_container_btn_container__3SJ8i",modal_container_header_btn:"PlateformUser_modal_container_header_btn__dWfwA",assign_search_container:"PlateformUser_assign_search_container__dJdYj",assign_search_input:"PlateformUser_assign_search_input__aFF28",assign_show_list_each:"PlateformUser_assign_show_list_each__co2b1",assign_show_list_each_active:"PlateformUser_assign_show_list_each_active__SWwFS",assign_each_paragraph:"PlateformUser_assign_each_paragraph__bDgq6",close_icon:"PlateformUser_close_icon__VXKXH",comfirm_box:"PlateformUser_comfirm_box__ntFD7",modal_container_btn:"PlateformUser_modal_container_btn__BWFB9"}},2034:(e,t,l)=>{l.d(t,{Z:()=>s});const s={smc_card:"StoreManager_smc_card__eEs0G",smc_card_active:"StoreManager_smc_card_active__Im3Y7",smc_card_contatiner:"StoreManager_smc_card_contatiner__ese7w",smccc_inner:"StoreManager_smccc_inner__qlGyG",smc_card_contatiner_inner:"StoreManager_smc_card_contatiner_inner__fU6mu",menu_icon:"StoreManager_menu_icon__CGeq4"}}}]);
//# sourceMappingURL=50939.cc5f8572.chunk.js.map