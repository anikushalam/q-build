"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[96358],{96358:(e,l,t)=>{t.r(l),t.d(l,{default:()=>Z});var i=t(72791),s=t(56959),d=t(23441),n=t(91427),a=t(57588),o=t(63687),c=t(21348),r=t(90904),u=t(55336),f=t(1669),v=t(2651),h=t(36132),m=t(39230),_=t(98684),x=t(59303),j=t(90702),S=t(80184);const g=e=>{let{instituteId:l,modId:t,onRefetch:s,onClose:d}=e;const[n,a]=(0,i.useState)([]),[o,c]=(0,i.useState)([]),[r,f]=(0,i.useState)(!1),[v]=(0,h.J$)();return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(j.Z,{title:"add_staff",onClose:d,instituteId:l,isMultiSelect:!0,onMultiSelect:e=>{null!==n&&void 0!==n&&n.includes(null===e||void 0===e?void 0:e._id)?a((l=>null===l||void 0===l?void 0:l.filter((l=>l!==(null===e||void 0===e?void 0:e._id))))):a((l=>[...l,null===e||void 0===e?void 0:e._id]))},selectList:[...n,...o],onDone:()=>{t&&(null===n||void 0===n?void 0:n.length)>0&&(f((e=>!e)),v({mid:t,addStaff:{flow:"Recommend_Section",staff_arr:n}}).then((()=>{s(),f((e=>!e)),d()})).catch({}))}}),r&&(0,S.jsx)(u.default,{})]})};var p=t(93638);const Z=e=>{var l,t,j;let{modId:Z,instituteId:k}=e;const{t:I}=(0,m.$G)(),[R,C]=(0,i.useState)(""),[b,w]=(0,i.useState)(1),[N,L]=(0,i.useState)(!0),[M,y]=(0,d.YD)({skip:R}),[A,q]=(0,i.useState)(!1),{lmsModeratorAllStaffList:D,lmsModeratorAllStaffListLoading:E,lmsModeratorAllStaffListRefetch:J}=(0,h.Ob)({data:{mid:Z,page:b,limit:10,search:R,flow:"Recommend_Section"},skip:!Z});(0,i.useEffect)((()=>{y&&N&&w((e=>e+1))}),[y,N]),(0,i.useEffect)((()=>{var e;if(null!==D&&void 0!==D&&null!==(e=D.list)&&void 0!==e&&e.length){var l;let e=(0,n.f)(null===D||void 0===D||null===(l=D.list)||void 0===l?void 0:l.length);L((()=>e))}}),[null===D||void 0===D?void 0:D.list]);const $=(0,i.useCallback)((0,a.J)((e=>{w((()=>1)),C(e)}),1500),[]),B=(0,i.useCallback)((()=>{w((()=>1)),C(""),J()}),[J]),F=()=>{q((e=>!e))};return(0,S.jsxs)(o.default,{children:[(0,S.jsx)(c.default,{children:(0,S.jsxs)("div",{className:s.Z.fm_header_container,children:[(0,S.jsx)("h6",{children:I("all_staffs")}),(0,S.jsxs)("div",{className:s.Z.fm_search,children:[(0,S.jsx)("section",{className:s.Z.fm_search_container,children:(0,S.jsxs)("div",{className:s.Z.fm_search_container_inner,children:[(0,S.jsx)("img",{className:s.Z.fm_search_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,S.jsx)("input",{type:"text",placeholder:I("search"),onChange:e=>{e.target.value?$(e.target.value):(w((()=>1)),C(""))}})]})}),(0,S.jsx)(p.Z,{label:I("add_new_staff"),customStyle:{margin:"0",padding:"0.4rem 1rem"},onAction:F})]})]})}),(0,S.jsx)(r.Z,{}),(0,S.jsxs)(c.default,{children:[null===D||void 0===D||null===(l=D.list)||void 0===l?void 0:l.map(((e,l)=>{var t;return(null===D||void 0===D||null===(t=D.list)||void 0===t?void 0:t.length)===l+1?(0,S.jsx)("div",{ref:M,children:(0,S.jsx)(x.Z,{staff:e,onRefetch:B,flow:"Recommend_Section",modId:Z})},null===e||void 0===e?void 0:e._id):(0,S.jsx)(x.Z,{staff:e,onRefetch:B,flow:"Recommend_Section",modId:Z},null===e||void 0===e?void 0:e._id)})),E?R?(0,S.jsx)(u.default,{}):(0,S.jsx)(f.Z,{}):R?0===(null===D||void 0===D||null===(t=D.list)||void 0===t?void 0:t.length)&&(0,S.jsx)(v.Z,{title:"No staff leave history found related this search."}):0===(null===D||void 0===D||null===(j=D.list)||void 0===j?void 0:j.length)&&(0,S.jsx)(v.Z,{title:"No staff leave history."}),A&&(0,S.jsx)(g,{instituteId:k,modId:Z,onRefetch:B,onClose:F})]})]})}}}]);
//# sourceMappingURL=96358.ea7a5a1d.chunk.js.map