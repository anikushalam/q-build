"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[2602],{2602:(t,e,n)=>{n.r(e),n.d(e,{default:()=>m});var s=n(72791),i=n(95048),o=n(16256),r=n(39480),c=n(9447),l=n(12923),a=n(70092);const u="Menu_profileToolTip__syFxM",d="Menu_profileToolTipPopup__BnSgN",p="Menu_triangle__drjgu",h="Menu_trianglePopup__CdR-r",f="Menu_triangleNotPopup__FxBQr",v="Menu_profilelist__gZkQm";var _=n(39230),k=n(80184);const m=function(t){let{options:e,authorId:n,setDotsClicked:m,pid:g,postType:w,status:y,commentStatus:S,allPosts:L,popup:R}=t;const{t:x}=(0,_.$G)(),O=(0,i.v9)((t=>t.idChange)),[A,F]=s.useState(!0),M=(0,i.I0)(),[I]=(0,l.yx)(),[P]=(0,c.z$)(),[C]=(0,c.MB)(),[N]=(0,c.IG)(),[T]=(0,c.bB)(),{oneInstituteProfileRefetch:U}=(0,r.p0)({data:{id:null===O||void 0===O?void 0:O.id,type:"ID"},skip:A}),j=(0,s.useRef)(null),z=t=>{if("post_unfollow"===t){const t=(t=>{const e=[];for(let n=0;n<(null===L||void 0===L?void 0:L.length);n++)L[n].author!==t&&e.push(L[n]);return e})(n);M(a.p.unfollowPost({posts:t})),m(!1),I({followId:n}).then((()=>{})).catch({})}else"post_visibility"===t?(M(a.p.changeVisibility({pid:g,status:"Anyone"===y?"Private":"Anyone"})),m(!1),P({pid:g,viewAs:o.UJ,postUpdate:{postStatus:"Anyone"===y?"Private":"Anyone"}}).then((()=>{})).catch({})):"post_delete"===t?(M(a.p.deletePost({pid:g})),m(!1),"Question"===w?N({id:null===O||void 0===O?void 0:O.id,viewAs:o.UJ,pid:g}).then((()=>{})).catch({}):C({id:null===O||void 0===O?void 0:O.id,viewAs:o.UJ,pid:g}).then((()=>{F(!1),U()})).catch({})):"turn_off_comment"===t&&(M(a.p.turnOffComment({pid:g,status:"On"===S?"Off":"On"})),m(!1),T({pid:g,commentFeature:{comment_turned:"On"===S?"Off":"On"}}).then((()=>{})).catch({}))},b=t=>{t.target.style.zIndex&&"50"===t.target.style.zIndex||m(!1)};return(0,s.useEffect)((()=>(document.addEventListener("click",b,!0),()=>{document.removeEventListener("click",b,!0)})),[]),(0,k.jsxs)("div",{className:R?"".concat(u," ").concat(d):u,id:"menuTooltip",children:[(0,k.jsx)("div",{className:R?"".concat(p," ").concat(h):"".concat(p," ").concat(f)}),(0,k.jsx)("div",{className:v,children:e.map(((t,e)=>(0,k.jsx)("div",{ref:j,style:{zIndex:"50"},value:t,onClick:()=>z(t),children:x(t)},e)))})]})}},12923:(t,e,n)=>{n.d(e,{Ec:()=>g,Em:()=>S,JM:()=>h,NS:()=>o,Pg:()=>f,Q_:()=>m,RH:()=>p,Tv:()=>l,U_:()=>k,VN:()=>r,Wj:()=>u,ZS:()=>d,_8:()=>w,d5:()=>a,tB:()=>_,vI:()=>y,yx:()=>c,zO:()=>v});var s=n(91007),i=n(58208);const o=t=>{const{data:e,refetch:n}=(0,i.YD)(t.search,{skip:t.skip});return{instituteAllSearch:e,instituteAllSearchRefetch:n}},r=()=>{const[t]=(0,i.ak)();return[t]},c=()=>{const[t]=(0,i.WL)();return[t]},l=t=>{const{data:e,refetch:n}=(0,i.pH)(t.list,{skip:t.skip});return{instituteFollowList:e,instituteFollowListRefetch:n}},a=t=>{const{data:e,refetch:n}=(0,i.MG)(t.data,{skip:t.skip});return{instituteOwnFollowingList:e,instituteOwnFollowingListRefetch:n}},u=()=>{const[t]=(0,i.Ky)();return[t]},d=t=>{const{data:e,refetch:n}=(0,i.p8)(t.list);return{userFollowList:e,userFollowListRefetch:n}},p=t=>{const{data:e,refetch:n}=(0,i.Wv)(t);return{userFollowingList:e,userFollowingListRefetch:n}},h=t=>{const{data:e,refetch:n}=(0,i.sz)(t.search,{skip:t.skip});return{userAllSearch:e,userAllSearchRefetch:n}},f=()=>{const[t]=(0,i.Mk)();return[t]},v=()=>{const[t]=(0,i.$i)();return[t]},_=()=>{const[t]=(0,i.Do)();return[t]},k=()=>{const[t]=(0,i.He)();return[t]},m=()=>{const[t]=(0,i.vg)();return[t]},g=()=>{const[t]=(0,i.OO)();return[t]},w=t=>{const{data:e,refetch:n}=(0,i.N2)(t);return{userCircleList:e,userCircleListRefetch:n}},y=t=>{const{data:e,refetch:n}=(0,s.x6)(t.search,{skip:t.skip});return{assignSearchStaff:e,assignSearchStaffRefetch:n}},S=t=>{const{data:e,refetch:n}=(0,i.SJ)(t);return{universalUser:e,universalUserRefetch:n}}}}]);
//# sourceMappingURL=2602.a3698b83.chunk.js.map