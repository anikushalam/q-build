"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[98594],{11728:(e,l,n)=>{n.d(l,{F5:()=>a,TW:()=>s,Vf:()=>d,Wt:()=>t,XT:()=>o,sY:()=>i});const t=[{key:"ALL_BATCH",name:"all_batches"},{key:"ACTIVE_BATCH",name:"active_batches"}],i=[{key:"ALL",name:"all_departments"},{key:"PARTICULAR",name:"particular_department"}],s=[{key:"ALL_BATCH",name:"all_batches"},{key:"PARTICULAR_BATCH",name:"particular_batch"}],a=[{key:"All",name:"all_departments"},{key:"Particular",name:"particular_department"}],d=[{key:"All",name:"all_batches"},{key:"Current",name:"current"},{key:"Particular",name:"particular_batch"}],o=[{key:"All",name:"all_batches"},{key:"Current",name:"current"}]},33030:(e,l,n)=>{n.d(l,{Z:()=>a});var t=n(39230),i=n(80476),s=n(80184);const a=e=>{let{label:l,onAction:n,customStyle:a}=e;const{t:d}=(0,t.$G)();return(0,s.jsx)("div",{className:i.Z.btn_container,onClick:()=>{n()},style:a,children:d(l)})}},23984:(e,l,n)=>{n.d(l,{Z:()=>s});var t=n(80476),i=n(80184);const s=e=>{let{customStyle:l,children:n}=e;return(0,i.jsx)("div",{className:t.Z.btn_wrapper,style:l,children:n})}},35483:(e,l,n)=>{n.d(l,{Z:()=>j});var t=n(39230),i=n(49806),s=n(48293),a=n(21348),d=n(98684),o=n(90904),c=n(6758),r=n(80184);const v=e=>{var l;let{department:n,onSelect:t,selectedId:s}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:null!==s&&void 0!==s&&s.includes(null===n||void 0===n?void 0:n._id)?"".concat(i.Z.assign_show_list_each," ").concat(i.Z.assign_show_list_each_active):i.Z.assign_show_list_each,onClick:()=>{t(n)},children:[(0,r.jsx)("img",{src:"".concat(d.J7,"/department.svg"),alt:"department icon"}),(0,r.jsx)("div",{className:i.Z.assign_each_paragraph,children:(0,r.jsx)("h6",{children:null!==(l=null===n||void 0===n?void 0:n.dName)&&void 0!==l?l:""})})]}),(0,r.jsx)(o.Z,{customStyleBorder:{margin:"0"}})]})};var u=n(72791),m=n(20659),h=n(26071),_=n(11728),x=n(1669),f=n(55336),g=n(2651);const j=e=>{let{onClose:l,onSelect:n,fid:j,isType:Z,isMultiple:S,selectedId:N,onDone:C}=e;const{t:y}=(0,t.$G)(),[A,k]=(0,u.useState)([]),[b,T]=(0,u.useState)(""),[I,L]=(0,u.useState)(""),{instituteAllDepartment:B,instituteAllDepartmentLoading:w}=(0,c.Jv)({fid:j,skip:!j});(0,u.useEffect)((()=>{null!==B&&void 0!==B&&B.length&&k(B)}),[null===B||void 0===B?void 0:B.length]);const E=e=>{n(e)},D=e=>{"ALL"===e&&n(e),T(e)};return(0,r.jsx)(s.Z,{onClose:l,children:(0,r.jsxs)("div",{className:i.Z.modal_container,children:[(0,r.jsx)(a.Z,{children:(0,r.jsxs)("div",{className:i.Z.modal_container_outer_header,children:[(0,r.jsx)("div",{className:i.Z.modal_container_header,children:(0,r.jsx)("h6",{children:y("select_department")})}),S?(0,r.jsxs)("div",{className:i.Z.modal_container_btn_container,children:[(0,r.jsxs)("div",{className:i.Z.modal_container_btn,onClick:()=>{C(),l()},children:[(null===N||void 0===N?void 0:N.length)>0?"".concat(null===N||void 0===N?void 0:N.length," "):"",y("select")]}),(0,r.jsx)("img",{src:"".concat(d.J7,"/close.svg"),alt:"close icon",onClick:l})]}):(0,r.jsx)("img",{src:"".concat(d.J7,"/close.svg"),alt:"close icon",onClick:l})]})}),(0,r.jsx)(o.Z,{}),(0,r.jsxs)(a.Z,{customStyle:{paddingTop:"0",paddingBottom:"1rem"},children:[(0,r.jsxs)("div",{className:i.Z.assign_search_container,style:{marginBottom:"0.8rem"},children:[(0,r.jsx)("input",{type:"text",placeholder:y("search"),className:i.Z.assign_search_input,onChange:e=>{if(e.target.value){let l=p(B,e.target.value);k(l),L(e.target.value)}else k(B),L("")}}),(0,r.jsx)("img",{src:"".concat(d.dB,"/navbar-search.svg"),alt:"search icon"})]}),Z&&(0,r.jsx)(m.Z,{label:"department_type",children:null===_.sY||void 0===_.sY?void 0:_.sY.map((e=>(0,r.jsx)(h.Z,{tile:e,onTile:D,activeTile:b},null===e||void 0===e?void 0:e.key)))}),null===A||void 0===A?void 0:A.map((e=>(0,r.jsx)(v,{department:e,onSelect:E,selectedId:N},null===e||void 0===e?void 0:e._id))),w?I?(0,r.jsx)(f.Z,{}):(0,r.jsx)(x.Z,{}):I?!(null!==A&&void 0!==A&&A.length)&&(0,r.jsx)(g.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No department found related this search."}):!(null!==B&&void 0!==B&&B.length)&&(0,r.jsx)(g.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No department found."})]})]})})},p=(e,l)=>null===e||void 0===e?void 0:e.filter((e=>{var n;return null!==e&&void 0!==e&&null!==(n=e.dName)&&void 0!==n&&n.includes(l)?e:null}))},98594:(e,l,n)=>{n.r(l),n.d(l,{default:()=>w});var t=n(98684),i=n(90904),s=n(33030),a=n(23984),d=n(63687),o=n(21348),c=n(57588),r=n(91427),v=n(72791),u=n(39230),m=n(23441),h=n(56959),_=n(6758),x=n(55336),f=n(93638),g=n(61055),j=n(48293),p=n(35483),Z=n(16925),S=n(99183),N=n(49806),C=n(80184);const y=e=>{var l;let{cls:n,onSelect:s,selectedId:a}=e;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:null!==a&&void 0!==a&&a.includes(null===n||void 0===n?void 0:n._id)?"".concat(N.Z.assign_show_list_each," ").concat(N.Z.assign_show_list_each_active):N.Z.assign_show_list_each,onClick:()=>{s(n)},children:[(0,C.jsx)("img",{src:"".concat(t.J7,"/class.svg"),alt:"class icon",style:{borderRadius:"0"}}),(0,C.jsx)("div",{className:N.Z.assign_each_paragraph,children:(0,C.jsx)("h6",{children:null!==(l=null===n||void 0===n?void 0:n.className)&&void 0!==l?l:""})})]}),(0,C.jsx)(i.Z,{customStyleBorder:{margin:"0"}})]})};var A=n(1669),k=n(2651);const b=e=>{var l,n,a,d;let{onClose:h,did:f,bid:g,onSave:p,clsListId:Z,setClsListId:S}=e;const{t:b}=(0,u.$G)(),[T,I]=(0,v.useState)(""),[L,B]=(0,v.useState)(1),[w,E]=(0,v.useState)(!0),[D,F]=(0,m.YD)({skip:T}),[J,R]=(0,v.useState)(null!==Z&&void 0!==Z?Z:[]),[q,P]=(0,v.useState)([]),{departmentBatchAllClassMaster:G,departmentBatchAllClassMasterLoading:M}=(0,_.Rb)({data:{did:f,bid:g,page:L,limit:10,search:T},skip:f?!f:!g});(0,v.useEffect)((()=>{null!==Z&&void 0!==Z&&Z.length&&R(Z)}),[null===Z||void 0===Z?void 0:Z.length]),(0,v.useEffect)((()=>{F&&w&&B((e=>e+1))}),[F,w]),(0,v.useEffect)((()=>{var e;if(null!==G&&void 0!==G&&null!==(e=G.list)&&void 0!==e&&e.length){var l;let e=(0,r.f)(null===G||void 0===G||null===(l=G.list)||void 0===l?void 0:l.length);E((()=>e))}}),[null===G||void 0===G||null===(l=G.list)||void 0===l?void 0:l.length]);const Y=(0,v.useCallback)((0,c.J)((e=>{B((()=>1)),I(e)}),1500),[]),$=e=>{null!==J&&void 0!==J&&J.includes(null===e||void 0===e?void 0:e._id)?(R((l=>null===l||void 0===l?void 0:l.filter((l=>l!==(null===e||void 0===e?void 0:e._id))))),S((l=>null===l||void 0===l?void 0:l.filter((l=>l!==(null===e||void 0===e?void 0:e._id))))),P((l=>null===l||void 0===l?void 0:l.filter((l=>(null===l||void 0===l?void 0:l._id)!==(null===e||void 0===e?void 0:e._id)))))):(R((l=>[...l,null===e||void 0===e?void 0:e._id])),S((l=>[...l,null===e||void 0===e?void 0:e._id])),P((l=>[...l,e])))};return(0,C.jsx)(j.Z,{onClose:h,children:(0,C.jsxs)("div",{className:N.Z.modal_container,children:[(0,C.jsx)(o.Z,{children:(0,C.jsxs)("div",{className:N.Z.modal_container_outer_header,children:[(0,C.jsx)("div",{className:N.Z.modal_container_header,children:(0,C.jsx)("h6",{children:b("select_standard")})}),(0,C.jsxs)("div",{className:N.Z.modal_container_header_btn,children:[(0,C.jsx)(s.Z,{label:"select",onAction:()=>{let e=[];for(let l of q)for(let n of null===l||void 0===l?void 0:l.classDivision)e.push(null===n||void 0===n?void 0:n._id);p(e)}}),(0,C.jsx)("img",{src:"".concat(t.J7,"/close.svg"),alt:"close icon",onClick:h})]})]})}),(0,C.jsx)(i.Z,{}),(0,C.jsxs)(o.Z,{customStyle:{paddingTop:"0",paddingBottom:"1rem"},children:[(0,C.jsxs)("div",{className:N.Z.assign_search_container,style:{marginBottom:"0.8rem"},children:[(0,C.jsx)("input",{type:"text",placeholder:b("search"),className:N.Z.assign_search_input,onChange:e=>{e.target.value?Y(e.target.value):(B((()=>1)),I(""))}}),(0,C.jsx)("img",{src:"".concat(t.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===G||void 0===G||null===(n=G.list)||void 0===n?void 0:n.map(((e,l)=>{var n;return(null===G||void 0===G||null===(n=G.list)||void 0===n?void 0:n.length)===l+1?(0,C.jsx)("div",{ref:D,children:(0,C.jsx)(y,{cls:e,selectedId:J,onSelect:$})},null===e||void 0===e?void 0:e._id):(0,C.jsx)(y,{cls:e,selectedId:J,onSelect:$},null===e||void 0===e?void 0:e._id)})),M?T?(0,C.jsx)(x.Z,{}):(0,C.jsx)(A.Z,{}):T?0===(null===G||void 0===G||null===(a=G.list)||void 0===a?void 0:a.length)&&(0,C.jsx)(k.Z,{title:"No standard found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===G||void 0===G||null===(d=G.list)||void 0===d?void 0:d.length)&&(0,C.jsx)(k.Z,{title:"No standard.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})},T=e=>{let{fid:l,onClose:n}=e;const{t:s}=(0,u.$G)(),[a,d]=(0,v.useState)("DEPARTMENT"),[c,r]=(0,v.useState)({feeName:"",feeAmount:"",feeDate:""}),[m,h]=(0,v.useState)(""),[N,y]=(0,v.useState)(!1),[A,k]=(0,v.useState)(""),[T]=(0,_.yK)(),[I,L]=(0,v.useState)([]),[B,w]=(0,v.useState)([]),E=e=>{"feeAmount"===e.target.name?r((l=>({...l,feeAmount:+e.target.value}))):r((l=>({...l,[e.target.name]:e.target.value})))};return(0,C.jsx)(C.Fragment,{children:a?"DEPARTMENT"===a?(0,C.jsx)(p.Z,{onClose:n,fid:l,onSelect:e=>{k(e),d("CLASSES")}}):(0,C.jsx)(b,{onClose:()=>d("DEPARTMENT"),did:null===A||void 0===A?void 0:A._id,bid:null===A||void 0===A?void 0:A.departmentSelectBatch,onSave:e=>{w(e),d("")},clsListId:I,setClsListId:L}):(0,C.jsx)(j.Z,{onClose:n,children:(0,C.jsxs)("div",{className:Z.Z.modal_container,children:[(0,C.jsx)(o.Z,{children:(0,C.jsxs)("div",{className:Z.Z.modal_container_outer_header,children:[(0,C.jsx)("div",{className:Z.Z.modal_container_header,children:(0,C.jsx)("h6",{children:s("create_new_fees")})}),(0,C.jsx)("img",{src:"".concat(t.J7,"/close.svg"),alt:"close icon",onClick:()=>d("CLASSES")})]})}),(0,C.jsx)(i.Z,{}),(0,C.jsxs)(o.Z,{customStyle:{paddingTop:"0"},children:[(0,C.jsx)(g.Z,{label:s("fees_name"),placeholder:s("fees_name_placeholder"),name:"feeName",value:c.feeName,type:"text",onChange:E,errorShow:m.feeName}),(0,C.jsx)(g.Z,{label:s("amount"),placeholder:s("amount_placeholder"),name:"feeAmount",value:c.feeAmount,type:"text",onChange:E,errorShow:m.feeAmount}),(0,C.jsx)(f.Z,{label:"save",onAction:()=>{let e=(0,S.l)(c,["feeDate"]);(0,S.x)(e)?(()=>{if(l&&(null===B||void 0===B?void 0:B.length)>0){let e=(new Date).toISOString(),t="".concat(null===e||void 0===e?void 0:e.substring(0,4),"-").concat(null===e||void 0===e?void 0:e.substring(5,7),"-").concat(null===e||void 0===e?void 0:e.substring(8,10));y((e=>!e)),T({fid:l,inernalBody:{did:null===A||void 0===A?void 0:A._id,ClassId:B,feeName:c.feeName,feeAmount:c.feeAmount,feeDate:t}}).then((()=>{y((e=>!e)),n()})).catch((()=>{y((e=>!e))}))}})():h(e)}})]}),N&&(0,C.jsx)(x.Z,{})]})})})};var I=n(1721),L=n(16871);const B=e=>{var l,n;let{fees:i}=e;const{t:s}=(0,u.$G)(),a=(0,L.TH)(),d=(0,L.UO)(),o=(0,L.s0)();return(0,C.jsxs)("div",{className:I.Z.ifc_container,onClick:()=>{var e,l;let n="Institute"===(null===(e=a.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(d.username,"/institute/member/finance?type=internal-fee-detail"):"/q/".concat(d.username,"/member/staff/finance?type=internal-fee-detail");o(n,{state:{...a.state,fsid:null===i||void 0===i?void 0:i._id,feesName:null!==(l=null===i||void 0===i?void 0:i.feeName)&&void 0!==l?l:""}})},children:[(0,C.jsx)("img",{src:"".concat(t.J7,"/fees-card.svg"),alt:"fees icon"}),(0,C.jsxs)("div",{className:I.Z.ifc_container_inner,children:[(0,C.jsxs)("h6",{children:[s("rs_only")," ",null!==(l=null===i||void 0===i?void 0:i.feeAmount)&&void 0!==l?l:0,"/-"]}),(0,C.jsxs)("p",{children:[null!==(n=null===i||void 0===i?void 0:i.feeName)&&void 0!==n?n:""," "]})]})]})},w=e=>{var l,n,f,g;let{fid:j}=e;const{t:p}=(0,u.$G)(),[Z,S]=(0,v.useState)(""),[N,y]=(0,v.useState)(1),[b,I]=(0,v.useState)(!0),[L,w]=(0,v.useState)(!1),[E,D]=(0,m.YD)({skip:Z}),{financeAllInternalFee:F,financeAllInternalFeeLoading:J}=(0,_.kD)({data:{fid:j,page:N,limit:10,search:Z},skip:!j});(0,v.useEffect)((()=>{D&&b&&y((e=>e+1))}),[D,b]),(0,v.useEffect)((()=>{var e;if(null!==F&&void 0!==F&&null!==(e=F.list)&&void 0!==e&&e.length){var l;let e=(0,r.f)(null===F||void 0===F||null===(l=F.list)||void 0===l?void 0:l.length);I((()=>e))}}),[null===F||void 0===F||null===(l=F.list)||void 0===l?void 0:l.length]);const R=(0,v.useCallback)((0,c.J)((e=>{y((()=>1)),S(e)}),1500),[]),q=()=>{w((e=>!e))};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(d.Z,{children:[(0,C.jsx)(o.Z,{children:(0,C.jsxs)("div",{className:h.Z.fm_header_container,children:[(0,C.jsx)("h6",{children:p("internal_fees")}),(0,C.jsx)("div",{className:h.Z.fm_search,children:(0,C.jsx)("section",{className:h.Z.fm_search_container,children:(0,C.jsxs)("div",{className:h.Z.fm_search_container_inner,children:[(0,C.jsx)("img",{className:h.Z.fm_search_icon,alt:"search icon",src:"".concat(t.dB,"/navbar-search.svg")}),(0,C.jsx)("input",{type:"text",placeholder:p("search"),onChange:e=>{e.target.value?R(e.target.value):(y((()=>1)),S(""))}})]})})})]})}),(0,C.jsx)(i.Z,{}),(0,C.jsxs)(o.Z,{customStyle:{paddingTop:"0"},children:[(0,C.jsx)(a.Z,{children:(0,C.jsx)(s.Z,{label:"create_new_fees",onAction:q})}),null===F||void 0===F||null===(n=F.list)||void 0===n?void 0:n.map(((e,l)=>{var n;return(null===F||void 0===F||null===(n=F.list)||void 0===n?void 0:n.length)===l+1?(0,C.jsx)("div",{ref:E,children:(0,C.jsx)(B,{fees:e})},null===e||void 0===e?void 0:e._id):(0,C.jsx)(B,{fees:e},null===e||void 0===e?void 0:e._id)})),J?Z?(0,C.jsx)(x.Z,{}):(0,C.jsx)(A.Z,{}):Z?0===(null===F||void 0===F||null===(f=F.list)||void 0===f?void 0:f.length)&&(0,C.jsx)(k.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No internal fees found related this search."}):0===(null===F||void 0===F||null===(g=F.list)||void 0===g?void 0:g.length)&&(0,C.jsx)(k.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No internal fees added."})]})]}),L&&(0,C.jsx)(T,{onClose:q,fid:j})]})}},1721:(e,l,n)=>{n.d(l,{Z:()=>t});const t={ifc_container:"InternalFees_ifc_container__XhZX-",ifc_container_inner:"InternalFees_ifc_container_inner__FaBwZ",ifdl_heading:"InternalFees_ifdl_heading__gaTqK",ifdl_card:"InternalFees_ifdl_card__sAxqq"}}}]);
//# sourceMappingURL=98594.33bd1b4b.chunk.js.map