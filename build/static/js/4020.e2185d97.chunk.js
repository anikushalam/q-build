"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[4020,7498],{60233:function(e,t,l){l.d(t,{Z:function(){return m}});var a=l(1413),n=l(93433),i=l(29439),o=l(72791),s=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],d=["January","February","March","April","May","June","July","August","September","October","November","December"],r=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,l=new Date,a="".concat(l.getDate(),"-").concat(l.getMonth()+1,"-").concat(l.getFullYear()),r=[1,2,3,4,5,6,0],c=(0,o.useState)(l),v=(0,i.Z)(c,2),u=v[0],_=v[1],f=new Date(u.getFullYear(),u.getMonth()+1,0),m=new Date(u.getFullYear(),u.getMonth(),0),h=f.getDate(),p=new Date(u.getFullYear(),u.getMonth(),1).getDay(),x=r.indexOf(p)+1,g=m.getDate()-r.indexOf(p)+1,j=1,Z=1,y={},S=1;S<7;S++)for(var b=1;b<8;b++)y[S]||(y[S]=[]),1===S?b<x?(y[S]=[].concat((0,n.Z)(y[S]),[{classes:"in-prev-month",date:"".concat(g,"-").concat(0===u.getMonth()?12:u.getMonth(),"-").concat(0===u.getMonth()?u.getFullYear()-1:u.getFullYear()),value:g}]),g++):(y[S]=[].concat((0,n.Z)(y[S]),[{classes:"",date:"".concat(j,"-").concat(u.getMonth()+1,"-").concat(u.getFullYear()),value:j}]),j++):S>1&&j<h+1?(y[S]=[].concat((0,n.Z)(y[S]),[{classes:"",date:"".concat(j,"-").concat(u.getMonth()+1,"-").concat(u.getFullYear()),value:j}]),j++):(y[S]=[].concat((0,n.Z)(y[S]),[{classes:"in-next-month",date:"".concat(Z,"-").concat(u.getMonth()+2===13?1:u.getMonth()+2,"-").concat(u.getMonth()+2===13?u.getFullYear()+1:u.getFullYear()),value:Z}]),Z++);return{daysShort:e,monthNames:t,todayFormatted:a,calendarRows:y,selectedDate:u,getPrevMonth:function(){_((function(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}))},getNextMonth:function(){_((function(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}))},getDesiredData:function(e){_(new Date("".concat(e.month," ").concat(e.year)))},setSelectedDate:_}},c=l(80184);var v=function(e){var t=e.handleClick;return(0,c.jsx)("div",{children:(0,c.jsx)("img",{className:"arrowicon",src:"/images/Input/arrow-left.svg",alt:"",onClick:t})})};var u=function(e){var t=e.handleClick;return(0,c.jsx)("div",{children:(0,c.jsx)("img",{className:"arrowicon",src:"/images/Input/arrow-right.svg",alt:"",onClick:t})})},_=l(39230),f={position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10},m=function(e){var t=e.range,l=e.onClose,s=e.dateInput,d=e.setDateInput,m=e.datePickerPosition,h=e.isClose,p=e.isMultiple,x=(0,_.$G)().t,g=r(),j=g.calendarRows,Z=g.selectedDate,y=g.todayFormatted,S=g.daysShort,b=g.monthNames,N=g.getNextMonth,w=g.getPrevMonth,C=g.setSelectedDate,A=(0,o.useState)([]),I=(0,i.Z)(A,2),T=(I[0],I[1]),M=(0,o.useState)(0),k=(0,i.Z)(M,2),L=k[0],D=k[1],P=(0,o.useState)({date:"",month:b[Z.getMonth()],year:Z.getFullYear().toString()}),R=(0,i.Z)(P,2),F=R[0],q=R[1],E=(0,o.useState)([]),O=(0,i.Z)(E,2),Y=O[0],G=O[1],J=new Date;"".concat(J.getDate()<10?"0".concat(J.getDate()):J.getDate(),"/").concat(J.getMonth()+1<10?"0".concat(J.getMonth()+1):J.getMonth()+1,"/").concat(J.getFullYear());var U=function(){for(var e=(new Date).getFullYear(),t=e-70,l=[],a=e+30;a>=t;a--)l.push(a);return l}(),V=function(e){if(t)if(Y.length>0&&Y.includes(e)){var a=Y.filter((function(t){return t!==e}));!function(e){G(e)}(a),T(a)}else!function(e){G((function(t){return[].concat((0,n.Z)(t),[e])}))}(e),T((function(t){return[].concat((0,n.Z)(t),[e])}));else G(e),d(e),h||setTimeout((function(){!t&&l()}),100)},H=(new Date).getFullYear(),B=Math.ceil(U.length/12),$=U.indexOf(H),z=Math.ceil($/12),W=(0,o.useState)(z),K=(0,i.Z)(W,2),X=K[0],Q=K[1],ee=12*X,te=ee-12,le=U.slice(te,ee);return(0,o.useEffect)((function(){t&&d(Y)}),[Y]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{onClick:l,style:f}),(0,c.jsxs)("div",{className:"datepickercontainer",style:(0,a.Z)({},m),children:[(0,c.jsxs)("div",{className:"calenderheader",children:[(0,c.jsxs)("div",{className:"calenderheaderleft",children:[(0,c.jsx)("h6",{className:"month",onClick:function(){return D(1)},children:"".concat(b[Z.getMonth()])}),(0,c.jsxs)("div",{className:"yearcontainer",onClick:function(){return D(2)},children:[(0,c.jsx)("h6",{className:"year",children:"".concat(Z.getFullYear())}),(0,c.jsx)("img",{className:"arrow",src:"/images/Input/dropdown-icon.svg",alt:""})]})]}),0===L&&(0,c.jsxs)("div",{className:"calenderheaderright",children:[(0,c.jsx)(v,{handleClick:w}),(0,c.jsx)(u,{handleClick:N})]}),2===L&&(0,c.jsxs)("div",{className:"calenderheaderright",children:[(0,c.jsx)(v,{handleClick:function(){X>1&&Q(X-1)}}),(0,c.jsx)(u,{handleClick:function(){X<B&&Q(X+1)}})]})]}),1===L&&(0,c.jsx)("div",{className:"monthscontainer",children:b.map((function(e,t){return(0,c.jsx)("div",{className:"monththh",onClick:function(){q((0,a.Z)((0,a.Z)({},F),{},{month:e})),C(new Date("".concat(e," ").concat(F.year))),D(0)},children:e},t)}))}),0===L&&(0,c.jsxs)("table",{className:"table",children:[(0,c.jsx)("thead",{children:(0,c.jsx)("tr",{children:S.map((function(e){return(0,c.jsx)("th",{className:"day",children:e},e)}))})}),(0,c.jsx)("tbody",{children:Object.values(j).map((function(e){return(0,c.jsx)("tr",{children:e.map((function(e){return e.date===y?(0,c.jsx)("td",{className:"".concat(e.classes," date"),onClick:function(){V("".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(Z.getMonth()+1<10?"0".concat(Z.getMonth()+1):Z.getMonth()+1,"/").concat(Z.getFullYear()))},children:(0,c.jsx)("div",{className:Y.includes("".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(Z.getMonth()+1<10?"0".concat(Z.getMonth()+1):Z.getMonth()+1,"/").concat(Z.getFullYear()))||s==="".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(Z.getMonth()+1<10?"0".concat(Z.getMonth()+1):Z.getMonth()+1,"/").concat(Z.getFullYear())?"".concat(e.classes," datediv  active"):"".concat(e.classes," datediv aaji"),children:e.value})},e.date):"in-prev-month"===e.classes||"in-next-month"===e.classes?(0,c.jsx)("td",{className:"".concat(e.classes," date"),children:(0,c.jsx)("div",{className:"".concat(e.classes," datediv "),children:e.value})},e.date):(0,c.jsx)("td",{className:"".concat(e.classes," date"),onClick:function(){return V("".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(Z.getMonth()+1<10?"0".concat(Z.getMonth()+1):Z.getMonth()+1,"/").concat(Z.getFullYear()))},children:(0,c.jsx)("div",{className:Y.includes("".concat(e.value<10?"0".concat(e.value):e.value,"/").concat(Z.getMonth()+1<10?"0".concat(Z.getMonth()+1):Z.getMonth()+1,"/").concat(Z.getFullYear()))?"".concat(e.classes," datediv  active"):"".concat(e.classes," datediv "),children:e.value})},e.date)}))},e[0].date)}))})]}),2===L&&(0,c.jsx)("div",{className:"monthscontainer",children:le.map((function(e,t){return(0,c.jsx)("div",{className:H===e?" monthactive":" monththh",onClick:function(){q((0,a.Z)((0,a.Z)({},F),{},{year:e})),C(new Date("".concat(e," ").concat(F.month))),D(0)},children:e},t)}))}),p&&(0,c.jsx)("div",{className:"multiple_select_btn",onClick:l,children:x("select")})]})]})}},3890:function(e,t,l){l(72791);var a=l(72420),n=l(39230),i=l(80184);t.Z=function(e){var t=e.labelText,l=e.customTileLabel,o=e.customTileContainer,s=e.customTileChild,d=e.tileList,r=e.activeTile,c=e.onTile,v=e.onParentTile,u=e.customTileAvailableChild,_=(0,n.$G)().t;return(0,i.jsxs)("div",{className:a.Z.tile_container,children:[t&&(0,i.jsx)("h6",{className:a.Z.tile_label,style:l,children:_(t)}),(0,i.jsx)("section",{className:a.Z.tile_tile_container,style:o,children:null===d||void 0===d?void 0:d.map((function(e){return null!==e&&void 0!==e&&e.isAvaiable?(0,i.jsxs)("div",{className:(null===e||void 0===e?void 0:e.key)===r?a.Z.tile_tile_active:a.Z.tile_tile,onClick:function(){return v(e)},style:u,children:[_(null===e||void 0===e?void 0:e.name),(null===e||void 0===e||e.mode,(0,i.jsxs)("div",{style:{whiteSpace:"break-spaces"},children:[_("available")," "," : "," ",null===e||void 0===e?void 0:e.count]}))]}):(0,i.jsx)("div",{className:(null===e||void 0===e?void 0:e.key)===r?a.Z.tile_tile_active:a.Z.tile_tile,onClick:function(){return c(null===e||void 0===e?void 0:e.key)},style:s,children:_(null===e||void 0===e?void 0:e.name)})}))})]})}},59965:function(e,t,l){var a=l(1413),n=l(29439),i=l(72791),o=l(38733),s=l(60233),d=l(80184);t.Z=function(e){var t=e.customStyleContainer,l=e.labelText,r=e.errorShow,c=e.value,v=e.name,u=e.placeholder,_=e.onDateFunction,f=e.datePickerPosition,m=e.customStyleLabel,h=e.customStyleCaledarIcon,p=e.customStyleInput,x=e.isMultiple,g=(0,i.useState)(!1),j=(0,n.Z)(g,2),Z=j[0],y=j[1],S=function(){y(!0)};return(0,d.jsxs)("div",{className:o.Z.join_form_container,style:(0,a.Z)({},t),children:[(0,d.jsxs)("label",{className:o.Z.join_form_label,htmlFor:v,style:(0,a.Z)({},m),children:[l," ",r&&(0,d.jsx)("span",{style:{color:"red",marginLeft:"15px"},children:"* required"})]}),(0,d.jsx)("input",{className:o.Z.join_form_input,type:"text",value:c,name:v,placeholder:u||"dd/mm/yyyy",onFocus:S,style:(0,a.Z)({},p)}),(0,d.jsx)("img",{className:o.Z.arrowIcon,src:"/images/Input/calendar.svg",alt:"calender icon",onClick:S,style:(0,a.Z)({},h)}),Z&&(0,d.jsx)(s.Z,{datePickerPosition:f?(0,a.Z)({},f):{top:"-17rem",left:"1rem",borderRadius:"0.375rem",paddingBottom:"0"},range:x,onClose:function(){return y(!1)},dateInput:c,setDateInput:_,isMultiple:x})]})}},34219:function(e,t,l){l(72791);var a=l(11575),n=l(80184);t.Z=function(e){var t=e.customStyleContainer,l=e.title,i=e.subtitle,o=e.costomTextTitleStyle,s=e.costomTextSubtitleStyle;return(0,n.jsxs)("div",{className:a.Z.empty_container,style:t,children:[l&&(0,n.jsx)("h6",{style:o,children:l}),i&&(0,n.jsx)("p",{style:s,children:i})]})}},47167:function(e,t,l){var a=l(1413),n=(l(72791),l(16871)),i=l(43504),o=l(23769),s=l(45639),d=l(80184);t.Z=function(e){var t=e.tabList,l=e.activeIndexTab,r=e.setActiveIndexTab,c=e.customStyleTab,v=e.carryParentState,u=e.showAs,_=e.customStyleLink,f=(0,n.UO)();return(0,d.jsx)("div",{className:s.Z.universal_container,children:u?null===t||void 0===t?void 0:t.map((function(e,t){return"disabled"===(null===e||void 0===e?void 0:e.is_active)?(0,d.jsx)("div",{className:l===(null===e||void 0===e?void 0:e.id)?"".concat(s.Z.universal_container_item," ").concat(s.Z.universal_container_item_active):s.Z.universal_container_item,style:(0,a.Z)((0,a.Z)({},_),{},{opacity:"0.5"}),children:(0,d.jsx)(o.Z,{children:null===e||void 0===e?void 0:e.name})},t):(0,d.jsx)(i.rU,{to:"/q/".concat(f.username,"/").concat(null===e||void 0===e?void 0:e.url),state:(0,a.Z)({},v),style:(0,a.Z)({},_),children:(0,d.jsx)("div",{className:l===(null===e||void 0===e?void 0:e.id)?"".concat(s.Z.universal_container_item," ").concat(s.Z.universal_container_item_active):s.Z.universal_container_item,style:(0,a.Z)({},c),children:(0,d.jsx)(o.Z,{children:null===e||void 0===e?void 0:e.name})})},t)})):null===t||void 0===t?void 0:t.map((function(e,t){return(0,d.jsx)("div",{className:l===(null===e||void 0===e?void 0:e.id)?"".concat(s.Z.universal_container_item," ").concat(s.Z.universal_container_item_active):s.Z.universal_container_item,onClick:function(){return r(null===e||void 0===e?void 0:e.id)},style:(0,a.Z)({},c),children:(0,d.jsx)(o.Z,{children:null===e||void 0===e?void 0:e.name})},t)}))})}},23769:function(e,t,l){l.d(t,{Z:function(){return o}});var a=l(29439),n=l(72791),i=l(80184);var o=function(e){var t=e.children,l=e.onclick,o=(0,n.useState)(!1),s=(0,a.Z)(o,2),d=s[0],r=s[1],c=(0,n.useState)({x:-1,y:-1}),v=(0,a.Z)(c,2),u=v[0],_=v[1];return(0,n.useEffect)((function(){-1!==u.x&&-1!==u.y?(r(!0),setTimeout((function(){return r(!1)}),1e3)):r(!1)}),[u]),(0,n.useEffect)((function(){d||_({x:-1,y:-1})}),[d]),(0,i.jsxs)("div",{className:"ripple_btn",onClick:function(e){_({x:e.clientX-e.target.offsetLeft,y:e.clientY-e.target.offsetTop}),l&&l(e)},children:[d?(0,i.jsx)("span",{className:"ripple"}):"",(0,i.jsx)("span",{className:"content",children:t})]})}},30251:function(e,t,l){l.r(t),l.d(t,{default:function(){return Pe}});var a=l(16871),n=l(42817),i=l(72791),o=l(39480),s=l(39230),d=l(11806),r=l(43504),c=l(80184);var v=function(e){var t=e.carryParentState,l=(0,s.$G)().t,n=(0,a.UO)();return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:d.Z.item,style:{marginTop:"1rem",marginLeft:"-1.2rem"},children:[(0,c.jsx)(r.rU,{to:"/q/".concat(n.username,"/member/leavestransfer?a=staff"),state:t,className:d.Z.mcqTopItem,children:(0,c.jsxs)("div",{className:d.Z.itemIcon,children:[(0,c.jsx)("img",{src:"/images/member_tab/department/department-staff-icon.svg",alt:"Class Catalog"}),(0,c.jsx)("p",{children:l("all_staff")})]})}),(0,c.jsx)(r.rU,{to:"/q/".concat(n.username,"/member/leavestransfer?a=attendance"),state:t,className:d.Z.mcqTopItem,children:(0,c.jsxs)("div",{className:d.Z.itemIcon,children:[(0,c.jsx)("img",{src:"/images/member_tab/class/class-attendance-icon.svg",alt:"attendence"}),(0,c.jsxs)("p",{children:[" ",l("attendance")," "]})]})}),(0,c.jsx)(r.rU,{to:"/q/".concat(n.username,"/member/leavestransfer?a=request"),state:t,className:d.Z.mcqTopItem,children:(0,c.jsxs)("div",{className:d.Z.itemIcon,children:[(0,c.jsx)("img",{src:"/images/member_tab/class/class-request-icon.svg",alt:"assignment"}),(0,c.jsx)("p",{children:l("request")})]})}),"LEAVING_AND_TRANSFER_ACCESS"===(null===t||void 0===t?void 0:t.subRole)?(0,c.jsx)(r.rU,{to:"/q/".concat(n.username,"/member/leavestransfer?a=configuration"),state:t,className:d.Z.mcqTopItem,children:(0,c.jsxs)("div",{className:d.Z.itemIcon,children:[(0,c.jsx)("img",{src:"/images/member_tab/class/class-setting-icon.svg",alt:"attendence"}),(0,c.jsx)("p",{children:l("configurations")})]})}):null,"LEAVING_AND_TRANSFER_ACCESS"===(null===t||void 0===t?void 0:t.subRole)?(0,c.jsx)(r.rU,{to:"/q/".concat(n.username,"/member/leavestransfer?a=moderator"),state:t,className:d.Z.mcqTopItem,children:(0,c.jsxs)("div",{className:d.Z.itemIcon,children:[(0,c.jsx)("img",{src:"/images/member_tab/admission/admission-moderator-icon.svg",alt:"student Request"}),(0,c.jsx)("p",{style:{textAlign:"center"},children:l("moderator")})]})}):null]})})},u=l(33148),_=l(93433),f=l(29439),m=l(44820),h=l(763),p=l(23441),x=l(11105),g=l(34219),j=l(65543),Z=l(12923),y=l(1413),S=l(98094),b=l(69721),N=l(92784),w=function(e){var t,l,n,i,o,d,v,u,_,f,m,h,p,x,g,j,Z,w,C,A,I,T,M,k,L,D,P,R,F=e.staff,q=e.instituteId,E=e.carryParentState,O=e.staffAlias,Y=(0,s.$G)().t,G=(0,a.UO)();return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:N.Z.staff_card,children:[(0,c.jsxs)("div",{className:N.Z.staff_card_info,children:[(0,c.jsx)("img",{src:null!==F&&void 0!==F&&F.staffProfilePhoto?"".concat(b.yI,"/").concat(null===F||void 0===F?void 0:F.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy",alt:"avatar"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h6",{className:N.Z.staff_card_info_inner,children:"".concat(null!==(t=null===F||void 0===F?void 0:F.staffFirstName)&&void 0!==t?t:""," ").concat(null!==(l=null===F||void 0===F?void 0:F.staffMiddleName)&&void 0!==l?l:""," ").concat(null!==(n=null===F||void 0===F?void 0:F.staffLastName)&&void 0!==n?n:"")}),(0,c.jsxs)("div",{className:N.Z.staff_card_info_inner_index,children:[O||Y("index"),": ",null!==(i=null===F||void 0===F?void 0:F.staffROLLNO)&&void 0!==i?i:""]})]})]}),(0,c.jsxs)("div",{className:N.Z.staff_card_overview,children:[(0,c.jsx)(r.rU,{to:"/q/".concat(G.username,"/member/leavestransfer?a=overview"),state:(0,y.Z)((0,y.Z)({},E),{},{staffId:null===F||void 0===F?void 0:F._id,instituteId:q,isCategory:"Casual Leave",staffName:"".concat(null!==(o=null===F||void 0===F?void 0:F.staffFirstName)&&void 0!==o?o:""," ").concat(null!==(d=null===F||void 0===F?void 0:F.staffMiddleName)&&void 0!==d?d:""," ").concat(null!==(v=null===F||void 0===F?void 0:F.staffLastName)&&void 0!==v?v:"")}),children:(0,c.jsxs)("div",{className:N.Z.staff_card_overview_inner,children:[(0,c.jsx)("h6",{className:N.Z.staff_card_overview_inner_label,children:Y("casual_leave")}),(0,c.jsx)("h6",{className:N.Z.staff_card_overview_inner_text,children:null!==(u=null===F||void 0===F?void 0:F.casual_leave)&&void 0!==u?u:0})]})}),(0,c.jsx)(r.rU,{to:"/q/".concat(G.username,"/member/leavestransfer?a=overview"),state:(0,y.Z)((0,y.Z)({},E),{},{staffId:null===F||void 0===F?void 0:F._id,instituteId:q,isCategory:"Medical Leave",staffName:"".concat(null!==(_=null===F||void 0===F?void 0:F.staffFirstName)&&void 0!==_?_:""," ").concat(null!==(f=null===F||void 0===F?void 0:F.staffMiddleName)&&void 0!==f?f:""," ").concat(null!==(m=null===F||void 0===F?void 0:F.staffLastName)&&void 0!==m?m:"")}),children:(0,c.jsxs)("div",{className:N.Z.staff_card_overview_inner,children:[(0,c.jsx)("h6",{className:N.Z.staff_card_overview_inner_label,children:Y("medical_leave")}),(0,c.jsx)("h6",{className:N.Z.staff_card_overview_inner_text,children:null!==(h=null===F||void 0===F?void 0:F.medical_leave)&&void 0!==h?h:0})]})}),(0,c.jsx)(r.rU,{to:"/q/".concat(G.username,"/member/leavestransfer?a=overview"),state:(0,y.Z)((0,y.Z)({},E),{},{staffId:null===F||void 0===F?void 0:F._id,instituteId:q,isCategory:"Sick Leave",staffName:"".concat(null!==(p=null===F||void 0===F?void 0:F.staffFirstName)&&void 0!==p?p:""," ").concat(null!==(x=null===F||void 0===F?void 0:F.staffMiddleName)&&void 0!==x?x:""," ").concat(null!==(g=null===F||void 0===F?void 0:F.staffLastName)&&void 0!==g?g:"")}),children:(0,c.jsxs)("div",{className:N.Z.staff_card_overview_inner,children:[(0,c.jsx)("h6",{className:N.Z.staff_card_overview_inner_label,children:Y("sick_leave")}),(0,c.jsx)("h6",{className:N.Z.staff_card_overview_inner_text,children:null!==(j=null===F||void 0===F?void 0:F.sick_leave)&&void 0!==j?j:0})]})}),(0,c.jsx)(r.rU,{to:"/q/".concat(G.username,"/member/leavestransfer?a=overview"),state:(0,y.Z)((0,y.Z)({},E),{},{staffId:null===F||void 0===F?void 0:F._id,instituteId:q,isCategory:"Compensation Off Leave",staffName:"".concat(null!==(Z=null===F||void 0===F?void 0:F.staffFirstName)&&void 0!==Z?Z:""," ").concat(null!==(w=null===F||void 0===F?void 0:F.staffMiddleName)&&void 0!==w?w:""," ").concat(null!==(C=null===F||void 0===F?void 0:F.staffLastName)&&void 0!==C?C:"")}),children:(0,c.jsxs)("div",{className:N.Z.staff_card_overview_inner,children:[(0,c.jsx)("h6",{className:N.Z.staff_card_overview_inner_label,children:Y("c_off_leave")}),(0,c.jsx)("h6",{className:N.Z.staff_card_overview_inner_text,children:null!==(A=null===F||void 0===F?void 0:F.c_off_leave)&&void 0!==A?A:""})]})}),(0,c.jsx)(r.rU,{to:"/q/".concat(G.username,"/member/leavestransfer?a=overview"),state:(0,y.Z)((0,y.Z)({},E),{},{staffId:null===F||void 0===F?void 0:F._id,instituteId:q,isCategory:"On Duty Leave",staffName:"".concat(null!==(I=null===F||void 0===F?void 0:F.staffFirstName)&&void 0!==I?I:""," ").concat(null!==(T=null===F||void 0===F?void 0:F.staffMiddleName)&&void 0!==T?T:""," ").concat(null!==(M=null===F||void 0===F?void 0:F.staffLastName)&&void 0!==M?M:"")}),children:(0,c.jsxs)("div",{className:N.Z.staff_card_overview_inner,children:[(0,c.jsx)("h6",{className:N.Z.staff_card_overview_inner_label,children:Y("odl")}),(0,c.jsx)("h6",{className:N.Z.staff_card_overview_inner_text,children:null!==(k=null===F||void 0===F?void 0:F.off_duty_leave)&&void 0!==k?k:0})]})}),(0,c.jsx)(r.rU,{to:"/q/".concat(G.username,"/member/leavestransfer?a=overview"),state:(0,y.Z)((0,y.Z)({},E),{},{staffId:null===F||void 0===F?void 0:F._id,instituteId:q,isCategory:"Leave Without Pay",staffName:"".concat(null!==(L=null===F||void 0===F?void 0:F.staffFirstName)&&void 0!==L?L:""," ").concat(null!==(D=null===F||void 0===F?void 0:F.staffMiddleName)&&void 0!==D?D:""," ").concat(null!==(P=null===F||void 0===F?void 0:F.staffLastName)&&void 0!==P?P:"")}),children:(0,c.jsxs)("div",{className:N.Z.staff_card_overview_inner,children:[(0,c.jsx)("h6",{className:N.Z.staff_card_overview_inner_label,children:Y("lwp")}),(0,c.jsx)("h6",{className:N.Z.staff_card_overview_inner_text,children:null!==(R=null===F||void 0===F?void 0:F.lwp_leave)&&void 0!==R?R:0})]})})]})]}),(0,c.jsx)(S.Z,{customStyle:{width:"100%"}})]})},C=function(e){var t=e.instituteId,l=e.staffAlias,n=e.carryParentState,o=(0,s.$G)().t,d=((0,a.UO)(),(0,i.useState)(!0)),r=(0,f.Z)(d,2),v=r[0],u=r[1],y=(0,i.useState)(""),S=(0,f.Z)(y,2),b=S[0],N=S[1],C=(0,i.useState)(1),A=(0,f.Z)(C,2),I=A[0],T=A[1],M=(0,p.YD)({skip:b}),k=(0,f.Z)(M,2),L=k[0],D=k[1],P=(0,i.useState)([]),R=(0,f.Z)(P,2),F=R[0],q=R[1],E=(0,i.useState)(!0),O=(0,f.Z)(E,2),Y=O[0],G=O[1],J=(0,j.u)().scrollToTop,U=(0,Z.vI)({search:{search:b,page:I,id:t,limit:10},skip:!t}),V=U.assignSearchStaff,H=U.assignSearchStaffRefetch;(0,i.useEffect)((function(){t&&H()}),[t,H,I,b]),(0,i.useEffect)((function(){D&&v&&T((function(e){return e+1}))}),[D,v]),(0,i.useEffect)((function(){var e,t;null!==V&&void 0!==V&&V.staff&&(b?(q(null===V||void 0===V?void 0:V.staff),G(!1)):null!==V&&void 0!==V&&null!==(e=V.staff)&&void 0!==e&&e.length?(q((function(e){var t,l;return null===(t=(0,_.Z)(new Set(null===(l=[].concat((0,_.Z)(e),(0,_.Z)(null===V||void 0===V?void 0:V.staff)))||void 0===l?void 0:l.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),G(!1)):0===(null===V||void 0===V||null===(t=V.staff)||void 0===t?void 0:t.length)&&G(!1));10===(null===V||void 0===V?void 0:V.staff.length)?u(!0):u(!1)}),[null===V||void 0===V?void 0:V.staff]),(0,i.useEffect)((function(){J()}),[J]);var B=(0,i.useCallback)((0,h.debounce)((function(e){return N(e)}),500),[]);return(0,c.jsxs)("div",{className:m.Z.moderator_container,style:{marginTop:"0"},children:[(0,c.jsx)("section",{className:m.Z.moderator_container_title,children:(0,c.jsxs)("div",{className:m.Z.with_search,children:[(0,c.jsx)("h6",{children:o("all_staff")}),(0,c.jsx)("section",{className:m.Z.search_container,style:{gap:"1rem"},children:(0,c.jsxs)("div",{className:m.Z.search_container_input,children:[(0,c.jsx)("img",{className:m.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,c.jsx)("input",{type:"text",placeholder:"Search staff...",onChange:function(e){T(1),B(e.target.value),e.target.value||G(!0)},style:{width:"400px"}})]})})]})}),null===F||void 0===F?void 0:F.map((function(e,a){return(null===F||void 0===F?void 0:F.length)===a+1?(0,c.jsx)("div",{ref:L,children:(0,c.jsx)(w,{staff:e,instituteId:t,staffAlias:l,carryParentState:n})},null===e||void 0===e?void 0:e._id):(0,c.jsx)(w,{staff:e,instituteId:t,staffAlias:l,carryParentState:n},null===e||void 0===e?void 0:e._id)})),!Y&&!F.length&&(0,c.jsx)(g.Z,{customStyleContainer:{marginTop:"9rem"},title:"No staff found."}),Y&&(0,c.jsx)(x.Z,{status:"white"})]})},A=l(23452),I=l(47167),T=l(74289),M=function(e){var t,l,n,i,o=e.staff,d=e.staffAlias,r=(0,s.$G)().t,v=(0,a.UO)(),u=(0,a.s0)();return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:N.Z.staff_card,onClick:function(){u("/q/".concat(v.username,"/staff/profile"),{state:{sid:null===o||void 0===o?void 0:o._id,viewAs:"DEPARTMENT_HEAD"}})},style:{cursor:"pointer"},children:(0,c.jsxs)("div",{className:N.Z.staff_card_info,children:[(0,c.jsx)("img",{src:null!==o&&void 0!==o&&o.staffProfilePhoto?"".concat(b.yI,"/").concat(null===o||void 0===o?void 0:o.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy",alt:"avatar"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h6",{className:N.Z.staff_card_info_inner,children:"".concat(null!==(t=null===o||void 0===o?void 0:o.staffFirstName)&&void 0!==t?t:""," ").concat(null!==(l=null===o||void 0===o?void 0:o.staffMiddleName)&&void 0!==l?l:""," ").concat(null!==(n=null===o||void 0===o?void 0:o.staffLastName)&&void 0!==n?n:"")}),(0,c.jsxs)("div",{className:N.Z.staff_card_info_inner_index,children:[d||r("index"),": ",null!==(i=null===o||void 0===o?void 0:o.staffROLLNO)&&void 0!==i?i:""]})]})]})}),(0,c.jsx)(S.Z,{customStyle:{width:"100%"}})]})},k=function(e){var t=e.instituteId,l=e.staffAlias,a=(0,i.useState)(!0),n=(0,f.Z)(a,2),o=n[0],s=n[1],d=(0,i.useState)(""),r=(0,f.Z)(d,2),v=r[0],u=r[1],g=(0,i.useState)(1),Z=(0,f.Z)(g,2),y=Z[0],S=Z[1],b=(0,p.YD)({skip:v}),N=(0,f.Z)(b,2),w=N[0],C=N[1],A=(0,i.useState)([]),I=(0,f.Z)(A,2),k=I[0],L=I[1],D=(0,i.useState)(!0),P=(0,f.Z)(D,2),R=P[0],F=P[1],q=(0,j.u)().scrollToTop,E=(0,T.zR)({data:{id:t,page:y,limit:10,type:"Teaching Faculty",search:v},skip:!t}),O=E.leaveAllottmentStaffList,Y=E.leaveAllottmentStaffListRefetch;(0,i.useEffect)((function(){C&&o&&S((function(e){return e+1}))}),[C,o]),(0,i.useEffect)((function(){t&&(F(!0),Y())}),[y,t,v,Y]),(0,i.useEffect)((function(){null!==O&&void 0!==O&&O.all_staff&&(v?(L((function(){return null===O||void 0===O?void 0:O.all_staff})),F(!1)):(L((function(e){return(0,_.Z)(new Set([].concat((0,_.Z)(e),(0,_.Z)(null===O||void 0===O?void 0:O.all_staff)).map(JSON.stringify))).map(JSON.parse)})),F(!1))),10===(null===O||void 0===O?void 0:O.all_staff.length)?s(!0):s(!1)}),[null===O||void 0===O?void 0:O.all_staff]);var G=(0,i.useCallback)((0,h.debounce)((function(e){return u(e)}),1e3),[]);return(0,i.useEffect)((function(){q()}),[q]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("section",{className:m.Z.search_container,children:(0,c.jsxs)("div",{className:m.Z.search_container_input,style:{width:"100%"},children:[(0,c.jsx)("img",{className:m.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,c.jsx)("input",{type:"text",placeholder:"Search staff...",onChange:function(e){e.target.value||S(1),G(e.target.value)},style:{width:"100%",border:"0.5px solid #cacaca"}})]})}),null===k||void 0===k?void 0:k.map((function(e,t){return(null===k||void 0===k?void 0:k.length)===t+1?(0,c.jsx)("div",{ref:w,children:(0,c.jsx)(M,{staff:e,staffAlias:l})},null===e||void 0===e?void 0:e._id):(0,c.jsx)(M,{staff:e,staffAlias:l},null===e||void 0===e?void 0:e._id)})),R&&(0,c.jsx)(x.Z,{})]})},L=function(e){var t=e.instituteId,l=e.staffAlias,a=(0,i.useState)(!0),n=(0,f.Z)(a,2),o=n[0],s=n[1],d=(0,i.useState)(""),r=(0,f.Z)(d,2),v=r[0],u=r[1],g=(0,i.useState)(1),Z=(0,f.Z)(g,2),y=Z[0],S=Z[1],b=(0,p.YD)({skip:v}),N=(0,f.Z)(b,2),w=N[0],C=N[1],A=(0,i.useState)([]),I=(0,f.Z)(A,2),k=I[0],L=I[1],D=(0,i.useState)(!0),P=(0,f.Z)(D,2),R=P[0],F=P[1],q=(0,j.u)().scrollToTop,E=(0,T.zR)({data:{id:t,page:y,limit:10,type:"Non-Teaching Faculty",search:v},skip:!t}),O=E.leaveAllottmentStaffList,Y=E.leaveAllottmentStaffListRefetch;(0,i.useEffect)((function(){C&&o&&S((function(e){return e+1}))}),[C,o]),(0,i.useEffect)((function(){t&&(F(!0),Y())}),[y,t,v,Y]),(0,i.useEffect)((function(){null!==O&&void 0!==O&&O.all_staff&&(v?(L((function(){return null===O||void 0===O?void 0:O.all_staff})),F(!1)):(L((function(e){return(0,_.Z)(new Set([].concat((0,_.Z)(e),(0,_.Z)(null===O||void 0===O?void 0:O.all_staff)).map(JSON.stringify))).map(JSON.parse)})),F(!1))),10===(null===O||void 0===O?void 0:O.all_staff.length)?s(!0):s(!1)}),[null===O||void 0===O?void 0:O.all_staff]);var G=(0,i.useCallback)((0,h.debounce)((function(e){return u(e)}),1e3),[]);return(0,i.useEffect)((function(){q()}),[q]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("section",{className:m.Z.search_container,children:(0,c.jsxs)("div",{className:m.Z.search_container_input,style:{width:"100%"},children:[(0,c.jsx)("img",{className:m.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,c.jsx)("input",{type:"text",placeholder:"Search staff...",onChange:function(e){e.target.value||S(1),G(e.target.value)},style:{width:"100%",border:"0.5px solid #cacaca"}})]})}),null===k||void 0===k?void 0:k.map((function(e,t){return(null===k||void 0===k?void 0:k.length)===t+1?(0,c.jsx)("div",{ref:w,children:(0,c.jsx)(M,{staff:e,staffAlias:l})},null===e||void 0===e?void 0:e._id):(0,c.jsx)(M,{staff:e,staffAlias:l},null===e||void 0===e?void 0:e._id)})),R&&(0,c.jsx)(x.Z,{})]})},D=function(e){var t=e.carryParentState,l=e.instituteId,a=e.staffAlias,n=(0,s.$G)().t,i=(0,r.lr)(),o=(0,f.Z)(i,1)[0],d=[{name:n("combined_teaching"),id:0,url:"member/leavestransfer?a=configuration&n=allottment",is_active:"enabled"},{name:n("non_teaching"),id:1,url:"member/leavestransfer?a=configuration&n=allottment&d=nonteaching",is_active:"enabled"},{name:n("other"),id:2,url:"member/leavestransfer?a=configuration&n=allottment&d=other",is_active:"disabled"}];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(I.Z,{tabList:d,activeIndexTab:o.get("d")?1:0,showAs:!0,customStyleTab:{width:"100%"},customStyleLink:{width:"33.3%"},carryParentState:t}),(0,c.jsx)(S.Z,{customStyle:{width:"100%"}}),o.get("d")?"nonteaching"===o.get("d")?(0,c.jsx)(L,{instituteId:l,staffAlias:a}):null:(0,c.jsx)(k,{instituteId:l,staffAlias:a})]})},P=l(4942),R=l(97655),F=l(98734),q=function(e){var t=e.instituteId,l=e.onRefetch,a=e.leaveConfig,n=e.leaveConfig1,o=(0,s.$G)().t,d=(0,i.useState)({c_l:"",m_l:"",s_l:"",cm_l:"",ma_l:"",pa_l:"",q_l:"",hp_l:"",std_l:"",sb_l:"",sd_l:"",wv_l:"",sv_l:"",ch_l:"",b_l:""}),r=(0,f.Z)(d,2),v=r[0],_=r[1],m=(0,i.useState)({c_l:"",m_l:"",s_l:"",cm_l:"",ma_l:"",pa_l:"",q_l:"",hp_l:"",std_l:"",sb_l:"",sd_l:"",wv_l:"",sv_l:"",ch_l:"",b_l:""}),h=(0,f.Z)(m,2),p=h[0],x=h[1],g=(0,i.useState)(!1),j=(0,f.Z)(g,2),Z=j[0],S=j[1],b=(0,T.zH)(),N=(0,f.Z)(b,1)[0];(0,i.useEffect)((function(){var e,t,l,n,i,o,s,d,r,c,v,u,f,m,h;a&&_({c_l:null!==(e=null===a||void 0===a?void 0:a.casual_leave)&&void 0!==e?e:"",m_l:null!==(t=null===a||void 0===a?void 0:a.medical_leave)&&void 0!==t?t:"",s_l:null!==(l=null===a||void 0===a?void 0:a.sick_leave)&&void 0!==l?l:"",cm_l:null!==(n=null===a||void 0===a?void 0:a.commuted_leave)&&void 0!==n?n:"",ma_l:null!==(i=null===a||void 0===a?void 0:a.maternity_leave)&&void 0!==i?i:"",pa_l:null!==(o=null===a||void 0===a?void 0:a.paternity_leave)&&void 0!==o?o:"",q_l:null!==(s=null===a||void 0===a?void 0:a.quarantine_leave)&&void 0!==s?s:"",hp_l:null!==(d=null===a||void 0===a?void 0:a.half_pay_leave)&&void 0!==d?d:"",std_l:null!==(r=null===a||void 0===a?void 0:a.study_leave)&&void 0!==r?r:"",sb_l:null!==(c=null===a||void 0===a?void 0:a.sabbatical_leave)&&void 0!==c?c:"",sd_l:null!==(v=null===a||void 0===a?void 0:a.special_disability_leave)&&void 0!==v?v:"",wv_l:null!==(u=null===a||void 0===a?void 0:a.winter_vacation_leave)&&void 0!==u?u:"",sv_l:null!==(f=null===a||void 0===a?void 0:a.summer_vacation_leave)&&void 0!==f?f:"",ch_l:null!==(m=null===a||void 0===a?void 0:a.child_adoption_leave)&&void 0!==m?m:"",b_l:null!==(h=null===a||void 0===a?void 0:a.bereavement_leave)&&void 0!==h?h:""})}),[a]),(0,i.useEffect)((function(){var e,t,l,a,i,o,s,d,r,c,v,u,_,f,m;n&&x({c_l:null!==(e=null===n||void 0===n?void 0:n.casual_leave)&&void 0!==e?e:"",m_l:null!==(t=null===n||void 0===n?void 0:n.medical_leave)&&void 0!==t?t:"",s_l:null!==(l=null===n||void 0===n?void 0:n.sick_leave)&&void 0!==l?l:"",cm_l:null!==(a=null===n||void 0===n?void 0:n.commuted_leave)&&void 0!==a?a:"",ma_l:null!==(i=null===n||void 0===n?void 0:n.maternity_leave)&&void 0!==i?i:"",pa_l:null!==(o=null===n||void 0===n?void 0:n.paternity_leave)&&void 0!==o?o:"",q_l:null!==(s=null===n||void 0===n?void 0:n.quarantine_leave)&&void 0!==s?s:"",hp_l:null!==(d=null===n||void 0===n?void 0:n.half_pay_leave)&&void 0!==d?d:"",std_l:null!==(r=null===n||void 0===n?void 0:n.study_leave)&&void 0!==r?r:"",sb_l:null!==(c=null===n||void 0===n?void 0:n.sabbatical_leave)&&void 0!==c?c:"",sd_l:null!==(v=null===n||void 0===n?void 0:n.special_disability_leave)&&void 0!==v?v:"",wv_l:null!==(u=null===n||void 0===n?void 0:n.winter_vacation_leave)&&void 0!==u?u:"",sv_l:null!==(_=null===n||void 0===n?void 0:n.summer_vacation_leave)&&void 0!==_?_:"",ch_l:null!==(f=null===n||void 0===n?void 0:n.child_adoption_leave)&&void 0!==f?f:"",b_l:null!==(m=null===n||void 0===n?void 0:n.bereavement_leave)&&void 0!==m?m:""})}),[n]);var w=function(e){_((function(t){return(0,y.Z)((0,y.Z)({},t),{},(0,P.Z)({},e.target.name,+e.target.value))}))},C=function(e){x((function(t){return(0,y.Z)((0,y.Z)({},t),{},(0,P.Z)({},e.target.name,+e.target.value))}))};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h6",{className:u.Z.tf_heading,children:o("teaching_faculty")}),(0,c.jsxs)("div",{className:u.Z.all_leave_config,children:[(0,c.jsx)(R.Z,{labelText:o("casual_leave"),placeholder:o("casual_leave_placeholder"),name:"c_l",value:null===v||void 0===v?void 0:v.c_l,type:"tel",onChange:w}),(0,c.jsx)(R.Z,{labelText:o("medical_leave"),placeholder:o("medical_leave_placeholder"),name:"m_l",value:null===v||void 0===v?void 0:v.m_l,type:"tel",onChange:w}),(0,c.jsx)(R.Z,{labelText:o("sick_leave"),placeholder:o("sick_leave_placeholder"),name:"s_l",value:null===v||void 0===v?void 0:v.s_l,type:"tel",onChange:w})]}),(0,c.jsxs)("div",{className:u.Z.all_leave_config,children:[(0,c.jsx)(R.Z,{labelText:o("commuted_leave"),placeholder:o("commuted_leave_placeholder"),name:"cm_l",value:null===v||void 0===v?void 0:v.cm_l,type:"tel",onChange:w}),(0,c.jsx)(R.Z,{labelText:o("maternity_leave"),placeholder:o("maternity_leave_placeholder"),name:"ma_l",value:null===v||void 0===v?void 0:v.ma_l,type:"tel",onChange:w}),(0,c.jsx)(R.Z,{labelText:o("paternity_leave"),placeholder:o("paternity_leave_placeholder"),name:"pa_l",value:null===v||void 0===v?void 0:v.pa_l,type:"tel",onChange:w})]}),(0,c.jsxs)("div",{className:u.Z.all_leave_config,children:[(0,c.jsx)(R.Z,{labelText:o("quarantine_leave"),placeholder:o("quarantine_leave_placeholder"),name:"q_l",value:null===v||void 0===v?void 0:v.q_l,type:"tel",onChange:w}),(0,c.jsx)(R.Z,{labelText:o("half_pay_leave"),placeholder:o("half_pay_leave_placeholder"),name:"hp_l",value:null===v||void 0===v?void 0:v.hp_l,type:"tel",onChange:w}),(0,c.jsx)(R.Z,{labelText:o("study_leave"),placeholder:o("study_leave_placeholder"),name:"std_l",value:null===v||void 0===v?void 0:v.std_l,type:"tel",onChange:w})]}),(0,c.jsxs)("div",{className:u.Z.all_leave_config,children:[(0,c.jsx)(R.Z,{labelText:o("sabbatical_leave"),placeholder:o("sabbatical_leave_placeholder"),name:"sb_l",value:null===v||void 0===v?void 0:v.sb_l,type:"tel",onChange:w}),(0,c.jsx)(R.Z,{labelText:o("special_disability_leave"),placeholder:o("special_disability_leave_placeholder"),name:"sd_l",value:null===v||void 0===v?void 0:v.sd_l,type:"tel",onChange:w}),(0,c.jsx)(R.Z,{labelText:o("winter_vacation_leave"),placeholder:o("winter_vacation_leave_placeholder"),name:"wv_l",value:null===v||void 0===v?void 0:v.wv_l,type:"tel",onChange:w})]}),(0,c.jsxs)("div",{className:u.Z.all_leave_config,children:[(0,c.jsx)(R.Z,{labelText:o("summer_vacation_leave"),placeholder:o("summer_vacation_leave_placeholder"),name:"sv_l",value:null===v||void 0===v?void 0:v.sv_l,type:"tel",onChange:w}),(0,c.jsx)(R.Z,{labelText:o("child_adoption_leave"),placeholder:o("child_adoption_leave_placeholder"),name:"ch_l",value:null===v||void 0===v?void 0:v.ch_l,type:"tel",onChange:w}),(0,c.jsx)(R.Z,{labelText:o("bereavement_leave"),placeholder:o("bereavement_leave_placeholder"),name:"b_l",value:null===v||void 0===v?void 0:v.b_l,type:"tel",onChange:w})]}),(0,c.jsx)("button",{className:u.Z.select_application_btn,style:{width:"100%",justifyContent:"center"},onClick:function(){t&&(S((function(e){return!e})),N({id:t,flow:"TEACHING_FACULTY",leaveConfig:v}).then((function(){l(),S((function(e){return!e}))})).catch({}))},children:o("save")}),(0,c.jsx)("h6",{className:u.Z.tf_heading,style:{marginBottom:"1rem",marginTop:"2rem"},children:o("non_teaching_faculty")}),(0,c.jsxs)("div",{className:u.Z.all_leave_config,children:[(0,c.jsx)(R.Z,{labelText:o("casual_leave"),placeholder:o("casual_leave_placeholder"),name:"c_l",value:null===p||void 0===p?void 0:p.c_l,type:"tel",onChange:C}),(0,c.jsx)(R.Z,{labelText:o("medical_leave"),placeholder:o("medical_leave_placeholder"),name:"m_l",value:null===p||void 0===p?void 0:p.m_l,type:"tel",onChange:C}),(0,c.jsx)(R.Z,{labelText:o("sick_leave"),placeholder:o("sick_leave_placeholder"),name:"s_l",value:null===p||void 0===p?void 0:p.s_l,type:"tel",onChange:C})]}),(0,c.jsxs)("div",{className:u.Z.all_leave_config,children:[(0,c.jsx)(R.Z,{labelText:o("commuted_leave"),placeholder:o("commuted_leave_placeholder"),name:"cm_l",value:null===p||void 0===p?void 0:p.cm_l,type:"tel",onChange:C}),(0,c.jsx)(R.Z,{labelText:o("maternity_leave"),placeholder:o("maternity_leave_placeholder"),name:"ma_l",value:null===p||void 0===p?void 0:p.ma_l,type:"tel",onChange:C}),(0,c.jsx)(R.Z,{labelText:o("paternity_leave"),placeholder:o("paternity_leave_placeholder"),name:"pa_l",value:null===p||void 0===p?void 0:p.pa_l,type:"tel",onChange:C})]}),(0,c.jsxs)("div",{className:u.Z.all_leave_config,children:[(0,c.jsx)(R.Z,{labelText:o("quarantine_leave"),placeholder:o("quarantine_leave_placeholder"),name:"q_l",value:null===p||void 0===p?void 0:p.q_l,type:"tel",onChange:C}),(0,c.jsx)(R.Z,{labelText:o("half_pay_leave"),placeholder:o("half_pay_leave_placeholder"),name:"hp_l",value:null===p||void 0===p?void 0:p.hp_l,type:"tel",onChange:C}),(0,c.jsx)(R.Z,{labelText:o("study_leave"),placeholder:o("study_leave_placeholder"),name:"std_l",value:null===p||void 0===p?void 0:p.std_l,type:"tel",onChange:C})]}),(0,c.jsxs)("div",{className:u.Z.all_leave_config,children:[(0,c.jsx)(R.Z,{labelText:o("sabbatical_leave"),placeholder:o("sabbatical_leave_placeholder"),name:"sb_l",value:null===p||void 0===p?void 0:p.sb_l,type:"tel",onChange:C}),(0,c.jsx)(R.Z,{labelText:o("special_disability_leave"),placeholder:o("special_disability_leave_placeholder"),name:"sd_l",value:null===p||void 0===p?void 0:p.sd_l,type:"tel",onChange:C}),(0,c.jsx)(R.Z,{labelText:o("winter_vacation_leave"),placeholder:o("winter_vacation_leave_placeholder"),name:"wv_l",value:null===p||void 0===p?void 0:p.wv_l,type:"tel",onChange:C})]}),(0,c.jsxs)("div",{className:u.Z.all_leave_config,children:[(0,c.jsx)(R.Z,{labelText:o("summer_vacation_leave"),placeholder:o("summer_vacation_leave_placeholder"),name:"sv_l",value:null===p||void 0===p?void 0:p.sv_l,type:"tel",onChange:C}),(0,c.jsx)(R.Z,{labelText:o("child_adoption_leave"),placeholder:o("child_adoption_leave_placeholder"),name:"ch_l",value:null===p||void 0===p?void 0:p.ch_l,type:"tel",onChange:C}),(0,c.jsx)(R.Z,{labelText:o("bereavement_leave"),placeholder:o("bereavement_leave_placeholder"),name:"b_l",value:null===p||void 0===p?void 0:p.b_l,type:"tel",onChange:C})]}),(0,c.jsx)("button",{className:u.Z.select_application_btn,style:{width:"100%",justifyContent:"center"},onClick:function(){t&&(S((function(e){return!e})),N({id:t,flow:"NON_TEACHING_FACULTY",leaveConfig:p}).then((function(){l(),S((function(e){return!e}))})).catch({}))},children:o("save")}),Z&&(0,c.jsx)(F.Z,{})]})},E=l(3890),O=l(59965),Y=function(e){var t=e.lid,l=e.onRefetch,a=e.leaveConfigCarry,n=(0,s.$G)().t,o=(0,i.useState)({leave_carry_forward:"",leave_pre_approved:"",calendar:"",leave_pre_approved_non_teaching:"",leave_carry_forward_non_teaching:""}),d=(0,f.Z)(o,2),r=d[0],v=d[1],_=(0,i.useState)(!1),m=(0,f.Z)(_,2),h=m[0],p=m[1],x=(0,T.Ps)(),g=(0,f.Z)(x,1)[0];(0,i.useEffect)((function(){var e,t,l,n;a&&v({leave_carry_forward:null!==(e=null===a||void 0===a?void 0:a.leave_carry_forward)&&void 0!==e?e:"",leave_pre_approved:null!==(t=null===a||void 0===a?void 0:a.leave_pre_approved)&&void 0!==t?t:"",leave_pre_approved_non_teaching:null!==(l=null===a||void 0===a?void 0:a.leave_pre_approved_non_teaching)&&void 0!==l?l:"",leave_carry_forward_non_teaching:null!==(n=null===a||void 0===a?void 0:a.leave_carry_forward_non_teaching)&&void 0!==n?n:""})}),[a]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h6",{className:u.Z.tf_heading,children:n("teaching_faculty")}),(0,c.jsxs)("div",{className:u.Z.all_leave_config,style:{justifyContent:"flex-start",gap:"6rem"},children:[(0,c.jsx)(E.Z,{labelText:"leave_carry_forward",tileList:G,activeTile:r.leave_carry_forward,onTile:function(e){v((function(t){return(0,y.Z)((0,y.Z)({},t),{},{leave_carry_forward:e})}))}}),(0,c.jsx)(E.Z,{labelText:"leave_pre_approved",tileList:G,activeTile:r.leave_pre_approved,onTile:function(e){v((function(t){return(0,y.Z)((0,y.Z)({},t),{},{leave_pre_approved:e})}))}})]}),(0,c.jsx)("h6",{className:u.Z.tf_heading,children:n("non_teaching_faculty")}),(0,c.jsxs)("div",{className:u.Z.all_leave_config,style:{justifyContent:"flex-start",gap:"6rem"},children:[(0,c.jsx)(E.Z,{labelText:"leave_carry_forward",tileList:G,activeTile:r.leave_carry_forward_non_teaching,onTile:function(e){v((function(t){return(0,y.Z)((0,y.Z)({},t),{},{leave_carry_forward_non_teaching:e})}))}}),(0,c.jsx)(E.Z,{labelText:"leave_pre_approved",tileList:G,activeTile:r.leave_pre_approved_non_teaching,onTile:function(e){v((function(t){return(0,y.Z)((0,y.Z)({},t),{},{leave_pre_approved_non_teaching:e})}))}})]}),(0,c.jsx)(O.Z,{labelText:n("select_leave_academic_year"),placeholder:n("select_date"),name:"calendar",value:r.calendar,onDateFunction:function(e){v((function(t){return(0,y.Z)((0,y.Z)({},t),{},{calendar:e})}))},customStyleContainer:{position:"relative",width:"48%"},datePickerPosition:{top:"-1rem",left:"-7rem"}}),(0,c.jsx)("button",{className:u.Z.select_application_btn,style:{width:"100%",justifyContent:"center"},onClick:function(){var e,a,n,i;t&&(p((function(e){return!e})),g({lid:t,flow:r.calendar?"Leave_Start":"",year:r.calendar?null===(e=r.calendar)||void 0===e?void 0:e.substring(6):"",date:r.calendar?null===(a=r.calendar)||void 0===a?void 0:a.substring(0,2):"",month:r.calendar?null===(n=r.calendar)||void 0===n?void 0:n.substring(3,5):"",int_month:r.calendar?+(null===(i=r.calendar)||void 0===i?void 0:i.substring(3,5)):"",cConfig:r}).then((function(){l(),p((function(e){return!e}))})).catch({}))},children:n("save")}),h&&(0,c.jsx)(F.Z,{})]})},G=[{name:"yes",key:!0},{name:"no",key:!1}],J=function(e){var t=e.carryParentState,l=e.instituteId,a=e.lid,n=e.leaveConfig,i=e.leaveConfig1,o=e.leaveConfigCarry,d=e.onRefetch,v=(0,s.$G)().t,u=(0,r.lr)(),_=(0,f.Z)(u,1)[0],m=[{name:v("all_leave"),id:0,url:"member/leavestransfer?a=configuration&n=allleave",is_active:"enabled"},{name:v("leave_setting"),id:1,url:"member/leavestransfer?a=configuration&n=allleave&d=setting",is_active:"enabled"}];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(I.Z,{tabList:m,activeIndexTab:_.get("d")?1:0,showAs:!0,customStyleTab:{width:"100%"},customStyleLink:{width:"50%"},carryParentState:t}),(0,c.jsx)(S.Z,{customStyle:{width:"100%"}}),_.get("d")?"setting"===_.get("d")?(0,c.jsx)(Y,{lid:a,leaveConfigCarry:o,onRefetch:d}):null:(0,c.jsx)(q,{instituteId:l,leaveConfig:n,leaveConfig1:i,onRefetch:d})]})},U=function(e){var t=e.lid,l=e.onRefetch,a=e.leaveConfig,n=(0,s.$G)().t,o=(0,i.useState)({casual_leave:"",medical_leave:"",sick_leave:"",commuted_leave:"",maternity_leave:"",paternity_leave:"",quarantine_leave:"",half_pay_leave:"",study_leave:"",sabbatical_leave:"",special_disability_leave:"",winter_vacation_leave:"",summer_vacation_leave:"",child_adoption_leave:"",bereavement_leave:"",earned_leave:""}),d=(0,f.Z)(o,2),r=d[0],v=d[1],_=(0,i.useState)(!1),m=(0,f.Z)(_,2),h=m[0],p=m[1],x=(0,T._F)(),g=(0,f.Z)(x,1)[0];(0,i.useEffect)((function(){var e,t,l,n,i,o,s,d,r,c,u,_,f,m,h,p;a&&v({casual_leave:null!==(e=null===a||void 0===a?void 0:a.casual_leave)&&void 0!==e?e:"",medical_leave:null!==(t=null===a||void 0===a?void 0:a.medical_leave)&&void 0!==t?t:"",sick_leave:null!==(l=null===a||void 0===a?void 0:a.sick_leave)&&void 0!==l?l:"",commuted_leave:null!==(n=null===a||void 0===a?void 0:a.commuted_leave)&&void 0!==n?n:"",maternity_leave:null!==(i=null===a||void 0===a?void 0:a.maternity_leave)&&void 0!==i?i:"",paternity_leave:null!==(o=null===a||void 0===a?void 0:a.paternity_leave)&&void 0!==o?o:"",quarantine_leave:null!==(s=null===a||void 0===a?void 0:a.quarantine_leave)&&void 0!==s?s:"",half_pay_leave:null!==(d=null===a||void 0===a?void 0:a.half_pay_leave)&&void 0!==d?d:"",study_leave:null!==(r=null===a||void 0===a?void 0:a.study_leave)&&void 0!==r?r:"",sabbatical_leave:null!==(c=null===a||void 0===a?void 0:a.sabbatical_leave)&&void 0!==c?c:"",special_disability_leave:null!==(u=null===a||void 0===a?void 0:a.special_disability_leave)&&void 0!==u?u:"",winter_vacation_leave:null!==(_=null===a||void 0===a?void 0:a.winter_vacation_leave)&&void 0!==_?_:"",summer_vacation_leave:null!==(f=null===a||void 0===a?void 0:a.summer_vacation_leave)&&void 0!==f?f:"",child_adoption_leave:null!==(m=null===a||void 0===a?void 0:a.child_adoption_leave)&&void 0!==m?m:"",bereavement_leave:null!==(h=null===a||void 0===a?void 0:a.bereavement_leave)&&void 0!==h?h:"",earned_leave:null!==(p=null===a||void 0===a?void 0:a.earned_leave)&&void 0!==p?p:""})}),[a]);var j=function(e){v((function(t){return(0,y.Z)((0,y.Z)({},t),{},(0,P.Z)({},e.target.name,e.target.value))}))};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:u.Z.all_leave_config,children:[(0,c.jsx)(R.Z,{labelText:n("casual_leave"),placeholder:n("casual_leave_placeholder"),name:"casual_leave",value:null===r||void 0===r?void 0:r.casual_leave,type:"tel",onChange:j}),(0,c.jsx)(R.Z,{labelText:n("medical_leave"),placeholder:n("medical_leave_placeholder"),name:"medical_leave",value:null===r||void 0===r?void 0:r.medical_leave,type:"tel",onChange:j}),(0,c.jsx)(R.Z,{labelText:n("sick_leave"),placeholder:n("sick_leave_placeholder"),name:"sick_leave",value:null===r||void 0===r?void 0:r.sick_leave,type:"tel",onChange:j})]}),(0,c.jsxs)("div",{className:u.Z.all_leave_config,children:[(0,c.jsx)(R.Z,{labelText:n("commuted_leave"),placeholder:n("commuted_leave_placeholder"),name:"commuted_leave",value:null===r||void 0===r?void 0:r.commuted_leave,type:"tel",onChange:j}),(0,c.jsx)(R.Z,{labelText:n("maternity_leave"),placeholder:n("maternity_leave_placeholder"),name:"maternity_leave",value:null===r||void 0===r?void 0:r.maternity_leave,type:"tel",onChange:j}),(0,c.jsx)(R.Z,{labelText:n("paternity_leave"),placeholder:n("paternity_leave_placeholder"),name:"paternity_leave",value:null===r||void 0===r?void 0:r.paternity_leave,type:"tel",onChange:j})]}),(0,c.jsxs)("div",{className:u.Z.all_leave_config,children:[(0,c.jsx)(R.Z,{labelText:n("quarantine_leave"),placeholder:n("quarantine_leave_placeholder"),name:"quarantine_leave",value:null===r||void 0===r?void 0:r.quarantine_leave,type:"tel",onChange:j}),(0,c.jsx)(R.Z,{labelText:n("half_pay_leave"),placeholder:n("half_pay_leave_placeholder"),name:"half_pay_leave",value:null===r||void 0===r?void 0:r.half_pay_leave,type:"tel",onChange:j}),(0,c.jsx)(R.Z,{labelText:n("study_leave"),placeholder:n("study_leave_placeholder"),name:"study_leave",value:null===r||void 0===r?void 0:r.study_leave,type:"tel",onChange:j})]}),(0,c.jsxs)("div",{className:u.Z.all_leave_config,children:[(0,c.jsx)(R.Z,{labelText:n("sabbatical_leave"),placeholder:n("sabbatical_leave_placeholder"),name:"sabbatical_leave",value:null===r||void 0===r?void 0:r.sabbatical_leave,type:"tel",onChange:j}),(0,c.jsx)(R.Z,{labelText:n("special_disability_leave"),placeholder:n("special_disability_leave_placeholder"),name:"special_disability_leave",value:null===r||void 0===r?void 0:r.special_disability_leave,type:"tel",onChange:j}),(0,c.jsx)(R.Z,{labelText:n("winter_vacation_leave"),placeholder:n("winter_vacation_leave_placeholder"),name:"winter_vacation_leave",value:null===r||void 0===r?void 0:r.winter_vacation_leave,type:"tel",onChange:j})]}),(0,c.jsxs)("div",{className:u.Z.all_leave_config,children:[(0,c.jsx)(R.Z,{labelText:n("summer_vacation_leave"),placeholder:n("summer_vacation_leave_placeholder"),name:"summer_vacation_leave",value:null===r||void 0===r?void 0:r.summer_vacation_leave,type:"tel",onChange:j}),(0,c.jsx)(R.Z,{labelText:n("child_adoption_leave"),placeholder:n("child_adoption_leave_placeholder"),name:"child_adoption_leave",value:null===r||void 0===r?void 0:r.child_adoption_leave,type:"tel",onChange:j}),(0,c.jsx)(R.Z,{labelText:n("bereavement_leave"),placeholder:n("bereavement_leave_placeholder"),name:"bereavement_leave",value:null===r||void 0===r?void 0:r.bereavement_leave,type:"tel",onChange:j})]}),(0,c.jsx)("div",{className:u.Z.all_leave_config,children:(0,c.jsx)(R.Z,{labelText:n("earned_leave"),placeholder:n("earned_leave_placeholder"),name:"earned_leave",value:null===r||void 0===r?void 0:r.earned_leave,type:"tel",onChange:j})}),(0,c.jsx)("button",{className:u.Z.select_application_btn,style:{width:"100%",justifyContent:"center"},onClick:function(){t&&(p((function(e){return!e})),g({lid:t,setConfig:r}).then((function(){l(),p((function(e){return!e}))})).catch({}))},children:n("save")}),h&&(0,c.jsx)(F.Z,{})]})},V=function(e){var t=e.carryParentState,l=(0,s.$G)().t,n=(0,a.UO)();return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:d.Z.item,style:{marginTop:"1rem",marginLeft:"-1.2rem"},children:[(0,c.jsx)(r.rU,{to:"/q/".concat(n.username,"/member/leavestransfer?a=configuration&n=allottment"),state:t,className:d.Z.mcqTopItem,children:(0,c.jsxs)("div",{className:d.Z.itemIcon,children:[(0,c.jsx)("img",{src:"/images/member_tab/lat/allot.svg",alt:"Class Catalog"}),(0,c.jsx)("p",{children:l("leave_allottment")})]})}),(0,c.jsx)(r.rU,{to:"/q/".concat(n.username,"/member/leavestransfer?a=configuration&n=setoff"),state:t,className:d.Z.mcqTopItem,children:(0,c.jsxs)("div",{className:d.Z.itemIcon,children:[(0,c.jsx)("img",{src:"/images/member_tab/lat/setoff.svg",alt:"attendence"}),(0,c.jsxs)("p",{children:[" ",l("leave_setoff_rule")," "]})]})}),(0,c.jsx)(r.rU,{to:"/q/".concat(n.username,"/member/leavestransfer?a=configuration&n=holiday"),state:t,className:d.Z.mcqTopItem,children:(0,c.jsxs)("div",{className:d.Z.itemIcon,children:[(0,c.jsx)("img",{src:"/images/member_tab/lat/holiday.svg",alt:"assignment"}),(0,c.jsx)("p",{children:l("holiday")})]})}),(0,c.jsx)(r.rU,{to:"/q/".concat(n.username,"/member/leavestransfer?a=configuration&n=allleave"),state:t,className:d.Z.mcqTopItem,children:(0,c.jsxs)("div",{className:d.Z.itemIcon,children:[(0,c.jsx)("img",{src:"/images/member_tab/lat/leave.svg",alt:"attendence"}),(0,c.jsx)("p",{children:l("all_leave")})]})}),(0,c.jsxs)("div",{className:d.Z.itemIcon,children:[(0,c.jsx)("img",{src:"/images/member_tab/lat/biometric.svg",alt:"attendence"}),(0,c.jsx)("p",{children:l("biometric_linking")})]})]})})},H=function(e){var t=e.lid,l=e.onRefetch,a=e.leaveConfigCarry,n=(0,s.$G)().t,o=(0,i.useState)({mark_status:"",date_arr:[]}),d=(0,f.Z)(o,2),r=d[0],v=d[1],_=(0,i.useState)(!1),m=(0,f.Z)(_,2),h=m[0],p=m[1],x=(0,T.gz)(),g=(0,f.Z)(x,1)[0];(0,i.useEffect)((function(){var e,t;a&&v({mark_status:null!==(e=null===a||void 0===a?void 0:a.mark_status)&&void 0!==e?e:"",date_arr:null!==(t=null===a||void 0===a?void 0:a.date_arr)&&void 0!==t?t:[]})}),[a]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:u.Z.all_leave_config,children:[(0,c.jsx)(E.Z,{labelText:"all_sundays",tileList:B,activeTile:"ALL_SUNDAYS"===r.mark_status,onTile:function(e){v((function(t){return(0,y.Z)((0,y.Z)({},t),{},{mark_status:e?"ALL_SUNDAYS":""})}))}}),(0,c.jsx)(E.Z,{labelText:"all_saturdays",tileList:B,activeTile:"ALL_SATURDAYS"===r.mark_status,onTile:function(e){v((function(t){return(0,y.Z)((0,y.Z)({},t),{},{mark_status:e?"ALL_SATURDAYS":""})}))}}),(0,c.jsx)(O.Z,{labelText:n("select_leave_holiday"),placeholder:n("select_date"),name:"calendar",value:r.date_arr,onDateFunction:function(e){v((function(t){return(0,y.Z)((0,y.Z)({},t),{},{date_arr:e})}))},customStyleInput:{paddingRight:"3rem"},customStyleContainer:{position:"relative",width:"48%"},datePickerPosition:{top:"-1rem",left:"-7rem"},isMultiple:!0})]}),(0,c.jsx)("button",{className:u.Z.select_application_btn,style:{width:"100%",justifyContent:"center"},onClick:function(){t&&(p((function(e){return!e})),g({lid:t,holidayConfig:r}).then((function(){l(),p((function(e){return!e}))})).catch({}))},children:n("save")}),h&&(0,c.jsx)(F.Z,{})]})},B=[{name:"yes",key:!0},{name:"no",key:!1}],$=function(e){var t,l,a,n,o,d,v,u,_=e.carryParentState,m=e.instituteId,h=e.staffAlias,p=e.lid,x=(0,s.$G)().t,g=(0,r.lr)(),j=(0,f.Z)(g,1)[0],Z=(0,T.lo)({id:m,skip:!m}),y=Z.leaveConfigAllDetail,b=Z.leaveConfigAllDetailRefetch;return(0,i.useEffect)((function(){m&&b()}),[b,m]),(0,c.jsx)(c.Fragment,{children:j.get("n")?"allottment"===j.get("n")?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h6",{children:x("leave_allottment")}),(0,c.jsx)(S.Z,{customStyle:{width:"100%"}}),(0,c.jsx)(D,{instituteId:m,carryParentState:_,staffAlias:h})]}):"allleave"===j.get("n")?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h6",{children:x("all_leave")}),(0,c.jsx)(S.Z,{customStyle:{width:"100%"}}),(0,c.jsx)(J,{instituteId:m,carryParentState:_,lid:p,leaveConfig:null===y||void 0===y||null===(t=y.leave_config)||void 0===t?void 0:t.staff_leave_config,leaveConfig1:null===y||void 0===y||null===(l=y.leave_config)||void 0===l?void 0:l.staff_leave_config_non_teaching,leaveConfigCarry:{leave_carry_forward:null===y||void 0===y||null===(a=y.leave_config)||void 0===a?void 0:a.leave_carry_forward,leave_pre_approved:null===y||void 0===y||null===(n=y.leave_config)||void 0===n?void 0:n.leave_pre_approved,leave_pre_approved_non_teaching:null===y||void 0===y||null===(o=y.leave_config)||void 0===o?void 0:o.leave_pre_approved_non_teaching,leave_carry_forward_non_teaching:null===y||void 0===y||null===(d=y.leave_config)||void 0===d?void 0:d.leave_carry_forward_non_teaching},onRefetch:b})]}):"setoff"===j.get("n")?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h6",{children:x("leave_setoff_rule")}),(0,c.jsx)(S.Z,{customStyle:{width:"100%"}}),(0,c.jsx)(U,{lid:p,carryParentState:_,leaveConfig:null===y||void 0===y||null===(v=y.leave_config)||void 0===v?void 0:v.set_off_rules,onRefetch:b})]}):"holiday"===j.get("n")?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h6",{children:x("holiday")}),(0,c.jsx)(S.Z,{customStyle:{width:"100%"}}),(0,c.jsx)(H,{lid:p,carryParentState:_,leaveConfig:null===y||void 0===y||null===(u=y.leave_config)||void 0===u?void 0:u.holiday_config,onRefetch:b})]}):null:(0,c.jsx)(V,{carryParentState:_})})},z=l(6245),W=l(35395),K=l(72426),X=l.n(K),Q=i.lazy((function(){return l.e(2520).then(l.bind(l,92520))})),ee=function(e){var t,l,a,n,o,d,r=e.leave,v=e.onStaffLeaveListRefetch,u=e.viewBy,_=(0,s.$G)().t,m=(0,z.Gh)(),h=(0,f.Z)(m,1)[0],p=(0,T.Pv)(),x=(0,f.Z)(p,1)[0],g=(0,i.useState)(!1),j=(0,f.Z)(g,2),Z=j[0],y=j[1],w=(0,i.useState)(!1),C=(0,f.Z)(w,2),A=C[0],I=C[1],M=function(e){var t,l;(y((function(e){return!e})),"COFF"===u&&null!==r&&void 0!==r&&null!==(t=r.staff)&&void 0!==t&&t._id)?x({lid:null===r||void 0===r?void 0:r._id,cConfig:{sid:null===r||void 0===r||null===(l=r.staff)||void 0===l?void 0:l._id}}).then((function(){v(),y((function(e){return!e}))})):h({id:null===r||void 0===r?void 0:r._id,leaveAction:{status:e}}).then((function(){v(),y((function(e){return!e}))}))};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:N.Z.request_card,children:[(0,c.jsxs)("div",{className:N.Z.request_card_header,children:[(0,c.jsxs)("div",{className:N.Z.request_card_text,children:[(0,c.jsx)("img",{src:null!==r&&void 0!==r&&null!==(t=r.staff)&&void 0!==t&&t.staffProfilePhoto?"".concat(b.yI,"/").concat(null===r||void 0===r||null===(l=r.staff)||void 0===l?void 0:l.staffProfilePhoto):"/images/demo_users/user5.svg",alt:""}),(0,c.jsxs)("div",{className:N.Z.request_card_inner_text,children:[(0,c.jsx)("h6",{children:"".concat(null===r||void 0===r||null===(a=r.staff)||void 0===a?void 0:a.staffFirstName," ").concat(null!==r&&void 0!==r&&null!==(n=r.staff)&&void 0!==n&&n.staffMiddleName?null===r||void 0===r||null===(o=r.staff)||void 0===o?void 0:o.staffMiddleName:""," ").concat(null===r||void 0===r||null===(d=r.staff)||void 0===d?void 0:d.staffLastName)}),(0,c.jsxs)("p",{children:[_("raised_on")," ",X()(null===r||void 0===r?void 0:r.createdAt).format("LT"),","," ",X()(null===r||void 0===r?void 0:r.createdAt).format("DD MMM yyyy"),", ",(0,c.jsx)("span",{className:N.Z.viewAll,onClick:function(){return I(!0)},children:_("for_dates")})]})]})]}),(0,c.jsx)("div",{className:N.Z.request_card_btn_group,children:"Request"===(null===r||void 0===r?void 0:r.status)?(0,c.jsxs)(c.Fragment,{children:["COFF"===u?null:(0,c.jsx)("div",{className:N.Z.reject_btn,onClick:function(){M("Rejected")},children:_("reject")}),(0,c.jsx)("div",{className:N.Z.accept_btn,onClick:function(){M("Accepted")},children:_("approve")})]}):null})]}),(0,c.jsx)("div",{className:N.Z.request_card_inner_text,style:{marginTop:"0.5rem"},children:(0,c.jsxs)("h6",{style:{fontWeight:"400"},children:[_("leave_type")," "," : ",null===r||void 0===r?void 0:r.leave_type]})}),(0,c.jsx)("div",{className:N.Z.request_card_inner_text,style:{marginTop:"0.5rem"},children:(0,c.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[_("reason")," "," : ",null===r||void 0===r?void 0:r.reason]})}),(null===r||void 0===r?void 0:r.attach)&&(0,c.jsx)("div",{className:N.Z.request_card_inner_text,style:{marginTop:"0.5rem"},children:(0,c.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[_("attachment")," "," : ",(0,c.jsx)("a",{href:"".concat(b.r3,"/").concat(null===r||void 0===r?void 0:r.attach),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,c.jsx)("span",{className:N.Z.viewAll,children:_("view_attachment")})})]})})]}),(0,c.jsx)(S.Z,{customStyle:{width:"100%"}}),A&&(0,c.jsx)(W.Z,{children:(0,c.jsx)(Q,{open:A,hideModal:function(e){return I(e)},dates:null===r||void 0===r?void 0:r.date})}),Z&&(0,c.jsx)(F.Z,{})]})},te=function(e){var t=e.instituteId,l=(0,p.YD)(),a=(0,f.Z)(l,2),n=a[0],o=a[1],s=(0,i.useState)(1),d=(0,f.Z)(s,2),r=d[0],v=d[1],u=(0,i.useState)(!0),m=(0,f.Z)(u,2),h=m[0],g=m[1],j=(0,i.useState)(!0),Z=(0,f.Z)(j,2),y=Z[0],S=Z[1],b=(0,i.useState)([]),N=(0,f.Z)(b,2),w=N[0],C=N[1],A=(0,z.eJ)({data:{id:t,page:r,limit:10,flow:"Request"},skip:!t}),I=A.staffLeaveList,T=A.staffLeaveListRefetch;(0,i.useEffect)((function(){t&&(S(!0),T())}),[t,r,T]),(0,i.useEffect)((function(){o&&h&&v((function(e){return e+1}))}),[o,h]),(0,i.useEffect)((function(){var e,t;null!==I&&void 0!==I&&I.all_leave?1===r?(C(null===I||void 0===I?void 0:I.all_leave),S(!1)):(C((function(e){var t,l;return null===(t=(0,_.Z)(new Set(null===(l=[].concat((0,_.Z)(e),(0,_.Z)(null===I||void 0===I?void 0:I.all_leave)))||void 0===l?void 0:l.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),S(!1)):0===(null===I||void 0===I||null===(e=I.all_leave)||void 0===e?void 0:e.length)&&S(!1),10===(null===I||void 0===I||null===(t=I.all_leave)||void 0===t?void 0:t.length)?g(!0):g(!1)}),[null===I||void 0===I?void 0:I.all_leave]);var M=function(){v(1),S(!0),T()};return(0,c.jsxs)(c.Fragment,{children:[null===w||void 0===w?void 0:w.map((function(e,t){return(null===w||void 0===w?void 0:w.length)===t+1?(0,c.jsx)("div",{ref:n,children:(0,c.jsx)(ee,{leave:e,onStaffLeaveListRefetch:M})},null===e||void 0===e?void 0:e._id):(0,c.jsx)(ee,{leave:e,onStaffLeaveListRefetch:M},t)})),y&&(0,c.jsx)(x.Z,{})]})},le=function(e){var t=e.instituteId,l=(0,p.YD)(),a=(0,f.Z)(l,2),n=a[0],o=a[1],s=(0,i.useState)(1),d=(0,f.Z)(s,2),r=d[0],v=d[1],u=(0,i.useState)(!0),m=(0,f.Z)(u,2),h=m[0],g=m[1],j=(0,i.useState)(!0),Z=(0,f.Z)(j,2),y=Z[0],S=Z[1],b=(0,i.useState)([]),N=(0,f.Z)(b,2),w=N[0],C=N[1],A=(0,T.DH)({data:{id:t,page:r,limit:10,flow:"Request"},skip:!t}),I=A.getManageCOffLeave,M=A.getManageCOffLeaveRefetch;(0,i.useEffect)((function(){t&&(S(!0),M())}),[t,r,M]),(0,i.useEffect)((function(){o&&h&&v((function(e){return e+1}))}),[o,h]),(0,i.useEffect)((function(){var e,t;null!==I&&void 0!==I&&I.all_leave?1===r?(C(null===I||void 0===I?void 0:I.all_leave),S(!1)):(C((function(e){var t,l;return null===(t=(0,_.Z)(new Set(null===(l=[].concat((0,_.Z)(e),(0,_.Z)(null===I||void 0===I?void 0:I.all_leave)))||void 0===l?void 0:l.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),S(!1)):0===(null===I||void 0===I||null===(e=I.all_leave)||void 0===e?void 0:e.length)&&S(!1),10===(null===I||void 0===I||null===(t=I.all_leave)||void 0===t?void 0:t.length)?g(!0):g(!1)}),[null===I||void 0===I?void 0:I.all_leave]);var k=function(){v(1),S(!0),M()};return(0,c.jsxs)(c.Fragment,{children:[null===w||void 0===w?void 0:w.map((function(e,t){return(null===w||void 0===w?void 0:w.length)===t+1?(0,c.jsx)("div",{ref:n,children:(0,c.jsx)(ee,{leave:e,onStaffLeaveListRefetch:k,viewBy:"COFF"})},null===e||void 0===e?void 0:e._id):(0,c.jsx)(ee,{leave:e,onStaffLeaveListRefetch:k,viewBy:"COFF"},t)})),y&&(0,c.jsx)(x.Z,{})]})},ae=function(e){var t=e.instituteId,l=(0,p.YD)(),a=(0,f.Z)(l,2),n=a[0],o=a[1],s=(0,i.useState)(1),d=(0,f.Z)(s,2),r=d[0],v=d[1],u=(0,i.useState)(!0),m=(0,f.Z)(u,2),h=m[0],g=m[1],j=(0,i.useState)(!0),Z=(0,f.Z)(j,2),y=Z[0],S=Z[1],b=(0,i.useState)([]),N=(0,f.Z)(b,2),w=N[0],C=N[1],A=(0,z.eJ)({data:{id:t,page:r,limit:10,flow:"Accepted"},skip:!t}),I=A.staffLeaveList,T=A.staffLeaveListRefetch;(0,i.useEffect)((function(){t&&(S(!0),T())}),[t,r,T]),(0,i.useEffect)((function(){o&&h&&v((function(e){return e+1}))}),[o,h]),(0,i.useEffect)((function(){var e,t;null!==I&&void 0!==I&&I.all_leave?1===r?(C(null===I||void 0===I?void 0:I.all_leave),S(!1)):(C((function(e){var t,l;return null===(t=(0,_.Z)(new Set(null===(l=[].concat((0,_.Z)(e),(0,_.Z)(null===I||void 0===I?void 0:I.all_leave)))||void 0===l?void 0:l.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),S(!1)):0===(null===I||void 0===I||null===(e=I.all_leave)||void 0===e?void 0:e.length)&&S(!1),10===(null===I||void 0===I||null===(t=I.all_leave)||void 0===t?void 0:t.length)?g(!0):g(!1)}),[null===I||void 0===I?void 0:I.all_leave]);var M=function(){v(1),S(!0),T()};return(0,c.jsxs)(c.Fragment,{children:[null===w||void 0===w?void 0:w.map((function(e,t){return(null===w||void 0===w?void 0:w.length)===t+1?(0,c.jsx)("div",{ref:n,children:(0,c.jsx)(ee,{leave:e,onStaffLeaveListRefetch:M})},null===e||void 0===e?void 0:e._id):(0,c.jsx)(ee,{leave:e,onStaffLeaveListRefetch:M},t)})),y&&(0,c.jsx)(x.Z,{})]})},ne=function(e){var t=e.carryParentState,l=e.instituteId,a=(0,s.$G)().t,n=(0,r.lr)(),i=(0,f.Z)(n,1)[0],o=[{name:a("leave_request"),id:0,url:"member/leavestransfer?a=request",is_active:"enabled"},{name:a("issued"),id:1,url:"member/leavestransfer?a=request&n=issued",is_active:"enabled"},{name:a("manage_c_off"),id:2,url:"member/leavestransfer?a=request&n=manage-off",is_active:"enabled"}];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(I.Z,{tabList:o,activeIndexTab:i.get("n")?"issued"===i.get("n")?1:2:0,showAs:!0,customStyleTab:{width:"100%"},customStyleLink:{width:"33.3%"},carryParentState:t}),(0,c.jsx)(S.Z,{customStyle:{width:"100%"}}),i.get("n")?"issued"===i.get("n")?(0,c.jsx)(ae,{instituteId:l}):(0,c.jsx)(le,{instituteId:l}):(0,c.jsx)(te,{instituteId:l})]})},ie=l(10406),oe=l(33992),se=l(94123),de=l(53400),re=l(99761),ce=function(e){var t=e.instituteId,l=(0,s.$G)().t,a=(0,i.useState)(!1),n=(0,f.Z)(a,2),o=n[0],d=n[1],r=(0,p.YD)(),v=(0,f.Z)(r,2),u=v[0],m=v[1],h=(0,i.useState)(1),g=(0,f.Z)(h,2),j=g[0],Z=g[1],y=(0,i.useState)(!0),S=(0,f.Z)(y,2),b=S[0],N=S[1],w=(0,i.useState)(!0),C=(0,f.Z)(w,2),A=C[0],I=C[1],T=(0,i.useState)([]),M=(0,f.Z)(T,2),k=M[0],L=M[1],D=(0,i.useState)(""),P=(0,f.Z)(D,2),R=P[0],F=P[1],q=(0,oe.L9)({data:{id:t,page:j,limit:10,search:"",query:"LeaveAndTransfer",role:""},skip:!t}),E=q.getModeratorByInstitute,O=q.getModeratorByInstituteRefetch;(0,i.useEffect)((function(){t&&(I(!0),O())}),[t,j,O]),(0,i.useEffect)((function(){m&&b&&Z((function(e){return e+1}))}),[m,b]),(0,i.useEffect)((function(){var e,t;null!==E&&void 0!==E&&E.all_mods?(L(1===j?null===E||void 0===E?void 0:E.all_mods:function(e){var t,l;return null===(t=(0,_.Z)(new Set(null===(l=[].concat((0,_.Z)(e),(0,_.Z)(null===E||void 0===E?void 0:E.all_mods)))||void 0===l?void 0:l.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)}),I(!1)):0===(null===E||void 0===E||null===(e=E.all_mods)||void 0===e?void 0:e.length)&&I(!1),10===(null===E||void 0===E||null===(t=E.all_mods)||void 0===t?void 0:t.length)?N(!0):N(!1)}),[null===E||void 0===E?void 0:E.all_mods]);var Y=function(){Z((function(e){return 1})),I(!0),O()};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:ie.Z.with_search,style:{justifyContent:"flex-end",marginTop:"0.8rem"},children:(0,c.jsx)("p",{className:ie.Z.add_new_category,onClick:function(){d((function(e){return!e}))},children:l("create_new_moderator")})}),null===k||void 0===k?void 0:k.map((function(e,t){return(null===k||void 0===k?void 0:k.length)===t+1?(0,c.jsx)("div",{ref:u,children:(0,c.jsx)(se.Z,{moderator:e,setOpenModeratorMenu:F})},null===e||void 0===e?void 0:e._id):(0,c.jsx)(se.Z,{moderator:e,setOpenModeratorMenu:F},null===e||void 0===e?void 0:e._id)})),o&&(0,c.jsx)(re.Z,{onClose:function(){return d((function(e){return!e}))},instituteId:t,onRefetchWhenAdd:Y}),R&&(0,c.jsx)(de.Z,{instituteId:t,onRefetch:Y,onClose:function(){return F("")},openModeratorMenu:R,viewBy:"LEAVE_AUTHORITY"}),A&&(0,c.jsx)(x.Z,{})]})},ve=l(92838),ue=function(e){var t,l,n,d,r,_,f,m,h,p,x,g,j,Z=e.instituteId,y=e.carryParentState,b=(0,s.$G)().t,N=(0,a.TH)(),w=(0,o.gq)({id:Z,skip:!Z}),I=w.oneInstituteDashboard,T=w.oneInstituteDashboardRefetch;return i.useEffect((function(){Z&&T()}),[Z,T]),(0,c.jsx)("div",{className:u.Z.departmenthead,children:(0,c.jsxs)("div",{className:u.Z.demaprtment_list,children:[!N.search&&(0,c.jsx)(v,{carryParentState:y}),"staff"===(null===(t=N.search)||void 0===t?void 0:t.substring(3))?(0,c.jsx)(C,{instituteId:Z,staffAlias:null===I||void 0===I||null===(l=I.institute)||void 0===l||null===(n=l.alias_pronounciation)||void 0===n?void 0:n.staff_alias,carryParentState:y}):"attendance"===(null===(d=N.search)||void 0===d?void 0:d.substring(3))?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h6",{children:b("attendance")}),(0,c.jsx)(A.default,{instituteId:Z,viewBy:"LEAVE_AND_TRANSFER"})]}):"configuration"===(null===(r=N.search)||void 0===r?void 0:r.substring(3,16))?(0,c.jsx)($,{carryParentState:y,instituteId:Z,staffAlias:null===I||void 0===I||null===(_=I.institute)||void 0===_||null===(f=_.alias_pronounciation)||void 0===f?void 0:f.staff_alias,lid:null===I||void 0===I||null===(m=I.institute)||void 0===m?void 0:m.leave_config}):"moderator"===(null===(h=N.search)||void 0===h?void 0:h.substring(3))?(0,c.jsx)(ce,{instituteId:Z,onRefetch:T,leaveConfig:null===I||void 0===I||null===(p=I.institute)||void 0===p?void 0:p.staff_leave_config}):"overview"===(null===(x=N.search)||void 0===x?void 0:x.substring(3))?(0,c.jsx)(ve.Z,{staffId:null===N||void 0===N||null===(g=N.state)||void 0===g?void 0:g.staffId}):"request"===(null===(j=N.search)||void 0===j?void 0:j.substring(3,10))?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h6",{children:b("leave_request")}),(0,c.jsx)(S.Z,{customStyle:{width:"100%"}}),(0,c.jsx)(ne,{carryParentState:y,instituteId:Z})]}):null]})})},_e=(0,i.lazy)((function(){return l.e(2520).then(l.bind(l,92520))})),fe=function(e){var t,l,a,n,o,d,r,v,u,_,m,h,p,x,g,j,Z,y,w,C,A,I,T,M,k,L,D,P,R=e.leave,q=e.onStaffLeaveListRefetch,E=e.isView,O=e.modId,Y=e.flow,G=(0,s.$G)().t,J=(0,z.Gh)(),U=(0,f.Z)(J,1)[0],V=(0,i.useState)(!1),H=(0,f.Z)(V,2),B=H[0],$=H[1],K=(0,i.useState)(!1),Q=(0,f.Z)(K,2),ee=Q[0],te=Q[1],le=function(e){O&&Y&&($((function(e){return!e})),U({id:null===R||void 0===R?void 0:R._id,leaveAction:{leave_from:Y,staff_mod:O,status:e}}).then((function(){q(),$((function(e){return!e}))})))};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:N.Z.request_card,children:[(0,c.jsxs)("div",{className:N.Z.request_card_header,children:[(0,c.jsxs)("div",{className:N.Z.request_card_text,children:[(0,c.jsx)("img",{src:null!==R&&void 0!==R&&null!==(t=R.staff)&&void 0!==t&&t.staffProfilePhoto?"".concat(b.yI,"/").concat(null===R||void 0===R||null===(l=R.staff)||void 0===l?void 0:l.staffProfilePhoto):"/images/demo_users/user5.svg",alt:"icon",style:{width:"3.5rem",height:"3.5rem"}}),(0,c.jsxs)("div",{className:N.Z.request_card_inner_text,children:[(0,c.jsx)("h6",{children:"".concat(null===R||void 0===R||null===(a=R.staff)||void 0===a?void 0:a.staffFirstName," ").concat(null!==R&&void 0!==R&&null!==(n=R.staff)&&void 0!==n&&n.staffMiddleName?null===R||void 0===R||null===(o=R.staff)||void 0===o?void 0:o.staffMiddleName:""," ").concat(null===R||void 0===R||null===(d=R.staff)||void 0===d?void 0:d.staffLastName)}),(0,c.jsxs)("p",{children:["Sactioning"===E?(0,c.jsxs)(c.Fragment,{children:[G("reviewed_on")," ",X()(null===R||void 0===R||null===(r=R.review)||void 0===r?void 0:r.review_on).format("LT"),","," ",X()(null===R||void 0===R||null===(v=R.review)||void 0===v?void 0:v.review_on).format("DD MMM yyyy")]}):"Reviewing"===E?(0,c.jsxs)(c.Fragment,{children:[G("recomend_on"),X()(null===R||void 0===R||null===(u=R.recommend)||void 0===u?void 0:u.recommend_on).format("LT"),","," ",X()(null===R||void 0===R||null===(_=R.recommend)||void 0===_?void 0:_.recommend_on).format("DD MMM yyyy")]}):(0,c.jsxs)(c.Fragment,{children:[G("raised_on")," ",X()(null===R||void 0===R?void 0:R.createdAt).format("LT"),","," ",X()(null===R||void 0===R?void 0:R.createdAt).format("DD MMM yyyy")]}),(0,c.jsx)("span",{className:N.Z.viewAll,onClick:function(){return te(!0)},children:G("for_dates")})]}),(0,c.jsx)("p",{children:"Sactioning"===E?(0,c.jsxs)(c.Fragment,{children:[G("reviewing_by"),"".concat(null!==(m=null===R||void 0===R||null===(h=R.review)||void 0===h||null===(p=h.review_by)||void 0===p?void 0:p.staffFirstName)&&void 0!==m?m:""," ").concat(null!==(x=null===R||void 0===R||null===(g=R.review)||void 0===g||null===(j=g.review_by)||void 0===j?void 0:j.staffMiddleName)&&void 0!==x?x:""," ").concat(null!==(Z=null===R||void 0===R||null===(y=R.review)||void 0===y||null===(w=y.review_by)||void 0===w?void 0:w.staffLastName)&&void 0!==Z?Z:"")]}):"Reviewing"===E?(0,c.jsxs)(c.Fragment,{children:[G("recomending_by"),"".concat(null!==(C=null===R||void 0===R||null===(A=R.recommend)||void 0===A||null===(I=A.recommend_by)||void 0===I?void 0:I.staffFirstName)&&void 0!==C?C:""," ").concat(null!==(T=null===R||void 0===R||null===(M=R.recommend)||void 0===M||null===(k=M.recommend_by)||void 0===k?void 0:k.staffMiddleName)&&void 0!==T?T:""," ").concat(null!==(L=null===R||void 0===R||null===(D=R.recommend)||void 0===D||null===(P=D.recommend_by)||void 0===P?void 0:P.staffLastName)&&void 0!==L?L:"")]}):(0,c.jsxs)(c.Fragment,{children:[G("raised_on")," ",X()(null===R||void 0===R?void 0:R.createdAt).format("LT"),","," ",X()(null===R||void 0===R?void 0:R.createdAt).format("DD MMM yyyy")]})})]})]}),(0,c.jsx)("div",{className:N.Z.request_card_btn_group,children:"Request"===(null===R||void 0===R?void 0:R.status)?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:N.Z.reject_btn,onClick:function(){le("Rejected")},children:G("reject")}),(0,c.jsx)("div",{className:N.Z.accept_btn,onClick:function(){le("Accepted")},children:G("approve")})]}):null})]}),(0,c.jsx)("div",{className:N.Z.request_card_inner_text,style:{marginTop:"0.5rem"},children:(0,c.jsxs)("h6",{style:{fontWeight:"400"},children:[G("leave_type")," "," : ",null===R||void 0===R?void 0:R.leave_type]})}),(0,c.jsx)("div",{className:N.Z.request_card_inner_text,style:{marginTop:"0.5rem"},children:(0,c.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[G("reason")," "," : ",null===R||void 0===R?void 0:R.reason]})}),(null===R||void 0===R?void 0:R.attach)&&(0,c.jsx)("div",{className:N.Z.request_card_inner_text,style:{marginTop:"0.5rem"},children:(0,c.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[G("attachment")," "," : ",(0,c.jsx)("a",{href:"".concat(b.r3,"/").concat(null===R||void 0===R?void 0:R.attach),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,c.jsx)("span",{className:N.Z.viewAll,children:G("view_attachment")})})]})})]}),(0,c.jsx)(S.Z,{customStyle:{width:"100%"}}),ee&&(0,c.jsx)(W.Z,{children:(0,c.jsx)(_e,{open:ee,hideModal:function(e){return te(e)},dates:null===R||void 0===R?void 0:R.date})}),B&&(0,c.jsx)(F.Z,{})]})},me=function(e){var t=e.modId,l=(0,p.YD)(),a=(0,f.Z)(l,2),n=a[0],o=a[1],s=(0,i.useState)(1),d=(0,f.Z)(s,2),r=d[0],v=d[1],u=(0,i.useState)(!0),m=(0,f.Z)(u,2),h=m[0],g=m[1],j=(0,i.useState)(!0),Z=(0,f.Z)(j,2),y=Z[0],S=Z[1],b=(0,i.useState)([]),N=(0,f.Z)(b,2),w=N[0],C=N[1],A=(0,T.po)({data:{mid:t,page:r,limit:10,flow:"Recommend_Section"},skip:!t}),I=A.latAuthorityGetAllRequest,M=A.latAuthorityGetAllRequestRefetch;(0,i.useEffect)((function(){t&&(S(!0),M())}),[t,r,M]),(0,i.useEffect)((function(){o&&h&&v((function(e){return e+1}))}),[o,h]),(0,i.useEffect)((function(){var e,t;null!==I&&void 0!==I&&I.all_leave?1===r?(C(null===I||void 0===I?void 0:I.all_leave),S(!1)):(C((function(e){var t,l;return null===(t=(0,_.Z)(new Set(null===(l=[].concat((0,_.Z)(e),(0,_.Z)(null===I||void 0===I?void 0:I.all_leave)))||void 0===l?void 0:l.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),S(!1)):0===(null===I||void 0===I||null===(e=I.all_leave)||void 0===e?void 0:e.length)&&S(!1),10===(null===I||void 0===I||null===(t=I.all_leave)||void 0===t?void 0:t.length)?g(!0):g(!1)}),[null===I||void 0===I?void 0:I.all_leave]);var k=function(){v(1),S(!0),M()};return(0,c.jsxs)(c.Fragment,{children:[null===w||void 0===w?void 0:w.map((function(e,l){return(null===w||void 0===w?void 0:w.length)===l+1?(0,c.jsx)("div",{ref:n,children:(0,c.jsx)(fe,{leave:e,onStaffLeaveListRefetch:k,modId:t,flow:"Recommend_Section"})},null===e||void 0===e?void 0:e._id):(0,c.jsx)(fe,{leave:e,onStaffLeaveListRefetch:k,modId:t,flow:"Recommend_Section"},l)})),y&&(0,c.jsx)(x.Z,{})]})},he=(0,i.lazy)((function(){return l.e(2520).then(l.bind(l,92520))})),pe=function(e){var t,l,a,n,o,d,r,v,u,_,m,h,p,x,g,j,Z,y,w,C,A,I,T,M,k,L,D,P,R,F,q,E,O,Y,G=e.leave,J=e.viewBy,U=(0,s.$G)().t,V=(0,i.useState)(!1),H=(0,f.Z)(V,2),B=H[0],$=H[1];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:N.Z.request_card,children:[(0,c.jsx)("div",{className:N.Z.request_card_header,children:(0,c.jsxs)("div",{className:N.Z.request_card_text,children:[(0,c.jsx)("img",{src:null!==G&&void 0!==G&&null!==(t=G.staff)&&void 0!==t&&t.staffProfilePhoto?"".concat(b.yI,"/").concat(null===G||void 0===G||null===(l=G.staff)||void 0===l?void 0:l.staffProfilePhoto):"/images/demo_users/user5.svg",alt:"icon",style:{width:"3.5rem",height:"3.5rem"}}),(0,c.jsxs)("div",{className:N.Z.request_card_inner_text,children:[(0,c.jsx)("h6",{children:"".concat(null===G||void 0===G||null===(a=G.staff)||void 0===a?void 0:a.staffFirstName," ").concat(null!==G&&void 0!==G&&null!==(n=G.staff)&&void 0!==n&&n.staffMiddleName?null===G||void 0===G||null===(o=G.staff)||void 0===o?void 0:o.staffMiddleName:""," ").concat(null===G||void 0===G||null===(d=G.staff)||void 0===d?void 0:d.staffLastName)}),(0,c.jsxs)("p",{children:["Sactioning"===J?(0,c.jsxs)(c.Fragment,{children:[U("reviewed_on")," ",X()(null===G||void 0===G||null===(r=G.review)||void 0===r?void 0:r.review_on).format("LT"),","," ",X()(null===G||void 0===G||null===(v=G.review)||void 0===v?void 0:v.review_on).format("DD MMM yyyy")]}):"Reviewing"===J?(0,c.jsxs)(c.Fragment,{children:[U("recomend_on"),X()(null===G||void 0===G||null===(u=G.recommend)||void 0===u?void 0:u.recommend_on).format("LT"),","," ",X()(null===G||void 0===G||null===(_=G.recommend)||void 0===_?void 0:_.recommend_on).format("DD MMM yyyy")]}):(0,c.jsxs)(c.Fragment,{children:[U("raised_on")," ",X()(null===G||void 0===G?void 0:G.createdAt).format("LT"),","," ",X()(null===G||void 0===G?void 0:G.createdAt).format("DD MMM yyyy")]}),", ",(0,c.jsx)("span",{className:N.Z.viewAll,onClick:function(){return $(!0)},children:U("for_dates")})]}),(0,c.jsx)("p",{children:"Sactioning"===J?(0,c.jsxs)(c.Fragment,{children:[U("reviewing_by"),"".concat(null!==(m=null===G||void 0===G||null===(h=G.review)||void 0===h||null===(p=h.review_by)||void 0===p?void 0:p.staffFirstName)&&void 0!==m?m:""," ").concat(null!==(x=null===G||void 0===G||null===(g=G.review)||void 0===g||null===(j=g.review_by)||void 0===j?void 0:j.staffMiddleName)&&void 0!==x?x:""," ").concat(null!==(Z=null===G||void 0===G||null===(y=G.review)||void 0===y||null===(w=y.review_by)||void 0===w?void 0:w.staffLastName)&&void 0!==Z?Z:"")]}):"Reviewing"===J?(0,c.jsxs)(c.Fragment,{children:[U("recomending_by"),"".concat(null!==(C=null===G||void 0===G||null===(A=G.recommend)||void 0===A||null===(I=A.recommend_by)||void 0===I?void 0:I.staffFirstName)&&void 0!==C?C:""," ").concat(null!==(T=null===G||void 0===G||null===(M=G.recommend)||void 0===M||null===(k=M.recommend_by)||void 0===k?void 0:k.staffMiddleName)&&void 0!==T?T:""," ").concat(null!==(L=null===G||void 0===G||null===(D=G.recommend)||void 0===D||null===(P=D.recommend_by)||void 0===P?void 0:P.staffLastName)&&void 0!==L?L:"")]}):null}),(0,c.jsx)("p",{children:"Sactioning"===J?(0,c.jsxs)(c.Fragment,{children:[U("sanction_on")," ",X()(null===G||void 0===G||null===(R=G.sanction)||void 0===R?void 0:R.sanction_on).format("LT"),","," ",X()(null===G||void 0===G||null===(F=G.sanction)||void 0===F?void 0:F.sanction_on).format("DD MMM yyyy")]}):"Reviewing"===J?(0,c.jsxs)(c.Fragment,{children:[U("reviewed_on")," ",X()(null===G||void 0===G||null===(q=G.review)||void 0===q?void 0:q.review_on).format("LT"),","," ",X()(null===G||void 0===G||null===(E=G.review)||void 0===E?void 0:E.review_on).format("DD MMM yyyy")]}):(0,c.jsxs)(c.Fragment,{children:[U("recomend_on")," ",X()(null===G||void 0===G||null===(O=G.recommend)||void 0===O?void 0:O.recommend_on).format("LT"),","," ",X()(null===G||void 0===G||null===(Y=G.recommend)||void 0===Y?void 0:Y.recommend_on).format("DD MMM yyyy")]})})]})]})}),(0,c.jsx)("div",{className:N.Z.request_card_inner_text,style:{marginTop:"0.5rem"},children:(0,c.jsxs)("h6",{style:{fontWeight:"400"},children:[U("leave_type")," "," : ",null===G||void 0===G?void 0:G.leave_type]})}),(0,c.jsx)("div",{className:N.Z.request_card_inner_text,style:{marginTop:"0.5rem"},children:(0,c.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[U("reason")," "," : ",null===G||void 0===G?void 0:G.reason]})}),(null===G||void 0===G?void 0:G.attach)&&(0,c.jsx)("div",{className:N.Z.request_card_inner_text,style:{marginTop:"0.5rem"},children:(0,c.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[U("attachment")," "," : ",(0,c.jsx)("a",{href:"".concat(b.r3,"/").concat(null===G||void 0===G?void 0:G.attach),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,c.jsx)("span",{className:N.Z.viewAll,children:U("view_attachment")})})]})})]}),(0,c.jsx)(S.Z,{customStyle:{width:"100%"}}),B&&(0,c.jsx)(W.Z,{children:(0,c.jsx)(he,{open:B,hideModal:function(e){return $(e)},dates:null===G||void 0===G?void 0:G.date})})]})},xe=function(e){var t=e.modId,l=(0,p.YD)(),a=(0,f.Z)(l,2),n=a[0],o=a[1],s=(0,i.useState)(1),d=(0,f.Z)(s,2),r=d[0],v=d[1],u=(0,i.useState)(!0),m=(0,f.Z)(u,2),h=m[0],g=m[1],j=(0,i.useState)(!0),Z=(0,f.Z)(j,2),y=Z[0],S=Z[1],b=(0,i.useState)([]),N=(0,f.Z)(b,2),w=N[0],C=N[1],A=(0,T.KO)({data:{mid:t,page:r,limit:10,flow:"Recommend_Section"},skip:!t}),I=A.latAuthorityGetAllHistory,M=A.latAuthorityGetAllHistoryRefetch;return(0,i.useEffect)((function(){t&&(S(!0),M())}),[t,r,M]),(0,i.useEffect)((function(){o&&h&&v((function(e){return e+1}))}),[o,h]),(0,i.useEffect)((function(){var e,t;null!==I&&void 0!==I&&I.all_leave?1===r?(C(null===I||void 0===I?void 0:I.all_leave),S(!1)):(C((function(e){var t,l;return null===(t=(0,_.Z)(new Set(null===(l=[].concat((0,_.Z)(e),(0,_.Z)(null===I||void 0===I?void 0:I.all_leave)))||void 0===l?void 0:l.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),S(!1)):0===(null===I||void 0===I||null===(e=I.all_leave)||void 0===e?void 0:e.length)&&S(!1),10===(null===I||void 0===I||null===(t=I.all_leave)||void 0===t?void 0:t.length)?g(!0):g(!1)}),[null===I||void 0===I?void 0:I.all_leave]),(0,c.jsxs)(c.Fragment,{children:[null===w||void 0===w?void 0:w.map((function(e,t){return(null===w||void 0===w?void 0:w.length)===t+1?(0,c.jsx)("div",{ref:n,children:(0,c.jsx)(pe,{leave:e})},null===e||void 0===e?void 0:e._id):(0,c.jsx)(pe,{leave:e},t)})),y&&(0,c.jsx)(x.Z,{})]})},ge=l(37762),je=l(12072),Ze=l(84489),ye=l(87049),Se=function(e){var t=e.onClose,l=e.onRefetch,a=e.staff,n=e.flow,o=e.modId,s=(0,i.useState)(!1),d=(0,f.Z)(s,2),r=d[0],v=d[1],u=(0,T.bg)(),_=(0,f.Z)(u,1)[0];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(Ze.Z,{onClose:t}),(0,c.jsxs)(je.Z,{customStyle:{zIndex:"1200"},children:[(0,c.jsx)("div",{className:ye.Z.edit_modal_container,style:{width:"200px"},children:(0,c.jsx)("h6",{className:ye.Z.remove,onClick:function(){o&&null!==a&&void 0!==a&&a._id&&n&&(v((function(e){return!e})),_({mid:o,latBody:{flow:n,staff_arr:[null===a||void 0===a?void 0:a._id]}}).then((function(){l(),t(),v((function(e){return!e}))})).catch({}))},children:"Remove"})}),r&&(0,c.jsx)(F.Z,{})]})]})},be=function(e){var t,l,a,n,o=e.staff,s=e.onRefetch,d=e.viewAs,r=e.modId,v=e.flow,u=(0,i.useState)(!1),_=(0,f.Z)(u,2),m=_[0],h=_[1],p=function(){h((function(e){return!e}))};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:N.Z.staff_card,children:[(0,c.jsxs)("div",{className:N.Z.staff_card_info,children:[(0,c.jsx)("img",{src:null!==o&&void 0!==o&&o.staffProfilePhoto?"".concat(b.yI,"/").concat(null===o||void 0===o?void 0:o.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy",alt:"avatar"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h6",{className:N.Z.staff_card_info_inner,children:"".concat(null!==(t=null===o||void 0===o?void 0:o.staffFirstName)&&void 0!==t?t:""," ").concat(null!==(l=null===o||void 0===o?void 0:o.staffMiddleName)&&void 0!==l?l:""," ").concat(null!==(a=null===o||void 0===o?void 0:o.staffLastName)&&void 0!==a?a:"")}),(0,c.jsxs)("div",{className:N.Z.staff_card_info_inner_index,children:["index",": ",null!==(n=null===o||void 0===o?void 0:o.staffROLLNO)&&void 0!==n?n:""]})]})]}),(0,c.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:p,className:N.Z.menu_icon,title:"Menu"})]}),(0,c.jsx)(S.Z,{customStyle:{width:"100%"}}),m&&(0,c.jsx)(Se,{onClose:p,onRefetch:s,viewAs:d,staff:o,flow:v,modId:r})]})},Ne=l(46876),we=function(e){var t=e.carryParentState,l=e.instituteId,a=e.modId,n=(0,s.$G)().t,o=(0,i.useState)(!1),d=(0,f.Z)(o,2),r=d[0],v=d[1],u=(0,p.YD)(),m=(0,f.Z)(u,2),h=m[0],g=m[1],j=(0,i.useState)(1),Z=(0,f.Z)(j,2),y=Z[0],S=Z[1],b=(0,i.useState)(!0),N=(0,f.Z)(b,2),w=N[0],C=N[1],A=(0,i.useState)(!0),I=(0,f.Z)(A,2),M=I[0],k=I[1],L=(0,i.useState)([]),D=(0,f.Z)(L,2),P=D[0],R=D[1],q=(0,i.useState)([]),E=(0,f.Z)(q,2),O=E[0],Y=E[1],G=(0,i.useState)([]),J=(0,f.Z)(G,2),U=J[0],V=J[1],H=(0,i.useState)(!1),B=(0,f.Z)(H,2),$=B[0],z=B[1],W=(0,T.wj)(),K=(0,f.Z)(W,1)[0],X=(0,T.MN)({data:{mid:a,page:y,limit:10,flow:"Recommend_Section"},skip:!a}),Q=X.latAuthorityGetAllStaff,ee=X.latAuthorityGetAllStaffRefetch;(0,i.useEffect)((function(){a&&(k(!0),ee())}),[a,y,ee]),(0,i.useEffect)((function(){g&&w&&S((function(e){return e+1}))}),[g,w]),(0,i.useEffect)((function(){var e,t;if(null!==Q&&void 0!==Q&&Q.all_staff){if(1===y){R(null===Q||void 0===Q?void 0:Q.all_staff);var l,a=[],n=(0,ge.Z)(null===Q||void 0===Q?void 0:Q.all_staff);try{for(n.s();!(l=n.n()).done;){var i=l.value;a.push(null===i||void 0===i?void 0:i._id)}}catch(c){n.e(c)}finally{n.f()}V(a)}else{R((function(e){var t,l;return null===(t=(0,_.Z)(new Set(null===(l=[].concat((0,_.Z)(e),(0,_.Z)(null===Q||void 0===Q?void 0:Q.all_staff)))||void 0===l?void 0:l.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)}));var o,s=[],d=(0,ge.Z)(null===Q||void 0===Q?void 0:Q.all_staff);try{for(d.s();!(o=d.n()).done;){var r=o.value;s.push(null===r||void 0===r?void 0:r._id)}}catch(c){d.e(c)}finally{d.f()}V(s)}k(!1)}else 0===(null===Q||void 0===Q||null===(e=Q.all_staff)||void 0===e?void 0:e.length)&&k(!1);10===(null===Q||void 0===Q||null===(t=Q.all_staff)||void 0===t?void 0:t.length)?C(!0):C(!1)}),[null===Q||void 0===Q?void 0:Q.all_staff]);var te=function(){v((function(e){return!e}))},le=function(){S((function(e){return 1})),k(!0),ee()};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:ie.Z.with_search,style:{justifyContent:"flex-end",marginTop:"0.8rem"},children:(0,c.jsx)("p",{className:ie.Z.add_new_category,onClick:te,children:n("add_new_staff")})}),null===P||void 0===P?void 0:P.map((function(e,n){return(null===P||void 0===P?void 0:P.length)===n+1?(0,c.jsx)("div",{ref:h,children:(0,c.jsx)(be,{staff:e,carryParentState:t,onRefetch:le,viewAs:"Recomending",instituteId:l,modId:a,flow:"Recommend_Section"})},null===e||void 0===e?void 0:e._id):(0,c.jsx)(be,{staff:e,carryParentState:t,onRefetch:le,viewAs:"Recomending",instituteId:l,modId:a,flow:"Recommend_Section"},null===e||void 0===e?void 0:e._id)})),r&&(0,c.jsx)(Ne.default,{assignHead:r,title:n("add_staff"),onClose:te,instituteId:l,viewAs:"ADMISSION_ADMIN",isMultiSelect:!0,onMultiSelect:function(e){null!==O&&void 0!==O&&O.includes(null===e||void 0===e?void 0:e._id)?Y((function(t){return null===t||void 0===t?void 0:t.filter((function(t){return t!==(null===e||void 0===e?void 0:e._id)}))})):Y((function(t){return[].concat((0,_.Z)(t),[null===e||void 0===e?void 0:e._id])}))},selectList:[].concat((0,_.Z)(O),(0,_.Z)(U)),onDone:function(){a&&(te(),z((function(e){return!e})),K({mid:a,latBody:{flow:"Recommend_Section",staff_arr:O}}).then((function(){le(),z((function(e){return!e}))})).catch({}))}}),$&&(0,c.jsx)(F.Z,{}),M&&(0,c.jsx)(x.Z,{})]})},Ce=function(e){var t=e.carryParentState,l=e.modId,n=e.instituteId,i=(0,s.$G)().t,o=(0,r.lr)(),d=(0,f.Z)(o,1)[0],v=(0,a.s0)(),_=(0,a.UO)(),m=[{name:i("leave_request"),id:0,url:"member/leavestransfer",is_active:"enabled"},{name:i("history"),id:1,url:"member/leavestransfer?a=history",is_active:"enabled"}];return(0,c.jsx)("div",{className:u.Z.departmenthead,children:(0,c.jsxs)("div",{className:u.Z.demaprtment_list,children:[(0,c.jsxs)("div",{className:u.Z.with_search,children:[(0,c.jsx)("h6",{className:u.Z.department_card_name,children:i("recomending_authority")}),(0,c.jsx)("img",{src:"/images/member_tab/department/department-staff-icon.svg",alt:"Class Catalog",className:u.Z.rec_icon,onClick:function(){v("/q/".concat(_.username,"/member/leavestransfer?a=staff"),{state:t})}})]}),(0,c.jsx)(S.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),"staff"===d.get("a")?null:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(I.Z,{tabList:m,activeIndexTab:d.get("a")?1:0,showAs:!0,customStyleTab:{width:"100%"},customStyleLink:{width:"50%"},carryParentState:t}),(0,c.jsx)(S.Z,{customStyle:{width:"100%"}})]}),d.get("a")?"history"===d.get("a")?(0,c.jsx)(xe,{modId:l}):"staff"===d.get("a")?(0,c.jsx)(we,{modId:l,instituteId:n,carryParentState:t}):null:(0,c.jsx)(me,{modId:l})]})})},Ae=function(e){var t=e.modId,l=(0,p.YD)(),a=(0,f.Z)(l,2),n=a[0],o=a[1],s=(0,i.useState)(1),d=(0,f.Z)(s,2),r=d[0],v=d[1],u=(0,i.useState)(!0),m=(0,f.Z)(u,2),h=m[0],g=m[1],j=(0,i.useState)(!0),Z=(0,f.Z)(j,2),y=Z[0],S=Z[1],b=(0,i.useState)([]),N=(0,f.Z)(b,2),w=N[0],C=N[1],A=(0,T.po)({data:{mid:t,page:r,limit:10,flow:"Review_Section"},skip:!t}),I=A.latAuthorityGetAllRequest,M=A.latAuthorityGetAllRequestRefetch;(0,i.useEffect)((function(){t&&(S(!0),M())}),[t,r,M]),(0,i.useEffect)((function(){o&&h&&v((function(e){return e+1}))}),[o,h]),(0,i.useEffect)((function(){var e,t;null!==I&&void 0!==I&&I.all_leave?1===r?(C(null===I||void 0===I?void 0:I.all_leave),S(!1)):(C((function(e){var t,l;return null===(t=(0,_.Z)(new Set(null===(l=[].concat((0,_.Z)(e),(0,_.Z)(null===I||void 0===I?void 0:I.all_leave)))||void 0===l?void 0:l.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),S(!1)):0===(null===I||void 0===I||null===(e=I.all_leave)||void 0===e?void 0:e.length)&&S(!1),10===(null===I||void 0===I||null===(t=I.all_leave)||void 0===t?void 0:t.length)?g(!0):g(!1)}),[null===I||void 0===I?void 0:I.all_leave]);var k=function(){v(1),S(!0),M()};return(0,c.jsxs)(c.Fragment,{children:[null===w||void 0===w?void 0:w.map((function(e,l){return(null===w||void 0===w?void 0:w.length)===l+1?(0,c.jsx)("div",{ref:n,children:(0,c.jsx)(fe,{leave:e,onStaffLeaveListRefetch:k,isView:"Reviewing",modId:t,flow:"Review_Section"})},null===e||void 0===e?void 0:e._id):(0,c.jsx)(fe,{leave:e,onStaffLeaveListRefetch:k,isView:"Reviewing",modId:t,flow:"Review_Section"},l)})),y&&(0,c.jsx)(x.Z,{})]})},Ie=function(e){var t=e.modId,l=(0,p.YD)(),a=(0,f.Z)(l,2),n=a[0],o=a[1],s=(0,i.useState)(1),d=(0,f.Z)(s,2),r=d[0],v=d[1],u=(0,i.useState)(!0),m=(0,f.Z)(u,2),h=m[0],g=m[1],j=(0,i.useState)(!0),Z=(0,f.Z)(j,2),y=Z[0],S=Z[1],b=(0,i.useState)([]),N=(0,f.Z)(b,2),w=N[0],C=N[1],A=(0,T.KO)({data:{mid:t,page:r,limit:10,flow:"Review_Section"},skip:!t}),I=A.latAuthorityGetAllHistory,M=A.latAuthorityGetAllHistoryRefetch;return(0,i.useEffect)((function(){t&&(S(!0),M())}),[t,r,M]),(0,i.useEffect)((function(){o&&h&&v((function(e){return e+1}))}),[o,h]),(0,i.useEffect)((function(){var e,t;null!==I&&void 0!==I&&I.all_leave?1===r?(C(null===I||void 0===I?void 0:I.all_leave),S(!1)):(C((function(e){var t,l;return null===(t=(0,_.Z)(new Set(null===(l=[].concat((0,_.Z)(e),(0,_.Z)(null===I||void 0===I?void 0:I.all_leave)))||void 0===l?void 0:l.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),S(!1)):0===(null===I||void 0===I||null===(e=I.all_leave)||void 0===e?void 0:e.length)&&S(!1),10===(null===I||void 0===I||null===(t=I.all_leave)||void 0===t?void 0:t.length)?g(!0):g(!1)}),[null===I||void 0===I?void 0:I.all_leave]),(0,c.jsxs)(c.Fragment,{children:[null===w||void 0===w?void 0:w.map((function(e,t){return(null===w||void 0===w?void 0:w.length)===t+1?(0,c.jsx)("div",{ref:n,children:(0,c.jsx)(pe,{leave:e,viewBy:"Reviewing"})},null===e||void 0===e?void 0:e._id):(0,c.jsx)(pe,{leave:e,viewBy:"Reviewing"},t)})),y&&(0,c.jsx)(x.Z,{})]})},Te=function(e){var t=e.carryParentState,l=e.instituteId,a=e.modId,n=(0,s.$G)().t,o=(0,i.useState)(!1),d=(0,f.Z)(o,2),r=d[0],v=d[1],u=(0,p.YD)(),m=(0,f.Z)(u,2),h=m[0],g=m[1],j=(0,i.useState)(1),Z=(0,f.Z)(j,2),y=Z[0],S=Z[1],b=(0,i.useState)(!0),N=(0,f.Z)(b,2),w=N[0],C=N[1],A=(0,i.useState)(!0),I=(0,f.Z)(A,2),M=I[0],k=I[1],L=(0,i.useState)([]),D=(0,f.Z)(L,2),P=D[0],R=D[1],q=(0,i.useState)([]),E=(0,f.Z)(q,2),O=E[0],Y=E[1],G=(0,i.useState)([]),J=(0,f.Z)(G,2),U=J[0],V=J[1],H=(0,i.useState)(!1),B=(0,f.Z)(H,2),$=B[0],z=B[1],W=(0,T.wj)(),K=(0,f.Z)(W,1)[0],X=(0,T.MN)({data:{mid:a,page:y,limit:10,flow:"Review_Section"},skip:!a}),Q=X.latAuthorityGetAllStaff,ee=X.latAuthorityGetAllStaffRefetch;(0,i.useEffect)((function(){a&&(k(!0),ee())}),[a,y,ee]),(0,i.useEffect)((function(){g&&w&&S((function(e){return e+1}))}),[g,w]),(0,i.useEffect)((function(){var e,t;if(null!==Q&&void 0!==Q&&Q.all_staff){if(1===y){R(null===Q||void 0===Q?void 0:Q.all_staff);var l,a=[],n=(0,ge.Z)(null===Q||void 0===Q?void 0:Q.all_staff);try{for(n.s();!(l=n.n()).done;){var i=l.value;a.push(null===i||void 0===i?void 0:i._id)}}catch(c){n.e(c)}finally{n.f()}V(a)}else{R((function(e){var t,l;return null===(t=(0,_.Z)(new Set(null===(l=[].concat((0,_.Z)(e),(0,_.Z)(null===Q||void 0===Q?void 0:Q.all_staff)))||void 0===l?void 0:l.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)}));var o,s=[],d=(0,ge.Z)(null===Q||void 0===Q?void 0:Q.all_staff);try{for(d.s();!(o=d.n()).done;){var r=o.value;s.push(null===r||void 0===r?void 0:r._id)}}catch(c){d.e(c)}finally{d.f()}V(s)}k(!1)}else 0===(null===Q||void 0===Q||null===(e=Q.all_staff)||void 0===e?void 0:e.length)&&k(!1);10===(null===Q||void 0===Q||null===(t=Q.all_staff)||void 0===t?void 0:t.length)?C(!0):C(!1)}),[null===Q||void 0===Q?void 0:Q.all_staff]);var te=function(){v((function(e){return!e}))},le=function(){S((function(e){return 1})),k(!0),ee()};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:ie.Z.with_search,style:{justifyContent:"flex-end",marginTop:"0.8rem"},children:(0,c.jsx)("p",{className:ie.Z.add_new_category,onClick:te,children:n("add_new_staff")})}),null===P||void 0===P?void 0:P.map((function(e,n){return(null===P||void 0===P?void 0:P.length)===n+1?(0,c.jsx)("div",{ref:h,children:(0,c.jsx)(be,{staff:e,carryParentState:t,onRefetch:le,viewAs:"Reviewing",instituteId:l,modId:a,flow:"Review_Section"})},null===e||void 0===e?void 0:e._id):(0,c.jsx)(be,{staff:e,carryParentState:t,onRefetch:le,viewAs:"Reviewing",instituteId:l,modId:a,flow:"Review_Section"},null===e||void 0===e?void 0:e._id)})),r&&(0,c.jsx)(Ne.default,{assignHead:r,title:n("add_staff"),onClose:te,instituteId:l,viewAs:"ADMISSION_ADMIN",isMultiSelect:!0,onMultiSelect:function(e){null!==O&&void 0!==O&&O.includes(null===e||void 0===e?void 0:e._id)?Y((function(t){return null===t||void 0===t?void 0:t.filter((function(t){return t!==(null===e||void 0===e?void 0:e._id)}))})):Y((function(t){return[].concat((0,_.Z)(t),[null===e||void 0===e?void 0:e._id])}))},selectList:[].concat((0,_.Z)(O),(0,_.Z)(U)),onDone:function(){a&&(te(),z((function(e){return!e})),K({mid:a,latBody:{flow:"Review_Section",staff_arr:O}}).then((function(){le(),z((function(e){return!e}))})).catch({}))}}),$&&(0,c.jsx)(F.Z,{}),M&&(0,c.jsx)(x.Z,{})]})},Me=function(e){var t=e.carryParentState,l=e.modId,n=e.instituteId,i=(0,s.$G)().t,o=(0,r.lr)(),d=(0,f.Z)(o,1)[0],v=(0,a.s0)(),_=(0,a.UO)(),m=[{name:i("leave_request"),id:0,url:"member/leavestransfer",is_active:"enabled"},{name:i("history"),id:1,url:"member/leavestransfer?a=history",is_active:"enabled"}];return(0,c.jsx)("div",{className:u.Z.departmenthead,children:(0,c.jsxs)("div",{className:u.Z.demaprtment_list,children:[(0,c.jsxs)("div",{className:u.Z.with_search,children:[(0,c.jsx)("h6",{className:u.Z.department_card_name,children:i("reviewing_authority")}),(0,c.jsx)("img",{src:"/images/member_tab/department/department-staff-icon.svg",alt:"Class Catalog",className:u.Z.rec_icon,onClick:function(){v("/q/".concat(_.username,"/member/leavestransfer?a=staff"),{state:t})}})]}),(0,c.jsx)(S.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),"staff"===d.get("a")?null:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(I.Z,{tabList:m,activeIndexTab:d.get("a")?1:0,showAs:!0,customStyleTab:{width:"100%"},customStyleLink:{width:"50%"},carryParentState:t}),(0,c.jsx)(S.Z,{customStyle:{width:"100%"}})]}),d.get("a")?"history"===d.get("a")?(0,c.jsx)(Ie,{modId:l}):"staff"===d.get("a")?(0,c.jsx)(Te,{modId:l,instituteId:n,carryParentState:t}):null:(0,c.jsx)(Ae,{modId:l})]})})},ke=function(e){var t=e.modId,l=(0,p.YD)(),a=(0,f.Z)(l,2),n=a[0],o=a[1],s=(0,i.useState)(1),d=(0,f.Z)(s,2),r=d[0],v=d[1],u=(0,i.useState)(!0),m=(0,f.Z)(u,2),h=m[0],g=m[1],j=(0,i.useState)(!0),Z=(0,f.Z)(j,2),y=Z[0],S=Z[1],b=(0,i.useState)([]),N=(0,f.Z)(b,2),w=N[0],C=N[1],A=(0,T.KO)({data:{mid:t,page:r,limit:10,flow:"Sanction_Section"},skip:!t}),I=A.latAuthorityGetAllHistory,M=A.latAuthorityGetAllHistoryRefetch;return(0,i.useEffect)((function(){t&&(S(!0),M())}),[t,r,M]),(0,i.useEffect)((function(){o&&h&&v((function(e){return e+1}))}),[o,h]),(0,i.useEffect)((function(){var e,t;null!==I&&void 0!==I&&I.all_leave?1===r?(C(null===I||void 0===I?void 0:I.all_leave),S(!1)):(C((function(e){var t,l;return null===(t=(0,_.Z)(new Set(null===(l=[].concat((0,_.Z)(e),(0,_.Z)(null===I||void 0===I?void 0:I.all_leave)))||void 0===l?void 0:l.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),S(!1)):0===(null===I||void 0===I||null===(e=I.all_leave)||void 0===e?void 0:e.length)&&S(!1),10===(null===I||void 0===I||null===(t=I.all_leave)||void 0===t?void 0:t.length)?g(!0):g(!1)}),[null===I||void 0===I?void 0:I.all_leave]),(0,c.jsxs)(c.Fragment,{children:[null===w||void 0===w?void 0:w.map((function(e,t){return(null===w||void 0===w?void 0:w.length)===t+1?(0,c.jsx)("div",{ref:n,children:(0,c.jsx)(pe,{leave:e,viewBy:"Sactioning"})},null===e||void 0===e?void 0:e._id):(0,c.jsx)(pe,{leave:e,viewBy:"Sactioning"},t)})),y&&(0,c.jsx)(x.Z,{})]})},Le=function(e){var t=e.modId,l=(0,p.YD)(),a=(0,f.Z)(l,2),n=a[0],o=a[1],s=(0,i.useState)(1),d=(0,f.Z)(s,2),r=d[0],v=d[1],u=(0,i.useState)(!0),m=(0,f.Z)(u,2),h=m[0],g=m[1],j=(0,i.useState)(!0),Z=(0,f.Z)(j,2),y=Z[0],S=Z[1],b=(0,i.useState)([]),N=(0,f.Z)(b,2),w=N[0],C=N[1],A=(0,T.po)({data:{mid:t,page:r,limit:10,flow:"Sanction_Section"},skip:!t}),I=A.latAuthorityGetAllRequest,M=A.latAuthorityGetAllRequestRefetch;(0,i.useEffect)((function(){t&&(S(!0),M())}),[t,r,M]),(0,i.useEffect)((function(){o&&h&&v((function(e){return e+1}))}),[o,h]),(0,i.useEffect)((function(){var e,t;null!==I&&void 0!==I&&I.all_leave?1===r?(C(null===I||void 0===I?void 0:I.all_leave),S(!1)):(C((function(e){var t,l;return null===(t=(0,_.Z)(new Set(null===(l=[].concat((0,_.Z)(e),(0,_.Z)(null===I||void 0===I?void 0:I.all_leave)))||void 0===l?void 0:l.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),S(!1)):0===(null===I||void 0===I||null===(e=I.all_leave)||void 0===e?void 0:e.length)&&S(!1),10===(null===I||void 0===I||null===(t=I.all_leave)||void 0===t?void 0:t.length)?g(!0):g(!1)}),[null===I||void 0===I?void 0:I.all_leave]);var k=function(){v(1),S(!0),M()};return(0,c.jsxs)(c.Fragment,{children:[null===w||void 0===w?void 0:w.map((function(e,l){return(null===w||void 0===w?void 0:w.length)===l+1?(0,c.jsx)("div",{ref:n,children:(0,c.jsx)(fe,{leave:e,onStaffLeaveListRefetch:k,isView:"Sactioning",modId:t,flow:"Sanction_Section"})},null===e||void 0===e?void 0:e._id):(0,c.jsx)(fe,{leave:e,onStaffLeaveListRefetch:k,isView:"Sactioning",modId:t,flow:"Sanction_Section"},l)})),y&&(0,c.jsx)(x.Z,{})]})},De=function(e){var t=e.carryParentState,l=e.modId,n=(e.instituteId,(0,s.$G)().t),i=(0,r.lr)(),o=(0,f.Z)(i,1)[0],d=((0,a.s0)(),(0,a.UO)(),[{name:n("leave_request"),id:0,url:"member/leavestransfer",is_active:"enabled"},{name:n("history"),id:1,url:"member/leavestransfer?a=history",is_active:"enabled"}]);return(0,c.jsx)("div",{className:u.Z.departmenthead,children:(0,c.jsxs)("div",{className:u.Z.demaprtment_list,children:[(0,c.jsx)("div",{className:u.Z.with_search,children:(0,c.jsx)("h6",{className:u.Z.department_card_name,children:n("sactioning_authority")})}),(0,c.jsx)(S.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),"staff"===o.get("a")?null:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(I.Z,{tabList:d,activeIndexTab:o.get("a")?1:0,showAs:!0,customStyleTab:{width:"100%"},customStyleLink:{width:"50%"},carryParentState:t}),(0,c.jsx)(S.Z,{customStyle:{width:"100%"}})]}),o.get("a")?"history"===o.get("a")?(0,c.jsx)(ke,{modId:l}):(o.get("a"),null):(0,c.jsx)(Le,{modId:l})]})})},Pe=function(){var e,t,l,i,o,s,d,r,v,u,_,f,m,h,p,x,g,j,Z,y,S,b,N,w,C,A,I=(0,a.TH)();return(0,c.jsx)(n.Z,{index:"26",sid:null!==(e=null===I||void 0===I||null===(t=I.state)||void 0===t?void 0:t.sid)&&void 0!==e?e:"",onClickValue:null!==(l=null===I||void 0===I||null===(i=I.state)||void 0===i?void 0:i.onClickValue)&&void 0!==l?l:"",children:"LEAVING_AND_TRANSFER_ACCESS"===(null===(o=I.state)||void 0===o?void 0:o.subRole)?(0,c.jsx)(ue,{instituteId:null===I||void 0===I||null===(s=I.state)||void 0===s||null===(d=s.onClickValue)||void 0===d||null===(r=d.institute)||void 0===r?void 0:r._id,carryParentState:null===I||void 0===I?void 0:I.state}):"LEAVE_RECOMMENDATION_ACCESS"===(null===(v=I.state)||void 0===v?void 0:v.subRole)?(0,c.jsx)(Ce,{instituteId:null===I||void 0===I||null===(u=I.state)||void 0===u||null===(_=u.onClickValue)||void 0===_||null===(f=_.institute)||void 0===f?void 0:f._id,carryParentState:null===I||void 0===I?void 0:I.state,modId:null===I||void 0===I||null===(m=I.state)||void 0===m||null===(h=m.onClickValue)||void 0===h?void 0:h._id}):"LEAVE_REVIEW_ACCESS"===(null===(p=I.state)||void 0===p?void 0:p.subRole)?(0,c.jsx)(Me,{instituteId:null===I||void 0===I||null===(x=I.state)||void 0===x||null===(g=x.onClickValue)||void 0===g||null===(j=g.institute)||void 0===j?void 0:j._id,carryParentState:null===I||void 0===I?void 0:I.state,modId:null===I||void 0===I||null===(Z=I.state)||void 0===Z||null===(y=Z.onClickValue)||void 0===y?void 0:y._id}):"LEAVE_SANCTION_ACCESS"===(null===(S=I.state)||void 0===S?void 0:S.subRole)?(0,c.jsx)(De,{instituteId:null===I||void 0===I||null===(b=I.state)||void 0===b||null===(N=b.onClickValue)||void 0===N||null===(w=N.institute)||void 0===w?void 0:w._id,carryParentState:null===I||void 0===I?void 0:I.state,modId:null===I||void 0===I||null===(C=I.state)||void 0===C||null===(A=C.onClickValue)||void 0===A?void 0:A._id}):null})}},72420:function(e,t){t.Z={tile_tile_container:"Tile_tile_tile_container__peBzA",tile_tile:"Tile_tile_tile__YJvgm",tile_tile_active:"Tile_tile_tile_active__kaja3",tile_label:"Tile_tile_label__+exU0",tile_container:"Tile_tile_container__wmFGD"}},45639:function(e,t){t.Z={universal_container:"UniversalTab_universal_container__uxTOR",universal_container_item:"UniversalTab_universal_container_item__M0pS7",universal_container_item_active:"UniversalTab_universal_container_item_active__3u3Wt"}},33148:function(e,t){t.Z={departmenthead:"PromoteDepartment_departmenthead__NT0rQ",demaprtment_list:"PromoteDepartment_demaprtment_list__xRUQC",department_card_container:"PromoteDepartment_department_card_container__tEJF1",department_card_image:"PromoteDepartment_department_card_image__fqEm5",department_card_name:"PromoteDepartment_department_card_name__fsy26",department_card_head:"PromoteDepartment_department_card_head__p9hSI",moderator_container_title:"PromoteDepartment_moderator_container_title__s8dGS",with_search:"PromoteDepartment_with_search__iQ8M3",search_container_input:"PromoteDepartment_search_container_input__ef1S7",searchIcon:"PromoteDepartment_searchIcon__rhdfi",class_container:"PromoteDepartment_class_container__5IIQl",class_container_text:"PromoteDepartment_class_container_text__Z4upA",oneRowImage:"PromoteDepartment_oneRowImage__300XP",total_student_count:"PromoteDepartment_total_student_count__tMaik",total_other_count_container:"PromoteDepartment_total_other_count_container__B09Jg",student_container:"PromoteDepartment_student_container__II4m8",student_info_container:"PromoteDepartment_student_info_container__aVOf4",student_info_text:"PromoteDepartment_student_info_text__w1jdE",select_application_btn:"PromoteDepartment_select_application_btn__ydAfm",promote_container:"PromoteDepartment_promote_container__BLZ0j",promote_student_card:"PromoteDepartment_promote_student_card__euVJr",promote_student_cardActive:"PromoteDepartment_promote_student_cardActive__+x213",promote_student_card_text:"PromoteDepartment_promote_student_card_text__tnq3o",promote_student_name:"PromoteDepartment_promote_student_name__8I367",select_header:"PromoteDepartment_select_header__Pf+k3",select_all_btn:"PromoteDepartment_select_all_btn__wQlgs",promote_all_btn:"PromoteDepartment_promote_all_btn__Byy5c",promote_container_title:"PromoteDepartment_promote_container_title__z4Pmh",add_new_container:"PromoteDepartment_add_new_container__LEogI",add_new_exam:"PromoteDepartment_add_new_exam__3Kr+Z",menu_icon:"PromoteDepartment_menu_icon__TxY-a",items:"PromoteDepartment_items__PRx-q",itemm:"PromoteDepartment_itemm__wY1ST",checkbox:"PromoteDepartment_checkbox__HIzX-",counts:"PromoteDepartment_counts__6u4y4",promote_student_check_container:"PromoteDepartment_promote_student_check_container__cHvP7",promote_student_check:"PromoteDepartment_promote_student_check__EnbC1",department_checkbox:"PromoteDepartment_department_checkbox__7PqNV",promote_undo_container:"PromoteDepartment_promote_undo_container__I22Lh",all_leave_config:"PromoteDepartment_all_leave_config__gJg0k",settingbtnflex:"PromoteDepartment_settingbtnflex__7U56X",settingbtn:"PromoteDepartment_settingbtn__en0FB",rec_icon:"PromoteDepartment_rec_icon__gHIKN",tf_heading:"PromoteDepartment_tf_heading__6wSM5"}},44820:function(e,t){t.Z={moderator_container:"AdmissionScholarship_moderator_container__GUbIQ",moderator_container_title:"AdmissionScholarship_moderator_container_title__MbN+U",add_new_moderator:"AdmissionScholarship_add_new_moderator__MGNeH",menu_icon:"AdmissionScholarship_menu_icon__B9YVN",scholarship_card_container:"AdmissionScholarship_scholarship_card_container__YiX+2",assign_role_container:"AdmissionScholarship_assign_role_container__KLSzY",assign_role_title:"AdmissionScholarship_assign_role_title__nA6OZ",applicable_to_btn:"AdmissionScholarship_applicable_to_btn__n25MI",category_card:"AdmissionScholarship_category_card__kRdxE",category_card_hover_active:"AdmissionScholarship_category_card_hover_active__XXJS8",scholar_preview_container:"AdmissionScholarship_scholar_preview_container__K0hzS",candidate_card_container:"AdmissionScholarship_candidate_card_container__1Lc04",candidate_card_container_text:"AdmissionScholarship_candidate_card_container_text__zUgxy",candidate_card_row:"AdmissionScholarship_candidate_card_row__hDYoA",student_container:"AdmissionScholarship_student_container__Ry2e1",route_container:"AdmissionScholarship_route_container__wEm3e",student_container_text:"AdmissionScholarship_student_container_text__KwIJo",student_container_name:"AdmissionScholarship_student_container_name__bfrbV",search_container:"AdmissionScholarship_search_container__2ENBd",search_container_text:"AdmissionScholarship_search_container_text__X17qk",search_container_input:"AdmissionScholarship_search_container_input__QSRll",searchIcon:"AdmissionScholarship_searchIcon__YPa6A",allot_container:"AdmissionScholarship_allot_container__iJKiV",unused_container:"AdmissionScholarship_unused_container__i6a51",unused_container_text:"AdmissionScholarship_unused_container_text__KuIrZ",unused_container_text_inner:"AdmissionScholarship_unused_container_text_inner__D+gFH",intake_history:"AdmissionScholarship_intake_history__iDyMU",corpus_card:"AdmissionScholarship_corpus_card__bOH21",recieve_from:"AdmissionScholarship_recieve_from__yNMCX",save_entry:"AdmissionScholarship_save_entry__eYyIF",row_search:"AdmissionScholarship_row_search__5fuBb",with_search:"AdmissionScholarship_with_search__xsHhZ",search_container_filter:"AdmissionScholarship_search_container_filter__IiiOs",edit_btn:"AdmissionScholarship_edit_btn__qF3Jg",upload_excel_file:"AdmissionScholarship_upload_excel_file__nkxKf",student_table:"AdmissionScholarship_student_table__ZpE3f",student_table_header:"AdmissionScholarship_student_table_header__ErkoZ",student_table_header_label:"AdmissionScholarship_student_table_header_label__dQ+Vq",student_table_content_card:"AdmissionScholarship_student_table_content_card__mmiv4",student_table_profile:"AdmissionScholarship_student_table_profile__Ak4+x",student_table_header_name:"AdmissionScholarship_student_table_header_name__xAxgH",student_table_header_label_text:"AdmissionScholarship_student_table_header_label_text__AuJCV",student_table_contact:"AdmissionScholarship_student_table_contact__5nWX+",student_table_contact_email:"AdmissionScholarship_student_table_contact_email__daQ9J",student_table_contact_number:"AdmissionScholarship_student_table_contact_number__zN4WT",button_container:"AdmissionScholarship_button_container__a0HXK",next_btn:"AdmissionScholarship_next_btn__iHJSQ",select_hover:"AdmissionScholarship_select_hover__1++hd",select_hover_active:"AdmissionScholarship_select_hover_active__Esmn5",os_filter_container:"AdmissionScholarship_os_filter_container__nAIWN",os_reminder:"AdmissionScholarship_os_reminder__Hb6hi",next_student_btn:"AdmissionScholarship_next_student_btn__kbhv7"}},11806:function(e,t){t.Z={MiddleContent:"MiddleContent_MiddleContent__8frm5",MiddleContentLeft:"MiddleContent_MiddleContentLeft__xWJBs",tabs:"MiddleContent_tabs__oYMW3",item:"MiddleContent_item__FqGPb",MiddleContentRight:"MiddleContent_MiddleContentRight__L9bjc",MiddleContentRightHead:"MiddleContent_MiddleContentRightHead__aOUvE",pItem:"MiddleContent_pItem__sgk9C",text:"MiddleContent_text__TS2bW",addbtn:"MiddleContent_addbtn__IWj21",menu:"MiddleContent_menu__XXyCO",menuItem:"MiddleContent_menuItem__JSKFl",itemIcon:"MiddleContent_itemIcon__FBfdz",classList:"MiddleContent_classList__Zq+54",classListItem:"MiddleContent_classListItem__2zOfp"}}}]);
//# sourceMappingURL=4020.e2185d97.chunk.js.map