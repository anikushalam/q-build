"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[62932],{62932:(a,s,e)=>{e.r(s),e.d(s,{default:()=>g});var i=e(72791),c=e(23441),n=e(763),t=e(52124),l=e(1874),r=e(12072),o=e(39230),_=e(95378),d=e(69721),h=e(80184);const g=a=>{let{onClose:s,selectMember:e}=a;const[g,v]=(0,i.useState)(1),[u,f]=(0,i.useState)(!0),[m,p]=(0,c.YD)(),{t:x}=(0,o.$G)(),[j,S]=(0,i.useState)(""),[k,b]=i.useState([]),{affiliatedSearch:Z,affiliatedSearchRefetch:y}=(0,_.I9)({search:j,page:g,limit:10});i.useEffect((()=>{y()}),[y,g]),(0,i.useEffect)((()=>{p&&u&&v((a=>a+1))}),[p,u]),i.useEffect((()=>{if(null!==Z&&void 0!==Z&&Z.manage)if(j)b(null===Z||void 0===Z?void 0:Z.manage);else{const a=[...k,...null===Z||void 0===Z?void 0:Z.manage],s=[...new Set(a.map(JSON.stringify))].map(JSON.parse);b(s)}10===(null===Z||void 0===Z?void 0:Z.manage.length)?f(!0):f(!1)}),[null===Z||void 0===Z?void 0:Z.manage]),(0,i.useEffect)((()=>{j&&C()}),[j]);const C=()=>{y()},N=(0,i.useCallback)((0,n.debounce)((a=>S(a)),500),[]),A=a=>{e(a),s()};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.Z,{onClose:()=>{s()}}),(0,h.jsx)(r.Z,{children:(0,h.jsxs)("div",{style:{backgroundColor:"#FAFAFA",borderRadius:"10px"},children:[(0,h.jsxs)("div",{className:t.Z.assign_title,children:[(0,h.jsx)("h5",{children:x("search_select")}),(0,h.jsx)("img",{src:"/images/close-post-icon.svg",onClick:s,alt:"staff assign pop close icon"})]}),(0,h.jsxs)("div",{className:t.Z.assign_search_container,children:[(0,h.jsx)("input",{type:"text",placeholder:x("search"),className:t.Z.assign_search_input,onChange:a=>{return s=a.target.value,void N(s);var s}}),(0,h.jsx)("img",{src:"/images/search-dash-icon.svg",alt:"search icon"})]}),(0,h.jsx)("div",{className:t.Z.assign_show_list,children:null===k||void 0===k?void 0:k.map(((a,s)=>(null===k||void 0===k?void 0:k.length)===s+1?(0,h.jsxs)("div",{ref:m,children:[(0,h.jsxs)("div",{className:t.Z.assign_show_list_each,onClick:()=>A(a),children:[(0,h.jsx)("img",{src:null!==a&&void 0!==a&&a.photo?"".concat(d.yI,"/").concat(a.photo):"/images/member_tab/class/default_avatar.svg",alt:"student profile avatar"}),(0,h.jsxs)("div",{className:t.Z.assign_each_paragraph,children:[(0,h.jsx)("h6",{children:null===a||void 0===a?void 0:a.affiliation_name}),(0,h.jsxs)("p",{children:[x("aff_ins")," ",null===a||void 0===a?void 0:a.affiliation_institute_approve_count]})]})]}),(0,h.jsx)("hr",{})]},a._id):(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:t.Z.assign_show_list_each,onClick:()=>A(a),children:[(0,h.jsx)("img",{src:null!==a&&void 0!==a&&a.photo?"".concat(d.yI,"/").concat(a.photo):"/images/member_tab/class/default_avatar.svg",alt:"student profile avatar"}),(0,h.jsxs)("div",{className:t.Z.assign_each_paragraph,children:[(0,h.jsx)("h6",{children:null===a||void 0===a?void 0:a.affiliation_name}),(0,h.jsxs)("p",{children:[x("aff_ins")," ",null===a||void 0===a?void 0:a.affiliation_institute_approve_count]})]})]}),(0,h.jsx)("hr",{})]},a._id)))})]})})]})}},12072:(a,s,e)=>{e.d(s,{Z:()=>t});e(72791);var i=e(54164);const c="Overlay_overlay_card__PAr1h";var n=e(80184);const t=a=>{let{children:s,customStyle:e}=a;return(0,n.jsx)(n.Fragment,{children:i.createPortal((0,n.jsx)("div",{className:c,style:{...e},children:s}),document.getElementById("overlay"))})}},84489:(a,s,e)=>{e.d(s,{Z:()=>n});e(72791);var i=e(51857),c=e(80184);const n=a=>{let{onClose:s,customStyleBackdrop:e}=a;return(0,c.jsx)("div",{className:i.Z.search_backdrop,style:{...e},onClick:s})}},1874:(a,s,e)=>{e.d(s,{Z:()=>t});e(72791);var i=e(54164),c=e(84489),n=e(80184);const t=a=>{let{onClose:s,customStyleBackdrop:e}=a;return(0,n.jsx)(n.Fragment,{children:i.createPortal((0,n.jsx)(c.Z,{onClose:s,customStyleBackdrop:e}),document.getElementById("backdrop"))})}},52124:(a,s,e)=>{e.d(s,{Z:()=>i});const i={assign_title:"AssignStaffModal_assign_title__4DGBV",assign_search_container:"AssignStaffModal_assign_search_container__3x6RD",assign_search_input:"AssignStaffModal_assign_search_input__rO3c7",assign_show_list:"AssignStaffModal_assign_show_list__yHhf7",assign_show_list_each:"AssignStaffModal_assign_show_list_each__ACUEw",assign_each_paragraph:"AssignStaffModal_assign_each_paragraph__pMHTq",universal_modal:"AssignStaffModal_universal_modal__czmpB",is_mulitselect_container:"AssignStaffModal_is_mulitselect_container__0cPQ2"}},51857:(a,s,e)=>{e.d(s,{Z:()=>i});const i={search_backdrop:"SearchHeader_search_backdrop__MsKpG",search_card:"SearchHeader_search_card__-jNcg",search_container:"SearchHeader_search_container__NS7Om",search_container_text:"SearchHeader_search_container_text__bkolR",searchIcon:"SearchHeader_searchIcon__J7cNp",search_container_back:"SearchHeader_search_container_back__ZoXdV"}}}]);
//# sourceMappingURL=62932.7a8d2dfa.chunk.js.map