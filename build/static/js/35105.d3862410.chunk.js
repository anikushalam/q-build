"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[35105,3971],{80453:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ye});var s=n(72791),i=n(20772);const l="ClassProfile_navbar__L6Igq",a="ClassProfile_editContainer__fyo1O",o="ClassProfile_bgContainer__9tK7Q",c="ClassProfile_class_header_container__feyw-",d="ClassProfile_class_header_image__A3+4E",r="ClassProfile_class_header_info__UwjDo",_="ClassProfile_class_header_info_bottom__mDKPz",u="ClassProfile_class_header_info_add_student__5qeT-",v="ClassProfile_class_header_info_detail__YMlAw",m="ClassProfile_class_header_info_conut__CzsOR";var h=n(35395),p=n(33992);const x="ClassProfileMain_mainContainer__wLWNB",g="ClassProfileMain_headRightTab__0wm8s",b="ClassProfileMain_borderBottom__XasG4",j="ClassProfileMain_main__Gb67I";var f=n(39230),N=n(4158),C=n(37570),S=n(46457),y=n(16871),Z=n(43504),T=n(80184);const w=()=>{const{t:e}=(0,f.$G)(),t=(0,y.UO)(),[n]=(0,Z.lr)();return(0,T.jsx)("div",{className:S.Z.mcqTop,children:(0,T.jsxs)("div",{className:S.Z.mcqToptabs,children:[(0,T.jsx)(Z.rU,{to:"/q/".concat(t.username,"/class"),style:{width:"33.3%"},children:(0,T.jsx)("div",{className:n.get("type")?S.Z.mcqTopItem:"".concat(S.Z.mcqTopItem," ").concat(S.Z.active),style:{width:"100%"},children:e("students")})}),(0,T.jsx)(Z.rU,{to:"/q/".concat(t.username,"/class?type=subject"),style:{width:"33.3%"},children:(0,T.jsx)("div",{className:"subject"===n.get("type")?"".concat(S.Z.mcqTopItem," ").concat(S.Z.active):S.Z.mcqTopItem,style:{width:"100%"},children:e("subjects")})}),(0,T.jsx)(Z.rU,{to:"/q/".concat(t.username,"/class?type=batches"),style:{width:"33.3%"},children:(0,T.jsx)("div",{className:"batches"===n.get("type")||"batch-detail"===n.get("type")?"".concat(S.Z.mcqTopItem," ").concat(S.Z.active):S.Z.mcqTopItem,style:{width:"100%"},children:e("class_batch")})})]})})};var A=n(69614),R=n(95587),I=n.n(R),q=n(64802),F=n(36665),k=n(25313),E=n(98734),U=n(98094),L=n(69721),P=n(51355),M=(n(31186),new P.ZP({format:[279,210]})),H=M.internal.pageSize.getWidth();const B=(e,t,n,s)=>{var i=new Date,l=i.getMonth()+1>9?i.getMonth()+1:"0".concat(i.getMonth()+1),a=(i.getDate()>9?i.getDate():"0".concat(i.getDate()))+"-"+l+"-"+i.getFullYear();let o=1;M.addImage(e,"JPEG",9,3,25,25),M.setLineWidth(8),M.setDrawColor(255,255,255),M.circle(21.4,15,16),M.setLineWidth(0);const c=M.splitTextToSize(n.institute.insName,146);if(c.length>1){let e=10;M.setFont("700"),M.setTextColor(18,18,18),M.setFontSize(16),M.text(107,e,c,"center"),e=c.length+145}else{let e=10;M.setFont("700"),M.setTextColor(18,18,18),M.setFontSize(18),M.text(107,e,c,"center"),e=c.length+145}M.setFont("Arial","normal","400"),M.setTextColor(18,18,18),M.setFontSize(10),M.text(H/2,17,n.institute.insAddress,"center"),M.setFont("WorkSans"),M.setTextColor(18,18,18),M.setFontSize(10),M.text(71,c.length>1?27:23,"Mob No : ".concat(n.institute.insPhoneNumber," , Mail: ").concat(n.institute.insEmail)),M.setLineWidth(45),M.setDrawColor(28,2,59),M.line(0,53,H,53),M.setFont("WorkSans"),M.setTextColor(255,255,255),M.setFontSize(18),M.text(H/2,41,"REPORT CARD","center"),M.setLineWidth(1),M.setDrawColor(254,210,56),M.line(80,44,130,44),M.setTextColor(255,255,255),M.setFontSize(11),M.text(9,56,"Student name :"),M.setTextColor(255,255,255),M.setFontSize(11),M.text(9,63,"Class Teacher :"),M.setTextColor(255,255,255),M.setFontSize(11),M.text(9,70,"Class :");const d="".concat(t.studentFirstName," ").concat(t.studentMiddleName?t.studentMiddleName:""," ").concat(t.studentLastName);M.setTextColor(255,255,255),M.setFontSize(10),M.text(37,56,d);const r="".concat(n.classTeacher.staffFirstName," ").concat(n.classTeacher.staffMiddleName?n.classTeacher.staffMiddleName:""," ").concat(n.classTeacher.staffLastName);M.setTextColor(255,255,255),M.setFontSize(10),M.text(37,63,r),M.setTextColor(255,255,255),M.setFontSize(10),M.text(37,70,"".concat(n.className," - ").concat(n.classTitle));const _=M.getTextWidth(d);M.setTextColor(255,255,255),M.setFontSize(11),M.text(_+100,56,"Roll No :"),M.setTextColor(255,255,255),M.setFontSize(11),M.text(_+100,63,"GR No :"),M.setTextColor(255,255,255),M.setFontSize(11),M.text(_+100,70,"Batch :"),M.setTextColor(255,255,255),M.setFontSize(10),M.text(_+120,56,t.studentROLLNO>9?t.studentROLLNO:"0".concat(t.studentROLLNO)),M.setTextColor(255,255,255),M.setFontSize(10),M.text(_+120,63,t.studentGRNO),M.setTextColor(255,255,255),M.setFontSize(10),M.text(_+120,70,n.batchName),M.setLineWidth(8),M.setDrawColor("#c9bada"),M.line(0,84,H,84),M.setTextColor(0,0,0),M.setFontSize(10),M.text(9,85,"SUBJECT"),M.setTextColor(0,0,0),M.setFontSize(10),M.text(100,85,"FINAL"),M.setTextColor(0,0,0),M.setFontSize(10),M.text(127,85,"OUT OF"),M.setTextColor(0,0,0),M.setFontSize(10),M.text(147,85,"OTHER"),M.setTextColor(0,0,0),M.setFontSize(10),M.text(167,85,"OUT OF"),M.setTextColor(0,0,0),M.setFontSize(10),M.text(187,85,"TOTAL"),M.setLineWidth(67),M.setDrawColor("#ede8f3"),M.line(0,121,H,121);let u=0,v=0;for(let m=0;m<s.subjects.length;m++)M.setTextColor(0,0,0),M.setFontSize(10),M.text(9,95+o,s.subjects[m].subjectName),M.setTextColor(0,0,0),M.setFontSize(10),M.text(102,95+o,"".concat(s.subjects[m].finalExamObtain.toFixed(2))),M.setTextColor(0,0,0),M.setFontSize(10),M.text(129,95+o,"".concat(s.subjects[m].finalExamTotal)),M.setTextColor(0,0,0),M.setFontSize(10),M.text(149,95+o,"".concat(s.subjects[m].otherExamObtain.toFixed(2))),M.setTextColor(0,0,0),M.setFontSize(10),M.text(169,95+o,"".concat(s.subjects[m].otherExamTotal)),M.setTextColor(0,0,0),M.setFontSize(10),M.text(189,95+o,"".concat(null!==s&&void 0!==s&&s.is_grade?s.subjects[m].showGrade:s.subjects[m].obtainTotalMarks.toFixed(2))),o+=9,u+=s.subjects[m].finalExamTotal,v+=s.subjects[m].otherExamTotal;return M.setLineWidth(8),M.setDrawColor("#c9bada"),M.line(0,157,H,157),M.text(9,158,"Total"),M.text(102,158,null===s||void 0===s?void 0:s.totalFinalExam.toFixed(2)),M.text(129,158,"".concat(u)),M.text(149,158,null===s||void 0===s?void 0:s.totalOtherExam.toFixed(2)),M.text(169,158,"".concat(v)),M.text(189,158,"".concat(null!==s&&void 0!==s&&s.is_grade?s.showGradeTotal:null===s||void 0===s?void 0:s.totalTotalExam.toFixed(2))),M.setLineWidth(8),M.setDrawColor(28,2,59),M.line(0,168,H,168),M.setTextColor(255,255,255),M.setFontSize(10),M.text(9,169,"".concat(null!==s&&void 0!==s&&s.is_grade?"SPI : ".concat(s.spi.toFixed(2)):"Percentage : ".concat(s.totalPercentage.toFixed(2)))),M.text(102,169," Remarks : ".concat(null===s||void 0===s?void 0:s.remark)),M.setLineWidth(28),M.setDrawColor("#ede8f3"),M.line(0,188,H,188),M.setTextColor(0,0,0),M.text(9,183," Extra-Curricular Points : "),M.text(102,183,""),M.text(122,183,"  Note : Not given by institute, Universal in all institutes"),M.text(132,187," by Qviple"),M.text(9,194," Attendance : ".concat(s.attendancePercentage,"%")),M.text(50,194,"".concat(s.attendance,"/").concat(s.attendanceTotal," days")),M.text("Behaviour : ".concat(null===s||void 0===s?void 0:s.behaviourStar),124,194),M.text("Improvement :  ".concat(null===s||void 0===s?void 0:s.behaviourImprovement),9,210,{lineHeightFactor:1.5}),M.text("Lack in :  ".concat(null===s||void 0===s?void 0:s.behaviourLack),9,220),M.text(9,265,"Date : ".concat(a)),M.text(102,265,"Class Teacher"),M.text(162,265,"Principal"),M.setLineWidth(8),M.setDrawColor(28,2,59),M.line(0,275,H,275),M.setTextColor(255,255,255),M.setFontSize(10),M.text(H/2,276,"Note : Percentage ration for final and other marks in report is 60:40","center"),M.output("blob")},D=e=>{let{onClose:t,cid:n,className:i}=e;const{t:l}=(0,f.$G)(),[a,o]=(0,s.useState)(!1),[c]=(0,p.TB)();return(0,T.jsxs)(F.Z,{onClose:t,children:[(0,T.jsxs)("div",{className:k.Z.filter_container,style:{minHeight:"10rem"},children:[(0,T.jsx)("h6",{className:k.Z.filter_title,children:l("export_student_report")}),(0,T.jsx)(U.Z,{customStyle:{width:"100%"}}),(0,T.jsx)("button",{className:k.Z.next_btn,onClick:()=>{o((e=>!e)),c({cid:n}).then((async e=>{if(e.data){const ze=new(I()),{report_zip:Oe,necessary_data:Ge}=e.data,We=Ge.institute.insProfilePhoto?"".concat(L.yI,"/").concat(Ge.institute.insProfilePhoto):"/images/certificate/logodemo.jpg";for(let e=0;e<(null===Oe||void 0===Oe?void 0:Oe.length);e++){var n,s,l,a,c,d,r,_,u,v,m,h,p,x,g,b,j,f,N,C,S,y,Z,T,w,A,R,F,k,E,U,P,M,H,D,z,O,G,W,J,V,Y,$,Q,K,X,ee,te,ne,se,ie,le,ae,oe,ce,de,re,_e,ue,ve,me,he,pe,xe,ge,be,je,fe,Ne,Ce,Se,ye,Ze,Te,we,Ae,Re,Ie,qe,Fe,ke,Ee,Ue,Le,Pe,Me,He,Be,De;let t={studentGRNO:null===(n=Oe[e])||void 0===n?void 0:n.studentGRNO,studentROLLNO:null===(s=Oe[e])||void 0===s?void 0:s.studentROLLNO,studentFirstName:null===(l=Oe[e])||void 0===l?void 0:l.studentFirstName,studentMiddleName:null===(a=Oe[e])||void 0===a?void 0:a.studentMiddleName,studentLastName:null===(c=Oe[e])||void 0===c?void 0:c.studentLastName,studentGender:null===(d=Oe[e])||void 0===d?void 0:d.studentGender},i={totalCutoff:null===(r=Oe[e])||void 0===r||null===(_=r.finalReport)||void 0===_||null===(u=_[0])||void 0===u?void 0:u.totalCutoff,totalFinalExam:null===(v=Oe[e])||void 0===v||null===(m=v.finalReport)||void 0===m||null===(h=m[0])||void 0===h?void 0:h.totalFinalExam,totalOtherExam:null===(p=Oe[e])||void 0===p||null===(x=p.finalReport)||void 0===x||null===(g=x[0])||void 0===g?void 0:g.totalOtherExam,totalGraceExam:null===(b=Oe[e])||void 0===b||null===(j=b.finalReport)||void 0===j||null===(f=j[0])||void 0===f?void 0:f.totalGraceExam,totalTotalExam:null===(N=Oe[e])||void 0===N||null===(C=N.finalReport)||void 0===C||null===(S=C[0])||void 0===S?void 0:S.totalTotalExam,totalPercentage:null===(y=Oe[e])||void 0===y||null===(Z=y.finalReport)||void 0===Z||null===(T=Z[0])||void 0===T?void 0:T.totalPercentage,showGradeTotal:null===(w=Oe[e])||void 0===w||null===(A=w.finalReport)||void 0===A||null===(R=A[0])||void 0===R?void 0:R.showGradeTotal,is_grade:null===(F=Oe[e])||void 0===F||null===(k=F.finalReport)||void 0===k||null===(E=k[0])||void 0===E?void 0:E.is_grade,subjects:null===(U=Oe[e])||void 0===U||null===(P=U.finalReport)||void 0===P||null===(M=P[0])||void 0===M?void 0:M.subjects,behaviourStar:null!==(H=null===(D=Oe[e])||void 0===D||null===(z=D.finalReport)||void 0===z||null===(O=z[0])||void 0===O?void 0:O.behaviourStar)&&void 0!==H?H:0,behaviourImprovement:null!==(G=null===(W=Oe[e])||void 0===W||null===(J=W.finalReport)||void 0===J||null===(V=J[0])||void 0===V?void 0:V.behaviourImprovement)&&void 0!==G?G:"",behaviourLack:null!==(Y=null===($=Oe[e])||void 0===$||null===(Q=$.finalReport)||void 0===Q||null===(K=Q[0])||void 0===K?void 0:K.behaviourLack)&&void 0!==Y?Y:"",attendance:null===(X=Oe[e])||void 0===X||null===(ee=X.finalReport)||void 0===ee||null===(te=ee[0])||void 0===te?void 0:te.attendance,attendanceTotal:null===(ne=Oe[e])||void 0===ne||null===(se=ne.finalReport)||void 0===se||null===(ie=se[0])||void 0===ie?void 0:ie.attendanceTotal,attendancePercentage:null===(le=Oe[e])||void 0===le||null===(ae=le.finalReport)||void 0===ae||null===(oe=ae[0])||void 0===oe?void 0:oe.attendancePercentage,passStatus:null===(ce=Oe[e])||void 0===ce||null===(de=ce.finalReport)||void 0===de||null===(re=de[0])||void 0===re?void 0:re.passStatus,remark:(null===(_e=Oe[e])||void 0===_e||null===(ue=_e.finalReport)||void 0===ue||null===(ve=ue[0])||void 0===ve||null===(me=ve.totalPercentage)||void 0===me?void 0:me.toFixed(2))>=75?"Pass With Distinction":(null===(he=Oe[e])||void 0===he||null===(pe=he.finalReport)||void 0===pe||null===(xe=pe[0])||void 0===xe||null===(ge=xe.totalPercentage)||void 0===ge?void 0:ge.toFixed(2))>=65&&(null===(be=Oe[e])||void 0===be||null===(je=be.finalReport)||void 0===je||null===(fe=je[0])||void 0===fe||null===(Ne=fe.totalPercentage)||void 0===Ne?void 0:Ne.toFixed(2))<75?"Pass Wtih First Class":(null===(Ce=Oe[e])||void 0===Ce||null===(Se=Ce.finalReport)||void 0===Se||null===(ye=Se[0])||void 0===ye||null===(Ze=ye.totalPercentage)||void 0===Ze?void 0:Ze.toFixed(2))>=50&&(null===(Te=Oe[e])||void 0===Te||null===(we=Te.finalReport)||void 0===we||null===(Ae=we[0])||void 0===Ae||null===(Re=Ae.totalPercentage)||void 0===Re?void 0:Re.toFixed(2))<65?"Pass With Second Class":(null===(Ie=Oe[e])||void 0===Ie||null===(qe=Ie.finalReport)||void 0===qe||null===(Fe=qe[0])||void 0===Fe||null===(ke=Fe.totalPercentage)||void 0===ke?void 0:ke.toFixed(2))>=(null===Ge||void 0===Ge?void 0:Ge.aggregate_passing_percentage)&&(null===(Ee=Oe[e])||void 0===Ee||null===(Ue=Ee.finalReport)||void 0===Ue||null===(Le=Ue[0])||void 0===Le||null===(Pe=Le.totalPercentage)||void 0===Pe?void 0:Pe.toFixed(2))<50?"Pass With Third Class":"FAIL"},o=await B(We,t,Ge,i);ze.file("".concat(null===(Me=Oe[e])||void 0===Me?void 0:Me.studentFirstName," ").concat(null!==(He=null===(Be=Oe[e])||void 0===Be?void 0:Be.studentMiddleName)&&void 0!==He?He:""," ").concat(null===(De=Oe[e])||void 0===De?void 0:De.studentLastName,"-Report-Card.pdf"),o)}const Je=await ze.generateAsync({type:"blob"});(0,q.saveAs)(Je,"".concat(i,"-report.zip")),o((e=>!e)),t(),window.location.reload()}})).catch((()=>{}))},style:{marginTop:"3rem"},children:l("export_data")})]}),a&&(0,T.jsx)(E.Z,{})]})};var z=n(24582),O=n(60163),G=n(11105);const W=e=>{var t;let{onClose:n,cid:i}=e;const{t:l}=(0,f.$G)(),[a,o]=(0,s.useState)([]),[c,d]=(0,s.useState)([]),[r,_]=(0,s.useState)(!1),[u,v]=(0,s.useState)(!1),[m,h]=(0,s.useState)(!1),[x,g]=(0,s.useState)(!0),[b]=(0,p.F2)(),{classAllStudent:j,classAllStudentRefetch:N}=(0,z.EY)({data:{cid:i,page:1,limit:30},skip:!i});(0,s.useEffect)((()=>{i&&(g(!0),N())}),[i,N]),(0,s.useEffect)((()=>{var e,t;null!==j&&void 0!==j&&null!==(e=j.classes)&&void 0!==e&&e.ApproveStudent&&(o(null===j||void 0===j||null===(t=j.classes)||void 0===t?void 0:t.ApproveStudent),g(!1))}),[null===j||void 0===j||null===(t=j.classes)||void 0===t?void 0:t.ApproveStudent]);return(0,T.jsxs)(F.Z,{onClose:n,children:[!m&&(0,T.jsxs)("div",{className:O.Z.seating_modal,children:[(0,T.jsxs)("section",{className:O.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,T.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:n,alt:""}),(0,T.jsx)("h6",{children:l("select_deleted_student_list")}),(0,T.jsx)("button",{className:O.Z.next_btn,title:"Delete students",onClick:()=>{h((e=>!e))},children:l("delete")})]}),(0,T.jsx)(U.Z,{customStyle:{width:"100%"}}),(0,T.jsxs)("div",{className:O.Z.select_mutliple,children:[(0,T.jsxs)("p",{children:[null!==c&&void 0!==c&&c.length?null===c||void 0===c?void 0:c.length:""," "," ",l("selected")]}),r?(0,T.jsx)("button",{onClick:()=>{d([]),_(!1)},children:l("remove_all")}):(0,T.jsx)("button",{onClick:()=>{let e=[];for(let t of a)e.push(null===t||void 0===t?void 0:t._id);d(e),_(!0)},children:l("select_all")})]}),(0,T.jsx)("div",{className:O.Z.search_container,style:{marginBottom:"0.5rem"},children:(0,T.jsxs)("div",{className:O.Z.search_container_input,style:{width:"100%"},children:[(0,T.jsx)("img",{className:O.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,T.jsx)("input",{type:"text",placeholder:l("search-label"),style:{width:"100%"},onChange:e=>{if(e.target.value){var t,n;const s=null===j||void 0===j||null===(t=j.classes)||void 0===t||null===(n=t.ApproveStudent)||void 0===n?void 0:n.filter((t=>{var n,s,i;return null!==(n="".concat(null===t||void 0===t?void 0:t.studentFirstName," ").concat(null!==t&&void 0!==t&&t.studentMiddleName?(null===t||void 0===t?void 0:t.studentMiddleName)+" ":"").concat(null===t||void 0===t?void 0:t.studentLastName))&&void 0!==n&&null!==(s=n.toLowerCase())&&void 0!==s&&s.includes(null===(i=e.target.value)||void 0===i?void 0:i.toLowerCase())?t:null}));o(s)}else{var s;o(null===j||void 0===j||null===(s=j.classes)||void 0===s?void 0:s.ApproveStudent)}}})]})}),null===a||void 0===a?void 0:a.map((e=>{var t,n,s;return(0,T.jsxs)("div",{className:O.Z.person_container,onClick:()=>{return t=null===e||void 0===e?void 0:e._id,void(null!==c&&void 0!==c&&c.includes(t)?d((e=>null===e||void 0===e?void 0:e.filter((e=>e!==t)))):d((e=>[...e,t])));var t},children:[(0,T.jsx)("img",{src:null!==e&&void 0!==e&&e.studentProfilePhoto?"".concat(L.yI,"/").concat(e.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"student profile avatar",loading:"lazy"}),(0,T.jsxs)("div",{className:O.Z.with_check_container,children:[(0,T.jsxs)("div",{className:O.Z.person_container_text,children:[(0,T.jsx)("h6",{children:"".concat(null!==(t=e.studentFirstName)&&void 0!==t?t:""," ").concat(null!==(n=null===e||void 0===e?void 0:e.studentMiddleName)&&void 0!==n?n:""," ").concat(null!==(s=e.studentLastName)&&void 0!==s?s:"")}),(0,T.jsxs)("p",{children:[l("index")," ",null===e||void 0===e?void 0:e.studentROLLNO]})]}),null!==c&&void 0!==c&&c.includes(null===e||void 0===e?void 0:e._id)?(0,T.jsx)("img",{src:"/images/department/blue-check-icon.svg",alt:"checkbox icon",title:"Select student"}):(0,T.jsx)("img",{src:"/images/department/uncheck-icon.svg",alt:"checkbox icon",title:"Unselect student"})]})]},e._id)})),x&&(0,T.jsx)(G.Z,{})]}),m&&(0,T.jsxs)("div",{className:O.Z.seating_modal,style:{minHeight:"10rem"},children:[(0,T.jsxs)("section",{className:O.Z.seating_modal_title_left,style:{position:"relative"},children:[(0,T.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:n,alt:""}),(0,T.jsx)("h6",{children:l("confirm_to_delete_all_student")})]}),(0,T.jsx)(U.Z,{customStyle:{width:"100%"}}),(0,T.jsx)("button",{className:O.Z.normal_confirm_btn,onClick:()=>{v((e=>!e)),b({cid:i,student_list:{all_students:c}}).then((()=>{N(),n(),v((e=>!e))})).catch({})},style:{marginTop:"3rem"},children:l("confirm")}),u&&(0,T.jsx)(E.Z,{})]})]})};var J=n(87744),V=n(76637),Y=n(95048),$=n(93638),Q=n(98684),K=n(61055),X=n(99183),ee=n(38857),te=n(21348),ne=n(90904),se=n(16925),ie=n(55336);const le=e=>{let{onClose:t,sid:n,onReftech:i}=e;const{t:l}=(0,f.$G)(),[a,o]=(0,s.useState)(""),[c,d]=(0,s.useState)({query:""}),[r,_]=(0,s.useState)(!1),[u]=(0,p.ZW)();return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(ee.Z,{onClose:()=>{},children:(0,T.jsxs)("div",{className:se.Z.modal_container,children:[(0,T.jsx)(te.default,{children:(0,T.jsxs)("div",{className:se.Z.modal_container_outer_header,children:[(0,T.jsx)("div",{className:se.Z.modal_container_header,children:(0,T.jsx)("h6",{children:l("are_your_sure_to_delete_subject")})}),(0,T.jsx)("img",{src:"".concat(Q.J7,"/close.svg"),alt:"close icon",onClick:t})]})}),(0,T.jsx)(ne.Z,{}),(0,T.jsxs)(te.default,{customStyle:{paddingTop:"0"},children:[(0,T.jsx)(K.Z,{label:l("type_confirm_to_continue"),placeholder:l("type_confirm_to_continue"),name:"query",value:c.query,type:"text",onChange:e=>{d((t=>({...t,[e.target.name]:e.target.value})))},errorShow:a.query}),(0,T.jsx)($.Z,{label:"confirm",onAction:()=>{let e=(0,X.l)(c);(0,X.x)(e)&&n?"Confirm"===c.query&&(_((e=>!e)),u({sid:n}).then((()=>{i(),_((e=>!e)),t()})).catch({})):o(e)}})]})]})}),r&&(0,T.jsx)(ie.default,{})]})},ae=s.lazy((()=>Promise.all([n.e(6307),n.e(85054),n.e(45280)]).then(n.bind(n,85054)))),oe=e=>{var t,n;let{cid:i,id:l,did:a,bid:o,className:c}=e;const{t:d}=(0,f.$G)(),r=(0,Y.v9)((e=>e.authChange.loginRole)),_=(0,y.UO)(),[u]=(0,Z.lr)(),[v,m]=(0,s.useState)(!1),[S,R]=(0,s.useState)(!1),[I,q]=(0,s.useState)(""),[F,k]=(0,s.useState)(""),[E,U]=(0,s.useState)(!1),[L,P]=(0,s.useState)(!1),[M,H]=(0,s.useState)(!1),[B,z]=(0,s.useState)(!1),[O,G]=(0,s.useState)(""),{oneClassAllSubject:Q,oneClassAllSubjectRefetch:K}=(0,p.fk)({cid:i,skip:!i});(0,s.useEffect)((()=>{i&&K()}),[i,K]);const X=e=>{k(e),R(!0),m(!0)},ee=()=>{U((e=>!e))},te=()=>{P((e=>!e))},ne=()=>{H((e=>!e))},se=()=>{z((e=>!e))};return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("div",{className:x,children:[(0,T.jsx)(w,{}),(0,T.jsx)("p",{className:b}),"subject"===u.get("type")&&(0,T.jsxs)("div",{className:j,children:["_usr_ia"===r?null:(0,T.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",margin:"-1rem 0 1rem 0"},children:(0,T.jsx)("p",{className:g,onClick:()=>m(!0),children:d("add_subjects")})}),null===Q||void 0===Q||null===(t=Q.classes)||void 0===t||null===(n=t.subject)||void 0===n?void 0:n.map(((e,t)=>{var n,s,l,a,o;return(0,T.jsx)(Z.rU,{to:"/q/".concat(_.username,"/class?type=subject-menu"),state:{subjectName:"".concat((null===e||void 0===e?void 0:e.subjectName)||"Mathematics"," ").concat(null!==e&&void 0!==e&&e.subject_category?"(".concat(null===e||void 0===e?void 0:e.subject_category,")"):""," ").concat(null!==e&&void 0!==e&&null!==(n=e.selected_batch_query)&&void 0!==n&&n.batchName?"(".concat(null===e||void 0===e||null===(s=e.selected_batch_query)||void 0===s?void 0:s.batchName,")"):""),sid:null===e||void 0===e?void 0:e._id,subjectId:null===e||void 0===e?void 0:e._id,isView:"INSTITUTE",cid:i,batchId:null===e||void 0===e||null===(l=e.selected_batch_query)||void 0===l?void 0:l._id},children:(0,T.jsx)(N.Z,{name:"".concat((null===e||void 0===e?void 0:e.subjectName)||"Mathematics"," ").concat(null!==e&&void 0!==e&&e.subject_category?"(".concat(null===e||void 0===e?void 0:e.subject_category,")"):""),subjectType:null===e||void 0===e?void 0:e.subjectOptional,image:"/images/book-24-icon.svg",onId:e._id,status:"subject",onReftech:K,onEdit:X,isBatch:null!==(a=null===e||void 0===e||null===(o=e.selected_batch_query)||void 0===o?void 0:o.batchName)&&void 0!==a?a:"",setIsDelete:q})},t)}))]}),!u.get("type")&&(0,T.jsxs)("div",{children:[(0,T.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",margin:"1rem 1.25rem",gap:"2rem"},children:[(0,T.jsx)($.Z,{label:"assign_roll",customStyle:{margin:"0",padding:"0.3rem 0.5rem"},onAction:()=>G(1)}),(0,T.jsx)($.Z,{label:"resuffle",customStyle:{margin:"0",padding:"0.35rem 0.5rem"},onAction:se}),(0,T.jsx)("p",{className:g,onClick:ee,children:d("export_zip_attendance")}),(0,T.jsx)("p",{className:g,onClick:te,children:d("export_zip_report")}),(0,T.jsx)("p",{className:g,style:{color:"#f85149"},onClick:ne,children:d("delete_all_student")})]}),(0,T.jsx)(A.Z,{cid:i,resuffle:B,onResuffleToggle:se,step:O,onCloseStep:()=>{G("")},instituteId:l})]}),"batches"===u.get("type")&&(0,T.jsx)(J.Z,{cid:i,viewAs:"INSTITUTE",carryParentState:{}}),"batch-detail"===u.get("type")&&(0,T.jsx)(V.Z,{cid:i,viewAs:"INSTITUTE",masterBatchId:o})]}),(0,T.jsxs)(h.Z,{children:[v&&(0,T.jsx)(ae,{departmentModal:v,hideModal:m,id:l,did:a,bid:o,cid:i,edit:S,setEdit:R,editSubject:F}),E&&(0,T.jsx)(C.Z,{cid:i,onClose:ee,className:c}),L&&(0,T.jsx)(D,{cid:i,onClose:te,className:c}),M&&(0,T.jsx)(W,{cid:i,onClose:ne}),I&&(0,T.jsx)(le,{sid:I,onClose:()=>q(""),onReftech:K})]})]})};var ce=n(90021),de=n(90788);const re=e=>{let{customStyleBlueLine:t}=e;return(0,T.jsx)("div",{className:de.Z.blue_line_container,style:{...t}})};var _e=n(84959);const ue=e=>{var t,n,i,l,a;let{classes:o,bid:h,departmentId:x}=e;const{t:g}=(0,f.$G)(),[b,j]=(0,s.useState)(!1),[N]=(0,_e.FL)(),[C]=(0,p.fn)();return(0,T.jsxs)("div",{style:{width:"100%"},children:[(0,T.jsx)(re,{customStyleBlueLine:{width:"100%"}}),(0,T.jsxs)("div",{className:c,style:{width:"100%"},children:[(0,T.jsx)("img",{src:null!==o&&void 0!==o&&o.cover?"".concat(L.yI,"/").concat(null===o||void 0===o?void 0:o.cover):"/images/profileAndCover/classroom-cover.svg",alt:"class room background",className:d}),(0,T.jsxs)("div",{className:r,children:[(0,T.jsxs)("div",{className:v,children:[(0,T.jsx)("h4",{children:(null===o||void 0===o?void 0:o.classTitle)||""}),(0,T.jsxs)("h6",{children:[(null===o||void 0===o?void 0:o.classHeadTitle)||"",":"," ","".concat((null===o||void 0===o||null===(t=o.classTeacher)||void 0===t?void 0:t.staffFirstName)||""," ").concat(null!==o&&void 0!==o&&null!==(n=o.classTeacher)&&void 0!==n&&n.staffMiddleName?null===o||void 0===o||null===(i=o.classTeacher)||void 0===i?void 0:i.staffMiddleName:""," ").concat((null===o||void 0===o||null===(l=o.classTeacher)||void 0===l?void 0:l.staffLastName)||"")]}),(0,T.jsx)("p",{children:(null===o||void 0===o||null===(a=o.batch)||void 0===a?void 0:a.batchName)||""})]}),(0,T.jsxs)("div",{className:_,children:[(0,T.jsxs)("div",{className:m,children:[(0,T.jsxs)("p",{children:[(0,T.jsx)("span",{children:(null===o||void 0===o?void 0:o.studentCount)||0})," ",g("students")]}),(0,T.jsxs)("p",{children:[(0,T.jsx)("span",{children:(null===o||void 0===o?void 0:o.subjectCount)||0})," ",g("subjects")]})]}),(0,T.jsx)(Z.rU,{to:"/q/joining",state:{formAs:"STUDENT",openAs:"INSTITUTE_SIDE",classId:null===o||void 0===o?void 0:o._id,classMasterId:null===o||void 0===o?void 0:o.masterClassName,batchId:h,departmentId:x},children:(0,T.jsxs)("div",{className:u,children:[(0,T.jsx)("img",{src:"/images/add-icon.svg",alt:"add student icon"}),(0,T.jsx)("p",{children:g("add_student")})]})}),(0,T.jsxs)("label",{className:u,htmlFor:"uploadExcel",children:[(0,T.jsx)("img",{src:"/images/upload-xslx-icon.svg",alt:"add student icon"}),(0,T.jsx)("p",{children:g("upload_excel")})]}),(0,T.jsx)("input",{type:"file",id:"uploadExcel",accept:".xlsx",onChange:e=>{j((e=>!e));const t=new FormData;t.append("file",e.target.files[0]),N({fileUpload:t}).then((e=>{var t,n;null!==(t=e.data)&&void 0!==t&&t.imageKey?C({cid:null===o||void 0===o?void 0:o._id,excelFile:{excel_file:null===(n=e.data)||void 0===n?void 0:n.imageKey}}).then((()=>{j((e=>!e))})).catch({}):j((e=>!e))})).catch({})},style:{display:"none"}})]})]})]}),b&&(0,T.jsx)(E.Z,{})]})};var ve=n(46480);const me=()=>(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(ve.Z,{}),";"]});var he=n(33148),pe=n(11806);const xe=e=>{let{carryParentState:t}=e;const{t:n}=(0,f.$G)(),s=(0,y.UO)();return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)("div",{className:pe.Z.MiddleContentLeft,style:{border:"none"},children:(0,T.jsxs)("div",{className:pe.Z.item,style:{paddingLeft:"2vw"},children:[(0,T.jsx)(Z.rU,{to:"/q/".concat(s.username,"/class?type=subject-menu&n=subject-catalog"),state:{...t},children:(0,T.jsxs)("div",{className:pe.Z.itemIcon,children:[(0,T.jsx)("img",{src:"/images/member_tab/class/class-catalog-icon.svg",alt:"Class Catalog"}),(0,T.jsx)("p",{children:n("catalog")})]})}),(0,T.jsx)(Z.rU,{to:"/q/".concat(s.username,"/class?type=subject-menu&n=subject-attendance"),state:{...t},children:(0,T.jsxs)("div",{className:pe.Z.itemIcon,children:[(0,T.jsx)("img",{src:"/images/member_tab/class/class-attendance-icon.svg",alt:"attendence"}),(0,T.jsxs)("p",{children:[" ",n("attendance")," "]})]})}),(0,T.jsx)(Z.rU,{to:"/q/".concat(s.username,"/class?type=subject-menu&n=subject-assignment"),state:{...t},children:(0,T.jsxs)("div",{className:pe.Z.itemIcon,children:[(0,T.jsx)("img",{src:"/images/member_tab/subject/subject-assignment-icon.svg",alt:"assignment"}),(0,T.jsx)("p",{children:n("assigmnent")})]})}),(0,T.jsx)(Z.rU,{to:"/q/".concat(s.username,"/class?type=subject-menu&n=subject-exam"),state:{...t},children:(0,T.jsxs)("div",{className:pe.Z.itemIcon,children:[(0,T.jsx)("img",{src:"/images/member_tab/department/department-examination-icon.svg",alt:"attendence"}),(0,T.jsx)("p",{children:n("examinations")})]})}),(0,T.jsx)(Z.rU,{to:"/q/".concat(s.username,"/class?type=academic"),state:{...t},children:(0,T.jsxs)("div",{className:pe.Z.itemIcon,children:[(0,T.jsx)("img",{src:"/images/member_tab/subject/subject-daily-update-icon.svg",alt:"student Request"}),(0,T.jsx)("p",{style:{textAlign:"center"},children:n("academics_teachings")})]})})]})})})};var ge=n(36185),be=n(17121),je=n(11457),fe=n(73453),Ne=n(6763),Ce=n(61587);const Se=()=>{var e,t,n,s,i,l,a,o,c,d,r,_,u,v;const[m]=(0,Z.lr)(),h=(0,y.TH)(),{t:p}=(0,f.$G)();return(0,T.jsx)("div",{className:he.Z.departmenthead,children:(0,T.jsxs)("div",{className:he.Z.demaprtment_list,children:[(0,T.jsx)("div",{className:he.Z.with_search,children:(0,T.jsxs)("h6",{children:[" ",p("subject_name")," : ",null!==(e=null===(t=h.state)||void 0===t?void 0:t.subjectName)&&void 0!==e?e:""]})}),(0,T.jsx)(U.Z,{customStyle:{width:"100%",marginTop:"0.5rem",marginBottom:"0.5rem"}}),m.get("n")?"subject-catalog"===m.get("n")?(0,T.jsx)(ge.Z,{cid:null===(n=h.state)||void 0===n?void 0:n.cid,bid:null===(s=h.state)||void 0===s?void 0:s.batchId,isDepartment:"INSTITUTE_SUBJECT",sid:null===(i=h.state)||void 0===i?void 0:i.subjectId}):"subject-attendance"===m.get("n")?(0,T.jsx)(be.Z,{sid:null===(l=h.state)||void 0===l?void 0:l.subjectId,bid:null===(a=h.state)||void 0===a?void 0:a.batchId,isDepartment:"INSTITUTE_SUBJECT",subjectName:null!==(o=null===(c=h.state)||void 0===c?void 0:c.subjectName)&&void 0!==o?o:""}):"subject-assignment"===m.get("n")?(0,T.jsx)(je.Z,{sid:null===(d=h.state)||void 0===d?void 0:d.subjectId,cid:null===(r=h.state)||void 0===r?void 0:r.cid,carryParentState:h.state,bid:null===(_=h.state)||void 0===_?void 0:_.batchId,isDepartment:"INSTITUTE_SUBJECT"}):"subject-exam"===m.get("n")?(0,T.jsx)(fe.Z,{sid:null===(u=h.state)||void 0===u?void 0:u.subjectId,cid:null===(v=h.state)||void 0===v?void 0:v.cid,isDepartment:"INSTITUTE_SUBJECT"}):"assignment-detail"===m.get("n")?(0,T.jsx)(Ne.Z,{carryParentState:h.state,isDepartment:"INSTITUTE_SUBJECT"}):"assignment-student-detail"===m.get("n")?(0,T.jsx)(Ce.Z,{isDepartment:"INSTITUTE_SUBJECT"}):null:(0,T.jsx)(xe,{carryParentState:h.state})]})})},ye=()=>{var e,t,n,c,d,r,_,u,v,m,h,x,g;const b=(0,Y.v9)((e=>e.idChange)),[j]=(0,Z.lr)(),{oneClassProfile:f,oneClassProfileRefetch:N}=(0,p.i4)({cid:null===b||void 0===b?void 0:b.cid,skip:!(null!==b&&void 0!==b&&b.cid)}),{oneDepartment:C,oneDepartmentRefetch:S}=(0,p._C)({did:null===b||void 0===b?void 0:b.did,skip:!(null!==b&&void 0!==b&&b.did)});return(0,s.useEffect)((()=>{null!==b&&void 0!==b&&b.cid&&(S(),N())}),[null===b||void 0===b?void 0:b.cid,null===b||void 0===b?void 0:b.did,S,N]),(0,T.jsxs)("div",{className:o,children:[(0,T.jsx)("div",{className:l,children:(0,T.jsx)(i.default,{status:"home"})}),(0,T.jsxs)("div",{className:a,children:[(0,T.jsx)(ce.Z,{department:null===C||void 0===C?void 0:C.department,username:null===C||void 0===C||null===(e=C.department)||void 0===e?void 0:e.dName,activeUrlValue:"viewdept",onReftech:S,did:null===b||void 0===b?void 0:b.did}),(0,T.jsx)("div",{style:{width:"61.493vw"},children:"academic"===j.get("type")?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(re,{customStyleBlueLine:{width:"100%"}}),(0,T.jsx)(me,{})]}):"subject-menu"===j.get("type")?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(re,{customStyleBlueLine:{width:"100%"}}),(0,T.jsx)(Se,{})]}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(ue,{classes:null===f||void 0===f?void 0:f.classes,bid:null===f||void 0===f||null===(t=f.classes)||void 0===t||null===(n=t.batch)||void 0===n?void 0:n._id,departmentId:null===b||void 0===b?void 0:b.did}),(0,T.jsx)(oe,{id:null===b||void 0===b?void 0:b.id,did:null===f||void 0===f||null===(c=f.classes)||void 0===c||null===(d=c.department)||void 0===d?void 0:d._id,bid:null===f||void 0===f||null===(r=f.classes)||void 0===r||null===(_=r.batch)||void 0===_?void 0:_._id,cid:null===f||void 0===f||null===(u=f.classes)||void 0===u?void 0:u._id,className:"".concat(null===C||void 0===C||null===(v=C.department)||void 0===v?void 0:v.dName,"-").concat(null===f||void 0===f||null===(m=f.classes)||void 0===m||null===(h=m.batch)||void 0===h?void 0:h.batchName,"-").concat(null===f||void 0===f||null===(x=f.classes)||void 0===x?void 0:x.className,"-").concat(null===f||void 0===f||null===(g=f.classes)||void 0===g?void 0:g.classTitle)})]})})]})]})}},4158:(e,t,n)=>{n.d(t,{Z:()=>d});var s=n(72791),i=n(35395),l=n(42935),a=n(95048),o=n(80184);const c=s.lazy((()=>n.e(72104).then(n.bind(n,72104)))),d=e=>{let{image:t,name:n,status:d,onReftech:r,onId:_,onEdit:u,subjectType:v,isBatch:m,onMenu:h,data:p,setIsDelete:x}=e;const[g,b]=(0,s.useState)(!1),j=(0,a.v9)((e=>e.authChange.loginRole));return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:l.Z.oneRow,children:[(0,o.jsxs)("div",{className:l.Z.oneRowLeft,children:[(0,o.jsx)("img",{className:l.Z.oneRowImage,src:t,alt:""}),"classMaster"===d&&(0,o.jsx)("p",{className:l.Z.oneRowText,children:n}),("subjectMaster"===d||"subject"===d)&&(0,o.jsxs)("p",{className:l.Z.oneRowText,children:[n,m?(0,o.jsxs)("span",{style:{fontWeight:"400",fontSize:"12px"},children:[" ","(",m,")"]}):null," ","Optional"===v&&"(".concat(v,")")]})]}),"_usr_ia"===j?null:(0,o.jsx)("div",{className:l.Z.oneRowRight,children:(0,o.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"",onClick:e=>{e.preventDefault(),"classMaster"===d||"subjectMaster"===d?h(p):b(!g)}})}),(0,o.jsx)(i.Z,{children:g&&(0,o.jsx)("div",{className:l.Z.tooltip,children:(0,o.jsx)(c,{onId:_,setClick:b,status:d,onReftech:r,onEdit:u,setIsDelete:x})})})]}),(0,o.jsx)("p",{className:l.Z.borderBottom1})]})}},87744:(e,t,n)=>{n.d(t,{Z:()=>y});var s=n(72791),i=n(39230),l=n(98094),a=n(10406),o=n(11105),c=n(36665),d=n(87457),r=n(57431),_=n(98734),u=n(97655),v=n(24582),m=n(80184);const h=e=>{let{onClose:t,onRefetch:n,openAs:a,batchMenu:o,onEdit:h,cid:p}=e;const{t:x}=(0,i.$G)(),[g,b]=(0,s.useState)(""),[j,f]=(0,s.useState)(!1),[N,C]=(0,s.useState)({batchName:"EDIT"===a?null===o||void 0===o?void 0:o.batchName:""}),[S]=(0,v.QN)();(0,s.useEffect)((()=>{"EDIT"===a&&C((e=>({...e,batchName:null===o||void 0===o?void 0:o.batchName})))}),[a]);return(0,m.jsx)(c.Z,{onClose:t,children:(0,m.jsxs)("div",{className:d.Z.add_category_modal,children:[(0,m.jsxs)("div",{className:d.Z.add_category_modal_title,children:[(0,m.jsx)("h6",{children:x("EDIT"===a?"edit_batch":"add_new_batch")}),(0,m.jsx)("img",{src:"/images/close-post-icon.svg",onClick:t,alt:""})]}),(0,m.jsx)(l.Z,{customStyle:{width:"100%",marginTop:"0.6rem",marginBottom:"0.6rem"}}),(0,m.jsx)(u.Z,{labelText:x("batch-name-place"),placeholder:"e.g. 2022-23",name:"batchName",value:null===N||void 0===N?void 0:N.batchName,type:"text",onChange:e=>{var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)<=30&&C((t=>({...t,batchName:e.target.value})))},errorShow:g}),(0,m.jsx)(r.Z,{maxLength:30,valueLength:N.batchName}),(0,m.jsx)("button",{className:d.Z.set_fees_structure_btn,title:"Create Batch",onClick:()=>{N.batchName?"EDIT"===a?h(N.batchName):p&&(f((e=>!e)),S({cid:p,classBatch:N}).then((()=>{n(),t(),f((e=>!e))})).catch({})):b(!0)},style:{justifyContent:"center"},children:x("EDIT"===a?"update":"create")}),j&&(0,m.jsx)(_.Z,{})]})})};var p=n(72426),x=n.n(p),g=n(12072),b=n(84489),j=n(87049);const f=e=>{let{onClose:t,batchMenu:n,onRefetch:i}=e;const[l,a]=(0,s.useState)(!1),[o,c]=(0,s.useState)(!1),[d]=(0,v.EX)(),[r]=(0,v.Dj)();return(0,m.jsx)(m.Fragment,{children:o?(0,m.jsx)(h,{openAs:"EDIT",onEdit:e=>{null!==n&&void 0!==n&&n._id&&(c(!1),a((e=>!e)),d({bid:null===n||void 0===n?void 0:n._id,updateBatch:{batchName:e}}).then((()=>{i(),a((e=>!e)),t()})).catch({}))},batchMenu:n,onClose:()=>c((e=>!e)),onRefetch:i}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(b.Z,{onClose:t}),(0,m.jsxs)(g.Z,{customStyle:{zIndex:"1200"},children:[(0,m.jsxs)("div",{className:j.Z.edit_modal_container,style:{width:"200px"},children:[(0,m.jsx)("h6",{className:j.Z.edit,onClick:()=>c((e=>!e)),children:"Edit"}),(0,m.jsx)("h6",{className:j.Z.remove,onClick:()=>{null!==n&&void 0!==n&&n._id&&(a((e=>!e)),r({bid:null===n||void 0===n?void 0:n._id}).then((()=>{i(),t(),a((e=>!e))})).catch({}))},children:"Delete"})]}),l&&(0,m.jsx)(_.Z,{})]})]})})};var N=n(16871),C=n(43504);const S=e=>{var t;let{batch:n,onRefetch:l,carryParentState:o,viewAs:c}=e;const{t:d}=(0,i.$G)(),r=(0,N.UO)(),[_,u]=(0,s.useState)("");return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(C.rU,{to:"INSTITUTE"===c?"/q/".concat(r.username,"/class?type=batch-detail"):"/q/".concat(r.username,"/member/class/").concat(r.cname,"?a=batch-detail"),state:{...o,batchName:null===n||void 0===n?void 0:n.batchName,batchId:null===n||void 0===n?void 0:n._id},children:(0,m.jsxs)("div",{className:"".concat(a.Z.hostel_batch_container," ").concat(a.Z.hostel_batch_container_hover),children:[(0,m.jsx)("img",{className:a.Z.hostel_batch_image,src:"/images/master-24-grey-icon.svg",alt:"batch icon",style:{borderRadius:"0"}}),(0,m.jsxs)("div",{className:a.Z.hostel_batch_container_text,children:[(0,m.jsx)("h6",{children:null!==(t=null===n||void 0===n?void 0:n.batchName)&&void 0!==t?t:""}),(0,m.jsxs)("p",{children:[d("created_on_")," ",x()(null===n||void 0===n?void 0:n.createdAt).format("DD MMM yyyy")]})]}),(0,m.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:e=>{e.preventDefault(),u(n)},className:a.Z.hostel_batch_menu,title:"Menu"})]})},null===n||void 0===n?void 0:n._id),_&&(0,m.jsx)(f,{onClose:()=>u(""),onRefetch:l,batchMenu:_})]})},y=e=>{var t;let{cid:n,carryParentState:c,viewAs:d}=e;const{t:r}=(0,i.$G)(),[_,u]=(0,s.useState)(!1),[p,x]=(0,s.useState)(!0),{getClassAllBatch:g,getClassAllBatchRefetch:b}=(0,v.eY)({cid:n,skip:!n});(0,s.useEffect)((()=>{n&&(x(!0),b())}),[n,b]),(0,s.useEffect)((()=>{var e;(null!==g&&void 0!==g&&g.all_batches||0===(null===g||void 0===g||null===(e=g.all_batches)||void 0===e?void 0:e.length))&&x(!1)}),[null===g||void 0===g?void 0:g.all_batches]);const j=()=>{x(!0),b()},f=()=>{u((e=>!e))};return(0,m.jsxs)("div",{className:a.Z.hostel_container,style:"INSTITUTE"===d||"MENU_WISE"===d?{border:"none"}:null,children:["MENU_WISE"===d?null:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:a.Z.with_search,children:(0,m.jsx)("h6",{children:r("class_batch")})}),(0,m.jsx)(l.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}})]}),(0,m.jsx)("div",{className:a.Z.add_container,children:(0,m.jsx)("p",{className:a.Z.add_new_category,onClick:f,children:r("create_new_batch")})}),null===g||void 0===g||null===(t=g.all_batches)||void 0===t?void 0:t.map((e=>(0,m.jsx)(S,{batch:e,onRefetch:j,carryParentState:c,viewAs:d},null===e||void 0===e?void 0:e._id))),p&&(0,m.jsx)(o.Z,{status:"white"}),_&&(0,m.jsx)(h,{onClose:f,cid:n,onRefetch:j})]})}},76637:(e,t,n)=>{n.d(t,{Z:()=>D});var s=n(72791),i=n(39230),l=n(23441),a=n(98094),o=n(10406),c=n(11105),d=n(763),r=n(24582),_=n(16871),u=n(43504),v=n(69721),m=n(34586),h=n(84489),p=n(12072),x=n(98734),g=n(87049),b=n(80184);const j=e=>{let{onClose:t,studentMenu:n,bid:i,onRefetch:l}=e;const[a,o]=(0,s.useState)(!1),[c]=(0,r.i_)();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.Z,{onClose:t}),(0,b.jsxs)(p.Z,{customStyle:{zIndex:"1200"},children:[(0,b.jsx)("div",{className:g.Z.edit_modal_container,style:{width:"200px"},children:(0,b.jsx)("h6",{className:g.Z.remove,onClick:()=>{i&&(o((e=>!e)),c({bid:i,destroy:{student_arr:[n]}}).then((()=>{l(),t(),o((e=>!e))})).catch({}))},children:"Delete"})}),a&&(0,b.jsx)(x.Z,{})]})]})},f=e=>{var t,n,l,a,o,c;let{student:d,batchId:r,onRefetch:h}=e;const{t:p}=(0,i.$G)(),x=(0,_.UO)(),[g,f]=(0,s.useState)("");return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.rU,{to:"/q/".concat(x.username,"/student/profile"),state:{sid:null===d||void 0===d?void 0:d._id,viewAs:"CLASS_CATALOG"},children:(0,b.jsxs)("div",{className:m.Z.item,style:{position:"relative"},children:[(0,b.jsx)("p",{children:null!==(t=null===d||void 0===d?void 0:d.studentROLLNO)&&void 0!==t?t:""}),(0,b.jsx)("img",{alt:"",src:null!==d&&void 0!==d&&d.studentProfilePhoto?"".concat(v.yI,"/").concat(null===d||void 0===d?void 0:d.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,b.jsxs)("div",{className:m.Z.student_catalog_name,children:[(0,b.jsxs)("h5",{children:[null!==(n=null===d||void 0===d?void 0:d.studentFirstName)&&void 0!==n?n:""," ",null!==(l=null===d||void 0===d?void 0:d.studentMiddleName)&&void 0!==l?l:" "," ",null!==(a=null===d||void 0===d?void 0:d.studentLastName)&&void 0!==a?a:""]}),(0,b.jsxs)("h6",{children:[p("gr_number")," ",(0,b.jsx)("span",{style:{fontWeight:"500"},children:null!==(o=null===d||void 0===d?void 0:d.studentGRNO)&&void 0!==o?o:""}),null===d||void 0===d||null===(c=d.class_selected_batch)||void 0===c?void 0:c.map((e=>(null===e||void 0===e?void 0:e._id)===r?(0,b.jsx)("span",{style:{fontWeight:"500"},children:", ".concat(p("batch"),": ").concat(null===e||void 0===e?void 0:e.batchName)}):null))]})]}),(0,b.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:e=>{e.preventDefault(),f(null===d||void 0===d?void 0:d._id)},className:m.Z.batch_container_menu,title:"Menu"})]})}),g&&(0,b.jsx)(j,{onClose:()=>f(""),bid:r,onRefetch:h,studentMenu:g})]})};var N=n(33992),C=n(36665),S=n(15415),y=n(44820);const Z=e=>{var t,n,l;let{batchId:o,onClose:d,onGrab:r}=e;const{t:_}=(0,i.$G)(),[u,v]=(0,s.useState)(!0),{allClass:m,allClassRefetch:h}=(0,N.z0)({bid:o,skip:!o});return(0,s.useEffect)((()=>{var e;null!==m&&void 0!==m&&null!==(e=m.batch)&&void 0!==e&&e.classroom&&v(!1)}),[null===m||void 0===m||null===(t=m.batch)||void 0===t?void 0:t.classroom]),(0,s.useEffect)((()=>{o&&h()}),[o,h]),(0,b.jsx)(C.Z,{onClose:d,children:(0,b.jsxs)("div",{className:y.Z.assign_role_container,style:{width:"40rem"},children:[(0,b.jsxs)("section",{className:y.Z.assign_role_title,style:{justifyContent:"space-between"},children:[(0,b.jsx)("h6",{children:_("select_class")}),(0,b.jsx)("div",{className:y.Z.button_container,style:{justifyContent:"flex-end",gap:"1rem"},children:(0,b.jsx)("img",{src:"/images/close-post-icon.svg",onClick:d,alt:"",style:{cursor:"pointer"}})})]}),(0,b.jsx)(a.Z,{customStyle:{width:"100%",marginBottom:"0.8rem"}}),(0,b.jsxs)("section",{style:{padding:"0 0.8rem"},children:[null===m||void 0===m||null===(n=m.batch)||void 0===n||null===(l=n.classroom)||void 0===l?void 0:l.map((e=>(0,b.jsx)(S.Z,{setViewClass:()=>{},classData:e,setAllotC:e=>r(e),isView:"CLASS_TEACHER"}))),u&&(0,b.jsx)(c.Z,{status:"white"})]})]})})},T=e=>{var t;let{cid:n,onClose:l,onRefetch:o,batchId:d,onCloseParent:_}=e;const{t:u}=(0,i.$G)(),[m,h]=(0,s.useState)(!0),[p,g]=(0,s.useState)([]),[j,f]=(0,s.useState)(""),[N,S]=(0,s.useState)(!1),[Z,T]=(0,s.useState)(!1),[w,A]=(0,s.useState)(!1),[R]=(0,r.wD)(),{classAllStudent:I,classAllStudentRefetch:q}=(0,r.EY)({data:{cid:n,page:1,limit:30},skip:!n});(0,s.useEffect)((()=>{n&&(h(!0),q())}),[n,q]),(0,s.useEffect)((()=>{var e,t,n,s;null!==I&&void 0!==I&&null!==(e=I.classes)&&void 0!==e&&e.ApproveStudent?(g(null===I||void 0===I||null===(s=I.classes)||void 0===s?void 0:s.ApproveStudent),h(!1)):0===(null===I||void 0===I||null===(t=I.classes)||void 0===t||null===(n=t.ApproveStudent)||void 0===n?void 0:n.length)&&h(!1)}),[null===I||void 0===I||null===(t=I.classes)||void 0===t?void 0:t.ApproveStudent]);const F=e=>{null!==j&&void 0!==j&&j.includes(e)?f((t=>null===t||void 0===t?void 0:t.filter((t=>t!==e)))):f((t=>[...t,e]))};return(0,b.jsx)(C.Z,{onClose:()=>{},children:(0,b.jsxs)("div",{className:y.Z.assign_role_container,style:{width:"40rem"},children:[(0,b.jsxs)("section",{className:y.Z.assign_role_title,style:{justifyContent:"space-between"},children:[(0,b.jsxs)("h6",{children:[(null===j||void 0===j?void 0:j.length)>0?"".concat(null===j||void 0===j?void 0:j.length," "):"",u("select_student")]}),(0,b.jsxs)("div",{className:y.Z.button_container,style:{justifyContent:"flex-end",gap:"1rem"},children:[Z?(0,b.jsx)("button",{className:y.Z.next_student_btn,title:"Remove All Student",onClick:()=>{f([]),T(!1)},style:{marginRight:"0.7rem"},children:u("remove_all")}):(0,b.jsx)("button",{className:y.Z.next_student_btn,title:"Select All Student",onClick:()=>{let e=[];for(let n of null===I||void 0===I||null===(t=I.classes)||void 0===t?void 0:t.ApproveStudent){var t;e.push(null===n||void 0===n?void 0:n._id)}f(e),T(!0)},style:{marginRight:"0.7rem"},children:u("select_all")}),(0,b.jsx)("button",{className:y.Z.next_student_btn,onClick:()=>{d&&null!==j&&void 0!==j&&j.length&&(S((e=>!e)),R({bid:d,addStudent:{student_arr:j}}).then((()=>{o(),_(),S((e=>!e))})).catch({}))},children:u("add")}),(0,b.jsx)("img",{src:"/images/close-post-icon.svg",onClick:l,alt:"",style:{cursor:"pointer"}})]})]}),(0,b.jsx)(a.Z,{customStyle:{width:"100%"}}),(0,b.jsxs)("section",{style:{padding:"0 0.8rem"},children:[(0,b.jsx)("div",{className:y.Z.search_container,style:{marginBottom:"0.6rem"},children:(0,b.jsxs)("div",{className:y.Z.search_container_text,children:[(0,b.jsx)("img",{className:y.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,b.jsx)("input",{type:"text",placeholder:u("search-label"),onChange:e=>{if(e.target.value){var t,n;const s=null===I||void 0===I||null===(t=I.classes)||void 0===t||null===(n=t.ApproveStudent)||void 0===n?void 0:n.filter((t=>{var n,s,i,l,a,o;return null!==(n="".concat(null===t||void 0===t?void 0:t.studentFirstName," ").concat(null!==t&&void 0!==t&&t.studentMiddleName?(null===t||void 0===t?void 0:t.studentMiddleName)+" ":"").concat(null===t||void 0===t?void 0:t.studentLastName))&&void 0!==n&&null!==(s=n.toLowerCase())&&void 0!==s&&s.includes(null===(i=e.target.value)||void 0===i?void 0:i.toLowerCase())||null!==(l="".concat(null===t||void 0===t?void 0:t.studentGRNO))&&void 0!==l&&null!==(a=l.toLowerCase())&&void 0!==a&&a.includes(null===(o=e.target.value)||void 0===o?void 0:o.toLowerCase())?t:null}));g(s)}else{var s;g(null===I||void 0===I||null===(s=I.classes)||void 0===s?void 0:s.ApproveStudent)}},autoFocus:!0,style:{border:"0.029vw solid rgba(0, 0, 0, 0.15)",width:"450px"}})]})}),null===p||void 0===p?void 0:p.map((e=>{var t,n,s,i;return(0,b.jsxs)("section",{className:null!==j&&void 0!==j&&j.includes(null===e||void 0===e?void 0:e._id)?"".concat(y.Z.student_container," ").concat(y.Z.select_hover_active):"".concat(y.Z.student_container," ").concat(y.Z.select_hover),style:{padding:"0.6rem 0.4rem",margin:"0",justifyContent:"space-between"},children:[(0,b.jsxs)("div",{className:y.Z.student_container_text,children:[(0,b.jsx)("p",{className:y.Z.student_container_gr,style:{marginBottom:"0"},children:null!==(t=null===e||void 0===e?void 0:e.studentROLLNO)&&void 0!==t?t:""}),(0,b.jsx)("img",{src:null!==e&&void 0!==e&&e.studentProfilePhoto?"".concat(v.yI,"/").concat(null===e||void 0===e?void 0:e.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"student avatar"}),(0,b.jsxs)("div",{className:y.Z.student_container_name,children:[(0,b.jsx)("h6",{children:"".concat(null===e||void 0===e?void 0:e.studentFirstName," ").concat(null!==e&&void 0!==e&&e.studentMiddleName?null===e||void 0===e?void 0:e.studentMiddleName:""," ").concat(null===e||void 0===e?void 0:e.studentLastName)}),(0,b.jsxs)("p",{className:y.Z.student_container_gr,children:[u("gr_number")," ",null!==(n=null===e||void 0===e?void 0:e.studentGRNO)&&void 0!==n?n:"",null!==e&&void 0!==e&&null!==(s=e.class_selected_batch)&&void 0!==s&&s.batchName?", ".concat(u("batch"),": ").concat(null===e||void 0===e||null===(i=e.class_selected_batch)||void 0===i?void 0:i.batchName):null]})]})]}),(0,b.jsx)("div",{className:y.Z.student_container_text,children:null!==j&&void 0!==j&&j.includes(null===e||void 0===e?void 0:e._id)?(0,b.jsx)("img",{src:"/images/checkbox-icon.svg",alt:"icon",style:{borderRadius:"0",height:"1.5rem"},onClick:()=>F(null===e||void 0===e?void 0:e._id)}):(0,b.jsx)("img",{src:"/images/box-icon.svg",alt:"icon",style:{borderRadius:"0",height:"1.5rem"},onClick:()=>F(null===e||void 0===e?void 0:e._id)})})]},null===e||void 0===e?void 0:e._id)})),m&&(0,b.jsx)(c.Z,{status:"white"}),N&&(0,b.jsx)(x.Z,{})]})]})})},w=e=>{let{batchId:t,onClose:n,onRefetch:i,masterBatchId:l}=e;const[a,o]=(0,s.useState)("CLASSES"),[c,d]=(0,s.useState)("");return(0,b.jsx)(b.Fragment,{children:"CLASSES"===a?(0,b.jsx)(Z,{batchId:l,onClose:n,onGrab:e=>{d(e),o("STUDENT")}}):(0,b.jsx)(T,{cid:null===c||void 0===c?void 0:c._id,onClose:()=>o("CLASSES"),onCloseParent:n,onRefetch:i,batchId:t})})};var A=n(93638),R=n(49806),I=n(38857),q=n(21348),F=n(90904),k=n(98684),E=n(1095);const U=e=>{var t,n,s,l,a,o;let{student:c,selectedId:d,onSelect:r,selectList:_,isMultiSelect:u,onMultiSelect:v}=e;const{t:m}=(0,i.$G)();return(0,b.jsxs)(b.Fragment,{children:[u?(0,b.jsxs)("div",{className:R.Z.assign_show_list_each,onClick:()=>{v(c)},children:[null!==_&&void 0!==_&&_.includes(null===c||void 0===c?void 0:c._id)?(0,b.jsx)("img",{src:"".concat(k.U_,"/check.svg"),alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,b.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"".concat(k.U_,"/uncheck.svg"),alt:"icon"}),(0,b.jsx)("img",{src:null!==c&&void 0!==c&&c.studentProfilePhoto?"".concat(E.yI,"/").concat(c.studentProfilePhoto):"".concat(k.p3,"/feed-staff-avatar.svg"),alt:"profile avatar"}),(0,b.jsxs)("div",{className:R.Z.assign_each_paragraph,children:[(0,b.jsx)("h6",{children:"".concat(null!==(t=null===c||void 0===c?void 0:c.studentFirstName)&&void 0!==t?t:""," ").concat(null!==(n=null===c||void 0===c?void 0:c.studentMiddleName)&&void 0!==n?n:""," ").concat(null!==(s=null===c||void 0===c?void 0:c.studentLastName)&&void 0!==s?s:"")}),(0,b.jsxs)("p",{children:[m("gr_number")," "," : ",null===c||void 0===c?void 0:c.studentGRNO]})]})]}):(0,b.jsxs)("div",{className:R.Z.assign_show_list_each,style:d===(null===c||void 0===c?void 0:c._id)?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:null,onClick:()=>{r(c)},children:[(0,b.jsx)("img",{src:null!==c&&void 0!==c&&c.studentProfilePhoto?"".concat(E.yI,"/").concat(c.studentProfilePhoto):"".concat(k.p3,"/feed-staff-avatar.svg"),alt:"profile avatar"}),(0,b.jsxs)("div",{className:R.Z.assign_each_paragraph,children:[(0,b.jsx)("h6",{children:"".concat(null!==(l=null===c||void 0===c?void 0:c.studentFirstName)&&void 0!==l?l:""," ").concat(null!==(a=null===c||void 0===c?void 0:c.studentMiddleName)&&void 0!==a?a:""," ").concat(null!==(o=null===c||void 0===c?void 0:c.studentLastName)&&void 0!==o?o:"")}),(0,b.jsxs)("p",{children:[m("gr_number")," "," : ",null===c||void 0===c?void 0:c.studentGRNO]})]})]}),(0,b.jsx)(F.Z,{customStyleBorder:{margin:"0"}})]})};var L=n(55336),P=n(1669),M=n(2651);const H=e=>{var t;let{title:n,onClose:l,selectedId:a,onSelectStudent:o,isMultiSelect:c,onMultiSelect:d,selectList:_,onDone:u,batchId:v,onSelectAll:m,onRemoveAll:h,buttonTitle:p}=e;const{t:x}=(0,i.$G)(),[g,j]=(0,s.useState)([]),[f,N]=(0,s.useState)(""),[C,S]=(0,s.useState)(!1),{getClassBatchAllStudent:y,getClassBatchAllStudentLoading:Z}=(0,r.WJ)({data:{bid:v,page:1,limit:1e3,search:""},skip:!v});(0,s.useEffect)((()=>{var e;null!==y&&void 0!==y&&null!==(e=y.all_students)&&void 0!==e&&e.length&&j(null===y||void 0===y?void 0:y.all_students)}),[null===y||void 0===y?void 0:y.all_students]);const T=e=>{a===(null===e||void 0===e?void 0:e._id)||o(e)};return(0,b.jsx)(I.Z,{onClose:l,children:(0,b.jsxs)("div",{className:R.Z.modal_container,children:[(0,b.jsx)(q.default,{children:(0,b.jsxs)("div",{className:R.Z.modal_container_outer_header,children:[(0,b.jsx)("div",{className:R.Z.modal_container_header,children:(0,b.jsx)("h6",{children:null!==n&&void 0!==n?n:x("student_list")})}),(0,b.jsxs)("div",{className:R.Z.modal_container_btn_container,children:[c&&(0,b.jsx)(A.Z,{label:x(null!==p&&void 0!==p?p:"selected"),count:null===_||void 0===_?void 0:_.length,onAction:u,customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),C?(0,b.jsx)(A.Z,{label:x("remove_all"),onAction:()=>{S(!1),h()},customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}):(0,b.jsx)(A.Z,{label:x("select_all"),onAction:()=>{S(!0);let e=[];for(let t of null===y||void 0===y?void 0:y.all_students)e.push(null===t||void 0===t?void 0:t._id);m(e)},customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,b.jsx)("img",{src:"".concat(k.J7,"/close.svg"),alt:"close icon",onClick:l})]})]})}),(0,b.jsx)(F.Z,{}),(0,b.jsxs)(q.default,{customStyle:{paddingBottom:"1rem"},children:[(0,b.jsxs)("div",{className:R.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,b.jsx)("input",{type:"text",placeholder:x("search"),className:R.Z.assign_search_input,onChange:e=>{var t;!Z&&(null===y||void 0===y||null===(t=y.all_students)||void 0===t?void 0:t.length)>=0&&N(e.target.value)},onKeyUp:e=>{if("Enter"===e.key){let e=B(null===y||void 0===y?void 0:y.all_students,f);j(e)}},style:{width:"100%"}}),(0,b.jsx)("img",{src:"".concat(k.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===g||void 0===g?void 0:g.map((e=>(0,b.jsx)(U,{student:e,selectedId:a,onSelect:T,selectList:_,isMultiSelect:c,onMultiSelect:d},null===e||void 0===e?void 0:e._id))),Z?f?(0,b.jsx)(L.default,{}):(0,b.jsx)(P.Z,{}):f?0===(null===g||void 0===g?void 0:g.length)&&(0,b.jsx)(M.Z,{title:"No students found related this search."}):0===(null===y||void 0===y||null===(t=y.all_students)||void 0===t?void 0:t.length)&&(0,b.jsx)(M.Z,{title:"No students."})]})]})})},B=(e,t)=>(null===e||void 0===e?void 0:e.length)>0?null===e||void 0===e?void 0:e.filter((e=>{var n,s,i;let l="".concat(null!==(n=null===e||void 0===e?void 0:e.studentFirstName)&&void 0!==n?n:"").concat(null!==e&&void 0!==e&&e.studentMiddleName?"".concat(null===e||void 0===e?void 0:e.studentMiddleName," "):""," ").concat(null!==(s=null===e||void 0===e?void 0:e.studentLastName)&&void 0!==s?s:"");return null!==l&&void 0!==l&&null!==(i=l.toLowerCase())&&void 0!==i&&i.includes(null===t||void 0===t?void 0:t.toLowerCase())?e:null})):[],D=e=>{var t,n,u,v,m,h,p;let{cid:g,viewAs:j,masterBatchId:N}=e;const C=(0,_.TH)(),{t:S}=(0,i.$G)(),[y,Z]=(0,s.useState)(!1),[T,R]=(0,l.YD)(),[I,q]=(0,s.useState)(1),[F,k]=(0,s.useState)(!0),[E,U]=(0,s.useState)(!0),[L,P]=(0,s.useState)([]),[M,B]=(0,s.useState)(!1),[D,z]=(0,s.useState)(""),[O,G]=(0,s.useState)(!1),[W,J]=(0,s.useState)(!1),[V,Y]=(0,s.useState)(""),[$,Q]=(0,s.useState)([]),[K]=(0,r.UU)(),[X]=(0,r.i_)(),{getClassBatchAllStudent:ee,getClassBatchAllStudentRefetch:te}=(0,r.WJ)({data:{bid:null===(t=C.state)||void 0===t?void 0:t.batchId,page:I,limit:10,search:D},skip:!(null!==(n=C.state)&&void 0!==n&&n.batchId)});(0,s.useEffect)((()=>{var e;null!==(e=C.state)&&void 0!==e&&e.batchId&&(U(!0),te())}),[null===(u=C.state)||void 0===u?void 0:u.batchId,I,D,te]),(0,s.useEffect)((()=>{R&&F&&q((e=>e+1))}),[R,F]),(0,s.useEffect)((()=>{var e,t;M?(P(null===ee||void 0===ee?void 0:ee.all_students),U(!1),B(!1)):D?(P(null===ee||void 0===ee?void 0:ee.all_students),U(!1)):null!==ee&&void 0!==ee&&ee.all_students?(P((e=>{var t,n;return null===(t=[...new Set(null===(n=[...e,...null===ee||void 0===ee?void 0:ee.all_students])||void 0===n?void 0:n.map(JSON.stringify))])||void 0===t?void 0:t.map(JSON.parse)})),U(!1)):0===(null===ee||void 0===ee||null===(t=ee.all_students)||void 0===t?void 0:t.length)&&U(!1);10===(null===ee||void 0===ee||null===(e=ee.all_students)||void 0===e?void 0:e.length)?k(!0):k(!1)}),[null===ee||void 0===ee?void 0:ee.all_students]);const ne=(0,s.useCallback)((0,d.debounce)((e=>z(e)),500),[]),se=()=>{q(1),B(!0),U(!0),te()},ie=()=>{Z((e=>!e))},le=(0,s.useRef)(),ae=(0,s.useRef)(),oe=(e,t)=>{e.stopPropagation(),le.current=t},ce=(e,t)=>{e.stopPropagation(),ae.current=t},de=e=>{e.stopPropagation();const t=[...L],n=t[le.current];t.splice(le.current,1),t.splice(ae.current,0,n),le.current=null,ae.current=null,P(t)};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:o.Z.hostel_container,style:"INSTITUTE"===j?{border:"none"}:null,children:[(0,b.jsxs)("div",{className:o.Z.with_search,children:[(0,b.jsx)("h6",{children:null!==(v=null===(m=C.state)||void 0===m?void 0:m.batchName)&&void 0!==v?v:""}),(0,b.jsx)("section",{className:o.Z.search_container,children:(0,b.jsxs)("div",{className:o.Z.search_container_input,children:[(0,b.jsx)("img",{className:o.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,b.jsx)("input",{type:"text",placeholder:"Search students...",onChange:e=>{ne(e.target.value)}})]})})]}),(0,b.jsx)(a.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,b.jsxs)("div",{className:o.Z.add_container,style:{gap:"1rem"},children:[(0,b.jsx)("p",{className:o.Z.add_new_category,onClick:ie,children:S("add_student")}),O?(0,b.jsx)("p",{className:o.Z.add_new_category,onClick:()=>{var e;J((e=>!e));let t=[];for(let n of L)t.push(null===n||void 0===n?void 0:n._id);K({suffle:{shuffle_arr:t,bid:null===(e=C.state)||void 0===e?void 0:e.batchId,flow:"BATCH_WISE"}}).then((()=>{se(),G(!1),J((e=>!e))})).catch({})},children:S("save")}):(0,b.jsx)("p",{className:o.Z.add_new_category,onClick:()=>G(!0),children:S("resuffle")}),(0,b.jsx)(A.Z,{label:"remove_bulk",onAction:()=>{Y(1)},customStyle:{margin:"0",padding:"0.3rem 0.5rem",marginBottom:"0.2rem"}})]}),null===L||void 0===L?void 0:L.map(((e,t)=>{var n,s;return(null===L||void 0===L?void 0:L.length)===t+1?(0,b.jsx)("div",{ref:T,draggable:O,onDragStart:e=>oe(e,t),onDragEnter:e=>ce(e,t),onDragEnd:de,children:(0,b.jsx)(f,{student:e,onRefetch:se,batchId:null===(n=C.state)||void 0===n?void 0:n.batchId})},null===e||void 0===e?void 0:e._id):(0,b.jsx)("div",{draggable:O,onDragStart:e=>oe(e,t),onDragEnter:e=>ce(e,t),onDragEnd:de,children:(0,b.jsx)(f,{student:e,onRefetch:se,batchId:null===(s=C.state)||void 0===s?void 0:s.batchId},null===e||void 0===e?void 0:e._id)})})),E&&(0,b.jsx)(c.Z,{status:"white"}),y&&(0,b.jsx)(w,{onClose:ie,cid:g,onRefetch:se,batchId:null===(h=C.state)||void 0===h?void 0:h.batchId,masterBatchId:N}),W&&(0,b.jsx)(x.Z,{})]}),1===V?(0,b.jsx)(H,{title:S("remove_student_from_batch"),buttonTitle:"delete",onClose:()=>Y(""),batchId:null===(p=C.state)||void 0===p?void 0:p.batchId,masterBatchId:N,selectList:$,onMultiSelect:e=>{null!==$&&void 0!==$&&$.includes(null===e||void 0===e?void 0:e._id)?Q((t=>null===t||void 0===t?void 0:t.filter((t=>t!==(null===e||void 0===e?void 0:e._id))))):Q((t=>[...t,null===e||void 0===e?void 0:e._id]))},isMultiSelect:!0,onDone:()=>{var e,t;null!==(e=C.state)&&void 0!==e&&e.batchId&&(null===$||void 0===$?void 0:$.length)>0&&(J((e=>!e)),Y(""),X({bid:null===(t=C.state)||void 0===t?void 0:t.batchId,destroy:{student_arr:$}}).then((()=>{se(),J((e=>!e))})).catch({}))},onSelectAll:e=>{Q(e)},onRemoveAll:()=>{Q([])}}):null]})}},15415:(e,t,n)=>{n.d(t,{Z:()=>a});n(72791);var s=n(69721),i=n(15961),l=n(80184);const a=function(e){var t,n,a,o;let{setViewClass:c,classData:d,setAllotC:r,isView:_}=e;return(0,l.jsx)(l.Fragment,{children:"ONLY_SUBJECT"===_?(0,l.jsxs)("div",{className:i.Z.admission_confirm_class_card,children:[(0,l.jsx)("img",{src:null!==d&&void 0!==d&&d.photo?"".concat(s.yI,"/").concat(null===d||void 0===d?void 0:d.photo):"/images/allot-class-icon.svg",alt:"Class Avatar",loading:"lazy"}),(0,l.jsx)("div",{className:i.Z.admission_collect_docs,style:{alignItems:"flex-start",marginTop:"0"},children:(0,l.jsx)("h6",{children:"".concat(null!==(t=null===d||void 0===d?void 0:d.className)&&void 0!==t?t:""," - ").concat(null!==(n=null===d||void 0===d?void 0:d.classTitle)&&void 0!==n?n:"")})})]}):(0,l.jsxs)("div",{className:i.Z.admission_confirm_class_card,onClick:()=>{c(!0),r(d)},children:[(0,l.jsx)("img",{src:"1"!==(null===d||void 0===d?void 0:d.photoId)?"".concat(s.yI,"/").concat(null===d||void 0===d?void 0:d.photo):"/images/allot-class-icon.svg",alt:"Class Avatar",loading:"lazy"}),(0,l.jsxs)("div",{className:i.Z.admission_collect_docs,style:{alignItems:"flex-start",marginTop:"0"},children:[(0,l.jsx)("h6",{children:"".concat(null!==(a=null===d||void 0===d?void 0:d.className)&&void 0!==a?a:""," - ").concat(null!==(o=null===d||void 0===d?void 0:d.classTitle)&&void 0!==o?o:"")}),"CLASS_TEACHER"===_?null:(0,l.jsxs)("div",{className:i.Z.admission_confirm_class_count,children:[(0,l.jsxs)("p",{children:["Boys : ",null===d||void 0===d?void 0:d.boyCount]}),(0,l.jsxs)("p",{children:["Girls : ",null===d||void 0===d?void 0:d.girlCount]})]})]})]})})}},65543:(e,t,n)=>{n.d(t,{u:()=>i});var s=n(72791);const i=()=>({hideScrollbar:s.useCallback((()=>{}),[]),showScrollbar:s.useCallback((()=>{document.body.style.overflow=""}),[]),scrollToTop:s.useCallback((()=>{window.scrollTo(0,0)}),[])})},55336:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var s=n(63244),i=n(80184);const l=()=>(0,i.jsx)("div",{className:s.Z.qviple_loader_backdrop,children:(0,i.jsx)("div",{className:s.Z.qviple_loader_container,children:(0,i.jsx)("div",{className:s.Z.qviple_loader_rotation})})})},90904:(e,t,n)=>{n.d(t,{Z:()=>l});const s="BorderBottom_split_content__RVPoh";var i=n(80184);const l=e=>{let{customStyleBorder:t}=e;return(0,i.jsx)("hr",{className:s,style:t})}},72310:(e,t,n)=>{n.d(t,{Ch:()=>r,SY:()=>c,qu:()=>d});var s=n(72791),i=n(36314),l=n(34129),a=n(63515),o=n(80184);const c=e=>{let{msg:t,run:n,setRun:c}=e;const d=s.forwardRef((function(e,t){return(0,o.jsx)(a.Z,{elevation:6,ref:t,variant:"filled",...e})})),r=(e,t)=>{"clickaway"!==t&&c(!1)};return(0,o.jsx)(i.Z,{spacing:2,sx:{width:"100%",position:"stickey"},children:(0,o.jsx)(l.Z,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:n,autoHideDuration:3e3,onClose:r,children:(0,o.jsx)(d,{onClose:r,severity:"error",sx:{width:"100%"},children:t})})})},d=e=>{let{msg:t,run:n,setRun:c}=e;const d=s.forwardRef((function(e,t){return(0,o.jsx)(a.Z,{elevation:6,ref:t,variant:"filled",...e})})),r=(e,t)=>{"clickaway"!==t&&c(!1)};return(0,o.jsx)(i.Z,{spacing:2,sx:{width:"100%",position:"stickey"},children:(0,o.jsx)(l.Z,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:n,autoHideDuration:3e3,onClose:r,children:(0,o.jsx)(d,{onClose:r,severity:"success",sx:{width:"100%"},children:t})})})},r=e=>{let{msg:t,run:n,setRun:c,postiton:d,type:r}=e;const _=s.forwardRef((function(e,t){return(0,o.jsx)(a.Z,{elevation:6,ref:t,variant:"filled",...e})})),u=(e,t)=>{"clickaway"!==t&&c(!1)};return(0,o.jsx)(i.Z,{spacing:2,sx:{width:"100%",position:'"stickey"'},children:(0,o.jsx)(l.Z,{anchorOrigin:{vertical:"".concat(d),horizontal:"right"},open:n,autoHideDuration:3e3,onClose:u,children:(0,o.jsx)(_,{onClose:u,severity:r,sx:{width:"100%"},children:t})})})}},46457:(e,t,n)=>{n.d(t,{Z:()=>s});const s={studentMCQ:"Tabs_studentMCQ__dlnOy",mcqToptabs:"Tabs_mcqToptabs__onXx+",mcqTop:"Tabs_mcqTop__1Ylct",mcqTopItem:"Tabs_mcqTopItem__Lk7a7",active:"Tabs_active__aI8pI"}},10406:(e,t,n)=>{n.d(t,{Z:()=>s});const s={hostel_container:"Hostel_hostel_container__mWxpf",moderator_container_title:"Hostel_moderator_container_title__DHglE",with_search:"Hostel_with_search__f5WON",search_container:"Hostel_search_container__uShHd",search_container_input:"Hostel_search_container_input__zwGLQ",searchIcon:"Hostel_searchIcon__x1CGz",search_container_filter:"Hostel_search_container_filter__HHOHi",add_new_category:"Hostel_add_new_category__4wi4R",rules_card:"Hostel_rules_card__CQp2X",rules_card_title:"Hostel_rules_card_title__dF+vA",download_attachment:"Hostel_download_attachment__Si3Or",menu_icon:"Hostel_menu_icon__lcZzz",unit_room_container:"Hostel_unit_room_container__7UtbF",unit_room_card_container:"Hostel_unit_room_card_container__Kp0n3",unit_room_card_lines:"Hostel_unit_room_card_lines__0fMZq",unit_room_container_box:"Hostel_unit_room_container_box__ZyOBC",unit_room_container_box_inner:"Hostel_unit_room_container_box_inner__xV4l4",hostelite_container:"Hostel_hostelite_container__s+iLw",hostelite_container_inner:"Hostel_hostelite_container_inner__55Vvd",hostelite_container_inner_text:"Hostel_hostelite_container_inner_text__rVUi9",announcement_card:"Hostel_announcement_card__B6Mf3",upload_excel_file:"Hostel_upload_excel_file__rm6Kk",student_renewal_card:"Hostel_student_renewal_card__4GLAW",student_renewal_date:"Hostel_student_renewal_date__jkFEO",student_renewal_btn_group:"Hostel_student_renewal_btn_group__bEhWE",student_renewal_cancel_btn:"Hostel_student_renewal_cancel_btn__FweAs",student_renewal_confirm_btn:"Hostel_student_renewal_confirm_btn__SrCfT",take_admission:"Hostel_take_admission__bLvfX",vehical_card_container:"Hostel_vehical_card_container__9+Xlp",vehical_card_text:"Hostel_vehical_card_text__L81rs",vehicle_list:"Hostel_vehicle_list__7KSVv",transpotation_container:"Hostel_transpotation_container__0ZRwk",transpotation_head:"Hostel_transpotation_head__bpQL4",transpotation_card:"Hostel_transpotation_card__awZ3a",transpotation_card_detail:"Hostel_transpotation_card_detail__SR+h7",transpotation_card_detail_text:"Hostel_transpotation_card_detail_text__V+znO",joining_date:"Hostel_joining_date__KU7m1",transpotation_card_detail_other:"Hostel_transpotation_card_detail_other__qQyz8",transpotation_card_detail_other_inner:"Hostel_transpotation_card_detail_other_inner__tkjuA",add_plus_icon:"Hostel_add_plus_icon__3Goaz",hostel_batch_container:"Hostel_hostel_batch_container__+B8sL",hostel_batch_container_hover:"Hostel_hostel_batch_container_hover__2rElc",hostel_batch_container_text:"Hostel_hostel_batch_container_text__w3JHe",hostel_batch_image:"Hostel_hostel_batch_image__fpTGv",hostel_batch_menu:"Hostel_hostel_batch_menu__xSgqR",add_container:"Hostel_add_container__KgZLe",mentor_status_card_paragraph:"Hostel_mentor_status_card_paragraph__b+ePZ",mentor_attendance_container:"Hostel_mentor_attendance_container__KAxwN",mentor_attendance_btn:"Hostel_mentor_attendance_btn__yX+++",mentor_attendance_btn_active:"Hostel_mentor_attendance_btn_active__JUY7m",selectBtn:"Hostel_selectBtn__w2fQe",passenger_fees_button:"Hostel_passenger_fees_button__VaNk-",linked_institute_btn:"Hostel_linked_institute_btn__p8os7"}},15961:(e,t,n)=>{n.d(t,{Z:()=>s});const s={admission_application_container:"AdmissionApplicationRequest_admission_application_container__iMsyZ",moderator_container_title:"AdmissionApplicationRequest_moderator_container_title__5WiPB",with_search:"AdmissionApplicationRequest_with_search__mm0Q+",search_container:"AdmissionApplicationRequest_search_container__3swMB",search_container_input:"AdmissionApplicationRequest_search_container_input__InEPj",searchIcon:"AdmissionApplicationRequest_searchIcon__RdABM",search_container_filter:"AdmissionApplicationRequest_search_container_filter__fEHEF",remainingFees:"AdmissionApplicationRequest_remainingFees__X9g5z",ongoing_card:"AdmissionApplicationRequest_ongoing_card__1TVLc",ongoing_card_inner:"AdmissionApplicationRequest_ongoing_card_inner__1Gato",ongoing_card_text:"AdmissionApplicationRequest_ongoing_card_text__AKxnS",menu_icon:"AdmissionApplicationRequest_menu_icon__F3nQo",add_new_category:"AdmissionApplicationRequest_add_new_category__ZTInw",applicant_card_container:"AdmissionApplicationRequest_applicant_card_container__7UN2C",applicant_card_container_hover:"AdmissionApplicationRequest_applicant_card_container_hover__mP-Wa",applicant_card_container_active:"AdmissionApplicationRequest_applicant_card_container_active__5VW5x",applicant_card_inner:"AdmissionApplicationRequest_applicant_card_inner__kSbmI",applicant_card_inner_info:"AdmissionApplicationRequest_applicant_card_inner_info__8POe8",applicant_card_contact:"AdmissionApplicationRequest_applicant_card_contact__Ipapl",applicant_card_contact_inner:"AdmissionApplicationRequest_applicant_card_contact_inner__dDeFH",application_button:"AdmissionApplicationRequest_application_button__a2s6z",selectAppBtnContainer:"AdmissionApplicationRequest_selectAppBtnContainer__d0wD6",selectBtnContainer:"AdmissionApplicationRequest_selectBtnContainer__Si3QU",selectBtn:"AdmissionApplicationRequest_selectBtn__A0SVG",cancelledBtn:"AdmissionApplicationRequest_cancelledBtn__wEX7V",notConfirmedBtn:"AdmissionApplicationRequest_notConfirmedBtn__wZb02",onlineBtn:"AdmissionApplicationRequest_onlineBtn__v+gwq",cancelStatus:"AdmissionApplicationRequest_cancelStatus__qYDFg",checkbox:"AdmissionApplicationRequest_checkbox__tlbdN",back_icon:"AdmissionApplicationRequest_back_icon__gIdbd",receipt_requested_btn:"AdmissionApplicationRequest_receipt_requested_btn__stgcE",not_confirm_container:"AdmissionApplicationRequest_not_confirm_container__+r4pJ",applicant_profile:"AdmissionApplicationRequest_applicant_profile__kHoFd",applicant_profile_text:"AdmissionApplicationRequest_applicant_profile_text__wgySz",button_group:"AdmissionApplicationRequest_button_group__LKrUN",admission_collect_docs:"AdmissionApplicationRequest_admission_collect_docs__+-jUT",confirm_btn:"AdmissionApplicationRequest_confirm_btn__njvM8",admission_modal:"AdmissionApplicationRequest_admission_modal__a3Dx6",admission_modal_heading:"AdmissionApplicationRequest_admission_modal_heading__7i6gM",admission_fees_row:"AdmissionApplicationRequest_admission_fees_row__Ykj39",admission_confirm_class_card:"AdmissionApplicationRequest_admission_confirm_class_card__Ytr77",admission_confirm_batch_card:"AdmissionApplicationRequest_admission_confirm_batch_card__Cuven",admission_confirm_class_count:"AdmissionApplicationRequest_admission_confirm_class_count__P-bt1",admission_class_confirm:"AdmissionApplicationRequest_admission_class_confirm__SMLDh",mulitple_select_btn:"AdmissionApplicationRequest_mulitple_select_btn__WOWDd",end_btn:"AdmissionApplicationRequest_end_btn__vgxwG",admission_mulit_select:"AdmissionApplicationRequest_admission_mulit_select__ggFWa",admission_mulit_select_right:"AdmissionApplicationRequest_admission_mulit_select_right__K51Rw",os_reminder:"AdmissionApplicationRequest_os_reminder__AHp8F",os_filter_container:"AdmissionApplicationRequest_os_filter_container__Ck0gz",ongoing_card_count_date:"AdmissionApplicationRequest_ongoing_card_count_date__xi1+1",ongoing_card_count_container:"AdmissionApplicationRequest_ongoing_card_count_container__af9uG",applicant_card_reciept:"AdmissionApplicationRequest_applicant_card_reciept__QR+Ho",transfer_container:"AdmissionApplicationRequest_transfer_container__y5X5q",transfer_select_btn:"AdmissionApplicationRequest_transfer_select_btn__u8NkN",remove_btn:"AdmissionApplicationRequest_remove_btn__Lmhuv"}},51416:(e,t,n)=>{n.d(t,{Z:()=>s});const s={square_tab_wrapper:"UiTab_square_tab_wrapper__Jxkmy",square_tab_card:"UiTab_square_tab_card__EYI-n",square_tab_card_icon:"UiTab_square_tab_card_icon__tPYT1",square_tab_card_menu:"UiTab_square_tab_card_menu__wHBYi",designation_tab_wrapper:"UiTab_designation_tab_wrapper__1YZQi",designation_tab_card:"UiTab_designation_tab_card__waJTM",rectangle_tab_wrapper:"UiTab_rectangle_tab_wrapper__a4CP7",rectangle_tab_card:"UiTab_rectangle_tab_card__xYxge",rectangle_tab_card_active:"UiTab_rectangle_tab_card_active__hSDaQ",horizontal_tab_wrapper:"UiTab_horizontal_tab_wrapper__BRXBX",horizontal_tab_card:"UiTab_horizontal_tab_card__pF03H",horizontal_tab_card_active:"UiTab_horizontal_tab_card_active__o32eJ",tile_container:"UiTab_tile_container__YqmHk",tile_tile_container:"UiTab_tile_tile_container__DlIa1",tile_tile:"UiTab_tile_tile__NcTNN",tile_tile_active:"UiTab_tile_tile_active__bo3c7",tile_label:"UiTab_tile_label__IV8Xu",attendance_card:"UiTab_attendance_card__kZvon",ac_heading:"UiTab_ac_heading__ayM90",attendance_contianer:"UiTab_attendance_contianer__m84gB",ac_image:"UiTab_ac_image__dgjML",ac_date:"UiTab_ac_date__7s3uk",ac_date_vale:"UiTab_ac_date_vale__oug6A",ac_date_active:"UiTab_ac_date_active__ifWqt",atb_btn:"UiTab_atb_btn__tav+0"}},59393:(e,t,n)=>{n.d(t,{Z:()=>s});const s={user_member_header_wrapper:"UserMember_user_member_header_wrapper__GbnRw",umhw_cover:"UserMember_umhw_cover__9nFBA",umhw_cover_photo:"UserMember_umhw_cover_photo__SlMdy",umhw_cover_label:"UserMember_umhw_cover_label__3yZV3",umhw_cover_camera:"UserMember_umhw_cover_camera__vKOnO",umhw_info_container:"UserMember_umhw_info_container__ce+81",umhw_info_container_header:"UserMember_umhw_info_container_header__FD+-b",umhw_info_container_footer:"UserMember_umhw_info_container_footer__lVzFw",user_member_tabs_wrapper:"UserMember_user_member_tabs_wrapper__mhpkS",user_member_container_wrapper:"UserMember_user_member_container_wrapper__xbfdC",user_member_content_wrapper:"UserMember_user_member_content_wrapper__PP2xI",uf_link:"UserMember_uf_link__usZfM"}}}]);
//# sourceMappingURL=35105.d3862410.chunk.js.map