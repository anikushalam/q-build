"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[1876],{81876:function(e,t,n){n.r(t);var i=n(1413),s=n(29439),r=n(72791),a=n(95048),u=n(35395),d=n(6245),l=n(49384),o=n(39230),c=n(94804),v=n(51561),h=n(16871),m=n(80184),f=r.lazy((function(){return Promise.resolve().then(n.bind(n,6181))}));t.default=function(e){var t=e.student,n=e.viewAs,g=e.instituteId,p=e.status,b=(0,o.$G)().t,j=(0,a.v9)((function(e){return e.idChange.id})),x=(0,r.useState)(!1),Z=(0,s.Z)(x,2),k=Z[0],w=Z[1],y=(0,r.useState)(!1),C=(0,s.Z)(y,2),N=C[0],S=C[1],_=(0,h.s0)(),I=(0,h.UO)(),D=(0,r.useState)({number:"",reason:"",previous:null===t||void 0===t?void 0:t.studentPreviousSchool,study:"",behaviour:"",remarks:"",udise:""}),E=(0,s.Z)(D,2),q=E[0],A=E[1],B=(0,r.useState)({msg:"",run:!1}),R=(0,s.Z)(B,2),G=R[0],O=R[1],P=(0,d.vB)(),z=(0,s.Z)(P,1)[0],F=(0,d.A5)({id:g||j,skip:"DESIGNATION_SIDE"===n?!g:!j}),H=F.getEditable,M=F.getEditableRefetch;(0,r.useEffect)((function(){g&&M()}),[j,g,M]);return(0,m.jsxs)("div",{className:c.Z.complaintDetails,children:[(0,m.jsxs)("div",{className:c.Z.detailsHeader,children:["transfer"===p?(0,m.jsx)("p",{children:b("transfer_certificate")}):(0,m.jsx)("p",{children:b("leaving")}),(0,m.jsx)("img",{src:"/images/menu-dots-dark-icon.svg",alt:"",onClick:function(){return w(!0)}})]}),(0,m.jsxs)("div",{className:c.Z.detailsBody,children:[(0,m.jsx)("div",{className:c.Z.gr,children:(0,m.jsx)("input",{type:"tel",placeholder:b("enter_gr"),onChange:function(e){return A((0,i.Z)((0,i.Z)({},q),{},{number:e.target.value}))},required:!0})}),""!==(null===q||void 0===q?void 0:q.number)&&(0,m.jsxs)("button",{type:"submit",disabled:N,className:c.Z.getBtn,onClick:function(){S((function(e){return!e})),z({id:g||j,gr:q.number,leavingFeedback:q}).then((function(e){S((function(e){return!e})),_("/q/".concat(I.username,"/student/certificate/form"),{state:{student:e.data.student,download:e.data.download,instituteId:g,is_leaving:p}})})).catch((function(){O({msg:"something went wrong",run:!0})}))},children:[(0,m.jsx)("p",{children:b("cer_preview")}),N&&(0,m.jsx)(l.Z,{})]})]}),k&&(0,m.jsx)(u.Z,{children:(0,m.jsx)(f,{hideModal:function(e){return w(e)},addDisplay:k,editableData:null===H||void 0===H?void 0:H.detail,viewAs:n,instituteId:g,onRefetch:M})}),(0,m.jsx)(v.Ch,{msg:G.msg,run:G.run,setRun:function(){return O({msg:"",run:!1})},postiton:"bottom",type:"error"})]})}}}]);
//# sourceMappingURL=1876.e0dfbc85.chunk.js.map