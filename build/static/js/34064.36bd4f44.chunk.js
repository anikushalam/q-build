"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[34064],{7562:(e,l,n)=>{n.d(l,{nj:()=>i});const i=[{id:"nskjdfs",key:!0,name:"yes"},{id:"snkjdfs",key:!1,name:"no"}]},19056:(e,l,n)=>{n.d(l,{Z:()=>s});var i=n(72791),t=n(39230),a=n(52245),o=n(98684),d=n(80184);const s=e=>{let{selectLabel:l,onClick:n,selectedValue:s,options:r,customStyleContainer:c,customLabelStyle:u,customListStyle:v,errorShow:_,defalutValue:m,isDenied:p,customFormInput:h}=e;const{t:f}=(0,t.$G)(),[x,g]=(0,i.useState)(!1),[j,y]=(0,i.useState)(""),Z=()=>{p||g((e=>!e))};(0,i.useEffect)((()=>{m&&y(m)}),[m]);return(0,d.jsxs)("div",{className:a.Z.form_input_container,style:{...c},children:[(0,d.jsxs)("p",{className:a.Z.join_form_select_paragraph,style:{...u},children:[l,_&&(0,d.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",f("form_require_label")]})]}),(0,d.jsxs)("section",{className:a.Z.join_form_select_custom,onClick:Z,children:[j?(0,d.jsx)("p",{className:a.Z.join_form_select_custom_paragraph,style:h,children:null!==j&&void 0!==j?j:""}):(0,d.jsx)("p",{className:a.Z.join_form_select_custom_paragraph,style:h,children:s}),x?(0,d.jsx)("img",{className:a.Z.join_form_select_custom_rotate_icon,src:"".concat(o.J7,"/down.svg"),alt:"categor icon"}):(0,d.jsx)("img",{className:a.Z.join_form_select_custom_icon,src:"".concat(o.J7,"/down.svg"),alt:"categor icon"})]}),(0,d.jsx)("section",{children:x&&(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("section",{className:a.Z.join_form_select_custom_list,style:v,children:null===r||void 0===r?void 0:r.map(((e,l)=>(0,d.jsx)("p",{onClick:()=>{return n(l=e),Z(),void y(l);var l},className:a.Z.join_form_select_custom_paragraph_option,children:e},l)))})})})]})}},63281:(e,l,n)=>{n.d(l,{Z:()=>j});var i=n(39230),t=n(38857),a=n(21348),o=n(16925),d=n(90904),s=n(72791),r=n(98684),c=n(43317),u=n(55336),v=n(93638),_=n(16871),m=n(1669),p=n(2651),h=n(49806),f=n(80184);const x=e=>{var l;let{docs:n,selectList:i,onMultiSelect:t}=e;return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:h.Z.assign_show_list_each,onClick:()=>{t(n)},style:{width:"46%",paddingInline:"0"},children:[null!==i&&void 0!==i&&i.includes(null===n||void 0===n?void 0:n._id)?(0,f.jsx)("img",{src:"".concat(r.U_,"/check.svg"),alt:"icon",style:{height:"1.3rem",width:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,f.jsx)("img",{style:{height:"1.3rem",width:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"".concat(r.U_,"/uncheck.svg"),alt:"icon"}),(0,f.jsx)("div",{className:h.Z.assign_each_paragraph,children:(0,f.jsx)("h6",{children:null!==(l=null===n||void 0===n?void 0:n.document_name)&&void 0!==l?l:""})})]})})},g=e=>{var l,n;let{aid:i,onMultiSelect:t,selectList:a}=e;const{admissionDocumentList:o,admissionDocumentListLoading:d}=(0,c.cR)({data:{aid:i,page:1,limit:1e3,search:""},skip:!i});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{style:{display:"flex",width:"100%",flexWrap:"wrap",gap:"8%"},children:null===o||void 0===o||null===(l=o.list)||void 0===l?void 0:l.map((e=>(0,f.jsx)(x,{docs:e,selectList:a,onMultiSelect:t},null===e||void 0===e?void 0:e._id)))}),d?(0,f.jsx)(m.Z,{}):0===(null===o||void 0===o||null===(n=o.list)||void 0===n?void 0:n.length)&&(0,f.jsx)(p.Z,{title:"No document."})]})},j=e=>{var l,n,m,p,h,x;let{onClose:j,applicant:y,appId:Z,onRefetch:b,admissionDocsCollect:S,aid:k}=e;const{t:N}=(0,i.$G)(),C=(0,_.TH)(),[I,T]=(0,s.useState)({listId:[],lsit:[]}),[w,A]=(0,s.useState)(!1),[R]=(0,c.O1)();return console.info("applicant",I),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(t.Z,{onClose:j,children:(0,f.jsxs)("div",{className:o.Z.modal_container,style:{minWidth:"48rem",maxWidth:"48rem"},children:[(0,f.jsx)(a.Z,{children:(0,f.jsxs)("div",{className:o.Z.modal_container_outer_header,children:[(0,f.jsx)("div",{className:o.Z.modal_container_header,children:(0,f.jsx)("h6",{children:N("collect_required_document")})}),(0,f.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:j})]})}),(0,f.jsx)(d.Z,{}),(0,f.jsxs)(a.Z,{customStyle:{paddingTop:"0"},children:[S?(0,f.jsxs)(a.Z,{customStyle:{paddingTop:"0.3rem",marginBottom:"1rem"},children:[(0,f.jsx)("div",{className:o.Z.modal_container_header,style:{marginBottom:"0.5rem"},children:(0,f.jsx)("h6",{children:N("required_document_not_submitted")})}),(0,f.jsx)(g,{aid:k,selectList:I.listId,onMultiSelect:e=>{var l;null!==(l=I.listId)&&void 0!==l&&l.includes(null===e||void 0===e?void 0:e._id)?T((l=>{var n,i;return{...l,listId:null===(n=l.listId)||void 0===n?void 0:n.filter((l=>l!==(null===e||void 0===e?void 0:e._id))),lsit:null===(i=l.lsit)||void 0===i?void 0:i.filter((l=>(null===l||void 0===l?void 0:l.docs)!==(null===e||void 0===e?void 0:e._id)))}})):T((l=>({...l,lsit:[...l.lsit,{docs:null===e||void 0===e?void 0:e._id,not_filled:"Yes"}],listId:[...l.listId,null===e||void 0===e?void 0:e._id]})))}})]}):null,(0,f.jsxs)("div",{className:o.Z.modal_container_header,style:{flexDirection:"column"},children:[(0,f.jsx)("p",{children:N("collecting_documents_of_student")}),(0,f.jsx)("h6",{children:"".concat(null!==(l=null===y||void 0===y||null===(n=y.student)||void 0===n?void 0:n.studentFirstName)&&void 0!==l?l:""," ").concat(null!==y&&void 0!==y&&null!==(m=y.student)&&void 0!==m&&m.studentMiddleName?null===y||void 0===y||null===(p=y.student)||void 0===p?void 0:p.studentMiddleName:""," ").concat(null!==(h=null===y||void 0===y||null===(x=y.student)||void 0===x?void 0:x.studentLastName)&&void 0!==h?h:"")})]}),(0,f.jsx)(v.Z,{label:"confirm",onAction:()=>{var e;if(null!==y&&void 0!==y&&null!==(e=y.student)&&void 0!==e&&e._id&&Z&&null!==y&&void 0!==y&&y._id&&null!==y&&void 0!==y&&y.revert_request_status){var l,n;A((e=>!e));let e=[];S&&(e=I.lsit),R({sid:null===y||void 0===y||null===(l=y.student)||void 0===l?void 0:l._id,appId:Z,document:{nest:null===y||void 0===y?void 0:y._id,revert_status:null===y||void 0===y?void 0:y.revert_request_status,staffId:null===(n=C.state)||void 0===n?void 0:n.sid,collect_docs:e}}).then((()=>{b(),A((e=>!e)),j()})).catch((()=>{A((e=>!e))}))}}})]})]})}),w&&(0,f.jsx)(u.Z,{})]})}},98951:(e,l,n)=>{n.d(l,{Z:()=>w});var i=n(39230),t=n(38857),a=n(21348),o=n(16925),d=n(90904),s=n(72791),r=n(98684),c=n(55336),u=n(93638),v=n(61055),_=n(60924),m=n(43997),p=n(50518),h=n(43317),f=n(99183),x=n(20659),g=n(26071),j=n(7562),y=n(16871),Z=n(60307),b=n(71439),S=n(64499),k=n(85794),N=n(45100),C=n(1095),I=n(80184);const T=e=>{var l,n,c,u,v,_,m,p;let{onClose:h,applicant:f,appId:x,onRefetch:g}=e;const{t:j}=(0,i.$G)(),[y,b]=(0,s.useState)({open:!1,msg:"",variant:"error"}),[S,T]=(0,s.useState)(null),{studentAdmissionFeeList:w,studentAdmissionFeeListRefetch:A}=(0,Z.Wb)({sid:null===f||void 0===f||null===(l=f.student)||void 0===l?void 0:l._id,skip:!(null!==f&&void 0!==f&&null!==(n=f.student)&&void 0!==n&&n._id)});(0,s.useEffect)((()=>{if(w)for(let r of w){var e,l,n,i,t,a,o,d,s;if((null===r||void 0===r||null===(e=r.appId)||void 0===e?void 0:e._id)===x)if(null!==r&&void 0!==r&&null!==(l=r.applicable_card)&&void 0!==l&&null!==(n=l.remaining_array)&&void 0!==n&&null!==(i=n[0])&&void 0!==i&&null!==(t=i.fee_receipt)&&void 0!==t&&t.receipt_file)T(null===r||void 0===r||null===(a=r.applicable_card)||void 0===a||null===(o=a.remaining_array)||void 0===o||null===(d=o[0])||void 0===d||null===(s=d.fee_receipt)||void 0===s?void 0:s.receipt_file),b({open:!1,msg:"",variant:"error"})}}),[w]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(t.Z,{onClose:()=>{},children:(0,I.jsxs)("div",{className:o.Z.modal_container,children:[(0,I.jsx)(a.Z,{children:(0,I.jsxs)("div",{className:o.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:o.Z.modal_container_header,children:(0,I.jsx)("h6",{children:j("collect_fees_successfully")})}),(0,I.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:h})]})}),(0,I.jsx)(d.Z,{}),(0,I.jsxs)(a.Z,{customStyle:{paddingTop:"0"},children:[(0,I.jsxs)("div",{className:o.Z.modal_container_header,style:{flexDirection:"column",gap:"0"},children:[(0,I.jsx)("p",{style:{marginBottom:"0.5rem"},children:j("payment_of_student")}),(0,I.jsx)("h6",{children:"".concat(null!==(c=null===f||void 0===f||null===(u=f.student)||void 0===u?void 0:u.studentFirstName)&&void 0!==c?c:""," ").concat(null!==f&&void 0!==f&&null!==(v=f.student)&&void 0!==v&&v.studentMiddleName?null===f||void 0===f||null===(_=f.student)||void 0===_?void 0:_.studentMiddleName:""," ").concat(null!==(m=null===f||void 0===f||null===(p=f.student)||void 0===p?void 0:p.studentLastName)&&void 0!==m?m:"")})]}),S?(0,I.jsx)("a",{href:"".concat(C.q2,"/").concat(S),target:"_blank",rel:"noopener noreferrer",onClick:g,children:(0,I.jsx)(N.Z,{label:j("view_receipt"),customStyle:{"--ccb-bg":"#def3e1","--ccb-b":"#008000","--ccb-text":"#008000","--ccb-bg-h":"#def3e1","--ccb-text-h":"#008000",justifyContent:"Center",marginBlock:"1rem"}})}):(0,I.jsx)(N.Z,{label:j("view_receipt"),onAction:()=>{S||(b({open:!0,msg:"Fee receipt generating in process. Please try after some time.",variant:"error"}),A())},customStyle:{"--ccb-bg":"#def3e1","--ccb-b":"#008000","--ccb-text":"#008000","--ccb-bg-h":"#def3e1","--ccb-text-h":"#008000",justifyContent:"Center",marginBlock:"1rem"}})]})]})}),(0,I.jsx)(k.Z,{eventState:y,eventStateHandler:b})]})},w=e=>{var l,n,N,C,w,A,R,F,L,D,M,P,E,B,q;let{onClose:G,applicant:J,appId:U,onRefetch:O,financeId:H}=e;const{t:V}=(0,i.$G)(),W=(0,y.TH)(),[Y,$]=(0,s.useState)(!1),z=(0,y.UO)(),[K,Q]=(0,s.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:"",pay_remain:!1}),[X,ee]=(0,s.useState)(0),[le,ne]=(0,s.useState)(""),[ie,te]=(0,s.useState)({open:!1,msg:"",variant:"error"}),[ae,oe]=(0,s.useState)(0),[de,se]=(0,s.useState)({amount:0,type:"Admission",isTransaction:!1,pay_remain:!1}),{studentInstituteCharges:re}=(0,Z.xY)({data:{id:null===J||void 0===J||null===(l=J.app_card)||void 0===l||null===(n=l.remaining_array)||void 0===n||null===(N=n[0])||void 0===N?void 0:N.instituteId},skip:!(null!==J&&void 0!==J&&null!==(C=J.app_card)&&void 0!==C&&null!==(w=C.remaining_array)&&void 0!==w&&null!==(A=w[0])&&void 0!==A&&A.instituteId)}),[ce]=(0,h.VO)(),[ue]=(0,Z.zJ)();(0,s.useEffect)((()=>{var e,l,n;null!==J&&void 0!==J&&null!==(e=J.app_card)&&void 0!==e&&e.applicable_fee&&(Q((e=>{var l,n;return{...e,amount:+(null===J||void 0===J||null===(l=J.app_card)||void 0===l?void 0:l.applicable_fee),fee_payment_amount:+(null===J||void 0===J||null===(n=J.app_card)||void 0===n?void 0:n.applicable_fee)}})),se({amount:null!==(l=+(null===J||void 0===J||null===(n=J.app_card)||void 0===n?void 0:n.applicable_fee))&&void 0!==l?l:0,type:"Admission",isTransaction:!1,pay_remain:!1}))}),[null===J||void 0===J||null===(R=J.app_card)||void 0===R?void 0:R.applicable_fee]);const ve=e=>{Q((l=>({...l,[e.target.name]:e.target.value})))},_e=e=>{Q((l=>({...l,pay_remain:e})));let l=0;if(e){let e=0;for(let l of null===J||void 0===J||null===(n=J.app_card)||void 0===n?void 0:n.remaining_array){var n;"Paid"!==(null===l||void 0===l?void 0:l.status)&&(e+=null===l||void 0===l?void 0:l.remainAmount)}ee(e),l=e}se(l>0?n=>({...n,pay_remain:e,amount:l}):l=>({...l,pay_remain:e}))};return(0,I.jsx)(I.Fragment,{children:1===ae?(0,I.jsx)(T,{applicant:J,onClose:G,appId:U,onRefetch:O}):(0,I.jsxs)(I.Fragment,{children:[de.isTransaction?(0,I.jsx)(b.Z,{onClose:G,allContent:{...de,platform_charges:null===re||void 0===re||null===(F=re.platform_charges)||void 0===F?void 0:F.percentage},checkoutAdmissionHandler:()=>{var e,l,n,i,t,a,o,d,s,r,c,u,v,_,m,p,h,f,x,g,j,y,Z,b,k,N;let C=2.1*+(null===de||void 0===de?void 0:de.amount)/100,I=C+18*+C/100;const T=parseInt(null===de||void 0===de?void 0:de.amount);var w=Math.ceil(T+ +I.toFixed(2));(0,S.oU)({amount:null!==(e=+(null===de||void 0===de?void 0:de.amount))&&void 0!==e?e:10,amount_nocharges:null!==(l=+w)&&void 0!==l?l:0,type:"Admission",paidBy:"".concat(null===J||void 0===J||null===(n=J.student)||void 0===n?void 0:n._id),paidTo:"".concat(null===J||void 0===J||null===(i=J.app_card)||void 0===i||null===(t=i.remaining_array)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.instituteId),moduleId:"".concat(null===J||void 0===J||null===(o=J.app_card)||void 0===o||null===(d=o.remaining_array)||void 0===d||null===(s=d[0])||void 0===s?void 0:s.appId),ad_status_id:null,payment_installment:null===J||void 0===J||null===(r=J.app_card)||void 0===r||null===(c=r.remaining_array)||void 0===c||null===(u=c[0])||void 0===u?void 0:u.installmentValue,ad_install:null,month:null,payment_remain_1:null,payment_card_type:null,payment_book_id:null,name:z.username,isApk:"web",payment_card_id:null!==(v=null===J||void 0===J||null===(_=J.app_card)||void 0===_?void 0:_.parent_card)&&void 0!==v?v:null,payment_remain_fees:de.pay_remain,charge:{num_platform_percent:null!==(m=null===re||void 0===re||null===(p=re.platform_charges)||void 0===p?void 0:p.percentage)&&void 0!==m?m:0,num_platform_max:null!==(h=null===re||void 0===re||null===(f=re.platform_charges)||void 0===f?void 0:f.maximum)&&void 0!==h?h:0,num_trans_pecent:null!==(x=null===re||void 0===re||null===(g=re.transaction_charges)||void 0===g?void 0:g.percentage)&&void 0!==x?x:0,num_trans_max:null!==(j=null===re||void 0===re||null===(y=re.transaction_charges)||void 0===y?void 0:y.maximum)&&void 0!==j?j:0,num_app_max:null!==(Z=null===re||void 0===re?void 0:re.application_charges)&&void 0!==Z?Z:0},nsid:null===J||void 0===J||null===(b=J.app_card)||void 0===b||null===(k=b.remaining_array)||void 0===k||null===(N=k[0])||void 0===N?void 0:N._id}).then((e=>{var l,n;window.onScriptLoad(null===e||void 0===e||null===(l=e.response)||void 0===l||null===(n=l.body)||void 0===n?void 0:n.txnToken,null===e||void 0===e?void 0:e.order,null===e||void 0===e?void 0:e.amount)})).catch((e=>{console.info(e)}))},isOptimzed:!0}):(0,I.jsx)(t.Z,{onClose:G,children:(0,I.jsxs)("div",{className:o.Z.modal_container,children:[(0,I.jsx)(a.Z,{children:(0,I.jsxs)("div",{className:o.Z.modal_container_outer_header,children:[(0,I.jsx)("div",{className:o.Z.modal_container_header,children:(0,I.jsx)("h6",{children:V("collect_fees")})}),(0,I.jsx)("img",{src:"".concat(r.J7,"/close.svg"),alt:"close icon",onClick:G})]})}),(0,I.jsx)(d.Z,{}),(0,I.jsxs)(a.Z,{customStyle:{paddingTop:"0"},children:[(0,I.jsxs)("div",{className:o.Z.admission_fees_row,children:[(0,I.jsxs)("h6",{children:[V("applicable_amount")," :"]}),(0,I.jsxs)("h6",{children:[V("rs_only")," ",null!==(L=null===J||void 0===J||null===(D=J.app_card)||void 0===D?void 0:D.applicable_fee)&&void 0!==L?L:0]})]}),null!==J&&void 0!==J&&null!==(M=J.fee_struct)&&void 0!==M&&M.total_installments&&+(null===J||void 0===J||null===(P=J.fee_struct)||void 0===P?void 0:P.total_installments)>1?(0,I.jsx)(x.Z,{label:"pay_rest_remaining_fees",children:null===j.nj||void 0===j.nj?void 0:j.nj.map((e=>(0,I.jsx)(g.Z,{tile:e,onTile:_e,activeTile:K.pay_remain},null===e||void 0===e?void 0:e.id)))}):null,(0,I.jsx)(v.Z,{label:"".concat(V(K.pay_remain?"amount_remain_installment":"amount_first_installment")," ").concat(K.pay_remain?X:null===J||void 0===J||null===(E=J.app_card)||void 0===E||null===(B=E.remaining_array)||void 0===B||null===(q=B[0])||void 0===q?void 0:q.remainAmount),placeholder:V("amoute_details_collect"),name:"amount",value:K.amount,type:"tel",onChange:e=>{Q((l=>({...l,amount:+e.target.value,fee_payment_amount:+e.target.value}))),se((l=>({...l,amount:+e.target.value})))},errorShow:le.amount,msg:le.rest_issue}),(0,I.jsx)(p.Z,{paymentHeading:V("payment_type_mode"),selectLabel:V("mode_placeholder"),onClick:e=>{Q((l=>({...l,mode:"Online",fee_payment_mode:e})))},errorShow:le.fee_payment_mode,defalutValue:K.fee_payment_mode,selectedValue:V("please_select_payment_mode"),isAuthority:"admissionCollectModePg",customLabelStyle:{marginTop:"0"}}),"Payment Gateway"===K.fee_payment_mode?(0,I.jsx)(u.Z,{label:"collect",onAction:()=>{let e=(0,f.l)({amount:de.amount});var l,n,i,t;(0,f.x)(e)?de.pay_remain&&de.amount<X?ne({rest_issue:"Amount should not be less than total remaining fees"}):!de.pay_remain&&de.amount>(null===J||void 0===J||null===(l=J.app_card)||void 0===l||null===(n=l.remaining_array)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.remainAmount)&&+(null===J||void 0===J||null===(t=J.fee_struct)||void 0===t?void 0:t.total_installments)>1?ne({rest_issue:"Amount should not be greater than remaining fees"}):null!==re&&void 0!==re&&re.institute?U&&H&&($((e=>!e)),ue({fid:H,appId:U,flow:"BY_DEPARTMENT"}).then((e=>{var l;$((e=>!e)),null!==e&&void 0!==e&&null!==(l=e.data)&&void 0!==l&&l.denied?te({open:!0,msg:"Account is not activated",variant:"error"}):se((e=>({...e,isTransaction:!0})))})).catch({})):te({open:!0,msg:"Online Payment Not Activated",variant:"error"}):ne(e)}}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(_.Z,{label:V("select_date_of_transaction"),placeholder:V("please_select_date"),name:"transaction_date",value:K.transaction_date,onChange:e=>{Q((l=>({...l,transaction_date:(0,m.jh)(e)})))},errorShow:le.transaction_date}),"Cash"===K.fee_payment_mode?null:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(v.Z,{label:V("bank_name_collect"),placeholder:V("please_enter_bank_name"),name:"fee_bank_name",value:K.fee_bank_name,type:"text",onChange:ve}),(0,I.jsx)(v.Z,{label:V("banke_holder_name"),placeholder:V("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:K.fee_bank_holder,type:"text",onChange:ve}),(0,I.jsx)(v.Z,{label:V("cheque_dd_neft"),placeholder:V("please_enter_utr_ref_number"),name:"fee_utr_reference",value:K.fee_utr_reference,type:"text",onChange:ve})]}),(0,I.jsx)(u.Z,{label:"collect",onAction:()=>{let e=(0,f.l)(K,["mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference","pay_remain"]);var l,n,i,t;(0,f.x)(e)?K.pay_remain&&K.amount<X?ne({rest_issue:"Amount should not be less than total remaining fees"}):!K.pay_remain&&K.amount>(null===J||void 0===J||null===(l=J.app_card)||void 0===l||null===(n=l.remaining_array)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.remainAmount)&&+(null===J||void 0===J||null===(t=J.fee_struct)||void 0===t?void 0:t.total_installments)>1?ne({rest_issue:"Amount should not be greater than remaining fees"}):U&&H&&($((e=>!e)),ue({fid:H,appId:U,flow:"BY_DEPARTMENT"}).then((e=>{var l,n,i,t,a,o,d,s,r,c,u,v,_,p,h,f,x,g,j,y,Z,b,S,k,N,C;null!==e&&void 0!==e&&null!==(l=e.data)&&void 0!==l&&l.denied?(te({open:!0,msg:"Account is not activated",variant:"error"}),$((e=>!e))):null!==J&&void 0!==J&&null!==(n=J.student)&&void 0!==n&&n._id&&U&&ce({sid:null===J||void 0===J||null===(i=J.student)||void 0===i?void 0:i._id,appId:U,collect:{card_id:null===J||void 0===J||null===(t=J.app_card)||void 0===t?void 0:t._id,rid:null===J||void 0===J||null===(a=J.payment_flow)||void 0===a?void 0:a._id,raid:null===J||void 0===J||null===(o=J.app_card)||void 0===o||null===(d=o.remaining_array)||void 0===d||null===(s=d[0])||void 0===s?void 0:s._id,nsid:null===J||void 0===J||null===(r=J.app_card)||void 0===r||null===(c=r.remaining_array)||void 0===c||null===(u=c[0])||void 0===u?void 0:u._id,type:null===J||void 0===J||null===(v=J.app_card)||void 0===v||null===(_=v.remaining_array)||void 0===_||null===(p=_[0])||void 0===p?void 0:p.installmentValue,raid_1:null!==(h=null===J||void 0===J||null===(f=J.app_card)||void 0===f||null===(x=f.remaining_array)||void 0===x||null===(g=x[1])||void 0===g?void 0:g._id)&&void 0!==h?h:"",amount:null!==(j=null===K||void 0===K?void 0:K.amount)&&void 0!==j?j:"",mode:"Cash"===(null===K||void 0===K?void 0:K.fee_payment_mode)?"Offline":null!==(y=null===K||void 0===K?void 0:K.mode)&&void 0!==y?y:"",fee_payment_mode:"Cash"===(null===K||void 0===K?void 0:K.fee_payment_mode)?"By Cash":null===K||void 0===K?void 0:K.fee_payment_mode,fee_payment_amount:null!==(Z=null===K||void 0===K?void 0:K.fee_payment_amount)&&void 0!==Z?Z:"",transaction_date:null!==(b=(0,m._1)(K.transaction_date))&&void 0!==b?b:"",fee_bank_name:null!==(S=null===K||void 0===K?void 0:K.fee_bank_name)&&void 0!==S?S:"",fee_bank_holder:null!==(k=null===K||void 0===K?void 0:K.fee_bank_holder)&&void 0!==k?k:"",fee_utr_reference:null!==(N=null===K||void 0===K?void 0:K.fee_utr_reference)&&void 0!==N?N:"",pay_remain:K.pay_remain,staffId:null===(C=W.state)||void 0===C?void 0:C.sid}}).then((e=>{var l,n;"Already Fee Collected "===(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.message)?(te({open:!0,msg:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message,variant:"error"}),$((e=>!e))):(oe(1),$((e=>!e)))})).catch({})})).catch({})):ne(e)}})]})]})]})}),Y&&(0,I.jsx)(c.Z,{}),(0,I.jsx)(k.Z,{eventState:ie,eventStateHandler:te})]})})}},75235:(e,l,n)=>{n.d(l,{Z:()=>b});var i=n(6758),t=n(1669),a=n(57588),o=n(91427),d=n(72791),s=n(39230),r=n(23441),c=n(4007),u=n(38857),v=n(21348),_=n(90904),m=n(98684),p=n(96898),h=n(93638),f=n(55336),x=n(2651),g=n(65841),j=n(20659),y=n(26071),Z=n(80184);const b=e=>{var l,n,b,S,k,N,C;let{onClose:I,did:T,bid:w,cmid:A,selectedStructure:R,onSelectedStrucutre:F,title:L,oneStep:D,isAdmissionIntake:M,isOngoing:P}=e;const{t:E}=(0,s.$G)(),[B,q]=(0,d.useState)(""),[G,J]=(0,d.useState)(1),[U,O]=(0,d.useState)(!0),[H,V]=(0,r.YD)({skip:B}),[W,Y]=(0,d.useState)(""),[$,z]=(0,d.useState)({intake_type:""}),[K,Q]=(0,d.useState)(""),{financeAllFeeStructure:X,financeAllFeeStructureLoading:ee}=(0,i.P)({data:{did:T,page:G,limit:10,search:B,filterBy:A,batchBy:w},skip:!T});(0,d.useEffect)((()=>{V&&U&&J((e=>e+1))}),[V,U]),(0,d.useEffect)((()=>{var e;if(null!==X&&void 0!==X&&null!==(e=X.list)&&void 0!==e&&e.length){var l;let e=(0,o.f)(null===X||void 0===X||null===(l=X.list)||void 0===l?void 0:l.length);O((()=>e))}}),[null===X||void 0===X||null===(l=X.list)||void 0===l?void 0:l.length]);const le=(0,d.useCallback)((0,a.J)((e=>{J((()=>1)),q(e)}),500),[]),ne=e=>{D&&F(e),Y(e)},ie=e=>{z((l=>({...l,intake_type:e})))};return(0,Z.jsx)(Z.Fragment,{children:W?(0,Z.jsx)(u.Z,{onClose:I,children:(0,Z.jsxs)("div",{className:c.Z.modal_container,children:[(0,Z.jsx)(v.Z,{children:(0,Z.jsxs)("div",{className:c.Z.modal_container_outer_header,children:[(0,Z.jsx)("div",{className:c.Z.modal_container_header,children:(0,Z.jsx)("h6",{children:E("fee_structure")})}),(0,Z.jsx)("img",{src:"".concat(m.J7,"/close.svg"),alt:"close icon",onClick:()=>ne("")})]})}),(0,Z.jsx)(_.Z,{}),M?P&&(0,Z.jsx)(v.Z,{customStyle:{paddingTop:"0.3rem"},children:(0,Z.jsx)(j.Z,{label:"admission_intake_type",errorShow:K.intake_type,children:null===g.ST||void 0===g.ST?void 0:g.ST.map((e=>(0,Z.jsx)(y.Z,{tile:e,onTile:ie,activeTile:$.intake_type},null===e||void 0===e?void 0:e.key)))})}):null,(0,Z.jsxs)(v.Z,{customStyle:{paddingTop:"0"},children:[(0,Z.jsxs)("div",{className:c.Z.fee_middle_section,children:[(0,Z.jsx)("p",{children:E("fee_structure_of_student_is")}),(0,Z.jsx)("h6",{children:null===W||void 0===W||null===(k=W.category_master)||void 0===k?void 0:k.category_name}),(0,Z.jsxs)("p",{children:[" ",E("total_admission_fees")," "," : "," ",E("rs")," ",(0,Z.jsx)("span",{style:{fontWeight:"600"},children:null!==(N=null===W||void 0===W?void 0:W.total_admission_fees)&&void 0!==N?N:0})]}),(0,Z.jsxs)("p",{children:[E("applicable_fees_amount")," "," : "," ",E("rs")," ",(0,Z.jsx)("span",{style:{fontWeight:"600"},children:null!==(C=null===W||void 0===W?void 0:W.applicable_fees)&&void 0!==C?C:0})]})]}),(0,Z.jsx)(h.Z,{label:"confirm",onAction:()=>{M?$.intake_type?F(W,$.intake_type):Q({intake_type:"* required"}):F(W,$.intake_type)}})]})]})}):(0,Z.jsx)(u.Z,{onClose:I,children:(0,Z.jsxs)("div",{className:c.Z.modal_container,style:{maxWidth:"40rem"},children:[(0,Z.jsx)(v.Z,{children:(0,Z.jsxs)("div",{className:c.Z.modal_container_outer_header,children:[(0,Z.jsx)("div",{className:c.Z.modal_container_header,children:(0,Z.jsx)("h6",{children:E(null!==L&&void 0!==L?L:"edit_fees_structure")})}),(0,Z.jsx)("img",{src:"".concat(m.J7,"/close.svg"),alt:"close icon",onClick:I})]})}),(0,Z.jsx)(_.Z,{}),(0,Z.jsxs)(v.Z,{customStyle:{paddingTop:"0.3rem"},children:[(0,Z.jsxs)("div",{className:c.Z.fm_search_full_container_inner,style:{marginBottom:"0.6rem"},children:[(0,Z.jsx)("input",{type:"text",placeholder:E("search"),className:c.Z.fm_search_full_container_inner,onChange:e=>{e.target.value?le(e.target.value):(J((()=>1)),q(""))}}),(0,Z.jsx)("img",{src:"".concat(m.dB,"/navbar-search.svg"),alt:"search icon",className:c.Z.fm_search_full_icon})]}),null===X||void 0===X||null===(n=X.list)||void 0===n?void 0:n.map(((e,l)=>{var n;return(null===X||void 0===X||null===(n=X.list)||void 0===n?void 0:n.length)===l+1?(0,Z.jsx)("div",{ref:H,children:(0,Z.jsx)(p.Z,{structure:e,selectedStructure:R,onSelect:ne})},null===e||void 0===e?void 0:e._id):(0,Z.jsx)(p.Z,{structure:e,selectedStructure:R,onSelect:ne},null===e||void 0===e?void 0:e._id)})),ee?B?(0,Z.jsx)(f.Z,{}):(0,Z.jsx)(t.Z,{}):B?0===(null===X||void 0===X||null===(b=X.list)||void 0===b?void 0:b.length)&&(0,Z.jsx)(x.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No fee structure found related this search."}):0===(null===X||void 0===X||null===(S=X.list)||void 0===S?void 0:S.length)&&(0,Z.jsx)(x.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No fee structure added."})]})]})})})}},96898:(e,l,n)=>{n.d(l,{Z:()=>d});var i=n(4007),t=n(98684),a=n(39230),o=n(80184);const d=e=>{var l,n,d,s,r,c;let{structure:u,selectedStructure:v,onSelect:_,isShow:m,customContainerStyle:p}=e;const{t:h}=(0,a.$G)();return(0,o.jsx)(o.Fragment,{children:"YES"===m?(0,o.jsxs)("div",{className:i.Z.fees_card,style:p,children:[(0,o.jsx)("img",{src:"".concat(t.J7,"/category.svg"),alt:"categor icon"}),(0,o.jsxs)("div",{className:i.Z.fees_card_text,children:[(0,o.jsx)("div",{className:i.Z.fees_card_text_bottom,children:(0,o.jsx)("h6",{children:null!==(l=null===u||void 0===u?void 0:u.unique_structure_name)&&void 0!==l?l:""})}),(0,o.jsxs)("div",{className:i.Z.fees_card_text_bottom,children:[(0,o.jsxs)("h6",{children:[h("applicable_fees_only")," ",h("rs_only"),null!==(n=null===u||void 0===u?void 0:u.applicable_fees)&&void 0!==n?n:0]}),(0,o.jsxs)("h6",{children:[h("total_admission_fees")," "," : "," ",h("rs_only"),null!==(d=null===u||void 0===u?void 0:u.total_admission_fees)&&void 0!==d?d:0]})]})]})]}):(0,o.jsxs)("div",{className:v===(null===u||void 0===u?void 0:u._id)?"".concat(i.Z.fees_card," ").concat(i.Z.fees_card_hover_active):"".concat(i.Z.fees_card," ").concat(i.Z.fees_card_hover),onClick:()=>{_(u)},style:{cursor:"pointer"},children:[(0,o.jsx)("img",{src:"".concat(t.J7,"/category.svg"),alt:"categor icon"}),(0,o.jsxs)("div",{className:i.Z.fees_card_text,children:[(0,o.jsx)("div",{className:i.Z.fees_card_text_bottom,children:(0,o.jsx)("h6",{children:null!==(s=null===u||void 0===u?void 0:u.unique_structure_name)&&void 0!==s?s:""})}),(0,o.jsxs)("div",{className:i.Z.fees_card_text_bottom,children:[(0,o.jsxs)("h6",{children:[h("applicable_fees_only")," ",h("rs_only"),null!==(r=null===u||void 0===u?void 0:u.applicable_fees)&&void 0!==r?r:0]}),(0,o.jsxs)("h6",{children:[h("total_admission_fees")," "," : "," ",h("rs_only"),null!==(c=null===u||void 0===u?void 0:u.total_admission_fees)&&void 0!==c?c:0]})]})]})]})})}},50518:(e,l,n)=>{n.d(l,{Z:()=>o});var i=n(19056),t=n(52245),a=n(80184);const o=e=>{let{paymentHeading:l,selectLabel:n,onClick:o,selectedValue:s,customStyleContainer:r,customLabelStyle:c,customListStyle:u,errorShow:v,defalutValue:_,isAuthority:m,isDenied:p}=e;return(0,a.jsxs)(a.Fragment,{children:[l&&(0,a.jsx)("h6",{className:t.Z.payment_mode_heading,children:l}),(0,a.jsx)(i.Z,{selectLabel:n,onClick:o,selectedValue:s,options:d[m],customStyleContainer:r,customLabelStyle:c,customListStyle:u,errorShow:v,defalutValue:_,isDenied:p})]})};let d={admissionCollectMode:["Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft"],admissionCollectModePg:["Payment Gateway","Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft"],admissionStudentProfileCollectMode:["Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft","Unrecovered/Exemption"],admissionStudentProfileCollectModePg:["Payment Gateway","Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft","Unrecovered/Exemption"],depositRefundMode:["By Bank","By Cash"]}},66239:(e,l,n)=>{n.d(l,{Z:()=>c});var i=n(72791),t=n(98684),a=n(6758),o=n(37782),d=n(55336),s=n(1095),r=n(80184);const c=e=>{let{rid:l,receiptFile:c}=e;const[u,v]=(0,i.useState)(""),[_,m]=(0,i.useState)(!1),[p,h]=(0,i.useState)(""),{financeReceipt:f,financeReceiptRefetch:x}=(0,a.Nw)({rid:u,skip:!u});(0,i.useEffect)((()=>{u&&x()}),[u,x]),(0,i.useEffect)((()=>{null!==f&&void 0!==f&&f.receipt&&null!==f&&void 0!==f&&f.all_remain&&h(f)}),[f]),(0,i.useEffect)((()=>{if(p){var e;const l=new Worker(new URL(n.p+n.u(21124),n.b));if("Hostel Application"===(null===p||void 0===p||null===(e=p.all_remain)||void 0===e?void 0:e.remaining_flow)){const{institute:e,studentInfo:n,paymentReceiptInfo:i}=(0,o.sp)(null===p||void 0===p?void 0:p.all_remain,null===p||void 0===p?void 0:p.receipt);l.postMessage({institute:e,studentInfo:n,paymentReceiptInfo:i,printReceiptType:"Refunded"===(null===i||void 0===i?void 0:i.transactonRefund)?"HOSTEL_REFUND":"HOSTEL"})}else{const{institute:e,studentInfo:n,paymentReceiptInfo:i}=(0,o.Hs)(null===p||void 0===p?void 0:p.all_remain,null===p||void 0===p?void 0:p.receipt);l.postMessage({institute:e,studentInfo:n,paymentReceiptInfo:i,printReceiptType:"Refunded"===(null===i||void 0===i?void 0:i.transactonRefund)?"ADMISSION_REFUND":"ADMISSION"})}l.onmessage=e=>{e&&(window.open(e.data,"_blank"),m((e=>!e)),h(""),l.terminate())}}}),[p]);return(0,r.jsxs)(r.Fragment,{children:[c?(0,r.jsx)("a",{href:"".concat(s.q2,"/").concat(c),target:"_blank",rel:"noopener noreferrer",onClick:e=>{e.stopPropagation()},children:(0,r.jsx)("img",{src:"".concat(t.J7,"/receipt.svg"),alt:"receipt icon",title:"Download Fees Receipt"})}):(0,r.jsx)("img",{src:"".concat(t.J7,"/receipt.svg"),alt:"receipt icon",title:"Download Fees Receipt",onClick:e=>(e=>{e.stopPropagation(),m((e=>!e)),v(l),u===l&&h(f)})(e)}),_&&(0,r.jsx)(d.Z,{})]})}}}]);
//# sourceMappingURL=34064.36bd4f44.chunk.js.map