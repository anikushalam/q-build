"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[1962],{19206:function(e,t,n){var i=n(29439),o=n(72791),s=n(98094),d=n(36665),a=n(72952),l=n(98734),r=n(6245),u=n(33399),c=n(39230),v=n(39480),h=n(97655),f=n(37782),_=n(84959),m=n(74289),g=n(80184);t.Z=function(e){var t=e.onClose,N=e.uniqueGr,p=e.instituteId,x=e.isViewBy,j=e.commingReason,A=e.certificateId,I=e.onRefetch,S=(0,c.$G)().t,Z=(0,o.useState)(!1),C=(0,i.Z)(Z,2),y=C[0],T=C[1],b=(0,o.useState)(!1),E=(0,i.Z)(b,2),k=E[0],R=E[1],w=(0,o.useState)(""),B=(0,i.Z)(w,2),D=B[0],F=B[1],O=(0,o.useState)(""),P=(0,i.Z)(O,2),U=P[0],G=P[1],M=(0,o.useState)(""),q=(0,i.Z)(M,2),H=q[0],L=q[1],Y=(0,o.useState)(!1),V=(0,i.Z)(Y,2),W=V[0],$=V[1],z=(0,r._)(),J=(0,i.Z)(z,1)[0],K=(0,_.FL)(),Q=(0,i.Z)(K,1)[0],X=(0,m.H7)(),ee=(0,i.Z)(X,1)[0],te=(0,v.p0)({data:{id:p,type:"ID"},skip:!p}),ne=te.oneInstituteProfile,ie=te.oneInstituteProfileRefetch;(0,o.useEffect)((function(){p&&ie()}),[p,ie]),(0,o.useEffect)((function(){"REQUEST_TAB"===x&&F(j||"")}),[j,x]);var oe=function(){$((function(e){return!e}))};return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(d.Z,{onClose:function(){y||t()},children:[(0,g.jsx)("div",{className:u.Z.add_category_modal,style:{width:"30rem",minHeight:"10rem",height:"fit-content"},children:(0,g.jsxs)("section",{className:u.Z.fee_middle_section_container,style:{marginBottom:"1.2rem"},children:[(0,g.jsx)("h6",{style:{fontSize:"20px",fontWeight:"600"},children:S("bonafide")}),(0,g.jsx)(s.Z,{customStyle:{width:"100%",marginTop:"0.7rem"}}),(0,g.jsx)(a.Z,{labelText:S("enter_reason"),placeholder:S("enter_reason"),name:"reason",value:D,type:"text",onChange:function(e){var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)<=75&&F(e.target.value)},errorShow:k}),(0,g.jsx)(a.Z,{labelText:S("bonafide_message_optional"),placeholder:S("bonafide_message_optional_placeholder"),name:"message",value:U,type:"text",onChange:function(e){var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)<=75&&G(e.target.value)}}),(0,g.jsx)(h.Z,{labelText:S("competent_authority"),placeholder:S("competent_authority_lable"),name:"authority",value:H,type:"text",onChange:function(e){var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)<=75&&L(e.target.value)}}),(0,g.jsxs)("section",{className:u.Z.letter_head_container,children:[W?(0,g.jsx)("img",{src:"/images/checkbox-icon.svg",alt:"icon",onClick:oe}):(0,g.jsx)("img",{src:"/images/box-icon.svg",alt:"icon",onClick:oe}),(0,g.jsx)("h6",{children:S("printing_on_letter_head")})]}),(0,g.jsx)("button",{onClick:function(){N&&D&&p?(T((function(e){return!e})),J({gr:N,id:p,bonafideReason:{reason:D,student_bona_message:U}}).then((function(e){var i,o;null!==e&&void 0!==e&&null!==(i=e.data)&&void 0!==i&&i.student&&function(e){var i=(0,f.hR)(null===ne||void 0===ne?void 0:ne.institute,e,{reason:D,message:U,authority:H,uniqueGr:N,letterHead:W}),o=i.institute,s=i.studentInfo,d=new Worker(new URL(n.p+n.u(4268),n.b));d.postMessage({printCertificateType:"BONAFIDE",studentInfo:s,institute:o}),d.onmessage=function(n){if(n&&null!==e&&void 0!==e&&e._id){if("REQUEST_TAB"===x){var i=new FormData;i.append("file",n.data),Q({fileUpload:i}).then((function(e){var t;ee({cid:A,attach:null===(t=e.data)||void 0===t?void 0:t.imageKey,status:"Issued"}).then((function(){I(),T((function(e){return!e})),window.open(URL.createObjectURL(n.data),"_blank")})).catch({})})).catch({})}else window.open(URL.createObjectURL(n.data),"_blank"),T((function(e){return!e}));t()}}}(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.student)})).catch({})):D||R(!0)},className:u.Z.fee_middle_confirm_button,style:{marginTop:"4rem"},children:S("confirm")})]})}),y&&(0,g.jsx)(l.Z,{})]})})}},36665:function(e,t,n){n(72791);var i=n(12072),o=n(1874),s=n(80184);t.Z=function(e){var t=e.onClose,n=e.children;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Z,{onClose:t}),(0,s.jsx)(i.Z,{children:n})]})}},12072:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(1413),o=(n(72791),n(54164)),s="Overlay_overlay_card__PAr1h",d=n(80184),a=function(e){var t=e.children,n=e.customStyle;return(0,d.jsx)(d.Fragment,{children:o.createPortal((0,d.jsx)("div",{className:s,style:(0,i.Z)({},n),children:t}),document.getElementById("overlay"))})}},84489:function(e,t,n){var i=n(1413),o=(n(72791),n(51857)),s=n(80184);t.Z=function(e){var t=e.onClose,n=e.customStyleBackdrop;return(0,s.jsx)("div",{className:o.Z.search_backdrop,style:(0,i.Z)({},n),onClick:t})}},1874:function(e,t,n){n(72791);var i=n(54164),o=n(84489),s=n(80184);t.Z=function(e){var t=e.onClose,n=e.customStyleBackdrop;return(0,s.jsx)(s.Fragment,{children:i.createPortal((0,s.jsx)(o.Z,{onClose:t,customStyleBackdrop:n}),document.getElementById("backdrop"))})}},51962:function(e,t,n){n.d(t,{Z:function(){return O}});var i=n(29439),o=n(72791),s=n(55136),d=n(16871),a=n(43504),l=n(78687),r=n(39230),u=n(64540),c=n(30510),v=n(27346),h=n(36665),f=n(80184),_=function(e){var t,n,d,a,l,_=e.studentId,m=e.openAs,g=e.editAs,N=(0,r.$G)().t,p=o.useState("Month"),x=(0,i.Z)(p,2),j=x[0],A=x[1],I=(0,o.useState)(""),S=(0,i.Z)(I,2),Z=S[0],C=S[1],y=(0,o.useState)(!1),T=(0,i.Z)(y,2),b=T[0],E=T[1],k=(new Date).toISOString().split("-"),R=+k[1]>9?+k[1]:"0".concat(+k[1]),w=(0,u.MJ)({sid:_,month:"Month"===j?R:"",year:+k[0]},{skip:!_}),B=w.data,D=w.refetch,F=(0,c.gP)({data:{sid:_,month:"Month"===j?R:"",year:+k[0],subjectId:null===Z||void 0===Z?void 0:Z._id},skip:!(null!==Z&&void 0!==Z&&Z._id)||!_}),O=F.studentSubjectAttendance,P=F.studentSubjectAttendanceRefetch;o.useEffect((function(){_&&D()}),[_,j,D]),o.useEffect((function(){null!==Z&&void 0!==Z&&Z._id&&P()}),[null===Z||void 0===Z?void 0:Z._id,j,P]);var U=function(e){A(e)},G=function(){E((function(e){return!e}))};return(0,f.jsxs)("div",{className:s.Z.student_attendane_container,style:{right:"STUDENT_SECTION"===m||"ADMISSION_ADMIN"===m?"11%":"INSTITUTE"===g?"10%":"INSTITUTE"===m||"CLASS_CATALOG"===m?"8%":m?"1.6%":"11%"},children:[(0,f.jsxs)("div",{className:s.Z.student_attendance_heading,children:[(0,f.jsx)("h6",{children:Z?null!==(t=null===Z||void 0===Z?void 0:Z.subjectName)&&void 0!==t?t:"":N("class_attendance")}),(0,f.jsx)("img",{src:"/images/filter-blue-icon.svg",alt:"filter icon",onClick:G,title:"Filter by subject",style:{cursor:"pointer"}})]}),(0,f.jsxs)("div",{className:s.Z.colours,children:[(0,f.jsxs)("div",{className:s.Z.monthColours,onClick:function(){return U("Month")},children:[(0,f.jsx)("p",{children:"Monthly"}),"Month"===j?(0,f.jsx)("img",{src:"/images/radio-active.svg",alt:""}):(0,f.jsx)("img",{src:"/images/radio-disabled.svg",alt:""})]}),(0,f.jsxs)("div",{className:s.Z.monthColours,onClick:function(){return U("Year")},children:[(0,f.jsx)("p",{children:"Yearly"}),"Year"===j?(0,f.jsx)("img",{src:"/images/radio-active.svg",alt:""}):(0,f.jsx)("img",{src:"/images/radio-disabled.svg",alt:""})]})]}),(0,f.jsxs)("div",{className:s.Z.percentage,children:[(0,f.jsxs)("div",{className:s.Z.presentcount,children:[(0,f.jsx)("p",{children:"Present Count"}),(0,f.jsxs)("p",{children:[Z?null===O||void 0===O||null===(n=O.presentArray)||void 0===n?void 0:n.length:null===B||void 0===B||null===(d=B.presentArray)||void 0===d?void 0:d.length," ","days"]}),(0,f.jsxs)("p",{children:[Z?"NaN"===(null===O||void 0===O?void 0:O.present)?0:null===O||void 0===O?void 0:O.present:"NaN"===(null===B||void 0===B?void 0:B.present)?0:null===B||void 0===B?void 0:B.present," ","%"]})]}),(0,f.jsxs)("div",{className:s.Z.absentcount,children:[(0,f.jsx)("p",{children:"Absent Count"}),(0,f.jsxs)("p",{children:[Z?null===O||void 0===O||null===(a=O.absentArray)||void 0===a?void 0:a.length:null===B||void 0===B||null===(l=B.absentArray)||void 0===l?void 0:l.length," ","days"]}),(0,f.jsxs)("p",{children:[Z?"NaN"===(null===O||void 0===O?void 0:O.absent)?0:null===O||void 0===O?void 0:O.absent:"NaN"===(null===B||void 0===B?void 0:B.absent)?0:null===B||void 0===B?void 0:B.absent,"%"]})]})]}),b&&(0,f.jsx)(h.Z,{onClose:G,children:(0,f.jsx)("div",{style:{width:"30rem",minHeight:"10rem",maxHeight:"35rem",overflowY:"auto",overflowX:"hidden",scrollBehavior:"smooth",padding:"1rem"},children:(0,f.jsx)(v.Z,{sid:_,onFilterAttendance:function(e){(null===Z||void 0===Z?void 0:Z._id)===(null===e||void 0===e?void 0:e._id)?C(""):C(e),G()},filterAttendance:Z})})})]})},m=n(91007),g=function(e){var t,n,i,l,u,c,v,h,_=e.carryParrentState,g=e.studentId,N=(0,r.$G)().t,p=(0,d.UO)(),x=(0,m.$J)("".concat(g),{skip:!g}),j=x.data,A=x.refetch;(0,o.useEffect)((function(){g&&A()}),[g,A]);var I=function(e,t,n){return e+t+n};return(0,f.jsxs)("div",{className:s.Z.admission_fees,children:[(0,f.jsxs)("div",{children:[(0,f.jsxs)("h5",{style:{color:"#008000"},children:[N("rs"),"."," ",I((null===j||void 0===j||null===(t=j.student)||void 0===t?void 0:t.studentPaidFeeCount)||0,(null===j||void 0===j||null===(n=j.student)||void 0===n?void 0:n.admissionPaidFeeCount)||0,(null===j||void 0===j||null===(i=j.student)||void 0===i?void 0:i.hostelPaidFeeCount)||0)]}),(0,f.jsx)("h6",{style:{marginBottom:"1.5rem"},children:N("total_fees_paid")}),(0,f.jsxs)("h5",{style:{color:"#121212"},children:[N("rs"),"."," ",I((null===j||void 0===j||null===(l=j.student)||void 0===l?void 0:l.studentRemainingFeeCount)||0,(null===j||void 0===j||null===(u=j.student)||void 0===u?void 0:u.admissionRemainFeeCount)||0,(null===j||void 0===j||null===(c=j.student)||void 0===c?void 0:c.hostelRemainFeeCount)||0)]}),(0,f.jsx)("h6",{children:N("total_outs")})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)(a.rU,{to:"/q/".concat(p.username,"/student/profile"),state:_,children:(0,f.jsxs)("div",{className:s.Z.card_hold_container,children:[(0,f.jsx)("img",{src:"/images/link-forword-icon.svg",alt:"forword link"}),(0,f.jsx)("h6",{children:N("view_profile")})]})}),(0,f.jsxs)("h5",{style:{color:"#121212",marginTop:"1.5rem"},children:[N("rs"),". ",null!==(v=null===j||void 0===j||null===(h=j.student)||void 0===h?void 0:h.applicable_fees_pending)&&void 0!==v?v:0]}),(0,f.jsx)("h6",{children:N("applicable_outs")})]})]})},N=n(19206),p=n(6245),x=n(98734),j=n(75946),A=function(e){var t,n,a,l=e.instituteId,u=e.uniqueGr,c=(0,r.$G)().t,v=(0,o.useState)(""),h=(0,i.Z)(v,2),_=h[0],m=h[1],g=(0,o.useState)(!1),A=(0,i.Z)(g,2),I=A[0],S=A[1],Z=(0,d.s0)(),C=(0,d.UO)(),y=(0,d.TH)(),T=function(e){m(e)},b=(0,p.vB)(),E=(0,i.Z)(b,1)[0],k=function(e){l&&u&&(S((function(e){return!e})),E({id:l,gr:u,leavingFeedback:{number:u,reason:"",study:"",behaviour:"",remarks:"",udise:""}}).then((function(t){S((function(e){return!e})),Z("/q/".concat(C.username,"/student/certificate/form"),"LEAVING"===e?{state:{student:t.data.student,download:t.data.download,instituteId:l,is_leaving:"leaving"}}:{state:{student:t.data.student,download:t.data.download,instituteId:l,is_leaving:"transfer"}})})).catch({}))};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:s.Z.certificate_btn_container,children:[(0,f.jsx)("button",{className:s.Z.certificate_btn,onClick:function(){return T("BONAFIDE")},children:c("bonafide")}),(0,f.jsx)("button",{className:s.Z.certificate_btn,onClick:function(){return k("LEAVING")},children:c("leaving")}),(0,f.jsx)("button",{className:s.Z.certificate_btn,onClick:function(){return k("TRANSFER")},children:c("transfer_certificate")}),(0,f.jsx)("button",{className:s.Z.certificate_btn,onClick:function(){return T("STUDENT_MESSAGE")},children:c("student_message")})]}),"BONAFIDE"===_&&(0,f.jsx)(N.Z,{onClose:function(){return T("")},uniqueGr:u,instituteId:l}),"STUDENT_MESSAGE"===_&&(0,f.jsx)(j.Z,{onClose:function(){return T("")},isStudentProfile:!0,viewAs:"CERTIFICATE_AUTHORITY",headId:null===(t=y.state)||void 0===t?void 0:t.headId,messageId:null===(n=y.state)||void 0===n?void 0:n.messageId,sendStudentList:null===(a=y.state)||void 0===a?void 0:a.sid,instituteId:l}),I&&(0,f.jsx)(x.Z,{})]})},I=n(73343),S=n(98472),Z=function(e){var t,n=e.sid,d=(0,r.$G)().t,a=(0,o.useState)(!1),l=(0,i.Z)(a,2),u=l[0],c=l[1],v=(0,o.useState)([]),h=(0,i.Z)(v,2),_=h[0],m=h[1],g=(0,o.useState)(!1),N=(0,i.Z)(g,2),p=N[0],j=N[1],A=(0,I.cl)(),Z=(0,i.Z)(A,1)[0];return(0,o.useEffect)((function(){p&&(document.getElementById("csv_download_file").click(),j(!1),c((function(e){return!e})))}),[p]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:s.Z.certificate_btn_container,children:(0,f.jsx)("button",{className:s.Z.certificate_btn,onClick:function(){n&&(c(!0),Z({studentId:{sid:n}}).then((function(e){m((function(){var t;return function(e){var t,n;return[{GRNo:null===e||void 0===e?void 0:e.studentGRNO,Name:(null===e||void 0===e?void 0:e.studentFirstName)+" "+(null===e||void 0===e?void 0:e.studentMiddleName)+" "+(null===e||void 0===e?void 0:e.studentLastName),Gender:null===e||void 0===e?void 0:e.studentGender,MotherName:null!==e&&void 0!==e&&e.studentMotherName?null===e||void 0===e?void 0:e.studentMotherName:"NA",DOB:null!==e&&void 0!==e&&e.studentDOB?null===e||void 0===e?void 0:e.studentDOB:"NA","Blood Group":null!==e&&void 0!==e&&e.student_blood_group?null===e||void 0===e?void 0:e.student_blood_group:"NA","Caste Category":null!==e&&void 0!==e&&e.studentCastCategory?null===e||void 0===e?void 0:e.studentCastCategory:"NA",Religion:null!==e&&void 0!==e&&e.studentReligion?null===e||void 0===e?void 0:e.studentReligion:"NA",BirthPlace:null!==e&&void 0!==e&&e.studentBirthPlace?null===e||void 0===e?void 0:e.studentBirthPlace:"NA",Address:null!==e&&void 0!==e&&e.studentAddress?null===e||void 0===e?void 0:e.studentAddress:"NA",ParentsName:null!==e&&void 0!==e&&e.studentParentsName?null===e||void 0===e?void 0:e.studentParentsName:"NA","Parent's Contact":null!==e&&void 0!==e&&e.studentParentsPhoneNumber?null===e||void 0===e?void 0:e.studentParentsPhoneNumber:"NA",State:null!==e&&void 0!==e&&e.studentState?null===e||void 0===e?void 0:e.studentState:"NA",District:null!==e&&void 0!==e&&e.studentDistrict?null===e||void 0===e?void 0:e.studentDistrict:"NA",Nationality:null!==e&&void 0!==e&&e.studentNationality?null===e||void 0===e?void 0:e.studentNationality:"NA",Class:null===e||void 0===e||null===(t=e.studentClass)||void 0===t?void 0:t.classTitle,Contact:null===e||void 0===e?void 0:e.studentPhoneNumber,Email:null===e||void 0===e?void 0:e.studentEmail,AdmissionDate:null===e||void 0===e||null===(n=e.studentAdmissionDate)||void 0===n?void 0:n.split("T")[0],AadharNumber:null!==e&&void 0!==e&&e.studentAadharNumber?null===e||void 0===e?void 0:e.studentAadharNumber:"NA","Mother Tongue":null!==e&&void 0!==e&&e.studentMTongue?null===e||void 0===e?void 0:e.studentMTongue:"NA",Caste:null!==e&&void 0!==e&&e.studentCast?null===e||void 0===e?void 0:e.studentCast:"NA","Current Address":null!==e&&void 0!==e&&e.studentCurrentAddress?null===e||void 0===e?void 0:e.studentCurrentAddress:"NA","Father Ration Color":null!==e&&void 0!==e&&e.studentFatherRationCardColor?null===e||void 0===e?void 0:e.studentFatherRationCardColor:"NA","Parent's Occupation":null!==e&&void 0!==e&&e.studentParentsOccupation?null===e||void 0===e?void 0:e.studentParentsOccupation:"NA","Parent's Annual Income":null!==e&&void 0!==e&&e.studentParentsAnnualIncom?null===e||void 0===e?void 0:e.studentParentsAnnualIncom:"NA","Previous School":null!==e&&void 0!==e&&e.studentPreviousSchool?null===e||void 0===e?void 0:e.studentPreviousSchool:"NA","Bank Name":null!==e&&void 0!==e&&e.studentBankName?null===e||void 0===e?void 0:e.studentBankName:"NA","Bank Account":null!==e&&void 0!==e&&e.studentBankAccount?null===e||void 0===e?void 0:e.studentBankAccount:"NA","Bank Holder Name":null!==e&&void 0!==e&&e.studentBankAccountHolderName?null===e||void 0===e?void 0:e.studentBankAccountHolderName:"NA","Bank Ifsc":null!==e&&void 0!==e&&e.studentBankIfsc?null===e||void 0===e?void 0:e.studentBankIfsc:"NA"}]}(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.student_card)})),j(!0)})).catch({}))},children:d("id_card")})}),(0,f.jsx)(S.CSVLink,{data:_,filename:"".concat(null===_||void 0===_||null===(t=_[0])||void 0===t?void 0:t.Name,"-id-card"),id:"csv_download_file"}),u&&(0,f.jsx)(x.Z,{})]})},C=n(1413),y=n(72952),T=n(33399),b=n(98094),E=n(97655),k=n(29017),R=function(e){var t=e.uniqueGr,n=e.onClose,s=e.studentId,d=e.onRefetch,a=(0,r.$G)().t,l=(0,o.useState)(!1),u=(0,i.Z)(l,2),c=u[0],v=u[1],_=(0,o.useState)(!1),m=(0,i.Z)(_,2),g=m[0],N=m[1],p=(0,k.Nt)(),j=(0,i.Z)(p,1)[0],A=(0,o.useState)({query_content:"",query_gr:null!==t&&void 0!==t?t:""}),I=(0,i.Z)(A,2),S=I[0],Z=I[1];(0,o.useEffect)((function(){t&&Z((function(e){return(0,C.Z)((0,C.Z)({},e),{},{query_gr:null!==t&&void 0!==t?t:""})}))}),[t]);return(0,f.jsxs)(h.Z,{onClose:n,children:[(0,f.jsx)("div",{className:T.Z.add_category_modal,style:{width:"30rem",minHeight:"10rem",height:"fit-content"},children:(0,f.jsxs)("section",{className:T.Z.fee_middle_section_container,style:{marginBottom:"1.2rem"},children:[(0,f.jsx)("h6",{style:{fontSize:"20px",fontWeight:"600"},children:a("update_student_gr")}),(0,f.jsx)(b.Z,{customStyle:{width:"100%",marginTop:"0.7rem",marginBottom:"1rem"}}),(0,f.jsx)(E.Z,{labelText:a("student_gr"),placeholder:a("student_gr_placeholder"),name:"query_gr",value:null===S||void 0===S?void 0:S.query_gr,type:"text",onChange:function(e){return Z((function(t){return(0,C.Z)((0,C.Z)({},t),{},{query_gr:e.target.value})}))},errorShow:g.query_gr}),(0,f.jsx)(y.Z,{labelText:a("gr_student_message_label"),placeholder:a("gr_student_message_label_placeholder"),name:"query_content",value:S.query_content,type:"text",onChange:function(e){return Z((function(t){return(0,C.Z)((0,C.Z)({},t),{},{query_content:e.target.value})}))},errorShow:g.query_content}),(0,f.jsx)("button",{onClick:function(){var e=function(e){var t={};for(var n in e)e[n]||(t[n]="".concat(n," is required!"));return t}(S),t=!1;for(var i in e)if(i){t=!0;break}t?N(e):(v((function(e){return!e})),j({sid:s,grNumberContent:S}).then((function(){d(),v((function(e){return!e})),n()})).catch({}))},className:T.Z.fee_middle_confirm_button,style:{marginTop:"4rem"},children:a("update")})]})}),c&&(0,f.jsx)(x.Z,{})]})},w=n(86109),B=n(69721),D=["SUBJECT_TEACHER","LEAVING_FORM","FINANCE_MANAGER","ADMISSION_ADMIN_SCHOLARSHIP","VIEW_ADMISSION_PAGE_FEES","INSTITUTE_ADMIN","STUDENT","CERTIFICATE_AUTHORITY","ID_CARD_SECTION"],F=["ADMISSION_ADMIN","FINANCE_MANAGER","CERTIFICATE_AUTHORITY","STUDENT_SECTION","ID_CARD_SECTION","INSTITUTE_ADMIN"],O=function(e){var t,n,u,c=e.dynamicImage,v=e.indexNumber,h=e.designation,m=e.name,N=e.activeUrl,p=e.sid,j=e.viewAs,I=e.openAs,S=e.onEdit,C=e.grNumber,y=e.carryParrentState,T=e.admissionButton,b=e.is_hostel_link,E=e.is_view_profile,k=e.editAs,O=e.uniqueGr,P=e.instituteId,U=e.onRefetchStudentApi,G=e.isGrButtonLock,M=e.currentDesignation,q=(0,r.$G)().t,H=(0,d.UO)(),L=(0,d.TH)(),Y=(0,l.useSelector)((function(e){return e.idChange.loginProfile})),V=(0,o.useState)(!1),W=(0,i.Z)(V,2),$=W[0],z=W[1],J=(0,o.useState)(!1),K=(0,i.Z)(J,2),Q=K[0],X=K[1],ee=(0,w.OB)(),te=(0,i.Z)(ee,1)[0],ne=function(){if("Locked"===G)return null;z((function(e){return!e}))};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:s.Z.staff_profile_photo_container,style:{minHeight:"CERTIFICATE_AUTHORITY"===I?"12rem":"5rem"},children:["ID_CARD_SECTION"===I?(0,f.jsx)("img",{src:c,alt:"staff avatar",className:s.Z.staff_profile_photo_image,style:{cursor:"pointer"},title:"Download profile photo",onClick:function(){X(!0),te({instituteId:p}).then((function(e){var t;window.open("".concat(B.zQ,"/").concat(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.Key),"_blank"),X(!1)})).catch({})}}):(0,f.jsx)("img",{src:c,alt:"staff avatar",className:s.Z.staff_profile_photo_image}),(0,f.jsxs)("div",{className:s.Z.staff_profile_photo_info,children:[(0,f.jsxs)("h5",{className:s.Z.staff_profile_photo_name,children:[m,"HOSTEL"===E?(0,f.jsx)(a.rU,{to:"/q/".concat(H.username,"/student/profile/"),state:{sid:p,viewAs:I,instituteId:null===(t=L.state)||void 0===t?void 0:t.instituteId},children:(0,f.jsx)("span",{style:{fontSize:"10px",fontWeight:"400",color:"#0000ff"},children:" (".concat(q("view_profile"),")")})}):b&&(0,f.jsx)(a.rU,{to:"/q/".concat(H.username,"/student/profile/hostel"),state:{sid:p,viewAs:I,instituteId:null===(n=L.state)||void 0===n?void 0:n.instituteId},children:(0,f.jsx)("span",{style:{fontSize:"10px",fontWeight:"400",color:"#0000ff"},children:" (".concat(q("hostel_profile"),")")})})]}),(0,f.jsx)("p",{className:s.Z.staff_profile_photo_index,children:v}),"student"===N&&(0,f.jsxs)("p",{className:s.Z.staff_profile_photo_index,children:[C,(null===F||void 0===F?void 0:F.includes(I))&&(0,f.jsx)("span",{style:{fontSize:"12px",fontWeight:"400",color:"Locked"===G?"rgb(177 177 176)":"#0000ff",cursor:"pointer"},onClick:ne,children:" (".concat(q("Locked"===G?"requested":"edit_"),")")})]}),(0,f.jsx)("p",{className:s.Z.staff_profile_photo_index,children:h}),M&&(0,f.jsx)("p",{className:s.Z.staff_profile_photo_index,children:M})]}),"student"===N&&"VIEW_ADMISSION_PAGE_FEES"===I?(0,f.jsx)(g,{carryParrentState:y,studentId:p}):"student"===N&&(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(a.rU,{to:"/q/".concat(H.username,"/student/profile/admission"),state:{sid:p,viewAs:I,instituteId:null===(u=L.state)||void 0===u?void 0:u.instituteId},children:(0,f.jsxs)("div",{className:s.Z.link_hold_container,style:{right:T?"40%":"35%"},children:[(0,f.jsx)("img",{src:"/images/link-forword-icon.svg",alt:"forword link"}),(0,f.jsx)("h6",{children:q("admission_fees")})]})})}),"CERTIFICATE_AUTHORITY"===I?(0,f.jsx)(A,{uniqueGr:O,instituteId:P}):"ID_CARD_SECTION"===I?(0,f.jsx)(Z,{sid:p}):"student"===N&&(0,f.jsx)(_,{studentId:p,openAs:I,editAs:k}),"STAFF"===k?null:"INSTITUTE"===k?(0,f.jsx)(a.rU,{to:"/q/".concat(Y.username,"/edit/").concat(N),state:{openAs:"INSTITUTE_SIDE",sid:p},children:(0,f.jsx)("img",{src:"/images/user-pencil-edit.svg",alt:"edit icon",className:s.Z.staff_profile_photo_edit})}):null!==D&&void 0!==D&&D.includes(I)?"":j?(0,f.jsx)("img",{src:"/images/user-pencil-edit.svg",alt:"edit icon",className:s.Z.staff_profile_photo_edit,onClick:S,style:{cursor:"pointer"}}):(0,f.jsx)(a.rU,{to:"/q/".concat(Y.username,"/edit/").concat(N),state:{openAs:"INSTITUTE_SIDE",sid:p},children:(0,f.jsx)("img",{src:"/images/user-pencil-edit.svg",alt:"edit icon",className:s.Z.staff_profile_photo_edit})})]}),$&&(0,f.jsx)(R,{onClose:ne,uniqueGr:O,studentId:p,onRefetch:U}),Q&&(0,f.jsx)(x.Z,{})]})}},51857:function(e,t){t.Z={search_backdrop:"SearchHeader_search_backdrop__MsKpG",search_card:"SearchHeader_search_card__-jNcg",search_container:"SearchHeader_search_container__NS7Om",search_container_text:"SearchHeader_search_container_text__bkolR",searchIcon:"SearchHeader_searchIcon__J7cNp",search_container_back:"SearchHeader_search_container_back__ZoXdV"}}}]);
//# sourceMappingURL=1962.54a60b32.chunk.js.map