"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[4255],{49804:function(e,n,t){t.d(n,{Z:function(){return h}});var i=t(93433),o=t(29439),l=t(72791),a=t(39230),s=t(23441),d=t(87338),c=t(11105),r=t(69721),u=t(15214),v=t(80184),_=function(e){var n,t,i,o,l=e.warden;return(0,v.jsxs)("div",{className:u.Z.hostel_warden_card,children:[(0,v.jsx)("img",{src:null!==l&&void 0!==l&&l.staffProfilePhoto?"".concat(r.yI,"/").concat(null===l||void 0===l?void 0:l.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:""}),(0,v.jsxs)("div",{className:u.Z.warden_card_text,children:[(0,v.jsx)("h6",{children:"".concat(null!==(n=null===l||void 0===l?void 0:l.staffFirstName)&&void 0!==n?n:""," ").concat(null!==(t=null===l||void 0===l?void 0:l.staffMiddleName)&&void 0!==t?t:""," ").concat(null!==(i=null===l||void 0===l?void 0:l.staffLastName)&&void 0!==i?i:"")}),(0,v.jsx)("p",{children:null===l||void 0===l||null===(o=l.hostelUnitDepartment)||void 0===o?void 0:o.map((function(e,n){var t;return(0,v.jsxs)("span",{children:[0===n?"":", ",null!==(t=null===e||void 0===e?void 0:e.hostel_unit_name)&&void 0!==t?t:""]},null===e||void 0===e?void 0:e._id)}))})]})]})},p=t(98094),m=t(763),h=function(e){var n=e.hid,t=(0,a.$G)().t,r=(0,s.YD)(),h=(0,o.Z)(r,2),f=h[0],g=h[1],x=(0,l.useState)(1),j=(0,o.Z)(x,2),Z=j[0],S=j[1],A=(0,l.useState)(!0),N=(0,o.Z)(A,2),b=N[0],y=N[1],C=(0,l.useState)(!0),I=(0,o.Z)(C,2),E=I[0],R=I[1],w=(0,l.useState)([]),P=(0,o.Z)(w,2),T=P[0],k=P[1],D=(0,l.useState)(""),L=(0,o.Z)(D,2),M=L[0],O=L[1],F=(0,d.kd)({data:{hid:n,page:Z,limit:10,search:M},skip:!n}),q=F.getHostelWardenList,H=F.getHostelWardenListRefetch;(0,l.useEffect)((function(){n&&(R(!0),H())}),[n,Z,M,H]),(0,l.useEffect)((function(){g&&b&&S((function(e){return e+1}))}),[g,b]),(0,l.useEffect)((function(){var e,n;M?(k(null===q||void 0===q?void 0:q.all_wardens),R(!1)):null!==q&&void 0!==q&&q.all_wardens?(k((function(e){var n,t;return null===(n=(0,i.Z)(new Set(null===(t=[].concat((0,i.Z)(e),(0,i.Z)(null===q||void 0===q?void 0:q.all_wardens)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),R(!1)):0===(null===q||void 0===q||null===(n=q.all_wardens)||void 0===n?void 0:n.length)&&R(!1);10===(null===q||void 0===q||null===(e=q.all_wardens)||void 0===e?void 0:e.length)?y(!0):y(!1)}),[null===q||void 0===q?void 0:q.all_wardens]);var B=(0,l.useCallback)((0,m.debounce)((function(e){return O(e)}),500),[]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:u.Z.with_search,children:[(0,v.jsx)("h6",{children:t("staff_room")}),(0,v.jsx)("section",{className:u.Z.search_container,children:(0,v.jsxs)("div",{className:u.Z.search_container_input,children:[(0,v.jsx)("img",{className:u.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,v.jsx)("input",{type:"text",placeholder:"Search warden...",onChange:function(e){B(e.target.value)}})]})})]}),(0,v.jsx)(p.Z,{customStyle:{marginTop:"0.5rem",width:"100%"}}),null===T||void 0===T?void 0:T.map((function(e,n){return(null===T||void 0===T?void 0:T.length)===n+1?(0,v.jsx)("div",{ref:f,children:(0,v.jsx)(_,{warden:e})},null===e||void 0===e?void 0:e._id):(0,v.jsx)(_,{warden:e},null===e||void 0===e?void 0:e._id)})),E&&(0,v.jsx)(c.Z,{})]})}},44241:function(e,n,t){t.d(n,{Z:function(){return w}});var i=t(93433),o=t(29439),l=t(72791),a=t(39230),s=t(16871),d=t(23441),c=t(11105),r=t(72426),u=t.n(r),v=t(98734),_=t(12072),p=t(84489),m=t(87049),h=t(97655),f=t(98094),g=t(80184),x=function(e){var n,t=e.onEdit,i=e.xlsxId,s=(0,a.$G)().t,d=(0,l.useState)(null!==(n=null===i||void 0===i?void 0:i.excel_file_name)&&void 0!==n?n:""),c=(0,o.Z)(d,2),r=c[0],u=c[1],v=(0,l.useState)(""),_=(0,o.Z)(v,2),p=_[0],x=_[1];(0,l.useEffect)((function(){var e;u(null!==(e=null===i||void 0===i?void 0:i.excel_file_name)&&void 0!==e?e:"")}),[null===i||void 0===i?void 0:i.excel_file_name]);return(0,g.jsxs)("div",{style:{width:"30rem",minHeight:"10rem",padding:"1rem"},children:[(0,g.jsx)("h6",{children:s("update_excel_name")}),(0,g.jsx)(f.Z,{customStyle:{width:"100%"}}),(0,g.jsx)(h.Z,{labelText:s("excel_name"),placeholder:s("excel_name_plcaeholder"),value:r,name:"excelName",type:"text",onChange:function(e){return u(e.target.value)},errorShow:p.excelName}),(0,g.jsx)("button",{className:m.Z.xlsx_update_btn,title:"Add fees head",onClick:function(){r?t(r):x({excelName:"excelName is required"})},style:{justifyContent:"center",marginTop:"1rem"},children:s("update")})]})},j=t(87338),Z=function(e){var n=e.onClose,t=e.xlsxId,i=e.onRefetch,a=e.hostelId,s=(0,l.useState)(!1),d=(0,o.Z)(s,2),c=d[0],r=d[1],u=(0,l.useState)(!1),h=(0,o.Z)(u,2),f=h[0],Z=h[1],S=(0,j.xX)(),A=(0,o.Z)(S,1)[0],N=(0,j.ix)(),b=(0,o.Z)(N,1)[0];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p.Z,{onClose:n}),(0,g.jsxs)(_.Z,{customStyle:{zIndex:"1200"},children:[f?(0,g.jsx)(x,{xlsxId:t,onEdit:function(e){r((function(e){return!e})),A({hid:a,xlsxId:null===t||void 0===t?void 0:t._id,excelUpdate:{excel_file_name:e}}).then((function(){i(),r((function(e){return!e})),n()})).catch({})}}):(0,g.jsxs)("div",{className:m.Z.edit_modal_container,style:{width:"200px"},children:[(0,g.jsx)("h6",{className:m.Z.edit,onClick:function(){return Z((function(e){return!e}))},children:"Edit"}),(0,g.jsx)("h6",{className:m.Z.remove,onClick:function(){r((function(e){return!e})),b({hid:a,xlsxId:null===t||void 0===t?void 0:t._id}).then((function(){i(),n(),r((function(e){return!e}))})).catch({})},children:"Delete"})]}),c&&(0,g.jsx)(v.Z,{})]})]})},S=t(65543),A=t(29407),N=t(1413),b=t(25313),y=t(36665),C=t(41233),I=t(87932),E=t(16256),R=function(e){var n=e.hostelId,t=e.financeId,s=e.onClose,d=e.viewAs,c=e.onRefetch,r=(0,a.$G)().t,u=(0,l.useState)(!1),_=(0,o.Z)(u,2),p=_[0],m=_[1],h=(0,l.useState)({depart:"",fee_struct:""}),f=(0,o.Z)(h,2),x=f[0],Z=f[1],S=(0,l.useState)({gender:"",caste:"",is_all:""}),A=(0,o.Z)(S,2),R=A[0],w=A[1],P=(0,j.RO)({data:{hid:n,page:1,limit:1e3,search:""},skip:!n}),T=P.getHostelUnitList,k=P.getHostelUnitListRefetch,D=(0,I.Z)({fid:t,skip:!t}),L=D.getAllFeesCategory,M=D.getAllFeesCategoryRefetch,O=(0,j.V8)(),F=(0,o.Z)(O,1)[0];(0,l.useEffect)((function(){n&&k()}),[n,k]),(0,l.useEffect)((function(){t&&M()}),[t,M]);return(0,g.jsxs)(y.Z,{onClose:s,children:[(0,g.jsxs)("div",{className:b.Z.filter_container,children:[(0,g.jsx)("h6",{className:b.Z.filter_title,children:r("filter_and_export_fees_data")}),(0,g.jsx)(C.Z,{selectLabel:r("select_unit"),selectedValue:r("all_select_particular_department"),options:null!==T&&void 0!==T&&T.all_units?["All"].concat((0,i.Z)(null===T||void 0===T?void 0:T.all_units)):["All"],onClick:function(e){Z((function(n){return(0,N.Z)((0,N.Z)({},n),{},{depart:e})}))}}),(0,g.jsx)(C.Z,{selectLabel:r("select_gender"),selectedValue:r("select_gender_placeholder"),options:["Male","Female","Other"],onClick:function(e){w((function(n){return(0,N.Z)((0,N.Z)({},n),{},{gender:e})}))}}),(0,g.jsx)(C.Z,{selectLabel:r("select_caste_catgory"),selectedValue:r("select_caste_catgory_placeholder"),options:E.De,onClick:function(e){w((function(n){return(0,N.Z)((0,N.Z)({},n),{},{caste:e})}))}}),(0,g.jsx)(C.Z,{selectLabel:r("select_fee_category"),selectedValue:r("select_fee_category_placeholder"),options:null!==L&&void 0!==L&&L.all_fees_format?(0,i.Z)(null===L||void 0===L?void 0:L.all_fees_format):[],onClick:function(e){Z((function(n){return(0,N.Z)((0,N.Z)({},n),{},{fee_struct:e})}))}}),(0,g.jsx)(C.Z,{selectLabel:r("select_all_or_pending"),selectedValue:r("select_all_or_pending_placeholder"),options:["All Time Fees","Pending Fees"],onClick:function(e){w((function(n){return(0,N.Z)((0,N.Z)({},n),{},{is_all:"All Time Fees"===e})}))}}),(0,g.jsx)("button",{className:b.Z.next_btn,onClick:function(){m((function(e){return!e})),F((0,N.Z)((0,N.Z)({hid:n},R),{},{all_depart:"All"===x.depart?"All":"Particular",pendingData:{depart:"All"===x.depart?"":x.depart,fee_struct:"All"===x.depart?"":x.fee_struct}})).then((function(){"EXPORT"===d&&(c(),s()),m((function(e){return!e}))})).catch({})},children:r("export_data")})]}),p&&(0,g.jsx)(v.Z,{})]})},w=function(e){var n=e.hostelId,t=e.instituteId,r=(0,a.$G)().t,v=(0,s.s0)(),_=(0,d.YD)(),p=(0,o.Z)(_,2),m=p[0],h=p[1],x=(0,l.useState)(1),N=(0,o.Z)(x,2),b=N[0],y=N[1],C=(0,l.useState)(!0),I=(0,o.Z)(C,2),E=I[0],w=I[1],P=(0,l.useState)(!1),T=(0,o.Z)(P,2),k=T[0],D=T[1],L=(0,l.useState)(!0),M=(0,o.Z)(L,2),O=M[0],F=M[1],q=(0,l.useState)([]),H=(0,o.Z)(q,2),B=H[0],U=H[1],G=(0,l.useState)(!1),W=(0,o.Z)(G,2),V=W[0],J=W[1],$=(0,l.useState)(!1),Y=(0,o.Z)($,2),K=Y[0],Q=Y[1],z=(0,j.Xi)({data:{hid:n,page:b,limit:10},skip:!n}),X=z.getAllExcelByHostelManager,ee=z.getAllExcelByHostelManagerRefetch,ne=(0,S.u)().scrollToTop;(0,l.useEffect)((function(){ne()}),[]),(0,l.useEffect)((function(){n&&(F(!0),ee())}),[n,b,ee]),(0,l.useEffect)((function(){h&&E&&y((function(e){return e+1}))}),[h,E]),(0,l.useEffect)((function(){var e,n;k?(U(null===X||void 0===X?void 0:X.all_excel),D(!1),F(!1)):null!==X&&void 0!==X&&X.all_excel?(U((function(e){var n,t;return null===(n=(0,i.Z)(new Set(null===(t=[].concat((0,i.Z)(e),(0,i.Z)(null===X||void 0===X?void 0:X.all_excel)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),F(!1)):0===(null===X||void 0===X||null===(n=X.all_excel)||void 0===n?void 0:n.length)&&F(!1);10===(null===X||void 0===X||null===(e=X.all_excel)||void 0===e?void 0:e.length)?w(!0):w(!1)}),[null===X||void 0===X?void 0:X.all_excel]);var te=function(){J((function(e){return!e}))},ie=function(){y(1),ee(),D(!0)};return(0,g.jsxs)("div",{className:A.Z.refund_container,style:{marginTop:"0"},children:[(0,g.jsxs)("section",{className:A.Z.refund_container_title,children:[(0,g.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){v(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,g.jsxs)("div",{className:A.Z.refund_container_title,style:{justifyContent:"space-between",width:"95%"},children:[(0,g.jsx)("h6",{children:r("data_export")}),(0,g.jsx)("img",{src:"/images/export-filter-icon.svg",alt:"",onClick:te,className:A.Z.admission_filter_icon})]})]}),(0,g.jsx)(f.Z,{customStyle:{width:"100%"}}),(0,g.jsxs)("div",{className:A.Z.refund_list,children:[null===B||void 0===B?void 0:B.map((function(e,n){var t,i;return(null===B||void 0===B?void 0:B.length)===n+1?(0,g.jsxs)("a",{ref:m,className:A.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,g.jsx)("img",{src:"/images/export-xsxl-icon.svg",alt:""}),(0,g.jsxs)("section",{className:A.Z.export_card_text,children:[(0,g.jsx)("h6",{children:null!==(t=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==t?t:""}),(0,g.jsxs)("div",{className:A.Z.export_card_date,children:[(0,g.jsx)("h6",{children:u()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,g.jsx)("h6",{children:u()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]}),(0,g.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(n){n.preventDefault(),Q(e)},className:A.Z.menu_icon,title:"Menu"})]},null===e||void 0===e?void 0:e._id):(0,g.jsxs)("a",{className:A.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,g.jsx)("img",{src:"/images/export-xsxl-icon.svg",alt:""}),(0,g.jsxs)("section",{className:A.Z.export_card_text,children:[(0,g.jsx)("h6",{children:null!==(i=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==i?i:""}),(0,g.jsxs)("div",{className:A.Z.export_card_date,children:[(0,g.jsx)("h6",{children:u()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,g.jsx)("h6",{children:u()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]}),(0,g.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(n){n.preventDefault(),Q(e)},className:A.Z.menu_icon,title:"Menu"})]},null===e||void 0===e?void 0:e._id)})),O&&(0,g.jsx)(c.Z,{}),V&&(0,g.jsx)(R,{hostelId:n,financeId:t,onClose:te,viewAs:"EXPORT",onRefetch:ie}),K&&(0,g.jsx)(Z,{xlsxId:K,onClose:function(){return Q("")},onRefetch:ie,hostelId:n})]})]})}},79541:function(e,n,t){t.d(n,{Z:function(){return x}});var i=t(93433),o=t(29439),l=t(72791),a=t(39230),s=t(23441),d=t(16871),c=t(87338),r=t(11105),u=t(98094),v=t(10406),_=t(80184),p=function(e){var n,t,i=e.announcement;return(0,_.jsxs)("div",{className:v.Z.announcement_card,children:[(0,_.jsx)("h6",{children:null!==(n=null===i||void 0===i?void 0:i.insAnnTitle)&&void 0!==n?n:""}),(0,_.jsx)("p",{children:null===i||void 0===i||null===(t=i.insAnnDescription)||void 0===t?void 0:t.substring(0,200)})]})},m=t(1999),h=t(49384),f=t(90865),g=function(e){var n=e.hid,t=e.onRefetch,i=e.onClose,s=(0,a.$G)().t,d=(0,l.useState)(),r=(0,o.Z)(d,2),v=r[0],p=r[1],g=(0,l.useState)([]),x=(0,o.Z)(g,2),j=x[0],Z=x[1],S=(0,l.useState)([]),A=(0,o.Z)(S,2),N=A[0],b=A[1],y=(0,l.useState)(!1),C=(0,o.Z)(y,2),I=C[0],E=C[1],R=(0,l.useState)(!1),w=(0,o.Z)(R,2),P=w[0],T=w[1],k=(0,l.useRef)(""),D=(0,l.useRef)(""),L=(0,l.useState)(""),M=(0,o.Z)(L,2),O=M[0],F=M[1],q=(0,c.zA)(),H=(0,o.Z)(q,1)[0];(0,l.useEffect)((function(){if(v){var e=[],n=[];for(var t in v)for(var i in v[t])"type"===i&&(v[t][i].includes("image/")?e.push(URL.createObjectURL(v[t])):n.push({name:v[t].name}));Z(e),b(n)}}),[v]);var B=document.querySelector("textarea");null===B||void 0===B||B.addEventListener("keyup",(function(e){B.style.height="auto";var n=e.target.scrollHeight;B.style.height="".concat(n,"px")}));return(0,_.jsxs)("div",{children:[(0,_.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,_.jsx)("h6",{children:s("new_announcement")}),(0,_.jsx)("img",{src:"/images/close-post-icon.svg",onClick:i,alt:"close icon",style:{cursor:"pointer"}})]}),(0,_.jsx)(u.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,_.jsx)(f.Z,{labelHeading:s("turn_announcement_private_only"),customContainer:{padding:"0"},customLabel:{fontWeight:"500"},checkedToggle:I,onToggleHandler:function(e){E(e.target.checked)}}),(0,_.jsxs)("div",{className:m.Z.postTitle,children:[(0,_.jsx)("input",{className:m.Z.input,type:"text",ref:k,required:!0,placeholder:s("title_announce")}),O.title_val&&(0,_.jsx)("div",{style:{color:"red"},children:"* announcement title required"})]}),(0,_.jsx)("div",{className:m.Z.postDesc,children:(0,_.jsx)("textarea",{className:m.Z.postTextarea,rows:"3",type:"text",required:!0,ref:D,name:"CreateInsPost",placeholder:s("description"),style:{border:"0.5px solid rgba(18, 18, 18, 0.3)",borderRadius:"6px"}})}),(0,_.jsxs)("div",{className:m.Z.listContainer,children:[j.length>0&&(0,_.jsx)("div",{className:m.Z.documentList,children:j.map((function(e,n){return(0,_.jsx)("img",{src:e,alt:""},n)}))}),N.length>0&&(0,_.jsx)("div",{className:m.Z.pdfList,children:N.map((function(e,n){return(0,_.jsxs)("div",{className:m.Z.pdfPreview,children:[(0,_.jsx)("img",{src:"/images/pdf-icon.png",alt:""},n),(0,_.jsx)("p",{children:e.name})]})}))})]}),(0,_.jsx)("label",{htmlFor:"document",style:{cursor:"pointer"},children:(0,_.jsx)("p",{className:m.Z.addfiles,children:s("add_files")})}),(0,_.jsx)("input",{className:m.Z.upload,multiple:!0,id:"document",name:"file",onChange:function(e){p(e.target.files)},type:"file",accept:"image/gif, image/jpeg, image/png,  application/pdf, application/msword"}),(0,_.jsxs)("button",{className:m.Z.btn,disabled:P,onClick:function(){if(k.current.value){T(!0);var e=new FormData;e.append("insAnnTitle",k.current.value),e.append("insAnnDescription",D.current.value),e.append("insAnnVisibility",I?"Private":"Anyone");var o=0;for(var l in v)v[l].size&&(e.append("file".concat(o+1),v[l]),++o);e.append("announceCount",o),H({hid:n,announcement:e}).then((function(){t(),i(),k.current.value="",D.current.value="",T(!1)})).catch({})}else F({title_val:"*required"})},style:{marginTop:"0"},children:[(0,_.jsx)("p",{children:s("post")}),P&&(0,_.jsx)("div",{children:(0,_.jsx)(h.Z,{})})]})]})},x=function(e){var n,t,m,h,f=e.hid,x=(e.carryParentState,(0,a.$G)().t),j=(0,d.TH)(),Z=(0,l.useState)(!1),S=(0,o.Z)(Z,2),A=S[0],N=S[1],b=(0,s.YD)(),y=(0,o.Z)(b,2),C=y[0],I=y[1],E=(0,l.useState)(1),R=(0,o.Z)(E,2),w=R[0],P=R[1],T=(0,l.useState)(!0),k=(0,o.Z)(T,2),D=k[0],L=k[1],M=(0,l.useState)(!0),O=(0,o.Z)(M,2),F=O[0],q=O[1],H=(0,l.useState)([]),B=(0,o.Z)(H,2),U=B[0],G=B[1],W=(0,l.useState)(!1),V=(0,o.Z)(W,2),J=V[0],$=V[1],Y=(0,c.Xc)({data:{hid:null!==f&&void 0!==f?f:null===(n=j.state)||void 0===n?void 0:n.hid,page:w,limit:10},skip:f?!f:!(null!==(t=j.state)&&void 0!==t&&t.hid)}),K=Y.getAnnouncementListByHostel,Q=Y.getAnnouncementListByHostelRefetch;(0,l.useEffect)((function(){var e;(f||null!==(e=j.state)&&void 0!==e&&e.hid)&&(q(!0),Q())}),[f,null===(m=j.state)||void 0===m?void 0:m.hid,w,Q]),(0,l.useEffect)((function(){I&&D&&P((function(e){return e+1}))}),[I,D]),(0,l.useEffect)((function(){var e,n;J?(G(null===K||void 0===K?void 0:K.announcement),q(!1),$(!1)):null!==K&&void 0!==K&&K.announcement?(G((function(e){var n,t;return null===(n=(0,i.Z)(new Set(null===(t=[].concat((0,i.Z)(e),(0,i.Z)(null===K||void 0===K?void 0:K.announcement)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),q(!1)):0===(null===K||void 0===K||null===(n=K.announcement)||void 0===n?void 0:n.length)&&q(!1);10===(null===K||void 0===K||null===(e=K.announcement)||void 0===e?void 0:e.length)?L(!0):L(!1)}),[null===K||void 0===K?void 0:K.announcement]);var z=function(){N((function(e){return!e}))};return(0,_.jsxs)(_.Fragment,{children:[!A&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:v.Z.with_search,children:(0,_.jsx)("h6",{children:x("hostel_announcement")})}),(0,_.jsx)(u.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),"HOSTEL_UNIT_TAB"===(null===(h=j.state)||void 0===h?void 0:h.viewNotice)?"":(0,_.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,_.jsx)("p",{className:v.Z.add_new_category,onClick:z,children:x("create_new_announcement")})}),null===U||void 0===U?void 0:U.map((function(e,n){return(null===U||void 0===U?void 0:U.length)===n+1?(0,_.jsx)("div",{ref:C,children:(0,_.jsx)(p,{announcement:e})},null===e||void 0===e?void 0:e._id):(0,_.jsx)(p,{announcement:e},null===e||void 0===e?void 0:e._id)})),F&&(0,_.jsx)(r.Z,{})]}),A&&(0,_.jsx)(g,{onClose:z,hid:f,onRefetch:function(){P(1),$(!0),q(!0),Q()}})]})}},72441:function(e,n,t){t.r(n);var i=t(29439),o=t(72791),l=t(39230),a=t(87338),s=t(98734),d=t(36665),c=t(87457),r=t(80184);n.default=function(e){var n=e.onClose,t=e.onRefetchWhenSelect,u=e.applicationId,v=e.studentId,_=e.viewAs,p=(0,l.$G)().t,m=(0,o.useState)(!1),h=(0,i.Z)(m,2),f=h[0],g=h[1],x=(0,a.QC)(),j=(0,i.Z)(x,1)[0],Z=(0,a.xp)(),S=(0,i.Z)(Z,1)[0];return(0,r.jsx)(d.Z,{onClose:n,children:(0,r.jsxs)("div",{className:c.Z.add_category_modal,style:{width:"23rem",height:"10rem"},children:[(0,r.jsxs)("div",{className:c.Z.add_category_modal_title,children:[(0,r.jsx)("h6",{children:p("RENEWAL"===_?"cancl_student_renewal_request":"cancel_student_hostel_request")}),(0,r.jsx)("img",{src:"/images/close-post-icon.svg",onClick:n,alt:"close"})]}),(0,r.jsx)("button",{className:c.Z.set_fees_structure_btn,title:"Cancel Request",onClick:function(){""!==v&&""!==u&&(g((function(e){return!e})),"RENEWAL"===_?S({sid:v,huid:u}).then((function(){t(),n(),g((function(e){return!e}))})).catch({}):j({sid:v,aid:u}).then((function(){t(),n(),g((function(e){return!e}))})).catch({}))},style:{justifyContent:"center",marginTop:"4rem"},children:p("confirm")}),f&&(0,r.jsx)(s.Z,{})]})})}},34791:function(e,n,t){t.d(n,{Z:function(){return Re}});var i=t(1413),o=t(72791),l=t(39230),a=t(16871),s=t(98094),d=t(47167),c=t(10406),r=t(93433),u=t(29439),v=t(23441),_=t(87338),p=t(11105),m="CompletedApplication_remainingFeesBottom__i9hlV",h="CompletedApplication_itemsContainer__UgcIF",f="CompletedApplication_item__RNB9g",g="CompletedApplication_subItem__zVdCT",x="CompletedApplication_text__deTcX",j=t(22492),Z=t(55271),S=t(80184),A=function(e){var n,t,o,a,s=e.carryParentState,d=e.accessRole,c=e.accessTpye,r=e.callApi,u=e.pageOpenAs,v=e.data,_=(0,l.$G)().t;return(0,S.jsx)(S.Fragment,{children:"INSTITUTE"===u?(0,S.jsx)(j.Z,{carryParentState:(0,i.Z)((0,i.Z)({},s),{},{applicationId:null===v||void 0===v?void 0:v._id}),activeTab:"request&ongoing&n=application",children:(0,S.jsxs)("div",{className:f,children:[(0,S.jsxs)("div",{className:g,children:[(0,S.jsx)("img",{alt:"Completed App",src:"/images/admision-application-icon.svg"}),(0,S.jsxs)("div",{className:x,children:[(0,S.jsx)("h6",{children:null===v||void 0===v?void 0:v.applicationName}),(0,S.jsx)("p",{style:{marginBottom:"0"},children:null!==(n=null===v||void 0===v||null===(t=v.applicationUnit)||void 0===t?void 0:t.hostel_unit_name)&&void 0!==n?n:""})]})]}),(0,S.jsx)("div",{className:x,children:(0,S.jsxs)("div",{className:x,children:[(0,S.jsx)("h6",{children:null===v||void 0===v?void 0:v.allotCount}),(0,S.jsx)("p",{style:{marginBottom:"0"},children:_("alloted")})]})})]})}):(0,S.jsx)(Z.Z,{carryParentState:(0,i.Z)((0,i.Z)({},s),{},{applicationId:null===v||void 0===v?void 0:v._id}),activeTab:"request&ongoing&n=application",accessRole:d,accessTpye:c,callApi:r,children:(0,S.jsxs)("div",{className:f,children:[(0,S.jsxs)("div",{className:g,children:[(0,S.jsx)("img",{alt:"Completed App",src:"/images/admision-application-icon.svg"}),(0,S.jsxs)("div",{className:x,children:[(0,S.jsx)("h6",{children:null===v||void 0===v?void 0:v.applicationName}),(0,S.jsx)("p",{style:{marginBottom:"0"},children:null!==(o=null===v||void 0===v||null===(a=v.applicationUnit)||void 0===a?void 0:a.hostel_unit_name)&&void 0!==o?o:""})]})]}),(0,S.jsx)("div",{className:x,children:(0,S.jsxs)("div",{className:x,children:[(0,S.jsx)("h6",{children:null===v||void 0===v?void 0:v.allotCount}),(0,S.jsx)("p",{style:{marginBottom:"0"},children:_("alloted")})]})})]})})})},N=t(65543),b=function(e){var n=e.hid,t=e.carryParentState,i=e.accessRole,l=e.accessApplication,a=e.accessTpye,s=e.callApi,d=e.pageOpenAs,c=(0,o.useState)(!0),f=(0,u.Z)(c,2),g=f[0],x=f[1],j=(0,o.useState)(1),Z=(0,u.Z)(j,2),b=Z[0],y=Z[1],C=(0,v.YD)(),I=(0,u.Z)(C,2),E=I[0],R=I[1],w=(0,o.useState)(!0),P=(0,u.Z)(w,2),T=P[0],k=P[1],D=(0,o.useState)([]),L=(0,u.Z)(D,2),M=L[0],O=L[1],F=(0,N.u)().scrollToTop,q=(0,_.KB)({data:{hid:n,page:b,limit:10},skip:!n}),H=q.getCompletedApplicationList,B=q.getCompletedApplicationListRefetch;return(0,o.useEffect)((function(){F()}),[]),(0,o.useEffect)((function(){R&&g&&y((function(e){return e+1}))}),[R,g]),(0,o.useEffect)((function(){n&&(k(!0),B())}),[b,n,B]),(0,o.useEffect)((function(){var e,n;null!==H&&void 0!==H&&H.completed?(O((function(e){var n,t;return null===(n=(0,r.Z)(new Set(null===(t=[].concat((0,r.Z)(e),(0,r.Z)(null===H||void 0===H?void 0:H.completed)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),k(!1)):0===(null===H||void 0===H||null===(e=H.completed)||void 0===e?void 0:e.length)&&k(!1),10===(null===H||void 0===H||null===(n=H.completed)||void 0===n?void 0:n.length)?x(!0):x(!1)}),[null===H||void 0===H?void 0:H.completed]),(0,S.jsx)(S.Fragment,{children:(0,S.jsx)("div",{className:m,children:(0,S.jsxs)("div",{className:h,children:[null===M||void 0===M?void 0:M.map((function(e,n){return(null===M||void 0===M?void 0:M.length)===n+1?(0,S.jsx)("div",{ref:E,children:(0,S.jsx)(A,{data:e,carryParentState:t,accessRole:i,accessTpye:a,callApi:s,accessApplication:l,pageOpenAs:d})},n):(0,S.jsx)(A,{data:e,carryParentState:t,accessRole:i,accessTpye:a,callApi:s,accessApplication:l,pageOpenAs:d},n)})),T&&(0,S.jsx)(p.Z,{})]})})})},y=t(29017),C=t(85753),I=t(5574),E=t(36721),R=t(98734),w=t(9490);var P=function(e){var n,t,s,d,c,r,v,p,m,h,f,g,x,j,Z,A,N,b=e.viewDetail,P=e.hideModal,T=e.applicationDetail,k=e.completeApplication,D=e.carryParentState,L=e.applicationDetailApplicablePending,M=e.pageOpenAs,O=(0,l.$G)().t,F=new Date,q=(0,a.s0)(),H=(0,a.UO)(),B=(0,o.useState)(!1),U=(0,u.Z)(B,2),G=U[0],W=U[1],V=(0,o.useState)({msg:"",run:!1}),J=(0,u.Z)(V,2),$=J[0],Y=J[1],K=(0,o.useState)(!1),Q=(0,u.Z)(K,2),z=Q[0],X=Q[1],ee=(0,o.useState)(null===(n=F.toISOString())||void 0===n?void 0:n.substring(0,10)),ne=(0,u.Z)(ee,2),te=ne[0],ie=ne[1],oe=(0,_.gv)(),le=(0,u.Z)(oe,1)[0],ae=(0,y.Ts)({data:{appId:null===T||void 0===T?void 0:T._id,valid_date:te},skip:!(null!==T&&void 0!==T&&T._id)}),se=ae.getDailyCollectionByAdmission,de=ae.getDailyCollectionByAdmissionRefetch;(0,o.useEffect)((function(){null!==T&&void 0!==T&&T._id&&de()}),[null===T||void 0===T?void 0:T._id,de,te]);var ce=function(){W((function(e){return!e})),null!==T&&void 0!==T&&T._id?le({aid:null===T||void 0===T?void 0:T._id}).then((function(e){var n;null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.complete_status?(W((function(e){return!e})),P(!1),q("/q/".concat(H.username,"INSTITUTE"===M?"/hostel":"/member/hostel"),{state:(0,i.Z)({},D)})):(Y({msg:null===e||void 0===e?void 0:e.data.message,run:!0}),W((function(e){return!e})))})).catch({}):W((function(e){return!e}))};return(0,S.jsxs)(I.Z,{open:b,onClose:function(){return P(!1)},children:[(0,S.jsxs)("div",{className:C.Z.addDisplay,children:[(0,S.jsxs)("div",{className:C.Z.title,children:[(0,S.jsx)("div",{}),(0,S.jsx)("h6",{style:{cursor:"pointer"},onClick:function(){return X((function(e){return!e}))},children:null===T||void 0===T?void 0:T.applicationName}),(0,S.jsx)("img",{src:"/images/close-post-icon.svg",onClick:function(){return P(!1)},alt:""})]}),(0,S.jsxs)("div",{className:C.Z.content,children:[(0,S.jsx)("div",{style:{padding:"1rem"},children:(0,S.jsx)(w.Z,{setValidDate:ie})}),k&&!z&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:C.Z.content2,children:[(0,S.jsxs)("div",{className:C.Z.appinforow,children:[(0,S.jsx)("h6",{children:O("total_received_application")}),(0,S.jsx)("h6",{children:null!==(t=null===se||void 0===se||null===(s=se.day_wise)||void 0===s?void 0:s.request_count)&&void 0!==t?t:0})]}),(0,S.jsxs)("div",{className:C.Z.appinforow,children:[(0,S.jsx)("h6",{children:O("total_selected_application")}),(0,S.jsx)("h6",{children:null!==(d=null===se||void 0===se||null===(c=se.day_wise)||void 0===c?void 0:c.select_count)&&void 0!==d?d:0})]}),(0,S.jsxs)("div",{className:C.Z.appinforow,children:[(0,S.jsx)("h6",{children:O("total_confirmed_application")}),(0,S.jsx)("h6",{children:null!==(r=null===se||void 0===se||null===(v=se.day_wise)||void 0===v?void 0:v.confirm_count)&&void 0!==r?r:0})]}),(0,S.jsxs)("div",{className:C.Z.appinforow,children:[(0,S.jsx)("h6",{children:O("total_alloted_application")}),(0,S.jsxs)("h6",{children:[" ",null!==(p=null===se||void 0===se||null===(m=se.day_wise)||void 0===m?void 0:m.allot_count)&&void 0!==p?p:0]})]}),(0,S.jsxs)("div",{className:C.Z.appinforow,children:[(0,S.jsx)("h6",{children:O("total_cancelled_application")}),(0,S.jsxs)("h6",{children:[" ",null!==(h=null===se||void 0===se||null===(f=se.day_wise)||void 0===f?void 0:f.cancel_count)&&void 0!==h?h:0]})]})]}),(0,S.jsxs)("div",{className:C.Z.content3,children:[(0,S.jsxs)("div",{className:C.Z.appinforow1,children:[(0,S.jsx)("h6",{children:O("total_fees_received")}),(0,S.jsxs)("h6",{children:["Rs. ",null!==(g=null===se||void 0===se||null===(x=se.day_wise)||void 0===x?void 0:x.paid)&&void 0!==g?g:0]})]}),(0,S.jsxs)("div",{className:"".concat(C.Z.appinforow2," ").concat(C.Z.appinforowred),children:[(0,S.jsx)("h6",{children:O("total_fees_pending")}),(0,S.jsxs)("h6",{children:["Rs. ",null!==(j=null===se||void 0===se||null===(Z=se.day_wise)||void 0===Z?void 0:Z.remain)&&void 0!==j?j:0]})]}),(0,S.jsxs)("div",{className:"".concat(C.Z.appinforow2," ").concat(C.Z.appinforowred),children:[(0,S.jsx)("h6",{children:O("total_applicable_fees_pending")}),(0,S.jsxs)("h6",{children:["Rs."," ",null!==(A=null===se||void 0===se||null===(N=se.day_wise)||void 0===N?void 0:N.applicable_pending)&&void 0!==A?A:0]})]}),(0,S.jsx)("div",{className:C.Z.completeApplicationcontainer,children:(0,S.jsx)("div",{className:C.Z.completeApplication,onClick:ce,children:O("complete_application")})})]})]}),k&&z&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:C.Z.content2,children:[(0,S.jsxs)("div",{className:C.Z.appinforow,children:[(0,S.jsx)("h6",{children:O("total_received_application")}),(0,S.jsx)("h6",{children:null===T||void 0===T?void 0:T.receievedCount})]}),(0,S.jsxs)("div",{className:C.Z.appinforow,children:[(0,S.jsx)("h6",{children:O("total_selected_application")}),(0,S.jsx)("h6",{children:null===T||void 0===T?void 0:T.selectCount})]}),(0,S.jsxs)("div",{className:C.Z.appinforow,children:[(0,S.jsx)("h6",{children:O("total_confirmed_application")}),(0,S.jsx)("h6",{children:null===T||void 0===T?void 0:T.confirmCount})]}),(0,S.jsxs)("div",{className:C.Z.appinforow,children:[(0,S.jsx)("h6",{children:O("total_alloted_application")}),(0,S.jsx)("h6",{children:null===T||void 0===T?void 0:T.allotCount})]}),(0,S.jsxs)("div",{className:C.Z.appinforow,children:[(0,S.jsx)("h6",{children:O("total_cancelled_application")}),(0,S.jsx)("h6",{children:null===T||void 0===T?void 0:T.cancelCount})]})]}),(0,S.jsxs)("div",{className:C.Z.content3,children:[(0,S.jsxs)("div",{className:C.Z.appinforow1,children:[(0,S.jsx)("h6",{children:O("total_fees_received")}),(0,S.jsxs)("h6",{children:["Rs. ",null===T||void 0===T?void 0:T.collectedFeeCount]})]}),(0,S.jsxs)("div",{className:"".concat(C.Z.appinforow2," ").concat(C.Z.appinforowred),children:[(0,S.jsx)("h6",{children:O("total_fees_pending")}),(0,S.jsxs)("h6",{children:["Rs. ",null===T||void 0===T?void 0:T.remainingFee]})]}),(0,S.jsxs)("div",{className:"".concat(C.Z.appinforow2," ").concat(C.Z.appinforowred),children:[(0,S.jsx)("h6",{children:O("total_applicable_fees_pending")}),(0,S.jsxs)("h6",{children:["Rs. ",null!==L&&void 0!==L?L:0]})]}),(0,S.jsx)("div",{className:C.Z.completeApplicationcontainer,children:(0,S.jsx)("div",{className:C.Z.completeApplication,onClick:ce,children:O("complete_application")})})]})]})]})]}),G&&(0,S.jsx)(R.Z,{}),(0,S.jsx)(E.Ch,{msg:$.msg,run:$.run,setRun:function(){return Y({msg:"",run:!1})},postiton:"bottom",type:"error"})]})},T=["Request_Query","Confirm_Query","Allot_Query"],k=function(e){var n,t,l=e.applicationDetail,d=e.carryParentState,r=e.unitName,v=e.tabStatusFlow,p=e.applicationDetailApplicablePending,m=e.pageOpenAs,h=e.children,f=(0,a.s0)(),g=(0,a.UO)(),x=(0,o.useState)(!1),j=(0,u.Z)(x,2),Z=j[0],A=j[1],N=(0,o.useState)({msg:"",run:!1}),b=(0,u.Z)(N,2),y=b[0],C=b[1],I=(0,o.useState)(!1),w=(0,u.Z)(I,2),k=w[0],D=w[1],L=(0,_.Y$)(),M=(0,u.Z)(L,1)[0];return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("section",{className:c.Z.moderator_container_title,children:[(0,S.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){f("/q/".concat(g.username,"INSTITUTE"===m?"/hostel?a=request":"/member/hostel?a=request"),{state:(0,i.Z)({},d)})},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,S.jsxs)("div",{className:c.Z.with_search,children:[(0,S.jsx)("h6",{children:null!==(n=null!==(t=null===l||void 0===l?void 0:l.applicationName)&&void 0!==t?t:r)&&void 0!==n?n:""}),(0,S.jsxs)("div",{className:c.Z.search_container_filter,children:[(0,S.jsx)("section",{className:c.Z.search_container,children:(0,S.jsxs)("div",{className:c.Z.search_container_input,children:[(0,S.jsx)("img",{className:c.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),h]})}),!r&&(0,S.jsx)("img",{style:{height:"2.2rem",cursor:"pointer"},onClick:function(){return A(!0)},src:"/images/application_info.svg",alt:""}),T.includes(v)?(0,S.jsx)("img",{style:{height:"2.2rem",cursor:"pointer"},onClick:function(){null!==l&&void 0!==l&&l._id&&v&&(D((function(e){return!e})),M({appId:null===l||void 0===l?void 0:l._id,flow:v}).then((function(e){var n;C({msg:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message,run:!0}),setTimeout((function(){f("/q/".concat(g.username,"INSTITUTE"===m?"/hostel?a=export":"/member/hostel?a=export"),{state:d})}),1e3)})).catch({}))},src:"/images/member_tab/finance/finance-export-icon.svg",alt:""}):null]})]})]}),(0,S.jsx)(s.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),Z&&(0,S.jsx)(P,{completeApplication:!0,viewDetail:Z,applicationDetail:l,hideModal:A,carryParentState:d,applicationDetailApplicablePending:p,pageOpenAs:m}),k&&(0,S.jsx)(R.Z,{}),(0,S.jsx)(E.Ch,{msg:y.msg,run:y.run,setRun:function(){return C({msg:"",run:!1})},postiton:"bottom",type:"success"})]})},D=t(763),L=t(15961),M=t(72426),O=t.n(M),F=t(69721),q=t(35395),H=t(82224),B=o.lazy((function(){return Promise.resolve().then(t.bind(t,72441))})),U=function(e){var n,t,i,s,d,c,r,v,p,m,h,f,g,x,j,Z,A=e.applicant,N=e.onRefetchWhenSelect,b=e.applicationId,y=e.hostelId,C=e.batchId,I=e.classMasterId,E=(0,l.$G)().t,w=(0,a.UO)(),P=(0,a.s0)(),T=(0,o.useState)(!1),k=(0,u.Z)(T,2),D=k[0],M=k[1],U=(0,o.useState)(!1),G=(0,u.Z)(U,2),W=G[0],V=G[1],J=(0,o.useState)(!1),$=(0,u.Z)(J,2),Y=$[0],K=$[1],Q=(0,_.KR)(),z=(0,u.Z)(Q,1)[0];return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_container,onClick:function(){var e;P("/q/".concat(w.username,"/student/profile"),{state:{sid:null===A||void 0===A||null===(e=A.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_inner,children:[(0,S.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===A||void 0===A||null===(n=A.student)||void 0===n?void 0:n.photoId)?"".concat(F.yI,"/").concat(null===A||void 0===A||null===(t=A.student)||void 0===t?void 0:t.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,S.jsxs)("div",{className:L.Z.applicant_card_inner_info,children:[(0,S.jsx)("h6",{children:"".concat(null===A||void 0===A||null===(i=A.student)||void 0===i?void 0:i.studentFirstName," ").concat(null!==A&&void 0!==A&&null!==(s=A.student)&&void 0!==s&&s.studentMiddleName?null===A||void 0===A||null===(d=A.student)||void 0===d?void 0:d.studentMiddleName:""," ").concat(null===A||void 0===A||null===(c=A.student)||void 0===c?void 0:c.studentLastName)}),(0,S.jsxs)("p",{children:[E("applied_on"),":"," ",O()(null===A||void 0===A?void 0:A.apply_on).format("DD MMM yyyy")]})]})]}),(0,S.jsxs)("div",{className:L.Z.applicant_card_contact,children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_contact_inner,children:[(0,S.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,S.jsx)("p",{children:null===A||void 0===A||null===(r=A.student)||void 0===r?void 0:r.studentGender})]}),((null===A||void 0===A||null===(v=A.student)||void 0===v?void 0:v.studentPhoneNumber)||(null===A||void 0===A||null===(p=A.student)||void 0===p?void 0:p.studentParentsPhoneNumber))&&(0,S.jsxs)("div",{className:L.Z.applicant_card_contact_inner,children:[(0,S.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,S.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==A&&void 0!==A&&null!==(m=A.student)&&void 0!==m&&m.studentPhoneNumber?null===A||void 0===A||null===(h=A.student)||void 0===h?void 0:h.studentPhoneNumber:null===A||void 0===A||null===(f=A.student)||void 0===f?void 0:f.studentParentsPhoneNumber})]})]}),(0,S.jsx)("div",{className:L.Z.applicant_card_reciept,onClick:function(e){e.stopPropagation()},children:(0,S.jsx)("a",{href:"".concat(F.r3,"/").concat(null===A||void 0===A||null===(g=A.student)||void 0===g||null===(x=g.application_print)||void 0===x||null===(j=x[0])||void 0===j?void 0:j.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,S.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,S.jsxs)("div",{className:L.Z.application_button,children:[(0,S.jsx)("div",{className:L.Z.selectAppBtnContainer,onClick:function(e){e.stopPropagation(),V(!0)},children:(0,S.jsx)("div",{className:L.Z.selectBtn,children:E("select")})}),(0,S.jsx)("div",{className:L.Z.selectAppBtnContainer,onClick:function(e){e.stopPropagation(),M((function(e){return!e}))},children:(0,S.jsx)("div",{className:L.Z.cancelledBtn,children:E("reject")})})]})]}),(0,S.jsx)(q.Z,{children:D&&(0,S.jsx)(B,{studentId:null===A||void 0===A||null===(Z=A.student)||void 0===Z?void 0:Z._id,applicationId:b,onClose:function(){return M((function(e){return!e}))},onRefetchWhenSelect:N})}),W&&(0,S.jsx)(H.Z,{hostelId:y,onClose:function(){return V((function(e){return!e}))},onSelectedStudent:function(e){var n,t;""!==(null===A||void 0===A||null===(n=A.student)||void 0===n?void 0:n._id)&&""!==b&&(K((function(e){return!e})),z({sid:null===A||void 0===A||null===(t=A.student)||void 0===t?void 0:t._id,aid:b,selectApplicant:e}).then((function(){N(),K((function(e){return!e}))})).catch((function(){K((function(e){return!e}))})))},batchId:null!==C&&void 0!==C?C:"",classMasterId:null!==I&&void 0!==I?I:""}),Y&&(0,S.jsx)(R.Z,{})]})},G=function(e){var n,t,i,o,c=e.carryParentState,r=e.accessRole,u=e.accessTpye,v=e.pageOpenAs,_=(0,l.$G)().t,p=(0,a.TH)(),m=[{name:_("application"),id:0,url:"member/hostel?a=request&ongoing&n=application",is_active:["MULTI_APP_ACCESS"].includes(r)||!r?"enabled":["ONE_TAB_ACCESS"].includes(r)?"Application"===u?"enabled":"disabled":"enabled"},{name:_("selected"),id:1,url:"member/hostel?a=request&ongoing&n=select",is_active:["MULTI_APP_ACCESS"].includes(r)||!r?"enabled":["ONE_TAB_ACCESS"].includes(r)?"Selected"===u?"enabled":"disabled":"enabled"},{name:_("confirmed"),id:2,url:"member/hostel?a=request&ongoing&n=confirm",is_active:["MULTI_APP_ACCESS"].includes(r)||!r?"enabled":["ONE_TAB_ACCESS"].includes(r)?"Confirmed"===u?"enabled":"disabled":"enabled"},{name:_("allotted"),id:3,url:"member/hostel?a=request&ongoing&n=allot",is_active:["MULTI_APP_ACCESS"].includes(r)||!r?"enabled":["ONE_TAB_ACCESS"].includes(r)?"Allotted"===u?"enabled":"disabled":"enabled"},{name:_("cancelled"),id:4,url:"member/hostel?a=request&ongoing&n=cancel",is_active:["MULTI_APP_ACCESS"].includes(r)||!r?"enabled":["ONE_TAB_ACCESS"].includes(r)?"Cancelled"===u?"enabled":"disabled":"enabled"}],h=[{name:_("application"),id:0,url:"hostel?a=request&ongoing&n=application",is_active:"enabled"},{name:_("selected"),id:1,url:"hostel?a=request&ongoing&n=select",is_active:"enabled"},{name:_("confirmed"),id:2,url:"hostel?a=request&ongoing&n=confirm",is_active:"enabled"},{name:_("allotted"),id:3,url:"hostel?a=request&ongoing&n=allot",is_active:"enabled"},{name:_("cancelled"),id:4,url:"hostel?a=request&ongoing&n=cancel",is_active:"enabled"}];return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(d.Z,{tabList:"INSTITUTE"===v?h:m,activeIndexTab:"application"===(null===(n=p.search)||void 0===n?void 0:n.substring(21))?0:"select"===(null===(t=p.search)||void 0===t?void 0:t.substring(21))?1:"confirm"===(null===(i=p.search)||void 0===i?void 0:i.substring(21))?2:"allot"===(null===(o=p.search)||void 0===o?void 0:o.substring(21))?3:4,showAs:!0,customStyleTab:{width:"100%"},customStyleLink:{width:"20%"},carryParentState:c}),(0,S.jsx)(s.Z,{customStyle:{width:"100%"}})]})};var W=function(e){var n=e.carryParentState,t=e.applicationId,i=e.hostelId,l=e.applicationDetail,a=e.accessRole,s=e.accessTpye,d=e.applicationDetailApplicablePending,c=e.pageOpenAs,_=(0,o.useState)(!0),m=(0,u.Z)(_,2),h=m[0],f=m[1],g=(0,o.useState)(1),x=(0,u.Z)(g,2),j=x[0],Z=x[1],A=(0,o.useState)(""),N=(0,u.Z)(A,2),b=N[0],C=N[1],I=(0,v.YD)(),E=(0,u.Z)(I,2),R=E[0],w=E[1],P=(0,o.useState)([]),T=(0,u.Z)(P,2),L=T[0],M=T[1],O=(0,o.useState)(!1),F=(0,u.Z)(O,2),q=F[0],H=F[1],B=(0,o.useState)(!0),W=(0,u.Z)(B,2),V=W[0],J=W[1],$=(0,y.jG)({data:{id:t,page:j,limit:10,search:b||""},skip:!t}),Y=$.getAllRequestList,K=$.getAllRequestListRefetch;(0,o.useEffect)((function(){w&&h&&Z((function(e){return e+1}))}),[w,h]),(0,o.useEffect)((function(){t&&(J(!0),K())}),[j,t,K,b]),(0,o.useEffect)((function(){var e,n;b?(M(null===Y||void 0===Y?void 0:Y.request),J(!1)):q?(M(null===Y||void 0===Y?void 0:Y.request),H(!1),J(!1)):null!==Y&&void 0!==Y&&Y.request?(M((function(e){var n,t;return null===(n=(0,r.Z)(new Set(null===(t=[].concat((0,r.Z)(e),(0,r.Z)(null===Y||void 0===Y?void 0:Y.request)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),J(!1)):0===(null===Y||void 0===Y||null===(n=Y.request)||void 0===n?void 0:n.length)&&J(!1);10===(null===Y||void 0===Y||null===(e=Y.request)||void 0===e?void 0:e.length)?f(!0):f(!1)}),[null===Y||void 0===Y?void 0:Y.request]);var Q=function(){Z(1),K(),H(!0)},z=(0,o.useCallback)((0,D.debounce)((function(e){return C(e)}),500),[]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(k,{applicationDetail:l,carryParentState:n,tabStatusFlow:"Request_Query",applicationDetailApplicablePending:d,pageOpenAs:c,children:(0,S.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:function(e){z(e.target.value)}})}),(0,S.jsx)(G,{carryParentState:n,accessRole:a,accessTpye:s,pageOpenAs:c}),null===L||void 0===L?void 0:L.map((function(e,n){var o,a;return(null===L||void 0===L?void 0:L.length)===n+1?(0,S.jsx)("div",{ref:R,children:(0,S.jsx)(U,{applicant:e,onRefetchWhenSelect:Q,applicationId:t,hostelId:i,batchId:null===l||void 0===l||null===(o=l.applicationBatch)||void 0===o?void 0:o._id,classMasterId:null===l||void 0===l?void 0:l.applicationMaster})},n):(0,S.jsx)(U,{applicant:e,onRefetchWhenSelect:Q,applicationId:t,hostelId:i,batchId:null===l||void 0===l||null===(a=l.applicationBatch)||void 0===a?void 0:a._id,classMasterId:null===l||void 0===l?void 0:l.applicationMaster},n)})),V&&(0,S.jsx)(p.Z,{})]})},V=function(e){var n,t,i,o,s,d,c,r,u,v,_,p,m,h,f,g,x,j,Z,A,N,b,y,C,I=e.onSelectOffileFees,E=e.applicant,R=(0,l.$G)().t,w=(0,a.UO)(),P=(0,a.s0)();return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)("div",{className:L.Z.applicant_card_container,onClick:function(){var e;P("/q/".concat(w.username,"/student/profile"),{state:{sid:null===E||void 0===E||null===(e=E.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_inner,children:[(0,S.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===E||void 0===E||null===(n=E.student)||void 0===n?void 0:n.photoId)?"".concat(F.yI,"/").concat(null===E||void 0===E||null===(t=E.student)||void 0===t?void 0:t.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,S.jsxs)("div",{className:L.Z.applicant_card_inner_info,children:[(0,S.jsx)("h6",{children:"".concat(null===E||void 0===E||null===(i=E.student)||void 0===i?void 0:i.studentFirstName," ").concat(null!==E&&void 0!==E&&null!==(o=E.student)&&void 0!==o&&o.studentMiddleName?null===E||void 0===E||null===(s=E.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null===E||void 0===E||null===(d=E.student)||void 0===d?void 0:d.studentLastName)}),(0,S.jsxs)("h6",{children:[R("fee_structure")," : ",null!==(c=null===E||void 0===E||null===(r=E.student)||void 0===r||null===(u=r.hostel_fee_structure)||void 0===u||null===(v=u.category_master)||void 0===v?void 0:v.category_name)&&void 0!==c?c:"",", ",R("rs")," ",null!==(_=null===E||void 0===E||null===(p=E.student)||void 0===p||null===(m=p.hostel_fee_structure)||void 0===m?void 0:m.total_admission_fees)&&void 0!==_?_:""]}),(0,S.jsx)("p",{children:null!==E&&void 0!==E&&E.install_type?null===E||void 0===E?void 0:E.install_type:"\n              ".concat(R("select_on"),":\n              ").concat(O()(null===E||void 0===E?void 0:E.select_on).format("DD MMM yyyy"))})]})]}),(0,S.jsxs)("div",{className:L.Z.applicant_card_contact,children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_contact_inner,children:[(0,S.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,S.jsx)("p",{children:null===E||void 0===E||null===(h=E.student)||void 0===h?void 0:h.studentGender})]}),((null===E||void 0===E||null===(f=E.student)||void 0===f?void 0:f.studentPhoneNumber)||(null===E||void 0===E||null===(g=E.student)||void 0===g?void 0:g.studentParentsPhoneNumber))&&(0,S.jsxs)("div",{className:L.Z.applicant_card_contact_inner,children:[(0,S.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,S.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==E&&void 0!==E&&null!==(x=E.student)&&void 0!==x&&x.studentPhoneNumber?null===E||void 0===E||null===(j=E.student)||void 0===j?void 0:j.studentPhoneNumber:null===E||void 0===E||null===(Z=E.student)||void 0===Z?void 0:Z.studentParentsPhoneNumber})]})]}),(0,S.jsx)("div",{className:L.Z.applicant_card_reciept,onClick:function(e){e.stopPropagation()},children:(0,S.jsx)("a",{href:"".concat(F.r3,"/").concat(null===E||void 0===E||null===(A=E.student)||void 0===A||null===(N=A.application_print)||void 0===N||null===(b=N[0])||void 0===b?void 0:b.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,S.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),"pending"===(null===E||void 0===E||null===(y=E.payment_status)||void 0===y?void 0:y.toLowerCase())?(0,S.jsx)("div",{className:L.Z.selectBtnContainer,style:{display:"flex",justifyContent:"space-evenly"},children:(0,S.jsx)("div",{className:L.Z.selectBtn,onClick:function(e){e.stopPropagation(),I(E)},children:R("collect_fee")})}):"receipt requested"===(null===E||void 0===E||null===(C=E.payment_status)||void 0===C?void 0:C.toLowerCase())?(0,S.jsx)("div",{className:L.Z.selectBtnContainer,children:(0,S.jsx)("div",{className:L.Z.receipt_requested_btn,onClick:function(e){e.stopPropagation()},children:R("receipt_requested")})}):null]})})},J=t(36665),$=function(e){var n,t,i,a,d,c,r=e.currentApplicant,v=e.onClose,p=e.applicationId,m=e.onRefetchWhenConfirm,h=(0,l.$G)().t,f=(0,o.useState)(!1),g=(0,u.Z)(f,2),x=g[0],j=g[1],Z=(0,_.Ik)(),A=(0,u.Z)(Z,1)[0],N=(0,_.lA)(),b=(0,u.Z)(N,1)[0];return(0,S.jsxs)(J.Z,{onClose:v,children:[(0,S.jsxs)("div",{className:L.Z.not_confirm_container,children:[(0,S.jsx)("h6",{children:h("hostel_status")}),(0,S.jsx)(s.Z,{customStyle:{marginLeft:"-2rem",width:"130%"}}),(0,S.jsxs)("section",{className:L.Z.applicant_profile,children:[(0,S.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===r||void 0===r||null===(n=r.student)||void 0===n?void 0:n.photoId)?"".concat(F.yI,"/").concat(null===r||void 0===r||null===(t=r.student)||void 0===t?void 0:t.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,S.jsxs)("div",{className:L.Z.applicant_profile_text,children:[(0,S.jsx)("h6",{children:"".concat(null===r||void 0===r||null===(i=r.student)||void 0===i?void 0:i.studentFirstName," ").concat(null!==r&&void 0!==r&&null!==(a=r.student)&&void 0!==a&&a.studentMiddleName?null===r||void 0===r||null===(d=r.student)||void 0===d?void 0:d.studentMiddleName:""," ").concat(null===r||void 0===r||null===(c=r.student)||void 0===c?void 0:c.studentLastName)}),(0,S.jsxs)("p",{children:[h("applied")," ",O()(null===r||void 0===r?void 0:r.select_on).format("DD MMM yyyy")]})]})]}),(0,S.jsxs)("section",{className:L.Z.button_group,children:[(0,S.jsx)("button",{onClick:function(){var e,n;p&&null!==r&&void 0!==r&&null!==(e=r.student)&&void 0!==e&&e._id&&(j((function(e){return!e})),A({aid:p,sid:null===r||void 0===r||null===(n=r.student)||void 0===n?void 0:n._id}).then((function(){m(),v(),j((function(e){return!e}))})).catch((function(){j((function(e){return!e}))})))},children:h("confirm")}),(0,S.jsx)("button",{onClick:function(){var e,n;p&&null!==r&&void 0!==r&&null!==(e=r.student)&&void 0!==e&&e._id&&(j((function(e){return!e})),b({aid:p,sid:null===r||void 0===r||null===(n=r.student)||void 0===n?void 0:n._id}).then((function(){m(),v(),j((function(e){return!e}))})).catch((function(){j((function(e){return!e}))})))},children:h("reject")})]})]}),x&&(0,S.jsx)(R.Z,{})]})},Y=t(4942),K=t(97655),Q=t(59965),z=t(49886);var X=function(e){var n,t,a,d,c,r=e.onClose,v=e.applicant,p=e.applicationId,m=e.onRefetchWhenConfirm,h=e.huid,f=e.viewAs,g=(0,o.useState)(!1),x=(0,u.Z)(g,2),j=x[0],Z=x[1],A=(0,l.$G)().t,N=(0,o.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),b=(0,u.Z)(N,2),y=b[0],C=b[1],I=(0,o.useState)({msg:"",run:!1}),w=(0,u.Z)(I,2),P=w[0],T=w[1],k=(0,o.useState)(""),D=(0,u.Z)(k,2),M=D[0],O=D[1],F=(0,_.Jg)(),q=(0,u.Z)(F,1)[0],H=(0,_.fl)(),B=(0,u.Z)(H,1)[0],U=function(e){"fee_payment_mode"===e.target.name?C((function(n){var t;return(0,i.Z)((0,i.Z)({},n),{},(t={},(0,Y.Z)(t,e.target.name,e.target.value),(0,Y.Z)(t,"mode","By Cash"===e.target.value?"Offline":"Online"),(0,Y.Z)(t,"fee_payment_mode",e.target.value),t))})):C((function(n){return(0,i.Z)((0,i.Z)({},n),{},(0,Y.Z)({},e.target.name,e.target.value))}))};return(0,S.jsxs)(J.Z,{onClose:r,children:[(0,S.jsxs)("div",{className:L.Z.admission_modal,children:[(0,S.jsx)("h6",{className:L.Z.admission_modal_heading,children:A("collect_fees")}),(0,S.jsx)(s.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}})," ",(0,S.jsxs)("div",{className:L.Z.admission_fees_row,children:[(0,S.jsxs)("h6",{children:[A("applicable_amount")," :"]}),(0,S.jsxs)("h6",{children:["Rs. ",null===v||void 0===v||null===(n=v.student)||void 0===n||null===(t=n.hostel_fee_structure)||void 0===t?void 0:t.total_admission_fees]})]}),(0,S.jsx)(K.Z,{labelText:"".concat(A("amount_first_installment")," ").concat(null===v||void 0===v||null===(a=v.student)||void 0===a||null===(d=a.hostel_fee_structure)||void 0===d||null===(c=d.one_installments)||void 0===c?void 0:c.fees),name:"amount",type:"tel",value:y.amount,onChange:function(e){C((function(n){return(0,i.Z)((0,i.Z)({},n),{},{amount:+e.target.value,fee_payment_amount:+e.target.value})}))},placeholder:A("amoute_details_collect"),errorShow:M.fee_payment_amount,customStyleLabel:{marginTop:"15px",marginBottom:"7px"},customStyleContainer:{marginBottom:"15px"}}),(0,S.jsx)(z.Z,{paymentHeading:A("payment_type_mode"),onInputChange:U,errorShow:M.payment_type_mode}),(0,S.jsx)(Q.Z,{labelText:A("select_date_of_transaction"),placeholder:A("please_select_date"),name:"transaction_date",value:y.transaction_date,onDateFunction:function(e){var n=null===e||void 0===e?void 0:e.split("/");C((function(e){return(0,i.Z)((0,i.Z)({},e),{},{transaction_date:"".concat(n[2],"-").concat(n[1],"-").concat(n[0])})}))},customStyleContainer:{position:"relative",marginTop:"0.5rem"},datePickerPosition:{position:"relative",top:"-15rem"},customStyleLabel:{marginTop:"15px"},errorShow:M.transaction_date}),"By Cash"===y.fee_payment_mode?"":(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(K.Z,{labelText:A("bank_name_collect"),name:"fee_bank_name",type:"tel",value:y.fee_bank_name,onChange:U,placeholder:A("please_enter_bank_name"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,S.jsx)(K.Z,{labelText:A("banke_holder_name"),name:"fee_bank_holder",type:"tel",value:y.fee_bank_holder,onChange:U,placeholder:A("please_enter_name_of_bank_holder"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,S.jsx)(K.Z,{labelText:A("cheque_dd_neft"),name:"fee_utr_reference",type:"tel",value:y.fee_utr_reference,onChange:U,placeholder:A("please_enter_utr_ref_number"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}})]}),(0,S.jsx)("div",{className:L.Z.confirm_btn,onClick:function(){var e=function(e){var n={};for(var t in e){var i,o;"fee_bank_name"===t||"fee_bank_holder"===t||"fee_utr_reference"===t||"amount"===t||"mode"===t||(e[t]?"fee_payment_amount"===t&&(e[t]<=(null===v||void 0===v||null===(i=v.student)||void 0===i||null===(o=i.hostel_fee_structure)||void 0===o?void 0:o.total_admission_fees)||(T({msg:"You can not enter amount greater than Admission fees",run:!0}),n.fee_payment_amount="".concat(t," is required!"))):n[t]="".concat(t," is required!"))}return n}(y),n=!1;for(var t in e){n=!0;break}if(n)O(e);else if(Z(!0),"RENEWAL"===f){var i,o,l,a={sid:null===v||void 0===v||null===(i=v.student)||void 0===i?void 0:i._id,aid:p,huid:h,collectFee:y};""!==(null===a||void 0===a?void 0:a.sid)&&""!==(null===a||void 0===a?void 0:a.aid)&&""!==(null===a||void 0===a?void 0:a.huid)&&(null===a||void 0===a||null===(o=a.collectFee)||void 0===o?void 0:o.amount)>0&&""!==(null===a||void 0===a||null===(l=a.collectFee)||void 0===l?void 0:l.mode)?B(a).then((function(e){e.data.confirm_status&&(m(),r(),Z(!1))})).catch({}):Z(!1)}else{var s,d,c,u={sid:null===v||void 0===v||null===(s=v.student)||void 0===s?void 0:s._id,aid:p,confirm_data:y,receipt_status:"Fee Receipt Not Generated"===y.fee_payment_mode?"Fee Receipt Not Generated":""};""!==(null===u||void 0===u?void 0:u.sid)&&""!==(null===u||void 0===u?void 0:u.aid)&&(null===u||void 0===u||null===(d=u.confirm_data)||void 0===d?void 0:d.amount)>0&&""!==(null===u||void 0===u||null===(c=u.confirm_data)||void 0===c?void 0:c.mode)?q(u).then((function(e){e.data.confirm_status&&(m(),r(),Z(!1))})).catch({}):Z(!1)}},children:A("collect")}),(0,S.jsx)(E.Ch,{msg:P.msg,run:P.run,setRun:function(){return T({msg:"",run:!1})},postiton:"bottom",type:"error"})]}),j&&(0,S.jsx)(R.Z,{})]})};var ee=function(e){var n,t,i,a,d=e.onClose,c=e.applicationId,r=e.currentApplicant,v=e.onRefetchWhenConfirm,_=(0,l.$G)().t,p=(0,o.useState)(!1),m=(0,u.Z)(p,2),h=m[0],f=m[1],g=(0,y.K7)(),x=(0,u.Z)(g,1)[0];return(0,S.jsxs)(J.Z,{onClose:d,children:[(0,S.jsxs)("div",{className:L.Z.not_confirm_container,children:[(0,S.jsx)("h6",{children:_("collect_required_document")}),(0,S.jsx)(s.Z,{customStyle:{width:"100%"}}),(0,S.jsxs)("section",{className:L.Z.admission_collect_docs,children:[(0,S.jsx)("p",{children:_("collecting_documents_of_student")}),(0,S.jsx)("h6",{children:"".concat(null===r||void 0===r||null===(n=r.student)||void 0===n?void 0:n.studentFirstName," ").concat(null!==r&&void 0!==r&&null!==(t=r.student)&&void 0!==t&&t.studentMiddleName?null===r||void 0===r||null===(i=r.student)||void 0===i?void 0:i.studentMiddleName:""," ").concat(null===r||void 0===r||null===(a=r.student)||void 0===a?void 0:a.studentLastName)})]}),(0,S.jsx)("button",{onClick:function(){var e,n;f(!0),x({sid:null===r||void 0===r||null===(e=r.student)||void 0===e?void 0:e._id,aid:c,install_type:null===r||void 0===r?void 0:r.install_type,payment_status:null===r||void 0===r?void 0:r.payment_status,amount:null!==(n=+(null===r||void 0===r?void 0:r.fee_remain))&&void 0!==n?n:0}).then((function(){d(),v(),f(!1)})).catch({})},className:L.Z.confirm_btn,children:_("confirm")})]}),h&&(0,S.jsx)(R.Z,{})]})};var ne=function(e){var n=e.carryParentState,t=e.applicationId,i=e.hostelId,l=e.applicationDetail,a=e.accessRole,s=e.accessTpye,d=e.applicationDetailApplicablePending,c=e.pageOpenAs,_=(0,o.useState)(!0),m=(0,u.Z)(_,2),h=m[0],f=m[1],g=(0,o.useState)(1),x=(0,u.Z)(g,2),j=x[0],Z=x[1],A=(0,o.useState)(""),N=(0,u.Z)(A,2),b=N[0],C=N[1],I=(0,v.YD)(),E=(0,u.Z)(I,2),R=E[0],w=E[1],P=(0,o.useState)([]),T=(0,u.Z)(P,2),L=T[0],M=T[1],O=(0,o.useState)(!1),F=(0,u.Z)(O,2),q=F[0],H=F[1],B=(0,o.useState)(!0),U=(0,u.Z)(B,2),W=U[0],J=U[1],Y=(0,o.useState)(""),K=(0,u.Z)(Y,2),Q=K[0],z=K[1],ne=(0,o.useState)(""),te=(0,u.Z)(ne,2),ie=te[0],oe=te[1],le=(0,y.sR)({data:{id:t,page:j,limit:10,search:b||""},skip:!t}),ae=le.getAllSelectList,se=le.getAllSelectListRefetch;(0,o.useEffect)((function(){w&&h&&Z((function(e){return e+1}))}),[w,h]),(0,o.useEffect)((function(){t&&(J(!0),se())}),[j,t,se,b]),(0,o.useEffect)((function(){var e,n;b?(M(null===ae||void 0===ae?void 0:ae.select),J(!1)):q?(M(null===ae||void 0===ae?void 0:ae.select),H(!1),J(!1)):null!==ae&&void 0!==ae&&ae.select?(M((function(e){var n,t;return null===(n=(0,r.Z)(new Set(null===(t=[].concat((0,r.Z)(e),(0,r.Z)(null===ae||void 0===ae?void 0:ae.select)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),J(!1)):0===(null===ae||void 0===ae||null===(n=ae.select)||void 0===n?void 0:n.length)&&J(!1);10===(null===ae||void 0===ae||null===(e=ae.select)||void 0===e?void 0:e.length)?f(!0):f(!1)}),[null===ae||void 0===ae?void 0:ae.select]);var de=function(){Z(1),se(),H(!0)},ce=(0,o.useCallback)((0,D.debounce)((function(e){return C(e)}),500),[]),re=function(e){oe(e),z("COLLECT_FEES")},ue=function(e){oe(e),z("COLLECT_DOCS")},ve=function(e){oe(e),z("MARK_CONFIRM")};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(k,{applicationDetail:l,carryParentState:n,applicationDetailApplicablePending:d,pageOpenAs:c,children:(0,S.jsx)("input",{type:"text",placeholder:"Search applications...",onChange:function(e){ce(e.target.value)}})}),(0,S.jsx)(G,{carryParentState:n,accessRole:a,accessTpye:s,pageOpenAs:c}),null===L||void 0===L?void 0:L.map((function(e,n){var o,a;return(null===L||void 0===L?void 0:L.length)===n+1?(0,S.jsx)("div",{ref:R,children:(0,S.jsx)(V,{applicant:e,onRefetchWhenConfirm:de,applicationId:t,hostelId:i,onSelectOffileFees:re,onCollectDocs:ue,onNotConfirm:ve,batchId:null===l||void 0===l||null===(o=l.applicationBatch)||void 0===o?void 0:o._id})},n):(0,S.jsx)(V,{applicant:e,onRefetchWhenConfirm:de,applicationId:t,hostelId:i,onSelectOffileFees:re,onCollectDocs:ue,onNotConfirm:ve,batchId:null===l||void 0===l||null===(a=l.applicationBatch)||void 0===a?void 0:a._id},n)})),W&&(0,S.jsx)(p.Z,{}),"MARK_CONFIRM"===Q&&(0,S.jsx)($,{currentApplicant:ie,applicationId:t,onRefetchWhenConfirm:de,onClose:function(){return z("")}}),"COLLECT_FEES"===Q&&(0,S.jsx)(X,{applicant:ie,applicationId:t,onRefetchWhenConfirm:de,onClose:function(){return z("")}}),"COLLECT_DOCS"===Q&&(0,S.jsx)(ee,{applicant:ie,applicationId:t,onRefetchWhenConfirm:de,onClose:function(){return z("")}})]})},te=t(37782),ie=function(e){var n,i,s,d,c,r,v,_,p,m,h,f,g,x,j,Z,A,N=e.onCancelHostelApplication,b=e.onAllotBed,C=e.applicant,I=(0,l.$G)().t,E=(0,a.UO)(),w=(0,a.s0)(),P=(0,o.useState)(""),T=(0,u.Z)(P,2),k=T[0],D=T[1],M=(0,o.useState)(!1),O=(0,u.Z)(M,2),q=O[0],H=O[1],B=(0,o.useState)(""),U=(0,u.Z)(B,2),G=U[0],W=U[1],V=(0,y.$d)({rid:k,skip:!k}),J=V.getFeeReceiptDetail,$=V.getFeeReceiptDetailRefetch;(0,o.useEffect)((function(){k&&$()}),[k,$]),(0,o.useEffect)((function(){null!==J&&void 0!==J&&J.receipt&&null!==J&&void 0!==J&&J.all_remain&&W(J)}),[J]),(0,o.useEffect)((function(){if(G){var e=(0,te.sp)(null===G||void 0===G?void 0:G.all_remain,null===G||void 0===G?void 0:G.receipt),n=e.institute,i=e.studentInfo,o=e.paymentReceiptInfo,l=new Worker(new URL(t.p+t.u(1756),t.b));l.postMessage({institute:n,studentInfo:i,paymentReceiptInfo:o,printReceiptType:"Refunded"===(null===o||void 0===o?void 0:o.transactonRefund)?"HOSTEL_REFUND":"HOSTEL"}),l.onmessage=function(e){e&&(window.open(e.data,"_blank"),H((function(e){return!e})),W(""),l.terminate())}}}),[G]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_container,onClick:function(){var e;w("/q/".concat(E.username,"/student/profile"),{state:{sid:null===C||void 0===C||null===(e=C.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_inner,children:[(0,S.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===C||void 0===C||null===(n=C.student)||void 0===n?void 0:n.photoId)?"".concat(F.yI,"/").concat(null===C||void 0===C||null===(i=C.student)||void 0===i?void 0:i.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,S.jsxs)("div",{className:L.Z.applicant_card_inner_info,children:[(0,S.jsx)("h6",{children:"".concat(null===C||void 0===C||null===(s=C.student)||void 0===s?void 0:s.studentFirstName," ").concat(null!==C&&void 0!==C&&null!==(d=C.student)&&void 0!==d&&d.studentMiddleName?null===C||void 0===C||null===(c=C.student)||void 0===c?void 0:c.studentMiddleName:""," ").concat(null===C||void 0===C||null===(r=C.student)||void 0===r?void 0:r.studentLastName)}),(0,S.jsx)("p",{onClick:function(e){e.stopPropagation(),N(C)},className:L.Z.cancelStatus,children:I("cancel_admision")})]})]}),(0,S.jsxs)("div",{className:L.Z.applicant_card_contact,children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_contact_inner,children:[(0,S.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,S.jsx)("p",{children:null===C||void 0===C||null===(v=C.student)||void 0===v?void 0:v.studentGender})]}),((null===C||void 0===C||null===(_=C.student)||void 0===_?void 0:_.studentPhoneNumber)||(null===C||void 0===C||null===(p=C.student)||void 0===p?void 0:p.studentParentsPhoneNumber))&&(0,S.jsxs)("div",{className:L.Z.applicant_card_contact_inner,children:[(0,S.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,S.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==C&&void 0!==C&&null!==(m=C.student)&&void 0!==m&&m.studentPhoneNumber?null===C||void 0===C||null===(h=C.student)||void 0===h?void 0:h.studentPhoneNumber:null===C||void 0===C||null===(f=C.student)||void 0===f?void 0:f.studentParentsPhoneNumber})]})]}),(0,S.jsx)("div",{className:L.Z.applicant_card_reciept,onClick:function(e){e.stopPropagation()},children:(0,S.jsx)("a",{href:"".concat(F.r3,"/").concat(null===C||void 0===C||null===(g=C.student)||void 0===g||null===(x=g.application_print)||void 0===x||null===(j=x[0])||void 0===j?void 0:j.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-4.5px"},children:(0,S.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,S.jsx)("div",{className:L.Z.applicant_card_reciept,children:null===C||void 0===C||null===(Z=C.student)||void 0===Z||null===(A=Z.fee_receipt)||void 0===A?void 0:A.map((function(e,n){return n>2?"":(0,S.jsx)("img",{src:"/images/member_tab/admission/admission-receipt-download.svg",onClick:function(n){return function(e,n){e.stopPropagation(),H((function(e){return!e})),D(n),k===n&&W(J)}(n,e)},alt:"receipt icon",title:"Download Fees Receipt"})}))}),(0,S.jsx)("div",{className:L.Z.selectBtnContainer,style:{width:"auto"},children:(0,S.jsx)("div",{className:L.Z.selectBtn,onClick:function(e){e.stopPropagation(),b(C)},children:I("allot_bed")})})]}),q&&(0,S.jsx)(R.Z,{})]})};var oe=function(e){var n,t,a,d,c=e.currentApplicant,r=e.onClose,v=e.onRefetchWhenAction,p=e.applicationId,m=e.viewAs,h=e.huid,f=(0,l.$G)().t,g=(0,o.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),x=(0,u.Z)(g,2),j=x[0],Z=x[1],A=(0,o.useState)(""),N=(0,u.Z)(A,2),b=N[0],y=N[1],C=(0,o.useState)(0),I=(0,u.Z)(C,2),w=I[0],P=I[1],T=(0,o.useState)({msg:"",run:!1}),k=(0,u.Z)(T,2),D=k[0],M=k[1],O=(0,o.useState)(!1),F=(0,u.Z)(O,2),q=F[0],H=F[1],B=(0,_.H$)(),U=(0,u.Z)(B,1)[0],G=(0,_.UV)(),W=(0,u.Z)(G,1)[0];(0,o.useEffect)((function(){var e,n;if(null!==c&&void 0!==c&&null!==(e=c.student)&&void 0!==e&&null!==(n=e.paidFeeList)&&void 0!==n&&n.length){var t,i,o,l,a=null===c||void 0===c||null===(t=c.student)||void 0===t||null===(i=t.paidFeeList)||void 0===i?void 0:i.filter((function(e){return(null===e||void 0===e?void 0:e.appId)===p}));P(null!==(o=null===a||void 0===a||null===(l=a[0])||void 0===l?void 0:l.paidAmount)&&void 0!==o?o:0)}}),[null===c||void 0===c||null===(n=c.student)||void 0===n?void 0:n.paidFeeList]);var V=function(e){"fee_payment_mode"===e.target.name?Z((function(n){var t;return(0,i.Z)((0,i.Z)({},n),{},(t={},(0,Y.Z)(t,e.target.name,e.target.value),(0,Y.Z)(t,"mode","By Cash"===e.target.value?"Offline":"Online"),(0,Y.Z)(t,"fee_payment_mode",e.target.value),t))})):Z((function(n){return(0,i.Z)((0,i.Z)({},n),{},(0,Y.Z)({},e.target.name,e.target.value))}))};return(0,S.jsxs)(S.Fragment,{children:[!q&&(0,S.jsxs)(J.Z,{onClose:r,children:[(0,S.jsxs)("div",{className:L.Z.admission_modal,children:[(0,S.jsx)("h6",{className:L.Z.admission_modal_heading,children:f("RENEWAL"===m?"cancel_renewal_addmission":"cancel_addmission")}),(0,S.jsx)(s.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),(0,S.jsxs)("div",{className:L.Z.admission_fees_row,children:[(0,S.jsxs)("h6",{children:[f("total_admission_fees")," :"]}),(0,S.jsxs)("h6",{children:[f("rs"),"."," ",null!==(t=null===c||void 0===c||null===(a=c.student)||void 0===a||null===(d=a.hostel_fee_structure)||void 0===d?void 0:d.total_admission_fees)&&void 0!==t?t:0]})]}),(0,S.jsxs)("div",{className:L.Z.admission_fees_row,children:[(0,S.jsxs)("h6",{children:[f("fees_paid")," :"]}),(0,S.jsxs)("h6",{children:[f("rs"),". ",w]})]}),(0,S.jsx)(z.Z,{paymentHeading:f("refund_payment_type_mode"),onInputChange:V,errorShow:b.payment_type_mode}),(0,S.jsx)(K.Z,{labelText:f("refund_amount"),name:"amount",type:"tel",value:j.amount,onChange:function(e){Z((function(n){return(0,i.Z)((0,i.Z)({},n),{},{amount:+e.target.value,fee_payment_amount:+e.target.value})}))},placeholder:f("please_enter_refund_amount"),errorShow:b.fee_payment_amount}),"RENEWAL"===m?null:(0,S.jsx)(Q.Z,{labelText:f("select_date_of_transaction"),placeholder:f("please_select_date"),name:"transaction_date",value:j.transaction_date,onDateFunction:function(e){var n=null===e||void 0===e?void 0:e.split("/");Z((function(e){return(0,i.Z)((0,i.Z)({},e),{},{transaction_date:"".concat(n[2],"-").concat(n[1],"-").concat(n[0])})}))},customStyleContainer:{position:"relative",marginTop:"0.5rem"},datePickerPosition:{position:"relative",top:"-20rem"},customStyleLabel:{marginTop:"15px"},errorShow:b.transaction_date}),(0,S.jsx)("h6",{style:{marginTop:"0.5rem"},children:f("paid_to")}),(0,S.jsx)(K.Z,{labelText:f("bank_name_collect"),name:"fee_bank_name",type:"tel",value:j.fee_bank_name,onChange:V,placeholder:f("please_enter_bank_name"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,S.jsx)(K.Z,{labelText:f("banke_holder_name"),name:"fee_bank_holder",type:"tel",value:j.fee_bank_holder,onChange:V,placeholder:f("please_enter_name_of_bank_holder"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,S.jsx)(K.Z,{labelText:f("cheque_dd_neft"),name:"fee_utr_reference",type:"tel",value:j.fee_utr_reference,onChange:V,placeholder:f("please_enter_utr_ref_number"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,S.jsx)("div",{className:L.Z.confirm_btn,onClick:function(){var e,n,t,o,l,a,s,d,u,_,f,g,x,Z,S=function(e){var n={};for(var t in e)"fee_bank_name"===t||"fee_bank_holder"===t||"fee_utr_reference"===t||"amount"===t||"mode"===t||(e[t]?"fee_payment_amount"===t&&(e[t]<=w||(M({msg:"You can not enter amount greater than fees paid",run:!0}),n.fee_payment_amount_issue="".concat(t," is required!"))):n[t]="".concat(t," is required!"));return n}(j),A=!1;for(var N in S){A=!0;break}A?y(S):(H(!0),"RENEWAL"===m?""!==(null===(t=Z={sid:null===c||void 0===c||null===(e=c.student)||void 0===e?void 0:e._id,aid:p,huid:h,cancelRenewal:(0,i.Z)((0,i.Z)({},j),{},{remainAmount:null!==(n=null===c||void 0===c?void 0:c.fee_remain)&&void 0!==n?n:0})})||void 0===t?void 0:t.sid)&&""!==(null===(o=Z)||void 0===o?void 0:o.aid)&&""!==(null===(l=Z)||void 0===l?void 0:l.huid)&&(null===(a=Z)||void 0===a||null===(s=a.cancelRenewal)||void 0===s?void 0:s.amount)>0&&W(Z).then((function(e){e.data.refund_status&&(v(),r(),H(!1))})).catch({}):""!==(null===(_=Z={sid:null===c||void 0===c||null===(d=c.student)||void 0===d?void 0:d._id,aid:p,cancel_data:(0,i.Z)((0,i.Z)({},j),{},{remainAmount:null!==(u=null===c||void 0===c?void 0:c.fee_remain)&&void 0!==u?u:0})})||void 0===_?void 0:_.sid)&&""!==(null===(f=Z)||void 0===f?void 0:f.aid)&&(null===(g=Z)||void 0===g||null===(x=g.cancel_data)||void 0===x?void 0:x.amount)>0&&U(Z).then((function(e){e.data.refund_status&&(v(),r(),H(!1))})).catch({}))},children:f("confirm")})]}),(0,S.jsx)(E.Ch,{msg:D.msg,run:D.run,setRun:function(){return M({msg:"",run:!1})},postiton:"bottom",type:"error"})]}),q&&(0,S.jsx)(R.Z,{})]})},le=t(41233),ae=t(87457),se=t(91022),de=function(e){var n,t,a=e.onClose,d=e.currentApplicant,c=e.applicationId,r=e.onRefetchWhenAction,v=e.unitId,p=e.viewAs,m=e.instituteId,h=(0,l.$G)().t,f=(0,o.useState)(""),g=(0,u.Z)(f,2),x=g[0],j=g[1],Z=(0,o.useState)(!1),A=(0,u.Z)(Z,2),N=A[0],b=A[1],y=(0,o.useState)("RENEWAL"===p),C=(0,u.Z)(y,2),I=C[0],E=C[1],w=(0,o.useState)(""),P=(0,u.Z)(w,2),T=P[0],k=P[1],D=(0,o.useState)({hrid:""}),L=(0,u.Z)(D,2),M=L[0],O=L[1],F=(0,_.An)(),q=(0,u.Z)(F,1)[0],H=(0,_.aZ)(),B=(0,u.Z)(H,1)[0],U=(0,_.CO)({data:{huid:v,page:1,limit:1e3,search:""},skip:!v}),G=U.getRoomListHostelUnit,W=U.getRoomListHostelUnitRefetch;(0,o.useEffect)((function(){v&&W()}),[v,W]);return(0,S.jsx)(J.Z,{onClose:a,children:(0,S.jsxs)("div",{className:ae.Z.add_category_modal,style:{width:"30rem",maxHeight:"35rem"},children:[(0,S.jsxs)("div",{className:ae.Z.add_category_modal_title,children:[(0,S.jsx)("h6",{children:h("allot_bed_to_hostelite")}),(0,S.jsx)("img",{src:"/images/close-post-icon.svg",onClick:a,alt:""})]}),(0,S.jsx)(s.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),"RENEWAL"===p&&(0,S.jsx)(se.Z,{selectLabel:h("allot_same_bed_as_previous"),selectedValue:h("select_yes_or_no"),options:["Yes","No"],value:T,errorShow:x.same_allot,onClick:function(e){E("Yes"===e),k(e)}}),!I&&(0,S.jsx)(le.Z,{selectLabel:h("select_unit_room"),onClick:function(e){O((function(n){return(0,i.Z)((0,i.Z)({},n),{},{hrid:e})}))},selectedValue:h("select_unit_room_placeholder"),options:null!==(n=null===G||void 0===G||null===(t=G.all_rooms)||void 0===t?void 0:t.filter((function(e){return(null===e||void 0===e?void 0:e.vacant_count)>0?e:null})))&&void 0!==n?n:[],errorShow:x.hrid}),(0,S.jsx)("button",{className:ae.Z.set_fees_structure_btn,title:"Allot Hostel",onClick:function(){if(m){var e,n,t="RENEWAL"===p?function(e,n){var t={};if("No"===T)for(var i in e)e[i]||(t[i]="".concat(i," is required!"));return n||(t.same_allot="same_allot is required!"),t}(M,T):function(e){var n={};for(var t in e)e[t]||(n[t]="".concat(t," is required!"));return n}(M),o=!1;for(var l in t)if(l){o=!0;break}if(o)j(t);else if(b((function(e){return!e})),"RENEWAL"===p)B({aid:c,huid:v,allotBed:{dataList:[null===d||void 0===d||null===(e=d.student)||void 0===e?void 0:e._id],hrid:M.hrid,bed_mode:"Yes"===T?"Same":"Different"}}).then((function(){r(),a(),b((function(e){return!e}))})).catch({});else q((0,i.Z)((0,i.Z)({aid:c,huid:v},M),{},{id:m,allot_bed:{dataList:[null===d||void 0===d||null===(n=d.student)||void 0===n?void 0:n._id]}})).then((function(){r(),a(),b((function(e){return!e}))})).catch({})}},style:{justifyContent:"center"},children:h("allot_bed")}),N&&(0,S.jsx)(R.Z,{})]})})};var ce=function(e){var n=e.carryParentState,t=e.applicationId,i=e.hostelId,l=e.applicationDetail,a=e.unitId,s=e.accessRole,d=e.accessTpye,c=e.applicationDetailApplicablePending,_=e.pageOpenAs,m=e.instituteId,h=(0,o.useState)(!0),f=(0,u.Z)(h,2),g=f[0],x=f[1],j=(0,o.useState)(1),Z=(0,u.Z)(j,2),A=Z[0],N=Z[1],b=(0,o.useState)(""),C=(0,u.Z)(b,2),I=C[0],E=C[1],R=(0,v.YD)(),w=(0,u.Z)(R,2),P=w[0],T=w[1],L=(0,o.useState)([]),M=(0,u.Z)(L,2),O=M[0],F=M[1],q=(0,o.useState)(!1),H=(0,u.Z)(q,2),B=H[0],U=H[1],W=(0,o.useState)(!0),V=(0,u.Z)(W,2),J=V[0],$=V[1],Y=(0,o.useState)(""),K=(0,u.Z)(Y,2),Q=K[0],z=K[1],X=(0,o.useState)(""),ee=(0,u.Z)(X,2),ne=ee[0],te=ee[1],le=(0,y.RR)({data:{id:t,page:A,limit:10,search:I||""},skip:!t}),ae=le.getAllConfirmList,se=le.getAllConfirmListRefetch;(0,o.useEffect)((function(){T&&g&&N((function(e){return e+1}))}),[T,g]),(0,o.useEffect)((function(){t&&($(!0),se())}),[A,t,se,I]),(0,o.useEffect)((function(){var e,n;I?(F(null===ae||void 0===ae?void 0:ae.confirm),$(!1)):B?(F(null===ae||void 0===ae?void 0:ae.confirm),U(!1),$(!1)):null!==ae&&void 0!==ae&&ae.confirm?(F((function(e){var n,t;return null===(n=(0,r.Z)(new Set(null===(t=[].concat((0,r.Z)(e),(0,r.Z)(null===ae||void 0===ae?void 0:ae.confirm)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),$(!1)):0===(null===ae||void 0===ae||null===(n=ae.confirm)||void 0===n?void 0:n.length)&&$(!1);10===(null===ae||void 0===ae||null===(e=ae.confirm)||void 0===e?void 0:e.length)?x(!0):x(!1)}),[null===ae||void 0===ae?void 0:ae.confirm]);var ce=function(){N(1),se(),U(!0)},re=(0,o.useCallback)((0,D.debounce)((function(e){return E(e)}),500),[]),ue=function(e){te(e),z("CANCEL_APPLICANT")},ve=function(e){te(e),z("ALLOT_BED")};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(k,{applicationDetail:l,carryParentState:n,tabStatusFlow:"Confirm_Query",applicationDetailApplicablePending:c,pageOpenAs:_,children:(0,S.jsx)("input",{type:"text",placeholder:"Search applications...",onChange:function(e){re(e.target.value)}})}),(0,S.jsx)(G,{carryParentState:n,accessRole:s,accessTpye:d,pageOpenAs:_}),null===O||void 0===O?void 0:O.map((function(e,n){return(null===O||void 0===O?void 0:O.length)===n+1?(0,S.jsx)("div",{ref:P,children:(0,S.jsx)(ie,{applicant:e,onCancelHostelApplication:ue,onAllotBed:ve})},n):(0,S.jsx)(ie,{applicant:e,onCancelHostelApplication:ue,onAllotBed:ve},n)})),J&&(0,S.jsx)(p.Z,{}),"CANCEL_APPLICANT"===Q&&(0,S.jsx)(oe,{currentApplicant:ne,applicationId:t,onRefetchWhenAction:ce,onClose:function(){return z("")}}),"ALLOT_BED"===Q&&(0,S.jsx)(de,{currentApplicant:ne,applicationId:t,onRefetchWhenAction:ce,onClose:function(){return z("")},hostelId:i,unitId:a,instituteId:m})]})},re=function(e){var n,i,s,d,c,r,v,_,p,m,h,f,g,x,j,Z,A,N,b,C,I,E,w=e.applicant,P=(0,l.$G)().t,T=(0,a.UO)(),k=(0,a.s0)(),D=(0,o.useState)(""),M=(0,u.Z)(D,2),O=M[0],q=M[1],H=(0,o.useState)(!1),B=(0,u.Z)(H,2),U=B[0],G=B[1],W=(0,o.useState)(""),V=(0,u.Z)(W,2),J=V[0],$=V[1],Y=(0,y.$d)({rid:O,skip:!O}),K=Y.getFeeReceiptDetail,Q=Y.getFeeReceiptDetailRefetch;(0,o.useEffect)((function(){O&&Q()}),[O,Q]),(0,o.useEffect)((function(){null!==K&&void 0!==K&&K.receipt&&null!==K&&void 0!==K&&K.all_remain&&$(K)}),[K]),(0,o.useEffect)((function(){if(J){var e=(0,te.sp)(null===J||void 0===J?void 0:J.all_remain,null===J||void 0===J?void 0:J.receipt),n=e.institute,i=e.studentInfo,o=e.paymentReceiptInfo,l=new Worker(new URL(t.p+t.u(8040),t.b));l.postMessage({institute:n,studentInfo:i,paymentReceiptInfo:o,printReceiptType:"Refunded"===(null===o||void 0===o?void 0:o.transactonRefund)?"HOSTEL_REFUND":"HOSTEL"}),l.onmessage=function(e){e&&(window.open(e.data,"_blank"),G((function(e){return!e})),$(""),l.terminate())}}}),[J]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_container,onClick:function(){var e;k("/q/".concat(T.username,"/student/profile"),{state:{sid:null===w||void 0===w||null===(e=w.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_inner,children:[(0,S.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===w||void 0===w||null===(n=w.student)||void 0===n?void 0:n.photoId)?"".concat(F.yI,"/").concat(null===w||void 0===w||null===(i=w.student)||void 0===i?void 0:i.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,S.jsxs)("div",{className:L.Z.applicant_card_inner_info,children:[(0,S.jsx)("h6",{children:"".concat(null===w||void 0===w||null===(s=w.student)||void 0===s?void 0:s.studentFirstName," ").concat(null!==w&&void 0!==w&&null!==(d=w.student)&&void 0!==d&&d.studentMiddleName?null===w||void 0===w||null===(c=w.student)||void 0===c?void 0:c.studentMiddleName:""," ").concat(null===w||void 0===w||null===(r=w.student)||void 0===r?void 0:r.studentLastName)}),(0,S.jsxs)("p",{children:[P("room_name")," "," : ",(null===w||void 0===w||null===(v=w.student)||void 0===v||null===(_=v.student_bed_number)||void 0===_||null===(p=_.hostelRoom)||void 0===p?void 0:p.room_name)||""," / ",P("bed_name")," "," : ","".concat((null===w||void 0===w||null===(m=w.student)||void 0===m||null===(h=m.student_bed_number)||void 0===h?void 0:h.bed_number)||"")]})]})]}),(0,S.jsxs)("div",{className:L.Z.applicant_card_contact,children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_contact_inner,children:[(0,S.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,S.jsx)("p",{children:null===w||void 0===w||null===(f=w.student)||void 0===f?void 0:f.studentGender})]}),((null===w||void 0===w||null===(g=w.student)||void 0===g?void 0:g.studentPhoneNumber)||(null===w||void 0===w||null===(x=w.student)||void 0===x?void 0:x.studentParentsPhoneNumber))&&(0,S.jsxs)("div",{className:L.Z.applicant_card_contact_inner,children:[(0,S.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,S.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==w&&void 0!==w&&null!==(j=w.student)&&void 0!==j&&j.studentPhoneNumber?null===w||void 0===w||null===(Z=w.student)||void 0===Z?void 0:Z.studentPhoneNumber:null===w||void 0===w||null===(A=w.student)||void 0===A?void 0:A.studentParentsPhoneNumber})]})]}),(0,S.jsx)("div",{className:L.Z.applicant_card_reciept,onClick:function(e){e.stopPropagation()},children:(0,S.jsx)("a",{href:"".concat(F.r3,"/").concat(null===w||void 0===w||null===(N=w.student)||void 0===N||null===(b=N.application_print)||void 0===b||null===(C=b[0])||void 0===C?void 0:C.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,S.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,S.jsx)("div",{className:L.Z.applicant_card_reciept,children:null===w||void 0===w||null===(I=w.student)||void 0===I||null===(E=I.fee_receipt)||void 0===E?void 0:E.map((function(e,n){return n>2?"":(0,S.jsx)("img",{src:"/images/member_tab/admission/admission-receipt-download.svg",onClick:function(n){return function(e,n){e.stopPropagation(),G((function(e){return!e})),q(n),O===n&&$(K)}(n,e)},alt:"receipt icon",title:"Download Fees Receipt"})}))})]}),U&&(0,S.jsx)(R.Z,{})]})},ue=function(e){var n=e.carryParentState,t=e.applicationId,i=e.applicationDetail,l=e.viewAs,a=e.accessRole,s=e.accessTpye,d=e.applicationDetailApplicablePending,c=e.pageOpenAs,_=(0,o.useState)(!0),m=(0,u.Z)(_,2),h=m[0],f=m[1],g=(0,o.useState)(1),x=(0,u.Z)(g,2),j=x[0],Z=x[1],A=(0,v.YD)(),N=(0,u.Z)(A,2),b=N[0],C=N[1],I=(0,o.useState)([]),E=(0,u.Z)(I,2),R=E[0],w=E[1],P=(0,o.useState)(!0),T=(0,u.Z)(P,2),L=T[0],M=T[1],O=(0,o.useState)(""),F=(0,u.Z)(O,2),q=F[0],H=F[1],B=(0,y.k8)({data:{aid:t,page:j,limit:10,search:q||""},skip:!t}),U=B.admissionAllottedList,W=B.admissionAllottedListRefetch;(0,o.useEffect)((function(){C&&h&&Z((function(e){return e+1}))}),[C,h]),(0,o.useEffect)((function(){t&&(M(!0),W())}),[j,t,W,q]),(0,o.useEffect)((function(){var e,n;q?(w(null===U||void 0===U?void 0:U.allot),M(!1)):null!==U&&void 0!==U&&U.allot?(w((function(e){var n,t;return null===(n=(0,r.Z)(new Set(null===(t=[].concat((0,r.Z)(e),(0,r.Z)(null===U||void 0===U?void 0:U.allot)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),M(!1)):0===(null===U||void 0===U||null===(n=U.allot)||void 0===n?void 0:n.length)&&M(!1);10===(null===U||void 0===U||null===(e=U.allot)||void 0===e?void 0:e.length)?f(!0):f(!1)}),[null===U||void 0===U?void 0:U.allot]);var V=(0,o.useCallback)((0,D.debounce)((function(e){return H(e)}),500),[]);return(0,S.jsxs)(S.Fragment,{children:["COMPLETED_APPLICATION"===l?"":(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(k,{applicationDetail:i,carryParentState:n,tabStatusFlow:"Allot_Query",applicationDetailApplicablePending:d,pageOpenAs:c,children:(0,S.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:function(e){V(e.target.value)}})}),(0,S.jsx)(G,{carryParentState:n,accessRole:a,accessTpye:s,pageOpenAs:c})]}),null===R||void 0===R?void 0:R.map((function(e,n){return(null===R||void 0===R?void 0:R.length)===n+1?(0,S.jsx)("div",{ref:b,children:(0,S.jsx)(re,{applicant:e})},n):(0,S.jsx)(re,{applicant:e},n)})),L&&(0,S.jsx)(p.Z,{})]})},ve=function(e){var n,i,l,s,d,c,r,v,_,p,m,h,f,g,x,j,Z,A=e.applicant,N=(0,a.UO)(),b=(0,a.s0)(),C=(0,o.useState)(""),I=(0,u.Z)(C,2),E=I[0],w=I[1],P=(0,o.useState)(!1),T=(0,u.Z)(P,2),k=T[0],D=T[1],M=(0,o.useState)(""),O=(0,u.Z)(M,2),q=O[0],H=O[1],B=(0,y.$d)({rid:E,skip:!E}),U=B.getFeeReceiptDetail,G=B.getFeeReceiptDetailRefetch;(0,o.useEffect)((function(){E&&G()}),[E,G]),(0,o.useEffect)((function(){null!==U&&void 0!==U&&U.receipt&&null!==U&&void 0!==U&&U.all_remain&&H(U)}),[U]),(0,o.useEffect)((function(){if(q){var e=(0,te.sp)(null===q||void 0===q?void 0:q.all_remain,null===q||void 0===q?void 0:q.receipt),n=e.institute,i=e.studentInfo,o=e.paymentReceiptInfo,l=new Worker(new URL(t.p+t.u(5358),t.b));l.postMessage({institute:n,studentInfo:i,paymentReceiptInfo:o,printReceiptType:"Refunded"===(null===o||void 0===o?void 0:o.transactonRefund)?"HOSTEL_REFUND":"HOSTEL"}),l.onmessage=function(e){e&&(window.open(e.data,"_blank"),D((function(e){return!e})),H(""),l.terminate())}}}),[q]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_container,onClick:function(){var e;b("/q/".concat(N.username,"/student/profile"),{state:{sid:null===A||void 0===A||null===(e=A.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_inner,children:[(0,S.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===A||void 0===A||null===(n=A.student)||void 0===n?void 0:n.photoId)?"".concat(F.yI,"/").concat(null===A||void 0===A||null===(i=A.student)||void 0===i?void 0:i.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,S.jsxs)("div",{className:L.Z.applicant_card_inner_info,children:[(0,S.jsx)("h6",{children:"".concat(null===A||void 0===A||null===(l=A.student)||void 0===l?void 0:l.studentFirstName," ").concat(null!==A&&void 0!==A&&null!==(s=A.student)&&void 0!==s&&s.studentMiddleName?null===A||void 0===A||null===(d=A.student)||void 0===d?void 0:d.studentMiddleName:""," ").concat(null===A||void 0===A||null===(c=A.student)||void 0===c?void 0:c.studentLastName)}),(0,S.jsxs)("p",{children:["Rs. ",null===A||void 0===A?void 0:A.refund_amount," ","Refund"===(null===A||void 0===A?void 0:A.payment_status)&&"Refunded"]})]})]}),(0,S.jsxs)("div",{className:L.Z.applicant_card_contact,children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_contact_inner,children:[(0,S.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,S.jsx)("p",{children:null===A||void 0===A||null===(r=A.student)||void 0===r?void 0:r.studentGender})]}),((null===A||void 0===A||null===(v=A.student)||void 0===v?void 0:v.studentPhoneNumber)||(null===A||void 0===A||null===(_=A.student)||void 0===_?void 0:_.studentParentsPhoneNumber))&&(0,S.jsxs)("div",{className:L.Z.applicant_card_contact_inner,children:[(0,S.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,S.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==A&&void 0!==A&&null!==(p=A.student)&&void 0!==p&&p.studentPhoneNumber?null===A||void 0===A||null===(m=A.student)||void 0===m?void 0:m.studentPhoneNumber:null===A||void 0===A||null===(h=A.student)||void 0===h?void 0:h.studentParentsPhoneNumber})]})]}),(0,S.jsx)("div",{className:L.Z.applicant_card_reciept,onClick:function(e){e.stopPropagation()},children:(0,S.jsx)("a",{href:"".concat(F.r3,"/").concat(null===A||void 0===A||null===(f=A.student)||void 0===f||null===(g=f.application_print)||void 0===g||null===(x=g[0])||void 0===x?void 0:x.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,S.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,S.jsx)("div",{className:L.Z.applicant_card_reciept,children:null===A||void 0===A||null===(j=A.student)||void 0===j||null===(Z=j.fee_receipt)||void 0===Z?void 0:Z.map((function(e,n){return n>2?"":(0,S.jsx)("img",{src:"/images/member_tab/admission/admission-receipt-download.svg",onClick:function(n){return function(e,n){e.stopPropagation(),D((function(e){return!e})),w(n),E===n&&H(U)}(n,e)},alt:"receipt icon",title:"Download Fees Receipt"})}))})]}),k&&(0,S.jsx)(R.Z,{})]})},_e=function(e){var n=e.carryParentState,t=e.applicationId,i=e.applicationDetail,l=e.viewAs,a=e.accessRole,s=e.accessTpye,d=e.applicationDetailApplicablePending,c=e.pageOpenAs,_=(0,o.useState)(!0),m=(0,u.Z)(_,2),h=m[0],f=m[1],g=(0,o.useState)(1),x=(0,u.Z)(g,2),j=x[0],Z=x[1],A=(0,v.YD)(),N=(0,u.Z)(A,2),b=N[0],C=N[1],I=(0,o.useState)([]),E=(0,u.Z)(I,2),R=E[0],w=E[1],P=(0,o.useState)(""),T=(0,u.Z)(P,2),L=T[0],M=T[1],O=(0,o.useState)(!0),F=(0,u.Z)(O,2),q=F[0],H=F[1],B=(0,y.wd)({data:{aid:t,page:j,limit:10,search:L||""},skip:!t}),U=B.admissionCancelledList,W=B.admissionCancelledListRefetch;(0,o.useEffect)((function(){C&&h&&Z((function(e){return e+1}))}),[C,h]),(0,o.useEffect)((function(){t&&(H(!0),W())}),[j,t,W]),(0,o.useEffect)((function(){var e,n;L?(w(null===U||void 0===U?void 0:U.cancel),H(!1)):null!==U&&void 0!==U&&U.cancel?(w((function(e){var n,t;return null===(n=(0,r.Z)(new Set(null===(t=[].concat((0,r.Z)(e),(0,r.Z)(null===U||void 0===U?void 0:U.cancel)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),H(!1)):0===(null===U||void 0===U||null===(n=U.cancel)||void 0===n?void 0:n.length)&&H(!1);10===(null===U||void 0===U||null===(e=U.cancel)||void 0===e?void 0:e.length)?f(!0):f(!1)}),[null===U||void 0===U?void 0:U.cancel]);var V=(0,o.useCallback)((0,D.debounce)((function(e){return M(e)}),500),[]);return(0,S.jsxs)(S.Fragment,{children:["COMPLETED_APPLICATION"===l?"":(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(k,{applicationDetail:i,carryParentState:n,applicationDetailApplicablePending:d,pageOpenAs:c,children:(0,S.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:function(e){V(e.target.value)}})}),(0,S.jsx)(G,{carryParentState:n,accessRole:a,accessTpye:s,pageOpenAs:c})]}),null===R||void 0===R?void 0:R.map((function(e,n){return(null===R||void 0===R?void 0:R.length)===n+1?(0,S.jsx)("div",{ref:b,children:(0,S.jsx)(ve,{applicant:e})},n):(0,S.jsx)(ve,{applicant:e},n)})),q&&(0,S.jsx)(p.Z,{})]})},pe=function(e){var n,t,i,l,s,d,c,r,u,v,p,m,h,f,g=e.carryParentState,x=e.hid,j=e.accessRole,Z=e.accessTpye,A=e.pageOpenAs,N=e.instituteId,b=(0,a.TH)(),y=(0,_.h4)({aid:null===(n=b.state)||void 0===n?void 0:n.applicationId,skip:!(null!==(t=b.state)&&void 0!==t&&t.applicationId)}),C=y.getHostelAppliciontDetail,I=y.getHostelAppliciontDetailRefetch;return(0,o.useEffect)((function(){var e;null!==(e=b.state)&&void 0!==e&&e.applicationId&&I()}),[null===(i=b.state)||void 0===i?void 0:i.applicationId,I]),(0,S.jsxs)(S.Fragment,{children:["application"===(null===(l=b.search)||void 0===l?void 0:l.substring(21))&&(0,S.jsx)(W,{applicationId:null===(s=b.state)||void 0===s?void 0:s.applicationId,hostelId:x,carryParentState:g,applicationDetail:null===C||void 0===C?void 0:C.oneApply,accessRole:j,accessTpye:Z,applicationDetailApplicablePending:null===C||void 0===C?void 0:C.applicable_pending,pageOpenAs:A}),"select"===(null===(d=b.search)||void 0===d?void 0:d.substring(21))&&(0,S.jsx)(ne,{applicationId:null===(c=b.state)||void 0===c?void 0:c.applicationId,hostelId:x,carryParentState:g,applicationDetail:null===C||void 0===C?void 0:C.oneApply,accessRole:j,accessTpye:Z,applicationDetailApplicablePending:null===C||void 0===C?void 0:C.applicable_pending,pageOpenAs:A}),"confirm"===(null===(r=b.search)||void 0===r?void 0:r.substring(21))&&(0,S.jsx)(ce,{applicationId:null===(u=b.state)||void 0===u?void 0:u.applicationId,hostelId:x,carryParentState:g,applicationDetail:null===C||void 0===C?void 0:C.oneApply,unitId:null===(v=b.state)||void 0===v?void 0:v.unitId,accessRole:j,accessTpye:Z,applicationDetailApplicablePending:null===C||void 0===C?void 0:C.applicable_pending,pageOpenAs:A,instituteId:N}),"allot"===(null===(p=b.search)||void 0===p?void 0:p.substring(21))&&(0,S.jsx)(ue,{applicationId:null===(m=b.state)||void 0===m?void 0:m.applicationId,carryParentState:g,applicationDetail:null===C||void 0===C?void 0:C.oneApply,accessRole:j,accessTpye:Z,applicationDetailApplicablePending:null===C||void 0===C?void 0:C.applicable_pending,pageOpenAs:A}),"cancel"===(null===(h=b.search)||void 0===h?void 0:h.substring(21))&&(0,S.jsx)(_e,{applicationId:null===(f=b.state)||void 0===f?void 0:f.applicationId,carryParentState:g,applicationDetail:null===C||void 0===C?void 0:C.oneApply,accessRole:j,accessTpye:Z,applicationDetailApplicablePending:null===C||void 0===C?void 0:C.applicable_pending,pageOpenAs:A})]})},me=t(61503),he=t(95290);function fe(e){var n,t,o,l,a,s,d,c,r,u,v,_,p,m,h,f,g,x,A,N,b,y,C,I,E,R,w,P,T,k=e.data,D=e.carryParentState,M=e.accessRole,O=e.accessTpye,F=e.accessApplication,q=e.setOpenApplicationMenu,H=e.callApi,B=e.pageOpenAs,U=function(e){e.preventDefault(),q(k)};return(0,S.jsx)(S.Fragment,{children:M?O?(0,S.jsx)(Z.Z,{carryParentState:(0,i.Z)((0,i.Z)({},D),{},{applicationId:null===k||void 0===k?void 0:k._id,unitId:null===k||void 0===k||null===(n=k.applicationUnit)||void 0===n?void 0:n._id}),activeTab:"request&ongoing&n=".concat("Application"===O?"application":"Selected"===O?"select":"Confirmed"===O?"confirm":"Allotted"===O?"allot":"cancel"),accessRole:M,accessTpye:O,callApi:H,children:(0,S.jsxs)("div",{className:L.Z.ongoing_card,children:[(0,S.jsxs)("div",{className:L.Z.ongoing_card_inner,children:[(0,S.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,S.jsxs)("div",{className:L.Z.ongoing_card_text,children:[(0,S.jsx)("h6",{children:null===k||void 0===k?void 0:k.applicationName}),(0,S.jsx)("p",{style:{marginBottom:"0"},children:null!==(t=null===k||void 0===k||null===(o=k.applicationUnit)||void 0===o?void 0:o.hostel_unit_name)&&void 0!==t?t:""})]})]}),(0,S.jsx)("div",{className:L.Z.ongoing_card_count_date,children:(0,S.jsxs)("div",{className:L.Z.ongoing_card_count_container,children:[(0,S.jsx)("h6",{children:null!==(l=null===k||void 0===k?void 0:k.receievedCount)&&void 0!==l?l:0}),(0,S.jsx)("h6",{children:null!==(a=null===k||void 0===k?void 0:k.selectCount)&&void 0!==a?a:0}),(0,S.jsx)("h6",{children:null!==(s=null===k||void 0===k?void 0:k.confirmCount)&&void 0!==s?s:0})]})})]})}):null!==F&&void 0!==F&&F.includes(null===k||void 0===k?void 0:k._id)?(0,S.jsx)(Z.Z,{carryParentState:(0,i.Z)((0,i.Z)({},D),{},{applicationId:null===k||void 0===k?void 0:k._id,unitId:null===k||void 0===k||null===(d=k.applicationUnit)||void 0===d?void 0:d._id}),activeTab:"request&ongoing&n=application",accessRole:M,callApi:H,children:(0,S.jsxs)("div",{className:L.Z.ongoing_card,children:[(0,S.jsxs)("div",{className:L.Z.ongoing_card_inner,children:[(0,S.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,S.jsxs)("div",{className:L.Z.ongoing_card_text,children:[(0,S.jsx)("h6",{children:null===k||void 0===k?void 0:k.applicationName}),(0,S.jsx)("p",{style:{marginBottom:"0"},children:null!==(c=null===k||void 0===k||null===(r=k.applicationUnit)||void 0===r?void 0:r.hostel_unit_name)&&void 0!==c?c:""})]})]}),(0,S.jsx)("div",{className:L.Z.ongoing_card_count_date,children:(0,S.jsxs)("div",{className:L.Z.ongoing_card_count_container,children:[(0,S.jsx)("h6",{children:null!==(u=null===k||void 0===k?void 0:k.receievedCount)&&void 0!==u?u:0}),(0,S.jsx)("h6",{children:null!==(v=null===k||void 0===k?void 0:k.selectCount)&&void 0!==v?v:0}),(0,S.jsx)("h6",{children:null!==(_=null===k||void 0===k?void 0:k.confirmCount)&&void 0!==_?_:0})]})})]})}):(0,S.jsxs)("div",{className:L.Z.ongoing_card,style:{opacity:"0.5"},children:[(0,S.jsxs)("div",{className:L.Z.ongoing_card_inner,children:[(0,S.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,S.jsxs)("div",{className:L.Z.ongoing_card_text,children:[(0,S.jsx)("h6",{children:null===k||void 0===k?void 0:k.applicationName}),(0,S.jsxs)("p",{style:{marginBottom:"0"},children:[" ",null!==(p=null===k||void 0===k||null===(m=k.applicationUnit)||void 0===m?void 0:m.hostel_unit_name)&&void 0!==p?p:""]})]})]}),(0,S.jsx)("div",{className:L.Z.ongoing_card_count_date,children:(0,S.jsxs)("div",{className:L.Z.ongoing_card_count_container,children:[(0,S.jsx)("h6",{children:null!==(h=null===k||void 0===k?void 0:k.receievedCount)&&void 0!==h?h:0}),(0,S.jsx)("h6",{children:null!==(f=null===k||void 0===k?void 0:k.selectCount)&&void 0!==f?f:0}),(0,S.jsx)("h6",{children:null!==(g=null===k||void 0===k?void 0:k.confirmCount)&&void 0!==g?g:0})]})})]}):"INSTITUTE"===B?(0,S.jsx)(j.Z,{carryParentState:(0,i.Z)((0,i.Z)({},D),{},{applicationId:null===k||void 0===k?void 0:k._id,unitId:null===k||void 0===k||null===(x=k.applicationUnit)||void 0===x?void 0:x._id}),activeTab:"request&ongoing&n=application",children:(0,S.jsxs)("div",{className:L.Z.ongoing_card,children:[(0,S.jsxs)("div",{className:L.Z.ongoing_card_inner,children:[(0,S.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,S.jsxs)("div",{className:L.Z.ongoing_card_text,children:[(0,S.jsx)("h6",{children:null===k||void 0===k?void 0:k.applicationName}),(0,S.jsx)("p",{style:{marginBottom:"0"},children:null!==(A=null===k||void 0===k||null===(N=k.applicationUnit)||void 0===N?void 0:N.hostel_unit_name)&&void 0!==A?A:""})]})]}),(0,S.jsx)("div",{className:L.Z.ongoing_card_count_date,children:(0,S.jsxs)("div",{className:L.Z.ongoing_card_count_container,children:[(0,S.jsx)("h6",{children:null!==(b=null===k||void 0===k?void 0:k.receievedCount)&&void 0!==b?b:0}),(0,S.jsx)("h6",{children:null!==(y=null===k||void 0===k?void 0:k.selectCount)&&void 0!==y?y:0}),(0,S.jsx)("h6",{children:null!==(C=null===k||void 0===k?void 0:k.confirmCount)&&void 0!==C?C:0})]})}),(0,S.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:U,className:L.Z.menu_icon,title:"Menu"})]})}):(0,S.jsx)(Z.Z,{carryParentState:(0,i.Z)((0,i.Z)({},D),{},{applicationId:null===k||void 0===k?void 0:k._id,unitId:null===k||void 0===k||null===(I=k.applicationUnit)||void 0===I?void 0:I._id}),activeTab:"request&ongoing&n=application",accessRole:M,accessTpye:O,callApi:H,children:(0,S.jsxs)("div",{className:L.Z.ongoing_card,children:[(0,S.jsxs)("div",{className:L.Z.ongoing_card_inner,children:[(0,S.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,S.jsxs)("div",{className:L.Z.ongoing_card_text,children:[(0,S.jsx)("h6",{children:null===k||void 0===k?void 0:k.applicationName}),(0,S.jsx)("p",{style:{marginBottom:"0"},children:null!==(E=null===k||void 0===k||null===(R=k.applicationUnit)||void 0===R?void 0:R.hostel_unit_name)&&void 0!==E?E:""})]})]}),(0,S.jsx)("div",{className:L.Z.ongoing_card_count_date,children:(0,S.jsxs)("div",{className:L.Z.ongoing_card_count_container,children:[(0,S.jsx)("h6",{children:null!==(w=null===k||void 0===k?void 0:k.receievedCount)&&void 0!==w?w:0}),(0,S.jsx)("h6",{children:null!==(P=null===k||void 0===k?void 0:k.selectCount)&&void 0!==P?P:0}),(0,S.jsx)("h6",{children:null!==(T=null===k||void 0===k?void 0:k.confirmCount)&&void 0!==T?T:0})]})}),(0,S.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:U,className:L.Z.menu_icon,title:"Menu"})]})})})}var ge=function(e){var n=e.hid,t=e.accessRole,i=e.accessTpye,a=e.carryParentState,s=e.accessApplication,d=e.callApi,c=e.pageOpenAs,m=(0,l.$G)().t,h=(0,o.useState)(!0),f=(0,u.Z)(h,2),g=f[0],x=f[1],j=(0,o.useState)(1),Z=(0,u.Z)(j,2),A=Z[0],N=Z[1],b=(0,v.YD)(),y=(0,u.Z)(b,2),C=y[0],I=y[1],E=(0,o.useState)([]),R=(0,u.Z)(E,2),w=R[0],P=R[1],T=(0,o.useState)(!0),k=(0,u.Z)(T,2),D=k[0],M=k[1],O=(0,o.useState)(""),F=(0,u.Z)(O,2),q=F[0],H=F[1],B=(0,o.useState)(!1),U=(0,u.Z)(B,2),G=U[0],W=U[1],V=(0,o.useState)(!1),J=(0,u.Z)(V,2),$=J[0],Y=J[1],K=(0,_.Kj)({data:{hid:n,page:A,limit:10},skip:!n}),Q=K.getOngoingApplicationList,z=K.getOngoingApplicationListRefetch;(0,o.useEffect)((function(){I&&g&&N((function(e){return e+1}))}),[I,g]),(0,o.useEffect)((function(){n&&(M(!0),z())}),[n,A,z]),(0,o.useEffect)((function(){var e,n;G?(P(null===Q||void 0===Q?void 0:Q.ongoing),M(!1),W(!1)):null!==Q&&void 0!==Q&&Q.ongoing?(P((function(e){var n,t;return null===(n=(0,r.Z)(new Set(null===(t=[].concat((0,r.Z)(e),(0,r.Z)(null===Q||void 0===Q?void 0:Q.ongoing)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),M(!1)):0===(null===Q||void 0===Q||null===(n=Q.ongoing)||void 0===n?void 0:n.length)&&M(!1);10===(null===Q||void 0===Q||null===(e=Q.ongoing)||void 0===e?void 0:e.length)?x(!0):x(!1)}),[null===Q||void 0===Q?void 0:Q.ongoing]);var X=function(){N(1),W(!0),M(!0),z()};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("p",{className:L.Z.add_new_category,onClick:function(){t||Y((function(e){return!e}))},style:{opacity:t?"0.5":1},children:m("create_new_application")}),(0,S.jsxs)("div",{className:L.Z.remainingFees,children:[null===w||void 0===w?void 0:w.map((function(e,n){return(null===w||void 0===w?void 0:w.length)===n+1?(0,S.jsx)("div",{ref:C,children:(0,S.jsx)(fe,{data:e,carryParentState:a,accessRole:t,accessTpye:i,accessApplication:s,setOpenApplicationMenu:H,callApi:d,pageOpenAs:c})},n):(0,S.jsx)(fe,{data:e,carryParentState:a,accessRole:t,accessTpye:i,accessApplication:s,setOpenApplicationMenu:H,callApi:d,pageOpenAs:c},n)})),D&&(0,S.jsx)(p.Z,{}),q&&(0,S.jsx)(me.Z,{openApplicationMenu:q,onClose:function(){return H("")},onRefetch:X,viewAs:"HOSTEL_MANAGER",hostelId:n})]}),$&&(0,S.jsx)(he.Z,{setCreateApplication:Y,createApplication:$,hostelId:n,setRefetchOngoining:X,viewAs:"HOSTEL_MANAGER"})]})},xe=function(e){var n,t,i,o,c=e.carryParentState,r=(0,l.$G)().t,u=(0,a.TH)(),v=[{name:r("application"),id:0,url:"member/hostel?a=request&renewal&application"},{name:r("selected"),id:1,url:"member/hostel?a=request&renewal&select"},{name:r("confirmed"),id:2,url:"member/hostel?a=request&renewal&renewed"},{name:r("allotted"),id:3,url:"member/hostel?a=request&renewal&allot"},{name:r("cancelled"),id:4,url:"member/hostel?a=request&renewal&cancel"}];return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(d.Z,{tabList:v,activeIndexTab:"application"===(null===(n=u.search)||void 0===n?void 0:n.substring(19))?0:"select"===(null===(t=u.search)||void 0===t?void 0:t.substring(19))?1:"renewed"===(null===(i=u.search)||void 0===i?void 0:i.substring(19))?2:"allot"===(null===(o=u.search)||void 0===o?void 0:o.substring(19))?3:4,showAs:!0,customStyleTab:{width:"100%"},customStyleLink:{width:"20%"},carryParentState:c}),(0,S.jsx)(s.Z,{customStyle:{width:"100%"}})]})},je=t(72441),Ze=function(e){var n,t,i,s,d,c,r,v,p,m,h,f,g,x=e.applicant,j=e.onRefetchWhenSelect,Z=e.hostelId,A=e.huid,N=(0,l.$G)().t,b=(0,a.UO)(),y=(0,a.s0)(),C=(0,o.useState)(!1),I=(0,u.Z)(C,2),E=I[0],w=I[1],P=(0,o.useState)(!1),T=(0,u.Z)(P,2),k=T[0],D=T[1],M=(0,o.useState)(!1),B=(0,u.Z)(M,2),U=B[0],G=B[1],W=(0,_._u)(),V=(0,u.Z)(W,1)[0];return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_container,onClick:function(){var e;y("/q/".concat(b.username,"/student/profile"),{state:{sid:null===x||void 0===x||null===(e=x.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_inner,children:[(0,S.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===x||void 0===x||null===(n=x.student)||void 0===n?void 0:n.photoId)?"".concat(F.yI,"/").concat(null===x||void 0===x||null===(t=x.student)||void 0===t?void 0:t.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,S.jsxs)("div",{className:L.Z.applicant_card_inner_info,children:[(0,S.jsx)("h6",{children:"".concat(null===x||void 0===x||null===(i=x.student)||void 0===i?void 0:i.studentFirstName," ").concat(null!==x&&void 0!==x&&null!==(s=x.student)&&void 0!==s&&s.studentMiddleName?null===x||void 0===x||null===(d=x.student)||void 0===d?void 0:d.studentMiddleName:""," ").concat(null===x||void 0===x||null===(c=x.student)||void 0===c?void 0:c.studentLastName)}),(0,S.jsxs)("p",{children:[N("applied_on"),":"," ",O()(null===x||void 0===x?void 0:x.apply_on).format("DD MMM yyyy")]})]})]}),(0,S.jsxs)("div",{className:L.Z.applicant_card_contact,children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_contact_inner,children:[(0,S.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,S.jsx)("p",{children:null===x||void 0===x||null===(r=x.student)||void 0===r?void 0:r.studentGender})]}),((null===x||void 0===x||null===(v=x.student)||void 0===v?void 0:v.studentPhoneNumber)||(null===x||void 0===x||null===(p=x.student)||void 0===p?void 0:p.studentParentsPhoneNumber))&&(0,S.jsxs)("div",{className:L.Z.applicant_card_contact_inner,children:[(0,S.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,S.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==x&&void 0!==x&&null!==(m=x.student)&&void 0!==m&&m.studentPhoneNumber?null===x||void 0===x||null===(h=x.student)||void 0===h?void 0:h.studentPhoneNumber:null===x||void 0===x||null===(f=x.student)||void 0===f?void 0:f.studentParentsPhoneNumber})]})]}),(0,S.jsxs)("div",{className:L.Z.application_button,children:[(0,S.jsx)("div",{className:L.Z.selectAppBtnContainer,onClick:function(e){e.stopPropagation(),D(!0)},children:(0,S.jsx)("div",{className:L.Z.selectBtn,children:N("select")})}),(0,S.jsx)("div",{className:L.Z.selectAppBtnContainer,onClick:function(e){e.stopPropagation(),w((function(e){return!e}))},children:(0,S.jsx)("div",{className:L.Z.cancelledBtn,children:N("reject")})})]})]}),(0,S.jsx)(q.Z,{children:E&&(0,S.jsx)(je.default,{studentId:null===x||void 0===x||null===(g=x.student)||void 0===g?void 0:g._id,applicationId:A,onClose:function(){return w((function(e){return!e}))},onRefetchWhenSelect:j,viewAs:"RENEWAL"})}),k&&(0,S.jsx)(H.Z,{hostelId:Z,onClose:function(){return D((function(e){return!e}))},onSelectedStudent:function(e){var n,t;""!==(null===x||void 0===x||null===(n=x.student)||void 0===n?void 0:n._id)&&""!==A&&(G((function(e){return!e})),V({sid:null===x||void 0===x||null===(t=x.student)||void 0===t?void 0:t._id,huid:A,selectRenewal:e}).then((function(){j(),G((function(e){return!e}))})).catch((function(){G((function(e){return!e}))})))},batchId:"",classMasterId:""}),U&&(0,S.jsx)(R.Z,{})]})},Se=function(e){var n=e.carryParentState,t=(e.applicationDetail,e.huid),i=e.hostelId,l=e.unitName,a=(e.accessRole,(0,o.useState)(!0)),s=(0,u.Z)(a,2),d=s[0],c=s[1],m=(0,o.useState)(1),h=(0,u.Z)(m,2),f=h[0],g=h[1],x=(0,o.useState)(""),j=(0,u.Z)(x,2),Z=j[0],A=j[1],N=(0,v.YD)(),b=(0,u.Z)(N,2),y=b[0],C=b[1],I=(0,o.useState)([]),E=(0,u.Z)(I,2),R=E[0],w=E[1],P=(0,o.useState)(!1),T=(0,u.Z)(P,2),L=T[0],M=T[1],O=(0,o.useState)(!0),F=(0,u.Z)(O,2),q=F[0],H=F[1],B=(0,_._9)({data:{huid:t,page:f,limit:10,search:Z||""},skip:!t}),U=B.getRenewalApplicationListByHostel,G=B.getRenewalApplicationListByHostelRefetch;(0,o.useEffect)((function(){C&&d&&g((function(e){return e+1}))}),[C,d]),(0,o.useEffect)((function(){t&&(H(!0),G())}),[f,t,G,Z]),(0,o.useEffect)((function(){var e,n;Z?(w(null===U||void 0===U?void 0:U.request),H(!1)):L?(w(null===U||void 0===U?void 0:U.request),M(!1),H(!1)):null!==U&&void 0!==U&&U.request?(w((function(e){var n,t;return null===(n=(0,r.Z)(new Set(null===(t=[].concat((0,r.Z)(e),(0,r.Z)(null===U||void 0===U?void 0:U.request)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),H(!1)):0===(null===U||void 0===U||null===(n=U.request)||void 0===n?void 0:n.length)&&H(!1);10===(null===U||void 0===U||null===(e=U.request)||void 0===e?void 0:e.length)?c(!0):c(!1)}),[null===U||void 0===U?void 0:U.request]);var W=function(){g(1),G(),M(!0)},V=(0,o.useCallback)((0,D.debounce)((function(e){return A(e)}),500),[]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(k,{unitName:l,carryParentState:n,children:(0,S.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:function(e){V(e.target.value)}})}),(0,S.jsx)(xe,{carryParentState:n}),null===R||void 0===R?void 0:R.map((function(e,n){return(null===R||void 0===R?void 0:R.length)===n+1?(0,S.jsx)("div",{ref:y,children:(0,S.jsx)(Ze,{applicant:e,onRefetchWhenSelect:W,hostelId:i,huid:t})},n):(0,S.jsx)(Ze,{applicant:e,onRefetchWhenSelect:W,hostelId:i,huid:t},n)})),q&&(0,S.jsx)(p.Z,{})]})},Ae=function(e){var n,t,i,o,s,d,c,r,u,v,_,p,m,h,f,g,x,j,Z,A,N,b=e.onSelectOffileFees,y=e.applicant,C=(0,l.$G)().t,I=(0,a.UO)(),E=(0,a.s0)();return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)("div",{className:L.Z.applicant_card_container,onClick:function(){var e;E("/q/".concat(I.username,"/student/profile"),{state:{sid:null===y||void 0===y||null===(e=y.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_inner,children:[(0,S.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===y||void 0===y||null===(n=y.student)||void 0===n?void 0:n.photoId)?"".concat(F.yI,"/").concat(null===y||void 0===y||null===(t=y.student)||void 0===t?void 0:t.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,S.jsxs)("div",{className:L.Z.applicant_card_inner_info,children:[(0,S.jsx)("h6",{children:"".concat(null===y||void 0===y||null===(i=y.student)||void 0===i?void 0:i.studentFirstName," ").concat(null!==y&&void 0!==y&&null!==(o=y.student)&&void 0!==o&&o.studentMiddleName?null===y||void 0===y||null===(s=y.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null===y||void 0===y||null===(d=y.student)||void 0===d?void 0:d.studentLastName)}),(0,S.jsxs)("h6",{children:[C("fee_structure")," : ",null!==(c=null===y||void 0===y||null===(r=y.student)||void 0===r||null===(u=r.hostel_fee_structure)||void 0===u||null===(v=u.category_master)||void 0===v?void 0:v.category_name)&&void 0!==c?c:"",", ",C("rs")," ",null!==(_=null===y||void 0===y||null===(p=y.student)||void 0===p||null===(m=p.hostel_fee_structure)||void 0===m?void 0:m.total_admission_fees)&&void 0!==_?_:""]}),(0,S.jsx)("p",{children:null!==y&&void 0!==y&&y.install_type?null===y||void 0===y?void 0:y.install_type:"\n              ".concat(C("select_on"),":\n              ").concat(O()(null===y||void 0===y?void 0:y.select_on).format("DD MMM yyyy"))})]})]}),(0,S.jsxs)("div",{className:L.Z.applicant_card_contact,children:[(0,S.jsxs)("div",{className:L.Z.applicant_card_contact_inner,children:[(0,S.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,S.jsx)("p",{children:null===y||void 0===y||null===(h=y.student)||void 0===h?void 0:h.studentGender})]}),((null===y||void 0===y||null===(f=y.student)||void 0===f?void 0:f.studentPhoneNumber)||(null===y||void 0===y||null===(g=y.student)||void 0===g?void 0:g.studentParentsPhoneNumber))&&(0,S.jsxs)("div",{className:L.Z.applicant_card_contact_inner,children:[(0,S.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,S.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==y&&void 0!==y&&null!==(x=y.student)&&void 0!==x&&x.studentPhoneNumber?null===y||void 0===y||null===(j=y.student)||void 0===j?void 0:j.studentPhoneNumber:null===y||void 0===y||null===(Z=y.student)||void 0===Z?void 0:Z.studentParentsPhoneNumber})]})]}),"receipt requested"===(null===y||void 0===y||null===(A=y.payment_status)||void 0===A?void 0:A.toLowerCase())?(0,S.jsx)("div",{className:L.Z.selectBtnContainer,children:(0,S.jsx)("div",{className:L.Z.receipt_requested_btn,onClick:function(e){e.stopPropagation()},children:C("receipt_requested")})}):(0,S.jsx)("div",{className:L.Z.selectBtnContainer,children:"pending"===(null===y||void 0===y||null===(N=y.payment_status)||void 0===N?void 0:N.toLowerCase())&&(0,S.jsx)("div",{className:L.Z.selectBtn,onClick:function(e){e.stopPropagation(),b(y)},children:C("collect_fee")})})]})})},Ne=function(e){var n=e.carryParentState,t=e.huid,i=e.unitName,l=(0,o.useState)(!0),a=(0,u.Z)(l,2),s=a[0],d=a[1],c=(0,o.useState)(1),m=(0,u.Z)(c,2),h=m[0],f=m[1],g=(0,o.useState)(""),x=(0,u.Z)(g,2),j=x[0],Z=x[1],A=(0,v.YD)(),N=(0,u.Z)(A,2),b=N[0],y=N[1],C=(0,o.useState)([]),I=(0,u.Z)(C,2),E=I[0],R=I[1],w=(0,o.useState)(!1),P=(0,u.Z)(w,2),T=P[0],L=P[1],M=(0,o.useState)(!0),O=(0,u.Z)(M,2),F=O[0],q=O[1],H=(0,o.useState)(""),B=(0,u.Z)(H,2),U=B[0],G=B[1],W=(0,o.useState)(""),V=(0,u.Z)(W,2),J=V[0],$=V[1],Y=(0,_.y$)({data:{huid:t,page:h,limit:10,search:j||""},skip:!t}),K=Y.getRenewalSelectListByHostel,Q=Y.getRenewalSelectListByHostelRefetch;(0,o.useEffect)((function(){y&&s&&f((function(e){return e+1}))}),[y,s]),(0,o.useEffect)((function(){t&&(q(!0),Q())}),[h,t,Q,j]),(0,o.useEffect)((function(){var e,n;j?(R(null===K||void 0===K?void 0:K.select),q(!1)):T?(R(null===K||void 0===K?void 0:K.select),L(!1),q(!1)):null!==K&&void 0!==K&&K.select?(R((function(e){var n,t;return null===(n=(0,r.Z)(new Set(null===(t=[].concat((0,r.Z)(e),(0,r.Z)(null===K||void 0===K?void 0:K.select)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),q(!1)):0===(null===K||void 0===K||null===(n=K.select)||void 0===n?void 0:n.length)&&q(!1);10===(null===K||void 0===K||null===(e=K.select)||void 0===e?void 0:e.length)?d(!0):d(!1)}),[null===K||void 0===K?void 0:K.select]);var z=(0,o.useCallback)((0,D.debounce)((function(e){return Z(e)}),500),[]),ee=function(e){$(e),G("COLLECT_FEES")};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(k,{unitName:i,carryParentState:n,children:(0,S.jsx)("input",{type:"text",placeholder:"Search applications...",onChange:function(e){z(e.target.value)}})}),(0,S.jsx)(xe,{carryParentState:n}),null===E||void 0===E?void 0:E.map((function(e,n){return(null===E||void 0===E?void 0:E.length)===n+1?(0,S.jsx)("div",{ref:b,children:(0,S.jsx)(Ae,{applicant:e,onSelectOffileFees:ee})},n):(0,S.jsx)(Ae,{applicant:e,onSelectOffileFees:ee},n)})),F&&(0,S.jsx)(p.Z,{}),"COLLECT_FEES"===U&&(0,S.jsx)(X,{applicant:J,applicationId:null===J||void 0===J?void 0:J.appId,huid:t,onRefetchWhenConfirm:function(){f(1),Q(),L(!0)},onClose:function(){return G("")},viewAs:"RENEWAL"})]})},be=function(e){var n=e.carryParentState,t=e.huid,i=e.unitName,l=(0,o.useState)(!0),a=(0,u.Z)(l,2),s=a[0],d=a[1],c=(0,o.useState)(1),m=(0,u.Z)(c,2),h=m[0],f=m[1],g=(0,o.useState)(""),x=(0,u.Z)(g,2),j=x[0],Z=x[1],A=(0,v.YD)(),N=(0,u.Z)(A,2),b=N[0],y=N[1],C=(0,o.useState)([]),I=(0,u.Z)(C,2),E=I[0],R=I[1],w=(0,o.useState)(!1),P=(0,u.Z)(w,2),T=P[0],L=P[1],M=(0,o.useState)(!0),O=(0,u.Z)(M,2),F=O[0],q=O[1],H=(0,o.useState)(""),B=(0,u.Z)(H,2),U=B[0],G=B[1],W=(0,o.useState)(""),V=(0,u.Z)(W,2),J=V[0],$=V[1],Y=(0,_.gK)({data:{huid:t,page:h,limit:10,search:j||""},skip:!t}),K=Y.getRenewalRenewedListByHostel,Q=Y.getRenewalRenewedListByHostelRefetch;(0,o.useEffect)((function(){y&&s&&f((function(e){return e+1}))}),[y,s]),(0,o.useEffect)((function(){t&&(q(!0),Q())}),[h,t,Q,j]),(0,o.useEffect)((function(){var e,n;j?(R(null===K||void 0===K?void 0:K.confirm),q(!1)):T?(R(null===K||void 0===K?void 0:K.confirm),L(!1),q(!1)):null!==K&&void 0!==K&&K.confirm?(R((function(e){var n,t;return null===(n=(0,r.Z)(new Set(null===(t=[].concat((0,r.Z)(e),(0,r.Z)(null===K||void 0===K?void 0:K.confirm)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),q(!1)):0===(null===K||void 0===K||null===(n=K.confirm)||void 0===n?void 0:n.length)&&q(!1);10===(null===K||void 0===K||null===(e=K.confirm)||void 0===e?void 0:e.length)?d(!0):d(!1)}),[null===K||void 0===K?void 0:K.confirm]);var z=function(){f(1),Q(),L(!0)},X=(0,o.useCallback)((0,D.debounce)((function(e){return Z(e)}),500),[]),ee=function(e){$(e),G("CANCEL_APPLICANT")},ne=function(e){$(e),G("ALLOT_BED")};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(k,{unitName:i,carryParentState:n,children:(0,S.jsx)("input",{type:"text",placeholder:"Search applications...",onChange:function(e){X(e.target.value)}})}),(0,S.jsx)(xe,{carryParentState:n}),null===E||void 0===E?void 0:E.map((function(e,n){return(null===E||void 0===E?void 0:E.length)===n+1?(0,S.jsx)("div",{ref:b,children:(0,S.jsx)(ie,{applicant:e,onCancelHostelApplication:ee,onAllotBed:ne})},n):(0,S.jsx)(ie,{applicant:e,onCancelHostelApplication:ee,onAllotBed:ne},n)})),F&&(0,S.jsx)(p.Z,{}),"CANCEL_APPLICANT"===U&&(0,S.jsx)(oe,{currentApplicant:J,applicationId:null===J||void 0===J?void 0:J.appId,onRefetchWhenAction:z,onClose:function(){return G("")},viewAs:"RENEWAL",huid:t}),"ALLOT_BED"===U&&(0,S.jsx)(de,{currentApplicant:J,applicationId:null===J||void 0===J?void 0:J.appId,onRefetchWhenAction:z,onClose:function(){return G("")},unitId:t,viewAs:"RENEWAL"})]})},ye=function(e){var n=e.carryParentState,t=e.huid,i=e.unitName,l=(0,o.useState)(!0),a=(0,u.Z)(l,2),s=a[0],d=a[1],c=(0,o.useState)(1),m=(0,u.Z)(c,2),h=m[0],f=m[1],g=(0,v.YD)(),x=(0,u.Z)(g,2),j=x[0],Z=x[1],A=(0,o.useState)([]),N=(0,u.Z)(A,2),b=N[0],y=N[1],C=(0,o.useState)(!0),I=(0,u.Z)(C,2),E=I[0],R=I[1],w=(0,o.useState)(""),P=(0,u.Z)(w,2),T=P[0],L=P[1],M=(0,_.cK)({data:{huid:t,page:h,limit:10,search:T||""},skip:!t}),O=M.getRenewalAllotListByHostel,F=M.getRenewalAllotListByHostelRefetch;(0,o.useEffect)((function(){Z&&s&&f((function(e){return e+1}))}),[Z,s]),(0,o.useEffect)((function(){t&&(R(!0),F())}),[h,t,F,T]),(0,o.useEffect)((function(){var e,n;T?(y(null===O||void 0===O?void 0:O.allot),R(!1)):null!==O&&void 0!==O&&O.allot?(y((function(e){var n,t;return null===(n=(0,r.Z)(new Set(null===(t=[].concat((0,r.Z)(e),(0,r.Z)(null===O||void 0===O?void 0:O.allot)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),R(!1)):0===(null===O||void 0===O||null===(n=O.allot)||void 0===n?void 0:n.length)&&R(!1);10===(null===O||void 0===O||null===(e=O.allot)||void 0===e?void 0:e.length)?d(!0):d(!1)}),[null===O||void 0===O?void 0:O.allot]);var q=(0,o.useCallback)((0,D.debounce)((function(e){return L(e)}),500),[]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(k,{unitName:i,carryParentState:n,children:(0,S.jsx)("input",{type:"text",placeholder:"Search applications...",onChange:function(e){q(e.target.value)}})}),(0,S.jsx)(xe,{carryParentState:n}),null===b||void 0===b?void 0:b.map((function(e,n){return(null===b||void 0===b?void 0:b.length)===n+1?(0,S.jsx)("div",{ref:j,children:(0,S.jsx)(re,{applicant:e})},n):(0,S.jsx)(re,{applicant:e},n)})),E&&(0,S.jsx)(p.Z,{})]})},Ce=function(e){var n=e.carryParentState,t=e.huid,i=e.unitName,l=(0,o.useState)(!0),a=(0,u.Z)(l,2),s=a[0],d=a[1],c=(0,o.useState)(1),m=(0,u.Z)(c,2),h=m[0],f=m[1],g=(0,v.YD)(),x=(0,u.Z)(g,2),j=x[0],Z=x[1],A=(0,o.useState)([]),N=(0,u.Z)(A,2),b=N[0],y=N[1],C=(0,o.useState)(""),I=(0,u.Z)(C,2),E=I[0],R=I[1],w=(0,o.useState)(!0),P=(0,u.Z)(w,2),T=P[0],L=P[1],M=(0,_.R4)({data:{huid:t,page:h,limit:10,search:E||""},skip:!t}),O=M.getRenewalCancelListByHostel,F=M.getRenewalCancelListByHostelRefetch;(0,o.useEffect)((function(){Z&&s&&f((function(e){return e+1}))}),[Z,s]),(0,o.useEffect)((function(){t&&(L(!0),F())}),[h,t,F]),(0,o.useEffect)((function(){var e,n;E?(y(null===O||void 0===O?void 0:O.cancel),L(!1)):null!==O&&void 0!==O&&O.cancel?(y((function(e){var n,t;return null===(n=(0,r.Z)(new Set(null===(t=[].concat((0,r.Z)(e),(0,r.Z)(null===O||void 0===O?void 0:O.cancel)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),L(!1)):0===(null===O||void 0===O||null===(n=O.cancel)||void 0===n?void 0:n.length)&&L(!1);10===(null===O||void 0===O||null===(e=O.cancel)||void 0===e?void 0:e.length)?d(!0):d(!1)}),[null===O||void 0===O?void 0:O.cancel]);var q=(0,o.useCallback)((0,D.debounce)((function(e){return R(e)}),500),[]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(k,{unitName:i,carryParentState:n,children:(0,S.jsx)("input",{type:"text",placeholder:"Search applications...",onChange:function(e){q(e.target.value)}})}),(0,S.jsx)(xe,{carryParentState:n}),null===b||void 0===b?void 0:b.map((function(e,n){return(null===b||void 0===b?void 0:b.length)===n+1?(0,S.jsx)("div",{ref:j,children:(0,S.jsx)(ve,{applicant:e})},n):(0,S.jsx)(ve,{applicant:e},n)})),T&&(0,S.jsx)(p.Z,{})]})},Ie=function(e){var n,t,i,o,l,s,d,c,r,u,v,_,p,m,h,f=e.carryParentState,g=e.hid,x=(0,a.TH)();return(0,S.jsxs)(S.Fragment,{children:["application"===(null===(n=x.search)||void 0===n?void 0:n.substring(19))&&(0,S.jsx)(Se,{hostelId:g,carryParentState:f,huid:null===(t=x.state)||void 0===t?void 0:t.huid,unitName:null===(i=x.state)||void 0===i?void 0:i.unitName}),"select"===(null===(o=x.search)||void 0===o?void 0:o.substring(19))&&(0,S.jsx)(Ne,{hostelId:g,carryParentState:f,huid:null===(l=x.state)||void 0===l?void 0:l.huid,unitName:null===(s=x.state)||void 0===s?void 0:s.unitName}),"renewed"===(null===(d=x.search)||void 0===d?void 0:d.substring(19))&&(0,S.jsx)(be,{carryParentState:f,huid:null===(c=x.state)||void 0===c?void 0:c.huid,unitName:null===(r=x.state)||void 0===r?void 0:r.unitName}),"allot"===(null===(u=x.search)||void 0===u?void 0:u.substring(19))&&(0,S.jsx)(ye,{carryParentState:f,huid:null===(v=x.state)||void 0===v?void 0:v.huid,unitName:null===(_=x.state)||void 0===_?void 0:_.unitName}),"cancel"===(null===(p=x.search)||void 0===p?void 0:p.substring(19))&&(0,S.jsx)(Ce,{carryParentState:f,huid:null===(m=x.state)||void 0===m?void 0:m.huid,unitName:null===(h=x.state)||void 0===h?void 0:h.unitName})]})},Ee=t(60080),Re=function(e){var n,t,o,r,u,v,_,p,m,h,f=e.hid,g=e.carryParentState,x=e.accessApplication,j=e.accessRole,Z=e.accessTpye,A=e.callApi,N=e.pageOpenAs,y=e.instituteId,C=(0,l.$G)().t,I=(0,a.s0)(),E=(0,a.TH)(),R=(0,a.UO)(),w=[{name:C("application"),id:0,url:"member/hostel?a=request",is_active:"MULTI_APP_ACCESS"!==j&&j?"disabled":"enabled"},{name:C("completed"),id:1,url:"member/hostel?a=request&completed",is_active:j?"disabled":"enabled"},{name:C("renewals"),id:2,url:"member/hostel?a=request&unit&renewal",is_active:"RENEWAL_UNIT_ACCESS"!==j&&j?"disabled":"enabled"}],P=[{name:C("application"),id:0,url:"hostel?a=request",is_active:"enabled"},{name:C("completed"),id:1,url:"hostel?a=request&completed",is_active:"enabled"},{name:C("renewals"),id:2,url:"hostel?a=request&unit&renewal",is_active:"enabled"}];return(0,S.jsxs)(S.Fragment,{children:[("request"===(null===(n=E.search)||void 0===n?void 0:n.substring(3))||"request&completed"===(null===(t=E.search)||void 0===t?void 0:t.substring(3))||"request&unit&renewal"===(null===(o=E.search)||void 0===o?void 0:o.substring(3)))&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:c.Z.with_search,style:{justifyContent:"flex-start",gap:"1rem"},children:[(0,S.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){I("/q/".concat(R.username,"INSTITUTE"===N?"/hostel":"/member/hostel"),{state:(0,i.Z)({},g)})},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,S.jsx)("h6",{children:C("reuqests")})]}),(0,S.jsx)(d.Z,{tabList:"INSTITUTE"===N?P:w,activeIndexTab:"request"===(null===(r=E.search)||void 0===r?void 0:r.substring(3))?0:"request&completed"===(null===(u=E.search)||void 0===u?void 0:u.substring(3))?1:2,showAs:!0,customStyleLink:{width:"50%"},carryParentState:g}),(0,S.jsx)(s.Z,{customStyle:{width:"100%",marginBottom:"0.5rem"}})]}),"request"===(null===(v=E.search)||void 0===v?void 0:v.substring(3))&&(0,S.jsx)(ge,{hid:f,carryParentState:g,accessRole:j,accessTpye:Z,accessApplication:x,callApi:A,pageOpenAs:N}),"request&ongoing"===(null===(_=E.search)||void 0===_?void 0:_.substring(3,18))&&(0,S.jsx)(pe,{hid:f,carryParentState:g,accessRole:j,accessTpye:Z,callApi:A,pageOpenAs:N,instituteId:y}),"request&completed"===(null===(p=E.search)||void 0===p?void 0:p.substring(3,20))&&(0,S.jsx)(b,{hid:f,carryParentState:g,accessRole:j,accessTpye:Z,callApi:A,pageOpenAs:N}),"request&unit&renewal"===(null===(m=E.search)||void 0===m?void 0:m.substring(3))&&(0,S.jsx)(Ee.Z,{hid:f,carryParentState:g,viewAs:"RENEWAL"}),"request&renewal"===(null===(h=E.search)||void 0===h?void 0:h.substring(3,18))&&(0,S.jsx)(Ie,{hid:f,carryParentState:g})]})}},82104:function(e,n,t){t.d(n,{Z:function(){return E}});var i=t(93433),o=t(29439),l=t(72791),a=t(39230),s=t(23441),d=t(98094),c=t(10406),r=t(11105),u=t(87338),v=t(1413),_=t(36665),p=t(87457),m=t(57431),h=t(98734),f=t(97655),g=t(80184),x=function(e){var n=e.onClose,t=e.onRefetch,i=e.openAs,s=e.batchMenu,c=e.onEdit,r=e.hostelId,x=e.instituteId,j=(0,a.$G)().t,Z=(0,l.useState)(""),S=(0,o.Z)(Z,2),A=S[0],N=S[1],b=(0,l.useState)(!1),y=(0,o.Z)(b,2),C=y[0],I=y[1],E=(0,l.useState)({batchName:"EDIT"===i?null===s||void 0===s?void 0:s.batchName:""}),R=(0,o.Z)(E,2),w=R[0],P=R[1],T=(0,u.yZ)(),k=(0,o.Z)(T,1)[0];(0,l.useEffect)((function(){"EDIT"===i&&P((function(e){return(0,v.Z)((0,v.Z)({},e),{},{batchName:null===s||void 0===s?void 0:s.batchName})}))}),[i]);return(0,g.jsx)(_.Z,{onClose:n,children:(0,g.jsxs)("div",{className:p.Z.add_category_modal,children:[(0,g.jsxs)("div",{className:p.Z.add_category_modal_title,children:[(0,g.jsx)("h6",{children:j("EDIT"===i?"edit_batch":"add_new_batch")}),(0,g.jsx)("img",{src:"/images/close-post-icon.svg",onClick:n,alt:""})]}),(0,g.jsx)(d.Z,{customStyle:{width:"100%",marginTop:"0.6rem",marginBottom:"0.6rem"}}),(0,g.jsx)(f.Z,{labelText:j("batch-name-place"),placeholder:"e.g. 2022-23",name:"batchName",value:null===w||void 0===w?void 0:w.batchName,type:"text",onChange:function(e){var n;(null===(n=e.target.value)||void 0===n?void 0:n.length)<=30&&P((function(n){return(0,v.Z)((0,v.Z)({},n),{},{batchName:e.target.value})}))},errorShow:A}),(0,g.jsx)(m.Z,{maxLength:30,valueLength:w.batchName}),(0,g.jsx)("button",{className:p.Z.set_fees_structure_btn,title:"Create Batch",onClick:function(){w.batchName?"EDIT"===i?c(w.batchName):r&&(I((function(e){return!e})),k({hid:r,id:x,hostelBatch:w}).then((function(){t(),n(),I((function(e){return!e}))})).catch({})):N(!0)},style:{justifyContent:"center"},children:j("EDIT"===i?"update":"create")}),C&&(0,g.jsx)(h.Z,{})]})})},j=t(72426),Z=t.n(j),S=t(12072),A=t(84489),N=t(87049),b=function(e){var n=e.onClose,t=e.batchMenu,i=e.onRefetch,a=e.hostelId,s=e.onMasterApiRefetch,d=(0,l.useState)(!1),c=(0,o.Z)(d,2),r=c[0],v=c[1],_=(0,l.useState)(!1),p=(0,o.Z)(_,2),m=p[0],f=p[1],j=(0,u.ML)(),Z=(0,o.Z)(j,1)[0],b=(0,u.c2)(),y=(0,o.Z)(b,1)[0],C=(0,u.b7)(),I=(0,o.Z)(C,1)[0];return(0,g.jsx)(g.Fragment,{children:m?(0,g.jsx)(x,{openAs:"EDIT",onEdit:function(e){null!==t&&void 0!==t&&t._id&&(f(!1),v((function(e){return!e})),Z({bid:null===t||void 0===t?void 0:t._id,updateBatch:{batchName:e}}).then((function(){i(),v((function(e){return!e})),n()})).catch({}))},batchMenu:t,onClose:function(){return f((function(e){return!e}))},onRefetch:i,hostelId:a}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(A.Z,{onClose:n}),(0,g.jsxs)(S.Z,{customStyle:{zIndex:"1200"},children:[(0,g.jsxs)("div",{className:N.Z.edit_modal_container,style:{width:"200px"},children:[(0,g.jsx)("h6",{className:N.Z.edit,onClick:function(){null!==t&&void 0!==t&&t._id&&a&&(v((function(e){return!e})),I({hid:a,bid:null===t||void 0===t?void 0:t._id}).then((function(){s(),v((function(e){return!e})),n()})).catch({}))},children:"Select Batch"})," ",(0,g.jsx)("h6",{className:N.Z.edit,onClick:function(){return f((function(e){return!e}))},children:"Edit"}),(0,g.jsx)("h6",{className:N.Z.remove,onClick:function(){null!==t&&void 0!==t&&t._id&&(v((function(e){return!e})),y({bid:null===t||void 0===t?void 0:t._id}).then((function(){i(),n(),v((function(e){return!e}))})).catch({}))},children:"Delete"})]}),r&&(0,g.jsx)(h.Z,{})]})]})})},y=function(e){var n,t=e.batch,i=e.selectedId,s=e.hostelId,d=e.onRefetch,r=e.onMasterApiRefetch,u=(0,a.$G)().t,v=(0,l.useState)(""),_=(0,o.Z)(v,2),p=_[0],m=_[1];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:c.Z.hostel_batch_container,style:{backgroundColor:i===(null===t||void 0===t?void 0:t._id)?"rgb(226, 229, 232)":"inherit"},children:[(0,g.jsx)("img",{className:c.Z.hostel_batch_image,src:"/images/master-24-grey-icon.svg",alt:"batch icon",style:{borderRadius:"0"}}),(0,g.jsxs)("div",{className:c.Z.hostel_batch_container_text,children:[(0,g.jsx)("h6",{children:null!==(n=null===t||void 0===t?void 0:t.batchName)&&void 0!==n?n:""}),(0,g.jsxs)("p",{children:[u("created_on_")," ",Z()(null===t||void 0===t?void 0:t.createdAt).format("DD MMM yyyy")]})]}),(0,g.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(){return m(t)},className:c.Z.hostel_batch_menu,title:"Menu"})]}),p&&(0,g.jsx)(b,{onClose:function(){return m("")},hostelId:s,onRefetch:d,batchMenu:p,onMasterApiRefetch:r})]})},C=t(47167),I=t(16871),E=function(e){var n,t=e.hid,v=e.selectedBacthId,_=e.onMasterApiRefetch,p=e.carryParentState,m=e.pageOpenAs,h=e.instituteId,f=(0,a.$G)().t,j=(0,I.TH)(),Z=(0,l.useState)([{name:f("batch"),id:0,url:"member/hostel?a=batch"},{name:f("hostel_tab_standard"),id:1,url:"member/hostel?a=standard"}]),S=(0,o.Z)(Z,2),A=S[0],N=S[1],b=(0,l.useState)(!1),E=(0,o.Z)(b,2),R=E[0],w=E[1],P=(0,s.YD)(),T=(0,o.Z)(P,2),k=T[0],D=T[1],L=(0,l.useState)(1),M=(0,o.Z)(L,2),O=M[0],F=M[1],q=(0,l.useState)(!0),H=(0,o.Z)(q,2),B=H[0],U=H[1],G=(0,l.useState)(!0),W=(0,o.Z)(G,2),V=W[0],J=W[1],$=(0,l.useState)([]),Y=(0,o.Z)($,2),K=Y[0],Q=Y[1],z=(0,l.useState)(!1),X=(0,o.Z)(z,2),ee=X[0],ne=X[1],te=(0,u.si)({data:{hid:t,id:h,page:O,limit:10},skip:!t}),ie=te.getHostelAllBatch,oe=te.getHostelAllBatchRefetch;(0,l.useEffect)((function(){m&&N([{name:f("batch"),id:0,url:"hostel?a=batch"},{name:f("hostel_tab_standard"),id:1,url:"hostel?a=standard"}])}),[m]),(0,l.useEffect)((function(){t&&(J(!0),oe())}),[t,O,oe]),(0,l.useEffect)((function(){D&&B&&F((function(e){return e+1}))}),[D,B]),(0,l.useEffect)((function(){var e,n;ee?(Q(null===ie||void 0===ie?void 0:ie.all_batches),J(!1),ne(!1)):null!==ie&&void 0!==ie&&ie.all_batches?(Q((function(e){var n,t;return null===(n=(0,i.Z)(new Set(null===(t=[].concat((0,i.Z)(e),(0,i.Z)(null===ie||void 0===ie?void 0:ie.all_batches)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),J(!1)):0===(null===ie||void 0===ie||null===(n=ie.all_batches)||void 0===n?void 0:n.length)&&J(!1);10===(null===ie||void 0===ie||null===(e=ie.all_batches)||void 0===e?void 0:e.length)?U(!0):U(!1)}),[null===ie||void 0===ie?void 0:ie.all_batches]);var le=function(){F(1),ne(!0),J(!0),oe()},ae=function(){w((function(e){return!e}))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(C.Z,{tabList:A,activeIndexTab:"batch"===(null===(n=j.search)||void 0===n?void 0:n.substring(3))?0:1,showAs:!0,customStyleTab:{width:"100%",marginTop:"-1rem"},customStyleLink:{width:"50%"},carryParentState:p}),(0,g.jsx)(d.Z,{customStyle:{marginBottom:"0.6rem",width:"100%"}}),(0,g.jsx)("div",{className:c.Z.with_search,children:(0,g.jsx)("h6",{children:f("hostel_batch")})}),(0,g.jsx)(d.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,g.jsx)("div",{className:c.Z.add_container,children:(0,g.jsx)("p",{className:c.Z.add_new_category,onClick:ae,children:f("create_new_batch")})}),null===K||void 0===K?void 0:K.map((function(e,n){return(null===K||void 0===K?void 0:K.length)===n+1?(0,g.jsx)("div",{ref:k,children:(0,g.jsx)(y,{batch:e,hostelId:t,onRefetch:le,selectedId:v,onMasterApiRefetch:_})},null===e||void 0===e?void 0:e._id):(0,g.jsx)(y,{batch:e,hostelId:t,onRefetch:le,selectedId:v,onMasterApiRefetch:_},null===e||void 0===e?void 0:e._id)})),V&&(0,g.jsx)(r.Z,{status:"white"}),R&&(0,g.jsx)(x,{onClose:ae,hostelId:t,onRefetch:le,instituteId:h})]})}},42850:function(e,n,t){t.d(n,{Z:function(){return v}});t(72791);var i=t(16871),o=t(91104),l=t(35848),a=t(87457),s=t(39230),d=t(55271),c=t(22492),r=t(80184),u=function(e){var n,t,i=e.fees_category_count,o=e.fee_master_array_count,l=e.fee_structure_count,u=e.carryParentState,v=e.accessRole,_=e.callApi,p=e.pageOpenAs,m=(0,s.$G)().t;return(0,r.jsx)(r.Fragment,{children:"INSTITUTE"===p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{carryParentState:u,activeTab:"fee&n=category",children:(0,r.jsxs)("div",{className:a.Z.fees_category,children:[(0,r.jsx)("div",{className:a.Z.fees_category_icon,children:(0,r.jsx)("img",{src:"/images/fees-category-icon.svg",alt:"categor icon"})}),(0,r.jsxs)("div",{className:a.Z.fees_category_text,children:[(0,r.jsx)("h6",{children:m("fees_master")}),(0,r.jsxs)("p",{children:[m("fees_total")," ",null!==(n=i+o)&&void 0!==n?n:0]})]})]})}),(0,r.jsx)(c.Z,{carryParentState:u,activeTab:"fee&n=structure",children:(0,r.jsxs)("div",{className:a.Z.department_card_container,style:{marginTop:"0.8rem"},children:[(0,r.jsx)("img",{src:"/images/profileAndCover/department-profile-img.svg",alt:"department avatar",className:a.Z.department_card_image}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h6",{className:a.Z.department_card_name,children:m("fees_structure")}),(0,r.jsxs)("p",{className:a.Z.department_card_head,children:[m("total_fees_structure")," ",null!==l&&void 0!==l?l:0]})]})]})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{carryParentState:u,activeTab:"fee&n=category",accessRole:v,callApi:_,children:(0,r.jsxs)("div",{className:a.Z.fees_category,children:[(0,r.jsx)("div",{className:a.Z.fees_category_icon,children:(0,r.jsx)("img",{src:"/images/fees-category-icon.svg",alt:"categor icon"})}),(0,r.jsxs)("div",{className:a.Z.fees_category_text,children:[(0,r.jsx)("h6",{children:m("fees_master")}),(0,r.jsxs)("p",{children:[m("fees_total")," ",null!==(t=i+o)&&void 0!==t?t:0]})]})]})}),(0,r.jsx)(d.Z,{carryParentState:u,activeTab:"fee&n=structure",accessRole:v,callApi:_,children:(0,r.jsxs)("div",{className:a.Z.department_card_container,style:{marginTop:"0.8rem"},children:[(0,r.jsx)("img",{src:"/images/profileAndCover/department-profile-img.svg",alt:"department avatar",className:a.Z.department_card_image}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h6",{className:a.Z.department_card_name,children:m("fees_structure")}),(0,r.jsxs)("p",{className:a.Z.department_card_head,children:[m("total_fees_structure")," ",null!==l&&void 0!==l?l:0]})]})]})})]})})},v=function(e){var n,t,s,d=e.financeId,c=e.instituteId,v=e.fees_category_count,_=e.fee_master_array_count,p=e.fee_structure_count,m=e.carryParentState,h=e.accessRole,f=e.hostelId,g=e.callApi,x=e.pageOpenAs,j=(0,i.TH)();return(0,r.jsxs)("div",{className:a.Z.fess_container,children:["fee"===(null===j||void 0===j||null===(n=j.search)||void 0===n?void 0:n.substring(3))&&(0,r.jsx)(u,{instituteId:c,fees_category_count:null!==v&&void 0!==v?v:0,carryParentState:m,fee_master_array_count:null!==_&&void 0!==_?_:0,fee_structure_count:p,accessRole:h,callApi:g,pageOpenAs:x}),"category"===(null===j||void 0===j||null===(t=j.search)||void 0===t?void 0:t.substring(9))&&(0,r.jsx)(o.Z,{financeId:d,openAs:"HOSTEL_MANAGER"}),"structure"===(null===j||void 0===j||null===(s=j.search)||void 0===s?void 0:s.substring(9))&&(0,r.jsx)(l.Z,{financeId:d,instituteId:c,hostelId:f})]})}},35848:function(e,n,t){var i=t(93433),o=t(29439),l=t(72791),a=t(39230),s=t(23441),d=t(87338),c=t(98734),r=t(11105),u=t(98094),v=t(33302),_=t(66328),p=t(87457),m=t(16871),h=t(80184);n.Z=function(e){var n=e.financeId,t=e.hostelId,f=e.instituteId,g=e.viewAs,x=(0,a.$G)().t,j=(0,m.s0)(),Z=(0,l.useState)(!1),S=(0,o.Z)(Z,2),A=S[0],N=S[1],b=(0,s.YD)(),y=(0,o.Z)(b,2),C=y[0],I=y[1],E=(0,l.useState)(1),R=(0,o.Z)(E,2),w=R[0],P=R[1],T=(0,l.useState)(!0),k=(0,o.Z)(T,2),D=k[0],L=k[1],M=(0,l.useState)(!1),O=(0,o.Z)(M,2),F=O[0],q=O[1],H=(0,l.useState)(!0),B=(0,o.Z)(H,2),U=B[0],G=B[1],W=(0,l.useState)([]),V=(0,o.Z)(W,2),J=V[0],$=V[1],Y=(0,l.useState)(""),K=(0,o.Z)(Y,2),Q=K[0],z=K[1],X=(0,l.useState)(!1),ee=(0,o.Z)(X,2),ne=ee[0],te=(ee[1],(0,d.Sz)({data:{hid:t,page:w,limit:10},skip:!t})),ie=te.getHostelFeeStructureList,oe=te.getHostelFeeStructureListRefetch;(0,l.useEffect)((function(){t&&(G(!0),oe())}),[t,w,oe]),(0,l.useEffect)((function(){I&&D&&P((function(e){return e+1}))}),[I,D]),(0,l.useEffect)((function(){var e,n;F?($(null===ie||void 0===ie?void 0:ie.all_structures),G(!1),q(!1)):null!==ie&&void 0!==ie&&ie.all_structures?($((function(e){var n,t;return null===(n=(0,i.Z)(new Set(null===(t=[].concat((0,i.Z)(e),(0,i.Z)(null===ie||void 0===ie?void 0:ie.all_structures)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),G(!1)):0===(null===ie||void 0===ie||null===(n=ie.all_structures)||void 0===n?void 0:n.length)&&G(!1);10===(null===ie||void 0===ie||null===(e=ie.all_structures)||void 0===e?void 0:e.length)?L(!0):L(!1)}),[null===ie||void 0===ie?void 0:ie.all_structures]);var le=function(){N((function(e){return!e}))},ae=function(){P(1),q(!0),G(!0),oe()};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:p.Z.structure_container_title,style:{justifyContent:"HOSTEL_SEARCH"===g?"flex-start":"space-between",gap:"1rem"},children:["HOSTEL_SEARCH"===g&&(0,h.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){j(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,h.jsx)("h6",{children:x("fees_structure")}),(0,h.jsx)("div",{className:p.Z.upload_excel_container,children:"HOSTEL_SEARCH"===g?"":(0,h.jsx)("p",{className:p.Z.add_new_category,onClick:le,children:x("add_new_fees_structure")})})]}),(0,h.jsx)(u.Z,{customStyle:{marginBottom:"1rem"}}),null===J||void 0===J?void 0:J.map((function(e,n){var t,i,o,l,a,s,d,c,r,u,v,_;return(null===J||void 0===J?void 0:J.length)===n+1?(0,h.jsxs)("div",{className:p.Z.fees_card,ref:C,onClick:function(){return z(null===e||void 0===e?void 0:e._id)},style:{cursor:"pointer"},children:[(0,h.jsx)("img",{src:"/images/fees-category-icon.svg",alt:"categor icon"}),(0,h.jsxs)("div",{className:p.Z.fees_card_text,children:[(0,h.jsxs)("div",{className:p.Z.fees_card_text_bottom,children:[(0,h.jsx)("h6",{children:null!==(t=null===e||void 0===e||null===(i=e.category_master)||void 0===i?void 0:i.category_name)&&void 0!==t?t:""}),(0,h.jsx)("h6",{children:null!==(o=null===e||void 0===e||null===(l=e.class_master)||void 0===l?void 0:l.className)&&void 0!==o?o:""})]}),(0,h.jsxs)("div",{className:p.Z.fees_card_text_bottom,children:[(0,h.jsx)("h6",{children:null!==(a=null===e||void 0===e?void 0:e.structure_name)&&void 0!==a?a:""}),(0,h.jsx)("h6",{children:null!==(s=null===e||void 0===e?void 0:e.total_admission_fees)&&void 0!==s?s:0})]})]})]},null===e||void 0===e?void 0:e._id):(0,h.jsxs)("div",{className:p.Z.fees_card,onClick:function(){return z(null===e||void 0===e?void 0:e._id)},style:{cursor:"pointer"},children:[(0,h.jsx)("img",{src:"/images/fees-category-icon.svg",alt:"categor icon"}),(0,h.jsxs)("div",{className:p.Z.fees_card_text,children:[(0,h.jsxs)("div",{className:p.Z.fees_card_text_bottom,children:[(0,h.jsx)("h6",{children:null!==(d=null===e||void 0===e||null===(c=e.category_master)||void 0===c?void 0:c.category_name)&&void 0!==d?d:""}),(0,h.jsx)("h6",{children:null!==(r=null===e||void 0===e||null===(u=e.class_master)||void 0===u?void 0:u.className)&&void 0!==r?r:""})]}),(0,h.jsxs)("div",{className:p.Z.fees_card_text_bottom,children:[(0,h.jsx)("h6",{children:null!==(v=null===e||void 0===e?void 0:e.structure_name)&&void 0!==v?v:""}),(0,h.jsx)("h6",{children:null!==(_=null===e||void 0===e?void 0:e.total_admission_fees)&&void 0!==_?_:0})]})]})]},null===e||void 0===e?void 0:e._id)})),ne&&(0,h.jsx)(c.Z,{}),U&&(0,h.jsx)(r.Z,{}),A&&(0,h.jsx)(v.Z,{onClose:le,financeId:n,departmentId:t,onRefetch:ae,instituteId:f,flowAs:"Hostel_Manager"}),Q&&(0,h.jsx)(_.Z,{structureId:Q,setStructureId:z,onRefetch:ae,departmentId:t,instituteId:f,financeId:n,flowAs:"Hostel_Manager",viewAs:g})]})}},48025:function(e,n,t){t.d(n,{Z:function(){return g}});var i=t(93433),o=t(29439),l=t(72791),a=t(39230),s=t(23441),d=t(763),c=t(10406),r=t(11105),u=t(98094),v=t(16871),_=t(43504),p=t(69721),m=t(80184),h=function(e){var n,t,i,o=e.applicant,l=(0,a.$G)().t,s=(0,v.UO)();return(0,m.jsx)(_.rU,{to:"/q/".concat(s.username,"/student/profile/hostel"),state:{sid:null===o||void 0===o?void 0:o._id,viewAs:"ADMISSION_ADMIN",openTab:"FEES_DATA"},children:(0,m.jsxs)("div",{className:c.Z.hostelite_container,title:"View Profile",children:[(0,m.jsx)("img",{alt:"Student Avatar",src:"1"!==o.photoId?"".concat(p.yI,"/").concat(null===o||void 0===o?void 0:o.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,m.jsxs)("div",{className:c.Z.hostelite_container_inner,children:[(0,m.jsxs)("div",{className:c.Z.hostelite_container_inner_text,children:[(0,m.jsx)("h6",{children:"".concat(o.studentFirstName," ").concat(o.studentMiddleName?o.studentMiddleName:""," ").concat(o.studentLastName)}),(0,m.jsx)("p",{children:null!==(n=null===o||void 0===o||null===(t=o.student_unit)||void 0===t?void 0:t.hostel_unit_name)&&void 0!==n?n:""})]}),(0,m.jsxs)("div",{className:c.Z.hostelite_container_inner_text,children:[(0,m.jsxs)("h6",{children:[l("rs")," ",". ",null!==(i=null===o||void 0===o?void 0:o.hostelRemainFeeCount)&&void 0!==i?i:0]}),(0,m.jsx)("p",{children:l("pending_fees")})]})]})]})})},f=t(87338),g=function(e){var n=e.hid,t=e.instituteId,v=(0,a.$G)().t,_=(0,s.YD)(),p=(0,o.Z)(_,2),g=p[0],x=p[1],j=(0,l.useState)(1),Z=(0,o.Z)(j,2),S=Z[0],A=Z[1],N=(0,l.useState)(!0),b=(0,o.Z)(N,2),y=b[0],C=b[1],I=(0,l.useState)(!0),E=(0,o.Z)(I,2),R=E[0],w=E[1],P=(0,l.useState)([]),T=(0,o.Z)(P,2),k=T[0],D=T[1],L=(0,l.useState)(""),M=(0,o.Z)(L,2),O=M[0],F=M[1],q=(0,f.ah)({data:{hid:n,page:S,limit:10,search:O,id:t},skip:!n}),H=q.getPendingFeeByHostel,B=q.getPendingFeeByHostelRefetch;(0,l.useEffect)((function(){n&&(w(!0),B())}),[n,t,S,O,B]),(0,l.useEffect)((function(){x&&y&&A((function(e){return e+1}))}),[x,y]),(0,l.useEffect)((function(){var e,n;O?(D(null===H||void 0===H?void 0:H.remain),w(!1)):null!==H&&void 0!==H&&H.remain?(D((function(e){var n,t;return null===(n=(0,i.Z)(new Set(null===(t=[].concat((0,i.Z)(e),(0,i.Z)(null===H||void 0===H?void 0:H.remain)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),w(!1)):0===(null===H||void 0===H||null===(n=H.remain)||void 0===n?void 0:n.length)&&w(!1);10===(null===H||void 0===H||null===(e=H.remain)||void 0===e?void 0:e.length)?C(!0):C(!1)}),[null===H||void 0===H?void 0:H.remain]);var U=(0,l.useCallback)((0,d.debounce)((function(e){return F(e)}),500),[]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:c.Z.with_search,children:[(0,m.jsx)("h6",{children:v("remaining_fees")}),(0,m.jsx)("section",{className:c.Z.search_container,children:(0,m.jsxs)("div",{className:c.Z.search_container_input,children:[(0,m.jsx)("img",{className:c.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,m.jsx)("input",{type:"text",placeholder:"Search...",onChange:function(e){U(e.target.value)}})]})})]}),(0,m.jsx)(u.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),null===k||void 0===k?void 0:k.map((function(e,n){return(null===k||void 0===k?void 0:k.length)===n+1?(0,m.jsx)("div",{ref:g,children:(0,m.jsx)(h,{applicant:e})},null===e||void 0===e?void 0:e._id):(0,m.jsx)(h,{applicant:e},null===e||void 0===e?void 0:e._id)})),R&&(0,m.jsx)(r.Z,{})]})}},19765:function(e,n,t){var i=t(4942),o=t(1413),l=t(93433),a=t(37762),s=t(29439),d=t(72791),c=t(92994),r=t(39230),u=t(16871),v=t(72952),_=t(98734),p=t(98094),m=t(78687),h=t(91007),f=t(97655),g=t(39601),x=t(87338),j=t(84959),Z=t(21559),S=t(5574),A=t(81622),N=t(80184);n.Z=function(e){var n,t,b,y,C=e.hid,I=e.viewAs,E=(0,r.$G)().t,R=(0,u.s0)(),w=(0,d.useState)(!1),P=(0,s.Z)(w,2),T=P[0],k=P[1],D=(0,d.useState)({hostel_about:"",hostel_process:"",cashier_name:"",cashier_signature:""}),L=(0,s.Z)(D,2),M=L[0],O=L[1],F=(0,d.useState)([{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}]),q=(0,s.Z)(F,2),H=q[0],B=q[1],U=(0,d.useState)(""),G=(0,s.Z)(U,2),W=G[0],V=G[1],J=(0,d.useState)(""),$=(0,s.Z)(J,2),Y=$[0],K=$[1],Q=(0,d.useState)(!1),z=(0,s.Z)(Q,2),X=z[0],ee=z[1],ne=(0,d.useState)(!1),te=(0,s.Z)(ne,2),ie=te[0],oe=te[1],le=(0,d.useState)(""),ae=(0,s.Z)(le,2),se=(ae[0],ae[1]),de=(0,m.useSelector)((function(e){return e.idChange.id})),ce=(0,h.pu)(de,{skip:"INSTITUTE"===I||!de}),re=ce.data,ue=ce.refetch;(0,d.useEffect)((function(){de&&ue()}),[de,ue]);var ve=(0,x.FA)({hid:C,skip:!C}),_e=ve.hostelGetSiteInfo,pe=ve.hostelGetSiteInfoRefetch,me=(0,x.wJ)(),he=(0,s.Z)(me,1)[0],fe=(0,j.FL)(),ge=(0,s.Z)(fe,1)[0];(0,d.useEffect)((function(){C&&pe()}),[C,pe]),(0,d.useEffect)((function(){var e,n,t,i,o,l;if(null!==_e&&void 0!==_e&&_e.hostel_site&&(O({hostel_about:null===_e||void 0===_e||null===(e=_e.hostel_site)||void 0===e?void 0:e.hostel_about,hostel_process:null===_e||void 0===_e||null===(n=_e.hostel_site)||void 0===n?void 0:n.hostel_process,cashier_name:null===_e||void 0===_e||null===(t=_e.hostel_site)||void 0===t?void 0:t.cashier_name,cashier_signature:null===_e||void 0===_e||null===(i=_e.hostel_site)||void 0===i?void 0:i.cashier_signature}),null!==_e&&void 0!==_e&&null!==(o=_e.hostel_site)&&void 0!==o&&null!==(l=o.hostel_contact)&&void 0!==l&&l.length)){var s,d,c=[],r=(0,a.Z)(null===_e||void 0===_e||null===(s=_e.hostel_site)||void 0===s?void 0:s.hostel_contact);try{for(r.s();!(d=r.n()).done;){var u=d.value,v={contact_department_name:null===u||void 0===u?void 0:u.contact_department_name,contact_person_name:null===u||void 0===u?void 0:u.contact_person_name,contact_person_mobile:null===u||void 0===u?void 0:u.contact_person_mobile,contact_person_email:null===u||void 0===u?void 0:u.contact_person_email,contactId:null===u||void 0===u?void 0:u._id};c.push(v)}}catch(_){r.e(_)}finally{r.f()}B(c)}}),[null===_e||void 0===_e?void 0:_e.hostel_site]);var xe=function(e,n){for(var t=(0,l.Z)(H),i=0;i<(null===t||void 0===t?void 0:t.length);i++)i===n&&(t[i][e.target.name]=e.target.value);B(t)},je=function(e){O((function(n){return(0,o.Z)((0,o.Z)({},n),{},(0,i.Z)({},e.target.name,e.target.value))}))};(0,d.useEffect)((function(){ie&&function(e){if(e){k((function(e){return!e}));var n=new FormData;n.append("file",e),ge({fileUpload:n}).then((function(e){var n;null!==(n=e.data)&&void 0!==n&&n.imageKey&&O((function(n){var t;return(0,o.Z)((0,o.Z)({},n),{},{cashier_signature:null===(t=e.data)||void 0===t?void 0:t.imageKey})})),k((function(e){return!e}))})).catch({})}}(Y)}),[ie,Y]);return(0,N.jsxs)("div",{className:c.Z.bgContainer,children:["INSTITUTE"===I?null:(0,N.jsx)("div",{className:c.Z.navbar,children:(0,N.jsx)(g.default,{status:"members",profileData:null===re||void 0===re?void 0:re.user,username:null===re||void 0===re||null===(n=re.user)||void 0===n?void 0:n.username,name:null===re||void 0===re||null===(t=re.user)||void 0===t?void 0:t.userLegalName,photoId:null===re||void 0===re||null===(b=re.user)||void 0===b?void 0:b.photoId,profilePhoto:null===re||void 0===re||null===(y=re.user)||void 0===y?void 0:y.profilePhoto})}),(0,N.jsxs)("div",{className:c.Z.container,children:[(0,N.jsxs)("div",{className:c.Z.containerhead,children:[(0,N.jsx)("h6",{children:E("update_hostel_site_info")}),(0,N.jsx)("img",{src:"/images/close-post-icon.svg",alt:"",onClick:function(){R(-1)}})]}),(0,N.jsx)(p.Z,{customStyle:{width:"100%"}}),(0,N.jsx)("div",{className:c.Z.containercontent,children:(0,N.jsxs)("div",{className:c.Z.container_inner_content,children:[(0,N.jsx)(v.Z,{labelText:E("about_hostel_department"),placeholder:E("about_hostel_department_placeholder"),name:"hostel_about",value:M.hostel_about,type:"text",onChange:je,customStyleContainer:{width:"100%"}}),(0,N.jsx)(v.Z,{labelText:E("hostel_process_site"),placeholder:E("hostel_process_site_placeholder"),name:"hostel_process",value:M.hostel_process,type:"text",onChange:je,customStyleContainer:{width:"100%"}}),(0,N.jsxs)("div",{className:c.Z.show_field,style:{alignItems:"flex-start"},children:[(0,N.jsx)(f.Z,{labelText:E("site_cashier_name"),placeholder:E("site_cashier_name_placeholder"),name:"cashier_name",value:null===M||void 0===M?void 0:M.cashier_name,type:"text",onChange:je,customStyleContainer:{width:"69.5%"}}),(0,N.jsx)(A.Z,{labelText:E("cashier_signature"),name:"cashier_signature",value:M.cashier_signature,onChange:function(e){if(e.target.files[0]){var n=URL.createObjectURL(e.target.files[0]);K(e.target.files[0]),se(n),V(n),ee(!0)}},customStyleContainer:{width:"29.5%"}})]}),(0,N.jsxs)("div",{className:c.Z.add_contact_person,children:[(0,N.jsx)("h6",{children:E("add_contact_persons")}),null===H||void 0===H?void 0:H.map((function(e,n){return(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{className:c.Z.show_field,children:[(0,N.jsx)(f.Z,{labelText:E("site_department_name"),placeholder:E("site_department_name_placeholder"),name:"contact_department_name",value:null===e||void 0===e?void 0:e.contact_department_name,type:"text",onChange:function(e){return xe(e,n)},customStyleContainer:{width:"49.5%"}}),(0,N.jsx)(f.Z,{labelText:E("contact_person_name"),placeholder:E("contact_person_name_placeholder"),name:"contact_person_name",value:null===e||void 0===e?void 0:e.contact_person_name,type:"text",onChange:function(e){return xe(e,n)},customStyleContainer:{width:"49.5%"}})]}),(0,N.jsxs)("div",{className:c.Z.show_field,children:[(0,N.jsx)(f.Z,{labelText:E("contact_person_mobile"),placeholder:E("contact_person_mobile_placeholder"),name:"contact_person_mobile",value:null===e||void 0===e?void 0:e.contact_person_mobile,type:"text",onChange:function(e){return xe(e,n)},customStyleContainer:{width:"49.5%"}}),(0,N.jsx)(f.Z,{labelText:E("contact_person_email"),placeholder:E("contact_person_email_placeholder"),name:"contact_person_email",value:null===e||void 0===e?void 0:e.contact_person_email,type:"email",onChange:function(e){return xe(e,n)},customStyleContainer:{width:"49.5%"}})]})]},n)}))]}),(0,N.jsx)("button",{className:c.Z.add_contact_person_btn,title:"Add Contact Person",onClick:function(){B((function(e){return[].concat((0,l.Z)(e),[{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}])}))},children:E("add_contact_person")}),T&&(0,N.jsx)(_.Z,{}),(0,N.jsx)("button",{className:c.Z.update_btn,onClick:function(){k((function(e){return!e})),he({hid:C,updateSiteInfo:(0,o.Z)((0,o.Z)({},M),{},{hostel_contact:null===H||void 0===H?void 0:H.filter((function(e){return null!==e&&void 0!==e&&e.contactId?"":e})),edit_hostel_contact:null===H||void 0===H?void 0:H.filter((function(e){return null!==e&&void 0!==e&&e.contactId?e:""}))})}).then((function(){k((function(e){return!e}))})).catch({})},children:E("update")}),(0,N.jsx)(S.Z,{open:X,children:(0,N.jsx)(Z.Z,{setPhotoURL:V,photoURL:W,setFile:K,setOpenCrop:ee,setUpload:oe,setProfilePhoto:se,first:1,second:1})})]})})]})]})}},73309:function(e,n,t){t.d(n,{Z:function(){return A}});var i=t(29439),o=t(72791),l=t(39230),a=t(98094),s=t(10406),d=t(11105),c=t(1413),r=t(36665),u=t(87457),v=t(57431),_=t(98734),p=t(87338),m=t(97655),h=t(80184),f=function(e){var n=e.onClose,t=e.onRefetch,s=e.hostelId,d=(0,l.$G)().t,f=(0,o.useState)(""),g=(0,i.Z)(f,2),x=g[0],j=g[1],Z=(0,o.useState)(!1),S=(0,i.Z)(Z,2),A=S[0],N=S[1],b=(0,o.useState)({className:""}),y=(0,i.Z)(b,2),C=y[0],I=y[1],E=(0,p.T4)(),R=(0,i.Z)(E,1)[0];return(0,h.jsx)(r.Z,{onClose:n,children:(0,h.jsxs)("div",{className:u.Z.add_category_modal,children:[(0,h.jsxs)("div",{className:u.Z.add_category_modal_title,children:[(0,h.jsx)("h6",{children:d("create_new_master")}),(0,h.jsx)("img",{src:"/images/close-post-icon.svg",onClick:n,alt:""})]}),(0,h.jsx)(a.Z,{customStyle:{width:"100%",marginTop:"0.6rem",marginBottom:"0.6rem"}}),(0,h.jsx)(m.Z,{labelText:d("create_master_header_2"),placeholder:d("e.g. 6th Class/ FYJC"),name:"className",value:null===C||void 0===C?void 0:C.className,type:"text",onChange:function(e){var n;(null===(n=e.target.value)||void 0===n?void 0:n.length)<=40&&I((function(n){return(0,c.Z)((0,c.Z)({},n),{},{className:e.target.value})}))},errorShow:x}),(0,h.jsx)(v.Z,{maxLength:40,valueLength:C.className}),(0,h.jsx)("button",{className:u.Z.set_fees_structure_btn,title:"Create Standard",onClick:function(){C.className?s&&(N((function(e){return!e})),R({hid:s,hostelStandard:C}).then((function(){t(),n(),N((function(e){return!e}))})).catch({})):j(!0)},style:{justifyContent:"center"},children:d("create")}),A&&(0,h.jsx)(_.Z,{})]})})},g=t(72426),x=t.n(g),j=function(e){var n,t=e.standard,i=(0,l.$G)().t;return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:s.Z.hostel_batch_container,children:[(0,h.jsx)("img",{className:s.Z.hostel_batch_image,src:"/images/master-24-grey-icon.svg",alt:"batch icon",style:{borderRadius:"0"}}),(0,h.jsxs)("div",{className:s.Z.hostel_batch_container_text,children:[(0,h.jsx)("h6",{children:null!==(n=null===t||void 0===t?void 0:t.className)&&void 0!==n?n:""}),(0,h.jsxs)("p",{children:[i("created_on_")," ",x()(null===t||void 0===t?void 0:t.createdAt).format("DD MMM yyyy")]})]})]})})},Z=t(16871),S=t(47167),A=function(e){var n,t,c=e.hid,r=e.carryParentState,u=e.pageOpenAs,v=(0,l.$G)().t,_=(0,Z.TH)(),m=(0,o.useState)([{name:v("batch"),id:0,url:"member/hostel?a=batch"},{name:v("hostel_tab_standard"),id:1,url:"member/hostel?a=standard"}]),g=(0,i.Z)(m,2),x=g[0],A=g[1],N=(0,o.useState)(!1),b=(0,i.Z)(N,2),y=b[0],C=b[1],I=(0,o.useState)(!0),E=(0,i.Z)(I,2),R=E[0],w=E[1],P=(0,p.yg)({hid:c,skip:!c}),T=P.getHostelAllStandard,k=P.getHostelAllStandardRefetch;(0,o.useEffect)((function(){u&&A([{name:v("batch"),id:0,url:"hostel?a=batch"},{name:v("hostel_tab_standard"),id:1,url:"hostel?a=standard"}])}),[u]),(0,o.useEffect)((function(){c&&(w(!0),k())}),[c,k]),(0,o.useEffect)((function(){var e;(null!==T&&void 0!==T&&T.all_masters||0===(null===T||void 0===T||null===(e=T.all_masters)||void 0===e?void 0:e.length))&&w(!1)}),[null===T||void 0===T?void 0:T.all_masters]);var D=function(){C((function(e){return!e}))};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(S.Z,{tabList:x,activeIndexTab:"batch"===(null===(n=_.search)||void 0===n?void 0:n.substring(3))?0:1,showAs:!0,customStyleTab:{width:"100%",marginTop:"-1rem"},customStyleLink:{width:"50%"},carryParentState:r}),(0,h.jsx)(a.Z,{customStyle:{marginBottom:"0.6rem",width:"100%"}}),(0,h.jsx)("div",{className:s.Z.with_search,children:(0,h.jsx)("h6",{children:v("hostel_standard")})}),(0,h.jsx)(a.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,h.jsx)("div",{className:s.Z.add_container,children:(0,h.jsx)("p",{className:s.Z.add_new_category,onClick:D,children:v("create_new_standard")})}),null===T||void 0===T||null===(t=T.all_masters)||void 0===t?void 0:t.map((function(e){return(0,h.jsx)(j,{standard:e},null===e||void 0===e?void 0:e._id)})),R&&(0,h.jsx)(d.Z,{status:"white"}),y&&(0,h.jsx)(f,{onClose:D,hostelId:c,onRefetch:function(){w(!0),k()}})]})}},49802:function(e,n,t){var i=t(4942),o=t(1413),l=t(29439),a=t(72791),s=t(39230),d=t(87338),c=t(98094),r=t(96146),u=t(90865),v=t(36721),_=t(10406),p=t(80184);n.Z=function(e){var n,t=e.hid,m=(0,a.useState)(""),h=(0,l.Z)(m,2),f=h[0],g=h[1],x=(0,s.$G)().t,j=(0,a.useState)(!1),Z=(0,l.Z)(j,2),S=Z[0],A=Z[1],N=(0,d._M)(),b=(0,l.Z)(N,1)[0],y=(0,d.GC)({hid:t,skip:!t}),C=y.getHostelForm,I=y.getHostelFormRefetch,E=(0,a.useState)({otherPersonalInfo:!1,enrollmentPrn:!1,identityDetails:!1,addressInfo:!1,parentsInfo:!1,previousSchoolAndDocument:{previousSchoolDocument:!1,aadharCard:!1,identityDocument:!1,casteCertificate:!1,joiningTransferLetter:!1,leavingTransferCertificate:!1,incomeCertificate:!1,lastYearMarksheet:!1,nationalityCertificate:!1,domicileCertificate:!1,nonCreamyLayerCertificate:!1},bankDetails:!1,cpi:!1,ug_undertakings_hostel_admission:!1,pg_undertakings_hostel_admission:!1}),R=(0,l.Z)(E,2),w=R[0],P=R[1];(0,a.useEffect)((function(){t&&I()}),[t,I]),(0,a.useEffect)((function(){var e,n,t,i,o,l,a,s,d,c,r,u,v,_,p,m,h,f,g,x,j,Z,S,A,N,b,y,I,E,R,w,T,k,D,L,M,O,F,q,H,B,U,G,W,V,J,$,Y,K,Q;null!==C&&void 0!==C&&null!==(e=C.one_hostel)&&void 0!==e&&e.student_form_query&&P({otherPersonalInfo:null===C||void 0===C||null===(n=C.one_hostel)||void 0===n||null===(t=n.student_form_query)||void 0===t?void 0:t.otherPersonalInfo,enrollmentPrn:null===C||void 0===C||null===(i=C.one_hostel)||void 0===i||null===(o=i.student_form_query)||void 0===o?void 0:o.enrollmentPrn,identityDetails:null===C||void 0===C||null===(l=C.one_hostel)||void 0===l||null===(a=l.student_form_query)||void 0===a?void 0:a.identityDetails,addressInfo:null===C||void 0===C||null===(s=C.one_hostel)||void 0===s||null===(d=s.student_form_query)||void 0===d?void 0:d.addressInfo,parentsInfo:null===C||void 0===C||null===(c=C.one_hostel)||void 0===c||null===(r=c.student_form_query)||void 0===r?void 0:r.parentsInfo,previousSchoolAndDocument:{previousSchoolDocument:null===C||void 0===C||null===(u=C.one_hostel)||void 0===u||null===(v=u.student_form_query)||void 0===v||null===(_=v.previousSchoolAndDocument)||void 0===_?void 0:_.previousSchoolDocument,aadharCard:null===C||void 0===C||null===(p=C.one_hostel)||void 0===p||null===(m=p.student_form_query)||void 0===m||null===(h=m.previousSchoolAndDocument)||void 0===h?void 0:h.aadharCard,identityDocument:null===C||void 0===C||null===(f=C.one_hostel)||void 0===f||null===(g=f.student_form_query)||void 0===g||null===(x=g.previousSchoolAndDocument)||void 0===x?void 0:x.identityDocument,casteCertificate:null===C||void 0===C||null===(j=C.one_hostel)||void 0===j||null===(Z=j.student_form_query)||void 0===Z||null===(S=Z.previousSchoolAndDocument)||void 0===S?void 0:S.casteCertificate,joiningTransferLetter:null===C||void 0===C||null===(A=C.one_hostel)||void 0===A||null===(N=A.student_form_query)||void 0===N||null===(b=N.previousSchoolAndDocument)||void 0===b?void 0:b.joiningTransferLetter,leavingTransferCertificate:null===C||void 0===C||null===(y=C.one_hostel)||void 0===y||null===(I=y.student_form_query)||void 0===I||null===(E=I.previousSchoolAndDocument)||void 0===E?void 0:E.leavingTransferCertificate,incomeCertificate:null===C||void 0===C||null===(R=C.one_hostel)||void 0===R||null===(w=R.student_form_query)||void 0===w||null===(T=w.previousSchoolAndDocument)||void 0===T?void 0:T.incomeCertificate,lastYearMarksheet:null===C||void 0===C||null===(k=C.one_hostel)||void 0===k||null===(D=k.student_form_query)||void 0===D||null===(L=D.previousSchoolAndDocument)||void 0===L?void 0:L.lastYearMarksheet,nationalityCertificate:null===C||void 0===C||null===(M=C.one_hostel)||void 0===M||null===(O=M.student_form_query)||void 0===O||null===(F=O.previousSchoolAndDocument)||void 0===F?void 0:F.nationalityCertificate,domicileCertificate:null===C||void 0===C||null===(q=C.one_hostel)||void 0===q||null===(H=q.student_form_query)||void 0===H||null===(B=H.previousSchoolAndDocument)||void 0===B?void 0:B.domicileCertificate,nonCreamyLayerCertificate:null===C||void 0===C||null===(U=C.one_hostel)||void 0===U||null===(G=U.student_form_query)||void 0===G||null===(W=G.previousSchoolAndDocument)||void 0===W?void 0:W.nonCreamyLayerCertificate},bankDetails:null===C||void 0===C||null===(V=C.one_hostel)||void 0===V||null===(J=V.student_form_query)||void 0===J?void 0:J.bankDetails,cpi:null===C||void 0===C||null===($=C.one_hostel)||void 0===$||null===(Y=$.student_form_query)||void 0===Y?void 0:Y.cpi,ug_undertakings_hostel_admission:null===C||void 0===C||null===(K=C.one_hostel)||void 0===K?void 0:K.ug_undertakings_hostel_admission,pg_undertakings_hostel_admission:null===C||void 0===C||null===(Q=C.one_hostel)||void 0===Q?void 0:Q.pg_undertakings_hostel_admission})}),[null===C||void 0===C||null===(n=C.one_hostel)||void 0===n?void 0:n.student_form_query]);var T=function(e,n){var l=(0,o.Z)({},w);for(var a in l)a===e&&(l[a]=n);b({hid:t,formSetting:{student_form_query:l,ug_undertakings_hostel_admission:l.ug_undertakings_hostel_admission,pg_undertakings_hostel_admission:l.pg_undertakings_hostel_admission}}).then((function(){g("Add joining details updated"),A(!0)})).catch({}),P((function(t){return(0,o.Z)((0,o.Z)({},t),{},(0,i.Z)({},e,n))}))},k=function(e,n){var l=(0,o.Z)({},w);for(var a in"previousSchoolDocument"!==e||n||(l.previousSchoolAndDocument.aadharCard=!1,l.previousSchoolAndDocument.casteCertificate=!1,l.previousSchoolAndDocument.domicileCertificate=!1,l.previousSchoolAndDocument.identityDocument=!1,l.previousSchoolAndDocument.incomeCertificate=!1,l.previousSchoolAndDocument.joiningTransferLetter=!1,l.previousSchoolAndDocument.lastYearMarksheet=!1,l.previousSchoolAndDocument.leavingTransferCertificate=!1,l.previousSchoolAndDocument.nationalityCertificate=!1,l.previousSchoolAndDocument.nonCreamyLayerCertificate=!1),l.previousSchoolAndDocument)a===e&&(l.previousSchoolAndDocument[a]=n);b({hid:t,formSetting:{student_form_query:l}}).then((function(){g("Add joining details updated"),A(!0)})).catch({}),P((function(t){return(0,o.Z)((0,o.Z)({},t),{},{previousSchoolAndDocument:(0,o.Z)((0,o.Z)({},t.previousSchoolAndDocument),{},(0,i.Z)({},e,n))})}))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:_.Z.with_search,children:(0,p.jsx)("h6",{children:x("hostel_form_setting")})}),(0,p.jsx)(c.Z,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),(0,p.jsxs)("div",{className:_.Z.staff_form_container,children:[(0,p.jsx)(u.Z,{labelHeading:x("personal_info_"),labelDescription:x("name_"),defaultLabel:!0}),(0,p.jsx)(c.Z,{}),(0,p.jsx)(u.Z,{labelHeading:x("enrollment_number"),labelDescription:x("enrollment_label_text"),defaultLabel:!1,checkedToggle:w.enrollmentPrn,onToggleHandler:function(e){return T("enrollmentPrn",e.target.checked)}}),(0,p.jsx)(c.Z,{}),(0,p.jsx)(u.Z,{labelHeading:x("other_info"),labelDescription:x("label_text"),defaultLabel:!1,checkedToggle:w.otherPersonalInfo,onToggleHandler:function(e){return T("otherPersonalInfo",e.target.checked)}}),(0,p.jsx)(c.Z,{}),(0,p.jsx)(u.Z,{labelHeading:x("i_details"),labelDescription:x("labeltext2"),defaultLabel:!1,checkedToggle:w.identityDetails,onToggleHandler:function(e){return T("identityDetails",e.target.checked)}}),(0,p.jsx)(c.Z,{}),(0,p.jsx)(u.Z,{labelHeading:x("add_info"),labelDescription:x("labeltext3"),defaultLabel:!1,checkedToggle:w.addressInfo,onToggleHandler:function(e){return T("addressInfo",e.target.checked)}}),(0,p.jsx)(c.Z,{}),(0,p.jsx)(u.Z,{labelHeading:x("parent_info_"),labelDescription:x("label_text2"),defaultLabel:!1,checkedToggle:w.parentsInfo,onToggleHandler:function(e){return T("parentsInfo",e.target.checked)}}),(0,p.jsx)(c.Z,{}),(0,p.jsxs)(u.Z,{labelHeading:x("prev_school_"),labelDescription:"",defaultLabel:!1,checkedToggle:w.previousSchoolAndDocument.previousSchoolDocument,onToggleHandler:function(e){return k("previousSchoolDocument",e.target.checked)},children:[(0,p.jsx)(r.Z,{checkLabel:x("aadhar_card"),checkedValue:w.previousSchoolAndDocument.aadharCard,onCheckboxAction:function(e){return k("aadharCard",e.target.checked)}}),(0,p.jsx)(r.Z,{checkLabel:x("labeltext4"),checkedValue:w.previousSchoolAndDocument.identityDocument,onCheckboxAction:function(e){return k("identityDocument",e.target.checked)}}),(0,p.jsx)(r.Z,{checkLabel:x("castee_"),checkedValue:w.previousSchoolAndDocument.casteCertificate,onCheckboxAction:function(e){return k("casteCertificate",e.target.checked)}}),(0,p.jsx)(r.Z,{checkLabel:x("joining_letter"),checkedValue:w.previousSchoolAndDocument.joiningTransferLetter,onCheckboxAction:function(e){return k("joiningTransferLetter",e.target.checked)}}),(0,p.jsx)(r.Z,{checkLabel:x("certificates"),checkedValue:w.previousSchoolAndDocument.leavingTransferCertificate,onCheckboxAction:function(e){return k("leavingTransferCertificate",e.target.checked)}}),(0,p.jsx)(r.Z,{checkLabel:x("i_certificate"),checkedValue:w.previousSchoolAndDocument.incomeCertificate,onCheckboxAction:function(e){return k("incomeCertificate",e.target.checked)}}),(0,p.jsx)(r.Z,{checkLabel:x("marksheet"),checkedValue:w.previousSchoolAndDocument.lastYearMarksheet,onCheckboxAction:function(e){return k("lastYearMarksheet",e.target.checked)}}),(0,p.jsx)(r.Z,{checkLabel:x("n_certificate"),checkedValue:w.previousSchoolAndDocument.nationalityCertificate,onCheckboxAction:function(e){return k("nationalityCertificate",e.target.checked)}}),(0,p.jsx)(r.Z,{checkLabel:x("d_certificate"),checkedValue:w.previousSchoolAndDocument.domicileCertificate,onCheckboxAction:function(e){return k("domicileCertificate",e.target.checked)}}),(0,p.jsx)(r.Z,{checkLabel:x("non_cremy"),checkedValue:w.previousSchoolAndDocument.nonCreamyLayerCertificate,onCheckboxAction:function(e){return k("nonCreamyLayerCertificate",e.target.checked)}})]}),(0,p.jsx)(c.Z,{}),(0,p.jsx)(u.Z,{labelHeading:x("bank_details_"),labelDescription:x("labeltext5"),defaultLabel:!1,checkedToggle:w.bankDetails,onToggleHandler:function(e){return T("bankDetails",e.target.checked)}}),(0,p.jsx)(c.Z,{}),(0,p.jsx)(u.Z,{labelHeading:x("hostel_cpi"),labelDescription:x("hostel_cpi_text"),defaultLabel:!1,checkedToggle:w.cpi,onToggleHandler:function(e){return T("cpi",e.target.checked)}}),(0,p.jsx)(c.Z,{}),(0,p.jsx)(u.Z,{labelHeading:x("turn_off_on_ug_hostel_undertakings"),labelDescription:"",defaultLabel:!1,checkedToggle:w.ug_undertakings_hostel_admission,onToggleHandler:function(e){return T("ug_undertakings_hostel_admission",e.target.checked)}}),(0,p.jsx)(c.Z,{}),(0,p.jsx)(u.Z,{labelHeading:x("turn_off_on_pg_hostel_undertakings"),labelDescription:"",defaultLabel:!1,checkedToggle:w.pg_undertakings_hostel_admission,onToggleHandler:function(e){return T("pg_undertakings_hostel_admission",e.target.checked)}}),(0,p.jsx)(c.Z,{})]}),(0,p.jsx)(v.Ch,{run:S,setRun:A,msg:f,postiton:"bottom",type:"success"})]})}},49215:function(e,n,t){t.d(n,{Z:function(){return P}});var i=t(93433),o=t(29439),l=t(72791),a=t(39230),s=t(23441),d=t(16871),c=t(11105),r=t(98094),u=t(1413),v=t(37762),_=t(46876),p=t(91022),m=t(98734),h=t(69721),f=t(36665),g=t(70374),x=t(72426),j=t.n(x),Z=t(80184),S=function(e){var n,t=e.setActivePopup,i=e.selectedApplication,o=e.selectedStaff,l=e.moderatorState,s=e.onAssignModerator,d=(0,a.$G)().t;return(0,Z.jsx)(f.Z,{children:(0,Z.jsxs)("div",{className:g.Z.assign_role_container,children:[(0,Z.jsxs)("section",{className:g.Z.assign_role_title,children:[(0,Z.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){},alt:"back icon"}),(0,Z.jsx)("h6",{children:d("preview")})]}),(0,Z.jsx)(r.Z,{customStyle:{width:"100%"}}),(0,Z.jsxs)("section",{className:g.Z.selected_staff_container,children:[(0,Z.jsx)("img",{src:null!==o&&void 0!==o&&o.staffProfilePhoto?"".concat(h.yI,"/").concat(null===o||void 0===o?void 0:o.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,Z.jsxs)("div",{className:g.Z.selected_staff_text,children:[(0,Z.jsx)("h6",{children:"".concat(null===o||void 0===o?void 0:o.staffFirstName," ").concat(null!==(n=null===o||void 0===o?void 0:o.staffMiddleName)&&void 0!==n?n:""," ").concat(null===o||void 0===o?void 0:o.staffLastName)}),(0,Z.jsxs)("p",{children:[d("index_number"),null===o||void 0===o?void 0:o.staffROLLNO]})]})]}),(0,Z.jsx)("section",{style:{padding:"0.8rem"},children:(0,Z.jsx)(p.Z,{selectLabel:d("select_role_of_moderator"),selectedValue:d("please_select_role"),value:"ALL_FEE_ACCESS"===(null===l||void 0===l?void 0:l.mod_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===l||void 0===l?void 0:l.mod_role)?"Application Manager":"INQUIRY_ACCESS"===(null===l||void 0===l?void 0:l.mod_role)?"Enquiries Section":"FULL_ACCESS",openAs:"REFUND"})}),null===i||void 0===i?void 0:i.map((function(e){var n,t,i;return(0,Z.jsxs)("div",{className:g.Z.application_card,children:[(0,Z.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,Z.jsxs)("section",{className:g.Z.application_card_text,children:[(0,Z.jsx)("h6",{children:null!==(n=null===e||void 0===e?void 0:e.applicationName)&&void 0!==n?n:""}),(0,Z.jsxs)("div",{className:g.Z.application_card_text_bottom,children:[(0,Z.jsx)("p",{children:null!==(t=null===e||void 0===e||null===(i=e.applicationDepartment)||void 0===i?void 0:i.dName)&&void 0!==t?t:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,Z.jsx)("p",{children:j()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id)})),(0,Z.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,Z.jsxs)("button",{className:g.Z.select_application_btn,onClick:function(){return t("SELECT_APPLICATION")},children:[(0,Z.jsx)("div",{children:d("add_more")}),(0,Z.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),(0,Z.jsxs)("button",{className:g.Z.assign_btn,onClick:s,children:[d("assign")," "]})]})]})})},A=function(e){var n,t=e.onCloseEdit,i=e.setActivePopup,o=e.selectedStaff,l=e.moderatorState,s=e.onSelectRole,d=e.onUpdateModerator,c=e.selectedApplication,u=(0,a.$G)().t;return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(f.Z,{onClose:t,children:(0,Z.jsxs)("div",{className:g.Z.assign_role_container,children:[(0,Z.jsxs)("section",{className:g.Z.assign_role_title,children:[(0,Z.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:t,alt:"back icon",style:{cursor:"pointer"}}),(0,Z.jsx)("h6",{children:u("update_role_to_moderator")})]}),(0,Z.jsx)(r.Z,{customStyle:{width:"100%"}}),(0,Z.jsxs)("section",{className:g.Z.selected_staff_container,onClick:function(){return i("OPEN_STAFF_LIST")},children:[(0,Z.jsx)("img",{src:null!==o&&void 0!==o&&o.staffProfilePhoto?"".concat(h.yI,"/").concat(null===o||void 0===o?void 0:o.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,Z.jsxs)("div",{className:g.Z.selected_staff_text,children:[(0,Z.jsx)("h6",{children:"".concat(null===o||void 0===o?void 0:o.staffFirstName," ").concat(null!==(n=null===o||void 0===o?void 0:o.staffMiddleName)&&void 0!==n?n:""," ").concat(null===o||void 0===o?void 0:o.staffLastName)}),(0,Z.jsxs)("p",{children:[u("index_number"),null===o||void 0===o?void 0:o.staffROLLNO]})]})]}),(0,Z.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,Z.jsx)(p.Z,{selectLabel:u("select_role_of_moderator"),selectedValue:u("please_select_role"),options:["Fee receipt authority","Application Manager","Renewal Manager","Deposit Moderator","Pending Fee Manager","Complaint Moderator","Fee Structure Moderator","Rules and Announcement Moderator","Income and Expense Moderator","Tab Authority","Data Export Authority"],value:"ALL_FEE_ACCESS"===(null===l||void 0===l?void 0:l.mod_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===l||void 0===l?void 0:l.mod_role)?"Application Manager":"RENEWAL_UNIT_ACCESS"===(null===l||void 0===l?void 0:l.mod_role)?"Renewal Manager":"DEPOSIT_ACCESS"===(null===l||void 0===l?void 0:l.mod_role)?"Deposit Moderator":"COMPAINT_ACCESS"===(null===l||void 0===l?void 0:l.mod_role)?"Complaint Moderator":"PENDING_FEE_ACCESS"===(null===l||void 0===l?void 0:l.mod_role)?"Pending Fee Manager":"FEE_MASTER_ACCESS"===(null===l||void 0===l?void 0:l.mod_role)?"Fee Structure Moderator":"RULES_AND_ANNOUNCEMENT_ACCESS"===(null===l||void 0===l?void 0:l.mod_role)?"Rules and Announcement Moderator":"INCOME_AND_EXPENSE_ACCESS"===(null===l||void 0===l?void 0:l.mod_role)?"Income and Expense Moderator":"ONE_TAB_ACCESS"===(null===l||void 0===l?void 0:l.mod_role)?"Tab Authority":"DATA_EXPORT_ACCESS"===(null===l||void 0===l?void 0:l.mod_role)?"Data Export Authority":"",onClick:s}),null===c||void 0===c?void 0:c.map((function(e){var n,t,i;return(0,Z.jsxs)("div",{className:g.Z.application_card,style:{width:"100%",margin:"1rem 0 0"},children:[(0,Z.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,Z.jsxs)("section",{className:g.Z.application_card_text,children:[(0,Z.jsx)("h6",{children:null!==(n=null===e||void 0===e?void 0:e.applicationName)&&void 0!==n?n:""}),(0,Z.jsxs)("div",{className:g.Z.application_card_text_bottom,children:[(0,Z.jsx)("p",{children:null!==(t=null===e||void 0===e||null===(i=e.applicationDepartment)||void 0===i?void 0:i.dName)&&void 0!==t?t:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,Z.jsx)("p",{children:j()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id)})),"MULTI_APP_ACCESS"===(null===l||void 0===l?void 0:l.mod_role)&&(0,Z.jsxs)("button",{className:g.Z.select_application_btn,onClick:function(){return i("SELECT_APPLICATION")},children:[(0,Z.jsx)("div",{children:u("moderator_select_application")}),(0,Z.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),(0,Z.jsxs)("button",{className:g.Z.assign_btn,onClick:d,children:[u("update")," "]})]})]})})})},N=t(87338),b=function(e){var n,t=e.setActivePopup,d=e.setSelectedApplication,u=e.setSelectedApplicationId,v=e.selectedApplicationId,_=e.openAs,p=e.role,m=e.hid,h=(0,a.$G)().t,x=(0,l.useState)(!0),S=(0,o.Z)(x,2),A=S[0],b=S[1],y=(0,l.useState)(1),C=(0,o.Z)(y,2),I=C[0],E=C[1],R=(0,s.YD)(),w=(0,o.Z)(R,2),P=w[0],T=w[1],k=(0,l.useState)([]),D=(0,o.Z)(k,2),L=D[0],M=D[1],O=(0,l.useState)(!0),F=(0,o.Z)(O,2),q=F[0],H=F[1],B=(0,N.Kj)({data:{hid:m,page:I,limit:10},skip:!m}),U=B.getOngoingApplicationList,G=B.getOngoingApplicationListRefetch;(0,l.useEffect)((function(){T&&A&&E((function(e){return e+1}))}),[T,A]),(0,l.useEffect)((function(){m&&(H(!0),G())}),[m,I,G]),(0,l.useEffect)((function(){var e;null!==U&&void 0!==U&&U.ongoing&&(M((function(e){var n,t;return null===(n=(0,i.Z)(new Set(null===(t=[].concat((0,i.Z)(e),(0,i.Z)(null===U||void 0===U?void 0:U.ongoing)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),H(!1)),10===(null===U||void 0===U||null===(e=U.ongoing)||void 0===e?void 0:e.length)?b(!0):b(!1)}),[null===U||void 0===U?void 0:U.ongoing]);var W=function(){t("EDIT"===_?"PREVIEW_FORM":"ASSIGN_ROLE")},V=function(e){null!==v&&void 0!==v&&v.includes(null===e||void 0===e?void 0:e._id)?(d((function(n){return null===n||void 0===n?void 0:n.filter((function(n){return(null===n||void 0===n?void 0:n._id)!==(null===e||void 0===e?void 0:e._id)}))})),u((function(n){return null===n||void 0===n?void 0:n.filter((function(n){return n!==(null===e||void 0===e?void 0:e._id)}))}))):(d((function(n){return n?[].concat((0,i.Z)(n),[e]):[e]})),u((function(n){return n?[].concat((0,i.Z)(n),[null===e||void 0===e?void 0:e._id]):[null===e||void 0===e?void 0:e._id]})))};return(0,Z.jsx)(f.Z,{onClose:W,children:(0,Z.jsxs)("div",{className:g.Z.assign_role_container,children:[(0,Z.jsxs)("section",{className:g.Z.assign_role_title,style:{position:"relative"},children:[(0,Z.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:W,alt:"back icon"}),(0,Z.jsx)("h6",{children:h("assign_role_to_moderator")}),(0,Z.jsxs)("button",{className:g.Z.select_btn,onClick:function(){t("EDIT"===_?"PREVIEW_FORM":"ONE_TAB_ACCESS"===p?"ASSIGN_ROLE":"MODERATOR_PREWVIEW")},children:[null!==(n=null===v||void 0===v?void 0:v.length)&&void 0!==n?n:""," "," ",h("select")]})]}),(0,Z.jsx)(r.Z,{customStyle:{width:"100%"}}),null===L||void 0===L?void 0:L.map((function(e,n){var t,i,o,l,a,s;return(null===L||void 0===L?void 0:L.length)===n+1?(0,Z.jsxs)("div",{className:null!==v&&void 0!==v&&v.includes(null===e||void 0===e?void 0:e._id)?"".concat(g.Z.application_card," ").concat(g.Z.application_card_active):g.Z.application_card,ref:P,onClick:function(){return V(e)},children:[(0,Z.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,Z.jsxs)("section",{className:g.Z.application_card_text,children:[(0,Z.jsx)("h6",{children:null!==(t=null===e||void 0===e?void 0:e.applicationName)&&void 0!==t?t:""}),(0,Z.jsxs)("div",{className:g.Z.application_card_text_bottom,children:[(0,Z.jsx)("p",{children:null!==(i=null===e||void 0===e||null===(o=e.applicationDepartment)||void 0===o?void 0:o.dName)&&void 0!==i?i:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,Z.jsx)("p",{children:j()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id):(0,Z.jsxs)("div",{className:null!==v&&void 0!==v&&v.includes(null===e||void 0===e?void 0:e._id)?"".concat(g.Z.application_card," ").concat(g.Z.application_card_active):g.Z.application_card,onClick:function(){return V(e)},children:[(0,Z.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,Z.jsxs)("section",{className:g.Z.application_card_text,children:[(0,Z.jsx)("h6",{children:null!==(l=null===e||void 0===e?void 0:e.applicationName)&&void 0!==l?l:""}),(0,Z.jsxs)("div",{className:g.Z.application_card_text_bottom,children:[(0,Z.jsx)("p",{children:null!==(a=null===e||void 0===e||null===(s=e.applicationDepartment)||void 0===s?void 0:s.dName)&&void 0!==a?a:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,Z.jsx)("p",{children:j()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id)})),q&&(0,Z.jsx)(c.Z,{})]})})},y=function(e){var n,t,i=e.instituteId,s=e.hid,d=e.onClose,c=e.onRefetchWhenAdd,x=e.openModeratorMenu,j=e.openAs,y=e.onEdit,C=(0,a.$G)().t,I=(0,l.useState)("EDIT"===j?"PREVIEW_FORM":"OPEN_STAFF_LIST"),E=(0,o.Z)(I,2),R=E[0],w=E[1],P=(0,l.useState)("EDIT"===j?null===x||void 0===x?void 0:x.access_staff:""),T=(0,o.Z)(P,2),k=T[0],D=T[1],L=(0,l.useState)({mod_role:"EDIT"===j?null===x||void 0===x?void 0:x.access_role:"",sid:"EDIT"===j?null===x||void 0===x||null===(n=x.access_staff)||void 0===n?void 0:n._id:"",app_array:[],one_tab:""}),M=(0,o.Z)(L,2),O=M[0],F=M[1],q=(0,l.useState)("EDIT"===j?null===x||void 0===x?void 0:x.access_application:[]),H=(0,o.Z)(q,2),B=H[0],U=H[1],G=(0,l.useState)([]),W=(0,o.Z)(G,2),V=W[0],J=W[1],$=(0,N.kE)(),Y=(0,o.Z)($,1)[0];(0,l.useEffect)((function(){if("EDIT"===j){var e;D(null===x||void 0===x?void 0:x.access_staff),U(null===x||void 0===x?void 0:x.access_application);var n,t=[],i=(0,v.Z)(null===x||void 0===x?void 0:x.access_application);try{for(i.s();!(n=i.n()).done;){var o=n.value;t.push(null===o||void 0===o?void 0:o._id)}}catch(l){i.e(l)}finally{i.f()}J(t),F({mod_role:null===x||void 0===x?void 0:x.access_role,sid:null===x||void 0===x||null===(e=x.access_staff)||void 0===e?void 0:e._id,app_array:t}),w("PREVIEW_FORM")}}),[j]);var K=function(){w("OPEN_STAFF_LIST")},Q=function(e){F((function(n){return(0,u.Z)((0,u.Z)({},n),{},{mod_role:"Fee receipt authority"===e?"ALL_FEE_ACCESS":"Application Manager"===e?"MULTI_APP_ACCESS":"Renewal Manager"===e?"RENEWAL_UNIT_ACCESS":"Deposit Moderator"===e?"DEPOSIT_ACCESS":"Pending Fee Manager"===e?"PENDING_FEE_ACCESS":"Complaint Moderator"===e?"COMPAINT_ACCESS":"Fee Structure Moderator"===e?"FEE_MASTER_ACCESS":"Rules and Announcement Moderator"===e?"RULES_AND_ANNOUNCEMENT_ACCESS":"Income and Expense Moderator"===e?"INCOME_AND_EXPENSE_ACCESS":"Tab Authority"===e?"ONE_TAB_ACCESS":"Data Export Authority"===e?"DATA_EXPORT_ACCESS":""})}))},z=function(){w("LOADING"),Y({hid:s,active_tab:O.one_tab,addModerator:"MULTI_APP_ACCESS"===(null===O||void 0===O?void 0:O.mod_role)||"ONE_TAB_ACCESS"===(null===O||void 0===O?void 0:O.mod_role)?{mod_role:O.mod_role,sid:O.sid,app_array:V}:O}).then((function(){c(),w(""),d()})).catch({})};return(0,Z.jsxs)(Z.Fragment,{children:["OPEN_STAFF_LIST"===R&&(0,Z.jsx)(_.default,{assignHead:"OPEN_STAFF_LIST"===R,headSelect:function(e){D(e),F((function(n){return(0,u.Z)((0,u.Z)({},n),{},{sid:null===e||void 0===e?void 0:e._id})})),w("EDIT"===j?"PREVIEW_FORM":"ASSIGN_ROLE")},title:C("staff_list"),onClose:d,instituteId:i,viewAs:"ADMISSION_ADMIN"}),"ASSIGN_ROLE"===R&&(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(f.Z,{onClose:K,children:(0,Z.jsxs)("div",{className:g.Z.assign_role_container,children:[(0,Z.jsxs)("section",{className:g.Z.assign_role_title,children:[(0,Z.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:K,alt:"back icon"}),(0,Z.jsx)("h6",{children:C("assign_role_to_moderator")})]}),(0,Z.jsx)(r.Z,{customStyle:{width:"100%"}}),(0,Z.jsxs)("section",{className:g.Z.selected_staff_container,children:[(0,Z.jsx)("img",{src:null!==k&&void 0!==k&&k.staffProfilePhoto?"".concat(h.yI,"/").concat(null===k||void 0===k?void 0:k.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,Z.jsxs)("div",{className:g.Z.selected_staff_text,children:[(0,Z.jsx)("h6",{children:"".concat(null===k||void 0===k?void 0:k.staffFirstName," ").concat(null!==(t=null===k||void 0===k?void 0:k.staffMiddleName)&&void 0!==t?t:""," ").concat(null===k||void 0===k?void 0:k.staffLastName)}),(0,Z.jsxs)("p",{children:[C("index_number"),null===k||void 0===k?void 0:k.staffROLLNO]})]})]}),(0,Z.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,Z.jsx)(p.Z,{selectLabel:C("select_role_of_moderator"),selectedValue:C("please_select_role"),options:["Fee receipt authority","Application Manager","Renewal Manager","Deposit Moderator","Pending Fee Manager","Complaint Moderator","Fee Structure Moderator","Rules and Announcement Moderator","Income and Expense Moderator","Tab Authority","Data Export Authority"],value:"ALL_FEE_ACCESS"===(null===O||void 0===O?void 0:O.mod_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===O||void 0===O?void 0:O.mod_role)?"Application Manager":"RENEWAL_UNIT_ACCESS"===(null===O||void 0===O?void 0:O.mod_role)?"Renewal Manager":"DEPOSIT_ACCESS"===(null===O||void 0===O?void 0:O.mod_role)?"Deposit Moderator":"COMPAINT_ACCESS"===(null===O||void 0===O?void 0:O.mod_role)?"Complaint Moderator":"PENDING_FEE_ACCESS"===(null===O||void 0===O?void 0:O.mod_role)?"Pending Fee Manager":"FEE_MASTER_ACCESS"===(null===O||void 0===O?void 0:O.mod_role)?"Fee Structure Moderator":"RULES_AND_ANNOUNCEMENT_ACCESS"===(null===O||void 0===O?void 0:O.mod_role)?"Rules and Announcement Moderator":"INCOME_AND_EXPENSE_ACCESS"===(null===O||void 0===O?void 0:O.mod_role)?"Income and Expense Moderator":"ONE_TAB_ACCESS"===(null===O||void 0===O?void 0:O.mod_role)?"Tab Authority":"DATA_EXPORT_ACCESS"===(null===O||void 0===O?void 0:O.mod_role)?"Data Export Authority":"",onClick:Q}),"ONE_TAB_ACCESS"===O.mod_role&&(0,Z.jsx)(p.Z,{selectLabel:C("select_tab_role"),selectedValue:C("please_select_role"),options:["Application","Selected","Confirmed","Allotted","Cancelled"],value:null===O||void 0===O?void 0:O.one_tab,onClick:function(e){F((function(n){return(0,u.Z)((0,u.Z)({},n),{},{one_tab:e})}))}}),"MULTI_APP_ACCESS"===O.mod_role?(0,Z.jsxs)("button",{className:g.Z.select_application_btn,onClick:function(){return w("SELECT_APPLICATION")},children:[(0,Z.jsx)("div",{children:C("moderator_select_application")}),(0,Z.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}):(0,Z.jsxs)("button",{className:g.Z.assign_btn,onClick:z,children:[C("assign")," "]})]})]})})}),"SELECT_APPLICATION"===R&&(0,Z.jsx)(b,{hid:s,setActivePopup:w,setSelectedApplication:U,selectedApplication:B,setSelectedApplicationId:J,selectedApplicationId:V,openAs:j,role:O.mod_role}),"MODERATOR_PREWVIEW"===R&&(0,Z.jsx)(S,{setActivePopup:w,selectedApplication:B,selectedStaff:k,moderatorState:O,onAssignModerator:z}),"PREVIEW_FORM"===R&&(0,Z.jsx)(A,{onCloseEdit:function(){d()},setActivePopup:w,selectedStaff:k,moderatorState:O,onSelectRole:Q,onUpdateModerator:function(){y(O,V),d()},selectedApplication:B}),"LOADING"===R&&(0,Z.jsx)(m.Z,{})]})},C=t(12072),I=t(84489),E=t(87049),R=function(e){var n=e.onClose,t=e.hid,i=e.onRefetch,a=e.openModeratorMenu,s=e.instituteId,d=(0,l.useState)(!1),c=(0,o.Z)(d,2),r=c[0],u=c[1],v=(0,l.useState)(!1),_=(0,o.Z)(v,2),p=_[0],h=_[1],f=(0,N.UP)(),g=(0,o.Z)(f,1)[0],x=(0,N.DL)(),j=(0,o.Z)(x,1)[0];return(0,Z.jsx)(Z.Fragment,{children:p?(0,Z.jsx)(y,{onClose:function(){return h(!1)},hid:t,instituteId:s,onRefetch:i,openAs:"EDIT",openModeratorMenu:a,onEdit:function(e,t){u((function(e){return!e})),h(!1),j({modId:null===a||void 0===a?void 0:a._id,active_tab:null===e||void 0===e?void 0:e.one_tab,updateModerator:{role:null===e||void 0===e?void 0:e.mod_role,staffId:null===e||void 0===e?void 0:e.sid,app_array:"MULTI_APP_ACCESS"===(null===e||void 0===e?void 0:e.mod_role)||"MULTI_APP_ACCESS"===(null===e||void 0===e?void 0:e.mod_role)?t:[]}}).then((function(){i(),u((function(e){return!e})),n()})).catch({})}}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(I.Z,{onClose:n}),(0,Z.jsxs)(C.Z,{customStyle:{zIndex:"1200"},children:[(0,Z.jsxs)("div",{className:E.Z.edit_modal_container,style:{width:"200px"},children:[(0,Z.jsx)("h6",{className:E.Z.edit,onClick:function(){return h((function(e){return!e}))},children:"Edit"}),(0,Z.jsx)("h6",{className:E.Z.remove,onClick:function(){u((function(e){return!e})),g({hid:t,modId:null===a||void 0===a?void 0:a._id}).then((function(){i(),n(),u((function(e){return!e}))})).catch({})},children:"Delete"})]}),r&&(0,Z.jsx)(m.Z,{})]})]})})},w=function(e){var n,t,i,o,l,s,d,c,r,u,v,_=e.moderator,p=e.setOpenModeratorMenu,m=(0,a.$G)().t;return(0,Z.jsxs)("div",{className:g.Z.moderator_card,children:[(0,Z.jsx)("img",{src:null!==_&&void 0!==_&&null!==(n=_.access_staff)&&void 0!==n&&n.staffProfilePhoto?"".concat(h.yI,"/").concat(null===_||void 0===_||null===(t=_.access_staff)||void 0===t?void 0:t.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"moderator avatar"}),(0,Z.jsxs)("section",{className:g.Z.moderator_card_text_container,children:[(0,Z.jsx)("h6",{children:"".concat(null===_||void 0===_||null===(i=_.access_staff)||void 0===i?void 0:i.staffFirstName," ").concat(null!==(o=null===_||void 0===_||null===(l=_.access_staff)||void 0===l?void 0:l.staffMiddleName)&&void 0!==o?o:""," ").concat(null===_||void 0===_||null===(s=_.access_staff)||void 0===s?void 0:s.staffLastName)}),(0,Z.jsxs)("p",{children:[m("index_number"),null===_||void 0===_||null===(d=_.access_staff)||void 0===d?void 0:d.staffROLLNO]}),(0,Z.jsx)("p",{children:"ALL_FEE_ACCESS"===(null===_||void 0===_?void 0:_.access_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===_||void 0===_?void 0:_.access_role)?"Application Manager":"RENEWAL_UNIT_ACCESS"===(null===_||void 0===_?void 0:_.access_role)?"Renewal Manager":"DEPOSIT_ACCESS"===(null===_||void 0===_?void 0:_.access_role)?"Deposit Moderator":"PENDING_FEE_ACCESS"===(null===_||void 0===_?void 0:_.access_role)?"Pending Fee Manager":"COMPAINT_ACCESS"===(null===_||void 0===_?void 0:_.access_role)?"Complaint Moderator":"FEE_MASTER_ACCESS"===(null===_||void 0===_?void 0:_.access_role)?"Fee Structure Moderator":"RULES_AND_ANNOUNCEMENT_ACCESS"===(null===_||void 0===_?void 0:_.access_role)?"Rules and Announcement Moderator":"INCOME_AND_EXPENSE_ACCESS"===(null===_||void 0===_?void 0:_.access_role)?"Income and Expense Moderator":"ONE_TAB_ACCESS"===(null===_||void 0===_?void 0:_.access_role)?"Application"===(null===_||void 0===_||null===(c=_.active_tab)||void 0===c?void 0:c.role)?"Hostel Application Tab":"Selected"===(null===_||void 0===_||null===(r=_.active_tab)||void 0===r?void 0:r.role)?"Hostel Selected Tab":"Confirmed"===(null===_||void 0===_||null===(u=_.active_tab)||void 0===u?void 0:u.role)?"Hostel Confirmed Tab":"Allotted"===(null===_||void 0===_||null===(v=_.active_tab)||void 0===v?void 0:v.role)?"Hostel Allotted Tab":"Hostel Cancelled Tab":"DATA_EXPORT_ACCESS"===(null===_||void 0===_?void 0:_.access_role)?"Data Export Authority":""})]}),(0,Z.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(){return p(_)},className:g.Z.menu_icon,title:"Menu"})]})},P=function(e){var n=e.instituteId,t=e.hid,u=(0,a.$G)().t,v=(0,d.s0)(),_=(0,l.useState)(!1),p=(0,o.Z)(_,2),m=p[0],h=p[1],f=(0,l.useState)(""),x=(0,o.Z)(f,2),j=x[0],S=x[1],A=(0,s.YD)(),b=(0,o.Z)(A,2),C=b[0],I=b[1],E=(0,l.useState)(1),P=(0,o.Z)(E,2),T=P[0],k=P[1],D=(0,l.useState)(!0),L=(0,o.Z)(D,2),M=L[0],O=L[1],F=(0,l.useState)(!1),q=(0,o.Z)(F,2),H=q[0],B=q[1],U=(0,l.useState)(!0),G=(0,o.Z)(U,2),W=G[0],V=G[1],J=(0,l.useState)([]),$=(0,o.Z)(J,2),Y=$[0],K=$[1],Q=(0,N.CB)({data:{hid:t,page:T,limit:10},skip:!t}),z=Q.getModeratorByHostel,X=Q.getModeratorByHostelRefetch;(0,l.useEffect)((function(){t&&(V(!0),X())}),[t,T,X]),(0,l.useEffect)((function(){I&&M&&k((function(e){return e+1}))}),[I,M]),(0,l.useEffect)((function(){var e,n;H?(K(null===z||void 0===z?void 0:z.all_mods),B(!1),V(!1)):null!==z&&void 0!==z&&z.all_mods?(K((function(e){var n,t;return null===(n=(0,i.Z)(new Set(null===(t=[].concat((0,i.Z)(e),(0,i.Z)(null===z||void 0===z?void 0:z.all_mods)))||void 0===t?void 0:t.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),V(!1)):0===(null===z||void 0===z||null===(n=z.all_mods)||void 0===n?void 0:n.length)&&V(!1);10===(null===z||void 0===z||null===(e=z.all_mods)||void 0===e?void 0:e.length)?O(!0):O(!1)}),[null===z||void 0===z?void 0:z.all_mods]);var ee=function(){B(!0),k(1),V(!0),X()};return(0,Z.jsxs)("div",{className:g.Z.moderator_container,style:{marginTop:"0"},children:[(0,Z.jsxs)("section",{className:g.Z.moderator_container_title,children:[(0,Z.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){v(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,Z.jsx)("h6",{children:u("hostel_moderators")})]}),(0,Z.jsx)(r.Z,{customStyle:{width:"100%"}}),(0,Z.jsx)("h6",{className:g.Z.add_new_moderator,onClick:function(){return h(!0)},children:u("add_new_moderator")}),(0,Z.jsxs)("div",{className:g.Z.refund_list,children:[null===Y||void 0===Y?void 0:Y.map((function(e,n){return(null===Y||void 0===Y?void 0:Y.length)===n+1?(0,Z.jsx)("div",{ref:C,children:(0,Z.jsx)(w,{moderator:e,setOpenModeratorMenu:S})},null===e||void 0===e?void 0:e._id):(0,Z.jsx)(w,{moderator:e,setOpenModeratorMenu:S},null===e||void 0===e?void 0:e._id)})),m&&(0,Z.jsx)(y,{onClose:function(){return h((function(e){return!e}))},instituteId:n,hid:t,onRefetchWhenAdd:ee}),j&&(0,Z.jsx)(R,{hid:t,instituteId:n,onRefetch:ee,onClose:function(){return S("")},openModeratorMenu:j}),W&&(0,Z.jsx)(c.Z,{})]})]})}},96146:function(e,n,t){var i=t(1413),o=(t(72791),t(13034)),l=t(25801),a=t(39320),s=t(80184);n.Z=function(e){var n=e.checkLabel,t=e.onCheckboxAction,d=e.checkedValue,c=e.customStyle,r=e.name,u=e.customStyleLabel;return(0,s.jsx)("div",{className:a.Z.form_checkbox_container,style:(0,i.Z)({},c),children:(0,s.jsx)(l.Z,{control:(0,s.jsx)(o.Z,{sx:{color:"rgba(18, 18, 18, 0.7)"},onChange:t,checked:d,name:r}),label:n,sx:(0,i.Z)({},u)})})}},90865:function(e,n,t){var i=t(1413),o=(t(72791),t(89891)),l=t(39320),a=t(80184),s={inputProps:{"aria-label":"Switch demo"}};n.Z=function(e){var n=e.customContainer,t=e.customLabel,d=e.labelDescription,c=e.labelHeading,r=e.defaultLabel,u=e.checkedToggle,v=e.onToggleHandler,_=e.children;return(0,a.jsxs)("div",{className:l.Z.form_toggle_container,style:(0,i.Z)({},n),children:[(0,a.jsxs)("div",{className:l.Z.form_toggle_label,children:[r?(0,a.jsx)(o.Z,(0,i.Z)((0,i.Z)({},s),{},{defaultChecked:!0,disabled:!0})):(0,a.jsx)(o.Z,(0,i.Z)((0,i.Z)({},s),{},{checked:u,onChange:v})),(0,a.jsx)("span",{style:(0,i.Z)({},t),children:c})]}),(0,a.jsx)("div",{className:l.Z.form_toggle_description,children:d}),_]})}},1999:function(e,n){n.Z={newPost:"NewAnnouncement_newPost__P0MSs",header:"NewAnnouncement_header__4FgoM",imgContainer:"NewAnnouncement_imgContainer__D-zZj",title:"NewAnnouncement_title__XZ99r",public:"NewAnnouncement_public__gr79X",privacyIcon:"NewAnnouncement_privacyIcon__pt718",select:"NewAnnouncement_select__viS+M",arrow:"NewAnnouncement_arrow__OBDH8",arrowIcon:"NewAnnouncement_arrowIcon__hAUsH",hr:"NewAnnouncement_hr__+nmR6",userName:"NewAnnouncement_userName__h9vNW",postTitle:"NewAnnouncement_postTitle__d5Uhn",postDesc:"NewAnnouncement_postDesc__rQu4i",postTextarea:"NewAnnouncement_postTextarea__6oAWU",hashTag:"NewAnnouncement_hashTag__GkP-m",btn:"NewAnnouncement_btn__WWbXt",upload:"NewAnnouncement_upload__U-vJ+",Container:"NewAnnouncement_Container__KAel7",selectedImg:"NewAnnouncement_selectedImg__UJO5z",addfiles:"NewAnnouncement_addfiles__u79vd",iconsContainer:"NewAnnouncement_iconsContainer__1h40Z",icons:"NewAnnouncement_icons__F82H4",tille:"NewAnnouncement_tille__8AF0K",description:"NewAnnouncement_description__Y-v3j",afterbtn:"NewAnnouncement_afterbtn__vZuPx",hashtag:"NewAnnouncement_hashtag__0v8Yo",listContainer:"NewAnnouncement_listContainer__1Tder",documentList:"NewAnnouncement_documentList__Da5La",pdfList:"NewAnnouncement_pdfList__lbuZn",pdfPreview:"NewAnnouncement_pdfPreview__yRLt2",border2:"NewAnnouncement_border2__b0wJ6",border1:"NewAnnouncement_border1__vzr9R",border3:"NewAnnouncement_border3__mH2cK",border4:"NewAnnouncement_border4__oF8nk",mainbody:"NewAnnouncement_mainbody__sq6d+"}},92994:function(e,n){n.Z={navbar:"HostelSiteInfo_navbar__IU+1C",bgContainer:"HostelSiteInfo_bgContainer__s1M1C",container:"HostelSiteInfo_container__0k5MX",containercontent:"HostelSiteInfo_containercontent__FHQE6",containerhead:"HostelSiteInfo_containerhead__UXeNf",site_tab_container:"HostelSiteInfo_site_tab_container__kUKhY",site_tab_container_h6:"HostelSiteInfo_site_tab_container_h6__PRjoW",site_tab_container_h6_active:"HostelSiteInfo_site_tab_container_h6_active__oK5jK",container_inner_content:"HostelSiteInfo_container_inner_content__BRYbi",show_field:"HostelSiteInfo_show_field__QipiG",leading_person_container:"HostelSiteInfo_leading_person_container__2KEgv",leading_person_text:"HostelSiteInfo_leading_person_text__gcKoj",update_btn:"HostelSiteInfo_update_btn__X3hce",add_contact_person:"HostelSiteInfo_add_contact_person__Bw9OD",add_contact_person_btn:"HostelSiteInfo_add_contact_person_btn__oFvVe",labelContainer:"HostelSiteInfo_labelContainer__CgZ5Z",label:"HostelSiteInfo_label__vOQMB",inputBox:"HostelSiteInfo_inputBox__qEQpd",add_supporting_member:"HostelSiteInfo_add_supporting_member__Cows5",add_supporting_member_heading:"HostelSiteInfo_add_supporting_member_heading__+1W3k",flexItem50:"HostelSiteInfo_flexItem50__4AQkO",fileinputflexContainer:"HostelSiteInfo_fileinputflexContainer__TjDJA",input_label:"HostelSiteInfo_input_label__iHuUx",labelspan:"HostelSiteInfo_labelspan__2dH-3",formselect:"HostelSiteInfo_formselect__6Na7n",input_border_active:"HostelSiteInfo_input_border_active__IORlh",genderh:"HostelSiteInfo_genderh__OaIvK",genderplaceholder:"HostelSiteInfo_genderplaceholder__uQ+GR",upIcon:"HostelSiteInfo_upIcon__yH95D",downIcon:"HostelSiteInfo_downIcon__wIQ0Z",site_theme:"HostelSiteInfo_site_theme__oIQ4w",site_theme_header:"HostelSiteInfo_site_theme_header__qrz8W",site_theme_container:"HostelSiteInfo_site_theme_container__q1qUU",site_theme_icon:"HostelSiteInfo_site_theme_icon__Rj4LC"}},15961:function(e,n){n.Z={admission_application_container:"AdmissionApplicationRequest_admission_application_container__iMsyZ",moderator_container_title:"AdmissionApplicationRequest_moderator_container_title__5WiPB",with_search:"AdmissionApplicationRequest_with_search__mm0Q+",search_container:"AdmissionApplicationRequest_search_container__3swMB",search_container_input:"AdmissionApplicationRequest_search_container_input__InEPj",searchIcon:"AdmissionApplicationRequest_searchIcon__RdABM",search_container_filter:"AdmissionApplicationRequest_search_container_filter__fEHEF",remainingFees:"AdmissionApplicationRequest_remainingFees__X9g5z",ongoing_card:"AdmissionApplicationRequest_ongoing_card__1TVLc",ongoing_card_inner:"AdmissionApplicationRequest_ongoing_card_inner__1Gato",ongoing_card_text:"AdmissionApplicationRequest_ongoing_card_text__AKxnS",menu_icon:"AdmissionApplicationRequest_menu_icon__F3nQo",add_new_category:"AdmissionApplicationRequest_add_new_category__ZTInw",applicant_card_container:"AdmissionApplicationRequest_applicant_card_container__7UN2C",applicant_card_container_hover:"AdmissionApplicationRequest_applicant_card_container_hover__mP-Wa",applicant_card_container_active:"AdmissionApplicationRequest_applicant_card_container_active__5VW5x",applicant_card_inner:"AdmissionApplicationRequest_applicant_card_inner__kSbmI",applicant_card_inner_info:"AdmissionApplicationRequest_applicant_card_inner_info__8POe8",applicant_card_contact:"AdmissionApplicationRequest_applicant_card_contact__Ipapl",applicant_card_contact_inner:"AdmissionApplicationRequest_applicant_card_contact_inner__dDeFH",application_button:"AdmissionApplicationRequest_application_button__a2s6z",selectAppBtnContainer:"AdmissionApplicationRequest_selectAppBtnContainer__d0wD6",selectBtnContainer:"AdmissionApplicationRequest_selectBtnContainer__Si3QU",selectBtn:"AdmissionApplicationRequest_selectBtn__A0SVG",cancelledBtn:"AdmissionApplicationRequest_cancelledBtn__wEX7V",notConfirmedBtn:"AdmissionApplicationRequest_notConfirmedBtn__wZb02",onlineBtn:"AdmissionApplicationRequest_onlineBtn__v+gwq",cancelStatus:"AdmissionApplicationRequest_cancelStatus__qYDFg",checkbox:"AdmissionApplicationRequest_checkbox__tlbdN",back_icon:"AdmissionApplicationRequest_back_icon__gIdbd",receipt_requested_btn:"AdmissionApplicationRequest_receipt_requested_btn__stgcE",not_confirm_container:"AdmissionApplicationRequest_not_confirm_container__+r4pJ",applicant_profile:"AdmissionApplicationRequest_applicant_profile__kHoFd",applicant_profile_text:"AdmissionApplicationRequest_applicant_profile_text__wgySz",button_group:"AdmissionApplicationRequest_button_group__LKrUN",admission_collect_docs:"AdmissionApplicationRequest_admission_collect_docs__+-jUT",confirm_btn:"AdmissionApplicationRequest_confirm_btn__njvM8",admission_modal:"AdmissionApplicationRequest_admission_modal__a3Dx6",admission_modal_heading:"AdmissionApplicationRequest_admission_modal_heading__7i6gM",admission_fees_row:"AdmissionApplicationRequest_admission_fees_row__Ykj39",admission_confirm_class_card:"AdmissionApplicationRequest_admission_confirm_class_card__Ytr77",admission_confirm_batch_card:"AdmissionApplicationRequest_admission_confirm_batch_card__Cuven",admission_confirm_class_count:"AdmissionApplicationRequest_admission_confirm_class_count__P-bt1",admission_class_confirm:"AdmissionApplicationRequest_admission_class_confirm__SMLDh",mulitple_select_btn:"AdmissionApplicationRequest_mulitple_select_btn__WOWDd",end_btn:"AdmissionApplicationRequest_end_btn__vgxwG",admission_mulit_select:"AdmissionApplicationRequest_admission_mulit_select__ggFWa",admission_mulit_select_right:"AdmissionApplicationRequest_admission_mulit_select_right__K51Rw",os_reminder:"AdmissionApplicationRequest_os_reminder__AHp8F",os_filter_container:"AdmissionApplicationRequest_os_filter_container__Ck0gz",ongoing_card_count_date:"AdmissionApplicationRequest_ongoing_card_count_date__xi1+1",ongoing_card_count_container:"AdmissionApplicationRequest_ongoing_card_count_container__af9uG",applicant_card_reciept:"AdmissionApplicationRequest_applicant_card_reciept__QR+Ho",transfer_container:"AdmissionApplicationRequest_transfer_container__y5X5q",transfer_select_btn:"AdmissionApplicationRequest_transfer_select_btn__u8NkN"}},39320:function(e,n){n.Z={staff_form_container:"UniversalForm_staff_form_container__QRs6I",staff_form_header_container:"UniversalForm_staff_form_header_container__+cQn3",form_header_container:"UniversalForm_form_header_container__GVVNM",form_header_list:"UniversalForm_form_header_list__fHs8S",form_header_code:"UniversalForm_form_header_code__LsmbM",form_toggle_description:"UniversalForm_form_toggle_description__281dv",form_toggle_label:"UniversalForm_form_toggle_label__mbisD",form_header_content:"UniversalForm_form_header_content__Y3p2k",form_toggle_container:"UniversalForm_form_toggle_container__D0bu0",form_checkbox_container:"UniversalForm_form_checkbox_container__bxzuK",staff_form_header_container_actions:"UniversalForm_staff_form_header_container_actions__2Ynt9",staff_header_text:"UniversalForm_staff_header_text__dQvPP"}}}]);
//# sourceMappingURL=4255.75c61456.chunk.js.map