{"version":3,"file":"static/js/80695.5a172e5c.chunk.js","mappings":"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","sources":["webpack://mithkal-qviple/./src/MembersTab/staff/Mainbody/DepartmentHead/staff/StaffRoom.module.css?a4f5","MembersTab/staff/Mainbody/DepartmentHead/staff/StaffRoom.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"staffRoom\":\"StaffRoom_staffRoom__lF860\",\"backFlex\":\"StaffRoom_backFlex__8hajZ\",\"backbtn\":\"StaffRoom_backbtn__4NxBK\",\"searchContainer\":\"StaffRoom_searchContainer__u3cfP\",\"itemsContainer\":\"StaffRoom_itemsContainer__nSzH2\",\"item\":\"StaffRoom_item__Hqrg3\",\"student_heading\":\"StaffRoom_student_heading__ON7M0\"};","import React, { useState } from \"react\";\nimport { useDepartmentAllStaff } from \"../../../../../hooks/member_tab/department-api\";\nimport { imageShowUrl } from \"../../../../../services/BaseUrl\";\nimport style from \"./StaffRoom.module.css\";\nimport { useTranslation } from \"react-i18next\";\nimport QvipleLoading from \"../../../../../Loader/QvipleLoading\";\nimport { Link, useParams } from \"react-router-dom\";\nfunction StaffRoom({ did }) {\n  const { t } = useTranslation();\n  const params = useParams();\n  const [staffList, setStaffList] = React.useState([]);\n  const [showingDataLoading, setShowingDataLoading] = useState(true);\n\n  const { departmentAllStaff, departmentAllStaffRefetch } =\n    useDepartmentAllStaff({\n      data: {\n        did: did,\n        page: 1,\n        limit: 20,\n      },\n      skip: !did,\n    });\n\n  React.useEffect(() => {\n    if (did) {\n      setShowingDataLoading(true);\n      departmentAllStaffRefetch();\n    }\n  }, [did, departmentAllStaffRefetch]);\n\n  React.useEffect(() => {\n    if (departmentAllStaff?.department?.departmentChatGroup) {\n      setStaffList((prevState) =>\n        [\n          ...new Set(\n            [\n              ...prevState,\n              ...departmentAllStaff?.department?.departmentChatGroup,\n            ].map(JSON.stringify)\n          ),\n        ].map(JSON.parse)\n      );\n      setShowingDataLoading(false);\n    } else if (\n      departmentAllStaff?.department?.departmentChatGroup?.length === 0\n    )\n      setShowingDataLoading(false);\n    else {\n    }\n  }, [departmentAllStaff?.department?.departmentChatGroup]);\n\n  const onSearchStaff = (e) => {\n    if (e.target.value) {\n      const filterStaff =\n        departmentAllStaff?.department?.departmentChatGroup?.filter((staff) => {\n          if (\n            `${staff?.staffFirstName} ${\n              staff?.staffMiddleName ? staff?.staffMiddleName + \" \" : \"\"\n            }${staff?.staffLastName}`\n              ?.toLowerCase()\n              ?.includes(e.target.value?.toLowerCase())\n          ) {\n            return staff;\n          } else {\n            return null;\n          }\n        });\n      setStaffList(filterStaff);\n    } else {\n      setStaffList(departmentAllStaff?.department?.departmentChatGroup);\n    }\n  };\n  // console.info(\"Hi my there\", staffList);\n  return (\n    <div className={style.staffRoom}>\n      <div className={style.backFlex}>\n        <div className={style.searchContainer}>\n          <img src=\"/images/search-dept-icon.svg\" alt=\"\" />\n          <input\n            type=\"text\"\n            placeholder={t(\"search\")}\n            onChange={onSearchStaff}\n          />\n        </div>\n      </div>\n\n      <div className={style.itemsContainer}>\n        {staffList?.map((staff) => (\n          <Link\n            key={staff?._id}\n            to={`/q/${params.username}/staff/profile`}\n            state={{\n              sid: staff?._id,\n              viewAs: \"DEPARTMENT_HEAD\",\n            }}\n          >\n            <div className={style.item}>\n              <p>{staff?.staffROLLNO}</p>\n              <img\n                src={\n                  staff?.staffProfilePhoto\n                    ? `${imageShowUrl}/${staff?.staffProfilePhoto}`\n                    : \"/images/member_tab/class/default_avatar.svg\"\n                }\n              />\n              <p>\n                {`${staff?.staffFirstName} ${\n                  staff?.staffMiddleName ? staff?.staffMiddleName : \"\"\n                } ${staff?.staffLastName}`}\n              </p>\n            </div>\n          </Link>\n        ))}\n        {showingDataLoading && <QvipleLoading />}\n      </div>\n    </div>\n  );\n}\n\nexport default StaffRoom;\n"],"names":["_ref","_departmentAllStaff$d5","did","t","useTranslation","params","useParams","staffList","setStaffList","React","showingDataLoading","setShowingDataLoading","useState","departmentAllStaff","departmentAllStaffRefetch","useDepartmentAllStaff","data","page","limit","skip","_departmentAllStaff$d","_departmentAllStaff$d3","_departmentAllStaff$d4","department","departmentChatGroup","prevState","_departmentAllStaff$d2","Set","map","JSON","stringify","parse","length","_jsxs","className","style","children","_jsx","src","alt","type","placeholder","onChange","e","target","value","_departmentAllStaff$d6","_departmentAllStaff$d7","filterStaff","filter","staff","_ref2","_ref2$toLowerCase","_e$target$value","concat","staffFirstName","staffMiddleName","staffLastName","toLowerCase","includes","_departmentAllStaff$d8","Link","to","username","state","sid","_id","viewAs","staffROLLNO","staffProfilePhoto","imageShowUrl","QvipleLoading"],"sourceRoot":""}