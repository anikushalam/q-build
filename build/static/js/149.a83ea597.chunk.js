"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[149],{56986:function(e,i,l){var n=l(29439),o=l(72791),s=l(98684),t=l(97892),a=l.n(t),d=l(82824),c=l(1095),r=l(55050),v=l(39230),u=l(45445),m=l(80184);i.Z=function(e){var i,l,t,f,h,x,_,j,g,Z,p,w,N,y,b,M,k,Y,L,D,F,S,C,T,A,R,J,P,q,E,W=e.leave,G=e.whichAccess,H=(0,v.$G)().t,I=(0,o.useState)(!1),$=(0,n.Z)(I,2),B=$[0],z=$[1],K=function(){z((function(e){return!e}))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:r.Z.lmsr_card,children:[(0,m.jsx)("div",{className:r.Z.lmsrc_card,children:(0,m.jsxs)("div",{className:r.Z.lmsrc_card_inner,children:[(0,m.jsx)("img",{src:null!==W&&void 0!==W&&null!==(i=W.staff)&&void 0!==i&&i.staffProfilePhoto?"".concat(c.yI,"/").concat(null===W||void 0===W||null===(l=W.staff)||void 0===l?void 0:l.staffProfilePhoto):"".concat(s.p3,"/feed-user-avatar.svg"),alt:"staff icon"}),(0,m.jsxs)("div",{className:r.Z.lmsrci_text,children:[(0,m.jsx)("h6",{children:"".concat(null===W||void 0===W||null===(t=W.staff)||void 0===t?void 0:t.staffFirstName," ").concat(null!==W&&void 0!==W&&null!==(f=W.staff)&&void 0!==f&&f.staffMiddleName?null===W||void 0===W||null===(h=W.staff)||void 0===h?void 0:h.staffMiddleName:""," ").concat(null===W||void 0===W||null===(x=W.staff)||void 0===x?void 0:x.staffLastName)}),(0,m.jsxs)("p",{children:["Sactioning"===G?(0,m.jsxs)(m.Fragment,{children:[H("sanction_on")," ",(0,d.J)(null===W||void 0===W||null===(_=W.sanction)||void 0===_?void 0:_.sanction_on,"LT"),","," ",a()(null===W||void 0===W||null===(j=W.sanction)||void 0===j?void 0:j.sanction_on).format("DD MMM YYYY")]}):"Reviewing"===G?(0,m.jsxs)(m.Fragment,{children:[H("reviewed_on"),(0,d.J)(null===W||void 0===W||null===(g=W.review)||void 0===g?void 0:g.review_on,"LT"),","," ",a()(null===W||void 0===W||null===(Z=W.review)||void 0===Z?void 0:Z.review_on).format("DD MMM YYYY")]}):(0,m.jsxs)(m.Fragment,{children:[H("recomend_on")," ",(0,d.J)(null===W||void 0===W||null===(p=W.recommend)||void 0===p?void 0:p.recommend_ont,"LT"),", ",a()(null===W||void 0===W||null===(w=W.recommend)||void 0===w?void 0:w.recommend_ont).format("DD MMM YYYY"),", "]}),(0,m.jsx)("span",{className:r.Z.lmsrc_date,onClick:K,children:H("for_dates")})]}),(0,m.jsx)("p",{children:"Sactioning"===G?(0,m.jsxs)(m.Fragment,{children:[H("reviewing_by"),"".concat(null!==(N=null===W||void 0===W||null===(y=W.review)||void 0===y||null===(b=y.review_by)||void 0===b?void 0:b.staffFirstName)&&void 0!==N?N:""," ").concat(null!==(M=null===W||void 0===W||null===(k=W.review)||void 0===k||null===(Y=k.review_by)||void 0===Y?void 0:Y.staffMiddleName)&&void 0!==M?M:""," ").concat(null!==(L=null===W||void 0===W||null===(D=W.review)||void 0===D||null===(F=D.review_by)||void 0===F?void 0:F.staffLastName)&&void 0!==L?L:"")]}):"Reviewing"===G?(0,m.jsxs)(m.Fragment,{children:[H("recomending_by"),"".concat(null!==(S=null===W||void 0===W||null===(C=W.recommend)||void 0===C||null===(T=C.recommend_by)||void 0===T?void 0:T.staffFirstName)&&void 0!==S?S:""," ").concat(null!==(A=null===W||void 0===W||null===(R=W.recommend)||void 0===R||null===(J=R.recommend_by)||void 0===J?void 0:J.staffMiddleName)&&void 0!==A?A:""," ").concat(null!==(P=null===W||void 0===W||null===(q=W.recommend)||void 0===q||null===(E=q.recommend_by)||void 0===E?void 0:E.staffLastName)&&void 0!==P?P:"")]}):null})]})]})}),(0,m.jsx)("div",{className:r.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,m.jsxs)("h6",{style:{fontWeight:"400"},children:[H("leave_type")," "," : ",null===W||void 0===W?void 0:W.leave_type]})}),(0,m.jsx)("div",{className:r.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,m.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[H("reason")," "," : ",null===W||void 0===W?void 0:W.reason]})}),(null===W||void 0===W?void 0:W.attach)&&(0,m.jsx)("div",{className:r.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,m.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[H("attachment")," "," : ",(0,m.jsx)("a",{href:"".concat(c.q2,"/").concat(null===W||void 0===W?void 0:W.attach),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,m.jsx)("span",{className:r.Z.lmsrc_date,children:H("view_attachment")})})]})})]}),B&&(0,m.jsx)(u.Z,{onClose:K,allDate:null===W||void 0===W?void 0:W.date})]})}},29105:function(e,i,l){l.r(i);var n=l(29439),o=l(72791),s=l(56959),t=l(23441),a=l(91427),d=l(57588),c=l(63687),r=l(21348),v=l(90904),u=l(55336),m=l(1669),f=l(2651),h=l(36132),x=l(39230),_=l(98684),j=l(56986),g=l(80184);i.default=function(e){var i,l,Z,p=e.modId,w=(0,x.$G)().t,N=(0,o.useState)(""),y=(0,n.Z)(N,2),b=y[0],M=y[1],k=(0,o.useState)(1),Y=(0,n.Z)(k,2),L=Y[0],D=Y[1],F=(0,o.useState)(!0),S=(0,n.Z)(F,2),C=S[0],T=S[1],A=(0,t.YD)({skip:b}),R=(0,n.Z)(A,2),J=R[0],P=R[1],q=(0,h.EL)({data:{mid:p,page:L,limit:10,search:b,flow:"Review_Section"},skip:!p}),E=q.lmsModeratorAllHistoryList,W=q.lmsModeratorAllHistoryListLoading;(0,o.useEffect)((function(){P&&C&&D((function(e){return e+1}))}),[P,C]),(0,o.useEffect)((function(){var e;if(null!==E&&void 0!==E&&null!==(e=E.list)&&void 0!==e&&e.length){var i,l=(0,a.f)(null===E||void 0===E||null===(i=E.list)||void 0===i?void 0:i.length);T((function(){return l}))}}),[null===E||void 0===E?void 0:E.list]);var G=(0,o.useCallback)((0,d.J)((function(e){D((function(){return 1})),M(e)}),1500),[]);return(0,g.jsxs)(c.Z,{children:[(0,g.jsx)(r.Z,{children:(0,g.jsxs)("div",{className:s.Z.fm_header_container,children:[(0,g.jsx)("h6",{children:w("leave_history")}),(0,g.jsx)("div",{className:s.Z.fm_search,children:(0,g.jsx)("section",{className:s.Z.fm_search_container,children:(0,g.jsxs)("div",{className:s.Z.fm_search_container_inner,children:[(0,g.jsx)("img",{className:s.Z.fm_search_icon,alt:"search icon",src:"".concat(_.dB,"/navbar-search.svg")}),(0,g.jsx)("input",{type:"text",placeholder:w("search"),onChange:function(e){e.target.value?G(e.target.value):(D((function(){return 1})),M(""))}})]})})})]})}),(0,g.jsx)(v.Z,{}),(0,g.jsxs)(r.Z,{children:[null===E||void 0===E||null===(i=E.list)||void 0===i?void 0:i.map((function(e,i){var l;return(null===E||void 0===E||null===(l=E.list)||void 0===l?void 0:l.length)===i+1?(0,g.jsx)("div",{ref:J,children:(0,g.jsx)(j.Z,{leave:e,whichAccess:"Reviewing"})},null===e||void 0===e?void 0:e._id):(0,g.jsx)(j.Z,{leave:e,whichAccess:"Reviewing"},null===e||void 0===e?void 0:e._id)})),W?b?(0,g.jsx)(u.Z,{}):(0,g.jsx)(m.Z,{}):b?0===(null===E||void 0===E||null===(l=E.list)||void 0===l?void 0:l.length)&&(0,g.jsx)(f.Z,{title:"No staff leave history found related this search."}):0===(null===E||void 0===E||null===(Z=E.list)||void 0===Z?void 0:Z.length)&&(0,g.jsx)(f.Z,{title:"No staff leave history."})]})]})}}}]);
//# sourceMappingURL=149.a83ea597.chunk.js.map