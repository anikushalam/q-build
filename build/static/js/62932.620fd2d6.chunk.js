"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[62932],{62932:(e,s,t)=>{t.r(s),t.d(s,{default:()=>u});var a=t(72791),n=t(23441),i=t(763),r=t(52124),o=t(1874),c=t(12072),l=t(39230),d=t(68686),_=t(69721),h=t(80184);const u=e=>{let{onClose:s,selectMember:t}=e;const[u,g]=(0,a.useState)(1),[f,v]=(0,a.useState)(!0),[p,m]=(0,n.YD)(),{t:y}=(0,l.$G)(),[b,x]=(0,a.useState)(""),[j,S]=a.useState([]),{affiliatedSearch:k,affiliatedSearchRefetch:w}=(0,d.I9)({search:b,page:u,limit:10});a.useEffect((()=>{w()}),[w,u]),(0,a.useEffect)((()=>{m&&f&&g((e=>e+1))}),[m,f]),a.useEffect((()=>{if(null!==k&&void 0!==k&&k.manage)if(b)S(null===k||void 0===k?void 0:k.manage);else{const e=[...j,...null===k||void 0===k?void 0:k.manage],s=[...new Set(e.map(JSON.stringify))].map(JSON.parse);S(s)}10===(null===k||void 0===k?void 0:k.manage.length)?v(!0):v(!1)}),[null===k||void 0===k?void 0:k.manage]),(0,a.useEffect)((()=>{b&&C()}),[b]);const C=()=>{w()},Z=(0,a.useCallback)((0,i.debounce)((e=>x(e)),500),[]),A=e=>{t(e),s()};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(o.Z,{onClose:()=>{s()}}),(0,h.jsx)(c.Z,{children:(0,h.jsxs)("div",{style:{backgroundColor:"#FAFAFA",borderRadius:"10px"},children:[(0,h.jsxs)("div",{className:r.Z.assign_title,children:[(0,h.jsx)("h5",{children:y("search_select")}),(0,h.jsx)("img",{src:"/images/close-post-icon.svg",onClick:s,alt:"staff assign pop close icon"})]}),(0,h.jsxs)("div",{className:r.Z.assign_search_container,children:[(0,h.jsx)("input",{type:"text",placeholder:y("search"),className:r.Z.assign_search_input,onChange:e=>{return s=e.target.value,void Z(s);var s}}),(0,h.jsx)("img",{src:"/images/search-dash-icon.svg",alt:"search icon"})]}),(0,h.jsx)("div",{className:r.Z.assign_show_list,children:null===j||void 0===j?void 0:j.map(((e,s)=>(null===j||void 0===j?void 0:j.length)===s+1?(0,h.jsxs)("div",{ref:p,children:[(0,h.jsxs)("div",{className:r.Z.assign_show_list_each,onClick:()=>A(e),children:[(0,h.jsx)("img",{src:null!==e&&void 0!==e&&e.photo?"".concat(_.yI,"/").concat(e.photo):"/images/member_tab/class/default_avatar.svg",alt:"student profile avatar"}),(0,h.jsxs)("div",{className:r.Z.assign_each_paragraph,children:[(0,h.jsx)("h6",{children:null===e||void 0===e?void 0:e.affiliation_name}),(0,h.jsxs)("p",{children:[y("aff_ins")," ",null===e||void 0===e?void 0:e.affiliation_institute_approve_count]})]})]}),(0,h.jsx)("hr",{})]},e._id):(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:r.Z.assign_show_list_each,onClick:()=>A(e),children:[(0,h.jsx)("img",{src:null!==e&&void 0!==e&&e.photo?"".concat(_.yI,"/").concat(e.photo):"/images/member_tab/class/default_avatar.svg",alt:"student profile avatar"}),(0,h.jsxs)("div",{className:r.Z.assign_each_paragraph,children:[(0,h.jsx)("h6",{children:null===e||void 0===e?void 0:e.affiliation_name}),(0,h.jsxs)("p",{children:[y("aff_ins")," ",null===e||void 0===e?void 0:e.affiliation_institute_approve_count]})]})]}),(0,h.jsx)("hr",{})]},e._id)))})]})})]})}},12072:(e,s,t)=>{t.d(s,{Z:()=>r});t(72791);var a=t(54164);const n="Overlay_overlay_card__PAr1h";var i=t(80184);const r=e=>{let{children:s,customStyle:t}=e;return(0,i.jsx)(i.Fragment,{children:a.createPortal((0,i.jsx)("div",{className:n,style:{...t},children:s}),document.getElementById("overlay"))})}},84489:(e,s,t)=>{t.d(s,{Z:()=>i});t(72791);var a=t(51857),n=t(80184);const i=e=>{let{onClose:s,customStyleBackdrop:t}=e;return(0,n.jsx)("div",{className:a.Z.search_backdrop,style:{...t},onClick:s})}},1874:(e,s,t)=>{t.d(s,{Z:()=>r});t(72791);var a=t(54164),n=t(84489),i=t(80184);const r=e=>{let{onClose:s,customStyleBackdrop:t}=e;return(0,i.jsx)(i.Fragment,{children:a.createPortal((0,i.jsx)(n.Z,{onClose:s,customStyleBackdrop:t}),document.getElementById("backdrop"))})}},52124:(e,s,t)=>{t.d(s,{Z:()=>a});const a={assign_title:"AssignStaffModal_assign_title__4DGBV",assign_search_container:"AssignStaffModal_assign_search_container__3x6RD",assign_search_input:"AssignStaffModal_assign_search_input__rO3c7",assign_show_list:"AssignStaffModal_assign_show_list__yHhf7",assign_show_list_each:"AssignStaffModal_assign_show_list_each__ACUEw",assign_each_paragraph:"AssignStaffModal_assign_each_paragraph__pMHTq",universal_modal:"AssignStaffModal_universal_modal__czmpB",is_mulitselect_container:"AssignStaffModal_is_mulitselect_container__0cPQ2"}},51857:(e,s,t)=>{t.d(s,{Z:()=>a});const a={search_backdrop:"SearchHeader_search_backdrop__MsKpG",search_card:"SearchHeader_search_card__-jNcg",search_container:"SearchHeader_search_container__NS7Om",search_container_text:"SearchHeader_search_container_text__bkolR",searchIcon:"SearchHeader_searchIcon__J7cNp",search_container_back:"SearchHeader_search_container_back__ZoXdV"}},23441:(e,s,t)=>{t.d(s,{YD:()=>h});var a=t(72791),n=Object.defineProperty,i=(e,s,t)=>(((e,s,t)=>{s in e?n(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t})(e,"symbol"!==typeof s?s+"":s,t),t),r=new Map,o=new WeakMap,c=0,l=void 0;function d(e){return Object.keys(e).sort().filter((s=>void 0!==e[s])).map((s=>{return"".concat(s,"_").concat("root"===s?(t=e.root)?(o.has(t)||(c+=1,o.set(t,c.toString())),o.get(t)):"0":e[s]);var t})).toString()}function _(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l;if("undefined"===typeof window.IntersectionObserver&&void 0!==a){const n=e.getBoundingClientRect();return s(a,{isIntersecting:a,target:e,intersectionRatio:"number"===typeof t.threshold?t.threshold:0,time:0,boundingClientRect:n,intersectionRect:n,rootBounds:n}),()=>{}}const{id:n,observer:i,elements:o}=function(e){let s=d(e),t=r.get(s);if(!t){const a=new Map;let n;const i=new IntersectionObserver((s=>{s.forEach((s=>{var t;const i=s.isIntersecting&&n.some((e=>s.intersectionRatio>=e));e.trackVisibility&&"undefined"===typeof s.isVisible&&(s.isVisible=i),null==(t=a.get(s.target))||t.forEach((e=>{e(i,s)}))}))}),e);n=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),t={id:s,observer:i,elements:a},r.set(s,t)}return t}(t);let c=o.get(e)||[];return o.has(e)||o.set(e,c),c.push(s),i.observe(e),function(){c.splice(c.indexOf(s),1),0===c.length&&(o.delete(e),i.unobserve(e)),0===o.size&&(i.disconnect(),r.delete(n))}}a.Component;function h(){let{threshold:e,delay:s,trackVisibility:t,rootMargin:n,root:i,triggerOnce:r,skip:o,initialInView:c,fallbackInView:l,onChange:d}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var h;const[u,g]=a.useState(null),f=a.useRef(),[v,p]=a.useState({inView:!!c,entry:void 0});f.current=d,a.useEffect((()=>{if(o||!u)return;let a;return a=_(u,((e,s)=>{p({inView:e,entry:s}),f.current&&f.current(e,s),s.isIntersecting&&r&&a&&(a(),a=void 0)}),{root:i,rootMargin:n,threshold:e,trackVisibility:t,delay:s},l),()=>{a&&a()}}),[Array.isArray(e)?e.toString():e,u,i,n,r,o,t,l,s]);const m=null==(h=v.entry)?void 0:h.target,y=a.useRef();u||!m||r||o||y.current===m||(y.current=m,p({inView:!!c,entry:void 0}));const b=[g,v.inView,v.entry];return b.ref=b[0],b.inView=b[1],b.entry=b[2],b}}}]);
//# sourceMappingURL=62932.620fd2d6.chunk.js.map