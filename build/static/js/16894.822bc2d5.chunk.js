"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[16894],{16894:(e,t,n)=>{n.r(t),n.d(t,{default:()=>U});var l=n(39230),i=n(63687),o=n(56959),s=n(16871),a=n(43504),d=n(72791),r=n(23441),c=n(6758),u=n(91427),v=n(98684),m=n(2651),h=n(55336),_=n(1669),f=n(21348),x=n(90904),j=n(1095),p=n(9228),g=n(93638),y=n(38857),b=n(16925),S=n(61055),Z=n(60924),I=n(43997),C=n(50518),k=n(99183),N=n(60307),F=n(71439),E=n(64499),O=n(85794),R=n(80184);const T=e=>{var t,n,i;let{onClose:o,financeId:a,onRefetch:r,otherFeesId:u,student:m,instituteId:_}=e;const{t:j}=(0,l.$G)(),[p,T]=(0,d.useState)(!1),[P,L]=((0,s.UO)(),(0,d.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""})),[A,G]=(0,d.useState)(""),[w,D]=(0,d.useState)({open:!1,msg:"",variant:"error"}),[H,q]=(0,d.useState)({amount:0,type:"OTHER_FEES",isTransaction:!1}),{studentInstituteCharges:$}=(0,N.xY)({data:{id:_},skip:!_}),[B]=(0,c.iJ)();(0,d.useEffect)((()=>{var e,t;null!==m&&void 0!==m&&null!==(e=m.other_fees_obj)&&void 0!==e&&e.price&&(L((e=>{var t,n;return{...e,amount:+(null===m||void 0===m||null===(t=m.other_fees_obj)||void 0===t?void 0:t.price),fee_payment_amount:+(null===m||void 0===m||null===(n=m.other_fees_obj)||void 0===n?void 0:n.price)}})),q({amount:+(null===m||void 0===m||null===(t=m.other_fees_obj)||void 0===t?void 0:t.price),type:"OTHER_FEES",isTransaction:!1}))}),[m]);const M=e=>{L((t=>({...t,[e.target.name]:e.target.value})))};return(0,R.jsxs)(R.Fragment,{children:[H.isTransaction?(0,R.jsx)(F.Z,{onClose:o,allContent:{...H,platform_charges:null===$||void 0===$||null===(t=$.platform_charges)||void 0===t?void 0:t.percentage},checkoutAdmissionHandler:()=>{let e=2.1*+(null===H||void 0===H?void 0:H.amount)/100,t=e+18*+e/100;const n=parseInt(null===H||void 0===H?void 0:H.amount);Math.ceil(n+ +t.toFixed(2));(0,E.oU)({}).then((e=>{var t,n;window.onScriptLoad(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.body)||void 0===n?void 0:n.txnToken,null===e||void 0===e?void 0:e.order,null===e||void 0===e?void 0:e.amount)})).catch((e=>{console.info(e)}))},isOptimzed:!0}):(0,R.jsx)(y.Z,{onClose:o,children:(0,R.jsxs)("div",{className:b.Z.modal_container,children:[(0,R.jsx)(f.default,{children:(0,R.jsxs)("div",{className:b.Z.modal_container_outer_header,children:[(0,R.jsx)("div",{className:b.Z.modal_container_header,children:(0,R.jsx)("h6",{children:j("collect_fees")})}),(0,R.jsx)("img",{src:"".concat(v.J7,"/close.svg"),alt:"close icon",onClick:o})]})}),(0,R.jsx)(x.Z,{}),(0,R.jsxs)(f.default,{customStyle:{paddingTop:"0"},children:[(0,R.jsxs)("div",{className:b.Z.admission_fees_row,children:[(0,R.jsxs)("h6",{children:[j("applicable_amount")," :"]}),(0,R.jsxs)("h6",{children:[j("rs_only")," ",null!==(n=null===m||void 0===m||null===(i=m.other_fees_obj)||void 0===i?void 0:i.price)&&void 0!==n?n:0]})]}),(0,R.jsx)(S.Z,{label:j("amount"),placeholder:j("amoute_details_collect"),name:"amount",value:P.amount,type:"tel",onChange:e=>{L((t=>({...t,amount:+e.target.value,fee_payment_amount:+e.target.value}))),q((t=>({...t,amount:+e.target.value})))},errorShow:A.amount,msg:A.rest_issue}),(0,R.jsx)(C.Z,{paymentHeading:j("payment_type_mode"),selectLabel:j("mode_placeholder"),onClick:e=>{L((t=>({...t,mode:"Online",fee_payment_mode:e})))},errorShow:A.fee_payment_mode,defalutValue:P.fee_payment_mode,selectedValue:j("please_select_payment_mode"),isAuthority:"admissionCollectMode",customLabelStyle:{marginTop:"0"}}),"Payment Gateway"===P.fee_payment_mode?(0,R.jsx)(g.Z,{label:"collect",onAction:()=>{let e=(0,k.l)({amount:H.amount});var t;(0,k.x)(e)?H.pay_remain&&H.amount?G({rest_issue:"Amount should not be less than total remaining fees"}):!H.pay_remain&&H.amount>+(null===m||void 0===m||null===(t=m.other_fees_obj)||void 0===t?void 0:t.price)?G({rest_issue:"Amount should not be greater than remaining fees"}):null!==$&&void 0!==$&&$.institute?a&&q((e=>({...e,isTransaction:!0}))):D({open:!0,msg:"Online Payment Not Activated",variant:"error"}):G(e)}}):(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Z.Z,{label:j("select_date_of_transaction"),placeholder:j("please_select_date"),name:"transaction_date",value:P.transaction_date,onChange:e=>{L((t=>({...t,transaction_date:(0,I.jh)(e)})))},errorShow:A.transaction_date}),"Cash"===P.fee_payment_mode?null:(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(S.Z,{label:j("bank_name_collect"),placeholder:j("please_enter_bank_name"),name:"fee_bank_name",value:P.fee_bank_name,type:"text",onChange:M}),(0,R.jsx)(S.Z,{label:j("banke_holder_name"),placeholder:j("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:P.fee_bank_holder,type:"text",onChange:M}),(0,R.jsx)(S.Z,{label:j("cheque_dd_neft"),placeholder:j("please_enter_utr_ref_number"),name:"fee_utr_reference",value:P.fee_utr_reference,type:"text",onChange:M})]}),(0,R.jsx)(g.Z,{label:"collect",onAction:()=>{let e=(0,k.l)(P,["mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference"]);var t,n,l,i,s,d,c,v;(0,k.x)(e)&&null!==m&&void 0!==m&&m._id&&u?P.amount>+(null===m||void 0===m||null===(t=m.other_fees_obj)||void 0===t?void 0:t.price)?G({rest_issue:"Amount should not be greater than fees head fees."}):(T((e=>!e)),B({fid:a,bodyParameter:{ofid:u,sid:null===m||void 0===m?void 0:m._id,amount:null!==(n=null===P||void 0===P?void 0:P.amount)&&void 0!==n?n:0,mode:"Cash"===(null===P||void 0===P?void 0:P.fee_payment_mode)?"Offline":null!==(l=null===P||void 0===P?void 0:P.mode)&&void 0!==l?l:"",fee_payment_mode:"Cash"===(null===P||void 0===P?void 0:P.fee_payment_mode)?"By Cash":null===P||void 0===P?void 0:P.fee_payment_mode,fee_payment_amount:null!==(i=null===P||void 0===P?void 0:P.fee_payment_amount)&&void 0!==i?i:0,transaction_date:null!==(s=(0,I._1)(P.transaction_date))&&void 0!==s?s:"",fee_bank_name:null!==(d=null===P||void 0===P?void 0:P.fee_bank_name)&&void 0!==d?d:"",fee_bank_holder:null!==(c=null===P||void 0===P?void 0:P.fee_bank_holder)&&void 0!==c?c:"",fee_utr_reference:null!==(v=null===P||void 0===P?void 0:P.fee_utr_reference)&&void 0!==v?v:""}}).then((()=>{r(),T((e=>!e)),o()})).catch({})):G(e)}})]})]})]})}),p&&(0,R.jsx)(h.default,{}),(0,R.jsx)(O.Z,{eventState:w,eventStateHandler:D})]})};var P=n(89064);const L=e=>{let{ofid:t,onClose:n,menuData:i,onRefetch:o}=e;const{t:s}=(0,l.$G)(),[a,r]=(0,d.useState)(!1),[u,v]=(0,d.useState)({open:!1,msg:"",variant:"error"}),[m]=(0,c.M0)();return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(P.Z,{onClose:n,disabled:a,children:(0,R.jsx)("h6",{onClick:()=>{null!==i&&void 0!==i&&i._id&&t&&(r((e=>!e)),m({ofid:t,bodyParameter:{students:[null===i||void 0===i?void 0:i._id]}}).then((e=>{v({open:!0,msg:"Time out of request...",variant:"error"}),o(),r((e=>!e)),n()})).catch({}))},children:s("remove")})}),(0,R.jsx)(O.Z,{eventState:u,eventStateHandler:v})]})},A=e=>{var t,n,i,o,s,a,r,c,u,m;let{student:h,financeId:_,onRefetch:f,otherFeesId:x,instituteId:y,ofid:b}=e;const{t:S}=(0,l.$G)(),[Z,I]=(0,d.useState)(""),C=()=>{I("")},k=e=>{I(2)};return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)("div",{className:p.Z.iadcc_card_hover,children:[(0,R.jsxs)("div",{className:p.Z.sf_card_contatiner,children:[(0,R.jsx)("img",{src:null!==h&&void 0!==h&&h.studentProfilePhoto?"".concat(j.yI,"/").concat(h.studentProfilePhoto):"".concat(v.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar",style:{width:"2.5rem",height:"2.5rem"}}),(0,R.jsxs)("div",{className:p.Z.sf_card_contatiner_inner,children:[(0,R.jsx)("h6",{children:"".concat(null!==(t=null===h||void 0===h?void 0:h.studentFirstName)&&void 0!==t?t:""," ").concat(null!==(n=null===h||void 0===h?void 0:h.studentMiddleName)&&void 0!==n?n:""," ").concat(null!==(i=null===h||void 0===h?void 0:h.studentLastName)&&void 0!==i?i:"")}),(0,R.jsxs)("p",{children:[S("gr_number")," ",": ",null!==(o=null===h||void 0===h?void 0:h.studentGRNO)&&void 0!==o?o:""]})]})]}),"Paid"===(null===h||void 0===h||null===(s=h.other_fees_obj)||void 0===s?void 0:s.status)?(0,R.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem"},children:[(0,R.jsxs)("div",{className:p.Z.sf_card_contatiner_inner,children:[(0,R.jsxs)("h6",{children:["Rs. ",null!==(a=null===h||void 0===h||null===(r=h.other_fees_obj)||void 0===r?void 0:r.price)&&void 0!==a?a:0]}),(0,R.jsx)("p",{children:S("amount")})]}),(0,R.jsx)("div",{className:p.Z.sf_card_contatiner_inner,children:(0,R.jsx)("a",{href:"".concat(j.q2,"/").concat(null===h||void 0===h||null===(c=h.other_fees_obj)||void 0===c?void 0:c.receipt_file),target:"_blank",rel:"noopener noreferrer",children:(0,R.jsx)("img",{src:"/images/members/receipt-icon.svg",alt:"receipt icon"})})}),(0,R.jsx)("img",{src:"".concat(v.J7,"/menu.svg"),alt:"menu icon",onClick:k})]}):(0,R.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem"},children:[(0,R.jsxs)("div",{className:p.Z.sf_card_contatiner_inner,children:[(0,R.jsxs)("h6",{children:["Rs. ",null!==(u=null===h||void 0===h||null===(m=h.other_fees_obj)||void 0===m?void 0:m.price)&&void 0!==u?u:0]}),(0,R.jsx)("p",{children:S("amount")})]}),(0,R.jsx)(g.Z,{label:"collect_fees",onAction:()=>{I(1)},customStyle:{margin:"0",padding:"0.4rem 1rem"}}),(0,R.jsx)("img",{src:"".concat(v.J7,"/menu.svg"),alt:"menu icon",onClick:k})]})]}),1===Z?(0,R.jsx)(T,{financeId:_,onClose:C,onRefetch:f,student:h,otherFeesId:x,instituteId:y}):2===Z?(0,R.jsx)(L,{onClose:C,onRefetch:f,menuData:h,ofid:b}):null]})};var G=n(43172),w=n(13182);const D=e=>{var t,n,i,a,j,p;let{ofid:y,instituteId:b,financeId:S}=e;const{t:Z}=(0,l.$G)(),I=(0,s.TH)(),[C,k]=(0,d.useState)(""),[N,F]=(0,d.useState)(""),[E,O]=(0,d.useState)(1),[T,P]=(0,d.useState)(!0),[L,D]=(0,r.YD)({skip:C}),[H,q]=(0,d.useState)(""),[$,B]=(0,d.useState)([]),[M,K]=(0,d.useState)(null),[U,J]=(0,d.useState)(!1),[Y]=(0,c.YC)(),[z]=(0,c.zY)(),{financeOneOtherFeesStudentList:W,financeOneOtherFeesStudentListLoading:V,financeOneOtherFeesStudentListRefetch:Q}=(0,c.Jo)({data:{ofid:y,page:E,limit:10,search:C,type:""},skip:!y});(0,d.useEffect)((()=>{D&&T&&O((e=>e+1))}),[D,T]),(0,d.useEffect)((()=>{var e;if(null!==W&&void 0!==W&&null!==(e=W.list)&&void 0!==e&&e.length){var t;let e=(0,u.f)(null===W||void 0===W||null===(t=W.list)||void 0===t?void 0:t.length);P((()=>e))}}),[null===W||void 0===W||null===(t=W.list)||void 0===t?void 0:t.length]);const X=(0,d.useCallback)((()=>{O((()=>1)),Q()}),[]),ee=()=>{q("")};return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(f.default,{children:(0,R.jsxs)("div",{className:o.Z.fm_search_full,children:[(0,R.jsx)("section",{className:o.Z.fm_search_full_container,children:(0,R.jsxs)("div",{className:o.Z.fm_search_full_container_inner,children:[(0,R.jsx)("img",{className:o.Z.fm_search_full_icon,alt:"search icon",src:"".concat(v.dB,"/navbar-search.svg")}),(0,R.jsx)("input",{type:"text",placeholder:Z("search"),onChange:e=>{var t;!V&&(null===W||void 0===W||null===(t=W.list)||void 0===t?void 0:t.length)>=0&&F(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(O((()=>1)),k(N))},value:N})]})}),(0,R.jsx)(g.Z,{label:"add_single_student",customStyle:{paddingBlock:"0.4rem",margin:"0",minWidth:"fit-content"},onAction:()=>{q(2)}}),(0,R.jsx)(g.Z,{label:"add_student",customStyle:{paddingBlock:"0.4rem",margin:"0",minWidth:"fit-content"},onAction:()=>{q(1)}})]})}),(0,R.jsx)(x.Z,{}),(0,R.jsxs)(f.default,{customStyle:{paddingTop:"0"},children:[null===W||void 0===W||null===(n=W.list)||void 0===n?void 0:n.map(((e,t)=>{var n;return(null===W||void 0===W||null===(n=W.list)||void 0===n?void 0:n.length)===t+1?(0,R.jsx)("div",{ref:L,children:(0,R.jsx)(A,{student:e,financeId:S,instituteId:b,otherFeesId:y,onRefetch:X,ofid:y})},null===e||void 0===e?void 0:e._id):(0,R.jsx)(A,{student:e,financeId:S,instituteId:b,otherFeesId:y,onRefetch:X,ofid:y},null===e||void 0===e?void 0:e._id)})),V?C?(0,R.jsx)(h.default,{}):(0,R.jsx)(R.Fragment,{children:1===E?(0,R.jsx)(h.default,{}):(0,R.jsx)(_.Z,{})}):C?0===(null===W||void 0===W||null===(i=W.list)||void 0===i?void 0:i.length)&&(0,R.jsx)(m.Z,{title:"No student found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===W||void 0===W||null===(a=W.list)||void 0===a?void 0:a.length)&&(0,R.jsx)(m.Z,{title:"No student.",customStyleContainer:{marginTop:"1.5rem"}})]}),1===H?(0,R.jsx)(G.Z,{title:Z("select_student"),onClose:ee,instituteId:b,isMultiSelect:!0,onMultiSelect:e=>{null!==$&&void 0!==$&&$.includes(null===e||void 0===e?void 0:e._id)?B((t=>null===t||void 0===t?void 0:t.filter((t=>t!==(null===e||void 0===e?void 0:e._id))))):B((t=>[...t,null===e||void 0===e?void 0:e._id]))},onDone:()=>{S&&(null===$||void 0===$?void 0:$.length)>0&&y&&(J((e=>!e)),Y({fid:S,bodyParameter:{students:$,ofid:y}}).then((()=>{X(),J((e=>!e)),ee()})).catch({}))},selectList:$,buttonTitle:"add"}):2===H?(0,R.jsx)(G.Z,{title:Z("select_student"),onClose:ee,instituteId:b,onSelectStudent:e=>{K(e),q(3)},selectedId:null===M||void 0===M?void 0:M._id}):3===H?(0,R.jsx)(w.Z,{onClose:ee,onParentClose:()=>{},instituteId:b,onGrabCollectFees:e=>{S&&null!==M&&void 0!==M&&M._id&&y&&(J((e=>!e)),z({fid:S,bodyParameter:{students:[null===M||void 0===M?void 0:M._id],ofid:y,...e}}).then((()=>{X(),K(null),J((e=>!e)),ee()})).catch({}))},singleStudent:M,isOtherFees:"OTHER_FEES",applicant:{head:null===(j=I.state)||void 0===j||null===(p=j.otherData)||void 0===p?void 0:p.payable_amount}}):null,U&&(0,R.jsx)(h.default,{})]})};var H=n(98967),q=n(63162);const $=e=>{let{ofid:t,onClose:n,menuData:i,onRefetch:o}=e;const{t:s}=(0,l.$G)(),[a,r]=(0,d.useState)(!1),[u]=(0,c.M0)();return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(P.Z,{onClose:n,disabled:a,children:(0,R.jsx)("h6",{onClick:()=>{null!==i&&void 0!==i&&i._id&&t&&(r((e=>!e)),u({ofid:t,bodyParameter:{students:[]}}).then((()=>{o(),r((e=>!e)),n()})).catch({}))},children:s("remove")})})})},B=e=>{var t,n,i,o,s,a,r;let{student:c,financeId:u,onRefetch:m,otherFeesId:h,instituteId:_,ofid:f}=e;const{t:x}=(0,l.$G)(),[g,y]=(0,d.useState)(""),b=()=>{y("")};return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)("div",{className:p.Z.iadcc_card_hover,children:[(0,R.jsxs)("div",{className:p.Z.sf_card_contatiner,children:[(0,R.jsx)("img",{src:"".concat(v.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar",style:{width:"2.5rem",height:"2.5rem"}}),(0,R.jsxs)("div",{className:p.Z.sf_card_contatiner_inner,children:[(0,R.jsx)("h6",{children:null!==(t=null===c||void 0===c?void 0:c.student)&&void 0!==t?t:""}),(0,R.jsxs)("p",{children:[x("batch")," ",": ",null!==(n=null===c||void 0===c?void 0:c.batch)&&void 0!==n?n:"",", ",x("student_class"),": ",null===c||void 0===c?void 0:c.classes,", ",x("roll_number")," ",": ",null!==(i=null===c||void 0===c?void 0:c.roll_no)&&void 0!==i?i:""]})]})]}),(0,R.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem"},children:[(0,R.jsxs)("div",{className:p.Z.sf_card_contatiner_inner,children:[(0,R.jsxs)("h6",{children:["Rs. ",null!==(o=null===c||void 0===c||null===(s=c.fee_receipt)||void 0===s?void 0:s.fee_payment_amount)&&void 0!==o?o:0]}),(0,R.jsx)("p",{children:x("amount")})]}),null!==c&&void 0!==c&&null!==(a=c.fee_receipt)&&void 0!==a&&a.receipt_file?(0,R.jsx)("div",{className:p.Z.sf_card_contatiner_inner,children:(0,R.jsx)("a",{href:"".concat(j.q2,"/").concat(null===c||void 0===c||null===(r=c.fee_receipt)||void 0===r?void 0:r.receipt_file),target:"_blank",rel:"noopener noreferrer",children:(0,R.jsx)("img",{src:"/images/members/receipt-icon.svg",alt:"receipt icon"})})}):null]})]}),1===g?(0,R.jsx)(T,{financeId:u,onClose:b,onRefetch:m,student:c,otherFeesId:h,instituteId:_}):2===g?(0,R.jsx)($,{onClose:b,onRefetch:m,menuData:c,ofid:f}):null]})};var M=n(27976);const K=e=>{var t,n,i,a,j,p;let{ofid:y,instituteId:b,financeId:S}=e;const{t:Z}=(0,l.$G)(),I=(0,s.TH)(),[C,k]=(0,d.useState)(""),[N,F]=(0,d.useState)(""),[E,O]=(0,d.useState)(1),[T,P]=(0,d.useState)(!0),[L,A]=(0,r.YD)({skip:C}),[G,D]=(0,d.useState)(""),[H,q]=(0,d.useState)(null),[$,K]=(0,d.useState)(!1),[U]=(0,c.UG)(),{financeOtherFeesNonExistingStudentList:J,financeOtherFeesNonExistingStudentListLoading:Y,financeOtherFeesNonExistingStudentListRefetch:z}=(0,c.vQ)({data:{ofid:y,page:E,limit:10,search:C,type:""},skip:!y});(0,d.useEffect)((()=>{A&&T&&O((e=>e+1))}),[A,T]),(0,d.useEffect)((()=>{var e;if(null!==J&&void 0!==J&&null!==(e=J.list)&&void 0!==e&&e.length){var t;let e=(0,u.f)(null===J||void 0===J||null===(t=J.list)||void 0===t?void 0:t.length);P((()=>e))}}),[null===J||void 0===J||null===(t=J.list)||void 0===t?void 0:t.length]);const W=(0,d.useCallback)((()=>{O((()=>1)),z()}),[]),V=()=>{D("")};return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(f.default,{children:(0,R.jsxs)("div",{className:o.Z.fm_search_full,children:[(0,R.jsx)("section",{className:o.Z.fm_search_full_container,children:(0,R.jsxs)("div",{className:o.Z.fm_search_full_container_inner,children:[(0,R.jsx)("img",{className:o.Z.fm_search_full_icon,alt:"search icon",src:"".concat(v.dB,"/navbar-search.svg")}),(0,R.jsx)("input",{type:"text",placeholder:Z("search"),onChange:e=>{var t;!Y&&(null===J||void 0===J||null===(t=J.list)||void 0===t?void 0:t.length)>=0&&F(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(O((()=>1)),k(N))},value:N})]})}),(0,R.jsx)(g.Z,{label:"add_student",customStyle:{paddingBlock:"0.4rem",margin:"0",minWidth:"fit-content"},onAction:()=>{D(1)}})]})}),(0,R.jsx)(x.Z,{}),(0,R.jsxs)(f.default,{customStyle:{paddingTop:"0"},children:[null===J||void 0===J||null===(n=J.list)||void 0===n?void 0:n.map(((e,t)=>{var n;return(null===J||void 0===J||null===(n=J.list)||void 0===n?void 0:n.length)===t+1?(0,R.jsx)("div",{ref:L,children:(0,R.jsx)(B,{student:e,financeId:S,instituteId:b,otherFeesId:y,onRefetch:W,ofid:y})},null===e||void 0===e?void 0:e._id):(0,R.jsx)(B,{student:e,financeId:S,instituteId:b,otherFeesId:y,onRefetch:W,ofid:y},null===e||void 0===e?void 0:e._id)})),Y?C?(0,R.jsx)(h.default,{}):(0,R.jsx)(R.Fragment,{children:1===E?(0,R.jsx)(h.default,{}):(0,R.jsx)(_.Z,{})}):C?0===(null===J||void 0===J||null===(i=J.list)||void 0===i?void 0:i.length)&&(0,R.jsx)(m.Z,{title:"No student found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===J||void 0===J||null===(a=J.list)||void 0===a?void 0:a.length)&&(0,R.jsx)(m.Z,{title:"No student.",customStyleContainer:{marginTop:"1.5rem"}})]}),1===G?(0,R.jsx)(M.Z,{onClose:V,singleStudent:H,onNext:e=>{q(e),D(2)}}):2===G?(0,R.jsx)(w.Z,{onClose:()=>D(1),onParentClose:()=>{},instituteId:b,onGrabCollectFees:e=>{S&&null!==H&&void 0!==H&&H.student_name&&y&&(K((e=>!e)),U({fid:S,bodyParameter:{...H,ofid:y,...e}}).then((()=>{W(),q(null),K((e=>!e)),V()})).catch({}))},singleStudent:H,isOtherFees:"OTHER_FEES",isNonExisting:!0,applicant:{head:null===(j=I.state)||void 0===j||null===(p=j.otherData)||void 0===p?void 0:p.payable_amount}}):null,$&&(0,R.jsx)(h.default,{})]})},U=e=>{var t,n,d,r,c,u,v,m;let{fid:h,instituteId:_}=e;const{t:j}=(0,l.$G)(),p=(0,s.TH)(),g=(0,s.UO)(),[y]=(0,a.lr)();return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)(i.default,{children:[(0,R.jsx)(f.default,{children:(0,R.jsx)("div",{className:o.Z.fm_header_container,children:(0,R.jsxs)("h6",{children:[null!==(t=null===(n=p.state)||void 0===n?void 0:n.feesName)&&void 0!==t?t:""," ","(",(0,R.jsx)("span",{style:{color:"#00f"},children:null===(d=p.state)||void 0===d||null===(r=d.otherData)||void 0===r?void 0:r.paid}),"/",null===(c=p.state)||void 0===c||null===(u=c.otherData)||void 0===u?void 0:u.rmaining,")"]})})}),(0,R.jsx)(x.Z,{}),(0,R.jsx)(H.Z,{children:J.map((e=>{var t,n;return(0,R.jsx)(q.Z,{tab:e,isLink:!0,isActive:null===(t=e.groupIs)||void 0===t?void 0:t.includes(y.get("n")),parentState:p.state,url:"Institute"===(null===(n=p.state)||void 0===n?void 0:n.urlOffSet)?"/q/".concat(g.username,"/institute/member/finance?type=other-fees-detail").concat(e.urlKey):"/q/".concat(g.username,"/member/staff/finance?type=other-fees-detail").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,R.jsx)(x.Z,{customStyleBorder:{marginTop:"0"}}),"non-existing"===y.get("n")?(0,R.jsx)(K,{ofid:null===(v=p.state)||void 0===v?void 0:v.feesId,instituteId:_,financeId:h}):(0,R.jsx)(D,{ofid:null===(m=p.state)||void 0===m?void 0:m.feesId,instituteId:_,financeId:h})]})})},J=[{label:"existing_student",id:"existing",urlKey:"",groupIs:["",null]},{label:"non_existing_student",id:"non-existing",urlKey:"&n=non-existing",groupIs:["non-existing"]}]}}]);
//# sourceMappingURL=16894.822bc2d5.chunk.js.map