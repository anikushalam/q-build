(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[908],{53982:function(e,t,n){"use strict";n.d(t,{KB:function(){return V},Dv:function(){return $},rY:function(){return z},bB:function(){return K},J9:function(){return O},xk:function(){return H},Ne:function(){return Y},b5:function(){return R},OF:function(){return J},Dr:function(){return G},Pv:function(){return L},d4:function(){return D},gS:function(){return P},FL:function(){return q}});var l=n(29439),a=n(28328),i=n(94811),r=function(e){return e.mutation({query:function(e){return{url:"/all-images/onefile/web",method:i.Q0,body:e.fileUpload}}})},o=function(e){return e.query({query:function(e){return"/auth/username/search?u_name=".concat(e)}})},s=function(e){return e.query({query:function(e){return"/auth/email/check/redundant?email=".concat(e)}})},d=function(e){return e.mutation({query:function(e){return{url:"/auth/login",method:i.a4,body:e.login}}})},c=function(e){return e.mutation({query:function(e){return{url:"/auth/user-detail",method:i.a4,body:e}}})},u=function(e){return e.mutation({query:function(e){var t;return{url:"/auth/user-detail-verify/".concat(e.userPhoneNumber,"?u_name=").concat(null!==(t=null===e||void 0===e?void 0:e.u_name)&&void 0!==t?t:""),method:i.a4,body:e}}})},_=function(e){return e.mutation({query:function(e){return{url:"/auth/user/forgot",method:i.a4,body:e.forgot}}})},v=function(e){return e.mutation({query:function(e){return{url:"/auth/user/forgot/".concat(e.uid),method:i.a4,body:e.otp}}})},m=function(e){return e.mutation({query:function(e){return{url:"/auth/user/reset/password/".concat(e.uid),method:i.a4,body:e.password}}})},f=function(e,t){return e.mutation({query:function(e){return{url:"/auth/profile-creation/".concat(e.userPhoneNumber),method:i.a4,body:e.profileCreation}}})},h=function(e,t){return e.mutation({query:function(e){return{url:"/auth/create-user-password/".concat(e.uid),method:i.a4,body:e.password}}})},x=function(e,t){return e.mutation({query:function(e){return{url:"/auth/ins-detail",method:i.a4,body:e.phone}}})},p=function(e,t){return e.mutation({query:function(e){return{url:"/auth/ins-detail-verify/".concat(e.insPhoneNumber),method:i.a4,body:e.verify}}})},g=function(e,t){return e.mutation({query:function(e){return{url:"/auth/ins/register",method:i.a4,body:e.profileCreation}}})},j=function(e,t){return e.mutation({query:function(e){return{url:"/auth/ins/create-password/".concat(e.id),method:i.a4,body:e.password}}})},Z=function(e){return e.mutation({query:function(e){return{url:"/auth/direct/confirm/join/".concat(e.phoneNumber,"/apply/").concat(e.aid,"?existingUser=").concat(e.uid),method:i.a4,body:e.addStudent}}})},b=a.i.injectEndpoints({endpoints:function(e){return{fileUpload:r(e),authUniqueUsername:o(e),authUniqueEmail:s(e),authLogin:d(e),authUserNumber:c(e),authUserNumberVerify:u(e),authUserForget:_(e),authUserForgetOtp:v(e),authUserSetPassword:m(e),authUserCreateAccount:f(e),authUserCreatePassword:h(e),authInstituteNumber:x(e),authInstituteNumberVerify:p(e),authInstituteCreateAccount:g(e),authInstituteCreatePassword:j(e),authDirectJoinFormAdmissionApplication:Z(e)}}}),y=b.useFileUploadMutation,S=(b.useAuthUniqueUsernameQuery,b.useAuthUniqueEmailQuery,b.useAuthLoginMutation),F=b.useAuthUserNumberMutation,N=b.useAuthUserNumberVerifyMutation,C=b.useAuthUserForgetMutation,w=b.useAuthUserForgetOtpMutation,A=b.useAuthUserSetPasswordMutation,k=b.useAuthUserCreateAccountMutation,I=b.useAuthUserCreatePasswordMutation,M=b.useAuthInstituteNumberMutation,T=b.useAuthInstituteNumberVerifyMutation,U=b.useAuthInstituteCreateAccountMutation,B=b.useAuthInstituteCreatePasswordMutation,E=b.useAuthDirectJoinFormAdmissionApplicationMutation,q=function(){var e=y();return[(0,l.Z)(e,1)[0]]},H=function(){var e=S();return[(0,l.Z)(e,1)[0]]},L=function(){var e=F();return[(0,l.Z)(e,1)[0]]},D=function(){var e=N();return[(0,l.Z)(e,1)[0]]},J=function(){var e=C();return[(0,l.Z)(e,1)[0]]},G=function(){var e=w();return[(0,l.Z)(e,1)[0]]},P=function(){var e=A();return[(0,l.Z)(e,1)[0]]},Y=function(){var e=k();return[(0,l.Z)(e,1)[0]]},R=function(){var e=I();return[(0,l.Z)(e,1)[0]]},K=function(){var e=M();return[(0,l.Z)(e,1)[0]]},O=function(){var e=T();return[(0,l.Z)(e,1)[0]]},$=function(){var e=U();return[(0,l.Z)(e,1)[0]]},z=function(){var e=B();return[(0,l.Z)(e,1)[0]]},V=function(){var e=E();return[(0,l.Z)(e,1)[0]]}},1669:function(e,t,n){"use strict";var l=n(98684),a=n(63244),i=n(80184);t.Z=function(e){var t=e.isGrey;return(0,i.jsx)("div",{className:a.Z.q_loading,children:(0,i.jsx)("img",{src:"".concat(l.Uw,t?"/loading-grey.gif":"/loading.gif"),alt:"loading icon"})})}},55336:function(e,t,n){"use strict";var l=n(63244),a=n(80184);t.Z=function(){return(0,a.jsx)("div",{className:l.Z.qviple_loader_backdrop,children:(0,a.jsx)("div",{className:l.Z.qviple_loader_container,children:(0,a.jsx)("div",{className:l.Z.qviple_loader_rotation})})})}},79992:function(e,t,n){"use strict";n.d(t,{ZH:function(){return a}});var l=n(89704),a=function(e){var t=l.AES.decrypt(e,"QVIPLESAASPLATFORM");return JSON.parse(t.toString(l.enc.Utf8))}},94811:function(e,t,n){"use strict";n.d(t,{Q0:function(){return a},a4:function(){return l},yY:function(){return i}});var l="POST",a="PATCH",i="DELETE"},90904:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var l="BorderBottom_split_content__RVPoh",a=n(80184),i=function(e){var t=e.customStyleBorder;return(0,a.jsx)("hr",{className:l,style:t})}},93638:function(e,t,n){"use strict";var l=n(39230),a=n(80476),i=n(80184);t.Z=function(e){var t=e.label,n=e.count,r=e.onAction,o=e.customStyle,s=e.isTranslate,d=(0,l.$G)().t;return s?(0,i.jsxs)("div",{className:a.Z.create_btn_container,onClick:r,style:o,children:[n>0?(0,i.jsxs)("span",{children:[n," "]}):null,t]}):(0,i.jsxs)("div",{className:a.Z.create_btn_container,onClick:r,style:o,children:[n>0?(0,i.jsxs)("span",{children:[n," "]}):null,d(t)]})}},66659:function(e,t,n){"use strict";var l=n(39230),a=n(80476),i=n(98684),r=n(80184);t.Z=function(e){var t=e.label,n=e.onAction,o=e.customStyle,s=(0,l.$G)().t;return(0,r.jsxs)("div",{className:a.Z.set_btn_container,onClick:n,style:o,children:[(0,r.jsx)("h6",{children:s(t)}),(0,r.jsx)("img",{src:"".concat(i.J7,"/forward.svg"),alt:"forward icon"})]})}},44226:function(e,t,n){"use strict";var l=n(39230),a=n(98684),i=n(80476),r=n(80184);t.Z=function(e){var t=e.onExcelFileUpload,n=e.acceptType,o=e.label,s=e.dynamicKey,d=e.title,c=(0,l.$G)().t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("label",{className:i.Z.upload_excel_file,htmlFor:null!==s&&void 0!==s?s:"uploadExcel",children:[(0,r.jsx)("img",{src:"".concat(a.J7,"/upload-xslx.svg"),alt:"add student icon",title:null!==d&&void 0!==d?d:"Upload excel file"}),o&&(0,r.jsx)("h6",{children:c(o)})]}),(0,r.jsx)("input",{type:"file",id:null!==s&&void 0!==s?s:"uploadExcel",accept:n,onChange:t,style:{display:"none"}})]})}},8959:function(e,t,n){"use strict";var l=n(52245),a=n(80184);t.Z=function(e){var t=e.label,n=e.value,i=e.customFormInputContainer,r=e.customFormInputLabel,o=e.customFormInput,s=e.children;return(0,a.jsxs)("div",{className:l.Z.form_read_input_container,style:i,children:[t?(0,a.jsx)("label",{className:l.Z.form_read_input_label,style:r,children:t}):null,s,(0,a.jsx)("h6",{className:l.Z.form_read_input,style:o,children:n})]})}},63162:function(e,t,n){"use strict";var l=n(39230),a=n(51416),i=n(43504),r=n(72791),o=n(80184),s=function(e){var t=e.tab,n=e.isActive,r=e.isLink,s=e.parentState,d=e.onAction,c=e.url,u=(0,l.$G)().t;return r?(0,o.jsx)(i.rU,{className:n?a.Z.horizontal_tab_card_active:a.Z.horizontal_tab_card,to:c,state:s,children:(0,o.jsx)("h6",{children:u(null===t||void 0===t?void 0:t.label)})}):(0,o.jsx)("div",{className:n?a.Z.horizontal_tab_card_active:a.Z.horizontal_tab_card,onClick:function(){d(null===t||void 0===t?void 0:t.id)},children:(0,o.jsx)("h6",{children:u(null===t||void 0===t?void 0:t.label)})})};t.Z=(0,r.memo)(s)},98967:function(e,t,n){"use strict";var l=n(51416),a=n(80184);t.Z=function(e){var t=e.children;return(0,a.jsx)("div",{className:l.Z.horizontal_tab_wrapper,children:t})}},23558:function(e,t,n){"use strict";var l=n(39230),a=n(51416),i=n(72791),r=n(43504),o=n(80184),s=function(e){var t=e.label,n=e.onClick,s=e.isActive,d=e.isLink,c=e.url,u=e.parentState,_=e.isAuthorized,v=(0,l.$G)().t,m=(0,i.useCallback)((function(){return n&&n(),null}),[n]);return(0,o.jsx)(o.Fragment,{children:d?(0,o.jsx)(o.Fragment,{children:_?(0,o.jsx)(r.rU,{className:s?a.Z.rectangle_tab_card_active:a.Z.rectangle_tab_card,to:c,state:u,children:v(t)}):(0,o.jsx)("div",{className:a.Z.rectangle_tab_card,style:{opacity:"0.5"},children:v(t)})}):(0,o.jsx)("div",{className:s?a.Z.rectangle_tab_card_active:a.Z.rectangle_tab_card,onClick:m,children:v(t)})})};t.Z=(0,i.memo)(s)},53277:function(e,t,n){"use strict";var l=n(51416),a=n(80184);t.Z=function(e){var t=e.children;return(0,a.jsx)("div",{className:l.Z.rectangle_tab_wrapper,children:t})}},60724:function(e,t,n){"use strict";var l=n(1413),a=n(39230),i=n(51416),r=n(43504),o=n(80184);t.Z=function(e){var t=e.label,n=e.iconUrl,s=e.url,d=e.state,c=e.isAuthorized,u=e.isVisible,_=e.accessKey,v=e.customStyleContainer,m=(0,a.$G)().t;return s?(0,o.jsx)(o.Fragment,{children:c?u&&u[_]&&(0,o.jsxs)(r.rU,{className:i.Z.square_tab_card,to:s,state:d,style:v,children:[(0,o.jsx)("img",{src:n,alt:"card icon"}),(0,o.jsx)("p",{children:m(t)})]}):u&&u[_]&&(0,o.jsxs)("div",{className:i.Z.square_tab_card,style:(0,l.Z)({opacity:"0.5"},v),children:[(0,o.jsx)("img",{src:n,alt:"card icon"}),(0,o.jsx)("p",{children:m(t)})]})}):(0,o.jsxs)("div",{className:i.Z.square_tab_card,style:v,children:[(0,o.jsx)("img",{src:n,alt:"card icon"}),(0,o.jsx)("p",{children:m(t)})]})}},98167:function(e,t,n){"use strict";var l=n(51416),a=n(80184);t.Z=function(e){var t=e.dynamicId,n=e.customStyle,i=e.children;return(0,a.jsx)("div",{className:l.Z.square_tab_wrapper,id:t,style:n,children:i})}},21348:function(e,t,n){"use strict";var l=n(59393),a=n(80184);t.Z=function(e){var t=e.customStyle,n=e.children;return(0,a.jsx)("div",{className:l.Z.user_member_content_wrapper,style:t,children:n})}},87979:function(e,t,n){"use strict";var l=n(59393),a=n(80184);t.Z=function(e){var t=e.children;return(0,a.jsx)("div",{className:l.Z.user_member_tabs_wrapper,children:t})}},99594:function(e,t,n){"use strict";n.d(t,{Z:function(){return Ce}});var l=n(29439),a=n(43504),i=n(39230),r=n(1413),o=n(4007),s=n(43677),d=n(6758),c=n(98684),u=n(1669),_=n(80184),v=function(e){var t=e.fid,n=e.carryParentState,l=e.accessRole,a=e.callApi,v=(e.viewAs,(0,i.$G)().t),m=(0,d.Jv)({fid:t,skip:!t}),f=m.instituteAllDepartment,h=m.instituteAllDepartmentLoading;return(0,_.jsxs)("div",{className:o.Z.department_container,children:[h&&(0,_.jsx)(u.Z,{}),null===f||void 0===f?void 0:f.map((function(e){var t;return(0,_.jsx)(s.Z,{parentState:(0,r.Z)((0,r.Z)({},n),{},{did:null===e||void 0===e?void 0:e._id,dName:null===e||void 0===e?void 0:e.dName}),activeUrl:"type=fees&n=structure&u=batch",accessRole:l,callApi:a,children:(0,_.jsxs)("div",{className:o.Z.department_card_container,children:[(0,_.jsx)("img",{src:"".concat(c.J7,"/department.svg"),alt:"department avatar",className:o.Z.department_card_image}),(0,_.jsxs)("div",{children:[(0,_.jsx)("h6",{className:o.Z.department_card_name,children:(null===e||void 0===e?void 0:e.dName)||""}),(0,_.jsxs)("p",{className:o.Z.department_card_head,style:{fontSize:"13px",marginTop:"0.3rem"},children:[v("total_masters")," "," : "," ",null!==(t=null===e||void 0===e?void 0:e.classMasterCount)&&void 0!==t?t:0]})]})]})},null===e||void 0===e?void 0:e._id)}))]})},m=n(16871),f=function(e){var t=e.instituteId,n=e.categoryCount,l=e.masterCount,a=e.fid,r=(0,i.$G)().t,d=(0,m.TH)();return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(s.Z,{parentState:d.state,activeUrl:"type=fees&n=category",children:(0,_.jsxs)("div",{className:o.Z.fees_category,children:[(0,_.jsx)("div",{className:o.Z.fees_category_icon,children:(0,_.jsx)("img",{src:"".concat(c.J7,"/category.svg"),alt:"categor icon"})}),(0,_.jsxs)("div",{className:o.Z.fees_category_text,children:[(0,_.jsx)("h6",{children:r("fees_master")}),(0,_.jsxs)("p",{children:[r("fees_total")," "," : "," ",n+l]})]})]})}),(0,_.jsx)(v,{fid:a,instituteId:t,carryParentState:d.state})]})},h=n(56959),x=n(98967),p=n(63162),g=n(90904),j=n(44226),Z=n(93638),b=n(72791),y=n(53982),S=n(89064),F=n(48293),N=n(21348),C=function(e){var t=e.fid,n=e.selectedId,l=e.onSecondary,a=e.onClose,r=(0,i.$G)().t,s=(0,d.QD)({fid:t,skip:!t}),u=s.financeAllFeesCategory;s.financeAllFeesCategoryLoading;return(0,_.jsx)(F.Z,{onClose:a,children:(0,_.jsxs)("div",{className:o.Z.modal_container,children:[(0,_.jsx)(N.Z,{children:(0,_.jsxs)("div",{className:o.Z.modal_container_outer_header,children:[(0,_.jsx)("div",{className:o.Z.modal_container_header,children:(0,_.jsx)("h6",{children:r("select_secondary_category")})}),(0,_.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:a})]})}),(0,_.jsx)(g.Z,{}),(0,_.jsx)(N.Z,{customStyle:{paddingTop:"0"},children:null===u||void 0===u?void 0:u.map((function(e){var t;return(null===e||void 0===e?void 0:e._id)===n?"":(0,_.jsxs)("div",{className:"".concat(o.Z.category_card," ").concat(o.Z.add_category_modal_title_active),onClick:function(){return l(null===e||void 0===e?void 0:e._id)},children:[(0,_.jsx)("img",{src:"".concat(c.J7,"/category.svg"),alt:"categor icon"}),(0,_.jsx)("h6",{children:null!==(t=null===e||void 0===e?void 0:e.category_name)&&void 0!==t?t:""})]},null===e||void 0===e?void 0:e._id)}))})]})})},w=function(e){var t=e.fid,n=e.openCategoryMenu,a=e.onClose,r=(0,i.$G)().t,o=(0,b.useState)(!1),s=(0,l.Z)(o,2),c=s[0],u=s[1],v=(0,d.wJ)(),m=(0,l.Z)(v,1)[0],f=(0,d.Es)(),h=(0,l.Z)(f,1)[0],x=(0,b.useState)(!1),p=(0,l.Z)(x,2),g=p[0],j=p[1];return(0,_.jsx)(_.Fragment,{children:g?(0,_.jsx)(C,{selectedId:n,fid:t,onSecondary:function(e){t&&n&&(j(!1),u((function(e){return!e})),h({fid:t,secondaryData:{old_category:n,fee_category:e}}).then((function(){a(),u((function(e){return!e}))})).catch({}))},onClose:function(){return j(!1)}}):(0,_.jsxs)(S.Z,{onClose:a,disabled:c,children:[(0,_.jsx)("h6",{onClick:function(){j((function(e){return!e}))},children:r("mark_as_secondary")}),(0,_.jsx)("h6",{onClick:function(){n&&(u((function(e){return!e})),m({cid:n}).then((function(){a(),u((function(e){return!e}))})).catch({}))},children:r("delete")})]})})},A=function(e){var t,n,a,i,r=e.category,s=e.fid,d=(0,b.useState)(""),u=(0,l.Z)(d,2),v=u[0],m=u[1];return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:o.Z.category_card,children:[(0,_.jsx)("img",{src:"".concat(c.J7,"/category.svg"),alt:"categor icon"}),(0,_.jsxs)("h6",{children:[null!==(t=null===r||void 0===r?void 0:r.category_name)&&void 0!==t?t:""," ",null!==r&&void 0!==r&&null!==(n=r.secondary_category)&&void 0!==n&&n.category_name?(0,_.jsxs)("span",{style:{fontSize:"11px",fontWeight:"400"},children:["(",null!==(a=null===r||void 0===r||null===(i=r.secondary_category)||void 0===i?void 0:i.category_name)&&void 0!==a?a:"",")"]}):""]}),(0,_.jsx)("img",{src:"".concat(c.J7,"/menu.svg"),alt:"menu icon",onClick:function(){m(null===r||void 0===r?void 0:r._id)},className:o.Z.menu_icon,title:"Menu"})]}),v&&(0,_.jsx)(w,{fid:s,onClose:function(){m("")},openCategoryMenu:v})]})},k=n(55336),I=n(61055),M=function(e){var t=e.onClose,n=e.fid,a=(0,i.$G)().t,r=(0,b.useState)(""),s=(0,l.Z)(r,2),u=s[0],v=s[1],m=(0,b.useState)(!1),f=(0,l.Z)(m,2),h=f[0],x=f[1],p=(0,b.useState)(""),j=(0,l.Z)(p,2),y=j[0],S=j[1],C=(0,d.d5)(),w=(0,l.Z)(C,1)[0];return(0,_.jsx)(F.Z,{onClose:t,children:(0,_.jsxs)("div",{className:o.Z.modal_container,children:[(0,_.jsx)(N.Z,{children:(0,_.jsxs)("div",{className:o.Z.modal_container_outer_header,children:[(0,_.jsx)("div",{className:o.Z.modal_container_header,children:(0,_.jsx)("h6",{children:a("add_new_category")})}),(0,_.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:t})]})}),(0,_.jsx)(g.Z,{}),(0,_.jsxs)(N.Z,{customStyle:{paddingTop:"0"},children:[(0,_.jsx)(I.Z,{label:a("category_name"),placeholder:a("category_name_placeholder"),name:"category",value:u,type:"text",onChange:function(e){var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)<=30&&v(e.target.value)},errorShow:y.categoryName}),(0,_.jsx)(Z.Z,{label:"create",onAction:function(){u&&n?(x((function(e){return!e})),w({fid:n,createCategory:{category_name:u}}).then((function(){t(),x((function(e){return!e}))})).catch((function(){x((function(e){return!e}))}))):S({categoryName:"* required"})}})]}),h&&(0,_.jsx)(k.Z,{})]})})},T=function(e){var t=e.fid,n=(0,b.useState)(!1),a=(0,l.Z)(n,2),i=a[0],r=a[1],s=(0,b.useState)(!1),c=(0,l.Z)(s,2),v=c[0],m=c[1],f=(0,y.FL)(),h=(0,l.Z)(f,1)[0],x=(0,d.M7)(),p=(0,l.Z)(x,1)[0],g=(0,d.QD)({fid:t,skip:!t}),S=g.financeAllFeesCategory,F=g.financeAllFeesCategoryLoading,N=function(){m((function(e){return!e}))};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:o.Z.upload_excel_container,children:[(0,_.jsx)(j.Z,{onExcelFileUpload:function(e){if(e.target.files[0]){r((function(e){return!e}));var n=new FormData;n.append("file",e.target.files[0]),h({fileUpload:n}).then((function(e){var n,l;null!==(n=e.data)&&void 0!==n&&n.imageKey?p({fid:t,excelFile:{excel_file:null===(l=e.data)||void 0===l?void 0:l.imageKey}}).then((function(){r((function(e){return!e}))})).catch({}):r((function(e){return!e}))})).catch({})}}}),(0,_.jsx)(Z.Z,{label:"add_new_category",customStyle:{marginBlock:"0.5rem"},onAction:N})]}),F&&(0,_.jsx)(u.Z,{}),null===S||void 0===S?void 0:S.map((function(e){return(0,_.jsx)(A,{category:e,fid:t},null===e||void 0===e?void 0:e._id)})),i&&(0,_.jsx)(k.Z,{}),v&&(0,_.jsx)(M,{onClose:N,fid:t})]})},U=n(4942),B=n(99183),E=function(e){var t=e.onClose,n=e.fid,a=e.openFeeHeadMenu,s=e.openAs,u=e.onEdit,v=(0,i.$G)().t,m=(0,b.useState)({master_name:"EDIT"===s?null===a||void 0===a?void 0:a.master_name:"",master_amount:"EDIT"===s?null===a||void 0===a?void 0:a.master_amount:""}),f=(0,l.Z)(m,2),h=f[0],x=f[1],p=(0,b.useState)(!1),j=(0,l.Z)(p,2),y=j[0],S=j[1],C=(0,b.useState)(""),w=(0,l.Z)(C,2),A=w[0],M=w[1],T=(0,d.bQ)(),E=(0,l.Z)(T,1)[0];(0,b.useEffect)((function(){"EDIT"===s&&x({master_name:null===a||void 0===a?void 0:a.master_name,master_amount:null===a||void 0===a?void 0:a.master_amount})}),[s]);var q=function(e){var t;"master_name"===e.target.name?(null===(t=e.target.value)||void 0===t?void 0:t.length)<=30&&x((function(t){return(0,r.Z)((0,r.Z)({},t),{},(0,U.Z)({},e.target.name,e.target.value))})):x((function(t){return(0,r.Z)((0,r.Z)({},t),{},(0,U.Z)({},e.target.name,+e.target.value))}))};return(0,_.jsx)(F.Z,{onClose:t,children:(0,_.jsxs)("div",{className:o.Z.modal_container,children:[(0,_.jsx)(N.Z,{children:(0,_.jsxs)("div",{className:o.Z.modal_container_outer_header,children:[(0,_.jsx)("div",{className:o.Z.modal_container_header,children:(0,_.jsx)("h6",{children:v("EDIT"===s?"edit_fee_head":"add_new_fee_head")})}),(0,_.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:t})]})}),(0,_.jsx)(g.Z,{}),(0,_.jsxs)(N.Z,{customStyle:{paddingTop:"0"},children:[(0,_.jsx)(I.Z,{label:v("head_name"),placeholder:v("head_name_placeholder"),name:"master_name",value:h.master_name,type:"text",onChange:q,errorShow:A.master_name}),(0,_.jsx)(I.Z,{label:v("amount"),placeholder:v("amount_placeholder"),name:"master_amount",value:h.master_amount,type:"tel",onChange:q}),(0,_.jsx)(Z.Z,{label:"EDIT"===s?"update":"create",onAction:function(){if(n){var e=(0,B.l)(h,["master_amount"]);(0,B.x)(e)?"EDIT"===s?u({master_name:null===h||void 0===h?void 0:h.master_name,master_amount:null!==h&&void 0!==h&&h.master_amount?null===h||void 0===h?void 0:h.master_amount:0}):(S((function(e){return!e})),E({fid:n,addFeeHead:{master_name:null===h||void 0===h?void 0:h.master_name,master_amount:null!==h&&void 0!==h&&h.master_amount?null===h||void 0===h?void 0:h.master_amount:0}}).then((function(){t(),S((function(e){return!e}))})).catch((function(){S((function(e){return!e}))}))):M(e)}}})]}),y&&(0,_.jsx)(k.Z,{})]})})},q=function(e){var t=e.fid,n=e.openFeeHeadMenu,a=e.onClose,r=(0,i.$G)().t,o=(0,b.useState)(!1),s=(0,l.Z)(o,2),c=s[0],u=s[1],v=(0,d.hx)(),m=(0,l.Z)(v,1)[0],f=(0,d.dA)(),h=(0,l.Z)(f,1)[0],x=(0,b.useState)(!1),p=(0,l.Z)(x,2),g=p[0],j=p[1],Z=function(){j((function(e){return!e}))};return(0,_.jsx)(_.Fragment,{children:g?(0,_.jsx)(E,{onClose:Z,openFeeHeadMenu:n,openAs:"EDIT",onEdit:function(e){null!==n&&void 0!==n&&n._id&&(u((function(e){return!e})),j(!1),a(),h({fmid:null===n||void 0===n?void 0:n._id,updateFeeHead:e}).then((function(){u((function(e){return!e}))})).catch({}))},fid:t}):(0,_.jsxs)(S.Z,{onClose:a,disabled:c,children:[(0,_.jsx)("h6",{onClick:Z,children:r("edit")}),(0,_.jsx)("h6",{onClick:function(){null!==n&&void 0!==n&&n._id&&t&&(u((function(e){return!e})),m({fhid:null===n||void 0===n?void 0:n._id,fid:t}).then((function(){a(),u((function(e){return!e}))})).catch({}))},children:r("delete")})]})})},H=function(e){var t,n,a=e.feeHead,r=e.fid,s=(0,i.$G)().t,d=(0,b.useState)(""),u=(0,l.Z)(d,2),v=u[0],m=u[1];return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:o.Z.category_card,children:[(0,_.jsx)("img",{style:{height:"36px",width:"36px"},src:"".concat(c.J7,"/category.svg"),alt:"categor icon"}),(0,_.jsxs)("div",{className:o.Z.category_card_fee,children:[(0,_.jsx)("h6",{style:{marginBottom:"0.3rem"},children:null!==(t=null===a||void 0===a?void 0:a.master_name)&&void 0!==t?t:""}),(0,_.jsxs)("h6",{style:{color:"rgba(18, 18, 18, 0.5)"},children:[s("rs_only"),null!==(n=null===a||void 0===a?void 0:a.master_amount)&&void 0!==n?n:0]})]}),["Hostel Linked","Linked","Transport Linked"].includes(null===a||void 0===a?void 0:a.master_status)?"":(0,_.jsx)("img",{src:"".concat(c.J7,"/menu.svg"),alt:"menu icon",onClick:function(){m(a)},className:o.Z.menu_icon,title:"Menu"})]},null===a||void 0===a?void 0:a._id),v&&(0,_.jsx)(q,{fid:r,onClose:function(){m("")},openFeeHeadMenu:v})]})},L=n(23441),D=n(91427),J=n(57588),G=n(2651),P=function(e){var t,n,a,r,s=e.fid,v=(0,i.$G)().t,m=(0,b.useState)(!1),f=(0,l.Z)(m,2),x=f[0],p=f[1],g=(0,b.useState)(!1),S=(0,l.Z)(g,2),F=S[0],N=S[1],C=(0,b.useState)(""),w=(0,l.Z)(C,2),A=w[0],I=w[1],M=(0,b.useState)(1),T=(0,l.Z)(M,2),U=T[0],B=T[1],q=(0,b.useState)(!0),P=(0,l.Z)(q,2),Y=P[0],R=P[1],K=(0,L.YD)({skip:A}),O=(0,l.Z)(K,2),$=O[0],z=O[1],V=(0,y.FL)(),Q=(0,l.Z)(V,1)[0],W=(0,d.yJ)(),X=(0,l.Z)(W,1)[0],ee=(0,d.an)({data:{fid:s,page:U,limit:10,search:A},skip:!s}),te=ee.financeAllFeeHeadMaster,ne=ee.financeAllFeeHeadMasterLoading;(0,b.useEffect)((function(){z&&Y&&B((function(e){return e+1}))}),[z,Y]),(0,b.useEffect)((function(){var e;if(null!==te&&void 0!==te&&null!==(e=te.list)&&void 0!==e&&e.length){var t,n=(0,D.f)(null===te||void 0===te||null===(t=te.list)||void 0===t?void 0:t.length);R((function(){return n}))}}),[null===te||void 0===te||null===(t=te.list)||void 0===t?void 0:t.length]);var le=(0,b.useCallback)((0,J.J)((function(e){B((function(){return 1})),I(e)}),500),[]),ae=function(){N((function(e){return!e}))};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:o.Z.upload_excel_container,children:[(0,_.jsx)(j.Z,{onExcelFileUpload:function(e){if(e.target.files[0]){p((function(e){return!e}));var t=new FormData;t.append("file",e.target.files[0]),Q({fileUpload:t}).then((function(e){var t,n;null!==(t=e.data)&&void 0!==t&&t.imageKey?X({fid:s,excelFile:{excel_file:null===(n=e.data)||void 0===n?void 0:n.imageKey}}).then((function(){p((function(e){return!e}))})).catch({}):p((function(e){return!e}))})).catch({})}}}),(0,_.jsx)(Z.Z,{label:"add_new_fee_head",customStyle:{marginBlock:"0.5rem"},onAction:ae})]}),(0,_.jsx)("div",{className:h.Z.fm_search_full,style:{marginBottom:"0.5rem"},children:(0,_.jsx)("section",{className:h.Z.fm_search_full_container,children:(0,_.jsxs)("div",{className:h.Z.fm_search_full_container_inner,children:[(0,_.jsx)("img",{className:h.Z.fm_search_full_icon,alt:"search icon",src:"".concat(c.dB,"/navbar-search.svg")}),(0,_.jsx)("input",{type:"text",placeholder:v("search"),onChange:function(e){e.target.value?le(e.target.value):(B((function(){return 1})),I(""))}})]})})}),null===te||void 0===te||null===(n=te.list)||void 0===n?void 0:n.map((function(e,t){var n;return(null===te||void 0===te||null===(n=te.list)||void 0===n?void 0:n.length)===t+1?(0,_.jsx)("div",{ref:$,children:(0,_.jsx)(H,{feeHead:e,fid:s})},null===e||void 0===e?void 0:e._id):(0,_.jsx)(H,{feeHead:e,fid:s},null===e||void 0===e?void 0:e._id)})),ne?A?(0,_.jsx)(k.Z,{}):(0,_.jsx)(u.Z,{}):A?0===(null===te||void 0===te||null===(a=te.list)||void 0===a?void 0:a.length)&&(0,_.jsx)(G.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No fee heads found related this search."}):0===(null===te||void 0===te||null===(r=te.list)||void 0===r?void 0:r.length)&&(0,_.jsx)(G.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No fee heads added."}),x&&(0,_.jsx)(k.Z,{}),F&&(0,_.jsx)(E,{onClose:ae,fid:s})]})},Y=[{label:"category",id:"category",urlKey:"&n=category"},{label:"fees_heads",id:"head",urlKey:"&n=head"}],R=function(e){var t=e.fid,n=(0,i.$G)().t,r=(0,a.lr)(),o=(0,l.Z)(r,1)[0],s=(0,m.TH)(),d=(0,m.UO)();return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:h.Z.fm_header_container,children:(0,_.jsx)("h6",{children:n("fees_master")})}),(0,_.jsx)(x.Z,{children:Y.map((function(e){var t;return(0,_.jsx)(p.Z,{tab:e,isLink:!0,isActive:o.get("n")===e.id,parentState:s.state,url:"Institute"===(null===(t=s.state)||void 0===t?void 0:t.urlOffSet)?"/q/".concat(d.username,"/institute/member/finance?type=fees").concat(e.urlKey):"/q/".concat(d.username,"/member/staff/finance?type=fees").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,_.jsx)(g.Z,{customStyleBorder:{marginTop:"0"}}),"category"===o.get("n")?(0,_.jsx)(T,{fid:t}):(0,_.jsx)(P,{fid:t})]})},K="FeesConfig_class_container__7EIlk",O="FeesConfig_class_container_text__BXhQD",$="FeesConfig_oneRowImage__GaV1n",z=n(97892),V=n.n(z),Q=function(e){var t=e.departmentId,n=e.carryParentState,l=(0,i.$G)().t,a=(0,d._m)({did:t,skip:!t}),o=a.departmentAllBatch,v=a.departmentAllBatchLoading;return(0,_.jsxs)(_.Fragment,{children:[null===o||void 0===o?void 0:o.map((function(e){return(0,_.jsx)(s.Z,{parentState:(0,r.Z)((0,r.Z)({},n),{},{batchId:null===e||void 0===e?void 0:e._id,batchName:null===e||void 0===e?void 0:e.batchName}),activeUrl:"type=fees&n=structure&u=standard",children:(0,_.jsxs)("div",{className:K,children:[(0,_.jsx)("img",{className:$,src:"".concat(c.J7,"/class.svg"),alt:"batch icon"}),(0,_.jsxs)("div",{className:O,children:[(0,_.jsx)("h6",{children:null===e||void 0===e?void 0:e.batchName}),(0,_.jsxs)("p",{children:[l("created_on")," : ",V()(e.createdAt).format("DD MMM YYYY")]})]})]})},null===e||void 0===e?void 0:e._id)})),v&&(0,_.jsx)(u.Z,{})]})},W=function(e){var t=e.carryParentState,n=e.departmentId,l=e.instituteId,a=(0,d.lj)({data:{id:l,did:n},skip:n?!l:!n}),i=a.departmentAllClassMaster,o=a.departmentAllClassMasterLoading;return(0,_.jsxs)(_.Fragment,{children:[null===i||void 0===i?void 0:i.map((function(e){return(0,_.jsx)(s.Z,{parentState:(0,r.Z)((0,r.Z)({},t),{},{clsId:null===e||void 0===e?void 0:e._id,clsName:null===e||void 0===e?void 0:e.className}),activeUrl:"type=fees&n=structure",children:(0,_.jsxs)("div",{className:K,children:[(0,_.jsx)("img",{className:$,src:"".concat(c.J7,"/class.svg"),alt:"batch icon"}),(0,_.jsx)("div",{className:O,children:(0,_.jsx)("h6",{children:null===e||void 0===e?void 0:e.className})})]})},null===e||void 0===e?void 0:e._id)})),o&&(0,_.jsx)(u.Z,{})]})},X=n(8959),ee=n(37762),te=n(33880),ne=n(28457),le=n(40739),ae=n(66659),ie=n(85794),re=function(e){var t,n,a,s,u,v,m,f=e.onClose,h=e.did,x=e.instituteId,p=e.fid,j=e.structure,Z=e.setStructure,y=e.setStep,S=(0,i.$G)().t,C=(0,b.useState)({structure_name:null!==(t=null===j||void 0===j?void 0:j.structure_name)&&void 0!==t?t:"",category_master:null!==(n=null===j||void 0===j?void 0:j.category_master)&&void 0!==n?n:"",class_master:null!==(a=null===j||void 0===j?void 0:j.class_master)&&void 0!==a?a:"",batch_master:null!==(s=null===j||void 0===j?void 0:j.batch_master)&&void 0!==s?s:""}),w=(0,l.Z)(C,2),A=w[0],M=w[1],T=(0,b.useState)(!1),U=(0,l.Z)(T,2),E=U[0],q=U[1],H=(0,b.useState)(""),L=(0,l.Z)(H,2),D=L[0],J=L[1],G=(0,b.useState)({open:!1,msg:"",variant:"error"}),P=(0,l.Z)(G,2),Y=P[0],R=P[1],K=(0,d.rG)(),O=(0,l.Z)(K,1)[0];(0,b.useEffect)((function(){null!==j&&void 0!==j&&j.structure_name&&M((function(e){var t,n,l,a;return(0,r.Z)((0,r.Z)({},e),{},{structure_name:null!==(t=null===j||void 0===j?void 0:j.structure_name)&&void 0!==t?t:"",category_master:null!==(n=null===j||void 0===j?void 0:j.category_master)&&void 0!==n?n:"",class_master:null!==(l=null===j||void 0===j?void 0:j.class_master)&&void 0!==l?l:"",batch_master:null!==(a=null===j||void 0===j?void 0:j.batch_master)&&void 0!==a?a:""})}))}),[null===j||void 0===j?void 0:j.structure_name]);var $=(0,d._m)({did:h,skip:!h}).departmentAllBatch,z=(0,d.lj)({data:{did:h,id:x},skip:h?!x:!h}).departmentAllClassMaster,V=(0,d.QD)({fid:p,skip:!p}).financeAllFeesCategory;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(F.Z,{children:(0,_.jsxs)("div",{className:o.Z.modal_container,children:[(0,_.jsx)(N.Z,{children:(0,_.jsxs)("div",{className:o.Z.modal_container_outer_header,children:[(0,_.jsx)("div",{className:o.Z.modal_container_header,children:(0,_.jsx)("h6",{children:S("add_new_fees_structure")})}),(0,_.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:f})]})}),(0,_.jsx)(g.Z,{}),(0,_.jsxs)(N.Z,{customStyle:{paddingTop:"0"},children:[(0,_.jsx)(I.Z,{label:S("fee_structure_name"),placeholder:S("fee_structure_name_placeholder"),type:"text",name:"structure_name",value:A.structure_name,onChange:function(e){M((function(t){return(0,r.Z)((0,r.Z)({},t),{},{structure_name:e.target.value})}))},errorShow:D.structure_name}),(0,_.jsx)(te.Z,{selectLabel:S("select_batch"),selectedValue:S("select_batch_placeholder"),options:(null===$||void 0===$?void 0:$.length)>0?$:[],onClick:function(e){M((function(t){return(0,r.Z)((0,r.Z)({},t),{},{batch_master:e})}))},viewAs:"NORMAL_FILTER",defalutValue:null===(u=A.batch_master)||void 0===u?void 0:u.batchName,errorShow:D.batch_master,isFull:!0}),(0,_.jsx)(ne.Z,{selectLabel:S("select_fee_category_master"),selectedValue:S("please_select_fees_category"),options:(null===V||void 0===V?void 0:V.length)>0?V:[],onClick:function(e){M((function(t){return(0,r.Z)((0,r.Z)({},t),{},{category_master:e})}))},viewAs:"NORMAL_FILTER",defalutValue:null===(v=A.category_master)||void 0===v?void 0:v.category_name,errorShow:D.category_master,isFull:!0}),(0,_.jsx)(le.Z,{selectLabel:S("select_standard"),selectedValue:S("please_select_the_standard_master"),defalutValue:null===(m=A.class_master)||void 0===m?void 0:m.className,onClick:function(e){M((function(t){return(0,r.Z)((0,r.Z)({},t),{},{class_master:e})}))},name:"class_master",options:(null===z||void 0===z?void 0:z.length)>0?z:[],errorShow:D.class_master,viewAs:"NORMAL_FILTER",isFull:!0}),(0,_.jsx)(ae.Z,{label:"set_fee_structure",onAction:function(){var e,t,n,l=(0,B.l)(A);(0,B.x)(l)?(q((function(e){return!e})),O({validate:{category_master:null===A||void 0===A||null===(e=A.category_master)||void 0===e?void 0:e._id,class_master:null===A||void 0===A||null===(t=A.class_master)||void 0===t?void 0:t._id,batch_master:null===A||void 0===A||null===(n=A.batch_master)||void 0===n?void 0:n._id}}).then((function(e){var t,n;(q((function(e){return!e})),null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.avail_struct)?(R({msg:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message,open:!0,variant:"error"}),setTimeout((function(){f()}),[3e3])):(Z((function(e){return(0,r.Z)((0,r.Z)({},e),A)})),y(1))})).catch({})):J(l)}})]}),(0,_.jsx)(ie.Z,{eventState:Y,eventStateHandler:R})]})}),E&&(0,_.jsx)(k.Z,{})]})},oe=n(93433),se=n(19056),de=function(e){var t,n,a,s=e.structure,d=e.setStructure,u=e.setAllInstallment,v=e.allInstallment,m=e.setStep,f=(0,i.$G)().t,h=(0,b.useState)(null!==(t=null===s||void 0===s?void 0:s.total_installments)&&void 0!==t?t:""),x=(0,l.Z)(h,2),p=x[0],j=x[1],Z=(0,b.useState)(null!==v&&void 0!==v?v:[]),y=(0,l.Z)(Z,2),S=y[0],C=y[1],w=(0,b.useState)({total_admission_fees:null!==(n=null===s||void 0===s?void 0:s.total_admission_fees)&&void 0!==n?n:"",applicable_fees:null!==(a=null===s||void 0===s?void 0:s.applicable_fees)&&void 0!==a?a:""}),A=(0,l.Z)(w,2),k=A[0],M=A[1],T=(0,b.useState)(""),B=(0,l.Z)(T,2),E=B[0],q=B[1];(0,b.useEffect)((function(){var e,t,n;j(null!==(e=null===s||void 0===s?void 0:s.total_installments)&&void 0!==e?e:""),C(v),M({total_admission_fees:null!==(t=null===s||void 0===s?void 0:s.total_admission_fees)&&void 0!==t?t:"",applicable_fees:null!==(n=null===s||void 0===s?void 0:s.applicable_fees)&&void 0!==n?n:""})}),[s,v]);var H=(0,b.useCallback)((function(e){j(e);for(var t=[],n=1;n<=e;n++)t.push({fees:""});C(t)}),[]);return(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(F.Z,{children:(0,_.jsxs)("div",{className:o.Z.modal_container,children:[(0,_.jsx)(N.Z,{children:(0,_.jsxs)("div",{className:o.Z.modal_container_outer_header,children:[(0,_.jsx)("div",{className:o.Z.modal_container_header,children:(0,_.jsx)("h6",{children:f("admission_fees")})}),(0,_.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:function(){return m(0)}})]})}),(0,_.jsx)(g.Z,{}),(0,_.jsxs)(N.Z,{customStyle:{paddingTop:"0"},children:[(0,_.jsx)(I.Z,{label:f("total_fees"),placeholder:f("enter_one_time_payment"),name:"total_admission_fees",value:null===k||void 0===k?void 0:k.total_admission_fees,type:"tel",onChange:function(e){M((function(t){return(0,r.Z)((0,r.Z)({},t),{},(0,U.Z)({},e.target.name,+e.target.value))}))}}),(0,_.jsx)(I.Z,{label:f("applicable_fees"),placeholder:f("applicable_fees_placeholder"),name:"applicable_fees",value:null===k||void 0===k?void 0:k.applicable_fees,type:"tel",onChange:function(e){M((function(t){return(0,r.Z)((0,r.Z)({},t),{},(0,U.Z)({},e.target.name,+e.target.value))})),p||j((function(e){return 1})),1===p&&C([{fees:+e.target.value}])},msg:f(E.total_applicable_value)}),(null===k||void 0===k?void 0:k.applicable_fees)>0?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(se.Z,{selectLabel:f("total_installment"),selectedValue:f("select_installment"),defalutValue:p,onClick:H,options:[1,2,3,4,5,6,7,8,9,10,11,12],errorShow:E.installmentCount}),null===S||void 0===S?void 0:S.map((function(e,t){return(0,_.jsx)(I.Z,{label:"".concat(f("installment")," ").concat(t+1),placeholder:f("Amount"),name:"amount".concat(t),value:e.fees,type:"tel",onChange:function(e){return function(e,t){for(var n=(0,oe.Z)(S),l=0;l<(null===n||void 0===n?void 0:n.length);l++)l===t&&(n[l].fees=+e.target.value);C(n)}(e,t)},errorShow:E["fees".concat(t)]},t)}))]}):null,E.total_install_value&&(0,_.jsx)("p",{style:{marginTop:"1rem",color:"red"},children:f("total_installment_value_is_greater_than_or_equal_to_applicable_fees")}),(0,_.jsx)(ae.Z,{label:"set_fee_heads",onAction:function(){var e=ce(p,k,S),t=!1;for(var n in e){t=!0;break}if(t)q(e);else{if(null!==k&&void 0!==k&&k.applicable_fees){var l=ue(S);d((function(e){var t,n;return(0,r.Z)((0,r.Z)({},e),{},{total_admission_fees:null!==(t=+k.total_admission_fees)&&void 0!==t?t:0,applicable_fees:null!==(n=+k.applicable_fees)&&void 0!==n?n:0,total_installments:+p},l)})),u(S)}else{var a=ue([{fees:""}]);d((function(e){var t,n;return(0,r.Z)((0,r.Z)({},e),{},{total_admission_fees:null!==(t=+k.total_admission_fees)&&void 0!==t?t:0,applicable_fees:null!==(n=+k.applicable_fees)&&void 0!==n?n:0,total_installments:1},a)})),u(S)}m(2)}}})]})]})})})},ce=function(e,t,n){var l={};for(var a in t.applicable_fees&&(e||(l.installmentCount="installmentCount is required!")),t)"applicable_fees"===a||"total_admission_fees"===a||t[a]||(l[a]="".concat(a," is required!"));if(t.applicable_fees)for(var i=0;i<(null===n||void 0===n?void 0:n.length);i++)for(var r in n[i])n[i][r]||(l["".concat(r).concat(i)]="".concat(r," is required!"));t.applicable_fees>t.total_admission_fees&&(l.total_applicable_value="applicable_fees_should_be_equal_to_or_less_than__total_tdmission_fees");for(var o=0,s=0;s<(null===n||void 0===n?void 0:n.length);s++)o+=n[s].fees;return(o<t.applicable_fees||o>t.applicable_fees)&&(l.total_install_value="* is required!"),l},ue=function(e){for(var t={},n=0;n<(null===e||void 0===e?void 0:e.length);n++)0===n?t.one_installments=e[n]?e[n]:0:1===n?t.two_installments=e[n]?e[n]:0:2===n?t.three_installments=e[n]?e[n]:0:3===n?t.four_installments=e[n]?e[n]:0:4===n?t.five_installments=e[n]?e[n]:0:5===n?t.six_installments=e[n]?e[n]:0:6===n?t.seven_installments=e[n]?e[n]:0:7===n?t.eight_installments=e[n]?e[n]:0:8===n?t.nine_installments=e[n]?e[n]:0:9===n?t.ten_installments=e[n]?e[n]:0:10===n?t.eleven_installments=e[n]?e[n]:0:11===n&&(t.tweleve_installments=e[n]?e[n]:0);return t},_e=function(e){var t,n,l=e.feeHead,a=e.onSelect,r=e.selectedFeeId,s=(0,i.$G)().t;return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("div",{className:null!==r&&void 0!==r&&r.includes(null===l||void 0===l?void 0:l._id)?"".concat(o.Z.category_card," ").concat(o.Z.category_card_hover_active):"".concat(o.Z.category_card," ").concat(o.Z.category_card_hover),onClick:function(){a(l)},children:[(0,_.jsx)("img",{style:{height:"36px",width:"36px"},src:"".concat(c.J7,"/category.svg"),alt:"categor icon"}),(0,_.jsxs)("div",{className:o.Z.category_card_fee,children:[(0,_.jsx)("h6",{style:{marginBottom:"0.3rem"},children:null!==(t=null===l||void 0===l?void 0:l.master_name)&&void 0!==t?t:""}),(0,_.jsxs)("h6",{style:{color:"rgba(18, 18, 18, 0.5)"},children:[s("rs_only"),null!==(n=null===l||void 0===l?void 0:l.master_amount)&&void 0!==n?n:0]})]}),(null===r||void 0===r?void 0:r.indexOf(null===l||void 0===l?void 0:l._id))+1>0&&(0,_.jsx)("h6",{className:o.Z.category_card_order,style:{color:"var(--color-white)"},children:(null===r||void 0===r?void 0:r.indexOf(null===l||void 0===l?void 0:l._id))+1})]},null===l||void 0===l?void 0:l._id)})},ve=function(e){var t,n,a,r,s=e.onClose,v=e.fid,m=e.setFeeHead,f=e.setFeeHeadId,h=e.feeHeadId,x=(0,i.$G)().t,p=(0,b.useState)(""),j=(0,l.Z)(p,2),y=j[0],S=j[1],C=(0,b.useState)(1),w=(0,l.Z)(C,2),A=w[0],I=w[1],M=(0,b.useState)(!0),T=(0,l.Z)(M,2),U=T[0],B=T[1],E=(0,L.YD)({skip:y}),q=(0,l.Z)(E,2),H=q[0],P=q[1],Y=(0,b.useState)([]),R=(0,l.Z)(Y,2),K=R[0],O=R[1],$=(0,b.useState)(null!==h&&void 0!==h?h:[]),z=(0,l.Z)($,2),V=z[0],Q=z[1],W=(0,d.an)({data:{fid:v,page:A,limit:10,search:y},skip:!v}),X=W.financeAllFeeHeadMaster,ee=W.financeAllFeeHeadMasterLoading;(0,b.useEffect)((function(){Q(h)}),[h]),(0,b.useEffect)((function(){P&&U&&I((function(e){return e+1}))}),[P,U]),(0,b.useEffect)((function(){var e;if(null!==X&&void 0!==X&&null!==(e=X.list)&&void 0!==e&&e.length){var t,n=(0,D.f)(null===X||void 0===X||null===(t=X.list)||void 0===t?void 0:t.length);B((function(){return n}))}}),[null===X||void 0===X||null===(t=X.list)||void 0===t?void 0:t.length]);var te=(0,b.useCallback)((0,J.J)((function(e){I((function(){return 1})),S(e)}),500),[]),ne=function(e){var t={head_name:null===e||void 0===e?void 0:e.master_name,head_amount:null===e||void 0===e?void 0:e.master_amount,master:null===e||void 0===e?void 0:e._id};if(null!==V&&void 0!==V&&V.includes(null===e||void 0===e?void 0:e._id)){for(var n=null===V||void 0===V?void 0:V.indexOf(null===e||void 0===e?void 0:e._id),l=[],a=0;a<(null===K||void 0===K?void 0:K.length);a++)a===n||l.push(K[a]);Q((function(t){return null===t||void 0===t?void 0:t.filter((function(t){return t!==(null===e||void 0===e?void 0:e._id)}))})),O(l)}else Q((function(t){return[].concat((0,oe.Z)(t),[null===e||void 0===e?void 0:e._id])})),O((function(e){return[].concat((0,oe.Z)(e),[t])}))};return(0,_.jsx)(F.Z,{children:(0,_.jsxs)("div",{className:o.Z.modal_container,children:[(0,_.jsx)(N.Z,{children:(0,_.jsxs)("div",{className:o.Z.modal_container_outer_header,children:[(0,_.jsxs)("div",{className:o.Z.modal_container_header,children:[(0,_.jsx)("img",{src:"".concat(c.J7,"/back-arrow.svg"),alt:"close icon",onClick:s}),(0,_.jsx)("h6",{children:x("select_fee_heads")})]}),(0,_.jsx)(Z.Z,{label:"select",customStyle:{margin:"0"},onAction:function(){m((function(e){return[].concat((0,oe.Z)(e),(0,oe.Z)(K))})),f(V),s()}})]})}),(0,_.jsx)(g.Z,{}),(0,_.jsxs)(N.Z,{customStyle:{paddingTop:"0"},children:[(0,_.jsx)("div",{className:o.Z.fm_search_full,style:{marginBottom:"0.5rem"},children:(0,_.jsx)("section",{className:o.Z.fm_search_full_container,children:(0,_.jsxs)("div",{className:o.Z.fm_search_full_container_inner,children:[(0,_.jsx)("img",{className:o.Z.fm_search_full_icon,alt:"search icon",src:"".concat(c.dB,"/navbar-search.svg")}),(0,_.jsx)("input",{type:"text",placeholder:x("search"),onChange:function(e){e.target.value?te(e.target.value):(I((function(){return 1})),S(""))}})]})})}),null===X||void 0===X||null===(n=X.list)||void 0===n?void 0:n.map((function(e,t){var n;return(null===X||void 0===X||null===(n=X.list)||void 0===n?void 0:n.length)===t+1?(0,_.jsx)("div",{ref:H,children:(0,_.jsx)(_e,{feeHead:e,fid:v,onSelect:ne,selectedFeeId:V})},null===e||void 0===e?void 0:e._id):(0,_.jsx)(_e,{feeHead:e,fid:v,onSelect:ne,selectedFeeId:V},null===e||void 0===e?void 0:e._id)})),ee?y?(0,_.jsx)(k.Z,{}):(0,_.jsx)(u.Z,{}):y?0===(null===X||void 0===X||null===(a=X.list)||void 0===a?void 0:a.length)&&(0,_.jsx)(G.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No fee master found related this search."}):0===(null===X||void 0===X||null===(r=X.list)||void 0===r?void 0:r.length)&&(0,_.jsx)(G.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No fee master added."})]})]})})},me=function(e){var t,n,a,r,s=e.structure,d=e.feeHead,u=e.setStep,v=e.setFeeHead,m=e.setFeeHeadAmount,f=e.feeHeadAmount,h=e.allInstallment,x=e.fid,p=e.feeHeadId,j=e.setFeeHeadId,Z=(0,i.$G)().t,y=(0,b.useState)({open:!1,msg:"",variant:"error"}),S=(0,l.Z)(y,2),C=S[0],w=S[1],A=(0,b.useState)(null!==f&&void 0!==f?f:0),k=(0,l.Z)(A,2),I=k[0],M=k[1],T=(0,b.useState)(null!==d&&void 0!==d?d:[]),U=(0,l.Z)(T,2),B=U[0],E=U[1],q=(0,b.useState)(!1),H=(0,l.Z)(q,2),L=H[0],D=H[1];(0,b.useEffect)((function(){if(B){for(var e=0,t=0;t<(null===B||void 0===B?void 0:B.length);t++){var n;e+=+(null===(n=B[t])||void 0===n?void 0:n.head_amount)}M(e)}}),[B]);var J=function(){D((function(e){return!e}))};return(0,_.jsxs)(_.Fragment,{children:[L?(0,_.jsx)(ve,{fid:x,setFeeHead:E,onClose:J,setFeeHeadId:j,feeHeadId:p}):(0,_.jsx)(F.Z,{children:(0,_.jsxs)("div",{className:o.Z.modal_container,children:[(0,_.jsx)(N.Z,{children:(0,_.jsxs)("div",{className:o.Z.modal_container_outer_header,children:[(0,_.jsx)("div",{className:o.Z.modal_container_header,children:(0,_.jsx)("h6",{children:Z("fee_heads")})}),(0,_.jsx)("img",{src:"".concat(c.J7,"/close.svg"),alt:"close icon",onClick:function(){return u(1)}})]})}),(0,_.jsx)(g.Z,{}),(0,_.jsxs)(N.Z,{customStyle:{paddingTop:"0"},children:[(0,_.jsxs)("section",{className:o.Z.fees_head_title,children:[(0,_.jsx)("h6",{children:Z("total_fees")}),(0,_.jsxs)("h6",{children:[Z("rs_only")," ",null!==(t=null===s||void 0===s?void 0:s.total_admission_fees)&&void 0!==t?t:0]})]}),(0,_.jsxs)("section",{className:o.Z.fees_head_installment,children:[(0,_.jsx)("h6",{style:{color:"#002BBE"},children:Z("applicable_fees_only")}),(0,_.jsxs)("h6",{style:{color:"#002BBE"},children:[Z("rs_only")," ",null!==(n=null===s||void 0===s?void 0:s.applicable_fees)&&void 0!==n?n:0]})]}),null===h||void 0===h?void 0:h.map((function(e,t){var n;return(0,_.jsxs)("section",{className:o.Z.fees_head_installment,children:[(0,_.jsxs)("h6",{style:{textTransform:"capitalize"},children:[Z(fe(t))," ",Z("installment")]}),(0,_.jsxs)("h6",{children:[Z("rs_only")," ",null!==(n=null===e||void 0===e?void 0:e.fees)&&void 0!==n?n:0]})]},t)})),(0,_.jsxs)("section",{className:o.Z.fees_head_installment,children:[(0,_.jsx)("h6",{style:{color:"#002BBE"},children:Z("govt_scholarship")}),(0,_.jsxs)("h6",{style:{color:"#002BBE"},children:[Z("rs_only")," ",(null!==(a=null===s||void 0===s?void 0:s.total_admission_fees)&&void 0!==a?a:0)-(null!==(r=null===s||void 0===s?void 0:s.applicable_fees)&&void 0!==r?r:0)]})]}),(0,_.jsxs)("section",{className:o.Z.table_container,children:[(0,_.jsxs)("div",{className:o.Z.table_heading,children:[(0,_.jsx)("h6",{children:Z("fee_heads")}),(0,_.jsx)("h6",{children:Z("amount")})]}),(0,_.jsx)("div",{className:o.Z.table_body,children:null===B||void 0===B?void 0:B.map((function(e,t){return(0,_.jsxs)("div",{className:o.Z.table_body_list,children:[(0,_.jsx)("input",{type:"text",value:null===e||void 0===e?void 0:e.head_name,onChange:function(e){return function(e,t){for(var n=(0,oe.Z)(B),l=0;l<(null===n||void 0===n?void 0:n.length);l++)l===t&&(n[l].head_name=e.target.value);E(n)}(e,t)},className:o.Z.fee_head_name_input}),(0,_.jsx)("input",{type:"number",value:null===e||void 0===e?void 0:e.head_amount,onChange:function(e){return function(e,t){for(var n=(0,oe.Z)(B),l=0;l<(null===n||void 0===n?void 0:n.length);l++)l===t&&(n[l].head_amount=+e.target.value);E(n)}(e,t)},className:o.Z.fee_head_amount_input})]},t)}))}),(0,_.jsxs)("button",{className:o.Z.add_fees_head_btn,title:"Add Fees",onClick:J,style:{cursor:"pointer"},children:[Z("add"),(0,_.jsx)("img",{src:"".concat(c.J7,"/plus.svg"),alt:"add"})]}),(0,_.jsx)("div",{className:o.Z.table_body,children:(0,_.jsxs)("div",{className:o.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.5)",borderTopWidth:"0.5px",borderTopStyle:"solid",borderBottomColor:"rgba(18, 18, 18, 0.8)",borderBottomWidth:"2px"},children:[(0,_.jsx)("h6",{className:o.Z.fees_total,children:Z("total")}),(0,_.jsx)("h6",{className:o.Z.fees_total,children:I})]})})]}),(0,_.jsx)(ae.Z,{label:"preview",onAction:function(){I>(null===s||void 0===s?void 0:s.applicable_fees)?w({msg:"You can't enter amount greater than applicable fees",open:!0,variant:"error"}):(v(B),m(I),u(3))}})]})]})}),(0,_.jsx)(ie.Z,{eventState:C,eventStateHandler:w})]})},fe=function(e){return 0===e?"first":1===e?"second":2===e?"third":3===e?"foutrh":4===e?"fivth":5===e?"sixth":6===e?"seventh":7===e?"eighth":8===e?"ninth":9===e?"ten":10===e?"eleven":"tweleve"},he=function(e){var t,n,l,a,r,s,d,u=e.onClose,v=e.structure,m=e.allInstallment,f=e.feeHead,h=e.feeHeadAmount,x=e.openAs,p=e.onCreate,j=(0,i.$G)().t;return(0,_.jsx)(F.Z,{children:(0,_.jsxs)("div",{className:o.Z.modal_container,children:[(0,_.jsx)(N.Z,{children:(0,_.jsx)("div",{className:o.Z.modal_container_outer_header,children:(0,_.jsxs)("div",{className:o.Z.modal_container_header,children:[(0,_.jsx)("img",{src:"".concat(c.J7,"/back-arrow.svg"),alt:"close icon",onClick:u}),(0,_.jsx)("h6",{children:j("fee_structure_preview")})]})})}),(0,_.jsx)(g.Z,{}),(0,_.jsxs)(N.Z,{customStyle:{paddingTop:"0"},children:[(0,_.jsx)(X.Z,{label:"".concat(j("fee_structure_name"),": "),value:null===v||void 0===v?void 0:v.structure_name}),(0,_.jsx)(X.Z,{label:"".concat(j("batch"),": "),value:null===v||void 0===v||null===(t=v.batch_master)||void 0===t?void 0:t.batchName}),(0,_.jsx)(X.Z,{label:j("fees_category_name"),value:null===v||void 0===v||null===(n=v.category_master)||void 0===n?void 0:n.category_name}),(0,_.jsx)(X.Z,{label:j("standard_master"),value:null===v||void 0===v||null===(l=v.class_master)||void 0===l?void 0:l.className}),(0,_.jsxs)("section",{className:o.Z.fees_head_title,children:[(0,_.jsx)("h6",{children:j("total_fees")}),(0,_.jsxs)("h6",{children:[j("rs_only")," ",null!==(a=null===v||void 0===v?void 0:v.total_admission_fees)&&void 0!==a?a:0]})]}),(0,_.jsxs)("section",{className:o.Z.fees_head_installment,children:[(0,_.jsx)("h6",{style:{color:"#002BBE"},children:j("applicable_fees_only")}),(0,_.jsxs)("h6",{style:{color:"#002BBE"},children:[j("rs_only")," ",null!==(r=null===v||void 0===v?void 0:v.applicable_fees)&&void 0!==r?r:0]})]}),null===m||void 0===m?void 0:m.map((function(e,t){var n;return(0,_.jsxs)("section",{className:o.Z.fees_head_installment,children:[(0,_.jsxs)("h6",{style:{textTransform:"capitalize"},children:[j(xe(t))," ",j("installment")]}),(0,_.jsxs)("h6",{children:[j("rs_only")," ",null!==(n=null===e||void 0===e?void 0:e.fees)&&void 0!==n?n:0]})]},t)})),(0,_.jsxs)("section",{className:o.Z.fees_head_installment,children:[(0,_.jsx)("h6",{style:{color:"#002BBE"},children:j("govt_scholarship")}),(0,_.jsxs)("h6",{style:{color:"#002BBE"},children:[j("rs_only")," ",(null!==(s=null===v||void 0===v?void 0:v.total_admission_fees)&&void 0!==s?s:0)-(null!==(d=null===v||void 0===v?void 0:v.applicable_fees)&&void 0!==d?d:0)]})]}),(0,_.jsxs)("section",{className:o.Z.table_container,children:[(0,_.jsxs)("div",{className:o.Z.table_heading,children:[(0,_.jsx)("h6",{children:j("fee_heads")}),(0,_.jsx)("h6",{children:j("amount")})]}),(0,_.jsx)("div",{className:o.Z.table_body,children:null===f||void 0===f?void 0:f.map((function(e,t){return(0,_.jsxs)("div",{className:o.Z.table_body_list,children:[(0,_.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_name}),(0,_.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_amount})]},t)}))}),(0,_.jsx)("div",{className:o.Z.table_body,children:(0,_.jsxs)("div",{className:o.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.8)",borderTopWidth:"2px",borderTopStyle:"solid",borderBottomColor:"rgba(18, 18, 18, 0.8)",borderBottomWidth:"2px"},children:[(0,_.jsx)("h6",{className:o.Z.fees_total,children:j("total")}),(0,_.jsx)("h6",{className:o.Z.fees_total,children:null!==h&&void 0!==h?h:0})]})})]}),(0,_.jsx)(Z.Z,{label:"EDIT"===x?"update_fees_structure":"create_fees_structure",onAction:p})]})]})})},xe=function(e){return 0===e?"first":1===e?"second":2===e?"third":3===e?"foutrh":4===e?"fivth":5===e?"sixth":6===e?"seventh":7===e?"eighth":8===e?"ninth":9===e?"ten":10===e?"eleven":"tweleve"},pe=function(e){var t=e.onClose,n=e.did,a=e.fid,i=e.instituteId,o=e.openAs,s=e.onEdit,c=e.openStructureMenu,u=e.onRefetch,v=e.isRefetch,m=(0,b.useState)(0),f=(0,l.Z)(m,2),h=f[0],x=f[1],p=(0,b.useState)({structure_name:"",category_master:"",class_master:"",batch_master:"",total_admission_fees:"",applicable_fees:"",total_installments:""}),g=(0,l.Z)(p,2),j=g[0],Z=g[1],y=(0,b.useState)([]),S=(0,l.Z)(y,2),F=S[0],N=S[1],C=(0,b.useState)([]),w=(0,l.Z)(C,2),A=w[0],I=w[1],M=(0,b.useState)(0),T=(0,l.Z)(M,2),U=T[0],B=T[1],E=(0,d.y0)(),q=(0,l.Z)(E,1)[0],H=(0,b.useState)(!1),L=(0,l.Z)(H,2),D=L[0],J=L[1],G=(0,b.useState)([]),P=(0,l.Z)(G,2),Y=P[0],R=P[1];(0,b.useEffect)((function(){if("EDIT"===o){Z((function(e){var t,n,l,a,i,o,s;return(0,r.Z)((0,r.Z)({},e),{},{structure_name:null!==(t=null===c||void 0===c?void 0:c.structure_name)&&void 0!==t?t:"",category_master:null!==(n=null===c||void 0===c?void 0:c.category_master)&&void 0!==n?n:"",class_master:null!==(l=null===c||void 0===c?void 0:c.class_master)&&void 0!==l?l:"",batch_master:null!==(a=null===c||void 0===c?void 0:c.batch_master)&&void 0!==a?a:"",total_admission_fees:null!==(i=null===c||void 0===c?void 0:c.total_admission_fees)&&void 0!==i?i:"",applicable_fees:null!==(o=null===c||void 0===c?void 0:c.applicable_fees)&&void 0!==o?o:"",total_installments:null!==(s=null===c||void 0===c?void 0:c.total_installments)&&void 0!==s?s:""})}));var e,t=[],n=0,l=(0,ee.Z)(null===c||void 0===c?void 0:c.fees_heads);try{for(l.s();!(e=l.n()).done;){var a=e.value,i={created_at:null===a||void 0===a?void 0:a.created_at,head_amount:null===a||void 0===a?void 0:a.head_amount,head_name:null===a||void 0===a?void 0:a.head_name,master:null===a||void 0===a?void 0:a.master,_id:null===a||void 0===a?void 0:a._id};t.push(i),n+=null===a||void 0===a?void 0:a.head_amount}}catch(d){l.e(d)}finally{l.f()}I(t),B(n);var s=ge(c);N(s)}}),[c]);return(0,_.jsxs)(_.Fragment,{children:[0===h?(0,_.jsx)(re,{onClose:t,did:n,fid:a,instituteId:i,structure:j,setStructure:Z,setStep:x}):1===h?(0,_.jsx)(de,{structure:j,setAllInstallment:N,setStructure:Z,setStep:x,allInstallment:F}):2===h?(0,_.jsx)(me,{structure:j,feeHead:A,setFeeHead:I,setStep:x,setFeeHeadAmount:B,feeHeadAmount:U,allInstallment:F,fid:a,setFeeHeadId:R,feeHeadId:Y}):3===h?(0,_.jsx)(he,{structure:j,feeHead:A,allInstallment:F,setStep:x,feeHeadAmount:U,onClose:function(){return x(2)},onCreate:function(e){var l,i,d,c,_,m;"EDIT"===o?s((0,r.Z)((0,r.Z)({},j),{},{structure_name:null===j||void 0===j?void 0:j.structure_name,category_master:null===j||void 0===j||null===(l=j.category_master)||void 0===l?void 0:l._id,class_master:null===j||void 0===j||null===(i=j.class_master)||void 0===i?void 0:i._id,batch_master:null===j||void 0===j||null===(d=j.batch_master)||void 0===d?void 0:d._id,total_admission_fees:null!==j&&void 0!==j&&j.total_admission_fees?null===j||void 0===j?void 0:j.total_admission_fees:0,applicable_fees:null!==j&&void 0!==j&&j.applicable_fees?null===j||void 0===j?void 0:j.applicable_fees:0,total_installments:null!==j&&void 0!==j&&j.total_installments?null===j||void 0===j?void 0:j.total_installments:0,heads:A}),e):a&&n&&(J((function(e){return!e})),q({fid:a,flow:"Finance_Manager",createFeesStructure:(0,r.Z)((0,r.Z)({},j),{},{structure_name:null===j||void 0===j?void 0:j.structure_name,category_master:null===j||void 0===j||null===(c=j.category_master)||void 0===c?void 0:c._id,class_master:null===j||void 0===j||null===(_=j.class_master)||void 0===_?void 0:_._id,batch_master:null===j||void 0===j||null===(m=j.batch_master)||void 0===m?void 0:m._id,total_admission_fees:null!==j&&void 0!==j&&j.total_admission_fees?null===j||void 0===j?void 0:j.total_admission_fees:0,applicable_fees:null!==j&&void 0!==j&&j.applicable_fees?null===j||void 0===j?void 0:j.applicable_fees:0,total_installments:null!==j&&void 0!==j&&j.total_installments?null===j||void 0===j?void 0:j.total_installments:0,heads:A,did:n})}).then((function(){v&&u(),J((function(e){return!e})),t()})).catch((function(){J((function(e){return!e}))})))},openAs:o}):null,D&&(0,_.jsx)(k.Z,{})]})},ge=function(e){var t,n,l,a,i,r,o,s,d,c,u,_,v,m,f,h,x,p,g,j,Z,b,y,S,F=[];null!==e&&void 0!==e&&null!==(t=e.one_installments)&&void 0!==t&&t.fees&&F.push({fees:null===e||void 0===e||null===(v=e.one_installments)||void 0===v?void 0:v.fees});null!==e&&void 0!==e&&null!==(n=e.two_installments)&&void 0!==n&&n.fees&&F.push({fees:null===e||void 0===e||null===(m=e.two_installments)||void 0===m?void 0:m.fees});null!==e&&void 0!==e&&null!==(l=e.three_installments)&&void 0!==l&&l.fees&&F.push({fees:null===e||void 0===e||null===(f=e.three_installments)||void 0===f?void 0:f.fees});null!==e&&void 0!==e&&null!==(a=e.four_installments)&&void 0!==a&&a.fees&&F.push({fees:null===e||void 0===e||null===(h=e.four_installments)||void 0===h?void 0:h.fees});null!==e&&void 0!==e&&null!==(i=e.five_installments)&&void 0!==i&&i.fees&&F.push({fees:null===e||void 0===e||null===(x=e.five_installments)||void 0===x?void 0:x.fees});null!==e&&void 0!==e&&null!==(r=e.six_installments)&&void 0!==r&&r.fees&&F.push({fees:null===e||void 0===e||null===(p=e.six_installments)||void 0===p?void 0:p.fees});null!==e&&void 0!==e&&null!==(o=e.seven_installments)&&void 0!==o&&o.fees&&F.push({fees:null===e||void 0===e||null===(g=e.seven_installments)||void 0===g?void 0:g.fees});null!==e&&void 0!==e&&null!==(s=e.eight_installments)&&void 0!==s&&s.fees&&F.push({fees:null===e||void 0===e||null===(j=e.eight_installments)||void 0===j?void 0:j.fees});null!==e&&void 0!==e&&null!==(d=e.nine_installments)&&void 0!==d&&d.fees&&F.push({fees:null===e||void 0===e||null===(Z=e.nine_installments)||void 0===Z?void 0:Z.fees});null!==e&&void 0!==e&&null!==(c=e.ten_installments)&&void 0!==c&&c.fees&&F.push({fees:null===e||void 0===e||null===(b=e.ten_installments)||void 0===b?void 0:b.fees});null!==e&&void 0!==e&&null!==(u=e.eleven_installments)&&void 0!==u&&u.fees&&F.push({fees:null===e||void 0===e||null===(y=e.eleven_installments)||void 0===y?void 0:y.fees});null!==e&&void 0!==e&&null!==(_=e.tweleve_installments)&&void 0!==_&&_.fees&&F.push({fees:null===e||void 0===e||null===(S=e.tweleve_installments)||void 0===S?void 0:S.fees});return F},je=function(e){var t=e.fid,n=e.instituteId,a=e.did,o=e.openMenu,s=e.onClose,c=e.flowAs,u=(0,i.$G)().t,v=(0,b.useState)(!1),m=(0,l.Z)(v,2),f=m[0],h=m[1],x=(0,d.sx)(),p=(0,l.Z)(x,1)[0],g=(0,d.nr)(),j=(0,l.Z)(g,1)[0],Z=(0,d.oK)(),y=(0,l.Z)(Z,1)[0],F=(0,b.useState)(!1),N=(0,l.Z)(F,2),C=N[0],w=N[1],A=function(){w((function(e){return!e}))};return(0,_.jsxs)(_.Fragment,{children:[C?(0,_.jsx)(pe,{onClose:A,fid:t,openAs:"EDIT",openStructureMenu:o,onEdit:function(e,t){null!==o&&void 0!==o&&o._id&&(h((function(e){return!e})),w(!1),"RETRO"===t?y({sid:null===o||void 0===o?void 0:o._id,flow:c,updateStructure:(0,r.Z)((0,r.Z)({},e),{},{department:a})}).then((function(){s(),h((function(e){return!e}))})).catch({}):j({sid:null===o||void 0===o?void 0:o._id,flow:"Finance_Manager",updateStructure:e}).then((function(){s(),h((function(e){return!e}))})).catch({}))},did:a,instituteId:n}):(0,_.jsxs)(S.Z,{onClose:s,disabled:f,children:[(0,_.jsx)("h6",{onClick:A,children:u("edit")}),(0,_.jsx)("h6",{onClick:function(){null!==o&&void 0!==o&&o._id&&c&&(h((function(e){return!e})),p({flow:"Finance_Manager",sid:null===o||void 0===o?void 0:o._id}).then((function(){s(),h((function(e){return!e}))})).catch({}))},children:u("delete")})]}),f&&(0,_.jsx)(k.Z,{})]})},Ze=function(e){var t,n,a,r,s,u,v,m,f,h,x,p,j,Z,y,S,C,w,A,k,I,M,T,U,B,E,q,H,L,D,J,G,P,Y,R,K,O,$,z,V,Q,W,ee,te,ne,le,ae,ie,re,oe,se,de,ce,ue,_e,ve,me,fe,he,xe,pe,ge,Ze,ye,Se,Fe,Ne,Ce,we,Ae,ke,Ie,Me=e.structureId,Te=e.onClose,Ue=e.instituteId,Be=e.fid,Ee=e.did,qe=(0,i.$G)().t,He=(0,b.useState)(""),Le=(0,l.Z)(He,2),De=Le[0],Je=Le[1],Ge=(0,d.eY)({fsid:Me,skip:!Me}).financeFeeStructureDetail,Pe=0;(null===Ge||void 0===Ge||null===(t=Ge.structure)||void 0===t||null===(n=t.fees_heads)||void 0===n?void 0:n.length)>0&&(null===Ge||void 0===Ge||null===(ke=Ge.structure)||void 0===ke||null===(Ie=ke.fees_heads)||void 0===Ie||Ie.map((function(e){return Pe+=null===e||void 0===e?void 0:e.head_amount})));return(0,_.jsx)(_.Fragment,{children:De?(0,_.jsx)(je,{onClose:function(){Je("")},openMenu:De,instituteId:Ue,fid:Be,did:Ee}):(0,_.jsx)(F.Z,{onClose:Te,children:(0,_.jsxs)("div",{className:o.Z.modal_container,children:[(0,_.jsx)(N.Z,{children:(0,_.jsxs)("div",{className:o.Z.modal_container_outer_header,children:[(0,_.jsx)("div",{className:o.Z.modal_container_header,children:(0,_.jsx)("h6",{children:qe("fee_structure")})}),(0,_.jsx)("img",{src:"".concat(c.J7,"/edit.svg"),alt:"close icon",onClick:function(){null!==Ge&&void 0!==Ge&&Ge.structure&&Je((function(){return null===Ge||void 0===Ge?void 0:Ge.structure}))}})]})}),(0,_.jsx)(g.Z,{}),(0,_.jsxs)(N.Z,{customStyle:{paddingTop:"0"},children:[(0,_.jsx)(X.Z,{label:"".concat(qe("fee_structure_name"),": "),value:null!==(a=null===Ge||void 0===Ge||null===(r=Ge.structure)||void 0===r?void 0:r.unique_structure_name)&&void 0!==a?a:""}),(0,_.jsx)(X.Z,{label:"".concat(qe("batch"),": "),value:null===Ge||void 0===Ge||null===(s=Ge.structure)||void 0===s||null===(u=s.batch_master)||void 0===u?void 0:u.batchName}),(0,_.jsx)(X.Z,{label:"".concat(qe("fees_category_name")),value:null!==(v=null===Ge||void 0===Ge||null===(m=Ge.structure)||void 0===m||null===(f=m.category_master)||void 0===f?void 0:f.category_name)&&void 0!==v?v:""}),(0,_.jsx)(X.Z,{label:"".concat(qe("standard_master")),value:null!==(h=null===Ge||void 0===Ge||null===(x=Ge.structure)||void 0===x||null===(p=x.class_master)||void 0===p?void 0:p.className)&&void 0!==h?h:""}),(0,_.jsxs)("section",{className:o.Z.fees_head_title,children:[(0,_.jsx)("h6",{children:qe("total_fees")}),(0,_.jsxs)("h6",{children:[qe("rs_only")," ",null!==(j=null===Ge||void 0===Ge||null===(Z=Ge.structure)||void 0===Z?void 0:Z.total_admission_fees)&&void 0!==j?j:0]})]}),(0,_.jsxs)("section",{className:o.Z.fees_head_installment,children:[(0,_.jsxs)("h6",{style:{color:"#002BBE"},children:[qe("applicable_fees_only_payable")," "," : "]}),(0,_.jsxs)("h6",{style:{color:"#002BBE"},children:[qe("rs_only")," ",null!==(y=null===Ge||void 0===Ge||null===(S=Ge.structure)||void 0===S?void 0:S.applicable_fees)&&void 0!==y?y:0]})]}),null!==Ge&&void 0!==Ge&&null!==(C=Ge.structure)&&void 0!==C&&null!==(w=C.one_installments)&&void 0!==w&&w.fees?(0,_.jsx)(be,{label:"first",amount:null===Ge||void 0===Ge||null===(A=Ge.structure)||void 0===A||null===(k=A.one_installments)||void 0===k?void 0:k.fees}):null,null!==Ge&&void 0!==Ge&&null!==(I=Ge.structure)&&void 0!==I&&null!==(M=I.two_installments)&&void 0!==M&&M.fees?(0,_.jsx)(be,{label:"second",amount:null===Ge||void 0===Ge||null===(T=Ge.structure)||void 0===T||null===(U=T.two_installments)||void 0===U?void 0:U.fees}):null,null!==Ge&&void 0!==Ge&&null!==(B=Ge.structure)&&void 0!==B&&null!==(E=B.three_installments)&&void 0!==E&&E.fees?(0,_.jsx)(be,{label:"third",amount:null===Ge||void 0===Ge||null===(q=Ge.structure)||void 0===q||null===(H=q.three_installments)||void 0===H?void 0:H.fees}):null,null!==Ge&&void 0!==Ge&&null!==(L=Ge.structure)&&void 0!==L&&null!==(D=L.four_installments)&&void 0!==D&&D.fees?(0,_.jsx)(be,{label:"fourth",amount:null===Ge||void 0===Ge||null===(J=Ge.structure)||void 0===J||null===(G=J.four_installments)||void 0===G?void 0:G.fees}):null,null!==Ge&&void 0!==Ge&&null!==(P=Ge.structure)&&void 0!==P&&null!==(Y=P.five_installments)&&void 0!==Y&&Y.fees?(0,_.jsx)(be,{label:"fifth",amount:null===Ge||void 0===Ge||null===(R=Ge.structure)||void 0===R||null===(K=R.five_installments)||void 0===K?void 0:K.fees}):null,null!==Ge&&void 0!==Ge&&null!==(O=Ge.structure)&&void 0!==O&&null!==($=O.six_installments)&&void 0!==$&&$.fees?(0,_.jsx)(be,{label:"sixth",amount:null===Ge||void 0===Ge||null===(z=Ge.structure)||void 0===z||null===(V=z.six_installments)||void 0===V?void 0:V.fees}):null,null!==Ge&&void 0!==Ge&&null!==(Q=Ge.structure)&&void 0!==Q&&null!==(W=Q.seven_installments)&&void 0!==W&&W.fees?(0,_.jsx)(be,{label:"seventh",amount:null===Ge||void 0===Ge||null===(ee=Ge.structure)||void 0===ee||null===(te=ee.seven_installments)||void 0===te?void 0:te.fees}):null,null!==Ge&&void 0!==Ge&&null!==(ne=Ge.structure)&&void 0!==ne&&null!==(le=ne.eight_installments)&&void 0!==le&&le.fees?(0,_.jsx)(be,{label:"eight",amount:null===Ge||void 0===Ge||null===(ae=Ge.structure)||void 0===ae||null===(ie=ae.eight_installments)||void 0===ie?void 0:ie.fees}):null,null!==Ge&&void 0!==Ge&&null!==(re=Ge.structure)&&void 0!==re&&null!==(oe=re.nine_installments)&&void 0!==oe&&oe.fees?(0,_.jsx)(be,{label:"ninth",amount:null===Ge||void 0===Ge||null===(se=Ge.structure)||void 0===se||null===(de=se.nine_installments)||void 0===de?void 0:de.fees}):null,null!==Ge&&void 0!==Ge&&null!==(ce=Ge.structure)&&void 0!==ce&&null!==(ue=ce.ten_installments)&&void 0!==ue&&ue.fees?(0,_.jsx)(be,{label:"ten",amount:null===Ge||void 0===Ge||null===(_e=Ge.structure)||void 0===_e||null===(ve=_e.ten_installments)||void 0===ve?void 0:ve.fees}):null,null!==Ge&&void 0!==Ge&&null!==(me=Ge.structure)&&void 0!==me&&null!==(fe=me.eleven_installments)&&void 0!==fe&&fe.fees?(0,_.jsx)(be,{label:"eleventh",amount:null===Ge||void 0===Ge||null===(he=Ge.structure)||void 0===he||null===(xe=he.eleven_installments)||void 0===xe?void 0:xe.fees}):null,null!==Ge&&void 0!==Ge&&null!==(pe=Ge.structure)&&void 0!==pe&&null!==(ge=pe.tweleve_installments)&&void 0!==ge&&ge.fees?(0,_.jsx)(be,{label:"twelevth",amount:null===Ge||void 0===Ge||null===(Ze=Ge.structure)||void 0===Ze||null===(ye=Ze.tweleve_installments)||void 0===ye?void 0:ye.fees}):null,(0,_.jsxs)("section",{className:o.Z.fees_head_installment,children:[(0,_.jsxs)("h6",{style:{color:"#002BBE"},children:[qe("govt_scholarship")," "," : "]}),(0,_.jsxs)("h6",{style:{color:"#002BBE"},children:[qe("rs_only")," ",(null!==(Se=null===Ge||void 0===Ge||null===(Fe=Ge.structure)||void 0===Fe?void 0:Fe.total_admission_fees)&&void 0!==Se?Se:0)-(null!==(Ne=null===Ge||void 0===Ge||null===(Ce=Ge.structure)||void 0===Ce?void 0:Ce.applicable_fees)&&void 0!==Ne?Ne:0)]})]}),(0,_.jsxs)("section",{className:o.Z.table_container,children:[(0,_.jsxs)("div",{className:o.Z.table_heading,children:[(0,_.jsx)("h6",{children:qe("fee_heads")}),(0,_.jsx)("h6",{children:qe("amount")})]}),(0,_.jsx)("div",{className:o.Z.table_body,children:null===Ge||void 0===Ge||null===(we=Ge.structure)||void 0===we||null===(Ae=we.fees_heads)||void 0===Ae?void 0:Ae.map((function(e,t){return(0,_.jsxs)("div",{className:o.Z.table_body_list,children:[(0,_.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_name}),(0,_.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_amount})]},t)}))}),(0,_.jsx)("div",{className:o.Z.table_body,children:(0,_.jsxs)("div",{className:o.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.8)",borderTopWidth:"2px",borderTopStyle:"solid",borderBottomColor:"rgba(18, 18, 18, 0.8)",borderBottomWidth:"2px"},children:[(0,_.jsx)("h6",{className:o.Z.fees_total,children:qe("total")}),(0,_.jsx)("h6",{className:o.Z.fees_total,children:Pe})]})})]})]})]})})})},be=function(e){var t=e.label,n=e.amount,l=(0,i.$G)().t;return(0,_.jsxs)("section",{className:o.Z.fees_head_installment,children:[(0,_.jsxs)("h6",{children:[l(t)," ",l("installment")]}),(0,_.jsxs)("h6",{children:[l("rs_only")," ",null!==n&&void 0!==n?n:0]})]})},ye=function(e){var t,n,a,r,s,d=e.structure,u=e.instituteId,v=e.fid,m=e.did,f=(0,i.$G)().t,h=(0,b.useState)(""),x=(0,l.Z)(h,2),p=x[0],g=x[1];return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:o.Z.fees_card,onClick:function(){g(null===d||void 0===d?void 0:d._id)},style:{cursor:"pointer"},children:[(0,_.jsx)("img",{src:"".concat(c.J7,"/category.svg"),alt:"categor icon"}),(0,_.jsxs)("div",{className:o.Z.fees_card_text,children:[(0,_.jsxs)("div",{className:o.Z.fees_card_text_bottom,children:[(0,_.jsx)("h6",{children:null!==(t=null===d||void 0===d||null===(n=d.category_master)||void 0===n?void 0:n.category_name)&&void 0!==t?t:""}),(0,_.jsx)("h6",{children:"(".concat(f("rs_only")," ").concat(null!==(a=null===d||void 0===d?void 0:d.applicable_fees)&&void 0!==a?a:0,")")})]}),(0,_.jsxs)("div",{className:o.Z.fees_card_text_bottom,children:[(0,_.jsx)("h6",{children:null!==(r=null===d||void 0===d?void 0:d.structure_name)&&void 0!==r?r:""}),(0,_.jsxs)("h6",{children:[f("rs_only"),null!==(s=null===d||void 0===d?void 0:d.total_admission_fees)&&void 0!==s?s:0]})]})]})]}),p&&(0,_.jsx)(Ze,{onClose:function(){g("")},structureId:p,instituteId:u,fid:v,did:m})]})},Se=function(e){var t,n,a,r,o,s,v,m=e.instituteId,f=e.financeId,x=e.getQuery,p=(0,i.$G)().t,g=(0,b.useState)(""),S=(0,l.Z)(g,2),F=S[0],N=S[1],C=(0,b.useState)(1),w=(0,l.Z)(C,2),A=w[0],I=w[1],M=(0,b.useState)(!0),T=(0,l.Z)(M,2),U=T[0],B=T[1],E=(0,L.YD)({skip:F}),q=(0,l.Z)(E,2),H=q[0],P=q[1],Y=(0,b.useState)(!1),R=(0,l.Z)(Y,2),K=R[0],O=R[1],$=(0,b.useState)(!1),z=(0,l.Z)($,2),V=z[0],Q=z[1],W=(0,y.FL)(),X=(0,l.Z)(W,1)[0],ee=(0,d.dn)(),te=(0,l.Z)(ee,1)[0],ne=(0,d.P)({data:{did:null===x||void 0===x?void 0:x.did,page:A,limit:10,search:F,filterBy:null===x||void 0===x?void 0:x.clsId,batchBy:null===x||void 0===x?void 0:x.batchId},skip:!(null!==x&&void 0!==x&&x.did)}),le=ne.financeAllFeeStructure,ae=ne.financeAllFeeStructureLoading,ie=ne.financeAllFeeStructureRefetch;(0,b.useEffect)((function(){P&&U&&I((function(e){return e+1}))}),[P,U]),(0,b.useEffect)((function(){var e;if(null!==le&&void 0!==le&&null!==(e=le.list)&&void 0!==e&&e.length){var t,n=(0,D.f)(null===le||void 0===le||null===(t=le.list)||void 0===t?void 0:t.length);B((function(){return n}))}}),[null===le||void 0===le||null===(t=le.list)||void 0===t?void 0:t.length]);var re=(0,b.useCallback)((0,J.J)((function(e){I((function(){return 1})),N(e)}),500),[]),oe=function(){O((function(e){return!e}))},se=(0,b.useCallback)((function(){I((function(){return 1})),N(""),ie()}),[ie]);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:h.Z.fm_header_container,children:[(0,_.jsxs)("h6",{children:[null!==(n=null===x||void 0===x?void 0:x.dName)&&void 0!==n?n:"",null!==x&&void 0!==x&&x.batchName?(0,_.jsxs)("span",{style:{fontWeight:"400",fontSize:"13px"},children:[" ","(",null!==(a=null===x||void 0===x?void 0:x.batchName)&&void 0!==a?a:"",")"]}):null,null!==x&&void 0!==x&&x.clsName?(0,_.jsxs)("span",{style:{fontWeight:"400",fontSize:"13px"},children:[" - ","(",null!==(r=null===x||void 0===x?void 0:x.clsName)&&void 0!==r?r:"",")"]}):null]}),(0,_.jsxs)("div",{className:h.Z.fm_add_button,style:{alignItems:"center"},children:[(0,_.jsx)(j.Z,{onExcelFileUpload:function(e){var t;if(null!==(t=e.target.files)&&void 0!==t&&t.length&&null!==x&&void 0!==x&&x.did&&f){Q((function(e){return!e}));var n=new FormData;n.append("file",e.target.files[0]),X({fileUpload:n}).then((function(e){var t,n;null!==(t=e.data)&&void 0!==t&&t.imageKey?te({fid:f,did:null===x||void 0===x?void 0:x.did,excelFile:{excel_file:null===(n=e.data)||void 0===n?void 0:n.imageKey}}).then((function(){Q((function(e){return!e}))})).catch({}):Q((function(e){return!e}))})).catch({})}}}),(0,_.jsx)(Z.Z,{label:"add_new_fees_structure",customStyle:{marginBlock:"0.5rem"},onAction:oe})]})]}),(0,_.jsx)("div",{className:h.Z.fm_search_full,style:{marginBottom:"0.7rem"},children:(0,_.jsx)("section",{className:h.Z.fm_search_full_container,children:(0,_.jsxs)("div",{className:h.Z.fm_search_full_container_inner,children:[(0,_.jsx)("img",{className:h.Z.fm_search_full_icon,alt:"search icon",src:"".concat(c.dB,"/navbar-search.svg")}),(0,_.jsx)("input",{type:"text",placeholder:p("search"),onChange:function(e){e.target.value?re(e.target.value):(I((function(){return 1})),N(""))}})]})})}),null===le||void 0===le||null===(o=le.list)||void 0===o?void 0:o.map((function(e,t){var n;return(null===le||void 0===le||null===(n=le.list)||void 0===n?void 0:n.length)===t+1?(0,_.jsx)("div",{ref:H,children:(0,_.jsx)(ye,{structure:e,instituteId:m,fid:f,did:null===x||void 0===x?void 0:x.did})},null===e||void 0===e?void 0:e._id):(0,_.jsx)(ye,{structure:e,instituteId:m,fid:f,did:null===x||void 0===x?void 0:x.did},null===e||void 0===e?void 0:e._id)})),ae?F?(0,_.jsx)(k.Z,{}):(0,_.jsx)(u.Z,{}):F?0===(null===le||void 0===le||null===(s=le.list)||void 0===s?void 0:s.length)&&(0,_.jsx)(G.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No fee structure found related this search."}):0===(null===le||void 0===le||null===(v=le.list)||void 0===v?void 0:v.length)&&(0,_.jsx)(G.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No fee structure added."}),K&&(0,_.jsx)(pe,{instituteId:m,fid:f,did:null===x||void 0===x?void 0:x.did,onClose:oe,onRefetch:se,isRefetch:!0}),V&&(0,_.jsx)(k.Z,{})]})},Fe=n(1095),Ne=function(e){var t,n,i,r,s,c,u,v,f,h,x,p,S,F=e.fid,N=e.instituteId,C=(0,m.TH)(),w=(0,a.lr)(),A=(0,l.Z)(w,1)[0],I=(0,b.useState)(!1),M=(0,l.Z)(I,2),T=M[0],U=M[1],B=(0,b.useState)(!1),E=(0,l.Z)(B,2),q=E[0],H=E[1],L=(0,y.FL)(),D=(0,l.Z)(L,1)[0],J=(0,d.dn)(),G=(0,l.Z)(J,1)[0],P=(0,d.Is)(),Y=(0,l.Z)(P,1)[0],R=function(){U((function(e){return!e}))};return(0,_.jsxs)(_.Fragment,{children:[A.get("u")?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:o.Z.structure_container_title,children:[(0,_.jsxs)("h6",{children:[null!==(t=null===(n=C.state)||void 0===n?void 0:n.dName)&&void 0!==t?t:"",null!==(i=C.state)&&void 0!==i&&i.batchName?(0,_.jsxs)("span",{style:{fontWeight:"400",fontSize:"13px"},children:[" ","(",null!==(r=null===(s=C.state)||void 0===s?void 0:s.batchName)&&void 0!==r?r:"",")"]}):null,null!==(c=C.state)&&void 0!==c&&c.clsName?(0,_.jsxs)("span",{style:{fontWeight:"400",fontSize:"13px"},children:[" - ","(",null!==(u=null===(v=C.state)||void 0===v?void 0:v.clsName)&&void 0!==u?u:"",")"]}):null]}),(0,_.jsxs)("div",{className:o.Z.upload_excel_container,children:[(0,_.jsx)(j.Z,{onExcelFileUpload:function(e){var t,n;if(null!==(t=e.target.files)&&void 0!==t&&t.length&&F&&null!==(n=C.state)&&void 0!==n&&n.did){H((function(e){return!e}));var l=new FormData;l.append("file",e.target.files[0]),D({fileUpload:l}).then((function(e){var t,n,l;null!==(t=e.data)&&void 0!==t&&t.imageKey?G({fid:F,did:null===(n=C.state)||void 0===n?void 0:n.did,excelFile:{excel_file:null===(l=e.data)||void 0===l?void 0:l.imageKey}}).then((function(){H((function(e){return!e}))})).catch({}):H((function(e){return!e}))})).catch({})}}}),(0,_.jsx)(Z.Z,{label:"add_new_fees_structure",customStyle:{marginBlock:"0.5rem"},onAction:R}),(0,_.jsx)(Z.Z,{label:"export_structure",customStyle:{marginBlock:"0.5rem"},onAction:function(){var e,t;null!==C&&void 0!==C&&null!==(e=C.state)&&void 0!==e&&e.did&&(H((function(e){return!e})),Y({did:null===C||void 0===C||null===(t=C.state)||void 0===t?void 0:t.did}).then((function(e){var t;if(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.data){var n;H((function(e){return!e}));var l=window.open("".concat(Fe.q2,"/").concat(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data),"_blank","noopener,noreferrer");l&&(l.opener=null)}})).catch({}))}})]})]}),(0,_.jsx)(g.Z,{})]}):null,A.get("u")?"batch"===A.get("u")?(0,_.jsx)(Q,{departmentId:null!==(f=null===C||void 0===C||null===(h=C.state)||void 0===h?void 0:h.did)&&void 0!==f?f:"",carryParentState:null===C||void 0===C?void 0:C.state}):"standard"===A.get("u")?(0,_.jsx)(W,{departmentId:null!==(x=null===C||void 0===C||null===(p=C.state)||void 0===p?void 0:p.did)&&void 0!==x?x:"",instituteId:N,carryParentState:null===C||void 0===C?void 0:C.state}):null:(0,_.jsx)(Se,{financeId:F,instituteId:N,getQuery:C.state}),q&&(0,_.jsx)(k.Z,{}),T&&(0,_.jsx)(pe,{instituteId:N,fid:F,did:null===C||void 0===C||null===(S=C.state)||void 0===S?void 0:S.did,onClose:R})]})},Ce=function(e){var t=e.fid,n=e.instituteId,i=e.categoryCount,r=e.masterCount,s=(0,a.lr)(),d=(0,l.Z)(s,1)[0];return(0,_.jsx)("div",{className:o.Z.fess_container,children:["category","head"].includes(d.get("n"))?(0,_.jsx)(R,{fid:t}):"structure"===d.get("n")?(0,_.jsx)(Ne,{instituteId:n,fid:t}):"fees"===d.get("type")?(0,_.jsx)(f,{instituteId:n,masterCount:r,categoryCount:i,fid:t}):null})}},43677:function(e,t,n){"use strict";var l=n(16871),a=n(43504),i=n(80184);t.Z=function(e){var t,n=e.activeUrl,r=e.parentState,o=e.children,s=(0,l.UO)(),d=(0,l.TH)();return(0,i.jsx)(a.rU,{to:"Institute"===(null===(t=d.state)||void 0===t?void 0:t.urlOffSet)?"/q/".concat(s.username,"/institute/member/finance?").concat(n):"/q/".concat(s.username,"/member/staff/finance?").concat(n),state:r,children:o})}},85794:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var l=n(1413),a=n(29439),i=n(72791),r=n(54164),o=n(15783),s=n(98684),d=n(80184),c=function(e){var t=e.onClose,n=e.isVariant,l=e.isHide,a=e.children;return r.createPortal((0,d.jsx)("div",{children:(0,d.jsx)("div",{className:l?o.Z.notify_hide_overlay:o.Z.notify_overlay,children:(0,d.jsxs)("div",{className:o.Z.notify_container,style:{"--notify-bg-color":n},children:[a,(0,d.jsx)("img",{src:"".concat(s.Fk,"/close-white.svg"),alt:"close icon",onClick:t,className:o.Z.notify_close})]})})}),document.getElementById("notify-alert"))},u={success:"green",error:"#ed4a4a",warning:"orange"},_=function(e){var t,n=e.eventState,r=e.eventStateHandler,s=(0,i.useState)(!1),_=(0,a.Z)(s,2),v=_[0],m=_[1];return null!==n&&void 0!==n&&n.open?(0,d.jsx)(c,{onClose:function(){m(!0);var e=setTimeout((function(){r((function(e){return(0,l.Z)((0,l.Z)({},e),{},{open:!1,msg:"",variant:"success"})})),m(!1)}),500);return function(){return clearTimeout(e)}},isVariant:u[null===n||void 0===n?void 0:n.variant],isHide:v,children:(0,d.jsx)("h6",{className:o.Z.notify_message,children:null!==(t=null===n||void 0===n?void 0:n.msg)&&void 0!==t?t:""})}):null}},99183:function(e,t,n){"use strict";n.d(t,{l:function(){return l},x:function(){return a}});var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};for(var l in e)null!==t&&void 0!==t&&t.includes(l)||e[l]||(n[l]="* required");return n},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)return!1;return!0}},63244:function(e,t){"use strict";t.Z={qviple_loader_backdrop:"Loader_qviple_loader_backdrop__ScdYl",qviple_loader_container:"Loader_qviple_loader_container__SXQ9Y",qviple_loader_rotation:"Loader_qviple_loader_rotation__ltsgT",qviple_loader_rotation_animation:"Loader_qviple_loader_rotation_animation__gy3+j",q_loading:"Loader_q_loading__bwe2c",circle_loading:"Loader_circle_loading__m+ptB",rotate_animation:"Loader_rotate_animation__IV2sY"}},80476:function(e,t){"use strict";t.Z={btn_wrapper:"Button_btn_wrapper__ihT7O",btn_container:"Button_btn_container__OaH2t",create_btn_container:"Button_create_btn_container__JuZrx",upload_excel_file:"Button_upload_excel_file__a7d0K",set_btn_container:"Button_set_btn_container__RvfRG",ccb_button:"Button_ccb_button__Mjv4T"}},51416:function(e,t){"use strict";t.Z={square_tab_wrapper:"UiTab_square_tab_wrapper__Jxkmy",square_tab_card:"UiTab_square_tab_card__EYI-n",designation_tab_wrapper:"UiTab_designation_tab_wrapper__1YZQi",designation_tab_card:"UiTab_designation_tab_card__waJTM",rectangle_tab_wrapper:"UiTab_rectangle_tab_wrapper__a4CP7",rectangle_tab_card:"UiTab_rectangle_tab_card__xYxge",rectangle_tab_card_active:"UiTab_rectangle_tab_card_active__hSDaQ",horizontal_tab_wrapper:"UiTab_horizontal_tab_wrapper__BRXBX",horizontal_tab_card:"UiTab_horizontal_tab_card__pF03H",horizontal_tab_card_active:"UiTab_horizontal_tab_card_active__o32eJ",tile_container:"UiTab_tile_container__YqmHk",tile_tile_container:"UiTab_tile_tile_container__DlIa1",tile_tile:"UiTab_tile_tile__NcTNN",tile_tile_active:"UiTab_tile_tile_active__bo3c7",tile_label:"UiTab_tile_label__IV8Xu",attendance_card:"UiTab_attendance_card__kZvon",ac_heading:"UiTab_ac_heading__ayM90",attendance_contianer:"UiTab_attendance_contianer__m84gB",ac_image:"UiTab_ac_image__dgjML",ac_date:"UiTab_ac_date__7s3uk",ac_date_vale:"UiTab_ac_date_vale__oug6A",ac_date_active:"UiTab_ac_date_active__ifWqt"}},59393:function(e,t){"use strict";t.Z={user_member_header_wrapper:"UserMember_user_member_header_wrapper__GbnRw",umhw_cover:"UserMember_umhw_cover__9nFBA",umhw_cover_photo:"UserMember_umhw_cover_photo__SlMdy",umhw_cover_label:"UserMember_umhw_cover_label__3yZV3",umhw_cover_camera:"UserMember_umhw_cover_camera__vKOnO",umhw_info_container:"UserMember_umhw_info_container__ce+81",umhw_info_container_header:"UserMember_umhw_info_container_header__FD+-b",umhw_info_container_footer:"UserMember_umhw_info_container_footer__lVzFw",user_member_tabs_wrapper:"UserMember_user_member_tabs_wrapper__mhpkS",user_member_container_wrapper:"UserMember_user_member_container_wrapper__xbfdC",user_member_content_wrapper:"UserMember_user_member_content_wrapper__PP2xI",uf_link:"UserMember_uf_link__usZfM"}},4007:function(e,t){"use strict";t.Z={fess_container:"FeesStructure_fess_container__yP1Kr",category_header:"FeesStructure_category_header__kl9eu",category_header_title:"FeesStructure_category_header_title__Lc+5l",fees_category:"FeesStructure_fees_category__8u-dp",fees_category_icon:"FeesStructure_fees_category_icon__KjMF9",fees_category_text:"FeesStructure_fees_category_text__HnRZU",assignment_description_head:"FeesStructure_assignment_description_head__jqNtp",assignment_description:"FeesStructure_assignment_description__soumP",department_container:"FeesStructure_department_container__kCdPX",department_card_name:"FeesStructure_department_card_name__sYSOY",department_card_head:"FeesStructure_department_card_head__rVcZv",department_card_title:"FeesStructure_department_card_title__PF9km",add_new_category:"FeesStructure_add_new_category__Q1OpU",category_card:"FeesStructure_category_card__qYz0J",fees_card_text:"FeesStructure_fees_card_text__KB8GJ",category_card_fee:"FeesStructure_category_card_fee__sRR12",fees_card_text_bottom:"FeesStructure_fees_card_text_bottom__T45b7",department_card_container:"FeesStructure_department_card_container__a40wp",department_card_image:"FeesStructure_department_card_image__2FUDD",fees_card:"FeesStructure_fees_card__z+RwE",category_card_order:"FeesStructure_category_card_order__jBLeB",add_category_modal:"FeesStructure_add_category_modal__XFTGC",add_category_modal_title:"FeesStructure_add_category_modal_title__y9he4",structure_container_title:"FeesStructure_structure_container_title__Oa39N",add_category_modal_title_left:"FeesStructure_add_category_modal_title_left__JDH-M",set_fees_structure_btn:"FeesStructure_set_fees_structure_btn__NUJNj",installment_list:"FeesStructure_installment_list__b4tEe",fees_head_title:"FeesStructure_fees_head_title__aHn2H",fees_head_installment:"FeesStructure_fees_head_installment__G80fz",table_heading:"FeesStructure_table_heading__C+3Ou",table_container:"FeesStructure_table_container__GY9PB",table_body:"FeesStructure_table_body__d27RF",table_body_list:"FeesStructure_table_body_list__AIq19",fee_head_name_input:"FeesStructure_fee_head_name_input__XqDmq",fee_head_amount_input:"FeesStructure_fee_head_amount_input__IljkA",add_fees_head_btn:"FeesStructure_add_fees_head_btn__Me1Y3",fees_total:"FeesStructure_fees_total__cKFTc",fees_card_hover:"FeesStructure_fees_card_hover__Zk7go",fees_card_hover_active:"FeesStructure_fees_card_hover_active__UBnHh",fee_middle_section:"FeesStructure_fee_middle_section__gjhYY",fee_middle_confirm_button:"FeesStructure_fee_middle_confirm_button__8gUBE",fee_middle_section_container:"FeesStructure_fee_middle_section_container__9vxAB",edit_icon:"FeesStructure_edit_icon__iHti3",category_card_hover:"FeesStructure_category_card_hover__O3rP9",category_card_hover_active:"FeesStructure_category_card_hover_active__N2YXu",menu_icon:"FeesStructure_menu_icon__-c1NS",upload_excel_container:"FeesStructure_upload_excel_container__48yxn",upload_excel_file:"FeesStructure_upload_excel_file__1hxAU",seating_modal:"FeesStructure_seating_modal__cEUXs",add_category_modal_title_active:"FeesStructure_add_category_modal_title_active__bnkEx",notify_container:"FeesStructure_notify_container__f1n9o",notify_text:"FeesStructure_notify_text__Yqwka",next_btn:"FeesStructure_next_btn__Kc+CA",btn_group:"FeesStructure_btn_group__xycY6",leave_dates:"FeesStructure_leave_dates__nByRK",letter_head_container:"FeesStructure_letter_head_container__sRo4F",modal_container:"FeesStructure_modal_container__orQgp",modal_container_outer_header:"FeesStructure_modal_container_outer_header__RSzLS",modal_container_header:"FeesStructure_modal_container_header__F-XEd",fm_search_full:"FeesStructure_fm_search_full__wKV++",fm_search_full_container:"FeesStructure_fm_search_full_container__lYJ8u",fm_search_full_container_inner:"FeesStructure_fm_search_full_container_inner__pZb5S",fm_search_full_icon:"FeesStructure_fm_search_full_icon__wFTld"}},56959:function(e,t){"use strict";t.Z={fm_header_container:"FinanceManager_fm_header_container__4809h",fm_header_start_container:"FinanceManager_fm_header_start_container__MIMYE",fm_title_heading:"FinanceManager_fm_title_heading__K-4lB",fm_search:"FinanceManager_fm_search__42NnY",fm_search_container:"FinanceManager_fm_search_container__23+f8",fm_search_container_inner:"FinanceManager_fm_search_container_inner__YySAp",fm_search_icon:"FinanceManager_fm_search_icon__WftS9",fm_all_time_data:"FinanceManager_fm_all_time_data__Re+uG",fm_total_amount:"FinanceManager_fm_total_amount__wAS13",fm_both_filter:"FinanceManager_fm_both_filter__25sOi",fm_both_filter_with_name:"FinanceManager_fm_both_filter_with_name__-29YH",fm_add_button:"FinanceManager_fm_add_button__9h09Q",fm_search_full:"FinanceManager_fm_search_full__vDPwG",fm_search_full_container:"FinanceManager_fm_search_full_container__PVgHt",fm_search_full_container_inner:"FinanceManager_fm_search_full_container_inner__tmOa6",fm_search_full_icon:"FinanceManager_fm_search_full_icon__BaRMK",fm_fs_container:"FinanceManager_fm_fs_container__cQS8l",fm_fs_container_inner:"FinanceManager_fm_fs_container_inner__eLCO6",fm_fs_refetch_container:"FinanceManager_fm_fs_refetch_container__W3BMl",fm_fs_refetch_container_inner:"FinanceManager_fm_fs_refetch_container_inner__y6kWF",fm_fund_card:"FinanceManager_fm_fund_card__Xo-wt",fm_fund_total:"FinanceManager_fm_fund_total__Z-m5Y",fm_fund_total_inner:"FinanceManager_fm_fund_total_inner__WjTx9",fm_flex:"FinanceManager_fm_flex__KK95u",fm_other_admission:"FinanceManager_fm_other_admission__m7mDo",lms_rule_container:"FinanceManager_lms_rule_container__8hkCA",fm_header_paragraph:"FinanceManager_fm_header_paragraph__x9942"}},42480:function(){}}]);
//# sourceMappingURL=908.69bf72ed.chunk.js.map