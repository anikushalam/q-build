"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[76452],{65408:(e,t,a)=>{a.d(t,{Z:()=>h});var s=a(72791),n=a(33992),l=a(11105),i=a(33148),d=a(69721),c=a(74801),o=a(8148),r=a(35395),u=a(80184);const v=s.lazy((()=>Promise.all([a.e(6307),a.e(85054),a.e(82555)]).then(a.bind(a,85054)))),m=e=>{var t,a,n,l,m,j,h,b,x,p,g,_,N,Z,f,y,T,S,I,A,D,E,C,P,k,M,R,w,F,q,U,O,H,V,L,J;let{sub:G,carryParentState:B,isView:$,did:Y,cid:K,instituteId:z,onRefetch:Q}=e;const[W,X]=(0,s.useState)("");return(0,u.jsxs)(u.Fragment,{children:["DEPARTMENT_HEAD"===$?(0,u.jsx)(o.Z,{carryParentState:{...B,subjectId:null===G||void 0===G?void 0:G._id,subjectName:"".concat(null===G||void 0===G?void 0:G.subjectName," ").concat(null!==G&&void 0!==G&&G.subject_category?"(".concat(null===G||void 0===G?void 0:G.subject_category,")"):""," ").concat(null!==G&&void 0!==G&&null!==(t=G.selected_batch_query)&&void 0!==t&&t.batchName?"(".concat(null===G||void 0===G||null===(a=G.selected_batch_query)||void 0===a?void 0:a.batchName,")"):""," ").concat("Optional"===(null===G||void 0===G?void 0:G.subjectOptional)?"(".concat(null===G||void 0===G?void 0:G.subjectOptional,")"):""),batchId:null===G||void 0===G||null===(n=G.selected_batch_query)||void 0===n?void 0:n._id,subjectTeacherName:"".concat(null!==(l=null===G||void 0===G||null===(m=G.subjectTeacherName)||void 0===m?void 0:m.staffFirstName)&&void 0!==l?l:""," ").concat(null!==(j=null===G||void 0===G||null===(h=G.subjectTeacherName)||void 0===h?void 0:h.staffMiddleName)&&void 0!==j?j:""," ").concat(null!==(b=null===G||void 0===G||null===(x=G.subjectTeacherName)||void 0===x?void 0:x.staffLastName)&&void 0!==b?b:"")},activeTab:"subject-detail",children:(0,u.jsxs)("div",{className:i.Z.class_container,style:{justifyContent:"space-between"},children:[(0,u.jsxs)("div",{className:i.Z.moderator_container_title,children:[(0,u.jsx)("img",{className:i.Z.oneRowImage,src:null!==G&&void 0!==G&&null!==(p=G.subjectTeacherName)&&void 0!==p&&p.staffProfilePhoto?"".concat(d.yI,"/").concat(null===G||void 0===G||null===(g=G.subjectTeacherName)||void 0===g?void 0:g.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff avatr"}),(0,u.jsxs)("div",{className:i.Z.class_container_text,children:[(0,u.jsxs)("h6",{children:[null!==(_=null===G||void 0===G?void 0:G.subjectName)&&void 0!==_?_:""," ",null!==G&&void 0!==G&&G.subject_category?"(".concat(null===G||void 0===G?void 0:G.subject_category,")"):"",null!==G&&void 0!==G&&null!==(N=G.selected_batch_query)&&void 0!==N&&N.batchName?(0,u.jsxs)("span",{style:{fontWeight:"400",fontSize:"12px"},children:[" ","(",null!==(Z=null===G||void 0===G||null===(f=G.selected_batch_query)||void 0===f?void 0:f.batchName)&&void 0!==Z?Z:"",")"]}):null,"Optional"===(null===G||void 0===G?void 0:G.subjectOptional)&&"(".concat(null===G||void 0===G?void 0:G.subjectOptional,")")]}),(0,u.jsx)("p",{children:"".concat(null!==(y=null===G||void 0===G||null===(T=G.subjectTeacherName)||void 0===T?void 0:T.staffFirstName)&&void 0!==y?y:""," ").concat(null!==(S=null===G||void 0===G||null===(I=G.subjectTeacherName)||void 0===I?void 0:I.staffMiddleName)&&void 0!==S?S:""," ").concat(null!==(A=null===G||void 0===G||null===(D=G.subjectTeacherName)||void 0===D?void 0:D.staffLastName)&&void 0!==A?A:"")})]})]}),(0,u.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:e=>{e.preventDefault(),X(null===G||void 0===G?void 0:G._id)},title:"Menu",style:{cursor:"pointer",height:"1.5rem"}})]})}):(0,u.jsx)(c.Z,{carryParentState:{...B,subjectId:null===G||void 0===G?void 0:G._id,subjectName:"".concat(null===G||void 0===G?void 0:G.subjectName," ").concat(null!==G&&void 0!==G&&G.subject_category?"(".concat(null===G||void 0===G?void 0:G.subject_category,")"):""," ").concat(null!==G&&void 0!==G&&null!==(E=G.selected_batch_query)&&void 0!==E&&E.batchName?"(".concat(null===G||void 0===G||null===(C=G.selected_batch_query)||void 0===C?void 0:C.batchName,")"):""," ").concat("Optional"===(null===G||void 0===G?void 0:G.subjectOptional)?"(".concat(null===G||void 0===G?void 0:G.subjectOptional,")"):""),batchId:null===G||void 0===G||null===(P=G.selected_batch_query)||void 0===P?void 0:P._id,isView:"ADMINISTRATOR"},activeTab:"subject-menu",children:(0,u.jsxs)("div",{className:i.Z.class_container,children:[(0,u.jsx)("img",{className:i.Z.oneRowImage,src:null!==G&&void 0!==G&&null!==(k=G.subjectTeacherName)&&void 0!==k&&k.staffProfilePhoto?"".concat(d.yI,"/").concat(null===G||void 0===G||null===(M=G.subjectTeacherName)||void 0===M?void 0:M.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff avatr"}),(0,u.jsxs)("div",{className:i.Z.class_container_text,children:[(0,u.jsxs)("h6",{children:[null!==(R=null===G||void 0===G?void 0:G.subjectName)&&void 0!==R?R:""," ",null!==G&&void 0!==G&&G.subject_category?"(".concat(null===G||void 0===G?void 0:G.subject_category,")"):"",null!==G&&void 0!==G&&null!==(w=G.selected_batch_query)&&void 0!==w&&w.batchName?(0,u.jsxs)("span",{style:{fontWeight:"400",fontSize:"12px"},children:[" ","(",null!==(F=null===G||void 0===G||null===(q=G.selected_batch_query)||void 0===q?void 0:q.batchName)&&void 0!==F?F:"",")"]}):null,"Optional"===(null===G||void 0===G?void 0:G.subjectOptional)&&"(".concat(null===G||void 0===G?void 0:G.subjectOptional,")")]}),(0,u.jsx)("p",{children:"".concat(null!==(U=null===G||void 0===G||null===(O=G.subjectTeacherName)||void 0===O?void 0:O.staffFirstName)&&void 0!==U?U:""," ").concat(null!==(H=null===G||void 0===G||null===(V=G.subjectTeacherName)||void 0===V?void 0:V.staffMiddleName)&&void 0!==H?H:""," ").concat(null!==(L=null===G||void 0===G||null===(J=G.subjectTeacherName)||void 0===J?void 0:J.staffLastName)&&void 0!==L?L:"")})]})]})}),(0,u.jsx)(r.Z,{children:W&&(0,u.jsx)(v,{departmentModal:!!W,hideModal:()=>X(""),id:z,did:Y,cid:K,edit:W,setEdit:X,editSubject:W,isEditBy:"DEPARTMENT_HEAD",onRefetch:Q})})]})},j=e=>{let{subjects:t,carryParentState:a,isView:s,cid:n,instituteId:l,did:i,onRefetch:d}=e;return(0,u.jsx)(u.Fragment,{children:null===t||void 0===t?void 0:t.map((e=>(0,u.jsx)(m,{sub:e,carryParentState:a,isView:s,cid:n,instituteId:l,did:i,onRefetch:d},null===e||void 0===e?void 0:e._id)))})},h=e=>{var t,a,i;let{carryParentState:d,clsId:c,isView:o,instituteId:r,did:v}=e;const[m,h]=(0,s.useState)(!0),{oneClassAllSubject:b,oneClassAllSubjectRefetch:x}=(0,n.fk)({cid:c,skip:!c});return(0,s.useEffect)((()=>{var e;null!==b&&void 0!==b&&null!==(e=b.classes)&&void 0!==e&&e.subject&&h(!1)}),[null===b||void 0===b||null===(t=b.classes)||void 0===t?void 0:t.subject]),(0,s.useEffect)((()=>{c&&x()}),[c,x]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(j,{subjects:null!==(a=null===b||void 0===b||null===(i=b.classes)||void 0===i?void 0:i.subject)&&void 0!==a?a:[],carryParentState:d,isView:o||"ADMINISTRATOR",cid:c,instituteId:r,did:v,onRefetch:x}),m&&(0,u.jsx)(l.Z,{})]})}},893:(e,t,a)=>{a.d(t,{Z:()=>g});var s=a(72791),n=a(16313),l=a(53967),i=a(94721),d=a(89261),c=a(62921),o=a(17758),r=a(39230),u=a(24582),v=a(98734),m=a(37570),j=a(95048),h=a(99376),b=a(51561),x=a(80184);const p=e=>{let{today:t,alreadyMark:a,allIdsArray:l,clickedIndex:i,setClickedIndex:d,idPresentArray:c,idAbsentArray:o,setIdPresentArray:p,setIdAbsentArray:g,cid:_,isDepartment:N,className:Z,setIsRefetch:f}=e;const[y,T]=s.useState(!1),[S,I]=s.useState(!1),[A]=(0,u.b6)(),[D]=(0,u.wf)(),{t:E}=(0,r.$G)(),[C,P]=(0,s.useState)(!1),k=(0,j.I0)(),[M,R]=(0,s.useState)({msg:"",run:!1});s.useEffect((()=>{null!==c&&void 0!==c&&c.length||null!==o&&void 0!==o&&o.length?T(!0):T(!1)}),[c,o]);const w=()=>{P((e=>!e))};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:"1.5rem"},children:[(0,x.jsx)("div",{className:n.Z.buttons,children:(0,x.jsx)("div",{className:n.Z.save,onClick:w,children:E("export_zip_attendance")})}),(0,x.jsx)("div",{className:n.Z.buttons,children:0!==i?y&&!N&&(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("div",{className:n.Z.save,onClick:()=>{I((e=>!e));const e=t.split("-"),s=e[0]>9?e[0]:"0".concat(e[0]),n=e[1]>9?e[1]:"0".concat(e[1]);if(null!==a&&void 0!==a&&a._id)k(h.R.updateClassAttendance({clsId:_,ldate:"".concat(s,"/").concat(n,"/").concat(e[2]),presentStudent:null!==c&&void 0!==c&&c.length?c:[],absentStudent:null!==o&&void 0!==o&&o.length?o:[],alreadyMark:null===a||void 0===a?void 0:a._id})),D({said:null===a||void 0===a?void 0:a._id,attendanceUpdate:{date:"".concat(s,"/").concat(n,"/").concat(e[2]),present:null!==c&&void 0!==c&&c.length?c:[],absent:null!==o&&void 0!==o&&o.length?o:[]}}).then((()=>{f(!0),d(0),I((e=>!e)),p([]),g([])})).catch({});else{const t=[];null===l||void 0===l||l.map((e=>t.push(e._id)));const a=[],i=[];if(null!==c&&void 0!==c&&c.length)for(let e of t){let t=0;null!==c&&void 0!==c&&c.includes(e)||i.push(e),t+=1}else for(let e of t){let t=0;null!==o&&void 0!==o&&o.includes(e)||a.push(e),t+=1}A({cid:_,attendance:{date:"".concat(s,"/").concat(n,"/").concat(e[2]),present:null!==c&&void 0!==c&&c.length?c:a,absent:null!==o&&void 0!==o&&o.length?o:i}}).then((t=>{var l,r;"Today will be holiday Provided by department Admin or already marked attendance"===(null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.message)?R({msg:"Today will be holiday Provided by department Admin or already marked attendance",run:!0}):k(h.R.addClassAttendance({clsId:_,ldate:"".concat(s,"/").concat(n,"/").concat(e[2]),presentStudent:null!==c&&void 0!==c&&c.length?c:a,absentStudent:null!==o&&void 0!==o&&o.length?o:i,alreadyMark:null===t||void 0===t||null===(r=t.data)||void 0===r?void 0:r.alreadyMark}));d(0),I((e=>!e)),p([]),g([])})).catch({})}},children:E("save")})}):""})]}),S&&(0,x.jsx)(v.Z,{}),C&&(0,x.jsx)(m.Z,{cid:_,onClose:w,className:Z}),M.run&&(0,x.jsx)(b.Ch,{msg:M.msg,run:M.run,setRun:()=>R({msg:"",run:!1}),postiton:"bottom",type:"error"})]})};const g=function(e){var t,a,v,m,h,b,g,_,N,Z,f,y,T,S;let{cid:I,isDepartment:A,className:D}=e;const{calendarData:E,selectedDate:C,todayFormatted:P,switchMonth:k,monthNames:M,getNextMonth:R,getPrevMonth:w}=(0,l.Z)(),[F,q]=(0,s.useState)(P),U=F.split("-"),O=U[0]>9?U[0]:"0".concat(U[0]),H=U[1]>9?U[1]:"0".concat(U[1]),{t:V}=(0,r.$G)(),L=(0,j.v9)((e=>e.attendanceStore.classTeacher)),[J,G]=(0,s.useState)(""),[B,$]=(0,s.useState)(!1),{classAllStudent:Y,classAllStudentRefetch:K}=(0,u.EY)({data:{cid:I,page:1,limit:30},skip:!I}),{classStudentCurrentAttendance:z,classStudentCurrentAttendanceRefetch:Q}=(0,u.Px)({data:{cid:I,date:"".concat(O,"/").concat(H,"/").concat(U[2])},skip:!I});(0,s.useEffect)((()=>{if((null===L||void 0===L?void 0:L.length)>0){const e=F.split("-"),t=e[0]>9?e[0]:"0".concat(e[0]),a=e[1]>9?e[1]:"0".concat(e[1]);let s="";for(let n of L)if((null===n||void 0===n?void 0:n.ldate)==="".concat(t,"/").concat(a,"/").concat(e[2])){if((null===n||void 0===n?void 0:n.clsId)===I){s=n;break}$(!1)}else $(!1);G(s)}}),[L,F,I,B]),(0,s.useEffect)((()=>{I&&(K(),Q())}),[I,Q,K]);const W=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],X=Math.floor(E.map((function(e){return e.date})).indexOf(F)/10),[ee,te]=(0,s.useState)(X),ae=10*ee,se=Math.ceil(E.length/10),ne=E.slice(ae,ae+10).map(((e,t)=>(0,x.jsxs)("div",{className:e.date===F?"".concat(n.Z.date," ").concat(n.Z.clickedDate):n.Z.date,onClick:()=>q(e.date),children:[(0,x.jsx)("h6",{children:e.date.split("-")[0]}),(0,x.jsx)("p",{children:W[e.day]})]},t))),[le,ie]=(0,s.useState)(1),[de,ce]=(0,s.useState)([]),[oe,re]=(0,s.useState)([]),[ue,ve]=s.useState([]),[me,je]=s.useState([]),[he,be]=(0,s.useState)(!1);s.useEffect((()=>{var e,t;ce(null===Y||void 0===Y||null===(e=Y.classes)||void 0===e?void 0:e.ApproveStudent),re(null===Y||void 0===Y||null===(t=Y.classes)||void 0===t?void 0:t.ApproveStudent)}),[null===Y||void 0===Y||null===(t=Y.classes)||void 0===t?void 0:t.ApproveStudent]),s.useEffect((()=>{ve([]),je([])}),[le]);const xe=e=>{const t=[...ue];if(null!==t&&void 0!==t&&t.includes(e)){const a=t.indexOf(e);t.splice(a,1),ve((()=>[...t]))}else ve((t=>[...t,e]))},pe=e=>{const t=[...me];if(null!==t&&void 0!==t&&t.includes(e)){const a=t.indexOf(e);t.splice(a,1),je((()=>[...t]))}else je((t=>[...t,e]))};return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:n.Z.attendence,style:{border:A?"none":"0.5px solid #cacaca"},children:[(0,x.jsxs)("div",{className:n.Z.attendencehead,children:[(0,x.jsxs)("div",{className:n.Z.attendenceBtns,children:[(0,x.jsxs)("div",{className:n.Z.changemonth,onClick:()=>be(!he),children:[(0,x.jsxs)("h6",{children:[M[C.getMonth()]," ",C.getFullYear()]}),(0,x.jsx)("img",{alt:"not found",src:"/images/dropdown-icon.svg"}),he&&(0,x.jsx)("div",{className:n.Z.selectMonthList,children:["January","February","March","April","May","June","July","August","September","October","November","December"].map(((e,t)=>(0,x.jsx)("div",{className:n.Z.month,onClick:()=>{k(t),be(!1)},children:e},t)))})]}),(0,x.jsx)(p,{alreadyMark:J?{_id:null===J||void 0===J?void 0:J.alreadyMark}:null===z||void 0===z||null===(a=z.classes)||void 0===a||null===(v=a.attendenceDate)||void 0===v?void 0:v[0],today:F,allIdsArray:null===Y||void 0===Y||null===(m=Y.classes)||void 0===m?void 0:m.ApproveStudent,classStudentCurrentAttendanceRefetch:Q,clickedIndex:le,setClickedIndex:ie,idPresentArray:ue,idAbsentArray:me,setIdPresentArray:ve,setIdAbsentArray:je,cid:I,isDepartment:A,className:D,setIsRefetch:$})]}),(0,x.jsxs)("div",{className:n.Z.calender,children:[(0,x.jsx)("div",{className:n.Z.arrowbtn,onClick:()=>{ee>0?te((e=>e-1)):(te(se-1),w())},children:(0,x.jsx)("img",{alt:"not found",src:"/images/members/left-icon.svg"})}),(0,x.jsx)("div",{className:n.Z.dates,children:ne}),(0,x.jsx)("div",{className:n.Z.arrowbtn,onClick:()=>{ee+1<se?te((e=>e+1)):(te(0),R())},children:(0,x.jsx)("img",{alt:"not found",src:"/images/members/right-icon.svg"})})]})]}),(0,x.jsx)(i.Z,{}),(0,x.jsxs)("div",{className:n.Z.tabs,children:[(0,x.jsxs)("div",{className:0===le?"".concat(n.Z.tab," ").concat(n.Z.purple):"".concat(n.Z.tab," ").concat(n.Z.grey),onClick:()=>ie(0),children:[V("total")," ",null===Y||void 0===Y||null===(h=Y.classes)||void 0===h||null===(b=h.ApproveStudent)||void 0===b?void 0:b.length]}),(0,x.jsxs)("div",{className:1===le?"".concat(n.Z.tab," ").concat(n.Z.tabgreen):"".concat(n.Z.tab," ").concat(n.Z.light),onClick:()=>ie(1),children:[V("present")," ",J?null!==(g=null===J||void 0===J?void 0:J.presentCount)&&void 0!==g?g:0:null===z||void 0===z||null===(_=z.classes)||void 0===_||null===(N=_.attendenceDate[0])||void 0===N?void 0:N.presentTotal]}),(0,x.jsxs)("div",{className:2===le?"".concat(n.Z.tab," ").concat(n.Z.red):"".concat(n.Z.tab," ").concat(n.Z.rose),onClick:()=>ie(2),children:[V("absent")," ",J?null!==(Z=null===J||void 0===J?void 0:J.absentCount)&&void 0!==Z?Z:0:null===z||void 0===z||null===(f=z.classes)||void 0===f||null===(y=f.attendenceDate[0])||void 0===y?void 0:y.absentTotal]})]}),(0,x.jsxs)("div",{className:n.Z.list,children:[0===le&&(null===Y||void 0===Y||null===(T=Y.classes)||void 0===T||null===(S=T.ApproveStudent)||void 0===S?void 0:S.map(((e,t)=>{var a,s,l,i,c,o,r,u;return J?null!==J&&void 0!==J&&null!==(a=J.presentStudent)&&void 0!==a&&a.includes(e._id)?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(d.Z,{student:e,status:"present"},t),(0,x.jsx)("div",{className:n.Z.divider})]}):null!==J&&void 0!==J&&null!==(s=J.absentStudent)&&void 0!==s&&s.includes(e._id)?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(d.Z,{student:e,status:"absent"},t),(0,x.jsx)("div",{className:n.Z.divider})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(d.Z,{student:e,status:"initial"},t),(0,x.jsx)("div",{className:n.Z.divider})]}):null!==z&&void 0!==z&&null!==(l=z.classes)&&void 0!==l&&null!==(i=l.attendenceDate[0])&&void 0!==i&&null!==(c=i.presentStudent)&&void 0!==c&&c.includes(e._id)?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(d.Z,{student:e,status:"present"},t),(0,x.jsx)("div",{className:n.Z.divider})]}):null!==z&&void 0!==z&&null!==(o=z.classes)&&void 0!==o&&null!==(r=o.attendenceDate[0])&&void 0!==r&&null!==(u=r.absentStudent)&&void 0!==u&&u.includes(e._id)?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(d.Z,{student:e,status:"absent"},t),(0,x.jsx)("div",{className:n.Z.divider})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(d.Z,{student:e,status:"initial"},t),(0,x.jsx)("div",{className:n.Z.divider})]})}))),1===le&&(null===de||void 0===de?void 0:de.length)>0&&(null===de||void 0===de?void 0:de.map(((e,t)=>{var a,s,l,i;return J?null!==J&&void 0!==J&&null!==(a=J.presentStudent)&&void 0!==a&&a.includes(e._id)?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(c.Z,{student:e,status:"present",presentTabHandler:xe},t),(0,x.jsx)("div",{className:n.Z.divider})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(c.Z,{student:e,presentTabHandler:xe,status:"absent"},t),(0,x.jsx)("div",{className:n.Z.divider})]}):null!==z&&void 0!==z&&null!==(s=z.classes)&&void 0!==s&&null!==(l=s.attendenceDate[0])&&void 0!==l&&null!==(i=l.presentStudent)&&void 0!==i&&i.includes(e._id)?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(c.Z,{student:e,status:"present",presentTabHandler:xe},t),(0,x.jsx)("div",{className:n.Z.divider})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(c.Z,{student:e,presentTabHandler:xe,status:"absent"},t),(0,x.jsx)("div",{className:n.Z.divider})]})}))),2===le&&(null===oe||void 0===oe?void 0:oe.length)>0&&(null===oe||void 0===oe?void 0:oe.map(((e,t)=>{var a,s,l,i;return J?null!==J&&void 0!==J&&null!==(a=J.absentStudent)&&void 0!==a&&a.includes(e._id)?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(o.Z,{student:e,status:"absent",absentTabHandler:pe},t),(0,x.jsx)("div",{className:n.Z.divider})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(o.Z,{student:e,status:"present",absentTabHandler:pe},t),(0,x.jsx)("div",{className:n.Z.divider})]}):null!==z&&void 0!==z&&null!==(s=z.classes)&&void 0!==s&&null!==(l=s.attendenceDate[0])&&void 0!==l&&null!==(i=l.absentStudent)&&void 0!==i&&i.includes(e._id)?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(o.Z,{student:e,status:"absent",absentTabHandler:pe},t),(0,x.jsx)("div",{className:n.Z.divider})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(o.Z,{student:e,status:"present",absentTabHandler:pe},t),(0,x.jsx)("div",{className:n.Z.divider})]})})))]})]})})}},76452:(e,t,a)=>{a.r(t),a.d(t,{default:()=>T});a(72791);var s=a(16871),n=a(43504),l=a(39230),i=a(22984),d=a(80184);const c=function(e){var t,a,c;let{carryParentState:o}=e;const{t:r}=(0,l.$G)(),u=(0,s.TH)(),v=(0,s.UO)();return(0,d.jsx)("div",{className:i.Z.mcqTop,style:{padding:"0"},children:(0,d.jsxs)("div",{className:i.Z.mcqToptabs,children:[(0,d.jsx)(n.rU,{to:"/q/".concat(v.username,"/member/department/").concat(v.deptname,"?a=class-detail"),state:o,className:"class-detail"===(null===(t=u.search)||void 0===t?void 0:t.substring(3))?"".concat(i.Z.mcqTopItem," ").concat(i.Z.active):i.Z.mcqTopItem,children:(0,d.jsx)("div",{children:r("students")})}),(0,d.jsx)(n.rU,{to:"/q/".concat(v.username,"/member/department/").concat(v.deptname,"?a=class-attendance"),state:o,className:"class-attendance"===(null===(a=u.search)||void 0===a?void 0:a.substring(3))?"".concat(i.Z.mcqTopItem," ").concat(i.Z.active):i.Z.mcqTopItem,children:(0,d.jsx)("div",{children:r("attendance")})}),(0,d.jsx)(n.rU,{to:"/q/".concat(v.username,"/member/department/").concat(v.deptname,"?a=class-subject"),state:o,className:"class-subject"===(null===(c=u.search)||void 0===c?void 0:c.substring(3))?"".concat(i.Z.mcqTopItem," ").concat(i.Z.active):i.Z.mcqTopItem,children:(0,d.jsx)("div",{children:r("subjects")})})]})})};var o=a(33148),r=a(69614),u=a(65408),v=a(36185),m=a(893),j=a(8148),h=a(11806),b=a(60726);const x=e=>{let{carryParentState:t,isDepartment:a}=e;const{t:s}=(0,l.$G)();return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:h.Z.MiddleContentLeft,style:{border:"none"},children:"CLASS_TEACHER"===a?(0,d.jsxs)("div",{className:h.Z.item,style:{paddingLeft:"2vw"},children:[(0,d.jsx)(b.Z,{carryParentState:t,activeTab:"subject-catalog",children:(0,d.jsxs)("div",{className:h.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/class/class-catalog-icon.svg",alt:"Class Catalog"}),(0,d.jsx)("p",{children:s("catalog")})]})}),(0,d.jsx)(b.Z,{carryParentState:t,activeTab:"subject-attendance",children:(0,d.jsxs)("div",{className:h.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/class/class-attendance-icon.svg",alt:"attendence"}),(0,d.jsxs)("p",{children:[" ",s("attendance")," "]})]})}),(0,d.jsx)(b.Z,{carryParentState:t,activeTab:"subject-assignment",children:(0,d.jsxs)("div",{className:h.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/subject/subject-assignment-icon.svg",alt:"assignment"}),(0,d.jsx)("p",{children:s("assigmnent")})]})}),(0,d.jsx)(b.Z,{carryParentState:t,activeTab:"subject-exam",children:(0,d.jsxs)("div",{className:h.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/department/department-examination-icon.svg",alt:"attendence"}),(0,d.jsx)("p",{children:s("examinations")})]})}),(0,d.jsx)(b.Z,{carryParentState:t,activeTab:"subject-academic",children:(0,d.jsxs)("div",{className:h.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/subject/subject-daily-update-icon.svg",alt:"student Request"}),(0,d.jsx)("p",{style:{textAlign:"center"},children:s("academics_teachings")})]})})]}):(0,d.jsxs)("div",{className:h.Z.item,style:{paddingLeft:"2vw"},children:[(0,d.jsx)(j.Z,{carryParentState:t,activeTab:"subject-catalog",children:(0,d.jsxs)("div",{className:h.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/class/class-catalog-icon.svg",alt:"Class Catalog"}),(0,d.jsx)("p",{children:s("catalog")})]})}),(0,d.jsx)(j.Z,{carryParentState:t,activeTab:"subject-attendance",children:(0,d.jsxs)("div",{className:h.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/class/class-attendance-icon.svg",alt:"attendence"}),(0,d.jsxs)("p",{children:[" ",s("attendance")," "]})]})}),(0,d.jsx)(j.Z,{carryParentState:t,activeTab:"subject-assignment",children:(0,d.jsxs)("div",{className:h.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/subject/subject-assignment-icon.svg",alt:"assignment"}),(0,d.jsx)("p",{children:s("assigmnent")})]})}),(0,d.jsx)(j.Z,{carryParentState:t,activeTab:"subject-exam",children:(0,d.jsxs)("div",{className:h.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/department/department-examination-icon.svg",alt:"attendence"}),(0,d.jsx)("p",{children:s("examinations")})]})}),(0,d.jsx)(j.Z,{carryParentState:t,activeTab:"subject-academic",children:(0,d.jsxs)("div",{className:h.Z.itemIcon,children:[(0,d.jsx)("img",{src:"/images/member_tab/subject/subject-daily-update-icon.svg",alt:"student Request"}),(0,d.jsx)("p",{style:{textAlign:"center"},children:s("academics_teachings")})]})})]})})})};var p=a(17121),g=a(11457),_=a(73453),N=a(60463),Z=a(81551),f=a(6763),y=a(61587);const T=e=>{var t,a,i,j,h,b,T,S,I,A,D,E,C,P,k,M,R,w,F,q,U,O,H,V,L,J;let{carryParentState:G,viewAs:B,did:$,instituteId:Y}=e;const{t:K}=(0,l.$G)(),z=(0,s.TH)(),[Q]=(0,n.lr)();return(0,d.jsx)(d.Fragment,{children:"subject-academic-detail"===Q.get("a")?(0,d.jsx)(Z.Z,{}):"assignment-detail"===Q.get("a")?(0,d.jsx)(f.Z,{isDepartment:B,carryParentState:G}):"assignment-student-detail"===Q.get("a")?(0,d.jsx)(y.Z,{isDepartment:B}):(0,d.jsx)("div",{className:o.Z.departmenthead,children:(0,d.jsxs)("div",{className:o.Z.demaprtment_list,children:[(0,d.jsx)("div",{className:o.Z.with_search,style:{marginBottom:"0.7rem",alignItems:"flex-start",flexDirection:"column"},children:"subject"===(null===(t=Q.get("a"))||void 0===t?void 0:t.substring(0,7))?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("h6",{children:[K("subject_name")," : ",null!==(a=null===(i=z.state)||void 0===i?void 0:i.subjectName)&&void 0!==a?a:""]}),(0,d.jsxs)("h6",{children:[K("subject_teacher")," : ",null!==(j=null===(h=z.state)||void 0===h?void 0:h.subjectTeacherName)&&void 0!==j?j:""]})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("h6",{children:[K("class_name")," : ",null!==(b=null===(T=z.state)||void 0===T?void 0:T.clsName)&&void 0!==b?b:""]}),(0,d.jsxs)("h6",{children:[K("class_teacher")," : ",null!==(S=null===(I=z.state)||void 0===I?void 0:I.teacherName)&&void 0!==S?S:""]})]})}),"subject-detail"===Q.get("a")?(0,d.jsx)(x,{carryParentState:G,isDepartment:B}):"subject-catalog"===Q.get("a")?(0,d.jsx)(v.Z,{cid:null===(A=z.state)||void 0===A?void 0:A.clsId,bid:null===(D=z.state)||void 0===D?void 0:D.batchId,isDepartment:B,sid:null===(E=z.state)||void 0===E?void 0:E.subjectId}):"subject-attendance"===Q.get("a")?(0,d.jsx)(p.Z,{sid:null===(C=z.state)||void 0===C?void 0:C.subjectId,bid:null===(P=z.state)||void 0===P?void 0:P.batchId,isDepartment:B,subjectName:null!==(k=null===(M=z.state)||void 0===M?void 0:M.subjectName)&&void 0!==k?k:""}):"subject-assignment"===Q.get("a")?(0,d.jsx)(g.Z,{sid:null===(R=z.state)||void 0===R?void 0:R.subjectId,cid:null===(w=z.state)||void 0===w?void 0:w.clsId,carryParentState:G,bid:null===(F=z.state)||void 0===F?void 0:F.batchId,isDepartment:B}):"subject-exam"===Q.get("a")?(0,d.jsx)(_.Z,{sid:null===(q=z.state)||void 0===q?void 0:q.subjectId,cid:null===(U=z.state)||void 0===U?void 0:U.clsId,isDepartment:B}):"subject-academic"===Q.get("a")?(0,d.jsx)(N.Z,{sid:null===(O=z.state)||void 0===O?void 0:O.subjectId,carryParentState:G,isDepartment:B}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(c,{carryParentState:G}),"class-detail"===Q.get("a")&&(0,d.jsx)(r.Z,{cid:z.state.clsId,openAs:"SUBJECT_TEACHER",isDepartment:!0}),"class-subject"===Q.get("a")&&(0,d.jsx)(u.Z,{carryParentState:G,clsId:null===(H=z.state)||void 0===H?void 0:H.clsId,isView:"DEPARTMENT_HEAD",instituteId:Y,did:$}),"class-attendance"===Q.get("a")&&(0,d.jsx)(m.Z,{cid:null===(V=z.state)||void 0===V?void 0:V.clsId,isDepartment:!0,className:null!==(L=null===(J=z.state)||void 0===J?void 0:J.clsName)&&void 0!==L?L:""})]})]})})})}},60463:(e,t,a)=>{a.d(t,{Z:()=>g});var s=a(72791),n=a(83401),l=a(39230),i=a(98094),d=a(99532),c=a(23441),o=a(65543),r=a(40444),u=a(34219),v=a(11105),m=a(80184);const j=e=>{var t;let{sid:a,reftechStatus:n,setReftechStatus:l,isDepartment:i}=e;const[j,h]=(0,s.useState)(!0),[b,x]=(0,s.useState)(1),[p,g]=(0,c.YD)(),[_,N]=(0,s.useState)([]),[Z,f]=(0,s.useState)(!0),{scrollToTop:y}=(0,o.u)(),{getAllDailySubject:T,getAllDailySubjectRefetch:S}=(0,r.RX)({data:{sid:a,page:n?1:b,limit:10},skip:!a});(0,s.useEffect)((()=>{n&&(x((e=>1)),l(!1),S())}),[n]),(0,s.useEffect)((()=>{a&&(f(!0),S())}),[a,b,S]),(0,s.useEffect)((()=>{y()}),[y]),(0,s.useEffect)((()=>{g&&j&&x((e=>e+1))}),[g,j]),(0,s.useEffect)((()=>{var e,t;null!==T&&void 0!==T&&T.dailyUpdate?(N(1===b?null===T||void 0===T?void 0:T.dailyUpdate:e=>[...new Set([...e,...null===T||void 0===T?void 0:T.dailyUpdate].map(JSON.stringify))].map(JSON.parse)),f(!1)):0===(null===T||void 0===T||null===(e=T.dailyUpdate)||void 0===e?void 0:e.length)&&f(!1),10===(null===T||void 0===T||null===(t=T.dailyUpdate)||void 0===t?void 0:t.length)?h(!0):h(!1)}),[null===T||void 0===T?void 0:T.dailyUpdate]);const I=()=>{x((e=>1)),f(!0),S()};return(0,m.jsxs)(m.Fragment,{children:[null===_||void 0===_?void 0:_.map(((e,t)=>(null===_||void 0===_?void 0:_.length)===t+1?(0,m.jsx)("div",{ref:p,children:(0,m.jsx)(d.Z,{daily:e,sid:a,onParentRefetch:I,isView:i?"STUDENT":""})},null===e||void 0===e?void 0:e._id):(0,m.jsx)(d.Z,{daily:e,sid:a,onParentRefetch:I,isView:i?"STUDENT":""},null===e||void 0===e?void 0:e._id))),!Z&&!(null!==T&&void 0!==T&&null!==(t=T.dailyUpdate)&&void 0!==t&&t.length)&&(0,m.jsx)(u.Z,{customStyleContainer:{marginTop:"9rem"},title:"No academics found yet."}),Z&&(0,m.jsx)(v.Z,{status:"white"})]})};var h=a(10515),b=a(4213),x=a(16871),p=a(43504);const g=e=>{let{sid:t,carryParentState:a,isDepartment:d}=e;const{t:c}=(0,l.$G)(),o=(0,x.UO)(),[r,u]=(0,s.useState)(!1),[v,g]=(0,s.useState)(!1),[_,N]=(0,s.useState)(!1),Z=()=>{u((e=>!e))};return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:n.Z.subject_academic_container,children:[(0,m.jsxs)("div",{className:n.Z.subject_academic_title,children:[(0,m.jsx)("h6",{children:c("academics_teachings")}),(0,m.jsx)("div",{className:n.Z.subject_academic_link,children:"CLASS_TEACHER"===d?(0,m.jsx)(p.rU,{to:"/q/".concat(o.username,"/member/class/").concat(o.cname,"?a=subject-academic-detail"),state:{...a,subjectId:t,isView:"DEPARTMENT_HEAD"},children:(0,m.jsx)("h6",{className:n.Z.add_record_lecture,style:{margin:"0"},children:c("view_academic_detail")})}):"DEPARTMENT_HEAD"===d?(0,m.jsx)(p.rU,{to:"/q/".concat(o.username,"/member/department/").concat(o.deptname,"?a=subject-academic-detail"),state:{...a,subjectId:t,isView:"DEPARTMENT_HEAD"},children:(0,m.jsx)("h6",{className:n.Z.add_record_lecture,style:{margin:"0"},children:c("view_academic_detail")})}):(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(p.rU,{to:"/q/".concat(o.username,"/member/subject/").concat(o.sname,"?a=subject-academic"),state:{...a,subjectId:t,isView:d?"DEPARTMENT_HEAD":"SUBJECT_TEACHER",isSubType:"SUBJECT_TEACHER_INSTITUTE"},children:(0,m.jsx)("h6",{className:n.Z.add_record_lecture,style:{margin:"0"},children:c("view_academic_detail")})})})})]}),(0,m.jsx)(i.Z,{customStyle:{width:"100%",marginTop:"0.7rem",marginBottom:"0.7rem"}}),d?null:(0,m.jsx)("div",{className:n.Z.record_lecture,children:(0,m.jsx)("h6",{className:n.Z.add_record_lecture,onClick:Z,children:c("record_lecture_teachings")})}),r&&(0,m.jsx)(h.Z,{onClose:Z,sid:t,onRefetch:()=>{N(!0)}}),v&&(0,m.jsx)(b.Z,{onClose:()=>{g((e=>!e))},sid:t}),(0,m.jsx)(j,{sid:t,reftechStatus:_,setReftechStatus:N,isDepartment:d})]})})}},99532:(e,t,a)=>{a.d(t,{Z:()=>j});var s=a(72791),n=a(83401),l=a(72426),i=a.n(l),d=a(39230),c=a(69721),o=a(10307),r=a(80184);const u=e=>{var t,a,s,l,u,v,m;let{isView:j,updateDescription:h,upadateImage:b,createdAt:x,subject:p,ytLink:g}=e;const{t:_}=(0,d.$G)();return(0,r.jsxs)("div",{className:n.Z.aditional_info_container,children:["STUDENT"===j?(0,r.jsxs)("div",{className:n.Z.aditional_info_dates,children:[(0,r.jsx)("h5",{children:null!==(t=null===p||void 0===p?void 0:p.subjectName)&&void 0!==t?t:""}),(0,r.jsx)("h6",{children:"".concat(null!==(a=null===p||void 0===p||null===(s=p.subjectTeacherName)||void 0===s?void 0:s.staffFirstName)&&void 0!==a?a:""," ").concat(null!==(l=null===p||void 0===p||null===(u=p.subjectTeacherName)||void 0===u?void 0:u.staffMiddleName)&&void 0!==l?l:""," ").concat(null!==(v=null===p||void 0===p||null===(m=p.subjectTeacherName)||void 0===m?void 0:m.staffLastName)&&void 0!==v?v:"")})]}):null,h||(null===b||void 0===b?void 0:b.length)>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h6",{children:_("additional_info")}),(0,r.jsx)("p",{children:h}),g?(0,r.jsx)("a",{href:"".concat(g),target:"_blank",rel:"noopener noreferrer",style:{color:"#00f"},children:g}):null,(null===b||void 0===b?void 0:b.length)>0?(0,r.jsx)("div",{className:n.Z.aditional_info_images,children:null===b||void 0===b?void 0:b.map((e=>(0,o.Y)(null===e||void 0===e?void 0:e.documentKey)?(0,r.jsx)("a",{title:"view File",href:"".concat(c.r3,"/").concat(null===e||void 0===e?void 0:e.documentKey),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,r.jsx)("img",{src:"".concat(c.yI,"/").concat(null===e||void 0===e?void 0:e.documentKey),alt:"files"},null===e||void 0===e?void 0:e.documentKey)}):null))}):null]}):null,(0,r.jsxs)("div",{className:n.Z.aditional_info_dates,children:[(0,r.jsx)("p",{children:i()(x).format("DD MMM yyyy")}),(0,r.jsx)("p",{children:i()(x).format("LT")})]})]})};var v=a(61292),m=a(10515);const j=e=>{var t;let{daily:a,sid:l,onParentRefetch:c,isView:o}=e;const{t:j}=(0,d.$G)(),[h,b]=(0,s.useState)("");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:n.Z.academic_card_container,children:[(0,r.jsxs)("div",{className:n.Z.academic_card_top,style:{justifyContent:"space-between"},children:[(0,r.jsxs)("div",{className:n.Z.academic_card_top_text,children:[(0,r.jsx)("img",{src:"/images/member_tab/subject/subject-topic-icon.svg",alt:"topic icon"}),(0,r.jsxs)("h6",{children:[i()(null===a||void 0===a?void 0:a.date).format("Do MMMM, yyyy"),": Topics Covered"]})]}),"STUDENT"===o?null:(0,r.jsxs)("h6",{onClick:()=>b(a),children:["(",j("edit_"),")"]})]}),null===a||void 0===a||null===(t=a.daily_topic)||void 0===t?void 0:t.map((e=>(0,r.jsx)(v.Z,{topic:null===e||void 0===e?void 0:e.topic,topicType:null===e||void 0===e?void 0:e.status,topicCurrentStatus:null===e||void 0===e?void 0:e.current_status,isView:"DAILY",teachingMethod:null===e||void 0===e?void 0:e.teaching_method},null===e||void 0===e?void 0:e._id))),(0,r.jsx)(u,{updateDescription:null===a||void 0===a?void 0:a.updateDescription,upadateImage:null===a||void 0===a?void 0:a.upadateImage,createdAt:null===a||void 0===a?void 0:a.createdAt,isView:o,subject:null===a||void 0===a?void 0:a.subject,ytLink:null===a||void 0===a?void 0:a.yt_link})]}),h&&(0,r.jsx)(m.Z,{onClose:()=>b(""),sid:l,onRefetch:c,dailyMenu:h})]})}},22984:(e,t,a)=>{a.d(t,{Z:()=>s});const s={studentMCQ:"Tabs_studentMCQ__JqqjO",mcqToptabs:"Tabs_mcqToptabs__YfEJB",mcqTop:"Tabs_mcqTop__eI5Gu",mcqTopItem:"Tabs_mcqTopItem__KkV+Q",active:"Tabs_active__j6mN9"}}}]);
//# sourceMappingURL=76452.66d6683f.chunk.js.map