"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[47513],{47513:(e,t,i)=>{i.r(t),i.d(t,{default:()=>v});var l=i(72791),n=i(95048),a=i(33992),s=i(13873),d=i(39230),o=i(98734),r=i(93339),c=i(62209),u=i(80184);const v=e=>{let{bid:t,setClick:i,editOneBatch:v,batchName:h,designation_send:m,batch_type:p,batchStatus:g,instituteId:b}=e;const{t:y}=(0,d.$G)(),[_,x]=(0,l.useState)([y("select_batch"),"Link With universal Batch",y("edit_"),y("delete"),"Remove Designation"]),j=(0,n.v9)((e=>e.idChange)),[k,f]=(0,l.useState)(""),[C]=(0,a.i5)(),[S,A]=(0,l.useState)(!1),[B]=(0,a.Iw)(),[N]=(0,a.N7)(),[Z]=(0,a.C2)(),[M]=(0,a.fY)(),[U]=(0,r.qd)(),{oneDepartmentRefetch:q}=(0,a._C)({did:null===j||void 0===j?void 0:j.did,skip:!1});(0,l.useEffect)((()=>{x("Identical"===p&&"No"===m?[y("select_batch"),"Link With universal Batch",y("edit_"),y("delete"),"Assign Designation","Remove Designation","UnLocked"===g?"Complete":"Uncomplete"]:[y("select_batch"),"Link With universal Batch",y("edit_"),y("delete"),"Remove Designation","UnLocked"===g?"Complete":"UnComplete"])}),[m,p,g]);const D=()=>{f("")};return(0,u.jsxs)(u.Fragment,{children:["Link_Universal"===k?(0,u.jsx)(c.Z,{onSelectStaff:e=>{t&&null!==e&&void 0!==e&&e._id&&(A((e=>!e)),D(),U({bid:null===e||void 0===e?void 0:e._id,bodyParameter:{link_batch:t}}).then((()=>{q(),A((e=>!e)),i(!1)})).catch({}))},onClose:D,selectedId:"",instituteId:b}):(0,u.jsx)(s.Z,{selectOptions:_,onClickOptionHandler:e=>{"Select Batch"===e?(A((e=>!e)),C({did:null===j||void 0===j?void 0:j.did,bid:t,batch:""}).then((()=>{q(),A((e=>!e)),i(!1)})).catch({})):"Edit"===e?(v({batchName:h,bid:t}),i(!1)):"Delete"===e?(A((e=>!e)),B({bid:t}).then((()=>{q(),A((e=>!e)),i(!1)})).catch({})):"Assign Designation"===e?(A((e=>!e)),N({bid:t}).then((()=>{q(),A((e=>!e)),i(!1)})).catch({})):"Remove Designation"===e?(A((e=>!e)),Z({bid:t}).then((()=>{q(),A((e=>!e)),i(!1)})).catch({})):"Link With universal Batch"===e?f("Link_Universal"):"Complete"!==e&&"UnComplete"!==e||(A((e=>!e)),M({bid:t}).then((()=>{q(),A((e=>!e)),i(!1)})).catch({}))}}),S&&(0,u.jsx)(o.Z,{})]})}},13873:(e,t,i)=>{i.d(t,{Z:()=>d});i(72791);const l="OptionWrapper_profileToolTip__M2lzl",n="OptionWrapper_triangle__WKhAY",a="OptionWrapper_profilelist__YbG++";var s=i(80184);const d=e=>{let{selectOptions:t,onClickOptionHandler:i}=e;return(0,s.jsxs)("div",{className:l,children:[(0,s.jsx)("div",{className:n}),(0,s.jsx)("div",{className:a,children:null===t||void 0===t?void 0:t.map(((e,t)=>(0,s.jsx)("div",{value:e,onClick:t=>{t.preventDefault(),i(e)},children:e},t)))})]})}},93339:(e,t,i)=>{i.d(t,{nt:()=>B,jx:()=>A,gJ:()=>N,EI:()=>S,jU:()=>C,tm:()=>Z,DL:()=>M,qd:()=>q,T5:()=>U});var l=i(2030),n=i(94811);const a=e=>e.query({query:e=>{var t;return"/v1/department/tab/manage/".concat(null===e||void 0===e?void 0:e.did,"/query?flow=").concat(null!==(t=null===e||void 0===e?void 0:e.flow)&&void 0!==t?t:"")},providesTags:["Tab_Manage"],serializeQueryArgs:e=>{let{endpointName:t}=e;return t},forceRefetch(e){let{currentArg:t,previousArg:i}=e;return t!==i}}),s=e=>e.mutation({query:e=>({url:"/v1/department/tab/manage/".concat(null===e||void 0===e?void 0:e.did,"/query"),method:n.Q0,body:e.tabManage}),invalidatesTags:["Tab_Manage"]}),d=e=>e.mutation({query:e=>({url:"/v1/attendance/department/".concat(e.did,"/holiday"),method:n.a4,body:e.holiday})}),o=e=>e.query({query:e=>"/v1/attendance/holiday/".concat(null===e||void 0===e?void 0:e.did,"?page=").concat(null===e||void 0===e?void 0:e.page,"&limit=").concat(null===e||void 0===e?void 0:e.limit),serializeQueryArgs:e=>{let{endpointName:t}=e;return t},transformResponse:(e,t,i)=>{var l,n;return null!==i&&void 0!==i&&i.search?{search:!0,list:null===e||void 0===e||null===(l=e.depart)||void 0===l?void 0:l.holiday}:{page:null===i||void 0===i?void 0:i.page,list:null===e||void 0===e||null===(n=e.depart)||void 0===n?void 0:n.holiday}},merge:(e,t)=>{var i;return null!==t&&void 0!==t&&t.search||1===(null===t||void 0===t?void 0:t.page)?t:void(null===e||void 0===e||null===(i=e.list)||void 0===i||i.push(...null===t||void 0===t?void 0:t.list))},forceRefetch(e){let{currentArg:t,previousArg:i}=e;return t!==i}}),r=e=>e.mutation({query:e=>({url:"/v1/attendance/holiday/".concat(e.hid,"/delete"),method:n.yY})}),c=e=>e.mutation({query:e=>({url:"/v2/ins/".concat(e.id,"/new/universal/batch/query"),method:n.Q0,body:e.bodyParameter})}),u=e=>e.query({query:e=>"/v2/ins/".concat(null===e||void 0===e?void 0:e.id,"/all/universal/batch/query?page=").concat(null===e||void 0===e?void 0:e.page,"&limit=").concat(null===e||void 0===e?void 0:e.limit,"&$search=").concat(e.search),serializeQueryArgs:e=>{let{endpointName:t}=e;return t},transformResponse:(e,t,i)=>null!==i&&void 0!==i&&i.search?{search:!0,list:null===e||void 0===e?void 0:e.all_batch}:{page:null===i||void 0===i?void 0:i.page,list:null===e||void 0===e?void 0:e.all_batch},merge:(e,t)=>{var i;return null!==t&&void 0!==t&&t.search||1===(null===t||void 0===t?void 0:t.page)?t:void(null===e||void 0===e||null===(i=e.list)||void 0===i||i.push(...null===t||void 0===t?void 0:t.list))},forceRefetch(e){let{currentArg:t,previousArg:i}=e;return t!==i}}),v=e=>e.mutation({query:e=>({url:"/v2/ins/".concat(e.id,"/select/universal/batch/query"),method:n.Q0,body:e.bodyParameter})}),h=e=>e.mutation({query:e=>({url:"/v2/ins/".concat(e.bid,"/link/universal/batch/query"),method:n.Q0,body:e.bodyParameter})}),m=l.z.injectEndpoints({endpoints:e=>({departmentTabManage:a(e),departmentTabController:s(e),departmentCreatedHoliday:d(e),departmentAllHoliday:o(e),departmentDeleteHoliday:r(e),instituteAddUniversalBatch:c(e),instituteAllUniversalBatch:u(e),instituteSelectUniversalBatch:v(e),instituteLinkUniversalBatch:h(e)})}),{useDepartmentTabManageQuery:p,useDepartmentTabControllerMutation:g,useDepartmentCreatedHolidayMutation:b,useDepartmentAllHolidayQuery:y,useDepartmentDeleteHolidayMutation:_,useInstituteAddUniversalBatchMutation:x,useInstituteAllUniversalBatchQuery:j,useInstituteSelectUniversalBatchMutation:k,useInstituteLinkUniversalBatchMutation:f}=m,C=e=>{const{data:t,refetch:i,isFetching:l}=p(e.data,{skip:e.skip});return{departmentTabManage:t,departmentTabManageRefetch:i,departmentTabManageLoading:l}},S=()=>{const[e]=g();return[e]},A=()=>{const[e]=b();return[e]},B=e=>{const{data:t,refetch:i,isFetching:l}=y(e.data,{skip:e.skip});return{departmentAllHoliday:t,departmentAllHolidayRefetch:i,departmentAllHolidayLoading:l}},N=()=>{const[e]=_();return[e]},Z=()=>{const[e]=x();return[e]},M=e=>{const{data:t,refetch:i,isFetching:l}=j(e.data,{skip:e.skip});return{instituteAllUniversalBatch:t,instituteAllUniversalBatchRefetch:i,instituteAllUniversalBatchLoading:l}},U=()=>{const[e]=k();return[e]},q=()=>{const[e]=f();return[e]}},62209:(e,t,i)=>{i.d(t,{Z:()=>x});var l=i(49806),n=i(48293),a=i(21348),s=i(90904),d=i(98684),o=i(39230),r=i(72791),c=i(23441),u=i(91427),v=i(57588),h=i(80184);const m=e=>{var t,i;let{cls:n,selectedId:a,onSelect:s,selectList:o,isMultiSelect:r,onMultiSelect:c}=e;return(0,h.jsx)(h.Fragment,{children:r?(0,h.jsxs)("div",{className:l.Z.assign_show_list_each,onClick:()=>{c(n)},style:{border:"0.5px solid #cacaca",marginBlock:"0.4rem",borderRadius:"6px",padding:"0.8rem 1rem"},children:[null!==o&&void 0!==o&&o.includes(null===n||void 0===n?void 0:n._id)?(0,h.jsx)("img",{src:"".concat(d.U_,"/check.svg"),alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,h.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"".concat(d.U_,"/uncheck.svg"),alt:"icon"}),(0,h.jsx)("div",{className:l.Z.assign_each_paragraph,children:(0,h.jsx)("h6",{children:null!==(t=null===n||void 0===n?void 0:n.batchName)&&void 0!==t?t:""})})]}):(0,h.jsx)("div",{className:l.Z.assign_show_list_each,style:a===(null===n||void 0===n?void 0:n._id)?{backgroundColor:"rgba(75, 26, 133, 0.1)",border:"0.5px solid #cacaca",marginBlock:"0.4rem",borderRadius:"6px",padding:"0.8rem 1rem"}:{border:"0.5px solid #cacaca",marginBlock:"0.4rem",borderRadius:"6px",padding:"0.8rem 1rem"},onClick:()=>{s(n)},children:(0,h.jsx)("div",{className:l.Z.assign_each_paragraph,children:(0,h.jsx)("h6",{children:null!==(i=null===n||void 0===n?void 0:n.batchName)&&void 0!==i?i:""})})})})};var p=i(55336),g=i(1669),b=i(2651),y=i(93638),_=i(93339);const x=e=>{var t,i,x,j;let{title:k,onClose:f,selectedId:C,onSelectStaff:S,instituteId:A,isMultiSelect:B,onMultiSelect:N,selectList:Z,onDone:M}=e;const{t:U}=(0,o.$G)(),[q,D]=(0,r.useState)(""),[L,R]=(0,r.useState)(1),[T,I]=(0,r.useState)(!0),[H,Q]=(0,c.YD)({skip:q}),{instituteAllUniversalBatch:w,instituteAllUniversalBatchLoading:O}=(0,_.DL)({data:{id:A,page:L,limit:10,search:q},skip:!A});(0,r.useEffect)((()=>{Q&&T&&R((e=>e+1))}),[Q,T]),(0,r.useEffect)((()=>{var e;if(null!==w&&void 0!==w&&null!==(e=w.list)&&void 0!==e&&e.length){var t;let e=(0,u.f)(null===w||void 0===w||null===(t=w.list)||void 0===t?void 0:t.length);I((()=>e))}}),[null===w||void 0===w||null===(t=w.list)||void 0===t?void 0:t.length]);const W=(0,r.useCallback)((0,v.J)((e=>{R((()=>1)),D(e)}),1500),[]),E=e=>{C===(null===e||void 0===e?void 0:e._id)||S(e)};return(0,h.jsx)(n.Z,{onClose:f,children:(0,h.jsxs)("div",{className:l.Z.modal_container,children:[(0,h.jsx)(a.Z,{children:(0,h.jsxs)("div",{className:l.Z.modal_container_outer_header,children:[(0,h.jsx)("div",{className:l.Z.modal_container_header,children:(0,h.jsx)("h6",{children:U(null!==k&&void 0!==k?k:"select_universal_batch")})}),(0,h.jsxs)("div",{className:l.Z.modal_container_btn_container,children:[B&&(0,h.jsx)(y.Z,{label:U("select"),count:null===Z||void 0===Z?void 0:Z.length,onAction:M,customStyle:{margin:"0",padding:"0.3rem 0.5rem"}}),(0,h.jsx)("img",{src:"".concat(d.J7,"/close.svg"),alt:"close icon",onClick:f})]})]})}),(0,h.jsx)(s.Z,{}),(0,h.jsxs)(a.Z,{customStyle:{paddingBottom:"1rem"},children:[(0,h.jsxs)("div",{className:l.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,h.jsx)("input",{type:"text",placeholder:U("search"),className:l.Z.assign_search_input,onChange:e=>{e.target.value?W(e.target.value):(R((()=>1)),D(""))},style:{width:"100%"}}),(0,h.jsx)("img",{src:"".concat(d.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===w||void 0===w||null===(i=w.list)||void 0===i?void 0:i.map(((e,t)=>{var i;return(null===w||void 0===w||null===(i=w.list)||void 0===i?void 0:i.length)===t+1?(0,h.jsx)("div",{ref:H,children:(0,h.jsx)(m,{cls:e,selectedId:C,onSelect:E,selectList:Z,isMultiSelect:B,onMultiSelect:N})},null===e||void 0===e?void 0:e._id):(0,h.jsx)(m,{cls:e,selectedId:C,onSelect:E,selectList:Z,isMultiSelect:B,onMultiSelect:N},null===e||void 0===e?void 0:e._id)})),O?q?(0,h.jsx)(p.Z,{}):(0,h.jsx)(g.Z,{}):q?0===(null===w||void 0===w||null===(x=w.list)||void 0===x?void 0:x.length)&&(0,h.jsx)(b.Z,{title:"No class found related this search.",customStyleContainer:{marginTop:"1.5rem"}}):0===(null===w||void 0===w||null===(j=w.list)||void 0===j?void 0:j.length)&&(0,h.jsx)(b.Z,{title:"No class.",customStyleContainer:{marginTop:"1.5rem"}})]})]})})}}}]);
//# sourceMappingURL=47513.9e691071.chunk.js.map