"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[26416],{26416:(e,l,s)=>{s.d(l,{Z:()=>A});var t=s(72791),i=s(39230),o=s(98684),a=s(48293),n=s(21348);const c="ExcelImport_mc__7QTcg",r="ExcelImport_mc_outer_header__M6u69",d="ExcelImport_mc_header__YQP2Z",m="ExcelImport_mc_step__z7AVn",u="ExcelImport_mcs_inner__fa27Q",v="ExcelImport_mcs_progress__7k+ck",_="ExcelImport_mcs_circle__jA7Om",p="ExcelImport_mcs_line__HaPNQ",h="ExcelImport_mcuy_file__lntGX",f="ExcelImport_mcf_card__0hIVi",x="ExcelImport_mcf_container__G6TWw",j="ExcelImport_mcf_card_paragraph__rXmdN",g="ExcelImport_mcfc_sample__76p69",y="ExcelImport_mcf_drag_area__qGi6B",N="ExcelImport_mc_excel_container__aSE+1",b="ExcelImport_mc_heading__XsMPY",S="ExcelImport_mc_content__Pkj6a",k="ExcelImport_mcc_inner__WM9qB";var I=s(80184);const E=e=>{let{onClose:l,step:s,children:t}=e;const{t:h}=(0,i.$G)();return(0,I.jsx)(a.Z,{onClose:l,customOverlayStyle:{width:"80%"},children:(0,I.jsxs)("div",{className:c,children:[(0,I.jsxs)(n.Z,{children:[(0,I.jsxs)("div",{className:r,children:[(0,I.jsx)("div",{className:d}),(0,I.jsx)("img",{src:"".concat(o.J7,"/close.svg"),alt:"close icon",onClick:l})]}),(0,I.jsxs)("div",{className:m,children:[(0,I.jsxs)("div",{className:u,children:[(0,I.jsx)("h6",{children:h("upload_file")}),(0,I.jsxs)("div",{className:v,children:[(0,I.jsx)("div",{className:_,style:{"--mcs-circle-bg":1===s?"#459ffc":"#bbdcfe"}}),(0,I.jsx)("div",{className:p,style:{"--mcs-circle-bg":1===s?"#459ffc":"#bbdcfe"}})]})]}),(0,I.jsxs)("div",{className:u,children:[(0,I.jsx)("h6",{children:h("review_mapping")}),(0,I.jsxs)("div",{className:v,children:[(0,I.jsx)("div",{className:_,style:{"--mcs-circle-bg":1===s?"#459ffc":"#bbdcfe"}}),(0,I.jsx)("div",{className:p,style:{"--mcs-circle-bg":2===s?"#459ffc":"#bbdcfe"}})]})]}),(0,I.jsxs)("div",{className:u,children:[(0,I.jsx)("h6",{children:h("finalize_import")}),(0,I.jsxs)("div",{className:v,children:[(0,I.jsx)("div",{className:_,style:{"--mcs-circle-bg":2===s?"#459ffc":"#bbdcfe"}}),(0,I.jsx)("div",{className:p,style:{"--mcs-circle-bg":"#459ffc",width:"0"}})]})]})]})]}),t]})})};var C=s(44226),Z=s(93638);const q=e=>{let{setFile:l,setStep:s}=e;const{t:a}=(0,i.$G)(),[n,c]=(0,t.useState)(!1),r=(0,t.useRef)(null),d=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?c(!0):"dragleave"===e.type&&c(!1)},m=function(e){e.preventDefault(),e.target.files&&e.target.files[0]&&(l(e.target.files[0]),s(1))};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("h2",{className:h,children:a("upload_your_file")}),(0,I.jsx)("div",{className:f,children:(0,I.jsxs)("form",{onDragEnter:d,onSubmit:e=>e.preventDefault(),onPaste:e=>{e.clipboardData.files.length&&(l(e.clipboardData.files[0]),s(1))},className:x,children:[(0,I.jsx)(C.Z,{onExcelFileUpload:m,assestUrl:"".concat(o.J7,"/xsxl.svg")}),(0,I.jsx)(Z.Z,{label:a("upload_file"),onAction:()=>{r.current.click()},customStyle:{margin:"0",marginTop:"0.5rem",padding:"0.2rem 0.8rem",fontWeight:"400",fontSize:"13px"}}),(0,I.jsx)("input",{ref:r,type:"file",id:"excel_grab_file",multiple:!1,onChange:m,style:{display:"none"}}),(0,I.jsx)("label",{id:"label-file-upload",htmlFor:"excel_grab_file",className:n?"drag-active":"",style:{height:"auto"},children:(0,I.jsx)("p",{className:j,style:{marginTop:"1rem"},children:"or drag and drop it here"})}),(0,I.jsx)("div",{className:j,children:"or paste a file"}),n&&(0,I.jsx)("div",{onDragEnter:d,onDragLeave:d,onDragOver:d,onDrop:e=>{e.preventDefault(),e.stopPropagation(),c(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&(l(e.dataTransfer.files[0]),s(1))},className:y}),(0,I.jsx)("div",{className:g,children:a("download_a_sample")})]})})]})},w=(0,t.memo)(q);var F=s(34045),R=s(52245);const D=e=>{let{selectLabel:l,onClick:s,selectedValue:a,options:n,customStyleContainer:c,customLabelStyle:r,customListStyle:d,errorShow:m,defalutValue:u,isDenied:v,customStyleArea:_}=e;const{t:p}=(0,i.$G)(),[h,f]=(0,t.useState)(!1),[x,j]=(0,t.useState)(""),[g,y]=(0,t.useState)(null!==n&&void 0!==n?n:[]);(0,t.useEffect)((()=>{null!==n&&void 0!==n&&n.length&&y(n)}),[null===n||void 0===n?void 0:n.length]);const N=()=>{v||f((e=>!e))};(0,t.useEffect)((()=>{u&&j(u)}),[u]);return(0,I.jsxs)("div",{className:R.Z.form_input_container,style:c,children:[(0,I.jsxs)("p",{className:R.Z.join_form_select_paragraph,style:r,children:[l,m&&(0,I.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",p("form_require_label")]})]}),(0,I.jsxs)("section",{className:R.Z.join_form_select_custom,onClick:N,style:_,children:[x?(0,I.jsx)("p",{className:R.Z.join_form_select_custom_paragraph,children:null!==x&&void 0!==x?x:""}):(0,I.jsx)("p",{className:R.Z.join_form_select_custom_paragraph,children:a}),h?(0,I.jsx)("img",{className:R.Z.join_form_select_custom_rotate_icon,src:"".concat(o.J7,"/down.svg"),alt:"categor icon"}):(0,I.jsx)("img",{className:R.Z.join_form_select_custom_icon,src:"".concat(o.J7,"/down.svg"),alt:"categor icon"})]}),h&&(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)("section",{className:R.Z.jfscl_option_list,style:d,children:[(0,I.jsxs)("div",{className:R.Z.jfsclol_search_container,children:[(0,I.jsx)("input",{type:"text",placeholder:p("search"),className:R.Z.jfsclolsc_input,onChange:e=>{if(e.target.value){let l=K(n,e.target.value);y(l)}else y(n)}}),(0,I.jsx)("img",{src:"".concat(o.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===g||void 0===g?void 0:g.map(((e,l)=>{var t;return(0,I.jsxs)("p",{onClick:()=>{return s(l=e),N(),void(null!==l&&void 0!==l&&l.name?j(null===l||void 0===l?void 0:l.name):j(l));var l},className:R.Z.join_form_select_custom_paragraph_option,children:[null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:e,null!==e&&void 0!==e&&e.isRequired?(0,I.jsxs)("span",{style:{color:"red"},children:[" ","*"]}):null]},l)})),0===(null===g||void 0===g?void 0:g.length)?(0,I.jsx)("p",{className:R.Z.join_form_select_custom_paragraph_option,children:p("no_results_found")}):""]})})]})},K=(e,l)=>null===e||void 0===e?void 0:e.filter((e=>{var s,t;return null!==e&&void 0!==e&&null!==(s=e.name)&&void 0!==s&&null!==(t=s.toLowerCase())&&void 0!==t&&t.includes(null===l||void 0===l?void 0:l.toLowerCase())?e:null}));var V=s(23984);const L=e=>{let{grabFile:l,setStep:s,setKeyCount:a,onImportFileInSystem:c,keyCount:r,requiredFormat:d}=e;const{t:m}=(0,i.$G)(),[u,v]=(0,t.useState)(null!==l&&void 0!==l?l:""),[_,p]=(0,t.useState)([]),[f,x]=(0,t.useState)({}),[j,g]=(0,t.useState)({}),[y,E]=(0,t.useState)([]),[C,q]=(0,t.useState)(null!==l&&void 0!==l?l:"");(0,t.useEffect)((()=>{null!==d&&void 0!==d&&d.length&&E(d)}),[null===d||void 0===d?void 0:d.length]),(0,t.useEffect)((()=>{l&&w(l)}),[l]);const w=async e=>{var l;const s=e,t=await s.arrayBuffer(),i=(0,F.ij)(t),o=i.Sheets[null===(l=i.SheetNames)||void 0===l?void 0:l[0]],a=F.P6.sheet_to_json(o,{raw:!1}),n=[];for(let c=0;c<(null===a||void 0===a?void 0:a.length);c++){for(let e in a[c]){let l=a[c][e];0===c&&n.push({title:e,firstValue:l,isMapped:!1,mappedKey:"",isRequired:!1,db_key:""})}break}v(a),p(n)};return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(n.Z,{customStyle:{width:"100%"},children:[(0,I.jsx)("h2",{className:h,children:m("review_the_mapping_of_your_fields")}),(0,I.jsxs)("div",{className:N,children:[(0,I.jsxs)("div",{className:b,children:[(0,I.jsx)("h6",{style:{flex:"0.4 0.4 8.2%"},children:m("import")}),(0,I.jsx)("h6",{style:{flex:"2 2 52%",textAlign:"left"},children:m("xslx_column")}),(0,I.jsx)("h6",{style:{flex:"1 1 5%"},children:m("mapped")}),(0,I.jsx)("h6",{style:{flex:"1 1 24%",marginRight:"1rem"},children:m("suite_field")})]}),null===_||void 0===_?void 0:_.map((e=>{var l,s;return(0,I.jsxs)("section",{className:S,children:[(0,I.jsx)("h6",{style:{flex:"0.4 0.4 8%",opacity:j[null===e||void 0===e?void 0:e.title]?"1":"0.5"},children:(0,I.jsx)("img",{src:j[null===e||void 0===e?void 0:e.title]?"".concat(o.U_,"/check.svg"):"".concat(o.U_,"/uncheck.svg"),alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},onClick:()=>{return l=null===e||void 0===e?void 0:e.title,void(f[l]&&!f[l].isRequired&&g((e=>({...e,[l]:!e[l]}))));var l}})}),(0,I.jsxs)("div",{style:{flex:"2 2 50%",opacity:j[null===e||void 0===e?void 0:e.title]?"1":"0.5"},className:k,children:[(0,I.jsx)("h6",{children:null===e||void 0===e?void 0:e.title}),(0,I.jsxs)("p",{children:[null===e||void 0===e||null===(l=e.firstValue)||void 0===l?void 0:l.substring(0,70),(null===e||void 0===e||null===(s=e.firstValue)||void 0===s?void 0:s.length)>70?"...":""]})]}),(0,I.jsx)("h6",{style:{flex:"1 1 5%",opacity:j[null===e||void 0===e?void 0:e.title]?"1":"0.5"},children:(0,I.jsx)("img",{src:null!==e&&void 0!==e&&e.mappedKey?"".concat(o.Fk,"/complete.svg"):"".concat(o.Fk,"/radio-grey.svg"),alt:"icon",style:{height:"1.3rem",borderRadius:"0"}})}),(0,I.jsx)(D,{selectedValue:m("select_a_field"),customStyleContainer:{flex:"1 1 25%",paddingInline:"1rem"},customStyleArea:null!==e&&void 0!==e&&e.isRequired?{border:"0.5px solid red"}:{},options:y,onClick:l=>((e,l)=>{let s=[..._],t={};for(let c=0;c<(null===s||void 0===s?void 0:s.length);c++){var i,o;(null===(i=s[c])||void 0===i?void 0:i.title)===e?(s[c].mappedKey=null===l||void 0===l?void 0:l.name,s[c].isMapped=!0,s[c].isRequired=null===l||void 0===l?void 0:l.isRequired,s[c].db_key=l[null===l||void 0===l?void 0:l.name],t[e]={name:null===l||void 0===l?void 0:l.name,[null===l||void 0===l?void 0:l.name]:l[null===l||void 0===l?void 0:l.name],isRequired:null===l||void 0===l?void 0:l.isRequired}):s[c].mappedKey&&(t[null===(o=s[c])||void 0===o?void 0:o.title]={name:s[c].mappedKey,[s[c].mappedKey]:s[c].db_key,isRequired:s[c].isRequired})}p(s),x(t),g((l=>({...l,[e]:!0})));const a=[];for(let c of d){let e=!1;for(let l in t){var n;if((null===(n=t[l])||void 0===n?void 0:n.name)===(null===c||void 0===c?void 0:c.name)){e=!0;break}}e||a.push(c)}E((()=>a))})(null===e||void 0===e?void 0:e.title,l),defalutValue:null===e||void 0===e?void 0:e.mappedKey,customListStyle:{opacity:"1"}})]},"key".concat(null===e||void 0===e?void 0:e.title))}))]}),(0,I.jsx)(V.Z,{customStyle:{justifyContent:"center"},children:(0,I.jsx)(Z.Z,{label:m("next"),onAction:()=>{const e=[...u],l=[];let s=0;for(let n=0;n<(null===e||void 0===e?void 0:e.length);n++){let c=0,r=0,d={};for(let l in e[n]){var t;let s=e[n][l];var i,o;if(null!==(t=f[l])&&void 0!==t&&t.name)d["key".concat(c)]={value:s,fomat_key:null===(i=f[l])||void 0===i?void 0:i.name,excel_key:l,db_key:f[l][null===(o=f[l])||void 0===o?void 0:o.name]},++r,++c}0===n&&(a(r),s=r),l.push(d)}q(l),console.info("mod_f",l),c(l,s)},customStyle:{width:"fit-content",paddingInline:"2rem"}})})]})})},P=(0,t.memo)(L),A=e=>{let{onClose:l,onImportFileInSystem:s,requiredFormat:i}=e;const[o,a]=(0,t.useState)(0),[n,c]=(0,t.useState)(""),[r,d]=(0,t.useState)(0);return(0,I.jsx)(E,{onClose:l,step:o,children:0===o?(0,I.jsx)(w,{setFile:c,file:n,setStep:a}):1===o?(0,I.jsx)(P,{grabFile:n,setStep:a,setKeyCount:d,onImportFileInSystem:s,keyCount:r,requiredFormat:i}):null})}},23984:(e,l,s)=>{s.d(l,{Z:()=>o});var t=s(80476),i=s(80184);const o=e=>{let{customStyle:l,children:s}=e;return(0,i.jsx)("div",{className:t.Z.btn_wrapper,style:l,children:s})}}}]);
//# sourceMappingURL=26416.6be17a96.chunk.js.map