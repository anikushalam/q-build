"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[8195,599],{26097:function(e,t,n){n.d(t,{Z:function(){return x}});var a=n(72791),i={complaints:"SwitchAccount_complaints__FOCV9",swichModal:"SwitchAccount_swichModal__nF+az",swichModalTop:"SwitchAccount_swichModalTop__04Wup",swichModalBody:"SwitchAccount_swichModalBody__UXEej",swichModalItem:"SwitchAccount_swichModalItem__2hXtK",swichModalText:"SwitchAccount_swichModalText__kn6r2",search_container:"SwitchAccount_search_container__U4FLB",search_container_text:"SwitchAccount_search_container_text__ifPi5",search_container_input:"SwitchAccount_search_container_input__Jrtnb",searchIcon:"SwitchAccount_searchIcon__wfOTB"},s=n(29439),l=n(5574),o=n(87232),c=n(69721),d=n(39230),r=n(78687),u=n(16871),_=n(74289),v=n(98734),f=n(11105),m=n(80184);function h(e){var t,n,l,o,d,f,h,p,x,j,g,N,y=e.data,b=(0,u.s0)(),w=(0,u.UO)(),Z=(0,r.useSelector)((function(e){return e.idChange.id})),C=(0,a.useState)(""),S=(0,s.Z)(C,2),L=S[0],T=S[1],I=(0,a.useState)(!1),A=(0,s.Z)(I,2),M=A[0],k=A[1],F=(0,_.iH)({data:{id:Z,active_member_role:L},skip:!L}).getActivatedMemberAccountRefetch,H=function(e){T(e)};return(0,a.useEffect)((function(){L&&(k((function(e){return!e})),F(),setTimeout((function(){b("/q/".concat(w.username,"/memberstab"),{state:{selectedAccount:L}}),k((function(e){return!e}))}),1e3))}),[L,F]),(0,m.jsxs)(m.Fragment,{children:[null!==y&&void 0!==y&&y.studentFirstName?(0,m.jsxs)("div",{className:i.swichModalItem,onClick:function(){return H(null===y||void 0===y?void 0:y._id)},children:[(0,m.jsx)("img",{id:"profileImg",alt:"",src:null!==y&&void 0!==y&&null!==(t=y.institute)&&void 0!==t&&t.insProfilePhoto?"".concat(c.yI,"/").concat(null===y||void 0===y||null===(n=y.institute)||void 0===n?void 0:n.insProfilePhoto):null!==y&&void 0!==y&&null!==(l=y.student_unit)&&void 0!==l&&l.hostel_unit_photo?"".concat(c.yI,"/").concat(null===y||void 0===y||null===(o=y.student_unit)||void 0===o?void 0:o.hostel_unit_photo):null!==y&&void 0!==y&&y.studentProfilePhoto?"".concat(c.yI,"/").concat(null===y||void 0===y?void 0:y.studentProfilePhoto):"/images/ins_default_profile.svg"}),(0,m.jsxs)("div",{className:i.swichModalText,children:[(0,m.jsx)("h6",{children:null!==(d=null!==(f=null===y||void 0===y||null===(h=y.institute)||void 0===h?void 0:h.insName)&&void 0!==f?f:"".concat(null!==y&&void 0!==y&&null!==(p=y.student_unit)&&void 0!==p&&p.hostel_unit_name?"".concat(null===y||void 0===y||null===(x=y.student_unit)||void 0===x?void 0:x.hostel_unit_name," (Hostel)"):""))&&void 0!==d?d:""}),(0,m.jsxs)("p",{children:[null===y||void 0===y?void 0:y.studentFirstName," ",null===y||void 0===y?void 0:y.studentMiddleName," ",null===y||void 0===y?void 0:y.studentLastName," ","(student)"]})]})]}):null!==y&&void 0!==y&&y.staffFirstName?(0,m.jsxs)("div",{className:i.swichModalItem,onClick:function(){return H(null===y||void 0===y?void 0:y._id)},children:[(0,m.jsx)("img",{id:"profileImg",alt:"",src:null!==y&&void 0!==y&&null!==(j=y.institute)&&void 0!==j&&j.insProfilePhoto?"".concat(c.yI,"/").concat(null===y||void 0===y||null===(g=y.institute)||void 0===g?void 0:g.insProfilePhoto):null!==y&&void 0!==y&&y.staffProfilePhoto?"".concat(c.yI,"/").concat(null===y||void 0===y?void 0:y.staffProfilePhoto):"/images/ins_default_profile.svg"}),(0,m.jsxs)("div",{className:i.swichModalText,children:[(0,m.jsx)("h6",{children:null===y||void 0===y||null===(N=y.institute)||void 0===N?void 0:N.insName}),(0,m.jsxs)("p",{children:[null===y||void 0===y?void 0:y.staffFirstName," ",null===y||void 0===y?void 0:y.staffMiddleName," ",null===y||void 0===y?void 0:y.staffLastName," ","(staff)"]})]})]}):"",M&&(0,m.jsx)(v.Z,{})]})}var p=function(){var e=(0,d.$G)().t,t=(0,u.s0)(),n=(0,r.useSelector)((function(e){return e.idChange.id})),c=(0,a.useState)(!0),_=(0,s.Z)(c,2),v=_[0],p=_[1],x=(0,a.useState)([]),j=(0,s.Z)(x,2),g=j[0],N=j[1],y=(0,o.I)(n,{skip:!n}),b=y.data,w=y.refetch;return(0,a.useEffect)((function(){n&&(p(!0),w())}),[w,n]),(0,a.useEffect)((function(){var e;null!==b&&void 0!==b&&b.role_query?(N(null===b||void 0===b?void 0:b.role_query),p(!1)):0===(null===b||void 0===b||null===(e=b.role_query)||void 0===e?void 0:e.length)&&p(!1)}),[null===b||void 0===b?void 0:b.role_query]),(0,m.jsx)(l.Z,{open:!0,onClose:function(){return t(-1)},children:(0,m.jsxs)("div",{className:i.swichModal,children:[(0,m.jsx)("div",{className:i.swichModalTop,onClick:function(){return t(-1)},children:e("switch_account")}),(0,m.jsxs)("div",{className:i.swichModalBody,children:[(0,m.jsx)("div",{className:i.search_container,style:{marginBottom:"0.6rem"},children:(0,m.jsxs)("div",{className:i.search_container_text,children:[(0,m.jsx)("img",{className:i.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,m.jsx)("input",{type:"text",placeholder:e("search-label"),onChange:function(e){if(e.target.value){var t,n=null===b||void 0===b||null===(t=b.role_query)||void 0===t?void 0:t.filter((function(t){return function(e,t){var n,a=null!==e&&void 0!==e&&e.studentFirstName?"".concat(null===e||void 0===e?void 0:e.studentFirstName," ").concat(null!==e&&void 0!==e&&e.studentMiddleName?"".concat(null===e||void 0===e?void 0:e.studentMiddleName," "):"").concat(null===e||void 0===e?void 0:e.studentLastName):"".concat(null===e||void 0===e?void 0:e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?"".concat(null===e||void 0===e?void 0:e.staffMiddleName," "):"").concat(null===e||void 0===e?void 0:e.staffLastName);return null!==a&&void 0!==a&&null!==(n=a.toLocaleLowerCase())&&void 0!==n&&n.includes(null===t||void 0===t?void 0:t.toLocaleLowerCase())?e:null}(t,e.target.value)}));N(n)}else N(null===b||void 0===b?void 0:b.role_query)},autoFocus:!0,style:{border:"0.029vw solid rgba(0, 0, 0, 0.15)",width:"370px",marginInline:"0.5rem"}})]})}),null===g||void 0===g?void 0:g.map((function(e,t){return(0,m.jsx)(h,{data:e},t)})),v&&(0,m.jsx)(f.Z,{})]})]})})};var x=function(){return(0,m.jsx)("div",{className:i.complaints,children:(0,m.jsx)(p,{})})}},55956:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ke}});var a=n(72791),i=n(42817),s=n(16871),l=n(29439),o="ViewProfile_studentForm__M4oPB",c="ViewProfile_imgcontainer__Ky3y2",d="ViewProfile_toprow__u8jwV",r="ViewProfile_textcontainer__9VYCS",u="ViewProfile_tabs__6RgI4",_="ViewProfile_tophead__zQPOG",v="ViewProfile_profile_head__rWzZC",f={studentMCQ:"Tabs_studentMCQ__N1mHE",mcqTop:"Tabs_mcqTop__1qx9V",mcqTopItem:"Tabs_mcqTopItem__pZxtQ",active:"Tabs_active__FHx1C"},m=n(80184);var h=function(e){var t=e.children,n=e.onclick,i=(0,a.useState)(!1),s=(0,l.Z)(i,2),o=s[0],c=s[1],d=(0,a.useState)({x:-1,y:-1}),r=(0,l.Z)(d,2),u=r[0],_=r[1];return(0,a.useEffect)((function(){-1!==u.x&&-1!==u.y?(c(!0),setTimeout((function(){return c(!1)}),1e3)):c(!1)}),[u]),(0,a.useEffect)((function(){o||_({x:-1,y:-1})}),[o]),(0,m.jsxs)("div",{className:"ripple_btn",onClick:function(e){_({x:e.clientX-e.target.offsetLeft,y:e.clientY-e.target.offsetTop}),n&&n(e)},children:[o?(0,m.jsx)("span",{className:"ripple"}):"",(0,m.jsx)("span",{className:"content",children:t})]})},p=n(39230);var x=function(e){var t=e.activeIndex,n=e.setActiveIndex,a=(0,p.$G)().t;return(0,m.jsxs)("div",{className:f.mcqTop,children:[(0,m.jsx)("div",{className:0===t?"".concat(f.mcqTopItem," ").concat(f.active):f.mcqTopItem,onClick:function(){return n(0)},children:(0,m.jsx)(h,{children:a("about")})}),(0,m.jsx)("div",{className:1===t?"".concat(f.mcqTopItem," ").concat(f.active," "):"".concat(f.mcqTopItem," ").concat(f.ripple),onClick:function(){return n(1)},children:(0,m.jsx)(h,{children:a("attendance")})}),(0,m.jsx)("div",{className:2===t?"".concat(f.mcqTopItem," ").concat(f.active):f.mcqTopItem,onClick:function(){return n(2)},children:(0,m.jsx)(h,{children:a("payroll")})})]})},j=n(37762),g=n(93433),N="StaffAttendence_staffAttendence__rWbTN",y="StaffAttendence_calendar__5OmhR",b="StaffAttendence_arrColors__A6T2A",w="StaffAttendence_colours__5XUKi",Z="StaffAttendence_clr__fLwuH",C="StaffAttendence_absent__7fbMH",S="StaffAttendence_holiday__qdLD1",L="StaffAttendence_leave__qU7pf",T="StaffAttendence_percentage__y12l-",I="StaffAttendence_presentcount__fC598",A="StaffAttendence_absentcount__OBD4I",M=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],k=["January","February","March","April","May","June","July","August","September","October","November","December"],F=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k,n=new Date,i="".concat(n.getDate(),"-").concat(n.getMonth()+1,"-").concat(n.getFullYear()),s=[1,2,3,4,5,6,0],o=(0,a.useState)(n),c=(0,l.Z)(o,2),d=c[0],r=c[1],u=new Date(d.getFullYear(),d.getMonth()+1,0),_=new Date(d.getFullYear(),d.getMonth(),0),v=u.getDate(),f=new Date(d.getFullYear(),d.getMonth(),1).getDay(),m=s.indexOf(f)+1,h=_.getDate()-s.indexOf(f)+1,p=1,x=1,j={},N=1;N<7;N++)for(var y=1;y<8;y++)j[N]||(j[N]=[]),1===N?y<m?(j[N]=[].concat((0,g.Z)(j[N]),[{classes:"in-prev-month",date:"".concat(h,"-").concat(0===d.getMonth()?12:d.getMonth(),"-").concat(0===d.getMonth()?d.getFullYear()-1:d.getFullYear()),value:h}]),h++):(j[N]=[].concat((0,g.Z)(j[N]),[{classes:"",date:"".concat(p,"-").concat(d.getMonth()+1,"-").concat(d.getFullYear()),value:p}]),p++):N>1&&p<v+1?(j[N]=[].concat((0,g.Z)(j[N]),[{classes:"",date:"".concat(p,"-").concat(d.getMonth()+1,"-").concat(d.getFullYear()),value:p}]),p++):(j[N]=[].concat((0,g.Z)(j[N]),[{classes:"in-next-month",date:"".concat(x,"-").concat(d.getMonth()+2===13?1:d.getMonth()+2,"-").concat(d.getMonth()+2===13?d.getFullYear()+1:d.getFullYear()),value:x}]),x++);return{daysShort:e,monthNames:t,todayFormatted:i,calendarRows:j,selectedDate:d,getPrevMonth:function(){r((function(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}))},getNextMonth:function(){r((function(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}))}}},H=function(e){var t=e.presentArr,n=e.absentArr,i=e.holidayArr,s=e.leavesArr,l=F(),o=l.calendarRows,c=l.selectedDate,d=l.todayFormatted,r=l.daysShort,u=l.monthNames,_=l.getNextMonth,v=l.getPrevMonth,f=function(e){var t=e.split("-"),n=t[0]>9?t[0]:"0".concat(t[0]),a=t[1]>9?t[1]:"0".concat(t[1]),i=t[2];return"".concat(n,"/").concat(a,"/").concat(i)};return(0,m.jsxs)(a.Fragment,{children:[(0,m.jsxs)("div",{className:"calenderheader",children:[(0,m.jsx)("div",{className:"monthbtn",onClick:v,children:(0,m.jsx)("img",{alt:"not found",src:"/images/members/arrow-left.svg"})}),(0,m.jsxs)("div",{className:"yearmonth",children:[(0,m.jsx)("h6",{children:"".concat(u[c.getMonth()])}),(0,m.jsx)("p",{children:"".concat(c.getFullYear())})]}),(0,m.jsx)("div",{className:"monthbtn",onClick:_,children:(0,m.jsx)("img",{alt:"not found",src:"/images/members/arrow-right.svg"})})]}),(0,m.jsxs)("table",{className:"table",children:[(0,m.jsx)("thead",{children:(0,m.jsx)("tr",{children:r.map((function(e){return(0,m.jsx)("th",{className:"day",children:e},e)}))})}),(0,m.jsx)("tbody",{children:Object.values(o).map((function(e){return(0,m.jsx)("tr",{children:e.map((function(e){return e.date===d?null!==s&&void 0!==s&&s.includes(f(e.date))?(0,m.jsx)("td",{className:"".concat(e.classes," date "),children:(0,m.jsx)("div",{className:"datediv aaji leave",children:e.value})},e.date):null!==t&&void 0!==t&&t.includes(f(e.date))?(0,m.jsx)("td",{className:"".concat(e.classes," date "),children:(0,m.jsx)("div",{className:"datediv aaji",children:e.value})},e.date):null!==n&&void 0!==n&&n.includes(f(e.date))?(0,m.jsx)("td",{className:"".concat(e.classes," date "),children:(0,m.jsx)("div",{className:"datediv aaji absent",children:e.value})},e.date):null!==i&&void 0!==i&&i.includes(f(e.date))?(0,m.jsx)("td",{className:"".concat(e.classes," date "),children:(0,m.jsx)("div",{className:"datediv aaji holiday",children:e.value})},e.date):(0,m.jsx)("td",{className:"".concat(e.classes," date "),children:(0,m.jsx)("div",{className:"datediv aaji",children:e.value})},e.date):null!==t&&void 0!==t&&t.includes(f(e.date))?(0,m.jsx)("td",{className:"".concat(e.classes," date"),children:(0,m.jsx)("div",{className:"datediv present",children:e.value})},e.date):null!==n&&void 0!==n&&n.includes(f(e.date))?(0,m.jsx)("td",{className:"".concat(e.classes," date"),children:(0,m.jsx)("div",{className:"datediv absent",children:e.value})},e.date):null!==i&&void 0!==i&&i.includes(f(e.date))?(0,m.jsx)("td",{className:"".concat(e.classes," date"),children:(0,m.jsx)("div",{className:"datediv holiday",children:e.value})},e.date):null!==s&&void 0!==s&&s.includes(f(e.date))?(0,m.jsx)("td",{className:"".concat(e.classes," date"),children:(0,m.jsx)("div",{className:"datediv leave",children:e.value})},e.date):(0,m.jsx)("td",{className:"".concat(e.classes," date"),children:(0,m.jsx)("div",{className:"datediv",children:e.value})},e.date)}))},e[0].date)}))})]})]})},q=n(65313);var D=function(e){var t,n,i=e.sid,s=(new Date).toISOString().split("-"),o=+s[1]>9?+s[1]:"0".concat(+s[1]),c=a.useState("Month"),d=(0,l.Z)(c,2),r=d[0],u=d[1],_=(0,q.QW)({sid:i,month:"Month"===r?o:"",year:+s[0]}),v=_.staffCalenderAttendance,f=_.staffCalenderAttendanceRefetch,h=(0,p.$G)().t,x=a.useState([]),M=(0,l.Z)(x,2),k=M[0],F=M[1],D=a.useState([]),E=(0,l.Z)(D,2),R=E[0],P=E[1],O=a.useState([]),G=(0,l.Z)(O,2),W=G[0],Y=G[1];a.useEffect((function(){if(v&&(F((0,g.Z)(null===v||void 0===v?void 0:v.presentArray)),P((0,g.Z)(null===v||void 0===v?void 0:v.absentArray)),null!==v&&void 0!==v&&v.leaves)){var e,t=[],n=(0,j.Z)(null===v||void 0===v?void 0:v.leaves);try{for(n.s();!(e=n.n()).done;){var a=e.value;t.push.apply(t,(0,g.Z)(a.date))}}catch(i){n.e(i)}finally{n.f()}Y(t)}}),[v]),a.useEffect((function(){f()}),[r]);var V=function(e){u(e)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:N,children:[(0,m.jsxs)("div",{className:y,children:[(0,m.jsx)(H,{presentArr:k,absentArr:R,holidayArr:[],leavesArr:W}),(0,m.jsxs)("div",{className:b,children:[(0,m.jsx)("div",{className:"".concat(Z," ").concat(C),children:h("absent")}),(0,m.jsx)("div",{className:"".concat(Z," ").concat(S),children:h("holiday_")}),(0,m.jsx)("div",{className:"".concat(Z," ").concat(L),children:"Leave"})]})]}),(0,m.jsxs)("div",{className:w,children:[(0,m.jsxs)("div",{class:"form-check",onClick:function(){return V("Month")},children:["Month"===r?(0,m.jsx)("img",{src:"/images/radio-active.svg "}):(0,m.jsx)("img",{src:"/images/radio-disabled.svg"}),(0,m.jsx)("p",{children:h("monthly")})]}),(0,m.jsxs)("div",{class:"form-check",onClick:function(){return V("Year")},children:["Year"===r?(0,m.jsx)("img",{src:"/images/radio-active.svg "}):(0,m.jsx)("img",{src:"/images/radio-disabled.svg"}),(0,m.jsx)("p",{children:h("yearly")})]})]})]}),(0,m.jsxs)("div",{className:T,children:[(0,m.jsxs)("div",{className:I,children:[(0,m.jsx)("p",{children:h("present_count")}),(0,m.jsxs)("p",{children:[null===v||void 0===v||null===(t=v.presentArray)||void 0===t?void 0:t.length,h("days")]}),(0,m.jsxs)("p",{children:[null===v||void 0===v?void 0:v.present,"%"]})]}),(0,m.jsxs)("div",{className:A,children:[(0,m.jsx)("p",{children:h("absent_count")}),(0,m.jsxs)("p",{children:[null===v||void 0===v||null===(n=v.absentArray)||void 0===n?void 0:n.length,h("days")]}),(0,m.jsxs)("p",{children:[null===v||void 0===v?void 0:v.absent,"%"]})]})]})]})},E=n(21588),R=n(91007),P=n(5574),O=n(33992),G=n(21559),W=n(98734),Y=n(69721),V="StaffFormPhoto_photoMain__AThMr",B="StaffFormPhoto_photoLabel__gxtsv",z=function(e){var t=e.sid,n=e.photoId,i=e.photoKey,s=(0,O.ar)(),o=(0,l.Z)(s,1)[0],c=(0,a.useState)(""),d=(0,l.Z)(c,2),r=d[0],u=d[1],_=(0,a.useState)(""),v=(0,l.Z)(_,2),f=v[0],h=v[1],p=(0,a.useState)(!1),x=(0,l.Z)(p,2),j=x[0],g=x[1],N=(0,a.useState)(!1),y=(0,l.Z)(N,2),b=y[0],w=y[1],Z=(0,a.useState)(!1),C=(0,l.Z)(Z,2),S=C[0],L=C[1],T=(0,a.useState)(""),I=(0,l.Z)(T,2),A=I[0],M=I[1];(0,a.useEffect)((function(){if(b){L((function(e){return!e}));var e=new FormData;e.append("file",f),o({profile:e,sid:t}).then((function(){L((function(e){return!e}))})).catch({})}}),[b,f]);return(0,m.jsxs)("div",{className:V,children:[A?(0,m.jsx)("img",{src:A,alt:"profile is not uploaded",style:{width:"100%",height:"100%"}}):(0,m.jsx)("img",{src:"1"!==n?"".concat(Y.yI,"/").concat(i):"/images/user_default_img.svg",alt:"",style:{width:"100%",height:"100%"}}),(0,m.jsx)("label",{htmlFor:"photo",className:B,children:(0,m.jsx)("img",{alt:"not found",className:B,src:"/images/edit1-icon.svg"})}),(0,m.jsx)("input",{id:"photo",name:"file",onChange:function(e){var t=URL.createObjectURL(e.target.files[0]);h(e.target.files[0]),M(t),u(t),g(!0)},type:"file",style:{display:"none"},accept:"image/gif, image/jpeg, image/png",required:!0}),j&&(0,m.jsx)(P.Z,{open:j,children:(0,m.jsx)(G.Z,{setPhotoURL:u,photoURL:r,setFile:h,setOpenCrop:g,setUpload:w,setProfilePhoto:M,first:1,second:1})}),S&&(0,m.jsx)(W.Z,{})]})},J=n(60600),K=n(49499);var U=function(e){var t,n,i,s,f,h,j,g,N,y,b,w,Z=e.staffData,C=(0,p.$G)().t,S=(0,a.useState)(0),L=(0,l.Z)(S,2),T=L[0],I=L[1],A=(0,a.useState)(!1),M=(0,l.Z)(A,2),k=M[0],F=M[1],H=(0,R.wB)(Z,{skip:!Z}),q=H.data,P=H.refetch;return(0,a.useEffect)((function(){Z&&P()}),[Z,P]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:o,children:[(0,m.jsx)("div",{className:v,children:(0,m.jsx)("div",{className:_,children:"Profile In Institute"})}),(0,m.jsxs)("div",{className:d,children:[(0,m.jsx)("div",{className:c,children:(0,m.jsx)(z,{photoKey:null===q||void 0===q||null===(t=q.staff)||void 0===t?void 0:t.staffProfilePhoto,photoId:null===q||void 0===q||null===(n=q.staff)||void 0===n?void 0:n.photoId,sid:null===q||void 0===q||null===(i=q.staff)||void 0===i?void 0:i._id})}),(0,m.jsxs)("div",{className:r,children:[(0,m.jsxs)("h6",{children:[null===q||void 0===q||null===(s=q.staff)||void 0===s?void 0:s.staffFirstName," ",null!==q&&void 0!==q&&null!==(f=q.staff)&&void 0!==f&&f.staffMiddleName?null===q||void 0===q||null===(h=q.staff)||void 0===h?void 0:h.staffMiddleName:""," ",null===q||void 0===q||null===(j=q.staff)||void 0===j?void 0:j.staffLastName]}),(0,m.jsxs)("p",{children:[" ",C("index_no"),". ",null===q||void 0===q||null===(g=q.staff)||void 0===g?void 0:g.staffROLLNO]}),(0,m.jsxs)("p",{children:[" ",C("designations"),": ",null===q||void 0===q||null===(N=q.staff)||void 0===N?void 0:N.staffDesignationCount]})]})]}),(0,m.jsx)("div",{className:u,children:(0,m.jsx)(x,{activeIndex:T,setActiveIndex:I})}),0===T&&(0,m.jsx)(J.Z,{staff:null===q||void 0===q?void 0:q.staff,viewAs:"STAFF_OWN"}),1===T&&(0,m.jsx)(D,{sid:null===q||void 0===q||null===(y=q.staff)||void 0===y?void 0:y._id}),2===T&&(0,m.jsx)(E.default,{sid:null===q||void 0===q||null===(b=q.staff)||void 0===b?void 0:b._id})]}),k&&(0,m.jsx)(K.Z,{createdBy:"OWN_PROFILE",staffId:null===q||void 0===q||null===(w=q.staff)||void 0===w?void 0:w._id,onRefetch:P,onClose:function(){F((function(e){return!e}))}})]})},$="Complaints_complaints__zSm-J",Q="Complaints_complaintDetail__FqKdQ",X="Complaints_complaintList__2pa3v",ee={complaintList:"ComplaintList_complaintList__AncqY",listcontainer:"ComplaintList_listcontainer__NnO-R",heading:"ComplaintList_heading__dffHT",listHead:"ComplaintList_listHead__ox7DD",tabs:"ComplaintList_tabs__f3YJH",item:"ComplaintList_item__Tw7T-",text:"ComplaintList_text__MQbnE",to:"ComplaintList_to__IEMdc",datetime:"ComplaintList_datetime__PK0+5",solved:"ComplaintList_solved__LTgHh",unsolved:"ComplaintList_unsolved__yztBr",dots:"ComplaintList_dots__XPKxQ",button:"ComplaintList_button__C1xWG",menu:"ComplaintList_menu__0wYna",menuItem:"ComplaintList_menuItem__vh9c6"},te=n(72426),ne=n.n(te),ae=n(64540);function ie(e){var t=e.open,n=e.onClose,a=e.cid,i=e.refetch,s=(0,p.$G)().t,o=(0,ae.bd)(),c=(0,l.Z)(o,1)[0];if(!t)return null;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{onClick:n,style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10}}),(0,m.jsx)("div",{className:ee.menu,style:{position:"absolute",zIndex:10},children:(0,m.jsx)("div",{className:ee.menuItem,onClick:function(){c(a).then((function(e){i(),n()})).catch({})},children:s("remove_complaint")})})]})}function se(e){var t=e.setShowDetails,n=e.complaint,i=e.setCDetails,s=e.refetch,o=(0,a.useState)(!1),c=(0,l.Z)(o,2),d=c[0],r=c[1],u=(0,p.$G)().t;return(0,m.jsxs)("div",{className:ee.item,onClick:function(){t(!0),i(n)},children:[(0,m.jsx)("img",{src:"/images/members/staff-complain-icon.svg",alt:""}),(0,m.jsxs)("div",{className:ee.text,children:[(0,m.jsxs)("h6",{children:[null===n||void 0===n?void 0:n.complaintType," Complaint"]}),(0,m.jsxs)("div",{className:ee.datetime,children:[(0,m.jsxs)("p",{children:[" ",u("date"),": ",ne()(null===n||void 0===n?void 0:n.createdAt).format("LL")]}),"Unsolved"===(null===n||void 0===n?void 0:n.complaintStatus)?(0,m.jsx)("p",{className:ee.unsolved,children:null===n||void 0===n?void 0:n.complaintStatus}):(0,m.jsx)("p",{className:ee.solved,children:null===n||void 0===n?void 0:n.complaintStatus})]})]}),(0,m.jsx)("img",{className:ee.dots,src:"/images/menu-dots-icon.svg",alt:"",onClick:function(){return r(!0)}}),d&&(0,m.jsx)(ie,{open:d,onClose:function(){return r(!1)},cid:null===n||void 0===n?void 0:n._id,refetch:s})]})}var le=function(e){var t=e.setShowDetails,n=e.complaints,a=e.setCDetails,i=e.refetch,s=(0,p.$G)().t;return(0,m.jsxs)("div",{className:ee.complaintList,children:[(0,m.jsx)("h6",{className:ee.heading,children:s("complaint_list")}),(0,m.jsx)("div",{className:ee.listcontainer,children:null===n||void 0===n?void 0:n.map((function(e,n){return(0,m.jsx)(se,{complaint:e,setShowDetails:t,setCDetails:a,refetch:i},n)}))}),(0,m.jsx)("div",{className:ee.button,onClick:function(){return t(!1)},children:s("make_new_complaint")})]})},oe="ComplaintDetails_complaintDetails__-WhJ2",ce="ComplaintDetails_detailsheader__W0KOL",de="ComplaintDetails_detailsbody__YEngl",re="ComplaintDetails_footer__TiXAq",ue="ComplaintDetails_red__oLLLm";var _e=function(e){var t=e.cDetail,n=(0,p.$G)().t;return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:oe,children:[(0,m.jsx)("div",{className:ce,children:n("complaint")}),(0,m.jsx)("hr",{}),(0,m.jsxs)("div",{className:de,children:[(0,m.jsxs)("h6",{children:[null===t||void 0===t?void 0:t.complaintType,n("complaint")]}),(0,m.jsx)("p",{children:null===t||void 0===t?void 0:t.complaintContent}),(0,m.jsx)("div",{className:re,children:(0,m.jsx)("h6",{className:ue,children:null===t||void 0===t?void 0:t.complaintStatus})})]})]})})},ve=n(1413),fe={newComplain:"NewComplain_newComplain__bmRXA",newComplainheader:"NewComplain_newComplainheader__lTktp",input:"NewComplain_input__2cFBM",down:"NewComplain_down__FeNuz",options:"NewComplain_options__Ql4m1",option:"NewComplain_option__bWUTa",postTextarea:"NewComplain_postTextarea__3iUB6",submitbtn:"NewComplain_submitbtn__y5E6Z",disablebtn:"NewComplain_disablebtn__bOFPG"},me=n(36721),he=(n(68825),{position:"relative",zIndex:1}),pe={position:"absolute",left:"14.5vw",top:"9.5vw",zIndex:10},xe={position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10};function je(e){var t=e.setComplaintData,n=e.open,a=e.onClose,i=e.complaintData,s=e.setIsOpen,l=(0,p.$G)().t;return n?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{onClick:a,style:xe}),(0,m.jsxs)("div",{style:pe,className:fe.options,children:[(0,m.jsx)("div",{className:fe.option,onClick:function(){t((0,ve.Z)((0,ve.Z)({},i),{},{type:"Open"})),s(!1)},children:l("open_complaint")}),(0,m.jsx)("div",{className:fe.option,onClick:function(){t((0,ve.Z)((0,ve.Z)({},i),{},{type:"Anonymous"})),s(!1)},children:l("anonymous_complaint")})]})]}):null}var ge=function(e){var t=e.staffId,n=e.toast,i=e.setToast,s=(0,a.useState)(!1),o=(0,l.Z)(s,2),c=o[0],d=o[1],r=(0,a.useState)(!1),u=(0,l.Z)(r,2),_=u[0],v=u[1],f=(0,ae.N)(),h=(0,l.Z)(f,1)[0],x=(0,p.$G)().t,j=(0,a.useState)(""),g=(0,l.Z)(j,2),N=g[0],y=g[1],b=(0,a.useState)({type:"",content:""}),w=(0,l.Z)(b,2),Z=w[0],C=w[1],S=document.querySelector("textarea");return null===S||void 0===S||S.addEventListener("keyup",(function(e){S.style.height="auto";var t=e.target.scrollHeight;S.style.height="".concat(t,"px")})),(0,m.jsxs)("div",{className:fe.newComplain,children:[(0,m.jsx)(me.qu,{msg:N,run:n,setRun:i}),(0,m.jsx)("h6",{className:fe.newComplainheader,children:x("make_complaint")}),(0,m.jsx)("div",{className:fe.input,style:he,children:(0,m.jsxs)("div",{children:["Open"===(null===Z||void 0===Z?void 0:Z.type)?(0,m.jsx)("h6",{onClick:function(){return d(!0)},children:x("open_complaint")}):"Anonymous"===(null===Z||void 0===Z?void 0:Z.type)?(0,m.jsx)("h6",{onClick:function(){return d(!0)},children:x("anonymous_complaint")}):(0,m.jsx)("h6",{onClick:function(){return d(!0)},children:x("comp_type")}),(0,m.jsx)("img",{className:fe.down,src:"/images/downn-icon.svg",alt:""})]})}),(0,m.jsx)(je,{open:c,onClose:function(){return d(!1)},setComplaintData:C,complaintData:Z,setIsOpen:d}),(0,m.jsx)("textarea",{className:fe.postTextarea,type:"text",required:!0,name:"CreateInsPost",placeholder:x("comp_des"),value:Z.content,onChange:function(e){return C((0,ve.Z)((0,ve.Z)({},Z),{},{content:e.target.value}))}}),Z.type&&Z.content?(0,m.jsx)("div",{className:fe.submitbtn,onClick:function(){v((function(e){return!e}));var e=new FormData;e.append("complaintType",Z.type),e.append("complaintContent",Z.content),h({sid:t&&t,complaintData:{complaintType:Z.type,complaintContent:Z.content}}).then((function(e){e.data.message&&(y("Successfully Submitted"),i(!0),C((0,ve.Z)((0,ve.Z)({},Z),{},{content:"",type:""})),v((function(e){return!e})))}))},children:x("send_complaint")}):(0,m.jsx)("div",{className:"".concat(fe.submitbtn," ").concat(fe.disablebtn),children:x("send_complaint")}),_&&(0,m.jsx)(W.Z,{})]})};var Ne=function(e){var t=e.staffId,n=(0,a.useState)(!1),i=(0,l.Z)(n,2),s=i[0],o=i[1],c=(0,a.useState)(),d=(0,l.Z)(c,2),r=d[0],u=d[1],_=(0,a.useState)(!1),v=(0,l.Z)(_,2),f=v[0],h=v[1],p=(0,ae.AO)(t,{skip:!t}),x=p.data,j=p.refetch;return(0,a.useEffect)((function(){j()}),[f]),(0,m.jsxs)("div",{className:$,children:[(0,m.jsxs)("div",{className:Q,children:[s&&(0,m.jsx)(_e,{cDetail:r}),!s&&(0,m.jsx)(ge,{staffId:t,toast:f,setToast:h})]}),(0,m.jsx)("div",{className:X,children:(0,m.jsx)(le,{setShowDetails:o,complaints:null===x||void 0===x?void 0:x.complaints,setCDetails:u,refetch:j})})]})},ye="Transfers_complaints__FOY0l",be="Transfers_complaintDetail__AZ60r",we={addDisplay:"ReasonModal_addDisplay__yhKhM",title:"ReasonModal_title__fT5GM",content:"ReasonModal_content__hGRYZ",item:"ReasonModal_item__oKaXt",btn:"ReasonModal_btn__uecou",active:"ReasonModal_active__Jx-ns"};var Ze=function(e){var t=e.addDisplay,n=e.selectedReason,i=e.setSelectedReason,s=e.staffId,o=e.setToast,c=e.setvMessage,d=e.onCloseModal,r=(0,ae.UG)(),u=(0,l.Z)(r,1)[0],_=document.querySelector("textarea"),v=(0,p.$G)().t,f=(0,a.useState)(!1),h=(0,l.Z)(f,2),x=h[0],j=h[1];return null===_||void 0===_||_.addEventListener("keyup",(function(e){_.style.height="auto";var t=e.target.scrollHeight;_.style.height="".concat(t,"px")})),(0,m.jsxs)(P.Z,{open:t,onClose:function(){return d()},children:[(0,m.jsxs)("div",{className:we.addDisplay,children:[(0,m.jsx)("div",{className:we.title,children:(0,m.jsx)("h6",{children:v("add_leave_reason")})}),(0,m.jsxs)("div",{className:we.content,children:[(0,m.jsx)("div",{className:we.item,children:(0,m.jsx)("textarea",{className:we.postTextarea,type:"text",required:!0,name:"CreateInsPost",placeholder:v("enter_reason"),value:n,onChange:function(e){return i(e.target.value)}})}),n?(0,m.jsx)("div",{className:"".concat(we.btn," ").concat(we.active),onClick:function(){j((function(e){return!e})),u({sid:s&&s,transferData:{transferReason:n}}).then((function(e){e.data&&(c("Successfully Submitted Request"),o(!0),j((function(e){return!e})),d())})).catch((function(){j((function(e){return!e}))}))},children:v("send_request")}):(0,m.jsx)("div",{className:we.btn,children:v("send_request")})]})]}),x&&(0,m.jsx)(W.Z,{})]})};var Ce=function(e){var t=e.staffId,n=(0,s.s0)(),i=(0,a.useState)(!0),o=(0,l.Z)(i,2),c=o[0],d=o[1],r=(0,a.useState)(!1),u=(0,l.Z)(r,2),_=u[0],v=u[1],f=(0,a.useState)(""),h=(0,l.Z)(f,2),p=h[0],x=h[1],j=(0,a.useState)(""),g=(0,l.Z)(j,2),N=g[0],y=g[1];return(0,m.jsxs)("div",{className:ye,children:[(0,m.jsx)(me.qu,{msg:p,run:_,setRun:v}),(0,m.jsx)("div",{className:be,children:c&&(0,m.jsx)(Ze,{addDisplay:c,selectedReason:N,setSelectedReason:y,setToast:v,setvMessage:x,staffId:t,onCloseModal:function(){d(!1),n(-1)}})})]})},Se=n(26097),Le=n(10406),Te=n(43504),Ie=n(47167),Ae=n(98094),Me=n(23441),ke=n(11105),Fe=n(92784),He=n(87049),qe=n(84489),De=n(12072),Ee=function(e){var t=e.onClose,n=e.onRefetch,i=e.menu,s=(0,a.useState)(!1),o=(0,l.Z)(s,2),c=o[0],d=o[1],r=(0,ae.li)(),u=(0,l.Z)(r,1)[0];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(qe.Z,{onClose:t}),(0,m.jsxs)(De.Z,{customStyle:{zIndex:"1200"},children:[(0,m.jsx)("div",{className:He.Z.edit_modal_container,style:{width:"200px"},children:(0,m.jsx)("h6",{className:He.Z.remove,onClick:function(){null!==i&&void 0!==i&&i._id&&(d((function(e){return!e})),u({lid:null===i||void 0===i?void 0:i._id}).then((function(){n(),t(),d((function(e){return!e}))})).catch({}))},children:"Delete"})}),c&&(0,m.jsx)(W.Z,{})]})]})},Re=function(e){var t,n=e.leave,i=e.onRefetch,s=e.viewBy,o=(0,p.$G)().t,c=(0,a.useState)(""),d=(0,l.Z)(c,2),r=d[0],u=d[1],_=(null===n||void 0===n||n.reason.match(/[\s\S]{1,50}/g),[]),v=[],f=[],h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return null===n||void 0===n||null===(t=n.date)||void 0===t||t.map((function(e){var t=e.split("/")[0],n="0"===e.split("/")[1].split("")[0]?h[parseInt(e.split("/")[1],10)]:h[e.split("/")[1]],a=e.split("/")[2];_.push(t),v.push(n),f.push(a)})),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:Fe.Z.request_card_staff,children:[(0,m.jsxs)("div",{className:Fe.Z.request_card_header,children:[(0,m.jsxs)("div",{className:Fe.Z.request_card_text,children:[(0,m.jsx)("img",{src:"/images/members/transfer-icon.svg",alt:"icon"}),(0,m.jsxs)("div",{className:Fe.Z.request_card_inner_text,children:[(0,m.jsxs)("h6",{style:{fontWeight:"400"},children:[o("leave_type")," "," : ",null===n||void 0===n?void 0:n.leave_type]}),(0,m.jsxs)("p",{children:[o("raised_on")," ",ne()(null===n||void 0===n?void 0:n.createdAt).format("LT"),","," ",ne()(null===n||void 0===n?void 0:n.createdAt).format("DD MMM yyyy")]}),(0,m.jsxs)("p",{children:[o("for_dates")," "," : ",(0,g.Z)(new Set(_)).map((function(e){return"".concat(e,", ")})),(0,m.jsxs)("span",{children:[(0,g.Z)(new Set(v)).map((function(e){return"".concat(e," ")}))," ",(0,g.Z)(new Set(f)).map((function(e){return"".concat(e," ")}))]})]})]})]}),(0,m.jsx)("div",{className:Fe.Z.request_card_btn_group,children:"OVERVIEW"===s?null:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:Fe.Z.btn,children:[o("status")," "," : ",(0,m.jsx)("span",{style:{color:"Request"===(null===n||void 0===n?void 0:n.status)?"rgba(18, 18, 18, 0.7)":"Rejected"===(null===n||void 0===n?void 0:n.status)?"red":"#14ab50"},children:null===n||void 0===n?void 0:n.status})]}),(0,m.jsx)("img",{className:Fe.Z.dots,src:"/images/menu-dots-icon.svg",alt:"",onClick:function(){return u(n)},style:{cursor:"pointer"}})]})})]}),(0,m.jsx)("div",{className:Fe.Z.request_card_inner_text,style:{marginTop:"0.5rem"},children:(0,m.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[o("reason")," "," : ",null===n||void 0===n?void 0:n.reason]})}),(null===n||void 0===n?void 0:n.attach)&&(0,m.jsx)("div",{className:Fe.Z.request_card_inner_text,style:{marginTop:"0.5rem"},children:(0,m.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[o("attachment")," "," : ",(0,m.jsx)("a",{href:"".concat(Y.r3,"/").concat(null===n||void 0===n?void 0:n.attach),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,m.jsx)("span",{className:Fe.Z.viewAll,children:o("view_attachment")})})]})})]}),r&&(0,m.jsx)(Ee,{menu:r,onClose:function(){return u("")},onRefetch:i})]})},Pe=n(6245);var Oe=function(e){var t,n,i,s,o=e.staffId,c=(0,p.$G)().t,d=(0,a.useState)(!1),r=(0,l.Z)(d,2),u=r[0],_=r[1],v=(0,Me.YD)(),f=(0,l.Z)(v,2),h=f[0],x=f[1],j=(0,a.useState)(1),N=(0,l.Z)(j,2),y=N[0],b=N[1],w=(0,a.useState)(!0),Z=(0,l.Z)(w,2),C=Z[0],S=Z[1],L=(0,a.useState)(!0),T=(0,l.Z)(L,2),I=T[0],A=T[1],M=(0,a.useState)([]),k=(0,l.Z)(M,2),F=k[0],H=k[1],q=(0,Pe.CF)({sid:o,skip:!o}),D=q.oneStaffProfile,E=q.oneStaffProfileRefetch,R=(0,ae.dn)({sid:o,page:y,limit:10},{skip:!o}),P=R.data,O=R.refetch;(0,a.useEffect)((function(){o&&(A(!0),O())}),[o,y,O]),(0,a.useEffect)((function(){o&&E()}),[o,E]),(0,a.useEffect)((function(){x&&C&&b((function(e){return e+1}))}),[x,C]),(0,a.useEffect)((function(){var e,t;null!==P&&void 0!==P&&P.allLeave?1===y?(H(null===P||void 0===P?void 0:P.allLeave),A(!1)):(H((function(e){var t,n;return null===(t=(0,g.Z)(new Set(null===(n=[].concat((0,g.Z)(e),(0,g.Z)(null===P||void 0===P?void 0:P.allLeave)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),A(!1)):0===(null===P||void 0===P||null===(e=P.allLeave)||void 0===e?void 0:e.length)&&A(!1),10===(null===P||void 0===P||null===(t=P.allLeave)||void 0===t?void 0:t.length)?S(!0):S(!1)}),[null===P||void 0===P?void 0:P.allLeave]);var G=function(){_((function(e){return!e}))},W=function(){b(1),A(!0),O(),E()};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:Le.Z.with_search,style:{justifyContent:"flex-end"},children:(0,m.jsx)("p",{className:Le.Z.add_new_category,onClick:G,children:c("create_new_leave")})}),null===F||void 0===F?void 0:F.map((function(e,t){return(null===F||void 0===F?void 0:F.length)===t+1?(0,m.jsx)("div",{ref:h,children:(0,m.jsx)(Re,{leave:e,onRefetch:W})},null===e||void 0===e?void 0:e._id):(0,m.jsx)(Re,{leave:e,onRefetch:W},null===e||void 0===e?void 0:e._id)})),I&&(0,m.jsx)(ke.Z,{}),u&&(0,m.jsx)(K.Z,{staffId:o,onRefetch:W,onClose:G,leaveConfig:{casual_leave:null===D||void 0===D||null===(t=D.staff)||void 0===t?void 0:t.casual_leave,medical_leave:null===D||void 0===D||null===(n=D.staff)||void 0===n?void 0:n.medical_leave,sick_leave:null===D||void 0===D||null===(i=D.staff)||void 0===i?void 0:i.sick_leave,c_off_leave:null===D||void 0===D||null===(s=D.staff)||void 0===s?void 0:s.c_off_leave}})]})};var Ge=function(e){var t=e.staffId,n=(0,p.$G)().t,i=(0,a.useState)(!1),s=(0,l.Z)(i,2),o=s[0],c=s[1],d=(0,Me.YD)(),r=(0,l.Z)(d,2),u=r[0],_=r[1],v=(0,a.useState)(1),f=(0,l.Z)(v,2),h=f[0],x=f[1],j=(0,a.useState)(!0),N=(0,l.Z)(j,2),y=N[0],b=N[1],w=(0,a.useState)(!0),Z=(0,l.Z)(w,2),C=Z[0],S=Z[1],L=(0,a.useState)([]),T=(0,l.Z)(L,2),I=T[0],A=T[1],M=(0,ae.dn)({sid:t,page:h,limit:10,category:"Compensation Off Leave"},{skip:!t}),k=M.data,F=M.refetch;(0,a.useEffect)((function(){t&&(S(!0),F())}),[t,h,F]),(0,a.useEffect)((function(){_&&y&&x((function(e){return e+1}))}),[_,y]),(0,a.useEffect)((function(){var e,t;null!==k&&void 0!==k&&k.allLeave?1===h?(A(null===k||void 0===k?void 0:k.allLeave),S(!1)):(A((function(e){var t,n;return null===(t=(0,g.Z)(new Set(null===(n=[].concat((0,g.Z)(e),(0,g.Z)(null===k||void 0===k?void 0:k.allLeave)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),S(!1)):0===(null===k||void 0===k||null===(e=k.allLeave)||void 0===e?void 0:e.length)&&S(!1),10===(null===k||void 0===k||null===(t=k.allLeave)||void 0===t?void 0:t.length)?b(!0):b(!1)}),[null===k||void 0===k?void 0:k.allLeave]);var H=function(){c((function(e){return!e}))},q=function(){x(1),S(!0),F()};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:Le.Z.with_search,style:{justifyContent:"flex-end"},children:(0,m.jsx)("p",{className:Le.Z.add_new_category,onClick:H,children:n("request_c_off_leave")})}),null===I||void 0===I?void 0:I.map((function(e,t){return(null===I||void 0===I?void 0:I.length)===t+1?(0,m.jsx)("div",{ref:u,children:(0,m.jsx)(Re,{leave:e,onRefetch:q})},null===e||void 0===e?void 0:e._id):(0,m.jsx)(Re,{leave:e,onRefetch:q},null===e||void 0===e?void 0:e._id)})),C&&(0,m.jsx)(ke.Z,{}),o&&(0,m.jsx)(K.Z,{createdBy:"OWN_PROFILE",staffId:t,onRefetch:q,onClose:H})]})},We=n(74289),Ye=n(3890),Ve=function(e){var t=e.staffId,n=e.categoryKey,i=(0,Me.YD)(),s=(0,l.Z)(i,2),o=s[0],c=s[1],d=(0,a.useState)(1),r=(0,l.Z)(d,2),u=r[0],_=r[1],v=(0,a.useState)(!0),f=(0,l.Z)(v,2),h=f[0],p=f[1],x=(0,a.useState)(!0),j=(0,l.Z)(x,2),N=j[0],y=j[1],b=(0,a.useState)([]),w=(0,l.Z)(b,2),Z=w[0],C=w[1],S=(0,We.kt)({data:{sid:t,page:u,limit:10,category:"All Leave"===n?"":n},skip:n?!t:!n}),L=S.getLeaveOverviewIssue,T=S.getLeaveOverviewIssueRefetch;return(0,a.useEffect)((function(){t&&(y(!0),T())}),[t,n,u,T]),(0,a.useEffect)((function(){c&&h&&_((function(e){return e+1}))}),[c,h]),(0,a.useEffect)((function(){var e,t;null!==L&&void 0!==L&&L.all_leave?1===u?(C(null===L||void 0===L?void 0:L.all_leave),y(!1)):(C((function(e){var t,n;return null===(t=(0,g.Z)(new Set(null===(n=[].concat((0,g.Z)(e),(0,g.Z)(null===L||void 0===L?void 0:L.all_leave)))||void 0===n?void 0:n.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),y(!1)):0===(null===L||void 0===L||null===(e=L.all_leave)||void 0===e?void 0:e.length)&&y(!1),10===(null===L||void 0===L||null===(t=L.all_leave)||void 0===t?void 0:t.length)?p(!0):p(!1)}),[null===L||void 0===L?void 0:L.all_leave]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Ae.Z,{customStyle:{width:"100%",marginTop:"0.9rem"}}),(0,m.jsx)("div",{className:Fe.Z.request_card_inner_text,style:{marginTop:"0.5rem"},children:(0,m.jsx)("h6",{children:null!==n&&void 0!==n?n:""})}),null===Z||void 0===Z?void 0:Z.map((function(e,t){return(null===Z||void 0===Z?void 0:Z.length)===t+1?(0,m.jsx)("div",{ref:o,children:(0,m.jsx)(Re,{leave:e,viewBy:"OVERVIEW"})},null===e||void 0===e?void 0:e._id):(0,m.jsx)(Re,{leave:e,viewBy:"OVERVIEW"},null===e||void 0===e?void 0:e._id)})),N&&(0,m.jsx)(ke.Z,{})]})},Be=[{name:"all",key:"All Leave",isAvaiable:!0,count:0,mode:"FILTER"},{name:"casual_leave",key:"Casual Leave",isAvaiable:!0,count:0,mode:"FILTER"},{name:"medical_leave",key:"Medical Leave",isAvaiable:!0,count:0,mode:"FILTER"},{name:"sick_leave",key:"Sick Leave",isAvaiable:!0,count:0,mode:"FILTER"},{name:"compensation_off_leave",key:"Compensation Off Leave",isAvaiable:!0,count:0,mode:"FILTER"},{name:"on_duty_leave",key:"On Duty Leave",isAvaiable:!0,count:0,mode:"FILTER"},{name:"leave_without_pay",key:"Leave Without Pay",isAvaiable:!0,count:0,mode:"FILTER"}];var ze=function(e){var t,n,i=e.staffId,s=(0,p.$G)().t,o=(0,a.useState)(!0),c=(0,l.Z)(o,2),d=c[0],r=c[1],u=(0,a.useState)(Be),_=(0,l.Z)(u,2),v=_[0],f=_[1],h=(0,a.useState)(""),x=(0,l.Z)(h,2),j=x[0],g=x[1],N=(0,We.$O)({data:{sid:i},skip:!i}),y=N.getLeaveOverviewCount,b=N.getLeaveOverviewCountRefetch;return(0,a.useEffect)((function(){i&&(r(!0),b())}),[i,b]),(0,a.useEffect)((function(){if(null!==y&&void 0!==y&&y.overview){var e,t,n,a,i,s,l=Be;l[0].count=null===y||void 0===y||null===(e=y.overview)||void 0===e?void 0:e.casual_leave,l[1].count=null===y||void 0===y||null===(t=y.overview)||void 0===t?void 0:t.medical_leave,l[2].count=null===y||void 0===y||null===(n=y.overview)||void 0===n?void 0:n.sick_leave,l[3].count=null===y||void 0===y||null===(a=y.overview)||void 0===a?void 0:a.c_off_leave,l[4].count=null===y||void 0===y||null===(i=y.overview)||void 0===i?void 0:i.off_duty_leave,l[5].count=null===y||void 0===y||null===(s=y.overview)||void 0===s?void 0:s.lwp_leave,f(l),g(l[0]),r(!1)}}),[null===y||void 0===y?void 0:y.overview]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:Fe.Z.request_card_inner_text,style:{marginTop:"0.5rem"},children:[(0,m.jsxs)("h6",{style:{fontWeight:"400"},children:[s("total_leave_available")," "," : ",null===y||void 0===y||null===(t=y.overview)||void 0===t?void 0:t.total_leave_available]}),(0,m.jsxs)("h6",{style:{fontWeight:"400"},children:[s("total_leave_taken")," "," : ",null===y||void 0===y||null===(n=y.overview)||void 0===n?void 0:n.total_leave_taken]})]}),(0,m.jsx)(Ye.Z,{labelText:"",tileList:v,activeTile:null===j||void 0===j?void 0:j.key,onParentTile:function(e){g(e)},customTileContainer:{flexWrap:"wrap"}}),(0,m.jsx)(Ve,{categoryKey:null===j||void 0===j?void 0:j.key,staffId:i}),d&&(0,m.jsx)(ke.Z,{})]})},Je=function(e){var t=e.carryParentState,n=e.staffId,a=(0,p.$G)().t,i=(0,Te.lr)(),s=(0,l.Z)(i,1)[0],o=[{name:a("request"),id:0,url:"member?a=leave",is_active:"enabled"},{name:a("overview"),id:1,url:"member?a=leave&n=overview",is_active:"enabled"},{name:a("manage_c_off"),id:2,url:"member?a=leave&n=manage-off",is_active:"enabled"}];return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{style:{marginTop:"1rem"},children:(0,m.jsxs)("div",{className:Le.Z.hostel_container,children:[(0,m.jsx)("div",{className:Le.Z.with_search,children:(0,m.jsx)("h6",{children:a("leave_request")})}),(0,m.jsx)(Ae.Z,{customStyle:{marginTop:"0.5rem",width:"100%"}}),(0,m.jsx)(Ie.Z,{tabList:o,activeIndexTab:s.get("n")?"overview"===s.get("n")?1:2:0,showAs:!0,customStyleTab:{width:"100%"},customStyleLink:{width:"33.3%"},carryParentState:t}),(0,m.jsx)(Ae.Z,{customStyle:{width:"100%",marginBottom:"0.6rem"}}),s.get("n")?"overview"===s.get("n")?(0,m.jsx)(ze,{staffId:n}):(0,m.jsx)(Ge,{staffId:n}):(0,m.jsx)(Oe,{staffId:n})]})})})},Ke=function(){var e,t,n,a,l,o,c,d,r,u,_,v,f,h,p,x,j,g,N,y=(0,s.TH)();return(0,m.jsxs)(i.Z,{index:"profile"===(null===y||void 0===y||null===(e=y.search)||void 0===e?void 0:e.substring(3))?"20":"complaint"===(null===y||void 0===y||null===(t=y.search)||void 0===t?void 0:t.substring(3))?"21":"leave"===(null===y||void 0===y||null===(n=y.search)||void 0===n?void 0:n.substring(3))?"22":"transfer"===(null===y||void 0===y||null===(a=y.search)||void 0===a?void 0:a.substring(3))?"23":"24",sid:null!==(l=null===y||void 0===y||null===(o=y.state)||void 0===o?void 0:o.sid)&&void 0!==l?l:"",children:["profile"===(null===y||void 0===y||null===(c=y.search)||void 0===c?void 0:c.substring(3))&&(0,m.jsx)(U,{staffData:null!==(d=null===y||void 0===y||null===(r=y.state)||void 0===r?void 0:r.sid)&&void 0!==d?d:""}),"complaint"===(null===y||void 0===y||null===(u=y.search)||void 0===u?void 0:u.substring(3))&&(0,m.jsx)(Ne,{staffId:null!==(_=null===y||void 0===y||null===(v=y.state)||void 0===v?void 0:v.sid)&&void 0!==_?_:""}),"leave"===(null===y||void 0===y||null===(f=y.search)||void 0===f?void 0:f.substring(3,8))&&(0,m.jsx)(Je,{staffId:null!==(h=null===y||void 0===y||null===(p=y.state)||void 0===p?void 0:p.sid)&&void 0!==h?h:"",carryParentState:y.state}),"transfer"===(null===y||void 0===y||null===(x=y.search)||void 0===x?void 0:x.substring(3))&&(0,m.jsx)(Ce,{staffId:null!==(j=null===y||void 0===y||null===(g=y.state)||void 0===g?void 0:g.sid)&&void 0!==j?j:""}),"switch"===(null===y||void 0===y||null===(N=y.search)||void 0===N?void 0:N.substring(3))&&(0,m.jsx)(Se.Z,{})]})}},87049:function(e,t){t.Z={edit_modal_container:"EditConfirm_edit_modal_container__WfbTq",modal_header:"EditConfirm_modal_header__4sq5J",edit:"EditConfirm_edit__ziVGP",remove:"EditConfirm_remove__PCXLs",xlsx_update_btn:"EditConfirm_xlsx_update_btn__H3yM8",save_stop_btn:"EditConfirm_save_stop_btn__9NiZ5",update_to_btn:"EditConfirm_update_to_btn__ExCJv"}},10406:function(e,t){t.Z={hostel_container:"Hostel_hostel_container__mWxpf",moderator_container_title:"Hostel_moderator_container_title__DHglE",with_search:"Hostel_with_search__f5WON",search_container:"Hostel_search_container__uShHd",search_container_input:"Hostel_search_container_input__zwGLQ",searchIcon:"Hostel_searchIcon__x1CGz",search_container_filter:"Hostel_search_container_filter__HHOHi",add_new_category:"Hostel_add_new_category__4wi4R",rules_card:"Hostel_rules_card__CQp2X",rules_card_title:"Hostel_rules_card_title__dF+vA",download_attachment:"Hostel_download_attachment__Si3Or",menu_icon:"Hostel_menu_icon__lcZzz",unit_room_container:"Hostel_unit_room_container__7UtbF",unit_room_card_container:"Hostel_unit_room_card_container__Kp0n3",unit_room_card_lines:"Hostel_unit_room_card_lines__0fMZq",unit_room_container_box:"Hostel_unit_room_container_box__ZyOBC",unit_room_container_box_inner:"Hostel_unit_room_container_box_inner__xV4l4",hostelite_container:"Hostel_hostelite_container__s+iLw",hostelite_container_inner:"Hostel_hostelite_container_inner__55Vvd",hostelite_container_inner_text:"Hostel_hostelite_container_inner_text__rVUi9",announcement_card:"Hostel_announcement_card__B6Mf3",upload_excel_file:"Hostel_upload_excel_file__rm6Kk",student_renewal_card:"Hostel_student_renewal_card__4GLAW",student_renewal_date:"Hostel_student_renewal_date__jkFEO",student_renewal_btn_group:"Hostel_student_renewal_btn_group__bEhWE",student_renewal_cancel_btn:"Hostel_student_renewal_cancel_btn__FweAs",student_renewal_confirm_btn:"Hostel_student_renewal_confirm_btn__SrCfT",take_admission:"Hostel_take_admission__bLvfX",vehical_card_container:"Hostel_vehical_card_container__9+Xlp",vehical_card_text:"Hostel_vehical_card_text__L81rs",vehicle_list:"Hostel_vehicle_list__7KSVv",transpotation_container:"Hostel_transpotation_container__0ZRwk",transpotation_head:"Hostel_transpotation_head__bpQL4",transpotation_card:"Hostel_transpotation_card__awZ3a",transpotation_card_detail:"Hostel_transpotation_card_detail__SR+h7",transpotation_card_detail_text:"Hostel_transpotation_card_detail_text__V+znO",joining_date:"Hostel_joining_date__KU7m1",transpotation_card_detail_other:"Hostel_transpotation_card_detail_other__qQyz8",transpotation_card_detail_other_inner:"Hostel_transpotation_card_detail_other_inner__tkjuA",add_plus_icon:"Hostel_add_plus_icon__3Goaz",hostel_batch_container:"Hostel_hostel_batch_container__+B8sL",hostel_batch_container_hover:"Hostel_hostel_batch_container_hover__2rElc",hostel_batch_container_text:"Hostel_hostel_batch_container_text__w3JHe",hostel_batch_image:"Hostel_hostel_batch_image__fpTGv",hostel_batch_menu:"Hostel_hostel_batch_menu__xSgqR",add_container:"Hostel_add_container__KgZLe",mentor_status_card_paragraph:"Hostel_mentor_status_card_paragraph__b+ePZ",mentor_attendance_container:"Hostel_mentor_attendance_container__KAxwN",mentor_attendance_btn:"Hostel_mentor_attendance_btn__yX+++",mentor_attendance_btn_active:"Hostel_mentor_attendance_btn_active__JUY7m",selectBtn:"Hostel_selectBtn__w2fQe",passenger_fees_button:"Hostel_passenger_fees_button__VaNk-",linked_institute_btn:"Hostel_linked_institute_btn__p8os7"}},92784:function(e,t){t.Z={request_card:"LeavesAndTransfer_request_card__hH6jz",request_card_staff:"LeavesAndTransfer_request_card_staff__DzAoS",request_card_header:"LeavesAndTransfer_request_card_header__nepeP",request_card_text:"LeavesAndTransfer_request_card_text__5e2qO",request_card_inner_text:"LeavesAndTransfer_request_card_inner_text__MMRPJ",btn:"LeavesAndTransfer_btn__fEia-",request_card_btn_group:"LeavesAndTransfer_request_card_btn_group__CWVPB",accept_btn:"LeavesAndTransfer_accept_btn__4T4XU",reject_btn:"LeavesAndTransfer_reject_btn__T4QgL",viewAll:"LeavesAndTransfer_viewAll__fEF7S"}}}]);
//# sourceMappingURL=8195.4d069a1e.chunk.js.map