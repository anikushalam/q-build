{"version":3,"file":"static/js/26097.0e7fc46b.chunk.js","mappings":"+JACA,SAAgB,WAAa,kCAAkC,WAAa,kCAAkC,cAAgB,qCAAqC,eAAiB,sCAAsC,eAAiB,sCAAsC,eAAiB,sCAAsC,iBAAmB,wCAAwC,sBAAwB,6CAA6C,uBAAyB,8CAA8C,WAAa,mC,4HCc5hB,SAASA,EAAIC,GAAY,IAADC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,IAAV,KAAEC,GAAMb,EACpB,MAAMc,GAAWC,EAAAA,EAAAA,MACXC,GAASC,EAAAA,EAAAA,MACTC,GAAKC,EAAAA,EAAAA,KAAaC,GAAUA,EAAMC,SAASH,MAC1CI,EAAiBC,IAAsBC,EAAAA,EAAAA,UAAS,KAChDC,EAAUC,IAAeF,EAAAA,EAAAA,WAAS,GACnCG,GAAWC,EAAAA,EAAAA,OASX,6BAAEC,EAA4B,6BAAEC,IACpCC,EAAAA,EAAAA,IAAyB,CACvBlB,KAAM,CACJmB,IAAKd,EACLe,KAAMX,GAERY,MAAOZ,IAELa,EAAmBC,IACvBb,EAAmBa,EAAI,EA0BzB,OAxBAC,EAAAA,EAAAA,YAAU,KACJf,IACFI,GAAaY,IAASA,IACtBR,IACF,GACC,CAACR,EAAiBQ,KAErBO,EAAAA,EAAAA,YAAU,KACJf,IAAoBO,IACtBF,EACEY,EAAAA,EAAeC,aAAa,CAC1BC,WAAY,GACZC,SAAUpB,EACVqB,YAAY,KAGhB7B,EAAS,MAAD8B,OAAO5B,EAAO6B,SAAQ,eAAe,CAC3CzB,MAAO,CACLE,gBAAiBA,KAGrBI,GAAaY,IAASA,IACxB,GACC,CAACT,KAEFiB,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,CACO,OAAJnC,QAAI,IAAJA,GAAAA,EAAMoC,kBACLH,EAAAA,EAAAA,MAAA,OACEI,UAAWC,EAAMC,eACjBC,QAASA,IAAMlB,EAAoB,OAAJtB,QAAI,IAAJA,OAAI,EAAJA,EAAMyC,KAAKN,SAAA,EAE1CO,EAAAA,EAAAA,KAAA,OACErC,GAAG,aACHsC,IAAI,GACJC,IACM,OAAJ5C,QAAI,IAAJA,GAAe,QAAXZ,EAAJY,EAAM6C,iBAAS,IAAAzD,GAAfA,EAAiB0D,gBAAe,GAAAf,OACzBgB,EAAAA,GAAY,KAAAhB,OAAQ,OAAJ/B,QAAI,IAAJA,GAAe,QAAXX,EAAJW,EAAM6C,iBAAS,IAAAxD,OAAX,EAAJA,EAAiByD,iBAChC,OAAJ9C,QAAI,IAAJA,GAAkB,QAAdV,EAAJU,EAAMgD,oBAAY,IAAA1D,GAAlBA,EAAoB2D,kBAAiB,GAAAlB,OAClCgB,EAAAA,GAAY,KAAAhB,OAAQ,OAAJ/B,QAAI,IAAJA,GAAkB,QAAdT,EAAJS,EAAMgD,oBAAY,IAAAzD,OAAd,EAAJA,EAAoB0D,mBACnC,OAAJjD,QAAI,IAAJA,GAAAA,EAAMkD,oBAAmB,GAAAnB,OACtBgB,EAAAA,GAAY,KAAAhB,OAAQ,OAAJ/B,QAAI,IAAJA,OAAI,EAAJA,EAAMkD,qBACzB,qCAGRjB,EAAAA,EAAAA,MAAA,OAAKI,UAAWC,EAAMa,eAAehB,SAAA,EACnCO,EAAAA,EAAAA,KAAA,MAAAP,SAKY,QALZ3C,EAC2B,QAD3BC,EACO,OAAJO,QAAI,IAAJA,GAAe,QAAXN,EAAJM,EAAM6C,iBAAS,IAAAnD,OAAX,EAAJA,EAAiB0D,eAAO,IAAA3D,EAAAA,EAAA,GAAAsC,OAEjB,OAAJ/B,QAAI,IAAJA,GAAkB,QAAdL,EAAJK,EAAMgD,oBAAY,IAAArD,GAAlBA,EAAoB0D,iBAAgB,GAAAtB,OACzB,OAAJ/B,QAAI,IAAJA,GAAkB,QAAdJ,EAAJI,EAAMgD,oBAAY,IAAApD,OAAd,EAAJA,EAAoByD,iBAAgB,aACvC,WAAE,IAAA7D,EAAAA,EAER,MAEJyC,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CACO,OAAJnC,QAAI,IAAJA,OAAI,EAAJA,EAAMoC,iBAAiB,IAAM,OAAJpC,QAAI,IAAJA,OAAI,EAAJA,EAAMsD,kBAAmB,IAC9C,OAAJtD,QAAI,IAAJA,OAAI,EAAJA,EAAMuD,gBAAgB,IAAC,qBAIxB,OAAJvD,QAAI,IAAJA,GAAAA,EAAMwD,gBACRvB,EAAAA,EAAAA,MAAA,OACEI,UAAWC,EAAMC,eACjBC,QAASA,IAAMlB,EAAoB,OAAJtB,QAAI,IAAJA,OAAI,EAAJA,EAAMyC,KAAKN,SAAA,EAE1CO,EAAAA,EAAAA,KAAA,OACErC,GAAG,aACHsC,IAAI,GACJC,IACM,OAAJ5C,QAAI,IAAJA,GAAe,QAAXH,EAAJG,EAAM6C,iBAAS,IAAAhD,GAAfA,EAAiBiD,gBAAe,GAAAf,OACzBgB,EAAAA,GAAY,KAAAhB,OAAQ,OAAJ/B,QAAI,IAAJA,GAAe,QAAXF,EAAJE,EAAM6C,iBAAS,IAAA/C,OAAX,EAAJA,EAAiBgD,iBAChC,OAAJ9C,QAAI,IAAJA,GAAAA,EAAMyD,kBAAiB,GAAA1B,OACpBgB,EAAAA,GAAY,KAAAhB,OAAQ,OAAJ/B,QAAI,IAAJA,OAAI,EAAJA,EAAMyD,mBACzB,qCAGRxB,EAAAA,EAAAA,MAAA,OAAKI,UAAWC,EAAMa,eAAehB,SAAA,EACnCO,EAAAA,EAAAA,KAAA,MAAAP,SAAS,OAAJnC,QAAI,IAAJA,GAAe,QAAXD,EAAJC,EAAM6C,iBAAS,IAAA9C,OAAX,EAAJA,EAAiBqD,WACtBnB,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CACO,OAAJnC,QAAI,IAAJA,OAAI,EAAJA,EAAMwD,eAAe,IAAM,OAAJxD,QAAI,IAAJA,OAAI,EAAJA,EAAM0D,gBAAiB,IAC1C,OAAJ1D,QAAI,IAAJA,OAAI,EAAJA,EAAM2D,cAAc,IAAC,mBAK5B,GAED/C,IAAY8B,EAAAA,EAAAA,KAACkB,EAAAA,EAAO,MAG3B,CAuGA,QApFA,WACE,MAAM,EAAEC,IAAMC,EAAAA,EAAAA,MACR7D,GAAWC,EAAAA,EAAAA,MACXG,GAAKC,EAAAA,EAAAA,KAAaC,GAAUA,EAAMC,SAASH,MAC1C0D,EAAoBC,IAAyBrD,EAAAA,EAAAA,WAAS,IACtDsD,EAAYC,IAAiBvD,EAAAA,EAAAA,UAAS,KACvC,KAAEX,EAAMmE,QAASC,IAAyBC,EAAAA,EAAAA,GAC9ChE,EACA,CAAEgB,MAAOhB,IAiCX,OA9BAmB,EAAAA,EAAAA,YAAU,KACJnB,IACF2D,GAAsB,GACtBI,IACF,GACC,CAACA,EAAsB/D,KAE1BmB,EAAAA,EAAAA,YAAU,KAAO,IAAD8C,EACN,OAAJtE,QAAI,IAAJA,GAAAA,EAAMuE,YACRL,EAAkB,OAAJlE,QAAI,IAAJA,OAAI,EAAJA,EAAMuE,YACpBP,GAAsB,IACgB,KAAzB,OAAJhE,QAAI,IAAJA,GAAgB,QAAZsE,EAAJtE,EAAMuE,kBAAU,IAAAD,OAAZ,EAAJA,EAAkBE,SAAcR,GAAsB,EAEjE,GACC,CAAK,OAAJhE,QAAI,IAAJA,OAAI,EAAJA,EAAMuE,cAiBR7B,EAAAA,EAAAA,KAAC+B,EAAAA,EAAM,CAACC,MAAM,EAAMC,QAASA,IAAM1E,GAAU,GAAGkC,UAC9CF,EAAAA,EAAAA,MAAA,OAAKI,UAAWC,EAAMsC,WAAWzC,SAAA,EAC/BO,EAAAA,EAAAA,KAAA,OAAKL,UAAWC,EAAMuC,cAAerC,QAASA,IAAMvC,GAAU,GAAGkC,SAC9D0B,EAAE,qBAEL5B,EAAAA,EAAAA,MAAA,OAAKI,UAAWC,EAAMwC,eAAe3C,SAAA,EACnCO,EAAAA,EAAAA,KAAA,OACEL,UAAWC,EAAMyC,iBACjBzC,MAAO,CACL0C,aAAc,UACd7C,UAEFF,EAAAA,EAAAA,MAAA,OAAKI,UAAWC,EAAM2C,sBAAsB9C,SAAA,EAC1CO,EAAAA,EAAAA,KAAA,OACEL,UAAWC,EAAM4C,WACjBvC,IAAI,cACJC,IAAI,kCAENF,EAAAA,EAAAA,KAAA,SACEyC,KAAK,OACLC,YAAavB,EAAE,gBACfwB,SApCSC,IACrB,GAAIA,EAAEC,OAAOC,MAAO,CAAC,IAADC,EAClB,MAAMC,EAAoB,OAAJ1F,QAAI,IAAJA,GAAgB,QAAZyF,EAAJzF,EAAMuE,kBAAU,IAAAkB,OAAZ,EAAJA,EAAkBE,QAAQC,GA9CtBC,EAACD,EAASE,KAAW,IAADC,EAClD,IAAIC,EAAyB,OAAPJ,QAAO,IAAPA,GAAAA,EAASxD,iBAAgB,GAAAL,OACjC,OAAP6D,QAAO,IAAPA,OAAO,EAAPA,EAASxD,iBAAgB,KAAAL,OACnB,OAAP6D,QAAO,IAAPA,GAAAA,EAAStC,kBAAiB,GAAAvB,OAAa,OAAP6D,QAAO,IAAPA,OAAO,EAAPA,EAAStC,kBAAiB,KAAM,IAAEvB,OAC1D,OAAP6D,QAAO,IAAPA,OAAO,EAAPA,EAASrC,iBAAe,GAAAxB,OACjB,OAAP6D,QAAO,IAAPA,OAAO,EAAPA,EAASpC,eAAc,KAAAzB,OACjB,OAAP6D,QAAO,IAAPA,GAAAA,EAASlC,gBAAe,GAAA3B,OAAa,OAAP6D,QAAO,IAAPA,OAAO,EAAPA,EAASlC,gBAAe,KAAM,IAAE3B,OACtD,OAAP6D,QAAO,IAAPA,OAAO,EAAPA,EAASjC,eAEhB,OACiB,OAAfqC,QAAe,IAAfA,GAAoC,QAArBD,EAAfC,EAAiBC,2BAAmB,IAAAF,GAApCA,EAAsCG,SAAc,OAALJ,QAAK,IAALA,OAAK,EAALA,EAAOG,qBAE/CL,EAEA,IACT,EAgCMC,CAAwBD,EAASN,EAAEC,OAAOC,SAE5CtB,EAAcwB,EAChB,MACExB,EAAkB,OAAJlE,QAAI,IAAJA,OAAI,EAAJA,EAAMuE,WACtB,EA6BY4B,WAAW,EACX7D,MAAO,CACL8D,OAAQ,oCACRC,MAAO,QACPC,aAAc,iBAMX,OAAVrC,QAAU,IAAVA,OAAU,EAAVA,EAAYsC,KAAI,CAACC,EAAMC,KACtB/D,EAAAA,EAAAA,KAACxD,EAAI,CAACc,KAAMwG,GAAWC,KAExB1C,IAAsBrB,EAAAA,EAAAA,KAACgE,EAAAA,EAAa,WAK/C,EC5NA,QARA,WACE,OACEhE,EAAAA,EAAAA,KAAA,OAAKL,UAAWC,EAAMqE,WAAWxE,UAC/BO,EAAAA,EAAAA,KAACkE,EAAW,KAGlB,C","sources":["webpack://mithkal-qviple/./src/MembersTab/staff/Mainbody/SwitchAccount/SwitchAccount.module.css?5dce","MembersTab/staff/Mainbody/SwitchAccount/SwitchModal.jsx","MembersTab/staff/Mainbody/SwitchAccount/SwitchAccount.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"complaints\":\"SwitchAccount_complaints__FOCV9\",\"swichModal\":\"SwitchAccount_swichModal__nF+az\",\"swichModalTop\":\"SwitchAccount_swichModalTop__04Wup\",\"swichModalBody\":\"SwitchAccount_swichModalBody__UXEej\",\"swichModalItem\":\"SwitchAccount_swichModalItem__2hXtK\",\"swichModalText\":\"SwitchAccount_swichModalText__kn6r2\",\"search_container\":\"SwitchAccount_search_container__U4FLB\",\"search_container_text\":\"SwitchAccount_search_container_text__ifPi5\",\"search_container_input\":\"SwitchAccount_search_container_input__Jrtnb\",\"searchIcon\":\"SwitchAccount_searchIcon__wfOTB\"};","import React, { useEffect } from \"react\";\nimport style from \"./SwitchAccount.module.css\";\nimport { Dialog } from \"@mui/material\";\nimport { useSwitchUserAccountQuery } from \"../../../../services/switchAccount/switchAccountApi\";\nimport { imageShowUrl } from \"../../../../services/BaseUrl\";\nimport { useTranslation } from \"react-i18next\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate, useParams } from \"react-router-dom\";\n// import { useGetActivatedMemberAccount } from \"../../../../hooks/member_tab/department-api\";\nimport { useState } from \"react\";\nimport QLoader from \"../../../../Loader/QLoader\";\nimport QvipleLoading from \"../../../../Loader/QvipleLoading\";\nimport { idChangeAction } from \"../../../../redux/store/department-slice\";\nimport { useUserV1ActivatedMember } from \"../../../../optimized/Hooks/ApiHooks/UserMember/user-member-api\";\n\nfunction Item({ data }) {\n  const navigate = useNavigate();\n  const params = useParams();\n  const id = useSelector((state) => state.idChange.id);\n  const [selectedAccount, setSelectedAccount] = useState(\"\");\n  const [disabled, setDisabled] = useState(false);\n  const dispatch = useDispatch();\n\n  // const { getActivatedMemberAccountRefetch } = useGetActivatedMemberAccount({\n  //   data: {\n  //     id: id,\n  //     active_member_role: selectedAccount,\n  //   },\n  //   skip: !selectedAccount,\n  // });\n  const { userV1ActivatedMemberLoading, userV1ActivatedMemberRefetch } =\n    useUserV1ActivatedMember({\n      data: {\n        uid: id,\n        role: selectedAccount,\n      },\n      skip: !selectedAccount,\n    });\n  const onSwitchAccount = (val) => {\n    setSelectedAccount(val);\n  };\n  useEffect(() => {\n    if (selectedAccount) {\n      setDisabled((pre) => !pre);\n      userV1ActivatedMemberRefetch();\n    }\n  }, [selectedAccount, userV1ActivatedMemberRefetch]);\n\n  useEffect(() => {\n    if (selectedAccount && !userV1ActivatedMemberLoading) {\n      dispatch(\n        idChangeAction.onUserMember({\n          memberType: \"\",\n          memberId: selectedAccount,\n          isCallable: false,\n        })\n      );\n      navigate(`/q/${params.username}/memberstab`, {\n        state: {\n          selectedAccount: selectedAccount,\n        },\n      });\n      setDisabled((pre) => !pre);\n    }\n  }, [userV1ActivatedMemberLoading]);\n  return (\n    <>\n      {data?.studentFirstName ? (\n        <div\n          className={style.swichModalItem}\n          onClick={() => onSwitchAccount(data?._id)}\n        >\n          <img\n            id=\"profileImg\"\n            alt=\"\"\n            src={\n              data?.institute?.insProfilePhoto\n                ? `${imageShowUrl}/${data?.institute?.insProfilePhoto}`\n                : data?.student_unit?.hostel_unit_photo\n                ? `${imageShowUrl}/${data?.student_unit?.hostel_unit_photo}`\n                : data?.studentProfilePhoto\n                ? `${imageShowUrl}/${data?.studentProfilePhoto}`\n                : \"/images/ins_default_profile.svg\"\n            }\n          />\n          <div className={style.swichModalText}>\n            <h6>\n              {data?.institute?.insName ??\n                `${\n                  data?.student_unit?.hostel_unit_name\n                    ? `${data?.student_unit?.hostel_unit_name} (Hostel)`\n                    : \"\"\n                }` ??\n                \"\"}\n            </h6>\n            <p>\n              {data?.studentFirstName} {data?.studentMiddleName}{\" \"}\n              {data?.studentLastName} {`(student)`}\n            </p>\n          </div>\n        </div>\n      ) : data?.staffFirstName ? (\n        <div\n          className={style.swichModalItem}\n          onClick={() => onSwitchAccount(data?._id)}\n        >\n          <img\n            id=\"profileImg\"\n            alt=\"\"\n            src={\n              data?.institute?.insProfilePhoto\n                ? `${imageShowUrl}/${data?.institute?.insProfilePhoto}`\n                : data?.staffProfilePhoto\n                ? `${imageShowUrl}/${data?.staffProfilePhoto}`\n                : \"/images/ins_default_profile.svg\"\n            }\n          />\n          <div className={style.swichModalText}>\n            <h6>{data?.institute?.insName}</h6>\n            <p>\n              {data?.staffFirstName} {data?.staffMiddleName}{\" \"}\n              {data?.staffLastName} {`(staff)`}\n            </p>\n          </div>\n        </div>\n      ) : (\n        \"\"\n      )}\n      {disabled && <QLoader />}\n    </>\n  );\n}\n\nconst validateSearchCharacter = (account, event) => {\n  let accountFullName = account?.studentFirstName\n    ? `${account?.studentFirstName} ${\n        account?.studentMiddleName ? `${account?.studentMiddleName} ` : \"\"\n      }${account?.studentLastName}`\n    : `${account?.staffFirstName} ${\n        account?.staffMiddleName ? `${account?.staffMiddleName} ` : \"\"\n      }${account?.staffLastName}`;\n\n  if (\n    accountFullName?.toLocaleLowerCase()?.includes(event?.toLocaleLowerCase())\n  ) {\n    return account;\n  } else {\n    return null;\n  }\n};\nfunction SwitchModal() {\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n  const id = useSelector((state) => state.idChange.id);\n  const [showingDataLoading, setShowingDataLoading] = useState(true);\n  const [allAccount, setAllAccount] = useState([]);\n  const { data, refetch: switchAccountRefetch } = useSwitchUserAccountQuery(\n    id,\n    { skip: !id }\n  );\n\n  useEffect(() => {\n    if (id) {\n      setShowingDataLoading(true);\n      switchAccountRefetch();\n    }\n  }, [switchAccountRefetch, id]);\n\n  useEffect(() => {\n    if (data?.role_query) {\n      setAllAccount(data?.role_query);\n      setShowingDataLoading(false);\n    } else if (data?.role_query?.length === 0) setShowingDataLoading(false);\n    else {\n    }\n  }, [data?.role_query]);\n\n  const onSearchEvent = (e) => {\n    if (e.target.value) {\n      const filterAccount = data?.role_query?.filter((account) =>\n        validateSearchCharacter(account, e.target.value)\n      );\n      setAllAccount(filterAccount);\n    } else {\n      setAllAccount(data?.role_query);\n    }\n  };\n\n  //   `/q/${username}/memberstab`\n  // navigate(`/q/${res?.data?.user.username}/feed`);\n\n  return (\n    <Dialog open={true} onClose={() => navigate(-1)}>\n      <div className={style.swichModal}>\n        <div className={style.swichModalTop} onClick={() => navigate(-1)}>\n          {t(\"switch_account\")}\n        </div>\n        <div className={style.swichModalBody}>\n          <div\n            className={style.search_container}\n            style={{\n              marginBottom: \"0.6rem\",\n            }}\n          >\n            <div className={style.search_container_text}>\n              <img\n                className={style.searchIcon}\n                alt=\"search icon\"\n                src=\"/images/search-dash-icon.svg\"\n              />\n              <input\n                type=\"text\"\n                placeholder={t(\"search-label\")}\n                onChange={onSearchEvent}\n                autoFocus={true}\n                style={{\n                  border: \"0.029vw solid rgba(0, 0, 0, 0.15)\",\n                  width: \"370px\",\n                  marginInline: \"0.5rem\",\n                }}\n              />\n            </div>\n          </div>\n\n          {allAccount?.map((item, index) => (\n            <Item data={item} key={index} />\n          ))}\n          {showingDataLoading && <QvipleLoading />}\n        </div>\n      </div>\n    </Dialog>\n  );\n}\n\nexport default SwitchModal;\n","import React from \"react\";\nimport style from \"./SwitchAccount.module.css\";\nimport SwitchModal from \"./SwitchModal\";\n\nfunction SwitchAccount() {\n  return (\n    <div className={style.complaints}>\n      <SwitchModal />\n    </div>\n  );\n}\n\nexport default SwitchAccount;\n"],"names":["Item","_ref","_data$institute","_data$institute2","_data$student_unit","_data$student_unit2","_ref2","_data$institute$insNa","_data$institute3","_data$student_unit3","_data$student_unit4","_data$institute4","_data$institute5","_data$institute6","data","navigate","useNavigate","params","useParams","id","useSelector","state","idChange","selectedAccount","setSelectedAccount","useState","disabled","setDisabled","dispatch","useDispatch","userV1ActivatedMemberLoading","userV1ActivatedMemberRefetch","useUserV1ActivatedMember","uid","role","skip","onSwitchAccount","val","useEffect","pre","idChangeAction","onUserMember","memberType","memberId","isCallable","concat","username","_jsxs","_Fragment","children","studentFirstName","className","style","swichModalItem","onClick","_id","_jsx","alt","src","institute","insProfilePhoto","imageShowUrl","student_unit","hostel_unit_photo","studentProfilePhoto","swichModalText","insName","hostel_unit_name","studentMiddleName","studentLastName","staffFirstName","staffProfilePhoto","staffMiddleName","staffLastName","QLoader","t","useTranslation","showingDataLoading","setShowingDataLoading","allAccount","setAllAccount","refetch","switchAccountRefetch","useSwitchUserAccountQuery","_data$role_query","role_query","length","Dialog","open","onClose","swichModal","swichModalTop","swichModalBody","search_container","marginBottom","search_container_text","searchIcon","type","placeholder","onChange","e","target","value","_data$role_query2","filterAccount","filter","account","validateSearchCharacter","event","_accountFullName$toLo","accountFullName","toLocaleLowerCase","includes","autoFocus","border","width","marginInline","map","item","index","QvipleLoading","complaints","SwitchModal"],"sourceRoot":""}