"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[5361],{65361:function(e,t,a){a.r(t),a.d(t,{default:function(){return P}});var n=a(72791),i=a(16871),s=a(39230),l=a(86861),r=a(1413),d=a(29439),c=a(33992),o=a(11105),u=a(33399),_=a(32217),v=a(80184),m=function(e){var t,a,i,m=e.instituteId,x=e.carryParentState,h=e.accessRole,p=e.callApi,f=e.viewAs,g=(0,s.$G)().t,j=n.useState(!0),Z=(0,d.Z)(j,2),y=Z[0],N=Z[1],I=(0,c.Zi)({id:m,skip:!m}),b=I.allDepartment,E=I.allDepartmentRefetch;return n.useEffect((function(){m&&E()}),[m]),n.useEffect((function(){var e,t,a;(null!==b&&void 0!==b&&null!==(e=b.institute)&&void 0!==e&&e.depart||0===(null===b||void 0===b||null===(t=b.institute)||void 0===t||null===(a=t.depart)||void 0===a?void 0:a.length))&&N(!1)}),[null===b||void 0===b||null===(t=b.institute)||void 0===t?void 0:t.depart]),(0,v.jsxs)("div",{className:u.Z.department_container,children:[null===b||void 0===b||null===(a=b.institute)||void 0===a||null===(i=a.depart)||void 0===i?void 0:i.map((function(e){var t,a;return"INSTITUTE"===f?(0,v.jsx)(_.Z,{carryParentState:(0,r.Z)((0,r.Z)({},x),{},{did:null===e||void 0===e?void 0:e._id,dName:null===e||void 0===e?void 0:e.dName}),activeTab:"?a=fee&n=structure&batch",children:(0,v.jsxs)("div",{className:u.Z.department_card_container,children:[(0,v.jsx)("img",{src:"/images/profileAndCover/department-profile-img.svg",alt:"department avatar",className:u.Z.department_card_image}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h6",{className:u.Z.department_card_name,children:(null===e||void 0===e?void 0:e.dName)||""}),(0,v.jsxs)("p",{className:u.Z.department_card_head,children:[g("total_masters")," ",null!==(t=null===e||void 0===e?void 0:e.classMasterCount)&&void 0!==t?t:0]})]})]})},null===e||void 0===e?void 0:e._id):(0,v.jsx)(l.Z,{carryParentState:(0,r.Z)((0,r.Z)({},x),{},{did:null===e||void 0===e?void 0:e._id,dName:null===e||void 0===e?void 0:e.dName}),activeTab:"fee&n=structure&batch",accessRole:h,callApi:p,children:(0,v.jsxs)("div",{className:u.Z.department_card_container,children:[(0,v.jsx)("img",{src:"/images/profileAndCover/department-profile-img.svg",alt:"department avatar",className:u.Z.department_card_image}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h6",{className:u.Z.department_card_name,children:(null===e||void 0===e?void 0:e.dName)||""}),(0,v.jsxs)("p",{className:u.Z.department_card_head,children:[g("total_masters")," ",null!==(a=null===e||void 0===e?void 0:e.classMasterCount)&&void 0!==a?a:0]})]})]})},null===e||void 0===e?void 0:e._id)})),y&&(0,v.jsx)(o.Z,{})]})},x=function(e){var t,a,n=e.instituteId,i=e.fees_category_count,r=e.fee_master_array_count,d=e.carryParentState,c=e.accessRole,o=e.callApi,x=e.viewAs,h=(0,s.$G)().t;return(0,v.jsxs)(v.Fragment,{children:["INSTITUTE"===x?(0,v.jsx)(_.Z,{carryParentState:d,activeTab:"?a=fee&n=category",children:(0,v.jsxs)("div",{className:u.Z.fees_category,children:[(0,v.jsx)("div",{className:u.Z.fees_category_icon,children:(0,v.jsx)("img",{src:"/images/fees-category-icon.svg",alt:"categor icon"})}),(0,v.jsxs)("div",{className:u.Z.fees_category_text,children:[(0,v.jsx)("h6",{children:h("fees_master")}),(0,v.jsxs)("p",{children:[h("fees_total")," ",null!==(t=i+r)&&void 0!==t?t:0]})]})]})}):(0,v.jsx)(l.Z,{carryParentState:d,activeTab:"fee&n=category",accessRole:c,callApi:o,children:(0,v.jsxs)("div",{className:u.Z.fees_category,children:[(0,v.jsx)("div",{className:u.Z.fees_category_icon,children:(0,v.jsx)("img",{src:"/images/fees-category-icon.svg",alt:"categor icon"})}),(0,v.jsxs)("div",{className:u.Z.fees_category_text,children:[(0,v.jsx)("h6",{children:h("fees_master")}),(0,v.jsxs)("p",{children:[h("fees_total")," ",null!==(a=i+r)&&void 0!==a?a:0]})]})]})}),(0,v.jsx)(m,{instituteId:n,carryParentState:d,accessRole:c,callApi:o,viewAs:x})]})},h=a(91104),p=a(98094),f=a(72426),g=a.n(f),j=a(66184),Z=function(e){var t,a,i=e.departmentId,d=e.carryParentState,o=e.accessRole,u=e.callApi,m=e.viewAs,x=(0,s.$G)().t,h=(0,c._C)({did:i,skip:!i}),p=h.oneDepartment,f=h.oneDepartmentRefetch;return(0,n.useEffect)((function(){i&&f()}),[i,f]),(0,v.jsx)(v.Fragment,{children:null===p||void 0===p||null===(t=p.department)||void 0===t||null===(a=t.batches)||void 0===a?void 0:a.map((function(e){return"INSTITUTE"===m?(0,v.jsx)(_.Z,{carryParentState:(0,r.Z)((0,r.Z)({},d),{},{batchId:null===e||void 0===e?void 0:e._id}),activeTab:"?a=fee&n=structure&standard",children:(0,v.jsxs)("div",{className:j.Z.class_container,children:[(0,v.jsx)("img",{className:j.Z.oneRowImage,src:"/images/master-24-grey-icon.svg",alt:"batch icon"}),(0,v.jsxs)("div",{className:j.Z.class_container_text,children:[(0,v.jsx)("h6",{children:null===e||void 0===e?void 0:e.batchName}),(0,v.jsxs)("p",{children:[x("created_on"),g()(e.createdAt).format("DD MMM yyyy")]})]})]})},null===e||void 0===e?void 0:e._id):(0,v.jsx)(l.Z,{carryParentState:(0,r.Z)((0,r.Z)({},d),{},{batchId:null===e||void 0===e?void 0:e._id}),activeTab:"fee&n=structure&standard",accessRole:o,callApi:u,children:(0,v.jsxs)("div",{className:j.Z.class_container,children:[(0,v.jsx)("img",{className:j.Z.oneRowImage,src:"/images/master-24-grey-icon.svg",alt:"batch icon"}),(0,v.jsxs)("div",{className:j.Z.class_container_text,children:[(0,v.jsx)("h6",{children:null===e||void 0===e?void 0:e.batchName}),(0,v.jsxs)("p",{children:[x("created_on"),g()(e.createdAt).format("DD MMM yyyy")]})]})]})},null===e||void 0===e?void 0:e._id)}))})},y=a(29017),N=function(e){var t,a=e.carryParentState,i=e.accessRole,s=e.departmentId,d=e.callApi,c=e.viewAs,o=(0,y.Wi)({did:s,skip:!s}),u=o.admissionClassMasterList,m=o.admissionClassMasterListRefetch;return(0,n.useEffect)((function(){s&&m()}),[s,m]),(0,v.jsx)(v.Fragment,{children:null===u||void 0===u||null===(t=u.classMasters)||void 0===t?void 0:t.map((function(e){return"INSTITUTE"===c?(0,v.jsx)(_.Z,{carryParentState:(0,r.Z)((0,r.Z)({},a),{},{clsId:null===e||void 0===e?void 0:e._id}),activeTab:"?a=fee&n=structure",children:(0,v.jsxs)("div",{className:j.Z.class_container,children:[(0,v.jsx)("img",{className:j.Z.oneRowImage,src:"/images/master-24-grey-icon.svg",alt:"batch icon"}),(0,v.jsx)("div",{className:j.Z.class_container_text,children:(0,v.jsx)("h6",{children:null===e||void 0===e?void 0:e.className})})]})},null===e||void 0===e?void 0:e._id):(0,v.jsx)(l.Z,{carryParentState:(0,r.Z)((0,r.Z)({},a),{},{clsId:null===e||void 0===e?void 0:e._id}),activeTab:"fee&n=structure",accessRole:i,callApi:d,children:(0,v.jsxs)("div",{className:j.Z.class_container,children:[(0,v.jsx)("img",{className:j.Z.oneRowImage,src:"/images/master-24-grey-icon.svg",alt:"batch icon"}),(0,v.jsx)("div",{className:j.Z.class_container_text,children:(0,v.jsx)("h6",{children:null===e||void 0===e?void 0:e.className})})]})},null===e||void 0===e?void 0:e._id)}))})},I=a(93433),b=a(23441),E=a(87932),D=a(66328),A=function(e){var t=e.financeId,a=e.getQuery,i=e.instituteId,l=(0,s.$G)().t,r=(0,b.YD)(),c=(0,d.Z)(r,2),_=c[0],m=c[1],x=(0,n.useState)(1),h=(0,d.Z)(x,2),p=h[0],f=h[1],g=(0,n.useState)(!0),j=(0,d.Z)(g,2),Z=j[0],y=j[1],N=(0,n.useState)(!1),A=(0,d.Z)(N,2),S=A[0],w=A[1],R=(0,n.useState)(!0),T=(0,d.Z)(R,2),P=T[0],F=T[1],k=(0,n.useState)([]),C=(0,d.Z)(k,2),M=C[0],U=C[1],G=(0,n.useState)(""),J=(0,d.Z)(G,2),q=J[0],Y=J[1],$=(0,E.rU)({data:{did:null===a||void 0===a?void 0:a.did,filterBy:null===a||void 0===a?void 0:a.clsId,page:p,limit:10,batch_by:null===a||void 0===a?void 0:a.batchId},skip:!(null!==a&&void 0!==a&&a.did)}),B=$.getAllFeesStructure,K=$.getAllFeesStructureRefetch;(0,n.useEffect)((function(){null!==a&&void 0!==a&&a.did&&(F(!0),K())}),[null===a||void 0===a?void 0:a.did,p,K]),(0,n.useEffect)((function(){m&&Z&&f((function(e){return e+1}))}),[m,Z]),(0,n.useEffect)((function(){var e,t;S?(U(null===B||void 0===B?void 0:B.all_structures),F(!1),w(!1)):null!==B&&void 0!==B&&B.all_structures?(U((function(e){var t,a;return null===(t=(0,I.Z)(new Set(null===(a=[].concat((0,I.Z)(e),(0,I.Z)(null===B||void 0===B?void 0:B.all_structures)))||void 0===a?void 0:a.map(JSON.stringify))))||void 0===t?void 0:t.map(JSON.parse)})),F(!1)):0===(null===B||void 0===B||null===(t=B.all_structures)||void 0===t?void 0:t.length)&&F(!1);10===(null===B||void 0===B||null===(e=B.all_structures)||void 0===e?void 0:e.length)?y(!0):y(!1)}),[null===B||void 0===B?void 0:B.all_structures]);return(0,v.jsxs)(v.Fragment,{children:[null===M||void 0===M?void 0:M.map((function(e,t){var a,n,i,s,r,d,c,o,m,x;return(null===M||void 0===M?void 0:M.length)===t+1?(0,v.jsxs)("div",{className:u.Z.fees_card,ref:_,onClick:function(){return Y(null===e||void 0===e?void 0:e._id)},style:{cursor:"pointer"},children:[(0,v.jsx)("img",{src:"/images/fees-category-icon.svg",alt:"categor icon"}),(0,v.jsxs)("div",{className:u.Z.fees_card_text,children:[(0,v.jsxs)("div",{className:u.Z.fees_card_text_bottom,children:[(0,v.jsx)("h6",{children:null!==(a=null===e||void 0===e||null===(n=e.category_master)||void 0===n?void 0:n.category_name)&&void 0!==a?a:""}),(0,v.jsx)("h6",{children:"(".concat(l("rs"),". ").concat(null!==(i=null===e||void 0===e?void 0:e.applicable_fees)&&void 0!==i?i:0,")")})]}),(0,v.jsxs)("div",{className:u.Z.fees_card_text_bottom,children:[(0,v.jsx)("h6",{children:null!==(s=null===e||void 0===e?void 0:e.structure_name)&&void 0!==s?s:""}),(0,v.jsxs)("h6",{children:[l("rs"),".",null!==(r=null===e||void 0===e?void 0:e.total_admission_fees)&&void 0!==r?r:0]})]})]})]},null===e||void 0===e?void 0:e._id):(0,v.jsxs)("div",{className:u.Z.fees_card,onClick:function(){return Y(null===e||void 0===e?void 0:e._id)},style:{cursor:"pointer"},children:[(0,v.jsx)("img",{src:"/images/fees-category-icon.svg",alt:"categor icon"}),(0,v.jsxs)("div",{className:u.Z.fees_card_text,children:[(0,v.jsxs)("div",{className:u.Z.fees_card_text_bottom,children:[(0,v.jsx)("h6",{children:null!==(d=null===e||void 0===e||null===(c=e.category_master)||void 0===c?void 0:c.category_name)&&void 0!==d?d:""}),(0,v.jsx)("h6",{children:"(".concat(l("rs"),". ").concat(null!==(o=null===e||void 0===e?void 0:e.applicable_fees)&&void 0!==o?o:0,")")})]}),(0,v.jsxs)("div",{className:u.Z.fees_card_text_bottom,children:[(0,v.jsx)("h6",{children:null!==(m=null===e||void 0===e?void 0:e.structure_name)&&void 0!==m?m:""}),(0,v.jsxs)("h6",{children:[l("rs"),".",null!==(x=null===e||void 0===e?void 0:e.total_admission_fees)&&void 0!==x?x:0]})]})]})]},null===e||void 0===e?void 0:e._id)})),P&&(0,v.jsx)(o.Z,{}),q&&(0,v.jsx)(D.Z,{structureId:q,setStructureId:Y,onRefetch:function(){f(1),w(!0),F(!0),K()},departmentId:null===a||void 0===a?void 0:a.did,instituteId:i,financeId:t,flowAs:"Finance_Manager"})]})},S=a(84959),w=a(33302),R=a(98734),T=function(e){var t,a,l,r,c,o,_,m,x,h,f=e.financeId,g=e.instituteId,j=e.accessRole,y=e.callApi,I=e.viewAs,b=(0,i.TH)(),D=(0,s.$G)().t,T=(0,n.useState)(!1),P=(0,d.Z)(T,2),F=P[0],k=P[1],C=(0,n.useState)(!1),M=(0,d.Z)(C,2),U=M[0],G=M[1],J=(0,S.FL)(),q=(0,d.Z)(J,1)[0],Y=(0,E.PY)(),$=(0,d.Z)(Y,1)[0],B=function(){k((function(e){return!e}))};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:u.Z.structure_container_title,children:[(0,v.jsx)("h6",{children:null!==(t=null===(a=b.state)||void 0===a?void 0:a.dName)&&void 0!==t?t:""}),(0,v.jsxs)("div",{className:u.Z.upload_excel_container,children:[(0,v.jsx)("label",{className:u.Z.upload_excel_file,htmlFor:"uploadExcel",children:(0,v.jsx)("img",{src:"/images/upload-xslx-icon.svg",alt:"add student icon",title:"Upload excel file"})}),(0,v.jsx)("input",{type:"file",id:"uploadExcel",accept:".xlsx",onChange:function(e){var t;if(null!==(t=e.target.files)&&void 0!==t&&t.length){G((function(e){return!e}));var a=new FormData;a.append("file",e.target.files[0]),q({fileUpload:a}).then((function(e){var t,a,n;null!==(t=e.data)&&void 0!==t&&t.imageKey?$({fid:f,did:null===(a=b.state)||void 0===a?void 0:a.did,excelFile:{excel_file:null===(n=e.data)||void 0===n?void 0:n.imageKey}}).then((function(){G((function(e){return!e}))})).catch({}):G((function(e){return!e}))})).catch({})}},style:{display:"none"}}),(0,v.jsx)("p",{className:u.Z.add_new_category,onClick:B,children:D("add_new_fees_structure")})]})]}),(0,v.jsx)(p.Z,{customStyle:{marginBottom:"1rem"}}),"structure&batch"===(null===b||void 0===b||null===(l=b.search)||void 0===l?void 0:l.substring(9))&&(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(Z,{departmentId:null!==(r=null===b||void 0===b||null===(c=b.state)||void 0===c?void 0:c.did)&&void 0!==r?r:"",carryParentState:null===b||void 0===b?void 0:b.state,accessRole:j,callApi:y,viewAs:I})}),"structure&standard"===(null===b||void 0===b||null===(o=b.search)||void 0===o?void 0:o.substring(9))&&(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(N,{departmentId:null!==(_=null===b||void 0===b||null===(m=b.state)||void 0===m?void 0:m.did)&&void 0!==_?_:"",carryParentState:null===b||void 0===b?void 0:b.state,accessRole:j,callApi:y,viewAs:I})}),"structure"===(null===b||void 0===b||null===(x=b.search)||void 0===x?void 0:x.substring(9))&&(0,v.jsx)(A,{financeId:f,instituteId:g,getQuery:b.state}),U&&(0,v.jsx)(R.Z,{}),F&&(0,v.jsx)(w.Z,{onClose:B,financeId:f,departmentId:null===(h=b.state)||void 0===h?void 0:h.did,onRefetch:function(){},instituteId:g,flowAs:"Finance_Manager"})]})},P=function(e){var t,a,n,s=e.financeId,l=e.instituteId,r=e.fees_category_count,d=e.fee_master_array_count,c=e.carryParentState,o=e.accessRole,_=e.callApi,m=e.viewAs,p=(0,i.TH)();return(0,v.jsxs)("div",{className:u.Z.fess_container,children:["fee"===(null===p||void 0===p||null===(t=p.search)||void 0===t?void 0:t.substring(3))&&(0,v.jsx)(x,{instituteId:l,fees_category_count:r,carryParentState:c,fee_master_array_count:d,accessRole:o,callApi:_,viewAs:m}),"category"===(null===p||void 0===p||null===(a=p.search)||void 0===a?void 0:a.substring(9))&&(0,v.jsx)(h.Z,{financeId:s}),"structure"===(null===p||void 0===p||null===(n=p.search)||void 0===n?void 0:n.substring(9,18))&&(0,v.jsx)(T,{financeId:s,instituteId:l,accessRole:o,callApi:_,viewAs:m})]})}},66184:function(e,t){t.Z={departmenthead:"ExamDepartment_departmenthead__Xh3As",demaprtment_list:"ExamDepartment_demaprtment_list__z2iRe",department_card_container:"ExamDepartment_department_card_container__qFMrc",department_card_image:"ExamDepartment_department_card_image__J6fqp",department_card_name:"ExamDepartment_department_card_name__jM+Nw",department_card_head:"ExamDepartment_department_card_head__Wqo+A",moderator_container_title:"ExamDepartment_moderator_container_title__7-Q25",with_search:"ExamDepartment_with_search__8IQE0",search_container_input:"ExamDepartment_search_container_input__Ts-kU",searchIcon:"ExamDepartment_searchIcon__0UsSf",class_container:"ExamDepartment_class_container__2Jbtn",class_container_text:"ExamDepartment_class_container_text__ZEb2P",oneRowImage:"ExamDepartment_oneRowImage__7+rr7",total_student_count:"ExamDepartment_total_student_count__oIOYD",total_other_count_container:"ExamDepartment_total_other_count_container__+KDGx",student_container:"ExamDepartment_student_container__exLvA",student_info_container:"ExamDepartment_student_info_container__TFXJh",student_info_text:"ExamDepartment_student_info_text__7OoR3",select_application_btn:"ExamDepartment_select_application_btn__XB+dU",promote_container:"ExamDepartment_promote_container__9Fm-W",promote_student_card:"ExamDepartment_promote_student_card__bkCGj",promote_student_cardActive:"ExamDepartment_promote_student_cardActive__cDYXf",promote_student_card_text:"ExamDepartment_promote_student_card_text__0K8wJ",promote_student_name:"ExamDepartment_promote_student_name__DDcYD",select_header:"ExamDepartment_select_header__wzRBE",select_all_btn:"ExamDepartment_select_all_btn__rEfea"}}}]);
//# sourceMappingURL=5361.84646f64.chunk.js.map