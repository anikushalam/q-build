"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[60298],{65841:(e,n,l)=>{l.d(n,{IC:()=>d,ST:()=>s,kV:()=>o,xo:()=>a,zH:()=>i,zr:()=>t});const i={ALL_FEE_ACCESS:["students","message","fund","verification"],MULTI_APP_ACCESS:["students","message","ongoing","ongoing-detail","complete"],INQUIRY_ACCESS:["students","message"],REFUND_ACCESS:["students","message","excess"],PENDING_FEE_ACCESS:["students","message","pending","reminder-message"],ONE_TAB_ACCESS:["students","message","ongoing","ongoing-detail"],DATA_EXPORT_ACCESS:["students","message","export"],ONGOING_ACCESS:["ongoing","ongoing-detail"],REQUIRED_DOCUMENTS:["document","export"]},o={Application:"Application",Selected:"Selected","FEE COLLECTION TAB":"FEE COLLECTION TAB",Confirmed:"Confirmed","REVIEW TAB":"REVIEW TAB",Allotted:"Allotted",Cancelled:"Cancelled"},d={Application:[{label:"application",id:"application",urlKey:"",groupIs:["",null]}],Selected:[{label:"docs_collection",id:"document",urlKey:"&n=document",groupIs:["document"]}],"FEE COLLECTION TAB":[{label:"fees_collection",id:"fees",urlKey:"&n=fees",groupIs:["fees"]}],Confirmed:[{label:"confirmed",id:"confirmed",urlKey:"&n=confirmed",groupIs:["confirmed","confirmed-multi"]}],"REVIEW TAB":[{label:"review",id:"review",urlKey:"&n=review",groupIs:["review","review-multi"]}],Allotted:[{label:"allottment",id:"allottment",urlKey:"&n=allottment",groupIs:["allottment"]}],Cancelled:[{label:"cancelled",id:"cancelled",urlKey:"&n=cancelled",groupIs:["cancelled"]}]},t=e=>{let n="";for(let l of e)n=n?"".concat(n," or ").concat(null===l||void 0===l?void 0:l.subjectName):"".concat(null===l||void 0===l?void 0:l.subjectName);return n},a={DATA_EXPORT_ACCESS:{subUrl:"export",authorizedKey:"data_export"},INQUIRY_ACCESS:{subUrl:"enq-application",authorizedKey:"admission_enquiry"},ONE_TAB_ACCESS:{subUrl:"ongoing",authorizedKey:"ongoing_admission"},MULTI_APP_ACCESS:{subUrl:"ongoing",nestedUrl:"ongoing-detail",authorizedKey:"ongoing_admission"},ONGOING_ACCESS:{subUrl:"ongoing",authorizedKey:"ongoing_admission"},ONGOING_VIEW_ACCESS:{subUrl:"ongoing",authorizedKey:"ongoing_admission"},COMBINED_APP_ACCESS:{subUrl:"combine-application",authorizedKey:"ongoing_admission"},REQUIRED_DOCUMENTS:{subUrl:"document",authorizedKey:"required_documents"}},s=[{key:"CAP",name:"intake_type1"},{key:"AGAINST_CAP",name:"intake_type2"},{key:"IL",name:"intake_type3"},{key:"EWS",name:"intake_type4"},{key:"TFWS",name:"intake_type5"}]},33030:(e,n,l)=>{l.d(n,{Z:()=>t});var i=l(39230),o=l(80476),d=l(80184);const t=e=>{let{label:n,onAction:l,customStyle:t}=e;const{t:a}=(0,i.$G)();return(0,d.jsx)("div",{className:o.Z.btn_container,onClick:()=>{l()},style:t,children:a(n)})}},50518:(e,n,l)=>{l.d(n,{Z:()=>t});var i=l(19056),o=l(52245),d=l(80184);const t=e=>{let{paymentHeading:n,selectLabel:l,onClick:t,selectedValue:s,customStyleContainer:r,customLabelStyle:u,customListStyle:c,errorShow:_,defalutValue:v,isAuthority:m,isDenied:h}=e;return(0,d.jsxs)(d.Fragment,{children:[n&&(0,d.jsx)("h6",{className:o.Z.payment_mode_heading,children:n}),(0,d.jsx)(i.Z,{selectLabel:l,onClick:t,selectedValue:s,options:a[m],customStyleContainer:r,customLabelStyle:u,customListStyle:c,errorShow:_,defalutValue:v,isDenied:h})]})};let a={admissionCollectMode:["Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft"],admissionCollectModePg:["Payment Gateway","Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft"],admissionStudentProfileCollectMode:["Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft","Unrecovered/Exemption"],admissionStudentProfileCollectModePg:["Payment Gateway","Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft","Unrecovered/Exemption"],depositRefundMode:["By Bank","By Cash"]}},33264:(e,n,l)=>{l.d(n,{Z:()=>Me});var i=l(16871),o=l(78981),d=l(60307),t=l(21348),a=l(1669),s=l(2651),r=l(72791),u=l(98684),c=l(39230),_=l(38857),v=l(16925),m=l(90904),h=l(93638),p=l(55336),f=l(61055),x=l(99183),j=l(85794),g=l(80184);const y=e=>{let{onClose:n,setScholarNumber:l,scholarNumber:i,rcid:o}=e;const{t:a}=(0,c.$G)(),[s,y]=(0,r.useState)(!1),[b,S]=(0,r.useState)(null!==i&&void 0!==i?i:""),[C,A]=(0,r.useState)(!1),[N,Z]=(0,r.useState)({open:!1,msg:"",variant:"error"}),[I]=(0,d.Fi)(),[k]=(0,d.YK)();(0,r.useEffect)((()=>{i&&S(i)}),[i]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(_.Z,{children:(0,g.jsxs)("div",{className:v.Z.modal_container,children:[(0,g.jsx)(t.default,{children:(0,g.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:v.Z.modal_container_header,children:(0,g.jsx)("h6",{children:a("scholarship_application_no")})}),(0,g.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,g.jsx)(m.Z,{}),(0,g.jsxs)(t.default,{customStyle:{paddingTop:"0"},children:[(0,g.jsx)(f.Z,{placeholder:a("scholarship_application_no_placeholder"),name:"scholar",value:b,type:"text",onChange:e=>S(e.target.value),errorShow:C.query}),(0,g.jsx)(h.Z,{label:"update",onAction:()=>{let e=(0,x.l)({query:b},[]);(0,x.x)(e)?(y((e=>!e)),k({num:b}).then((e=>{var i;null!==(i=e.data)&&void 0!==i&&i.count?(Z({msg:"This scholarship number already added",open:!0,variant:"error"}),y((e=>!e))):I({rcid:o,scholarData:{scholar_ship_number:b}}).then((()=>{l(b),y((e=>!e)),n()})).catch({})})).catch({})):A(e)}})]})]})}),s&&(0,g.jsx)(p.default,{}),(0,g.jsx)(j.Z,{eventState:N,eventStateHandler:Z})]})},b=e=>{let{scholarNumber:n,rcid:l}=e;const{t:d}=(0,c.$G)(),t=(0,i.TH)(),[a,s]=(0,r.useState)(""),[u,_]=(0,r.useState)(null!==n&&void 0!==n?n:"");(0,r.useEffect)((()=>{n&&_(n)}),[n]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:o.Z.student_admission_count_container,onClick:()=>{var e,n;S[null===(e=t.state)||void 0===e?void 0:e.editGovtNumberContorl]&&("ONGOING_VIEW_ACCESS"===(null===(n=t.state)||void 0===n?void 0:n.onlyReadView)||s(1))},children:(0,g.jsx)("button",{className:o.Z.add_scholar_number_btn,children:u?(0,g.jsxs)(g.Fragment,{children:[d("edit_scholarship_application_no"),(0,g.jsx)("span",{style:{color:"#121212"},children:u})]}):d("add_scholarship_application_no_if_applicable")})}),1===a?(0,g.jsx)(y,{onClose:()=>{s("")},scholarNumber:u,setScholarNumber:_,rcid:l}):null]})},S={authorized:!0};var C=l(60924),A=l(43997),N=l(50518);const Z=e=>{var n;let{onClose:l,admission:i}=e;const{t:o}=(0,c.$G)(),[a,s]=(0,r.useState)(!1),[y,b]=(0,r.useState)({amount:"",mode:"Online",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),[S,Z]=(0,r.useState)(""),[I,k]=(0,r.useState)({open:!1,msg:"",variant:"error"}),[F]=(0,d.LK)(),[E]=(0,d.zJ)();(0,r.useEffect)((()=>{b((e=>({...e,amount:null===i||void 0===i?void 0:i.excess_fee,fee_payment_amount:null===i||void 0===i?void 0:i.excess_fee})))}),[i]);const w=e=>{b((n=>({...n,[e.target.name]:e.target.value})))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(_.Z,{onClose:l,children:(0,g.jsxs)("div",{className:v.Z.modal_container,children:[(0,g.jsx)(t.default,{children:(0,g.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:v.Z.modal_container_header,children:(0,g.jsx)("h6",{children:o("refund_excess_fees")})}),(0,g.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:l})]})}),(0,g.jsx)(m.Z,{}),(0,g.jsxs)(t.default,{customStyle:{paddingTop:"0"},children:[(0,g.jsxs)("div",{className:v.Z.admission_fees_row,children:[(0,g.jsxs)("h6",{children:[o("refund_amount")," :"]}),(0,g.jsxs)("h6",{children:[o("rs_only")," ",null!==(n=null===i||void 0===i?void 0:i.excess_fee)&&void 0!==n?n:0]})]}),(0,g.jsx)(f.Z,{label:o("amount"),placeholder:o("amoute_details_collect"),name:"amount",value:y.amount,type:"tel",onChange:e=>{},errorShow:S.amount}),(0,g.jsx)(N.Z,{paymentHeading:o("payment_type_mode"),selectLabel:o("mode_placeholder"),errorShow:S.fee_payment_mode,onClick:e=>{b((n=>({...n,fee_payment_mode:e})))},defalutValue:y.fee_payment_mode,selectedValue:o("please_select_payment_mode"),isAuthority:"admissionCollectMode",customLabelStyle:{marginTop:"0"}}),(0,g.jsx)(C.Z,{label:o("select_date_of_transaction"),placeholder:o("please_select_date"),name:"transaction_date",value:y.transaction_date,onChange:e=>{b((n=>({...n,transaction_date:(0,A.jh)(e)})))},errorShow:S.transaction_date}),"Cash"===y.fee_payment_mode?null:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(f.Z,{label:o("bank_name_collect"),placeholder:o("please_enter_bank_name"),name:"fee_bank_name",value:y.fee_bank_name,type:"text",onChange:w}),(0,g.jsx)(f.Z,{label:o("banke_holder_name"),placeholder:o("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:y.fee_bank_holder,type:"text",onChange:w}),(0,g.jsx)(f.Z,{label:o("cheque_dd_neft"),placeholder:o("please_enter_utr_ref_number"),name:"fee_utr_reference",value:y.fee_utr_reference,type:"text",onChange:w})]}),(0,g.jsx)(h.Z,{label:"confirm",onAction:()=>{let e=(0,x.l)(y,["fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference"]);var n,o,d,t,a,r,u,c,_,v;(0,x.x)(e)?null!==i&&void 0!==i&&null!==(n=i.appId)&&void 0!==n&&n._id&&null!==i&&void 0!==i&&null!==(o=i.appId)&&void 0!==o&&null!==(d=o.admissionAdmin)&&void 0!==d&&null!==(t=d.institute)&&void 0!==t&&null!==(a=t.financeDepart)&&void 0!==a&&a[0]&&(s((e=>!e)),E({fid:null===i||void 0===i||null===(r=i.appId)||void 0===r||null===(u=r.admissionAdmin)||void 0===u||null===(c=u.institute)||void 0===c||null===(_=c.financeDepart)||void 0===_?void 0:_[0],appId:null===i||void 0===i||null===(v=i.appId)||void 0===v?void 0:v._id,flow:"BY_DEPARTMENT"}).then((e=>{var n,o,d,t,a,r,u,c,_,v,m,h,p,f,x,j;null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.denied?(s((e=>!e)),k({open:!0,msg:"Account is not activated",variant:"error"})):null!==i&&void 0!==i&&null!==(o=i.student)&&void 0!==o&&o._id&&null!==i&&void 0!==i&&null!==(d=i.appId)&&void 0!==d&&d._id&&null!==i&&void 0!==i&&null!==(t=i.appId)&&void 0!==t&&null!==(a=t.admissionAdmin)&&void 0!==a&&a._id&&null!==i&&void 0!==i&&i._id&&F({aid:null===i||void 0===i||null===(r=i.appId)||void 0===r||null===(u=r.admissionAdmin)||void 0===u?void 0:u._id,sid:null===i||void 0===i||null===(c=i.student)||void 0===c?void 0:c._id,appId:null===i||void 0===i||null===(_=i.appId)||void 0===_?void 0:_._id,payment:{rid:null===i||void 0===i?void 0:i._id,amount:null!==(v=null===y||void 0===y?void 0:y.amount)&&void 0!==v?v:0,mode:"Cash"===(null===y||void 0===y?void 0:y.mode)?"Offline":null!==(m=null===y||void 0===y?void 0:y.mode)&&void 0!==m?m:"",fee_payment_mode:null===y||void 0===y?void 0:y.fee_payment_mode,fee_payment_amount:null!==(h=null===y||void 0===y?void 0:y.fee_payment_amount)&&void 0!==h?h:0,transaction_date:null!==(p=(0,A._1)(y.transaction_date))&&void 0!==p?p:"",fee_bank_name:null!==(f=null===y||void 0===y?void 0:y.fee_bank_name)&&void 0!==f?f:"",fee_bank_holder:null!==(x=null===y||void 0===y?void 0:y.fee_bank_holder)&&void 0!==x?x:"",fee_utr_reference:null!==(j=null===y||void 0===y?void 0:y.fee_utr_reference)&&void 0!==j?j:""}}).then((()=>{s((e=>!e)),l()})).catch({})})).catch({})):Z(e)}})]})]})}),a&&(0,g.jsx)(p.default,{}),(0,g.jsx)(j.Z,{eventState:I,eventStateHandler:k})]})},I=e=>{var n,l,d,t,a,s,_,v,m,h;let{admission:f,scholarshipApplicable:x}=e;const{t:y}=(0,c.$G)(),b=(0,i.TH)(),[S,C]=(0,r.useState)(""),[A,N]=(0,r.useState)(!1),[I,F]=(0,r.useState)({open:!1,msg:"",variant:"error"}),[E,w]=(0,r.useState)(0),O=()=>{var e,n,l,i,o,d,t;null!==f&&void 0!==f&&null!==(e=f.appId)&&void 0!==e&&null!==(n=e.admissionAdmin)&&void 0!==n&&null!==(l=n.institute)&&void 0!==l&&null!==(i=l.financeDepart)&&void 0!==i&&i[0]&&null!==f&&void 0!==f&&null!==(o=f.appId)&&void 0!==o&&null!==(d=o.admissionAdmin)&&void 0!==d&&d._id&&k[null===(t=b.state)||void 0===t?void 0:t.collectAccess]&&C(1)};return(0,r.useEffect)((()=>{var e,n;if(null!==f&&void 0!==f&&null!==(e=f.government_card)&&void 0!==e&&e.remaining_fee||null!==f&&void 0!==f&&null!==(n=f.applicable_card)&&void 0!==n&&n.remaining_fee){var l,i;let e=(null===f||void 0===f||null===(l=f.government_card)||void 0===l?void 0:l.remaining_fee)+(null===f||void 0===f||null===(i=f.applicable_card)||void 0===i?void 0:i.remaining_fee);w(e)}}),[null===f||void 0===f||null===(n=f.applicable_card)||void 0===n?void 0:n.remaining_fee,null===f||void 0===f||null===(l=f.government_card)||void 0===l?void 0:l.remaining_fee]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("section",{className:o.Z.student_admission_count_container,style:{marginTop:x?"0.8rem":"-0.6rem"},children:[(0,g.jsxs)("div",{className:o.Z.student_admission_count,children:[(0,g.jsxs)("h5",{style:{color:"#121212"},children:[y("rs_only"),null!==(d=null===f||void 0===f||null===(t=f.fee_structure)||void 0===t?void 0:t.total_admission_fees)&&void 0!==d?d:0,(0,g.jsx)("span",{style:{fontSize:"13px",fontWeight:"400",color:"#121212"},children:" (".concat(y("rs_only")).concat(null!==(a=null===f||void 0===f||null===(s=f.fee_structure)||void 0===s?void 0:s.applicable_fees)&&void 0!==a?a:0,")")})]}),(0,g.jsx)("h6",{style:{marginBottom:"1rem"},children:y("total_applicable_fees")}),(0,g.jsxs)("h5",{style:{color:"#008000"},children:[y("rs_only")," ",null!==(_=null===f||void 0===f?void 0:f.paid_fee)&&void 0!==_?_:0,(0,g.jsx)("span",{style:{fontSize:"13px",fontWeight:"400",color:"#121212"},children:" (".concat(y("rs_only")).concat(null===f||void 0===f||null===(v=f.applicable_card)||void 0===v?void 0:v.remaining_fee,")")})]}),(0,g.jsx)("h6",{children:y("paid_and_outstanding")})]}),(0,g.jsx)("div",{className:o.Z.student_admission_count_image,children:"Cancel"===f.status?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("img",{src:"".concat(u.U_,"/fees-refund.svg"),alt:"pending icon"}),(0,g.jsx)("div",{className:o.Z.show_text,children:(0,g.jsxs)("h6",{children:[" ",y("cancelled")]})})]}):(0,g.jsx)(g.Fragment,{children:E<=0?(null===f||void 0===f?void 0:f.excess_fee)>0?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("img",{src:"".concat(u.U_,"/fees-refund.svg"),alt:"pending icon"}),(0,g.jsxs)("div",{className:o.Z.show_text,children:[(0,g.jsxs)("h6",{style:{fontWeight:"600"},children:[y("rs_only")," ",null!==(m=null===f||void 0===f?void 0:f.excess_fee)&&void 0!==m?m:0]}),(0,g.jsxs)("h6",{children:[" ",y("excess")]}),(0,g.jsx)("button",{className:o.Z.image_refund_btn,onClick:O,children:y("refund")})]})]}):0===E?(0,g.jsx)("img",{src:"".concat(u.U_,"/fees-paid.svg"),alt:"pending icon",style:{width:"140px",height:"140px"}}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("img",{src:"".concat(u.U_,"/fees-pending.svg"),alt:"pending icon",style:{width:"140px",height:"140px"}}),(0,g.jsxs)("div",{className:o.Z.show_text,children:[(0,g.jsxs)("h6",{style:{fontWeight:"600"},children:[y("rs_only")," ",E]}),(0,g.jsxs)("h6",{children:[" ",y("pending")]})]})]}):"Cancel"===f.status?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("img",{src:"".concat(u.U_,"/fees-refund.svg"),alt:"pending icon"}),(0,g.jsx)("div",{className:o.Z.show_text,children:(0,g.jsxs)("h6",{children:[" ",y("cancel")]})})]}):(null===f||void 0===f?void 0:f.excess_fee)>0?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("img",{src:"".concat(u.U_,"/fees-refund.svg"),alt:"pending icon"}),(0,g.jsxs)("div",{className:o.Z.show_text,children:[(0,g.jsxs)("h6",{style:{fontWeight:"600"},children:[y("rs_only")," ",null!==(h=null===f||void 0===f?void 0:f.excess_fee)&&void 0!==h?h:0]}),(0,g.jsxs)("h6",{children:[" ",y("excess")]}),(0,g.jsx)("button",{className:o.Z.image_refund_btn,onClick:O,children:y("refund")})]})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("img",{src:"".concat(u.U_,"/fees-pending.svg"),alt:"pending icon",style:{width:"140px",height:"140px"}}),(0,g.jsxs)("div",{className:o.Z.show_text,children:[(0,g.jsxs)("h6",{style:{fontWeight:"600"},children:[y("rs_only")," ",E]}),(0,g.jsxs)("h6",{children:[" ",y("pending")]})]})]})})})]}),1===S?(0,g.jsx)(Z,{onClose:()=>{C("")},admission:f}):null,A&&(0,g.jsx)(p.default,{}),(0,g.jsx)(j.Z,{eventState:I,eventStateHandler:F})]})},k={ADMISSION_ADMIN:!0};var F=l(97892),E=l.n(F),w=l(89064);const O=e=>{var n,l,i;let{installId:o,onClose:t,rid:a,onMultipleInstallment:s,install:u,admission:_,onEditMenu1:v}=e;const{t:m}=(0,c.$G)(),[h,p]=(0,r.useState)(!1),[f]=(0,d.WO)(),[x]=(0,d.su)();return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(w.Z,{onClose:t,disabled:h,children:["Paid"!==(null===u||void 0===u?void 0:u.status)?(0,g.jsx)("h6",{onClick:s,children:m("new_installment")}):null,"Paid"!==(null===u||void 0===u?void 0:u.status)&&(null===u||void 0===u?void 0:u.remainAmount)>0&&((null===_||void 0===_||null===(n=_.government_card)||void 0===n?void 0:n.applicable_fee)>0||(null===_||void 0===_||null===(l=_.government_card)||void 0===l?void 0:l.paid_fee)>0||(null===_||void 0===_||null===(i=_.government_card)||void 0===i?void 0:i.remaining_fee)>0)?(0,g.jsx)("h6",{onClick:v,children:m("transfer_to_scholarship_fees")}):null,(null===u||void 0===u?void 0:u.remainAmount)<0?(0,g.jsx)("h6",{onClick:()=>{a&&o&&(p((e=>!e)),f({rid:a,raid:o}).then((()=>{p((e=>!e)),t()})).catch({}))},children:m("delete")}):null,"Paid"===(null===u||void 0===u?void 0:u.status)?(0,g.jsx)("h6",{onClick:()=>{var e,n,l,i,d,a,s,r,u,c;null!==_&&void 0!==_&&null!==(e=_.applicable_card)&&void 0!==e&&e._id&&o&&null!==_&&void 0!==_&&null!==(n=_.appId)&&void 0!==n&&null!==(l=n.admissionAdmin)&&void 0!==l&&null!==(i=l.institute)&&void 0!==i&&null!==(d=i.financeDepart)&&void 0!==d&&d[0]&&(p((e=>!e)),x({rid:o,nid:null===_||void 0===_||null===(a=_.applicable_card)||void 0===a?void 0:a._id,bodyParameter:{fid:null===_||void 0===_||null===(s=_.appId)||void 0===s||null===(r=s.admissionAdmin)||void 0===r||null===(u=r.institute)||void 0===u||null===(c=u.financeDepart)||void 0===c?void 0:c[0]}}).then((()=>{p((e=>!e)),t()})).catch({}))},children:m("remove_installment")}):null]})})};var T=l(6758),G=l(37782),M=l(1095);const D=e=>{let{rid:n,appId:i,receiptFile:d}=e;const{t:t}=(0,c.$G)(),[a,s]=(0,r.useState)(""),[u,_]=(0,r.useState)(!1),[v,m]=(0,r.useState)(""),{financeReceipt:h,financeReceiptRefetch:f}=(0,T.Nw)({rid:a,skip:!a});(0,r.useEffect)((()=>{a&&f()}),[a,f]),(0,r.useEffect)((()=>{null!==h&&void 0!==h&&h.receipt&&null!==h&&void 0!==h&&h.all_remain&&m(h)}),[h]),(0,r.useEffect)((()=>{if(v){const e=new Worker(new URL(l.p+l.u(21124),l.b)),{institute:n,studentInfo:o,paymentReceiptInfo:d}=(0,G.Hs)(null===v||void 0===v?void 0:v.all_remain,null===v||void 0===v?void 0:v.receipt,i);e.postMessage({institute:n,studentInfo:o,paymentReceiptInfo:d,printReceiptType:"Refunded"===(null===d||void 0===d?void 0:d.transactonRefund)?"ADMISSION_REFUND":"ADMISSION"}),e.onmessage=n=>{n&&(window.open(n.data,"_blank"),_((e=>!e)),m(""),e.terminate())}}}),[v]);return(0,g.jsxs)(g.Fragment,{children:[d?(0,g.jsx)("a",{href:"".concat(M.q2,"/").concat(d),target:"_blank",rel:"noopener noreferrer",children:(0,g.jsx)("button",{className:o.Z.view_receipt_btn,children:t("view_receipt")})}):(0,g.jsx)("button",{className:o.Z.view_receipt_btn,onClick:()=>{n&&(_((e=>!e)),s(n),a===n&&m(h))},children:t("view_receipt")}),u&&(0,g.jsx)(p.default,{})]})};var P=l(7562),R=l(20659),V=l(26071),B=l(64499),U=l(71439);const L=e=>{var n,l,o,a,s,y;let{onClose:b,install:S,admission:Z,collectStaffId:I}=e;const{t:k}=(0,c.$G)(),F=(0,i.UO)(),[w,O]=(0,r.useState)(!1),[T,G]=(0,r.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:E()().format("DD/MM/YYYY"),fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:"",pay_remain:!1}),[M,D]=(0,r.useState)(""),[L,q]=(0,r.useState)(0),[z,W]=(0,r.useState)({open:!1,msg:"",variant:"error"}),[H,Y]=(0,r.useState)({amount:0,type:"Admission",isTransaction:!1,pay_remain:!1}),{studentInstituteCharges:$}=(0,d.xY)({data:{id:null===S||void 0===S?void 0:S.instituteId},skip:!(null!==S&&void 0!==S&&S.instituteId)}),[J]=(0,d.Wm)(),[K]=(0,d.zJ)();(0,r.useEffect)((()=>{var e;null!==S&&void 0!==S&&S.remainAmount&&(G((e=>({...e,amount:+(null===S||void 0===S?void 0:S.remainAmount),fee_payment_amount:+(null===S||void 0===S?void 0:S.remainAmount)}))),Y({amount:null!==(e=+(null===S||void 0===S?void 0:S.remainAmount))&&void 0!==e?e:0,type:"Admission",isTransaction:!1,pay_remain:!1}))}),[null===S||void 0===S?void 0:S.remainAmount]);const Q=e=>{G((n=>({...n,[e.target.name]:e.target.value})))},X=e=>{G((n=>({...n,pay_remain:e})));let n=0;if(e){let e=0;for(let n of null===Z||void 0===Z||null===(l=Z.applicable_card)||void 0===l?void 0:l.remaining_array){var l;"Paid"!==(null===n||void 0===n?void 0:n.status)&&(e+=null===n||void 0===n?void 0:n.remainAmount)}q(e),n=e}Y(n>0?l=>({...l,pay_remain:e,amount:n}):n=>({...n,pay_remain:e}))};return(0,g.jsxs)(g.Fragment,{children:[H.isTransaction?(0,g.jsx)(U.Z,{onClose:b,allContent:{...H,platform_charges:null===$||void 0===$||null===(n=$.platform_charges)||void 0===n?void 0:n.percentage},checkoutAdmissionHandler:()=>{var e,n,l,i,o,d,t,a,s,r,u,c,_;let v=2.1*+(null===H||void 0===H?void 0:H.amount)/100,m=v+18*+v/100;const h=parseInt(null===H||void 0===H?void 0:H.amount);var p=Math.ceil(h+ +m.toFixed(2));(0,B.oU)({amount:null!==(e=+(null===H||void 0===H?void 0:H.amount))&&void 0!==e?e:10,amount_nocharges:null!==(n=+p)&&void 0!==n?n:0,type:"Admission",paidBy:"".concat(null===Z||void 0===Z||null===(l=Z.student)||void 0===l?void 0:l._id),paidTo:"".concat(null===S||void 0===S?void 0:S.instituteId),moduleId:"".concat(null===S||void 0===S?void 0:S.appId),ad_status_id:null,payment_installment:null===S||void 0===S?void 0:S.installmentValue,ad_install:null,month:null,payment_remain_1:null,payment_card_type:null,payment_book_id:null,name:F.username,isApk:"web",payment_card_id:null!==(i=null===Z||void 0===Z?void 0:Z._id)&&void 0!==i?i:null,payment_remain_fees:H.pay_remain,charge:{num_platform_percent:null!==(o=null===$||void 0===$||null===(d=$.platform_charges)||void 0===d?void 0:d.percentage)&&void 0!==o?o:0,num_platform_max:null!==(t=null===$||void 0===$||null===(a=$.platform_charges)||void 0===a?void 0:a.maximum)&&void 0!==t?t:0,num_trans_pecent:null!==(s=null===$||void 0===$||null===(r=$.transaction_charges)||void 0===r?void 0:r.percentage)&&void 0!==s?s:0,num_trans_max:null!==(u=null===$||void 0===$||null===(c=$.transaction_charges)||void 0===c?void 0:c.maximum)&&void 0!==u?u:0,num_app_max:null!==(_=null===$||void 0===$?void 0:$.application_charges)&&void 0!==_?_:0},nsid:null===S||void 0===S?void 0:S._id}).then((e=>{var n,l;window.onScriptLoad(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(l=n.body)||void 0===l?void 0:l.txnToken,null===e||void 0===e?void 0:e.order,null===e||void 0===e?void 0:e.amount)})).catch((e=>{console.info(e)}))},isOptimzed:!0}):(0,g.jsx)(_.Z,{onClose:b,children:(0,g.jsxs)("div",{className:v.Z.modal_container,children:[(0,g.jsx)(t.default,{children:(0,g.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:v.Z.modal_container_header,children:(0,g.jsx)("h6",{children:k("collect_fees")})}),(0,g.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:b})]})}),(0,g.jsx)(m.Z,{}),(0,g.jsxs)(t.default,{customStyle:{paddingTop:"0"},children:[(0,g.jsxs)("div",{className:v.Z.admission_fees_row,children:[(0,g.jsxs)("h6",{children:[k("applicable_amount")," :"]}),(0,g.jsxs)("h6",{children:[k("rs_only")," ",null!==(l=null===Z||void 0===Z||null===(o=Z.applicable_card)||void 0===o?void 0:o.applicable_fee)&&void 0!==l?l:0]})]}),(0,g.jsxs)("div",{className:v.Z.admission_fees_row,children:[(0,g.jsxs)("h6",{children:[k(T.pay_remain?"amount_remain_installment":"remaining_fees")," ",":"]}),(0,g.jsxs)("h6",{children:[k("rs_only")," ",T.pay_remain?L:null!==(a=null===S||void 0===S?void 0:S.remainAmount)&&void 0!==a?a:0]})]}),null!==Z&&void 0!==Z&&null!==(s=Z.fee_structure)&&void 0!==s&&s.total_installments&&+(null===Z||void 0===Z||null===(y=Z.fee_structure)||void 0===y?void 0:y.total_installments)>1?(0,g.jsx)(R.Z,{label:"pay_rest_remaining_fees",children:null===P.nj||void 0===P.nj?void 0:P.nj.map((e=>(0,g.jsx)(V.Z,{tile:e,onTile:X,activeTile:T.pay_remain},null===e||void 0===e?void 0:e.id)))}):null,(0,g.jsx)(f.Z,{label:k("amount"),placeholder:k("amoute_details_collect"),name:"amount",value:T.amount,type:"tel",onChange:e=>{G((n=>({...n,amount:+e.target.value,fee_payment_amount:+e.target.value}))),Y((n=>({...n,amount:+e.target.value})))},errorShow:M.amount,msg:M.rest_issue}),(0,g.jsx)(N.Z,{paymentHeading:k("payment_type_mode"),selectLabel:k("mode_placeholder"),onClick:e=>{G((n=>({...n,mode:"Online",fee_payment_mode:e})))},errorShow:M.fee_payment_mode,defalutValue:T.fee_payment_mode,selectedValue:k("please_select_payment_mode"),isAuthority:"admissionStudentProfileCollectModePg",customLabelStyle:{marginTop:"0"}}),"Payment Gateway"===T.fee_payment_mode?(0,g.jsx)(h.Z,{label:"collect",onAction:()=>{let e=(0,x.l)({amount:H.amount});var n,l,i,o,d,t,a,s,r;(0,x.x)(e)?H.pay_remain&&H.amount<L?D({rest_issue:"Amount should not be less than total remaining fees"}):!H.pay_remain&&H.amount>(null===S||void 0===S?void 0:S.remainAmount)&&+(null===Z||void 0===Z||null===(n=Z.fee_structure)||void 0===n?void 0:n.total_installments)>1?D({rest_issue:"Amount should not be greater than remaining fees"}):null!==$&&void 0!==$&&$.institute?null!==S&&void 0!==S&&S.appId&&null!==Z&&void 0!==Z&&null!==(l=Z.appId)&&void 0!==l&&null!==(i=l.admissionAdmin)&&void 0!==i&&null!==(o=i.institute)&&void 0!==o&&null!==(d=o.financeDepart)&&void 0!==d&&d[0]&&(O((e=>!e)),K({fid:null===Z||void 0===Z||null===(t=Z.appId)||void 0===t||null===(a=t.admissionAdmin)||void 0===a||null===(s=a.institute)||void 0===s||null===(r=s.financeDepart)||void 0===r?void 0:r[0],appId:null===S||void 0===S?void 0:S.appId,flow:"BY_DEPARTMENT"}).then((e=>{var n;O((e=>!e)),null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.denied?W({open:!0,msg:"Account is not activated",variant:"error"}):Y((e=>({...e,isTransaction:!0})))})).catch({})):W({open:!0,msg:"Online Payment Not Activated",variant:"error"}):D(e)}}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(C.Z,{label:k("select_date_of_transaction"),placeholder:k("please_select_date"),name:"transaction_date",value:T.transaction_date,onChange:e=>{G((n=>({...n,transaction_date:(0,A.jh)(e)})))},errorShow:M.transaction_date}),"Cash"===T.fee_payment_mode?null:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(f.Z,{label:k("bank_name_collect"),placeholder:k("please_enter_bank_name"),name:"fee_bank_name",value:T.fee_bank_name,type:"text",onChange:Q}),(0,g.jsx)(f.Z,{label:k("banke_holder_name"),placeholder:k("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:T.fee_bank_holder,type:"text",onChange:Q}),(0,g.jsx)(f.Z,{label:k("cheque_dd_neft"),placeholder:k("please_enter_utr_ref_number"),name:"fee_utr_reference",value:T.fee_utr_reference,type:"text",onChange:Q})]}),(0,g.jsx)(h.Z,{label:"collect",onAction:()=>{let e="";var n,l,i,o,d,t,a,s,r;(e="Unrecovered/Exemption"===T.fee_payment_mode?(0,x.l)(T,["amount","mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference","pay_remain"]):(0,x.l)(T,["mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference","pay_remain"]),(0,x.x)(e))?T.pay_remain&&T.amount<L?D({rest_issue:"Amount should not be less than total remaining fees"}):!T.pay_remain&&T.amount>(null===S||void 0===S?void 0:S.remainAmount)&&+(null===Z||void 0===Z||null===(n=Z.fee_structure)||void 0===n?void 0:n.total_installments)>1?D({rest_issue:"Amount should not be greater than remaining fees"}):null!==S&&void 0!==S&&S.appId&&null!==Z&&void 0!==Z&&null!==(l=Z.appId)&&void 0!==l&&null!==(i=l.admissionAdmin)&&void 0!==i&&null!==(o=i.institute)&&void 0!==o&&null!==(d=o.financeDepart)&&void 0!==d&&d[0]&&(O((e=>!e)),K({fid:null===Z||void 0===Z||null===(t=Z.appId)||void 0===t||null===(a=t.admissionAdmin)||void 0===a||null===(s=a.institute)||void 0===s||null===(r=s.financeDepart)||void 0===r?void 0:r[0],appId:null===S||void 0===S?void 0:S.appId,flow:"BY_DEPARTMENT"}).then((e=>{var n,l,i,o,d,t,a,s,r,u,c,_,v;null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.denied?(O((e=>!e)),W({open:!0,msg:"Account is not activated",variant:"error"})):null!==Z&&void 0!==Z&&null!==(l=Z.student)&&void 0!==l&&l._id&&null!==S&&void 0!==S&&S.appId&&null!==S&&void 0!==S&&S._id&&J({aid:null===Z||void 0===Z||null===(i=Z.appId)||void 0===i||null===(o=i.admissionAdmin)||void 0===o?void 0:o._id,sid:null===Z||void 0===Z||null===(d=Z.student)||void 0===d?void 0:d._id,appId:null===S||void 0===S?void 0:S.appId,payment:{card_id:null===Z||void 0===Z||null===(t=Z.applicable_card)||void 0===t?void 0:t._id,rid:null===Z||void 0===Z?void 0:Z._id,type:null===S||void 0===S?void 0:S.installmentValue,raid:null===S||void 0===S?void 0:S._id,nsid:null===S||void 0===S?void 0:S._id,amount:null!==(a=null===T||void 0===T?void 0:T.amount)&&void 0!==a?a:0,mode:"Cash"===(null===T||void 0===T?void 0:T.fee_payment_mode)?"Offline":null!==(s=null===T||void 0===T?void 0:T.mode)&&void 0!==s?s:"",fee_payment_mode:"Cash"===(null===T||void 0===T?void 0:T.fee_payment_mode)?"By Cash":null===T||void 0===T?void 0:T.fee_payment_mode,fee_payment_amount:null!==(r=null===T||void 0===T?void 0:T.fee_payment_amount)&&void 0!==r?r:0,transaction_date:null!==(u=(0,A._1)(T.transaction_date))&&void 0!==u?u:"",fee_bank_name:null!==(c=null===T||void 0===T?void 0:T.fee_bank_name)&&void 0!==c?c:"",fee_bank_holder:null!==(_=null===T||void 0===T?void 0:T.fee_bank_holder)&&void 0!==_?_:"",fee_utr_reference:null!==(v=null===T||void 0===T?void 0:T.fee_utr_reference)&&void 0!==v?v:"",pay_remain:T.pay_remain,staff_id:I||""}}).then((()=>{O((e=>!e)),b()})).catch({})})).catch({})):D(e)}})]})]})]})}),w&&(0,g.jsx)(p.default,{}),(0,g.jsx)(j.Z,{eventState:z,eventStateHandler:W})]})},q=e=>{let{installId:n,onClose:l,rid:i,installAmount:o,collectStaffId:a}=e;const{t:s}=(0,c.$G)(),[j,y]=(0,r.useState)(!1),[b,S]=(0,r.useState)(0),[C,A]=(0,r.useState)(!1),[N]=(0,d.d2)();(0,r.useEffect)((()=>{o&&S(o)}),[o]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(_.Z,{children:(0,g.jsxs)("div",{className:v.Z.modal_container,children:[(0,g.jsx)(t.default,{children:(0,g.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:v.Z.modal_container_header,children:(0,g.jsx)("h6",{children:s("transfer_to_scholarship_fees")})}),(0,g.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:l})]})}),(0,g.jsx)(m.Z,{}),(0,g.jsxs)(t.default,{customStyle:{paddingTop:"0"},children:[(0,g.jsx)(f.Z,{label:s("amount"),placeholder:s("please_enter_amount_paid"),name:"amount",value:b,type:"tel",onChange:e=>S(e.target.value),errorShow:C.state,msg:C.amount_issue}),(0,g.jsx)(h.Z,{label:"confirm",onAction:()=>{if(i&&n){let e=(0,x.l)({query:b},[]);(0,x.x)(e)&&b<=o?(y((e=>!e)),N({rid:i,applicableBody:{raid:n,amount:+b,staff_id:a||""}}).then((()=>{y((e=>!e)),l()})).catch({})):A(b>o?{amount_issue:"Amount should be less than or equal to installment Amount"}:e)}}})]})]})}),j&&(0,g.jsx)(p.default,{})]})};var z=l(4007),W=l(19056);const H=e=>{let{headsList:n,onSelectHead:l,selectedId:i,onClose:o}=e;const{t:d}=(0,c.$G)();return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(_.Z,{onClose:o,children:(0,g.jsxs)("div",{className:z.Z.modal_container,children:[(0,g.jsx)(t.default,{children:(0,g.jsxs)("div",{className:z.Z.modal_container_outer_header,children:[(0,g.jsxs)("div",{className:z.Z.modal_container_header,children:[(0,g.jsx)("img",{src:"".concat(u.J7,"/back-arrow.svg"),alt:"close icon",onClick:o}),(0,g.jsx)("h6",{style:{marginBottom:"0"},children:d("select_fee_heads")})]}),(0,g.jsx)(h.Z,{label:"select",customStyle:{margin:"0",padding:"0.5rem 1rem"},onAction:o})]})}),(0,g.jsx)(m.Z,{}),(0,g.jsx)(t.default,{customStyle:{paddingTop:"0"},children:(0,g.jsxs)("section",{className:z.Z.table_container,style:{margin:"0"},children:[(0,g.jsxs)("div",{className:z.Z.table_heading,children:[(0,g.jsx)("h6",{children:d("applicable_fee_heads")}),(0,g.jsx)("h6",{children:d("amount")})]}),(0,g.jsx)("div",{className:z.Z.table_body,children:null===n||void 0===n?void 0:n.map((e=>(0,g.jsxs)("div",{className:z.Z.table_body_list,onClick:()=>null!==i&&void 0!==i&&i.includes(null===e||void 0===e?void 0:e._id)||(null===e||void 0===e?void 0:e.head_amount)>0?l(e):{},style:{opacity:null!==i&&void 0!==i&&i.includes(null===e||void 0===e?void 0:e._id)||(null===e||void 0===e?void 0:e.head_amount)>0?"1":"0.5"},children:[(0,g.jsxs)("h6",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"1rem"},children:[(0,g.jsx)("img",{src:null!==i&&void 0!==i&&i.includes(null===e||void 0===e?void 0:e._id)?"".concat(u.U_,"/check.svg"):"".concat(u.U_,"/uncheck.svg"),alt:"check icon",style:{cursor:"pointer"}}),null===e||void 0===e?void 0:e.head_name]}),(0,g.jsx)("h6",{children:null===e||void 0===e?void 0:e.head_amount})]},null===e||void 0===e?void 0:e._id)))})]})})]})})})},Y=e=>{var n;let{onClose:l,pid:i,install:o,structureId:a}=e;const{t:s}=(0,c.$G)(),[y,b]=(0,r.useState)(!1),[S,N]=(0,r.useState)(""),[Z,I]=(0,r.useState)([]),[k,F]=(0,r.useState)(0),[E,w]=(0,r.useState)(""),[O,G]=(0,r.useState)([]),[M,D]=(0,r.useState)(!1),[P,R]=(0,r.useState)({open:!1,msg:"",variant:"error"}),[V]=(0,d.JA)(),{financeFeeStructureDetail:B}=(0,T.eY)({fsid:a,skip:!a}),U=(0,r.useCallback)((e=>{N(e);const n=[];for(let l=0;l<e;l++)n.push({inst_price:"",inst_date:"",inst_type:$[l],fee_heads:[],fee_heads_id:[],feehead_total:0});I(n)}),[]);return(0,g.jsxs)(g.Fragment,{children:[0===k?(0,g.jsx)(_.Z,{children:(0,g.jsxs)("div",{className:v.Z.modal_container,style:{minWidth:"38rem"},children:[(0,g.jsx)(t.default,{children:(0,g.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:v.Z.modal_container_header,children:(0,g.jsx)("h6",{children:s("new_installment")})}),(0,g.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:l})]})}),(0,g.jsx)(m.Z,{}),(0,g.jsxs)(t.default,{customStyle:{paddingTop:"0"},children:[(0,g.jsx)(W.Z,{selectLabel:s("total_installment"),selectedValue:s("select_installment"),defalutValue:S,onClick:U,options:[1,2,3,4,5,6,7,8,9,10,11,12],errorShow:M.installmentCount}),null===Z||void 0===Z?void 0:Z.map(((e,n)=>{var l,i,o,d;return(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:v.Z.afsi_container,style:{alignItems:"flex-end"},children:[(0,g.jsx)(f.Z,{label:"".concat(s("installment")," ").concat(n+1),placeholder:s("Amount"),name:"inst_price".concat(n),value:e.inst_price,type:"tel",onChange:e=>((e,n)=>{const l=[...Z];for(let i=0;i<(null===l||void 0===l?void 0:l.length);i++)i===n&&(l[i].inst_price=+e.target.value);I(l)})(e,n),errorShow:M["inst_price".concat(n)],customFormInputContainer:{width:"48%"}}),(0,g.jsx)(C.Z,{label:s("due_last_date"),placeholder:s("please_select_the_date"),name:"inst_date".concat(n),value:e.inst_date?(0,A.jh)(e.inst_date):"",onChange:e=>((e,n)=>{const l=[...Z];for(let i=0;i<(null===l||void 0===l?void 0:l.length);i++)i===n&&(l[i].inst_date=(0,A.O_)(e));I(l)})(e,n),customFormInputContainer:{width:"48%"},errorShow:M["inst_date".concat(n)]}),(0,g.jsx)(h.Z,{label:"select_heads",onAction:()=>(e=>{F(1),w(e);let n=[];for(let i of null===B||void 0===B||null===(l=B.structure)||void 0===l?void 0:l.applicable_fees_heads){var l;let e={created_at:null===i||void 0===i?void 0:i.created_at,head_amount:null===i||void 0===i?void 0:i.head_amount,head_name:null===i||void 0===i?void 0:i.head_name,is_society:null===i||void 0===i?void 0:i.is_society,master:null===i||void 0===i?void 0:i.master,_id:null===i||void 0===i?void 0:i._id};for(let n of Z)for(let l of null===n||void 0===n?void 0:n.fee_heads)(null===i||void 0===i?void 0:i.master)===(null===l||void 0===l?void 0:l.master)&&(e.head_amount-=null===l||void 0===l?void 0:l.head_amount);null===n||void 0===n||n.push(e)}G(n)})(n),customStyle:{paddingInline:"1rem",paddingBlock:"0.5rem",width:"11rem",margin:"0",border:M["feehead_total".concat(n)]?"1px solid red":"1px solid var(--color-button)",color:M["feehead_total".concat(n)]?"red":"var(--color-button)"}})]}),(null===e||void 0===e||null===(l=e.fee_heads)||void 0===l?void 0:l.length)>0?(0,g.jsx)("div",{style:{paddingInline:"1rem",marginTop:"1rem"},children:(0,g.jsxs)("section",{className:z.Z.table_container,style:{margin:"0"},children:[(0,g.jsxs)("div",{className:z.Z.table_heading,children:[(0,g.jsx)("h6",{children:s("fee_heads")}),(0,g.jsx)("h6",{children:s("amount")})]}),(0,g.jsx)("div",{className:z.Z.table_body,children:null===e||void 0===e||null===(i=e.fee_heads)||void 0===i?void 0:i.map(((e,l)=>(0,g.jsxs)("div",{className:z.Z.table_body_list,children:[(0,g.jsx)("input",{type:"text",value:null===e||void 0===e?void 0:e.head_name,onChange:e=>((e,n,l)=>{const i=[...Z];let o=(null===i||void 0===i?void 0:i[l]).fee_heads;(null===o||void 0===o?void 0:o[n]).head_name=e.target.value,I(i)})(e,l,n),className:z.Z.fee_head_name_input}),(0,g.jsx)("input",{type:"number",value:null===e||void 0===e?void 0:e.head_amount,onChange:e=>((e,n,l)=>{const i=[...Z];let o=null===i||void 0===i?void 0:i[l],d=o.fee_heads,t=null===d||void 0===d?void 0:d[n];t.head_amount=+e.target.value,t.applicable_fee=+e.target.value;let a=0;for(let s of d)a+=null===s||void 0===s?void 0:s.head_amount;o.feehead_total=a,I(i)})(e,l,n),className:z.Z.fee_head_amount_input})]},l)))}),(0,g.jsxs)("div",{className:z.Z.table_body,children:[(0,g.jsxs)("div",{className:z.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.5)",borderTopWidth:"0.5px",borderTopStyle:"solid"},children:[(0,g.jsxs)("h6",{className:z.Z.fees_total,style:{display:"inline-flex"},children:[s("subtotal")," ",(0,g.jsx)("span",{style:{marginLeft:"0.5rem",color:"red",fontSize:"11px"},children:M["subtotal".concat(n)]})]}),(0,g.jsx)("h6",{className:z.Z.fees_total,children:null!==(o=null===e||void 0===e?void 0:e.feehead_total)&&void 0!==o?o:0})]}),null===e||void 0===e||null===(d=e.fee_heads)||void 0===d?void 0:d.map(((e,n)=>(0,g.jsx)("p",{style:{fontSize:"11px",color:"red",marginBottom:"0"},children:M["".concat(null===e||void 0===e?void 0:e.head_name).concat(n)]},"head_max".concat(n))))]})]})}):null]},n)})),(0,g.jsx)(h.Z,{label:"preview",onAction:()=>{let e={},n=J(S,Z);if((0,x.x)(n)){let i=0,d=!0;for(let n=0;n<(null===Z||void 0===Z?void 0:Z.length);n++){let o=Z[n];i+=null===o||void 0===o?void 0:o.inst_price,(null===o||void 0===o?void 0:o.inst_price)===(null===o||void 0===o?void 0:o.feehead_total)||(d=!1,e["subtotal".concat(n)]="must be euqal to installment amount Rs. ".concat(null===o||void 0===o?void 0:o.inst_price));for(let n=0;n<(null===o||void 0===o||null===(l=o.fee_heads)||void 0===l?void 0:l.length);n++){var l;let i=null===o||void 0===o?void 0:o.fee_heads[n];(null===i||void 0===i?void 0:i.head_amount)>(null===i||void 0===i?void 0:i.head_max_amount)&&(d=!1,e["".concat(null===i||void 0===i?void 0:i.head_name).concat(n)]="".concat(null===i||void 0===i?void 0:i.head_name," amount should be less than or equal to remaining head amount Rs. ").concat(null===i||void 0===i?void 0:i.head_max_amount))}}i>+(null===o||void 0===o?void 0:o.remainAmount)&&(d=!1,R({msg:"All installment amount should be less than or equal to installment remain amount Rs. ".concat(null===o||void 0===o?void 0:o.remainAmount),open:!0,variant:"error"})),d?F(2):D({...n,...e})}else D({...n,...e})}})]})]})}):1===k?(0,g.jsx)(H,{headsList:O,onClose:()=>{F(0),w("")},onSelectHead:e=>{var n;const l=[...Z];let i=null===l||void 0===l?void 0:l[E];if(null!==i&&void 0!==i&&null!==(n=i.fee_heads_id)&&void 0!==n&&n.includes(null===e||void 0===e?void 0:e._id)){var o;let n=[];for(let l of null===i||void 0===i?void 0:i.fee_heads)(null===l||void 0===l?void 0:l.master)===(null===e||void 0===e?void 0:e.master)?i.feehead_total-=null===l||void 0===l?void 0:l.head_amount:n.push(l);i.fee_heads=n,i.fee_heads_id=null===i||void 0===i||null===(o=i.fee_heads_id)||void 0===o?void 0:o.filter((n=>n!==(null===e||void 0===e?void 0:e._id)))}else{var d,t;null===i||void 0===i||null===(d=i.fee_heads)||void 0===d||d.push({head_name:null===e||void 0===e?void 0:e.head_name,head_amount:null===e||void 0===e?void 0:e.head_amount,applicable_fee:null===e||void 0===e?void 0:e.head_amount,head_max_amount:null===e||void 0===e?void 0:e.head_amount,master:null===e||void 0===e?void 0:e.master,head_type:"BY_APPLICABLE",is_society:null===e||void 0===e?void 0:e.is_society}),i.feehead_total+=null===e||void 0===e?void 0:e.head_amount,null===i||void 0===i||null===(t=i.fee_heads_id)||void 0===t||t.push(null===e||void 0===e?void 0:e._id)}I(l)},selectedId:null===Z||void 0===Z||null===(n=Z[E])||void 0===n?void 0:n.fee_heads_id}):2===k?(0,g.jsx)(_.Z,{children:(0,g.jsxs)("div",{className:v.Z.modal_container,style:{minWidth:"38rem"},children:[(0,g.jsx)(t.default,{children:(0,g.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:v.Z.modal_container_header,children:(0,g.jsx)("h6",{children:s("preview_new_installment")})}),(0,g.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:()=>F(0)})]})}),(0,g.jsx)(m.Z,{}),(0,g.jsxs)(t.default,{customStyle:{paddingTop:"0"},children:[(0,g.jsx)(W.Z,{selectLabel:s("total_installment"),selectedValue:s("select_installment"),defalutValue:S,onClick:U,options:[1,2,3,4,5,6,7,8,9,10,11,12],errorShow:M.installmentCount,isDenied:!0}),null===Z||void 0===Z?void 0:Z.map(((e,n)=>{var l,i;return(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:v.Z.afsi_container,style:{alignItems:"flex-end"},children:[(0,g.jsx)(f.Z,{label:"".concat(s("installment")," ").concat(n+1),placeholder:s("Amount"),name:"inst_price".concat(n),value:e.inst_price,type:"tel",onChange:e=>{},errorShow:M["inst_price".concat(n)],customFormInputContainer:{width:"48%"}}),(0,g.jsx)(C.Z,{label:s("due_last_date"),placeholder:s("please_select_the_date"),name:"inst_date".concat(n),value:e.inst_date?(0,A.jh)(e.inst_date):"",onChange:e=>{},customFormInputContainer:{width:"48%"},errorShow:M["inst_date".concat(n)],disabled:!0})]}),(0,g.jsx)("div",{style:{paddingInline:"1rem",marginTop:"1rem"},children:(0,g.jsxs)("section",{className:z.Z.table_container,style:{margin:"0"},children:[(0,g.jsxs)("div",{className:z.Z.table_heading,children:[(0,g.jsx)("h6",{children:s("fee_heads")}),(0,g.jsx)("h6",{children:s("amount")})]}),(0,g.jsx)("div",{className:z.Z.table_body,children:null===e||void 0===e||null===(l=e.fee_heads)||void 0===l?void 0:l.map(((e,n)=>(0,g.jsxs)("div",{className:z.Z.table_body_list,children:[(0,g.jsx)("input",{type:"text",value:null===e||void 0===e?void 0:e.head_name,onChange:e=>{},className:z.Z.fee_head_name_input}),(0,g.jsx)("input",{type:"number",value:null===e||void 0===e?void 0:e.head_amount,onChange:e=>{},className:z.Z.fee_head_amount_input})]},n)))}),(0,g.jsx)("div",{className:z.Z.table_body,children:(0,g.jsxs)("div",{className:z.Z.table_body_list,style:{borderTopColor:"rgba(18, 18, 18, 0.5)",borderTopWidth:"0.5px",borderTopStyle:"solid"},children:[(0,g.jsx)("h6",{className:z.Z.fees_total,children:s("subtotal")}),(0,g.jsx)("h6",{className:z.Z.fees_total,children:null!==(i=null===e||void 0===e?void 0:e.feehead_total)&&void 0!==i?i:0})]})})]})})]},n)})),(0,g.jsx)(h.Z,{label:"create",onAction:()=>{i&&null!==o&&void 0!==o&&o._id&&(b((e=>!e)),V({pid:i,installmentFragment:{inst_arr:Z,raid:null===o||void 0===o?void 0:o._id}}).then((()=>{b((e=>!e)),l()})).catch({}))}})]})]})}):null,y&&(0,g.jsx)(p.default,{}),(0,g.jsx)(j.Z,{eventState:P,eventStateHandler:R})]})},$={0:"First Installment",1:"Second Installment",2:"Third Installment",3:"Four Installment",4:"Five Installment",5:"Six Installment",6:"Seven Installment",7:"Eight Installment",8:"Nine Installment",9:"Ten Installment",10:"Eleven Installment",11:"Tweleve Installment"},J=(e,n)=>{const l={};e||(l.installmentCount="installmentCount is required!");for(let i=0;i<(null===n||void 0===n?void 0:n.length);i++)for(let e in n[i])n[i][e]||"inst_date"===e||(l["".concat(e).concat(i)]="".concat(e," is required!"));return l};var K=l(26192);const Q=e=>{var n,l,i;let{onClose:o,admission:a,install:s,onSelectType:h,collectStaffId:f}=e;const{t:x}=(0,c.$G)(),[j,y]=(0,r.useState)(!1),[b]=(0,d.vT)(),S=e=>{var n,l;6===e?(null!==a&&void 0!==a&&a._id&&null!==a&&void 0!==a&&null!==(n=a.student)&&void 0!==n&&n._id&&null!==a&&void 0!==a&&a.setOffPrice&&null!==s&&void 0!==s&&s.installmentValue&&null!==s&&void 0!==s&&s._id&&y((e=>!e)),b({rcid:null===a||void 0===a?void 0:a._id,sid:null===a||void 0===a||null===(l=a.student)||void 0===l?void 0:l._id,payment:{amount:null===a||void 0===a?void 0:a.setOffPrice,mode:"Setoff",type:null===s||void 0===s?void 0:s.installmentValue,nsid:null===s||void 0===s?void 0:s._id,fee_payment_mode:"NEFT/RTGS/IMPS",fee_payment_amount:null===a||void 0===a?void 0:a.setOffPrice,staff_id:f||""}}).then((()=>{y((e=>!e)),o()})).catch({})):h(e)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(_.Z,{onClose:o,children:(0,g.jsxs)("div",{className:v.Z.modal_container,children:[(0,g.jsx)(t.default,{children:(0,g.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:v.Z.modal_container_header,children:(0,g.jsx)("h6",{children:x("collect_fees")})}),(0,g.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:o})]})}),(0,g.jsx)(m.Z,{}),(0,g.jsxs)(t.default,{customStyle:{paddingTop:"0"},children:[(0,g.jsxs)("div",{className:K.Z.application_card,onClick:()=>S(6),children:[(0,g.jsxs)("div",{className:K.Z.application_card_title,children:[(0,g.jsx)("img",{src:"".concat(u.J7,"/category.svg"),alt:"staff profile avatar"}),(0,g.jsx)("h6",{children:x("set_off_excess_fees")})]}),(0,g.jsxs)("section",{className:K.Z.application_card_info,children:[(0,g.jsxs)("div",{children:[x("applicable_pending_fees")," ",": ".concat(x("rs"),". ").concat(null!==(n=null===s||void 0===s?void 0:s.remainAmount)&&void 0!==n?n:0)]}),(0,g.jsxs)("div",{children:[x("excess_fees")," ",": ".concat(x("rs"),". ").concat(null!==(l=null===a||void 0===a?void 0:a.setOffPrice)&&void 0!==l?l:0)]}),(0,g.jsxs)("div",{children:[x("set_off_fees")," ",": ".concat(x("rs"),". ").concat(null!==(i=null===a||void 0===a?void 0:a.setOffPrice)&&void 0!==i?i:0)]}),(0,g.jsx)("h6",{children:x("set_off_excess_fees_note")})]})]}),(0,g.jsxs)("div",{className:K.Z.application_card,onClick:()=>S(2),style:{minHeight:"100px"},children:[(0,g.jsxs)("div",{className:K.Z.application_card_title,children:[(0,g.jsx)("img",{src:"".concat(u.J7,"/category.svg"),alt:"staff profile avatar"}),(0,g.jsx)("h6",{children:x("collect_fees")})]}),(0,g.jsx)("section",{className:K.Z.application_card_info,children:(0,g.jsx)("h6",{children:x("collect_fees_note")})})]})]})]})}),j&&(0,g.jsx)(p.default,{})]})},X=e=>{var n,l,d,t,a,s,_,v,m,h,p,f,x,y,b,S,C,A,N,Z,I,k,F,w,T,G,M,P,R;let{install:V,admission:B}=e;const U=(0,i.TH)(),[z,W]=(0,r.useState)({open:!1,msg:"",variant:"error"}),{t:H}=(0,c.$G)(),[$,J]=(0,r.useState)(""),K=()=>{J("")},X=()=>{J(4)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:o.Z.student_admission_cash_card,style:{position:"relative"},children:[(0,g.jsxs)("section",{className:o.Z.admission_fees_amount,children:[(0,g.jsxs)("h6",{children:[null===V||void 0===V?void 0:V.installmentValue," ","Paid"===(null===V||void 0===V?void 0:V.status)&&(0,g.jsx)("span",{children:E()(null===V||void 0===V||null===(n=V.fee_receipt)||void 0===n?void 0:n.fee_transaction_date).format("DD-MMM-YY")})]}),(0,g.jsxs)("h6",{children:[H("rs_only"),0===(null===V||void 0===V?void 0:V.remainAmount)?null===V||void 0===V?void 0:V.set_off:null!==(l=null===V||void 0===V?void 0:V.remainAmount)&&void 0!==l?l:0]})]}),0===(null===V||void 0===V?void 0:V.remainAmount)?null:(0,g.jsx)("section",{className:o.Z.admission_fees_grant,children:"Paid"===(null===V||void 0===V?void 0:V.status)&&"Rejected"!==(null===V||void 0===V?void 0:V.receipt_status)?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h6",{children:"By Cash"===(null===V||void 0===V||null===(d=V.fee_receipt)||void 0===d?void 0:d.fee_payment_mode)?"Offline":null!==V&&void 0!==V&&null!==(t=V.fee_receipt)&&void 0!==t&&t.fee_payment_mode?null===V||void 0===V||null===(a=V.fee_receipt)||void 0===a?void 0:a.fee_payment_mode:null!==(s=null===V||void 0===V?void 0:V.refund_status)&&void 0!==s?s:""}),(0,g.jsx)("h6",{children:"Set Off"===(null===V||void 0===V||null===(_=V.fee_receipt)||void 0===_?void 0:_.set_off_status)?"SetOff":"By Cash"===(null===V||void 0===V||null===(v=V.fee_receipt)||void 0===v?void 0:v.fee_payment_mode)?"Cash":"Exempted/Unrecovered"===(null===V||void 0===V||null===(m=V.fee_receipt)||void 0===m?void 0:m.fee_payment_mode)?"N/A":"Bank"})]}):(0,g.jsx)(g.Fragment,{children:"Rejected"===(null===V||void 0===V?void 0:V.receipt_status)?(0,g.jsxs)("h6",{style:{margin:"0"},children:["".concat(H("reason")," : "),null===V||void 0===V?void 0:V.reason]}):(0,g.jsxs)("h6",{style:{margin:"0"},children:[H("due_on")," "," "," ",null===V||void 0===V?void 0:V.dueDate]})})}),null!==V&&void 0!==V&&null!==(h=V.component)&&void 0!==h&&h.gov?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("section",{className:o.Z.admission_fees_grant,children:[(0,g.jsx)("h6",{style:{margin:"0"},children:H("applicable_fees")}),(0,g.jsxs)("h6",{style:{margin:"0",fontSize:"13px",color:"#121212"},children:[H("rs_only"),null!==(p=null===V||void 0===V||null===(f=V.component)||void 0===f?void 0:f.app)&&void 0!==p?p:0]})]}),(0,g.jsxs)("section",{className:o.Z.admission_fees_grant,children:[(0,g.jsx)("h6",{style:{margin:"0"},children:H("govt_fees")}),(0,g.jsxs)("h6",{style:{margin:"0",fontSize:"13px",color:"#121212"},children:[H("rs_only"),null!==(x=null===V||void 0===V||null===(y=V.component)||void 0===y?void 0:y.gov)&&void 0!==x?x:0]})]})]}):null,null!==V&&void 0!==V&&V.set_off_message?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("section",{className:o.Z.admission_fees_grant,children:(0,g.jsx)("h6",{style:{margin:"0",marginBottom:"0.2rem"},children:null===V||void 0===V?void 0:V.set_off_message})})}):null,ne[null===(b=U.state)||void 0===b?void 0:b.editInstallmentControl]?(0,g.jsx)(g.Fragment,{children:"ONGOING_VIEW_ACCESS"===(null===(S=U.state)||void 0===S?void 0:S.onlyReadView)?null:(0,g.jsx)("img",{src:"".concat(u.J7,"/menu.svg"),alt:"menu icon",onClick:()=>{J(1)},className:o.Z.edit_icon,title:"Menu",style:{cursor:"pointer",top:"1%",right:"0.5%"}})}):null,"Requested"!==(null===V||void 0===V?void 0:V.receipt_status)&&"Rejected"!==(null===V||void 0===V?void 0:V.receipt_status)&&"Paid"===(null===V||void 0===V?void 0:V.status)?null!==V&&void 0!==V&&V.cover_status?(0,g.jsx)("button",{className:o.Z.student_admission_collect_btn,style:{width:"100%",backgroundColor:"rgb(92 92 92)",fontSize:"0.7rem"},children:null===V||void 0===V?void 0:V.cover_status}):0===(null===V||void 0===V?void 0:V.remainAmount)?null:(0,g.jsx)(g.Fragment,{children:"Setoff"===(null===V||void 0===V?void 0:V.receipt_status)||"Set Off"===(null===V||void 0===V||null===(C=V.fee_receipt)||void 0===C?void 0:C.set_off_status)?null:(0,g.jsx)(D,{rid:null===V||void 0===V||null===(A=V.fee_receipt)||void 0===A?void 0:A._id,appId:null===B||void 0===B||null===(N=B.appId)||void 0===N?void 0:N._id,receiptFile:null===V||void 0===V||null===(Z=V.fee_receipt)||void 0===Z?void 0:Z.receipt_file})}):(0,g.jsx)("button",{className:o.Z.student_admission_collect_btn,style:{width:"100%"},onClick:"ONGOING_VIEW_ACCESS"===(null===(I=U.state)||void 0===I?void 0:I.onlyReadView)?()=>{}:()=>{var e,n;null!==V&&void 0!==V&&V.isEnable&&ee[null===(e=U.state)||void 0===e?void 0:e.collectAccess]&&("ALLOW"===(null===(n=U.state)||void 0===n?void 0:n.isCashierAccess)?(null===B||void 0===B?void 0:B.setOffPrice)>0?J(5):J(2):W({msg:"You are not Cashier Manager",open:!0,variant:"error"}))},children:"Requested"===(null===V||void 0===V?void 0:V.receipt_status)?H("receipt_requested"):"Rejected"===(null===V||void 0===V?void 0:V.receipt_status)?H("receipt_rejected"):H(ee[null===(k=U.state)||void 0===k?void 0:k.collectAccess]?"ONGOING_VIEW_ACCESS"===(null===(F=U.state)||void 0===F?void 0:F.onlyReadView)?"unpaid":"collect_fees":"unpaid")})]}),1===$?(0,g.jsx)(O,{onClose:K,rid:null===B||void 0===B?void 0:B._id,installId:null===V||void 0===V?void 0:V._id,onMultipleInstallment:X,isDelete:(null===V||void 0===V?void 0:V.remainAmount)<0,admission:B,onEditMenu1:()=>{J(3)},install:V}):2===$?(0,g.jsx)(L,{onClose:K,install:V,admission:B,collectStaffId:null===(w=U.state)||void 0===w?void 0:w.collectStaffId}):3===$?(0,g.jsx)(q,{onClose:K,rid:null===B||void 0===B?void 0:B._id,installId:null===V||void 0===V?void 0:V._id,installAmount:null===V||void 0===V?void 0:V.remainAmount,onMultipleInstallment:X,collectStaffId:null===(T=U.state)||void 0===T?void 0:T.collectStaffId}):4===$?(0,g.jsx)(Y,{onClose:K,pid:null===B||void 0===B||null===(G=B.applicable_card)||void 0===G?void 0:G._id,install:V,structureId:null===B||void 0===B||null===(M=B.fee_structure)||void 0===M?void 0:M._id,collectStaffId:null===(P=U.state)||void 0===P?void 0:P.collectStaffId}):5===$?(0,g.jsx)(Q,{onClose:K,admission:B,install:V,collectStaffId:null===(R=U.state)||void 0===R?void 0:R.collectStaffId}):null,(0,g.jsx)(j.Z,{eventState:z,eventStateHandler:W})]})},ee={FINANCE_MANAGER:!0,ADMISSION_ADMIN:!0},ne={authorized:!0};var le=l(11468);const ie=e=>{let{onClose:n,remark:l,rcid:i}=e;const{t:o}=(0,c.$G)(),[a,s]=(0,r.useState)(!1),[f,j]=(0,r.useState)(null!==l&&void 0!==l?l:""),[y,b]=(0,r.useState)(!1),[S]=(0,d.um)();(0,r.useEffect)((()=>{l&&j(l)}),[l]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(_.Z,{children:(0,g.jsxs)("div",{className:v.Z.modal_container,children:[(0,g.jsx)(t.default,{children:(0,g.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:v.Z.modal_container_header,children:(0,g.jsx)("h6",{children:o("remark_title")})}),(0,g.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,g.jsx)(m.Z,{}),(0,g.jsxs)(t.default,{customStyle:{paddingTop:"0"},children:[(0,g.jsx)(le.Z,{label:o("enter_remark"),placeholder:o("please_enter_remark"),name:"scholar",value:f,type:"text",onChange:e=>j(e.target.value),errorShow:y.query}),(0,g.jsx)(h.Z,{label:"save_remark",onAction:()=>{let e=(0,x.l)({query:f},[]);(0,x.x)(e)?(s((e=>!e)),S({rcid:i,remark:{remark:f}}).then((()=>{s((e=>!e)),n()})).catch({})):b(e)}})]})]})}),a&&(0,g.jsx)(p.default,{})]})};var oe=l(33030),de=l(23984);const te=e=>{var n,l,d;let{admission:t,isAuthorized:a}=e;const{t:s}=(0,c.$G)(),u=(0,i.TH)(),[_,v]=(0,r.useState)("");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:o.Z.remark_card_container,children:(0,g.jsxs)("section",{className:o.Z.add_remark,children:[ae[a]?null:(0,g.jsx)(g.Fragment,{children:"ONGOING_VIEW_ACCESS"===(null===(n=u.state)||void 0===n?void 0:n.onlyReadView)?null:(0,g.jsx)(de.Z,{children:(0,g.jsx)(oe.Z,{label:s(null!==t&&void 0!==t&&t.remark?"edit_remark":"add_remark"),onAction:()=>{ae[a]||v(1)},customStyle:{padding:"0.2rem 0.4rem",fontSize:"11px",fontWeight:"400"}})})}),(0,g.jsxs)("h6",{className:o.Z.add_remark_text,children:[s("fee_remark")," ",null!==(l=null===t||void 0===t?void 0:t.remark)&&void 0!==l?l:""]})]})}),1===_?(0,g.jsx)(ie,{onClose:()=>{v("")},rcid:null===t||void 0===t?void 0:t._id,remark:null!==(d=null===t||void 0===t?void 0:t.remark)&&void 0!==d?d:""}):null]})},ae={notAuthorized:!0},se=e=>{let{title1:n,amount1:l,title2:i,amount2:d,title3:t,amount3:a}=e;const{t:s}=(0,c.$G)();return(0,g.jsxs)("section",{className:o.Z.safcst_container,children:[(0,g.jsxs)("div",{className:o.Z.safcst_container_inner,children:[(0,g.jsx)("p",{children:s(n)}),(0,g.jsxs)("h6",{children:[s("rs_only"),null!==l&&void 0!==l?l:0]})]}),(0,g.jsxs)("div",{className:o.Z.safcst_container_inner,children:[(0,g.jsx)("p",{children:s(i)}),(0,g.jsxs)("h6",{children:[s("rs_only"),null!==d&&void 0!==d?d:0]})]}),(0,g.jsxs)("div",{className:o.Z.safcst_container_inner,children:[(0,g.jsx)("p",{children:s(t)}),(0,g.jsxs)("h6",{children:[s("rs_only"),null!==a&&void 0!==a?a:0]})]})]})},re=e=>{var n,l,i,o,a,s,j,y,b,S;let{onClose:N,admission:Z,install:I,collectStaffId:k}=e;const{t:F}=(0,c.$G)();let E=new Date;const[w,O]=(0,r.useState)(!1),[T,G]=(0,r.useState)({amount:"",mode:"Online",fee_payment_mode:"Government/Scholarship",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),[M,D]=(0,r.useState)(""),[P]=(0,d.Hg)(),R=e=>{G((n=>({...n,[e.target.name]:e.target.value})))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(_.Z,{onClose:N,children:(0,g.jsxs)("div",{className:v.Z.modal_container,children:[(0,g.jsx)(t.default,{children:(0,g.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:v.Z.modal_container_header,children:(0,g.jsxs)("h6",{children:[F("allot_scholer_to_student")," ","".concat(null!==(n=null===Z||void 0===Z||null===(l=Z.student)||void 0===l?void 0:l.studentFirstName)&&void 0!==n?n:""," ").concat(null!==(i=null===Z||void 0===Z||null===(o=Z.student)||void 0===o?void 0:o.studentMiddleName)&&void 0!==i?i:""," ").concat(null!==(a=null===Z||void 0===Z||null===(s=Z.student)||void 0===s?void 0:s.studentLastName)&&void 0!==a?a:"")]})}),(0,g.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:N})]})}),(0,g.jsx)(m.Z,{}),(0,g.jsxs)(t.default,{customStyle:{paddingTop:"0"},children:[(0,g.jsxs)("div",{className:v.Z.admission_fees_row,children:[(0,g.jsxs)("h6",{children:[F("applicable_amount")," :"]}),(0,g.jsxs)("h6",{children:[F("rs_only")," ",null!==(j=null===Z||void 0===Z||null===(y=Z.government_card)||void 0===y?void 0:y.applicable_fee)&&void 0!==j?j:0]})]}),(0,g.jsxs)("div",{className:v.Z.admission_fees_row,children:[(0,g.jsxs)("h6",{children:[F("remaining_fees")," :"]}),(0,g.jsxs)("h6",{children:[F("rs_only")," ",null!==(b=null===Z||void 0===Z||null===(S=Z.government_card)||void 0===S?void 0:S.remaining_fee)&&void 0!==b?b:0]})]}),(0,g.jsx)(f.Z,{label:F("amount"),placeholder:F("amoute_details_collect"),name:"amount",value:T.amount,type:"tel",onChange:e=>{G((n=>({...n,amount:+e.target.value,fee_payment_amount:+e.target.value})))},errorShow:M.amount}),(0,g.jsx)(C.Z,{label:F("select_date_of_transaction"),placeholder:F("please_select_date"),name:"transaction_date",value:T.transaction_date,onChange:e=>{G((n=>({...n,transaction_date:(0,A.jh)(e)})))},errorShow:M.transaction_date}),(0,g.jsx)(f.Z,{label:F("bank_name_collect"),placeholder:F("please_enter_bank_name"),name:"fee_bank_name",value:T.fee_bank_name,type:"text",onChange:R}),(0,g.jsx)(f.Z,{label:F("banke_holder_name"),placeholder:F("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:T.fee_bank_holder,type:"text",onChange:R}),(0,g.jsx)(f.Z,{label:F("cheque_dd_neft"),placeholder:F("please_enter_utr_ref_number"),name:"fee_utr_reference",value:T.fee_utr_reference,type:"text",onChange:R}),(0,g.jsx)(h.Z,{label:"allot",onAction:()=>{let e=(0,x.l)(T,["mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference","transaction_date"]);var n,l,i,o,d,t,a,s,r;(0,x.x)(e)?null!==Z&&void 0!==Z&&Z._id&&null!==I&&void 0!==I&&I.appId&&null!==Z&&void 0!==Z&&null!==(n=Z.student)&&void 0!==n&&n._id&&(O((e=>!e)),P({sid:null===Z||void 0===Z||null===(l=Z.student)||void 0===l?void 0:l._id,appId:null===I||void 0===I?void 0:I.appId,payment:{rid:null===Z||void 0===Z?void 0:Z._id,type:null===I||void 0===I?void 0:I.installmentValue,amount:null!==(i=null===T||void 0===T?void 0:T.amount)&&void 0!==i?i:"",mode:null!==(o=null===T||void 0===T?void 0:T.mode)&&void 0!==o?o:"",fee_payment_mode:null===T||void 0===T?void 0:T.fee_payment_mode,fee_payment_amount:null!==(d=null===T||void 0===T?void 0:T.fee_payment_amount)&&void 0!==d?d:"",transaction_date:T.transaction_date?(0,A._1)(T.transaction_date):null===(t=E.toISOString())||void 0===t?void 0:t.substring(0,10),fee_bank_name:null!==(a=null===T||void 0===T?void 0:T.fee_bank_name)&&void 0!==a?a:"",fee_bank_holder:null!==(s=null===T||void 0===T?void 0:T.fee_bank_holder)&&void 0!==s?s:"",fee_utr_reference:null!==(r=null===T||void 0===T?void 0:T.fee_utr_reference)&&void 0!==r?r:"",staff_id:k||""}}).then((()=>{O((e=>!e)),N()})).catch({})):D(e)}})]})]})}),w&&(0,g.jsx)(p.default,{})]})},ue=e=>{let{onClose:n,onMenu:l,install:i,admission:o}=e;const{t:t}=(0,c.$G)(),[a,s]=(0,r.useState)(!1),[u]=(0,d.su)();return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(w.Z,{onClose:n,disabled:a,children:["Paid"!==(null===i||void 0===i?void 0:i.status)&&"Government Fees Shifted To Applicable Fees"!==(null===i||void 0===i?void 0:i.revert_status)?(0,g.jsx)("h6",{onClick:l,children:t("transfer_to_applicable_fees")}):null,"Paid"===(null===i||void 0===i?void 0:i.status)?(0,g.jsx)("h6",{onClick:()=>{var e,l,d,t,a,r,c,_,v,m;null!==o&&void 0!==o&&null!==(e=o.government_card)&&void 0!==e&&e._id&&null!==i&&void 0!==i&&i._id&&null!==o&&void 0!==o&&null!==(l=o.appId)&&void 0!==l&&null!==(d=l.admissionAdmin)&&void 0!==d&&null!==(t=d.institute)&&void 0!==t&&null!==(a=t.financeDepart)&&void 0!==a&&a[0]&&(s((e=>!e)),u({rid:null===i||void 0===i?void 0:i._id,nid:null===o||void 0===o||null===(r=o.government_card)||void 0===r?void 0:r._id,bodyParameter:{fid:null===o||void 0===o||null===(c=o.appId)||void 0===c||null===(_=c.admissionAdmin)||void 0===_||null===(v=_.institute)||void 0===v||null===(m=v.financeDepart)||void 0===m?void 0:m[0]}}).then((()=>{s((e=>!e)),n()})).catch({}))},children:t("remove_installment")}):null]})})},ce=e=>{let{onClose:n,rid:l,installAmount:i,collectStaffId:o}=e;const{t:a}=(0,c.$G)(),[s,j]=(0,r.useState)(!1),[y,b]=(0,r.useState)(0),[S,C]=(0,r.useState)(!1),[A]=(0,d.t6)();(0,r.useEffect)((()=>{i&&b(i)}),[i]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(_.Z,{children:(0,g.jsxs)("div",{className:v.Z.modal_container,children:[(0,g.jsx)(t.default,{children:(0,g.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:v.Z.modal_container_header,children:(0,g.jsx)("h6",{children:a("transfer_to_applicable_fees")})}),(0,g.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,g.jsx)(m.Z,{}),(0,g.jsxs)(t.default,{customStyle:{paddingTop:"0"},children:[(0,g.jsx)(f.Z,{label:a("amount"),placeholder:a("please_enter_amount_paid"),name:"amount",value:y,type:"tel",onChange:e=>b(e.target.value),errorShow:S.state,msg:S.amount_issue}),(0,g.jsx)(h.Z,{label:"confirm",onAction:()=>{if(l){let e=(0,x.l)({query:y},[]);(0,x.x)(e)&&y<=i?(j((e=>!e)),A({rid:l,applicableBody:{price:+y,staff_id:o||""}}).then((()=>{j((e=>!e)),n()})).catch({})):C(y>i?{amount_issue:"Amount should be less than or equal to installment Amount"}:e)}}})]})]})}),s&&(0,g.jsx)(p.default,{})]})},_e=e=>{var n,l,d,t,a,s,_,v,m,h,p,f,x,y,b,S,C,A,N,Z,I,k,F,w,O;let{install:T,admission:G}=e;const M=(0,i.TH)(),{t:D}=(0,c.$G)(),[P,R]=(0,r.useState)(""),[V,B]=(0,r.useState)({open:!1,msg:"",variant:"error"}),U=()=>{R("")};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:o.Z.student_admission_cash_card,style:{position:"relative"},children:[(0,g.jsxs)("section",{className:o.Z.admission_fees_amount,children:[(0,g.jsxs)("h6",{children:[null===T||void 0===T?void 0:T.installmentValue," ","Paid"===(null===T||void 0===T?void 0:T.status)&&(0,g.jsx)("span",{children:E()(null===T||void 0===T||null===(n=T.fee_receipt)||void 0===n?void 0:n.fee_transaction_date).format("DD-MMM-YY")})]}),(0,g.jsxs)("h6",{children:[D("rs_only"),null!==(l=null===T||void 0===T?void 0:T.remainAmount)&&void 0!==l?l:0]})]}),(0,g.jsx)("section",{className:o.Z.admission_fees_grant,style:{marginBottom:"0"},children:"Paid"===(null===T||void 0===T?void 0:T.status)?(0,g.jsx)(g.Fragment,{children:"Government Fees Shifted To Applicable Fees"===(null===T||void 0===T?void 0:T.revert_status)?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h6",{children:null!==(d=null===T||void 0===T?void 0:T.revert_status)&&void 0!==d?d:""}),(0,g.jsx)("h6",{children:"N/A"})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h6",{children:"By Cash"===(null===T||void 0===T||null===(t=T.fee_receipt)||void 0===t?void 0:t.fee_payment_mode)?"Offline":null!==T&&void 0!==T&&null!==(a=T.fee_receipt)&&void 0!==a&&a.fee_payment_mode?null===T||void 0===T||null===(s=T.fee_receipt)||void 0===s?void 0:s.fee_payment_mode:null!==(_=null===T||void 0===T?void 0:T.refund_status)&&void 0!==_?_:""}),(0,g.jsx)("h6",{children:"Set Off"===(null===T||void 0===T||null===(v=T.fee_receipt)||void 0===v?void 0:v.set_off_status)?"SetOff":"By Cash"===(null===T||void 0===T||null===(m=T.fee_receipt)||void 0===m?void 0:m.fee_payment_mode)?"Cash":"Exempted/Unrecovered"===(null===T||void 0===T||null===(h=T.fee_receipt)||void 0===h?void 0:h.fee_payment_mode)?"N/A":"Bank"})]})}):(0,g.jsx)(g.Fragment,{children:"Receipt Rejected"===(null===T||void 0===T?void 0:T.status)?(0,g.jsxs)("h6",{children:["".concat(D("reason")," : "),null===T||void 0===T||null===(p=T.fee_receipt)||void 0===p?void 0:p.reason]}):(0,g.jsxs)("h6",{children:[D("due_on"),null===T||void 0===T?void 0:T.dueDate]})})}),me[null===(f=M.state)||void 0===f?void 0:f.editGovtInstallmentControl]?(0,g.jsx)(g.Fragment,{children:"ONGOING_VIEW_ACCESS"===(null===(x=M.state)||void 0===x?void 0:x.onlyReadView)?null:(0,g.jsx)("img",{src:"".concat(u.J7,"/menu.svg"),alt:"menu icon",onClick:()=>{R(1)},className:o.Z.edit_icon,title:"Menu",style:{cursor:"pointer",top:"11%",right:"0%"}})}):null,"Paid"===(null===T||void 0===T?void 0:T.status)?null:(0,g.jsx)("button",{className:o.Z.student_admission_collect_btn,style:{backgroundColor:"#1d22c9f7"},onClick:"ONGOING_VIEW_ACCESS"===(null===(y=M.state)||void 0===y?void 0:y.onlyReadView)?()=>{}:()=>{var e,n,l;ve[null===(e=M.state)||void 0===e?void 0:e.govtAccess]&&"ADMISSION_ADMIN"!==(null===(n=M.state)||void 0===n?void 0:n.collectAccess)&&("ALLOW"===(null===(l=M.state)||void 0===l?void 0:l.isCashierAccess)?R(2):B({msg:"You are not Cashier Manager",open:!0,variant:"error"}))},children:D(ve[null===(b=M.state)||void 0===b?void 0:b.govtAccess]&&"ADMISSION_ADMIN"!==(null===(S=M.state)||void 0===S?void 0:S.collectAccess)?"ONGOING_VIEW_ACCESS"===(null===(C=M.state)||void 0===C?void 0:C.onlyReadView)?"unpaid":"scholarship_outs":"unpaid")}),null!==T&&void 0!==T&&null!==(A=T.fee_receipt)&&void 0!==A&&A.txn_id||null!==T&&void 0!==T&&null!==(N=T.fee_receipt)&&void 0!==N&&N.fee_utr_reference?(0,g.jsx)("section",{className:o.Z.admission_fees_grant,children:(0,g.jsxs)("h6",{children:[D("transaction_id")," ",":",null!==(Z=null!==(I=null===T||void 0===T||null===(k=T.fee_receipt)||void 0===k?void 0:k.txn_id)&&void 0!==I?I:null===T||void 0===T||null===(F=T.fee_receipt)||void 0===F?void 0:F.fee_utr_reference)&&void 0!==Z?Z:""]})}):null]}),1===P?(0,g.jsx)(ue,{onClose:U,onMenu:()=>{R(3)},install:T,admission:G}):2===P?(0,g.jsx)(re,{onClose:U,admission:G,install:T,collectStaffId:null===(w=M.state)||void 0===w?void 0:w.collectStaffId}):3===P?(0,g.jsx)(ce,{onClose:U,installAmount:null===T||void 0===T?void 0:T.remainAmount,rid:null===G||void 0===G?void 0:G._id,collectStaffId:null===(O=M.state)||void 0===O?void 0:O.collectStaffId}):null,(0,g.jsx)(j.Z,{eventState:V,eventStateHandler:B})]})},ve={FINANCE_MANAGER:!0,Finance_scholarship:!0},me={authorized:!0},he=e=>{let{onClose:n,rid:l,sid:i,onParentClose:o}=e;const{t:a}=(0,c.$G)(),[s,j]=(0,r.useState)(!1),[y,b]=(0,r.useState)(!1),[S,C]=(0,r.useState)({verify:""}),[A]=(0,d.D1)();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(_.Z,{children:(0,g.jsxs)("div",{className:v.Z.modal_container,children:[(0,g.jsx)(t.default,{children:(0,g.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:v.Z.modal_container_header,children:(0,g.jsx)("h6",{children:a("confirm_drop_admission_fees")})}),(0,g.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:n})]})}),(0,g.jsx)(m.Z,{}),(0,g.jsxs)(t.default,{customStyle:{paddingTop:"0"},children:[(0,g.jsx)(f.Z,{label:a("type_confirm_to_continue"),placeholder:a("type_confirm_to_continue"),name:"verify",value:null===S||void 0===S?void 0:S.verify,type:"text",onChange:e=>C((n=>({...n,verify:e.target.value}))),errorShow:y.verify}),(0,g.jsx)(h.Z,{label:"confirm",onAction:()=>{let e=(0,x.l)(S);(0,x.x)(e)&&"Confirm"===S.verify&&l&&i?(j((e=>!e)),A({rid:l,sid:i}).then((()=>{o(),j((e=>!e))})).catch({})):b(e)}})]})]})}),s&&(0,g.jsx)(p.default,{})]})};var pe=l(75235);const fe=e=>{let{structureId:n,onClose:l,aid:i,appId:o,sid:t,rid:a,did:s,bid:u,cmid:c,onParentClose:_}=e;const[v,m]=(0,r.useState)(!1),[h]=(0,d.$q)();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(pe.Z,{onClose:l,did:s,bid:u,cmid:c,selectedStructure:n,onSelectedStrucutre:e=>{n===(null===e||void 0===e?void 0:e._id)||i&&t&&o&&n&&a&&(m((e=>!e)),h({aid:i,appId:o,sid:t,updateStrucutre:{old_fee_struct:n,new_fee_struct:null===e||void 0===e?void 0:e._id,rid:a}}).then((()=>{_(),m((e=>!e))})).catch({}))}}),v&&(0,g.jsx)(p.default,{})]})},xe=(0,r.lazy)((()=>l.e(56212).then(l.bind(l,56212)))),je=e=>{var n;let{onClose:l,rid:o,sid:d,is_drop:t,structureId:a,aid:s,appId:u,did:_,bid:v,cmid:m,isOneInstallment:h,admission:f}=e;const{t:x}=(0,c.$G)(),[y,b]=(0,r.useState)(!1),[S,C]=(0,r.useState)(!1),[A,N]=(0,r.useState)(""),Z=(0,i.TH)(),[I,k]=(0,r.useState)({open:!1,msg:"",variant:"error"}),F=()=>{h?C((e=>!e)):k({msg:"Only fees structures with one installment can be edited.",open:!0,variant:"error"})},E=()=>{b((e=>!e))};return(0,g.jsxs)(g.Fragment,{children:[y?(0,g.jsx)(he,{rid:o,sid:d,onClose:E,onParentClose:l}):S?(0,g.jsx)(fe,{structureId:a,onClose:F,aid:s,appId:u,sid:d,rid:o,did:_,bid:v,cmid:m,onParentClose:l}):"CANCEL"===A?(0,g.jsx)(r.Suspense,{fallback:(0,g.jsx)(p.default,{}),children:(0,g.jsx)(xe,{onClose:()=>{N("")},appId:u,admission:f,onParentClose:l})}):(0,g.jsxs)(w.Z,{onClose:l,children:[(0,g.jsx)("h6",{onClick:F,children:x("edit_fees_structure")}),t?(0,g.jsx)("h6",{onClick:E,children:x("drop")}):null,null!==(n=Z.state)&&void 0!==n&&n.cancelAccess?(0,g.jsx)("h6",{onClick:()=>N("CANCEL"),children:x("cancel_addmission")}):null]}),(0,g.jsx)(j.Z,{eventState:I,eventStateHandler:k})]})},ge=e=>{var n,l,d,t,a,s,_,v,h,p,f,x,j,y,S,C,A,N,Z,k,F,E,w,O,T,G,M,D,P,R,V,B,U,L,q,z;let{admission:W,parentIndex:H}=e;const Y=(0,i.TH)(),{t:$}=(0,c.$G)(),[J,K]=(0,r.useState)(""),[Q,ee]=(0,r.useState)(!1),ne=()=>{ee((e=>!e))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("section",{className:o.Z.af_container_inner,children:[(0,g.jsxs)("section",{className:o.Z.student_admission_card_title,children:[(0,g.jsx)("h6",{children:"Promote"===(null===W||void 0===W?void 0:W.card_type)?0===H?null!==(n=null===W||void 0===W||null===(l=W.student)||void 0===l||null===(d=l.studentClass)||void 0===d?void 0:d.classTitle)&&void 0!==n?n:"":null!==(t=null===W||void 0===W||null===(a=W.fee_structure)||void 0===a||null===(s=a.class_master)||void 0===s?void 0:s.className)&&void 0!==t?t:"":null!==(_=null===W||void 0===W||null===(v=W.appId)||void 0===v?void 0:v.applicationName)&&void 0!==_?_:""}),(0,g.jsx)("p",{children:null!==(h=null===W||void 0===W||null===(p=W.fee_structure)||void 0===p?void 0:p.unique_structure_name)&&void 0!==h?h:""}),ye[null===(f=Y.state)||void 0===f?void 0:f.editStructureControl]?(0,g.jsx)(g.Fragment,{children:"ONGOING_VIEW_ACCESS"===(null===(x=Y.state)||void 0===x?void 0:x.onlyReadView)?null:(0,g.jsx)("img",{src:"".concat(u.J7,"/menu.svg"),alt:"menu icon",onClick:()=>{K(1)},className:o.Z.edit_icon,title:"Menu"})}):null]}),null!==W&&void 0!==W&&null!==(j=W.fee_structure)&&void 0!==j&&null!==(y=j.category_master)&&void 0!==y&&y.scholarship_applicable?(0,g.jsx)(b,{scholarNumber:null===W||void 0===W?void 0:W.scholar_ship_number,rcid:null===W||void 0===W?void 0:W._id}):null,(0,g.jsx)(I,{admission:W,scholarshipApplicable:null===W||void 0===W||null===(S=W.fee_structure)||void 0===S||null===(C=S.category_master)||void 0===C?void 0:C.scholarship_applicable}),(0,g.jsxs)("div",{className:o.Z.afc_collapse,children:[(0,g.jsx)("span",{onClick:ne,children:$(Q?"expand":"collapse")}),(0,g.jsx)("img",{src:"".concat(u.U_,Q?"/collapse.svg":"/expand.svg"),alt:"collapse icon",onClick:ne})]}),Q?null:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(m.Z,{}),(0,g.jsx)("h5",{className:o.Z.af_heading,children:$("from_student")}),(0,g.jsx)(se,{title1:"o_total",amount1:null===W||void 0===W||null===(A=W.applicable_card)||void 0===A?void 0:A.applicable_fee,title2:"paid",amount2:null===W||void 0===W||null===(N=W.applicable_card)||void 0===N?void 0:N.paid_fee,title3:"outstanding",amount3:null===W||void 0===W||null===(Z=W.applicable_card)||void 0===Z?void 0:Z.remaining_fee}),null===W||void 0===W||null===(k=W.applicable_card)||void 0===k||null===(F=k.remaining_array)||void 0===F?void 0:F.map((e=>(0,g.jsx)(X,{install:e,admission:W},null===e||void 0===e?void 0:e._id))),(0,g.jsxs)("h5",{className:o.Z.af_heading,style:{marginTop:"1.5rem"},children:[(0,g.jsx)(m.Z,{}),$("from_gov_scholarship")]}),(0,g.jsx)(se,{title1:"o_total",amount1:null===W||void 0===W||null===(E=W.government_card)||void 0===E?void 0:E.applicable_fee,title2:"received",amount2:null===W||void 0===W||null===(w=W.government_card)||void 0===w?void 0:w.paid_fee,title3:"outstanding",amount3:null===W||void 0===W||null===(O=W.government_card)||void 0===O?void 0:O.remaining_fee}),null===W||void 0===W||null===(T=W.government_card)||void 0===T||null===(G=T.remaining_array)||void 0===G?void 0:G.map((e=>(0,g.jsx)(_e,{install:e,admission:W},null===e||void 0===e?void 0:e._id))),(0,g.jsx)(te,{admission:W})]})]}),1===J?(0,g.jsx)(je,{onClose:()=>{K("")},rid:null===W||void 0===W?void 0:W._id,sid:null===W||void 0===W||null===(M=W.student)||void 0===M?void 0:M._id,is_drop:"Disable"!==(null===W||void 0===W?void 0:W.drop_status),structureId:null===W||void 0===W||null===(D=W.fee_structure)||void 0===D?void 0:D._id,aid:null===W||void 0===W||null===(P=W.appId)||void 0===P||null===(R=P.admissionAdmin)||void 0===R?void 0:R._id,appId:null===W||void 0===W||null===(V=W.appId)||void 0===V?void 0:V._id,did:null===W||void 0===W||null===(B=W.fee_structure)||void 0===B?void 0:B.department,bid:null===W||void 0===W||null===(U=W.fee_structure)||void 0===U?void 0:U.batch_master,cmid:null===W||void 0===W||null===(L=W.fee_structure)||void 0===L||null===(q=L.class_master)||void 0===q?void 0:q._id,isOneInstallment:"1"===(null===W||void 0===W||null===(z=W.fee_structure)||void 0===z?void 0:z.total_installments),admission:W}):null]})},ye={authorized:!0};var be=l(66687);const Se=e=>{var n,l,i,d,t,a,s,u,_,v,m,h,p,f,x,j,y;let{install:b,admission:S,isEditable:C}=e;const{t:A}=(0,c.$G)(),[N,Z]=(0,r.useState)("");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:o.Z.student_admission_cash_card,style:{position:"relative"},children:[(0,g.jsxs)("section",{className:o.Z.admission_fees_amount,children:[(0,g.jsxs)("h6",{children:[null===b||void 0===b?void 0:b.installmentValue," ","Paid"===(null===b||void 0===b?void 0:b.status)&&(0,g.jsx)("span",{children:E()(null===b||void 0===b||null===(n=b.fee_receipt)||void 0===n?void 0:n.fee_transaction_date).format("DD-MMM-YY")})]}),(0,g.jsxs)("h6",{children:[A("rs_only"),0===(null===b||void 0===b?void 0:b.remainAmount)?null===b||void 0===b?void 0:b.set_off:null!==(l=null===b||void 0===b?void 0:b.remainAmount)&&void 0!==l?l:0]})]}),0===(null===b||void 0===b?void 0:b.remainAmount)?null:(0,g.jsx)("section",{className:o.Z.admission_fees_grant,children:"Paid"===(null===b||void 0===b?void 0:b.status)&&"Rejected"!==(null===b||void 0===b?void 0:b.receipt_status)?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h6",{children:"By Cash"===(null===b||void 0===b||null===(i=b.fee_receipt)||void 0===i?void 0:i.fee_payment_mode)?"Offline":null!==b&&void 0!==b&&null!==(d=b.fee_receipt)&&void 0!==d&&d.fee_payment_mode?null===b||void 0===b||null===(t=b.fee_receipt)||void 0===t?void 0:t.fee_payment_mode:null!==(a=null===b||void 0===b?void 0:b.refund_status)&&void 0!==a?a:""}),(0,g.jsx)("h6",{children:"Set Off"===(null===b||void 0===b||null===(s=b.fee_receipt)||void 0===s?void 0:s.set_off_status)?"SetOff":"By Cash"===(null===b||void 0===b||null===(u=b.fee_receipt)||void 0===u?void 0:u.fee_payment_mode)?"Cash":"Exempted/Unrecovered"===(null===b||void 0===b||null===(_=b.fee_receipt)||void 0===_?void 0:_.fee_payment_mode)?"N/A":"Bank"})]}):(0,g.jsx)(g.Fragment,{children:"Rejected"===(null===b||void 0===b?void 0:b.receipt_status)?(0,g.jsxs)("h6",{style:{margin:"0"},children:["".concat(A("reason")," : "),null===b||void 0===b?void 0:b.reason]}):(0,g.jsxs)("h6",{style:{margin:"0"},children:[A("due_on"),null===b||void 0===b?void 0:b.dueDate]})})}),null!==b&&void 0!==b&&null!==(v=b.component)&&void 0!==v&&v.gov?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("section",{className:o.Z.admission_fees_grant,children:[(0,g.jsx)("h6",{style:{margin:"0"},children:A("applicable_fees")}),(0,g.jsxs)("h6",{style:{margin:"0",fontSize:"13px",color:"#121212"},children:[A("rs_only"),null!==(m=null===b||void 0===b||null===(h=b.component)||void 0===h?void 0:h.app)&&void 0!==m?m:0]})]}),(0,g.jsxs)("section",{className:o.Z.admission_fees_grant,children:[(0,g.jsx)("h6",{style:{margin:"0"},children:A("govt_fees")}),(0,g.jsxs)("h6",{style:{margin:"0",fontSize:"13px",color:"#121212"},children:[A("rs_only"),null!==(p=null===b||void 0===b||null===(f=b.component)||void 0===f?void 0:f.gov)&&void 0!==p?p:0]})]})]}):null,null!==b&&void 0!==b&&b.set_off_message?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("section",{className:o.Z.admission_fees_grant,children:(0,g.jsx)("h6",{style:{margin:"0",marginBottom:"0.2rem"},children:null===b||void 0===b?void 0:b.set_off_message})})}):null,"Requested"!==(null===b||void 0===b?void 0:b.receipt_status)&&"Rejected"!==(null===b||void 0===b?void 0:b.receipt_status)&&"Paid"===(null===b||void 0===b?void 0:b.status)?null!==b&&void 0!==b&&b.cover_status?(0,g.jsx)("button",{className:o.Z.student_admission_collect_btn,style:{width:"100%",backgroundColor:"rgb(92 92 92)",fontSize:"0.7rem"},children:null===b||void 0===b?void 0:b.cover_status}):0===(null===b||void 0===b?void 0:b.remainAmount)?null:(0,g.jsx)(g.Fragment,{children:"Setoff"===(null===b||void 0===b?void 0:b.receipt_status)?null:(0,g.jsx)(D,{rid:null===b||void 0===b||null===(x=b.fee_receipt)||void 0===x?void 0:x._id,appId:null===S||void 0===S||null===(j=S.appId)||void 0===j?void 0:j._id,receiptFile:null===b||void 0===b||null===(y=b.fee_receipt)||void 0===y?void 0:y.receipt_file})}):(0,g.jsx)("button",{className:o.Z.student_admission_collect_btn,style:{width:"100%"},onClick:()=>{null!==b&&void 0!==b&&b.isEnable&&Z(2)},children:"Requested"===(null===b||void 0===b?void 0:b.receipt_status)?A("receipt_requested"):"Rejected"===(null===b||void 0===b?void 0:b.receipt_status)?A("receipt_rejected"):A("pay")})]}),2===N?(0,g.jsx)(be.Z,{onClose:()=>{Z("")},install:b,admission:S,isEditable:C}):null]})},Ce=e=>{var n,l,i,d,t,a,s,_,v,h,p,f,x,j,y,S,C,A,N,Z;let{admission:k,howManyCard:F,isEditable:E,parentIndex:w}=e;const{t:O}=(0,c.$G)(),[T,G]=(0,r.useState)(!0),M=()=>{G((e=>!e))};return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("section",{className:o.Z.af_container_inner,style:{flex:Ae[F]?"1 1 49%":"inherite",maxWidth:Ae[F]?"49%":"inherite"},children:[(0,g.jsxs)("section",{className:o.Z.student_admission_card_title,children:[(0,g.jsx)("h6",{children:"Promote"===(null===k||void 0===k?void 0:k.card_type)?0===w?null!==(n=null===k||void 0===k||null===(l=k.student)||void 0===l||null===(i=l.studentClass)||void 0===i?void 0:i.classTitle)&&void 0!==n?n:"":null!==(d=null===k||void 0===k||null===(t=k.fee_structure)||void 0===t||null===(a=t.class_master)||void 0===a?void 0:a.className)&&void 0!==d?d:"":null!==(s=null===k||void 0===k||null===(_=k.appId)||void 0===_?void 0:_.applicationName)&&void 0!==s?s:""}),(0,g.jsx)("p",{children:null!==(v=null===k||void 0===k||null===(h=k.fee_structure)||void 0===h?void 0:h.unique_structure_name)&&void 0!==v?v:""})]}),(0,g.jsx)(b,{scholarNumber:null===k||void 0===k?void 0:k.scholar_ship_number,rcid:null===k||void 0===k?void 0:k._id}),(0,g.jsx)(I,{admission:k}),(0,g.jsxs)("div",{className:o.Z.afc_collapse,children:[(0,g.jsx)("span",{onClick:M,children:O(T?"expand":"collapse")}),(0,g.jsx)("img",{src:"".concat(u.U_,T?"/collapse.svg":"/expand.svg"),alt:"collapse icon",onClick:M})]}),T?null:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(m.Z,{}),(0,g.jsx)("h5",{className:o.Z.af_heading,children:O("from_student")}),(0,g.jsx)(se,{title1:"o_total",amount1:null===k||void 0===k||null===(p=k.applicable_card)||void 0===p?void 0:p.applicable_fee,title2:"paid",amount2:null===k||void 0===k||null===(f=k.applicable_card)||void 0===f?void 0:f.paid_fee,title3:"outstanding",amount3:null===k||void 0===k||null===(x=k.applicable_card)||void 0===x?void 0:x.remaining_fee}),null===k||void 0===k||null===(j=k.applicable_card)||void 0===j||null===(y=j.remaining_array)||void 0===y?void 0:y.map((e=>(0,g.jsx)(Se,{install:e,admission:k,isEditable:E},null===e||void 0===e?void 0:e._id))),(0,g.jsxs)("h5",{className:o.Z.af_heading,style:{marginTop:"1.5rem"},children:[(0,g.jsx)(m.Z,{}),O("from_gov_scholarship")]}),(0,g.jsx)(se,{title1:"o_total",amount1:null===k||void 0===k||null===(S=k.government_card)||void 0===S?void 0:S.applicable_fee,title2:"received",amount2:null===k||void 0===k||null===(C=k.government_card)||void 0===C?void 0:C.paid_fee,title3:"outstanding",amount3:null===k||void 0===k||null===(A=k.government_card)||void 0===A?void 0:A.remaining_fee}),null===k||void 0===k||null===(N=k.government_card)||void 0===N||null===(Z=N.remaining_array)||void 0===Z?void 0:Z.map((e=>(0,g.jsx)(_e,{install:e,admission:k},null===e||void 0===e?void 0:e._id)))]}),(0,g.jsx)(te,{admission:k,isAuthorized:"notAuthorized"})]})})},Ae={onlyTowCard:!0},Ne=e=>{var n,l,o,a,s,y;let{onClose:b,install:S,admission:Z}=e;const{t:I}=(0,c.$G)(),k=(0,i.UO)(),[F,w]=(0,r.useState)(!1),[O,T]=(0,r.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:E()().format("DD/MM/YYYY"),fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:"",pay_remain:!1}),[G,M]=(0,r.useState)(""),[D,L]=(0,r.useState)(0),[q,z]=(0,r.useState)({open:!1,msg:"",variant:"error"}),[W,H]=(0,r.useState)({amount:0,type:"Admission",isTransaction:!1,pay_remain:!1}),{studentInstituteCharges:Y}=(0,d.xY)({data:{id:null===S||void 0===S?void 0:S.instituteId},skip:!(null!==S&&void 0!==S&&S.instituteId)}),[$]=(0,d.ze)(),[J]=(0,d.zJ)();(0,r.useEffect)((()=>{var e;null!==S&&void 0!==S&&S.remainAmount&&(T((e=>({...e,amount:+(null===S||void 0===S?void 0:S.remainAmount),fee_payment_amount:+(null===S||void 0===S?void 0:S.remainAmount)}))),H({amount:null!==(e=+(null===S||void 0===S?void 0:S.remainAmount))&&void 0!==e?e:0,type:"Admission",isTransaction:!1,pay_remain:!1}))}),[null===S||void 0===S?void 0:S.remainAmount]);const K=e=>{T((n=>({...n,[e.target.name]:e.target.value})))},Q=e=>{T((n=>({...n,pay_remain:e})));let n=0;if(e){let e=0;for(let n of null===Z||void 0===Z||null===(l=Z.applicable_card)||void 0===l?void 0:l.remaining_array){var l;"Paid"!==(null===n||void 0===n?void 0:n.status)&&(e+=null===n||void 0===n?void 0:n.remainAmount)}L(e),n=e}H(n>0?l=>({...l,pay_remain:e,amount:n}):n=>({...n,pay_remain:e}))};return(0,g.jsxs)(g.Fragment,{children:[W.isTransaction?(0,g.jsx)(U.Z,{onClose:b,allContent:{...W,platform_charges:null===Y||void 0===Y||null===(n=Y.platform_charges)||void 0===n?void 0:n.percentage},checkoutAdmissionHandler:()=>{var e,n,l,i,o,d,t,a,s,r,u,c,_;let v=2.1*+(null===W||void 0===W?void 0:W.amount)/100,m=v+18*+v/100;const h=parseInt(null===W||void 0===W?void 0:W.amount);var p=Math.ceil(h+ +m.toFixed(2));(0,B.oU)({amount:null!==(e=+(null===W||void 0===W?void 0:W.amount))&&void 0!==e?e:10,amount_nocharges:null!==(n=+p)&&void 0!==n?n:0,type:"Hostel",paidBy:"".concat(null===Z||void 0===Z||null===(l=Z.student)||void 0===l?void 0:l._id),paidTo:"".concat(null===S||void 0===S?void 0:S.instituteId),moduleId:"".concat(null===S||void 0===S?void 0:S.appId),ad_status_id:null,payment_installment:null===S||void 0===S?void 0:S.installmentValue,ad_install:null,month:null,payment_remain_1:null,payment_card_type:null,payment_book_id:null,name:k.username,isApk:"web",payment_card_id:null!==(i=null===Z||void 0===Z?void 0:Z._id)&&void 0!==i?i:null,payment_remain_fees:W.pay_remain,charge:{num_platform_percent:null!==(o=null===Y||void 0===Y||null===(d=Y.platform_charges)||void 0===d?void 0:d.percentage)&&void 0!==o?o:0,num_platform_max:null!==(t=null===Y||void 0===Y||null===(a=Y.platform_charges)||void 0===a?void 0:a.maximum)&&void 0!==t?t:0,num_trans_pecent:null!==(s=null===Y||void 0===Y||null===(r=Y.transaction_charges)||void 0===r?void 0:r.percentage)&&void 0!==s?s:0,num_trans_max:null!==(u=null===Y||void 0===Y||null===(c=Y.transaction_charges)||void 0===c?void 0:c.maximum)&&void 0!==u?u:0,num_app_max:null!==(_=null===Y||void 0===Y?void 0:Y.application_charges)&&void 0!==_?_:0},nsid:null===S||void 0===S?void 0:S._id}).then((e=>{var n,l;window.onScriptLoad(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(l=n.body)||void 0===l?void 0:l.txnToken,null===e||void 0===e?void 0:e.order,null===e||void 0===e?void 0:e.amount)})).catch((e=>{console.info(e)}))},isOptimzed:!0}):(0,g.jsx)(_.Z,{onClose:b,children:(0,g.jsxs)("div",{className:v.Z.modal_container,children:[(0,g.jsx)(t.default,{children:(0,g.jsxs)("div",{className:v.Z.modal_container_outer_header,children:[(0,g.jsx)("div",{className:v.Z.modal_container_header,children:(0,g.jsx)("h6",{children:I("collect_fees")})}),(0,g.jsx)("img",{src:"".concat(u.J7,"/close.svg"),alt:"close icon",onClick:b})]})}),(0,g.jsx)(m.Z,{}),(0,g.jsxs)(t.default,{customStyle:{paddingTop:"0"},children:[(0,g.jsxs)("div",{className:v.Z.admission_fees_row,children:[(0,g.jsxs)("h6",{children:[I("applicable_amount")," :"]}),(0,g.jsxs)("h6",{children:[I("rs_only")," ",null!==(l=null===Z||void 0===Z||null===(o=Z.applicable_card)||void 0===o?void 0:o.applicable_fee)&&void 0!==l?l:0]})]}),(0,g.jsxs)("div",{className:v.Z.admission_fees_row,children:[(0,g.jsxs)("h6",{children:[I(O.pay_remain?"amount_remain_installment":"remaining_fees")," ",":"]}),(0,g.jsxs)("h6",{children:[I("rs_only")," ",O.pay_remain?D:null!==(a=null===S||void 0===S?void 0:S.remainAmount)&&void 0!==a?a:0]})]}),null!==Z&&void 0!==Z&&null!==(s=Z.fee_structure)&&void 0!==s&&s.total_installments&&+(null===Z||void 0===Z||null===(y=Z.fee_structure)||void 0===y?void 0:y.total_installments)>1?(0,g.jsx)(R.Z,{label:"pay_rest_remaining_fees",children:null===P.nj||void 0===P.nj?void 0:P.nj.map((e=>(0,g.jsx)(V.Z,{tile:e,onTile:Q,activeTile:O.pay_remain},null===e||void 0===e?void 0:e.id)))}):null,(0,g.jsx)(f.Z,{label:I("amount"),placeholder:I("amoute_details_collect"),name:"amount",value:O.amount,type:"tel",onChange:e=>{T((n=>({...n,amount:+e.target.value,fee_payment_amount:+e.target.value}))),H((n=>({...n,amount:+e.target.value})))},errorShow:G.amount,msg:G.rest_issue}),(0,g.jsx)(N.Z,{paymentHeading:I("payment_type_mode"),selectLabel:I("mode_placeholder"),onClick:e=>{T((n=>({...n,mode:"Online",fee_payment_mode:e})))},errorShow:G.fee_payment_mode,defalutValue:O.fee_payment_mode,selectedValue:I("please_select_payment_mode"),isAuthority:"admissionStudentProfileCollectModePg",customLabelStyle:{marginTop:"0"}}),"Payment Gateway"===O.fee_payment_mode?(0,g.jsx)(h.Z,{label:"collect",onAction:()=>{let e=(0,x.l)({amount:W.amount});var n,l,i,o,d,t,a,s,r;(0,x.x)(e)?W.pay_remain&&W.amount<D?M({rest_issue:"Amount should not be less than total remaining fees"}):!W.pay_remain&&W.amount>(null===S||void 0===S?void 0:S.remainAmount)&&+(null===Z||void 0===Z||null===(n=Z.fee_structure)||void 0===n?void 0:n.total_installments)>1?M({rest_issue:"Amount should not be greater than remaining fees"}):null!==Y&&void 0!==Y&&Y.institute?null!==S&&void 0!==S&&S.appId&&null!==Z&&void 0!==Z&&null!==(l=Z.appId)&&void 0!==l&&null!==(i=l.hostelAdmin)&&void 0!==i&&null!==(o=i.institute)&&void 0!==o&&null!==(d=o.financeDepart)&&void 0!==d&&d[0]&&(w((e=>!e)),J({fid:null===Z||void 0===Z||null===(t=Z.appId)||void 0===t||null===(a=t.hostelAdmin)||void 0===a||null===(s=a.institute)||void 0===s||null===(r=s.financeDepart)||void 0===r?void 0:r[0],appId:null===S||void 0===S?void 0:S.appId,flow:"BY_HOSTEL"}).then((e=>{var n;w((e=>!e)),null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.denied?z({open:!0,msg:"Account is not activated",variant:"error"}):H((e=>({...e,isTransaction:!0})))})).catch({})):z({open:!0,msg:"Online Payment Not Activated",variant:"error"}):M(e)}}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(C.Z,{label:I("select_date_of_transaction"),placeholder:I("please_select_date"),name:"transaction_date",value:O.transaction_date,onChange:e=>{T((n=>({...n,transaction_date:(0,A.jh)(e)})))},errorShow:G.transaction_date}),"Cash"===O.fee_payment_mode?null:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(f.Z,{label:I("bank_name_collect"),placeholder:I("please_enter_bank_name"),name:"fee_bank_name",value:O.fee_bank_name,type:"text",onChange:K}),(0,g.jsx)(f.Z,{label:I("banke_holder_name"),placeholder:I("please_enter_name_of_bank_holder"),name:"fee_bank_holder",value:O.fee_bank_holder,type:"text",onChange:K}),(0,g.jsx)(f.Z,{label:I("cheque_dd_neft"),placeholder:I("please_enter_utr_ref_number"),name:"fee_utr_reference",value:O.fee_utr_reference,type:"text",onChange:K})]}),(0,g.jsx)(h.Z,{label:"collect",onAction:()=>{let e="";var n,l,i,o,d,t,a,s,r;(e="Unrecovered/Exemption"===O.fee_payment_mode?(0,x.l)(O,["amount","mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference","pay_remain"]):(0,x.l)(O,["mode","fee_payment_amount","fee_bank_name","fee_bank_holder","fee_utr_reference","pay_remain"]),(0,x.x)(e))?O.pay_remain&&O.amount<D?M({rest_issue:"Amount should not be less than total remaining fees"}):!O.pay_remain&&O.amount>(null===S||void 0===S?void 0:S.remainAmount)&&+(null===Z||void 0===Z||null===(n=Z.fee_structure)||void 0===n?void 0:n.total_installments)>1?M({rest_issue:"Amount should not be greater than remaining fees"}):null!==S&&void 0!==S&&S.appId&&null!==Z&&void 0!==Z&&null!==(l=Z.appId)&&void 0!==l&&null!==(i=l.hostelAdmin)&&void 0!==i&&null!==(o=i.institute)&&void 0!==o&&null!==(d=o.financeDepart)&&void 0!==d&&d[0]&&(w((e=>!e)),J({fid:null===Z||void 0===Z||null===(t=Z.appId)||void 0===t||null===(a=t.hostelAdmin)||void 0===a||null===(s=a.institute)||void 0===s||null===(r=s.financeDepart)||void 0===r?void 0:r[0],appId:null===S||void 0===S?void 0:S.appId,flow:"BY_HOSTEL"}).then((e=>{var n,l,i,o,d,t,a,s,r,u,c,_,v;null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.denied?(w((e=>!e)),z({open:!0,msg:"Account is not activated",variant:"error"})):null!==Z&&void 0!==Z&&null!==(l=Z.student)&&void 0!==l&&l._id&&null!==S&&void 0!==S&&S.appId&&null!==S&&void 0!==S&&S._id&&$({aid:null===Z||void 0===Z||null===(i=Z.appId)||void 0===i||null===(o=i.hostelAdmin)||void 0===o?void 0:o._id,sid:null===Z||void 0===Z||null===(d=Z.student)||void 0===d?void 0:d._id,appId:null===S||void 0===S?void 0:S.appId,payment:{card_id:null===Z||void 0===Z||null===(t=Z.applicable_card)||void 0===t?void 0:t._id,rid:null===Z||void 0===Z?void 0:Z._id,type:null===S||void 0===S?void 0:S.installmentValue,raid:null===S||void 0===S?void 0:S._id,nsid:null===S||void 0===S?void 0:S._id,amount:null!==(a=null===O||void 0===O?void 0:O.amount)&&void 0!==a?a:0,mode:"Cash"===(null===O||void 0===O?void 0:O.fee_payment_mode)?"Offline":null!==(s=null===O||void 0===O?void 0:O.mode)&&void 0!==s?s:"",fee_payment_mode:"Cash"===(null===O||void 0===O?void 0:O.fee_payment_mode)?"By Cash":null===O||void 0===O?void 0:O.fee_payment_mode,fee_payment_amount:null!==(r=null===O||void 0===O?void 0:O.fee_payment_amount)&&void 0!==r?r:0,transaction_date:null!==(u=(0,A._1)(O.transaction_date))&&void 0!==u?u:"",fee_bank_name:null!==(c=null===O||void 0===O?void 0:O.fee_bank_name)&&void 0!==c?c:"",fee_bank_holder:null!==(_=null===O||void 0===O?void 0:O.fee_bank_holder)&&void 0!==_?_:"",fee_utr_reference:null!==(v=null===O||void 0===O?void 0:O.fee_utr_reference)&&void 0!==v?v:"",pay_remain:O.pay_remain}}).then((()=>{w((e=>!e)),b()})).catch({})})).catch({})):M(e)}})]})]})]})}),F&&(0,g.jsx)(p.default,{}),(0,g.jsx)(j.Z,{eventState:q,eventStateHandler:z})]})},Ze=e=>{var n,l,d,t,a,s,_,v,m,h,p,f,x,j,y,b,S,C,A,N,Z,I,k,F,w;let{install:T,admission:G}=e;const M=(0,i.TH)(),{t:P}=(0,c.$G)(),[R,V]=(0,r.useState)(""),B=()=>{V("")},U=()=>{V(4)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:o.Z.student_admission_cash_card,style:{position:"relative"},children:[(0,g.jsxs)("section",{className:o.Z.admission_fees_amount,children:[(0,g.jsxs)("h6",{children:[null===T||void 0===T?void 0:T.installmentValue," ","Paid"===(null===T||void 0===T?void 0:T.status)&&(0,g.jsx)("span",{children:E()(null===T||void 0===T||null===(n=T.fee_receipt)||void 0===n?void 0:n.fee_transaction_date).format("DD-MMM-YY")})]}),(0,g.jsxs)("h6",{children:[P("rs_only"),0===(null===T||void 0===T?void 0:T.remainAmount)?null===T||void 0===T?void 0:T.set_off:null!==(l=null===T||void 0===T?void 0:T.remainAmount)&&void 0!==l?l:0]})]}),0===(null===T||void 0===T?void 0:T.remainAmount)?null:(0,g.jsx)("section",{className:o.Z.admission_fees_grant,children:"Paid"===(null===T||void 0===T?void 0:T.status)&&"Rejected"!==(null===T||void 0===T?void 0:T.receipt_status)?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h6",{children:"By Cash"===(null===T||void 0===T||null===(d=T.fee_receipt)||void 0===d?void 0:d.fee_payment_mode)?"Offline":null!==T&&void 0!==T&&null!==(t=T.fee_receipt)&&void 0!==t&&t.fee_payment_mode?null===T||void 0===T||null===(a=T.fee_receipt)||void 0===a?void 0:a.fee_payment_mode:null!==(s=null===T||void 0===T?void 0:T.refund_status)&&void 0!==s?s:""}),(0,g.jsx)("h6",{children:"Set Off"===(null===T||void 0===T||null===(_=T.fee_receipt)||void 0===_?void 0:_.set_off_status)?"SetOff":"By Cash"===(null===T||void 0===T||null===(v=T.fee_receipt)||void 0===v?void 0:v.fee_payment_mode)?"Cash":"Exempted/Unrecovered"===(null===T||void 0===T||null===(m=T.fee_receipt)||void 0===m?void 0:m.fee_payment_mode)?"N/A":"Bank"})]}):(0,g.jsx)(g.Fragment,{children:"Rejected"===(null===T||void 0===T?void 0:T.receipt_status)?(0,g.jsxs)("h6",{style:{margin:"0"},children:["".concat(P("reason")," : "),null===T||void 0===T?void 0:T.reason]}):(0,g.jsxs)("h6",{style:{margin:"0"},children:[P("due_on")," "," "," ",null===T||void 0===T?void 0:T.dueDate]})})}),null!==T&&void 0!==T&&null!==(h=T.component)&&void 0!==h&&h.gov?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("section",{className:o.Z.admission_fees_grant,children:[(0,g.jsx)("h6",{style:{margin:"0"},children:P("applicable_fees")}),(0,g.jsxs)("h6",{style:{margin:"0",fontSize:"13px",color:"#121212"},children:[P("rs_only"),null!==(p=null===T||void 0===T||null===(f=T.component)||void 0===f?void 0:f.app)&&void 0!==p?p:0]})]}),(0,g.jsxs)("section",{className:o.Z.admission_fees_grant,children:[(0,g.jsx)("h6",{style:{margin:"0"},children:P("govt_fees")}),(0,g.jsxs)("h6",{style:{margin:"0",fontSize:"13px",color:"#121212"},children:[P("rs_only"),null!==(x=null===T||void 0===T||null===(j=T.component)||void 0===j?void 0:j.gov)&&void 0!==x?x:0]})]})]}):null,null!==T&&void 0!==T&&T.set_off_message?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("section",{className:o.Z.admission_fees_grant,children:(0,g.jsx)("h6",{style:{margin:"0",marginBottom:"0.2rem"},children:null===T||void 0===T?void 0:T.set_off_message})})}):null,ke[null===(y=M.state)||void 0===y?void 0:y.editInstallmentControl]?(0,g.jsx)(g.Fragment,{children:"ONGOING_VIEW_ACCESS"===(null===(b=M.state)||void 0===b?void 0:b.onlyReadView)?null:(0,g.jsx)("img",{src:"".concat(u.J7,"/menu.svg"),alt:"menu icon",onClick:()=>{V(1)},className:o.Z.edit_icon,title:"Menu",style:{cursor:"pointer",top:"1%",right:"0.5%"}})}):null,"Requested"!==(null===T||void 0===T?void 0:T.receipt_status)&&"Rejected"!==(null===T||void 0===T?void 0:T.receipt_status)&&"Paid"===(null===T||void 0===T?void 0:T.status)?null!==T&&void 0!==T&&T.cover_status?(0,g.jsx)("button",{className:o.Z.student_admission_collect_btn,style:{width:"100%",backgroundColor:"rgb(92 92 92)",fontSize:"0.7rem"},children:null===T||void 0===T?void 0:T.cover_status}):0===(null===T||void 0===T?void 0:T.remainAmount)?null:(0,g.jsx)(g.Fragment,{children:"Setoff"===(null===T||void 0===T?void 0:T.receipt_status)||"Set Off"===(null===T||void 0===T||null===(S=T.fee_receipt)||void 0===S?void 0:S.set_off_status)?null:(0,g.jsx)(D,{rid:null===T||void 0===T||null===(C=T.fee_receipt)||void 0===C?void 0:C._id,appId:null===G||void 0===G||null===(A=G.appId)||void 0===A?void 0:A._id,receiptFile:null===T||void 0===T||null===(N=T.fee_receipt)||void 0===N?void 0:N.receipt_file})}):(0,g.jsx)("button",{className:o.Z.student_admission_collect_btn,style:{width:"100%"},onClick:"ONGOING_VIEW_ACCESS"===(null===(Z=M.state)||void 0===Z?void 0:Z.onlyReadView)?()=>{}:()=>{var e;null!==T&&void 0!==T&&T.isEnable&&Ie[null===(e=M.state)||void 0===e?void 0:e.collectAccess]&&((null===G||void 0===G?void 0:G.setOffPrice)>0?V(5):V(2))},children:"Requested"===(null===T||void 0===T?void 0:T.receipt_status)?P("receipt_requested"):"Rejected"===(null===T||void 0===T?void 0:T.receipt_status)?P("receipt_rejected"):P(Ie[null===(I=M.state)||void 0===I?void 0:I.collectAccess]?"ONGOING_VIEW_ACCESS"===(null===(k=M.state)||void 0===k?void 0:k.onlyReadView)?"unpaid":"collect_fees":"unpaid")})]}),1===R?(0,g.jsx)(O,{onClose:B,rid:null===G||void 0===G?void 0:G._id,installId:null===T||void 0===T?void 0:T._id,onMultipleInstallment:U,isDelete:(null===T||void 0===T?void 0:T.remainAmount)<0,admission:G,onEditMenu1:()=>{V(3)},install:T}):2===R?(0,g.jsx)(Ne,{onClose:B,install:T,admission:G}):3===R?(0,g.jsx)(q,{onClose:B,rid:null===G||void 0===G?void 0:G._id,installId:null===T||void 0===T?void 0:T._id,installAmount:null===T||void 0===T?void 0:T.remainAmount,onMultipleInstallment:U}):4===R?(0,g.jsx)(Y,{onClose:B,pid:null===G||void 0===G||null===(F=G.applicable_card)||void 0===F?void 0:F._id,install:T,structureId:null===G||void 0===G||null===(w=G.fee_structure)||void 0===w?void 0:w._id}):5===R?(0,g.jsx)(Q,{onClose:B,admission:G,install:T}):null]})},Ie={FINANCE_MANAGER:!0,ADMISSION_ADMIN:!0},ke={authorized:!0},Fe=e=>{var n,l,d,t,a,s,_,v,h,p,f,x,j,y,S,C,A,N,Z,k,F,E,w,O,T,G,M,D,P,R,V,B,U;let{admission:L}=e;const q=(0,i.TH)(),{t:z}=(0,c.$G)(),[W,H]=(0,r.useState)(""),[Y,$]=(0,r.useState)(!1),J=()=>{$((e=>!e))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("section",{className:o.Z.af_container_inner,children:[(0,g.jsxs)("section",{className:o.Z.student_admission_card_title,children:[(0,g.jsx)("h6",{children:"Promote"===(null===L||void 0===L?void 0:L.card_type)?null!==(n=null===L||void 0===L||null===(l=L.student)||void 0===l||null===(d=l.studentClass)||void 0===d?void 0:d.classTitle)&&void 0!==n?n:"":null!==(t=null===L||void 0===L||null===(a=L.appId)||void 0===a?void 0:a.applicationName)&&void 0!==t?t:""}),(0,g.jsx)("p",{children:null!==(s=null===L||void 0===L||null===(_=L.fee_structure)||void 0===_?void 0:_.unique_structure_name)&&void 0!==s?s:""}),Ee[null===(v=q.state)||void 0===v?void 0:v.editStructureControl]?(0,g.jsx)(g.Fragment,{children:"ONGOING_VIEW_ACCESS"===(null===(h=q.state)||void 0===h?void 0:h.onlyReadView)?null:(0,g.jsx)("img",{src:"".concat(u.J7,"/menu.svg"),alt:"menu icon",onClick:()=>{H(1)},className:o.Z.edit_icon,title:"Menu"})}):null]}),null!==L&&void 0!==L&&null!==(p=L.fee_structure)&&void 0!==p&&null!==(f=p.category_master)&&void 0!==f&&f.scholarship_applicable?(0,g.jsx)(b,{scholarNumber:null===L||void 0===L?void 0:L.scholar_ship_number,rcid:null===L||void 0===L?void 0:L._id}):null,(0,g.jsx)(I,{admission:L,scholarshipApplicable:null===L||void 0===L||null===(x=L.fee_structure)||void 0===x||null===(j=x.category_master)||void 0===j?void 0:j.scholarship_applicable}),(0,g.jsxs)("div",{className:o.Z.afc_collapse,children:[(0,g.jsx)("span",{onClick:J,children:z(Y?"expand":"collapse")}),(0,g.jsx)("img",{src:"".concat(u.U_,Y?"/collapse.svg":"/expand.svg"),alt:"collapse icon",onClick:J})]}),Y?null:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(m.Z,{}),(0,g.jsx)("h5",{className:o.Z.af_heading,children:z("from_student")}),(0,g.jsx)(se,{title1:"o_total",amount1:null===L||void 0===L||null===(y=L.applicable_card)||void 0===y?void 0:y.applicable_fee,title2:"paid",amount2:null===L||void 0===L||null===(S=L.applicable_card)||void 0===S?void 0:S.paid_fee,title3:"outstanding",amount3:null===L||void 0===L||null===(C=L.applicable_card)||void 0===C?void 0:C.remaining_fee}),null===L||void 0===L||null===(A=L.applicable_card)||void 0===A||null===(N=A.remaining_array)||void 0===N?void 0:N.map((e=>(0,g.jsx)(Ze,{install:e,admission:L},null===e||void 0===e?void 0:e._id))),(0,g.jsxs)("h5",{className:o.Z.af_heading,style:{marginTop:"1.5rem"},children:[(0,g.jsx)(m.Z,{}),z("from_gov_scholarship")]}),(0,g.jsx)(se,{title1:"o_total",amount1:null===L||void 0===L||null===(Z=L.government_card)||void 0===Z?void 0:Z.applicable_fee,title2:"received",amount2:null===L||void 0===L||null===(k=L.government_card)||void 0===k?void 0:k.paid_fee,title3:"outstanding",amount3:null===L||void 0===L||null===(F=L.government_card)||void 0===F?void 0:F.remaining_fee}),null===L||void 0===L||null===(E=L.government_card)||void 0===E||null===(w=E.remaining_array)||void 0===w?void 0:w.map((e=>(0,g.jsx)(_e,{install:e,admission:L},null===e||void 0===e?void 0:e._id))),(0,g.jsx)(te,{admission:L})]})]}),1===W?(0,g.jsx)(je,{onClose:()=>{H("")},rid:null===L||void 0===L?void 0:L._id,sid:null===L||void 0===L||null===(O=L.student)||void 0===O?void 0:O._id,is_drop:"Disable"!==(null===L||void 0===L?void 0:L.drop_status),structureId:null===L||void 0===L||null===(T=L.fee_structure)||void 0===T?void 0:T._id,aid:null===L||void 0===L||null===(G=L.appId)||void 0===G||null===(M=G.admissionAdmin)||void 0===M?void 0:M._id,appId:null===L||void 0===L||null===(D=L.appId)||void 0===D?void 0:D._id,did:null===L||void 0===L||null===(P=L.fee_structure)||void 0===P?void 0:P.department,bid:null===L||void 0===L||null===(R=L.fee_structure)||void 0===R?void 0:R.batch_master,cmid:null===L||void 0===L||null===(V=L.fee_structure)||void 0===V||null===(B=V.class_master)||void 0===B?void 0:B._id,isOneInstallment:"1"===(null===L||void 0===L||null===(U=L.fee_structure)||void 0===U?void 0:U.total_installments),admission:L}):null]})},Ee={authorized:!0};var we=l(45028);const Oe=e=>{var n,l,i,d,t,a,s,u,_,v,m,h,p,f,x,j,y;let{install:b,admission:S,isEditable:C}=e;const{t:A}=(0,c.$G)(),[N,Z]=(0,r.useState)("");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:o.Z.student_admission_cash_card,style:{position:"relative"},children:[(0,g.jsxs)("section",{className:o.Z.admission_fees_amount,children:[(0,g.jsxs)("h6",{children:[null===b||void 0===b?void 0:b.installmentValue," ","Paid"===(null===b||void 0===b?void 0:b.status)&&(0,g.jsx)("span",{children:E()(null===b||void 0===b||null===(n=b.fee_receipt)||void 0===n?void 0:n.fee_transaction_date).format("DD-MMM-YY")})]}),(0,g.jsxs)("h6",{children:[A("rs_only"),0===(null===b||void 0===b?void 0:b.remainAmount)?null===b||void 0===b?void 0:b.set_off:null!==(l=null===b||void 0===b?void 0:b.remainAmount)&&void 0!==l?l:0]})]}),0===(null===b||void 0===b?void 0:b.remainAmount)?null:(0,g.jsx)("section",{className:o.Z.admission_fees_grant,children:"Paid"===(null===b||void 0===b?void 0:b.status)&&"Rejected"!==(null===b||void 0===b?void 0:b.receipt_status)?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h6",{children:"By Cash"===(null===b||void 0===b||null===(i=b.fee_receipt)||void 0===i?void 0:i.fee_payment_mode)?"Offline":null!==b&&void 0!==b&&null!==(d=b.fee_receipt)&&void 0!==d&&d.fee_payment_mode?null===b||void 0===b||null===(t=b.fee_receipt)||void 0===t?void 0:t.fee_payment_mode:null!==(a=null===b||void 0===b?void 0:b.refund_status)&&void 0!==a?a:""}),(0,g.jsx)("h6",{children:"Set Off"===(null===b||void 0===b||null===(s=b.fee_receipt)||void 0===s?void 0:s.set_off_status)?"SetOff":"By Cash"===(null===b||void 0===b||null===(u=b.fee_receipt)||void 0===u?void 0:u.fee_payment_mode)?"Cash":"Exempted/Unrecovered"===(null===b||void 0===b||null===(_=b.fee_receipt)||void 0===_?void 0:_.fee_payment_mode)?"N/A":"Bank"})]}):(0,g.jsx)(g.Fragment,{children:"Rejected"===(null===b||void 0===b?void 0:b.receipt_status)?(0,g.jsxs)("h6",{style:{margin:"0"},children:["".concat(A("reason")," : "),null===b||void 0===b?void 0:b.reason]}):(0,g.jsxs)("h6",{style:{margin:"0"},children:[A("due_on"),null===b||void 0===b?void 0:b.dueDate]})})}),null!==b&&void 0!==b&&null!==(v=b.component)&&void 0!==v&&v.gov?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("section",{className:o.Z.admission_fees_grant,children:[(0,g.jsx)("h6",{style:{margin:"0"},children:A("applicable_fees")}),(0,g.jsxs)("h6",{style:{margin:"0",fontSize:"13px",color:"#121212"},children:[A("rs_only"),null!==(m=null===b||void 0===b||null===(h=b.component)||void 0===h?void 0:h.app)&&void 0!==m?m:0]})]}),(0,g.jsxs)("section",{className:o.Z.admission_fees_grant,children:[(0,g.jsx)("h6",{style:{margin:"0"},children:A("govt_fees")}),(0,g.jsxs)("h6",{style:{margin:"0",fontSize:"13px",color:"#121212"},children:[A("rs_only"),null!==(p=null===b||void 0===b||null===(f=b.component)||void 0===f?void 0:f.gov)&&void 0!==p?p:0]})]})]}):null,null!==b&&void 0!==b&&b.set_off_message?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("section",{className:o.Z.admission_fees_grant,children:(0,g.jsx)("h6",{style:{margin:"0",marginBottom:"0.2rem"},children:null===b||void 0===b?void 0:b.set_off_message})})}):null,"Requested"!==(null===b||void 0===b?void 0:b.receipt_status)&&"Rejected"!==(null===b||void 0===b?void 0:b.receipt_status)&&"Paid"===(null===b||void 0===b?void 0:b.status)?null!==b&&void 0!==b&&b.cover_status?(0,g.jsx)("button",{className:o.Z.student_admission_collect_btn,style:{width:"100%",backgroundColor:"rgb(92 92 92)",fontSize:"0.7rem"},children:null===b||void 0===b?void 0:b.cover_status}):0===(null===b||void 0===b?void 0:b.remainAmount)?null:(0,g.jsx)(g.Fragment,{children:"Setoff"===(null===b||void 0===b?void 0:b.receipt_status)?null:(0,g.jsx)(D,{rid:null===b||void 0===b||null===(x=b.fee_receipt)||void 0===x?void 0:x._id,appId:null===S||void 0===S||null===(j=S.appId)||void 0===j?void 0:j._id,receiptFile:null===b||void 0===b||null===(y=b.fee_receipt)||void 0===y?void 0:y.receipt_file})}):(0,g.jsx)("button",{className:o.Z.student_admission_collect_btn,style:{width:"100%"},onClick:()=>{null!==b&&void 0!==b&&b.isEnable&&Z(2)},children:"Requested"===(null===b||void 0===b?void 0:b.receipt_status)?A("receipt_requested"):"Rejected"===(null===b||void 0===b?void 0:b.receipt_status)?A("receipt_rejected"):A("pay")})]}),2===N?(0,g.jsx)(we.Z,{onClose:()=>{Z("")},install:b,admission:S,isEditable:C}):null]})},Te=e=>{var n,l,i,d,t,a,s,_,v,h,p,f,x,j,y,S,C;let{admission:A,howManyCard:N,isEditable:Z}=e;const{t:k}=(0,c.$G)(),[F,E]=(0,r.useState)(!0),w=()=>{E((e=>!e))};return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("section",{className:o.Z.af_container_inner,style:{flex:Ge[N]?"1 1 49%":"inherite",maxWidth:Ge[N]?"49%":"inherite"},children:[(0,g.jsxs)("section",{className:o.Z.student_admission_card_title,children:[(0,g.jsx)("h6",{children:"Promote"===(null===A||void 0===A?void 0:A.card_type)?null!==(n=null===A||void 0===A||null===(l=A.student)||void 0===l||null===(i=l.studentClass)||void 0===i?void 0:i.classTitle)&&void 0!==n?n:"":null!==(d=null===A||void 0===A||null===(t=A.appId)||void 0===t?void 0:t.applicationName)&&void 0!==d?d:""}),(0,g.jsx)("p",{children:null!==(a=null===A||void 0===A||null===(s=A.fee_structure)||void 0===s?void 0:s.unique_structure_name)&&void 0!==a?a:""})]}),(0,g.jsx)(b,{scholarNumber:null===A||void 0===A?void 0:A.scholar_ship_number,rcid:null===A||void 0===A?void 0:A._id}),(0,g.jsx)(I,{admission:A}),(0,g.jsxs)("div",{className:o.Z.afc_collapse,children:[(0,g.jsx)("span",{onClick:w,children:k(F?"expand":"collapse")}),(0,g.jsx)("img",{src:"".concat(u.U_,F?"/collapse.svg":"/expand.svg"),alt:"collapse icon",onClick:w})]}),F?null:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(m.Z,{}),(0,g.jsx)("h5",{className:o.Z.af_heading,children:k("from_student")}),(0,g.jsx)(se,{title1:"o_total",amount1:null===A||void 0===A||null===(_=A.applicable_card)||void 0===_?void 0:_.applicable_fee,title2:"paid",amount2:null===A||void 0===A||null===(v=A.applicable_card)||void 0===v?void 0:v.paid_fee,title3:"outstanding",amount3:null===A||void 0===A||null===(h=A.applicable_card)||void 0===h?void 0:h.remaining_fee}),null===A||void 0===A||null===(p=A.applicable_card)||void 0===p||null===(f=p.remaining_array)||void 0===f?void 0:f.map((e=>(0,g.jsx)(Oe,{install:e,admission:A,isEditable:Z},null===e||void 0===e?void 0:e._id))),(0,g.jsxs)("h5",{className:o.Z.af_heading,style:{marginTop:"1.5rem"},children:[(0,g.jsx)(m.Z,{}),k("from_gov_scholarship")]}),(0,g.jsx)(se,{title1:"o_total",amount1:null===A||void 0===A||null===(x=A.government_card)||void 0===x?void 0:x.applicable_fee,title2:"received",amount2:null===A||void 0===A||null===(j=A.government_card)||void 0===j?void 0:j.paid_fee,title3:"outstanding",amount3:null===A||void 0===A||null===(y=A.government_card)||void 0===y?void 0:y.remaining_fee}),null===A||void 0===A||null===(S=A.government_card)||void 0===S||null===(C=S.remaining_array)||void 0===C?void 0:C.map((e=>(0,g.jsx)(_e,{install:e,admission:A},null===e||void 0===e?void 0:e._id)))]}),(0,g.jsx)(te,{admission:A,isAuthorized:"notAuthorized"})]})})},Ge={onlyTowCard:!0},Me=e=>{var n,l,u;let{isEditable:c}=e;const _=(0,i.TH)(),{studentAdmissionFeeList:v,studentAdmissionFeeListLoading:m}=(0,d.Wb)({sid:null===(n=_.state)||void 0===n?void 0:n.sid,skip:!(null!==(l=_.state)&&void 0!==l&&l.sid)});return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(t.default,{children:(0,g.jsxs)("section",{className:o.Z.af_container,children:["STUDENT"===(null===(u=_.state)||void 0===u?void 0:u.viewAs)?null===v||void 0===v?void 0:v.map(((e,n)=>{var l,i;return(0,g.jsx)(r.Fragment,{children:"Hostel Application"===(null===e||void 0===e?void 0:e.remaining_flow)?(0,g.jsx)(Te,{admission:e,howManyCard:null===(l=_.state)||void 0===l?void 0:l.howManyCard,isEditable:c,parentIndex:n}):(0,g.jsx)(Ce,{admission:e,howManyCard:null===(i=_.state)||void 0===i?void 0:i.howManyCard,isEditable:c,parentIndex:n})},null===e||void 0===e?void 0:e._id)})):null===v||void 0===v?void 0:v.map(((e,n)=>(0,g.jsx)(r.Fragment,{children:"Hostel Application"===(null===e||void 0===e?void 0:e.remaining_flow)?(0,g.jsx)(Fe,{admission:e,parentIndex:n}):(0,g.jsx)(ge,{admission:e,parentIndex:n})},null===e||void 0===e?void 0:e._id))),m?(0,g.jsx)(a.Z,{}):0===(null===v||void 0===v?void 0:v.length)&&(0,g.jsx)(s.Z,{customStyleContainer:{marginTop:"1.5rem"},title:"No admission fees list."})]})})})}},91427:(e,n,l)=>{l.d(n,{f:()=>i});const i=e=>e%10===0},26192:(e,n,l)=>{l.d(n,{Z:()=>i});const i={ongoing_card:"OngoingAdmission_ongoing_card__5LO6X",ongoing_card_active:"OngoingAdmission_ongoing_card_active__eu1jj",ongoing_card_inner:"OngoingAdmission_ongoing_card_inner__DTYKz",ongoing_card_text:"OngoingAdmission_ongoing_card_text__cj0Qv",menu_icon:"OngoingAdmission_menu_icon__SwfUu",ongoing_card_count_date:"OngoingAdmission_ongoing_card_count_date__Tzlwe",ongoing_card_count_container:"OngoingAdmission_ongoing_card_count_container__Rj5uD",ongoing_card_count_container_inner:"OngoingAdmission_ongoing_card_count_container_inner__vc5ZE",application_card:"OngoingAdmission_application_card__C2AOm",application_card_title:"OngoingAdmission_application_card_title__r3bxG",application_card_info:"OngoingAdmission_application_card_info__uq+PO",admission_confirm_class_card:"OngoingAdmission_admission_confirm_class_card__aRvXU",admission_confirm_class_card_active:"OngoingAdmission_admission_confirm_class_card_active__LHjy3",application_card_active:"OngoingAdmission_application_card_active__EcEKc",admission_collect_docs:"OngoingAdmission_admission_collect_docs__MmjG7",admission_confirm_class_count:"OngoingAdmission_admission_confirm_class_count__IsGih"}},78981:(e,n,l)=>{l.d(n,{Z:()=>i});const i={af_container:"StudentAdmissionFees_af_container__Ujcky",af_container_inner:"StudentAdmissionFees_af_container_inner__XqsB1",afc_collapse:"StudentAdmissionFees_afc_collapse__NOW5n",safcst_container:"StudentAdmissionFees_safcst_container__+h3we",safcst_container_inner:"StudentAdmissionFees_safcst_container_inner__2XAhi",af_heading:"StudentAdmissionFees_af_heading__S1QwL",af_top_container:"StudentAdmissionFees_af_top_container__lY3mr",edit_icon:"StudentAdmissionFees_edit_icon__qdSg1",admission_fees_container:"StudentAdmissionFees_admission_fees_container__DT2KG",admission_fees_amount:"StudentAdmissionFees_admission_fees_amount__94M+n",admission_fees_amount_top:"StudentAdmissionFees_admission_fees_amount_top__cOmxF",admission_fees_grant:"StudentAdmissionFees_admission_fees_grant__l+6B8",pending_btn:"StudentAdmissionFees_pending_btn__0tfYk",paid_btn:"StudentAdmissionFees_paid_btn__sM4tO",refund_btn:"StudentAdmissionFees_refund_btn__mUqNR",card_title:"StudentAdmissionFees_card_title__lnVPO",collect_btn:"StudentAdmissionFees_collect_btn__5BueI",add_remark:"StudentAdmissionFees_add_remark__qrcQO",add_remark_btn:"StudentAdmissionFees_add_remark_btn__zteTD",add_remark_text:"StudentAdmissionFees_add_remark_text__MLxEk",remark_modal:"StudentAdmissionFees_remark_modal__C3jhB",save_remark:"StudentAdmissionFees_save_remark__LnpAM",remark_modal_title:"StudentAdmissionFees_remark_modal_title__WeXGc",student_admission_fees_card_container:"StudentAdmissionFees_student_admission_fees_card_container__HODQX",student_admission_card_title:"StudentAdmissionFees_student_admission_card_title__Bj54b",student_admission_count_container:"StudentAdmissionFees_student_admission_count_container__BwIb0",student_admission_count:"StudentAdmissionFees_student_admission_count__hc-KT",student_admission_count_image:"StudentAdmissionFees_student_admission_count_image__jgbyV",show_text:"StudentAdmissionFees_show_text__aG358",student_admission_cash_card:"StudentAdmissionFees_student_admission_cash_card__rY1DQ",view_receipt_btn:"StudentAdmissionFees_view_receipt_btn__yIDFL",student_admission_collect_btn:"StudentAdmissionFees_student_admission_collect_btn__oV+d1",remark_card_container:"StudentAdmissionFees_remark_card_container__2TW2I",image_refund_btn:"StudentAdmissionFees_image_refund_btn__eaTlh",add_scholar_number_btn:"StudentAdmissionFees_add_scholar_number_btn__luF-w",saps_container:"StudentAdmissionFees_saps_container__PUQeh"}}}]);
//# sourceMappingURL=60298.e5297080.chunk.js.map