"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[63775],{61055:(e,l,a)=>{a.d(l,{Z:()=>d});var o=a(39230),i=a(52245),n=a(80184);const t=["tel","number"],d=e=>{let{label:l,name:a,msg:d,type:v,value:r,onChange:s,placeholder:c,maxLength:u,customFormInputContainer:_,customFormInputLabel:m,customFormInput:p,errorShow:f,disabled:h,children:x}=e;const{t:y}=(0,o.$G)();return(0,n.jsxs)("div",{className:i.Z.form_input_container,style:_,children:[l&&(0,n.jsxs)("label",{className:i.Z.form_input_label,style:m,htmlFor:a,children:[l,d?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("span",{className:i.Z.form_input_label_error,children:[" "," "," ",d]})}):f?(0,n.jsxs)("span",{className:i.Z.form_input_label_error,children:["* ",y("form_require_label")]}):null,x]}),t.includes(v)?(0,n.jsx)("input",{className:i.Z.form_input,type:v,value:r,onChange:s,name:a,placeholder:c,maxLength:null!==u&&void 0!==u?u:100,disabled:h,style:p}):(0,n.jsx)("input",{className:i.Z.form_input,type:v,value:r,onChange:s,name:a,placeholder:c,disabled:h,style:p})]})}},26071:(e,l,a)=>{a.d(l,{Z:()=>t});var o=a(51416),i=a(39230),n=a(80184);const t=e=>{let{tile:l,onTile:a,activeTile:t,customTileChild:d}=e;const{t:v}=(0,i.$G)();return(0,n.jsx)("div",{className:(null===l||void 0===l?void 0:l.key)===t?o.Z.tile_tile_active:o.Z.tile_tile,onClick:()=>a(null===l||void 0===l?void 0:l.key),style:d,children:v(null===l||void 0===l?void 0:l.name)})}},98409:(e,l,a)=>{a.r(l),a.d(l,{default:()=>f});var o=a(56959),i=a(93638),n=a(61055),t=a(39230),d=a(55336),v=a(72791),r=a(36132),s=(a(38668),a(20659),a(26071),a(21348)),c=a(90904),u=a(38857),_=a(98684),m=a(23449),p=a(80184);const f=e=>{let{leaveTypeToggle:l,sid:a,onClose:f,onRefetch:h,leaveConfig:x}=e;const{t:y}=(0,t.$G)(),[g,j]=(0,v.useState)({casual:{leave:0,approval:!1,forward:!1},medical:{leave:0,approval:!1,forward:!1},sick:{leave:0,approval:!1,forward:!1},commuted:{leave:0,approval:!1,forward:!1},maternity:{leave:0,approval:!1,forward:!1},paternity:{leave:0,approval:!1,forward:!1},quarantine:{leave:0,approval:!1,forward:!1},half:{leave:0,approval:!1,forward:!1},study:{leave:0,approval:!1,forward:!1},sabbatical:{leave:0,approval:!1,forward:!1},special:{leave:0,approval:!1,forward:!1},winter:{leave:0,approval:!1,forward:!1},summer:{leave:0,approval:!1,forward:!1},child:{leave:0,approval:!1,forward:!1},bereavement:{leave:0,approval:!1,forward:!1},earned:{leave:0,approval:!1,forward:!1}}),[w,b]=(0,v.useState)(!1),[F]=(0,r.s$)();(0,v.useEffect)((()=>{x&&j({casual:{leave:null===x||void 0===x?void 0:x.casual_leave,approval:null===x||void 0===x?void 0:x.casual_leave_approval,forward:null===x||void 0===x?void 0:x.casual_leave_forward},medical:{leave:null===x||void 0===x?void 0:x.medical_leave,approval:null===x||void 0===x?void 0:x.medical_leave_approval,forward:null===x||void 0===x?void 0:x.medical_leave_forward},sick:{leave:null===x||void 0===x?void 0:x.sick_leave,approval:null===x||void 0===x?void 0:x.sick_leave_approval,forward:null===x||void 0===x?void 0:x.sick_leave_forward},commuted:{leave:null===x||void 0===x?void 0:x.commuted_leave,approval:null===x||void 0===x?void 0:x.commuted_leave_approval,forward:null===x||void 0===x?void 0:x.commuted_leave_forward},maternity:{leave:null===x||void 0===x?void 0:x.maternity_leave,approval:null===x||void 0===x?void 0:x.maternity_leave_approval,forward:null===x||void 0===x?void 0:x.maternity_leave_forward},paternity:{leave:null===x||void 0===x?void 0:x.paternity_leave,approval:null===x||void 0===x?void 0:x.paternity_leave_approval,forward:null===x||void 0===x?void 0:x.paternity_leave_forward},quarantine:{leave:null===x||void 0===x?void 0:x.quarantine_leave,approval:null===x||void 0===x?void 0:x.quarantine_leave_approval,forward:null===x||void 0===x?void 0:x.quarantine_leave_forward},half:{leave:null===x||void 0===x?void 0:x.half_pay_leave,approval:null===x||void 0===x?void 0:x.half_pay_leave_approval,forward:null===x||void 0===x?void 0:x.half_pay_leave_forward},study:{leave:null===x||void 0===x?void 0:x.study_leave,approval:null===x||void 0===x?void 0:x.study_leave_approval,forward:null===x||void 0===x?void 0:x.study_leave_forward},sabbatical:{leave:null===x||void 0===x?void 0:x.sabbatical_leave,approval:null===x||void 0===x?void 0:x.sabbatical_leave_approval,forward:null===x||void 0===x?void 0:x.sabbatical_leave_forward},special:{leave:null===x||void 0===x?void 0:x.special_disability_leave,approval:null===x||void 0===x?void 0:x.special_disability_leave_approval,forward:null===x||void 0===x?void 0:x.special_disability_leave_forward},winter:{leave:null===x||void 0===x?void 0:x.winter_vacation_leave,approval:null===x||void 0===x?void 0:x.winter_vacation_leave_approval,forward:null===x||void 0===x?void 0:x.winter_vacation_leave_forward},summer:{leave:null===x||void 0===x?void 0:x.summer_vacation_leave,approval:null===x||void 0===x?void 0:x.summer_vacation_leave_approval,forward:null===x||void 0===x?void 0:x.summer_vacation_leave_forward},child:{leave:null===x||void 0===x?void 0:x.child_adoption_leave,approval:null===x||void 0===x?void 0:x.child_adoption_leave_approval,forward:null===x||void 0===x?void 0:x.child_adoption_leave_forward},bereavement:{leave:null===x||void 0===x?void 0:x.bereavement_leave,approval:null===x||void 0===x?void 0:x.bereavement_leave_approval,forward:null===x||void 0===x?void 0:x.bereavement_leave_forward},earned:{leave:null===x||void 0===x?void 0:x.earned_leave,approval:null===x||void 0===x?void 0:x.earned_leave_approval,forward:null===x||void 0===x?void 0:x.earned_leave_forward}})}),[x]);const C=e=>{+e.target.value&&j((l=>({...l,[e.target.name]:{...l[e.target.name],leave:+e.target.value}})))};return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(u.Z,{onClose:f,children:(0,p.jsxs)("div",{className:m.Z.modal_container,children:[(0,p.jsx)(s.default,{children:(0,p.jsxs)("div",{className:m.Z.modal_container_outer_header,children:[(0,p.jsx)("div",{className:m.Z.modal_container_header,children:(0,p.jsx)("h6",{children:y("leave_configuration")})}),(0,p.jsx)("img",{src:"".concat(_.J7,"/close.svg"),alt:"close icon",onClick:f})]})}),(0,p.jsx)(c.Z,{}),(0,p.jsxs)(s.default,{customStyle:{paddingTop:"0"},children:[(0,p.jsx)("div",{className:o.Z.lms_rule_container,children:l?(0,p.jsxs)(p.Fragment,{children:[l.casual_leave&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(n.Z,{label:y("casual_leave"),placeholder:y("casual_leave_placeholder"),name:"casual",value:g.casual.leave,type:"tel",onChange:C,customFormInputContainer:{width:"49%"}})}),l.medical_leave&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(n.Z,{label:y("medical_leave"),placeholder:y("medical_leave_placeholder"),name:"medical",value:g.medical.leave,type:"tel",onChange:C,customFormInputContainer:{width:"49%"}})}),l.sick_leave&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(n.Z,{label:y("sick_leave"),placeholder:y("sick_leave_placeholder"),name:"sick",value:g.sick.leave,type:"tel",onChange:C,customFormInputContainer:{width:"49%"}})}),l.commuted_leave&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(n.Z,{label:y("commuted_leave"),placeholder:y("commuted_leave_placeholder"),name:"commuted",value:g.commuted.leave,type:"tel",onChange:C,customFormInputContainer:{width:"49%"}})}),l.maternity_leave&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(n.Z,{label:y("maternity_leave"),placeholder:y("maternity_leave_placeholder"),name:"maternity",value:g.maternity.leave,type:"tel",onChange:C,customFormInputContainer:{width:"49%"}})}),l.paternity_leave&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(n.Z,{label:y("paternity_leave"),placeholder:y("paternity_leave_placeholder"),name:"paternity",value:g.paternity.leave,type:"tel",onChange:C,customFormInputContainer:{width:"49%"}})}),l.quarantine_leave&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(n.Z,{label:y("quarantine_leave"),placeholder:y("quarantine_leave_placeholder"),name:"quarantine",value:g.quarantine.leave,type:"tel",onChange:C,customFormInputContainer:{width:"49%"}})}),l.half_pay_leave&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(n.Z,{label:y("half_pay_leave"),placeholder:y("half_pay_leave_placeholder"),name:"half",value:g.half.leave,type:"tel",onChange:C,customFormInputContainer:{width:"49%"}})}),l.study_leave&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(n.Z,{label:y("study_leave"),placeholder:y("study_leave_placeholder"),name:"study",value:g.study.leave,type:"tel",onChange:C,customFormInputContainer:{width:"49%"}})}),l.sabbatical_leave&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(n.Z,{label:y("sabbatical_leave"),placeholder:y("sabbatical_leave_placeholder"),name:"sabbatical",value:g.sabbatical.leave,type:"tel",onChange:C,customFormInputContainer:{width:"49%"}})}),l.special_disability_leave&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(n.Z,{label:y("special_disability_leave"),placeholder:y("special_disability_leave_placeholder"),name:"special",value:g.special.leave,type:"tel",onChange:C,customFormInputContainer:{width:"49%"}})}),l.winter_vacation_leave&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(n.Z,{label:y("winter_vacation_leave"),placeholder:y("winter_vacation_leave_placeholder"),name:"winter",value:g.winter.leave,type:"tel",onChange:C,customFormInputContainer:{width:"49%"}})}),l.summer_vacation_leave&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(n.Z,{label:y("summer_vacation_leave"),placeholder:y("summer_vacation_leave_placeholder"),name:"summer",value:g.summer.leave,type:"tel",onChange:C,customFormInputContainer:{width:"49%"}})}),l.child_adoption_leave&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(n.Z,{label:y("child_adoption_leave"),placeholder:y("child_adoption_leave_placeholder"),name:"child",value:g.child.leave,type:"tel",onChange:C,customFormInputContainer:{width:"49%"}})}),l.bereavement_leave&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(n.Z,{label:y("bereavement_leave"),placeholder:y("bereavement_leave_placeholder"),name:"bereavement",value:g.bereavement.leave,type:"tel",onChange:C,customFormInputContainer:{width:"49%"}})}),l.leave_taken&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(n.Z,{label:y("earned_leave"),placeholder:y("earned_leave_placeholder"),name:"earned",value:g.earned.leave,type:"tel",onChange:C,customFormInputContainer:{width:"49%"}})})]}):null}),(0,p.jsx)(i.Z,{label:y("update"),onAction:()=>{a&&(b((e=>!e)),F({sid:a,leaveCount:g}).then((()=>{h(),b((e=>!e)),f()})).catch({}))}})]}),w&&(0,p.jsx)(d.default,{})]})})})}},63775:(e,l,a)=>{a.r(l),a.d(l,{default:()=>L});var o=a(39230),i=a(16871),n=a(63687),t=a(21348),d=a(90904),v=a(56959),r=a(36132),s=a(43504),c=a(72791),u=a(38668),_=a(20659),m=a(2350),p=a(80184);const f=e=>{var l,a;let{leaveTypeToggle:n}=e;const{t:t}=(0,o.$G)(),d=(0,i.TH)(),v=(0,i.UO)(),f=(0,i.s0)(),[h]=(0,s.lr)(),[x,y]=(0,c.useState)(u.bA),{lmsStaffLeaveOverviewCount:g}=(0,r.fn)({data:{sid:null===(l=d.state)||void 0===l?void 0:l.staffId},skip:!(null!==(a=d.state)&&void 0!==a&&a.staffId)});(0,c.useEffect)((()=>{if(null!==g&&void 0!==g&&g.staff){let e=null===g||void 0===g?void 0:g.staff,l=u.bA;l[1].count=null===e||void 0===e?void 0:e.casual_leave,l[2].count=null===e||void 0===e?void 0:e.medical_leave,l[3].count=null===e||void 0===e?void 0:e.sick_leave,l[4].count=null===e||void 0===e?void 0:e.c_off_leave,l[5].count=null===e||void 0===e?void 0:e.off_duty_leave,l[6].count=null===e||void 0===e?void 0:e.lwp_leave,l[7].count=null===e||void 0===e?void 0:e.commuted_leave,l[8].count=null===e||void 0===e?void 0:e.maternity_leave,l[9].count=null===e||void 0===e?void 0:e.paternity_leave,l[10].count=null===e||void 0===e?void 0:e.quarantine_leave,l[11].count=null===e||void 0===e?void 0:e.half_pay_leave,l[12].count=null===e||void 0===e?void 0:e.study_leave,l[13].count=null===e||void 0===e?void 0:e.sabbatical_leave,l[14].count=null===e||void 0===e?void 0:e.special_disability_leave,l[15].count=null===e||void 0===e?void 0:e.winter_vacation_leave,l[16].count=null===e||void 0===e?void 0:e.summer_vacation_leave,l[17].count=null===e||void 0===e?void 0:e.child_adoption_leave,l[18].count=null===e||void 0===e?void 0:e.bereavement_leave,y(l)}}),[null===g||void 0===g?void 0:g.staff]);const j=e=>{var l,a;let o="Institute"===(null===(l=d.state)||void 0===l?void 0:l.urlOffSet)?"/q/".concat(v.username,"/institute/member/lms/?type=staff-overview&category=").concat(e):"Staff"===(null===(a=d.state)||void 0===a?void 0:a.urlOffSet)?"/q/".concat(v.username,"/member?a=leave&n=overview&category=").concat(e):"/q/".concat(v.username,"/member/staff/lms/?type=staff-overview&category=").concat(e);f(o,{state:d.state})};return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(_.Z,{customTileContainer:{flexWrap:"wrap",marginBottom:"1rem"},children:null===x||void 0===x?void 0:x.map((e=>"All Leave"===(null===e||void 0===e?void 0:e.key)?(0,p.jsx)(m.Z,{tile:e,onTile:j,customTileChild:{height:"2.5rem"},activeTile:h.get("category"),children:(0,p.jsx)("h6",{children:t(null===e||void 0===e?void 0:e.name)})}):n&&n[null===e||void 0===e?void 0:e.isActive]&&(0,p.jsxs)(m.Z,{tile:e,onTile:j,customTileChild:"All Leave"===e.key?{height:"2.5rem"}:{flexDirection:"All Leave"===e.key?"row":"column",alignItems:"flex-start"},activeTile:h.get("category"),children:[(0,p.jsx)("h6",{children:t(null===e||void 0===e?void 0:e.name)}),(null===e||void 0===e?void 0:e.count)>=0?(0,p.jsxs)("p",{children:[t("available")," ",": "," ",null===e||void 0===e?void 0:e.count," "]}):null]})))})})};var h=a(23441),x=a(91427),y=a(1669),g=a(2651),j=a(98684),w=a(97892),b=a.n(w),F=a(82824),C=a(1095),Z=a(55050);const k=e=>{var l,a,i,n,t,d,v,r,s,c,u,_,m,f,h,x,y,g,w,k,N,T,I,M,S,L,q,Y,A,D,O,W,$,E,G,J,P,R,H,B;let{leave:Q}=e;const{t:U}=(0,o.$G)();return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:Z.Z.lmsr_card,children:[(0,p.jsx)("div",{className:Z.Z.lmsrc_card,children:(0,p.jsxs)("div",{className:Z.Z.lmsrc_card_inner,children:[(0,p.jsx)("img",{src:"".concat(j.D3,"/leave-raise.svg"),alt:"leave icon"}),(0,p.jsxs)("div",{className:Z.Z.lmsrci_text,children:[(0,p.jsxs)("h6",{style:{fontWeight:"400"},children:[U("leave_type")," "," : ",null===Q||void 0===Q?void 0:Q.leave_type]}),(0,p.jsxs)("p",{children:[U("raised_on")," ",(0,F.J)(null===Q||void 0===Q?void 0:Q.createdAt,"LT"),","," ",b()(null===Q||void 0===Q?void 0:Q.createdAt).format("DD MMM YYYY")]}),(0,p.jsxs)("p",{children:[U("for_dates")," "," : ",null===Q||void 0===Q||null===(l=Q.date)||void 0===l?void 0:l.map((e=>(0,p.jsxs)("span",{children:[e,", "," "]},e)))]})]})]})}),null!==Q&&void 0!==Q&&null!==(a=Q.recommend)&&void 0!==a&&null!==(i=a.recommend_by)&&void 0!==i&&i.staffFirstName?(0,p.jsx)("div",{className:Z.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,p.jsxs)("p",{children:[U("recomend_on")," ",(0,F.J)(null===Q||void 0===Q||null===(n=Q.recommend)||void 0===n?void 0:n.recommend_on,"LT"),","," ",b()(null===Q||void 0===Q||null===(t=Q.recommend)||void 0===t?void 0:t.recommend_on).format("DD MMM YYYY"),", ",U("recomending_by"),"".concat(null!==(d=null===Q||void 0===Q||null===(v=Q.recommend)||void 0===v||null===(r=v.recommend_by)||void 0===r?void 0:r.staffFirstName)&&void 0!==d?d:""," ").concat(null!==(s=null===Q||void 0===Q||null===(c=Q.recommend)||void 0===c||null===(u=c.recommend_by)||void 0===u?void 0:u.staffMiddleName)&&void 0!==s?s:""," ").concat(null!==(_=null===Q||void 0===Q||null===(m=Q.recommend)||void 0===m||null===(f=m.recommend_by)||void 0===f?void 0:f.staffLastName)&&void 0!==_?_:"")]})}):null,null!==Q&&void 0!==Q&&null!==(h=Q.review)&&void 0!==h&&null!==(x=h.review_by)&&void 0!==x&&x.staffFirstName?(0,p.jsx)("div",{className:Z.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,p.jsxs)("p",{children:[U("reviewed_on")," ",(0,F.J)(null===Q||void 0===Q||null===(y=Q.review)||void 0===y?void 0:y.review_on,"LT"),","," ",b()(null===Q||void 0===Q||null===(g=Q.review)||void 0===g?void 0:g.review_on).format("DD MMM YYYY"),", ",U("reviewing_by"),"".concat(null!==(w=null===Q||void 0===Q||null===(k=Q.review)||void 0===k||null===(N=k.review_by)||void 0===N?void 0:N.staffFirstName)&&void 0!==w?w:""," ").concat(null!==(T=null===Q||void 0===Q||null===(I=Q.review)||void 0===I||null===(M=I.review_by)||void 0===M?void 0:M.staffMiddleName)&&void 0!==T?T:""," ").concat(null!==(S=null===Q||void 0===Q||null===(L=Q.review)||void 0===L||null===(q=L.review_by)||void 0===q?void 0:q.staffLastName)&&void 0!==S?S:"")]})}):null,null!==Q&&void 0!==Q&&null!==(Y=Q.sanction)&&void 0!==Y&&null!==(A=Y.sanction_by)&&void 0!==A&&A.staffFirstName?(0,p.jsx)("div",{className:Z.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,p.jsxs)("p",{children:[U("sanction_on")," ",(0,F.J)(null===Q||void 0===Q||null===(D=Q.sanction)||void 0===D?void 0:D.sanction_on,"LT"),","," ",b()(null===Q||void 0===Q||null===(O=Q.sanction)||void 0===O?void 0:O.sanction_on).format("DD MMM YYYY"),", ",U("sanctioning_by"),"".concat(null!==(W=null===Q||void 0===Q||null===($=Q.sanction)||void 0===$||null===(E=$.sanction_by)||void 0===E?void 0:E.staffFirstName)&&void 0!==W?W:""," ").concat(null!==(G=null===Q||void 0===Q||null===(J=Q.sanction)||void 0===J||null===(P=J.sanction_by)||void 0===P?void 0:P.staffMiddleName)&&void 0!==G?G:""," ").concat(null!==(R=null===Q||void 0===Q||null===(H=Q.sanction)||void 0===H||null===(B=H.sanction_by)||void 0===B?void 0:B.staffLastName)&&void 0!==R?R:"")]})}):null,(0,p.jsx)("div",{className:Z.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,p.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[U("reason")," "," : ",null===Q||void 0===Q?void 0:Q.reason]})}),(null===Q||void 0===Q?void 0:Q.attach)&&(0,p.jsx)("div",{className:Z.Z.lmsrci_text,style:{marginTop:"0.5rem"},children:(0,p.jsxs)("h6",{style:{fontWeight:"400",whiteSpace:"break-spaces"},children:[U("attachment")," "," : ",(0,p.jsx)("a",{href:"".concat(C.q2,"/").concat(null===Q||void 0===Q?void 0:Q.attach),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,p.jsx)("span",{className:Z.Z.lmsrc_date,children:U("view_attachment")})})]})})]})})},N=()=>{var e,l,a,o;const n=(0,i.TH)(),[t]=(0,s.lr)(),[d,v]=(0,c.useState)(1),[u,_]=(0,c.useState)(!0),[m,f]=(0,h.YD)(),{lmsStaffLeaveOverviewList:j,lmsStaffLeaveOverviewListLoading:w}=(0,r.xC)({data:{sid:null===(e=n.state)||void 0===e?void 0:e.staffId,page:d,limit:10,category:"All Leave"===t.get("category")?"":t.get("category")},skip:!(null!==(l=n.state)&&void 0!==l&&l.staffId)});return(0,c.useEffect)((()=>{f&&u&&v((e=>e+1))}),[f,u]),(0,c.useEffect)((()=>{var e;if(null!==j&&void 0!==j&&null!==(e=j.list)&&void 0!==e&&e.length){var l;let e=(0,x.f)(null===j||void 0===j||null===(l=j.list)||void 0===l?void 0:l.length);_((()=>e))}}),[null===j||void 0===j?void 0:j.list]),(0,c.useEffect)((()=>{t.get("category")&&v((e=>1))}),[t.get("category")]),(0,p.jsxs)(p.Fragment,{children:[null===j||void 0===j||null===(a=j.list)||void 0===a?void 0:a.map(((e,l)=>{var a;return(null===j||void 0===j||null===(a=j.list)||void 0===a?void 0:a.length)===l+1?(0,p.jsx)("div",{ref:m,children:(0,p.jsx)(k,{leave:e})},null===e||void 0===e?void 0:e._id):(0,p.jsx)(k,{leave:e},null===e||void 0===e?void 0:e._id)})),w?(0,p.jsx)(y.Z,{}):0===(null===j||void 0===j||null===(o=j.list)||void 0===o?void 0:o.length)&&(0,p.jsx)(g.Z,{title:"No ".concat(t.get("category")," taken.")})]})};var T=a(93638),I=a(98409),M=a(48731),S=a(6245);const L=e=>{var l,a,s,u,_,m,h,x,y,g,w,b,F,C,Z,k,L;let{isStaff:q,leaveTypeToggle:Y}=e;const{t:A}=(0,o.$G)(),D=(0,i.TH)(),O=(0,i.UO)(),W=(0,i.s0)(),[$,E]=(0,c.useState)(""),{lmsStaffLeaveOverviewCount:G,lmsStaffLeaveOverviewCountRefetch:J}=(0,r.fn)({data:{sid:null===(l=D.state)||void 0===l?void 0:l.staffId},skip:!(null!==(a=D.state)&&void 0!==a&&a.staffId)}),{oneStaffProfile:P,oneStaffProfileRefetch:R}=(0,S.CF)({sid:null===(s=D.state)||void 0===s?void 0:s.staffId,skip:!(null!==(u=D.state)&&void 0!==u&&u.staffId)});(0,c.useEffect)((()=>{var e;null!==(e=D.state)&&void 0!==e&&e.staffId&&R()}),[null===(_=D.state)||void 0===_?void 0:_.staffId,R]);const H=(0,c.useCallback)((()=>{var e;let l="Institute"===(null===(e=D.state)||void 0===e?void 0:e.urlOffSet)?"/q/".concat(O.username,"/institute/member/lms"):"/q/".concat(O.username,"/member/staff/lms");W(l,{state:D.state})}),[W,D.state,O.username]),B=()=>{E("")},Q=()=>{J(),R()};return(0,p.jsxs)(p.Fragment,{children:[q?(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(t.default,{children:[(0,p.jsx)(f,{leaveTypeToggle:Y}),(0,p.jsx)(d.Z,{}),(0,p.jsx)(N,{})]})}):(0,p.jsxs)(n.default,{children:[(0,p.jsx)(t.default,{children:(0,p.jsxs)("div",{className:v.Z.fm_header_container,children:[(0,p.jsxs)("div",{className:v.Z.fm_header_start_container,children:[(0,p.jsx)("img",{alt:"search icon",src:"".concat(j.Fk,"/back.svg"),style:{height:"2rem",width:"2rem"},onClick:H}),(0,p.jsxs)("h6",{children:[(0,p.jsx)("span",{style:{fontWeight:"400"},children:A("name")}),": ",null!==(m=null===D||void 0===D||null===(h=D.state)||void 0===h?void 0:h.staffName)&&void 0!==m?m:""]})]}),(0,p.jsxs)("div",{className:v.Z.fm_header_container,style:{gap:"1rem"},children:[(0,p.jsx)(T.Z,{label:"leave_setting",onAction:()=>E(1),customStyle:{margin:"0",padding:"0.3rem 1rem",minWidth:"fit-content"}}),(0,p.jsx)(T.Z,{label:"request_c_off_leave",onAction:()=>E(2),customStyle:{margin:"0",padding:"0.3rem 1rem",minWidth:"fit-content"}})]})]})}),(0,p.jsx)(d.Z,{}),(0,p.jsxs)(t.default,{children:[(0,p.jsxs)("div",{className:v.Z.fm_header_container,style:{gap:"1rem"},children:[(0,p.jsxs)("h6",{children:[(0,p.jsx)("span",{style:{fontWeight:"400"},children:A("total_leave_available")}),": ",null!==(x=null===G||void 0===G||null===(y=G.overview)||void 0===y?void 0:y.total_leave_available)&&void 0!==x?x:0]}),(0,p.jsxs)("h6",{children:[(0,p.jsx)("span",{style:{fontWeight:"400"},children:A("total_leave_taken")}),": ",null!==(g=null===G||void 0===G||null===(w=G.overview)||void 0===w?void 0:w.total_leave_taken)&&void 0!==g?g:0]})]}),(0,p.jsx)(f,{leaveTypeToggle:Y}),(0,p.jsx)(d.Z,{}),(0,p.jsx)(N,{})]})]}),1===$?(0,p.jsx)(I.default,{onRefetch:Q,leaveTypeToggle:null===P||void 0===P||null===(b=P.staff)||void 0===b||null===(F=b.institute)||void 0===F||null===(C=F.lms_depart)||void 0===C||null===(Z=C[0])||void 0===Z?void 0:Z.leave_manage,sid:null===(k=D.state)||void 0===k?void 0:k.staffId,onClose:B,leaveConfig:null===P||void 0===P?void 0:P.staff}):2===$?(0,p.jsx)(M.default,{onClose:B,sid:null===(L=D.state)||void 0===L?void 0:L.staffId,onRefetch:Q,createdBy:"Coff"}):null]})}},23449:(e,l,a)=>{a.d(l,{Z:()=>o});const o={moderator_card:"FinanceModerator_moderator_card__T--+-",moderator_card_text_container:"FinanceModerator_moderator_card_text_container__6jmpJ",menu_icon:"FinanceModerator_menu_icon__QsTsH",selected_staff_container:"FinanceModerator_selected_staff_container__xtfxL",selected_staff_text:"FinanceModerator_selected_staff_text__8sr0m",application_card:"FinanceModerator_application_card__05c8b",application_card_active:"FinanceModerator_application_card_active__yPVys",application_card_text:"FinanceModerator_application_card_text__wx+1V",application_card_text_bottom:"FinanceModerator_application_card_text_bottom__eLmpt",modal_container:"FinanceModerator_modal_container__P1hQi",modal_container_outer_header:"FinanceModerator_modal_container_outer_header__F746g",modal_container_header:"FinanceModerator_modal_container_header__FPMSZ"}}}]);
//# sourceMappingURL=63775.9a0ea881.chunk.js.map