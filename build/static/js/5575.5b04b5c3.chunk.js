"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[5575],{95575:function(e,i,n){n.r(i),n.d(i,{default:function(){return G}});var l=n(72791),t=n(42817),s=n(16871),d=n(28795),o=n(95048),a=n(29439),u=n(43504),v=n(99594),c=n(90904),r=n(56959),f=n(21348),m=n(39230),p=n(98684),h=n(80184),x=function(e){var i,n,l,t,s,d,o=e.financeData,a=(0,m.$G)().t,u=(null===o||void 0===o?void 0:o.financeCashBalance)+(null===o||void 0===o?void 0:o.financeSubmitBalance)+(null===o||void 0===o?void 0:o.financeIncomeCashBalance);u>(null===o||void 0===o?void 0:o.financeExpenseCashBalance)&&(u-=null===o||void 0===o?void 0:o.financeExpenseCashBalance);var v=(null===o||void 0===o?void 0:o.financeBankBalance)+(null===o||void 0===o?void 0:o.financeIncomeBankBalance);return v>(null===o||void 0===o?void 0:o.financeExpenseBankBalance)&&(v-=null===o||void 0===o?void 0:o.financeExpenseBankBalance),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(f.Z,{children:(0,h.jsx)("div",{className:r.Z.fm_header_container,children:(0,h.jsx)("h6",{children:a("funds_overview")})})}),(0,h.jsx)(c.Z,{}),(0,h.jsxs)(f.Z,{children:[(0,h.jsxs)("div",{className:r.Z.fm_fund_total,children:[(0,h.jsx)("img",{src:"".concat(p.J7,"/rupee.svg"),alt:""}),(0,h.jsxs)("div",{className:r.Z.fm_fund_total_inner,children:[(0,h.jsxs)("h6",{children:[a("rs_only")," ",null!==(i=null===o||void 0===o?void 0:o.financeTotalBalance)&&void 0!==i?i:0]}),(0,h.jsx)("p",{children:a("total_funds")})]})]}),(0,h.jsxs)("div",{className:r.Z.fm_fund_card,children:[(0,h.jsxs)("p",{children:[a("cash_balance"),":"]}),(0,h.jsxs)("p",{children:[a("rs_only")," ",null!==(n=u)&&void 0!==n?n:0]})]}),(0,h.jsxs)("div",{className:r.Z.fm_fund_card,children:[(0,h.jsxs)("p",{children:[a("bank_balance"),":"]}),(0,h.jsxs)("p",{children:[a("rs_only")," ",null!==(l=v)&&void 0!==l?l:0]})]}),(0,h.jsxs)("div",{className:r.Z.fm_fund_card,children:[(0,h.jsxs)("p",{children:[a("due_from_qviple"),":"]}),(0,h.jsxs)("p",{children:[a("rs_only")," ",null!==(t=null===o||void 0===o||null===(s=o.institute)||void 0===s||null===(d=s.adminRepayAmount)||void 0===d?void 0:d.toFixed(2))&&void 0!==t?t:0]})]})]})]})},y=n(87979),b=n(53277),_=n(23558),j=n(98167),g=n(60724),C={CASH_RECEIPT_ACCESS:["menu","student","submit"],INVENTORY_ACCESS:["menu","student","inventory"],FEE_MASTER_ACCESS:["menu","student","fees"],PAYROLL_ACCESS:["menu","student","payroll"],DEPOSIT_ACCESS:["menu","student","deposit"],BANK_ACCOUNT_ACCESS:["menu","student","bank"],DATA_EXPORT_ACCESS:["menu","student","export"],SCHOLARSHIP_ACCESS:["menu","student","scholarship"]},A=[{label:"menu",id:"menu",urlKey:""},{label:"fees_structure",id:"fees",urlKey:"?type=fees"},{label:"funds",id:"fund",urlKey:"?type=fund"}],Z=function(e){var i,n,l,t,d,o,c,r,f,m,Z,z,k,I,S,E,V,q,U,B,K,J,N,D,T,P,R,H,M,O,F,L,w,G,Y,Q,X,$,W,ee,ie,ne,le=e.instituteId,te=e.fid,se=e.categoryCount,de=e.masterCount,oe=e.financeData,ae=e.tabManage,ue=(0,s.UO)(),ve=(0,s.TH)(),ce=(0,u.lr)(),re=(0,a.Z)(ce,1)[0];return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(y.Z,{children:[(0,h.jsx)(b.Z,{children:A.map((function(e){var i,n,l;return(0,h.jsx)(_.Z,{label:e.label,isLink:!0,isActive:"menu"===e.id&&!re.get("type")||re.get("type")===e.id,parentState:ve.state,url:"/q/".concat(ue.username,"/member/staff/finance").concat(e.urlKey),isAuthorized:null===(i=ve.state)||void 0===i||!i.role||(null===(n=C[null===(l=ve.state)||void 0===l?void 0:l.role])||void 0===n?void 0:n.includes(null===e||void 0===e?void 0:e.id))},null===e||void 0===e?void 0:e.id)}))}),re.get("type")?"fees"===re.get("type")?(0,h.jsx)(v.Z,{fid:te,instituteId:le,masterCount:de,categoryCount:se}):"fund"===re.get("type")?(0,h.jsx)(x,{financeData:oe}):null:(0,h.jsxs)(j.Z,{children:[(0,h.jsx)(g.Z,{label:"all_students",iconUrl:"".concat(p.J7,"/student.svg"),url:"/q/".concat(ue.username,"/member/staff/finance?type=students"),state:ve.state,isAuthorized:null===(i=ve.state)||void 0===i||!i.role||(null===(n=C[null===(l=ve.state)||void 0===l?void 0:l.role])||void 0===n?void 0:n.includes("student")),isVisible:null!==ae&&void 0!==ae?ae:{},accessKey:"all_students"}),(0,h.jsx)(g.Z,{label:"bank_details",iconUrl:"".concat(p.J7,"/bank.svg"),url:"/q/".concat(ue.username,"/member/staff/finance?type=bank"),state:ve.state,isAuthorized:null===(t=ve.state)||void 0===t||!t.role||(null===(d=C[null===(o=ve.state)||void 0===o?void 0:o.role])||void 0===d?void 0:d.includes("bank")),isVisible:null!==ae&&void 0!==ae?ae:{},accessKey:"bank_details"}),(0,h.jsx)(g.Z,{label:"pending_fees",iconUrl:"".concat(p.J7,"/pending.svg"),url:"/q/".concat(ue.username,"/member/staff/finance?type=pending-fee"),state:ve.state,isAuthorized:null===(c=ve.state)||void 0===c||!c.role||(null===(r=C[null===(f=ve.state)||void 0===f?void 0:f.role])||void 0===r?void 0:r.includes("pending")),isVisible:null!==ae&&void 0!==ae?ae:{},accessKey:"pending_fees"}),(0,h.jsx)(g.Z,{label:"deposits",iconUrl:"".concat(p.J7,"/deposit.svg"),url:"/q/".concat(ue.username,"/member/staff/finance?type=deposit"),state:ve.state,isAuthorized:null===(m=ve.state)||void 0===m||!m.role||(null===(Z=C[null===(z=ve.state)||void 0===z?void 0:z.role])||void 0===Z?void 0:Z.includes("deposit")),isVisible:null!==ae&&void 0!==ae?ae:{},accessKey:"deposits"}),(0,h.jsx)(g.Z,{label:"incomes",iconUrl:"".concat(p.J7,"/income.svg"),url:"/q/".concat(ue.username,"/member/staff/finance?type=income"),state:ve.state,isAuthorized:null===(k=ve.state)||void 0===k||!k.role||(null===(I=C[null===(S=ve.state)||void 0===S?void 0:S.role])||void 0===I?void 0:I.includes("income")),isVisible:null!==ae&&void 0!==ae?ae:{},accessKey:"incomes"}),(0,h.jsx)(g.Z,{label:"expenses",iconUrl:"".concat(p.J7,"/expense.svg"),url:"/q/".concat(ue.username,"/member/staff/finance?type=expense"),state:ve.state,isAuthorized:null===(E=ve.state)||void 0===E||!E.role||(null===(V=C[null===(q=ve.state)||void 0===q?void 0:q.role])||void 0===V?void 0:V.includes("expense")),isVisible:null!==ae&&void 0!==ae?ae:{},accessKey:"expenses"}),(0,h.jsx)(g.Z,{label:"scholarsips",iconUrl:"".concat(p.J7,"/scholarship.svg"),url:"/q/".concat(ue.username,"/member/staff/finance?type=scholarship"),state:ve.state,isAuthorized:null===(U=ve.state)||void 0===U||!U.role||(null===(B=C[null===(K=ve.state)||void 0===K?void 0:K.role])||void 0===B?void 0:B.includes("scholarship")),isVisible:null!==ae&&void 0!==ae?ae:{},accessKey:"scholarships"}),(0,h.jsx)(g.Z,{label:"exemption_and_unrecovered",iconUrl:"".concat(p.J7,"/exemption.svg"),url:"/q/".concat(ue.username,"/member/staff/finance?type=exemption"),state:ve.state,isAuthorized:null===(J=ve.state)||void 0===J||!J.role||(null===(N=C[null===(D=ve.state)||void 0===D?void 0:D.role])||void 0===N?void 0:N.includes("exemption")),isVisible:null!==ae&&void 0!==ae?ae:{},accessKey:"exemption"}),(0,h.jsx)(g.Z,{label:"transaction_history",iconUrl:"".concat(p.J7,"/history.svg"),url:"/q/".concat(ue.username,"/member/staff/finance?type=history"),state:ve.state,isAuthorized:null===(T=ve.state)||void 0===T||!T.role||(null===(P=C[null===(R=ve.state)||void 0===R?void 0:R.role])||void 0===P?void 0:P.includes("trasnsaction")),isVisible:null!==ae&&void 0!==ae?ae:{},accessKey:"transaction_history"}),(0,h.jsx)(g.Z,{label:"data_export",iconUrl:"".concat(p.J7,"/export.svg"),url:"/q/".concat(ue.username,"/member/staff/finance?type=export"),state:ve.state,isAuthorized:null===(H=ve.state)||void 0===H||!H.role||(null===(M=C[null===(O=ve.state)||void 0===O?void 0:O.role])||void 0===M?void 0:M.includes("export")),isVisible:null!==ae&&void 0!==ae?ae:{},accessKey:"data_export"}),(0,h.jsx)(g.Z,{label:"finance_moderators",iconUrl:"".concat(p.J7,"/moderator.svg"),url:"/q/".concat(ue.username,"/member/staff/finance?type=moderator"),state:ve.state,isAuthorized:null===(F=ve.state)||void 0===F||!F.role||(null===(L=C[null===(w=ve.state)||void 0===w?void 0:w.role])||void 0===L?void 0:L.includes("moderator")),isVisible:null!==ae&&void 0!==ae?ae:{},accessKey:"finance_mods"}),(0,h.jsx)(g.Z,{label:"internal_fees",iconUrl:"".concat(p.J7,"/internal-fees.svg"),url:"/q/".concat(ue.username,"/member/staff/finance?type=internal-fees"),state:ve.state,isAuthorized:null===(G=ve.state)||void 0===G||!G.role||(null===(Y=C[null===(Q=ve.state)||void 0===Q?void 0:Q.role])||void 0===Y?void 0:Y.includes("internal"))}),(0,h.jsx)(g.Z,{label:"student_statitics",iconUrl:"".concat(p.J7,"/statitics.svg"),url:"/q/".concat(ue.username,"/member/staff/finance?type=student-statistics"),state:ve.state,isAuthorized:null===(X=ve.state)||void 0===X||!X.role||(null===($=C[null===(W=ve.state)||void 0===W?void 0:W.role])||void 0===$?void 0:$.includes("student statistics"))}),(0,h.jsx)(g.Z,{label:"fees_statitics",iconUrl:"".concat(p.J7,"/statitics.svg"),url:"/q/".concat(ue.username,"/member/staff/finance?type=fees-statistics"),state:ve.state,isAuthorized:null===(ee=ve.state)||void 0===ee||!ee.role||(null===(ie=C[null===(ne=ve.state)||void 0===ne?void 0:ne.role])||void 0===ie?void 0:ie.includes("fee statistics")),isVisible:null!==ae&&void 0!==ae?ae:{},accessKey:"fee_statistics"})]})]})})},z=n(6758),k=n(5978),I=n(55336),S=n(1669),E=(0,l.lazy)((function(){return n.e(8025).then(n.bind(n,18025))})),V=(0,l.lazy)((function(){return n.e(1460).then(n.bind(n,81460))})),q=(0,l.lazy)((function(){return n.e(7341).then(n.bind(n,77341))})),U=(0,l.lazy)((function(){return n.e(9131).then(n.bind(n,69131))})),B=(0,l.lazy)((function(){return n.e(6411).then(n.bind(n,86411))})),K=(0,l.lazy)((function(){return Promise.all([n.e(7338),n.e(7932),n.e(6697),n.e(6510)]).then(n.bind(n,45754))})),J=(0,l.lazy)((function(){return Promise.all([n.e(9017),n.e(7782),n.e(8106)]).then(n.bind(n,38106))})),N=(0,l.lazy)((function(){return n.e(6220).then(n.bind(n,66220))})),D=(0,l.lazy)((function(){return n.e(8973).then(n.bind(n,98973))})),T=(0,l.lazy)((function(){return n.e(4395).then(n.bind(n,84395))})),P=(0,l.lazy)((function(){return n.e(8594).then(n.bind(n,98594))})),R=(0,l.lazy)((function(){return n.e(8858).then(n.bind(n,68858))})),H=(0,l.lazy)((function(){return n.e(625).then(n.bind(n,50625))})),M=(0,l.lazy)((function(){return Promise.all([n.e(782),n.e(7574)]).then(n.bind(n,80782))})),O=(0,l.lazy)((function(){return Promise.all([n.e(9268),n.e(9091),n.e(4035)]).then(n.bind(n,89091))})),F=(0,l.lazy)((function(){return Promise.all([n.e(782),n.e(4265)]).then(n.bind(n,6388))})),L=(0,l.lazy)((function(){return n.e(4422).then(n.bind(n,24422))})),w=function(){var e,i,n,t,d,o,v,c,r,f,m,p,x,y,b,_,j,g,C,A,w,G,Y,Q,X,$,W,ee,ie,ne,le,te,se,de,oe,ae,ue,ve,ce,re,fe,me,pe,he,xe,ye,be,_e,je,ge,Ce,Ae,Ze,ze,ke,Ie,Se,Ee,Ve,qe,Ue,Be,Ke,Je,Ne,De,Te,Pe=(0,s.TH)(),Re=(0,u.lr)(),He=(0,a.Z)(Re,1)[0],Me=(0,z.Lr)({data:{fid:null===(e=Pe.state)||void 0===e?void 0:e.fid,mid:""},skip:!(null!==(i=Pe.state)&&void 0!==i&&i.fid)}),Oe=Me.financeDashboardMaster,Fe=Me.financeDashboardMasterLoading;return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(k.Z,{children:[(0,h.jsx)(l.Suspense,{fallback:(0,h.jsx)(I.Z,{}),children:!He.get("type")||null!==(n=["fees","fund"])&&void 0!==n&&n.includes(He.get("type"))?(0,h.jsx)(Z,{fid:null===(t=Pe.state)||void 0===t?void 0:t.fid,instituteId:null===Oe||void 0===Oe||null===(d=Oe.finance)||void 0===d||null===(o=d.institute)||void 0===o?void 0:o._id,categoryCount:null!==(v=null===Oe||void 0===Oe||null===(c=Oe.finance)||void 0===c?void 0:c.fees_category_count)&&void 0!==v?v:0,masterCount:null!==(r=null===Oe||void 0===Oe||null===(f=Oe.finance)||void 0===f?void 0:f.fee_master_array_count)&&void 0!==r?r:0,financeData:null===Oe||void 0===Oe?void 0:Oe.finance,tabManage:null===Oe||void 0===Oe||null===(m=Oe.finance)||void 0===m?void 0:m.tab_manage}):"bank"===He.get("type")?(0,h.jsx)(E,{fid:null===(p=Pe.state)||void 0===p?void 0:p.fid,libraryId:null===Oe||void 0===Oe||null===(x=Oe.finance)||void 0===x||null===(y=x.institute)||void 0===y||null===(b=y.library)||void 0===b?void 0:b[0],transportId:null===Oe||void 0===Oe||null===(_=Oe.finance)||void 0===_||null===(j=_.institute)||void 0===j||null===(g=j.transportDepart)||void 0===g?void 0:g[0],hostelId:null===Oe||void 0===Oe||null===(C=Oe.finance)||void 0===C||null===(A=C.institute)||void 0===A||null===(w=A.hostelDepart)||void 0===w?void 0:w[0]}):"students"===He.get("type")?(0,h.jsx)(M,{instituteId:null===Oe||void 0===Oe||null===(G=Oe.finance)||void 0===G||null===(Y=G.institute)||void 0===Y?void 0:Y._id,messageId:null===Oe||void 0===Oe||null===(Q=Oe.finance)||void 0===Q?void 0:Q._id,headId:null===Oe||void 0===Oe||null===(X=Oe.finance)||void 0===X||null===($=X.financeHead)||void 0===$?void 0:$._id,studentAlias:null===Oe||void 0===Oe||null===(W=Oe.finance)||void 0===W||null===(ee=W.institute)||void 0===ee||null===(ie=ee.alias_pronounciation)||void 0===ie?void 0:ie.student_alias,accessAs:"FINANCE_MANAGER",subUrl:"finance"}):"pending-fee"===He.get("type")?(0,h.jsx)(V,{fid:null===(ne=Pe.state)||void 0===ne?void 0:ne.fid}):"income"===He.get("type")?(0,h.jsx)(q,{fid:null===(le=Pe.state)||void 0===le?void 0:le.fid}):"expense"===He.get("type")?(0,h.jsx)(U,{fid:null===(te=Pe.state)||void 0===te?void 0:te.fid}):"exemption"===He.get("type")?(0,h.jsx)(B,{fid:null===(se=Pe.state)||void 0===se?void 0:se.fid,exemptBalance:null===Oe||void 0===Oe||null===(de=Oe.finance)||void 0===de?void 0:de.financeExemptBalance}):"export"===He.get("type")?(0,h.jsx)(K,{fid:null===(oe=Pe.state)||void 0===oe?void 0:oe.fid,instituteId:null===Oe||void 0===Oe||null===(ae=Oe.finance)||void 0===ae||null===(ue=ae.institute)||void 0===ue?void 0:ue._id,hostelId:null===Oe||void 0===Oe||null===(ve=Oe.finance)||void 0===ve||null===(ce=ve.institute)||void 0===ce||null===(re=ce.hostelDepart)||void 0===re?void 0:re[0]}):"history"===He.get("type")?(0,h.jsx)(J,{fid:null===(fe=Pe.state)||void 0===fe?void 0:fe.fid,instituteId:null===Oe||void 0===Oe||null===(me=Oe.finance)||void 0===me||null===(pe=me.institute)||void 0===pe?void 0:pe._id}):"moderator"===He.get("type")?(0,h.jsx)(N,{fid:null===(he=Pe.state)||void 0===he?void 0:he.fid,instituteId:null===Oe||void 0===Oe||null===(xe=Oe.finance)||void 0===xe||null===(ye=xe.institute)||void 0===ye?void 0:ye._id}):"deposit"===He.get("type")?(0,h.jsx)(D,{fid:null===(be=Pe.state)||void 0===be?void 0:be.fid,instituteId:null===Oe||void 0===Oe||null===(_e=Oe.finance)||void 0===_e||null===(je=_e.institute)||void 0===je?void 0:je._id}):"student-statistics"===He.get("type")?(0,h.jsx)(T,{fid:null===(ge=Pe.state)||void 0===ge?void 0:ge.fid}):"statistics-detail"===He.get("type")?(0,h.jsx)(R,{fid:null===(Ce=Pe.state)||void 0===Ce?void 0:Ce.fid}):"internal-fees"===He.get("type")?(0,h.jsx)(P,{fid:null===(Ae=Pe.state)||void 0===Ae?void 0:Ae.fid}):"fees-statistics"===He.get("type")?(0,h.jsx)(H,{fid:null===(Ze=Pe.state)||void 0===Ze?void 0:Ze.fid,instituteId:null===Oe||void 0===Oe||null===(ze=Oe.finance)||void 0===ze||null===(ke=ze.institute)||void 0===ke?void 0:ke._id}):"message"===He.get("type")?(0,h.jsx)(O,{instituteId:null===Oe||void 0===Oe||null===(Ie=Oe.finance)||void 0===Ie||null===(Se=Ie.institute)||void 0===Se?void 0:Se._id}):"scholarship"===He.get("type")?(0,h.jsx)(F,{fid:null===(Ee=Pe.state)||void 0===Ee?void 0:Ee.fid,instituteId:null===Oe||void 0===Oe||null===(Ve=Oe.finance)||void 0===Ve||null===(qe=Ve.institute)||void 0===qe?void 0:qe._id,aid:null===Oe||void 0===Oe||null===(Ue=Oe.finance)||void 0===Ue||null===(Be=Ue.institute)||void 0===Be||null===(Ke=Be.admissionDepart)||void 0===Ke?void 0:Ke[0],studentAlias:null===Oe||void 0===Oe||null===(Je=Oe.finance)||void 0===Je||null===(Ne=Je.institute)||void 0===Ne||null===(De=Ne.alias_pronounciation)||void 0===De?void 0:De.student_alias}):"internal-fee-detail"===He.get("type")?(0,h.jsx)(L,{fid:null===(Te=Pe.state)||void 0===Te?void 0:Te.fid}):null}),Fe&&(0,h.jsx)(S.Z,{})]})})},G=function(){var e,i,n,a,u,v,c,r,f,m,p,x=(0,s.TH)(),y=(0,o.I0)();return(0,l.useEffect)((function(){var e,i,n,l,t;y(d.q.financeQuery({fid:null!==x&&void 0!==x&&null!==(e=x.state)&&void 0!==e&&e.role?null===x||void 0===x||null===(i=x.state)||void 0===i||null===(n=i.onClickValue)||void 0===n?void 0:n.finance:null===x||void 0===x||null===(l=x.state)||void 0===l?void 0:l.onClickValue,insId:null===x||void 0===x||null===(t=x.state)||void 0===t?void 0:t.insId}))}),[]),(0,h.jsx)(t.Z,{index:null!==x&&void 0!==x&&null!==(e=x.state)&&void 0!==e&&e.role?"27":"4",sid:null!==(i=null===x||void 0===x||null===(n=x.state)||void 0===n?void 0:n.sid)&&void 0!==i?i:"",onClickValue:null!==(a=null===x||void 0===x||null===(u=x.state)||void 0===u?void 0:u.onClickValue)&&void 0!==a?a:"",children:(0,h.jsx)(w,{onClickValue:null!==(v=null===x||void 0===x||null===(c=x.state)||void 0===c?void 0:c.onClickValue)&&void 0!==v?v:"",carryParentState:null===x||void 0===x?void 0:x.state,role:null===x||void 0===x||null===(r=x.state)||void 0===r?void 0:r.role,mid:null!==x&&void 0!==x&&null!==(f=x.state)&&void 0!==f&&f.role?null===x||void 0===x||null===(m=x.state)||void 0===m||null===(p=m.onClickValue)||void 0===p?void 0:p._id:""})})}},5978:function(e,i,n){n.d(i,{Z:function(){return s}});var l="UserMemberTab_um_main_wrapper__NwvJ9",t=n(80184),s=function(e){var i=e.children;return(0,t.jsx)("div",{className:l,children:i})}}}]);
//# sourceMappingURL=5575.5b04b5c3.chunk.js.map