"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[6876],{46876:function(i,n,t){t.r(n);var e=t(93433),s=t(29439),a=t(72791),r=t(23441),o=t(95048),c=t(12923),l=t(763),u=t(69721),f=t(52124),d=t(5574),h=t(39230),v=t(80184),_=window.innerHeight;n.default=function(i){var n=i.onClose,t=i.title,g=i.headSelect,m=i.assignHead,p=i.disabledId,x=i.instituteId,S=i.viewAs,k=i.isMultiSelect,j=i.selectList,N=i.onMultiSelect,Z=i.onDone,w=(0,h.$G)().t,b=(0,a.useState)(1),M=(0,s.Z)(b,2),A=M[0],C=M[1],L=(0,a.useState)(!0),R=(0,s.Z)(L,2),y=R[0],I=R[1],F=(0,r.YD)(),O=(0,s.Z)(F,2),D=O[0],P=O[1],E=(0,a.useState)(""),H=(0,s.Z)(E,2),U=H[0],q=H[1],z=a.useState([]),B=(0,s.Z)(z,2),G=B[0],W=B[1],J=(0,o.v9)((function(i){return i.idChange})),Q=(0,c.vI)({skip:"ADMISSION_ADMIN"===S?!x:!(null!==J&&void 0!==J&&J.id),search:{search:U,page:A,id:"ADMISSION_ADMIN"===S?x:null===J||void 0===J?void 0:J.id,limit:10}}),T=Q.assignSearchStaff,V=Q.assignSearchStaffRefetch;a.useEffect((function(){null!==J&&void 0!==J&&J.id&&V()}),[null===J||void 0===J?void 0:J.id,V,A]),(0,a.useEffect)((function(){P&&y&&C((function(i){return i+1}))}),[P,y]),a.useEffect((function(){null!==T&&void 0!==T&&T.staff&&W(U?null===T||void 0===T?void 0:T.staff:function(i){return function(i){for(var n=0;n<(null===i||void 0===i?void 0:i.length);n++)for(var t=n+1;t<(null===i||void 0===i?void 0:i.length);t++){var e,s;(null===(e=i[n])||void 0===e?void 0:e._id)===(null===(s=i[t])||void 0===s?void 0:s._id)&&(null===i||void 0===i||i.splice(t,1))}return i}([].concat((0,e.Z)(i),(0,e.Z)(null===T||void 0===T?void 0:T.staff)))}),10===(null===T||void 0===T?void 0:T.staff.length)?I(!0):I(!1)}),[null===T||void 0===T?void 0:T.staff]),(0,a.useEffect)((function(){U&&Y()}),[U]);var Y=function(){V()},$=(0,a.useCallback)((0,l.debounce)((function(i){return q(i)}),500),[]),K=function(i){p===(null===i||void 0===i?void 0:i._id)||(k?N(i):(g(i),"ADMISSION_ADMIN"===S||n()))};return(0,v.jsx)(d.Z,{open:m,onClose:n,children:(0,v.jsxs)("div",{style:{backgroundColor:"#FAFAFA",width:"35rem",height:"".concat(_-20,"px"),overflowX:"hidden"},children:[(0,v.jsxs)("div",{className:f.Z.assign_title,style:{width:"100%"},children:[(0,v.jsx)("h5",{children:t}),k?(0,v.jsxs)("div",{className:f.Z.is_mulitselect_container,children:[(0,v.jsx)("h6",{style:{cursor:"pointer"},onClick:Z,children:w("select")}),(0,v.jsx)("img",{src:"/images/close-post-icon.svg",onClick:n,alt:"staff assign pop close icon"})]}):(0,v.jsx)("img",{src:"/images/close-post-icon.svg",onClick:n,alt:"staff assign pop close icon"})]}),(0,v.jsxs)("div",{className:f.Z.assign_search_container,children:[(0,v.jsx)("input",{type:"text",placeholder:w("search"),className:f.Z.assign_search_input,onChange:function(i){return n=i.target.value,void $(n);var n}}),(0,v.jsx)("img",{src:"/images/search-dash-icon.svg",alt:"search icon"})]}),(0,v.jsx)("div",{className:f.Z.assign_show_list,children:null===G||void 0===G?void 0:G.map((function(i,n){return(null===G||void 0===G?void 0:G.length)===n+1?(0,v.jsxs)("div",{ref:D,children:[(0,v.jsxs)("div",{className:f.Z.assign_show_list_each,style:p===i._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:function(){return K(i)},children:[k?null!==j&&void 0!==j&&j.includes(null===i||void 0===i?void 0:i._id)?(0,v.jsx)("img",{src:"/images/checkbox-icon.svg",alt:"icon",style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"}}):(0,v.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/box-icon.svg",alt:"icon"}):"",(0,v.jsx)("img",{src:null!==i&&void 0!==i&&i.staffProfilePhoto?"".concat(u.yI,"/").concat(i.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,v.jsxs)("div",{className:f.Z.assign_each_paragraph,children:[(0,v.jsx)("h6",{children:"".concat(i.staffFirstName," ").concat(null!==i&&void 0!==i&&i.staffMiddleName?null===i||void 0===i?void 0:i.staffMiddleName:""," ").concat(i.staffLastName)}),(0,v.jsxs)("p",{children:[" ",w("index")," ",null===i||void 0===i?void 0:i.staffROLLNO]})]})]}),(0,v.jsx)("hr",{})]},i._id):(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:f.Z.assign_show_list_each,style:p===i._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:function(){return K(i)},children:[k?null!==j&&void 0!==j&&j.includes(null===i||void 0===i?void 0:i._id)?(0,v.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/checkbox-icon.svg",alt:"icon"}):(0,v.jsx)("img",{style:{height:"1.3rem",borderRadius:"0",cursor:"pointer"},src:"/images/box-icon.svg",alt:"icon"}):"",(0,v.jsx)("img",{src:null!==i&&void 0!==i&&i.staffProfilePhoto?"".concat(u.yI,"/").concat(i.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,v.jsxs)("div",{className:f.Z.assign_each_paragraph,children:[(0,v.jsx)("h6",{children:"".concat(i.staffFirstName," ").concat(null!==i&&void 0!==i&&i.staffMiddleName?null===i||void 0===i?void 0:i.staffMiddleName:""," ").concat(i.staffLastName)}),(0,v.jsxs)("p",{children:[" ",w("index")," ",null===i||void 0===i?void 0:i.staffROLLNO]})]})]}),(0,v.jsx)("hr",{})]},i._id)}))})]})})}},12923:function(i,n,t){t.d(n,{Ec:function(){return S},Em:function(){return N},JM:function(){return v},NS:function(){return r},Pg:function(){return _},Q_:function(){return x},RH:function(){return h},Tv:function(){return l},U_:function(){return p},VN:function(){return o},Wj:function(){return f},ZS:function(){return d},_8:function(){return k},d5:function(){return u},tB:function(){return m},vI:function(){return j},yx:function(){return c},zO:function(){return g}});var e=t(29439),s=t(91007),a=t(58208),r=function(i){var n=(0,a.YD)(i.search,{skip:i.skip});return{instituteAllSearch:n.data,instituteAllSearchRefetch:n.refetch}},o=function(){var i=(0,a.ak)();return[(0,e.Z)(i,1)[0]]},c=function(){var i=(0,a.WL)();return[(0,e.Z)(i,1)[0]]},l=function(i){var n=(0,a.pH)(i.list,{skip:i.skip});return{instituteFollowList:n.data,instituteFollowListRefetch:n.refetch}},u=function(i){var n=(0,a.MG)(i.data,{skip:i.skip});return{instituteOwnFollowingList:n.data,instituteOwnFollowingListRefetch:n.refetch}},f=function(){var i=(0,a.Ky)();return[(0,e.Z)(i,1)[0]]},d=function(i){var n=(0,a.p8)(i.list);return{userFollowList:n.data,userFollowListRefetch:n.refetch}},h=function(i){var n=(0,a.Wv)(i);return{userFollowingList:n.data,userFollowingListRefetch:n.refetch}},v=function(i){var n=(0,a.sz)(i.search,{skip:i.skip});return{userAllSearch:n.data,userAllSearchRefetch:n.refetch}},_=function(){var i=(0,a.Mk)();return[(0,e.Z)(i,1)[0]]},g=function(){var i=(0,a.$i)();return[(0,e.Z)(i,1)[0]]},m=function(){var i=(0,a.Do)();return[(0,e.Z)(i,1)[0]]},p=function(){var i=(0,a.He)();return[(0,e.Z)(i,1)[0]]},x=function(){var i=(0,a.vg)();return[(0,e.Z)(i,1)[0]]},S=function(){var i=(0,a.OO)();return[(0,e.Z)(i,1)[0]]},k=function(i){var n=(0,a.N2)(i);return{userCircleList:n.data,userCircleListRefetch:n.refetch}},j=function(i){var n=(0,s.x6)(i.search,{skip:i.skip});return{assignSearchStaff:n.data,assignSearchStaffRefetch:n.refetch}},N=function(i){var n=(0,a.SJ)(i);return{universalUser:n.data,universalUserRefetch:n.refetch}}},52124:function(i,n){n.Z={assign_title:"AssignStaffModal_assign_title__4DGBV",assign_search_container:"AssignStaffModal_assign_search_container__3x6RD",assign_search_input:"AssignStaffModal_assign_search_input__rO3c7",assign_show_list:"AssignStaffModal_assign_show_list__yHhf7",assign_show_list_each:"AssignStaffModal_assign_show_list_each__ACUEw",assign_each_paragraph:"AssignStaffModal_assign_each_paragraph__pMHTq",universal_modal:"AssignStaffModal_universal_modal__czmpB",is_mulitselect_container:"AssignStaffModal_is_mulitselect_container__0cPQ2"}}}]);
//# sourceMappingURL=6876.41cc162a.chunk.js.map