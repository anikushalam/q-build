"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[7970],{81622:function(e,n,t){var a=t(1413),i=t(29439),o=t(72791),r=t(38733),l=t(39230),_=t(93097),c=t(69721),d=t(1095),u=t(80184);n.Z=function(e){var n=e.labelText,t=e.name,s=e.multiple,m=e.value,f=e.onChange,p=(e.onClick,e.errorShow),v=e.acceptType,h=e.customStyleContainer,g=(0,l.$G)().t,y=(0,o.useState)(""),x=(0,i.Z)(y,2),b=x[0],j=x[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:r.Z.join_form_container,style:(0,a.Z)({},h),children:[(0,u.jsxs)("label",{className:r.Z.join_form_label,children:[n,p&&(0,u.jsx)("span",{style:{color:"red",marginLeft:"15px"},children:"* required"})]}),(0,u.jsxs)("div",{className:r.Z.join_form_file_container,children:[(0,u.jsx)("label",{className:m?"".concat(r.Z.join_form_file_choose," ").concat(r.Z.join_form_active_background):r.Z.join_form_file_choose,htmlFor:t,children:g(""!==m?"file_chosen":"chose_file")}),(0,u.jsx)("label",{className:r.Z.join_form_file_choosen,onClick:function(){if(null!==m&&void 0!==m&&m.originalName)if(null!==m&&void 0!==m&&m.isPdf){var e=null;(e=null!==m&&void 0!==m&&m.isCdn?window.open("".concat(d.q2,"/").concat(null===m||void 0===m?void 0:m.key),"_blank","noopener,noreferrer"):window.open("".concat(c.zQ,"/").concat(null===m||void 0===m?void 0:m.key),"_blank","noopener,noreferrer"))&&(e.opener=null)}else j(null===m||void 0===m?void 0:m.key);else j(m)},style:{color:"#002BBE",cursor:"pointer"},children:""!==m?null!==m&&void 0!==m&&m.originalName?null===m||void 0===m?void 0:m.originalName:"View":g("no_file_chosen")})]}),(0,u.jsx)("input",{type:"file",multiple:!!s,accept:v||"image/*, .doc,.docx, application/pdf,.csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",name:t,id:t,style:{display:"none"},onChange:f})]}),b&&(0,u.jsx)(_.Z,{onClose:function(){j("")},keyValue:b})]})}},93097:function(e,n,t){t(72791);var a=t(12072),i=t(84489),o=t(69721),r=t(80184);n.Z=function(e){var n=e.onClose,t=e.keyValue;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Z,{onClose:n}),(0,r.jsx)(a.Z,{customStyle:{zIndex:"1200",borderRadius:"0"},children:(0,r.jsx)("img",{src:"".concat(o.yI,"/").concat(t),alt:"view file",style:{maxWidth:"700px",maxHeight:"500px"}})})]})}},74276:function(e,n,t){t.d(n,{Z:function(){return N}});var a=t(4942),i=t(1413),o=t(93433),r=t(37762),l=t(29439),_=t(72791),c="DeaprtmentSiteInfo_navbar__EpTgJ",d="DeaprtmentSiteInfo_bgContainer__adbaK",u="DeaprtmentSiteInfo_container__hUEpZ",s="DeaprtmentSiteInfo_containercontent__KltIz",m="DeaprtmentSiteInfo_containerhead__tOut9",f="DeaprtmentSiteInfo_container_inner_content__zqg3P",p="DeaprtmentSiteInfo_show_field__hawFC",v="DeaprtmentSiteInfo_update_btn__HU3oA",h="DeaprtmentSiteInfo_add_contact_person__9YxFJ",g="DeaprtmentSiteInfo_add_contact_person_btn__XSinB",y=t(39230),x=t(16871),b=t(72952),j=t(81622),Z=t(98734),C=t(84959),M=t(98094),S=t(91007),F=t(97655),T=t(95048),I=t(79872),w=t(74289),k=t(80184),N=function(e){var n,t,N,D,A=e.did,E=e.viewAs,q=(0,y.$G)().t,H=(0,T.v9)((function(e){return e.authChange.loginRole})),P=(0,x.s0)(),R=(0,_.useState)(!1),K=(0,l.Z)(R,2),Q=K[0],Y=K[1],z=(0,_.useState)({department_vission:"",department_mission:"",department_hod_message:"",department_about:"",department_image:""}),L=(0,l.Z)(z,2),U=L[0],B=L[1],G=(0,_.useState)([{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}]),O=(0,l.Z)(G,2),W=O[0],V=O[1],J=(0,w.I8)({did:A,skip:!A}),X=J.departmentGetSiteInfo,$=J.departmentGetSiteInfoRefetch,ee=(0,C.FL)(),ne=(0,l.Z)(ee,1)[0],te=(0,w.l8)(),ae=(0,l.Z)(te,1)[0],ie=(0,T.v9)((function(e){return e.idChange.id})),oe=(0,S.pu)(ie,{skip:"INSTITUTE"===E||!ie}),re=oe.data,le=oe.refetch;(0,_.useEffect)((function(){ie&&"INSTITUTE"!==E&&le()}),[ie,le]),(0,_.useEffect)((function(){A&&$()}),[A,$]),(0,_.useEffect)((function(){var e,n,t,a,i,o,l;if(null!==X&&void 0!==X&&X.department_site&&(B({department_vission:null===X||void 0===X||null===(e=X.department_site)||void 0===e?void 0:e.department_vission,department_mission:null===X||void 0===X||null===(n=X.department_site)||void 0===n?void 0:n.department_mission,department_hod_message:null===X||void 0===X||null===(t=X.department_site)||void 0===t?void 0:t.department_hod_message,department_about:null===X||void 0===X||null===(a=X.department_site)||void 0===a?void 0:a.department_about,department_image:null===X||void 0===X||null===(i=X.department_site)||void 0===i?void 0:i.department_image}),null!==X&&void 0!==X&&null!==(o=X.department_site)&&void 0!==o&&null!==(l=o.department_contact)&&void 0!==l&&l.length)){var _,c,d=[],u=(0,r.Z)(null===X||void 0===X||null===(_=X.department_site)||void 0===_?void 0:_.department_contact);try{for(u.s();!(c=u.n()).done;){var s=c.value,m={contact_department_name:null===s||void 0===s?void 0:s.contact_department_name,contact_person_name:null===s||void 0===s?void 0:s.contact_person_name,contact_person_mobile:null===s||void 0===s?void 0:s.contact_person_mobile,contact_person_email:null===s||void 0===s?void 0:s.contact_person_email,contactId:null===s||void 0===s?void 0:s._id};d.push(m)}}catch(f){u.e(f)}finally{u.f()}V(d)}}),[null===X||void 0===X?void 0:X.department_site]);var _e=function(e,n){for(var t=(0,o.Z)(W),a=0;a<(null===t||void 0===t?void 0:t.length);a++)a===n&&(t[a][e.target.name]=e.target.value);V(t)},ce=function(e){B((function(n){return(0,i.Z)((0,i.Z)({},n),{},(0,a.Z)({},e.target.name,e.target.value))}))};return(0,k.jsxs)("div",{className:d,children:["INSTITUTE"===E?null:(0,k.jsx)("div",{className:c,children:(0,k.jsx)(I.default,{status:"members",profileData:null===re||void 0===re?void 0:re.user,username:null===re||void 0===re||null===(n=re.user)||void 0===n?void 0:n.username,name:null===re||void 0===re||null===(t=re.user)||void 0===t?void 0:t.userLegalName,photoId:null===re||void 0===re||null===(N=re.user)||void 0===N?void 0:N.photoId,profilePhoto:null===re||void 0===re||null===(D=re.user)||void 0===D?void 0:D.profilePhoto})}),(0,k.jsxs)("div",{className:u,children:[(0,k.jsxs)("div",{className:m,children:[(0,k.jsx)("h6",{children:q("update_department_site_info")}),(0,k.jsx)("img",{src:"/images/close-post-icon.svg",alt:"",onClick:function(){P(-1)}})]}),(0,k.jsx)(M.Z,{customStyle:{width:"100%"}}),(0,k.jsx)("div",{className:s,children:(0,k.jsxs)("div",{className:f,children:[(0,k.jsxs)("div",{className:p,children:[(0,k.jsx)(b.Z,{labelText:q("vision"),placeholder:q("department_vision_placeholder"),name:"department_vission",value:U.department_vission,type:"text",onChange:ce,customStyleContainer:{width:"69.5%"}}),(0,k.jsx)(j.Z,{labelText:q("department_Image"),name:"department_image",value:U.department_image,onChange:function(e){Y((function(e){return!e}));var n=new FormData;n.append("file",e.target.files[0]),ne({fileUpload:n}).then((function(e){var n;null!==(n=e.data)&&void 0!==n&&n.imageKey&&B((function(n){var t;return(0,i.Z)((0,i.Z)({},n),{},{department_image:null===(t=e.data)||void 0===t?void 0:t.imageKey})})),Y((function(e){return!e}))})).catch({})},customStyleContainer:{width:"29.5%"}})]}),(0,k.jsx)(b.Z,{labelText:q("mission"),placeholder:q("department_mission_placeholder"),name:"department_mission",value:U.department_mission,type:"text",onChange:ce,customStyleContainer:{width:"100%"}}),(0,k.jsx)(b.Z,{labelText:q("about_department"),placeholder:q("about_department_placeholder"),name:"department_about",value:U.department_about,type:"text",onChange:ce,customStyleContainer:{width:"100%"}}),(0,k.jsx)(b.Z,{labelText:q("hod_message"),placeholder:q("hod_message_placeholder"),name:"department_hod_message",value:U.department_hod_message,type:"text",onChange:ce,customStyleContainer:{width:"100%"}}),(0,k.jsxs)("div",{className:h,children:[(0,k.jsx)("h6",{children:q("add_contact_persons")}),null===W||void 0===W?void 0:W.map((function(e,n){return(0,k.jsxs)("div",{children:[(0,k.jsxs)("div",{className:p,children:[(0,k.jsx)(F.Z,{labelText:q("site_department_name"),placeholder:q("site_department_name_placeholder"),name:"contact_department_name",value:null===e||void 0===e?void 0:e.contact_department_name,type:"text",onChange:function(e){return _e(e,n)},customStyleContainer:{width:"49.5%"}}),(0,k.jsx)(F.Z,{labelText:q("contact_person_name"),placeholder:q("contact_person_name_placeholder"),name:"contact_person_name",value:null===e||void 0===e?void 0:e.contact_person_name,type:"text",onChange:function(e){return _e(e,n)},customStyleContainer:{width:"49.5%"}})]}),(0,k.jsxs)("div",{className:p,children:[(0,k.jsx)(F.Z,{labelText:q("contact_person_mobile"),placeholder:q("contact_person_mobile_placeholder"),name:"contact_person_mobile",value:null===e||void 0===e?void 0:e.contact_person_mobile,type:"text",onChange:function(e){return _e(e,n)},customStyleContainer:{width:"49.5%"}}),(0,k.jsx)(F.Z,{labelText:q("contact_person_email"),placeholder:q("contact_person_email_placeholder"),name:"contact_person_email",value:null===e||void 0===e?void 0:e.contact_person_email,type:"email",onChange:function(e){return _e(e,n)},customStyleContainer:{width:"49.5%"}})]})]},n)}))]}),(0,k.jsx)("button",{className:g,title:"Add Contact Person",onClick:function(){V((function(e){return[].concat((0,o.Z)(e),[{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}])}))},children:q("add_contact_person")}),Q&&(0,k.jsx)(Z.Z,{}),(0,k.jsx)("button",{className:v,onClick:function(){var e,n;"_usr_ia"===H||(Y((function(e){return!e})),ae({did:A,updateSiteInfo:(0,i.Z)((0,i.Z)({},U),{},{department_contact:null===W||void 0===W?void 0:W.filter((function(e){return null!==e&&void 0!==e&&e.contactId?"":e})),edit_department_contact:null===W||void 0===W?void 0:W.filter((function(e){return null!==e&&void 0!==e&&e.contactId?e:""})),previousKey:(null===X||void 0===X||null===(e=X.department_site)||void 0===e?void 0:e.department_image)===U.department_image?"":null===X||void 0===X||null===(n=X.department_site)||void 0===n?void 0:n.department_image})}).then((function(){Y((function(e){return!e}))})).catch({}))},children:q("update")})]})})]})]})}},93339:function(e,n,t){t.d(n,{nt:function(){return b},jx:function(){return x},gJ:function(){return j},EI:function(){return y},jU:function(){return g}});var a=t(29439),i=t(2030),o=t(93433),r=t(94811),l=function(e){return e.query({query:function(e){return"/department/tab/manage/".concat(null===e||void 0===e?void 0:e.did,"/query")},providesTags:["Tab_Manage"],serializeQueryArgs:function(e){return e.endpointName},forceRefetch:function(e){return e.currentArg!==e.previousArg}})},_=function(e){return e.mutation({query:function(e){return{url:"/department/tab/manage/".concat(null===e||void 0===e?void 0:e.did,"/query"),method:r.Q0,body:e.tabManage}},invalidatesTags:["Tab_Manage"]})},c=function(e){return e.mutation({query:function(e){return{url:"/attendance/department/".concat(e.did,"/holiday"),method:r.a4,body:e.holiday}}})},d=function(e){return e.query({query:function(e){return"/attendance/holiday/".concat(null===e||void 0===e?void 0:e.did,"?page=").concat(null===e||void 0===e?void 0:e.page,"&limit=").concat(null===e||void 0===e?void 0:e.limit)},serializeQueryArgs:function(e){return e.endpointName},transformResponse:function(e,n,t){var a,i;return null!==t&&void 0!==t&&t.search?{search:!0,list:null===e||void 0===e||null===(a=e.depart)||void 0===a?void 0:a.holiday}:{page:null===t||void 0===t?void 0:t.page,list:null===e||void 0===e||null===(i=e.depart)||void 0===i?void 0:i.holiday}},merge:function(e,n){var t;return null!==n&&void 0!==n&&n.search||1===(null===n||void 0===n?void 0:n.page)?n:void(null===e||void 0===e||null===(t=e.list)||void 0===t||t.push.apply(t,(0,o.Z)(null===n||void 0===n?void 0:n.list)))},forceRefetch:function(e){return e.currentArg!==e.previousArg}})},u=function(e){return e.mutation({query:function(e){return{url:"/attendance/holiday/".concat(e.hid,"/delete"),method:r.yY}}})},s=i.z.injectEndpoints({endpoints:function(e){return{departmentTabManage:l(e),departmentTabController:_(e),departmentCreatedHoliday:c(e),departmentAllHoliday:d(e),departmentDeleteHoliday:u(e)}}}),m=s.useDepartmentTabManageQuery,f=s.useDepartmentTabControllerMutation,p=s.useDepartmentCreatedHolidayMutation,v=s.useDepartmentAllHolidayQuery,h=s.useDepartmentDeleteHolidayMutation,g=function(e){var n=m(e.data,{skip:e.skip});return{departmentTabManage:n.data,departmentTabManageRefetch:n.refetch,departmentTabManageLoading:n.isFetching}},y=function(){var e=f();return[(0,a.Z)(e,1)[0]]},x=function(){var e=p();return[(0,a.Z)(e,1)[0]]},b=function(e){var n=v(e.data,{skip:e.skip});return{departmentAllHoliday:n.data,departmentAllHolidayRefetch:n.refetch,departmentAllHolidayLoading:n.isFetching}},j=function(){var e=h();return[(0,a.Z)(e,1)[0]]}},94811:function(e,n,t){t.d(n,{Q0:function(){return i},a4:function(){return a},yY:function(){return o}});var a="POST",i="PATCH",o="DELETE"},56959:function(e,n){n.Z={fm_header_container:"FinanceManager_fm_header_container__4809h",fm_header_start_container:"FinanceManager_fm_header_start_container__MIMYE",fm_title_heading:"FinanceManager_fm_title_heading__K-4lB",fm_search:"FinanceManager_fm_search__42NnY",fm_search_container:"FinanceManager_fm_search_container__23+f8",fm_search_container_inner:"FinanceManager_fm_search_container_inner__YySAp",fm_search_icon:"FinanceManager_fm_search_icon__WftS9",fm_all_time_data_container:"FinanceManager_fm_all_time_data_container__jIgPj",fm_all_time_data:"FinanceManager_fm_all_time_data__Re+uG",fm_total_amount:"FinanceManager_fm_total_amount__wAS13",fm_both_filter:"FinanceManager_fm_both_filter__25sOi",fm_both_filter_with_name:"FinanceManager_fm_both_filter_with_name__-29YH",fm_add_button:"FinanceManager_fm_add_button__9h09Q",fm_search_full:"FinanceManager_fm_search_full__vDPwG",fm_search_full_container:"FinanceManager_fm_search_full_container__PVgHt",fm_search_full_container_inner:"FinanceManager_fm_search_full_container_inner__tmOa6",fm_search_full_icon:"FinanceManager_fm_search_full_icon__BaRMK",fm_fs_container:"FinanceManager_fm_fs_container__cQS8l",fm_fs_container_inner:"FinanceManager_fm_fs_container_inner__eLCO6",fm_fs_refetch_container:"FinanceManager_fm_fs_refetch_container__W3BMl",fm_fs_refetch_container_inner:"FinanceManager_fm_fs_refetch_container_inner__y6kWF",fm_fund_card:"FinanceManager_fm_fund_card__Xo-wt",fm_fund_total:"FinanceManager_fm_fund_total__Z-m5Y",fm_fund_total_inner:"FinanceManager_fm_fund_total_inner__WjTx9",fm_flex:"FinanceManager_fm_flex__KK95u",fm_other_admission:"FinanceManager_fm_other_admission__m7mDo",lms_rule_container:"FinanceManager_lms_rule_container__8hkCA",fm_header_paragraph:"FinanceManager_fm_header_paragraph__x9942"}}}]);
//# sourceMappingURL=7970.d1e40392.chunk.js.map