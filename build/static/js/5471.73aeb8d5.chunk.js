"use strict";(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[5471,6876],{15471:function(e,n,i){i.r(n),i.d(n,{default:function(){return $n}});var t=i(72791),l=i(42190),o=i(20772),a=i(29439),s="Mainbody_institute_admission_body__HWANt",d="Mainbody_institute_ads_container__pGqua",c="Mainbody_institute_ads_container_other__kLAuL",r="Mainbody_institute_ads_container_border__4MsZ1",u=i(95048),v=i(35395),m=i(29017),p=i(69721),_=i(39230),f=i(85050),h=i(93738),g=i(21093),x=i(16871),j=i(80184),Z=t.lazy((function(){return i.e(7107).then(i.bind(i,76035))})),S=function(e){e.username;var n,i,l,o,s,d,c,r,S,b,N,A,y,C,I,E=e.admissionId,P=(0,_.$G)().t,T=(0,x.UO)(),R=(0,u.v9)((function(e){return e.admissionChange})),k=t.useState(!1),D=(0,a.Z)(k,2),w=D[0],O=D[1],M=(0,m.vV)({data:{aid:"".concat(null!==R&&void 0!==R&&R.aid?null===R||void 0===R?void 0:R.aid:E),sid:""},skip:null!==R&&void 0!==R&&R.aid?!(null!==R&&void 0!==R&&R.aid):!E}),L=M.getAdmissionDetail,F=M.getAdmissionDetailRefetch;(0,t.useEffect)((function(){(null!==R&&void 0!==R&&R.aid||E)&&F()}),[null===R||void 0===R?void 0:R.aid,E,F]);var U=function(){O((function(e){return!e}))};return(0,j.jsxs)("div",{style:{position:"sticky",top:"77px",height:"fit-content",width:"30%"},children:[(0,j.jsx)(g.Z,{whichType:"PREVIOUS_GO"}),(0,j.jsx)(f.Z,{dynamicImage:null!==L&&void 0!==L&&null!==(n=L.admission)&&void 0!==n&&n.cover?"".concat(p.yI,"/").concat(null===L||void 0===L||null===(i=L.admission)||void 0===i?void 0:i.cover):"/images/profileAndCover/admission-cover.svg",edit:!0,onEditAction:U,redirectUrl:"/q/".concat(T.username,"/admission?a=site"),isSiteInfo:"ADMISSION",carryParentState:{aid:null===L||void 0===L||null===(l=L.admission)||void 0===l?void 0:l._id}}),(0,j.jsx)(h.Z,{cardAsHead:!0,heading:" ".concat((null===L||void 0===L||null===(o=L.admission)||void 0===o||null===(s=o.admissionAdminHead)||void 0===s?void 0:s.staffFirstName)||""," ").concat(null!==L&&void 0!==L&&null!==(d=L.admission)&&void 0!==d&&null!==(c=d.admissionAdminHead)&&void 0!==c&&c.staffMiddleName?null===L||void 0===L||null===(r=L.admission)||void 0===r||null===(S=r.admissionAdminHead)||void 0===S?void 0:S.staffMiddleName:""," ").concat((null===L||void 0===L||null===(b=L.admission)||void 0===b||null===(N=b.admissionAdminHead)||void 0===N?void 0:N.staffLastName)||""),description:P("admission_admin"),customStyleCard:{borderRadius:"18px 18px 0px 0px",border:"none",marginTop:"-1.49vw"}}),(0,j.jsx)(h.Z,{cardAsHead:!1,heading:P("ongoing_add"),description:P("admissions"),count:(null===L||void 0===L||null===(A=L.admission)||void 0===A?void 0:A.newAppCount)||0}),(0,j.jsx)(h.Z,{cardAsHead:!1,heading:P("application"),description:P("received_from_students"),count:(null===L||void 0===L||null===(y=L.admission)||void 0===y?void 0:y.newAppCount)+(null===L||void 0===L||null===(C=L.admission)||void 0===C?void 0:C.completedCount)||0,customStyleCard:{borderRadius:"0 0 12px 12px",borderBottom:"0.4px solid rgba(0, 0, 0, 0.15)"}}),(0,j.jsx)(v.Z,{children:(0,j.jsx)(Z,{admissionModal:w,hideModal:U,edit:!0,admissionManagerName:null===L||void 0===L||null===(I=L.admission)||void 0===I?void 0:I.admissionAdminHead,onParentRefetch:F})})]})},b=i(43504),N=i(39480),A=i(74737),y=i(1413),C=function(e){var n=e.carryParentState,i=e.activeTab,t=e.children,l=(0,x.UO)();return(0,j.jsx)(b.rU,{to:"/q/".concat(l.username,"/admission").concat(i),state:(0,y.Z)({},n),children:t})},I={funds2:"Funds_funds2__4QC2s",fundscontent:"Funds_fundscontent__uE4Dh",sidebarbottomitem:"Funds_sidebarbottomitem__N9G-h",namee:"Funds_namee__udwpf",desig:"Funds_desig__id4Ah",balanceItem:"Funds_balanceItem__YpuFS",fundbtn:"Funds_fundbtn__DUCOL"};function E(e){var n=e.bal,i=e.value;return(0,j.jsxs)("div",{className:I.balanceItem,children:[(0,j.jsxs)("p",{children:[n,":"]}),(0,j.jsxs)("p",{children:["Rs. ",i]})]})}var P=function(e){var n,i,l,o,a,s,d,c,r,v,p=e.carryParentState,f=(0,_.$G)().t,h=(0,u.v9)((function(e){return e.admissionChange})),g=(0,u.v9)((function(e){return e.idChange.id})),x=(0,N.gq)({id:g,skip:!g}),Z=x.oneInstituteDashboard,S=x.oneInstituteDashboardRefetch,b=(0,m.vV)({data:{aid:"".concat(null!==h&&void 0!==h&&h.aid?null===h||void 0===h?void 0:h.aid:null===Z||void 0===Z||null===(n=Z.institute)||void 0===n?void 0:n.admissionDepart[0]),sid:""},skip:null!==h&&void 0!==h&&h.aid?!(null!==h&&void 0!==h&&h.aid):!(null!==Z&&void 0!==Z&&null!==(i=Z.institute)&&void 0!==i&&i.admissionDepart[0])}),A=b.getAdmissionDetail,y=b.getAdmissionDetailRefetch;return(0,t.useEffect)((function(){g&&S()}),[g,S]),(0,t.useEffect)((function(){var e;(null!==h&&void 0!==h&&h.aid||null!==Z&&void 0!==Z&&null!==(e=Z.institute)&&void 0!==e&&e.admissionDepart[0])&&y()}),[null===h||void 0===h?void 0:h.aid,null===Z||void 0===Z||null===(l=Z.institute)||void 0===l?void 0:l.admissionDepart[0],y]),(0,j.jsx)("div",{className:I.funds2,children:(0,j.jsxs)("div",{className:I.fundscontent,children:[(0,j.jsxs)("div",{className:I.sidebarbottomitem,children:[(0,j.jsx)("img",{alt:"not found",src:"/images/finance/doller-icon.svg"}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("p",{className:I.namee,children:["Rs."," ",((null===A||void 0===A||null===(o=A.admission)||void 0===o?void 0:o.onlineFee)+(null===A||void 0===A||null===(a=A.admission)||void 0===a?void 0:a.offlineFee)).toFixed(2)]}),(0,j.jsx)("p",{className:I.desig,children:f("total_admission_fees")})]})]}),(0,j.jsx)(E,{bal:f("online_fees"),value:null===A||void 0===A||null===(s=A.admission)||void 0===s||null===(d=s.onlineFee)||void 0===d?void 0:d.toFixed(2)}),(0,j.jsx)(E,{bal:f("offline_fees"),value:null===A||void 0===A||null===(c=A.admission)||void 0===c||null===(r=c.offlineFee)||void 0===r?void 0:r.toFixed(2)}),(0,j.jsx)(C,{carryParentState:p,activeTab:"?a=pending",children:(0,j.jsxs)("div",{className:I.fundbtn,children:[f("remaining_fees")," : Rs."," ",null===A||void 0===A||null===(v=A.admission)||void 0===v?void 0:v.remainingFeeCount]})})]})})},T=i(64783),R=i(98684),k=function(e){var n=e.carryParentState,i=(0,_.$G)().t,t=(0,b.lr)(),l=(0,a.Z)(t,1)[0];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:A.Z.finance_tab_tabs,children:[(0,j.jsx)(T.Z,{tabLevel:i("menu"),customStyleContainer:{width:"50%",marginRight:"2px",borderTopLeftRadius:"6px"},customStyleLevel:{borderTopLeftRadius:"6px"},tabValue:"menu",currentValue:null!==l&&void 0!==l&&l.get("a")?"other":"menu",carryParentState:n,activeUrl:"admission"}),(0,j.jsx)(T.Z,{tabLevel:i("fund"),customStyleContainer:{width:"50%",borderTopRightRadius:"6px"},customStyleLevel:{borderTopLeftRadius:"6px"},tabValue:"fund",currentValue:"fund"===(null===l||void 0===l?void 0:l.get("a"))?"fund":"other",carryParentState:n,activeUrl:"admission?a=fund"})]}),null!==l&&void 0!==l&&l.get("a")?"fund"===(null===l||void 0===l?void 0:l.get("a"))?(0,j.jsx)(P,{carryParentState:n}):null:(0,j.jsxs)("div",{className:A.Z.item,children:[(0,j.jsx)(C,{carryParentState:n,activeTab:"?a=ongoing",children:(0,j.jsxs)("div",{className:A.Z.itemIcon,children:[(0,j.jsx)("img",{src:"/images/member_tab/admission/admission-ongoing-icon.svg",alt:"Class Catalog"}),(0,j.jsx)("p",{children:i("admission_ongoing")})]})}),(0,j.jsx)(C,{carryParentState:n,activeTab:"?a=pending",children:(0,j.jsxs)("div",{className:A.Z.itemIcon,children:[(0,j.jsx)("img",{src:"/images/member_tab/finance/finance-pending-icon.svg",alt:"inquery"}),(0,j.jsx)("p",{children:i("pending_fees")})]})}),(0,j.jsx)(C,{carryParentState:n,activeTab:"?a=completed",children:(0,j.jsxs)("div",{className:A.Z.itemIcon,children:[(0,j.jsx)("img",{src:"/images/member_tab/admission/admission-complete-icon.svg",alt:"completed"}),(0,j.jsx)("p",{children:i("admission_complete")})]})}),(0,j.jsx)(C,{carryParentState:n,activeTab:"?a=export",children:(0,j.jsxs)("div",{className:A.Z.itemIcon,children:[(0,j.jsx)("img",{src:"/images/member_tab/finance/finance-export-icon.svg",alt:"refund"}),(0,j.jsx)("p",{children:i("data_exporting")})]})}),(0,j.jsx)(C,{carryParentState:n,activeTab:"?a=moderator",children:(0,j.jsxs)("div",{className:A.Z.itemIcon,children:[(0,j.jsx)("img",{src:"/images/member_tab/admission/admission-moderator-icon.svg",alt:"moderator icon"}),(0,j.jsx)("p",{children:i("admission_moderators")})]})}),(0,j.jsx)(C,{carryParentState:n,activeTab:"?a=tab",children:(0,j.jsxs)("div",{className:A.Z.itemIcon,children:[(0,j.jsx)("img",{src:"".concat(R.J7,"/controller.svg"),alt:"moderator icon"}),(0,j.jsx)("p",{children:i("tab_controller")})]})})]})]})},D=i(93433),w=i(23441),O=i(11105),M=i(98094),L=i(37762),F=i(46876),U=i(91022),B=i(98734),q=i(36665),G=i(70374),H=i(72426),V=i.n(H),W=function(e){var n,i=e.setActivePopup,t=e.selectedApplication,l=e.selectedStaff,o=e.moderatorState,a=e.onAssignModerator,s=(0,_.$G)().t;return(0,j.jsx)(q.Z,{children:(0,j.jsxs)("div",{className:G.Z.assign_role_container,children:[(0,j.jsxs)("section",{className:G.Z.assign_role_title,children:[(0,j.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){},alt:"back icon"}),(0,j.jsx)("h6",{children:s("preview")})]}),(0,j.jsx)(M.Z,{customStyle:{width:"100%"}}),(0,j.jsxs)("section",{className:G.Z.selected_staff_container,children:[(0,j.jsx)("img",{src:null!==l&&void 0!==l&&l.staffProfilePhoto?"".concat(p.yI,"/").concat(null===l||void 0===l?void 0:l.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,j.jsxs)("div",{className:G.Z.selected_staff_text,children:[(0,j.jsx)("h6",{children:"".concat(null===l||void 0===l?void 0:l.staffFirstName," ").concat(null!==(n=null===l||void 0===l?void 0:l.staffMiddleName)&&void 0!==n?n:""," ").concat(null===l||void 0===l?void 0:l.staffLastName)}),(0,j.jsxs)("p",{children:[s("index_number"),null===l||void 0===l?void 0:l.staffROLLNO]})]})]}),(0,j.jsx)("section",{style:{padding:"0.8rem"},children:(0,j.jsx)(U.Z,{selectLabel:s("select_role_of_moderator"),selectedValue:s("please_select_role"),value:"ALL_FEE_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Application Manager":"INQUIRY_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Enquiries Section":"FULL_ACCESS",openAs:"REFUND"})}),null===t||void 0===t?void 0:t.map((function(e){var n,i,t;return(0,j.jsxs)("div",{className:G.Z.application_card,children:[(0,j.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,j.jsxs)("section",{className:G.Z.application_card_text,children:[(0,j.jsx)("h6",{children:null!==(n=null===e||void 0===e?void 0:e.applicationName)&&void 0!==n?n:""}),(0,j.jsxs)("div",{className:G.Z.application_card_text_bottom,children:[(0,j.jsx)("p",{children:null!==(i=null===e||void 0===e||null===(t=e.applicationDepartment)||void 0===t?void 0:t.dName)&&void 0!==i?i:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,j.jsx)("p",{children:V()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id)})),(0,j.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,j.jsxs)("button",{className:G.Z.select_application_btn,onClick:function(){return i("SELECT_APPLICATION")},children:[(0,j.jsx)("div",{children:s("add_more")}),(0,j.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),(0,j.jsxs)("button",{className:G.Z.assign_btn,onClick:a,children:[s("assign")," "]})]})]})})},J=function(e){var n,i=e.onCloseEdit,t=e.setActivePopup,l=e.selectedStaff,o=e.moderatorState,a=e.onSelectRole,s=e.onUpdateModerator,d=e.selectedApplication,c=(0,_.$G)().t;return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(q.Z,{onClose:i,children:(0,j.jsxs)("div",{className:G.Z.assign_role_container,children:[(0,j.jsxs)("section",{className:G.Z.assign_role_title,children:[(0,j.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:i,alt:"back icon",style:{cursor:"pointer"}}),(0,j.jsx)("h6",{children:c("update_role_to_moderator")})]}),(0,j.jsx)(M.Z,{customStyle:{width:"100%"}}),(0,j.jsxs)("section",{className:G.Z.selected_staff_container,onClick:function(){return t("OPEN_STAFF_LIST")},children:[(0,j.jsx)("img",{src:null!==l&&void 0!==l&&l.staffProfilePhoto?"".concat(p.yI,"/").concat(null===l||void 0===l?void 0:l.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,j.jsxs)("div",{className:G.Z.selected_staff_text,children:[(0,j.jsx)("h6",{children:"".concat(null===l||void 0===l?void 0:l.staffFirstName," ").concat(null!==(n=null===l||void 0===l?void 0:l.staffMiddleName)&&void 0!==n?n:""," ").concat(null===l||void 0===l?void 0:l.staffLastName)}),(0,j.jsxs)("p",{children:[c("index_number"),null===l||void 0===l?void 0:l.staffROLLNO]})]})]}),(0,j.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,j.jsx)(U.Z,{selectLabel:c("select_role_of_moderator"),selectedValue:c("please_select_role"),options:["Fee receipt authority","Application Manager","Enquiries Section","Scholarship Manager","Excess Fee Refund","Pending Fee Manager","Tab Authority","Data Export Authority"],value:"ALL_FEE_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Application Manager":"INQUIRY_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Enquiries Section":"SCHOLARSHIP_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Scholarship Manager":"REFUND_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Access Fee Moderator":"PENDING_FEE_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Pending Fee Manager":"ONE_TAB_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Tab Authority":"DATA_EXPORT_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)?"Data Export Authority":"",onClick:a}),null===d||void 0===d?void 0:d.map((function(e){var n,i,t;return(0,j.jsxs)("div",{className:G.Z.application_card,style:{width:"100%",margin:"1rem 0 0"},children:[(0,j.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,j.jsxs)("section",{className:G.Z.application_card_text,children:[(0,j.jsx)("h6",{children:null!==(n=null===e||void 0===e?void 0:e.applicationName)&&void 0!==n?n:""}),(0,j.jsxs)("div",{className:G.Z.application_card_text_bottom,children:[(0,j.jsx)("p",{children:null!==(i=null===e||void 0===e||null===(t=e.applicationDepartment)||void 0===t?void 0:t.dName)&&void 0!==i?i:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,j.jsx)("p",{children:V()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id)})),"MULTI_APP_ACCESS"===(null===o||void 0===o?void 0:o.mod_role)&&(0,j.jsxs)("button",{className:G.Z.select_application_btn,onClick:function(){return t("SELECT_APPLICATION")},children:[(0,j.jsx)("div",{children:c("moderator_select_application")}),(0,j.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),(0,j.jsxs)("button",{className:G.Z.assign_btn,onClick:s,children:[c("update")," "]})]})]})})})},$=function(e){var n,i=e.setActivePopup,l=e.setSelectedApplication,o=e.setSelectedApplicationId,s=e.selectedApplicationId,d=e.openAs,c=e.role,r=(0,_.$G)().t,v=(0,t.useState)(!0),p=(0,a.Z)(v,2),f=p[0],h=p[1],g=(0,t.useState)(1),x=(0,a.Z)(g,2),Z=x[0],S=x[1],b=(0,w.YD)(),N=(0,a.Z)(b,2),A=N[0],y=N[1],C=(0,t.useState)([]),I=(0,a.Z)(C,2),E=I[0],P=I[1],T=(0,t.useState)(!0),R=(0,a.Z)(T,2),k=R[0],L=R[1],F=(0,u.v9)((function(e){return e.admissionChange})),U=(0,m.JG)({data:{aid:null===F||void 0===F?void 0:F.aid,page:Z,limit:10},skip:!(null!==F&&void 0!==F&&F.aid)}),B=U.allOngoingApp,H=U.allOngoingAppRefetch;(0,t.useEffect)((function(){y&&f&&S((function(e){return e+1}))}),[y,f]),(0,t.useEffect)((function(){null!==F&&void 0!==F&&F.aid&&(L(!0),H())}),[null===F||void 0===F?void 0:F.aid,Z,H]),(0,t.useEffect)((function(){null!==F&&void 0!==F&&F.aid&&(L(!0),H())}),[null===F||void 0===F?void 0:F.aid,H]),(0,t.useEffect)((function(){var e;null!==B&&void 0!==B&&B.ongoing&&(P((function(e){var n,i;return null===(n=(0,D.Z)(new Set(null===(i=[].concat((0,D.Z)(e),(0,D.Z)(null===B||void 0===B?void 0:B.ongoing)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),L(!1)),10===(null===B||void 0===B||null===(e=B.ongoing)||void 0===e?void 0:e.length)?h(!0):h(!1)}),[null===B||void 0===B?void 0:B.ongoing]);var W=function(){i("EDIT"===d?"PREVIEW_FORM":"ASSIGN_ROLE")},J=function(e){null!==s&&void 0!==s&&s.includes(null===e||void 0===e?void 0:e._id)?(l((function(n){return null===n||void 0===n?void 0:n.filter((function(n){return(null===n||void 0===n?void 0:n._id)!==(null===e||void 0===e?void 0:e._id)}))})),o((function(n){return null===n||void 0===n?void 0:n.filter((function(n){return n!==(null===e||void 0===e?void 0:e._id)}))}))):(l((function(n){return n?[].concat((0,D.Z)(n),[e]):[e]})),o((function(n){return n?[].concat((0,D.Z)(n),[null===e||void 0===e?void 0:e._id]):[null===e||void 0===e?void 0:e._id]})))};return(0,j.jsx)(q.Z,{onClose:W,children:(0,j.jsxs)("div",{className:G.Z.assign_role_container,children:[(0,j.jsxs)("section",{className:G.Z.assign_role_title,style:{position:"relative"},children:[(0,j.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:W,alt:"back icon"}),(0,j.jsx)("h6",{children:r("assign_role_to_moderator")}),(0,j.jsxs)("button",{className:G.Z.select_btn,onClick:function(){i("EDIT"===d?"PREVIEW_FORM":"ONE_TAB_ACCESS"===c?"ASSIGN_ROLE":"MODERATOR_PREWVIEW")},children:[null!==(n=null===s||void 0===s?void 0:s.length)&&void 0!==n?n:""," "," ",r("select")]})]}),(0,j.jsx)(M.Z,{customStyle:{width:"100%"}}),null===E||void 0===E?void 0:E.map((function(e,n){var i,t,l,o,a,d;return(null===E||void 0===E?void 0:E.length)===n+1?(0,j.jsxs)("div",{className:null!==s&&void 0!==s&&s.includes(null===e||void 0===e?void 0:e._id)?"".concat(G.Z.application_card," ").concat(G.Z.application_card_active):G.Z.application_card,ref:A,onClick:function(){return J(e)},children:[(0,j.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,j.jsxs)("section",{className:G.Z.application_card_text,children:[(0,j.jsx)("h6",{children:null!==(i=null===e||void 0===e?void 0:e.applicationName)&&void 0!==i?i:""}),(0,j.jsxs)("div",{className:G.Z.application_card_text_bottom,children:[(0,j.jsx)("p",{children:null!==(t=null===e||void 0===e||null===(l=e.applicationDepartment)||void 0===l?void 0:l.dName)&&void 0!==t?t:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,j.jsx)("p",{children:V()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id):(0,j.jsxs)("div",{className:null!==s&&void 0!==s&&s.includes(null===e||void 0===e?void 0:e._id)?"".concat(G.Z.application_card," ").concat(G.Z.application_card_active):G.Z.application_card,onClick:function(){return J(e)},children:[(0,j.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,j.jsxs)("section",{className:G.Z.application_card_text,children:[(0,j.jsx)("h6",{children:null!==(o=null===e||void 0===e?void 0:e.applicationName)&&void 0!==o?o:""}),(0,j.jsxs)("div",{className:G.Z.application_card_text_bottom,children:[(0,j.jsx)("p",{children:null!==(a=null===e||void 0===e||null===(d=e.applicationDepartment)||void 0===d?void 0:d.dName)&&void 0!==a?a:""}),null!==e&&void 0!==e&&e.applicationEndDate?(0,j.jsx)("p",{children:V()(null===e||void 0===e?void 0:e.applicationEndDate).format("DD/MM/yyyy")}):""]})]})]},null===e||void 0===e?void 0:e._id)})),k&&(0,j.jsx)(O.Z,{})]})})},Y=function(e){var n,i,l,o,s,d=e.instituteId,c=e.admissionId,r=e.onClose,u=e.onRefetchWhenAdd,v=e.openModeratorMenu,f=e.openAs,h=e.onEdit,g=(0,_.$G)().t,x=(0,t.useState)("EDIT"===f?"PREVIEW_FORM":"OPEN_STAFF_LIST"),Z=(0,a.Z)(x,2),S=Z[0],b=Z[1],N=(0,t.useState)("EDIT"===f?null===v||void 0===v?void 0:v.access_staff:""),A=(0,a.Z)(N,2),C=A[0],I=A[1],E=(0,t.useState)({mod_role:"EDIT"===f?null===v||void 0===v?void 0:v.access_role:"",sid:"EDIT"===f?null===v||void 0===v||null===(n=v.access_staff)||void 0===n?void 0:n._id:"",app_array:[],one_tab:""}),P=(0,a.Z)(E,2),T=P[0],R=P[1],k=(0,t.useState)("EDIT"===f?null===v||void 0===v?void 0:v.access_application:[]),D=(0,a.Z)(k,2),w=D[0],O=D[1],H=(0,t.useState)([]),V=(0,a.Z)(H,2),Y=V[0],z=V[1],Q=(0,m.z_)(),X=(0,a.Z)(Q,1)[0];(0,t.useEffect)((function(){if("EDIT"===f){var e;I(null===v||void 0===v?void 0:v.access_staff),O(null===v||void 0===v?void 0:v.access_application);var n,i=[],t=(0,L.Z)(null===v||void 0===v?void 0:v.access_application);try{for(t.s();!(n=t.n()).done;){var l=n.value;i.push(null===l||void 0===l?void 0:l._id)}}catch(o){t.e(o)}finally{t.f()}z(i),R({mod_role:null===v||void 0===v?void 0:v.access_role,sid:null===v||void 0===v||null===(e=v.access_staff)||void 0===e?void 0:e._id,app_array:i}),b("PREVIEW_FORM")}}),[f]);var K=function(){b("OPEN_STAFF_LIST")},ee=function(e){R((function(n){return(0,y.Z)((0,y.Z)({},n),{},{mod_role:"Fee receipt authority"===e?"ALL_FEE_ACCESS":"Application Manager"===e?"MULTI_APP_ACCESS":"Enquiries Section"===e?"INQUIRY_ACCESS":"Scholarship Manager"===e?"SCHOLARSHIP_ACCESS":"Excess Fee Refund"===e?"REFUND_ACCESS":"Pending Fee Manager"===e?"PENDING_FEE_ACCESS":"Tab Authority"===e?"ONE_TAB_ACCESS":"Data Export Authority"===e?"DATA_EXPORT_ACCESS":""})}))},ne=function(){b("LOADING"),X({aid:c,active_tab:T.one_tab,addModerator:"MULTI_APP_ACCESS"===(null===T||void 0===T?void 0:T.mod_role)||"ONE_TAB_ACCESS"===(null===T||void 0===T?void 0:T.mod_role)?{mod_role:T.mod_role,sid:T.sid,app_array:Y}:T}).then((function(){u(),b(""),r()})).catch({})};return(0,j.jsxs)(j.Fragment,{children:["OPEN_STAFF_LIST"===S&&(0,j.jsx)(F.default,{assignHead:"OPEN_STAFF_LIST"===S,headSelect:function(e){I(e),R((function(n){return(0,y.Z)((0,y.Z)({},n),{},{sid:null===e||void 0===e?void 0:e._id})})),b("EDIT"===f?"PREVIEW_FORM":"ASSIGN_ROLE")},title:g("staff_list"),onClose:r,instituteId:d,viewAs:"ADMISSION_ADMIN"}),"ASSIGN_ROLE"===S&&(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(q.Z,{onClose:K,children:(0,j.jsxs)("div",{className:G.Z.assign_role_container,children:[(0,j.jsxs)("section",{className:G.Z.assign_role_title,children:[(0,j.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:K,alt:"back icon"}),(0,j.jsx)("h6",{children:g("assign_role_to_moderator")})]}),(0,j.jsx)(M.Z,{customStyle:{width:"100%"}}),(0,j.jsxs)("section",{className:G.Z.selected_staff_container,children:[(0,j.jsx)("img",{src:null!==C&&void 0!==C&&C.staffProfilePhoto?"".concat(p.yI,"/").concat(null===C||void 0===C?void 0:C.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,j.jsxs)("div",{className:G.Z.selected_staff_text,children:[(0,j.jsx)("h6",{children:"".concat(null!==(i=null===C||void 0===C?void 0:C.staffFirstName)&&void 0!==i?i:""," ").concat(null!==(l=null===C||void 0===C?void 0:C.staffMiddleName)&&void 0!==l?l:""," ").concat(null!==(o=null===C||void 0===C?void 0:C.staffLastName)&&void 0!==o?o:"")}),(0,j.jsxs)("p",{children:[g("index_number"),null!==(s=null===C||void 0===C?void 0:C.staffROLLNO)&&void 0!==s?s:""]})]})]}),(0,j.jsxs)("section",{style:{padding:"0.8rem"},children:[(0,j.jsx)(U.Z,{selectLabel:g("select_role_of_moderator"),selectedValue:g("please_select_role"),options:["Fee receipt authority","Application Manager","Enquiries Section","Scholarship Manager","Excess Fee Refund","Pending Fee Manager","Tab Authority","Data Export Authority"],value:"ALL_FEE_ACCESS"===(null===T||void 0===T?void 0:T.mod_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===T||void 0===T?void 0:T.mod_role)?"Application Manager":"INQUIRY_ACCESS"===(null===T||void 0===T?void 0:T.mod_role)?"Enquiries Section":"SCHOLARSHIP_ACCESS"===(null===T||void 0===T?void 0:T.mod_role)?"Scholarship Manager":"REFUND_ACCESS"===(null===T||void 0===T?void 0:T.mod_role)?"Excess Fee Refund":"PENDING_FEE_ACCESS"===(null===T||void 0===T?void 0:T.mod_role)?"Pending Fee Manager":"ONE_TAB_ACCESS"===(null===T||void 0===T?void 0:T.mod_role)?"Tab Authority":"DATA_EXPORT_ACCESS"===(null===T||void 0===T?void 0:T.mod_role)?"Data Export Authority":"",onClick:ee}),"ONE_TAB_ACCESS"===T.mod_role&&(0,j.jsx)(U.Z,{selectLabel:g("select_tab_role"),selectedValue:g("please_select_role"),options:["Application","Selected","Confirmed","Allotted","Cancelled"],value:null===T||void 0===T?void 0:T.one_tab,onClick:function(e){R((function(n){return(0,y.Z)((0,y.Z)({},n),{},{one_tab:e})}))}}),"MULTI_APP_ACCESS"===T.mod_role?(0,j.jsxs)("button",{className:G.Z.select_application_btn,onClick:function(){return b("SELECT_APPLICATION")},children:[(0,j.jsx)("div",{children:g("moderator_select_application")}),(0,j.jsx)("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}):(0,j.jsxs)("button",{className:G.Z.assign_btn,onClick:ne,children:[g("assign")," "]})]})]})})}),"SELECT_APPLICATION"===S&&(0,j.jsx)($,{admissionId:c,setActivePopup:b,setSelectedApplication:O,selectedApplication:w,setSelectedApplicationId:z,selectedApplicationId:Y,openAs:f,role:T.mod_role}),"MODERATOR_PREWVIEW"===S&&(0,j.jsx)(W,{setActivePopup:b,selectedApplication:w,selectedStaff:C,moderatorState:T,onAssignModerator:ne}),"PREVIEW_FORM"===S&&(0,j.jsx)(J,{onCloseEdit:function(){r()},setActivePopup:b,selectedStaff:C,moderatorState:T,onSelectRole:ee,onUpdateModerator:function(){h(T,Y),r()},selectedApplication:w}),"LOADING"===S&&(0,j.jsx)(B.Z,{})]})},z=i(12072),Q=i(84489),X=i(87049),K=function(e){var n=e.onClose,i=e.admissionId,l=e.onRefetch,o=e.openModeratorMenu,s=e.instituteId,d=(0,t.useState)(!1),c=(0,a.Z)(d,2),r=c[0],u=c[1],v=(0,t.useState)(!1),p=(0,a.Z)(v,2),_=p[0],f=p[1],h=(0,m.vh)(),g=(0,a.Z)(h,1)[0],x=(0,m.Pn)(),Z=(0,a.Z)(x,1)[0];return(0,j.jsx)(j.Fragment,{children:_?(0,j.jsx)(Y,{onClose:function(){return f(!1)},admissionId:i,instituteId:s,onRefetch:l,openAs:"EDIT",openModeratorMenu:o,onEdit:function(e,i){u((function(e){return!e})),f(!1),Z({modId:null===o||void 0===o?void 0:o._id,active_tab:null===e||void 0===e?void 0:e.one_tab,updateModerator:{role:null===e||void 0===e?void 0:e.mod_role,staffId:null===e||void 0===e?void 0:e.sid,app_array:"MULTI_APP_ACCESS"===(null===e||void 0===e?void 0:e.mod_role)||"MULTI_APP_ACCESS"===(null===e||void 0===e?void 0:e.mod_role)?i:[]}}).then((function(){l(),u((function(e){return!e})),n()})).catch({})}}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Q.Z,{onClose:n}),(0,j.jsxs)(z.Z,{customStyle:{zIndex:"1200"},children:[(0,j.jsxs)("div",{className:X.Z.edit_modal_container,style:{width:"200px"},children:[(0,j.jsx)("h6",{className:X.Z.edit,onClick:function(){return f((function(e){return!e}))},children:"Edit"}),(0,j.jsx)("h6",{className:X.Z.remove,onClick:function(){u((function(e){return!e})),g({aid:i,modId:null===o||void 0===o?void 0:o._id}).then((function(){l(),n(),u((function(e){return!e}))})).catch({})},children:"Delete"})]}),r&&(0,j.jsx)(B.Z,{})]})]})})},ee=function(e){var n,i,t,l,o,a,s,d,c,r,u,v=e.moderator,m=e.setOpenModeratorMenu,f=(0,_.$G)().t;return(0,j.jsxs)("div",{className:G.Z.moderator_card,children:[(0,j.jsx)("img",{src:null!==v&&void 0!==v&&null!==(n=v.access_staff)&&void 0!==n&&n.staffProfilePhoto?"".concat(p.yI,"/").concat(null===v||void 0===v||null===(i=v.access_staff)||void 0===i?void 0:i.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"moderator avatar"}),(0,j.jsxs)("section",{className:G.Z.moderator_card_text_container,children:[(0,j.jsx)("h6",{children:"".concat(null===v||void 0===v||null===(t=v.access_staff)||void 0===t?void 0:t.staffFirstName," ").concat(null!==(l=null===v||void 0===v||null===(o=v.access_staff)||void 0===o?void 0:o.staffMiddleName)&&void 0!==l?l:""," ").concat(null===v||void 0===v||null===(a=v.access_staff)||void 0===a?void 0:a.staffLastName)}),(0,j.jsxs)("p",{children:[f("index_number"),null===v||void 0===v||null===(s=v.access_staff)||void 0===s?void 0:s.staffROLLNO]}),(0,j.jsx)("p",{children:"ALL_FEE_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Fee receipt authority":"MULTI_APP_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Application Manager":"INQUIRY_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Enquiries Section":"SCHOLARSHIP_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Scholarship Manager":"REFUND_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Access Fee Moderator":"PENDING_FEE_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Pending Fee Manager":"ONE_TAB_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Application"===(null===v||void 0===v||null===(d=v.active_tab)||void 0===d?void 0:d.role)?"Admission Application Tab":"Selected"===(null===v||void 0===v||null===(c=v.active_tab)||void 0===c?void 0:c.role)?"Admission Selected Tab":"Confirmed"===(null===v||void 0===v||null===(r=v.active_tab)||void 0===r?void 0:r.role)?"Admission Confirmed Tab":"Allotted"===(null===v||void 0===v||null===(u=v.active_tab)||void 0===u?void 0:u.role)?"Admission Allotted Tab":"Admission Cancelled Tab":"DATA_EXPORT_ACCESS"===(null===v||void 0===v?void 0:v.access_role)?"Data Export Authority":""})]}),(0,j.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(){return m(v)},className:G.Z.menu_icon,title:"Menu"})]})},ne=i(65543),ie=function(e){var n=e.instituteId,i=e.admissionId,l=(0,_.$G)().t,o=(0,x.s0)(),s=(0,t.useState)(!1),d=(0,a.Z)(s,2),c=d[0],r=d[1],u=(0,t.useState)(""),v=(0,a.Z)(u,2),p=v[0],f=v[1],h=(0,w.YD)(),g=(0,a.Z)(h,2),Z=g[0],S=g[1],b=(0,t.useState)(1),N=(0,a.Z)(b,2),A=N[0],y=N[1],C=(0,t.useState)(!0),I=(0,a.Z)(C,2),E=I[0],P=I[1],T=(0,t.useState)(!1),R=(0,a.Z)(T,2),k=R[0],L=R[1],F=(0,t.useState)(!0),U=(0,a.Z)(F,2),B=U[0],q=U[1],H=(0,t.useState)([]),V=(0,a.Z)(H,2),W=V[0],J=V[1],$=(0,m.fW)({data:{aid:i,page:A,limit:10},skip:!i}),z=$.getModeratorByAdmissionAdmin,Q=$.getModeratorByAdmissionAdminRefetch,X=(0,ne.u)().scrollToTop;(0,t.useEffect)((function(){X()}),[]),(0,t.useEffect)((function(){i&&(q(!0),Q())}),[i,A,Q]),(0,t.useEffect)((function(){S&&E&&y((function(e){return e+1}))}),[S,E]),(0,t.useEffect)((function(){var e,n;k?(J(null===z||void 0===z?void 0:z.all_mods),L(!1),q(!1)):null!==z&&void 0!==z&&z.all_mods?(J((function(e){var n,i;return null===(n=(0,D.Z)(new Set(null===(i=[].concat((0,D.Z)(e),(0,D.Z)(null===z||void 0===z?void 0:z.all_mods)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),q(!1)):0===(null===z||void 0===z||null===(n=z.all_mods)||void 0===n?void 0:n.length)&&q(!1);10===(null===z||void 0===z||null===(e=z.all_mods)||void 0===e?void 0:e.length)?P(!0):P(!1)}),[null===z||void 0===z?void 0:z.all_mods]);var ie=function(){L(!0),y(1),q(!0),Q()};return(0,j.jsxs)("div",{className:G.Z.moderator_container,children:[(0,j.jsxs)("section",{className:G.Z.moderator_container_title,children:[(0,j.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){o(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,j.jsx)("h6",{children:l("admission_moderators")})]}),(0,j.jsx)(M.Z,{customStyle:{width:"100%"}}),(0,j.jsx)("h6",{className:G.Z.add_new_moderator,onClick:function(){return r(!0)},children:l("add_new_moderator")}),(0,j.jsxs)("div",{className:G.Z.refund_list,children:[null===W||void 0===W?void 0:W.map((function(e,n){return(null===W||void 0===W?void 0:W.length)===n+1?(0,j.jsx)("div",{ref:Z,children:(0,j.jsx)(ee,{moderator:e,setOpenModeratorMenu:f})},null===e||void 0===e?void 0:e._id):(0,j.jsx)(ee,{moderator:e,setOpenModeratorMenu:f},null===e||void 0===e?void 0:e._id)})),c&&(0,j.jsx)(Y,{onClose:function(){return r((function(e){return!e}))},instituteId:n,admissionId:i,onRefetchWhenAdd:ie}),p&&(0,j.jsx)(K,{admissionId:i,instituteId:n,onRefetch:ie,onClose:function(){return f("")},openModeratorMenu:p}),B&&(0,j.jsx)(O.Z,{})]})]})},te=i(29407),le=i(25313),oe=i(41233),ae=i(33992),se=i(16256),de=i(87932),ce=function(e){var n,i,l=e.admissionId,o=e.instituteId,s=e.financeId,d=e.carryParentState,c=e.onClose,r=e.viewAs,u=e.onRefetch,v=(0,_.$G)().t,p=(0,x.s0)(),f=(0,x.UO)(),h=(0,t.useState)(!1),g=(0,a.Z)(h,2),Z=g[0],S=g[1],b=(0,t.useState)(!1),N=(0,a.Z)(b,2),A=N[0],C=N[1],I=(0,t.useState)({depart:"",batch:"",master:"",fee_struct:""}),E=(0,a.Z)(I,2),P=E[0],T=E[1],R=(0,t.useState)({gender:"",caste:"",is_all:""}),k=(0,a.Z)(R,2),w=k[0],O=k[1],M=(0,m.nJ)({aid:l,skip:!l}),L=M.allDepartmentList,F=M.allDepartmentListRefetch,U=(0,ae.tx)({data:{id:o,did:P.depart},skip:"All"===P.depart||!P.depart}),G=U.allClassMaster,H=U.allClassMasterRefetch,V=(0,ae._C)({did:P.depart,skip:"All"===P.depart||!P.depart}),W=V.oneDepartment,J=V.oneDepartmentRefetch,$=(0,de.Z)({fid:s,skip:!s}),Y=$.getAllFeesCategory,z=$.getAllFeesCategoryRefetch,Q=(0,m.rJ)(),X=(0,a.Z)(Q,1)[0];(0,t.useEffect)((function(){l&&F()}),[l,F]),(0,t.useEffect)((function(){P.depart&&"All"!==P.depart&&H()}),[P.depart,H]),(0,t.useEffect)((function(){P.depart&&"All"!==P.depart&&J()}),[P.depart,J]),(0,t.useEffect)((function(){s&&z()}),[s,z]);return(0,j.jsxs)(q.Z,{onClose:c,children:[(0,j.jsxs)("div",{className:le.Z.filter_container,children:[(0,j.jsx)("h6",{className:le.Z.filter_title,children:v("filter_and_export_fees_data")}),!Z&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(oe.Z,{selectLabel:v("select_department"),selectedValue:v("all_select_particular_department"),options:null!==L&&void 0!==L&&L.allDB?["All"].concat((0,D.Z)(null===L||void 0===L?void 0:L.allDB)):["All"],onClick:function(e){T((function(n){return(0,y.Z)((0,y.Z)({},n),{},{depart:e})}))}}),(0,j.jsx)(oe.Z,{selectLabel:"All"===P.depart?v("select_current_batch"):v("select_batch_optional"),selectedValue:"All"===P.depart?v("select_pref"):v("all_time_select_batch"),options:"All"===P.depart?["Current","All"]:null!==W&&void 0!==W&&null!==(n=W.department)&&void 0!==n&&n.batches?(0,D.Z)(null===W||void 0===W||null===(i=W.department)||void 0===i?void 0:i.batches):[],onClick:function(e){T((function(n){return(0,y.Z)((0,y.Z)({},n),{},{batch:e})}))}}),"All"===P.depart?"":(0,j.jsx)(oe.Z,{selectLabel:v("select_standard_year"),selectedValue:v("select_standard_year_placeholder"),options:null!==G&&void 0!==G&&G.classMaster?(0,D.Z)(null===G||void 0===G?void 0:G.classMaster):[],onClick:function(e){T((function(n){return(0,y.Z)((0,y.Z)({},n),{},{master:e})}))}}),(0,j.jsx)("button",{className:le.Z.next_btn,onClick:function(){return S((function(e){return!e}))},children:v("next")})]}),Z&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(oe.Z,{selectLabel:v("select_gender"),selectedValue:v("select_gender_placeholder"),options:["Male","Female","Other"],onClick:function(e){O((function(n){return(0,y.Z)((0,y.Z)({},n),{},{gender:e})}))}}),(0,j.jsx)(oe.Z,{selectLabel:v("select_caste_catgory"),selectedValue:v("select_caste_catgory_placeholder"),options:se.De,onClick:function(e){O((function(n){return(0,y.Z)((0,y.Z)({},n),{},{caste:e})}))}}),(0,j.jsx)(oe.Z,{selectLabel:v("select_fee_category"),selectedValue:v("select_fee_category_placeholder"),options:null!==Y&&void 0!==Y&&Y.all_fees_format?(0,D.Z)(null===Y||void 0===Y?void 0:Y.all_fees_format):[],onClick:function(e){T((function(n){return(0,y.Z)((0,y.Z)({},n),{},{fee_struct:e})}))}}),(0,j.jsx)(oe.Z,{selectLabel:v("select_all_or_pending"),selectedValue:v("select_all_or_pending_placeholder"),options:["All Time Fees","Pending Fees"],onClick:function(e){O((function(n){return(0,y.Z)((0,y.Z)({},n),{},{is_all:"All Time Fees"===e})}))}}),(0,j.jsx)("button",{className:le.Z.next_btn,onClick:function(){C((function(e){return!e})),X((0,y.Z)((0,y.Z)({aid:l},w),{},{all_depart:"All"===P.depart?"All":"Particular",batch_status:P.batch,pendingData:{depart:"All"===P.depart?"":P.depart,batch:"All"===P.depart?"":P.batch,master:"All"===P.depart?[]:[P.master],fee_struct:"All"===P.depart?"":P.fee_struct}})).then((function(){"EXPORT"===r?(u(),c()):p("/q/".concat(f.username,"/member/admission?a=export"),{state:(0,y.Z)({},d)}),C((function(e){return!e}))})).catch({})},children:v("export_data")})]})]}),A&&(0,j.jsx)(B.Z,{})]})},re=i(85162),ue=function(e){var n=e.onClose,i=e.xlsxId,l=e.onRefetch,o=e.admissionId,s=(0,t.useState)(!1),d=(0,a.Z)(s,2),c=d[0],r=d[1],u=(0,t.useState)(!1),v=(0,a.Z)(u,2),p=v[0],_=v[1],f=(0,m.f_)(),h=(0,a.Z)(f,1)[0],g=(0,m.JD)(),x=(0,a.Z)(g,1)[0];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Q.Z,{onClose:n}),(0,j.jsxs)(z.Z,{customStyle:{zIndex:"1200"},children:[p?(0,j.jsx)(re.Z,{xlsxId:i,onEdit:function(e){r((function(e){return!e})),x({aid:o,xlsxId:null===i||void 0===i?void 0:i._id,excelUpdate:{excel_file_name:e}}).then((function(){l(),r((function(e){return!e})),n()})).catch({})}}):(0,j.jsxs)("div",{className:X.Z.edit_modal_container,style:{width:"200px"},children:[(0,j.jsx)("h6",{className:X.Z.edit,onClick:function(){return _((function(e){return!e}))},children:"Edit"}),(0,j.jsx)("h6",{className:X.Z.remove,onClick:function(){r((function(e){return!e})),h({aid:o,xlsxId:null===i||void 0===i?void 0:i._id}).then((function(){l(),n(),r((function(e){return!e}))})).catch({})},children:"Delete"})]}),c&&(0,j.jsx)(B.Z,{})]})]})},ve=function(e){var n,i,l=e.admissionId,o=e.funds,s=e.carryParentState,d=(0,_.$G)().t,c=(0,x.s0)(),r=(0,w.YD)(),u=(0,a.Z)(r,2),v=u[0],p=u[1],f=(0,t.useState)(1),h=(0,a.Z)(f,2),g=h[0],Z=h[1],S=(0,t.useState)(!0),b=(0,a.Z)(S,2),N=b[0],A=b[1],y=(0,t.useState)(!1),C=(0,a.Z)(y,2),I=C[0],E=C[1],P=(0,t.useState)(!0),T=(0,a.Z)(P,2),R=T[0],k=T[1],L=(0,t.useState)([]),F=(0,a.Z)(L,2),U=F[0],B=F[1],q=(0,t.useState)(!1),G=(0,a.Z)(q,2),H=G[0],W=G[1],J=(0,t.useState)(!1),$=(0,a.Z)(J,2),Y=$[0],z=$[1],Q=(0,m.Ke)({data:{aid:l,page:g,limit:10},skip:!l}),X=Q.getAllExcelByAdmissionAdmin,K=Q.getAllExcelByAdmissionAdminRefetch,ee=(0,ne.u)().scrollToTop;(0,t.useEffect)((function(){ee()}),[]),(0,t.useEffect)((function(){l&&(k(!0),K())}),[l,g,K]),(0,t.useEffect)((function(){p&&N&&Z((function(e){return e+1}))}),[p,N]),(0,t.useEffect)((function(){var e,n;I?(B(null===X||void 0===X?void 0:X.all_excel),E(!1),k(!1)):null!==X&&void 0!==X&&X.all_excel?(B((function(e){var n,i;return null===(n=(0,D.Z)(new Set(null===(i=[].concat((0,D.Z)(e),(0,D.Z)(null===X||void 0===X?void 0:X.all_excel)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),k(!1)):0===(null===X||void 0===X||null===(n=X.all_excel)||void 0===n?void 0:n.length)&&k(!1);10===(null===X||void 0===X||null===(e=X.all_excel)||void 0===e?void 0:e.length)?A(!0):A(!1)}),[null===X||void 0===X?void 0:X.all_excel]);var ie=function(){W((function(e){return!e}))},le=function(){Z(1),K(),E(!0)};return(0,j.jsxs)("div",{className:te.Z.refund_container,children:[(0,j.jsxs)("section",{className:te.Z.refund_container_title,children:[(0,j.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){c(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,j.jsxs)("div",{className:te.Z.refund_container_title,style:{justifyContent:"space-between",width:"95%"},children:[(0,j.jsx)("h6",{children:d("data_export")}),(0,j.jsx)("img",{src:"/images/export-filter-icon.svg",alt:"",onClick:ie,className:te.Z.admission_filter_icon})]})]}),(0,j.jsx)(M.Z,{customStyle:{width:"100%"}}),(0,j.jsxs)("div",{className:te.Z.refund_list,children:[null===U||void 0===U?void 0:U.map((function(e,n){var i,t;return(null===U||void 0===U?void 0:U.length)===n+1?(0,j.jsxs)("a",{ref:v,className:te.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,j.jsx)("img",{src:"/images/export-xsxl-icon.svg",alt:""}),(0,j.jsxs)("section",{className:te.Z.export_card_text,children:[(0,j.jsx)("h6",{children:null!==(i=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==i?i:""}),(0,j.jsxs)("div",{className:te.Z.export_card_date,children:[(0,j.jsx)("h6",{children:V()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,j.jsx)("h6",{children:V()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]}),(0,j.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(n){n.preventDefault(),z(e)},className:te.Z.menu_icon,title:"Menu"})]},null===e||void 0===e?void 0:e._id):(0,j.jsxs)("a",{className:te.Z.export_card,title:"Download File",href:"https://d3dqpu54js2vfl.cloudfront.net/".concat(null===e||void 0===e?void 0:e.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,j.jsx)("img",{src:"/images/export-xsxl-icon.svg",alt:""}),(0,j.jsxs)("section",{className:te.Z.export_card_text,children:[(0,j.jsx)("h6",{children:null!==(t=null===e||void 0===e?void 0:e.excel_file_name)&&void 0!==t?t:""}),(0,j.jsxs)("div",{className:te.Z.export_card_date,children:[(0,j.jsx)("h6",{children:V()(null===e||void 0===e?void 0:e.created_at).format("DD MMM yyy")}),(0,j.jsx)("h6",{children:V()(null===e||void 0===e?void 0:e.created_at).format("LT")})]})]}),(0,j.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:function(n){n.preventDefault(),z(e)},className:te.Z.menu_icon,title:"Menu"})]},null===e||void 0===e?void 0:e._id)})),R&&(0,j.jsx)(O.Z,{}),H&&(0,j.jsx)(ce,{admissionId:l,instituteId:null===o||void 0===o||null===(n=o.institute)||void 0===n?void 0:n._id,financeId:null===o||void 0===o||null===(i=o.institute)||void 0===i?void 0:i.financeDepart[0],carryParentState:s,onClose:ie,viewAs:"EXPORT",onRefetch:le}),Y&&(0,j.jsx)(ue,{xlsxId:Y,onClose:function(){return z("")},onRefetch:le,admissionId:l})]})]})},me=i(15961),pe=["enquiry","student"],_e=["receipt&n=request","receipt&n=accept","receipt&n=reject","student"],fe=["ongoing","ongoing&n=application","ongoing&n=select","ongoing&n=confirm","ongoing&n=allot","ongoing&n=cancel","ongoing&n=mulitple","student"],he=["scholarship","scholarship&n","student"],ge=["refund","student"],xe=["pending","student"],je=["ongoing","ongoing&n=application","student"],Ze=["ongoing","ongoing&n=select","student"],Se=["ongoing","ongoing&n=confirm","ongoing&n=mulitple","student"],be=["ongoing","ongoing&n=allot","student"],Ne=["ongoing","ongoing&n=cancel","student"],Ae=["export","student"],ye=function(e){var n=e.carryParentState,i=e.activeTab,t=e.accessRole,l=e.accessTpye,o=e.callApi,a=e.children,s=(0,x.UO)();return(0,j.jsx)(j.Fragment,{children:"INQUIRY_ACCESS"===t?null!==pe&&void 0!==pe&&pe.includes(i)?(0,j.jsx)(b.rU,{to:"/q/".concat(s.username,"/member/admission?a=").concat(i),state:(0,y.Z)({},n),children:a}):(0,j.jsx)("div",{style:{opacity:"0.5"},children:a}):"ALL_FEE_ACCESS"===t?null!==_e&&void 0!==_e&&_e.includes(i)?(0,j.jsx)(b.rU,{to:"/q/".concat(s.username,"/member/admission?a=").concat(i),state:(0,y.Z)({},n),children:a}):(0,j.jsx)("div",{style:{opacity:"0.5"},children:a}):"MULTI_APP_ACCESS"===t?null!==fe&&void 0!==fe&&fe.includes(i)?(0,j.jsx)(b.rU,{to:"/q/".concat(s.username,"/member/admission?a=").concat(i),state:(0,y.Z)({},n),children:a}):(0,j.jsx)("div",{style:{opacity:"0.5"},children:a}):"SCHOLARSHIP_ACCESS"===t?null!==he&&void 0!==he&&he.includes(null===i||void 0===i?void 0:i.substring(0,11))?(0,j.jsx)(b.rU,{to:"/q/".concat(s.username,"/member/admission?a=").concat(i),state:(0,y.Z)({},n),children:a}):(0,j.jsx)("div",{style:{opacity:"0.5"},children:a}):"REFUND_ACCESS"===t?null!==ge&&void 0!==ge&&ge.includes(i)?(0,j.jsx)(b.rU,{to:"/q/".concat(s.username,"/member/admission?a=").concat(i),state:(0,y.Z)({},n),children:a}):(0,j.jsx)("div",{style:{opacity:"0.5"},children:a}):"PENDING_FEE_ACCESS"===t?null!==xe&&void 0!==xe&&xe.includes(i)?(0,j.jsx)(b.rU,{to:"/q/".concat(s.username,"/member/admission?a=").concat(i),state:(0,y.Z)({},n),children:a}):(0,j.jsx)("div",{style:{opacity:"0.5"},children:a}):"ONE_TAB_ACCESS"===t?"Application"===l?null!==je&&void 0!==je&&je.includes(i)?(0,j.jsx)(b.rU,{to:"/q/".concat(s.username,"/member/admission?a=").concat(i),state:(0,y.Z)({},n),children:a}):(0,j.jsx)("div",{style:{opacity:"0.5"},children:a}):"Selected"===l?null!==Ze&&void 0!==Ze&&Ze.includes(i)?(0,j.jsx)(b.rU,{to:"/q/".concat(s.username,"/member/admission?a=").concat(i),state:(0,y.Z)({},n),children:a}):(0,j.jsx)("div",{style:{opacity:"0.5"},children:a}):"Confirmed"===l?null!==Se&&void 0!==Se&&Se.includes(i)?(0,j.jsx)(b.rU,{to:"/q/".concat(s.username,"/member/admission?a=").concat(i),state:(0,y.Z)({},n),children:a}):(0,j.jsx)("div",{style:{opacity:"0.5"},children:a}):"Allotted"===l?null!==be&&void 0!==be&&be.includes(i)?(0,j.jsx)(b.rU,{to:"/q/".concat(s.username,"/member/admission?a=").concat(i),state:(0,y.Z)({},n),children:a}):(0,j.jsx)("div",{style:{opacity:"0.5"},children:a}):null!==Ne&&void 0!==Ne&&Ne.includes(i)?(0,j.jsx)(b.rU,{to:"/q/".concat(s.username,"/member/admission?a=").concat(i),state:(0,y.Z)({},n),children:a}):(0,j.jsx)("div",{style:{opacity:"0.5"},children:a}):"DATA_EXPORT_ACCESS"===t?null!==Ae&&void 0!==Ae&&Ae.includes(i)?(0,j.jsx)(b.rU,{to:"/q/".concat(s.username,"/member/admission?a=").concat(i),state:(0,y.Z)({},n),children:a}):(0,j.jsx)("div",{style:{opacity:"0.5"},children:a}):o?(0,j.jsx)(b.rU,{to:"/q/".concat(s.username,"/member/admission?a=").concat(i),state:(0,y.Z)({},n),children:a}):(0,j.jsx)("div",{style:{opacity:"0.5"},children:a})})},Ce=function(e){var n,i,t,l,o,a,s,d,c,r,u,v,m,p,_,f,h,g,x,Z,S=e.data,b=e.carryParentState,N=e.accessRole,A=e.accessApplication,I=e.setOpenApplicationMenu,E=e.accessTpye,P=e.callApi,T=e.pageOpenAs,R=function(e){e.preventDefault(),I(S)};return(0,j.jsx)(j.Fragment,{children:"INSTITUTE"===T?(0,j.jsx)(C,{carryParentState:(0,y.Z)((0,y.Z)({},b),{},{applicationId:null===S||void 0===S?void 0:S._id}),activeTab:"?a=ongoing&n=application",children:(0,j.jsxs)("div",{className:me.Z.ongoing_card,children:[(0,j.jsxs)("div",{className:me.Z.ongoing_card_inner,children:[(0,j.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,j.jsxs)("div",{className:me.Z.ongoing_card_text,children:[(0,j.jsx)("h6",{children:null===S||void 0===S?void 0:S.applicationName}),(0,j.jsx)("p",{children:null===S||void 0===S||null===(n=S.applicationDepartment)||void 0===n?void 0:n.dName})]})]}),(0,j.jsx)("div",{className:me.Z.ongoing_card_count_date,children:(0,j.jsxs)("div",{className:me.Z.ongoing_card_count_container,children:[(0,j.jsx)("h6",{children:null!==(i=null===S||void 0===S?void 0:S.receievedCount)&&void 0!==i?i:0}),(0,j.jsx)("h6",{children:null!==(t=null===S||void 0===S?void 0:S.selectCount)&&void 0!==t?t:0}),(0,j.jsx)("h6",{children:null!==(l=null===S||void 0===S?void 0:S.confirmCount)&&void 0!==l?l:0})]})}),(0,j.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:R,className:me.Z.menu_icon,title:"Menu"})]})}):N?E?(0,j.jsx)(ye,{carryParentState:(0,y.Z)((0,y.Z)({},b),{},{applicationId:null===S||void 0===S?void 0:S._id}),activeTab:"ongoing&n=".concat("Application"===E?"application":"Selected"===E?"select":"Confirmed"===E?"confirm":"Allotted"===E?"allot":"cancel"),accessRole:N,accessTpye:E,callApi:P,children:(0,j.jsxs)("div",{className:me.Z.ongoing_card,children:[(0,j.jsxs)("div",{className:me.Z.ongoing_card_inner,children:[(0,j.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,j.jsxs)("div",{className:me.Z.ongoing_card_text,children:[(0,j.jsx)("h6",{children:null===S||void 0===S?void 0:S.applicationName}),(0,j.jsx)("p",{children:null===S||void 0===S||null===(o=S.applicationDepartment)||void 0===o?void 0:o.dName})]})]}),(0,j.jsx)("div",{className:me.Z.ongoing_card_count_date,children:(0,j.jsxs)("div",{className:me.Z.ongoing_card_count_container,children:[(0,j.jsx)("h6",{children:null!==(a=null===S||void 0===S?void 0:S.receievedCount)&&void 0!==a?a:0}),(0,j.jsx)("h6",{children:null!==(s=null===S||void 0===S?void 0:S.selectCount)&&void 0!==s?s:0}),(0,j.jsx)("h6",{children:null!==(d=null===S||void 0===S?void 0:S.confirmCount)&&void 0!==d?d:0})]})})]})}):null!==A&&void 0!==A&&A.includes(null===S||void 0===S?void 0:S._id)?(0,j.jsx)(ye,{carryParentState:(0,y.Z)((0,y.Z)({},b),{},{applicationId:null===S||void 0===S?void 0:S._id}),activeTab:"ongoing&n=application",accessRole:N,callApi:P,children:(0,j.jsxs)("div",{className:me.Z.ongoing_card,children:[(0,j.jsxs)("div",{className:me.Z.ongoing_card_inner,children:[(0,j.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,j.jsxs)("div",{className:me.Z.ongoing_card_text,children:[(0,j.jsx)("h6",{children:null===S||void 0===S?void 0:S.applicationName}),(0,j.jsx)("p",{children:null===S||void 0===S||null===(c=S.applicationDepartment)||void 0===c?void 0:c.dName})]})]}),(0,j.jsx)("div",{className:me.Z.ongoing_card_count_date,children:(0,j.jsxs)("div",{className:me.Z.ongoing_card_count_container,children:[(0,j.jsx)("h6",{children:null!==(r=null===S||void 0===S?void 0:S.receievedCount)&&void 0!==r?r:0}),(0,j.jsx)("h6",{children:null!==(u=null===S||void 0===S?void 0:S.selectCount)&&void 0!==u?u:0}),(0,j.jsx)("h6",{children:null!==(v=null===S||void 0===S?void 0:S.confirmCount)&&void 0!==v?v:0})]})})]})}):(0,j.jsxs)("div",{className:me.Z.ongoing_card,style:{opacity:"0.5"},children:[(0,j.jsxs)("div",{className:me.Z.ongoing_card_inner,children:[(0,j.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,j.jsxs)("div",{className:me.Z.ongoing_card_text,children:[(0,j.jsx)("h6",{children:null===S||void 0===S?void 0:S.applicationName}),(0,j.jsx)("p",{children:null===S||void 0===S||null===(m=S.applicationDepartment)||void 0===m?void 0:m.dName})]})]}),(0,j.jsx)("div",{className:me.Z.ongoing_card_count_date,children:(0,j.jsxs)("div",{className:me.Z.ongoing_card_count_container,children:[(0,j.jsx)("h6",{children:null!==(p=null===S||void 0===S?void 0:S.receievedCount)&&void 0!==p?p:0}),(0,j.jsx)("h6",{children:null!==(_=null===S||void 0===S?void 0:S.selectCount)&&void 0!==_?_:0}),(0,j.jsx)("h6",{children:null!==(f=null===S||void 0===S?void 0:S.confirmCount)&&void 0!==f?f:0})]})})]}):(0,j.jsx)(ye,{carryParentState:(0,y.Z)((0,y.Z)({},b),{},{applicationId:null===S||void 0===S?void 0:S._id}),activeTab:"ongoing&n=application",accessRole:N,accessTpye:E,callApi:P,children:(0,j.jsxs)("div",{className:me.Z.ongoing_card,children:[(0,j.jsxs)("div",{className:me.Z.ongoing_card_inner,children:[(0,j.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,j.jsxs)("div",{className:me.Z.ongoing_card_text,children:[(0,j.jsx)("h6",{children:null===S||void 0===S?void 0:S.applicationName}),(0,j.jsx)("p",{children:null===S||void 0===S||null===(h=S.applicationDepartment)||void 0===h?void 0:h.dName})]})]}),(0,j.jsx)("div",{className:me.Z.ongoing_card_count_date,children:(0,j.jsxs)("div",{className:me.Z.ongoing_card_count_container,children:[(0,j.jsx)("h6",{children:null!==(g=null===S||void 0===S?void 0:S.receievedCount)&&void 0!==g?g:0}),(0,j.jsx)("h6",{children:null!==(x=null===S||void 0===S?void 0:S.selectCount)&&void 0!==x?x:0}),(0,j.jsx)("h6",{children:null!==(Z=null===S||void 0===S?void 0:S.confirmCount)&&void 0!==Z?Z:0})]})}),(0,j.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:R,className:me.Z.menu_icon,title:"Menu"})]})})})},Ie=i(61503),Ee=i(95290),Pe=function(e){var n,i=e.carryParentState,l=e.accessRole,o=e.accessApplication,s=e.accessTpye,d=e.callApi,c=e.admissionId,r=e.pageOpenAs,v=(0,_.$G)().t,p=(0,u.v9)((function(e){return e.admissionChange})),f=(0,t.useState)(!0),h=(0,a.Z)(f,2),g=h[0],x=h[1],Z=(0,t.useState)(1),S=(0,a.Z)(Z,2),b=S[0],N=S[1],A=(0,w.YD)(),y=(0,a.Z)(A,2),C=y[0],I=y[1],E=(0,t.useState)([]),P=(0,a.Z)(E,2),T=P[0],R=P[1],k=(0,t.useState)(!0),M=(0,a.Z)(k,2),L=M[0],F=M[1],U=(0,t.useState)(""),B=(0,a.Z)(U,2),q=B[0],G=B[1],H=(0,t.useState)(!1),V=(0,a.Z)(H,2),W=V[0],J=V[1],$=(0,t.useState)(!1),Y=(0,a.Z)($,2),z=Y[0],Q=Y[1],X=(0,m.JG)({data:{aid:c||(null===p||void 0===p?void 0:p.aid),page:b,limit:10},skip:c?!c:!(null!==p&&void 0!==p&&p.aid)}),K=X.allOngoingApp,ee=X.allOngoingAppRefetch,ie=(0,ne.u)().scrollToTop;(0,t.useEffect)((function(){ie()}),[]),(0,t.useEffect)((function(){I&&g&&N((function(e){return e+1}))}),[I,g]),(0,t.useEffect)((function(){(null!==p&&void 0!==p&&p.aid||c)&&(F(!0),ee())}),[null===p||void 0===p?void 0:p.aid,c,b,ee]),(0,t.useEffect)((function(){var e,n;W?(R(null===K||void 0===K?void 0:K.ongoing),F(!1),J(!1)):null!==K&&void 0!==K&&K.ongoing?(R((function(e){var n,i;return null===(n=(0,D.Z)(new Set(null===(i=[].concat((0,D.Z)(e),(0,D.Z)(null===K||void 0===K?void 0:K.ongoing)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),F(!1)):0===(null===K||void 0===K||null===(n=K.ongoing)||void 0===n?void 0:n.length)&&F(!1);10===(null===K||void 0===K||null===(e=K.ongoing)||void 0===e?void 0:e.length)?x(!0):x(!1)}),[null===K||void 0===K?void 0:K.ongoing]);var te=function(){N(1),J(!0),F(!0),ee()};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("p",{className:me.Z.add_new_category,onClick:function(){l||Q((function(e){return!e}))},style:{opacity:l?"0.5":1},children:v("create_new_application")}),(0,j.jsxs)("div",{className:me.Z.remainingFees,children:[null===T||void 0===T?void 0:T.map((function(e,n){return(null===T||void 0===T?void 0:T.length)===n+1?(0,j.jsx)("div",{ref:C,children:(0,j.jsx)(Ce,{data:e,carryParentState:i,accessRole:l,accessTpye:s,callApi:d,accessApplication:o,setOpenApplicationMenu:G,pageOpenAs:r})},n):(0,j.jsx)(Ce,{data:e,carryParentState:i,accessRole:l,accessTpye:s,callApi:d,accessApplication:o,setOpenApplicationMenu:G,pageOpenAs:r},n)})),L&&(0,j.jsx)(O.Z,{status:"white"})]}),q&&(0,j.jsx)(Ie.Z,{openApplicationMenu:q,onClose:function(){return G("")},onRefetch:te,insAdmissionId:c}),z&&(0,j.jsx)(Ee.Z,{setCreateApplication:Q,createApplication:z,admissionId:null!==(n=null===p||void 0===p?void 0:p.aid)&&void 0!==n?n:c,setRefetchOngoining:te})]})},Te=i(763),Re=i(20132),ke=i(87338),De=i(51561),we=function(e){var n,i,t,l,o,a,s,d,c,r,u,v,m,_,f,h,g,x,Z,S,b,N,A,y,C=e.applicant,I=e.onSelectApplicant,E=e.transferApplicat;return(0,j.jsxs)("div",{className:null!==E&&void 0!==E&&E.includes(null===C||void 0===C?void 0:C._id)?"".concat(me.Z.applicant_card_container," ").concat(me.Z.applicant_card_container_active):"".concat(me.Z.applicant_card_container," ").concat(me.Z.applicant_card_container_hover),onClick:function(){I(C)},children:[(0,j.jsxs)("div",{className:me.Z.applicant_card_inner,children:[(0,j.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===C||void 0===C||null===(n=C.student)||void 0===n?void 0:n.photoId)?"".concat(p.yI,"/").concat(null===C||void 0===C||null===(i=C.student)||void 0===i?void 0:i.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,j.jsx)("div",{className:me.Z.applicant_card_inner_info,children:(0,j.jsx)("h6",{children:"".concat(null===C||void 0===C||null===(t=C.student)||void 0===t?void 0:t.studentFirstName," ").concat(null!==C&&void 0!==C&&null!==(l=C.student)&&void 0!==l&&l.studentMiddleName?null===C||void 0===C||null===(o=C.student)||void 0===o?void 0:o.studentMiddleName:""," ").concat(null===C||void 0===C||null===(a=C.student)||void 0===a?void 0:a.studentLastName)})})]}),(0,j.jsxs)("div",{className:me.Z.applicant_card_contact,children:[(0,j.jsxs)("div",{className:me.Z.applicant_card_contact_inner,children:[(0,j.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,j.jsx)("p",{children:null===C||void 0===C||null===(s=C.student)||void 0===s?void 0:s.studentGender})]}),((null===C||void 0===C||null===(d=C.student)||void 0===d?void 0:d.studentPhoneNumber)||(null===C||void 0===C||null===(c=C.student)||void 0===c||null===(r=c.user)||void 0===r?void 0:r.userPhoneNumber)||(null===C||void 0===C||null===(u=C.student)||void 0===u||null===(v=u.user)||void 0===v?void 0:v.userEmail)||(null===C||void 0===C||null===(m=C.student)||void 0===m?void 0:m.studentParentsPhoneNumber))&&(0,j.jsxs)("div",{className:me.Z.applicant_card_contact_inner,children:[(0,j.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,j.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==C&&void 0!==C&&null!==(_=C.student)&&void 0!==_&&null!==(f=_.user)&&void 0!==f&&f.userPhoneNumber?null===C||void 0===C||null===(h=C.student)||void 0===h||null===(g=h.user)||void 0===g?void 0:g.userPhoneNumber:null!==C&&void 0!==C&&null!==(x=C.student)&&void 0!==x&&null!==(Z=x.user)&&void 0!==Z&&Z.userEmail?null===C||void 0===C||null===(S=C.student)||void 0===S||null===(b=S.user)||void 0===b?void 0:b.userEmail:null!==C&&void 0!==C&&null!==(N=C.student)&&void 0!==N&&N.studentPhoneNumber?null===C||void 0===C||null===(A=C.student)||void 0===A?void 0:A.studentPhoneNumber:null===C||void 0===C||null===(y=C.student)||void 0===y?void 0:y.studentParentsPhoneNumber})]})]})]})},Oe=function(e){var n=e.onBack,i=e.onSelectApp,l=e.transferApplication,o=(0,u.v9)((function(e){return e.admissionChange})),s=(0,_.$G)().t,d=(0,t.useState)(!0),c=(0,a.Z)(d,2),r=c[0],v=c[1],p=(0,t.useState)(1),f=(0,a.Z)(p,2),h=f[0],g=f[1],x=(0,w.YD)(),Z=(0,a.Z)(x,2),S=Z[0],b=Z[1],N=(0,t.useState)([]),A=(0,a.Z)(N,2),y=A[0],C=A[1],I=(0,t.useState)(!0),E=(0,a.Z)(I,2),P=E[0],T=E[1],R=(0,m.JG)({data:{aid:null===o||void 0===o?void 0:o.aid,page:h,limit:10},skip:!(null!==o&&void 0!==o&&o.aid)}),k=R.allOngoingApp,L=R.allOngoingAppRefetch;(0,t.useEffect)((function(){b&&r&&g((function(e){return e+1}))}),[b,r]),(0,t.useEffect)((function(){null!==o&&void 0!==o&&o.aid&&(T(!0),L())}),[null===o||void 0===o?void 0:o.aid,h,L]),(0,t.useEffect)((function(){null!==o&&void 0!==o&&o.aid&&(T(!0),L())}),[null===o||void 0===o?void 0:o.aid,L]),(0,t.useEffect)((function(){var e;null!==k&&void 0!==k&&k.ongoing&&(C((function(e){var n,i;return null===(n=(0,D.Z)(new Set(null===(i=[].concat((0,D.Z)(e),(0,D.Z)(null===k||void 0===k?void 0:k.ongoing)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),T(!1)),10===(null===k||void 0===k||null===(e=k.ongoing)||void 0===e?void 0:e.length)?v(!0):v(!1)}),[null===k||void 0===k?void 0:k.ongoing]);var F=function(e){i(e)};return(0,j.jsx)(q.Z,{onClose:n,children:(0,j.jsxs)("div",{className:G.Z.assign_role_container,children:[(0,j.jsxs)("section",{className:G.Z.assign_role_title,style:{position:"relative"},children:[(0,j.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:n,alt:"back icon",style:{cursor:"pointer"}}),(0,j.jsx)("h6",{children:s("select_application")})]}),(0,j.jsx)(M.Z,{customStyle:{width:"100%"}}),null===y||void 0===y?void 0:y.map((function(e,n){var i,t,o,a,s,d;return(null===y||void 0===y?void 0:y.length)===n+1?(0,j.jsxs)("div",{className:(null===l||void 0===l?void 0:l._id)===(null===e||void 0===e?void 0:e._id)?"".concat(G.Z.application_card," ").concat(G.Z.application_card_active):G.Z.application_card,ref:S,onClick:function(){return F(e)},children:[(0,j.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,j.jsxs)("section",{className:G.Z.application_card_text,children:[(0,j.jsx)("h6",{children:null!==(i=null===e||void 0===e?void 0:e.applicationName)&&void 0!==i?i:""}),(0,j.jsx)("div",{className:G.Z.application_card_text_bottom,children:(0,j.jsx)("p",{children:null!==(t=null===e||void 0===e||null===(o=e.applicationDepartment)||void 0===o?void 0:o.dName)&&void 0!==t?t:""})})]})]},null===e||void 0===e?void 0:e._id):(0,j.jsxs)("div",{className:(null===l||void 0===l?void 0:l._id)===(null===e||void 0===e?void 0:e._id)?"".concat(G.Z.application_card," ").concat(G.Z.application_card_active):G.Z.application_card,onClick:function(){return F(e)},children:[(0,j.jsx)("img",{src:"/images/admision-application-icon.svg",alt:"application icon"}),(0,j.jsxs)("section",{className:G.Z.application_card_text,children:[(0,j.jsx)("h6",{children:null!==(a=null===e||void 0===e?void 0:e.applicationName)&&void 0!==a?a:""}),(0,j.jsx)("div",{className:G.Z.application_card_text_bottom,children:(0,j.jsx)("p",{children:null!==(s=null===e||void 0===e||null===(d=e.applicationDepartment)||void 0===d?void 0:d.dName)&&void 0!==s?s:""})})]})]},null===e||void 0===e?void 0:e._id)})),P&&(0,j.jsx)(O.Z,{status:"white"})]})})},Me=function(e){var n,i,l=e.onClose,o=e.applicationId,s=e.onRefetchConfirmTab,d=(0,_.$G)().t,c=(0,t.useState)(0),r=(0,a.Z)(c,2),u=r[0],v=r[1],p=(0,t.useState)(!0),f=(0,a.Z)(p,2),h=f[0],g=f[1],x=(0,t.useState)(1),Z=(0,a.Z)(x,2),S=Z[0],b=Z[1],N=(0,t.useState)(""),A=(0,a.Z)(N,2),y=A[0],C=A[1],I=(0,w.YD)(),E=(0,a.Z)(I,2),P=E[0],T=E[1],R=(0,t.useState)([]),k=(0,a.Z)(R,2),L=k[0],F=k[1],U=(0,t.useState)(!1),G=(0,a.Z)(U,2),H=G[0],V=G[1],W=(0,t.useState)(!0),J=(0,a.Z)(W,2),$=J[0],Y=J[1],z=(0,t.useState)(""),Q=(0,a.Z)(z,2),X=Q[0],K=Q[1],ee=(0,t.useState)([]),ne=(0,a.Z)(ee,2),ie=ne[0],te=ne[1],le=(0,t.useState)([]),oe=(0,a.Z)(le,2),ae=oe[0],se=oe[1],de=(0,t.useState)(!1),ce=(0,a.Z)(de,2),re=ce[0],ue=ce[1],ve=(0,m.hE)(),pe=(0,a.Z)(ve,1)[0],_e=(0,m.RR)({data:{id:o,page:S,limit:10,search:y||""},skip:!o}),fe=_e.getAllConfirmList,he=_e.getAllConfirmListRefetch;(0,t.useEffect)((function(){T&&h&&b((function(e){return e+1}))}),[T,h]),(0,t.useEffect)((function(){o&&(Y(!0),he())}),[S,o,he,y]),(0,t.useEffect)((function(){var e,n;y?(F(null===fe||void 0===fe?void 0:fe.confirm),Y(!1)):H?(F(null===fe||void 0===fe?void 0:fe.confirm),V(!1),Y(!1)):null!==fe&&void 0!==fe&&fe.confirm?(F((function(e){var n,i;return null===(n=(0,D.Z)(new Set(null===(i=[].concat((0,D.Z)(e),(0,D.Z)(null===fe||void 0===fe?void 0:fe.confirm)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),Y(!1)):0===(null===fe||void 0===fe||null===(n=fe.confirm)||void 0===n?void 0:n.length)&&Y(!1);10===(null===fe||void 0===fe||null===(e=fe.confirm)||void 0===e?void 0:e.length)?g(!0):g(!1)}),[null===fe||void 0===fe?void 0:fe.confirm]);var ge=(0,t.useCallback)((0,Te.debounce)((function(e){return C(e)}),500),[]),xe=function(){re||(0===u?l():v(1===u?0:1))},je=function(e){if(null!==ie&&void 0!==ie&&ie.includes(null===e||void 0===e?void 0:e._id))te((function(n){return null===n||void 0===n?void 0:n.filter((function(n){return n!==(null===e||void 0===e?void 0:e._id)}))})),se((function(n){return null===n||void 0===n?void 0:n.filter((function(n){var i;return(null===n||void 0===n?void 0:n.studentId)!==(null===e||void 0===e||null===(i=e.student)||void 0===i?void 0:i._id)}))}));else{var n,i={studentId:null===e||void 0===e||null===(n=e.student)||void 0===n?void 0:n._id,mode:null===e||void 0===e?void 0:e.payment_status,type:null===e||void 0===e?void 0:e.install_type,price:null===e||void 0===e?void 0:e.fee_remain};se((function(e){return null!==e&&void 0!==e&&e.length?[].concat((0,D.Z)(e),[i]):[i]})),te((function(n){return null!==n&&void 0!==n&&n.length?[].concat((0,D.Z)(n),[null===e||void 0===e?void 0:e._id]):[null===e||void 0===e?void 0:e._id]}))}};return(0,j.jsx)(j.Fragment,{children:0===u||2===u?(0,j.jsx)(q.Z,{onClose:xe,children:(0,j.jsxs)("div",{className:me.Z.admission_modal,children:[0===u?(0,j.jsxs)("div",{className:me.Z.transfer_container,children:[(0,j.jsx)("h6",{className:me.Z.admission_modal_heading,children:d("select_confirm_student")}),(0,j.jsxs)("button",{className:me.Z.transfer_select_btn,onClick:function(){v(1)},children:[null!==(n=null===ie||void 0===ie?void 0:ie.length)&&void 0!==n?n:""," "," ",d("select")]})]}):(0,j.jsx)("h6",{className:me.Z.admission_modal_heading,children:d("transfer_select_student")}),(0,j.jsx)(M.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),0===u?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:me.Z.with_search,style:{marginBottom:"0.7rem"},children:(0,j.jsx)("div",{className:me.Z.search_container_filter,style:{width:"100%"},children:(0,j.jsx)("section",{className:me.Z.search_container,style:{width:"100%"},children:(0,j.jsxs)("div",{className:me.Z.search_container_input,style:{width:"100%"},children:[(0,j.jsx)("img",{className:me.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,j.jsx)("input",{type:"text",placeholder:"Search classes...",onChange:function(e){ge(e.target.value)},style:{width:"100%"}})]})})})}),null===L||void 0===L?void 0:L.map((function(e,n){return(null===L||void 0===L?void 0:L.length)===n+1?(0,j.jsx)("div",{ref:P,children:(0,j.jsx)(we,{applicant:e,onSelectApplicant:je,transferApplicat:ie})},n):(0,j.jsx)(we,{applicant:e,onSelectApplicant:je,transferApplicat:ie},n)})),$&&(0,j.jsx)(O.Z,{status:"white"})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:me.Z.admission_class_confirm,children:[d("transfering")," ",(0,j.jsx)("span",{style:{fontWeight:"600"},children:null===ie||void 0===ie?void 0:ie.length})," ",d("students")," "," ",",",d("to")," ",(0,j.jsx)("span",{style:{fontWeight:"600"},children:null!==(i=null===X||void 0===X?void 0:X.applicationName)&&void 0!==i?i:""})]}),(0,j.jsx)("div",{className:me.Z.confirm_btn,onClick:function(){null!==X&&void 0!==X&&X._id&&o&&null!==ie&&void 0!==ie&&ie.length&&(ue((function(e){return!e})),pe({aid:null===X||void 0===X?void 0:X._id,transferApplicantData:{app_array:ie,oaid:o,student_array:ae}}).then((function(){s(),ue((function(e){return!e})),l()})).catch({}))},children:d("confirm")})]}),re&&(0,j.jsx)(B.Z,{})]})}):(0,j.jsx)(Oe,{onBack:xe,onSelectApp:function(e){K(e),v(2)},transferApplication:X})})},Le=["Request_Query","Confirm_Query","Allot_Query"],Fe=function(e){var n,i,l,o,s,d,c,r=e.applicationDetail,u=e.carryParentState,v=e.instituteId,m=e.tabStatusFlow,p=e.applicationDetailApplicablePending,_=e.onRefetchConfirmTab,f=e.pageOpenAs,h=e.children,g=(0,x.s0)(),Z=(0,x.UO)(),S=(0,t.useState)({msg:"",run:!1}),N=(0,a.Z)(S,2),A=N[0],C=N[1],I=(0,t.useState)(!1),E=(0,a.Z)(I,2),P=E[0],T=E[1],R=(0,t.useState)(!1),k=(0,a.Z)(R,2),D=k[0],w=k[1],O=(0,t.useState)(!1),L=(0,a.Z)(O,2),F=L[0],U=L[1],q=(0,ke.Y$)(),G=(0,a.Z)(q,1)[0];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("section",{className:me.Z.moderator_container_title,children:[(0,j.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){g("/q/".concat(Z.username,"INSTITUTE"===f?"/admission?a=ongoing":"/member/admission?a=ongoing"),{state:(0,y.Z)({},u)})},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,j.jsxs)("div",{className:me.Z.with_search,children:[(0,j.jsx)("h6",{children:null!==(n=null===r||void 0===r?void 0:r.applicationName)&&void 0!==n?n:""}),(0,j.jsxs)("div",{className:me.Z.search_container_filter,children:[(0,j.jsx)("section",{className:me.Z.search_container,children:(0,j.jsxs)("div",{className:me.Z.search_container_input,children:[(0,j.jsx)("img",{className:me.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),h]})}),(0,j.jsx)(b.rU,{to:"/q/joining",state:{formAs:"STUDENT",openAs:"ADMISSION_ADMIN_SIDE",instituteId:v,appId:null===r||void 0===r?void 0:r._id,admissionAmount:[null!==(i=null===r||void 0===r?void 0:r.admissionFee)&&void 0!==i?i:0,null!==(l=null===r||void 0===r||null===(o=r.one_installments)||void 0===o?void 0:o.fees)&&void 0!==l?l:0],applicationMaster:null===r||void 0===r?void 0:r.applicationMaster,applicationDepartment:null===r||void 0===r||null===(s=r.applicationDepartment)||void 0===s?void 0:s._id,batchId:null===r||void 0===r||null===(d=r.applicationBatch)||void 0===d?void 0:d._id,departmentId:null===r||void 0===r||null===(c=r.applicationDepartment)||void 0===c?void 0:c._id,whichFormShow:"DEPARTMENT"},children:(0,j.jsx)("img",{style:{height:"2.2rem",cursor:"pointer"},src:"/images/add-icon.svg",alt:"icon",title:"Add student"})}),(0,j.jsx)("img",{style:{height:"2.2rem",cursor:"pointer"},onClick:function(){return w(!0)},src:"/images/application_info.svg",alt:"icon",title:"View Application Details"}),Le.includes(m)?(0,j.jsx)("img",{style:{height:"2.2rem",cursor:"pointer"},onClick:function(){null!==r&&void 0!==r&&r._id&&m&&(T((function(e){return!e})),G({appId:null===r||void 0===r?void 0:r._id,flow:m}).then((function(e){var n;C({msg:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message,run:!0}),setTimeout((function(){g("/q/".concat(Z.username,"INSTITUTE"===f?"/admission?a=export":"/member/admission?a=export"),{state:u})}),1e3)})).catch({}))},src:"/images/member_tab/finance/finance-export-icon.svg",alt:""}):null,"Confirm_Query"===m?(0,j.jsx)("img",{style:{height:"2.2rem",cursor:"pointer"},onClick:function(){return U(!0)},src:"/images/member_tab/admission/admission-transfer-icon.svg",alt:""}):null]})]})]}),(0,j.jsx)(M.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),D&&(0,j.jsx)(Re.Z,{completeApplication:!0,viewDetail:D,applicationDetail:r,hideModal:w,carryParentState:u,applicationDetailApplicablePending:p,pageOpenAs:f}),F&&(0,j.jsx)(Me,{instituteId:v,applicationId:null===r||void 0===r?void 0:r._id,onClose:function(){return U(!1)},onRefetchConfirmTab:_}),P&&(0,j.jsx)(B.Z,{}),(0,j.jsx)(De.Ch,{msg:A.msg,run:A.run,setRun:function(){return C({msg:"",run:!1})},postiton:"bottom",type:"success"})]})},Ue=i(47167),Be=function(e){var n,i,t,l,o,a=e.carryParentState,s=e.accessRole,d=e.accessTpye,c=e.pageOpenAs,r=(0,_.$G)().t,u=(0,x.TH)(),v=[{name:r("application"),id:0,url:"member/admission?a=ongoing&n=application",is_active:["MULTI_APP_ACCESS"].includes(s)||!s?"enabled":["ONE_TAB_ACCESS"].includes(s)?"Application"===d?"enabled":"disabled":"enabled"},{name:r("selected"),id:1,url:"member/admission?a=ongoing&n=select",is_active:["MULTI_APP_ACCESS"].includes(s)||!s?"enabled":["ONE_TAB_ACCESS"].includes(s)?"Selected"===d?"enabled":"disabled":"enabled"},{name:r("confirmed"),id:2,url:"member/admission?a=ongoing&n=confirm",is_active:["MULTI_APP_ACCESS"].includes(s)||!s?"enabled":["ONE_TAB_ACCESS"].includes(s)?"Confirmed"===d?"enabled":"disabled":"enabled"},{name:r("allotted"),id:3,url:"member/admission?a=ongoing&n=allot",is_active:["MULTI_APP_ACCESS"].includes(s)||!s?"enabled":["ONE_TAB_ACCESS"].includes(s)?"Allotted"===d?"enabled":"disabled":"enabled"},{name:r("cancelled"),id:4,url:"member/admission?a=ongoing&n=cancel",is_active:["MULTI_APP_ACCESS"].includes(s)||!s?"enabled":["ONE_TAB_ACCESS"].includes(s)?"Cancelled"===d?"enabled":"disabled":"enabled"}],m=[{name:r("application"),id:0,url:"admission?a=ongoing&n=application",is_active:"enabled"},{name:r("selected"),id:1,url:"admission?a=ongoing&n=select",is_active:"enabled"},{name:r("confirmed"),id:2,url:"admission?a=ongoing&n=confirm",is_active:"enabled"},{name:r("allotted"),id:3,url:"admission?a=ongoing&n=allot",is_active:"enabled"},{name:r("cancelled"),id:4,url:"admission?a=ongoing&n=cancel",is_active:"enabled"}];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Ue.Z,{tabList:"INSTITUTE"===c?m:v,activeIndexTab:"application"===(null===(n=u.search)||void 0===n?void 0:n.substring(13))?0:"select"===(null===(i=u.search)||void 0===i?void 0:i.substring(13))?1:"confirm"===(null===(t=u.search)||void 0===t?void 0:t.substring(13))||"mulitple"===(null===(l=u.search)||void 0===l?void 0:l.substring(13))?2:"allot"===(null===(o=u.search)||void 0===o?void 0:o.substring(13))?3:4,showAs:!0,customStyleTab:{width:"100%"},customStyleLink:{width:"20%"},carryParentState:a}),(0,j.jsx)(M.Z,{customStyle:{width:"100%"}})]})},qe=i(56112),Ge=t.lazy((function(){return i.e(433).then(i.bind(i,20433))})),He=function(e){var n,i,l,o,s,d,c,r,u,f,h,g,Z,S,b,N,A,y,C,I,E,P,T,R,k,D,w,O,M=e.applicant,L=e.onRefetchWhenSelect,F=e.applicationId,U=e.departmentId,q=e.classMasterId,G=e.batchId,H=e.instituteId,W=(0,_.$G)().t,J=(0,x.UO)(),$=(0,x.s0)(),Y=(0,t.useState)(!1),z=(0,a.Z)(Y,2),Q=z[0],X=z[1],K=(0,t.useState)(!1),ee=(0,a.Z)(K,2),ne=ee[0],ie=ee[1],te=(0,t.useState)(!1),le=(0,a.Z)(te,2),oe=le[0],ae=le[1],se=(0,m.iI)(),de=(0,a.Z)(se,1)[0];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:me.Z.applicant_card_container,onClick:function(){var e;$("/q/".concat(J.username,"/student/profile"),{state:{sid:null===M||void 0===M||null===(e=M.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:H}})},title:"View Profile",children:[(0,j.jsxs)("div",{className:me.Z.applicant_card_inner,children:[(0,j.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===M||void 0===M||null===(n=M.student)||void 0===n?void 0:n.photoId)?"".concat(p.yI,"/").concat(null===M||void 0===M||null===(i=M.student)||void 0===i?void 0:i.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,j.jsxs)("div",{className:me.Z.applicant_card_inner_info,children:[(0,j.jsx)("h6",{children:"".concat(null===M||void 0===M||null===(l=M.student)||void 0===l?void 0:l.studentFirstName," ").concat(null!==M&&void 0!==M&&null!==(o=M.student)&&void 0!==o&&o.studentMiddleName?null===M||void 0===M||null===(s=M.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null===M||void 0===M||null===(d=M.student)||void 0===d?void 0:d.studentLastName)}),(0,j.jsxs)("p",{children:[W("applied_on"),":"," ",V()(null===M||void 0===M?void 0:M.apply_on).format("DD MMM yyyy")]})]})]}),(0,j.jsxs)("div",{className:me.Z.applicant_card_contact,children:[(0,j.jsxs)("div",{className:me.Z.applicant_card_contact_inner,children:[(0,j.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,j.jsx)("p",{children:null===M||void 0===M||null===(c=M.student)||void 0===c?void 0:c.studentGender})]}),((null===M||void 0===M||null===(r=M.student)||void 0===r?void 0:r.studentPhoneNumber)||(null===M||void 0===M||null===(u=M.student)||void 0===u||null===(f=u.user)||void 0===f?void 0:f.userPhoneNumber)||(null===M||void 0===M||null===(h=M.student)||void 0===h||null===(g=h.user)||void 0===g?void 0:g.userEmail)||(null===M||void 0===M||null===(Z=M.student)||void 0===Z?void 0:Z.studentParentsPhoneNumber))&&(0,j.jsxs)("div",{className:me.Z.applicant_card_contact_inner,children:[(0,j.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,j.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==M&&void 0!==M&&null!==(S=M.student)&&void 0!==S&&null!==(b=S.user)&&void 0!==b&&b.userPhoneNumber?null===M||void 0===M||null===(N=M.student)||void 0===N||null===(A=N.user)||void 0===A?void 0:A.userPhoneNumber:null!==M&&void 0!==M&&null!==(y=M.student)&&void 0!==y&&null!==(C=y.user)&&void 0!==C&&C.userEmail?null===M||void 0===M||null===(I=M.student)||void 0===I||null===(E=I.user)||void 0===E?void 0:E.userEmail:null!==M&&void 0!==M&&null!==(P=M.student)&&void 0!==P&&P.studentPhoneNumber?null===M||void 0===M||null===(T=M.student)||void 0===T?void 0:T.studentPhoneNumber:null===M||void 0===M||null===(R=M.student)||void 0===R?void 0:R.studentParentsPhoneNumber})]})]}),(0,j.jsx)("div",{className:me.Z.applicant_card_reciept,onClick:function(e){e.stopPropagation()},children:(0,j.jsx)("a",{href:"".concat(p.r3,"/").concat(null===M||void 0===M||null===(k=M.student)||void 0===k||null===(D=k.application_print)||void 0===D||null===(w=D[0])||void 0===w?void 0:w.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,j.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,j.jsxs)("div",{className:me.Z.application_button,children:[(0,j.jsx)("div",{className:me.Z.selectAppBtnContainer,onClick:function(e){e.stopPropagation(),ie(!0)},children:(0,j.jsx)("div",{className:me.Z.selectBtn,children:W("select")})}),(0,j.jsx)("div",{className:me.Z.selectAppBtnContainer,onClick:function(e){e.stopPropagation(),X((function(e){return!e}))},children:(0,j.jsx)("div",{className:me.Z.cancelledBtn,children:W("reject")})})]})]}),(0,j.jsx)(v.Z,{children:Q&&(0,j.jsx)(Ge,{studentId:null===M||void 0===M||null===(O=M.student)||void 0===O?void 0:O._id,applicationId:F,onClose:function(){return X((function(e){return!e}))},onRefetchWhenSelect:L})}),ne&&(0,j.jsx)(qe.Z,{departmentId:U,classMasterId:q,batchId:G,onClose:function(){return ie((function(e){return!e}))},onSelectedStudent:function(e){var n,i;""!==(null===M||void 0===M||null===(n=M.student)||void 0===n?void 0:n._id)&&""!==F&&e&&(ae((function(e){return!e})),de({sid:null===M||void 0===M||null===(i=M.student)||void 0===i?void 0:i._id,aid:F,selectApplicant:{fee_struct:e}}).then((function(){L(),ae((function(e){return!e}))})).catch((function(){ae((function(e){return!e}))})))}}),oe&&(0,j.jsx)(B.Z,{})]})};var Ve=function(e){var n=e.applicationId,i=e.carryParentState,l=e.applicationDetail,o=e.instituteId,s=e.accessRole,d=e.accessTpye,c=e.applicationDetailApplicablePending,r=e.pageOpenAs,u=(0,t.useState)(!0),v=(0,a.Z)(u,2),p=v[0],_=v[1],f=(0,t.useState)(1),h=(0,a.Z)(f,2),g=h[0],x=h[1],Z=(0,t.useState)(""),S=(0,a.Z)(Z,2),b=S[0],N=S[1],A=(0,w.YD)(),y=(0,a.Z)(A,2),C=y[0],I=y[1],E=(0,t.useState)([]),P=(0,a.Z)(E,2),T=P[0],R=P[1],k=(0,t.useState)(!1),M=(0,a.Z)(k,2),L=M[0],F=M[1],U=(0,t.useState)(!0),B=(0,a.Z)(U,2),q=B[0],G=B[1],H=(0,m.jG)({data:{id:n,page:g,limit:10,search:b||""},skip:!n}),V=H.getAllRequestList,W=H.getAllRequestListRefetch,J=(0,ne.u)().scrollToTop;(0,t.useEffect)((function(){J()}),[]),(0,t.useEffect)((function(){I&&p&&x((function(e){return e+1}))}),[I,p]),(0,t.useEffect)((function(){n&&(G(!0),W())}),[g,n,W,b]),(0,t.useEffect)((function(){var e,n;b?(R(null===V||void 0===V?void 0:V.request),G(!1)):L?(R(null===V||void 0===V?void 0:V.request),F(!1),G(!1)):null!==V&&void 0!==V&&V.request?(R((function(e){var n,i;return null===(n=(0,D.Z)(new Set(null===(i=[].concat((0,D.Z)(e),(0,D.Z)(null===V||void 0===V?void 0:V.request)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),G(!1)):0===(null===V||void 0===V||null===(n=V.request)||void 0===n?void 0:n.length)&&G(!1);10===(null===V||void 0===V||null===(e=V.request)||void 0===e?void 0:e.length)?_(!0):_(!1)}),[null===V||void 0===V?void 0:V.request]);var $=function(){x(1),W(),F(!0)},Y=(0,t.useCallback)((0,Te.debounce)((function(e){return N(e)}),500),[]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Fe,{applicationDetail:l,carryParentState:i,instituteId:o,tabStatusFlow:"Request_Query",applicationDetailApplicablePending:c,pageOpenAs:r,children:(0,j.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:function(e){Y(e.target.value)}})}),(0,j.jsx)(Be,{carryParentState:i,accessRole:s,accessTpye:d,pageOpenAs:r}),null===T||void 0===T?void 0:T.map((function(e,i){var t,a,s,d;return(null===T||void 0===T?void 0:T.length)===i+1?(0,j.jsx)("div",{ref:C,children:(0,j.jsx)(He,{applicant:e,onRefetchWhenSelect:$,applicationId:n,departmentId:null===l||void 0===l||null===(t=l.applicationDepartment)||void 0===t?void 0:t._id,batchId:null===l||void 0===l||null===(a=l.applicationBatch)||void 0===a?void 0:a._id,classMasterId:null===l||void 0===l?void 0:l.applicationMaster,instituteId:o})},i):(0,j.jsx)(He,{applicant:e,onRefetchWhenSelect:$,applicationId:n,departmentId:null===l||void 0===l||null===(s=l.applicationDepartment)||void 0===s?void 0:s._id,batchId:null===l||void 0===l||null===(d=l.applicationBatch)||void 0===d?void 0:d._id,classMasterId:null===l||void 0===l?void 0:l.applicationMaster,instituteId:o},i)})),q&&(0,j.jsx)(O.Z,{})]})},We=function(e){var n=e.applicationId,i=e.studentId,l=e.statusId,o=e.onRefetch,s=e.isSelected,d=(0,t.useState)(!1),c=(0,a.Z)(d,2),r=c[0],u=c[1],v=(0,m.FG)(),p=(0,a.Z)(v,1)[0],_=(0,m.IG)(),f=(0,a.Z)(_,1)[0];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("img",{src:"/images/member_tab/admission/admission-undo-icon.svg",alt:"undo icon",style:{cursor:"pointer",width:"30px"},onClick:function(e){e.stopPropagation(),l&&i&&n&&("Not Collected"===s?(u((function(e){return!e})),p({sid:i,aid:n,revertData:{statusId:l}}).then((function(){o(),u((function(e){return!e}))})).catch({})):"Collected"===s&&(u((function(e){return!e})),f({sid:i,aid:n,revertData:{statusId:l}}).then((function(){o(),u((function(e){return!e}))})).catch({})))},title:"Not Collected"===s?"Undo Application":"Undo Collect Document"}),r&&(0,j.jsx)(B.Z,{})]})},Je=function(e){var n,i,t,l,o,a,s,d,c,r,u,v,m,f,h,g,Z,S,b,N,A,y,C,I,E,P,T,R,k,D,w,O,M,L,F,U,B,q,G=e.applicant,H=e.onSelectOffileFees,W=e.onCollectDocs,J=e.onEditFee,$=e.instituteId,Y=e.applicationId,z=e.onRefetch,Q=(0,_.$G)().t,X=(0,x.UO)(),K=(0,x.s0)(),ee=function(e){e.stopPropagation(),W(G)},ne=function(e){var n;e.stopPropagation(),J(null===G||void 0===G||null===(n=G.student)||void 0===n?void 0:n._id)};return(0,j.jsxs)("div",{className:me.Z.applicant_card_container,onClick:function(){var e;K("/q/".concat(X.username,"/student/profile"),{state:{sid:null===G||void 0===G||null===(e=G.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:$}})},title:"View Profile",children:[(0,j.jsxs)("div",{className:me.Z.applicant_card_inner,children:[(0,j.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===G||void 0===G||null===(n=G.student)||void 0===n?void 0:n.photoId)?"".concat(p.yI,"/").concat(null===G||void 0===G||null===(i=G.student)||void 0===i?void 0:i.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,j.jsxs)("div",{className:me.Z.applicant_card_inner_info,children:[(0,j.jsx)("h6",{children:"".concat(null===G||void 0===G||null===(t=G.student)||void 0===t?void 0:t.studentFirstName," ").concat(null!==G&&void 0!==G&&null!==(l=G.student)&&void 0!==l&&l.studentMiddleName?null===G||void 0===G||null===(o=G.student)||void 0===o?void 0:o.studentMiddleName:""," ").concat(null===G||void 0===G||null===(a=G.student)||void 0===a?void 0:a.studentLastName)}),(0,j.jsxs)("h6",{children:[Q("fee_structure")," : ",null!==(s=null===G||void 0===G||null===(d=G.student)||void 0===d||null===(c=d.fee_structure)||void 0===c||null===(r=c.category_master)||void 0===r?void 0:r.category_name)&&void 0!==s?s:"",", ",Q("rs")," ",null!==(u=null===G||void 0===G||null===(v=G.student)||void 0===v||null===(m=v.fee_structure)||void 0===m?void 0:m.applicable_fees)&&void 0!==u?u:""]}),(0,j.jsx)("p",{children:null!==G&&void 0!==G&&G.install_type?null===G||void 0===G?void 0:G.install_type:"\n          ".concat(Q("select_on"),":\n          ").concat(V()(null===G||void 0===G?void 0:G.select_on).format("DD MMM yyyy"))})]})]}),(0,j.jsxs)("div",{className:me.Z.applicant_card_contact,children:[(0,j.jsxs)("div",{className:me.Z.applicant_card_contact_inner,children:[(0,j.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,j.jsx)("p",{children:null===G||void 0===G||null===(f=G.student)||void 0===f?void 0:f.studentGender})]}),((null===G||void 0===G||null===(h=G.student)||void 0===h?void 0:h.studentPhoneNumber)||(null===G||void 0===G||null===(g=G.student)||void 0===g||null===(Z=g.user)||void 0===Z?void 0:Z.userPhoneNumber)||(null===G||void 0===G||null===(S=G.student)||void 0===S||null===(b=S.user)||void 0===b?void 0:b.userEmail)||(null===G||void 0===G||null===(N=G.student)||void 0===N?void 0:N.studentParentsPhoneNumber))&&(0,j.jsxs)("div",{className:me.Z.applicant_card_contact_inner,children:[(0,j.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,j.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==G&&void 0!==G&&null!==(A=G.student)&&void 0!==A&&null!==(y=A.user)&&void 0!==y&&y.userPhoneNumber?null===G||void 0===G||null===(C=G.student)||void 0===C||null===(I=C.user)||void 0===I?void 0:I.userPhoneNumber:null!==G&&void 0!==G&&null!==(E=G.student)&&void 0!==E&&null!==(P=E.user)&&void 0!==P&&P.userEmail?null===G||void 0===G||null===(T=G.student)||void 0===T||null===(R=T.user)||void 0===R?void 0:R.userEmail:null!==G&&void 0!==G&&null!==(k=G.student)&&void 0!==k&&k.studentPhoneNumber?null===G||void 0===G||null===(D=G.student)||void 0===D?void 0:D.studentPhoneNumber:null===G||void 0===G||null===(w=G.student)||void 0===w?void 0:w.studentParentsPhoneNumber})]})]}),(0,j.jsx)("div",{className:me.Z.applicant_card_reciept,onClick:function(e){e.stopPropagation()},children:(0,j.jsx)("a",{href:"".concat(p.r3,"/").concat(null===G||void 0===G||null===(O=G.student)||void 0===O||null===(M=O.application_print)||void 0===M||null===(L=M[0])||void 0===L?void 0:L.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,j.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),"receipt requested"===(null===G||void 0===G||null===(F=G.payment_status)||void 0===F?void 0:F.toLowerCase())?(0,j.jsxs)("div",{className:me.Z.selectBtnContainer,style:{display:"flex",justifyContent:"space-evenly"},children:[(0,j.jsx)("div",{className:me.Z.receipt_requested_btn,onClick:function(e){e.stopPropagation()},children:Q("receipt_requested")}),(0,j.jsx)("img",{src:"/images/bank-edit-icon.svg",alt:"back arrow",className:me.Z.back_icon,onClick:ne})]}):(0,j.jsxs)("div",{className:me.Z.selectBtnContainer,style:{display:"flex",justifyContent:"space-evenly"},children:["pending"===(null===G||void 0===G||null===(U=G.payment_status)||void 0===U?void 0:U.toLowerCase())&&("Not Collected"===(null===G||void 0===G?void 0:G.docs_collect)?(0,j.jsx)("div",{className:me.Z.onlineBtn,onClick:ee,children:Q("collect_docs")}):(0,j.jsx)("div",{className:me.Z.selectBtn,onClick:function(e){e.stopPropagation(),H(G)},children:Q("collect_fee")})),"online"===(null===G||void 0===G||null===(B=G.payment_status)||void 0===B?void 0:B.toLowerCase())&&(0,j.jsx)("div",{className:me.Z.onlineBtn,onClick:ee,children:Q("collect_docs")}),(0,j.jsx)("img",{src:"/images/bank-edit-icon.svg",alt:"back arrow",className:me.Z.back_icon,onClick:ne})]}),(0,j.jsx)(We,{applicationId:Y,studentId:null===G||void 0===G||null===(q=G.student)||void 0===q?void 0:q._id,statusId:"Not Collected"===(null===G||void 0===G?void 0:G.docs_collect)?null===G||void 0===G?void 0:G.revert_request_status:"Collected"===(null===G||void 0===G?void 0:G.docs_collect)?null===G||void 0===G?void 0:G.status_id:"",onRefetch:z,isSelected:null===G||void 0===G?void 0:G.docs_collect})]})},$e=function(e){var n,i,l,o,s,d,c=e.currentApplicant,r=e.onClose,u=e.applicationId,v=e.onRefetchWhenConfirm,f=(0,_.$G)().t,h=(0,t.useState)(!1),g=(0,a.Z)(h,2),x=g[0],Z=g[1],S=(0,m.mZ)(),b=(0,a.Z)(S,1)[0],N=(0,m.pc)(),A=(0,a.Z)(N,1)[0];return(0,j.jsxs)(q.Z,{onClose:r,children:[(0,j.jsxs)("div",{className:me.Z.not_confirm_container,children:[(0,j.jsx)("h6",{children:f("admission_status")}),(0,j.jsx)(M.Z,{customStyle:{marginLeft:"-2rem",width:"130%"}}),(0,j.jsxs)("section",{className:me.Z.applicant_profile,children:[(0,j.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===c||void 0===c||null===(n=c.student)||void 0===n?void 0:n.photoId)?"".concat(p.yI,"/").concat(null===c||void 0===c||null===(i=c.student)||void 0===i?void 0:i.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg"}),(0,j.jsxs)("div",{className:me.Z.applicant_profile_text,children:[(0,j.jsx)("h6",{children:"".concat(null===c||void 0===c||null===(l=c.student)||void 0===l?void 0:l.studentFirstName," ").concat(null!==c&&void 0!==c&&null!==(o=c.student)&&void 0!==o&&o.studentMiddleName?null===c||void 0===c||null===(s=c.student)||void 0===s?void 0:s.studentMiddleName:""," ").concat(null===c||void 0===c||null===(d=c.student)||void 0===d?void 0:d.studentLastName)}),(0,j.jsxs)("p",{children:[f("applied")," ",V()(null===c||void 0===c?void 0:c.select_on).format("DD MMM yyyy")]})]})]}),(0,j.jsxs)("section",{className:me.Z.button_group,children:[(0,j.jsx)("button",{onClick:function(){var e,n;u&&null!==c&&void 0!==c&&null!==(e=c.student)&&void 0!==e&&e._id&&(Z((function(e){return!e})),b({aid:u,sid:null===c||void 0===c||null===(n=c.student)||void 0===n?void 0:n._id}).then((function(){v(),r(),Z((function(e){return!e}))})).catch((function(){Z((function(e){return!e}))})))},children:f("confirm")}),(0,j.jsx)("button",{onClick:function(){var e,n;u&&null!==c&&void 0!==c&&null!==(e=c.student)&&void 0!==e&&e._id&&(Z((function(e){return!e})),A({aid:u,sid:null===c||void 0===c||null===(n=c.student)||void 0===n?void 0:n._id}).then((function(){v(),r(),Z((function(e){return!e}))})).catch((function(){Z((function(e){return!e}))})))},children:f("reject")})]})]}),x&&(0,j.jsx)(B.Z,{})]})};var Ye=function(e){var n,i,l,o,s=e.applicationId,d=e.currentApplicant,c=e.onRefetchWhenConfirm,r=e.onClose,u=(0,_.$G)().t,v=(0,t.useState)(!1),p=(0,a.Z)(v,2),f=p[0],h=p[1],g=(0,m.K7)(),x=(0,a.Z)(g,1)[0];return(0,j.jsxs)(q.Z,{onClose:r,children:[(0,j.jsxs)("div",{className:me.Z.not_confirm_container,children:[(0,j.jsx)("h6",{children:u("collect_required_document")}),(0,j.jsx)(M.Z,{customStyle:{width:"100%"}}),(0,j.jsxs)("section",{className:me.Z.admission_collect_docs,children:[(0,j.jsx)("p",{children:u("collecting_documents_of_student")}),(0,j.jsx)("h6",{children:"".concat(null===d||void 0===d||null===(n=d.student)||void 0===n?void 0:n.studentFirstName," ").concat(null!==d&&void 0!==d&&null!==(i=d.student)&&void 0!==i&&i.studentMiddleName?null===d||void 0===d||null===(l=d.student)||void 0===l?void 0:l.studentMiddleName:""," ").concat(null===d||void 0===d||null===(o=d.student)||void 0===o?void 0:o.studentLastName)})]}),(0,j.jsx)("button",{onClick:function(){var e,n;null!==d&&void 0!==d&&null!==(e=d.student)&&void 0!==e&&e._id&&s&&(h(!0),x({sid:null===d||void 0===d||null===(n=d.student)||void 0===n?void 0:n._id,aid:s}).then((function(){c(),r(),h(!1)})).catch({}))},className:me.Z.confirm_btn,children:u("confirm")})]}),f&&(0,j.jsx)(B.Z,{})]})},ze=i(4942),Qe=i(49886),Xe=i(97655),Ke=i(59965);var en=function(e){var n,i,l,o,s,d=e.currentApplicant,c=e.applicationId,r=e.onRefetchWhenConfirm,u=e.onClose,v=(0,t.useState)(!1),p=(0,a.Z)(v,2),f=p[0],h=p[1],g=(0,_.$G)().t,x=(0,t.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),Z=(0,a.Z)(x,2),S=Z[0],b=Z[1],N=(0,t.useState)({msg:"",run:!1}),A=(0,a.Z)(N,2),C=A[0],I=A[1],E=(0,t.useState)(""),P=(0,a.Z)(E,2),T=P[0],R=P[1],k=(0,m.Vd)(),D=(0,a.Z)(k,1)[0],w=function(e){"fee_payment_mode"===e.target.name?b((function(n){var i;return(0,y.Z)((0,y.Z)({},n),{},(i={},(0,ze.Z)(i,e.target.name,e.target.value),(0,ze.Z)(i,"mode","By Cash"===e.target.value?"Offline":"Online"),(0,ze.Z)(i,"fee_payment_mode",e.target.value),i))})):b((function(n){return(0,y.Z)((0,y.Z)({},n),{},(0,ze.Z)({},e.target.name,e.target.value))}))};return(0,j.jsxs)(q.Z,{onClose:u,children:[(0,j.jsxs)("div",{className:me.Z.admission_modal,children:[(0,j.jsx)("h6",{className:me.Z.admission_modal_heading,children:g("collect_fees")}),(0,j.jsx)(M.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),(0,j.jsxs)("div",{className:me.Z.admission_fees_row,children:[(0,j.jsxs)("h6",{children:[g("applicable_amount")," :"]}),(0,j.jsxs)("h6",{children:[g("rs"),"."," ",null===d||void 0===d||null===(n=d.student)||void 0===n||null===(i=n.fee_structure)||void 0===i?void 0:i.applicable_fees]})]}),(0,j.jsx)(Xe.Z,{labelText:"".concat(g("amount_first_installment")," ").concat(null===d||void 0===d||null===(l=d.student)||void 0===l||null===(o=l.fee_structure)||void 0===o||null===(s=o.one_installments)||void 0===s?void 0:s.fees),name:"amount",type:"tel",value:S.amount,onChange:function(e){b((function(n){return(0,y.Z)((0,y.Z)({},n),{},{amount:+e.target.value,fee_payment_amount:+e.target.value})}))},placeholder:g("amoute_details_collect"),errorShow:T.fee_payment_amount,customStyleLabel:{marginTop:"15px",marginBottom:"7px"},customStyleContainer:{marginBottom:"15px"}}),(0,j.jsx)(Qe.Z,{paymentHeading:g("payment_type_mode"),onInputChange:w,errorShow:T.fee_payment_mode}),(0,j.jsx)(Ke.Z,{labelText:g("select_date_of_transaction"),placeholder:g("please_select_date"),name:"transaction_date",value:S.transaction_date,onDateFunction:function(e){var n=null===e||void 0===e?void 0:e.split("/");b((function(e){return(0,y.Z)((0,y.Z)({},e),{},{transaction_date:"".concat(n[2],"-").concat(n[1],"-").concat(n[0])})}))},customStyleContainer:{position:"relative",marginTop:"0.5rem"},datePickerPosition:{position:"relative",top:"-20rem"},customStyleLabel:{marginTop:"15px"},errorShow:T.transaction_date}),"By Cash"===S.fee_payment_mode?"":(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Xe.Z,{labelText:g("bank_name_collect"),name:"fee_bank_name",type:"tel",value:S.fee_bank_name,onChange:w,placeholder:g("please_enter_bank_name"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,j.jsx)(Xe.Z,{labelText:g("banke_holder_name"),name:"fee_bank_holder",type:"tel",value:S.fee_bank_holder,onChange:w,placeholder:g("please_enter_name_of_bank_holder"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,j.jsx)(Xe.Z,{labelText:g("cheque_dd_neft"),name:"fee_utr_reference",type:"tel",value:S.fee_utr_reference,onChange:w,placeholder:g("please_enter_utr_ref_number"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}})]}),(0,j.jsx)("div",{className:me.Z.confirm_btn,onClick:function(){var e=function(e){var n={};for(var i in e){var t,l;"fee_bank_name"===i||"fee_bank_holder"===i||"fee_utr_reference"===i||"amount"===i||"mode"===i||(e[i]?"fee_payment_amount"===i&&(e[i]<=(null===d||void 0===d||null===(t=d.student)||void 0===t||null===(l=t.fee_structure)||void 0===l?void 0:l.total_admission_fees)||(I({msg:"You can not enter amount greater than Admission fees.",run:!0}),n.fee_payment_amount="".concat(i," is required!"))):n[i]="".concat(i," is required!"))}return n}(S),n=!1;for(var i in e){n=!0;break}if(n)R(e);else{var t,l,o;h(!0);var a={sid:null===d||void 0===d||null===(t=d.student)||void 0===t?void 0:t._id,aid:c,confirm_data:S,receipt_status:"Fee Receipt Not Generated"===S.fee_payment_mode?"Fee Receipt Not Generated":""};""!==(null===a||void 0===a?void 0:a.sid)&&""!==(null===a||void 0===a?void 0:a.aid)&&(null===a||void 0===a||null===(l=a.confirm_data)||void 0===l?void 0:l.amount)>0&&""!==(null===a||void 0===a||null===(o=a.confirm_data)||void 0===o?void 0:o.mode)?D(a).then((function(e){e.data.confirm_status&&(r(),u(!1),h(!1))})).catch({}):h(!1)}},children:g("collect")}),(0,j.jsx)(De.Ch,{msg:C.msg,run:C.run,setRun:function(){return I({msg:"",run:!1})},postiton:"bottom",type:"error"})]}),f&&(0,j.jsx)(B.Z,{})]})};var nn=function(e){var n,i,l=e.applicationId,o=e.applicationDetail,s=e.carryParentState,d=e.accessRole,c=e.accessTpye,r=e.instituteId,u=e.applicationDetailApplicablePending,v=e.pageOpenAs,p=(0,t.useState)(!0),_=(0,a.Z)(p,2),f=_[0],h=_[1],g=(0,t.useState)(1),x=(0,a.Z)(g,2),Z=x[0],S=x[1],b=(0,t.useState)(""),N=(0,a.Z)(b,2),A=N[0],y=N[1],C=(0,w.YD)(),I=(0,a.Z)(C,2),E=I[0],P=I[1],T=(0,t.useState)([]),R=(0,a.Z)(T,2),k=R[0],M=R[1],L=(0,t.useState)(!1),F=(0,a.Z)(L,2),U=F[0],q=F[1],G=(0,t.useState)(!0),H=(0,a.Z)(G,2),V=H[0],W=H[1],J=(0,t.useState)(""),$=(0,a.Z)(J,2),Y=$[0],z=$[1],Q=(0,t.useState)(""),X=(0,a.Z)(Q,2),K=X[0],ee=X[1],ie=(0,t.useState)(!1),te=(0,a.Z)(ie,2),le=te[0],oe=te[1],ae=(0,m.lw)(),se=(0,a.Z)(ae,1)[0],de=(0,m.sR)({data:{id:l,page:Z,limit:10,search:A||""},skip:!l}),ce=de.getAllSelectList,re=de.getAllSelectListRefetch,ue=(0,ne.u)().scrollToTop;(0,t.useEffect)((function(){ue()}),[]),(0,t.useEffect)((function(){P&&f&&S((function(e){return e+1}))}),[P,f]),(0,t.useEffect)((function(){l&&(W(!0),re())}),[Z,l,re,A]),(0,t.useEffect)((function(){var e,n;A?(M(null===ce||void 0===ce?void 0:ce.select),W(!1)):U?(M(null===ce||void 0===ce?void 0:ce.select),q(!1),W(!1)):null!==ce&&void 0!==ce&&ce.select?(M((function(e){var n,i;return null===(n=(0,D.Z)(new Set(null===(i=[].concat((0,D.Z)(e),(0,D.Z)(null===ce||void 0===ce?void 0:ce.select)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),W(!1)):0===(null===ce||void 0===ce||null===(n=ce.select)||void 0===n?void 0:n.length)&&W(!1);10===(null===ce||void 0===ce||null===(e=ce.select)||void 0===e?void 0:e.length)?h(!0):h(!1)}),[null===ce||void 0===ce?void 0:ce.select]);var ve=function(){S(1),re(),q(!0)},me=(0,t.useCallback)((0,Te.debounce)((function(e){return y(e)}),500),[]),pe=function(e){ee(e),z("COLLECT_FEES")},_e=function(e){ee(e),z("COLLECT_DOCS")},fe=function(e){ee(e),z("EDIT_STRUCTURE")},he=function(e){ee(e),z("MARK_CONFIRM")};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Fe,{applicationDetail:o,carryParentState:s,instituteId:r,applicationDetailApplicablePending:u,pageOpenAs:v,children:(0,j.jsx)("input",{type:"text",placeholder:"Search applications...",onChange:function(e){me(e.target.value)}})}),(0,j.jsx)(Be,{carryParentState:s,accessRole:d,accessTpye:c,pageOpenAs:v}),null===k||void 0===k?void 0:k.map((function(e,n){return(null===k||void 0===k?void 0:k.length)===n+1?(0,j.jsx)("div",{ref:E,children:(0,j.jsx)(Je,{applicant:e,onEditFee:fe,onSelectOffileFees:pe,onCollectDocs:_e,onNotConfirm:he,instituteId:r,applicationId:l,onRefetch:ve})},n):(0,j.jsx)(Je,{applicant:e,onEditFee:fe,onSelectOffileFees:pe,onCollectDocs:_e,onNotConfirm:he,instituteId:r,applicationId:l,onRefetch:ve},n)})),V&&(0,j.jsx)(O.Z,{}),"MARK_CONFIRM"===Y&&(0,j.jsx)($e,{currentApplicant:K,applicationId:l,onClose:function(){return z("")},onRefetchWhenConfirm:ve}),"EDIT_STRUCTURE"===Y&&(0,j.jsx)(qe.Z,{departmentId:null===o||void 0===o||null===(n=o.applicationDepartment)||void 0===n?void 0:n._id,batchId:null===o||void 0===o||null===(i=o.applicationBatch)||void 0===i?void 0:i._id,classMasterId:null===o||void 0===o?void 0:o.applicationMaster,onClose:function(){return z("")},onSelectedStudent:function(e){""!==K&&""!==l&&(oe((function(e){return!e})),se({sid:K,aid:l,editStructure:{fee_struct:e}}).then((function(){ve(),oe((function(e){return!e}))})).catch((function(){oe((function(e){return!e}))})))},asOpen:"SELECTED_TAB"}),"COLLECT_DOCS"===Y&&(0,j.jsx)(Ye,{currentApplicant:K,applicationId:l,onClose:function(){return z("")},onRefetchWhenConfirm:ve}),"COLLECT_FEES"===Y&&(0,j.jsx)(en,{onClose:function(){return z("")},currentApplicant:K,applicationId:l,onRefetchWhenConfirm:ve}),le&&(0,j.jsx)(B.Z,{})]})},tn=i(37782),ln=function(e){var n,l,o,s,d,c,r,u,v,f,h,g,Z,S,b,N,A,y,C,I,E,P,T,R,k,D,w,O,M,L=e.onAllotApplicantBatch,F=e.onCancelAdmission,U=e.applicant,q=e.instituteId,G=(0,_.$G)().t,H=(0,x.UO)(),V=(0,x.s0)(),W=(0,t.useState)(""),J=(0,a.Z)(W,2),$=J[0],Y=J[1],z=(0,t.useState)(!1),Q=(0,a.Z)(z,2),X=Q[0],K=Q[1],ee=(0,t.useState)(""),ne=(0,a.Z)(ee,2),ie=ne[0],te=ne[1],le=(0,m.$d)({rid:$,skip:!$}),oe=le.getFeeReceiptDetail,ae=le.getFeeReceiptDetailRefetch;(0,t.useEffect)((function(){$&&ae()}),[$,ae]),(0,t.useEffect)((function(){null!==oe&&void 0!==oe&&oe.receipt&&null!==oe&&void 0!==oe&&oe.all_remain&&te(oe)}),[oe]),(0,t.useEffect)((function(){if(ie){var e=(0,tn.Hs)(null===ie||void 0===ie?void 0:ie.all_remain,null===ie||void 0===ie?void 0:ie.receipt),n=e.institute,t=e.studentInfo,l=e.paymentReceiptInfo,o=new Worker(new URL(i.p+i.u(5520),i.b));o.postMessage({institute:n,studentInfo:t,paymentReceiptInfo:l,printReceiptType:"Refunded"===(null===l||void 0===l?void 0:l.transactonRefund)?"ADMISSION_REFUND":"ADMISSION"}),o.onmessage=function(e){e&&(window.open(e.data,"_blank"),K((function(e){return!e})),te(""),o.terminate())}}}),[ie]);return(0,j.jsxs)("div",{className:me.Z.applicant_card_container,onClick:function(){var e;V("/q/".concat(H.username,"/student/profile"),{state:{sid:null===U||void 0===U||null===(e=U.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN",instituteId:q}})},title:"View Profile",children:[(0,j.jsxs)("div",{className:me.Z.applicant_card_inner,children:[(0,j.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===U||void 0===U||null===(n=U.student)||void 0===n?void 0:n.photoId)?"".concat(p.yI,"/").concat(null===U||void 0===U||null===(l=U.student)||void 0===l?void 0:l.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,j.jsxs)("div",{className:me.Z.applicant_card_inner_info,children:[(0,j.jsx)("h6",{children:"".concat(null===U||void 0===U||null===(o=U.student)||void 0===o?void 0:o.studentFirstName," ").concat(null!==U&&void 0!==U&&null!==(s=U.student)&&void 0!==s&&s.studentMiddleName?null===U||void 0===U||null===(d=U.student)||void 0===d?void 0:d.studentMiddleName:""," ").concat(null===U||void 0===U||null===(c=U.student)||void 0===c?void 0:c.studentLastName)}),(0,j.jsx)("p",{onClick:function(e){e.stopPropagation(),F(U)},className:me.Z.cancelStatus,children:G("cancel_admision")})]})]}),(0,j.jsxs)("div",{className:me.Z.applicant_card_contact,children:[(0,j.jsxs)("div",{className:me.Z.applicant_card_contact_inner,children:[(0,j.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,j.jsx)("p",{children:null===U||void 0===U||null===(r=U.student)||void 0===r?void 0:r.studentGender})]}),((null===U||void 0===U||null===(u=U.student)||void 0===u?void 0:u.studentPhoneNumber)||(null===U||void 0===U||null===(v=U.student)||void 0===v||null===(f=v.user)||void 0===f?void 0:f.userPhoneNumber)||(null===U||void 0===U||null===(h=U.student)||void 0===h||null===(g=h.user)||void 0===g?void 0:g.userEmail)||(null===U||void 0===U||null===(Z=U.student)||void 0===Z?void 0:Z.studentParentsPhoneNumber))&&(0,j.jsxs)("div",{className:me.Z.applicant_card_contact_inner,children:[(0,j.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,j.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==U&&void 0!==U&&null!==(S=U.student)&&void 0!==S&&null!==(b=S.user)&&void 0!==b&&b.userPhoneNumber?null===U||void 0===U||null===(N=U.student)||void 0===N||null===(A=N.user)||void 0===A?void 0:A.userPhoneNumber:null!==U&&void 0!==U&&null!==(y=U.student)&&void 0!==y&&null!==(C=y.user)&&void 0!==C&&C.userEmail?null===U||void 0===U||null===(I=U.student)||void 0===I||null===(E=I.user)||void 0===E?void 0:E.userEmail:null!==U&&void 0!==U&&null!==(P=U.student)&&void 0!==P&&P.studentPhoneNumber?null===U||void 0===U||null===(T=U.student)||void 0===T?void 0:T.studentPhoneNumber:null===U||void 0===U||null===(R=U.student)||void 0===R?void 0:R.studentParentsPhoneNumber})]})]}),(0,j.jsx)("div",{className:me.Z.applicant_card_reciept,onClick:function(e){e.stopPropagation()},children:(0,j.jsx)("a",{href:"".concat(p.r3,"/").concat(null===U||void 0===U||null===(k=U.student)||void 0===k||null===(D=k.application_print)||void 0===D||null===(w=D[0])||void 0===w?void 0:w.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",marginTop:"-4.5px"},children:(0,j.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,j.jsx)("div",{className:me.Z.applicant_card_reciept,children:null===U||void 0===U||null===(O=U.student)||void 0===O||null===(M=O.fee_receipt)||void 0===M?void 0:M.map((function(e,n){return n>2?"":(0,j.jsx)("img",{src:"/images/member_tab/admission/admission-receipt-download.svg",onClick:function(n){return function(e,n){e.stopPropagation(),K((function(e){return!e})),Y(n),$===n&&te(oe)}(n,e)},alt:"receipt icon",title:"Download Fees Receipt"},e)}))}),(0,j.jsx)("div",{className:me.Z.selectBtnContainer,style:{width:"auto"},children:(0,j.jsx)("div",{className:me.Z.selectBtn,onClick:function(e){e.stopPropagation(),L(U)},children:G("allot_class")})}),X&&(0,j.jsx)(B.Z,{})]})};var on=function(e){var n,i,l,o,s=e.onRefetchWhenAction,d=e.applicationId,c=e.currentApplicant,r=e.onClose,u=(0,_.$G)().t,v=(0,t.useState)({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),p=(0,a.Z)(v,2),f=p[0],h=p[1],g=(0,t.useState)(""),x=(0,a.Z)(g,2),Z=x[0],S=x[1],b=(0,t.useState)(0),N=(0,a.Z)(b,2),A=N[0],C=N[1],I=(0,t.useState)({msg:"",run:!1}),E=(0,a.Z)(I,2),P=E[0],T=E[1],R=(0,t.useState)(!1),k=(0,a.Z)(R,2),D=k[0],w=k[1],O=(0,m.PE)(),L=(0,a.Z)(O,1)[0];(0,t.useEffect)((function(){var e,n;if(null!==c&&void 0!==c&&null!==(e=c.student)&&void 0!==e&&null!==(n=e.paidFeeList)&&void 0!==n&&n.length){var i,t,l,o,a=null===c||void 0===c||null===(i=c.student)||void 0===i||null===(t=i.paidFeeList)||void 0===t?void 0:t.filter((function(e){return(null===e||void 0===e?void 0:e.appId)===d}));C(null!==(l=null===a||void 0===a||null===(o=a[0])||void 0===o?void 0:o.paidAmount)&&void 0!==l?l:0)}}),[null===c||void 0===c||null===(n=c.student)||void 0===n?void 0:n.paidFeeList]);var F=function(e){"fee_payment_mode"===e.target.name?h((function(n){var i;return(0,y.Z)((0,y.Z)({},n),{},(i={},(0,ze.Z)(i,e.target.name,e.target.value),(0,ze.Z)(i,"mode","By Cash"===e.target.value?"Offline":"Online"),(0,ze.Z)(i,"fee_payment_mode",e.target.value),i))})):h((function(n){return(0,y.Z)((0,y.Z)({},n),{},(0,ze.Z)({},e.target.name,e.target.value))}))};return(0,j.jsxs)(q.Z,{onClose:r,children:[(0,j.jsxs)("div",{className:me.Z.admission_modal,children:[(0,j.jsx)("h6",{className:me.Z.admission_modal_heading,children:u("cancel_addmission")}),(0,j.jsx)(M.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),(0,j.jsxs)("div",{className:me.Z.admission_fees_row,children:[(0,j.jsxs)("h6",{children:[u("total_admission_fees")," :"]}),(0,j.jsxs)("h6",{children:[u("rs"),"."," ",null!==(i=null===c||void 0===c||null===(l=c.student)||void 0===l||null===(o=l.fee_structure)||void 0===o?void 0:o.total_admission_fees)&&void 0!==i?i:0]})]}),(0,j.jsxs)("div",{className:me.Z.admission_fees_row,children:[(0,j.jsxs)("h6",{children:[u("fees_paid")," :"]}),(0,j.jsxs)("h6",{children:[u("rs"),". ",A]})]}),(0,j.jsx)(Qe.Z,{paymentHeading:u("refund_payment_type_mode"),onInputChange:F,errorShow:Z.fee_payment_mode}),(0,j.jsx)(Xe.Z,{labelText:u("refund_amount"),name:"amount",type:"tel",value:f.amount,onChange:function(e){h((function(n){return(0,y.Z)((0,y.Z)({},n),{},{amount:+e.target.value,fee_payment_amount:+e.target.value})}))},placeholder:u("please_enter_refund_amount"),errorShow:Z.fee_payment_amount}),(0,j.jsx)(Ke.Z,{labelText:u("select_date_of_transaction"),placeholder:u("please_select_date"),name:"transaction_date",value:f.transaction_date,onDateFunction:function(e){var n=null===e||void 0===e?void 0:e.split("/");h((function(e){return(0,y.Z)((0,y.Z)({},e),{},{transaction_date:"".concat(n[2],"-").concat(n[1],"-").concat(n[0])})}))},customStyleContainer:{position:"relative",marginTop:"0.5rem"},datePickerPosition:{position:"relative",top:"-20rem"},customStyleLabel:{marginTop:"15px"},errorShow:Z.transaction_date}),(0,j.jsx)("h6",{style:{marginTop:"0.5rem"},children:u("paid_to")}),(0,j.jsx)(Xe.Z,{labelText:u("bank_name_collect"),name:"fee_bank_name",type:"tel",value:f.fee_bank_name,onChange:F,placeholder:u("please_enter_bank_name"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,j.jsx)(Xe.Z,{labelText:u("banke_holder_name"),name:"fee_bank_holder",type:"tel",value:f.fee_bank_holder,onChange:F,placeholder:u("please_enter_name_of_bank_holder"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,j.jsx)(Xe.Z,{labelText:u("cheque_dd_neft"),name:"fee_utr_reference",type:"tel",value:f.fee_utr_reference,onChange:F,placeholder:u("please_enter_utr_ref_number"),customStyleLabel:{marginTop:"15px",marginBottom:"7px"}}),(0,j.jsx)("div",{className:me.Z.confirm_btn,onClick:function(){var e=function(e){var n={};for(var i in e)"fee_bank_name"===i||"fee_bank_holder"===i||"fee_utr_reference"===i||"amount"===i||"mode"===i||(e[i]?"fee_payment_amount"===i&&(e[i]<=A||(T({msg:"You can not enter amount greater than fees paid",run:!0}),n.fee_payment_amount_issue="".concat(i," is required!"))):n[i]="".concat(i," is required!"));return n}(f),n=!1;for(var i in e){n=!0;break}if(n)S(e);else{var t,l,o;w(!0);var a={sid:null===c||void 0===c||null===(t=c.student)||void 0===t?void 0:t._id,aid:d,cancel_data:(0,y.Z)((0,y.Z)({},f),{},{remainAmount:null!==(l=null===c||void 0===c?void 0:c.fee_remain)&&void 0!==l?l:0})};""!==(null===a||void 0===a?void 0:a.sid)&&""!==(null===a||void 0===a?void 0:a.aid)&&(null===a||void 0===a||null===(o=a.cancel_data)||void 0===o?void 0:o.amount)>0&&L(a).then((function(e){var n;e.data.refund_status?(s(),r(),w(!1)):(T({msg:null===(n=e.data)||void 0===n?void 0:n.message,run:!0}),w(!1))})).catch({})}},children:u("confirm")}),(0,j.jsx)(De.Ch,{msg:P.msg,run:P.run,setRun:function(){return T({msg:"",run:!1})},postiton:"bottom",type:"error"})]}),D&&(0,j.jsx)(B.Z,{})]})},an=function(e){var n,i=e.applicationId,l=e.onAllotApplicantClasses,o=e.onClose,s=(0,_.$G)().t,d=(0,t.useState)(!0),c=(0,a.Z)(d,2),r=c[0],u=c[1],v=(0,m.j5)({aid:i,skip:!i}),p=v.admissionBatchList,f=v.admissionBatchListRefetch;(0,t.useEffect)((function(){i&&(u(!0),f())}),[i,f]);return(0,t.useEffect)((function(){null!==p&&void 0!==p&&p.batch&&u(!1)}),[null===p||void 0===p?void 0:p.batch]),(0,j.jsx)(q.Z,{onClose:o,children:(0,j.jsxs)("div",{className:me.Z.admission_modal,children:[(0,j.jsx)("h6",{className:me.Z.admission_modal_heading,children:s("select_batch")}),(0,j.jsx)(M.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),null===p||void 0===p||null===(n=p.batch)||void 0===n?void 0:n.map((function(e){return(0,j.jsxs)("div",{className:me.Z.admission_confirm_batch_card,onClick:function(){return n=null===e||void 0===e?void 0:e._id,void l(n);var n},children:[(0,j.jsx)("img",{src:"/images/allot-class-icon.svg",alt:"Class Avatar"}),(0,j.jsx)("div",{className:me.Z.admission_collect_docs,style:{marginTop:"0"},children:(0,j.jsx)("h6",{children:null===e||void 0===e?void 0:e.batchName})})]},null===e||void 0===e?void 0:e._id)})),r&&(0,j.jsx)(O.Z,{})]})})},sn=i(15415),dn=function(e){var n,i,l,o,s=e.onClose,d=e.currentApplicant,c=e.applicationId,r=e.onRefetchWhenAction,u=e.batchId,v=e.openAs,p=(0,t.useState)(!1),f=(0,a.Z)(p,2),h=f[0],g=f[1],x=(0,t.useState)(!1),Z=(0,a.Z)(x,2),S=Z[0],b=Z[1],N=(0,t.useState)(""),A=(0,a.Z)(N,2),y=A[0],C=A[1],I=(0,_.$G)().t,E=(0,t.useState)(1),P=(0,a.Z)(E,2),T=P[0],R=P[1],k=(0,t.useState)(!0),L=(0,a.Z)(k,2),F=L[0],U=L[1],G=(0,w.YD)(),H=(0,a.Z)(G,2),V=H[0],W=H[1],J=(0,t.useState)(""),$=(0,a.Z)(J,2),Y=$[0],z=$[1],Q=(0,t.useState)([]),X=(0,a.Z)(Q,2),K=X[0],ee=X[1],ne=(0,t.useState)(!0),ie=(0,a.Z)(ne,2),te=ie[0],le=ie[1],oe=(0,m.Ds)({data:{search:Y,aid:c,bid:u,page:T,limit:10},skip:!c||!u}),ae=oe.getAllClassesList,se=oe.getAllClassesListRefetch,de=(0,m.ht)(),ce=(0,a.Z)(de,1)[0];(0,t.useEffect)((function(){c&&(le(!0),se())}),[c,se,T,Y]),(0,t.useEffect)((function(){W&&F&&R((function(e){return e+1}))}),[W,F]),(0,t.useEffect)((function(){var e;Y?(ee(null===ae||void 0===ae?void 0:ae.classes),le(!1)):null!==ae&&void 0!==ae&&ae.classes?(ee((function(e){var n,i;return null===(n=(0,D.Z)(new Set(null===(i=[].concat((0,D.Z)(e),(0,D.Z)(null===ae||void 0===ae?void 0:ae.classes)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),le(!1)):0===(null===ae||void 0===ae||null===(e=ae.classes)||void 0===e?void 0:e.length)&&le(!1);10===(null===ae||void 0===ae?void 0:ae.classes.length)?U(!0):U(!1)}),[null===ae||void 0===ae?void 0:ae.classes]);var re=(0,t.useCallback)((0,Te.debounce)((function(e){return z(e)}),500),[]);return(0,j.jsx)(q.Z,{onClose:s,children:(0,j.jsxs)("div",{className:me.Z.admission_modal,children:[(0,j.jsx)("h6",{className:me.Z.admission_modal_heading,children:I(h?"allot_to_class":"allot_class")}),(0,j.jsx)(M.Z,{customStyle:{width:"100%",margin:"0.7rem 0"}}),h?"":(0,j.jsx)("div",{className:me.Z.with_search,style:{marginBottom:"0.7rem"},children:(0,j.jsx)("div",{className:me.Z.search_container_filter,style:{width:"100%"},children:(0,j.jsx)("section",{className:me.Z.search_container,style:{width:"100%"},children:(0,j.jsxs)("div",{className:me.Z.search_container_input,style:{width:"100%"},children:[(0,j.jsx)("img",{className:me.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,j.jsx)("input",{type:"text",placeholder:"Search classes...",onChange:function(e){re(e.target.value)}})]})})})}),h?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:me.Z.admission_class_confirm,children:["MULITSELECT"===v?(0,j.jsxs)(j.Fragment,{children:[I("alloting")," ",(0,j.jsx)("span",{style:{fontWeight:"600"},children:null===d||void 0===d?void 0:d.length})," ",I("students")," "," "]}):(0,j.jsxs)(j.Fragment,{children:[I("lloting_student")," ",(0,j.jsx)("span",{style:{fontWeight:"600"},children:" ".concat(null===d||void 0===d||null===(n=d.student)||void 0===n?void 0:n.studentFirstName," ").concat(null!==d&&void 0!==d&&null!==(i=d.student)&&void 0!==i&&i.studentMiddleName?null===d||void 0===d||null===(l=d.student)||void 0===l?void 0:l.studentMiddleName:""," ").concat(null===d||void 0===d||null===(o=d.student)||void 0===o?void 0:o.studentLastName," ")})]}),",",I("to")," ",(0,j.jsx)("span",{style:{fontWeight:"600"},children:" ".concat(null===y||void 0===y?void 0:y.className," - ").concat(null===y||void 0===y?void 0:y.classTitle)})]}),(0,j.jsx)("div",{className:me.Z.confirm_btn,onClick:function(){var e;c&&null!==y&&void 0!==y&&y._id&&d&&(b(!0),ce({allotClass:{dataList:"MULITSELECT"===v?d:[null===d||void 0===d||null===(e=d.student)||void 0===e?void 0:e._id]},aid:c,cid:null===y||void 0===y?void 0:y._id}).then((function(){r(),s(),b(!1)})).catch({}))},children:I("confirm")})]}):(0,j.jsxs)(j.Fragment,{children:[null===K||void 0===K?void 0:K.map((function(e,n){return(null===K||void 0===K?void 0:K.length)===n+1?(0,j.jsx)("div",{ref:V,children:(0,j.jsx)(sn.Z,{setViewClass:g,classData:e,setAllotC:C},n)}):(0,j.jsx)(sn.Z,{setViewClass:g,classData:e,setAllotC:C},n)})),te&&(0,j.jsx)(O.Z,{})]}),S&&(0,j.jsx)(B.Z,{})]})})};var cn=function(e){var n=e.carryParentState,i=e.applicationId,l=e.applicationDetail,o=e.accessRole,s=e.accessTpye,d=e.instituteId,c=e.callApi,r=e.applicationDetailApplicablePending,u=e.pageOpenAs,v=(0,_.$G)().t,p=(0,t.useState)(!0),f=(0,a.Z)(p,2),h=f[0],g=f[1],x=(0,t.useState)(1),Z=(0,a.Z)(x,2),S=Z[0],b=Z[1],N=(0,t.useState)(""),A=(0,a.Z)(N,2),y=A[0],I=A[1],E=(0,w.YD)(),P=(0,a.Z)(E,2),T=P[0],R=P[1],k=(0,t.useState)([]),M=(0,a.Z)(k,2),L=M[0],F=M[1],U=(0,t.useState)(!1),B=(0,a.Z)(U,2),q=B[0],G=B[1],H=(0,t.useState)(!0),V=(0,a.Z)(H,2),W=V[0],J=V[1],$=(0,t.useState)(""),Y=(0,a.Z)($,2),z=Y[0],Q=Y[1],X=(0,t.useState)(""),K=(0,a.Z)(X,2),ee=K[0],ie=K[1],te=(0,t.useState)(""),le=(0,a.Z)(te,2),oe=le[0],ae=le[1],se=(0,m.RR)({data:{id:i,page:S,limit:10,search:y||""},skip:!i}),de=se.getAllConfirmList,ce=se.getAllConfirmListRefetch,re=(0,ne.u)().scrollToTop;(0,t.useEffect)((function(){re()}),[]),(0,t.useEffect)((function(){R&&h&&b((function(e){return e+1}))}),[R,h]),(0,t.useEffect)((function(){i&&(J(!0),ce())}),[S,i,ce,y]),(0,t.useEffect)((function(){var e,n;y?(F(null===de||void 0===de?void 0:de.confirm),J(!1)):q?(F(null===de||void 0===de?void 0:de.confirm),G(!1),J(!1)):null!==de&&void 0!==de&&de.confirm?(F((function(e){var n,i;return null===(n=(0,D.Z)(new Set(null===(i=[].concat((0,D.Z)(e),(0,D.Z)(null===de||void 0===de?void 0:de.confirm)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),J(!1)):0===(null===de||void 0===de||null===(n=de.confirm)||void 0===n?void 0:n.length)&&J(!1);10===(null===de||void 0===de||null===(e=de.confirm)||void 0===e?void 0:e.length)?g(!0):g(!1)}),[null===de||void 0===de?void 0:de.confirm]);var ue=function(){b(1),ce(),G(!0)},ve=(0,t.useCallback)((0,Te.debounce)((function(e){return I(e)}),500),[]),pe=function(e){ie(e),Q("CANCEL_APPLICANT")},_e=function(e){ie(e),Q("ALLOT_BATCH")};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Fe,{applicationDetail:l,carryParentState:n,instituteId:d,tabStatusFlow:"Confirm_Query",applicationDetailApplicablePending:r,onRefetchConfirmTab:ue,pageOpenAs:u,s:!0,children:(0,j.jsx)("input",{type:"text",placeholder:"Search applicants...",onChange:function(e){ve(e.target.value)}})}),(0,j.jsx)(Be,{carryParentState:n,accessRole:o,accessTpye:s,pageOpenAs:u}),(0,j.jsx)("div",{className:me.Z.end_btn,children:"INSTITUTE"===u?(0,j.jsx)(C,{carryParentState:n,activeTab:"?a=ongoing&n=mulitple",children:(0,j.jsx)("p",{className:me.Z.mulitple_select_btn,children:v("multiple_select")})}):(0,j.jsx)(ye,{carryParentState:n,accessRole:o,accessTpye:s,activeTab:"ongoing&n=mulitple",callApi:c,children:(0,j.jsx)("p",{className:me.Z.mulitple_select_btn,children:v("multiple_select")})})}),null===L||void 0===L?void 0:L.map((function(e,n){return(null===L||void 0===L?void 0:L.length)===n+1?(0,j.jsx)("div",{ref:T,children:(0,j.jsx)(ln,{applicant:e,onCancelAdmission:pe,onAllotApplicantBatch:_e,instituteId:d})},n):(0,j.jsx)(ln,{applicant:e,onCancelAdmission:pe,onAllotApplicantBatch:_e,instituteId:d},n)})),W&&(0,j.jsx)(O.Z,{}),"CANCEL_APPLICANT"===z&&(0,j.jsx)(on,{onClose:function(){return Q("")},currentApplicant:ee,onRefetchWhenAction:ue,applicationId:null===l||void 0===l?void 0:l._id}),"ALLOT_BATCH"===z&&(0,j.jsx)(an,{onClose:function(){return Q("")},applicationId:null===l||void 0===l?void 0:l._id,onAllotApplicantClasses:function(e){ae(e),Q("ALLOT_CLASSES")}}),"ALLOT_CLASSES"===z&&(0,j.jsx)(dn,{onClose:function(){return Q("")},currentApplicant:ee,onRefetchWhenAction:ue,applicationId:null===l||void 0===l?void 0:l._id,batchId:oe})]})},rn=function(e){var n,l,o,s,d,c,r,u,v,_,f,h,g,Z,S,b,N,A,y,C,I,E,P,T,R,k,D,w,O,M=e.applicant,L=(0,x.UO)(),F=(0,x.s0)(),U=(0,t.useState)(""),q=(0,a.Z)(U,2),G=q[0],H=q[1],V=(0,t.useState)(!1),W=(0,a.Z)(V,2),J=W[0],$=W[1],Y=(0,t.useState)(""),z=(0,a.Z)(Y,2),Q=z[0],X=z[1],K=(0,m.$d)({rid:G,skip:!G}),ee=K.getFeeReceiptDetail,ne=K.getFeeReceiptDetailRefetch;(0,t.useEffect)((function(){G&&ne()}),[G,ne]),(0,t.useEffect)((function(){null!==ee&&void 0!==ee&&ee.receipt&&null!==ee&&void 0!==ee&&ee.all_remain&&X(ee)}),[ee]),(0,t.useEffect)((function(){if(Q){var e=(0,tn.Hs)(null===Q||void 0===Q?void 0:Q.all_remain,null===Q||void 0===Q?void 0:Q.receipt),n=e.institute,t=e.studentInfo,l=e.paymentReceiptInfo,o=new Worker(new URL(i.p+i.u(4473),i.b));o.postMessage({institute:n,studentInfo:t,paymentReceiptInfo:l,printReceiptType:"Refunded"===(null===l||void 0===l?void 0:l.transactonRefund)?"ADMISSION_REFUND":"ADMISSION"}),o.onmessage=function(e){e&&(window.open(e.data,"_blank"),$((function(e){return!e})),X(""),o.terminate())}}}),[Q]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:me.Z.applicant_card_container,onClick:function(){var e;F("/q/".concat(L.username,"/student/profile"),{state:{sid:null===M||void 0===M||null===(e=M.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,j.jsxs)("div",{className:me.Z.applicant_card_inner,children:[(0,j.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===M||void 0===M||null===(n=M.student)||void 0===n?void 0:n.photoId)?"".concat(p.yI,"/").concat(null===M||void 0===M||null===(l=M.student)||void 0===l?void 0:l.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,j.jsxs)("div",{className:me.Z.applicant_card_inner_info,children:[(0,j.jsx)("h6",{children:"".concat(null===M||void 0===M||null===(o=M.student)||void 0===o?void 0:o.studentFirstName," ").concat(null!==M&&void 0!==M&&null!==(s=M.student)&&void 0!==s&&s.studentMiddleName?null===M||void 0===M||null===(d=M.student)||void 0===d?void 0:d.studentMiddleName:""," ").concat(null===M||void 0===M||null===(c=M.student)||void 0===c?void 0:c.studentLastName)}),(0,j.jsx)("p",{children:(null===M||void 0===M?void 0:M.alloted_class)||""})]})]}),(0,j.jsxs)("div",{className:me.Z.applicant_card_contact,children:[(0,j.jsxs)("div",{className:me.Z.applicant_card_contact_inner,children:[(0,j.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,j.jsx)("p",{children:null===M||void 0===M||null===(r=M.student)||void 0===r?void 0:r.studentGender})]}),((null===M||void 0===M||null===(u=M.student)||void 0===u?void 0:u.studentPhoneNumber)||(null===M||void 0===M||null===(v=M.student)||void 0===v||null===(_=v.user)||void 0===_?void 0:_.userPhoneNumber)||(null===M||void 0===M||null===(f=M.student)||void 0===f||null===(h=f.user)||void 0===h?void 0:h.userEmail)||(null===M||void 0===M||null===(g=M.student)||void 0===g?void 0:g.studentParentsPhoneNumber))&&(0,j.jsxs)("div",{className:me.Z.applicant_card_contact_inner,children:[(0,j.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,j.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==M&&void 0!==M&&null!==(Z=M.student)&&void 0!==Z&&null!==(S=Z.user)&&void 0!==S&&S.userPhoneNumber?null===M||void 0===M||null===(b=M.student)||void 0===b||null===(N=b.user)||void 0===N?void 0:N.userPhoneNumber:null!==M&&void 0!==M&&null!==(A=M.student)&&void 0!==A&&null!==(y=A.user)&&void 0!==y&&y.userEmail?null===M||void 0===M||null===(C=M.student)||void 0===C||null===(I=C.user)||void 0===I?void 0:I.userEmail:null!==M&&void 0!==M&&null!==(E=M.student)&&void 0!==E&&E.studentPhoneNumber?null===M||void 0===M||null===(P=M.student)||void 0===P?void 0:P.studentPhoneNumber:null===M||void 0===M||null===(T=M.student)||void 0===T?void 0:T.studentParentsPhoneNumber})]})]}),(0,j.jsx)("div",{className:me.Z.applicant_card_reciept,onClick:function(e){e.stopPropagation()},children:(0,j.jsx)("a",{href:"".concat(p.r3,"/").concat(null===M||void 0===M||null===(R=M.student)||void 0===R||null===(k=R.application_print)||void 0===k||null===(D=k[0])||void 0===D?void 0:D.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,j.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,j.jsx)("div",{className:me.Z.applicant_card_reciept,children:null===M||void 0===M||null===(w=M.student)||void 0===w||null===(O=w.fee_receipt)||void 0===O?void 0:O.map((function(e,n){return n>2?"":(0,j.jsx)("img",{src:"/images/member_tab/admission/admission-receipt-download.svg",onClick:function(n){return function(e,n){e.stopPropagation(),$((function(e){return!e})),H(n),G===n&&X(ee)}(n,e)},alt:"receipt icon",title:"Download Fees Receipt"},e)}))})]}),J&&(0,j.jsx)(B.Z,{})]})},un=function(e){var n=e.carryParentState,i=e.applicationId,l=e.applicationDetail,o=e.viewAs,s=e.accessRole,d=e.accessTpye,c=e.instituteId,r=e.applicationDetailApplicablePending,u=e.pageOpenAs,v=(0,t.useState)(!0),p=(0,a.Z)(v,2),_=p[0],f=p[1],h=(0,t.useState)(1),g=(0,a.Z)(h,2),x=g[0],Z=g[1],S=(0,w.YD)(),b=(0,a.Z)(S,2),N=b[0],A=b[1],y=(0,t.useState)([]),C=(0,a.Z)(y,2),I=C[0],E=C[1],P=(0,t.useState)(!0),T=(0,a.Z)(P,2),R=T[0],k=T[1],M=(0,t.useState)(""),L=(0,a.Z)(M,2),F=L[0],U=L[1],B=(0,m.k8)({data:{aid:i,page:x,limit:10,search:F||""},skip:!i}),q=B.admissionAllottedList,G=B.admissionAllottedListRefetch,H=(0,ne.u)().scrollToTop;(0,t.useEffect)((function(){H()}),[]),(0,t.useEffect)((function(){A&&_&&Z((function(e){return e+1}))}),[A,_]),(0,t.useEffect)((function(){i&&(k(!0),G())}),[x,i,G,F]),(0,t.useEffect)((function(){var e,n;F?(E(null===q||void 0===q?void 0:q.allot),k(!1)):null!==q&&void 0!==q&&q.allot?(E((function(e){var n,i;return null===(n=(0,D.Z)(new Set(null===(i=[].concat((0,D.Z)(e),(0,D.Z)(null===q||void 0===q?void 0:q.allot)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),k(!1)):0===(null===q||void 0===q||null===(n=q.allot)||void 0===n?void 0:n.length)&&k(!1);10===(null===q||void 0===q||null===(e=q.allot)||void 0===e?void 0:e.length)?f(!0):f(!1)}),[null===q||void 0===q?void 0:q.allot]);var V=(0,t.useCallback)((0,Te.debounce)((function(e){return U(e)}),500),[]);return(0,j.jsxs)(j.Fragment,{children:["COMPLETED_APPLICATION"===o?"":(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Fe,{applicationDetail:l,carryParentState:n,instituteId:c,tabStatusFlow:"Allot_Query",applicationDetailApplicablePending:r,pageOpenAs:u,children:(0,j.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:function(e){V(e.target.value)}})}),(0,j.jsx)(Be,{carryParentState:n,accessRole:s,accessTpye:d,pageOpenAs:u})]}),null===I||void 0===I?void 0:I.map((function(e,n){return(null===I||void 0===I?void 0:I.length)===n+1?(0,j.jsx)("div",{ref:N,children:(0,j.jsx)(rn,{applicant:e})},n):(0,j.jsx)(rn,{applicant:e},n)})),R&&(0,j.jsx)(O.Z,{})]})},vn=function(e){var n,l,o,s,d,c,r,u,v,_,f,h,g,Z,S,b,N,A,y,C,I,E,P,T,R,k,D,w,O,M=e.applicant,L=(0,x.UO)(),F=(0,x.s0)(),U=(0,t.useState)(""),q=(0,a.Z)(U,2),G=q[0],H=q[1],V=(0,t.useState)(!1),W=(0,a.Z)(V,2),J=W[0],$=W[1],Y=(0,t.useState)(""),z=(0,a.Z)(Y,2),Q=z[0],X=z[1],K=(0,m.$d)({rid:G,skip:!G}),ee=K.getFeeReceiptDetail,ne=K.getFeeReceiptDetailRefetch;(0,t.useEffect)((function(){G&&ne()}),[G,ne]),(0,t.useEffect)((function(){null!==ee&&void 0!==ee&&ee.receipt&&null!==ee&&void 0!==ee&&ee.all_remain&&X(ee)}),[ee]),(0,t.useEffect)((function(){if(Q){var e=(0,tn.Hs)(null===Q||void 0===Q?void 0:Q.all_remain,null===Q||void 0===Q?void 0:Q.receipt),n=e.institute,t=e.studentInfo,l=e.paymentReceiptInfo,o=new Worker(new URL(i.p+i.u(4942),i.b));o.postMessage({institute:n,studentInfo:t,paymentReceiptInfo:l,printReceiptType:"Refunded"===(null===l||void 0===l?void 0:l.transactonRefund)?"ADMISSION_REFUND":"ADMISSION"}),o.onmessage=function(e){e&&(window.open(e.data,"_blank"),$((function(e){return!e})),X(""),o.terminate())}}}),[Q]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:me.Z.applicant_card_container,onClick:function(){var e;F("/q/".concat(L.username,"/student/profile"),{state:{sid:null===M||void 0===M||null===(e=M.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,j.jsxs)("div",{className:me.Z.applicant_card_inner,children:[(0,j.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===M||void 0===M||null===(n=M.student)||void 0===n?void 0:n.photoId)?"".concat(p.yI,"/").concat(null===M||void 0===M||null===(l=M.student)||void 0===l?void 0:l.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,j.jsxs)("div",{className:me.Z.applicant_card_inner_info,children:[(0,j.jsx)("h6",{children:"".concat(null===M||void 0===M||null===(o=M.student)||void 0===o?void 0:o.studentFirstName," ").concat(null!==M&&void 0!==M&&null!==(s=M.student)&&void 0!==s&&s.studentMiddleName?null===M||void 0===M||null===(d=M.student)||void 0===d?void 0:d.studentMiddleName:""," ").concat(null===M||void 0===M||null===(c=M.student)||void 0===c?void 0:c.studentLastName)}),(0,j.jsxs)("p",{children:["Rs. ",null===M||void 0===M?void 0:M.refund_amount," ","Refund"===(null===M||void 0===M?void 0:M.payment_status)&&"Refunded"]})]})]}),(0,j.jsxs)("div",{className:me.Z.applicant_card_contact,children:[(0,j.jsxs)("div",{className:me.Z.applicant_card_contact_inner,children:[(0,j.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,j.jsx)("p",{children:null===M||void 0===M||null===(r=M.student)||void 0===r?void 0:r.studentGender})]}),((null===M||void 0===M||null===(u=M.student)||void 0===u?void 0:u.studentPhoneNumber)||(null===M||void 0===M||null===(v=M.student)||void 0===v||null===(_=v.user)||void 0===_?void 0:_.userPhoneNumber)||(null===M||void 0===M||null===(f=M.student)||void 0===f||null===(h=f.user)||void 0===h?void 0:h.userEmail)||(null===M||void 0===M||null===(g=M.student)||void 0===g?void 0:g.studentParentsPhoneNumber))&&(0,j.jsxs)("div",{className:me.Z.applicant_card_contact_inner,children:[(0,j.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,j.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==M&&void 0!==M&&null!==(Z=M.student)&&void 0!==Z&&null!==(S=Z.user)&&void 0!==S&&S.userPhoneNumber?null===M||void 0===M||null===(b=M.student)||void 0===b||null===(N=b.user)||void 0===N?void 0:N.userPhoneNumber:null!==M&&void 0!==M&&null!==(A=M.student)&&void 0!==A&&null!==(y=A.user)&&void 0!==y&&y.userEmail?null===M||void 0===M||null===(C=M.student)||void 0===C||null===(I=C.user)||void 0===I?void 0:I.userEmail:null!==M&&void 0!==M&&null!==(E=M.student)&&void 0!==E&&E.studentPhoneNumber?null===M||void 0===M||null===(P=M.student)||void 0===P?void 0:P.studentPhoneNumber:null===M||void 0===M||null===(T=M.student)||void 0===T?void 0:T.studentParentsPhoneNumber})]})]}),(0,j.jsx)("div",{className:me.Z.applicant_card_reciept,onClick:function(e){e.stopPropagation()},children:(0,j.jsx)("a",{href:"".concat(p.r3,"/").concat(null===M||void 0===M||null===(R=M.student)||void 0===R||null===(k=R.application_print)||void 0===k||null===(D=k[0])||void 0===D?void 0:D.value),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,j.jsx)("img",{src:"/images/member_tab/admission/admission-form-download.svg",alt:"receipt icon",title:"View Application Form"})})}),(0,j.jsx)("div",{className:me.Z.applicant_card_reciept,children:null===M||void 0===M||null===(w=M.student)||void 0===w||null===(O=w.fee_receipt)||void 0===O?void 0:O.map((function(e,n){return n>2?"":(0,j.jsx)("img",{src:"/images/member_tab/admission/admission-receipt-download.svg",onClick:function(n){return function(e,n){e.stopPropagation(),$((function(e){return!e})),H(n),G===n&&X(ee)}(n,e)},alt:"receipt icon",title:"Download Fees Receipt"},e)}))})]}),J&&(0,j.jsx)(B.Z,{})]})},mn=function(e){var n=e.carryParentState,i=e.applicationId,l=e.applicationDetail,o=e.viewAs,s=e.accessRole,d=e.accessTpye,c=e.instituteId,r=e.applicationDetailApplicablePending,u=e.pageOpenAs,v=(0,t.useState)(!0),p=(0,a.Z)(v,2),_=p[0],f=p[1],h=(0,t.useState)(1),g=(0,a.Z)(h,2),x=g[0],Z=g[1],S=(0,w.YD)(),b=(0,a.Z)(S,2),N=b[0],A=b[1],y=(0,t.useState)([]),C=(0,a.Z)(y,2),I=C[0],E=C[1],P=(0,t.useState)(""),T=(0,a.Z)(P,2),R=T[0],k=T[1],M=(0,t.useState)(!0),L=(0,a.Z)(M,2),F=L[0],U=L[1],B=(0,m.wd)({data:{aid:i,page:x,limit:10,search:R||""},skip:!i}),q=B.admissionCancelledList,G=B.admissionCancelledListRefetch,H=(0,ne.u)().scrollToTop;(0,t.useEffect)((function(){H()}),[]),(0,t.useEffect)((function(){A&&_&&Z((function(e){return e+1}))}),[A,_]),(0,t.useEffect)((function(){i&&(U(!0),G())}),[x,i,G]),(0,t.useEffect)((function(){var e,n;R?(E(null===q||void 0===q?void 0:q.cancel),U(!1)):null!==q&&void 0!==q&&q.cancel?(E((function(e){var n,i;return null===(n=(0,D.Z)(new Set(null===(i=[].concat((0,D.Z)(e),(0,D.Z)(null===q||void 0===q?void 0:q.cancel)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),U(!1)):0===(null===q||void 0===q||null===(n=q.cancel)||void 0===n?void 0:n.length)&&U(!1);10===(null===q||void 0===q||null===(e=q.cancel)||void 0===e?void 0:e.length)?f(!0):f(!1)}),[null===q||void 0===q?void 0:q.cancel]);var V=(0,t.useCallback)((0,Te.debounce)((function(e){return k(e)}),500),[]);return(0,j.jsxs)(j.Fragment,{children:["COMPLETED_APPLICATION"===o?"":(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Fe,{applicationDetail:l,carryParentState:n,instituteId:c,applicationDetailApplicablePending:r,pageOpenAs:u,children:(0,j.jsx)("input",{type:"text",placeholder:"Search requests...",onChange:function(e){V(e.target.value)}})}),(0,j.jsx)(Be,{carryParentState:n,accessRole:s,accessTpye:d,pageOpenAs:u})]}),null===I||void 0===I?void 0:I.map((function(e,n){return(null===I||void 0===I?void 0:I.length)===n+1?(0,j.jsx)("div",{ref:N,children:(0,j.jsx)(vn,{applicant:e})},n):(0,j.jsx)(vn,{applicant:e},n)})),F&&(0,j.jsx)(O.Z,{})]})},pn=function(e){var n,i,t,l,o,a,s,d,c,r,u,v,m,_,f,h,g,Z,S,b,N,A,y,C,I,E=e.applicant,P=e.selectedApplicant,T=e.onSelectOne,R=(0,x.UO)(),k=(0,x.s0)();return(0,j.jsxs)("div",{className:me.Z.applicant_card_container,onClick:function(){var e;k("/q/".concat(R.username,"/student/profile"),{state:{sid:null===E||void 0===E||null===(e=E.student)||void 0===e?void 0:e._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,j.jsxs)("div",{className:me.Z.applicant_card_inner,children:[(0,j.jsx)("img",{alt:"Student Request Avatar",src:"1"!==(null===E||void 0===E||null===(n=E.student)||void 0===n?void 0:n.photoId)?"".concat(p.yI,"/").concat(null===E||void 0===E||null===(i=E.student)||void 0===i?void 0:i.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,j.jsxs)("div",{className:me.Z.applicant_card_inner_info,children:[(0,j.jsx)("h6",{children:"".concat(null===E||void 0===E||null===(t=E.student)||void 0===t?void 0:t.studentFirstName," ").concat(null!==E&&void 0!==E&&null!==(l=E.student)&&void 0!==l&&l.studentMiddleName?null===E||void 0===E||null===(o=E.student)||void 0===o?void 0:o.studentMiddleName:""," ").concat(null===E||void 0===E||null===(a=E.student)||void 0===a?void 0:a.studentLastName)}),(0,j.jsx)("p",{children:null===E||void 0===E?void 0:E.install_type})]})]}),(0,j.jsxs)("div",{className:me.Z.applicant_card_contact,children:[(0,j.jsxs)("div",{className:me.Z.applicant_card_contact_inner,children:[(0,j.jsx)("img",{src:"/images/admidion_department/gender.svg",alt:""}),(0,j.jsx)("p",{children:null===E||void 0===E||null===(s=E.student)||void 0===s?void 0:s.studentGender})]}),((null===E||void 0===E||null===(d=E.student)||void 0===d?void 0:d.studentPhoneNumber)||(null===E||void 0===E||null===(c=E.student)||void 0===c||null===(r=c.user)||void 0===r?void 0:r.userPhoneNumber)||(null===E||void 0===E||null===(u=E.student)||void 0===u||null===(v=u.user)||void 0===v?void 0:v.userEmail)||(null===E||void 0===E||null===(m=E.student)||void 0===m?void 0:m.studentParentsPhoneNumber))&&(0,j.jsxs)("div",{className:me.Z.applicant_card_contact_inner,children:[(0,j.jsx)("img",{src:"/images/admidion_department/phone.svg",alt:""}),(0,j.jsx)("p",{style:{marginBottom:"0 !important"},children:null!==E&&void 0!==E&&null!==(_=E.student)&&void 0!==_&&null!==(f=_.user)&&void 0!==f&&f.userPhoneNumber?null===E||void 0===E||null===(h=E.student)||void 0===h||null===(g=h.user)||void 0===g?void 0:g.userPhoneNumber:null!==E&&void 0!==E&&null!==(Z=E.student)&&void 0!==Z&&null!==(S=Z.user)&&void 0!==S&&S.userEmail?null===E||void 0===E||null===(b=E.student)||void 0===b||null===(N=b.user)||void 0===N?void 0:N.userEmail:null!==E&&void 0!==E&&null!==(A=E.student)&&void 0!==A&&A.studentPhoneNumber?null===E||void 0===E||null===(y=E.student)||void 0===y?void 0:y.studentPhoneNumber:null===E||void 0===E||null===(C=E.student)||void 0===C?void 0:C.studentParentsPhoneNumber})]})]}),(0,j.jsx)("div",{className:me.Z.selectBtnContainer,children:(0,j.jsx)("img",{id:"check",className:me.Z.checkbox,src:null!==P&&void 0!==P&&P.includes(null===E||void 0===E||null===(I=E.student)||void 0===I?void 0:I._id)?"/images/checkbox-icon.svg":"/images/box-icon.svg",alt:"select icon",onClick:function(e){var n;e.stopPropagation(),T(null===E||void 0===E||null===(n=E.student)||void 0===n?void 0:n._id)}})})]})},_n=function(e){var n=e.carryParentState,i=e.applicationId,l=e.applicationDetail,o=e.accessRole,s=e.accessTpye,d=e.instituteId,c=e.applicationDetailApplicablePending,r=e.pageOpenAs,u=(0,_.$G)().t,v=(0,t.useState)([]),p=(0,a.Z)(v,2),f=p[0],h=p[1],g=(0,t.useState)(!0),x=(0,a.Z)(g,2),Z=x[0],S=x[1],b=(0,t.useState)([]),N=(0,a.Z)(b,2),A=N[0],y=N[1],C=(0,t.useState)(0),I=(0,a.Z)(C,2),E=I[0],P=I[1],T=(0,t.useState)(""),R=(0,a.Z)(T,2),k=R[0],w=R[1],M=(0,t.useState)(!1),F=(0,a.Z)(M,2),U=F[0],B=F[1],q=(0,t.useState)(""),G=(0,a.Z)(q,2),H=G[0],V=G[1],W=(0,t.useState)(""),J=(0,a.Z)(W,2),$=J[0],Y=J[1],z=(0,m.dk)({data:{id:i,search:H},skip:!i}),Q=z.getAllConfirmListMulitselect,X=z.getAllConfirmListMulitselectRefetch,K=(0,ne.u)().scrollToTop;(0,t.useEffect)((function(){K()}),[]),(0,t.useEffect)((function(){i&&(S(!0),X())}),[i,X,H]),(0,t.useEffect)((function(){var e,n;H?(y(null===Q||void 0===Q?void 0:Q.confirm),S(!1)):null!==Q&&void 0!==Q&&null!==(e=Q.confirm)&&void 0!==e&&e.length?(y(null===Q||void 0===Q?void 0:Q.confirm),S(!1)):0===(null===Q||void 0===Q||null===(n=Q.confirm)||void 0===n?void 0:n.length)&&S(!1)}),[null===Q||void 0===Q?void 0:Q.confirm]);var ee=function(e){null!==f&&void 0!==f&&f.includes(e)?(h((function(n){return null===n||void 0===n?void 0:n.filter((function(n){return n!==e}))})),P((function(e){return--e}))):(h((function(n){return[].concat((0,D.Z)(n),[e])})),P((function(e){return++e}))),B(!1)},ie=(0,t.useCallback)((0,Te.debounce)((function(e){return V(e)}),500),[]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Fe,{applicationDetail:l,carryParentState:n,instituteId:d,applicationDetailApplicablePending:c,pageOpenAs:r,children:(0,j.jsx)("input",{type:"text",placeholder:"Search applicants...",onChange:function(e){ie(e.target.value)}})}),(0,j.jsx)(Be,{carryParentState:n,accessRole:o,accessTpye:s,pageOpenAs:r}),(0,j.jsxs)("div",{className:me.Z.admission_mulit_select,children:[(0,j.jsxs)("p",{children:[E||""," ",u("selected_")]}),(0,j.jsxs)("div",{className:me.Z.admission_mulit_select_right,children:[U?(0,j.jsx)("p",{onClick:function(){h([]),B(!1),P(0)},style:{cursor:"pointer"},children:u("remove_all")}):(0,j.jsx)("p",{onClick:function(){var e,n=[],i=(0,L.Z)(null===Q||void 0===Q?void 0:Q.confirm);try{for(i.s();!(e=i.n()).done;){var t,l=e.value;n.push(null===l||void 0===l||null===(t=l.student)||void 0===t?void 0:t._id)}}catch(o){i.e(o)}finally{i.f()}h(n),P(null===n||void 0===n?void 0:n.length),B(!0)},style:{cursor:"pointer"},children:u("select_all")}),(0,j.jsx)("div",{className:me.Z.selectBtnContainer,style:{width:"auto"},children:(0,j.jsx)("div",{className:me.Z.selectBtn,onClick:function(){null!==f&&void 0!==f&&f.length&&Y("ALLOT_BATCH")},children:u("allot_class")})})]})]}),null===A||void 0===A?void 0:A.map((function(e){var n;return(0,j.jsx)(pn,{applicant:e,onSelectOne:ee,selectedApplicant:f},null===e||void 0===e||null===(n=e.student)||void 0===n?void 0:n._id)})),Z&&(0,j.jsx)(O.Z,{}),"ALLOT_BATCH"===$&&(0,j.jsx)(an,{onClose:function(){return Y("")},applicationId:null===l||void 0===l?void 0:l._id,onAllotApplicantClasses:function(e){w(e),Y("ALLOT_CLASSES")}}),"ALLOT_CLASSES"===$&&(0,j.jsx)(dn,{onClose:function(){return Y("")},currentApplicant:f,onRefetchWhenAction:X,applicationId:null===l||void 0===l?void 0:l._id,batchId:k,openAs:"MULITSELECT"})]})},fn=function(e){var n,i,l,o,a,s,d,c,r,u,v,p,_,f,h,g=e.instituteId,Z=e.carryParentState,S=e.accessRole,b=e.accessTpye,N=e.callApi,A=e.pageOpenAs,y=(0,x.TH)(),C=(0,m.mf)({apid:null===(n=y.state)||void 0===n?void 0:n.applicationId,skip:!(null!==(i=y.state)&&void 0!==i&&i.applicationId)}),I=C.oneApplicationDetail,E=C.oneApplicationDetailRefetch,P=(0,ne.u)().scrollToTop;return(0,t.useEffect)((function(){P()}),[]),(0,t.useEffect)((function(){var e;null!==(e=y.state)&&void 0!==e&&e.applicationId&&E()}),[null===(l=y.state)||void 0===l?void 0:l.applicationId,E]),(0,j.jsxs)(j.Fragment,{children:["application"===(null===(o=y.search)||void 0===o?void 0:o.substring(13))&&(0,j.jsx)(Ve,{applicationId:null===(a=y.state)||void 0===a?void 0:a.applicationId,carryParentState:Z,applicationDetail:null===I||void 0===I?void 0:I.oneApply,accessRole:S,accessTpye:b,instituteId:g,applicationDetailApplicablePending:null===I||void 0===I?void 0:I.applicable_pending,pageOpenAs:A}),"select"===(null===(s=y.search)||void 0===s?void 0:s.substring(13))&&(0,j.jsx)(nn,{applicationId:null===(d=y.state)||void 0===d?void 0:d.applicationId,carryParentState:Z,applicationDetail:null===I||void 0===I?void 0:I.oneApply,accessRole:S,accessTpye:b,instituteId:g,applicationDetailApplicablePending:null===I||void 0===I?void 0:I.applicable_pending,pageOpenAs:A}),"confirm"===(null===(c=y.search)||void 0===c?void 0:c.substring(13))&&(0,j.jsx)(cn,{applicationId:null===(r=y.state)||void 0===r?void 0:r.applicationId,carryParentState:Z,applicationDetail:null===I||void 0===I?void 0:I.oneApply,accessRole:S,accessTpye:b,instituteId:g,callApi:N,applicationDetailApplicablePending:null===I||void 0===I?void 0:I.applicable_pending,pageOpenAs:A}),"mulitple"===(null===(u=y.search)||void 0===u?void 0:u.substring(13))&&(0,j.jsx)(_n,{applicationId:null===(v=y.state)||void 0===v?void 0:v.applicationId,carryParentState:Z,applicationDetail:null===I||void 0===I?void 0:I.oneApply,accessRole:S,accessTpye:b,instituteId:g,applicationDetailApplicablePending:null===I||void 0===I?void 0:I.applicable_pending,pageOpenAs:A}),"allot"===(null===(p=y.search)||void 0===p?void 0:p.substring(13))&&(0,j.jsx)(un,{applicationId:null===(_=y.state)||void 0===_?void 0:_.applicationId,carryParentState:Z,applicationDetail:null===I||void 0===I?void 0:I.oneApply,accessRole:S,accessTpye:b,instituteId:g,applicationDetailApplicablePending:null===I||void 0===I?void 0:I.applicable_pending,pageOpenAs:A}),"cancel"===(null===(f=y.search)||void 0===f?void 0:f.substring(13))&&(0,j.jsx)(mn,{applicationId:null===(h=y.state)||void 0===h?void 0:h.applicationId,carryParentState:Z,applicationDetail:null===I||void 0===I?void 0:I.oneApply,accessRole:S,accessTpye:b,instituteId:g,applicationDetailApplicablePending:null===I||void 0===I?void 0:I.applicable_pending,pageOpenAs:A})]})},hn=function(e){var n,i,t,l=e.admissionId,o=e.instituteId,a=e.carryParentState,s=e.accessRole,d=e.accessApplication,c=e.accessTpye,r=e.callApi,u=e.pageOpenAs,v=(0,_.$G)().t,m=(0,x.s0)(),p=(0,x.UO)(),f=(0,x.TH)();return(0,j.jsxs)("div",{className:me.Z.admission_application_container,children:["ongoing"===(null===(n=f.search)||void 0===n?void 0:n.substring(3))&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:me.Z.with_search,style:{justifyContent:"flex-start",gap:"1rem"},children:[(0,j.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){m("/q/".concat(p.username,"INSTITUTE"===u?"/admission":"/member/admission"),{state:(0,y.Z)({},a)})},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,j.jsx)("h6",{children:v("ongoing_application")})]}),(0,j.jsx)(M.Z,{customStyle:{width:"100%",marginTop:"0.5rem",marginBottom:"0.5rem"}})]}),"ongoing"===(null===(i=f.search)||void 0===i?void 0:i.substring(3))&&(0,j.jsx)(Pe,{admissionId:l,carryParentState:a,accessRole:s,accessTpye:c,accessApplication:d,callApi:r,pageOpenAs:u}),"ongoing&n="===(null===f||void 0===f||null===(t=f.search)||void 0===t?void 0:t.substring(3,13))&&(0,j.jsx)(fn,{instituteId:o,admissionId:l,carryParentState:a,accessRole:s,accessTpye:c,callApi:r,pageOpenAs:u})]})};var gn=function(e){var n,i,t=e.completed,l=e.carryParentState,o=e.accessRole,a=e.accessTpye,s=e.callApi,d=e.pageOpenAs,c=e.setOpenApplicationMenu,r=(0,_.$G)().t,u=function(e){e.preventDefault(),c(null===t||void 0===t?void 0:t._id)};return(0,j.jsx)(j.Fragment,{children:"INSTITUTE"===d?(0,j.jsx)(C,{carryParentState:(0,y.Z)((0,y.Z)({},l),{},{applicationId:null===t||void 0===t?void 0:t._id}),activeTab:"?a=ongoing&n=application",children:(0,j.jsxs)("div",{className:me.Z.ongoing_card,style:{display:"flex",flexDirection:"column",alignItems:"center",marginRight:"1rem"},children:[(0,j.jsxs)("div",{className:me.Z.ongoing_card_inner,children:[(0,j.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,j.jsxs)("div",{className:me.Z.ongoing_card_text,children:[(0,j.jsx)("h6",{children:null===t||void 0===t?void 0:t.applicationName}),(0,j.jsx)("p",{children:null===t||void 0===t||null===(n=t.applicationDepartment)||void 0===n?void 0:n.dName})]})]}),(0,j.jsxs)("div",{className:me.Z.ongoing_card_text,children:[(0,j.jsx)("h6",{children:null===t||void 0===t?void 0:t.allotCount}),(0,j.jsx)("p",{children:r("alloted")})]}),(0,j.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:u,className:me.Z.menu_icon,title:"Menu"})]})}):(0,j.jsx)(ye,{carryParentState:(0,y.Z)((0,y.Z)({},l),{},{applicationId:null===t||void 0===t?void 0:t._id}),activeTab:"ongoing&n=application",accessRole:o,accessTpye:a,callApi:s,children:(0,j.jsxs)("div",{className:me.Z.ongoing_card,children:[(0,j.jsxs)("div",{className:me.Z.ongoing_card_inner,children:[(0,j.jsx)("img",{alt:"Ongoing App",src:"/images/admision-application-icon.svg"}),(0,j.jsxs)("div",{className:me.Z.ongoing_card_text,children:[(0,j.jsx)("h6",{children:null===t||void 0===t?void 0:t.applicationName}),(0,j.jsx)("p",{children:null===t||void 0===t||null===(i=t.applicationDepartment)||void 0===i?void 0:i.dName})]})]}),(0,j.jsxs)("div",{className:me.Z.ongoing_card_text,style:{display:"flex",flexDirection:"column",alignItems:"center",marginRight:"1rem"},children:[(0,j.jsx)("h6",{children:null===t||void 0===t?void 0:t.allotCount}),(0,j.jsx)("p",{children:r("alloted")})]}),(0,j.jsx)("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:u,className:me.Z.menu_icon,title:"Menu"})]})})})},xn=function(e){var n=e.onClose,i=e.onRefetch,l=e.openApplicationMenu,o=(0,t.useState)(!1),s=(0,a.Z)(o,2),d=s[0],c=s[1],r=(0,m.fI)(),u=(0,a.Z)(r,1)[0];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Q.Z,{onClose:n}),(0,j.jsxs)(z.Z,{customStyle:{zIndex:"1200"},children:[(0,j.jsx)("div",{className:X.Z.edit_modal_container,style:{width:"200px"},children:(0,j.jsx)("h6",{className:X.Z.edit,onClick:function(){l&&(c((function(e){return!e})),u({aid:l}).then((function(){i(),c((function(e){return!e})),n()})).catch({}))},children:"Mark as Ongoing"})}),d&&(0,j.jsx)(B.Z,{})]})]})},jn=function(e){var n=e.admissionId,i=e.carryParentState,l=e.accessRole,o=e.accessApplication,s=e.accessTpye,d=e.callApi,c=e.pageOpenAs,r=(0,_.$G)().t,v=(0,x.s0)(),p=(0,u.v9)((function(e){return e.admissionChange})),f=(0,t.useState)(!0),h=(0,a.Z)(f,2),g=h[0],Z=h[1],S=(0,t.useState)(1),b=(0,a.Z)(S,2),N=b[0],A=b[1],y=(0,w.YD)(),C=(0,a.Z)(y,2),I=C[0],E=C[1],P=(0,t.useState)([]),T=(0,a.Z)(P,2),R=T[0],k=T[1],L=(0,t.useState)(!0),F=(0,a.Z)(L,2),U=F[0],B=F[1],q=(0,ne.u)().scrollToTop,G=(0,t.useState)(""),H=(0,a.Z)(G,2),V=H[0],W=H[1],J=(0,t.useState)(!1),$=(0,a.Z)(J,2),Y=$[0],z=$[1],Q=(0,m.XN)({data:{aid:n||(null===p||void 0===p?void 0:p.aid),page:N,limit:10},skip:n?!n:!(null!==p&&void 0!==p&&p.aid)}),X=Q.allCompletedApp,K=Q.allCompletedAppRefetch;(0,t.useEffect)((function(){q()}),[]),(0,t.useEffect)((function(){E&&g&&A((function(e){return e+1}))}),[E,g]),(0,t.useEffect)((function(){(null!==p&&void 0!==p&&p.aid||n)&&(B(!0),K())}),[null===p||void 0===p?void 0:p.aid,n,N,K]),(0,t.useEffect)((function(){var e,n;Y?(k(null===X||void 0===X?void 0:X.completed),B(!1),z(!1)):null!==X&&void 0!==X&&X.completed?(k((function(e){var n,i;return null===(n=(0,D.Z)(new Set(null===(i=[].concat((0,D.Z)(e),(0,D.Z)(null===X||void 0===X?void 0:X.completed)))||void 0===i?void 0:i.map(JSON.stringify))))||void 0===n?void 0:n.map(JSON.parse)})),B(!1)):0===(null===X||void 0===X||null===(n=X.completed)||void 0===n?void 0:n.length)&&B(!1);10===(null===X||void 0===X||null===(e=X.completed)||void 0===e?void 0:e.length)?Z(!0):Z(!1)}),[null===X||void 0===X?void 0:X.completed]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:me.Z.admission_application_container,children:[(0,j.jsxs)("div",{className:me.Z.with_search,style:{justifyContent:"flex-start",gap:"1rem"},children:[(0,j.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){v(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,j.jsx)("h6",{children:r("completed_application")})]}),(0,j.jsx)(M.Z,{customStyle:{width:"100%",marginTop:"0.5rem",marginBottom:"0.5rem"}}),(0,j.jsx)("div",{className:me.Z.remainingFeesBottom,children:(0,j.jsxs)("div",{className:me.Z.itemsContainer,children:[null===R||void 0===R?void 0:R.map((function(e,n){return(null===R||void 0===R?void 0:R.length)===n+1?(0,j.jsx)("div",{ref:I,children:(0,j.jsx)(gn,{completed:e,carryParentState:i,accessRole:l,accessTpye:s,callApi:d,accessApplication:o,pageOpenAs:c,setOpenApplicationMenu:W})},null===e||void 0===e?void 0:e._id):(0,j.jsx)(gn,{completed:e,carryParentState:i,accessRole:l,accessTpye:s,callApi:d,accessApplication:o,pageOpenAs:c,setOpenApplicationMenu:W},null===e||void 0===e?void 0:e._id)})),U&&(0,j.jsx)(O.Z,{status:"white"})]})})]}),V&&(0,j.jsx)(xn,{openApplicationMenu:V,onClose:function(){return W("")},onRefetch:function(){A(1),z(!0),B(!0),K()}})]})},Zn=i(33399),Sn=i(33148),bn=i(72952),Nn=i(45897),An=i(34219),yn=function(e){var n,i,l=e.onClose,o=e.onRefetch,s=e.aid,d=e.instituteId,c=(0,_.$G)().t,r=(0,t.useState)(!1),u=(0,a.Z)(r,2),v=u[0],p=u[1],f=(0,m.Rr)(),h=(0,a.Z)(f,1)[0],g=(0,t.useState)(""),x=(0,a.Z)(g,2),Z=x[0],S=x[1],b=(0,t.useState)([]),N=(0,a.Z)(b,2),A=N[0],C=N[1],I=(0,t.useState)([]),E=(0,a.Z)(I,2),P=E[0],T=E[1],R=(0,t.useState)({alarm_mode:"APP_NOTIFICATION",content:""}),k=(0,a.Z)(R,2),w=k[0],O=k[1],F=(0,t.useState)({depart:"",batch:"",master:[],batch_status:"",all_depart:""}),U=(0,a.Z)(F,2),G=U[0],H=U[1],V=(0,t.useState)([]),W=(0,a.Z)(V,2),J=W[0],$=W[1],Y=(0,t.useState)(!1),z=(0,a.Z)(Y,2),Q=z[0],X=z[1],K=(0,m.Z1)(),ee=(0,a.Z)(K,1)[0],ne=(0,m.nJ)({aid:s,skip:!s}),ie=ne.allDepartmentList,te=ne.allDepartmentListRefetch,le=(0,ae.tx)({data:{id:d,did:G.depart},skip:"All"===G.all_depart||!G.depart}),se=le.allClassMaster,de=le.allClassMasterRefetch,ce=(0,ae._C)({did:G.depart,skip:"All"===G.all_depart||!G.depart}),re=ce.oneDepartment,ue=ce.oneDepartmentRefetch;(0,t.useEffect)((function(){s&&te()}),[s,te]),(0,t.useEffect)((function(){G.depart&&"All"!==G.all_depart&&de()}),[G.depart,de]),(0,t.useEffect)((function(){G.depart&&"All"!==G.all_depart&&ue()}),[G.depart,ue]);var ve=function(e){null!==J&&void 0!==J&&J.includes(e)?$((function(n){return null===n||void 0===n?void 0:n.filter((function(n){return n!==e}))})):$((function(n){return[].concat((0,D.Z)(n),[e])}))};return(0,j.jsxs)(q.Z,{onClose:l,children:[(0,j.jsx)("div",{className:Zn.Z.add_category_modal,style:{width:"30rem",minHeight:"10rem",maxHeight:"35rem",overflowX:"hidden",overflowY:"auto",scrollBehavior:"smooth"},children:"SEND"===Z?(0,j.jsxs)("section",{className:Zn.Z.fee_middle_section_container,style:{marginBottom:"1.2rem"},children:[(0,j.jsx)("h6",{style:{fontSize:"20px",fontWeight:"600"},children:c("Notify_about_Outstanding_Dues")}),(0,j.jsx)(M.Z,{customStyle:{width:"100%",marginTop:"0.7rem",marginBottom:"1rem"}}),(0,j.jsxs)("section",{className:Zn.Z.notify_container,onClick:function(){return O((function(e){return(0,y.Z)((0,y.Z)({},e),{},{alarm_mode:"APP_NOTIFICATION"})}))},children:[(0,j.jsx)("img",{src:"APP_NOTIFICATION"===w.alarm_mode?"/images/department/radio-blue-icon.svg":"/images/department/radio-gray-icon.svg",alt:"icon"}),(0,j.jsxs)("div",{className:Zn.Z.notify_text,children:[(0,j.jsx)("h6",{children:c("Notify_with_In_app_Notification")}),(0,j.jsx)("p",{children:c("Notify_with_In_app_Notification_note")})]})]}),(0,j.jsxs)("section",{className:Zn.Z.notify_container,onClick:function(){return O((function(e){return(0,y.Z)((0,y.Z)({},e),{},{alarm_mode:"EMAIL_NOTIFICATION"})}))},children:[(0,j.jsx)("img",{src:"EMAIL_NOTIFICATION"===w.alarm_mode?"/images/department/radio-blue-icon.svg":"/images/department/radio-gray-icon.svg",alt:"icon"}),(0,j.jsxs)("div",{className:Zn.Z.notify_text,children:[(0,j.jsx)("h6",{children:c("Notify_On_Email_and_SMS")}),(0,j.jsx)("p",{children:c("Notify_On_Email_and_SMS_note")})]})]}),"EMAIL_NOTIFICATION"===w.alarm_mode&&(0,j.jsx)(bn.Z,{labelText:c("email_content"),placeholder:c("email_content_placeholder"),name:"content",value:w.content,type:"text",onChange:function(e){return O((function(n){return(0,y.Z)((0,y.Z)({},n),{},{content:e.target.value})}))}}),(0,j.jsx)("button",{onClick:function(){s&&w.alarm_mode&&(null===J||void 0===J?void 0:J.length)>0&&(p((function(e){return!e})),h({aid:s,alarm_mode:w.alarm_mode,content:w.content,reminderData:(0,y.Z)((0,y.Z)({},G),{},{all_arr:J})}).then((function(){o(),p((function(e){return!e})),l()})).catch({}))},className:Zn.Z.fee_middle_confirm_button,style:{marginTop:"4rem"},children:c("confirm")})]}):"LIST"===Z?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:Sn.Z.select_header,children:[(0,j.jsxs)("h6",{children:[(null===J||void 0===J?void 0:J.length)>0?"".concat(null===J||void 0===J?void 0:J.length," "):"",c("select_student")]}),(0,j.jsxs)("div",{children:[Q?(0,j.jsx)("button",{className:Sn.Z.select_all_btn,title:"Remove All Student",onClick:function(){$([]),X(!1)},style:{marginRight:"0.7rem"},children:c("remove_all")}):(0,j.jsx)("button",{className:Sn.Z.select_all_btn,title:"Select All Student",onClick:function(){var e,n=[],i=(0,L.Z)(A);try{for(i.s();!(e=i.n()).done;){var t=e.value;n.push(null===t||void 0===t?void 0:t._id)}}catch(l){i.e(l)}finally{i.f()}$(n),X(!0)},style:{marginRight:"0.7rem"},children:c("select_all")}),(0,j.jsx)("button",{className:Sn.Z.promote_all_btn,onClick:function(){return(null===J||void 0===J?void 0:J.length)>0?S("SEND"):null},children:c("next")})]})]}),(0,j.jsx)(M.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),(0,j.jsx)("section",{className:Zn.Z.search_container,children:(0,j.jsxs)("div",{className:Zn.Z.search_container_text,children:[(0,j.jsx)("img",{className:Zn.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),(0,j.jsx)("input",{type:"text",placeholder:c("search-label"),onChange:function(e){if(e.target.value){var n=Cn(P,e.target.value);C((function(){return n}))}else C((function(){return P}))}})]})}),(null===A||void 0===A?void 0:A.length)<1&&(0,j.jsx)(An.Z,{customStyleContainer:{marginTop:"9rem"},title:"No student found."}),null===A||void 0===A?void 0:A.map((function(e,n){return(0,j.jsx)(Nn.Z,{stu:e,selectedId:J,onSelectStudent:ve},n)}))]}):(0,j.jsxs)("section",{className:Zn.Z.fee_middle_section_container,style:{marginBottom:"1.2rem"},children:[(0,j.jsx)("h6",{style:{fontSize:"20px",fontWeight:"600"},children:c("apply_filter")}),(0,j.jsx)(M.Z,{customStyle:{width:"100%",marginTop:"0.7rem",marginBottom:"1rem"}}),(0,j.jsx)(oe.Z,{selectLabel:c("select_department"),selectedValue:c("all_select_particular_department"),options:null!==ie&&void 0!==ie&&ie.allDB?["All"].concat((0,D.Z)(null===ie||void 0===ie?void 0:ie.allDB)):["All"],onClick:function(e){H("All"===e?function(e){return(0,y.Z)((0,y.Z)({},e),{},{depart:"",all_depart:"ALL"})}:function(n){return(0,y.Z)((0,y.Z)({},n),{},{depart:e,all_depart:"PARTICULAR"})})}}),(0,j.jsx)(oe.Z,{selectLabel:c("select_batch_optional"),selectedValue:c("select_pref"),options:"ALL"===G.all_depart?["All"]:null!==re&&void 0!==re&&null!==(n=re.department)&&void 0!==n&&n.batches?(0,D.Z)(null===re||void 0===re||null===(i=re.department)||void 0===i?void 0:i.batches):[],onClick:function(e){H("All"===e?function(e){return(0,y.Z)((0,y.Z)({},e),{},{batch:"",batch_status:"ALL_BATCH"})}:function(n){return(0,y.Z)((0,y.Z)({},n),{},{batch:e,batch_status:"PARTICULAR_BATCH"})})}}),"ALL"===G.all_depart?"":(0,j.jsx)(oe.Z,{selectLabel:c("select_standard_year"),selectedValue:c("select_standard_year_placeholder"),options:null!==se&&void 0!==se&&se.classMaster?(0,D.Z)(null===se||void 0===se?void 0:se.classMaster):[],onClick:function(e){H((function(n){return(0,y.Z)((0,y.Z)({},n),{},{master:[e]})}))}}),(0,j.jsx)("button",{onClick:function(){s&&(p((function(e){return!e})),ee({aid:s,pendingData:G}).then((function(e){var n,i;C(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.all_student),T(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.all_student),p((function(e){return!e})),S("LIST")})).catch({}))},className:Zn.Z.fee_middle_confirm_button,style:{marginTop:"4rem"},children:c("next")})]})}),v&&(0,j.jsx)(B.Z,{})]})},Cn=function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((function(n){var i,t,l,o,a,s,d=null!==(i=null!==(t=null!==(l=null===n||void 0===n?void 0:n.studentFirstName)&&void 0!==l?l:" "+(null===n||void 0===n?void 0:n.studentMiddleName))&&void 0!==t?t:" "+(null===n||void 0===n?void 0:n.studentLastName))&&void 0!==i?i:"";return null!==d&&void 0!==d&&null!==(o=d.toLowerCase())&&void 0!==o&&o.includes(null===e||void 0===e?void 0:e.toLowerCase())||null!==n&&void 0!==n&&null!==(a=n.studentGRNO)&&void 0!==a&&null!==(s=a.toLowerCase())&&void 0!==s&&s.includes(null===e||void 0===e?void 0:e.toLowerCase())?n:null}))},In=i(49807),En=i(84959),Pn=function(e){var n=e.aid,i=e.instituteId,l=e.isEnable,o=e.onRefetch,s=e.setApplyFilter,d=e.applyFilter,c=e.isApplicable,r=e.pageOpenAs,u=e.admissionId,v=e.children,p=(0,_.$G)().t,f=(0,t.useState)(!1),h=(0,a.Z)(f,2),g=h[0],Z=h[1],S=(0,t.useState)(!1),N=(0,a.Z)(S,2),A=N[0],C=N[1],I=(0,x.UO)(),E=(0,x.s0)(),P=(0,x.TH)(),T=(0,t.useState)(!1),R=(0,a.Z)(T,2),k=R[0],D=R[1],w=(0,En.FL)(),O=(0,a.Z)(w,1)[0],L=(0,m._g)(),F=(0,a.Z)(L,1)[0];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("section",{className:me.Z.moderator_container_title,children:[(0,j.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){E(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,j.jsxs)("div",{className:me.Z.with_search,children:[(0,j.jsx)("h6",{children:p("admission_remaining_fees")}),(0,j.jsxs)("div",{className:me.Z.search_container_filter,children:[(0,j.jsx)("section",{className:me.Z.search_container,children:(0,j.jsxs)("div",{className:me.Z.search_container_input,children:[(0,j.jsx)("img",{className:me.Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),v]})}),(0,j.jsxs)("div",{className:me.Z.os_filter_container,children:[c?"":(0,j.jsx)("img",{src:"/images/filter-blue-icon.svg",alt:"filter icon",onClick:function(){return C(!0)}}),"INSTITUTE"===r?(0,j.jsx)("label",{htmlFor:"uploadExcel",children:(0,j.jsx)("img",{src:"/images/member_tab/subject/subject-excel-icon.svg",alt:"excel icon",style:{cursor:"pointer",height:"1.5rem"}})}):null,(0,j.jsx)("button",{className:me.Z.os_reminder,onClick:function(){return Z(!0)},disabled:!l,style:{opacity:l?"1":"0.5"},children:p("outstanding_reminder")}),(0,j.jsx)(b.rU,{to:"/q/".concat(I.username,"INSTITUTE"===r?"/admission?a=reminder-message":"/member/admission?a=reminder-message"),state:(0,y.Z)((0,y.Z)({},P.state),{},{instituteId:i}),children:(0,j.jsx)("img",{src:"/images/member_tab/finance/finance-message-log-icon.svg",alt:"receipt icon",title:"View message history",style:{height:"2rem",cursor:"pointer"}})})]})]})]})]}),(0,j.jsx)(M.Z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),g&&(0,j.jsx)(yn,{onClose:function(){return Z(!1)},aid:n,onRefetch:o}),A&&(0,j.jsx)(In.Z,{onClose:function(){return C(!1)},instituteId:i,setApplyFilter:s,applyFilter:d}),(0,j.jsx)("input",{type:"file",id:"uploadExcel",accept:".xlsx",onChange:function(e){var n;if(null!==(n=e.target.files)&&void 0!==n&&n.length&&u){D(!0);var i=new FormData;i.append("file",e.target.files[0]),O({fileUpload:i}).then((function(e){var n,i;null!==(n=e.data)&&void 0!==n&&n.imageKey?F({aid:u,excelFile:{excel_file:null===(i=e.data)||void 0===i?void 0:i.imageKey}}).then((function(){D(!1)})).catch({}):D(!1)})).catch({})}},style:{display:"none"}}),k&&(0,j.jsx)(B.Z,{})]})},Tn=function(e){var n,i=e.carryParentState,t=e.pageOpenAs,l=(0,_.$G)().t,o=(0,x.TH)(),a=[{name:l("os_fees"),id:0,url:"member/admission?a=pending"},{name:l("applicable_os"),id:1,url:"member/admission?a=pending&applicable"}],s=[{name:l("os_fees"),id:0,url:"admission?a=pending"},{name:l("applicable_os"),id:1,url:"admission?a=pending&applicable"}];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Ue.Z,{tabList:"INSTITUTE"===t?s:a,activeIndexTab:"pending"===(null===(n=o.search)||void 0===n?void 0:n.substring(3))?0:1,showAs:!0,customStyleTab:{width:"100%"},customStyleLink:{width:"50%"},carryParentState:i}),(0,j.jsx)(M.Z,{customStyle:{width:"100%",marginBottom:"0.5rem"}})]})},Rn=i(85161),kn=function(e){var n,i,t,l=e.remainData,o=e.is_applicable,a=(0,_.$G)().t,s=(0,x.UO)(),d=(0,x.s0)();return(0,j.jsxs)("div",{className:Rn.Z.item,onClick:function(){d("/q/".concat(s.username,"/student/profile/admission"),{state:{sid:null===l||void 0===l?void 0:l._id,viewAs:"ADMISSION_ADMIN"}})},title:"View Profile",children:[(0,j.jsxs)("div",{className:Rn.Z.subItem,children:[(0,j.jsx)("img",{alt:"Student Avatar",src:null!==l&&void 0!==l&&l.studentProfilePhoto?"".concat(p.yI,"/").concat(null===l||void 0===l?void 0:l.studentProfilePhoto):"/images/member_tab/class/default_avatar.svg",loading:"lazy"}),(0,j.jsxs)("div",{className:Rn.Z.text,children:[(0,j.jsx)("h6",{children:"".concat(l.studentFirstName," ").concat(l.studentMiddleName?l.studentMiddleName:""," ").concat(l.studentLastName)}),(0,j.jsxs)("p",{children:[a("gr_number"),null!==(n=null===l||void 0===l?void 0:l.studentGRNO)&&void 0!==n?n:""," ",", ",null!==(i=null===l||void 0===l||null===(t=l.department)||void 0===t?void 0:t.dName)&&void 0!==i?i:""]})]})]}),(0,j.jsxs)("div",{className:Rn.Z.text,children:[o?(0,j.jsxs)("h6",{children:["Rs. ",null===l||void 0===l?void 0:l.applicable_fees_pending]}):(0,j.jsxs)("h6",{children:["Rs. ",null===l||void 0===l?void 0:l.admissionRemainFeeCount]}),(0,j.jsx)("p",{children:a("pending_fees")})]})]})},Dn=function(e){var n=e.isEnable,i=e.instituteId,l=e.onRefetch,o=e.carryParentState,s=e.pageOpenAs,d=e.admissionId,c=(0,_.$G)().t,r=(0,u.v9)((function(e){return e.admissionChange})),v=(0,t.useState)(!0),p=(0,a.Z)(v,2),f=p[0],h=p[1],g=(0,t.useState)(""),x=(0,a.Z)(g,2),Z=x[0],S=x[1],b=(0,t.useState)(1),N=(0,a.Z)(b,2),A=N[0],y=N[1],C=(0,w.YD)(),I=(0,a.Z)(C,2),E=I[0],P=I[1],T=(0,t.useState)([]),R=(0,a.Z)(T,2),k=R[0],M=R[1],L=(0,t.useState)(!0),F=(0,a.Z)(L,2),U=F[0],B=F[1],q=(0,ne.u)().scrollToTop,G=(0,m.ck)({data:{aid:null!==r&&void 0!==r&&r.aid?null===r||void 0===r?void 0:r.aid:d,page:A,limit:10,search:Z,flow:"Applicable_Fees_Query"},skip:null!==r&&void 0!==r&&r.aid?!(null!==r&&void 0!==r&&r.aid):!d}),H=G.allRemainingList,V=G.allRemainingListRefetch;(0,t.useEffect)((function(){P&&f&&y((function(e){return e+1}))}),[P,f]),(0,t.useEffect)((function(){(null!==r&&void 0!==r&&r.aid||d)&&(B(!0),V())}),[A,null===r||void 0===r?void 0:r.aid,d,Z,V]),(0,t.useEffect)((function(){var e,n;Z?(M(null===H||void 0===H?void 0:H.remain),B(!1)):null!==H&&void 0!==H&&H.remain?(M(1===A?null===H||void 0===H?void 0:H.remain:function(e){return(0,D.Z)(new Set([].concat((0,D.Z)(e),(0,D.Z)(null===H||void 0===H?void 0:H.remain)).map(JSON.stringify))).map(JSON.parse)}),B(!1)):0===(null===H||void 0===H||null===(n=H.remain)||void 0===n?void 0:n.length)&&B(!1);10===(null===H||void 0===H||null===(e=H.remain)||void 0===e?void 0:e.length)?h(!0):h(!1)}),[null===H||void 0===H?void 0:H.remain]);var W=(0,t.useCallback)((0,Te.debounce)((function(e){return S(e)}),500),[]);return(0,t.useEffect)((function(){q()}),[q]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Pn,{aid:null!==r&&void 0!==r&&r.aid?null===r||void 0===r?void 0:r.aid:d,isEnable:n,onRefetch:l,instituteId:i,isApplicable:!0,pageOpenAs:s,admissionId:null!==r&&void 0!==r&&r.aid?null===r||void 0===r?void 0:r.aid:d,children:(0,j.jsx)("input",{type:"text",placeholder:c("search-label"),onChange:function(e){W(e.target.value),e.target.value||(y(1),V(),B(!0))}})}),(0,j.jsx)(Tn,{carryParentState:o,pageOpenAs:s}),null===k||void 0===k?void 0:k.map((function(e,n){return(null===k||void 0===k?void 0:k.length)===n+1?(0,j.jsx)("div",{ref:E,children:(0,j.jsx)(kn,{remainData:e,is_applicable:!0})},n):(0,j.jsx)(kn,{remainData:e,is_applicable:!0},n)})),U&&(0,j.jsx)(O.Z,{status:"white"})]})},wn=function(e){var n,i=e.isEnable,l=e.instituteId,o=e.onRefetch,s=e.carryParentState,d=e.pageOpenAs,c=e.admissionId,r=(0,_.$G)().t,v=(0,u.v9)((function(e){return e.admissionChange})),p=(0,t.useState)(!0),f=(0,a.Z)(p,2),h=f[0],g=f[1],x=(0,t.useState)(""),Z=(0,a.Z)(x,2),S=Z[0],b=Z[1],N=(0,t.useState)(1),A=(0,a.Z)(N,2),C=A[0],I=A[1],E=(0,w.YD)(),P=(0,a.Z)(E,2),T=P[0],R=P[1],k=(0,t.useState)([]),M=(0,a.Z)(k,2),L=M[0],F=M[1],U=(0,t.useState)(!0),B=(0,a.Z)(U,2),q=B[0],G=B[1],H=(0,t.useState)({depart_arr:[],batch_arr:[],master_arr:[],gender:"",cast_category:"",filter_by:""}),V=(0,a.Z)(H,2),W=V[0],J=V[1],$=(0,t.useState)(!1),Y=(0,a.Z)($,2),z=Y[0],Q=Y[1],X=(0,ne.u)().scrollToTop,K=(0,m.aG)(),ee=(0,a.Z)(K,1)[0],ie=(0,m.lR)({data:{aid:null!==v&&void 0!==v&&v.aid?null===v||void 0===v?void 0:v.aid:c,flow:"Admission_Filter"},skip:null!==v&&void 0!==v&&v.aid?!(null!==v&&void 0!==v&&v.aid):!c}),te=ie.getPendingCustomFilterByAdmission,le=ie.getPendingCustomFilterByAdmissionRefetch;(0,t.useEffect)((function(){(null!==v&&void 0!==v&&v.aid||c)&&le()}),[null===v||void 0===v?void 0:v.aid,c,le]);var oe=(0,t.useCallback)((function(){z&&ee({aid:null!==v&&void 0!==v&&v.aid?null===v||void 0===v?void 0:v.aid:c,page:C,limit:10,search:S,flow:"All_Pending_Fees_Query",filter_by:W.filter_by,filterData:(0,y.Z)({},W)}).then((function(e){var n;if(null!==(n=e.data)&&void 0!==n&&n.remain){var i,t,l,o,a,s;if(S)F(null===(l=e.data)||void 0===l?void 0:l.remain),G(!1);else if(null!==(o=e.data)&&void 0!==o&&o.remain){var d;if(1===C)F(null===(d=e.data)||void 0===d?void 0:d.remain);else F((function(n){var i;return(0,D.Z)(new Set([].concat((0,D.Z)(n),(0,D.Z)(null===(i=e.data)||void 0===i?void 0:i.remain)).map(JSON.stringify))).map(JSON.parse)}));G(!1)}else 0===(null===(a=e.data)||void 0===a||null===(s=a.remain)||void 0===s?void 0:s.length)&&G(!1);10===(null===(i=e.data)||void 0===i||null===(t=i.remain)||void 0===t?void 0:t.length)?g(!0):g(!1)}})).catch({})}),[S,C,null===v||void 0===v?void 0:v.aid,c,W,z]);(0,t.useEffect)((function(){R&&h&&I((function(e){return e+1}))}),[R,h]),(0,t.useEffect)((function(){(null!==v&&void 0!==v&&v.aid||c)&&(G(!0),oe())}),[C,null===v||void 0===v?void 0:v.aid,c,S,oe]),(0,t.useEffect)((function(){I((function(e){return 1})),G(!0),oe()}),[W,oe]),(0,t.useEffect)((function(){var e;if(null!==te&&void 0!==te&&null!==(e=te.ads_admin)&&void 0!==e&&e.pending_fee_custom_filter){var n,i=null===te||void 0===te||null===(n=te.ads_admin)||void 0===n?void 0:n.pending_fee_custom_filter;J({depart_arr:null===i||void 0===i?void 0:i.department,batch_arr:null===i||void 0===i?void 0:i.batch,master_arr:null===i||void 0===i?void 0:i.master,gender:null===i||void 0===i?void 0:i.gender,cast_category:null===i||void 0===i?void 0:i.cast_category,filter_by:""}),Q(!0)}}),[null===te||void 0===te||null===(n=te.ads_admin)||void 0===n?void 0:n.pending_fee_custom_filter]);var ae=(0,t.useCallback)((0,Te.debounce)((function(e){return b(e)}),500),[]);return(0,t.useEffect)((function(){X()}),[X]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Pn,{aid:null!==v&&void 0!==v&&v.aid?null===v||void 0===v?void 0:v.aid:c,isEnable:i,onRefetch:o,instituteId:l,applyFilter:W,setApplyFilter:J,pageOpenAs:d,admissionId:null!==v&&void 0!==v&&v.aid?null===v||void 0===v?void 0:v.aid:c,children:(0,j.jsx)("input",{type:"text",placeholder:r("search-label"),onChange:function(e){ae(e.target.value),e.target.value||(I(1),oe(),G(!0))}})}),(0,j.jsx)(Tn,{carryParentState:s,pageOpenAs:d}),null===L||void 0===L?void 0:L.map((function(e,n){return(null===L||void 0===L?void 0:L.length)===n+1?(0,j.jsx)("div",{ref:T,children:(0,j.jsx)(kn,{remainData:e})},n):(0,j.jsx)(kn,{remainData:e},n)})),q&&(0,j.jsx)(O.Z,{status:"white"})]})};var On=function(e){var n,i=e.isEnable,t=e.instituteId,l=e.onRefetch,o=e.carryParentState,a=e.pageOpenAs,s=e.admissionId,d=(0,x.TH)();return(0,j.jsx)("div",{className:Rn.Z.remainingFees,children:"pending"===(null===(n=d.search)||void 0===n?void 0:n.substring(3))?(0,j.jsx)(wn,{isEnable:i,carryParentState:o,onRefetch:l,instituteId:t,pageOpenAs:a,admissionId:s}):(0,j.jsx)(Dn,{isEnable:i,carryParentState:o,onRefetch:l,instituteId:t,pageOpenAs:a,admissionId:s})})},Mn=i(90865),Ln=i(43317),Fn=function(e){var n=e.admissionId,i=(0,_.$G)().t,l=(0,x.s0)(),o=(0,t.useState)({admission_enquiry:!0,admission_mods:!0,all_students:!0,complete_admission:!0,data_export:!0,excess_fee:!0,offline_payment_verification:!0,ongoing_admission:!0,pending_fee:!0,required_documents:!0}),s=(0,a.Z)(o,2),d=s[0],c=s[1],r=(0,t.useState)(!1),u=(0,a.Z)(r,2),v=u[0],m=u[1],p=(0,t.useState)(""),f=(0,a.Z)(p,2),h=f[0],g=f[1],Z=(0,Ln.rz)(),S=(0,a.Z)(Z,1)[0],b=(0,Ln.GW)({data:{aid:n,mid:""},skip:!n}).admissionDashboardMaster;(0,t.useEffect)((function(){var e,n,i,t,l,o,a,s,d,r;null!==b&&void 0!==b&&b.tab_manage&&c({admission_enquiry:null===b||void 0===b||null===(e=b.tab_manage)||void 0===e?void 0:e.admission_enquiry,admission_mods:null===b||void 0===b||null===(n=b.tab_manage)||void 0===n?void 0:n.admission_mods,all_students:null===b||void 0===b||null===(i=b.tab_manage)||void 0===i?void 0:i.all_students,complete_admission:null===b||void 0===b||null===(t=b.tab_manage)||void 0===t?void 0:t.complete_admission,data_export:null===b||void 0===b||null===(l=b.tab_manage)||void 0===l?void 0:l.data_export,excess_fee:null===b||void 0===b||null===(o=b.tab_manage)||void 0===o?void 0:o.excess_fee,offline_payment_verification:null===b||void 0===b||null===(a=b.tab_manage)||void 0===a?void 0:a.offline_payment_verification,ongoing_admission:null===b||void 0===b||null===(s=b.tab_manage)||void 0===s?void 0:s.ongoing_admission,pending_fee:null===b||void 0===b||null===(d=b.tab_manage)||void 0===d?void 0:d.pending_fee,required_documents:null===b||void 0===b||null===(r=b.tab_manage)||void 0===r?void 0:r.required_documents})}),[null===b||void 0===b?void 0:b.tab_manage]);var N=function(e,i){var t=(0,y.Z)({},d);for(var l in t)l===e&&(t[l]=i);S({aid:n,tabManage:{tab_manage:t}}).then((function(){g("update tab access"),m(!0)})).catch({}),c((function(n){return(0,y.Z)((0,y.Z)({},n),{},(0,ze.Z)({},e,i))}))};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:te.Z.refund_container,style:{width:"100%",minHeight:"50vh",backgroundColor:"#ffffff",border:"0.037vw solid #cacaca",borderRadius:"0.439vw",marginTop:"0.3rem",padding:"1rem"},children:[(0,j.jsxs)("section",{className:te.Z.refund_container_title,children:[(0,j.jsx)("img",{src:"/images/arrow-left-fees-icon.svg",onClick:function(){l(-1)},alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),(0,j.jsx)("div",{className:te.Z.refund_container_title,children:(0,j.jsx)("h6",{children:i("tab_controller")})})]}),(0,j.jsx)(M.Z,{customStyle:{width:"100%"}}),(0,j.jsxs)("div",{className:te.Z.tab_manage,children:[(0,j.jsx)(Mn.Z,{labelHeading:i("all_students"),checkedToggle:d.all_students,onToggleHandler:function(e){return N("all_students",e.target.checked)},customContainer:{flex:"1 1 33%"}}),(0,j.jsx)(Mn.Z,{labelHeading:i("admission_enquiry"),checkedToggle:d.admission_enquiry,onToggleHandler:function(e){return N("admission_enquiry",e.target.checked)},customContainer:{flex:"1 1 33%"}}),(0,j.jsx)(Mn.Z,{labelHeading:i("admission_mods"),checkedToggle:d.admission_mods,onToggleHandler:function(e){return N("admission_mods",e.target.checked)},customContainer:{flex:"1 1 33%"}})]}),(0,j.jsx)(M.Z,{customStyle:{width:"100%"}}),(0,j.jsxs)("div",{className:te.Z.tab_manage,children:[(0,j.jsx)(Mn.Z,{labelHeading:i("complete_admission"),checkedToggle:d.complete_admission,onToggleHandler:function(e){return N("complete_admission",e.target.checked)},customContainer:{flex:"1 1 33%"}}),(0,j.jsx)(Mn.Z,{labelHeading:i("data_export"),checkedToggle:d.data_export,onToggleHandler:function(e){return N("data_export",e.target.checked)},customContainer:{flex:"1 1 33%"}}),(0,j.jsx)(Mn.Z,{labelHeading:i("excess_fee"),checkedToggle:d.excess_fee,onToggleHandler:function(e){return N("excess_fee",e.target.checked)},customContainer:{flex:"1 1 33%"}})]}),(0,j.jsx)(M.Z,{customStyle:{width:"100%"}}),(0,j.jsxs)("div",{className:te.Z.tab_manage,children:[(0,j.jsx)(Mn.Z,{labelHeading:i("ongoing_admission"),checkedToggle:d.ongoing_admission,onToggleHandler:function(e){return N("ongoing_admission",e.target.checked)},customContainer:{flex:"1 1 33%"}}),(0,j.jsx)(Mn.Z,{labelHeading:i("pending_fee"),checkedToggle:d.pending_fee,onToggleHandler:function(e){return N("pending_fee",e.target.checked)},customContainer:{flex:"1 1 33%"}}),(0,j.jsx)(Mn.Z,{labelHeading:i("required_documents"),checkedToggle:d.required_documents,onToggleHandler:function(e){return N("required_documents",e.target.checked)},customContainer:{flex:"1 1 33%"}})]}),(0,j.jsx)(M.Z,{customStyle:{width:"100%"}}),(0,j.jsx)("div",{className:te.Z.tab_manage,children:(0,j.jsx)(Mn.Z,{labelHeading:i("offline_payment_verification"),checkedToggle:d.offline_payment_verification,onToggleHandler:function(e){return N("offline_payment_verification",e.target.checked)},customContainer:{flex:"1 1 33%"}})}),(0,j.jsx)(M.Z,{customStyle:{width:"100%"}})]}),(0,j.jsx)(De.Ch,{run:v,setRun:m,msg:h,postiton:"bottom",type:"success"})]})};var Un=function(){var e,n,i,l,o,p,_,f,h,g,Z,A,y,C,I,E,P,T=(0,x.UO)(),R=(0,b.lr)(),D=(0,a.Z)(R,1)[0],w=(0,x.TH)(),O=(0,u.v9)((function(e){return e.idChange.id})),M=(0,N.gq)({id:O,skip:!O}),L=M.oneInstituteDashboard,F=M.oneInstituteDashboardRefetch,U=(0,m.vV)({data:{aid:null===L||void 0===L||null===(e=L.institute)||void 0===e?void 0:e.admissionDepart[0],mod_id:""},skip:!(null!==L&&void 0!==L&&null!==(n=L.institute)&&void 0!==n&&n.admissionDepart[0])}),B=U.getAdmissionDetail,q=U.getAdmissionDetailRefetch;return(0,t.useEffect)((function(){O&&F()}),[O,F]),(0,t.useEffect)((function(){var e;null!==L&&void 0!==L&&null!==(e=L.institute)&&void 0!==e&&e.admissionDepart[0]&&q()}),[null===L||void 0===L||null===(i=L.institute)||void 0===i?void 0:i.admissionDepart[0],q]),(0,j.jsxs)("div",{className:s,children:[(0,j.jsx)(S,{username:T.username,admissionId:null===L||void 0===L||null===(l=L.institute)||void 0===l?void 0:l.admissionDepart[0]}),(0,j.jsxs)("div",{className:null!==D&&void 0!==D&&D.get("a")&&"fund"!==(null===D||void 0===D?void 0:D.get("a"))&&"export"!==(null===D||void 0===D?void 0:D.get("a"))&&"moderator"!==(null===D||void 0===D?void 0:D.get("a"))?c:d,children:[(!(null!==D&&void 0!==D&&D.get("a"))||"fund"===(null===D||void 0===D?void 0:D.get("a")))&&(0,j.jsx)(k,{carryParentState:w.state}),(0,j.jsxs)(v.Z,{children:["pending"===(null===D||void 0===D?void 0:D.get("a"))&&(0,j.jsx)(On,{carryParentState:w.state,admissionId:null===L||void 0===L||null===(o=L.institute)||void 0===o?void 0:o.admissionDepart[0],isEnable:"Enable"===(null===B||void 0===B||null===(p=B.admission)||void 0===p?void 0:p.alarm_enable_status),onRefetch:q,instituteId:null===B||void 0===B||null===(_=B.admission)||void 0===_||null===(f=_.institute)||void 0===f?void 0:f._id,pageOpenAs:"INSTITUTE"}),"ongoing"===(null===D||void 0===D?void 0:D.get("a"))&&(0,j.jsx)(hn,{admissionId:null===L||void 0===L||null===(h=L.institute)||void 0===h?void 0:h.admissionDepart[0],instituteId:null===L||void 0===L||null===(g=L.institute)||void 0===g?void 0:g._id,carryParentState:w.state,pageOpenAs:"INSTITUTE"}),"completed"===(null===D||void 0===D?void 0:D.get("a"))&&(0,j.jsx)(jn,{admissionId:null===L||void 0===L||null===(Z=L.institute)||void 0===Z?void 0:Z.admissionDepart[0],instituteId:null===L||void 0===L||null===(A=L.institute)||void 0===A?void 0:A._id,carryParentState:w.state,pageOpenAs:"INSTITUTE"}),"export"===(null===D||void 0===D?void 0:D.get("a"))&&(0,j.jsx)("div",{className:r,children:(0,j.jsx)(ve,{admissionId:null===L||void 0===L||null===(y=L.institute)||void 0===y?void 0:y.admissionDepart[0],instituteId:null===L||void 0===L||null===(C=L.institute)||void 0===C?void 0:C._id,funds:L})}),"moderator"===(null===D||void 0===D?void 0:D.get("a"))&&(0,j.jsx)("div",{className:r,children:(0,j.jsx)(ie,{admissionId:null===L||void 0===L||null===(I=L.institute)||void 0===I?void 0:I.admissionDepart[0],instituteId:null===L||void 0===L||null===(E=L.institute)||void 0===E?void 0:E._id})}),"tab"===(null===D||void 0===D?void 0:D.get("a"))&&(0,j.jsx)("div",{className:r,children:(0,j.jsx)(Fn,{admissionId:null===L||void 0===L||null===(P=L.institute)||void 0===P?void 0:P.admissionDepart[0]})})]})]})]})},Bn=i(89792),qn=i(91007),Gn=i(79872),Hn=i(81622),Vn=i(42108),Wn=i(5574),Jn=function(e){var n,i,l,o,s=e.aid,d=e.viewAs,c=(0,_.$G)().t,r=(0,x.s0)(),v=(0,t.useState)(!1),p=(0,a.Z)(v,2),f=p[0],h=p[1],g=(0,t.useState)({admission_about:"",admission_process:"",cashier_name:"",cashier_signature:""}),Z=(0,a.Z)(g,2),S=Z[0],b=Z[1],N=(0,t.useState)([{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}]),A=(0,a.Z)(N,2),C=A[0],I=A[1],E=(0,t.useState)(""),P=(0,a.Z)(E,2),T=P[0],R=P[1],k=(0,t.useState)(""),w=(0,a.Z)(k,2),O=w[0],F=w[1],U=(0,t.useState)(!1),q=(0,a.Z)(U,2),G=q[0],H=q[1],V=(0,t.useState)(!1),W=(0,a.Z)(V,2),J=W[0],$=W[1],Y=(0,t.useState)(""),z=(0,a.Z)(Y,2),Q=(z[0],z[1]),X=(0,u.v9)((function(e){return e.idChange.id})),K=(0,qn.pu)(X,{skip:"INSTITUTE"===d||!X}),ee=K.data,ne=K.refetch;(0,t.useEffect)((function(){X&&ne()}),[X,ne]);var ie=(0,m.Bf)({aid:s,skip:!s}),te=ie.admissionGetSiteInfo,le=ie.admissionGetSiteInfoRefetch,oe=(0,m.AE)(),ae=(0,a.Z)(oe,1)[0],se=(0,En.FL)(),de=(0,a.Z)(se,1)[0];(0,t.useEffect)((function(){s&&le()}),[s,le]),(0,t.useEffect)((function(){var e,n,i,t,l,o;if(null!==te&&void 0!==te&&te.admission_site&&(b({admission_about:null===te||void 0===te||null===(e=te.admission_site)||void 0===e?void 0:e.admission_about,admission_process:null===te||void 0===te||null===(n=te.admission_site)||void 0===n?void 0:n.admission_process,cashier_name:null===te||void 0===te||null===(i=te.admission_site)||void 0===i?void 0:i.cashier_name,cashier_signature:null===te||void 0===te||null===(t=te.admission_site)||void 0===t?void 0:t.cashier_signature}),null!==te&&void 0!==te&&null!==(l=te.admission_site)&&void 0!==l&&null!==(o=l.admission_contact)&&void 0!==o&&o.length)){var a,s,d=[],c=(0,L.Z)(null===te||void 0===te||null===(a=te.admission_site)||void 0===a?void 0:a.admission_contact);try{for(c.s();!(s=c.n()).done;){var r=s.value,u={contact_department_name:null===r||void 0===r?void 0:r.contact_department_name,contact_person_name:null===r||void 0===r?void 0:r.contact_person_name,contact_person_mobile:null===r||void 0===r?void 0:r.contact_person_mobile,contact_person_email:null===r||void 0===r?void 0:r.contact_person_email,contactId:null===r||void 0===r?void 0:r._id};d.push(u)}}catch(v){c.e(v)}finally{c.f()}I(d)}}),[null===te||void 0===te?void 0:te.admission_site]);var ce=function(e,n){for(var i=(0,D.Z)(C),t=0;t<(null===i||void 0===i?void 0:i.length);t++)t===n&&(i[t][e.target.name]=e.target.value);I(i)},re=function(e){b((function(n){return(0,y.Z)((0,y.Z)({},n),{},(0,ze.Z)({},e.target.name,e.target.value))}))};(0,t.useEffect)((function(){J&&function(e){if(e){h((function(e){return!e}));var n=new FormData;n.append("file",e),de({fileUpload:n}).then((function(e){var n;null!==(n=e.data)&&void 0!==n&&n.imageKey&&b((function(n){var i;return(0,y.Z)((0,y.Z)({},n),{},{cashier_signature:null===(i=e.data)||void 0===i?void 0:i.imageKey})})),h((function(e){return!e}))})).catch({})}}(O)}),[J,O]);return(0,j.jsxs)("div",{className:Bn.Z.bgContainer,children:["INSTITUTE"===d?null:(0,j.jsx)("div",{className:Bn.Z.navbar,children:(0,j.jsx)(Gn.default,{status:"members",profileData:null===ee||void 0===ee?void 0:ee.user,username:null===ee||void 0===ee||null===(n=ee.user)||void 0===n?void 0:n.username,name:null===ee||void 0===ee||null===(i=ee.user)||void 0===i?void 0:i.userLegalName,photoId:null===ee||void 0===ee||null===(l=ee.user)||void 0===l?void 0:l.photoId,profilePhoto:null===ee||void 0===ee||null===(o=ee.user)||void 0===o?void 0:o.profilePhoto})}),(0,j.jsxs)("div",{className:Bn.Z.container,children:[(0,j.jsxs)("div",{className:Bn.Z.containerhead,children:[(0,j.jsx)("h6",{children:c("update_admission_site_info")}),(0,j.jsx)("img",{src:"/images/close-post-icon.svg",alt:"",onClick:function(){r(-1)}})]}),(0,j.jsx)(M.Z,{customStyle:{width:"100%"}}),(0,j.jsx)("div",{className:Bn.Z.containercontent,children:(0,j.jsxs)("div",{className:Bn.Z.container_inner_content,children:[(0,j.jsx)(bn.Z,{labelText:c("about_admission_department"),placeholder:c("about_admission_department_placeholder"),name:"admission_about",value:S.admission_about,type:"text",onChange:re,customStyleContainer:{width:"100%"}}),(0,j.jsx)(bn.Z,{labelText:c("admission_process_site"),placeholder:c("admission_process_site_placeholder"),name:"admission_process",value:S.admission_process,type:"text",onChange:re,customStyleContainer:{width:"100%"}}),(0,j.jsxs)("div",{className:Bn.Z.show_field,style:{alignItems:"flex-start"},children:[(0,j.jsx)(Xe.Z,{labelText:c("site_cashier_name"),placeholder:c("site_cashier_name_placeholder"),name:"cashier_name",value:null===S||void 0===S?void 0:S.cashier_name,type:"text",onChange:re,customStyleContainer:{width:"69.5%"}}),(0,j.jsx)(Hn.Z,{labelText:c("cashier_signature"),name:"cashier_signature",value:S.cashier_signature,onChange:function(e){if(e.target.files[0]){var n=URL.createObjectURL(e.target.files[0]);F(e.target.files[0]),Q(n),R(n),H(!0)}},customStyleContainer:{width:"29.5%"}})]}),(0,j.jsxs)("div",{className:Bn.Z.add_contact_person,children:[(0,j.jsx)("h6",{children:c("add_contact_persons")}),null===C||void 0===C?void 0:C.map((function(e,n){return(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:Bn.Z.show_field,children:[(0,j.jsx)(Xe.Z,{labelText:c("site_department_name"),placeholder:c("site_department_name_placeholder"),name:"contact_department_name",value:null===e||void 0===e?void 0:e.contact_department_name,type:"text",onChange:function(e){return ce(e,n)},customStyleContainer:{width:"49.5%"}}),(0,j.jsx)(Xe.Z,{labelText:c("contact_person_name"),placeholder:c("contact_person_name_placeholder"),name:"contact_person_name",value:null===e||void 0===e?void 0:e.contact_person_name,type:"text",onChange:function(e){return ce(e,n)},customStyleContainer:{width:"49.5%"}})]}),(0,j.jsxs)("div",{className:Bn.Z.show_field,children:[(0,j.jsx)(Xe.Z,{labelText:c("contact_person_mobile"),placeholder:c("contact_person_mobile_placeholder"),name:"contact_person_mobile",value:null===e||void 0===e?void 0:e.contact_person_mobile,type:"text",onChange:function(e){return ce(e,n)},customStyleContainer:{width:"49.5%"}}),(0,j.jsx)(Xe.Z,{labelText:c("contact_person_email"),placeholder:c("contact_person_email_placeholder"),name:"contact_person_email",value:null===e||void 0===e?void 0:e.contact_person_email,type:"email",onChange:function(e){return ce(e,n)},customStyleContainer:{width:"49.5%"}})]})]},n)}))]}),(0,j.jsx)("button",{className:Bn.Z.add_contact_person_btn,title:"Add Contact Person",onClick:function(){I((function(e){return[].concat((0,D.Z)(e),[{contact_department_name:"",contact_person_name:"",contact_person_mobile:"",contact_person_email:""}])}))},children:c("add_contact_person")}),f&&(0,j.jsx)(B.Z,{}),(0,j.jsx)("button",{className:Bn.Z.update_btn,onClick:function(){h((function(e){return!e})),ae({aid:s,updateSiteInfo:(0,y.Z)((0,y.Z)({},S),{},{admission_contact:null===C||void 0===C?void 0:C.filter((function(e){return null!==e&&void 0!==e&&e.contactId?"":e})),edit_admission_contact:null===C||void 0===C?void 0:C.filter((function(e){return null!==e&&void 0!==e&&e.contactId?e:""}))})}).then((function(){h((function(e){return!e}))})).catch({})},children:c("update")}),(0,j.jsx)(Wn.Z,{open:G,children:(0,j.jsx)(Vn.Z,{setPhotoURL:R,photoURL:T,setFile:F,setOpenCrop:H,setUpload:$,setProfilePhoto:Q,first:1,second:1})})]})})]})]})};var $n=function(){var e,n,i=(0,x.TH)();return(0,j.jsxs)("div",{className:l.Z.insChat,children:[(0,j.jsx)("div",{className:l.Z.navbarr,children:(0,j.jsx)(o.default,{status:"home"})}),"site"===(null===(e=i.search)||void 0===e?void 0:e.substring(3))?(0,j.jsx)(Jn,{aid:null===(n=i.state)||void 0===n?void 0:n.aid,viewAs:"INSTITUTE"}):(0,j.jsx)("div",{className:l.Z.admission_ins_container,children:(0,j.jsx)(Un,{})})]})}},46876:function(e,n,i){i.r(n);var t=i(93433),l=i(29439),o=i(72791),a=i(23441),s=i(95048),d=i(12923),c=i(763),r=i(69721),u=i(52124),v=i(5574),m=i(39230),p=i(80184),_=window.innerHeight;n.default=function(e){var n=e.onClose,i=e.title,f=e.headSelect,h=e.assignHead,g=e.disabledId,x=e.instituteId,j=e.viewAs,Z=(0,m.$G)().t,S=(0,o.useState)(1),b=(0,l.Z)(S,2),N=b[0],A=b[1],y=(0,o.useState)(!0),C=(0,l.Z)(y,2),I=C[0],E=C[1],P=(0,a.YD)(),T=(0,l.Z)(P,2),R=T[0],k=T[1],D=(0,o.useState)(""),w=(0,l.Z)(D,2),O=w[0],M=w[1],L=o.useState([]),F=(0,l.Z)(L,2),U=F[0],B=F[1],q=(0,s.v9)((function(e){return e.idChange})),G=(0,d.vI)({skip:"ADMISSION_ADMIN"===j?!x:!(null!==q&&void 0!==q&&q.id),search:{search:O,page:N,id:"ADMISSION_ADMIN"===j?x:null===q||void 0===q?void 0:q.id,limit:10}}),H=G.assignSearchStaff,V=G.assignSearchStaffRefetch;o.useEffect((function(){null!==q&&void 0!==q&&q.id&&V()}),[null===q||void 0===q?void 0:q.id,V,N]),(0,o.useEffect)((function(){k&&I&&A((function(e){return e+1}))}),[k,I]),o.useEffect((function(){null!==H&&void 0!==H&&H.staff&&B(O?null===H||void 0===H?void 0:H.staff:function(e){return function(e){for(var n=0;n<(null===e||void 0===e?void 0:e.length);n++)for(var i=n+1;i<(null===e||void 0===e?void 0:e.length);i++){var t,l;(null===(t=e[n])||void 0===t?void 0:t._id)===(null===(l=e[i])||void 0===l?void 0:l._id)&&(null===e||void 0===e||e.splice(i,1))}return e}([].concat((0,t.Z)(e),(0,t.Z)(null===H||void 0===H?void 0:H.staff)))}),10===(null===H||void 0===H?void 0:H.staff.length)?E(!0):E(!1)}),[null===H||void 0===H?void 0:H.staff]),(0,o.useEffect)((function(){O&&W()}),[O]);var W=function(){V()},J=(0,o.useCallback)((0,c.debounce)((function(e){return M(e)}),500),[]),$=function(e){g===(null===e||void 0===e?void 0:e._id)||(f(e),"ADMISSION_ADMIN"===j||n())};return(0,p.jsx)(v.Z,{open:h,onClose:n,children:(0,p.jsxs)("div",{style:{backgroundColor:"#FAFAFA",width:"35rem",height:"".concat(_-20,"px"),overflowX:"hidden"},children:[(0,p.jsxs)("div",{className:u.Z.assign_title,style:{width:"100%"},children:[(0,p.jsx)("h5",{children:i}),(0,p.jsx)("img",{src:"/images/close-post-icon.svg",onClick:n,alt:"staff assign pop close icon"})]}),(0,p.jsxs)("div",{className:u.Z.assign_search_container,children:[(0,p.jsx)("input",{type:"text",placeholder:Z("search"),className:u.Z.assign_search_input,onChange:function(e){return n=e.target.value,void J(n);var n}}),(0,p.jsx)("img",{src:"/images/search-dash-icon.svg",alt:"search icon"})]}),(0,p.jsx)("div",{className:u.Z.assign_show_list,children:null===U||void 0===U?void 0:U.map((function(e,n){return(null===U||void 0===U?void 0:U.length)===n+1?(0,p.jsxs)("div",{ref:R,children:[(0,p.jsxs)("div",{className:u.Z.assign_show_list_each,style:g===e._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:function(){return $(e)},children:[(0,p.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(r.yI,"/").concat(e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,p.jsxs)("div",{className:u.Z.assign_each_paragraph,children:[(0,p.jsx)("h6",{children:"".concat(e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(e.staffLastName)}),(0,p.jsxs)("p",{children:[" ",Z("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]})]}),(0,p.jsx)("hr",{})]},e._id):(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:u.Z.assign_show_list_each,style:g===e._id?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:{backgroundColor:"inherit"},onClick:function(){return $(e)},children:[(0,p.jsx)("img",{src:null!==e&&void 0!==e&&e.staffProfilePhoto?"".concat(r.yI,"/").concat(e.staffProfilePhoto):"/images/member_tab/class/default_avatar.svg",alt:"staff profile avatar"}),(0,p.jsxs)("div",{className:u.Z.assign_each_paragraph,children:[(0,p.jsx)("h6",{children:"".concat(e.staffFirstName," ").concat(null!==e&&void 0!==e&&e.staffMiddleName?null===e||void 0===e?void 0:e.staffMiddleName:""," ").concat(e.staffLastName)}),(0,p.jsxs)("p",{children:[" ",Z("index")," ",null===e||void 0===e?void 0:e.staffROLLNO]})]})]}),(0,p.jsx)("hr",{})]},e._id)}))})]})})}},81622:function(e,n,i){var t=i(1413),l=i(29439),o=i(72791),a=i(38733),s=i(39230),d=i(93097),c=i(69721),r=i(80184);n.Z=function(e){var n=e.labelText,i=e.name,u=e.multiple,v=e.value,m=e.onChange,p=(e.onClick,e.errorShow),_=e.acceptType,f=e.customStyleContainer,h=(0,s.$G)().t,g=(0,o.useState)(""),x=(0,l.Z)(g,2),j=x[0],Z=x[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:a.Z.join_form_container,style:(0,t.Z)({},f),children:[(0,r.jsxs)("label",{className:a.Z.join_form_label,children:[n,p&&(0,r.jsx)("span",{style:{color:"red",marginLeft:"15px"},children:"* required"})]}),(0,r.jsxs)("div",{className:a.Z.join_form_file_container,children:[(0,r.jsx)("label",{className:v?"".concat(a.Z.join_form_file_choose," ").concat(a.Z.join_form_active_background):a.Z.join_form_file_choose,htmlFor:i,children:h(""!==v?"file_chosen":"chose_file")}),(0,r.jsx)("label",{className:a.Z.join_form_file_choosen,onClick:function(){if(null!==v&&void 0!==v&&v.originalName)if(null!==v&&void 0!==v&&v.isPdf){var e=window.open("".concat(c.zQ,"/").concat(null===v||void 0===v?void 0:v.key),"_blank","noopener,noreferrer");e&&(e.opener=null)}else Z(null===v||void 0===v?void 0:v.key);else Z(v)},style:{color:"#002BBE",cursor:"pointer"},children:""!==v?null!==v&&void 0!==v&&v.originalName?null===v||void 0===v?void 0:v.originalName:"View":h("no_file_chosen")})]}),(0,r.jsx)("input",{type:"file",multiple:!!u,accept:_||"image/*, .doc,.docx, application/pdf,.csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",name:i,id:i,style:{display:"none"},onChange:m})]}),j&&(0,r.jsx)(d.Z,{onClose:function(){Z("")},keyValue:j})]})}},72952:function(e,n,i){var t=i(1413),l=(i(72791),i(39230)),o=i(38733),a=i(80184);n.Z=function(e){var n,i=e.labelText,s=e.name,d=e.type,c=e.value,r=e.onChange,u=e.placeholder,v=e.errorShow,m=e.customStyleContainer,p=e.disabled,_=(0,l.$G)().t;return(0,a.jsxs)("div",{className:o.Z.join_form_container,style:(0,t.Z)({},m),children:[(0,a.jsxs)("label",{className:o.Z.join_form_label,htmlFor:s,children:[i," ",v&&(0,a.jsxs)("span",{style:{color:"red",marginLeft:"15px"},children:["* ",_("form_require_label")]})]}),(0,a.jsx)("textarea",{className:o.Z.join_form_text_area,type:d,value:c,onChange:r,name:s,placeholder:u,rows:c?(null===c||void 0===c||null===(n=c.split("\n"))||void 0===n?void 0:n.length)+3:1,disabled:p})]})}},93097:function(e,n,i){i(72791);var t=i(12072),l=i(84489),o=i(69721),a=i(80184);n.Z=function(e){var n=e.onClose,i=e.keyValue;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Z,{onClose:n}),(0,a.jsx)(t.Z,{customStyle:{zIndex:"1200",borderRadius:"0"},children:(0,a.jsx)("img",{src:"".concat(o.yI,"/").concat(i),alt:"view file",style:{maxWidth:"700px",maxHeight:"500px"}})})]})}},47167:function(e,n,i){var t=i(1413),l=(i(72791),i(16871)),o=i(43504),a=i(23769),s=i(45639),d=i(80184);n.Z=function(e){var n=e.tabList,i=e.activeIndexTab,c=e.setActiveIndexTab,r=e.customStyleTab,u=e.carryParentState,v=e.showAs,m=e.customStyleLink,p=(0,l.UO)();return(0,d.jsx)("div",{className:s.Z.universal_container,children:v?null===n||void 0===n?void 0:n.map((function(e,n){return"disabled"===(null===e||void 0===e?void 0:e.is_active)?(0,d.jsx)("div",{className:i===(null===e||void 0===e?void 0:e.id)?"".concat(s.Z.universal_container_item," ").concat(s.Z.universal_container_item_active):s.Z.universal_container_item,style:(0,t.Z)((0,t.Z)({},m),{},{opacity:"0.5"}),children:(0,d.jsx)(a.Z,{children:null===e||void 0===e?void 0:e.name})},n):(0,d.jsx)(o.rU,{to:"/q/".concat(p.username,"/").concat(null===e||void 0===e?void 0:e.url),state:(0,t.Z)({},u),style:(0,t.Z)({},m),children:(0,d.jsx)("div",{className:i===(null===e||void 0===e?void 0:e.id)?"".concat(s.Z.universal_container_item," ").concat(s.Z.universal_container_item_active):s.Z.universal_container_item,style:(0,t.Z)({},r),children:(0,d.jsx)(a.Z,{children:null===e||void 0===e?void 0:e.name})})},n)})):null===n||void 0===n?void 0:n.map((function(e,n){return(0,d.jsx)("div",{className:i===(null===e||void 0===e?void 0:e.id)?"".concat(s.Z.universal_container_item," ").concat(s.Z.universal_container_item_active):s.Z.universal_container_item,onClick:function(){return c(null===e||void 0===e?void 0:e.id)},style:(0,t.Z)({},r),children:(0,d.jsx)(a.Z,{children:null===e||void 0===e?void 0:e.name})},n)}))})}},23769:function(e,n,i){i.d(n,{Z:function(){return a}});var t=i(29439),l=i(72791),o=i(80184);var a=function(e){var n=e.children,i=e.onclick,a=(0,l.useState)(!1),s=(0,t.Z)(a,2),d=s[0],c=s[1],r=(0,l.useState)({x:-1,y:-1}),u=(0,t.Z)(r,2),v=u[0],m=u[1];return(0,l.useEffect)((function(){-1!==v.x&&-1!==v.y?(c(!0),setTimeout((function(){return c(!1)}),1e3)):c(!1)}),[v]),(0,l.useEffect)((function(){d||m({x:-1,y:-1})}),[d]),(0,o.jsxs)("div",{className:"ripple_btn",onClick:function(e){m({x:e.clientX-e.target.offsetLeft,y:e.clientY-e.target.offsetTop}),i&&i(e)},children:[d?(0,o.jsx)("span",{className:"ripple"}):"",(0,o.jsx)("span",{className:"content",children:n})]})}},49886:function(e,n,i){i.d(n,{Z:function(){return v}});var t=i(29439),l=i(72791),o=i(39230),a=i(91022),s="PaymentModeType_payment_mode_heading__RpGh8",d=i(80184),c=["Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft","Fee Receipt Not Generated"],r=["Cash","UPI Transfer","Net Banking","NEFT/RTGS/IMPS","Cheque","Demand Draft","Unrecovered/Exemption","Fee Receipt Not Generated"],u=["By Bank","By Cash"],v=function(e){var n=e.paymentHeading,i=e.paymentHeadingPlaceholder,v=e.onInputChange,m=e.errorShow,p=e.openAs,_=e.viewAs,f=(0,o.$G)().t,h=(0,l.useState)(""),g=(0,t.Z)(h,2),x=g[0],j=g[1];(0,l.useEffect)((function(){"REFUND"===p&&j("Refunded"),"FINANCE_MANAGER"===_&&j("Govt. Grant/Scholarship")}),[p]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("h6",{className:s,children:[" ",n," "]}),(0,d.jsx)(a.Z,{selectLabel:i||f("mode_placeholder"),value:x,onClick:"DEPOSIT_REFUND_LIST"===p?function(e){j(e),v(e)}:function(e){j(e),v({target:{name:"fee_payment_mode",value:"Cash"===e?"By Cash":"Unrecovered/Exemption"===e?"Exempted/Unrecovered":"Govt. Grant/Scholarship"===e?"Government/Scholarship":e}})},selectedValue:f("please_select_payment_mode"),options:"DEPOSIT_REFUND_LIST"===p?u:i?r:c,customLabelStyle:{marginTop:"0",marginBottom:"7px",fontWeight:"400",fontSize:"12px",color:"rgba(18, 18, 18, 0.8)"},customListStyle:{maxHeight:"fit-content"},errorShow:m,openAs:p,viewAs:_})]})}},20132:function(e,n,i){var t=i(1413),l=i(29439),o=i(72791),a=i(85753),s=i(5574),d=i(39230),c=i(16871),r=i(51561),u=i(98734),v=i(29017),m=i(9490),p=i(80184);n.Z=function(e){var n,i,_,f,h,g,x,j,Z,S,b,N,A,y,C,I,E,P=e.viewDetail,T=e.hideModal,R=e.applicationDetail,k=e.completeApplication,D=e.carryParentState,w=e.applicationDetailApplicablePending,O=e.pageOpenAs,M=(0,d.$G)().t,L=new Date,F=(0,c.s0)(),U=(0,c.UO)(),B=(0,o.useState)(!1),q=(0,l.Z)(B,2),G=q[0],H=q[1],V=(0,o.useState)({msg:"",run:!1}),W=(0,l.Z)(V,2),J=W[0],$=W[1],Y=(0,o.useState)(!1),z=(0,l.Z)(Y,2),Q=z[0],X=z[1],K=(0,o.useState)(null===(n=L.toISOString())||void 0===n?void 0:n.substring(0,10)),ee=(0,l.Z)(K,2),ne=ee[0],ie=ee[1],te=(0,v.m2)(),le=(0,l.Z)(te,1)[0],oe=(0,v.Ts)({data:{appId:null===R||void 0===R?void 0:R._id,valid_date:ne},skip:!(null!==R&&void 0!==R&&R._id)}),ae=oe.getDailyCollectionByAdmission,se=oe.getDailyCollectionByAdmissionRefetch;(0,o.useEffect)((function(){null!==R&&void 0!==R&&R._id&&se()}),[null===R||void 0===R?void 0:R._id,se,ne]);var de=function(){H((function(e){return!e})),null!==R&&void 0!==R&&R._id?le(null===R||void 0===R?void 0:R._id).then((function(e){var n;null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.complete_status?(H((function(e){return!e})),T(!1),F("/q/".concat(U.username,"INSTITUTE"===O?"/admission":"/member/admission"),{state:(0,t.Z)({},D)})):($({msg:null===e||void 0===e?void 0:e.data.message,run:!0}),H((function(e){return!e})))})).catch({}):H((function(e){return!e}))};return(0,p.jsxs)(s.Z,{open:P,onClose:function(){return T(!1)},children:[(0,p.jsxs)("div",{className:a.Z.addDisplay,children:[(0,p.jsxs)("div",{className:a.Z.title,children:[(0,p.jsx)("div",{}),(0,p.jsx)("h6",{style:{cursor:"pointer"},onClick:function(){return X((function(e){return!e}))},children:null===R||void 0===R?void 0:R.applicationName}),(0,p.jsx)("img",{src:"/images/close-post-icon.svg",onClick:function(){return T(!1)},alt:""})]}),(0,p.jsxs)("div",{className:a.Z.content,children:[(0,p.jsx)("div",{style:{padding:"1rem"},children:(0,p.jsx)(m.Z,{setValidDate:ie})}),k&&!Q&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:a.Z.content2,children:[(0,p.jsxs)("div",{className:a.Z.appinforow,children:[(0,p.jsx)("h6",{children:M("total_received_application")}),(0,p.jsx)("h6",{children:null!==(i=null===ae||void 0===ae||null===(_=ae.day_wise)||void 0===_?void 0:_.request_count)&&void 0!==i?i:0})]}),(0,p.jsxs)("div",{className:a.Z.appinforow,children:[(0,p.jsx)("h6",{children:M("total_selected_application")}),(0,p.jsx)("h6",{children:null!==(f=null===ae||void 0===ae||null===(h=ae.day_wise)||void 0===h?void 0:h.select_count)&&void 0!==f?f:0})]}),(0,p.jsxs)("div",{className:a.Z.appinforow,children:[(0,p.jsx)("h6",{children:M("total_confirmed_application")}),(0,p.jsx)("h6",{children:null!==(g=null===ae||void 0===ae||null===(x=ae.day_wise)||void 0===x?void 0:x.confirm_count)&&void 0!==g?g:0})]}),(0,p.jsxs)("div",{className:a.Z.appinforow,children:[(0,p.jsx)("h6",{children:M("total_alloted_application")}),(0,p.jsx)("h6",{children:null!==(j=null===ae||void 0===ae||null===(Z=ae.day_wise)||void 0===Z?void 0:Z.allot_count)&&void 0!==j?j:0})]}),(0,p.jsxs)("div",{className:a.Z.appinforow,children:[(0,p.jsx)("h6",{children:M("total_cancelled_application")}),(0,p.jsx)("h6",{children:null!==(S=null===ae||void 0===ae||null===(b=ae.day_wise)||void 0===b?void 0:b.cancel_count)&&void 0!==S?S:0})]})]}),(0,p.jsxs)("div",{className:a.Z.content3,children:[(0,p.jsxs)("div",{className:a.Z.appinforow1,children:[(0,p.jsx)("h6",{children:M("total_fees_received")}),(0,p.jsxs)("h6",{children:["Rs. ",null!==(N=null===ae||void 0===ae||null===(A=ae.day_wise)||void 0===A?void 0:A.paid)&&void 0!==N?N:0]})]}),(0,p.jsxs)("div",{className:"".concat(a.Z.appinforow2," ").concat(a.Z.appinforowred),children:[(0,p.jsx)("h6",{children:M("total_fees_pending")}),(0,p.jsxs)("h6",{children:["Rs. ",null!==(y=null===ae||void 0===ae||null===(C=ae.day_wise)||void 0===C?void 0:C.remain)&&void 0!==y?y:0]})]}),(0,p.jsxs)("div",{className:"".concat(a.Z.appinforow2," ").concat(a.Z.appinforowred),children:[(0,p.jsx)("h6",{children:M("total_applicable_fees_pending")}),(0,p.jsxs)("h6",{children:["Rs."," ",null!==(I=null===ae||void 0===ae||null===(E=ae.day_wise)||void 0===E?void 0:E.applicable_pending)&&void 0!==I?I:0]})]}),(0,p.jsx)("div",{className:a.Z.completeApplicationcontainer,children:(0,p.jsx)("div",{className:a.Z.completeApplication,onClick:de,children:M("complete_application")})})]})]}),k&&Q&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:a.Z.content2,children:[(0,p.jsxs)("div",{className:a.Z.appinforow,children:[(0,p.jsx)("h6",{children:M("total_received_application")}),(0,p.jsx)("h6",{children:null===R||void 0===R?void 0:R.receievedCount})]}),(0,p.jsxs)("div",{className:a.Z.appinforow,children:[(0,p.jsx)("h6",{children:M("total_selected_application")}),(0,p.jsx)("h6",{children:null===R||void 0===R?void 0:R.selectCount})]}),(0,p.jsxs)("div",{className:a.Z.appinforow,children:[(0,p.jsx)("h6",{children:M("total_confirmed_application")}),(0,p.jsx)("h6",{children:null===R||void 0===R?void 0:R.confirmCount})]}),(0,p.jsxs)("div",{className:a.Z.appinforow,children:[(0,p.jsx)("h6",{children:M("total_alloted_application")}),(0,p.jsx)("h6",{children:null===R||void 0===R?void 0:R.allotCount})]}),(0,p.jsxs)("div",{className:a.Z.appinforow,children:[(0,p.jsx)("h6",{children:M("total_cancelled_application")}),(0,p.jsx)("h6",{children:null===R||void 0===R?void 0:R.cancelCount})]})]}),(0,p.jsxs)("div",{className:a.Z.content3,children:[(0,p.jsxs)("div",{className:a.Z.appinforow1,children:[(0,p.jsx)("h6",{children:M("total_fees_received")}),(0,p.jsxs)("h6",{children:["Rs. ",null===R||void 0===R?void 0:R.collectedFeeCount]})]}),(0,p.jsxs)("div",{className:"".concat(a.Z.appinforow2," ").concat(a.Z.appinforowred),children:[(0,p.jsx)("h6",{children:M("total_fees_pending")}),(0,p.jsxs)("h6",{children:["Rs. ",null===R||void 0===R?void 0:R.remainingFee]})]}),(0,p.jsxs)("div",{className:"".concat(a.Z.appinforow2," ").concat(a.Z.appinforowred),children:[(0,p.jsx)("h6",{children:M("total_applicable_fees_pending")}),(0,p.jsxs)("h6",{children:["Rs. ",null!==w&&void 0!==w?w:0]})]}),(0,p.jsx)("div",{className:a.Z.completeApplicationcontainer,children:(0,p.jsx)("div",{className:a.Z.completeApplication,onClick:de,children:M("complete_application")})})]})]})]})]}),G&&(0,p.jsx)(u.Z,{}),(0,p.jsx)(r.Ch,{msg:J.msg,run:J.run,setRun:function(){return $({msg:"",run:!1})},postiton:"bottom",type:"error"})]})}},85162:function(e,n,i){var t=i(29439),l=i(72791),o=i(39230),a=i(97655),s=i(98094),d=i(87049),c=i(80184);n.Z=function(e){var n,i=e.onEdit,r=e.xlsxId,u=(0,o.$G)().t,v=(0,l.useState)(null!==(n=null===r||void 0===r?void 0:r.excel_file_name)&&void 0!==n?n:""),m=(0,t.Z)(v,2),p=m[0],_=m[1],f=(0,l.useState)(""),h=(0,t.Z)(f,2),g=h[0],x=h[1];(0,l.useEffect)((function(){var e;_(null!==(e=null===r||void 0===r?void 0:r.excel_file_name)&&void 0!==e?e:"")}),[null===r||void 0===r?void 0:r.excel_file_name]);return(0,c.jsxs)("div",{style:{width:"20rem",minHeight:"10rem",padding:"1rem"},children:[(0,c.jsx)("h6",{children:u("update_excel_name")}),(0,c.jsx)(s.Z,{customStyle:{width:"100%"}}),(0,c.jsx)(a.Z,{labelText:u("excel_name"),placeholder:u("excel_name_plcaeholder"),value:p,name:"excelName",type:"text",onChange:function(e){return _(e.target.value)},errorShow:g.excelName}),(0,c.jsx)("button",{className:d.Z.xlsx_update_btn,onClick:function(){p?i(p):x({excelName:"excelName is required"})},style:{justifyContent:"center",marginTop:"1rem"},children:u("update")})]})}},12923:function(e,n,i){i.d(n,{Ec:function(){return j},Em:function(){return b},JM:function(){return p},NS:function(){return a},Pg:function(){return _},Q_:function(){return x},RH:function(){return m},Tv:function(){return c},U_:function(){return g},VN:function(){return s},Wj:function(){return u},ZS:function(){return v},_8:function(){return Z},d5:function(){return r},tB:function(){return h},vI:function(){return S},yx:function(){return d},zO:function(){return f}});var t=i(29439),l=i(91007),o=i(58208),a=function(e){var n=(0,o.YD)(e.search,{skip:e.skip});return{instituteAllSearch:n.data,instituteAllSearchRefetch:n.refetch}},s=function(){var e=(0,o.ak)();return[(0,t.Z)(e,1)[0]]},d=function(){var e=(0,o.WL)();return[(0,t.Z)(e,1)[0]]},c=function(e){var n=(0,o.pH)(e.list,{skip:e.skip});return{instituteFollowList:n.data,instituteFollowListRefetch:n.refetch}},r=function(e){var n=(0,o.MG)(e.data,{skip:e.skip});return{instituteOwnFollowingList:n.data,instituteOwnFollowingListRefetch:n.refetch}},u=function(){var e=(0,o.Ky)();return[(0,t.Z)(e,1)[0]]},v=function(e){var n=(0,o.p8)(e.list);return{userFollowList:n.data,userFollowListRefetch:n.refetch}},m=function(e){var n=(0,o.Wv)(e);return{userFollowingList:n.data,userFollowingListRefetch:n.refetch}},p=function(e){var n=(0,o.sz)(e.search,{skip:e.skip});return{userAllSearch:n.data,userAllSearchRefetch:n.refetch}},_=function(){var e=(0,o.Mk)();return[(0,t.Z)(e,1)[0]]},f=function(){var e=(0,o.$i)();return[(0,t.Z)(e,1)[0]]},h=function(){var e=(0,o.Do)();return[(0,t.Z)(e,1)[0]]},g=function(){var e=(0,o.He)();return[(0,t.Z)(e,1)[0]]},x=function(){var e=(0,o.vg)();return[(0,t.Z)(e,1)[0]]},j=function(){var e=(0,o.OO)();return[(0,t.Z)(e,1)[0]]},Z=function(e){var n=(0,o.N2)(e);return{userCircleList:n.data,userCircleListRefetch:n.refetch}},S=function(e){var n=(0,l.x6)(e.search,{skip:e.skip});return{assignSearchStaff:n.data,assignSearchStaffRefetch:n.refetch}},b=function(e){var n=(0,o.SJ)(e);return{universalUser:n.data,universalUserRefetch:n.refetch}}},64783:function(e,n,i){i(72791);var t=i(90788),l=i(16871),o=i(43504),a=i(80184);n.Z=function(e){var n=e.tabLevel,i=e.customStyleContainer,s=e.customStyleLevel,d=e.currentValue,c=e.tabValue,r=e.carryParentState,u=e.activeUrl,v=(0,l.UO)();return(0,a.jsx)(o.rU,{to:"/q/".concat(v.username,"/").concat(u),state:r,className:d===c?t.Z.common_tab_container_active:t.Z.common_tab_container,style:i,children:(0,a.jsx)("h6",{className:d===c?t.Z.common_tab_text_active:t.Z.common_tab_text,style:s,children:n})})}},98094:function(e,n,i){var t=i(1413),l=(i(72791),i(55136)),o=i(80184);n.Z=function(e){var n=e.customStyle;return(0,o.jsx)("hr",{className:l.Z.universal_hr,style:(0,t.Z)({},n)})}},42190:function(e,n){n.Z={insChat:"AdmisionAdmin_insChat__lOFwA",navbarr:"AdmisionAdmin_navbarr__JxsSe",admission_ins_container:"AdmisionAdmin_admission_ins_container__MAcuH"}},52124:function(e,n){n.Z={assign_title:"AssignStaffModal_assign_title__4DGBV",assign_search_container:"AssignStaffModal_assign_search_container__3x6RD",assign_search_input:"AssignStaffModal_assign_search_input__rO3c7",assign_show_list:"AssignStaffModal_assign_show_list__yHhf7",assign_show_list_each:"AssignStaffModal_assign_show_list_each__ACUEw",assign_each_paragraph:"AssignStaffModal_assign_each_paragraph__pMHTq",universal_modal:"AssignStaffModal_universal_modal__czmpB",is_mulitselect_container:"AssignStaffModal_is_mulitselect_container__0cPQ2"}},74737:function(e,n){n.Z={main:"Main_main__4mpMH",stats:"Main_stats__05reL",stats1:"Main_stats1__WlbdF",finance_container:"Main_finance_container__2pMkG",finance_container_other:"Main_finance_container_other__+Fq3c",institute_finance_container_border:"Main_institute_finance_container_border__Jgqpr",finance_tab_tabs:"Main_finance_tab_tabs__ufRpi",item:"Main_item__RsX-U",itemIcon:"Main_itemIcon__MA5vy"}},45639:function(e,n){n.Z={universal_container:"UniversalTab_universal_container__uxTOR",universal_container_item:"UniversalTab_universal_container_item__M0pS7",universal_container_item_active:"UniversalTab_universal_container_item_active__3u3Wt"}},89792:function(e,n){n.Z={navbar:"AdmissionSiteInfo_navbar__3qPXl",bgContainer:"AdmissionSiteInfo_bgContainer__HnhyZ",container:"AdmissionSiteInfo_container__HIvsR",containercontent:"AdmissionSiteInfo_containercontent__waYaP",containerhead:"AdmissionSiteInfo_containerhead__iNq+5",site_tab_container:"AdmissionSiteInfo_site_tab_container__wjSD6",site_tab_container_h6:"AdmissionSiteInfo_site_tab_container_h6__qNLeR",site_tab_container_h6_active:"AdmissionSiteInfo_site_tab_container_h6_active__wXF-l",container_inner_content:"AdmissionSiteInfo_container_inner_content__+psu6",show_field:"AdmissionSiteInfo_show_field__KlpRB",leading_person_container:"AdmissionSiteInfo_leading_person_container__F193z",leading_person_text:"AdmissionSiteInfo_leading_person_text__ez8d8",update_btn:"AdmissionSiteInfo_update_btn__upn6L",add_contact_person:"AdmissionSiteInfo_add_contact_person__1g6EG",add_contact_person_btn:"AdmissionSiteInfo_add_contact_person_btn__Ltl0+",labelContainer:"AdmissionSiteInfo_labelContainer__5pjlx",label:"AdmissionSiteInfo_label__bXkjx",inputBox:"AdmissionSiteInfo_inputBox__TAj3q",add_supporting_member:"AdmissionSiteInfo_add_supporting_member__vHGpU",add_supporting_member_heading:"AdmissionSiteInfo_add_supporting_member_heading__Ssh+Y",flexItem50:"AdmissionSiteInfo_flexItem50__XAjqB",fileinputflexContainer:"AdmissionSiteInfo_fileinputflexContainer__eyo27",input_label:"AdmissionSiteInfo_input_label__qJwiD",labelspan:"AdmissionSiteInfo_labelspan__mHavW",formselect:"AdmissionSiteInfo_formselect__d7NSq",input_border_active:"AdmissionSiteInfo_input_border_active__zIRs+",genderh:"AdmissionSiteInfo_genderh__EG6HT",genderplaceholder:"AdmissionSiteInfo_genderplaceholder__a+Q8r",upIcon:"AdmissionSiteInfo_upIcon__w42RU",downIcon:"AdmissionSiteInfo_downIcon__9MVVe",site_theme:"AdmissionSiteInfo_site_theme__1-dJU",site_theme_header:"AdmissionSiteInfo_site_theme_header__x99NO",site_theme_container:"AdmissionSiteInfo_site_theme_container__2viTW",site_theme_icon:"AdmissionSiteInfo_site_theme_icon__eEXvZ"}},85161:function(e,n){n.Z={remainingFees:"RemainingFees_remainingFees__G74JQ",subItem:"RemainingFees_subItem__maJF6",item:"RemainingFees_item__2o1X9",text:"RemainingFees_text__JnUvj"}},55136:function(e,n){n.Z={staff_profile_container:"StaffProfile_staff_profile_container__GG5AM",staff_header_container:"StaffProfile_staff_header_container__avRlK",staff_header_function:"StaffProfile_staff_header_function__l9cDM",staff_header_text:"StaffProfile_staff_header_text__XX8rQ",staff_header_prev:"StaffProfile_staff_header_prev__ImXKU",staff_header_next:"StaffProfile_staff_header_next__jjoJr",staff_header_close:"StaffProfile_staff_header_close__wXG-N",staff_profile_photo_name:"StaffProfile_staff_profile_photo_name__WWUV4",staff_profile_photo_index:"StaffProfile_staff_profile_photo_index__-yyx9",each_info_container:"StaffProfile_each_info_container__Mo3TB",each_field_text:"StaffProfile_each_field_text__vvAvg",each_field_text_value:"StaffProfile_each_field_text_value__k1OsE",universal_hr:"StaffProfile_universal_hr__w130J",staff_profile_photo_container:"StaffProfile_staff_profile_photo_container__rFPEV",staff_profile_photo_info:"StaffProfile_staff_profile_photo_info__CxVDi",staff_profile_photo_image:"StaffProfile_staff_profile_photo_image__5f2cC",staff_profile_photo_edit:"StaffProfile_staff_profile_photo_edit__y03dk",each_field_container:"StaffProfile_each_field_container__0qKjw",each_field:"StaffProfile_each_field__18G-9",student_attendane_container:"StaffProfile_student_attendane_container__64BII",student_attendance_heading:"StaffProfile_student_attendance_heading__0hW2K",colours:"StaffProfile_colours__-7mIV",monthColours:"StaffProfile_monthColours__A3asC",percentage:"StaffProfile_percentage__GO1RT",presentcount:"StaffProfile_presentcount__u30HH",absentcount:"StaffProfile_absentcount__d+utq",link_hold_container:"StaffProfile_link_hold_container__0dRjX",link_hold_container_hostel:"StaffProfile_link_hold_container_hostel__LcldT",card_hold_container:"StaffProfile_card_hold_container__HQQcE",admission_fees:"StaffProfile_admission_fees__MoZHM",certificate_btn_container:"StaffProfile_certificate_btn_container__jui9m",certificate_btn:"StaffProfile_certificate_btn__3NWfg",admission_actions:"StaffProfile_admission_actions__ayyJD",staff_designation_btn:"StaffProfile_staff_designation_btn__4C3h7"}}}]);
//# sourceMappingURL=5471.73aeb8d5.chunk.js.map