(self.webpackChunkmithkal_qviple=self.webpackChunkmithkal_qviple||[]).push([[69801],{85303:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>D});var n=l(63687),i=l(21348),s=l(72791),a=l(39230),d=l(23441),o=l(56959),c=l(90904),r=l(98684),u=l(57588),_=l(91427),v=l(6758);const h="FinanceAllStudent_student_table__Y3uXE",m="FinanceAllStudent_student_table_header__4fuiU",x="FinanceAllStudent_student_table_header_label__4x6eY",f="FinanceAllStudent_student_table_content_card__3KWaE",g="FinanceAllStudent_student_table_profile__QUIFN",p="FinanceAllStudent_student_table_header_name__x4ZNJ",j="FinanceAllStudent_student_table_header_label_text__lny-H",Z="FinanceAllStudent_student_table_contact__f4eB5",N="FinanceAllStudent_student_table_contact_email__dV19L",y="FinanceAllStudent_student_table_contact_number__r7HNK";var S=l(80184);const b=e=>{let{studentAlias:t}=e;const{t:l}=(0,a.$G)();return(0,S.jsx)("div",{className:h,children:(0,S.jsxs)("div",{className:m,children:[(0,S.jsx)("p",{className:x,style:{flex:"1"},children:null!==t&&void 0!==t?t:l("gr_no")}),(0,S.jsx)("p",{className:x,style:{flex:"3"},children:l("name")}),(0,S.jsx)("p",{className:x,style:{flex:"2"},children:l("contact_number")}),(0,S.jsx)("p",{className:x,style:{flex:"1"},children:l("applicable_outs")}),(0,S.jsx)("p",{className:x,style:{flex:"0.7"},children:l("govt_oustanding")})]})})};var I=l(1095),C=l(16871),F=l(43504);const A=e=>{var t,l,n,i,s,a,d,o,u;let{student:_,messageId:v,headId:h,instituteId:m,allStudentControl:b}=e;const A=(0,C.UO)(),Y=(0,C.TH)();return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(F.rU,{to:"/q/".concat(A.username,"/member/student/admission/profile"),state:{...Y.state,sid:null===_||void 0===_?void 0:_._id,messageId:v,headId:h,instituteId:m,collectAccess:null===b||void 0===b?void 0:b.collectAccess,govtAccess:null===b||void 0===b?void 0:b.govtAccess,cancelAccess:null===b||void 0===b?void 0:b.cancelAccess,editStructureControl:null===b||void 0===b?void 0:b.editStructureControl,editGovtNumberContorl:null===b||void 0===b?void 0:b.editGovtNumberContorl,editInstallmentControl:null===b||void 0===b?void 0:b.editInstallmentControl,editGovtInstallmentControl:null===b||void 0===b?void 0:b.editGovtInstallmentControl},children:[(0,S.jsxs)("div",{className:f,style:{cursor:"pointer"},children:[(0,S.jsx)("p",{className:x,style:{flex:"1"},children:null!==(t=null===_||void 0===_?void 0:_.studentGRNO)&&void 0!==t?t:""}),(0,S.jsxs)("div",{className:g,style:{flex:"3"},children:[(0,S.jsx)("img",{src:null!==_&&void 0!==_&&_.studentProfilePhoto?"".concat(I.yI,"/").concat(null===_||void 0===_?void 0:_.studentProfilePhoto):"".concat(r.p3,"/feed-user-avatar.svg"),loading:"lazy",alt:"avatar"}),(0,S.jsxs)("div",{children:[(0,S.jsxs)("p",{className:p,children:["".concat(null!==(l=null===_||void 0===_?void 0:_.studentFirstName)&&void 0!==l?l:""," ").concat(null!==(n=null===_||void 0===_?void 0:_.studentMiddleName)&&void 0!==n?n:""," ").concat(null!==(i=null===_||void 0===_?void 0:_.studentLastName)&&void 0!==i?i:""),"100"===(null===_||void 0===_?void 0:_.profile_percentage)||100===(null===_||void 0===_?void 0:_.profile_percentage)?(0,S.jsx)("img",{src:"".concat(r.Fk,"/complete.svg"),loading:"lazy",alt:"avatar",style:{marginLeft:"0.6rem",height:"1rem"}}):null]}),(0,S.jsx)("p",{className:j,children:null!==(s=null===_||void 0===_||null===(a=_.studentClass)||void 0===a?void 0:a.classTitle)&&void 0!==s?s:""})]})]}),(0,S.jsxs)("div",{className:x,style:{flex:"2"},children:[(0,S.jsxs)("div",{className:Z,children:[(0,S.jsx)("img",{src:"".concat(r.Fk,"/gender.svg"),alt:"gender icon"}),(0,S.jsx)("p",{className:N,children:null===_||void 0===_?void 0:_.studentGender})]}),(0,S.jsxs)("div",{className:Z,style:{marginTop:"0.4rem"},children:[(0,S.jsx)("img",{src:"".concat(r.Fk,"/phone.svg"),alt:"phone icon"}),(0,S.jsx)("p",{className:y,children:null!==_&&void 0!==_&&_.user.userPhoneNumber?null===_||void 0===_?void 0:_.user.userPhoneNumber:null!==(d=null===_||void 0===_?void 0:_.user.userEmail)&&void 0!==d?d:""})]})]}),(0,S.jsx)("p",{className:x,style:{flex:"1",textAlign:"right"},children:null!==(o=null===_||void 0===_?void 0:_.applicable_fees_pending)&&void 0!==o?o:0}),(0,S.jsx)("p",{className:x,style:{flex:"0.7",textAlign:"right"},children:null!==(u=null===_||void 0===_?void 0:_.government_fees_pending)&&void 0!==u?u:0})]}),(0,S.jsx)(c.Z,{customStyleBorder:{margin:"0"}})]})})};var Y=l(55336),M=l(1669),k=l(2651);const D=e=>{var t,l,h,m,x;let{instituteId:f,studentAlias:g,headId:p,messageId:j,invalidateAccess:Z,allStudentControl:N}=e;const{t:y}=(0,a.$G)(),[I,C]=(0,s.useState)(""),[F,D]=(0,s.useState)(1),[E,P]=(0,s.useState)(!0),[T,w]=(0,d.YD)({skip:I}),{instituteAllStudent:B,instituteAllStudentLoading:U}=(0,v.Cp)({data:{id:f,page:F,limit:10,search:I},skip:!f});(0,s.useEffect)((()=>{w&&E&&D((e=>e+1))}),[w,E]),(0,s.useEffect)((()=>{if(null!==B&&void 0!==B&&B.list){var e;let t=(0,_.f)(null===B||void 0===B||null===(e=B.list)||void 0===e?void 0:e.length);P((()=>t))}}),[null===B||void 0===B?void 0:B.list]);const G=(0,s.useCallback)((0,u.J)((e=>{D((()=>1)),C(e)}),1500),[]),J=e=>{e.target.value?U||G(e.target.value):(D((()=>1)),C(""))};return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(n.Z,{customStyle:{border:L[Z]?"none":"0.5px solid #cacaca"},children:[L[Z]?(0,S.jsx)(i.Z,{children:(0,S.jsx)("div",{className:o.Z.fm_search_full,children:(0,S.jsx)("section",{className:o.Z.fm_search_full_container,children:(0,S.jsxs)("div",{className:o.Z.fm_search_full_container_inner,children:[(0,S.jsx)("img",{className:o.Z.fm_search_full_icon,alt:"search icon",src:"".concat(r.dB,"/navbar-search.svg")}),(0,S.jsx)("input",{type:"text",placeholder:y("search"),onChange:J,disabled:!(I||(null===B||void 0===B||null===(t=B.list)||void 0===t?void 0:t.length)>0)})]})})})}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(i.Z,{children:(0,S.jsxs)("div",{className:o.Z.fm_header_container,children:[(0,S.jsx)("h6",{children:y("all_students")}),(0,S.jsx)("div",{className:o.Z.fm_both_filter,children:(0,S.jsx)("div",{className:o.Z.fm_search,children:(0,S.jsx)("section",{className:o.Z.fm_search_container,children:(0,S.jsxs)("div",{className:o.Z.fm_search_container_inner,children:[(0,S.jsx)("img",{className:o.Z.fm_search_icon,alt:"search icon",src:"".concat(r.dB,"/navbar-search.svg")}),(0,S.jsx)("input",{type:"text",placeholder:y("search"),onChange:J,style:{minWidth:"300px"},disabled:!(I||(null===B||void 0===B||null===(l=B.list)||void 0===l?void 0:l.length)>0)})]})})})})]})}),(0,S.jsx)(c.Z,{})]}),(0,S.jsx)(i.Z,{children:(0,S.jsx)(b,{studentAlias:g})}),(0,S.jsx)(c.Z,{}),(0,S.jsxs)(i.Z,{children:[null===B||void 0===B||null===(h=B.list)||void 0===h?void 0:h.map(((e,t)=>{var l;return(null===B||void 0===B||null===(l=B.list)||void 0===l?void 0:l.length)===t+1?(0,S.jsx)("div",{ref:T,children:(0,S.jsx)(A,{student:e,instituteId:f,messageId:j,headId:p,allStudentControl:N})},null===e||void 0===e?void 0:e._id):(0,S.jsx)(A,{student:e,instituteId:f,messageId:j,headId:p,allStudentControl:N},null===e||void 0===e?void 0:e._id)})),U?I?(0,S.jsx)(Y.Z,{}):(0,S.jsx)(M.Z,{}):I?0===(null===B||void 0===B||null===(m=B.list)||void 0===m?void 0:m.length)&&(0,S.jsx)(k.Z,{title:"No student found related this search."}):0===(null===B||void 0===B||null===(x=B.list)||void 0===x?void 0:x.length)&&(0,S.jsx)(k.Z,{title:"No students added in institute."})]})]})})},L={unAuthorized:!0,govt:!0}},69801:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>Q});var n=l(39230),i=l(56959),s=l(43504),a=l(16871),d=l(63687),o=l(21348),c=l(90904),r=l(98967),u=l(63162),_=l(72791),v=l(55336),h=l(43172),m=l(23441),x=l(91427),f=l(57588),g=l(1669),p=l(2651),j=l(6758),Z=l(98684),N=l(1095),y=l(97892),S=l.n(y);const b="Scholarship_candidate_card_container__vP99D",I="Scholarship_candidate_card_container_text__1iyok",C="Scholarship_candidate_card_row__gTdMF";var F=l(80184);const A=e=>{var t,l,i,s,a,d,o,c,r,u,_,v,h,m,x,f,g,p,j,y,A;let{candidate:Y}=e;const{t:M}=(0,n.$G)();return(0,F.jsxs)("div",{className:b,children:[(0,F.jsx)("img",{src:null!==Y&&void 0!==Y&&null!==(t=Y.student)&&void 0!==t&&t.studentProfilePhoto?"".concat(N.yI,"/").concat(null===Y||void 0===Y||null===(l=Y.student)||void 0===l?void 0:l.studentProfilePhoto):"".concat(Z.p3,"/feed-user-avatar.svg"),alt:""}),(0,F.jsxs)("div",{className:I,children:[(0,F.jsxs)("div",{className:C,children:[(0,F.jsx)("h6",{children:"".concat(null!==(i=null===Y||void 0===Y||null===(s=Y.student)||void 0===s?void 0:s.studentFirstName)&&void 0!==i?i:""," ").concat(null!==(a=null===Y||void 0===Y||null===(d=Y.student)||void 0===d?void 0:d.studentMiddleName)&&void 0!==a?a:""," ").concat(null!==(o=null===Y||void 0===Y||null===(c=Y.student)||void 0===c?void 0:c.studentLastName)&&void 0!==o?o:"")}),(0,F.jsxs)("h6",{children:[M("rs_only")," ",null!==(r=null===Y||void 0===Y?void 0:Y.fee_payment_amount)&&void 0!==r?r:0]})]}),(0,F.jsxs)("div",{className:C,children:[(0,F.jsxs)("p",{children:[M("gr_number"),null!==(u=null===Y||void 0===Y||null===(_=Y.student)||void 0===_?void 0:_.studentGRNO)&&void 0!==u?u:""," ",", ","(".concat(null!==(v=null===Y||void 0===Y||null===(h=Y.student)||void 0===h||null===(m=h.batches)||void 0===m?void 0:m.batchName)&&void 0!==v?v:"",")")]}),(0,F.jsx)("p",{children:null===(x=S()(null===Y||void 0===Y?void 0:Y.fee_transaction_date))||void 0===x?void 0:x.format("DD MMM YYYY")})]}),(0,F.jsx)("div",{className:C,children:(0,F.jsxs)("p",{children:[M("class_candi")," ",null!==(f=null===Y||void 0===Y||null===(g=Y.student)||void 0===g||null===(p=g.studentClass)||void 0===p?void 0:p.className)&&void 0!==f?f:""," ",null!==(j=null===Y||void 0===Y||null===(y=Y.student)||void 0===y||null===(A=y.studentClass)||void 0===A?void 0:A.classTitle)&&void 0!==j?j:""]})})]})]})};var Y=l(44226),M=l(93638),k=l(84959);const D=e=>{var t,l,s;let{fid:a,aid:d,instituteId:o,onToggle:c}=e;const{t:r}=(0,n.$G)(),[u,h]=(0,_.useState)(!1),[N,y]=(0,_.useState)(""),[S,b]=(0,_.useState)(1),[I,C]=(0,_.useState)(!0),[D,L]=(0,m.YD)({skip:N}),[E]=(0,k.FL)(),[P]=(0,j.Hq)(),[T]=(0,j.qJ)(),{financeAllotScholarshipHistory:w,financeAllotScholarshipHistoryLoading:B}=(0,j.Dx)({data:{fid:a,page:S,limit:10,search:N,flow:"BY_FINANCE"},skip:!a});(0,_.useEffect)((()=>{L&&I&&b((e=>e+1))}),[L,I]),(0,_.useEffect)((()=>{var e;if(null!==w&&void 0!==w&&null!==(e=w.list)&&void 0!==e&&e.length){var t;let e=(0,x.f)(null===w||void 0===w||null===(t=w.list)||void 0===t?void 0:t.length);C((()=>e))}}),[null===w||void 0===w?void 0:w.list]);const U=(0,_.useCallback)((0,f.J)((e=>{b((()=>1)),y(e)}),1500),[]);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)("div",{className:i.Z.fm_search_full,style:{marginBlock:"0.6rem"},children:[(0,F.jsx)("section",{className:i.Z.fm_search_full_container,style:{width:"auto"},children:(0,F.jsxs)("div",{className:i.Z.fm_search_full_container_inner,style:{width:"auto"},children:[(0,F.jsx)("img",{className:i.Z.fm_search_full_icon,alt:"search icon",src:"".concat(Z.dB,"/navbar-search.svg")}),(0,F.jsx)("input",{type:"text",placeholder:r("search"),onChange:e=>{e.target.value?U(e.target.value):(b((()=>1)),y(""))},style:{minWidth:"250px"}})]})}),(0,F.jsxs)("div",{className:i.Z.fm_search_full,style:{width:"auto"},children:[(0,F.jsx)(Y.Z,{onExcelFileUpload:e=>{var t,l;if(null!==(t=e.target)&&void 0!==t&&null!==(l=t.files)&&void 0!==l&&l.length&&o){h((e=>!e));const t=new FormData;t.append("file",e.target.files[0]),E({fileUpload:t}).then((e=>{var t,l;null!==(t=e.data)&&void 0!==t&&t.imageKey?T({id:o,excelFile:{excel_file:null===(l=e.data)||void 0===l?void 0:l.imageKey}}).then((()=>{h((e=>!e))})).catch({}):h((e=>!e))})).catch({})}},dynamicKey:"scholarshipNumber",title:"Scholarship Number Excel",label:"Number Excel"}),(0,F.jsx)(Y.Z,{dynamicKey:"scholashipAllottment",onExcelFileUpload:e=>{var t,l;if(null!==(t=e.target)&&void 0!==t&&null!==(l=t.files)&&void 0!==l&&l.length&&d){h((e=>!e));const t=new FormData;t.append("file",e.target.files[0]),E({fileUpload:t}).then((e=>{var t,l;null!==(t=e.data)&&void 0!==t&&t.imageKey?P({aid:d,excelFile:{excel_file:null===(l=e.data)||void 0===l?void 0:l.imageKey}}).then((()=>{h((e=>!e))})).catch({}):h((e=>!e))})).catch({})}},title:"Scholarship Allottment Excel",label:"Allottment Excel"}),(0,F.jsx)(M.Z,{label:"allot_scholarship",customStyle:{minWidth:"fit-content",paddingBlock:"0.4rem",margin:"0"},onAction:c})]})]}),null===w||void 0===w||null===(t=w.list)||void 0===t?void 0:t.map(((e,t)=>{var l;return(null===w||void 0===w||null===(l=w.list)||void 0===l?void 0:l.length)===t+1?(0,F.jsx)("div",{ref:D,children:(0,F.jsx)(A,{candidate:e})},null===e||void 0===e?void 0:e._id):(0,F.jsx)(A,{candidate:e},null===e||void 0===e?void 0:e._id)})),B?N?(0,F.jsx)(v.Z,{}):(0,F.jsx)(g.Z,{}):N?0===(null===w||void 0===w||null===(l=w.list)||void 0===l?void 0:l.length)&&(0,F.jsx)(p.Z,{title:"No allot scholarship students found related this search."}):0===(null===w||void 0===w||null===(s=w.list)||void 0===s?void 0:s.length)&&(0,F.jsx)(p.Z,{title:"No allot scholarship students."}),u&&(0,F.jsx)(v.Z,{})]})},L=e=>{let{aid:t,instituteId:l,fid:n}=e;const i=(0,a.s0)(),s=(0,a.UO)(),[d,o]=(0,_.useState)(!1),c=()=>{o((e=>!e))};return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(D,{fid:n,aid:t,instituteId:l,onToggle:c}),d&&(0,F.jsx)(h.Z,{onClose:c,onSelectStudent:e=>{i("/q/".concat(s.username,"/member/student/admission/profile"),{state:{sid:null===e||void 0===e?void 0:e._id,collectAccess:"OTHER",instituteId:l,govtAccess:"Finance_scholarship",cancelAccess:!1,editStructureControl:"authorized",editGovtNumberContorl:"authorized",editInstallmentControl:"authorized",editGovtInstallmentControl:"authorized"}})},instituteId:l})]})};var E=l(82824),P=l(72888);const T=e=>{var t;let{excel:l}=e;return(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)("a",{className:P.Z.export_card,title:"Download File",href:"".concat(N.LS,"/").concat(null===l||void 0===l?void 0:l.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,F.jsx)("img",{src:"".concat(Z.J7,"/xsxl.svg"),className:P.Z.export_card_image,alt:"excel icon"}),(0,F.jsxs)("section",{className:P.Z.export_card_text,children:[(0,F.jsx)("h6",{children:null!==(t=null===l||void 0===l?void 0:l.excel_file_name)&&void 0!==t?t:""}),(0,F.jsxs)("div",{className:P.Z.export_card_date,children:[(0,F.jsx)("h6",{children:S()(null===l||void 0===l?void 0:l.created_at).format("DD MMM YYYY")}),(0,F.jsx)("h6",{children:(0,E.J)(null===l||void 0===l?void 0:l.created_at,"LT")})]})]})]},null===l||void 0===l?void 0:l._id)})},w=e=>{var t,l,s;let{fid:a}=e;const{t:d}=(0,n.$G)(),[o,c]=(0,_.useState)(""),[r,u]=(0,_.useState)(1),[h,N]=(0,_.useState)(!0),[y,S]=(0,m.YD)({skip:o}),{financeMismatchScholarshipHistory:b,financeMismatchScholarshipHistoryLoading:I}=(0,j.i8)({data:{fid:a,page:r,limit:10,search:o,flow:"BY_FINANCE"},skip:!a});(0,_.useEffect)((()=>{S&&h&&u((e=>e+1))}),[S,h]),(0,_.useEffect)((()=>{var e;if(null!==b&&void 0!==b&&null!==(e=b.list)&&void 0!==e&&e.length){var t;let e=(0,x.f)(null===b||void 0===b||null===(t=b.list)||void 0===t?void 0:t.length);N((()=>e))}}),[null===b||void 0===b?void 0:b.list]);const C=(0,_.useCallback)((0,f.J)((e=>{u((()=>1)),c(e)}),1500),[]);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("div",{className:i.Z.fm_search_full,style:{marginBlock:"0.6rem"},children:(0,F.jsx)("section",{className:i.Z.fm_search_full_container,children:(0,F.jsxs)("div",{className:i.Z.fm_search_full_container_inner,children:[(0,F.jsx)("img",{className:i.Z.fm_search_full_icon,alt:"search icon",src:"".concat(Z.dB,"/navbar-search.svg")}),(0,F.jsx)("input",{type:"text",placeholder:d("search"),onChange:e=>{e.target.value?C(e.target.value):(u((()=>1)),c(""))}})]})})}),null===b||void 0===b||null===(t=b.list)||void 0===t?void 0:t.map(((e,t)=>{var l;return(null===b||void 0===b||null===(l=b.list)||void 0===l?void 0:l.length)===t+1?(0,F.jsx)("div",{ref:y,children:(0,F.jsx)(T,{excel:e})},null===e||void 0===e?void 0:e._id):(0,F.jsx)(T,{excel:e},null===e||void 0===e?void 0:e._id)})),I?o?(0,F.jsx)(v.Z,{}):(0,F.jsx)(g.Z,{}):o?0===(null===b||void 0===b||null===(l=b.list)||void 0===l?void 0:l.length)&&(0,F.jsx)(p.Z,{title:"No mismatch excel found related this search."}):0===(null===b||void 0===b||null===(s=b.list)||void 0===s?void 0:s.length)&&(0,F.jsx)(p.Z,{title:"No mismatch excel."})]})},B=e=>{var t;let{excel:l}=e;return(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)("a",{className:P.Z.export_card,title:"Download File",href:"".concat(N.LS,"/").concat(null===l||void 0===l?void 0:l.excel_file),target:"_blank",rel:"noopener noreferrer",children:[(0,F.jsx)("img",{src:"".concat(Z.J7,"/xsxl.svg"),className:P.Z.export_card_image,alt:"excel icon"}),(0,F.jsxs)("section",{className:P.Z.export_card_text,children:[(0,F.jsx)("h6",{children:null!==(t=null===l||void 0===l?void 0:l.excel_file_name)&&void 0!==t?t:""}),(0,F.jsxs)("div",{className:P.Z.export_card_date,children:[(0,F.jsx)("h6",{children:S()(null===l||void 0===l?void 0:l.created_at).format("DD MMM YYYY")}),(0,F.jsx)("h6",{children:(0,E.J)(null===l||void 0===l?void 0:l.created_at,"LT")})]})]})]},null===l||void 0===l?void 0:l._id)})};var U=l(48293),G=l(16925),J=l(60924),H=l(43997);const K=e=>{let{onClose:t,instituteId:l}=e;const{t:i}=(0,n.$G)(),[s,a]=(0,_.useState)(!1),[d,r]=(0,_.useState)({from:"",to:""}),[u]=(0,j.CI)();return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(U.Z,{onClose:t,children:(0,F.jsxs)("div",{className:G.Z.modal_container,children:[(0,F.jsx)(o.Z,{children:(0,F.jsxs)("div",{className:G.Z.modal_container_outer_header,children:[(0,F.jsx)("div",{className:G.Z.modal_container_header,children:(0,F.jsx)("h6",{children:i("export_scholarship_excel")})}),(0,F.jsx)("img",{src:"".concat(Z.J7,"/close.svg"),alt:"close icon",onClick:t})]})}),(0,F.jsx)(c.Z,{}),(0,F.jsxs)(o.Z,{customStyle:{paddingTop:"0"},children:[(0,F.jsx)(J.Z,{name:"from",label:i("o__from"),placeholder:i("o__please_select_date"),onChange:e=>{r((t=>({...t,from:(0,H.jh)(e)})))},value:d.from}),(0,F.jsx)(J.Z,{name:"to",label:i("o__to"),placeholder:i("o__please_select_date"),onChange:e=>{r((t=>({...t,to:(0,H.jh)(e)})))},value:d.to}),(0,F.jsx)(M.Z,{label:"export",onAction:()=>{l&&(a((e=>!e)),u({id:l,from:null!==d&&void 0!==d&&d.from?(0,H.O_)(d.from):"",to:null!==d&&void 0!==d&&d.to?(0,H.O_)(d.to):"",timeline:"false",timeline_content:""}).then((()=>{a((e=>!e)),t()})).catch({}))}})]}),s&&(0,F.jsx)(v.Z,{})]})})})},z=e=>{var t,l,s;let{instituteId:a}=e;const{t:d}=(0,n.$G)(),[o,c]=(0,_.useState)(!1),[r,u]=(0,_.useState)(""),[h,N]=(0,_.useState)(1),[y,S]=(0,_.useState)(!0),[b,I]=(0,m.YD)({skip:r}),{financeAllotScholarshipExcelHistory:C,financeAllotScholarshipExcelHistoryLoading:A}=(0,j.OD)({data:{id:a,page:h,limit:10,search:r,flow:"BY_FINANCE"},skip:!a});(0,_.useEffect)((()=>{I&&y&&N((e=>e+1))}),[I,y]),(0,_.useEffect)((()=>{var e;if(null!==C&&void 0!==C&&null!==(e=C.list)&&void 0!==e&&e.length){var t;let e=(0,x.f)(null===C||void 0===C||null===(t=C.list)||void 0===t?void 0:t.length);S((()=>e))}}),[null===C||void 0===C?void 0:C.list]);const Y=(0,_.useCallback)((0,f.J)((e=>{N((()=>1)),u(e)}),1500),[]),M=(0,_.useCallback)((()=>{c((e=>!e))}),[]);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)("div",{className:i.Z.fm_search_full,style:{marginBlock:"0.6rem"},children:[(0,F.jsx)("section",{className:i.Z.fm_search_full_container,children:(0,F.jsxs)("div",{className:i.Z.fm_search_full_container_inner,children:[(0,F.jsx)("img",{className:i.Z.fm_search_full_icon,alt:"search icon",src:"".concat(Z.dB,"/navbar-search.svg")}),(0,F.jsx)("input",{type:"text",placeholder:d("search"),onChange:e=>{e.target.value?Y(e.target.value):(N((()=>1)),u(""))}})]})}),(0,F.jsx)("img",{src:"".concat(Z.J7,"/filter.svg"),alt:"filter icon",onClick:M})]}),null===C||void 0===C||null===(t=C.list)||void 0===t?void 0:t.map(((e,t)=>{var l;return(null===C||void 0===C||null===(l=C.list)||void 0===l?void 0:l.length)===t+1?(0,F.jsx)("div",{ref:b,children:(0,F.jsx)(B,{excel:e})},null===e||void 0===e?void 0:e._id):(0,F.jsx)(B,{excel:e},null===e||void 0===e?void 0:e._id)})),A?r?(0,F.jsx)(v.Z,{}):(0,F.jsx)(g.Z,{}):r?0===(null===C||void 0===C||null===(l=C.list)||void 0===l?void 0:l.length)&&(0,F.jsx)(p.Z,{title:"No export excel found related this search."}):0===(null===C||void 0===C||null===(s=C.list)||void 0===s?void 0:s.length)&&(0,F.jsx)(p.Z,{title:"No export excel."}),o&&(0,F.jsx)(K,{onClose:M,instituteId:a})]})};var O=l(4007),$=l(43677);const q=e=>{let{fid:t,carryParentState:l}=e;const{t:i}=(0,n.$G)(),[s,a]=(0,_.useState)(""),[d,o]=(0,_.useState)([]),{instituteAllDepartment:c,instituteAllDepartmentLoading:r}=(0,j.Jv)({fid:t,skip:!t});(0,_.useEffect)((()=>{c&&o(c)}),[c]);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("div",{className:O.Z.fm_search_full,style:{marginBlock:"0.6rem"},children:(0,F.jsx)("section",{className:O.Z.fm_search_full_container,children:(0,F.jsxs)("div",{className:O.Z.fm_search_full_container_inner,children:[(0,F.jsx)("img",{className:O.Z.fm_search_full_icon,alt:"search icon",src:"".concat(Z.dB,"/navbar-search.svg")}),(0,F.jsx)("input",{type:"text",placeholder:i("search"),onChange:e=>{if(e.target.value){let t=null===c||void 0===c?void 0:c.filter((t=>{var l,n,i;return null!==t&&void 0!==t&&null!==(l=t.dName)&&void 0!==l&&null!==(n=l.toLowerCase())&&void 0!==n&&n.includes(null===(i=e.target.value)||void 0===i?void 0:i.toLowerCase())?t:null}));o(t),a(e.target.value)}else a(""),o(c)}})]})})}),(0,F.jsx)("div",{className:O.Z.department_container,children:null===d||void 0===d?void 0:d.map((e=>(0,F.jsx)($.Z,{parentState:{...l,did:null===e||void 0===e?void 0:e._id,dName:null===e||void 0===e?void 0:e.dName},activeUrl:"type=scholarship&n=fund&d=fund-detail",children:(0,F.jsxs)("div",{className:O.Z.department_card_container,children:[(0,F.jsx)("img",{src:"".concat(Z.J7,"/department.svg"),alt:"department avatar",className:O.Z.department_card_image}),(0,F.jsx)("div",{children:(0,F.jsx)("h6",{className:O.Z.department_card_name,children:(null===e||void 0===e?void 0:e.dName)||""})})]})},null===e||void 0===e?void 0:e._id)))}),r?(0,F.jsx)(g.Z,{}):s?!(null!==d&&void 0!==d&&d.length)&&(0,F.jsx)(p.Z,{title:"No department found related this search."}):!(null!==d&&void 0!==d&&d.length)&&(0,F.jsx)(p.Z,{title:"No department list found."})]})};var W=l(51136);const X=()=>{var e,t,l,s,r;const{t:u}=(0,n.$G)(),h=(0,a.TH)(),[m,x]=(0,_.useState)(!1),[f]=(0,j.D2)(),{financeScholarshipDepartmentFund:g,financeScholarshipDepartmentFundRefetch:p}=(0,j.Tq)({data:{did:null===(e=h.state)||void 0===e?void 0:e.did},skip:!(null!==(t=h.state)&&void 0!==t&&t.did)});return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(d.Z,{children:[(0,F.jsx)(o.Z,{children:(0,F.jsx)("div",{className:i.Z.fm_header_container,children:(0,F.jsx)("h6",{children:null!==(l=null===(s=h.state)||void 0===s?void 0:s.dName)&&void 0!==l?l:""})})}),(0,F.jsx)(c.Z,{}),(0,F.jsxs)(o.Z,{customStyle:{paddingTop:"0.2rem"},children:[(0,F.jsx)("div",{className:i.Z.fm_fs_container,style:{justifyContent:"flex-end"},children:(0,F.jsx)("div",{className:i.Z.fm_fs_container_inner,children:(0,F.jsxs)("div",{className:i.Z.fm_fs_refetch_container,onClick:()=>{var e,t;null!==(e=h.state)&&void 0!==e&&e.did&&(x((e=>!e)),f({scholarship:{did:null===(t=h.state)||void 0===t?void 0:t.did}}).then((()=>{p(),x((e=>!e))})).catch({}))},children:[(0,F.jsx)("img",{src:"".concat(Z.J7,"/refresh.svg"),alt:"refetch icon"}),(0,F.jsxs)("div",{className:i.Z.fm_fs_refetch_container_inner,children:[(0,F.jsx)("h6",{children:u("refetch_data")}),(0,F.jsxs)("p",{children:[u("last_updated")," : ",S()(null===g||void 0===g?void 0:g.last_update).format("DD MMM YYYY"),", ",(0,E.J)(null===g||void 0===g?void 0:g.last_update,"LT")]})]})]})})}),(0,F.jsx)("div",{className:W.Z.osc_container_inner,style:{justifyContent:"flex-start",gap:"1rem",flexWrap:"wrap"},children:null===g||void 0===g||null===(r=g.custom_classes)||void 0===r?void 0:r.map((e=>{var t,l,n;return(0,F.jsxs)("div",{className:W.Z.osc_card,children:[(0,F.jsx)("img",{src:"".concat(Z.J7,"/total-collection.svg"),alt:"overal icon"}),(0,F.jsxs)("div",{className:W.Z.osc_card_inner,children:[(0,F.jsxs)("p",{children:[u("batch")," ",":"," ",null!==(t=null===e||void 0===e?void 0:e.batch)&&void 0!==t?t:""]}),(0,F.jsxs)("h6",{children:[u("collect_from_gov")," ",": ",u("rs_only")," ",null!==(l=null===e||void 0===e?void 0:e.collect_by_government)&&void 0!==l?l:0]}),(0,F.jsxs)("h6",{children:[u("outstanding_from_gov")," ",": ",u("rs_only")," ",null!==(n=null===e||void 0===e?void 0:e.pending_from_government)&&void 0!==n?n:0]})]})]})}))})]})]}),m&&(0,F.jsx)(v.Z,{})]})};var R=l(85303);const Q=e=>{let{fid:t,instituteId:l,aid:h,studentAlias:m}=e;const{t:x}=(0,n.$G)(),[f]=(0,s.lr)(),g=(0,a.TH)(),p=(0,a.UO)();return(0,F.jsxs)(d.Z,{children:[(0,F.jsx)(o.Z,{children:(0,F.jsx)("div",{className:i.Z.fm_header_container,children:(0,F.jsx)("h6",{children:x("scholarship_management")})})}),(0,F.jsx)(c.Z,{}),(0,F.jsxs)(o.Z,{customStyle:{paddingTop:"0"},children:[(0,F.jsx)(r.Z,{children:ee.map((e=>{var t,l;return(0,F.jsx)(u.Z,{tab:e,isLink:!0,isActive:null===(t=e.groupIs)||void 0===t?void 0:t.includes(f.get("n")),parentState:g.state,url:"Institute"===(null===(l=g.state)||void 0===l?void 0:l.urlOffSet)?"/q/".concat(p.username,"/institute/member/finance?type=scholarship").concat(e.urlKey):"/q/".concat(p.username,"/member/staff/finance?type=scholarship").concat(e.urlKey)},null===e||void 0===e?void 0:e.id)}))}),(0,F.jsx)(c.Z,{customStyleBorder:{marginTop:"0"}})]}),(0,F.jsx)(_.Suspense,{fallback:(0,F.jsx)(v.Z,{}),children:"fund-detail"===f.get("d")?(0,F.jsx)(o.Z,{customStyle:{paddingTop:"0"},children:(0,F.jsx)(X,{})}):"mismatch"===f.get("n")?(0,F.jsx)(o.Z,{customStyle:{paddingTop:"0"},children:(0,F.jsx)(w,{fid:t})}):"export"===f.get("n")?(0,F.jsx)(o.Z,{customStyle:{paddingTop:"0"},children:(0,F.jsx)(z,{instituteId:l})}):"fund"===f.get("n")?(0,F.jsx)(o.Z,{customStyle:{paddingTop:"0"},children:(0,F.jsx)(q,{fid:t,carryParentState:g.state})}):"allottment"===f.get("n")?(0,F.jsx)(o.Z,{customStyle:{paddingTop:"0"},children:(0,F.jsx)(L,{instituteId:l,aid:h,fid:t})}):(0,F.jsx)(R.default,{instituteId:l,studentAlias:m,invalidateAccess:"unAuthorized",allStudentControl:V})})]})},V={collectAccess:"Other",govtAccess:"Other",cancelAccess:!1,editStructureControl:"authorized",editGovtNumberContorl:"authorized",editInstallmentControl:"authorized",editGovtInstallmentControl:"authorized"},ee=[{label:"all_students",id:"student",urlKey:"",groupIs:["",null]},{label:"allottment",id:"allottment",urlKey:"&n=allottment",groupIs:["allottment"]},{label:"fund",id:"fund",urlKey:"&n=fund",groupIs:["fund"]},{label:"mismatch",id:"mismatch",urlKey:"&n=mismatch",groupIs:["mismatch"]},{label:"export",id:"export",urlKey:"&n=export",groupIs:["export"]}]},43172:(e,t,l)=>{"use strict";l.d(t,{Z:()=>j});var n=l(49806),i=l(48293),s=l(21348),a=l(90904),d=l(98684),o=l(39230),c=l(72791),r=l(23441),u=l(91427),_=l(57588),v=l(6758),h=l(1095),m=l(80184);const x=e=>{var t,l,i;let{student:s,selectedId:c,onSelect:r}=e;const{t:u}=(0,o.$G)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:n.Z.assign_show_list_each,style:c===(null===s||void 0===s?void 0:s._id)?{backgroundColor:"rgba(75, 26, 133, 0.1)"}:null,onClick:()=>{r(s)},children:[(0,m.jsx)("img",{src:null!==s&&void 0!==s&&s.studentProfilePhoto?"".concat(h.yI,"/").concat(s.studentProfilePhoto):"".concat(d.p3,"/feed-staff-avatar.svg"),alt:"profile avatar"}),(0,m.jsxs)("div",{className:n.Z.assign_each_paragraph,children:[(0,m.jsx)("h6",{children:"".concat(null!==(t=null===s||void 0===s?void 0:s.studentFirstName)&&void 0!==t?t:""," ").concat(null!==(l=null===s||void 0===s?void 0:s.studentMiddleName)&&void 0!==l?l:""," ").concat(null!==(i=null===s||void 0===s?void 0:s.studentLastName)&&void 0!==i?i:"")}),(0,m.jsxs)("p",{children:[u("gr_number")," "," : ",null===s||void 0===s?void 0:s.studentGRNO]})]})]}),(0,m.jsx)(a.Z,{customStyleBorder:{margin:"0"}})]})};var f=l(55336),g=l(1669),p=l(2651);const j=e=>{var t,l,h;let{onClose:j,selectedId:Z,onSelectStudent:N,instituteId:y,title:S}=e;const{t:b}=(0,o.$G)(),[I,C]=(0,c.useState)(""),[F,A]=(0,c.useState)(1),[Y,M]=(0,c.useState)(!0),[k,D]=(0,r.YD)({skip:I}),{instituteAllStudent:L,instituteAllStudentLoading:E}=(0,v.Cp)({data:{id:y,page:F,limit:10,search:I},skip:!y});(0,c.useEffect)((()=>{D&&Y&&A((e=>e+1))}),[D,Y]),(0,c.useEffect)((()=>{var e;if(null!==L&&void 0!==L&&null!==(e=L.list)&&void 0!==e&&e.length){var t;let e=(0,u.f)(null===L||void 0===L||null===(t=L.list)||void 0===t?void 0:t.length);M((()=>e))}}),[null===L||void 0===L?void 0:L.list]);const P=(0,c.useCallback)((0,_.J)((e=>{A((()=>1)),C(e)}),1500),[]),T=e=>{Z===(null===e||void 0===e?void 0:e._id)||N(e)};return(0,m.jsx)(i.Z,{onClose:j,children:(0,m.jsxs)("div",{className:n.Z.modal_container,children:[(0,m.jsx)(s.Z,{children:(0,m.jsxs)("div",{className:n.Z.modal_container_outer_header,children:[(0,m.jsx)("div",{className:n.Z.modal_container_header,children:(0,m.jsx)("h6",{children:null!==S&&void 0!==S?S:b("student_list")})}),(0,m.jsx)("img",{src:"".concat(d.J7,"/close.svg"),alt:"close icon",onClick:j})]})}),(0,m.jsx)(a.Z,{}),(0,m.jsxs)(s.Z,{customStyle:{paddingBottom:"1rem"},children:[(0,m.jsxs)("div",{className:n.Z.assign_search_container,style:{marginBottom:"1rem"},children:[(0,m.jsx)("input",{type:"text",placeholder:b("search"),className:n.Z.assign_search_input,onChange:e=>{e.target.value?P(e.target.value):(A((()=>1)),C(""))},style:{width:"100%"}}),(0,m.jsx)("img",{src:"".concat(d.dB,"/navbar-search.svg"),alt:"search icon"})]}),null===L||void 0===L||null===(t=L.list)||void 0===t?void 0:t.map(((e,t)=>{var l;return(null===L||void 0===L||null===(l=L.list)||void 0===l?void 0:l.length)===t+1?(0,m.jsx)("div",{ref:k,children:(0,m.jsx)(x,{student:e,selectedId:Z,onSelect:T})},null===e||void 0===e?void 0:e._id):(0,m.jsx)(x,{student:e,selectedId:Z,onSelect:T},null===e||void 0===e?void 0:e._id)})),E?I?(0,m.jsx)(f.Z,{}):(0,m.jsx)(g.Z,{}):I?0===(null===L||void 0===L||null===(l=L.list)||void 0===l?void 0:l.length)&&(0,m.jsx)(p.Z,{title:"No students found related this search."}):0===(null===L||void 0===L||null===(h=L.list)||void 0===h?void 0:h.length)&&(0,m.jsx)(p.Z,{title:"No students."})]})]})})}},82824:(e,t,l)=>{"use strict";l.d(t,{J:()=>d,Z:()=>o});var n=l(99893),i=l.n(n),s=l(97892),a=l.n(s);const d=(e,t)=>(a().extend(i()),a()(e).format(t)),o=(e,t,l)=>{var n;return a()()[e]("".concat(null===(n=a()(l))||void 0===n?void 0:n.format("YYYY-MM-DD")),t)}},99893:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,l,n){var i=l.prototype,s=i.format;n.en.formats=e,i.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var l=this.$locale().formats,n=function(t,l){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,i){var s=i&&i.toUpperCase();return n||l[i]||e[i]||l[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,l){return t||l.slice(1)}))}))}(t,void 0===l?{}:l);return s.call(this,n)}}}()},72888:(e,t,l)=>{"use strict";l.d(t,{Z:()=>n});const n={export_card:"FinanceExport_export_card__9AYtI",export_card_image:"FinanceExport_export_card_image__-1r1l",export_card_text:"FinanceExport_export_card_text__ZrB00",export_card_date:"FinanceExport_export_card_date__-dTOE",export_card_menu:"FinanceExport_export_card_menu__-xEgr"}},16925:(e,t,l)=>{"use strict";l.d(t,{Z:()=>n});const n={right:"Income_right__XnzYj",rightHead:"Income_rightHead__1rLc6",rightBody:"Income_rightBody__fGEC5",income_detail:"Income_income_detail__IWoJa",detailTop:"Income_detailTop__4JXuu",detailTopMid:"Income_detailTopMid__yc2yv",modal_container:"Income_modal_container__HiGr+",modal_container_outer_header:"Income_modal_container_outer_header__F9c7X",modal_container_header:"Income_modal_container_header__td-Fb",card_container:"Income_card_container__ewKhQ",card_container_image:"Income_card_container_image__5XloP",card_container_inner:"Income_card_container_inner__JBmxr",admission_fees_row:"Income_admission_fees_row__MPJCs",close_icon:"Income_close_icon__Ozq4u",student_message_container:"Income_student_message_container__8KnPc",student_message_container_inner:"Income_student_message_container_inner__mRYpD",usm_institute_container:"Income_usm_institute_container__4LkYt",usm_institute:"Income_usm_institute__hlzdF",date_select:"Income_date_select__D3VkU",gsf_star_container:"Income_gsf_star_container__7gdUs"}},49806:(e,t,l)=>{"use strict";l.d(t,{Z:()=>n});const n={modal_container:"PlateformUser_modal_container__tqwpY",modal_container_outer_header:"PlateformUser_modal_container_outer_header__HbF+9",modal_container_header:"PlateformUser_modal_container_header__QzyxM",modal_container_btn_container:"PlateformUser_modal_container_btn_container__3SJ8i",modal_container_header_btn:"PlateformUser_modal_container_header_btn__dWfwA",assign_search_container:"PlateformUser_assign_search_container__dJdYj",assign_search_input:"PlateformUser_assign_search_input__aFF28",assign_show_list_each:"PlateformUser_assign_show_list_each__co2b1",assign_show_list_each_active:"PlateformUser_assign_show_list_each_active__SWwFS",assign_each_paragraph:"PlateformUser_assign_each_paragraph__bDgq6",close_icon:"PlateformUser_close_icon__VXKXH",comfirm_box:"PlateformUser_comfirm_box__ntFD7",modal_container_btn:"PlateformUser_modal_container_btn__BWFB9"}}}]);
//# sourceMappingURL=69801.9099e330.chunk.js.map