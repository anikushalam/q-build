import{u as B,j as s,r,S as I,k as Q,d as R,nj as T,x as C,e as V}from"./index-731451a5.js";import{a as z,b as F,c as $}from"./post-api-f57ebb8f.js";import{B as x}from"./BorderBottom-47800983.js";import{E as J,a as K}from"./EachQuestion-ab944496.js";import"./NeedHelp-379d392c.js";import"./index-c08ef366.js";import"./constant_value-4cd2b3e0.js";import"./search-api-15f7f9f9.js";import"./Divider-6278282f.js";import"./FormControlLabel-1c6af80c.js";import"./SwitchBase-2ba5f868.js";import"./Radio-5967cf3b.js";const M="_navbar_8hx4o_1",P="_mainbody_8hx4o_9",W="_hashtag_left_8hx4o_18",X="_hashtag_right_8hx4o_58",Y="_hashtag_right_one_8hx4o_69",Z="_hashtag_count_text_8hx4o_76",H="_post_container_8hx4o_97",L="_post_container_h6_8hx4o_102",c={navbar:M,mainbody:P,hashtag_left:W,hashtag_right:X,hashtag_right_one:Y,hashtag_count_text:Z,post_container:H,post_container_h6:L},U=({hash:a})=>{const{t:e}=B();return s.jsxs("div",{className:c.hashtag_right,children:[s.jsxs("div",{className:c.hashtag_right_one,children:[s.jsxs("div",{className:c.hashtag_count_text,children:[s.jsx("h6",{children:e("hashtag_follower")}),s.jsx("p",{children:e("hashtag_follower_placeholder")})]}),s.jsx("h6",{children:(a==null?void 0:a.hashtag_follower_count)??0})]}),s.jsx(x,{customStyle:{width:"100%"}}),s.jsxs("div",{className:c.hashtag_right_one,children:[s.jsxs("div",{className:c.hashtag_count_text,children:[s.jsx("h6",{children:e("hashtag_question")}),s.jsx("p",{children:e("hashtag_question_placeholder")})]}),s.jsx("h6",{children:(a==null?void 0:a.hashtag_question_count)??0})]}),s.jsx(x,{customStyle:{width:"100%"}}),s.jsxs("div",{className:c.hashtag_right_one,children:[s.jsxs("div",{className:c.hashtag_count_text,children:[s.jsx("h6",{children:e("hashtag_quiz_polls")}),s.jsx("p",{children:e("hashtag_quiz_polls_placeholder")})]}),s.jsx("h6",{children:(a==null?void 0:a.hashtag_poll_count)??0})]}),s.jsx(x,{customStyle:{width:"100%"}}),s.jsxs("div",{className:c.hashtag_right_one,children:[s.jsxs("div",{className:c.hashtag_count_text,children:[s.jsx("h6",{children:e("hashtag_answers")}),s.jsx("p",{children:e("hashtag_answers_placeholder")})]}),s.jsx("h6",{children:(a==null?void 0:a.hashtag_repost_count)??0})]})]})},O=({hid:a})=>{var _,t;const[e,n]=r.useState(!0),{getOneHashtagPostList:o,getOneHashtagPostListRefetch:d}=z({data:{hid:a,page:1,limit:100},skip:!a});return r.useEffect(()=>{a&&(n(!0),d())},[a,d]),r.useEffect(()=>{var h;(o!=null&&o.post||((h=o==null?void 0:o.post)==null?void 0:h.length)===0)&&n(!1)},[o==null?void 0:o.post]),s.jsxs("div",{className:c.post_container,children:[(_=o==null?void 0:o.post)==null?void 0:_.map(h=>(h==null?void 0:h.postType)==="Question"?s.jsx(J,{post:h,viewAs:"HASHTAG"},h==null?void 0:h._id):s.jsx(K,{post:h,viewAs:"HASHTAG"},h==null?void 0:h._id)),e&&s.jsx(I,{}),!e&&!((t=o==null?void 0:o.post)!=null&&t.length)&&s.jsx("h6",{className:c.post_container_h6,children:"No Post use this #tag "})]})},_s=()=>{var m,g,f,j,p,v,w,N,y,E,S,b,k,A;const{t:a}=B(),e=Q(l=>l.idChange),n=R(),[o]=F(),[d,_]=r.useState(!1);r.useEffect(()=>{var l;(l=document.getElementById("scrollViewHashtag"))==null||l.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},[]);const{oneUserDashboard:t,oneUserDashboardRefetch:h}=T({id:e==null?void 0:e.id,skip:!e.id}),{getOneHashtagDetail:i,getOneHashtagDetailRefetch:u}=$({data:{hid:(m=n.state)==null?void 0:m.hid},skip:!((g=n.state)!=null&&g.hid)});r.useEffect(()=>{e.id&&h()},[e.id,h]),r.useEffect(()=>{var l;(l=n.state)!=null&&l.hid&&u()},[(f=n.state)==null?void 0:f.hid,u]);const G=()=>{var l,q;(l=n.state)!=null&&l.hid&&(_(!0),o({hid:(q=n.state)==null?void 0:q.hid}).then(()=>{h(),u(),_(!1)}).catch({}))};return s.jsxs("div",{className:c.Profile,children:[s.jsx("div",{className:c.navbar,children:s.jsx(C,{status:"dashboard",profileData:t==null?void 0:t.user,username:(j=t==null?void 0:t.user)==null?void 0:j.username,name:(p=t==null?void 0:t.user)==null?void 0:p.userLegalName,photoId:(v=t==null?void 0:t.user)==null?void 0:v.photoId,profilePhoto:(w=t==null?void 0:t.user)==null?void 0:w.profilePhoto})}),s.jsxs("div",{className:c.mainbody,children:[s.jsxs("div",{className:c.hashtag_left,id:"scrollViewHashtag",children:[s.jsx("img",{src:(N=i==null?void 0:i.hash)!=null&&N.hashtag_profile_photo?`${V}/${(y=i==null?void 0:i.hash)==null?void 0:y.hashtag_profile_photo}`:"/images/hashtag-bg-icon.svg",alt:"hashtag icon"}),s.jsx("h6",{children:((E=i==null?void 0:i.hash)==null?void 0:E.hashtag_name)??""}),s.jsx("button",{onClick:G,disabled:d,children:a((k=(S=t==null?void 0:t.user)==null?void 0:S.follow_hashtag)!=null&&k.includes((b=i==null?void 0:i.hash)==null?void 0:b._id)?"following":"follow")})]}),s.jsx(O,{hid:(A=n.state)==null?void 0:A.hid}),s.jsx(U,{hash:i==null?void 0:i.hash})]})]})};export{_s as default};
