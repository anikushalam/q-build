import{r as b,a5 as D,j as t,S as M,u as q,d as f,n as Q,L as E,b as $,Q as R,W as C,lw as J}from"./index-731451a5.js";import{s as F}from"./PromoteDepartment.module-1bdd3b1d.js";import{C as K}from"./ClassList-608b4c92.js";import{s as u}from"./Tabs.module-ba88dcfe.js";import{A as G,S as W}from"./SubjectMarks-e3f2e9f4.js";import{A as z,s as y}from"./AdministratorClassTimetable-fa0fc1e4.js";import{g as H,u as X,h as Y}from"./subject-api-215ccf27.js";import{J as v}from"./JoinFormInput-8e74a0e0.js";import{A as Z}from"./AcademicDetail-b12ada4f.js";import{B as U}from"./BorderBottom-47800983.js";import{A as I}from"./AcademicAdministatorTabChange-5486b59e.js";import{S as k,d as O,e as V,A as P,c as tt,s as g}from"./McqWrapper-6c60f442.js";import"./DepartmentTabChangeLink-58880b09.js";import"./CustomSuspense-e90dc607.js";import"./Markdetails.module-89b9535e.js";import"./Hostel.module-50da11fe.js";import"./class-api-ec8ace00.js";import"./PopupWrapper-ffbaef7a.js";import"./Overlay-07ce6f88.js";import"./Overlay.module-9133d1bb.js";import"./SearchModalWrapper-6e85c9f3.js";import"./SearchModalBackdrop-5b309d60.js";import"./SearchHeader.module-b69c8942.js";import"./HostelFeeStructure.module-5a40a31e.js";import"./JoinForm.module-212f9bb3.js";import"./EditConfirm.module-344fbdb9.js";import"./EmptyInfo-7233226d.js";import"./DatePicker-305f3dc6.js";import"./JoinFormCalender-5158d888.js";import"./Catalog.module-33ea6d38.js";import"./Attendence.module-a5391855.js";import"./Funds.module-95df49a8.js";import"./index-43f19233.js";import"./index-387d7a00.js";import"./Tile.module-64552da2.js";import"./Divider-6278282f.js";import"./JoinFormTextArea-7f6dded0.js";import"./TileWrapper-be9153cb.js";import"./AddAttainmentInSubject-9f4b9a5b.js";import"./SeatingArrangement.module-3f4ae6aa.js";import"./JoinFormInputView-879755fe.js";import"./FeesStructure.module-7a88fbbc.js";import"./image_extenstion-bbfb153e.js";import"./Assignment.module-f9381027.js";const et=({carryParentState:e,batchId:a})=>{var d,c;const[n,i]=b.useState(!0),{allClass:s,allClassRefetch:m}=D({bid:a,skip:!a});return b.useEffect(()=>{var o;(o=s==null?void 0:s.batch)!=null&&o.classroom&&i(!1)},[(d=s==null?void 0:s.batch)==null?void 0:d.classroom]),b.useEffect(()=>{a&&m()},[a,m]),t.jsxs(t.Fragment,{children:[t.jsx(K,{classes:((c=s==null?void 0:s.batch)==null?void 0:c.classroom)??[],carryParentState:e,isView:"ADMINISTRATOR"}),n&&t.jsx(M,{})]})};function B({carryParentState:e,isView:a}){var m,d,c,o;const{t:n}=q(),i=f(),s=Q();return t.jsx("div",{className:u.mcqTop,style:{padding:"0"},children:a==="SUBJECT"?t.jsxs("div",{className:u.mcqToptabs,children:[t.jsx(E,{to:`/q/${s.username}/member/administrator?a=subject`,state:e,className:((m=i.search)==null?void 0:m.substring(3))==="subject"?`${u.mcqTopItem} ${u.active}`:u.mcqTopItem,children:t.jsx("div",{children:n("academics")})}),t.jsx(E,{to:`/q/${s.username}/member/administrator?a=subject&n=setting`,state:e,className:((d=i.search)==null?void 0:d.substring(3))!=="subject"?`${u.mcqTopItem} ${u.active}`:u.mcqTopItem,children:t.jsx("div",{children:n("edit_academic")})})]}):t.jsxs("div",{className:u.mcqToptabs,children:[t.jsx(E,{to:`/q/${s.username}/member/administrator?a=class`,state:e,className:((c=i.search)==null?void 0:c.substring(3))==="class"?`${u.mcqTopItem} ${u.active}`:u.mcqTopItem,children:t.jsx("div",{children:n("subjects")})}),t.jsx(E,{to:`/q/${s.username}/member/administrator?a=class&n=time-table`,state:e,className:((o=i.search)==null?void 0:o.substring(3))!=="class"?`${u.mcqTopItem} ${u.active}`:u.mcqTopItem,children:t.jsx("div",{children:n("time_table")})})]})})}const at=({carryParentState:e})=>{var i,s;const a=f(),[n]=$();return t.jsxs(t.Fragment,{children:[t.jsx(B,{carryParentState:e}),n.get("n")==="time-table"?t.jsx(z,{clsId:(i=a.state)==null?void 0:i.cid}):t.jsx(G,{carryParentState:e,clsId:(s=a.state)==null?void 0:s.cid})]})},st=({sid:e})=>{const{t:a}=q(),[n,i]=b.useState(!1),[s,m]=b.useState({lecture_analytic:{lecture_count:"",lecture_time:""},practical_analytic:{practical_count:"",practical_time:""},tutorial_analytic:{tutorial_count:"",tutorial_time:""}}),[d]=H(),{getOneSubjectProfile:c,getOneSubjectProfileRefetch:o}=X({sid:e,skip:!e});b.useEffect(()=>{e&&o()},[e,o]),b.useEffect(()=>{var r,l,j,p,x,_,T,A,N,S,w,L;c!=null&&c.one_subject&&m({lecture_analytic:{lecture_count:((l=(r=c==null?void 0:c.one_subject)==null?void 0:r.lecture_analytic)==null?void 0:l.lecture_count)||"",lecture_time:((p=(j=c==null?void 0:c.one_subject)==null?void 0:j.lecture_analytic)==null?void 0:p.lecture_time)||""},practical_analytic:{practical_count:((_=(x=c==null?void 0:c.one_subject)==null?void 0:x.practical_analytic)==null?void 0:_.practical_count)||"",practical_time:((A=(T=c==null?void 0:c.one_subject)==null?void 0:T.practical_analytic)==null?void 0:A.practical_time)||""},tutorial_analytic:{tutorial_count:((S=(N=c==null?void 0:c.one_subject)==null?void 0:N.tutorial_analytic)==null?void 0:S.tutorial_count)||"",tutorial_time:((L=(w=c==null?void 0:c.one_subject)==null?void 0:w.tutorial_analytic)==null?void 0:L.tutorial_time)||""}})},[c==null?void 0:c.one_subject]);const h=()=>{e&&(i(r=>!r),d({sid:e,academicUpdate:s}).then(()=>{o(),i(r=>!r)}).catch({}))};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:y.add_academic_record,children:[t.jsxs("div",{className:y.admin_academic_container,children:[t.jsx(v,{labelText:a("total_lectures"),placeholder:"60",name:"lecture_count",type:"tel",value:s.lecture_analytic.lecture_count,onChange:r=>m(l=>({...l,lecture_analytic:{...l.lecture_analytic,lecture_count:+r.target.value}}))}),t.jsx(v,{labelText:a("time_lectures"),placeholder:"60",name:"lecture_time",type:"tel",value:s.lecture_analytic.lecture_time,onChange:r=>m(l=>({...l,lecture_analytic:{...l.lecture_analytic,lecture_time:r.target.value}}))})]}),t.jsxs("div",{className:y.admin_academic_container,children:[t.jsx(v,{labelText:a("practicals"),placeholder:"60",name:"practical_count",type:"tel",value:s.practical_analytic.practical_count,onChange:r=>m(l=>({...l,practical_analytic:{...l.practical_analytic,practical_count:+r.target.value}}))}),t.jsx(v,{labelText:a("time_practical"),placeholder:"60",name:"practical_time",type:"tel",value:s.practical_analytic.practical_time,onChange:r=>m(l=>({...l,practical_analytic:{...l.practical_analytic,practical_time:r.target.value}}))})]}),t.jsxs("div",{className:y.admin_academic_container,children:[t.jsx(v,{labelText:a("tutorials"),placeholder:"60",name:"tutorial_count",type:"tel",value:s.tutorial_analytic.tutorial_count,onChange:r=>m(l=>({...l,tutorial_analytic:{...l.tutorial_analytic,tutorial_count:+r.target.value}}))}),t.jsx(v,{labelText:a("time_tutorial"),placeholder:"60",name:"tutorial_time",type:"tel",value:s.tutorial_analytic.tutorial_time,onChange:r=>m(l=>({...l,tutorial_analytic:{...l.tutorial_analytic,tutorial_time:r.target.value}}))})]}),t.jsx("button",{className:y.admin_academic_btn,onClick:h,children:a("update")})]}),n&&t.jsx(R,{})]})},ct=({carryParentState:e})=>{var h,r;const{t:a}=q(),n=f(),[i]=$(),[s,m]=b.useState(!1),[d]=C(),[c]=Y(),o=l=>{var j,p;if((j=l.target.files)!=null&&j.length&&((p=n.state)!=null&&p.subjectId)){m(!0);const x=new FormData;x.append("file",l.target.files[0]),d({fileUpload:x}).then(_=>{var T,A,N;(T=_.data)!=null&&T.imageKey?c({sid:(A=n.state)==null?void 0:A.subjectId,excelFile:{excel_file:(N=_.data)==null?void 0:N.imageKey}}).then(()=>{m(!1)}).catch({}):m(!1)}).catch({})}};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:y.subject_academic_title,style:{marginBottom:"1rem"},children:[t.jsxs("h6",{children:[" ",a("subject_name")," : ",((h=n.state)==null?void 0:h.subjectName)??a("academics_teachings")]}),t.jsx("label",{className:y.class_header_info_add_student,htmlFor:"uploadExcel",children:t.jsx("img",{src:"/images/member_tab/subject/subject-excel-icon.svg",alt:"excel icon",style:{cursor:"pointer"}})})]}),t.jsx(U,{customStyle:{width:"100%",marginBottom:"0.5rem"}}),t.jsx(B,{carryParentState:e,isView:"SUBJECT"}),i.get("n")==="setting"?t.jsx(st,{sid:(r=n.state)==null?void 0:r.subjectId}):t.jsx(Z,{}),t.jsx("input",{type:"file",id:"uploadExcel",accept:".xlsx",onChange:o,style:{display:"none"}}),s&&t.jsx(R,{})]})},it=({carryParentState:e,isDepartment:a})=>{var m,d,c,o,h,r,l,j,p,x,_;const{t:n}=q(),i=f(),[s]=$();return t.jsx(t.Fragment,{children:s.get("n")?t.jsx(t.Fragment,{children:s.get("n")==="subject-catalog"?t.jsx(k,{cid:(m=i.state)==null?void 0:m.cid,bid:(d=i.state)==null?void 0:d.batchId,isDepartment:a,sid:(c=i.state)==null?void 0:c.subjectId}):s.get("n")==="subject-attendance"?t.jsx(O,{sid:(o=i.state)==null?void 0:o.subjectId,bid:(h=i.state)==null?void 0:h.batchId,isDepartment:a,subjectName:((r=i.state)==null?void 0:r.subjectName)??""}):s.get("n")==="subject-assignment"?t.jsx(V,{sid:(l=i.state)==null?void 0:l.subjectId,cid:(j=i.state)==null?void 0:j.cid,carryParentState:e,bid:(p=i.state)==null?void 0:p.batchId,isDepartment:a}):s.get("n")==="subject-exam"?t.jsx(W,{sid:(x=i.state)==null?void 0:x.subjectId,cid:(_=i.state)==null?void 0:_.cid,isDepartment:a}):s.get("n")==="assignment-detail"?t.jsx(P,{carryParentState:e,isDepartment:a}):s.get("n")==="assignment-student-detail"?t.jsx(tt,{isDepartment:a}):null}):t.jsx("div",{className:g.MiddleContentLeft,style:{border:"none"},children:a==="ADMINISTRATOR"?t.jsxs("div",{className:g.item,style:{paddingLeft:"2vw"},children:[t.jsx(I,{carryParentState:e,activeTab:"subject-menu&n=subject-catalog",children:t.jsxs("div",{className:g.itemIcon,children:[t.jsx("img",{src:"/images/member_tab/class/class-catalog-icon.svg",alt:"Class Catalog"}),t.jsx("p",{children:n("catalog")})]})}),t.jsx(I,{carryParentState:e,activeTab:"subject-menu&n=subject-attendance",children:t.jsxs("div",{className:g.itemIcon,children:[t.jsx("img",{src:"/images/member_tab/class/class-attendance-icon.svg",alt:"attendence"}),t.jsxs("p",{children:[" ",n("attendance")," "]})]})}),t.jsx(I,{carryParentState:e,activeTab:"subject-menu&n=subject-assignment",children:t.jsxs("div",{className:g.itemIcon,children:[t.jsx("img",{src:"/images/member_tab/subject/subject-assignment-icon.svg",alt:"assignment"}),t.jsx("p",{children:n("assigmnent")})]})}),t.jsx(I,{carryParentState:e,activeTab:"subject-menu&n=subject-exam",children:t.jsxs("div",{className:g.itemIcon,children:[t.jsx("img",{src:"/images/member_tab/department/department-examination-icon.svg",alt:"attendence"}),t.jsx("p",{children:n("examinations")})]})}),t.jsx(I,{carryParentState:e,activeTab:"subject",children:t.jsxs("div",{className:g.itemIcon,children:[t.jsx("img",{src:"/images/member_tab/subject/subject-daily-update-icon.svg",alt:"student Request"}),t.jsx("p",{style:{textAlign:"center"},children:n("academics_teachings")})]})})]}):null})})},nt=({onClickValue:e})=>{var s,m,d,c,o;const[a]=$(),n=f(),{t:i}=q();return t.jsx("div",{className:F.departmenthead,children:t.jsxs("div",{className:F.demaprtment_list,children:[t.jsx("div",{className:F.with_search,children:a.get("a")==="class"?t.jsxs("h6",{children:[i("class_name")," : ",(e==null?void 0:e.className)??""]}):a.get("a")==="subject-menu"?t.jsxs("h6",{children:[" ",i("subject_name")," : ",((s=n.state)==null?void 0:s.subjectName)??""]}):a.get("a")==="subject"?null:t.jsxs("h6",{children:[i("department")," : ",(d=(m=e==null?void 0:e.onClickValue)==null?void 0:m.academic_department)==null?void 0:d.dName]})}),a.get("a")==="subject"?null:t.jsx(U,{customStyle:{width:"100%",marginTop:"0.5rem",marginBottom:"0.5rem"}}),!a.get("a")&&t.jsx("p",{children:i("all_classes")}),a.get("a")==="class"?t.jsx(at,{carryParentState:e}):a.get("a")==="subject-menu"?t.jsx(it,{carryParentState:e,isDepartment:"ADMINISTRATOR"}):a.get("a")==="subject"?t.jsx(ct,{carryParentState:e}):t.jsx(et,{carryParentState:e,batchId:(o=(c=e==null?void 0:e.onClickValue)==null?void 0:c.academic_department)==null?void 0:o.departmentSelectBatch})]})})},Ot=()=>{var a,n;const e=f();return t.jsx(J,{index:"26",sid:((a=e==null?void 0:e.state)==null?void 0:a.sid)??"",onClickValue:((n=e==null?void 0:e.state)==null?void 0:n.onClickValue)??"",children:t.jsx(nt,{onClickValue:(e==null?void 0:e.state)??""})})};export{Ot as default};
