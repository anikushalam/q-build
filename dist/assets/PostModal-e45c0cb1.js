import{r as c,g as D,u as U,j as t,D as R,e as I,bS as w}from"./index-731451a5.js";import{C as A}from"./CheckOutsideClick-ae491ca5.js";import p from"./Menu-c884c084.js";import{k as $}from"./post-api-f57ebb8f.js";import{_ as z,T as E}from"./index-49ff1296.js";import{i as B}from"./constant_value-4cd2b3e0.js";import{R as O}from"./Reactions-cf0e90cb.js";import"./search-api-15f7f9f9.js";import"./Radio-5967cf3b.js";import"./SwitchBase-2ba5f868.js";import"./Checkbox-1498c124.js";import"./DialogTitle-ba505e40.js";import"./Divider-6278282f.js";import"./FormControlLabel-1c6af80c.js";import"./Switch-81e70f2f.js";import"./Save-f44ceb43.js";const F="_postModal_60vya_1",H="_horizontalLine_60vya_9",V="_modalLeft_60vya_15",q="_postImg_60vya_21",G="_modalIndex_60vya_32",J="_modalRight_60vya_53",K="_rightTop_60vya_59",Q="_imgcontainer2_60vya_65",W="_eachpostUserName_60vya_82",X="_textSection_60vya_106",Y="_postText_60vya_115",Z="_textDes_60vya_120",ee="_postModalTop_60vya_150",ae="_imgcontainer_60vya_65",te="_postModalImg_60vya_166",ne="_anndoc_60vya_171",oe="_commentSection_60vya_182",me="_postbttn_60vya_195",n={postModal:F,horizontalLine:H,modalLeft:V,postImg:q,modalIndex:G,modalRight:J,rightTop:K,imgcontainer2:Q,eachpostUserName:W,textSection:X,postText:Y,textDes:Z,postModalTop:ee,imgcontainer:ae,postModalImg:te,anndoc:ne,commentSection:oe,postbttn:me};function je({open:f,hideModal:s,selectOptions:y,post:e,profilePost:j,allPosts:N}){const[S,m]=c.useState(!1),[M,k]=c.useState(e==null?void 0:e.commentCount),i=c.useRef(""),[T]=$(),L=D(),{t:P}=U(),l=()=>{m(!1)},b=()=>{k(a=>++a),T({comment:{commentDescription:i.current.value},pid:e==null?void 0:e._id,viewAs:B}).then(a=>{var o,r,d,_,u,h,g,v,x,C;L(w.addCreatedComment({postId:e==null?void 0:e._id,comment:{allChildCommentCount:(o=a.data)==null?void 0:o.comment.allChildCommentCount,allLikeCount:(r=a.data)==null?void 0:r.comment.allLikeCount,author:(d=a.data)==null?void 0:d.comment.author,authorName:(_=a.data)==null?void 0:_.comment.authorName,authorPhotoId:(u=a.data)==null?void 0:u.comment.authorPhotoId,authorProfilePhoto:(h=a.data)==null?void 0:h.comment.authorProfilePhoto,authorUserName:(g=a.data)==null?void 0:g.comment.authorUserName,commentDescription:(v=a.data)==null?void 0:v.comment.commentDescription,createdAt:(x=a.data)==null?void 0:x.comment.createdAt,_id:(C=a.data)==null?void 0:C.comment._id}}))}).catch({}),i.current.value=""};return t.jsxs(R,{open:f,onClose:()=>s(!1),children:[t.jsxs("div",{className:n.postModal,children:[t.jsxs("div",{className:n.postModalTop,children:[t.jsx("img",{src:"/images/menu-dots-icon.svg",alt:"",className:n.menu,onClick:()=>m(a=>!a)}),t.jsx("img",{src:"/images/close-post-icon.svg",alt:"",className:n.menu,onClick:()=>s(!1)})]}),t.jsx("div",{className:n.horizontalLine}),(e==null?void 0:e.imageId)!=="1"&&(e==null?void 0:e.postImage.length)===1&&t.jsx("img",{src:`${I}/${e==null?void 0:e.postImage[0]}`,className:n.postModalImg,alt:"post img"}),(e==null?void 0:e.imageId)!=="1"&&(e==null?void 0:e.postImage.length)>1&&t.jsx(z,{className:"Example",autoPlay:!1,indicators:!0,navButtonsAlwaysVisible:!1,navButtonsAlwaysInvisible:!1,next:(a,o)=>{},prev:(a,o)=>{},onChange:(a,o)=>{},children:e==null?void 0:e.postImage.map((a,o)=>t.jsxs("div",{className:n.anndoc,children:[t.jsxs("p",{className:n.modalIndex,children:[o+1,"/",e==null?void 0:e.postImage.length]}),t.jsx("img",{className:n.selectedImg,src:`${I}/${a}`,alt:"client"})]},o))}),t.jsx(O,{likeCount:e==null?void 0:e.likeCount,endUserLike:e==null?void 0:e.endUserLike,endUserSave:e==null?void 0:e.endUserSave,pid:e==null?void 0:e._id,commentCount:M,type:"post",postPopupOpen:!0}),t.jsxs("div",{class:"commentSection",className:n.commentSection,children:[t.jsx(E,{id:"standard-basic",placeholder:P("write_comment"),variant:"standard",inputRef:i}),t.jsx("img",{className:n.postbttn,src:"/images/postbttn.svg",alt:"",onClick:b})]})]}),S&&t.jsx(A,{closeMenu:l,children:t.jsx(p,{setDotsClicked:m,options:y,pid:e==null?void 0:e._id,authorId:e==null?void 0:e.author,profilePost:j,status:e==null?void 0:e.postStatus,closeMenu:l,allPosts:N,popup:!0})})]})}export{je as default};
