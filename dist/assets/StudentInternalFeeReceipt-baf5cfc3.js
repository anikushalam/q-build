import{r as i,aa as S,j as n,Q as k}from"./index-731451a5.js";import"./StudentAllFeesData.module-f5c3243d.js";import{ab as w}from"./admission-api-56b87fde.js";import{p as D}from"./pdfInternalFeeReceipt-ec10d7e3.js";const U=({rid:h})=>{const[E,f]=i.useState(!1),[a,P]=i.useState(""),[e,r]=i.useState(""),{internalFeeReceipt:s,internalFeeReceiptRefetch:m}=w({rid:a,skip:!a});i.useEffect(()=>{a&&m()},[a,m]);const R=o=>{o&&(f(c=>!c),P(o))};return i.useEffect(()=>{s!=null&&s.receipt&&(s!=null&&s.one_account)&&r(s)},[s]),i.useEffect(()=>{var o,c,u,l,g,d,p,j;if(e){f(b=>!b);let x=e==null?void 0:e.one_account,t=e==null?void 0:e.receipt;const $=(c=(o=t==null?void 0:t.finance)==null?void 0:o.institute)!=null&&c.insProfilePhoto?`${S}/${(l=(u=t==null?void 0:t.finance)==null?void 0:u.institute)==null?void 0:l.insProfilePhoto}`:"/images/certificate/logodemo.jpg",L=(d=(g=t==null?void 0:t.finance)==null?void 0:g.institute)!=null&&d.affliatedLogo?`${S}/${(j=(p=t==null?void 0:t.finance)==null?void 0:p.institute)==null?void 0:j.affliatedLogo}`:"/images/certificate/logodemo.jpg";x&&t&&(D(x,t,$,L),f(!1)),r(""),window.location.reload()}},[e]),n.jsxs(n.Fragment,{children:[n.jsx("img",{src:"/images/members/receipt-icon.svg",onClick:()=>R(h),alt:"receipt icon"}),E&&n.jsx(k,{})]})};export{U as S};
