import{u as de,c as le,d as ie,r as q,j as n,a1 as i,Q as ue,n as xe,L as qe}from"./index-731451a5.js";import{s as _}from"./Hostel.module-50da11fe.js";import{B as pe}from"./BorderBottom-47800983.js";import{J as r}from"./JoinFormInputView-879755fe.js";import{J as fe}from"./JoinFormTextArea-7f6dded0.js";import{a0 as be,a1 as ye}from"./department-api-a4f0b4b7.js";import{i as he}from"./student-api-4ee7144d.js";const ke="_mentor_card_container_acgnl_1",ve="_mentor_container_inner_acgnl_24",je="_student_container_inner_acgnl_30",Se="_mentor_rating_acgnl_42",Me="_student_inner_bottom_acgnl_43",Te="_student_card_container_acgnl_60",Ne="_feedback_question_container_acgnl_97",Ce="_feedback_question_heading_acgnl_111",$e="_feedback_question_option_acgnl_129",we="_option_selected_cover_acgnl_141",Ee="_remove_btn_acgnl_148",Ge={mentor_card_container:ke,mentor_container_inner:ve,student_container_inner:je,mentor_rating:Se,student_inner_bottom:Me,student_card_container:Te,feedback_question_container:Ne,feedback_question_heading:Ce,feedback_question_option:$e,option_selected_cover:we,remove_btn:Ee},Pe=({queryFlow:c})=>{var p,f,b,y,h,k,v,j,S,M,T,N,C,$,w,E,B,L,F,I,R,J,A,G,P,U,V,W,z,H,K,O,X,Y,Z,g,D,Q,ee,ne,te;const{t}=de(),u=le(),o=ie(),[re,m]=q.useState(!1),[d,se]=q.useState({remark:"",forward:""}),{getQueryDetail:e,getQueryDetailRefetch:l}=be({qid:(p=o.state)==null?void 0:p.qid,skip:!((f=o.state)!=null&&f.qid)}),[oe]=ye(),[ae]=he();q.useEffect(()=>{var s;(s=o.state)!=null&&s.qid&&l()},[(b=o.state)==null?void 0:b.qid,l]);const _e=()=>{u(-1)},ce=()=>{var s;(d.remark||d.forward)&&(m(a=>!a),oe({qid:(s=o.state)==null?void 0:s.qid,flow:c,mark_query:d}).then(()=>{l(),m(a=>!a)}).catch({}))},me=()=>{var s,a;(s=o.state)!=null&&s.qid&&(m(x=>!x),ae({qid:(a=o.state)==null?void 0:a.qid}).then(()=>{l(),m(x=>!x)}).catch({}))};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:_.with_search,style:{justifyContent:"flex-start",gap:"1rem"},children:[n.jsx("img",{src:"/images/arrow-left-fees-icon.svg",onClick:_e,alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),n.jsx("h6",{children:t("query")})]}),n.jsx(pe,{customStyle:{width:"100%",marginBottom:"0.5rem"}}),n.jsx(r,{labelText:t("mentor"),value:`${((k=(h=(y=e==null?void 0:e.query)==null?void 0:y.mentor)==null?void 0:h.mentor_head)==null?void 0:k.staffFirstName)??""} ${((S=(j=(v=e==null?void 0:e.query)==null?void 0:v.mentor)==null?void 0:j.mentor_head)==null?void 0:S.staffMiddleName)??""} ${((N=(T=(M=e==null?void 0:e.query)==null?void 0:M.mentor)==null?void 0:T.mentor_head)==null?void 0:N.staffLastName)??""}`}),c==="By_Student"?n.jsxs(n.Fragment,{children:[n.jsx(r,{labelText:t("raised_on"),value:i((C=e==null?void 0:e.query)==null?void 0:C.raised_on).format("DD MMM,yyyy")}),n.jsx(r,{labelText:`${t("query")}: `,value:(($=e==null?void 0:e.query)==null?void 0:$.query)??"",customStyleContainer:{alignItems:"flex-start"}}),n.jsx(r,{labelText:t("replied_on"),value:i((w=e==null?void 0:e.query)==null?void 0:w.report_on).format("DD MMM,yyyy")}),n.jsx(r,{labelText:t("remark_by_mentor_if_any"),value:((E=e==null?void 0:e.query)==null?void 0:E.remark)??"",customStyleContainer:{alignItems:"flex-start"}}),((B=e==null?void 0:e.query)==null?void 0:B.report_by)==="Reported"?n.jsx("p",{className:_.mentor_status_card_paragraph,style:{color:"#E2C318"},children:t("reported")}):((L=e==null?void 0:e.query)==null?void 0:L.query_status)==="Solved"?n.jsx("p",{className:_.mentor_status_card_paragraph,style:{color:"#20B038"},children:t("solved")}):((F=e==null?void 0:e.query)==null?void 0:F.query_status)==="UnSolved"?n.jsx("p",{className:_.mentor_status_card_paragraph,style:{color:"#EE3833"},children:t("not_solved")}):null,((I=e==null?void 0:e.query)==null?void 0:I.report_by)==="Reported"?null:n.jsxs("p",{className:_.mentor_status_card_paragraph,children:[t("if_query_not_resolved"),":","  ",n.jsx("span",{style:{color:"#EE3833",cursor:"pointer"},onClick:me,children:t("report")})]}),((R=e==null?void 0:e.query)==null?void 0:R.query_status)==="Solved"&&n.jsx(r,{labelText:t("remark_by_me"),value:((J=e==null?void 0:e.query)==null?void 0:J.remark_by_depart)??"",customStyleContainer:{alignItems:"flex-start"}})]}):n.jsxs(n.Fragment,{children:[n.jsx(r,{labelText:t("mentee"),value:`${((G=(A=e==null?void 0:e.query)==null?void 0:A.student)==null?void 0:G.studentFirstName)??""} ${((U=(P=e==null?void 0:e.query)==null?void 0:P.student)==null?void 0:U.studentMiddleName)??""} ${((W=(V=e==null?void 0:e.query)==null?void 0:V.student)==null?void 0:W.studentLastName)??""}`}),n.jsx(r,{labelText:`${t("mobile_number")}/${t("email")}: `,value:((K=(H=(z=e==null?void 0:e.query)==null?void 0:z.student)==null?void 0:H.user)==null?void 0:K.userPhoneNumber)??((Y=(X=(O=e==null?void 0:e.query)==null?void 0:O.student)==null?void 0:X.user)==null?void 0:Y.userEmail)??""}),n.jsx(r,{labelText:t("raised_on"),value:i((Z=e==null?void 0:e.query)==null?void 0:Z.raised_on).format("DD MMM,yyyy")}),n.jsx(r,{labelText:t("reported_on"),value:i((g=e==null?void 0:e.query)==null?void 0:g.report_on).format("DD MMM,yyyy")}),n.jsx(r,{labelText:`${t("query")}: `,value:((D=e==null?void 0:e.query)==null?void 0:D.query)??"",customStyleContainer:{alignItems:"flex-start"}}),n.jsx(r,{labelText:t("remark_by_mentor_if_any"),value:((Q=e==null?void 0:e.query)==null?void 0:Q.remark)??"",customStyleContainer:{alignItems:"flex-start"}}),((ee=e==null?void 0:e.query)==null?void 0:ee.query_status)==="Solved"&&n.jsx(r,{labelText:t("remark_by_me"),value:((ne=e==null?void 0:e.query)==null?void 0:ne.remark_by_depart)??"",customStyleContainer:{alignItems:"flex-start"}}),((te=e==null?void 0:e.query)==null?void 0:te.query_status)!=="Solved"&&n.jsxs(n.Fragment,{children:[n.jsx(fe,{labelText:t("remark"),name:"remark",type:"text",value:d.remark,onChange:s=>se(a=>({...a,remark:s.target.value})),placeholder:t("follow_up_details")}),n.jsx("button",{className:_.student_renewal_confirm_btn,style:{width:"100%",marginTop:"1rem"},onClick:ce,children:t("send")})]})]}),re&&n.jsx(ue,{})]})},Ue=({carryParentState:c,activeTab:t,children:u})=>{const o=xe();return n.jsx(qe,{to:`/q/${o.username}/member/mentor?a=${t}`,state:{...c},children:u})};export{Ue as M,Pe as Q,Ge as s};
