import{u as r,j as a,r as s,t as S}from"./index-731451a5.js";import{v as C,Y as F,p as Y,q as w,s as f,r as D,L as R}from"./FinanceConfig-555e7db6.js";import{s as n}from"./TransactionHistory-42f60164.js";import{l as $}from"./localTime-bd3ac783.js";import"./pdf-convertor-function-e794de58.js";import"./admission-api-56b87fde.js";import"./pdfInternalFeeReceipt-ec10d7e3.js";import"./numberToWords.min-dbca819b.js";import"./main.receipt.pdf.worker-5753b302.js";const v=({history:e})=>{var d,p,_,t,l,u,x;const{t:j}=r();return a.jsxs("div",{className:n.sidebarheader,children:[a.jsxs("div",{className:n.text,children:[a.jsx("p",{className:n.rcv,children:j("paid_to")}),a.jsx("h6",{children:((d=e==null?void 0:e.payment_by_end_user_id)==null?void 0:d.userLegalName)??(e==null?void 0:e.payment_by_end_user_id_name)}),a.jsxs("p",{className:n.rcv,children:[C(e==null?void 0:e.created_at).format("DD MMM YYYY"),", ",$(e==null?void 0:e.created_at,"LT")]})]}),a.jsxs("div",{className:n.text,style:{marginTop:"0.9rem"},children:[a.jsx("p",{className:n.rcv}),a.jsxs("h6",{children:["Rs. ",e==null?void 0:e.payment_amount]}),a.jsx("p",{className:n.rcv,children:((p=e.payment_mode)==null?void 0:p.toLowerCase())==="offline"?(_=e==null?void 0:e.fee_receipt)!=null&&_.fee_payment_mode?`${(t=e==null?void 0:e.fee_receipt)==null?void 0:t.fee_payment_mode}`:"Offline - No Receipt":((l=e.payment_mode)==null?void 0:l.toLowerCase())==="online"?(u=e==null?void 0:e.fee_receipt)!=null&&u.fee_payment_mode?`${(x=e==null?void 0:e.fee_receipt)==null?void 0:x.fee_payment_mode}`:"Online - No Receipt":e==null?void 0:e.payment_mode})]})]})},B=({instituteId:e})=>{const{t:j}=r(),[d,p]=s.useState(""),[_,t]=s.useState(1),[l,u]=s.useState(!0),[x,g]=S({skip:d}),{financeAllTransaction:c,financeAllTransactionLoading:N}=F({data:{uid:e,page:_,limit:10,search:d,filter:"Expense"},skip:!e});s.useEffect(()=>{g&&l&&t(m=>m+1)},[g,l]),s.useEffect(()=>{c!=null&&c.length&&Y(c==null?void 0:c.length,u)},[c==null?void 0:c.length]);const b=s.useCallback(w(m=>p(m),500),[]),L=m=>{b(m.target.value)};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:f.fm_search_full,children:a.jsx("section",{className:f.fm_search_full_container,children:a.jsxs("div",{className:f.fm_search_full_container_inner,children:[a.jsx("img",{className:f.fm_search_full_icon,alt:"search icon",src:`${D}/navbar-search.svg`}),a.jsx("input",{type:"text",placeholder:j("search"),onChange:L})]})})}),N&&a.jsx(R,{}),c==null?void 0:c.map((m,E)=>(c==null?void 0:c.length)===E+1?a.jsx("div",{ref:x,children:a.jsx(v,{history:m})},m==null?void 0:m._id):a.jsx(v,{history:m},m==null?void 0:m._id))]})};export{B as default};
