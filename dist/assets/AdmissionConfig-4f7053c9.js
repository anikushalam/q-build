import{u as F,j as e,r as o,Q as R,e as he,a1 as G,t as z,v as B,S as V,lI as at,T as ss,D as nt,kX as ot,c as ne,d as be,l as Ae,W as Re,n as Qe,g as ns,A as Ys,k as it,lv as ct,a_ as lt,lw as rt}from"./index-0ca76035.js";import{s as K}from"./MiddleContent.module-e1a8b1e0.js";import{s as ie}from"./Tabs.module-5d07bc0d.js";import{s as ee}from"./Funds.module-95df49a8.js";import{ad as _t,ae as Xs,af as Zs,ag as dt,f as mt,ah as ht,ai as xt,aj as os,ak as ut,al as ft,am as jt,an as pt,ao as bt,ap as gt,aq as Nt,ar as vt,as as wt,at as St,au as yt,av as kt,aw as qt,ax as Ct,ay as As,az as Tt,aA as Et,aB as $t,aC as Dt,c as Ft}from"./admission-api-925391d9.js";import{d as A,A as It,C as Mt,R as Ot,a as Pt,b as Lt,c as Jt}from"./AdmissionSiteInfo-25f31921.js";import{B as Rs}from"./ButtonWithAction-aaeab9a0.js";import{C as Ut}from"./CustomAvatar-a63a5be8.js";import{I as Gt}from"./InputDateField-5babd99a.js";import{w as Wt}from"./timeComparison-f15c3247.js";import{B as W}from"./BorderBottom-1dc6f53e.js";import{U as es}from"./UniversalTab-73e7f63a.js";import{s as M}from"./FeeReceipts.module-616f7049.js";import{J as Q}from"./JoinFormInput-82706177.js";import{P as se}from"./PopupWrapper-2578092d.js";import{m as Ht,a as Kt}from"./finance-api-e818490b.js";import{B as Vt}from"./BankCard-dfcd288c.js";import{s as je,D as Js}from"./DocumentCard-6d676404.js";import{J as is}from"./JoinFormFile-a00a41cd.js";import{J as Xe}from"./JoinFormTextArea-394bf055.js";import{O as Qs}from"./Overlay-c8100e0a.js";import{S as et}from"./SearchModalBackdrop-c4f123e6.js";import{s as Be}from"./EditConfirm.module-344fbdb9.js";import{s as ue}from"./JoinForm.module-212f9bb3.js";import{s as ce}from"./AdmisisonRefund.module-c6c85188.js";import{E as zt}from"./EmptyInfo-dd58cebb.js";import{s as T}from"./AdmissionScholarship.module-d4281c11.js";import{S as Us}from"./Switch-4bb87998.js";import{s as Bt}from"./institute-staff-student-api-7114d611.js";import{C as Yt}from"./CustomNormalSelectInput-0a62fa3f.js";import{S as Xt}from"./SearchUniversalUser-b1b04b2c.js";import{s as me}from"./PromoteDepartment.module-1bdd3b1d.js";import{A as Zt}from"./AllStudent-ee29de43.js";import{S as At}from"./StudentMessageHistory-7e206bf8.js";import{s as ts}from"./AdmissionApplicationRequest.module-43e4e129.js";import{s as fe}from"./History.module-4b700312.js";import{R as Rt}from"./ReminderMessageStudentList-c2ed7cf8.js";import"./AssignStaffModal-e51a4441.js";import"./search-api-b192a53f.js";import"./AssignStaffModal.module-a60b32e1.js";import"./AdmissionModerator.module-e8abdfd3.js";import"./CustomSelectDepartment-11201deb.js";import"./constant_value-4cd2b3e0.js";import"./AdmissionExportEdit-63a9f1d2.js";import"./CreateAdmissionApplication-77c82a71.js";import"./SeatingArrangement.module-3f4ae6aa.js";import"./hostel-api-9294ced1.js";import"./JoinFormCalender-d186c4ef.js";import"./DatePicker-c6d0e911.js";import"./department-api-e4b13f05.js";import"./ClassCard-b1734f36.js";import"./SelectFeeStructure-915fed5c.js";import"./FeesStructure.module-7a88fbbc.js";import"./SelectHostelFeeStrucutre-f8ff675f.js";import"./ApplicationPreviewDetail-4a05e741.js";import"./JoinFormInputView-2b5b0bdd.js";import"./StringLength.module-75a6e080.js";import"./transport-api-ee724cce.js";import"./AdmissionApplicationDetail-1e003b51.js";import"./AdmissionApplicationCalender-43db225a.js";import"./Attendence.module-1983200c.js";import"./CustomSuspense-25f8db15.js";import"./PaymentModeType-555d6eae.js";import"./pdf-convertor-function-4fe9e778.js";import"./main.receipt.pdf.worker-914052f8.js";import"./numberToWords.min-081ca735.js";import"./OsReminderStudentCard-1fa8be04.js";import"./AllStudentFilter-af77389c.js";import"./RemainingFees.module-bd1517de.js";import"./AdmissionSiteInfo.module-332fbdef.js";import"./JoinFormFileEdit-10928ae7.js";import"./ViewFileDialog-f7d48575.js";import"./LoaderButton-56f541f9.js";import"./Avatar.module-fb7ee634.js";import"./SearchModalWrapper-0fa3f9a3.js";import"./FinanceTabChangeLink-68f322d9.js";import"./InstituteFinanceTabChangeLink-a344bd8c.js";import"./JoinFormFileView-e4856af3.js";import"./Overlay.module-9133d1bb.js";import"./SearchHeader.module-b69c8942.js";import"./SwitchBase-e3c2ff35.js";import"./export-data-api-674b559b.js";import"./SendFilterStudentMessage-e0daf41f.js";const Qt="_departmenthead_tkk9w_1",ea={departmenthead:Qt};function sa({activeIndex:s,setActiveIndex:a}){const{t:l}=F();return e.jsx("div",{className:ie.mcqTop,children:e.jsxs("div",{className:ie.mcqToptabs,children:[e.jsx("div",{className:s===0?`${ie.mcqTopItem} ${ie.active}`:ie.mcqTopItem,onClick:()=>a(0),children:l("menu")}),e.jsx("div",{className:s===1?`${ie.mcqTopItem} ${ie.active}`:ie.mcqTopItem,onClick:()=>a(1),children:l("funds")})]})})}function as({bal:s,value:a}){return e.jsxs("div",{className:ee.balanceItem,children:[e.jsxs("p",{children:[s,":"]}),e.jsxs("p",{children:["Rs. ",a]})]})}function ta({setDueList:s,dueList:a,funds:l,onRefetch:_,carryParentState:i,accessRole:d,accessTpye:n,callApi:p}){var t,m,c;const{t:r}=F(),[j,g]=o.useState(!1),[N]=_t();var h=(l==null?void 0:l.onlineFee)+(l==null?void 0:l.offlineFee);const b=()=>{!d&&!n&&p&&(l==null?void 0:l.collected_fee)>0&&(l==null?void 0:l.requested_status)==="Pending"&&(g(x=>!x),N({aid:l==null?void 0:l._id,submitAmount:{amount:l==null?void 0:l.collected_fee}}).then(()=>{_(),g(x=>!x)}).catch({}))};return e.jsxs("div",{className:a?ee.funds:ee.funds2,children:[e.jsx("div",{className:ee.fundshead,children:e.jsxs("h6",{children:[" ",r("admission_fees")," "]})}),e.jsxs("div",{className:ee.fundscontent,children:[e.jsxs("div",{className:ee.sidebarbottomitem,children:[e.jsx("img",{alt:"not found",src:"/images/finance/doller-icon.svg"}),e.jsxs("div",{children:[e.jsxs("p",{className:ee.namee,children:["Rs. ",h]}),e.jsxs("p",{className:ee.desig,children:[" ",r("total_admission_fees")," "]})]})]}),e.jsx(as,{check:"false",setDueList:s,dueList:a,bal:r("online_fees"),value:(t=l==null?void 0:l.onlineFee)==null?void 0:t.toFixed(2)}),e.jsx(as,{check:"true",dueList:a,setDueList:s,bal:r("offline_fees"),value:(m=l==null?void 0:l.offlineFee)==null?void 0:m.toFixed(2)}),e.jsx(as,{check:"true",dueList:a,setDueList:s,bal:r("cash_with_me"),value:(c=l==null?void 0:l.collected_fee)==null?void 0:c.toFixed(2)}),e.jsx("div",{className:ee.fundbtn,onClick:b,style:{color:"#ffffff",backgroundColor:"#1c023b",opacity:d||n?"0.5":"1"},children:(l==null?void 0:l.requested_status)==="Pending"?`${r("submit")} ${r("submit_cash_to_finance_manager")}`:`${r("requested")} ${r("submit_cash_to_finance_manager")}`}),e.jsx(A,{carryParentState:i,activeTab:"pending",accessRole:d,accessTpye:n,callApi:p,children:e.jsxs("div",{className:ee.fundbtn,children:[r("total_pending_fees")," : Rs. ",l==null?void 0:l.remainingFeeCount]})}),e.jsxs("div",{className:ee.fundbtn,children:[r("total_concession_fees")," : Rs. ",l==null?void 0:l.exemptAmount]})]}),j&&e.jsx(R,{})]})}function aa({contentData:s,onRefetch:a,carryParentState:l,accessRole:_,accessTpye:i,callApi:d}){const[n,p]=o.useState(0),{t:r}=F();return e.jsx("div",{className:K.MiddleContent,children:e.jsxs("div",{className:K.MiddleContentLeft,children:[e.jsx("div",{className:K.tabs,children:e.jsx(sa,{activeIndex:n,setActiveIndex:p})}),n===0&&e.jsxs("div",{className:K.item,children:[e.jsx(A,{carryParentState:l,activeTab:"student",accessRole:_,accessTpye:i,callApi:d,children:e.jsxs("div",{className:K.itemIcon,children:[e.jsx("img",{src:"/images/member_tab/finance/finance-student-icon.svg",alt:"moderator icon"}),e.jsx("p",{children:r("all_student")})]})}),e.jsx(A,{carryParentState:l,activeTab:"ongoing",accessRole:_,accessTpye:i,callApi:d,children:e.jsxs("div",{className:K.itemIcon,children:[e.jsx("img",{src:"/images/member_tab/admission/admission-ongoing-icon.svg",alt:"Class Catalog"}),e.jsx("p",{children:r("admission_ongoing")})]})}),e.jsx(A,{carryParentState:l,activeTab:"enquiry",accessRole:_,accessTpye:i,callApi:d,children:e.jsxs("div",{className:K.itemIcon,children:[e.jsx("img",{src:"/images/member_tab/admission/admission-enquery-icon.svg",alt:"inquery"}),e.jsx("p",{children:r("admission_enquery")})]})}),e.jsx(A,{carryParentState:l,activeTab:"receipt&n=request",accessRole:_,accessTpye:i,callApi:d,children:e.jsxs("div",{className:K.itemIcon,children:[e.jsx("img",{src:"/images/member_tab/admission/admission-receipt-icon.svg",alt:"inquery"}),e.jsx("p",{children:r("admission_payment_verification")})]})}),e.jsx(A,{carryParentState:l,activeTab:"pending",accessRole:_,accessTpye:i,callApi:d,children:e.jsxs("div",{className:K.itemIcon,children:[e.jsx("img",{src:"/images/member_tab/finance/finance-pending-icon.svg",alt:"inquery"}),e.jsx("p",{children:r("pending_fees")})]})}),e.jsx(A,{carryParentState:l,activeTab:"scholarship",accessRole:_,accessTpye:i,callApi:d,children:e.jsxs("div",{className:K.itemIcon,children:[e.jsx("img",{src:"/images/member_tab/finance/finance-scholarship-icon.svg",alt:"scholarship icon"}),e.jsx("p",{children:r("admission_scholership_management")})]})}),e.jsx(A,{carryParentState:l,activeTab:"refund",accessRole:_,accessTpye:i,callApi:d,children:e.jsxs("div",{className:K.itemIcon,children:[e.jsx("img",{src:"/images/member_tab/admission/admission-excess-icon.svg",alt:"refund"}),e.jsx("p",{children:r("admission_excess_fee_refund")})]})}),e.jsx(A,{carryParentState:l,activeTab:"completed",accessRole:_,accessTpye:i,callApi:d,children:e.jsxs("div",{className:K.itemIcon,children:[e.jsx("img",{src:"/images/member_tab/admission/admission-complete-icon.svg",alt:"completed"}),e.jsx("p",{children:r("admission_complete")})]})}),e.jsx(A,{carryParentState:l,activeTab:"document",accessRole:_,accessTpye:i,callApi:d,children:e.jsxs("div",{className:K.itemIcon,children:[e.jsx("img",{src:"/images/member_tab/admission/admission-document-icon.svg",alt:"inquery"}),e.jsx("p",{children:r("admission_required_document")})]})}),e.jsx(A,{carryParentState:l,activeTab:"export",accessRole:_,accessTpye:i,callApi:d,children:e.jsxs("div",{className:K.itemIcon,children:[e.jsx("img",{src:"/images/member_tab/finance/finance-export-icon.svg",alt:"refund"}),e.jsx("p",{children:r("data_exporting")})]})}),e.jsx(A,{carryParentState:l,activeTab:"moderator",accessRole:_,accessTpye:i,callApi:d,children:e.jsxs("div",{className:K.itemIcon,children:[e.jsx("img",{src:"/images/member_tab/admission/admission-moderator-icon.svg",alt:"moderator icon"}),e.jsx("p",{children:r("admission_moderators")})]})})]}),n===1&&e.jsx("div",{className:K.classList,children:e.jsx(ta,{funds:s,onRefetch:a,carryParentState:l,accessRole:_,accessTpye:i,callApi:d})})]})})}const na="_admisionApplication_u80qd_1",oa="_admisionApplicationTop_u80qd_5",ia="_admisionApplicationTopLeft_u80qd_13",ca="_active_u80qd_32",la="_applicationBody_u80qd_37",ra="_searchContainerr_u80qd_43",_a="_searchContainer_u80qd_43",da="_newBtn_u80qd_78",ma="_remainingFees_u80qd_96",ha="_itemsContainer_u80qd_102",xa="_item_u80qd_102",ua="_subItem_u80qd_119",fa="_text_u80qd_128",ja="_imgContainer_u80qd_140",pa="_enquiryDetail_u80qd_177",ba="_enquiryDetailtop_u80qd_182",ga="_enquiryDetailtopimg_u80qd_192",Na="_enquiryDetailtoph6_u80qd_197",va="_enquiryDetailbody_u80qd_208",wa="_enquiryDetailbodyp_u80qd_216",Sa="_itemrow_u80qd_226",ya="_enquiryDetailbodyspan_u80qd_230",ka="_enquiryDetailbodyplight_u80qd_234",qa="_pollTextarea_u80qd_244",y={admisionApplication:na,admisionApplicationTop:oa,admisionApplicationTopLeft:ia,active:ca,applicationBody:la,searchContainerr:ra,searchContainer:_a,newBtn:da,remainingFees:ma,itemsContainer:ha,item:xa,subItem:ua,text:fa,imgContainer:ja,enquiryDetail:pa,enquiryDetailtop:ba,enquiryDetailtopimg:ga,enquiryDetailtoph6:Na,enquiryDetailbody:va,enquiryDetailbodyp:wa,itemrow:Sa,enquiryDetailbodyspan:ya,enquiryDetailbodyplight:ka,pollTextarea:qa};function Gs({setEnquiryId:s,enquiry:a}){var l;return e.jsxs("div",{className:y.item,onClick:()=>s(a==null?void 0:a._id),children:[e.jsx("div",{className:y.imgContainer,children:e.jsx("img",{alt:"Ongoing App",src:a!=null&&a.inquiry_student_photo?`${he}/${a==null?void 0:a.inquiry_student_photo}`:"/images/member_tab/class/default_avatar.svg"})}),e.jsxs("div",{className:y.subItem,children:[e.jsxs("div",{className:y.text,children:[e.jsx("h6",{children:(a==null?void 0:a.inquiry_student_name)||""}),e.jsx("h6",{children:((l=a==null?void 0:a.inquiry_application)==null?void 0:l.applicationName)||""})]}),e.jsxs("div",{className:y.text,children:[e.jsx("p",{style:{marginBottom:"0.2rem"},children:G(a==null?void 0:a.createdAt).format("DD MMM,yyyy")}),e.jsx("p",{children:"Enquired On"})]})]})]})}function Ca({setEnquiryId:s,admissionId:a,reftechWhenMark:l,setReftechWhenMark:_}){const[i,d]=o.useState(!0),[n,p]=o.useState(1),[r,j]=z(),[g,N]=o.useState(!0),[h,b]=o.useState([]),{getAllEnquiryList:t,getAllEnquiryListRefetch:m}=Xs({data:{aid:a,page:n,limit:10,status:"Ongoing"},skip:!a}),{scrollToTop:c}=B();return o.useEffect(()=>{c()},[]),o.useEffect(()=>{j&&i&&p(x=>x+1)},[j,i]),o.useEffect(()=>{l&&p(1)},[l]),o.useEffect(()=>{a&&(N(!0),m())},[n,a,m]),o.useEffect(()=>{a&&l&&(N(!0),m())},[a,l,m]),o.useEffect(()=>{var x,w;if(t!=null&&t.all_inquiry)if(l){const f=[...t==null?void 0:t.all_inquiry],v=[...new Set(f.map(JSON.stringify))].map(JSON.parse);b(v),_(!1),N(!1)}else{const f=[...h,...t==null?void 0:t.all_inquiry],v=[...new Set(f.map(JSON.stringify))].map(JSON.parse);b(v),N(!1)}else((x=t==null?void 0:t.all_inquiry)==null?void 0:x.length)===0&&N(!1);((w=t==null?void 0:t.all_inquiry)==null?void 0:w.length)===10?d(!0):d(!1)},[t==null?void 0:t.all_inquiry]),e.jsx("div",{className:y.remainingFees,children:e.jsx("div",{className:y.remainingFeesBottom,children:e.jsxs("div",{className:y.itemsContainer,children:[h==null?void 0:h.map((x,w)=>(h==null?void 0:h.length)===w+1?e.jsx("div",{ref:r,children:e.jsx(Gs,{setEnquiryId:s,enquiry:x})},x==null?void 0:x._id):e.jsx(Gs,{setEnquiryId:s,enquiry:x},x==null?void 0:x._id)),g&&e.jsx(V,{})]})})})}function Ws({enquiry:s,setReviewedId:a}){var l;return e.jsxs("div",{className:y.item,onClick:()=>a(s==null?void 0:s._id),children:[e.jsx("div",{className:y.imgContainer,children:e.jsx("img",{alt:"Ongoing App",src:s!=null&&s.inquiry_student_photo?`${he}/${s==null?void 0:s.inquiry_student_photo}`:"/images/member_tab/class/default_avatar.svg"})}),e.jsxs("div",{className:y.subItem,children:[e.jsxs("div",{className:y.text,children:[e.jsx("h6",{children:(s==null?void 0:s.inquiry_student_name)||""}),e.jsx("h6",{children:((l=s==null?void 0:s.inquiry_application)==null?void 0:l.applicationName)||""})]}),e.jsxs("div",{className:y.text,children:[e.jsxs("p",{style:{marginBottom:"0.2rem"},children:[" ",G(s==null?void 0:s.reviewAt).format("DD MMM,yyyy")]}),e.jsx("p",{children:"Reviewed On"})]})]})]})}function Ta({admissionId:s,setReviewedId:a}){const[l,_]=o.useState(!0),[i,d]=o.useState(1),[n,p]=z(),[r,j]=o.useState(!0),[g,N]=o.useState([]),{getAllEnquiryList:h,getAllEnquiryListRefetch:b}=Xs({data:{aid:s,page:i,limit:10,status:"Reviewed"},skip:!s});o.useEffect(()=>{p&&l&&d(m=>m+1)},[p,l]);const{scrollToTop:t}=B();return o.useEffect(()=>{t()},[]),o.useEffect(()=>{s&&(j(!0),b())},[i,s,b]),o.useEffect(()=>{var m,c;if(h!=null&&h.all_inquiry){const x=[...g,...h==null?void 0:h.all_inquiry],w=[...new Set(x.map(JSON.stringify))].map(JSON.parse);N(w),j(!1)}else((m=h==null?void 0:h.all_inquiry)==null?void 0:m.length)===0&&j(!1);((c=h==null?void 0:h.all_inquiry)==null?void 0:c.length)===10?_(!0):_(!1)},[h==null?void 0:h.all_inquiry]),e.jsx("div",{className:y.remainingFees,children:e.jsx("div",{className:y.remainingFeesBottom,children:e.jsxs("div",{className:y.itemsContainer,children:[g==null?void 0:g.map((m,c)=>(g==null?void 0:g.length)===c+1?e.jsx("div",{ref:n,children:e.jsx(Ws,{enquiry:m,setReviewedId:a})},m==null?void 0:m._id):e.jsx(Ws,{enquiry:m,setReviewedId:a},m==null?void 0:m._id)),r&&e.jsx(V,{})]})})})}function Ea({enquiryId:s,setEnquiryId:a,setReftechWhenMark:l}){var t,m,c,x,w,f,v,k,S,q,u,C,E,I;const{t:_}=F(),[i,d]=o.useState(""),[n,p]=o.useState(!1),{oneEnquiryDetail:r,oneEnquiryDetailRefetch:j}=Zs({eid:s,skip:!s}),[g]=dt(),{scrollToTop:N}=B();o.useEffect(()=>{N()},[]),o.useEffect(()=>{s&&j()},[s,j]);const h=document.querySelector("textarea");h==null||h.addEventListener("keyup",D=>{h.style.height="auto";let $=D.target.scrollHeight;h.style.height=`${$}px`});const b=()=>{s&&(p(D=>!D),g({eid:s,enquiryRemark:{remark:i}}).then(D=>{console.info(D),l(!0),a(""),p($=>!$)}).catch({}))};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:y.enquiryDetail,children:[e.jsxs("div",{className:y.enquiryDetailtop,children:[e.jsx("img",{className:y.enquiryDetailtopimg,src:"/images/back.svg",alt:"back",onClick:()=>a("")}),e.jsxs("h6",{className:y.enquiryDetailtoph6,children:[" ",((c=(m=(t=r==null?void 0:r.one_inquiry)==null?void 0:t.one_inquiry)==null?void 0:m.inquiry_application)==null?void 0:c.applicationName)||""]}),e.jsx("div",{})]}),e.jsxs("div",{className:y.enquiryDetailbody,children:[e.jsx("div",{className:y.itemrow,children:e.jsxs("p",{className:y.enquiryDetailbodyp,children:[e.jsxs("span",{className:`${y.enquiryDetailbodyp} ${y.enquiryDetailbodyspan}`,children:[_("name"),":  "]}),((w=(x=r==null?void 0:r.one_inquiry)==null?void 0:x.one_inquiry)==null?void 0:w.inquiry_student_name)||""]})}),e.jsx("div",{className:y.itemrow,children:e.jsxs("p",{className:y.enquiryDetailbodyp,children:[e.jsxs("span",{className:`${y.enquiryDetailbodyp} ${y.enquiryDetailbodyspan}`,children:[_("mobile_bumber"),":  "]}),((v=(f=r==null?void 0:r.one_inquiry)==null?void 0:f.one_inquiry)==null?void 0:v.inquiry_student_mobileNo)||""]})}),e.jsx("div",{className:y.itemrow,children:e.jsxs("p",{className:y.enquiryDetailbodyp,children:[e.jsxs("span",{className:`${y.enquiryDetailbodyp} ${y.enquiryDetailbodyspan}`,children:[_("dob"),":  "]}),G((S=(k=r==null?void 0:r.one_inquiry)==null?void 0:k.one_inquiry)==null?void 0:S.inquiry_student_dob).format("DD MMM yyyy")]})}),e.jsx("div",{className:y.itemrow,children:e.jsxs("p",{className:y.enquiryDetailbodyp,children:[e.jsxs("span",{className:`${y.enquiryDetailbodyp} ${y.enquiryDetailbodyspan}`,children:[_("age"),":  "]}),((q=r==null?void 0:r.one_inquiry)==null?void 0:q.custom_dob)||""]})}),e.jsx("div",{className:y.itemrow,children:e.jsxs("p",{className:y.enquiryDetailbodyp,children:[e.jsxs("span",{className:`${y.enquiryDetailbodyp} ${y.enquiryDetailbodyspan}`,children:[_("prev_school"),":  "]}),((C=(u=r==null?void 0:r.one_inquiry)==null?void 0:u.one_inquiry)==null?void 0:C.inquiry_student_previous)||""]})}),e.jsx("div",{className:y.itemrow,children:e.jsxs("p",{className:y.enquiryDetailbodyp,children:[e.jsxs("span",{className:`${y.enquiryDetailbodyp} ${y.enquiryDetailbodyspan}`,children:[_("address_"),"  "]}),((I=(E=r==null?void 0:r.one_inquiry)==null?void 0:E.one_inquiry)==null?void 0:I.inquiry_student_address)||""]})}),e.jsxs("div",{className:y.itemrow,children:[e.jsxs("p",{className:y.enquiryDetailbodyp,children:[_("remark"),"  "]}),e.jsx("textarea",{className:y.pollTextarea,id:"pollTextArea",type:"text",required:!0,placeholder:_("followup_"),value:i,onChange:D=>d(D.target.value)})]}),e.jsx(Rs,{disabled:n,buttonText:_("save"),customStyleButton:{minHeight:"2.3rem",marginBottom:"1rem"},customStyleButtonText:{fontSize:"1rem"},onAction:b})]})]}),n&&e.jsx(R,{})]})}function $a({reviewedId:s,setReviewedId:a}){var d,n,p,r,j,g,N,h,b,t,m,c,x,w,f,v,k,S,q,u;const{t:l}=F(),{oneEnquiryDetail:_,oneEnquiryDetailRefetch:i}=Zs({eid:s,skip:!s});return o.useEffect(()=>{s&&i()},[s,i]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:y.enquiryDetail,children:[e.jsxs("div",{className:y.enquiryDetailtop,children:[e.jsx("img",{className:y.enquiryDetailtopimg,src:"/images/back.svg",alt:"back",onClick:()=>a("")}),e.jsx("h6",{className:y.enquiryDetailtoph6,children:((p=(n=(d=_==null?void 0:_.one_inquiry)==null?void 0:d.one_inquiry)==null?void 0:n.inquiry_application)==null?void 0:p.applicationName)||""}),e.jsx("div",{})]}),e.jsxs("div",{className:y.enquiryDetailbody,children:[e.jsx("div",{className:y.itemrow,children:e.jsxs("p",{className:y.enquiryDetailbodyp,children:[e.jsxs("span",{className:`${y.enquiryDetailbodyp} ${y.enquiryDetailbodyspan}`,children:[l("name"),":  "]}),((j=(r=_==null?void 0:_.one_inquiry)==null?void 0:r.one_inquiry)==null?void 0:j.inquiry_student_name)||""]})}),e.jsx("div",{className:y.itemrow,children:e.jsxs("p",{className:y.enquiryDetailbodyp,children:[e.jsxs("span",{className:`${y.enquiryDetailbodyp} ${y.enquiryDetailbodyspan}`,children:[l("mobile_bumber"),":  "]}),((N=(g=_==null?void 0:_.one_inquiry)==null?void 0:g.one_inquiry)==null?void 0:N.inquiry_student_mobileNo)||""]})}),e.jsx("div",{className:y.itemrow,children:e.jsxs("p",{className:y.enquiryDetailbodyp,children:[e.jsxs("span",{className:`${y.enquiryDetailbodyp} ${y.enquiryDetailbodyspan}`,children:[l("dob"),":  "]}),G((b=(h=_==null?void 0:_.one_inquiry)==null?void 0:h.one_inquiry)==null?void 0:b.inquiry_student_dob).format("DD MMM yyyy")]})}),e.jsx("div",{className:y.itemrow,children:e.jsxs("p",{className:y.enquiryDetailbodyp,children:[e.jsxs("span",{className:`${y.enquiryDetailbodyp} ${y.enquiryDetailbodyspan}`,children:[l("age"),":  "]}),((t=_==null?void 0:_.one_inquiry)==null?void 0:t.custom_dob)||""]})}),e.jsx("div",{className:y.itemrow,children:e.jsxs("p",{className:y.enquiryDetailbodyp,children:[e.jsxs("span",{className:`${y.enquiryDetailbodyp} ${y.enquiryDetailbodyspan}`,children:[l("prev_school"),":  "]}),((c=(m=_==null?void 0:_.one_inquiry)==null?void 0:m.one_inquiry)==null?void 0:c.inquiry_student_previous)||""]})}),e.jsxs("div",{className:y.itemrow,children:[e.jsxs("p",{className:y.enquiryDetailbodyp,children:[l("address"),"   "]}),e.jsx("p",{className:y.enquiryDetailbodyplight,children:((w=(x=_==null?void 0:_.one_inquiry)==null?void 0:x.one_inquiry)==null?void 0:w.inquiry_student_address)||""})]}),e.jsxs("div",{className:y.itemrow,children:[e.jsxs("p",{className:y.enquiryDetailbodyp,children:[l("remark"),"  ",e.jsx("span",{className:`${y.enquiryDetailbodyp} ${y.enquiryDetailbodyspan}`,children:`(At
                ${G((v=(f=_==null?void 0:_.one_inquiry)==null?void 0:f.one_inquiry)==null?void 0:v.reviewAt).format("LT")}
                , 
                ${G((S=(k=_==null?void 0:_.one_inquiry)==null?void 0:k.one_inquiry)==null?void 0:S.reviewAt).format("DD MMM yyyy")}
                )`})]}),e.jsx("p",{className:y.enquiryDetailbodyplight,children:((u=(q=_==null?void 0:_.one_inquiry)==null?void 0:q.one_inquiry)==null?void 0:u.inquiry_student_remark)||""})]})]})]})})}const Da="_modalhead_13hav_1",Fa="_modalContainer_13hav_9",Ia="_modalbody_13hav_31",Ma="_modalbodyheader_13hav_43",Oa="_modalItem_13hav_58",Pa="_modalItemLeft_13hav_71",La="_formcontainer_13hav_95",Ja="_rowItem_13hav_99",Ua="_options_13hav_116",Ga="_option_13hav_116",Wa="_inputt_13hav_158",Ha="_selectText_13hav_175",Ka="_selectTextActive_13hav_187",Va="_arrow_13hav_199",za="_arrowIcon_13hav_205",Ba="_pollTextarea_13hav_212",Ya="_profilephotocontainer_13hav_237",Xa="_profilephotoins_13hav_243",Za="_profilephotocontainerr_13hav_248",Aa="_form_edit_icon_13hav_253",Ra="_imggcontainer_13hav_268",Qa="_closeIcon_13hav_278",O={modalhead:Da,modalContainer:Fa,modalbody:Ia,modalbodyheader:Ma,modalItem:Oa,modalItemLeft:Pa,formcontainer:La,rowItem:Ja,options:Ua,option:Ga,inputt:Wa,selectText:Ha,selectTextActive:Ka,arrow:Va,arrowIcon:za,pollTextarea:Ba,profilephotocontainer:Ya,profilephotoins:Xa,profilephotocontainerr:Za,form_edit_icon:Aa,imggcontainer:Ra,closeIcon:Qa},en=({onClose:s,instituteId:a,onSelectApplication:l})=>{const{t:_}=F(),[i,d]=o.useState(!0),[n,p]=o.useState(1),[r,j]=z(),[g,N]=o.useState(!0),[h,b]=o.useState([]),{allAppAtInstitute:t,allAppAtInstituteRefetch:m}=mt({data:{id:a,page:n,limit:10},skip:!a});return o.useEffect(()=>{a&&m()},[a,n,m]),o.useEffect(()=>{j&&i&&p(c=>c+1)},[j,i]),o.useEffect(()=>{var c,x;if(t!=null&&t.allApp){const w=[...h,...t==null?void 0:t.allApp],f=[...new Set(w.map(JSON.stringify))].map(JSON.parse);b(f),N(!1)}else((c=t==null?void 0:t.allApp)==null?void 0:c.length)===0&&N(!1);((x=t==null?void 0:t.allApp)==null?void 0:x.length)===10?d(!0):d(!1)},[t==null?void 0:t.allApp]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:O.modalhead,children:[e.jsx("img",{src:"/images/back.svg",onClick:s}),e.jsx("h6",{children:_("select_app")}),e.jsx("div",{})]}),e.jsxs("div",{className:O.modalbody,children:[e.jsx("h6",{className:O.modalbodyheader,children:_("new_application")}),e.jsxs("div",{className:O.itemsContainer,children:[h==null?void 0:h.map((c,x)=>{var w,f;return(h==null?void 0:h.length)===x+1?e.jsxs("div",{className:O.modalItem,onClick:()=>l(c==null?void 0:c._id),ref:r,children:[e.jsxs("div",{className:O.modalItemLeft,children:[e.jsx("h6",{children:c==null?void 0:c.applicationName}),e.jsxs("p",{children:[(w=c==null?void 0:c.applicationDepartment)==null?void 0:w.dName,"t"]})]}),e.jsxs("div",{className:O.modalItemLeft,children:[e.jsx("h6",{children:G(c==null?void 0:c.applicationEndDate).format("DD MMM yyyy")}),e.jsx("p",{children:"Last Date"})]})]},c==null?void 0:c._id):e.jsxs("div",{className:O.modalItem,onClick:()=>l(c==null?void 0:c._id),children:[e.jsxs("div",{className:O.modalItemLeft,children:[e.jsx("h6",{children:c==null?void 0:c.applicationName}),e.jsxs("p",{children:[(f=c==null?void 0:c.applicationDepartment)==null?void 0:f.dName,"t"]})]}),e.jsxs("div",{className:O.modalItemLeft,children:[e.jsx("h6",{children:G(c==null?void 0:c.applicationEndDate).format("DD MMM yyyy")}),e.jsx("p",{children:"Last Date"})]})]},c==null?void 0:c._id)}),g&&e.jsx(V,{})]})]})]})},sn={position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10},tn={position:"absolute",left:"0",top:"2.1rem",zIndex:10};function an({open:s,onClose:a,onSelect:l}){const _=["Male","Female","Other"];return s?e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:a,style:sn}),e.jsx("div",{style:tn,className:O.options,children:_.map((i,d)=>e.jsx("div",{className:O.option,onClick:()=>{l({target:{name:"inquiry_student_gender",value:i}}),a()},children:i},d))})]}):null}const nn=({setIndex:s,selectApplication:a,onClose:l,setReftechWhenMark:_})=>{const{t:i}=F(),[d]=ht(),[n,p]=o.useState(""),[r,j]=o.useState(!1),[g,N]=o.useState(!1),[h,b]=o.useState(!1),[t,m]=o.useState(),[c,x]=o.useState({inquiry_student_name:"",inquiry_student_gender:"",inquiry_student_address:"",inquiry_student_previous:"",inquiry_student_mobileNo:""}),[w,f]=o.useState(!1),v=document.querySelector("textarea");v==null||v.addEventListener("keyup",u=>{v.style.height="auto";let C=u.target.scrollHeight;v.style.height=`${C}px`});const k=u=>{x(C=>({...C,[u.target.name]:u.target.value}))},S=()=>{if(a&&t){f(I=>!I);const u=new FormData;let C=t==null?void 0:t.split("/"),E=`${C[2]}-${C[1]}-${C[0]}`;u.append("sample_pic",n),u.append("inquiry_student_dob",E);for(let I in c)u.append(I,c[I]);d({aid:a,enquiry:u}).then(()=>{_(!0),f(I=>!I),l()}).catch({})}};o.useEffect(()=>{var u;r&&((u=document.getElementById("scrollToTop"))==null||u.scrollIntoView({behavior:"smooth",block:"start",inline:"start"}))},[r]);const q=u=>{const C=Wt(u);m(C?u:""),j(E=>!E)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:O.modalhead,id:"scrollToTop",children:[e.jsx("img",{src:"/images/back.svg",alt:"go back icon",onClick:()=>s(0)}),e.jsx("h6",{children:i("enquire")}),e.jsx("div",{})]}),e.jsx("div",{className:O.modalbody,children:e.jsxs("div",{className:O.formcontainer,children:[e.jsx("div",{className:O.profilephotocontainerr,children:e.jsx("div",{className:O.profilephotocontainer,children:e.jsxs("label",{htmlFor:"profile",className:O.profilephotocontainerr,onClick:()=>N(!0),children:[e.jsx("img",{className:O.profilephotoins,src:n?`${at}/${n}`:"/images/ins_default_profile.svg",alt:"student avatar"}),e.jsx("img",{src:"/images/user-pencil-edit-transparent.svg",alt:"edit icon",className:O.form_edit_icon})]})})}),e.jsxs("div",{className:O.rowItem,children:[e.jsx("h6",{children:i("student_name_")}),e.jsx(ss,{type:"text",name:"inquiry_student_name",placeholder:i("please_enter_full_name"),value:c==null?void 0:c.inquiry_student_name,handleChange:k,customStyleInput:{width:"100%",padding:"0.6rem"}})]}),e.jsxs("div",{className:O.rowItem,children:[e.jsx("h6",{children:i("gender")}),e.jsxs("div",{className:O.inputt,style:{position:"relative"},onClick:()=>b(!h),children:[c.inquiry_student_gender===""?e.jsx("p",{className:O.selectText,children:i("gender_details")}):e.jsx("p",{className:O.selectTextActive,children:c.inquiry_student_gender}),h?e.jsx("img",{className:O.arrowIcon,src:"/images/up-triangle-icon.svg",alt:""}):e.jsx("img",{className:O.arrow,src:"/images/downn-icon.svg",alt:""}),h&&e.jsx(an,{open:h,onClose:()=>b(!1),onSelect:k})]})]}),e.jsx("div",{className:O.rowItem,children:e.jsx(Gt,{customStyleInput:{width:"100%",height:"2.2rem",padding:"1rem 0.5rem"},placeholder:i("enter_dob"),datePickerPosition:{top:"-17rem",left:"1rem",borderRadius:"0.375rem",paddingBottom:"0"},dateItemStyle:{padding:"0.25rem"},range:!1,label:i("dob"),dateInput:t,setDateInput:q,setOpenDate:j,asOpen:"Enquiry"})}),e.jsxs("div",{className:O.rowItem,children:[e.jsx("h6",{children:i("mobile_bumber")}),e.jsx(ss,{type:"tel",maxLength:"10",name:"inquiry_student_mobileNo",placeholder:i("enter_mobile"),value:c.inquiry_student_mobileNo,handleChange:k,customStyleInput:{width:"100%",padding:"0.6rem"}})]}),e.jsxs("div",{className:O.rowItem,children:[e.jsx("h6",{children:i("address")}),e.jsx("textarea",{className:O.pollTextarea,id:"pollTextArea",type:"text",required:!0,maxlength:"50",placeholder:i("enter_add"),name:"inquiry_student_address",value:c.inquiry_student_address,onChange:k})]}),e.jsxs("div",{className:O.rowItem,children:[e.jsx("h6",{children:i("prev_schol_optional")}),e.jsx(ss,{type:"text",name:"inquiry_student_previous",placeholder:i("enter_prev_optional"),value:c==null?void 0:c.inquiry_student_previous,handleChange:k,customStyleInput:{width:"100%",padding:"0.6rem"}})]}),e.jsx(Rs,{disabled:w,buttonText:i("add"),customStyleButton:{minHeight:"2.3rem",marginBottom:"1rem"},customStyleButtonText:{fontSize:"1rem"},onAction:S})]})}),g&&e.jsx(Ut,{onClose:()=>N(!1),showContent:"Select Avatar",onClick:p}),w&&e.jsx(R,{})]})};function on({open:s,onClose:a,instituteId:l,setReftechWhenMark:_}){const[i,d]=o.useState(0),[n,p]=o.useState(""),r=j=>{p(j),d(1)};return e.jsx(nt,{open:s,children:e.jsxs("div",{className:O.modalContainer,children:[i===0&&e.jsx(en,{onSelectApplication:r,onClose:a,instituteId:l}),i===1&&e.jsx(nn,{setIndex:d,selectApplication:n,onClose:a,setReftechWhenMark:_})]})})}function cn({admissionId:s,instituteId:a}){const{t:l}=F(),[_,i]=o.useState(0),[d,n]=o.useState(!1),[p,r]=o.useState(!1),[j,g]=o.useState(""),[N,h]=o.useState("");return e.jsxs(e.Fragment,{children:[N===""&&j===""&&e.jsxs("div",{className:y.admisionApplication,children:[e.jsx("div",{className:y.admisionApplicationTop,children:e.jsxs("div",{className:y.admisionApplicationTopLeft,children:[_===0?e.jsx("h6",{className:y.active,onClick:()=>i(0),children:l("enquiries")}):e.jsx("h6",{onClick:()=>i(0),children:l("enquiries")}),_===1?e.jsx("h6",{className:y.active,onClick:()=>i(1),children:l("reviewed")}):e.jsx("h6",{onClick:()=>i(1),children:l("reviewed")})]})}),e.jsxs("div",{className:y.applicationBody,children:[e.jsxs("div",{className:y.searchContainerr,children:[e.jsxs("div",{className:y.searchContainer,children:[e.jsx("img",{alt:"",src:"/images/search-dept-icon.svg"}),e.jsx("input",{type:"text",placeholder:l("search-label"),required:!0})]}),e.jsx("div",{className:y.newBtn,onClick:()=>n(!0),children:l("add_new_enquiry")})]}),_===0&&e.jsx(Ca,{setEnquiryId:h,admissionId:s,reftechWhenMark:p,setReftechWhenMark:r}),_===1&&e.jsx(Ta,{admissionId:s,setReviewedId:g})]})]}),N&&e.jsx(Ea,{enquiryId:N,setEnquiryId:h,setReftechWhenMark:r}),j&&e.jsx($a,{setReviewedId:g,reviewedId:j}),d&&e.jsx(on,{open:d,onClose:()=>n(!1),instituteId:a,setReftechWhenMark:r})]})}const ln=({reqId:s,receipt:a,admissionId:l,onReceiptToggle:_,onRefetch:i,showAs:d})=>{var x,w,f,v;const{t:n}=F(),[p,r]=o.useState(""),[j,g]=o.useState(!0),[N,h]=o.useState(!1),b=()=>{},[t]=xt(),m=k=>{const S=window.open(k,"_blank","noopener,noreferrer");S&&(S.opener=null)},c=()=>{h(k=>!k),t({aid:l,rid:a==null?void 0:a._id,reqId:s,status:d==="REJECTED"?j?"Over_Rejection":"Rejection_Notify":j?"Approved":"Rejected",receiptAction:{reason:p}}).then(k=>{i(),h(S=>!S),_()}).catch(()=>{h(k=>!k)})};return e.jsxs(se,{onClose:_,children:[e.jsxs("div",{className:M.fee_request,children:[e.jsx("h6",{children:n("fee_receipt_request")}),e.jsx(W,{customStyle:{width:"30rem",marginTop:"0.7rem"}}),e.jsxs("div",{className:M.fee_request_tab,children:[e.jsx("h6",{className:j?M.fee_request_tab_active:"",onClick:()=>g(!0),children:n("accept")}),e.jsx("h6",{className:j?"":M.fee_request_tab_active,onClick:()=>g(!1),children:n("reject")})]}),e.jsxs("section",{className:M.fee_request_detail,children:[e.jsxs("h6",{className:M.fee_request_detail_name,children:[n("name")," "," : "," ",`${(x=a==null?void 0:a.student)==null?void 0:x.studentFirstName} ${(w=a==null?void 0:a.student)!=null&&w.studentMiddleName?(f=a==null?void 0:a.student)==null?void 0:f.studentMiddleName:""} ${(v=a==null?void 0:a.student)==null?void 0:v.studentLastName}`]}),e.jsxs("h6",{className:M.fee_request_detail_amount,children:[n("amount")," "," : "," ",n("rs")," ",(a==null?void 0:a.fee_payment_amount)??0]}),e.jsx("h6",{className:M.fee_request_detail_date,children:G(a==null?void 0:a.created_at).format("DD MMM yyyy")})]}),j&&e.jsxs(e.Fragment,{children:[e.jsx(Q,{labelText:n("bank_name_collect"),name:"fee_bank_name",type:"tel",value:a==null?void 0:a.fee_bank_name,onChange:b,placeholder:n("please_enter_bank_name"),customStyleLabel:{marginTop:"6px",marginBottom:"7px"}}),e.jsx(Q,{labelText:n("banke_holder_name"),name:"fee_bank_holder",type:"tel",value:a==null?void 0:a.fee_bank_holder,onChange:b,placeholder:n("please_enter_name_of_bank_holder"),customStyleLabel:{marginTop:"6px",marginBottom:"7px"}}),e.jsx(Q,{labelText:n("cheque_dd_neft"),name:"fee_utr_reference",type:"tel",value:a==null?void 0:a.fee_utr_reference,onChange:b,placeholder:n("please_enter_utr_ref_number"),customStyleLabel:{marginTop:"6px",marginBottom:"7px"}}),a!=null&&a.fee_payment_acknowledge?e.jsx("button",{className:M.payment_acknowledge_btn,onClick:()=>m(`${ot}/${a==null?void 0:a.fee_payment_acknowledge}`),children:n("payment_acknowledge")}):null]}),!j&&e.jsx(Q,{labelText:n("reason_for_rejection_receipt"),name:"reason_for_rejection_receipt",type:"text",value:p,onChange:k=>r(k.target.value),placeholder:n("please_reason_for_rejection_receipt"),customStyleLabel:{marginTop:"6px",marginBottom:"7px"}}),e.jsx("button",{className:M.fee_request_confirm,onClick:c,children:n(j?"confirm":"confirm_reject")})]}),N&&e.jsx(R,{})]})},pe=({receipt:s,showAs:a,admissionId:l,onRefetch:_})=>{var r,j,g,N,h,b,t,m,c,x,w,f,v,k,S,q;const{t:i}=F(),[d,n]=o.useState(!1),p=()=>{var u;a==="REQUEST"?n(C=>!C):(u=s==null?void 0:s.receipt)!=null&&u.re_apply&&a==="REJECTED"&&n(C=>!C)};return e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:M.request_card_container,onClick:p,children:[e.jsxs("div",{className:M.request_card_info,children:[e.jsx("img",{src:(j=(r=s==null?void 0:s.receipt)==null?void 0:r.student)!=null&&j.studentProfilePhoto?`${he}/${(N=(g=s==null?void 0:s.receipt)==null?void 0:g.student)==null?void 0:N.studentProfilePhoto}`:"/images/member_tab/class/default_avatar.svg",alt:"avatar",className:M.request_card_info_image}),e.jsxs("div",{children:[e.jsx("h6",{className:M.request_card_info_name,children:`${(b=(h=s==null?void 0:s.receipt)==null?void 0:h.student)==null?void 0:b.studentFirstName} ${(m=(t=s==null?void 0:s.receipt)==null?void 0:t.student)!=null&&m.studentMiddleName?(x=(c=s==null?void 0:s.receipt)==null?void 0:c.student)==null?void 0:x.studentMiddleName:""} ${(f=(w=s==null?void 0:s.receipt)==null?void 0:w.student)==null?void 0:f.studentLastName}`}),e.jsxs("p",{className:M.request_card_info_name,children:[i("amount")," : ",i("rs")," ",((v=s==null?void 0:s.receipt)==null?void 0:v.fee_payment_amount)||0]}),e.jsx("p",{className:M.request_card_info_date,children:G(s==null?void 0:s.created_at).format("DD MMM yyyy")})]})]}),e.jsxs("h6",{className:M.request_card_utr,children:[i("utr_number")," ",(k=s==null?void 0:s.receipt)==null?void 0:k.fee_utr_reference]}),a==="REJECTED"&&e.jsxs(e.Fragment,{children:[e.jsxs("h6",{className:M.reason_for_rejection,children:[i("reason_for_rejection")," ",((S=s==null?void 0:s.receipt)==null?void 0:S.reason)??(s==null?void 0:s.reason)]}),((q=s==null?void 0:s.receipt)==null?void 0:q.re_apply)&&e.jsx("button",{className:M.re_requested_btn,children:i("re_requested")})]})]}),d&&e.jsx(ln,{receipt:s==null?void 0:s.receipt,reqId:s==null?void 0:s._id,onReceiptToggle:p,admissionId:l,onRefetch:_,showAs:a})]})},rn=({admissionId:s,filterReceiptQuery:a,search:l})=>{var f,v;const{t:_}=F(),[i,d]=z(),[n,p]=o.useState(1),[r,j]=o.useState(!0),[g,N]=o.useState(!1),[h,b]=o.useState(!0),[t,m]=o.useState([]),{getReceiptByAdmission:c,getReceiptByAdmissionRefetch:x}=os({data:{aid:s,page:n,limit:10,filterBy:"ALL_APPROVE",over_filter:((f=a==null?void 0:a.department)==null?void 0:f._id)??"",search:l??""},skip:!s}),{scrollToTop:w}=B();return o.useEffect(()=>{w()},[]),o.useEffect(()=>{s&&(b(!0),x())},[s,n,l,x]),o.useEffect(()=>{d&&r&&p(k=>k+1)},[d,r]),o.useEffect(()=>{var k;(k=a==null?void 0:a.department)!=null&&k._id&&m([])},[(v=a==null?void 0:a.department)==null?void 0:v._id]),o.useEffect(()=>{var k,S;l?(m(c==null?void 0:c.all_requests),b(!1)):g?(m(q=>[...new Set([...c==null?void 0:c.all_requests,...q].map(JSON.stringify))].map(JSON.parse)),b(!1),N(!1)):c!=null&&c.all_requests?(m(q=>[...new Set([...q,...c==null?void 0:c.all_requests].map(JSON.stringify))].map(JSON.parse)),b(!1)):((k=c==null?void 0:c.all_requests)==null?void 0:k.length)===0&&b(!1),((S=c==null?void 0:c.all_requests)==null?void 0:S.length)===10?j(!0):j(!1)},[c==null?void 0:c.all_requests]),e.jsxs("div",{className:M.all_request_container,children:[e.jsxs("h6",{className:M.total_request,children:[_("total_request")," ",(c==null?void 0:c.count)??0]}),t==null?void 0:t.map((k,S)=>(t==null?void 0:t.length)===S+1?e.jsx("div",{ref:i,children:e.jsx(pe,{receipt:k})},k==null?void 0:k._id):e.jsx(pe,{receipt:k},k==null?void 0:k._id)),h&&e.jsx(V,{})]})},_n=({admissionId:s,filterReceiptQuery:a,search:l})=>{var v,k;const{t:_}=F(),[i,d]=z(),[n,p]=o.useState(1),[r,j]=o.useState(!0),[g,N]=o.useState(!1),[h,b]=o.useState(!0),[t,m]=o.useState([]),{getReceiptByAdmission:c,getReceiptByAdmissionRefetch:x}=os({data:{aid:s,page:n,limit:10,filterBy:"ALL_REJECT",over_filter:((v=a==null?void 0:a.department)==null?void 0:v._id)??"",search:l??""},skip:!s}),{scrollToTop:w}=B();o.useEffect(()=>{w()},[]),o.useEffect(()=>{s&&(b(!0),x())},[s,n,l,x]),o.useEffect(()=>{d&&r&&p(S=>S+1)},[d,r]),o.useEffect(()=>{var S;(S=a==null?void 0:a.department)!=null&&S._id&&m([])},[(k=a==null?void 0:a.department)==null?void 0:k._id]),o.useEffect(()=>{var S,q;l?(m(c==null?void 0:c.all_requests),b(!1)):g?(m(c==null?void 0:c.all_requests),b(!1),N(!1)):c!=null&&c.all_requests?(m(u=>[...new Set([...u,...c==null?void 0:c.all_requests].map(JSON.stringify))].map(JSON.parse)),b(!1)):((S=c==null?void 0:c.all_requests)==null?void 0:S.length)===0&&b(!1),((q=c==null?void 0:c.all_requests)==null?void 0:q.length)===10?j(!0):j(!1)},[c==null?void 0:c.all_requests]);const f=()=>{N(!0),p(1),x()};return e.jsxs("div",{className:M.all_request_container,children:[e.jsxs("h6",{className:M.total_request,children:[_("total_request")," ",(c==null?void 0:c.count)??0]}),t==null?void 0:t.map((S,q)=>(t==null?void 0:t.length)===q+1?e.jsx("div",{ref:i,children:e.jsx(pe,{receipt:S,showAs:"REJECTED",admissionId:s,onRefetch:f})},S==null?void 0:S._id):e.jsx(pe,{receipt:S,showAs:"REJECTED",admissionId:s,onRefetch:f},S==null?void 0:S._id)),h&&e.jsx(V,{})]})},dn=({admissionId:s,filterReceiptQuery:a,search:l})=>{var v,k;const{t:_}=F(),[i,d]=z(),[n,p]=o.useState(1),[r,j]=o.useState(!0),[g,N]=o.useState(!1),[h,b]=o.useState(!0),[t,m]=o.useState([]),{getReceiptByAdmission:c,getReceiptByAdmissionRefetch:x}=os({data:{aid:s,page:n,limit:10,filterBy:"ALL_REQUEST",over_filter:((v=a==null?void 0:a.department)==null?void 0:v._id)??"",search:l??""},skip:!s}),{scrollToTop:w}=B();o.useEffect(()=>{w()},[]),o.useEffect(()=>{s&&(b(!0),x())},[s,n,l,x]),o.useEffect(()=>{d&&r&&p(S=>S+1)},[d,r]),o.useEffect(()=>{var S;(S=a==null?void 0:a.department)!=null&&S._id&&m([])},[(k=a==null?void 0:a.department)==null?void 0:k._id]),o.useEffect(()=>{var S,q;l?(m(c==null?void 0:c.all_requests),b(!1)):g?(m(c==null?void 0:c.all_requests),b(!1),N(!1)):c!=null&&c.all_requests?(m(u=>[...new Set([...u,...c==null?void 0:c.all_requests].map(JSON.stringify))].map(JSON.parse)),b(!1)):((S=c==null?void 0:c.all_requests)==null?void 0:S.length)===0&&b(!1),((q=c==null?void 0:c.all_requests)==null?void 0:q.length)===10?j(!0):j(!1)},[c==null?void 0:c.all_requests]);const f=()=>{N(!0),p(1),x()};return e.jsxs("div",{className:M.all_request_container,children:[e.jsxs("h6",{className:M.total_request,children:[_("total_request")," ",(c==null?void 0:c.count)??0]}),t==null?void 0:t.map((S,q)=>(t==null?void 0:t.length)===q+1?e.jsx("div",{ref:i,children:e.jsx(pe,{receipt:S,showAs:"REQUEST",admissionId:s,onRefetch:f})},S==null?void 0:S._id):e.jsx(pe,{receipt:S,showAs:"REQUEST",admissionId:s,onRefetch:f},S==null?void 0:S._id)),h&&e.jsx(V,{})]})},mn=({onClose:s,financeId:a,setFilterReceiptQuery:l})=>{var p;const{t:_}=F(),{getAllBankByFinance:i,getAllBankByFinanceRefetch:d}=Ht({data:{fid:a,page:1,limit:20,search:""},skip:!a});o.useEffect(()=>{a&&d()},[a,d]);const n=r=>{l(r),s()};return e.jsx(se,{onClose:s,children:e.jsxs("div",{className:M.applicable_container,children:[e.jsxs("section",{className:M.receipt_container_title,children:[e.jsx("img",{src:"/images/arrow-left-fees-icon.svg",onClick:s,alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),e.jsx("h6",{children:_("filter_bank_account")})]}),e.jsx(W,{customStyle:{width:"100%"}}),e.jsx("div",{style:{marginTop:"1rem"},children:(p=i==null?void 0:i.all_accounts)==null?void 0:p.map(r=>e.jsx(Vt,{bank:r,viewAs:"ADMISSION_ADMIN",onChooseBank:n}))})]})})},hn=({admissionId:s,carryParentState:a,financeId:l})=>{var w,f,v,k,S,q;const{t:_}=F(),i=ne(),d=be(),n=[{name:_("all_request"),id:0,url:"member/admission?a=receipt&n=request"},{name:_("accepted"),id:1,url:"member/admission?a=receipt&n=accept"},{name:_("rejected"),id:2,url:"member/admission?a=receipt&n=reject"}],[p,r]=o.useState(!1),[j,g]=o.useState(""),[N,h]=o.useState(""),[b,t]=o.useState(""),m=()=>{i(-1)};o.useEffect(()=>{d!=null&&d.search&&(h(""),t(""))},[d==null?void 0:d.search]);const c=o.useCallback(Ae.debounce(u=>h(u),500),[]),x=u=>{t(u.target.value),c(u.target.value)};return e.jsxs("div",{className:M.receipt_container,children:[e.jsxs("section",{className:M.receipt_container_title,children:[e.jsx("img",{src:"/images/arrow-left-fees-icon.svg",onClick:m,alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),e.jsxs("div",{className:M.receipt_container_title,style:{justifyContent:"space-between",width:"95%"},children:[e.jsx("h6",{children:j!=null&&j.finance_bank_name?e.jsxs(e.Fragment,{children:[(j==null?void 0:j.finance_bank_name)??"",e.jsxs("span",{style:{color:"rgba(18, 18, 18, 0.6)",fontSize:"12px"},children:["   ( ",((w=j==null?void 0:j.department)==null?void 0:w.dName)??""," )"]})]}):_("fee_receipts_request")}),e.jsxs("div",{className:M.search_container_filter,children:[e.jsx("section",{className:M.search_container,children:e.jsxs("div",{className:M.search_container_input,children:[e.jsx("img",{className:M.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),e.jsx("input",{type:"text",placeholder:"Search receipts...",onChange:x,value:b})]})}),e.jsx("img",{src:"/images/export-filter-icon.svg",alt:"",onClick:()=>r(!0),className:M.receipt_filter_icon,title:"Fliter Fee Receipt"})]})]})]}),e.jsx(es,{tabList:n,activeIndexTab:((f=d==null?void 0:d.search)==null?void 0:f.substring(13))==="request"?0:((v=d==null?void 0:d.search)==null?void 0:v.substring(13))==="accept"?1:2,showAs:!0,customStyleTab:{width:"100%"},customStyleLink:{width:"33.3%"},carryParentState:a}),e.jsx(W,{}),((k=d==null?void 0:d.search)==null?void 0:k.substring(13))==="request"&&e.jsx(dn,{admissionId:s,filterReceiptQuery:j,search:N}),((S=d==null?void 0:d.search)==null?void 0:S.substring(13))==="accept"&&e.jsx(rn,{admissionId:s,filterReceiptQuery:j,search:N}),((q=d==null?void 0:d.search)==null?void 0:q.substring(13))==="reject"&&e.jsx(_n,{admissionId:s,filterReceiptQuery:j,search:N}),p&&e.jsx(mn,{onClose:()=>r(!1),financeId:l,setFilterReceiptQuery:g})]})},st=({setOpenDocument:s,admissionId:a,onRefetch:l,viewAs:_,editDocument:i,onEdit:d})=>{const{t:n}=F(),[p,r]=o.useState({doc_name:"",doc_key:"",applicable_to:""}),[j,g]=o.useState(""),[N]=Re(),[h,b]=o.useState(!1),[t,m]=o.useState(""),[c]=ut();o.useEffect(()=>{_==="EDIT"&&(r({doc_name:(i==null?void 0:i.document_name)??"",doc_key:(i==null?void 0:i.document_key)??"",applicable_to:(i==null?void 0:i.applicable_to)??""}),m({originalName:"document preview"}))},[_]);const x=()=>{s(q=>!q)},w=q=>{r(u=>({...u,doc_name:q.target.value}))},f=q=>{r(u=>({...u,applicable_to:q.target.value}))},v=q=>{b(C=>!C);const u=new FormData;u.append("file",q.target.files[0]),N({fileUpload:u}).then(C=>{var E,I,D;m({originalName:(E=q.target.files[0])==null?void 0:E.name,key:(I=C.data)==null?void 0:I.imageKey,type:(D=q.target.files[0])==null?void 0:D.type}),r($=>{var L;return{...$,doc_key:(L=C.data)==null?void 0:L.imageKey}}),b($=>!$)}).catch({})},k=q=>{const u={};for(let C in q)C==="doc_key"||C==="applicable_to"||q[C]||(u[C]=`${C} is required!`);return u},S=()=>{const q=k(p);let u=!1;for(let C in q){u=!0;break}u?g(q):_==="EDIT"?d(p):(b(C=>!C),c({aid:a,document:p}).then(()=>{l(),s(C=>!C),b(C=>!C)}).catch({}))};return e.jsx(se,{children:e.jsxs("div",{className:je.document_modal,children:[e.jsxs("section",{className:je.add_document_modal_title_left,children:[e.jsx("img",{src:"/images/arrow-left-fees-icon.svg",onClick:x,alt:""}),e.jsx("h6",{children:n(_==="EDIT"?"update_document":"add_new_document")})]}),e.jsx(Q,{labelText:n("document_name"),placeholder:n("document_nape_placeholder"),name:"documentName",value:p==null?void 0:p.doc_name,type:"text",onChange:w,errorShow:j.name}),e.jsx(Xe,{labelText:n("document_applicable_to"),placeholder:n("document_applicable_to_placeholder"),name:"applicable_to",value:p==null?void 0:p.applicable_to,type:"text",onChange:f}),e.jsx(is,{labelText:n("sample_documnt"),name:"document",value:t,onChange:v}),e.jsx("button",{className:je.create_btn,onClick:S,children:n(_==="EDIT"?"update":"create")}),h&&e.jsx(R,{})]})})},xn=({onClose:s,document:a,onRefetch:l,admissionId:_})=>{const[i,d]=o.useState(!1),[n,p]=o.useState(!1),[r]=ft(),[j]=jt(),g=()=>{d(h=>!h),r({aid:_,docId:a==null?void 0:a._id}).then(()=>{l(),s(),d(h=>!h)}).catch({})},N=h=>{d(b=>!b),p(!1),console.info("sjfsdhf",h),j({aid:_,documentUpdate:{doc:{id:a==null?void 0:a._id,name:h==null?void 0:h.doc_name,newKey:(h==null?void 0:h.doc_key)===(a==null?void 0:a.document_key)?a==null?void 0:a.document_key:h==null?void 0:h.doc_key,oldKey:(h==null?void 0:h.doc_key)===(a==null?void 0:a.document_key)?"":h==null?void 0:h.doc_key,applicable_to:(h==null?void 0:h.applicable_to)??""}}}).then(()=>{l(),d(b=>!b),s()}).catch({})};return e.jsx(e.Fragment,{children:n?e.jsx(st,{editDocument:a,onEdit:N,viewAs:"EDIT",setOpenDocument:p}):e.jsxs(e.Fragment,{children:[e.jsx(et,{onClose:s}),e.jsxs(Qs,{customStyle:{zIndex:"1200"},children:[e.jsxs("div",{className:Be.edit_modal_container,style:{width:"200px"},children:[e.jsx("h6",{className:Be.edit,onClick:()=>p(h=>!h),children:"Edit"}),e.jsx("h6",{className:Be.remove,onClick:g,children:"Delete"})]}),i&&e.jsx(R,{})]})]})})},un=({admissionId:s})=>{const a=ne(),{t:l}=F(),[_,i]=o.useState(!1),[d,n]=z(),[p,r]=o.useState(1),[j,g]=o.useState(!0),[N,h]=o.useState(!1),[b,t]=o.useState(!0),[m,c]=o.useState([]),[x,w]=o.useState(!1),{getDocumentByAdmission:f,getDocumentByAdmissionRefetch:v}=pt({data:{aid:s,page:p,limit:10},skip:!s}),{scrollToTop:k}=B();o.useEffect(()=>{k()},[]),o.useEffect(()=>{s&&(t(!0),v())},[s,p,v]),o.useEffect(()=>{n&&j&&r(u=>u+1)},[n,j]),o.useEffect(()=>{var u,C;N?(c(f==null?void 0:f.all_docs),t(!1),h(!1)):f!=null&&f.all_docs?(c(E=>[...new Set([...E,...f==null?void 0:f.all_docs].map(JSON.stringify))].map(JSON.parse)),t(!1)):((u=f==null?void 0:f.all_docs)==null?void 0:u.length)===0&&t(!1),((C=f==null?void 0:f.all_docs)==null?void 0:C.length)===10?g(!0):g(!1)},[f==null?void 0:f.all_docs]);const S=()=>{h(!0),r(1),v()},q=()=>{a(-1)};return e.jsxs("div",{className:je.document_container,children:[e.jsxs("section",{className:je.document_container_title,children:[e.jsx("img",{src:"/images/arrow-left-fees-icon.svg",onClick:q,alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),e.jsx("h6",{children:l("admission_required_document")})]}),e.jsx(W,{customStyle:{width:"auto"}}),e.jsx("h6",{className:je.add_new_document,onClick:()=>i(!0),children:l("add_new_document")}),m==null?void 0:m.map((u,C)=>(m==null?void 0:m.length)===C+1?e.jsx("div",{ref:d,children:e.jsx(Js,{document:u,setOpenDocumentMenu:w})},u==null?void 0:u._id):e.jsx(Js,{document:u,setOpenDocumentMenu:w},u==null?void 0:u._id)),b&&e.jsx(V,{}),_&&e.jsx(st,{admissionId:s,setOpenDocument:i,onRefetch:S}),x&&e.jsx(xn,{document:x,admissionId:s,onRefetch:S,onClose:()=>w("")})]})},fn=({customStyleSearchContainer:s,customStyleSearchInput:a,onSearchEvent:l,onSearchEventClick:_,clickAble:i,value:d,autofocus:n,customStyleSearchIcon:p,isSearch:r})=>{const{t:j}=F(),g=h=>{i&&l(h.target.value)},N=()=>{i&&_()};return r?e.jsx("div",{className:ue.search_container,style:{...s},children:e.jsxs("div",{className:ue.search_container_text,children:[e.jsx("img",{className:ue.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg",style:{...p}}),e.jsx("input",{type:"text",placeholder:j("search-label"),onChange:l,style:{...a}})]})}):e.jsx("div",{className:ue.search_container,style:{...s},children:e.jsxs("div",{className:ue.search_container_text,children:[e.jsx("img",{className:ue.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg",style:{...p}}),e.jsx("input",{type:"text",placeholder:j("search-label"),value:d??"",onChange:g,onClick:N,autoFocus:n??!1,style:{...a}})]})})},jn="_moderator_container_1ihu6_1",pn="_moderator_container_title_1ihu6_6",bn="_add_new_moderator_1ihu6_21",gn="_menu_icon_1ihu6_33",Nn="_scholarship_card_container_1ihu6_39",vn="_assign_role_container_1ihu6_53",wn="_assign_role_title_1ihu6_60",Sn="_applicable_to_btn_1ihu6_71",yn="_category_card_1ihu6_89",kn="_category_card_hover_active_1ihu6_125",qn="_scholar_preview_container_1ihu6_130",Cn="_candidate_card_container_1ihu6_150",Tn="_candidate_card_container_text_1ihu6_170",En="_candidate_card_row_1ihu6_175",$n="_student_container_1ihu6_195",Dn="_conainter_main_1ihu6_213",Fn="_student_container_name_1ihu6_218",In="_search_container_1ihu6_239",Mn="_search_container_text_1ihu6_245",On="_search_container_input_1ihu6_246",Pn="_searchIcon_1ihu6_274",Ln="_allot_container_1ihu6_281",Jn="_unused_container_1ihu6_285",Un="_unused_container_text_1ihu6_300",Gn="_unused_container_text_inner_1ihu6_305",Wn="_intake_history_1ihu6_329",Hn="_corpus_card_1ihu6_336",Kn="_recieve_from_1ihu6_364",Vn="_save_entry_1ihu6_375",zn="_row_search_1ihu6_394",Bn="_with_search_1ihu6_406",Yn="_search_container_filter_1ihu6_421",Xn="_student_container_modal_1ihu6_428",Z={moderator_container:jn,moderator_container_title:pn,add_new_moderator:bn,menu_icon:gn,scholarship_card_container:Nn,assign_role_container:vn,assign_role_title:wn,applicable_to_btn:Sn,category_card:yn,category_card_hover_active:kn,scholar_preview_container:qn,candidate_card_container:Cn,candidate_card_container_text:Tn,candidate_card_row:En,student_container:$n,conainter_main:Dn,student_container_name:Fn,search_container:In,search_container_text:Mn,search_container_input:On,searchIcon:Pn,allot_container:Ln,unused_container:Jn,unused_container_text:Un,unused_container_text_inner:Gn,intake_history:Wn,corpus_card:Hn,recieve_from:Kn,save_entry:Vn,row_search:zn,with_search:Bn,search_container_filter:Yn,student_container_modal:Xn},Zn=({admissionId:s})=>{const{t:a}=F(),[l,_]=z(),[i,d]=o.useState(1),[n,p]=o.useState(!0),[r,j]=o.useState(!0),[g,N]=o.useState([]),{getRefundedListByAdmission:h,getRefundedListByAdmissionRefetch:b}=bt({data:{aid:s,page:i,limit:10},skip:!s}),{scrollToTop:t}=B();return o.useEffect(()=>{t()},[]),o.useEffect(()=>{s&&(j(!0),b())},[s,i,b]),o.useEffect(()=>{_&&n&&d(m=>m+1)},[_,n]),o.useEffect(()=>{var m,c;h!=null&&h.all_refunded?(N(x=>[...new Set([...x,...h==null?void 0:h.all_refunded].map(JSON.stringify))].map(JSON.parse)),j(!1)):((m=h==null?void 0:h.all_refunded)==null?void 0:m.length)===0&&j(!1),((c=h==null?void 0:h.all_refunded)==null?void 0:c.length)===10?p(!0):p(!1)},[h==null?void 0:h.all_refunded]),e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:Z.unused_container,children:[e.jsx("img",{src:"/images/rupee-symobl-icon.svg",alt:"rupee symobl"}),e.jsx("div",{className:Z.unused_container_text,children:e.jsxs("div",{className:Z.unused_container_text_inner,children:[e.jsx("h6",{children:a("total_refunded")}),e.jsxs("h6",{children:[a("rs")," ",(h==null?void 0:h.count)??0]})]})})]}),e.jsx("div",{className:Z.with_search,style:{marginBottom:"1rem",marginTop:"1rem"},children:e.jsx("h6",{children:a("refunded_history")})}),e.jsxs("div",{className:Z.refund_list,children:[g==null?void 0:g.map((m,c)=>{var x,w,f,v,k,S,q,u,C,E,I,D,$,L,U,Y;return(g==null?void 0:g.length)===c+1?e.jsxs("div",{className:Z.corpus_card,ref:l,children:[e.jsxs("h6",{style:{textAlign:"center"},children:[a("invoice_number"),((x=m==null?void 0:m.fee_receipt)==null?void 0:x.invoice_count)??""]}),e.jsx("p",{className:Z.recieve_from,children:a("paid_to")}),e.jsxs("div",{className:Z.unused_container_text_inner,children:[e.jsx("h6",{children:`${((w=m==null?void 0:m.student)==null?void 0:w.studentFirstName)??""} ${((f=m==null?void 0:m.student)==null?void 0:f.studentMiddleName)??""} ${((v=m==null?void 0:m.student)==null?void 0:v.studentLastName)??""}`}),e.jsxs("h6",{children:[a("rs")," ",((k=m==null?void 0:m.fee_receipt)==null?void 0:k.fee_payment_amount)??0]})]}),e.jsxs("div",{className:Z.unused_container_text_inner,children:[e.jsxs("p",{style:{color:"rgba(18, 18, 18, 0.8)"},children:[(S=G(m==null?void 0:m.created_at))==null?void 0:S.format("DD MMM yyyy"),","," ",(q=G(m==null?void 0:m.created_at))==null?void 0:q.format("LT")]}),e.jsx("p",{style:{color:"rgba(18, 18, 18, 0.8)"},children:((u=m==null?void 0:m.fee_receipt)==null?void 0:u.fee_payment_mode)==="Online"?"Bank":"Cash"})]})]},c):e.jsxs("div",{className:Z.corpus_card,children:[e.jsxs("h6",{style:{textAlign:"center"},children:[a("invoice_number"),((C=m==null?void 0:m.fee_receipt)==null?void 0:C.invoice_count)??""]}),e.jsx("p",{className:Z.recieve_from,children:a("paid_to")}),e.jsxs("div",{className:Z.unused_container_text_inner,children:[e.jsx("h6",{children:`${((E=m==null?void 0:m.student)==null?void 0:E.studentFirstName)??""} ${((I=m==null?void 0:m.student)==null?void 0:I.studentMiddleName)??""} ${((D=m==null?void 0:m.student)==null?void 0:D.studentLastName)??""}`}),e.jsxs("h6",{children:[a("rs")," ",(($=m==null?void 0:m.fee_receipt)==null?void 0:$.fee_payment_amount)??0]})]}),e.jsxs("div",{className:Z.unused_container_text_inner,children:[e.jsxs("p",{style:{color:"rgba(18, 18, 18, 0.8)"},children:[(L=G(m==null?void 0:m.created_at))==null?void 0:L.format("DD MMM yyyy"),","," ",(U=G(m==null?void 0:m.created_at))==null?void 0:U.format("LT")]}),e.jsx("p",{style:{color:"rgba(18, 18, 18, 0.8)"},children:((Y=m==null?void 0:m.fee_receipt)==null?void 0:Y.fee_payment_mode)==="Online"?"Bank":"Cash"})]})]},c)}),r&&e.jsx(V,{})]})]})},Hs=({refund:s})=>{var d,n,p,r,j,g,N,h,b;const{t:a}=F(),l=ne(),_=Qe(),i=()=>{var t;l(`/q/${_.username}/student/profile/admission`,{state:{sid:(t=s==null?void 0:s.student)==null?void 0:t._id,viewAs:"ADMISSION_ADMIN",openTab:"FEES_DATA"}})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:ce.refund_card,onClick:i,title:"View Student Profile",children:[e.jsx("img",{src:((d=s==null?void 0:s.student)==null?void 0:d.photoId)!=="1"?`${he}/${(n=s==null?void 0:s.student)==null?void 0:n.studentProfilePhoto}`:"/images/member_tab/class/default_avatar.svg",alt:"student avatar"}),e.jsxs("section",{className:ce.refund_card_text_container,children:[e.jsxs("div",{className:ce.refund_card_text,children:[e.jsx("h6",{children:`${(p=s==null?void 0:s.student)==null?void 0:p.studentFirstName} ${(r=s==null?void 0:s.student)!=null&&r.studentMiddleName?(j=s==null?void 0:s.student)==null?void 0:j.studentMiddleName:""} ${(g=s==null?void 0:s.student)==null?void 0:g.studentLastName}`}),e.jsxs("p",{children:[a("gr_number"),((N=s==null?void 0:s.student)==null?void 0:N.studentGRNO)??""," ",", ",((b=(h=s==null?void 0:s.student)==null?void 0:h.department)==null?void 0:b.dName)??""]})]}),e.jsxs("div",{className:ce.refund_card_text,children:[e.jsxs("h6",{children:[a("rs")," ",(s==null?void 0:s.refund)??0]}),e.jsx("p",{children:a("excess_fee")})]})]})]}),e.jsx(W,{customStyle:{borderTop:"3px solid",width:"100%"}})]})},An=({admissionId:s,refundCount:a})=>{var C;const{t:l}=F(),_=ne(),[i,d]=o.useState(""),[n,p]=z({skip:i}),[r,j]=o.useState(1),[g,N]=o.useState(!0),[h,b]=o.useState(!0),[t,m]=o.useState([]),c=[{name:l("excess_fee"),id:0},{name:l("deposit_refund"),id:1}],[x,w]=o.useState(0),{getRefundByAdmission:f,getRefundByAdmissionRefetch:v}=gt({data:{aid:s,page:r,limit:10,search:i},skip:!s}),{scrollToTop:k}=B();o.useEffect(()=>{k()},[]),o.useEffect(()=>{s&&(b(!0),v())},[s,r,v,i]),o.useEffect(()=>{p&&g&&j(E=>E+1)},[p,g]),o.useEffect(()=>{var E,I;i?f!=null&&f.all_refund_list&&(m(()=>f==null?void 0:f.all_refund_list),b(!1)):f!=null&&f.all_refund_list?(m(D=>[...new Set([...D,...f==null?void 0:f.all_refund_list].map(JSON.stringify))].map(JSON.parse)),b(!1)):((E=f==null?void 0:f.all_refund_list)==null?void 0:E.length)===0&&b(!1),((I=f==null?void 0:f.all_refund_list)==null?void 0:I.length)===10?N(!0):N(!1)},[f==null?void 0:f.all_refund_list]);const S=()=>{_(-1)},q=o.useCallback(Ae.debounce(E=>d(E),500),[]),u=E=>{E.target.value?(j(1),q(E.target.value)):d(E.target.value)};return e.jsxs("div",{className:ce.refund_container,children:[e.jsxs("section",{className:ce.refund_container_title,children:[e.jsx("img",{src:"/images/arrow-left-fees-icon.svg",onClick:S,alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),e.jsx("h6",{children:l("scholarships_fees_refund")})]}),e.jsx(es,{tabList:c,activeIndexTab:x,setActiveIndexTab:w,showAs:!1,customStyleTab:{width:"50%"}}),e.jsx(W,{customStyle:{width:"100%",marginBottom:"0.5rem"}}),x===0&&e.jsxs(e.Fragment,{children:[e.jsxs("h6",{className:ce.refund_total,children:[l("total_refund_amount_rs")," ",a??0]}),e.jsx(fn,{isSearch:!0,onSearchEvent:u}),e.jsxs("div",{className:ce.refund_list,children:[!h&&i&&((C=f==null?void 0:f.all_refund_list)==null?void 0:C.length)<1&&e.jsx(zt,{customStyleContainer:{marginTop:"9rem"},title:"No student found."}),t==null?void 0:t.map((E,I)=>(t==null?void 0:t.length)===I+1?e.jsx("div",{ref:n,children:e.jsx(Hs,{refund:E})},E==null?void 0:E._id):e.jsx(Hs,{refund:E},E==null?void 0:E._id)),h&&e.jsx(V,{})]})]}),x===1&&e.jsx(Zn,{admissionId:s})]})},Ze=({setOpenScholarshipMenu:s,scholarship:a,carryParentState:l,accessRole:_,viewAs:i,callApi:d})=>{var r,j;const{t:n}=F(),p=g=>{g.preventDefault(),s(a)};return e.jsx(A,{carryParentState:{...l,scholarship:a,viewAs:i},activeTab:`scholarship&n=${a==null?void 0:a.scholarship_name}`,accessRole:_,callApi:d,children:e.jsxs("div",{className:T.scholarship_card_container,children:[e.jsx("h6",{children:a==null?void 0:a.scholarship_name}),e.jsx("h6",{children:n("fund_corpus")}),e.jsxs("h6",{children:[n("total_corpus")," ",((r=a==null?void 0:a.fund_corpus)==null?void 0:r.total_corpus)??0]}),e.jsxs("h6",{children:[" ",n("unused")," ",((j=a==null?void 0:a.fund_corpus)==null?void 0:j.unused_corpus)??0]}),i==="COMPLETED"?"":e.jsx("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:p,className:T.menu_icon,title:"Menu"})]})})},Rn=({onClose:s,openScholarshipMenu:a,onRefetch:l})=>{const[_,i]=o.useState(!1),[d]=Nt(),n=()=>{i(p=>!p),d({sid:a==null?void 0:a._id}).then(()=>{l(),s(),i(p=>!p)}).catch({})};return e.jsxs(e.Fragment,{children:[e.jsx(et,{onClose:s}),e.jsxs(Qs,{customStyle:{zIndex:"1200"},children:[e.jsx("div",{className:Be.edit_modal_container,style:{width:"200px"},children:e.jsx("h6",{className:Be.remove,onClick:n,children:"Mark As Complete"})}),_&&e.jsx(R,{})]})]})},Qn=({onClose:s,financeId:a,setOpenCategoryName:l,setScholar:_})=>{var c;const{t:i}=F(),[d,n]=o.useState([]),[p,r]=o.useState([]),[j,g]=o.useState(!0),{getAllFeesCategory:N,getAllFeesCategoryRefetch:h}=Kt({fid:a,skip:!a});o.useEffect(()=>{a&&(g(!0),h())},[a,h]),o.useEffect(()=>{var x,w;(((x=N==null?void 0:N.all_fees_format)==null?void 0:x.length)===0||(w=N==null?void 0:N.all_fees_format)!=null&&w.length)&&g(!1)},[N==null?void 0:N.all_fees_format]);const b=x=>{d!=null&&d.includes(x==null?void 0:x._id)?(n(w=>w==null?void 0:w.filter(f=>f!==(x==null?void 0:x._id))),r(w=>w==null?void 0:w.filter(f=>(f==null?void 0:f._id)!==(x==null?void 0:x._id)))):(n(w=>w?[...w,x==null?void 0:x._id]:[x==null?void 0:x._id]),r(w=>w?[...w,x]:[x]))},t=()=>{r(N==null?void 0:N.all_fees_format);const x=[];for(let w of N==null?void 0:N.all_fees_format)x.push(w==null?void 0:w._id);n(x)},m=()=>{l(p),_(x=>({...x,category_array:d})),s()};return e.jsx(se,{onClose:s,children:e.jsxs("div",{className:T.assign_role_container,children:[e.jsxs("section",{className:T.assign_role_title,children:[e.jsx("img",{src:"/images/arrow-left-fees-icon.svg",onClick:s,alt:"back icon"}),e.jsx("h6",{children:i("fee_category")})]}),e.jsx(W,{customStyle:{width:"100%"}}),e.jsxs("section",{style:{padding:"0.8rem"},children:[e.jsx("button",{className:T.applicable_to_btn,style:{marginBottom:"1rem",backgroundColor:"#001A72",color:"#ffffff"},onClick:t,children:i("applicable_to_all")}),(c=N==null?void 0:N.all_fees_format)==null?void 0:c.map(x=>e.jsxs("div",{className:d!=null&&d.includes(x==null?void 0:x._id)?`${T.category_card} ${T.category_card_hover_active}`:T.category_card,onClick:()=>b(x),title:"Select Category",children:[e.jsx("img",{src:"/images/fees-category-icon.svg",alt:"categor icon"}),e.jsx("h6",{children:(x==null?void 0:x.category_name)??""})]},x==null?void 0:x._id)),j&&e.jsx(V,{}),e.jsx("button",{className:T.applicable_to_btn,style:{justifyContent:"center",marginTop:"1rem"},onClick:m,children:i("select")})]})]})})},eo=({onClose:s,scholar:a,openCategoryName:l,onCreate:_})=>{var d,n,p;const{t:i}=F();return e.jsx(se,{onClose:s,children:e.jsxs("div",{className:T.assign_role_container,children:[e.jsxs("section",{className:T.assign_role_title,children:[e.jsx("img",{src:"/images/arrow-left-fees-icon.svg",onClick:s,alt:"back icon"}),e.jsx("h6",{children:i("preview")})]}),e.jsx(W,{customStyle:{width:"100%"}}),e.jsxs("section",{style:{padding:"0.8rem"},className:T.scholar_preview_container,children:[e.jsx("h6",{children:i("name")}),e.jsx("p",{children:a==null?void 0:a.scholarship_name}),e.jsx("h6",{children:i("description")}),e.jsx("p",{children:a==null?void 0:a.scholarship_about}),e.jsx("h6",{children:i("applicable_to")}),e.jsx("p",{children:l==null?void 0:l.map(r=>e.jsxs("span",{children:[(r==null?void 0:r.category_name)??"",","]},r==null?void 0:r._id))}),(a==null?void 0:a.scholarship_notification.notification)&&e.jsxs(e.Fragment,{children:[e.jsx("h6",{children:i("notification_attachment")}),e.jsx("p",{style:{color:"#002BBE",cursor:"pointer"},children:e.jsx("a",{title:"Download File",href:`https://d3dqpu54js2vfl.cloudfront.net/${a==null?void 0:a.scholarship_notification.notification}`,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:"Download Attachment"})})]}),((d=a==null?void 0:a.scholarship_apply)==null?void 0:d.apply)&&e.jsxs(e.Fragment,{children:[e.jsx("h6",{children:i("apply_now_link")}),e.jsx("p",{style:{color:"#002BBE",cursor:"pointer"},children:e.jsx("a",{href:`${(n=a==null?void 0:a.scholarship_apply)==null?void 0:n.apply}`,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(p=a==null?void 0:a.scholarship_apply)==null?void 0:p.apply})})]}),e.jsx("button",{className:T.applicable_to_btn,style:{justifyContent:"center",marginTop:"1rem"},onClick:_,children:i("create")})]})]})})},Ks={inputProps:{"aria-label":"Switch demo"}},so=({onClose:s,financeId:a,admissionId:l,onRefetchWhenAdd:_})=>{const{t:i}=F(),[d,n]=o.useState(!1),[p]=Re(),[r]=vt(),[j,g]=o.useState(!1),[N,h]=o.useState(!1),[b,t]=o.useState(!1),[m,c]=o.useState(!1),[x,w]=o.useState(!1),[f,v]=o.useState({scholarship_name:"",scholarship_about:"",scholarship_notification:{flow:"",notification:""},scholarship_apply:{flow:"",apply:""},category_array:[]}),[k,S]=o.useState(""),q=$=>{v(L=>({...L,[$.target.name]:$.target.value}))},u=$=>{g(U=>!U);const L=new FormData;L.append("file",$.target.files[0]),p({fileUpload:L}).then(U=>{var Y;(Y=U.data)!=null&&Y.imageKey?(v(X=>{var te;return{...X,scholarship_notification:{flow:"Input",notification:(te=U.data)==null?void 0:te.imageKey},scholarship_apply:{flow:"",apply:""}}}),S({originalName:$.target.files[0].name}),g(X=>!X)):g(X=>!X)}).catch({})},C=$=>{v(L=>({...L,scholarship_notification:{flow:"",notification:""},scholarship_apply:{flow:"Link",apply:$.target.value}}))},E=($,L)=>{const U={};return $||(U.scholarship_name="is required!"),L!=null&&L.length||(U.applicable_to="is required!"),U},I=()=>{const $=E(f.scholarship_name,f.category_array);let L=!1;for(let U in $)if(U){L=!0;break}L?w($):t(!0)},D=()=>{t(!1),g($=>!$),r({aid:l,addScholarship:f}).then(()=>{_(),g($=>!$),s()}).catch({})};return e.jsx(e.Fragment,{children:N?e.jsx(Qn,{financeId:a,onClose:()=>h(!1),setOpenCategoryName:c,setScholar:v}):b?e.jsx(eo,{onClose:()=>t(!1),openCategoryName:m,scholar:f,onCreate:D}):e.jsx(se,{onClose:s,children:e.jsxs("div",{className:T.assign_role_container,children:[e.jsxs("section",{className:T.assign_role_title,children:[e.jsx("img",{src:"/images/arrow-left-fees-icon.svg",onClick:s,alt:"back icon"}),e.jsx("h6",{children:i("add_new_scholarship")})]}),e.jsx(W,{customStyle:{width:"100%"}}),e.jsxs("section",{style:{padding:"0.8rem"},children:[e.jsx(Xe,{labelText:i("scholarship_name"),placeholder:i("scholarship_name_placeholder"),name:"scholarship_name",value:f.scholarship_name,onChange:q,errorShow:x.scholarship_name}),e.jsx(Xe,{labelText:i("scholarship_description"),placeholder:i("scholarship_description_placeholder"),name:"scholarship_about",value:f.scholarship_about,onChange:q}),e.jsxs("button",{className:T.applicable_to_btn,onClick:()=>h(!0),style:{marginTop:"1rem"},children:[e.jsx("div",{children:i("applicable_to")}),e.jsx("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),x.applicable_to&&e.jsx("div",{style:{color:"red"},children:"* Required"}),!d&&e.jsxs("div",{style:{position:"relative"},children:[e.jsxs("div",{style:{position:"absolute",right:"3%",top:"7%"},onClick:()=>n($=>!$),children:[e.jsx("span",{children:i("it_is_link")}),e.jsx(Us,{...Ks,checked:d})]}),e.jsx(is,{labelText:i("scholarship_notification"),name:"notificationfile",value:k,onChange:u})]}),d&&e.jsxs("div",{style:{position:"relative"},children:[e.jsxs("div",{style:{position:"absolute",right:"3%",top:"7%"},onClick:()=>n($=>!$),children:[e.jsx("span",{children:i("it_is_link")}),e.jsx(Us,{...Ks,checked:d})]}),e.jsx(Q,{labelText:i("scholarship_apply_now"),placeholder:i("scholarship_apply_now_placeholder"),value:f.scholarship_apply.apply,onChange:C})]}),e.jsx("button",{className:T.applicable_to_btn,style:{justifyContent:"center",marginTop:"1rem"},onClick:I,children:i("preview")})]}),j&&e.jsx(R,{})]})})})},to=({onClose:s,instituteId:a,scid:l,exceedAmount:_})=>{const{t:i}=F(),d=ne(),n=Qe(),[p,r]=z(),[j,g]=o.useState(1),[N,h]=o.useState(!0),[b,t]=o.useState(!0),[m,c]=o.useState([]),[x,w]=o.useState(""),{searchStudent:f,searchStudentRefetch:v}=Bt({data:{search:x,page:j,limit:10,id:a},skip:!a});o.useEffect(()=>{a&&(t(!0),v())},[a,j,x,v]),o.useEffect(()=>{r&&N&&g(u=>u+1)},[r,N]),o.useEffect(()=>{var u,C;x?(c(f==null?void 0:f.student),t(!1)):f!=null&&f.student?(c(E=>[...new Set([...E,...f==null?void 0:f.student].map(JSON.stringify))].map(JSON.parse)),t(!1)):((u=f==null?void 0:f.student)==null?void 0:u.length)===0&&t(!1),((C=f==null?void 0:f.student)==null?void 0:C.length)===10?h(!0):h(!1)},[f==null?void 0:f.student]);const k=o.useCallback(Ae.debounce(u=>w(u),500),[]),S=u=>{k(u.target.value)},q=u=>{d(`/q/${n.username}/student/profile/admission`,{state:{sid:u,viewAs:"ADMISSION_ADMIN_SCHOLARSHIP",scid:l,exceedAmount:_}}),s()};return e.jsx(se,{onClose:s,children:e.jsxs("div",{className:T.assign_role_container,children:[e.jsxs("section",{className:T.assign_role_title,children:[e.jsx("img",{src:"/images/arrow-left-fees-icon.svg",onClick:s,alt:"back icon"}),e.jsx("h6",{children:i("search_student")})]}),e.jsx(W,{customStyle:{width:"100%"}}),e.jsxs("section",{style:{padding:"0 0.8rem"},children:[e.jsx("div",{className:T.search_container,children:e.jsxs("div",{className:T.search_container_text,children:[e.jsx("img",{className:T.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),e.jsx("input",{type:"text",placeholder:i("search-label"),onChange:S,autoFocus:!0,style:{border:"0.029vw solid rgba(0, 0, 0, 0.15)",width:"450px"}})]})}),m==null?void 0:m.map((u,C)=>(m==null?void 0:m.length)===C+1?e.jsxs("section",{className:T.student_container,title:"View Student Profile",ref:p,onClick:()=>q(u==null?void 0:u._id),children:[e.jsx("img",{src:u.photoId!=="1"?`${he}/${u==null?void 0:u.studentProfilePhoto}`:"/images/member_tab/class/default_avatar.svg",alt:"student avatar"}),e.jsxs("div",{className:T.student_container_name,children:[e.jsx("h6",{children:`${u==null?void 0:u.studentFirstName} ${u!=null&&u.studentMiddleName?u==null?void 0:u.studentMiddleName:""} ${u==null?void 0:u.studentLastName}`}),e.jsxs("p",{className:T.student_container_gr,children:[i("gr_number")," ",u==null?void 0:u.studentGRNO]})]})]},u==null?void 0:u._id):e.jsxs("section",{className:T.student_container,title:"View Student Profile",onClick:()=>q(u==null?void 0:u._id),children:[e.jsx("img",{src:u.photoId!=="1"?`${he}/${u==null?void 0:u.studentProfilePhoto}`:"/images/member_tab/class/default_avatar.svg",alt:"student avatar"}),e.jsxs("div",{className:T.student_container_name,children:[e.jsx("h6",{children:`${u==null?void 0:u.studentFirstName} ${u!=null&&u.studentMiddleName?u==null?void 0:u.studentMiddleName:""} ${u==null?void 0:u.studentLastName}`}),e.jsxs("p",{className:T.student_container_gr,children:[i("gr_number")," ",u==null?void 0:u.studentGRNO]})]})]},u==null?void 0:u._id)),b&&e.jsx(V,{})]})]})})},ao=({onClose:s,sid:a,admissionId:l,onRefetchWhenAdd:_,fcid:i})=>{const{t:d}=F(),[n,p]=o.useState({incomeAccount:"",incomeAmount:"",incomeFrom:"",income_utr:"",incomeDesc:"",incomeAck:""}),[r,j]=o.useState(!1),[g]=Re(),[N]=wt(),[h]=St(),[b,t]=o.useState(""),[m,c]=o.useState(!1),x=S=>{S.target.name==="incomeAmount"?p(q=>({...q,[S.target.name]:+S.target.value})):p(q=>({...q,[S.target.name]:S.target.value}))},w=S=>{p(q=>({...q,incomeAccount:S}))},f=S=>{t(S==null?void 0:S._id),c(!1),p(q=>({...q,incomeFrom:S==null?void 0:S.userLegalName}))},v=S=>{j(u=>!u);const q=new FormData;q.append("file",S.target.files[0]),g({fileUpload:q}).then(u=>{var C;(C=u.data)!=null&&C.imageKey?(p(E=>{var I;return{...E,incomeAck:(I=u.data)==null?void 0:I.imageKey}}),j(E=>!E)):j(E=>!E)}).catch({})},k=()=>{j(S=>!S),i?h({fcid:i,user_query:b,addCorpus:{incomeAccount:n.incomeAccount,incomeAmount:n.incomeAmount,incomeFrom:b?"":n.incomeFrom,income_utr:n.income_utr,incomeDesc:n.incomeDesc,incomeAck:n.incomeAck}}).then(()=>{_(),j(S=>!S),s()}).catch({}):N({aid:l,sid:a,user_query:b,addCorpus:{incomeAccount:n.incomeAccount,incomeAmount:n.incomeAmount,incomeFrom:b?"":n.incomeFrom,income_utr:n.income_utr,incomeDesc:n.incomeDesc,incomeAck:n.incomeAck}}).then(()=>{_(),j(S=>!S),s()}).catch({})};return e.jsxs(se,{onClose:s,children:[e.jsxs("div",{className:T.assign_role_container,children:[e.jsxs("section",{className:T.assign_role_title,children:[e.jsx("img",{src:"/images/arrow-left-fees-icon.svg",onClick:s,alt:"back icon"}),e.jsx("h6",{children:d("account_income")})]}),e.jsx(W,{customStyle:{width:"100%"}}),e.jsxs("section",{style:{padding:"0.8rem"},children:[e.jsx(Yt,{selectLabel:d("select_tr_mode"),selectedValue:d("select_tr_mode_placeholder"),options:["By Bank","By Cash"],onClick:w,value:n.incomeAccount}),e.jsx(Q,{labelText:d("amount"),placeholder:d("amount_placeholder"),name:"incomeAmount",value:n.incomeAmount,onChange:x}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("div",{style:{position:"absolute",right:"3%",top:"7%"},onClick:()=>c(!0),children:e.jsxs("span",{className:T.row_search,children:[" ",e.jsx("img",{style:{width:"16px",height:"16px"},src:"/images/search-icon.svg",alt:"search icon"}),"Search & Select"]})}),e.jsx(Q,{labelText:d("from_corpus"),placeholder:d("from_corpus_placeholder"),value:n.incomeFrom,onChange:x,name:"incomeFrom"})]}),n.incomeAccount==="By Bank"&&e.jsx(Q,{labelText:d("transaction_utr"),placeholder:d("transaction_utr_placeholder"),value:n.income_utr,onChange:x,name:"income_utr"}),e.jsx(Xe,{labelText:d("description_optional"),placeholder:d("description_optional_placeholder"),value:n.incomeDesc,onChange:x,name:"incomeDesc"}),e.jsx(is,{labelText:d("corpus_acknownledge"),name:"incomeAck",value:n.incomeAck?{originalName:"Acknownledge"}:"",onChange:v}),e.jsx("button",{className:T.save_entry,onClick:k,children:d("save_entry")})]})]}),r&&e.jsx(R,{}),m&&e.jsx(Xt,{onClose:()=>c(!1),title:"Search User",disabledId:b,assignHead:m,headSelect:f})]})},Vs=({corpus:s})=>{var l,_,i;const{t:a}=F();return e.jsxs("div",{className:T.corpus_card,children:[e.jsxs("h6",{style:{textAlign:"center"},children:[a("invoice_number"),(s==null?void 0:s.invoice_number)??""]}),e.jsx("p",{className:T.recieve_from,children:a("recieved_from")}),e.jsxs("div",{className:T.unused_container_text_inner,children:[e.jsx("h6",{children:s!=null&&s.incomeFromUser?`${(l=s==null?void 0:s.incomeFromUser)==null?void 0:l.userLegalName}`:(s==null?void 0:s.incomeFrom)??""}),e.jsxs("h6",{children:[a("rs")," ",(s==null?void 0:s.incomeAmount)??0]})]}),e.jsxs("div",{className:T.unused_container_text_inner,children:[e.jsxs("p",{style:{color:"rgba(18, 18, 18, 0.8)"},children:[(_=G(s==null?void 0:s.createdAt))==null?void 0:_.format("DD MMM yyyy"),","," ",(i=G(s==null?void 0:s.createdAt))==null?void 0:i.format("LT")]}),e.jsx("p",{style:{color:"rgba(18, 18, 18, 0.8)"},children:(s==null?void 0:s.incomeAccount)==="By Bank"?"Bank":"Cash"})]}),e.jsxs("p",{children:[a("grant_utr_ref"),s==null?void 0:s.income_utr]})]})},no=({admissionId:s,sid:a,viewAs:l,fundCorpus:_,getOneScholarshipAdmissionRefetch:i})=>{const{t:d}=F(),[n,p]=o.useState(!1),[r,j]=z(),[g,N]=o.useState(1),[h,b]=o.useState(!0),[t,m]=o.useState(!1),[c,x]=o.useState(!0),[w,f]=o.useState([]),{getScholarshipFundCorpusAdmission:v,getScholarshipFundCorpusAdmissionRefetch:k}=yt({data:{sid:a,page:g,limit:10},skip:!a}),{scrollToTop:S}=B();o.useEffect(()=>{S()},[]),o.useEffect(()=>{a&&(x(!0),k())},[a,g,k]),o.useEffect(()=>{j&&h&&N(u=>u+1)},[j,h]),o.useEffect(()=>{var u,C;t?(f(v==null?void 0:v.all_incomes),m(!1),x(!1)):v!=null&&v.all_incomes?(f(E=>[...new Set([...E,...v==null?void 0:v.all_incomes].map(JSON.stringify))].map(JSON.parse)),x(!1)):((u=v==null?void 0:v.all_incomes)==null?void 0:u.length)===0&&x(!1),((C=v==null?void 0:v.all_incomes)==null?void 0:C.length)===10?b(!0):b(!1)},[v==null?void 0:v.all_incomes]);const q=()=>{m(!0),N(1),x(!0),k(),i()};return e.jsxs(e.Fragment,{children:[l==="COMPLETED"?"":e.jsx("h6",{className:T.add_new_moderator,onClick:()=>p(!0),children:d("record_corpus_intake")}),e.jsxs("div",{className:T.refund_list,children:[e.jsxs("section",{className:T.unused_container,children:[e.jsx("img",{src:"/images/rupee-symobl-icon.svg",alt:"rupee symobl"}),e.jsxs("div",{className:T.unused_container_text,children:[e.jsxs("div",{className:T.unused_container_text_inner,children:[e.jsx("h6",{children:d("unused_fund")}),e.jsxs("h6",{children:[d("rs")," ",(_==null?void 0:_.unused_corpus)??0]})]}),e.jsxs("div",{className:T.unused_container_text_inner,children:[e.jsx("p",{children:d("total_corpus_corpus")}),e.jsxs("p",{children:[d("rs")," "," "," ",(_==null?void 0:_.total_corpus)??0]})]})]})]}),e.jsx("h6",{className:T.intake_history,children:d("fund_corpus_intake_history")}),w==null?void 0:w.map((u,C)=>(w==null?void 0:w.length)===C+1?e.jsx("div",{ref:r,children:e.jsx(Vs,{corpus:u})},u==null?void 0:u._id):e.jsx(Vs,{corpus:u},u==null?void 0:u._id)),c&&e.jsx(V,{})]}),n&&e.jsx(ao,{onClose:()=>p(u=>!u),admissionId:s,sid:a,onRefetchWhenAdd:q,fcid:(_==null?void 0:_._id)??""})]})},zs=({candidate:s})=>{var l,_,i,d,n,p,r,j,g,N,h,b,t,m,c,x;const{t:a}=F();return e.jsxs("div",{className:T.candidate_card_container,children:[e.jsx("img",{src:((l=s==null?void 0:s.student)==null?void 0:l.photoId)!=="1"?`${he}/${(_=s==null?void 0:s.student)==null?void 0:_.studentProfilePhoto}`:"/images/member_tab/class/default_avatar.svg",alt:""}),e.jsxs("div",{className:T.candidate_card_container_text,children:[e.jsxs("div",{className:T.candidate_card_row,children:[e.jsx("h6",{children:`${((i=s==null?void 0:s.student)==null?void 0:i.studentFirstName)??""} ${((d=s==null?void 0:s.student)==null?void 0:d.studentMiddleName)??""} ${((n=s==null?void 0:s.student)==null?void 0:n.studentLastName)??""}`}),e.jsxs("h6",{children:[a("rs")," ",(s==null?void 0:s.fee_payment_amount)??0]})]}),e.jsxs("div",{className:T.candidate_card_row,children:[e.jsxs("p",{children:[a("gr_number"),((p=s==null?void 0:s.student)==null?void 0:p.studentGRNO)??""," ",", ",`(${((j=(r=s==null?void 0:s.student)==null?void 0:r.batches)==null?void 0:j.batchName)??""})`]}),e.jsx("p",{children:(g=G(s==null?void 0:s.fee_transaction_date))==null?void 0:g.format("DD MMM yyyy")})]}),e.jsxs("div",{className:T.candidate_card_row,children:[e.jsxs("p",{children:[a("class_candi")," ",((h=(N=s==null?void 0:s.student)==null?void 0:N.studentClass)==null?void 0:h.className)??""," ",((t=(b=s==null?void 0:s.student)==null?void 0:b.studentClass)==null?void 0:t.classTitle)??""]}),e.jsxs("p",{children:[a("category_candi")," ",((x=(c=(m=s==null?void 0:s.student)==null?void 0:m.fee_structure)==null?void 0:c.category_master)==null?void 0:x.category_name)??""]})]})]})]})},oo=({instituteId:s,admissionId:a})=>{var J,ae,le,ge,Ne,ve,we,Se,ye,ke,qe,Ce,Te,Ee,$e,De,Fe,Ie,Me,Oe,Pe,Le,Je;const{t:l}=F(),_=ne(),i=be(),d=[{name:l("candidates"),id:0},{name:l("fund_corpus_tab"),id:1}],[n,p]=o.useState(0),[r,j]=o.useState(!0),[g,N]=o.useState(""),[h,b]=o.useState(1),[t,m]=z(),[c,x]=o.useState([]),[w,f]=o.useState(!0),[v,k]=o.useState(!1),[S,q]=o.useState(!1),[u]=Re(),[C]=kt(),{getOneScholarshipAdmission:E,getOneScholarshipAdmissionRefetch:I}=qt({sid:(ae=(J=i==null?void 0:i.state)==null?void 0:J.scholarship)==null?void 0:ae._id,skip:!((ge=(le=i==null?void 0:i.state)==null?void 0:le.scholarship)!=null&&ge._id)});o.useEffect(()=>{var P,H;(H=(P=i==null?void 0:i.state)==null?void 0:P.scholarship)!=null&&H._id&&I()},[(ve=(Ne=i==null?void 0:i.state)==null?void 0:Ne.scholarship)==null?void 0:ve._id,I]);const D=()=>{_(-1)},{getOneScholarshipAllCandidateAdmission:$,getOneScholarshipAllCandidateAdmissionRefetch:L}=Ct({data:{sid:(Se=(we=i==null?void 0:i.state)==null?void 0:we.scholarship)==null?void 0:Se._id,page:h,limit:10,search:g},skip:!((ke=(ye=i==null?void 0:i.state)==null?void 0:ye.scholarship)!=null&&ke._id)}),{scrollToTop:U}=B();o.useEffect(()=>{U()},[]),o.useEffect(()=>{m&&r&&b(P=>P+1)},[m,r]),o.useEffect(()=>{var P,H;(H=(P=i==null?void 0:i.state)==null?void 0:P.scholarship)!=null&&H._id&&L()},[h,(Ce=(qe=i==null?void 0:i.state)==null?void 0:qe.scholarship)==null?void 0:Ce._id,g,L]),o.useEffect(()=>{var P,H;if(g)x($==null?void 0:$.all_exempt),f(!1);else if($!=null&&$.all_exempt){const re=[...c,...$==null?void 0:$.all_exempt],_e=[...new Set(re.map(JSON.stringify))].map(JSON.parse);x(_e),f(!1)}else((P=$==null?void 0:$.all_exempt)==null?void 0:P.length)===0&&f(!1);((H=$==null?void 0:$.all_exempt)==null?void 0:H.length)===10?j(!0):j(!1)},[$==null?void 0:$.all_exempt]);const Y=o.useCallback(Ae.debounce(P=>N(P),500),[]),X=P=>{Y(P.target.value)},te=P=>{var H,re,_e,Ue;if((re=(H=P.target)==null?void 0:H.files)!=null&&re.length&&a&&((Ue=(_e=i==null?void 0:i.state)==null?void 0:_e.scholarship)!=null&&Ue._id)){q(de=>!de);const Ge=new FormData;Ge.append("file",P.target.files[0]),u({fileUpload:Ge}).then(de=>{var We,He,Ke,Ve;(We=de.data)!=null&&We.imageKey?C({aid:a,scid:(Ke=(He=i==null?void 0:i.state)==null?void 0:He.scholarship)==null?void 0:Ke._id,excelFile:{excel_file:(Ve=de.data)==null?void 0:Ve.imageKey}}).then(()=>{q(xe=>!xe)}).catch({}):q(xe=>!xe)}).catch({})}};return e.jsxs("div",{className:T.moderator_container,style:{marginTop:"0"},children:[e.jsxs("section",{className:T.moderator_container_title,children:[e.jsx("img",{src:"/images/arrow-left-fees-icon.svg",onClick:D,alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),e.jsxs("div",{className:T.with_search,children:[e.jsx("h6",{children:(Ee=(Te=i==null?void 0:i.state)==null?void 0:Te.scholarship)==null?void 0:Ee.scholarship_name}),e.jsxs("div",{className:T.search_container_filter,children:[e.jsx("section",{className:T.search_container,children:e.jsxs("div",{className:T.search_container_input,children:[e.jsx("img",{className:T.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),e.jsx("input",{type:"text",placeholder:"Search Candidates",onChange:X})]})}),e.jsx("img",{src:"/images/filter-blue-icon.svg",alt:"filter icon"})]})]})]}),e.jsx(W,{customStyle:{width:"100%"}}),e.jsx(es,{tabList:d,activeIndexTab:n,setActiveIndexTab:p,showAs:!1,customStyleTab:{width:"50%"}}),e.jsx(W,{customStyle:{width:"100%",marginBottom:"0.5rem"}}),n===0&&e.jsxs(e.Fragment,{children:[(($e=i==null?void 0:i.state)==null?void 0:$e.viewAs)==="COMPLETED"?"":e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1.5rem",alignItems:"center"},children:[e.jsx("h6",{className:T.add_new_moderator,onClick:()=>k(!0),children:l("allot_scholarship")}),e.jsxs("div",{children:[e.jsx("label",{className:T.upload_excel_file,htmlFor:"uploadExcel",children:e.jsx("img",{src:"/images/upload-xslx-icon.svg",alt:"add student icon",title:"Upload excel file"})}),e.jsx("input",{type:"file",id:"uploadExcel",accept:".xlsx",onChange:te,style:{display:"none"}})]})]}),e.jsxs("div",{className:T.refund_list,children:[c==null?void 0:c.map((P,H)=>(c==null?void 0:c.length)===H+1?e.jsx("div",{ref:t,children:e.jsx(zs,{candidate:P})},P==null?void 0:P._id):e.jsx(zs,{candidate:P},P==null?void 0:P._id)),v&&e.jsx(to,{onClose:()=>k(P=>!P),admissionId:a,scid:(Fe=(De=i==null?void 0:i.state)==null?void 0:De.scholarship)==null?void 0:Fe._id,exceedAmount:((Me=(Ie=E==null?void 0:E.scholar)==null?void 0:Ie.fund_corpus)==null?void 0:Me.unused_corpus)??0,instituteId:s}),w&&e.jsx(V,{})]}),S&&e.jsx(R,{})]}),n===1&&e.jsx(no,{admissionId:a,sid:(Pe=(Oe=i==null?void 0:i.state)==null?void 0:Oe.scholarship)==null?void 0:Pe._id,viewAs:((Le=i==null?void 0:i.state)==null?void 0:Le.viewAs)??"",fundCorpus:(Je=E==null?void 0:E.scholar)==null?void 0:Je.fund_corpus,getOneScholarshipAdmissionRefetch:I})]})},io=({admissionId:s,accessRole:a,carryParentState:l,callApi:_})=>{const[i,d]=z(),[n,p]=o.useState(1),[r,j]=o.useState(!0),[g,N]=o.useState(!0),[h,b]=o.useState([]),{getScholarshipListAdmission:t,getScholarshipListAdmissionRefetch:m}=As({data:{aid:s,page:n,limit:10,status:"Completed"},skip:!s}),{scrollToTop:c}=B();return o.useEffect(()=>{c()},[]),o.useEffect(()=>{s&&(N(!0),m())},[s,n,m]),o.useEffect(()=>{d&&r&&p(x=>x+1)},[d,r]),o.useEffect(()=>{var x,w;t!=null&&t.all_scholar?(b(f=>[...new Set([...f,...t==null?void 0:t.all_scholar].map(JSON.stringify))].map(JSON.parse)),N(!1)):((x=t==null?void 0:t.all_scholar)==null?void 0:x.length)===0&&N(!1),((w=t==null?void 0:t.all_scholar)==null?void 0:w.length)===10?j(!0):j(!1)},[t==null?void 0:t.all_scholar]),e.jsxs("div",{className:T.refund_list,children:[h==null?void 0:h.map((x,w)=>(h==null?void 0:h.length)===w+1?e.jsx("div",{ref:i,children:e.jsx(Ze,{scholarship:x,accessRole:a,carryParentState:l,viewAs:"COMPLETED",callApi:_})},x==null?void 0:x._id):e.jsx(Ze,{scholarship:x,accessRole:a,carryParentState:l,viewAs:"COMPLETED",callApi:_},x==null?void 0:x._id)),g&&e.jsx(V,{})]})},co=({admissionId:s,instituteId:a,carryParentState:l,financeId:_,accessRole:i,callApi:d})=>{var X,te;const{t:n}=F(),p=ne(),r=be(),j=[{name:n("scholarship"),id:0},{name:n("completed"),id:1}],[g,N]=o.useState(0),[h,b]=o.useState(!1),[t,m]=o.useState(""),[c,x]=z(),[w,f]=o.useState(1),[v,k]=o.useState(!0),[S,q]=o.useState(!1),[u,C]=o.useState(!0),[E,I]=o.useState([]),{getScholarshipListAdmission:D,getScholarshipListAdmissionRefetch:$}=As({data:{aid:s,page:w,limit:10,status:"Not Completed"},skip:!s}),{scrollToTop:L}=B();o.useEffect(()=>{L()},[]),o.useEffect(()=>{s&&(C(!0),$())},[s,w,$]),o.useEffect(()=>{x&&v&&f(J=>J+1)},[x,v]),o.useEffect(()=>{var J,ae;S?(I(D==null?void 0:D.all_scholar),q(!1),C(!1)):D!=null&&D.all_scholar?(I(le=>[...new Set([...le,...D==null?void 0:D.all_scholar].map(JSON.stringify))].map(JSON.parse)),C(!1)):((J=D==null?void 0:D.all_scholar)==null?void 0:J.length)===0&&C(!1),((ae=D==null?void 0:D.all_scholar)==null?void 0:ae.length)===10?k(!0):k(!1)},[D==null?void 0:D.all_scholar]);const U=()=>{p(-1)},Y=()=>{q(!0),f(1),C(!0),$()};return e.jsxs(e.Fragment,{children:[((X=r==null?void 0:r.search)==null?void 0:X.substring(3))==="scholarship"&&e.jsxs("div",{className:T.moderator_container,children:[e.jsxs("section",{className:T.moderator_container_title,children:[e.jsx("img",{src:"/images/arrow-left-fees-icon.svg",onClick:U,alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),e.jsx("h6",{children:n("admission_scholership_management")})]}),e.jsx(W,{customStyle:{width:"100%"}}),e.jsx(es,{tabList:j,activeIndexTab:g,setActiveIndexTab:N,showAs:!1,customStyleTab:{width:"50%"}}),e.jsx(W,{customStyle:{width:"100%"}}),g===0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx("h6",{className:T.add_new_moderator,onClick:()=>b(!0),children:n("add_new_scholarship")})}),e.jsxs("div",{className:T.refund_list,children:[E==null?void 0:E.map((J,ae)=>(E==null?void 0:E.length)===ae+1?e.jsx("div",{ref:c,children:e.jsx(Ze,{scholarship:J,setOpenScholarshipMenu:m,accessRole:i,callApi:d,carryParentState:l})},J==null?void 0:J._id):e.jsx(Ze,{scholarship:J,setOpenScholarshipMenu:m,accessRole:i,callApi:d,carryParentState:l},J==null?void 0:J._id)),h&&e.jsx(so,{onClose:()=>b(J=>!J),admissionId:s,onRefetchWhenAdd:Y,financeId:_}),t&&e.jsx(Rn,{onRefetch:Y,onClose:()=>m(""),openScholarshipMenu:t}),u&&e.jsx(V,{})]})]}),g===1&&e.jsx(io,{admissionId:s,carryParentState:l,accessRole:i,callApi:d})]}),((te=r==null?void 0:r.search)==null?void 0:te.substring(3))!=="scholarship"&&e.jsx(oo,{instituteId:a,admissionId:s})]})},lo=({onClose:s,enableLock:a,faid:l,onRefetch:_,openAs:i})=>{const{t:d}=F(),[n,p]=o.useState(!1),[r]=Tt(),j=()=>{p(g=>!g),r({faid:l,flow:i}).then(()=>{_(),p(g=>!g),s()}).catch({})};return e.jsxs(se,{onClose:s,children:[e.jsxs("div",{className:me.promote_container,style:{minHeight:"11rem",minWidth:"23rem",overflow:"hidden"},children:[e.jsx("h6",{style:{textAlign:"center"},children:d(a?"disabled_password_protection":"enabled_password_protection")}),e.jsx(W,{customStyle:{width:"100%"}}),e.jsx("button",{className:me.select_application_btn,onClick:j,style:{width:"100%",marginTop:"3rem",justifyContent:"center"},title:"Confirm",children:d("confirm")})]}),n&&e.jsx(R,{})]})},ro=({onClose:s,faid:a,openAs:l})=>{const{t:_}=F(),i=ns(),[d,n]=o.useState(!1),[p]=Et(),[r,j]=o.useState({old_pass:"",new_pass:""}),[g,N]=o.useState(""),h=c=>{j(x=>({...x,[c.target.name]:c.target.value}))},b=c=>{var w,f;const x={};for(let v in c)c[v]||(x[v]=`${v} is required!`);return c.old_pass&&c.new_pass&&c.old_pass===c.new_pass&&(x.pass_match=" is required!"),((w=c.old_pass)==null?void 0:w.length)!==4&&(x.old_pass_length=" is required!"),((f=c.new_pass)==null?void 0:f.length)!==4&&(x.new_pass_length=" is required!"),x},t=(c,x)=>{i(Ys.onAddPasswordManager({type:c,value:x}))},m=()=>{const c=b(r);let x=!1;for(let w in c){x=!0;break}x?N(c):(n(w=>!w),p({forgetPassword:r,faid:a,flow:l}).then(()=>{n(w=>!w),t(l==="Admission_Login"?"ADMISSION_PASSWORD":"FINANCE_PASSWORD",r.new_pass),s()}).catch({}))};return e.jsxs(se,{onClose:s,children:[e.jsxs("div",{className:me.promote_container,style:{minHeight:"11rem",maxWidth:"23rem",overflow:"hidden"},children:[e.jsx("h6",{style:{textAlign:"center"},children:_(l==="Admission_Login"?"admission_passowrd_protection":"finance_passowrd_protection")}),e.jsx(W,{customStyle:{width:"100%"}}),e.jsx(Q,{type:"tel",name:"old_pass",labelText:_("current_password"),inputLength:"4",value:r.old_pass,onChange:h,placeholder:_("enter_current_password_pin"),errorShow:g.old_pass}),g.old_pass_length&&e.jsx("p",{style:{color:"red",marginBottom:"0"},children:_("old_pass_length")}),e.jsx(Q,{type:"tel",name:"new_pass",labelText:_("new_password"),inputLength:"4",value:r.new_pass,onChange:h,placeholder:_("enter_new_password_pin"),errorShow:g.new_pass}),g.new_pass_length&&e.jsx("p",{style:{color:"red",marginBottom:"0"},children:_("new_pass_length")}),g.pass_match&&e.jsx("p",{style:{color:"red",marginBottom:"0"},children:_("both_match_password")}),e.jsx("button",{className:me.select_application_btn,onClick:m,style:{width:"100%",marginTop:"3rem",justifyContent:"center"},title:"Confirm",children:_("confirm")})]}),d&&e.jsx(R,{})]})},_o=({onClose:s,faid:a,openAs:l})=>{const{t:_}=F(),i=ne(),d=Qe(),n=ns(),[p,r]=o.useState(!1),[j]=$t(),[g,N]=o.useState(""),[h,b]=o.useState(""),[t,m]=o.useState(!1),c=()=>{i(`/q/${d.username}/feed`)},x=(f,v)=>{n(Ys.onAddPasswordManager({type:f,value:v}))},w=f=>{f.preventDefault(),!g||(g==null?void 0:g.length)!==4?b({protectedPin:"required"}):(r(v=>!v),j({loginPassword:{protected_pin:g,flowId:a,flow:l}}).then(()=>{r(v=>!v),x(l==="Admission_Login"?"ADMISSION_PASSWORD":"FINANCE_PASSWORD",g),s()}).catch({}))};return e.jsx(e.Fragment,{children:t?e.jsx(ro,{openAs:l,faid:a,onClose:()=>m(!1)}):e.jsxs(se,{onClose:()=>{},children:[e.jsxs("div",{className:me.promote_container,style:{minHeight:"11rem",maxWidth:"23rem",overflow:"hidden"},children:[e.jsxs("div",{className:me.promote_container_title,children:[e.jsx("h6",{children:_(l==="Admission_Login"?"admission_passowrd_protection":"finance_passowrd_protection")}),e.jsx("img",{src:"/images/close-post-icon.svg",onClick:c,alt:""})]}),e.jsx(W,{customStyle:{width:"100%"}}),e.jsxs("form",{onSubmit:w,children:[e.jsx(Q,{type:"tel",name:"protectedPin",labelText:_(l==="Admission_Login"?"admission_passowrd_protection_placeholder":"finance_passowrd_protection_placeholder"),inputLength:"4",value:g,onChange:f=>N(f.target.value),placeholder:_("enter_password_pin"),errorShow:h.protectedPin}),e.jsx("h6",{onClick:()=>m(!0),children:_("forget_password")}),e.jsx("button",{className:me.select_application_btn,style:{width:"100%",marginTop:"3rem",justifyContent:"center"},title:"Confirm",type:"submit",children:_("confirm")})]})]}),p&&e.jsx(R,{})]})})},Bs=({data:s})=>{const{t:a}=F(),[l,_]=o.useState(!1),i=()=>{_(d=>!d)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:fe.sidebarheader,children:[e.jsxs("div",{className:fe.text,style:{width:"80%"},children:[e.jsx("p",{className:fe.rcv,children:a("message")}),e.jsx("h6",{children:(s==null?void 0:s.content)??""}),e.jsxs("p",{className:fe.rcv,children:[a("by")," "," : ",(s==null?void 0:s.content_type)==="EMAIL_NOTIFICATION"?"Email":"In App"," ",s!=null&&s.from_name?`(${(s==null?void 0:s.from_name)??""})`:""]})]}),e.jsxs("div",{className:fe.text,children:[e.jsxs("h6",{style:{cursor:"pointer",color:"#00f"},onClick:i,children:[a("student")," "," : "," ",(s==null?void 0:s.student_list_count)??0]}),e.jsxs("p",{className:fe.rcv,children:[G(s==null?void 0:s.created_at).format("DD MMM, yyyy"),", ",G(s==null?void 0:s.created_at).format("LT")]})]})]}),l&&e.jsx(Rt,{studentList:s==null?void 0:s.student_list,onClose:i})]})},mo=()=>{var x,w,f;const{t:s}=F(),a=ne(),l=be(),[_,i]=z(),[d,n]=o.useState(1),[p,r]=o.useState(!0),[j,g]=o.useState(!0),[N,h]=o.useState([]),{getReminderHistoryByAdmission:b,getReminderHistoryByAdmissionRefetch:t}=Dt({data:{id:(x=l.state)==null?void 0:x.instituteId,page:d,limit:10},skip:!((w=l.state)!=null&&w.instituteId)}),{scrollToTop:m}=B();o.useEffect(()=>{m()},[]),o.useEffect(()=>{var v;(v=l.state)!=null&&v.instituteId&&(g(!0),t())},[(f=l.state)==null?void 0:f.instituteId,d,t]),o.useEffect(()=>{i&&p&&n(v=>v+1)},[i,p]),o.useEffect(()=>{var v,k;b!=null&&b.all_message?(h(d===1?b==null?void 0:b.all_message:S=>[...new Set([...S,...b==null?void 0:b.all_message].map(JSON.stringify))].map(JSON.parse)),g(!1)):((v=b==null?void 0:b.all_message)==null?void 0:v.length)===0&&g(!1),((k=b==null?void 0:b.all_message)==null?void 0:k.length)===10?r(!0):r(!1)},[b==null?void 0:b.all_message]);const c=()=>{a(-1)};return e.jsxs("div",{className:ts.admission_application_container,children:[e.jsxs("section",{className:ts.moderator_container_title,children:[e.jsx("img",{src:"/images/arrow-left-fees-icon.svg",onClick:c,alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),e.jsx("div",{className:ts.with_search,children:e.jsx("h6",{children:s("reminder_message_history")})})]}),e.jsx(W,{customStyle:{width:"100%",marginTop:"0.5rem",marginBottom:"0.5rem"}}),N==null?void 0:N.map((v,k)=>(N==null?void 0:N.length)===k+1?e.jsx("div",{ref:_,children:e.jsx(Bs,{data:v})},v==null?void 0:v._id):e.jsx(Bs,{data:v},v==null?void 0:v._id)),j&&e.jsx(V,{status:"white"})]})};function ho({onClickValue:s,carryParentState:a,role:l,mid:_}){var I,D,$,L,U,Y,X,te,J,ae,le,ge,Ne,ve,we,Se,ye,ke,qe,Ce,Te,Ee,$e,De,Fe,Ie,Me,Oe,Pe,Le,Je,P,H,re,_e,Ue,Ge,de,We,He,Ke,Ve,xe,cs,ls,rs,_s,ds,ms,hs,xs,us,fs,js,ps,bs,gs,Ns,vs,ws,Ss,ys,ks,qs,Cs,Ts,Es,$s,Ds,Fs,Is,Ms,Os,Ps;const{t:i}=F(),d=it(oe=>oe.idChange.passwordManager.admissionPassword),n=be(),p=Qe(),[r,j]=o.useState(""),[g,N]=o.useState(!1),[h,b]=o.useState(!1),{getAdmissionDetail:t,getAdmissionDetailRefetch:m}=Ft({data:{aid:l?s==null?void 0:s.admission:`${s}`,mod_id:l?_:""},skip:s?!s:!(s!=null&&s.admission)});o.useEffect(()=>{(s||s!=null&&s.admission)&&m()},[s,s==null?void 0:s.admission,m]);const[c,x]=o.useState(""),[w,f]=o.useState(""),[v,k]=o.useState(!1),[S,q]=o.useState(!1),[u,C]=o.useState("");o.useEffect(()=>{S&&new FormData().append("file",w)},[S,w]);const E=oe=>{const ze=URL.createObjectURL(oe.target.files[0]);f(oe.target.files[0]),C(ze),x(ze),k(!0)};return o.useEffect(()=>{var oe,ze,Ls;if((oe=t==null?void 0:t.roles)!=null&&oe.length){if(l){let tt=s==null?void 0:s._id;for(let Ye of t==null?void 0:t.roles)if(tt===(Ye==null?void 0:Ye._id)){j(Ye);break}}}else((ze=t==null?void 0:t.roles)==null?void 0:ze.length)===0&&j("");(Ls=t==null?void 0:t.admission)!=null&&Ls.enable_protection&&(d||b(!0))},[t==null?void 0:t.roles,(I=t==null?void 0:t.admission)==null?void 0:I.enable_protection]),e.jsxs("div",{className:ea.departmenthead,children:[!(n!=null&&n.search)&&e.jsxs(e.Fragment,{children:[e.jsx(ct,{coverKey:(D=t==null?void 0:t.admission)==null?void 0:D.cover,coverId:($=t==null?void 0:t.admission)==null?void 0:$.coverId,defaultCover:"/images/profileAndCover/admission-cover.png",textLarge:i("admission_admin"),textSmall:`${(U=(L=t==null?void 0:t.admission)==null?void 0:L.admissionAdminHead)==null?void 0:U.staffFirstName} ${(X=(Y=t==null?void 0:t.admission)==null?void 0:Y.admissionAdminHead)==null?void 0:X.staffMiddleName} ${(J=(te=t==null?void 0:t.admission)==null?void 0:te.admissionAdminHead)==null?void 0:J.staffLastName}`,count1:(ae=t==null?void 0:t.admission)==null?void 0:ae.queryCount,count1label:i("enqueries"),count2:(le=t==null?void 0:t.admission)==null?void 0:le.newAppCount,count2label:i("ongoing"),profilePhoto:u,profileChange:E,openCrop:v,setOpenCrop:k,setPhotoURL:x,photoURL:c,setFile:f,setUpload:q,setProfilePhoto:C,viewAs:!(r!=null&&r.access_role),redirectUrl:`/q/${p.username}/member/admission?a=site`,carryParentState:a,enableLock:(ge=t==null?void 0:t.admission)==null?void 0:ge.enable_protection,setPassword:N,openAs:"ADMISSION_ADMIN"}),e.jsx(aa,{contentData:t==null?void 0:t.admission,onRefetch:m,carryParentState:a,accessRole:r==null?void 0:r.access_role,accessTpye:((Ne=r==null?void 0:r.active_tab)==null?void 0:Ne.role)??"Application",callApi:!!((ve=t==null?void 0:t.admission)!=null&&ve._id)})]}),(n==null?void 0:n.search)&&((we=n==null?void 0:n.search)==null?void 0:we.substring(3,10))==="ongoing"&&e.jsx(It,{admissionId:(Se=t==null?void 0:t.admission)==null?void 0:Se._id,instituteId:(ke=(ye=t==null?void 0:t.admission)==null?void 0:ye.institute)==null?void 0:ke._id,carryParentState:a,accessRole:r==null?void 0:r.access_role,accessApplication:(r==null?void 0:r.access_application)??[],accessTpye:((qe=r==null?void 0:r.active_tab)==null?void 0:qe.role)??"Application",callApi:!!((Ce=t==null?void 0:t.admission)!=null&&Ce._id)}),(n==null?void 0:n.search)&&((Te=n==null?void 0:n.search)==null?void 0:Te.substring(3))==="completed"&&e.jsx(Mt,{admissionId:(Ee=t==null?void 0:t.admission)==null?void 0:Ee._id,instituteId:(De=($e=t==null?void 0:t.admission)==null?void 0:$e.institute)==null?void 0:De._id,carryParentState:a,accessRole:r==null?void 0:r.access_role,accessApplication:(r==null?void 0:r.access_application)??[],accessTpye:((Fe=r==null?void 0:r.active_tab)==null?void 0:Fe.role)??"Application",callApi:!!((Ie=t==null?void 0:t.admission)!=null&&Ie._id)}),(n==null?void 0:n.search)&&((Me=n==null?void 0:n.search)==null?void 0:Me.substring(3))==="enquiry"&&e.jsx(cn,{admissionId:(Oe=t==null?void 0:t.admission)==null?void 0:Oe._id,instituteId:(Le=(Pe=t==null?void 0:t.admission)==null?void 0:Pe.institute)==null?void 0:Le._id}),(n==null?void 0:n.search)&&((Je=n==null?void 0:n.search)==null?void 0:Je.substring(3,10))==="pending"&&e.jsx(Ot,{carryParentState:a,isEnable:((P=t==null?void 0:t.admission)==null?void 0:P.alarm_enable_status)==="Enable",onRefetch:m,instituteId:(re=(H=t==null?void 0:t.admission)==null?void 0:H.institute)==null?void 0:re._id}),(n==null?void 0:n.search)&&((_e=n==null?void 0:n.search)==null?void 0:_e.substring(3,10))==="receipt"&&e.jsx(hn,{admissionId:(Ue=t==null?void 0:t.admission)==null?void 0:Ue._id,carryParentState:a,financeId:(We=(de=(Ge=t==null?void 0:t.admission)==null?void 0:Ge.institute)==null?void 0:de.financeDepart)==null?void 0:We[0]}),(n==null?void 0:n.search)&&((He=n==null?void 0:n.search)==null?void 0:He.substring(3))==="document"&&e.jsx(un,{admissionId:(Ke=t==null?void 0:t.admission)==null?void 0:Ke._id}),(n==null?void 0:n.search)&&((Ve=n==null?void 0:n.search)==null?void 0:Ve.substring(3))==="refund"&&e.jsx(An,{admissionId:(xe=t==null?void 0:t.admission)==null?void 0:xe._id,refundCount:(cs=t==null?void 0:t.admission)==null?void 0:cs.refundCount}),(n==null?void 0:n.search)&&((ls=n==null?void 0:n.search)==null?void 0:ls.substring(3))==="export"&&e.jsx(Pt,{admissionId:(rs=t==null?void 0:t.admission)==null?void 0:rs._id,funds:t==null?void 0:t.admission,carryParentState:a}),(n==null?void 0:n.search)&&((_s=n==null?void 0:n.search)==null?void 0:_s.substring(3))==="moderator"&&e.jsx(Lt,{admissionId:(ds=t==null?void 0:t.admission)==null?void 0:ds._id,instituteId:(hs=(ms=t==null?void 0:t.admission)==null?void 0:ms.institute)==null?void 0:hs._id,carryParentState:a}),(n==null?void 0:n.search)&&((xs=n==null?void 0:n.search)==null?void 0:xs.substring(3,14))==="scholarship"&&e.jsx(co,{admissionId:(us=t==null?void 0:t.admission)==null?void 0:us._id,instituteId:(js=(fs=t==null?void 0:t.admission)==null?void 0:fs.institute)==null?void 0:js._id,financeId:(gs=(bs=(ps=t==null?void 0:t.admission)==null?void 0:ps.institute)==null?void 0:bs.financeDepart)==null?void 0:gs[0],carryParentState:a,accessRole:r==null?void 0:r.access_role,callApi:!!((Ns=t==null?void 0:t.admission)!=null&&Ns._id)}),g&&e.jsx(lo,{onClose:()=>N(!1),enableLock:(vs=t==null?void 0:t.admission)==null?void 0:vs.enable_protection,faid:(ws=t==null?void 0:t.admission)==null?void 0:ws._id,onRefetch:m,openAs:"Admission_Login"}),h&&e.jsx(_o,{onClose:()=>b(!1),faid:(Ss=t==null?void 0:t.admission)==null?void 0:Ss._id,openAs:"Admission_Login"}),((ys=n==null?void 0:n.search)==null?void 0:ys.substring(3))==="student"&&e.jsx(Zt,{instituteId:(qs=(ks=t==null?void 0:t.admission)==null?void 0:ks.institute)==null?void 0:qs._id,viewId:(Cs=t==null?void 0:t.admission)==null?void 0:Cs._id,is_view:"ADMISSION_ADMIN",studentAlias:($s=(Es=(Ts=t==null?void 0:t.admission)==null?void 0:Ts.institute)==null?void 0:Es.alias_pronounciation)==null?void 0:$s.student_alias,headId:(Fs=(Ds=t==null?void 0:t.admission)==null?void 0:Ds.admissionAdminHead)==null?void 0:Fs._id,carryParentState:a}),((Is=n==null?void 0:n.search)==null?void 0:Is.substring(3))==="student-message"&&e.jsx(At,{sid:(Os=(Ms=t==null?void 0:t.admission)==null?void 0:Ms.institute)==null?void 0:Os._id}),((Ps=n==null?void 0:n.search)==null?void 0:Ps.substring(3))==="reminder-message"&&e.jsx(mo,{})]})}const Hi=()=>{var l,_,i,d,n,p,r,j,g,N;const s=be(),a=ns();return o.useEffect(()=>{var h,b,t,m;a(lt.admissionQuery({aid:(h=s==null?void 0:s.state)!=null&&h.role?(t=(b=s==null?void 0:s.state)==null?void 0:b.onClickValue)==null?void 0:t.admission:(m=s==null?void 0:s.state)==null?void 0:m.onClickValue}))},[]),e.jsx(e.Fragment,{children:((l=s==null?void 0:s.search)==null?void 0:l.substring(3))==="site"?e.jsx(Jt,{aid:(_=s==null?void 0:s.state)==null?void 0:_.onClickValue}):e.jsx(rt,{index:(i=s==null?void 0:s.state)!=null&&i.role?"25":"5",sid:((d=s==null?void 0:s.state)==null?void 0:d.sid)??"",onClickValue:((n=s==null?void 0:s.state)==null?void 0:n.onClickValue)??"",children:e.jsx(ho,{onClickValue:((p=s==null?void 0:s.state)==null?void 0:p.onClickValue)??"",role:(r=s==null?void 0:s.state)==null?void 0:r.role,mid:(j=s==null?void 0:s.state)!=null&&j.role?(N=(g=s==null?void 0:s.state)==null?void 0:g.onClickValue)==null?void 0:N._id:"",carryParentState:s==null?void 0:s.state})})})};export{Hi as default};
