import{u as z,r as m,j as s,t as G,a1 as u,S as H,lo as X,lp as Z,kf as _,e as Y}from"./index-731451a5.js";import{g as E,h as D}from"./student-api-4ee7144d.js";import{C as ss}from"./CandidateList-034748fe.js";import{s as k}from"./ElectionCard.module-4dd482f8.js";const rs="_payroll_1vrw8_1",ds="_skillTop_1vrw8_9",as="_skillTopRow_1vrw8_14",is="_pdark_1vrw8_29",es="_pdarkk_1vrw8_32",ns="_skillMid_1vrw8_36",cs="_skillMidLeft_1vrw8_42",_s="_skillMidRight_1vrw8_49",ls="_midLeftCard_1vrw8_53",ts="_midLeftCardActive_1vrw8_68",os="_skillMidRightCard_1vrw8_102",ps="_skillMidRightCardd_1vrw8_111",hs="_skillMidRightCardTop_1vrw8_121",xs="_spanred_1vrw8_132",ms="_spangreen_1vrw8_142",gs="_skillMidRightCardTopflex_1vrw8_165",js="_emptyMatchList_1vrw8_178",Ns="_matchListp_1vrw8_184",fs="_matchList_1vrw8_184",ks="_matchListTop_1vrw8_198",Ms="_matcheRow_1vrw8_204",vs="_matcheRowFlex_1vrw8_214",ys="_skilllMidRightCardbtn_1vrw8_224",Cs="_studentcatalogprofileimg_1vrw8_244",Rs="_election_container_1vrw8_247",us="_election_container_left_1vrw8_250",ws="_election_container_active_1vrw8_253",Ts="_election_container_right_1vrw8_260",Ls="_election_container_left_50_1vrw8_261",Ss="_election_card_1vrw8_264",$s="_election_card_active_1vrw8_283",Ps="_election_card_text_1vrw8_292",d={payroll:rs,skillTop:ds,skillTopRow:as,pdark:is,pdarkk:es,skillMid:ns,skillMidLeft:cs,skillMidRight:_s,midLeftCard:ls,midLeftCardActive:ts,skillMidRightCard:os,skillMidRightCardd:ps,skillMidRightCardTop:hs,spanred:xs,spangreen:ms,skillMidRightCardTopflex:gs,emptyMatchList:js,matchListp:Ns,matchList:fs,matchListTop:ks,matcheRow:Ms,matcheRowFlex:vs,skilllMidRightCardbtn:ys,studentcatalogprofileimg:Cs,election_container:Rs,election_container_left:us,election_container_active:ws,election_container_right:Ts,election_container_left_50:Ls,election_card:Ss,election_card_active:$s,election_card_text:Ps},Fs=({sid:n,viewElectionDetail:o})=>{var l,x,a,j,t,r,p,N;const{t:g}=z(),{oneElectionDetail:c,oneElectionDetailRefetch:f}=E({data:{sid:n,eid:o==null?void 0:o._id},skip:!(o!=null&&o._id)});return m.useEffect(()=>{o!=null&&o._id&&n&&f()},[o==null?void 0:o._id,n]),s.jsxs("div",{className:k.extra_skill_election_detail_container,children:[s.jsxs("div",{className:k.extra_skill_election_detail_container_padding,children:[s.jsx("h6",{className:k.candiate_heading,children:o==null?void 0:o.election_position}),s.jsx("h6",{className:k.candiate_heading,children:g("election_tagline")}),s.jsx("p",{className:k.candiate_paragraph,children:(l=c==null?void 0:c.flag)==null?void 0:l.election_tag_line}),s.jsx("h6",{className:k.candiate_heading,children:g("description")}),s.jsx("p",{children:(x=c==null?void 0:c.flag)==null?void 0:x.election_description}),s.jsx("h6",{className:k.candiate_heading,children:g("supporting_members")}),(j=(a=c==null?void 0:c.flag)==null?void 0:a.election_supporting_member)==null?void 0:j.map(e=>{var M,v;return s.jsx(ss,{name:`${e==null?void 0:e.studentFirstName} ${(e==null?void 0:e.studentMiddleName)||""} ${e==null?void 0:e.studentLastName}`,profileKey:e==null?void 0:e.studentProfilePhoto,username:(M=e==null?void 0:e.user)==null?void 0:M.username,showActive:!1,asUser:!0,userId:(v=e==null?void 0:e.user)==null?void 0:v._id},e==null?void 0:e._id)})]}),((t=c==null?void 0:c.flag)==null?void 0:t.election_result_status)==="Participants"?s.jsxs("div",{className:k.extra_skill_election_result,children:[s.jsx("h6",{children:"Thank you for participating"}),s.jsxs("h6",{children:["You got ",(r=c==null?void 0:c.flag)==null?void 0:r.election_vote_receieved," votes of total ",(p=c==null?void 0:c.flag)==null?void 0:p.total_voter]})]}):s.jsxs("div",{className:k.extra_skill_election_result_winner,children:[s.jsx("h6",{children:"Congratulations!!!"}),s.jsxs("h6",{children:["For winnig President election with"," ",(N=c==null?void 0:c.flag)==null?void 0:N.election_vote_receieved," votes"]})]})]})},Ws=({sid:n})=>{const[o,g]=G(),[c,f]=m.useState(1),[l,x]=m.useState(!0),[a,j]=m.useState(!0),[t,r]=m.useState([]),[p,N]=m.useState(""),{allElectionList:e,allElectionListRefetch:M}=D({data:{sid:n,page:c,limit:10},skip:!n});m.useEffect(()=>{g&&l&&f(i=>i+1)},[g,l]),m.useEffect(()=>{n&&(j(!0),M())},[c,n,M]),m.useEffect(()=>{var i,y;e!=null&&e.all?(r(R=>[...new Set([...R,...e==null?void 0:e.all].map(JSON.stringify))].map(JSON.parse)),j(!1)):((i=e==null?void 0:e.all)==null?void 0:i.length)===0&&j(!1),((y=e==null?void 0:e.all)==null?void 0:y.length)===10?x(!0):x(!1)},[e==null?void 0:e.all]);const v=i=>{N(i)};return s.jsxs("div",{className:p?d.election_container_active:d.election_container,children:[s.jsxs("div",{className:p?d.election_container_left_50:d.election_container_left,children:[t==null?void 0:t.map((i,y)=>(t==null?void 0:t.length)===y+1?s.jsxs("div",{className:(p==null?void 0:p._id)===(i==null?void 0:i._id)?`${d.election_card} ${d.election_card_active}`:d.election_card,ref:o,onClick:()=>v(i),children:[s.jsx("img",{src:"/images/members/competition.svg",alt:"election icon"}),s.jsxs("div",{className:d.election_card_text,children:[s.jsx("h6",{children:i==null?void 0:i.election_position}),s.jsxs("p",{children:[u(i==null?void 0:i.election_app_start_date).format("dddd")," ,",u(i==null?void 0:i.election_app_start_date).format("DD MMM yyyy")]})]})]},i==null?void 0:i._id):s.jsx("div",{className:(p==null?void 0:p._id)===(i==null?void 0:i._id)?`${d.election_card} ${d.election_card_active}`:d.election_card,onClick:()=>v(i==null?void 0:i._id),children:s.jsxs("div",{children:[s.jsx("img",{src:"/images/members/competition.svg",alt:"election icon"}),s.jsxs("div",{children:[s.jsx("h6",{children:i==null?void 0:i.election_position}),s.jsxs("p",{children:[u(i==null?void 0:i.election_app_start_date).format("DDD"),",",u(i==null?void 0:i.election_app_start_date).format("DD MMM yyyy")]})]})]})},i==null?void 0:i._id)),a&&s.jsx(H,{})]}),p&&s.jsx("div",{className:d.election_container_right,children:s.jsx(Fs,{sid:n,viewElectionDetail:p})})]})};function K({event:n,setEventDetails:o,days:g,eventDetails:c,status:f,match:l,matchDetails:x,setMatchDetails:a}){var j,t,r,p,N;return s.jsxs(s.Fragment,{children:[f==="event"&&s.jsxs("div",{className:(c==null?void 0:c._id)===(n==null?void 0:n._id)?`${d.midLeftCard} ${d.midLeftCardActive}`:d.midLeftCard,onClick:()=>o(n),children:[s.jsx("img",{src:(n==null?void 0:n.photoId)==="1"?`${Y}/${n==null?void 0:n.sportEventProfilePhoto}`:"/images/ins-image.jpg",alt:""}),s.jsxs("div",{children:[s.jsx("h6",{children:n==null?void 0:n.sportEventName}),s.jsxs("p",{children:[g[new Date(n==null?void 0:n.sportEventDate).getDay()],","," ",n==null?void 0:n.sportEventDate," ",(n==null?void 0:n.sportEventStatus)==="Upcoming"?s.jsxs("span",{className:d.spanred,children:["(",_("upcoming"),")"]}):s.jsxs("span",{className:d.spangreen,children:["(",_("completed"),")"]})]})]})]}),f==="match"&&s.jsxs("div",{className:((j=x==null?void 0:x.eventMatch)==null?void 0:j._id)===((t=l==null?void 0:l.eventMatch)==null?void 0:t._id)?`${d.midLeftCard} ${d.midLeftCardActive}`:d.midLeftCard,onClick:()=>a(l==null?void 0:l.match),children:[s.jsx("img",{src:"/images/ins-image.jpg",alt:""}),s.jsxs("div",{children:[s.jsx("h6",{children:(r=l==null?void 0:l.match)==null?void 0:r.sportEventMatchName}),s.jsxs("p",{children:[g[new Date((p=l==null?void 0:l.match)==null?void 0:p.sportEventMatchDate).getDay()],","," ",(N=l==null?void 0:l.match)==null?void 0:N.sportEventMatchDate," "]})]})]})]})}function Vs({sid:n,avgpoints:o,extraPoints:g,imgstatus:c}){var M,v,i,y,R,w,T,L,S,$,P,F,W,b,I,q,U,V,O,Q,A,J,B;const[f,l]=m.useState(0),{data:x}=X(n),[a,j]=m.useState(x==null?void 0:x.event_query.sportEvent[0]),{data:t}=Z({sid:n,eid:a==null?void 0:a._id,skip:!(a!=null&&a._id)}),[r,p]=m.useState(t==null?void 0:t.match_query[0]),N=(v=(M=r==null?void 0:r.sportWinnerTeam)==null?void 0:M.sportTeamStudent)==null?void 0:v.map(h=>h==null?void 0:h.student),e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return s.jsxs("div",{className:d.payroll,children:[s.jsxs("div",{className:d.skillTop,children:[s.jsxs("div",{className:d.skillTopRow,children:[s.jsx("p",{children:_("total_skill")}),s.jsx("p",{className:d.pdark,children:g})]}),s.jsxs("div",{className:d.skillTopRow,children:[s.jsx("p",{children:_("avg_skill")}),s.jsx("p",{className:d.pdark,children:o})]})]}),f===0&&s.jsxs("div",{className:d.matchList,children:[s.jsx("div",{className:d.matchListTop,children:s.jsx("p",{className:d.matchListp,children:_("elections")})}),s.jsx("div",{className:d.skillMid,children:s.jsx(Ws,{sid:n})})]}),f===0&&s.jsxs("div",{className:d.matchList,children:[s.jsx("div",{className:d.matchListTop,children:s.jsx("p",{className:d.matchListp,children:_("events")})}),s.jsxs("div",{className:d.skillMid,children:[s.jsx("div",{className:d.skillMidLeft,children:(y=(i=x==null?void 0:x.event_query)==null?void 0:i.sportEvent)==null?void 0:y.map((h,C)=>s.jsx(K,{event:h,setEventDetails:j,days:e,eventDetails:a,status:"event"},C))}),s.jsx("div",{className:d.skillMidRight,children:s.jsx("div",{className:d.skillMidRightCard,onClick:()=>l(1),children:s.jsxs("div",{className:d.skillMidRightCardTop,children:[s.jsx("img",{className:c==="studentcatalogprofile"?d.studentcatalogprofileimg:"",src:(a==null?void 0:a.photoId)==="1"?`${Y}/${a==null?void 0:a.sportEventProfilePhoto}`:"/images/ins-image.jpg",alt:""}),s.jsxs("h6",{children:[a==null?void 0:a.sportEventName," ",(a==null?void 0:a.sportEventStatus)==="Upcoming"?s.jsxs("span",{className:d.spanred,children:["(",_("u_event"),")"]}):s.jsxs("span",{className:d.spangreen,children:["(",_("c_event"),")"]})]}),s.jsxs("div",{className:d.skillMidRightCardTopflex,style:{display:"flex",gap:"1vw"},children:[s.jsxs("p",{children:[a==null?void 0:a.sportEventCategory," ",_("event")," "]}),s.jsx("p",{children:_("final_match")})]}),s.jsxs("p",{children:[s.jsxs("span",{className:d.pdark,children:[" ",_("date")," :"]})," ",e[new Date(a==null?void 0:a.sportEventDate).getDay()],","," ",a==null?void 0:a.sportEventDate]}),s.jsxs("p",{children:[s.jsxs("span",{className:d.pdark,children:[" ",_("Place")," :"]})," ",a==null?void 0:a.sportEventPlace]})]})})})]})]}),f===1&&s.jsxs("div",{className:d.matchList,children:[s.jsxs("div",{className:d.matchListTop,children:[s.jsx("p",{className:d.matchListp,onClick:()=>{l(0),p()},children:"Back"}),s.jsx("p",{className:d.matchListp,children:a==null?void 0:a.sportEventName}),s.jsx("div",{})]}),((R=t==null?void 0:t.match_query)==null?void 0:R.length)>0?s.jsxs("div",{className:d.skillMid,children:[s.jsx("div",{className:d.skillMidLeft,children:(w=t==null?void 0:t.match_query)==null?void 0:w.map((h,C)=>s.jsx(K,{match:h,status:"match",setMatchDetails:p,matchDetails:r,days:e},C))}),s.jsx("div",{className:d.skillMidRight,children:s.jsxs("div",{className:`${d.skillMidRightCard} ${d.skillMidRightCardd}`,children:[s.jsxs("div",{className:d.skillMidRightCardTop,children:[s.jsx("img",{className:c==="studentcatalogprofile"?d.studentcatalogprofileimg:"",src:"/images/ins-image.jpg",alt:""}),s.jsxs("h6",{children:[r==null?void 0:r.sportEventMatchName,"   ",(r==null?void 0:r.matchStatus)===" Not Completed"?s.jsxs("span",{className:d.spanred,children:["(",_("not_completed"),")"]}):s.jsxs("span",{className:d.spangreen,children:[" ","(",_("completted"),")"]})]}),s.jsxs("div",{className:d.skillMidRightCardTopflex,style:{display:"flex",gap:"1vw"},children:[s.jsxs("p",{children:[s.jsxs("span",{className:d.pdark,children:[" ",_("game_type")," :"]})," ",r==null?void 0:r.sportEventMatchCategory]}),s.jsxs("p",{children:[s.jsxs("span",{className:d.pdark,children:[" ",_("match_type")," :"]})," ",r==null?void 0:r.sportEventMatchCategoryLevel]})]}),s.jsxs("p",{children:[s.jsxs("span",{className:d.pdark,children:[" ",_("date")," :"]})," ",e[new Date(r==null?void 0:r.sportEventMatchDate).getDay()],",","  ",r==null?void 0:r.sportEventMatchDate]}),s.jsxs("p",{children:[s.jsxs("span",{className:d.pdark,children:[" ",_("Place")," :"]})," ",a==null?void 0:a.sportEventPlace]}),(a==null?void 0:a.sportEventCategory)==="Intra"&&((r==null?void 0:r.sportEventMatchCategory)==="Individual"?s.jsxs("div",{className:d.matcheRow,children:[s.jsxs("p",{style:{marginTop:"1.5vw"},children:[" ",s.jsxs("span",{children:[" ",_("Player_1")," :"]})," ",(T=r==null?void 0:r.sportRunner)==null?void 0:T.studentFirstName," ",(L=r==null?void 0:r.sportRunner)==null?void 0:L.studentMiddleName," ",(S=r==null?void 0:r.sportRunner)==null?void 0:S.studentLastName]}),s.jsxs("p",{children:[" ",s.jsxs("span",{children:[" ",_("Player_2")," :"]})," ",($=r==null?void 0:r.sportWinner)==null?void 0:$.studentFirstName," ",(P=r==null?void 0:r.sportWinner)==null?void 0:P.studentMiddleName," ",(F=r==null?void 0:r.sportWinner)==null?void 0:F.studentLastName]})]}):(r==null?void 0:r.sportEventMatchCategory)==="Team"?s.jsxs("div",{className:d.matcheRow,children:[s.jsxs("p",{style:{marginTop:"1.5vw"},children:[" ",s.jsxs("span",{children:[" ",_("team_1")," :"]})," ",(W=r==null?void 0:r.sportWinnerTeam)==null?void 0:W.sportClassTeamName]}),s.jsxs("p",{children:[" ",s.jsxs("span",{children:[" ",_("team_2")," :"]})," ",(b=r==null?void 0:r.sportRunnerTeam)==null?void 0:b.sportClassTeamName]})]}):s.jsxs("div",{className:`${d.matcheRow} ${d.matcheRowFlex}`,children:[s.jsxs("p",{style:(r==null?void 0:r.sportEventMatchCategory)!=="Free Style"?{marginTop:"1.5vw"}:{marginTop:"0"},children:[s.jsxs("span",{children:[" ",_("players")," : "]})," "]}),s.jsxs("div",{children:[s.jsxs("p",{children:[" ",(I=r==null?void 0:r.sportWinner)==null?void 0:I.studentFirstName," ",(q=r==null?void 0:r.sportWinner)==null?void 0:q.studentMiddleName," ",(U=r==null?void 0:r.sportWinner)==null?void 0:U.studentLastName]}),s.jsxs("p",{children:[" ",(V=r==null?void 0:r.sportRunner)==null?void 0:V.studentFirstName," ",(O=r==null?void 0:r.sportRunner)==null?void 0:O.studentMiddleName," ",(Q=r==null?void 0:r.sportRunner)==null?void 0:Q.studentLastName]}),(A=r==null?void 0:r.sportParticipants)==null?void 0:A.map((h,C)=>s.jsxs("p",{children:[h==null?void 0:h.studentFirstName," ",h==null?void 0:h.studentMiddleName," ",h==null?void 0:h.studentLastName]},C))]})]}))]}),(a==null?void 0:a.sportEventCategory)==="Intra"&&((r==null?void 0:r.sportEventMatchCategory)==="Individual"&&n===((J=r==null?void 0:r.sportWinner)==null?void 0:J._id)?s.jsx("div",{className:d.skilllMidRightCardbtn,children:_("you_have_won")}):(r==null?void 0:r.sportEventMatchCategory)==="Team"&&(N!=null&&N.includes(n))?s.jsx("div",{className:d.skilllMidRightCardbtn,children:_("your_team_have_won")}):(r==null?void 0:r.sportEventMatchCategory)==="Free Style"&&n===((B=r==null?void 0:r.sportWinner)==null?void 0:B._id)?s.jsx("div",{className:d.skilllMidRightCardbtn,children:_("you_have_won")}):"")]})})]}):s.jsx("div",{className:d.emptyMatchList,children:_("no_match_found")})]})]})}export{Vs as default};
