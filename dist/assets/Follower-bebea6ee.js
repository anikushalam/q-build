import{k as j,r as o,t as I,nX as S,j as s,e as g}from"./index-731451a5.js";const q="_container_5x3qj_1",P="_card_5x3qj_7",w="_cardImage_5x3qj_21",v="_username_5x3qj_27",E="_name_5x3qj_39",$="_unfollow_5x3qj_51",L="_unfollowText_5x3qj_61",n={container:q,card:P,cardImage:w,username:v,name:E,unfollow:$,unfollowText:L},k=()=>{const l=j(e=>e.idChange.id),[c,x]=o.useState([]),[_,r]=I(),[i,R]=o.useState(!0),[u,p]=o.useState(1),{instituteFollowersArray:a,instituteFollowersArrayRefetch:d}=S({data:{id:l,page:u,limit:10},skip:!l});return o.useEffect(()=>{l&&d()},[l,u,d]),o.useEffect(()=>{r&&i&&p(e=>e+1)},[r,i]),o.useEffect(()=>{var e,m;if((e=a==null?void 0:a.iFollowers)!=null&&e.length||(m=a==null?void 0:a.uFollowers)!=null&&m.length){const h=[...c,...a==null?void 0:a.iFollowers,...a==null?void 0:a.uFollowers],N=[...new Set(h.map(JSON.stringify))].map(JSON.parse);x(N)}},[a==null?void 0:a.iFollowers,a==null?void 0:a.uFollowers]),s.jsx("div",{className:`${n.container}`,children:c==null?void 0:c.map((e,m)=>(c==null?void 0:c.length)===m+1?s.jsxs("div",{className:n.card,ref:_,children:[s.jsx("img",{className:n.cardImage,src:(e==null?void 0:e.photoId)!=="1"?`${g}/${(e==null?void 0:e.insProfilePhoto)||(e==null?void 0:e.profilePhoto)}`:"/images/avatar-icon.png",alt:""}),s.jsx("p",{className:n.username,children:e&&e.name?e.name:e.username?e.username:""}),s.jsx("p",{className:n.name,children:e&&e.insName?e.insName:e.userLegalName?e.userLegalName:""})]},m):s.jsxs("div",{className:n.card,children:[s.jsx("img",{className:n.cardImage,src:(e==null?void 0:e.photoId)!=="1"?`${g}/${(e==null?void 0:e.insProfilePhoto)||(e==null?void 0:e.profilePhoto)}`:"/images/avatar-icon.png",alt:""}),s.jsx("p",{className:n.username,children:e&&e.name?e.name:e.username?e.username:""}),s.jsx("p",{className:n.name,children:e&&e.insName?e.insName:e.userLegalName?e.userLegalName:""})]},m))})};export{k as default};
