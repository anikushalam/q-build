import{u as P,n as U,c as w,d as y,j as r,lH as E,r as l,t as k}from"./index-731451a5.js";import{n as M,o as R,p as V,q as B,l as d,U as v,s as h,r as q,B as A,L as D}from"./FinanceConfig-555e7db6.js";import{s as g}from"./PendingFees.module-8beea404.js";const N=({studentFees:a})=>{var m,s,p;const{t:o}=P(),n=U(),x=w(),j=y(),_=()=>{x(`/q/${n.username}/student/profile`,{state:{...j.state,sid:a==null?void 0:a._id}})};return r.jsxs("div",{className:g.pending_fees_card,onClick:_,title:"View Profile",children:[r.jsxs("div",{className:g.pending_fees_card_container,children:[r.jsx("img",{alt:"Student Avatar",src:a!=null&&a.studentProfilePhoto?`${E}/${a==null?void 0:a.studentProfilePhoto}`:`${M}/feed-user-avatar.svg`,loading:"lazy"}),r.jsxs("div",{className:g.pending_fees_card_inner,children:[r.jsx("h6",{children:`${a==null?void 0:a.studentFirstName} ${a!=null&&a.studentMiddleName?a==null?void 0:a.studentMiddleName:""} ${a==null?void 0:a.studentLastName}`}),r.jsxs("p",{children:[o("gr_number")," : ",(a==null?void 0:a.studentGRNO)??""," ",", ",((m=a==null?void 0:a.department)==null?void 0:m.dName)??""]}),r.jsxs("p",{children:[o("class")," "," : ",`${((s=a==null?void 0:a.studentClass)==null?void 0:s.className)??""} -  ${((p=a==null?void 0:a.studentClass)==null?void 0:p.classTitle)??""}`]})]})]}),r.jsxs("div",{className:g.pending_fees_card_inner,children:[r.jsxs("h6",{children:["Rs. ",a==null?void 0:a.studentRemainingFeeCount]}),r.jsx("p",{children:o("pending_fees")})]})]})},T=({fid:a})=>{const{t:o}=P(),[n,x]=l.useState(""),[j,_]=l.useState(1),[m,s]=l.useState(!0),[p,f]=k({skip:n}),{financeFeeList:i,financeFeeListLoading:$}=R({data:{finance:a,page:j,limit:10,search:n},skip:!a});l.useEffect(()=>{f&&m&&_(c=>c+1)},[f,m]),l.useEffect(()=>{i!=null&&i.length&&V(i==null?void 0:i.length,s)},[i==null?void 0:i.length]);const C=l.useCallback(B(c=>x(c),500),[]),b=c=>{C(c.target.value)};return r.jsxs(d,{children:[r.jsx(v,{children:r.jsxs("div",{className:h.fm_header_container,children:[r.jsx("h6",{children:o("pending_fees")}),r.jsx("div",{className:h.fm_search,children:r.jsx("section",{className:h.fm_search_container,children:r.jsxs("div",{className:h.fm_search_container_inner,children:[r.jsx("img",{className:h.fm_search_icon,alt:"search icon",src:`${q}/navbar-search.svg`}),r.jsx("input",{type:"text",placeholder:o("search"),onChange:b})]})})})]})}),r.jsx(A,{}),r.jsxs(v,{children:[$&&r.jsx(D,{}),i==null?void 0:i.map((c,S)=>(i==null?void 0:i.length)===S+1?r.jsx("div",{ref:p,children:r.jsx(N,{studentFees:c})},c==null?void 0:c._id):r.jsx(N,{studentFees:c},c==null?void 0:c._id))]})]})},H=l.memo(T);export{H as default};
