import{j as r,u as H,k as N,t as x,r as g,v as J,w as V,x as R,e as I,y as B,s as A,d as G}from"./index-731451a5.js";import{u as p,a as $}from"./search-api-15f7f9f9.js";import{U as w,M as U}from"./MentorList-b2d47150.js";import"./SearchStyle.module-ded1a888.js";import{I as q,C as P,A as F}from"./AllMixinList-d9343501.js";import"./constant_value-4cd2b3e0.js";import"./post-api-f57ebb8f.js";const Q="_navbar_1auf8_1",W="_search_tab_1auf8_9",z="_search_tab_each_1auf8_22",K="_search_tab_each_active_1auf8_23",X="_search_card_list_container_1auf8_24",S={navbar:Q,search_tab:W,search_tab_each:z,search_tab_each_active:K,search_card_list_container:X},T=({searchTab:f,searchTabActive:s,setSearchTabActive:i,top:n})=>r.jsx("div",{className:S.search_tab,style:{top:n},children:f==null?void 0:f.map((u,h)=>r.jsx("div",{className:s===u?S.search_tab_each_active:S.search_tab_each,onClick:()=>i(u),children:u},h))}),k=({children:f})=>{const{t:s}=H();return r.jsxs("div",{className:S.search_card_list_container,children:[r.jsxs("section",{children:[r.jsx("p",{children:s("search_result")}),r.jsx("p",{children:s("clear")})]}),f]})},Y=({search:f})=>{const s=N(o=>o.idChange),[i,n]=x(),[u,h]=g.useState([]),[v,j]=g.useState(!0),[t,y]=g.useState(1),{userAllSearch:a,userAllSearchRefetch:c}=p({skip:!(s!=null&&s.id),search:{search:f,page:t,id:s==null?void 0:s.id,limit:10,filter:"all"}});return g.useEffect(()=>{n&&v&&y(o=>o+1)},[n,v]),g.useEffect(()=>{t&&(s!=null&&s.id)&&f&&c()},[t,s==null?void 0:s.id,c,f]),g.useEffect(()=>{var o;if(a!=null&&a.universalArrayUser){const e=[...u,...a==null?void 0:a.universalArrayUser],_=[...new Set(e.map(JSON.stringify))].map(JSON.parse);h(_)}((o=a==null?void 0:a.universalArrayUser)==null?void 0:o.length)===10?j(!0):j(!1)},[a==null?void 0:a.universalArrayUser]),r.jsx(r.Fragment,{children:u==null?void 0:u.map((o,e)=>(u==null?void 0:u.length)===e+1?r.jsx("div",{ref:i,children:o!=null&&o.hashtag_name||o!=null&&o.user?"":r.jsx(w,{item:o,hideModal:()=>{},userId:s==null?void 0:s.id},e)},e):o!=null&&o.hashtag_name||o!=null&&o.user?"":r.jsx(w,{item:o,hideModal:()=>{},userId:s==null?void 0:s.id},e))})},Z=({search:f})=>{const s=N(o=>o.idChange),[i,n]=x(),[u,h]=g.useState([]),[v,j]=g.useState(!0),[t,y]=g.useState(1),{userAllSearch:a,userAllSearchRefetch:c}=p({skip:!(s!=null&&s.id),search:{search:f,page:t,id:s==null?void 0:s.id,limit:10,filter:"Mentor"}});return g.useEffect(()=>{n&&v&&y(o=>o+1)},[n,v]),g.useEffect(()=>{t&&(s!=null&&s.id)&&f&&c()},[t,s==null?void 0:s.id,c,f]),g.useEffect(()=>{var o;if(a!=null&&a.universalArrayUser){const e=[...u,...a==null?void 0:a.universalArrayUser],_=[...new Set(e.map(JSON.stringify))].map(JSON.parse);h(_)}((o=a==null?void 0:a.universalArrayUser)==null?void 0:o.length)===10?j(!0):j(!1)},[a==null?void 0:a.universalArrayUser]),r.jsx(r.Fragment,{children:u==null?void 0:u.map((o,e)=>(u==null?void 0:u.length)===e+1?r.jsx("div",{ref:i,children:r.jsx(U,{staff:o},e)},e):r.jsx(U,{staff:o},e))})},D=({search:f})=>{const s=N(o=>o.idChange),[i,n]=x(),[u,h]=g.useState([]),[v,j]=g.useState(!0),[t,y]=g.useState(1),{userAllSearch:a,userAllSearchRefetch:c}=p({skip:!(s!=null&&s.id),search:{search:f,page:t,id:s==null?void 0:s.id,limit:10,filter:"People"}});return g.useEffect(()=>{n&&v&&y(o=>o+1)},[n,v]),g.useEffect(()=>{t&&(s!=null&&s.id)&&f&&c()},[t,s==null?void 0:s.id,c,f]),g.useEffect(()=>{var o;if(a!=null&&a.universalArrayUser){const e=[...u,...a==null?void 0:a.universalArrayUser],_=[...new Set(e.map(JSON.stringify))].map(JSON.parse);h(_)}((o=a==null?void 0:a.universalArrayUser)==null?void 0:o.length)===10?j(!0):j(!1)},[a==null?void 0:a.universalArrayUser]),r.jsx(r.Fragment,{children:u==null?void 0:u.map((o,e)=>(u==null?void 0:u.length)===e+1?r.jsx("div",{ref:i,children:r.jsx(w,{item:o,hideModal:()=>{},userId:s==null?void 0:s.id},e)},e):r.jsx(w,{item:o,hideModal:()=>{},userId:s==null?void 0:s.id},e))})},d=({search:f})=>{const s=N(o=>o.idChange),[i,n]=x(),[u,h]=g.useState([]),[v,j]=g.useState(!0),[t,y]=g.useState(1),{userAllSearch:a,userAllSearchRefetch:c}=p({skip:!(s!=null&&s.id),search:{search:f,page:t,id:s==null?void 0:s.id,limit:10,filter:"Institute"}});return g.useEffect(()=>{n&&v&&y(o=>o+1)},[n,v]),g.useEffect(()=>{t&&(s!=null&&s.id)&&f&&c()},[t,s==null?void 0:s.id,c,f]),g.useEffect(()=>{var o;if(a!=null&&a.universalArrayUser){const e=[...u,...a==null?void 0:a.universalArrayUser],_=[...new Set(e.map(JSON.stringify))].map(JSON.parse);h(_)}((o=a==null?void 0:a.universalArrayUser)==null?void 0:o.length)===10?j(!0):j(!1)},[a==null?void 0:a.universalArrayUser]),r.jsx(r.Fragment,{children:u==null?void 0:u.map((o,e)=>(u==null?void 0:u.length)===e+1?r.jsx("div",{ref:i,children:r.jsx(w,{item:o,hideModal:()=>{},userId:s==null?void 0:s.id},e)},e):r.jsx(w,{item:o,hideModal:()=>{},userId:s==null?void 0:s.id},e))})},ee=({search:f})=>{var j,t,y,a,c;const s=N(o=>o.idChange),{showScrollbar:i}=J(),[n,u]=g.useState("all"),{data:h,refetch:v}=V(s==null?void 0:s.id,{skip:!(s!=null&&s.id)});return g.useEffect(()=>{s.id&&v(),i()},[s==null?void 0:s.id,v]),r.jsxs(r.Fragment,{children:[r.jsx("div",{className:S.navbar,children:r.jsx(R,{status:"dashboard",profileId:h?(j=h==null?void 0:h.user)==null?void 0:j._id:"",username:(t=h==null?void 0:h.user)==null?void 0:t.username,name:(y=h==null?void 0:h.user)==null?void 0:y.userLegalName,photoId:(a=h==null?void 0:h.user)==null?void 0:a.photoId,profilePhoto:(c=h==null?void 0:h.user)==null?void 0:c.profilePhoto,profileData:h==null?void 0:h.user})}),r.jsx(T,{searchTab:["Institutes","People","Hashtags"],searchTabActive:n,setSearchTabActive:u,top:"77px"}),r.jsxs(k,{children:[n==="all"&&r.jsx(Y,{search:f}),n==="Institutes"&&r.jsx(d,{search:f}),n==="Mentors"&&r.jsx(Z,{search:f}),n==="People"&&r.jsx(D,{search:f}),n==="Hashtags"&&r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"5vw"},children:"Coming Soon..."})]})]})},se=({search:f})=>{const s=N(o=>o.idChange),[i,n]=g.useState([]),[u,h]=x(),[v,j]=g.useState(!0),[t,y]=g.useState(1),{instituteAllSearch:a,instituteAllSearchRefetch:c}=$({skip:!(s!=null&&s.id),search:{search:f,page:t,id:s==null?void 0:s.id,limit:10,filter:"Institute"}});return g.useEffect(()=>{h&&v&&y(o=>o+1)},[h,v]),g.useEffect(()=>{s!=null&&s.id&&c()},[t,s==null?void 0:s.id,c]),g.useEffect(()=>{var o;if(a!=null&&a.universalArray){const e=[...i,...a==null?void 0:a.universalArray],_=[...new Set(e.map(JSON.stringify))].map(JSON.parse);n(_)}((o=a==null?void 0:a.universalArray)==null?void 0:o.length)===10?j(!0):j(!1)},[a==null?void 0:a.universalArray]),r.jsx(r.Fragment,{children:i==null?void 0:i.map((o,e)=>(i==null?void 0:i.length)===e+1?r.jsx("div",{ref:u,children:r.jsx(q,{institute:o,hideModal:()=>{}},o==null?void 0:o._id)},e):r.jsx(q,{institute:o,hideModal:()=>{}},o==null?void 0:o._id))})},oe=({search:f,username:s})=>{const i=N(e=>e.idChange),[n,u]=g.useState([]),[h,v]=x(),[j,t]=g.useState(!0),[y,a]=g.useState(1),{instituteAllSearch:c,instituteAllSearchRefetch:o}=$({skip:!(i!=null&&i.id),search:{search:f,page:y,id:i==null?void 0:i.id,limit:10,filter:"Staff"}});return g.useEffect(()=>{v&&j&&a(e=>e+1)},[v,j]),g.useEffect(()=>{i!=null&&i.id&&o()},[y,i==null?void 0:i.id,o]),g.useEffect(()=>{var e;if(c!=null&&c.universalArray){const _=[...n,...c==null?void 0:c.universalArray],l=[...new Set(_.map(JSON.stringify))].map(JSON.parse);u(l)}((e=c==null?void 0:c.universalArray)==null?void 0:e.length)===10?t(!0):t(!1)},[c==null?void 0:c.universalArray]),r.jsx(r.Fragment,{children:n==null?void 0:n.map((e,_)=>(n==null?void 0:n.length)===_+1?r.jsx("div",{ref:h,children:r.jsx(P,{username:s,activeTab:"staff",imageShow:`${I}/${e==null?void 0:e.staffProfilePhoto}`,name:`${e==null?void 0:e.staffFirstName} ${e!=null&&e.staffMiddleName?e==null?void 0:e.staffMiddleName:""} ${e==null?void 0:e.staffLastName}`,showBottomInfo:e==null?void 0:e.staffROLLNO,openType:{openId:e==null?void 0:e._id,asOpen:"staff"}})},_):r.jsx(P,{username:s,activeTab:"staff",imageShow:`${I}/${e==null?void 0:e.staffProfilePhoto}`,name:`${e==null?void 0:e.staffFirstName} ${e!=null&&e.staffMiddleName?e==null?void 0:e.staffMiddleName:""} ${e==null?void 0:e.staffLastName}`,showBottomInfo:e==null?void 0:e.staffROLLNO,openType:{openId:e==null?void 0:e._id,asOpen:"staff"}}))})},ae=({search:f,username:s})=>{const i=N(e=>e.idChange),[n,u]=g.useState([]),[h,v]=x(),[j,t]=g.useState(!0),[y,a]=g.useState(1),{instituteAllSearch:c,instituteAllSearchRefetch:o}=$({skip:!(i!=null&&i.id),search:{search:f,page:y,id:i==null?void 0:i.id,limit:10,filter:"Student"}});return g.useEffect(()=>{v&&j&&a(e=>e+1)},[v,j]),g.useEffect(()=>{i!=null&&i.id&&o()},[y,i==null?void 0:i.id,o]),g.useEffect(()=>{var e;if(c!=null&&c.universalArray){const _=[...n,...c==null?void 0:c.universalArray],l=[...new Set(_.map(JSON.stringify))].map(JSON.parse);u(l)}((e=c==null?void 0:c.universalArray)==null?void 0:e.length)===10?t(!0):t(!1)},[c==null?void 0:c.universalArray]),r.jsx(r.Fragment,{children:n==null?void 0:n.map((e,_)=>(n==null?void 0:n.length)===_+1?r.jsx("div",{ref:h,children:r.jsx(P,{username:s,activeTab:"student",imageShow:`${I}/${e==null?void 0:e.studentProfilePhoto}`,name:`${e==null?void 0:e.studentFirstName} ${e!=null&&e.studentMiddleName?e==null?void 0:e.studentMiddleName:""} ${e==null?void 0:e.studentLastName}`,showBottomInfo:e==null?void 0:e.studentGRNO,openType:{openId:e==null?void 0:e._id,asOpen:"student"}})},_):r.jsx(P,{username:s,activeTab:"student",imageShow:`${I}/${e==null?void 0:e.studentProfilePhoto}`,name:`${e==null?void 0:e.studentFirstName} ${e!=null&&e.studentMiddleName?e==null?void 0:e.studentMiddleName:""} ${e==null?void 0:e.studentLastName}`,showBottomInfo:e==null?void 0:e.studentGRNO,openType:{openId:e==null?void 0:e._id,asOpen:"student"}}))})},re=({search:f,username:s})=>{const i=N(e=>e.idChange),[n,u]=g.useState([]),[h,v]=x(),[j,t]=g.useState(!0),[y,a]=g.useState(1),{instituteAllSearch:c,instituteAllSearchRefetch:o}=$({skip:!(i!=null&&i.id),search:{search:f,page:y,id:i==null?void 0:i.id,limit:10,filter:"Department"}});return g.useEffect(()=>{v&&j&&a(e=>e+1)},[v,j]),g.useEffect(()=>{i!=null&&i.id&&o()},[y,i==null?void 0:i.id,o]),g.useEffect(()=>{var e;if(c!=null&&c.universalArray){const _=[...n,...c==null?void 0:c.universalArray],l=[...new Set(_.map(JSON.stringify))].map(JSON.parse);u(l)}((e=c==null?void 0:c.universalArray)==null?void 0:e.length)===10?t(!0):t(!1)},[c==null?void 0:c.universalArray]),r.jsx(r.Fragment,{children:n==null?void 0:n.map((e,_)=>{var l,E,O,C,M,b,m,L;return(n==null?void 0:n.length)===_+1?r.jsx("div",{ref:h,children:r.jsx(P,{username:s,activeTab:"department",imageShow:e!=null&&e.photo?`${I}/${e==null?void 0:e.photo}`:"/images/profileAndCover/department-profile-img.svg",name:e==null?void 0:e.dName,showBottomInfo:`${(l=e==null?void 0:e.dHead)==null?void 0:l.staffFirstName} ${(E=e==null?void 0:e.dHead)!=null&&E.staffMiddleName?(O=e==null?void 0:e.dHead)==null?void 0:O.staffMiddleName:""} ${(C=e==null?void 0:e.dHead)==null?void 0:C.staffLastName}`,openType:{urlName:e==null?void 0:e.dName,openId:e==null?void 0:e._id,asOpen:"department"}})},_):r.jsx(P,{username:s,activeTab:"department",imageShow:e!=null&&e.photo?`${I}/${e==null?void 0:e.photo}`:"/images/profileAndCover/department-profile-img.svg",name:e==null?void 0:e.dName,showBottomInfo:`${(M=e==null?void 0:e.dHead)==null?void 0:M.staffFirstName} ${(b=e==null?void 0:e.dHead)!=null&&b.staffMiddleName?(m=e==null?void 0:e.dHead)==null?void 0:m.staffMiddleName:""} ${(L=e==null?void 0:e.dHead)==null?void 0:L.staffLastName}`,openType:{urlName:e==null?void 0:e.dName,openId:e==null?void 0:e._id,asOpen:"department"}})})})},ie=({search:f,username:s})=>{const i=N(e=>e.idChange),[n,u]=g.useState([]),[h,v]=x(),[j,t]=g.useState(!0),[y,a]=g.useState(1),{instituteAllSearch:c,instituteAllSearchRefetch:o}=$({skip:!(i!=null&&i.id),search:{search:f,page:y,id:i==null?void 0:i.id,limit:10,filter:"all"}});return g.useEffect(()=>{v&&j&&a(e=>e+1)},[v,j]),g.useEffect(()=>{i!=null&&i.id&&o()},[y,i==null?void 0:i.id,o]),g.useEffect(()=>{var e;if(c!=null&&c.universalArray){const _=[...n,...c==null?void 0:c.universalArray],l=[...new Set(_.map(JSON.stringify))].map(JSON.parse);u(l)}((e=c==null?void 0:c.universalArray)==null?void 0:e.length)===10?t(!0):t(!1)},[c==null?void 0:c.universalArray]),r.jsx(r.Fragment,{children:n==null?void 0:n.map((e,_)=>(n==null?void 0:n.length)===_+1?r.jsx("div",{ref:h,children:r.jsx(F,{mixin:e,onCloseSearch:()=>{},username:s},e==null?void 0:e._id)},_):r.jsx(F,{mixin:e,onCloseSearch:()=>{},username:s},e==null?void 0:e._id))})},ce=({search:f})=>{var j,t,y,a;const s=N(c=>c.idChange),{showScrollbar:i}=J(),[n,u]=g.useState("all"),{data:h,refetch:v}=B(s==null?void 0:s.id,{skip:!(s!=null&&s.id)});return g.useEffect(()=>{s.id&&v(),i()},[s==null?void 0:s.id,v]),r.jsxs(r.Fragment,{children:[r.jsx("div",{className:S.navbar,children:r.jsx(A,{status:"home"})}),r.jsx(T,{searchTab:["Institutes","Staffs","Students","Departments","Hashtags"],searchTabActive:n,setSearchTabActive:u,top:"66px"}),r.jsxs(k,{children:[n==="all"&&r.jsx(ie,{search:f,username:(j=h==null?void 0:h.institute)==null?void 0:j.name}),n==="Institutes"&&r.jsx(se,{search:f}),n==="Staffs"&&r.jsx(oe,{search:f,username:(t=h==null?void 0:h.institute)==null?void 0:t.name}),n==="Students"&&r.jsx(ae,{search:f,username:(y=h==null?void 0:h.institute)==null?void 0:y.name}),n==="Departments"&&r.jsx(re,{search:f,username:(a=h==null?void 0:h.institute)==null?void 0:a.name}),n==="Hashtags"&&r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"5vw"},children:"Coming Soon..."})]})]})},je=()=>{var i,n;const f=N(u=>u.idChange),s=G();return r.jsx(r.Fragment,{children:f.loggedinAs==="user"?r.jsx(ee,{search:(i=s.state)==null?void 0:i.search}):f.loggedinAs==="institute"?r.jsx(ce,{search:(n=s.state)==null?void 0:n.search}):""})};export{je as default};
