import{u as S,r as t,k as _,l as k,j as s,L as g}from"./index-0ca76035.js";import{S as v}from"./SearchModalBackdrop-c4f123e6.js";import{S as y,a as A}from"./SearchCardWrapper-2ab13c4a.js";import{s as i}from"./SearchStyle.module-ded1a888.js";import{a as E}from"./search-api-b192a53f.js";import{A as b}from"./AllMixinList-328c71c3.js";import"./SearchHeader.module-b69c8942.js";import"./constant_value-4cd2b3e0.js";import"./post-api-b04eb54b.js";const w=({onCloseSearch:a,username:c})=>{var n;const{t:h}=S(),[d,p]=t.useState(!0),[r,u]=t.useState(""),l=_(e=>e.idChange),{instituteAllSearch:o,instituteAllSearchRefetch:m}=E({skip:d,search:{search:r,page:1,id:l==null?void 0:l.id,limit:6,filter:"all"}});t.useEffect(()=>{r&&f()},[r]);const f=()=>{p(!1),m()},j=t.useCallback(k.debounce(e=>u(e),500),[]),x=e=>{j(e)};return s.jsxs(s.Fragment,{children:[s.jsx(v,{onClose:a}),s.jsxs(y,{children:[s.jsx(A,{setSearchQuery:x,username:c,searchQuery:r,onClose:a}),s.jsx("hr",{className:i.search_hr}),s.jsxs("div",{className:i.search_result_container,children:[s.jsxs("div",{className:i.search_result_container_heading,children:[s.jsx("p",{children:h("search_result")}),s.jsx(g,{to:`/q/${c}/search`,state:{search:r},onClick:a,children:s.jsx("p",{children:h("view_all")})})]}),(n=o==null?void 0:o.universalArray)==null?void 0:n.map(e=>s.jsx(b,{mixin:e,onCloseSearch:a,username:c},e==null?void 0:e._id))]})]})]})};export{w as default};
