import{u as _,j as t,lH as F,r as l,t as L}from"./index-731451a5.js";import{ar as $,a as w,as as E,p as U,q as D,s as d,r as q,L as C}from"./FinanceConfig-555e7db6.js";import{s as a}from"./TransactionHistory-42f60164.js";import{l as m}from"./localTime-bd3ac783.js";import"./pdf-convertor-function-e794de58.js";import"./admission-api-56b87fde.js";import"./pdfInternalFeeReceipt-ec10d7e3.js";import"./numberToWords.min-dbca819b.js";import"./main.receipt.pdf.worker-5753b302.js";const x=({repay:s})=>{var i,o;const{t:n}=_();return t.jsxs("div",{className:a.settle_card,children:[t.jsxs("div",{className:a.settle_card_container,children:[t.jsx("img",{src:`${$}/qviple-logo.svg`,alt:"qviple logo",style:{width:"60px",height:"60px",borderRadius:"12px"}}),t.jsxs("div",{className:a.settle_card_text,children:[t.jsxs("h6",{children:[n("settlement_date")," "," : ",(s==null?void 0:s.settlement_date)??""]}),t.jsxs("p",{className:a.settle_paragraph,children:[n("message")," "," : "," ",(s==null?void 0:s.message)??""]}),t.jsxs("p",{className:a.settle_paragraph,children:[n("transaction_id")," : "," ",(s==null?void 0:s.txnId)??""]}),t.jsxs("p",{className:a.settle_paragraph,children:[n("bank_name")," : ",((o=(i=s==null?void 0:s.bank_account)==null?void 0:i[0])==null?void 0:o.finance_bank_account_name)??""]})]})]}),t.jsxs("div",{className:a.settle_card_text,style:{alignItems:"flex-end"},children:[s!=null&&s.excel_attach?t.jsx("a",{title:"Download File",href:`${F}/${s==null?void 0:s.excel_attach}`,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:t.jsx("img",{src:`${w}/xsxl.svg`,alt:"excel icon"})}):null,t.jsxs("h6",{children:[n("rs")," ",(s==null?void 0:s.repayAmount)??""]}),t.jsxs("p",{className:a.settle_paragraph,children:[m(s==null?void 0:s.createdAt,"L"),", ",m(s==null?void 0:s.createdAt,"LT")]})]})]})},G=({instituteId:s})=>{const{t:n}=_(),[i,o]=l.useState(""),[g,u]=l.useState(1),[h,j]=l.useState(!0),[f,r]=L({skip:i}),{financeAllSettlement:e,financeAllSettlementLoading:v}=E({data:{fid:s,page:g,limit:10,search:i},skip:!s});l.useEffect(()=>{r&&h&&u(c=>c+1)},[r,h]),l.useEffect(()=>{e!=null&&e.length&&U(e==null?void 0:e.length,j)},[e==null?void 0:e.length]);const N=l.useCallback(D(c=>o(c),500),[]),b=c=>{N(c.target.value)};return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:d.fm_search_full,children:t.jsx("section",{className:d.fm_search_full_container,children:t.jsxs("div",{className:d.fm_search_full_container_inner,children:[t.jsx("img",{className:d.fm_search_full_icon,alt:"search icon",src:`${q}/navbar-search.svg`}),t.jsx("input",{type:"text",placeholder:n("search"),onChange:b})]})})}),v&&t.jsx(C,{}),e==null?void 0:e.map((c,k)=>(e==null?void 0:e.length)===k+1?t.jsx("div",{ref:f,children:t.jsx(x,{repay:c})},c==null?void 0:c._id):t.jsx(x,{repay:c},c==null?void 0:c._id))]})};export{G as default};
