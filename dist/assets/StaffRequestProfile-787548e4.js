import{u as L,j as r,Q as $,r as k,k as y,e as E}from"./index-0ca76035.js";import{t as H,K as I,L as O}from"./institute-staff-student-api-7114d611.js";import{s as D,B as b}from"./BorderBottom-1dc6f53e.js";import{S as M}from"./StaffHeader-88ef886a.js";import{S as Q}from"./StaffProfileAbout-597e447a.js";import{S as w}from"./StaffProfilePhoto-5f3299fe.js";import"./SendFilterStudentMessage-e0daf41f.js";import"./PopupWrapper-2578092d.js";import"./Overlay-c8100e0a.js";import"./Overlay.module-9133d1bb.js";import"./SearchModalWrapper-0fa3f9a3.js";import"./SearchModalBackdrop-c4f123e6.js";import"./SearchHeader.module-b69c8942.js";import"./FeesStructure.module-7a88fbbc.js";import"./JoinFormTextArea-394bf055.js";import"./JoinForm.module-212f9bb3.js";import"./Switch-4bb87998.js";import"./SwitchBase-e3c2ff35.js";import"./StaffProfileEachInfo-93b9140d.js";import"./ViewFileDialog-f7d48575.js";import"./student-api-05be0424.js";import"./StudentSubjectList-d5c4bef6.js";import"./BonafideReason-170cf76d.js";import"./JoinFormInput-82706177.js";import"./pdf-convertor-function-4fe9e778.js";import"./department-api-e4b13f05.js";import"./main.certificate.pdf.worker-fdc20546.js";import"./numberToWords.min-081ca735.js";import"./index-a0d1f014.js";import"./index-387d7a00.js";import"./admission-api-925391d9.js";import"./export-data-api-674b559b.js";const F="_StaffRequestContainer_15gr5_1",K="_requestBtn_15gr5_8",u={StaffRequestContainer:F,requestBtn:K},S=({staff:s,AcceptHandler:o,RejectHandler:p,disabled:a})=>{const{t:n}=L();return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:u.StaffRequestContainer,children:[r.jsx("div",{className:u.requestBtn,onClick:()=>{o(s==null?void 0:s._id,s==null?void 0:s.user._id)},children:n("accept")}),r.jsx("div",{className:u.requestBtn,onClick:()=>{p(s==null?void 0:s._id,s==null?void 0:s.user._id)},style:{backgroundColor:"rgba(75, 26, 133, 0.1)",color:"rgba(18, 18, 18, 0.8)"},children:n("reject")})]}),a&&r.jsx($,{})]})},Nt=({requestId:s,requestFetch:o,queryFetch:p,onClose:a})=>{var l,x,g,_,R,h,N,v;const[n,c]=k.useState(!1),d=y(e=>e.idChange.id),{oneStaffProfile:t,oneStaffProfileRefetch:j}=H({sid:s,skip:!s}),[q]=I(),[B]=O(),C=(e,m)=>{c(i=>!i),e&&m&&d&&q({id:d,sid:e,uid:m,status:"Approved"}).then(()=>{j(),o(),p(),a(),c(i=>!i)})},A=(e,m)=>{c(i=>!i),e&&m&&d&&B({id:d,sid:e,uid:m,status:"Rejected"}).then(()=>{j(),o(),p(),a(),c(i=>!i)})};return r.jsx(r.Fragment,{children:r.jsxs("div",{className:D.staff_profile_container,children:[r.jsx(M,{textLevel:"Staff Profile In Institute",onClose:a}),r.jsx(b,{}),r.jsx(w,{name:`${((l=t==null?void 0:t.staff)==null?void 0:l.staffFirstName)||""} ${(x=t==null?void 0:t.staff)!=null&&x.staffMiddleName?(g=t==null?void 0:t.staff)==null?void 0:g.staffMiddleName:""} ${((_=t==null?void 0:t.staff)==null?void 0:_.staffLastName)||""}`,designation:((R=t==null?void 0:t.staff)==null?void 0:R.staffDesignationCount)||0,indexNumber:((h=t==null?void 0:t.staff)==null?void 0:h.staffROLLNO)||"-",dynamicImage:((N=t==null?void 0:t.staff)==null?void 0:N.photoId)!=="1"?`${E}/${(v=t==null?void 0:t.staff)==null?void 0:v.staffProfilePhoto}`:"/images/ins_default_profile.svg",onEditable:!0}),r.jsx(b,{}),r.jsx(Q,{staff:t==null?void 0:t.staff}),r.jsx(S,{staff:t==null?void 0:t.staff,AcceptHandler:C,RejectHandler:A,disabled:n})]})})};export{Nt as default};
