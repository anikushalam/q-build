import{j as e,u as v,r as h}from"./index-0ca76035.js";import{B as f}from"./BorderBottom-1dc6f53e.js";import{f as p}from"./student-api-05be0424.js";const y="_staffAttendence_vhybn_1",x="_calendar_vhybn_9",N="_arrColors_vhybn_19",g="_colours_vhybn_27",C="_clr_vhybn_36",T="_present_vhybn_52",$="_absent_vhybn_57",D="_holiday_vhybn_62",E="_leave_vhybn_68",k="_percentage_vhybn_74",w="_presentcount_vhybn_78",O="_absentcount_vhybn_87",q="_monthColours_vhybn_108",F="_timeTableContainer_vhybn_128",R="_loader_vhybn_138",u="_noData_vhybn_148",z="_itemref_vhybn_156",G="_student_subject_container_vhybn_160",M="_student_subject_text_vhybn_182",W="_student_subject_container_active_vhybn_198",i={staffAttendence:y,calendar:x,arrColors:N,colours:g,clr:C,present:T,absent:$,holiday:D,leave:E,percentage:k,presentcount:w,absentcount:O,monthColours:q,timeTableContainer:F,loader:R,noData:u,itemref:z,student_subject_container:G,student_subject_text:M,student_subject_container_active:W},b=({subject:n,onFilterAttendance:c,active:o})=>{var l,_,s,a,r;return e.jsxs("div",{className:o?`${i.student_subject_container} ${i.student_subject_container_active}`:i.student_subject_container,title:"Select subject and see attandance",onClick:()=>c(n),children:[e.jsx("img",{src:"/images/book-24-icon.svg",alt:"subject icon"}),e.jsxs("div",{className:i.student_subject_text,children:[e.jsxs("h6",{children:[(n==null?void 0:n.subjectName)??""," ",n!=null&&n.subject_category?`(${n==null?void 0:n.subject_category})`:"",(l=n==null?void 0:n.selected_batch_query)!=null&&l.batchName?e.jsxs("span",{style:{fontWeight:"400",fontSize:"12px"},children:[" ","(",(_=n==null?void 0:n.selected_batch_query)==null?void 0:_.batchName,")"]}):null," ",(n==null?void 0:n.subjectOptional)==="Optional"&&`(${n==null?void 0:n.subjectOptional})`]}),e.jsx("p",{children:`${((s=n==null?void 0:n.subjectTeacherName)==null?void 0:s.staffFirstName)??""} ${((a=n==null?void 0:n.subjectTeacherName)==null?void 0:a.staffMiddleName)??""} ${((r=n==null?void 0:n.subjectTeacherName)==null?void 0:r.staffLastName)??""}`})]})]})},K=({sid:n,onFilterAttendance:c,filterAttendance:o})=>{var d,m;const{t:l}=v(),[_,s]=h.useState(!0),{getSubjectListByStudent:a,getSubjectListByStudentRefetch:r}=p({sid:n,skip:!n});return h.useEffect(()=>{n&&r()},[n,r]),h.useEffect(()=>{var t;a!=null&&a.subjects&&s(!1),((t=a==null?void 0:a.subjects)==null?void 0:t.length)===0&&s(!1)},[a==null?void 0:a.subjects]),e.jsxs(e.Fragment,{children:[e.jsx("p",{children:l("all_subjects")}),e.jsx(f,{customStyle:{marginTop:"-0.5rem",marginBottom:"0.5rem",width:"100%"}}),(d=a==null?void 0:a.subjects)==null?void 0:d.map(t=>e.jsx(b,{subject:t,active:(t==null?void 0:t._id)===(o==null?void 0:o._id),onFilterAttendance:c},t==null?void 0:t._id)),!((m=a==null?void 0:a.subjects)!=null&&m.length)&&!_&&e.jsx("p",{children:"No any subject yet"}),_&&e.jsx("p",{children:"Loading all subjects..."})]})};export{K as S,i as s};
