import{R as c,t as U,j as e,e as j}from"./index-731451a5.js";import{K as I}from"./post-api-f57ebb8f.js";import{i as w}from"./constant_value-4cd2b3e0.js";const y="_mainDiv_84x7j_1",D="_eachposthead_84x7j_6",P="_imgcontainer_84x7j_17",E="_iimg_84x7j_34",L="_eachpostUserName_84x7j_40",R="_eachpostUserTime_84x7j_55",t={mainDiv:y,eachposthead:D,imgcontainer:P,iimg:E,eachpostUserName:L,eachpostUserTime:R};function C({setOpen:x,postTagSearch:m,setPostTagSearch:p,taggedPeoplehandler:u}){const[n,_]=c.useState([]),[o,N]=c.useState(1),[l,r]=c.useState(!0),[v,h]=U(),{addSearchTagPeople:i,addSearchTagPeopleRefetch:f}=I({data:{viewAs:w,search:m,page:o,limit:10},skip:m===""});c.useEffect(()=>{h&&l&&N(s=>s+1)},[h,l]),c.useEffect(()=>{f()},[o,f,m]),c.useEffect(()=>{i!=null&&i.tagInstituteList&&_(i==null?void 0:i.tagInstituteList),(i==null?void 0:i.tagInstituteList.length)===10?r(!0):r(!1)},[i==null?void 0:i.tagInstituteList]);const d=s=>{const a={tagId:s._id,tagUserName:s.name,tagType:"Institute"};u(a),p(""),x(!1)};return e.jsx(e.Fragment,{children:n==null?void 0:n.map((s,a)=>(n==null?void 0:n.length)===a+1?e.jsx("div",{className:t.eachposthead,children:e.jsxs("div",{ref:v,onClick:()=>d(s),className:t.mainDiv,children:[e.jsx("div",{className:t.imgcontainer,children:e.jsx("img",{alt:"not found",src:s!=null&&s.insProfilePhoto?`${j}/${s==null?void 0:s.insProfilePhoto}`:"/images/ins_default_profile.svg",className:t.iimg})}),e.jsxs("div",{className:t.eachpostUserName,children:[e.jsx("h6",{children:s.name}),e.jsx("div",{className:t.eachpostUserTime,style:{display:"flex",gap:"0.5vw",alignItems:"center"},children:e.jsx("p",{children:s.insName})})]})]},a)}):e.jsx("div",{className:t.eachposthead,children:e.jsxs("div",{onClick:()=>d(s),className:t.mainDiv,children:[e.jsx("div",{className:t.imgcontainer,children:e.jsx("img",{alt:"not found",src:s!=null&&s.insProfilePhoto?`${j}/${s==null?void 0:s.insProfilePhoto}`:"/images/ins_default_profile.svg",className:t.iimg})}),e.jsxs("div",{className:t.eachpostUserName,children:[e.jsx("h6",{children:s.name}),e.jsx("div",{className:t.eachpostUserTime,style:{display:"flex",gap:"0.5vw",alignItems:"center"},children:e.jsx("p",{children:s.insName})})]})]},a)}))})}export{C as default};
