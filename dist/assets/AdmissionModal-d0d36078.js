import{g as k,r as h,k as D,u as O,c as $,j as l,D as F,e as E,Q,a_ as R}from"./index-731451a5.js";import q from"./AssignStaffModal-61be8e90.js";import{aK as w,u as I}from"./admission-api-56b87fde.js";import{D as K}from"./Divider-6278282f.js";import"./search-api-15f7f9f9.js";import"./AssignStaffModal.module-a60b32e1.js";const T="_financeModal_144z8_1",U="_financeModalhead_144z8_7",B="_financeModalbody_144z8_16",G="_financeModalfooter_144z8_19",J="_assignManager_144z8_23",V="_searchbar_144z8_29",W="_sidebarbottomitem_144z8_66",X="_namee_144z8_82",Y="_desig_144z8_93",Z="_items_144z8_104",S="_financebtn_144z8_113",H="_activebtn_144z8_125",o={financeModal:T,financeModalhead:U,financeModalbody:B,financeModalfooter:G,assignManager:J,searchbar:V,sidebarbottomitem:W,namee:X,desig:Y,items:Z,financebtn:S,activebtn:H};function ct({admissionModal:x,hideModal:e,edit:_,admissionManagerName:c,onParentRefetch:j}){const n=k(),[b,f]=h.useState(!1),[u,i]=h.useState(!1),[t,p]=h.useState(""),r=D(s=>s.idChange),[A]=w(),[z]=I(),{t:d}=O(),P=$(),L=()=>{i(!0),A({id:r.id,fActivate:{sid:t==null?void 0:t._id}}).then(s=>{var v;s.data.status&&(n(R.admissionQuery({aid:s.data.admission})),i(!1),P(`/q/${(v=r.loginProfile)==null?void 0:v.username}/admission`))})},C=()=>{t!=null&&t._id&&(c!=null&&c._id)?(i(!0),z({osid:c==null?void 0:c._id,nsid:t==null?void 0:t._id}).then(()=>{j(),i(!1),e()})):e()},y=s=>{p(s)};return l.jsxs(l.Fragment,{children:[!u&&l.jsx(F,{open:x,onClose:()=>e(!1),children:l.jsxs("div",{className:o.financeModal,children:[l.jsxs("div",{className:o.financeModalhead,children:[l.jsx("h6",{children:d(_?"edit_asmission_dept":"activete_admission_dept")}),l.jsx("img",{onClick:()=>e(!1),src:"/images/close-post-icon.svg",alt:""})]}),l.jsx(K,{}),l.jsxs("div",{className:o.financeModalbody,children:[!t&&!_&&l.jsx("img",{className:o.assignManager,onClick:()=>f(!0),src:"/images/admin/activate-admission.svg",alt:""}),(t||c)&&l.jsxs("div",{className:o.sidebarbottomitem,onClick:()=>f(!0),children:[l.jsx("img",{alt:"not found",src:t!=null&&t.staffProfilePhoto||c!=null&&c.staffProfilePhoto?`${E}/${t.staffProfilePhoto?t.staffProfilePhoto:c==null?void 0:c.staffProfilePhoto}`:"/images/member_tab/class/default_avatar.svg"}),l.jsxs("div",{children:[l.jsx("p",{className:o.namee,children:`${t!=null&&t.staffFirstName?t==null?void 0:t.staffFirstName:c==null?void 0:c.staffFirstName} 
                    ${t!=null&&t.staffMiddleName?t==null?void 0:t.staffMiddleName:t!=null&&t.staffFirstName?"":c!=null&&c.staffMiddleName?c==null?void 0:c.staffMiddleName:""}
                    ${t!=null&&t.staffLastName?t==null?void 0:t.staffLastName:c==null?void 0:c.staffLastName} `}),l.jsxs("p",{className:o.desig,children:["No."," ",t!=null&&t.staffROLLNO?t==null?void 0:t.staffROLLNO:c==null?void 0:c.staffROLLNO]})]})]})]}),l.jsxs("div",{className:o.financeModalfooter,children:[!_&&l.jsx("div",{className:o.activebtn,onClick:L,children:d("activate")}),_&&(t==null?void 0:t._id)&&l.jsx("div",{className:o.activebtn,onClick:C,children:d("update")})]})]})}),b&&l.jsx(q,{assignHead:b,headSelect:y,title:"Select Admission Admin",onClose:()=>f(s=>!s),disabledId:c==null?void 0:c._id}),u&&l.jsx(Q,{})]})}export{ct as default};
