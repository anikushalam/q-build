import{n as f,j as s,L as w,u as X,e as v,bo as A,c as Q,d as b,r as k}from"./index-0ca76035.js";import{d as o,j as ee}from"./library-api-cd2cf9e9.js";const Y=({carryParentState:e,activeTab:c,customStyle:n,children:i})=>{const h=f();return s.jsx(w,{to:`/q/${h.username}/member/library?a=${c}`,state:{...e},style:{...n},children:i})},se="_addbookcontainer_h65zg_1",ae="_addbooktop_h65zg_7",ie="_addbookbody_h65zg_31",te="_addbookbodyleft_h65zg_39",le="_addbookbodyright_h65zg_42",de="_bookItemImgContainer_h65zg_48",ce="_bookItemImg_h65zg_48",ne="_bookTitle_h65zg_65",he="_bookby_h65zg_87",re="_bookDetailsTop_h65zg_103",me="_booklang_h65zg_107",_e="_bookstatus_h65zg_118",pe="_bookstatusoffline_h65zg_129",je="_addbookbodybottom_h65zg_133",xe="_viewRow_h65zg_137",ge="_detailImg_h65zg_145",ve="_viewRowh6_h65zg_150",ue="_desh6_h65zg_160",Ne="_viewRowp_h65zg_170",we="_viewRowfull_h65zg_187",fe="_pdfdiv_h65zg_193",ye="_pdfh6_h65zg_206",$e="_pdfdivcontainer_h65zg_210",Re="_downloadbtn_h65zg_214",a={addbookcontainer:se,addbooktop:ae,addbookbody:ie,addbookbodyleft:te,addbookbodyright:le,bookItemImgContainer:de,bookItemImg:ce,bookTitle:ne,bookby:he,bookDetailsTop:re,booklang:me,bookstatus:_e,bookstatusoffline:pe,addbookbodybottom:je,viewRow:xe,detailImg:ge,viewRowh6:ve,desh6:ue,viewRowp:Ne,viewRowfull:we,pdfdiv:fe,pdfh6:ye,pdfdivcontainer:$e,downloadbtn:Re},Z=({carryParentState:e,activeTab:c,customStyle:n,children:i})=>{const h=f();return s.jsx(w,{to:`/q/${h.username}/library${c}`,state:{...e},style:n,children:i})};function Ie({book:e,onBackClick:c,status:n,onCollectBackClick:i,onStudentBackClick:h,carryParentState:l,pageOpenAs:m}){var r,g,_,p,j,x;const{t}=X();return s.jsx(s.Fragment,{children:n==="bookDetails"?s.jsxs("div",{className:a.addbookcontainer,children:[s.jsxs("div",{className:a.addbooktop,children:[s.jsx("img",{src:"/images/back.svg",onClick:c}),s.jsx("h6",{children:t("book_details")}),m==="INSTITUTE"?s.jsx(Z,{carryParentState:{...l,bid:e==null?void 0:e._id,book:e},activeTab:"?a=book&n=edit",children:s.jsx("img",{src:"/images/library/edit_.svg"})}):s.jsx(Y,{carryParentState:{...l,bid:e==null?void 0:e._id,book:e},activeTab:"book&n=edit",children:s.jsx("img",{src:"/images/library/edit_.svg"})})]}),s.jsxs("div",{className:a.addbookbody,children:[s.jsx("div",{className:a.addbookbodyright,children:s.jsx("div",{className:a.bookItemImgContainer,children:s.jsx("img",{className:a.bookItemImg,src:e!=null&&e.photo?`${v}/${e==null?void 0:e.photo}`:"/images/defaultBook.png"})})}),s.jsxs("div",{className:a.addbookbodyleft,children:[s.jsx("h3",{className:a.bookTitle,children:e==null?void 0:e.bookName}),s.jsxs("p",{className:a.bookby,children:[t("by_"),"  ",s.jsx("span",{children:e==null?void 0:e.author})]}),s.jsx("p",{className:a.booklang,children:e==null?void 0:e.language}),s.jsx("p",{className:(e==null?void 0:e.bookStatus)==="Online"?a.bookstatus:`${a.bookstatus} ${a.bookstatusoffline}`,children:e==null?void 0:e.bookStatus})]})]}),s.jsxs("div",{className:a.addbookbodybottom,children:[s.jsxs("div",{className:a.viewRow,children:[(e==null?void 0:e.publication)&&s.jsxs("div",{children:[s.jsx("p",{className:a.viewRowp,children:t("publication")}),s.jsxs("h6",{className:a.viewRowh6,children:[" ",e==null?void 0:e.publication]})]}),(e==null?void 0:e.totalPage)&&s.jsxs("div",{children:[s.jsx("p",{className:a.viewRowp,children:t("total_page")}),s.jsx("h6",{className:a.viewRowh6,children:e==null?void 0:e.totalPage})]}),(e==null?void 0:e.price)&&s.jsxs("div",{children:[s.jsx("p",{className:a.viewRowp,children:t("price")}),s.jsx("h6",{className:a.viewRowh6,children:e==null?void 0:e.price})]}),(e==null?void 0:e.totalCopies)&&(e==null?void 0:e.bookStatus)==="Offline"&&s.jsxs("div",{children:[s.jsx("p",{className:a.viewRowp,children:t("total_copies")}),s.jsxs("h6",{className:a.viewRowh6,children:[" ",e==null?void 0:e.totalCopies]})]}),(e==null?void 0:e.leftCopies)&&(e==null?void 0:e.bookStatus)==="Offline"&&s.jsxs("div",{children:[s.jsx("p",{className:a.viewRowp,children:t("leftCopies")}),s.jsx("h6",{className:a.viewRowh6,children:e==null?void 0:e.leftCopies})]}),(e==null?void 0:e.shellNumber)&&(e==null?void 0:e.bookStatus)==="Offline"&&s.jsxs("div",{children:[s.jsx("p",{className:a.viewRowp,children:t("shell_number")}),s.jsx("h6",{className:a.viewRowh6,children:e==null?void 0:e.shellNumber})]}),((r=e==null?void 0:e.attachment[0])==null?void 0:r.documentName)&&(e==null?void 0:e.bookStatus)==="Online"&&s.jsxs("div",{className:a.pdfdivcontainer,children:[s.jsx("p",{className:a.viewRowp,children:t("attachment")}),s.jsxs("div",{className:a.pdfdiv,children:[s.jsx("img",{src:"/images/chat/pdf-icon.svg",alt:""}),s.jsx("h6",{className:`${a.viewRowh6} ${a.pdfh6}`,children:`${(g=e==null?void 0:e.attachment[0])==null?void 0:g.documentName}`})]})]})]}),(e==null?void 0:e.description)&&s.jsxs("div",{className:a.viewRowfull,children:[s.jsx("p",{className:a.viewRowp,children:t("description")}),s.jsxs("h6",{className:a.desh6,children:[" ",e==null?void 0:e.description]})]}),(e==null?void 0:e.bookStatus)==="Online"&&((_=e==null?void 0:e.attachment)==null?void 0:_.length)>0&&s.jsx("a",{href:`${A}/${(p=e==null?void 0:e.attachment[0])==null?void 0:p.documentKey}`,target:"_blank",rel:"noopener noreferrer",children:s.jsx("div",{className:a.downloadbtn,children:t("view")})})]})]}):n==="student book details"?s.jsxs("div",{className:a.addbookcontainer,children:[s.jsxs("div",{className:a.addbooktop,children:[s.jsx("img",{src:"/images/back.svg",onClick:h}),s.jsx("h6",{children:t("book_details")}),s.jsx("div",{})]}),s.jsxs("div",{className:a.addbookbody,children:[s.jsx("div",{className:a.addbookbodyright,children:s.jsx("div",{className:a.bookItemImgContainer,children:s.jsx("img",{className:a.bookItemImg,src:(e==null?void 0:e.photoId)!=="1"?`${v}/${e==null?void 0:e.photo}`:"/images/defaultBook.png"})})}),s.jsxs("div",{className:a.addbookbodyleft,children:[s.jsx("h3",{className:a.bookTitle,children:e==null?void 0:e.bookName}),s.jsxs("p",{className:a.bookby,children:[t("by_"),"  ",s.jsx("span",{children:e==null?void 0:e.author})]}),s.jsx("p",{className:a.booklang,children:e==null?void 0:e.language}),s.jsx("p",{className:(e==null?void 0:e.bookStatus)==="Online"?a.bookstatus:`${a.bookstatus} ${a.bookstatusoffline}`,children:e==null?void 0:e.bookStatus})]})]}),s.jsxs("div",{className:a.addbookbodybottom,children:[s.jsxs("div",{className:a.viewRow,children:[(e==null?void 0:e.publication)&&s.jsxs("div",{children:[s.jsx("p",{className:a.viewRowp,children:t("publication")}),s.jsxs("h6",{className:a.viewRowh6,children:[" ",e==null?void 0:e.publication]})]}),(e==null?void 0:e.totalPage)&&s.jsxs("div",{children:[s.jsx("p",{className:a.viewRowp,children:t("total_page")}),s.jsx("h6",{className:a.viewRowh6,children:e==null?void 0:e.totalPage})]}),(e==null?void 0:e.price)&&s.jsxs("div",{children:[s.jsx("p",{className:a.viewRowp,children:t("price")}),s.jsx("h6",{className:a.viewRowh6,children:e==null?void 0:e.price})]}),(e==null?void 0:e.totalCopies)&&(e==null?void 0:e.bookStatus)==="Offline"&&s.jsxs("div",{children:[s.jsx("p",{className:a.viewRowp,children:t("total_copies")}),s.jsxs("h6",{className:a.viewRowh6,children:[" ",e==null?void 0:e.totalCopies]})]}),(e==null?void 0:e.leftCopies)&&(e==null?void 0:e.bookStatus)==="Offline"&&s.jsxs("div",{children:[s.jsx("p",{className:a.viewRowp,children:t("leftCopies")}),s.jsx("h6",{className:a.viewRowh6,children:e==null?void 0:e.leftCopies})]}),(e==null?void 0:e.shellNumber)&&(e==null?void 0:e.bookStatus)==="Offline"&&s.jsxs("div",{children:[s.jsx("p",{className:a.viewRowp,children:t("shell_number")}),s.jsx("h6",{className:a.viewRowh6,children:e==null?void 0:e.shellNumber})]}),((j=e==null?void 0:e.attachment[0])==null?void 0:j.documentName)&&(e==null?void 0:e.bookStatus)==="Online"&&s.jsxs("div",{className:a.pdfdivcontainer,children:[s.jsx("p",{className:a.viewRowp,children:t("attachment")}),s.jsxs("div",{className:a.pdfdiv,children:[s.jsx("img",{src:"/images/chat/pdf-icon.svg",alt:""}),s.jsx("h6",{className:`${a.viewRowh6} ${a.pdfh6}`,children:`${(x=e==null?void 0:e.attachment[0])==null?void 0:x.documentName}`})]})]})]}),(e==null?void 0:e.description)&&s.jsxs("div",{className:a.viewRowfull,children:[s.jsx("p",{className:a.viewRowp,children:t("description")}),s.jsxs("h6",{className:a.desh6,children:[" ",e==null?void 0:e.description]})]})]})]}):s.jsxs("div",{className:a.addbookcontainer,children:[s.jsxs("div",{className:a.addbooktop,children:[s.jsx("img",{src:"/images/back.svg",onClick:i}),s.jsx("h6",{children:t("book_details")}),s.jsx("div",{})]}),s.jsxs("div",{className:a.addbookbody,children:[s.jsx("div",{className:a.addbookbodyright,children:s.jsx("div",{className:a.bookItemImgContainer,children:s.jsx("img",{className:a.bookItemImg,src:(e==null?void 0:e.photoId)!=="1"&&(e==null?void 0:e.photo)!==""?`${v}/${e==null?void 0:e.photo}`:"/images/defaultBook.png"})})}),s.jsxs("div",{className:a.addbookbodyleft,children:[s.jsx("h3",{className:a.bookTitle,children:e==null?void 0:e.bookName}),s.jsxs("p",{className:a.bookby,children:[t("by_"),"  ",s.jsx("span",{children:e==null?void 0:e.author})]}),s.jsx("p",{className:a.booklang,children:e==null?void 0:e.language}),s.jsx("p",{className:(e==null?void 0:e.bookStatus)==="Online"?a.bookstatus:`${a.bookstatus} ${a.bookstatusoffline}`,children:e==null?void 0:e.bookStatus})]})]})]})})}function De({bookId:e,desig:c,carryParentState:n,pageOpenAs:i}){var p,j,x,u;const h=Q(),l=b(),{getBookDetail:m,getBookDetailRefetch:t}=o({bid:(p=l==null?void 0:l.state)==null?void 0:p.bid,skip:!((j=l==null?void 0:l.state)!=null&&j.bid)}),{getCollectedBookDetail:r,getCollectedBookDetailRefetch:g}=ee({cid:e,skip:!e});k.useEffect(()=>{var N;(N=l==null?void 0:l.state)!=null&&N.bid&&t(),e&&g()},[(x=l==null?void 0:l.state)==null?void 0:x.bid,e]);const _=()=>{h(-1)};return s.jsx(Ie,{status:r!=null&&r.collectedDetail?"collectBookDetails":c?"student book details":"bookDetails",book:m!=null&&m.book?m==null?void 0:m.book:(u=r==null?void 0:r.collectedDetail)==null?void 0:u.book,onBackClick:_,onCollectBackClick:_,onStudentBackClick:_,carryParentState:n,pageOpenAs:i})}const Se="_book_card_1gfyo_1",Ce="_book_header_1gfyo_12",Te="_book_header_inner_1gfyo_18",ze="_book_header_inner_text_1gfyo_29",d={book_card:Se,book_header:Ce,book_header_inner:Te,book_header_inner_text:ze},Oe=({carryParentState:e,activeTab:c,customStyleLink:n,children:i})=>{const h=f();return s.jsx(s.Fragment,{children:c===""?s.jsx(w,{to:`/q/${h.username}/member/student/class`,state:{...e},style:n,children:i}):s.jsx(w,{to:`/q/${h.username}/member/student/class?a=${c}`,state:{...e},style:n,children:i})})},Ee=({book:e,carryParentState:c,viewAs:n})=>{var h,l,m,t,r,g,_,p,j,x,u,N,y,$,R,I,S,C,T,z,O,B,L,D,E,P,U,q,F,G,K,H,J,M,V,W;const{t:i}=X();return s.jsx(s.Fragment,{children:n==="STUDENT"?s.jsx(Oe,{carryParentState:{...c,bid:e==null?void 0:e._id},activeTab:"library&n=books&n=detail",children:s.jsx("div",{className:d.book_card,children:s.jsxs("div",{className:d.book_header,children:[s.jsxs("div",{className:d.book_header_inner,style:{width:"60%"},children:[s.jsx("img",{src:e!=null&&e.photo?`${v}/${e==null?void 0:e.photo}`:"/images/defaultBook.png"}),s.jsxs("div",{className:d.book_header_inner_text,children:[s.jsxs("h6",{children:[i("book_name")," "," : ",((h=e==null?void 0:e.bookName)==null?void 0:h.length)>=50?`${(l=e==null?void 0:e.bookName)==null?void 0:l.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.bookName]}),s.jsxs("div",{children:[i("author_label")," "," : ",((m=e==null?void 0:e.author)==null?void 0:m.length)>=50?`${(t=e==null?void 0:e.author)==null?void 0:t.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.author," "]}),s.jsxs("div",{children:[i("subject_only")," "," : ",((r=e==null?void 0:e.subject)==null?void 0:r.length)>=50?`${(g=e==null?void 0:e.subject)==null?void 0:g.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.subject," "]}),s.jsxs("div",{children:[i("mode")," "," : ",s.jsx("span",{style:{color:(e==null?void 0:e.bookStatus)==="Online"?"#20b038":"#e95f28"},children:e==null?void 0:e.bookStatus})]}),s.jsxs("div",{children:[i("language")," "," : ",s.jsxs("span",{style:{color:"#f4900c"},children:[e==null?void 0:e.language," "]})]})]})]}),s.jsxs("div",{className:d.book_header_inner_text,style:{width:"40%"},children:[s.jsxs("h6",{children:[i("book_id")," "," : ",((_=e==null?void 0:e.book_id)==null?void 0:_.length)>=50?`${(p=e==null?void 0:e.book_id)==null?void 0:p.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.book_id]}),s.jsxs("div",{children:[i("publisher_place")," "," : ",((j=e==null?void 0:e.publisher_place)==null?void 0:j.length)>=50?`${(x=e==null?void 0:e.publisher_place)==null?void 0:x.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.publisher_place," "]}),s.jsxs("div",{children:[i("publisher_year")," "," : ",((u=e==null?void 0:e.publication_year)==null?void 0:u.length)>=50?`${(N=e==null?void 0:e.publication_year)==null?void 0:N.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.publication_year," "]}),s.jsxs("div",{children:[i("publication")," "," : ",e==null?void 0:e.publication]}),s.jsxs("div",{children:[i("price")," "," : ",(e==null?void 0:e.price)??0," "]})]})]})})}):n==="INSTITUTE"?s.jsx(Z,{carryParentState:{...c,bid:e==null?void 0:e._id},activeTab:"?a=book&n=detail",children:s.jsx("div",{className:d.book_card,children:s.jsxs("div",{className:d.book_header,children:[s.jsxs("div",{className:d.book_header_inner,style:{width:"60%"},children:[s.jsx("img",{src:e!=null&&e.photo?`${v}/${e==null?void 0:e.photo}`:"/images/defaultBook.png"}),s.jsxs("div",{className:d.book_header_inner_text,children:[s.jsxs("h6",{children:[i("book_name")," "," : ",((y=e==null?void 0:e.bookName)==null?void 0:y.length)>=50?`${($=e==null?void 0:e.bookName)==null?void 0:$.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.bookName]}),s.jsxs("div",{children:[i("author_label")," "," : ",((R=e==null?void 0:e.author)==null?void 0:R.length)>=50?`${(I=e==null?void 0:e.author)==null?void 0:I.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.author," "]}),s.jsxs("div",{children:[i("subject_only")," "," : ",((S=e==null?void 0:e.subject)==null?void 0:S.length)>=50?`${(C=e==null?void 0:e.subject)==null?void 0:C.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.subject," "]}),s.jsxs("div",{children:[i("mode")," "," : ",s.jsx("span",{style:{color:(e==null?void 0:e.bookStatus)==="Online"?"#20b038":"#e95f28"},children:e==null?void 0:e.bookStatus})]}),s.jsxs("div",{children:[i("language")," "," : ",s.jsxs("span",{style:{color:"#f4900c"},children:[e==null?void 0:e.language," "]})]})]})]}),s.jsxs("div",{className:d.book_header_inner_text,style:{width:"40%"},children:[s.jsxs("h6",{children:[i("book_id")," "," : ",((T=e==null?void 0:e.book_id)==null?void 0:T.length)>=50?`${(z=e==null?void 0:e.book_id)==null?void 0:z.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.book_id]}),s.jsxs("div",{children:[i("publisher_place")," "," : ",((O=e==null?void 0:e.publisher_place)==null?void 0:O.length)>=50?`${(B=e==null?void 0:e.publisher_place)==null?void 0:B.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.publisher_place," "]}),s.jsxs("div",{children:[i("publisher_year")," "," : ",((L=e==null?void 0:e.publication_year)==null?void 0:L.length)>=50?`${(D=e==null?void 0:e.publication_year)==null?void 0:D.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.publication_year," "]}),s.jsxs("div",{children:[i("publication")," "," : ",e==null?void 0:e.publication]}),s.jsxs("div",{children:[i("price")," "," : ",(e==null?void 0:e.price)??0," "]})]})]})})}):s.jsx(Y,{carryParentState:{...c,bid:e==null?void 0:e._id},activeTab:"book&n=detail",children:s.jsx("div",{className:d.book_card,children:s.jsxs("div",{className:d.book_header,children:[s.jsxs("div",{className:d.book_header_inner,style:{width:"60%"},children:[s.jsx("img",{src:e!=null&&e.photo?`${v}/${e==null?void 0:e.photo}`:"/images/defaultBook.png"}),s.jsxs("div",{className:d.book_header_inner_text,children:[s.jsxs("h6",{children:[i("book_name")," "," : ",((E=e==null?void 0:e.bookName)==null?void 0:E.length)>=50?`${(P=e==null?void 0:e.bookName)==null?void 0:P.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.bookName]}),s.jsxs("div",{children:[i("author_label")," "," : ",((U=e==null?void 0:e.author)==null?void 0:U.length)>=50?`${(q=e==null?void 0:e.author)==null?void 0:q.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.author," "]}),s.jsxs("div",{children:[i("subject_only")," "," : ",((F=e==null?void 0:e.subject)==null?void 0:F.length)>=50?`${(G=e==null?void 0:e.subject)==null?void 0:G.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.subject," "]}),s.jsxs("div",{children:[i("mode")," "," : ",s.jsx("span",{style:{color:(e==null?void 0:e.bookStatus)==="Online"?"#20b038":"#e95f28"},children:e==null?void 0:e.bookStatus})]}),s.jsxs("div",{children:[i("language")," "," : ",s.jsxs("span",{style:{color:"#f4900c"},children:[e==null?void 0:e.language," "]})]})]})]}),s.jsxs("div",{className:d.book_header_inner_text,style:{width:"40%"},children:[s.jsxs("h6",{children:[i("book_id")," "," : ",((K=e==null?void 0:e.book_id)==null?void 0:K.length)>=50?`${(H=e==null?void 0:e.book_id)==null?void 0:H.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.book_id]}),s.jsxs("div",{children:[i("publisher_place")," "," : ",((J=e==null?void 0:e.publisher_place)==null?void 0:J.length)>=50?`${(M=e==null?void 0:e.publisher_place)==null?void 0:M.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.publisher_place," "]}),s.jsxs("div",{children:[i("publisher_year")," "," : ",((V=e==null?void 0:e.publication_year)==null?void 0:V.length)>=50?`${(W=e==null?void 0:e.publication_year)==null?void 0:W.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.publication_year," "]}),s.jsxs("div",{children:[i("publication")," "," : ",e==null?void 0:e.publication]}),s.jsxs("div",{children:[i("price")," "," : ",(e==null?void 0:e.price)??0," "]})]})]})})})})};export{De as B,Z as I,Y as L,Oe as S,Ee as a};
