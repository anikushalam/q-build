import{u as O,j as e,k as I,r as d,z as q,Q as z,R as T,_ as U}from"./index-731451a5.js";import{n as A}from"./institute-staff-student-api-7f4890fe.js";import{L as Q}from"./LoaderButton-71df50a7.js";import{s as W}from"./pdf-convertor-function-e794de58.js";import{c as V}from"./main.certificate.pdf.worker-8bd77f87.js";import{C as g}from"./CustomSuspense-e90dc607.js";import J from"./CertificateModal-1da4fab7.js";const K="_complaints_pca29_1",X="_complaintList_pca29_8",Y="_complaintDetail_pca29_13",f={complaints:K,complaintList:X,complaintDetail:Y},Z="_complaintList_8fspm_1",ee="_certificate_8fspm_11",te="_active_8fspm_43",n={complaintList:Z,certificate:ee,active:te};function E({index:c,setIndex:r}){const{t:s}=O();return e.jsxs("div",{className:n.complaintList,children:[e.jsx("div",{className:c===0?`${n.certificate} ${n.active}`:n.certificate,onClick:()=>r(0),children:e.jsx("p",{children:s("bonafide")})}),e.jsx("div",{className:c===1?`${n.certificate} ${n.active}`:n.certificate,onClick:()=>r(1),children:e.jsx("p",{children:s("leaving")})}),e.jsx("div",{className:c===2?`${n.certificate} ${n.active}`:n.certificate,onClick:()=>r(2),children:e.jsx("p",{children:s("transfer_certificate")})}),e.jsx("div",{className:c===3?`${n.certificate} ${n.active}`:n.certificate,onClick:()=>r(3),children:e.jsx("p",{children:s("certificate_setting")})})]})}const se="_complaintDetails_9p9k2_1",ae="_detailsHeader_9p9k2_12",ie="_detailsBody_9p9k2_33",ce="_gr_9p9k2_37",ne="_getBtn_9p9k2_46",re="_details_9p9k2_12",oe="_details2_9p9k2_108",le="_downloadbtn_9p9k2_118",de="_disabled_9p9k2_155",_e="_errMsg_9p9k2_160",pe="_item_9p9k2_171",me="_options_9p9k2_186",he="_option_9p9k2_186",xe="_down_9p9k2_118",je="_up_9p9k2_217",fe="_selectPlayer_9p9k2_224",ue="_inputt_9p9k2_256",ge="_greyInk_9p9k2_277",be="_letter_head_container_9p9k2_287",o={complaintDetails:se,detailsHeader:ae,detailsBody:ie,gr:ce,getBtn:ne,details:re,details2:oe,downloadbtn:le,disabled:de,errMsg:_e,item:pe,options:me,option:he,down:xe,up:je,selectPlayer:fe,inputt:ue,greyInk:ge,letter_head_container:be},M=({instituteId:c,viewAs:r})=>{var D,L,B;const{t:s}=O(),l=I(i=>i.idChange.id),[_,p]=d.useState(!1),[x,m]=d.useState(!1),[t,j]=d.useState(""),[a,h]=d.useState({number:"",reason:"",message:""}),[R,H]=d.useState(""),[P]=A(),[y,w]=d.useState(!1),{oneInstituteProfile:k,oneInstituteProfileRefetch:v}=q({data:{id:c||l,type:"ID"},skip:r==="DESIGNATION_SIDE"?!c:!l});d.useEffect(()=>{c&&v()},[l,c,v]);const F=()=>{p(i=>!i),P({gr:a.number,id:c||l,bonafideReason:{reason:a.reason,student_bona_message:a.message}}).then(i=>{var u;j((u=i==null?void 0:i.data)==null?void 0:u.student),p(N=>!N)}).catch({})},G=i=>{const{institute:u,studentInfo:N}=W(k==null?void 0:k.institute,i,{reason:a.reason,message:a.message,authority:R,uniqueGr:a.number,letterHead:y}),S=new Worker(new URL(V,import.meta.url),{type:"module"});S.postMessage({printCertificateType:"BONAFIDE",studentInfo:N,institute:u}),S.onmessage=$=>{$&&(window.open(URL.createObjectURL($.data),"_blank"),m(!1))}},C=()=>{w(i=>!i)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:o.complaintDetails,children:[e.jsx("div",{className:o.detailsHeader,children:s("bonafide")}),e.jsxs("div",{className:o.detailsBody,children:[e.jsx("div",{className:o.gr,children:e.jsx("input",{type:"tel",placeholder:s("enter_gr"),onChange:i=>h({...a,number:i.target.value}),required:!0})}),e.jsx("div",{className:o.gr,children:e.jsx("input",{type:"text",maxLength:"75",placeholder:s("enter_reason"),onChange:i=>h({...a,reason:i.target.value}),required:!0})}),e.jsx("div",{className:o.gr,children:e.jsx("input",{type:"text",maxLength:"75",placeholder:s("bonafide_message_optional"),onChange:i=>h({...a,message:i.target.value})})}),e.jsx("div",{className:o.gr,children:e.jsx("input",{type:"text",maxLength:"75",placeholder:s("competent_authority"),onChange:i=>H(i.target.value)})}),a.number!==""&&a.reason!==""&&e.jsxs("button",{type:"submit",disabled:_,className:o.getBtn,onClick:F,children:[e.jsx("p",{children:s("submit")}),_&&e.jsx(Q,{})]}),(t==null?void 0:t.studentFirstName)&&e.jsxs("div",{className:o.details,children:[e.jsxs("p",{children:[s("name")," : ",t==null?void 0:t.studentFirstName," ",t!=null&&t.studentMiddleName?t==null?void 0:t.studentMiddleName:""," ",t==null?void 0:t.studentLastName," "]}),e.jsxs("p",{children:[" ",s("dob"),": ",t==null?void 0:t.studentDOB]}),e.jsxs("p",{children:[s("batch")," :"," ",(D=t==null?void 0:t.batches)!=null&&D.batchName?(L=t==null?void 0:t.batches)==null?void 0:L.batchName:"N/A"]}),e.jsxs("p",{children:[" ",s("Class"),": ",(B=t==null?void 0:t.studentClass)==null?void 0:B.className]}),e.jsxs("section",{className:o.letter_head_container,children:[y?e.jsx("img",{src:"/images/checkbox-icon.svg",alt:"icon",onClick:C}):e.jsx("img",{src:"/images/box-icon.svg",alt:"icon",onClick:C}),e.jsx("h6",{children:s("printing_on_letter_head")})]}),t!=null&&t.studentFirstName?e.jsx("div",{className:o.downloadbtn,onClick:()=>{m(!0),G(t)},children:s("download_certificate")}):""]})]})]}),x&&e.jsx(z,{})]})},b=T.lazy(()=>U(()=>import("./Leaving-dd8e811b.js"),["assets/Leaving-dd8e811b.js","assets/index-731451a5.js","assets/index-4d24e8f6.css","assets/CustomSuspense-e90dc607.js","assets/institute-staff-student-api-7f4890fe.js","assets/LoaderButton-71df50a7.js","assets/LoaderButton-43b48c5c.css","assets/pdf-convertor-function-e794de58.js","assets/main.certificate.pdf.worker-8bd77f87.js","assets/numberToWords.min-dbca819b.js","assets/CertificateModal-1da4fab7.js","assets/JoinFormFileEdit-e41481d6.js","assets/JoinForm.module-212f9bb3.js","assets/JoinForm-e988a09c.css","assets/ViewFileDialog-0c131c06.js","assets/Overlay-07ce6f88.js","assets/Overlay.module-9133d1bb.js","assets/Overlay-6f7772cd.css","assets/SearchModalBackdrop-5b309d60.js","assets/SearchHeader.module-b69c8942.js","assets/SearchHeader-d07f850c.css","assets/PopupWrapper-ffbaef7a.js","assets/SearchModalWrapper-6e85c9f3.js","assets/StringLength-222a9fd1.js","assets/StringLength.module-75a6e080.js","assets/StringLength-7b1d3ded.css","assets/JoinFormInput-8e74a0e0.js","assets/CertificateModal-dc584326.css"]));function ke({leavingform:c,setLeavingForm:r,student:s,setStudent:l,download:_,setDownload:p,toggle:x,setToggle:m,viewAs:t,instituteId:j}){const[a,h]=d.useState(0);return e.jsxs(e.Fragment,{children:[t==="DESIGNATION_SIDE"?e.jsxs("div",{className:f.complaints,style:{width:"100%"},children:[e.jsx("div",{className:f.complaintList,style:{width:"50%"},children:e.jsx(E,{index:a,setIndex:h})}),e.jsxs("div",{className:f.complaintDetail,style:{width:"50%"},children:[a===0&&e.jsx(M,{viewAs:t,instituteId:j}),a===1&&e.jsx(g,{children:e.jsx(b,{leavingform:c,setLeavingForm:r,student:s,setStudent:l,download:_,setDownload:p,toggle:x,setToggle:m,status:"leaving",viewAs:t,instituteId:j})}),a===2&&e.jsx(g,{children:e.jsx(b,{leavingform:c,setLeavingForm:r,student:s,setStudent:l,download:_,setDownload:p,toggle:x,setToggle:m,status:"transfer",viewAs:t,instituteId:j})})]})]}):e.jsxs("div",{className:f.complaints,children:[e.jsx("div",{className:f.complaintList,children:e.jsx(E,{index:a,setIndex:h})}),e.jsxs("div",{className:f.complaintDetail,children:[a===0&&e.jsx(M,{}),a===1&&e.jsx(g,{children:e.jsx(b,{leavingform:c,setLeavingForm:r,student:s,setStudent:l,download:_,setDownload:p,toggle:x,setToggle:m,status:"leaving"})}),a===2&&e.jsx(g,{children:e.jsx(b,{leavingform:c,setLeavingForm:r,student:s,setStudent:l,download:_,setDownload:p,toggle:x,setToggle:m,status:"transfer"})})]})]}),a===3&&e.jsx(J,{addDisplay:a===3,hideModal:()=>h(0),instituteId:j,viewAs:t})]})}const Se=Object.freeze(Object.defineProperty({__proto__:null,default:ke},Symbol.toStringTag,{value:"Module"}));export{Se as C,o as s};
