import{c as Ks,n as qs,r as C,W as Ls,u as zs,ln as is,aL as se,j as r,e as ee,D as te,C as re,N as de,Q as ue,R as ss,_ as es,d as me,g as he,k as pe,w as ne,A as _e}from"./index-731451a5.js";import{C as ts}from"./CustomSuspense-e90dc607.js";import{B as K}from"./BorderBottom-47800983.js";import{s as j}from"./JoinForm.module-212f9bb3.js";import{J as U}from"./JoinFormInput-8e74a0e0.js";import{J as i}from"./JoinFormSelect-a3c930fc.js";import{s as fe,a as Se,b as Ne,d as je,e as ye,f as ae,g as Ce,h as Pe,j as ke,k as ve,l as Ae,o as we,p as De,q as Te,t as Ie}from"./constant_value-4cd2b3e0.js";import{J as Ee}from"./JoinFormCalender-5158d888.js";import{J as Be}from"./JoinFormTextArea-7f6dded0.js";import{F as Oe}from"./FormCheckbox-3a5ba026.js";import{J as Js}from"./JoinFormFile-110be590.js";import{B as Me}from"./ButtonWithTypeSubmit-71da32d7.js";import{w as Re}from"./timeComparison-f15c3247.js";import{i as Ve,j as Ue}from"./class-api-ec8ace00.js";import"./DatePicker-305f3dc6.js";import"./UniversalForm.module-19614663.js";import"./FormControlLabel-1c6af80c.js";import"./SwitchBase-2ba5f868.js";import"./Checkbox-1498c124.js";import"./LoaderButton-71df50a7.js";const He=({location:s})=>{var hs,ps,ns,_s,fs,Ss,Ns,js,ys,as,Cs,Ps,ks,vs,As,ws,Ds,Ts,Is,Es,Bs,Os,Ms,Rs,Vs,Us,Hs,$s;const T=Ks(),b=qs(),[q,G]=C.useState(""),[P,I]=C.useState({}),[w,a]=C.useState([]),[H,J]=C.useState({studentFirstName:((hs=s==null?void 0:s.student)==null?void 0:hs.studentFirstName)??"",studentMiddleName:((ps=s==null?void 0:s.student)==null?void 0:ps.studentMiddleName)??"",studentLastName:((ns=s==null?void 0:s.student)==null?void 0:ns.studentLastName)??"",studentDOB:((_s=s==null?void 0:s.student)==null?void 0:_s.studentDOB)??"",studentGender:((fs=s==null?void 0:s.student)==null?void 0:fs.studentGender)??"",studentMotherName:((Ss=s==null?void 0:s.student)==null?void 0:Ss.studentMotherName)??""}),[z,x]=C.useState([]),[E,B]=C.useState({}),[Y,X]=C.useState(!1),[Z,Q]=C.useState(""),[c,F]=C.useState(!1),[o,g]=C.useState(""),[L,l]=C.useState(""),[R,rs]=C.useState({msg:"",run:!1}),[k,Qs]=C.useState({}),[Ws,$]=C.useState(""),[Ys]=Ls(),{t:u}=zs(),[Xs]=Ve(),[Zs]=Ue(),{instituteStudentForm:p,instituteStudentFormRefetch:ds}=is({id:(js=(Ns=s==null?void 0:s.student)==null?void 0:Ns.institute)==null?void 0:js._id,skip:!((as=(ys=s==null?void 0:s.student)==null?void 0:ys.institute)!=null&&as._id)}),{data:W,refetch:cs}=se((Cs=s==null?void 0:s.student)==null?void 0:Cs._id,{skip:!((Ps=s==null?void 0:s.student)!=null&&Ps._id)});C.useEffect(()=>{var t,e;(e=(t=s==null?void 0:s.student)==null?void 0:t.institute)!=null&&e._id&&ds()},[ds,(vs=(ks=s==null?void 0:s.student)==null?void 0:ks.institute)==null?void 0:vs._id]),C.useEffect(()=>{var t,e,m,h,d,D,y,_,v;J({studentFirstName:((t=s==null?void 0:s.student)==null?void 0:t.studentFirstName)??"",studentMiddleName:((e=s==null?void 0:s.student)==null?void 0:e.studentMiddleName)??"",studentLastName:((m=s==null?void 0:s.student)==null?void 0:m.studentLastName)??"",studentDOB:((h=s==null?void 0:s.student)==null?void 0:h.studentDOB)??"",studentGender:((d=s==null?void 0:s.student)==null?void 0:d.studentGender)??"",studentMotherName:((D=s==null?void 0:s.student)==null?void 0:D.studentMotherName)??""}),G(`${((y=s==null?void 0:s.student)==null?void 0:y.studentFirstName)??""} ${((_=s==null?void 0:s.student)==null?void 0:_.studentMiddleName)??""} ${((v=s==null?void 0:s.student)==null?void 0:v.studentLastName)??""}`)},[s==null?void 0:s.student]),C.useEffect(()=>{var t,e,m,h,d,D,y,_;if(p!=null&&p.studentFormSetting){const v=[];for(let O in p.studentFormSetting)if(O==="previousSchoolAndDocument"){let A=(t=p==null?void 0:p.studentFormSetting)==null?void 0:t.previousSchoolAndDocument,S=[];for(let f in A)if(A[f])if(f==="aadharCard")B(N=>{var n,M;return{...N,addharFrontCard:((n=s==null?void 0:s.student)==null?void 0:n.addharFrontCard)??"",addharBackCard:((M=s==null?void 0:s.student)==null?void 0:M.addharBackCard)??""}}),S.push("addharFrontCard","addharBackCard");else if(f==="previousSchoolDocument")B(N=>{var n;return{...N,studentPreviousSchool:((n=s==null?void 0:s.student)==null?void 0:n.studentPreviousSchool)??"",previousSchoolDocument:""}}),S.push("previousSchoolDocument","studentPreviousSchool");else if(f==="casteCertificate")B(N=>{var n;return{...N,[f]:((n=s==null?void 0:s.student)==null?void 0:n.studentCasteCertificatePhoto)??""}}),S.push(f);else{let N="";for(let n of(e=s==null?void 0:s.student)==null?void 0:e.studentDocuments)if(f===(n==null?void 0:n.documentName)){N=n==null?void 0:n.documentKey;break}B(n=>({...n,[f]:N})),S.push(f)}x([...S])}else p.studentFormSetting[O]&&(O==="otherPersonalInfo"?(I(A=>{var S,f,N,n,M,Gs;return{...A,studentBirthPlace:((S=s==null?void 0:s.student)==null?void 0:S.studentBirthPlace)??"",studentPhoneNumber:((f=s==null?void 0:s.student)==null?void 0:f.studentPhoneNumber)??"",studentFatherRationCardColor:((N=s==null?void 0:s.student)==null?void 0:N.studentFatherRationCardColor)??"",studentAadharNumber:((n=s==null?void 0:s.student)==null?void 0:n.studentAadharNumber)??"",studentEmail:((M=s==null?void 0:s.student)==null?void 0:M.studentEmail)??"",student_blood_group:((Gs=s==null?void 0:s.student)==null?void 0:Gs.student_blood_group)??""}}),v.push(...(m=fe)==null?void 0:m.keys)):O==="identityDetails"?(I(A=>{var S,f,N,n,M;return{...A,studentNationality:((S=s==null?void 0:s.student)==null?void 0:S.studentNationality)??"",studentReligion:((f=s==null?void 0:s.student)==null?void 0:f.studentReligion)??"",studentCast:((N=s==null?void 0:s.student)==null?void 0:N.studentCast)??"",studentCastCategory:((n=s==null?void 0:s.student)==null?void 0:n.studentCastCategory)??"",studentMTongue:((M=s==null?void 0:s.student)==null?void 0:M.studentMTongue)??""}}),v.push(...(h=Se)==null?void 0:h.keys)):O==="addressInfo"?(I(A=>{var S,f,N,n;return{...A,studentCurrentAddress:((S=s==null?void 0:s.student)==null?void 0:S.studentCurrentAddress)??"",studentCurrentPincode:((f=s==null?void 0:s.student)==null?void 0:f.studentCurrentPincode)??"",studentAddress:((N=s==null?void 0:s.student)==null?void 0:N.studentAddress)??"",studentPincode:((n=s==null?void 0:s.student)==null?void 0:n.studentPincode)??""}}),v.push(...(d=Ne)==null?void 0:d.keys)):O==="parentsInfo"?(I(A=>{var S,f,N,n;return{...A,studentParentsName:((S=s==null?void 0:s.student)==null?void 0:S.studentParentsName)??"",studentParentsPhoneNumber:((f=s==null?void 0:s.student)==null?void 0:f.studentParentsPhoneNumber)??"",studentParentsOccupation:((N=s==null?void 0:s.student)==null?void 0:N.studentParentsOccupation)??"",studentParentsAnnualIncom:((n=s==null?void 0:s.student)==null?void 0:n.studentParentsAnnualIncom)??""}}),v.push(...(D=je)==null?void 0:D.keys)):O==="bankDetails"?(I(A=>{var S,f,N,n,M;return{...A,studentBankName:((S=s==null?void 0:s.student)==null?void 0:S.studentBankName)??"",studentBankAccountHolderName:((f=s==null?void 0:s.student)==null?void 0:f.studentBankAccountHolderName)??"",studentBankAccount:((N=s==null?void 0:s.student)==null?void 0:N.studentBankAccount)??"",studentBankIfsc:((n=s==null?void 0:s.student)==null?void 0:n.studentBankIfsc)??"",bankPassbook:((M=s==null?void 0:s.student)==null?void 0:M.bankPassbook)??""}}),v.push(...(y=ye)==null?void 0:y.keys)):O==="enrollmentPrn"&&(I(A=>{var S;return{...A,student_prn_enroll_number:((S=s==null?void 0:s.student)==null?void 0:S.student_prn_enroll_number)??""}}),v.push(...(_=ae)==null?void 0:_.keys)));a([...v])}},[p==null?void 0:p.studentFormSetting,s==null?void 0:s.student]),C.useEffect(()=>{if(q){const t=q.split(" ");t.length>=3?J(e=>({...e,studentFirstName:t[0],studentMiddleName:t[1],studentLastName:t.slice(2).toString().replaceAll(","," ")})):J(e=>({...e,studentFirstName:t[0],studentMiddleName:"",studentLastName:t[1]===void 0?"":t[1]}))}},[q]);const Fs=t=>{const e=URL.createObjectURL(t.target.files[0]);Q(t.target.files[0]),g(e),l(e),F(!0)};C.useEffect(()=>{var t;if(Y){$(m=>!m);let e=new FormData;e.append("file",Z),Zs({profile:e,sid:(t=s==null?void 0:s.student)==null?void 0:t._id}).then(()=>{$(m=>!m)}).catch({})}},[Y,Z]);const os=(t,e,m)=>{const h={};e.studentBankAccount&&e.studentBankAccount!==e.studentBankReAccount&&(h.studentBankReAccount=`${u("form_account_dose_not_match_label")}`);for(let d in t)d==="studentMiddleName"||t[d]||(h[d]=`${d} is required!`);for(let d in e)d==="studentPhoneNumber"||d==="studentEmail"||d==="studentFatherRationCardColor"||d==="student_blood_group"||e[d]||(h[d]=`${d} is required!`);return h},us=t=>{J(e=>({...e,[t.target.name]:t.target.value}))},V=t=>{I(e=>({...e,[t.target.name]:t.target.value}))},gs=t=>{t.target.name==="previousSchoolDocument"?t.target.value?B(e=>({...e,[t.target.name]:t.target.value,studentPreviousSchool:"No"})):B(e=>({...e,[t.target.name]:t.target.value,studentPreviousSchool:""})):t.target.name==="studentPreviousSchool"?B(e=>({...e,[t.target.name]:t.target.value})):B(e=>({...e,[t.target.name]:t.target.files[0]}))},ls=t=>{t.target.checked?I(e=>({...e,asSameAddress:t.target.checked,studentAddress:e.studentCurrentAddress,studentPincode:e.studentCurrentPincode})):I(e=>({...e,asSameAddress:t.target.checked,studentAddress:"",studentPincode:""}))},ms=t=>{if(t.target.files[0]){$(m=>!m);const e=new FormData;e.append("file",t.target.files[0]),Ys({fileUpload:e}).then(m=>{var h,d;t.target.name==="file"?(X(!1),Q({name:t.target.name,key:(h=m.data)==null?void 0:h.imageKey,type:(d=t.target.files[0])==null?void 0:d.type})):t.target.name==="bankPassbook"?I(D=>{var y,_,v;return{...D,[t.target.name]:{originalName:(y=t.target.files[0])==null?void 0:y.name,name:t.target.name,key:(_=m.data)==null?void 0:_.imageKey,type:(v=t.target.files[0])==null?void 0:v.type}}}):B(D=>{var y,_,v;return{...D,[t.target.name]:{originalName:(y=t.target.files[0])==null?void 0:y.name,name:t.target.name,key:(_=m.data)==null?void 0:_.imageKey,type:(v=t.target.files[0])==null?void 0:v.type}}}),$(D=>!D)}).catch({})}},bs=t=>{var e;if(!((e=s==null?void 0:s.student)!=null&&e.studentDOB))if(Re(t)){let h=t==null?void 0:t.split("/"),d=`${h[2]}-${h[1]}-${h[0]}`;J(D=>({...D,studentDOB:d}))}else rs({msg:`You cannot select upcoming date ${t}`,run:!0})},xs=t=>{var h,d,D;t.preventDefault();const e=os(H,P);let m=!1;for(let y in e){m=!0;break}if(m)Qs(e);else if($(y=>!y),(h=s==null?void 0:s.student)!=null&&h._id){const y={student:{},fileArray:[]};for(let _ in E)Ie.includes(_)?(d=E[_])!=null&&d.originalName&&y.fileArray.push(E[_]):y.student[_]=E[_];for(let _ in P)y.student[_]=P[_];for(let _ in H)y.student[_]=H[_];Xs({sid:(D=s==null?void 0:s.student)==null?void 0:D._id,editProfile:y}).then(()=>{var _,v,O;(s==null?void 0:s.type)==="READMISSION"?($(A=>!A),T(`/q/${b.username}/student/profile/admission`,{state:{sid:(_=s==null?void 0:s.student)==null?void 0:_._id,viewAs:"STUDENT",instituteId:(O=(v=s==null?void 0:s.student)==null?void 0:v.institute)==null?void 0:O._id}})):(cs(),$(A=>!A),T(-1))}).catch({})}else $(y=>!y)};return r.jsxs(r.Fragment,{children:[r.jsxs("form",{onSubmit:xs,children:[r.jsxs("div",{className:j.form_container,children:[r.jsxs("h4",{children:[u("form_personal_info_label"),":"]}),r.jsxs("div",{className:j.form_container_profile,children:[r.jsx(U,{labelText:u("form_name_label"),placeholder:u("form_name_placeholder"),name:"fullname",value:q,type:"text",customStyleContainer:(As=p==null?void 0:p.studentFormSetting)!=null&&As.enrollmentPrn?{width:"56%"}:{width:"86%"},errorShow:k.studentFirstName||k.studentLastName,disabled:!0}),((ws=p==null?void 0:p.studentFormSetting)==null?void 0:ws.enrollmentPrn)&&r.jsx(U,{labelText:u("form_prn_enr_student_label"),placeholder:u("form_prn_enr_placeholder"),name:"prn",value:P==null?void 0:P.student_prn_enroll_number,type:"text",onChange:t=>I(e=>({...e,student_prn_enroll_number:t.target.value})),customStyleContainer:{width:"30%"},errorShow:k.student_prn_enroll_number,disabled:(Ds=s==null?void 0:s.student)==null?void 0:Ds.student_prn_enroll_number}),r.jsxs("div",{className:j.form_container_profile_image,children:[r.jsxs("label",{htmlFor:"profile",className:j.form_container_profile_image_label,children:[o?r.jsx("img",{src:o,alt:"profile is not uploaded",className:j.form_container_profile_photo}):r.jsx("img",{src:(Ts=W==null?void 0:W.student)!=null&&Ts.studentProfilePhoto?`${ee}/${(Is=W==null?void 0:W.student)==null?void 0:Is.studentProfilePhoto}`:"/images/member_tab/class/default_avatar.svg",alt:"profile is not uploaded",className:j.form_container_profile_photo}),r.jsx("img",{src:"/images/user-pencil-edit-transparent.svg",alt:"edit icon",className:j.form_edit_icon})]}),r.jsx("input",{type:"file",name:"file",id:"profile",onChange:Fs,accept:"image/gif, image/jpeg, image/png",style:{display:"none"}})]})]}),r.jsxs("div",{className:j.form_profile_info,children:[r.jsx(i,{selectLabel:u("form_gender_label"),selectedValue:u("form_gender_placeholder"),value:H.studentGender,name:"studentGender",onChange:us,options:Ce,optionsValue:Pe,errorShow:k.studentGender,disabled:(Es=s==null?void 0:s.student)==null?void 0:Es.studentGender}),r.jsx(Ee,{labelText:u("form_date_of_birth_label"),placeholder:u("form_date_of_birth_placeholder"),name:"studentDOB",value:H.studentDOB,onDateFunction:bs,errorShow:k.studentDOB,customStyleContainer:{position:"relative"}}),r.jsx(U,{labelText:u("form_mother_name_label"),placeholder:u("form_mother_name_placeholder"),name:"studentMotherName",value:H.studentMotherName,type:"text",onChange:us,errorShow:k.studentMotherName,disabled:(Bs=s==null?void 0:s.student)==null?void 0:Bs.studentMotherName})]}),r.jsx(K,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}}),((Os=p==null?void 0:p.studentFormSetting)==null?void 0:Os.otherPersonalInfo)&&r.jsxs(r.Fragment,{children:[r.jsxs("h4",{children:[u("form_other_personal_info_label"),":"]}),r.jsx("div",{className:j.form_other_field,children:w==null?void 0:w.map(t=>ke.map(e=>{var m,h,d;return((m=e==null?void 0:e.lists)==null?void 0:m.includes(t))&&(e!=null&&e.type?r.jsx(i,{selectLabel:u(e==null?void 0:e.label),selectedValue:u(e==null?void 0:e.placeHolder),value:P[t],name:t,onChange:V,options:e==null?void 0:e.chooseOptions,optionsValue:e==null?void 0:e.chooseOptionsValue,customStyleContainer:{width:"49.5%"},errorShow:k[t],disabled:(h=s==null?void 0:s.student)==null?void 0:h[t]},e==null?void 0:e.id):r.jsx(U,{labelText:u(e==null?void 0:e.label),placeholder:u(e==null?void 0:e.placeHolder),name:t,value:P[t],type:["studentPhoneNumber","studentAadharNumber"].includes(t)?"tel":"text",inputLength:t==="studentPhoneNumber"?10:12,onChange:V,customStyleContainer:{width:"49.5%"},errorShow:k[t],disabled:(d=s==null?void 0:s.student)==null?void 0:d[t]},e==null?void 0:e.id))}))}),r.jsx(K,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),((Ms=p==null?void 0:p.studentFormSetting)==null?void 0:Ms.identityDetails)&&r.jsxs(r.Fragment,{children:[r.jsxs("h4",{children:[u("form_identity_details_label"),":"]}),r.jsx("div",{className:j.form_other_field,children:w==null?void 0:w.map(t=>ve.map(e=>{var m,h,d;return((m=e==null?void 0:e.lists)==null?void 0:m.includes(t))&&(e!=null&&e.type?r.jsx(i,{selectLabel:u(e==null?void 0:e.label),selectedValue:u(e==null?void 0:e.placeHolder),value:P[t],onChange:V,options:e==null?void 0:e.chooseOptions,optionsValue:e==null?void 0:e.chooseOptionsValue,name:t,customStyleContainer:{width:"49.5%"},errorShow:k[t],disabled:(h=s==null?void 0:s.student)==null?void 0:h[t]},e==null?void 0:e.id):r.jsx(U,{labelText:u(e==null?void 0:e.label),placeholder:u(e==null?void 0:e.placeHolder),name:t,value:P[t],type:"text",onChange:V,customStyleContainer:{width:"49.5%"},errorShow:k[t],disabled:(d=s==null?void 0:s.student)==null?void 0:d[t]},e==null?void 0:e.id))}))}),r.jsx(K,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),((Rs=p==null?void 0:p.studentFormSetting)==null?void 0:Rs.addressInfo)&&r.jsxs(r.Fragment,{children:[r.jsxs("h4",{children:[u("form_address_info_label"),":"]}),r.jsx("div",{className:j.form_other_field,children:w==null?void 0:w.map(t=>Ae.map(e=>{var m,h,d;return((m=e==null?void 0:e.lists)==null?void 0:m.includes(t))&&(e!=null&&e.type?r.jsx(Be,{labelText:u(e==null?void 0:e.label),placeholder:u(e==null?void 0:e.placeHolder),name:t,value:P[t],type:"text",onChange:V,customStyleContainer:{width:"49.5%"},errorShow:k[t],disabled:(h=s==null?void 0:s.student)==null?void 0:h[t]},e==null?void 0:e.id):e!=null&&e.checkbox?r.jsx(Oe,{checkLabel:u(e==null?void 0:e.label),checkedValue:P.asSameAddress,onCheckboxAction:ls,customStyle:{display:"block",width:"100%",marginLeft:"0"}},e==null?void 0:e.id):r.jsx(U,{labelText:u(e==null?void 0:e.label),placeholder:u(e==null?void 0:e.placeHolder),name:t,value:P[t],type:["studentCurrentPincode","studentPincode"].includes(t)?"tel":"text",inputLength:6,onChange:V,customStyleContainer:{width:"49.5%"},errorShow:k[t],disabled:(d=s==null?void 0:s.student)==null?void 0:d[t]},e==null?void 0:e.id))}))}),r.jsx(K,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),((Vs=p==null?void 0:p.studentFormSetting)==null?void 0:Vs.parentsInfo)&&r.jsxs(r.Fragment,{children:[r.jsxs("h4",{children:[u("form_parent_guardian_info_label"),":"]}),r.jsx("div",{className:j.form_other_field,children:w==null?void 0:w.map(t=>we.map(e=>{var m,h,d;return((m=e==null?void 0:e.lists)==null?void 0:m.includes(t))&&(e!=null&&e.type?r.jsx(i,{selectLabel:u(e==null?void 0:e.label),selectedValue:u(e==null?void 0:e.placeHolder),value:P[t],onChange:V,options:e==null?void 0:e.chooseOptions,optionsValue:e==null?void 0:e.chooseOptionsValue,name:t,customStyleContainer:{width:"49.5%"},errorShow:k[t],disabled:(h=s==null?void 0:s.student)==null?void 0:h[t]},e==null?void 0:e.id):r.jsx(U,{labelText:u(e==null?void 0:e.label),placeholder:u(e==null?void 0:e.placeHolder),name:t,value:P[t],type:["studentParentsPhoneNumber"].includes(t)?"tel":"text",inputLength:t==="studentParentsPhoneNumber"?10:30,onChange:V,customStyleContainer:{width:"49.5%"},disabled:(d=s==null?void 0:s.student)==null?void 0:d[t],errorShow:k[t]},e==null?void 0:e.id))}))}),r.jsx(K,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),((Hs=(Us=p==null?void 0:p.studentFormSetting)==null?void 0:Us.previousSchoolAndDocument)==null?void 0:Hs.previousSchoolDocument)&&r.jsxs(r.Fragment,{children:[r.jsxs("h4",{children:[u("form_previous_school_document_label"),":"]}),r.jsx("div",{className:j.form_other_field,children:z==null?void 0:z.map(t=>De.map(e=>{var m,h,d;return((m=e==null?void 0:e.lists)==null?void 0:m.includes(t))&&(e!=null&&e.fileType?r.jsx(Js,{labelText:u(e==null?void 0:e.label),name:t,value:E[t],onChange:ms,customStyleContainer:{width:"49.5%"},errorShow:k[t],disabled:(h=s==null?void 0:s.student)==null?void 0:h[t]},e==null?void 0:e.id):e!=null&&e.checkbox?"":!(E!=null&&E.previousSchoolDocument)&&r.jsx(U,{labelText:u(e==null?void 0:e.label),placeholder:u(e==null?void 0:e.placeHolder),name:t,value:E[t],type:"text",onChange:gs,customStyleContainer:{width:"100%"},errorShow:k[t],disabled:(d=s==null?void 0:s.student)==null?void 0:d[t]},e==null?void 0:e.id))}))}),r.jsx(K,{customStyle:{width:"104.5%",marginTop:"15px",marginLeft:"-24px"}})]}),(($s=p==null?void 0:p.studentFormSetting)==null?void 0:$s.bankDetails)&&r.jsxs(r.Fragment,{children:[r.jsxs("h4",{children:[u("form_student_bank_details_label"),":"]}),r.jsx("div",{className:j.form_other_field,children:w==null?void 0:w.map(t=>Te.map(e=>{var m,h,d;return((m=e==null?void 0:e.lists)==null?void 0:m.includes(t))&&(e!=null&&e.fileType?r.jsx(Js,{labelText:u(e==null?void 0:e.label),name:t,value:P[t],onChange:ms,customStyleContainer:{width:"49.5%"},errorShow:k[t],disabled:(h=s==null?void 0:s.student)==null?void 0:h[t]},e==null?void 0:e.id):r.jsx(U,{labelText:u(e==null?void 0:e.label),placeholder:u(e==null?void 0:e.placeHolder),name:t,value:P[t],type:["studentBankAccount","studentBankReAccount"].includes(t)?"tel":"text",reAccount:t==="studentBankReAccount"?k[t]:"",inputLength:50,onChange:V,customStyleContainer:{width:"49.5%"},disabled:(d=s==null?void 0:s.student)==null?void 0:d[t],errorShow:k[t]},e==null?void 0:e.id))}))})]}),r.jsx(Me,{type:"submit",buttonText:u("update"),customStyleButton:{marginTop:"1.5vw"}})]}),c&&r.jsx(te,{open:c,children:r.jsx(re,{setPhotoURL:l,photoURL:L,setFile:Q,setOpenCrop:F,setProfilePhoto:g,first:1,second:1,setUpload:X})}),r.jsx(de,{msg:R.msg,run:R.run,setRun:()=>rs({msg:"",run:!1}),postiton:"bottom",type:"error"})]}),Ws&&r.jsx(ue,{})]})},$e=ss.lazy(()=>es(()=>import("./index-731451a5.js").then(s=>s.oH),["assets/index-731451a5.js","assets/index-4d24e8f6.css"])),Ge=ss.lazy(()=>es(()=>import("./index-731451a5.js").then(s=>s.oI),["assets/index-731451a5.js","assets/index-4d24e8f6.css"])),Je=ss.lazy(()=>es(()=>import("./EditStaffForm-364c3023.js"),["assets/EditStaffForm-364c3023.js","assets/index-731451a5.js","assets/index-4d24e8f6.css","assets/constant_value-4cd2b3e0.js","assets/ButtonWithTypeSubmit-71da32d7.js","assets/LoaderButton-71df50a7.js","assets/LoaderButton-43b48c5c.css","assets/FormCheckbox-3a5ba026.js","assets/UniversalForm.module-19614663.js","assets/UniversalForm-5f24b145.css","assets/FormControlLabel-1c6af80c.js","assets/SwitchBase-2ba5f868.js","assets/Checkbox-1498c124.js","assets/JoinFormFileEdit-e41481d6.js","assets/JoinForm.module-212f9bb3.js","assets/JoinForm-e988a09c.css","assets/ViewFileDialog-0c131c06.js","assets/Overlay-07ce6f88.js","assets/Overlay.module-9133d1bb.js","assets/Overlay-6f7772cd.css","assets/SearchModalBackdrop-5b309d60.js","assets/SearchHeader.module-b69c8942.js","assets/SearchHeader-d07f850c.css","assets/JoinFormInput-8e74a0e0.js","assets/JoinFormSelect-a3c930fc.js","assets/JoinFormTextArea-7f6dded0.js","assets/institute-staff-student-api-7f4890fe.js","assets/timeComparison-f15c3247.js","assets/BorderBottom-47800983.js","assets/BorderBottom-eabbc1eb.css","assets/JoinFormCalender-5158d888.js","assets/DatePicker-305f3dc6.js","assets/DatePicker-9ecb4579.css"])),Ke=ss.lazy(()=>es(()=>import("./EditStudentForm-ad50a56e.js"),["assets/EditStudentForm-ad50a56e.js","assets/index-731451a5.js","assets/index-4d24e8f6.css","assets/constant_value-4cd2b3e0.js","assets/ButtonWithTypeSubmit-71da32d7.js","assets/LoaderButton-71df50a7.js","assets/LoaderButton-43b48c5c.css","assets/FormCheckbox-3a5ba026.js","assets/UniversalForm.module-19614663.js","assets/UniversalForm-5f24b145.css","assets/FormControlLabel-1c6af80c.js","assets/SwitchBase-2ba5f868.js","assets/Checkbox-1498c124.js","assets/JoinFormFileEdit-e41481d6.js","assets/JoinForm.module-212f9bb3.js","assets/JoinForm-e988a09c.css","assets/ViewFileDialog-0c131c06.js","assets/Overlay-07ce6f88.js","assets/Overlay.module-9133d1bb.js","assets/Overlay-6f7772cd.css","assets/SearchModalBackdrop-5b309d60.js","assets/SearchHeader.module-b69c8942.js","assets/SearchHeader-d07f850c.css","assets/JoinFormInput-8e74a0e0.js","assets/JoinFormSelect-a3c930fc.js","assets/JoinFormTextArea-7f6dded0.js","assets/institute-staff-student-api-7f4890fe.js","assets/class-api-ec8ace00.js","assets/timeComparison-f15c3247.js","assets/BorderBottom-47800983.js","assets/BorderBottom-eabbc1eb.css","assets/JoinFormCalender-5158d888.js","assets/DatePicker-305f3dc6.js","assets/DatePicker-9ecb4579.css","assets/PopupWrapper-ffbaef7a.js","assets/SearchModalWrapper-6e85c9f3.js"])),dt=()=>{var x,E,B,Y,X,Z,Q,c,F,o,g,L,l;const s=qs(),T=me(),b=Ks(),q=he(),{t:G}=zs(),[P,I]=C.useState(!1),w=pe(R=>R.idChange.id),{data:a}=ne(w,{skip:((x=T.state)==null?void 0:x.openAs)==="INSTITUTE_SIDE"}),H=()=>{b(-1)},J=()=>{for(let R=0;R<2;R++)q(_e.onSkipStudentForm({skip:!0})),b(-1)},z=()=>{I(R=>!R)};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:j.navbar,children:r.jsx(ts,{children:((E=T.state)==null?void 0:E.openAs)==="INSTITUTE_SIDE"?r.jsx($e,{status:"home"}):r.jsx(Ge,{status:"profile",profileId:a?(B=a==null?void 0:a.user)==null?void 0:B._id:"",username:(Y=a==null?void 0:a.user)==null?void 0:Y.username,name:(X=a==null?void 0:a.user)==null?void 0:X.userLegalName,photoId:(Z=a==null?void 0:a.user)==null?void 0:Z.photoId,profilePhoto:(Q=a==null?void 0:a.user)==null?void 0:Q.profilePhoto,profileData:a==null?void 0:a.user})})}),((c=T.state)==null?void 0:c.openAs)==="STUDENT_MEMBER"?"":r.jsx("div",{className:j.goback_container,children:r.jsxs("div",{className:j.goback_container_text,onClick:H,children:[r.jsx("img",{src:"/images/arr-left-white.svg",alt:"go back icon"}),r.jsx("h6",{className:j.goback_container_text_go,children:G("go_back")})]})}),r.jsxs("div",{className:j.student_from_container,children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(s==null?void 0:s.activeform)==="staff"?r.jsx("h6",{className:j.student_from_fill,children:G("form_update_staff")}):r.jsxs(r.Fragment,{children:[r.jsx("h6",{className:j.student_from_fill,children:G("form_update_student")}),((F=T.state)==null?void 0:F.openAs)==="STUDENT_MEMBER"||((o=T.state)==null?void 0:o.subTypeOpen)==="ADMISSION_ADMIN"?"":r.jsx("h6",{className:j.skip_i_do,style:{cursor:"pointer",marginRight:"1rem"},onClick:z,children:G("login_details")})]}),((g=T.state)==null?void 0:g.openAs)==="STUDENT_MEMBER"&&!((L=T.state)!=null&&L.type)?r.jsx("button",{onClick:J,className:j.skip_i_do,children:G("skip_i_do_later")}):""]}),r.jsx(K,{customStyle:{width:"100%"}}),(s==null?void 0:s.activeform)==="staff"?r.jsx(ts,{children:r.jsx(Je,{location:T.state})}):r.jsx(ts,{children:((l=T.state)==null?void 0:l.openAs)==="STUDENT_MEMBER"?r.jsx(He,{location:T.state}):r.jsx(Ke,{location:T.state,onLoginDetailToggle:z,openLoginDetails:P})})]})]})};export{dt as default};
