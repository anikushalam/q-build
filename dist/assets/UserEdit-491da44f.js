import{j as s,r as t,e as C,D as P,C as N,k as S,w as U,x as J}from"./index-0ca76035.js";import{d as I,c as L}from"./image-api-6af06d8e.js";import{M as R}from"./MainProfile-a5efe2d0.js";import"./InstituteProfileInfoTop.module-288d442d.js";import"./ProfileSidebarBottom.module-965e8506.js";import"./LoaderButton-56f541f9.js";const E="_navbar_l7iaz_1",$="_editContainer_l7iaz_10",z="_bgContainer_l7iaz_17",w="_mainbodysplit_l7iaz_21",F="_mainbody_l7iaz_21",B="_mainbodyy_l7iaz_31",O="_profilepost_l7iaz_40",v={navbar:E,editContainer:$,bgContainer:z,mainbodysplit:w,mainbody:F,mainbodyy:B,profilepost:O},W="_sidebar_1utuf_1",k="_sidebartop_1utuf_5",q="_imgcontainer_1utuf_23",K="_imgedit_1utuf_36",M="_userContainer_1utuf_43",G="_username_1utuf_47",y={sidebar:W,sidebartop:k,imgcontainer:q,imgedit:K,userContainer:M,username:G},H="_sidebarBottom_ykibo_1",Q={sidebarBottom:H};function A(){return s.jsx("div",{className:Q.sidebarBottom})}const T=({photoId:i,photoKey:p,username:e})=>{const[h]=I(),[d,n]=t.useState(""),[r,c]=t.useState(""),[m,l]=t.useState(!1),[u,g]=t.useState(!1),[f,_]=t.useState(""),x=localStorage.getItem("user");t.useEffect(()=>{if(u){let a=new FormData;a.append("file",r),h({photo:a,id:x}).then(b=>{}).catch({})}},[u,r]);const o=a=>{const b=URL.createObjectURL(a.target.files[0]);c(a.target.files[0]),_(b),n(b),l(!0)};return s.jsxs("div",{className:y.sidebar,children:[s.jsxs("div",{className:y.sidebartop,children:[s.jsx("div",{className:y.imgcontainer,children:f?s.jsx("img",{src:f,alt:"profile is not uploaded"}):s.jsx("img",{src:i!=="1"?`${C}/${p}`:"/images/edit-photo-icon.svg",alt:""})}),s.jsx("label",{htmlFor:"photo",children:s.jsx("img",{alt:"not found",className:y.imgedit,src:"/images/edit1-icon.svg"})}),s.jsx("input",{id:"photo",name:"file",onChange:o,type:"file",style:{display:"none"},accept:"image/gif, image/jpeg, image/png",required:!0}),s.jsx("div",{className:y.userContainer,children:s.jsx("p",{className:y.username,children:e})})]}),s.jsx(A,{}),m&&s.jsx(P,{open:m,children:s.jsx(N,{setPhotoURL:n,photoURL:d,setFile:c,setOpenCrop:l,setUpload:g,setProfilePhoto:_,first:1,second:1})})]})},V="_main_pcfua_1",X="_imageJustify_pcfua_10",Y="_justifyWhite_pcfua_15",Z="_imageJustify1_pcfua_19",D="_imageJustify2_pcfua_26",ee="_imgedit_pcfua_32",j={main:V,imageJustify:X,justifyWhite:Y,imageJustify1:Z,imageJustify2:D,imgedit:ee},se=({coverKey:i,coverId:p})=>{const[e]=L(),[h,d]=t.useState(""),[n,r]=t.useState(""),[c,m]=t.useState(!1),[l,u]=t.useState(!1),[g,f]=t.useState(""),_=S(o=>o.idChange);t.useEffect(()=>{if(l){let o=new FormData;o.append("file",n),e({cover:o,id:_==null?void 0:_.id}).then(a=>{}).catch({})}},[l,n]);const x=o=>{const a=URL.createObjectURL(o.target.files[0]);r(o.target.files[0]),f(a),d(a),m(!0)};return s.jsxs("div",{children:[s.jsxs("div",{className:j.main,children:[s.jsxs("div",{className:j.imageJustify,children:[s.jsx("img",{src:"/images/profile-white.svg",alt:"",style:{height:"100%"}}),s.jsx("img",{src:"/images/profile-blue.svg",alt:"",className:j.imageJustify1})]}),g?s.jsx("img",{className:j.imageJustify2,src:g,alt:"profile is not uploaded",style:{right:"0"}}):s.jsx("img",{src:p!=="2"?`${C}/${i}`:"/images/profile-cover-icon.svg",alt:"",className:j.imageJustify2,style:p!=="2"?{right:"0"}:{right:"-2.27vw"}})]}),s.jsx("label",{htmlFor:"cover",children:s.jsx("img",{alt:"not found",className:j.imgedit,src:"/images/edit1-icon.svg"})}),s.jsx("input",{id:"cover",name:"file",onChange:x,type:"file",style:{display:"none"},accept:"image/gif, image/jpeg, image/png",required:!0}),c&&s.jsx(P,{open:c,children:s.jsx(N,{setPhotoURL:d,photoURL:h,setFile:r,setOpenCrop:m,setUpload:u,setProfilePhoto:f,first:16,second:9})})]})};function ce(){var h,d,n,r,c,m,l,u,g;const i=S(f=>f.idChange),p=localStorage.getItem("user");i.searchProfile.id!==""?i.searchProfile.id:i==null||i.id;const{data:e}=U(p);return s.jsxs("div",{className:v.bgContainer,children:[s.jsx("div",{className:v.navbar,children:s.jsx(J,{status:"profile",profileData:e==null?void 0:e.user,username:(h=e==null?void 0:e.user)==null?void 0:h.username,name:(d=e==null?void 0:e.user)==null?void 0:d.userLegalName,photoId:(n=e==null?void 0:e.user)==null?void 0:n.photoId,profilePhoto:(r=e==null?void 0:e.user)==null?void 0:r.profilePhoto})}),s.jsxs("div",{className:v.editContainer,children:[s.jsx(T,{photoKey:(c=e==null?void 0:e.user)==null?void 0:c.profilePhoto,photoId:(m=e==null?void 0:e.user)==null?void 0:m.photoId,username:(l=e==null?void 0:e.user)==null?void 0:l.username}),s.jsxs("div",{children:[s.jsx(se,{coverKey:(u=e==null?void 0:e.user)==null?void 0:u.profileCoverPhoto,coverId:(g=e==null?void 0:e.user)==null?void 0:g.coverId}),s.jsx(R,{})]})]})]})}export{ce as default};
