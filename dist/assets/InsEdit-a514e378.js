import{j as e,u as q,R as P,_ as V,k as G,r as h,c as K,z as Q,n_ as W,i as L,e as k,s as X}from"./index-731451a5.js";import{L as Z}from"./LoaderButton-71df50a7.js";import{s as v}from"./Input.module-b51f8413.js";import{c as ee}from"./plateform-api-93737b6a.js";import{C as te}from"./CustomSuspense-e90dc607.js";import{S as ie}from"./StringLength-222a9fd1.js";import{J as ne}from"./JoinFormCalender-5158d888.js";import"./StringLength.module-75a6e080.js";import"./JoinForm.module-212f9bb3.js";import"./DatePicker-305f3dc6.js";const ae="_navbar_1913c_1",se="_editContainer_1913c_10",le="_bgContainer_1913c_16",O={navbar:ae,editContainer:se,bgContainer:le},oe="_container_c1h2d_1",re={container:oe},ce=({buttonText:s,submitHandler:u,disabled:c})=>e.jsxs("button",{disabled:c,className:re.container,onClick:u,style:c?{cursor:"none"}:{cursor:"pointer"},children:[s,e.jsx("div",{style:{marginTop:"1.4vw",marginLeft:"1vw"},children:c&&e.jsx(Z,{})})]}),_=({id:s,labelText:u,type:c,placeholder:d,value:p,onChange:m})=>e.jsxs("div",{className:v.labelContainer,children:[e.jsx("div",{className:v.label,children:e.jsx("label",{htmlFor:s,children:u})}),e.jsx("div",{className:v.inputBox,children:e.jsx("input",{id:s,type:c,onChange:m,value:p,placeholder:d})})]}),de="_container_1h85i_1",_e="_labelContainer_1h85i_12",ue="_label_1h85i_12",pe="_inputBox_1h85i_25",me="_add_supporting_member_1h85i_54",he="_add_supporting_member_heading_1h85i_66",fe="_containerhead_1h85i_78",xe="_flexItem50_1h85i_98",ge="_fileinputflexContainer_1h85i_102",be="_input_label_1h85i_103",ve="_labelspan_1h85i_113",je="_formselect_1h85i_117",ye="_input_border_active_1h85i_132",Ce="_genderh_1h85i_140",Ae="_genderplaceholder_1h85i_149",Ne="_upIcon_1h85i_153",Te="_downIcon_1h85i_160",l={container:de,labelContainer:_e,label:ue,inputBox:pe,add_supporting_member:me,add_supporting_member_heading:he,containerhead:fe,flexItem50:xe,fileinputflexContainer:ge,input_label:be,labelspan:ve,formselect:je,input_border_active:ye,genderh:Ce,genderplaceholder:Ae,upIcon:Ne,downIcon:Te},Ee="_options_1q5km_1",$e="_option_1q5km_1",R={options:Ee,option:$e},Se={position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10},we={position:"absolute",left:"0",top:"2.1rem",zIndex:10};function Be({open:s,onClose:u,setFormData:c,formData:d}){const p=["College/Polytechnic","School","Coaching/Tuition","Online Educating Institute","Content Creator","Other"];return q(),s?e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:u,style:Se}),e.jsx("div",{style:we,className:R.options,children:p.map((m,f)=>e.jsx("div",{className:R.option,onClick:()=>{c({...d,insType:m}),u()},children:m},f))})]}):null}const Ie=P.lazy(()=>V(()=>import("./SearchAffiliated-0d32baa5.js"),["assets/SearchAffiliated-0d32baa5.js","assets/index-731451a5.js","assets/index-4d24e8f6.css","assets/AssignStaffModal.module-a60b32e1.js","assets/AssignStaffModal-60e26c07.css","assets/SearchModalWrapper-6e85c9f3.js","assets/SearchModalBackdrop-5b309d60.js","assets/SearchHeader.module-b69c8942.js","assets/SearchHeader-d07f850c.css","assets/Overlay-07ce6f88.js","assets/Overlay.module-9133d1bb.js","assets/Overlay-6f7772cd.css","assets/plateform-api-93737b6a.js"])),De=()=>{var y,C,A,N,T,E;const s=G(i=>i.idChange),[u,c]=h.useState(!1),[d,p]=h.useState({insType:!1}),[m]=ee(),f=K(),{t:a}=q(),{oneInstituteProfile:n,oneInstituteProfileRefetch:b}=Q({data:{id:s==null?void 0:s.id,type:"ID"},skip:!(s!=null&&s.id)}),[F]=W(),[z,j]=h.useState(!1),[t,o]=h.useState({insName:"",insType:"",insEmail:"",insPhoneNumber:"",insAchievement:"",insAddress:"",insAbout:"",insAffiliated:"",one_line_about:"",gr_initials:"",insEstdDate:"",alias_pronounciation:{staff_alias:"",student_alias:""}});h.useEffect(()=>{s!=null&&s.id&&b()},[s==null?void 0:s.id,b]),h.useEffect(()=>{var i,r,x,g,$,S,w,B,I,D;n!=null&&n.institute&&o({insName:n.institute.insName,insType:n.institute.insType,insEmail:n.institute.insEmail,insPhoneNumber:n.institute.insPhoneNumber,insAchievement:n.institute.insAchievement,insAddress:n.institute.insAddress,insAbout:n.institute.insAbout,insAffiliated:(i=n.institute)==null?void 0:i.request_at,insAffiliatedBy:(x=(r=n.institute)==null?void 0:r.affiliation_by)!=null&&x.length?(g=n.institute)==null?void 0:g.affiliation_by[0]:"",one_line_about:n.institute.one_line_about,gr_initials:($=n==null?void 0:n.institute)==null?void 0:$.gr_initials,insEstdDate:(S=n==null?void 0:n.institute)==null?void 0:S.insEstdDate,alias_pronounciation:{staff_alias:((B=(w=n==null?void 0:n.institute)==null?void 0:w.alias_pronounciation)==null?void 0:B.staff_alias)??"",student_alias:((D=(I=n==null?void 0:n.institute)==null?void 0:I.alias_pronounciation)==null?void 0:D.student_alias)??""}})},[n==null?void 0:n.institute]);const M=()=>{var i;j(!0),F({id:s.id,infoUpdate:t,old_initials:(i=n==null?void 0:n.institute)==null?void 0:i.gr_initials}).then(()=>{var r;j(!1),b(),f(`/q/${(r=n.institute)==null?void 0:r.name}/profile`)}).catch({})},U=i=>{m({InstituteId:{query_ins:s==null?void 0:s.id},mid:i==null?void 0:i._id}).then(()=>{}).catch({})},H=()=>{t.insAffiliated||t.insAffiliatedBy||c(i=>!i)},Y=()=>{f(-1)},J=i=>{let r=i==null?void 0:i.split("/"),x=`${r[2]}-${r[1]}-${r[0]}`;o(g=>({...g,insEstdDate:x}))};return e.jsxs("div",{className:l.container,children:[e.jsxs("div",{className:l.containerhead,children:[e.jsx("h6",{children:a("edit_profile_info")}),e.jsx("img",{src:"/images/close-post-icon.svg",alt:"",onClick:Y})]}),e.jsxs("div",{className:l.containercontent,children:[e.jsx(_,{id:"name",type:"text",value:t.insName,onChange:i=>o({...t,insName:i.target.value}),labelText:a("institute_name"),placeholder:a("enter_ins_name")}),e.jsxs("div",{className:l.flexItem50,children:[e.jsx("h3",{className:l.input_label,children:a("institute_type")}),e.jsxs("div",{className:d?`${l.formselectactive} ${l.formselect}`:l.formselect,onClick:()=>p({...d,insType:!d.insType}),children:[t.insType&&t.insType!==""?e.jsx("h6",{className:l.genderh,onClick:()=>p(!0),children:t.insType}):e.jsx("h6",{className:`${l.genderplaceholder} ${l.genderh}`,onClick:()=>p(!0),children:a("select_ins_type")}),d.insType?e.jsx("img",{className:`${l.updownIcon} ${l.downIcon}`,src:`${L}/up-triangle-icon.svg`,alt:""}):e.jsx("img",{className:l.upIcon,src:`${L}/downn-icon.svg`,alt:""}),e.jsx(Be,{open:d.insType,onClose:()=>p({...d,insType:!1}),setFormData:o,formData:t})]})]}),e.jsx(_,{id:"one_lIner",type:"text",labelText:a("one_liner"),value:t.one_line_about,onChange:i=>{var r;((r=i.target.value)==null?void 0:r.length)<=60&&o({...t,one_line_about:i.target.value})},placeholder:a("ins_about")}),e.jsx(ie,{maxLength:60,valueLength:t.one_line_about,customStyle:{paddingRight:"2.5rem"}}),e.jsx(_,{id:"bio",type:"text",labelText:a("desc_about"),value:t.insAbout,onChange:i=>o({...t,insAbout:i.target.value}),placeholder:a("enter_ins_about")}),e.jsx(_,{id:"email",type:"text",labelText:a("email_id"),value:t.insEmail,onChange:i=>o({...t,insEmail:i.target.value}),placeholder:a("email_detail")}),e.jsx(_,{id:"number",type:"number",labelText:a("contact_number"),value:t.insPhoneNumber,onChange:i=>o({...t,insPhoneNumber:i.target.value}),placeholder:a("contact_number_detial")}),e.jsx(ne,{labelText:a("institute_establish_date"),placeholder:a("institute_establish_date_placeholder"),name:"insEstdDate",value:t.insEstdDate,onDateFunction:J,customStyleContainer:{position:"relative",margin:"1.5vw 3.028vw 0 3.028vw",width:"auto"}}),e.jsx(_,{id:"achievement",type:"text",labelText:a("institute_achievements"),value:t.insAchievement,onChange:i=>o({...t,insAchievement:i.target.value}),placeholder:a("enter_ins_achivement")}),e.jsx(_,{id:"address",type:"text",labelText:a("institute_address"),value:t.insAddress,onChange:i=>o({...t,insAddress:i.target.value}),placeholder:a("enter_ins_address")}),e.jsx(_,{id:"type",type:"text",maxLength:"5",value:t.gr_initials,onChange:i=>o({...t,gr_initials:i.target.value}),labelText:a("initials"),placeholder:a("enter_initials")}),e.jsx(_,{id:"type",type:"text",maxLength:"70",value:t.alias_pronounciation.staff_alias,onChange:i=>o({...t,alias_pronounciation:{...t.alias_pronounciation,staff_alias:i.target.value}}),labelText:a("staff_alias"),placeholder:a("staff_alias_label")}),e.jsx(_,{id:"type",type:"text",maxLength:"70",value:t.alias_pronounciation.student_alias,onChange:i=>o({...t,alias_pronounciation:{...t.alias_pronounciation,student_alias:i.target.value}}),labelText:a("student_alias"),placeholder:a("student_alias_label")}),e.jsxs("div",{className:l.labelContainer,onClick:H,children:[e.jsx("div",{className:l.label,children:e.jsx("label",{htmlFor:"affilated",children:"Affilated To"})}),t.insAffiliated&&e.jsxs("div",{className:l.add_supporting_member,children:[e.jsx("img",{src:(y=t.insAffiliated)!=null&&y.photo?`${k}/${(C=t.insAffiliated)==null?void 0:C.photo}`:"/images/member_tab/class/default_avatar.svg",alt:"avatar of institute"}),e.jsx("section",{children:e.jsxs("h6",{className:l.add_supporting_member_heading,children:[`${(A=t.insAffiliated)==null?void 0:A.affiliation_name}`," ",a("pending_")]})})]}),t.insAffiliatedBy&&e.jsxs("div",{className:l.add_supporting_member,children:[e.jsx("img",{src:(N=t.insAffiliatedBy)!=null&&N.photo?`${k}/${(T=t.insAffiliatedBy)==null?void 0:T.photo}`:"/images/member_tab/class/default_avatar.svg",alt:"avatar of institute"}),e.jsx("section",{children:e.jsxs("h6",{className:l.add_supporting_member_heading,children:[`${(E=t.insAffiliatedBy)==null?void 0:E.affiliation_name}`," ",a("approved_")]})})]}),!t.insAffiliated&&!t.insAffiliatedBy&&e.jsxs("div",{className:l.inputBox,children:[e.jsx("p",{children:a("select_and_send_request")}),e.jsx("img",{src:"/images/downn-icon.svg",alt:"select icon"})]})]}),e.jsx(te,{children:u&&e.jsx(Ie,{onClose:()=>c(i=>!i),selectMember:U})}),e.jsx(ce,{buttonText:a("update_profile"),submitHandler:M,disabled:z,customStyle:{width:"100%"}})]})]})},Ye=()=>e.jsxs("div",{className:O.bgContainer,children:[e.jsx("div",{className:O.navbar,children:e.jsx(X,{status:"profile"})}),e.jsx(De,{})]});export{Ye as default};
