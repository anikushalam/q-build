import{R as B,_ as b,r as i,u,j as t,q as D,a1 as A,N as C}from"./index-731451a5.js";import{s as m,S as M}from"./Department-8db2547f.js";import{C as S}from"./CustomSuspense-e90dc607.js";import"./DepartmentSidebar-368c8f3b.js";import"./FormToggle-bf5ca79b.js";import"./UniversalForm.module-19614663.js";import"./Switch-81e70f2f.js";import"./SwitchBase-2ba5f868.js";import"./BorderBottom-47800983.js";import"./FormCheckbox-3a5ba026.js";import"./FormControlLabel-1c6af80c.js";import"./Checkbox-1498c124.js";import"./DeaprtmentSiteInfo-f6687810.js";import"./JoinFormTextArea-7f6dded0.js";import"./JoinForm.module-212f9bb3.js";import"./JoinFormFileEdit-e41481d6.js";import"./ViewFileDialog-0c131c06.js";import"./Overlay-07ce6f88.js";import"./Overlay.module-9133d1bb.js";import"./SearchModalBackdrop-5b309d60.js";import"./SearchHeader.module-b69c8942.js";import"./JoinFormInput-8e74a0e0.js";import"./department-api-a4f0b4b7.js";const O="_oneRow_r5kd5_1",L="_oneRowLeft_r5kd5_11",P="_oneRowText_r5kd5_16",Y="_oneRowRight_r5kd5_25",$="_borderBottom1_r5kd5_36",F="_date_r5kd5_43",H="_dateText_r5kd5_49",z="_activeBatch_r5kd5_59",s={oneRow:O,oneRowLeft:L,oneRowText:P,oneRowRight:Y,borderBottom1:$,date:F,dateText:H,activeBatch:z},I=B.lazy(()=>b(()=>import("./OneRowBatchOption-41cf04b6.js"),["assets/OneRowBatchOption-41cf04b6.js","assets/index-731451a5.js","assets/index-4d24e8f6.css","assets/OptionWrapper-4aafb6c0.js","assets/OptionWrapper-02737455.css"])),V=({image:d,name:o,date:R,bid:p,selectedBatch:r,editOneBatch:l,designation_send:_,batch_type:n})=>{const[h,c]=i.useState(!1),{t:j}=u();return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:(r==null?void 0:r._id)===p?`${s.oneRow} ${s.activeBatch}`:s.oneRow,children:[t.jsxs("div",{className:s.oneRowLeft,children:[t.jsx("img",{className:s.oneRowImage,src:d,alt:""}),t.jsxs("div",{className:s.date,children:[t.jsx("p",{className:s.oneRowText,children:o}),t.jsxs("p",{className:s.dateText,children:[j("created_on_")," ",R]})]})]}),t.jsx("div",{className:s.oneRowRight,children:t.jsx("img",{src:"/images/three-24-dot-icon.svg",alt:"",onClick:()=>c(!h)})}),t.jsx(S,{children:h&&t.jsx("div",{className:s.tooltip,children:t.jsx(I,{bid:p,setClick:c,batchName:o,editOneBatch:l,batch_type:n,designation_send:_})})})]}),t.jsx("p",{className:s.borderBottom1})]})},q=B.lazy(()=>b(()=>import("./CreateBatch-1a197299.js"),["assets/CreateBatch-1a197299.js","assets/index-731451a5.js","assets/index-4d24e8f6.css","assets/LoaderButton-71df50a7.js","assets/LoaderButton-43b48c5c.css","assets/StringLength-222a9fd1.js","assets/StringLength.module-75a6e080.js","assets/StringLength-7b1d3ded.css","assets/CreateBatch-8277f93d.css","assets/AddDisplay-fea182d7.css"])),xt=({data:d,id:o,did:R,selectedBatch:p,onDepartmentRefetch:r})=>{const{t:l}=u(),[_,n]=i.useState(!1),[h,c]=i.useState(!1),[j,T]=i.useState({}),[f,g]=i.useState({msg:"",run:!1}),{oneInstituteDashboard:a,oneInstituteDashboardRefetch:w}=D({id:o,skip:!o});i.useEffect(()=>{o&&w()},[o,w]);const E=e=>{T(e),c(!0),n(!0)},y=()=>{var e,x,N,k;!((x=(e=a==null?void 0:a.institute)==null?void 0:e.admissionDepart)!=null&&x[0])||!((k=(N=a==null?void 0:a.institute)==null?void 0:N.financeDepart)!=null&&k[0])?g({msg:"Please activate Finance and Admission Department",run:!0}):n(!0)};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:m.subHeadContainer,children:[t.jsx("div",{className:m.subHead,children:t.jsx("p",{className:m.subHeadRight,onClick:y,children:l("add_batch")})}),t.jsx("p",{className:m.borderBottom})]}),t.jsx(M,{}),t.jsx("div",{className:m.main,children:d.map((e,x)=>t.jsx(V,{name:(e==null?void 0:e.batchName)||"Batch 2022-23",image:"/images/master-24-grey-icon.svg",date:e.createdAt?` ${A(e.createdAt).format("DD MMMM YYYY")}`:"23 April 2022",bid:e==null?void 0:e._id,selectedBatch:p,editOneBatch:E,designation_send:e==null?void 0:e.designation_send,batch_type:e==null?void 0:e.batch_type},x))}),t.jsxs(S,{children:[_&&t.jsx(q,{departmentModal:_,hideModal:n,id:o,did:R,data:d,edit:h,setEdit:c,editBatch:j,onDepartmentRefetch:r}),f.run&&t.jsx(C,{msg:f.msg,run:f.run,setRun:()=>g({msg:"",run:!1}),postiton:"bottom",type:"error"})]})]})};export{xt as default};
