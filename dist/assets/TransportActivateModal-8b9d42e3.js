import{u as O,r as x,k as T,c as F,j as c,D as R,e as y,Q}from"./index-731451a5.js";import{s as l}from"./FinanceModal.module-0f0ee470.js";import q from"./AssignStaffModal-61be8e90.js";import{G as w,u as G}from"./transport-api-9ab21e71.js";import{D as I}from"./Divider-6278282f.js";import"./search-api-15f7f9f9.js";import"./AssignStaffModal.module-a60b32e1.js";const X=({transportModal:A,hideModal:t,edit:e,transportManagerName:i,onParentRefetch:P})=>{const{t:o}=O(),[j,v]=x.useState(!1),[f,h]=x.useState(!1),[s,b]=x.useState(""),u=T(d=>d.idChange),[C]=w(),[L]=G(),k=F(),D=()=>{h(!0),C({id:u.id,fActivate:{sid:s==null?void 0:s._id}}).then(d=>{var _;h(!1),d.data.status&&k(`/q/${(_=u.loginProfile)==null?void 0:_.username}/transport`,{state:{tid:d.data.transport}})}).catch({})},$=()=>{s!=null&&s._id&&(i!=null&&i._id)?(h(!0),L({osid:i==null?void 0:i._id,nsid:s==null?void 0:s._id}).then(()=>{P(),h(!1),t()}).catch({})):t()},E=d=>{b(d)};return c.jsxs(c.Fragment,{children:[!f&&c.jsx(R,{open:A,onClose:()=>t(!1),children:c.jsxs("div",{className:l.financeModal,children:[c.jsxs("div",{className:l.financeModalhead,children:[c.jsx("h6",{children:o(e?"edit_transport_dept":"active_transport")}),c.jsx("img",{onClick:()=>t(!1),src:"/images/close-post-icon.svg",alt:""})]}),c.jsx(I,{}),c.jsxs("div",{className:l.financeModalbody,children:[!s&&!e&&c.jsxs("div",{className:l.assignDesignation,onClick:()=>v(!0),children:[c.jsx("img",{className:l.assignManager,src:"/images/sports/avatar-circle.svg",alt:""}),c.jsxs("div",{children:[c.jsx("h6",{children:o("assign_transport_head")}),c.jsx("p",{children:o("search_from_joined_list")})]})]}),(s||i)&&c.jsxs("div",{className:l.sidebarbottomitem,onClick:()=>v(!0),children:[c.jsx("img",{alt:"not found",src:s!=null&&s.staffProfilePhoto||i!=null&&i.staffProfilePhoto?`${y}/${s.staffProfilePhoto??(i==null?void 0:i.staffProfilePhoto)}`:"/images/finance/assign-manager.svg"}),c.jsxs("div",{children:[c.jsx("p",{className:l.namee,children:`${(s==null?void 0:s.staffFirstName)??(i==null?void 0:i.staffFirstName)??""} 
                    ${(s==null?void 0:s.staffMiddleName)??(i==null?void 0:i.staffMiddleName)??""}
                    ${(s==null?void 0:s.staffLastName)??(i==null?void 0:i.staffLastName)??""} `}),c.jsxs("p",{className:l.desig,children:["No."," ",(s==null?void 0:s.staffROLLNO)??(i==null?void 0:i.staffROLLNO)??""]})]})]})]}),c.jsxs("div",{className:l.financeModalfooter,children:[!e&&c.jsx("div",{className:l.activebtn,onClick:D,children:o("activate")}),e&&(s==null?void 0:s._id)&&c.jsx("div",{className:l.activebtn,onClick:$,children:o("update")})]})]})}),j&&c.jsx(q,{assignHead:j,headSelect:E,title:o("secect_transport_head"),onClose:()=>v(d=>!d),disabledId:i==null?void 0:i._id}),f&&c.jsx(Q,{})]})};export{X as default};
