import{u as $,j as e,r as p,c as S,n as O,d as ee,b as de}from"./index-0ca76035.js";import{c as ce,a8 as ie,ae as v,af as he,ag as me,m as A,a as y,u as xe,ah as q,M as se,U as B,B as Q,C as H,Q as w,ai as je,l as te,s as R,aj as oe,v as _e,ak as pe,L as ue}from"./FinanceConfig-24ef7fd2.js";import{s as E}from"./Income.module-200dd9e8.js";import{C as F}from"./CustomSelectDepartment-c173db4b.js";import{T as G,a as J}from"./TileCard-17e6becb.js";import{a as be,d as ge,b as Ne}from"./statistics_constant-b063291e.js";import{s as d}from"./StudentStatitics.module-2255b6eb.js";import{l as re}from"./localTime-4e51d139.js";const ne=({fid:t,onSelect:a,onlyDepartment:c})=>{const{t:r}=$(),{instituteAllDepartment:n}=ce({fid:t,skip:!t});return e.jsx(e.Fragment,{children:c?e.jsx(F,{selectLabel:r("select_department"),selectedValue:r("select_department_placeholder"),options:(n==null?void 0:n.length)>0?n:[],onClick:a,isFull:!0}):e.jsx(F,{selectLabel:r("select_department"),selectedValue:r("select_department_placeholder"),options:(n==null?void 0:n.length)>0?["ALL","By Bank","Particular Student",...n]:["ALL","By Bank","Particular Student"],onClick:a,isFull:!0})})},ae=({did:t,onSelect:a,onlyBatch:c})=>{const{t:r}=$(),{departmentAllBatch:n}=ie({did:t,skip:!t});return e.jsx(e.Fragment,{children:c?e.jsx(v,{selectLabel:r("select_batch"),selectedValue:r("select_batch_placeholder"),options:(n==null?void 0:n.length)>0?n:[],onClick:a,isFull:!0}):e.jsx(v,{selectLabel:r("select_batch"),selectedValue:r("select_batch_placeholder"),options:(n==null?void 0:n.length)>0?["ALL",...n]:["ALL"],onClick:a,isFull:!0})})},ye=({instituteId:t,did:a,onSelect:c})=>{const{t:r}=$(),{departmentAllClassMaster:n}=he({data:{id:t,did:a},skip:t?!a:!t});return e.jsx(me,{selectLabel:r("select_standard"),selectedValue:r("select_standard_placeholder"),options:(n==null?void 0:n.length)>0?[...n]:[],onClick:c,isFull:!0})},fe=({selectLabel:t,onClick:a,selectedValue:c,options:r,customStyleContainer:n,customLabelStyle:l,customListStyle:m,errorShow:b,defalutValue:o,viewAs:x,isFull:L})=>{const{t:T}=$(),[_,u]=p.useState(!1),[i,g]=p.useState(""),f=()=>{u(h=>!h)};p.useEffect(()=>{x==="NORMAL_FILTER"&&g(o)},[x,o]),p.useEffect(()=>{if(x==="CUSTOM_FILTER"){let h="";for(let j of r)for(let k of o)if((j==null?void 0:j._id)===k){let s=(j==null?void 0:j.dName)??(j==null?void 0:j.batchName)??(j==null?void 0:j.className)??"";h=h?h+", "+s:s}g(h)}},[x,o,r]);const U=h=>{a(L?h:h==null?void 0:h._id),f(),g((h==null?void 0:h.finance_bank_account_name)??h)};return e.jsxs("div",{className:A.form_input_container,style:{...n},children:[e.jsxs("p",{className:A.join_form_select_paragraph,style:{...l},children:[t,b&&e.jsxs("span",{style:{color:"red",marginLeft:"15px"},children:["* ",T("form_require_label")]})]}),e.jsxs("section",{className:A.join_form_select_custom,onClick:f,children:[i?e.jsx("p",{className:A.join_form_select_custom_paragraph,children:i??""}):e.jsx("p",{className:A.join_form_select_custom_paragraph,children:c}),_?e.jsx("img",{className:A.join_form_select_custom_rotate_icon,src:`${y}/down.svg`,alt:"categor icon"}):e.jsx("img",{className:A.join_form_select_custom_icon,src:`${y}/down.svg`,alt:"categor icon"})]}),_&&e.jsx(e.Fragment,{children:e.jsx("section",{className:A.join_form_select_custom_list,style:m,children:r==null?void 0:r.map((h,j)=>e.jsx("p",{onClick:()=>U(h),className:A.join_form_select_custom_paragraph_option,children:(h==null?void 0:h.finance_bank_account_name)??h},j))})})]})},le=({fid:t,onSelect:a})=>{var n;const{t:c}=$(),{financeAllBank:r}=xe({data:{fid:t,page:1,limit:1e3,search:""},skip:!t});return e.jsx(fe,{selectLabel:c("bank_account"),selectedValue:c("bank_account_placeholder"),options:((n=r==null?void 0:r.all_accounts)==null?void 0:n.length)>0?[...r==null?void 0:r.all_accounts]:[],onClick:a,isFull:!0})},Le=({onClose:t,fid:a,instituteId:c,onRefetch:r})=>{var h,j,k;const{t:n}=$(),[l,m]=p.useState({activity_status:"",all_depart:"",batch_status:"",master:[],batch:"",depart:"",bank:"",single_student:""}),[b,o]=p.useState(!1),[x]=q(),L=p.useCallback(s=>{s!=null&&s._id&&m(N=>({...N,all_depart:"PARTICULAR",depart:s==null?void 0:s._id}))},[]),T=p.useCallback(s=>{s!=null&&s._id?m(N=>({...N,batch_status:"PARTICULAR_BATCH",batch:s==null?void 0:s._id})):m(N=>({...N,batch_status:"ALL_BATCH",batch:""}))},[]),_=p.useCallback(s=>{m(N=>({...N,master:[s==null?void 0:s._id]}))},[]),u=p.useCallback(s=>{m(N=>({...N,bank:s==null?void 0:s._id}))},[]),i=()=>{a&&(o(s=>!s),x({fid:a,moduleType:"OVERALL_VIEW",statisticsBody:l}).then(()=>{t(),r&&r(),o(s=>!s)}).catch({}))},g=s=>{s===l.activity_status?m(N=>({...N,activity_status:"",batch:""})):m(N=>({...N,activity_status:s,batch:""}))},f=s=>{m(N=>({...N,all_depart:s,depart:""}))},U=s=>{m(N=>({...N,batch_status:s,batch:""}))};return e.jsx(se,{onClose:t,children:e.jsxs("div",{className:E.modal_container,children:[e.jsx(B,{children:e.jsxs("div",{className:E.modal_container_outer_header,children:[e.jsx("div",{className:E.modal_container_header,children:e.jsx("h6",{children:n("overall_fee_statistics_filter")})}),e.jsx("img",{src:`${y}/close.svg`,alt:"close icon",onClick:t})]})}),e.jsx(Q,{}),e.jsxs(B,{customStyle:{paddingTop:"0"},children:[e.jsx(G,{label:"activity_type",children:(h=be)==null?void 0:h.map(s=>e.jsx(J,{tile:s,onTile:g,activeTile:l.activity_status},s==null?void 0:s.key))}),l.activity_status?null:e.jsxs(e.Fragment,{children:[e.jsx(G,{label:"department_type",children:(j=ge)==null?void 0:j.map(s=>e.jsx(J,{tile:s,onTile:f,activeTile:l.all_depart},s==null?void 0:s.key))}),l.all_depart==="PARTICULAR"?e.jsxs(e.Fragment,{children:[e.jsx(ne,{fid:a,onSelect:L,onlyDepartment:!0}),e.jsx(G,{label:"batch_type",children:(k=Ne)==null?void 0:k.map(s=>e.jsx(J,{tile:s,onTile:U,activeTile:l.batch_status},s==null?void 0:s.key))}),l.batch_status==="PARTICULAR_BATCH"?e.jsx(ae,{did:l.depart,onSelect:T,onlyBatch:!0}):null,e.jsx(ye,{did:l.depart,onSelect:_,instituteId:c})]}):null,e.jsx(le,{fid:a,onSelect:u})]}),e.jsx(H,{label:"filter",onAction:i})]}),b&&e.jsx(w,{})]})})},C=({label:t,amount:a,iconUrl:c,onAction:r,arr:n})=>{const{t:l}=$(),m=()=>{r(n)};return e.jsxs("div",{className:d.osc_card,onClick:m,children:[e.jsx("img",{src:c,alt:"overal icon"}),e.jsxs("div",{className:d.osc_card_inner,children:[e.jsxs("h6",{children:[l("rs")," ",a??0]}),e.jsx("p",{children:l(t)})]})]})},Ce=({fnanceOverallFeeStatistics:t})=>{const a=S(),c=O(),r=ee(),n=p.useCallback(()=>{a(`/q/${c.username}/member/staff/finance?type=fees-statistics&n=admission`,{state:r.state})},[a,c,r.state]),l=p.useCallback(m=>{(m==null?void 0:m.length)>0&&a(`/q/${c.username}/member/staff/finance?type=statistics-detail`,{state:{...r.state,studentList:m,openAs:"OVERVIEW"}})},[a,c]);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:d.osc_container,children:[e.jsxs("div",{className:d.osc_container_inner,children:[e.jsx(C,{iconUrl:`${y}/total-fees.svg`,amount:(t==null?void 0:t.total_fees)??0,label:"total_fees_to_be_collected",onAction:l,arr:t==null?void 0:t.total_fees_arr}),e.jsx(C,{iconUrl:`${y}/total-collection.svg`,amount:(t==null?void 0:t.total_collect)??0,label:"total_collection",onAction:l,arr:t==null?void 0:t.total_collect_arr}),e.jsx(C,{iconUrl:`${y}/total-collected.svg`,amount:(t==null?void 0:t.total_pending)??0,label:"total_outstanding",onAction:l,arr:t==null?void 0:t.total_pending_arr})]}),e.jsxs("div",{className:d.osc_container_inner,children:[e.jsx(C,{iconUrl:`${y}/student-collection.svg`,amount:0,label:"fees_to_be_collected_from_student",onAction:()=>{}}),e.jsx(C,{iconUrl:`${y}/student-collection.svg`,amount:(t==null?void 0:t.collect_by_student)??0,label:"collection_from_student",onAction:l,arr:t==null?void 0:t.collect_by_student_arr}),e.jsx(C,{iconUrl:`${y}/student-pending.svg`,amount:(t==null?void 0:t.pending_by_student)??0,label:"outstanding_from_student",onAction:l,arr:t==null?void 0:t.pending_by_student_arr})]}),e.jsxs("div",{className:d.osc_container_inner,children:[e.jsx(C,{iconUrl:`${y}/gov-recieve.svg`,amount:0,label:"fees_to_be_receive_as_scholarship",onAction:()=>{}}),e.jsx(C,{iconUrl:`${y}/gov-recieve.svg`,amount:(t==null?void 0:t.collect_by_government)??0,label:"collection_as_scholarship",onAction:l,arr:t==null?void 0:t.collect_by_government_arr}),e.jsx(C,{iconUrl:`${y}/gov-pending.svg`,amount:(t==null?void 0:t.pending_from_government)??0,label:"outstanding_as_scholarship",onAction:l,arr:t==null?void 0:t.pending_from_government_arr})]}),e.jsxs("div",{className:d.osc_container_inner,children:[e.jsx(C,{iconUrl:`${y}/excess-fee.svg`,amount:0,label:"other_internal_fees_to_be_collected",onAction:()=>{}}),e.jsx(C,{iconUrl:`${y}/excess-fee.svg`,amount:0,label:"outstanding_internal_fees",onAction:()=>{}}),e.jsx(C,{iconUrl:`${y}/excess-fee.svg`,amount:(t==null?void 0:t.excess_fees)??0,label:"excess_fees_paid_by_student",onAction:()=>{}})]}),e.jsxs("div",{className:d.osc_container_inner,children:[e.jsx(C,{iconUrl:`${y}/total-deposit.svg`,amount:(t==null?void 0:t.total_deposits)??0,label:"deposits_to_be_refunded",onAction:()=>{}}),e.jsx(C,{iconUrl:`${y}/total-income.svg`,amount:(t==null?void 0:t.incomes)??0,label:"other_incomes",onAction:()=>{}}),e.jsx(C,{iconUrl:`${y}/total-expense.svg`,amount:(t==null?void 0:t.expenses)??0,label:"other_expenses",onAction:()=>{}})]})]}),e.jsx(H,{label:"admission_fees_statitics",onAction:n,customStyle:{width:"fit-content"}})]})},ke=({fid:t,instituteId:a})=>{var u,i,g,f;const{t:c}=$(),[r,n]=p.useState(""),[l,m]=p.useState(!1),[b]=q(),{fnanceOverallFeeStatistics:o,fnanceOverallFeeStatisticsRefetch:x}=je({fid:t,skip:!t}),L=p.useCallback(()=>{n("")},[]),T=()=>{n("FILTER")},_=()=>{var U,h,j,k,s,N,D,M,P,V,W,Y;t&&!(b!=null&&b.loading_status)&&(m(I=>!I),b({fid:t,moduleType:"OVERALL_VIEW",statisticsBody:{activity_status:((h=(U=o==null?void 0:o.fees_statistics_filter)==null?void 0:U.bank_level)==null?void 0:h[0])??"",all_depart:((j=o==null?void 0:o.fees_statistics_filter)==null?void 0:j.department_all)??"",batch_status:((k=o==null?void 0:o.fees_statistics_filter)==null?void 0:k.batch_all)??"",master:((N=(s=o==null?void 0:o.fees_statistics_filter)==null?void 0:s.master_level)==null?void 0:N[0])??[],batch:((M=(D=o==null?void 0:o.fees_statistics_filter)==null?void 0:D.batch_level)==null?void 0:M[0])??"",depart:((V=(P=o==null?void 0:o.fees_statistics_filter)==null?void 0:P.department_level)==null?void 0:V[0])??"",bank:((Y=(W=o==null?void 0:o.fees_statistics_filter)==null?void 0:W.bank_level)==null?void 0:Y[0])??""}}).then(()=>{x(),m(I=>!I)}).catch({}))};return e.jsxs(e.Fragment,{children:[e.jsxs(te,{children:[e.jsx(B,{children:e.jsx("div",{className:R.fm_header_container,children:e.jsx("h6",{children:c("overall_fees_statitics")})})}),e.jsx(Q,{}),e.jsxs(B,{customStyle:{paddingTop:"0.2rem"},children:[e.jsxs("div",{className:R.fm_fs_container,children:[e.jsxs("h6",{className:R.fm_title_heading,style:{flex:"2 2"},children:[c("applied_filter")," "," : ",(u=o==null?void 0:o.fees_statistics_filter)!=null&&u.department_all?(i=o==null?void 0:o.fees_statistics_filter)==null?void 0:i.department_all:(g=o==null?void 0:o.fees_statistics_filter)!=null&&g.batch_all?(f=o==null?void 0:o.fees_statistics_filter)==null?void 0:f.batch_all:""]}),e.jsxs("div",{className:R.fm_fs_container_inner,style:{flex:"1 1"},children:[e.jsx(H,{label:"filter",onAction:T,customStyle:{margin:"0"}}),e.jsxs("div",{className:R.fm_fs_refetch_container,onClick:_,children:[b!=null&&b.loading_status?e.jsx("img",{src:`${oe}/loading.gif`,alt:"refetch icon"}):e.jsx("img",{src:`${y}/refresh.svg`,alt:"refetch icon"}),e.jsxs("div",{className:R.fm_fs_refetch_container_inner,children:[e.jsx("h6",{children:c("refetch_data")}),e.jsxs("p",{children:[c("last_updated")," : ",_e(o==null?void 0:o.last_update).format("DD MMM YYYY"),", ",re(o==null?void 0:o.last_update,"LT")]})]})]})]})]}),e.jsx(Ce,{fnanceOverallFeeStatistics:o})]})]}),r==="FILTER"?e.jsx(Le,{onClose:L,fid:t,instituteId:a,onRefetch:x}):null,l&&e.jsx(w,{})]})},Te=({statitics:t,batchId:a,depart:c})=>{var o;const{t:r}=$(),n=S(),l=O(),m=ee(),b=p.useCallback(x=>{(x==null?void 0:x.length)>0&&n(`/q/${l.username}/member/staff/finance?type=statistics-detail`,{state:{...m.state,studentList:x,openAs:"ADMISSION_OVERVIEW",batchId:a,departmentId:c}})},[n,l]);return e.jsx("div",{className:d.ss_table,children:e.jsxs("div",{className:d.fs_table_header,children:[e.jsx("div",{className:d.fs_table_col,style:{borderRight:"none"},children:K==null?void 0:K.map(x=>e.jsx("div",{className:d.fs_table_header_inner,children:e.jsx("h6",{className:d.fs_table_header_inner_h6,style:{width:"10rem"},children:r(x==null?void 0:x.name)})},x==null?void 0:x.name))}),(o=t==null?void 0:t.departs)==null?void 0:o.map((x,L)=>{var T,_;return e.jsxs("div",{className:d.fs_table_col,children:[e.jsx("div",{className:d.fs_table_header_inner,children:e.jsx("h6",{className:d.fs_table_header_inner_h6,children:x[`dp${L+1}`]})}),e.jsx("div",{className:d.fs_table_col_inner,children:(_=(T=t[`dp${L+1}`])==null?void 0:T.batches)==null?void 0:_.map(u=>{var i,g;return e.jsxs("div",{children:[e.jsx("div",{className:d.fs_table_header_inner,children:e.jsx("h6",{className:d.fs_table_header_inner_h6,children:u==null?void 0:u.batchName})}),e.jsx("div",{className:d.fs_table_col_inner,style:{alignItems:"flex-start"},children:(g=(i=t[`dp${L+1}`])==null?void 0:i.masters)==null?void 0:g.map(f=>{var U,h,j,k;return e.jsxs("div",{children:[e.jsx("div",{className:d.fs_table_header_inner,children:e.jsx("h6",{className:d.fs_table_header_inner_h6,style:{width:"10rem"},children:(f==null?void 0:f.masterName)??"NULL"})},f==null?void 0:f._id),e.jsx("div",{className:d.fs_table_col_inner,children:(k=(j=(h=Ue((U=t[`dp${L+1}`])==null?void 0:U.nest_classes,u==null?void 0:u._id))==null?void 0:h[u==null?void 0:u._id])==null?void 0:j.classes)==null?void 0:k.map(s=>(s==null?void 0:s.classMaster)===(f==null?void 0:f._id)?e.jsxs("div",{children:[e.jsx("div",{className:d.fs_table_header_inner,children:e.jsx("h6",{className:d.fs_table_header_inner_h6,style:{width:"10rem"},children:(s==null?void 0:s.className)??"NULL"})}),e.jsx("div",{className:d.fs_table_header_inner,children:e.jsx("h6",{className:d.fs_table_header_inner_h6,onClick:()=>b(s==null?void 0:s.total_fees_arr),style:{cursor:"pointer",color:"#00f"},children:(s==null?void 0:s.total_fees)??"NULL"})}),e.jsx("div",{className:d.fs_table_header_inner,children:e.jsx("h6",{className:d.fs_table_header_inner_h6,onClick:()=>b(s==null?void 0:s.total_collect_arr),style:{cursor:"pointer",color:"#00f"},children:(s==null?void 0:s.total_collect)??"NULL"})}),e.jsx("div",{className:d.fs_table_header_inner,children:e.jsx("h6",{className:d.fs_table_header_inner_h6,onClick:()=>b(s==null?void 0:s.total_pending_arr),style:{cursor:"pointer",color:"#00f"},children:(s==null?void 0:s.total_pending)??"NULL"})}),e.jsx("div",{className:d.fs_table_header_inner,children:e.jsx("h6",{className:d.fs_table_header_inner_h6,onClick:()=>b(s==null?void 0:s.collect_by_student_arr),style:{cursor:"pointer",color:"#00f"},children:(s==null?void 0:s.collect_by_student)??"NULL"})}),e.jsx("div",{className:d.fs_table_header_inner,children:e.jsx("h6",{className:d.fs_table_header_inner_h6,onClick:()=>b(s==null?void 0:s.pending_by_student_arr),style:{cursor:"pointer",color:"#00f"},children:(s==null?void 0:s.pending_by_student)??"NULL"})}),e.jsx("div",{className:d.fs_table_header_inner,children:e.jsx("h6",{className:d.fs_table_header_inner_h6,onClick:()=>b(s==null?void 0:s.collect_by_government_arr),style:{cursor:"pointer",color:"#00f"},children:(s==null?void 0:s.collect_by_government)??"NULL"})}),e.jsx("div",{className:d.fs_table_header_inner,children:e.jsx("h6",{className:d.fs_table_header_inner_h6,onClick:()=>b(s==null?void 0:s.pending_from_government_arr),style:{cursor:"pointer",color:"#00f"},children:(s==null?void 0:s.pending_from_government)??"NULL"})})]},s==null?void 0:s._id):null)})]})})})]},u==null?void 0:u._id)})})]},L)})]})})},K=[{name:"department"},{name:"batch"},{name:"standard"},{name:"class"},{name:"total_fees"},{name:"total_collect"},{name:"total_pending"},{name:"collect_from_student"},{name:"ot_from_student"},{name:"collect_from_gov"},{name:"ot_from_gov"}],Ue=(t,a)=>{for(let c of t)for(let r in c)if(r===a)return c},Re=({onClose:t,fid:a,instituteId:c,onRefetch:r})=>{const{t:n}=$(),[l,m]=p.useState({activity_status:"",all_depart:"",batch_status:"",master:[],batch:"",depart:"",bank:"",single_student:""}),[b,o]=p.useState(!1),[x]=q(),L=p.useCallback(i=>{i!=null&&i._id&&m(g=>({...g,all_depart:"PARTICULAR",depart:i==null?void 0:i._id}))},[]),T=p.useCallback(i=>{i!=null&&i._id?m(g=>({...g,batch_status:"PARTICULAR_BATCH",batch:i==null?void 0:i._id})):m(g=>({...g,batch_status:"ALL_BATCH",batch:""}))},[]),_=p.useCallback(i=>{m(g=>({...g,bank:i==null?void 0:i._id}))},[]),u=()=>{a&&(o(i=>!i),x({fid:a,moduleType:"ADMISSION_VIEW",statisticsBody:l}).then(i=>{r(),t(),o(g=>!g)}).catch({}))};return e.jsx(se,{onClose:t,children:e.jsxs("div",{className:E.modal_container,children:[e.jsx(B,{children:e.jsxs("div",{className:E.modal_container_outer_header,children:[e.jsx("div",{className:E.modal_container_header,children:e.jsx("h6",{children:n("admission_fee_statistics_filter")})}),e.jsx("img",{src:`${y}/close.svg`,alt:"close icon",onClick:t})]})}),e.jsx(Q,{}),e.jsxs(B,{customStyle:{paddingTop:"0"},children:[l.activity_status?null:e.jsxs(e.Fragment,{children:[e.jsxs(e.Fragment,{children:[e.jsx(ne,{fid:a,onSelect:L,onlyDepartment:!0}),e.jsx(ae,{did:l.depart,onSelect:T,onlyBatch:!0})]}),e.jsx(le,{fid:a,onSelect:_})]}),e.jsx(H,{label:"filter",onAction:u})]}),b&&e.jsx(w,{})]})})},$e=({fid:t,instituteId:a})=>{var f,U,h,j,k,s,N,D,M,P;const{t:c}=$(),[r,n]=p.useState(""),[l,m]=p.useState([]),[b]=q(),[o,x]=p.useState(!1),L=p.useCallback(()=>{n("")},[]),T=()=>{n("FILTER")},{financeAdmissionStatics:_,financeAdmissionStaticsRefetch:u,financeAdmissionStaticsLoading:i}=pe({fid:t,skip:!t});p.useEffect(()=>{_!=null&&_.excel_list&&m(_==null?void 0:_.excel_list)},[_==null?void 0:_.excel_list]);const g=()=>{var V,W,Y,I,X,Z;t&&!(_!=null&&_.loading_status)&&(x(z=>!z),b({fid:t,moduleType:"ADMISSION_VIEW",statisticsBody:{activity_status:"",all_depart:"PARTICULAR",batch_status:"PARTICULAR_BATCH",master:[],batch:((W=(V=_==null?void 0:_.fees_statistics_filter)==null?void 0:V.batch_level)==null?void 0:W[0])??"",depart:((I=(Y=_==null?void 0:_.fees_statistics_filter)==null?void 0:Y.department_level)==null?void 0:I[0])??"",bank:((Z=(X=_==null?void 0:_.fees_statistics_filter)==null?void 0:X.bank_level)==null?void 0:Z[0])??""}}).then(()=>{u(),x(z=>!z)}).catch({}))};return e.jsxs(e.Fragment,{children:[e.jsxs(te,{children:[e.jsx(B,{children:e.jsx("div",{className:R.fm_header_container,children:e.jsx("h6",{children:c("admission_fees_statitics")})})}),e.jsx(Q,{}),e.jsxs(B,{customStyle:{paddingTop:"0.2rem"},children:[e.jsxs("div",{className:R.fm_fs_container,children:[e.jsxs("h6",{className:R.fm_title_heading,style:{flex:"2 2"},children:[c("apply_filter")," "," : ",(U=(f=_==null?void 0:_.fees_statistics_filter)==null?void 0:f.department_level)!=null&&U[0]?"Particular Department, ":"",(j=(h=_==null?void 0:_.fees_statistics_filter)==null?void 0:h.batch_level)!=null&&j[0]?"Particular Batch, ":"",(s=(k=_==null?void 0:_.fees_statistics_filter)==null?void 0:k.bank_level)!=null&&s[0]?"Particular Bank":""]}),e.jsxs("div",{className:R.fm_fs_container_inner,style:{flex:"1 1"},children:[e.jsx(H,{label:"filter",onAction:T,customStyle:{margin:"0"}}),e.jsxs("div",{className:R.fm_fs_refetch_container,onClick:g,children:[_!=null&&_.loading_status?e.jsx("img",{src:`${oe}/loading.gif`,alt:"refetch icon"}):e.jsx("img",{src:`${y}/refresh.svg`,alt:"refetch icon"}),e.jsxs("div",{className:R.fm_fs_refetch_container_inner,children:[e.jsx("h6",{children:c("refetch_data")}),e.jsxs("p",{children:[c("last_updated")," : ",_e().format("DD MMM YYYY"),", ",re(_==null?void 0:_.last_update,"LT")]})]})]})]})]}),i&&e.jsx(ue,{}),(l==null?void 0:l[0])&&e.jsx(Te,{statitics:l==null?void 0:l[0],batchId:((D=(N=_==null?void 0:_.fees_statistics_filter)==null?void 0:N.batch_level)==null?void 0:D[0])??"",depart:((P=(M=_==null?void 0:_.fees_statistics_filter)==null?void 0:M.department_level)==null?void 0:P[0])??""})]})]}),r==="FILTER"?e.jsx(Re,{onClose:L,fid:t,instituteId:a,onRefetch:u}):null,o&&e.jsx(w,{})]})},We=({fid:t,instituteId:a})=>{const[c]=de();return c.get("n")==="admission"?e.jsx($e,{instituteId:a,fid:t}):e.jsx(ke,{instituteId:a,fid:t})};export{We as default};
