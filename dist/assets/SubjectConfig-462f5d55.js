import{R,j as e,u as q,r as v,Q as M,e as je,t as Te,l as qe,S as ce,am as Se,c as Be,n as ge,N as He,W as Oe,lC as X,L as ke,d as pe,b as We,lw as Qe}from"./index-731451a5.js";import{h as J,M as ne,s as P,i as V,f as te,g as Je,S as Ge,d as ye,e as Ke}from"./McqWrapper-6c60f442.js";import{I as Xe,J as Ye,K as Ze,L as Ie,M as Ae,N as Pe,O as Me,P as Ve,Q as es,R as ss,S as $e,T as ts,U as as,V as ns,W as is,X as cs,Y as rs,h as os,u as De,j as _s,Z as ls,_ as ms,$ as ds,H as hs,a0 as xs,a1 as js,a2 as gs}from"./subject-api-215ccf27.js";import{L as ps}from"./LoaderButton-71df50a7.js";import{s as me,M as us}from"./Modal-c2e6a845.js";import{E as le}from"./EmptyInfo-7233226d.js";import{J as Ns}from"./JoinFormCalender-5158d888.js";import{s as oe,C as vs}from"./Confirm-10791e9a.js";import{A as fs}from"./Academics-f38350fe.js";import{A as ws}from"./AcademicDetail-b12ada4f.js";import{s as Z,E as bs,a as ie}from"./Exminations.module-c45be880.js";import{B as ue}from"./BorderBottom-47800983.js";import{U as ys}from"./UniversalTab-d4f2174c.js";import{P as Es}from"./PopupWrapper-ffbaef7a.js";import{J as _e}from"./JoinFormInput-8e74a0e0.js";import{s as de}from"./HostelFeeStructure.module-5a40a31e.js";import{T as Ts}from"./TileWrapper-be9153cb.js";import{J as Ss}from"./JoinFormTextArea-7f6dded0.js";import{s as he}from"./EditConfirm.module-344fbdb9.js";import{S as $s}from"./SearchModalBackdrop-5b309d60.js";import{O as Ds}from"./Overlay-07ce6f88.js";import"./Catalog.module-33ea6d38.js";import"./class-api-ec8ace00.js";import"./Attendence.module-a5391855.js";import"./Funds.module-95df49a8.js";import"./index-43f19233.js";import"./index-387d7a00.js";import"./Tile.module-64552da2.js";import"./Divider-6278282f.js";import"./JoinForm.module-212f9bb3.js";import"./AddAttainmentInSubject-9f4b9a5b.js";import"./SeatingArrangement.module-3f4ae6aa.js";import"./JoinFormInputView-879755fe.js";import"./DepartmentTabChangeLink-58880b09.js";import"./FeesStructure.module-7a88fbbc.js";import"./image_extenstion-bbfb153e.js";import"./Assignment.module-f9381027.js";import"./AcademicAdministatorTabChange-5486b59e.js";import"./Markdetails.module-89b9535e.js";import"./DatePicker-305f3dc6.js";import"./SearchModalWrapper-6e85c9f3.js";import"./SubjectDailyUpdateCard-6de260b7.js";import"./Overlay.module-9133d1bb.js";import"./SearchHeader.module-b69c8942.js";import"./department-api-a4f0b4b7.js";import"./JoinFormFile-110be590.js";const Fs="_createMCQQuestionTop_16wu3_1",Ls="_question_with_drop_16wu3_11",Rs="_createMCQQuestionTopMenu_16wu3_22",Us="_createMCQQuestionBody_16wu3_37",zs="_addpng_16wu3_60",Cs="_optionInput_16wu3_77",qs="_weightage_16wu3_86",Bs="_wbox_16wu3_96",Hs="_singleOption_16wu3_107",Os="_op_16wu3_77",ks="_opcorrect_16wu3_130",Ws="_postTextareaa_16wu3_135",Qs="_createButton_16wu3_158",Js="_upload_16wu3_181",Gs="_qImage_16wu3_185",Ks="_option_header_16wu3_190",Xs="_option_with_weight_16wu3_196",Ys="_option_each_16wu3_202",Zs="_option_each_span_16wu3_207",H={createMCQQuestionTop:Fs,question_with_drop:Ls,createMCQQuestionTopMenu:Rs,createMCQQuestionBody:Us,addpng:zs,optionInput:Cs,weightage:qs,wbox:Bs,singleOption:Hs,op:Os,opcorrect:ks,postTextareaa:Ws,createButton:Qs,upload:Js,qImage:Gs,option_header:Ks,option_with_weight:Xs,option_each:Ys,option_each_span:Zs};const Ee=({imageContain:s,showImage:i})=>{const[o,n]=R.useState(!1),a=R.useRef(null),c=r=>{r.preventDefault(),r.stopPropagation(),r.type==="dragenter"||r.type==="dragover"?n(!0):r.type==="dragleave"&&n(!1)},t=r=>{r.clipboardData.files.length&&(s(r.clipboardData.files[0]),console.info(r.clipboardData.files[0]))},h=r=>{r.preventDefault(),r.stopPropagation(),n(!1),r.dataTransfer.files&&r.dataTransfer.files[0]&&s(r.dataTransfer.files[0])},m=function(r){r.preventDefault(),r.target.files&&r.target.files[0]&&s(r.target.files[0])},p=()=>{a.current.click()};return e.jsxs("form",{id:"form-file-upload",onDragEnter:c,onSubmit:r=>r.preventDefault(),onPaste:t,children:[e.jsx("input",{ref:a,type:"file",id:"input-file-upload",multiple:!1,onChange:m,accept:"image/png, image/jpeg, image/jpg"}),e.jsx("label",{id:"label-file-upload",htmlFor:"input-file-upload",className:o?"drag-active":"",style:i?{height:"100%"}:{height:"auto"},children:e.jsxs("div",{children:[i&&e.jsx("img",{src:i,alt:"dopred files",className:"drag-active-image",onClick:p}),!i&&e.jsxs(e.Fragment,{children:[e.jsx("p",{id:"label-file-upload-paragraph",children:"Drag and drop your file here or"}),e.jsx("button",{className:"upload-button",onClick:p,children:"Upload a file"})]})]})}),!i&&e.jsx("div",{className:"upload-button",children:"Paste a file"}),o&&e.jsx("div",{id:"drag-file-element",onDragEnter:c,onDragLeave:c,onDragOver:c,onDrop:h})]})};function Ne({setTestIndex:s,smid:i,cmid:o,setCreateTestSet:n,setSelectedQuestion:a}){var K,Y,I,A,b,W;const{t:c}=q(),{subjectMcqQuestionCount:t,subjectMcqQuestionCountRefetch:h}=Xe({data:{smid:i,cmid:o},skip:!i&&!o}),[m,p]=v.useState({questionSNO:(K=t==null?void 0:t.subjectMaster)!=null&&K.questionCount?((Y=t==null?void 0:t.subjectMaster)==null?void 0:Y.questionCount)+1>9?((I=t==null?void 0:t.subjectMaster)==null?void 0:I.questionCount)+1:`0${((A=t==null?void 0:t.subjectMaster)==null?void 0:A.questionCount)+1}`:"01",questionNumber:1,questionDescription:"",options:[{option:"",optionNumber:"01",image:""},{option:"",optionNumber:"02",image:""}],correctAnswer:[],answerDescription:""}),[r,u]=v.useState(null),[y,x]=v.useState(null),[N,g]=v.useState(null),[$,E]=v.useState(null),[j,w]=v.useState(!1);v.useEffect(()=>{i&&o&&h()},[i,o,h]),v.useEffect(()=>{var F;(F=t==null?void 0:t.subjectMaster)!=null&&F.questionCount&&p(z=>{var Q,G,ae;return{...z,questionSNO:((Q=t==null?void 0:t.subjectMaster)==null?void 0:Q.questionCount)+1>9?((G=t==null?void 0:t.subjectMaster)==null?void 0:G.questionCount)+1:`0${((ae=t==null?void 0:t.subjectMaster)==null?void 0:ae.questionCount)+1}`}})},[(b=t==null?void 0:t.subjectMaster)==null?void 0:b.questionCount]);const[d]=Ye(),f=document.querySelector("textarea");f==null||f.addEventListener("keyup",F=>{f.style.height="auto";let z=F.target.scrollHeight;f.style.height=`${z}px`});const L=F=>{g(URL.createObjectURL(F)),u(F)},l=()=>{p({...m,questionNumber:m.questionNumber+1})},T=()=>{m.questionNumber===0?p({...m,questionNumber:0}):p({...m,questionNumber:m.questionNumber-1})},S=F=>{E(URL.createObjectURL(F)),x(F)},D=()=>{const F=m.options.length;F<5&&p(z=>({...z,options:[...z.options,{option:"",optionNumber:`0${F+1}`,image:""}]}))},B=(F,z)=>{const Q=[...m.options];Q[F][z.target.name]=z.target.value,p({...m,options:Q})},k=F=>{p({...m,correctAnswer:[F]})},C=()=>{w(!0);const F=new FormData;F.append("questionSNO",m.questionSNO),F.append("questionNumber",m.questionNumber),F.append("questionDescription",m.questionDescription),F.append("options",JSON.stringify(m.options)),F.append("correctAnswer",JSON.stringify(m.correctAnswer)),F.append("answerDescription",m.answerDescription),F.append("questionImage",r),F.append("answerImage",y),d({smid:i,cmid:o,createQuestion:F}).then(z=>{var Q;(Q=z.data)!=null&&Q.question&&(w(!1),n(G=>{var ae,be;return{...G,testTotalQuestion:G.testTotalQuestion+1,testTotalNumber:G.testTotalNumber+((ae=z.data.question)==null?void 0:ae.questionNumber),questions:[...G.questions,(be=z.data.question)==null?void 0:be._id]}}),a(G=>[...G,z.data.question]),s(4))}).catch({})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:H.createMCQQuestionTop,children:[e.jsx("img",{src:"/images/members/arrow-left.svg",alt:"",onClick:()=>{s(2)}}),e.jsx("h6",{children:c("create_question")}),e.jsx("img",{className:H.createMCQQuestionTopMenu,src:"/images/menu-dots-dark-icon.svg",alt:""})]}),e.jsxs("div",{className:H.createMCQQuestionBody,children:[e.jsxs("div",{className:H.question_with_drop,children:[e.jsxs("div",{style:{width:"90%"},children:[e.jsxs("h6",{children:[c("question")," ",m.questionSNO,"."]}),e.jsx("textarea",{className:H.postTextareaa,type:"text",name:"question",placeholder:c("write_down_the_question"),value:m.questionDescription,onChange:F=>p({...m,questionDescription:F.target.value}),style:{width:"95%"}})]}),e.jsx(Ee,{imageContain:L,showImage:N})]}),e.jsx("div",{className:H.option_header,children:e.jsx("h6",{children:c("options")})}),m.options.map((F,z)=>e.jsxs("div",{className:H.option_each,children:[e.jsxs("span",{className:H.option_each_span,children:[z===0?"A":z===1?"B":z===2?"C":z===3?"D":"E","."]}),e.jsx("input",{className:H.optionInput,type:"text",placeholder:c(z===0?"first_option":z===1?"second_option":z===2?"third_option":z===3?"fourth_option":"fifth_option"),value:F.option,name:"option",onChange:Q=>B(z,Q)})]},z)),e.jsxs("div",{className:H.option_with_weight,children:[e.jsx("p",{onClick:D,children:c("add_option")}),e.jsxs("div",{className:H.weightage,style:{marginTop:"2vw",marginBottom:"2vw"},children:[e.jsxs("h6",{children:[" ",c("weightage_of_question")," :"]}),e.jsxs("div",{className:H.weightage,children:[e.jsx("div",{className:`${H.wbox}`,onClick:l,children:e.jsx("img",{src:"/images/members/up-icon.svg",alt:""})}),e.jsx("h6",{children:m.questionNumber}),e.jsx("div",{className:`${H.wbox}`,onClick:T,children:e.jsx("img",{src:"/images/members/down-icon.svg",alt:""})})]})]})]}),e.jsx("h6",{children:c("select_correct_answer")}),e.jsx("div",{className:H.singleOption,children:(W=m.options)==null?void 0:W.map((F,z)=>{var Q,G;return e.jsx("div",{onClick:()=>k(F),className:F.optionNumber===((G=(Q=m.correctAnswer)==null?void 0:Q[0])==null?void 0:G.optionNumber)?`${H.op} ${H.opcorrect}`:H.op,children:z===0?"A":z===1?"B":z===2?"C":z===3?"D":"E"})})}),e.jsx("h6",{children:c("add_solution")}),e.jsxs("div",{className:H.question_with_drop,children:[e.jsx("textarea",{className:H.postTextareaa,type:"text",required:!0,name:"CreateInsPost",value:m.answerDescription,onChange:F=>p({...m,answerDescription:F.target.value}),style:{width:"80%"}}),e.jsx(Ee,{imageContain:S,showImage:$})]}),e.jsxs("button",{className:H.createButton,onClick:C,disabled:j,children:[e.jsx("span",{children:c("create_question")}),j&&e.jsx("div",{children:e.jsx(ps,{})})]}),j&&e.jsx(M,{})]})]})}const ve=({width:s,tabHandler:i,tabEventName:o,topLevelIndex:n,backIndex:a,type:c,onSearchEvent:t})=>{const{t:h}=q();return e.jsx(e.Fragment,{children:c?e.jsxs("div",{className:J.search_container,style:{width:`${s}`},children:[e.jsx("img",{alt:"search icon for question",src:"/images/search-dept-icon.svg"}),e.jsx("input",{type:"text",placeholder:h("search_question"),onChange:t})]}):e.jsxs("div",{className:J.search_container,style:{width:`${s}`},onClick:()=>{i(o),n(a)},children:[e.jsx("img",{alt:"search icon for question",src:"/images/search-dept-icon.svg"}),e.jsx("input",{type:"text",placeholder:h("search_question")})]})})},xe=({selectTitle:s,selectTitlePlaceholder:i,selectOptions:o,switchOption:n,type:a,top:c})=>e.jsxs("div",{className:me.item,children:[e.jsx("p",{className:me.itemHeading,children:s}),o==null?void 0:o.map((t,h)=>e.jsx("div",{className:me.select_dropdown,onClick:()=>{n(t)},children:a==="dept"?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:"/images/members/uni-mcq-depart.svg",alt:"not found"}),e.jsx("p",{children:t==null?void 0:t.dName})]}):a==="cls"?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:"/images/members/uni-mcq-class.svg",alt:"not found"}),e.jsx("p",{children:t==null?void 0:t.className})]}):e.jsxs(e.Fragment,{children:[e.jsx("img",{src:"/images/members/uni-mcq-subject.svg",alt:"not found"}),e.jsx("p",{children:t==null?void 0:t.subjectName})]})},h))]}),Is=({open:s,setOpen:i,sid:o,onRefetch:n})=>{const[a,c]=R.useState({universalDepartment:"",universalDepartmentName:"",universalClass:"",universalClassName:"",universalSubject:"",universalSubjectName:""}),{subjectMcqUniversalDepartment:t}=Ze(),{subjectMcqUniversalClass:h,subjectMcqUniversalClassRefetch:m}=Ie({did:a.universalDepartment,skip:!a.universalDepartment}),{subjectMcqUniversalSubject:p,subjectMcqUniversalSubjectRefetch:r}=Ae({cid:a.universalClass,skip:!a.universalClass}),[u]=Pe();R.useEffect(()=>{a.universalDepartment&&m()},[a.universalDepartment,m]),R.useEffect(()=>{a.universalClass&&r()},[a.universalClass,r]);const y=()=>{u({sid:o,mcqProfile:{universalDepartment:a.universalDepartment,universalClass:a.universalClass,universalSubject:a.universalSubject}}).then(()=>{n(),i(!1)}).catch({})};R.useEffect(()=>{a.universalDepartment&&a.universalClass&&a.universalSubject&&y()},[a.universalDepartment,a.universalClass,a.universalSubject]);const x=g=>{g!=null&&g.dName?c({...a,universalDepartment:g==null?void 0:g._id,universalDepartmentName:g==null?void 0:g.dName}):g!=null&&g.className?c({...a,universalClass:g==null?void 0:g._id,universalClassName:g==null?void 0:g.className}):c({...a,universalSubject:g==null?void 0:g._id,universalSubjectName:g==null?void 0:g.subjectName})},{t:N}=q();return e.jsx(e.Fragment,{children:e.jsxs(us,{open:s,setOpen:i,modalTitle:"MCQ’s",button:"no",children:[e.jsxs("div",{className:J.mcq_universal_profile,children:[e.jsx("img",{src:"/images/members/mcq-profile-icon.svg",alt:"not found"}),e.jsxs("div",{className:J.mcq_universal_profile_select,children:[e.jsx("p",{className:!a.universalDepartmentName&&J.mcq_universal_profile_select_active,children:a.universalDepartmentName||N("please_select_stream")}),e.jsx("p",{className:a.universalDepartmentName&&!a.universalClassName&&J.mcq_universal_profile_select_active,children:a.universalClassName||N("please_select_class")}),e.jsx("p",{className:a.universalDepartmentName&&a.universalClassName&&!a.universalSubjectName&&J.mcq_universal_profile_select_active,children:a.universalSubjectName||N("please_select_subject")})]})]}),a.universalDepartment?a.universalClass?e.jsx(xe,{selectTitle:N("select_subject_from_below"),selectTitlePlaceholder:a.universalSubjectName||N("please_select_subject"),selectOptions:p?p==null?void 0:p.universalSubject:[],type:"sub",switchOption:x,top:"276px"}):e.jsx(xe,{selectTitle:N("select_class_from_below"),selectTitlePlaceholder:a.universalClassName||N("please_select_class"),selectOptions:h?h==null?void 0:h.universalClass:[],type:"cls",switchOption:x,top:"180px"}):e.jsx(xe,{selectTitle:N("select_stream_from_below"),selectTitlePlaceholder:a.universalDepartmentName||N("please_select_stream"),selectOptions:t?t==null?void 0:t.universalDepartment:[],type:"dept",switchOption:x,top:"105px"})]})})},As=({tabHandler:s,topLevelIndex:i,sid:o,subjectMcqProfile:n,onRefetch:a})=>{var m,p,r,u,y,x;const[c,t]=v.useState(!1),{t:h}=q();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:J.header_container,children:[e.jsxs("div",{className:J.header_subcontainer1,children:[e.jsx(ve,{width:"387px",tabEventName:"SEARCH_QUESTION",tabHandler:s,backIndex:"10",topLevelIndex:i}),e.jsxs("div",{className:J.create_set,onClick:()=>{s("CREATE_SET"),i("10")},children:[e.jsx("img",{className:J.add_icon,src:"/images/members/add-mcq-test.svg",alt:"add testset icon"}),e.jsx("h6",{children:h("create_new_set")})]})]}),e.jsxs("div",{className:J.header_subcontainer,onClick:()=>t(!0),children:[e.jsx("img",{alt:"mcq profile icon for universal",src:"/images/mcq-profile-icon.svg"}),e.jsxs("div",{className:J.mcq_profile,children:[e.jsx("p",{children:((p=(m=n==null?void 0:n.subject)==null?void 0:m.universalDepartment)==null?void 0:p.dName)||h("select_stream_from_below")}),e.jsx("p",{children:((u=(r=n==null?void 0:n.subject)==null?void 0:r.universalClass)==null?void 0:u.className)||h("select_class_from_below")}),e.jsx("p",{children:((x=(y=n==null?void 0:n.subject)==null?void 0:y.universalSubject)==null?void 0:x.subjectName)||h("select_subject_from_below")})]})]})]}),e.jsx("h6",{className:J.header_mcq,children:h("mcq_sets")}),c&&e.jsx(Is,{open:c,setOpen:t,sid:o,onRefetch:a})]})},re=({topLevelIndex:s,tabHandler:i,name:o,tabEventName:n,backIndex:a,editType:c})=>e.jsxs("div",{className:J.create_set_header,children:[e.jsx("img",{src:"/images/members/arrow-left.svg",alt:"",onClick:()=>{i(n),s(a)}}),e.jsx("h6",{children:o}),c&&e.jsx("img",{className:J.create_set_header_edit,src:"/images/members/edit-icon.svg",alt:"edit test set icon",onClick:()=>{i("EDIT_TEST")}}),!c&&e.jsx("div",{})]}),Ps="_question_container_1fray_1",Ms="_one_question_1fray_5",Vs="_one_question_active_1fray_30",et="_view_question_1fray_34",st="_view_question_header_1fray_39",tt="_view_question_content_1fray_44",at="_option_container_1fray_54",nt="_view_question_option_text_1fray_58",it="_option_each_1fray_67",ct="_option_each_correct_1fray_68",rt="_option_each_count_1fray_75",ot="_option_each_count_correct_1fray_95",_t="_view_question_answer_image_1fray_99",lt="_show_question_1fray_104",O={question_container:Ps,one_question:Ms,one_question_active:Vs,view_question:et,view_question_header:st,view_question_content:tt,option_container:at,view_question_option_text:nt,option_each:it,option_each_correct:ct,option_each_count:rt,option_each_count_correct:ot,view_question_answer_image:_t,show_question:lt},fe=({topLevelIndex:s,backIndex:i,questionId:o})=>{var t,h,m,p,r,u,y,x,N,g,$,E,j,w,d,f;const{t:n}=q(),{subjectMcqOneQuestion:a,subjectMcqOneQuestionRefetch:c}=Me({qid:o,skip:!o});return R.useEffect(()=>{o&&c()},[o]),e.jsxs(e.Fragment,{children:[e.jsx(re,{name:"Questions",tabEventName:"TEST_SET_LIST",backIndex:i,tabHandler:()=>{},topLevelIndex:s}),e.jsxs("div",{className:O.view_question,children:[e.jsxs("div",{className:O.view_question_header,children:[e.jsxs("h6",{children:[" ",n("add_question")," ",+((t=a==null?void 0:a.question)==null?void 0:t.questionSNO),"."]}),e.jsx("h6",{children:((h=a==null?void 0:a.question)==null?void 0:h.questionNumber)>9?(m=a==null?void 0:a.question)==null?void 0:m.questionNumber:`0${(p=a==null?void 0:a.question)==null?void 0:p.questionNumber}`})]}),e.jsx("textarea",{className:O.show_question,readOnly:!0,rows:(r=a==null?void 0:a.question)==null?void 0:r.questionDescription.split(`
`).length,defaultValue:(u=a==null?void 0:a.question)==null?void 0:u.questionDescription}),(x=(y=a==null?void 0:a.question)==null?void 0:y.questionImage)!=null&&x.length?e.jsx("img",{src:`${je}/${(N=a==null?void 0:a.question)==null?void 0:N.questionImage[0].documentKey}`,className:O.view_question_answer_image,alt:""}):"",e.jsx("div",{className:O.option_container,children:($=(g=a==null?void 0:a.question)==null?void 0:g.options)==null?void 0:$.map((L,l)=>{var T,S,D,B;return e.jsxs("div",{className:((S=(T=a==null?void 0:a.question)==null?void 0:T.correctAnswer[0])==null?void 0:S.optionNumber)===(L==null?void 0:L.optionNumber)?O.option_each_correct:O.option_each,children:[e.jsx("div",{className:((B=(D=a==null?void 0:a.question)==null?void 0:D.correctAnswer[0])==null?void 0:B.optionNumber)===(L==null?void 0:L.optionNumber)?`${O.option_each_count} ${O.option_each_count_correct}`:O.option_each_count,children:l===0?"A":l===1?"B":l===2?"C":l===3?"D":"E"}),e.jsx("p",{className:O.view_question_option_text,children:L.option})]})})}),e.jsxs("h6",{children:[" ",n("solution")," :"]}),e.jsx("textarea",{readOnly:!0,className:O.show_question,rows:(E=a==null?void 0:a.question)==null?void 0:E.answerDescription.split(`
`).length,defaultValue:(j=a==null?void 0:a.question)==null?void 0:j.answerDescription}),(d=(w=a==null?void 0:a.question)==null?void 0:w.answerImage)!=null&&d.length?e.jsx("img",{src:`${je}/${(f=a==null?void 0:a.question)==null?void 0:f.answerImage[0].documentKey}`,className:O.view_question_answer_image,alt:""}):""]})]})},Fe=({tabHandler:s,topLevelIndex:i,tabEventName:o,backIndex:n,smid:a,cmid:c,usmid:t,ucmid:h,setCreateTestSet:m,createTestSet:p,setTestIndex:r,setSelectedQuestion:u})=>{const{t:y}=q(),[x,N]=R.useState(0),[g,$]=R.useState(""),[E,j]=R.useState(""),[w,d]=R.useState([]),[f,L]=Te(),[l,T]=R.useState(!0),[S,D]=R.useState(1),[B,k]=v.useState(!0),{subjectMcqQuestion:C,subjectMcqQuestionRefetch:K}=Ve({data:{smid:a,cmid:c,page:S,limit:10,usmid:t||"",ucmid:h||"",search:E},skip:!a&&!c});R.useEffect(()=>{a&&c&&K()},[a,c,S,E,K]),R.useEffect(()=>{L&&l&&D(b=>b+1)},[L,l]),R.useEffect(()=>{E?(d(C==null?void 0:C.questions),k(!1)):(C!=null&&C.questions&&(d(S===1?C==null?void 0:C.questions:b=>[...new Set([...b,...C==null?void 0:C.questions].map(JSON.stringify))].map(JSON.parse)),k(!1)),(C==null?void 0:C.questions.length)===10?T(!0):T(!1))},[C==null?void 0:C.questions]);const Y=b=>{o==="SEARCH_QUESTION_SET"?(m(W=>({...W,testTotalQuestion:W.testTotalQuestion+1,testTotalNumber:W.testTotalNumber+(b==null?void 0:b.questionNumber),questions:[...W.questions,b==null?void 0:b._id]})),u(W=>[...W,b]),r(4)):o==="TEST_SET_LIST"&&($(b==null?void 0:b._id),N(1))},I=v.useCallback(qe.debounce(b=>j(b),500),[]),A=b=>{I(b.target.value),b.target.value||D(1)};return e.jsxs(e.Fragment,{children:[x===0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{marginBottom:"1.5vw"},children:e.jsx(re,{name:"Questions",tabEventName:o,backIndex:n,tabHandler:s,topLevelIndex:i})}),e.jsx(ve,{width:"100%",type:!0,onSearchEvent:A}),e.jsxs("div",{className:O.question_container,children:[w==null?void 0:w.map((b,W)=>{var F,z;return(w==null?void 0:w.length)===W+1?e.jsxs("div",{className:(F=p==null?void 0:p.questions)!=null&&F.includes(b==null?void 0:b._id)?`${O.one_question} ${O.one_question_active}`:O.one_question,onClick:()=>Y(b),ref:f,children:[e.jsxs("div",{children:[e.jsxs("h6",{children:[" ",y("add_question")," ",+(b==null?void 0:b.questionSNO)]}),e.jsx("p",{style:{wordBreak:"break-all"},children:b==null?void 0:b.questionDescription})]}),e.jsx("p",{children:(b==null?void 0:b.questionNumber)>9?b==null?void 0:b.questionNumber:`0${b==null?void 0:b.questionNumber}`})]},b==null?void 0:b._id):e.jsxs("div",{className:(z=p==null?void 0:p.questions)!=null&&z.includes(b==null?void 0:b._id)?`${O.one_question} ${O.one_question_active}`:O.one_question,onClick:()=>Y(b),children:[e.jsxs("div",{children:[e.jsxs("h6",{children:[" ",y("add_question")," ",+(b==null?void 0:b.questionSNO)]}),e.jsx("p",{style:{wordBreak:"break-all"},children:b==null?void 0:b.questionDescription})]}),e.jsx("p",{children:(b==null?void 0:b.questionNumber)>9?b==null?void 0:b.questionNumber:`0${b==null?void 0:b.questionNumber}`})]},b==null?void 0:b._id)}),!B&&!w.length&&e.jsx(le,{customStyleContainer:{marginTop:"9rem"},title:"No question or search found. "}),B&&e.jsx(ce,{status:"white"})]})]}),x===1&&e.jsx(fe,{topLevelIndex:N,backIndex:0,questionId:g})]})},mt="_create_set_header_wzdtj_1",dt="_create_set_header_left_wzdtj_19",ht="_set_name_wzdtj_24",xt="_add_question_wzdtj_44",jt="_add_question_testset_wzdtj_45",gt="_left_set_header_wzdtj_64",pt="_save_test_set_wzdtj_71",ut="_take_test_set_wzdtj_72",Nt="_test_set_info_wzdtj_86",vt="_test_set_info_footer_wzdtj_104",ft="_add_text_question_wzdtj_122",wt="_select_information_all_select_wzdtj_129",bt="_one_question_wzdtj_144",yt="_one_question_active_wzdtj_154",Et="_one_question_header_wzdtj_162",Tt="_one_question_header_left_wzdtj_169",St="_one_question_remove_wzdtj_201",$t="_one_question_detail_wzdtj_212",Dt="_select_information_wzdtj_129",Ft="_select_information_count_wzdtj_221",Lt="_form_container_wzdtj_241",Rt="_form_time_field_wzdtj_272",Ut="_form_time_field_each_wzdtj_277",zt="_time_duration_wzdtj_280",U={create_set_header:mt,create_set_header_left:dt,set_name:ht,add_question:xt,add_question_testset:jt,left_set_header:gt,save_test_set:pt,take_test_set:ut,test_set_info:Nt,test_set_info_footer:vt,add_text_question:ft,select_information_all_select:wt,one_question:bt,one_question_active:yt,one_question_header:Et,one_question_header_left:Tt,one_question_remove:St,one_question_detail:$t,select_information:Dt,select_information_count:Ft,form_container:Lt,form_time_field:Rt,form_time_field_each:Ut,time_duration:zt},Ct="_set_container_163l1_1",qt="_test_163l1_8",Bt="_testRight_163l1_24",Ht="_testRightBottom_163l1_32",se={set_container:Ct,test:qt,testRight:Bt,testRightBottom:Ht},Le=({setTestIndex:s,tabEventName:i,backIndex:o,tabHandler:n,smid:a,cmid:c,usmid:t,ucmid:h,setTestSetId:m})=>{const{t:p}=q(),[r,u]=R.useState([]),[y,x]=Te(),[N,g]=R.useState(!0),[$,E]=R.useState(1),{subjectMcqTestset:j,subjectMcqTestsetRefetch:w}=es({data:{smid:a,cmid:c,usmid:t||"",ucmid:h||"",page:$,limit:10},skip:!a&&!c});return v.useEffect(()=>{c&&w()},[a,c,$,w]),R.useEffect(()=>{x&&N&&E(d=>d+1)},[x,N]),R.useEffect(()=>{if(j!=null&&j.testSets){const d=[...r,...j==null?void 0:j.testSets],f=[...new Set(d.map(JSON.stringify))].map(JSON.parse);u(f)}(j==null?void 0:j.testSets.length)===10?g(!0):g(!1)},[j==null?void 0:j.testSets]),e.jsx("div",{className:se.set_container,children:r==null?void 0:r.map((d,f)=>(r==null?void 0:r.length)===f+1?e.jsxs("div",{className:se.test,onClick:()=>{m(d),n(i),s(o)},ref:y,children:[e.jsx("img",{src:"/images/members/mcq-test-icon.svg",alt:""}),e.jsxs("div",{className:se.testRight,children:[e.jsx("h6",{children:d==null?void 0:d.testName}),e.jsxs("div",{className:se.testRightBottom,children:[e.jsxs("p",{children:[" ",p("questions")," : ",d==null?void 0:d.testTotalQuestion]}),e.jsxs("p",{children:[p("marks")," :"," ",(d==null?void 0:d.testTotalNumber)>9?d==null?void 0:d.testTotalNumber:`0${d==null?void 0:d.testTotalNumber}`]})]})]})]},f):e.jsxs("div",{className:se.test,onClick:()=>{m(d),n(i),s(o)},children:[e.jsx("img",{src:"/images/members/mcq-test-icon.svg",alt:""}),e.jsxs("div",{className:se.testRight,children:[e.jsx("h6",{children:d==null?void 0:d.testName}),e.jsxs("div",{className:se.testRightBottom,children:[e.jsxs("p",{children:[" ",p("questions")," : ",d==null?void 0:d.testTotalQuestion]}),e.jsxs("p",{children:[p("marks")," :"," ",(d==null?void 0:d.testTotalNumber)>9?d==null?void 0:d.testTotalNumber:`0${d==null?void 0:d.testTotalNumber}`]})]})]})]},f))})},Re=({setTestIndex:s,createTestSet:i,smid:o,cmid:n,usmid:a,ucmid:c,setCreateTestSet:t,setSelectedQuestion:h,setTestSetId:m})=>{const[p,r]=R.useState(0),u=()=>{},{t:y}=q();return e.jsxs(e.Fragment,{children:[p===0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:U.create_set_header,style:{marginBottom:"1vw"},children:[e.jsxs("div",{className:U.left_set_header,children:[e.jsx("img",{src:"/images/members/arrow-left.svg",alt:"",onClick:()=>{s(1)}}),e.jsx("h6",{children:(i==null?void 0:i.testName)||y("test_set_name")})]}),e.jsxs("div",{className:U.left_set_header,children:[e.jsx(ve,{width:"250px",tabEventName:"SEARCH_QUESTION",tabHandler:u,backIndex:1,topLevelIndex:r}),e.jsx("div",{className:U.add_question,style:{marginTop:"0"},onClick:()=>s(3),children:y("add_new_question")})]})]}),e.jsx(Le,{tabHandler:u,setTestIndex:s,backIndex:5,tabEventName:"TEST_SET_OPEN",smid:o,cmid:n,usmid:a,ucmid:c,setTestSetId:m})]}),p===1&&e.jsx(Fe,{tabHandler:u,topLevelIndex:r,setTestIndex:s,tabEventName:"SEARCH_QUESTION_SET",backIndex:0,smid:o,cmid:n,usmid:a,ucmid:c,setCreateTestSet:t,createTestSet:i,setSelectedQuestion:h})]})},Ue=({setTestIndex:s,createTestSet:i,selectedQuestion:o,onRemoveQuestion:n,onSaveTestSet:a})=>{const[c,t]=R.useState(0),[h,m]=R.useState(""),[p,r]=R.useState(!1),[u,y]=R.useState(""),{t:x}=q(),N=()=>{o!=null&&o.length?a(2):(y("Please select atleast on question for create a set"),r(E=>!E))},g=E=>{m(E),t(1)},$=(E,j)=>{E.stopPropagation(),n(j)};return e.jsxs(e.Fragment,{children:[c===0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:U.create_set_header,style:{border:"none"},children:[e.jsx("img",{src:"/images/members/arrow-left.svg",alt:"",onClick:()=>{s(2)}}),e.jsx("h6",{children:x("test_set")}),e.jsx("p",{className:U.save_test_set,onClick:N,children:x("save_test")})]}),e.jsxs("div",{className:U.test_set_info,children:[e.jsx("h6",{children:(i==null?void 0:i.testName)||"Std 6th Unit Test"}),e.jsxs("div",{className:U.test_set_info_footer,children:[e.jsxs("p",{children:[x("total_number_of_questions")," :"," ",(i==null?void 0:i.testTotalQuestion)||0]}),e.jsxs("p",{children:[x("total_test_set_marks")," :"," ",(i==null?void 0:i.testTotalNumber)||0]})]})]}),e.jsx("div",{className:U.add_text_question,children:e.jsx("p",{onClick:()=>s(2),children:x("add_questions")})}),e.jsx("div",{className:U.all_added_question,children:o==null?void 0:o.map(E=>e.jsxs("div",{className:U.one_question,onClick:()=>g(E._id),children:[e.jsxs("div",{className:U.one_question_header,children:[e.jsxs("div",{className:U.one_question_header_left,children:[e.jsxs("h6",{children:[" ",x("add_question")," ",+(E==null?void 0:E.questionSNO)]}),e.jsx("p",{className:U.one_question_remove,onClick:j=>$(j,E),children:x("remove")})]}),e.jsxs("h6",{children:[" ",(E==null?void 0:E.questionNumber)>9?E==null?void 0:E.questionNumber:`0${E==null?void 0:E.questionNumber}`]})]}),e.jsx("p",{className:U.one_question_detail,children:E==null?void 0:E.questionDescription})]},E._id))})]}),c===1&&e.jsx(fe,{topLevelIndex:t,backIndex:0,questionId:h}),e.jsx(Se,{run:p,setRun:r,msg:u})]})},ze=({tabHandler:s,topLevelIndex:i,setCreateTestSet:o,createTestSet:n,setTestIndex:a})=>{const[c,t]=v.useState(!1),[h,m]=v.useState(""),{t:p}=q(),r=()=>{n.testName?a(2):(m("Please enter test set name"),t(u=>!u))};return e.jsxs(e.Fragment,{children:[e.jsx(re,{name:p("test_set"),tabEventName:"TEST_SET_LIST",backIndex:"3",tabHandler:s,topLevelIndex:i}),e.jsxs("div",{className:U.set_name,children:[e.jsx("input",{type:"text",placeholder:p("write_down_the_test_set_name"),value:n.testName,onChange:u=>o(y=>({...y,testName:u.target.value}))}),e.jsx("div",{className:U.add_question_testset,onClick:r,children:p("add_questions")})]}),e.jsx(Se,{run:c,setRun:t,msg:h})]})};function Ot({setTakeTestIndex:s,tsid:i,sid:o,tabHandler:n,setTestIndex:a}){const[c,t]=v.useState({tsid:i,testExamName:"",testDate:"",testStart:"",testEnd:"",testDuration:0}),[h,m]=R.useState(!1),[p]=ss();v.useEffect(()=>{i&&t(N=>({...N,tsid:i}))},[i]);const r=N=>{const g=N==null?void 0:N.split(":");let $="";return g[0]>12?($="Pm",g[0]-=12):g[0]<12?($="Am",g[0]===0&&(g[0]=12)):$="Pm",`${g[0]>9?g[0]:`0${+g[0]}`}:${g[1]} ${$}`},u=N=>{t(g=>({...g,testDate:N}))},y=()=>{m(!0),p({sid:o,takeTestset:{tsid:c.tsid,testExamName:c.testExamName,testDate:c.testDate,testStart:r(c.testStart),testEnd:r(c.testEnd),testDuration:c.testDuration}}).then(N=>{n("TEST_SET_LIST"),a("3"),m(!1)}).catch({})},{t:x}=q();return e.jsxs(e.Fragment,{children:[e.jsx(re,{name:"Test Set",tabEventName:"TEST_SET_VIEW",backIndex:0,tabHandler:()=>{},topLevelIndex:s}),e.jsxs("div",{className:U.form_container,children:[e.jsx("h6",{children:x("exam/test_name")}),e.jsx("input",{type:"text",placeholder:x("enter_the_exam_name"),onChange:N=>t({...c,testExamName:N.target.value})}),e.jsx(Ns,{labelText:x("date"),name:"dateoftest",placeholder:x("select_exam_date"),value:c.testDate,onDateFunction:u,customStyleContainer:{position:"relative",marginBottom:"0.9rem"}}),e.jsxs("div",{className:U.form_time_field,children:[e.jsxs("div",{className:U.form_time_field_each,children:[e.jsx("h6",{children:x("from")}),e.jsx("input",{type:"time",placeholder:"00:00",onChange:N=>t({...c,testStart:N.target.value})})]}),e.jsxs("div",{className:U.form_time_field_each,children:[e.jsx("h6",{children:x("to")}),e.jsx("input",{type:"time",placeholder:"00:00",onChange:N=>t({...c,testEnd:N.target.value})})]})]}),e.jsxs("h6",{className:U.time_duration,children:[" ",x("duration")," ",x("in_minutes")]}),e.jsx("input",{type:"number",placeholder:"00 Min",onChange:N=>t({...c,testDuration:N.target.value})}),e.jsx("div",{className:U.take_test_set,onClick:y,children:x("take_test")})]}),h&&e.jsx(M,{})]})}const we=({tabHandler:s,testIndex:i,setTestIndex:o,type:n,testSetId:a,onSelectQuestion:c,alreadySelectedQuestion:t,onRemoveQuestion:h,sid:m})=>{var d,f,L;const[p,r]=R.useState(0),{t:u}=q(),[y,x]=R.useState(""),[N,g]=R.useState({questionObject:[],questionId:[],totalMarks:0}),{subjectMcqTestsetDetail:$,subjectMcqTestsetDetailRefetch:E}=$e({data:{tsid:a==null?void 0:a._id,page:1,limit:10},skip:!(a!=null&&a._id)});v.useEffect(()=>{a!=null&&a._id&&E()},[a==null?void 0:a._id,E]);const j=l=>{var T;n==="TEST_SET_VIEW"?(x(l==null?void 0:l._id),r(2)):(T=N.questionId)!=null&&T.includes(l==null?void 0:l._id)||t!=null&&t.includes(l==null?void 0:l._id)?t!=null&&t.includes(l==null?void 0:l._id)?h(l):g(S=>{var D,B;return{...S,questionObject:(D=S.questionObject)==null?void 0:D.filter(k=>(k==null?void 0:k._id)!==(l==null?void 0:l._id)),questionId:(B=S.questionId)==null?void 0:B.filter(k=>k!==(l==null?void 0:l._id)),totalMarks:S.totalMarks-(l==null?void 0:l.questionNumber)}}):g(S=>({...S,questionObject:[...S.questionObject,l],questionId:[...S.questionId,l==null?void 0:l._id],totalMarks:S.totalMarks+(l==null?void 0:l.questionNumber)}))},w=()=>{c(N),o(4)};return e.jsxs(e.Fragment,{children:[p===0&&e.jsxs(e.Fragment,{children:[n!=="TEST_SET_VIEW"&&e.jsxs("div",{className:U.create_set_header,style:{border:"none"},children:[e.jsxs("div",{className:U.create_set_header_left,children:[e.jsx("img",{src:"/images/members/arrow-left.svg",alt:"",onClick:()=>{o(2)}}),e.jsx("h6",{children:u("select_questions")})]}),e.jsx("p",{className:U.save_test_set,onClick:w,children:u("select")})]}),n==="TEST_SET_VIEW"&&e.jsx(e.Fragment,{children:e.jsx(re,{name:"Test Set",tabEventName:"TEST_SET_LIST",backIndex:"3",tabHandler:s,topLevelIndex:o,editType:"yes"})}),e.jsxs("div",{className:U.test_set_info,children:[e.jsx("h6",{children:a==null?void 0:a.testName}),e.jsxs("div",{className:U.test_set_info_footer,children:[e.jsxs("p",{children:[" ",u("total_number_of_questions")," :"," ",a==null?void 0:a.testTotalQuestion]}),e.jsxs("p",{children:["Total test set marks :"," ",(a==null?void 0:a.testTotalNumber)>9?a==null?void 0:a.testTotalNumber:`0${a==null?void 0:a.testTotalNumber}`]})]})]}),n!=="TEST_SET_VIEW"&&e.jsx("div",{className:U.select_information,children:e.jsxs("div",{className:U.select_information_count,children:[e.jsxs("p",{children:[(d=N.questionId)==null?void 0:d.length,"/",(f=$==null?void 0:$.testSetAllQuestions)==null?void 0:f.length,u("are_selected")]}),e.jsxs("p",{children:[N.totalMarks," ",u("marks")," "]})]})}),e.jsx("div",{className:U.all_added_question,children:(L=$==null?void 0:$.testSetAllQuestions)==null?void 0:L.map((l,T)=>{var S;return e.jsxs("div",{className:(S=N==null?void 0:N.questionId)!=null&&S.includes(l==null?void 0:l._id)||t!=null&&t.includes(l==null?void 0:l._id)?`${U.one_question} ${U.one_question_active}`:U.one_question,onClick:()=>j(l),children:[e.jsxs("div",{className:U.one_question_header,children:[e.jsx("div",{className:U.one_question_header_left,children:e.jsxs("h6",{children:["Question ",+(l==null?void 0:l.questionSNO)]})}),e.jsx("h6",{children:(l==null?void 0:l.questionNumber)>9?l==null?void 0:l.questionNumber:`0${l==null?void 0:l.questionNumber}`})]}),e.jsx("p",{className:U.one_question_detail,style:{wordBreak:"break-all"},children:l==null?void 0:l.questionDescription})]},T)})}),n==="TEST_SET_VIEW"&&e.jsx("div",{className:U.take_test_set,onClick:()=>r(1),children:u("take_test")})]}),p===1&&e.jsx(Ot,{setTakeTestIndex:r,tsid:a==null?void 0:a._id,sid:m,tabHandler:s,setTestIndex:o}),p===2&&e.jsx(fe,{topLevelIndex:r,backIndex:0,questionId:y})]})},kt=({tabHandler:s,topLevelIndex:i,smid:o,cmid:n,usmid:a,ucmid:c})=>{const[t,h]=R.useState(1),[m,p]=R.useState(!1),[r,u]=R.useState({testName:"",testTotalQuestion:0,testTotalNumber:0,questions:[]}),[y,x]=R.useState([]),[N,g]=v.useState(""),[$]=ts(),E=d=>{u(f=>{var L;return{...f,testTotalQuestion:f.testTotalQuestion-1,testTotalNumber:f.testTotalNumber-(d==null?void 0:d.questionNumber),questions:(L=f.questions)==null?void 0:L.filter(l=>l!==(d==null?void 0:d._id))}}),x(f=>f==null?void 0:f.filter(L=>L._id!==(d==null?void 0:d._id)))},j=()=>{p(!0),$({smid:o,cmid:n,createTestSet:r}).then(d=>{s("TEST_SET_LIST"),i("3"),p(!1)}).catch({})},w=d=>{u(f=>{var L;return{...f,testTotalQuestion:f.testTotalQuestion+((L=d==null?void 0:d.questionId)==null?void 0:L.length),testTotalNumber:f.testTotalNumber+(d==null?void 0:d.totalMarks),questions:[...f.questions,...d==null?void 0:d.questionId]}}),x(f=>[...f,...d==null?void 0:d.questionObject])};return e.jsxs(e.Fragment,{children:[t===1&&e.jsx(ze,{tabHandler:s,topLevelIndex:i,setCreateTestSet:u,createTestSet:r,setTestIndex:h}),t===2&&e.jsx(Re,{setTestIndex:h,createTestSet:r,setCreateTestSet:u,smid:o,cmid:n,usmid:a,ucmid:c,setSelectedQuestion:x,setTestSetId:g}),t===3&&e.jsx(Ne,{setTestIndex:h,smid:o,cmid:n,setCreateTestSet:u,setSelectedQuestion:x}),t===4&&e.jsx(Ue,{setTestIndex:h,selectedQuestion:y,onRemoveQuestion:E,createTestSet:r,onSaveTestSet:j}),t===5&&e.jsx(we,{testIndex:t,setTestIndex:h,testSetId:N,onSelectQuestion:w,alreadySelectedQuestion:r.questions,onRemoveQuestion:E}),m&&e.jsx(M,{})]})},Wt=({tabHandler:s,topLevelIndex:i,smid:o,cmid:n,usmid:a,ucmid:c,editTestSetId:t})=>{const[h,m]=R.useState(1),[p,r]=R.useState(!1),[u,y]=R.useState({testName:t!=null&&t.testName?t==null?void 0:t.testName:"",testTotalQuestion:t!=null&&t.testTotalQuestion?t==null?void 0:t.testTotalQuestion:0,testTotalNumber:t!=null&&t.testTotalNumber?t==null?void 0:t.testTotalNumber:0,questions:[],deletedQuestions:[]}),[x,N]=R.useState([]),[g,$]=v.useState(""),[E]=as(),{subjectMcqTestsetDetail:j,subjectMcqTestsetDetailRefetch:w}=$e({data:{tsid:t==null?void 0:t._id,page:1,limit:10},skip:!(t!=null&&t._id)});v.useEffect(()=>{t!=null&&t._id&&w()},[t==null?void 0:t._id,w]),v.useEffect(()=>{t!=null&&t.testTotalQuestion&&y(l=>({...l,testName:t==null?void 0:t.testName,testTotalQuestion:t==null?void 0:t.testTotalQuestion,testTotalNumber:t==null?void 0:t.testTotalNumber}))},[t==null?void 0:t.testTotalQuestion,t==null?void 0:t.testTotalNumber,t==null?void 0:t.testName]),v.useEffect(()=>{if(j!=null&&j.testSetAllQuestions){const l=[...u.questions],T=[...x];for(let S of j==null?void 0:j.testSetAllQuestions)l!=null&&l.includes(S==null?void 0:S._id)||(l.push(S==null?void 0:S._id),T.push(S));y(S=>({...S,questions:l})),N(T)}},[j==null?void 0:j.testSetAllQuestions]);const d=l=>{y(T=>{var S;return{...T,testTotalQuestion:T.testTotalQuestion-1,testTotalNumber:T.testTotalNumber-(l==null?void 0:l.questionNumber),questions:(S=T.questions)==null?void 0:S.filter(D=>D!==(l==null?void 0:l._id)),deletedQuestions:[...T.deletedQuestions,l==null?void 0:l._id]}}),N(T=>T==null?void 0:T.filter(S=>S._id!==(l==null?void 0:l._id)))},f=()=>{r(!0),E({tsid:t==null?void 0:t._id,updateTestSet:u}).then(l=>{s("TEST_SET_LIST"),i("3"),r(!1)}).catch({})},L=l=>{y(T=>{var S;return{...T,testTotalQuestion:T.testTotalQuestion+((S=l==null?void 0:l.questionId)==null?void 0:S.length),testTotalNumber:T.testTotalNumber+(l==null?void 0:l.totalMarks),questions:[...T.questions,...l==null?void 0:l.questionId]}}),N(T=>[...T,...l==null?void 0:l.questionObject])};return e.jsxs(e.Fragment,{children:[h===1&&e.jsx(ze,{tabHandler:s,topLevelIndex:i,setCreateTestSet:y,createTestSet:u,setTestIndex:m}),h===2&&e.jsx(Re,{setTestIndex:m,createTestSet:u,setCreateTestSet:y,smid:o,cmid:n,usmid:a,ucmid:c,setSelectedQuestion:N,setTestSetId:$}),h===3&&e.jsx(Ne,{setTestIndex:m,smid:o,cmid:n,setCreateTestSet:y,setSelectedQuestion:N}),h===4&&e.jsx(Ue,{setTestIndex:m,selectedQuestion:x,onRemoveQuestion:d,createTestSet:u,onSaveTestSet:f}),h===5&&e.jsx(we,{testIndex:h,setTestIndex:m,testSetId:g,onSelectQuestion:L,alreadySelectedQuestion:u.questions,onRemoveQuestion:d}),p&&e.jsx(M,{})]})},Qt="_subjectTeacherMCQ_tuctb_1",Jt="_subjectTeacherMCQTop_tuctb_6",Gt="_subjectTeacherMCQTopItem_tuctb_12",Kt="_mcqQuetionSet_tuctb_37",Xt="_mcqQuetionSetItem_tuctb_43",Yt={subjectTeacherMCQ:Qt,subjectTeacherMCQTop:Jt,subjectTeacherMCQTopItem:Gt,mcqQuetionSet:Kt,mcqQuetionSetItem:Xt},Zt=(s,i)=>i.type==="TEST_SET_LIST"?{value:i.type}:i.type==="CREATE_SET"?{value:i.type}:i.type==="SEARCH_QUESTION"?{value:i.type}:i.type==="TEST_SET_VIEW"?{value:i.type}:i.type==="TAKE_TEST"?{value:i.type}:i.type==="EDIT_TEST"?{value:i.type}:{value:s},It=()=>{const[s,i]=R.useReducer(Zt,{value:"TEST_SET_LIST"});return[s,async n=>{i({type:n})}]};function At({setOpenMcq:s,sid:i}){var m,p,r,u,y,x,N,g,$,E,j,w,d,f,L,l,T,S,D,B,k,C,K,Y,I,A,b,W;const[o,n]=It(),[a,c]=v.useState(""),{subjectMcqProfile:t,subjectMcqProfileRefetch:h}=ns({sid:i,skip:!i});return R.useEffect(()=>{i&&h()},[i,h]),e.jsxs(e.Fragment,{children:[o.value==="TEST_SET_LIST"&&e.jsx("div",{className:Yt.subjectTeacherMCQ,children:e.jsxs(ne,{children:[e.jsx(As,{tabHandler:n,topLevelIndex:s,sid:i,subjectMcqProfile:t,onRefetch:h}),e.jsx(Le,{tabHandler:n,setTestIndex:s,tabEventName:"TEST_SET_VIEW",backIndex:"10",smid:(m=t==null?void 0:t.subject)==null?void 0:m.subjectMasterName,cmid:(r=(p=t==null?void 0:t.subject)==null?void 0:p.class)==null?void 0:r.masterClassName,usmid:(y=(u=t==null?void 0:t.subject)==null?void 0:u.universalSubject)==null?void 0:y.subjectMasterName,ucmid:(N=(x=t==null?void 0:t.subject)==null?void 0:x.universalClass)==null?void 0:N.masterClassName,setTestSetId:c})]})}),o.value==="CREATE_QUESTION"&&e.jsx(Ne,{tabHandler:n,setIndexx:s}),o.value==="CREATE_SET"&&e.jsx(ne,{children:e.jsx(kt,{tabHandler:n,topLevelIndex:s,smid:(g=t==null?void 0:t.subject)==null?void 0:g.subjectMasterName,cmid:(E=($=t==null?void 0:t.subject)==null?void 0:$.class)==null?void 0:E.masterClassName,usmid:(w=(j=t==null?void 0:t.subject)==null?void 0:j.universalSubject)==null?void 0:w.subjectMasterName,ucmid:(f=(d=t==null?void 0:t.subject)==null?void 0:d.universalClass)==null?void 0:f.masterClassName})}),o.value==="SEARCH_QUESTION"&&e.jsx(ne,{children:e.jsx(Fe,{tabHandler:n,topLevelIndex:s,tabEventName:"TEST_SET_LIST",backIndex:"3",smid:(L=t==null?void 0:t.subject)==null?void 0:L.subjectMasterName,cmid:(T=(l=t==null?void 0:t.subject)==null?void 0:l.class)==null?void 0:T.masterClassName,usmid:(D=(S=t==null?void 0:t.subject)==null?void 0:S.universalSubject)==null?void 0:D.subjectMasterName,ucmid:(k=(B=t==null?void 0:t.subject)==null?void 0:B.universalClass)==null?void 0:k.masterClassName})}),o.value==="TEST_SET_VIEW"&&e.jsx(ne,{children:e.jsx(we,{tabHandler:n,setTestIndex:s,type:"TEST_SET_VIEW",testSetId:a,questionSelectionProcess:[],alreadySelectedQuestion:[],sid:i})}),o.value==="EDIT_TEST"&&e.jsx(ne,{children:e.jsx(Wt,{tabHandler:n,topLevelIndex:s,smid:(C=t==null?void 0:t.subject)==null?void 0:C.subjectMasterName,cmid:(Y=(K=t==null?void 0:t.subject)==null?void 0:K.class)==null?void 0:Y.masterClassName,usmid:(A=(I=t==null?void 0:t.subject)==null?void 0:I.universalSubject)==null?void 0:A.subjectMasterName,ucmid:(W=(b=t==null?void 0:t.subject)==null?void 0:b.universalClass)==null?void 0:W.masterClassName,editTestSetId:a})})]})}const Pt=({sid:s,onDesignationRefetch:i})=>{const[o,n]=v.useState(0),[a,c]=v.useState(!1),{t}=q(),[h,m]=v.useState(!1),[p,r]=v.useState(""),[u,y]=v.useState(!1),[x,N]=v.useState(""),[g]=is(),[$]=cs(),E=Be(),j=ge(),{subjectSetting:w,subjectSettingRefetch:d}=rs({sid:s,skip:!s});v.useEffect(()=>{s&&d()},[s,d]),v.useEffect(()=>{var l,T;w!=null&&w.subject&&n((T=(l=w==null?void 0:w.subject)==null?void 0:l.setting)==null?void 0:T.subjectPassingMarks)},[w==null?void 0:w.subject]);const f=()=>{c(!1),m(!0),g({sid:s,status:{subjectStatus:"Completed"}}).then(()=>{E(`/q/${j.username}/feed`),m(!1)}).catch({})},L=l=>{n(l.target.value),$({sid:s,subjectUpdate:{setting:{subjectPassingMarks:l.target.value}}}).then(()=>{N(t("subject_updated")),y(!0)}).catch({})};return e.jsxs("div",{className:oe.setting_conatiner,children:[e.jsxs("div",{className:oe.setting_passing,children:[e.jsx("div",{className:oe.label,children:e.jsx("label",{htmlFor:"aggregate",children:t("passing_marks")})}),e.jsx("div",{className:oe.inputBox,children:e.jsx("input",{id:"aggregate",type:"tel",onChange:L,value:o,placeholder:t("enter_subject_passing")})})]}),e.jsx(He,{run:u,setRun:y,msg:x,postiton:"bottom",type:"success"}),h&&e.jsx(M,{}),a&&e.jsx(vs,{onClose:()=>c(!1),confirm:p,setConfirm:r,onSubjectComplete:f})]})};function Mt({carryParentState:s}){const{t:i}=q();return e.jsx("div",{className:P.MiddleContent,children:e.jsx("div",{className:P.MiddleContentLeft,children:e.jsxs("div",{className:P.item,children:[e.jsx(V,{carryParentState:s,activeTab:"catalog",children:e.jsxs("div",{className:P.itemIcon,children:[e.jsx("img",{src:"/images/member_tab/class/class-catalog-icon.svg",alt:"Class Catalog"}),e.jsx("p",{children:i("catalog")})]})}),e.jsx(V,{carryParentState:s,activeTab:"attendance",children:e.jsxs("div",{className:P.itemIcon,children:[e.jsx("img",{src:"/images/member_tab/class/class-attendance-icon.svg",alt:"attendence"}),e.jsxs("p",{children:[" ",i("attendance")," "]})]})}),e.jsx(V,{carryParentState:s,activeTab:"assignment",children:e.jsxs("div",{className:P.itemIcon,children:[e.jsx("img",{src:"/images/member_tab/subject/subject-assignment-icon.svg",alt:"assignment"}),e.jsx("p",{children:i("assigmnent")})]})}),e.jsx(V,{carryParentState:s,activeTab:"exam",children:e.jsxs("div",{className:P.itemIcon,children:[e.jsx("img",{src:"/images/member_tab/department/department-examination-icon.svg",alt:"attendence"}),e.jsx("p",{children:i("examinations")})]})}),e.jsx(V,{carryParentState:s,activeTab:"academic",children:e.jsxs("div",{className:P.itemIcon,children:[e.jsx("img",{src:"/images/member_tab/subject/subject-daily-update-icon.svg",alt:"student Request"}),e.jsx("p",{style:{textAlign:"center"},children:i("academics_teachings")})]})}),e.jsx(V,{carryParentState:s,activeTab:"co-attainment",children:e.jsxs("div",{className:P.itemIcon,children:[e.jsx("img",{src:"/images/member_tab/subject/subject-attainment-icon.svg",alt:"settings"}),e.jsx("p",{style:{textAlign:"center"},children:i("co_mapping_and_attainment")})]})}),e.jsx(V,{carryParentState:s,activeTab:"setting",children:e.jsxs("div",{className:P.itemIcon,children:[e.jsx("img",{src:"/images/member_tab/class/class-setting-icon.svg",alt:"settings"}),e.jsx("p",{children:i("setting")})]})})]})})})}const Vt=({coverKey:s,coverId:i,defaultCover:o,profilePhoto:n,count1:a,count2:c,subjectId:t,coverImageStyle:h,textLarge:m,carryParentState:p})=>{const r=ge(),[u,y]=v.useState(!1),[x]=Oe(),[N]=os(),g=$=>{var E;if((E=$.target.files)!=null&&E.length&&t){y(!0);const j=new FormData;j.append("file",$.target.files[0]),x({fileUpload:j}).then(w=>{var d,f;(d=w.data)!=null&&d.imageKey?N({sid:t,excelFile:{excel_file:(f=w.data)==null?void 0:f.imageKey}}).then(()=>{y(!1)}).catch({}):y(!1)}).catch({})}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:X.unideptmiddlehead,children:[e.jsx("div",{className:X.unideptmiddleheadleft,children:n?e.jsx("img",{className:X.coverImgg,src:n,alt:""}):i?e.jsx("img",{className:i!=="2"?X.coverImgg:X.coverImg,src:i!=="2"?`${je}/${s}`:o,alt:"",style:h}):e.jsx("img",{className:X.coverImg,src:o,alt:""})}),e.jsxs("div",{className:X.unideptmiddleheadright,children:[e.jsx("div",{children:e.jsx("h6",{className:X.textLarge,children:m})}),e.jsxs("div",{className:X.counts,style:{justifyContent:"flex-end"},children:[e.jsxs("div",{className:X.countsItem,style:{flexDirection:"column",alignItems:"flex-start"},children:[e.jsx("p",{className:X.count,style:{fontWeight:"500"},children:a}),e.jsx("p",{className:X.count,style:{fontWeight:"500"},children:e.jsx(ke,{to:`/q/${r.username}/member/subject/Calculus?a=subject-academic`,state:{...p,isView:"SUBJECT_TEACHER",isSubType:"SUBJECT_TEACHER_INSTITUTE"},children:c})})]}),e.jsx("label",{htmlFor:"uploadExcel",children:e.jsx("img",{src:"/images/member_tab/subject/subject-excel-icon.svg",alt:"excel icon",style:{cursor:"pointer"}})}),e.jsx("input",{type:"file",id:"uploadExcel",accept:".xlsx",onChange:g,style:{display:"none"}})]})]})]}),u&&e.jsx(M,{})]})};function ea({onClickValue:s,carryParentState:i}){var c,t,h,m,p,r;const{t:o}=q(),{getOneSubjectProfile:n,getOneSubjectProfileRefetch:a}=De({sid:s==null?void 0:s._id,skip:!(s!=null&&s._id)});return v.useEffect(()=>{s!=null&&s._id&&a()},[s==null?void 0:s._id,a]),e.jsxs("div",{children:[e.jsx(Vt,{defaultCover:"/images/profileAndCover/subject-cover.png",textLarge:`${(c=s==null?void 0:s.class)==null?void 0:c.classTitle} ${s==null?void 0:s.subjectName} ${(h=(t=s==null?void 0:s.class)==null?void 0:t.batch)==null?void 0:h.batchName}`,count1:`${((p=(m=n==null?void 0:n.one_subject)==null?void 0:m.lecture_analytic)==null?void 0:p.lecture_count)??0} ${o("lectures_and")}`,count2:`${((r=n==null?void 0:n.academic_performance)==null?void 0:r.academic_percentage)??0}% ${o("academics_covered")}`,carryParentState:{...i,subjectId:s==null?void 0:s._id},subjectId:s==null?void 0:s._id}),e.jsx(Mt,{carryParentState:i})]})}function sa({exam:s,carryParentState:i}){const{t:o}=q();return e.jsx(V,{carryParentState:{...i,examView:s},activeTab:"exam-detail",children:e.jsxs("div",{className:te.sidebarheader,title:"See exam details",children:[e.jsx("div",{className:te.dot}),e.jsx("img",{src:"/images/members/exam-icon.svg",alt:""}),e.jsxs("div",{className:te.text,children:[e.jsx("div",{className:te.insName,children:e.jsx("h6",{children:s==null?void 0:s.examName})}),s!=null&&s.examWeight?e.jsx("div",{className:te.insUserName,children:e.jsxs("p",{children:[o("weightage"),": ",s==null?void 0:s.examWeight," %"]})}):""]}),e.jsx("div",{className:te.date,children:e.jsxs("h6",{children:[" ",o("total_marks")," ",s==null?void 0:s.totalMarks]})})]})})}const ta=({sid:s,isDepartment:i,carryParentState:o,cid:n,smid:a})=>{var w,d,f,L,l;const{t:c}=q(),t=pe(),[h,m]=v.useState(!1),[p,r]=v.useState(!0),[u,y]=v.useState([]),[x,N]=v.useState(!1),{subjectAllExam:g,subjectAllExamRefetch:$}=_s({data:{sid:s,page:1,limit:50},skip:!s});v.useEffect(()=>{s&&$()},[s,$]),v.useEffect(()=>{var T,S;(T=g==null?void 0:g.subject)!=null&&T.length?(y(g==null?void 0:g.subject),r(!1)):((S=g==null?void 0:g.subject)==null?void 0:S.length)===0&&r(!1)},[g==null?void 0:g.subject]);const E=()=>{m(T=>!T)},j=T=>{var S;if(T.target.value){const D=(S=g==null?void 0:g.subject)==null?void 0:S.filter(B=>{var k,C,K;return(K=(k=B==null?void 0:B.examName)==null?void 0:k.toLowerCase())!=null&&K.includes((C=T.target.value)==null?void 0:C.toLowerCase())?B:null});(D==null?void 0:D.length)===0?N(!0):N(!1),y(D)}else N(!1),y(g==null?void 0:g.subject)};return e.jsxs(e.Fragment,{children:[(((w=t==null?void 0:t.search)==null?void 0:w.substring(3))==="exam"||((d=t==null?void 0:t.search)==null?void 0:d.substring(3))==="department&n=exam")&&e.jsxs("div",{className:Z.exam_container,children:[e.jsxs("div",{className:Z.with_search,children:[e.jsx("h6",{children:c("previous_exam_list")}),e.jsx("section",{className:Z.search_container,children:e.jsxs("div",{className:Z.search_container_input,children:[e.jsx("img",{className:Z.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),e.jsx("input",{type:"text",placeholder:"Search exams...",onChange:j})]})})]}),e.jsx(ue,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),e.jsx("div",{className:Z.add_new_container,children:e.jsx("p",{className:Z.add_new_exam,onClick:E,children:c("create_new_exam")})}),u==null?void 0:u.map(T=>e.jsx(sa,{exam:T,carryParentState:o},T==null?void 0:T._id)),!p&&!((f=g==null?void 0:g.subject)!=null&&f.length)&&e.jsx(le,{customStyleContainer:{marginTop:"9rem"},title:"No exams found",subtitle:"Please make sure you have created exam."}),x&&e.jsx(le,{customStyleContainer:{marginTop:"9rem"},title:"No search found"}),p&&e.jsx(ce,{})]}),((L=t==null?void 0:t.search)==null?void 0:L.substring(3))==="exam-detail"&&e.jsx(Je,{examView:(l=t.state)==null?void 0:l.examView,sid:s,isDepartment:i}),h&&e.jsx(bs,{onClose:E,sid:s,onRefetch:$,createdBy:"SUBJECT_TEACHER",smid:a})]})},aa=[{name:"co",key:"CO"},{name:"po",key:"PO"}],Ce=({onClose:s,openAs:i,smid:o,coMenu:n,onEdit:a,onRefetch:c,count:t,poCount:h})=>{const{t:m}=q(),[p,r]=v.useState(!1),[u,y]=v.useState(""),[x,N]=v.useState({attainment_name:`CO${t}`,attainment_type:"CO",attainment_code:"",attainment_target:"",attainment_description:""}),[g]=ls();v.useEffect(()=>{i==="EDIT"&&N({attainment_name:(n==null?void 0:n.attainment_name)??"",attainment_type:(n==null?void 0:n.attainment_type)??"CO",attainment_code:(n==null?void 0:n.attainment_code)??"",attainment_target:(n==null?void 0:n.attainment_target)??"",attainment_description:(n==null?void 0:n.attainment_description)??""})},[i,n]),v.useEffect(()=>{t&&N(j=>({...j,attainment_name:`CO${t}`}))},[t]);const $=()=>{x.attainment_name?i==="EDIT"?a(x):o&&(r(j=>!j),g({smid:o,addCopo:x}).then(()=>{c(),s(),r(j=>!j)}).catch({})):y({attainment_name:"* required"})},E=j=>{N(w=>({...w,attainment_name:j==="CO"?`CO${t}`:`PO${h}`,attainment_type:j,attainment_code:"",attainment_target:"",attainment_description:""}))};return e.jsx(Es,{onClose:s,children:e.jsxs("div",{className:de.add_category_modal,style:{width:"35rem",maxHeight:"35rem"},children:[e.jsxs("div",{className:de.add_category_modal_title,children:[e.jsx("h6",{children:m(i==="EDIT"?"edit_copo":"add_new_copo")}),e.jsx("img",{src:"/images/close-post-icon.svg",onClick:s,alt:""})]}),e.jsx(ue,{customStyle:{width:"100%",marginTop:"0.6rem",marginBottom:"0.6rem"}}),i==="EDIT"?null:e.jsx(Ts,{labelText:"attainment_type",tileList:aa,activeTile:x.attainment_type,onTile:E}),x.attainment_type==="CO"?e.jsxs(e.Fragment,{children:[e.jsx(_e,{labelText:m("co_name"),placeholder:m("co_name_placeholder"),name:"attainment_name",value:x==null?void 0:x.attainment_name,type:"text",onChange:j=>{N(w=>({...w,attainment_name:j.target.value}))},errorShow:u.attainment_name}),e.jsx(_e,{labelText:m("co_target"),placeholder:m("co_target_placeholder"),name:"attainment_target",value:x==null?void 0:x.attainment_target,type:"text",onChange:j=>{N(w=>({...w,attainment_target:+j.target.value}))}}),e.jsx(_e,{labelText:m("co_code"),placeholder:m("co_code_placeholder"),name:"attainment_code",value:x==null?void 0:x.attainment_code,type:"text",onChange:j=>{N(w=>({...w,attainment_code:+j.target.value}))}})]}):e.jsxs(e.Fragment,{children:[e.jsx(_e,{labelText:m("po_name"),placeholder:m("po_name_placeholder"),name:"attainment_name",value:x==null?void 0:x.attainment_name,type:"text",onChange:j=>{N(w=>({...w,attainment_name:j.target.value}))},errorShow:u.attainment_name}),e.jsx(Ss,{labelText:m("po_description"),placeholder:m("po_description_placeholder"),name:"attainment_description",value:x==null?void 0:x.attainment_description,type:"text",onChange:j=>{N(w=>({...w,attainment_description:j.target.value}))}})]}),e.jsx("button",{className:de.set_fees_structure_btn,title:"Create copo",onClick:$,style:{justifyContent:"center"},children:m(i==="EDIT"?"update":"create")}),p&&e.jsx(M,{})]})})},na=({onClose:s,onRefetch:i,menu:o})=>{const[n,a]=v.useState(!1),[c,t]=v.useState(!1),[h]=ms(),[m]=ds(),p=()=>{o!=null&&o._id&&(a(u=>!u),m({atid:o==null?void 0:o._id}).then(()=>{i(),s(),a(u=>!u)}).catch({}))},r=u=>{o!=null&&o._id&&(a(y=>!y),t(!1),h({atid:o==null?void 0:o._id,updateCopo:u}).then(()=>{i(),a(y=>!y),s()}).catch({}))};return e.jsx(e.Fragment,{children:c?e.jsx(Ce,{onClose:()=>t(!1),openAs:"EDIT",onEdit:r,coMenu:o}):e.jsxs(e.Fragment,{children:[e.jsx($s,{onClose:s}),e.jsxs(Ds,{customStyle:{zIndex:"1200"},children:[e.jsxs("div",{className:he.edit_modal_container,style:{width:"200px"},children:[e.jsx("h6",{className:he.edit,onClick:()=>t(u=>!u),children:"Edit"}),e.jsx("h6",{className:he.remove,onClick:p,children:"Delete"})]}),n&&e.jsx(M,{})]})]})})},ia=({attainment:s,onRefetch:i})=>{const{t:o}=q(),[n,a]=v.useState(""),c=()=>{a(s)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:ie.exam_card_container,children:[e.jsx("div",{className:ie.imagedot,children:e.jsx("img",{src:"/images/members/exam-icon.svg",alt:""})}),e.jsxs("div",{className:ie.exam_inner_text,children:[e.jsxs("h6",{children:[o("co_name")," : ",(s==null?void 0:s.attainment_name)??""]}),(s==null?void 0:s.attainment_type)==="PO"?e.jsx("p",{children:s!=null&&s.attainment_description?e.jsxs("span",{children:[" ",o("po_description")," : ",(s==null?void 0:s.attainment_description)??""]}):""}):e.jsxs("p",{children:[s!=null&&s.attainment_code?e.jsxs("span",{children:[o("co_code")," : ",(s==null?void 0:s.attainment_code)??"",", "]}):"",s!=null&&s.attainment_target?e.jsxs("span",{children:[" ",o("co_target")," : ",(s==null?void 0:s.attainment_target)??""]}):""]})]}),e.jsx("div",{className:ie.exam_date,children:e.jsx("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:c,className:ie.menu_icon,title:"Menu"})})]}),n&&e.jsx(na,{onClose:()=>a(""),onRefetch:i,menu:n})]})},ca=({smid:s})=>{var p,r;const{t:i}=q(),[o,n]=v.useState(!1),[a,c]=v.useState(!0),{getAllCopoAttainment:t,getAllCopoAttainmentRefetch:h}=hs({data:{smid:s,flow:"VIEWING_COPO"},skip:!s});v.useEffect(()=>{s&&h()},[s,h]),v.useEffect(()=>{var u,y;((u=t==null?void 0:t.attainment)!=null&&u.length||((y=t==null?void 0:t.attainment)==null?void 0:y.length)===0)&&c(!1)},[t==null?void 0:t.attainment]);const m=()=>{n(u=>!u)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:Z.add_new_container,children:e.jsx("p",{className:Z.add_new_exam,onClick:m,children:i("create_new_copo")})}),(p=t==null?void 0:t.attainment)==null?void 0:p.map(u=>e.jsx(ia,{attainment:u,onRefetch:h},u==null?void 0:u._id)),!a&&!((r=t==null?void 0:t.attainment)!=null&&r.length)&&e.jsx(le,{customStyleContainer:{marginTop:"9rem"},title:"No copo found",subtitle:"Please make sure you have created copo."}),o&&e.jsx(Ce,{onClose:m,smid:s,onRefetch:h,count:(t==null?void 0:t.attainment_count)+1,poCount:(t==null?void 0:t.attainment_po_count)+1}),a&&e.jsx(ce,{})]})},ra="_tabel_container_sq2z5_1",oa="_table_heading_sq2z5_8",_a="_table_heading_text_sq2z5_14",la="_tabel_nested_text_sq2z5_24",ma="_tabel_heading_nested_sq2z5_30",da="_tabel_heading_nested_inner_sq2z5_37",ha="_attainment_student_card_sq2z5_44",xa="_table_text_inner_center_sq2z5_52",ja="_co_weightage_tabel_container_sq2z5_57",ga="_co_weightage_tabel_container_other_sq2z5_67",pa="_co_weightage_tabel_container_other_inner_sq2z5_75",ua="_co_weightage_col_sq2z5_78",Na="_co_weightage_col_text_sq2z5_83",va="_cls_average_tabel_container_sq2z5_95",fa="_cls_average_ia_sq2z5_105",wa="_other_table_heading_sq2z5_110",ba="_co_mapping_select_sq2z5_120",ya="_submit_btn_attainment_group_sq2z5_126",Ea="_submit_btn_attainment_sq2z5_126",_={tabel_container:ra,table_heading:oa,table_heading_text:_a,tabel_nested_text:la,tabel_heading_nested:ma,tabel_heading_nested_inner:da,attainment_student_card:ha,table_text_inner_center:xa,co_weightage_tabel_container:ja,co_weightage_tabel_container_other:ga,co_weightage_tabel_container_other_inner:pa,co_weightage_col:ua,co_weightage_col_text:Na,cls_average_tabel_container:va,cls_average_ia:fa,other_table_heading:wa,co_mapping_select:ba,submit_btn_attainment_group:ya,submit_btn_attainment:Ea},Ta=({children:s})=>{const{t:i}=q();return e.jsxs("div",{className:_.table_heading,children:[e.jsx("div",{className:_.table_heading_text,style:{width:"4rem"},children:i("roll_number")}),e.jsx("div",{className:_.table_heading_text,style:{width:"10rem"},children:i("co_gr_number")}),s]})},Sa=({isStudent:s,firstRowWidth:i,firstRow:o,sedondRow:n,thirdRow:a})=>(console.info("Sdfkjjsdhgfkj",i),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:_.tabel_heading_nested_inner,children:s?o==null?void 0:o.map((c,t)=>e.jsx("div",{className:_.tabel_nested_text,style:{width:t===0?"15rem":"14rem",border:"0.5px solid #cacaca",fontWeight:s==="TOTAL"?"600":"initial"},children:t===0?`${c??""}`:e.jsx("div",{className:_.table_text_inner_center,children:c??""})},t)):o==null?void 0:o.map((c,t)=>e.jsx("div",{className:_.tabel_nested_text,style:{width:t===0?"15rem":`${i?i[c]:0}rem`,border:"0.5px solid #cacaca"},children:c??""},t))}),(n==null?void 0:n.length)>0?e.jsx("div",{className:_.tabel_heading_nested_inner,children:n==null?void 0:n.map((c,t)=>e.jsx("div",{className:_.tabel_nested_text,style:{width:t===0?"15rem":"14rem",border:"0.5px solid #cacaca"},children:c??""},t))}):null,(a==null?void 0:a.length)>0?e.jsx("div",{className:_.tabel_heading_nested_inner,children:a==null?void 0:a.map((c,t)=>e.jsx("div",{className:_.tabel_nested_text,style:{width:t===0?"15rem":"14rem",border:"0.5px solid #cacaca"},children:t===0?`${c??""}`:e.jsx("div",{className:_.table_text_inner_center,children:c??""})},t))}):null]})),ee=v.memo(Sa),$a=({subjectAttainment:s})=>{const[i,o]=v.useState(["Name of CO"]),[n,a]=v.useState(null),[c,t]=v.useState(["Assesment Tool"]),[h,m]=v.useState(["Total Marks"]);return v.useEffect(()=>{if((s==null?void 0:s.length)>0){let p=["Name of CO"],r=["Assesment Tool"],u=["Total Marks"],y={};for(let x of s){p.push(x==null?void 0:x.attainment_name);for(let N of x==null?void 0:x.attainment_assign)r.push(N==null?void 0:N.attainment_name),u.push(N==null?void 0:N.attainment_mark),y[x==null?void 0:x.attainment_name]?y[x==null?void 0:x.attainment_name]+=14:y[x==null?void 0:x.attainment_name]=14}a(y),o(p),t(r),m(u)}},[s]),e.jsx("div",{className:_.tabel_heading_nested,children:e.jsx(ee,{firstRowWidth:n,firstRow:i,sedondRow:c,thirdRow:h})})},Da=({student:s,index:i})=>{const[o,n]=v.useState([]);return v.useEffect(()=>{if(s!=null&&s.co_wise){let a=[`${(s==null?void 0:s.studentFirstName)??""} ${(s==null?void 0:s.studentMiddleName)??""} ${(s==null?void 0:s.studentLastName)??""}`];for(let c in s==null?void 0:s.co_wise)s!=null&&s.co_assignment_wise?a.push(...s==null?void 0:s.co_wise[c],s==null?void 0:s.co_assignment_wise[c]):a.push(...s==null?void 0:s.co_wise[c]);n(a)}},[s==null?void 0:s.co_wise]),e.jsxs("div",{className:_.attainment_student_card,children:[e.jsxs("div",{className:_.table_heading_text,style:{width:"4rem"},children:[" ",e.jsx("div",{className:_.table_text_inner_center,children:s==null?void 0:s.studentROLLNO})]}),e.jsxs("div",{className:_.table_heading_text,style:{width:"10rem"},children:[" ",e.jsx("div",{className:_.table_text_inner_center,children:(s==null?void 0:s.studentGRNO)??" - "})]}),e.jsx("div",{className:_.tabel_heading_nested,children:e.jsx(ee,{firstRow:o,isStudent:!0})})]})},Fa=({subjectAttainment:s})=>{const[i,o]=v.useState(["Total Marks"]),[n,a]=v.useState(["Average Marks"]),[c,t]=v.useState(["% class Average"]),[h,m]=v.useState(["Total No of Students"]),[p,r]=v.useState(["Total No of Students Absent"]),[u,y]=v.useState(["Total No of Students Present"]);return v.useEffect(()=>{var x;if((s==null?void 0:s.length)>0){let N=["Total Marks"],g=["Average Marks"],$=["% class Average"],E=["Total No of Students"],j=["Total No of Students Absent"],w=["Total No of Students Present"];for(let d of s)for(let f of d==null?void 0:d.attainment_assign)N.push((x=f==null?void 0:f.total_marks)==null?void 0:x.mark),g.push(f==null?void 0:f.avg_marks),$.push(f==null?void 0:f.cls_avg_marks),E.push((f==null?void 0:f.student_count)??0),j.push((f==null?void 0:f.present_student_count)??0),w.push((f==null?void 0:f.absent_student_count)??0);o(N),a(g),t($),m(E),r(j),y(w)}},[s]),e.jsxs("div",{className:_.table_heading,style:{height:"auto"},children:[e.jsx("div",{className:_.table_heading_text,style:{width:"4rem"}}),e.jsx("div",{className:_.table_heading_text,style:{width:"10rem"}}),e.jsxs("div",{className:_.tabel_heading_nested,children:[e.jsx(ee,{isStudent:"TOTAL",firstRow:h}),e.jsx(ee,{isStudent:"TOTAL",firstRow:p}),e.jsx(ee,{isStudent:"TOTAL",firstRow:u}),e.jsx(ee,{isStudent:"TOTAL",firstRow:i}),e.jsx(ee,{isStudent:"TOTAL",firstRow:n}),e.jsx(ee,{isStudent:"TOTAL",firstRow:c})]})]})},La=({coWeightage:s})=>{const{t:i}=q(),[o,n]=v.useState([]);return v.useEffect(()=>{s&&n(Object.keys(s))},[s]),e.jsxs(e.Fragment,{children:[e.jsx("h6",{className:_.other_table_heading,children:i("co_weightage")}),e.jsx("div",{className:_.co_weightage_tabel_container_other,children:e.jsx("div",{className:_.co_weightage_tabel_container_other_inner,children:o==null?void 0:o.map((a,c)=>{var t,h,m,p;return a==="key_count"?"":a==="key0"||a==="key_assignment"?e.jsxs("div",{className:_.co_weightage_col,style:{width:"8rem"},children:[(t=s[a])==null?void 0:t.map(r=>e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:r??""})},r)),a==="key_assignment"?null:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:"Total"})})]},c):e.jsxs("div",{className:_.co_weightage_col,style:{width:"20rem"},children:[e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:((m=(h=s[a])==null?void 0:h[0])==null?void 0:m.attainment_name)??""})}),(p=s[a])==null?void 0:p.map((r,u)=>e.jsx("div",{className:_.co_weightage_col_text,children:e.jsxs("h6",{children:[" ",(r==null?void 0:r.marks)??""]})},u))]},c)})})})]})},Ra=v.memo(La),Ua=({outerClsAverageIa:s})=>{var o,n;const{t:i}=q();return e.jsxs(e.Fragment,{children:[e.jsx("h6",{className:_.other_table_heading,children:i("class_average_ia_internal_assesment")}),e.jsx("div",{className:_.co_weightage_tabel_container_other,children:e.jsxs("div",{className:_.co_weightage_tabel_container_other_inner,style:{flexFlow:"column"},children:[e.jsxs("div",{className:_.cls_average_ia,children:[e.jsx("div",{className:_.co_weightage_col,style:{width:"6rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:"CO"})})}),s&&((o=s.co_attainment_name_list)==null?void 0:o.map((a,c)=>e.jsx("div",{className:_.co_weightage_col,style:{width:"18rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:a})})},c))),e.jsx("div",{className:_.co_weightage_col,style:{width:"18rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:i("ia_cls_average_round_in")})})})]}),s&&((n=s.co_list)==null?void 0:n.map(a=>{var c,t,h;return e.jsxs("div",{className:_.cls_average_ia,children:[e.jsx("div",{className:_.co_weightage_col,style:{width:"6rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:a})})}),(t=(c=s[a])==null?void 0:c.list)==null?void 0:t.map((m,p)=>e.jsx("div",{className:_.co_weightage_col,style:{width:"18rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:m})})},p)),e.jsx("div",{className:_.co_weightage_col,style:{width:"18rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:((h=s[a])==null?void 0:h.c_avg_total)??" - "})})})]},a)}))]})})]})},za=v.memo(Ua),Ca=({outerClsAverageIa:s})=>{var o,n;const{t:i}=q();return e.jsxs(e.Fragment,{children:[e.jsx("h6",{className:_.other_table_heading,children:i("class_average_ea_internal_assesment")}),e.jsx("div",{className:_.co_weightage_tabel_container_other,children:e.jsxs("div",{className:_.co_weightage_tabel_container_other_inner,style:{flexFlow:"column"},children:[e.jsxs("div",{className:_.cls_average_ia,children:[e.jsx("div",{className:_.co_weightage_col,style:{width:"6rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:"CO"})})}),s&&((o=s.co_attainment_name_list)==null?void 0:o.map((a,c)=>e.jsx("div",{className:_.co_weightage_col,style:{width:"20rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:a})})},c))),e.jsx("div",{className:_.co_weightage_col,style:{width:"20rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:i("ia_cls_average_round_in")})})})]}),s&&((n=s.co_list)==null?void 0:n.map(a=>{var c,t,h;return e.jsxs("div",{className:_.cls_average_ia,children:[e.jsx("div",{className:_.co_weightage_col,style:{width:"6rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:a})})}),(t=(c=s[a])==null?void 0:c.list)==null?void 0:t.map((m,p)=>e.jsx("div",{className:_.co_weightage_col,style:{width:"20rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:m})})},p)),e.jsx("div",{className:_.co_weightage_col,style:{width:"20rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:((h=s[a])==null?void 0:h.c_avg_total)??" - "})})})]},a)}))]})})]})},qa=v.memo(Ca),Ba=({calculationCoAttainment:s})=>{var o;const{t:i}=q();return e.jsxs(e.Fragment,{children:[e.jsx("h6",{className:_.other_table_heading,children:(s==null?void 0:s.heading)??""}),e.jsx("div",{className:_.co_weightage_tabel_container_other,children:e.jsxs("div",{className:_.co_weightage_tabel_container_other_inner,style:{flexFlow:"column"},children:[e.jsxs("div",{className:_.cls_average_ia,children:[e.jsx("div",{className:_.co_weightage_col,style:{width:"6rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:"CO"})})}),e.jsx("div",{className:_.co_weightage_col,style:{width:"20rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:i("ia_cls_average_round_in")})})}),e.jsx("div",{className:_.co_weightage_col,style:{width:"20rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:i("ie_cls_average_round_in")})})}),e.jsx("div",{className:_.co_weightage_col,style:{width:"20rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:(s==null?void 0:s.direct_heading)??""})})})]}),s&&((o=s.co_list)==null?void 0:o.map(n=>{var a,c,t;return e.jsxs("div",{className:_.cls_average_ia,children:[e.jsx("div",{className:_.co_weightage_col,style:{width:"6rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:n})})}),e.jsx("div",{className:_.co_weightage_col,style:{width:"20rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:((a=s[n])==null?void 0:a.ia_avg)??""})})}),e.jsx("div",{className:_.co_weightage_col,style:{width:"20rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:((c=s[n])==null?void 0:c.ea_avg)??""})})}),e.jsx("div",{className:_.co_weightage_col,style:{width:"20rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:((t=s[n])==null?void 0:t.direct_co)??""})})})]},n)}))]})})]})},Ha=v.memo(Ba),Oa=({complianceCoAttainment:s})=>{var o;const{t:i}=q();return e.jsxs(e.Fragment,{children:[e.jsx("h6",{className:_.other_table_heading,children:i("co_quality_compliance")}),e.jsx("div",{className:_.co_weightage_tabel_container_other,children:e.jsxs("div",{className:_.co_weightage_tabel_container_other_inner,style:{flexFlow:"column"},children:[e.jsxs("div",{className:_.cls_average_ia,children:[e.jsx("div",{className:_.co_weightage_col,style:{width:"6rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:"CO"})})}),e.jsx("div",{className:_.co_weightage_col,style:{width:"6rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:i("target")})})}),e.jsx("div",{className:_.co_weightage_col,style:{width:"12rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:i("co_attainment_gap")})})}),e.jsx("div",{className:_.co_weightage_col,style:{width:"18rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:i("action_proposed_to_bridge_gap")})})}),e.jsx("div",{className:_.co_weightage_col,style:{width:"23rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:i("modification_of_the_target_where_achieved")})})})]}),s&&((o=s.co_list)==null?void 0:o.map(n=>{var a,c,t,h;return e.jsxs("div",{className:_.cls_average_ia,children:[e.jsx("div",{className:_.co_weightage_col,style:{width:"6rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:n})})}),e.jsx("div",{className:_.co_weightage_col,style:{width:"6rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:((a=s[n])==null?void 0:a.attainment_target)??""})})}),e.jsx("div",{className:_.co_weightage_col,style:{width:"12rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:((c=s[n])==null?void 0:c.co_attainment_gap)??""})})}),e.jsx("div",{className:_.co_weightage_col,style:{width:"18rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:((t=s[n])==null?void 0:t.action_praposed_to_bridge_gap)??""})})}),e.jsx("div",{className:_.co_weightage_col,style:{width:"23rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:((h=s[n])==null?void 0:h.modification_of_target_where_achived)??" - "})})})]},n)}))]})})]})},ka=v.memo(Oa),Wa=({sid:s})=>{var c;const[i,o]=v.useState(!0),{getCopoAttainmentTable:n,getCopoAttainmentTableRefetch:a}=xs({data:{sid:s},skip:!s});return v.useEffect(()=>{s&&a()},[s,a]),v.useEffect(()=>{var t,h;((t=n==null?void 0:n.subject_attainment)!=null&&t.length||((h=n==null?void 0:n.subject_attainment)==null?void 0:h.length)===0)&&o(!1)},[n==null?void 0:n.subject_attainment]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:_.tabel_container,children:[e.jsx(Ta,{children:e.jsx($a,{subjectAttainment:(n==null?void 0:n.subject_attainment)??null})}),(c=n==null?void 0:n.all_students)==null?void 0:c.map((t,h)=>e.jsx(Da,{student:t,index:h},t==null?void 0:t._id)),e.jsx(Fa,{subjectAttainment:(n==null?void 0:n.subject_attainment)??null}),i&&e.jsx(ce,{})]}),e.jsx(Ra,{coWeightage:(n==null?void 0:n.co_weightage)??null}),e.jsx(za,{outerClsAverageIa:(n==null?void 0:n.outer_cls_average_ia)??null}),e.jsx(qa,{outerClsAverageIa:(n==null?void 0:n.outer_cls_average_ea)??null}),e.jsx(Ha,{calculationCoAttainment:(n==null?void 0:n.calculation_co_attainment)??null}),e.jsx(ka,{complianceCoAttainment:(n==null?void 0:n.co_quality_compliance)??null})]})},Qa=({sid:s})=>{var g,$,E;const{t:i}=q(),[o,n]=v.useState(!0),[a,c]=v.useState(null),[t,h]=v.useState(null),[m,p]=v.useState(!1),{getCopoMappingAttainmentTable:r,getCopoMappingAttainmentTableRefetch:u}=js({data:{sid:s},skip:!s}),[y]=gs();v.useEffect(()=>{s&&u()},[s,u]),v.useEffect(()=>{var j,w,d,f;if((w=(j=r==null?void 0:r.copo_mapping)==null?void 0:j.co_list)!=null&&w.length||((f=(d=r==null?void 0:r.copo_mapping)==null?void 0:d.co_list)==null?void 0:f.length)===0){n(!1);let L={},l={};for(let T of r==null?void 0:r.copo_mapping.co_list)for(let S of r==null?void 0:r.copo_mapping.po_list){let D=r==null?void 0:r.copo_mapping[`${T}${S}`];L[`${T}${S}`]={value:(D==null?void 0:D.co_relation)??"",key:`${D==null?void 0:D.coId}${D==null?void 0:D.poId}`,poId:D==null?void 0:D.poId,coId:D==null?void 0:D.coId},l[`${T}${S}`]=(D==null?void 0:D.co_relation)??""}h(L),c(l)}},[(g=r==null?void 0:r.copo_mapping)==null?void 0:g.co_list]);const x=(j,w)=>{c(f=>({...f,[j.target.name]:j.target.value}));let d=t;d[j.target.name].value=j.target.value,d[j.target.name].key=`${w==null?void 0:w.coId}${w==null?void 0:w.poId}`,d[j.target.name].poId=`${w==null?void 0:w.poId}`,d[j.target.name].coId=`${w==null?void 0:w.coId}`,h(d)};console.info("ashfd",t);const N=()=>{s&&(p(j=>!j),y({sid:s,updateCopo:{copo:t}}).then(()=>{u(),p(j=>!j)}).catch())};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:_.co_weightage_tabel_container_other,style:{border:"none"},children:[e.jsxs("div",{className:_.co_weightage_tabel_container_other_inner,style:{flexFlow:"column",marginTop:"3rem"},children:[e.jsxs("div",{className:_.cls_average_ia,children:[e.jsx("div",{className:_.co_weightage_col,style:{width:"7rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:"Sr. No."})})}),e.jsx("div",{className:_.co_weightage_col,style:{width:"7rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:"CO Code"})})}),(r==null?void 0:r.copo_mapping)&&(($=r==null?void 0:r.copo_mapping.po_list)==null?void 0:$.map((j,w)=>{var d,f;return e.jsx("div",{className:_.co_weightage_col,style:{width:"7rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{title:(f=(d=r==null?void 0:r.copo_mapping)==null?void 0:d.des)==null?void 0:f[j],children:j})})},w)}))]}),(r==null?void 0:r.copo_mapping)&&((E=r==null?void 0:r.copo_mapping.co_list)==null?void 0:E.map((j,w)=>{var d;return e.jsxs("div",{className:_.cls_average_ia,children:[e.jsx("div",{className:_.co_weightage_col,style:{width:"7rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:w+1})})}),e.jsx("div",{className:_.co_weightage_col,style:{width:"7rem"},children:e.jsx("div",{className:_.co_weightage_col_text,children:e.jsx("h6",{children:j})})}),(d=r==null?void 0:r.copo_mapping.po_list)==null?void 0:d.map((f,L)=>e.jsx("div",{className:_.co_weightage_col,style:{width:"7rem"},children:e.jsx("div",{className:_.co_weightage_col_text,style:{display:"flex",justifyContent:"center"},children:e.jsxs("select",{name:`${j}${f}`,onChange:l=>x(l,r==null?void 0:r.copo_mapping[`${j}${f}`]),value:a?a[`${j}${f}`]:"",className:_.co_mapping_select,children:[e.jsx("option",{value:"0",children:"0"}),e.jsx("option",{value:"1",children:"1"}),e.jsx("option",{value:"2",children:"2"}),e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"NA",children:"NA"})]})})},L))]},j)}))]}),e.jsx("div",{className:_.submit_btn_attainment_group,children:e.jsx("button",{className:_.submit_btn_attainment,onClick:N,children:i("submit")})})]}),o&&e.jsx(ce,{}),m&&e.jsx(M,{})]})},Ja=({sid:s,cid:i,carryParentState:o,smid:n})=>{const{t:a}=q(),c=ge(),t=[{name:a("co_attainment"),id:0,url:`member/subject/${c.sname}?a=co-attainment`,is_active:"enabled"},{name:a("copo_mapping"),id:1,url:`member/subject/${c.sname}?a=co-mapping`,is_active:"enabled"},{name:a("setting"),id:2,url:`member/subject/${c.sname}?a=co-setting`,is_active:"enabled"}],[h]=We();return e.jsxs("div",{className:Z.exam_container,style:{width:"910px"},children:[e.jsx("div",{className:Z.with_search,children:e.jsx("h6",{children:a("co_mapping_and_attainment")})}),e.jsx(ys,{tabList:t,activeIndexTab:h.get("a")==="co-attainment"?0:h.get("a")==="co-mapping"?1:2,showAs:!0,customStyleTab:{width:"100%"},customStyleLink:{width:"33.3%"},carryParentState:o}),e.jsx(ue,{customStyle:{width:"100%",marginBottom:"0.7rem"}}),h.get("a")==="co-attainment"&&e.jsx(Wa,{sid:s}),h.get("a")==="co-mapping"&&e.jsx(Qa,{sid:s}),h.get("a")==="co-setting"&&e.jsx(ca,{smid:n})]})};function Ga({onClickValue:s,carryParentState:i,setOpenMcq:o}){var t,h,m,p,r,u,y,x,N,g,$,E,j,w,d,f,L,l,T,S,D,B,k,C,K,Y,I,A,b,W,F,z,Q,G;const n=pe(),{getOneSubjectProfile:a,getOneSubjectProfileRefetch:c}=De({sid:s==null?void 0:s._id,skip:!(s!=null&&s._id)});return v.useEffect(()=>{s!=null&&s._id&&c()},[s==null?void 0:s._id,c]),e.jsxs("div",{className:te.subjectTeacher,children:[!(n!=null&&n.search)&&e.jsx(ea,{onClickValue:s,carryParentState:i}),(n==null?void 0:n.search)&&e.jsxs("div",{children:[((t=n==null?void 0:n.search)==null?void 0:t.substring(3))==="catalog"&&e.jsx(Ge,{cid:(h=s==null?void 0:s.class)==null?void 0:h._id,bid:(p=(m=a==null?void 0:a.one_subject)==null?void 0:m.selected_batch_query)==null?void 0:p._id,sid:s==null?void 0:s._id}),((r=n==null?void 0:n.search)==null?void 0:r.substring(3))==="attendance"&&e.jsx(ye,{sid:s==null?void 0:s._id,bid:(y=(u=a==null?void 0:a.one_subject)==null?void 0:u.selected_batch_query)==null?void 0:y._id,subjectName:`${(x=a==null?void 0:a.one_subject)==null?void 0:x.subjectName} (${((N=a==null?void 0:a.one_subject)==null?void 0:N.subject_category)??""}) (${(($=(g=a==null?void 0:a.one_subject)==null?void 0:g.selected_batch_query)==null?void 0:$.batchName)??""})`,carryParentState:i}),((E=n==null?void 0:n.search)==null?void 0:E.substring(3))==="extra-attendance"&&e.jsx(ye,{sid:s==null?void 0:s._id,bid:(w=(j=a==null?void 0:a.one_subject)==null?void 0:j.selected_batch_query)==null?void 0:w._id,subjectName:`${(d=a==null?void 0:a.one_subject)==null?void 0:d.subjectName} (${((f=a==null?void 0:a.one_subject)==null?void 0:f.subject_category)??""}) (${((l=(L=a==null?void 0:a.one_subject)==null?void 0:L.selected_batch_query)==null?void 0:l.batchName)??""})`,carryParentState:i}),(((T=n==null?void 0:n.search)==null?void 0:T.substring(3))==="exam"||((S=n==null?void 0:n.search)==null?void 0:S.substring(3))==="exam-detail")&&e.jsx(ta,{sid:s==null?void 0:s._id,cid:(D=s==null?void 0:s.class)==null?void 0:D._id,carryParentState:i,smid:(B=a==null?void 0:a.one_subject)==null?void 0:B.subjectMasterName})," ",["co-attainment","co-mapping","co-setting"].includes((k=n==null?void 0:n.search)==null?void 0:k.substring(3))&&e.jsx(Ja,{sid:s==null?void 0:s._id,cid:(C=s==null?void 0:s.class)==null?void 0:C._id,carryParentState:i,smid:(K=a==null?void 0:a.one_subject)==null?void 0:K.subjectMasterName}),((Y=n==null?void 0:n.search)==null?void 0:Y.substring(3))==="mcq"&&e.jsx(At,{sid:s==null?void 0:s._id,setOpenMcq:o}),((I=n==null?void 0:n.search)==null?void 0:I.substring(3,13))==="assignment"&&e.jsx(Ke,{sid:s==null?void 0:s._id,cid:(A=s==null?void 0:s.class)==null?void 0:A._id,carryParentState:i,bid:(W=(b=a==null?void 0:a.one_subject)==null?void 0:b.selected_batch_query)==null?void 0:W._id,smid:(F=a==null?void 0:a.one_subject)==null?void 0:F.subjectMasterName}),((z=n==null?void 0:n.search)==null?void 0:z.substring(3))==="setting"&&e.jsx(Pt,{sid:s==null?void 0:s._id}),((Q=n==null?void 0:n.search)==null?void 0:Q.substring(3,11))==="academic"&&e.jsx(fs,{sid:s==null?void 0:s._id,carryParentState:i}),((G=n==null?void 0:n.search)==null?void 0:G.substring(3))==="subject-academic"&&e.jsx(ws,{})]})]})}const Hn=()=>{var n,a,c;const s=pe(),[i,o]=v.useState("");return e.jsx(Qe,{index:"3",sid:((n=s==null?void 0:s.state)==null?void 0:n.sid)??"",onClickValue:((a=s==null?void 0:s.state)==null?void 0:a.onClickValue)??"",children:e.jsx(Ga,{onClickValue:((c=s==null?void 0:s.state)==null?void 0:c.onClickValue)??"",carryParentState:s==null?void 0:s.state,setOpenMcq:o})})};export{Hn as default};
