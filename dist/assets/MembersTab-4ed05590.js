import{j as e,e as as,L as v,R as C,k as o,r,z as cs,_ as ts,d as ms,aM as ds,aN as us,w as is,aO as xs,Q as ss,x as es}from"./index-0ca76035.js";import hs from"./Side-b4677b37.js";import{M as bs}from"./MiddleBody-a42f3bca.js";import js from"./JoiningForm-4094e9ae.js";import{u as rs}from"./department-api-e4b13f05.js";import"./SidebarBottom-7becd76a.js";import"./CustomSuspense-25f8db15.js";import"./CustomSuspenseGif-96fc12fa.js";import"./JoiningForm.module-3d067e90.js";import"./admission-api-925391d9.js";import"./ApplicationPreviewDetail-4a05e741.js";import"./finance-api-e818490b.js";import"./JoinFormInputView-2b5b0bdd.js";import"./JoinForm.module-212f9bb3.js";import"./FeesStructure.module-7a88fbbc.js";import"./Overlay-c8100e0a.js";import"./Overlay.module-9133d1bb.js";import"./SearchModalBackdrop-c4f123e6.js";import"./SearchHeader.module-b69c8942.js";import"./EditConfirm.module-344fbdb9.js";import"./CustomNormalSelectInput-0a62fa3f.js";import"./DatePicker-c6d0e911.js";import"./JoinFormInput-82706177.js";import"./StringLength.module-75a6e080.js";import"./SeatingArrangement.module-3f4ae6aa.js";import"./PopupWrapper-2578092d.js";import"./SearchModalWrapper-0fa3f9a3.js";import"./CustomSelectDepartment-11201deb.js";import"./hostel-api-9294ced1.js";import"./transport-api-ee724cce.js";import"./BorderBottom-1dc6f53e.js";import"./JoinFormCalender-d186c4ef.js";import"./SelectFeeStructure-915fed5c.js";const ls="_navbar_1r7l0_1",g={navbar:ls},_s="_mainbody_1pok4_1",ns={mainbody:_s},Ns="_middlewidth_1xe2h_1",vs={middlewidth:Ns},gs="_main_1agen_1",Cs="_imageJustify_1agen_10",os="_justifyWhite_1agen_16",ys="_imageJustify1_1agen_20",Is="_nameAndAbout_1agen_27",Ts="_name_1agen_27",Os="_about_1agen_49",ws="_imageJustify2_1agen_65",x={main:gs,imageJustify:Cs,justifyWhite:os,imageJustify1:ys,nameAndAbout:Is,name:Ts,about:Os,imageJustify2:ws},Ss=({profileHead:c})=>e.jsxs("div",{className:x.main,children:[e.jsxs("div",{className:x.imageJustify,children:[e.jsx("img",{src:"/images/profile-white.svg",alt:"",className:x.justifyWhite}),e.jsx("img",{src:"/images/profile-blue.svg",alt:"",className:x.imageJustify1}),e.jsxs("div",{className:x.nameAndAbout,children:[e.jsx("p",{className:x.name,children:c&&c.insName}),e.jsx("div",{className:x.about,children:c&&c.insAbout})]})]}),e.jsx("img",{src:(c==null?void 0:c.coverId)!=="2"?`${as}/${c==null?void 0:c.insProfileCoverPhoto}`:"/images/Institute-cover.svg",alt:"",className:x.imageJustify2,style:(c==null?void 0:c.coverId)!=="2"?{right:"0"}:{right:"0"}})]}),As="_bottomDiv_1wo4o_1",Js="_bottomOneItem_1wo4o_12",$s="_bottomOneItemActive_1wo4o_20",Fs="_bottomCount_1wo4o_24",ks="_bottomText_1wo4o_33",n={bottomDiv:As,bottomOneItem:Js,bottomOneItemActive:$s,bottomCount:Fs,bottomText:ks},Es=({data:c,profileBottom:s,searchId:a})=>e.jsxs("div",{className:n.bottomDiv,children:[e.jsxs("div",{className:n.bottomOneItem,children:[e.jsx("p",{className:n.bottomCount,children:s&&s.postCount}),(s==null?void 0:s.postCount)<2?e.jsx("p",{className:n.bottomText,children:"Post"}):e.jsx("p",{className:n.bottomText,children:"Posts"})]}),a?e.jsxs("div",{className:n.bottomOneItem,children:[e.jsx("p",{className:n.bottomCount,children:s&&s.followersCount}),(s==null?void 0:s.followersCount)<2?e.jsx("p",{className:n.bottomText,children:"Follower"}):e.jsx("p",{className:n.bottomText,children:"Followers"})]}):e.jsx(v,{to:`/q/${s==null?void 0:s.name}/following`,children:e.jsxs("div",{className:n.bottomOneItem,children:[e.jsx("p",{className:n.bottomCount,children:s&&s.followersCount}),(s==null?void 0:s.followersCount)<2?e.jsx("p",{className:n.bottomText,children:"Follower"}):e.jsx("p",{className:n.bottomText,children:"Followers"})]})}),a?e.jsxs("div",{className:c===!0?`${n.bottomOneItem} ${n.bottomOneItemActive}`:n.bottomOneItem,children:[e.jsx("p",{className:n.bottomCount,children:s&&s.followingCount}),e.jsx("p",{className:n.bottomText,children:"Following"})]}):e.jsx(v,{to:`/q/${s==null?void 0:s.name}/following`,children:e.jsxs("div",{className:c===!0?`${n.bottomOneItem} ${n.bottomOneItemActive}`:n.bottomOneItem,children:[e.jsx("p",{className:n.bottomCount,children:s&&s.followingCount}),e.jsx("p",{className:n.bottomText,children:"Following"})]})}),e.jsxs("div",{className:n.bottomOneItem,children:[e.jsx("p",{className:n.bottomCount,children:s&&s.staffCount+s.studentCount}),e.jsx("p",{className:n.bottomText,children:"Joined"})]}),(s==null?void 0:s.accessFeature)==="Locked"||a?e.jsxs("div",{className:n.bottomOneItem,children:[e.jsx("p",{className:n.bottomCount,children:s&&s.departmentCount}),(s==null?void 0:s.departmentCount)<2?e.jsx("p",{className:n.bottomText,children:"Department"}):e.jsx("p",{className:n.bottomText,children:"Departments"})]}):e.jsx(v,{to:`/q/${s==null?void 0:s.name}/department`,children:e.jsxs("div",{className:n.bottomOneItem,children:[e.jsx("p",{className:n.bottomCount,children:s&&s.departmentCount}),(s==null?void 0:s.departmentCount)<2?e.jsx("p",{className:n.bottomText,children:"Department"}):e.jsx("p",{className:n.bottomText,children:"Departments"})]})}),(s==null?void 0:s.accessFeature)==="Locked"||a?e.jsxs("div",{className:n.bottomOneItem,children:[e.jsx("p",{className:n.bottomCount,children:s&&s.staffCount}),(s==null?void 0:s.staffCount)<2?e.jsx("p",{className:n.bottomText,children:"Staff"}):e.jsx("p",{className:n.bottomText,children:"Staffs"})]}):e.jsx(v,{to:`/q/${s==null?void 0:s.name}/staff`,children:e.jsxs("div",{className:n.bottomOneItem,children:[e.jsx("p",{className:n.bottomCount,children:s&&s.staffCount}),(s==null?void 0:s.staffCount)<2?e.jsx("p",{className:n.bottomText,children:"Staff"}):e.jsx("p",{className:n.bottomText,children:"Staffs"})]})}),e.jsxs("div",{className:n.bottomOneItem,children:[e.jsx("p",{className:n.bottomCount,children:s&&s.announcementCount?s.announcementCount:0}),(s==null?void 0:s.announcementCount)<2?e.jsx("p",{className:n.bottomText,children:"Announcement"}):e.jsx("p",{className:n.bottomText,children:"Announcements"})]}),e.jsxs("div",{className:n.bottomOneItem,children:[e.jsx("p",{className:n.bottomCount,children:s&&s.admissionCount?s.admissionCount:0}),e.jsx("p",{className:n.bottomText,children:"Admission"})]})]}),Ls=({profileData:c})=>{const[s,a]=C.useState(),d=o(m=>m.idChange),j=m=>{a(m)};return e.jsxs("div",{className:vs.middlewidth,children:[e.jsx(Ss,{profileHead:c&&c}),e.jsx(Es,{data:s,profileBottom:c&&c,searchId:d==null?void 0:d.searchProfile.id}),e.jsx(bs,{state:j,profileBody:c&&c})]})};function Ps({swichDataId:c,username:s}){var t,u,N,_;const a=o(h=>h.idChange),[d,j]=r.useState(!1),{oneInstituteProfile:m,oneInstituteProfileRefetch:l}=cs({data:{id:c,type:"ID"},skip:!c});return C.useEffect(()=>{c&&l()},[c,l]),e.jsxs("div",{className:ns.mainbody,children:[e.jsx("div",{className:ns.sidebar,children:e.jsx(hs,{profileSide:m==null?void 0:m.institute,resultId:c,insName:(t=m==null?void 0:m.institute)==null?void 0:t.insName,name:(u=m==null?void 0:m.institute)==null?void 0:u.name,insPhotoId:(N=m==null?void 0:m.institute)==null?void 0:N.photoId,insProfilePhoto:(_=m==null?void 0:m.institute)==null?void 0:_.insProfilePhoto,setApply:j,apply:d})}),d?e.jsx(js,{searchId:c,uid:a==null?void 0:a.id,applicantUserName:s}):e.jsx(Ls,{profileData:m==null?void 0:m.institute,resultId:c})]})}const Rs=C.lazy(()=>ts(()=>import("./StaffMembersTab-fbf9c387.js"),["assets/StaffMembersTab-fbf9c387.js","assets/index-0ca76035.js","assets/index-4d24e8f6.css"])),Qs=C.lazy(()=>ts(()=>import("./StudentMembersTab-20f1623c.js"),["assets/StudentMembersTab-20f1623c.js","assets/index-0ca76035.js","assets/index-4d24e8f6.css","assets/StudentMembersTab-2d610ac2.css"]));function Ne(){var I,T,O,w,S,A,J,$,F,k,E,L,P,R,Q,q,M,W,z,U;const c=localStorage.getItem("user"),s=ms(),a=o(b=>b.idChange),{data:d,refetch:j}=ds(a==null?void 0:a.id,{skip:!(a!=null&&a.id)}),{data:m,refetch:l}=us(a==null?void 0:a.id,{skip:!(a!=null&&a.id)}),{data:t}=is(c),{data:u,refetch:N}=xs(),[_,h]=r.useState({id:null,type:""}),{getActivatedMemberAccount:i,getActivatedMemberAccountRefetch:y}=rs({data:{id:a==null?void 0:a.id},skip:!(a!=null&&a.id)});return r.useEffect(()=>{a!=null&&a.id&&(j(),l(),N())},[a==null?void 0:a.id,j,l]),r.useEffect(()=>{var b,G,V,K,X,Y,Z,H,p,D,f,B;m&&d&&(((G=(b=m==null?void 0:m.user)==null?void 0:b.staff)==null?void 0:G.length)>0?h({id:(K=(V=m==null?void 0:m.user)==null?void 0:V.staff[0])==null?void 0:K._id,type:"staff"}):((Y=(X=d==null?void 0:d.user)==null?void 0:X.student)==null?void 0:Y.length)>0?h({id:(H=(Z=d==null?void 0:d.user)==null?void 0:Z.student[0])==null?void 0:H._id,type:"student"}):((D=(p=d==null?void 0:d.user)==null?void 0:p.student)==null?void 0:D.length)===0&&((f=u==null?void 0:u.r_Ins)!=null&&f._id)?h({id:(B=u==null?void 0:u.r_Ins)==null?void 0:B._id,type:"random"}):h({id:null,type:""}))},[d,m]),r.useEffect(()=>{var b;(b=s.state)!=null&&b.selectedAccount&&y()},[(I=s.state)==null?void 0:I.selectedAccount,y]),e.jsx(e.Fragment,{children:e.jsx(r.Suspense,{fallback:e.jsx(ss,{}),children:((T=i==null?void 0:i.role)==null?void 0:T.member)==="Staff"?e.jsx(Rs,{staffId:(O=s.state)!=null&&O.selectedAccount?(w=s.state)==null?void 0:w.selectedAccount:(S=i==null?void 0:i.role)==null?void 0:S.activeRole}):((A=i==null?void 0:i.role)==null?void 0:A.member)==="Student"?e.jsx(Qs,{studentId:(J=s.state)!=null&&J.selectedAccount?($=s.state)==null?void 0:$.selectedAccount:(F=i==null?void 0:i.role)==null?void 0:F.activeRole}):_.type==="random"&&((k=u==null?void 0:u.r_Ins)!=null&&k._id)?e.jsxs("div",{className:g.insChat,children:[e.jsx("div",{className:g.navbar,children:e.jsx(es,{status:"members",profileData:t==null?void 0:t.user,username:(E=t==null?void 0:t.user)==null?void 0:E.username,name:(L=t==null?void 0:t.user)==null?void 0:L.userLegalName,photoId:(P=t==null?void 0:t.user)==null?void 0:P.photoId,profilePhoto:(R=t==null?void 0:t.user)==null?void 0:R.profilePhoto})}),e.jsx(Ps,{swichDataId:_.id,setSwitchDataId:h,studentJoinData:(Q=d==null?void 0:d.user)==null?void 0:Q.student,username:(q=t==null?void 0:t.user)==null?void 0:q.username})]}):e.jsxs("div",{className:g.insChat,children:[e.jsx("div",{className:g.navbar,children:e.jsx(es,{status:"members",profileData:t==null?void 0:t.user,username:(M=t==null?void 0:t.user)==null?void 0:M.username,name:(W=t==null?void 0:t.user)==null?void 0:W.userLegalName,photoId:(z=t==null?void 0:t.user)==null?void 0:z.photoId,profilePhoto:(U=t==null?void 0:t.user)==null?void 0:U.profilePhoto})}),e.jsx(ss,{})]})})})}export{Ne as default};
