import{n as pe,j as e,L as xe,u as J,r,D as _e,e as V,t as Z,S as Q,R as ve,d as me,lv as je,lw as ue}from"./index-731451a5.js";import{a as ge,s as Ne}from"./sports-api-e43d7205.js";import{s as be,t as qe,v as he,w as ye,x as Ce,y as $e,z as Se}from"./sports-api-a3eb6f92.js";import{L as fe}from"./LoaderButton-71df50a7.js";import{D as X}from"./Divider-6278282f.js";const Ie="_MiddleContent_1fdp9_1",ke="_MiddleContentLeft_1fdp9_14",Re="_tabs_1fdp9_23",we="_item_1fdp9_28",Me="_MiddleContentRight_1fdp9_50",Te="_MiddleContentRightHead_1fdp9_57",Oe="_pItem_1fdp9_71",Pe="_text_1fdp9_90",Ee="_addbtn_1fdp9_124",Je="_menu_1fdp9_143",Ae="_menuItem_1fdp9_148",Fe="_itemIcon_1fdp9_163",He="_classList_1fdp9_185",ze="_classListItem_1fdp9_188",Y={MiddleContent:Ie,MiddleContentLeft:ke,tabs:Re,item:we,MiddleContentRight:Me,MiddleContentRightHead:Te,pItem:Oe,text:Pe,addbtn:Ee,menu:Je,menuItem:Ae,itemIcon:Fe,classList:He,classListItem:ze},Be="_studentMCQ_q25pa_1",Le="_mcqToptabs_q25pa_4",Ve="_mcqTop_q25pa_4",Ge="_mcqTopItem_q25pa_22",Ue="_active_q25pa_38",H={studentMCQ:Be,mcqToptabs:Le,mcqTop:Ve,mcqTopItem:Ge,active:Ue},ie=({carryParentState:s,activeTab:l,customStyleOfLink:h,children:t})=>{const m=pe();return e.jsx(xe,{to:`/q/${m.username}/member/sport/class/${m.cname}${l?`?a=${l}`:""}`,state:{...s},style:{...h},children:t})};function We({carryParentState:s,activeUrl:l}){const{t:h}=J();return e.jsx("div",{className:H.mcqTop,children:e.jsxs("div",{className:H.mcqToptabs,children:[e.jsx(ie,{carryParentState:s,customStyleOfLink:{width:"50%"},children:e.jsx("div",{className:(l==null?void 0:l.substring(3))!=="teams"?`${H.mcqTopItem} ${H.active}`:H.mcqTopItem,children:h("members")})}),e.jsx(ie,{carryParentState:s,activeTab:"teams",customStyleOfLink:{width:"50%"},children:e.jsx("div",{className:(l==null?void 0:l.substring(3))==="teams"?`${H.mcqTopItem} ${H.active}`:H.mcqTopItem,children:h("teams")})})]})})}const Ke="_addDisplay_tvdcz_1",Qe="_title_tvdcz_11",Xe="_content_tvdcz_32",Ye="_contentTop_tvdcz_49",Ze="_studentItem_tvdcz_68",De="_studentItemContainer_tvdcz_75",es="_stext_tvdcz_85",ss="_checkbox_tvdcz_108",ts="_footer_tvdcz_112",as="_btn_tvdcz_116",cs="_btnActive_tvdcz_130",ns="_searchContainer_tvdcz_149",S={addDisplay:Ke,title:Qe,content:Xe,contentTop:Ye,studentItem:Ze,studentItemContainer:De,stext:es,checkbox:ss,footer:ts,btn:as,btnActive:cs,searchContainer:ns};function os({student:s,studentData:l,setStudentData:h}){const t=o=>{const f=l.students;f.push(o),h({...l,students:f})},{t:m}=J(),n=o=>{let f=l.students;const x=f.indexOf(o);x>-1&&f.splice(x,1),h({...l,students:f})};return e.jsxs("div",{className:S.studentItemContainer,children:[e.jsxs("div",{className:S.studentItem,children:[e.jsx("img",{alt:"",src:(s==null?void 0:s.photoId)!=="1"?`${V}/${s==null?void 0:s.studentProfilePhoto}`:"/images/member_tab/class/default_avatar.svg"}),e.jsxs("div",{className:S.stext,children:[e.jsxs("h6",{children:[s==null?void 0:s.studentFirstName," ",s==null?void 0:s.studentMiddleName,s==null?void 0:s.studentLastName]}),e.jsxs("p",{children:[m("gr_no")," : ",s==null?void 0:s.studentGRNO]})]})]}),l.students.includes(s==null?void 0:s._id)?e.jsx("img",{id:"check",className:S.checkbox,src:"/images/checkbox-icon.svg",alt:"",onClick:()=>n(s==null?void 0:s._id)}):e.jsx("img",{id:"check",className:S.checkbox,src:"/images/box-icon.svg",alt:"",onClick:()=>t(s==null?void 0:s._id)})]})}function is({openModal:s,hideModal:l,insId:h,cid:t,classMembers:m,refetch:n,studentIDs:o}){var I,u,d;const{studentApprovedArray:f}=be({insId:h,skip:!h});r.useState([]);const{t:x}=J(),[q,w]=r.useState(""),[N,R]=r.useState({students:[]}),[M]=qe(),[T,O]=r.useState(!1),P=()=>{O(!0),M({cid:t,request:N.students}).then(a=>{O(!1),console.info(a.data),l(!1),n()})};return console.info(f),e.jsx(_e,{open:s,children:e.jsxs("div",{className:S.addDisplay,children:[e.jsxs("div",{className:S.title,children:[e.jsx("h6",{children:x("add_members")}),e.jsx("img",{src:"/images/close-post-icon.svg",onClick:()=>l(!1)})]}),e.jsxs("div",{className:S.content,children:[e.jsxs("div",{className:S.contentTop,children:[e.jsxs("div",{className:S.searchContainer,children:[e.jsx("img",{alt:"",src:"/images/search-dept-icon.svg"}),e.jsx("input",{value:q,onChange:a=>w(a.target.value),type:"text",placeholder:x("search-label"),required:!0})]}),e.jsxs("p",{children:[(I=N.students)==null?void 0:I.length," ",x("selected_")," "]})]}),(d=(u=f==null?void 0:f.studentIns)==null?void 0:u.filter(a=>{var b,g;if(q===""&&!(o!=null&&o.includes(a==null?void 0:a._id)))return a;if((b=a==null?void 0:a.studentFirstName)!=null&&b.toLowerCase().includes(q.toLocaleLowerCase())&&!(o!=null&&o.includes(a==null?void 0:a._id))||!(o!=null&&o.includes(a==null?void 0:a._id))&&((g=a==null?void 0:a.studentGRNO)!=null&&g.toLowerCase().includes(q.toLocaleLowerCase())))return a}))==null?void 0:d.map((a,b)=>e.jsx(os,{student:a,studentData:N,setStudentData:R},b))]}),e.jsx("div",{className:S.footer,children:N.students.length>0?e.jsxs("button",{disabled:!!T,className:`${S.btn} ${S.btnActive}`,onClick:P,children:[e.jsx("p",{children:x("add_")}),T&&e.jsx(fe,{})]}):e.jsxs("div",{className:S.btn,children:[" ",e.jsx("p",{children:x("add_")})," "]})})]})})}const rs="_eventstop_1rvqf_1",ls="_sportsHeadEvents_1rvqf_4",ds="_eventstopTab_1rvqf_8",_s="_eventBlue_1rvqf_25",ms="_activeTab_1rvqf_36",hs="_eventsbody_1rvqf_40",fs="_ongoingEvents_1rvqf_45",ps="_card_1rvqf_51",xs="_texttt_1rvqf_65",vs="_span1_1rvqf_87",js="_span2_1rvqf_97",us="_memberItemContainer_1rvqf_108",gs="_remove_1rvqf_114",Ns="_memberItem_1rvqf_108",bs="_memberItemText_1rvqf_150",qs="_searchbarContainer_1rvqf_173",ys="_searchbar_1rvqf_173",Cs="_searchinput_1rvqf_200",$s="_loader_1rvqf_206",Ss="_noData_1rvqf_215",k={eventstop:rs,sportsHeadEvents:ls,eventstopTab:ds,eventBlue:_s,activeTab:ms,eventsbody:hs,ongoingEvents:fs,card:ps,texttt:xs,span1:vs,span2:js,memberItemContainer:us,remove:gs,memberItem:Ns,memberItemText:bs,searchbarContainer:qs,searchbar:ys,searchinput:Cs,loader:$s,noData:Ss};function re({member:s,cid:l,refetch:h}){const[t,m]=r.useState(!1),{t:n}=J(),[o]=ye(),f=()=>{m(!0),o({cid:l,remove:[s==null?void 0:s._id]}).then(x=>{m(!1),h()})};return e.jsx(e.Fragment,{children:t?e.jsx(Q,{}):e.jsxs("div",{className:k.memberItemContainer,children:[e.jsxs("div",{className:k.memberItem,children:[e.jsx("img",{src:(s==null?void 0:s.photoId)!=="1"?`${V}/${s==null?void 0:s.studentProfilePhoto}`:"/images/member_tab/class/default_avatar.svg",alt:""}),e.jsx("div",{className:k.memberItemText,children:e.jsxs("h6",{children:[s==null?void 0:s.studentFirstName," ",s==null?void 0:s.studentMiddleName," ",s==null?void 0:s.studentLastName]})})]}),e.jsx("p",{className:k.remove,onClick:f,children:n("remove")})]})})}function Is({cid:s,insId:l}){var y;const[h,t]=r.useState(!1),[m,n]=r.useState([]),{t:o}=J(),[f,x]=r.useState(1),[q,w]=Z(),[N,R]=r.useState(!0),[M,T]=r.useState(!1),[O,P]=r.useState(!1),[I,u]=r.useState(!0),{SportClassStudentList:d,SportClassStudentListRefetch:a}=he({data:{cid:s,page:f},skip:!s});let b=m==null?void 0:m.map(p=>p==null?void 0:p._id);r.useEffect(()=>{w&&N&&x(p=>p+1)},[w,N]),r.useEffect(()=>{s&&(u(!0),a())},[f,s,a]),r.useEffect(()=>{var p,j;M?(n(C=>[...new Set([...d==null?void 0:d.student_query,...C].map(JSON.stringify))].map(JSON.parse)),u(!1),T(!1)):O?(n(C=>[...new Set([...d==null?void 0:d.student_query].map(JSON.stringify))].map(JSON.parse)),u(!1),P(!1)):d!=null&&d.student_query?(n(C=>[...new Set([...C,...d==null?void 0:d.student_query].map(JSON.stringify))].map(JSON.parse)),u(!1)):((p=d==null?void 0:d.student_query)==null?void 0:p.length)===0&&u(!1),((j=d==null?void 0:d.student_query)==null?void 0:j.length)===10?R(!0):R(!1)},[d==null?void 0:d.student_query]);const g=()=>{x(1),P(!0),u(!0),a()};return e.jsxs("div",{className:k.sportsHeadEvents,children:[e.jsxs("div",{className:k.eventstop,children:[e.jsx("div",{className:k.searchbarContainer,children:e.jsxs("div",{className:k.searchbar,children:[e.jsx("input",{type:"text",placeholder:o("search-label"),name:"search",className:`form-control ${k.searchinput}`}),e.jsx("img",{alt:"img",src:"/images/search-dash-icon.svg"})]})}),e.jsx("div",{className:`${k.eventstopTab} ${k.eventBlue}`,onClick:()=>t(!0),children:o("add_members")})]}),e.jsxs("div",{className:k.eventsbody,children:[m==null?void 0:m.map((p,j)=>(m==null?void 0:m.length)===j+1?e.jsx("div",{ref:q,children:e.jsx(re,{member:p,cid:s,refetch:g})},j):e.jsx("div",{ref:q,children:e.jsx(re,{member:p,cid:s,refetch:g})},j)),I&&e.jsx(Q,{}),!I&&((y=d==null?void 0:d.student_query)==null?void 0:y.length)===0&&e.jsx("div",{className:k.noData,children:o("no_student")})]}),h&&e.jsx(is,{openModal:h,hideModal:p=>t(p),insId:l,cid:s,classMembers:m,refetch:g,studentIDs:b})]})}const ks="_sports_1395v_1",Rs="_item_1395v_6",ws="_eventstop_1395v_30",Ms="_eventBlue_1395v_48",Ts="_card_1395v_55",Os="_texttt_1395v_69",Ps="_span1_1395v_91",Es="_span2_1395v_101",Js="_eventsMid_1395v_111",As="_loader_1395v_115",Fs="_noData_1395v_124",E={sports:ks,item:Rs,eventstop:ws,eventBlue:Ms,card:Ts,texttt:Os,span1:Ps,span2:Es,eventsMid:Js,loader:As,noData:Fs},Hs="_addDisplay_12sba_1",zs="_title_12sba_8",Bs="_content_12sba_29",Ls="_input_12sba_39",Vs="_selectCount_12sba_76",Gs="_selectCount2_12sba_83",Us="_blueCount_12sba_102",Ws="_item_12sba_107",Ks="_subItem_12sba_117",Qs="_itemtext_12sba_130",Xs="_items_12sba_160",Ys="_itemsrow_12sba_176",Zs="_counts_12sba_182",Ds="_checkbox_12sba_199",et="_addDisplayTop_12sba_205",st="_footer_12sba_211",tt="_btn_12sba_215",at="_upload_12sba_226",ct="_btnActive_12sba_248",nt="_blobImg_12sba_267",_={addDisplay:Hs,title:zs,content:Bs,input:Ls,selectCount:Vs,selectCount2:Gs,blueCount:Us,item:Ws,subItem:Ks,itemtext:Qs,items:Xs,itemsrow:Ys,counts:Zs,checkbox:Ds,addDisplayTop:et,footer:st,btn:tt,upload:at,btnActive:ct,blobImg:nt};function le({student:s,teamdata:l,setTeamData:h}){J();const t=()=>{const n=l.request,o=l.players;n.push(s==null?void 0:s._id),o.push(s),h({...l,request:n,players:o})},m=()=>{const n=l.request,o=l.players.filter(x=>(x==null?void 0:x._id)!==(s==null?void 0:s._id)),f=n.indexOf(s==null?void 0:s._id);f>-1&&n.splice(f,1),h({...l,request:n,players:o})};return e.jsxs("div",{className:_.item,children:[e.jsxs("div",{className:_.subItem,children:[e.jsx("img",{alt:"",src:s!=null&&s.studentProfilePhoto?`${V}/${s==null?void 0:s.studentProfilePhoto}`:"/images/member_tab/class/default_avatar.svg"}),e.jsxs("div",{className:_.itemtext,children:[e.jsx("div",{className:_.insName,children:e.jsxs("h6",{children:[s==null?void 0:s.studentFirstName," ",s!=null&&s.studentMiddleName?s==null?void 0:s.studentMiddleName:" "," ",s==null?void 0:s.studentLastName]})}),e.jsxs("p",{className:_.insUserName,children:["GR No. ",s==null?void 0:s.studentGRNO]})]})]}),l.request.includes(s==null?void 0:s._id)?e.jsx("img",{id:"check",className:_.checkbox,src:"/images/checkbox-icon.svg",alt:"",onClick:m}):e.jsx("img",{id:"check",className:_.checkbox,src:"/images/box-icon.svg",alt:"",onClick:t})]})}function ot({openModal:s,hideModal:l,insId:h,cid:t,teamrefetch:m}){var L,D,ee,se,te,ae,ce,ne,oe;const{t:n}=J(),[o,f]=r.useState([]),[x,q]=r.useState(1),[w,N]=Z(),[R,M]=r.useState(!0),[T,O]=r.useState(!1),[P,I]=r.useState(!1),[u,d]=r.useState(!0),[a,b]=r.useState(""),[g,y]=r.useState(0),[p]=Ce(),[j,C]=r.useState(!1),[G,B]=ve.useState(!1),[i,A]=r.useState({file:{},sportClassTeamName:"",captain:"",captainn:{},request:[],players:[]}),{SportClassStudentList:v,SportClassStudentListRefetch:U}=he({data:{cid:t,page:x},skip:!t});r.useEffect(()=>{N&&R&&q(c=>c+1)},[N,R]),r.useEffect(()=>{t&&(d(!0),U())},[x,t,U]),r.useEffect(()=>{var c,$;T?(f(F=>[...new Set([...v==null?void 0:v.student_query,...F].map(JSON.stringify))].map(JSON.parse)),d(!1),O(!1)):P?(f(F=>[...new Set([...v==null?void 0:v.student_query].map(JSON.stringify))].map(JSON.parse)),d(!1),I(!1)):v!=null&&v.student_query?(f(F=>[...new Set([...F,...v==null?void 0:v.student_query].map(JSON.stringify))].map(JSON.parse)),d(!1)):((c=v==null?void 0:v.student_query)==null?void 0:c.length)===0&&d(!1),(($=v==null?void 0:v.student_query)==null?void 0:$.length)===10?M(!0):M(!1)},[v==null?void 0:v.student_query]);const W=()=>{const c=[],$=[];for(var F=0;F<o.length;F++)c.push(o[F]._id),$.push(o[F]);A({...i,request:c,players:$}),B(!0)},K=c=>{A({...i,file:c.target.files[0]}),b(URL.createObjectURL(c.target.files[0]))},z=()=>{C(!0);const c=new FormData;c.append("file",i.file),c.append("sportClassTeamName",i.sportClassTeamName),c.append("captain",i.captain),c.append("request",JSON.stringify(i.request)),c.append("cid",t),p(c).then($=>{$.data.status&&(l(!1),m())}).catch($=>{})};return e.jsx(_e,{open:s,children:e.jsxs("div",{className:_.addDisplay,children:[g===1&&e.jsxs("div",{children:[e.jsxs("div",{className:_.title,children:[e.jsx("img",{src:"/images/left-nav-icon.svg",onClick:()=>y(0)}),e.jsx("h6",{children:n("add_members")}),e.jsx("div",{})]}),e.jsxs("div",{className:_.content,children:[e.jsxs("div",{className:_.counts,children:[e.jsxs("p",{children:[i.request.length," selected"]}),e.jsx("p",{style:{cursor:"pointer"},onClick:W,children:n("select_all")})]}),e.jsxs("div",{className:_.items,children:[o==null?void 0:o.map((c,$)=>(o==null?void 0:o.length)===$+1?e.jsxs("div",{children:[e.jsx(le,{student:c,teamdata:i,setTeamData:A,selectAll:G,setSelectAll:B}),e.jsx(X,{})]},$):e.jsxs("div",{ref:w,children:[e.jsx(le,{student:c,teamdata:i,setTeamData:A,selectAll:G,setSelectAll:B}),e.jsx(X,{})]},$)),u&&e.jsx(Q,{})]})]})]}),g===2&&e.jsxs("div",{children:[e.jsxs("div",{className:_.title,children:[e.jsx("img",{src:"/images/left-nav-icon.svg",onClick:()=>y(0)}),e.jsx("h6",{children:n("select_captain")}),e.jsx("div",{})]}),e.jsx("div",{className:_.content,children:e.jsx("div",{className:_.items,children:(L=i==null?void 0:i.players)==null?void 0:L.map((c,$)=>e.jsxs("div",{onClick:()=>{A({...i,captain:c==null?void 0:c._id,captainn:c}),y(0)},children:[e.jsx("div",{className:_.item,children:e.jsxs("div",{className:_.subItem,children:[e.jsx("img",{alt:"",src:c!=null&&c.studentProfilePhoto?`${V}/${c==null?void 0:c.studentProfilePhoto}`:"/images/member_tab/class/default_avatar.svg"}),e.jsxs("div",{className:_.itemtext,children:[e.jsx("div",{className:_.insName,children:e.jsxs("h6",{children:[c==null?void 0:c.studentFirstName," ",c!=null&&c.studentMiddleName?c==null?void 0:c.studentMiddleName:" "," ",c==null?void 0:c.studentLastName]})}),e.jsxs("p",{className:_.insUserName,children:[n("gr_no")," ",c==null?void 0:c.studentGRNO]})]})]})}),e.jsx(X,{})]},$))})})]}),g===0&&e.jsxs("div",{children:[e.jsxs("div",{className:_.title,children:[e.jsx("div",{}),e.jsx("h6",{children:n("create_new_team")}),e.jsx("img",{src:"/images/close-post-icon.svg",onClick:()=>l(!1)})]}),e.jsxs("div",{className:_.content,children:[e.jsxs("div",{className:_.input,children:[e.jsx("h6",{children:n("team_name")}),e.jsx("input",{type:"text",value:i.sportClassTeamName,onChange:c=>{A({...i,sportClassTeamName:c.target.value})},required:!0,placeholder:n("please_enter_team_name")})]}),e.jsxs("div",{className:_.selectCount,children:[e.jsxs("p",{children:[i.request.length," Selected"]}),e.jsx("p",{className:_.blueCount,onClick:()=>y(1),children:n("add_members")})]}),i.captain!==""?e.jsxs("div",{className:_.selectCount,children:[e.jsxs("div",{className:_.subItem,children:[e.jsx("img",{alt:"",src:(D=i==null?void 0:i.captainn)!=null&&D.studentProfilePhoto?`${V}/${(ee=i==null?void 0:i.captainn)==null?void 0:ee.studentProfilePhoto}`:"/images/member_tab/class/default_avatar.svg"}),e.jsxs("div",{className:_.itemtext,children:[e.jsx("div",{className:_.insName,children:e.jsxs("h6",{children:[(se=i==null?void 0:i.captainn)==null?void 0:se.studentFirstName," ",(te=i==null?void 0:i.captainn)!=null&&te.studentMiddleName?(ae=i==null?void 0:i.captainn)==null?void 0:ae.studentMiddleName:" "," ",(ce=i==null?void 0:i.captainn)==null?void 0:ce.studentLastName]})}),e.jsxs("p",{className:_.insUserName,children:[n("gr_no")," ",(ne=i==null?void 0:i.captainn)==null?void 0:ne.studentGRNO]})]})]}),e.jsx("p",{className:_.blueCount,children:n("captain")})]}):i.request.length>0?e.jsx("div",{className:_.selectCount2,onClick:()=>y(2),children:e.jsx("p",{className:_.blueCount,children:n("select_captain")})}):"",e.jsxs("div",{className:_.selectCount,children:[e.jsx("p",{children:n("add_team_photo")}),e.jsx("label",{htmlFor:"document",style:{cursor:"pointer"},children:e.jsx("p",{className:_.blueCount,children:"Select File"})}),e.jsx("input",{className:_.upload,multiple:!0,id:"document",name:"file",onChange:K,type:"file",accept:"image/jpeg, image/png"})]}),a!==""&&e.jsx("img",{className:_.blobImg,src:a})]}),e.jsx("div",{className:_.footer,children:(oe=i.file)!=null&&oe.name&&i.sportClassTeamName&&(i==null?void 0:i.request.length)>0?e.jsxs("button",{disabled:!!j,className:`${_.btn} ${_.btnActive}`,onClick:z,children:[e.jsx("p",{children:n("create")}),j&&e.jsx(fe,{})]}):e.jsxs("div",{className:_.btn,children:[" ",e.jsx("p",{children:n("create")})," "]})})]})]})})}function de({team:s,setClickEvent:l,sport:h}){const{t}=J();return e.jsxs("div",{className:E.card,onClick:()=>{},children:[e.jsx("img",{src:(s==null?void 0:s.photoId)==="1"?`${V}/${s==null?void 0:s.sportTeamPhoto}`:"/images/ins-image.jpg",alt:""}),e.jsxs("div",{className:E.texttt,children:[e.jsx("p",{children:e.jsx("span",{className:E.span1,children:s==null?void 0:s.sportClassTeamName})}),e.jsxs("p",{children:[" ",t("total_team_member")," : ",s==null?void 0:s.sportTeamStudentCount]}),e.jsxs("p",{children:[" ",t("total_team_points")," : ",s==null?void 0:s.teamPoints]})]})]})}function it({cid:s,classMembers:l,insId:h}){var y;const[t,m]=r.useState(!1),{t:n}=J(),[o,f]=r.useState([]),[x,q]=r.useState(1),[w,N]=Z(),[R,M]=r.useState(!0),[T,O]=r.useState(!1),[P,I]=r.useState(!1),[u,d]=r.useState(!0),{SportClassTeamList:a,SportClassTeamListRefetch:b}=$e({data:{cid:s,page:x},skip:!s});r.useEffect(()=>{N&&R&&q(p=>p+1)},[N,R]),r.useEffect(()=>{s&&(d(!0),b())},[x,s,b]),r.useEffect(()=>{var p,j;T?(f(C=>[...new Set([...a==null?void 0:a.team_query,...C].map(JSON.stringify))].map(JSON.parse)),d(!1),O(!1)):P?(f(C=>[...new Set([...a==null?void 0:a.team_query].map(JSON.stringify))].map(JSON.parse)),d(!1),I(!1)):a!=null&&a.team_query?(f(C=>[...new Set([...C,...a==null?void 0:a.team_query].map(JSON.stringify))].map(JSON.parse)),d(!1)):((p=a==null?void 0:a.team_query)==null?void 0:p.length)===0&&d(!1),((j=a==null?void 0:a.team_query)==null?void 0:j.length)===10?M(!0):M(!1)},[a==null?void 0:a.team_query]);const g=()=>{q(1),I(!0),d(!0),b()};return e.jsxs("div",{className:E.sports,children:[e.jsxs("div",{className:E.eventstop,children:[e.jsxs("h6",{className:`${E.eventstopTab} `,children:[n("total_teams"),": ",o==null?void 0:o.length]}),e.jsx("h6",{className:`${E.eventstopTab} ${E.eventBlue}`,onClick:()=>m(!0),children:n("create_new_team")})]}),e.jsxs("div",{className:E.eventsMid,children:[o==null?void 0:o.map((p,j)=>(o==null?void 0:o.length)===j+1?e.jsx("div",{ref:w,children:e.jsx(de,{team:p,refetch:g})},j):e.jsx("div",{children:e.jsx(de,{team:p,refetch:g})},j)),u&&e.jsx(Q,{}),!u&&((y=a==null?void 0:a.team_query)==null?void 0:y.length)===0&&e.jsx("div",{className:E.noData,children:n("no_team_found")})]}),t&&e.jsx(ot,{insId:h,openModal:t,hideModal:p=>m(p),classMembers:l,cid:s,teamrefetch:g})]})}function rt({cid:s,classTeams:l,insId:h,classProfileRefetch:t,carryParentState:m}){const n=me();return e.jsx("div",{className:Y.MiddleContent,children:e.jsxs("div",{className:Y.MiddleContentLeft,children:[e.jsx("div",{className:Y.tabs,children:e.jsx(We,{activeUrl:n==null?void 0:n.search,carryParentState:m})}),!(n!=null&&n.search)&&e.jsx(Is,{cid:s,insId:h,classProfileRefetch:t}),(n==null?void 0:n.search)&&e.jsx(it,{cid:s,classTeams:l,insId:h})]})})}function lt({sportClassId:s,carryParentState:l}){var I,u,d,a,b,g,y,p,j,C,G,B,i,A,v,U,W,K;const{t:h}=J(),{sportsClassDetails:t,sportsClassDetailsRefetch:m}=Se({sportClassId:s,skip:!s}),[n,o]=r.useState(""),[f,x]=r.useState(""),[q,w]=r.useState(!1),[N,R]=r.useState(!1),[M,T]=r.useState(""),[O]=ge();r.useEffect(()=>{s&&m()},[s,m]),r.useEffect(()=>{if(N){let z=new FormData;z.append("file",f),O({cover:z,sid:s}).then(L=>{}).catch({})}},[N,f]);const P=z=>{const L=URL.createObjectURL(z.target.files[0]);x(z.target.files[0]),T(L),o(L),w(!0)};return e.jsxs(e.Fragment,{children:[e.jsx(je,{coverKey:(I=t==null?void 0:t.classes)==null?void 0:I.cover,coverId:(u=t==null?void 0:t.classes)==null?void 0:u.coverId,defaultCover:"/images/profileAndCover/sports-class-cover.png",textLarge:(d=t==null?void 0:t.classes)==null?void 0:d.sportClassName,textSmall:`${(b=(a=t==null?void 0:t.classes)==null?void 0:a.sportClassHead)==null?void 0:b.staffFirstName} 
        ${(y=(g=t==null?void 0:t.classes)==null?void 0:g.sportClassHead)!=null&&y.staffMiddleName?(j=(p=t==null?void 0:t.classes)==null?void 0:p.sportClassHead)==null?void 0:j.staffMiddleName:""} 
        ${(G=(C=t==null?void 0:t.classes)==null?void 0:C.sportClassHead)==null?void 0:G.staffLastName}`,count1:(B=t==null?void 0:t.classes)==null?void 0:B.sportStudentCount,count1label:h("members"),count2:(i=t==null?void 0:t.classes)==null?void 0:i.sportTeamCount,count2label:h("teams"),profilePhoto:M,profileChange:P,openCrop:q,setOpenCrop:w,setPhotoURL:o,photoURL:n,setFile:x,setUpload:R,setProfilePhoto:T}),e.jsx(rt,{cid:(A=t==null?void 0:t.classes)==null?void 0:A._id,classMembers:(v=t==null?void 0:t.classes)==null?void 0:v.sportStudent,classTeams:(U=t==null?void 0:t.classes)==null?void 0:U.sportTeam,insId:(K=(W=t==null?void 0:t.classes)==null?void 0:W.institute)==null?void 0:K._id,classProfileRefetch:m,carryParentState:l})]})}const pt=()=>{var l,h,t,m;const s=me();return e.jsx(ue,{index:"7",sid:((l=s==null?void 0:s.state)==null?void 0:l.sid)??"",onClickValue:((h=s==null?void 0:s.state)==null?void 0:h.onClickValue)??"",children:e.jsx("div",{className:Ne.departmenthead,children:e.jsx(lt,{sportClassId:((m=(t=s==null?void 0:s.state)==null?void 0:t.onClickValue)==null?void 0:m._id)??"",carryParentState:s==null?void 0:s.state})})})};export{pt as default};
