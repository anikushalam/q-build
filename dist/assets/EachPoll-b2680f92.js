import{R as c,_ as o,r as x,u as y,j as l}from"./index-731451a5.js";import{C as k}from"./CheckOutsideClick-ae491ca5.js";import{R as S}from"./Reactions-cf0e90cb.js";import{P as T}from"./PostContainer-96d6fd25.js";import{C as N}from"./CustomSuspense-e90dc607.js";import{Q as g}from"./QvipleLoaderGif-827e9b4f.js";import"./constant_value-4cd2b3e0.js";import"./post-api-f57ebb8f.js";import"./Save-f44ceb43.js";import"./index-c08ef366.js";const E="_bars_guu0f_1",R="_postText_guu0f_6",Q="_text_guu0f_12",U="_barContainer_guu0f_21",q="_bar_guu0f_1",I="_pollQuestion_guu0f_64",u={bars:E,postText:R,text:Q,barContainer:U,bar:q,pollQuestion:I},L=c.lazy(()=>o(()=>import("./Comment-002d7be8.js"),["assets/Comment-002d7be8.js","assets/index-731451a5.js","assets/index-4d24e8f6.css","assets/post-api-f57ebb8f.js","assets/index-c08ef366.js","assets/constant_value-4cd2b3e0.js","assets/CustomSuspenseGif-5a30d901.js","assets/Avatar-c600f05e.js","assets/Avatar.module-fb7ee634.js","assets/Avatar-8bcfd9a5.css","assets/Comment-ae607fef.css"])),O=c.lazy(()=>o(()=>import("./Menu-c884c084.js"),["assets/Menu-c884c084.js","assets/index-731451a5.js","assets/index-4d24e8f6.css","assets/constant_value-4cd2b3e0.js","assets/post-api-f57ebb8f.js","assets/search-api-15f7f9f9.js","assets/Menu-1cf08c13.css"]));function J({post:e,profilePost:f,allPosts:C,selectOptions:j}){var m,_,d,t;const[a,n]=x.useState(!1),[b,r]=x.useState(!1),{t:v}=y(),P=()=>{r(!1)};return l.jsxs(T,{author:e==null?void 0:e.author,authorPhotoId:e==null?void 0:e.authorPhotoId,authorProfilePhoto:e==null?void 0:e.authorProfilePhoto,postStatus:e==null?void 0:e.postStatus,authorUserName:e==null?void 0:e.authorUserName,createdAt:e==null?void 0:e.createdAt,setDotsClicked:r,children:[l.jsx("p",{className:u.pollQuestion,children:v("poll_question")}),l.jsx("div",{className:u.postText,children:l.jsx("p",{className:u.text,children:(m=e==null?void 0:e.poll_query)==null?void 0:m.poll_question})}),l.jsx("div",{className:u.bars,children:(d=(_=e==null?void 0:e.poll_query)==null?void 0:_.poll_answer)==null?void 0:d.map(i=>{var h;return l.jsxs("div",{className:u.barContainer,children:[l.jsx("h6",{children:i==null?void 0:i.content}),l.jsxs("p",{children:[(h=i==null?void 0:i.percent_vote)==null?void 0:h.toFixed(0),"%"]}),l.jsx("div",{className:u.bar,style:{width:`${i==null?void 0:i.percent_vote}%`,backgroundColor:i!=null&&i.color_type?`${i==null?void 0:i.color_type}`:"#F2F2F2"}})]},i==null?void 0:i._id)})}),l.jsx(S,{likeCount:e==null?void 0:e.likeCount,endUserLike:e==null?void 0:e.endUserLike,endUserSave:e==null?void 0:e.endUserSave,pid:e==null?void 0:e._id,setCommentOpen:n,commentOpen:a,commentCount:e==null?void 0:e.commentCount,type:"Poll",total_votes:(t=e==null?void 0:e.poll_query)==null?void 0:t.total_votes}),l.jsx(c.Suspense,{fallback:l.jsx(g,{}),children:l.jsx(L,{pid:e==null?void 0:e._id,commentCount:e==null?void 0:e.commentCount,setCommentOpen:n,commentOpen:a,comment_turned:e==null?void 0:e.comment_turned})}),b&&l.jsx(k,{closeMenu:P,children:l.jsx(N,{children:l.jsx(O,{setDotsClicked:r,options:j,pid:e==null?void 0:e._id,authorId:e==null?void 0:e.author,profilePost:f,status:e==null?void 0:e.postStatus,allPosts:C,popup:!1,postType:e==null?void 0:e.postType,commentStatus:e==null?void 0:e.comment_turned})})})]})}export{J as default};
