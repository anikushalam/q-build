import{k as re,c as ie,r as u,u as le,oa as se,oc as de,q as fe,ln as ge,j as o,N as he,Q as me}from"./index-0ca76035.js";import{F as ue}from"./FormHeader-7cd0179d.js";import{F as d}from"./FormToggle-18d319d7.js";import{B as f}from"./BorderBottom-1dc6f53e.js";import{F as g}from"./FormCheckbox-35f4f970.js";import{aJ as pe}from"./admission-api-925391d9.js";import"./UniversalForm.module-19614663.js";import"./CustomSelectDepartment-11201deb.js";import"./JoinForm.module-212f9bb3.js";import"./Switch-4bb87998.js";import"./SwitchBase-e3c2ff35.js";import"./FormControlLabel-b4cb2fc2.js";import"./Checkbox-d3fc23de.js";const _e="_formPreview_8hz35_1",ke="_joiningProcess_8hz35_22",De="_joiningToggle_8hz35_33",be="_updateBtn_8hz35_41",Ce="_formBtn_8hz35_58",Ae="_formDisplay_8hz35_64",xe="_formArea_8hz35_79",je="_formImage_8hz35_91",ve="_formEdit_8hz35_96",Se={formPreview:_e,joiningProcess:ke,joiningToggle:De,updateBtn:be,formBtn:Ce,formDisplay:Ae,formArea:xe,formImage:je,formEdit:ve},qe=()=>{var j;const t=re(a=>a.idChange),W=ie(),[X,b]=u.useState(""),{t:n}=le(),[Z,_]=u.useState(!1),[ee,p]=u.useState(!1),[ae,C]=u.useState(""),[A]=se(),[oe]=de(),[te]=pe(),{oneInstituteDashboard:h,oneInstituteDashboardRefetch:x}=fe({id:t==null?void 0:t.id,skip:!(t!=null&&t.id)}),{instituteStudentForm:e,instituteStudentFormRefetch:k}=ge({id:t==null?void 0:t.id,skip:!(t!=null&&t.id)}),[r,D]=u.useState({otherPersonalInfo:!1,enrollmentPrn:!1,identityDetails:!1,addressInfo:!1,parentsInfo:!1,previousSchoolAndDocument:{previousSchoolDocument:!1,aadharCard:!1,identityDocument:!1,casteCertificate:!1,joiningTransferLetter:!1,leavingTransferCertificate:!1,incomeCertificate:!1,lastYearMarksheet:!1,nationalityCertificate:!1,domicileCertificate:!1,nonCreamyLayerCertificate:!1},bankDetails:!1,anti_ragging:!1,id_card:!1});u.useEffect(()=>{t!=null&&t.id&&(x(),k())},[t==null?void 0:t.id,k,x]),u.useEffect(()=>{var a,i,c,l,v,S,T,y,L,I,H,P,M,E,B,V,z,R,O,q,F,Y,N,w,G,Q,U,$,J,K;e!=null&&e.studentFormSetting&&D({otherPersonalInfo:(a=e==null?void 0:e.studentFormSetting)==null?void 0:a.otherPersonalInfo,enrollmentPrn:(i=e==null?void 0:e.studentFormSetting)==null?void 0:i.enrollmentPrn,identityDetails:(c=e==null?void 0:e.studentFormSetting)==null?void 0:c.identityDetails,addressInfo:(l=e==null?void 0:e.studentFormSetting)==null?void 0:l.addressInfo,parentsInfo:(v=e==null?void 0:e.studentFormSetting)==null?void 0:v.parentsInfo,previousSchoolAndDocument:{previousSchoolDocument:(T=(S=e==null?void 0:e.studentFormSetting)==null?void 0:S.previousSchoolAndDocument)==null?void 0:T.previousSchoolDocument,aadharCard:(L=(y=e==null?void 0:e.studentFormSetting)==null?void 0:y.previousSchoolAndDocument)==null?void 0:L.aadharCard,identityDocument:(H=(I=e==null?void 0:e.studentFormSetting)==null?void 0:I.previousSchoolAndDocument)==null?void 0:H.identityDocument,casteCertificate:(M=(P=e==null?void 0:e.studentFormSetting)==null?void 0:P.previousSchoolAndDocument)==null?void 0:M.casteCertificate,joiningTransferLetter:(B=(E=e==null?void 0:e.studentFormSetting)==null?void 0:E.previousSchoolAndDocument)==null?void 0:B.joiningTransferLetter,leavingTransferCertificate:(z=(V=e==null?void 0:e.studentFormSetting)==null?void 0:V.previousSchoolAndDocument)==null?void 0:z.leavingTransferCertificate,incomeCertificate:(O=(R=e==null?void 0:e.studentFormSetting)==null?void 0:R.previousSchoolAndDocument)==null?void 0:O.incomeCertificate,lastYearMarksheet:(F=(q=e==null?void 0:e.studentFormSetting)==null?void 0:q.previousSchoolAndDocument)==null?void 0:F.lastYearMarksheet,nationalityCertificate:(N=(Y=e==null?void 0:e.studentFormSetting)==null?void 0:Y.previousSchoolAndDocument)==null?void 0:N.nationalityCertificate,domicileCertificate:(G=(w=e==null?void 0:e.studentFormSetting)==null?void 0:w.previousSchoolAndDocument)==null?void 0:G.domicileCertificate,nonCreamyLayerCertificate:(U=(Q=e==null?void 0:e.studentFormSetting)==null?void 0:Q.previousSchoolAndDocument)==null?void 0:U.nonCreamyLayerCertificate},bankDetails:($=e==null?void 0:e.studentFormSetting)==null?void 0:$.bankDetails,anti_ragging:(J=e==null?void 0:e.studentFormSetting)==null?void 0:J.anti_ragging,id_card:(K=e==null?void 0:e.studentFormSetting)==null?void 0:K.id_card})},[e==null?void 0:e.studentFormSetting]),u.useEffect(()=>{var a,i;if((a=h==null?void 0:h.institute)!=null&&a.name_case_format_query){let c=(i=h==null?void 0:h.institute)==null?void 0:i.name_case_format_query;C(c==="CAPS_FORMAT"?"Capital case":c==="SMALL_FORMAT"?"Small case":"Title case")}},[(j=h==null?void 0:h.institute)==null?void 0:j.name_case_format_query]);const m=(a,i)=>{const c={...r};for(let l in c)l===a&&(c[l]=i);A({id:t==null?void 0:t.id,formSetting:{studentFormSetting:c}}).then(()=>{b("Add joining details updated"),_(!0)}).catch({}),D(l=>({...l,[a]:i}))},s=(a,i)=>{const c={...r};if(a==="previousSchoolDocument"&&!i&&(c.previousSchoolAndDocument.aadharCard=!1,c.previousSchoolAndDocument.casteCertificate=!1,c.previousSchoolAndDocument.domicileCertificate=!1,c.previousSchoolAndDocument.identityDocument=!1,c.previousSchoolAndDocument.incomeCertificate=!1,c.previousSchoolAndDocument.joiningTransferLetter=!1,c.previousSchoolAndDocument.lastYearMarksheet=!1,c.previousSchoolAndDocument.leavingTransferCertificate=!1,c.previousSchoolAndDocument.nationalityCertificate=!1,c.previousSchoolAndDocument.nonCreamyLayerCertificate=!1),r.previousSchoolAndDocument.previousSchoolDocument||a==="previousSchoolDocument"){for(let l in c.previousSchoolAndDocument)l===a&&(c.previousSchoolAndDocument[l]=i);A({id:t==null?void 0:t.id,formSetting:{studentFormSetting:c}}).then(()=>{b("Add joining details updated"),_(!0)}).catch({}),D(l=>({...l,previousSchoolAndDocument:{...l.previousSchoolAndDocument,[a]:i}}))}},ne=a=>{t!=null&&t.id&&(p(i=>!i),te({flow:"Institute_Admin",editAccess:{id:t==null?void 0:t.id,sid:null,online_amount_edit_access:a.target.checked?"Granted":"Not Granted"}}).then(()=>{k(),p(i=>!i)}).catch({}))},ce=a=>{C(a),t!=null&&t.id&&(p(i=>!i),oe({id:t==null?void 0:t.id,caseFormat:{name_case_format_query:a==="Capital case"?"CAPS_FORMAT":a==="Small case"?"SMALL_FORMAT":"TITLE_FORMAT"}}).then(()=>{p(i=>!i)}).catch({}))};return o.jsx(o.Fragment,{children:o.jsxs(o.Fragment,{children:[o.jsx(ue,{setStaffSetting:()=>W(-1),asStaff:n("student"),availableCode:n("avail_class_code"),is_install:!0,installTitle:n("online_install_edit_fees"),onInstallTitle:ne,installmentEdit:(e==null?void 0:e.online_amount_edit_access)==="Granted",onTextCaseFormat:ce,textCase:ae}),o.jsxs("div",{className:Se.staff_form_container,children:[o.jsx(d,{labelHeading:n("personal_info_"),labelDescription:n("name_"),defaultLabel:!0}),o.jsx(f,{}),o.jsx(d,{labelHeading:n("enrollment_number"),labelDescription:n("enrollment_label_text"),defaultLabel:!1,checkedToggle:r.enrollmentPrn,onToggleHandler:a=>m("enrollmentPrn",a.target.checked)}),o.jsx(f,{}),o.jsx(d,{labelHeading:n("other_info"),labelDescription:n("label_text"),defaultLabel:!1,checkedToggle:r.otherPersonalInfo,onToggleHandler:a=>m("otherPersonalInfo",a.target.checked)}),o.jsx(f,{}),o.jsx(d,{labelHeading:n("i_details"),labelDescription:n("labeltext2"),defaultLabel:!1,checkedToggle:r.identityDetails,onToggleHandler:a=>m("identityDetails",a.target.checked)}),o.jsx(f,{}),o.jsx(d,{labelHeading:n("add_info"),labelDescription:n("labeltext3"),defaultLabel:!1,checkedToggle:r.addressInfo,onToggleHandler:a=>m("addressInfo",a.target.checked)}),o.jsx(f,{}),o.jsx(d,{labelHeading:n("parent_info_"),labelDescription:n("label_text2"),defaultLabel:!1,checkedToggle:r.parentsInfo,onToggleHandler:a=>m("parentsInfo",a.target.checked)}),o.jsx(f,{}),o.jsxs(d,{labelHeading:n("prev_school_"),labelDescription:"",defaultLabel:!1,checkedToggle:r.previousSchoolAndDocument.previousSchoolDocument,onToggleHandler:a=>s("previousSchoolDocument",a.target.checked),children:[o.jsx(g,{checkLabel:n("aadhar_card"),checkedValue:r.previousSchoolAndDocument.aadharCard,onCheckboxAction:a=>s("aadharCard",a.target.checked)}),o.jsx(g,{checkLabel:n("labeltext4"),checkedValue:r.previousSchoolAndDocument.identityDocument,onCheckboxAction:a=>s("identityDocument",a.target.checked)}),o.jsx(g,{checkLabel:n("castee_"),checkedValue:r.previousSchoolAndDocument.casteCertificate,onCheckboxAction:a=>s("casteCertificate",a.target.checked)}),o.jsx(g,{checkLabel:n("joining_letter"),checkedValue:r.previousSchoolAndDocument.joiningTransferLetter,onCheckboxAction:a=>s("joiningTransferLetter",a.target.checked)}),o.jsx(g,{checkLabel:n("certificates"),checkedValue:r.previousSchoolAndDocument.leavingTransferCertificate,onCheckboxAction:a=>s("leavingTransferCertificate",a.target.checked)}),o.jsx(g,{checkLabel:n("i_certificate"),checkedValue:r.previousSchoolAndDocument.incomeCertificate,onCheckboxAction:a=>s("incomeCertificate",a.target.checked)}),o.jsx(g,{checkLabel:n("marksheet"),checkedValue:r.previousSchoolAndDocument.lastYearMarksheet,onCheckboxAction:a=>s("lastYearMarksheet",a.target.checked)}),o.jsx(g,{checkLabel:n("n_certificate"),checkedValue:r.previousSchoolAndDocument.nationalityCertificate,onCheckboxAction:a=>s("nationalityCertificate",a.target.checked)}),o.jsx(g,{checkLabel:n("d_certificate"),checkedValue:r.previousSchoolAndDocument.domicileCertificate,onCheckboxAction:a=>s("domicileCertificate",a.target.checked)}),o.jsx(g,{checkLabel:n("non_cremy"),checkedValue:r.previousSchoolAndDocument.nonCreamyLayerCertificate,onCheckboxAction:a=>s("nonCreamyLayerCertificate",a.target.checked)})]}),o.jsx(f,{}),o.jsx(d,{labelHeading:n("bank_details_"),labelDescription:n("labeltext5"),defaultLabel:!1,checkedToggle:r.bankDetails,onToggleHandler:a=>m("bankDetails",a.target.checked)}),o.jsx(f,{}),o.jsx(d,{labelHeading:n("anti_ragging"),labelDescription:`(${n("anti_ragging")})`,defaultLabel:!1,checkedToggle:r.anti_ragging,onToggleHandler:a=>m("anti_ragging",a.target.checked)}),o.jsx(f,{}),o.jsx(d,{labelHeading:n("id_card_upload"),labelDescription:`(${n("id_card_upload")})`,defaultLabel:!1,checkedToggle:r.id_card,onToggleHandler:a=>m("id_card",a.target.checked)}),o.jsx(f,{})]}),o.jsx(he,{run:Z,setRun:_,msg:X,postiton:"bottom",type:"success"}),ee&&o.jsx(me,{})]})})};export{qe as default};
