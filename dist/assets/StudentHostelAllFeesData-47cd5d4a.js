import{u as C,j as s,n as N,r as d,fx as w}from"./index-731451a5.js";import{s as n}from"./StudentAllFeesData.module-f5c3243d.js";import{a1 as T}from"./admission-api-56b87fde.js";import{S as E,a as H}from"./StudentAdmissionFees-88aa13c4.js";const P=({value:o,onTabHandler:a,padiFees:r,remainingFees:c,applicableRemainingFees:h,scholarshipFees:i})=>{const{t:e}=C();return s.jsxs("div",{className:n.student_fees_header_container,children:[s.jsxs("div",{children:[s.jsxs("div",{className:n.student_fees_row_amount,children:[s.jsxs("h5",{children:[e("rs"),". ",r??0]}),s.jsx("h6",{children:e("total_fees_paid")})]}),s.jsxs("div",{className:n.student_fees_row_amount,style:{marginTop:"1rem"},children:[s.jsxs("h5",{children:[e("rs"),". ",i??0]}),s.jsx("h6",{children:e("by_scholarship")})]})]}),s.jsx("div",{className:n.student_fees_header_column,children:s.jsx(E,{label:"hostel_fees",currentValue:0,value:o,onClick:a,customStyleContainer:{marginRight:"2rem"}})}),s.jsxs("div",{children:[s.jsxs("div",{className:n.student_fees_row_amount,style:{alignItems:"flex-end"},children:[s.jsxs("h5",{style:{color:"#121212"},children:[e("rs"),". ",c??0]}),s.jsx("h6",{children:e("remaining_fees")})]}),s.jsxs("div",{className:n.student_fees_row_amount,style:{alignItems:"flex-end",marginTop:"1rem"},children:[s.jsxs("h5",{style:{color:"#121212"},children:[e("rs"),". ",h??0]}),s.jsx("h6",{children:e("applicable_remaining")}),s.jsx("div",{children:e("to_be_paid_by_student")})]})]})]})},y=({viewAs:o,sid:a})=>{var x,p,j,g,f,v,F;N();const[r,c]=d.useState(0),[h,i]=d.useState(!0),{data:e,refetch:m}=w(`${a}`,{skip:!a}),{sudentAdmissionFeesList:t,sudentAdmissionFeesListRefetch:u}=T({sid:a,skip:!a});d.useEffect(()=>{a&&(m(),u(),i(!0))},[a,u,m]),d.useEffect(()=>{var l;(t!=null&&t.array||((l=t==null?void 0:t.array)==null?void 0:l.length)===0)&&i(!1)},[t==null?void 0:t.array]);const S=l=>{c(l)},_=(l,b,R)=>l+b+R;return s.jsxs("div",{className:n.student_alll_fees_data,children:[s.jsx(P,{onTabHandler:S,value:r,padiFees:_(((x=e==null?void 0:e.student)==null?void 0:x.studentPaidFeeCount)||0,((p=e==null?void 0:e.student)==null?void 0:p.admissionPaidFeeCount)||0,((j=e==null?void 0:e.student)==null?void 0:j.hostelPaidFeeCount)||0),remainingFees:_(((g=e==null?void 0:e.student)==null?void 0:g.studentRemainingFeeCount)||0,((f=e==null?void 0:e.student)==null?void 0:f.admissionRemainFeeCount)||0,((v=e==null?void 0:e.student)==null?void 0:v.hostelRemainFeeCount)||0),applicableRemainingFees:(F=e==null?void 0:e.student)==null?void 0:F.applicable_fees_pending,scholarshipFees:(e==null?void 0:e.paid_by_government)??0}),r===0&&s.jsx(H,{viewAs:o,sudentAdmissionFeesList:t,sudentAdmissionFeesListRefetch:u,feesQueryRefetch:m,showingDataLoading:h})]})};export{y as S};
