import{u as W,j as e,n as un,L as jn,k as Ze,$ as Qs,r as _,lv as gn,mk as Nn,e as re,a1 as X,Q as Ks,ml as bn,mm as Cn,mn as rn,W as on,T as ye,mo as Es,am as Ds,mp as ln,t as Se,mq as kn,l as Xs,S as Us,mr as wn,ms as $n,mt as In,mu as dn,mv as mn,mw as Rn,mx as qn,R as Be,ac as _n,i as ce,d as Os,my as ae,mz as ie,mA as Tn,g as zn,mB as yn,lw as Pn}from"./index-0ca76035.js";import{c as Js}from"./prevTimeComparision-9fa638db.js";import{L as en}from"./LoaderButton-56f541f9.js";import{I as Fs}from"./InputDateField-5babd99a.js";import{C as tn}from"./CandidateList-ff4b03e2.js";import{E as Gs,V as Mn}from"./ViewElection-f403e86c.js";import{s as S}from"./ElectionCard.module-4dd482f8.js";import{af as Bn,a9 as Sn,ag as Un,ah as Yn,ai as hn,aj as Jn,ak as Fn,al as Gn,h as Ln,am as Vn}from"./department-api-e4b13f05.js";import{B as fn}from"./BorderBottom-1dc6f53e.js";import{J as Hn}from"./JoinFormCalender-d186c4ef.js";import{v as Wn}from"./timeComparison-f15c3247.js";import{s as ee}from"./FeesStructure.module-7a88fbbc.js";import{P as Kn}from"./PopupWrapper-2578092d.js";import{J as Xn}from"./JoinFormInput-82706177.js";import{C as Zn}from"./CustomSelectDepartment-11201deb.js";import"./DatePicker-c6d0e911.js";import"./JoinForm.module-212f9bb3.js";import"./Overlay-c8100e0a.js";import"./Overlay.module-9133d1bb.js";import"./SearchModalWrapper-0fa3f9a3.js";import"./SearchModalBackdrop-c4f123e6.js";import"./SearchHeader.module-b69c8942.js";const An="_departmenthead_tkk9w_1",Qn={departmenthead:An};const En="_MiddleContent_27yho_1",Dn="_MiddleContentLeft_27yho_14",On="_MiddleContentLeft2_27yho_23",et="_tabs_27yho_32",st="_item_27yho_37",nt="_MiddleContentRight_27yho_65",tt="_MiddleContentRightHead_27yho_73",at="_pItem_27yho_87",it="_text_27yho_106",ct="_addbtn_27yho_140",rt="_menu_27yho_159",ot="_menuItem_27yho_164",lt="_itemIconContainer_27yho_179",dt="_itemIcon_27yho_179",Me={MiddleContent:En,MiddleContentLeft:Dn,MiddleContentLeft2:On,tabs:et,item:st,MiddleContentRight:nt,MiddleContentRightHead:tt,pItem:at,text:it,addbtn:ct,menu:rt,menuItem:ot,itemIconContainer:lt,itemIcon:dt},mt="_studentMCQ_1981l_1",_t="_mcqToptabs_1981l_4",ht="_mcqTop_1981l_4",ft="_mcqTopItem_1981l_22",pt="_active_1981l_38",We={studentMCQ:mt,mcqToptabs:_t,mcqTop:ht,mcqTopItem:ft,active:pt};function vt({activeIndex:i,setActiveIndex:a}){const{t:o}=W();return e.jsx("div",{className:We.mcqTop,children:e.jsxs("div",{className:We.mcqToptabs,children:[e.jsx("div",{className:i===0?`${We.mcqTopItem} ${We.active}`:We.mcqTopItem,onClick:()=>a(0),children:o("menu")}),e.jsx("div",{className:i===1?`${We.mcqTopItem} ${We.active}`:We.mcqTopItem,onClick:()=>a(1),children:o("departments")})]})})}const E=({carryParentState:i,activeTab:a,customStyle:o,children:t,deptId:c})=>{const n=un();return e.jsx(jn,{to:`/q/${n.username}/member/events?a=${a}`,state:{...i,deptId:c},style:{...o},children:t})},xt="_department_container_2mhm2_1",ut="_department_card_container_2mhm2_5",jt="_department_card_image_2mhm2_23",gt="_department_card_name_2mhm2_27",Nt="_department_card_head_2mhm2_34",bt="_department_card_title_2mhm2_41",Ss={department_container:xt,department_card_container:ut,department_card_image:jt,department_card_name:gt,department_card_head:Nt,department_card_title:bt};function Ct({carryParentState:i}){var n,r;const{t:a}=W(),o=Ze(v=>v.eventAdminChange),{allDepartment:t,allDepartmentRefetch:c}=Qs({id:o==null?void 0:o.insId,skip:!(o!=null&&o.insId)});return e.jsx("div",{className:Ss.department_container,children:(r=(n=t==null?void 0:t.institute)==null?void 0:n.depart)==null?void 0:r.map(v=>e.jsx(E,{carryParentState:i,activeTab:"departmet&events",deptId:v==null?void 0:v._id,children:e.jsxs("div",{className:Ss.department_card_container,children:[e.jsx("img",{src:"/images/profileAndCover/department-profile-img.svg",alt:"department avatar",className:Ss.department_card_image}),e.jsxs("div",{children:[e.jsx("h6",{className:Ss.department_card_name,children:(v==null?void 0:v.dName)||""}),e.jsxs("p",{className:Ss.department_card_head,children:[a("total_masters")," ",(v==null?void 0:v.classMasterCount)??0]})]})]})}))})}function kt({carryParentState:i}){const[a,o]=_.useState(0),{t}=W();return e.jsx("div",{className:Me.MiddleContent,children:e.jsxs("div",{className:Me.MiddleContentLeft,children:[e.jsx("div",{className:Me.tabs,children:e.jsx(vt,{activeIndex:a,setActiveIndex:o})}),a===0&&e.jsxs("div",{className:Me.itemIconContainer,children:[e.jsx(E,{carryParentState:i,activeTab:"event",children:e.jsxs("div",{className:Me.itemIcon,children:[e.jsx("img",{src:"/images/events/event.svg",alt:"event"}),e.jsx("p",{children:t("events")})]})}),e.jsx(E,{carryParentState:i,activeTab:"seminars",children:e.jsxs("div",{className:Me.itemIcon,children:[e.jsx("img",{src:"/images/events/seminar.svg",alt:"seminars"}),e.jsx("p",{children:t("seminars")})]})}),e.jsx(E,{carryParentState:i,activeTab:"election",children:e.jsxs("div",{className:Me.itemIcon,children:[e.jsx("img",{src:"/images/events/election.svg",alt:"elections"}),e.jsx("p",{children:t("elections")})]})}),e.jsx(E,{carryParentState:i,activeTab:"participative",children:e.jsxs("div",{className:Me.itemIcon,children:[e.jsx("img",{src:"/images/events/competition.svg",alt:"competitions"}),e.jsx("p",{children:t("competitions")})]})}),e.jsxs("div",{className:Me.itemIcon,children:[e.jsx("img",{src:"/images/events/pending-fees.svg",alt:"pending_fees"}),e.jsx("p",{children:t("pending_fees")})]}),e.jsxs("div",{className:Me.itemIcon,children:[e.jsx("img",{src:"/images/events/moderator.svg",alt:"moderator"}),e.jsx("p",{children:t("moderators")})]})]}),a===1&&e.jsx(Ct,{carryParentState:i})]})})}function wt({carryParentState:i,eventMgt:a}){var T,d,p,b;const{t:o}=W(),[t,c]=_.useState(""),[n,r]=_.useState(""),[v,C]=_.useState(!1),[x,f]=_.useState(!1),[$,u]=_.useState(""),N=k=>{const j=URL.createObjectURL(k.target.files[0]);r(k.target.files[0]),u(j),c(j),C(!0)};return e.jsxs(e.Fragment,{children:[e.jsx(gn,{coverKey:"2",defaultCover:"/images/profileAndCover/eventAdmin-cover.png",textLarge:o("events_seminers"),textSmall:`${(T=a==null?void 0:a.event_head)==null?void 0:T.staffFirstName} ${(d=a==null?void 0:a.event_head)!=null&&d.staffMiddleName?(p=a==null?void 0:a.event_head)==null?void 0:p.staffMiddleName:""} ${(b=a==null?void 0:a.event_head)==null?void 0:b.staffLastName}`,count1:a==null?void 0:a.event_count,count1label:o("upcoming_events"),count2:a==null?void 0:a.seminar_count,count2label:o("upcoming_seminars"),profilePhoto:$,profileChange:N,openCrop:v,setOpenCrop:C,setPhotoURL:c,photoURL:t,setFile:r,setUpload:f,setProfilePhoto:u}),e.jsx(kt,{carryParentState:i})]})}const $t="_admisionApplication_q4f8m_1",It="_admisionApplicationTop_q4f8m_5",Rt="_applicationBody_q4f8m_12",qt="_tabs_q4f8m_18",te={admisionApplication:$t,admisionApplicationTop:It,applicationBody:Rt,tabs:qt},Tt="_events_8rmr7_1",zt="_eventsleft_8rmr7_7",yt="_searchContainerr_8rmr7_11",Pt="_searchContainer_8rmr7_11",Mt="_noevent_8rmr7_44",Bt="_eventsContainer_8rmr7_50",St="_eventItem_8rmr7_61",Ut="_eventItemActive_8rmr7_74",Yt="_eventItemimg_8rmr7_77",Jt="_eventItemDetails_8rmr7_83",Ft="_guest_8rmr7_98",Gt="_dept_8rmr7_99",Lt="_date_8rmr7_110",Vt="_dots_8rmr7_136",Ht="_eventRightimg_8rmr7_142",Wt="_eventsrightimgConrainer_8rmr7_148",Kt="_eventsright_8rmr7_148",Xt="_eventCount_8rmr7_163",Zt="_addEventDiv_8rmr7_204",At="_loader_8rmr7_231",Qt="_noData_8rmr7_242",Et="_eventDetailsCard_8rmr7_272",Dt="_depts_8rmr7_280",Ot="_label_8rmr7_286",ea="_val_8rmr7_296",sa="_labelouter_8rmr7_301",na="_labelouterspan_8rmr7_312",ta="_eventDetailsdiv_8rmr7_316",aa="_backCircle_8rmr7_320",ia="_backCircleimg_8rmr7_335",ca="_editCircle_8rmr7_339",y={events:Tt,eventsleft:zt,searchContainerr:yt,searchContainer:Pt,noevent:Mt,eventsContainer:Bt,eventItem:St,eventItemActive:Ut,eventItemimg:Yt,eventItemDetails:Jt,guest:Ft,dept:Gt,date:Lt,dots:Vt,eventRightimg:Ht,eventsrightimgConrainer:Wt,eventsright:Kt,eventCount:Xt,addEventDiv:Zt,loader:At,noData:Qt,eventDetailsCard:Et,depts:Dt,label:Ot,val:ea,labelouter:sa,labelouterspan:na,eventDetailsdiv:ta,backCircle:aa,backCircleimg:ia,editCircle:ca},ra="_options_1xt8w_1",oa="_option_1xt8w_1",an={options:ra,option:oa},la={position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10},da={position:"absolute",right:"0",top:"2.1rem",zIndex:19};function pn({open:i,onClose:a,customStyleOptions:o,handleDelete:t,handleEdit:c,setViewStatus:n}){const{t:r}=W();return i?e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:a,style:la}),e.jsx("div",{style:o||da,className:an.options,children:e.jsx("div",{className:an.option,onClick:t,children:r("delete")})})]}):null}function Ls({cardRef:i,event:a,setViewStatus:o,setEid:t,eid:c,onRefetchWhenEventCreate:n,eventMgtRefetch:r}){var T,d;const[v,C]=_.useState(!1),[x,f]=_.useState(!1),[$]=Nn(),u=p=>{f(!0),$({eid:p}).then(b=>{C(!1),o(""),n(),r(),f(!1)}).catch(b=>{C(!1),o(""),f(!1)})},N=p=>{};return e.jsxs("div",{className:c===(a==null?void 0:a._id)?`${y.eventItem} ${y.eventItemActive}`:y.eventItem,ref:i,onClick:()=>{o("eventView"),t(a==null?void 0:a._id)},children:[e.jsx("img",{className:y.eventItemimg,src:a!=null&&a.event_banner&&(a==null?void 0:a.event_banner)!=="1"?`${re}/${a==null?void 0:a.event_banner}`:"/images/events/event-card-cover.png",alt:"event"}),e.jsxs("div",{className:y.eventItemDetails,children:[e.jsx("h6",{children:a==null?void 0:a.event_name}),e.jsx("p",{className:y.guest,children:a==null?void 0:a.event_guest}),e.jsxs("p",{className:y.date,children:[X(a==null?void 0:a.event_date).format("Do MMM YYYY"),","," ",(d=(T=a==null?void 0:a.event_time)==null?void 0:T.split("T")[1])==null?void 0:d.substring(0,5)]})]}),e.jsx("img",{className:y.dots,src:"/images/menu-dots-icon.svg",alt:"menu",onClick:()=>C(!v)}),e.jsx(pn,{open:v,onClose:()=>C(!1),handleDelete:()=>u(a==null?void 0:a._id),handleEdit:N}),x&&e.jsx(Ks,{})]})}const ma="_createEvent_pbq2g_1",_a="_peventlefttopflexleft_pbq2g_11",ha="_peventlefttop_pbq2g_11",fa="_peventleftbody_pbq2g_37",pa="_peventinputContainer_pbq2g_41",va="_pollTextareah_pbq2g_45",xa="_switchContainerh_pbq2g_46",ua="_pollTextarea_pbq2g_45",ja="_switchcontainerflex_pbq2g_94",ga="_fileinputflexContainer_pbq2g_104",Na="_input_label_pbq2g_109",ba="_fileinputflex_pbq2g_104",Ca="_fileinputflexleft_pbq2g_125",ka="_fileinputflexright_pbq2g_144",wa="_item_pbq2g_162",$a="_select_pbq2g_162",Ia="_selectclass_pbq2g_188",Ra="_peventlefttopflex_pbq2g_11",qa="_selectBtn_pbq2g_205",Ta="_button_main_pbq2g_221",V={createEvent:ma,peventlefttopflexleft:_a,peventlefttop:ha,peventleftbody:fa,peventinputContainer:pa,pollTextareah:va,switchContainerh:xa,pollTextarea:ua,switchcontainerflex:ja,fileinputflexContainer:ga,input_label:Na,fileinputflex:ba,fileinputflexleft:Ca,fileinputflexright:ka,item:wa,select:$a,selectclass:Ia,peventlefttopflex:Ra,selectBtn:qa,button_main:Ta};function Vs({insId:i,sid:a,eid:o,onRefetchWhenEventCreate:t,eventMgtRefetch:c,onRefetchWhenEventEdited:n,deptId:r,setViewStatus:v,evid:C}){var Z,D,oe,le,de,me,_e,he,fe,pe,ve,U,Q,Ae,Qe,Ee,De,Oe,es,ss,ns,ts,as,is,cs,rs,os,ls,ds,ms,_s,hs,fs,ps,vs,xs,us,js,gs,Ns,bs,Cs,ks;const{t:x}=W(),[f]=bn(),[$]=Cn(),[u,N]=_.useState(!1),[T,d]=_.useState(!1),[p,b]=_.useState(null),{allDepartment:k,allDepartmentRefetch:j}=Qs({id:i,skip:!i}),{getOneEventDetail:s,getOneEventDetailRefetch:g}=rn({evid:C,skip:!C}),q=(D=(Z=s==null?void 0:s.one_event)==null?void 0:Z.for_department)==null?void 0:D.map(function(J){return J==null?void 0:J._id}),[h,z]=_.useState(((oe=s==null?void 0:s.one_event)==null?void 0:oe.event_date)&&((de=(le=s==null?void 0:s.one_event)==null?void 0:le.event_date)==null?void 0:de.split("T")[0])),[m,w]=_.useState({event_name:(me=s==null?void 0:s.one_event)!=null&&me.event_name?(_e=s==null?void 0:s.one_event)==null?void 0:_e.event_name:"",event_guest:(he=s==null?void 0:s.one_event)!=null&&he.event_guest?(fe=s==null?void 0:s.one_event)==null?void 0:fe.event_guest:"",event_date:(ve=(pe=s==null?void 0:s.one_event)==null?void 0:pe.event_date)!=null&&ve.split("T")[0]?(Q=(U=s==null?void 0:s.one_event)==null?void 0:U.event_date)==null?void 0:Q.split("T")[0]:"",date:s!=null&&s.one_event?s==null?void 0:s.one_event:"",event_time:(Ae=s==null?void 0:s.one_event)!=null&&Ae.event_time?(De=(Ee=(Qe=s==null?void 0:s.one_event)==null?void 0:Qe.event_time)==null?void 0:Ee.split("T")[1])==null?void 0:De.substring(0,5):"",time:(Oe=s==null?void 0:s.one_event)!=null&&Oe.event_time?(ns=(ss=(es=s==null?void 0:s.one_event)==null?void 0:es.event_time)==null?void 0:ss.split("T")[1])==null?void 0:ns.substring(0,5):"",event_place:(ts=s==null?void 0:s.one_event)!=null&&ts.event_place?(as=s==null?void 0:s.one_event)==null?void 0:as.event_place:"",event_description:(is=s==null?void 0:s.one_event)!=null&&is.event_description?(cs=s==null?void 0:s.one_event)==null?void 0:cs.event_description:"",event_banner:(rs=s==null?void 0:s.one_event)!=null&&rs.event_banner?(os=s==null?void 0:s.one_event)==null?void 0:os.event_banner:"",delete_pic:(ls=s==null?void 0:s.one_event)!=null&&ls.event_banner?(ds=s==null?void 0:s.one_event)==null?void 0:ds.event_banner:"",banner_name:(ms=s==null?void 0:s.one_event)!=null&&ms.event_banner?"Chosen":"",depart:r?[`${r}`]:((hs=(_s=s==null?void 0:s.one_event)==null?void 0:_s.for_department)==null?void 0:hs.length)>0?q:[],new_depart:r?[`${r}`]:((ps=(fs=s==null?void 0:s.one_event)==null?void 0:fs.for_department)==null?void 0:ps.length)>0?q:[],deletedepart:r?[`${r}`]:((xs=(vs=s==null?void 0:s.one_event)==null?void 0:vs.for_department)==null?void 0:xs.length)>0?q:[]}),[I,F]=_.useState({msg:"",run:!1}),G=J=>{const A=Js(J);A[0]?(z(A[1]),w({...m,event_date:A[1],date:A[1]})):F({msg:"You cannot select upcoming date",run:!0})},P=document.querySelector("textarea"),[Y]=on();P==null||P.addEventListener("keyup",J=>{P.style.height="auto";let A=J.target.scrollHeight;P.style.height=`${A}px`});const M=J=>{d(!0);const A=new FormData;A.append("file",J.target.files[0]),Y({fileUpload:A}).then(Pe=>{var xe;w({...m,event_banner:(xe=Pe.data)==null?void 0:xe.imageKey,banner_name:J.target.files[0].name}),d(!1)})},L=()=>{d(!0),s?$({eid:C,eventData:{event_name:m.event_name,event_guest:m.event_guest,date:m.date,time:m.time,event_place:m.event_place,event_description:m.event_description,event_banner:m.event_banner,delete_pic:m.delete_pic,deletedepart:m.deletedepart,new_depart:m.new_depart}}).then(J=>{var A,Pe,xe,Ue,Ye,Je,Fe,Ge,B,K,O,se,ne,ue,je,ge,Ne,be,Ce,ke,we,$e,Ie,Re,qe,Te,ze,Le,Ve,He;d(!1),w({...m,event_name:(A=s==null?void 0:s.one_event)!=null&&A.event_name?(Pe=s==null?void 0:s.one_event)==null?void 0:Pe.event_name:"",event_guest:(xe=s==null?void 0:s.one_event)!=null&&xe.event_guest?(Ue=s==null?void 0:s.one_event)==null?void 0:Ue.event_guest:"",event_date:(Je=(Ye=s==null?void 0:s.one_event)==null?void 0:Ye.event_date)!=null&&Je.split("T")[0]?(Ge=(Fe=s==null?void 0:s.one_event)==null?void 0:Fe.event_date)==null?void 0:Ge.split("T")[0]:"",date:s!=null&&s.one_event?s==null?void 0:s.one_event:"",event_time:(B=s==null?void 0:s.one_event)!=null&&B.event_time?X((K=s==null?void 0:s.one_event)==null?void 0:K.event_time).format("hh:mm"):"",time:(O=s==null?void 0:s.one_event)!=null&&O.event_time?X((se=s==null?void 0:s.one_event)==null?void 0:se.event_time).format("hh:mm"):"",event_place:(ne=s==null?void 0:s.one_event)!=null&&ne.event_place?(ue=s==null?void 0:s.one_event)==null?void 0:ue.event_place:"",event_description:(je=s==null?void 0:s.one_event)!=null&&je.event_description?(ge=s==null?void 0:s.one_event)==null?void 0:ge.event_description:"",event_banner:(Ne=s==null?void 0:s.one_event)!=null&&Ne.event_banner?(be=s==null?void 0:s.one_event)==null?void 0:be.event_banner:"",delete_pic:(Ce=s==null?void 0:s.one_event)!=null&&Ce.event_banner?(ke=s==null?void 0:s.one_event)==null?void 0:ke.event_banner:"",banner_name:(we=s==null?void 0:s.one_event)!=null&&we.event_banner?"Chosen":"",depart:r?[`${r}`]:((Ie=($e=s==null?void 0:s.one_event)==null?void 0:$e.for_department)==null?void 0:Ie.length)>0?q:[],new_depart:r?[`${r}`]:((qe=(Re=s==null?void 0:s.one_event)==null?void 0:Re.for_department)==null?void 0:qe.length)>0?q:[],deletedepart:r?[`${r}`]:((ze=(Te=s==null?void 0:s.one_event)==null?void 0:Te.for_department)==null?void 0:ze.length)>0?q:[]}),g(),c(),z(((Le=s==null?void 0:s.one_event)==null?void 0:Le.event_date)&&((He=(Ve=s==null?void 0:s.one_event)==null?void 0:Ve.event_date)==null?void 0:He.split("T")[0])),t(),v("")}).catch(J=>{d(!1)}):f({eid:o,eventData:m}).then(J=>{var A,Pe,xe,Ue,Ye,Je,Fe,Ge,B,K,O,se,ne,ue,je,ge,Ne,be,Ce,ke,we,$e,Ie,Re,qe,Te,ze;d(!1),w({...m,event_name:(A=s==null?void 0:s.one_event)!=null&&A.event_name?(Pe=s==null?void 0:s.one_event)==null?void 0:Pe.event_name:"",event_guest:(xe=s==null?void 0:s.one_event)!=null&&xe.event_guest?(Ue=s==null?void 0:s.one_event)==null?void 0:Ue.event_guest:"",event_date:(Je=(Ye=s==null?void 0:s.one_event)==null?void 0:Ye.event_date)!=null&&Je.split("T")[0]?(Ge=(Fe=s==null?void 0:s.one_event)==null?void 0:Fe.event_date)==null?void 0:Ge.split("T")[0]:"",date:s!=null&&s.one_event?s==null?void 0:s.one_event:"",event_time:(B=s==null?void 0:s.one_event)!=null&&B.event_time?X((K=s==null?void 0:s.one_event)==null?void 0:K.event_time).format("hh:mm"):"",time:(O=s==null?void 0:s.one_event)!=null&&O.event_time?X((se=s==null?void 0:s.one_event)==null?void 0:se.event_time).format("hh:mm"):"",event_place:(ne=s==null?void 0:s.one_event)!=null&&ne.event_place?(ue=s==null?void 0:s.one_event)==null?void 0:ue.event_place:"",event_description:(je=s==null?void 0:s.one_event)!=null&&je.event_description?(ge=s==null?void 0:s.one_event)==null?void 0:ge.event_description:"",event_banner:(Ne=s==null?void 0:s.one_event)!=null&&Ne.event_banner?(be=s==null?void 0:s.one_event)==null?void 0:be.event_banner:"",delete_pic:(Ce=s==null?void 0:s.one_event)!=null&&Ce.event_banner?(ke=s==null?void 0:s.one_event)==null?void 0:ke.event_banner:"",banner_name:(we=s==null?void 0:s.one_event)!=null&&we.event_banner?"Chosen":"",depart:r?[`${r}`]:((Ie=($e=s==null?void 0:s.one_event)==null?void 0:$e.for_department)==null?void 0:Ie.length)>0?q:[],new_depart:r?[`${r}`]:((qe=(Re=s==null?void 0:s.one_event)==null?void 0:Re.for_department)==null?void 0:qe.length)>0?q:[],deletedepart:r?[`${r}`]:((ze=(Te=s==null?void 0:s.one_event)==null?void 0:Te.for_department)==null?void 0:ze.length)>0?q:[]}),z(""),t()}).catch(J=>{d(!1)})};return e.jsxs(e.Fragment,{children:[!u&&e.jsxs("div",{className:V.createEvent,children:[e.jsxs("div",{className:`${V.peventlefttop} ${V.peventlefttopflexleft}`,children:[e.jsx("img",{src:"/images/back.svg",alt:"back",onClick:()=>v("")}),s!=null&&s.one_event?x("update_event"):x("create_new_event")]}),e.jsxs("div",{className:V.peventleftbody,children:[!r&&e.jsx("div",{className:V.peventinputContainer,children:e.jsx("div",{className:V.item,onClick:()=>N(J=>!J),children:e.jsxs("div",{className:V.select,children:[((us=m.depart)==null?void 0:us.length)>1?e.jsxs("p",{children:[(js=m.depart)==null?void 0:js.length," ",x("departments")]}):((gs=m.depart)==null?void 0:gs.length)===1?e.jsxs("p",{children:[(Ns=m.depart)==null?void 0:Ns.length," ",x("department")]}):e.jsx("p",{children:x("select_dept_")}),e.jsx("img",{className:V.selectclass,src:"/images/members/selectclass.svg",alt:""})]})})}),e.jsx("div",{className:V.peventinputContainer,children:e.jsx(ye,{type:"text",label:x("event_name_title"),placeholder:x("select_dept_eg"),value:m.event_name,handleChange:J=>w({...m,event_name:J.target.value}),customStyleInput:{width:"100%",padding:"0.6rem"}})}),e.jsx("div",{className:V.peventinputContainer,children:e.jsx(ye,{type:"text",label:x("guest_name"),placeholder:x("name_of_guest"),value:m.event_guest,handleChange:J=>w({...m,event_guest:J.target.value}),customStyleInput:{width:"100%",padding:"0.6rem"}})}),e.jsx("div",{className:V.peventinputContainer,children:e.jsx(Fs,{customStyleInput:{width:"100%",height:"2.2rem",padding:"1rem 0.5rem"},datePickerPosition:{bottom:"2rem",left:"0",borderRadius:"0.375rem",paddingBottom:"0"},dateItemStyle:{padding:"0.25rem"},iconStyle:{position:"absolute",right:"0.9rem",bottom:"0.6rem",height:"1rem"},range:!1,label:x("date"),placeholder:x("date_of_event"),dateInput:h,setDateInput:G})}),e.jsx("div",{className:V.peventinputContainer,children:e.jsx(ye,{type:"time",label:x("time"),placeholder:x("time_of_event"),value:m.event_time,handleChange:J=>w({...m,event_time:J.target.value,time:J.target.value}),customStyleInput:{width:"100%",padding:"0.6rem"}})}),e.jsx("div",{className:V.peventinputContainer,children:e.jsx(ye,{type:"text",label:x("place_of_event"),placeholder:x("plage_eg"),value:m.event_place,handleChange:J=>w({...m,event_place:J.target.value}),customStyleInput:{width:"100%",padding:"0.6rem"}})}),e.jsxs("div",{className:V.peventinputContainer,children:[e.jsx("h6",{children:x("description_event")}),e.jsx("textarea",{className:V.pollTextarea,id:"pollTextArea",type:"text",required:!0,placeholder:x("description_please"),value:m.event_description,onChange:J=>w({...m,event_description:J.target.value})})]}),e.jsxs("div",{className:V.switchcontainerflex,children:[e.jsx("input",{class:V.upload,type:"file",id:"formFile",name:"file",onChange:M}),e.jsxs("div",{className:V.fileinputflexContainer,children:[e.jsxs("h6",{children:[x("bvanner_poster")," ",e.jsx("span",{className:V.labelspan,children:"*"})]}),e.jsxs("div",{className:V.fileinputflex,children:[e.jsx("label",{for:"formFile",className:V.fileinputflexleft,children:e.jsx("div",{className:V.fileinputflexleftdiv,children:x("chose_file")})}),e.jsx("div",{className:`${V.fileinputflexleft} ${V.fileinputflexright}`,children:m.banner_name!==""?m.banner_name:x("no_file_chosen")})]})]})]}),m.event_name!==""&&m.event_date!==""&&m.event_time!==""&&m.event_place!==""&&m.depart.length>0?e.jsx("div",{className:V.button_main,style:{marginTop:"2rem",width:"100%",cursor:"pointer"},onClick:L,children:e.jsx("span",{children:x("save_entry")})}):e.jsx(Es,{buttonText:x("save_entry"),customStyleButton:{marginTop:"2rem",width:"100%"}}),I.run&&e.jsx(Ds,{msg:I.msg,run:I.run,setRun:()=>F({msg:"",run:!1}),postiton:"bottom",type:"error"})]})]}),u&&e.jsxs("div",{className:V.createEvent,children:[e.jsxs("div",{className:`${V.peventlefttop} ${V.peventlefttopflex}`,children:[e.jsxs("div",{className:`${V.peventlefttopflexleft}`,children:[e.jsx("img",{src:"/images/back.svg",alt:"back",onClick:()=>N(!1)}),x("select_dept_")]}),u===!0&&((bs=m.depart)!=null&&bs.length)?e.jsx("div",{className:V.selectBtn,onClick:()=>N(!1),children:x("select")}):""]}),(ks=(Cs=k==null?void 0:k.institute)==null?void 0:Cs.depart)==null?void 0:ks.map((J,A)=>e.jsx(ln,{indexNumber:A,dept:J,eventData:m,setEventData:w,classMasterIndex:p,setClassMasterIndex:b,setClickDept:N},J._id))]}),T&&e.jsx(Ks,{})]})}function vn({eid:i,setViewStatus:a}){var n,r,v,C,x,f,$,u,N,T,d,p,b,k;const{t:o}=W(),{getOneEventDetail:t,getOneEventDetailRefetch:c}=rn({evid:i,skip:!i});return e.jsxs("div",{className:y.eventsright,children:[e.jsxs("div",{className:y.eventsrightimgConrainer,children:[e.jsx("img",{className:y.eventRightimg,src:(n=t==null?void 0:t.one_event)!=null&&n.event_banner&&((r=t==null?void 0:t.one_event)==null?void 0:r.event_banner)!=="1"?`${re}/${(v=t==null?void 0:t.one_event)==null?void 0:v.event_banner}`:"/images/events/event-default.png",alt:"event"}),e.jsx("div",{className:y.eventCount,children:e.jsx("h6",{children:(C=t==null?void 0:t.one_event)==null?void 0:C.event_name})}),e.jsx("div",{className:y.backCircle,onClick:()=>a(""),children:e.jsx("img",{className:y.backCircleimg,src:"/images/events/back-arrow-white.svg",alt:"back"})}),e.jsx("img",{className:y.editCircle,src:"/images/events/edit-icon.png",alt:"edit",onClick:()=>a("editEvent")})]}),e.jsxs("div",{className:y.eventDetailsdiv,children:[e.jsx("h6",{children:(x=t==null?void 0:t.one_event)==null?void 0:x.event_name}),e.jsxs("p",{className:y.labelouter,children:[o("guest"),":"," ",e.jsxs("span",{className:y.labelouterspan,children:[" ",(f=t==null?void 0:t.one_event)==null?void 0:f.event_guest]})]}),e.jsxs("div",{className:y.eventDetailsCard,children:[e.jsxs("div",{className:y.depts,children:[e.jsxs("p",{className:y.label,children:[" ",o("department")," :"]}),(u=($=t==null?void 0:t.one_event)==null?void 0:$.for_department)==null?void 0:u.map((j,s)=>{var g,q;return((q=(g=t==null?void 0:t.one_event)==null?void 0:g.for_department)==null?void 0:q.length)===s+1?e.jsx("p",{className:`${y.val} ${y.label}`,children:j==null?void 0:j.dName}):e.jsxs("p",{className:`${y.val} ${y.label}`,children:[j==null?void 0:j.dName,","]})})]}),e.jsxs("p",{className:y.label,children:[" ",o("date")," :"," ",e.jsxs("span",{children:[X((N=t==null?void 0:t.one_event)==null?void 0:N.event_date).format("Do MMM YYYY"),","," ",(p=(d=(T=t==null?void 0:t.one_event)==null?void 0:T.event_time)==null?void 0:d.split("T")[1])==null?void 0:p.substring(0,5)]})," "]}),e.jsxs("p",{className:y.label,children:[" ",o("place")," :"," ",e.jsx("span",{children:(b=t==null?void 0:t.one_event)==null?void 0:b.event_place})," "]})]}),e.jsxs("p",{className:y.labelouter,style:{marginTop:"0.5rem"},children:[o("about_event"),":"," ",e.jsx("span",{className:y.labelouterspan,children:(k=t==null?void 0:t.one_event)==null?void 0:k.event_description})]})]})]})}function za({onclickVal:i,eventCount:a,deptId:o,eventMgtRefetch:t}){var M;const{t:c}=W();_.useState(!1);const n=Ze(L=>L.eventAdminChange),[r,v]=_.useState(""),[C,x]=_.useState(""),[f,$]=Se(),[u,N]=_.useState(1),[T,d]=_.useState(""),[p,b]=_.useState([]),[k,j]=_.useState(!0),[s,g]=_.useState(!1),[q,h]=_.useState(!1),[z,m]=_.useState(!0),{getEventlist:w,getEventListRefetch:I}=kn({data:{eid:n==null?void 0:n.eventDeptId,page:u,limit:10,search:T},skip:!(n!=null&&n.eventDeptId)});_.useEffect(()=>{$&&k&&N(L=>L+1)},[$,k]),_.useEffect(()=>{n!=null&&n.eventDeptId&&(m(!0),I())},[u,n==null?void 0:n.eventDeptId,T,I]),_.useEffect(()=>{var L,Z;T?(b(w==null?void 0:w.all_events),m(!1)):s?(b(D=>[...new Set([...w==null?void 0:w.all_events,...D].map(JSON.stringify))].map(JSON.parse)),m(!1),g(!1)):q?(b(D=>[...new Set([...w==null?void 0:w.all_events].map(JSON.stringify))].map(JSON.parse)),m(!1),h(!1)):w!=null&&w.all_events?(b(D=>[...new Set([...D,...w==null?void 0:w.all_events].map(JSON.stringify))].map(JSON.parse)),m(!1)):((L=w==null?void 0:w.all_events)==null?void 0:L.length)===0&&m(!1),((Z=w==null?void 0:w.all_events)==null?void 0:Z.length)===10?j(!0):j(!1)},[w==null?void 0:w.all_events]);const F=_.useCallback(Xs.debounce(L=>d(L),500),[]),G=L=>{F(L),m(!0)},P=()=>{N(1),h(!0),m(!0),I()},Y=()=>{N(1),g(!0),m(!0),I()};return e.jsxs("div",{className:y.events,children:[e.jsxs("div",{className:y.eventsleft,children:[e.jsx("div",{className:y.searchContainerr,children:e.jsxs("div",{className:y.searchContainer,children:[e.jsx("img",{alt:"",src:"/images/search-dept-icon.svg"}),e.jsx("input",{type:"text",onChange:L=>G(L.target.value),placeholder:c("search-label"),required:!0})]})}),e.jsxs("div",{className:y.eventsContainer,children:[p==null?void 0:p.map((L,Z)=>(p==null?void 0:p.length)===Z+1?e.jsx("div",{ref:f,className:y.itemref,children:e.jsx(Ls,{cardRef:f,event:L,setViewStatus:v,setEid:x,eid:C,onRefetchWhenEventCreate:P,eventMgtRefetch:t})},Z):e.jsx("div",{className:y.itemref,children:e.jsx(Ls,{cardRef:f,event:L,setViewStatus:v,setEid:x,eid:C,onRefetchWhenEventCreate:P,eventMgtRefetch:t})},Z)),z&&e.jsx(Us,{}),!z&&((M=w==null?void 0:w.all_events)==null?void 0:M.length)===0&&e.jsx("div",{className:y.noevent,children:e.jsx("h6",{children:c("no_event_found")})})]})]}),r==="createEvent"?e.jsx("div",{className:y.eventsright,children:e.jsx(Vs,{insId:n==null?void 0:n.insId,sid:n==null?void 0:n.sid,eid:n==null?void 0:n.eventDeptId,onRefetchWhenEventCreate:P,onRefetchWhenEventEdited:Y,setViewStatus:v,eventMgtRefetch:t})}):r==="editEvent"?e.jsx("div",{className:y.eventsright,children:e.jsx(Vs,{insId:n==null?void 0:n.insId,sid:n==null?void 0:n.sid,eid:n==null?void 0:n.eventDeptId,evid:C,setViewStatus:v,onRefetchWhenEventCreate:P,eventMgtRefetch:t})}):r==="eventView"?e.jsx(vn,{eid:C,setViewStatus:v}):e.jsxs("div",{className:y.eventsright,children:[e.jsxs("div",{className:y.eventsrightimgConrainer,children:[e.jsx("img",{className:y.eventRightimg,src:"/images/events/event-default.png",alt:"event"}),e.jsxs("div",{className:y.eventCount,children:[e.jsx("h6",{children:c("events")}),e.jsxs("h6",{children:[a," ",e.jsx("span",{children:c("upcoming")})]})]})]}),e.jsxs("div",{className:y.addEventDiv,onClick:()=>v("createEvent"),children:[e.jsx("h6",{children:c("add_event")}),e.jsx("img",{className:y.addeventimg,src:"/images/events/add_circle.svg",alt:"new event"})]})]})]})}const ya="_events_1khzs_1",Pa="_eventsleft_1khzs_7",Ma="_searchContainerr_1khzs_11",Ba="_searchContainer_1khzs_11",Sa="_eventsContainer_1khzs_45",Ua="_noevent_1khzs_54",Ya="_eventItem_1khzs_62",Ja="_eventItemActive_1khzs_75",Fa="_eventItemimg_1khzs_78",Ga="_eventItemDetails_1khzs_84",La="_guest_1khzs_99",Va="_dept_1khzs_100",Ha="_date_1khzs_111",Wa="_dots_1khzs_137",Ka="_eventRightimg_1khzs_143",Xa="_eventsrightimgConrainer_1khzs_149",Za="_eventsright_1khzs_149",Aa="_eventCount_1khzs_164",Qa="_addEventDiv_1khzs_205",Ea="_loader_1khzs_232",Da="_noData_1khzs_243",Oa="_eventDetailsCard_1khzs_273",ei="_depts_1khzs_281",si="_label_1khzs_287",ni="_val_1khzs_297",ti="_labelouter_1khzs_302",ai="_labelouterspan_1khzs_313",ii="_labelouterspanmode_1khzs_317",ci="_eventDetailsdiv_1khzs_321",ri="_backCircle_1khzs_325",oi="_backCircleimg_1khzs_340",li="_editCircle_1khzs_344",di="_eventItemDetailsright_1khzs_354",mi="_mode_1khzs_361",_i="_online_1khzs_376",hi="_offline_1khzs_380",R={events:ya,eventsleft:Pa,searchContainerr:Ma,searchContainer:Ba,eventsContainer:Sa,noevent:Ua,eventItem:Ya,eventItemActive:Ja,eventItemimg:Fa,eventItemDetails:Ga,guest:La,dept:Va,date:Ha,dots:Wa,eventRightimg:Ka,eventsrightimgConrainer:Xa,eventsright:Za,eventCount:Aa,addEventDiv:Qa,loader:Ea,noData:Da,eventDetailsCard:Oa,depts:ei,label:si,val:ni,labelouter:ti,labelouterspan:ai,labelouterspanmode:ii,eventDetailsdiv:ci,backCircle:ri,backCircleimg:oi,editCircle:li,eventItemDetailsright:di,mode:mi,online:_i,offline:hi};function Hs({cardRef:i,event:a,setViewStatus:o,setEid:t,eid:c,onRefetchWhenEventCreate:n,eventMgtRefetch:r}){var N,T;const[v,C]=_.useState(!1),[x,f]=_.useState(!1),[$]=wn(),u=d=>{f(!0),$({smid:d}).then(p=>{C(!1),o(""),n(),r(),f(!1)}).catch(p=>{C(!1),o(""),f(!1)})};return e.jsxs("div",{className:c===(a==null?void 0:a._id)?`${R.eventItem} ${R.eventItemActive}`:R.eventItem,ref:i,onClick:()=>{o("eventView"),t(a==null?void 0:a._id)},children:[e.jsx("img",{className:R.eventItemimg,src:a!=null&&a.seminar_banner&&(a==null?void 0:a.seminar_banner)!=="1"?`${re}/${a==null?void 0:a.seminar_banner}`:"/images/events/event-card-cover.png",alt:"event"}),e.jsxs("div",{className:R.eventItemDetails,children:[e.jsx("h6",{children:a==null?void 0:a.seminar_name}),e.jsx("p",{className:R.guest,children:a==null?void 0:a.seminar_guest}),e.jsxs("p",{className:R.date,children:[X(a==null?void 0:a.seminar_date).format("Do MMM YYYY"),","," ",(T=(N=a==null?void 0:a.seminar_time)==null?void 0:N.split("T")[1])==null?void 0:T.substring(0,5)]})]}),e.jsxs("div",{className:R.eventItemDetailsright,children:[e.jsx("img",{className:R.dots,src:"/images/menu-dots-icon.svg",alt:"menu",onClick:()=>C(!v)}),(a==null?void 0:a.seminar_mode)==="Online"&&e.jsx("div",{className:`${R.mode} ${R.online}`,children:a==null?void 0:a.seminar_mode}),(a==null?void 0:a.seminar_mode)==="Offline"&&e.jsx("div",{className:`${R.mode} ${R.offline}`,children:a==null?void 0:a.seminar_mode})]}),e.jsx(pn,{open:v,onClose:()=>C(!1),handleDelete:()=>u(a==null?void 0:a._id),setViewStatus:o})]})}const fi="_createEvent_pbq2g_1",pi="_peventlefttopflexleft_pbq2g_11",vi="_peventlefttop_pbq2g_11",xi="_peventleftbody_pbq2g_37",ui="_peventinputContainer_pbq2g_41",ji="_pollTextareah_pbq2g_45",gi="_switchContainerh_pbq2g_46",Ni="_pollTextarea_pbq2g_45",bi="_switchcontainerflex_pbq2g_94",Ci="_fileinputflexContainer_pbq2g_104",ki="_input_label_pbq2g_109",wi="_fileinputflex_pbq2g_104",$i="_fileinputflexleft_pbq2g_125",Ii="_fileinputflexright_pbq2g_144",Ri="_item_pbq2g_162",qi="_select_pbq2g_162",Ti="_selectclass_pbq2g_188",zi="_peventlefttopflex_pbq2g_11",yi="_selectBtn_pbq2g_205",Pi="_button_main_pbq2g_221",H={createEvent:fi,peventlefttopflexleft:pi,peventlefttop:vi,peventleftbody:xi,peventinputContainer:ui,pollTextareah:ji,switchContainerh:gi,pollTextarea:Ni,switchcontainerflex:bi,fileinputflexContainer:Ci,input_label:ki,fileinputflex:wi,fileinputflexleft:$i,fileinputflexright:Ii,item:Ri,select:qi,selectclass:Ti,peventlefttopflex:zi,selectBtn:yi,button_main:Pi},Mi="_studentMCQ_153l9_1",Bi="_mcqToptabs_153l9_4",Si="_mcqTop_153l9_4",Ui="_mcqTopItem_153l9_22",Yi="_active_153l9_38",Ke={studentMCQ:Mi,mcqToptabs:Bi,mcqTop:Si,mcqTopItem:Ui,active:Yi};function Ji({activeIndex:i,setActiveIndex:a,seminarData:o,setSeminarData:t}){const{t:c}=W();return e.jsx("div",{className:Ke.mcqTop,children:e.jsxs("div",{className:Ke.mcqToptabs,children:[e.jsx("div",{className:i===0?`${Ke.mcqTopItem} ${Ke.active}`:Ke.mcqTopItem,onClick:()=>{a(0),t({...o,seminar_mode:"Offline"})},children:c("offline")}),e.jsx("div",{className:i===1?`${Ke.mcqTopItem} ${Ke.active}`:Ke.mcqTopItem,onClick:()=>{a(1),t({...o,seminar_mode:"Online"})},children:c("online")})]})})}function Ws({insId:i,sid:a,eid:o,onRefetchWhenEventCreate:t,onRefetchWhenEventEdited:c,deptId:n,smid:r,setViewStatus:v,eventMgtRefetch:C}){var oe,le,de,me,_e,he,fe,pe,ve,U,Q,Ae,Qe,Ee,De,Oe,es,ss,ns,ts,as,is,cs,rs,os,ls,ds,ms,_s,hs,fs,ps,vs,xs,us,js,gs,Ns,bs,Cs,ks,J,A,Pe,xe,Ue,Ye,Je,Fe,Ge;const{t:x}=W(),[f]=$n(),[$]=In(),[u,N]=_.useState(!1),[T,d]=_.useState(!1),[p,b]=_.useState(null),{allDepartment:k,allDepartmentRefetch:j}=Qs({id:i,skip:!i}),{getOneSeminarDetail:s,getOneSeminarDetailRefetch:g}=dn({smid:r,skip:!r}),[q,h]=_.useState(((oe=s==null?void 0:s.one_seminar)==null?void 0:oe.seminar_date)&&((de=(le=s==null?void 0:s.one_seminar)==null?void 0:le.seminar_date)==null?void 0:de.split("T")[0])),[z,m]=_.useState(((me=s==null?void 0:s.one_seminar)==null?void 0:me.seminar_mode)==="Online"?1:0),w=(he=(_e=s==null?void 0:s.one_seminar)==null?void 0:_e.for_department)==null?void 0:he.map(function(B){return B==null?void 0:B._id}),[I,F]=_.useState({seminar_name:(fe=s==null?void 0:s.one_seminar)!=null&&fe.seminar_name?(pe=s==null?void 0:s.one_seminar)==null?void 0:pe.seminar_name:"",seminar_guest:(ve=s==null?void 0:s.one_seminar)!=null&&ve.seminar_guest?(U=s==null?void 0:s.one_seminar)==null?void 0:U.seminar_guest:"",seminar_date:(Q=s==null?void 0:s.one_seminar)!=null&&Q.seminar_date?(Qe=(Ae=s==null?void 0:s.one_seminar)==null?void 0:Ae.seminar_date)==null?void 0:Qe.split("T")[0]:"",seminar_time:(Ee=s==null?void 0:s.one_seminar)!=null&&Ee.seminar_time?(es=(Oe=(De=s==null?void 0:s.one_seminar)==null?void 0:De.seminar_time)==null?void 0:Oe.split("T")[1])==null?void 0:es.substring(0,5):"",date:(ss=s==null?void 0:s.one_seminar)!=null&&ss.seminar_date?(ts=(ns=s==null?void 0:s.one_seminar)==null?void 0:ns.seminar_date)==null?void 0:ts.split("T")[0]:"",time:(as=s==null?void 0:s.one_seminar)!=null&&as.seminar_time?(rs=(cs=(is=s==null?void 0:s.one_seminar)==null?void 0:is.seminar_time)==null?void 0:cs.split("T")[1])==null?void 0:rs.substring(0,5):"",seminar_place:(os=s==null?void 0:s.one_seminar)!=null&&os.seminar_place?(ls=s==null?void 0:s.one_seminar)==null?void 0:ls.seminar_place:"",seminar_joining_link:(ds=s==null?void 0:s.one_seminar)!=null&&ds.seminar_joining_link?(ms=s==null?void 0:s.one_seminar)==null?void 0:ms.seminar_joining_link:"",seminar_mode:(_s=s==null?void 0:s.one_seminar)!=null&&_s.seminar_mode?(hs=s==null?void 0:s.one_seminar)==null?void 0:hs.seminar_mode:"Offline",seminar_description:(fs=s==null?void 0:s.one_seminar)!=null&&fs.seminar_description?(ps=s==null?void 0:s.one_seminar)==null?void 0:ps.seminar_description:"",seminar_banner:(vs=s==null?void 0:s.one_seminar)!=null&&vs.seminar_banner?(xs=s==null?void 0:s.one_seminar)==null?void 0:xs.seminar_banner:"",delete_pic:(us=s==null?void 0:s.one_seminar)!=null&&us.seminar_banner?(js=s==null?void 0:s.one_seminar)==null?void 0:js.seminar_banner:"",banner_name:(gs=s==null?void 0:s.one_seminar)!=null&&gs.seminar_banner?"Chosen":"",depart:n?[`${n}`]:((bs=(Ns=s==null?void 0:s.one_seminar)==null?void 0:Ns.for_department)==null?void 0:bs.length)>0?w:[],deletedepart:n?[`${n}`]:((ks=(Cs=s==null?void 0:s.one_seminar)==null?void 0:Cs.for_department)==null?void 0:ks.length)>0?w:[],new_depart:n?[`${n}`]:((A=(J=s==null?void 0:s.one_seminar)==null?void 0:J.for_department)==null?void 0:A.length)>0?w:[]}),[G,P]=_.useState({msg:"",run:!1}),Y=B=>{const K=Js(B);console.info(B,K[0]),K[0]?(h(K[1]),F({...I,seminar_date:K[1],date:K[1]})):P({msg:"You cannot select upcoming date",run:!0})},M=document.querySelector("textarea"),[L]=on();M==null||M.addEventListener("keyup",B=>{M.style.height="auto";let K=B.target.scrollHeight;M.style.height=`${K}px`});const Z=B=>{d(O=>!O);const K=new FormData;K.append("file",B.target.files[0]),L({fileUpload:K}).then(O=>{var se;F({...I,seminar_banner:(se=O.data)==null?void 0:se.imageKey,banner_name:B.target.files[0].name}),d(ne=>!ne)})},D=()=>{d(!0),s?$({smid:r,seminarData:{seminar_name:I.seminar_name,seminar_guest:I.seminar_guest,date:I.date,time:I.time,seminar_place:I.seminar_place,seminar_joining_link:I.seminar_joining_link,seminar_mode:I.seminar_mode,seminar_description:I.seminar_description,seminar_banner:I.seminar_banner,delete_pic:I.delete_pic,deletedepart:I.deletedepart,new_depart:I.new_depart}}).then(B=>{var K,O,se,ne,ue,je,ge,Ne,be,Ce,ke,we,$e,Ie,Re,qe,Te,ze,Le,Ve,He,ws,$s,Is,Rs,qs,Ts,zs,ys,Ps,Ms,Bs,sn,nn;g(),C(),d(!1),F({...I,seminar_name:(K=s==null?void 0:s.one_seminar)!=null&&K.seminar_name?(O=s==null?void 0:s.one_seminar)==null?void 0:O.seminar_name:"",seminar_guest:(se=s==null?void 0:s.one_seminar)!=null&&se.seminar_guest?(ne=s==null?void 0:s.one_seminar)==null?void 0:ne.seminar_guest:"",seminar_date:(ue=s==null?void 0:s.one_seminar)!=null&&ue.seminar_date?X((je=s==null?void 0:s.one_seminar)==null?void 0:je.seminar_date).format("Do MMM YYYY"):"",seminar_time:(ge=s==null?void 0:s.one_seminar)!=null&&ge.seminar_time?X((Ne=s==null?void 0:s.one_seminar)==null?void 0:Ne.seminar_time).format("hh:mm"):"",date:(be=s==null?void 0:s.one_seminar)!=null&&be.seminar_date?(ke=(Ce=s==null?void 0:s.one_seminar)==null?void 0:Ce.seminar_date)==null?void 0:ke.split("T")[0]:"",time:(we=s==null?void 0:s.one_seminar)!=null&&we.seminar_time?X(($e=s==null?void 0:s.one_seminar)==null?void 0:$e.seminar_time).format("hh:mm"):"",seminar_place:(Ie=s==null?void 0:s.one_seminar)!=null&&Ie.seminar_place?(Re=s==null?void 0:s.one_seminar)==null?void 0:Re.seminar_place:"",seminar_joining_link:(qe=s==null?void 0:s.one_seminar)!=null&&qe.seminar_joining_link?(Te=s==null?void 0:s.one_seminar)==null?void 0:Te.seminar_joining_link:"",seminar_mode:(ze=s==null?void 0:s.one_seminar)!=null&&ze.seminar_mode?(Le=s==null?void 0:s.one_seminar)==null?void 0:Le.seminar_mode:"Offline",seminar_description:(Ve=s==null?void 0:s.one_seminar)!=null&&Ve.seminar_description?(He=s==null?void 0:s.one_seminar)==null?void 0:He.seminar_description:"",seminar_banner:(ws=s==null?void 0:s.one_seminar)!=null&&ws.seminar_banner?($s=s==null?void 0:s.one_seminar)==null?void 0:$s.seminar_banner:"",banner_name:(Is=s==null?void 0:s.one_seminar)!=null&&Is.seminar_banner?"Chosen":"",delete_pic:(Rs=s==null?void 0:s.one_seminar)!=null&&Rs.seminar_banner?(qs=s==null?void 0:s.one_seminar)==null?void 0:qs.seminar_banner:"",depart:n?[`${n}`]:((zs=(Ts=s==null?void 0:s.one_seminar)==null?void 0:Ts.for_department)==null?void 0:zs.length)>0?w:[],deletedepart:n?[`${n}`]:((Ps=(ys=s==null?void 0:s.one_seminar)==null?void 0:ys.for_department)==null?void 0:Ps.length)>0?w:[],new_depart:n?[`${n}`]:((Bs=(Ms=s==null?void 0:s.one_seminar)==null?void 0:Ms.for_department)==null?void 0:Bs.length)>0?w:[]}),h(((sn=s==null?void 0:s.one_seminar)==null?void 0:sn.seminar_date)&&X((nn=s==null?void 0:s.one_seminar)==null?void 0:nn.seminar_date).format("Do MMM YYYY")),t(),v("")}).catch(B=>{d(!1)}):f({eid:o,seminarData:I}).then(B=>{var K,O,se,ne,ue,je,ge,Ne,be,Ce,ke,we,$e,Ie,Re,qe,Te,ze,Le,Ve,He,ws,$s,Is,Rs,qs,Ts,zs,ys,Ps,Ms,Bs;console.info(B.data),r&&g(),d(!1),F({...I,seminar_name:(K=s==null?void 0:s.one_seminar)!=null&&K.seminar_name?(O=s==null?void 0:s.one_seminar)==null?void 0:O.seminar_name:"",seminar_guest:(se=s==null?void 0:s.one_seminar)!=null&&se.seminar_guest?(ne=s==null?void 0:s.one_seminar)==null?void 0:ne.seminar_guest:"",seminar_date:(ue=s==null?void 0:s.one_seminar)!=null&&ue.seminar_date?X((je=s==null?void 0:s.one_seminar)==null?void 0:je.seminar_date).format("Do MMM YYYY"):"",seminar_time:(ge=s==null?void 0:s.one_seminar)!=null&&ge.seminar_time?X((Ne=s==null?void 0:s.one_seminar)==null?void 0:Ne.seminar_time).format("hh:mm"):"",date:(be=s==null?void 0:s.one_seminar)!=null&&be.seminar_date?(ke=(Ce=s==null?void 0:s.one_seminar)==null?void 0:Ce.seminar_date)==null?void 0:ke.split("T")[0]:"",time:(we=s==null?void 0:s.one_seminar)!=null&&we.seminar_time?X(($e=s==null?void 0:s.one_seminar)==null?void 0:$e.seminar_time).format("hh:mm"):"",seminar_place:(Ie=s==null?void 0:s.one_seminar)!=null&&Ie.seminar_place?(Re=s==null?void 0:s.one_seminar)==null?void 0:Re.seminar_place:"",seminar_joining_link:(qe=s==null?void 0:s.one_seminar)!=null&&qe.seminar_joining_link?(Te=s==null?void 0:s.one_seminar)==null?void 0:Te.seminar_joining_link:"",seminar_mode:(ze=s==null?void 0:s.one_seminar)!=null&&ze.seminar_mode?(Le=s==null?void 0:s.one_seminar)==null?void 0:Le.seminar_mode:"Offline",seminar_description:(Ve=s==null?void 0:s.one_seminar)!=null&&Ve.seminar_description?(He=s==null?void 0:s.one_seminar)==null?void 0:He.seminar_description:"",seminar_banner:(ws=s==null?void 0:s.one_seminar)!=null&&ws.seminar_banner?($s=s==null?void 0:s.one_seminar)==null?void 0:$s.seminar_banner:"",banner_name:(Is=s==null?void 0:s.one_seminar)!=null&&Is.seminar_banner?"Chosen":"",delete_pic:(Rs=s==null?void 0:s.one_seminar)!=null&&Rs.seminar_banner?(qs=s==null?void 0:s.one_seminar)==null?void 0:qs.seminar_banner:"",depart:n?[`${n}`]:((zs=(Ts=s==null?void 0:s.one_seminar)==null?void 0:Ts.for_department)==null?void 0:zs.length)>0?w:[],deletedepart:n?[`${n}`]:((Ps=(ys=s==null?void 0:s.one_seminar)==null?void 0:ys.for_department)==null?void 0:Ps.length)>0?w:[],new_depart:n?[`${n}`]:((Bs=(Ms=s==null?void 0:s.one_seminar)==null?void 0:Ms.for_department)==null?void 0:Bs.length)>0?w:[]}),h(""),t()}).catch(B=>{d(!1)})};return e.jsxs(e.Fragment,{children:[!u&&e.jsxs("div",{className:H.createEvent,children:[e.jsxs("div",{className:`${H.peventlefttop} ${H.peventlefttopflexleft}`,children:[e.jsx("img",{src:"/images/back.svg",alt:"back",onClick:()=>v("")}),x("create_seminar")]}),e.jsxs("div",{className:H.peventleftbody,children:[e.jsx(Ji,{activeIndex:z,setActiveIndex:m,seminarData:I,setSeminarData:F}),!n&&e.jsx("div",{className:H.peventinputContainer,children:e.jsx("div",{className:H.item,onClick:()=>N(B=>!B),children:e.jsxs("div",{className:H.select,children:[((Pe=I.depart)==null?void 0:Pe.length)>1?e.jsxs("p",{children:[(xe=I.depart)==null?void 0:xe.length," ",x("departments")]}):((Ue=I.depart)==null?void 0:Ue.length)===1?e.jsxs("p",{children:[(Ye=I.depart)==null?void 0:Ye.length," ",x("department")]}):e.jsx("p",{children:x("select_dept_")}),e.jsx("img",{className:H.selectclass,src:"/images/members/selectclass.svg",alt:""})]})})}),e.jsx("div",{className:H.peventinputContainer,children:e.jsx(ye,{type:"text",label:x("seminar_name"),placeholder:x("select_dept_eg"),value:I.seminar_name,handleChange:B=>F({...I,seminar_name:B.target.value}),customStyleInput:{width:"100%",padding:"0.6rem"}})}),e.jsx("div",{className:H.peventinputContainer,children:e.jsx(ye,{type:"text",label:x("guest_name"),placeholder:x("name_of_guest"),value:I.seminar_guest,handleChange:B=>F({...I,seminar_guest:B.target.value}),customStyleInput:{width:"100%",padding:"0.6rem"}})}),e.jsx("div",{className:H.peventinputContainer,children:e.jsx(Fs,{customStyleInput:{width:"100%",height:"2.2rem",padding:"1rem 0.5rem"},datePickerPosition:{bottom:"2rem",left:"0",borderRadius:"0.375rem",paddingBottom:"0"},dateItemStyle:{padding:"0.25rem"},iconStyle:{position:"absolute",right:"0.9rem",bottom:"0.6rem",height:"1rem"},range:!1,label:x("date"),placeholder:x("seminar_date"),dateInput:q,setDateInput:Y})}),e.jsx("div",{className:H.peventinputContainer,children:e.jsx(ye,{type:"time",label:x("time"),placeholder:x("select_seminar_timing"),value:I.seminar_time,handleChange:B=>F({...I,seminar_time:B.target.value,time:B.target.value}),customStyleInput:{width:"100%",padding:"0.6rem"}})}),I.seminar_mode==="Offline"&&e.jsx("div",{className:H.peventinputContainer,children:e.jsx(ye,{type:"text",label:x("seminar_place"),placeholder:x("select_place_of_seminar"),value:I.seminar_place,handleChange:B=>F({...I,seminar_place:B.target.value}),customStyleInput:{width:"100%",padding:"0.6rem"}})}),I.seminar_mode==="Online"&&e.jsx("div",{className:H.peventinputContainer,children:e.jsx(ye,{type:"text",label:x("provide_link"),placeholder:x("copy_paste_link"),value:I.seminar_joining_link,handleChange:B=>F({...I,seminar_joining_link:B.target.value}),customStyleInput:{width:"100%",padding:"0.6rem"}})}),e.jsxs("div",{className:H.peventinputContainer,children:[e.jsx("h6",{children:x("description_event")}),e.jsx("textarea",{className:H.pollTextarea,id:"pollTextArea",type:"text",required:!0,placeholder:x("description_please"),value:I.seminar_description,onChange:B=>F({...I,seminar_description:B.target.value})})]}),e.jsxs("div",{className:H.switchcontainerflex,children:[e.jsx("input",{class:H.upload,type:"file",id:"formFile",name:"file",onChange:Z}),e.jsxs("div",{className:H.fileinputflexContainer,children:[e.jsxs("h6",{children:[x("bvanner_poster")," "]}),e.jsxs("div",{className:H.fileinputflex,children:[e.jsx("label",{for:"formFile",className:H.fileinputflexleft,children:e.jsx("div",{className:H.fileinputflexleftdiv,children:x("chose_file")})}),e.jsx("div",{className:`${H.fileinputflexleft} ${H.fileinputflexright}`,children:I.banner_name!==""?I.banner_name:x("no_file_chosen")})]})]})]}),I.seminar_name!==""&&I.seminar_date!==""&&I.seminar_time!==""&&I.seminar_guest!==""&&I.seminar_mode!==""&&I.depart.length>0?e.jsx("div",{className:H.button_main,style:{marginTop:"2rem",width:"100%",cursor:"pointer"},onClick:D,children:e.jsx("span",{children:x("save_entry")})}):e.jsx(Es,{buttonText:x("save_entry"),customStyleButton:{marginTop:"2rem",width:"100%"}}),G.run&&e.jsx(Ds,{msg:G.msg,run:G.run,setRun:()=>P({msg:"",run:!1}),postiton:"bottom",type:"error"})]})]}),u&&e.jsxs("div",{className:H.createEvent,children:[e.jsxs("div",{className:`${H.peventlefttop} ${H.peventlefttopflex}`,children:[e.jsxs("div",{className:`${H.peventlefttopflexleft}`,children:[e.jsx("img",{src:"/images/back.svg",alt:"back",onClick:()=>N(!1)}),x("select_dept_")]}),u===!0&&((Je=I.depart)!=null&&Je.length)?e.jsx("div",{className:H.selectBtn,onClick:()=>N(!1),children:x("select")}):""]}),(Ge=(Fe=k==null?void 0:k.institute)==null?void 0:Fe.depart)==null?void 0:Ge.map((B,K)=>e.jsx(ln,{indexNumber:K,dept:B,seminarData:I,setSeminarData:F,classMasterIndex:p,setClassMasterIndex:b,setClickDept:N,status:"seminar"},B._id))]}),T&&e.jsx(Ks,{})]})}function xn({eid:i,setViewStatus:a}){var n,r,v,C,x,f,$,u,N,T,d,p,b,k,j;const{t:o}=W(),{getOneSeminarDetail:t,getOneSeminarDetailRefetch:c}=dn({smid:i,skip:!i});return e.jsxs("div",{className:R.eventsright,children:[e.jsxs("div",{className:R.eventsrightimgConrainer,children:[e.jsx("img",{className:R.eventRightimg,src:(n=t==null?void 0:t.one_seminar)!=null&&n.seminar_banner&&((r=t==null?void 0:t.one_seminar)==null?void 0:r.seminar_banner)!=="1"?`${re}/${(v=t==null?void 0:t.one_seminar)==null?void 0:v.seminar_banner}`:"/images/events/event-default.png",alt:"event"}),e.jsx("div",{className:R.eventCount,children:e.jsx("h6",{children:(C=t==null?void 0:t.one_seminar)==null?void 0:C.seminar_name})}),e.jsx("div",{className:R.backCircle,onClick:()=>a(""),children:e.jsx("img",{className:R.backCircleimg,src:"/images/events/back-arrow-white.svg",alt:"back"})}),e.jsx("img",{className:R.editCircle,src:"/images/events/edit-icon.png",alt:"edit",onClick:()=>a("editEvent")})]}),e.jsxs("div",{className:R.eventDetailsdiv,children:[e.jsx("h6",{children:(x=t==null?void 0:t.one_seminar)==null?void 0:x.seminar_name}),e.jsxs("p",{className:R.labelouter,children:[o("guest"),":"," ",e.jsxs("span",{className:R.labelouterspan,children:[" ",(f=t==null?void 0:t.one_seminar)==null?void 0:f.seminar_guest]})]}),e.jsxs("p",{className:R.labelouter,children:[o("mode"),":"," ",e.jsxs("span",{className:R.labelouterspanmode,children:[" ",($=t==null?void 0:t.one_seminar)==null?void 0:$.seminar_mode]})]}),e.jsxs("div",{className:R.eventDetailsCard,children:[e.jsxs("div",{className:R.depts,children:[e.jsxs("p",{className:R.label,children:[" ",o("department")," :"]}),(N=(u=t==null?void 0:t.one_seminar)==null?void 0:u.for_department)==null?void 0:N.map((s,g)=>{var q,h;return((h=(q=t==null?void 0:t.one_seminar)==null?void 0:q.for_department)==null?void 0:h.length)===g+1?e.jsx("p",{className:`${R.val} ${R.label}`,children:s==null?void 0:s.dName}):e.jsxs("p",{className:`${R.val} ${R.label}`,children:[s==null?void 0:s.dName,","]})})]}),e.jsxs("p",{className:R.label,children:[" ",o("date")," :"," ",e.jsxs("span",{children:[X((T=t==null?void 0:t.one_seminar)==null?void 0:T.seminar_date).format("Do MMM YYYY"),","," ",(b=(p=(d=t==null?void 0:t.one_seminar)==null?void 0:d.seminar_time)==null?void 0:p.split("T")[1])==null?void 0:b.substring(0,5)]})," "]}),e.jsxs("p",{className:R.label,children:[" ",o("place")," :"," ",e.jsx("span",{children:(k=t==null?void 0:t.one_seminar)==null?void 0:k.seminar_place})," "]})]}),e.jsxs("p",{className:R.labelouter,style:{marginTop:"0.5rem"},children:[o("about_event"),":"," ",e.jsx("span",{className:R.labelouterspan,children:(j=t==null?void 0:t.one_seminar)==null?void 0:j.seminar_description})]})]})]})}function Fi({onclickVal:i,eventCount:a,eventMgtRefetch:o}){var Y;const{t}=W();_.useState(!1);const c=Ze(M=>M.eventAdminChange),[n,r]=_.useState(""),[v,C]=_.useState(""),[x,f]=Se(),[$,u]=_.useState(1),[N,T]=_.useState(""),[d,p]=_.useState([]),[b,k]=_.useState(!0),[j,s]=_.useState(!1),[g,q]=_.useState(!1),[h,z]=_.useState(!0),{getSeminarlist:m,getSeminarListRefetch:w}=mn({data:{eid:c==null?void 0:c.eventDeptId,page:$,limit:10,search:N},skip:!(c!=null&&c.eventDeptId)});_.useEffect(()=>{f&&b&&u(M=>M+1)},[f,b]),_.useEffect(()=>{c!=null&&c.eventDeptId&&(z(!0),w())},[$,c==null?void 0:c.eventDeptId,N,w]),_.useEffect(()=>{var M,L;N?(p(m==null?void 0:m.all_seminars),z(!1)):j?(p(Z=>[...new Set([...m==null?void 0:m.all_seminars,...Z].map(JSON.stringify))].map(JSON.parse)),z(!1),s(!1)):g?(p(Z=>[...new Set([...m==null?void 0:m.all_seminars].map(JSON.stringify))].map(JSON.parse)),z(!1),q(!1)):m!=null&&m.all_seminars?(p(Z=>[...new Set([...Z,...m==null?void 0:m.all_seminars].map(JSON.stringify))].map(JSON.parse)),z(!1)):((M=m==null?void 0:m.all_seminars)==null?void 0:M.length)===0&&z(!1),((L=m==null?void 0:m.all_seminars)==null?void 0:L.length)===10?k(!0):k(!1)},[m==null?void 0:m.all_seminars]);const I=_.useCallback(Xs.debounce(M=>T(M),500),[]),F=M=>{I(M)},G=()=>{u(1),q(!0),z(!0),w()},P=()=>{u(1),s(!0),z(!0),w()};return e.jsxs("div",{className:R.events,children:[e.jsxs("div",{className:R.eventsleft,children:[e.jsx("div",{className:R.searchContainerr,children:e.jsxs("div",{className:R.searchContainer,children:[e.jsx("img",{alt:"",src:"/images/search-dept-icon.svg"}),e.jsx("input",{type:"text",onChange:M=>F(M.target.value),placeholder:t("search-label"),required:!0})]})}),e.jsxs("div",{className:R.eventsContainer,children:[d==null?void 0:d.map((M,L)=>(d==null?void 0:d.length)===L+1?e.jsx("div",{ref:x,className:R.itemref,children:e.jsx(Hs,{cardRef:x,event:M,setViewStatus:r,setEid:C,eid:v,onRefetchWhenEventCreate:G,eventMgtRefetch:o})},L):e.jsx("div",{className:R.itemref,children:e.jsx(Hs,{cardRef:x,event:M,setViewStatus:r,setEid:C,eid:v,onRefetchWhenEventCreate:G,eventMgtRefetch:o})},L)),h&&e.jsx(Us,{}),!h&&((Y=m==null?void 0:m.all_seminars)==null?void 0:Y.length)===0&&e.jsx("div",{className:R.noevent,children:e.jsx("h6",{children:t("no_event_found")})})]})]}),n==="createEvent"?e.jsx("div",{className:R.eventsright,children:e.jsx(Ws,{insId:c==null?void 0:c.insId,sid:c==null?void 0:c.sid,eid:c==null?void 0:c.eventDeptId,setViewStatus:r,onRefetchWhenEventCreate:G,onRefetchWhenEventEdited:P,eventMgtRefetch:o})}):n==="editEvent"?e.jsx("div",{className:R.eventsright,children:e.jsx(Ws,{insId:c==null?void 0:c.insId,sid:c==null?void 0:c.sid,eid:c==null?void 0:c.eventDeptId,smid:v,setViewStatus:r,onRefetchWhenEventCreate:G,eventMgtRefetch:o})}):n==="eventView"?e.jsx(xn,{eid:v,setViewStatus:r}):e.jsxs("div",{className:R.eventsright,children:[e.jsxs("div",{className:R.eventsrightimgConrainer,children:[e.jsx("img",{className:R.eventRightimg,src:"/images/events/event-default.png",alt:"event"}),e.jsxs("div",{className:R.eventCount,children:[e.jsx("h6",{children:t("seminars")}),e.jsxs("h6",{children:[a," ",e.jsx("span",{children:t("upcoming")})]})]})]}),e.jsxs("div",{className:R.addEventDiv,onClick:()=>r("createEvent"),children:[e.jsx("h6",{children:t("add_new_seminar")}),e.jsx("img",{className:R.addeventimg,src:"/images/events/add_circle.svg",alt:"new event"})]})]})]})}function Gi({onclickVal:i,eventCount:a,deptId:o}){const{t}=W();_.useState(!1);const c=Ze(P=>P.eventAdminChange),[n,r]=_.useState(""),[v,C]=_.useState(""),[x,f]=Se(),[$,u]=_.useState(1),[N,T]=_.useState(""),[d,p]=_.useState([]),[b,k]=_.useState(!0),[j,s]=_.useState(!1),[g,q]=_.useState(!1),[h,z]=_.useState(!0),{getOneDeptEventlist:m,getOneDeptEventListRefetch:w}=Rn({data:{did:o,page:$,limit:10,search:N},skip:!o});_.useEffect(()=>{f&&b&&u(P=>P+1)},[f,b]),_.useEffect(()=>{o&&(z(!0),w())},[$,o,N,w]),_.useEffect(()=>{var P,Y;N?(p(m==null?void 0:m.all_events),z(!1)):j?(p(M=>[...new Set([...m==null?void 0:m.all_events,...M].map(JSON.stringify))].map(JSON.parse)),z(!1),s(!1)):g?(p(M=>[...new Set([...m==null?void 0:m.all_events].map(JSON.stringify))].map(JSON.parse)),z(!1),q(!1)):m!=null&&m.all_events?(p(M=>[...new Set([...M,...m==null?void 0:m.all_events].map(JSON.stringify))].map(JSON.parse)),z(!1)):((P=m==null?void 0:m.all_events)==null?void 0:P.length)===0&&z(!1),((Y=m==null?void 0:m.all_events)==null?void 0:Y.length)===10?k(!0):k(!1)},[m==null?void 0:m.all_events]);const I=_.useCallback(Xs.debounce(P=>T(P),500),[]),F=P=>{I(P)},G=()=>{u(1),q(!0),z(!0),w()};return e.jsxs("div",{className:y.events,children:[e.jsxs("div",{className:y.eventsleft,children:[e.jsx("div",{className:y.searchContainerr,children:e.jsxs("div",{className:y.searchContainer,children:[e.jsx("img",{alt:"",src:"/images/search-dept-icon.svg"}),e.jsx("input",{type:"text",onChange:P=>F(P.target.value),placeholder:t("search-label"),required:!0})]})}),e.jsxs("div",{className:y.eventsContainer,children:[d==null?void 0:d.map((P,Y)=>(d==null?void 0:d.length)===Y+1?e.jsx("div",{ref:x,className:y.itemref,children:e.jsx(Ls,{cardRef:x,event:P,setViewStatus:r,setEid:C,eid:v,onRefetchWhenEventCreate:G})},Y):e.jsx("div",{className:y.itemref,children:e.jsx(Ls,{cardRef:x,event:P,setViewStatus:r,setEid:C,eid:v,onRefetchWhenEventCreate:G})},Y)),h&&e.jsx(Us,{})]})]}),n==="createEvent"?e.jsx("div",{className:y.eventsright,children:e.jsx(Vs,{insId:c==null?void 0:c.insId,sid:c==null?void 0:c.sid,eid:c==null?void 0:c.eventDeptId,onRefetchWhenEventCreate:G,deptId:o,setViewStatus:r})}):n==="editEvent"?e.jsx("div",{className:y.eventsright,children:e.jsx(Vs,{insId:c==null?void 0:c.insId,sid:c==null?void 0:c.sid,eid:c==null?void 0:c.eventDeptId,evid:v,deptId:o,setViewStatus:r,onRefetchWhenEventCreate:G})}):n==="eventView"?e.jsx(vn,{eid:v,setViewStatus:r}):e.jsxs("div",{className:y.eventsright,children:[e.jsxs("div",{className:y.eventsrightimgConrainer,children:[e.jsx("img",{className:y.eventRightimg,src:"/images/events/event-default.png",alt:"event"}),e.jsxs("div",{className:y.eventCount,children:[e.jsx("h6",{children:t("events")}),e.jsxs("h6",{children:[d.length," ",e.jsx("span",{children:t("upcoming")})]})]})]}),e.jsxs("div",{className:y.addEventDiv,onClick:()=>r("createEvent"),children:[e.jsx("h6",{children:t("add_event")}),e.jsx("img",{className:y.addeventimg,src:"/images/events/add_circle.svg",alt:"new event"})]})]})]})}function Li({onclickVal:i,eventCount:a,deptId:o}){const{t}=W();_.useState(!1);const c=Ze(P=>P.eventAdminChange),[n,r]=_.useState(""),[v,C]=_.useState(""),[x,f]=Se(),[$,u]=_.useState(1),[N,T]=_.useState(""),[d,p]=_.useState([]),[b,k]=_.useState(!0),[j,s]=_.useState(!1),[g,q]=_.useState(!1),[h,z]=_.useState(!0);mn({data:{eid:c==null?void 0:c.eventDeptId,page:$,limit:10,search:N},skip:!(c!=null&&c.eventDeptId)});const{getOneDeptSeminarlist:m,getOneDeptSeminarListRefetch:w}=qn({data:{did:o,page:$,limit:10,search:N},skip:!o});_.useEffect(()=>{f&&b&&u(P=>P+1)},[f,b]),_.useEffect(()=>{o&&(z(!0),w())},[$,o,N,w]),_.useEffect(()=>{var P,Y;N?(p(m==null?void 0:m.all_seminars),z(!1)):j?(p(M=>[...new Set([...m==null?void 0:m.all_seminars,...M].map(JSON.stringify))].map(JSON.parse)),z(!1),s(!1)):g?(p(M=>[...new Set([...m==null?void 0:m.all_seminars].map(JSON.stringify))].map(JSON.parse)),z(!1),q(!1)):m!=null&&m.all_seminars?(p(M=>[...new Set([...M,...m==null?void 0:m.all_seminars].map(JSON.stringify))].map(JSON.parse)),z(!1)):((P=m==null?void 0:m.all_seminars)==null?void 0:P.length)===0&&z(!1),((Y=m==null?void 0:m.all_seminars)==null?void 0:Y.length)===10?k(!0):k(!1)},[m==null?void 0:m.all_seminars]);const I=_.useCallback(Xs.debounce(P=>T(P),500),[]),F=P=>{I(P)},G=()=>{u(1),q(!0),z(!0),w()};return e.jsxs("div",{className:R.events,children:[e.jsxs("div",{className:R.eventsleft,children:[e.jsx("div",{className:R.searchContainerr,children:e.jsxs("div",{className:R.searchContainer,children:[e.jsx("img",{alt:"",src:"/images/search-dept-icon.svg"}),e.jsx("input",{type:"text",onChange:P=>F(P.target.value),placeholder:t("search-label"),required:!0})]})}),e.jsxs("div",{className:R.eventsContainer,children:[d==null?void 0:d.map((P,Y)=>(d==null?void 0:d.length)===Y+1?e.jsx("div",{ref:x,className:R.itemref,children:e.jsx(Hs,{cardRef:x,event:P,setViewStatus:r,setEid:C,eid:v,onRefetchWhenEventCreate:G})},Y):e.jsx("div",{className:R.itemref,children:e.jsx(Hs,{cardRef:x,event:P,setViewStatus:r,setEid:C,eid:v,onRefetchWhenEventCreate:G})},Y)),h&&e.jsx(Us,{})]})]}),n==="createEvent"?e.jsx("div",{className:R.eventsright,children:e.jsx(Ws,{insId:c==null?void 0:c.insId,sid:c==null?void 0:c.sid,eid:c==null?void 0:c.eventDeptId,onRefetchWhenEventCreate:G,deptId:o})}):n==="editEvent"?e.jsx("div",{className:R.eventsright,children:e.jsx(Ws,{insId:c==null?void 0:c.insId,sid:c==null?void 0:c.sid,eid:c==null?void 0:c.eventDeptId,smid:v,setViewStatus:r,deptId:o,onRefetchWhenEventCreate:G})}):n==="eventView"?e.jsx(xn,{eid:v,setViewStatus:r}):e.jsxs("div",{className:R.eventsright,children:[e.jsxs("div",{className:R.eventsrightimgConrainer,children:[e.jsx("img",{className:R.eventRightimg,src:"/images/events/event-default.png",alt:"event"}),e.jsxs("div",{className:R.eventCount,children:[e.jsx("h6",{children:t("seminars")}),e.jsxs("h6",{children:[a," ",e.jsx("span",{children:t("upcoming")})]})]})]}),e.jsxs("div",{className:R.addEventDiv,onClick:()=>r("createEvent"),children:[e.jsx("h6",{children:t("add_new_seminar")}),e.jsx("img",{className:R.addeventimg,src:"/images/events/add_circle.svg",alt:"new event"})]})]})]})}const Vi=({oneApplyDetail:i,electionId:a,setOneApplyDetail:o,setActiveIndex:t})=>{var x,f,$,u,N,T;const{t:c}=W(),[n,r]=_.useState(!1),[v]=Bn(),C=d=>{var p;r(b=>!b),v({eid:a,apid:i==null?void 0:i._id,sid:(p=i==null?void 0:i.student)==null?void 0:p._id,actionStatus:d}).then(()=>{o(""),t(1),r(b=>!b)}).catch({})};return e.jsxs(Gs,{customStyle:{width:"366px"},children:[e.jsx("h6",{className:S.candiate_heading,children:c("candidate")}),e.jsx(tn,{name:`${(x=i==null?void 0:i.student)==null?void 0:x.studentFirstName} ${((f=i==null?void 0:i.student)==null?void 0:f.studentMiddleName)||""} ${($=i==null?void 0:i.student)==null?void 0:$.studentLastName}`,profileKey:(u=i==null?void 0:i.student)==null?void 0:u.studentProfilePhoto,grNumber:(N=i==null?void 0:i.student)==null?void 0:N.studentGRNO,showActive:!0}),e.jsx("h6",{className:S.candiate_heading,children:c("election_tagline")}),e.jsx("p",{className:S.candiate_paragraph,children:i==null?void 0:i.election_tag_line}),e.jsx("h6",{className:S.candiate_heading,children:c("description")}),e.jsx("p",{children:i==null?void 0:i.election_description}),e.jsx("h6",{className:S.candiate_heading,children:c("supporting_members")}),(T=i==null?void 0:i.election_supporting_member)==null?void 0:T.map(d=>e.jsx(tn,{name:`${d==null?void 0:d.studentFirstName} ${(d==null?void 0:d.studentMiddleName)||""} ${d==null?void 0:d.studentLastName}`,profileKey:d==null?void 0:d.studentProfilePhoto,grNumber:d==null?void 0:d.studentGRNO,showActive:!1},d==null?void 0:d._id)),(i==null?void 0:i.election_candidate_status)==="Pending"?e.jsxs("div",{className:S.candidate_action,children:[e.jsx("button",{disabled:n,onClick:()=>C("Rejected"),children:c("reject")}),e.jsx("button",{disabled:n,onClick:()=>C("Approved"),children:c("accept")})]}):"",n&&e.jsx(Ks,{})]})},Hi=({oneApplyDetail:i})=>{var a;return e.jsxs("div",{className:S.result_container,children:[e.jsxs("div",{className:S.result_container_box,children:[e.jsxs("div",{className:S.result_container_box_item,children:[e.jsx("h6",{className:S.result_count,children:i==null?void 0:i.totalVoter}),e.jsx("p",{className:S.result_count_paragraph,children:"Total Voter"})]}),e.jsx("div",{className:S.result_container_box_vertical}),e.jsxs("div",{className:S.result_container_box_item,children:[e.jsx("h6",{className:S.result_count,children:i==null?void 0:i.totalVoteCasted}),e.jsx("p",{className:S.result_count_paragraph,children:"Voter Casted"})]})]}),e.jsx("h6",{className:S.result_candidate,children:"Candidate"}),(a=i==null?void 0:i.candidateList)==null?void 0:a.map(o=>{var t,c,n,r,v,C;return e.jsxs("div",{className:`${S.candidate_member_result}`,children:[e.jsx("img",{src:(t=o==null?void 0:o.student)!=null&&t.studentProfilePhoto?`${re}/${(c=o==null?void 0:o.student)==null?void 0:c.studentProfilePhoto}`:"/images/members/competition.svg",alt:"elections static icon"}),e.jsxs("div",{className:S.candidate_name,children:[e.jsxs("div",{className:S.candidate_alignment,children:[e.jsxs("h6",{className:S.candidate,style:{margin:"0"},children:[`${(n=o==null?void 0:o.student)==null?void 0:n.studentFirstName} ${((r=o==null?void 0:o.student)==null?void 0:r.studentMiddleName)||""} ${(v=o==null?void 0:o.student)==null?void 0:v.studentLastName}`,e.jsx("img",{src:"/images/members/election-winner.svg",alt:"winner icon"})]}),e.jsx("p",{className:S.result_vote_count,children:o==null?void 0:o.election_vote_receieved})]}),e.jsxs("div",{className:S.candidate_alignment,children:[e.jsxs("p",{className:S.candidate_gr,children:["GRNO. ",(C=o==null?void 0:o.student)==null?void 0:C.studentGRNO]}),e.jsx("p",{className:S.candidate_gr,children:"Vote Received "})]})]})]},o==null?void 0:o._id)})]})},Wi=({setActiveIndex:i,did:a,setElectionId:o,refetchWhenCreate:t,setRefetchWhenCreate:c,viewAs:n,selectedEid:r})=>{const[v,C]=Be.useState([]),[x,f]=Se(),{t:$}=W(),[u,N]=Be.useState(!0),[T,d]=Be.useState(1),{departmentAllElection:p,departmentAllElectionRefetch:b}=Sn({data:{viewAs:n??"",did:a,page:t?1:T,limit:10},skip:!a});Be.useEffect(()=>{a&&b()},[a,b,T]),Be.useEffect(()=>{a&&t&&b()},[a,t,b]),Be.useEffect(()=>{f&&u&&d(j=>j+1)},[f,u]),Be.useEffect(()=>{var j,s;if(n==="EVENT_MANAGER"){if(p!=null&&p.all_elections)if(t){const g=[...p==null?void 0:p.all_elections,...v],q=[...new Set(g.map(JSON.stringify))].map(JSON.parse);C(q),c(!1)}else{const g=[...v,...p==null?void 0:p.all_elections],q=[...new Set(g.map(JSON.stringify))].map(JSON.parse);C(q)}((j=p==null?void 0:p.all_elections)==null?void 0:j.length)===10?N(!0):N(!1)}else{if(p!=null&&p.elect)if(t){const g=[...p==null?void 0:p.elect,...v],q=[...new Set(g.map(JSON.stringify))].map(JSON.parse);C(q),c(!1)}else{const g=[...v,...p==null?void 0:p.elect],q=[...new Set(g.map(JSON.stringify))].map(JSON.parse);C(q)}((s=p==null?void 0:p.elect)==null?void 0:s.length)===10?N(!0):N(!1)}},[p==null?void 0:p.elect,p==null?void 0:p.all_elections,n]);const k=j=>{j===r?(o(s=>({...s,electionId:""})),i(0)):(o(s=>({...s,electionId:j})),i(1))};return e.jsxs(e.Fragment,{children:[e.jsx("h6",{children:$("all_election")}),e.jsx(fn,{customStyle:{width:"100%",marginBottom:"0.7rem"}}),v==null?void 0:v.map((j,s)=>(v==null?void 0:v.length)===s+1?e.jsx(Gs,{customStyle:{minHeight:"130px",padding:"0"},children:e.jsxs("div",{onClick:()=>k(j==null?void 0:j._id),style:{cursor:"pointer",padding:"15px",backgroundColor:r===(j==null?void 0:j._id)?"rgba(75, 26, 133, 0.1)":"#ffffff"},title:"View election detail",children:[e.jsxs("div",{className:S.election_card_title,onClick:()=>k(j==null?void 0:j._id),ref:x,children:[e.jsx("img",{src:"/images/members/election-icon.svg",alt:"elections static icon"}),e.jsx("h6",{className:S.create_new_elections,children:j==null?void 0:j.election_position})]}),e.jsx("hr",{className:S.create_new_elections_hr,style:{marginLeft:"0",marginRight:"0"}}),e.jsxs("div",{className:S.election_card_info,children:[e.jsxs("p",{children:[$("application_start")," :",e.jsx("span",{children:X(j==null?void 0:j.election_app_start_date).format("DD MMMM yyyy")})]}),e.jsxs("p",{children:[$("voting_date")," :",e.jsx("span",{children:X(j==null?void 0:j.election_voting_date).format("DD MMMM yyyy")})]})]})]})}):e.jsx(Gs,{customStyle:{minHeight:"130px",padding:"0"},children:e.jsxs("div",{onClick:()=>k(j==null?void 0:j._id),style:{cursor:"pointer",padding:"15px",backgroundColor:r===(j==null?void 0:j._id)?"rgba(75, 26, 133, 0.1)":"#ffffff"},title:"View election detail",children:[e.jsxs("div",{className:S.election_card_title,children:[e.jsx("img",{src:"/images/members/election-icon.svg",alt:"elections static icon"}),e.jsx("h6",{className:S.create_new_elections,children:j==null?void 0:j.election_position})]}),e.jsx("hr",{className:S.create_new_elections_hr,style:{marginLeft:"0",marginRight:"0"}}),e.jsxs("div",{className:S.election_card_info,children:[e.jsxs("p",{children:[$("application_start")," :",e.jsx("span",{children:X(j==null?void 0:j.election_app_start_date).format("DD MMMM yyyy")})]}),e.jsxs("p",{children:[$("voting_date")," :",e.jsx("span",{children:X(j==null?void 0:j.election_voting_date).format("DD MMMM yyyy")})]})]})]})}))]})},Ki=({instituteId:i,onClose:a,setSelectedId:o,selectedId:t})=>{var j;const{t:c}=W(),[n,r]=Se(),[v,C]=_.useState(1),[x,f]=_.useState(!0),[$,u]=_.useState(!0),[N,T]=_.useState([]),{allDepartment:d,allDepartmentRefetch:p}=_n({id:i,skip:!i});_.useEffect(()=>{i&&(u(!0),p())},[i,v,p]),_.useEffect(()=>{r&&x&&C(s=>s+1)},[r,x]),_.useEffect(()=>{var s,g,q,h,z;(s=d==null?void 0:d.institute)!=null&&s.depart?(T(m=>{var w;return[...new Set([...m,...(w=d==null?void 0:d.institute)==null?void 0:w.depart].map(JSON.stringify))].map(JSON.parse)}),u(!1)):((q=(g=d==null?void 0:d.institute)==null?void 0:g.depart)==null?void 0:q.length)===0&&u(!1),((z=(h=d==null?void 0:d.institute)==null?void 0:h.depart)==null?void 0:z.length)===10?f(!0):f(!1)},[(j=d==null?void 0:d.institute)==null?void 0:j.depart]);const b=s=>{t!=null&&t.includes(s==null?void 0:s._id)?o(g=>g==null?void 0:g.filter(q=>q!==(s==null?void 0:s._id))):o(g=>[...g,s==null?void 0:s._id])},k=()=>{a()};return e.jsx(Kn,{onClose:a,children:e.jsxs("div",{className:ee.add_category_modal,style:{width:"30rem",minHeight:"10rem",maxHeight:"35rem",overflowY:"auto",overflowX:"hidden",scrollBehavior:"smooth"},children:[e.jsxs("section",{className:ee.add_category_modal_title_left,style:{position:"relative"},children:[e.jsx("img",{src:"/images/arrow-left-fees-icon.svg",onClick:a,alt:"back arrow"}),e.jsx("h6",{children:c("select_department")}),e.jsxs("button",{className:ee.normal_select_btn,onClick:k,children:[(t==null?void 0:t.length)>=1?t==null?void 0:t.length:""," "," ",c("select")]})]}),e.jsx(fn,{customStyle:{width:"100%",marginBottom:"1rem"}}),N==null?void 0:N.map((s,g)=>(N==null?void 0:N.length)===g+1?e.jsxs("div",{className:t!=null&&t.includes(s==null?void 0:s._id)?`${ee.fees_card} ${ee.fees_card_hover} ${ee.fees_card_hover_active}`:`${ee.fees_card} ${ee.fees_card_hover}`,ref:n,onClick:()=>b(s),children:[e.jsx("img",{src:"/images/profileAndCover/department-profile-img.svg"}),e.jsx("div",{className:ee.fees_card_text,children:e.jsx("h6",{children:(s==null?void 0:s.dName)??""})})]},s==null?void 0:s._id):e.jsxs("div",{className:t!=null&&t.includes(s==null?void 0:s._id)?`${ee.fees_card} ${ee.fees_card_hover} ${ee.fees_card_hover_active}`:`${ee.fees_card} ${ee.fees_card_hover}`,onClick:()=>b(s),children:[e.jsx("img",{alt:"department avatar"}),e.jsx("div",{className:ee.fees_card_text,children:e.jsx("h6",{children:(s==null?void 0:s.dName)??""})})]},s==null?void 0:s._id)),$&&e.jsx(Us,{})]})})},Xi=({did:i,instituteId:a,setRefetchWhenCreate:o})=>{const{t}=W(),[c,n]=_.useState(!1),[r,v]=_.useState({election_position:"",election_visible:"Only Department",date:""}),[C,x]=_.useState(!1),[f,$]=_.useState([]),[u,N]=_.useState(""),[T]=Un(),d=()=>{x(j=>!j)},p=j=>{const s={};for(let g in j)j[g]||(s[g]=`${g} is required!`);return f!=null&&f.length||(s.depart="depart is required!"),s},b=()=>{const j=p(r);let s=!1;for(let g in j)if(g){s=!0;break}s?N(j):(n(g=>!g),T({eid:i,createElection:{depart:f,election_position:r.election_position,election_visible:r.election_visible,date:r.date}}).then(()=>{o(!0),n(g=>!g),v({election_position:"",election_visible:"Only Institute",date:""})}).catch({}))},k=j=>{const s=Wn(j);s!=null&&s.status?v({...r,date:s==null?void 0:s.value}):v({...r,date:""})};return e.jsxs(Gs,{customStyle:{width:"486px",height:"fit-content"},children:[e.jsx("h6",{className:S.create_new_elections,children:t("new_election")}),e.jsx("hr",{className:S.create_new_elections_hr}),e.jsx(Xn,{labelText:"",type:"text",name:"election_position",placeholder:t("enter_position"),value:r.election_position,onChange:j=>v({...r,election_position:j.target.value}),errorShow:u.election_position}),e.jsx(Hn,{labelText:"",placeholder:t("election_application_starting_date"),name:"election_date",value:r.date,onDateFunction:k,customStyleContainer:{position:"relative",marginTop:"1.7vw"},errorShow:u.date}),e.jsxs("button",{className:S.set_fees_structure_btn,title:"Select Department",onClick:d,children:[e.jsx("div",{children:t("select_department")}),e.jsx("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),u.depart&&e.jsxs("div",{style:{color:"red",marginLeft:"15px"},children:["* ",t("form_require_label")]}),e.jsxs("button",{className:S.take_elections_btn,disabled:c,onClick:b,children:[e.jsx("p",{children:t("take_election")}),c&&e.jsx("div",{children:e.jsx(en,{})})]}),C&&e.jsx(Ki,{onClose:d,instituteId:a,setSelectedId:$,selectedId:f})]})},Zi=({did:i,viewAs:a,instituteId:o})=>{const[t,c]=_.useState(0),[n,r]=_.useState(!1),[v,C]=_.useState({electionId:""}),[x,f]=_.useState(""),$=N=>{f(N),c(2)},u=N=>{f(N),c(3)};return e.jsxs("div",{className:S.elections_container,children:[t===0&&a==="EVENT_MANAGER"&&e.jsx(Xi,{instituteId:o,did:i,setRefetchWhenCreate:r}),(t===1||t===2||t===3)&&e.jsx(Mn,{onViewOneApplyCandidate:$,onViewResultOfApplyCandidate:u,electionId:v,oneApplyDetail:x}),t!==2&&t!==3&&e.jsx("div",{style:{width:"343px"},children:e.jsx(Wi,{setActiveIndex:c,did:i,setElectionId:C,selectedEid:v.electionId,refetchWhenCreate:n,setRefetchWhenCreate:r,viewAs:a})}),t===2&&e.jsx(Vi,{oneApplyDetail:x,electionId:v==null?void 0:v.electionId,setOneApplyDetail:f,setActiveIndex:c}),t===3&&e.jsx(Hi,{oneApplyDetail:x})]})},Ai="_elections_container_zqf8f_1",Qi="_peventleft_zqf8f_8",Ei="_peventlefttop_zqf8f_18",Di="_peventleftbody_zqf8f_34",Oi="_peventinputContainer_zqf8f_38",ec="_pollTextareah_zqf8f_42",sc="_switchContainerh_zqf8f_43",nc="_pollTextarea_zqf8f_42",tc="_formcontent_zqf8f_93",ac="_peventlefttopflex_zqf8f_100",ic="_peventlefttopflexleft_zqf8f_107",cc="_item_zqf8f_118",rc="_select_zqf8f_125",oc="_tooltip_zqf8f_151",lc="_selectclass_zqf8f_158",dc="_selectBtn_zqf8f_162",mc="_formselect_zqf8f_177",_c="_input_border_active_zqf8f_193",hc="_formselectactive_zqf8f_197",fc="_genderh_zqf8f_201",pc="_genderplaceholder_zqf8f_210",vc="_upIcon_zqf8f_214",xc="_downIcon_zqf8f_221",uc="_itemsContainer_zqf8f_228",jc="_button_main_zqf8f_239",gc="_peventright_zqf8f_265",Nc="_peventCard_zqf8f_270",bc="_peventCardtop_zqf8f_280",Cc="_imgcontainer_zqf8f_288",kc="_issuedBookItemMidright_zqf8f_303",wc="_peventCardbottom_zqf8f_325",$c="_peventCardbottomp_zqf8f_329",Ic="_viewRowh6_zqf8f_347",Rc="_desh6_zqf8f_357",qc="_viewRowp_zqf8f_368",Tc="_viewRow_zqf8f_347",zc="_peventdetailsrighttop_zqf8f_383",yc="_peventdetailsrighttopp_zqf8f_391",Pc="_peventrightCard_zqf8f_402",Mc="_participant_zqf8f_409",Bc="_fees_zqf8f_413",Sc="_checklist_zqf8f_417",Uc="_peventdetailsrightBody_zqf8f_421",Yc="_peventdetailsrightBodyItem_zqf8f_425",Jc="_peventdetailsrightBodystudent_zqf8f_433",Fc="_peventdetailsrightBodyfees_zqf8f_441",Gc="_peventdetailsrightBodychecklist_zqf8f_448",Lc="_loader_zqf8f_465",Vc="_noData_zqf8f_475",Hc="_classRow_zqf8f_484",Wc="_viewRowContainer_zqf8f_489",Kc="_updateResult_zqf8f_493",Xc="_resultDeclared_zqf8f_507",Zc="_selectPlayers_zqf8f_513",Ac="_selectPosition_zqf8f_523",Qc="_upIconn_zqf8f_529",Ec="_downIconn_zqf8f_535",Dc="_selectPlayersActive_zqf8f_541",Oc="_selectStudentItem_zqf8f_545",er="_selectdStudentItem_zqf8f_546",sr="_options_zqf8f_565",l={elections_container:Ai,peventleft:Qi,peventlefttop:Ei,peventleftbody:Di,peventinputContainer:Oi,pollTextareah:ec,switchContainerh:sc,pollTextarea:nc,formcontent:tc,peventlefttopflex:ac,peventlefttopflexleft:ic,item:cc,select:rc,tooltip:oc,selectclass:lc,selectBtn:dc,formselect:mc,input_border_active:_c,formselectactive:hc,genderh:fc,genderplaceholder:pc,upIcon:vc,downIcon:xc,itemsContainer:uc,button_main:jc,peventright:gc,peventCard:Nc,peventCardtop:bc,imgcontainer:Cc,issuedBookItemMidright:kc,peventCardbottom:wc,peventCardbottomp:$c,viewRowh6:Ic,desh6:Rc,viewRowp:qc,viewRow:Tc,peventdetailsrighttop:zc,peventdetailsrighttopp:yc,peventrightCard:Pc,participant:Mc,fees:Bc,checklist:Sc,peventdetailsrightBody:Uc,peventdetailsrightBodyItem:Yc,peventdetailsrightBodystudent:Jc,peventdetailsrightBodyfees:Fc,peventdetailsrightBodychecklist:Gc,loader:Lc,noData:Vc,classRow:Hc,viewRowContainer:Wc,updateResult:Kc,resultDeclared:Xc,selectPlayers:Zc,selectPosition:Ac,upIconn:Qc,downIconn:Ec,selectPlayersActive:Dc,selectStudentItem:Oc,selectdStudentItem:er,options:sr};function nr({student:i,pid:a,handleSetPage:o,participativeEventStudentListRefetch:t}){var x,f,$;W();const[c]=Yn(),[n,r]=_.useState(""),v=()=>{o(),c({pid:a,sid:i==null?void 0:i._id}).then(u=>{t()}).catch(u=>{t()})},C=(x=i==null?void 0:i.participate_result)==null?void 0:x.filter(u=>(u==null?void 0:u.event)===a);return _.useEffect(()=>{var u;(C==null?void 0:C.length)>0&&r((u=C[0])==null?void 0:u.rank)},[]),e.jsxs("div",{className:l.peventdetailsrightBodyItem,children:[e.jsxs("div",{className:l.peventdetailsrightBodystudent,children:[e.jsx("div",{className:l.imgcontainer,children:e.jsx("img",{src:i!=null&&i.studentProfilePhoto?`${re}/${i==null?void 0:i.studentProfilePhoto}`:"/images/member_tab/class/default_avatar.svg",alt:""})}),e.jsxs("div",{className:l.issuedBookItemMidright,children:[e.jsxs("h6",{children:[i==null?void 0:i.studentFirstName," ",i!=null&&i.studentMiddleName?i==null?void 0:i.studentMiddleName:" "," ",i==null?void 0:i.studentLastName,"   ",n!==""?`(${n})`:""]}),e.jsxs("p",{children:["Gr No. ",i==null?void 0:i.studentGRNO]})]})]}),e.jsx("div",{className:l.peventdetailsrightBodyfees,children:(f=i==null?void 0:i.participate_event)!=null&&f.includes(a)?e.jsx("img",{src:"/images/radio-active.svg"}):e.jsx("img",{src:"/images/radio-disabled.svg"})}),e.jsx("div",{className:l.peventdetailsrightBodychecklist,children:($=i==null?void 0:i.checkList_participate_event)!=null&&$.includes(a)?e.jsx("img",{src:"/images/radio-active.svg"}):e.jsx("img",{src:"/images/radio-disabled.svg",style:{cursor:"pointer"},onClick:v})})]})}function tr({pid:i,refetchStudents:a}){const{t:o}=W(),[t,c]=Se(),[n,r]=_.useState(1),[v,C]=_.useState([]),[x,f]=_.useState(!0),[$,u]=_.useState(!1),{participativeEventStudentList:N,participativeEventStudentListRefetch:T}=hn({data:{pid:i,page:n,limit:10},skip:!i});return _.useEffect(()=>{c&&x&&r(d=>d+1)},[c,x]),_.useEffect(()=>{n&&T()},[n,T]),_.useEffect(()=>{var d;N!=null&&N.all_students&&C([...new Set([...v,...N==null?void 0:N.all_students])]),((d=N==null?void 0:N.all_students)==null?void 0:d.length)===10?f(!0):f(!1)},[N==null?void 0:N.all_students]),_.useEffect(()=>{setTimeout(()=>{u(!$)},3e3)},[]),_.useEffect(()=>{r(1),C([]),u(!1),T()},[a]),e.jsxs("div",{children:[e.jsxs("div",{className:l.peventdetailsrighttop,children:[e.jsxs("p",{className:`${l.peventdetailsrighttopp} ${l.participant}`,children:[o("participant")," ",(v==null?void 0:v.length)>0&&`(${v.length})`]}),e.jsx("p",{className:`${l.peventdetailsrighttopp} ${l.fees}`,children:o("fees")}),e.jsx("p",{className:`${l.peventdetailsrighttopp} ${l.checklist}`,children:o("checklist")})]}),e.jsx("div",{className:l.peventdetailsrightBody,children:(v==null?void 0:v.length)>0?v==null?void 0:v.map((d,p)=>e.jsx("div",{ref:t,className:l.itemsRef,children:e.jsx(nr,{student:d,pid:i,handleSetPage:()=>{r(1),C([]),u(!1)},participativeEventStudentListRefetch:T})},p)):(v==null?void 0:v.length)===0&&$===!0?e.jsx("div",{className:l.noData,children:e.jsx("img",{src:"/images/nodata.jpg",alt:""})}):e.jsx("div",{className:l.loader,children:e.jsx("img",{src:"/images/loader-transperant.svg",alt:""})})})]})}const ar={position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10},Ys={position:"absolute",left:"0",top:"2.5rem",zIndex:10};function Zs({pid:i,open:a,onClose:o,setFormData:t,formData:c,status:n,customStyleOptions:r}){var g,q;const{t:v}=W(),[C,x]=Se(),[f,$]=_.useState(1),[u,N]=_.useState([]),[T,d]=_.useState(!0),[p,b]=_.useState(!1),k=["Winner","Ist Runner","IInd Runner"],{participativeEventStudentList:j,participativeEventStudentListRefetch:s}=hn({data:{pid:i,page:f,limit:10},skip:!i});return _.useEffect(()=>{x&&T&&$(h=>h+1)},[x,T]),_.useEffect(()=>{f&&s()},[f,s]),_.useEffect(()=>{var h;j!=null&&j.all_students&&N([...new Set([...u,...j==null?void 0:j.all_students])]),((h=j==null?void 0:j.all_students)==null?void 0:h.length)===10?d(!0):d(!1)},[j==null?void 0:j.all_students]),_.useEffect(()=>{setTimeout(()=>{b(!p)},3e3)},[]),a?e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:o,style:ar}),n==="student"&&e.jsx("div",{style:r||Ys,className:l.options,children:(u==null?void 0:u.length)>0?u==null?void 0:u.map((h,z)=>e.jsxs("div",{ref:C,className:l.selectStudentItem,onClick:()=>{t({...c,winner:h}),o()},children:[e.jsx("div",{className:l.imgcontainer,children:e.jsx("img",{src:h!=null&&h.studentProfilePhoto?`${re}/${h==null?void 0:h.studentProfilePhoto}`:"/images/member_tab/class/default_avatar.svg",alt:""})}),e.jsxs("div",{className:l.issuedBookItemMidright,children:[e.jsxs("h6",{children:[h==null?void 0:h.studentFirstName," ",h!=null&&h.studentMiddleName?h==null?void 0:h.studentMiddleName:" "," ",h==null?void 0:h.studentLastName]}),e.jsxs("p",{children:["Gr No. ",h==null?void 0:h.studentGRNO]})]})]},z)):e.jsx("div",{className:l.moDataText,children:v("no_student_found")})}),n==="runnerUp"&&e.jsx("div",{style:r||Ys,className:l.options,children:(u==null?void 0:u.length)>0?(g=u==null?void 0:u.filter(h=>{var z;if((h==null?void 0:h._id)!==((z=c==null?void 0:c.winner)==null?void 0:z._id))return h}))==null?void 0:g.map((h,z)=>e.jsxs("div",{ref:C,className:l.selectStudentItem,onClick:()=>{t({...c,runnerUp:h}),o()},children:[e.jsx("div",{className:l.imgcontainer,children:e.jsx("img",{src:h!=null&&h.studentProfilePhoto?`${re}/${h==null?void 0:h.studentProfilePhoto}`:"/images/member_tab/class/default_avatar.svg",alt:""})}),e.jsxs("div",{className:l.issuedBookItemMidright,children:[e.jsxs("h6",{children:[h==null?void 0:h.studentFirstName," ",h!=null&&h.studentMiddleName?h==null?void 0:h.studentMiddleName:" "," ",h==null?void 0:h.studentLastName]}),e.jsxs("p",{children:["Gr No. ",h==null?void 0:h.studentGRNO]})]})]},z)):e.jsx("div",{className:l.moDataText,children:v("no_student_found")})}),n==="rsecondRunnerUp"&&e.jsx("div",{style:r||Ys,className:l.options,children:(u==null?void 0:u.length)>0?(q=u==null?void 0:u.filter(h=>{var z,m;if((h==null?void 0:h._id)!==((z=c==null?void 0:c.winner)==null?void 0:z._id)&&(h==null?void 0:h._id)!==((m=c==null?void 0:c.runnerUp)==null?void 0:m._id))return h}))==null?void 0:q.map((h,z)=>e.jsxs("div",{ref:C,className:l.selectStudentItem,onClick:()=>{t({...c,secondRunnerUp:h}),o()},children:[e.jsx("div",{className:l.imgcontainer,children:e.jsx("img",{src:h!=null&&h.studentProfilePhoto?`${re}/${h==null?void 0:h.studentProfilePhoto}`:"/images/member_tab/class/default_avatar.svg",alt:""})}),e.jsxs("div",{className:l.issuedBookItemMidright,children:[e.jsxs("h6",{children:[h==null?void 0:h.studentFirstName," ",h!=null&&h.studentMiddleName?h==null?void 0:h.studentMiddleName:" "," ",h==null?void 0:h.studentLastName]}),e.jsxs("p",{children:["Gr No. ",h==null?void 0:h.studentGRNO]})]})]},z)):e.jsx("div",{className:l.moDataText,children:v("no_student_found")})}),n==="result"&&e.jsx("div",{style:r||Ys,className:l.options,children:k==null?void 0:k.map((h,z)=>e.jsx("div",{className:l.selectStudentItem,onClick:()=>{t({...c,rank:h}),o()},children:h},z))})]}):null}function ir({pid:i,setUpdateResult:a,refetchStudents:o,setRefetchStudents:t,participativeEventDetailsRefetch:c,did:n}){var d,p,b,k,j,s,g,q,h,z,m,w,I,F,G,P,Y,M,L,Z,D,oe,le,de,me,_e,he,fe,pe,ve;const{t:r}=W(),[v,C]=_.useState(!1),[x]=Jn(),[f,$]=_.useState({sid:"",rank:"",student:{},winner:{},runnerUp:{},secondRunnerUp:{}}),[u,N]=_.useState({student:!1,runnerUp:!1,secondRunnerUp:!1,result:!1}),T=()=>{C(!0),x({pid:i,did:n,result_set:[{sid:f.winner._id,rank:"Winner"},{sid:f.runnerUp._id,rank:"Ist Runner"},{sid:f.secondRunnerUp._id,rank:"IInd Runner"}]}).then(U=>{C(!1),t(!o),c(),a(!1)}).catch(U=>{C(!1),t(!o)})};return e.jsxs("div",{className:l.peventleft,children:[e.jsx("div",{className:l.peventCardtop,children:r("update_result")}),e.jsxs("div",{className:l.peventleftbody,children:[e.jsxs("div",{className:u.student?`${l.selectPlayers} ${l.selectPlayersActive}`:l.selectPlayers,onClick:()=>N({...u,student:!u.student}),children:[(d=f.winner)!=null&&d._id?e.jsxs("div",{className:l.selectdStudentItem,children:[e.jsx("div",{className:l.imgcontainer,children:e.jsx("img",{src:(p=f.winner)!=null&&p.studentProfilePhoto?`${re}/${(b=f.winner)==null?void 0:b.studentProfilePhoto}`:"/images/member_tab/class/default_avatar.svg",alt:""})}),e.jsxs("div",{className:l.issuedBookItemMidright,children:[e.jsxs("h6",{children:[(k=f.winner)==null?void 0:k.studentFirstName," ",(j=f.winner)!=null&&j.studentMiddleName?(s=f.winner)==null?void 0:s.studentMiddleName:" "," ",(g=f.winner)==null?void 0:g.studentLastName,`(${r("winner")})`]}),e.jsxs("p",{children:["Gr No. ",(q=f.winner)==null?void 0:q.studentGRNO]})]})]}):e.jsxs("div",{className:l.selectPosition,children:[r("select_winner"),u.student?e.jsx("img",{className:`${l.upIconn} `,src:`${ce}/up-triangle-icon.svg`,alt:""}):e.jsx("img",{className:l.downIconn,src:`${ce}/downn-icon.svg`,alt:""})]}),e.jsx(Zs,{pid:i,open:u.student,onClose:()=>N({...u,student:!1}),setFormData:$,formData:f,status:"student"})]}),((h=f==null?void 0:f.winner)==null?void 0:h._id)&&e.jsxs("div",{className:u.runnerUp?`${l.selectPlayers} ${l.selectPlayersActive}`:l.selectPlayers,onClick:()=>N({...u,runnerUp:!u.runnerUp}),children:[(z=f.runnerUp)!=null&&z._id?e.jsxs("div",{className:l.selectdStudentItem,children:[e.jsx("div",{className:l.imgcontainer,children:e.jsx("img",{src:(m=f.runnerUp)!=null&&m.studentProfilePhoto?`${re}/${(w=f.runnerUp)==null?void 0:w.studentProfilePhoto}`:"/images/member_tab/class/default_avatar.svg",alt:""})}),e.jsxs("div",{className:l.issuedBookItemMidright,children:[e.jsxs("h6",{children:[(I=f.runnerUp)==null?void 0:I.studentFirstName," ",(F=f.runnerUp)!=null&&F.studentMiddleName?(G=f.runnerUp)==null?void 0:G.studentMiddleName:" "," ",(P=f.runnerUp)==null?void 0:P.studentLastName,"  "," ",`(${r("runner_up")})`]}),e.jsxs("p",{children:["Gr No. ",(Y=f.runnerUp)==null?void 0:Y.studentGRNO]})]})]}):e.jsxs("div",{className:l.selectPosition,children:[r("select_runner"),u.runnerUp?e.jsx("img",{className:`${l.upIconn} `,src:`${ce}/up-triangle-icon.svg`,alt:""}):e.jsx("img",{className:l.downIconn,src:`${ce}/downn-icon.svg`,alt:""})]}),e.jsx(Zs,{pid:i,open:u.runnerUp,onClose:()=>N({...u,runnerUp:!1}),setFormData:$,formData:f,status:"runnerUp"})]}),((M=f==null?void 0:f.winner)==null?void 0:M._id)&&((L=f==null?void 0:f.runnerUp)==null?void 0:L._id)&&e.jsxs("div",{className:u.secondRunnerUp?`${l.selectPlayers} ${l.selectPlayersActive}`:l.selectPlayers,onClick:()=>N({...u,secondRunnerUp:!u.secondRunnerUp}),children:[(Z=f.secondRunnerUp)!=null&&Z._id?e.jsxs("div",{className:l.selectdStudentItem,children:[e.jsx("div",{className:l.imgcontainer,children:e.jsx("img",{src:(D=f.secondRunnerUp)!=null&&D.studentProfilePhoto?`${re}/${(oe=f.secondRunnerUp)==null?void 0:oe.studentProfilePhoto}`:"/images/member_tab/class/default_avatar.svg",alt:""})}),e.jsxs("div",{className:l.issuedBookItemMidright,children:[e.jsxs("h6",{children:[(le=f.secondRunnerUp)==null?void 0:le.studentFirstName," ",(de=f.secondRunnerUp)!=null&&de.studentMiddleName?(me=f.secondRunnerUp)==null?void 0:me.studentMiddleName:" "," ",(_e=f.secondRunnerUp)==null?void 0:_e.studentLastName,"  ",`(${r("second_runner")})`]}),e.jsxs("p",{children:["Gr No. ",(he=f.secondRunnerUp)==null?void 0:he.studentGRNO]})]})]}):e.jsxs("div",{className:l.selectPosition,children:[r("select_second_runner"),u.secondRunnerUp?e.jsx("img",{className:`${l.upIconn} `,src:`${ce}/up-triangle-icon.svg`,alt:""}):e.jsx("img",{className:l.downIconn,src:`${ce}/downn-icon.svg`,alt:""})]}),e.jsx(Zs,{pid:i,open:u.secondRunnerUp,onClose:()=>N({...u,secondRunnerUp:!1}),setFormData:$,formData:f,status:"rsecondRunnerUp"})]}),((fe=f==null?void 0:f.winner)==null?void 0:fe._id)&&((pe=f==null?void 0:f.runnerUp)==null?void 0:pe._id)&&((ve=f==null?void 0:f.secondRunnerUp)==null?void 0:ve._id)&&e.jsxs("div",{className:l.updateResult,onClick:T,children:[r("update_result")," ",v&&e.jsx("div",{style:{marginTop:"0.7vw"},children:e.jsx(en,{})})]})]})]})}function cr({pid:i}){var C,x,f,$,u,N,T,d,p,b,k,j,s,g,q;const{t:a}=W(),[o,t]=_.useState(!1),[c,n]=_.useState(!1),{participativeEventDetails:r,participativeEventDetailsRefetch:v}=Fn({pid:i,skip:!i});return e.jsxs("div",{className:l.elections_container,children:[o?e.jsx(ir,{pid:i,setUpdateResult:t,refetchStudents:c,setRefetchStudents:n,participativeEventDetailsRefetch:v,did:(f=(x=(C=r==null?void 0:r.part)==null?void 0:C.department)==null?void 0:x[0])==null?void 0:f._id}):e.jsxs("div",{className:l.peventleft,children:[e.jsxs("div",{className:l.peventCardtop,children:[e.jsx("div",{className:l.imgcontainer,children:e.jsx("img",{src:"/images/participativeEvent/participate-icon.svg",alt:""})}),e.jsxs("div",{className:l.issuedBookItemMidright,children:[e.jsx("h6",{children:($=r==null?void 0:r.part)==null?void 0:$.event_name}),e.jsx("p",{children:X((u=r==null?void 0:r.part)==null?void 0:u.event_date).format("Do MMM YYYY")})]})]}),e.jsxs("div",{className:l.peventleftbody,children:[e.jsxs("div",{className:l.viewRow,children:[e.jsx("p",{className:l.viewRowp,children:a("about_event")}),e.jsx("h6",{className:l.viewRowh6,children:(N=r==null?void 0:r.part)==null?void 0:N.event_about})]}),e.jsxs("div",{className:l.viewRow,children:[e.jsx("p",{className:l.viewRowp,children:a("selected_class")}),(d=(T=r==null?void 0:r.part)==null?void 0:T.event_classes)==null?void 0:d.map((h,z)=>{var m,w;return((w=(m=r==null?void 0:r.part)==null?void 0:m.event_classes)==null?void 0:w.length)===z+1?e.jsxs("h6",{className:l.viewRowh6,children:[a("std")," ",h==null?void 0:h.className,"-",a("class")," ",h==null?void 0:h.classTitle]}):e.jsxs("h6",{className:l.viewRowh6,children:[a("std")," ",h==null?void 0:h.className,"-",a("class")," ",h==null?void 0:h.classTitle,","]})})]}),e.jsxs("div",{className:l.viewRowContainer,children:[e.jsxs("div",{className:l.viewRow,style:{width:"50%"},children:[e.jsx("p",{className:l.viewRowp,children:a("last_date_to_application")}),e.jsxs("h6",{className:l.viewRowh6,children:[" ",X((p=r==null?void 0:r.part)==null?void 0:p.event_date).format("Do MMM YYYY")]})]}),e.jsxs("div",{className:l.viewRow,style:{width:"50%"},children:[e.jsx("p",{className:l.viewRowp,children:a("checklist")}),e.jsx("h6",{className:l.viewRowh6,children:(b=r==null?void 0:r.part)==null?void 0:b.event_checklist_critiria})]})]}),e.jsxs("div",{className:l.viewRowContainer,children:[e.jsxs("div",{className:l.viewRow,style:{width:"50%"},children:[e.jsx("p",{className:l.viewRowp,children:a("fees")}),e.jsx("h6",{className:l.viewRowh6,children:(k=r==null?void 0:r.part)!=null&&k.event_fee?`Rs. ${(j=r==null?void 0:r.part)==null?void 0:j.event_fee} /-`:"Rs. 0 /-"})]}),e.jsxs("div",{className:l.viewRow,style:{width:"50%"},children:[e.jsx("p",{className:l.viewRowp,children:a("rank")}),e.jsx("h6",{className:l.viewRowh6,children:(s=r==null?void 0:r.part)==null?void 0:s.event_ranking_critiria})]})]}),((g=r==null?void 0:r.part)==null?void 0:g.result_notification)==="Declared"?e.jsx("div",{className:`${l.updateResult} ${l.resultDeclared}`,children:a("result_declared")}):((q=r==null?void 0:r.part)==null?void 0:q.event_ranking_critiria)==="Yes"?e.jsx("div",{className:l.updateResult,onClick:t,children:a("update_result")}):""]})]}),e.jsx("div",{className:`${l.peventright} ${l.itemsContainer} ${l.peventrightCard}`,children:e.jsx(tr,{pid:i,refetchStudents:c})})]})}const rr="_options_1q5km_1",or="_option_1q5km_1",cn={options:rr,option:or},lr={position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10},dr={position:"absolute",left:"0",top:"2.1rem",zIndex:10};function As({open:i,onClose:a,setFormData:o,formData:t,status:c,customStyleOptions:n}){const r=["Yes","No"],{t:v}=W(),C=x=>{c==="checklist"?o({...t,event_checklist_critiria:x}):c==="rank"?o({...t,event_ranking_critiria:x}):c==="fee"&&o({...t,event_fee_critiria:x}),a()};return i?e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:a,style:lr}),e.jsx("div",{style:n||dr,className:cn.options,children:r.map((x,f)=>e.jsx("div",{className:cn.option,onClick:()=>C(x),children:v(x==="Yes"?"yes":"no")},f))})]}):null}const mr="_standerd_1d5hs_1",_r="_selectoption_1d5hs_20",hr="_options_1d5hs_37",fr="_background_1d5hs_41",Xe={standerd:mr,selectoption:_r,options:hr,background:fr};function pr({classMaster:i,indexNumber:a,setClassMasterIndex:o,classMasterIndex:t,createFees:c,setCreateFees:n,participateData:r,setParticipateData:v,status:C}){var T;const[x,f]=_.useState(!1),{t:$}=W(),u=()=>{o(x?"":a),f(d=>!d)},N=d=>{if(C==="participate"){const p=[...r.classes];if(p!=null&&p.includes(d)){const b=p==null?void 0:p.indexOf(d);p==null||p.splice(b,1)}else p.push(d);v({...r,classes:p})}else{const p=[...c.ClassId];if(p!=null&&p.includes(d)){const b=p==null?void 0:p.indexOf(d);p==null||p.splice(b,1)}else p.push(d);n({...c,ClassId:p})}};return e.jsxs("div",{children:[e.jsxs("div",{className:Xe.standerd,onClick:u,children:[i==null?void 0:i.className,t===a?e.jsx("img",{src:"/images/members/radio-btn-active.svg",alt:""}):e.jsx("img",{src:"/images/members/radio-btn.svg",alt:""})]}),x&&e.jsx("div",{className:Xe.options,children:(T=i==null?void 0:i.classDivision)==null?void 0:T.map(d=>{var p,b;return e.jsxs("div",{className:(p=c==null?void 0:c.ClassId)!=null&&p.includes(d==null?void 0:d._id)?`${Xe.selectoption} ${Xe.background}`:(b=r==null?void 0:r.classes)!=null&&b.includes(d==null?void 0:d._id)?`${Xe.selectoption} ${Xe.background}`:Xe.selectoption,onClick:()=>N(d==null?void 0:d._id),children:[$("Class")," - ",d==null?void 0:d.classTitle]},d==null?void 0:d._id)})})]})}function vr({did:i,bid:a,participativeEventListRefetch:o,handleSetPage:t,instituteId:c}){var Z,D,oe,le,de,me,_e,he,fe,pe,ve;const{t:n}=W(),[r,v]=_.useState(),[C,x]=_.useState(!1),[f,$]=_.useState(!1),[u]=Gn(),[N,T]=_.useState(null),[d,p]=_.useState(),[b,k]=_.useState({ranking:!1,checklist:!1,fee:!1}),[j,s]=_.useState({msg:"",run:!1}),[g,q]=_.useState({event_name:"",date:"",lastDate:"",event_about:"",event_fee:"",event_fee_critiria:"",event_checklist_critiria:"",event_ranking_critiria:"",classes:[],depart:[]}),[h,z]=_.useState({did:"",bid:""}),m=U=>{const Q=Js(U);Q[0]?v(Q[1]):s({msg:"Pleae Select Upcoming date",run:!0})},w=U=>{const Q=Js(U);Q[0]?p(Q[1]):s({msg:"Pleae Select Upcoming date",run:!0})},{allDepartment:I,allDepartmentRefetch:F}=_n({id:c,skip:!c});Be.useEffect(()=>{c&&F()},[c,F]);const{departmentAllClassMaster:G,departmentAllClassMasterRefetch:P}=Ln({data:{did:(Z=h.did)==null?void 0:Z._id,bid:h.bid,page:1,limit:20},skip:!((D=h.did)!=null&&D._id)||!h.bid});Be.useEffect(()=>{var U;(U=h.did)!=null&&U._id&&h.bid&&P()},[(oe=h.did)==null?void 0:oe._id,h.bid,P]),_.useEffect(()=>{r&&(q({...g,date:r}),d&&q({...g,lastDate:d}))},[r,d]);const Y=document.querySelector("textarea");Y==null||Y.addEventListener("keyup",U=>{Y.style.height="auto";let Q=U.target.scrollHeight;Y.style.height=`${Q}px`});const M=U=>{z(Q=>({...Q,bid:U==null?void 0:U.departmentSelectBatch,did:U})),q(Q=>({...Q,depart:[U==null?void 0:U._id]}))},L=()=>{x(!0),u({did:i,participateData:g}).then(()=>{t(),q({event_name:"",date:"",lastDate:"",event_about:"",event_fee:"",event_fee_critiria:"",event_checklist_critiria:"",event_ranking_critiria:"",classes:[]}),v(),p(),x(!1),o()}).catch(()=>{x(!1)})};return e.jsxs(e.Fragment,{children:[!f&&e.jsxs("div",{className:l.peventleft,children:[e.jsx("div",{className:l.peventlefttop,children:n("create_new_event")}),e.jsxs("div",{className:l.peventleftbody,children:[e.jsx("div",{className:l.peventinputContainer,children:e.jsx(ye,{type:"text",placeholder:n("pevent_name"),value:g.event_name,handleChange:U=>q({...g,event_name:U.target.value}),customStyleInput:{width:"100%",padding:"0.6rem"}})}),e.jsx("div",{className:l.peventinputContainer,children:e.jsx(Fs,{customStyleInput:{width:"100%",height:"2.2rem",padding:"1rem 0.5rem"},datePickerPosition:{top:"1rem",left:"0",borderRadius:"0.375rem",paddingBottom:"0"},dateItemStyle:{padding:"0.25rem"},iconStyle:{position:"absolute",right:"0.9rem",top:"0.6rem",height:"1rem"},range:!1,placeholder:n("select_date"),dateInput:r,setDateInput:m})}),e.jsx("div",{className:l.peventinputContainer,children:e.jsx(ye,{type:"number",placeholder:n("participate_fees"),value:g.event_fee,handleChange:U=>q({...g,event_fee:parseInt(U.target.value)}),customStyleInput:{width:"100%",padding:"0.6rem"}})}),e.jsx("textarea",{className:l.pollTextarea,id:"pollTextArea",type:"text",required:!0,placeholder:n("about_event"),value:g.event_about,onChange:U=>q({...g,event_about:U.target.value})}),e.jsx(Zn,{selectLabel:n("select_department"),selectedValue:n("select_department"),options:((le=I==null?void 0:I.institute)==null?void 0:le.depart)??[],onClick:M,openAs:"PROMOTE",viewAs:"EVENT_MANAGER",defalutValue:((de=h.did)==null?void 0:de.dName)??""}),e.jsx("div",{className:l.item,onClick:()=>$(U=>!U),children:e.jsxs("div",{className:l.select,children:[((me=g.classes)==null?void 0:me.length)>1?e.jsxs("p",{children:[(_e=g.classes)==null?void 0:_e.length," ",n("classes")]}):((he=g.classes)==null?void 0:he.length)===1?e.jsxs("p",{children:[(fe=g.classes)==null?void 0:fe.length," ",n("Class")]}):e.jsx("p",{children:n("select_classes")}),e.jsx("img",{className:l.selectclass,src:"/images/members/selectclass.svg",alt:""})]})}),e.jsx("div",{className:l.peventinputContainer,children:e.jsx(Fs,{customStyleInput:{width:"100%",height:"2.2rem",padding:"1rem 0.5rem"},datePickerPosition:{top:"-21rem",left:"-0.5rem",borderRadius:"0.375rem",paddingBottom:"0"},dateItemStyle:{padding:"0.25rem"},iconStyle:{position:"absolute",right:"0.9rem",top:"0.6rem",height:"1rem"},range:!1,placeholder:n("last_date_to_apply"),dateInput:d,setDateInput:w})}),e.jsxs("div",{className:b.checklist?`${l.formselectactive} ${l.formselect}`:l.formselect,onClick:()=>k({...b,checklist:!b.checklist}),children:[g.event_checklist_critiria&&g.event_checklist_critiria!==""?e.jsx("h6",{className:l.genderh,onClick:()=>k({...b,checklist:!0}),children:g.event_checklist_critiria}):e.jsx("h6",{className:`${l.genderplaceholder} ${l.genderh}`,onClick:()=>k({...b,checklist:!0}),children:n("checklist")}),b.checklist?e.jsx("img",{className:`${l.updownIcon} ${l.downIcon}`,src:`${ce}/up-triangle-icon.svg`,alt:""}):e.jsx("img",{className:l.upIcon,src:`${ce}/downn-icon.svg`,alt:""}),e.jsx(As,{open:b.checklist,onClose:()=>k({...b,checklist:!b.checklist}),setFormData:q,formData:g,status:"checklist"})]}),e.jsxs("div",{className:b.fee?`${l.formselectactive} ${l.formselect}`:l.formselect,onClick:()=>k({...b,fee:!b.fee}),children:[g.event_fee_critiria&&g.event_fee_critiria!==""?e.jsx("h6",{className:l.genderh,onClick:()=>k({...b,fee:!0}),children:g.event_fee_critiria}):e.jsx("h6",{className:`${l.genderplaceholder} ${l.genderh}`,onClick:()=>k({...b,fee:!0}),children:n("fees")}),b.fee?e.jsx("img",{className:`${l.updownIcon} ${l.downIcon}`,src:`${ce}/up-triangle-icon.svg`,alt:""}):e.jsx("img",{className:l.upIcon,src:`${ce}/downn-icon.svg`,alt:""}),e.jsx(As,{open:b.fee,onClose:()=>k({...b,fee:!b.fee}),setFormData:q,formData:g,status:"fee"})]}),e.jsxs("div",{className:b.ranking?`${l.formselectactive} ${l.formselect}`:l.formselect,onClick:()=>k({...b,ranking:!b.ranking}),children:[g.event_ranking_critiria&&g.event_ranking_critiria!==""?e.jsx("h6",{className:l.genderh,onClick:()=>k({...b,ranking:!0}),children:g.event_ranking_critiria}):e.jsx("h6",{className:`${l.genderplaceholder} ${l.genderh}`,onClick:()=>k({...b,ranking:!0}),children:n("ranking")}),b.ranking?e.jsx("img",{className:`${l.updownIcon} ${l.downIcon}`,src:`${ce}/up-triangle-icon.svg`,alt:""}):e.jsx("img",{className:l.upIcon,src:`${ce}/downn-icon.svg`,alt:""}),e.jsx(As,{customStyleOptions:{position:"absolute",left:"0",top:"-4rem",zIndex:"10"},open:b.ranking,onClose:()=>k({...b,ranking:!b.ranking}),setFormData:q,formData:g,status:"rank"})]}),g.event_name!==""&&g.classes.length>0&&g.event_checklist_critiria!==""&&g.event_fee_critiria!==""&&g.event_ranking_critiria!==""&&g.date!==""&&g.lastDate!==""&&g.event_about!==""&&g.event_fee!==""?e.jsxs("div",{className:l.button_main,style:{marginTop:"2rem",width:"100%",cursor:"pointer"},onClick:L,children:[e.jsx("span",{children:n("create_event")}),C&&e.jsx("div",{style:{marginTop:"0.7vw"},children:e.jsx(en,{})})]}):e.jsx(Es,{buttonText:n("create_event"),customStyleButton:{marginTop:"2rem",width:"100%"}})]}),j.run&&e.jsx(Ds,{msg:j.msg,run:j.run,setRun:()=>s({msg:"",run:!1}),postiton:"bottom",type:"error"})]}),f===!0&&e.jsxs("div",{className:`${l.peventleft} ${l.formcontent}`,children:[e.jsxs("div",{className:`${l.peventlefttop} ${l.peventlefttopflex}`,children:[e.jsxs("div",{className:`${l.peventlefttopflexleft}`,children:[e.jsx("img",{src:"/images/back.svg",alt:"back",onClick:()=>$(!1)}),n("select_class")]}),f===!0&&((pe=g.classes)!=null&&pe.length)?e.jsx("div",{className:l.selectBtn,onClick:()=>$(!1),children:n("select")}):""]}),(ve=G==null?void 0:G.classMaster)==null?void 0:ve.map((U,Q)=>e.jsx(pr,{classMaster:U,indexNumber:Q,classMasterIndex:N,setClassMasterIndex:T,participateData:g,setParticipateData:q,setClickClass:$,status:"participate"},U._id))]})]})}function xr({cardRef:i,event:a,setDetailView:o,setPid:t}){const{t:c}=W();return e.jsxs("div",{className:l.peventCard,ref:i,onClick:()=>{t(a==null?void 0:a._id),o(!0)},children:[e.jsxs("div",{className:l.peventCardtop,children:[e.jsx("div",{className:l.imgcontainer,children:e.jsx("img",{src:"/images/participativeEvent/participate-icon.svg",alt:""})}),e.jsxs("div",{className:l.issuedBookItemMidright,children:[e.jsx("h6",{children:a==null?void 0:a.event_name}),e.jsx("p",{children:X(a==null?void 0:a.event_date).format("Do MMM YYYY")})]})]}),e.jsxs("div",{className:l.peventCardbottom,children:[e.jsxs("p",{className:l.peventCardbottomp,children:[c("event_fees")," ",e.jsx("span",{children:a!=null&&a.event_fee?`Rs. ${a==null?void 0:a.event_fee}`:"Rs. 0"})]}),e.jsxs("p",{className:l.peventCardbottomp,children:[c("last_date_to_apply")," ",e.jsx("span",{children:X(a==null?void 0:a.event_app_last_date).format("Do MMM YYYY")})]})]})]})}function ur({did:i,bid:a,viewAs:o,instituteId:t}){const[c,n]=_.useState(!1),[r,v]=_.useState(""),[C,x]=Se(),[f,$]=_.useState(1),[u,N]=_.useState([]),[T,d]=_.useState(!0),[p,b]=_.useState(!1),{participativeEventList:k,participativeEventListRefetch:j}=Vn({data:{viewAs:o??"",did:i,page:f,limit:10},skip:!i});return _.useEffect(()=>{x&&T&&$(s=>s+1)},[x,T]),_.useEffect(()=>{f&&j()},[f,j]),_.useEffect(()=>{var s,g;o==="EVENT_MANAGER"?(k!=null&&k.all_participate&&N([...new Set([...u,...k==null?void 0:k.all_participate])]),((s=k==null?void 0:k.all_participate)==null?void 0:s.length)===10?d(!0):d(!1)):(k!=null&&k.part&&N([...new Set([...u,...k==null?void 0:k.part])]),((g=k==null?void 0:k.part)==null?void 0:g.length)===10?d(!0):d(!1))},[k==null?void 0:k.part,k==null?void 0:k.all_participate,o]),_.useEffect(()=>{setTimeout(()=>{b(!p)},3e3)},[]),e.jsx(e.Fragment,{children:c?e.jsx(cr,{pid:r}):e.jsxs("div",{className:l.elections_container,children:[o==="EVENT_MANAGER"&&e.jsx(vr,{did:i,bid:a,participativeEventListRefetch:j,handleSetPage:()=>{$(1),N([]),b(!1)},instituteId:t}),e.jsx("div",{className:`${l.peventright} ${l.itemsContainer}`,children:(u==null?void 0:u.length)>0?u==null?void 0:u.map((s,g)=>e.jsx("div",{ref:C,className:l.itemsRef,children:e.jsx(xr,{cardRef:C,event:s,setDetailView:n,setPid:v})},g)):(u==null?void 0:u.length)===0&&p===!0?e.jsx("div",{className:l.noData,children:e.jsx("img",{src:"/images/nodata.jpg",alt:""})}):e.jsx("div",{className:l.loader,children:e.jsx("img",{src:"/images/loader-transperant.svg",alt:""})})})]})})}function jr({onclickVal:i,carryParentState:a,eventMgt:o,eventMgtRefetch:t}){var r,v,C,x,f,$,u,N,T,d,p,b,k,j,s,g,q,h,z,m,w,I,F,G,P,Y;const{t:c}=W(),n=Os();return e.jsxs("div",{className:te.admisionApplication,children:[e.jsxs("div",{className:te.admisionApplicationTop,children:[((r=n==null?void 0:n.search)==null?void 0:r.substring(3))!=="departmet&events"&&((v=n==null?void 0:n.search)==null?void 0:v.substring(3))!=="departmet&seminars"&&e.jsxs("div",{className:te.tabs,children:[e.jsx(E,{carryParentState:a,activeTab:"event",children:e.jsx("div",{className:te.tab,children:((C=n==null?void 0:n.search)==null?void 0:C.substring(3))==="event"?e.jsx(ae,{name:c("events"),img:"/images/internal-funds.svg",imgDark:"/images/internal-funds-white.svg"}):e.jsx(ie,{name:c("events"),img:"/images/internal-funds.svg",imgDark:"/images/internal-funds-white.svg"})})}),e.jsx(E,{carryParentState:a,activeTab:"seminars",children:e.jsx("div",{className:te.tab,children:((x=n==null?void 0:n.search)==null?void 0:x.substring(3))==="seminars"?e.jsx(ae,{name:c("seminars"),img:"/images/incomes.svg",imgDark:"/images/incomes-white.svg"}):e.jsx(ie,{name:c("seminars"),img:"/images/incomes.svg",imgDark:"/images/incomes-white.svg"})})}),e.jsx(E,{carryParentState:a,activeTab:"election",children:e.jsx("div",{className:te.tab,children:((f=n==null?void 0:n.search)==null?void 0:f.substring(3))==="election"?e.jsx(ae,{name:c("elections"),img:"/images/expenses.svg",imgDark:"/images/finance/expense-white.svg"}):e.jsx(ie,{name:c("elections"),img:"/images/expenses.svg",imgDark:"/images/finance/expense-white.svg"})})}),e.jsx(E,{carryParentState:a,activeTab:"participative",children:e.jsx("div",{className:te.tab,children:(($=n==null?void 0:n.search)==null?void 0:$.substring(3))==="participative"?e.jsx(ae,{name:c("competitions"),img:"/images/members/competition.svg",imgDark:"/images/members/competition-white.svg"}):e.jsx(ie,{name:c("competitions"),img:"/images/members/competition.svg",imgDark:"/images/members/competition-white.svg"})})}),e.jsx(E,{children:((u=n==null?void 0:n.search)==null?void 0:u.substring(3))==="pending_fees"?e.jsx(ae,{name:c("pending_fees"),img:"/images/finance/pending-fees-tab-icon.svg",imgDark:"/images/finance/pending-white.svg"}):e.jsx(ie,{name:c("pending_fees"),img:"/images/finance/pending-fees-tab-icon.svg",imgDark:"/images/finance/pending-white.svg"})}),e.jsx(E,{children:((N=n==null?void 0:n.search)==null?void 0:N.substring(3))==="moderator"?e.jsx(ae,{name:c("moderators"),img:"/images/members/dsetting.svg",imgDark:"/images/members/dept-setting.svg"}):e.jsx(ie,{name:c("moderators"),img:"/images/members/dsetting.svg",imgDark:"/images/members/dept-setting.svg"})})]}),(((T=n==null?void 0:n.search)==null?void 0:T.substring(3))==="departmet&events"||((d=n==null?void 0:n.search)==null?void 0:d.substring(3))==="departmet&seminars")&&e.jsxs("div",{className:te.tabs,children:[e.jsx(E,{carryParentState:a,activeTab:"departmet&events",deptId:(p=n==null?void 0:n.state)==null?void 0:p.deptId,children:e.jsx("div",{className:te.tab,children:((b=n==null?void 0:n.search)==null?void 0:b.substring(3))==="departmet&events"?e.jsx(ae,{name:c("events"),img:"/images/internal-funds.svg",imgDark:"/images/internal-funds-white.svg"}):e.jsx(ie,{name:c("events"),img:"/images/internal-funds.svg",imgDark:"/images/internal-funds-white.svg"})})}),e.jsx(E,{carryParentState:a,activeTab:"departmet&seminars",deptId:(k=n==null?void 0:n.state)==null?void 0:k.deptId,children:e.jsx("div",{className:te.tab,children:((j=n==null?void 0:n.search)==null?void 0:j.substring(3))==="departmet&seminars"?e.jsx(ae,{name:c("seminars"),img:"/images/incomes.svg",imgDark:"/images/incomes-white.svg"}):e.jsx(ie,{name:c("seminars"),img:"/images/incomes.svg",imgDark:"/images/incomes-white.svg"})})}),e.jsx(E,{carryParentState:a,activeTab:"election",children:e.jsx("div",{className:te.tab,children:((s=n==null?void 0:n.search)==null?void 0:s.substring(3))==="election"?e.jsx(ae,{name:c("elections"),img:"/images/expenses.svg",imgDark:"/images/finance/expense-white.svg"}):e.jsx(ie,{name:c("elections"),img:"/images/expenses.svg",imgDark:"/images/finance/expense-white.svg"})})}),e.jsx(E,{carryParentState:a,activeTab:"participative",children:e.jsx("div",{className:te.tab,children:((g=n==null?void 0:n.search)==null?void 0:g.substring(3))==="participative"?e.jsx(ae,{name:c("competitions"),img:"/images/members/competition.svg",imgDark:"/images/members/competition-white.svg"}):e.jsx(ie,{name:c("competitions"),img:"/images/members/competition.svg",imgDark:"/images/members/competition-white.svg"})})}),e.jsx(E,{children:((q=n==null?void 0:n.search)==null?void 0:q.substring(3))==="pending_fees"?e.jsx(ae,{name:c("pending_fees"),img:"/images/finance/pending-fees-tab-icon.svg",imgDark:"/images/finance/pending-white.svg"}):e.jsx(ie,{name:c("pending_fees"),img:"/images/finance/pending-fees-tab-icon.svg",imgDark:"/images/finance/pending-white.svg"})}),e.jsx(E,{children:((h=n==null?void 0:n.search)==null?void 0:h.substring(3))==="moderator"?e.jsx(ae,{name:c("moderators"),img:"/images/members/dsetting.svg",imgDark:"/images/members/dept-setting.svg"}):e.jsx(ie,{name:c("moderators"),img:"/images/members/dsetting.svg",imgDark:"/images/members/dept-setting.svg"})})]})]}),e.jsxs("div",{className:te.applicationBody,children:[((z=n==null?void 0:n.search)==null?void 0:z.substring(3))==="event"&&e.jsx(za,{onclickVal:i,eventCount:o==null?void 0:o.event_count,eventMgtRefetch:t}),((m=n==null?void 0:n.search)==null?void 0:m.substring(3))==="seminars"&&e.jsx(Fi,{onclickVal:i,eventCount:o==null?void 0:o.seminar_count,eventMgtRefetch:t}),((w=n==null?void 0:n.search)==null?void 0:w.substring(3))==="departmet&events"&&e.jsx(Gi,{onclickVal:i,eventCount:o==null?void 0:o.event_count,deptId:(I=n==null?void 0:n.state)==null?void 0:I.deptId}),((F=n==null?void 0:n.search)==null?void 0:F.substring(3))==="departmet&seminars"&&e.jsx(Li,{onclickVal:i,eventCount:o==null?void 0:o.seminar_count,deptId:(G=n==null?void 0:n.state)==null?void 0:G.deptId}),((P=n==null?void 0:n.search)==null?void 0:P.substring(3))==="election"&&e.jsx(Zi,{did:(i==null?void 0:i.eventDeptId)??"",instituteId:(i==null?void 0:i.insId)??"",viewAs:"EVENT_MANAGER"}),((Y=n==null?void 0:n.search)==null?void 0:Y.substring(3))==="participative"&&e.jsx(ur,{did:(i==null?void 0:i.eventDeptId)??"",instituteId:(i==null?void 0:i.insId)??"",viewAs:"EVENT_MANAGER"})]})]})}function gr({onclickVal:i,carryParentState:a}){const o=Os(),t=Ze(r=>r.eventAdminChange),{getEventDeptDetail:c,getEventDeptDetailRefetch:n}=Tn({eid:t==null?void 0:t.eventDeptId,skip:!(t!=null&&t.eventDeptId)});return e.jsxs("div",{className:Qn.departmenthead,children:[(!o.search||o.search==="")&&e.jsx(wt,{carryParentState:a,eventMgt:c==null?void 0:c.manager}),o.search&&o.search!==""&&e.jsx(jr,{onclickVal:i,carryParentState:a,eventMgt:c==null?void 0:c.manager,eventMgtRefetch:n})]})}const Vr=()=>{var o,t,c,n;const i=Os(),a=zn();return _.useEffect(()=>{var r,v,C;a(yn.eventAdminQuery({sid:(r=i==null?void 0:i.state)==null?void 0:r.sid,insId:(v=i==null?void 0:i.state)==null?void 0:v.insId,eventDeptId:(C=i==null?void 0:i.state)==null?void 0:C.eventDeptId}))},[]),e.jsx(Pn,{index:"15",sid:((o=i==null?void 0:i.state)==null?void 0:o.sid)??"",onClickValue:{sid:(t=i==null?void 0:i.state)==null?void 0:t.sid,insId:(c=i==null?void 0:i.state)==null?void 0:c.insId,eventDeptId:(n=i==null?void 0:i.state)==null?void 0:n.eventDeptId},children:e.jsx(gr,{onclickVal:i.state,carryParentState:i==null?void 0:i.state})})};export{Vr as default};
