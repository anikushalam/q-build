import{u as P,r as c,j as s,Q as V,d as ss,n as Os,lv as Us,a1 as H,kX as Js,e as ms,t as y,S as k,c as Is,l as cs,N as Ms,lw as As}from"./index-0ca76035.js";import{s as F}from"./Hostel.module-50da11fe.js";import{ad as Gs,ae as Ws,af as Ps,ag as ds,ah as zs,ai as Ks,aj as Xs,ak as Ys,p as Zs}from"./hostel-api-9294ced1.js";import{b as W,s as U,T as Rs,a as Ds,U as Ls,c as Hs}from"./UnitRoomInfo-8df0e6b1.js";import{s as Y}from"./Funds.module-7551169c.js";import{h as Bs,I as ys,c as ks,a as Cs,b as Qs,e as Vs,d as se,f as ee,g as ae,H as ne}from"./HostelFeeStructure-1ea5513a.js";import{H as te}from"./HostelUnit-325561f6.js";import{H as re}from"./HostelRules-50c60c0f.js";import{H as ie}from"./HostelAnnouncement-db9f8dc5.js";import{s as E}from"./FeeReceipts.module-616f7049.js";import{U as Ts}from"./UniversalTab-73e7f63a.js";import{B as L}from"./BorderBottom-1dc6f53e.js";import{P as $s}from"./PopupWrapper-2578092d.js";import{J as Q}from"./JoinFormInput-82706177.js";import{s as v}from"./Deposit.module-954352af.js";import{w as me,x as ce}from"./finance-api-e818490b.js";import{P as oe}from"./PaymentModeType-555d6eae.js";import"./Tabs.module-fb9ec0a6.js";import"./CustomNormalSelectInput-0a62fa3f.js";import"./JoinForm.module-212f9bb3.js";import"./HostelFeeStructure.module-5a40a31e.js";import"./InstituteHostel.module-b6b254cc.js";import"./HostelSiteInfo.module-332fbdef.js";import"./JoinFormTextArea-394bf055.js";import"./JoinFormFileEdit-10928ae7.js";import"./ViewFileDialog-f7d48575.js";import"./Overlay-c8100e0a.js";import"./Overlay.module-9133d1bb.js";import"./SearchModalBackdrop-c4f123e6.js";import"./SearchHeader.module-b69c8942.js";import"./StringLength-ef31e6b8.js";import"./StringLength.module-75a6e080.js";import"./EditConfirm.module-344fbdb9.js";import"./AssignStaffModal-e51a4441.js";import"./search-api-b192a53f.js";import"./AssignStaffModal.module-a60b32e1.js";import"./AdmissionModerator.module-e8abdfd3.js";import"./AdmisisonRefund.module-c6c85188.js";import"./Funds.module-95df49a8.js";import"./CustomSelectDepartment-11201deb.js";import"./constant_value-4cd2b3e0.js";import"./FormCheckbox-35f4f970.js";import"./UniversalForm.module-19614663.js";import"./FormControlLabel-b4cb2fc2.js";import"./SwitchBase-e3c2ff35.js";import"./Checkbox-d3fc23de.js";import"./FormToggle-18d319d7.js";import"./Switch-4bb87998.js";import"./admission-api-925391d9.js";import"./AdmissionApplicationCalender-43db225a.js";import"./Attendence.module-1983200c.js";import"./AdmissionApplicationRequest.module-43e4e129.js";import"./CustomSuspense-25f8db15.js";import"./SelectHostelFeeStrucutre-f8ff675f.js";import"./FeesStructure.module-7a88fbbc.js";import"./ApplicationPreviewDetail-4a05e741.js";import"./JoinFormInputView-2b5b0bdd.js";import"./DatePicker-c6d0e911.js";import"./SeatingArrangement.module-3f4ae6aa.js";import"./transport-api-ee724cce.js";import"./JoinFormCalender-d186c4ef.js";import"./pdf-convertor-function-4fe9e778.js";import"./main.receipt.pdf.worker-914052f8.js";import"./numberToWords.min-081ca735.js";import"./CreateAdmissionApplication-77c82a71.js";import"./JoinFormFile-a00a41cd.js";import"./department-api-e4b13f05.js";import"./ClassCard-b1734f36.js";import"./SelectFeeStructure-915fed5c.js";import"./FeesCategoryList-3932a14a.js";import"./ButtonWithAction-aaeab9a0.js";import"./LoaderButton-56f541f9.js";import"./HostelFeesStructureList-032207fa.js";import"./NewAnnouncement.module-4f17791a.js";import"./SearchModalWrapper-0fa3f9a3.js";function os({bal:e,value:t}){return s.jsxs("div",{className:Y.balanceItem,children:[s.jsxs("p",{children:[e,":"]}),s.jsxs("p",{children:["Rs. ",t]})]})}function de({onRefetch:e,carryParentState:t,accessRole:o,accessTpye:d,hostel:a,callApi:f}){var u,j,h;const{t:i}=P(),[n,b]=c.useState(!1),[N]=Gs(),g=()=>{!o&&!d&&(a==null?void 0:a.collected_fee)>0&&(a==null?void 0:a.requested_status)==="Pending"&&(b(S=>!S),N({hid:a==null?void 0:a._id,submitAmount:{amount:a==null?void 0:a.collected_fee}}).then(()=>{e(),b(S=>!S)}).catch({}))};return s.jsxs("div",{className:Y.funds2,children:[s.jsxs("div",{className:Y.fundshead,children:[s.jsxs("h6",{children:[" ",i("hostel_fees")," "]}),s.jsx("img",{src:"/images/finance/filter-icon.svg",alt:""})]}),s.jsxs("div",{className:Y.fundscontent,children:[s.jsxs("div",{className:Y.sidebarbottomitem,children:[s.jsx("img",{alt:"not found",src:"/images/hostel/rupee-blue-icon.svg"}),s.jsxs("div",{children:[s.jsxs("p",{className:Y.namee,children:["Rs."," ",(a!=null&&a.onlineFee?a==null?void 0:a.onlineFee:0+(a==null?void 0:a.offlineFee)?a==null?void 0:a.offlineFee:0).toFixed(2)]}),s.jsxs("p",{className:Y.desig,children:[" ",i("total_hostel_fees")," "]})]})]}),s.jsx(os,{check:"false",bal:i("online_fees"),value:((u=a==null?void 0:a.onlineFee)==null?void 0:u.toFixed(2))??0}),s.jsx(os,{check:"true",bal:i("offline_fees"),value:((j=a==null?void 0:a.offlineFee)==null?void 0:j.toFixed(2))??0}),s.jsx(os,{check:"true",bal:i("cash_with_me"),value:((h=a==null?void 0:a.collected_fee)==null?void 0:h.toFixed(2))??0}),s.jsx("div",{className:Y.fundbtn,onClick:g,style:{color:"#ffffff",backgroundColor:"#1c023b",opacity:o?"0.5":"1"},children:(a==null?void 0:a.requested_status)==="Pending"?`${i("submit")} ${i("submit_cash_to_finance_manager")}`:`${i("requested")} ${i("submit_cash_to_finance_manager")}`}),s.jsx(W,{carryParentState:t,activeTab:"remaining",accessRole:o,callApi:f,children:s.jsxs("div",{className:Y.fundbtn,children:[i("total_pending_fees")," : Rs. ",a==null?void 0:a.remainingFeeCount]})}),s.jsxs("div",{className:Y.fundbtn,children:[i("total_concession_fees")," : Rs. ",a==null?void 0:a.exemptAmount]})]}),n&&s.jsx(V,{})]})}function _e({hostel:e,onRefetch:t,carryParentState:o,accessRole:d,accessTpye:a,callApi:f}){var b,N,g,u,j,h,S,r,x,w,_,I,T,p;const{t:i}=P(),n=ss();return s.jsx("div",{className:U.MiddleContent,style:((b=n==null?void 0:n.search)==null?void 0:b.substring(9))==="category"||((N=n==null?void 0:n.search)==null?void 0:N.substring(9))==="structure"?{marginTop:"0"}:{color:"inherit"},children:s.jsxs("div",{className:U.MiddleContentLeft,children:[s.jsx("div",{className:U.tabs,children:s.jsx(Rs,{search:n==null?void 0:n.search,carryParentState:o})}),!(n!=null&&n.search)&&s.jsxs("div",{className:U.item,children:[s.jsx(W,{carryParentState:o,activeTab:"notice",accessRole:d,accessTpye:a,callApi:f,children:s.jsxs("div",{className:U.itemIcon,children:[s.jsx("img",{src:"/images/member_tab/hostel/hostel-announcement-icon.svg",alt:"moderator icon"}),s.jsx("p",{children:i("announcement_notices")})]})}),s.jsx(W,{carryParentState:o,activeTab:"unit",accessRole:d,accessTpye:a,callApi:f,children:s.jsxs("div",{className:U.itemIcon,children:[s.jsx("img",{src:"/images/member_tab/hostel/hostel-unit-icon.svg",alt:"completed"}),s.jsx("p",{children:i("hostel_unit")})]})}),s.jsx(W,{carryParentState:o,activeTab:d!=="RENEWAL_UNIT_ACCESS"?"request":"request&unit&renewal",accessRole:d,accessTpye:a,callApi:f,children:s.jsxs("div",{className:U.itemIcon,children:[s.jsx("img",{src:"/images/member_tab/hostel/hostel-renewal-icon.svg",alt:"inquery"}),s.jsx("p",{children:i("admission_renewal")})]})}),s.jsx(W,{carryParentState:o,activeTab:"hostelites",accessRole:d,accessTpye:a,callApi:f,children:s.jsxs("div",{className:U.itemIcon,children:[s.jsx("img",{src:"/images/member_tab/hostel/hostel-hostelite-icon.svg",alt:"inquery"}),s.jsx("p",{children:i("total_hostelites")})]})}),s.jsx(W,{carryParentState:o,activeTab:"warden",accessRole:d,accessTpye:a,callApi:f,children:s.jsxs("div",{className:U.itemIcon,children:[s.jsx("img",{src:"/images/member_tab/hostel/hostel-warden-icon.svg",alt:"Class Catalog"}),s.jsx("p",{children:i("staff_room")})]})}),s.jsx(W,{carryParentState:o,activeTab:"receipt&n=request",accessRole:d,accessTpye:a,callApi:f,children:s.jsxs("div",{className:U.itemIcon,children:[s.jsx("img",{src:"/images/member_tab/admission/admission-receipt-icon.svg",alt:"refund"}),s.jsx("p",{children:i("admission_payment_verification")})]})}),s.jsx(W,{carryParentState:o,activeTab:"pending",accessRole:d,accessTpye:a,callApi:f,children:s.jsxs("div",{className:U.itemIcon,children:[s.jsx("img",{src:"/images/member_tab/finance/finance-pending-icon.svg",alt:"refund"}),s.jsx("p",{children:i("pending_fees")})]})}),s.jsx(W,{activeTab:"deposit",carryParentState:o,accessRole:d,accessTpye:a,callApi:f,children:s.jsxs("div",{className:U.itemIcon,children:[s.jsx("img",{src:"/images/member_tab/finance/finance-deposit-icon.svg",alt:"refund"}),s.jsx("p",{children:i("finance_deposit")})]})}),s.jsx(W,{carryParentState:o,activeTab:"form",accessRole:d,accessTpye:a,callApi:f,children:s.jsxs("div",{className:U.itemIcon,children:[s.jsx("img",{src:"/images/member_tab/hostel/hostel-form-icon.svg",alt:"inquery"}),s.jsx("p",{children:i("hostel_admission_form_details")})]})}),s.jsx(W,{carryParentState:o,activeTab:"rule",accessRole:d,accessTpye:a,callApi:f,children:s.jsxs("div",{className:U.itemIcon,children:[s.jsx("img",{src:"/images/member_tab/hostel/hostel-rule-icon.svg",alt:"moderator icon"}),s.jsx("p",{children:i("rules_and_regulation")})]})}),s.jsx(W,{carryParentState:o,activeTab:"export",accessRole:d,accessTpye:a,callApi:f,children:s.jsxs("div",{className:U.itemIcon,children:[s.jsx("img",{src:"/images/member_tab/finance/finance-export-icon.svg",alt:"refund"}),s.jsx("p",{children:i("data_exporting")})]})}),s.jsx(W,{carryParentState:o,activeTab:"moderator",accessRole:d,accessTpye:a,callApi:f,children:s.jsxs("div",{className:U.itemIcon,children:[s.jsx("img",{src:"/images/member_tab/admission/admission-moderator-icon.svg",alt:"moderator icon"}),s.jsx("p",{children:i("hostel_moderator")})]})}),s.jsx(W,{carryParentState:o,activeTab:"batch",accessRole:d,accessTpye:a,callApi:f,children:s.jsxs("div",{className:U.itemIcon,children:[s.jsx("img",{src:"/images/member_tab/hostel/hostel-batch-icon.svg",alt:"completed"}),s.jsx("p",{children:i("hostel_tab_batch")})]})}),s.jsx(W,{carryParentState:o,activeTab:"linked",accessRole:d,accessTpye:a,callApi:f,children:s.jsxs("div",{className:U.itemIcon,children:[s.jsx("img",{src:"/images/member_tab/transport/transport-institute-link-icon.svg",alt:"completed"}),s.jsx("p",{children:i("linked_institute")})]})})]}),((g=n==null?void 0:n.search)==null?void 0:g.substring(3))==="fund"&&s.jsx("div",{className:U.classList,children:s.jsx(de,{hostel:e,onRefetch:t,carryParentState:o,accessRole:d,callApi:f})}),((u=n==null?void 0:n.search)==null?void 0:u.substring(3,6))==="fee"&&s.jsx(Bs,{financeId:(S=(h=(j=e==null?void 0:e.institute)==null?void 0:j.financeDepart)==null?void 0:h[0])==null?void 0:S._id,fees_category_count:(w=(x=(r=e==null?void 0:e.institute)==null?void 0:r.financeDepart)==null?void 0:x[0])==null?void 0:w.fees_category_count,fee_master_array_count:(T=(I=(_=e==null?void 0:e.institute)==null?void 0:_.financeDepart)==null?void 0:I[0])==null?void 0:T.fee_master_array_count,fee_structure_count:e==null?void 0:e.fees_structures_count,carryParentState:o,accessRole:d,hostelId:e==null?void 0:e._id,instituteId:(p=e==null?void 0:e.institute)==null?void 0:p._id,callApi:f})]})})}const le=({hostel:e,onRefetch:t,carryParentState:o,activatedRole:d,hid:a,callApi:f})=>{var O,M,G,K,z,X;const{t:i}=P(),n=ss(),b=Os(),[N,g]=c.useState(""),[u,j]=c.useState(""),[h,S]=c.useState(!1),[r,x]=c.useState(!1),[w,_]=c.useState(""),[I]=Ws(),[T,p]=c.useState(!1);c.useEffect(()=>{if(r){p(A=>!A);let q=new FormData;q.append("file",u),I({uploadFile:q,hid:a}).then(()=>{p(A=>!A)}).catch({})}},[r,u]);const l=q=>{const A=URL.createObjectURL(q.target.files[0]);j(q.target.files[0]),_(A),g(A),S(!0)};return s.jsxs(s.Fragment,{children:[((O=n==null?void 0:n.search)==null?void 0:O.substring(9))!=="category"&&((M=n==null?void 0:n.search)==null?void 0:M.substring(9))!=="structure"&&s.jsx(Us,{coverKey:e==null?void 0:e.hostel_photo,coverId:e!=null&&e.hostel_photo?"0":"2",defaultCover:"/images/profileAndCover/hostel-cover.svg",textLarge:i("hostel_manager"),textSmall:`${((G=e==null?void 0:e.hostel_manager)==null?void 0:G.staffFirstName)??""} ${((K=e==null?void 0:e.hostel_manager)==null?void 0:K.staffMiddleName)??""} ${((z=e==null?void 0:e.hostel_manager)==null?void 0:z.staffLastName)??""}`,count1:e==null?void 0:e.bed_count,count1label:i("hostel_beds"),count2:e==null?void 0:e.room_count,count2label:i("hostel_rooms"),profilePhoto:w,profileChange:l,openCrop:h,setOpenCrop:S,setPhotoURL:g,photoURL:N,setFile:j,setUpload:x,setProfilePhoto:_,viewAs:!(d!=null&&d.access_role),redirectUrl:`/q/${b.username}/member/hostel?a=site`,coverUpdate:!0,openAs:"HOSTEL_MANAGER",coverImageStyle:{height:"auto"},carryParentState:o}),s.jsx(_e,{hostel:e,onRefetch:t,carryParentState:o,accessRole:d==null?void 0:d.access_role,accessTpye:((X=d==null?void 0:d.active_tab)==null?void 0:X.role)??"Application",callApi:f}),T&&s.jsx(V,{})]})},he=({reqId:e,receipt:t,hid:o,onReceiptToggle:d,onRefetch:a,showAs:f})=>{var w,_,I,T;const{t:i}=P(),[n,b]=c.useState(""),[N,g]=c.useState(!0),[u,j]=c.useState(!1),h=()=>{},[S]=Ps(),r=p=>{const l=window.open(p,"_blank","noopener,noreferrer");l&&(l.opener=null)},x=()=>{j(p=>!p),S({hid:o,rid:t==null?void 0:t._id,reqId:e,status:f==="REJECTED"?N?"Over_Rejection":"Rejection_Notify":N?"Approved":"Rejected",receiptReason:{reason:n}}).then(()=>{a(),j(p=>!p),d()}).catch(()=>{j(p=>!p)})};return s.jsxs($s,{onClose:d,children:[s.jsxs("div",{className:E.fee_request,children:[s.jsx("h6",{children:i("fee_receipt_request")}),s.jsx(L,{customStyle:{width:"30rem",marginTop:"0.7rem"}}),s.jsxs("div",{className:E.fee_request_tab,children:[s.jsx("h6",{className:N?E.fee_request_tab_active:"",onClick:()=>g(!0),children:i("accept")}),s.jsx("h6",{className:N?"":E.fee_request_tab_active,onClick:()=>g(!1),children:i("reject")})]}),s.jsxs("section",{className:E.fee_request_detail,children:[s.jsxs("h6",{className:E.fee_request_detail_name,children:[i("name")," "," : "," ",`${(w=t==null?void 0:t.student)==null?void 0:w.studentFirstName} ${(_=t==null?void 0:t.student)!=null&&_.studentMiddleName?(I=t==null?void 0:t.student)==null?void 0:I.studentMiddleName:""} ${(T=t==null?void 0:t.student)==null?void 0:T.studentLastName}`]}),s.jsxs("h6",{className:E.fee_request_detail_amount,children:[i("amount")," "," : "," ",i("rs")," ",(t==null?void 0:t.fee_payment_amount)??0]}),s.jsx("h6",{className:E.fee_request_detail_date,children:H(t==null?void 0:t.created_at).format("DD MMM yyyy")})]}),N&&s.jsxs(s.Fragment,{children:[s.jsx(Q,{labelText:i("bank_name_collect"),name:"fee_bank_name",type:"tel",value:t==null?void 0:t.fee_bank_name,onChange:h,placeholder:i("please_enter_bank_name"),customStyleLabel:{marginTop:"6px",marginBottom:"7px"}}),s.jsx(Q,{labelText:i("banke_holder_name"),name:"fee_bank_holder",type:"tel",value:t==null?void 0:t.fee_bank_holder,onChange:h,placeholder:i("please_enter_name_of_bank_holder"),customStyleLabel:{marginTop:"6px",marginBottom:"7px"}}),s.jsx(Q,{labelText:i("cheque_dd_neft"),name:"fee_utr_reference",type:"tel",value:t==null?void 0:t.fee_utr_reference,onChange:h,placeholder:i("please_enter_utr_ref_number"),customStyleLabel:{marginTop:"6px",marginBottom:"7px"}}),t!=null&&t.fee_payment_acknowledge?s.jsx("button",{className:E.payment_acknowledge_btn,onClick:()=>r(`${Js}/${t==null?void 0:t.fee_payment_acknowledge}`),children:i("payment_acknowledge")}):null]}),!N&&s.jsx(Q,{labelText:i("reason_for_rejection_receipt"),name:"reason_for_rejection_receipt",type:"text",value:n,onChange:p=>b(p.target.value),placeholder:i("please_reason_for_rejection_receipt"),customStyleLabel:{marginTop:"6px",marginBottom:"7px"}}),s.jsx("button",{className:E.fee_request_confirm,onClick:x,children:i(N?"confirm":"confirm_reject")})]}),u&&s.jsx(V,{})]})},B=({receipt:e,showAs:t,hid:o,onRefetch:d})=>{var b,N,g,u,j,h,S,r,x,w,_,I,T,p,l,O;const{t:a}=P(),[f,i]=c.useState(!1),n=()=>{var M;t==="REQUEST"?i(G=>!G):(M=e==null?void 0:e.receipt)!=null&&M.re_apply&&t==="REJECTED"&&i(G=>!G)};return s.jsxs(s.Fragment,{children:[s.jsxs("section",{className:E.request_card_container,onClick:n,children:[s.jsxs("div",{className:E.request_card_info,children:[s.jsx("img",{src:(N=(b=e==null?void 0:e.receipt)==null?void 0:b.student)!=null&&N.studentProfilePhoto?`${ms}/${(u=(g=e==null?void 0:e.receipt)==null?void 0:g.student)==null?void 0:u.studentProfilePhoto}`:"/images/member_tab/class/default_avatar.svg",alt:"avatar",className:E.request_card_info_image}),s.jsxs("div",{children:[s.jsx("h6",{className:E.request_card_info_name,children:`${(h=(j=e==null?void 0:e.receipt)==null?void 0:j.student)==null?void 0:h.studentFirstName} ${(r=(S=e==null?void 0:e.receipt)==null?void 0:S.student)!=null&&r.studentMiddleName?(w=(x=e==null?void 0:e.receipt)==null?void 0:x.student)==null?void 0:w.studentMiddleName:""} ${(I=(_=e==null?void 0:e.receipt)==null?void 0:_.student)==null?void 0:I.studentLastName}`}),s.jsxs("p",{className:E.request_card_info_name,children:[a("amount")," : ",a("rs")," ",((T=e==null?void 0:e.receipt)==null?void 0:T.fee_payment_amount)||0]}),s.jsx("p",{className:E.request_card_info_date,children:H(e==null?void 0:e.created_at).format("DD MMM yyyy")})]})]}),s.jsxs("h6",{className:E.request_card_utr,children:[a("utr_number")," ",(p=e==null?void 0:e.receipt)==null?void 0:p.fee_utr_reference]}),t==="REJECTED"&&s.jsxs(s.Fragment,{children:[s.jsxs("h6",{className:E.reason_for_rejection,children:[a("reason_for_rejection")," ",((l=e==null?void 0:e.receipt)==null?void 0:l.reason)??(e==null?void 0:e.reason)]}),((O=e==null?void 0:e.receipt)==null?void 0:O.re_apply)&&s.jsx("button",{className:E.re_requested_btn,children:a("re_requested")})]})]}),f&&s.jsx(he,{receipt:e==null?void 0:e.receipt,reqId:e==null?void 0:e._id,onReceiptToggle:n,hid:o,onRefetch:d,showAs:t})]})},xe=({hid:e,search:t})=>{const{t:o}=P(),[d,a]=y(),[f,i]=c.useState(1),[n,b]=c.useState(!0),[N,g]=c.useState(!1),[u,j]=c.useState(!0),[h,S]=c.useState([]),{getReceiptListByHostel:r,getReceiptListByHostelRefetch:x}=ds({data:{hid:e,page:f,limit:10,filterBy:"ALL_REQUEST",search:t??""},skip:!e});c.useEffect(()=>{e&&(j(!0),x())},[e,f,t,x]),c.useEffect(()=>{a&&n&&i(_=>_+1)},[a,n]),c.useEffect(()=>{var _,I;t?(S(r==null?void 0:r.all_requests),j(!1)):N?(S(r==null?void 0:r.all_requests),j(!1),g(!1)):r!=null&&r.all_requests?(S(T=>[...new Set([...T,...r==null?void 0:r.all_requests].map(JSON.stringify))].map(JSON.parse)),j(!1)):((_=r==null?void 0:r.all_requests)==null?void 0:_.length)===0&&j(!1),((I=r==null?void 0:r.all_requests)==null?void 0:I.length)===10?b(!0):b(!1)},[r==null?void 0:r.all_requests]);const w=()=>{g(!0),i(1),x()};return s.jsxs("div",{className:E.all_request_container,children:[s.jsxs("h6",{className:E.total_request,children:[o("total_request")," ",(r==null?void 0:r.count)??0]}),h==null?void 0:h.map((_,I)=>(h==null?void 0:h.length)===I+1?s.jsx("div",{ref:d,children:s.jsx(B,{receipt:_,showAs:"REQUEST",hid:e,onRefetch:w})},_==null?void 0:_._id):s.jsx(B,{receipt:_,showAs:"REQUEST",hid:e,onRefetch:w},_==null?void 0:_._id)),u&&s.jsx(k,{})]})},fe=({hid:e,search:t})=>{const{t:o}=P(),[d,a]=y(),[f,i]=c.useState(1),[n,b]=c.useState(!0),[N,g]=c.useState(!0),[u,j]=c.useState([]),{getReceiptListByHostel:h,getReceiptListByHostelRefetch:S}=ds({data:{hid:e,page:f,limit:10,filterBy:"ALL_APPROVE",search:t??""},skip:!e});return c.useEffect(()=>{e&&(g(!0),S())},[e,f,t,S]),c.useEffect(()=>{a&&n&&i(r=>r+1)},[a,n]),c.useEffect(()=>{var r,x;t?(j(h==null?void 0:h.all_requests),g(!1)):h!=null&&h.all_requests?(j(w=>[...new Set([...w,...h==null?void 0:h.all_requests].map(JSON.stringify))].map(JSON.parse)),g(!1)):((r=h==null?void 0:h.all_requests)==null?void 0:r.length)===0&&g(!1),((x=h==null?void 0:h.all_requests)==null?void 0:x.length)===10?b(!0):b(!1)},[h==null?void 0:h.all_requests]),s.jsxs("div",{className:E.all_request_container,children:[s.jsxs("h6",{className:E.total_request,children:[o("total_request")," ",(h==null?void 0:h.count)??0]}),u==null?void 0:u.map((r,x)=>(u==null?void 0:u.length)===x+1?s.jsx("div",{ref:d,children:s.jsx(B,{receipt:r})},r==null?void 0:r._id):s.jsx(B,{receipt:r},r==null?void 0:r._id)),N&&s.jsx(k,{})]})},je=({hid:e,search:t})=>{const{t:o}=P(),[d,a]=y(),[f,i]=c.useState(1),[n,b]=c.useState(!0),[N,g]=c.useState(!1),[u,j]=c.useState(!0),[h,S]=c.useState([]),{getReceiptListByHostel:r,getReceiptListByHostelRefetch:x}=ds({data:{hid:e,page:f,limit:10,filterBy:"ALL_REJECT",search:t??""},skip:!e});c.useEffect(()=>{e&&(j(!0),x())},[e,f,t,x]),c.useEffect(()=>{a&&n&&i(_=>_+1)},[a,n]),c.useEffect(()=>{var _,I;t?(S(r==null?void 0:r.all_requests),j(!1)):N?(S(r==null?void 0:r.all_requests),j(!1),g(!1)):r!=null&&r.all_requests?(S(T=>[...new Set([...T,...r==null?void 0:r.all_requests].map(JSON.stringify))].map(JSON.parse)),j(!1)):((_=r==null?void 0:r.all_requests)==null?void 0:_.length)===0&&j(!1),((I=r==null?void 0:r.all_requests)==null?void 0:I.length)===10?b(!0):b(!1)},[r==null?void 0:r.all_requests]);const w=()=>{g(!0),i(1),x()};return s.jsxs("div",{className:E.all_request_container,children:[s.jsxs("h6",{className:E.total_request,children:[o("total_request")," ",(r==null?void 0:r.count)??0]}),h==null?void 0:h.map((_,I)=>(h==null?void 0:h.length)===I+1?s.jsx("div",{ref:d,children:s.jsx(B,{receipt:_,showAs:"REJECTED",hid:e,onRefetch:w})},_==null?void 0:_._id):s.jsx(B,{receipt:_,showAs:"REJECTED",hid:e,onRefetch:w},_==null?void 0:_._id)),u&&s.jsx(k,{})]})},be=({hid:e,carryParentState:t})=>{var h,S,r,x,w;const{t:o}=P(),d=Is(),a=ss(),f=[{name:o("all_request"),id:0,url:"member/hostel?a=receipt&n=request"},{name:o("accepted"),id:1,url:"member/hostel?a=receipt&n=accept"},{name:o("rejected"),id:2,url:"member/hostel?a=receipt&n=reject"}],[i,n]=c.useState(""),[b,N]=c.useState(""),g=()=>{d(-1)};c.useEffect(()=>{a!=null&&a.search&&(n(""),N(""))},[a==null?void 0:a.search]);const u=c.useCallback(cs.debounce(_=>n(_),500),[]),j=_=>{N(_.target.value),u(_.target.value)};return s.jsxs("div",{className:E.receipt_container,style:{marginTop:"0"},children:[s.jsxs("section",{className:E.receipt_container_title,children:[s.jsx("img",{src:"/images/arrow-left-fees-icon.svg",onClick:g,alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),s.jsxs("div",{className:E.receipt_container_title,style:{justifyContent:"space-between",width:"95%"},children:[s.jsx("h6",{children:o("fee_receipts_request")}),s.jsx("div",{className:E.search_container_filter,children:s.jsx("section",{className:E.search_container,style:{marginTop:"0"},children:s.jsxs("div",{className:E.search_container_input,children:[s.jsx("img",{className:E.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),s.jsx("input",{type:"text",placeholder:"Search receipts...",onChange:j,value:b,style:{border:"0.029vw solid rgba(0, 0, 0, 0.15)",borderRadius:"6px"}})]})})})]})]}),s.jsx(Ts,{tabList:f,activeIndexTab:((h=a==null?void 0:a.search)==null?void 0:h.substring(13))==="request"?0:((S=a==null?void 0:a.search)==null?void 0:S.substring(13))==="accept"?1:2,showAs:!0,customStyleTab:{width:"100%"},customStyleLink:{width:"33.3%"},carryParentState:t}),s.jsx(L,{}),((r=a==null?void 0:a.search)==null?void 0:r.substring(13))==="request"&&s.jsx(xe,{hid:e,search:i}),((x=a==null?void 0:a.search)==null?void 0:x.substring(13))==="accept"&&s.jsx(fe,{hid:e,search:i}),((w=a==null?void 0:a.search)==null?void 0:w.substring(13))==="reject"&&s.jsx(je,{hid:e,search:i})]})},ue=({refund_amount:e,refund_student_count:t,hid:o})=>{const{t:d}=P(),[a,f]=c.useState(!0),[i,n]=c.useState(""),[b,N]=c.useState(1),[g,u]=y(),[j,h]=c.useState([]),[S,r]=c.useState(!0),[x,w]=c.useState(!1),{getAllDepositRefundByHostel:_,getAllDepositRefundByHostelRefetch:I}=zs({data:{hid:o,page:b,limit:10,search:i},skip:!o});c.useEffect(()=>{u&&a&&N(l=>l+1)},[u,a]),c.useEffect(()=>{o&&I()},[b,o,I]),c.useEffect(()=>{var l,O;i?(h(_==null?void 0:_.all_receipts),r(!1)):x?(h(_==null?void 0:_.all_receipts),w(!1),r(!1)):_!=null&&_.all_receipts?(h(M=>[...new Set([...M,..._==null?void 0:_.all_receipts].map(JSON.stringify))].map(JSON.parse)),r(!1)):((l=_==null?void 0:_.all_receipts)==null?void 0:l.length)===0&&r(!1),((O=_==null?void 0:_.all_receipts)==null?void 0:O.length)===10?f(!0):f(!1)},[_==null?void 0:_.all_receipts]);const T=c.useCallback(cs.debounce(l=>n(l),500),[]),p=l=>{T(l.target.value)};return s.jsxs("div",{children:[s.jsxs("section",{className:v.unused_container,children:[s.jsx("img",{src:"/images/rupee-symobl-icon.svg",alt:"rupee symobl"}),s.jsxs("div",{className:v.unused_container_text,children:[s.jsxs("div",{className:v.unused_container_text_inner,children:[s.jsx("h6",{children:d("total_refunded")}),s.jsxs("h6",{children:[d("rs")," ",e??0]})]}),s.jsx("div",{className:v.unused_container_text_inner,children:s.jsxs("p",{children:[d("deposit_of")," ",t??0," ",d("deposit_student")]})})]})]}),s.jsxs("div",{className:v.with_search,style:{marginBottom:"1rem"},children:[s.jsx("h6",{children:d("refunded_history")}),s.jsx("section",{className:v.search_container,children:s.jsxs("div",{className:v.search_container_input,children:[s.jsx("img",{className:v.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),s.jsx("input",{type:"text",placeholder:"Search",onChange:p})]})})]}),s.jsxs("div",{className:v.refund_list,children:[j==null?void 0:j.map((l,O)=>{var M,G,K,z,X,q,A,R,D,Z;return(j==null?void 0:j.length)===O+1?s.jsxs("div",{className:v.corpus_card,ref:g,children:[s.jsxs("h6",{style:{textAlign:"center"},children:[d("invoice_number"),(l==null?void 0:l.invoice_count)??""]}),s.jsx("p",{className:v.recieve_from,children:d("paid_to")}),s.jsxs("div",{className:v.unused_container_text_inner,children:[s.jsx("h6",{children:`${((M=l==null?void 0:l.student)==null?void 0:M.studentFirstName)??""} ${((G=l==null?void 0:l.student)==null?void 0:G.studentMiddleName)??""} ${((K=l==null?void 0:l.student)==null?void 0:K.studentLastName)??""}`}),s.jsxs("h6",{children:[d("rs")," ",(l==null?void 0:l.fee_payment_amount)??0]})]}),s.jsxs("div",{className:v.unused_container_text_inner,children:[s.jsxs("p",{style:{color:"rgba(18, 18, 18, 0.8)"},children:[(z=H(l==null?void 0:l.created_at))==null?void 0:z.format("DD MMM yyyy"),","," ",(X=H(l==null?void 0:l.created_at))==null?void 0:X.format("LT")]}),s.jsx("p",{style:{color:"rgba(18, 18, 18, 0.8)"},children:(l==null?void 0:l.fee_payment_mode)==="Online"?"Bank":"Cash"})]})]},O):s.jsxs("div",{className:v.corpus_card,children:[s.jsxs("h6",{style:{textAlign:"center"},children:[d("invoice_number"),(l==null?void 0:l.invoice_count)??""]}),s.jsx("p",{className:v.recieve_from,children:d("paid_to")}),s.jsxs("div",{className:v.unused_container_text_inner,children:[s.jsx("h6",{children:`${((q=l==null?void 0:l.student)==null?void 0:q.studentFirstName)??""} ${((A=l==null?void 0:l.student)==null?void 0:A.studentMiddleName)??""} ${((R=l==null?void 0:l.student)==null?void 0:R.studentLastName)??""}`}),s.jsxs("h6",{children:[d("rs")," ",(l==null?void 0:l.fee_payment_amount)??0]})]}),s.jsxs("div",{className:v.unused_container_text_inner,children:[s.jsxs("p",{style:{color:"rgba(18, 18, 18, 0.8)"},children:[(D=H(l==null?void 0:l.created_at))==null?void 0:D.format("DD MMM yyyy"),","," ",(Z=H(l==null?void 0:l.created_at))==null?void 0:Z.format("LT")]}),s.jsx("p",{style:{color:"rgba(18, 18, 18, 0.8)"},children:(l==null?void 0:l.fee_payment_mode)==="Online"?"Bank":"Cash"})]})]},O)}),S&&s.jsx(k,{})]})]})},ve=({onClose:e,fmid:t,onRefecthParent:o})=>{const{t:d}=P(),[a,f]=y(),[i,n]=c.useState(1),[b,N]=c.useState(!0),[g,u]=c.useState(!0),[j,h]=c.useState([]),[S,r]=c.useState(""),[x,w]=c.useState(""),[_,I]=c.useState({amount:"",mode:"",fee_payment_mode:"",fee_payment_amount:"",transaction_date:"",fee_bank_name:"",fee_bank_holder:"",fee_utr_reference:""}),[T,p]=c.useState(""),[l,O]=c.useState(!1),[M,G]=c.useState({msg:"",run:!1}),[K,z]=c.useState(!1),[X]=me(),{getMasterDepositAllByFinance:q,getMasterDepositAllByFinanceRefetch:A}=ce({data:{search:S,page:i,limit:10,fmid:t},skip:!t});c.useEffect(()=>{t&&(u(!0),A())},[t,i,S,A]),c.useEffect(()=>{f&&b&&n(m=>m+1)},[f,b]),c.useEffect(()=>{var m,J;S?(h(q==null?void 0:q.all_students),u(!1)):l?(h(q==null?void 0:q.all_students),O(!1),u(!1)):q!=null&&q.all_students?(h($=>[...new Set([...$,...q==null?void 0:q.all_students].map(JSON.stringify))].map(JSON.parse)),u(!1)):((m=q==null?void 0:q.all_students)==null?void 0:m.length)===0&&u(!1),((J=q==null?void 0:q.all_students)==null?void 0:J.length)===10?N(!0):N(!1)},[q==null?void 0:q.all_students]);const R=c.useCallback(cs.debounce(m=>r(m),500),[]),D=m=>{R(m.target.value)},Z=()=>{w("")},es=m=>{I(J=>({...J,amount:+m.target.value,fee_payment_amount:+m.target.value}))},as=m=>{I(J=>({...J,mode:m==="By Bank"?"Online":"Offline",fee_payment_mode:m}))},ns=m=>{const J={};for(let $ in m)$==="fee_bank_name"||$==="fee_bank_holder"||$==="fee_utr_reference"||$==="amount"||$==="transaction_date"||$==="mode"||(m[$]?$==="fee_payment_amount"&&m[$]>(x==null?void 0:x.deposit_pending_amount)&&(G({msg:"You can not enter amount greater than Deposit amount",run:!0}),J.fee_payment_amount=`${$} is required!`):J[$]=`${$} is required!`);return J},ts=()=>{n(1),O(!0),A()},rs=()=>{const m=ns(_);let J=!1;for(let $ in m){J=!0;break}J?p(m):(z($=>!$),X({fmid:t,sid:x==null?void 0:x._id,refundDeposit:_}).then(()=>{ts(),o(),Z(),z($=>!$)}).catch({}))};return s.jsxs($s,{onClose:e,children:[!x&&s.jsxs("div",{className:v.student_container_modal,style:{minWidth:"43rem",maxWidth:"50rem"},children:[s.jsx("div",{className:v.with_search,style:{marginTop:"1rem",width:"100%",border:"0.4px solid rgba(0, 0, 0, 0.15)",borderRadius:"6px",marginBottom:"0.3rem"},children:s.jsxs("div",{className:v.search_container_input,style:{width:"100%"},children:[s.jsx("img",{className:v.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),s.jsx("input",{type:"text",placeholder:"Search Student...",style:{width:"100%"},onChange:D})]})}),j==null?void 0:j.map((m,J)=>{var $,C;return(j==null?void 0:j.length)===J+1?s.jsxs("section",{className:v.student_container,title:"Refund deposit",ref:a,onClick:()=>w(m),children:[s.jsx("img",{src:m.photoId!=="1"?`${ms}/${m==null?void 0:m.studentProfilePhoto}`:"/images/member_tab/class/default_avatar.svg",alt:"student avatar"}),s.jsxs("div",{className:v.conainter_main,children:[s.jsxs("div",{className:v.student_container_name,children:[s.jsx("h6",{children:`${m==null?void 0:m.studentFirstName} ${m!=null&&m.studentMiddleName?m==null?void 0:m.studentMiddleName:""} ${m==null?void 0:m.studentLastName}`}),s.jsxs("h6",{className:v.student_container_gr,children:[d("rs"),". ",(m==null?void 0:m.deposit_pending_amount)??0]})]}),s.jsxs("div",{className:v.student_container_name,children:[s.jsxs("h6",{children:[d("gr_number"),(m==null?void 0:m.studentGRNO)??""," ",", ",(($=m==null?void 0:m.department)==null?void 0:$.dName)??""]}),s.jsx("p",{className:v.student_container_gr,children:d("pending_deposit")})]})]})]},m==null?void 0:m._id):s.jsxs("section",{className:v.student_container,title:"Refund deposit",onClick:()=>w(m),children:[s.jsx("img",{src:m.photoId!=="1"?`${ms}/${m==null?void 0:m.studentProfilePhoto}`:"/images/member_tab/class/default_avatar.svg",alt:"student avatar"}),s.jsxs("div",{className:v.conainter_main,children:[s.jsxs("div",{className:v.student_container_name,children:[s.jsx("h6",{children:`${m==null?void 0:m.studentFirstName} ${m!=null&&m.studentMiddleName?m==null?void 0:m.studentMiddleName:""} ${m==null?void 0:m.studentLastName}`}),s.jsxs("h6",{className:v.student_container_gr,children:[d("rs"),". ",(m==null?void 0:m.deposit_pending_amount)??0]})]}),s.jsxs("div",{className:v.student_container_name,children:[s.jsxs("h6",{children:[d("gr_number"),(m==null?void 0:m.studentGRNO)??""," ",", ",((C=m==null?void 0:m.department)==null?void 0:C.dName)??""]}),s.jsx("p",{className:v.student_container_gr,children:d("pending_deposit")})]})]})]},m==null?void 0:m._id)}),g&&s.jsx(k,{})]}),x&&s.jsxs("div",{className:v.student_container_modal,children:[s.jsxs("section",{className:v.moderator_container_title,children:[s.jsx("img",{src:"/images/arrow-left-fees-icon.svg",onClick:Z,alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),s.jsx("div",{className:v.with_search,children:s.jsx("h6",{children:d("refund_deposit")})})]}),s.jsx(L,{customStyle:{width:"100%"}}),s.jsxs("div",{className:v.unused_container_text_inner,style:{marginTop:"1rem"},children:[s.jsx("h6",{children:d("pending_deposit")}),s.jsxs("h6",{children:[d("rs")," ",(x==null?void 0:x.deposit_pending_amount)??0]})]}),s.jsx(oe,{paymentHeading:d("payment_type_mode"),paymentHeadingPlaceholder:d("refund_cash_bank"),onInputChange:as,errorShow:T.fee_payment_mode,openAs:"DEPOSIT_REFUND_LIST"}),s.jsx(Q,{labelText:d("amount"),name:"fee_payment_amount",type:"tel",value:_==null?void 0:_.fee_payment_amount,onChange:es,placeholder:d("please_enter_amount_paid"),errorShow:T.fee_payment_amount}),s.jsx("button",{className:v.applicable_to_btn,style:{marginTop:"2rem",marginBottom:"1rem",justifyContent:"center"},onClick:rs,children:d("confirm")}),K&&s.jsx(V,{})]}),s.jsx(Ms,{msg:M.msg,run:M.run,setRun:()=>G({msg:"",run:!1}),postiton:"bottom",type:"error"})]})},Ne=({hid:e})=>{var u,j,h,S,r;const{t}=P(),o=Is(),[d,a]=c.useState(!1),f=[{name:t("deposit_collection"),id:0},{name:t("deposit_refund"),id:1},{name:t("deposit_data_file"),id:3}],[i,n]=c.useState(0),{getMasterDepositByHostel:b,getMasterDepositByHostelRefetch:N}=Ks({hid:e,skip:!e});c.useEffect(()=>{e&&N()},[e,N]);const g=()=>{o(-1)};return s.jsxs("div",{className:v.moderator_container,style:{marginTop:"0"},children:[s.jsxs("section",{className:v.moderator_container_title,children:[s.jsx("img",{src:"/images/arrow-left-fees-icon.svg",onClick:g,alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),s.jsxs("div",{className:v.with_search,children:[s.jsx("h6",{children:t("finance_deposit")}),s.jsx("div",{className:v.search_container_filter,children:s.jsx("img",{src:"/images/filter-blue-icon.svg",alt:"filter icon"})})]})]}),s.jsx(L,{customStyle:{width:"100%"}}),s.jsx(Ts,{tabList:f,activeIndexTab:i,setActiveIndexTab:n,showAs:!1,customStyleTab:{width:"33.33%"}}),s.jsx(L,{customStyle:{width:"100%",marginBottom:"0.5rem"}}),i===0&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{className:v.applicable_to_btn,onClick:()=>a(!0),style:{width:"50%",marginTop:"2rem",marginBottom:"1rem"},children:[s.jsxs("div",{children:[t("deposit_fee_head_linking")," "]}),s.jsx("img",{src:"/images/forward-right-icon.svg",alt:"next step"})]}),s.jsx("div",{className:v.refund_list,children:s.jsxs("section",{className:v.unused_container,children:[s.jsx("img",{src:"/images/rupee-symobl-icon.svg",alt:"rupee symobl"}),s.jsxs("div",{className:v.unused_container_text,children:[s.jsxs("div",{className:v.unused_container_text_inner,children:[s.jsx("h6",{children:t("total_deposit")}),s.jsxs("h6",{children:[t("rs")," ",((u=b==null?void 0:b.master)==null?void 0:u.deposit_amount)??0]})]}),s.jsx("div",{className:v.unused_container_text_inner,children:s.jsxs("p",{children:[t("deposit_of")," ",((j=b==null?void 0:b.master)==null?void 0:j.paid_student_count)??0," ",t("deposit_student")]})})]})]})})]}),i===1&&s.jsx(ue,{refund_amount:(h=b==null?void 0:b.master)==null?void 0:h.refund_amount,refund_student_count:(S=b==null?void 0:b.master)==null?void 0:S.refund_student_count,hid:e}),d&&s.jsx(ve,{onClose:()=>a(!1),fmid:(r=b==null?void 0:b.master)==null?void 0:r._id,onRefecthParent:N})]})},Es=({institute:e,border:t,hid:o,onRefetch:d})=>{var N,g;const{t:a}=P(),[f]=Xs(),[i,n]=c.useState(!1),b=()=>{o&&(e!=null&&e._id)&&(n(u=>!u),f({hid:o,id:e==null?void 0:e._id}).then(()=>{d(),n(u=>!u)}).catch({}))};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:F.transpotation_card,style:{justifyContent:"space-between"},children:[s.jsxs("div",{className:F.transpotation_card_detail,children:[s.jsx("img",{src:e!=null&&e.insProfilePhoto?`${ms}/${e.insProfilePhoto}`:"/images/user-icon.svg",alt:"avatar"}),s.jsxs("div",{className:F.transpotation_card_detail_text,children:[s.jsx("h6",{children:(e==null?void 0:e.insName)??""}),s.jsx("h6",{style:{fontSize:"12px"},children:(e==null?void 0:e.name)??""})]})]}),((N=e==null?void 0:e.hostelDepart)==null?void 0:N.length)>0?o===((g=e==null?void 0:e.hostelDepart)==null?void 0:g[0])?s.jsx("div",{className:F.linked_institute_btn,children:a("linked")}):null:s.jsx("div",{className:F.linked_institute_btn,onClick:b,children:a("linked_institute")})]}),t&&s.jsx(L,{customStyle:{width:"100%"}}),i&&s.jsx(V,{})]})},pe=({hid:e})=>{const{t}=P(),[o,d]=c.useState(""),[a,f]=y({skip:o}),[i,n]=c.useState(1),[b,N]=c.useState(!0),[g,u]=c.useState(!0),[j,h]=c.useState([]),[S,r]=c.useState(!1),{getHostelLinkedList:x,getHostelLinkedListRefetch:w}=Ys({data:{hid:e,page:i,limit:10,search:o},skip:!e});c.useEffect(()=>{e&&(u(!0),w())},[e,i,o,w]),c.useEffect(()=>{f&&b&&n(p=>p+1)},[f,b]),c.useEffect(()=>{var p,l;S?(h(x==null?void 0:x.all_ins),u(!1),r(!1)):o?(h(x==null?void 0:x.all_ins),u(!1)):x!=null&&x.all_ins?(h(O=>[...new Set([...O,...x==null?void 0:x.all_ins].map(JSON.stringify))].map(JSON.parse)),u(!1)):((p=x==null?void 0:x.all_ins)==null?void 0:p.length)===0&&u(!1),((l=x==null?void 0:x.all_ins)==null?void 0:l.length)===10?N(!0):N(!1)},[x==null?void 0:x.all_ins]);const _=c.useCallback(cs.debounce(p=>d(p),500),[]),I=p=>{p.target.value?_(p.target.value):(_(""),n(l=>1))},T=()=>{n(1),r(!0),u(!0),w()};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:F.with_search,children:[s.jsx("h6",{children:t("linked_institute")}),s.jsx("section",{className:F.search_container,children:s.jsxs("div",{className:F.search_container_input,children:[s.jsx("img",{className:F.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),s.jsx("input",{type:"text",placeholder:"Search institutes...",onChange:I})]})})]}),s.jsx(L,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),s.jsx("div",{className:F.vehicle_list,children:j==null?void 0:j.map((p,l)=>(j==null?void 0:j.length)===l+1?s.jsx("div",{ref:a,style:{width:"100%"},children:s.jsx(Es,{institute:p,hid:e,onRefetch:T})},p==null?void 0:p._id):s.jsx(Es,{institute:p,border:!0,hid:e,onRefetch:T},p==null?void 0:p._id))}),g&&s.jsx(k,{status:"white"})]})},ge=({onClickValue:e,carryParentState:t,role:o,mid:d})=>{var N,g,u,j,h,S,r,x,w,_,I,T,p,l,O,M,G,K,z,X,q,A,R,D,Z,es,as,ns,ts,rs,m,J,$,C,_s,ls,hs,xs,fs,js,bs,us,vs,Ns,ps,gs,Ss;const a=ss(),[f,i]=c.useState(""),{hostelDetail:n,hostelDetailRefetch:b}=Zs({data:{hid:o?e==null?void 0:e.hostel:e,mod_id:o?d:""},skip:e?!e:e==null?void 0:e.hostel});return c.useEffect(()=>{(e||e!=null&&e.hostel)&&b()},[e,e==null?void 0:e.hostel,b]),c.useEffect(()=>{var ws,qs;if((ws=n==null?void 0:n.roles)!=null&&ws.length){if(o){let Fs=e==null?void 0:e._id;for(let is of n==null?void 0:n.roles)if(Fs===(is==null?void 0:is._id)){i(is);break}}}else((qs=n==null?void 0:n.roles)==null?void 0:qs.length)===0&&i("")},[n==null?void 0:n.roles]),s.jsxs("div",{style:{marginTop:"1rem"},children:[(!(a!=null&&a.search)||((N=a==null?void 0:a.search)==null?void 0:N.substring(3,6))==="fee"||((g=a==null?void 0:a.search)==null?void 0:g.substring(3))==="fund")&&s.jsx(le,{hid:o?e==null?void 0:e.hostel:e,hostel:n==null?void 0:n.one_hostel,carryParentState:t,onRefetch:b,activatedRole:f,callApi:!!((u=n==null?void 0:n.one_hostel)!=null&&u._id)}),((j=a==null?void 0:a.search)==null?void 0:j.substring(3))==="warden"&&s.jsx("div",{className:F.hostel_container,children:s.jsx(ys,{hid:o?e==null?void 0:e.hostel:e})}),((h=a==null?void 0:a.search)==null?void 0:h.substring(3))==="unit"&&s.jsx("div",{className:F.hostel_container,children:s.jsx(te,{hid:o?e==null?void 0:e.hostel:e,carryParentState:t,instituteId:(r=(S=n==null?void 0:n.one_hostel)==null?void 0:S.institute)==null?void 0:r._id,callApi:!!((x=n==null?void 0:n.one_hostel)!=null&&x._id)})}),(((w=a==null?void 0:a.search)==null?void 0:w.substring(3))==="unit&n=info"||((_=a==null?void 0:a.search)==null?void 0:_.substring(3))==="unit&n=hostelites"||((I=a==null?void 0:a.search)==null?void 0:I.substring(3))==="unit&n=menu&n=room")&&s.jsx(Ds,{carryParentState:t,callApi:!!((T=n==null?void 0:n.one_hostel)!=null&&T._id),instituteId:(l=(p=n==null?void 0:n.one_hostel)==null?void 0:p.institute)==null?void 0:l._id}),((O=a==null?void 0:a.search)==null?void 0:O.substring(3))==="unit&n=room"&&s.jsx(Ls,{carryParentState:t}),((M=a==null?void 0:a.search)==null?void 0:M.substring(3))==="rule"&&s.jsx("div",{className:F.hostel_container,children:s.jsx(re,{hid:o?e==null?void 0:e.hostel:e})}),((G=a==null?void 0:a.search)==null?void 0:G.substring(3))==="form"&&s.jsx("div",{className:F.hostel_container,children:s.jsx(ks,{hid:o?e==null?void 0:e.hostel:e})}),((K=a==null?void 0:a.search)==null?void 0:K.substring(3,10))==="request"&&s.jsx("div",{className:F.hostel_container,children:s.jsx(Cs,{hid:o?e==null?void 0:e.hostel:e,carryParentState:t,accessRole:f==null?void 0:f.access_role,accessApplication:(f==null?void 0:f.access_application)??[],accessTpye:((z=f==null?void 0:f.active_tab)==null?void 0:z.role)??"Application",callApi:!!((X=n==null?void 0:n.one_hostel)!=null&&X._id),instituteId:(A=(q=n==null?void 0:n.one_hostel)==null?void 0:q.institute)==null?void 0:A._id})}),((R=a==null?void 0:a.search)==null?void 0:R.substring(3,10))==="notice"&&s.jsx("div",{className:F.hostel_container,children:s.jsx(ie,{hid:o?e==null?void 0:e.hostel:e,carryParentState:t})}),((D=a==null?void 0:a.search)==null?void 0:D.substring(3,10))==="receipt"&&s.jsx("div",{className:F.hostel_container,children:s.jsx(be,{hid:o?e==null?void 0:e.hostel:e,carryParentState:t})}),((Z=a==null?void 0:a.search)==null?void 0:Z.substring(3))==="hostelites"&&s.jsx("div",{className:F.hostel_container,children:s.jsx(Hs,{hid:o?e==null?void 0:e.hostel:e,carryParentState:t,filter_by:"",instituteId:(as=(es=n==null?void 0:n.one_hostel)==null?void 0:es.institute)==null?void 0:as._id})}),(a==null?void 0:a.search)&&((ns=a==null?void 0:a.search)==null?void 0:ns.substring(3))==="pending"&&s.jsx("div",{className:F.hostel_container,children:s.jsx(Qs,{hid:o?e==null?void 0:e.hostel:e,instituteId:(rs=(ts=n==null?void 0:n.one_hostel)==null?void 0:ts.institute)==null?void 0:rs._id})}),(a==null?void 0:a.search)&&((m=a==null?void 0:a.search)==null?void 0:m.substring(3))==="moderator"&&s.jsx("div",{className:F.hostel_container,children:s.jsx(Vs,{hid:o?e==null?void 0:e.hostel:e,instituteId:($=(J=n==null?void 0:n.one_hostel)==null?void 0:J.institute)==null?void 0:$._id})}),((C=a==null?void 0:a.search)==null?void 0:C.substring(3))==="deposit"&&s.jsx("div",{className:F.hostel_container,children:s.jsx(Ne,{hid:o?e==null?void 0:e.hostel:e})}),((_s=a==null?void 0:a.search)==null?void 0:_s.substring(3))==="export"&&s.jsx("div",{className:F.hostel_container,children:s.jsx(se,{hostelId:o?e==null?void 0:e.hostel:e,instituteId:(fs=(xs=(hs=(ls=n==null?void 0:n.one_hostel)==null?void 0:ls.institute)==null?void 0:hs.financeDepart)==null?void 0:xs[0])==null?void 0:fs._id})}),((js=a==null?void 0:a.search)==null?void 0:js.substring(3))==="batch"&&s.jsx("div",{className:F.hostel_container,children:s.jsx(ee,{hid:o?e==null?void 0:e.hostel:e,selectedBacthId:(bs=n==null?void 0:n.one_hostel)==null?void 0:bs.departmentSelectBatch,onMasterApiRefetch:b,carryParentState:t,instituteId:(ps=(Ns=(vs=(us=n==null?void 0:n.one_hostel)==null?void 0:us.institute)==null?void 0:vs.financeDepart)==null?void 0:Ns[0])==null?void 0:ps._id})}),((gs=a==null?void 0:a.search)==null?void 0:gs.substring(3))==="standard"&&s.jsx("div",{className:F.hostel_container,children:s.jsx(ae,{hid:o?e==null?void 0:e.hostel:e,carryParentState:t})}),((Ss=a==null?void 0:a.search)==null?void 0:Ss.substring(3))==="linked"&&s.jsx("div",{className:F.hostel_container,children:s.jsx(pe,{hid:o?e==null?void 0:e.hostel:e})})]})},Ra=()=>{var t,o,d,a,f,i,n,b,N,g;const e=ss();return s.jsx(s.Fragment,{children:((t=e==null?void 0:e.search)==null?void 0:t.substring(3))==="site"?s.jsx(ne,{hid:(o=e==null?void 0:e.state)==null?void 0:o.onClickValue}):s.jsx(As,{index:(d=e==null?void 0:e.state)!=null&&d.role?"31":"28",sid:((a=e==null?void 0:e.state)==null?void 0:a.sid)??"",onClickValue:((f=e==null?void 0:e.state)==null?void 0:f.onClickValue)??"",children:s.jsx(ge,{onClickValue:((i=e==null?void 0:e.state)==null?void 0:i.onClickValue)??"",role:(n=e==null?void 0:e.state)==null?void 0:n.role,mid:(b=e==null?void 0:e.state)!=null&&b.role?(g=(N=e==null?void 0:e.state)==null?void 0:N.onClickValue)==null?void 0:g._id:"",carryParentState:e==null?void 0:e.state})})})};export{Ra as default};
