import{u as S,j as t,e as b,r as c,k as v,t as N,nX as P}from"./index-0ca76035.js";import{Q as E}from"./QvipleLoaderGif-bd545aa8.js";const k="_body_1fe9u_1",B="_loader_1fe9u_21",I="_noData_1fe9u_33",w={body:k,loader:B,noData:I},D="_item_97ihn_1",R="_text_97ihn_16",$="_btn_97ihn_49",l={item:D,text:R,btn:$};function _({data:s,followBack:a}){const{t:i}=S();return t.jsxs("div",{className:l.item,children:[t.jsxs(t.Fragment,{children:[t.jsx("img",{src:(s==null?void 0:s.photoId)!=="1"?`${b}/${s&&s.insProfilePhoto?s.insProfilePhoto:s.profilePhoto?s.profilePhoto:""}`:"/images/ins_default_profile.svg",alt:""}),t.jsxs("div",{className:l.text,children:[t.jsx("h6",{children:s&&s.name?s.name:s.username?s.username:""}),t.jsx("p",{children:i("startrd_following")})]})]}),a==="true"&&t.jsx("div",{className:l.btn,children:i("followBack")})]})}function Q(){const[s,a]=c.useState(!0),i=v(n=>n.idChange.id),[o,d]=c.useState([]),[x,m]=N(),[u,J]=c.useState(!0),[h,p]=c.useState(1),{instituteFollowersArray:e,instituteFollowersArrayRefetch:r}=P({data:{id:i,page:h,limit:10},skip:!i});return c.useEffect(()=>{i&&r()},[i,h,r]),c.useEffect(()=>{m&&u&&p(n=>n+1)},[m,u]),c.useEffect(()=>{var n,f;if((n=e==null?void 0:e.iFollowers)!=null&&n.length||(f=e==null?void 0:e.uFollowers)!=null&&f.length){const j=[...o,...e==null?void 0:e.iFollowers,...e==null?void 0:e.uFollowers],g=[...new Set(j.map(JSON.stringify))].map(JSON.parse);d(g)}},[e==null?void 0:e.iFollowers,e==null?void 0:e.uFollowers]),c.useEffect(()=>{setTimeout(()=>{a(!1)},3e3)},[]),t.jsxs("div",{className:w.body,children:[(o==null?void 0:o.length)===0&&s&&t.jsx(E,{}),o==null?void 0:o.map((n,f)=>(o==null?void 0:o.length)===f+1?t.jsx("div",{ref:x,children:t.jsx(_,{data:n||"",followBack:"false"})},f):t.jsx("div",{children:t.jsx(_,{data:n||"",followBack:"false"})},f))]})}export{Q as default};
