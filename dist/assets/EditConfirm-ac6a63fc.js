import{u as E,n as y,c as _,r as s,j as t,L as b,Q as I}from"./index-731451a5.js";import{O as N}from"./Overlay-07ce6f88.js";import{S as B}from"./SearchModalBackdrop-5b309d60.js";import{s as o}from"./EditConfirm.module-344fbdb9.js";import{k as D}from"./class-api-ec8ace00.js";import{J as R}from"./JoinFormInput-8e74a0e0.js";import{B as A}from"./ButtonWithAction-805b1066.js";const a=["STUDENT_SECTION","ADMISSION_ADMIN"],J=({onClose:d,sid:n,openAs:r})=>{const{t:i}=E(),u=y(),p=_(),[x]=D(),[h,m]=s.useState(!1),[f,S]=s.useState(!0),[c,j]=s.useState(""),[l,v]=s.useState(!1),C=e=>{e.target.value==="Confirm"&&S(!1),j(e.target.value)},g=()=>{m(e=>!e),x({sid:n}).then(()=>{m(e=>!e),p(-1)}).catch({})},T=()=>{c==="Confirm"&&g()};return t.jsxs(t.Fragment,{children:[t.jsx(B,{onClose:d}),t.jsxs(N,{customStyle:{zIndex:"1200"},children:[t.jsx("div",{className:o.edit_modal_container,style:l?{width:"auto",height:"auto"}:{width:"200px"},children:l?t.jsxs(t.Fragment,{children:[t.jsx(R,{labelText:i("type_confirm_to_continue"),placeholder:"type here 'Confirm'",name:"removeStudent",value:c,type:"text",onChange:C}),t.jsx(A,{disabled:f,buttonText:i("confirm"),onAction:T,customStyleButton:{marginTop:"1rem",marginBottom:"1rem"}})]}):t.jsxs(t.Fragment,{children:[t.jsx(b,{to:`/q/${u.username}/edit/student`,state:{openAs:"CLASS_TEACHER_SIDE",sid:n,subTypeOpen:r},children:t.jsx("h6",{className:o.edit,children:"Edit"})}),a!=null&&a.includes(r)?"":t.jsx("h6",{className:o.remove,onClick:()=>v(!0),children:"Remove"})]})}),h&&t.jsx(I,{})]})]})};export{J as E};
