import{u as T,j as e,r as o,S as P,N as A,Q as D}from"./index-0ca76035.js";import{s as r}from"./StudentAllFeesData.module-f5c3243d.js";import{A as F,S as R}from"./StudentAdmissionPayFees-4659e3f8.js";import{a2 as k}from"./admission-api-925391d9.js";const M=({label:i,value:s,currentValue:n,onClick:d,customStyleContainer:c})=>{const{t:m}=T();return e.jsxs("div",{className:s===n?`${r.student_fees_btn_container} ${r.student_fees_btn_container_active}`:r.student_fees_btn_container,onClick:()=>d(n),style:c,children:[e.jsx("h6",{children:m(i)}),e.jsx("img",{src:"/images/studentclass/fees/fees_arrow_right.svg",alt:"arrow"})]})},O=({viewAs:i,sudentAdmissionFeesList:s,sudentAdmissionFeesListRefetch:n,feesQueryRefetch:d,showingDataLoading:c,isFeesEditable:m})=>{var S;const[u,f]=o.useState(!1),[h,j]=o.useState(""),[E,p]=o.useState(!1),[_,l]=o.useState({msg:"",run:!1}),[b]=k(),B=t=>{var x;p(a=>!a),b({fid:t==null?void 0:t.financeId,aid:(x=t==null?void 0:t.install)==null?void 0:x.appId,flow:(t==null?void 0:t.collectFlow)==="Department"?"BY_DEPARTMENT":"BY_HOSTEL"}).then(a=>{var y,g;p(N=>!N),(y=a==null?void 0:a.data)!=null&&y.denied?l({msg:"Before initiating payment. you must have a valid bank account to receive payment.",run:!0}):i==="STUDENT"&&((g=t==null?void 0:t.install)!=null&&g.isEnable)&&(f(!0),j(t))}).catch({})};return e.jsxs("div",{className:r.student_admission_fees_container,children:[(S=s==null?void 0:s.array)==null?void 0:S.map(t=>e.jsx(F,{admission:t,viewAs:i,onAdmissionPaid:B,onAdmissionFeesRefetch:n,renderPageAs:"STUDENT_PROFILE",is_feesdata:!0})),u&&e.jsx(R,{installment:h,onAdmissionFeesRefetch:n,onFeesRefetch:d,hideModal:f,addDisplay:u,isFeesEditable:m}),c&&e.jsx(P,{}),e.jsx(A,{msg:_.msg,run:_.run,setRun:()=>l({msg:"",run:!1}),postiton:"bottom",type:"error"}),E&&e.jsx(D,{})]})};export{M as S,O as a};
