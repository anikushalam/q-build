import{R as E,_ as P,r,u as M,j as e,k as z,q,L as Z,e as I,nx as ee,l as se,lN as te,N as B,Q as ne,z as ae,s as ie}from"./index-731451a5.js";import{C as k}from"./CustomSuspense-e90dc607.js";import{p as oe,q as re,r as ce}from"./setting-api-bd1a4a3c.js";import{u as le}from"./use-user-signup-c7112eee.js";import{C as de}from"./ComingSoon-c04f89a7.js";import{B as me}from"./BorderBottom-47800983.js";import{F as H}from"./FormToggle-bf5ca79b.js";const ge="_navbar_1r7l0_1",F={navbar:ge},ue="_mainbody_1sfc6_1",_e="_sidebar_1sfc6_10",pe="_stats_1sfc6_14",R={mainbody:ue,sidebar:_e,stats:pe},fe="_sidebar_auflp_1",xe="_heading_auflp_7",je="_list_auflp_16",he="_options_auflp_21",ve="_imgDark_auflp_35",ye="_img_auflp_35",be="_borderLeft_auflp_62",t={sidebar:fe,heading:xe,list:je,options:he,imgDark:ve,img:ye,borderLeft:be},Ne=E.lazy(()=>P(()=>import("./Logout-4338231b.js"),["assets/Logout-4338231b.js","assets/index-731451a5.js","assets/index-4d24e8f6.css","assets/LogoutQuery-d4abe74f.js","assets/DialogTitle-ba505e40.js","assets/Divider-6278282f.js","assets/Logout-9c0309dd.css"]));function Se({clickItem:a,changeItem:s}){const[n,c]=r.useState(!1),{t:l}=M(),g=()=>{c(!1)};return e.jsxs("div",{className:t.sidebar,children:[e.jsx("div",{className:t.heading,children:"Settings"}),e.jsxs("div",{className:t.list,children:[e.jsxs("div",{className:a===1?`${t.options} ${t.borderLeft}`:t.options,onClick:()=>s(1),children:[e.jsx("img",{className:t.img,alt:"not found",src:"/images/account.svg"}),e.jsx("img",{className:t.imgDark,alt:"not found",src:"/images/account-dark.svg"}),e.jsx("p",{children:l("acount")})]}),e.jsxs("div",{className:a===2?`${t.options} ${t.borderLeft}`:t.options,onClick:()=>s(2),children:[e.jsx("img",{className:t.img,alt:"not found",src:"/images/bell.svg"}),e.jsx("img",{className:t.imgDark,alt:"not found",src:"/images/bell-dark.svg"}),e.jsx("p",{children:l("notification")})]}),e.jsxs("div",{className:a===3?`${t.options} ${t.borderLeft}`:t.options,onClick:()=>s(3),children:[e.jsx("img",{className:t.img,alt:"not found",src:"/images/wallet.svg"}),e.jsx("img",{className:t.imgDark,alt:"not found",src:"/images/wallet-dark.svg"}),e.jsx("p",{children:l("payment_gateway")})]}),e.jsxs("div",{className:a===7?`${t.options} ${t.borderLeft}`:t.options,onClick:()=>s(7),children:[e.jsx("img",{className:t.img,alt:"not found",src:"/images/lock.svg"}),e.jsx("img",{className:t.imgDark,alt:"not found",src:"/images/lock-dark.svg"}),e.jsx("p",{children:l("privacy")})]}),e.jsx("a",{href:"https://dashboard.qviple.com",target:"_blank",rel:"noopener noreferrer",children:e.jsxs("div",{className:a===8?`${t.options} ${t.borderLeft}`:t.options,children:[e.jsx("img",{className:t.img,alt:"not found",src:"/images/information.svg"}),e.jsx("img",{className:t.imgDark,alt:"not found",src:"/images/information-dark.svg"}),e.jsx("p",{children:l("about_quviple")})]})}),e.jsxs("div",{className:a===9?`${t.options} ${t.borderLeft}`:t.options,onClick:()=>{c(!0),s(7)},children:[e.jsx("img",{className:t.img,alt:"not found",src:"/images/logout.svg"}),e.jsx("img",{className:t.imgDark,alt:"not found",src:"/images/logout-dark.svg"}),e.jsx("p",{children:l("logout")})]})]}),e.jsx(k,{children:n&&e.jsx(Ne,{changeLogout:g,logout:n})})]})}const $e="_header_n3ejf_1",ke="_imgContainer_n3ejf_10",Ce="_textContainer_n3ejf_20",w={header:$e,imgContainer:ke,textContainer:Ce};function Le(){var c,l,g,p,_;const a=z(h=>h.idChange.id),{oneInstituteDashboard:s,oneInstituteDashboardRefetch:n}=q({id:a,skip:!a});return r.useEffect(()=>{a&&n()},[a,n]),e.jsx(Z,{to:`/q/${(c=s==null?void 0:s.institute)==null?void 0:c.name}/profile`,children:e.jsxs("div",{className:w.header,children:[e.jsx("div",{className:w.imgContainer,children:e.jsx("img",{src:((l=s==null?void 0:s.institute)==null?void 0:l.photoId)!=="1"?`${I}/${(g=s==null?void 0:s.institute)==null?void 0:g.insProfilePhoto}`:"/images/ins_default_profile.svg",alt:""})}),e.jsxs("div",{className:w.textContainer,children:[e.jsx("h5",{children:(p=s==null?void 0:s.institute)==null?void 0:p.name}),e.jsx("p",{children:(_=s==null?void 0:s.institute)==null?void 0:_.insName})]})]})})}const Ee="_stats_15n5b_1",Pe="_body_15n5b_6",T={stats:Ee,body:Pe},Re="_recovery_1batr_1",we="_btn_1batr_49",Te="_dltbtn_1batr_60",Me="_errorspan_1batr_75",j={recovery:Re,btn:we,dltbtn:Te,errorspan:Me};function ze({switchh:a}){var U,A,O;const{t:s}=M(),n=z(i=>i.authChange),[c,l]=r.useState({recoveryMail:""}),[g,p]=r.useState({insPhoneNumber:""}),[_,h]=r.useState(""),[d,b]=r.useState(!1),[v,N]=r.useState({msg:"",run:!1}),[m,f]=r.useState(),[x,u]=r.useState(!1),[C]=oe(),[V]=re(),{validInput:y,verifyUsername:D}=le(),[Q]=ee(),{oneInstituteDashboard:o,oneInstituteDashboardRefetch:S}=q({id:n==null?void 0:n.id,skip:!(n!=null&&n.id)});r.useEffect(()=>{n!=null&&n.id&&S()},[n==null?void 0:n.id,S]),r.useEffect(()=>{var i,$;(i=o==null?void 0:o.institute)!=null&&i.name&&h(($=o==null?void 0:o.institute)==null?void 0:$.name)},[(U=o==null?void 0:o.institute)==null?void 0:U.name]);const G=()=>{C({id:n==null?void 0:n.id,mail:c}).then(i=>{i.data.status&&(S(),f(i.data.message),u(!0),l({recoveryMail:""}))})},J=()=>{V({id:n==null?void 0:n.id,phone:g}).then(i=>{i.data.status&&(S(),f(i.data.message),u(!0),p({insPhoneNumber:""}))})},K=r.useCallback(se.debounce(i=>D(i),500),[]),W=i=>{K(i),h(i)},X=()=>{var i,$;_===((i=o==null?void 0:o.institute)==null?void 0:i.name)||["valid",""].includes(y==null?void 0:y.username)&&(b(L=>!L),Q({o_name:($=o==null?void 0:o.institute)==null?void 0:$.name,n_name:_}).then(L=>{L.data.flag?S():N({msg:L.data.message,run:!0}),b(Y=>!Y)}).catch({}))};return e.jsxs(e.Fragment,{children:[m!==""?e.jsx(te,{run:x,setRun:u,msg:m}):"",e.jsxs("div",{className:j.recovery,children:[e.jsxs("h6",{children:[s("add_recovery_email")," (",(A=o==null?void 0:o.institute)==null?void 0:A.recoveryMail,")"]}),e.jsx("input",{type:"email",name:"recoveryMail",value:c.recoveryMail,onChange:i=>l({...c,recoveryMail:i.target.value}),placeholder:s("add_recovery_details")}),c.recoveryMail!==""?e.jsx("button",{className:`${j.btn}`,type:"button",onClick:G,children:s("update")}):e.jsx("button",{type:"button",className:`${j.btn}`,disabled:!0,children:s("update")}),e.jsxs("div",{style:{width:"100%",marginTop:"4vw"},children:[e.jsxs("h6",{children:[s("add_recovery_phone_no")," (",(O=o==null?void 0:o.institute)==null?void 0:O.insPhoneNumber,")"]}),e.jsx("input",{type:"tel",name:"insPhoneNumber",value:g.insPhoneNumber,maxLength:"10",minLength:"10",onChange:i=>p({...g,insPhoneNumber:i.target.value}),placeholder:s("add_recovery_phone_no")}),g.insPhoneNumber!==""?e.jsx("button",{className:`${j.btn}`,type:"button",onClick:J,children:s("update")}):e.jsx("button",{type:"button",className:`${j.btn}`,disabled:!0,children:s("update")})]}),e.jsxs("div",{style:{width:"100%",marginTop:"4vw"},children:[e.jsxs("h6",{children:[s("edit_username"),!["valid",""].includes(y==null?void 0:y.username)&&e.jsxs("span",{className:j.errorspan,children:[" "," ",s("username_is_already_exits")]})]}),e.jsx("input",{type:"text",name:"username",value:_,maxLength:"10",minLength:"10",onChange:i=>W(i.target.value),placeholder:s("type_username")}),_!==""?e.jsx("button",{className:`${j.btn}`,type:"button",onClick:X,children:s("update")}):e.jsx("button",{type:"button",className:`${j.btn}`,disabled:!0,children:s("update")})]})]}),v.run&&e.jsx(B,{msg:v.msg,run:v.run,setRun:()=>N({msg:"",run:!1}),postiton:"bottom",type:"error"}),d&&e.jsx(ne,{})]})}const Ue=E.lazy(()=>P(()=>import("./DeleteAcnt-7b15fb28.js"),["assets/DeleteAcnt-7b15fb28.js","assets/index-731451a5.js","assets/index-4d24e8f6.css","assets/DeleteAcnt-42c0273f.css"]));function Ae(){const[a,s]=r.useState(!1),n=()=>{s(!0)};return e.jsxs(e.Fragment,{children:[!a&&e.jsx(ze,{switchh:n}),e.jsx(k,{children:a&&e.jsx(Ue,{})})]})}const Oe="_notification_1rj5c_1",He="_divider_1rj5c_24",Fe="_row_1rj5c_32",qe={notification:Oe,divider:He,row:Fe},Be=()=>{var N;const{t:a}=M(),s=z(m=>m.authChange),[n,c]=r.useState(""),[l,g]=r.useState(!1),[p,_]=r.useState({razor:!1,paytm:!1}),[h]=ce(),{oneInstituteProfile:d,oneInstituteProfileRefetch:b}=ae({data:{id:s==null?void 0:s.id,type:"ID"},skip:!(s!=null&&s.id)});r.useEffect(()=>{s!=null&&s.id&&b()},[s==null?void 0:s.id,b]),r.useEffect(()=>{var m,f,x,u,C;(m=d==null?void 0:d.institute)!=null&&m.merchant_options&&_({razor:(x=(f=d==null?void 0:d.institute)==null?void 0:f.merchant_options)==null?void 0:x.razor_pay,paytm:(C=(u=d==null?void 0:d.institute)==null?void 0:u.merchant_options)==null?void 0:C.paytm})},[(N=d==null?void 0:d.institute)==null?void 0:N.merchant_options]);const v=(m,f)=>{if(s!=null&&s.id){const x={...p};for(let u in x)u===m&&(x[u]=f);h({id:s==null?void 0:s.id,formSetting:x}).then(()=>{c("Add joining details updated"),g(!0)}).catch({}),_(u=>({...u,[m]:f}))}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:qe.notification,style:{minHeight:"fit-content",padding:"1rem",height:"30rem"},children:[e.jsx("h5",{children:a("payment_setting")}),e.jsx(H,{labelHeading:a("turn_on_paytm"),labelDescription:"",defaultLabel:!1,checkedToggle:p.paytm,onToggleHandler:m=>v("paytm",m.target.checked)}),e.jsx(me,{customStyle:{width:"100%"}}),e.jsx(H,{labelHeading:a("turn_on_razor"),labelDescription:"",defaultLabel:!1,checkedToggle:p.razor,onToggleHandler:m=>v("razor",m.target.checked)})]}),e.jsx(B,{run:l,setRun:g,msg:n,postiton:"bottom",type:"success"})]})},Ve=E.lazy(()=>P(()=>import("./Notification-efaa579b.js"),["assets/Notification-efaa579b.js","assets/index-731451a5.js","assets/index-4d24e8f6.css","assets/Switch-81e70f2f.js","assets/SwitchBase-2ba5f868.js","assets/CustomSuspense-e90dc607.js","assets/setting-api-bd1a4a3c.js","assets/use-user-signup-c7112eee.js","assets/ComingSoon-c04f89a7.js","assets/ComingSoon-ba501d3a.css","assets/BorderBottom-47800983.js","assets/BorderBottom-eabbc1eb.css","assets/FormToggle-bf5ca79b.js","assets/UniversalForm.module-19614663.js","assets/UniversalForm-5f24b145.css"])),De=E.lazy(()=>P(()=>import("./Privacy-21305754.js"),["assets/Privacy-21305754.js","assets/index-731451a5.js","assets/index-4d24e8f6.css","assets/setting-api-bd1a4a3c.js","assets/Overlay-07ce6f88.js","assets/Overlay.module-9133d1bb.js","assets/Overlay-6f7772cd.css","assets/SearchModalBackdrop-5b309d60.js","assets/SearchHeader.module-b69c8942.js","assets/SearchHeader-d07f850c.css","assets/Privacy-256be9ca.css"]));function Qe({clickItem:a}){return e.jsxs(e.Fragment,{children:[a===1&&e.jsx(Ae,{}),e.jsx(k,{children:a===2&&e.jsx(Ve,{})}),e.jsx(k,{children:a===3&&e.jsx(Be,{})}),a===6&&e.jsx(de,{}),e.jsx(k,{children:a===7&&e.jsx(De,{})})]})}function Ge({changeItem:a,clickItem:s}){return e.jsxs("div",{className:T.stats,children:[e.jsx("div",{className:T.header,children:e.jsx(Le,{})}),e.jsx("div",{className:T.body,children:e.jsx(Qe,{changeItem:a,clickItem:s})})]})}function Je(){const[a,s]=r.useState(1),n=c=>{s(c)};return e.jsxs("div",{className:R.mainbody,children:[e.jsx("div",{className:R.sidebar,children:e.jsx(Se,{changeItem:n,clickItem:a})}),e.jsx("div",{className:R.stats,children:e.jsx(Ge,{changeItem:n,clickItem:a})})]})}function Ke(){return e.jsxs("div",{className:F.insprofilesetting,children:[e.jsx("div",{className:F.navbar,children:e.jsx(ie,{status:"profile"})}),e.jsx(Je,{})]})}const ts=Object.freeze(Object.defineProperty({__proto__:null,default:Ke},Symbol.toStringTag,{value:"Module"}));export{ts as I,qe as s};
