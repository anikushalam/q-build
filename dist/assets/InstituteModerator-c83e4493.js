import{u as R,c as D,k as M,r as a,t as O,n7 as G,j as s,s as J,S as L}from"./index-731451a5.js";import{S as V}from"./Sidebar-d0dedeed.js";import{B as W}from"./BorderBottom-47800983.js";import{I as b,A as Q,a as T}from"./InstituteModeratorCard-e9c4e70e.js";import"./SidebarBottom-2c8831dc.js";import"./CustomSuspense-e90dc607.js";import"./EditConfirm.module-344fbdb9.js";import"./Overlay-07ce6f88.js";import"./Overlay.module-9133d1bb.js";import"./SearchModalBackdrop-5b309d60.js";import"./SearchHeader.module-b69c8942.js";import"./AssignStaffModal-61be8e90.js";import"./search-api-15f7f9f9.js";import"./AssignStaffModal.module-a60b32e1.js";import"./CustomNormalSelectInput-9ec7329b.js";import"./JoinForm.module-212f9bb3.js";import"./PopupWrapper-ffbaef7a.js";import"./SearchModalWrapper-6e85c9f3.js";import"./AdmissionModerator.module-e8abdfd3.js";import"./JoinFormInput-8e74a0e0.js";import"./CustomSelectDepartment-a5dd9a35.js";const q="_navbar_1ws9o_1",z="_mainbody_1ws9o_10",F="_main_1ws9o_10",H="_sidebar_1ws9o_21",K="_newPost_1ws9o_27",U="_moderator_container_title_1ws9o_51",X="_add_new_moderator_1ws9o_57",Y="_moderator_list_1ws9o_71",o={navbar:q,mainbody:z,main:F,sidebar:H,newPost:K,moderator_container_title:U,add_new_moderator:X,moderator_list:Y},hs=()=>{const{t:m}=R(),N=D(),i=M(t=>t.idChange.id),[g,_]=a.useState(!1),[p,l]=a.useState(""),[k,f]=O(),[u,h]=a.useState(1),[w,x]=a.useState(!0),[C,j]=a.useState(!1),[A,r]=a.useState(!0),[n,S]=a.useState([]),{getModeratorByInstitute:e,getModeratorByInstituteRefetch:d}=G({data:{id:i,page:u,limit:10,search:""},skip:!i});a.useEffect(()=>{i&&(r(!0),d())},[i,u,d]),a.useEffect(()=>{f&&w&&h(t=>t+1)},[f,w]),a.useEffect(()=>{var t,c;C?(S(e==null?void 0:e.all_mods),j(!1),r(!1)):e!=null&&e.all_mods?(S(P=>[...new Set([...P,...e==null?void 0:e.all_mods].map(JSON.stringify))].map(JSON.parse)),r(!1)):((t=e==null?void 0:e.all_mods)==null?void 0:t.length)===0&&r(!1),((c=e==null?void 0:e.all_mods)==null?void 0:c.length)===10?x(!0):x(!1)},[e==null?void 0:e.all_mods]);const E=()=>{N(-1)},v=()=>{j(!0),h(1),r(!0),d()};return s.jsxs("div",{className:o.insDashboard,children:[s.jsx("div",{className:o.navbar,children:s.jsx(J,{status:"home"})}),s.jsxs("div",{className:o.mainbody,children:[s.jsx("div",{className:o.sidebar,children:s.jsx(V,{status:"post"})}),s.jsxs("div",{className:o.newPost,children:[s.jsxs("section",{className:o.moderator_container_title,children:[s.jsx("img",{src:"/images/arrow-left-fees-icon.svg",onClick:E,alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),s.jsx("h6",{children:m("institute_moderators")})]}),s.jsx(W,{customStyle:{width:"100%"}}),s.jsx("h6",{className:o.add_new_moderator,onClick:()=>_(!0),children:m("add_new_moderator")}),s.jsxs("div",{className:o.moderator_list,children:[n==null?void 0:n.map((t,c)=>(n==null?void 0:n.length)===c+1?s.jsx("div",{ref:k,children:s.jsx(b,{moderator:t,setOpenModeratorMenu:l})},t==null?void 0:t._id):s.jsx(b,{moderator:t,setOpenModeratorMenu:l},t==null?void 0:t._id)),g&&s.jsx(Q,{onClose:()=>_(t=>!t),instituteId:i,onRefetchWhenAdd:v}),p&&s.jsx(T,{instituteId:i,onRefetch:v,onClose:()=>l(""),openModeratorMenu:p}),A&&s.jsx(L,{})]})]})]})]})};export{hs as default};
