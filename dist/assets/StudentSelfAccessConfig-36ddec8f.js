import{j as e,r as _,a1 as Ne,m8 as we,m9 as Te,ma as Re,mb as Me,mc as Le,lN as re,Q as ee,md as qe,me as Fe,D as le,mf as Ie,mg as De,mh as Pe,mi as Ee,t as ye,S as $e,u as z,mj as ke,c as Oe,e as Ae,C as Ye,n as He,d as ce,aL as ze,L as Be}from"./index-731451a5.js";import{U as Qe}from"./UniversalTab-d4f2174c.js";import{B as de}from"./BorderBottom-47800983.js";import{C as Ue}from"./styles-907e5611.js";import{q as Je,r as Ve,s as We}from"./student-api-4ee7144d.js";import Ge from"./ExtraSkills-338b70f9.js";import{j as Ke}from"./class-api-ec8ace00.js";import{S as be}from"./StudentProfileAbout-bf2da4ac.js";import Xe from"./StudentAllFeesData-0fb720de.js";import{S as Ze}from"./StudentHostelAllFeesData-47cd5d4a.js";import{S as es}from"./StudentHostelRenewal-77d26353.js";import{S as ss}from"./StudentMemberConfig-a9c9556b.js";import{S as ts}from"./SwitchAccount-cec46c4f.js";import{s as se}from"./Hostel.module-50da11fe.js";import{P as ns}from"./PopupWrapper-ffbaef7a.js";import{s as ne}from"./FeesStructure.module-7a88fbbc.js";import{T as ue}from"./TileWrapper-be9153cb.js";import{J as as}from"./JoinFormInput-8e74a0e0.js";import{C as je}from"./CertificateCard-f4c1bf4f.js";import"./CandidateList-034748fe.js";import"./ElectionCard.module-4dd482f8.js";import"./StaffProfileEachInfo-21badda6.js";import"./ViewFileDialog-0c131c06.js";import"./Overlay-07ce6f88.js";import"./Overlay.module-9133d1bb.js";import"./SearchModalBackdrop-5b309d60.js";import"./SearchHeader.module-b69c8942.js";import"./StudentAllFeesData.module-f5c3243d.js";import"./StudentAdmissionFees-88aa13c4.js";import"./StudentAdmissionPayFees-3445e82f.js";import"./admission-api-56b87fde.js";import"./JoinFormTextArea-7f6dded0.js";import"./JoinForm.module-212f9bb3.js";import"./EditConfirm.module-344fbdb9.js";import"./SelectFeeStructure-05d0a31f.js";import"./finance-api-5c6c5671.js";import"./pdf-convertor-function-e794de58.js";import"./main.receipt.pdf.worker-5753b302.js";import"./numberToWords.min-dbca819b.js";import"./DemandProcess-df635659.js";import"./JoinFormInputView-879755fe.js";import"./JoinFormCalender-5158d888.js";import"./DatePicker-305f3dc6.js";import"./JoinFormFile-110be590.js";import"./PaymentGatewayConfig-78c07c77.js";import"./LoaderButton-71df50a7.js";import"./hostel-api-4d11cb04.js";import"./paytmUpiInitiative-bed1cea7.js";import"./StudentInternalFeesCard-86c69584.js";import"./StudentInternalFeeReceipt-baf5cfc3.js";import"./pdfInternalFeeReceipt-ec10d7e3.js";import"./EmptyInfo-7233226d.js";import"./SearchModalWrapper-6e85c9f3.js";import"./CashProcess-d4947217.js";import"./Switch-81e70f2f.js";import"./SwitchBase-2ba5f868.js";import"./department-api-a4f0b4b7.js";import"./Tile.module-64552da2.js";import"./InstituteHostel.module-b6b254cc.js";import"./BonafideReason-8b18d679.js";import"./institute-staff-student-api-7f4890fe.js";import"./main.certificate.pdf.worker-8bd77f87.js";const is="_complaints_1x8cp_1",os="_complaintDetail_1x8cp_8",rs="_complaintList_1x8cp_12",ae={complaints:is,complaintDetail:os,complaintList:rs},ls="_complaintList_6v8l0_1",cs="_listcontainer_6v8l0_12",ds="_heading_6v8l0_25",ms="_listHead_6v8l0_40",hs="_tabs_6v8l0_44",_s="_item_6v8l0_49",ps="_text_6v8l0_64",xs="_to_6v8l0_67",us="_datetime_6v8l0_80",js="_solved_6v8l0_100",fs="_unsolved_6v8l0_104",vs="_dots_6v8l0_108",gs="_button_6v8l0_115",Ns="_menu_6v8l0_132",ys="_menuItem_6v8l0_144",M={complaintList:ls,listcontainer:cs,heading:ds,listHead:ms,tabs:hs,item:_s,text:ps,to:xs,datetime:us,solved:js,unsolved:fs,dots:vs,button:gs,menu:Ns,menuItem:ys};function $s({open:t,onClose:s,cid:o,refetch:d}){const[m]=we();if(!t)return null;const n={position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10},a={position:"absolute",zIndex:10},r=()=>{m(o).then(x=>{d(),s()}).catch({})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:s,style:n}),e.jsx("div",{className:M.menu,style:a,children:e.jsx("div",{className:M.menuItem,onClick:r,children:"Remove Complaint"})})]})}function bs({setShowDetails:t,complaint:s,setCDetails:o,refetch:d}){const[m,n]=_.useState(!1);return e.jsxs("div",{className:M.item,onClick:()=>{t(!0),o(s._id)},children:[e.jsx("img",{src:"/images/members/staff-complain-icon.svg",alt:""}),e.jsxs("div",{className:M.text,children:[e.jsxs("h6",{style:{textTransform:"capitalize"},children:[s==null?void 0:s.complaintType," complaint"]}),e.jsx("h6",{className:M.to,children:s==null?void 0:s.complaintTo}),e.jsxs("div",{className:M.datetime,children:[e.jsxs("p",{children:["Date: ",Ne(s==null?void 0:s.createdAt).format("LL")]}),(s==null?void 0:s.complaintStatus)==="Unsolved"?e.jsx("p",{className:M.unsolved,children:s==null?void 0:s.complaintStatus}):e.jsx("p",{className:M.solved,children:s==null?void 0:s.complaintStatus})]})]}),e.jsx("img",{className:M.dots,src:"/images/menu-dots-icon.svg",alt:"",onClick:()=>n(!0)}),m&&e.jsx($s,{open:m,onClose:()=>n(!1),cid:s==null?void 0:s._id,refetch:d})]})}function Cs({setShowDetails:t,complaints:s,setCDetails:o,refetch:d}){return e.jsxs("div",{className:M.complaintList,children:[e.jsx("h6",{className:M.heading,children:"Complaint List"}),e.jsx("div",{className:M.listcontainer,children:s==null?void 0:s.map((m,n)=>e.jsx(bs,{complaint:m,setShowDetails:t,setCDetails:o,refetch:d},n))}),e.jsx("div",{className:M.button,onClick:()=>t(!1),children:"Make New Complaint"})]})}const Ss="_complaintDetails_nvhg0_1",ws="_detailsheader_nvhg0_7",Ts="_detailsbody_nvhg0_17",Rs="_footer_nvhg0_46",Ms="_red_nvhg0_52",Ls="_blue_nvhg0_63",qs="_bluee_nvhg0_74",Fs="_reported_nvhg0_85",P={complaintDetails:Ss,detailsheader:ws,detailsbody:Ts,footer:Rs,red:Ms,blue:Ls,bluee:qs,reported:Fs};function Is({cid:t}){var n,a,r,x,p,j,c,u;const{data:s,refetch:o}=Te(t),[d]=Re(),m=()=>{d(t).then(i=>{o(),console.info(i.data)}).catch({})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:P.complaintDetails,children:[e.jsx("div",{className:P.detailsheader,children:"Complaint"}),e.jsx("hr",{}),e.jsxs("div",{className:P.detailsbody,children:[e.jsxs("h6",{style:{textTransform:"capitalize"},children:[(n=s==null?void 0:s.complaint)==null?void 0:n.complaintType," Complaint"]}),e.jsxs("h6",{children:["Complaint To : ",e.jsx("span",{children:(a=s==null?void 0:s.complaint)==null?void 0:a.complaintTo})]}),e.jsx("p",{children:(r=s==null?void 0:s.complaint)==null?void 0:r.complaintContent}),e.jsxs("div",{className:P.footer,children:[((x=s==null?void 0:s.complaint)==null?void 0:x.complaintStatus)==="Unsolved"?e.jsx("h6",{className:P.red,children:(p=s==null?void 0:s.complaint)==null?void 0:p.complaintStatus}):e.jsx("h6",{className:P.blue,children:(j=s==null?void 0:s.complaint)==null?void 0:j.complaintStatus}),e.jsxs("p",{children:["Date: ",Ne((c=s==null?void 0:s.complaint)==null?void 0:c.createdAt).format("LL")]})]}),((u=s==null?void 0:s.complaint)==null?void 0:u.reportAdmin)==="No"?e.jsx("h6",{className:P.bluee,onClick:m,children:"Report To Admin"}):e.jsx("h6",{className:`${P.bluee} ${P.reported}`,children:"Reported To Admin"})]})]})})}const Ds="_newComplain_91hqr_1",Ps="_newComplainheader_91hqr_5",Es="_input_91hqr_16",ks="_select_91hqr_26",Os="_down_91hqr_40",As="_options_91hqr_46",Ys="_option_91hqr_46",Hs="_postTextarea_91hqr_71",zs="_submitbtn_91hqr_103",Bs="_disablebtn_91hqr_122",T={newComplain:Ds,newComplainheader:Ps,input:Es,select:ks,down:Os,options:As,option:Ys,postTextarea:Hs,submitbtn:zs,disablebtn:Bs},fe={position:"relative",zIndex:1},Qs={position:"absolute",left:"8vw",top:"11vw",zIndex:10},Us={position:"absolute",left:"8vw",top:"18vw",zIndex:10},Js={position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10};function ve({setComplaintData:t,open:s,onClose:o,complaintData:d,setIsOpen:m,setIsOpen2:n,status:a,cHeadTitle:r,dHeadTitle:x}){return s?e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:o,style:Js}),a==="type"?e.jsxs("div",{style:Qs,className:T.options,children:[e.jsx("div",{className:T.option,onClick:()=>{t({...d,type:"Open"}),m(!1)},children:"Open Complaint"}),e.jsx("div",{className:T.option,onClick:()=>{t({...d,type:"Anonymous"}),m(!1)},children:"Anonymous Complaint"})]}):e.jsxs("div",{style:Us,className:T.options,children:[e.jsx("div",{className:T.option,onClick:()=>{t({...d,to:r}),n(!1)},children:r}),e.jsx("div",{className:T.option,onClick:()=>{t({...d,to:x}),n(!1)},children:x})]})]}):null}function Vs({studentId:t,toast:s,setToast:o,refetch:d}){var y,S,N,$,R,C,I,A,B,Q,U,J,V,W,G;const[m,n]=_.useState(!1),[a,r]=_.useState(!1),[x,p]=_.useState(!1),[j]=Me(),{data:c}=Le(t),[u,i]=_.useState(""),[l,h]=_.useState({type:"",to:"",content:""}),b=document.querySelector("textarea");b==null||b.addEventListener("keyup",D=>{b.style.height="auto";let Y=D.target.scrollHeight;b.style.height=`${Y}px`});const f=()=>{var D,Y,K,g,X,me,he,_e,pe,xe;p(te=>!te),j({sid:t&&t,complaintData:{classHead:l.to===((Y=(D=c==null?void 0:c.title)==null?void 0:D.studentClass)==null?void 0:Y.classHeadTitle)?(g=(K=c==null?void 0:c.title)==null?void 0:K.studentClass)==null?void 0:g._id:"",departmentHead:l.to===((he=(me=(X=c==null?void 0:c.title)==null?void 0:X.studentClass)==null?void 0:me.department)==null?void 0:he.dTitle)?(xe=(pe=(_e=c==null?void 0:c.title)==null?void 0:_e.studentClass)==null?void 0:pe.department)==null?void 0:xe._id:"",complaintType:l.type,complaintContent:l.content,complaintTo:l.to}}).then(te=>{te.data.message&&(i("Successfully Submitted"),o(!0),d(),h({...l,content:"",type:"",to:""}),p(Se=>!Se))})};return e.jsxs("div",{className:T.newComplain,children:[e.jsx(re,{msg:u,run:s,setRun:o}),e.jsx("h6",{className:T.newComplainheader,children:"Make a new complaint"}),e.jsx("div",{className:T.input,style:fe,onClick:()=>n(!0),children:e.jsxs("div",{className:T.select,children:[(l==null?void 0:l.type)==="Open"?e.jsx("h6",{children:" Open Complaint"}):(l==null?void 0:l.type)==="Anonymous"?e.jsx("h6",{children:"Anonymous Complaint"}):e.jsx("h6",{children:" Complaint Type"}),e.jsx("img",{className:T.down,src:"/images/downn-icon.svg",alt:""})]})}),e.jsx("div",{className:T.input,style:fe,onClick:()=>r(!0),children:e.jsxs("div",{className:T.select,children:[(l==null?void 0:l.to)===((S=(y=c==null?void 0:c.title)==null?void 0:y.studentClass)==null?void 0:S.classHeadTitle)?e.jsx("h6",{children:($=(N=c==null?void 0:c.title)==null?void 0:N.studentClass)==null?void 0:$.classHeadTitle}):(l==null?void 0:l.to)===((I=(C=(R=c==null?void 0:c.title)==null?void 0:R.studentClass)==null?void 0:C.department)==null?void 0:I.dTitle)?e.jsx("h6",{children:(Q=(B=(A=c==null?void 0:c.title)==null?void 0:A.studentClass)==null?void 0:B.department)==null?void 0:Q.dTitle}):e.jsx("h6",{children:" Complaint To"}),e.jsx("img",{className:T.down,src:"/images/downn-icon.svg",alt:""})]})}),e.jsx(ve,{open:m,onClose:()=>n(!1),setComplaintData:h,complaintData:l,setIsOpen:n,status:"type"}),e.jsx(ve,{open:a,onClose:()=>r(!1),setComplaintData:h,complaintData:l,setIsOpen2:r,status:"to",cHeadTitle:(J=(U=c==null?void 0:c.title)==null?void 0:U.studentClass)==null?void 0:J.classHeadTitle,dHeadTitle:(G=(W=(V=c==null?void 0:c.title)==null?void 0:V.studentClass)==null?void 0:W.department)==null?void 0:G.dTitle}),e.jsx("textarea",{className:T.postTextarea,type:"text",required:!0,name:"CreateInsPost",placeholder:"Enter Complaint Description",value:l.content,onChange:D=>h({...l,content:D.target.value})}),l.type&&l.content&&l.to?e.jsx("div",{className:T.submitbtn,onClick:f,children:"Send Complaint"}):e.jsx("div",{className:`${T.submitbtn} ${T.disablebtn}`,children:"Send Complaint"}),x&&e.jsx(ee,{})]})}function Ws({studentId:t}){const[s,o]=_.useState(!1),[d,m]=_.useState(""),[n,a]=_.useState(!1),{data:r,refetch:x}=qe(t);return e.jsxs("div",{className:ae.complaints,children:[e.jsxs("div",{className:ae.complaintDetail,children:[s&&e.jsx(Is,{cid:d}),!s&&e.jsx(Vs,{studentId:t,toast:n,setToast:a,refetch:x})]}),e.jsx("div",{className:ae.complaintList,children:e.jsx(Cs,{setShowDetails:o,complaints:r==null?void 0:r.complaints,setCDetails:m,refetch:x})})]})}const Gs="_complaints_1x8cp_1",Ks="_complaintDetail_1x8cp_8",Xs="_complaintList_1x8cp_12",ie={complaints:Gs,complaintDetail:Ks,complaintList:Xs},Zs="_complaintList_3gn3w_1",et="_heading_3gn3w_12",st="_listHead_3gn3w_27",tt="_tabs_3gn3w_31",nt="_item_3gn3w_36",at="_text_3gn3w_52",it="_to_3gn3w_66",ot="_datetime_3gn3w_79",rt="_solved_3gn3w_97",lt="_unsolved_3gn3w_101",ct="_dots_3gn3w_105",dt="_button_3gn3w_112",mt="_menu_3gn3w_129",ht="_menuItem_3gn3w_141",_t="_listcontainer_3gn3w_157",L={complaintList:Zs,heading:et,listHead:st,tabs:tt,item:nt,text:at,to:it,datetime:ot,solved:rt,unsolved:lt,dots:ct,button:dt,menu:mt,menuItem:ht,listcontainer:_t};function pt({open:t,onClose:s,refetch:o,lid:d}){const[m]=Fe();if(!t)return null;const n={position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10},a={position:"absolute",zIndex:10},r=()=>{m(d).then(x=>{o(),s()}).catch({})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:s,style:n}),e.jsx("div",{className:L.menu,style:a,children:e.jsx("div",{className:L.menuItem,onClick:r,children:"Remove Complaint"})})]})}function xt({setShowDetails:t,leave:s,setCDetails:o,cDetail:d,refetch:m}){var u;const[n,a]=_.useState(!1);var r=(s==null?void 0:s.reason.match(/[\s\S]{1,50}/g))||[];const x=[],p=[],j=[],c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return(u=s==null?void 0:s.date)==null||u.map(i=>{const l=i.split("/")[0],h=i.split("/")[1].split("")[0]==="0"?c[parseInt(i.split("/")[1],10)]:c[i.split("/")[1]],b=i.split("/")[2];x.push(l),p.push(h),j.push(b)}),e.jsxs("div",{className:L.item,onClick:()=>{t(!0),o({...d,dates:x,months:p,years:j,content:s==null?void 0:s.reason,status:s==null?void 0:s.status})},children:[e.jsx("img",{src:"/images/members/transfer-icon.svg",alt:""}),e.jsxs("div",{className:L.text,children:[e.jsxs("h6",{className:L.to,children:["Date: ",[...new Set(x)].map(i=>`${i} `),e.jsxs("span",{children:[[...new Set(p)].map(i=>`${i} `)," ",[...new Set(j)].map(i=>`${i} `)]})]}),e.jsxs("div",{className:L.datetime,children:[(r==null?void 0:r.length)>1?e.jsxs("p",{children:[r[0],"..."]}):e.jsx("p",{children:r[0]}),(s==null?void 0:s.status)==="Request"?e.jsx("p",{className:L.unsolved,children:s==null?void 0:s.status}):e.jsx("p",{className:L.solved,children:s==null?void 0:s.status})]})]}),e.jsx("img",{className:L.dots,src:"/images/menu-dots-icon.svg",alt:"",onClick:()=>a(!0)}),n&&e.jsx(pt,{open:n,onClose:()=>a(!1),refetch:m,lid:s==null?void 0:s._id})]})}function ut({staffId:t,setShowDetails:s,setCDetails:o,cDetail:d,studentLeaveData:m,refetch:n}){return e.jsxs("div",{className:L.complaintList,children:[e.jsx("h6",{className:L.heading,children:"Leaves"}),e.jsx("div",{className:L.listcontainer,children:m==null?void 0:m.allLeave.map((a,r)=>e.jsx(xt,{leave:a,setShowDetails:s,setCDetails:o,cDetail:d,refetch:n},r))}),e.jsx("div",{className:L.button,onClick:()=>s(!1),children:"Make New Leave"})]})}const jt="_newComplain_1s13h_1",ft="_header_1s13h_8",vt="_calender_1s13h_16",gt="_btncontainer_1s13h_24",Nt="_reasonbtn_1s13h_29",yt="_disabled_1s13h_45",E={newComplain:jt,header:ft,calender:vt,btncontainer:gt,reasonbtn:Nt,disabled:yt};const $t=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],bt=["January","February","March","April","May","June","July","August","September","October","November","December"],Ct=(t=$t,s=bt)=>{const o=new Date,d=`${o.getDate()}-${o.getMonth()+1}-${o.getFullYear()}`,m=[1,2,3,4,5,6,0],[n,a]=_.useState(o),r=new Date(n.getFullYear(),n.getMonth()+1,0),x=new Date(n.getFullYear(),n.getMonth(),0),p=r.getDate(),j=new Date(n.getFullYear(),n.getMonth(),1).getDay(),c=m.indexOf(j)+1;let u=x.getDate()-m.indexOf(j)+1,i=1,l=1;const h=6,b=7,f={};for(let N=1;N<h+1;N++)for(let $=1;$<b+1;$++)f[N]||(f[N]=[]),N===1?$<c?(f[N]=[...f[N],{classes:"in-prev-month",date:`${u}-${n.getMonth()===0?12:n.getMonth()}-${n.getMonth()===0?n.getFullYear()-1:n.getFullYear()}`,value:u}],u++):(f[N]=[...f[N],{classes:"",date:`${i}-${n.getMonth()+1}-${n.getFullYear()}`,value:i}],i++):N>1&&i<p+1?(f[N]=[...f[N],{classes:"",date:`${i}-${n.getMonth()+1}-${n.getFullYear()}`,value:i}],i++):(f[N]=[...f[N],{classes:"in-next-month",date:`${l}-${n.getMonth()+2===13?1:n.getMonth()+2}-${n.getMonth()+2===13?n.getFullYear()+1:n.getFullYear()}`,value:l}],l++);return{daysShort:t,monthNames:s,todayFormatted:d,calendarRows:f,selectedDate:n,getPrevMonth:()=>{a(N=>new Date(N.getFullYear(),N.getMonth()-1,1))},getNextMonth:()=>{a(N=>new Date(N.getFullYear(),N.getMonth()+1,1))}}},St=({dateSelected:t,setSelectedDate:s,removeDateArray:o,addDateArray:d})=>{const{calendarRows:m,selectedDate:n,todayFormatted:a,daysShort:r,monthNames:x,getNextMonth:p,getPrevMonth:j}=Ct(),[c,u]=_.useState([]),i=l=>{if(t.length>0&&t.includes(l)){const h=t.filter(function(b){return b!==l});o(h),u(h)}else d(l),u(h=>[...h,l])};return e.jsxs(_.Fragment,{children:[e.jsxs("div",{className:"calenderheader",children:[e.jsx("div",{className:"monthbtn",onClick:j,children:e.jsx("img",{alt:"not found",src:"/images/members/arrow-left.svg"})}),e.jsxs("div",{className:"yearmonth",children:[e.jsx("h6",{children:`${x[n.getMonth()]}`}),e.jsx("p",{children:`${n.getFullYear()}`})]}),e.jsx("div",{className:"monthbtn",onClick:p,children:e.jsx("img",{alt:"not found",src:"/images/members/arrow-right.svg"})})]}),e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsx("tr",{children:r.map(l=>e.jsx("th",{className:"day",children:l},l))})}),e.jsx("tbody",{children:Object.values(m).map(l=>e.jsx("tr",{children:l.map(h=>h.date===a?e.jsx("td",{className:`${h.classes} date`,onClick:()=>i(`${h.value<10?`0${h.value}`:h.value}/${n.getMonth()+1<10?`0${n.getMonth()+1}`:n.getMonth()+1}/${n.getFullYear()}`),children:e.jsx("div",{className:t.includes(`${h.value<10?`0${h.value}`:h.value}/${n.getMonth()+1<10?`0${n.getMonth()+1}`:n.getMonth()+1}/${n.getFullYear()}`)?`${h.classes} datediv aaji active`:`${h.classes} datediv aaji`,children:h.value})},h.date):e.jsx("td",{className:`${h.classes} date`,onClick:()=>i(`${h.value<10?`0${h.value}`:h.value}/${n.getMonth()+1<10?`0${n.getMonth()+1}`:n.getMonth()+1}/${n.getFullYear()}`),children:e.jsx("div",{className:t.includes(`${h.value<10?`0${h.value}`:h.value}/${n.getMonth()+1<10?`0${n.getMonth()+1}`:n.getMonth()+1}/${n.getFullYear()}`)?`${h.classes} datediv  active`:`${h.classes} datediv `,children:h.value})},h.date))},l[0].date))})]})]})},wt="_addDisplay_i1yf1_1",Tt="_title_i1yf1_8",Rt="_content_i1yf1_28",Mt="_item_i1yf1_32",Lt="_btn_i1yf1_55",qt="_active_i1yf1_84",k={addDisplay:wt,title:Tt,content:Rt,item:Mt,btn:Lt,active:qt};function Ft({addDisplay:t,hideModal:s,selectedReason:o,setSelectedReason:d,sendRequest:m}){const n=document.querySelector("textarea");return n==null||n.addEventListener("keyup",a=>{n.style.height="auto";let r=a.target.scrollHeight;n.style.height=`${r}px`}),e.jsx(le,{open:t,onClose:()=>s(!1),children:e.jsxs("div",{className:k.addDisplay,children:[e.jsx("div",{className:k.title,children:e.jsx("h6",{children:"Add Leave Reason"})}),e.jsxs("div",{className:k.content,children:[e.jsx("div",{className:k.item,children:e.jsx("textarea",{className:k.postTextarea,type:"text",required:!0,name:"CreateInsPost",placeholder:"Enter Reason",value:o,onChange:a=>d(a.target.value)})}),o?e.jsx("div",{className:`${k.btn} ${k.active}`,onClick:m,children:"Send Request"}):e.jsx("div",{className:k.btn,children:"Send Request"})]})]})})}function It({studentId:t,refetch:s}){const[o]=Ie(),[d,m]=_.useState([]),[n,a]=_.useState(""),[r,x]=_.useState(!1),[p,j]=_.useState(!1),[c,u]=_.useState(!1),[i,l]=_.useState(""),h=new Date,b=`${h.getDate()<10?`0${h.getDate()}`:h.getDate()}/${h.getMonth()+1<10?`0${h.getMonth()+1}`:h.getMonth()+1}/${h.getFullYear()}`;function f($){return new Date($.split("/").reverse().join("/"))}const y=$=>{m($)},S=$=>{+f($)>=+f(b)&&m(R=>[...R,$])},N=()=>{x(!1),j($=>!$),o({sid:t&&t,LeaveData:{reason:n,dates:d}}).then($=>{$.data&&(l("Successfully Submitted Request"),u(!0),s(),m([]),a(""),j(R=>!R))}).catch(()=>{j($=>!$)})};return e.jsxs("div",{className:E.newComplain,children:[e.jsx(re,{msg:i,run:c,setRun:u}),e.jsx("div",{className:E.header,children:e.jsx("h6",{className:E.newComplainheader,children:"Select Leave Date"})}),e.jsxs("div",{className:E.calender,children:[e.jsx(St,{dateSelected:d,setSelectedDate:m,removeDateArray:y,addDateArray:S}),e.jsx("div",{className:E.btncontainer,children:d.length>0?e.jsx("div",{className:E.reasonbtn,onClick:()=>x(!0),children:"Reason"}):e.jsx("div",{className:`${E.reasonbtn} ${E.disabled}`,children:"Reason"})})]}),r&&e.jsx(Ft,{hideModal:$=>x($),addDisplay:r,selectedReason:n,setSelectedReason:a,sendRequest:N}),p&&e.jsx(ee,{})]})}const Dt="_complaintDetails_eoqae_1",Pt="_detailsheader_eoqae_7",Et="_detailsbody_eoqae_17",kt="_footer_eoqae_42",Ot="_red_eoqae_47",At="_blue_eoqae_58",Z={complaintDetails:Dt,detailsheader:Pt,detailsbody:Et,footer:kt,red:Ot,blue:At};function Yt({cDetail:t}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:Z.complaintDetails,children:[e.jsx("div",{className:Z.detailsheader,children:"Leave Details"}),e.jsx("hr",{}),e.jsxs("div",{className:Z.detailsbody,children:[e.jsxs("h6",{children:[[...new Set(t==null?void 0:t.dates)].map(s=>`${s} `)," ",[...new Set(t==null?void 0:t.months)].map(s=>`${s} `)," ",[...new Set(t==null?void 0:t.years)].map(s=>`${s} `)]}),e.jsx("p",{children:t==null?void 0:t.content}),e.jsx("div",{className:Z.footer,children:e.jsx("h6",{className:Z.red,children:t==null?void 0:t.status})})]})]})})}function Ht({studentId:t}){const{data:s,refetch:o}=De(t),[d,m]=_.useState(!1),[n,a]=_.useState({dates:[],months:[],years:[],content:"",status:""});return e.jsxs("div",{className:ie.complaints,children:[e.jsxs("div",{className:ie.complaintDetail,children:[d&&e.jsx(Yt,{cDetail:n}),!d&&e.jsx(It,{studentId:t,refetch:o})]}),e.jsx("div",{className:ie.complaintList,children:e.jsx(ut,{studentId:t,setShowDetails:m,setCDetails:a,cDetail:n,studentLeaveData:s,refetch:o})})]})}const zt="_previousReport_1bco5_1",Bt="_report_1bco5_6",Qt="_reportText_1bco5_20",Ut="_loader_1bco5_44",Jt="_noData_1bco5_55",Vt="_backlog_card_1bco5_67",Wt="_backlog_card_text_container_1bco5_83",Gt="_backlog_card_text_1bco5_83",q={previousReport:zt,report:Bt,reportText:Qt,loader:Ut,noData:Jt,backlog_card:Vt,backlog_card_text_container:Wt,backlog_card_text:Gt},Kt="_reportDetails_69cn7_1",Xt="_header_69cn7_8",Zt="_progressbar_69cn7_17",en="_text_69cn7_23",sn="_name_69cn7_27",tn="_roll_69cn7_48",nn="_table_69cn7_54",an="_th_69cn7_59",on="_td_69cn7_70",rn="_total_69cn7_94",ln="_attbehave_69cn7_98",cn="_attendence_69cn7_107",dn="_stars_69cn7_124",mn="_improve_69cn7_147",hn="_improvelack_69cn7_160",_n="_buttons_69cn7_170",pn="_download_69cn7_179",xn="_send_69cn7_195",un="_progressFont_69cn7_208",jn="_grade_69cn7_220",fn="_tr_69cn7_237",vn="_trBottom_69cn7_245",v={reportDetails:Kt,header:Xt,progressbar:Zt,text:en,name:sn,roll:tn,table:nn,th:an,td:on,total:rn,attbehave:ln,attendence:cn,stars:dn,improve:mn,improvelack:hn,buttons:_n,download:pn,send:xn,progressFont:un,grade:jn,tr:fn,trBottom:vn};function gn(t){const{children:s,...o}=t;return e.jsxs("div",{style:{position:"relative",width:"5vw",height:"5vw"},children:[e.jsx("div",{style:{position:"absolute",backgroundColor:"white",borderRadius:"50%"},children:e.jsx(Ue,{...o,value:o.percentage,styles:{path:{stroke:(o==null?void 0:o.percentage)>=75?"green":o.percentage>=(o==null?void 0:o.aggregatePassingMarks)&&o.percentage<75?"#FF7D05":"rgba(206, 206, 206, 0.76)"}}})}),e.jsx("div",{style:{position:"absolute",height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:t.children})]})}function Nn({yearId:t}){var m,n,a,r,x,p,j,c,u,i,l,h,b,f,y,S,N,$,R,C,I,A,B,Q,U,J,V,W,G,D,Y,K;const{data:s,refetch:o}=Pe({pid:t},{skip:!t}),d=[];_.useEffect(()=>{t&&o()},[t]);for(let g=0;g<((m=s==null?void 0:s.finalReport)==null?void 0:m.behaviourStar);g++)d.push("/images/bookmark-yellow.svg");return e.jsxs("div",{className:v.reportDetails,children:[e.jsxs("div",{className:v.header,children:[e.jsxs(gn,{percentage:((a=(n=s==null?void 0:s.finalReport)==null?void 0:n.totalPercentage)==null?void 0:a.toFixed(2))??0,children:[e.jsx("div",{className:v.progressFont,children:e.jsx("strong",{children:(r=s==null?void 0:s.finalReport)!=null&&r.is_grade?(p=(x=s==null?void 0:s.finalReport)==null?void 0:x.total)==null?void 0:p.spi:`${((c=(j=s==null?void 0:s.finalReport)==null?void 0:j.totalPercentage)==null?void 0:c.toFixed(2))??0}%`})}),e.jsx("div",{className:v.grade,children:((i=(u=s==null?void 0:s.finalReport)==null?void 0:u.total)==null?void 0:i.showGradeTotal)??""})]}),e.jsxs("div",{className:v.text,children:[e.jsxs("div",{className:v.name,children:[e.jsx("p",{children:"Name"}),e.jsxs("h6",{children:[(l=s==null?void 0:s.student)==null?void 0:l.studentFirstName," ",(h=s==null?void 0:s.student)==null?void 0:h.studentMiddleName," ",(b=s==null?void 0:s.student)==null?void 0:b.studentLastName]})]}),e.jsxs("div",{className:`${v.name} ${v.roll}`,children:[e.jsx("p",{children:"Roll No."}),e.jsx("h6",{children:(f=s==null?void 0:s.student)==null?void 0:f.studentROLLNO})]})]})]}),e.jsxs("table",{className:v.table,children:[e.jsx("thead",{children:e.jsxs("tr",{className:v.tr,children:[e.jsx("th",{className:v.th,children:"Subject"}),e.jsx("th",{className:v.th,children:"Final Exam Marks"}),e.jsx("th",{className:v.th,children:"Other"}),e.jsx("th",{className:v.th,children:"Grace Marks"}),e.jsx("th",{className:v.th,children:"Total"})]})}),e.jsxs("tbody",{children:[(S=(y=s==null?void 0:s.finalReport)==null?void 0:y.subjects)==null?void 0:S.map(g=>{var X;return e.jsxs("tr",{className:v.tr,children:[e.jsx("td",{className:v.td,children:g==null?void 0:g.subjectName}),e.jsxs("td",{className:v.td,children:[g==null?void 0:g.finalObtainMarks,"/",g==null?void 0:g.finalTotalMarks]}),e.jsxs("td",{className:v.td,children:[g==null?void 0:g.otherObtainMarks,"/",g==null?void 0:g.otherTotalMarks]}),e.jsx("td",{className:v.td,children:g==null?void 0:g.graceMarks}),e.jsx("td",{className:v.td,children:(X=s==null?void 0:s.finalReport)!=null&&X.is_grade?g==null?void 0:g.showGrade:`${g==null?void 0:g.subjectWiseTotal}/${g==null?void 0:g.totalMarks}`})]},g==null?void 0:g._id)}),e.jsxs("tr",{className:`${v.tr} ${v.trBottom}`,children:[e.jsx("td",{className:`${v.td} ${v.total}`,children:"Total"}),e.jsx("td",{className:`${v.td} ${v.total}`,children:($=(N=s==null?void 0:s.finalReport)==null?void 0:N.total)==null?void 0:$.finalTotal}),e.jsx("td",{className:`${v.td} ${v.total}`,children:(C=(R=s==null?void 0:s.finalReport)==null?void 0:R.total)==null?void 0:C.otherTotal}),e.jsx("td",{className:`${v.td} ${v.total}`,children:(A=(I=s==null?void 0:s.finalReport)==null?void 0:I.total)==null?void 0:A.graceTotal}),e.jsx("td",{className:`${v.td} ${v.total}`,children:(B=s==null?void 0:s.finalReport)!=null&&B.is_grade?(U=(Q=s==null?void 0:s.finalReport)==null?void 0:Q.total)==null?void 0:U.showGradeTotal:`${(V=(J=s==null?void 0:s.finalReport)==null?void 0:J.total)==null?void 0:V.allSubjectTotal}`})]})]})]}),e.jsxs("div",{className:v.attbehave,children:[e.jsxs("div",{className:v.attendence,children:[e.jsxs("p",{children:["Attendance :"," ",e.jsxs("span",{children:[(W=s==null?void 0:s.finalReport)==null?void 0:W.attendance,"/"," ",(G=s==null?void 0:s.finalReport)==null?void 0:G.attendanceTotal]})]}),e.jsxs("h5",{children:[(D=s==null?void 0:s.finalReport)==null?void 0:D.attendancePercentage," %"]}),e.jsx("div",{})]}),e.jsxs("div",{className:v.attendence,children:[d.length===1?e.jsxs("p",{children:["Behaviour : ",e.jsx("span",{children:"Very Bad"})]}):d.length===2?e.jsxs("p",{children:["Behaviour : ",e.jsx("span",{children:"Bad"})," "]}):d.length===3?e.jsxs("p",{children:["Behaviour : ",e.jsx("span",{children:"Good"})," "]}):d.length===4?e.jsxs("p",{children:["Behaviour : ",e.jsx("span",{children:"Very Good"})," "]}):d.length===4?e.jsxs("p",{children:["Behaviour : ",e.jsx("span",{children:"Excellent"})]}):e.jsx("p",{}),e.jsx("div",{className:v.stars,children:d==null?void 0:d.map(g=>e.jsx("img",{src:g,alt:""}))}),e.jsx("div",{})]})]}),e.jsxs("ul",{className:v.improvelack,children:[e.jsxs("li",{className:v.improve,children:[e.jsx("span",{children:"• Improvements - "}),(Y=s==null?void 0:s.finalReport)==null?void 0:Y.behaviourImprovement]}),e.jsxs("li",{className:v.improve,children:[e.jsx("span",{children:"• Lack in - "})," ",(K=s==null?void 0:s.finalReport)==null?void 0:K.behaviourLack]})]})]})}function yn({studentId:t}){var x;const[s,o]=_.useState(!1),[d,m]=_.useState(!1),[n,a]=_.useState(""),{data:r}=Ee({sid:t});return _.useEffect(()=>{setTimeout(()=>{o(!s)},3e3)},[]),e.jsx(e.Fragment,{children:d?e.jsx(Nn,{yearId:n}):e.jsx("div",{className:q.previousReport,children:(r==null?void 0:r.previousData.length)>0?(x=r==null?void 0:r.previousData)==null?void 0:x.map((p,j)=>{var c,u,i;return e.jsxs("div",{className:q.report,onClick:()=>{m(!0),a(p==null?void 0:p._id)},children:[e.jsx("img",{src:"/images/members/prevReport.svg",alt:""}),e.jsxs("div",{className:q.reportText,children:[e.jsxs("h6",{children:["Batch ",(c=p==null?void 0:p.batches)==null?void 0:c.batchName]}),e.jsxs("p",{children:[(u=p==null?void 0:p.studentClass)==null?void 0:u.className," ",(i=p==null?void 0:p.studentClass)==null?void 0:i.classTitle]})]})]},j)}):(r==null?void 0:r.previousData.length)===0&&s===!0?e.jsx("div",{className:q.noData,children:e.jsx("img",{src:"/images/nodata.jpg",alt:""})}):e.jsx("div",{className:q.loader,children:e.jsx("img",{src:"/images/loader/loader.gif",alt:""})})})})}const $n=({studentId:t})=>{const[s,o]=ye(),[d,m]=_.useState(1),[n,a]=_.useState(!0),[r,x]=_.useState([]),[p,j]=_.useState(!0),{allBacklogList:c,allBacklogListRefetch:u}=Je({data:{sid:t,page:d,limit:10},skip:!t});return _.useEffect(()=>{t&&(j(!0),u())},[t,d,u]),_.useEffect(()=>{o&&n&&m(i=>i+1)},[o,n]),_.useEffect(()=>{var i,l;c!=null&&c.subjects?(x(h=>[...new Set([...h,...c==null?void 0:c.subjects].map(JSON.stringify))].map(JSON.parse)),j(!1)):((i=c==null?void 0:c.subjects)==null?void 0:i.length)===0&&j(!1),((l=c==null?void 0:c.subjects)==null?void 0:l.length)===10?a(!0):a(!1)},[c==null?void 0:c.subjects]),e.jsxs("div",{className:q.previousReport,children:[r==null?void 0:r.map((i,l)=>{var h,b,f,y,S,N,$,R;return(r==null?void 0:r.lenght)===l+1?e.jsx("div",{ref:s,children:e.jsxs("section",{className:q.backlog_card,style:{marginBottom:"0.8rem"},children:[e.jsx("img",{src:"/images/department/subjectIcon.svg",alt:"subject icon"}),e.jsxs("div",{className:q.backlog_card_text_container,children:[e.jsxs("div",{className:q.backlog_card_text,children:[e.jsx("h6",{children:((h=i==null?void 0:i.backlog_subject)==null?void 0:h.subjectName)??""}),e.jsx("p",{children:((b=i==null?void 0:i.backlog_batch)==null?void 0:b.batchName)??""}),e.jsxs("p",{children:[((f=i==null?void 0:i.backlog_class)==null?void 0:f.className)??""," ",((y=i==null?void 0:i.backlog_class)==null?void 0:y.classTitle)??""]})]}),(i==null?void 0:i.backlog_symbol)==="Dropout"&&e.jsx("img",{src:"/images/dropout-backlog-icon.svg",alt:"dropout icon"}),(i==null?void 0:i.backlog_symbol)==="Clear"&&e.jsx("img",{src:"/images/clear-backlog-icon.svg",alt:"clear icon"})]})]})},i==null?void 0:i._id):e.jsxs("section",{className:q.backlog_card,style:{marginBottom:"0.8rem"},children:[e.jsx("img",{src:"/images/department/subjectIcon.svg",alt:"subject icon"}),e.jsxs("div",{className:q.backlog_card_text_container,children:[e.jsxs("div",{className:q.backlog_card_text,children:[e.jsx("h6",{children:((S=i==null?void 0:i.backlog_subject)==null?void 0:S.subjectName)??""}),e.jsx("p",{children:((N=i==null?void 0:i.backlog_batch)==null?void 0:N.batchName)??""}),e.jsxs("p",{children:[(($=i==null?void 0:i.backlog_class)==null?void 0:$.className)??""," ",((R=i==null?void 0:i.backlog_class)==null?void 0:R.classTitle)??""]})]}),(i==null?void 0:i.backlog_symbol)==="Dropout"&&e.jsx("img",{src:"/images/dropout-backlog-icon.svg",alt:"dropout icon"}),(i==null?void 0:i.backlog_symbol)==="Clear"&&e.jsx("img",{src:"/images/clear-backlog-icon.svg",alt:"clear icon"})]})]},i==null?void 0:i._id)}),p&&e.jsx($e,{})]})},bn=({studentId:t})=>{const{t:s}=z(),o=[{name:s("yearly_reports"),id:0},{name:s("backlog"),id:1}],[d,m]=_.useState(0);return e.jsxs(e.Fragment,{children:[e.jsx(Qe,{showAs:!1,tabList:o,customStyleTab:{width:"50%"},setActiveIndexTab:m,activeIndexTab:d}),e.jsx(de,{}),d===0&&e.jsx(yn,{studentId:t}),d===1&&e.jsx($n,{studentId:t})]})},Cn="_complaints_1x8cp_1",Sn="_complaintDetail_1x8cp_8",wn="_complaintList_1x8cp_12",ge={complaints:Cn,complaintDetail:Sn,complaintList:wn},Tn="_addDisplay_i1yf1_1",Rn="_title_i1yf1_8",Mn="_content_i1yf1_28",Ln="_item_i1yf1_32",qn="_btn_i1yf1_55",Fn="_active_i1yf1_84",O={addDisplay:Tn,title:Rn,content:Mn,item:Ln,btn:qn,active:Fn};function In({addDisplay:t,selectedReason:s,setSelectedReason:o,studentId:d,setToast:m,setvMessage:n,onCloseModal:a}){const[r]=ke(),x=document.querySelector("textarea"),[p,j]=_.useState(!1);x==null||x.addEventListener("keyup",u=>{x.style.height="auto";let i=u.target.scrollHeight;x.style.height=`${i}px`});const c=()=>{j(u=>!u),r({sid:d&&d,transferData:{transferReason:s}}).then(u=>{u.data&&(n("Successfully Submitted Request"),m(!0),j(i=>!i),a())}).catch(()=>{j(u=>!u)})};return e.jsxs(le,{open:t,onClose:()=>a(),children:[e.jsxs("div",{className:O.addDisplay,children:[e.jsx("div",{className:O.title,children:e.jsx("h6",{children:"Add Leave Reason"})}),e.jsxs("div",{className:O.content,children:[e.jsx("div",{className:O.item,children:e.jsx("textarea",{className:O.postTextarea,type:"text",required:!0,name:"CreateInsPost",placeholder:"Enter Reason",value:s,onChange:u=>o(u.target.value)})}),s?e.jsx("div",{className:`${O.btn} ${O.active}`,onClick:c,children:"Send Request"}):e.jsx("div",{className:O.btn,children:"Send Request"})]})]}),p&&e.jsx(ee,{})]})}function Dn({studentId:t}){const s=Oe(),[o,d]=_.useState(!0),[m,n]=_.useState(!1),[a,r]=_.useState(""),[x,p]=_.useState(""),j=()=>{d(!1),s(-1)};return e.jsxs("div",{className:ge.complaints,children:[e.jsx(re,{msg:a,run:m,setRun:n}),e.jsx("div",{className:ge.complaintDetail,children:o&&e.jsx(In,{addDisplay:o,selectedReason:x,setSelectedReason:p,setToast:n,setvMessage:r,studentId:t,onCloseModal:j})})]})}const Pn="_studentForm_1rjcz_1",En="_topHeading_1rjcz_12",kn="_formContainer_1rjcz_25",On="_viewRow_1rjcz_33",An="_detailImg_1rjcz_40",Yn="_imgcontainer_1rjcz_72",Hn="_toprow_1rjcz_79",zn="_textcontainer_1rjcz_87",Bn="_tabs_1rjcz_108",Qn="_link_hold_container_1rjcz_113",F={studentForm:Pn,topHeading:En,formContainer:kn,viewRow:On,detailImg:An,imgcontainer:Yn,toprow:Hn,textcontainer:zn,tabs:Bn,link_hold_container:Qn},Un="_studentMCQ_18env_1",Jn="_mcqTop_18env_5",Vn="_mcqTopItem_18env_11",Wn="_active_18env_25",w={studentMCQ:Un,mcqTop:Jn,mcqTopItem:Vn,active:Wn};function H({children:t,onclick:s}){const[o,d]=_.useState(!1),[m,n]=_.useState({x:-1,y:-1});_.useEffect(()=>{m.x!==-1&&m.y!==-1?(d(!0),setTimeout(()=>d(!1),1e3)):d(!1)},[m]),_.useEffect(()=>{o||n({x:-1,y:-1})},[o]);const a=r=>{n({x:r.clientX-r.target.offsetLeft,y:r.clientY-r.target.offsetTop}),s&&s(r)};return e.jsxs("div",{className:"ripple_btn",onClick:a,children:[o?e.jsx("span",{className:"ripple"}):"",e.jsx("span",{className:"content",children:t})]})}function Gn({activeIndex:t,setActiveIndex:s}){return e.jsxs("div",{className:w.mcqTop,children:[e.jsx("div",{className:t===0?`${w.mcqTopItem} ${w.active}`:w.mcqTopItem,onClick:()=>s(0),children:e.jsx(H,{children:"About"})}),e.jsx("div",{className:t===1?`${w.mcqTopItem} ${w.active} `:`${w.mcqTopItem} ${w.ripple}`,onClick:()=>s(1),children:e.jsx(H,{children:"Extra-Skills"})}),e.jsx("div",{className:t===2?`${w.mcqTopItem} ${w.active}`:w.mcqTopItem,onClick:()=>s(2),children:e.jsx(H,{children:"Fees Data"})})]})}const Kn="_photoMain_2pqhl_1",Xn="_photoLabel_2pqhl_6",oe={photoMain:Kn,photoLabel:Xn},Ce=({sid:t,photoId:s,photoKey:o})=>{const[d]=Ke(),[m,n]=_.useState(""),[a,r]=_.useState(""),[x,p]=_.useState(!1),[j,c]=_.useState(!1),[u,i]=_.useState(!1),[l,h]=_.useState("");_.useEffect(()=>{if(j){i(y=>!y);let f=new FormData;f.append("file",a),d({profile:f,sid:t}).then(()=>{i(y=>!y)}).catch({})}},[j,a]);const b=f=>{const y=URL.createObjectURL(f.target.files[0]);r(f.target.files[0]),h(y),n(y),p(!0)};return e.jsxs("div",{className:oe.photoMain,children:[l?e.jsx("img",{src:l,alt:"profile is not uploaded",style:{width:"100%",height:"100%"}}):e.jsx("img",{src:s!=="1"?`${Ae}/${o}`:"/images/member_tab/class/default_avatar.svg",alt:"",style:{width:"100%",height:"100%"}}),e.jsx("label",{htmlFor:"photo",className:oe.photoLabel,children:e.jsx("img",{alt:"not found",className:oe.photoLabel,src:"/images/edit1-icon.svg"})}),e.jsx("input",{id:"photo",name:"file",onChange:b,type:"file",style:{display:"none"},accept:"image/gif, image/jpeg, image/png",required:!0}),x&&e.jsx(le,{open:x,children:e.jsx(Ye,{setPhotoURL:n,photoURL:m,setFile:r,setOpenCrop:p,setUpload:c,setProfilePhoto:h,first:1,second:1})}),u&&e.jsx(ee,{})]})};function Zn({activeIndex:t,setActiveIndex:s}){const{t:o}=z();return e.jsxs("div",{className:w.mcqTop,children:[e.jsx("div",{className:t===0?`${w.mcqTopItem} ${w.active}`:w.mcqTopItem,onClick:()=>s(0),children:e.jsx(H,{children:o("about")})}),e.jsx("div",{className:t===1?`${w.mcqTopItem} ${w.active} `:`${w.mcqTopItem} ${w.ripple}`,onClick:()=>s(1),children:e.jsx(H,{children:o("fees_data")})}),e.jsx("div",{className:t===2?`${w.mcqTopItem} ${w.active}`:w.mcqTopItem,onClick:()=>s(2),children:e.jsx(H,{children:o("hostel_renewal")})})]})}const ea=({student:t})=>{var m,n,a,r;const{t:s}=z(),[o,d]=_.useState(0);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:F.topHeading,children:"Profile In Hostel"}),e.jsxs("div",{className:F.toprow,style:{position:"relative"},children:[e.jsx("div",{className:F.imgcontainer,children:e.jsx(Ce,{photoKey:t==null?void 0:t.studentProfilePhoto,photoId:t==null?void 0:t.photoId,sid:t==null?void 0:t._id})}),e.jsxs("div",{className:F.textcontainer,children:[e.jsxs("h6",{children:[t==null?void 0:t.studentFirstName," ",t!=null&&t.studentMiddleName?t==null?void 0:t.studentMiddleName:""," ",t==null?void 0:t.studentLastName]}),e.jsxs("p",{children:[s("unit_name")," ",((m=t==null?void 0:t.student_unit)==null?void 0:m.hostel_unit_name)??""]}),e.jsxs("p",{children:[s("room_name"),": "," ",((a=(n=t==null?void 0:t.student_bed_number)==null?void 0:n.hostelRoom)==null?void 0:a.room_name)??""]}),e.jsxs("p",{children:[s("bed_number"),": "," ",((r=t==null?void 0:t.student_bed_number)==null?void 0:r.bed_number)??""]})]})]}),e.jsx("div",{className:F.tabs,children:e.jsx(Zn,{activeIndex:o,setActiveIndex:d})}),o===0&&e.jsx(be,{student:t}),o===1&&e.jsx(Ze,{sid:t==null?void 0:t._id,viewAs:"STUDENT"}),o===2&&e.jsx("div",{style:{padding:"1rem"},children:e.jsx(es,{sid:t==null?void 0:t._id,isProfile:"VIEW_PROFILE"})})]})};function sa({studentData:t}){var x,p,j,c,u,i,l,h,b,f,y,S,N,$;const{t:s}=z(),o=He(),d=ce(),[m,n]=_.useState(0),{data:a,refetch:r}=ze(t,{skip:!t});return _.useEffect(()=>{t&&r()},[t,r]),e.jsx("div",{className:F.studentForm,children:((x=d.state)==null?void 0:x.is_profile)==="HOSTEL"?e.jsx(ea,{student:a==null?void 0:a.student}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:F.topHeading,children:["Profile In Institute"," ",e.jsxs("span",{style:{color:"#0000ff",fontSize:"12px"},children:["(",((p=a==null?void 0:a.student)==null?void 0:p.profile_percentage)??0,"% profile completed)"]})]}),e.jsxs("div",{className:F.toprow,style:{position:"relative"},children:[e.jsx("div",{className:F.imgcontainer,children:e.jsx(Ce,{photoKey:(j=a==null?void 0:a.student)==null?void 0:j.studentProfilePhoto,photoId:(c=a==null?void 0:a.student)==null?void 0:c.photoId,sid:(u=a==null?void 0:a.student)==null?void 0:u._id})}),e.jsxs("div",{className:F.textcontainer,children:[e.jsxs("h6",{children:[(i=a==null?void 0:a.student)==null?void 0:i.studentFirstName," ",(l=a==null?void 0:a.student)!=null&&l.studentMiddleName?(h=a==null?void 0:a.student)==null?void 0:h.studentMiddleName:""," ",(b=a==null?void 0:a.student)==null?void 0:b.studentLastName]}),e.jsxs("p",{children:["Roll No. ",(f=a==null?void 0:a.student)==null?void 0:f.studentROLLNO]}),e.jsxs("p",{children:[s("gr_number")," ",(y=a==null?void 0:a.student)==null?void 0:y.studentGRNO]}),e.jsxs("p",{children:["Active Class: ",(N=(S=a==null?void 0:a.student)==null?void 0:S.studentClass)==null?void 0:N.className]})]}),e.jsx(Be,{to:`/q/${o.username}/student/profile/admission`,state:{sid:t,viewAs:"STUDENT"},children:e.jsxs("div",{className:F.link_hold_container,children:[e.jsx("img",{src:"/images/link-forword-icon.svg",alt:"forword link"}),e.jsx("h6",{children:s("admission_fees")})]})})]}),e.jsx("div",{className:F.tabs,children:e.jsx(Gn,{activeIndex:m,setActiveIndex:n})}),m===0&&e.jsx(be,{student:a==null?void 0:a.student}),m===1&&e.jsx(Ge,{sid:t,avgpoints:a==null?void 0:a.average_points,extraPoints:($=a==null?void 0:a.student)==null?void 0:$.extraPoints}),m===2&&e.jsx(Xe,{sid:t,viewAs:"STUDENT"})]})})}const ta=[{name:"bonafide",key:"Bonafide"},{name:"leaving",key:"Leaving"},{name:"transfer",key:"Transfer"}],na=[{name:"original_copy",key:!0},{name:"dublicate_copy",key:!1}],aa=({studentId:t,instituteId:s,onRefetch:o,onClose:d})=>{const{t:m}=z(),[n,a]=_.useState(""),[r,x]=_.useState(!1),[p,j]=_.useState({query_content:"",certificate_type:"Bonafide",is_original:!0}),[c]=Ve(),u=f=>{var y;((y=f.target.value)==null?void 0:y.length)<=75&&j(S=>({...S,query_content:f.target.value}))},i=()=>{r||d()},l=f=>{j(y=>({...y,certificate_type:f}))},h=f=>{j(y=>({...y,is_original:f}))},b=()=>{p.query_content?t&&s&&(x(f=>!f),c({id:s,sid:t,issueCertificate:p}).then(()=>{o(),x(f=>!f),d()}).catch({})):a({query_content:"* required"})};return e.jsx(e.Fragment,{children:e.jsxs(ns,{onClose:i,children:[e.jsx("div",{className:ne.add_category_modal,style:{width:"35rem",minHeight:"10rem",height:"fit-content"},children:e.jsxs("section",{className:ne.fee_middle_section_container,style:{marginBottom:"1.2rem"},children:[e.jsx("h6",{style:{fontSize:"20px",fontWeight:"600"},children:m("certificate_request")}),e.jsx(de,{customStyle:{width:"100%",marginTop:"0.7rem"}}),e.jsx(ue,{labelText:"certificate_type",tileList:ta,activeTile:p.certificate_type,onTile:l}),e.jsx(as,{labelText:m("enter_reason"),placeholder:m("enter_reason"),name:"query_content",value:p.query_content,type:"text",onChange:u,errorShow:n.query_content}),p.certificate_type==="Leaving"||p.certificate_type==="Transfer"?e.jsx(ue,{labelText:"certificate_copy",tileList:na,activeTile:p.is_original,onTile:h}):null,e.jsx("button",{onClick:b,className:ne.fee_middle_confirm_button,style:{marginTop:"2rem"},children:m("confirm")})]})}),r&&e.jsx(ee,{})]})})},ia=()=>{var y,S,N,$,R;const{t}=z(),s=ce(),[o,d]=_.useState(!1),[m,n]=ye(),[a,r]=_.useState(1),[x,p]=_.useState(!0),[j,c]=_.useState(!0),[u,i]=_.useState([]),{getAllCertificateStudent:l,getAllCertificateStudentRefetch:h}=We({data:{sid:(y=s.state)==null?void 0:y.sid,page:a,limit:10},skip:!((S=s.state)!=null&&S.sid)});_.useEffect(()=>{var C;(C=s.state)!=null&&C.sid&&(c(!0),h())},[(N=s.state)==null?void 0:N.sid,a,h]),_.useEffect(()=>{n&&x&&r(C=>C+1)},[n,x]),_.useEffect(()=>{var C,I;l!=null&&l.all_cert?a===1?(i(l==null?void 0:l.all_cert),c(!1)):(i(A=>[...new Set([...A,...l==null?void 0:l.all_cert].map(JSON.stringify))].map(JSON.parse)),c(!1)):((C=l==null?void 0:l.all_cert)==null?void 0:C.length)===0&&c(!1),((I=l==null?void 0:l.all_cert)==null?void 0:I.length)===10?p(!0):p(!1)},[l==null?void 0:l.all_cert]);const b=()=>{d(C=>!C)},f=()=>{r(1),c(!0),h()};return e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{marginTop:"1rem"},children:e.jsxs("div",{className:se.hostel_container,children:[e.jsx("div",{className:se.with_search,children:e.jsx("h6",{children:t("certificate_request")})}),e.jsx(de,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),e.jsx("div",{className:se.with_search,style:{justifyContent:"flex-end"},children:e.jsx("p",{className:se.add_new_category,onClick:b,children:t("create_new_request")})}),u==null?void 0:u.map((C,I)=>(u==null?void 0:u.length)===I+1?e.jsx("div",{ref:m,children:e.jsx(je,{certificate:C})},C==null?void 0:C._id):e.jsx(je,{certificate:C},C==null?void 0:C._id)),j&&e.jsx($e,{})]})}),o&&e.jsx(aa,{studentId:($=s.state)==null?void 0:$.sid,onRefetch:f,instituteId:(R=s.state)==null?void 0:R.instituteId,onClose:b})]})},pi=()=>{var s,o,d,m,n,a,r,x,p,j,c,u,i,l,h,b,f,y,S;const t=ce();return e.jsxs(ss,{index:((s=t==null?void 0:t.search)==null?void 0:s.substring(3))==="profile"?"20":((o=t==null?void 0:t.search)==null?void 0:o.substring(3))==="complaint"?"21":((d=t==null?void 0:t.search)==null?void 0:d.substring(3))==="leave"?"22":((m=t==null?void 0:t.search)==null?void 0:m.substring(3))==="transfer"?"23":((n=t==null?void 0:t.search)==null?void 0:n.substring(3))==="report"?"24":((a=t==null?void 0:t.search)==null?void 0:a.substring(3))==="certificate"?"26":"25",sid:((r=t==null?void 0:t.state)==null?void 0:r.sid)??"",children:[((x=t==null?void 0:t.search)==null?void 0:x.substring(3))==="profile"&&e.jsx(sa,{studentData:((p=t==null?void 0:t.state)==null?void 0:p.sid)??""}),((j=t==null?void 0:t.search)==null?void 0:j.substring(3))==="complaint"&&e.jsx(Ws,{studentId:((c=t==null?void 0:t.state)==null?void 0:c.sid)??""}),((u=t==null?void 0:t.search)==null?void 0:u.substring(3))==="leave"&&e.jsx(Ht,{studentId:((i=t==null?void 0:t.state)==null?void 0:i.sid)??""}),((l=t==null?void 0:t.search)==null?void 0:l.substring(3))==="transfer"&&e.jsx(Dn,{studentId:((h=t==null?void 0:t.state)==null?void 0:h.sid)??""}),((b=t==null?void 0:t.search)==null?void 0:b.substring(3))==="report"&&e.jsx(bn,{studentId:((f=t==null?void 0:t.state)==null?void 0:f.sid)??""}),((y=t==null?void 0:t.search)==null?void 0:y.substring(3))==="switch"&&e.jsx(ts,{}),((S=t==null?void 0:t.search)==null?void 0:S.substring(3))==="certificate"&&e.jsx(ia,{})]})};export{pi as default};
