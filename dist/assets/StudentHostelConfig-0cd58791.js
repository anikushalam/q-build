import{t as X,r as h,j as t,S as Y,u as H,n as Z,d as q,L as N,lv as P}from"./index-0ca76035.js";import{aq as C,a9 as Q}from"./hostel-api-9294ced1.js";import{H as y}from"./HostelAnnouncement-db9f8dc5.js";import{R as W,S as I,a as k,U as V}from"./UnitRoomInfo-8df0e6b1.js";import{s as x}from"./StudentClass.module-a7d23429.js";import{H as ss}from"./HostelRules-50c60c0f.js";import{H as ts}from"./HostelUnit-325561f6.js";import{S as es}from"./StudentHostelRenewal-c971fe03.js";import ms from"./StudentAllFeesData-c4389725.js";import{S as is}from"./StudentMemberConfig-dd7c60d7.js";import"./BorderBottom-1dc6f53e.js";import"./Hostel.module-50da11fe.js";import"./NewAnnouncement.module-4f17791a.js";import"./LoaderButton-56f541f9.js";import"./FormToggle-18d319d7.js";import"./UniversalForm.module-19614663.js";import"./Switch-4bb87998.js";import"./SwitchBase-e3c2ff35.js";import"./Tabs.module-fb9ec0a6.js";import"./CustomNormalSelectInput-0a62fa3f.js";import"./JoinForm.module-212f9bb3.js";import"./JoinFormInput-82706177.js";import"./PopupWrapper-2578092d.js";import"./Overlay-c8100e0a.js";import"./Overlay.module-9133d1bb.js";import"./SearchModalWrapper-0fa3f9a3.js";import"./SearchModalBackdrop-c4f123e6.js";import"./SearchHeader.module-b69c8942.js";import"./HostelFeeStructure.module-5a40a31e.js";import"./JoinFormTextArea-394bf055.js";import"./JoinFormFileEdit-10928ae7.js";import"./ViewFileDialog-f7d48575.js";import"./EditConfirm.module-344fbdb9.js";import"./InstituteHostel.module-b6b254cc.js";import"./AssignStaffModal-e51a4441.js";import"./search-api-b192a53f.js";import"./AssignStaffModal.module-a60b32e1.js";import"./DemandProcess-62db6306.js";import"./finance-api-e818490b.js";import"./JoinFormInputView-2b5b0bdd.js";import"./JoinFormCalender-d186c4ef.js";import"./DatePicker-c6d0e911.js";import"./JoinFormFile-a00a41cd.js";import"./PaymentGatewayConfig-4c69c63c.js";import"./CashProcess-ef4f09b0.js";import"./paytmUpiInitiative-43604424.js";import"./admission-api-925391d9.js";import"./StudentAllFeesData.module-f5c3243d.js";import"./StudentAdmissionFees-18a2bcf2.js";import"./StudentAdmissionPayFees-4659e3f8.js";import"./SelectFeeStructure-915fed5c.js";import"./FeesStructure.module-7a88fbbc.js";import"./pdf-convertor-function-4fe9e778.js";import"./main.receipt.pdf.worker-914052f8.js";import"./numberToWords.min-081ca735.js";import"./StudentInternalFeesCard-d583cef8.js";import"./StudentInternalFeeReceipt-723a549f.js";import"./pdfInternalFeeReceipt-24199e26.js";import"./EmptyInfo-dd58cebb.js";const ns=({sid:s})=>{const[o,r]=X(),[m,e]=h.useState(1),[i,a]=h.useState(!0),[v,f]=h.useState(!0),[p,l]=h.useState([]),{getStudentRoommateList:n,getStudentRoommateListRefetch:j}=C({data:{sid:s,page:m,limit:10},skip:!s});return h.useEffect(()=>{s&&(f(!0),j())},[s,m,j]),h.useEffect(()=>{r&&i&&e(d=>d+1)},[r,i]),h.useEffect(()=>{var d,_;n!=null&&n.all_roommates?(l(T=>[...new Set([...T,...n==null?void 0:n.all_roommates].map(JSON.stringify))].map(JSON.parse)),f(!1)):((d=n==null?void 0:n.all_roommates)==null?void 0:d.length)===0&&f(!1),((_=n==null?void 0:n.all_roommates)==null?void 0:_.length)===10?a(!0):a(!1)},[n==null?void 0:n.all_roommates]),t.jsxs("div",{style:{padding:"1rem"},children:[p==null?void 0:p.map((d,_)=>(p==null?void 0:p.length)===_+1?t.jsx("div",{ref:o,children:t.jsx(W,{hostelite:d,vacant:!1,index:_,viewAs:"STUDENT"})},d==null?void 0:d._id):t.jsx(W,{hostelite:d,vacant:!1,index:_,viewAs:"STUDENT"},d==null?void 0:d._id)),v&&t.jsx(Y,{})]})},ds="_MiddleContent_1z0qs_1",os="_MiddleContentLeft_1z0qs_15",rs="_tabs_1z0qs_24",as="_item_1z0qs_29",cs="_MiddleContentRight_1z0qs_51",ps="_MiddleContentRightHead_1z0qs_58",_s="_pItem_1z0qs_72",hs="_text_1z0qs_91",xs="_addbtn_1z0qs_125",bs="_menu_1z0qs_144",fs="_menuItem_1z0qs_149",js="_itemIcon_1z0qs_164",vs="_classList_1z0qs_186",ls="_classListItem_1z0qs_189",b={MiddleContent:ds,MiddleContentLeft:os,tabs:rs,item:as,MiddleContentRight:cs,MiddleContentRightHead:ps,pItem:_s,text:hs,addbtn:xs,menu:bs,menuItem:fs,itemIcon:js,classList:vs,classListItem:ls},Ts="_studentMCQ_q25pa_1",qs="_mcqToptabs_q25pa_4",Ns="_mcqTop_q25pa_4",Is="_mcqTopItem_q25pa_22",Hs="_active_q25pa_38",c={studentMCQ:Ts,mcqToptabs:qs,mcqTop:Ns,mcqTopItem:Is,active:Hs};function us({carryParentState:s}){var e,i;const{t:o}=H(),r=Z(),m=q();return t.jsx("div",{className:c.mcqTop,children:t.jsxs("div",{className:c.mcqToptabs,children:[t.jsx(N,{to:`/q/${r.username}/member/student/hostel`,state:{...s},style:{width:"33.3%"},children:t.jsx("div",{className:m!=null&&m.search?c.mcqTopItem:`${c.mcqTopItem} ${c.active}`,children:o("menu")})}),t.jsx(N,{to:`/q/${r.username}/member/student/hostel?a=notice`,state:{...s,viewNotice:"HOSTEL_UNIT_TAB"},style:{width:"33.3%"},children:t.jsx("div",{className:((e=m==null?void 0:m.search)==null?void 0:e.substring(3))==="notice"?`${c.mcqTopItem} ${c.active}`:c.mcqTopItem,children:o("notices")})}),t.jsx(N,{to:`/q/${r.username}/member/student/hostel?a=roommate`,state:{...s},style:{width:"33.3%"},children:t.jsx("div",{className:((i=m==null?void 0:m.search)==null?void 0:i.substring(3))==="roommate"?`${c.mcqTopItem} ${c.active}`:c.mcqTopItem,children:o("roommates")})})]})})}function ws({carryParentState:s,studentId:o,hid:r}){var i,a;const{t:m}=H(),e=q();return t.jsx("div",{className:b.MiddleContent,children:t.jsxs("div",{className:b.MiddleContentLeft,children:[t.jsx("div",{className:b.tabs,children:t.jsx(us,{carryParentState:s})}),!(e!=null&&e.search)&&t.jsxs("div",{className:b.item,children:[t.jsx(I,{carryParentState:s,activeTab:"knows",children:t.jsxs("div",{className:b.itemIcon,children:[t.jsx("img",{src:"/images/member_tab/hostel/hostel-hostelite-icon.svg",alt:"attendence_time"}),t.jsx("p",{children:m("knows_hostelites")})]})}),t.jsx(I,{carryParentState:s,activeTab:"rule",children:t.jsxs("div",{className:b.itemIcon,children:[t.jsx("img",{src:"/images/member_tab/hostel/hostel-rule-icon.svg",alt:"daily_updates"}),t.jsx("p",{children:m("rules_and_regulation")})]})}),t.jsx(I,{carryParentState:s,activeTab:"fees",children:t.jsxs("div",{className:b.itemIcon,children:[t.jsx("img",{src:"/images/member_tab/department/department-fees-icon.svg",alt:"fees"}),t.jsx("p",{children:m("fees_data")})]})})]}),((i=e==null?void 0:e.search)==null?void 0:i.substring(3))==="roommate"&&t.jsx(ns,{sid:o}),((a=e==null?void 0:e.search)==null?void 0:a.substring(3))==="notice"&&t.jsx("div",{style:{padding:"1rem"},children:t.jsx(y,{hid:r,carryParentState:s})})]})})}const Ms=({onClickValue:s,carryParentState:o,studentId:r})=>{var v,f,p,l,n,j,d,_,T,u,w,M,E,S,R,A,L,z,U,g,$,D,O,F,G,J;const{t:m}=H(),e=q(),{getRoomDetailHostel:i,getRoomDetailHostelRefetch:a}=Q({hrid:(f=(v=s==null?void 0:s.student_bed_number)==null?void 0:v.hostelRoom)==null?void 0:f._id,skip:!((l=(p=s==null?void 0:s.student_bed_number)==null?void 0:p.hostelRoom)!=null&&l._id)});return h.useEffect(()=>{var B,K;(K=(B=s==null?void 0:s.student_bed_number)==null?void 0:B.hostelRoom)!=null&&K._id&&a()},[(j=(n=s==null?void 0:s.student_bed_number)==null?void 0:n.hostelRoom)==null?void 0:j._id,a]),t.jsxs(t.Fragment,{children:[(!(e!=null&&e.search)||((d=e==null?void 0:e.search)==null?void 0:d.substring(3))==="notice"||((_=e==null?void 0:e.search)==null?void 0:_.substring(3))==="roommate")&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:x.middleHeadContainer,children:t.jsx(P,{coverKey:(T=i==null?void 0:i.one_room)==null?void 0:T.room_photo,coverId:(u=i==null?void 0:i.one_room)==null?void 0:u.room_photo,defaultCover:"/images/profileAndCover/department-cover.png",textLarge:(w=s==null?void 0:s.student_unit)==null?void 0:w.hostel_unit_name,batchStatus:"false",rollNoStatus:!1,count1:((E=(M=s==null?void 0:s.student_bed_number)==null?void 0:M.hostelRoom)==null?void 0:E.room_name)??"",count1label:m("room_name"),count2label:m("bed_number"),count2:((S=s==null?void 0:s.student_bed_number)==null?void 0:S.bed_number)??"",coverUpdate:!1,openAs:"STUDENT_HOSTEL"})}),t.jsx(ws,{carryParentState:o,studentId:r,hid:(A=(R=s==null?void 0:s.student_unit)==null?void 0:R.hostel)==null?void 0:A._id})]}),((L=e==null?void 0:e.search)==null?void 0:L.substring(3))==="rule"&&t.jsx("div",{className:x.middleHeadContainer,children:t.jsx(ss,{hid:(U=(z=s==null?void 0:s.student_unit)==null?void 0:z.hostel)==null?void 0:U._id,viewAs:"HOSTEL_SEARCH"})}),((g=e==null?void 0:e.search)==null?void 0:g.substring(3))==="fees"&&t.jsx("div",{className:x.middleHeadContainer,children:t.jsx(ms,{sid:r,viewAs:"STUDENT"})}),(($=e==null?void 0:e.search)==null?void 0:$.substring(3))==="knows"&&t.jsx("div",{className:x.middleHeadContainer,children:t.jsx(ts,{hid:(O=(D=s==null?void 0:s.student_unit)==null?void 0:D.hostel)==null?void 0:O._id,carryParentState:o,viewAs:"STUDENT"})}),((F=e==null?void 0:e.search)==null?void 0:F.substring(3))==="unit&n=menu&n=room"&&t.jsx("div",{className:x.middleHeadContainer,children:t.jsx(k,{carryParentState:o,viewAs:"STUDENT"})}),((G=e==null?void 0:e.search)==null?void 0:G.substring(3))==="unit&n=room"&&t.jsx("div",{className:x.middleHeadContainer,children:t.jsx(V,{carryParentState:o,viewAs:"STUDENT"})}),((J=e==null?void 0:e.search)==null?void 0:J.substring(3))==="renewal"&&t.jsx("div",{className:x.middleHeadContainer,children:t.jsx(es,{sid:s==null?void 0:s._id,viewAs:"HOSTEL_SEARCH"})})]})},zt=()=>{var o,r,m,e,i,a;const s=q();return t.jsx(is,{index:"2",sid:((o=s==null?void 0:s.state)==null?void 0:o.sid)??"",onClickValue:((r=s==null?void 0:s.state)==null?void 0:r.onClickValue)??"",children:t.jsx(Ms,{onClickValue:((m=s==null?void 0:s.state)==null?void 0:m.onClickValue)??"",carryParentState:s==null?void 0:s.state,studentId:((e=s==null?void 0:s.state)==null?void 0:e.sid)??"",studentRollNo:(a=(i=s==null?void 0:s.state)==null?void 0:i.onClickValue)==null?void 0:a.studentROLLNO})})};export{zt as default};
