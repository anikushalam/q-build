import{u as g,g as v,R as j,k as _,j as s,bS as h}from"./index-731451a5.js";import{i as I}from"./constant_value-4cd2b3e0.js";import{d as N}from"./post-api-f57ebb8f.js";import{s as q,S as f}from"./Save-f44ceb43.js";const O="_questionBottom_andts_1",S="_questionBottomBorder_andts_6",P="_pollVote_andts_22",R="_questionBottomIcon_andts_27",C="_questionBottomIconOne_andts_34",e={questionBottom:O,questionBottomBorder:S,pollVote:P,questionBottomIcon:R,questionBottomIconOne:C},V=({parentStyle:c,endUserLike:l,pid:a,type:n})=>{const{t:i}=g(),r=v(),[d,m]=j.useState(!0),o=_(B=>B.idChange),[x,u]=j.useState(l==null?void 0:l.some(B=>B===(o==null?void 0:o.id))),{postLikeRefetch:t}=N({data:{pid:a,viewAs:I},skip:d}),k=()=>{r(h.addLike({pid:a,id:o==null?void 0:o.id})),u(!0),m(!1),t()},p=()=>{r(h.removeLike({pid:a,id:o==null?void 0:o.id})),u(!1),m(!1),t()};return s.jsx(s.Fragment,{children:x?s.jsxs("div",{className:c,onClick:p,children:[s.jsx("img",{src:n!=="Poll"?"/images/unlike-icon.svg":"/images/poll-recommended.svg",alt:"unlike",className:q.likeImage}),s.jsx("p",{children:i(n!=="Poll"?"like":"recommend")})]}):s.jsxs("div",{className:c,onClick:k,children:[s.jsx("img",{src:n!=="Poll"?"/images/like-icon.svg":"/images/poll-recommend.svg",alt:"like",className:q.likeImage}),s.jsx("p",{children:i(n!=="Poll"?"like":"recommend")})]})})};function b({likeCount:c,endUserLike:l,endUserSave:a,pid:n,setCommentOpen:i,commentOpen:r,commentCount:d,type:m,total_votes:o,postPopupOpen:x}){const u=()=>{x||i(!r)},{t}=g();return s.jsx(s.Fragment,{children:s.jsxs("div",{className:e.questionBottom,children:[m!=="Poll"?s.jsxs("div",{className:e.questionBottomBorder,children:[s.jsxs("p",{className:e.needCount,children:[c," ",t("likes")," "]}),s.jsxs("p",{children:[d," ",t("comments_")," "]})]}):s.jsxs("div",{className:e.questionBottomBorder,children:[s.jsxs("p",{className:e.pollVote,children:[o," Votes"]}),s.jsxs("p",{children:[c," ",t("recommend")," | ",d," ",t("comments_")]})]}),s.jsxs("div",{className:e.questionBottomIcon,children:[s.jsx("div",{className:e.questionBottomIconOne,children:s.jsx(V,{endUserLike:l,pid:n,parentStyle:e.questionBottomIconOne,type:m})}),s.jsxs("div",{className:e.questionBottomIconOne,onClick:u,children:[s.jsx("img",{src:"/images/comment-icon.svg",alt:""}),s.jsx("p",{children:t("comment")})]}),s.jsx("div",{className:e.questionBottomIconOne,children:s.jsx(f,{endUserSave:a,pid:n,parentStyle:e.questionBottomIconOne})})]})]})})}export{b as R};
