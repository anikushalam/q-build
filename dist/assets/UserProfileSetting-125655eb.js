import{c as le,j as e,D as me,jb as xe,r as u,u as $,L as je,e as he,k as ie,lN as ue,ny as Ne,nz as ye,nA as ve,nB as Se,nx as be,l as we,N as ke,Q as _e,aa as oe,a1 as ce,R as b,t as de,w as pe,x as Ce}from"./index-731451a5.js";import{L as $e}from"./LogoutQuery-d4abe74f.js";import{D as Ee}from"./DialogTitle-ba505e40.js";import{D as re}from"./Divider-6278282f.js";import{s as Pe,t as Te,v as Le,w as ge}from"./setting-api-bd1a4a3c.js";import{S as O}from"./Switch-81e70f2f.js";import{u as Re}from"./use-user-signup-c7112eee.js";import{C as Me}from"./ComingSoon-c04f89a7.js";import{U as Ue}from"./UniversalTab-d4f2174c.js";import{B as qe}from"./BorderBottom-47800983.js";import{F as Ae,ab as Oe}from"./admission-api-56b87fde.js";import{p as Be}from"./pdfInternalFeeReceipt-ec10d7e3.js";import{h as Ie,a as Fe}from"./pdf-convertor-function-e794de58.js";import{r as He}from"./main.receipt.pdf.worker-5753b302.js";import"./SwitchBase-2ba5f868.js";import"./numberToWords.min-dbca819b.js";const Qe="_navbar_1r7l0_1",ae={navbar:Qe},ze="_mainbody_1trqf_1",Je="_sidebar_1trqf_10",Ve="_stats_1trqf_14",ee={mainbody:ze,sidebar:Je,stats:Ve},Ge="_sidebar_1ej7q_1",We="_heading_1ej7q_10",Ye="_list_1ej7q_19",Ke="_options_1ej7q_24",Xe="_imgDark_1ej7q_38",Ze="_img_1ej7q_38",De="_borderLeft_1ej7q_65",_={sidebar:Ge,heading:We,list:Ye,options:Ke,imgDark:Xe,img:Ze,borderLeft:De},et="_logout_tak47_1",tt="_title_tak47_11",nt="_content_tak47_37",X={logout:et,title:tt,content:nt};function st({logout:t,changeLogout:n}){const o=le(),c=()=>{o("/"),$e()};return e.jsx(me,{sx:{borderRadius:"12px"},open:t,onClose:n,children:e.jsxs("div",{className:X.logout,children:[e.jsx(Ee,{children:e.jsx("div",{className:X.title,children:e.jsx("h5",{children:"Logout of Qviple"})})}),e.jsx(re,{}),e.jsxs(xe,{children:[e.jsx("div",{className:X.title,style:{marginBottom:"1rem"},children:e.jsx("h6",{onClick:c,children:"Logout "})}),e.jsx(re,{}),e.jsx("div",{className:X.title,style:{marginTop:"2rem"},children:e.jsx("h6",{onClick:n,children:"Cancel"})})]})]})})}function it({clickItem:t,changeItem:n}){const[o,c]=u.useState(!1),{t:s}=$(),l=()=>{c(!1)};return e.jsxs("div",{className:_.sidebar,children:[e.jsx("div",{className:_.heading,children:"Settings"}),e.jsxs("div",{className:_.list,children:[e.jsxs("div",{className:t===1?`${_.options} ${_.borderLeft}`:_.options,onClick:()=>n(1),children:[e.jsx("img",{className:_.img,alt:"not found",src:"/images/account.svg"}),e.jsx("img",{className:_.imgDark,alt:"not found",src:"/images/account-dark.svg"}),e.jsx("p",{children:s("account")})]}),e.jsxs("div",{className:t===2?`${_.options} ${_.borderLeft}`:_.options,onClick:()=>n(2),children:[e.jsx("img",{className:_.img,alt:"not found",src:"/images/bell.svg"}),e.jsx("img",{className:_.imgDark,alt:"not found",src:"/images/bell-dark.svg"}),e.jsx("p",{children:s("notification")})]}),e.jsxs("div",{className:t===6?`${_.options} ${_.borderLeft}`:_.options,onClick:()=>n(6),children:[e.jsx("img",{className:_.img,alt:"not found",src:"/images/wallet.svg"}),e.jsx("img",{className:_.imgDark,alt:"not found",src:"/images/wallet-dark.svg"}),e.jsx("p",{children:s("payment_history")})]}),e.jsxs("div",{className:t===8?`${_.options} ${_.borderLeft}`:_.options,onClick:()=>n(8),children:[e.jsx("img",{className:_.img,alt:"not found",src:"/images/lock.svg"}),e.jsx("img",{className:_.imgDark,alt:"not found",src:"/images/lock-dark.svg"}),e.jsx("p",{children:s("privacy")})]}),e.jsxs("div",{className:t===9?`${_.options} ${_.borderLeft}`:_.options,onClick:()=>n(9),children:[e.jsx("img",{className:_.img,alt:"not found",src:"/images/information.svg"}),e.jsx("img",{className:_.imgDark,alt:"not found",src:"/images/information-dark.svg"}),e.jsx("p",{children:s("about_quviple")})]}),e.jsxs("div",{className:t===10?`${_.options} ${_.borderLeft}`:_.options,onClick:()=>{c(!0),n(7)},children:[e.jsx("img",{className:_.img,alt:"not found",src:"/images/logout.svg"}),e.jsx("img",{className:_.imgDark,alt:"not found",src:"/images/logout-dark.svg"}),e.jsx("p",{children:s("logout-place")})]})]}),o&&e.jsx(st,{changeLogout:l,logout:o})]})}const ot="_header_n3ejf_1",ct="_imgContainer_n3ejf_10",rt="_textContainer_n3ejf_20",te={header:ot,imgContainer:ct,textContainer:rt};function at({dashboardData:t}){var n,o,c,s,l;return e.jsx(je,{to:`/q/${(n=t==null?void 0:t.user)==null?void 0:n.username}/profile`,children:e.jsxs("div",{className:te.header,children:[e.jsx("div",{className:te.imgContainer,children:e.jsx("img",{src:((o=t==null?void 0:t.user)==null?void 0:o.photoId)!=="1"?`${he}/${(c=t==null?void 0:t.user)==null?void 0:c.profilePhoto}`:"/images/member_tab/class/default_avatar.svg",alt:""})}),e.jsxs("div",{className:te.textContainer,children:[e.jsx("h5",{children:(s=t==null?void 0:t.user)==null?void 0:s.username}),e.jsx("p",{children:(l=t==null?void 0:t.user)==null?void 0:l.userLegalName})]})]})})}const lt="_stats_15n5b_1",mt="_body_15n5b_6",ne={stats:lt,body:mt},ut="_notification_nb3qo_1",_t="_divider_nb3qo_24",dt="_row_nb3qo_32",U={notification:ut,divider:_t,row:dt};function pt({answer:t,comment:n,follower:o,institute:c}){const{t:s}=$(),[l]=Pe(),[i,d]=u.useState({follower_notify:o,comment_notify:n,answer_notify:t,institute_notify:c}),m=()=>{i.institute_notify==="Enable"?d({...i,institute_notify:"Disable"}):d({...i,institute_notify:"Enable"}),l({settingNotifyData:i}).then(x=>{})},f=()=>{i.comment_notify==="Enable"?d({...i,comment_notify:"Disable"}):d({...i,comment_notify:"Enable"}),l({settingNotifyData:i}).then(x=>{})},r=()=>{i.follower_notify==="Enable"?d({...i,follower_notify:"Disable"}):d({...i,follower_notify:"Enable"}),l({settingNotifyData:i}).then(x=>{})},g=()=>{i.answer_notify==="Enable"?d({...i,answer_notify:"Disable"}):d({...i,answer_notify:"Enable"}),l({settingNotifyData:i}).then(x=>{})},a={inputProps:{"aria-label":"Switch demo"}};return e.jsxs("div",{className:U.notification,children:[e.jsx("h5",{children:s("choose_your_preference")}),e.jsxs("div",{className:U.row,children:[e.jsx("h6",{children:s("institute_related_activity")}),e.jsx(O,{...a,checked:i.institute_notify==="Enable",onChange:m})]}),e.jsxs("div",{className:U.row,children:[e.jsx("h6",{children:s("friend_following_circle")}),e.jsx(O,{...a,checked:i.follower_notify==="Enable",onChange:r})]}),e.jsxs("div",{className:U.row,children:[e.jsx("h6",{children:s("comment")}),e.jsx(O,{...a,checked:i.comment_notify==="Enable",onChange:f})]}),e.jsxs("div",{className:U.row,children:[e.jsx("h6",{children:s("Answers")}),e.jsx(O,{...a,checked:i.answer_notify==="Enable",onChange:g})]})]})}const gt="_settingBody_gi53b_1",ft="_inputContainer_gi53b_38",xt="_btn_gi53b_52",jt="_btn1_gi53b_69",Z={settingBody:gt,inputContainer:ft,btn:xt,btn1:jt};function ht(){const t=le(),{t:n}=$(),o=new Date;o.setDate(o.getDate()+2);const[c,s]=u.useState({password:"",status:"Deactivated",ddate:`${o.getFullYear()}-${(o.getMonth()+1).toString().length===1?String(o.getMonth()+1).padStart(2,"0"):o.getMonth()+1}-${o.getDate().toString().length===1?String(o.getDate()).padStart(2,"0"):o.getDate()}`}),l=ie(a=>a.idChange.id),[i,d]=u.useState(),[m,f]=u.useState(!1),[r]=Te(),g=()=>{r({id:l,passwordData:c}).then(a=>{a.data.status&&(d(a.data.message),f(!0),t("/login"))})};return e.jsxs(e.Fragment,{children:[i!==""?e.jsx(ue,{msg:i,run:m,setRun:f}):"",e.jsxs("div",{className:Z.settingBody,children:[e.jsx("h6",{children:n("deactive_qvpile")}),e.jsx("p",{children:n("deactive_qvpile_details")}),e.jsxs("div",{className:Z.inputContainer,children:[e.jsx("label",{children:n("password")}),e.jsx("input",{type:"password",value:c.password,onChange:a=>s({...c,password:a.target.value})})]}),c.password!==""?e.jsx("button",{className:`${Z.btn}`,type:"button",onClick:g,children:n("delete")}):e.jsx("button",{type:"button",className:`${Z.btn1}`,disabled:!0,children:n("delete")})]})]})}const Nt="_recovery_ghwix_1",yt="_recoveryInner_ghwix_12",vt="_btn_ghwix_51",St="_dltbtn_ghwix_62",bt="_accntTop_ghwix_78",wt="_control_ghwix_83",kt="_age_ghwix_94",Ct="_errorspan_ghwix_105",S={recovery:Nt,recoveryInner:yt,btn:vt,dltbtn:St,accntTop:bt,control:wt,age:kt,errorspan:Ct};function $t({switchh:t,dashboardData:n,dashboardFetch:o}){var M,j,Y;const{t:c}=$(),[s,l]=u.useState({recoveryMail:""}),[i,d]=u.useState({userPhoneNumber:""}),[m,f]=u.useState(""),[r,g]=u.useState(!1),[a,x]=u.useState({msg:"",run:!1}),[B,w]=u.useState(),[I,L]=u.useState(!1),[F]=Ne(),[H]=ye(),[Q]=ve(),{data:T}=Se(),{validInput:E,verifyUsername:z}=Re(),[J]=be(),[R,N]=u.useState((T==null?void 0:T.status)!=="No");u.useEffect(()=>{var p,v;(p=n==null?void 0:n.user)!=null&&p.username&&f((v=n==null?void 0:n.user)==null?void 0:v.username)},[(M=n==null?void 0:n.user)==null?void 0:M.username]);const h=()=>{g(p=>!p),F(s).then(p=>{p.data.message&&(o(),w(p.data.message),L(!0),l({recoveryMail:""}),g(v=>!v))})},k=()=>{g(p=>!p),H(i).then(p=>{p.data.message&&(o(),w(p.data.message),L(!0),d({insPhoneNumber:""}),g(v=>!v))})},C=()=>{g(p=>!p),Q().then(p=>{p.data.restrict&&(N(!R),g(v=>!v))})},y=u.useCallback(we.debounce(p=>z(p),500),[]),V=p=>{y(p),f(p)},G=()=>{var p,v;m===((p=n==null?void 0:n.user)==null?void 0:p.username)||["valid",""].includes(E==null?void 0:E.username)&&(g(K=>!K),J({o_name:(v=n==null?void 0:n.user)==null?void 0:v.username,n_name:m}).then(K=>{K.data.flag?o():x({msg:K.data.message,run:!0}),g(fe=>!fe)}).catch({}))},W={inputProps:{"aria-label":"Switch demo"}};return e.jsxs(e.Fragment,{children:[B!==""?e.jsx(ue,{run:I,setRun:L,msg:B}):"",e.jsxs("div",{className:S.recovery,children:[e.jsxs("div",{className:S.recoveryInner,children:[e.jsx("h6",{children:c("restriction_controller")}),e.jsxs("div",{className:S.control,children:[e.jsx("h6",{className:S.age,children:c("age_over_13")}),e.jsx(O,{...W,checked:R,onChange:C})]})]}),e.jsxs("h6",{children:[c("add_recovery_email")," (",((j=n==null?void 0:n.user)==null?void 0:j.recoveryMail)||"",")"]}),e.jsx("input",{type:"email",name:"recoveryMail",value:s.recoveryMail,onChange:p=>l({...s,recoveryMail:p.target.value}),placeholder:c("add_recovery_details")}),s.recoveryMail!==""?e.jsx("button",{className:`${S.btn}`,type:"button",onClick:h,children:c("update")}):e.jsx("button",{type:"button",className:`${S.btn}`,disabled:!0,children:c("update")}),e.jsxs("div",{style:{width:"100%",marginTop:"4vw"},children:[e.jsxs("h6",{children:[c("add_recovery_phone_no")," (",(Y=n==null?void 0:n.user)==null?void 0:Y.userPhoneNumber,")"]}),e.jsx("input",{type:"tel",name:"insPhoneNumber",value:i.userPhoneNumber,maxLength:"10",minLength:"10",onChange:p=>d({...i,userPhoneNumber:p.target.value}),placeholder:c("enter_recovery_phone")}),i.userPhoneNumber!==""?e.jsx("button",{className:`${S.btn}`,type:"button",onClick:k,children:c("update")}):e.jsx("button",{type:"button",className:`${S.btn}`,disabled:!0,children:c("update")})]}),e.jsxs("div",{style:{width:"100%",marginTop:"4vw"},children:[e.jsxs("h6",{children:[c("edit_username"),!["valid",""].includes(E==null?void 0:E.username)&&e.jsxs("span",{className:S.errorspan,children:[" "," ",c("username_is_already_exits")]})]}),e.jsx("input",{type:"text",name:"username",value:m,maxLength:"10",minLength:"10",onChange:p=>V(p.target.value),placeholder:c("type_username")}),m!==""?e.jsx("button",{className:`${S.btn}`,type:"button",onClick:G,children:c("update")}):e.jsx("button",{type:"button",className:`${S.btn}`,disabled:!0,children:c("update")})]}),e.jsx("div",{className:S.dltbtn,onClick:t,children:c("deactivate")})]}),a.run&&e.jsx(ke,{msg:a.msg,run:a.run,setRun:()=>x({msg:"",run:!1}),postiton:"bottom",type:"error"}),r&&e.jsx(_e,{})]})}function Et({dashboardData:t,dashboardFetch:n}){const[o,c]=u.useState(!1),s=()=>{c(!0)};return e.jsxs(e.Fragment,{children:[!o&&e.jsx($t,{switchh:s,dashboardData:t,dashboardFetch:n}),o&&e.jsx(ht,{dashboardData:t})]})}const Pt="_privacy_104av_1",Tt="_privacyStatus_104av_14",Lt="_item_104av_21",Rt="_select_104av_35",Mt="_tooltip1_104av_60",Ut="_tooltip2_104av_66",qt="_tooltip3_104av_72",q={privacy:Pt,privacyStatus:Tt,item:Lt,select:Rt,tooltip1:Mt,tooltip2:Ut,tooltip3:qt},At="_profileToolTip_pj4nn_1",Ot="_profileToolTipPopup_pj4nn_14",Bt="_triangle_pj4nn_19",It="_trianglePopup_pj4nn_29",Ft="_triangleNotPopup_pj4nn_32",Ht="_triangleDisplay_pj4nn_35",Qt="_profilelist_pj4nn_39",P={profileToolTip:At,profileToolTipPopup:Ot,triangle:Bt,trianglePopup:It,triangleNotPopup:Ft,triangleDisplay:Ht,profilelist:Qt};function zt({options:t,closeMenu:n,popup:o,settingPrivacyData:c,setSettingPrivacyData:s,setStatus:l}){const[i]=Le(),{t:d}=$(),m=r=>{s({...c,tagStatus:r}),i({settingPrivacyData:c}).then(g=>{l(!0)})},f=r=>{(!r.target.style.zIndex||r.target.style.zIndex!=="50")&&n()};return u.useEffect(()=>(document.addEventListener("click",f,!0),()=>{document.removeEventListener("click",f,!0)}),[]),e.jsxs("div",{className:o?`${P.profileToolTip} ${P.profileToolTipPopup}`:P.profileToolTip,id:"menuTooltip",children:[e.jsx("div",{className:o?`${P.triangle} ${P.trianglePopup}`:`${P.triangle} ${P.triangleNotPopup}`}),e.jsx("div",{className:P.profilelist,children:t.map((r,g)=>e.jsx("div",{style:{zIndex:"50"},value:r,onClick:()=>m(r),children:d(r==="Every one"?"every_one":r==="Only me"?"only_me":"circle")},g))})]})}function Jt({tag:t,address:n,birth:o,circle:c}){const{t:s}=$(),[l,i]=u.useState({birthStatus:o,addressStatus:n,circleStatus:c,tagStatus:t}),d=["Every One","Only me","Circle"],[m,f]=u.useState(!1),[r,g]=u.useState(!1);return u.useEffect(()=>{setTimeout(()=>{g(!1)},2e3)},[r]),e.jsxs("div",{className:q.privacy,children:[r&&e.jsx("h6",{className:q.privacyStatus,children:s("privacy_updated")}),e.jsxs("div",{className:q.item,onClick:()=>f(!m),children:[e.jsx("h6",{children:s("who_can_tag_me")}),e.jsxs("div",{className:q.select,children:[e.jsx("p",{children:l.tagStatus}),e.jsx("img",{src:"/images/select-icon.svg",alt:""})]}),m&&e.jsx("div",{className:q.tooltip1,children:e.jsx(zt,{options:d,closeMenu:()=>f(!1),settingPrivacyData:l,setSettingPrivacyData:i,setStatus:g})})]})]})}const Vt="_payment_history_container_1ew3j_1",Gt="_payment_history_top_1ew3j_12",Wt="_payment_history_middle_1ew3j_13",Yt="_payment_history_bottom_1ew3j_14",Kt="_detail_summary_1ew3j_23",Xt="_detail_container_1ew3j_50",Zt="_transaction_id_1ew3j_56",Dt="_details_1ew3j_62",en="_dtop_1ew3j_66",tn="_dtopleft_1ew3j_80",nn="_dtopright_1ew3j_87",sn="_listItem_1ew3j_119",A={payment_history_container:Vt,payment_history_top:Gt,payment_history_middle:Wt,payment_history_bottom:Yt,detail_summary:Kt,detail_container:Xt,transaction_id:Zt,details:Dt,dtop:en,dtopleft:tn,dtopright:nn,listItem:sn},on=t=>{var n,o,c,s,l,i;return t!=null&&t.payment_fee?(n=t==null?void 0:t.payment_fee)==null?void 0:n.feeName:t!=null&&t.payment_income?((o=t==null?void 0:t.payment_income)==null?void 0:o.incomeDesc)||"Income":t!=null&&t.payment_expense?((c=t==null?void 0:t.payment_expense)==null?void 0:c.expneseDesc)||"Refund":t!=null&&t.payment_admission?(s=t==null?void 0:t.payment_admission)==null?void 0:s.applicationName:t!=null&&t.payment_checklist?(l=t==null?void 0:t.payment_checklist)==null?void 0:l.checklistName:t!=null&&t.payment_participate?(i=t==null?void 0:t.payment_participate)==null?void 0:i.event_name:"Not Defined"},D=({history:t})=>{var F,H,Q,T,E,z,J,R;const{t:n}=$(),[o,c]=u.useState(""),[s,l]=u.useState(!1),[i,d]=u.useState(""),[m,f]=u.useState(""),[r,g]=u.useState(""),{getFeeReceiptDetail:a,getFeeReceiptDetailRefetch:x}=Ae({rid:o,skip:!o});u.useEffect(()=>{o&&x()},[o,x]),u.useEffect(()=>{a!=null&&a.receipt&&(a!=null&&a.all_remain)&&d(a)},[a]),u.useEffect(()=>{var N;if(i){const h=new Worker(new URL(He,import.meta.url),{type:"module"});if(((N=i==null?void 0:i.all_remain)==null?void 0:N.remaining_flow)==="Hostel Application"){const{institute:k,studentInfo:C,paymentReceiptInfo:y}=Ie(i==null?void 0:i.all_remain,i==null?void 0:i.receipt);h.postMessage({institute:k,studentInfo:C,paymentReceiptInfo:y,printReceiptType:(y==null?void 0:y.transactonRefund)==="Refunded"?"HOSTEL_REFUND":"HOSTEL"})}else{const{institute:k,studentInfo:C,paymentReceiptInfo:y}=Fe(i==null?void 0:i.all_remain,i==null?void 0:i.receipt);h.postMessage({institute:k,studentInfo:C,paymentReceiptInfo:y,printReceiptType:(y==null?void 0:y.transactonRefund)==="Refunded"?"ADMISSION_REFUND":"ADMISSION"})}h.onmessage=k=>{k&&(window.open(k.data,"_blank"),l(C=>!C),d(""),h.terminate())}}},[i]);const B=N=>{l(h=>!h),c(N),o===N&&d(a)},{internalFeeReceipt:w,internalFeeReceiptRefetch:I}=Oe({rid:m,skip:!m});u.useEffect(()=>{m&&I()},[m,I]);const L=N=>{l(h=>!h),f(N)};return u.useEffect(()=>{w!=null&&w.receipt&&(w!=null&&w.one_account)&&g(w)},[w]),u.useEffect(()=>{var N,h,k,C,y,V,G,W;if(r){l(v=>!v);let M=r==null?void 0:r.one_account,j=r==null?void 0:r.receipt;const Y=(h=(N=j==null?void 0:j.finance)==null?void 0:N.institute)!=null&&h.insProfilePhoto?`${oe}/${(C=(k=j==null?void 0:j.finance)==null?void 0:k.institute)==null?void 0:C.insProfilePhoto}`:"/images/certificate/logodemo.jpg",p=(V=(y=j==null?void 0:j.finance)==null?void 0:y.institute)!=null&&V.affliatedLogo?`${oe}/${(W=(G=j==null?void 0:j.finance)==null?void 0:G.institute)==null?void 0:W.affliatedLogo}`:"/images/certificate/logodemo.jpg";M&&j&&(Be(M,j,Y,p),l(!1)),g(""),window.location.reload()}},[r]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:A.payment_history_container,onClick:()=>{var N,h;(t==null?void 0:t.payment_module_type)==="Admission"||(t==null?void 0:t.payment_module_type)==="Admission Fees"||(t==null?void 0:t.payment_module_type)==="Hostel"||(t==null?void 0:t.payment_module_type)==="Hostel Fees"?B((N=t==null?void 0:t.fee_receipt)==null?void 0:N._id):L((h=t==null?void 0:t.fee_receipt)==null?void 0:h._id)},title:"View Receipt",children:[(t==null?void 0:t.payment_mode)==="By Bank"&&e.jsxs("h6",{className:A.transaction_id,children:[e.jsxs("span",{style:{fontWeight:"400",fontSize:"14px"},children:[n("transaction_id")," :"]}),` ${(t==null?void 0:t.razorpay_order_id)??""}`]}),e.jsxs("div",{className:A.payment_history_top,children:[e.jsxs("p",{children:[on(t)," ",t!=null&&t.payment_module_type?`(${t==null?void 0:t.payment_module_type})`:""," "]}),e.jsxs("p",{children:[" ",n("invoice_no")," ",((F=t==null?void 0:t.fee_receipt)==null?void 0:F.invoice_count)??(t==null?void 0:t.payment_invoice_number)??"N/A"]})]}),e.jsxs("div",{className:A.payment_history_middle,children:[e.jsx("h6",{children:(H=t==null?void 0:t.payment_to_end_user_id)==null?void 0:H.insName}),e.jsx("h6",{children:t==null?void 0:t.payment_amount})]}),e.jsxs("div",{className:A.payment_history_bottom,children:[e.jsxs("p",{children:[ce(t==null?void 0:t.created_at).format("DD MMM yyyy"),", ",ce(t==null?void 0:t.created_at).format("LT")]}),e.jsx("p",{children:((Q=t.payment_mode)==null?void 0:Q.toLowerCase())==="offline"?(T=t==null?void 0:t.fee_receipt)!=null&&T.fee_payment_mode?`${(E=t==null?void 0:t.fee_receipt)==null?void 0:E.fee_payment_mode}`:"Offline - No Receipt":((z=t.payment_mode)==null?void 0:z.toLowerCase())==="online"?(J=t==null?void 0:t.fee_receipt)!=null&&J.fee_payment_mode?`${(R=t==null?void 0:t.fee_receipt)==null?void 0:R.fee_payment_mode}`:"Online - No Receipt":t==null?void 0:t.payment_mode})]})]}),s&&e.jsx(_e,{})]})},cn=()=>{const{t}=$(),n=ie(a=>a.idChange),[o,c]=b.useState(!0),[s,l]=b.useState(1),[i,d]=de(),[m,f]=b.useState([]),{userPayment:r,userPaymentRefetch:g}=ge({data:{uid:n==null?void 0:n.id,page:s,limit:10,filter:""},skip:!(n!=null&&n.id)});return b.useEffect(()=>{n!=null&&n.id&&g()},[n==null?void 0:n.id,g,s]),b.useEffect(()=>{d&&o&&l(a=>a+1)},[d,o]),b.useEffect(()=>{if(r!=null&&r.history){const a=[...m,...r==null?void 0:r.history],x=[...new Set(a.map(JSON.stringify))].map(JSON.parse);f(x)}(r==null?void 0:r.history.length)===10?c(!0):c(!1)},[r==null?void 0:r.history]),e.jsxs(e.Fragment,{children:[m.map((a,x)=>(m==null?void 0:m.length)===x+1?e.jsx("div",{ref:i,children:e.jsx(D,{history:a})},x):e.jsx(D,{history:a},x)),!(m!=null&&m.length)&&e.jsx("section",{children:t("no_payment")})]})},rn=()=>{const{t}=$(),n=ie(a=>a.idChange),[o,c]=b.useState(!0),[s,l]=b.useState(1),[i,d]=de(),[m,f]=b.useState([]),{userPayment:r,userPaymentRefetch:g}=ge({data:{uid:n==null?void 0:n.id,page:s,limit:10,filter:"Expense"},skip:!(n!=null&&n.id)});return b.useEffect(()=>{n!=null&&n.id&&g()},[n==null?void 0:n.id,g,s]),b.useEffect(()=>{d&&o&&l(a=>a+1)},[d,o]),b.useEffect(()=>{if(r!=null&&r.history){const a=[...m,...r==null?void 0:r.history],x=[...new Set(a.map(JSON.stringify))].map(JSON.parse);f(x)}(r==null?void 0:r.history.length)===10?c(!0):c(!1)},[r==null?void 0:r.history]),e.jsxs(e.Fragment,{children:[m.map((a,x)=>(m==null?void 0:m.length)===x+1?e.jsx("div",{ref:i,children:e.jsx(D,{history:a})},x):e.jsx(D,{history:a},x)),!(m!=null&&m.length)&&e.jsx("section",{children:t("no_receipt")})]})};function an(){const{t}=$(),n=[{name:t("payments"),id:0},{name:t("recipts"),id:1}],[o,c]=u.useState(0);return e.jsxs(e.Fragment,{children:[e.jsx(Ue,{tabList:n,activeIndexTab:o,setActiveIndexTab:c,customStyleTab:{width:"50%"}}),e.jsx(qe,{customStyle:{width:"100%",marginBottom:"1rem"}}),o===0&&e.jsx(cn,{}),o===1&&e.jsx(rn,{})]})}const ln="_about_4oxnc_1",mn="_top_4oxnc_5",un="_content_4oxnc_20",se={about:ln,top:mn,content:un};function _n(){const[t,n]=u.useState(!0);return e.jsx(me,{open:t,onClose:()=>n(o=>!o),children:e.jsxs("div",{className:se.about,children:[e.jsx("div",{className:se.top,children:"About Qviple"}),e.jsxs("div",{className:se.content,children:[e.jsx("p",{children:"Please Check the Qviple Site:"}),e.jsx("a",{href:"https://dashboard.qviple.com",target:"_blank",rel:"noopener noreferrer",children:"https://dashboard.qviple.com"})]})]})})}function dn({clickItem:t,dashboardData:n,dashboardFetch:o}){var l,i,d,m,f,r,g,a;const c=localStorage.getItem("user"),{data:s}=pe(c);return e.jsxs(e.Fragment,{children:[t===1&&e.jsx(Et,{dashboardData:n,dashboardFetch:o}),t===2&&e.jsx(pt,{answer:(l=s==null?void 0:s.user)==null?void 0:l.user_answer_notify,comment:(i=s==null?void 0:s.user)==null?void 0:i.user_comment_notify,follower:(d=s==null?void 0:s.user)==null?void 0:d.user_follower_notify,institute:(m=s==null?void 0:s.user)==null?void 0:m.user_institute_notify}),t===6&&e.jsx(an,{}),t===7&&e.jsx(Me,{}),t===8&&e.jsx(Jt,{tag:(f=s==null?void 0:s.user)==null?void 0:f.tag_privacy,address:(r=s==null?void 0:s.user)==null?void 0:r.user_address_privacy,birth:(g=s==null?void 0:s.user)==null?void 0:g.user_birth_privacy,circle:(a=s==null?void 0:s.user)==null?void 0:a.user_circle_privacy}),t===9&&e.jsx(_n,{})]})}function pn({changeItem:t,clickItem:n,dashboardData:o,dashboardDataRefetch:c}){return e.jsxs("div",{className:ne.stats,children:[e.jsx("div",{className:ne.header,children:e.jsx(at,{dashboardData:o})}),e.jsx("div",{className:ne.body,children:e.jsx(dn,{changeItem:t,clickItem:n,dashboardData:o,dashboardFetch:c})})]})}function gn({profileData:t,profileDataRefetch:n}){const[o,c]=u.useState(1),s=l=>{c(l)};return e.jsxs("div",{className:ee.mainbody,children:[e.jsx("div",{className:ee.sidebar,children:e.jsx(it,{changeItem:s,clickItem:o})}),e.jsx("div",{className:ee.stats,children:e.jsx(pn,{changeItem:s,clickItem:o,dashboardData:t,dashboardDataRefetch:n})})]})}function Ln(){var c,s,l,i;const t=localStorage.getItem("user"),{data:n,refetch:o}=pe(t);return e.jsxs("div",{className:ae.insprofilesetting,children:[e.jsx("div",{className:ae.navbar,children:e.jsx(Ce,{status:"profile",profileData:n==null?void 0:n.user,username:(c=n==null?void 0:n.user)==null?void 0:c.username,name:(s=n==null?void 0:n.user)==null?void 0:s.userLegalName,photoId:(l=n==null?void 0:n.user)==null?void 0:l.photoId,profilePhoto:(i=n==null?void 0:n.user)==null?void 0:i.profilePhoto})}),e.jsx(gn,{profileData:n,profileDataRefetch:o})]})}export{Ln as default};
