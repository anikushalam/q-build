import{u as P,r as n,hU as S,hV as E,j as r,Q as U}from"./index-0ca76035.js";import{s as a}from"./JoinForm.module-212f9bb3.js";import{P as v}from"./PopupWrapper-2578092d.js";import{B as y}from"./BorderBottom-1dc6f53e.js";import{J as c}from"./JoinFormInput-82706177.js";const Q=({onLoginDetailToggle:l,loginData:e,sid:i,onRefetch:p,is_staff:d})=>{const{t}=P(),[o,u]=n.useState({phone:(e==null?void 0:e.userPhoneNumber)||"",email:(e==null?void 0:e.userEmail)||""}),[f,m]=n.useState(!1),[x]=S(),[b]=E();n.useEffect(()=>{e&&u(s=>({...s,phone:(e==null?void 0:e.userPhoneNumber)||"",email:(e==null?void 0:e.userEmail)||""}))},[e]);const h=s=>{u(j=>({...j,[s.target.name]:s.target.value}))},_=()=>{m(s=>!s),d?b({login_details:{phone:o.phone,email:o.email,sid:i}}).then(()=>{p(),m(s=>!s),l()}).catch({}):x({login_details:{phone:o.phone,email:o.email,sid:i}}).then(()=>{p(),m(s=>!s),l()}).catch({})};return r.jsx(v,{onClose:l,children:r.jsxs("div",{className:a.login_details_modal,children:[r.jsx("h6",{children:t("login_details")}),r.jsx(y,{customStyle:{width:"100%",marginTop:"0.5rem"}}),r.jsx(c,{labelText:t("mobile_number"),placeholder:t("mobile_number_placeholder"),name:"phone",value:o.phone,type:"text",onChange:h}),r.jsx(c,{labelText:t("email"),placeholder:t("email_placeholder"),name:"email",value:o.email,type:"text",onChange:h}),r.jsx("button",{className:a.login_details_btn,onClick:_,children:t("update")}),f&&r.jsx(U,{})]})})};export{Q as S};
