import{u as y,r as _,g as z,j as a,L as P,A as S,R as s,_ as x,e as v}from"./index-0ca76035.js";import{R as k}from"./Reactions-adfc4e73.js";import{C as E}from"./CheckOutsideClick-e8a6bc7c.js";import{_ as N}from"./index-93406a40.js";import{s as T,P as D}from"./PostContainer-ced4cfa1.js";import{R}from"./index-1f591308.js";import{C as f}from"./CustomSuspense-25f8db15.js";import{Q as $}from"./QvipleLoaderGif-bd545aa8.js";import"./constant_value-4cd2b3e0.js";import"./post-api-b04eb54b.js";import"./Save-f98edaa0.js";import"./Radio-4a0385d3.js";import"./SwitchBase-e3c2ff35.js";import"./Checkbox-d3fc23de.js";import"./DialogTitle-11abc21d.js";import"./Divider-2f807990.js";import"./FormControlLabel-b4cb2fc2.js";import"./Switch-4bb87998.js";import"./index-c08ef366.js";import"./index-387d7a00.js";const w="_postText_v5zuz_1",A="_text_v5zuz_8",M="_textDes_v5zuz_18",L="_hashtag_v5zuz_27",U="_postImg_v5zuz_33",V="_index_v5zuz_41",O="_videoContainer_v5zuz_54",b="_comment_v5zuz_57",n={postText:w,text:A,textDes:M,hashtag:L,postImg:U,index:V,videoContainer:O,comment:b};function C({text:e,parentStyle:u}){const{t:h}=y(),[c,o]=_.useState(!0),r=c?e==null?void 0:e.substring(0,200):e,t=z();return a.jsxs("p",{className:u,children:[r==null?void 0:r.split(" ").map((i,l)=>i.startsWith("@",0)?a.jsx(P,{to:`/q/${i.slice(1,i.length)}/profile`,onClick:()=>{t(S.searchId({id:i.slice(1,i.length),type:"USERNAME"}))},style:{color:"#436DFA"},children:` ${i} `},l):a.jsx("span",{children:` ${i} `},l)),c&&(e==null?void 0:e.length)>200?a.jsx("span",{className:T.showMore,style:{},onClick:()=>o(!c),children:h("show_more_")}):""]})}const B="_video_huikf_1",Q={video:B};function q({video:e}){return a.jsx("div",{className:Q.video,children:a.jsx(R,{controls:!0,url:e})})}const F=s.lazy(()=>x(()=>import("./PostModal-e647b5d0.js"),["assets/PostModal-e647b5d0.js","assets/index-0ca76035.js","assets/index-4d24e8f6.css","assets/CheckOutsideClick-e8a6bc7c.js","assets/Menu-f7e57469.js","assets/constant_value-4cd2b3e0.js","assets/post-api-b04eb54b.js","assets/search-api-b192a53f.js","assets/Menu-1cf08c13.css","assets/index-93406a40.js","assets/Radio-4a0385d3.js","assets/SwitchBase-e3c2ff35.js","assets/Checkbox-d3fc23de.js","assets/DialogTitle-11abc21d.js","assets/Divider-2f807990.js","assets/FormControlLabel-b4cb2fc2.js","assets/Switch-4bb87998.js","assets/Reactions-adfc4e73.js","assets/Save-f98edaa0.js","assets/Save-49b0b357.css","assets/Reactions-2de2b73d.css","assets/PostModal-0077410f.css"])),G=s.lazy(()=>x(()=>import("./Comment-7c9a49ba.js"),["assets/Comment-7c9a49ba.js","assets/index-0ca76035.js","assets/index-4d24e8f6.css","assets/post-api-b04eb54b.js","assets/index-c08ef366.js","assets/constant_value-4cd2b3e0.js","assets/CustomSuspenseGif-96fc12fa.js","assets/Avatar-e65c49d9.js","assets/Avatar.module-fb7ee634.js","assets/Avatar-8bcfd9a5.css","assets/Comment-ae607fef.css"])),W=s.lazy(()=>x(()=>import("./Menu-f7e57469.js"),["assets/Menu-f7e57469.js","assets/index-0ca76035.js","assets/index-4d24e8f6.css","assets/constant_value-4cd2b3e0.js","assets/post-api-b04eb54b.js","assets/search-api-b192a53f.js","assets/Menu-1cf08c13.css"]));function se({post:e,profilePost:u,allPosts:h,selectOptions:c}){const[o,r]=_.useState(!1),[t,i]=_.useState(!1),[l,g]=_.useState(!1),I=()=>{r(!1)},j=()=>{g(!0)};return a.jsxs(D,{author:e==null?void 0:e.author,authorPhotoId:e==null?void 0:e.authorPhotoId,authorProfilePhoto:e==null?void 0:e.authorProfilePhoto,postStatus:e==null?void 0:e.postStatus,authorUserName:e==null?void 0:e.authorUserName,createdAt:e==null?void 0:e.createdAt,setDotsClicked:r,children:[a.jsx("div",{className:n.postText,children:a.jsx(C,{text:e==null?void 0:e.postTitle,stat:"title",parentStyle:(e==null?void 0:e.imageId)!=="1"?n.textDes:n.text})}),a.jsx("div",{className:n.postText,children:(e==null?void 0:e.imageId)!=="0"&&a.jsx(C,{text:e==null?void 0:e.postDescription,stat:"description",parentStyle:n.textDes})}),(e==null?void 0:e.imageId)!=="1"&&(e==null?void 0:e.postImage.length)===1&&a.jsx("div",{className:n.postImg,children:a.jsx("img",{src:`${v}/${e==null?void 0:e.postImage[0]}`,alt:"post img",onClick:j})}),(e==null?void 0:e.imageId)!=="1"&&(e==null?void 0:e.postImage.length)>1&&a.jsx(N,{className:"Example",autoPlay:!1,indicators:!0,navButtonsAlwaysVisible:!1,navButtonsAlwaysInvisible:!1,next:(m,d)=>{},prev:(m,d)=>{},onChange:(m,d)=>{},children:e==null?void 0:e.postImage.map((m,d)=>a.jsxs("div",{className:n.postImg,children:[a.jsx("img",{src:`${v}/${m}`,alt:"client",onClick:j}),a.jsxs("p",{className:n.index,children:[d+1,"/",e==null?void 0:e.postImage.length]})]},d))}),(e==null?void 0:e.postVideo)&&a.jsx("div",{className:n.videoContainer,children:a.jsx(q,{video:`${v}/${e==null?void 0:e.postVideo}`})}),a.jsx(k,{likeCount:e==null?void 0:e.likeCount,endUserLike:e==null?void 0:e.endUserLike,endUserSave:e==null?void 0:e.endUserSave,pid:e==null?void 0:e._id,setCommentOpen:i,commentOpen:t,commentCount:e==null?void 0:e.commentCount,type:"post"}),a.jsx(s.Suspense,{fallback:a.jsx($,{}),children:a.jsx(G,{pid:e==null?void 0:e._id,commentCount:e==null?void 0:e.commentCount,setCommentOpen:i,commentOpen:t,comment_turned:e==null?void 0:e.comment_turned})}),o&&a.jsx(E,{closeMenu:I,children:a.jsx(f,{children:a.jsx(W,{setDotsClicked:r,options:c,pid:e==null?void 0:e._id,authorId:e==null?void 0:e.author,profilePost:u,status:e==null?void 0:e.postStatus,allPosts:h,popup:!1,postType:e==null?void 0:e.postType,commentStatus:e==null?void 0:e.comment_turned})})}),a.jsx(f,{children:l&&a.jsx(F,{open:l,hideModal:m=>g(m),post:e,profilePost:u,allPosts:h,setDotsClicked:r,selectOptions:c})})]})}export{se as default};
