import{u as S,r as l,k as C,j as e,N as T,Q as F}from"./index-731451a5.js";import{s}from"./InsFinance-a3e64cbf.js";import{B as I}from"./ButtonWithTypeSubmit-71da32d7.js";import{d as P}from"./institute-finance-api-8c8ab872.js";import{J as q}from"./JoinFormToggle-848afb43.js";import{J as d}from"./JoinFormInput-8e74a0e0.js";import{C as G}from"./Checkbox-1498c124.js";import"./InsFinance.module-24741212.js";import"./CommonLinkTab-7c8e0314.js";import"./CustomSuspense-e90dc607.js";import"./finance-api-5c6c5671.js";import"./InstituteFinanceTabChangeLink-4ab7a57f.js";import"./LoaderButton-71df50a7.js";import"./JoinForm.module-212f9bb3.js";import"./SwitchBase-2ba5f868.js";const R={inputProps:{"aria-label":"Checkbox demo"}},V=({onRefetch:h,setIndex:b})=>{const{t:a}=S(),[t,c]=l.useState({bankAccountHolderName:"",bankAccountNumber:"",bankReAccountNumber:"",bankIfscCode:"",bankAccountPhoneNumber:"",GSTInfo:"",businessName:"",businessAddress:"",bankAccountType:"",gstSlab:"",razor_account:!1}),[n,p]=l.useState({razor_key:"",razor_id:"",re_razor_key:"",re_razor_id:"",razor_key_match:!1,razor_id_match:!1}),[x,y]=l.useState({msg:"",run:!1}),[k,u]=l.useState(!1),[g,v]=l.useState(!1),[i,z]=l.useState(!0),j=C(r=>r.idChange.id),[f]=P(),N=r=>{r.preventDefault(),u(o=>!o),i?n.razor_key!==n.re_razor_key||n.razor_id!==n.re_razor_id?(p(o=>({...o,razor_key_match:n.razor_key!==n.re_razor_key,razor_id_match:n.razor_id!==n.re_razor_id})),u(o=>!o)):f({passbook:{razor_key:n.razor_key,razor_id:n.razor_id,bankAccountPhoneNumber:t.bankAccountPhoneNumber,razor_account:!0},id:`${j}`}).then(o=>{o.data.status&&(h(),b(0),u(_=>!_))}).catch({}):t.bankAccountNumber===t.bankReAccountNumber&&t.bankIfscCode&&t.bankAccountHolderName?f({passbook:t,id:`${j}`}).then(o=>{o.data.status&&(h(),b(0),u(_=>!_))}).catch({}):(u(o=>!o),y({msg:t.bankAccountNumber!==t.bankReAccountNumber?a("form_account_dose_not_match_label"):"Check all the entered details carefully",run:!0}))},A=r=>{z(r.target.value)},m=r=>{p(o=>({...o,[r.target.name]:r.target.value}))};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:s.linkform,children:e.jsxs("form",{onSubmit:N,children:[e.jsx(q,{labelText:a("do_you_have_razor_pay_gateway"),name:"razorpay",onChange:A,value:i,customStyleLabel:{fontWeight:"600"}}),i&&e.jsxs(e.Fragment,{children:[e.jsx(d,{labelText:a("merchant_secret_id"),name:"razor_id",type:"text",placeholder:a("please_enter_merchant_id_of_payment_gateway"),value:n.razor_id,onChange:m,customStyleLabel:{fontWeight:"600"}}),e.jsx(d,{labelText:a("confirm_merchant_secret_id"),name:"re_razor_id",type:"text",placeholder:a("re-enter_merchant_id_of_payment_gateway"),value:n.re_razor_id,onChange:m,customStyleLabel:{fontWeight:"600"},reAccount:n.razor_id_match?a("form_razor_id_dose_not_match_label"):""}),e.jsx(d,{labelText:a("razorpay_key"),name:"razor_key",type:"text",placeholder:a("please_enter_razorpay_key"),value:n.razor_key,onChange:m,customStyleLabel:{fontWeight:"600"}}),e.jsx(d,{labelText:a("confirm_razorpay_key"),name:"re_razor_key",type:"text",placeholder:a("re-enter_razorpay_key"),value:n.re_razor_key,onChange:m,customStyleLabel:{fontWeight:"600"},reAccount:n.razor_key_match?a("form_razor_key_dose_not_match_label"):""})]}),!i&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:s.input,children:[e.jsx("h6",{children:a("acnt_holder")}),e.jsx("input",{type:"text",required:!0,placeholder:a("enter_name"),name:"bankAccountHolderName",value:t.bankAccountHolderName,onChange:r=>{c({...t,bankAccountHolderName:r.target.value})}})]}),e.jsxs("div",{className:s.input,children:[e.jsx("h6",{children:a("account_type")}),e.jsxs("select",{className:s.selectAccount,name:"bankAccountType",value:t.bankAccountType,onChange:r=>{c({...t,bankAccountType:r.target.value})},required:!0,children:[e.jsx("option",{value:"Select Account Type",disabled:!0,children:a("select_account_type")}),e.jsx("option",{value:"Saving",children:a("saving")}),e.jsx("option",{value:"Current",children:a("current")})]})]}),e.jsxs("div",{className:s.input,children:[e.jsx("h6",{children:a("account_holder")}),e.jsx("input",{type:"number",required:!0,placeholder:a("enter_account_no"),name:"bankAccountNumber",value:t.bankAccountNumber,onChange:r=>{c({...t,bankAccountNumber:r.target.value})}})]}),e.jsxs("div",{className:s.input,children:[e.jsx("h6",{children:a("confirm_account")}),e.jsx("input",{type:"number",required:!0,placeholder:a("please_confirm"),name:"bankReAccountNumber",value:t.bankReAccountNumber,onChange:r=>{c({...t,bankReAccountNumber:r.target.value})}})]}),e.jsxs("div",{className:s.input,children:[e.jsx("h6",{children:"IFSC Code"}),e.jsx("input",{type:"text",required:!0,placeholder:a("enter_ifsc"),pattern:"[a-zA-Z0-9]+",name:"bankIfscCode",value:t.bankIfscCode,onChange:r=>{c({...t,bankIfscCode:r.target.value})}})]})]}),e.jsxs("div",{className:s.input,children:[e.jsx("h6",{children:a("mobil_optional")}),e.jsx("input",{type:"text",pattern:"[789][0-9]{9}",placeholder:a("enter_mobile"),name:"bankAccountPhoneNumber",title:"Please enter valid phone number",value:t.bankAccountPhoneNumber,onChange:r=>{c({...t,bankAccountPhoneNumber:r.target.value})}})]}),!i&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:s.gstcheck,children:[e.jsx("h6",{children:a("add_gst")}),e.jsx("div",{className:s.checkbox,children:e.jsx(G,{onClick:()=>v(!g),...R})})]}),g&&e.jsxs("div",{children:[e.jsxs("div",{className:s.input,children:[e.jsx("h6",{children:a("gst")}),e.jsx("input",{type:"text",name:"GSTInfo",required:!0,pattern:"[a-zA-Z0-9]+",placeholder:a("enter_gst"),value:t.GSTInfo,onChange:r=>{c({...t,GSTInfo:r.target.value})}})]}),e.jsxs("div",{className:s.input,children:[e.jsx("h6",{children:a("gst_slab")}),e.jsx("input",{type:"number",name:"gstSlab",required:!0,min:"0",max:"18",placeholder:a("enter_gst_slab"),value:t.gstSlab,onChange:r=>{c({...t,gstSlab:r.target.value})}})]}),e.jsxs("div",{className:s.input,children:[e.jsx("h6",{children:a("business_name")}),e.jsx("input",{type:"text",name:"businessName",required:!0,placeholder:a("enter_business_name"),value:t.businessName,onChange:r=>{c({...t,businessName:r.target.value})}})]}),e.jsxs("div",{className:s.input,children:[e.jsx("h6",{children:a("business_add")}),e.jsx("input",{type:"text",name:"businessAddress",required:!0,placeholder:a("enter_business_add"),value:t.businessAddress,onChange:r=>{c({...t,businessAddress:r.target.value})}})]})]})]}),e.jsx(I,{customStyleButton:{marginTop:"1vw"},type:"submit",disabled:k,buttonText:a("linked_account")})]})}),e.jsx(T,{msg:x.msg,run:x.run,setRun:()=>y({msg:"",run:!1}),postiton:"bottom",type:"error"}),k&&e.jsx(F,{})]})};export{V as default};
