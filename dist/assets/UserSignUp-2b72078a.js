import{u as R,r as i,j as e,N as M,D as B,C as F}from"./index-731451a5.js";import{v as I}from"./verifyUserNameSpaces-1eb95efa.js";import{S as q}from"./SigninHeader-856b8c8f.js";import{B as V}from"./ButtonWithAction-805b1066.js";import{u as T}from"./use-user-signup-c7112eee.js";import{B as W}from"./ButtonWithTypeSubmit-71da32d7.js";import{M as Y,S as G,C as $}from"./SignUpVerify-b47a2fe1.js";import"./SigninHeader.module-ca519f7c.js";import"./LoaderButton-71df50a7.js";import"./Container.module-c3c43a80.js";import"./ResendTimer-2d001486.js";const z="_container_1jjvp_1",H="_backText_1jjvp_14",J="_loginLogo_1jjvp_19",K="_loginLogoProfileImg_1jjvp_27",Q="_userLogo_1jjvp_37",X="_userLogoContainer_1jjvp_46",Z="_cloose_1jjvp_51",ee="_upload_1jjvp_58",se="_logocomp_1jjvp_62",te="_footerr_1jjvp_71",oe="_right_1jjvp_76",ne="_mid_1jjvp_84",re="_one_1jjvp_101",ie="_two_1jjvp_102",ae="_three_1jjvp_103",ce="_step1_1jjvp_108",le="_step2_1jjvp_109",pe="_step3_1jjvp_110",me="_footer_1jjvp_71",ue="_signupbtn_1jjvp_125",_e="_steps_1jjvp_133",je="_form_1jjvp_138",ge="_forgotPass_1jjvp_142",de="_choosetypeh_1jjvp_162",ve="_choosetypep_1jjvp_173",he="_userNamecontainer_1jjvp_185",fe="_submitbtn_1jjvp_196",be="_otpcontainer_1jjvp_217",xe="_btn_1jjvp_235",Ne="_username_1jjvp_239",Se="_eye_1jjvp_244",ye="_eyeOpen_1jjvp_249",Le="_toc_1jjvp_290",Ce="_tocspan_1jjvp_297",Ie="_didnot_1jjvp_300",Re="_resend_1jjvp_318",Te="_userNamecontainer2_1jjvp_334",Ee="_regIcon_1jjvp_367",Pe="_selector_1jjvp_448",ke="_selectIcon_1jjvp_456",Oe="_list_1jjvp_463",Ue="_divider_1jjvp_474",De="_options_1jjvp_480",we="_listDisplay_1jjvp_501",Ae="_triangle_1jjvp_505",Me="_triangleDisplay_1jjvp_514",Be="_errorspan_1jjvp_541",Fe="_containerMargin_1jjvp_551",qe="_submitDisable_1jjvp_555",Ve="_formselect_1jjvp_561",We="_up_1jjvp_58",Ye="_option_1jjvp_480",Ge="_backtologin_1jjvp_604",t={container:z,backText:H,loginLogo:J,loginLogoProfileImg:K,userLogo:Q,userLogoContainer:X,cloose:Z,upload:ee,logocomp:se,footerr:te,right:oe,mid:ne,one:re,two:ie,three:ae,step1:ce,step2:le,step3:pe,footer:me,signupbtn:ue,steps:_e,form:je,forgotPass:ge,choosetypeh:de,choosetypep:ve,userNamecontainer:he,submitbtn:fe,otpcontainer:be,btn:xe,username:Ne,eye:Se,eyeOpen:ye,toc:Le,tocspan:Ce,didnot:Ie,resend:Re,userNamecontainer2:Te,regIcon:Ee,selector:Pe,selectIcon:ke,list:Oe,divider:Ue,options:De,listDisplay:we,triangle:Ae,triangleDisplay:Me,errorspan:Be,containerMargin:Fe,submitDisable:qe,formselect:Ve,up:We,option:Ye,backtologin:Ge},$e={position:"relative"},ze={position:"absolute",left:"0",top:"3.2vw",zIndex:10},He={position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10};function Je({open:j,onClose:p,setFormData:c,formData:o}){const{t:s}=R();return j?e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:p,style:He}),e.jsxs("div",{style:ze,className:t.options,children:[e.jsx("div",{className:t.option,onClick:()=>{c({...o,gender:"male"}),p()},children:s("male")}),e.jsx("div",{className:t.option,onClick:()=>{c({...o,gender:"female"}),p()},children:s("female")}),e.jsx("div",{className:t.option,onClick:()=>{c({...o,gender:"other"}),p()},children:s("other")})]})]}):null}function Ke({userData:j,setUserId:p,setActiveTab:c}){const{t:o}=R(),[s,u]=i.useState({userName:"",name:"",dob:"",gender:"",phoneNumber:""}),[l,g]=i.useState(""),[a,d]=i.useState({}),[v,f]=i.useState(!1),[b,_]=i.useState(!1),[S,y]=i.useState(!1),[Qe,L]=i.useState(""),[E,C]=i.useState(""),[P,x]=i.useState(!1),[N,h]=i.useState({msg:"",run:!1}),{registerAccount:k}=T(),O=()=>{g("")},U=n=>{const r=I(n&&(n==null?void 0:n.userName)),m={};return n.name||(m.name="Name is required!"),n.userName?r&&(m.username="Special Character not allowed"):m.username="User name is required!",l||h({msg:"Please Select Image",run:!0}),m},D=n=>{n.preventDefault(),d(U(s)),f(!0)},w=async()=>{if(x(r=>!r),I(s==null?void 0:s.name))h({msg:"Special Character not allowed...",run:!0});else{const r=await k({id:j.phoneNumber,file:l,userLegalName:s.name,username:s.userName,userGender:s.gender,userDateOfBirth:s.dob});r!=null&&r.msg?(h({msg:r==null?void 0:r.msg,run:!0}),x(m=>!m)):(p(r==null?void 0:r._id),c("CREATE_PASSWORD"),x(m=>!m))}},A=n=>{const r=URL.createObjectURL(n.target.files[0]);g(n.target.files[0]),L(r),C(r),y(!0)};return i.useEffect(()=>{Object.keys(a).length===0&&v&&w()},[a]),console.info(a),e.jsxs(e.Fragment,{children:[N.run&&e.jsx(M,{msg:N.msg,run:N.run,setRun:()=>h({msg:"",run:!1}),postiton:"bottom",type:"error"}),e.jsxs("div",{className:` ${t.container}`,children:[e.jsxs("div",{className:t.loginLogo,children:[e.jsx("a",{href:"/",children:e.jsx("img",{src:"/images/career/newLogo.svg",alt:"not found"})}),e.jsx(q,{status:"login"})]}),e.jsxs("div",{className:t.loginLogoProfileImg,style:{marginTop:"15px"},children:[l!==""&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"img",style:{cursor:"pointer"},children:e.jsx("img",{className:t.userLogo,src:"/images/userLogo-image.svg",alt:""})}),e.jsx("input",{className:t.upload,id:"img",name:"file",multiple:!0,onChange:A,type:"file",accept:"image/gif, image/jpeg, image/png"})]}),l!==""&&e.jsxs("div",{className:t.userLogoContainer,children:[e.jsx("img",{className:t.userLogo,src:URL.createObjectURL(l),alt:"Avatar"}),e.jsx("img",{onClick:O,className:t.cloose,src:"/images/user_signup/close.svg",alt:"Avatar"})]})]}),e.jsx("div",{className:t.form,children:e.jsxs("form",{encType:"multipart/form-data",noValidate:!0,onSubmit:D,children:[e.jsx("h3",{children:o("Create_profile")}),e.jsx("p",{className:t.enterdetails,children:o("enter_details")}),e.jsxs("div",{className:t.userNamecontainer,children:[e.jsx("img",{className:t.regIcon,src:"/images/user_signup/name.svg",alt:"not found"}),e.jsx("input",{type:"text",required:!0,name:"name",placeholder:o("name"),value:s.name,onChange:n=>u({...s,name:n.target.value})}),e.jsx("span",{className:t.errorspan,children:a==null?void 0:a.name})]}),e.jsxs("div",{className:t.userNamecontainer,children:[e.jsx("img",{className:t.regIcon,src:"/images/user_signup/username.svg",alt:"not found"}),e.jsx("input",{required:!0,type:"text",name:"userName",placeholder:o("username"),value:s.userName,onChange:n=>u({...s,userName:n.target.value})}),e.jsx("span",{className:t.errorspan,children:a==null?void 0:a.username})]}),e.jsxs("div",{className:t.userNamecontainer,children:[e.jsx("img",{className:t.regIcon,src:"/images/user_signup/dob.svg",alt:"not found"}),e.jsx("input",{required:!0,type:"date",name:"dob",placeholder:o("dob"),value:s.dob,onChange:n=>u({...s,dob:n.target.value})})]}),e.jsxs("div",{className:`${t.userNamecontainer} ${t.containerMargin}`,style:$e,children:[e.jsx("img",{className:t.regIcon,src:"/images/user_signup/gender.svg",alt:"not found"}),e.jsxs("div",{className:t.formselect,onClick:()=>_(!b),children:[s.gender==="male"?e.jsx("h6",{onClick:()=>_(!0),children:o("male")}):s.gender==="female"?e.jsx("h6",{onClick:()=>_(!0),children:o("female")}):s.gender==="other"?e.jsx("h6",{onClick:()=>_(!0),children:o("other")}):e.jsx("h6",{onClick:()=>_(!0),children:o("gender")}),b?e.jsx("img",{className:t.up,src:"/images/up-triangle-icon.svg",alt:""}):e.jsx("img",{className:t.down,src:"/images/downn-icon.svg",alt:""})]}),e.jsx(Je,{open:b,onClose:()=>_(!1),setFormData:u,formData:s})]}),s.userName!==""&&s.name!==""&&s.dob!==""&&s.gender!==""&&l!==""?e.jsx(W,{buttonText:o("submit"),type:"submit",disabled:P,shwoLoader:!0,customStyleButton:{marginTop:"2vw"}}):e.jsx(V,{buttonText:o("submit"),disabled:!0,shwoLoader:!1,customStyleButton:{marginTop:"2vw",background:"#dfdbdb",color:"rgba(18, 18, 18, 0.6)"}})]})})]}),S&&e.jsx(B,{open:S,children:e.jsx(F,{setPhotoURL:C,photoURL:E,setFile:g,setOpenCrop:y,setProfilePhoto:L,first:1,second:1})})]})}function ls(){const[j,p]=i.useState(""),[c,o]=i.useState("MOBILE"),[s,u]=i.useState({phoneNumber:"",mobileStatus:""}),{mobileRegister:l,numberVerification:g,createPassword:a}=T(),d=v=>{u(f=>({...f,[v.type]:v.value}))};return e.jsxs(e.Fragment,{children:[c==="MOBILE"&&e.jsx(Y,{onMobileNumberAdd:l,setActiveTab:o,setPhoneNumber:d}),c==="VERIFIED_MOBILE"&&e.jsx(G,{phoneNumber:s.phoneNumber,onMobileVerified:g,setActiveTab:o,onMobileNumberAdd:l,onMobileStatus:d,activeType:"USER_REGISTER"}),c==="USER_REGISTER"&&e.jsx(Ke,{userData:s,setActiveTab:o,setUserId:p}),c==="CREATE_PASSWORD"&&e.jsx($,{id:j,createPassword:a})]})}export{ls as default};
