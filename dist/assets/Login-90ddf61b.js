import{r as u,j as e,u as k,a as me,b as V,c as A,N as z,d as se,i as P,e as Z,l as ge,T as ae,D as pe,C as _e,f as ue,Q as he,g as te,h as X,R as H,_ as M,k as fe,m as xe}from"./index-0ca76035.js";import{s,R as je}from"./ResendTimer-690f6a77.js";import{B as G}from"./ButtonWithTypeSubmit-5c11ae9c.js";import{u as ne}from"./use-login-cbfdffab.js";import{B as Y}from"./ButtonWithAction-aaeab9a0.js";import{v as oe}from"./verifyUserNameSpaces-1eb95efa.js";import{I as Ne}from"./InputDateField-5babd99a.js";import{s as F}from"./SelectOptions.module-81ece918.js";import{u as ie}from"./use-user-signup-533cdb2a.js";import{w as ve}from"./timeComparison-f15c3247.js";import{C as Se}from"./CustomSuspense-25f8db15.js";const be="_login_tsvhe_1",ye="_header_tsvhe_16",Te="_registerAppContainer_tsvhe_22",Ie="_registerBGContainer_tsvhe_29",Ee="_registerBG_tsvhe_29",we="_registergbLeft_tsvhe_42",Re="_registergbRight_tsvhe_86",Oe="_firstRightStripe_tsvhe_90",$e="_secondLeftStripe_tsvhe_101",B={login:be,header:ye,registerAppContainer:Te,registerBGContainer:Ie,registerBG:Ee,registergbLeft:we,registergbRight:Re,firstRightStripe:Oe,secondLeftStripe:$e},Ce="_modalContainer_x048z_1",De="_modalContainerr_x048z_7",ke={modalContainer:Ce,modalContainerr:De},Le="_date_input_container_4edhs_1",Be="_date_input_flex_4edhs_12",Pe="_date_input_img_container_4edhs_18",Ue="_date_input_container_icon_4edhs_25",Ge="_date_input_container_input_4edhs_29",Ae="_number_input_4edhs_41",qe="_input_border_active_4edhs_75",Ve="_input_position_4edhs_78",ze="_eye_4edhs_82",He="_eyeOpen_4edhs_83",b={date_input_container:Le,date_input_flex:Be,date_input_img_container:Pe,date_input_container_icon:Ue,date_input_container_input:Ge,number_input:Ae,input_border_active:qe,input_position:Ve,eye:ze,eyeOpen:He};function de({icon:r,placeholder:a,name:l,onChange:o,value:t,required:g}){return e.jsx("div",{className:b.date_input_container,children:e.jsxs("div",{className:b.date_input_flex,children:[e.jsx("div",{className:b.date_input_img_container,children:e.jsx("img",{className:b.date_input_container_icon,src:r,alt:"avatar"})}),e.jsx("input",{className:b.date_input_container_input,name:l,placeholder:a,type:"text",maxLength:"30",minLength:"6",value:t,onChange:o,required:g})]})})}function J({icon:r,placeholder:a,name:l,onChange:o,value:t,required:g}){const[c,p]=u.useState(!1);return e.jsx("div",{className:`${b.date_input_container} ${b.input_position}`,children:e.jsxs("div",{className:b.date_input_flex,children:[e.jsx("div",{className:b.date_input_img_container,children:e.jsx("img",{className:b.date_input_container_icon,src:r,alt:""})}),e.jsx("input",{className:b.date_input_container_input,type:c?"text":"password",name:l,maxLength:"16",minLength:"8",placeholder:a,value:t,onChange:o,required:g}),!c&&e.jsx("img",{alt:"not found",className:b.eye,src:"/images/eye-icon.svg",onClick:()=>p(d=>!d)}),c&&e.jsx("img",{alt:"not found",className:b.eyeOpen,src:"/images/eye-open.svg",onClick:()=>p(d=>!d)})]})})}function K({icon:r,placeholder:a,name:l,maxlength:o,value:t,onChange:g}){return e.jsx("div",{className:b.date_input_container,children:e.jsxs("div",{className:b.date_input_flex,children:[e.jsx("div",{className:b.date_input_img_container,children:e.jsx("img",{className:b.date_input_container_icon,src:r,alt:"input icon"})}),e.jsx("input",{className:`${b.date_input_container_input} ${b.number_input}`,placeholder:a,name:l,type:"tel",value:t,onChange:g,maxLength:o})]})})}function Me({setStatus:r,setIndex:a,setUserId:l}){const{t:o}=k(),[t,g]=u.useState(""),[c,p]=u.useState(!1),[d]=me(),i=m=>{m.preventDefault(),p(_=>!_),d({username:t}).then(_=>{_.data.user&&(l(_.data.user._id),r("FORGET_VERIFIED_MOBILE")),p(j=>!j)})},f=m=>{g(m.target.value)};return e.jsx("form",{onSubmit:i,children:e.jsxs("div",{className:s.card,children:[e.jsx("h6",{className:s.cardhdark,children:o("enter_username")}),e.jsx("p",{className:`${s.pusername} ${s.ptoc}`,children:o("find_ur_username")}),e.jsx("div",{className:s.input_margin_top,children:e.jsx(de,{icon:"/images/username-icon.svg",placeholder:o("username"),name:"username",onChange:f,value:t,required:!0})}),e.jsx("div",{className:`${s.forgot_pass_container} ${s.forgot_pass_container_margin_top}`,children:e.jsx("p",{className:s.forgot_pass,onClick:()=>{r(""),a(1)},children:o("forgot_username")})}),e.jsx("p",{className:`${s.forgotpusername} ${s.ptoc}`,children:o("incase_forgot_username")}),e.jsx("div",{className:s.btn_container,children:e.jsx(G,{disabled:c,buttonText:o("find_account"),customStyleButton:{minHeight:"2.3rem",marginTop:"4rem",marginBottom:"1rem"},customStyleButtonText:{fontSize:"1rem"}})})]})})}function We({phoneNumber:r,setStatus:a,onMobileVerified:l,onMobileNumberAdd:o,onMobileStatus:t,activeType:g,setExistingAccount:c}){const[p,d]=u.useState(!1),{t:i,i18n:f}=k(),[m]=V(),_=A(),[j,n]=u.useState({msg:"",run:!1});ne();const[v,O]=u.useState(""),N=async y=>{var I,R,$,C;if(y.preventDefault(),d(h=>!h),(v==null?void 0:v.length)===4){const h=await l({otpCode:v,phoneNumber:r});h!=null&&h.msg?(n({msg:h==null?void 0:h.msg,run:h.run}),d(D=>!D)):h!=null&&h.mobileStatus?(m==null?void 0:m.get("go"))==="landing_page"?(R=(I=h==null?void 0:h.data)==null?void 0:I.accounts)!=null&&R.length?(c(($=h==null?void 0:h.data)==null?void 0:$.accounts),a({type:"LANDING_EXITING_ACCOUNT",phoneNumber:r})):(m==null?void 0:m.get("gov"))==="hostel"?_("/q/hostel/joining",{state:{formAs:"STUDENT",openAs:"landing_page",appId:m==null?void 0:m.get("goaid"),hostelId:m==null?void 0:m.get("gohid"),verifyNumber:r}}):_("/q/joining",{state:{formAs:"STUDENT",openAs:"landing_page",appId:m==null?void 0:m.get("goaid"),instituteId:m==null?void 0:m.get("goid"),departmentId:m==null?void 0:m.get("godid"),applicationName:m==null?void 0:m.get("gon"),whichFormShow:"DEPARTMENT",verifyNumber:r}}):(t({type:"mobileStatus",value:h.mobileStatus}),c((C=h==null?void 0:h.data)==null?void 0:C.accounts),a(g)):(n({msg:i("something_wrong_rqst"),run:!0}),d(D=>!D))}else n({msg:i("enter_four_digit_otp"),run:!0}),d(h=>!h)};return e.jsxs(e.Fragment,{children:[e.jsx("form",{onSubmit:N,children:e.jsxs("div",{className:s.card,children:[e.jsx("h6",{className:s.cardhdark,children:i("verification_code")}),(f.language==="en"||f.language==="mt")&&e.jsxs("p",{className:`${s.pusername} ${s.ptoc}`,children:[i("otp_sent_on_mobile_ending")," ",e.jsxs("span",{className:s.spantoc,children:[" ",r==null?void 0:r.substr(6,11)]})]}),f.language==="hn"&&e.jsxs("p",{className:`${s.pusername} ${s.ptoc}`,children:[e.jsxs("span",{className:s.spantoc,children:[" ",r==null?void 0:r.substr(6,11)]}),i("otp_sent_on_mobile_ending")," "]}),e.jsx("div",{className:s.input_margin_top,children:e.jsx(K,{icon:"/images/landing-page/otp.svg",placeholder:i("verification_code"),name:"insOTP",maxlength:"4",value:v,onChange:y=>O(y.target.value)})}),e.jsxs("p",{className:`${s.forgotpusername} ${s.ptoc} ${s.presend}`,children:[i("if_not_rec")," ",e.jsx(je,{setNotificationState:n,onMobileNumberAdd:o,phoneNumber:r})]}),e.jsx("div",{className:s.btn_containerotp,children:e.jsx(G,{disabled:p,buttonText:i("verify"),customStyleButton:{minHeight:"2.3rem",marginTop:"4rem"},customStyleButtonText:{fontSize:"1rem"}})})]})}),e.jsx(z,{msg:j.msg,run:j.run,setRun:()=>n({msg:"",run:!1}),postiton:"bottom",type:j.msg==="Invalid OTP"?"error":"success"})]})}function ee({name:r,username:a,profileimg:l,defaultImg:o,userAccount:t,Access:g,isLandingAccount:c}){const{existingAccountLogin:p,existingLandingAccountLogin:d}=ne();se();const[i]=V(),f=A(),m=()=>{var _,j,n,v,O,N,y,I;c!=null&&c.type?(d({token:t==null?void 0:t.token,_id:(_=t==null?void 0:t.user)==null?void 0:_._id,username:(j=t==null?void 0:t.user)==null?void 0:j.username}),(i==null?void 0:i.get("gov"))==="hostel"?f("/q/hostel/joining",{state:{formAs:"STUDENT",openAs:"landing_page_and_existing",appId:i==null?void 0:i.get("goaid"),hostelId:i==null?void 0:i.get("gohid"),userId:(n=t==null?void 0:t.user)==null?void 0:n._id,username:(v=t==null?void 0:t.user)==null?void 0:v.username}}):f("/q/joining",{state:{formAs:"STUDENT",openAs:"landing_page_and_existing",appId:i==null?void 0:i.get("goaid"),instituteId:i==null?void 0:i.get("goid"),departmentId:i==null?void 0:i.get("godid"),applicationName:i==null?void 0:i.get("gon"),whichFormShow:"DEPARTMENT",userId:(O=t==null?void 0:t.user)==null?void 0:O._id,username:(N=t==null?void 0:t.user)==null?void 0:N.username}})):g||p({token:t==null?void 0:t.token,_id:(y=t==null?void 0:t.user)==null?void 0:y._id,username:(I=t==null?void 0:t.user)==null?void 0:I.username})};return e.jsxs("div",{className:s.item,style:{cursor:"pointer"},onClick:m,children:[e.jsx("img",{className:l?s.profile_img:`${s.profile_img} ${s.profile_imgpadding}`,src:l||o,alt:"Profile Img"}),e.jsxs("div",{className:s.text_container,children:[e.jsx("h6",{className:s.hname,children:r}),e.jsx("p",{className:s.pusername,children:a})]})]})}function re({setStatus:r,existingAccount:a,isLandingAccount:l}){const{t:o}=k(),[t]=V(),g=A(),c=()=>{l!=null&&l.type?(t==null?void 0:t.get("gov"))==="hostel"?g("/q/hostel/joining",{state:{formAs:"STUDENT",openAs:"landing_page",appId:t==null?void 0:t.get("goaid"),hostelId:t==null?void 0:t.get("gohid"),verifyNumber:l==null?void 0:l.phoneNumber}}):g("/q/joining",{state:{formAs:"STUDENT",openAs:"landing_page",appId:t==null?void 0:t.get("goaid"),instituteId:t==null?void 0:t.get("goid"),departmentId:t==null?void 0:t.get("godid"),applicationName:t==null?void 0:t.get("gon"),whichFormShow:"DEPARTMENT",verifyNumber:l==null?void 0:l.phoneNumber}}):r("DESIGNATION_OPTION")};return e.jsxs("div",{className:s.card,children:[e.jsxs("div",{className:s.small_icon,children:[e.jsxs("div",{children:[e.jsx("h6",{className:s.cardhdark,children:o("existing_acc")}),e.jsx("p",{className:`${s.pusername} ${s.ptoc}`,children:o("continue")})]}),e.jsx("img",{src:"/images/add-plus-blue-icon.svg",alt:"back arrow",className:s.back_icon,onClick:c})]}),e.jsx("div",{className:s.accounts_container,children:a==null?void 0:a.map(p=>{var d,i,f,m,_;return e.jsx(ee,{name:(d=p==null?void 0:p.user)==null?void 0:d.userLegalName,defaultImg:`${P}/user_default_img.svg`,username:(i=p==null?void 0:p.user)==null?void 0:i.username,profileimg:(f=p==null?void 0:p.user)!=null&&f.profilePhoto?`${Z}/${(m=p==null?void 0:p.user)==null?void 0:m.profilePhoto}`:"/images/car.jpg",userAccount:p,isLandingAccount:l},(_=p==null?void 0:p.user)==null?void 0:_._id)})})]})}const Qe="_singleOption_y3nle_1",Fe="_new_admission_y3nle_27",Xe={singleOption:Qe,new_admission:Fe};function le({text:r,img:a,setJoin:l,option:o,setIndex:t,clickOtopn:g}){return e.jsxs("div",{className:Xe.singleOption,onClick:g,children:[e.jsx("img",{src:a,alt:""}),e.jsx("h6",{children:r})]})}function Ye({setStatus:r}){const{t:a}=k();return e.jsxs("div",{className:s.card,children:[e.jsx("h6",{className:s.cardhdark,children:a("existing_student_and_join")}),e.jsx("p",{className:s.staffsp,children:a("if_u_studentstaff")}),e.jsxs("div",{className:s.desig_buttons,children:[e.jsx(le,{clickOtopn:()=>r("STAFF_DESIGNATION"),text:a("as_staff_student"),option:"Staff",img:`${P}/members/staff.svg`}),e.jsx(le,{clickOtopn:()=>r("STUDENT_DESIGNATION"),text:a("student_"),img:`${P}/members/student.svg`,option:"Student"})]}),e.jsx("p",{className:s.joiningh,children:a("join_school_clg_tution")}),e.jsx("p",{className:s.new_admission,children:"For new admission"}),e.jsxs("ol",{className:s.joiningsteps,children:[e.jsx("li",{className:s.step,children:e.jsx("span",{children:a("create_new_account")})}),e.jsx("li",{className:s.step,children:a("search_school")}),e.jsx("li",{className:s.step,children:a("open_profile")}),e.jsx("li",{className:s.step,children:a("select_application")}),e.jsx("li",{className:s.step,children:a("stay_updated")})]}),e.jsx("div",{className:s.btn_containerstaff,children:e.jsx(Y,{disabled:!1,buttonText:a("create_normal_accnt"),customStyleButton:{minHeight:"2.3rem",marginBottom:"1rem"},customStyleButtonText:{fontSize:"1rem"},onAction:()=>r("USER_REGISTER")})})]})}const Ke={position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10},Ze={position:"absolute",left:"0",top:"2.1rem",zIndex:10};function Je({open:r,onClose:a,setFormData:l,formData:o}){const{t}=k();return r?e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:a,style:Ke}),e.jsxs("div",{style:Ze,className:F.options,children:[e.jsx("div",{className:F.option,onClick:()=>{l({...o,gender:"male"}),a()},children:t("male")}),e.jsx("div",{className:F.option,onClick:()=>{l({...o,gender:"female"}),a()},children:t("female")}),e.jsx("div",{className:F.option,onClick:()=>{l({...o,gender:"other"}),a()},children:t("other")})]})]}):null}function es({userData:r,setUserId:a,setStatus:l}){const{t:o}=k(),[t,g]=u.useState(!1),[c,p]=u.useState({userName:"",name:"",gender:""}),[d,i]=u.useState(""),[f,m]=u.useState(),[_,j]=u.useState(!1),[n,v]=u.useState(!1),[O,N]=u.useState(""),[y,I]=u.useState(""),[R,$]=u.useState({msg:"",run:!1}),{registerAccount:C,validInput:h,verifyUsername:D}=ie(),U=S=>{const Q=URL.createObjectURL(S.target.files[0]);i(S.target.files[0]),N(Q),I(Q),v(!0)},L=()=>{i("")};u.useEffect(()=>{c.userName&&oe(c.userName)&&$({msg:o("special_char"),run:!0})},[c.userName]);const E=u.useCallback(ge.debounce(S=>D(S),500),[]),x=S=>{E(S),p({...c,userName:S})},w=S=>{if(ve(S)){let T=S==null?void 0:S.split("/"),q=`${T[2]}-${T[1]}-${T[0]}`;m(q)}else $({msg:"You cannot select upcoming date",run:!0})},W=async S=>{if(S.preventDefault(),g(T=>!T),oe(c==null?void 0:c.name))$({msg:o("special_char"),run:!0}),g(T=>!T);else{const T=await C({id:r.phoneNumber,file:d,userLegalName:c.name,username:c.userName,userGender:c.gender,userDateOfBirth:f});T!=null&&T.msg?($({msg:T==null?void 0:T.msg,run:!0}),g(q=>!q)):(a(T==null?void 0:T._id),l("CREATE_PASSWORD"),g(q=>!q))}};return e.jsx("form",{onSubmit:W,children:e.jsxs("div",{className:`${s.card} ${s.cardposition}`,children:[e.jsx("h6",{className:s.cardhdark,children:o("create_profile")}),e.jsx("p",{className:`${s.pusername} ${s.ptoc}`,children:o("enter_ur_detail")}),d===""&&e.jsxs("div",{className:s.logo_Container,children:[e.jsx("label",{htmlFor:"img",style:{cursor:"pointer"},children:e.jsx("img",{className:s.userLogo,src:`${P}/userLogo-image.svg`,alt:""})}),e.jsx("input",{className:s.upload,id:"img",name:"file",multiple:!0,onChange:U,type:"file",accept:"image/gif, image/jpeg, image/png"})]}),d!==""&&e.jsx("div",{className:s.logo_Container,children:e.jsxs("div",{className:s.userLogoContainer,children:[e.jsx("img",{className:s.userLogo,src:y,alt:"Avatar"}),e.jsx("img",{onClick:L,className:s.cloose,src:`${P}/user_signup/close.svg`,alt:"Avatar"})]})}),e.jsxs("div",{className:s.inputs_container,children:[e.jsx(ae,{label:o("name"),placeholder:o("please_enter_full_name"),value:c.name,handleChange:S=>p({...c,name:S.target.value}),customStyleInput:{width:"100%",padding:"0.6rem",marginBottom:"0.75rem"}}),e.jsx(ae,{label:o("username"),labelsmall:o("example_username"),placeholder:o("create_username"),value:c.userName,handleChange:S=>x(S.target.value),customStyleInput:{width:"100%",padding:"0.6rem"}}),!["valid",""].includes(h==null?void 0:h.username)&&e.jsx("span",{className:s.errorspan,children:o("username_is_already_exits")}),e.jsxs("p",{className:s.specialChar,children:[o("uname_desc")," . ",o("uname_desc2")]}),e.jsx(Ne,{customStyleInput:{width:"100%",height:"2.2rem",padding:"1rem 0.5rem"},datePickerPosition:{top:"-17rem",left:"1rem",borderRadius:"0.375rem",paddingBottom:"0"},dateItemStyle:{padding:"0.25rem"},range:!1,label:o("dob"),dateInput:f,setDateInput:w}),e.jsx("h3",{className:s.input_label,children:o("gender")}),e.jsxs("div",{className:_?`${s.formselectactive} ${s.formselect}`:s.formselect,onClick:()=>j(!_),children:[c.gender==="male"?e.jsx("h6",{className:s.genderh,onClick:()=>j(!0),children:o("male")}):c.gender==="female"?e.jsx("h6",{className:s.genderh,onClick:()=>j(!0),children:o("female")}):c.gender==="other"?e.jsx("h6",{className:s.genderh,onClick:()=>j(!0),children:o("other")}):e.jsx("h6",{className:`${s.genderplaceholder} ${s.genderh}`,onClick:()=>j(!0),children:o("gender_details")}),_?e.jsx("img",{className:`${s.updownIcon} ${s.downIcon}`,src:`${P}/up-triangle-icon.svg`,alt:""}):e.jsx("img",{className:s.upIcon,src:`${P}/downn-icon.svg`,alt:""}),e.jsx(Je,{open:_,onClose:()=>j(!1),setFormData:p,formData:c})]})]}),e.jsx("div",{className:s.btn_container,children:c.userName!==""&&c.name!==""&&f!==""&&c.gender!==""&&d!==""&&["valid",""].includes(h==null?void 0:h.username)?e.jsx(G,{buttonText:o("continue_proceed"),type:"submit",disabled:t,shwoLoader:!0,customStyleButton:{minHeight:"2.3rem",marginTop:"1rem",marginBottom:"1rem"},customStyleButtonText:{fontSize:"1rem"}}):e.jsx(Y,{buttonText:o("continue_proceed"),disabled:!0,shwoLoader:!1,customStyleButton:{minHeight:"2.3rem",marginTop:"1rem",marginBottom:"1rem",background:"#dfdbdb"},customStyleButtonText:{fontSize:"1rem",color:"rgba(18, 18, 18, 0.6)"}})}),n&&e.jsx(pe,{open:n,children:e.jsx(_e,{setPhotoURL:I,photoURL:y,setFile:i,setOpenCrop:v,setProfilePhoto:N,first:1,second:1})}),R.run&&e.jsx(z,{msg:R.msg,run:R.run,setRun:()=>$({msg:"",run:!1}),postiton:"bottom",type:"error"})]})})}function ss({id:r}){const{t:a}=k(),[l,o]=u.useState(!1),[t,g]=u.useState({insPassword:"",insRePassword:""}),[c,p]=u.useState({msg:"",run:!1}),{createPassword:d}=ie(),i=async f=>{var m;if(f.preventDefault(),o(_=>!_),t.insPassword&&t.insRePassword&&r)if(((m=t.insPassword)==null?void 0:m.length)>=8)if(t.insPassword===t.insRePassword){const _=await d({id:r,insPassword:t.insPassword,insRePassword:t.insRePassword});_!=null&&_.msg&&(p({msg:_==null?void 0:_.msg,run:!0}),o(j=>!j))}else p({msg:a("please_match_pass"),run:!0}),o(_=>!_);else p({msg:"Please enter atleast 8 characters password",run:!0}),o(_=>!_);else p({msg:a("please_enter_pass"),run:!0}),o(_=>!_)};return e.jsxs("form",{onSubmit:i,children:[e.jsxs("div",{className:s.card,children:[e.jsx("h6",{className:s.cardhdark,children:a("create_pass")}),e.jsx("p",{className:`${s.pusername} ${s.ptoc}`,children:a("pass_length")}),e.jsx("div",{className:s.change_pass_input,children:e.jsx(J,{icon:"/images/password-icon.svg",placeholder:a("create_pass"),name:"insPassword",value:t.insPassword,onChange:f=>g({...t,insPassword:f.target.value}),required:!1})}),e.jsx("div",{className:s.re_pass_input,children:e.jsx(J,{icon:"/images/password-icon.svg",placeholder:a("re_enter_pass"),name:"insRePassword",value:t.insRePassword,onChange:f=>{g({...t,insRePassword:f.target.value})},required:!1})}),e.jsx("div",{className:s.re_enter_btn_container,children:e.jsx(G,{disabled:l,buttonText:a("submit"),customStyleButton:{minHeight:"2.3rem",marginTop:"4rem"},customStyleButtonText:{fontSize:"1rem"}})})]}),c.run&&e.jsx(z,{msg:c.msg,run:c.run,setRun:()=>p({msg:"",run:!1}),postiton:"bottom",type:"error"})]})}function ce({status:r,mobileNumber:a}){var y,I,R,$,C,h,D,U,L,E;const{t:l}=k(),[o,t]=u.useState(!1),[g,c]=u.useState(!1),[p,d]=u.useState(!0),[i,f]=u.useState(""),[m,_]=u.useState({msg:"",run:!1}),j=A(),{searchCodeForJoin:n,searchCodeForJoinRefetch:v}=ue({data:{code:i,joinAs:r==="student"?"Student":"Staff"},skip:p});u.useEffect(()=>{var x,w;n!=null&&n.seen?(x=n==null?void 0:n.classes)!=null&&x.classCode||(w=n==null?void 0:n.one_ins)!=null&&w.staffJoinCode?t(!1):(t(!1),_({msg:l("code_not_valid"),run:!!i})):(t(!1),_({msg:l("code_not_valid"),run:!!i}))},[(y=n==null?void 0:n.classes)==null?void 0:y.classCode,n==null?void 0:n.one_ins,n==null?void 0:n.seen,p]),u.useEffect(()=>{(i==null?void 0:i.length)===6&&(t(!0),d(x=>!x),v())},[i]);const O=x=>{f(x.target.value)},N=()=>{var x,w,W;c(S=>!S),(x=n==null?void 0:n.classes)!=null&&x.classCode?(t(!1),j("/q/joining",{state:{joinCode:i,formAs:"STUDENT",verifyNumber:a,openAs:"DIRECT"}})):(w=n==null?void 0:n.one_ins)!=null&&w.staffJoinCode&&(t(!1),j("/q/joining",{state:{joinCode:i,formAs:"STAFF",verifyNumber:a,openAs:"DIRECT",instituteId:(W=n==null?void 0:n.one_ins)==null?void 0:W._id}}))};return e.jsxs(e.Fragment,{children:[r==="student"&&e.jsxs("div",{className:s.card,children:[e.jsx("h6",{className:s.cardhdark,children:l("existing_student")}),e.jsx("p",{className:`${s.pusername} ${s.ptoc}`,children:l("enter_code_by_ins")}),e.jsxs("div",{className:s.change_pass_input,children:[e.jsx("h3",{className:s.input_label,children:"Class Code"}),e.jsx(K,{icon:"/images/landing-page/class_code.svg",placeholder:l("enter_six_digit_code"),name:"classCode",maxlength:"6",onChange:O,value:i}),e.jsx("p",{className:s.ptoc,children:l("after_enter_code")})]}),(n==null?void 0:n.one_ins)&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:`${s.pusername} ${s.ptoc}`,children:l("vode_belong")}),e.jsx("div",{className:s.accounts_container,onClick:N,children:e.jsx(ee,{name:((I=n==null?void 0:n.one_ins)==null?void 0:I.insName)||"",username:`${(R=n==null?void 0:n.classes)==null?void 0:R.className} - ${($=n==null?void 0:n.classes)==null?void 0:$.classTitle}`||"",profileimg:(C=n==null?void 0:n.one_ins)!=null&&C.insProfilePhoto?`${Z}/${(h=n==null?void 0:n.one_ins)==null?void 0:h.insProfilePhoto}`:"/images/car.jpg",defaultImg:"/images/profileAndCover/classroom-cover.svg",Access:!0})})]}),e.jsx("div",{className:s.btn_containerstaff,children:e.jsx(Y,{disabled:g,buttonText:l("next"),customStyleButton:{minHeight:"3vw",marginTop:"0rem"},onAction:N})})]}),r==="staff"&&e.jsxs("div",{className:s.card,children:[e.jsx("h6",{className:s.cardhdark,children:l("existing_staff")}),e.jsx("p",{className:`${s.pusername} ${s.ptoc}`,children:l("enter_code_by_ins")}),e.jsxs("div",{className:s.change_pass_input,children:[e.jsx("h3",{className:s.input_label,children:l("institute_code")}),e.jsx(K,{icon:"/images/landing-page/class_code.svg",placeholder:l("enter_six_digit_ins_code"),name:"staffCode",maxlength:"6",onChange:O,value:i}),e.jsx("p",{className:s.ptoc,children:l("after_enter_code")})]}),(n==null?void 0:n.one_ins)&&e.jsxs(e.Fragment,{children:[e.jsx("p",{children:l("vode_belong")}),e.jsx("div",{className:s.accounts_container,onClick:N,children:e.jsx(ee,{name:((D=n==null?void 0:n.one_ins)==null?void 0:D.insName)||"",username:((U=n==null?void 0:n.one_ins)==null?void 0:U.name)||"",profileimg:(L=n==null?void 0:n.one_ins)!=null&&L.insProfilePhoto?`${Z}/${(E=n==null?void 0:n.one_ins)==null?void 0:E.insProfilePhoto}`:"/images/car.jpg",defaultImg:"/images/profileAndCover/ins_default_profile.svg",Access:!0})})]}),e.jsx("div",{className:s.btn_containerstaff,children:e.jsx(Y,{disabled:g,buttonText:l("next"),customStyleButton:{minHeight:"2.3rem",marginTop:"0"},customStyleButtonText:{fontSize:"1rem"},onAction:N})})]}),o&&e.jsx(he,{}),e.jsx(z,{msg:m.msg,run:m.run,setRun:()=>_({msg:"",run:!1}),postiton:"bottom",type:"error"})]})}function ts({index:r,setIndex:a,setStatus:l,ins:o,switchUser:t,onMobileNumberAdd:g,setPhoneNumber:c,handleSignup:p}){var L;const{t:d}=k(),{authenticateLogin:i}=ne(),f=se(),[m]=V(),_=te(),j=A(),[n,v]=u.useState({msg:"",run:!1}),[O,N]=u.useState(!1),[y,I]=u.useState({insUserName:"",insPassword:""});u.useEffect(()=>{var E;(E=f.state)!=null&&E.openAs&&a(2),(m==null?void 0:m.get("go"))==="landing_page"&&a(1)},[(L=f.state)==null?void 0:L.openAs,m]);const R=E=>{I(x=>({...x,[E.target.name]:E.target.value}))},$=async E=>{E.preventDefault(),N(w=>!w);const x=await i(y);x!=null&&x.msg&&(v({msg:x.msg,run:x.notify}),N(w=>!w))},[C,h]=u.useState(""),D=async E=>{if(E.preventDefault(),N(x=>!x),C){const x=await g({insPhoneNumber:`${C}`,status:"Not Verified"});x!=null&&x.phoneNumber?(c({type:"phoneNumber",value:x==null?void 0:x.phoneNumber}),l("VERIFIED_MOBILE"),N(w=>!w)):(v({msg:d("something_wrong"),run:!0}),N(w=>!w))}else v({msg:"Please enter your number or email",run:!0}),N(x=>!x)},U=()=>{r===0?(_(X.onForgetPassword({forgetAs:"INSTITUTE"})),j("/login")):l("FORGET_PASSWORD")};return e.jsxs("div",{className:s.card,children:[e.jsx("h6",{className:s.cardhdark,children:d("hello_")}),e.jsx("h6",{className:s.cardhlight,children:d("welcome_to_qviple_")}),e.jsxs("div",{className:s.tabsss,children:[e.jsx("div",{className:(r===1||r===2)&&!o?`${s.singletab} ${s.singletabActive}`:s.singletab,onClick:()=>{a(1),t(!1)},children:d("users_")}),e.jsx("div",{className:r===0&&o?`${s.singletab} ${s.singletabActive}`:s.singletab,onClick:()=>{a(0),t(!0)},children:d("ins")})]}),(r===0||r===2)&&e.jsx("form",{onSubmit:$,children:e.jsxs("div",{className:s.index_contrainer,children:[e.jsx("h3",{className:s.input_label,children:d("enter_username_pass")}),e.jsx(de,{icon:"/images/username-icon.svg",placeholder:d("username"),name:"insUserName",onChange:R,value:y.insUserName,required:!0}),e.jsx(J,{icon:"/images/password-icon.svg",placeholder:d("password"),name:"insPassword",onChange:R,value:y.insPassword,required:!0}),e.jsx("div",{className:s.forgot_pass_container,children:e.jsx("p",{className:s.forgot_pass,onClick:U,children:d("forgot_password")})}),e.jsx("div",{className:s.btn_container,children:e.jsx(G,{type:"submit",disabled:O,buttonText:d("login"),customStyleButton:{minHeight:"2.3rem",backgroundColor:"#575caa"},customStyleButtonText:{fontSize:"1rem"}})}),r===0&&e.jsx("div",{className:s.register_link_container,children:e.jsxs("p",{className:s.forgot_pass,onClick:p,children:[d("new_to_qviple")," ",d("signup")]})}),r===2&&e.jsx("div",{className:s.register_link_container,children:e.jsx("p",{className:s.forgot_pass,onClick:()=>a(1),children:d("continue_mbl_no")})})]})}),r===1&&e.jsx("form",{onSubmit:D,children:e.jsxs("div",{className:s.index_contrainer,children:[e.jsx("h3",{className:s.input_label,children:"Mobile Number / Email"}),e.jsx(K,{icon:"/images/landing-page/flag.svg",placeholder:d("mobile_bumber_and_email"),name:"mobileNumber",value:C,onChange:E=>h(E.target.value)}),e.jsxs("p",{className:s.ptoc,children:[d("term_condition")," ",e.jsx("span",{className:s.spantoc,children:e.jsx("a",{href:"/q/terms/condition",children:d("Tirms_conditions")})})," ",d("andd"),e.jsxs("span",{className:s.spantoc,children:[" ",e.jsx("a",{href:"/q/privacy/policy",children:d("privacy_policy")})]})]}),e.jsx("div",{className:s.btn_containerstaff,children:e.jsx(G,{type:"submit",disabled:O,buttonText:d("send_otp"),customStyleButton:{minHeight:"2.3rem",backgroundColor:"#575caa"},customStyleButtonText:{fontSize:"1rem"}})}),e.jsx("div",{className:s.register_link_container,children:e.jsx("p",{className:s.forgot_pass,onClick:()=>a(2),children:d("login_with_user_name")})})]})}),e.jsx(z,{msg:n.msg,run:n.run,setRun:()=>v({msg:"",run:!1}),postiton:"bottom",type:"error"})]})}const ns=H.lazy(()=>M(()=>import("./VerifyForgetOtp-f3682480.js"),["assets/VerifyForgetOtp-f3682480.js","assets/index-0ca76035.js","assets/index-4d24e8f6.css","assets/ResendTimer-690f6a77.js","assets/ResendTimer-0b34a5a2.css","assets/ButtonWithTypeSubmit-5c11ae9c.js","assets/LoaderButton-56f541f9.js","assets/LoaderButton-43b48c5c.css","assets/use-login-cbfdffab.js","assets/verifyUserNameSpaces-1eb95efa.js","assets/ButtonWithAction-aaeab9a0.js","assets/InputDateField-5babd99a.js","assets/DatePicker-c6d0e911.js","assets/DatePicker-9ecb4579.css","assets/InputDateField-7b9a49d5.css","assets/SelectOptions.module-81ece918.js","assets/SelectOptions-3cc49e6f.css","assets/use-user-signup-533cdb2a.js","assets/timeComparison-f15c3247.js","assets/CustomSuspense-25f8db15.js"])),is=H.lazy(()=>M(()=>import("./ChangePassword-368f061b.js"),["assets/ChangePassword-368f061b.js","assets/index-0ca76035.js","assets/index-4d24e8f6.css","assets/ResendTimer-690f6a77.js","assets/ResendTimer-0b34a5a2.css","assets/ButtonWithTypeSubmit-5c11ae9c.js","assets/LoaderButton-56f541f9.js","assets/LoaderButton-43b48c5c.css","assets/use-login-cbfdffab.js","assets/verifyUserNameSpaces-1eb95efa.js","assets/ButtonWithAction-aaeab9a0.js","assets/InputDateField-5babd99a.js","assets/DatePicker-c6d0e911.js","assets/DatePicker-9ecb4579.css","assets/InputDateField-7b9a49d5.css","assets/SelectOptions.module-81ece918.js","assets/SelectOptions-3cc49e6f.css","assets/use-user-signup-533cdb2a.js","assets/timeComparison-f15c3247.js","assets/CustomSuspense-25f8db15.js"]));function as({ins:r,switchUser:a,external:l}){const[o,t]=u.useState(1),[g,c]=u.useState(""),[p,d]=u.useState(""),i=te();let f=A();const[m,_]=u.useState({phoneNumber:"",mobileStatus:""}),[j,n]=u.useState(""),{mobileRegister:v,numberVerification:O}=ie(),N=I=>{_(R=>({...R,[I.type]:I.value}))},y=()=>{r?(i(X.signupChange({status:!1})),f("/signup")):(i(X.signupChange({status:!0})),f("/signup"))};return e.jsx(e.Fragment,{children:l&&e.jsxs("div",{className:ke.modalContainerr,children:[g===""&&e.jsx(ts,{index:o,setIndex:t,setStatus:c,status:g,ins:r,switchUser:a,handleSignup:y,onMobileNumberAdd:v,setPhoneNumber:N}),e.jsxs(Se,{children:[g==="FORGET_PASSWORD"&&e.jsx(Me,{setStatus:c,setIndex:t,setUserId:d}),g==="FORGET_VERIFIED_MOBILE"&&e.jsx(ns,{setStatus:c,setUserId:d,userId:p}),g==="VERIFIED_MOBILE"&&e.jsx(We,{setStatus:c,phoneNumber:m.phoneNumber,onMobileVerified:O,onMobileNumberAdd:v,onMobileStatus:N,activeType:"EXISTING_ACCOUNT",setExistingAccount:n}),g==="CHANGE_PASSWORD"&&e.jsx(is,{userId:p,setIndex:t,setStatus:c}),g==="EXISTING_ACCOUNT"&&e.jsx(re,{setStatus:c,existingAccount:j}),(g==null?void 0:g.type)==="LANDING_EXITING_ACCOUNT"&&e.jsx(re,{isLandingAccount:g,setStatus:c,existingAccount:j}),g==="DESIGNATION_OPTION"&&e.jsx(Ye,{setStatus:c}),g==="USER_REGISTER"&&e.jsx(es,{setStatus:c,userData:m,setUserId:d}),g==="CREATE_PASSWORD"&&e.jsx(ss,{id:p}),g==="STAFF_DESIGNATION"&&e.jsx(ce,{status:"staff",mobileNumber:m.phoneNumber}),g==="STUDENT_DESIGNATION"&&e.jsx(ce,{status:"student",mobileNumber:m.phoneNumber})]})]})})}const os=H.lazy(()=>M(()=>import("./ForgetPassword-ca9fb792.js"),["assets/ForgetPassword-ca9fb792.js","assets/index-0ca76035.js","assets/index-4d24e8f6.css","assets/Container.module-c3c43a80.js","assets/Container-ae622ab4.css","assets/ButtonWithAction-aaeab9a0.js","assets/LoaderButton-56f541f9.js","assets/LoaderButton-43b48c5c.css","assets/Container-350f73ba.css"])),rs=H.lazy(()=>M(()=>import("./OtpForm-3080369e.js"),["assets/OtpForm-3080369e.js","assets/index-0ca76035.js","assets/index-4d24e8f6.css","assets/ButtonWithAction-aaeab9a0.js","assets/LoaderButton-56f541f9.js","assets/LoaderButton-43b48c5c.css","assets/Container.module-c3c43a80.js","assets/Container-ae622ab4.css","assets/ResendTimer-690f6a77.js","assets/ResendTimer-0b34a5a2.css","assets/ButtonWithTypeSubmit-5c11ae9c.js","assets/use-login-cbfdffab.js","assets/verifyUserNameSpaces-1eb95efa.js","assets/InputDateField-5babd99a.js","assets/DatePicker-c6d0e911.js","assets/DatePicker-9ecb4579.css","assets/InputDateField-7b9a49d5.css","assets/SelectOptions.module-81ece918.js","assets/SelectOptions-3cc49e6f.css","assets/use-user-signup-533cdb2a.js","assets/timeComparison-f15c3247.js","assets/CustomSuspense-25f8db15.js","assets/Container-350f73ba.css"])),ls=H.lazy(()=>M(()=>import("./SetNewPass-fbb978c4.js"),["assets/SetNewPass-fbb978c4.js","assets/index-0ca76035.js","assets/index-4d24e8f6.css","assets/Container.module-c3c43a80.js","assets/Container-ae622ab4.css","assets/ButtonWithAction-aaeab9a0.js","assets/LoaderButton-56f541f9.js","assets/LoaderButton-43b48c5c.css","assets/Container-350f73ba.css"])),cs=()=>{const[r,a]=u.useState(!1),l=te(),o=se(),[t]=V(),g=fe(_=>_.authChange.forgetAs),{autoLogin:c}=xe();u.useEffect(()=>{c()},[]);const[p,d]=u.useState(g==="INSTITUTE"?"FORGET_PASSWORD":"LOGIN"),[i,f]=u.useState("");u.useEffect(()=>{g==="INSTITUTE"&&d("FORGET_PASSWORD")},[g]);const m=()=>{l(X.signupChange({status:!1}))};return u.useEffect(()=>{(t==null?void 0:t.get("go"))==="landing_page"&&a(!1)},[t]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:B.registerAppContainer,children:[e.jsx("div",{className:` ${B.secondLeftStripe}`}),e.jsxs("div",{className:B.registerBGContainer,children:[e.jsx("div",{className:B.firstRightStripe}),e.jsxs("div",{className:B.registerBG,children:[e.jsxs("div",{className:B.registergbLeft,children:[e.jsx("h4",{children:e.jsx("a",{href:"https://dashboard.qviple.com/",target:"_blank",rel:"noopener noreferrer",children:"Qviple"})}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("h6",{children:e.jsx("a",{href:"https://dashboard.qviple.com/",target:"_blank",rel:"noopener noreferrer",children:"Easy-to-Use Tools"})}),e.jsx("p",{children:"User-friendly interface, even beginners can easily navigate and manage tasks from any device, be it a phone, laptop, or desktop. Plus, enjoy the freedom of accessing Qviple anytime, anywhere, with minimal data usage."})]}),e.jsxs("li",{children:[e.jsx("h6",{children:e.jsx("a",{href:"https://dashboard.qviple.com/",target:"_blank",rel:"noopener noreferrer",children:"Trustworthy and Secure"})}),e.jsx("p",{children:"Choose Qviple for a trustworthy, secure, and confidential school management experience. Partner with us and unlock the full potential of your school's data while maintaining the highest level of security."})]}),e.jsxs("li",{children:[e.jsx("h6",{children:e.jsx("a",{href:"https://dashboard.qviple.com/",target:"_blank",rel:"noopener noreferrer",children:"Cost-Effective Scalable Pricing Options"})}),e.jsx("p",{children:"Qviple offers flexible and scalable pricing options to accommodate Institute of all sizes."})]})]})]}),e.jsx("div",{className:B.registergbRight,children:o.search===""&&p!=="LOGIN"?e.jsxs(e.Fragment,{children:[p==="FORGET_PASSWORD"&&e.jsx(os,{onSignupLink:m,setActive:d,setUserId:f}),p==="OTP"&&e.jsx(rs,{userId:i,setUserId:f,setActive:d,onSignupLink:m}),p==="NEW_PASSWORD"&&e.jsx(ls,{userId:i,setActive:d})]}):e.jsx(as,{external:!0,ins:r,switchUser:a})})]})]})]})})},vs=Object.freeze(Object.defineProperty({__proto__:null,default:cs},Symbol.toStringTag,{value:"Module"}));export{vs as L,K as N,J as P};
