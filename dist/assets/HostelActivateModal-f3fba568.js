import{u as E,r as f,k as O,c as F,j as c,D as R,e as y,Q}from"./index-0ca76035.js";import{s as t}from"./FinanceModal.module-0f0ee470.js";import q from"./AssignStaffModal-e51a4441.js";import{ar as w,u as I}from"./hostel-api-9294ced1.js";import{D as T}from"./Divider-2f807990.js";import"./search-api-b192a53f.js";import"./AssignStaffModal.module-a60b32e1.js";const W=({hostelModal:_,hideModal:l,edit:v,hostelManagerName:i,onParentRefetch:A})=>{const{t:o}=E(),[r,j]=f.useState(!1),[u,x]=f.useState(!1),[s,P]=f.useState(""),n=O(d=>d.idChange),[b]=w(),[C]=I(),L=F(),k=()=>{x(!0),b({id:n.id,fActivate:{sid:s==null?void 0:s._id}}).then(d=>{var p;x(!1),d.data.status&&L(`/q/${(p=n.loginProfile)==null?void 0:p.username}/hostel`,{state:{hid:d.data.hostel}})}).catch({})},D=()=>{s!=null&&s._id&&(i!=null&&i._id)?(x(!0),C({osid:i==null?void 0:i._id,nsid:s==null?void 0:s._id}).then(()=>{A(),x(!1),l()}).catch({})):l()},$=d=>{P(d)};return c.jsxs(c.Fragment,{children:[!u&&c.jsx(R,{open:_,onClose:()=>l(!1),children:c.jsxs("div",{className:t.financeModal,children:[c.jsxs("div",{className:t.financeModalhead,children:[c.jsx("h6",{children:o(v?"edit_hostel_dept":"active_hostel")}),c.jsx("img",{onClick:()=>l(!1),src:"/images/close-post-icon.svg",alt:""})]}),c.jsx(T,{}),c.jsxs("div",{className:t.financeModalbody,children:[!s&&!v&&c.jsxs("div",{className:t.assignDesignation,onClick:()=>j(!0),children:[c.jsx("img",{className:t.assignManager,src:"/images/sports/avatar-circle.svg",alt:""}),c.jsxs("div",{children:[c.jsx("h6",{children:o("assign_hostel_head")}),c.jsx("p",{children:o("search_from_joined_list")})]})]}),(s||i)&&c.jsxs("div",{className:t.sidebarbottomitem,onClick:()=>j(!0),children:[c.jsx("img",{alt:"not found",src:s!=null&&s.staffProfilePhoto||i!=null&&i.staffProfilePhoto?`${y}/${s.staffProfilePhoto??(i==null?void 0:i.staffProfilePhoto)}`:"/images/finance/assign-manager.svg"}),c.jsxs("div",{children:[c.jsx("p",{className:t.namee,children:`${(s==null?void 0:s.staffFirstName)??(i==null?void 0:i.staffFirstName)??""} 
                    ${(s==null?void 0:s.staffMiddleName)??(i==null?void 0:i.staffMiddleName)??""}
                    ${(s==null?void 0:s.staffLastName)??(i==null?void 0:i.staffLastName)??""} `}),c.jsxs("p",{className:t.desig,children:["No."," ",(s==null?void 0:s.staffROLLNO)??(i==null?void 0:i.staffROLLNO)??""]})]})]})]}),c.jsxs("div",{className:t.financeModalfooter,children:[!v&&c.jsx("div",{className:t.activebtn,onClick:k,children:o("activate")}),v&&(s==null?void 0:s._id)&&c.jsx("div",{className:t.activebtn,onClick:D,children:o("update")})]})]})}),r&&c.jsx(q,{assignHead:r,headSelect:$,title:o("secect_hostel_head"),onClose:()=>j(d=>!d),disabledId:i==null?void 0:i._id}),u&&c.jsx(Q,{})]})};export{W as default};
