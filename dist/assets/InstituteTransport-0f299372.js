import{R as Z,_ as D,u as j,n as ee,j as i,G as se,o as ie,e as te,p,b as P,d as ne,k as ae,r as de,s as oe}from"./index-731451a5.js";import{s as f}from"./InsFinance.module-24741212.js";import{s as a,C as h}from"./CommonLinkTab-7c8e0314.js";import{s as d}from"./Hostel.module-50da11fe.js";import{d as ce}from"./transport-api-9ab21e71.js";import{C as re}from"./CustomSuspense-e90dc607.js";import{I as o,T as me,a as le,V as _e,b as pe,P as ue,c as ge,d as xe,e as fe,f as he,g as je}from"./TransportPendingFees-e5010396.js";import"./HostelSiteInfo.module-332fbdef.js";import"./JoinFormTextArea-7f6dded0.js";import"./JoinForm.module-212f9bb3.js";import"./BorderBottom-47800983.js";import"./JoinFormInput-8e74a0e0.js";import"./JoinFormFileEdit-e41481d6.js";import"./ViewFileDialog-0c131c06.js";import"./Overlay-07ce6f88.js";import"./Overlay.module-9133d1bb.js";import"./SearchModalBackdrop-5b309d60.js";import"./SearchHeader.module-b69c8942.js";import"./Funds.module-7551169c.js";import"./FeesCategoryList-8131ad8c.js";import"./finance-api-5c6c5671.js";import"./UniversalTab-d4f2174c.js";import"./FeesStructure.module-7a88fbbc.js";import"./PopupWrapper-ffbaef7a.js";import"./SearchModalWrapper-6e85c9f3.js";import"./StringLength-222a9fd1.js";import"./StringLength.module-75a6e080.js";import"./ButtonWithAction-805b1066.js";import"./LoaderButton-71df50a7.js";import"./EditConfirm.module-344fbdb9.js";import"./ApplicationPreviewDetail-fd29a331.js";import"./JoinFormInputView-879755fe.js";import"./CustomNormalSelectInput-9ec7329b.js";import"./DatePicker-305f3dc6.js";import"./SeatingArrangement.module-3f4ae6aa.js";import"./CustomSelectDepartment-a5dd9a35.js";import"./hostel-api-4d11cb04.js";import"./JoinFormCalender-5158d888.js";import"./HostelFeeStructure.module-5a40a31e.js";import"./AssignStaffModal-61be8e90.js";import"./search-api-15f7f9f9.js";import"./AssignStaffModal.module-a60b32e1.js";import"./SearchUniversalUser-4ed43b07.js";import"./AdmissionApplicationRequest.module-43e4e129.js";import"./PaymentModeType-cf3d04e2.js";import"./pdf-convertor-function-e794de58.js";import"./main.receipt.pdf.worker-5753b302.js";import"./numberToWords.min-dbca819b.js";import"./institute-staff-student-api-7f4890fe.js";import"./AdmissionScholarship.module-d4281c11.js";const ve=Z.lazy(()=>D(()=>import("./TransportActivateModal-8b9d42e3.js"),["assets/TransportActivateModal-8b9d42e3.js","assets/index-731451a5.js","assets/index-4d24e8f6.css","assets/FinanceModal.module-0f0ee470.js","assets/FinanceModal-75f00b2e.css","assets/AssignStaffModal-61be8e90.js","assets/search-api-15f7f9f9.js","assets/AssignStaffModal.module-a60b32e1.js","assets/AssignStaffModal-60e26c07.css","assets/transport-api-9ab21e71.js","assets/Divider-6278282f.js"])),be=({transport:s,onRefetch:n})=>{var m,l,_;const{t}=j(),[e,c]=Z.useState(!1),u=ee(),r=()=>{c(g=>!g)};return i.jsxs("div",{style:{position:"sticky",top:"77px",height:"fit-content",width:"30%"},children:[i.jsx(se,{whichType:"PREVIOUS_GO"}),i.jsx(ie,{dynamicImage:s!=null&&s.transport_photo?`${te}/${s==null?void 0:s.transport_photo}`:"/images/profileAndCover/transport-cover.svg",edit:!0,onEditAction:r,redirectUrl:`/q/${u.username}/transport?a=site`,isSiteInfo:"TRANSPORT",carryParentState:{tid:s==null?void 0:s._id}}),i.jsx(p,{cardAsHead:!0,heading:` ${((m=s==null?void 0:s.transport_manager)==null?void 0:m.staffFirstName)??""} ${((l=s==null?void 0:s.transport_manager)==null?void 0:l.staffMiddleName)??""} ${((_=s==null?void 0:s.transport_manager)==null?void 0:_.staffLastName)??""}`,description:t("transport_manager"),customStyleCard:{borderRadius:"18px 18px 0px 0px",border:"none",marginTop:"-1.49vw"}}),i.jsx(p,{cardAsHead:!1,heading:t("total_vehicle"),description:t("total_vehicle_label"),count:(s==null?void 0:s.vehicle_count)??0}),i.jsx(p,{cardAsHead:!1,heading:t("total_transport_staff"),description:t("total_transport_staff_label"),count:(s==null?void 0:s.transport_staff_count)??0}),i.jsx(p,{cardAsHead:!1,heading:t("total_passenger"),description:t("total_passenger_label"),count:(s==null?void 0:s.passenger_count)??0}),i.jsx(p,{cardAsHead:!1,heading:t("total_pending_fees"),description:t("total_pending_fees_label"),count:`${t("rs")} ${(s==null?void 0:s.remaining_fee)??0}`,customStyleCard:{borderRadius:"0 0 12px 12px",borderBottom:"0.4px solid rgba(0, 0, 0, 0.15)"}}),i.jsx(re,{children:i.jsx(ve,{transportModal:e,hideModal:r,edit:!0,transportManagerName:s==null?void 0:s.transport_manager,onParentRefetch:n})})]})},Ie=({carryParentState:s,transport:n})=>{const{t}=j(),[e]=P();return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:a.finance_tab_tabs,children:[i.jsx(h,{tabLevel:t("menu"),customStyleContainer:{width:"33.3%",marginRight:"2px",borderTopLeftRadius:"6px"},customStyleLevel:{borderTopLeftRadius:"6px"},tabValue:"menu",currentValue:e!=null&&e.get("a")?"other":"menu",carryParentState:s,activeUrl:"transport"}),i.jsx(h,{tabLevel:t("fees_structure"),customStyleContainer:{width:"33.3%",marginRight:"2px"},customStyleLevel:{borderTopLeftRadius:"6px"},tabValue:"fee",currentValue:(e==null?void 0:e.get("a"))==="fee"?"fee":"other",carryParentState:s,activeUrl:"transport?a=fee"}),i.jsx(h,{tabLevel:t("funds"),customStyleContainer:{width:"33.3%",borderTopRightRadius:"6px"},customStyleLevel:{borderTopLeftRadius:"6px"},tabValue:"fund",currentValue:(e==null?void 0:e.get("a"))==="fund"?"fund":"other",carryParentState:s,activeUrl:"transport?a=fund"})]}),e!=null&&e.get("a")?(e==null?void 0:e.get("a"))==="fund"?i.jsx(me,{transport:n,pageOpenAs:"INSTITUTE"}):null:i.jsxs("div",{className:a.item,children:[i.jsx(o,{carryParentState:s,activeTab:"vehicle",children:i.jsxs("div",{className:a.itemIcon,children:[i.jsx("img",{src:"/images/member_tab/transport/transport-vehicle-icon.svg",alt:"moderator icon"}),i.jsx("p",{children:t("transport_vehicles")})]})}),i.jsx(o,{carryParentState:s,activeTab:"personal",children:i.jsxs("div",{className:a.itemIcon,children:[i.jsx("img",{src:"/images/member_tab/transport/transport-personal-icon.svg",alt:"completed"}),i.jsx("p",{children:t("transportation_personal")})]})}),i.jsx(o,{carryParentState:s,activeTab:"passenger",children:i.jsxs("div",{className:a.itemIcon,children:[i.jsx("img",{src:"/images/member_tab/transport/transport-passenger-icon.svg",alt:"inquery"}),i.jsx("p",{children:t("all_passengers_student")})]})}),i.jsx(o,{carryParentState:s,activeTab:"pending",children:i.jsxs("div",{className:a.itemIcon,children:[i.jsx("img",{src:"/images/member_tab/finance/finance-pending-icon.svg",alt:"refund"}),i.jsx("p",{children:t("pending_fees")})]})}),i.jsx(o,{carryParentState:s,activeTab:"batch",children:i.jsxs("div",{className:a.itemIcon,children:[i.jsx("img",{src:"/images/member_tab/hostel/hostel-batch-icon.svg",alt:"completed"}),i.jsx("p",{children:t("hostel_tab_batch")})]})}),i.jsx(o,{carryParentState:s,activeTab:"export",children:i.jsxs("div",{className:a.itemIcon,children:[i.jsx("img",{src:"/images/member_tab/finance/finance-export-icon.svg",alt:"refund"}),i.jsx("p",{children:t("data_exporting")})]})}),i.jsx(o,{carryParentState:s,activeTab:"moderator",children:i.jsxs("div",{className:a.itemIcon,children:[i.jsx("img",{src:"/images/member_tab/admission/admission-moderator-icon.svg",alt:"moderator icon"}),i.jsx("p",{children:t("transport_moderator")})]})})]})]})},js=()=>{var u,r,m,l,_,g,v,b,I,T,N,A,S,R,L,y,V,C,E,U,O,M,$,w,k,F,B,H,G,q,z,Q,J,K,W,X,Y;j();const[s]=P(),n=ne(),t=ae(x=>x.idChange.id),{transportDetail:e,transportDetailRefetch:c}=ce({tid:(u=n.state)==null?void 0:u.tid,skip:!((r=n.state)!=null&&r.tid)});return de.useEffect(()=>{var x;(x=n.state)!=null&&x.tid&&c()},[(m=n.state)==null?void 0:m.tid,c]),i.jsx(i.Fragment,{children:i.jsxs("div",{className:f.bgContainer,children:[i.jsx("div",{className:f.navbar,children:i.jsx(oe,{status:"home"})}),((l=n.search)==null?void 0:l.substring(3))==="site"?i.jsx(le,{tid:(_=n.state)==null?void 0:_.tid,viewAs:"INSTITUTE"}):i.jsx("div",{className:f.editContainer,children:i.jsxs("div",{className:a.main,children:[i.jsx(be,{transport:e==null?void 0:e.trans_panel,onRefetch:c}),i.jsxs("div",{className:!(s!=null&&s.get("a"))||(s==null?void 0:s.get("a"))==="fund"||(s==null?void 0:s.get("a"))==="fee"?a.finance_container:a.finance_container_other,children:[(!(s!=null&&s.get("a"))||(s==null?void 0:s.get("a"))==="fund"||(s==null?void 0:s.get("a"))==="fee")&&i.jsx(Ie,{carryParentState:n.state,transport:e==null?void 0:e.trans_panel}),s.get("a")==="vehicle"&&i.jsx("div",{className:d.hostel_container,children:i.jsx(_e,{tid:(g=e==null?void 0:e.trans_panel)==null?void 0:g._id,carryParentState:n.state,instituteId:t,pageOpenAs:"INSTITUTE",isRootAccess:t===((b=(v=e==null?void 0:e.trans_panel)==null?void 0:v.institute)==null?void 0:b._id)?"VALID":"INVALID"})}),s.get("a")==="personal"&&i.jsx("div",{className:d.hostel_container,children:i.jsx(pe,{tid:(I=e==null?void 0:e.trans_panel)==null?void 0:I._id,carryParentState:n.state})}),s.get("a")==="passenger"&&i.jsx("div",{className:d.hostel_container,children:i.jsx(ue,{tid:(T=e==null?void 0:e.trans_panel)==null?void 0:T._id,carryParentState:n.state,instituteId:t})}),s.get("a")==="batch"&&i.jsx("div",{className:d.hostel_container,children:i.jsx(ge,{transportId:(N=e==null?void 0:e.trans_panel)==null?void 0:N._id,selectedBacthId:(A=e==null?void 0:e.trans_panel)==null?void 0:A.departmentSelectBatch,onMasterApiRefetch:c,carryParentState:n.state,instituteId:t,pageOpenAs:"INSTITUTE",isRootAccess:t===((R=(S=e==null?void 0:e.trans_panel)==null?void 0:S.institute)==null?void 0:R._id)?"VALID":"INVALID"})}),s.get("a")==="standard"&&i.jsx("div",{className:d.hostel_container,children:i.jsx(xe,{transportId:(L=e==null?void 0:e.trans_panel)==null?void 0:L._id,carryParentState:n.state,pageOpenAs:"INSTITUTE",isRootAccess:t===((V=(y=e==null?void 0:e.trans_panel)==null?void 0:y.institute)==null?void 0:V._id)?"VALID":"INVALID"})}),s.get("a")==="vehicle-detail"&&i.jsx("div",{className:d.hostel_container,children:i.jsx(fe,{transportId:(C=e==null?void 0:e.trans_panel)==null?void 0:C._id,carryParentState:n.state,pageOpenAs:"INSTITUTE",isRootAccess:t===((U=(E=e==null?void 0:e.trans_panel)==null?void 0:E.institute)==null?void 0:U._id)?"VALID":"INVALID",instituteId:t})}),s.get("a")==="pending"&&i.jsx("div",{className:d.hostel_container,children:i.jsx(he,{transportId:(O=e==null?void 0:e.trans_panel)==null?void 0:O._id,instituteId:t})}),(s==null?void 0:s.get("a"))==="fee"&&i.jsx("div",{style:{marginTop:"1rem"},children:i.jsx(je,{financeId:(k=(w=($=(M=e==null?void 0:e.trans_panel)==null?void 0:M.institute)==null?void 0:$.financeDepart)==null?void 0:w[0])==null?void 0:k._id,fees_category_count:(G=(H=(B=(F=e==null?void 0:e.trans_panel)==null?void 0:F.institute)==null?void 0:B.financeDepart)==null?void 0:H[0])==null?void 0:G.fees_category_count,fee_master_array_count:(J=(Q=(z=(q=e==null?void 0:e.trans_panel)==null?void 0:q.institute)==null?void 0:z.financeDepart)==null?void 0:Q[0])==null?void 0:J.fee_master_array_count,fee_structure_count:(K=e==null?void 0:e.trans_panel)==null?void 0:K.fees_structures_count,carryParentState:n.state,transportId:(W=e==null?void 0:e.trans_panel)==null?void 0:W._id,instituteId:t,pageOpenAs:"INSTITUTE",isRootAccess:t===((Y=(X=e==null?void 0:e.trans_panel)==null?void 0:X.institute)==null?void 0:Y._id)?"VALID":"INVALID"})})]})]})})]})})};export{js as default};
