import{M as rt,lS as lt,j as s,D as ot,e as v,a1 as T,lT as dt,r as ct}from"./index-731451a5.js";const nt="_payroll_tdf6q_1",ht="_payrollContainer_tdf6q_8",ft="_item_tdf6q_14",xt="_dialogTop_tdf6q_27",at="_title_tdf6q_67",mt="_text_tdf6q_71",_t="_dialog_tdf6q_27",pt="_top_tdf6q_101",jt="_bluemonth_tdf6q_108",gt="_eachrow_tdf6q_123",Nt="_left_tdf6q_163",$t="_right_tdf6q_169",Ct="_weight_tdf6q_189",ut="_btn_tdf6q_194",w={payroll:nt,payrollContainer:ht,item:ft,dialogTop:xt,title:at,text:mt,dialog:_t,top:pt,bluemonth:jt,eachrow:gt,left:Nt,right:$t,weight:Ct,btn:ut},wt="_payroll_hfr7x_1",Tt="_payslipContainer_hfr7x_9",vt="_item_hfr7x_14",bt="_dialogTop_hfr7x_26",Dt="_title_hfr7x_62",Ft="_text_hfr7x_66",Mt="_dialog_hfr7x_26",Lt="_top_hfr7x_96",Pt="_bluemonth_hfr7x_103",qt="_eachrow_hfr7x_118",At="_left_hfr7x_158",Wt="_right_hfr7x_164",zt="_weight_hfr7x_184",Et="_btnContainer_hfr7x_189",Ht="_btn_hfr7x_189",Rt="_greenbtn_hfr7x_214",kt="_topp_hfr7x_218",It="_imgprofile_hfr7x_222",Ot="_contentContainer_hfr7x_226",Gt="_bluemonthdisplay_hfr7x_240",Bt="_input_hfr7x_258",i={payroll:wt,payslipContainer:Tt,item:vt,dialogTop:bt,title:Dt,text:Ft,dialog:Mt,top:Lt,bluemonth:Pt,eachrow:qt,left:At,right:Wt,weight:zt,btnContainer:Et,btn:Ht,greenbtn:Rt,topp:kt,imgprofile:It,contentContainer:Ot,bluemonthdisplay:Gt,input:Bt};var e=new rt({format:[240,210]}),r=e.internal.pageSize.getWidth();const Qt=(_,l,c,x,t,p,o,a,f)=>{e.addImage(_,"JPEG",11.3,6.8,28,28),e.setLineWidth(8),e.setDrawColor(255,255,255),e.circle(25.4,20,16),e.setLineWidth(0);const d=e.splitTextToSize(l.insName,146);if(e.setFont("","normal",""),d.length>1){let h=15;e.setFont("700"),e.setTextColor(18,18,18),e.setFontSize(16),e.text(r/2,h,d,"center"),h=d.length+145}else{let h=15;e.setFont("700"),e.setTextColor(18,18,18),e.setFontSize(18),e.text(r/2,h,d,"center"),h=d.length+145}e.setFont("Arial","normal","400"),e.setTextColor(18,18,18),e.setFontSize(10),e.text(r/2,32,`${l.insAddress} ${l.insDistrict} ${l.insState}`,"center"),e.setTextColor(18,18,18),e.setFontSize(10),e.text(r/2,24,`Mob No : ${l.insPhoneNumber} , Mail : ${l.insEmail}`,"center"),e.setLineWidth(.05),e.setDrawColor(153,153,153),e.line(0,35,r,35);const m=`${c.staffFirstName} ${c.staffMiddleName?c.staffMiddleName:""} ${c.staffLastName}`;e.setTextColor(0,0,0),e.setFontSize(13),e.text(9,55,` Name :  ${m}`),e.setTextColor(0,0,0),e.setFontSize(13),e.text(r-40,55,`Salary slip for ${x}`,"center"),e.setTextColor(0,0,0),e.setFontSize(13),e.text(9,63,`Working Days :  ${t}`),e.setTextColor(0,0,0),e.setFontSize(13),e.text(9,71,` Paid Leaves :  ${p}`),e.setLineWidth(8),e.setDrawColor(0,26,114),e.line(9,91,r/2,91),e.setFontSize(11),e.setTextColor(255,255,255),e.text(11,92,"Particular"),e.setTextColor(255,255,255),e.text(r/2-15,92,"Amount","center"),e.setTextColor(0,0,0),e.text(11,100,"Basic Salary"),e.setTextColor(0,0,0),e.text(r/2-15,100,`${o.amount}`,"center"),e.setLineWidth(.1),e.setDrawColor(28,2,59),e.line(9,103,r/2-.3,103),e.setTextColor(0,0,0),e.text(11,108,"HRA"),e.setTextColor(0,0,0),e.text(r/2-15,108,`${o.hra}`,"center"),e.setLineWidth(.1),e.setDrawColor(28,2,59),e.line(9,111,r/2-.3,111),e.setFont("","bold",""),e.setTextColor(0,0,0),e.text(11,116,"Gross Total"),e.setFont("Arimo"),e.setTextColor(0,0,0),e.text(r/2-15,116,`${o.gross_salary}`,"center"),e.setLineWidth(.1),e.setDrawColor(28,2,59),e.line(9,119,r/2-.3,119),e.setTextColor(0,0,0),e.setFont("","normal",""),e.text(11,124,"Employees Provident Fund"),e.setTextColor(0,0,0),e.text(r/2-15,124,`${o.epf}`,"center"),e.setLineWidth(.1),e.setDrawColor(28,2,59),e.line(9,127,r/2-.3,127),e.setTextColor(0,0,0),e.text(11,132,"TDS"),e.setTextColor(0,0,0),e.text(r/2-15,132,`${o.tds}`,"center"),e.setLineWidth(.1),e.setDrawColor(28,2,59),e.line(9,135,r/2-.3,135),e.setTextColor(0,0,0),e.setFont("","bold",""),e.text(11,140,"Net Total"),e.setTextColor(0,0,0),e.text(r/2-15,140,`${o.net_total}`,"center"),e.setLineWidth(.1),e.setDrawColor(28,2,59),e.line(9.3,92,9.3,143),e.setLineWidth(.1),e.setDrawColor(28,2,59),e.line(69,95,69,143),e.setLineWidth(.1),e.setDrawColor(28,2,59),e.line(r/2-.3,92,r/2-.3,143),e.setLineWidth(.1),e.setDrawColor(28,2,59),e.line(9,143,r/2-.3,143),e.setTextColor(0,0,0),e.text(r-42,223,`Name : ${a}`,"center"),e.setTextColor(0,0,0),e.setFont("","normal",""),e.text(r-42,231,"Appropriate Authority","center"),e.setTextColor(0,0,0),e.setFontSize(8),e.setFont("","normal",""),e.text(9,233,`Print Date : ${f}`),e.save("PaySlip.pdf")};function Jt({modalClick:_,hideModal:l,history:c,sal_month:x}){var o,a,f,d,m,h,j,g,N,$,C,u,b,D,F,M,L,P,q,A,W,z,E,H,R,k,I,O,G,B,Q,J,U;const{data:t}=lt({eid:c&&c,type:"History",month:x&&x}),p=()=>{var K,V,X,Y,Z,y,S,tt;const et=t!=null&&t.institute.insProfilePhoto?`${v}/${t==null?void 0:t.institute.insProfilePhoto}`:"/images/certificate/logodemo.jpg";let n=(X=(V=(K=t==null?void 0:t.institute)==null?void 0:K.financeDepart)==null?void 0:V[0])==null?void 0:X.financeHead;const st=`${n==null?void 0:n.staffFirstName} ${n!=null&&n.staffMiddleName?n==null?void 0:n.staffMiddleName:""} ${n==null?void 0:n.staffLastName}`;let it=T(new Date).format("DD MMMM yyyy");Qt(et,t==null?void 0:t.institute,(Y=t==null?void 0:t.detail)==null?void 0:Y.staff,T((y=(Z=t==null?void 0:t.filter)==null?void 0:Z[0])==null?void 0:y.month).format("MMMM yyyy"),(S=t==null?void 0:t.filter[0])==null?void 0:S.attendence,(tt=t==null?void 0:t.filter[0])==null?void 0:tt.paid_leaves,t==null?void 0:t.filter[0],st,it)};return s.jsx(ot,{open:_,onClose:()=>l(!1),children:s.jsx("div",{className:i.payslipContainer,children:s.jsxs("div",{className:`${i.top} ${i.topp}`,children:[s.jsxs("div",{className:i.dialogTop,children:[s.jsx("img",{className:i.imgprofile,alt:"Employee",src:((a=(o=t==null?void 0:t.detail)==null?void 0:o.staff)==null?void 0:a.photoId)!=="1"?`${v}/${(d=(f=t==null?void 0:t.detail)==null?void 0:f.staff)==null?void 0:d.staffProfilePhoto}`:"/images/member_tab/class/default_avatar.svg"}),s.jsxs("div",{className:i.text,children:[s.jsx("h6",{children:`${(h=(m=t==null?void 0:t.detail)==null?void 0:m.staff)==null?void 0:h.staffFirstName} ${(g=(j=t==null?void 0:t.detail)==null?void 0:j.staff)!=null&&g.staffMiddleName?($=(N=t==null?void 0:t.detail)==null?void 0:N.staff)==null?void 0:$.staffMiddleName:""} ${(u=(C=t==null?void 0:t.detail)==null?void 0:C.staff)==null?void 0:u.staffLastName}`}),s.jsxs("p",{children:["Index No. ",(D=(b=t==null?void 0:t.detail)==null?void 0:b.staff)==null?void 0:D.staffROLLNO]})]})]}),s.jsx("div",{className:i.bluemonth,children:T((M=(F=t==null?void 0:t.filter)==null?void 0:F[0])==null?void 0:M.month).format("MMMM yyyy")}),s.jsxs("div",{className:i.contentContainer,children:[s.jsxs("div",{className:i.eachrow,children:[s.jsx("h6",{children:"Salary Per Day :"}),s.jsxs("h6",{children:["Rs. ",(L=t==null?void 0:t.detail)==null?void 0:L.staff_salary_month]})]}),s.jsxs("div",{className:i.eachrow,children:[s.jsx("h6",{children:"Attendance :"}),s.jsxs("h6",{children:[t!=null&&t.filter?(P=t==null?void 0:t.filter[0])==null?void 0:P.attendence:""," days"]})]}),s.jsxs("div",{className:i.eachrow,children:[s.jsx("h6",{children:" Basic Salary :"}),s.jsxs("h6",{children:["(",t!=null&&t.filter?(q=t==null?void 0:t.filter[0])==null?void 0:q.payment_mode:"",") Rs. ",t!=null&&t.filter?(A=t==null?void 0:t.filter[0])==null?void 0:A.amount:""]})]}),s.jsx("hr",{}),s.jsxs("div",{className:i.eachrow,children:[s.jsx("h6",{children:"Paid Leaves :"}),s.jsxs("h6",{children:["Total"," ",t!=null&&t.filter?(W=t==null?void 0:t.filter[0])==null?void 0:W.total_leaves:""," ","days"]})]}),s.jsxs("div",{className:i.eachrow,children:[s.jsx("h6",{children:"Paid Leaves Taken:"}),s.jsxs("h6",{children:["Total"," ",t!=null&&t.filter?(z=t==null?void 0:t.filter[0])==null?void 0:z.paid_leaves:""," ","days"]})]}),s.jsxs("table",{children:[s.jsxs("tr",{children:[s.jsx("th",{className:i.left,children:"Particular"}),s.jsx("th",{className:i.right,children:"Amount"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i.left,children:"Basic Salary"}),s.jsx("td",{className:i.right,children:t!=null&&t.filter?(E=t==null?void 0:t.filter[0])==null?void 0:E.amount:""})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i.left,children:"HRA"}),s.jsx("td",{className:i.right,children:t!=null&&t.filter?(H=t==null?void 0:t.filter[0])==null?void 0:H.hra:""})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i.left,children:"DA"}),s.jsx("td",{className:i.right,children:t!=null&&t.filter?(R=t==null?void 0:t.filter[0])==null?void 0:R.da:""})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i.left,children:"Medical Allowance"}),s.jsx("td",{className:i.right,children:t!=null&&t.filter?(k=t==null?void 0:t.filter[0])==null?void 0:k.medical_allowance:""})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i.left,children:"Travel Allowance"}),s.jsx("td",{className:i.right,children:t!=null&&t.filter?(I=t==null?void 0:t.filter[0])==null?void 0:I.travel_allowance:""})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i.left,children:"Employer Contribution (EPF)"}),s.jsx("td",{className:i.right,children:t!=null&&t.filter?(O=t==null?void 0:t.filter[0])==null?void 0:O.employer_contribution:""})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i.left,children:"Perquisites"}),s.jsx("td",{className:i.right,children:t!=null&&t.filter?(G=t==null?void 0:t.filter[0])==null?void 0:G.perquisites:""})]}),s.jsxs("tr",{children:[s.jsx("td",{className:`${i.left} ${i.weight}`,children:"Gross Total"}),s.jsx("td",{className:`${i.right} ${i.weight}`,children:t!=null&&t.filter?(B=t==null?void 0:t.filter[0])==null?void 0:B.gross_salary:""})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i.left,children:"Employee Contribution (EPF)"}),s.jsx("td",{className:i.right,children:t!=null&&t.filter?(Q=t==null?void 0:t.filter[0])==null?void 0:Q.epf:""})]}),s.jsxs("tr",{children:[s.jsx("td",{className:i.left,children:"TDS"}),s.jsx("td",{className:i.right,children:t!=null&&t.filter?(J=t==null?void 0:t.filter[0])==null?void 0:J.tds:""})]}),s.jsxs("tr",{children:[s.jsx("td",{className:`${i.left} ${i.weight}`,children:"Net Total"}),s.jsx("td",{className:`${i.right} ${i.weight}`,children:t!=null&&t.filter?(U=t==null?void 0:t.filter[0])==null?void 0:U.net_total:""})]})]}),s.jsx("div",{className:i.btn,onClick:p,children:"Download"})]})]})})})}function Ut({key:_,name:l,amount:c,mode:x,photoId:t,photo:p,empData:o,sal_month:a}){const[f,d]=ct.useState(!1);return s.jsxs("div",{className:w.item,onClick:()=>d(!0),children:[s.jsx("img",{src:t!=="1"?`${v}/${p}`:"/images/member_tab/class/default_avatar.svg",alt:"Staff Avatar"}),s.jsxs("div",{className:w.text,children:[s.jsx("h6",{children:l}),s.jsxs("p",{children:["Salary : Rs. ",s.jsx("span",{children:c})," /- (",x,")"]})]}),f&&s.jsx(Jt,{hideModal:m=>d(m),modalClick:f,history:o==null?void 0:o._id,sal_month:a})]},_)}function Vt({sid:_}){var c,x;const{data:l}=dt(_);return s.jsx("div",{className:w.payroll,children:((c=l==null?void 0:l.salary)==null?void 0:c.length)>0?s.jsx("div",{children:(x=l==null?void 0:l.salary)==null?void 0:x.map((t,p)=>{var o,a,f,d,m,h,j,g,N,$,C,u;return s.jsx(Ut,{name:`${(a=(o=t==null?void 0:t.emp_pay)==null?void 0:o.staff)==null?void 0:a.staffFirstName} ${(d=(f=t==null?void 0:t.emp_pay)==null?void 0:f.staff)!=null&&d.staffMiddleName?(h=(m=t==null?void 0:t.emp_pay)==null?void 0:m.staff)==null?void 0:h.staffMiddleName:""} ${(g=(j=t==null?void 0:t.emp_pay)==null?void 0:j.staff)==null?void 0:g.staffLastName}`,amount:t==null?void 0:t.salary,mode:t==null?void 0:t.pay_mode,photoId:($=(N=t==null?void 0:t.emp_pay)==null?void 0:N.staff)==null?void 0:$.photoId,photo:(u=(C=t==null?void 0:t.emp_pay)==null?void 0:C.staff)==null?void 0:u.staffProfilePhoto,empData:t==null?void 0:t.emp_pay,sal_month:t==null?void 0:t.month},p)})}):s.jsx("div",{className:w.payrollContainer,children:"No Payroll Data Found"})})}export{Vt as default};
