import{u as C,c as M,n as L,d as U,r as o,j as e}from"./index-731451a5.js";import{E as x,a as B,B as T,a8 as W,M as H,U as u,r as O,a9 as Q,l as q,s as $,Q as z}from"./FinanceConfig-555e7db6.js";import{s}from"./StudentStatitics.module-2255b6eb.js";import{S as G}from"./SelectDepartment-e7d1d546.js";import"./TileCard-60046ca2.js";import"./statistics_constant-b063291e.js";const I=({statitics:_})=>{const{t:i}=C(),c=M(),h=L(),d=U(),a=o.useCallback(n=>{(n==null?void 0:n.length)>0&&c(`/${h.username}/member/staff/finance?type=statistics-detail`,{state:{...d.state,studentList:n}})},[c,h]);return e.jsxs("div",{className:s.ss_table,children:[e.jsxs("section",{className:s.ss_table_header,children:[e.jsx("div",{className:s.ss_table_header_inner,children:e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"3.4rem"},children:i("sr_no")})}),e.jsx("div",{className:s.ss_table_header_inner,children:e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"12rem"},children:i("classes")})}),e.jsx("div",{className:s.ss_table_header_inner,children:e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"4.7rem"},children:i("strength")})}),k==null?void 0:k.map(n=>e.jsxs("div",{className:s.ss_table_header_inner_fr,children:[e.jsx("div",{className:s.ss_table_header_inner_fr_center,children:e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"4.7rem"},children:i(n.name)})}),e.jsxs("div",{className:s.ss_table_header_inner_fr_inner,children:[e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6,children:"M"}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6_right,children:"F"})]})]},n.key)),e.jsxs("div",{className:s.ss_table_header_inner_fr,children:[e.jsx("h6",{className:s.ss_table_header_h6,children:i("minority")}),e.jsx("div",{className:s.ss_table_minority,children:J.map(n=>e.jsxs("div",{className:s.ss_table_minority_inner,children:[e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"5rem"},children:i(n.name)}),e.jsxs("div",{className:s.ss_table_header_inner_fr_inner,children:[e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6,children:"M"}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6_right,children:"F"})]})]},n.key))})]}),S==null?void 0:S.map(n=>e.jsxs("div",{className:s.ss_table_header_inner_fr,children:[e.jsx("div",{className:s.ss_table_header_inner_fr_center,children:e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"5rem"},children:i(n.name)})}),e.jsxs("div",{className:s.ss_table_header_inner_fr_inner,children:[e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6,children:"M"}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6_right,children:"F"})]})]},n.key)),e.jsxs("div",{className:s.ss_table_header_inner_fr,children:[e.jsx("div",{className:s.ss_table_header_inner_fr_center,style:{borderRight:"1px solid #cacaca"},children:e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"8rem"},children:i("all_grand_total")})}),e.jsxs("div",{className:s.ss_table_header_inner_fr_inner,children:[e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6,children:"M"}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6,children:"F"}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6_right,style:{borderRight:"1px solid #cacaca"},children:i("total")})]})]})]}),_==null?void 0:_.map((n,j)=>e.jsxs("section",{className:s.ss_table_header,style:{paddingTop:"0",paddingBottom:"1rem",height:"3.3rem"},children:[e.jsx("div",{className:s.ss_table_header_inner,children:e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"3.4rem"},children:j+1})}),e.jsx("div",{className:s.ss_table_header_inner,children:e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"12rem"},children:n==null?void 0:n.className})}),e.jsx("div",{className:s.ss_table_header_inner,children:e.jsx("h6",{className:s.ss_table_header_h6,style:{width:"4.7rem"},children:n==null?void 0:n.strength})}),w==null?void 0:w.map(r=>e.jsx("div",{className:s.ss_table_header_inner_fr,children:e.jsxs("div",{className:s.ss_table_header_inner_fr_inner,children:[e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6,style:{width:"calc(2.35rem)",cursor:"pointer",color:"#00f"},onClick:()=>a(n[`${r.name}_m_arr`]),children:n[`${r.name}_m`]}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6_right,style:{width:"calc(2.35rem)",cursor:"pointer",color:"#00f"},onClick:()=>a(n[`${r.name}_f_arr`]),children:n[`${r.name}_f`]})]})},r.name)),e.jsx("div",{className:s.ss_table_header_inner_fr,children:e.jsx("div",{className:s.ss_table_minority,children:K.map(r=>e.jsx("div",{className:s.ss_table_minority_inner,children:e.jsxs("div",{className:s.ss_table_header_inner_fr_inner,children:[e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6,style:{width:"calc(2.5rem)",cursor:"pointer",color:"#00f"},onClick:()=>a(n[`${sc.name}_m_arr`]),children:n[`${r.name}_m`]}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6_right,style:{width:"calc(2.5rem)",cursor:"pointer",color:"#00f"},onClick:()=>a(n[`${sc.name}_f_arr`]),children:n[`${r.name}_f`]})]})},r.name))})}),v==null?void 0:v.map(r=>e.jsx("div",{className:s.ss_table_header_inner_fr,children:e.jsxs("div",{className:s.ss_table_header_inner_fr_inner,children:[e.jsxs("h6",{className:s.ss_table_header_inner_fr_inner_h6,style:{width:"calc(2.5rem)",cursor:"pointer",color:"#00f"},onClick:()=>a(n[`${r.name}_m_arr`]),children:[" ",n[`${r.name}_m`]]}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6_right,style:{width:"calc(2.5rem)",cursor:"pointer",color:"#00f"},onClick:()=>a(n[`${r.name}_f_arr`]),children:n[`${r.name}_f`]})]})},r.name)),e.jsx("div",{className:s.ss_table_header_inner_fr,children:e.jsxs("div",{className:s.ss_table_header_inner_fr_inner,children:[e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6,style:{width:"calc(2.15rem)",cursor:"pointer",color:"#00f"},onClick:()=>a(n.boy_arr),children:n.boy}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6,style:{width:"calc(2.1rem)",cursor:"pointer",color:"#00f"},onClick:()=>a(n.girl_arr),children:n.girl}),e.jsx("h6",{className:s.ss_table_header_inner_fr_inner_h6_right,style:{borderRight:"1px solid #cacaca",width:"calc(3.8rem)"},children:n.strength})]})})]}))]})},k=[{name:"general",key:0},{name:"sc",key:1},{name:"st",key:2},{name:"dt",key:3},{name:"nt",key:4},{name:"obc",key:5},{name:"sbc",key:6},{name:"muslim",key:7},{name:"maratha",key:8},{name:"ews",key:9},{name:"ph",key:10},{name:"jk_students",key:11},{name:"goins_students",key:12}],J=[{name:"sikh",key:"sikh"},{name:"jainism",key:"jainism"},{name:"buddhism",key:"buddhism"},{name:"christian",key:"christian"},{name:"parsi",key:"parsi"},{name:"jews",key:"jews"}],S=[{name:"hindu",key:"hindu"},{name:"muslim",key:"muslim"}],w=[{name:"general"},{name:"sc"},{name:"st"},{name:"dt"},{name:"nt"},{name:"obc"},{name:"sbc"},{name:"muslim"},{name:"maratha"},{name:"ews"},{name:"ph"},{name:"jk"},{name:"goins"}],K=[{name:"sikh"},{name:"jain"},{name:"budh"},{name:"christian"},{name:"parsi"},{name:"jews"}],v=[{name:"hindu"},{name:"muslim"}],X=({batch:_,onSelect:i})=>{const c=()=>{i(_)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:x.assign_show_list_each,onClick:c,children:[e.jsx("img",{src:`${B}/class.svg`,style:{borderRadius:"0"},alt:"batch icon"}),e.jsx("div",{className:x.assign_each_paragraph,children:e.jsx("h6",{children:(_==null?void 0:_.batchName)??""})})]}),e.jsx(T,{customStyleBorder:{margin:"0"}})]})},Y=({onClose:_,onSelect:i,did:c})=>{const{t:h}=C(),[d,a]=o.useState([]),{departmentAllBatch:n,departmentAllBatchLoading:j}=W({did:c,skip:!c});o.useEffect(()=>{n!=null&&n.length&&a(n)},[n==null?void 0:n.length]);const r=t=>{if(t.target.value){let y=Z(n,t.target.value);a(y)}else a(n)},p=t=>{i(t)};return e.jsx(H,{onClose:_,children:e.jsxs("div",{className:x.modal_container,children:[e.jsx(u,{children:e.jsxs("div",{className:x.modal_container_outer_header,children:[e.jsx("div",{className:x.modal_container_header,children:e.jsx("h6",{children:h("select_batch")})}),e.jsx("img",{src:`${B}/close.svg`,alt:"close icon",onClick:_})]})}),e.jsx(T,{}),e.jsxs(u,{customStyle:{paddingTop:"0",paddingBottom:"1rem"},children:[e.jsxs("div",{className:x.assign_search_container,style:{marginBottom:"0.8rem"},children:[e.jsx("input",{type:"text",placeholder:h("search"),className:x.assign_search_input,onChange:r}),e.jsx("img",{src:`${O}/navbar-search.svg`,alt:"search icon"})]}),d==null?void 0:d.map(t=>e.jsx(X,{batch:t,onSelect:p},t==null?void 0:t._id))]})]})})},Z=(_,i)=>_==null?void 0:_.filter(c=>{var h;return(h=c==null?void 0:c.batchName)!=null&&h.includes(i)?c:null}),ie=({fid:_})=>{const{t:i}=C(),c=M(),[h,d]=o.useState("DEPARTMENT"),[a,n]=o.useState(""),[j,r]=o.useState(""),[p,t]=o.useState(!1),[y]=Q(),[D,E]=o.useState([]),F=()=>{h==="OWN_DEPARTMENT"?d(""):c(-1)},A=()=>{d("DEPARTMENT")},R=l=>{l==="ALL"?l!=null&&l._id&&(t(m=>!m),y({bid:l==null?void 0:l._id}).then(m=>{var N,b,f;((b=(N=m.data)==null?void 0:N.excel_list)==null?void 0:b.length)>0&&E((f=m.data)==null?void 0:f.excel_list),t(g=>!g)}).catch({})):(n(l),d("BATCH"))},P=l=>{d(""),l!=null&&l._id&&(r(l),t(m=>!m),y({bid:l==null?void 0:l._id}).then(m=>{var N,b,f;((b=(N=m.data)==null?void 0:N.excel_list)==null?void 0:b.length)>0&&E((f=m.data)==null?void 0:f.excel_list),t(g=>!g)}).catch({}))};return e.jsxs(e.Fragment,{children:[e.jsxs(q,{customStyle:{maxWidth:"870px"},children:[e.jsx(u,{children:e.jsx("div",{className:$.fm_header_container,children:e.jsx("h6",{children:i("student_statitics")})})}),e.jsx(T,{}),e.jsxs(u,{customStyle:{paddingTop:"0.2rem"},children:[e.jsxs("h6",{className:$.fm_title_heading,onClick:()=>d("OWN_DEPARTMENT"),children:[i("department_name")," "," : ",(a==null?void 0:a.dName)??""," ",e.jsx("span",{children:(j==null?void 0:j.batchName)??""})]}),e.jsx(I,{statitics:D})]})]}),h==="DEPARTMENT"||h==="OWN_DEPARTMENT"?e.jsx(G,{onClose:F,fid:_,onSelect:R}):h==="BATCH"?e.jsx(Y,{onClose:A,did:a==null?void 0:a._id,onSelect:P}):null,p&&e.jsx(z,{})]})};export{ie as default};
