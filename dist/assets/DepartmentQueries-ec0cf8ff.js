import{u as E,j as c,e as T,a1 as P,t as w,r as j,S as k}from"./index-0ca76035.js";import{s as S,M as R}from"./MentorTabChangeLink-a6d50987.js";import{D as O}from"./DepartmentTabChangeLink-a4183fdb.js";import{s as b}from"./Tabs.module-fb9ec0a6.js";import{a2 as I}from"./department-api-e4b13f05.js";const z=({viewAs:a,customStyleContainer:f,mentor:s,carryParentState:i})=>{var g,m,p,v,e,o,h,N,n,d;const{t:x}=E();return c.jsx(c.Fragment,{children:a==="MENTOR_DETAIL"?c.jsxs("div",{className:S.mentor_card_container,style:f,children:[c.jsx("img",{src:(g=s==null?void 0:s.mentor_head)!=null&&g.staffProfilePhoto?`${T}/${(m=s==null?void 0:s.mentor_head)==null?void 0:m.staffProfilePhoto}`:"/images/member_tab/class/default_avatar.svg",alt:"mentor avatar"}),c.jsxs("div",{className:S.mentor_container_inner,children:[c.jsx("h6",{children:`${((p=s==null?void 0:s.mentor_head)==null?void 0:p.staffFirstName)??""} ${((v=s==null?void 0:s.mentor_head)==null?void 0:v.staffMiddleName)??""} ${((e=s==null?void 0:s.mentor_head)==null?void 0:e.staffLastName)??""}`}),c.jsxs("p",{children:[x("mentees")," ",(s==null?void 0:s.mentees_count)??0]}),c.jsxs("p",{children:[x("queries_pending")," ",(s==null?void 0:s.pending_query_count)??0]})]}),c.jsxs("div",{className:S.mentor_rating,children:[c.jsx("img",{src:"/images/department/rating-icon.svg",alt:"ating icon"}),c.jsxs("p",{children:[(s==null?void 0:s.rating)===0?"":s==null?void 0:s.rating," "," ",x("rating")]})]})]}):c.jsx(O,{carryParentState:{...i,mid:s==null?void 0:s._id},activeTab:"mentor&n=detail",children:c.jsxs("div",{className:S.mentor_card_container,style:f,children:[c.jsx("img",{src:(o=s==null?void 0:s.mentor_head)!=null&&o.staffProfilePhoto?`${T}/${(h=s==null?void 0:s.mentor_head)==null?void 0:h.staffProfilePhoto}`:"/images/member_tab/class/default_avatar.svg",alt:"mentor avatar"}),c.jsxs("div",{className:S.mentor_container_inner,children:[c.jsx("h6",{children:`${((N=s==null?void 0:s.mentor_head)==null?void 0:N.staffFirstName)??""} ${((n=s==null?void 0:s.mentor_head)==null?void 0:n.staffMiddleName)??""} ${((d=s==null?void 0:s.mentor_head)==null?void 0:d.staffLastName)??""}`}),c.jsxs("p",{children:[x("mentees")," ",(s==null?void 0:s.mentees_count)??0]}),c.jsxs("p",{children:[x("queries_pending")," ",(s==null?void 0:s.pending_query_count)??0]})]})]})})})},C=({activeIndex:a,setActiveIndex:f})=>{const{t:s}=E();return c.jsx("div",{className:b.mcqTop,children:c.jsxs("div",{className:b.mcqToptabs,children:[c.jsx("div",{className:a===0?`${b.mcqTopItem} ${b.active}`:b.mcqTopItem,onClick:()=>f(0),children:s("unsolved")}),c.jsx("div",{className:a===1?`${b.mcqTopItem} ${b.active}`:b.mcqTopItem,onClick:()=>f(1),children:s("solved")})]})})},M=({query_detail:a,carryParentState:f,queryFlow:s})=>{var i,x,g,m,p,v,e,o,h,N;return c.jsx(c.Fragment,{children:s==="By_Mentor"?c.jsx(R,{carryParentState:{...f,qid:a==null?void 0:a._id},activeTab:"query-detail",children:c.jsxs("div",{className:S.mentor_card_container,style:{width:"95%",margin:"auto",marginBottom:"0.7rem"},children:[c.jsx("img",{src:(i=a==null?void 0:a.student)!=null&&i.studentProfilePhoto?`${T}/${(x=a==null?void 0:a.student)==null?void 0:x.studentProfilePhoto}`:"/images/member_tab/class/default_avatar.svg",style:{borderRadius:"50%"},alt:"mentor avatar"}),c.jsxs("div",{className:S.mentor_container_inner,style:{gap:"0.6rem"},children:[c.jsx("h6",{children:`${((g=a==null?void 0:a.student)==null?void 0:g.studentFirstName)??""} ${((m=a==null?void 0:a.student)==null?void 0:m.studentMiddleName)??""} ${((p=a==null?void 0:a.student)==null?void 0:p.studentLastName)??""}`}),c.jsxs("p",{children:[P(a==null?void 0:a.created_at).format("DD MMM"),",",P(a==null?void 0:a.created_at).format("LT")]})]})]})}):c.jsx(O,{carryParentState:{...f,qid:a==null?void 0:a._id},activeTab:"mentor&n=queries&query",children:c.jsxs("div",{className:S.mentor_card_container,style:{width:"95%",margin:"auto",marginBottom:"0.7rem"},children:[c.jsx("img",{src:(v=a==null?void 0:a.student)!=null&&v.studentProfilePhoto?`${T}/${(e=a==null?void 0:a.student)==null?void 0:e.studentProfilePhoto}`:"/images/member_tab/class/default_avatar.svg",style:{borderRadius:"50%"},alt:"mentor avatar"}),c.jsxs("div",{className:S.mentor_container_inner,style:{gap:"0.6rem"},children:[c.jsx("h6",{children:`${((o=a==null?void 0:a.student)==null?void 0:o.studentFirstName)??""} ${((h=a==null?void 0:a.student)==null?void 0:h.studentMiddleName)??""} ${((N=a==null?void 0:a.student)==null?void 0:N.studentLastName)??""}`}),c.jsxs("p",{children:[P(a==null?void 0:a.created_at).format("DD MMM"),",",P(a==null?void 0:a.created_at).format("LT")]})]})]})})})},V=({carryParentState:a,did:f,queryFlow:s})=>{const[i,x]=w(),[g,m]=j.useState(1),[p,v]=j.useState(!0),[e,o]=j.useState(!0),[h,N]=j.useState([]),{getAllQueryList:n,getAllQueryListRefetch:d}=I({data:{did:f,page:g,limit:10,status:"UnSolved",flow:s},skip:!f});return j.useEffect(()=>{f&&(o(!0),d())},[f,g,d]),j.useEffect(()=>{x&&p&&m(t=>t+1)},[x,p]),j.useEffect(()=>{var t,$;n!=null&&n.all_query?(N(D=>[...new Set([...D,...n==null?void 0:n.all_query].map(JSON.stringify))].map(JSON.parse)),o(!1)):((t=n==null?void 0:n.all_query)==null?void 0:t.length)===0&&o(!1),(($=n==null?void 0:n.all_query)==null?void 0:$.length)===10?v(!0):v(!1)},[n==null?void 0:n.all_query]),c.jsxs(c.Fragment,{children:[h==null?void 0:h.map((t,$)=>(h==null?void 0:h.length)===$+1?c.jsx("div",{ref:i,children:c.jsx(M,{query_detail:t,carryParentState:a,queryFlow:s})},t==null?void 0:t._id):c.jsx(M,{query_detail:t,carryParentState:a,queryFlow:s},t==null?void 0:t._id)),e&&c.jsx(k,{})]})},F=({carryParentState:a,did:f,queryFlow:s})=>{const[i,x]=w(),[g,m]=j.useState(1),[p,v]=j.useState(!0),[e,o]=j.useState(!0),[h,N]=j.useState([]),{getAllQueryList:n,getAllQueryListRefetch:d}=I({data:{did:f,page:g,limit:10,status:"Solved",flow:s},skip:!f});return j.useEffect(()=>{f&&(o(!0),d())},[f,g,d]),j.useEffect(()=>{x&&p&&m(t=>t+1)},[x,p]),j.useEffect(()=>{var t,$;n!=null&&n.all_query?(N(D=>[...new Set([...D,...n==null?void 0:n.all_query].map(JSON.stringify))].map(JSON.parse)),o(!1)):((t=n==null?void 0:n.all_query)==null?void 0:t.length)===0&&o(!1),(($=n==null?void 0:n.all_query)==null?void 0:$.length)===10?v(!0):v(!1)},[n==null?void 0:n.all_query]),c.jsxs(c.Fragment,{children:[h==null?void 0:h.map((t,$)=>(h==null?void 0:h.length)===$+1?c.jsx("div",{ref:i,children:c.jsx(M,{query_detail:t,carryParentState:a,viewAs:"SOLVED",queryFlow:s})},t==null?void 0:t._id):c.jsx(M,{query_detail:t,carryParentState:a,viewAs:"SOLVED",queryFlow:s},t==null?void 0:t._id)),e&&c.jsx(k,{})]})},H=({carryParentState:a,did:f,queryFlow:s})=>{const[i,x]=j.useState(0);return c.jsxs(c.Fragment,{children:[c.jsx(C,{activeIndex:i,setActiveIndex:x}),i===0&&c.jsx(V,{carryParentState:a,did:f,queryFlow:s}),i===1&&c.jsx(F,{carryParentState:a,did:f,queryFlow:s})]})};export{H as D,z as M};
