import{g as Z,u as O,r as i,j as e,mI as V,Q as Y,k as F,t as ee,S as se,W as _e,$ as ve,T as Q,i as K,mo as de,mp as fe,am as xe,mJ as c,a1 as ie,bo as je,D as pe,lv as Ce,d as ge,s as Ne}from"./index-731451a5.js";import{S as be}from"./Sidebar-d0dedeed.js";import{u as we,a as me,b as ye,c as Se,d as he,e as ke,f as Te,g as Ie}from"./career-api-95547a53.js";import{E as $e}from"./CareerMenu-31c90b19.js";import{I as Re}from"./InputDateField-70b961e2.js";import{c as De}from"./prevTimeComparision-9fa638db.js";import"./SidebarBottom-2c8831dc.js";import"./CustomSuspense-e90dc607.js";import"./DatePicker-305f3dc6.js";const Oe="_navbar_1r7l0_1",le={navbar:Oe},Me="_mainbody_164jk_1",Le="_main_164jk_1",Ee="_stats_164jk_12",Je="_sidebar_164jk_17",Fe="_sidebarright_164jk_24",qe="_test_164jk_28",Ue="_newPost_164jk_32",Pe="_newAnnouncement_164jk_37",Be="_careerstatusbody_164jk_77",J={mainbody:Me,main:Le,stats:Ee,sidebar:Je,sidebarright:Fe,test:qe,newPost:Ue,newAnnouncement:Pe,careerstatusbody:Be},ze="_MiddleContent_ien9r_1",Ae="_MiddleContentLeft_ien9r_14",Qe="_MiddleContentLeft2_ien9r_23",Ye="_tabs_ien9r_32",He="_itemIconContainer_ien9r_38",Ge="_itemIcon_ien9r_38",We="_MiddleContentLeftop_ien9r_50",Ke="_insCareerCardInner_ien9r_69",Xe="_insCareerCard_ien9r_69",Ze="_insCareerCardsubject_ien9r_88",Ve="_insCareerCarddept_ien9r_99",es="_insCareerCarddesig_ien9r_110",ss="_insCareerCardtext_ien9r_121",ts="_dots_ien9r_127",ns="_menudots_ien9r_134",$={MiddleContent:ze,MiddleContentLeft:Ae,MiddleContentLeft2:Qe,tabs:Ye,itemIconContainer:He,itemIcon:Ge,MiddleContentLeftop:We,insCareerCardInner:Ke,insCareerCard:Xe,insCareerCardsubject:Ze,insCareerCarddept:Ve,insCareerCarddesig:es,insCareerCardtext:ss,dots:ts,menudots:ns};function X({vacancy:s,setStatus:n,vid:l,lcid:r,onRefetchWhenVacancyCreate:j}){var d;const o=Z(),{t:v}=O(),[N,p]=i.useState(!1),[x]=we(),[h,f]=i.useState(!1),T=C=>{p(!0),x({vid:C}).then(b=>{f(!1),j(),p(!1)}).catch(b=>{f(!1),p(!1)})};return e.jsxs("div",{className:$.insCareerCardInner,children:[e.jsxs("div",{className:$.insCareerCard,onClick:()=>{o(V.careerQuery({vid:l,lcid:r})),n("vacancyDetail")},children:[e.jsx("img",{src:"/images/career/insCareer/career_job.svg"}),e.jsxs("div",{className:$.insCareerCardtext,children:[e.jsx("h6",{className:$.insCareerCardsubject,children:s==null?void 0:s.vacancy_position}),e.jsx("p",{className:$.insCareerCarddept,children:(d=s==null?void 0:s.department)==null?void 0:d.dName}),e.jsx("p",{className:$.insCareerCarddesig,children:s==null?void 0:s.vacancy_job_type}),e.jsxs("p",{className:$.insCareerCarddesig,children:[v("applications"),": ",s==null?void 0:s.application_count," "]})]}),e.jsx("img",{className:$.dots,src:"/images/menu-dots-icon.svg",alt:"menu",onClick:()=>f(!h)})]}),e.jsx("img",{className:$.menudots,src:"/images/menu-dots-icon.svg",alt:"menu",onClick:()=>f(!h)}),e.jsx($e,{open:h,onClose:()=>f(!1),handleDelete:()=>T(s==null?void 0:s._id)}),N&&e.jsx(Y,{})]})}function as({setStatus:s,lcid:n,flag:l}){const r=F(u=>u.careerChange),[j,o]=ee(),[v,N]=i.useState(1),[p,x]=i.useState(""),[h,f]=i.useState([]),[T,d]=i.useState(!0),[C,b]=i.useState(!1),[w,y]=i.useState(!1),[_,t]=i.useState(!0),{getVacancylist:m,getVacancyListRefetch:R}=me({data:{lcid:n||(r==null?void 0:r.lcid),page:v,limit:10,status:"Completed"},skip:n?!n:!(r!=null&&r.lcid)});return i.useEffect(()=>{o&&T&&N(u=>u+1)},[o,T]),i.useEffect(()=>{(n||r!=null&&r.lcid)&&(t(!0),R())},[v,n||(r==null?void 0:r.lcid),p,R]),i.useEffect(()=>{var u,k;p?(f(m==null?void 0:m.all_vacancy),t(!1)):C?(f(I=>[...new Set([...m==null?void 0:m.all_vacancy,...I].map(JSON.stringify))].map(JSON.parse)),t(!1),b(!1)):w?(f(I=>[...new Set([...m==null?void 0:m.all_vacancy].map(JSON.stringify))].map(JSON.parse)),t(!1),y(!1)):m!=null&&m.all_vacancy?(f(I=>[...new Set([...I,...m==null?void 0:m.all_vacancy].map(JSON.stringify))].map(JSON.parse)),t(!1)):((u=m==null?void 0:m.all_vacancy)==null?void 0:u.length)===0&&t(!1),((k=m==null?void 0:m.all_vacancy)==null?void 0:k.length)===10?d(!0):d(!1)},[m==null?void 0:m.all_vacancy]),e.jsxs("div",{className:$.itemIconContainer,children:[h==null?void 0:h.map((u,k)=>(h==null?void 0:h.length)===k+1?e.jsx("div",{ref:j,className:$.itemIcon,children:e.jsx(X,{vacancy:u,setStatus:s,vid:u==null?void 0:u._id,lcid:n})},k):e.jsx("div",{className:$.itemIcon,children:e.jsx(X,{vacancy:u,setStatus:s,vid:u==null?void 0:u._id,lcid:n})},k)),_&&e.jsx(se,{})]})}function rs({setStatus:s,lcid:n,flag:l}){F(u=>u.careerChange);const[r,j]=ee(),[o,v]=i.useState(1),[N,p]=i.useState(""),[x,h]=i.useState([]),[f,T]=i.useState(!0),[d,C]=i.useState(!1),[b,w]=i.useState(!1),[y,_]=i.useState(!0),{getVacancylist:t,getVacancyListRefetch:m}=me({data:{lcid:n,page:o,limit:10,status:"Ongoing"},skip:!n});i.useEffect(()=>{j&&f&&v(u=>u+1)},[j,f]),i.useEffect(()=>{n&&(_(!0),m())},[o,n,N,m]),i.useEffect(()=>{var u,k;N?(h(t==null?void 0:t.all_vacancy),_(!1)):d?(h(I=>[...new Set([...t==null?void 0:t.all_vacancy,...I].map(JSON.stringify))].map(JSON.parse)),_(!1),C(!1)):b?(h(I=>[...new Set([...t==null?void 0:t.all_vacancy].map(JSON.stringify))].map(JSON.parse)),_(!1),w(!1)):t!=null&&t.all_vacancy?(h(I=>[...new Set([...I,...t==null?void 0:t.all_vacancy].map(JSON.stringify))].map(JSON.parse)),_(!1)):((u=t==null?void 0:t.all_vacancy)==null?void 0:u.length)===0&&_(!1),((k=t==null?void 0:t.all_vacancy)==null?void 0:k.length)===10?T(!0):T(!1)},[t==null?void 0:t.all_vacancy]);const R=()=>{v(1),w(!0),_(!0),m()};return e.jsxs("div",{className:$.itemIconContainer,children:[x==null?void 0:x.map((u,k)=>(x==null?void 0:x.length)===k+1?e.jsx("div",{ref:r,className:$.itemIcon,children:e.jsx(X,{vacancy:u,setStatus:s,vid:u==null?void 0:u._id,lcid:n,onRefetchWhenVacancyCreate:R})},k):e.jsx("div",{className:$.itemIcon,children:e.jsx(X,{vacancy:u,setStatus:s,vid:u==null?void 0:u._id,lcid:n,onRefetchWhenVacancyCreate:R})},k)),y&&e.jsx(se,{})]})}const is="_studentMCQ_1981l_1",ls="_mcqToptabs_1981l_4",cs="_mcqTop_1981l_4",os="_mcqTopItem_1981l_22",ds="_active_1981l_38",L={studentMCQ:is,mcqToptabs:ls,mcqTop:cs,mcqTopItem:os,active:ds};function ms({activeIndex:s,setActiveIndex:n}){const{t:l}=O();return e.jsx("div",{className:L.mcqTop,children:e.jsxs("div",{className:L.mcqToptabs,children:[e.jsx("div",{className:s===0?`${L.mcqTopItem} ${L.active}`:L.mcqTopItem,onClick:()=>n(0),children:l("ongoing_vacancies")}),e.jsx("div",{className:s===1?`${L.mcqTopItem} ${L.active}`:L.mcqTopItem,onClick:()=>n(1),children:l("filled_vacancies")})]})})}function hs({setStatus:s,lcid:n,flag:l}){const[r,j]=i.useState(0);i.useState(r===0?"Ongoing":"Completed");const{t:o}=O();return e.jsx("div",{className:$.MiddleContent,children:e.jsxs("div",{className:$.MiddleContentLeft,children:[e.jsx("div",{className:$.tabs,children:e.jsx(ms,{activeIndex:r,setActiveIndex:j})}),e.jsx("div",{className:$.MiddleContentLeftop,children:e.jsx("p",{onClick:()=>s("openForm"),children:o("open_vacancies")})}),r===0&&e.jsx(rs,{setStatus:s,lcid:n,flag:l}),r===1&&e.jsx(as,{setStatus:s,lcid:n,flag:l})]})})}const us="_openVacForm_yv8ny_1",_s="_peventlefttopflexleft_yv8ny_11",vs="_peventlefttop_yv8ny_11",fs="_peventleftbody_yv8ny_37",xs="_peventinputContainer_yv8ny_41",js="_pollTextareah_yv8ny_45",ps="_switchContainerh_yv8ny_46",Cs="_pollTextarea_yv8ny_45",gs="_switchcontainerflex_yv8ny_94",Ns="_fileinputflexContainer_yv8ny_104",bs="_input_label_yv8ny_109",ws="_fileinputflex_yv8ny_104",ys="_fileinputflexleft_yv8ny_125",Ss="_fileinputflexright_yv8ny_144",ks="_item_yv8ny_162",Ts="_select_yv8ny_162",Is="_selectclass_yv8ny_188",$s="_peventlefttopflex_yv8ny_11",Rs="_selectBtn_yv8ny_205",Ds="_button_main_yv8ny_221",Os="_formselectactive_yv8ny_258",Ms="_formselect_yv8ny_258",Ls="_input_border_active_yv8ny_283",Es="_genderh_yv8ny_287",Js="_genderplaceholder_yv8ny_296",Fs="_downIcon_yv8ny_300",qs="_upIcon_yv8ny_307",a={openVacForm:us,peventlefttopflexleft:_s,peventlefttop:vs,peventleftbody:fs,peventinputContainer:xs,pollTextareah:js,switchContainerh:ps,pollTextarea:Cs,switchcontainerflex:gs,fileinputflexContainer:Ns,input_label:bs,fileinputflex:ws,fileinputflexleft:ys,fileinputflexright:Ss,item:ks,select:Ts,selectclass:Is,peventlefttopflex:$s,selectBtn:Rs,button_main:Ds,formselectactive:Os,formselect:Ms,input_border_active:Ls,genderh:Es,genderplaceholder:Js,downIcon:Fs,upIcon:qs},Us="_options_eraox_1",Ps="_option_eraox_1",Bs="_upIcon_eraox_43",zs="_downIcon_eraox_50",W={options:Us,option:Ps,upIcon:Bs,downIcon:zs},As={position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10},ce={position:"absolute",left:"0",top:"2.1rem",zIndex:10};function ue({open:s,onClose:n,setVacancyData:l,vacancyData:r,setInterviewData:j,interviewData:o,status:v}){const N=["Administrative Job","Teaching Job","Other"],p=["Virtual Interview","In Person Interview"],{t:x}=O();return s?e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:n,style:As}),v==="interview"?e.jsx("div",{style:ce,className:W.options,children:p.map((h,f)=>e.jsx("div",{className:W.option,onClick:()=>{j({...o,interviewType:h}),n()},children:x(h==="Virtual Interview"?"virtual_interview":"in_person_interview")},f))}):e.jsx("div",{style:ce,className:W.options,children:N.map((h,f)=>e.jsx("div",{className:W.option,onClick:()=>{l({...r,jobType:h}),n()},children:x(h==="Administrative Job"?"admin_job":h==="Teaching Job"?"teaching_job":"other")},f))})]}):null}function Qs({setStatus:s,lcid:n,setFlag:l,flag:r,getCareerDetailRefetch:j}){var I,g,q,U,P,B,z;const{t:o}=O(),[v]=ye(),[N,p]=i.useState(!1),x=F(S=>S.idChange.id),[h,f]=i.useState(!1),[T]=_e(),[d,C]=i.useState(!1),[b,w]=i.useState(null),{allDepartment:y,allDepartmentRefetch:_}=ve({id:x,skip:!x}),[t,m]=i.useState({position:"",jobType:"",depart:[],package:"",description:"",brochure:"",brochure_name:""}),R=document.querySelector("textarea");R==null||R.addEventListener("keyup",S=>{R.style.height="auto";let M=S.target.scrollHeight;R.style.height=`${M}px`});const u=S=>{C(!0);const M=new FormData;M.append("file",S.target.files[0]),T({fileUpload:M}).then(H=>{var A;m({...t,brochure:(A=H.data)==null?void 0:A.imageKey,brochure_name:S.target.files[0].name}),C(!1)})},k=()=>{C(!0),v({lcid:n,vacancyData:{vacancy_job_type:t.jobType,vacancy_position:t.position,vacancy_package:t.package,vacancy_about:t.description,vacancy_banner:t.brochure,department:t.depart[0]}}).then(S=>{C(!1),l(!r),m({position:"",jobType:"",depart:[],package:"",description:"",brochure:"",brochure_name:""}),j(),s("")}).catch(S=>{C(!1)})};return e.jsxs(e.Fragment,{children:[!N&&e.jsxs("div",{className:a.openVacForm,children:[e.jsxs("div",{className:`${a.peventlefttop} ${a.peventlefttopflexleft}`,children:[e.jsx("img",{src:"/images/back.svg",alt:"back",onClick:()=>s("")}),o("create_vacancies")]}),e.jsxs("div",{className:a.peventleftbody,children:[e.jsx("div",{className:a.peventinputContainer,children:e.jsx(Q,{type:"text",label:o("for_position"),placeholder:o("eg_physics"),value:t.position,handleChange:S=>m({...t,position:S.target.value}),customStyleInput:{width:"100%",padding:"0.6rem"}})}),e.jsxs("div",{className:a.peventinputContainer,children:[e.jsx("h3",{className:a.input_label,children:o("job_type")}),e.jsxs("div",{className:h?`${a.formselectactive} ${a.formselect}`:a.formselect,onClick:()=>f(!h),children:[t.jobType&&t.jobType!==""?e.jsx("h6",{className:a.genderh,onClick:()=>f(!0),children:t.jobType}):e.jsx("h6",{className:`${a.genderplaceholder} ${a.genderh}`,onClick:()=>f(!0),children:o("please_select_job_type")}),h?e.jsx("img",{className:`${a.updownIcon} ${a.downIcon}`,src:`${K}/up-triangle-icon.svg`,alt:""}):e.jsx("img",{className:a.upIcon,src:`${K}/downn-icon.svg`,alt:""}),e.jsx(ue,{open:h,onClose:()=>f(!1),setVacancyData:m,vacancyData:t})]})]}),t.jobType==="Administrative Job"&&e.jsxs("div",{className:a.peventinputContainer,children:[e.jsx("h3",{className:a.input_label,children:o("select_dept_")}),e.jsx("div",{className:a.item,onClick:()=>p(S=>!S),children:e.jsxs("div",{className:a.select,children:[((I=t.depart)==null?void 0:I.length)>1?e.jsxs("p",{children:[(g=t.depart)==null?void 0:g.length," ",o("departments")]}):((q=t.depart)==null?void 0:q.length)===1?e.jsxs("p",{children:[(U=t.depart)==null?void 0:U.length," ",o("department")]}):e.jsx("p",{children:o("plz_select_dept")}),e.jsx("img",{className:a.selectclass,src:"/images/members/selectclass.svg",alt:""})]})})]}),e.jsx("div",{className:a.peventinputContainer,children:e.jsx(Q,{type:"number",label:o("salary_package"),placeholder:o("please_salary_package"),value:t.package,handleChange:S=>m({...t,package:parseInt(S.target.value)}),customStyleInput:{width:"100%",padding:"0.6rem"}})}),e.jsxs("div",{className:a.peventinputContainer,children:[e.jsx("h6",{className:a.input_label,children:o("jd_optional")}),e.jsx("textarea",{className:a.pollTextarea,id:"pollTextArea",type:"text",required:!0,placeholder:o("write_about_job"),value:t.description,onChange:S=>m({...t,description:S.target.value})})]}),e.jsxs("div",{className:a.switchcontainerflex,children:[e.jsx("input",{class:a.upload,type:"file",id:"formFile",name:"file",onChange:u}),e.jsxs("div",{className:a.fileinputflexContainer,children:[e.jsxs("h6",{children:[o("brochure_select_order")," ",e.jsx("span",{className:a.labelspan,children:"*"})]}),e.jsxs("div",{className:a.fileinputflex,children:[e.jsx("label",{for:"formFile",className:a.fileinputflexleft,children:e.jsx("div",{className:a.fileinputflexleftdiv,children:o("chose_file")})}),e.jsx("div",{className:`${a.fileinputflexleft} ${a.fileinputflexright}`,children:t.brochure!==""?t.brochure_name:o("no_file_chosen")})]})]})]}),t.jobType==="Administrative Job"&&t.position!==""&&t.jobType!==""&&t.depart.length>0?e.jsx("div",{className:a.button_main,style:{marginTop:"2rem",width:"100%",cursor:"pointer"},onClick:k,children:e.jsx("span",{children:o("create")})}):t.jobType!=="Administrative Job"&&t.position!==""&&t.jobType!==""?e.jsx("div",{className:a.button_main,style:{marginTop:"2rem",width:"100%",cursor:"pointer"},onClick:k,children:e.jsx("span",{children:o("create")})}):e.jsx(de,{buttonText:o("create"),customStyleButton:{marginTop:"2rem",width:"100%"}})]})]}),N&&e.jsxs("div",{className:a.openVacForm,children:[e.jsxs("div",{className:`${a.peventlefttop} ${a.peventlefttopflex}`,children:[e.jsxs("div",{className:`${a.peventlefttopflexleft}`,children:[e.jsx("img",{src:"/images/back.svg",alt:"back",onClick:()=>p(!1)}),o("select_dept_")]}),N===!0&&((P=t.depart)!=null&&P.length)?e.jsx("div",{className:a.selectBtn,onClick:()=>p(!1),children:o("select")}):""]}),(z=(B=y==null?void 0:y.institute)==null?void 0:B.depart)==null?void 0:z.map((S,M)=>e.jsx(fe,{indexNumber:M,dept:S,vacancyData:t,setVacancyData:m,classMasterIndex:b,setClassMasterIndex:w,setClickDept:p,status:"vacancy"},S._id))]}),d&&e.jsx(Y,{})]})}function Ys({setStatus:s}){const{t:n}=O(),l=Z(),[r,j]=i.useState(!1),[o]=Se(),v=F(_=>_.careerChange),[N,p]=i.useState(""),[x,h]=i.useState(!1),[f,T]=i.useState({msg:"",run:!1}),[d,C]=i.useState({date:"",interviewType:"",time:"",place:"",instructions:""}),b=_=>{const t=De(_);t[0]?(p(t[1]),C({...d,date:t[1]})):T({msg:"You cannot select upcoming date",run:!0})},w=document.querySelector("textarea");w==null||w.addEventListener("keyup",_=>{w.style.height="auto";let t=_.target.scrollHeight;w.style.height=`${t}px`});const y=()=>{j(!0),d.interviewType==="Virtual Interview"?o({acid:v.acid,applyData:{interview_type:d.interviewType,interview_date:d.date,interview_time:d.time,interview_link:d.place,interview_guidelines:d.instructions}}).then(_=>{j(!1),l(V.careerQuery({acid:v==null?void 0:v.acid,vid:v==null?void 0:v.vid,lcid:v==null?void 0:v.lcid})),s("vacancyDetail")}).catch(_=>{j(!1)}):o({acid:v.acid,applyData:{interview_type:d.interviewType,interview_date:d.date,interview_time:d.time,interview_place:d.place,interview_guidelines:d.instructions}}).then(_=>{j(!1),console.info(_.data),s("vacancyDetail")}).catch(_=>{j(!1)})};return e.jsxs("div",{className:a.openVacForm,children:[e.jsxs("div",{className:`${a.peventlefttop} ${a.peventlefttopflexleft}`,children:[e.jsx("img",{src:"/images/back.svg",alt:"back",onClick:()=>s("")}),n("schedule_interview_")]}),e.jsxs("div",{className:a.peventleftbody,children:[e.jsxs("div",{className:a.peventinputContainer,children:[e.jsx("h3",{className:a.input_label,children:n("interview_type")}),e.jsxs("div",{className:x?`${a.formselectactive} ${a.formselect}`:a.formselect,onClick:()=>h(!x),children:[d.interviewType&&d.interviewType!==""?e.jsx("h6",{className:a.genderh,onClick:()=>h(!0),children:d.interviewType}):e.jsx("h6",{className:`${a.genderplaceholder} ${a.genderh}`,onClick:()=>h(!0),children:n("plz_interview_type")}),x?e.jsx("img",{className:`${a.updownIcon} ${a.downIcon}`,src:`${K}/up-triangle-icon.svg`,alt:""}):e.jsx("img",{className:a.upIcon,src:`${K}/downn-icon.svg`,alt:""}),e.jsx(ue,{open:x,onClose:()=>h(!1),setInterviewData:C,interviewData:d,status:"interview"})]})]}),e.jsx("div",{className:a.peventinputContainer,children:e.jsx(Re,{customStyleInput:{width:"100%",height:"2.2rem",padding:"1rem 0.5rem"},datePickerPosition:{top:"-1rem",left:"0",borderRadius:"0.375rem",paddingBottom:"0"},dateItemStyle:{padding:"0.25rem"},iconStyle:{position:"absolute",right:"0.9rem",bottom:"0.6rem",height:"1rem"},range:!1,label:n("select_date_"),placeholder:n("plz_select_date_"),dateInput:N,setDateInput:b})}),e.jsx("div",{className:a.peventinputContainer,children:e.jsx(Q,{type:"time",label:n("select_time"),placeholder:n("plz_select_time"),value:d.time,handleChange:_=>C({...d,time:_.target.value}),customStyleInput:{width:"100%",padding:"0.6rem"}})}),d.interviewType==="In Person Interview"?e.jsx("div",{className:a.peventinputContainer,children:e.jsx(Q,{type:"text",label:n("interview_place_link"),placeholder:n("interview_place_plz"),value:d.place,handleChange:_=>C({...d,place:_.target.value}),customStyleInput:{width:"100%",padding:"0.6rem"}})}):e.jsx("div",{className:a.peventinputContainer,children:e.jsx(Q,{type:"text",label:n("interview_link"),placeholder:n("interview_link_plz"),value:d.place,handleChange:_=>C({...d,place:_.target.value}),customStyleInput:{width:"100%",padding:"0.6rem"}})}),e.jsxs("div",{className:a.peventinputContainer,children:[e.jsx("h6",{className:a.input_label,children:n("interview_instruction_optional")}),e.jsx("textarea",{className:a.pollTextarea,id:"pollTextArea",type:"text",required:!0,placeholder:n("interview_instruction_provide"),value:d.instructions,onChange:_=>C({...d,instructions:_.target.value})})]}),d.interviewType!==""&&d.date!==""&&d.time!==""?e.jsx("div",{className:a.button_main,style:{marginTop:"2rem",width:"100%",cursor:"pointer"},onClick:y,children:e.jsx("span",{children:n("schedule_")})}):e.jsx(de,{buttonText:n("schedule_"),customStyleButton:{marginTop:"2rem",width:"100%"}}),f.run&&e.jsx(xe,{msg:f.msg,run:f.run,setRun:()=>T({msg:"",run:!1}),postiton:"bottom",type:"error"})]}),r&&e.jsx(Y,{})]})}function oe({application:s,setStatus:n,vid:l,lcid:r}){var p,x,h,f,T,d,C,b,w,y,_,t,m;const j=Z(),{t:o}=O(),[v,N]=i.useState(!1);return e.jsxs("div",{className:c.oneRow,children:[e.jsx("div",{className:c.oneRowDate,children:e.jsxs("p",{className:c.oneRowDateText,children:[" ",`${(x=(p=s==null?void 0:s.createdAt)==null?void 0:p.split("T")[0])==null?void 0:x.split("-")[2]}-${(f=(h=s==null?void 0:s.createdAt)==null?void 0:h.split("T")[0])==null?void 0:f.split("-")[1]}-${(d=(T=s==null?void 0:s.createdAt)==null?void 0:T.split("T")[0])==null?void 0:d.split("-")[0]}`]})}),e.jsxs("div",{className:c.oneRowName,children:[e.jsx("div",{className:c.oneRowNameImage,children:e.jsx("img",{src:"/images/ins_default_profile.svg",loading:"lazy",alt:""})}),e.jsxs("div",{children:[e.jsx("p",{className:c.oneRowNameText,children:s==null?void 0:s.endUserName}),e.jsxs("p",{className:c.oneRowNamePlaceholder,children:[o("dob"),":",`${(C=s==null?void 0:s.endUserDOB)==null?void 0:C.split("-")[2]}-${(b=s==null?void 0:s.endUserDOB)==null?void 0:b.split("-")[1]}-${(w=s==null?void 0:s.endUserDOB)==null?void 0:w.split("-")[0]}`]}),s!=null&&s.interview_date&&(s==null?void 0:s.interview_date)!==""?e.jsx("p",{className:c.interview,children:s==null?void 0:s.interview_type}):e.jsx("p",{className:c.schedule,onClick:()=>{j(V.careerQuery({acid:s==null?void 0:s._id,vid:l,lcid:r})),n("interviewForm")},children:o("schedule_interview")}),(s==null?void 0:s.interview_date)&&e.jsxs("div",{children:[e.jsxs("p",{className:c.date,children:[" ",o("time"),":"," ",ie(s==null?void 0:s.interview_date).format("Do MMM YYYY"),","," ",ie(s==null?void 0:s.interview_time).format("hh:mm a")," "]}),(s==null?void 0:s.interview_type)==="Virtual Interview"?e.jsxs("p",{className:c.date,children:[o("link"),":"," ",e.jsx("span",{children:e.jsx("a",{href:`${s==null?void 0:s.interview_link}`,target:"_blank",children:s==null?void 0:s.interview_link})})," "]}):e.jsxs("p",{className:c.date,children:[o("place"),": ",s==null?void 0:s.interview_place," "]}),e.jsxs("p",{className:c.date,children:[o("instructions"),":"," ",((y=s==null?void 0:s.interview_guidelines)==null?void 0:y.length)>15&&!v?(_=s==null?void 0:s.interview_guidelines)==null?void 0:_.match(/.{1,15}/g)[0]:(((t=s==null?void 0:s.interview_guidelines)==null?void 0:t.length)>15&&v,s==null?void 0:s.interview_guidelines),((m=s==null?void 0:s.interview_guidelines)==null?void 0:m.length)>15&&e.jsx("span",{className:c.instructuionspan,onClick:()=>N(!v),children:o(v?"read_less":"read-more")})]})]})]})]}),e.jsxs("div",{className:c.oneRowContact,children:[e.jsxs("div",{className:c.oneRowContactEmailIcon,children:[e.jsx("img",{src:"/images/admin/mail-dark-icon.svg",alt:"gender icon"}),e.jsx("p",{className:c.oneRowContactEmail,children:s==null?void 0:s.endUserEmail})]}),e.jsxs("div",{className:c.oneRowContactEmailIcon,children:[e.jsx("img",{src:"/images/phone-white.svg",alt:""}),e.jsx("p",{className:c.oneRowContactNumber,children:s==null?void 0:s.endUserPhoneNumber})]})]}),e.jsx("div",{className:`${c.oneRowIndex} ${c.oneRowwIndex}`,children:e.jsx("a",{href:`${je}/${s==null?void 0:s.endUserResume}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:"/images/career/insCareer/file_download.svg"})})})]})}function Hs({open:s,hideModal:n,tid:l,getVacancyDetailRefetch:r,setStatus:j}){const[o,v]=i.useState(!1),{t:N}=O(),[p]=he(),x=()=>{v(!0),p({vid:l}).then(h=>{v(!1),r(),j("")}).catch(h=>{v(!1)})};return e.jsx(pe,{open:s,onClose:()=>n(!1),children:e.jsxs("div",{className:c.confirmMark,children:[e.jsx("h5",{children:N("mark_closed")}),e.jsxs("div",{className:c.marktabs,children:[e.jsx("div",{className:c.condirmtab,onClick:x,children:N("confirm")}),e.jsx("div",{className:c.canceltab,onClick:()=>n(!1),children:N("cancel")})]}),o&&e.jsx(Y,{})]})})}function Gs({setStatus:s}){var U,P,B,z,S,M,H,A,te,ne,ae,re;const{t:n}=O(),l=F(D=>D.careerChange);he();const{getVacancyDetail:r,getVacancyDetailRefetch:j}=ke({vid:l.vid,skip:!l.vid}),[o,v]=i.useState(!1),[N,p]=i.useState(!1),[x,h]=ee(),[f,T]=i.useState(1),[d,C]=i.useState(""),[b,w]=i.useState([]),[y,_]=i.useState(!0),[t,m]=i.useState(!1),[R,u]=i.useState(!1),[k,I]=i.useState(!0),{getApplicationlist:g,getApplicationListRefetch:q}=Te({data:{vid:l.vid,page:f,limit:10,search:d},skip:!l.vid});return i.useEffect(()=>{h&&y&&T(D=>D+1)},[h,y]),i.useEffect(()=>{l.vid&&(I(!0),q())},[f,l.vid,d,q]),i.useEffect(()=>{var D,E;d?(w(g==null?void 0:g.all_apps),I(!1)):t?(w(G=>[...new Set([...g==null?void 0:g.all_apps,...G].map(JSON.stringify))].map(JSON.parse)),I(!1),m(!1)):R?(w(G=>[...new Set([...g==null?void 0:g.all_apps].map(JSON.stringify))].map(JSON.parse)),I(!1),u(!1)):g!=null&&g.all_apps?(w(G=>[...new Set([...G,...g==null?void 0:g.all_apps].map(JSON.stringify))].map(JSON.parse)),I(!1)):((D=g==null?void 0:g.all_apps)==null?void 0:D.length)===0&&I(!1),((E=g==null?void 0:g.all_apps)==null?void 0:E.length)===10?_(!0):_(!1)},[g==null?void 0:g.all_apps]),console.info(b),e.jsxs("div",{className:c.vacancyDetails,children:[e.jsxs("div",{className:`${c.peventlefttop} ${c.peventlefttopflexleft}`,children:[e.jsx("img",{src:"/images/career/insCareer/arrow-left-white.svg",alt:"back",onClick:()=>s("")}),n("career_vacancies")]}),e.jsxs("div",{className:c.vacancyDetailsmid,children:[e.jsxs("div",{className:c.vacancyDetailsmidLeft,children:[e.jsx("img",{src:"/images/career/insCareer/career_job.svg"}),e.jsxs("div",{className:c.vacancyDetailsmidLeftRight,children:[e.jsx("h6",{className:c.insCareerCardsubject,children:(U=r==null?void 0:r.vacancy)==null?void 0:U.vacancy_position}),((P=r==null?void 0:r.vacancy)==null?void 0:P.department)&&e.jsx("p",{className:c.insCareerCarddept,children:(z=(B=r==null?void 0:r.vacancy)==null?void 0:B.department)==null?void 0:z.dName}),e.jsx("p",{className:c.insCareerCarddesig,children:(S=r==null?void 0:r.vacancy)==null?void 0:S.vacancy_job_type}),e.jsxs("p",{className:c.insCareerCarddesig,children:["Applications: ",(M=r==null?void 0:r.vacancy)==null?void 0:M.application_count]})]})]}),e.jsxs("div",{className:c.vacancyDetailsmiddesc,children:[e.jsxs("h6",{className:c.insCareerCardsubject,children:[n("jd_"),":"]}),e.jsx("p",{className:c.insCareerCarddept,children:((A=(H=r==null?void 0:r.vacancy)==null?void 0:H.vacancy_about)==null?void 0:A.length)>165?`${(ne=(te=r==null?void 0:r.vacancy)==null?void 0:te.vacancy_about)==null?void 0:ne.substring(0,165)}...`:(ae=r==null?void 0:r.vacancy)==null?void 0:ae.vacancy_about})]}),e.jsxs("div",{className:c.vacancyDetailsmidright,children:[e.jsx("img",{src:"/images/career/insCareer/edit_jd.svg"}),((re=r==null?void 0:r.vacancy)==null?void 0:re.vacancy_status)==="Ongoing"&&e.jsx("p",{onClick:()=>p(!0),children:n("mark_as_complete")})]})]}),e.jsx("div",{className:c.searchContainerr,children:e.jsxs("div",{className:c.searchContainer,children:[e.jsx("img",{alt:"",src:"/images/search-dept-icon.svg"}),e.jsx("input",{type:"text",placeholder:n("search-label"),required:!0})]})}),e.jsxs("div",{className:c.header,children:[e.jsx("div",{className:c.oneRowDate,children:e.jsx("p",{className:c.joinigDate,children:n("date")})}),e.jsx("div",{className:c.oneRowName,children:e.jsx("p",{className:c.name,children:n("name")})}),e.jsx("div",{className:c.oneRowContact,children:e.jsx("p",{className:c.contact,children:n("contact_number")})}),e.jsx("div",{className:` ${c.oneRowwIndex}`,children:e.jsx("p",{className:c.index,children:n("cv_resume")})})]}),e.jsxs("div",{className:c.container,children:[b==null?void 0:b.map((D,E)=>(b==null?void 0:b.length)===E+1?e.jsx("div",{ref:x,className:c.itemIcon,children:e.jsx(oe,{application:D,setStatus:s,vid:l==null?void 0:l.vid,lcid:l==null?void 0:l.lcid})},E):e.jsx("div",{className:c.itemIcon,children:e.jsx(oe,{application:D,setStatus:s,vid:l==null?void 0:l.vid,lcid:l==null?void 0:l.lcid})},E)),k&&e.jsx(se,{})]}),o&&e.jsx(Y,{}),N&&e.jsx(Hs,{open:N,setStatus:s,hideModal:D=>p(D),tid:l==null?void 0:l.vid,getVacancyDetailRefetch:j})]})}function Ws({lcid:s}){var m,R;const{t:n}=O(),l=F(u=>u.careerChange),[r,j]=i.useState(""),[o,v]=i.useState(""),[N,p]=i.useState(!1),[x,h]=i.useState(!1),[f,T]=i.useState(""),[d,C]=i.useState(""),[b,w]=i.useState(!1),{getCareerDetail:y,getCareerDetailRefetch:_}=Ie({lcid:s||(l==null?void 0:l.lcid),skip:s&&(l==null?void 0:l.lcid)}),t=u=>{const k=URL.createObjectURL(u.target.files[0]);v(u.target.files[0]),T(k),j(k),p(!0)};return e.jsxs("div",{className:J.mainbody,children:[e.jsx("div",{className:J.sidebar,children:e.jsx(be,{status:"post"})}),d===""&&e.jsxs("div",{className:J.careerstatusbody,children:[e.jsx(Ce,{coverKey:"2",defaultCover:"/images/profileAndCover/eventAdmin-cover.png",textLarge:n("career_mgt"),textSmall:"",count1:(m=y==null?void 0:y.career)==null?void 0:m.staff_vacancy_count,count1label:n("teaching_staff_vacancies"),count2:(R=y==null?void 0:y.career)==null?void 0:R.admin_vacancy_count,count2label:n("admin_vacancies"),profilePhoto:f,profileChange:t,openCrop:N,setOpenCrop:p,setPhotoURL:j,photoURL:r,setFile:v,setUpload:h,setProfilePhoto:T,status:"insCareer",coverUpdate:!1}),e.jsx(hs,{setStatus:C,lcid:s||(l==null?void 0:l.lcid),flag:b})]}),d==="openForm"&&e.jsx("div",{className:J.careerstatusbody,children:e.jsx(Qs,{getCareerDetailRefetch:_,setStatus:C,lcid:s||(l==null?void 0:l.lcid),setFlag:w,flag:b})}),d==="interviewForm"&&e.jsx("div",{className:J.careerstatusbody,children:e.jsx(Ys,{setStatus:C})}),d==="vacancyDetail"&&e.jsx("div",{className:J.careerstatusbody,children:e.jsx(Gs,{setStatus:C})})]})}function rt(){var n;const s=ge();return e.jsxs("div",{className:le.insDashboard,children:[e.jsx("div",{className:le.navbar,children:e.jsx(Ne,{status:"home"})}),e.jsx(Ws,{lcid:(n=s==null?void 0:s.state)==null?void 0:n.lcid})]})}export{rt as default};
